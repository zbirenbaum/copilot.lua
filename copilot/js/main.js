"use strict";var $Ve=Object.create;var sE=Object.defineProperty;var ime=Object.getOwnPropertyDescriptor;var zVe=Object.getOwnPropertyNames;var YVe=Object.getPrototypeOf,KVe=Object.prototype.hasOwnProperty;var rme=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),nme=e=>{throw TypeError(e)};var o=(e,t)=>sE(e,"name",{value:t,configurable:!0});var JVe=(e,t)=>()=>(e&&(t=e(e=0)),t);var j=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),x1=(e,t)=>{for(var r in t)sE(e,r,{get:t[r],enumerable:!0})},ome=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of zVe(t))!KVe.call(e,i)&&i!==r&&sE(e,i,{get:()=>t[i],enumerable:!(n=ime(t,i))||n.enumerable});return e};var et=(e,t,r)=>(r=e!=null?$Ve(YVe(e)):{},ome(t||!e||!e.__esModule?sE(r,"default",{value:e,enumerable:!0}):r,e)),ZVe=e=>ome(sE({},"__esModule",{value:!0}),e),Du=(e,t,r,n)=>{for(var i=n>1?void 0:n?ime(t,r):t,s=e.length-1,a;s>=0;s--)(a=e[s])&&(i=(n?a(t,r,i):a(i))||i);return n&&i&&sE(t,r,i),i},La=(e,t)=>(r,n)=>t(r,n,e);var zz=(e,t,r)=>{if(t!=null){typeof t!="object"&&typeof t!="function"&&nme("Object expected");var n,i;r&&(n=t[rme("asyncDispose")]),n===void 0&&(n=t[rme("dispose")],r&&(i=n)),typeof n!="function"&&nme("Object not disposable"),i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),e.push([r,n,t])}else r&&e.push([r]);return t},Yz=(e,t,r)=>{var n=typeof SuppressedError=="function"?SuppressedError:function(a,l,c,u){return u=Error(c),u.name="SuppressedError",u.error=a,u.suppressed=l,u},i=a=>t=r?new n(a,t,"An error was suppressed during disposal"):(r=!0,a),s=a=>{for(;a=e.pop();)try{var l=a[1]&&a[1].call(a[2]);if(a[0])return Promise.resolve(l).then(s,c=>(i(c),s()))}catch(c){i(c)}if(r)throw t};return s()};var importMetaUrlShim,d=JVe(()=>{"use strict";importMetaUrlShim=typeof document>"u"?require("node:url").pathToFileURL(__filename).href:importMetaUrlShim});var ame=j(Kz=>{d();var sme="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");Kz.encode=function(e){if(0<=e&&e<sme.length)return sme[e];throw new TypeError("Must be between 0 and 63: "+e)};Kz.decode=function(e){var t=65,r=90,n=97,i=122,s=48,a=57,l=43,c=47,u=26,f=52;return t<=e&&e<=r?e-t:n<=e&&e<=i?e-n+u:s<=e&&e<=a?e-s+f:e==l?62:e==c?63:-1}});var Xz=j(Zz=>{d();var lme=ame(),Jz=5,cme=1<<Jz,ume=cme-1,fme=cme;function XVe(e){return e<0?(-e<<1)+1:(e<<1)+0}o(XVe,"toVLQSigned");function e$e(e){var t=(e&1)===1,r=e>>1;return t?-r:r}o(e$e,"fromVLQSigned");Zz.encode=o(function(t){var r="",n,i=XVe(t);do n=i&ume,i>>>=Jz,i>0&&(n|=fme),r+=lme.encode(n);while(i>0);return r},"base64VLQ_encode");Zz.decode=o(function(t,r,n){var i=t.length,s=0,a=0,l,c;do{if(r>=i)throw new Error("Expected more digits in base 64 VLQ value.");if(c=lme.decode(t.charCodeAt(r++)),c===-1)throw new Error("Invalid base64 digit: "+t.charAt(r-1));l=!!(c&fme),c&=ume,s=s+(c<<a),a+=Jz}while(l);n.value=e$e(s),n.rest=r},"base64VLQ_decode")});var cE=j(bc=>{d();function t$e(e,t,r){if(t in e)return e[t];if(arguments.length===3)return r;throw new Error('"'+t+'" is a required argument.')}o(t$e,"getArg");bc.getArg=t$e;var dme=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,r$e=/^data:.+\,.+$/;function ST(e){var t=e.match(dme);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}o(ST,"urlParse");bc.urlParse=ST;function aE(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}o(aE,"urlGenerate");bc.urlGenerate=aE;function eY(e){var t=e,r=ST(e);if(r){if(!r.path)return e;t=r.path}for(var n=bc.isAbsolute(t),i=t.split(/\/+/),s,a=0,l=i.length-1;l>=0;l--)s=i[l],s==="."?i.splice(l,1):s===".."?a++:a>0&&(s===""?(i.splice(l+1,a),a=0):(i.splice(l,2),a--));return t=i.join("/"),t===""&&(t=n?"/":"."),r?(r.path=t,aE(r)):t}o(eY,"normalize");bc.normalize=eY;function mme(e,t){e===""&&(e="."),t===""&&(t=".");var r=ST(t),n=ST(e);if(n&&(e=n.path||"/"),r&&!r.scheme)return n&&(r.scheme=n.scheme),aE(r);if(r||t.match(r$e))return t;if(n&&!n.host&&!n.path)return n.host=t,aE(n);var i=t.charAt(0)==="/"?t:eY(e.replace(/\/+$/,"")+"/"+t);return n?(n.path=i,aE(n)):i}o(mme,"join");bc.join=mme;bc.isAbsolute=function(e){return e.charAt(0)==="/"||dme.test(e)};function n$e(e,t){e===""&&(e="."),e=e.replace(/\/$/,"");for(var r=0;t.indexOf(e+"/")!==0;){var n=e.lastIndexOf("/");if(n<0||(e=e.slice(0,n),e.match(/^([^\/]+:\/)?\/*$/)))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)}o(n$e,"relative");bc.relative=n$e;var hme=function(){var e=Object.create(null);return!("__proto__"in e)}();function pme(e){return e}o(pme,"identity");function i$e(e){return gme(e)?"$"+e:e}o(i$e,"toSetString");bc.toSetString=hme?pme:i$e;function o$e(e){return gme(e)?e.slice(1):e}o(o$e,"fromSetString");bc.fromSetString=hme?pme:o$e;function gme(e){if(!e)return!1;var t=e.length;if(t<9||e.charCodeAt(t-1)!==95||e.charCodeAt(t-2)!==95||e.charCodeAt(t-3)!==111||e.charCodeAt(t-4)!==116||e.charCodeAt(t-5)!==111||e.charCodeAt(t-6)!==114||e.charCodeAt(t-7)!==112||e.charCodeAt(t-8)!==95||e.charCodeAt(t-9)!==95)return!1;for(var r=t-10;r>=0;r--)if(e.charCodeAt(r)!==36)return!1;return!0}o(gme,"isProtoString");function s$e(e,t,r){var n=lE(e.source,t.source);return n!==0||(n=e.originalLine-t.originalLine,n!==0)||(n=e.originalColumn-t.originalColumn,n!==0||r)||(n=e.generatedColumn-t.generatedColumn,n!==0)||(n=e.generatedLine-t.generatedLine,n!==0)?n:lE(e.name,t.name)}o(s$e,"compareByOriginalPositions");bc.compareByOriginalPositions=s$e;function a$e(e,t,r){var n=e.generatedLine-t.generatedLine;return n!==0||(n=e.generatedColumn-t.generatedColumn,n!==0||r)||(n=lE(e.source,t.source),n!==0)||(n=e.originalLine-t.originalLine,n!==0)||(n=e.originalColumn-t.originalColumn,n!==0)?n:lE(e.name,t.name)}o(a$e,"compareByGeneratedPositionsDeflated");bc.compareByGeneratedPositionsDeflated=a$e;function lE(e,t){return e===t?0:e===null?1:t===null?-1:e>t?1:-1}o(lE,"strcmp");function l$e(e,t){var r=e.generatedLine-t.generatedLine;return r!==0||(r=e.generatedColumn-t.generatedColumn,r!==0)||(r=lE(e.source,t.source),r!==0)||(r=e.originalLine-t.originalLine,r!==0)||(r=e.originalColumn-t.originalColumn,r!==0)?r:lE(e.name,t.name)}o(l$e,"compareByGeneratedPositionsInflated");bc.compareByGeneratedPositionsInflated=l$e;function c$e(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))}o(c$e,"parseSourceMapInput");bc.parseSourceMapInput=c$e;function u$e(e,t,r){if(t=t||"",e&&(e[e.length-1]!=="/"&&t[0]!=="/"&&(e+="/"),t=e+t),r){var n=ST(r);if(!n)throw new Error("sourceMapURL could not be parsed");if(n.path){var i=n.path.lastIndexOf("/");i>=0&&(n.path=n.path.substring(0,i+1))}t=mme(aE(n),t)}return eY(t)}o(u$e,"computeSourceURL");bc.computeSourceURL=u$e});var nY=j(Ame=>{d();var tY=cE(),rY=Object.prototype.hasOwnProperty,H3=typeof Map<"u";function v1(){this._array=[],this._set=H3?new Map:Object.create(null)}o(v1,"ArraySet");v1.fromArray=o(function(t,r){for(var n=new v1,i=0,s=t.length;i<s;i++)n.add(t[i],r);return n},"ArraySet_fromArray");v1.prototype.size=o(function(){return H3?this._set.size:Object.getOwnPropertyNames(this._set).length},"ArraySet_size");v1.prototype.add=o(function(t,r){var n=H3?t:tY.toSetString(t),i=H3?this.has(t):rY.call(this._set,n),s=this._array.length;(!i||r)&&this._array.push(t),i||(H3?this._set.set(t,s):this._set[n]=s)},"ArraySet_add");v1.prototype.has=o(function(t){if(H3)return this._set.has(t);var r=tY.toSetString(t);return rY.call(this._set,r)},"ArraySet_has");v1.prototype.indexOf=o(function(t){if(H3){var r=this._set.get(t);if(r>=0)return r}else{var n=tY.toSetString(t);if(rY.call(this._set,n))return this._set[n]}throw new Error('"'+t+'" is not in the set.')},"ArraySet_indexOf");v1.prototype.at=o(function(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)},"ArraySet_at");v1.prototype.toArray=o(function(){return this._array.slice()},"ArraySet_toArray");Ame.ArraySet=v1});var xme=j(Cme=>{d();var yme=cE();function f$e(e,t){var r=e.generatedLine,n=t.generatedLine,i=e.generatedColumn,s=t.generatedColumn;return n>r||n==r&&s>=i||yme.compareByGeneratedPositionsInflated(e,t)<=0}o(f$e,"generatedPositionAfter");function ED(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}o(ED,"MappingList");ED.prototype.unsortedForEach=o(function(t,r){this._array.forEach(t,r)},"MappingList_forEach");ED.prototype.add=o(function(t){f$e(this._last,t)?(this._last=t,this._array.push(t)):(this._sorted=!1,this._array.push(t))},"MappingList_add");ED.prototype.toArray=o(function(){return this._sorted||(this._array.sort(yme.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},"MappingList_toArray");Cme.MappingList=ED});var iY=j(vme=>{d();var kT=Xz(),Qa=cE(),ID=nY().ArraySet,d$e=xme().MappingList;function Kf(e){e||(e={}),this._file=Qa.getArg(e,"file",null),this._sourceRoot=Qa.getArg(e,"sourceRoot",null),this._skipValidation=Qa.getArg(e,"skipValidation",!1),this._sources=new ID,this._names=new ID,this._mappings=new d$e,this._sourcesContents=null}o(Kf,"SourceMapGenerator");Kf.prototype._version=3;Kf.fromSourceMap=o(function(t){var r=t.sourceRoot,n=new Kf({file:t.file,sourceRoot:r});return t.eachMapping(function(i){var s={generated:{line:i.generatedLine,column:i.generatedColumn}};i.source!=null&&(s.source=i.source,r!=null&&(s.source=Qa.relative(r,s.source)),s.original={line:i.originalLine,column:i.originalColumn},i.name!=null&&(s.name=i.name)),n.addMapping(s)}),t.sources.forEach(function(i){var s=i;r!==null&&(s=Qa.relative(r,i)),n._sources.has(s)||n._sources.add(s);var a=t.sourceContentFor(i);a!=null&&n.setSourceContent(i,a)}),n},"SourceMapGenerator_fromSourceMap");Kf.prototype.addMapping=o(function(t){var r=Qa.getArg(t,"generated"),n=Qa.getArg(t,"original",null),i=Qa.getArg(t,"source",null),s=Qa.getArg(t,"name",null);this._skipValidation||this._validateMapping(r,n,i,s),i!=null&&(i=String(i),this._sources.has(i)||this._sources.add(i)),s!=null&&(s=String(s),this._names.has(s)||this._names.add(s)),this._mappings.add({generatedLine:r.line,generatedColumn:r.column,originalLine:n!=null&&n.line,originalColumn:n!=null&&n.column,source:i,name:s})},"SourceMapGenerator_addMapping");Kf.prototype.setSourceContent=o(function(t,r){var n=t;this._sourceRoot!=null&&(n=Qa.relative(this._sourceRoot,n)),r!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[Qa.toSetString(n)]=r):this._sourcesContents&&(delete this._sourcesContents[Qa.toSetString(n)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},"SourceMapGenerator_setSourceContent");Kf.prototype.applySourceMap=o(function(t,r,n){var i=r;if(r==null){if(t.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);i=t.file}var s=this._sourceRoot;s!=null&&(i=Qa.relative(s,i));var a=new ID,l=new ID;this._mappings.unsortedForEach(function(c){if(c.source===i&&c.originalLine!=null){var u=t.originalPositionFor({line:c.originalLine,column:c.originalColumn});u.source!=null&&(c.source=u.source,n!=null&&(c.source=Qa.join(n,c.source)),s!=null&&(c.source=Qa.relative(s,c.source)),c.originalLine=u.line,c.originalColumn=u.column,u.name!=null&&(c.name=u.name))}var f=c.source;f!=null&&!a.has(f)&&a.add(f);var m=c.name;m!=null&&!l.has(m)&&l.add(m)},this),this._sources=a,this._names=l,t.sources.forEach(function(c){var u=t.sourceContentFor(c);u!=null&&(n!=null&&(c=Qa.join(n,c)),s!=null&&(c=Qa.relative(s,c)),this.setSourceContent(c,u))},this)},"SourceMapGenerator_applySourceMap");Kf.prototype._validateMapping=o(function(t,r,n,i){if(r&&typeof r.line!="number"&&typeof r.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(t&&"line"in t&&"column"in t&&t.line>0&&t.column>=0&&!r&&!n&&!i)){if(t&&"line"in t&&"column"in t&&r&&"line"in r&&"column"in r&&t.line>0&&t.column>=0&&r.line>0&&r.column>=0&&n)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:t,source:n,original:r,name:i}))}},"SourceMapGenerator_validateMapping");Kf.prototype._serializeMappings=o(function(){for(var t=0,r=1,n=0,i=0,s=0,a=0,l="",c,u,f,m,h=this._mappings.toArray(),p=0,g=h.length;p<g;p++){if(u=h[p],c="",u.generatedLine!==r)for(t=0;u.generatedLine!==r;)c+=";",r++;else if(p>0){if(!Qa.compareByGeneratedPositionsInflated(u,h[p-1]))continue;c+=","}c+=kT.encode(u.generatedColumn-t),t=u.generatedColumn,u.source!=null&&(m=this._sources.indexOf(u.source),c+=kT.encode(m-a),a=m,c+=kT.encode(u.originalLine-1-i),i=u.originalLine-1,c+=kT.encode(u.originalColumn-n),n=u.originalColumn,u.name!=null&&(f=this._names.indexOf(u.name),c+=kT.encode(f-s),s=f)),l+=c}return l},"SourceMapGenerator_serializeMappings");Kf.prototype._generateSourcesContent=o(function(t,r){return t.map(function(n){if(!this._sourcesContents)return null;r!=null&&(n=Qa.relative(r,n));var i=Qa.toSetString(n);return Object.prototype.hasOwnProperty.call(this._sourcesContents,i)?this._sourcesContents[i]:null},this)},"SourceMapGenerator_generateSourcesContent");Kf.prototype.toJSON=o(function(){var t={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(t.file=this._file),this._sourceRoot!=null&&(t.sourceRoot=this._sourceRoot),this._sourcesContents&&(t.sourcesContent=this._generateSourcesContent(t.sources,t.sourceRoot)),t},"SourceMapGenerator_toJSON");Kf.prototype.toString=o(function(){return JSON.stringify(this.toJSON())},"SourceMapGenerator_toString");vme.SourceMapGenerator=Kf});var bme=j(j3=>{d();j3.GREATEST_LOWER_BOUND=1;j3.LEAST_UPPER_BOUND=2;function oY(e,t,r,n,i,s){var a=Math.floor((t-e)/2)+e,l=i(r,n[a],!0);return l===0?a:l>0?t-a>1?oY(a,t,r,n,i,s):s==j3.LEAST_UPPER_BOUND?t<n.length?t:-1:a:a-e>1?oY(e,a,r,n,i,s):s==j3.LEAST_UPPER_BOUND?a:e<0?-1:e}o(oY,"recursiveSearch");j3.search=o(function(t,r,n,i){if(r.length===0)return-1;var s=oY(-1,r.length,t,r,n,i||j3.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&n(r[s],r[s-1],!0)===0;)--s;return s},"search")});var Ime=j(Eme=>{d();function sY(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}o(sY,"swap");function m$e(e,t){return Math.round(e+Math.random()*(t-e))}o(m$e,"randomIntInRange");function aY(e,t,r,n){if(r<n){var i=m$e(r,n),s=r-1;sY(e,i,n);for(var a=e[n],l=r;l<n;l++)t(e[l],a)<=0&&(s+=1,sY(e,s,l));sY(e,s+1,l);var c=s+1;aY(e,t,r,c-1),aY(e,t,c+1,n)}}o(aY,"doQuickSort");Eme.quickSort=function(e,t){aY(e,t,0,e.length-1)}});var wme=j(TD=>{d();var Qr=cE(),lY=bme(),uE=nY().ArraySet,h$e=Xz(),RT=Ime().quickSort;function os(e,t){var r=e;return typeof e=="string"&&(r=Qr.parseSourceMapInput(e)),r.sections!=null?new Tm(r,t):new Yl(r,t)}o(os,"SourceMapConsumer");os.fromSourceMap=function(e,t){return Yl.fromSourceMap(e,t)};os.prototype._version=3;os.prototype.__generatedMappings=null;Object.defineProperty(os.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:o(function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings},"get")});os.prototype.__originalMappings=null;Object.defineProperty(os.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:o(function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings},"get")});os.prototype._charIsMappingSeparator=o(function(t,r){var n=t.charAt(r);return n===";"||n===","},"SourceMapConsumer_charIsMappingSeparator");os.prototype._parseMappings=o(function(t,r){throw new Error("Subclasses must implement _parseMappings")},"SourceMapConsumer_parseMappings");os.GENERATED_ORDER=1;os.ORIGINAL_ORDER=2;os.GREATEST_LOWER_BOUND=1;os.LEAST_UPPER_BOUND=2;os.prototype.eachMapping=o(function(t,r,n){var i=r||null,s=n||os.GENERATED_ORDER,a;switch(s){case os.GENERATED_ORDER:a=this._generatedMappings;break;case os.ORIGINAL_ORDER:a=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var l=this.sourceRoot;a.map(function(c){var u=c.source===null?null:this._sources.at(c.source);return u=Qr.computeSourceURL(l,u,this._sourceMapURL),{source:u,generatedLine:c.generatedLine,generatedColumn:c.generatedColumn,originalLine:c.originalLine,originalColumn:c.originalColumn,name:c.name===null?null:this._names.at(c.name)}},this).forEach(t,i)},"SourceMapConsumer_eachMapping");os.prototype.allGeneratedPositionsFor=o(function(t){var r=Qr.getArg(t,"line"),n={source:Qr.getArg(t,"source"),originalLine:r,originalColumn:Qr.getArg(t,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var i=[],s=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",Qr.compareByOriginalPositions,lY.LEAST_UPPER_BOUND);if(s>=0){var a=this._originalMappings[s];if(t.column===void 0)for(var l=a.originalLine;a&&a.originalLine===l;)i.push({line:Qr.getArg(a,"generatedLine",null),column:Qr.getArg(a,"generatedColumn",null),lastColumn:Qr.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s];else for(var c=a.originalColumn;a&&a.originalLine===r&&a.originalColumn==c;)i.push({line:Qr.getArg(a,"generatedLine",null),column:Qr.getArg(a,"generatedColumn",null),lastColumn:Qr.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s]}return i},"SourceMapConsumer_allGeneratedPositionsFor");TD.SourceMapConsumer=os;function Yl(e,t){var r=e;typeof e=="string"&&(r=Qr.parseSourceMapInput(e));var n=Qr.getArg(r,"version"),i=Qr.getArg(r,"sources"),s=Qr.getArg(r,"names",[]),a=Qr.getArg(r,"sourceRoot",null),l=Qr.getArg(r,"sourcesContent",null),c=Qr.getArg(r,"mappings"),u=Qr.getArg(r,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);a&&(a=Qr.normalize(a)),i=i.map(String).map(Qr.normalize).map(function(f){return a&&Qr.isAbsolute(a)&&Qr.isAbsolute(f)?Qr.relative(a,f):f}),this._names=uE.fromArray(s.map(String),!0),this._sources=uE.fromArray(i,!0),this._absoluteSources=this._sources.toArray().map(function(f){return Qr.computeSourceURL(a,f,t)}),this.sourceRoot=a,this.sourcesContent=l,this._mappings=c,this._sourceMapURL=t,this.file=u}o(Yl,"BasicSourceMapConsumer");Yl.prototype=Object.create(os.prototype);Yl.prototype.consumer=os;Yl.prototype._findSourceIndex=function(e){var t=e;if(this.sourceRoot!=null&&(t=Qr.relative(this.sourceRoot,t)),this._sources.has(t))return this._sources.indexOf(t);var r;for(r=0;r<this._absoluteSources.length;++r)if(this._absoluteSources[r]==e)return r;return-1};Yl.fromSourceMap=o(function(t,r){var n=Object.create(Yl.prototype),i=n._names=uE.fromArray(t._names.toArray(),!0),s=n._sources=uE.fromArray(t._sources.toArray(),!0);n.sourceRoot=t._sourceRoot,n.sourcesContent=t._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=t._file,n._sourceMapURL=r,n._absoluteSources=n._sources.toArray().map(function(p){return Qr.computeSourceURL(n.sourceRoot,p,r)});for(var a=t._mappings.toArray().slice(),l=n.__generatedMappings=[],c=n.__originalMappings=[],u=0,f=a.length;u<f;u++){var m=a[u],h=new Tme;h.generatedLine=m.generatedLine,h.generatedColumn=m.generatedColumn,m.source&&(h.source=s.indexOf(m.source),h.originalLine=m.originalLine,h.originalColumn=m.originalColumn,m.name&&(h.name=i.indexOf(m.name)),c.push(h)),l.push(h)}return RT(n.__originalMappings,Qr.compareByOriginalPositions),n},"SourceMapConsumer_fromSourceMap");Yl.prototype._version=3;Object.defineProperty(Yl.prototype,"sources",{get:o(function(){return this._absoluteSources.slice()},"get")});function Tme(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}o(Tme,"Mapping");Yl.prototype._parseMappings=o(function(t,r){for(var n=1,i=0,s=0,a=0,l=0,c=0,u=t.length,f=0,m={},h={},p=[],g=[],x,v,E,b,_;f<u;)if(t.charAt(f)===";")n++,f++,i=0;else if(t.charAt(f)===",")f++;else{for(x=new Tme,x.generatedLine=n,b=f;b<u&&!this._charIsMappingSeparator(t,b);b++);if(v=t.slice(f,b),E=m[v],E)f+=v.length;else{for(E=[];f<b;)h$e.decode(t,f,h),_=h.value,f=h.rest,E.push(_);if(E.length===2)throw new Error("Found a source, but no line and column");if(E.length===3)throw new Error("Found a source and line, but no column");m[v]=E}x.generatedColumn=i+E[0],i=x.generatedColumn,E.length>1&&(x.source=l+E[1],l+=E[1],x.originalLine=s+E[2],s=x.originalLine,x.originalLine+=1,x.originalColumn=a+E[3],a=x.originalColumn,E.length>4&&(x.name=c+E[4],c+=E[4])),g.push(x),typeof x.originalLine=="number"&&p.push(x)}RT(g,Qr.compareByGeneratedPositionsDeflated),this.__generatedMappings=g,RT(p,Qr.compareByOriginalPositions),this.__originalMappings=p},"SourceMapConsumer_parseMappings");Yl.prototype._findMapping=o(function(t,r,n,i,s,a){if(t[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+t[n]);if(t[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+t[i]);return lY.search(t,r,s,a)},"SourceMapConsumer_findMapping");Yl.prototype.computeColumnSpans=o(function(){for(var t=0;t<this._generatedMappings.length;++t){var r=this._generatedMappings[t];if(t+1<this._generatedMappings.length){var n=this._generatedMappings[t+1];if(r.generatedLine===n.generatedLine){r.lastGeneratedColumn=n.generatedColumn-1;continue}}r.lastGeneratedColumn=1/0}},"SourceMapConsumer_computeColumnSpans");Yl.prototype.originalPositionFor=o(function(t){var r={generatedLine:Qr.getArg(t,"line"),generatedColumn:Qr.getArg(t,"column")},n=this._findMapping(r,this._generatedMappings,"generatedLine","generatedColumn",Qr.compareByGeneratedPositionsDeflated,Qr.getArg(t,"bias",os.GREATEST_LOWER_BOUND));if(n>=0){var i=this._generatedMappings[n];if(i.generatedLine===r.generatedLine){var s=Qr.getArg(i,"source",null);s!==null&&(s=this._sources.at(s),s=Qr.computeSourceURL(this.sourceRoot,s,this._sourceMapURL));var a=Qr.getArg(i,"name",null);return a!==null&&(a=this._names.at(a)),{source:s,line:Qr.getArg(i,"originalLine",null),column:Qr.getArg(i,"originalColumn",null),name:a}}}return{source:null,line:null,column:null,name:null}},"SourceMapConsumer_originalPositionFor");Yl.prototype.hasContentsOfAllSources=o(function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(t){return t==null}):!1},"BasicSourceMapConsumer_hasContentsOfAllSources");Yl.prototype.sourceContentFor=o(function(t,r){if(!this.sourcesContent)return null;var n=this._findSourceIndex(t);if(n>=0)return this.sourcesContent[n];var i=t;this.sourceRoot!=null&&(i=Qr.relative(this.sourceRoot,i));var s;if(this.sourceRoot!=null&&(s=Qr.urlParse(this.sourceRoot))){var a=i.replace(/^file:\/\//,"");if(s.scheme=="file"&&this._sources.has(a))return this.sourcesContent[this._sources.indexOf(a)];if((!s.path||s.path=="/")&&this._sources.has("/"+i))return this.sourcesContent[this._sources.indexOf("/"+i)]}if(r)return null;throw new Error('"'+i+'" is not in the SourceMap.')},"SourceMapConsumer_sourceContentFor");Yl.prototype.generatedPositionFor=o(function(t){var r=Qr.getArg(t,"source");if(r=this._findSourceIndex(r),r<0)return{line:null,column:null,lastColumn:null};var n={source:r,originalLine:Qr.getArg(t,"line"),originalColumn:Qr.getArg(t,"column")},i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",Qr.compareByOriginalPositions,Qr.getArg(t,"bias",os.GREATEST_LOWER_BOUND));if(i>=0){var s=this._originalMappings[i];if(s.source===n.source)return{line:Qr.getArg(s,"generatedLine",null),column:Qr.getArg(s,"generatedColumn",null),lastColumn:Qr.getArg(s,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},"SourceMapConsumer_generatedPositionFor");TD.BasicSourceMapConsumer=Yl;function Tm(e,t){var r=e;typeof e=="string"&&(r=Qr.parseSourceMapInput(e));var n=Qr.getArg(r,"version"),i=Qr.getArg(r,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new uE,this._names=new uE;var s={line:-1,column:0};this._sections=i.map(function(a){if(a.url)throw new Error("Support for url field in sections not implemented.");var l=Qr.getArg(a,"offset"),c=Qr.getArg(l,"line"),u=Qr.getArg(l,"column");if(c<s.line||c===s.line&&u<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");return s=l,{generatedOffset:{generatedLine:c+1,generatedColumn:u+1},consumer:new os(Qr.getArg(a,"map"),t)}})}o(Tm,"IndexedSourceMapConsumer");Tm.prototype=Object.create(os.prototype);Tm.prototype.constructor=os;Tm.prototype._version=3;Object.defineProperty(Tm.prototype,"sources",{get:o(function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e},"get")});Tm.prototype.originalPositionFor=o(function(t){var r={generatedLine:Qr.getArg(t,"line"),generatedColumn:Qr.getArg(t,"column")},n=lY.search(r,this._sections,function(s,a){var l=s.generatedLine-a.generatedOffset.generatedLine;return l||s.generatedColumn-a.generatedOffset.generatedColumn}),i=this._sections[n];return i?i.consumer.originalPositionFor({line:r.generatedLine-(i.generatedOffset.generatedLine-1),column:r.generatedColumn-(i.generatedOffset.generatedLine===r.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:t.bias}):{source:null,line:null,column:null,name:null}},"IndexedSourceMapConsumer_originalPositionFor");Tm.prototype.hasContentsOfAllSources=o(function(){return this._sections.every(function(t){return t.consumer.hasContentsOfAllSources()})},"IndexedSourceMapConsumer_hasContentsOfAllSources");Tm.prototype.sourceContentFor=o(function(t,r){for(var n=0;n<this._sections.length;n++){var i=this._sections[n],s=i.consumer.sourceContentFor(t,!0);if(s)return s}if(r)return null;throw new Error('"'+t+'" is not in the SourceMap.')},"IndexedSourceMapConsumer_sourceContentFor");Tm.prototype.generatedPositionFor=o(function(t){for(var r=0;r<this._sections.length;r++){var n=this._sections[r];if(n.consumer._findSourceIndex(Qr.getArg(t,"source"))!==-1){var i=n.consumer.generatedPositionFor(t);if(i){var s={line:i.line+(n.generatedOffset.generatedLine-1),column:i.column+(n.generatedOffset.generatedLine===i.line?n.generatedOffset.generatedColumn-1:0)};return s}}}return{line:null,column:null}},"IndexedSourceMapConsumer_generatedPositionFor");Tm.prototype._parseMappings=o(function(t,r){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var i=this._sections[n],s=i.consumer._generatedMappings,a=0;a<s.length;a++){var l=s[a],c=i.consumer._sources.at(l.source);c=Qr.computeSourceURL(i.consumer.sourceRoot,c,this._sourceMapURL),this._sources.add(c),c=this._sources.indexOf(c);var u=null;l.name&&(u=i.consumer._names.at(l.name),this._names.add(u),u=this._names.indexOf(u));var f={source:c,generatedLine:l.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:l.generatedColumn+(i.generatedOffset.generatedLine===l.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:l.originalLine,originalColumn:l.originalColumn,name:u};this.__generatedMappings.push(f),typeof f.originalLine=="number"&&this.__originalMappings.push(f)}RT(this.__generatedMappings,Qr.compareByGeneratedPositionsDeflated),RT(this.__originalMappings,Qr.compareByOriginalPositions)},"IndexedSourceMapConsumer_parseMappings");TD.IndexedSourceMapConsumer=Tm});var Sme=j(_me=>{d();var p$e=iY().SourceMapGenerator,wD=cE(),g$e=/(\r?\n)/,A$e=10,fE="$$$isSourceNode$$$";function Pu(e,t,r,n,i){this.children=[],this.sourceContents={},this.line=e??null,this.column=t??null,this.source=r??null,this.name=i??null,this[fE]=!0,n!=null&&this.add(n)}o(Pu,"SourceNode");Pu.fromStringWithSourceMap=o(function(t,r,n){var i=new Pu,s=t.split(g$e),a=0,l=o(function(){var h=g(),p=g()||"";return h+p;function g(){return a<s.length?s[a++]:void 0}},"shiftNextLine"),c=1,u=0,f=null;return r.eachMapping(function(h){if(f!==null)if(c<h.generatedLine)m(f,l()),c++,u=0;else{var p=s[a]||"",g=p.substr(0,h.generatedColumn-u);s[a]=p.substr(h.generatedColumn-u),u=h.generatedColumn,m(f,g),f=h;return}for(;c<h.generatedLine;)i.add(l()),c++;if(u<h.generatedColumn){var p=s[a]||"";i.add(p.substr(0,h.generatedColumn)),s[a]=p.substr(h.generatedColumn),u=h.generatedColumn}f=h},this),a<s.length&&(f&&m(f,l()),i.add(s.splice(a).join(""))),r.sources.forEach(function(h){var p=r.sourceContentFor(h);p!=null&&(n!=null&&(h=wD.join(n,h)),i.setSourceContent(h,p))}),i;function m(h,p){if(h===null||h.source===void 0)i.add(p);else{var g=n?wD.join(n,h.source):h.source;i.add(new Pu(h.originalLine,h.originalColumn,g,p,h.name))}}o(m,"addMappingWithCode")},"SourceNode_fromStringWithSourceMap");Pu.prototype.add=o(function(t){if(Array.isArray(t))t.forEach(function(r){this.add(r)},this);else if(t[fE]||typeof t=="string")t&&this.children.push(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_add");Pu.prototype.prepend=o(function(t){if(Array.isArray(t))for(var r=t.length-1;r>=0;r--)this.prepend(t[r]);else if(t[fE]||typeof t=="string")this.children.unshift(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_prepend");Pu.prototype.walk=o(function(t){for(var r,n=0,i=this.children.length;n<i;n++)r=this.children[n],r[fE]?r.walk(t):r!==""&&t(r,{source:this.source,line:this.line,column:this.column,name:this.name})},"SourceNode_walk");Pu.prototype.join=o(function(t){var r,n,i=this.children.length;if(i>0){for(r=[],n=0;n<i-1;n++)r.push(this.children[n]),r.push(t);r.push(this.children[n]),this.children=r}return this},"SourceNode_join");Pu.prototype.replaceRight=o(function(t,r){var n=this.children[this.children.length-1];return n[fE]?n.replaceRight(t,r):typeof n=="string"?this.children[this.children.length-1]=n.replace(t,r):this.children.push("".replace(t,r)),this},"SourceNode_replaceRight");Pu.prototype.setSourceContent=o(function(t,r){this.sourceContents[wD.toSetString(t)]=r},"SourceNode_setSourceContent");Pu.prototype.walkSourceContents=o(function(t){for(var r=0,n=this.children.length;r<n;r++)this.children[r][fE]&&this.children[r].walkSourceContents(t);for(var i=Object.keys(this.sourceContents),r=0,n=i.length;r<n;r++)t(wD.fromSetString(i[r]),this.sourceContents[i[r]])},"SourceNode_walkSourceContents");Pu.prototype.toString=o(function(){var t="";return this.walk(function(r){t+=r}),t},"SourceNode_toString");Pu.prototype.toStringWithSourceMap=o(function(t){var r={code:"",line:1,column:0},n=new p$e(t),i=!1,s=null,a=null,l=null,c=null;return this.walk(function(u,f){r.code+=u,f.source!==null&&f.line!==null&&f.column!==null?((s!==f.source||a!==f.line||l!==f.column||c!==f.name)&&n.addMapping({source:f.source,original:{line:f.line,column:f.column},generated:{line:r.line,column:r.column},name:f.name}),s=f.source,a=f.line,l=f.column,c=f.name,i=!0):i&&(n.addMapping({generated:{line:r.line,column:r.column}}),s=null,i=!1);for(var m=0,h=u.length;m<h;m++)u.charCodeAt(m)===A$e?(r.line++,r.column=0,m+1===h?(s=null,i=!1):i&&n.addMapping({source:f.source,original:{line:f.line,column:f.column},generated:{line:r.line,column:r.column},name:f.name})):r.column++}),this.walkSourceContents(function(u,f){n.setSourceContent(u,f)}),{code:r.code,map:n}},"SourceNode_toStringWithSourceMap");_me.SourceNode=Pu});var kme=j(_D=>{d();_D.SourceMapGenerator=iY().SourceMapGenerator;_D.SourceMapConsumer=wme().SourceMapConsumer;_D.SourceNode=Sme().SourceNode});var Bme=j((ZUt,Rme)=>{d();var y$e=Object.prototype.toString,cY=typeof Buffer<"u"&&typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function C$e(e){return y$e.call(e).slice(8,-1)==="ArrayBuffer"}o(C$e,"isArrayBuffer");function x$e(e,t,r){t>>>=0;var n=e.byteLength-t;if(n<0)throw new RangeError("'offset' is out of bounds");if(r===void 0)r=n;else if(r>>>=0,r>n)throw new RangeError("'length' is out of bounds");return cY?Buffer.from(e.slice(t,t+r)):new Buffer(new Uint8Array(e.slice(t,t+r)))}o(x$e,"fromArrayBuffer");function v$e(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!Buffer.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return cY?Buffer.from(e,t):new Buffer(e,t)}o(v$e,"fromString");function b$e(e,t,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return C$e(e)?x$e(e,t,r):typeof e=="string"?v$e(e,t):cY?Buffer.from(e):new Buffer(e)}o(b$e,"bufferFrom");Rme.exports=b$e});var Ome=j(($3,mY)=>{d();var E$e=kme().SourceMapConsumer,uY=require("path"),xp;try{xp=require("fs"),(!xp.existsSync||!xp.readFileSync)&&(xp=null)}catch{}var I$e=Bme();function Dme(e,t){return e.require(t)}o(Dme,"dynamicRequire");var Pme=!1,Fme=!1,fY=!1,BT="auto",V3={},DT={},T$e=/^data:application\/json[^,]+base64,/,xy=[],vy=[];function hY(){return BT==="browser"?!0:BT==="node"?!1:typeof window<"u"&&typeof XMLHttpRequest=="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}o(hY,"isInBrowser");function w$e(){return typeof process=="object"&&process!==null&&typeof process.on=="function"}o(w$e,"hasGlobalProcessEventEmitter");function _$e(){return typeof process=="object"&&process!==null?process.version:""}o(_$e,"globalProcessVersion");function S$e(){if(typeof process=="object"&&process!==null)return process.stderr}o(S$e,"globalProcessStderr");function k$e(e){if(typeof process=="object"&&process!==null&&typeof process.exit=="function")return process.exit(e)}o(k$e,"globalProcessExit");function SD(e){return function(t){for(var r=0;r<e.length;r++){var n=e[r](t);if(n)return n}return null}}o(SD,"handlerExec");var pY=SD(xy);xy.push(function(e){if(e=e.trim(),/^file:/.test(e)&&(e=e.replace(/file:\/\/\/(\w:)?/,function(n,i){return i?"":"/"})),e in V3)return V3[e];var t="";try{if(xp)xp.existsSync(e)&&(t=xp.readFileSync(e,"utf8"));else{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),r.readyState===4&&r.status===200&&(t=r.responseText)}}catch{}return V3[e]=t});function dY(e,t){if(!e)return t;var r=uY.dirname(e),n=/^\w+:\/\/[^\/]*/.exec(r),i=n?n[0]:"",s=r.slice(i.length);return i&&/^\/\w\:/.test(s)?(i+="/",i+uY.resolve(r.slice(i.length),t).replace(/\\/g,"/")):i+uY.resolve(r.slice(i.length),t)}o(dY,"supportRelativeURL");function R$e(e){var t;if(hY())try{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),t=r.readyState===4?r.responseText:null;var n=r.getResponseHeader("SourceMap")||r.getResponseHeader("X-SourceMap");if(n)return n}catch{}t=pY(e);for(var i=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,s,a;a=i.exec(t);)s=a;return s?s[1]:null}o(R$e,"retrieveSourceMapURL");var gY=SD(vy);vy.push(function(e){var t=R$e(e);if(!t)return null;var r;if(T$e.test(t)){var n=t.slice(t.indexOf(",")+1);r=I$e(n,"base64").toString(),t=e}else t=dY(e,t),r=pY(t);return r?{url:t,map:r}:null});function AY(e){var t=DT[e.source];if(!t){var r=gY(e.source);r?(t=DT[e.source]={url:r.url,map:new E$e(r.map)},t.map.sourcesContent&&t.map.sources.forEach(function(i,s){var a=t.map.sourcesContent[s];if(a){var l=dY(t.url,i);V3[l]=a}})):t=DT[e.source]={url:null,map:null}}if(t&&t.map&&typeof t.map.originalPositionFor=="function"){var n=t.map.originalPositionFor(e);if(n.source!==null)return n.source=dY(t.url,n.source),n}return e}o(AY,"mapSourcePosition");function Lme(e){var t=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(e);if(t){var r=AY({source:t[2],line:+t[3],column:t[4]-1});return"eval at "+t[1]+" ("+r.source+":"+r.line+":"+(r.column+1)+")"}return t=/^eval at ([^(]+) \((.+)\)$/.exec(e),t?"eval at "+t[1]+" ("+Lme(t[2])+")":e}o(Lme,"mapEvalOrigin");function B$e(){var e,t="";if(this.isNative())t="native";else{e=this.getScriptNameOrSourceURL(),!e&&this.isEval()&&(t=this.getEvalOrigin(),t+=", "),e?t+=e:t+="<anonymous>";var r=this.getLineNumber();if(r!=null){t+=":"+r;var n=this.getColumnNumber();n&&(t+=":"+n)}}var i="",s=this.getFunctionName(),a=!0,l=this.isConstructor(),c=!(this.isToplevel()||l);if(c){var u=this.getTypeName();u==="[object Object]"&&(u="null");var f=this.getMethodName();s?(u&&s.indexOf(u)!=0&&(i+=u+"."),i+=s,f&&s.indexOf("."+f)!=s.length-f.length-1&&(i+=" [as "+f+"]")):i+=u+"."+(f||"<anonymous>")}else l?i+="new "+(s||"<anonymous>"):s?i+=s:(i+=t,a=!1);return a&&(i+=" ("+t+")"),i}o(B$e,"CallSiteToString");function Nme(e){var t={};return Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(function(r){t[r]=/^(?:is|get)/.test(r)?function(){return e[r].call(e)}:e[r]}),t.toString=B$e,t}o(Nme,"cloneCallSite");function Qme(e,t){if(t===void 0&&(t={nextPosition:null,curPosition:null}),e.isNative())return t.curPosition=null,e;var r=e.getFileName()||e.getScriptNameOrSourceURL();if(r){var n=e.getLineNumber(),i=e.getColumnNumber()-1,s=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,a=s.test(_$e())?0:62;n===1&&i>a&&!hY()&&!e.isEval()&&(i-=a);var l=AY({source:r,line:n,column:i});t.curPosition=l,e=Nme(e);var c=e.getFunctionName;return e.getFunctionName=function(){return t.nextPosition==null?c():t.nextPosition.name||c()},e.getFileName=function(){return l.source},e.getLineNumber=function(){return l.line},e.getColumnNumber=function(){return l.column+1},e.getScriptNameOrSourceURL=function(){return l.source},e}var u=e.isEval()&&e.getEvalOrigin();return u&&(u=Lme(u),e=Nme(e),e.getEvalOrigin=function(){return u}),e}o(Qme,"wrapCallSite");function D$e(e,t){fY&&(V3={},DT={});for(var r=e.name||"Error",n=e.message||"",i=r+": "+n,s={nextPosition:null,curPosition:null},a=[],l=t.length-1;l>=0;l--)a.push(`
    at `+Qme(t[l],s)),s.nextPosition=s.curPosition;return s.curPosition=s.nextPosition=null,i+a.reverse().join("")}o(D$e,"prepareStackTrace");function Mme(e){var t=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(e.stack);if(t){var r=t[1],n=+t[2],i=+t[3],s=V3[r];if(!s&&xp&&xp.existsSync(r))try{s=xp.readFileSync(r,"utf8")}catch{s=""}if(s){var a=s.split(/(?:\r\n|\r|\n)/)[n-1];if(a)return r+":"+n+`
`+a+`
`+new Array(i).join(" ")+"^"}}return null}o(Mme,"getErrorSource");function P$e(e){var t=Mme(e),r=S$e();r&&r._handle&&r._handle.setBlocking&&r._handle.setBlocking(!0),t&&(console.error(),console.error(t)),console.error(e.stack),k$e(1)}o(P$e,"printErrorAndExit");function F$e(){var e=process.emit;process.emit=function(t){if(t==="uncaughtException"){var r=arguments[1]&&arguments[1].stack,n=this.listeners(t).length>0;if(r&&!n)return P$e(arguments[1])}return e.apply(this,arguments)}}o(F$e,"shimEmitUncaughtException");var N$e=xy.slice(0),L$e=vy.slice(0);$3.wrapCallSite=Qme;$3.getErrorSource=Mme;$3.mapSourcePosition=AY;$3.retrieveSourceMap=gY;$3.install=function(e){if(e=e||{},e.environment&&(BT=e.environment,["node","browser","auto"].indexOf(BT)===-1))throw new Error("environment "+BT+" was unknown. Available options are {auto, browser, node}");if(e.retrieveFile&&(e.overrideRetrieveFile&&(xy.length=0),xy.unshift(e.retrieveFile)),e.retrieveSourceMap&&(e.overrideRetrieveSourceMap&&(vy.length=0),vy.unshift(e.retrieveSourceMap)),e.hookRequire&&!hY()){var t=Dme(mY,"module"),r=t.prototype._compile;r.__sourceMapSupport||(t.prototype._compile=function(s,a){return V3[a]=s,DT[a]=void 0,r.call(this,s,a)},t.prototype._compile.__sourceMapSupport=!0)}if(fY||(fY="emptyCacheBetweenOperations"in e?e.emptyCacheBetweenOperations:!1),Pme||(Pme=!0,Error.prepareStackTrace=D$e),!Fme){var n="handleUncaughtExceptions"in e?e.handleUncaughtExceptions:!0;try{var i=Dme(mY,"worker_threads");i.isMainThread===!1&&(n=!1)}catch{}n&&w$e()&&(Fme=!0,F$e())}};$3.resetRetrieveHandlers=function(){xy.length=0,vy.length=0,xy=N$e.slice(0),vy=L$e.slice(0),gY=SD(vy),pY=SD(xy)}});var ki=j((kD,Ume)=>{d();(function(e,t){typeof kD=="object"?Ume.exports=kD=t():typeof define=="function"&&define.amd?define([],t):e.CryptoJS=t()})(kD,function(){var e=e||function(t,r){var n;if(typeof window<"u"&&window.crypto&&(n=window.crypto),typeof self<"u"&&self.crypto&&(n=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(n=globalThis.crypto),!n&&typeof window<"u"&&window.msCrypto&&(n=window.msCrypto),!n&&typeof global<"u"&&global.crypto&&(n=global.crypto),!n&&typeof require=="function")try{n=require("crypto")}catch{}var i=o(function(){if(n){if(typeof n.getRandomValues=="function")try{return n.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof n.randomBytes=="function")try{return n.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},"cryptoSecureRandomInt"),s=Object.create||function(){function E(){}return o(E,"F"),function(b){var _;return E.prototype=b,_=new E,E.prototype=null,_}}(),a={},l=a.lib={},c=l.Base=function(){return{extend:o(function(E){var b=s(this);return E&&b.mixIn(E),(!b.hasOwnProperty("init")||this.init===b.init)&&(b.init=function(){b.$super.init.apply(this,arguments)}),b.init.prototype=b,b.$super=this,b},"extend"),create:o(function(){var E=this.extend();return E.init.apply(E,arguments),E},"create"),init:o(function(){},"init"),mixIn:o(function(E){for(var b in E)E.hasOwnProperty(b)&&(this[b]=E[b]);E.hasOwnProperty("toString")&&(this.toString=E.toString)},"mixIn"),clone:o(function(){return this.init.prototype.extend(this)},"clone")}}(),u=l.WordArray=c.extend({init:o(function(E,b){E=this.words=E||[],b!=r?this.sigBytes=b:this.sigBytes=E.length*4},"init"),toString:o(function(E){return(E||m).stringify(this)},"toString"),concat:o(function(E){var b=this.words,_=E.words,R=this.sigBytes,P=E.sigBytes;if(this.clamp(),R%4)for(var F=0;F<P;F++){var G=_[F>>>2]>>>24-F%4*8&255;b[R+F>>>2]|=G<<24-(R+F)%4*8}else for(var se=0;se<P;se+=4)b[R+se>>>2]=_[se>>>2];return this.sigBytes+=P,this},"concat"),clamp:o(function(){var E=this.words,b=this.sigBytes;E[b>>>2]&=4294967295<<32-b%4*8,E.length=t.ceil(b/4)},"clamp"),clone:o(function(){var E=c.clone.call(this);return E.words=this.words.slice(0),E},"clone"),random:o(function(E){for(var b=[],_=0;_<E;_+=4)b.push(i());return new u.init(b,E)},"random")}),f=a.enc={},m=f.Hex={stringify:o(function(E){for(var b=E.words,_=E.sigBytes,R=[],P=0;P<_;P++){var F=b[P>>>2]>>>24-P%4*8&255;R.push((F>>>4).toString(16)),R.push((F&15).toString(16))}return R.join("")},"stringify"),parse:o(function(E){for(var b=E.length,_=[],R=0;R<b;R+=2)_[R>>>3]|=parseInt(E.substr(R,2),16)<<24-R%8*4;return new u.init(_,b/2)},"parse")},h=f.Latin1={stringify:o(function(E){for(var b=E.words,_=E.sigBytes,R=[],P=0;P<_;P++){var F=b[P>>>2]>>>24-P%4*8&255;R.push(String.fromCharCode(F))}return R.join("")},"stringify"),parse:o(function(E){for(var b=E.length,_=[],R=0;R<b;R++)_[R>>>2]|=(E.charCodeAt(R)&255)<<24-R%4*8;return new u.init(_,b)},"parse")},p=f.Utf8={stringify:o(function(E){try{return decodeURIComponent(escape(h.stringify(E)))}catch{throw new Error("Malformed UTF-8 data")}},"stringify"),parse:o(function(E){return h.parse(unescape(encodeURIComponent(E)))},"parse")},g=l.BufferedBlockAlgorithm=c.extend({reset:o(function(){this._data=new u.init,this._nDataBytes=0},"reset"),_append:o(function(E){typeof E=="string"&&(E=p.parse(E)),this._data.concat(E),this._nDataBytes+=E.sigBytes},"_append"),_process:o(function(E){var b,_=this._data,R=_.words,P=_.sigBytes,F=this.blockSize,G=F*4,se=P/G;E?se=t.ceil(se):se=t.max((se|0)-this._minBufferSize,0);var Ae=se*F,re=t.min(Ae*4,P);if(Ae){for(var W=0;W<Ae;W+=F)this._doProcessBlock(R,W);b=R.splice(0,Ae),_.sigBytes-=re}return new u.init(b,re)},"_process"),clone:o(function(){var E=c.clone.call(this);return E._data=this._data.clone(),E},"clone"),_minBufferSize:0}),x=l.Hasher=g.extend({cfg:c.extend(),init:o(function(E){this.cfg=this.cfg.extend(E),this.reset()},"init"),reset:o(function(){g.reset.call(this),this._doReset()},"reset"),update:o(function(E){return this._append(E),this._process(),this},"update"),finalize:o(function(E){E&&this._append(E);var b=this._doFinalize();return b},"finalize"),blockSize:512/32,_createHelper:o(function(E){return function(b,_){return new E.init(_).finalize(b)}},"_createHelper"),_createHmacHelper:o(function(E){return function(b,_){return new v.HMAC.init(E,_).finalize(b)}},"_createHmacHelper")}),v=a.algo={};return a}(Math);return e})});var FT=j((RD,qme)=>{d();(function(e,t){typeof RD=="object"?qme.exports=RD=t(ki()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(RD,function(e){return function(t){var r=e,n=r.lib,i=n.Base,s=n.WordArray,a=r.x64={},l=a.Word=i.extend({init:o(function(u,f){this.high=u,this.low=f},"init")}),c=a.WordArray=i.extend({init:o(function(u,f){u=this.words=u||[],f!=t?this.sigBytes=f:this.sigBytes=u.length*8},"init"),toX32:o(function(){for(var u=this.words,f=u.length,m=[],h=0;h<f;h++){var p=u[h];m.push(p.high),m.push(p.low)}return s.create(m,this.sigBytes)},"toX32"),clone:o(function(){for(var u=i.clone.call(this),f=u.words=this.words.slice(0),m=f.length,h=0;h<m;h++)f[h]=f[h].clone();return u},"clone")})}(),e})});var Gme=j((BD,Wme)=>{d();(function(e,t){typeof BD=="object"?Wme.exports=BD=t(ki()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(BD,function(e){return function(){if(typeof ArrayBuffer=="function"){var t=e,r=t.lib,n=r.WordArray,i=n.init,s=n.init=function(a){if(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),(a instanceof Int8Array||typeof Uint8ClampedArray<"u"&&a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array)&&(a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength)),a instanceof Uint8Array){for(var l=a.byteLength,c=[],u=0;u<l;u++)c[u>>>2]|=a[u]<<24-u%4*8;i.call(this,c,l)}else i.apply(this,arguments)};s.prototype=n}}(),e.lib.WordArray})});var jme=j((DD,Hme)=>{d();(function(e,t){typeof DD=="object"?Hme.exports=DD=t(ki()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(DD,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,s=i.Utf16=i.Utf16BE={stringify:o(function(l){for(var c=l.words,u=l.sigBytes,f=[],m=0;m<u;m+=2){var h=c[m>>>2]>>>16-m%4*8&65535;f.push(String.fromCharCode(h))}return f.join("")},"stringify"),parse:o(function(l){for(var c=l.length,u=[],f=0;f<c;f++)u[f>>>1]|=l.charCodeAt(f)<<16-f%2*16;return n.create(u,c*2)},"parse")};i.Utf16LE={stringify:o(function(l){for(var c=l.words,u=l.sigBytes,f=[],m=0;m<u;m+=2){var h=a(c[m>>>2]>>>16-m%4*8&65535);f.push(String.fromCharCode(h))}return f.join("")},"stringify"),parse:o(function(l){for(var c=l.length,u=[],f=0;f<c;f++)u[f>>>1]|=a(l.charCodeAt(f)<<16-f%2*16);return n.create(u,c*2)},"parse")};function a(l){return l<<8&4278255360|l>>>8&16711935}o(a,"swapEndian")}(),e.enc.Utf16})});var by=j((PD,Vme)=>{d();(function(e,t){typeof PD=="object"?Vme.exports=PD=t(ki()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(PD,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,s=i.Base64={stringify:o(function(l){var c=l.words,u=l.sigBytes,f=this._map;l.clamp();for(var m=[],h=0;h<u;h+=3)for(var p=c[h>>>2]>>>24-h%4*8&255,g=c[h+1>>>2]>>>24-(h+1)%4*8&255,x=c[h+2>>>2]>>>24-(h+2)%4*8&255,v=p<<16|g<<8|x,E=0;E<4&&h+E*.75<u;E++)m.push(f.charAt(v>>>6*(3-E)&63));var b=f.charAt(64);if(b)for(;m.length%4;)m.push(b);return m.join("")},"stringify"),parse:o(function(l){var c=l.length,u=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var m=0;m<u.length;m++)f[u.charCodeAt(m)]=m}var h=u.charAt(64);if(h){var p=l.indexOf(h);p!==-1&&(c=p)}return a(l,c,f)},"parse"),_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,c,u){for(var f=[],m=0,h=0;h<c;h++)if(h%4){var p=u[l.charCodeAt(h-1)]<<h%4*2,g=u[l.charCodeAt(h)]>>>6-h%4*2,x=p|g;f[m>>>2]|=x<<24-m%4*8,m++}return n.create(f,m)}o(a,"parseLoop")}(),e.enc.Base64})});var zme=j((FD,$me)=>{d();(function(e,t){typeof FD=="object"?$me.exports=FD=t(ki()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(FD,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,s=i.Base64url={stringify:o(function(l,c){c===void 0&&(c=!0);var u=l.words,f=l.sigBytes,m=c?this._safe_map:this._map;l.clamp();for(var h=[],p=0;p<f;p+=3)for(var g=u[p>>>2]>>>24-p%4*8&255,x=u[p+1>>>2]>>>24-(p+1)%4*8&255,v=u[p+2>>>2]>>>24-(p+2)%4*8&255,E=g<<16|x<<8|v,b=0;b<4&&p+b*.75<f;b++)h.push(m.charAt(E>>>6*(3-b)&63));var _=m.charAt(64);if(_)for(;h.length%4;)h.push(_);return h.join("")},"stringify"),parse:o(function(l,c){c===void 0&&(c=!0);var u=l.length,f=c?this._safe_map:this._map,m=this._reverseMap;if(!m){m=this._reverseMap=[];for(var h=0;h<f.length;h++)m[f.charCodeAt(h)]=h}var p=f.charAt(64);if(p){var g=l.indexOf(p);g!==-1&&(u=g)}return a(l,u,m)},"parse"),_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,c,u){for(var f=[],m=0,h=0;h<c;h++)if(h%4){var p=u[l.charCodeAt(h-1)]<<h%4*2,g=u[l.charCodeAt(h)]>>>6-h%4*2,x=p|g;f[m>>>2]|=x<<24-m%4*8,m++}return n.create(f,m)}o(a,"parseLoop")}(),e.enc.Base64url})});var Ey=j((ND,Yme)=>{d();(function(e,t){typeof ND=="object"?Yme.exports=ND=t(ki()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(ND,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.algo,l=[];(function(){for(var p=0;p<64;p++)l[p]=t.abs(t.sin(p+1))*4294967296|0})();var c=a.MD5=s.extend({_doReset:o(function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},"_doReset"),_doProcessBlock:o(function(p,g){for(var x=0;x<16;x++){var v=g+x,E=p[v];p[v]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360}var b=this._hash.words,_=p[g+0],R=p[g+1],P=p[g+2],F=p[g+3],G=p[g+4],se=p[g+5],Ae=p[g+6],re=p[g+7],W=p[g+8],q=p[g+9],oe=p[g+10],X=p[g+11],H=p[g+12],O=p[g+13],V=p[g+14],J=p[g+15],ae=b[0],te=b[1],le=b[2],ce=b[3];ae=u(ae,te,le,ce,_,7,l[0]),ce=u(ce,ae,te,le,R,12,l[1]),le=u(le,ce,ae,te,P,17,l[2]),te=u(te,le,ce,ae,F,22,l[3]),ae=u(ae,te,le,ce,G,7,l[4]),ce=u(ce,ae,te,le,se,12,l[5]),le=u(le,ce,ae,te,Ae,17,l[6]),te=u(te,le,ce,ae,re,22,l[7]),ae=u(ae,te,le,ce,W,7,l[8]),ce=u(ce,ae,te,le,q,12,l[9]),le=u(le,ce,ae,te,oe,17,l[10]),te=u(te,le,ce,ae,X,22,l[11]),ae=u(ae,te,le,ce,H,7,l[12]),ce=u(ce,ae,te,le,O,12,l[13]),le=u(le,ce,ae,te,V,17,l[14]),te=u(te,le,ce,ae,J,22,l[15]),ae=f(ae,te,le,ce,R,5,l[16]),ce=f(ce,ae,te,le,Ae,9,l[17]),le=f(le,ce,ae,te,X,14,l[18]),te=f(te,le,ce,ae,_,20,l[19]),ae=f(ae,te,le,ce,se,5,l[20]),ce=f(ce,ae,te,le,oe,9,l[21]),le=f(le,ce,ae,te,J,14,l[22]),te=f(te,le,ce,ae,G,20,l[23]),ae=f(ae,te,le,ce,q,5,l[24]),ce=f(ce,ae,te,le,V,9,l[25]),le=f(le,ce,ae,te,F,14,l[26]),te=f(te,le,ce,ae,W,20,l[27]),ae=f(ae,te,le,ce,O,5,l[28]),ce=f(ce,ae,te,le,P,9,l[29]),le=f(le,ce,ae,te,re,14,l[30]),te=f(te,le,ce,ae,H,20,l[31]),ae=m(ae,te,le,ce,se,4,l[32]),ce=m(ce,ae,te,le,W,11,l[33]),le=m(le,ce,ae,te,X,16,l[34]),te=m(te,le,ce,ae,V,23,l[35]),ae=m(ae,te,le,ce,R,4,l[36]),ce=m(ce,ae,te,le,G,11,l[37]),le=m(le,ce,ae,te,re,16,l[38]),te=m(te,le,ce,ae,oe,23,l[39]),ae=m(ae,te,le,ce,O,4,l[40]),ce=m(ce,ae,te,le,_,11,l[41]),le=m(le,ce,ae,te,F,16,l[42]),te=m(te,le,ce,ae,Ae,23,l[43]),ae=m(ae,te,le,ce,q,4,l[44]),ce=m(ce,ae,te,le,H,11,l[45]),le=m(le,ce,ae,te,J,16,l[46]),te=m(te,le,ce,ae,P,23,l[47]),ae=h(ae,te,le,ce,_,6,l[48]),ce=h(ce,ae,te,le,re,10,l[49]),le=h(le,ce,ae,te,V,15,l[50]),te=h(te,le,ce,ae,se,21,l[51]),ae=h(ae,te,le,ce,H,6,l[52]),ce=h(ce,ae,te,le,F,10,l[53]),le=h(le,ce,ae,te,oe,15,l[54]),te=h(te,le,ce,ae,R,21,l[55]),ae=h(ae,te,le,ce,W,6,l[56]),ce=h(ce,ae,te,le,J,10,l[57]),le=h(le,ce,ae,te,Ae,15,l[58]),te=h(te,le,ce,ae,O,21,l[59]),ae=h(ae,te,le,ce,G,6,l[60]),ce=h(ce,ae,te,le,X,10,l[61]),le=h(le,ce,ae,te,P,15,l[62]),te=h(te,le,ce,ae,q,21,l[63]),b[0]=b[0]+ae|0,b[1]=b[1]+te|0,b[2]=b[2]+le|0,b[3]=b[3]+ce|0},"_doProcessBlock"),_doFinalize:o(function(){var p=this._data,g=p.words,x=this._nDataBytes*8,v=p.sigBytes*8;g[v>>>5]|=128<<24-v%32;var E=t.floor(x/4294967296),b=x;g[(v+64>>>9<<4)+15]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,g[(v+64>>>9<<4)+14]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,p.sigBytes=(g.length+1)*4,this._process();for(var _=this._hash,R=_.words,P=0;P<4;P++){var F=R[P];R[P]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360}return _},"_doFinalize"),clone:o(function(){var p=s.clone.call(this);return p._hash=this._hash.clone(),p},"clone")});function u(p,g,x,v,E,b,_){var R=p+(g&x|~g&v)+E+_;return(R<<b|R>>>32-b)+g}o(u,"FF");function f(p,g,x,v,E,b,_){var R=p+(g&v|x&~v)+E+_;return(R<<b|R>>>32-b)+g}o(f,"GG");function m(p,g,x,v,E,b,_){var R=p+(g^x^v)+E+_;return(R<<b|R>>>32-b)+g}o(m,"HH");function h(p,g,x,v,E,b,_){var R=p+(x^(g|~v))+E+_;return(R<<b|R>>>32-b)+g}o(h,"II"),r.MD5=s._createHelper(c),r.HmacMD5=s._createHmacHelper(c)}(Math),e.MD5})});var yY=j((LD,Kme)=>{d();(function(e,t){typeof LD=="object"?Kme.exports=LD=t(ki()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(LD,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=r.Hasher,s=t.algo,a=[],l=s.SHA1=i.extend({_doReset:o(function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},"_doReset"),_doProcessBlock:o(function(c,u){for(var f=this._hash.words,m=f[0],h=f[1],p=f[2],g=f[3],x=f[4],v=0;v<80;v++){if(v<16)a[v]=c[u+v]|0;else{var E=a[v-3]^a[v-8]^a[v-14]^a[v-16];a[v]=E<<1|E>>>31}var b=(m<<5|m>>>27)+x+a[v];v<20?b+=(h&p|~h&g)+1518500249:v<40?b+=(h^p^g)+1859775393:v<60?b+=(h&p|h&g|p&g)-1894007588:b+=(h^p^g)-899497514,x=g,g=p,p=h<<30|h>>>2,h=m,m=b}f[0]=f[0]+m|0,f[1]=f[1]+h|0,f[2]=f[2]+p|0,f[3]=f[3]+g|0,f[4]=f[4]+x|0},"_doProcessBlock"),_doFinalize:o(function(){var c=this._data,u=c.words,f=this._nDataBytes*8,m=c.sigBytes*8;return u[m>>>5]|=128<<24-m%32,u[(m+64>>>9<<4)+14]=Math.floor(f/4294967296),u[(m+64>>>9<<4)+15]=f,c.sigBytes=u.length*4,this._process(),this._hash},"_doFinalize"),clone:o(function(){var c=i.clone.call(this);return c._hash=this._hash.clone(),c},"clone")});t.SHA1=i._createHelper(l),t.HmacSHA1=i._createHmacHelper(l)}(),e.SHA1})});var MD=j((QD,Jme)=>{d();(function(e,t){typeof QD=="object"?Jme.exports=QD=t(ki()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(QD,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.algo,l=[],c=[];(function(){function m(x){for(var v=t.sqrt(x),E=2;E<=v;E++)if(!(x%E))return!1;return!0}o(m,"isPrime");function h(x){return(x-(x|0))*4294967296|0}o(h,"getFractionalBits");for(var p=2,g=0;g<64;)m(p)&&(g<8&&(l[g]=h(t.pow(p,1/2))),c[g]=h(t.pow(p,1/3)),g++),p++})();var u=[],f=a.SHA256=s.extend({_doReset:o(function(){this._hash=new i.init(l.slice(0))},"_doReset"),_doProcessBlock:o(function(m,h){for(var p=this._hash.words,g=p[0],x=p[1],v=p[2],E=p[3],b=p[4],_=p[5],R=p[6],P=p[7],F=0;F<64;F++){if(F<16)u[F]=m[h+F]|0;else{var G=u[F-15],se=(G<<25|G>>>7)^(G<<14|G>>>18)^G>>>3,Ae=u[F-2],re=(Ae<<15|Ae>>>17)^(Ae<<13|Ae>>>19)^Ae>>>10;u[F]=se+u[F-7]+re+u[F-16]}var W=b&_^~b&R,q=g&x^g&v^x&v,oe=(g<<30|g>>>2)^(g<<19|g>>>13)^(g<<10|g>>>22),X=(b<<26|b>>>6)^(b<<21|b>>>11)^(b<<7|b>>>25),H=P+X+W+c[F]+u[F],O=oe+q;P=R,R=_,_=b,b=E+H|0,E=v,v=x,x=g,g=H+O|0}p[0]=p[0]+g|0,p[1]=p[1]+x|0,p[2]=p[2]+v|0,p[3]=p[3]+E|0,p[4]=p[4]+b|0,p[5]=p[5]+_|0,p[6]=p[6]+R|0,p[7]=p[7]+P|0},"_doProcessBlock"),_doFinalize:o(function(){var m=this._data,h=m.words,p=this._nDataBytes*8,g=m.sigBytes*8;return h[g>>>5]|=128<<24-g%32,h[(g+64>>>9<<4)+14]=t.floor(p/4294967296),h[(g+64>>>9<<4)+15]=p,m.sigBytes=h.length*4,this._process(),this._hash},"_doFinalize"),clone:o(function(){var m=s.clone.call(this);return m._hash=this._hash.clone(),m},"clone")});r.SHA256=s._createHelper(f),r.HmacSHA256=s._createHmacHelper(f)}(Math),e.SHA256})});var Xme=j((OD,Zme)=>{d();(function(e,t,r){typeof OD=="object"?Zme.exports=OD=t(ki(),MD()):typeof define=="function"&&define.amd?define(["./core","./sha256"],t):t(e.CryptoJS)})(OD,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.algo,s=i.SHA256,a=i.SHA224=s.extend({_doReset:o(function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},"_doReset"),_doFinalize:o(function(){var l=s._doFinalize.call(this);return l.sigBytes-=4,l},"_doFinalize")});t.SHA224=s._createHelper(a),t.HmacSHA224=s._createHmacHelper(a)}(),e.SHA224})});var CY=j((UD,ehe)=>{d();(function(e,t,r){typeof UD=="object"?ehe.exports=UD=t(ki(),FT()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(UD,function(e){return function(){var t=e,r=t.lib,n=r.Hasher,i=t.x64,s=i.Word,a=i.WordArray,l=t.algo;function c(){return s.create.apply(s,arguments)}o(c,"X64Word_create");var u=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],f=[];(function(){for(var h=0;h<80;h++)f[h]=c()})();var m=l.SHA512=n.extend({_doReset:o(function(){this._hash=new a.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},"_doReset"),_doProcessBlock:o(function(h,p){for(var g=this._hash.words,x=g[0],v=g[1],E=g[2],b=g[3],_=g[4],R=g[5],P=g[6],F=g[7],G=x.high,se=x.low,Ae=v.high,re=v.low,W=E.high,q=E.low,oe=b.high,X=b.low,H=_.high,O=_.low,V=R.high,J=R.low,ae=P.high,te=P.low,le=F.high,ce=F.low,Pe=G,Ie=se,Fe=Ae,Re=re,Ge=W,lt=q,st=oe,ct=X,ne=H,Ne=O,ge=V,He=J,z=ae,ee=te,Qe=le,Se=ce,Ce=0;Ce<80;Ce++){var qe,$e,tt=f[Ce];if(Ce<16)$e=tt.high=h[p+Ce*2]|0,qe=tt.low=h[p+Ce*2+1]|0;else{var Ct=f[Ce-15],Pt=Ct.high,yt=Ct.low,zt=(Pt>>>1|yt<<31)^(Pt>>>8|yt<<24)^Pt>>>7,Kt=(yt>>>1|Pt<<31)^(yt>>>8|Pt<<24)^(yt>>>7|Pt<<25),sr=f[Ce-2],pe=sr.high,Me=sr.low,Ze=(pe>>>19|Me<<13)^(pe<<3|Me>>>29)^pe>>>6,rt=(Me>>>19|pe<<13)^(Me<<3|pe>>>29)^(Me>>>6|pe<<26),kt=f[Ce-7],bt=kt.high,Qt=kt.low,Ot=f[Ce-16],wt=Ot.high,Rt=Ot.low;qe=Kt+Qt,$e=zt+bt+(qe>>>0<Kt>>>0?1:0),qe=qe+rt,$e=$e+Ze+(qe>>>0<rt>>>0?1:0),qe=qe+Rt,$e=$e+wt+(qe>>>0<Rt>>>0?1:0),tt.high=$e,tt.low=qe}var _t=ne&ge^~ne&z,qt=Ne&He^~Ne&ee,Ht=Pe&Fe^Pe&Ge^Fe&Ge,Jt=Ie&Re^Ie&lt^Re&lt,ur=(Pe>>>28|Ie<<4)^(Pe<<30|Ie>>>2)^(Pe<<25|Ie>>>7),gr=(Ie>>>28|Pe<<4)^(Ie<<30|Pe>>>2)^(Ie<<25|Pe>>>7),lr=(ne>>>14|Ne<<18)^(ne>>>18|Ne<<14)^(ne<<23|Ne>>>9),fr=(Ne>>>14|ne<<18)^(Ne>>>18|ne<<14)^(Ne<<23|ne>>>9),rr=u[Ce],dr=rr.high,Ee=rr.low,M=Se+fr,de=Qe+lr+(M>>>0<Se>>>0?1:0),M=M+qt,de=de+_t+(M>>>0<qt>>>0?1:0),M=M+Ee,de=de+dr+(M>>>0<Ee>>>0?1:0),M=M+qe,de=de+$e+(M>>>0<qe>>>0?1:0),ye=gr+Jt,Y=ur+Ht+(ye>>>0<gr>>>0?1:0);Qe=z,Se=ee,z=ge,ee=He,ge=ne,He=Ne,Ne=ct+M|0,ne=st+de+(Ne>>>0<ct>>>0?1:0)|0,st=Ge,ct=lt,Ge=Fe,lt=Re,Fe=Pe,Re=Ie,Ie=M+ye|0,Pe=de+Y+(Ie>>>0<M>>>0?1:0)|0}se=x.low=se+Ie,x.high=G+Pe+(se>>>0<Ie>>>0?1:0),re=v.low=re+Re,v.high=Ae+Fe+(re>>>0<Re>>>0?1:0),q=E.low=q+lt,E.high=W+Ge+(q>>>0<lt>>>0?1:0),X=b.low=X+ct,b.high=oe+st+(X>>>0<ct>>>0?1:0),O=_.low=O+Ne,_.high=H+ne+(O>>>0<Ne>>>0?1:0),J=R.low=J+He,R.high=V+ge+(J>>>0<He>>>0?1:0),te=P.low=te+ee,P.high=ae+z+(te>>>0<ee>>>0?1:0),ce=F.low=ce+Se,F.high=le+Qe+(ce>>>0<Se>>>0?1:0)},"_doProcessBlock"),_doFinalize:o(function(){var h=this._data,p=h.words,g=this._nDataBytes*8,x=h.sigBytes*8;p[x>>>5]|=128<<24-x%32,p[(x+128>>>10<<5)+30]=Math.floor(g/4294967296),p[(x+128>>>10<<5)+31]=g,h.sigBytes=p.length*4,this._process();var v=this._hash.toX32();return v},"_doFinalize"),clone:o(function(){var h=n.clone.call(this);return h._hash=this._hash.clone(),h},"clone"),blockSize:1024/32});t.SHA512=n._createHelper(m),t.HmacSHA512=n._createHmacHelper(m)}(),e.SHA512})});var rhe=j((qD,the)=>{d();(function(e,t,r){typeof qD=="object"?the.exports=qD=t(ki(),FT(),CY()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],t):t(e.CryptoJS)})(qD,function(e){return function(){var t=e,r=t.x64,n=r.Word,i=r.WordArray,s=t.algo,a=s.SHA512,l=s.SHA384=a.extend({_doReset:o(function(){this._hash=new i.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},"_doReset"),_doFinalize:o(function(){var c=a._doFinalize.call(this);return c.sigBytes-=16,c},"_doFinalize")});t.SHA384=a._createHelper(l),t.HmacSHA384=a._createHmacHelper(l)}(),e.SHA384})});var ihe=j((WD,nhe)=>{d();(function(e,t,r){typeof WD=="object"?nhe.exports=WD=t(ki(),FT()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(WD,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.x64,l=a.Word,c=r.algo,u=[],f=[],m=[];(function(){for(var g=1,x=0,v=0;v<24;v++){u[g+5*x]=(v+1)*(v+2)/2%64;var E=x%5,b=(2*g+3*x)%5;g=E,x=b}for(var g=0;g<5;g++)for(var x=0;x<5;x++)f[g+5*x]=x+(2*g+3*x)%5*5;for(var _=1,R=0;R<24;R++){for(var P=0,F=0,G=0;G<7;G++){if(_&1){var se=(1<<G)-1;se<32?F^=1<<se:P^=1<<se-32}_&128?_=_<<1^113:_<<=1}m[R]=l.create(P,F)}})();var h=[];(function(){for(var g=0;g<25;g++)h[g]=l.create()})();var p=c.SHA3=s.extend({cfg:s.cfg.extend({outputLength:512}),_doReset:o(function(){for(var g=this._state=[],x=0;x<25;x++)g[x]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},"_doReset"),_doProcessBlock:o(function(g,x){for(var v=this._state,E=this.blockSize/2,b=0;b<E;b++){var _=g[x+2*b],R=g[x+2*b+1];_=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,R=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360;var P=v[b];P.high^=R,P.low^=_}for(var F=0;F<24;F++){for(var G=0;G<5;G++){for(var se=0,Ae=0,re=0;re<5;re++){var P=v[G+5*re];se^=P.high,Ae^=P.low}var W=h[G];W.high=se,W.low=Ae}for(var G=0;G<5;G++)for(var q=h[(G+4)%5],oe=h[(G+1)%5],X=oe.high,H=oe.low,se=q.high^(X<<1|H>>>31),Ae=q.low^(H<<1|X>>>31),re=0;re<5;re++){var P=v[G+5*re];P.high^=se,P.low^=Ae}for(var O=1;O<25;O++){var se,Ae,P=v[O],V=P.high,J=P.low,ae=u[O];ae<32?(se=V<<ae|J>>>32-ae,Ae=J<<ae|V>>>32-ae):(se=J<<ae-32|V>>>64-ae,Ae=V<<ae-32|J>>>64-ae);var te=h[f[O]];te.high=se,te.low=Ae}var le=h[0],ce=v[0];le.high=ce.high,le.low=ce.low;for(var G=0;G<5;G++)for(var re=0;re<5;re++){var O=G+5*re,P=v[O],Pe=h[O],Ie=h[(G+1)%5+5*re],Fe=h[(G+2)%5+5*re];P.high=Pe.high^~Ie.high&Fe.high,P.low=Pe.low^~Ie.low&Fe.low}var P=v[0],Re=m[F];P.high^=Re.high,P.low^=Re.low}},"_doProcessBlock"),_doFinalize:o(function(){var g=this._data,x=g.words,v=this._nDataBytes*8,E=g.sigBytes*8,b=this.blockSize*32;x[E>>>5]|=1<<24-E%32,x[(t.ceil((E+1)/b)*b>>>5)-1]|=128,g.sigBytes=x.length*4,this._process();for(var _=this._state,R=this.cfg.outputLength/8,P=R/8,F=[],G=0;G<P;G++){var se=_[G],Ae=se.high,re=se.low;Ae=(Ae<<8|Ae>>>24)&16711935|(Ae<<24|Ae>>>8)&4278255360,re=(re<<8|re>>>24)&16711935|(re<<24|re>>>8)&4278255360,F.push(re),F.push(Ae)}return new i.init(F,R)},"_doFinalize"),clone:o(function(){for(var g=s.clone.call(this),x=g._state=this._state.slice(0),v=0;v<25;v++)x[v]=x[v].clone();return g},"clone")});r.SHA3=s._createHelper(p),r.HmacSHA3=s._createHmacHelper(p)}(Math),e.SHA3})});var she=j((GD,ohe)=>{d();(function(e,t){typeof GD=="object"?ohe.exports=GD=t(ki()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(GD,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.algo,l=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),m=i.create([0,1518500249,1859775393,2400959708,2840853838]),h=i.create([1352829926,1548603684,1836072691,2053994217,0]),p=a.RIPEMD160=s.extend({_doReset:o(function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},"_doReset"),_doProcessBlock:o(function(R,P){for(var F=0;F<16;F++){var G=P+F,se=R[G];R[G]=(se<<8|se>>>24)&16711935|(se<<24|se>>>8)&4278255360}var Ae=this._hash.words,re=m.words,W=h.words,q=l.words,oe=c.words,X=u.words,H=f.words,O,V,J,ae,te,le,ce,Pe,Ie,Fe;le=O=Ae[0],ce=V=Ae[1],Pe=J=Ae[2],Ie=ae=Ae[3],Fe=te=Ae[4];for(var Re,F=0;F<80;F+=1)Re=O+R[P+q[F]]|0,F<16?Re+=g(V,J,ae)+re[0]:F<32?Re+=x(V,J,ae)+re[1]:F<48?Re+=v(V,J,ae)+re[2]:F<64?Re+=E(V,J,ae)+re[3]:Re+=b(V,J,ae)+re[4],Re=Re|0,Re=_(Re,X[F]),Re=Re+te|0,O=te,te=ae,ae=_(J,10),J=V,V=Re,Re=le+R[P+oe[F]]|0,F<16?Re+=b(ce,Pe,Ie)+W[0]:F<32?Re+=E(ce,Pe,Ie)+W[1]:F<48?Re+=v(ce,Pe,Ie)+W[2]:F<64?Re+=x(ce,Pe,Ie)+W[3]:Re+=g(ce,Pe,Ie)+W[4],Re=Re|0,Re=_(Re,H[F]),Re=Re+Fe|0,le=Fe,Fe=Ie,Ie=_(Pe,10),Pe=ce,ce=Re;Re=Ae[1]+J+Ie|0,Ae[1]=Ae[2]+ae+Fe|0,Ae[2]=Ae[3]+te+le|0,Ae[3]=Ae[4]+O+ce|0,Ae[4]=Ae[0]+V+Pe|0,Ae[0]=Re},"_doProcessBlock"),_doFinalize:o(function(){var R=this._data,P=R.words,F=this._nDataBytes*8,G=R.sigBytes*8;P[G>>>5]|=128<<24-G%32,P[(G+64>>>9<<4)+14]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360,R.sigBytes=(P.length+1)*4,this._process();for(var se=this._hash,Ae=se.words,re=0;re<5;re++){var W=Ae[re];Ae[re]=(W<<8|W>>>24)&16711935|(W<<24|W>>>8)&4278255360}return se},"_doFinalize"),clone:o(function(){var R=s.clone.call(this);return R._hash=this._hash.clone(),R},"clone")});function g(R,P,F){return R^P^F}o(g,"f1");function x(R,P,F){return R&P|~R&F}o(x,"f2");function v(R,P,F){return(R|~P)^F}o(v,"f3");function E(R,P,F){return R&F|P&~F}o(E,"f4");function b(R,P,F){return R^(P|~F)}o(b,"f5");function _(R,P){return R<<P|R>>>32-P}o(_,"rotl"),r.RIPEMD160=s._createHelper(p),r.HmacRIPEMD160=s._createHmacHelper(p)}(Math),e.RIPEMD160})});var jD=j((HD,ahe)=>{d();(function(e,t){typeof HD=="object"?ahe.exports=HD=t(ki()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(HD,function(e){(function(){var t=e,r=t.lib,n=r.Base,i=t.enc,s=i.Utf8,a=t.algo,l=a.HMAC=n.extend({init:o(function(c,u){c=this._hasher=new c.init,typeof u=="string"&&(u=s.parse(u));var f=c.blockSize,m=f*4;u.sigBytes>m&&(u=c.finalize(u)),u.clamp();for(var h=this._oKey=u.clone(),p=this._iKey=u.clone(),g=h.words,x=p.words,v=0;v<f;v++)g[v]^=1549556828,x[v]^=909522486;h.sigBytes=p.sigBytes=m,this.reset()},"init"),reset:o(function(){var c=this._hasher;c.reset(),c.update(this._iKey)},"reset"),update:o(function(c){return this._hasher.update(c),this},"update"),finalize:o(function(c){var u=this._hasher,f=u.finalize(c);u.reset();var m=u.finalize(this._oKey.clone().concat(f));return m},"finalize")})})()})});var che=j((VD,lhe)=>{d();(function(e,t,r){typeof VD=="object"?lhe.exports=VD=t(ki(),MD(),jD()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],t):t(e.CryptoJS)})(VD,function(e){return function(){var t=e,r=t.lib,n=r.Base,i=r.WordArray,s=t.algo,a=s.SHA256,l=s.HMAC,c=s.PBKDF2=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:25e4}),init:o(function(u){this.cfg=this.cfg.extend(u)},"init"),compute:o(function(u,f){for(var m=this.cfg,h=l.create(m.hasher,u),p=i.create(),g=i.create([1]),x=p.words,v=g.words,E=m.keySize,b=m.iterations;x.length<E;){var _=h.update(f).finalize(g);h.reset();for(var R=_.words,P=R.length,F=_,G=1;G<b;G++){F=h.finalize(F),h.reset();for(var se=F.words,Ae=0;Ae<P;Ae++)R[Ae]^=se[Ae]}p.concat(_),v[0]++}return p.sigBytes=E*4,p},"compute")});t.PBKDF2=function(u,f,m){return c.create(m).compute(u,f)}}(),e.PBKDF2})});var b1=j(($D,uhe)=>{d();(function(e,t,r){typeof $D=="object"?uhe.exports=$D=t(ki(),yY(),jD()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],t):t(e.CryptoJS)})($D,function(e){return function(){var t=e,r=t.lib,n=r.Base,i=r.WordArray,s=t.algo,a=s.MD5,l=s.EvpKDF=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:1}),init:o(function(c){this.cfg=this.cfg.extend(c)},"init"),compute:o(function(c,u){for(var f,m=this.cfg,h=m.hasher.create(),p=i.create(),g=p.words,x=m.keySize,v=m.iterations;g.length<x;){f&&h.update(f),f=h.update(c).finalize(u),h.reset();for(var E=1;E<v;E++)f=h.finalize(f),h.reset();p.concat(f)}return p.sigBytes=x*4,p},"compute")});t.EvpKDF=function(c,u,f){return l.create(f).compute(c,u)}}(),e.EvpKDF})});var il=j((zD,fhe)=>{d();(function(e,t,r){typeof zD=="object"?fhe.exports=zD=t(ki(),b1()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],t):t(e.CryptoJS)})(zD,function(e){e.lib.Cipher||function(t){var r=e,n=r.lib,i=n.Base,s=n.WordArray,a=n.BufferedBlockAlgorithm,l=r.enc,c=l.Utf8,u=l.Base64,f=r.algo,m=f.EvpKDF,h=n.Cipher=a.extend({cfg:i.extend(),createEncryptor:o(function(W,q){return this.create(this._ENC_XFORM_MODE,W,q)},"createEncryptor"),createDecryptor:o(function(W,q){return this.create(this._DEC_XFORM_MODE,W,q)},"createDecryptor"),init:o(function(W,q,oe){this.cfg=this.cfg.extend(oe),this._xformMode=W,this._key=q,this.reset()},"init"),reset:o(function(){a.reset.call(this),this._doReset()},"reset"),process:o(function(W){return this._append(W),this._process()},"process"),finalize:o(function(W){W&&this._append(W);var q=this._doFinalize();return q},"finalize"),keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function W(q){return typeof q=="string"?re:G}return o(W,"selectCipherStrategy"),function(q){return{encrypt:o(function(oe,X,H){return W(X).encrypt(q,oe,X,H)},"encrypt"),decrypt:o(function(oe,X,H){return W(X).decrypt(q,oe,X,H)},"decrypt")}}}()}),p=n.StreamCipher=h.extend({_doFinalize:o(function(){var W=this._process(!0);return W},"_doFinalize"),blockSize:1}),g=r.mode={},x=n.BlockCipherMode=i.extend({createEncryptor:o(function(W,q){return this.Encryptor.create(W,q)},"createEncryptor"),createDecryptor:o(function(W,q){return this.Decryptor.create(W,q)},"createDecryptor"),init:o(function(W,q){this._cipher=W,this._iv=q},"init")}),v=g.CBC=function(){var W=x.extend();W.Encryptor=W.extend({processBlock:o(function(oe,X){var H=this._cipher,O=H.blockSize;q.call(this,oe,X,O),H.encryptBlock(oe,X),this._prevBlock=oe.slice(X,X+O)},"processBlock")}),W.Decryptor=W.extend({processBlock:o(function(oe,X){var H=this._cipher,O=H.blockSize,V=oe.slice(X,X+O);H.decryptBlock(oe,X),q.call(this,oe,X,O),this._prevBlock=V},"processBlock")});function q(oe,X,H){var O,V=this._iv;V?(O=V,this._iv=t):O=this._prevBlock;for(var J=0;J<H;J++)oe[X+J]^=O[J]}return o(q,"xorBlock"),W}(),E=r.pad={},b=E.Pkcs7={pad:o(function(W,q){for(var oe=q*4,X=oe-W.sigBytes%oe,H=X<<24|X<<16|X<<8|X,O=[],V=0;V<X;V+=4)O.push(H);var J=s.create(O,X);W.concat(J)},"pad"),unpad:o(function(W){var q=W.words[W.sigBytes-1>>>2]&255;W.sigBytes-=q},"unpad")},_=n.BlockCipher=h.extend({cfg:h.cfg.extend({mode:v,padding:b}),reset:o(function(){var W;h.reset.call(this);var q=this.cfg,oe=q.iv,X=q.mode;this._xformMode==this._ENC_XFORM_MODE?W=X.createEncryptor:(W=X.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==W?this._mode.init(this,oe&&oe.words):(this._mode=W.call(X,this,oe&&oe.words),this._mode.__creator=W)},"reset"),_doProcessBlock:o(function(W,q){this._mode.processBlock(W,q)},"_doProcessBlock"),_doFinalize:o(function(){var W,q=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(q.pad(this._data,this.blockSize),W=this._process(!0)):(W=this._process(!0),q.unpad(W)),W},"_doFinalize"),blockSize:128/32}),R=n.CipherParams=i.extend({init:o(function(W){this.mixIn(W)},"init"),toString:o(function(W){return(W||this.formatter).stringify(this)},"toString")}),P=r.format={},F=P.OpenSSL={stringify:o(function(W){var q,oe=W.ciphertext,X=W.salt;return X?q=s.create([1398893684,1701076831]).concat(X).concat(oe):q=oe,q.toString(u)},"stringify"),parse:o(function(W){var q,oe=u.parse(W),X=oe.words;return X[0]==1398893684&&X[1]==1701076831&&(q=s.create(X.slice(2,4)),X.splice(0,4),oe.sigBytes-=16),R.create({ciphertext:oe,salt:q})},"parse")},G=n.SerializableCipher=i.extend({cfg:i.extend({format:F}),encrypt:o(function(W,q,oe,X){X=this.cfg.extend(X);var H=W.createEncryptor(oe,X),O=H.finalize(q),V=H.cfg;return R.create({ciphertext:O,key:oe,iv:V.iv,algorithm:W,mode:V.mode,padding:V.padding,blockSize:W.blockSize,formatter:X.format})},"encrypt"),decrypt:o(function(W,q,oe,X){X=this.cfg.extend(X),q=this._parse(q,X.format);var H=W.createDecryptor(oe,X).finalize(q.ciphertext);return H},"decrypt"),_parse:o(function(W,q){return typeof W=="string"?q.parse(W,this):W},"_parse")}),se=r.kdf={},Ae=se.OpenSSL={execute:o(function(W,q,oe,X,H){if(X||(X=s.random(64/8)),H)var O=m.create({keySize:q+oe,hasher:H}).compute(W,X);else var O=m.create({keySize:q+oe}).compute(W,X);var V=s.create(O.words.slice(q),oe*4);return O.sigBytes=q*4,R.create({key:O,iv:V,salt:X})},"execute")},re=n.PasswordBasedCipher=G.extend({cfg:G.cfg.extend({kdf:Ae}),encrypt:o(function(W,q,oe,X){X=this.cfg.extend(X);var H=X.kdf.execute(oe,W.keySize,W.ivSize,X.salt,X.hasher);X.iv=H.iv;var O=G.encrypt.call(this,W,q,H.key,X);return O.mixIn(H),O},"encrypt"),decrypt:o(function(W,q,oe,X){X=this.cfg.extend(X),q=this._parse(q,X.format);var H=X.kdf.execute(oe,W.keySize,W.ivSize,q.salt,X.hasher);X.iv=H.iv;var O=G.decrypt.call(this,W,q,H.key,X);return O},"decrypt")})}()})});var mhe=j((YD,dhe)=>{d();(function(e,t,r){typeof YD=="object"?dhe.exports=YD=t(ki(),il()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(YD,function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();t.Encryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize;r.call(this,n,i,a,s),this._prevBlock=n.slice(i,i+a)},"processBlock")}),t.Decryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize,l=n.slice(i,i+a);r.call(this,n,i,a,s),this._prevBlock=l},"processBlock")});function r(n,i,s,a){var l,c=this._iv;c?(l=c.slice(0),this._iv=void 0):l=this._prevBlock,a.encryptBlock(l,0);for(var u=0;u<s;u++)n[i+u]^=l[u]}return o(r,"generateKeystreamAndEncrypt"),t}(),e.mode.CFB})});var phe=j((KD,hhe)=>{d();(function(e,t,r){typeof KD=="object"?hhe.exports=KD=t(ki(),il()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(KD,function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize,l=this._iv,c=this._counter;l&&(c=this._counter=l.slice(0),this._iv=void 0);var u=c.slice(0);s.encryptBlock(u,0),c[a-1]=c[a-1]+1|0;for(var f=0;f<a;f++)n[i+f]^=u[f]},"processBlock")});return t.Decryptor=r,t}(),e.mode.CTR})});var Ahe=j((JD,ghe)=>{d();(function(e,t,r){typeof JD=="object"?ghe.exports=JD=t(ki(),il()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(JD,function(e){return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function r(s){if((s>>24&255)===255){var a=s>>16&255,l=s>>8&255,c=s&255;a===255?(a=0,l===255?(l=0,c===255?c=0:++c):++l):++a,s=0,s+=a<<16,s+=l<<8,s+=c}else s+=1<<24;return s}o(r,"incWord");function n(s){return(s[0]=r(s[0]))===0&&(s[1]=r(s[1])),s}o(n,"incCounter");var i=t.Encryptor=t.extend({processBlock:o(function(s,a){var l=this._cipher,c=l.blockSize,u=this._iv,f=this._counter;u&&(f=this._counter=u.slice(0),this._iv=void 0),n(f);var m=f.slice(0);l.encryptBlock(m,0);for(var h=0;h<c;h++)s[a+h]^=m[h]},"processBlock")});return t.Decryptor=i,t}(),e.mode.CTRGladman})});var Che=j((ZD,yhe)=>{d();(function(e,t,r){typeof ZD=="object"?yhe.exports=ZD=t(ki(),il()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(ZD,function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize,l=this._iv,c=this._keystream;l&&(c=this._keystream=l.slice(0),this._iv=void 0),s.encryptBlock(c,0);for(var u=0;u<a;u++)n[i+u]^=c[u]},"processBlock")});return t.Decryptor=r,t}(),e.mode.OFB})});var vhe=j((XD,xhe)=>{d();(function(e,t,r){typeof XD=="object"?xhe.exports=XD=t(ki(),il()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(XD,function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:o(function(r,n){this._cipher.encryptBlock(r,n)},"processBlock")}),t.Decryptor=t.extend({processBlock:o(function(r,n){this._cipher.decryptBlock(r,n)},"processBlock")}),t}(),e.mode.ECB})});var Ehe=j((eP,bhe)=>{d();(function(e,t,r){typeof eP=="object"?bhe.exports=eP=t(ki(),il()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(eP,function(e){return e.pad.AnsiX923={pad:o(function(t,r){var n=t.sigBytes,i=r*4,s=i-n%i,a=n+s-1;t.clamp(),t.words[a>>>2]|=s<<24-a%4*8,t.sigBytes+=s},"pad"),unpad:o(function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r},"unpad")},e.pad.Ansix923})});var The=j((tP,Ihe)=>{d();(function(e,t,r){typeof tP=="object"?Ihe.exports=tP=t(ki(),il()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(tP,function(e){return e.pad.Iso10126={pad:o(function(t,r){var n=r*4,i=n-t.sigBytes%n;t.concat(e.lib.WordArray.random(i-1)).concat(e.lib.WordArray.create([i<<24],1))},"pad"),unpad:o(function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r},"unpad")},e.pad.Iso10126})});var _he=j((rP,whe)=>{d();(function(e,t,r){typeof rP=="object"?whe.exports=rP=t(ki(),il()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(rP,function(e){return e.pad.Iso97971={pad:o(function(t,r){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,r)},"pad"),unpad:o(function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--},"unpad")},e.pad.Iso97971})});var khe=j((nP,She)=>{d();(function(e,t,r){typeof nP=="object"?She.exports=nP=t(ki(),il()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(nP,function(e){return e.pad.ZeroPadding={pad:o(function(t,r){var n=r*4;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},"pad"),unpad:o(function(t){for(var r=t.words,n=t.sigBytes-1,n=t.sigBytes-1;n>=0;n--)if(r[n>>>2]>>>24-n%4*8&255){t.sigBytes=n+1;break}},"unpad")},e.pad.ZeroPadding})});var Bhe=j((iP,Rhe)=>{d();(function(e,t,r){typeof iP=="object"?Rhe.exports=iP=t(ki(),il()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(iP,function(e){return e.pad.NoPadding={pad:o(function(){},"pad"),unpad:o(function(){},"unpad")},e.pad.NoPadding})});var Phe=j((oP,Dhe)=>{d();(function(e,t,r){typeof oP=="object"?Dhe.exports=oP=t(ki(),il()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(oP,function(e){return function(t){var r=e,n=r.lib,i=n.CipherParams,s=r.enc,a=s.Hex,l=r.format,c=l.Hex={stringify:o(function(u){return u.ciphertext.toString(a)},"stringify"),parse:o(function(u){var f=a.parse(u);return i.create({ciphertext:f})},"parse")}}(),e.format.Hex})});var Nhe=j((sP,Fhe)=>{d();(function(e,t,r){typeof sP=="object"?Fhe.exports=sP=t(ki(),by(),Ey(),b1(),il()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(sP,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,i=t.algo,s=[],a=[],l=[],c=[],u=[],f=[],m=[],h=[],p=[],g=[];(function(){for(var E=[],b=0;b<256;b++)b<128?E[b]=b<<1:E[b]=b<<1^283;for(var _=0,R=0,b=0;b<256;b++){var P=R^R<<1^R<<2^R<<3^R<<4;P=P>>>8^P&255^99,s[_]=P,a[P]=_;var F=E[_],G=E[F],se=E[G],Ae=E[P]*257^P*16843008;l[_]=Ae<<24|Ae>>>8,c[_]=Ae<<16|Ae>>>16,u[_]=Ae<<8|Ae>>>24,f[_]=Ae;var Ae=se*16843009^G*65537^F*257^_*16843008;m[P]=Ae<<24|Ae>>>8,h[P]=Ae<<16|Ae>>>16,p[P]=Ae<<8|Ae>>>24,g[P]=Ae,_?(_=F^E[E[E[se^F]]],R^=E[E[R]]):_=R=1}})();var x=[0,1,2,4,8,16,32,64,128,27,54],v=i.AES=n.extend({_doReset:o(function(){var E;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var b=this._keyPriorReset=this._key,_=b.words,R=b.sigBytes/4,P=this._nRounds=R+6,F=(P+1)*4,G=this._keySchedule=[],se=0;se<F;se++)se<R?G[se]=_[se]:(E=G[se-1],se%R?R>6&&se%R==4&&(E=s[E>>>24]<<24|s[E>>>16&255]<<16|s[E>>>8&255]<<8|s[E&255]):(E=E<<8|E>>>24,E=s[E>>>24]<<24|s[E>>>16&255]<<16|s[E>>>8&255]<<8|s[E&255],E^=x[se/R|0]<<24),G[se]=G[se-R]^E);for(var Ae=this._invKeySchedule=[],re=0;re<F;re++){var se=F-re;if(re%4)var E=G[se];else var E=G[se-4];re<4||se<=4?Ae[re]=E:Ae[re]=m[s[E>>>24]]^h[s[E>>>16&255]]^p[s[E>>>8&255]]^g[s[E&255]]}}},"_doReset"),encryptBlock:o(function(E,b){this._doCryptBlock(E,b,this._keySchedule,l,c,u,f,s)},"encryptBlock"),decryptBlock:o(function(E,b){var _=E[b+1];E[b+1]=E[b+3],E[b+3]=_,this._doCryptBlock(E,b,this._invKeySchedule,m,h,p,g,a);var _=E[b+1];E[b+1]=E[b+3],E[b+3]=_},"decryptBlock"),_doCryptBlock:o(function(E,b,_,R,P,F,G,se){for(var Ae=this._nRounds,re=E[b]^_[0],W=E[b+1]^_[1],q=E[b+2]^_[2],oe=E[b+3]^_[3],X=4,H=1;H<Ae;H++){var O=R[re>>>24]^P[W>>>16&255]^F[q>>>8&255]^G[oe&255]^_[X++],V=R[W>>>24]^P[q>>>16&255]^F[oe>>>8&255]^G[re&255]^_[X++],J=R[q>>>24]^P[oe>>>16&255]^F[re>>>8&255]^G[W&255]^_[X++],ae=R[oe>>>24]^P[re>>>16&255]^F[W>>>8&255]^G[q&255]^_[X++];re=O,W=V,q=J,oe=ae}var O=(se[re>>>24]<<24|se[W>>>16&255]<<16|se[q>>>8&255]<<8|se[oe&255])^_[X++],V=(se[W>>>24]<<24|se[q>>>16&255]<<16|se[oe>>>8&255]<<8|se[re&255])^_[X++],J=(se[q>>>24]<<24|se[oe>>>16&255]<<16|se[re>>>8&255]<<8|se[W&255])^_[X++],ae=(se[oe>>>24]<<24|se[re>>>16&255]<<16|se[W>>>8&255]<<8|se[q&255])^_[X++];E[b]=O,E[b+1]=V,E[b+2]=J,E[b+3]=ae},"_doCryptBlock"),keySize:256/32});t.AES=n._createHelper(v)}(),e.AES})});var Qhe=j((aP,Lhe)=>{d();(function(e,t,r){typeof aP=="object"?Lhe.exports=aP=t(ki(),by(),Ey(),b1(),il()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(aP,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=r.BlockCipher,s=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],m=s.DES=i.extend({_doReset:o(function(){for(var x=this._key,v=x.words,E=[],b=0;b<56;b++){var _=a[b]-1;E[b]=v[_>>>5]>>>31-_%32&1}for(var R=this._subKeys=[],P=0;P<16;P++){for(var F=R[P]=[],G=c[P],b=0;b<24;b++)F[b/6|0]|=E[(l[b]-1+G)%28]<<31-b%6,F[4+(b/6|0)]|=E[28+(l[b+24]-1+G)%28]<<31-b%6;F[0]=F[0]<<1|F[0]>>>31;for(var b=1;b<7;b++)F[b]=F[b]>>>(b-1)*4+3;F[7]=F[7]<<5|F[7]>>>27}for(var se=this._invSubKeys=[],b=0;b<16;b++)se[b]=R[15-b]},"_doReset"),encryptBlock:o(function(x,v){this._doCryptBlock(x,v,this._subKeys)},"encryptBlock"),decryptBlock:o(function(x,v){this._doCryptBlock(x,v,this._invSubKeys)},"decryptBlock"),_doCryptBlock:o(function(x,v,E){this._lBlock=x[v],this._rBlock=x[v+1],h.call(this,4,252645135),h.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),h.call(this,1,1431655765);for(var b=0;b<16;b++){for(var _=E[b],R=this._lBlock,P=this._rBlock,F=0,G=0;G<8;G++)F|=u[G][((P^_[G])&f[G])>>>0];this._lBlock=P,this._rBlock=R^F}var se=this._lBlock;this._lBlock=this._rBlock,this._rBlock=se,h.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),h.call(this,16,65535),h.call(this,4,252645135),x[v]=this._lBlock,x[v+1]=this._rBlock},"_doCryptBlock"),keySize:64/32,ivSize:64/32,blockSize:64/32});function h(x,v){var E=(this._lBlock>>>x^this._rBlock)&v;this._rBlock^=E,this._lBlock^=E<<x}o(h,"exchangeLR");function p(x,v){var E=(this._rBlock>>>x^this._lBlock)&v;this._lBlock^=E,this._rBlock^=E<<x}o(p,"exchangeRL"),t.DES=i._createHelper(m);var g=s.TripleDES=i.extend({_doReset:o(function(){var x=this._key,v=x.words;if(v.length!==2&&v.length!==4&&v.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var E=v.slice(0,2),b=v.length<4?v.slice(0,2):v.slice(2,4),_=v.length<6?v.slice(0,2):v.slice(4,6);this._des1=m.createEncryptor(n.create(E)),this._des2=m.createEncryptor(n.create(b)),this._des3=m.createEncryptor(n.create(_))},"_doReset"),encryptBlock:o(function(x,v){this._des1.encryptBlock(x,v),this._des2.decryptBlock(x,v),this._des3.encryptBlock(x,v)},"encryptBlock"),decryptBlock:o(function(x,v){this._des3.decryptBlock(x,v),this._des2.encryptBlock(x,v),this._des1.decryptBlock(x,v)},"decryptBlock"),keySize:192/32,ivSize:64/32,blockSize:64/32});t.TripleDES=i._createHelper(g)}(),e.TripleDES})});var Ohe=j((lP,Mhe)=>{d();(function(e,t,r){typeof lP=="object"?Mhe.exports=lP=t(ki(),by(),Ey(),b1(),il()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(lP,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,s=i.RC4=n.extend({_doReset:o(function(){for(var c=this._key,u=c.words,f=c.sigBytes,m=this._S=[],h=0;h<256;h++)m[h]=h;for(var h=0,p=0;h<256;h++){var g=h%f,x=u[g>>>2]>>>24-g%4*8&255;p=(p+m[h]+x)%256;var v=m[h];m[h]=m[p],m[p]=v}this._i=this._j=0},"_doReset"),_doProcessBlock:o(function(c,u){c[u]^=a.call(this)},"_doProcessBlock"),keySize:256/32,ivSize:0});function a(){for(var c=this._S,u=this._i,f=this._j,m=0,h=0;h<4;h++){u=(u+1)%256,f=(f+c[u])%256;var p=c[u];c[u]=c[f],c[f]=p,m|=c[(c[u]+c[f])%256]<<24-h*8}return this._i=u,this._j=f,m}o(a,"generateKeystreamWord"),t.RC4=n._createHelper(s);var l=i.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:o(function(){s._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)a.call(this)},"_doReset")});t.RC4Drop=n._createHelper(l)}(),e.RC4})});var qhe=j((cP,Uhe)=>{d();(function(e,t,r){typeof cP=="object"?Uhe.exports=cP=t(ki(),by(),Ey(),b1(),il()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(cP,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,s=[],a=[],l=[],c=i.Rabbit=n.extend({_doReset:o(function(){for(var f=this._key.words,m=this.cfg.iv,h=0;h<4;h++)f[h]=(f[h]<<8|f[h]>>>24)&16711935|(f[h]<<24|f[h]>>>8)&4278255360;var p=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],g=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var h=0;h<4;h++)u.call(this);for(var h=0;h<8;h++)g[h]^=p[h+4&7];if(m){var x=m.words,v=x[0],E=x[1],b=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,_=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,R=b>>>16|_&4294901760,P=_<<16|b&65535;g[0]^=b,g[1]^=R,g[2]^=_,g[3]^=P,g[4]^=b,g[5]^=R,g[6]^=_,g[7]^=P;for(var h=0;h<4;h++)u.call(this)}},"_doReset"),_doProcessBlock:o(function(f,m){var h=this._X;u.call(this),s[0]=h[0]^h[5]>>>16^h[3]<<16,s[1]=h[2]^h[7]>>>16^h[5]<<16,s[2]=h[4]^h[1]>>>16^h[7]<<16,s[3]=h[6]^h[3]>>>16^h[1]<<16;for(var p=0;p<4;p++)s[p]=(s[p]<<8|s[p]>>>24)&16711935|(s[p]<<24|s[p]>>>8)&4278255360,f[m+p]^=s[p]},"_doProcessBlock"),blockSize:128/32,ivSize:64/32});function u(){for(var f=this._X,m=this._C,h=0;h<8;h++)a[h]=m[h];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<a[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<a[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<a[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<a[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<a[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<a[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<a[6]>>>0?1:0)|0,this._b=m[7]>>>0<a[7]>>>0?1:0;for(var h=0;h<8;h++){var p=f[h]+m[h],g=p&65535,x=p>>>16,v=((g*g>>>17)+g*x>>>15)+x*x,E=((p&4294901760)*p|0)+((p&65535)*p|0);l[h]=v^E}f[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,f[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,f[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,f[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,f[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,f[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,f[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,f[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}o(u,"nextState"),t.Rabbit=n._createHelper(c)}(),e.Rabbit})});var Ghe=j((uP,Whe)=>{d();(function(e,t,r){typeof uP=="object"?Whe.exports=uP=t(ki(),by(),Ey(),b1(),il()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(uP,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,s=[],a=[],l=[],c=i.RabbitLegacy=n.extend({_doReset:o(function(){var f=this._key.words,m=this.cfg.iv,h=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],p=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var g=0;g<4;g++)u.call(this);for(var g=0;g<8;g++)p[g]^=h[g+4&7];if(m){var x=m.words,v=x[0],E=x[1],b=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,_=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,R=b>>>16|_&4294901760,P=_<<16|b&65535;p[0]^=b,p[1]^=R,p[2]^=_,p[3]^=P,p[4]^=b,p[5]^=R,p[6]^=_,p[7]^=P;for(var g=0;g<4;g++)u.call(this)}},"_doReset"),_doProcessBlock:o(function(f,m){var h=this._X;u.call(this),s[0]=h[0]^h[5]>>>16^h[3]<<16,s[1]=h[2]^h[7]>>>16^h[5]<<16,s[2]=h[4]^h[1]>>>16^h[7]<<16,s[3]=h[6]^h[3]>>>16^h[1]<<16;for(var p=0;p<4;p++)s[p]=(s[p]<<8|s[p]>>>24)&16711935|(s[p]<<24|s[p]>>>8)&4278255360,f[m+p]^=s[p]},"_doProcessBlock"),blockSize:128/32,ivSize:64/32});function u(){for(var f=this._X,m=this._C,h=0;h<8;h++)a[h]=m[h];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<a[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<a[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<a[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<a[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<a[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<a[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<a[6]>>>0?1:0)|0,this._b=m[7]>>>0<a[7]>>>0?1:0;for(var h=0;h<8;h++){var p=f[h]+m[h],g=p&65535,x=p>>>16,v=((g*g>>>17)+g*x>>>15)+x*x,E=((p&4294901760)*p|0)+((p&65535)*p|0);l[h]=v^E}f[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,f[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,f[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,f[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,f[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,f[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,f[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,f[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}o(u,"nextState"),t.RabbitLegacy=n._createHelper(c)}(),e.RabbitLegacy})});var jhe=j((fP,Hhe)=>{d();(function(e,t,r){typeof fP=="object"?Hhe.exports=fP=t(ki(),by(),Ey(),b1(),il()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(fP,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,i=t.algo;let s=16,a=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function u(g,x){let v=x>>24&255,E=x>>16&255,b=x>>8&255,_=x&255,R=g.sbox[0][v]+g.sbox[1][E];return R=R^g.sbox[2][b],R=R+g.sbox[3][_],R}o(u,"F");function f(g,x,v){let E=x,b=v,_;for(let R=0;R<s;++R)E=E^g.pbox[R],b=u(g,E)^b,_=E,E=b,b=_;return _=E,E=b,b=_,b=b^g.pbox[s],E=E^g.pbox[s+1],{left:E,right:b}}o(f,"BlowFish_Encrypt");function m(g,x,v){let E=x,b=v,_;for(let R=s+1;R>1;--R)E=E^g.pbox[R],b=u(g,E)^b,_=E,E=b,b=_;return _=E,E=b,b=_,b=b^g.pbox[1],E=E^g.pbox[0],{left:E,right:b}}o(m,"BlowFish_Decrypt");function h(g,x,v){for(let P=0;P<4;P++){g.sbox[P]=[];for(let F=0;F<256;F++)g.sbox[P][F]=l[P][F]}let E=0;for(let P=0;P<s+2;P++)g.pbox[P]=a[P]^x[E],E++,E>=v&&(E=0);let b=0,_=0,R=0;for(let P=0;P<s+2;P+=2)R=f(g,b,_),b=R.left,_=R.right,g.pbox[P]=b,g.pbox[P+1]=_;for(let P=0;P<4;P++)for(let F=0;F<256;F+=2)R=f(g,b,_),b=R.left,_=R.right,g.sbox[P][F]=b,g.sbox[P][F+1]=_;return!0}o(h,"BlowFishInit");var p=i.Blowfish=n.extend({_doReset:o(function(){if(this._keyPriorReset!==this._key){var g=this._keyPriorReset=this._key,x=g.words,v=g.sigBytes/4;h(c,x,v)}},"_doReset"),encryptBlock:o(function(g,x){var v=f(c,g[x],g[x+1]);g[x]=v.left,g[x+1]=v.right},"encryptBlock"),decryptBlock:o(function(g,x){var v=m(c,g[x],g[x+1]);g[x]=v.left,g[x+1]=v.right},"decryptBlock"),blockSize:64/32,keySize:128/32,ivSize:64/32});t.Blowfish=n._createHelper(p)}(),e.Blowfish})});var Iy=j((dP,Vhe)=>{d();(function(e,t,r){typeof dP=="object"?Vhe.exports=dP=t(ki(),FT(),Gme(),jme(),by(),zme(),Ey(),yY(),MD(),Xme(),CY(),rhe(),ihe(),she(),jD(),che(),b1(),il(),mhe(),phe(),Ahe(),Che(),vhe(),Ehe(),The(),_he(),khe(),Bhe(),Phe(),Nhe(),Qhe(),Ohe(),qhe(),Ghe(),jhe()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],t):e.CryptoJS=t(e.CryptoJS)})(dP,function(e){return e})});var FE=j(kc=>{"use strict";d();Object.defineProperty(kc,"__esModule",{value:!0});kc.stringArray=kc.array=kc.func=kc.error=kc.number=kc.string=kc.boolean=void 0;function kZe(e){return e===!0||e===!1}o(kZe,"boolean");kc.boolean=kZe;function s1e(e){return typeof e=="string"||e instanceof String}o(s1e,"string");kc.string=s1e;function RZe(e){return typeof e=="number"||e instanceof Number}o(RZe,"number");kc.number=RZe;function BZe(e){return e instanceof Error}o(BZe,"error");kc.error=BZe;function DZe(e){return typeof e=="function"}o(DZe,"func");kc.func=DZe;function a1e(e){return Array.isArray(e)}o(a1e,"array");kc.array=a1e;function PZe(e){return a1e(e)&&e.every(t=>s1e(t))}o(PZe,"stringArray");kc.stringArray=PZe});var SK=j(Zr=>{"use strict";d();Object.defineProperty(Zr,"__esModule",{value:!0});Zr.Message=Zr.NotificationType9=Zr.NotificationType8=Zr.NotificationType7=Zr.NotificationType6=Zr.NotificationType5=Zr.NotificationType4=Zr.NotificationType3=Zr.NotificationType2=Zr.NotificationType1=Zr.NotificationType0=Zr.NotificationType=Zr.RequestType9=Zr.RequestType8=Zr.RequestType7=Zr.RequestType6=Zr.RequestType5=Zr.RequestType4=Zr.RequestType3=Zr.RequestType2=Zr.RequestType1=Zr.RequestType=Zr.RequestType0=Zr.AbstractMessageSignature=Zr.ParameterStructures=Zr.ResponseError=Zr.ErrorCodes=void 0;var s4=FE(),iK;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3})(iK||(Zr.ErrorCodes=iK={}));var oK=class e extends Error{static{o(this,"ResponseError")}constructor(t,r,n){super(r),this.code=s4.number(t)?t:iK.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,e.prototype)}toJson(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),t}};Zr.ResponseError=oK;var W0=class e{static{o(this,"ParameterStructures")}constructor(t){this.kind=t}static is(t){return t===e.auto||t===e.byName||t===e.byPosition}toString(){return this.kind}};Zr.ParameterStructures=W0;W0.auto=new W0("auto");W0.byPosition=new W0("byPosition");W0.byName=new W0("byName");var us=class{static{o(this,"AbstractMessageSignature")}constructor(t,r){this.method=t,this.numberOfParams=r}get parameterStructures(){return W0.auto}};Zr.AbstractMessageSignature=us;var sK=class extends us{static{o(this,"RequestType0")}constructor(t){super(t,0)}};Zr.RequestType0=sK;var aK=class extends us{static{o(this,"RequestType")}constructor(t,r=W0.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Zr.RequestType=aK;var lK=class extends us{static{o(this,"RequestType1")}constructor(t,r=W0.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Zr.RequestType1=lK;var cK=class extends us{static{o(this,"RequestType2")}constructor(t){super(t,2)}};Zr.RequestType2=cK;var uK=class extends us{static{o(this,"RequestType3")}constructor(t){super(t,3)}};Zr.RequestType3=uK;var fK=class extends us{static{o(this,"RequestType4")}constructor(t){super(t,4)}};Zr.RequestType4=fK;var dK=class extends us{static{o(this,"RequestType5")}constructor(t){super(t,5)}};Zr.RequestType5=dK;var mK=class extends us{static{o(this,"RequestType6")}constructor(t){super(t,6)}};Zr.RequestType6=mK;var hK=class extends us{static{o(this,"RequestType7")}constructor(t){super(t,7)}};Zr.RequestType7=hK;var pK=class extends us{static{o(this,"RequestType8")}constructor(t){super(t,8)}};Zr.RequestType8=pK;var gK=class extends us{static{o(this,"RequestType9")}constructor(t){super(t,9)}};Zr.RequestType9=gK;var AK=class extends us{static{o(this,"NotificationType")}constructor(t,r=W0.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Zr.NotificationType=AK;var yK=class extends us{static{o(this,"NotificationType0")}constructor(t){super(t,0)}};Zr.NotificationType0=yK;var CK=class extends us{static{o(this,"NotificationType1")}constructor(t,r=W0.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Zr.NotificationType1=CK;var xK=class extends us{static{o(this,"NotificationType2")}constructor(t){super(t,2)}};Zr.NotificationType2=xK;var vK=class extends us{static{o(this,"NotificationType3")}constructor(t){super(t,3)}};Zr.NotificationType3=vK;var bK=class extends us{static{o(this,"NotificationType4")}constructor(t){super(t,4)}};Zr.NotificationType4=bK;var EK=class extends us{static{o(this,"NotificationType5")}constructor(t){super(t,5)}};Zr.NotificationType5=EK;var IK=class extends us{static{o(this,"NotificationType6")}constructor(t){super(t,6)}};Zr.NotificationType6=IK;var TK=class extends us{static{o(this,"NotificationType7")}constructor(t){super(t,7)}};Zr.NotificationType7=TK;var wK=class extends us{static{o(this,"NotificationType8")}constructor(t){super(t,8)}};Zr.NotificationType8=wK;var _K=class extends us{static{o(this,"NotificationType9")}constructor(t){super(t,9)}};Zr.NotificationType9=_K;var l1e;(function(e){function t(i){let s=i;return s&&s4.string(s.method)&&(s4.string(s.id)||s4.number(s.id))}o(t,"isRequest"),e.isRequest=t;function r(i){let s=i;return s&&s4.string(s.method)&&i.id===void 0}o(r,"isNotification"),e.isNotification=r;function n(i){let s=i;return s&&(s.result!==void 0||!!s.error)&&(s4.string(s.id)||s4.number(s.id)||s.id===null)}o(n,"isResponse"),e.isResponse=n})(l1e||(Zr.Message=l1e={}))});var RK=j(Fy=>{"use strict";d();var c1e;Object.defineProperty(Fy,"__esModule",{value:!0});Fy.LRUCache=Fy.LinkedMap=Fy.Touch=void 0;var Rc;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(Rc||(Fy.Touch=Rc={}));var qP=class{static{o(this,"LinkedMap")}constructor(){this[c1e]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(t){return this._map.has(t)}get(t,r=Rc.None){let n=this._map.get(t);if(n)return r!==Rc.None&&this.touch(n,r),n.value}set(t,r,n=Rc.None){let i=this._map.get(t);if(i)i.value=r,n!==Rc.None&&this.touch(i,n);else{switch(i={key:t,value:r,next:void 0,previous:void 0},n){case Rc.None:this.addItemLast(i);break;case Rc.First:this.addItemFirst(i);break;case Rc.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let r=this._map.get(t);if(r)return this._map.delete(t),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._state,i=this._head;for(;i;){if(r?t.bind(r)(i.value,i.key,this):t(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:o(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.key,done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}values(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:o(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.value,done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}entries(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:o(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:[r.key,r.value],done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}[(c1e=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}t.next=void 0,t.previous=void 0,this._state++}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==Rc.First&&r!==Rc.Last)){if(r===Rc.First){if(t===this._head)return;let n=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(r===Rc.Last){if(t===this._tail)return;let n=t.next,i=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((r,n)=>{t.push([n,r])}),t}fromJSON(t){this.clear();for(let[r,n]of t)this.set(r,n)}};Fy.LinkedMap=qP;var kK=class extends qP{static{o(this,"LRUCache")}constructor(t,r=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,r=Rc.AsNew){return super.get(t,r)}peek(t){return super.get(t,Rc.None)}set(t,r){return super.set(t,r,Rc.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Fy.LRUCache=kK});var f1e=j(WP=>{"use strict";d();Object.defineProperty(WP,"__esModule",{value:!0});WP.Disposable=void 0;var u1e;(function(e){function t(r){return{dispose:r}}o(t,"create"),e.create=t})(u1e||(WP.Disposable=u1e={}))});var Ny=j(PK=>{"use strict";d();Object.defineProperty(PK,"__esModule",{value:!0});var BK;function DK(){if(BK===void 0)throw new Error("No runtime abstraction layer installed");return BK}o(DK,"RAL");(function(e){function t(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");BK=r}o(t,"install"),e.install=t})(DK||(DK={}));PK.default=DK});var LE=j(NE=>{"use strict";d();Object.defineProperty(NE,"__esModule",{value:!0});NE.Emitter=NE.Event=void 0;var FZe=Ny(),d1e;(function(e){let t={dispose(){}};e.None=function(){return t}})(d1e||(NE.Event=d1e={}));var FK=class{static{o(this,"CallbackList")}add(t,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:o(()=>this.remove(t,r),"dispose")})}remove(t,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===t)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,a=n.length;s<a;s++)try{r.push(n[s].apply(i[s],t))}catch(l){(0,FZe.default)().console.error(l)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},GP=class e{static{o(this,"Emitter")}constructor(t){this._options=t}get event(){return this._event||(this._event=(t,r,n)=>{this._callbacks||(this._callbacks=new FK),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,r);let i={dispose:o(()=>{this._callbacks&&(this._callbacks.remove(t,r),i.dispose=e._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))},"dispose")};return Array.isArray(n)&&n.push(i),i}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};NE.Emitter=GP;GP._noop=function(){}});var VP=j(QE=>{"use strict";d();Object.defineProperty(QE,"__esModule",{value:!0});QE.CancellationTokenSource=QE.CancellationToken=void 0;var NZe=Ny(),LZe=FE(),NK=LE(),HP;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:NK.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:NK.Event.None});function t(r){let n=r;return n&&(n===e.None||n===e.Cancelled||LZe.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}o(t,"is"),e.is=t})(HP||(QE.CancellationToken=HP={}));var QZe=Object.freeze(function(e,t){let r=(0,NZe.default)().timer.setTimeout(e.bind(t),0);return{dispose(){r.dispose()}}}),jP=class{static{o(this,"MutableToken")}constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?QZe:(this._emitter||(this._emitter=new NK.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},LK=class{static{o(this,"CancellationTokenSource")}get token(){return this._token||(this._token=new jP),this._token}cancel(){this._token?this._token.cancel():this._token=HP.Cancelled}dispose(){this._token?this._token instanceof jP&&this._token.dispose():this._token=HP.None}};QE.CancellationTokenSource=LK});var m1e=j(ME=>{"use strict";d();Object.defineProperty(ME,"__esModule",{value:!0});ME.SharedArrayReceiverStrategy=ME.SharedArraySenderStrategy=void 0;var MZe=VP(),ew;(function(e){e.Continue=0,e.Cancelled=1})(ew||(ew={}));var QK=class{static{o(this,"SharedArraySenderStrategy")}constructor(){this.buffers=new Map}enableCancellation(t){if(t.id===null)return;let r=new SharedArrayBuffer(4),n=new Int32Array(r,0,1);n[0]=ew.Continue,this.buffers.set(t.id,r),t.$cancellationData=r}async sendCancellation(t,r){let n=this.buffers.get(r);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,ew.Cancelled)}cleanup(t){this.buffers.delete(t)}dispose(){this.buffers.clear()}};ME.SharedArraySenderStrategy=QK;var MK=class{static{o(this,"SharedArrayBufferCancellationToken")}constructor(t){this.data=new Int32Array(t,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===ew.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},OK=class{static{o(this,"SharedArrayBufferCancellationTokenSource")}constructor(t){this.token=new MK(t)}cancel(){}dispose(){}},UK=class{static{o(this,"SharedArrayReceiverStrategy")}constructor(){this.kind="request"}createCancellationTokenSource(t){let r=t.$cancellationData;return r===void 0?new MZe.CancellationTokenSource:new OK(r)}};ME.SharedArrayReceiverStrategy=UK});var WK=j($P=>{"use strict";d();Object.defineProperty($P,"__esModule",{value:!0});$P.Semaphore=void 0;var OZe=Ny(),qK=class{static{o(this,"Semaphore")}constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((r,n)=>{this._waiting.push({thunk:t,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,OZe.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=t.thunk();r instanceof Promise?r.then(n=>{this._active--,t.resolve(n),this.runNext()},n=>{this._active--,t.reject(n),this.runNext()}):(this._active--,t.resolve(r),this.runNext())}catch(r){this._active--,t.reject(r),this.runNext()}}};$P.Semaphore=qK});var p1e=j(Ly=>{"use strict";d();Object.defineProperty(Ly,"__esModule",{value:!0});Ly.ReadableStreamMessageReader=Ly.AbstractMessageReader=Ly.MessageReader=void 0;var HK=Ny(),OE=FE(),GK=LE(),UZe=WK(),h1e;(function(e){function t(r){let n=r;return n&&OE.func(n.listen)&&OE.func(n.dispose)&&OE.func(n.onError)&&OE.func(n.onClose)&&OE.func(n.onPartialMessage)}o(t,"is"),e.is=t})(h1e||(Ly.MessageReader=h1e={}));var zP=class{static{o(this,"AbstractMessageReader")}constructor(){this.errorEmitter=new GK.Emitter,this.closeEmitter=new GK.Emitter,this.partialMessageEmitter=new GK.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${OE.string(t.message)?t.message:"unknown"}`)}};Ly.AbstractMessageReader=zP;var jK;(function(e){function t(r){let n,i,s,a=new Map,l,c=new Map;if(r===void 0||typeof r=="string")n=r??"utf-8";else{if(n=r.charset??"utf-8",r.contentDecoder!==void 0&&(s=r.contentDecoder,a.set(s.name,s)),r.contentDecoders!==void 0)for(let u of r.contentDecoders)a.set(u.name,u);if(r.contentTypeDecoder!==void 0&&(l=r.contentTypeDecoder,c.set(l.name,l)),r.contentTypeDecoders!==void 0)for(let u of r.contentTypeDecoders)c.set(u.name,u)}return l===void 0&&(l=(0,HK.default)().applicationJson.decoder,c.set(l.name,l)),{charset:n,contentDecoder:s,contentDecoders:a,contentTypeDecoder:l,contentTypeDecoders:c}}o(t,"fromOptions"),e.fromOptions=t})(jK||(jK={}));var VK=class extends zP{static{o(this,"ReadableStreamMessageReader")}constructor(t,r){super(),this.readable=t,this.options=jK.fromOptions(r),this.buffer=(0,HK.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new UZe.Semaphore(1)}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(t){try{for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(n))}`));return}let s=parseInt(i);if(isNaN(s)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=s}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(r):r,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}catch(r){this.fireError(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,HK.default)().timer.setTimeout((t,r)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Ly.ReadableStreamMessageReader=VK});var x1e=j(Qy=>{"use strict";d();Object.defineProperty(Qy,"__esModule",{value:!0});Qy.WriteableStreamMessageWriter=Qy.AbstractMessageWriter=Qy.MessageWriter=void 0;var g1e=Ny(),tw=FE(),qZe=WK(),A1e=LE(),WZe="Content-Length: ",y1e=`\r
`,C1e;(function(e){function t(r){let n=r;return n&&tw.func(n.dispose)&&tw.func(n.onClose)&&tw.func(n.onError)&&tw.func(n.write)}o(t,"is"),e.is=t})(C1e||(Qy.MessageWriter=C1e={}));var YP=class{static{o(this,"AbstractMessageWriter")}constructor(){this.errorEmitter=new A1e.Emitter,this.closeEmitter=new A1e.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,r,n){this.errorEmitter.fire([this.asError(t),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${tw.string(t.message)?t.message:"unknown"}`)}};Qy.AbstractMessageWriter=YP;var $K;(function(e){function t(r){return r===void 0||typeof r=="string"?{charset:r??"utf-8",contentTypeEncoder:(0,g1e.default)().applicationJson.encoder}:{charset:r.charset??"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:r.contentTypeEncoder??(0,g1e.default)().applicationJson.encoder}}o(t,"fromOptions"),e.fromOptions=t})($K||($K={}));var zK=class extends YP{static{o(this,"WriteableStreamMessageWriter")}constructor(t,r){super(),this.writable=t,this.options=$K.fromOptions(r),this.errorCount=0,this.writeSemaphore=new qZe.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(WZe,n.byteLength.toString(),y1e),i.push(y1e),this.doWrite(t,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(t,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,t),Promise.reject(i)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){this.writable.end()}};Qy.WriteableStreamMessageWriter=zK});var v1e=j(KP=>{"use strict";d();Object.defineProperty(KP,"__esModule",{value:!0});KP.AbstractMessageBuffer=void 0;var GZe=13,HZe=10,jZe=`\r
`,YK=class{static{o(this,"AbstractMessageBuffer")}constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){let r=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(t=!1){if(this._chunks.length===0)return;let r=0,n=0,i=0,s=0;e:for(;n<this._chunks.length;){let u=this._chunks[n];for(i=0;i<u.length;){switch(u[i]){case GZe:switch(r){case 0:r=1;break;case 2:r=3;break;default:r=0}break;case HZe:switch(r){case 1:r=2;break;case 3:r=4,i++;break e;default:r=0}break;default:r=0}i++}s+=u.byteLength,n++}if(r!==4)return;let a=this._read(s+i),l=new Map,c=this.toString(a,"ascii").split(jZe);if(c.length<2)return l;for(let u=0;u<c.length-2;u++){let f=c[u],m=f.indexOf(":");if(m===-1)throw new Error(`Message header must separate key and value using ':'
${f}`);let h=f.substr(0,m),p=f.substr(m+1).trim();l.set(t?h.toLowerCase():h,p)}return l}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(s)}if(this._chunks[0].byteLength>t){let s=this._chunks[0],a=this.asNative(s,t);return this._chunks[0]=s.slice(t),this._totalLength-=t,a}let r=this.allocNative(t),n=0,i=0;for(;t>0;){let s=this._chunks[i];if(s.byteLength>t){let a=s.slice(0,t);r.set(a,n),n+=t,this._chunks[i]=s.slice(t),this._totalLength-=t,t-=t}else r.set(s,n),n+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,t-=s.byteLength}return r}};KP.AbstractMessageBuffer=YK});var w1e=j(zn=>{"use strict";d();Object.defineProperty(zn,"__esModule",{value:!0});zn.createMessageConnection=zn.ConnectionOptions=zn.MessageStrategy=zn.CancellationStrategy=zn.CancellationSenderStrategy=zn.CancellationReceiverStrategy=zn.RequestCancellationReceiverStrategy=zn.IdCancellationReceiverStrategy=zn.ConnectionStrategy=zn.ConnectionError=zn.ConnectionErrors=zn.LogTraceNotification=zn.SetTraceNotification=zn.TraceFormat=zn.TraceValues=zn.Trace=zn.NullLogger=zn.ProgressType=zn.ProgressToken=void 0;var b1e=Ny(),Hs=FE(),Tn=SK(),E1e=RK(),rw=LE(),KK=VP(),ow;(function(e){e.type=new Tn.NotificationType("$/cancelRequest")})(ow||(ow={}));var JK;(function(e){function t(r){return typeof r=="string"||typeof r=="number"}o(t,"is"),e.is=t})(JK||(zn.ProgressToken=JK={}));var nw;(function(e){e.type=new Tn.NotificationType("$/progress")})(nw||(nw={}));var ZK=class{static{o(this,"ProgressType")}constructor(){}};zn.ProgressType=ZK;var XK;(function(e){function t(r){return Hs.func(r)}o(t,"is"),e.is=t})(XK||(XK={}));zn.NullLogger=Object.freeze({error:o(()=>{},"error"),warn:o(()=>{},"warn"),info:o(()=>{},"info"),log:o(()=>{},"log")});var po;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"})(po||(zn.Trace=po={}));var I1e;(function(e){e.Off="off",e.Messages="messages",e.Compact="compact",e.Verbose="verbose"})(I1e||(zn.TraceValues=I1e={}));(function(e){function t(n){if(!Hs.string(n))return e.Off;switch(n=n.toLowerCase(),n){case"off":return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose;default:return e.Off}}o(t,"fromString"),e.fromString=t;function r(n){switch(n){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}o(r,"toString"),e.toString=r})(po||(zn.Trace=po={}));var qu;(function(e){e.Text="text",e.JSON="json"})(qu||(zn.TraceFormat=qu={}));(function(e){function t(r){return Hs.string(r)?(r=r.toLowerCase(),r==="json"?e.JSON:e.Text):e.Text}o(t,"fromString"),e.fromString=t})(qu||(zn.TraceFormat=qu={}));var eJ;(function(e){e.type=new Tn.NotificationType("$/setTrace")})(eJ||(zn.SetTraceNotification=eJ={}));var JP;(function(e){e.type=new Tn.NotificationType("$/logTrace")})(JP||(zn.LogTraceNotification=JP={}));var iw;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(iw||(zn.ConnectionErrors=iw={}));var UE=class e extends Error{static{o(this,"ConnectionError")}constructor(t,r){super(r),this.code=t,Object.setPrototypeOf(this,e.prototype)}};zn.ConnectionError=UE;var tJ;(function(e){function t(r){let n=r;return n&&Hs.func(n.cancelUndispatched)}o(t,"is"),e.is=t})(tJ||(zn.ConnectionStrategy=tJ={}));var ZP;(function(e){function t(r){let n=r;return n&&(n.kind===void 0||n.kind==="id")&&Hs.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Hs.func(n.dispose))}o(t,"is"),e.is=t})(ZP||(zn.IdCancellationReceiverStrategy=ZP={}));var rJ;(function(e){function t(r){let n=r;return n&&n.kind==="request"&&Hs.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Hs.func(n.dispose))}o(t,"is"),e.is=t})(rJ||(zn.RequestCancellationReceiverStrategy=rJ={}));var XP;(function(e){e.Message=Object.freeze({createCancellationTokenSource(r){return new KK.CancellationTokenSource}});function t(r){return ZP.is(r)||rJ.is(r)}o(t,"is"),e.is=t})(XP||(zn.CancellationReceiverStrategy=XP={}));var eF;(function(e){e.Message=Object.freeze({sendCancellation(r,n){return r.sendNotification(ow.type,{id:n})},cleanup(r){}});function t(r){let n=r;return n&&Hs.func(n.sendCancellation)&&Hs.func(n.cleanup)}o(t,"is"),e.is=t})(eF||(zn.CancellationSenderStrategy=eF={}));var tF;(function(e){e.Message=Object.freeze({receiver:XP.Message,sender:eF.Message});function t(r){let n=r;return n&&XP.is(n.receiver)&&eF.is(n.sender)}o(t,"is"),e.is=t})(tF||(zn.CancellationStrategy=tF={}));var rF;(function(e){function t(r){let n=r;return n&&Hs.func(n.handleMessage)}o(t,"is"),e.is=t})(rF||(zn.MessageStrategy=rF={}));var T1e;(function(e){function t(r){let n=r;return n&&(tF.is(n.cancellationStrategy)||tJ.is(n.connectionStrategy)||rF.is(n.messageStrategy))}o(t,"is"),e.is=t})(T1e||(zn.ConnectionOptions=T1e={}));var Qm;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(Qm||(Qm={}));function VZe(e,t,r,n){let i=r!==void 0?r:zn.NullLogger,s=0,a=0,l=0,c="2.0",u,f=new Map,m,h=new Map,p=new Map,g,x=new E1e.LinkedMap,v=new Map,E=new Set,b=new Map,_=po.Off,R=qu.Text,P,F=Qm.New,G=new rw.Emitter,se=new rw.Emitter,Ae=new rw.Emitter,re=new rw.Emitter,W=new rw.Emitter,q=n&&n.cancellationStrategy?n.cancellationStrategy:tF.Message;function oe(pe){if(pe===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+pe.toString()}o(oe,"createRequestQueueKey");function X(pe){return pe===null?"res-unknown-"+(++l).toString():"res-"+pe.toString()}o(X,"createResponseQueueKey");function H(){return"not-"+(++a).toString()}o(H,"createNotificationQueueKey");function O(pe,Me){Tn.Message.isRequest(Me)?pe.set(oe(Me.id),Me):Tn.Message.isResponse(Me)?pe.set(X(Me.id),Me):pe.set(H(),Me)}o(O,"addMessageToQueue");function V(pe){}o(V,"cancelUndispatched");function J(){return F===Qm.Listening}o(J,"isListening");function ae(){return F===Qm.Closed}o(ae,"isClosed");function te(){return F===Qm.Disposed}o(te,"isDisposed");function le(){(F===Qm.New||F===Qm.Listening)&&(F=Qm.Closed,se.fire(void 0))}o(le,"closeHandler");function ce(pe){G.fire([pe,void 0,void 0])}o(ce,"readErrorHandler");function Pe(pe){G.fire(pe)}o(Pe,"writeErrorHandler"),e.onClose(le),e.onError(ce),t.onClose(le),t.onError(Pe);function Ie(){g||x.size===0||(g=(0,b1e.default)().timer.setImmediate(()=>{g=void 0,Re()}))}o(Ie,"triggerMessageQueue");function Fe(pe){Tn.Message.isRequest(pe)?lt(pe):Tn.Message.isNotification(pe)?ct(pe):Tn.Message.isResponse(pe)?st(pe):ne(pe)}o(Fe,"handleMessage");function Re(){if(x.size===0)return;let pe=x.shift();try{let Me=n?.messageStrategy;rF.is(Me)?Me.handleMessage(pe,Fe):Fe(pe)}finally{Ie()}}o(Re,"processMessageQueue");let Ge=o(pe=>{try{if(Tn.Message.isNotification(pe)&&pe.method===ow.type.method){let Me=pe.params.id,Ze=oe(Me),rt=x.get(Ze);if(Tn.Message.isRequest(rt)){let bt=n?.connectionStrategy,Qt=bt&&bt.cancelUndispatched?bt.cancelUndispatched(rt,V):void 0;if(Qt&&(Qt.error!==void 0||Qt.result!==void 0)){x.delete(Ze),b.delete(Me),Qt.id=rt.id,z(Qt,pe.method,Date.now()),t.write(Qt).catch(()=>i.error("Sending response for canceled message failed."));return}}let kt=b.get(Me);if(kt!==void 0){kt.cancel(),Qe(pe);return}else E.add(Me)}O(x,pe)}finally{Ie()}},"callback");function lt(pe){if(te())return;function Me(wt,Rt,_t){let qt={jsonrpc:c,id:pe.id};wt instanceof Tn.ResponseError?qt.error=wt.toJson():qt.result=wt===void 0?null:wt,z(qt,Rt,_t),t.write(qt).catch(()=>i.error("Sending response failed."))}o(Me,"reply");function Ze(wt,Rt,_t){let qt={jsonrpc:c,id:pe.id,error:wt.toJson()};z(qt,Rt,_t),t.write(qt).catch(()=>i.error("Sending response failed."))}o(Ze,"replyError");function rt(wt,Rt,_t){wt===void 0&&(wt=null);let qt={jsonrpc:c,id:pe.id,result:wt};z(qt,Rt,_t),t.write(qt).catch(()=>i.error("Sending response failed."))}o(rt,"replySuccess"),ee(pe);let kt=f.get(pe.method),bt,Qt;kt&&(bt=kt.type,Qt=kt.handler);let Ot=Date.now();if(Qt||u){let wt=pe.id??String(Date.now()),Rt=ZP.is(q.receiver)?q.receiver.createCancellationTokenSource(wt):q.receiver.createCancellationTokenSource(pe);pe.id!==null&&E.has(pe.id)&&Rt.cancel(),pe.id!==null&&b.set(wt,Rt);try{let _t;if(Qt)if(pe.params===void 0){if(bt!==void 0&&bt.numberOfParams!==0){Ze(new Tn.ResponseError(Tn.ErrorCodes.InvalidParams,`Request ${pe.method} defines ${bt.numberOfParams} params but received none.`),pe.method,Ot);return}_t=Qt(Rt.token)}else if(Array.isArray(pe.params)){if(bt!==void 0&&bt.parameterStructures===Tn.ParameterStructures.byName){Ze(new Tn.ResponseError(Tn.ErrorCodes.InvalidParams,`Request ${pe.method} defines parameters by name but received parameters by position`),pe.method,Ot);return}_t=Qt(...pe.params,Rt.token)}else{if(bt!==void 0&&bt.parameterStructures===Tn.ParameterStructures.byPosition){Ze(new Tn.ResponseError(Tn.ErrorCodes.InvalidParams,`Request ${pe.method} defines parameters by position but received parameters by name`),pe.method,Ot);return}_t=Qt(pe.params,Rt.token)}else u&&(_t=u(pe.method,pe.params,Rt.token));let qt=_t;_t?qt.then?qt.then(Ht=>{b.delete(wt),Me(Ht,pe.method,Ot)},Ht=>{b.delete(wt),Ht instanceof Tn.ResponseError?Ze(Ht,pe.method,Ot):Ht&&Hs.string(Ht.message)?Ze(new Tn.ResponseError(Tn.ErrorCodes.InternalError,`Request ${pe.method} failed with message: ${Ht.message}`),pe.method,Ot):Ze(new Tn.ResponseError(Tn.ErrorCodes.InternalError,`Request ${pe.method} failed unexpectedly without providing any details.`),pe.method,Ot)}):(b.delete(wt),Me(_t,pe.method,Ot)):(b.delete(wt),rt(_t,pe.method,Ot))}catch(_t){b.delete(wt),_t instanceof Tn.ResponseError?Me(_t,pe.method,Ot):_t&&Hs.string(_t.message)?Ze(new Tn.ResponseError(Tn.ErrorCodes.InternalError,`Request ${pe.method} failed with message: ${_t.message}`),pe.method,Ot):Ze(new Tn.ResponseError(Tn.ErrorCodes.InternalError,`Request ${pe.method} failed unexpectedly without providing any details.`),pe.method,Ot)}}else Ze(new Tn.ResponseError(Tn.ErrorCodes.MethodNotFound,`Unhandled method ${pe.method}`),pe.method,Ot)}o(lt,"handleRequest");function st(pe){if(!te())if(pe.id===null)pe.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(pe.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let Me=pe.id,Ze=v.get(Me);if(Se(pe,Ze),Ze!==void 0){v.delete(Me);try{if(pe.error){let rt=pe.error;Ze.reject(new Tn.ResponseError(rt.code,rt.message,rt.data))}else if(pe.result!==void 0)Ze.resolve(pe.result);else throw new Error("Should never happen.")}catch(rt){rt.message?i.error(`Response handler '${Ze.method}' failed with message: ${rt.message}`):i.error(`Response handler '${Ze.method}' failed unexpectedly.`)}}}}o(st,"handleResponse");function ct(pe){if(te())return;let Me,Ze;if(pe.method===ow.type.method){let rt=pe.params.id;E.delete(rt),Qe(pe);return}else{let rt=h.get(pe.method);rt&&(Ze=rt.handler,Me=rt.type)}if(Ze||m)try{if(Qe(pe),Ze)if(pe.params===void 0)Me!==void 0&&Me.numberOfParams!==0&&Me.parameterStructures!==Tn.ParameterStructures.byName&&i.error(`Notification ${pe.method} defines ${Me.numberOfParams} params but received none.`),Ze();else if(Array.isArray(pe.params)){let rt=pe.params;pe.method===nw.type.method&&rt.length===2&&JK.is(rt[0])?Ze({token:rt[0],value:rt[1]}):(Me!==void 0&&(Me.parameterStructures===Tn.ParameterStructures.byName&&i.error(`Notification ${pe.method} defines parameters by name but received parameters by position`),Me.numberOfParams!==pe.params.length&&i.error(`Notification ${pe.method} defines ${Me.numberOfParams} params but received ${rt.length} arguments`)),Ze(...rt))}else Me!==void 0&&Me.parameterStructures===Tn.ParameterStructures.byPosition&&i.error(`Notification ${pe.method} defines parameters by position but received parameters by name`),Ze(pe.params);else m&&m(pe.method,pe.params)}catch(rt){rt.message?i.error(`Notification handler '${pe.method}' failed with message: ${rt.message}`):i.error(`Notification handler '${pe.method}' failed unexpectedly.`)}else Ae.fire(pe)}o(ct,"handleNotification");function ne(pe){if(!pe){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(pe,null,4)}`);let Me=pe;if(Hs.string(Me.id)||Hs.number(Me.id)){let Ze=Me.id,rt=v.get(Ze);rt&&rt.reject(new Error("The received response has neither a result nor an error property."))}}o(ne,"handleInvalidMessage");function Ne(pe){if(pe!=null)switch(_){case po.Verbose:return JSON.stringify(pe,null,4);case po.Compact:return JSON.stringify(pe);default:return}}o(Ne,"stringifyTrace");function ge(pe){if(!(_===po.Off||!P))if(R===qu.Text){let Me;(_===po.Verbose||_===po.Compact)&&pe.params&&(Me=`Params: ${Ne(pe.params)}

`),P.log(`Sending request '${pe.method} - (${pe.id})'.`,Me)}else Ce("send-request",pe)}o(ge,"traceSendingRequest");function He(pe){if(!(_===po.Off||!P))if(R===qu.Text){let Me;(_===po.Verbose||_===po.Compact)&&(pe.params?Me=`Params: ${Ne(pe.params)}

`:Me=`No parameters provided.

`),P.log(`Sending notification '${pe.method}'.`,Me)}else Ce("send-notification",pe)}o(He,"traceSendingNotification");function z(pe,Me,Ze){if(!(_===po.Off||!P))if(R===qu.Text){let rt;(_===po.Verbose||_===po.Compact)&&(pe.error&&pe.error.data?rt=`Error data: ${Ne(pe.error.data)}

`:pe.result?rt=`Result: ${Ne(pe.result)}

`:pe.error===void 0&&(rt=`No result returned.

`)),P.log(`Sending response '${Me} - (${pe.id})'. Processing request took ${Date.now()-Ze}ms`,rt)}else Ce("send-response",pe)}o(z,"traceSendingResponse");function ee(pe){if(!(_===po.Off||!P))if(R===qu.Text){let Me;(_===po.Verbose||_===po.Compact)&&pe.params&&(Me=`Params: ${Ne(pe.params)}

`),P.log(`Received request '${pe.method} - (${pe.id})'.`,Me)}else Ce("receive-request",pe)}o(ee,"traceReceivedRequest");function Qe(pe){if(!(_===po.Off||!P||pe.method===JP.type.method))if(R===qu.Text){let Me;(_===po.Verbose||_===po.Compact)&&(pe.params?Me=`Params: ${Ne(pe.params)}

`:Me=`No parameters provided.

`),P.log(`Received notification '${pe.method}'.`,Me)}else Ce("receive-notification",pe)}o(Qe,"traceReceivedNotification");function Se(pe,Me){if(!(_===po.Off||!P))if(R===qu.Text){let Ze;if((_===po.Verbose||_===po.Compact)&&(pe.error&&pe.error.data?Ze=`Error data: ${Ne(pe.error.data)}

`:pe.result?Ze=`Result: ${Ne(pe.result)}

`:pe.error===void 0&&(Ze=`No result returned.

`)),Me){let rt=pe.error?` Request failed: ${pe.error.message} (${pe.error.code}).`:"";P.log(`Received response '${Me.method} - (${pe.id})' in ${Date.now()-Me.timerStart}ms.${rt}`,Ze)}else P.log(`Received response ${pe.id} without active response promise.`,Ze)}else Ce("receive-response",pe)}o(Se,"traceReceivedResponse");function Ce(pe,Me){if(!P||_===po.Off)return;let Ze={isLSPMessage:!0,type:pe,message:Me,timestamp:Date.now()};P.log(Ze)}o(Ce,"logLSPMessage");function qe(){if(ae())throw new UE(iw.Closed,"Connection is closed.");if(te())throw new UE(iw.Disposed,"Connection is disposed.")}o(qe,"throwIfClosedOrDisposed");function $e(){if(J())throw new UE(iw.AlreadyListening,"Connection is already listening")}o($e,"throwIfListening");function tt(){if(!J())throw new Error("Call listen() first.")}o(tt,"throwIfNotListening");function Ct(pe){return pe===void 0?null:pe}o(Ct,"undefinedToNull");function Pt(pe){if(pe!==null)return pe}o(Pt,"nullToUndefined");function yt(pe){return pe!=null&&!Array.isArray(pe)&&typeof pe=="object"}o(yt,"isNamedParam");function zt(pe,Me){switch(pe){case Tn.ParameterStructures.auto:return yt(Me)?Pt(Me):[Ct(Me)];case Tn.ParameterStructures.byName:if(!yt(Me))throw new Error("Received parameters by name but param is not an object literal.");return Pt(Me);case Tn.ParameterStructures.byPosition:return[Ct(Me)];default:throw new Error(`Unknown parameter structure ${pe.toString()}`)}}o(zt,"computeSingleParam");function Kt(pe,Me){let Ze,rt=pe.numberOfParams;switch(rt){case 0:Ze=void 0;break;case 1:Ze=zt(pe.parameterStructures,Me[0]);break;default:Ze=[];for(let kt=0;kt<Me.length&&kt<rt;kt++)Ze.push(Ct(Me[kt]));if(Me.length<rt)for(let kt=Me.length;kt<rt;kt++)Ze.push(null);break}return Ze}o(Kt,"computeMessageParams");let sr={sendNotification:o((pe,...Me)=>{qe();let Ze,rt;if(Hs.string(pe)){Ze=pe;let bt=Me[0],Qt=0,Ot=Tn.ParameterStructures.auto;Tn.ParameterStructures.is(bt)&&(Qt=1,Ot=bt);let wt=Me.length,Rt=wt-Qt;switch(Rt){case 0:rt=void 0;break;case 1:rt=zt(Ot,Me[Qt]);break;default:if(Ot===Tn.ParameterStructures.byName)throw new Error(`Received ${Rt} parameters for 'by Name' notification parameter structure.`);rt=Me.slice(Qt,wt).map(_t=>Ct(_t));break}}else{let bt=Me;Ze=pe.method,rt=Kt(pe,bt)}let kt={jsonrpc:c,method:Ze,params:rt};return He(kt),t.write(kt).catch(bt=>{throw i.error("Sending notification failed."),bt})},"sendNotification"),onNotification:o((pe,Me)=>{qe();let Ze;return Hs.func(pe)?m=pe:Me&&(Hs.string(pe)?(Ze=pe,h.set(pe,{type:void 0,handler:Me})):(Ze=pe.method,h.set(pe.method,{type:pe,handler:Me}))),{dispose:o(()=>{Ze!==void 0?h.delete(Ze):m=void 0},"dispose")}},"onNotification"),onProgress:o((pe,Me,Ze)=>{if(p.has(Me))throw new Error(`Progress handler for token ${Me} already registered`);return p.set(Me,Ze),{dispose:o(()=>{p.delete(Me)},"dispose")}},"onProgress"),sendProgress:o((pe,Me,Ze)=>sr.sendNotification(nw.type,{token:Me,value:Ze}),"sendProgress"),onUnhandledProgress:re.event,sendRequest:o((pe,...Me)=>{qe(),tt();let Ze,rt,kt;if(Hs.string(pe)){Ze=pe;let wt=Me[0],Rt=Me[Me.length-1],_t=0,qt=Tn.ParameterStructures.auto;Tn.ParameterStructures.is(wt)&&(_t=1,qt=wt);let Ht=Me.length;KK.CancellationToken.is(Rt)&&(Ht=Ht-1,kt=Rt);let Jt=Ht-_t;switch(Jt){case 0:rt=void 0;break;case 1:rt=zt(qt,Me[_t]);break;default:if(qt===Tn.ParameterStructures.byName)throw new Error(`Received ${Jt} parameters for 'by Name' request parameter structure.`);rt=Me.slice(_t,Ht).map(ur=>Ct(ur));break}}else{let wt=Me;Ze=pe.method,rt=Kt(pe,wt);let Rt=pe.numberOfParams;kt=KK.CancellationToken.is(wt[Rt])?wt[Rt]:void 0}let bt=s++,Qt;kt&&(Qt=kt.onCancellationRequested(()=>{let wt=q.sender.sendCancellation(sr,bt);return wt===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${bt}`),Promise.resolve()):wt.catch(()=>{i.log(`Sending cancellation messages for id ${bt} failed`)})}));let Ot={jsonrpc:c,id:bt,method:Ze,params:rt};return ge(Ot),typeof q.sender.enableCancellation=="function"&&q.sender.enableCancellation(Ot),new Promise(async(wt,Rt)=>{let _t=o(Jt=>{wt(Jt),q.sender.cleanup(bt),Qt?.dispose()},"resolveWithCleanup"),qt=o(Jt=>{Rt(Jt),q.sender.cleanup(bt),Qt?.dispose()},"rejectWithCleanup"),Ht={method:Ze,timerStart:Date.now(),resolve:_t,reject:qt};try{await t.write(Ot),v.set(bt,Ht)}catch(Jt){throw i.error("Sending request failed."),Ht.reject(new Tn.ResponseError(Tn.ErrorCodes.MessageWriteError,Jt.message?Jt.message:"Unknown reason")),Jt}})},"sendRequest"),onRequest:o((pe,Me)=>{qe();let Ze=null;return XK.is(pe)?(Ze=void 0,u=pe):Hs.string(pe)?(Ze=null,Me!==void 0&&(Ze=pe,f.set(pe,{handler:Me,type:void 0}))):Me!==void 0&&(Ze=pe.method,f.set(pe.method,{type:pe,handler:Me})),{dispose:o(()=>{Ze!==null&&(Ze!==void 0?f.delete(Ze):u=void 0)},"dispose")}},"onRequest"),hasPendingResponse:o(()=>v.size>0,"hasPendingResponse"),trace:o(async(pe,Me,Ze)=>{let rt=!1,kt=qu.Text;Ze!==void 0&&(Hs.boolean(Ze)?rt=Ze:(rt=Ze.sendNotification||!1,kt=Ze.traceFormat||qu.Text)),_=pe,R=kt,_===po.Off?P=void 0:P=Me,rt&&!ae()&&!te()&&await sr.sendNotification(eJ.type,{value:po.toString(pe)})},"trace"),onError:G.event,onClose:se.event,onUnhandledNotification:Ae.event,onDispose:W.event,end:o(()=>{t.end()},"end"),dispose:o(()=>{if(te())return;F=Qm.Disposed,W.fire(void 0);let pe=new Tn.ResponseError(Tn.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let Me of v.values())Me.reject(pe);v=new Map,b=new Map,E=new Set,x=new E1e.LinkedMap,Hs.func(t.dispose)&&t.dispose(),Hs.func(e.dispose)&&e.dispose()},"dispose"),listen:o(()=>{qe(),$e(),F=Qm.Listening,e.listen(Ge)},"listen"),inspect:o(()=>{(0,b1e.default)().console.log("inspect")},"inspect")};return sr.onNotification(JP.type,pe=>{if(_===po.Off||!P)return;let Me=_===po.Verbose||_===po.Compact;P.log(pe.message,Me?pe.verbose:void 0)}),sr.onNotification(nw.type,pe=>{let Me=p.get(pe.token);Me?Me(pe.value):re.fire(pe)}),sr}o(VZe,"createMessageConnection");zn.createMessageConnection=VZe});var nF=j(gt=>{"use strict";d();Object.defineProperty(gt,"__esModule",{value:!0});gt.ProgressType=gt.ProgressToken=gt.createMessageConnection=gt.NullLogger=gt.ConnectionOptions=gt.ConnectionStrategy=gt.AbstractMessageBuffer=gt.WriteableStreamMessageWriter=gt.AbstractMessageWriter=gt.MessageWriter=gt.ReadableStreamMessageReader=gt.AbstractMessageReader=gt.MessageReader=gt.SharedArrayReceiverStrategy=gt.SharedArraySenderStrategy=gt.CancellationToken=gt.CancellationTokenSource=gt.Emitter=gt.Event=gt.Disposable=gt.LRUCache=gt.Touch=gt.LinkedMap=gt.ParameterStructures=gt.NotificationType9=gt.NotificationType8=gt.NotificationType7=gt.NotificationType6=gt.NotificationType5=gt.NotificationType4=gt.NotificationType3=gt.NotificationType2=gt.NotificationType1=gt.NotificationType0=gt.NotificationType=gt.ErrorCodes=gt.ResponseError=gt.RequestType9=gt.RequestType8=gt.RequestType7=gt.RequestType6=gt.RequestType5=gt.RequestType4=gt.RequestType3=gt.RequestType2=gt.RequestType1=gt.RequestType0=gt.RequestType=gt.Message=gt.RAL=void 0;gt.MessageStrategy=gt.CancellationStrategy=gt.CancellationSenderStrategy=gt.CancellationReceiverStrategy=gt.ConnectionError=gt.ConnectionErrors=gt.LogTraceNotification=gt.SetTraceNotification=gt.TraceFormat=gt.TraceValues=gt.Trace=void 0;var Jo=SK();Object.defineProperty(gt,"Message",{enumerable:!0,get:o(function(){return Jo.Message},"get")});Object.defineProperty(gt,"RequestType",{enumerable:!0,get:o(function(){return Jo.RequestType},"get")});Object.defineProperty(gt,"RequestType0",{enumerable:!0,get:o(function(){return Jo.RequestType0},"get")});Object.defineProperty(gt,"RequestType1",{enumerable:!0,get:o(function(){return Jo.RequestType1},"get")});Object.defineProperty(gt,"RequestType2",{enumerable:!0,get:o(function(){return Jo.RequestType2},"get")});Object.defineProperty(gt,"RequestType3",{enumerable:!0,get:o(function(){return Jo.RequestType3},"get")});Object.defineProperty(gt,"RequestType4",{enumerable:!0,get:o(function(){return Jo.RequestType4},"get")});Object.defineProperty(gt,"RequestType5",{enumerable:!0,get:o(function(){return Jo.RequestType5},"get")});Object.defineProperty(gt,"RequestType6",{enumerable:!0,get:o(function(){return Jo.RequestType6},"get")});Object.defineProperty(gt,"RequestType7",{enumerable:!0,get:o(function(){return Jo.RequestType7},"get")});Object.defineProperty(gt,"RequestType8",{enumerable:!0,get:o(function(){return Jo.RequestType8},"get")});Object.defineProperty(gt,"RequestType9",{enumerable:!0,get:o(function(){return Jo.RequestType9},"get")});Object.defineProperty(gt,"ResponseError",{enumerable:!0,get:o(function(){return Jo.ResponseError},"get")});Object.defineProperty(gt,"ErrorCodes",{enumerable:!0,get:o(function(){return Jo.ErrorCodes},"get")});Object.defineProperty(gt,"NotificationType",{enumerable:!0,get:o(function(){return Jo.NotificationType},"get")});Object.defineProperty(gt,"NotificationType0",{enumerable:!0,get:o(function(){return Jo.NotificationType0},"get")});Object.defineProperty(gt,"NotificationType1",{enumerable:!0,get:o(function(){return Jo.NotificationType1},"get")});Object.defineProperty(gt,"NotificationType2",{enumerable:!0,get:o(function(){return Jo.NotificationType2},"get")});Object.defineProperty(gt,"NotificationType3",{enumerable:!0,get:o(function(){return Jo.NotificationType3},"get")});Object.defineProperty(gt,"NotificationType4",{enumerable:!0,get:o(function(){return Jo.NotificationType4},"get")});Object.defineProperty(gt,"NotificationType5",{enumerable:!0,get:o(function(){return Jo.NotificationType5},"get")});Object.defineProperty(gt,"NotificationType6",{enumerable:!0,get:o(function(){return Jo.NotificationType6},"get")});Object.defineProperty(gt,"NotificationType7",{enumerable:!0,get:o(function(){return Jo.NotificationType7},"get")});Object.defineProperty(gt,"NotificationType8",{enumerable:!0,get:o(function(){return Jo.NotificationType8},"get")});Object.defineProperty(gt,"NotificationType9",{enumerable:!0,get:o(function(){return Jo.NotificationType9},"get")});Object.defineProperty(gt,"ParameterStructures",{enumerable:!0,get:o(function(){return Jo.ParameterStructures},"get")});var nJ=RK();Object.defineProperty(gt,"LinkedMap",{enumerable:!0,get:o(function(){return nJ.LinkedMap},"get")});Object.defineProperty(gt,"LRUCache",{enumerable:!0,get:o(function(){return nJ.LRUCache},"get")});Object.defineProperty(gt,"Touch",{enumerable:!0,get:o(function(){return nJ.Touch},"get")});var $Ze=f1e();Object.defineProperty(gt,"Disposable",{enumerable:!0,get:o(function(){return $Ze.Disposable},"get")});var _1e=LE();Object.defineProperty(gt,"Event",{enumerable:!0,get:o(function(){return _1e.Event},"get")});Object.defineProperty(gt,"Emitter",{enumerable:!0,get:o(function(){return _1e.Emitter},"get")});var S1e=VP();Object.defineProperty(gt,"CancellationTokenSource",{enumerable:!0,get:o(function(){return S1e.CancellationTokenSource},"get")});Object.defineProperty(gt,"CancellationToken",{enumerable:!0,get:o(function(){return S1e.CancellationToken},"get")});var k1e=m1e();Object.defineProperty(gt,"SharedArraySenderStrategy",{enumerable:!0,get:o(function(){return k1e.SharedArraySenderStrategy},"get")});Object.defineProperty(gt,"SharedArrayReceiverStrategy",{enumerable:!0,get:o(function(){return k1e.SharedArrayReceiverStrategy},"get")});var iJ=p1e();Object.defineProperty(gt,"MessageReader",{enumerable:!0,get:o(function(){return iJ.MessageReader},"get")});Object.defineProperty(gt,"AbstractMessageReader",{enumerable:!0,get:o(function(){return iJ.AbstractMessageReader},"get")});Object.defineProperty(gt,"ReadableStreamMessageReader",{enumerable:!0,get:o(function(){return iJ.ReadableStreamMessageReader},"get")});var oJ=x1e();Object.defineProperty(gt,"MessageWriter",{enumerable:!0,get:o(function(){return oJ.MessageWriter},"get")});Object.defineProperty(gt,"AbstractMessageWriter",{enumerable:!0,get:o(function(){return oJ.AbstractMessageWriter},"get")});Object.defineProperty(gt,"WriteableStreamMessageWriter",{enumerable:!0,get:o(function(){return oJ.WriteableStreamMessageWriter},"get")});var zZe=v1e();Object.defineProperty(gt,"AbstractMessageBuffer",{enumerable:!0,get:o(function(){return zZe.AbstractMessageBuffer},"get")});var Zl=w1e();Object.defineProperty(gt,"ConnectionStrategy",{enumerable:!0,get:o(function(){return Zl.ConnectionStrategy},"get")});Object.defineProperty(gt,"ConnectionOptions",{enumerable:!0,get:o(function(){return Zl.ConnectionOptions},"get")});Object.defineProperty(gt,"NullLogger",{enumerable:!0,get:o(function(){return Zl.NullLogger},"get")});Object.defineProperty(gt,"createMessageConnection",{enumerable:!0,get:o(function(){return Zl.createMessageConnection},"get")});Object.defineProperty(gt,"ProgressToken",{enumerable:!0,get:o(function(){return Zl.ProgressToken},"get")});Object.defineProperty(gt,"ProgressType",{enumerable:!0,get:o(function(){return Zl.ProgressType},"get")});Object.defineProperty(gt,"Trace",{enumerable:!0,get:o(function(){return Zl.Trace},"get")});Object.defineProperty(gt,"TraceValues",{enumerable:!0,get:o(function(){return Zl.TraceValues},"get")});Object.defineProperty(gt,"TraceFormat",{enumerable:!0,get:o(function(){return Zl.TraceFormat},"get")});Object.defineProperty(gt,"SetTraceNotification",{enumerable:!0,get:o(function(){return Zl.SetTraceNotification},"get")});Object.defineProperty(gt,"LogTraceNotification",{enumerable:!0,get:o(function(){return Zl.LogTraceNotification},"get")});Object.defineProperty(gt,"ConnectionErrors",{enumerable:!0,get:o(function(){return Zl.ConnectionErrors},"get")});Object.defineProperty(gt,"ConnectionError",{enumerable:!0,get:o(function(){return Zl.ConnectionError},"get")});Object.defineProperty(gt,"CancellationReceiverStrategy",{enumerable:!0,get:o(function(){return Zl.CancellationReceiverStrategy},"get")});Object.defineProperty(gt,"CancellationSenderStrategy",{enumerable:!0,get:o(function(){return Zl.CancellationSenderStrategy},"get")});Object.defineProperty(gt,"CancellationStrategy",{enumerable:!0,get:o(function(){return Zl.CancellationStrategy},"get")});Object.defineProperty(gt,"MessageStrategy",{enumerable:!0,get:o(function(){return Zl.MessageStrategy},"get")});var YZe=Ny();gt.RAL=YZe.default});var D1e=j(cJ=>{"use strict";d();Object.defineProperty(cJ,"__esModule",{value:!0});var R1e=require("util"),F1=nF(),iF=class e extends F1.AbstractMessageBuffer{static{o(this,"MessageBuffer")}constructor(t="utf-8"){super(t)}emptyBuffer(){return e.emptyBuffer}fromString(t,r){return Buffer.from(t,r)}toString(t,r){return t instanceof Buffer?t.toString(r):new R1e.TextDecoder(r).decode(t)}asNative(t,r){return r===void 0?t instanceof Buffer?t:Buffer.from(t):t instanceof Buffer?t.slice(0,r):Buffer.from(t,0,r)}allocNative(t){return Buffer.allocUnsafe(t)}};iF.emptyBuffer=Buffer.allocUnsafe(0);var sJ=class{static{o(this,"ReadableStreamWrapper")}constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),F1.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),F1.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),F1.Disposable.create(()=>this.stream.off("end",t))}onData(t){return this.stream.on("data",t),F1.Disposable.create(()=>this.stream.off("data",t))}},aJ=class{static{o(this,"WritableStreamWrapper")}constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),F1.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),F1.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),F1.Disposable.create(()=>this.stream.off("end",t))}write(t,r){return new Promise((n,i)=>{let s=o(a=>{a==null?n():i(a)},"callback");typeof t=="string"?this.stream.write(t,r,s):this.stream.write(t,s)})}end(){this.stream.end()}},B1e=Object.freeze({messageBuffer:Object.freeze({create:o(e=>new iF(e),"create")}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:o((e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(r){return Promise.reject(r)}},"encode")}),decoder:Object.freeze({name:"application/json",decode:o((e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new R1e.TextDecoder(t.charset).decode(e)))}catch(r){return Promise.reject(r)}},"decode")})}),stream:Object.freeze({asReadableStream:o(e=>new sJ(e),"asReadableStream"),asWritableStream:o(e=>new aJ(e),"asWritableStream")}),console,timer:Object.freeze({setTimeout(e,t,...r){let n=setTimeout(e,t,...r);return{dispose:o(()=>clearTimeout(n),"dispose")}},setImmediate(e,...t){let r=setImmediate(e,...t);return{dispose:o(()=>clearImmediate(r),"dispose")}},setInterval(e,t,...r){let n=setInterval(e,t,...r);return{dispose:o(()=>clearInterval(n),"dispose")}}})});function lJ(){return B1e}o(lJ,"RIL");(function(e){function t(){F1.RAL.install(B1e)}o(t,"install"),e.install=t})(lJ||(lJ={}));cJ.default=lJ});var c4=j(qi=>{"use strict";d();var KZe=qi&&qi.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),JZe=qi&&qi.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&KZe(t,e,r)};Object.defineProperty(qi,"__esModule",{value:!0});qi.createMessageConnection=qi.createServerSocketTransport=qi.createClientSocketTransport=qi.createServerPipeTransport=qi.createClientPipeTransport=qi.generateRandomPipeName=qi.StreamMessageWriter=qi.StreamMessageReader=qi.SocketMessageWriter=qi.SocketMessageReader=qi.PortMessageWriter=qi.PortMessageReader=qi.IPCMessageWriter=qi.IPCMessageReader=void 0;var qE=D1e();qE.default.install();var P1e=require("path"),ZZe=require("os"),XZe=require("crypto"),aF=require("net"),Wu=nF();JZe(nF(),qi);var uJ=class extends Wu.AbstractMessageReader{static{o(this,"IPCMessageReader")}constructor(t){super(),this.process=t;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose())}listen(t){return this.process.on("message",t),Wu.Disposable.create(()=>this.process.off("message",t))}};qi.IPCMessageReader=uJ;var fJ=class extends Wu.AbstractMessageWriter{static{o(this,"IPCMessageWriter")}constructor(t){super(),this.process=t,this.errorCount=0;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose)}write(t){try{return typeof this.process.send=="function"&&this.process.send(t,void 0,void 0,r=>{r?(this.errorCount++,this.handleError(r,t)):this.errorCount=0}),Promise.resolve()}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){}};qi.IPCMessageWriter=fJ;var dJ=class extends Wu.AbstractMessageReader{static{o(this,"PortMessageReader")}constructor(t){super(),this.onData=new Wu.Emitter,t.on("close",()=>this.fireClose),t.on("error",r=>this.fireError(r)),t.on("message",r=>{this.onData.fire(r)})}listen(t){return this.onData.event(t)}};qi.PortMessageReader=dJ;var mJ=class extends Wu.AbstractMessageWriter{static{o(this,"PortMessageWriter")}constructor(t){super(),this.port=t,this.errorCount=0,t.on("close",()=>this.fireClose()),t.on("error",r=>this.fireError(r))}write(t){try{return this.port.postMessage(t),Promise.resolve()}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){}};qi.PortMessageWriter=mJ;var a4=class extends Wu.ReadableStreamMessageReader{static{o(this,"SocketMessageReader")}constructor(t,r="utf-8"){super((0,qE.default)().stream.asReadableStream(t),r)}};qi.SocketMessageReader=a4;var l4=class extends Wu.WriteableStreamMessageWriter{static{o(this,"SocketMessageWriter")}constructor(t,r){super((0,qE.default)().stream.asWritableStream(t),r),this.socket=t}dispose(){super.dispose(),this.socket.destroy()}};qi.SocketMessageWriter=l4;var oF=class extends Wu.ReadableStreamMessageReader{static{o(this,"StreamMessageReader")}constructor(t,r){super((0,qE.default)().stream.asReadableStream(t),r)}};qi.StreamMessageReader=oF;var sF=class extends Wu.WriteableStreamMessageWriter{static{o(this,"StreamMessageWriter")}constructor(t,r){super((0,qE.default)().stream.asWritableStream(t),r)}};qi.StreamMessageWriter=sF;var F1e=process.env.XDG_RUNTIME_DIR,eXe=new Map([["linux",107],["darwin",103]]);function tXe(){let e=(0,XZe.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;F1e?t=P1e.join(F1e,`vscode-ipc-${e}.sock`):t=P1e.join(ZZe.tmpdir(),`vscode-${e}.sock`);let r=eXe.get(process.platform);return r!==void 0&&t.length>r&&(0,qE.default)().console.warn(`WARNING: IPC handle "${t}" is longer than ${r} characters.`),t}o(tXe,"generateRandomPipeName");qi.generateRandomPipeName=tXe;function rXe(e,t="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let a=(0,aF.createServer)(l=>{a.close(),r([new a4(l,t),new l4(l,t)])});a.on("error",s),a.listen(e,()=>{a.removeListener("error",s),i({onConnected:o(()=>n,"onConnected")})})})}o(rXe,"createClientPipeTransport");qi.createClientPipeTransport=rXe;function nXe(e,t="utf-8"){let r=(0,aF.createConnection)(e);return[new a4(r,t),new l4(r,t)]}o(nXe,"createServerPipeTransport");qi.createServerPipeTransport=nXe;function iXe(e,t="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let a=(0,aF.createServer)(l=>{a.close(),r([new a4(l,t),new l4(l,t)])});a.on("error",s),a.listen(e,"127.0.0.1",()=>{a.removeListener("error",s),i({onConnected:o(()=>n,"onConnected")})})})}o(iXe,"createClientSocketTransport");qi.createClientSocketTransport=iXe;function oXe(e,t="utf-8"){let r=(0,aF.createConnection)(e,"127.0.0.1");return[new a4(r,t),new l4(r,t)]}o(oXe,"createServerSocketTransport");qi.createServerSocketTransport=oXe;function sXe(e){let t=e;return t.read!==void 0&&t.addListener!==void 0}o(sXe,"isReadableStream");function aXe(e){let t=e;return t.write!==void 0&&t.addListener!==void 0}o(aXe,"isWritableStream");function lXe(e,t,r,n){r||(r=Wu.NullLogger);let i=sXe(e)?new oF(e):e,s=aXe(t)?new sF(t):t;return Wu.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,Wu.createMessageConnection)(i,s,r,n)}o(lXe,"createMessageConnection");qi.createMessageConnection=lXe});var hJ=j((Nir,N1e)=>{"use strict";d();N1e.exports=c4()});var cF=j((L1e,lF)=>{d();(function(e){if(typeof lF=="object"&&typeof lF.exports=="object"){var t=e(require,L1e);t!==void 0&&(lF.exports=t)}else typeof define=="function"&&define.amd&&define(["require","exports"],e)})(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextDocument=t.EOL=t.WorkspaceFolder=t.InlineCompletionContext=t.SelectedCompletionInfo=t.InlineCompletionTriggerKind=t.InlineCompletionList=t.InlineCompletionItem=t.StringValue=t.InlayHint=t.InlayHintLabelPart=t.InlayHintKind=t.InlineValueContext=t.InlineValueEvaluatableExpression=t.InlineValueVariableLookup=t.InlineValueText=t.SemanticTokens=t.SemanticTokenModifiers=t.SemanticTokenTypes=t.SelectionRange=t.DocumentLink=t.FormattingOptions=t.CodeLens=t.CodeAction=t.CodeActionContext=t.CodeActionTriggerKind=t.CodeActionKind=t.DocumentSymbol=t.WorkspaceSymbol=t.SymbolInformation=t.SymbolTag=t.SymbolKind=t.DocumentHighlight=t.DocumentHighlightKind=t.SignatureInformation=t.ParameterInformation=t.Hover=t.MarkedString=t.CompletionList=t.CompletionItem=t.CompletionItemLabelDetails=t.InsertTextMode=t.InsertReplaceEdit=t.CompletionItemTag=t.InsertTextFormat=t.CompletionItemKind=t.MarkupContent=t.MarkupKind=t.TextDocumentItem=t.OptionalVersionedTextDocumentIdentifier=t.VersionedTextDocumentIdentifier=t.TextDocumentIdentifier=t.WorkspaceChange=t.WorkspaceEdit=t.DeleteFile=t.RenameFile=t.CreateFile=t.TextDocumentEdit=t.AnnotatedTextEdit=t.ChangeAnnotationIdentifier=t.ChangeAnnotation=t.TextEdit=t.Command=t.Diagnostic=t.CodeDescription=t.DiagnosticTag=t.DiagnosticSeverity=t.DiagnosticRelatedInformation=t.FoldingRange=t.FoldingRangeKind=t.ColorPresentation=t.ColorInformation=t.Color=t.LocationLink=t.Location=t.Range=t.Position=t.uinteger=t.integer=t.URI=t.DocumentUri=void 0;var r;(function(M){function de(ye){return typeof ye=="string"}o(de,"is"),M.is=de})(r||(t.DocumentUri=r={}));var n;(function(M){function de(ye){return typeof ye=="string"}o(de,"is"),M.is=de})(n||(t.URI=n={}));var i;(function(M){M.MIN_VALUE=-2147483648,M.MAX_VALUE=2147483647;function de(ye){return typeof ye=="number"&&M.MIN_VALUE<=ye&&ye<=M.MAX_VALUE}o(de,"is"),M.is=de})(i||(t.integer=i={}));var s;(function(M){M.MIN_VALUE=0,M.MAX_VALUE=2147483647;function de(ye){return typeof ye=="number"&&M.MIN_VALUE<=ye&&ye<=M.MAX_VALUE}o(de,"is"),M.is=de})(s||(t.uinteger=s={}));var a;(function(M){function de(Y,L){return Y===Number.MAX_VALUE&&(Y=s.MAX_VALUE),L===Number.MAX_VALUE&&(L=s.MAX_VALUE),{line:Y,character:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return Ee.objectLiteral(L)&&Ee.uinteger(L.line)&&Ee.uinteger(L.character)}o(ye,"is"),M.is=ye})(a||(t.Position=a={}));var l;(function(M){function de(Y,L,Te,Ue){if(Ee.uinteger(Y)&&Ee.uinteger(L)&&Ee.uinteger(Te)&&Ee.uinteger(Ue))return{start:a.create(Y,L),end:a.create(Te,Ue)};if(a.is(Y)&&a.is(L))return{start:Y,end:L};throw new Error("Range#create called with invalid arguments[".concat(Y,", ").concat(L,", ").concat(Te,", ").concat(Ue,"]"))}o(de,"create"),M.create=de;function ye(Y){var L=Y;return Ee.objectLiteral(L)&&a.is(L.start)&&a.is(L.end)}o(ye,"is"),M.is=ye})(l||(t.Range=l={}));var c;(function(M){function de(Y,L){return{uri:Y,range:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return Ee.objectLiteral(L)&&l.is(L.range)&&(Ee.string(L.uri)||Ee.undefined(L.uri))}o(ye,"is"),M.is=ye})(c||(t.Location=c={}));var u;(function(M){function de(Y,L,Te,Ue){return{targetUri:Y,targetRange:L,targetSelectionRange:Te,originSelectionRange:Ue}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return Ee.objectLiteral(L)&&l.is(L.targetRange)&&Ee.string(L.targetUri)&&l.is(L.targetSelectionRange)&&(l.is(L.originSelectionRange)||Ee.undefined(L.originSelectionRange))}o(ye,"is"),M.is=ye})(u||(t.LocationLink=u={}));var f;(function(M){function de(Y,L,Te,Ue){return{red:Y,green:L,blue:Te,alpha:Ue}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return Ee.objectLiteral(L)&&Ee.numberRange(L.red,0,1)&&Ee.numberRange(L.green,0,1)&&Ee.numberRange(L.blue,0,1)&&Ee.numberRange(L.alpha,0,1)}o(ye,"is"),M.is=ye})(f||(t.Color=f={}));var m;(function(M){function de(Y,L){return{range:Y,color:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return Ee.objectLiteral(L)&&l.is(L.range)&&f.is(L.color)}o(ye,"is"),M.is=ye})(m||(t.ColorInformation=m={}));var h;(function(M){function de(Y,L,Te){return{label:Y,textEdit:L,additionalTextEdits:Te}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return Ee.objectLiteral(L)&&Ee.string(L.label)&&(Ee.undefined(L.textEdit)||P.is(L))&&(Ee.undefined(L.additionalTextEdits)||Ee.typedArray(L.additionalTextEdits,P.is))}o(ye,"is"),M.is=ye})(h||(t.ColorPresentation=h={}));var p;(function(M){M.Comment="comment",M.Imports="imports",M.Region="region"})(p||(t.FoldingRangeKind=p={}));var g;(function(M){function de(Y,L,Te,Ue,xt,Wt){var Nt={startLine:Y,endLine:L};return Ee.defined(Te)&&(Nt.startCharacter=Te),Ee.defined(Ue)&&(Nt.endCharacter=Ue),Ee.defined(xt)&&(Nt.kind=xt),Ee.defined(Wt)&&(Nt.collapsedText=Wt),Nt}o(de,"create"),M.create=de;function ye(Y){var L=Y;return Ee.objectLiteral(L)&&Ee.uinteger(L.startLine)&&Ee.uinteger(L.startLine)&&(Ee.undefined(L.startCharacter)||Ee.uinteger(L.startCharacter))&&(Ee.undefined(L.endCharacter)||Ee.uinteger(L.endCharacter))&&(Ee.undefined(L.kind)||Ee.string(L.kind))}o(ye,"is"),M.is=ye})(g||(t.FoldingRange=g={}));var x;(function(M){function de(Y,L){return{location:Y,message:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return Ee.defined(L)&&c.is(L.location)&&Ee.string(L.message)}o(ye,"is"),M.is=ye})(x||(t.DiagnosticRelatedInformation=x={}));var v;(function(M){M.Error=1,M.Warning=2,M.Information=3,M.Hint=4})(v||(t.DiagnosticSeverity=v={}));var E;(function(M){M.Unnecessary=1,M.Deprecated=2})(E||(t.DiagnosticTag=E={}));var b;(function(M){function de(ye){var Y=ye;return Ee.objectLiteral(Y)&&Ee.string(Y.href)}o(de,"is"),M.is=de})(b||(t.CodeDescription=b={}));var _;(function(M){function de(Y,L,Te,Ue,xt,Wt){var Nt={range:Y,message:L};return Ee.defined(Te)&&(Nt.severity=Te),Ee.defined(Ue)&&(Nt.code=Ue),Ee.defined(xt)&&(Nt.source=xt),Ee.defined(Wt)&&(Nt.relatedInformation=Wt),Nt}o(de,"create"),M.create=de;function ye(Y){var L,Te=Y;return Ee.defined(Te)&&l.is(Te.range)&&Ee.string(Te.message)&&(Ee.number(Te.severity)||Ee.undefined(Te.severity))&&(Ee.integer(Te.code)||Ee.string(Te.code)||Ee.undefined(Te.code))&&(Ee.undefined(Te.codeDescription)||Ee.string((L=Te.codeDescription)===null||L===void 0?void 0:L.href))&&(Ee.string(Te.source)||Ee.undefined(Te.source))&&(Ee.undefined(Te.relatedInformation)||Ee.typedArray(Te.relatedInformation,x.is))}o(ye,"is"),M.is=ye})(_||(t.Diagnostic=_={}));var R;(function(M){function de(Y,L){for(var Te=[],Ue=2;Ue<arguments.length;Ue++)Te[Ue-2]=arguments[Ue];var xt={title:Y,command:L};return Ee.defined(Te)&&Te.length>0&&(xt.arguments=Te),xt}o(de,"create"),M.create=de;function ye(Y){var L=Y;return Ee.defined(L)&&Ee.string(L.title)&&Ee.string(L.command)}o(ye,"is"),M.is=ye})(R||(t.Command=R={}));var P;(function(M){function de(Te,Ue){return{range:Te,newText:Ue}}o(de,"replace"),M.replace=de;function ye(Te,Ue){return{range:{start:Te,end:Te},newText:Ue}}o(ye,"insert"),M.insert=ye;function Y(Te){return{range:Te,newText:""}}o(Y,"del"),M.del=Y;function L(Te){var Ue=Te;return Ee.objectLiteral(Ue)&&Ee.string(Ue.newText)&&l.is(Ue.range)}o(L,"is"),M.is=L})(P||(t.TextEdit=P={}));var F;(function(M){function de(Y,L,Te){var Ue={label:Y};return L!==void 0&&(Ue.needsConfirmation=L),Te!==void 0&&(Ue.description=Te),Ue}o(de,"create"),M.create=de;function ye(Y){var L=Y;return Ee.objectLiteral(L)&&Ee.string(L.label)&&(Ee.boolean(L.needsConfirmation)||L.needsConfirmation===void 0)&&(Ee.string(L.description)||L.description===void 0)}o(ye,"is"),M.is=ye})(F||(t.ChangeAnnotation=F={}));var G;(function(M){function de(ye){var Y=ye;return Ee.string(Y)}o(de,"is"),M.is=de})(G||(t.ChangeAnnotationIdentifier=G={}));var se;(function(M){function de(Te,Ue,xt){return{range:Te,newText:Ue,annotationId:xt}}o(de,"replace"),M.replace=de;function ye(Te,Ue,xt){return{range:{start:Te,end:Te},newText:Ue,annotationId:xt}}o(ye,"insert"),M.insert=ye;function Y(Te,Ue){return{range:Te,newText:"",annotationId:Ue}}o(Y,"del"),M.del=Y;function L(Te){var Ue=Te;return P.is(Ue)&&(F.is(Ue.annotationId)||G.is(Ue.annotationId))}o(L,"is"),M.is=L})(se||(t.AnnotatedTextEdit=se={}));var Ae;(function(M){function de(Y,L){return{textDocument:Y,edits:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return Ee.defined(L)&&ae.is(L.textDocument)&&Array.isArray(L.edits)}o(ye,"is"),M.is=ye})(Ae||(t.TextDocumentEdit=Ae={}));var re;(function(M){function de(Y,L,Te){var Ue={kind:"create",uri:Y};return L!==void 0&&(L.overwrite!==void 0||L.ignoreIfExists!==void 0)&&(Ue.options=L),Te!==void 0&&(Ue.annotationId=Te),Ue}o(de,"create"),M.create=de;function ye(Y){var L=Y;return L&&L.kind==="create"&&Ee.string(L.uri)&&(L.options===void 0||(L.options.overwrite===void 0||Ee.boolean(L.options.overwrite))&&(L.options.ignoreIfExists===void 0||Ee.boolean(L.options.ignoreIfExists)))&&(L.annotationId===void 0||G.is(L.annotationId))}o(ye,"is"),M.is=ye})(re||(t.CreateFile=re={}));var W;(function(M){function de(Y,L,Te,Ue){var xt={kind:"rename",oldUri:Y,newUri:L};return Te!==void 0&&(Te.overwrite!==void 0||Te.ignoreIfExists!==void 0)&&(xt.options=Te),Ue!==void 0&&(xt.annotationId=Ue),xt}o(de,"create"),M.create=de;function ye(Y){var L=Y;return L&&L.kind==="rename"&&Ee.string(L.oldUri)&&Ee.string(L.newUri)&&(L.options===void 0||(L.options.overwrite===void 0||Ee.boolean(L.options.overwrite))&&(L.options.ignoreIfExists===void 0||Ee.boolean(L.options.ignoreIfExists)))&&(L.annotationId===void 0||G.is(L.annotationId))}o(ye,"is"),M.is=ye})(W||(t.RenameFile=W={}));var q;(function(M){function de(Y,L,Te){var Ue={kind:"delete",uri:Y};return L!==void 0&&(L.recursive!==void 0||L.ignoreIfNotExists!==void 0)&&(Ue.options=L),Te!==void 0&&(Ue.annotationId=Te),Ue}o(de,"create"),M.create=de;function ye(Y){var L=Y;return L&&L.kind==="delete"&&Ee.string(L.uri)&&(L.options===void 0||(L.options.recursive===void 0||Ee.boolean(L.options.recursive))&&(L.options.ignoreIfNotExists===void 0||Ee.boolean(L.options.ignoreIfNotExists)))&&(L.annotationId===void 0||G.is(L.annotationId))}o(ye,"is"),M.is=ye})(q||(t.DeleteFile=q={}));var oe;(function(M){function de(ye){var Y=ye;return Y&&(Y.changes!==void 0||Y.documentChanges!==void 0)&&(Y.documentChanges===void 0||Y.documentChanges.every(function(L){return Ee.string(L.kind)?re.is(L)||W.is(L)||q.is(L):Ae.is(L)}))}o(de,"is"),M.is=de})(oe||(t.WorkspaceEdit=oe={}));var X=function(){function M(de,ye){this.edits=de,this.changeAnnotations=ye}return o(M,"TextEditChangeImpl"),M.prototype.insert=function(de,ye,Y){var L,Te;if(Y===void 0?L=P.insert(de,ye):G.is(Y)?(Te=Y,L=se.insert(de,ye,Y)):(this.assertChangeAnnotations(this.changeAnnotations),Te=this.changeAnnotations.manage(Y),L=se.insert(de,ye,Te)),this.edits.push(L),Te!==void 0)return Te},M.prototype.replace=function(de,ye,Y){var L,Te;if(Y===void 0?L=P.replace(de,ye):G.is(Y)?(Te=Y,L=se.replace(de,ye,Y)):(this.assertChangeAnnotations(this.changeAnnotations),Te=this.changeAnnotations.manage(Y),L=se.replace(de,ye,Te)),this.edits.push(L),Te!==void 0)return Te},M.prototype.delete=function(de,ye){var Y,L;if(ye===void 0?Y=P.del(de):G.is(ye)?(L=ye,Y=se.del(de,ye)):(this.assertChangeAnnotations(this.changeAnnotations),L=this.changeAnnotations.manage(ye),Y=se.del(de,L)),this.edits.push(Y),L!==void 0)return L},M.prototype.add=function(de){this.edits.push(de)},M.prototype.all=function(){return this.edits},M.prototype.clear=function(){this.edits.splice(0,this.edits.length)},M.prototype.assertChangeAnnotations=function(de){if(de===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},M}(),H=function(){function M(de){this._annotations=de===void 0?Object.create(null):de,this._counter=0,this._size=0}return o(M,"ChangeAnnotations"),M.prototype.all=function(){return this._annotations},Object.defineProperty(M.prototype,"size",{get:o(function(){return this._size},"get"),enumerable:!1,configurable:!0}),M.prototype.manage=function(de,ye){var Y;if(G.is(de)?Y=de:(Y=this.nextId(),ye=de),this._annotations[Y]!==void 0)throw new Error("Id ".concat(Y," is already in use."));if(ye===void 0)throw new Error("No annotation provided for id ".concat(Y));return this._annotations[Y]=ye,this._size++,Y},M.prototype.nextId=function(){return this._counter++,this._counter.toString()},M}(),O=function(){function M(de){var ye=this;this._textEditChanges=Object.create(null),de!==void 0?(this._workspaceEdit=de,de.documentChanges?(this._changeAnnotations=new H(de.changeAnnotations),de.changeAnnotations=this._changeAnnotations.all(),de.documentChanges.forEach(function(Y){if(Ae.is(Y)){var L=new X(Y.edits,ye._changeAnnotations);ye._textEditChanges[Y.textDocument.uri]=L}})):de.changes&&Object.keys(de.changes).forEach(function(Y){var L=new X(de.changes[Y]);ye._textEditChanges[Y]=L})):this._workspaceEdit={}}return o(M,"WorkspaceChange"),Object.defineProperty(M.prototype,"edit",{get:o(function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},"get"),enumerable:!1,configurable:!0}),M.prototype.getTextEditChange=function(de){if(ae.is(de)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var ye={uri:de.uri,version:de.version},Y=this._textEditChanges[ye.uri];if(!Y){var L=[],Te={textDocument:ye,edits:L};this._workspaceEdit.documentChanges.push(Te),Y=new X(L,this._changeAnnotations),this._textEditChanges[ye.uri]=Y}return Y}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var Y=this._textEditChanges[de];if(!Y){var L=[];this._workspaceEdit.changes[de]=L,Y=new X(L),this._textEditChanges[de]=Y}return Y}},M.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new H,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},M.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},M.prototype.createFile=function(de,ye,Y){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var L;F.is(ye)||G.is(ye)?L=ye:Y=ye;var Te,Ue;if(L===void 0?Te=re.create(de,Y):(Ue=G.is(L)?L:this._changeAnnotations.manage(L),Te=re.create(de,Y,Ue)),this._workspaceEdit.documentChanges.push(Te),Ue!==void 0)return Ue},M.prototype.renameFile=function(de,ye,Y,L){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var Te;F.is(Y)||G.is(Y)?Te=Y:L=Y;var Ue,xt;if(Te===void 0?Ue=W.create(de,ye,L):(xt=G.is(Te)?Te:this._changeAnnotations.manage(Te),Ue=W.create(de,ye,L,xt)),this._workspaceEdit.documentChanges.push(Ue),xt!==void 0)return xt},M.prototype.deleteFile=function(de,ye,Y){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var L;F.is(ye)||G.is(ye)?L=ye:Y=ye;var Te,Ue;if(L===void 0?Te=q.create(de,Y):(Ue=G.is(L)?L:this._changeAnnotations.manage(L),Te=q.create(de,Y,Ue)),this._workspaceEdit.documentChanges.push(Te),Ue!==void 0)return Ue},M}();t.WorkspaceChange=O;var V;(function(M){function de(Y){return{uri:Y}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return Ee.defined(L)&&Ee.string(L.uri)}o(ye,"is"),M.is=ye})(V||(t.TextDocumentIdentifier=V={}));var J;(function(M){function de(Y,L){return{uri:Y,version:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return Ee.defined(L)&&Ee.string(L.uri)&&Ee.integer(L.version)}o(ye,"is"),M.is=ye})(J||(t.VersionedTextDocumentIdentifier=J={}));var ae;(function(M){function de(Y,L){return{uri:Y,version:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return Ee.defined(L)&&Ee.string(L.uri)&&(L.version===null||Ee.integer(L.version))}o(ye,"is"),M.is=ye})(ae||(t.OptionalVersionedTextDocumentIdentifier=ae={}));var te;(function(M){function de(Y,L,Te,Ue){return{uri:Y,languageId:L,version:Te,text:Ue}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return Ee.defined(L)&&Ee.string(L.uri)&&Ee.string(L.languageId)&&Ee.integer(L.version)&&Ee.string(L.text)}o(ye,"is"),M.is=ye})(te||(t.TextDocumentItem=te={}));var le;(function(M){M.PlainText="plaintext",M.Markdown="markdown";function de(ye){var Y=ye;return Y===M.PlainText||Y===M.Markdown}o(de,"is"),M.is=de})(le||(t.MarkupKind=le={}));var ce;(function(M){function de(ye){var Y=ye;return Ee.objectLiteral(ye)&&le.is(Y.kind)&&Ee.string(Y.value)}o(de,"is"),M.is=de})(ce||(t.MarkupContent=ce={}));var Pe;(function(M){M.Text=1,M.Method=2,M.Function=3,M.Constructor=4,M.Field=5,M.Variable=6,M.Class=7,M.Interface=8,M.Module=9,M.Property=10,M.Unit=11,M.Value=12,M.Enum=13,M.Keyword=14,M.Snippet=15,M.Color=16,M.File=17,M.Reference=18,M.Folder=19,M.EnumMember=20,M.Constant=21,M.Struct=22,M.Event=23,M.Operator=24,M.TypeParameter=25})(Pe||(t.CompletionItemKind=Pe={}));var Ie;(function(M){M.PlainText=1,M.Snippet=2})(Ie||(t.InsertTextFormat=Ie={}));var Fe;(function(M){M.Deprecated=1})(Fe||(t.CompletionItemTag=Fe={}));var Re;(function(M){function de(Y,L,Te){return{newText:Y,insert:L,replace:Te}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return L&&Ee.string(L.newText)&&l.is(L.insert)&&l.is(L.replace)}o(ye,"is"),M.is=ye})(Re||(t.InsertReplaceEdit=Re={}));var Ge;(function(M){M.asIs=1,M.adjustIndentation=2})(Ge||(t.InsertTextMode=Ge={}));var lt;(function(M){function de(ye){var Y=ye;return Y&&(Ee.string(Y.detail)||Y.detail===void 0)&&(Ee.string(Y.description)||Y.description===void 0)}o(de,"is"),M.is=de})(lt||(t.CompletionItemLabelDetails=lt={}));var st;(function(M){function de(ye){return{label:ye}}o(de,"create"),M.create=de})(st||(t.CompletionItem=st={}));var ct;(function(M){function de(ye,Y){return{items:ye||[],isIncomplete:!!Y}}o(de,"create"),M.create=de})(ct||(t.CompletionList=ct={}));var ne;(function(M){function de(Y){return Y.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}o(de,"fromPlainText"),M.fromPlainText=de;function ye(Y){var L=Y;return Ee.string(L)||Ee.objectLiteral(L)&&Ee.string(L.language)&&Ee.string(L.value)}o(ye,"is"),M.is=ye})(ne||(t.MarkedString=ne={}));var Ne;(function(M){function de(ye){var Y=ye;return!!Y&&Ee.objectLiteral(Y)&&(ce.is(Y.contents)||ne.is(Y.contents)||Ee.typedArray(Y.contents,ne.is))&&(ye.range===void 0||l.is(ye.range))}o(de,"is"),M.is=de})(Ne||(t.Hover=Ne={}));var ge;(function(M){function de(ye,Y){return Y?{label:ye,documentation:Y}:{label:ye}}o(de,"create"),M.create=de})(ge||(t.ParameterInformation=ge={}));var He;(function(M){function de(ye,Y){for(var L=[],Te=2;Te<arguments.length;Te++)L[Te-2]=arguments[Te];var Ue={label:ye};return Ee.defined(Y)&&(Ue.documentation=Y),Ee.defined(L)?Ue.parameters=L:Ue.parameters=[],Ue}o(de,"create"),M.create=de})(He||(t.SignatureInformation=He={}));var z;(function(M){M.Text=1,M.Read=2,M.Write=3})(z||(t.DocumentHighlightKind=z={}));var ee;(function(M){function de(ye,Y){var L={range:ye};return Ee.number(Y)&&(L.kind=Y),L}o(de,"create"),M.create=de})(ee||(t.DocumentHighlight=ee={}));var Qe;(function(M){M.File=1,M.Module=2,M.Namespace=3,M.Package=4,M.Class=5,M.Method=6,M.Property=7,M.Field=8,M.Constructor=9,M.Enum=10,M.Interface=11,M.Function=12,M.Variable=13,M.Constant=14,M.String=15,M.Number=16,M.Boolean=17,M.Array=18,M.Object=19,M.Key=20,M.Null=21,M.EnumMember=22,M.Struct=23,M.Event=24,M.Operator=25,M.TypeParameter=26})(Qe||(t.SymbolKind=Qe={}));var Se;(function(M){M.Deprecated=1})(Se||(t.SymbolTag=Se={}));var Ce;(function(M){function de(ye,Y,L,Te,Ue){var xt={name:ye,kind:Y,location:{uri:Te,range:L}};return Ue&&(xt.containerName=Ue),xt}o(de,"create"),M.create=de})(Ce||(t.SymbolInformation=Ce={}));var qe;(function(M){function de(ye,Y,L,Te){return Te!==void 0?{name:ye,kind:Y,location:{uri:L,range:Te}}:{name:ye,kind:Y,location:{uri:L}}}o(de,"create"),M.create=de})(qe||(t.WorkspaceSymbol=qe={}));var $e;(function(M){function de(Y,L,Te,Ue,xt,Wt){var Nt={name:Y,detail:L,kind:Te,range:Ue,selectionRange:xt};return Wt!==void 0&&(Nt.children=Wt),Nt}o(de,"create"),M.create=de;function ye(Y){var L=Y;return L&&Ee.string(L.name)&&Ee.number(L.kind)&&l.is(L.range)&&l.is(L.selectionRange)&&(L.detail===void 0||Ee.string(L.detail))&&(L.deprecated===void 0||Ee.boolean(L.deprecated))&&(L.children===void 0||Array.isArray(L.children))&&(L.tags===void 0||Array.isArray(L.tags))}o(ye,"is"),M.is=ye})($e||(t.DocumentSymbol=$e={}));var tt;(function(M){M.Empty="",M.QuickFix="quickfix",M.Refactor="refactor",M.RefactorExtract="refactor.extract",M.RefactorInline="refactor.inline",M.RefactorRewrite="refactor.rewrite",M.Source="source",M.SourceOrganizeImports="source.organizeImports",M.SourceFixAll="source.fixAll"})(tt||(t.CodeActionKind=tt={}));var Ct;(function(M){M.Invoked=1,M.Automatic=2})(Ct||(t.CodeActionTriggerKind=Ct={}));var Pt;(function(M){function de(Y,L,Te){var Ue={diagnostics:Y};return L!=null&&(Ue.only=L),Te!=null&&(Ue.triggerKind=Te),Ue}o(de,"create"),M.create=de;function ye(Y){var L=Y;return Ee.defined(L)&&Ee.typedArray(L.diagnostics,_.is)&&(L.only===void 0||Ee.typedArray(L.only,Ee.string))&&(L.triggerKind===void 0||L.triggerKind===Ct.Invoked||L.triggerKind===Ct.Automatic)}o(ye,"is"),M.is=ye})(Pt||(t.CodeActionContext=Pt={}));var yt;(function(M){function de(Y,L,Te){var Ue={title:Y},xt=!0;return typeof L=="string"?(xt=!1,Ue.kind=L):R.is(L)?Ue.command=L:Ue.edit=L,xt&&Te!==void 0&&(Ue.kind=Te),Ue}o(de,"create"),M.create=de;function ye(Y){var L=Y;return L&&Ee.string(L.title)&&(L.diagnostics===void 0||Ee.typedArray(L.diagnostics,_.is))&&(L.kind===void 0||Ee.string(L.kind))&&(L.edit!==void 0||L.command!==void 0)&&(L.command===void 0||R.is(L.command))&&(L.isPreferred===void 0||Ee.boolean(L.isPreferred))&&(L.edit===void 0||oe.is(L.edit))}o(ye,"is"),M.is=ye})(yt||(t.CodeAction=yt={}));var zt;(function(M){function de(Y,L){var Te={range:Y};return Ee.defined(L)&&(Te.data=L),Te}o(de,"create"),M.create=de;function ye(Y){var L=Y;return Ee.defined(L)&&l.is(L.range)&&(Ee.undefined(L.command)||R.is(L.command))}o(ye,"is"),M.is=ye})(zt||(t.CodeLens=zt={}));var Kt;(function(M){function de(Y,L){return{tabSize:Y,insertSpaces:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return Ee.defined(L)&&Ee.uinteger(L.tabSize)&&Ee.boolean(L.insertSpaces)}o(ye,"is"),M.is=ye})(Kt||(t.FormattingOptions=Kt={}));var sr;(function(M){function de(Y,L,Te){return{range:Y,target:L,data:Te}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return Ee.defined(L)&&l.is(L.range)&&(Ee.undefined(L.target)||Ee.string(L.target))}o(ye,"is"),M.is=ye})(sr||(t.DocumentLink=sr={}));var pe;(function(M){function de(Y,L){return{range:Y,parent:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return Ee.objectLiteral(L)&&l.is(L.range)&&(L.parent===void 0||M.is(L.parent))}o(ye,"is"),M.is=ye})(pe||(t.SelectionRange=pe={}));var Me;(function(M){M.namespace="namespace",M.type="type",M.class="class",M.enum="enum",M.interface="interface",M.struct="struct",M.typeParameter="typeParameter",M.parameter="parameter",M.variable="variable",M.property="property",M.enumMember="enumMember",M.event="event",M.function="function",M.method="method",M.macro="macro",M.keyword="keyword",M.modifier="modifier",M.comment="comment",M.string="string",M.number="number",M.regexp="regexp",M.operator="operator",M.decorator="decorator"})(Me||(t.SemanticTokenTypes=Me={}));var Ze;(function(M){M.declaration="declaration",M.definition="definition",M.readonly="readonly",M.static="static",M.deprecated="deprecated",M.abstract="abstract",M.async="async",M.modification="modification",M.documentation="documentation",M.defaultLibrary="defaultLibrary"})(Ze||(t.SemanticTokenModifiers=Ze={}));var rt;(function(M){function de(ye){var Y=ye;return Ee.objectLiteral(Y)&&(Y.resultId===void 0||typeof Y.resultId=="string")&&Array.isArray(Y.data)&&(Y.data.length===0||typeof Y.data[0]=="number")}o(de,"is"),M.is=de})(rt||(t.SemanticTokens=rt={}));var kt;(function(M){function de(Y,L){return{range:Y,text:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return L!=null&&l.is(L.range)&&Ee.string(L.text)}o(ye,"is"),M.is=ye})(kt||(t.InlineValueText=kt={}));var bt;(function(M){function de(Y,L,Te){return{range:Y,variableName:L,caseSensitiveLookup:Te}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return L!=null&&l.is(L.range)&&Ee.boolean(L.caseSensitiveLookup)&&(Ee.string(L.variableName)||L.variableName===void 0)}o(ye,"is"),M.is=ye})(bt||(t.InlineValueVariableLookup=bt={}));var Qt;(function(M){function de(Y,L){return{range:Y,expression:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return L!=null&&l.is(L.range)&&(Ee.string(L.expression)||L.expression===void 0)}o(ye,"is"),M.is=ye})(Qt||(t.InlineValueEvaluatableExpression=Qt={}));var Ot;(function(M){function de(Y,L){return{frameId:Y,stoppedLocation:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return Ee.defined(L)&&l.is(Y.stoppedLocation)}o(ye,"is"),M.is=ye})(Ot||(t.InlineValueContext=Ot={}));var wt;(function(M){M.Type=1,M.Parameter=2;function de(ye){return ye===1||ye===2}o(de,"is"),M.is=de})(wt||(t.InlayHintKind=wt={}));var Rt;(function(M){function de(Y){return{value:Y}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return Ee.objectLiteral(L)&&(L.tooltip===void 0||Ee.string(L.tooltip)||ce.is(L.tooltip))&&(L.location===void 0||c.is(L.location))&&(L.command===void 0||R.is(L.command))}o(ye,"is"),M.is=ye})(Rt||(t.InlayHintLabelPart=Rt={}));var _t;(function(M){function de(Y,L,Te){var Ue={position:Y,label:L};return Te!==void 0&&(Ue.kind=Te),Ue}o(de,"create"),M.create=de;function ye(Y){var L=Y;return Ee.objectLiteral(L)&&a.is(L.position)&&(Ee.string(L.label)||Ee.typedArray(L.label,Rt.is))&&(L.kind===void 0||wt.is(L.kind))&&L.textEdits===void 0||Ee.typedArray(L.textEdits,P.is)&&(L.tooltip===void 0||Ee.string(L.tooltip)||ce.is(L.tooltip))&&(L.paddingLeft===void 0||Ee.boolean(L.paddingLeft))&&(L.paddingRight===void 0||Ee.boolean(L.paddingRight))}o(ye,"is"),M.is=ye})(_t||(t.InlayHint=_t={}));var qt;(function(M){function de(ye){return{kind:"snippet",value:ye}}o(de,"createSnippet"),M.createSnippet=de})(qt||(t.StringValue=qt={}));var Ht;(function(M){function de(ye,Y,L,Te){return{insertText:ye,filterText:Y,range:L,command:Te}}o(de,"create"),M.create=de})(Ht||(t.InlineCompletionItem=Ht={}));var Jt;(function(M){function de(ye){return{items:ye}}o(de,"create"),M.create=de})(Jt||(t.InlineCompletionList=Jt={}));var ur;(function(M){M.Invoked=0,M.Automatic=1})(ur||(t.InlineCompletionTriggerKind=ur={}));var gr;(function(M){function de(ye,Y){return{range:ye,text:Y}}o(de,"create"),M.create=de})(gr||(t.SelectedCompletionInfo=gr={}));var lr;(function(M){function de(ye,Y){return{triggerKind:ye,selectedCompletionInfo:Y}}o(de,"create"),M.create=de})(lr||(t.InlineCompletionContext=lr={}));var fr;(function(M){function de(ye){var Y=ye;return Ee.objectLiteral(Y)&&n.is(Y.uri)&&Ee.string(Y.name)}o(de,"is"),M.is=de})(fr||(t.WorkspaceFolder=fr={})),t.EOL=[`
`,`\r
`,"\r"];var rr;(function(M){function de(Te,Ue,xt,Wt){return new dr(Te,Ue,xt,Wt)}o(de,"create"),M.create=de;function ye(Te){var Ue=Te;return!!(Ee.defined(Ue)&&Ee.string(Ue.uri)&&(Ee.undefined(Ue.languageId)||Ee.string(Ue.languageId))&&Ee.uinteger(Ue.lineCount)&&Ee.func(Ue.getText)&&Ee.func(Ue.positionAt)&&Ee.func(Ue.offsetAt))}o(ye,"is"),M.is=ye;function Y(Te,Ue){for(var xt=Te.getText(),Wt=L(Ue,function(cr,zo){var sm=cr.range.start.line-zo.range.start.line;return sm===0?cr.range.start.character-zo.range.start.character:sm}),Nt=xt.length,ir=Wt.length-1;ir>=0;ir--){var ar=Wt[ir],Ut=Te.offsetAt(ar.range.start),It=Te.offsetAt(ar.range.end);if(It<=Nt)xt=xt.substring(0,Ut)+ar.newText+xt.substring(It,xt.length);else throw new Error("Overlapping edit");Nt=Ut}return xt}o(Y,"applyEdits"),M.applyEdits=Y;function L(Te,Ue){if(Te.length<=1)return Te;var xt=Te.length/2|0,Wt=Te.slice(0,xt),Nt=Te.slice(xt);L(Wt,Ue),L(Nt,Ue);for(var ir=0,ar=0,Ut=0;ir<Wt.length&&ar<Nt.length;){var It=Ue(Wt[ir],Nt[ar]);It<=0?Te[Ut++]=Wt[ir++]:Te[Ut++]=Nt[ar++]}for(;ir<Wt.length;)Te[Ut++]=Wt[ir++];for(;ar<Nt.length;)Te[Ut++]=Nt[ar++];return Te}o(L,"mergeSort")})(rr||(t.TextDocument=rr={}));var dr=function(){function M(de,ye,Y,L){this._uri=de,this._languageId=ye,this._version=Y,this._content=L,this._lineOffsets=void 0}return o(M,"FullTextDocument"),Object.defineProperty(M.prototype,"uri",{get:o(function(){return this._uri},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"languageId",{get:o(function(){return this._languageId},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"version",{get:o(function(){return this._version},"get"),enumerable:!1,configurable:!0}),M.prototype.getText=function(de){if(de){var ye=this.offsetAt(de.start),Y=this.offsetAt(de.end);return this._content.substring(ye,Y)}return this._content},M.prototype.update=function(de,ye){this._content=de.text,this._version=ye,this._lineOffsets=void 0},M.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var de=[],ye=this._content,Y=!0,L=0;L<ye.length;L++){Y&&(de.push(L),Y=!1);var Te=ye.charAt(L);Y=Te==="\r"||Te===`
`,Te==="\r"&&L+1<ye.length&&ye.charAt(L+1)===`
`&&L++}Y&&ye.length>0&&de.push(ye.length),this._lineOffsets=de}return this._lineOffsets},M.prototype.positionAt=function(de){de=Math.max(Math.min(de,this._content.length),0);var ye=this.getLineOffsets(),Y=0,L=ye.length;if(L===0)return a.create(0,de);for(;Y<L;){var Te=Math.floor((Y+L)/2);ye[Te]>de?L=Te:Y=Te+1}var Ue=Y-1;return a.create(Ue,de-ye[Ue])},M.prototype.offsetAt=function(de){var ye=this.getLineOffsets();if(de.line>=ye.length)return this._content.length;if(de.line<0)return 0;var Y=ye[de.line],L=de.line+1<ye.length?ye[de.line+1]:this._content.length;return Math.max(Math.min(Y+de.character,L),Y)},Object.defineProperty(M.prototype,"lineCount",{get:o(function(){return this.getLineOffsets().length},"get"),enumerable:!1,configurable:!0}),M}(),Ee;(function(M){var de=Object.prototype.toString;function ye(It){return typeof It<"u"}o(ye,"defined"),M.defined=ye;function Y(It){return typeof It>"u"}o(Y,"undefined"),M.undefined=Y;function L(It){return It===!0||It===!1}o(L,"boolean"),M.boolean=L;function Te(It){return de.call(It)==="[object String]"}o(Te,"string"),M.string=Te;function Ue(It){return de.call(It)==="[object Number]"}o(Ue,"number"),M.number=Ue;function xt(It,cr,zo){return de.call(It)==="[object Number]"&&cr<=It&&It<=zo}o(xt,"numberRange"),M.numberRange=xt;function Wt(It){return de.call(It)==="[object Number]"&&-2147483648<=It&&It<=2147483647}o(Wt,"integer"),M.integer=Wt;function Nt(It){return de.call(It)==="[object Number]"&&0<=It&&It<=2147483647}o(Nt,"uinteger"),M.uinteger=Nt;function ir(It){return de.call(It)==="[object Function]"}o(ir,"func"),M.func=ir;function ar(It){return It!==null&&typeof It=="object"}o(ar,"objectLiteral"),M.objectLiteral=ar;function Ut(It,cr){return Array.isArray(It)&&It.every(cr)}o(Ut,"typedArray"),M.typedArray=Ut})(Ee||(Ee={}))})});var Rs=j(G0=>{"use strict";d();Object.defineProperty(G0,"__esModule",{value:!0});G0.ProtocolNotificationType=G0.ProtocolNotificationType0=G0.ProtocolRequestType=G0.ProtocolRequestType0=G0.RegistrationType=G0.MessageDirection=void 0;var WE=c4(),Q1e;(function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"})(Q1e||(G0.MessageDirection=Q1e={}));var pJ=class{static{o(this,"RegistrationType")}constructor(t){this.method=t}};G0.RegistrationType=pJ;var gJ=class extends WE.RequestType0{static{o(this,"ProtocolRequestType0")}constructor(t){super(t)}};G0.ProtocolRequestType0=gJ;var AJ=class extends WE.RequestType{static{o(this,"ProtocolRequestType")}constructor(t){super(t,WE.ParameterStructures.byName)}};G0.ProtocolRequestType=AJ;var yJ=class extends WE.NotificationType0{static{o(this,"ProtocolNotificationType0")}constructor(t){super(t)}};G0.ProtocolNotificationType0=yJ;var CJ=class extends WE.NotificationType{static{o(this,"ProtocolNotificationType")}constructor(t){super(t,WE.ParameterStructures.byName)}};G0.ProtocolNotificationType=CJ});var uF=j(Ua=>{"use strict";d();Object.defineProperty(Ua,"__esModule",{value:!0});Ua.objectLiteral=Ua.typedArray=Ua.stringArray=Ua.array=Ua.func=Ua.error=Ua.number=Ua.string=Ua.boolean=void 0;function cXe(e){return e===!0||e===!1}o(cXe,"boolean");Ua.boolean=cXe;function M1e(e){return typeof e=="string"||e instanceof String}o(M1e,"string");Ua.string=M1e;function uXe(e){return typeof e=="number"||e instanceof Number}o(uXe,"number");Ua.number=uXe;function fXe(e){return e instanceof Error}o(fXe,"error");Ua.error=fXe;function dXe(e){return typeof e=="function"}o(dXe,"func");Ua.func=dXe;function O1e(e){return Array.isArray(e)}o(O1e,"array");Ua.array=O1e;function mXe(e){return O1e(e)&&e.every(t=>M1e(t))}o(mXe,"stringArray");Ua.stringArray=mXe;function hXe(e,t){return Array.isArray(e)&&e.every(t)}o(hXe,"typedArray");Ua.typedArray=hXe;function pXe(e){return e!==null&&typeof e=="object"}o(pXe,"objectLiteral");Ua.objectLiteral=pXe});var W1e=j(fF=>{"use strict";d();Object.defineProperty(fF,"__esModule",{value:!0});fF.ImplementationRequest=void 0;var U1e=Rs(),q1e;(function(e){e.method="textDocument/implementation",e.messageDirection=U1e.MessageDirection.clientToServer,e.type=new U1e.ProtocolRequestType(e.method)})(q1e||(fF.ImplementationRequest=q1e={}))});var j1e=j(dF=>{"use strict";d();Object.defineProperty(dF,"__esModule",{value:!0});dF.TypeDefinitionRequest=void 0;var G1e=Rs(),H1e;(function(e){e.method="textDocument/typeDefinition",e.messageDirection=G1e.MessageDirection.clientToServer,e.type=new G1e.ProtocolRequestType(e.method)})(H1e||(dF.TypeDefinitionRequest=H1e={}))});var z1e=j(GE=>{"use strict";d();Object.defineProperty(GE,"__esModule",{value:!0});GE.DidChangeWorkspaceFoldersNotification=GE.WorkspaceFoldersRequest=void 0;var mF=Rs(),V1e;(function(e){e.method="workspace/workspaceFolders",e.messageDirection=mF.MessageDirection.serverToClient,e.type=new mF.ProtocolRequestType0(e.method)})(V1e||(GE.WorkspaceFoldersRequest=V1e={}));var $1e;(function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=mF.MessageDirection.clientToServer,e.type=new mF.ProtocolNotificationType(e.method)})($1e||(GE.DidChangeWorkspaceFoldersNotification=$1e={}))});var J1e=j(hF=>{"use strict";d();Object.defineProperty(hF,"__esModule",{value:!0});hF.ConfigurationRequest=void 0;var Y1e=Rs(),K1e;(function(e){e.method="workspace/configuration",e.messageDirection=Y1e.MessageDirection.serverToClient,e.type=new Y1e.ProtocolRequestType(e.method)})(K1e||(hF.ConfigurationRequest=K1e={}))});var eAe=j(HE=>{"use strict";d();Object.defineProperty(HE,"__esModule",{value:!0});HE.ColorPresentationRequest=HE.DocumentColorRequest=void 0;var pF=Rs(),Z1e;(function(e){e.method="textDocument/documentColor",e.messageDirection=pF.MessageDirection.clientToServer,e.type=new pF.ProtocolRequestType(e.method)})(Z1e||(HE.DocumentColorRequest=Z1e={}));var X1e;(function(e){e.method="textDocument/colorPresentation",e.messageDirection=pF.MessageDirection.clientToServer,e.type=new pF.ProtocolRequestType(e.method)})(X1e||(HE.ColorPresentationRequest=X1e={}))});var nAe=j(jE=>{"use strict";d();Object.defineProperty(jE,"__esModule",{value:!0});jE.FoldingRangeRefreshRequest=jE.FoldingRangeRequest=void 0;var gF=Rs(),tAe;(function(e){e.method="textDocument/foldingRange",e.messageDirection=gF.MessageDirection.clientToServer,e.type=new gF.ProtocolRequestType(e.method)})(tAe||(jE.FoldingRangeRequest=tAe={}));var rAe;(function(e){e.method="workspace/foldingRange/refresh",e.messageDirection=gF.MessageDirection.serverToClient,e.type=new gF.ProtocolRequestType0(e.method)})(rAe||(jE.FoldingRangeRefreshRequest=rAe={}))});var sAe=j(AF=>{"use strict";d();Object.defineProperty(AF,"__esModule",{value:!0});AF.DeclarationRequest=void 0;var iAe=Rs(),oAe;(function(e){e.method="textDocument/declaration",e.messageDirection=iAe.MessageDirection.clientToServer,e.type=new iAe.ProtocolRequestType(e.method)})(oAe||(AF.DeclarationRequest=oAe={}))});var cAe=j(yF=>{"use strict";d();Object.defineProperty(yF,"__esModule",{value:!0});yF.SelectionRangeRequest=void 0;var aAe=Rs(),lAe;(function(e){e.method="textDocument/selectionRange",e.messageDirection=aAe.MessageDirection.clientToServer,e.type=new aAe.ProtocolRequestType(e.method)})(lAe||(yF.SelectionRangeRequest=lAe={}))});var mAe=j(My=>{"use strict";d();Object.defineProperty(My,"__esModule",{value:!0});My.WorkDoneProgressCancelNotification=My.WorkDoneProgressCreateRequest=My.WorkDoneProgress=void 0;var gXe=c4(),CF=Rs(),uAe;(function(e){e.type=new gXe.ProgressType;function t(r){return r===e.type}o(t,"is"),e.is=t})(uAe||(My.WorkDoneProgress=uAe={}));var fAe;(function(e){e.method="window/workDoneProgress/create",e.messageDirection=CF.MessageDirection.serverToClient,e.type=new CF.ProtocolRequestType(e.method)})(fAe||(My.WorkDoneProgressCreateRequest=fAe={}));var dAe;(function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=CF.MessageDirection.clientToServer,e.type=new CF.ProtocolNotificationType(e.method)})(dAe||(My.WorkDoneProgressCancelNotification=dAe={}))});var AAe=j(Oy=>{"use strict";d();Object.defineProperty(Oy,"__esModule",{value:!0});Oy.CallHierarchyOutgoingCallsRequest=Oy.CallHierarchyIncomingCallsRequest=Oy.CallHierarchyPrepareRequest=void 0;var VE=Rs(),hAe;(function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=VE.MessageDirection.clientToServer,e.type=new VE.ProtocolRequestType(e.method)})(hAe||(Oy.CallHierarchyPrepareRequest=hAe={}));var pAe;(function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=VE.MessageDirection.clientToServer,e.type=new VE.ProtocolRequestType(e.method)})(pAe||(Oy.CallHierarchyIncomingCallsRequest=pAe={}));var gAe;(function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=VE.MessageDirection.clientToServer,e.type=new VE.ProtocolRequestType(e.method)})(gAe||(Oy.CallHierarchyOutgoingCallsRequest=gAe={}))});var EAe=j(H0=>{"use strict";d();Object.defineProperty(H0,"__esModule",{value:!0});H0.SemanticTokensRefreshRequest=H0.SemanticTokensRangeRequest=H0.SemanticTokensDeltaRequest=H0.SemanticTokensRequest=H0.SemanticTokensRegistrationType=H0.TokenFormat=void 0;var N1=Rs(),yAe;(function(e){e.Relative="relative"})(yAe||(H0.TokenFormat=yAe={}));var sw;(function(e){e.method="textDocument/semanticTokens",e.type=new N1.RegistrationType(e.method)})(sw||(H0.SemanticTokensRegistrationType=sw={}));var CAe;(function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=N1.MessageDirection.clientToServer,e.type=new N1.ProtocolRequestType(e.method),e.registrationMethod=sw.method})(CAe||(H0.SemanticTokensRequest=CAe={}));var xAe;(function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=N1.MessageDirection.clientToServer,e.type=new N1.ProtocolRequestType(e.method),e.registrationMethod=sw.method})(xAe||(H0.SemanticTokensDeltaRequest=xAe={}));var vAe;(function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=N1.MessageDirection.clientToServer,e.type=new N1.ProtocolRequestType(e.method),e.registrationMethod=sw.method})(vAe||(H0.SemanticTokensRangeRequest=vAe={}));var bAe;(function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=N1.MessageDirection.serverToClient,e.type=new N1.ProtocolRequestType0(e.method)})(bAe||(H0.SemanticTokensRefreshRequest=bAe={}))});var wAe=j(xF=>{"use strict";d();Object.defineProperty(xF,"__esModule",{value:!0});xF.ShowDocumentRequest=void 0;var IAe=Rs(),TAe;(function(e){e.method="window/showDocument",e.messageDirection=IAe.MessageDirection.serverToClient,e.type=new IAe.ProtocolRequestType(e.method)})(TAe||(xF.ShowDocumentRequest=TAe={}))});var kAe=j(vF=>{"use strict";d();Object.defineProperty(vF,"__esModule",{value:!0});vF.LinkedEditingRangeRequest=void 0;var _Ae=Rs(),SAe;(function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=_Ae.MessageDirection.clientToServer,e.type=new _Ae.ProtocolRequestType(e.method)})(SAe||(vF.LinkedEditingRangeRequest=SAe={}))});var QAe=j(Bc=>{"use strict";d();Object.defineProperty(Bc,"__esModule",{value:!0});Bc.WillDeleteFilesRequest=Bc.DidDeleteFilesNotification=Bc.DidRenameFilesNotification=Bc.WillRenameFilesRequest=Bc.DidCreateFilesNotification=Bc.WillCreateFilesRequest=Bc.FileOperationPatternKind=void 0;var sd=Rs(),RAe;(function(e){e.file="file",e.folder="folder"})(RAe||(Bc.FileOperationPatternKind=RAe={}));var BAe;(function(e){e.method="workspace/willCreateFiles",e.messageDirection=sd.MessageDirection.clientToServer,e.type=new sd.ProtocolRequestType(e.method)})(BAe||(Bc.WillCreateFilesRequest=BAe={}));var DAe;(function(e){e.method="workspace/didCreateFiles",e.messageDirection=sd.MessageDirection.clientToServer,e.type=new sd.ProtocolNotificationType(e.method)})(DAe||(Bc.DidCreateFilesNotification=DAe={}));var PAe;(function(e){e.method="workspace/willRenameFiles",e.messageDirection=sd.MessageDirection.clientToServer,e.type=new sd.ProtocolRequestType(e.method)})(PAe||(Bc.WillRenameFilesRequest=PAe={}));var FAe;(function(e){e.method="workspace/didRenameFiles",e.messageDirection=sd.MessageDirection.clientToServer,e.type=new sd.ProtocolNotificationType(e.method)})(FAe||(Bc.DidRenameFilesNotification=FAe={}));var NAe;(function(e){e.method="workspace/didDeleteFiles",e.messageDirection=sd.MessageDirection.clientToServer,e.type=new sd.ProtocolNotificationType(e.method)})(NAe||(Bc.DidDeleteFilesNotification=NAe={}));var LAe;(function(e){e.method="workspace/willDeleteFiles",e.messageDirection=sd.MessageDirection.clientToServer,e.type=new sd.ProtocolRequestType(e.method)})(LAe||(Bc.WillDeleteFilesRequest=LAe={}))});var WAe=j(Uy=>{"use strict";d();Object.defineProperty(Uy,"__esModule",{value:!0});Uy.MonikerRequest=Uy.MonikerKind=Uy.UniquenessLevel=void 0;var MAe=Rs(),OAe;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(OAe||(Uy.UniquenessLevel=OAe={}));var UAe;(function(e){e.$import="import",e.$export="export",e.local="local"})(UAe||(Uy.MonikerKind=UAe={}));var qAe;(function(e){e.method="textDocument/moniker",e.messageDirection=MAe.MessageDirection.clientToServer,e.type=new MAe.ProtocolRequestType(e.method)})(qAe||(Uy.MonikerRequest=qAe={}))});var VAe=j(qy=>{"use strict";d();Object.defineProperty(qy,"__esModule",{value:!0});qy.TypeHierarchySubtypesRequest=qy.TypeHierarchySupertypesRequest=qy.TypeHierarchyPrepareRequest=void 0;var $E=Rs(),GAe;(function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=$E.MessageDirection.clientToServer,e.type=new $E.ProtocolRequestType(e.method)})(GAe||(qy.TypeHierarchyPrepareRequest=GAe={}));var HAe;(function(e){e.method="typeHierarchy/supertypes",e.messageDirection=$E.MessageDirection.clientToServer,e.type=new $E.ProtocolRequestType(e.method)})(HAe||(qy.TypeHierarchySupertypesRequest=HAe={}));var jAe;(function(e){e.method="typeHierarchy/subtypes",e.messageDirection=$E.MessageDirection.clientToServer,e.type=new $E.ProtocolRequestType(e.method)})(jAe||(qy.TypeHierarchySubtypesRequest=jAe={}))});var YAe=j(zE=>{"use strict";d();Object.defineProperty(zE,"__esModule",{value:!0});zE.InlineValueRefreshRequest=zE.InlineValueRequest=void 0;var bF=Rs(),$Ae;(function(e){e.method="textDocument/inlineValue",e.messageDirection=bF.MessageDirection.clientToServer,e.type=new bF.ProtocolRequestType(e.method)})($Ae||(zE.InlineValueRequest=$Ae={}));var zAe;(function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=bF.MessageDirection.serverToClient,e.type=new bF.ProtocolRequestType0(e.method)})(zAe||(zE.InlineValueRefreshRequest=zAe={}))});var XAe=j(Wy=>{"use strict";d();Object.defineProperty(Wy,"__esModule",{value:!0});Wy.InlayHintRefreshRequest=Wy.InlayHintResolveRequest=Wy.InlayHintRequest=void 0;var YE=Rs(),KAe;(function(e){e.method="textDocument/inlayHint",e.messageDirection=YE.MessageDirection.clientToServer,e.type=new YE.ProtocolRequestType(e.method)})(KAe||(Wy.InlayHintRequest=KAe={}));var JAe;(function(e){e.method="inlayHint/resolve",e.messageDirection=YE.MessageDirection.clientToServer,e.type=new YE.ProtocolRequestType(e.method)})(JAe||(Wy.InlayHintResolveRequest=JAe={}));var ZAe;(function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=YE.MessageDirection.serverToClient,e.type=new YE.ProtocolRequestType0(e.method)})(ZAe||(Wy.InlayHintRefreshRequest=ZAe={}))});var s2e=j(ad=>{"use strict";d();Object.defineProperty(ad,"__esModule",{value:!0});ad.DiagnosticRefreshRequest=ad.WorkspaceDiagnosticRequest=ad.DocumentDiagnosticRequest=ad.DocumentDiagnosticReportKind=ad.DiagnosticServerCancellationData=void 0;var o2e=c4(),AXe=uF(),KE=Rs(),e2e;(function(e){function t(r){let n=r;return n&&AXe.boolean(n.retriggerRequest)}o(t,"is"),e.is=t})(e2e||(ad.DiagnosticServerCancellationData=e2e={}));var t2e;(function(e){e.Full="full",e.Unchanged="unchanged"})(t2e||(ad.DocumentDiagnosticReportKind=t2e={}));var r2e;(function(e){e.method="textDocument/diagnostic",e.messageDirection=KE.MessageDirection.clientToServer,e.type=new KE.ProtocolRequestType(e.method),e.partialResult=new o2e.ProgressType})(r2e||(ad.DocumentDiagnosticRequest=r2e={}));var n2e;(function(e){e.method="workspace/diagnostic",e.messageDirection=KE.MessageDirection.clientToServer,e.type=new KE.ProtocolRequestType(e.method),e.partialResult=new o2e.ProgressType})(n2e||(ad.WorkspaceDiagnosticRequest=n2e={}));var i2e;(function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=KE.MessageDirection.serverToClient,e.type=new KE.ProtocolRequestType0(e.method)})(i2e||(ad.DiagnosticRefreshRequest=i2e={}))});var m2e=j(Zs=>{"use strict";d();Object.defineProperty(Zs,"__esModule",{value:!0});Zs.DidCloseNotebookDocumentNotification=Zs.DidSaveNotebookDocumentNotification=Zs.DidChangeNotebookDocumentNotification=Zs.NotebookCellArrayChange=Zs.DidOpenNotebookDocumentNotification=Zs.NotebookDocumentSyncRegistrationType=Zs.NotebookDocument=Zs.NotebookCell=Zs.ExecutionSummary=Zs.NotebookCellKind=void 0;var aw=cF(),Mm=uF(),_p=Rs(),xJ;(function(e){e.Markup=1,e.Code=2;function t(r){return r===1||r===2}o(t,"is"),e.is=t})(xJ||(Zs.NotebookCellKind=xJ={}));var vJ;(function(e){function t(i,s){let a={executionOrder:i};return(s===!0||s===!1)&&(a.success=s),a}o(t,"create"),e.create=t;function r(i){let s=i;return Mm.objectLiteral(s)&&aw.uinteger.is(s.executionOrder)&&(s.success===void 0||Mm.boolean(s.success))}o(r,"is"),e.is=r;function n(i,s){return i===s?!0:i==null||s===null||s===void 0?!1:i.executionOrder===s.executionOrder&&i.success===s.success}o(n,"equals"),e.equals=n})(vJ||(Zs.ExecutionSummary=vJ={}));var EF;(function(e){function t(s,a){return{kind:s,document:a}}o(t,"create"),e.create=t;function r(s){let a=s;return Mm.objectLiteral(a)&&xJ.is(a.kind)&&aw.DocumentUri.is(a.document)&&(a.metadata===void 0||Mm.objectLiteral(a.metadata))}o(r,"is"),e.is=r;function n(s,a){let l=new Set;return s.document!==a.document&&l.add("document"),s.kind!==a.kind&&l.add("kind"),s.executionSummary!==a.executionSummary&&l.add("executionSummary"),(s.metadata!==void 0||a.metadata!==void 0)&&!i(s.metadata,a.metadata)&&l.add("metadata"),(s.executionSummary!==void 0||a.executionSummary!==void 0)&&!vJ.equals(s.executionSummary,a.executionSummary)&&l.add("executionSummary"),l}o(n,"diff"),e.diff=n;function i(s,a){if(s===a)return!0;if(s==null||a===null||a===void 0||typeof s!=typeof a||typeof s!="object")return!1;let l=Array.isArray(s),c=Array.isArray(a);if(l!==c)return!1;if(l&&c){if(s.length!==a.length)return!1;for(let u=0;u<s.length;u++)if(!i(s[u],a[u]))return!1}if(Mm.objectLiteral(s)&&Mm.objectLiteral(a)){let u=Object.keys(s),f=Object.keys(a);if(u.length!==f.length||(u.sort(),f.sort(),!i(u,f)))return!1;for(let m=0;m<u.length;m++){let h=u[m];if(!i(s[h],a[h]))return!1}}return!0}o(i,"equalsMetadata")})(EF||(Zs.NotebookCell=EF={}));var a2e;(function(e){function t(n,i,s,a){return{uri:n,notebookType:i,version:s,cells:a}}o(t,"create"),e.create=t;function r(n){let i=n;return Mm.objectLiteral(i)&&Mm.string(i.uri)&&aw.integer.is(i.version)&&Mm.typedArray(i.cells,EF.is)}o(r,"is"),e.is=r})(a2e||(Zs.NotebookDocument=a2e={}));var JE;(function(e){e.method="notebookDocument/sync",e.messageDirection=_p.MessageDirection.clientToServer,e.type=new _p.RegistrationType(e.method)})(JE||(Zs.NotebookDocumentSyncRegistrationType=JE={}));var l2e;(function(e){e.method="notebookDocument/didOpen",e.messageDirection=_p.MessageDirection.clientToServer,e.type=new _p.ProtocolNotificationType(e.method),e.registrationMethod=JE.method})(l2e||(Zs.DidOpenNotebookDocumentNotification=l2e={}));var c2e;(function(e){function t(n){let i=n;return Mm.objectLiteral(i)&&aw.uinteger.is(i.start)&&aw.uinteger.is(i.deleteCount)&&(i.cells===void 0||Mm.typedArray(i.cells,EF.is))}o(t,"is"),e.is=t;function r(n,i,s){let a={start:n,deleteCount:i};return s!==void 0&&(a.cells=s),a}o(r,"create"),e.create=r})(c2e||(Zs.NotebookCellArrayChange=c2e={}));var u2e;(function(e){e.method="notebookDocument/didChange",e.messageDirection=_p.MessageDirection.clientToServer,e.type=new _p.ProtocolNotificationType(e.method),e.registrationMethod=JE.method})(u2e||(Zs.DidChangeNotebookDocumentNotification=u2e={}));var f2e;(function(e){e.method="notebookDocument/didSave",e.messageDirection=_p.MessageDirection.clientToServer,e.type=new _p.ProtocolNotificationType(e.method),e.registrationMethod=JE.method})(f2e||(Zs.DidSaveNotebookDocumentNotification=f2e={}));var d2e;(function(e){e.method="notebookDocument/didClose",e.messageDirection=_p.MessageDirection.clientToServer,e.type=new _p.ProtocolNotificationType(e.method),e.registrationMethod=JE.method})(d2e||(Zs.DidCloseNotebookDocumentNotification=d2e={}))});var g2e=j(IF=>{"use strict";d();Object.defineProperty(IF,"__esModule",{value:!0});IF.InlineCompletionRequest=void 0;var h2e=Rs(),p2e;(function(e){e.method="textDocument/inlineCompletion",e.messageDirection=h2e.MessageDirection.clientToServer,e.type=new h2e.ProtocolRequestType(e.method)})(p2e||(IF.InlineCompletionRequest=p2e={}))});var kye=j(be=>{"use strict";d();Object.defineProperty(be,"__esModule",{value:!0});be.WorkspaceSymbolRequest=be.CodeActionResolveRequest=be.CodeActionRequest=be.DocumentSymbolRequest=be.DocumentHighlightRequest=be.ReferencesRequest=be.DefinitionRequest=be.SignatureHelpRequest=be.SignatureHelpTriggerKind=be.HoverRequest=be.CompletionResolveRequest=be.CompletionRequest=be.CompletionTriggerKind=be.PublishDiagnosticsNotification=be.WatchKind=be.RelativePattern=be.FileChangeType=be.DidChangeWatchedFilesNotification=be.WillSaveTextDocumentWaitUntilRequest=be.WillSaveTextDocumentNotification=be.TextDocumentSaveReason=be.DidSaveTextDocumentNotification=be.DidCloseTextDocumentNotification=be.DidChangeTextDocumentNotification=be.TextDocumentContentChangeEvent=be.DidOpenTextDocumentNotification=be.TextDocumentSyncKind=be.TelemetryEventNotification=be.LogMessageNotification=be.ShowMessageRequest=be.ShowMessageNotification=be.MessageType=be.DidChangeConfigurationNotification=be.ExitNotification=be.ShutdownRequest=be.InitializedNotification=be.InitializeErrorCodes=be.InitializeRequest=be.WorkDoneProgressOptions=be.TextDocumentRegistrationOptions=be.StaticRegistrationOptions=be.PositionEncodingKind=be.FailureHandlingKind=be.ResourceOperationKind=be.UnregistrationRequest=be.RegistrationRequest=be.DocumentSelector=be.NotebookCellTextDocumentFilter=be.NotebookDocumentFilter=be.TextDocumentFilter=void 0;be.MonikerRequest=be.MonikerKind=be.UniquenessLevel=be.WillDeleteFilesRequest=be.DidDeleteFilesNotification=be.WillRenameFilesRequest=be.DidRenameFilesNotification=be.WillCreateFilesRequest=be.DidCreateFilesNotification=be.FileOperationPatternKind=be.LinkedEditingRangeRequest=be.ShowDocumentRequest=be.SemanticTokensRegistrationType=be.SemanticTokensRefreshRequest=be.SemanticTokensRangeRequest=be.SemanticTokensDeltaRequest=be.SemanticTokensRequest=be.TokenFormat=be.CallHierarchyPrepareRequest=be.CallHierarchyOutgoingCallsRequest=be.CallHierarchyIncomingCallsRequest=be.WorkDoneProgressCancelNotification=be.WorkDoneProgressCreateRequest=be.WorkDoneProgress=be.SelectionRangeRequest=be.DeclarationRequest=be.FoldingRangeRefreshRequest=be.FoldingRangeRequest=be.ColorPresentationRequest=be.DocumentColorRequest=be.ConfigurationRequest=be.DidChangeWorkspaceFoldersNotification=be.WorkspaceFoldersRequest=be.TypeDefinitionRequest=be.ImplementationRequest=be.ApplyWorkspaceEditRequest=be.ExecuteCommandRequest=be.PrepareRenameRequest=be.RenameRequest=be.PrepareSupportDefaultBehavior=be.DocumentOnTypeFormattingRequest=be.DocumentRangesFormattingRequest=be.DocumentRangeFormattingRequest=be.DocumentFormattingRequest=be.DocumentLinkResolveRequest=be.DocumentLinkRequest=be.CodeLensRefreshRequest=be.CodeLensResolveRequest=be.CodeLensRequest=be.WorkspaceSymbolResolveRequest=void 0;be.InlineCompletionRequest=be.DidCloseNotebookDocumentNotification=be.DidSaveNotebookDocumentNotification=be.DidChangeNotebookDocumentNotification=be.NotebookCellArrayChange=be.DidOpenNotebookDocumentNotification=be.NotebookDocumentSyncRegistrationType=be.NotebookDocument=be.NotebookCell=be.ExecutionSummary=be.NotebookCellKind=be.DiagnosticRefreshRequest=be.WorkspaceDiagnosticRequest=be.DocumentDiagnosticRequest=be.DocumentDiagnosticReportKind=be.DiagnosticServerCancellationData=be.InlayHintRefreshRequest=be.InlayHintResolveRequest=be.InlayHintRequest=be.InlineValueRefreshRequest=be.InlineValueRequest=be.TypeHierarchySupertypesRequest=be.TypeHierarchySubtypesRequest=be.TypeHierarchyPrepareRequest=void 0;var Xt=Rs(),A2e=cF(),Cl=uF(),yXe=W1e();Object.defineProperty(be,"ImplementationRequest",{enumerable:!0,get:o(function(){return yXe.ImplementationRequest},"get")});var CXe=j1e();Object.defineProperty(be,"TypeDefinitionRequest",{enumerable:!0,get:o(function(){return CXe.TypeDefinitionRequest},"get")});var Tye=z1e();Object.defineProperty(be,"WorkspaceFoldersRequest",{enumerable:!0,get:o(function(){return Tye.WorkspaceFoldersRequest},"get")});Object.defineProperty(be,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:o(function(){return Tye.DidChangeWorkspaceFoldersNotification},"get")});var xXe=J1e();Object.defineProperty(be,"ConfigurationRequest",{enumerable:!0,get:o(function(){return xXe.ConfigurationRequest},"get")});var wye=eAe();Object.defineProperty(be,"DocumentColorRequest",{enumerable:!0,get:o(function(){return wye.DocumentColorRequest},"get")});Object.defineProperty(be,"ColorPresentationRequest",{enumerable:!0,get:o(function(){return wye.ColorPresentationRequest},"get")});var _ye=nAe();Object.defineProperty(be,"FoldingRangeRequest",{enumerable:!0,get:o(function(){return _ye.FoldingRangeRequest},"get")});Object.defineProperty(be,"FoldingRangeRefreshRequest",{enumerable:!0,get:o(function(){return _ye.FoldingRangeRefreshRequest},"get")});var vXe=sAe();Object.defineProperty(be,"DeclarationRequest",{enumerable:!0,get:o(function(){return vXe.DeclarationRequest},"get")});var bXe=cAe();Object.defineProperty(be,"SelectionRangeRequest",{enumerable:!0,get:o(function(){return bXe.SelectionRangeRequest},"get")});var wJ=mAe();Object.defineProperty(be,"WorkDoneProgress",{enumerable:!0,get:o(function(){return wJ.WorkDoneProgress},"get")});Object.defineProperty(be,"WorkDoneProgressCreateRequest",{enumerable:!0,get:o(function(){return wJ.WorkDoneProgressCreateRequest},"get")});Object.defineProperty(be,"WorkDoneProgressCancelNotification",{enumerable:!0,get:o(function(){return wJ.WorkDoneProgressCancelNotification},"get")});var _J=AAe();Object.defineProperty(be,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:o(function(){return _J.CallHierarchyIncomingCallsRequest},"get")});Object.defineProperty(be,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:o(function(){return _J.CallHierarchyOutgoingCallsRequest},"get")});Object.defineProperty(be,"CallHierarchyPrepareRequest",{enumerable:!0,get:o(function(){return _J.CallHierarchyPrepareRequest},"get")});var ZE=EAe();Object.defineProperty(be,"TokenFormat",{enumerable:!0,get:o(function(){return ZE.TokenFormat},"get")});Object.defineProperty(be,"SemanticTokensRequest",{enumerable:!0,get:o(function(){return ZE.SemanticTokensRequest},"get")});Object.defineProperty(be,"SemanticTokensDeltaRequest",{enumerable:!0,get:o(function(){return ZE.SemanticTokensDeltaRequest},"get")});Object.defineProperty(be,"SemanticTokensRangeRequest",{enumerable:!0,get:o(function(){return ZE.SemanticTokensRangeRequest},"get")});Object.defineProperty(be,"SemanticTokensRefreshRequest",{enumerable:!0,get:o(function(){return ZE.SemanticTokensRefreshRequest},"get")});Object.defineProperty(be,"SemanticTokensRegistrationType",{enumerable:!0,get:o(function(){return ZE.SemanticTokensRegistrationType},"get")});var EXe=wAe();Object.defineProperty(be,"ShowDocumentRequest",{enumerable:!0,get:o(function(){return EXe.ShowDocumentRequest},"get")});var IXe=kAe();Object.defineProperty(be,"LinkedEditingRangeRequest",{enumerable:!0,get:o(function(){return IXe.LinkedEditingRangeRequest},"get")});var u4=QAe();Object.defineProperty(be,"FileOperationPatternKind",{enumerable:!0,get:o(function(){return u4.FileOperationPatternKind},"get")});Object.defineProperty(be,"DidCreateFilesNotification",{enumerable:!0,get:o(function(){return u4.DidCreateFilesNotification},"get")});Object.defineProperty(be,"WillCreateFilesRequest",{enumerable:!0,get:o(function(){return u4.WillCreateFilesRequest},"get")});Object.defineProperty(be,"DidRenameFilesNotification",{enumerable:!0,get:o(function(){return u4.DidRenameFilesNotification},"get")});Object.defineProperty(be,"WillRenameFilesRequest",{enumerable:!0,get:o(function(){return u4.WillRenameFilesRequest},"get")});Object.defineProperty(be,"DidDeleteFilesNotification",{enumerable:!0,get:o(function(){return u4.DidDeleteFilesNotification},"get")});Object.defineProperty(be,"WillDeleteFilesRequest",{enumerable:!0,get:o(function(){return u4.WillDeleteFilesRequest},"get")});var SJ=WAe();Object.defineProperty(be,"UniquenessLevel",{enumerable:!0,get:o(function(){return SJ.UniquenessLevel},"get")});Object.defineProperty(be,"MonikerKind",{enumerable:!0,get:o(function(){return SJ.MonikerKind},"get")});Object.defineProperty(be,"MonikerRequest",{enumerable:!0,get:o(function(){return SJ.MonikerRequest},"get")});var kJ=VAe();Object.defineProperty(be,"TypeHierarchyPrepareRequest",{enumerable:!0,get:o(function(){return kJ.TypeHierarchyPrepareRequest},"get")});Object.defineProperty(be,"TypeHierarchySubtypesRequest",{enumerable:!0,get:o(function(){return kJ.TypeHierarchySubtypesRequest},"get")});Object.defineProperty(be,"TypeHierarchySupertypesRequest",{enumerable:!0,get:o(function(){return kJ.TypeHierarchySupertypesRequest},"get")});var Sye=YAe();Object.defineProperty(be,"InlineValueRequest",{enumerable:!0,get:o(function(){return Sye.InlineValueRequest},"get")});Object.defineProperty(be,"InlineValueRefreshRequest",{enumerable:!0,get:o(function(){return Sye.InlineValueRefreshRequest},"get")});var RJ=XAe();Object.defineProperty(be,"InlayHintRequest",{enumerable:!0,get:o(function(){return RJ.InlayHintRequest},"get")});Object.defineProperty(be,"InlayHintResolveRequest",{enumerable:!0,get:o(function(){return RJ.InlayHintResolveRequest},"get")});Object.defineProperty(be,"InlayHintRefreshRequest",{enumerable:!0,get:o(function(){return RJ.InlayHintRefreshRequest},"get")});var lw=s2e();Object.defineProperty(be,"DiagnosticServerCancellationData",{enumerable:!0,get:o(function(){return lw.DiagnosticServerCancellationData},"get")});Object.defineProperty(be,"DocumentDiagnosticReportKind",{enumerable:!0,get:o(function(){return lw.DocumentDiagnosticReportKind},"get")});Object.defineProperty(be,"DocumentDiagnosticRequest",{enumerable:!0,get:o(function(){return lw.DocumentDiagnosticRequest},"get")});Object.defineProperty(be,"WorkspaceDiagnosticRequest",{enumerable:!0,get:o(function(){return lw.WorkspaceDiagnosticRequest},"get")});Object.defineProperty(be,"DiagnosticRefreshRequest",{enumerable:!0,get:o(function(){return lw.DiagnosticRefreshRequest},"get")});var Sp=m2e();Object.defineProperty(be,"NotebookCellKind",{enumerable:!0,get:o(function(){return Sp.NotebookCellKind},"get")});Object.defineProperty(be,"ExecutionSummary",{enumerable:!0,get:o(function(){return Sp.ExecutionSummary},"get")});Object.defineProperty(be,"NotebookCell",{enumerable:!0,get:o(function(){return Sp.NotebookCell},"get")});Object.defineProperty(be,"NotebookDocument",{enumerable:!0,get:o(function(){return Sp.NotebookDocument},"get")});Object.defineProperty(be,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:o(function(){return Sp.NotebookDocumentSyncRegistrationType},"get")});Object.defineProperty(be,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:o(function(){return Sp.DidOpenNotebookDocumentNotification},"get")});Object.defineProperty(be,"NotebookCellArrayChange",{enumerable:!0,get:o(function(){return Sp.NotebookCellArrayChange},"get")});Object.defineProperty(be,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:o(function(){return Sp.DidChangeNotebookDocumentNotification},"get")});Object.defineProperty(be,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:o(function(){return Sp.DidSaveNotebookDocumentNotification},"get")});Object.defineProperty(be,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:o(function(){return Sp.DidCloseNotebookDocumentNotification},"get")});var TXe=g2e();Object.defineProperty(be,"InlineCompletionRequest",{enumerable:!0,get:o(function(){return TXe.InlineCompletionRequest},"get")});var bJ;(function(e){function t(r){let n=r;return Cl.string(n)||Cl.string(n.language)||Cl.string(n.scheme)||Cl.string(n.pattern)}o(t,"is"),e.is=t})(bJ||(be.TextDocumentFilter=bJ={}));var EJ;(function(e){function t(r){let n=r;return Cl.objectLiteral(n)&&(Cl.string(n.notebookType)||Cl.string(n.scheme)||Cl.string(n.pattern))}o(t,"is"),e.is=t})(EJ||(be.NotebookDocumentFilter=EJ={}));var IJ;(function(e){function t(r){let n=r;return Cl.objectLiteral(n)&&(Cl.string(n.notebook)||EJ.is(n.notebook))&&(n.language===void 0||Cl.string(n.language))}o(t,"is"),e.is=t})(IJ||(be.NotebookCellTextDocumentFilter=IJ={}));var TJ;(function(e){function t(r){if(!Array.isArray(r))return!1;for(let n of r)if(!Cl.string(n)&&!bJ.is(n)&&!IJ.is(n))return!1;return!0}o(t,"is"),e.is=t})(TJ||(be.DocumentSelector=TJ={}));var y2e;(function(e){e.method="client/registerCapability",e.messageDirection=Xt.MessageDirection.serverToClient,e.type=new Xt.ProtocolRequestType(e.method)})(y2e||(be.RegistrationRequest=y2e={}));var C2e;(function(e){e.method="client/unregisterCapability",e.messageDirection=Xt.MessageDirection.serverToClient,e.type=new Xt.ProtocolRequestType(e.method)})(C2e||(be.UnregistrationRequest=C2e={}));var x2e;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(x2e||(be.ResourceOperationKind=x2e={}));var v2e;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(v2e||(be.FailureHandlingKind=v2e={}));var b2e;(function(e){e.UTF8="utf-8",e.UTF16="utf-16",e.UTF32="utf-32"})(b2e||(be.PositionEncodingKind=b2e={}));var E2e;(function(e){function t(r){let n=r;return n&&Cl.string(n.id)&&n.id.length>0}o(t,"hasId"),e.hasId=t})(E2e||(be.StaticRegistrationOptions=E2e={}));var I2e;(function(e){function t(r){let n=r;return n&&(n.documentSelector===null||TJ.is(n.documentSelector))}o(t,"is"),e.is=t})(I2e||(be.TextDocumentRegistrationOptions=I2e={}));var T2e;(function(e){function t(n){let i=n;return Cl.objectLiteral(i)&&(i.workDoneProgress===void 0||Cl.boolean(i.workDoneProgress))}o(t,"is"),e.is=t;function r(n){let i=n;return i&&Cl.boolean(i.workDoneProgress)}o(r,"hasWorkDoneProgress"),e.hasWorkDoneProgress=r})(T2e||(be.WorkDoneProgressOptions=T2e={}));var w2e;(function(e){e.method="initialize",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(w2e||(be.InitializeRequest=w2e={}));var _2e;(function(e){e.unknownProtocolVersion=1})(_2e||(be.InitializeErrorCodes=_2e={}));var S2e;(function(e){e.method="initialized",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolNotificationType(e.method)})(S2e||(be.InitializedNotification=S2e={}));var k2e;(function(e){e.method="shutdown",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType0(e.method)})(k2e||(be.ShutdownRequest=k2e={}));var R2e;(function(e){e.method="exit",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolNotificationType0(e.method)})(R2e||(be.ExitNotification=R2e={}));var B2e;(function(e){e.method="workspace/didChangeConfiguration",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolNotificationType(e.method)})(B2e||(be.DidChangeConfigurationNotification=B2e={}));var D2e;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4,e.Debug=5})(D2e||(be.MessageType=D2e={}));var P2e;(function(e){e.method="window/showMessage",e.messageDirection=Xt.MessageDirection.serverToClient,e.type=new Xt.ProtocolNotificationType(e.method)})(P2e||(be.ShowMessageNotification=P2e={}));var F2e;(function(e){e.method="window/showMessageRequest",e.messageDirection=Xt.MessageDirection.serverToClient,e.type=new Xt.ProtocolRequestType(e.method)})(F2e||(be.ShowMessageRequest=F2e={}));var N2e;(function(e){e.method="window/logMessage",e.messageDirection=Xt.MessageDirection.serverToClient,e.type=new Xt.ProtocolNotificationType(e.method)})(N2e||(be.LogMessageNotification=N2e={}));var L2e;(function(e){e.method="telemetry/event",e.messageDirection=Xt.MessageDirection.serverToClient,e.type=new Xt.ProtocolNotificationType(e.method)})(L2e||(be.TelemetryEventNotification=L2e={}));var Q2e;(function(e){e.None=0,e.Full=1,e.Incremental=2})(Q2e||(be.TextDocumentSyncKind=Q2e={}));var M2e;(function(e){e.method="textDocument/didOpen",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolNotificationType(e.method)})(M2e||(be.DidOpenTextDocumentNotification=M2e={}));var O2e;(function(e){function t(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}o(t,"isIncremental"),e.isIncremental=t;function r(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}o(r,"isFull"),e.isFull=r})(O2e||(be.TextDocumentContentChangeEvent=O2e={}));var U2e;(function(e){e.method="textDocument/didChange",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolNotificationType(e.method)})(U2e||(be.DidChangeTextDocumentNotification=U2e={}));var q2e;(function(e){e.method="textDocument/didClose",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolNotificationType(e.method)})(q2e||(be.DidCloseTextDocumentNotification=q2e={}));var W2e;(function(e){e.method="textDocument/didSave",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolNotificationType(e.method)})(W2e||(be.DidSaveTextDocumentNotification=W2e={}));var G2e;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(G2e||(be.TextDocumentSaveReason=G2e={}));var H2e;(function(e){e.method="textDocument/willSave",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolNotificationType(e.method)})(H2e||(be.WillSaveTextDocumentNotification=H2e={}));var j2e;(function(e){e.method="textDocument/willSaveWaitUntil",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(j2e||(be.WillSaveTextDocumentWaitUntilRequest=j2e={}));var V2e;(function(e){e.method="workspace/didChangeWatchedFiles",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolNotificationType(e.method)})(V2e||(be.DidChangeWatchedFilesNotification=V2e={}));var $2e;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})($2e||(be.FileChangeType=$2e={}));var z2e;(function(e){function t(r){let n=r;return Cl.objectLiteral(n)&&(A2e.URI.is(n.baseUri)||A2e.WorkspaceFolder.is(n.baseUri))&&Cl.string(n.pattern)}o(t,"is"),e.is=t})(z2e||(be.RelativePattern=z2e={}));var Y2e;(function(e){e.Create=1,e.Change=2,e.Delete=4})(Y2e||(be.WatchKind=Y2e={}));var K2e;(function(e){e.method="textDocument/publishDiagnostics",e.messageDirection=Xt.MessageDirection.serverToClient,e.type=new Xt.ProtocolNotificationType(e.method)})(K2e||(be.PublishDiagnosticsNotification=K2e={}));var J2e;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(J2e||(be.CompletionTriggerKind=J2e={}));var Z2e;(function(e){e.method="textDocument/completion",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(Z2e||(be.CompletionRequest=Z2e={}));var X2e;(function(e){e.method="completionItem/resolve",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(X2e||(be.CompletionResolveRequest=X2e={}));var eye;(function(e){e.method="textDocument/hover",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(eye||(be.HoverRequest=eye={}));var tye;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(tye||(be.SignatureHelpTriggerKind=tye={}));var rye;(function(e){e.method="textDocument/signatureHelp",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(rye||(be.SignatureHelpRequest=rye={}));var nye;(function(e){e.method="textDocument/definition",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(nye||(be.DefinitionRequest=nye={}));var iye;(function(e){e.method="textDocument/references",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(iye||(be.ReferencesRequest=iye={}));var oye;(function(e){e.method="textDocument/documentHighlight",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(oye||(be.DocumentHighlightRequest=oye={}));var sye;(function(e){e.method="textDocument/documentSymbol",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(sye||(be.DocumentSymbolRequest=sye={}));var aye;(function(e){e.method="textDocument/codeAction",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(aye||(be.CodeActionRequest=aye={}));var lye;(function(e){e.method="codeAction/resolve",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(lye||(be.CodeActionResolveRequest=lye={}));var cye;(function(e){e.method="workspace/symbol",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(cye||(be.WorkspaceSymbolRequest=cye={}));var uye;(function(e){e.method="workspaceSymbol/resolve",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(uye||(be.WorkspaceSymbolResolveRequest=uye={}));var fye;(function(e){e.method="textDocument/codeLens",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(fye||(be.CodeLensRequest=fye={}));var dye;(function(e){e.method="codeLens/resolve",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(dye||(be.CodeLensResolveRequest=dye={}));var mye;(function(e){e.method="workspace/codeLens/refresh",e.messageDirection=Xt.MessageDirection.serverToClient,e.type=new Xt.ProtocolRequestType0(e.method)})(mye||(be.CodeLensRefreshRequest=mye={}));var hye;(function(e){e.method="textDocument/documentLink",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(hye||(be.DocumentLinkRequest=hye={}));var pye;(function(e){e.method="documentLink/resolve",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(pye||(be.DocumentLinkResolveRequest=pye={}));var gye;(function(e){e.method="textDocument/formatting",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(gye||(be.DocumentFormattingRequest=gye={}));var Aye;(function(e){e.method="textDocument/rangeFormatting",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(Aye||(be.DocumentRangeFormattingRequest=Aye={}));var yye;(function(e){e.method="textDocument/rangesFormatting",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(yye||(be.DocumentRangesFormattingRequest=yye={}));var Cye;(function(e){e.method="textDocument/onTypeFormatting",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(Cye||(be.DocumentOnTypeFormattingRequest=Cye={}));var xye;(function(e){e.Identifier=1})(xye||(be.PrepareSupportDefaultBehavior=xye={}));var vye;(function(e){e.method="textDocument/rename",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(vye||(be.RenameRequest=vye={}));var bye;(function(e){e.method="textDocument/prepareRename",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(bye||(be.PrepareRenameRequest=bye={}));var Eye;(function(e){e.method="workspace/executeCommand",e.messageDirection=Xt.MessageDirection.clientToServer,e.type=new Xt.ProtocolRequestType(e.method)})(Eye||(be.ExecuteCommandRequest=Eye={}));var Iye;(function(e){e.method="workspace/applyEdit",e.messageDirection=Xt.MessageDirection.serverToClient,e.type=new Xt.ProtocolRequestType("workspace/applyEdit")})(Iye||(be.ApplyWorkspaceEditRequest=Iye={}))});var Bye=j(TF=>{"use strict";d();Object.defineProperty(TF,"__esModule",{value:!0});TF.createProtocolConnection=void 0;var Rye=c4();function wXe(e,t,r,n){return Rye.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,Rye.createMessageConnection)(e,t,r,n)}o(wXe,"createProtocolConnection");TF.createProtocolConnection=wXe});var Pye=j(j0=>{"use strict";d();var _Xe=j0&&j0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),wF=j0&&j0.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&_Xe(t,e,r)};Object.defineProperty(j0,"__esModule",{value:!0});j0.LSPErrorCodes=j0.createProtocolConnection=void 0;wF(c4(),j0);wF(cF(),j0);wF(Rs(),j0);wF(kye(),j0);var SXe=Bye();Object.defineProperty(j0,"createProtocolConnection",{enumerable:!0,get:o(function(){return SXe.createProtocolConnection},"get")});var Dye;(function(e){e.lspReservedErrorRangeStart=-32899,e.RequestFailed=-32803,e.ServerCancelled=-32802,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800})(Dye||(j0.LSPErrorCodes=Dye={}))});var ti=j(kp=>{"use strict";d();var kXe=kp&&kp.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Fye=kp&&kp.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&kXe(t,e,r)};Object.defineProperty(kp,"__esModule",{value:!0});kp.createProtocolConnection=void 0;var RXe=hJ();Fye(hJ(),kp);Fye(Pye(),kp);function BXe(e,t,r,n){return(0,RXe.createMessageConnection)(e,t,r,n)}o(BXe,"createProtocolConnection");kp.createProtocolConnection=BXe});var W5e=j((tN,q5e)=>{d();(function(e,t){typeof tN=="object"&&typeof q5e<"u"?t(tN):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(tN,function(e){"use strict";function t(w,k){return w||k}o(t,"_pureAssign");function r(w,k){return w[k]}o(r,"_pureRef");var n=void 0,i=null,s="",a="function",l="object",c="prototype",u="__proto__",f="undefined",m="constructor",h="Symbol",p="_polyfill",g="length",x="name",v="call",E="toString",b=t(Object),_=r(b,c),R=t(String),P=r(R,c),F=t(Math),G=t(Array),se=r(G,c),Ae=r(se,"slice");function re(w,k){try{return{v:w.apply(this,k)}}catch(B){return{e:B}}}o(re,"safe");function W(w){return function(k){return typeof k===w}}o(W,"_createIs");function q(w){var k="[object "+w+"]";return function(B){return!!(B&&oe(B)===k)}}o(q,"_createObjIs");function oe(w){return _[E].call(w)}o(oe,"objToString");function X(w){return typeof w===f||w===f}o(X,"isUndefined");function H(w){return!V(w)}o(H,"isStrictUndefined");function O(w){return w===i||X(w)}o(O,"isNullOrUndefined");function V(w){return!!w||w!==n}o(V,"isDefined");var J=W("string"),ae=W(a);function te(w){return!w&&O(w)?!1:!!w&&typeof w===l}o(te,"isObject");var le=r(G,"isArray"),ce=q("Error"),Pe=r(b,"getOwnPropertyDescriptor");function Ie(w,k){return!!w&&_.hasOwnProperty[v](w,k)}o(Ie,"objHasOwnProperty");var Fe=t(r(b,"hasOwn"),Re);function Re(w,k){return Ie(w,k)||!!Pe(w,k)}o(Re,"polyObjHasOwn");function Ge(w,k,B){if(w&&te(w)){for(var Q in w)if(Fe(w,Q)&&k[v](B||w,Q,w[Q])===-1)break}}o(Ge,"objForEachKey");var lt={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function st(w){var k={};if(k[lt.c]=!0,k[lt.e]=!0,w.l){k.get=function(){return w.l.v};var B=Pe(w.l,"v");B&&B.set&&(k.set=function(Q){w.l.v=Q})}return Ge(w,function(Q,ue){k[lt[Q]]=H(ue)?k[lt[Q]]:ue}),k}o(st,"_createProp");var ct=r(b,"defineProperty");function ne(w,k,B){return ct(w,k,st(B))}o(ne,"objDefine");function Ne(w,k,B,Q,ue){var we={};return Ge(w,function(Be,Ve){ge(we,Be,k?Ve:Be),ge(we,Ve,B?Ve:Be)}),Q?Q(we):we}o(Ne,"_createKeyValueMap");function ge(w,k,B,Q){ct(w,k,{value:B,enumerable:!0,writable:!1})}o(ge,"_assignMapValue");var He=t(R),z="[object Error]";function ee(w,k){var B=s,Q=_[E][v](w);Q===z&&(w={stack:He(w.stack),message:He(w.message),name:He(w.name)});try{B=JSON.stringify(w,i,k?typeof k=="number"?k:4:n),B=(B?B.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):i)||He(w)}catch(ue){B=" - "+ee(ue,k)}return Q+": "+B}o(ee,"dumpObj");function Qe(w){throw new Error(w)}o(Qe,"throwError");function Se(w){throw new TypeError(w)}o(Se,"throwTypeError");var Ce=r(b,"freeze");function qe(w){return w}o(qe,"_doNothing");function $e(w){return w[u]||i}o($e,"_getProto");var tt=r(b,"assign"),Ct=r(b,"keys"),Pt=t(Ce,qe),yt=t(r(b,"getPrototypeOf"),$e);function zt(w){return Ne(w,1,0,Pt)}o(zt,"createEnum");function Kt(w){var k={};return Ge(w,function(B,Q){ge(k,B,Q[1]),ge(k,Q[0],Q[1])}),Pt(k)}o(Kt,"createSimpleMap");function sr(w){return Kt(w)}o(sr,"createTypeMap");var pe="__tsUtils$gblCfg",Me;function Ze(){var w;return typeof globalThis!==f&&(w=globalThis),!w&&typeof self!==f&&(w=self),!w&&typeof window!==f&&(w=window),!w&&typeof global!==f&&(w=global),w}o(Ze,"_getGlobalValue");function rt(){if(!Me){var w=re(Ze).v||{};Me=w[pe]=w[pe]||{}}return Me}o(rt,"_getGlobalConfig");var kt=bt;function bt(w,k,B){var Q=k?k[w]:i;return function(ue){var we=(ue?ue[w]:i)||Q;if(we||B){var Be=arguments;return(we||B).apply(ue,we?Ae[v](Be,1):Be)}Se('"'+He(w)+'" not defined for '+ee(ue))}}o(bt,"_unwrapFunctionWithPoly");var Qt=r(F,"min"),Ot=r(F,"max"),wt=kt("slice",P),Rt=kt("substring",P),_t=bt("substr",P,qt);function qt(w,k,B){return O(w)&&Se("Invalid "+ee(w)),B<0?s:(k=k||0,k<0&&(k=Ot(k+w[g],0)),X(B)?wt(w,k):wt(w,k,k+B))}o(qt,"polyStrSubstr");function Ht(w,k){return Rt(w,0,k)}o(Ht,"strLeft");var Jt="_urid",ur;function gr(){if(!ur){var w=rt();ur=w.gblSym=w.gblSym||{k:{},s:{}}}return ur}o(gr,"_globalSymbolRegistry");function lr(w){var k={description:He(w),toString:o(function(){return h+"("+w+")"},"toString")};return k[p]=!0,k}o(lr,"polyNewSymbol");function fr(w){var k=gr();if(!Fe(k.k,w)){var B=lr(w),Q=Ct(k.s).length;B[Jt]=function(){return Q+"_"+B[E]()},k.k[w]=B,k.s[B[Jt]()]=He(w)}return k.k[w]}o(fr,"polySymbolFor");var rr;function dr(){rr=rt()}o(dr,"_initTestHooks");function Ee(w){return ct({toJSON:o(function(){return w},"toJSON")},"v",{value:w})}o(Ee,"createCachedValue");var M="window",de;function ye(w,k){var B;return function(){return!rr&&dr(),(!B||rr.lzy)&&(B=Ee(re(w,k).v)),B.v}}o(ye,"_getGlobalInstFn");function Y(w){return!rr&&dr(),(!de||w===!1||rr.lzy)&&(de=Ee(re(Ze).v||i)),de.v}o(Y,"getGlobal");function L(w,k){var B;if(!de||k===!1?B=Y(k):B=de.v,B&&B[w])return B[w];if(w===M)try{return window}catch{}return i}o(L,"getInst");var Te=ye(L,["document"]);function Ue(){return!!xt()}o(Ue,"hasWindow");var xt=ye(L,[M]);function Wt(){return!!Nt()}o(Wt,"hasNavigator");var Nt=ye(L,["navigator"]),ir,ar;function Ut(){return ir=Ee(re(L,[h]).v),ir}o(Ut,"_initSymbol");function It(w){var k=(rr.lzy?0:ir)||Ut();return k.v?k.v[w]:n}o(It,"_getSymbolKey");function cr(w,k){!rr&&dr();var B=(rr.lzy?0:ir)||Ut();return B.v?B.v(w):k?i:lr(w)}o(cr,"newSymbol");function zo(w){return!rr&&dr(),ar=(rr.lzy?0:ar)||Ee(re(It,["for"]).v),(ar.v||fr)(w)}o(zo,"symbolFor");function sm(w,k,B){return w.apply(k,B)}o(sm,"fnApply");function dl(w,k,B){if(w)for(var Q=w[g]>>>0,ue=0;ue<Q&&!(ue in w&&k[v](B||w,w[ue],ue,w)===-1);ue++);}o(dl,"arrForEach");var am=kt("indexOf",se),Nf=kt("map",se),Ys=kt("reduce",se),Wh=t(r(b,"create"),i2);function i2(w){if(!w)return{};var k=typeof w;k!==l&&k!==a&&Se("Prototype must be an Object or function: "+ee(w));function B(){}return o(B,"tempFunc"),B[c]=w,new B}o(i2,"polyObjCreate");var o7;function lm(w,k){var B=b.setPrototypeOf||function(Q,ue){var we;!o7&&(o7=Ee((we={},we[u]=[],we instanceof Array))),o7.v?Q[u]=ue:Ge(ue,function(Be,Ve){return Q[Be]=Ve})};return B(w,k)}o(lm,"objSetPrototypeOf");function m$(w,k,B){re(ne,[k,x,{v:w,c:!0,e:!1}]),k=lm(k,B);function Q(){this[m]=k,re(ne,[this,x,{v:w,c:!0,e:!1}])}return o(Q,"__"),k[c]=B===i?Wh(B):(Q[c]=B[c],new Q),k}o(m$,"_createCustomError");function Gh(w,k){k&&(w[x]=k)}o(Gh,"_setName");function h$(w,k,B){var Q=B||Error,ue=Q[c][x],we=Error.captureStackTrace;return m$(w,function(){var Be=this,Ve=arguments;try{re(Gh,[Q,w]);var it=sm(Q,Be,Ae[v](Ve))||Be;if(it!==Be){var vt=yt(Be);vt!==yt(it)&&lm(it,vt)}return we&&we(it,Be[m]),k&&k(it,Ve),it}finally{re(Gh,[Q,ue])}},Q)}o(h$,"createCustomError");function $g(){return(Date.now||s7)()}o($g,"utcNow");function s7(){return new Date().getTime()}o(s7,"polyUtcNow");function Hv(w){return o(function(B){return O(B)&&Se("strTrim called ["+ee(B)+"]"),B&&B.replace&&(B=B.replace(w,s)),B},"_doTrim")}o(Hv,"_createTrimFn");var p$=Hv(/^\s+|(?=\s)\s+$/g),Ac=bt("trim",P,p$),Hh=r(F,"floor"),VC,zg,$C;function jh(w){if(!w||typeof w!==l)return!1;$C||($C=Ue()?xt():!0);var k=!1;if(w!==$C){zg||(VC=Function[c][E],zg=VC[v](b));try{var B=yt(w);k=!B,k||(Ie(B,m)&&(B=B[m]),k=!!(B&&typeof B===a&&VC[v](B)===zg))}catch{}}return k}o(jh,"isPlainObject");var jv;function zC(){return!rr&&dr(),(!jv||rr.lzy)&&(jv=Ee(re(L,["performance"]).v)),jv.v}o(zC,"getPerformance");var a7=r(F,"round"),o2=bt("endsWith",P,s2);function s2(w,k,B){J(w)||Se("'"+ee(w)+"' is not a string");var Q=J(k)?k:He(k),ue=!X(B)&&B<w[g]?B:w[g];return Rt(w,ue-Q[g],ue)===Q}o(s2,"polyStrEndsWith");var Yr=kt("indexOf",P),zc="ref",Yg="unref",a2="hasRef",g$="enabled";function Vh(w,k,B){var Q=!0,ue=w?k(i):i,we;function Be(){return Q=!1,ue&&ue[Yg]&&ue[Yg](),we}o(Be,"_unref");function Ve(){ue&&B(ue),ue=i}o(Ve,"_cancel");function it(){return ue=k(ue),Q||Be(),we}o(it,"_refresh");function vt(br){!br&&ue&&Ve(),br&&!ue&&it()}return o(vt,"_setEnabled"),we={cancel:Ve,refresh:it},we[a2]=function(){return ue&&ue[a2]?ue[a2]():Q},we[zc]=function(){return Q=!0,ue&&ue[zc]&&ue[zc](),we},we[Yg]=Be,we=ct(we,g$,{get:o(function(){return!!ue},"get"),set:vt}),{h:we,dn:o(function(){ue=i},"dn")}}o(Vh,"_createTimerHandler");function A$(w,k,B){var Q=le(k),ue=Q?k.length:0,we=(ue>0?k[0]:Q?n:k)||setTimeout,Be=(ue>1?k[1]:n)||clearTimeout,Ve=B[0];B[0]=function(){it.dn(),sm(Ve,n,Ae[v](arguments))};var it=Vh(w,function(vt){if(vt){if(vt.refresh)return vt.refresh(),vt;sm(Be,n,[vt])}return sm(we,n,B)},function(vt){sm(Be,n,[vt])});return it.h}o(A$,"_createTimeoutWith");function l7(w,k){return A$(!0,n,Ae[v](arguments))}o(l7,"scheduleTimeout");var YC=zt,y$=sr,KC="toLowerCase",Ba="length",$h="warnToConsole",JC="throwInternal",GR="watch",C$="apply",Hi="push",Kg="splice",zh="logger",c7="cancel",ZC="name",Yc="unload",HR="version",jR="loggingLevelConsole",u7="messageId",Jg="message",f7="diagLog",VR="userAgent",d7="split",l2="replace",Yh="type",$R="evtName",Vv="traceFlags",m7="getAttribute",$v;function x$(w,k){$v||($v=h$("AggregationError",function(Q,ue){ue[Ba]>1&&(Q.errors=ue[1])}));var B=w||"One or more errors occurred.";throw dl(k,function(Q,ue){B+=`
`.concat(ue," > ").concat(ee(Q))}),new $v(B,k||[])}o(x$,"throwAggregationError");var v$="function",zR="object",b$="undefined",cm="prototype",zv=Object,h7=zv[cm];(Y()||{}).Symbol,(Y()||{}).Reflect;var Yv="hasOwnProperty",E$=o(function(w){for(var k,B=1,Q=arguments.length;B<Q;B++){k=arguments[B];for(var ue in k)h7[Yv].call(k,ue)&&(w[ue]=k[ue])}return w},"__objAssignFnImpl"),Kv=tt||E$,Jv=o(function(w,k){return Jv=zv.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,Q){B.__proto__=Q}||function(B,Q){for(var ue in Q)Q[Yv](ue)&&(B[ue]=Q[ue])},Jv(w,k)},"extendStaticsFn");function Kh(w,k){typeof k!==v$&&k!==null&&Se("Class extends value "+String(k)+" is not a constructor or null"),Jv(w,k);function B(){this.constructor=w}o(B,"__"),w[cm]=k===null?Wh(k):(B[cm]=k[cm],new B)}o(Kh,"__extendsFn");var Zv,Zg="constructor",S0="prototype",k0="function",Xg="_dynInstFuncs",c2="_isDynProxy",Jh="_dynClass",u2="_dynCls$",p7="_dynInstChk",e1=p7,f2="_dfOpts",g7="_unknown_",Xv="__proto__",d2="_dyn"+Xv,XC="__dynProto$Gbl",eb="_dynInstProto",m2="useBaseInst",h2="setInstFuncs",e3=Object,t1=e3.getPrototypeOf,p2=e3.getOwnPropertyNames,A7=Y(),tb=A7[XC]||(A7[XC]={o:(Zv={},Zv[h2]=!0,Zv[m2]=!0,Zv),n:1e3});function g2(w){return w&&(w===e3[S0]||w===Array[S0])}o(g2,"_isObjectOrArrayPrototype");function A2(w){return g2(w)||w===Function[S0]}o(A2,"_isObjectArrayOrFunctionPrototype");function um(w){var k;if(w){if(t1)return t1(w);var B=w[Xv]||w[S0]||(w[Zg]?w[Zg][S0]:null);k=w[d2]||B,Ie(w,d2)||(delete w[eb],k=w[d2]=w[eb]||w[d2],w[eb]=B)}return k}o(um,"_getObjProto");function Lf(w,k){var B=[];if(p2)B=p2(w);else for(var Q in w)typeof Q=="string"&&Ie(w,Q)&&B.push(Q);if(B&&B.length>0)for(var ue=0;ue<B.length;ue++)k(B[ue])}o(Lf,"_forEachProp");function y2(w,k,B){return k!==Zg&&typeof w[k]===k0&&(B||Ie(w,k))&&k!==Xv&&k!==S0}o(y2,"_isDynamicCandidate");function C2(w){Se("DynamicProto: "+w)}o(C2,"_throwTypeError");function rb(w){var k=Wh(null);return Lf(w,function(B){!k[B]&&y2(w,B,!1)&&(k[B]=w[B])}),k}o(rb,"_getInstanceFuncs");function y7(w,k){for(var B=w.length-1;B>=0;B--)if(w[B]===k)return!0;return!1}o(y7,"_hasVisited");function C7(w,k,B,Q){function ue(it,vt,br){var vn=vt[br];if(vn[c2]&&Q){var Mn=it[Xg]||{};Mn[e1]!==!1&&(vn=(Mn[vt[Jh]]||{})[br]||vn)}return function(){return vn.apply(it,arguments)}}o(ue,"_instFuncProxy");var we=Wh(null);Lf(B,function(it){we[it]=ue(k,B,it)});for(var Be=um(w),Ve=[];Be&&!A2(Be)&&!y7(Ve,Be);)Lf(Be,function(it){!we[it]&&y2(Be,it,!t1)&&(we[it]=ue(k,Be,it))}),Ve.push(Be),Be=um(Be);return we}o(C7,"_getBaseFuncs");function I$(w,k,B,Q){var ue=null;if(w&&Ie(B,Jh)){var we=w[Xg]||Wh(null);if(ue=(we[B[Jh]]||Wh(null))[k],ue||C2("Missing ["+k+"] "+k0),!ue[p7]&&we[e1]!==!1){for(var Be=!Ie(w,k),Ve=um(w),it=[];Be&&Ve&&!A2(Ve)&&!y7(it,Ve);){var vt=Ve[k];if(vt){Be=vt===Q;break}it.push(Ve),Ve=um(Ve)}try{Be&&(w[k]=ue),ue[p7]=1}catch{we[e1]=!1}}}return ue}o(I$,"_getInstFunc");function T$(w,k,B){var Q=k[w];return Q===B&&(Q=um(k)[w]),typeof Q!==k0&&C2("["+w+"] is not a "+k0),Q}o(T$,"_getProtoFunc");function w$(w,k,B,Q,ue){function we(it,vt){var br=o(function(){var vn=I$(this,vt,it,br)||T$(vt,it,br);return vn.apply(this,arguments)},"dynProtoProxy");return br[c2]=1,br}if(o(we,"_createDynamicPrototype"),!g2(w)){var Be=B[Xg]=B[Xg]||Wh(null);if(!g2(Be)){var Ve=Be[k]=Be[k]||Wh(null);Be[e1]!==!1&&(Be[e1]=!!ue),g2(Ve)||Lf(B,function(it){y2(B,it,!1)&&B[it]!==Q[it]&&(Ve[it]=B[it],delete B[it],(!Ie(w,it)||w[it]&&!w[it][c2])&&(w[it]=we(w,it)))})}}}o(w$,"_populatePrototype");function _$(w,k){if(t1){for(var B=[],Q=um(k);Q&&!A2(Q)&&!y7(B,Q);){if(Q===w)return!0;B.push(Q),Q=um(Q)}return!1}return!0}o(_$,"_checkPrototype");function x7(w,k){return Ie(w,S0)?w.name||k||g7:((w||{})[Zg]||{}).name||k||g7}o(x7,"_getObjName");function t3(w,k,B,Q){Ie(w,S0)||C2("theClass is an invalid class definition.");var ue=w[S0];_$(ue,k)||C2("["+x7(w)+"] not in hierarchy of ["+x7(k)+"]");var we=null;Ie(ue,Jh)?we=ue[Jh]:(we=u2+x7(w,"_")+"$"+tb.n,tb.n++,ue[Jh]=we);var Be=t3[f2],Ve=!!Be[m2];Ve&&Q&&Q[m2]!==void 0&&(Ve=!!Q[m2]);var it=rb(k),vt=C7(ue,k,it,Ve);B(k,vt);var br=!!t1&&!!Be[h2];br&&Q&&(br=!!Q[h2]),w$(ue,we,k,it,br!==!1)}o(t3,"dynamicProto"),t3[f2]=tb.o;var Hl=void 0,Ms="",YR="Not dynamic - ",KR=/-([a-z])/g,r3=/([^\w\d_$])/g,v7=/^(\d+[\w\d_$])/;function b7(w){return!O(w)}o(b7,"isNotNullOrUndefined");function nb(w){var k=w;return k&&J(k)&&(k=k[l2](KR,function(B,Q){return Q.toUpperCase()}),k=k[l2](r3,"_"),k=k[l2](v7,function(B,Q){return"_"+Q})),k}o(nb,"normalizeJsName");function JR(w,k){return w&&k?Yr(w,k)!==-1:!1}o(JR,"strContains");function fm(w){return w&&w.toISOString()||""}o(fm,"toISOString");function Zh(w){return ce(w)?w[ZC]:Ms}o(Zh,"getExceptionName");function n3(w){return function(){function k(){var B=this;w&&Ge(w,function(Q,ue){B[Q]=ue})}return o(k,"class_1"),k}()}o(n3,"createClassFromInterface");var ZR="console",ib="JSON",S$="crypto",Xh="msCrypto",x2="msie",jn="trident/",v2=null,r1=null,dm=null;function ob(){return typeof console!==b$?console:L(ZR)}o(ob,"getConsole");function ji(){return!!(typeof JSON===zR&&JSON||L(ib)!==null)}o(ji,"hasJSON");function b2(){return ji()?JSON||L(ib):null}o(b2,"getJSON");function fa(){return L(S$)}o(fa,"getCrypto");function E2(){return L(Xh)}o(E2,"getMsCrypto");function i3(){var w=Nt();if(w&&(w[VR]!==r1||v2===null)){r1=w[VR];var k=(r1||Ms)[KC]();v2=JR(k,x2)||JR(k,jn)}return v2}o(i3,"isIE");function ep(w){return(dm===null||w===!1)&&(dm=Wt()&&!!Nt().sendBeacon),dm}o(ep,"isBeaconsSupported");function o3(w,k){if(w)for(var B=0;B<w[Ba];B++){var Q=w[B];if(Q[ZC]&&Q[ZC]===k)return Q}return{}}o(o3,"_getNamedValue");function sb(w){var k=Te();return k&&w?o3(k.querySelectorAll("meta"),w).content:null}o(sb,"findMetaTag");function Qf(w){var k,B=zC();if(B){var Q=B.getEntriesByType("navigation")||[];k=o3((Q[Ba]>0?Q[0]:{}).serverTiming,w).description}return k}o(Qf,"findNamedServerTiming");var I2=4294967296,Tu=4294967295,T2=123456789,tp=987654321,ml=!1,w2=T2,Mf=tp;function XR(w){w<0&&(w>>>=0),w2=T2+w&Tu,Mf=tp-w&Tu,ml=!0}o(XR,"_mwcSeed");function n1(){try{var w=$g()&2147483647;XR((Math.random()*I2^w)+w)}catch{}}o(n1,"_autoSeedMwc");function ab(w){return w>0?Hh(_2()/Tu*(w+1))>>>0:0}o(ab,"randomValue");function _2(w){var k=0,B=fa()||E2();return B&&B.getRandomValues&&(k=B.getRandomValues(new Uint32Array(1))[0]&Tu),k===0&&i3()&&(ml||n1(),k=eB()&Tu),k===0&&(k=Hh(I2*Math.random()|0)),w||(k>>>=0),k}o(_2,"random32");function eB(w){Mf=36969*(Mf&65535)+(Mf>>16)&Tu,w2=18e3*(w2&65535)+(w2>>16)&Tu;var k=(Mf<<16)+(w2&65535)>>>0&Tu|0;return w||(k>>>=0),k}o(eB,"mwcRandom32");function i1(w){w===void 0&&(w=22);for(var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B=_2()>>>0,Q=0,ue=Ms;ue[Ba]<w;)Q++,ue+=k.charAt(B&63),B>>>=6,Q===5&&(B=(_2()<<2&4294967295|B&3)>>>0,Q=0);return ue}o(i1,"newId");var Of="3.3.6",lb="."+i1(6),o1=0;function Uf(w){return w.nodeType===1||w.nodeType===9||!+w.nodeType}o(Uf,"_canAcceptData");function cb(w,k){var B=k[w.id];if(!B){B={};try{Uf(k)&&ne(k,w.id,{e:!1,v:B})}catch{}}return B}o(cb,"_getCache");function mm(w,k){return k===void 0&&(k=!1),nb(w+o1+++(k?"."+Of:Ms)+lb)}o(mm,"createUniqueNamespace");function qf(w){var k={id:mm("_aiData-"+(w||Ms)+"."+Of),accept:o(function(B){return Uf(B)},"accept"),get:o(function(B,Q,ue,we){var Be=B[k.id];return Be?Be[nb(Q)]:(we&&(Be=cb(k,B),Be[nb(Q)]=ue),ue)},"get"),kill:o(function(B,Q){if(B&&B[Q])try{delete B[Q]}catch{}},"kill")};return k}o(qf,"createElmNodeData");function rp(w){return w&&te(w)&&(w.isVal||w.fb||Fe(w,"v")||Fe(w,"mrg")||Fe(w,"ref")||w.set)}o(rp,"_isConfigDefaults");function ub(w,k,B){var Q,ue=B.dfVal||V;if(k&&B.fb){var we=B.fb;le(we)||(we=[we]);for(var Be=0;Be<we[Ba];Be++){var Ve=we[Be],it=k[Ve];if(ue(it)?Q=it:w&&(it=w.cfg[Ve],ue(it)&&(Q=it),w.set(w.cfg,He(Ve),it)),ue(Q))break}}return!ue(Q)&&ue(B.v)&&(Q=B.v),Q}o(ub,"_getDefault");function np(w,k,B){var Q=B;if(B&&rp(B)&&(Q=ub(w,k,B)),Q){rp(Q)&&(Q=np(w,k,Q));var ue;le(Q)?(ue=[],ue[Ba]=Q[Ba]):jh(Q)&&(ue={}),ue&&(Ge(Q,function(we,Be){Be&&rp(Be)&&(Be=np(w,k,Be)),ue[we]=Be}),Q=ue)}return Q}o(np,"_resolveDefaultValue");function ip(w,k,B,Q){var ue,we,Be,Ve=Q,it,vt,br,vn;rp(Ve)?(ue=Ve.isVal,we=Ve.set,br=Ve.rdOnly,vn=Ve.blkVal,it=Ve.mrg,vt=Ve.ref,!vt&&X(vt)&&(vt=!!it),Be=ub(w,k,Ve)):Be=Q,vn&&w.blkVal(k,B);var Mn,wr=!0,Fr=k[B];(Fr||!O(Fr))&&(Mn=Fr,wr=!1,ue&&Mn!==Be&&!ue(Mn)&&(Mn=Be,wr=!0),we&&(Mn=we(Mn,Be,k),wr=Mn===Be)),wr?Be?Mn=np(w,k,Be):Mn=Be:(jh(Mn)||le(Be))&&it&&Be&&(jh(Be)||le(Be))&&Ge(Be,function(Nn,bn){ip(w,Mn,Nn,bn)}),w.set(k,B,Mn),vt&&w.ref(k,B),br&&w.rdOnly(k,B)}o(ip,"_applyDefaultValue");var jl=zo("[[ai_dynCfg_1]]"),E7=zo("[[ai_blkDynCfg_1]]"),s3=zo("[[ai_frcDynCfg_1]]");function I7(w){if(w){var k;if(le(w)?(k=[],k[Ba]=w[Ba]):jh(w)&&(k={}),k)return Ge(w,function(B,Q){k[B]=I7(Q)}),k}return w}o(I7,"_cfgDeepCopy");function T7(w){if(w){var k=w[jl]||w;if(k.cfg&&(k.cfg===w||k.cfg[jl]===k))return k}return null}o(T7,"getDynamicConfigHandler");function S2(w){if(w&&(jh(w)||le(w)))try{w[E7]=!0}catch{}return w}o(S2,"blockDynamicConversion");function op(w,k,B){var Q=!1;return B&&!w[k.blkVal]&&(Q=B[s3],!Q&&!B[E7]&&(Q=jh(B)||le(B))),Q}o(op,"_canMakeDynamic");function wu(w){Se("InvalidAccess:"+w)}o(wu,"throwInvalidAccess");var tB=["push","pop","shift","unshift","splice"],hm=o(function(w,k,B,Q){w&&w[JC](3,108,"".concat(B," [").concat(k,"] failed - ")+ee(Q))},"_throwDynamicError");function w7(w,k,B){le(k)&&dl(tB,function(Q){var ue=k[Q];k[Q]=function(){for(var we=[],Be=0;Be<arguments.length;Be++)we[Be]=arguments[Be];var Ve=ue[C$](this,we);return s1(w,k,B,"Patching"),Ve}})}o(w7,"_patchArray");function pm(w,k){var B=Pe(w,k);return B&&B.get}o(pm,"_getOwnPropGetter");function rB(w,k,B,Q){var ue={n:B,h:[],trk:o(function(vt){vt&&vt.fn&&(am(ue.h,vt)===-1&&ue.h[Hi](vt),w.trk(vt,ue))},"trk"),clr:o(function(vt){var br=am(ue.h,vt);br!==-1&&ue.h[Kg](br,1)},"clr")},we=!0,Be=!1;function Ve(){we&&(Be=Be||op(Ve,w,Q),Q&&!Q[jl]&&Be&&(Q=s1(w,Q,B,"Converting")),we=!1);var vt=w.act;return vt&&ue.trk(vt),Q}o(Ve,"_getProperty"),Ve[w.prop]={chng:o(function(){w.add(ue)},"chng")};function it(vt){if(Q!==vt){Ve[w.ro]&&!w.upd&&wu("["+B+"] is read-only:"+ee(k)),we&&(Be=Be||op(Ve,w,Q),we=!1);var br=Be&&Ve[w.rf];if(Be)if(br){Ge(Q,function(Mn){Q[Mn]=vt?vt[Mn]:Hl});try{Ge(vt,function(Mn,wr){k2(w,Q,Mn,wr)}),vt=Q}catch(Mn){hm((w.hdlr||{})[zh],B,"Assigning",Mn),Be=!1}}else Q&&Q[jl]&&Ge(Q,function(Mn){var wr=pm(Q,Mn);if(wr){var Fr=wr[w.prop];Fr&&Fr.chng()}});if(vt!==Q){var vn=vt&&op(Ve,w,vt);!br&&vn&&(vt=s1(w,vt,B,"Converting")),Q=vt,Be=vn}w.add(ue)}}o(it,"_setProperty"),ne(k,ue.n,{g:Ve,s:it})}o(rB,"_createDynamicProperty");function k2(w,k,B,Q){if(k){var ue=pm(k,B),we=ue&&!!ue[w.prop];we?k[B]=Q:rB(w,k,B,Q)}return k}o(k2,"_setDynamicProperty");function _7(w,k,B,Q){if(k){var ue=pm(k,B),we=ue&&!!ue[w.prop],Be=Q&&Q[0],Ve=Q&&Q[1],it=Q&&Q[2];if(!we){if(it)try{S2(k)}catch(vt){hm((w.hdlr||{})[zh],B,"Blocking",vt)}try{k2(w,k,B,k[B]),ue=pm(k,B)}catch(vt){hm((w.hdlr||{})[zh],B,"State",vt)}}Be&&(ue[w.rf]=Be),Ve&&(ue[w.ro]=Ve),it&&(ue[w.blkVal]=!0)}return k}o(_7,"_setDynamicPropertyState");function s1(w,k,B,Q){try{Ge(k,function(ue,we){k2(w,k,ue,we)}),k[jl]||(ct(k,jl,{get:o(function(){return w.hdlr},"get")}),w7(w,k,B))}catch(ue){hm((w.hdlr||{})[zh],B,Q,ue)}return k}o(s1,"_makeDynamicObject");var a1="[[ai_",R0="]]";function nB(w){var k=cr(a1+"get"+w.uid+R0),B=cr(a1+"ro"+w.uid+R0),Q=cr(a1+"rf"+w.uid+R0),ue=cr(a1+"blkVal"+w.uid+R0),we=cr(a1+"dtl"+w.uid+R0),Be=null,Ve=null,it;function vt(wr,Fr){var Nn=it.act;try{it.act=wr,wr&&wr[we]&&(dl(wr[we],function(pi){pi.clr(wr)}),wr[we]=[]),Fr({cfg:w.cfg,set:w.set.bind(w),setDf:w.setDf.bind(w),ref:w.ref.bind(w),rdOnly:w.rdOnly.bind(w)})}catch(pi){var bn=w[zh];throw bn&&bn[JC](1,107,ee(pi)),pi}finally{it.act=Nn||null}}o(vt,"_useHandler");function br(){if(Be){var wr=Be;Be=null,Ve&&Ve[c7](),Ve=null;var Fr=[];if(dl(wr,function(Nn){if(Nn&&(Nn[we]&&(dl(Nn[we],function(bn){bn.clr(Nn)}),Nn[we]=null),Nn.fn))try{vt(Nn,Nn.fn)}catch(bn){Fr[Hi](bn)}}),Be)try{br()}catch(Nn){Fr[Hi](Nn)}Fr[Ba]>0&&x$("Watcher error(s): ",Fr)}}o(br,"_notifyWatchers");function vn(wr){if(wr&&wr.h[Ba]>0){Be||(Be=[]),Ve||(Ve=l7(function(){Ve=null,br()},0));for(var Fr=0;Fr<wr.h[Ba];Fr++){var Nn=wr.h[Fr];Nn&&am(Be,Nn)===-1&&Be[Hi](Nn)}}}o(vn,"_addWatcher");function Mn(wr,Fr){if(wr){var Nn=wr[we]=wr[we]||[];am(Nn,Fr)===-1&&Nn[Hi](Fr)}}return o(Mn,"_trackHandler"),it={prop:k,ro:B,rf:Q,blkVal:ue,hdlr:w,add:vn,notify:br,use:vt,trk:Mn},it}o(nB,"_createState");function k$(w,k){var B={fn:k,rm:o(function(){B.fn=null,w=null,k=null},"rm")};return ne(B,"toJSON",{v:o(function(){return"WatcherHandler"+(B.fn?"":"[X]")},"v")}),w.use(B,k),B}o(k$,"_createAndUseHandler");function iB(w,k,B){var Q=T7(k);if(Q)return Q;var ue=mm("dyncfg",!0),we=k&&B!==!1?k:I7(k),Be;function Ve(){Be.notify()}o(Ve,"_notifyWatchers");function it(bn,pi,ro){try{bn=k2(Be,bn,pi,ro)}catch(Si){hm(w,pi,"Setting value",Si)}return bn[pi]}o(it,"_setValue");function vt(bn){return k$(Be,bn)}o(vt,"_watch");function br(bn,pi){Be.use(null,function(ro){var Si=Be.upd;try{X(pi)||(Be.upd=pi),bn(ro)}finally{Be.upd=Si}})}o(br,"_block");function vn(bn,pi){var ro;return _7(Be,bn,pi,(ro={},ro[0]=!0,ro))[pi]}o(vn,"_ref");function Mn(bn,pi){var ro;return _7(Be,bn,pi,(ro={},ro[1]=!0,ro))[pi]}o(Mn,"_rdOnly");function wr(bn,pi){var ro;return _7(Be,bn,pi,(ro={},ro[2]=!0,ro))[pi]}o(wr,"_blkPropValue");function Fr(bn,pi){return pi&&Ge(pi,function(ro,Si){ip(Nn,bn,ro,Si)}),bn}o(Fr,"_applyDefaults");var Nn={uid:null,cfg:we,logger:w,notify:Ve,set:it,setDf:Fr,watch:vt,ref:vn,rdOnly:Mn,blkVal:wr,_block:br};return ne(Nn,"uid",{c:!1,e:!1,w:!1,v:ue}),Be=nB(Nn),s1(Be,we,"config","Creating"),Nn}o(iB,"_createDynamicHandler");function oB(w,k){w?(w[$h](k),w[JC](2,108,k)):wu(k)}o(oB,"_logInvalidAccess");function a3(w,k,B,Q){var ue=iB(B,w||{},Q);return k&&ue.setDf(ue.cfg,k),ue}o(a3,"createDynamicConfig");function sB(w,k,B){var Q=w[jl]||w;return Q.cfg&&(Q.cfg===w||Q.cfg[jl]===Q)?Q[GR](k):(oB(B,YR+ee(w)),a3(w,null,B)[GR](k))}o(sB,"onConfigChange");var fb=null;function aB(){var w=L("Microsoft");return w&&(fb=w.ApplicationInsights),fb}o(aB,"_getExtensionNamespace");function R$(w){var k=fb;return!k&&w.disableDbgExt!==!0&&(k=fb||aB()),k?k.ChromeDbgExt:null}o(R$,"getDebugExt");var R2,db="warnToConsole",lB="AI (Internal): ",cB="AI: ",B$="AITR_",D$={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},uB=(R2={},R2[0]=null,R2[1]="errorToConsole",R2[2]=db,R2[3]="debugToConsole",R2);function fB(w){return w?'"'+w[l2](/\"/g,Ms)+'"':Ms}o(fB,"_sanitizeDiagnosticText");function mb(w,k){var B=ob();if(B){var Q="log";B[w]&&(Q=w),ae(B[Q])&&B[Q](k)}}o(mb,"_logToConsole");var hb=function(){function w(k,B,Q,ue){Q===void 0&&(Q=!1);var we=this;we[u7]=k,we[Jg]=(Q?cB:lB)+k;var Be=Ms;ji()&&(Be=b2().stringify(ue));var Ve=(B?" message:"+fB(B):Ms)+(ue?" props:"+fB(Be):Ms);we[Jg]+=Ve}return o(w,"_InternalLogMessage"),w.dataType="MessageData",w}();function P$(w,k){return(w||{})[zh]||new pb(k)}o(P$,"safeGetLogger");var pb=function(){function w(k){this.identifier="DiagnosticLogger",this.queue=[];var B=0,Q={},ue,we,Be,Ve,it;t3(w,this,function(vt){it=vn(k||{}),vt.consoleLoggingLevel=function(){return ue},vt[JC]=function(Fr,Nn,bn,pi,ro){ro===void 0&&(ro=!1);var Si=new hb(Nn,bn,ro,pi);if(Ve)throw ee(Si);var Da=uB[Fr]||db;if(X(Si[Jg]))wr("throw"+(Fr===1?"Critical":"Warning"),Si);else{if(ro){var ay=+Si[u7];!Q[ay]&&ue>=Fr&&(vt[Da](Si[Jg]),Q[ay]=!0)}else ue>=Fr&&vt[Da](Si[Jg]);br(Fr,Si)}},vt.debugToConsole=function(Fr){mb("debug",Fr),wr("warning",Fr)},vt[$h]=function(Fr){mb("warn",Fr),wr("warning",Fr)},vt.errorToConsole=function(Fr){mb("error",Fr),wr("error",Fr)},vt.resetInternalMessageCount=function(){B=0,Q={}},vt.logInternalMessage=br,vt[Yc]=function(Fr){it&&it.rm(),it=null};function br(Fr,Nn){if(!Mn()){var bn=!0,pi=B$+Nn[u7];if(Q[pi]?bn=!1:Q[pi]=!0,bn&&(Fr<=we&&(vt.queue[Hi](Nn),B++,wr(Fr===1?"error":"warn",Nn)),B===Be)){var ro="Internal events throttle limit per PageView reached for this app.",Si=new hb(23,ro,!1);vt.queue[Hi](Si),Fr===1?vt.errorToConsole(ro):vt[$h](ro)}}}o(br,"_logInternalMessage");function vn(Fr){return sB(a3(Fr,D$,vt).cfg,function(Nn){var bn=Nn.cfg;ue=bn[jR],we=bn.loggingLevelTelemetry,Be=bn.maxMessageLimit,Ve=bn.enableDebug})}o(vn,"_setDefaultsFromConfig");function Mn(){return B>=Be}o(Mn,"_areInternalMessagesThrottled");function wr(Fr,Nn){var bn=R$(k||{});bn&&bn[f7]&&bn[f7](Fr,Nn)}o(wr,"_debugExtMsg")})}return o(w,"DiagnosticLogger"),w.__ieDyn=1,w}();function gb(w){return w||new pb}o(gb,"_getLogger");function Kc(w,k,B,Q,ue,we){we===void 0&&(we=!1),gb(w)[JC](k,B,Q,ue,we)}o(Kc,"_throwInternal");function Ab(){for(var w=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],k=Ms,B,Q=0;Q<4;Q++)B=_2(),k+=w[B&15]+w[B>>4&15]+w[B>>8&15]+w[B>>12&15]+w[B>>16&15]+w[B>>20&15]+w[B>>24&15]+w[B>>28&15];var ue=w[8+(_2()&3)|0];return _t(k,0,8)+_t(k,9,4)+"4"+_t(k,13,3)+ue+_t(k,16,3)+_t(k,19,12)}o(Ab,"generateW3CId");var B2=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,S7="00",B0="ff",hi="00000000000000000000000000000000",gm="0000000000000000",da=1;function _u(w,k,B){return w&&w[Ba]===k&&w!==B?!!w.match(/^[\da-f]*$/i):!1}o(_u,"_isValid");function yb(w,k,B){return _u(w,k)?w:B}o(yb,"_formatValue");function l1(w){(isNaN(w)||w<0||w>255)&&(w=1);for(var k=w.toString(16);k[Ba]<2;)k="0"+k;return k}o(l1,"_formatFlags");function D2(w,k,B,Q){return{version:_u(Q,2,B0)?Q:S7,traceId:P2(w)?w:Ab(),spanId:F2(k)?k:Ht(Ab(),16),traceFlags:B>=0&&B<=255?B:1}}o(D2,"createTraceParent");function D0(w,k){if(!w||(le(w)&&(w=w[0]||""),!w||!J(w)||w[Ba]>8192))return null;if(w.indexOf(",")!==-1){var B=w[d7](",");w=B[k>0&&B[Ba]>k?k:0]}var Q=B2.exec(Ac(w));return!Q||Q[1]===B0||Q[2]===hi||Q[3]===gm?null:{version:(Q[1]||Ms)[KC](),traceId:(Q[2]||Ms)[KC](),spanId:(Q[3]||Ms)[KC](),traceFlags:parseInt(Q[4],16)}}o(D0,"parseTraceParent");function P2(w){return _u(w,32,hi)}o(P2,"isValidTraceId");function F2(w){return _u(w,16,gm)}o(F2,"isValidSpanId");function N2(w){return!(!w||!_u(w[HR],2,B0)||!_u(w.traceId,32,hi)||!_u(w.spanId,16,gm)||!_u(l1(w[Vv]),2))}o(N2,"isValidTraceParent");function Cb(w){return N2(w)?(w[Vv]&da)===da:!1}o(Cb,"isSampledFlag");function c1(w){if(w){var k=l1(w[Vv]);_u(k,2)||(k="01");var B=w[HR]||S7;return B!=="00"&&B!=="ff"&&(B=S7),"".concat(B.toLowerCase(),"-").concat(yb(w.traceId,32,hi).toLowerCase(),"-").concat(yb(w.spanId,16,gm).toLowerCase(),"-").concat(k.toLowerCase())}return""}o(c1,"formatTraceParent");function k7(w){var k="traceparent",B=D0(sb(k),w);return B||(B=D0(Qf(k),w)),B}o(k7,"findW3cTraceParent");function R7(w){var k=w.getElementsByTagName("script"),B=[];return dl(k,function(Q){var ue=Q[m7]("src");if(ue){var we=Q[m7]("crossorigin"),Be=Q.hasAttribute("async")===!0,Ve=Q.hasAttribute("defer")===!0,it=Q[m7]("referrerpolicy"),vt={url:ue};we&&(vt.crossOrigin=we),Be&&(vt.async=Be),Ve&&(vt.defer=Ve),it&&(vt.referrerPolicy=it),B[Hi](vt)}}),B}o(R7,"findAllScripts");var xb="on",l3="attachEvent",vb="addEventListener",bb="detachEvent",dB="removeEventListener",B7="events";mm("aiEvtPageHide"),mm("aiEvtPageShow");var F$=/\.[\.]+/g,N$=/[\.]+$/,Eb=1,L2=qf("events"),hl=/^([^.]*)(?:\.(.+)|)/;function c3(w){return w&&w[l2]?w[l2](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,Ms):w}o(c3,"_normalizeNamespace");function tl(w,k){if(k){var B=Ms;le(k)?(B=Ms,dl(k,function(ue){ue=c3(ue),ue&&(ue[0]!=="."&&(ue="."+ue),B+=ue)})):B=c3(k),B&&(B[0]!=="."&&(B="."+B),w=(w||Ms)+B)}var Q=hl.exec(w||Ms)||[];return{type:Q[1],ns:(Q[2]||Ms).replace(F$,".").replace(N$,Ms)[d7](".").sort().join(".")}}o(tl,"_getEvtNamespace");function sp(w,k,B){B===void 0&&(B=!0);var Q=L2.get(w,B7,{},B),ue=Q[k];return ue||(ue=Q[k]=[]),ue}o(sp,"_getRegisteredEvents");function mB(w,k,B,Q){w&&k&&k[Yh]&&(w[dB]?w[dB](k[Yh],B,Q):w[bb]&&w[bb](xb+k[Yh],B))}o(mB,"_doDetach");function L$(w,k,B,Q){var ue=!1;return w&&k&&k[Yh]&&B&&(w[vb]?(w[vb](k[Yh],B,Q),ue=!0):w[l3]&&(w[l3](xb+k[Yh],B),ue=!0)),ue}o(L$,"_doAttach");function u3(w,k,B,Q){for(var ue=k[Ba];ue--;){var we=k[ue];we&&(!B.ns||B.ns===we[$R].ns)&&(!Q||Q(we))&&(mB(w,we[$R],we.handler,we.capture),k[Kg](ue,1))}}o(u3,"_doUnregister");function D7(w,k,B){if(k[Yh])u3(w,sp(w,k[Yh]),k,B);else{var Q=L2.get(w,B7,{});Ge(Q,function(ue,we){u3(w,we,k,B)}),Ct(Q)[Ba]===0&&L2.kill(w,B7)}}o(D7,"_unregisterEvents");function Q$(w,k){var B;return k?(le(k)?B=[w].concat(k):B=[w,k],B=tl("xx",B).ns[d7](".")):B=w,B}o(Q$,"mergeEvtNamespace");function P7(w,k,B,Q,ue){ue===void 0&&(ue=!1);var we=!1;if(w)try{var Be=tl(k,Q);if(we=L$(w,Be,B,ue),we&&L2.accept(w)){var Ve={guid:Eb++,evtName:Be,handler:B,capture:ue};sp(w,Be.type)[Hi](Ve)}}catch{}return we}o(P7,"eventOn");function hB(w,k,B,Q,ue){if(ue===void 0&&(ue=!1),w)try{var we=tl(k,Q),Be=!1;D7(w,we,function(Ve){return we.ns&&!B||Ve.handler===B?(Be=!0,!0):!1}),Be||mB(w,we,B,ue)}catch{}}o(hB,"eventOff");var Ib="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",pB="sampleRate",Tb="ProcessLegacy",gB="http.method",F7="https://dc.services.visualstudio.com",f3="/v2/track",Wf="not_specified",N7="iKey",AB=y$({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),ap="split",xn="length",Q2="toLowerCase",u1="ingestionendpoint",f1="toString",L7="removeItem",d3="message",M2="count",wb="preTriggerDate",Q7="getUTCDate",_b="stringify",O2="pathname",d1="match",M7="correlationHeaderExcludePatterns",P0="name",U2="extensionConfig",Gf="properties",yc="measurements",q2="sizeInBytes",m3="typeName",W2="exceptions",h3="severityLevel",G2="problemGroup",Jc="parsedStack",Sb="hasFullStack",kb="assembly",Su="fileName",H2="line",lp="aiDataContract",p3="duration";function O7(w,k,B){var Q=k[xn],ue=U7(w,k);if(ue[xn]!==Q){for(var we=0,Be=ue;B[Be]!==void 0;)we++,Be=Rt(ue,0,147)+yB(we);ue=Be}return ue}o(O7,"dataSanitizeKeyAndAddUniqueness");function U7(w,k){var B;return k&&(k=Ac(He(k)),k[xn]>150&&(B=Rt(k,0,150),Kc(w,2,57,"name is too long.  It has been truncated to 150 characters.",{name:k},!0))),B||k}o(U7,"dataSanitizeKey");function rl(w,k,B){B===void 0&&(B=1024);var Q;return k&&(B=B||1024,k=Ac(He(k)),k[xn]>B&&(Q=Rt(k,0,B),Kc(w,2,61,"string value is too long. It has been truncated to "+B+" characters.",{value:k},!0))),Q||k}o(rl,"dataSanitizeString");function Hf(w,k){return W7(w,k,2048,66)}o(Hf,"dataSanitizeUrl");function Rb(w,k){var B;return k&&k[xn]>32768&&(B=Rt(k,0,32768),Kc(w,2,56,"message is too long, it has been truncated to 32768 characters.",{message:k},!0)),B||k}o(Rb,"dataSanitizeMessage");function q7(w,k){var B;if(k){var Q=""+k;Q[xn]>32768&&(B=Rt(Q,0,32768),Kc(w,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:k},!0))}return B||k}o(q7,"dataSanitizeException");function Am(w,k){if(k){var B={};Ge(k,function(Q,ue){if(te(ue)&&ji())try{ue=b2()[_b](ue)}catch(we){Kc(w,2,49,"custom property is not valid",{exception:we},!0)}ue=rl(w,ue,8192),Q=O7(w,Q,B),B[Q]=ue}),k=B}return k}o(Am,"dataSanitizeProperties");function F0(w,k){if(k){var B={};Ge(k,function(Q,ue){Q=O7(w,Q,B),B[Q]=ue}),k=B}return k}o(F0,"dataSanitizeMeasurements");function j2(w,k){return k&&W7(w,k,128,69)[f1]()}o(j2,"dataSanitizeId");function W7(w,k,B,Q){var ue;return k&&(k=Ac(He(k)),k[xn]>B&&(ue=Rt(k,0,B),Kc(w,2,Q,"input is too long, it has been truncated to "+B+" characters.",{data:k},!0))),ue||k}o(W7,"dataSanitizeInput");function yB(w){var k="00"+w;return _t(k,k[xn]-3)}o(yB,"dsPadNumber");var G7=Te()||{},CB=0,M$=[null,null,null,null,null];function V2(w){var k=CB,B=M$,Q=B[k];return G7.createElement?B[k]||(Q=B[k]=G7.createElement("a")):Q={host:vB(w,!0)},Q.href=w,k++,k>=B[xn]&&(k=0),CB=k,Q}o(V2,"urlParseUrl");function O$(w){var k,B=V2(w);return B&&(k=B.href),k}o(O$,"urlGetAbsoluteUrl");function U$(w){var k,B=V2(w);return B&&(k=B[O2]),k}o(U$,"urlGetPathName");function xB(w,k){return w?w.toUpperCase()+" "+k:k}o(xB,"urlGetCompleteUrl");function vB(w,k){var B=ym(w,k)||"";if(B){var Q=B[d1](/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(Q!=null&&Q[xn]>3&&J(Q[2])&&Q[2][xn]>0)return Q[2]+(Q[3]||"")}return B}o(vB,"urlParseHost");function ym(w,k){var B=null;if(w){var Q=w[d1](/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(Q!=null&&Q[xn]>2&&J(Q[2])&&Q[2][xn]>0&&(B=Q[2]||"",k&&Q[xn]>2)){var ue=(Q[1]||"")[Q2](),we=Q[3]||"";(ue==="http"&&we===":80"||ue==="https"&&we===":443")&&(we=""),B+=we}}return B}o(ym,"urlParseFullHost");var bB=[F7+f3,"https://breeze.aimon.applicationinsights.io"+f3,"https://dc-int.services.visualstudio.com"+f3],$2="cid-v1:";function EB(w){return am(bB,w[Q2]())!==-1}o(EB,"isInternalApplicationInsightsEndpoint");function H7(w){$2=w}o(H7,"correlationIdSetPrefix");function j7(){return $2}o(j7,"correlationIdGetPrefix");function cp(w,k,B){if(!k||w&&w.disableCorrelationHeaders)return!1;if(w&&w[M7]){for(var Q=0;Q<w.correlationHeaderExcludePatterns[xn];Q++)if(w[M7][Q].test(k))return!1}var ue=V2(k).host[Q2]();if(ue&&(Yr(ue,":443")!==-1||Yr(ue,":80")!==-1)&&(ue=(ym(k,!0)||"")[Q2]()),(!w||!w.enableCorsCorrelation)&&ue&&ue!==B)return!1;var we=w&&w.correlationHeaderDomains;if(we){var Be;if(dl(we,function(vt){var br=new RegExp(vt.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));Be=Be||br.test(ue)}),!Be)return!1}var Ve=w&&w.correlationHeaderExcludedDomains;if(!Ve||Ve[xn]===0)return!0;for(var Q=0;Q<Ve[xn];Q++){var it=new RegExp(Ve[Q].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(it.test(ue))return!1}return ue&&ue[xn]>0}o(cp,"correlationIdCanIncludeCorrelationHeader");function IB(w){if(w){var k=TB(w,AB[1]);if(k&&k!==$2)return k}}o(IB,"correlationIdGetCorrelationContext");function TB(w,k){if(w)for(var B=w[ap](","),Q=0;Q<B[xn];++Q){var ue=B[Q][ap]("=");if(ue[xn]===2&&ue[0]===k)return ue[1]}}o(TB,"correlationIdGetCorrelationContextValue");function wB(w,k,B,Q){var ue,we=Q,Be=Q;if(k&&k[xn]>0){var Ve=V2(k);if(ue=Ve.host,!we)if(Ve[O2]!=null){var it=Ve.pathname[xn]===0?"/":Ve[O2];it.charAt(0)!=="/"&&(it="/"+it),Be=Ve[O2],we=rl(w,B?B+" "+it:it)}else we=rl(w,k)}else ue=Q,we=Q;return{target:ue,name:we,data:Be}}o(wB,"AjaxHelperParseDependencyPath");function q$(){var w=zC();if(w&&w.now&&w.timing){var k=w.now()+w.timing.navigationStart;if(k>0)return k}return $g()}o(q$,"dateTimeUtilsNow");function W$(w,k){var B=null;return w!==0&&k!==0&&!O(w)&&!O(k)&&(B=k-w),B}o(W$,"dateTimeUtilsDuration");function V7(w,k){var B=w||{};return{getName:o(function(){return B[P0]},"getName"),setName:o(function(Q){k&&k.setName(Q),B[P0]=Q},"setName"),getTraceId:o(function(){return B.traceID},"getTraceId"),setTraceId:o(function(Q){k&&k.setTraceId(Q),P2(Q)&&(B.traceID=Q)},"setTraceId"),getSpanId:o(function(){return B.parentID},"getSpanId"),setSpanId:o(function(Q){k&&k.setSpanId(Q),F2(Q)&&(B.parentID=Q)},"setSpanId"),getTraceFlags:o(function(){return B.traceFlags},"getTraceFlags"),setTraceFlags:o(function(Q){k&&k.setTraceFlags(Q),B.traceFlags=Q},"setTraceFlags")}}o(V7,"createDistributedTraceContextFromTrace");var z2=YC({LocalStorage:0,SessionStorage:1}),G$=YC({AI:0,AI_AND_W3C:1,W3C:2}),g3=YC({Normal:1,Critical:2}),up=void 0,ku=void 0,_B="";function Y2(){return Bb()?K2(z2.LocalStorage):null}o(Y2,"_getLocalStorageObject");function K2(w){try{if(O(Y()))return null;var k=new Date()[f1](),B=L(w===z2.LocalStorage?"localStorage":"sessionStorage"),Q=_B+k;B.setItem(Q,k);var ue=B.getItem(Q)!==k;if(B[L7](Q),!ue)return B}catch{}return null}o(K2,"_getVerifiedStorageObject");function J2(){return Cm()?K2(z2.SessionStorage):null}o(J2,"_getSessionStorageObject");function A3(){up=!1,ku=!1}o(A3,"utlDisableStorage");function y3(w){_B=w||""}o(y3,"utlSetStoragePrefix");function H$(){up=Bb(!0),ku=Cm(!0)}o(H$,"utlEnableStorage");function Bb(w){return(w||up===void 0)&&(up=!!K2(z2.LocalStorage)),up}o(Bb,"utlCanUseLocalStorage");function SB(w,k){var B=Y2();if(B!==null)try{return B.getItem(k)}catch(Q){up=!1,Kc(w,2,1,"Browser failed read of local storage. "+Zh(Q),{exception:ee(Q)})}return null}o(SB,"utlGetLocalStorage");function kB(w,k,B){var Q=Y2();if(Q!==null)try{return Q.setItem(k,B),!0}catch(ue){up=!1,Kc(w,2,3,"Browser failed write to local storage. "+Zh(ue),{exception:ee(ue)})}return!1}o(kB,"utlSetLocalStorage");function N0(w,k){var B=Y2();if(B!==null)try{return B[L7](k),!0}catch(Q){up=!1,Kc(w,2,5,"Browser failed removal of local storage item. "+Zh(Q),{exception:ee(Q)})}return!1}o(N0,"utlRemoveStorage");function Cm(w){return(w||ku===void 0)&&(ku=!!K2(z2.SessionStorage)),ku}o(Cm,"utlCanUseSessionStorage");function Z2(){var w=[];return Cm()&&Ge(L("sessionStorage"),function(k){w.push(k)}),w}o(Z2,"utlGetSessionStorageKeys");function RB(w,k){var B=J2();if(B!==null)try{return B.getItem(k)}catch(Q){ku=!1,Kc(w,2,2,"Browser failed read of session storage. "+Zh(Q),{exception:ee(Q)})}return null}o(RB,"utlGetSessionStorage");function j$(w,k,B){var Q=J2();if(Q!==null)try{return Q.setItem(k,B),!0}catch(ue){ku=!1,Kc(w,2,4,"Browser failed write to session storage. "+Zh(ue),{exception:ee(ue)})}return!1}o(j$,"utlSetSessionStorage");function BB(w,k){var B=J2();if(B!==null)try{return B[L7](k),!0}catch(Q){ku=!1,Kc(w,2,6,"Browser failed removal of session storage item. "+Zh(Q),{exception:ee(Q)})}return!1}o(BB,"utlRemoveSessionStorage");var V$="appInsightsThrottle",$$=function(){function w(k,B){var Q=this,ue,we,Be,Ve,it,vt,br,vn=!1,Mn=!1;Fr(),Q._getDbgPlgTargets=function(){return[br]},Q.getConfig=function(){return Be},Q.canThrottle=function(Lt){var Ur=sT(Lt),ln=Nn(Lt);return ro(ln,ue,Ur)},Q.isTriggered=function(Lt){return zB(Lt)},Q.isReady=function(){return vn},Q.flush=function(Lt){try{var Ur=YB(Lt);if(Ur&&Ur[xn]>0){var ln=Ur.slice(0);return br[Lt]=[],dl(ln,function(Qo){wr(Qo.msgID,Qo[d3],Qo.severity,!1)}),!0}}catch{}return!1},Q.flushAll=function(){try{if(br){var Lt=!0;return Ge(br,function(Ur){var ln=Q.flush(parseInt(Ur));Lt=Lt&&ln}),Lt}}catch{}return!1},Q.onReadyState=function(Lt,Ur){return Ur===void 0&&(Ur=!0),vn=O(Lt)?!0:Lt,vn&&Ur?Q.flushAll():null},Q.sendMessage=function(Lt,Ur,ln){return wr(Lt,Ur,ln,!0)};function wr(Lt,Ur,ln,Qo){if(vn){var Pa=fz(Lt);if(!Pa)return;var Os=Nn(Lt),Fa=sT(Lt),h1=ro(Os,ue,Fa),pp=!1,ly=0,KB=zB(Lt);try{h1&&!KB?(ly=Qt(Os.limit.maxSendNumber,Fa[M2]+1),Fa[M2]=0,pp=!0,it[Lt]=!0,Fa[wb]=new Date):(it[Lt]=h1,Fa[M2]+=1);var JB=Si(Lt);oT(we,JB,Fa);for(var jb=0;jb<ly;jb++)$B(Lt,we,Ur,ln)}catch{}return{isThrottled:pp,throttleNum:ly}}else if(Qo){var dz=YB(Lt);dz.push({msgID:Lt,message:Ur,severity:ln})}return null}o(wr,"_flushMessage");function Fr(){we=P$(k),it={},Ve={},br={},Be={},bn(109),vt=b7(B)?B:"",k.addUnloadHook(sB(k.config,function(Lt){var Ur=Lt.cfg;ue=Bb();var ln=Ur.throttleMgrCfg||{};Ge(ln,function(Qo,Pa){bn(parseInt(Qo),Pa)})}))}o(Fr,"_initConfig");function Nn(Lt){return Be[Lt]||Be[109]}o(Nn,"_getCfgByKey");function bn(Lt,Ur){var ln,Qo;try{var Pa=Ur||{},Os={};Os.disabled=!!Pa.disabled;var Fa=Pa.interval||{};Mn=Fa?.daysOfMonth&&Fa?.daysOfMonth[xn]>0,Os.interval=pi(Fa);var h1={samplingRate:((ln=Pa.limit)===null||ln===void 0?void 0:ln.samplingRate)||100,maxSendNumber:((Qo=Pa.limit)===null||Qo===void 0?void 0:Qo.maxSendNumber)||1};Os.limit=h1,Be[Lt]=Os}catch{}}o(bn,"_setCfgByKey");function pi(Lt){Lt=Lt||{};var Ur=Lt?.monthInterval,ln=Lt?.dayInterval;return O(Ur)&&O(ln)&&(Lt.monthInterval=3,Mn||(Lt.daysOfMonth=[28],Mn=!0)),Lt={monthInterval:Lt?.monthInterval,dayInterval:Lt?.dayInterval,daysOfMonth:Lt?.daysOfMonth},Lt}o(pi,"_getIntervalConfig");function ro(Lt,Ur,ln){if(Lt&&!Lt.disabled&&Ur&&b7(ln)){var Qo=w3(),Pa=ln.date,Os=Lt.interval,Fa=1;if(Os?.monthInterval){var h1=(Qo.getUTCFullYear()-Pa.getUTCFullYear())*12+Qo.getUTCMonth()-Pa.getUTCMonth();Fa=Hb(Os.monthInterval,0,h1)}var pp=1;if(Mn)pp=am(Os.daysOfMonth,Qo[Q7]());else if(Os?.dayInterval){var ly=Hh((Qo.getTime()-Pa.getTime())/864e5);pp=Hb(Os.dayInterval,0,ly)}return Fa>=0&&pp>=0}return!1}o(ro,"_canThrottle");function Si(Lt,Ur){var ln=b7(Ur)?Ur:"";return Lt?V$+ln+"-"+Lt:null}o(Si,"_getLocalStorageName");function Da(Lt){try{if(Lt){var Ur=new Date;return Lt.getUTCFullYear()===Ur.getUTCFullYear()&&Lt.getUTCMonth()===Ur.getUTCMonth()&&Lt[Q7]()===Ur[Q7]()}}catch{}return!1}o(Da,"_isTriggeredOnCurDate");function ay(Lt,Ur,ln){try{var Qo={date:w3(),count:0};if(Lt){var Pa=JSON.parse(Lt),Os={date:w3(Pa.date)||Qo.date,count:Pa[M2]||Qo[M2],preTriggerDate:Pa.preTriggerDate?w3(Pa[wb]):void 0};return Os}else return oT(Ur,ln,Qo),Qo}catch{}return null}o(ay,"_getLocalStorageObj");function w3(Lt){try{if(Lt){var Ur=new Date(Lt);if(!isNaN(Ur.getDate()))return Ur}else return new Date}catch{}return null}o(w3,"_getThrottleDate");function oT(Lt,Ur,ln){try{return kB(Lt,Ur,Ac(JSON[_b](ln)))}catch{}return!1}o(oT,"_resetLocalStorage");function Hb(Lt,Ur,ln){return Lt<=0?1:ln>=Ur&&(ln-Ur)%Lt==0?Hh((ln-Ur)/Lt)+1:-1}o(Hb,"_checkInterval");function $B(Lt,Ur,ln,Qo){Kc(Ur,Qo||1,Lt,ln)}o($B,"_sendMessage");function fz(Lt){try{var Ur=Nn(Lt);return ab(1e6)<=Ur.limit.samplingRate}catch{}return!1}o(fz,"_canSampledIn");function sT(Lt){try{var Ur=Ve[Lt];if(!Ur){var ln=Si(Lt,vt);Ur=ay(SB(we,ln),we,ln),Ve[Lt]=Ur}return Ve[Lt]}catch{}return null}o(sT,"_getLocalStorageObjByKey");function zB(Lt){var Ur=it[Lt];if(O(Ur)){Ur=!1;var ln=sT(Lt);ln&&(Ur=Da(ln[wb])),it[Lt]=Ur}return it[Lt]}o(zB,"_isTrigger");function YB(Lt){return br=br||{},O(br[Lt])&&(br[Lt]=[]),br[Lt]}o(YB,"_getQueueByKey")}return o(w,"ThrottleMgr"),w}(),$7=";",jf="=";function Db(w){if(!w)return{};var k=w[ap]($7),B=Ys(k,function(ue,we){var Be=we[ap](jf);if(Be[xn]===2){var Ve=Be[0][Q2](),it=Be[1];ue[Ve]=it}return ue},{});if(Ct(B)[xn]>0){if(B.endpointsuffix){var Q=B.location?B.location+".":"";B[u1]=B[u1]||"https://"+Q+"dc."+B.endpointsuffix}B[u1]=B[u1]||F7,o2(B[u1],"/")&&(B[u1]=B[u1].slice(0,-1))}return B}o(Db,"parseConnectionString");var Pb={parse:Db},Fb=function(){function w(k,B,Q){var ue=this,we=this;we.ver=1,we.sampleRate=100,we.tags={},we[P0]=rl(k,Q)||Wf,we.data=B,we.time=fm(new Date),we[lp]={time:1,iKey:1,name:1,sampleRate:o(function(){return ue.sampleRate===100?4:1},"sampleRate"),tags:1,data:1}}return o(w,"Envelope"),w}(),z$=function(){function w(k,B,Q,ue){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var we=this;we.ver=2,we[P0]=rl(k,B)||Wf,we[Gf]=Am(k,Q),we[yc]=F0(k,ue)}return o(w,"Event"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Event",w.dataType="EventData",w}(),Y$=58,DB=/^\s{0,50}(from\s|at\s|Line\s{1,5}\d{1,10}\s{1,5}of|\w{1,50}@\w{1,80}|[^\(\s\n]+:[0-9\?]+(?::[0-9\?]+)?)/,K$=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+):([0-9\?]+)\)?$/,X2=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+)\)?$/,PB=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\)\]]+)\)?$/,J$=/(?:^|\(|\s{0,10}[\w\)]+\@)?([^\(\n\s\]\)]+)(?:\:([0-9]+)(?:\:([0-9]+))?)?\)?(?:,|$)/,Z$=/([^\(\s\n]+):([0-9]+):([0-9]+)$/,X$=/([^\(\s\n]+):([0-9]+)$/,FB="<no_method>",ey="error",Zc="stack",C3="stackDetails",Nb="errorSrc",x3="message",v3="description",z7=[{re:K$,len:5,m:1,fn:2,ln:3,col:4},{chk:Lb,pre:Lr,re:X2,len:4,m:1,fn:2,ln:3},{re:PB,len:3,m:1,fn:2,hdl:K7},{re:J$,len:2,fn:1,hdl:K7}];function Lr(w){return w.replace(/(\(anonymous\))/,"<anonymous>")}o(Lr,"_scrubAnonymous");function Lb(w){return Yr(w,"[native")<0}o(Lb,"_ignoreNative");function b3(w,k){var B=w;return B&&!J(B)&&(JSON&&JSON[_b]?(B=JSON[_b](w),k&&(!B||B==="{}")&&(ae(w[f1])?B=w[f1]():B=""+w)):B=""+w+" - (Missing JSON.stringify)"),B||""}o(b3,"_stringify");function fp(w,k){var B=w;return w&&(B&&!J(B)&&(B=w[x3]||w[v3]||B),B&&!J(B)&&(B=b3(B,!0)),w.filename&&(B=B+" @"+(w.filename||"")+":"+(w.lineno||"?")+":"+(w.colno||"?"))),k&&k!=="String"&&k!=="Object"&&k!=="Error"&&Yr(B||"",k)===-1&&(B=k+": "+B),B||""}o(fp,"_formatMessage");function NB(w){try{if(te(w))return"hasFullStack"in w&&"typeName"in w}catch{}return!1}o(NB,"_isExceptionDetailsInternal");function LB(w){try{if(te(w))return"ver"in w&&"exceptions"in w&&"properties"in w}catch{}return!1}o(LB,"_isExceptionInternal");function Qb(w){return w&&w.src&&J(w.src)&&w.obj&&le(w.obj)}o(Qb,"_isStackDetails");function xm(w){var k=w||"";J(k)||(J(k[Zc])?k=k[Zc]:k=""+k);var B=k[ap](`
`);return{src:k,obj:B}}o(xm,"_convertStackObj");function QB(w){for(var k=[],B=w[ap](`
`),Q=0;Q<B[xn];Q++){var ue=B[Q];B[Q+1]&&(ue+="@"+B[Q+1],Q++),k.push(ue)}return{src:w,obj:k}}o(QB,"_getOperaStack");function Mb(w){var k=null;if(w)try{if(w[Zc])k=xm(w[Zc]);else if(w[ey]&&w[ey][Zc])k=xm(w[ey][Zc]);else if(w.exception&&w.exception[Zc])k=xm(w.exception[Zc]);else if(Qb(w))k=w;else if(Qb(w[C3]))k=w[C3];else if(xt()&&xt().opera&&w[x3])k=QB(w[d3]);else if(w.reason&&w.reason[Zc])k=xm(w.reason[Zc]);else if(J(w))k=xm(w);else{var B=w[x3]||w[v3]||"";J(w[Nb])&&(B&&(B+=`
`),B+=" from "+w[Nb]),B&&(k=xm(B))}}catch(Q){k=xm(Q)}return k||{src:"",obj:null}}o(Mb,"_getStackFromErrorObj");function MB(w){var k="";return w&&(w.obj?k=w.obj.join(`
`):k=w.src||""),k}o(MB,"_formatStackTrace");function Ob(w){var k,B=w.obj;if(B&&B[xn]>0){k=[];var Q=0,ue=!1,we=0;dl(B,function(Nn){if(ue||ez(Nn)){var bn=He(Nn);ue=!0;var pi=tz(bn,Q);pi&&(we+=pi[q2],k.push(pi),Q++)}});var Be=32*1024;if(we>Be)for(var Ve=0,it=k[xn]-1,vt=0,br=Ve,vn=it;Ve<it;){var Mn=k[Ve][q2],wr=k[it][q2];if(vt+=Mn+wr,vt>Be){var Fr=vn-br+1;k.splice(br,Fr);break}br=Ve,vn=it,Ve++,it--}}return k}o(Ob,"_parseStack");function ty(w){var k="";if(w&&(k=w.typeName||w[P0]||"",!k))try{var B=/function (.{1,200})\(/,Q=B.exec(w.constructor[f1]());k=Q&&Q[xn]>1?Q[1]:""}catch{}return k}o(ty,"_getErrorType");function Ub(w){if(w)try{if(!J(w)){var k=ty(w),B=b3(w,!1);return(!B||B==="{}")&&(w[ey]&&(w=w[ey],k=ty(w)),B=b3(w,!0)),Yr(B,k)!==0&&k!=="String"?k+":"+B:B}}catch{}return""+(w||"")}o(Ub,"_formatErrorCode");var Vf=function(){function w(k,B,Q,ue,we,Be){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var Ve=this;Ve.ver=2,LB(B)?(Ve[W2]=B[W2]||[],Ve[Gf]=B[Gf],Ve[yc]=B[yc],B[h3]&&(Ve[h3]=B[h3]),B.id&&(Ve.id=B.id,B[Gf].id=B.id),B[G2]&&(Ve[G2]=B[G2]),O(B.isManual)||(Ve.isManual=B.isManual)):(Q||(Q={}),Be&&(Q.id=Be),Ve[W2]=[qB(k,B,Q)],Ve[Gf]=Am(k,Q),Ve[yc]=F0(k,ue),we&&(Ve[h3]=we),Be&&(Ve.id=Be))}return o(w,"Exception"),w.CreateAutoException=function(k,B,Q,ue,we,Be,Ve,it){var vt=ty(we||Be||k);return{message:fp(k,vt),url:B,lineNumber:Q,columnNumber:ue,error:Ub(we||Be||k),evt:Ub(Be||k),typeName:vt,stackDetails:Mb(Ve||we||Be),errorSrc:it}},w.CreateFromInterface=function(k,B,Q,ue){var we=B[W2]&&Nf(B[W2],function(Ve){return Y7(k,Ve)}),Be=new w(k,Kv(Kv({},B),{exceptions:we}),Q,ue);return Be},w.prototype.toInterface=function(){var k=this,B=k.exceptions,Q=k.properties,ue=k.measurements,we=k.severityLevel,Be=k.problemGroup,Ve=k.id,it=k.isManual,vt=B instanceof Array&&Nf(B,function(br){return br.toInterface()})||void 0;return{ver:"4.0",exceptions:vt,severityLevel:we,properties:Q,measurements:ue,problemGroup:Be,id:Ve,isManual:it}},w.CreateSimpleException=function(k,B,Q,ue,we,Be){var Ve;return{exceptions:[(Ve={},Ve[Sb]=!0,Ve.message=k,Ve.stack=we,Ve.typeName=B,Ve)]}},w.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",w.dataType="ExceptionData",w.formatError=Ub,w}(),OB=Pt({id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2});function UB(){var w=this,k=le(w[Jc])&&Nf(w[Jc],function(Q){return GB(Q)}),B={id:w.id,outerId:w.outerId,typeName:w[m3],message:w[d3],hasFullStack:w[Sb],stack:w[Zc],parsedStack:k||void 0};return B}o(UB,"_toInterface");function qB(w,k,B){var Q,ue,we,Be,Ve,it,vt,br;if(NB(k))Be=k[m3],Ve=k[d3],vt=k[Zc],br=k[Jc]||[],it=k[Sb];else{var vn=k,Mn=vn&&vn.evt;ce(vn)||(vn=vn[ey]||Mn||vn),Be=rl(w,ty(vn))||Wf,Ve=Rb(w,fp(k||vn,Be))||Wf;var wr=k[C3]||Mb(k);br=Ob(wr),le(br)&&Nf(br,function(Fr){Fr[kb]=rl(w,Fr[kb]),Fr[Su]=rl(w,Fr[Su])}),vt=q7(w,MB(wr)),it=le(br)&&br[xn]>0,B&&(B[m3]=B[m3]||Be)}return Q={},Q[lp]=OB,Q.id=ue,Q.outerId=we,Q.typeName=Be,Q.message=Ve,Q[Sb]=it,Q.stack=vt,Q.parsedStack=br,Q.toInterface=UB,Q}o(qB,"_createExceptionDetails");function Y7(w,k){var B=le(k[Jc])&&Nf(k[Jc],function(ue){return WB(ue)})||k[Jc],Q=qB(w,Kv(Kv({},k),{parsedStack:B}));return Q}o(Y7,"_createExDetailsFromInterface");function E3(w,k){var B=k[d1](Z$);if(B&&B[xn]>=4)w[Su]=B[1],w[H2]=parseInt(B[2]);else{var Q=k[d1](X$);Q&&Q[xn]>=3?(w[Su]=Q[1],w[H2]=parseInt(Q[2])):w[Su]=k}}o(E3,"_parseFilename");function K7(w,k,B){var Q=w[Su];k.fn&&B&&B[xn]>k.fn&&(k.ln&&B[xn]>k.ln?(Q=Ac(B[k.fn]||""),w[H2]=parseInt(Ac(B[k.ln]||""))||0):Q=Ac(B[k.fn]||"")),Q&&E3(w,Q)}o(K7,"_handleFilename");function ez(w){var k=!1;if(w&&J(w)){var B=Ac(w);B&&(k=DB.test(B))}return k}o(ez,"_isStackFrame");var J7=Pt({level:1,method:1,assembly:0,fileName:0,line:0});function tz(w,k){var B,Q;if(w&&J(w)&&Ac(w)){Q=(B={},B[lp]=J7,B.level=k,B.assembly=Ac(w),B.method=FB,B.fileName="",B.line=0,B.sizeInBytes=0,B);for(var ue=0;ue<z7[xn];){var we=z7[ue];if(we.chk&&!we.chk(w))break;we.pre&&(w=we.pre(w));var Be=w[d1](we.re);if(Be&&Be[xn]>=we.len){we.m&&(Q.method=Ac(Be[we.m]||FB)),we.hdl?we.hdl(Q,we,Be):we.fn&&(we.ln?(Q[Su]=Ac(Be[we.fn]||""),Q[H2]=parseInt(Ac(Be[we.ln]||""))||0):E3(Q,Be[we.fn]||""));break}ue++}}return Z7(Q)}o(tz,"_extractStackFrame");function WB(w){var k,B=(k={},k[lp]=J7,k.level=w.level,k.method=w.method,k.assembly=w[kb],k.fileName=w[Su],k.line=w[H2],k.sizeInBytes=0,k);return Z7(B)}o(WB,"_stackFrameFromInterface");function Z7(w){var k=Y$;return w&&(k+=w.method[xn],k+=w.assembly[xn],k+=w.fileName[xn],k+=w.level.toString()[xn],k+=w.line.toString()[xn],w[q2]=k),w}o(Z7,"_populateFrameSizeInBytes");function GB(w){return{level:w.level,method:w.method,assembly:w[kb],fileName:w[Su],line:w[H2]}}o(GB,"_parsedFrameToInterface");var HB=function(){function w(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return o(w,"DataPoint"),w}(),rz=function(){function w(k,B,Q,ue,we,Be,Ve,it,vt){this.aiDataContract={ver:1,metrics:1,properties:0};var br=this;br.ver=2;var vn=new HB;vn[M2]=ue>0?ue:void 0,vn.max=isNaN(Be)||Be===null?void 0:Be,vn.min=isNaN(we)||we===null?void 0:we,vn[P0]=rl(k,B)||Wf,vn.value=Q,vn.stdDev=isNaN(Ve)||Ve===null?void 0:Ve,br.metrics=[vn],br[Gf]=Am(k,it),br[yc]=F0(k,vt)}return o(w,"Metric"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",w.dataType="MetricData",w}(),ry="";function nz(w,k){return k===void 0&&(k=!1),w==null?k:w.toString()[Q2]()==="true"}o(nz,"stringToBoolOrDefault");function X7(w){(isNaN(w)||w<0)&&(w=0),w=a7(w);var k=ry+w%1e3,B=ry+Hh(w/1e3)%60,Q=ry+Hh(w/(1e3*60))%60,ue=ry+Hh(w/(1e3*60*60))%24,we=Hh(w/(1e3*60*60*24));return k=k[xn]===1?"00"+k:k[xn]===2?"0"+k:k,B=B[xn]<2?"0"+B:B,Q=Q[xn]<2?"0"+Q:Q,ue=ue[xn]<2?"0"+ue:ue,(we>0?we+".":ry)+ue+":"+Q+":"+B+"."+k}o(X7,"msToTimeSpan");function iz(w,k){var B=null;return dl(w,function(Q){if(Q.identifier===k)return B=Q,-1}),B}o(iz,"getExtensionByName");function dp(w,k,B,Q,ue){return!ue&&J(w)&&(w==="Script error."||w==="Script error")}o(dp,"isCrossOriginError");var oz=function(){function w(k,B,Q,ue,we,Be,Ve){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var it=this;it.ver=2,it.id=j2(k,Ve),it.url=Hf(k,Q),it[P0]=rl(k,B)||Wf,isNaN(ue)||(it[p3]=X7(ue)),it[Gf]=Am(k,we),it[yc]=F0(k,Be)}return o(w,"PageView"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",w.dataType="PageviewData",w}(),ny=function(){function w(k,B,Q,ue,we,Be,Ve,it,vt,br,vn,Mn){vt===void 0&&(vt="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var wr=this;wr.ver=2,wr.id=B,wr[p3]=X7(we),wr.success=Be,wr.resultCode=Ve+"",wr.type=rl(k,vt);var Fr=wB(k,Q,it,ue);wr.data=Hf(k,ue)||Fr.data,wr.target=rl(k,Fr.target),br&&(wr.target="".concat(wr.target," | ").concat(br)),wr[P0]=rl(k,Fr[P0]),wr[Gf]=Am(k,vn),wr[yc]=F0(k,Mn)}return o(w,"RemoteDependencyData"),w.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",w.dataType="RemoteDependencyData",w}(),eT=function(){function w(k,B,Q,ue,we){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var Be=this;Be.ver=2,B=B||Wf,Be[d3]=Rb(k,B),Be[Gf]=Am(k,ue),Be[yc]=F0(k,we),Q&&(Be[h3]=Q)}return o(w,"Trace"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Message",w.dataType="MessageData",w}(),I3=function(){function w(k,B,Q,ue,we,Be,Ve){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var it=this;it.ver=2,it.url=Hf(k,Q),it[P0]=rl(k,B)||Wf,it[Gf]=Am(k,we),it[yc]=F0(k,Be),Ve&&(it.domProcessing=Ve.domProcessing,it[p3]=Ve[p3],it.networkConnect=Ve.networkConnect,it.perfTotal=Ve.perfTotal,it.receivedResponse=Ve.receivedResponse,it.sentRequest=Ve.sentRequest)}return o(w,"PageViewPerformance"),w.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",w.dataType="PageviewPerformanceData",w}(),sz=function(){function w(k,B){this.aiDataContract={baseType:1,baseData:1},this.baseType=k,this.baseData=B}return o(w,"Data"),w}(),qb=YC({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),az=function(){function w(){}return o(w,"ConfigurationManager"),w.getConfig=function(k,B,Q,ue){ue===void 0&&(ue=!1);var we;return Q&&k[U2]&&k[U2][Q]&&!O(k[U2][Q][B])?we=k[U2][Q][B]:we=k[B],O(we)?ue:we},w}();function $f(w){var k="ai."+w+".";return function(B){return k+B}}o($f,"_aiNameFunc");var iy=$f("application"),ma=$f("device"),Wb=$f("location"),oy=$f("operation"),Gb=$f("session"),mp=$f("user"),m1=$f("cloud"),T3=$f("internal"),hp=function(w){Kh(k,w);function k(){return w.call(this)||this}return o(k,"ContextTagKeys"),k}(n3({applicationVersion:iy("ver"),applicationBuild:iy("build"),applicationTypeId:iy("typeId"),applicationId:iy("applicationId"),applicationLayer:iy("layer"),deviceId:ma("id"),deviceIp:ma("ip"),deviceLanguage:ma("language"),deviceLocale:ma("locale"),deviceModel:ma("model"),deviceFriendlyName:ma("friendlyName"),deviceNetwork:ma("network"),deviceNetworkName:ma("networkName"),deviceOEMName:ma("oemName"),deviceOS:ma("os"),deviceOSVersion:ma("osVersion"),deviceRoleInstance:ma("roleInstance"),deviceRoleName:ma("roleName"),deviceScreenResolution:ma("screenResolution"),deviceType:ma("type"),deviceMachineName:ma("machineName"),deviceVMName:ma("vmName"),deviceBrowser:ma("browser"),deviceBrowserVersion:ma("browserVersion"),locationIp:Wb("ip"),locationCountry:Wb("country"),locationProvince:Wb("province"),locationCity:Wb("city"),operationId:oy("id"),operationName:oy("name"),operationParentId:oy("parentId"),operationRootId:oy("rootId"),operationSyntheticSource:oy("syntheticSource"),operationCorrelationVector:oy("correlationVector"),sessionId:Gb("id"),sessionIsFirst:Gb("isFirst"),sessionIsNew:Gb("isNew"),userAccountAcquisitionDate:mp("accountAcquisitionDate"),userAccountId:mp("accountId"),userAgent:mp("userAgent"),userId:mp("id"),userStoreRegion:mp("storeRegion"),userAuthUserId:mp("authUserId"),userAnonymousUserAcquisitionDate:mp("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:mp("authUserAcquisitionDate"),cloudName:m1("name"),cloudRole:m1("role"),cloudRoleVer:m1("roleVer"),cloudRoleInstance:m1("roleInstance"),cloudEnvironment:m1("environment"),cloudLocation:m1("location"),cloudDeploymentUnit:m1("deploymentUnit"),internalNodeName:T3("nodeName"),internalSdkVersion:T3("sdkVersion"),internalAgentVersion:T3("agentVersion"),internalSnippet:T3("snippet"),internalSdkSrc:T3("sdkSrc")}));function tT(w,k,B,Q,ue,we){B=rl(Q,B)||Wf,(O(w)||O(k)||O(B))&&Qe("Input doesn't contain all required fields");var Be="";w[N7]&&(Be=w[N7],delete w[N7]);var Ve={name:B,time:fm(new Date),iKey:Be,ext:we||{},tags:[],data:{},baseType:k,baseData:w};return O(ue)||Ge(ue,function(it,vt){Ve.data[it]=vt}),Ve}o(tT,"createTelemetryItem");var rT=function(){function w(){}return o(w,"TelemetryItemCreator"),w.create=tT,w}(),lz={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},cz=new hp;function jB(w){var k=null;if(ae(Event))k=new Event(w);else{var B=Te();B&&B.createEvent&&(k=B.createEvent("Event"),k.initEvent(w,!0,!0))}return k}o(jB,"createDomEvent");function nT(w,k){hB(w,null,null,k)}o(nT,"_disableEvents");function VB(w){var k=Te(),B=Nt(),Q=!1,ue=[],we=1;B&&!O(B.onLine)&&!B.onLine&&(we=2);var Be=0,Ve=Mn(),it=Q$(mm("OfflineListener"),w);try{if(br(xt())&&(Q=!0),k){var vt=k.body||k;vt.ononline&&br(vt)&&(Q=!0)}}catch{Q=!1}function br(Si){var Da=!1;return Si&&(Da=P7(Si,"online",Nn,it),Da&&P7(Si,"offline",bn,it)),Da}o(br,"_enableEvents");function vn(){return Ve}o(vn,"_isOnline");function Mn(){return!(Be===2||we===2)}o(Mn,"calCurrentState");function wr(){var Si=Mn();Ve!==Si&&(Ve=Si,dl(ue,function(Da){var ay={isOnline:Ve,rState:we,uState:Be};try{Da(ay)}catch{}}))}o(wr,"listnerNoticeCheck");function Fr(Si){Be=Si,wr()}o(Fr,"setOnlineState");function Nn(){we=1,wr()}o(Nn,"_setOnline");function bn(){we=2,wr()}o(bn,"_setOffline");function pi(){var Si=xt();if(Si&&Q){if(nT(Si,it),k){var Da=k.body||k;X(Da.ononline)||nT(Da,it)}Q=!1}}o(pi,"_unload");function ro(Si){return ue.push(Si),{rm:o(function(){var Da=ue.indexOf(Si);if(Da>-1)return ue.splice(Da,1)},"rm")}}return o(ro,"addListener"),{isOnline:vn,isListening:o(function(){return Q},"isListening"),unload:pi,addListener:ro,setOnlineState:Fr}}o(VB,"createOfflineListener");var uz="AppInsightsPropertiesPlugin",iT="AppInsightsChannelPlugin",sy="ApplicationInsightsAnalytics";e.AnalyticsPluginIdentifier=sy,e.BreezeChannelIdentifier=iT,e.ConfigurationManager=az,e.ConnectionStringParser=Pb,e.ContextTagKeys=hp,e.CtxTagKeys=cz,e.DEFAULT_BREEZE_ENDPOINT=F7,e.DEFAULT_BREEZE_PATH=f3,e.Data=sz,e.DisabledPropertyName=Ib,e.DistributedTracingModes=G$,e.Envelope=Fb,e.Event=z$,e.EventPersistence=g3,e.Exception=Vf,e.Extensions=lz,e.HttpMethod=gB,e.Metric=rz,e.PageView=oz,e.PageViewPerformance=I3,e.ProcessLegacy=Tb,e.PropertiesPluginIdentifier=uz,e.RemoteDependencyData=ny,e.RequestHeaders=AB,e.SampleRate=pB,e.SeverityLevel=qb,e.TelemetryItemCreator=rT,e.ThrottleMgr=$$,e.Trace=eT,e.correlationIdCanIncludeCorrelationHeader=cp,e.correlationIdGetCorrelationContext=IB,e.correlationIdGetCorrelationContextValue=TB,e.correlationIdGetPrefix=j7,e.correlationIdSetPrefix=H7,e.createDistributedTraceContextFromTrace=V7,e.createDomEvent=jB,e.createOfflineListener=VB,e.createTelemetryItem=tT,e.createTraceParent=D2,e.dataSanitizeException=q7,e.dataSanitizeId=j2,e.dataSanitizeInput=W7,e.dataSanitizeKey=U7,e.dataSanitizeKeyAndAddUniqueness=O7,e.dataSanitizeMeasurements=F0,e.dataSanitizeMessage=Rb,e.dataSanitizeProperties=Am,e.dataSanitizeString=rl,e.dataSanitizeUrl=Hf,e.dateTimeUtilsDuration=W$,e.dateTimeUtilsNow=q$,e.dsPadNumber=yB,e.findAllScripts=R7,e.findW3cTraceParent=k7,e.formatTraceParent=c1,e.getExtensionByName=iz,e.isBeaconApiSupported=ep,e.isCrossOriginError=dp,e.isInternalApplicationInsightsEndpoint=EB,e.isSampledFlag=Cb,e.isValidSpanId=F2,e.isValidTraceId=P2,e.isValidTraceParent=N2,e.msToTimeSpan=X7,e.parseConnectionString=Db,e.parseTraceParent=D0,e.strNotSpecified=Wf,e.stringToBoolOrDefault=nz,e.urlGetAbsoluteUrl=O$,e.urlGetCompleteUrl=xB,e.urlGetPathName=U$,e.urlParseFullHost=ym,e.urlParseHost=vB,e.urlParseUrl=V2,e.utlCanUseLocalStorage=Bb,e.utlCanUseSessionStorage=Cm,e.utlDisableStorage=A3,e.utlEnableStorage=H$,e.utlGetLocalStorage=SB,e.utlGetSessionStorage=RB,e.utlGetSessionStorageKeys=Z2,e.utlRemoveSessionStorage=BB,e.utlRemoveStorage=N0,e.utlSetLocalStorage=kB,e.utlSetSessionStorage=j$,e.utlSetStoragePrefix=y3})});var H5e=j((rN,G5e)=>{d();(function(e,t){typeof rN=="object"&&typeof G5e<"u"?t(rN):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(rN,function(e){"use strict";function t(A,y){return A||y}o(t,"_pureAssign");function r(A,y){return A[y]}o(r,"_pureRef");var n=void 0,i=null,s="",a="function",l="object",c="prototype",u="__proto__",f="undefined",m="constructor",h="Symbol",p="_polyfill",g="length",x="name",v="call",E="toString",b=t(Object),_=r(b,c),R=t(String),P=r(R,c),F=t(Math),G=t(Array),se=r(G,c),Ae=r(se,"slice");function re(A,y){try{return{v:A.apply(this,y)}}catch(T){return{e:T}}}o(re,"safe");function W(A,y){var T=re(A);return T.e?y:T.v}o(W,"safeGet");var q;function oe(A){return function(y){return typeof y===A}}o(oe,"_createIs");function X(A){var y="[object "+A+"]";return function(T){return!!(T&&H(T)===y)}}o(X,"_createObjIs");function H(A){return _[E].call(A)}o(H,"objToString");function O(A){return typeof A===f||A===f}o(O,"isUndefined");function V(A){return!te(A)}o(V,"isStrictUndefined");function J(A){return A===i||O(A)}o(J,"isNullOrUndefined");function ae(A){return A===i||!te(A)}o(ae,"isStrictNullOrUndefined");function te(A){return!!A||A!==n}o(te,"isDefined");function le(A){return!q&&(q=["string","number","boolean",f,"symbol","bigint"]),A!==l&&q.indexOf(A)!==-1}o(le,"isPrimitiveType");var ce=oe("string"),Pe=oe(a);function Ie(A){return!A&&J(A)?!1:!!A&&typeof A===l}o(Ie,"isObject");var Fe=r(G,"isArray"),Re=X("Date"),Ge=oe("number"),lt=oe("boolean"),st=X("Error");function ct(A){return!!(A&&A.then&&Pe(A.then))}o(ct,"isPromiseLike");function ne(A){return!(!A||W(function(){return!(A&&0+A)},!A))}o(ne,"isTruthy");var Ne=r(b,"getOwnPropertyDescriptor");function ge(A,y){return!!A&&_.hasOwnProperty[v](A,y)}o(ge,"objHasOwnProperty");var He=t(r(b,"hasOwn"),z);function z(A,y){return ge(A,y)||!!Ne(A,y)}o(z,"polyObjHasOwn");function ee(A,y,T){if(A&&Ie(A)){for(var S in A)if(He(A,S)&&y[v](T||A,S,A[S])===-1)break}}o(ee,"objForEachKey");var Qe={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function Se(A){var y={};if(y[Qe.c]=!0,y[Qe.e]=!0,A.l){y.get=function(){return A.l.v};var T=Ne(A.l,"v");T&&T.set&&(y.set=function(S){A.l.v=S})}return ee(A,function(S,D){y[Qe[S]]=V(D)?y[Qe[S]]:D}),y}o(Se,"_createProp");var Ce=r(b,"defineProperty");function qe(A,y,T){return Ce(A,y,Se(T))}o(qe,"objDefine");function $e(A,y,T,S,D){var N={};return ee(A,function(U,ie){tt(N,U,y?ie:U),tt(N,ie,T?ie:U)}),S?S(N):N}o($e,"_createKeyValueMap");function tt(A,y,T,S){Ce(A,y,{value:T,enumerable:!0,writable:!1})}o(tt,"_assignMapValue");var Ct=t(R),Pt="[object Error]";function yt(A,y){var T=s,S=_[E][v](A);S===Pt&&(A={stack:Ct(A.stack),message:Ct(A.message),name:Ct(A.name)});try{T=JSON.stringify(A,i,y?typeof y=="number"?y:4:n),T=(T?T.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):i)||Ct(A)}catch(D){T=" - "+yt(D,y)}return S+": "+T}o(yt,"dumpObj");function zt(A){throw new Error(A)}o(zt,"throwError");function Kt(A){throw new TypeError(A)}o(Kt,"throwTypeError");var sr=r(b,"freeze");function pe(A){return A}o(pe,"_doNothing");function Me(A){return A[u]||i}o(Me,"_getProto");var Ze=r(b,"assign"),rt=r(b,"keys");function kt(A){return sr&&ee(A,function(y,T){(Fe(T)||Ie(T))&&kt(T)}),bt(A)}o(kt,"objDeepFreeze");var bt=t(sr,pe),Qt=t(r(b,"getPrototypeOf"),Me);function Ot(A){return $e(A,1,0,bt)}o(Ot,"createEnum");function wt(A){return $e(A,0,0,bt)}o(wt,"createEnumKeyMap");function Rt(A){var y={};return ee(A,function(T,S){tt(y,T,S[1]),tt(y,S[0],S[1])}),bt(y)}o(Rt,"createSimpleMap");function _t(A){return Rt(A)}o(_t,"createTypeMap");var qt=wt({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),Ht="__tsUtils$gblCfg",Jt;function ur(){var A;return typeof globalThis!==f&&(A=globalThis),!A&&typeof self!==f&&(A=self),!A&&typeof window!==f&&(A=window),!A&&typeof global!==f&&(A=global),A}o(ur,"_getGlobalValue");function gr(){if(!Jt){var A=re(ur).v||{};Jt=A[Ht]=A[Ht]||{}}return Jt}o(gr,"_getGlobalConfig");var lr=fr;function fr(A,y,T){var S=y?y[A]:i;return function(D){var N=(D?D[A]:i)||S;if(N||T){var U=arguments;return(N||T).apply(D,N?Ae[v](U,1):U)}Kt('"'+Ct(A)+'" not defined for '+yt(D))}}o(fr,"_unwrapFunctionWithPoly");function rr(A){return function(y){return y[A]}}o(rr,"_unwrapProp");var dr=r(F,"min"),Ee=r(F,"max"),M=lr("slice",P),de=lr("substring",P),ye=fr("substr",P,Y);function Y(A,y,T){return J(A)&&Kt("Invalid "+yt(A)),T<0?s:(y=y||0,y<0&&(y=Ee(y+A[g],0)),O(T)?M(A,y):M(A,y,y+T))}o(Y,"polyStrSubstr");function L(A,y){return de(A,0,y)}o(L,"strLeft");var Te="_urid",Ue;function xt(){if(!Ue){var A=gr();Ue=A.gblSym=A.gblSym||{k:{},s:{}}}return Ue}o(xt,"_globalSymbolRegistry");var Wt;function Nt(A){var y={description:Ct(A),toString:o(function(){return h+"("+A+")"},"toString")};return y[p]=!0,y}o(Nt,"polyNewSymbol");function ir(A){var y=xt();if(!He(y.k,A)){var T=Nt(A),S=rt(y.s).length;T[Te]=function(){return S+"_"+T[E]()},y.k[A]=T,y.s[T[Te]()]=Ct(A)}return y.k[A]}o(ir,"polySymbolFor");function ar(A){!Wt&&(Wt={});var y,T=qt[A];return T&&(y=Wt[T]=Wt[T]||Nt(h+"."+T)),y}o(ar,"polyGetKnownSymbol");var Ut;function It(){Ut=gr()}o(It,"_initTestHooks");function cr(A){var y={};return!Ut&&It(),y.b=Ut.lzy,Ce(y,"v",{configurable:!0,get:o(function(){var T=A();return Ut.lzy||Ce(y,"v",{value:T}),y.b=Ut.lzy,T},"get")}),y}o(cr,"getLazy");function zo(A){return Ce({toJSON:o(function(){return A},"toJSON")},"v",{value:A})}o(zo,"createCachedValue");var sm="window",dl;function am(A,y){var T;return function(){return!Ut&&It(),(!T||Ut.lzy)&&(T=zo(re(A,y).v)),T.v}}o(am,"_getGlobalInstFn");function Nf(A){return!Ut&&It(),(!dl||A===!1||Ut.lzy)&&(dl=zo(re(ur).v||i)),dl.v}o(Nf,"getGlobal");function Ys(A,y){var T;if(!dl||y===!1?T=Nf(y):T=dl.v,T&&T[A])return T[A];if(A===sm)try{return window}catch{}return i}o(Ys,"getInst");function Wh(){return!!i2()}o(Wh,"hasDocument");var i2=am(Ys,["document"]);function o7(){return!!lm()}o(o7,"hasWindow");var lm=am(Ys,[sm]);function m$(){return!!Gh()}o(m$,"hasNavigator");var Gh=am(Ys,["navigator"]),h$=am(function(){return!!re(function(){return process&&(process.versions||{}).node}).v}),$g,s7;function Hv(){return $g=zo(re(Ys,[h]).v),$g}o(Hv,"_initSymbol");function p$(A){var y=(Ut.lzy?0:$g)||Hv();return y.v?y.v[A]:n}o(p$,"_getSymbolKey");function Ac(){return!!Hh()}o(Ac,"hasSymbol");function Hh(){return!Ut&&It(),((Ut.lzy?0:$g)||Hv()).v}o(Hh,"getSymbol");function VC(A,y){var T=qt[A];!Ut&&It();var S=(Ut.lzy?0:$g)||Hv();return S.v?S.v[T||A]:y?n:ar(A)}o(VC,"getKnownSymbol");function zg(A,y){!Ut&&It();var T=(Ut.lzy?0:$g)||Hv();return T.v?T.v(A):y?i:Nt(A)}o(zg,"newSymbol");function $C(A){return!Ut&&It(),s7=(Ut.lzy?0:s7)||zo(re(p$,["for"]).v),(s7.v||ir)(A)}o($C,"symbolFor");function jh(A){return!!A&&Pe(A.next)}o(jh,"isIterator");function jv(A){return!ae(A)&&Pe(A[VC(3)])}o(jv,"isIterable");var zC;function a7(A,y,T){if(A&&(jh(A)||(!zC&&(zC=zo(VC(3))),A=A[zC.v]?A[zC.v]():i),jh(A))){var S=n,D=n;try{for(var N=0;!(D=A.next()).done&&y[v](T||A,D.value,N,A)!==-1;)N++}catch(U){S={e:U},A.throw&&(D=i,A.throw(S))}finally{try{D&&!D.done&&A.return&&A.return(D)}finally{if(S)throw S.e}}}}o(a7,"iterForOf");function o2(A,y,T){return A.apply(y,T)}o(o2,"fnApply");function s2(A,y){return!O(y)&&A&&(Fe(y)?o2(A.push,A,y):jh(y)||jv(y)?a7(y,function(T){A.push(T)}):A.push(y)),A}o(s2,"arrAppend");function Yr(A,y,T){if(A)for(var S=A[g]>>>0,D=0;D<S&&!(D in A&&y[v](T||A,A[D],D,A)===-1);D++);}o(Yr,"arrForEach");var zc=lr("indexOf",se),Yg=lr("map",se);function a2(A,y,T){return((A?A.slice:i)||Ae).apply(A,Ae[v](arguments,1))}o(a2,"arrSlice");var g$=lr("reduce",se),Vh=t(r(b,"create"),A$);function A$(A){if(!A)return{};var y=typeof A;y!==l&&y!==a&&Kt("Prototype must be an Object or function: "+yt(A));function T(){}return o(T,"tempFunc"),T[c]=A,new T}o(A$,"polyObjCreate");var l7;function YC(A,y){var T=b.setPrototypeOf||function(S,D){var N;!l7&&(l7=zo((N={},N[u]=[],N instanceof Array))),l7.v?S[u]=D:ee(D,function(U,ie){return S[U]=ie})};return T(A,y)}o(YC,"objSetPrototypeOf");function y$(A,y,T){re(qe,[y,x,{v:A,c:!0,e:!1}]),y=YC(y,T);function S(){this[m]=y,re(qe,[this,x,{v:A,c:!0,e:!1}])}return o(S,"__"),y[c]=T===i?Vh(T):(S[c]=T[c],new S),y}o(y$,"_createCustomError");function KC(A,y){y&&(A[x]=y)}o(KC,"_setName");function Ba(A,y,T){var S=T||Error,D=S[c][x],N=Error.captureStackTrace;return y$(A,function(){var U=this,ie=arguments;try{re(KC,[S,A]);var fe=o2(S,U,Ae[v](ie))||U;if(fe!==U){var xe=Qt(U);xe!==Qt(fe)&&YC(fe,xe)}return N&&N(fe,U[m]),y&&y(fe,ie),fe}finally{re(KC,[S,D])}},S)}o(Ba,"createCustomError");function $h(){return(Date.now||JC)()}o($h,"utcNow");function JC(){return new Date().getTime()}o(JC,"polyUtcNow");function GR(A){return o(function(T){return J(T)&&Kt("strTrim called ["+yt(T)+"]"),T&&T.replace&&(T=T.replace(A,s)),T},"_doTrim")}o(GR,"_createTrimFn");var C$=GR(/^\s+|(?=\s)\s+$/g),Hi=fr("trim",P,C$),Kg=r(F,"floor"),zh,c7,ZC;function Yc(A){if(!A||typeof A!==l)return!1;ZC||(ZC=o7()?lm():!0);var y=!1;if(A!==ZC){c7||(zh=Function[c][E],c7=zh[v](b));try{var T=Qt(A);y=!T,y||(ge(T,m)&&(T=T[m]),y=!!(T&&typeof T===a&&zh[v](T)===c7))}catch{}}return y}o(Yc,"isPlainObject");function HR(A){return A.value&&Vv(A),!0}o(HR,"_defaultDeepCopyHandler");var jR=[l2,Vv,$R,Yh];function u7(A,y,T,S){var D;return Yr(A,function(N){if(N.k===y)return D=N,-1}),D||(D={k:y,v:y},A.push(D),S(D)),D.v}o(u7,"_getSetVisited");function Jg(A,y,T,S){var D=T.handler,N=T.path?S?T.path.concat(S):T.path:[],U={handler:T.handler,src:T.src,path:N},ie=typeof y,fe=!1,xe=y===i;xe||(y&&ie===l?fe=Yc(y):xe=le(ie));var ke={type:ie,isPrim:xe,isPlain:fe,value:y,result:y,path:N,origin:T.src,copy:o(function(We,Xe){return Jg(A,We,Xe?U:T,Xe)},"copy"),copyTo:o(function(We,Xe){return f7(A,We,Xe,U)},"copyTo")};return ke.isPrim?D&&D[v](T,ke)?ke.result:y:u7(A,y,N,function(We){qe(ke,"result",{g:o(function(){return We.v},"g"),s:o(function(Ke){We.v=Ke},"s")});for(var Xe=0,je=D;!(je||(Xe<jR.length?jR[Xe++]:HR))[v](T,ke);)je=i})}o(Jg,"_deepCopy");function f7(A,y,T,S){if(!J(T))for(var D in T)y[D]=Jg(A,T[D],S,D);return y}o(f7,"_copyProps");function VR(A,y,T){var S={handler:T,src:y,path:[]};return f7([],A,y,S)}o(VR,"objCopyProps");function d7(A,y){var T={handler:y,src:A};return Jg([],A,T)}o(d7,"objDeepCopy");function l2(A){var y=A.value;if(Fe(y)){var T=A.result=[];return T.length=y.length,A.copyTo(T,y),!0}return!1}o(l2,"arrayDeepCopyHandler");function Yh(A){var y=A.value;return Re(y)?(A.result=new Date(y.getTime()),!0):!1}o(Yh,"dateDeepCopyHandler");function $R(A){return A.type===a}o($R,"functionDeepCopyHandler");function Vv(A){var y=A.value;if(y&&A.isPlain){var T=A.result={};return A.copyTo(T,y),!0}return!1}o(Vv,"plainObjDeepCopyHandler");function m7(A,y){return Yr(y,function(T){VR(A,T)}),A}o(m7,"_doExtend");function $v(A,y,T,S,D,N,U){return m7(d7(A)||{},Ae[v](arguments))}o($v,"deepExtend");var x$=rr(g),v$=r(F,"round"),zR=fr("endsWith",P,b$);function b$(A,y,T){ce(A)||Kt("'"+yt(A)+"' is not a string");var S=ce(y)?y:Ct(y),D=!O(T)&&T<A[g]?T:A[g];return de(A,D-S[g],D)===S}o(b$,"polyStrEndsWith");var cm=lr("indexOf",P),zv="ref",h7="unref",Yv="hasRef",E$="enabled";function Kv(A,y,T){var S=!0,D=A?y(i):i,N;function U(){return S=!1,D&&D[h7]&&D[h7](),N}o(U,"_unref");function ie(){D&&T(D),D=i}o(ie,"_cancel");function fe(){return D=y(D),S||U(),N}o(fe,"_refresh");function xe(ke){!ke&&D&&ie(),ke&&!D&&fe()}return o(xe,"_setEnabled"),N={cancel:ie,refresh:fe},N[Yv]=function(){return D&&D[Yv]?D[Yv]():S},N[zv]=function(){return S=!0,D&&D[zv]&&D[zv](),N},N[h7]=U,N=Ce(N,E$,{get:o(function(){return!!D},"get"),set:xe}),{h:N,dn:o(function(){D=i},"dn")}}o(Kv,"_createTimerHandler");function Jv(A,y,T){var S=Fe(y),D=S?y.length:0,N=(D>0?y[0]:S?n:y)||setTimeout,U=(D>1?y[1]:n)||clearTimeout,ie=T[0];T[0]=function(){fe.dn(),o2(ie,n,Ae[v](arguments))};var fe=Kv(A,function(xe){if(xe){if(xe.refresh)return xe.refresh(),xe;o2(U,n,[xe])}return o2(N,n,T)},function(xe){o2(U,n,[xe])});return fe.h}o(Jv,"_createTimeoutWith");function Kh(A,y){return Jv(!0,n,Ae[v](arguments))}o(Kh,"scheduleTimeout");function Zv(A,y){return Jv(!1,n,Ae[v](arguments))}o(Zv,"createTimeout");var Zg,S0="constructor",k0="prototype",Xg="function",c2="_dynInstFuncs",Jh="_isDynProxy",u2="_dynClass",p7="_dynCls$",e1="_dynInstChk",f2=e1,g7="_dfOpts",Xv="_unknown_",d2="__proto__",XC="_dyn"+d2,eb="__dynProto$Gbl",m2="_dynInstProto",h2="useBaseInst",e3="setInstFuncs",t1=Object,p2=t1.getPrototypeOf,A7=t1.getOwnPropertyNames,tb=Nf(),g2=tb[eb]||(tb[eb]={o:(Zg={},Zg[e3]=!0,Zg[h2]=!0,Zg),n:1e3});function A2(A){return A&&(A===t1[k0]||A===Array[k0])}o(A2,"_isObjectOrArrayPrototype");function um(A){return A2(A)||A===Function[k0]}o(um,"_isObjectArrayOrFunctionPrototype");function Lf(A){var y;if(A){if(p2)return p2(A);var T=A[d2]||A[k0]||(A[S0]?A[S0][k0]:null);y=A[XC]||T,ge(A,XC)||(delete A[m2],y=A[XC]=A[m2]||A[XC],A[m2]=T)}return y}o(Lf,"_getObjProto");function y2(A,y){var T=[];if(A7)T=A7(A);else for(var S in A)typeof S=="string"&&ge(A,S)&&T.push(S);if(T&&T.length>0)for(var D=0;D<T.length;D++)y(T[D])}o(y2,"_forEachProp");function C2(A,y,T){return y!==S0&&typeof A[y]===Xg&&(T||ge(A,y))&&y!==d2&&y!==k0}o(C2,"_isDynamicCandidate");function rb(A){Kt("DynamicProto: "+A)}o(rb,"_throwTypeError");function y7(A){var y=Vh(null);return y2(A,function(T){!y[T]&&C2(A,T,!1)&&(y[T]=A[T])}),y}o(y7,"_getInstanceFuncs");function C7(A,y){for(var T=A.length-1;T>=0;T--)if(A[T]===y)return!0;return!1}o(C7,"_hasVisited");function I$(A,y,T,S){function D(fe,xe,ke){var We=xe[ke];if(We[Jh]&&S){var Xe=fe[c2]||{};Xe[f2]!==!1&&(We=(Xe[xe[u2]]||{})[ke]||We)}return function(){return We.apply(fe,arguments)}}o(D,"_instFuncProxy");var N=Vh(null);y2(T,function(fe){N[fe]=D(y,T,fe)});for(var U=Lf(A),ie=[];U&&!um(U)&&!C7(ie,U);)y2(U,function(fe){!N[fe]&&C2(U,fe,!p2)&&(N[fe]=D(y,U,fe))}),ie.push(U),U=Lf(U);return N}o(I$,"_getBaseFuncs");function T$(A,y,T,S){var D=null;if(A&&ge(T,u2)){var N=A[c2]||Vh(null);if(D=(N[T[u2]]||Vh(null))[y],D||rb("Missing ["+y+"] "+Xg),!D[e1]&&N[f2]!==!1){for(var U=!ge(A,y),ie=Lf(A),fe=[];U&&ie&&!um(ie)&&!C7(fe,ie);){var xe=ie[y];if(xe){U=xe===S;break}fe.push(ie),ie=Lf(ie)}try{U&&(A[y]=D),D[e1]=1}catch{N[f2]=!1}}}return D}o(T$,"_getInstFunc");function w$(A,y,T){var S=y[A];return S===T&&(S=Lf(y)[A]),typeof S!==Xg&&rb("["+A+"] is not a "+Xg),S}o(w$,"_getProtoFunc");function _$(A,y,T,S,D){function N(fe,xe){var ke=o(function(){var We=T$(this,xe,fe,ke)||w$(xe,fe,ke);return We.apply(this,arguments)},"dynProtoProxy");return ke[Jh]=1,ke}if(o(N,"_createDynamicPrototype"),!A2(A)){var U=T[c2]=T[c2]||Vh(null);if(!A2(U)){var ie=U[y]=U[y]||Vh(null);U[f2]!==!1&&(U[f2]=!!D),A2(ie)||y2(T,function(fe){C2(T,fe,!1)&&T[fe]!==S[fe]&&(ie[fe]=T[fe],delete T[fe],(!ge(A,fe)||A[fe]&&!A[fe][Jh])&&(A[fe]=N(A,fe)))})}}}o(_$,"_populatePrototype");function x7(A,y){if(p2){for(var T=[],S=Lf(y);S&&!um(S)&&!C7(T,S);){if(S===A)return!0;T.push(S),S=Lf(S)}return!1}return!0}o(x7,"_checkPrototype");function t3(A,y){return ge(A,k0)?A.name||y||Xv:((A||{})[S0]||{}).name||y||Xv}o(t3,"_getObjName");function Hl(A,y,T,S){ge(A,k0)||rb("theClass is an invalid class definition.");var D=A[k0];x7(D,y)||rb("["+t3(A)+"] not in hierarchy of ["+t3(y)+"]");var N=null;ge(D,u2)?N=D[u2]:(N=p7+t3(A,"_")+"$"+g2.n,g2.n++,D[u2]=N);var U=Hl[g7],ie=!!U[h2];ie&&S&&S[h2]!==void 0&&(ie=!!S[h2]);var fe=y7(y),xe=I$(D,y,fe,ie);T(y,xe);var ke=!!p2&&!!U[e3];ke&&S&&(ke=!!S[e3]),_$(D,N,y,fe,ke!==!1)}o(Hl,"dynamicProto"),Hl[g7]=g2.o;var Ms="function",YR="object",KR="undefined",r3="prototype",v7=Object,b7=v7[r3];(Nf()||{}).Symbol,(Nf()||{}).Reflect;var nb="hasOwnProperty",JR=o(function(A){for(var y,T=1,S=arguments.length;T<S;T++){y=arguments[T];for(var D in y)b7[nb].call(y,D)&&(A[D]=y[D])}return A},"__objAssignFnImpl"),fm=Ze||JR,Zh=o(function(A,y){return Zh=v7.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,S){T.__proto__=S}||function(T,S){for(var D in S)S[nb](D)&&(T[D]=S[D])},Zh(A,y)},"extendStaticsFn");function n3(A,y){typeof y!==Ms&&y!==null&&Kt("Class extends value "+String(y)+" is not a constructor or null"),Zh(A,y);function T(){this.constructor=A}o(T,"__"),A[r3]=y===null?Vh(y):(T[r3]=y[r3],new T)}o(n3,"__extendsFn");function ZR(A,y){for(var T=0,S=y.length,D=A.length;T<S;T++,D++)A[D]=y[T];return A}o(ZR,"__spreadArrayFn");var ib=Ot,S$=_t,Xh=ib({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2}),x2="toLowerCase",jn="length",v2="warnToConsole",r1="throwInternal",dm="watch",ob="apply",ji="push",b2="splice",fa="logger",E2="cancel",i3="initialize",ep="identifier",o3="removeNotificationListener",sb="addNotificationListener",Qf="isInitialized",I2="value",Tu="getNotifyMgr",T2="getPlugin",tp="name",ml="processNext",w2="getProcessTelContext",Mf="enabled",XR="stopPollingInternalLogs",n1="unload",ab="onComplete",_2="version",eB="loggingLevelConsole",i1="createNew",Of="teardown",lb="messageId",o1="message",Uf="diagLog",cb="_doTeardown",mm="update",qf="getNext",rp="setNextPlugin",ub="userAgent",np="split",ip="replace",jl="type",E7="evtName",s3="status",I7="getAllResponseHeaders",T7="isChildEvt",S2="data",op="getCtx",wu="setCtx",tB="itemsReceived",hm="urlString",w7="headers",pm="timeout",rB="traceFlags",k2;function _7(A,y){k2||(k2=Ba("AggregationError",function(S,D){D[jn]>1&&(S.errors=D[1])}));var T=A||"One or more errors occurred.";throw Yr(y,function(S,D){T+=`
`.concat(D," > ").concat(yt(S))}),new k2(T,y||[])}o(_7,"throwAggregationError");var s1="Promise",a1="rejected";function R0(A,y){return nB(A,function(T){return y?y({status:"fulfilled",rejected:!1,value:T}):T},function(T){return y?y({status:a1,rejected:!0,reason:T}):T})}o(R0,"doAwaitResponse");function nB(A,y,T,S){var D=A;try{if(ct(A))(y||T)&&(D=A.then(y,T));else try{y&&(D=y(A))}catch(N){if(T)D=T(N);else throw N}}finally{S&&k$(D,S)}return D}o(nB,"doAwait");function k$(A,y){var T=A;return y&&(ct(A)?A.finally?T=A.finally(y):T=A.then(function(S){return y(),S},function(S){throw y(),S}):y()),T}o(k$,"doFinally");var iB=["pending","resolving","resolved",a1],oB="dispatchEvent",a3;function sB(A){var y;return A&&A.createEvent&&(y=A.createEvent("Event")),!!y&&y.initEvent}o(sB,"_hasInitEventFn");function fb(A,y,T,S){var D=i2();!a3&&(a3=zo(!!re(sB,[D]).v));var N=a3.v?D.createEvent("Event"):S?new Event(y):{};if(T&&T(N),a3.v&&N.initEvent(y,!1,!0),N&&A[oB])A[oB](N);else{var U=A["on"+y];if(U)U(N);else{var ie=Ys("console");ie&&(ie.error||ie.log)(y,yt(N))}}}o(fb,"emitEvent");var aB="unhandledRejection",R$=aB.toLowerCase(),R2=10,db;function lB(A){return Pe(A)?A.toString():yt(A)}o(lB,"dumpFnObj");function cB(A,y,T){var S=a2(arguments,3),D=0,N=!1,U,ie=[],fe=!1,xe=null,ke;function We(mr,Rr){try{fe=!0,xe&&xe.cancel(),xe=null;var Un=A(function(xi,vi){ie.push(function(){try{var mo=D===2?mr:Rr,fn=O(mo)?U:Pe(mo)?mo(U):mo;ct(fn)?fn.then(xi,vi):mo?xi(fn):D===3?vi(fn):xi(fn)}catch(Vr){vi(Vr)}}),N&&pt()},S);return Un}finally{}}o(We,"_then");function Xe(mr){return We(void 0,mr)}o(Xe,"_catch");function je(mr){var Rr=mr,Un=mr;return Pe(mr)&&(Rr=o(function(xi){return mr&&mr(),xi},"thenFinally"),Un=o(function(xi){throw mr&&mr(),xi},"catchFinally")),We(Rr,Un)}o(je,"_finally");function Ke(){return iB[D]}o(Ke,"_strState");function pt(){if(ie.length>0){var mr=ie.slice();ie=[],fe=!0,xe&&xe.cancel(),xe=null,y(mr)}}o(pt,"_processQueue");function ut(mr,Rr){return function(Un){if(D===Rr){if(mr===2&&ct(Un)){D=1,Un.then(ut(2,1),ut(3,1));return}D=mr,N=!0,U=Un,pt(),!fe&&mr===3&&!xe&&(xe=Kh(Tt,R2))}}}o(ut,"_createSettleIfFn");function Tt(){if(!fe)if(fe=!0,h$())process.emit(aB,U,ke);else{var mr=lm()||Nf();!db&&(db=zo(re(Ys,[s1+"RejectionEvent"]).v)),fb(mr,R$,function(Rr){return qe(Rr,"promise",{g:o(function(){return ke},"g")}),Rr.reason=U,Rr},!!db.v)}}o(Tt,"_notifyUnhandledRejection"),ke={then:We,catch:Xe,finally:je},Ce(ke,"state",{get:Ke}),Ac()&&(ke[VC(11)]="IPromise");function Yt(){return"IPromise "+Ke()+(N?" - "+lB(U):"")}return o(Yt,"_toString"),ke.toString=Yt,o(function(){Pe(T)||Kt(s1+": executor is not a function - "+lB(T));var Rr=ut(3,0);try{T.call(ke,ut(2,0),Rr)}catch(Un){Rr(Un)}},"_initialize")(),ke}o(cB,"_createPromise");function B$(A){return function(y){var T=a2(arguments,1);return A(function(S,D){try{var N=[],U=1;a7(y,function(ie,fe){ie&&(U++,nB(ie,function(xe){N[fe]=xe,--U===0&&S(N)},D))}),U--,U===0&&S(N)}catch(ie){D(ie)}},T)}}o(B$,"_createAllPromise");function D$(A){return zo(function(y){var T=a2(arguments,1);return A(function(S,D){var N=[],U=1;function ie(fe,xe){U++,R0(fe,function(ke){ke.rejected?N[xe]={status:a1,reason:ke.reason}:N[xe]={status:"fulfilled",value:ke.value},--U===0&&S(N)})}o(ie,"processItem");try{Fe(y)?Yr(y,ie):jv(y)?a7(y,ie):Kt("Input is not an iterable"),U--,U===0&&S(N)}catch(fe){D(fe)}},T)})}o(D$,"_createAllSettledPromise");function uB(A){Yr(A,function(y){try{y()}catch{}})}o(uB,"syncItemProcessor");function fB(A){var y=Ge(A)?A:0;return function(T){Kh(function(){uB(T)},y)}}o(fB,"timeoutItemProcessor");function mb(A,y){return cB(mb,fB(y),A,y)}o(mb,"createAsyncPromise");var hb;function P$(A,y){!hb&&(hb=zo(re(Ys,[s1]).v||null));var T=hb.v;if(!T)return mb(A);Pe(A)||Kt(s1+": executor is not a function - "+yt(A));var S=0;function D(){return iB[S]}o(D,"_strState");var N=new T(function(U,ie){function fe(ke){S=2,U(ke)}o(fe,"_resolve");function xe(ke){S=3,ie(ke)}o(xe,"_reject"),A(fe,xe)});return Ce(N,"state",{get:D}),N}o(P$,"createNativePromise");var pb;function gb(A){return cB(gb,uB,A)}o(gb,"createSyncPromise");function Kc(A,y){return!pb&&(pb=D$(gb)),pb.v(A,y)}o(Kc,"createSyncAllSettledPromise");var Ab;function B2(A,y){return!Ab&&(Ab=zo(P$)),Ab.v.call(this,A,y)}o(B2,"createPromise");var S7=B$(B2),B0=void 0,hi="",gm="channels",da="core",_u="createPerfMgr",yb="disabled",l1="extensionConfig",D2="extensions",D0="processTelemetry",P2="priority",F2="eventsSent",N2="eventsDiscarded",Cb="eventsSendRequest",c1="perfEvent",k7="offlineEventsStored",R7="offlineBatchSent",xb="offlineBatchDrop",l3="getPerfMgr",vb="domain",bb="path",dB="Not dynamic - ",B7=/-([a-z])/g,F$=/([^\w\d_$])/g,N$=/^(\d+[\w\d_$])/;function Eb(A){return!J(A)}o(Eb,"isNotNullOrUndefined");function L2(A){var y=A;return y&&ce(y)&&(y=y[ip](B7,function(T,S){return S.toUpperCase()}),y=y[ip](F$,"_"),y=y[ip](N$,function(T,S){return"_"+S})),y}o(L2,"normalizeJsName");function hl(A,y){return A&&y?cm(A,y)!==-1:!1}o(hl,"strContains");function c3(A){return A&&A.toISOString()||""}o(c3,"toISOString");function tl(A){return st(A)?A[tp]:hi}o(tl,"getExceptionName");function sp(A,y,T,S,D){var N=T;return A&&(N=A[y],N!==T&&(!D||D(N))&&(!S||S(T))&&(N=T,A[y]=N)),N}o(sp,"setValue");function mB(A,y,T){var S;return A?(S=A[y],!S&&J(S)&&(S=O(T)?{}:T,A[y]=S)):S=O(T)?{}:T,S}o(mB,"getSetValue");function L$(A,y){var T=null,S=null;return Pe(A)?T=A:S=A,function(){var D=arguments;if(T&&(S=T()),S)return S[y][ob](S,D)}}o(L$,"_createProxyFunction");function u3(A,y,T,S,D){A&&y&&T&&(D!==!1||O(A[y]))&&(A[y]=L$(T,S))}o(u3,"proxyFunctionAs");function D7(A,y,T,S){return A&&y&&Ie(A)&&Fe(T)&&Yr(T,function(D){ce(D)&&u3(A,D,y,D,S)}),A}o(D7,"proxyFunctions");function Q$(A){return function(){function y(){var T=this;A&&ee(A,function(S,D){T[S]=D})}return o(y,"class_1"),y}()}o(Q$,"createClassFromInterface");function P7(A){return A&&Ze&&(A=v7(Ze({},A))),A}o(P7,"optimizeObject");function hB(A,y,T,S,D,N){var U=arguments,ie=U[0]||{},fe=U[jn],xe=!1,ke=1;for(fe>0&&lt(ie)&&(xe=ie,ie=U[ke]||{},ke++),Ie(ie)||(ie={});ke<fe;ke++){var We=U[ke],Xe=Fe(We),je=Ie(We);for(var Ke in We){var pt=Xe&&Ke in We||je&&He(We,Ke);if(pt){var ut=We[Ke],Tt=void 0;if(xe&&ut&&((Tt=Fe(ut))||Yc(ut))){var Yt=ie[Ke];Tt?Fe(Yt)||(Yt=[]):Yc(Yt)||(Yt={}),ut=hB(xe,Yt,ut)}ut!==void 0&&(ie[Ke]=ut)}}}return ie}o(hB,"objExtend");function Ib(A){try{return A.responseText}catch{}return null}o(Ib,"getResponseText");function pB(A,y){return A?"XDomainRequest,Response:"+Ib(A)||"":y}o(pB,"formatErrorMessageXdr");function Tb(A,y){return A?"XMLHttpRequest,Status:"+A[s3]+",Response:"+Ib(A)||A.response||"":y}o(Tb,"formatErrorMessageXhr");function gB(A,y){return y&&(Ge(y)?A=[y].concat(A):Fe(y)&&(A=y.concat(A))),A}o(gB,"prependTransports");var F7="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",f3="withCredentials",Wf="timeout";function N7(A,y,T,S,D,N){S===void 0&&(S=!1),D===void 0&&(D=!1);function U(fe,xe,ke){try{fe[xe]=ke}catch{}}o(U,"_wrapSetXhrProp");var ie=new XMLHttpRequest;return S&&U(ie,F7,S),T&&U(ie,f3,T),ie.open(A,y,!D),T&&U(ie,f3,T),!D&&N&&U(ie,Wf,N),ie}o(N7,"openXhr");function AB(A){var y={};if(ce(A)){var T=Hi(A)[np](/[\r\n]+/);Yr(T,function(S){if(S){var D=S.indexOf(": ");if(D!==-1){var N=Hi(S.substring(0,D))[x2](),U=Hi(S.substring(D+1));y[N]=U}else y[Hi(S)]=1}})}return y}o(AB,"convertAllHeadersToMap");function ap(A,y,T){if(!A[T]&&y&&y.getResponseHeader){var S=y.getResponseHeader(T);S&&(A[T]=Hi(S))}return A}o(ap,"_appendHeader");var xn="kill-duration",Q2="kill-duration-seconds",u1="time-delta-millis";function f1(A,y){var T={};return A[I7]?T=AB(A[I7]()):y&&(T=ap(T,A,u1),T=ap(T,A,xn),T=ap(T,A,Q2)),T}o(f1,"_getAllResponseHeaders");var L7="documentMode",d3="location",M2="console",wb="JSON",Q7="crypto",_b="msCrypto",O2="msie",d1="trident/",M7="XMLHttpRequest",P0=null,U2=null,Gf=!1,yc=null,q2=null;function m3(A,y){var T=!1;if(A){try{if(T=y in A,!T){var S=A[r3];S&&(T=y in S)}}catch{}if(!T)try{var D=new A;T=!O(D[y])}catch{}}return T}o(m3,"_hasProperty");function W2(A){if(A&&Gf){var y=Ys("__mockLocation");if(y)return y}return typeof location===YR&&location?location:Ys(d3)}o(W2,"getLocation");function h3(){return typeof console!==KR?console:Ys(M2)}o(h3,"getConsole");function G2(){return!!(typeof JSON===YR&&JSON||Ys(wb)!==null)}o(G2,"hasJSON");function Jc(){return G2()?JSON||Ys(wb):null}o(Jc,"getJSON");function Sb(){return Ys(Q7)}o(Sb,"getCrypto");function kb(){return Ys(_b)}o(kb,"getMsCrypto");function Su(){var A=Gh();if(A&&(A[ub]!==U2||P0===null)){U2=A[ub];var y=(U2||hi)[x2]();P0=hl(y,O2)||hl(y,d1)}return P0}o(Su,"isIE");function H2(A){if(A===void 0&&(A=null),!A){var y=Gh()||{};A=y?(y.userAgent||hi)[x2]():hi}var T=(A||hi)[x2]();if(hl(T,O2)){var S=i2()||{};return Ee(parseInt(T[np](O2)[1]),S[L7]||0)}else if(hl(T,d1)){var D=parseInt(T[np](d1)[1]);if(D)return D+4}return null}o(H2,"getIEVersion");function lp(A){return(q2===null||A===!1)&&(q2=m$()&&!!Gh().sendBeacon),q2}o(lp,"isBeaconsSupported");function p3(A){var y=!1;try{y=!!Ys("fetch");var T=Ys("Request");y&&A&&T&&(y=m3(T,"keepalive"))}catch{}return y}o(p3,"isFetchSupported");function O7(){return yc===null&&(yc=typeof XDomainRequest!==KR,yc&&U7()&&(yc=yc&&!m3(Ys(M7),"withCredentials"))),yc}o(O7,"useXDomainRequest");function U7(){var A=!1;try{var y=Ys(M7);A=!!y}catch{}return A}o(U7,"isXhrSupported");var rl=4294967296,Hf=4294967295,Rb=123456789,q7=987654321,Am=!1,F0=Rb,j2=q7;function W7(A){A<0&&(A>>>=0),F0=Rb+A&Hf,j2=q7-A&Hf,Am=!0}o(W7,"_mwcSeed");function yB(){try{var A=$h()&2147483647;W7((Math.random()*rl^A)+A)}catch{}}o(yB,"_autoSeedMwc");function G7(A){var y=0,T=Sb()||kb();return T&&T.getRandomValues&&(y=T.getRandomValues(new Uint32Array(1))[0]&Hf),y===0&&Su()&&(Am||yB(),y=CB()&Hf),y===0&&(y=Kg(rl*Math.random()|0)),A||(y>>>=0),y}o(G7,"random32");function CB(A){j2=36969*(j2&65535)+(j2>>16)&Hf,F0=18e3*(F0&65535)+(F0>>16)&Hf;var y=(j2<<16)+(F0&65535)>>>0&Hf|0;return A||(y>>>=0),y}o(CB,"mwcRandom32");function M$(A){A===void 0&&(A=22);for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=G7()>>>0,S=0,D=hi;D[jn]<A;)S++,D+=y.charAt(T&63),T>>>=6,S===5&&(T=(G7()<<2&4294967295|T&3)>>>0,S=0);return D}o(M$,"newId");var V2="3.3.6",O$="."+M$(6),U$=0;function xB(A){return A.nodeType===1||A.nodeType===9||!+A.nodeType}o(xB,"_canAcceptData");function vB(A,y){var T=y[A.id];if(!T){T={};try{xB(y)&&qe(y,A.id,{e:!1,v:T})}catch{}}return T}o(vB,"_getCache");function ym(A,y){return y===void 0&&(y=!1),L2(A+U$+++(y?"."+V2:hi)+O$)}o(ym,"createUniqueNamespace");function bB(A){var y={id:ym("_aiData-"+(A||hi)+"."+V2),accept:o(function(T){return xB(T)},"accept"),get:o(function(T,S,D,N){var U=T[y.id];return U?U[L2(S)]:(N&&(U=vB(y,T),U[L2(S)]=D),D)},"get"),kill:o(function(T,S){if(T&&T[S])try{delete T[S]}catch{}},"kill")};return y}o(bB,"createElmNodeData");function $2(A){return A&&Ie(A)&&(A.isVal||A.fb||He(A,"v")||He(A,"mrg")||He(A,"ref")||A.set)}o($2,"_isConfigDefaults");function EB(A,y,T){var S,D=T.dfVal||te;if(y&&T.fb){var N=T.fb;Fe(N)||(N=[N]);for(var U=0;U<N[jn];U++){var ie=N[U],fe=y[ie];if(D(fe)?S=fe:A&&(fe=A.cfg[ie],D(fe)&&(S=fe),A.set(A.cfg,Ct(ie),fe)),D(S))break}}return!D(S)&&D(T.v)&&(S=T.v),S}o(EB,"_getDefault");function H7(A,y,T){var S=T;if(T&&$2(T)&&(S=EB(A,y,T)),S){$2(S)&&(S=H7(A,y,S));var D;Fe(S)?(D=[],D[jn]=S[jn]):Yc(S)&&(D={}),D&&(ee(S,function(N,U){U&&$2(U)&&(U=H7(A,y,U)),D[N]=U}),S=D)}return S}o(H7,"_resolveDefaultValue");function j7(A,y,T,S){var D,N,U,ie=S,fe,xe,ke,We;$2(ie)?(D=ie.isVal,N=ie.set,ke=ie.rdOnly,We=ie.blkVal,fe=ie.mrg,xe=ie.ref,!xe&&O(xe)&&(xe=!!fe),U=EB(A,y,ie)):U=S,We&&A.blkVal(y,T);var Xe,je=!0,Ke=y[T];(Ke||!J(Ke))&&(Xe=Ke,je=!1,D&&Xe!==U&&!D(Xe)&&(Xe=U,je=!0),N&&(Xe=N(Xe,U,y),je=Xe===U)),je?U?Xe=H7(A,y,U):Xe=U:(Yc(Xe)||Fe(U))&&fe&&U&&(Yc(U)||Fe(U))&&ee(U,function(pt,ut){j7(A,Xe,pt,ut)}),A.set(y,T,Xe),xe&&A.ref(y,T),ke&&A.rdOnly(y,T)}o(j7,"_applyDefaultValue");var cp=$C("[[ai_dynCfg_1]]"),IB=$C("[[ai_blkDynCfg_1]]"),TB=$C("[[ai_frcDynCfg_1]]");function wB(A){if(A){var y;if(Fe(A)?(y=[],y[jn]=A[jn]):Yc(A)&&(y={}),y)return ee(A,function(T,S){y[T]=wB(S)}),y}return A}o(wB,"_cfgDeepCopy");function q$(A){if(A){var y=A[cp]||A;if(y.cfg&&(y.cfg===A||y.cfg[cp]===y))return y}return null}o(q$,"getDynamicConfigHandler");function W$(A){if(A&&(Yc(A)||Fe(A)))try{A[IB]=!0}catch{}return A}o(W$,"blockDynamicConversion");function V7(A,y,T){var S=!1;return T&&!A[y.blkVal]&&(S=T[TB],!S&&!T[IB]&&(S=Yc(T)||Fe(T))),S}o(V7,"_canMakeDynamic");function z2(A){Kt("InvalidAccess:"+A)}o(z2,"throwInvalidAccess");var G$=["push","pop","shift","unshift","splice"],g3=o(function(A,y,T,S){A&&A[r1](3,108,"".concat(T," [").concat(y,"] failed - ")+yt(S))},"_throwDynamicError");function up(A,y,T){Fe(y)&&Yr(G$,function(S){var D=y[S];y[S]=function(){for(var N=[],U=0;U<arguments.length;U++)N[U]=arguments[U];var ie=D[ob](this,N);return J2(A,y,T,"Patching"),ie}})}o(up,"_patchArray");function ku(A,y){var T=Ne(A,y);return T&&T.get}o(ku,"_getOwnPropGetter");function _B(A,y,T,S){var D={n:T,h:[],trk:o(function(xe){xe&&xe.fn&&(zc(D.h,xe)===-1&&D.h[ji](xe),A.trk(xe,D))},"trk"),clr:o(function(xe){var ke=zc(D.h,xe);ke!==-1&&D.h[b2](ke,1)},"clr")},N=!0,U=!1;function ie(){N&&(U=U||V7(ie,A,S),S&&!S[cp]&&U&&(S=J2(A,S,T,"Converting")),N=!1);var xe=A.act;return xe&&D.trk(xe),S}o(ie,"_getProperty"),ie[A.prop]={chng:o(function(){A.add(D)},"chng")};function fe(xe){if(S!==xe){ie[A.ro]&&!A.upd&&z2("["+T+"] is read-only:"+yt(y)),N&&(U=U||V7(ie,A,S),N=!1);var ke=U&&ie[A.rf];if(U)if(ke){ee(S,function(Xe){S[Xe]=xe?xe[Xe]:B0});try{ee(xe,function(Xe,je){Y2(A,S,Xe,je)}),xe=S}catch(Xe){g3((A.hdlr||{})[fa],T,"Assigning",Xe),U=!1}}else S&&S[cp]&&ee(S,function(Xe){var je=ku(S,Xe);if(je){var Ke=je[A.prop];Ke&&Ke.chng()}});if(xe!==S){var We=xe&&V7(ie,A,xe);!ke&&We&&(xe=J2(A,xe,T,"Converting")),S=xe,U=We}A.add(D)}}o(fe,"_setProperty"),qe(y,D.n,{g:ie,s:fe})}o(_B,"_createDynamicProperty");function Y2(A,y,T,S){if(y){var D=ku(y,T),N=D&&!!D[A.prop];N?y[T]=S:_B(A,y,T,S)}return y}o(Y2,"_setDynamicProperty");function K2(A,y,T,S){if(y){var D=ku(y,T),N=D&&!!D[A.prop],U=S&&S[0],ie=S&&S[1],fe=S&&S[2];if(!N){if(fe)try{W$(y)}catch(xe){g3((A.hdlr||{})[fa],T,"Blocking",xe)}try{Y2(A,y,T,y[T]),D=ku(y,T)}catch(xe){g3((A.hdlr||{})[fa],T,"State",xe)}}U&&(D[A.rf]=U),ie&&(D[A.ro]=ie),fe&&(D[A.blkVal]=!0)}return y}o(K2,"_setDynamicPropertyState");function J2(A,y,T,S){try{ee(y,function(D,N){Y2(A,y,D,N)}),y[cp]||(Ce(y,cp,{get:o(function(){return A.hdlr},"get")}),up(A,y,T))}catch(D){g3((A.hdlr||{})[fa],T,S,D)}return y}o(J2,"_makeDynamicObject");var A3="[[ai_",y3="]]";function H$(A){var y=zg(A3+"get"+A.uid+y3),T=zg(A3+"ro"+A.uid+y3),S=zg(A3+"rf"+A.uid+y3),D=zg(A3+"blkVal"+A.uid+y3),N=zg(A3+"dtl"+A.uid+y3),U=null,ie=null,fe;function xe(je,Ke){var pt=fe.act;try{fe.act=je,je&&je[N]&&(Yr(je[N],function(Tt){Tt.clr(je)}),je[N]=[]),Ke({cfg:A.cfg,set:A.set.bind(A),setDf:A.setDf.bind(A),ref:A.ref.bind(A),rdOnly:A.rdOnly.bind(A)})}catch(Tt){var ut=A[fa];throw ut&&ut[r1](1,107,yt(Tt)),Tt}finally{fe.act=pt||null}}o(xe,"_useHandler");function ke(){if(U){var je=U;U=null,ie&&ie[E2](),ie=null;var Ke=[];if(Yr(je,function(pt){if(pt&&(pt[N]&&(Yr(pt[N],function(ut){ut.clr(pt)}),pt[N]=null),pt.fn))try{xe(pt,pt.fn)}catch(ut){Ke[ji](ut)}}),U)try{ke()}catch(pt){Ke[ji](pt)}Ke[jn]>0&&_7("Watcher error(s): ",Ke)}}o(ke,"_notifyWatchers");function We(je){if(je&&je.h[jn]>0){U||(U=[]),ie||(ie=Kh(function(){ie=null,ke()},0));for(var Ke=0;Ke<je.h[jn];Ke++){var pt=je.h[Ke];pt&&zc(U,pt)===-1&&U[ji](pt)}}}o(We,"_addWatcher");function Xe(je,Ke){if(je){var pt=je[N]=je[N]||[];zc(pt,Ke)===-1&&pt[ji](Ke)}}return o(Xe,"_trackHandler"),fe={prop:y,ro:T,rf:S,blkVal:D,hdlr:A,add:We,notify:ke,use:xe,trk:Xe},fe}o(H$,"_createState");function Bb(A,y){var T={fn:y,rm:o(function(){T.fn=null,A=null,y=null},"rm")};return qe(T,"toJSON",{v:o(function(){return"WatcherHandler"+(T.fn?"":"[X]")},"v")}),A.use(T,y),T}o(Bb,"_createAndUseHandler");function SB(A,y,T){var S=q$(y);if(S)return S;var D=ym("dyncfg",!0),N=y&&T!==!1?y:wB(y),U;function ie(){U.notify()}o(ie,"_notifyWatchers");function fe(ut,Tt,Yt){try{ut=Y2(U,ut,Tt,Yt)}catch(mr){g3(A,Tt,"Setting value",mr)}return ut[Tt]}o(fe,"_setValue");function xe(ut){return Bb(U,ut)}o(xe,"_watch");function ke(ut,Tt){U.use(null,function(Yt){var mr=U.upd;try{O(Tt)||(U.upd=Tt),ut(Yt)}finally{U.upd=mr}})}o(ke,"_block");function We(ut,Tt){var Yt;return K2(U,ut,Tt,(Yt={},Yt[0]=!0,Yt))[Tt]}o(We,"_ref");function Xe(ut,Tt){var Yt;return K2(U,ut,Tt,(Yt={},Yt[1]=!0,Yt))[Tt]}o(Xe,"_rdOnly");function je(ut,Tt){var Yt;return K2(U,ut,Tt,(Yt={},Yt[2]=!0,Yt))[Tt]}o(je,"_blkPropValue");function Ke(ut,Tt){return Tt&&ee(Tt,function(Yt,mr){j7(pt,ut,Yt,mr)}),ut}o(Ke,"_applyDefaults");var pt={uid:null,cfg:N,logger:A,notify:ie,set:fe,setDf:Ke,watch:xe,ref:We,rdOnly:Xe,blkVal:je,_block:ke};return qe(pt,"uid",{c:!1,e:!1,w:!1,v:D}),U=H$(pt),J2(U,N,"config","Creating"),pt}o(SB,"_createDynamicHandler");function kB(A,y){A?(A[v2](y),A[r1](2,108,y)):z2(y)}o(kB,"_logInvalidAccess");function N0(A,y,T,S){var D=SB(T,A||{},S);return y&&D.setDf(D.cfg,y),D}o(N0,"createDynamicConfig");function Cm(A,y,T){var S=A[cp]||A;return S.cfg&&(S.cfg===A||S.cfg[cp]===S)?S[dm](y):(kB(T,dB+yt(A)),N0(A,null,T)[dm](y))}o(Cm,"onConfigChange");function Z2(A,y){if(A&&A[n1])return A[n1](y)}o(Z2,"runTargetUnload");function RB(A,y,T){var S;return T||(S=B2(function(D){T=D})),A&&x$(A)>0?R0(Z2(A[0],y),function(){RB(a2(A,1),y,T)}):T(),S}o(RB,"doUnloadAll");var j$=500,BB="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";function V$(A,y,T){return!A&&J(A)?y:lt(A)?A:Ct(A)[x2]()==="true"}o(V$,"_stringToBoolOrDefault");function $$(A){return{mrg:!0,v:A}}o($$,"cfgDfMerge");function $7(A,y,T){return{fb:T,isVal:A,v:y}}o($7,"cfgDfValidate");function jf(A,y){return{fb:y,set:V$,v:!!A}}o(jf,"cfgDfBoolean");var Db=[F2,N2,Cb,c1],Pb=null,Fb;function z$(A,y){return function(){var T=arguments,S=DB(y);if(S){var D=S.listener;D&&D[A]&&D[A][ob](D,T)}}}o(z$,"_listenerProxyFunc");function Y$(){var A=Ys("Microsoft");return A&&(Pb=A.ApplicationInsights),Pb}o(Y$,"_getExtensionNamespace");function DB(A){var y=Pb;return!y&&A.disableDbgExt!==!0&&(y=Pb||Y$()),y?y.ChromeDbgExt:null}o(DB,"getDebugExt");function K$(A){if(!Fb){Fb={};for(var y=0;y<Db[jn];y++)Fb[Db[y]]=z$(Db[y],A)}return Fb}o(K$,"getDebugListener");var X2,PB="warnToConsole",J$="AI (Internal): ",Z$="AI: ",X$="AITR_",FB={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},ey=(X2={},X2[0]=null,X2[1]="errorToConsole",X2[2]=PB,X2[3]="debugToConsole",X2);function Zc(A){return A?'"'+A[ip](/\"/g,hi)+'"':hi}o(Zc,"_sanitizeDiagnosticText");function C3(A,y){var T=h3();if(T){var S="log";T[A]&&(S=A),Pe(T[S])&&T[S](y)}}o(C3,"_logToConsole");var Nb=function(){function A(y,T,S,D){S===void 0&&(S=!1);var N=this;N[lb]=y,N[o1]=(S?Z$:J$)+y;var U=hi;G2()&&(U=Jc().stringify(D));var ie=(T?" message:"+Zc(T):hi)+(D?" props:"+Zc(U):hi);N[o1]+=ie}return o(A,"_InternalLogMessage"),A.dataType="MessageData",A}();function x3(A,y){return(A||{})[fa]||new v3(y)}o(x3,"safeGetLogger");var v3=function(){function A(y){this.identifier="DiagnosticLogger",this.queue=[];var T=0,S={},D,N,U,ie,fe;Hl(A,this,function(xe){fe=We(y||{}),xe.consoleLoggingLevel=function(){return D},xe[r1]=function(Ke,pt,ut,Tt,Yt){Yt===void 0&&(Yt=!1);var mr=new Nb(pt,ut,Yt,Tt);if(ie)throw yt(mr);var Rr=ey[Ke]||PB;if(O(mr[o1]))je("throw"+(Ke===1?"Critical":"Warning"),mr);else{if(Yt){var Un=+mr[lb];!S[Un]&&D>=Ke&&(xe[Rr](mr[o1]),S[Un]=!0)}else D>=Ke&&xe[Rr](mr[o1]);ke(Ke,mr)}},xe.debugToConsole=function(Ke){C3("debug",Ke),je("warning",Ke)},xe[v2]=function(Ke){C3("warn",Ke),je("warning",Ke)},xe.errorToConsole=function(Ke){C3("error",Ke),je("error",Ke)},xe.resetInternalMessageCount=function(){T=0,S={}},xe.logInternalMessage=ke,xe[n1]=function(Ke){fe&&fe.rm(),fe=null};function ke(Ke,pt){if(!Xe()){var ut=!0,Tt=X$+pt[lb];if(S[Tt]?ut=!1:S[Tt]=!0,ut&&(Ke<=N&&(xe.queue[ji](pt),T++,je(Ke===1?"error":"warn",pt)),T===U)){var Yt="Internal events throttle limit per PageView reached for this app.",mr=new Nb(23,Yt,!1);xe.queue[ji](mr),Ke===1?xe.errorToConsole(Yt):xe[v2](Yt)}}}o(ke,"_logInternalMessage");function We(Ke){return Cm(N0(Ke,FB,xe).cfg,function(pt){var ut=pt.cfg;D=ut[eB],N=ut.loggingLevelTelemetry,U=ut.maxMessageLimit,ie=ut.enableDebug})}o(We,"_setDefaultsFromConfig");function Xe(){return T>=U}o(Xe,"_areInternalMessagesThrottled");function je(Ke,pt){var ut=DB(y||{});ut&&ut[Uf]&&ut[Uf](Ke,pt)}o(je,"_debugExtMsg")})}return o(A,"DiagnosticLogger"),A.__ieDyn=1,A}();function z7(A){return A||new v3}o(z7,"_getLogger");function Lr(A,y,T,S,D,N){N===void 0&&(N=!1),z7(A)[r1](y,T,S,D,N)}o(Lr,"_throwInternal");function Lb(A,y){z7(A)[v2](y)}o(Lb,"_warnToConsole");var b3,fp,NB="toGMTString",LB="toUTCString",Qb="cookie",xm="expires",QB="isCookieUseDisabled",Mb="disableCookiesUsage",MB="_ckMgr",Ob=null,ty=null,Ub=null,Vf,OB={},UB={},qB=(b3={cookieCfg:$$((fp={},fp[vb]={fb:"cookieDomain",dfVal:Eb},fp.path={fb:"cookiePath",dfVal:Eb},fp.enabled=B0,fp.ignoreCookies=B0,fp.blockedCookies=B0,fp)),cookieDomain:B0,cookiePath:B0},b3[Mb]=B0,b3);function Y7(){!Vf&&(Vf=cr(function(){return i2()}))}o(Y7,"_getDoc");function E3(A){return A?A.isEnabled():!0}o(E3,"_isMgrEnabled");function K7(A,y){return y&&A&&Fe(A.ignoreCookies)?zc(A.ignoreCookies,y)!==-1:!1}o(K7,"_isIgnoredCookie");function ez(A,y){return y&&A&&Fe(A.blockedCookies)&&zc(A.blockedCookies,y)!==-1?!0:K7(A,y)}o(ez,"_isBlockedCookie");function J7(A,y){var T=y[Mf];if(J(T)){var S=void 0;O(A[QB])||(S=!A[QB]),O(A[Mb])||(S=!A[Mb]),T=S}return T}o(J7,"_isCfgEnabled");function tz(A,y){var T,S,D,N,U,ie,fe,xe;A=N0(A||UB,null,y).cfg,N=Cm(A,function(We){We.setDf(We.cfg,qB),T=We.ref(We.cfg,"cookieCfg"),S=T[bb]||"/",D=T[vb],U=J7(A,T)!==!1,ie=T.getCookie||rz,fe=T.setCookie||ry,xe=T.delCookie||ry},y);var ke={isEnabled:o(function(){var We=J7(A,T)!==!1&&U&&WB(y),Xe=UB[MB];return We&&Xe&&ke!==Xe&&(We=E3(Xe)),We},"isEnabled"),setEnabled:o(function(We){U=We!==!1,T[Mf]=We},"setEnabled"),set:o(function(We,Xe,je,Ke,pt){var ut=!1;if(E3(ke)&&!ez(T,We)){var Tt={},Yt=Hi(Xe||hi),mr=cm(Yt,";");if(mr!==-1&&(Yt=Hi(L(Xe,mr)),Tt=Z7(de(Xe,mr+1))),sp(Tt,vb,Ke||D,ne,O),!J(je)){var Rr=Su();if(O(Tt[xm])){var Un=$h(),xi=Un+je*1e3;if(xi>0){var vi=new Date;vi.setTime(xi),sp(Tt,xm,GB(vi,Rr?NB:LB)||GB(vi,Rr?NB:LB)||hi,ne)}}Rr||sp(Tt,"max-age",hi+je,null,O)}var mo=W2();mo&&mo.protocol==="https:"&&(sp(Tt,"secure",null,null,O),ty===null&&(ty=!nz((Gh()||{})[ub])),ty&&sp(Tt,"SameSite","None",null,O)),sp(Tt,bb,pt||S,null,O),fe(We,HB(Yt,Tt)),ut=!0}return ut},"set"),get:o(function(We){var Xe=hi;return E3(ke)&&!K7(T,We)&&(Xe=ie(We)),Xe},"get"),del:o(function(We,Xe){var je=!1;return E3(ke)&&(je=ke.purge(We,Xe)),je},"del"),purge:o(function(We,Xe){var je,Ke=!1;if(WB(y)){var pt=(je={},je[bb]=Xe||"/",je[xm]="Thu, 01 Jan 1970 00:00:01 GMT",je);Su()||(pt["max-age"]="0"),xe(We,HB(hi,pt)),Ke=!0}return Ke},"purge"),unload:o(function(We){N&&N.rm(),N=null},"unload")};return ke[MB]=ke,ke}o(tz,"createCookieMgr");function WB(A){if(Ob===null){Ob=!1,!Vf&&Y7();try{var y=Vf.v||{};Ob=y[Qb]!==void 0}catch(T){Lr(A,2,68,"Cannot access document.cookie - "+tl(T),{exception:yt(T)})}}return Ob}o(WB,"areCookiesSupported");function Z7(A){var y={};if(A&&A[jn]){var T=Hi(A)[np](";");Yr(T,function(S){if(S=Hi(S||hi),S){var D=cm(S,"=");D===-1?y[S]=null:y[Hi(L(S,D))]=Hi(de(S,D+1))}})}return y}o(Z7,"_extractParts");function GB(A,y){return Pe(A[y])?A[y]():null}o(GB,"_formatDate");function HB(A,y){var T=A||hi;return ee(y,function(S,D){T+="; "+S+(J(D)?hi:"="+D)}),T}o(HB,"_formatCookieValue");function rz(A){var y=hi;if(!Vf&&Y7(),Vf.v){var T=Vf.v[Qb]||hi;Ub!==T&&(OB=Z7(T),Ub=T),y=Hi(OB[A]||hi)}return y}o(rz,"_getCookieValue");function ry(A,y){!Vf&&Y7(),Vf.v&&(Vf.v[Qb]=A+"="+y)}o(ry,"_setCookieValue");function nz(A){return ce(A)?!!(hl(A,"CPU iPhone OS 12")||hl(A,"iPad; CPU OS 12")||hl(A,"Macintosh; Intel Mac OS X 10_14")&&hl(A,"Version/")&&hl(A,"Safari")||hl(A,"Macintosh; Intel Mac OS X 10_14")&&zR(A,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||hl(A,"Chrome/5")||hl(A,"Chrome/6")||hl(A,"UnrealEngine")&&!hl(A,"Chrome")||hl(A,"UCBrowser/12")||hl(A,"UCBrowser/11")):!1}o(nz,"uaDisallowsSameSiteNone");var X7={perfEvtsSendAll:!1};function iz(A){A.h=null;var y=A.cb;A.cb=[],Yr(y,function(T){re(T.fn,[T.arg])})}o(iz,"_runScheduledListeners");function dp(A,y,T,S){Yr(A,function(D){D&&D[y]&&(T?(T.cb[ji]({fn:S,arg:D}),T.h=T.h||Kh(iz,0,T)):re(S,[D]))})}o(dp,"_runListeners");var oz=function(){function A(y){this.listeners=[];var T,S,D=[],N={h:null,cb:[]},U=N0(y,X7);S=U[dm](function(ie){T=!!ie.cfg.perfEvtsSendAll}),Hl(A,this,function(ie){qe(ie,"listeners",{g:o(function(){return D},"g")}),ie[sb]=function(fe){D[ji](fe)},ie[o3]=function(fe){for(var xe=zc(D,fe);xe>-1;)D[b2](xe,1),xe=zc(D,fe)},ie[F2]=function(fe){dp(D,F2,N,function(xe){xe[F2](fe)})},ie[N2]=function(fe,xe){dp(D,N2,N,function(ke){ke[N2](fe,xe)})},ie[Cb]=function(fe,xe){dp(D,Cb,xe?N:null,function(ke){ke[Cb](fe,xe)})},ie[c1]=function(fe){fe&&(T||!fe[T7]())&&dp(D,c1,null,function(xe){fe.isAsync?Kh(function(){return xe[c1](fe)},0):xe[c1](fe)})},ie[k7]=function(fe){fe&&fe[jn]&&dp(D,k7,N,function(xe){xe[k7](fe)})},ie[R7]=function(fe){fe&&fe[S2]&&dp(D,R7,N,function(xe){xe[R7](fe)})},ie[xb]=function(fe,xe){if(fe>0){var ke=xe||0;dp(D,xb,N,function(We){We[xb](fe,ke)})}},ie[n1]=function(fe){var xe=o(function(){S&&S.rm(),S=null,D=[],N.h&&N.h[E2](),N.h=null,N.cb=[]},"_finishUnload"),ke;if(dp(D,"unload",null,function(We){var Xe=We[n1](fe);Xe&&(ke||(ke=[]),ke[ji](Xe))}),ke)return B2(function(We){return R0(S7(ke),function(){xe(),We()})});xe()}})}return o(A,"NotificationManager"),A.__ieDyn=1,A}(),ny="ctx",eT="ParentContextKey",I3="ChildrenContextKey",sz=null,qb=function(){function A(y,T,S){var D=this;if(D.start=$h(),D[tp]=y,D.isAsync=S,D[T7]=function(){return!1},Pe(T)){var N;qe(D,"payload",{g:o(function(){return!N&&Pe(T)&&(N=T(),T=null),N},"g")})}D[op]=function(U){return U?U===A[eT]||U===A[I3]?D[U]:(D[ny]||{})[U]:null},D[wu]=function(U,ie){if(U)if(U===A[eT])D[U]||(D[T7]=function(){return!0}),D[U]=ie;else if(U===A[I3])D[U]=ie;else{var fe=D[ny]=D[ny]||{};fe[U]=ie}},D.complete=function(){var U=0,ie=D[op](A[I3]);if(Fe(ie))for(var fe=0;fe<ie[jn];fe++){var xe=ie[fe];xe&&(U+=xe.time)}D.time=$h()-D.start,D.exTime=D.time-U,D.complete=function(){}}}return o(A,"PerfEvent"),A.ParentContextKey="parent",A.ChildrenContextKey="childEvts",A}(),az=function(){function A(y){this.ctx={},Hl(A,this,function(T){T.create=function(S,D,N){return new qb(S,D,N)},T.fire=function(S){S&&(S.complete(),y&&Pe(y[c1])&&y[c1](S))},T[wu]=function(S,D){if(S){var N=T[ny]=T[ny]||{};N[S]=D}},T[op]=function(S){return(T[ny]||{})[S]}})}return o(A,"PerfManager"),A.__ieDyn=1,A}(),$f="CoreUtils.doPerf";function iy(A,y,T,S,D){if(A){var N=A;if(N[l3]&&(N=N[l3]()),N){var U=void 0,ie=N[op]($f);try{if(U=N.create(y(),S,D),U){if(ie&&U[wu]&&(U[wu](qb[eT],ie),ie[op]&&ie[wu])){var fe=ie[op](qb[I3]);fe||(fe=[],ie[wu](qb[I3],fe)),fe[ji](U)}return N[wu]($f,U),T(U)}}catch(xe){U&&U[wu]&&U[wu]("exception",xe)}finally{U&&N.fire(U),N[wu]($f,ie)}}}return T()}o(iy,"doPerf");function ma(){return sz}o(ma,"getGblPerfMgr");var Wb="00000000000000000000000000000000",oy="0000000000000000";function Gb(A,y,T){return A&&A[jn]===y&&A!==T?!!A.match(/^[\da-f]*$/i):!1}o(Gb,"_isValid");function mp(A){return Gb(A,32,Wb)}o(mp,"isValidTraceId");function m1(A){return Gb(A,16,oy)}o(m1,"isValidSpanId");var T3=bB("plugin");function hp(A){return T3.get(A,"state",{},!0)}o(hp,"_getPluginState");function tT(A,y){for(var T=[],S=null,D=A[qf](),N;D;){var U=D[T2]();if(U){S&&S[rp]&&U[D0]&&S[rp](U),N=hp(U);var ie=!!N[Qf];U[Qf]&&(ie=U[Qf]()),ie||T[ji](U),S=U,D=D[qf]()}}Yr(T,function(fe){var xe=A[da]();fe[i3](A.getCfg(),xe,y,A[qf]()),N=hp(fe),!fe[da]&&!N[da]&&(N[da]=xe),N[Qf]=!0,delete N[Of]})}o(tT,"initializePlugins");function rT(A){return A.sort(function(y,T){var S=0;if(T){var D=T[D0];y[D0]?S=D?y[P2]-T[P2]:1:D&&(S=-1)}else S=y?1:-1;return S})}o(rT,"sortPlugins");function lz(A){var y={};return{getName:o(function(){return y[tp]},"getName"),setName:o(function(T){A&&A.setName(T),y[tp]=T},"setName"),getTraceId:o(function(){return y.traceId},"getTraceId"),setTraceId:o(function(T){A&&A.setTraceId(T),mp(T)&&(y.traceId=T)},"setTraceId"),getSpanId:o(function(){return y.spanId},"getSpanId"),setSpanId:o(function(T){A&&A.setSpanId(T),m1(T)&&(y.spanId=T)},"setSpanId"),getTraceFlags:o(function(){return y[rB]},"getTraceFlags"),setTraceFlags:o(function(T){A&&A.setTraceFlags(T),y[rB]=T},"setTraceFlags")}}o(lz,"createDistributedTraceContext");var cz="TelemetryPluginChain",jB="_hasRun",nT="_getTelCtx",VB=0;function uz(A,y,T){for(;A;){if(A[T2]()===T)return A;A=A[qf]()}return B([T],y.config||{},y)}o(uz,"_getNextProxyStart");function iT(A,y,T,S){var D=null,N=[];y||(y=N0({},null,T[fa])),S!==null&&(D=S?uz(A,T,S):A);var U={_next:fe,ctx:{core:o(function(){return T},"core"),diagLog:o(function(){return x3(T,y.cfg)},"diagLog"),getCfg:o(function(){return y.cfg},"getCfg"),getExtCfg:ke,getConfig:We,hasNext:o(function(){return!!D},"hasNext"),getNext:o(function(){return D},"getNext"),setNext:o(function(je){D=je},"setNext"),iterate:Xe,onComplete:ie}};function ie(je,Ke){for(var pt=[],ut=2;ut<arguments.length;ut++)pt[ut-2]=arguments[ut];je&&N[ji]({func:je,self:O(Ke)?U.ctx:Ke,args:pt})}o(ie,"_addOnComplete");function fe(){var je=D;if(D=je?je[qf]():null,!je){var Ke=N;Ke&&Ke[jn]>0&&(Yr(Ke,function(pt){try{pt.func.call(pt.self,pt.args)}catch(ut){Lr(T[fa],2,73,"Unexpected Exception during onComplete - "+yt(ut))}}),N=[])}return je}o(fe,"_moveNext");function xe(je,Ke){var pt=null,ut=y.cfg;if(ut&&je){var Tt=ut[l1];!Tt&&Ke&&(Tt={}),ut[l1]=Tt,Tt=y.ref(ut,l1),Tt&&(pt=Tt[je],!pt&&Ke&&(pt={}),Tt[je]=pt,pt=y.ref(Tt,je))}return pt}o(xe,"_getExtCfg");function ke(je,Ke){var pt=xe(je,!0);return Ke&&ee(Ke,function(ut,Tt){if(J(pt[ut])){var Yt=y.cfg[ut];(Yt||!J(Yt))&&(pt[ut]=Yt)}j7(y,pt,ut,Tt)}),y.setDf(pt,Ke)}o(ke,"_resolveExtCfg");function We(je,Ke,pt){pt===void 0&&(pt=!1);var ut,Tt=xe(je,!1),Yt=y.cfg;return Tt&&(Tt[Ke]||!J(Tt[Ke]))?ut=Tt[Ke]:(Yt[Ke]||!J(Yt[Ke]))&&(ut=Yt[Ke]),ut||!J(ut)?ut:pt}o(We,"_getConfig");function Xe(je){for(var Ke;Ke=U._next();){var pt=Ke[T2]();pt&&je(pt)}}return o(Xe,"_iterateChain"),U}o(iT,"_createInternalContext");function sy(A,y,T,S){var D=N0(y),N=iT(A,D,T,S),U=N.ctx;function ie(xe){var ke=N._next();return ke&&ke[D0](xe,U),!ke}o(ie,"_processNext");function fe(xe,ke){return xe===void 0&&(xe=null),Fe(xe)&&(xe=B(xe,D.cfg,T,ke)),sy(xe||U[qf](),D.cfg,T,ke)}return o(fe,"_createNew"),U[ml]=ie,U[i1]=fe,U}o(sy,"createProcessTelemetryContext");function w(A,y,T){var S=N0(y.config),D=iT(A,S,y,T),N=D.ctx;function U(fe){var xe=D._next();return xe&&xe[n1](N,fe),!xe}o(U,"_processNext");function ie(fe,xe){return fe===void 0&&(fe=null),Fe(fe)&&(fe=B(fe,S.cfg,y,xe)),w(fe||N[qf](),y,xe)}return o(ie,"_createNew"),N[ml]=U,N[i1]=ie,N}o(w,"createProcessTelemetryUnloadContext");function k(A,y,T){var S=N0(y.config),D=iT(A,S,y,T),N=D.ctx;function U(fe){return N.iterate(function(xe){Pe(xe[mm])&&xe[mm](N,fe)})}o(U,"_processNext");function ie(fe,xe){return fe===void 0&&(fe=null),Fe(fe)&&(fe=B(fe,S.cfg,y,xe)),k(fe||N[qf](),y,xe)}return o(ie,"_createNew"),N[ml]=U,N[i1]=ie,N}o(k,"createProcessTelemetryUpdateContext");function B(A,y,T,S){var D=null,N=!S;if(Fe(A)&&A[jn]>0){var U=null;Yr(A,function(ie){if(!N&&S===ie&&(N=!0),N&&ie&&Pe(ie[D0])){var fe=Q(ie,y,T);D||(D=fe),U&&U._setNext(fe),U=fe}})}return S&&!D?B([S],y,T):D}o(B,"createTelemetryProxyChain");function Q(A,y,T){var S=null,D=Pe(A[D0]),N=Pe(A[rp]),U;A?U=A[ep]+"-"+A[P2]+"-"+VB++:U="Unknown-0-"+VB++;var ie={getPlugin:o(function(){return A},"getPlugin"),getNext:o(function(){return S},"getNext"),processTelemetry:ke,unload:We,update:Xe,_id:U,_setNext:o(function(je){S=je},"_setNext")};function fe(){var je;return A&&Pe(A[nT])&&(je=A[nT]()),je||(je=sy(ie,y,T)),je}o(fe,"_getTelCtx");function xe(je,Ke,pt,ut,Tt){var Yt=!1,mr=A?A[ep]:cz,Rr=je[jB];return Rr||(Rr=je[jB]={}),je.setNext(S),A&&iy(je[da](),function(){return mr+":"+pt},function(){Rr[U]=!0;try{var Un=S?S._id:hi;Un&&(Rr[Un]=!1),Yt=Ke(je)}catch(vi){var xi=S?Rr[S._id]:!0;xi&&(Yt=!0),(!S||!xi)&&Lr(je[Uf](),1,73,"Plugin ["+mr+"] failed during "+pt+" - "+yt(vi)+", run flags: "+yt(Rr))}},ut,Tt),Yt}o(xe,"_processChain");function ke(je,Ke){Ke=Ke||fe();function pt(ut){if(!A||!D)return!1;var Tt=hp(A);return Tt[Of]||Tt[yb]?!1:(N&&A[rp](S),A[D0](je,ut),!0)}o(pt,"_callProcessTelemetry"),xe(Ke,pt,"processTelemetry",function(){return{item:je}},!je.sync)||Ke[ml](je)}o(ke,"_processTelemetry");function We(je,Ke){function pt(){var ut=!1;if(A){var Tt=hp(A),Yt=A[da]||Tt[da];A&&(!Yt||Yt===je.core())&&!Tt[Of]&&(Tt[da]=null,Tt[Of]=!0,Tt[Qf]=!1,A[Of]&&A[Of](je,Ke)===!0&&(ut=!0))}return ut}o(pt,"_callTeardown"),xe(je,pt,"unload",function(){},Ke.isAsync)||je[ml](Ke)}o(We,"_unloadPlugin");function Xe(je,Ke){function pt(){var ut=!1;if(A){var Tt=hp(A),Yt=A[da]||Tt[da];A&&(!Yt||Yt===je.core())&&!Tt[Of]&&A[mm]&&A[mm](je,Ke)===!0&&(ut=!0)}return ut}o(pt,"_callUpdate"),xe(je,pt,"update",function(){},!1)||je[ml](Ke)}return o(Xe,"_updatePlugin"),bt(ie)}o(Q,"createTelemetryPluginProxy");function ue(){var A=[];function y(S){S&&A[ji](S)}o(y,"_addHandler");function T(S,D){Yr(A,function(N){try{N(S,D)}catch(U){Lr(S[Uf](),2,73,"Unexpected error calling unload handler - "+yt(U))}}),A=[]}return o(T,"_runHandlers"),{add:y,run:T}}o(ue,"createUnloadHandlerContainer");function we(){var A=[];function y(S){var D=A;A=[],Yr(D,function(N){try{(N.rm||N.remove).call(N)}catch(U){Lr(S,2,73,"Unloading:"+yt(U))}})}o(y,"_doUnload");function T(S){S&&s2(A,S)}return o(T,"_addHook"),{run:y,add:T}}o(we,"createUnloadHookContainer");var Be,Ve="getPlugin",it=(Be={},Be[l1]={isVal:Eb,v:{}},Be),vt=function(){function A(){var y=this,T,S,D,N,U;xe(),Hl(A,y,function(ke){ke[i3]=function(We,Xe,je,Ke){fe(We,Xe,Ke),T=!0},ke[Of]=function(We,Xe){var je=ke[da];if(!je||We&&je!==We[da]())return;var Ke,pt=!1,ut=We||w(null,je,D&&D[Ve]?D[Ve]():D),Tt=Xe||{reason:0,isAsync:!1};function Yt(){pt||(pt=!0,N.run(ut,Xe),U.run(ut[Uf]()),Ke===!0&&ut[ml](Tt),xe())}return o(Yt,"_unloadCallback"),!ke[cb]||ke[cb](ut,Tt,Yt)!==!0?Yt():Ke=!0,Ke},ke[mm]=function(We,Xe){var je=ke[da];if(!je||We&&je!==We[da]())return;var Ke,pt=!1,ut=We||k(null,je,D&&D[Ve]?D[Ve]():D),Tt=Xe||{reason:0};function Yt(){pt||(pt=!0,fe(ut.getCfg(),ut.core(),ut[qf]()))}return o(Yt,"_updateCallback"),!ke._doUpdate||ke._doUpdate(ut,Tt,Yt)!==!0?Yt():Ke=!0,Ke},u3(ke,"_addUnloadCb",function(){return N},"add"),u3(ke,"_addHook",function(){return U},"add"),qe(ke,"_unloadHooks",{g:o(function(){return U},"g")})}),y[Uf]=function(ke){return ie(ke)[Uf]()},y[Qf]=function(){return T},y.setInitialized=function(ke){T=ke},y[rp]=function(ke){D=ke},y[ml]=function(ke,We){We?We[ml](ke):D&&Pe(D[D0])&&D[D0](ke,null)},y._getTelCtx=ie;function ie(ke){ke===void 0&&(ke=null);var We=ke;if(!We){var Xe=S||sy(null,{},y[da]);D&&D[Ve]?We=Xe[i1](null,D[Ve]):We=Xe[i1](null,D)}return We}o(ie,"_getTelCtx");function fe(ke,We,Xe){N0(ke,it,x3(We)),!Xe&&We&&(Xe=We[w2]()[qf]());var je=D;D&&D[Ve]&&(je=D[Ve]()),y[da]=We,S=sy(Xe,ke,We,je)}o(fe,"_setDefaults");function xe(){T=!1,y[da]=null,S=null,D=null,U=we(),N=ue()}o(xe,"_initDefaults")}return o(A,"BaseTelemetryPlugin"),A.__ieDyn=1,A}();function br(A,y,T){var S={id:y,fn:T};s2(A,S);var D={remove:o(function(){Yr(A,function(N,U){if(N.id===S.id)return A[b2](U,1),-1})},"remove")};return D}o(br,"_addInitializer");function vn(A,y,T){for(var S=!1,D=A[jn],N=0;N<D;++N){var U=A[N];if(U)try{if(U.fn[ob](null,[y])===!1){S=!0;break}}catch(ie){Lr(T,2,64,"Telemetry initializer failed: "+tl(ie),{exception:yt(ie)},!0)}}return!S}o(vn,"_runInitializers");var Mn=function(A){n3(y,A);function y(){var T=A.call(this)||this;T.identifier="TelemetryInitializerPlugin",T.priority=199;var S,D;N(),Hl(y,T,function(U,ie){U.addTelemetryInitializer=function(fe){return br(D,S++,fe)},U[D0]=function(fe,xe){vn(D,fe,xe?xe[Uf]():U[Uf]())&&U[ml](fe,xe)},U[cb]=function(){N()}});function N(){S=0,D=[]}return o(N,"_initDefaults"),T}return o(y,"TelemetryInitializerPlugin"),y.__ieDyn=1,y}(vt),wr,Fr="Plugins must provide initialize method",Nn="_notificationManager",bn="SDK is still unloading...",pi="SDK is not initialized",ro=100,Si=5e4,Da=kt((wr={cookieCfg:{}},wr[D2]={rdOnly:!0,ref:!0,v:[]},wr[gm]={rdOnly:!0,ref:!0,v:[]},wr[l1]={ref:!0,v:{}},wr[_u]=B0,wr.loggingLevelConsole=0,wr.diagnosticLogInterval=B0,wr));function ay(A,y){return new az(y)}o(ay,"_createPerfManager");function w3(A,y,T){var S=[],D=[],N={};return Yr(T,function(U){(J(U)||J(U[i3]))&&zt(Fr);var ie=U[P2],fe=U[ep];U&&ie&&(J(N[ie])?N[ie]=fe:Lb(A,"Two extensions have same priority #"+ie+" - "+N[ie]+", "+fe)),!ie||ie<y?S[ji](U):D[ji](U)}),{core:S,channels:D}}o(w3,"_validateExtensions");function oT(A,y){var T=!1;return Yr(y,function(S){if(S===A)return T=!0,-1}),T}o(oT,"_isPluginPresent");function Hb(A,y,T,S){T&&ee(T,function(D,N){S&&Yc(N)&&Yc(y[D])&&Hb(A,y[D],N,S),S&&Yc(N)&&Yc(y[D])?Hb(A,y[D],N,S):A.set(y,D,N)})}o(Hb,"_deepMergeConfig");function $B(A,y){var T=null,S=-1;return Yr(A,function(D,N){if(D.w===y)return T=D,S=N,-1}),{i:S,l:T}}o($B,"_findWatcher");function fz(A,y){var T=$B(A,y).l;return T||(T={w:y,rm:o(function(){var S=$B(A,y);S.i!==-1&&A[b2](S.i,1)},"rm")},A[ji](T)),T}o(fz,"_addDelayedCfgListener");function sT(A,y,T){Yr(y,function(S){var D=Cm(A,S.w,T);delete S.w,S.rm=function(){D.rm()}})}o(sT,"_registerDelayedCfgListener");function zB(A,y,T,S){return y.add(A[dm](function(D){var N=D.cfg.disableDbgExt;N===!0&&S&&(T[o3](S),S=null),T&&!S&&N!==!0&&(S=K$(D.cfg),T[sb](S))})),S}o(zB,"_initDebugListener");function YB(A){return qe({rm:o(function(){A.rm()},"rm")},"toJSON",{v:o(function(){return"aicore::onCfgChange<"+JSON.stringify(A)+">"},"v")})}o(YB,"_createUnloadHook");var Lt=function(){function A(){var y,T,S,D,N,U,ie,fe,xe,ke,We,Xe,je,Ke,pt,ut,Tt,Yt,mr,Rr,Un,xi,vi,mo,fn,Vr,bi,Ts,qo,Zt,$r,no;Hl(A,this,function(Ft){mt(),Ft._getDbgPlgTargets=function(){return[vi,D]},Ft[Qf]=function(){return T},Ft.activeStatus=function(){return Vr},Ft._setPendingStatus=function(){Vr=3},Ft[i3]=function(At,Sr,Sn,qr){je&&zt(bn),Ft[Qf]()&&zt("Core cannot be initialized more than once"),y=N0(At,Da,Sn||Ft[fa],!1),At=y.cfg,$l(y[dm](function(So){var is=So.cfg,vc=Vr===3;if(!vc){Ts=is.initInMemoMaxSize||ro;var L0=is.instrumentationKey,Em=is.endpointUrl;if(J(L0)){Un=null,Vr=Xh.INACTIVE;var Im="Please provide instrumentation key";T?(Lr(S,1,100,Im),Us()):zt(Im);return}var nE=[];if(ct(L0)?(nE[ji](L0),Un=null):Un=L0,ct(Em)?(nE[ji](Em),bi=null):bi=Em,nE[jn]){qo=!1,Vr=3;var wT=Eb(is.initTimeOut)?is.initTimeOut:Si,Gz=Kc(nE);Kh(function(){qo||En()},wT),R0(Gz,function(yy){try{if(qo)return;if(!yy.rejected){var Cy=yy[I2];if(Cy&&Cy[jn]){var CD=Cy[0];if(Un=CD&&CD[I2],Cy[jn]>1){var xD=Cy[1];bi=xD&&xD[I2]}}Un&&(At.instrumentationKey=Un,At.endpointUrl=bi)}En()}catch{qo||En()}})}else En();var iE=So.ref(So.cfg,l1);ee(iE,function(yy){So.ref(iE,yy)})}})),N=qr,mr=zB(y,Yt,N&&Ft[Tu](),mr),gy(),Ft[fa]=Sn;var kn=At[D2];if(ke=[],ke[ji].apply(ke,ZR(ZR([],Sr,!1),kn)),We=At[gm],qs(null),(!Xe||Xe[jn]===0)&&zt("No "+gm+" available"),We&&We[jn]>1){var bo=Ft[T2]("TeeChannelController");(!bo||!bo.plugin)&&Lr(S,1,28,"TeeChannel required")}sT(At,xi,S),xi=null,T=!0,Vr===Xh.ACTIVE&&Us()},Ft.getChannels=function(){var At=[];return Xe&&Yr(Xe,function(Sr){At[ji](Sr)}),bt(At)},Ft.track=function(At){iy(Ft[l3](),function(){return"AppInsightsCore:track"},function(){At===null&&(ws(At),zt("Invalid telemetry item")),!At[tp]&&J(At[tp])&&(ws(At),zt("telemetry name required")),At.iKey=At.iKey||Un,At.time=At.time||c3(new Date),At.ver=At.ver||"4.0",!je&&Ft[Qf]()&&Vr===Xh.ACTIVE?Na()[ml](At):Vr!==Xh.INACTIVE&&D[jn]<=Ts&&D[ji](At)},function(){return{item:At}},!At.sync)},Ft[w2]=Na,Ft[Tu]=function(){return N||(N=new oz(y.cfg),Ft[Nn]=N),N},Ft[sb]=function(At){Ft.getNotifyMgr()[sb](At)},Ft[o3]=function(At){N&&N[o3](At)},Ft.getCookieMgr=function(){return fe||(fe=tz(y.cfg,Ft[fa])),fe},Ft.setCookieMgr=function(At){fe!==At&&(Z2(fe,!1),fe=At)},Ft[l3]=function(){return U||ie||ma()},Ft.setPerfMgr=function(At){U=At},Ft.eventCnt=function(){return D[jn]},Ft.releaseQueue=function(){if(T&&D[jn]>0){var At=D;D=[],Vr===2?Yr(At,function(Sr){Sr.iKey=Sr.iKey||Un,Na()[ml](Sr)}):Lr(S,2,20,"core init status is not active")}},Ft.pollInternalLogs=function(At){return pt=At||null,no=!1,Zt&&Zt[E2](),ho(!0)};function En(){qo=!0,J(Un)?(Vr=Xh.INACTIVE,Lr(S,1,112,"ikey can't be resolved from promises")):Vr=Xh.ACTIVE,Us()}o(En,"_setStatus");function Us(){T&&(Ft.releaseQueue(),Ft.pollInternalLogs())}o(Us,"_releaseQueues");function ho(At){if((!Zt||!Zt[Mf])&&!no){var Sr=At||S&&S.queue[jn]>0;Sr&&($r||($r=!0,$l(y[dm](function(Sn){var qr=Sn.cfg.diagnosticLogInterval;(!qr||!(qr>0))&&(qr=1e4);var kn=!1;Zt&&(kn=Zt[Mf],Zt[E2]()),Zt=Zv(py,qr),Zt.unref(),Zt[Mf]=kn}))),Zt[Mf]=!0)}return Zt}o(ho,"_startLogPoller"),Ft[XR]=function(){no=!0,Zt&&Zt[E2](),py()},D7(Ft,function(){return Ke},["addTelemetryInitializer"]),Ft[n1]=function(At,Sr,Sn){At===void 0&&(At=!0),T||zt(pi),je&&zt(bn);var qr={reason:50,isAsync:At,flushComplete:!1},kn;At&&!Sr&&(kn=B2(function(is){Sr=is}));var bo=w(Yf(),Ft);bo[ab](function(){Yt.run(Ft[fa]),RB([fe,N,S],At,function(){mt(),Sr&&Sr(qr)})},Ft);function So(is){qr.flushComplete=is,je=!0,Tt.run(bo,qr),Ft[XR](),bo[ml](qr)}return o(So,"_doUnload"),py(),vm(At,So,6,Sn),kn},Ft[T2]=yl,Ft.addPlugin=function(At,Sr,Sn,qr){if(!At){qr&&qr(!1),Ay(Fr);return}var kn=yl(At[ep]);if(kn&&!Sr){qr&&qr(!1),Ay("Plugin ["+At[ep]+"] is already loaded!");return}var bo={reason:16};function So(L0){ke[ji](At),bo.added=[At],qs(bo),qr&&qr(!0)}if(o(So,"_addPlugin"),kn){var is=[kn.plugin],vc={reason:2,isAsync:!!Sn};Xc(is,vc,function(L0){L0?(bo.removed=is,bo.reason|=32,So()):qr&&qr(!1)})}else So()},Ft.updateCfg=function(At,Sr){Sr===void 0&&(Sr=!0);var Sn;if(Ft[Qf]()){Sn={reason:1,cfg:y.cfg,oldCfg:$v({},y.cfg),newConfig:$v({},At),merge:Sr},At=Sn.newConfig;var qr=y.cfg;At[D2]=qr[D2],At[gm]=qr[gm]}y._block(function(kn){var bo=kn.cfg;Hb(kn,bo,At,Sr),Sr||ee(bo,function(So){He(At,So)||kn.set(bo,So,B0)}),kn.setDf(bo,Da)},!0),y.notify(),Sn&&bm(Sn)},Ft.evtNamespace=function(){return ut},Ft.flush=vm,Ft.getTraceCtx=function(At){return Rr||(Rr=lz()),Rr},Ft.setTraceCtx=function(At){Rr=At||null},Ft.addUnloadHook=$l,u3(Ft,"addUnloadCb",function(){return Tt},"add"),Ft.onCfgChange=function(At){var Sr;return T?Sr=Cm(y.cfg,At,Ft[fa]):Sr=fz(xi,At),YB(Sr)},Ft.getWParam=function(){return Wh()||y.cfg.enableWParam?0:-1};function Al(){var At={};mo=[];var Sr=o(function(Sn){Sn&&Yr(Sn,function(qr){if(qr[ep]&&qr[_2]&&!At[qr.identifier]){var kn=qr[ep]+"="+qr[_2];mo[ji](kn),At[qr.identifier]=qr}})},"_addPluginVersions");Sr(Xe),We&&Yr(We,function(Sn){Sr(Sn)}),Sr(ke)}o(Al,"_setPluginVersions");function mt(){T=!1,y=N0({},Da,Ft[fa]),y.cfg[eB]=1,qe(Ft,"config",{g:o(function(){return y.cfg},"g"),s:o(function(Sr){Ft.updateCfg(Sr,!1)},"s")}),qe(Ft,"pluginVersionStringArr",{g:o(function(){return mo||Al(),mo},"g")}),qe(Ft,"pluginVersionString",{g:o(function(){return fn||(mo||Al(),fn=mo.join(";")),fn||hi},"g")}),qe(Ft,"logger",{g:o(function(){return S||(S=new v3(y.cfg),y[fa]=S),S},"g"),s:o(function(Sr){y[fa]=Sr,S!==Sr&&(Z2(S,!1),S=Sr)},"s")}),Ft[fa]=new v3(y.cfg),vi=[];var At=Ft.config[D2]||[];At.splice(0,At[jn]),s2(At,vi),Ke=new Mn,D=[],Z2(N,!1),N=null,U=null,ie=null,Z2(fe,!1),fe=null,xe=null,ke=[],We=null,Xe=null,je=!1,pt=null,ut=ym("AIBaseCore",!0),Tt=ue(),Rr=null,Un=null,Yt=we(),xi=[],fn=null,mo=null,no=!1,Zt=null,$r=!1,Vr=0,bi=null,Ts=null,qo=!1}o(mt,"_initDefaults");function Na(){var At=sy(Yf(),y.cfg,Ft);return At[ab](ho),At}o(Na,"_createTelCtx");function qs(At){var Sr=w3(Ft[fa],j$,ke);xe=null,fn=null,mo=null,Xe=(We||[])[0]||[],Xe=rT(s2(Xe,Sr[gm]));var Sn=s2(rT(Sr[da]),Xe);vi=bt(Sn);var qr=Ft.config[D2]||[];qr.splice(0,qr[jn]),s2(qr,vi);var kn=Na();Xe&&Xe[jn]>0&&tT(kn[i1](Xe),Sn),tT(kn,Sn),At&&bm(At)}o(qs,"_initPluginChain");function yl(At){var Sr=null,Sn=null,qr=[];return Yr(vi,function(kn){if(kn[ep]===At&&kn!==Ke)return Sn=kn,-1;kn.getChannel&&qr[ji](kn)}),!Sn&&qr[jn]>0&&Yr(qr,function(kn){if(Sn=kn.getChannel(At),!Sn)return-1}),Sn&&(Sr={plugin:Sn,setEnabled:o(function(kn){hp(Sn)[yb]=!kn},"setEnabled"),isEnabled:o(function(){var kn=hp(Sn);return!kn[Of]&&!kn[yb]},"isEnabled"),remove:o(function(kn,bo){kn===void 0&&(kn=!0);var So=[Sn],is={reason:1,isAsync:kn};Xc(So,is,function(vc){vc&&qs({reason:32,removed:So}),bo&&bo(vc)})},"remove")}),Sr}o(yl,"_getPlugin");function Yf(){if(!xe){var At=(vi||[]).slice();zc(At,Ke)===-1&&At[ji](Ke),xe=B(rT(At),y.cfg,Ft)}return xe}o(Yf,"_getPluginChain");function Xc(At,Sr,Sn){if(At&&At[jn]>0){var qr=B(At,y.cfg,Ft),kn=w(qr,Ft);kn[ab](function(){var bo=!1,So=[];Yr(ke,function(vc,L0){oT(vc,At)?bo=!0:So[ji](vc)}),ke=So,fn=null,mo=null;var is=[];We&&(Yr(We,function(vc,L0){var Em=[];Yr(vc,function(Im){oT(Im,At)?bo=!0:Em[ji](Im)}),is[ji](Em)}),We=is),Sn&&Sn(bo),ho()}),kn[ml](Sr)}else Sn(!1)}o(Xc,"_removePlugins");function py(){if(S&&S.queue){var At=S.queue.slice(0);S.queue[jn]=0,Yr(At,function(Sr){var Sn={name:pt||"InternalMessageId: "+Sr[lb],iKey:Un,time:c3(new Date),baseType:Nb.dataType,baseData:{message:Sr[o1]}};Ft.track(Sn)})}}o(py,"_flushInternalLogs");function vm(At,Sr,Sn,qr){var kn=1,bo=!1,So=null;qr=qr||5e3;function is(){kn--,bo&&kn===0&&(So&&So[E2](),So=null,Sr&&Sr(bo),Sr=null)}if(o(is,"doCallback"),Xe&&Xe[jn]>0){var vc=Na()[i1](Xe);vc.iterate(function(L0){if(L0.flush){kn++;var Em=!1;L0.flush(At,function(){Em=!0,is()},Sn)||Em||(At&&So==null?So=Kh(function(){So=null,is()},qr):is())}})}return bo=!0,is(),!0}o(vm,"_flushChannels");function gy(){var At;$l(y[dm](function(Sr){var Sn=Sr.cfg.enablePerfMgr;if(Sn){var qr=Sr.cfg[_u];(At!==qr||!At)&&(qr||(qr=ay),mB(Sr.cfg,_u,qr),At=qr,ie=null),!U&&!ie&&Pe(qr)&&(ie=qr(Ft,Ft[Tu]()))}else ie=null,At=null}))}o(gy,"_initPerfManager");function bm(At){var Sr=k(Yf(),Ft);Sr[ab](ho),(!Ft._updateHook||Ft._updateHook(Sr,At)!==!0)&&Sr[ml](At)}o(bm,"_doUpdate");function Ay(At){var Sr=Ft[fa];Sr?(Lr(Sr,2,73,At),ho()):zt(At)}o(Ay,"_logOrThrowError");function ws(At){var Sr=Ft[Tu]();Sr&&Sr[N2]([At],2)}o(ws,"_notifyInvalidEvent");function $l(At){Yt.add(At)}o($l,"_addUnloadHook")})}return o(A,"AppInsightsCore"),A.__ieDyn=1,A}();function Ur(A,y){try{if(A&&A!==""){var T=Jc().parse(A);if(T&&T[tB]&&T[tB]>=T.itemsAccepted&&T.itemsReceived-T.itemsAccepted===T.errors[jn])return T}}catch(S){Lr(y,1,43,"Cannot parse the response. "+(S[tp]||yt(S)),{response:A})}return null}o(Ur,"parseResponse");var ln="",Qo="NoResponseBody",Pa="&"+Qo+"=true",Os="POST",Fa=function(){function A(){var y=0,T,S,D,N,U,ie,fe,xe,ke,We,Xe,je,Ke,pt;Hl(A,this,function(ut,Tt){var Yt=!0;qo(),ut[i3]=function(Zt,$r){D=$r,S&&Lr(D,1,28,"Sender is already initialized"),ut.SetConfig(Zt),S=!0},ut._getDbgPlgTargets=function(){return[S,N,ie,T]},ut.SetConfig=function(Zt){try{if(U=Zt.senderOnCompleteCallBack||{},ie=!!Zt.disableCredentials,fe=Zt.fetchCredentials,N=!!Zt.isOneDs,T=!!Zt.enableSendPromise,ke=!!Zt.disableXhr,We=!!Zt.disableBeacon,Xe=!!Zt.disableBeaconSync,pt=Zt.timeWrapper,Ke=!!Zt.addNoResponse,je=!!Zt.disableFetchKeepAlive,xe={sendPOST:Vr},N||(Yt=!1),ie){var $r=W2();$r&&$r.protocol&&$r.protocol[x2]()==="file:"&&(Yt=!1)}return!0}catch{}return!1},ut.getSyncFetchPayload=function(){return y},ut.getSenderInst=function(Zt,$r){return Zt&&Zt[jn]?xi(Zt,$r):null},ut.getFallbackInst=function(){return xe},ut[cb]=function(Zt,$r){qo()};function mr(Zt,$r){vi($r,200,{},Zt)}o(mr,"_onSuccess");function Rr(Zt,$r){Lr(D,2,26,"Failed to send telemetry.",{message:Zt}),vi($r,400,{})}o(Rr,"_onError");function Un(Zt){Rr("No endpoint url is provided for the batch",Zt)}o(Un,"_onNoPayloadUrl");function xi(Zt,$r){for(var no=0,Ft=null,En=0;Ft==null&&En<Zt[jn];)no=Zt[En],!ke&&no===1?O7()?Ft=Ts:U7()&&(Ft=Vr):no===2&&p3($r)&&(!$r||!je)?Ft=bi:no===3&&lp()&&($r?!Xe:!We)&&(Ft=fn),En++;return Ft?{_transport:no,_isSync:$r,sendPOST:Ft}:null}o(xi,"_getSenderInterface");function vi(Zt,$r,no,Ft){try{Zt&&Zt($r,no,Ft)}catch{}}o(vi,"_doOnComplete");function mo(Zt,$r){var no=Gh(),Ft=Zt[hm];if(!Ft)return Un($r),!0;Ft=Zt[hm]+(Ke?Pa:ln);var En=Zt[S2],Us=N?En:new Blob([En],{type:"text/plain;charset=UTF-8"}),ho=no.sendBeacon(Ft,Us);return ho}o(mo,"_doBeaconSend");function fn(Zt,$r,no){var Ft=Zt[S2];try{if(Ft)if(mo(Zt,$r))mr(ln,$r);else{var En=U&&U.beaconOnRetry;En&&Pe(En)?En(Zt,$r,mo):(xe&&xe.sendPOST(Zt,$r,!0),Lr(D,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(Us){N&&Lb(D,"Failed to send telemetry using sendBeacon API. Ex:"+yt(Us)),vi($r,N?0:400,{},ln)}}o(fn,"_beaconSender");function Vr(Zt,$r,no){var Ft,En,Us,ho=Zt[w7]||{};!no&&T&&(Ft=B2(function(qs,yl){En=qs,Us=yl})),N&&no&&Zt.disableXhrSync&&(no=!1);var Al=Zt[hm];if(!Al){Un($r),En&&En(!1);return}var mt=N7(Os,Al,Yt,!0,no,Zt[pm]);N||mt.setRequestHeader("Content-type","application/json"),Yr(rt(ho),function(qs){mt.setRequestHeader(qs,ho[qs])}),mt.onreadystatechange=function(){N||(Na(mt),mt.readyState===4&&En&&En(!0))},mt.onload=function(){N&&Na(mt)};function Na(qs){var yl=U&&U.xhrOnComplete,Yf=yl&&Pe(yl);if(Yf)yl(qs,$r,Zt);else{var Xc=Ib(qs);vi($r,qs[s3],f1(qs,N),Xc)}}return o(Na,"_doOnReadyFunc"),mt.onerror=function(qs){vi($r,N?mt[s3]:400,f1(mt,N),N?ln:Tb(mt)),Us&&Us(qs)},mt.ontimeout=function(){vi($r,N?mt[s3]:500,f1(mt,N),N?ln:Tb(mt)),En&&En(!1)},mt.send(Zt[S2]),Ft}o(Vr,"_xhrSender");function bi(Zt,$r,no){var Ft,En=Zt[hm],Us=Zt[S2],ho=N?Us:new Blob([Us],{type:"application/json"}),Al,mt,Na,qs=new Headers,yl=Us[jn],Yf=!1,Xc=!1,py=Zt[w7]||{},vm=(Ft={method:Os,body:ho},Ft[BB]=!0,Ft);Zt.headers&&rt(Zt.headers)[jn]>0&&(Yr(rt(py),function(ws){qs.append(ws,py[ws])}),vm[w7]=qs),fe?vm.credentials=fe:Yt&&N&&(vm.credentials="include"),no&&(vm.keepalive=!0,y+=yl,N?Zt._sendReason===2&&(Yf=!0,Ke&&(En+=Pa)):Yf=!0);var gy=new Request(En,vm);try{gy[BB]=!0}catch{}if(!no&&T&&(Al=B2(function(ws,$l){mt=ws,Na=$l})),!En){Un($r),mt&&mt(!1);return}function bm(ws){vi($r,N?0:400,{},N?ln:ws)}o(bm,"_handleError");function Ay(ws,$l,At){var Sr=ws[s3],Sn=U.fetchOnComplete;Sn&&Pe(Sn)?Sn(ws,$r,At||ln,$l):vi($r,Sr,{},At||ln)}o(Ay,"_onFetchComplete");try{R0(fetch(N?En:gy,N?vm:null),function(ws){if(no&&(y-=yl,yl=0),!Xc)if(Xc=!0,ws.rejected)bm(ws.reason&&ws.reason[o1]),Na&&Na(ws.reason);else{var $l=ws[I2];try{!N&&!$l.ok?(bm($l.statusText),mt&&mt(!1)):N&&!$l.body?(Ay($l,null,ln),mt&&mt(!0)):R0($l.text(),function(At){Ay($l,Zt,At[I2]),mt&&mt(!0)})}catch(At){bm(yt(At)),Na&&Na(At)}}})}catch(ws){Xc||(bm(yt(ws)),Na&&Na(ws))}return Yf&&!Xc&&(Xc=!0,vi($r,200,{}),mt&&mt(!0)),N&&!Xc&&Zt[pm]>0&&pt&&pt.set(function(){Xc||(Xc=!0,vi($r,500,{}),mt&&mt(!0))},Zt[pm]),Al}o(bi,"_doFetchSender");function Ts(Zt,$r,no){var Ft=lm(),En=new XDomainRequest,Us=Zt[S2];En.onload=function(){var qs=Ib(En),yl=U&&U.xdrOnComplete;yl&&Pe(yl)?yl(En,$r,Zt):vi($r,200,{},qs)},En.onerror=function(){vi($r,400,{},N?ln:pB(En))},En.ontimeout=function(){vi($r,500,{})},En.onprogress=function(){};var ho=Ft&&Ft.location&&Ft.location.protocol||"",Al=Zt[hm];if(!Al){Un($r);return}if(!N&&Al.lastIndexOf(ho,0)!==0){var mt="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";Lr(D,2,40,". "+mt),Rr(mt,$r);return}var Na=N?Al:Al[ip](/^(https?:)/,"");En.open(Os,Na),Zt[pm]&&(En[pm]=Zt[pm]),En.send(Us),N&&no?pt&&pt.set(function(){En.send(Us)},0):En.send(Us)}o(Ts,"_xdrSender");function qo(){y=0,S=!1,T=!1,D=null,N=null,U=null,ie=null,fe=null,xe=null,ke=!1,We=!1,Xe=!1,je=!1,Ke=!1,pt=null}o(qo,"_initDefaults")})}return o(A,"SenderPostManager"),A.__ieDyn=1,A}(),h1="on",pp="attachEvent",ly="addEventListener",KB="detachEvent",JB="removeEventListener",jb="events";ym("aiEvtPageHide"),ym("aiEvtPageShow");var dz=/\.[\.]+/g,nde=/[\.]+$/,Sje=1,ZB=bB("events"),kje=/^([^.]*)(?:\.(.+)|)/;function ide(A){return A&&A[ip]?A[ip](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,hi):A}o(ide,"_normalizeNamespace");function mz(A,y){if(y){var T=hi;Fe(y)?(T=hi,Yr(y,function(D){D=ide(D),D&&(D[0]!=="."&&(D="."+D),T+=D)})):T=ide(y),T&&(T[0]!=="."&&(T="."+T),A=(A||hi)+T)}var S=kje.exec(A||hi)||[];return{type:S[1],ns:(S[2]||hi).replace(dz,".").replace(nde,hi)[np](".").sort().join(".")}}o(mz,"_getEvtNamespace");function ode(A,y,T){T===void 0&&(T=!0);var S=ZB.get(A,jb,{},T),D=S[y];return D||(D=S[y]=[]),D}o(ode,"_getRegisteredEvents");function sde(A,y,T,S){A&&y&&y[jl]&&(A[JB]?A[JB](y[jl],T,S):A[KB]&&A[KB](h1+y[jl],T))}o(sde,"_doDetach");function Rje(A,y,T,S){var D=!1;return A&&y&&y[jl]&&T&&(A[ly]?(A[ly](y[jl],T,S),D=!0):A[pp]&&(A[pp](h1+y[jl],T),D=!0)),D}o(Rje,"_doAttach");function ade(A,y,T,S){for(var D=y[jn];D--;){var N=y[D];N&&(!T.ns||T.ns===N[E7].ns)&&(!S||S(N))&&(sde(A,N[E7],N.handler,N.capture),y[b2](D,1))}}o(ade,"_doUnregister");function Bje(A,y,T){if(y[jl])ade(A,ode(A,y[jl]),y,T);else{var S=ZB.get(A,jb,{});ee(S,function(D,N){ade(A,N,y,T)}),rt(S)[jn]===0&&ZB.kill(A,jb)}}o(Bje,"_unregisterEvents");function lde(A,y){var T;return y?(Fe(y)?T=[A].concat(y):T=[A,y],T=mz("xx",T).ns[np](".")):T=A,T}o(lde,"mergeEvtNamespace");function cde(A,y,T,S,D){D===void 0&&(D=!1);var N=!1;if(A)try{var U=mz(y,S);if(N=Rje(A,U,T,D),N&&ZB.accept(A)){var ie={guid:Sje++,evtName:U,handler:T,capture:D};ode(A,U.type)[ji](ie)}}catch{}return N}o(cde,"eventOn");function Dje(A,y,T,S,D){if(D===void 0&&(D=!1),A)try{var N=mz(y,S),U=!1;Bje(A,N,function(ie){return N.ns&&!T||ie.handler===T?(U=!0,!0):!1}),U||sde(A,N,T,D)}catch{}}o(Dje,"eventOff");var ude="sampleRate",hz="ProcessLegacy",fde="http.method",pz="https://dc.services.visualstudio.com",Vb="/v2/track",cy="not_specified",dde=S$({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),XB="split",fi="length",gz="toLowerCase",_3="ingestionendpoint",aT="toString",mde="removeItem",eD="message",Pje="count",Az="stringify",yz="pathname",lT="match",uy="name",gp="properties",p1="measurements",tD="sizeInBytes",rD="typeName",cT="exceptions",uT="severityLevel",Cz="problemGroup",$b="parsedStack",nD="hasFullStack",iD="assembly",g1="fileName",zb="line",oD="aiDataContract",sD="duration";function hde(A,y,T){var S=y[fi],D=Fje(A,y);if(D[fi]!==S){for(var N=0,U=D;T[U]!==void 0;)N++,U=de(D,0,147)+Qje(N);D=U}return D}o(hde,"dataSanitizeKeyAndAddUniqueness");function Fje(A,y){var T;return y&&(y=Hi(Ct(y)),y[fi]>150&&(T=de(y,0,150),Lr(A,2,57,"name is too long.  It has been truncated to 150 characters.",{name:y},!0))),T||y}o(Fje,"dataSanitizeKey");function Cc(A,y,T){T===void 0&&(T=1024);var S;return y&&(T=T||1024,y=Hi(Ct(y)),y[fi]>T&&(S=de(y,0,T),Lr(A,2,61,"string value is too long. It has been truncated to "+T+" characters.",{value:y},!0))),S||y}o(Cc,"dataSanitizeString");function xz(A,y){return gde(A,y,2048,66)}o(xz,"dataSanitizeUrl");function pde(A,y){var T;return y&&y[fi]>32768&&(T=de(y,0,32768),Lr(A,2,56,"message is too long, it has been truncated to 32768 characters.",{message:y},!0)),T||y}o(pde,"dataSanitizeMessage");function Nje(A,y){var T;if(y){var S=""+y;S[fi]>32768&&(T=de(S,0,32768),Lr(A,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:y},!0))}return T||y}o(Nje,"dataSanitizeException");function S3(A,y){if(y){var T={};ee(y,function(S,D){if(Ie(D)&&G2())try{D=Jc()[Az](D)}catch(N){Lr(A,2,49,"custom property is not valid",{exception:N},!0)}D=Cc(A,D,8192),S=hde(A,S,T),T[S]=D}),y=T}return y}o(S3,"dataSanitizeProperties");function k3(A,y){if(y){var T={};ee(y,function(S,D){S=hde(A,S,T),T[S]=D}),y=T}return y}o(k3,"dataSanitizeMeasurements");function Lje(A,y){return y&&gde(A,y,128,69)[aT]()}o(Lje,"dataSanitizeId");function gde(A,y,T,S){var D;return y&&(y=Hi(Ct(y)),y[fi]>T&&(D=de(y,0,T),Lr(A,2,S,"input is too long, it has been truncated to "+T+" characters.",{data:y},!0))),D||y}o(gde,"dataSanitizeInput");function Qje(A){var y="00"+A;return ye(y,y[fi]-3)}o(Qje,"dsPadNumber");var Ade=i2()||{},yde=0,Mje=[null,null,null,null,null];function Oje(A){var y=yde,T=Mje,S=T[y];return Ade.createElement?T[y]||(S=T[y]=Ade.createElement("a")):S={host:Uje(A,!0)},S.href=A,y++,y>=T[fi]&&(y=0),yde=y,S}o(Oje,"urlParseUrl");function Uje(A,y){var T=qje(A,y)||"";if(T){var S=T[lT](/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(S!=null&&S[fi]>3&&ce(S[2])&&S[2][fi]>0)return S[2]+(S[3]||"")}return T}o(Uje,"urlParseHost");function qje(A,y){var T=null;if(A){var S=A[lT](/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(S!=null&&S[fi]>2&&ce(S[2])&&S[2][fi]>0&&(T=S[2]||"",y&&S[fi]>2)){var D=(S[1]||"")[gz](),N=S[3]||"";(D==="http"&&N===":80"||D==="https"&&N===":443")&&(N=""),T+=N}}return T}o(qje,"urlParseFullHost");var Wje=[pz+Vb,"https://breeze.aimon.applicationinsights.io"+Vb,"https://dc-int.services.visualstudio.com"+Vb];function Cde(A){return zc(Wje,A[gz]())!==-1}o(Cde,"isInternalApplicationInsightsEndpoint");function Gje(A,y,T,S){var D,N=S,U=S;if(y&&y[fi]>0){var ie=Oje(y);if(D=ie.host,!N)if(ie[yz]!=null){var fe=ie.pathname[fi]===0?"/":ie[yz];fe.charAt(0)!=="/"&&(fe="/"+fe),U=ie[yz],N=Cc(A,T?T+" "+fe:fe)}else N=Cc(A,y)}else D=S,N=S;return{target:D,name:N,data:U}}o(Gje,"AjaxHelperParseDependencyPath");var vz=ib({LocalStorage:0,SessionStorage:1}),Yb=void 0,xde="";function vde(A){try{if(J(Nf()))return null;var y=new Date()[aT](),T=Ys(A===vz.LocalStorage?"localStorage":"sessionStorage"),S=xde+y;T.setItem(S,y);var D=T.getItem(S)!==y;if(T[mde](S),!D)return T}catch{}return null}o(vde,"_getVerifiedStorageObject");function bz(){return bde()?vde(vz.SessionStorage):null}o(bz,"_getSessionStorageObject");function Hje(A){xde=A||""}o(Hje,"utlSetStoragePrefix");function bde(A){return(A||Yb===void 0)&&(Yb=!!vde(vz.SessionStorage)),Yb}o(bde,"utlCanUseSessionStorage");function jje(A,y){var T=bz();if(T!==null)try{return T.getItem(y)}catch(S){Yb=!1,Lr(A,2,2,"Browser failed read of session storage. "+tl(S),{exception:yt(S)})}return null}o(jje,"utlGetSessionStorage");function Vje(A,y,T){var S=bz();if(S!==null)try{return S.setItem(y,T),!0}catch(D){Yb=!1,Lr(A,2,4,"Browser failed write to session storage. "+tl(D),{exception:yt(D)})}return!1}o(Vje,"utlSetSessionStorage");function $je(A,y){var T=bz();if(T!==null)try{return T[mde](y),!0}catch(S){Yb=!1,Lr(A,2,6,"Browser failed removal of session storage item. "+tl(S),{exception:yt(S)})}return!1}o($je,"utlRemoveSessionStorage");var zje=";",Yje="=";function Ez(A){if(!A)return{};var y=A[XB](zje),T=g$(y,function(D,N){var U=N[XB](Yje);if(U[fi]===2){var ie=U[0][gz](),fe=U[1];D[ie]=fe}return D},{});if(rt(T)[fi]>0){if(T.endpointsuffix){var S=T.location?T.location+".":"";T[_3]=T[_3]||"https://"+S+"dc."+T.endpointsuffix}T[_3]=T[_3]||pz,zR(T[_3],"/")&&(T[_3]=T[_3].slice(0,-1))}return T}o(Ez,"parseConnectionString");var Kje=function(){function A(y,T,S){var D=this,N=this;N.ver=1,N.sampleRate=100,N.tags={},N[uy]=Cc(y,S)||cy,N.data=T,N.time=c3(new Date),N[oD]={time:1,iKey:1,name:1,sampleRate:o(function(){return D.sampleRate===100?4:1},"sampleRate"),tags:1,data:1}}return o(A,"Envelope"),A}(),Kb=function(){function A(y,T,S,D){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var N=this;N.ver=2,N[uy]=Cc(y,T)||cy,N[gp]=S3(y,S),N[p1]=k3(y,D)}return o(A,"Event"),A.envelopeType="Microsoft.ApplicationInsights.{0}.Event",A.dataType="EventData",A}(),Jje=58,Zje=/^\s{0,50}(from\s|at\s|Line\s{1,5}\d{1,10}\s{1,5}of|\w{1,50}@\w{1,80}|[^\(\s\n]+:[0-9\?]+(?::[0-9\?]+)?)/,Xje=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+):([0-9\?]+)\)?$/,eVe=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+)\)?$/,tVe=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\)\]]+)\)?$/,rVe=/(?:^|\(|\s{0,10}[\w\)]+\@)?([^\(\n\s\]\)]+)(?:\:([0-9]+)(?:\:([0-9]+))?)?\)?(?:,|$)/,nVe=/([^\(\s\n]+):([0-9]+):([0-9]+)$/,iVe=/([^\(\s\n]+):([0-9]+)$/,Ede="<no_method>",Jb="error",zf="stack",Iz="stackDetails",Ide="errorSrc",Tz="message",Tde="description",wde=[{re:Xje,len:5,m:1,fn:2,ln:3,col:4},{chk:sVe,pre:oVe,re:eVe,len:4,m:1,fn:2,ln:3},{re:tVe,len:3,m:1,fn:2,hdl:Dde},{re:rVe,len:2,fn:1,hdl:Dde}];function oVe(A){return A.replace(/(\(anonymous\))/,"<anonymous>")}o(oVe,"_scrubAnonymous");function sVe(A){return cm(A,"[native")<0}o(sVe,"_ignoreNative");function wz(A,y){var T=A;return T&&!ce(T)&&(JSON&&JSON[Az]?(T=JSON[Az](A),y&&(!T||T==="{}")&&(Pe(A[aT])?T=A[aT]():T=""+A)):T=""+A+" - (Missing JSON.stringify)"),T||""}o(wz,"_stringify");function _de(A,y){var T=A;return A&&(T&&!ce(T)&&(T=A[Tz]||A[Tde]||T),T&&!ce(T)&&(T=wz(T,!0)),A.filename&&(T=T+" @"+(A.filename||"")+":"+(A.lineno||"?")+":"+(A.colno||"?"))),y&&y!=="String"&&y!=="Object"&&y!=="Error"&&cm(T||"",y)===-1&&(T=y+": "+T),T||""}o(_de,"_formatMessage");function aVe(A){try{if(Ie(A))return"hasFullStack"in A&&"typeName"in A}catch{}return!1}o(aVe,"_isExceptionDetailsInternal");function lVe(A){try{if(Ie(A))return"ver"in A&&"exceptions"in A&&"properties"in A}catch{}return!1}o(lVe,"_isExceptionInternal");function Sde(A){return A&&A.src&&ce(A.src)&&A.obj&&Fe(A.obj)}o(Sde,"_isStackDetails");function R3(A){var y=A||"";ce(y)||(ce(y[zf])?y=y[zf]:y=""+y);var T=y[XB](`
`);return{src:y,obj:T}}o(R3,"_convertStackObj");function cVe(A){for(var y=[],T=A[XB](`
`),S=0;S<T[fi];S++){var D=T[S];T[S+1]&&(D+="@"+T[S+1],S++),y.push(D)}return{src:A,obj:y}}o(cVe,"_getOperaStack");function kde(A){var y=null;if(A)try{if(A[zf])y=R3(A[zf]);else if(A[Jb]&&A[Jb][zf])y=R3(A[Jb][zf]);else if(A.exception&&A.exception[zf])y=R3(A.exception[zf]);else if(Sde(A))y=A;else if(Sde(A[Iz]))y=A[Iz];else if(lm()&&lm().opera&&A[Tz])y=cVe(A[eD]);else if(A.reason&&A.reason[zf])y=R3(A.reason[zf]);else if(ce(A))y=R3(A);else{var T=A[Tz]||A[Tde]||"";ce(A[Ide])&&(T&&(T+=`
`),T+=" from "+A[Ide]),T&&(y=R3(T))}}catch(S){y=R3(S)}return y||{src:"",obj:null}}o(kde,"_getStackFromErrorObj");function uVe(A){var y="";return A&&(A.obj?y=A.obj.join(`
`):y=A.src||""),y}o(uVe,"_formatStackTrace");function fVe(A){var y,T=A.obj;if(T&&T[fi]>0){y=[];var S=0,D=!1,N=0;Yr(T,function(pt){if(D||pVe(pt)){var ut=Ct(pt);D=!0;var Tt=gVe(ut,S);Tt&&(N+=Tt[tD],y.push(Tt),S++)}});var U=32*1024;if(N>U)for(var ie=0,fe=y[fi]-1,xe=0,ke=ie,We=fe;ie<fe;){var Xe=y[ie][tD],je=y[fe][tD];if(xe+=Xe+je,xe>U){var Ke=We-ke+1;y.splice(ke,Ke);break}ke=ie,We=fe,ie++,fe--}}return y}o(fVe,"_parseStack");function aD(A){var y="";if(A&&(y=A.typeName||A[uy]||"",!y))try{var T=/function (.{1,200})\(/,S=T.exec(A.constructor[aT]());y=S&&S[fi]>1?S[1]:""}catch{}return y}o(aD,"_getErrorType");function _z(A){if(A)try{if(!ce(A)){var y=aD(A),T=wz(A,!1);return(!T||T==="{}")&&(A[Jb]&&(A=A[Jb],y=aD(A)),T=wz(A,!0)),cm(T,y)!==0&&y!=="String"?y+":"+T:T}}catch{}return""+(A||"")}o(_z,"_formatErrorCode");var lD=function(){function A(y,T,S,D,N,U){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var ie=this;ie.ver=2,lVe(T)?(ie[cT]=T[cT]||[],ie[gp]=T[gp],ie[p1]=T[p1],T[uT]&&(ie[uT]=T[uT]),T.id&&(ie.id=T.id,T[gp].id=T.id),T[Cz]&&(ie[Cz]=T[Cz]),J(T.isManual)||(ie.isManual=T.isManual)):(S||(S={}),U&&(S.id=U),ie[cT]=[Rde(y,T,S)],ie[gp]=S3(y,S),ie[p1]=k3(y,D),N&&(ie[uT]=N),U&&(ie.id=U))}return o(A,"Exception"),A.CreateAutoException=function(y,T,S,D,N,U,ie,fe){var xe=aD(N||U||y);return{message:_de(y,xe),url:T,lineNumber:S,columnNumber:D,error:_z(N||U||y),evt:_z(U||y),typeName:xe,stackDetails:kde(ie||N||U),errorSrc:fe}},A.CreateFromInterface=function(y,T,S,D){var N=T[cT]&&Yg(T[cT],function(ie){return hVe(y,ie)}),U=new A(y,fm(fm({},T),{exceptions:N}),S,D);return U},A.prototype.toInterface=function(){var y=this,T=y.exceptions,S=y.properties,D=y.measurements,N=y.severityLevel,U=y.problemGroup,ie=y.id,fe=y.isManual,xe=T instanceof Array&&Yg(T,function(ke){return ke.toInterface()})||void 0;return{ver:"4.0",exceptions:xe,severityLevel:N,properties:S,measurements:D,problemGroup:U,id:ie,isManual:fe}},A.CreateSimpleException=function(y,T,S,D,N,U){var ie;return{exceptions:[(ie={},ie[nD]=!0,ie.message=y,ie.stack=N,ie.typeName=T,ie)]}},A.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",A.dataType="ExceptionData",A.formatError=_z,A}(),dVe=bt({id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2});function mVe(){var A=this,y=Fe(A[$b])&&Yg(A[$b],function(S){return yVe(S)}),T={id:A.id,outerId:A.outerId,typeName:A[rD],message:A[eD],hasFullStack:A[nD],stack:A[zf],parsedStack:y||void 0};return T}o(mVe,"_toInterface");function Rde(A,y,T){var S,D,N,U,ie,fe,xe,ke;if(aVe(y))U=y[rD],ie=y[eD],xe=y[zf],ke=y[$b]||[],fe=y[nD];else{var We=y,Xe=We&&We.evt;st(We)||(We=We[Jb]||Xe||We),U=Cc(A,aD(We))||cy,ie=pde(A,_de(y||We,U))||cy;var je=y[Iz]||kde(y);ke=fVe(je),Fe(ke)&&Yg(ke,function(Ke){Ke[iD]=Cc(A,Ke[iD]),Ke[g1]=Cc(A,Ke[g1])}),xe=Nje(A,uVe(je)),fe=Fe(ke)&&ke[fi]>0,T&&(T[rD]=T[rD]||U)}return S={},S[oD]=dVe,S.id=D,S.outerId=N,S.typeName=U,S.message=ie,S[nD]=fe,S.stack=xe,S.parsedStack=ke,S.toInterface=mVe,S}o(Rde,"_createExceptionDetails");function hVe(A,y){var T=Fe(y[$b])&&Yg(y[$b],function(D){return AVe(D)})||y[$b],S=Rde(A,fm(fm({},y),{parsedStack:T}));return S}o(hVe,"_createExDetailsFromInterface");function Bde(A,y){var T=y[lT](nVe);if(T&&T[fi]>=4)A[g1]=T[1],A[zb]=parseInt(T[2]);else{var S=y[lT](iVe);S&&S[fi]>=3?(A[g1]=S[1],A[zb]=parseInt(S[2])):A[g1]=y}}o(Bde,"_parseFilename");function Dde(A,y,T){var S=A[g1];y.fn&&T&&T[fi]>y.fn&&(y.ln&&T[fi]>y.ln?(S=Hi(T[y.fn]||""),A[zb]=parseInt(Hi(T[y.ln]||""))||0):S=Hi(T[y.fn]||"")),S&&Bde(A,S)}o(Dde,"_handleFilename");function pVe(A){var y=!1;if(A&&ce(A)){var T=Hi(A);T&&(y=Zje.test(T))}return y}o(pVe,"_isStackFrame");var Pde=bt({level:1,method:1,assembly:0,fileName:0,line:0});function gVe(A,y){var T,S;if(A&&ce(A)&&Hi(A)){S=(T={},T[oD]=Pde,T.level=y,T.assembly=Hi(A),T.method=Ede,T.fileName="",T.line=0,T.sizeInBytes=0,T);for(var D=0;D<wde[fi];){var N=wde[D];if(N.chk&&!N.chk(A))break;N.pre&&(A=N.pre(A));var U=A[lT](N.re);if(U&&U[fi]>=N.len){N.m&&(S.method=Hi(U[N.m]||Ede)),N.hdl?N.hdl(S,N,U):N.fn&&(N.ln?(S[g1]=Hi(U[N.fn]||""),S[zb]=parseInt(Hi(U[N.ln]||""))||0):Bde(S,U[N.fn]||""));break}D++}}return Fde(S)}o(gVe,"_extractStackFrame");function AVe(A){var y,T=(y={},y[oD]=Pde,y.level=A.level,y.method=A.method,y.assembly=A[iD],y.fileName=A[g1],y.line=A[zb],y.sizeInBytes=0,y);return Fde(T)}o(AVe,"_stackFrameFromInterface");function Fde(A){var y=Jje;return A&&(y+=A.method[fi],y+=A.assembly[fi],y+=A.fileName[fi],y+=A.level.toString()[fi],y+=A.line.toString()[fi],A[tD]=y),A}o(Fde,"_populateFrameSizeInBytes");function yVe(A){return{level:A.level,method:A.method,assembly:A[iD],fileName:A[g1],line:A[zb]}}o(yVe,"_parsedFrameToInterface");var CVe=function(){function A(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return o(A,"DataPoint"),A}(),fT=function(){function A(y,T,S,D,N,U,ie,fe,xe){this.aiDataContract={ver:1,metrics:1,properties:0};var ke=this;ke.ver=2;var We=new CVe;We[Pje]=D>0?D:void 0,We.max=isNaN(U)||U===null?void 0:U,We.min=isNaN(N)||N===null?void 0:N,We[uy]=Cc(y,T)||cy,We.value=S,We.stdDev=isNaN(ie)||ie===null?void 0:ie,ke.metrics=[We],ke[gp]=S3(y,fe),ke[p1]=k3(y,xe)}return o(A,"Metric"),A.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",A.dataType="MetricData",A}(),dT="";function Nde(A){(isNaN(A)||A<0)&&(A=0),A=v$(A);var y=dT+A%1e3,T=dT+Kg(A/1e3)%60,S=dT+Kg(A/(1e3*60))%60,D=dT+Kg(A/(1e3*60*60))%24,N=Kg(A/(1e3*60*60*24));return y=y[fi]===1?"00"+y:y[fi]===2?"0"+y:y,T=T[fi]<2?"0"+T:T,S=S[fi]<2?"0"+S:S,D=D[fi]<2?"0"+D:D,(N>0?N+".":dT)+D+":"+S+":"+T+"."+y}o(Nde,"msToTimeSpan");var cD=function(){function A(y,T,S,D,N,U,ie){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var fe=this;fe.ver=2,fe.id=Lje(y,ie),fe.url=xz(y,S),fe[uy]=Cc(y,T)||cy,isNaN(D)||(fe[sD]=Nde(D)),fe[gp]=S3(y,N),fe[p1]=k3(y,U)}return o(A,"PageView"),A.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",A.dataType="PageviewData",A}(),uD=function(){function A(y,T,S,D,N,U,ie,fe,xe,ke,We,Xe){xe===void 0&&(xe="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var je=this;je.ver=2,je.id=T,je[sD]=Nde(N),je.success=U,je.resultCode=ie+"",je.type=Cc(y,xe);var Ke=Gje(y,S,fe,D);je.data=xz(y,D)||Ke.data,je.target=Cc(y,Ke.target),ke&&(je.target="".concat(je.target," | ").concat(ke)),je[uy]=Cc(y,Ke[uy]),je[gp]=S3(y,We),je[p1]=k3(y,Xe)}return o(A,"RemoteDependencyData"),A.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",A.dataType="RemoteDependencyData",A}(),fD=function(){function A(y,T,S,D,N){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var U=this;U.ver=2,T=T||cy,U[eD]=pde(y,T),U[gp]=S3(y,D),U[p1]=k3(y,N),S&&(U[uT]=S)}return o(A,"Trace"),A.envelopeType="Microsoft.ApplicationInsights.{0}.Message",A.dataType="MessageData",A}(),dD=function(){function A(y,T,S,D,N,U,ie){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var fe=this;fe.ver=2,fe.url=xz(y,S),fe[uy]=Cc(y,T)||cy,fe[gp]=S3(y,N),fe[p1]=k3(y,U),ie&&(fe.domProcessing=ie.domProcessing,fe[sD]=ie[sD],fe.networkConnect=ie.networkConnect,fe.perfTotal=ie.perfTotal,fe.receivedResponse=ie.receivedResponse,fe.sentRequest=ie.sentRequest)}return o(A,"PageViewPerformance"),A.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",A.dataType="PageviewPerformanceData",A}(),B3=function(){function A(y,T){this.aiDataContract={baseType:1,baseData:1},this.baseType=y,this.baseData=T}return o(A,"Data"),A}(),xVe=ib({Verbose:0,Information:1,Warning:2,Error:3,Critical:4});function fy(A){var y="ai."+A+".";return function(T){return y+T}}o(fy,"_aiNameFunc");var mT=fy("application"),nl=fy("device"),mD=fy("location"),Zb=fy("operation"),Sz=fy("session"),dy=fy("user"),D3=fy("cloud"),hT=fy("internal"),Lde=function(A){n3(y,A);function y(){return A.call(this)||this}return o(y,"ContextTagKeys"),y}(Q$({applicationVersion:mT("ver"),applicationBuild:mT("build"),applicationTypeId:mT("typeId"),applicationId:mT("applicationId"),applicationLayer:mT("layer"),deviceId:nl("id"),deviceIp:nl("ip"),deviceLanguage:nl("language"),deviceLocale:nl("locale"),deviceModel:nl("model"),deviceFriendlyName:nl("friendlyName"),deviceNetwork:nl("network"),deviceNetworkName:nl("networkName"),deviceOEMName:nl("oemName"),deviceOS:nl("os"),deviceOSVersion:nl("osVersion"),deviceRoleInstance:nl("roleInstance"),deviceRoleName:nl("roleName"),deviceScreenResolution:nl("screenResolution"),deviceType:nl("type"),deviceMachineName:nl("machineName"),deviceVMName:nl("vmName"),deviceBrowser:nl("browser"),deviceBrowserVersion:nl("browserVersion"),locationIp:mD("ip"),locationCountry:mD("country"),locationProvince:mD("province"),locationCity:mD("city"),operationId:Zb("id"),operationName:Zb("name"),operationParentId:Zb("parentId"),operationRootId:Zb("rootId"),operationSyntheticSource:Zb("syntheticSource"),operationCorrelationVector:Zb("correlationVector"),sessionId:Sz("id"),sessionIsFirst:Sz("isFirst"),sessionIsNew:Sz("isNew"),userAccountAcquisitionDate:dy("accountAcquisitionDate"),userAccountId:dy("accountId"),userAgent:dy("userAgent"),userId:dy("id"),userStoreRegion:dy("storeRegion"),userAuthUserId:dy("authUserId"),userAnonymousUserAcquisitionDate:dy("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:dy("authUserAcquisitionDate"),cloudName:D3("name"),cloudRole:D3("role"),cloudRoleVer:D3("roleVer"),cloudRoleInstance:D3("roleInstance"),cloudEnvironment:D3("environment"),cloudLocation:D3("location"),cloudDeploymentUnit:D3("deploymentUnit"),internalNodeName:hT("nodeName"),internalSdkVersion:hT("sdkVersion"),internalAgentVersion:hT("agentVersion"),internalSnippet:hT("snippet"),internalSdkSrc:hT("sdkSrc")})),pl=new Lde;function Qde(A,y){Dje(A,null,null,y)}o(Qde,"_disableEvents");function vVe(A){var y=i2(),T=Gh(),S=!1,D=[],N=1;T&&!J(T.onLine)&&!T.onLine&&(N=2);var U=0,ie=Xe(),fe=lde(ym("OfflineListener"),A);try{if(ke(lm())&&(S=!0),y){var xe=y.body||y;xe.ononline&&ke(xe)&&(S=!0)}}catch{S=!1}function ke(mr){var Rr=!1;return mr&&(Rr=cde(mr,"online",pt,fe),Rr&&cde(mr,"offline",ut,fe)),Rr}o(ke,"_enableEvents");function We(){return ie}o(We,"_isOnline");function Xe(){return!(U===2||N===2)}o(Xe,"calCurrentState");function je(){var mr=Xe();ie!==mr&&(ie=mr,Yr(D,function(Rr){var Un={isOnline:ie,rState:N,uState:U};try{Rr(Un)}catch{}}))}o(je,"listnerNoticeCheck");function Ke(mr){U=mr,je()}o(Ke,"setOnlineState");function pt(){N=1,je()}o(pt,"_setOnline");function ut(){N=2,je()}o(ut,"_setOffline");function Tt(){var mr=lm();if(mr&&S){if(Qde(mr,fe),y){var Rr=y.body||y;O(Rr.ononline)||Qde(Rr,fe)}S=!1}}o(Tt,"_unload");function Yt(mr){return D.push(mr),{rm:o(function(){var Rr=D.indexOf(mr);if(Rr>-1)return D.splice(Rr,1)},"rm")}}return o(Yt,"addListener"),{isOnline:We,isListening:o(function(){return S},"isListening"),unload:Tt,addListener:Yt,setOnlineState:Ke}}o(vVe,"createOfflineListener");var bVe="AppInsightsChannelPlugin",P3="duration",Vl="tags",kz="deviceType",Ru="data",A1="name",pT="traceID",gi="length",gT="stringify",F3="measurements",Ap="dataType",N3="envelopeType",L3="toString",Q3="enqueue",M3="count",y1="push",Rz="emitLineDelimitedJson",Xb="clear",hD="markAsSent",AT="clearSent",Bz="bufferOverride",yT="BUFFER_KEY",my="SENT_BUFFER_KEY",eE="concat",CT="MAX_BUFFER_SIZE",xT="triggerSend",xc="diagLog",Dz="initialize",vT="_sender",bT="endpointUrl",ET="instrumentationKey",Pz="customHeaders",Mde="maxBatchSizeInBytes",Fz="onunloadDisableBeacon",Nz="isBeaconApiDisabled",Ode="alwaysUseXhrOverride",Ude="enableSessionStorageBuffer",yp="_buffer",qde="onunloadDisableFetch",Wde="disableSendBeaconSplit",pD="getSenderInst",O3="_onError",Lz="_onPartialSuccess",gD="_onSuccess",Qz="itemsReceived",Mz="itemsAccepted",Oz="baseType",AD="sampleRate",EVe="getHashCodeScore",Uz="baseType",Is="baseData",gl="properties",Gde="true";function ha(A,y,T){return sp(A,y,T,ne)}o(ha,"_setValueIf");function IVe(A,y,T){var S=T[Vl]=T[Vl]||{},D=y.ext=y.ext||{},N=y[Vl]=y[Vl]||[],U=D.user;U&&(ha(S,pl.userAuthUserId,U.authId),ha(S,pl.userId,U.id||U.localId));var ie=D.app;ie&&ha(S,pl.sessionId,ie.sesId);var fe=D.device;fe&&(ha(S,pl.deviceId,fe.id||fe.localId),ha(S,pl[kz],fe.deviceClass),ha(S,pl.deviceIp,fe.ip),ha(S,pl.deviceModel,fe.model),ha(S,pl[kz],fe[kz]));var xe=y.ext.web;if(xe){ha(S,pl.deviceLanguage,xe.browserLang),ha(S,pl.deviceBrowserVersion,xe.browserVer),ha(S,pl.deviceBrowser,xe.browser);var ke=T[Ru]=T[Ru]||{},We=ke[Is]=ke[Is]||{},Xe=We[gl]=We[gl]||{};ha(Xe,"domain",xe.domain),ha(Xe,"isManual",xe.isManual?Gde:null),ha(Xe,"screenRes",xe.screenRes),ha(Xe,"userConsent",xe.userConsent?Gde:null)}var je=D.os;je&&(ha(S,pl.deviceOS,je[A1]),ha(S,pl.deviceOSVersion,je.osVer));var Ke=D.trace;Ke&&(ha(S,pl.operationParentId,Ke.parentID),ha(S,pl.operationName,Cc(A,Ke[A1])),ha(S,pl.operationId,Ke[pT]));for(var pt={},ut=N[gi]-1;ut>=0;ut--){var Tt=N[ut];ee(Tt,function(mr,Rr){pt[mr]=Rr}),N.splice(ut,1)}ee(N,function(mr,Rr){pt[mr]=Rr});var Yt=fm(fm({},S),pt);Yt[pl.internalSdkVersion]||(Yt[pl.internalSdkVersion]=Cc(A,"javascript:".concat(TVe.Version),64)),T[Vl]=P7(Yt)}o(IVe,"_extractPartAExtensions");function hy(A,y,T){J(A)||ee(A,function(S,D){Ge(D)?T[S]=D:ce(D)?y[S]=D:G2()&&(y[S]=Jc()[gT](D))})}o(hy,"_extractPropsAndMeasurements");function U3(A,y){J(A)||ee(A,function(T,S){A[T]=S||y})}o(U3,"_convertPropsUndefinedToCustomDefinedValue");function q3(A,y,T,S){var D=new Kje(A,S,y);ha(D,"sampleRate",T[ude]),(T[Is]||{}).startTime&&(D.time=c3(T[Is].startTime)),D.iKey=T.iKey;var N=T.iKey.replace(/-/g,"");return D[A1]=D[A1].replace("{0}",N),IVe(A,T,D),T[Vl]=T[Vl]||[],P7(D)}o(q3,"_createEnvelope");function W3(A,y){J(y[Is])&&Lr(A,1,46,"telemetryItem.baseData cannot be null.")}o(W3,"EnvelopeCreatorInit");var TVe={Version:"3.3.6"};function wVe(A,y,T){W3(A,y);var S=y[Is][F3]||{},D=y[Is][gl]||{};hy(y[Ru],D,S),J(T)||U3(D,T);var N=y[Is];if(J(N))return Lb(A,"Invalid input for dependency data"),null;var U=N[gl]&&N[gl][fde]?N[gl][fde]:"GET",ie=new uD(A,N.id,N.target,N[A1],N[P3],N.success,N.responseCode,U,N.type,N.correlationContext,D,S),fe=new B3(uD[Ap],ie);return q3(A,uD[N3],y,fe)}o(wVe,"DependencyEnvelopeCreator");function Hde(A,y,T){W3(A,y);var S={},D={};y[Uz]!==Kb[Ap]&&(S.baseTypeSource=y[Uz]),y[Uz]===Kb[Ap]?(S=y[Is][gl]||{},D=y[Is][F3]||{}):y[Is]&&hy(y[Is],S,D),hy(y[Ru],S,D),J(T)||U3(S,T);var N=y[Is][A1],U=new Kb(A,N,S,D),ie=new B3(Kb[Ap],U);return q3(A,Kb[N3],y,ie)}o(Hde,"EventEnvelopeCreator");function _Ve(A,y,T){W3(A,y);var S=y[Is][F3]||{},D=y[Is][gl]||{};hy(y[Ru],D,S),J(T)||U3(D,T);var N=y[Is],U=lD.CreateFromInterface(A,N,D,S),ie=new B3(lD[Ap],U);return q3(A,lD[N3],y,ie)}o(_Ve,"ExceptionEnvelopeCreator");function SVe(A,y,T){W3(A,y);var S=y[Is],D=S[gl]||{},N=S[F3]||{};hy(y[Ru],D,N),J(T)||U3(D,T);var U=new fT(A,S[A1],S.average,S.sampleCount,S.min,S.max,S.stdDev,D,N),ie=new B3(fT[Ap],U);return q3(A,fT[N3],y,ie)}o(SVe,"MetricEnvelopeCreator");function kVe(A,y,T){W3(A,y);var S,D=y[Is];!J(D)&&!J(D[gl])&&!J(D[gl][P3])?(S=D[gl][P3],delete D[gl][P3]):!J(y[Ru])&&!J(y[Ru][P3])&&(S=y[Ru][P3],delete y[Ru][P3]);var N=y[Is],U;((y.ext||{}).trace||{})[pT]&&(U=y.ext.trace[pT]);var ie=N.id||U,fe=N[A1],xe=N.uri,ke=N[gl]||{},We=N[F3]||{};if(J(N.refUri)||(ke.refUri=N.refUri),J(N.pageType)||(ke.pageType=N.pageType),J(N.isLoggedIn)||(ke.isLoggedIn=N.isLoggedIn[L3]()),!J(N[gl])){var Xe=N[gl];ee(Xe,function(pt,ut){ke[pt]=ut})}hy(y[Ru],ke,We),J(T)||U3(ke,T);var je=new cD(A,fe,xe,S,ke,We,ie),Ke=new B3(cD[Ap],je);return q3(A,cD[N3],y,Ke)}o(kVe,"PageViewEnvelopeCreator");function RVe(A,y,T){W3(A,y);var S=y[Is],D=S[A1],N=S.uri||S.url,U=S[gl]||{},ie=S[F3]||{};hy(y[Ru],U,ie),J(T)||U3(U,T);var fe=new dD(A,D,N,void 0,U,ie,S),xe=new B3(dD[Ap],fe);return q3(A,dD[N3],y,xe)}o(RVe,"PageViewPerformanceEnvelopeCreator");function BVe(A,y,T){W3(A,y);var S=y[Is].message,D=y[Is].severityLevel,N=y[Is][gl]||{},U=y[Is][F3]||{};hy(y[Ru],N,U),J(T)||U3(N,T);var ie=new fD(A,S,D,N,U),fe=new B3(fD[Ap],ie);return q3(A,fD[N3],y,fe)}o(BVe,"TraceEnvelopeCreator");var jde=function(){function A(y,T){var S=[],D=!1,N=T.maxRetryCnt;this._get=function(){return S},this._set=function(U){return S=U,S},Hl(A,this,function(U){U[Q3]=function(ie){if(U[M3]()>=T.eventsLimitInMem){D||(Lr(y,2,105,"Maximum in-memory buffer size reached: "+U[M3](),!0),D=!0);return}ie.cnt=ie.cnt||0,!(!J(N)&&ie.cnt>N)&&S[y1](ie)},U[M3]=function(){return S[gi]},U.size=function(){for(var ie=S[gi],fe=0;fe<S[gi];fe++)ie+=S[fe].item[gi];return T[Rz]||(ie+=2),ie},U[Xb]=function(){S=[],D=!1},U.getItems=function(){return S.slice(0)},U.batchPayloads=function(ie){if(ie&&ie[gi]>0){var fe=[];Yr(ie,function(ke){fe[y1](ke.item)});var xe=T[Rz]?fe.join(`
`):"["+fe.join(",")+"]";return xe}return null},U.createNew=function(ie,fe,xe){var ke=S.slice(0);ie=ie||y,fe=fe||{};var We=xe?new Vde(ie,fe):new qz(ie,fe);return Yr(ke,function(Xe){We[Q3](Xe)}),We}})}return o(A,"BaseSendBuffer"),A.__ieDyn=1,A}(),qz=function(A){n3(y,A);function y(T,S){var D=A.call(this,T,S)||this;return Hl(y,D,function(N,U){N[hD]=function(ie){U[Xb]()},N[AT]=function(ie){}}),D}return o(y,"ArraySendBuffer"),y.__ieDyn=1,y}(jde),DVe=["AI_buffer","AI_sentBuffer"],Vde=function(A){n3(y,A);function y(S,D){var N=A.call(this,S,D)||this,U=!1,ie=D?.namePrefix,fe=D[Bz]||{getItem:jje,setItem:Vje},xe=fe.getItem,ke=fe.setItem,We=D.maxRetryCnt;return Hl(y,N,function(Xe,je){var Ke=Rr(y[yT]),pt=Rr(y[my]),ut=vi(),Tt=pt[eE](ut),Yt=Xe._set(Ke[eE](Tt));Yt[gi]>y[CT]&&(Yt[gi]=y[CT]),xi(y[my],[]),xi(y[yT],Yt),Xe[Q3]=function(fn){if(Xe[M3]()>=y[CT]){U||(Lr(S,2,67,"Maximum buffer size reached: "+Xe[M3](),!0),U=!0);return}fn.cnt=fn.cnt||0,!(!J(We)&&fn.cnt>We)&&(je[Q3](fn),xi(y[yT],Xe._get()))},Xe[Xb]=function(){je[Xb](),xi(y[yT],Xe._get()),xi(y[my],[]),U=!1},Xe[hD]=function(fn){xi(y[yT],Xe._set(mr(fn,Xe._get())));var Vr=Rr(y[my]);Vr instanceof Array&&fn instanceof Array&&(Vr=Vr[eE](fn),Vr[gi]>y[CT]&&(Lr(S,1,67,"Sent buffer reached its maximum size: "+Vr[gi],!0),Vr[gi]=y[CT]),xi(y[my],Vr))},Xe[AT]=function(fn){var Vr=Rr(y[my]);Vr=mr(fn,Vr),xi(y[my],Vr)},Xe.createNew=function(fn,Vr,bi){bi=!!bi;var Ts=Xe._get().slice(0),qo=Rr(y[my]).slice(0);fn=fn||S,Vr=Vr||{},Xe[Xb]();var Zt=bi?new y(fn,Vr):new qz(fn,Vr);return Yr(Ts,function($r){Zt[Q3]($r)}),bi&&Zt[hD](qo),Zt};function mr(fn,Vr){var bi=[],Ts=[];return Yr(fn,function(qo){Ts[y1](qo.item)}),Yr(Vr,function(qo){!Pe(qo)&&zc(Ts,qo.item)===-1&&bi[y1](qo)}),bi}o(mr,"_removePayloadsFromBuffer");function Rr(fn){var Vr=fn;return Vr=ie?ie+"_"+Vr:Vr,Un(Vr)}o(Rr,"_getBuffer");function Un(fn){try{var Vr=xe(S,fn);if(Vr){var bi=Jc().parse(Vr);if(ce(bi)&&(bi=Jc().parse(bi)),bi&&Fe(bi))return bi}}catch(Ts){Lr(S,1,42," storage key: "+fn+", "+tl(Ts),{exception:yt(Ts)})}return[]}o(Un,"_getBufferBase");function xi(fn,Vr){var bi=fn;try{bi=ie?ie+"_"+bi:bi;var Ts=JSON[gT](Vr);ke(S,bi,Ts)}catch(qo){ke(S,bi,JSON[gT]([])),Lr(S,2,41," storage key: "+bi+", "+tl(qo)+". Buffer cleared",{exception:yt(qo)})}}o(xi,"_setBuffer");function vi(){var fn=[];try{return Yr(DVe,function(Vr){var bi=mo(Vr);if(fn=fn[eE](bi),ie){var Ts=ie+"_"+Vr,qo=mo(Ts);fn=fn[eE](qo)}}),fn}catch(Vr){Lr(S,2,41,"Transfer events from previous buffers: "+tl(Vr)+". previous Buffer items can not be removed",{exception:yt(Vr)})}return[]}o(vi,"_getPreviousEvents");function mo(fn){try{var Vr=Un(fn),bi=[];return Yr(Vr,function(Ts){var qo={item:Ts,cnt:0};bi[y1](qo)}),$je(S,fn),bi}catch{}return[]}o(mo,"_getItemsFromPreviousKey")}),N}o(y,"SessionStorageSendBuffer");var T;return T=y,y.VERSION="_1",y.BUFFER_KEY="AI_buffer"+T.VERSION,y.SENT_BUFFER_KEY="AI_sentBuffer"+T.VERSION,y.MAX_BUFFER_SIZE=2e3,y}(jde),PVe=function(){function A(y){Hl(A,this,function(T){T.serialize=function(U){var ie=S(U,"root");try{return Jc()[gT](ie)}catch(fe){Lr(y,1,48,fe&&Pe(fe[L3])?fe[L3]():"Error serializing object",null,!0)}};function S(U,ie){var fe="__aiCircularRefCheck",xe={};if(!U)return Lr(y,1,48,"cannot serialize object because it is null or undefined",{name:ie},!0),xe;if(U[fe])return Lr(y,2,50,"Circular reference detected while serializing object",{name:ie},!0),xe;if(!U.aiDataContract){if(ie==="measurements")xe=N(U,"number",ie);else if(ie==="properties")xe=N(U,"string",ie);else if(ie==="tags")xe=N(U,"string",ie);else if(Fe(U))xe=D(U,ie);else{Lr(y,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:ie},!0);try{Jc()[gT](U),xe=U}catch(ke){Lr(y,1,48,ke&&Pe(ke[L3])?ke[L3]():"Error serializing object",null,!0)}}return xe}return U[fe]=!0,ee(U.aiDataContract,function(ke,We){var Xe=Pe(We)?We()&1:We&1,je=Pe(We)?We()&4:We&4,Ke=We&2,pt=U[ke]!==void 0,ut=Ie(U[ke])&&U[ke]!==null;if(Xe&&!pt&&!Ke)Lr(y,1,24,"Missing required field specification. The field is required but not present on source",{field:ke,name:ie});else if(!je){var Tt=void 0;ut?Ke?Tt=D(U[ke],ke):Tt=S(U[ke],ke):Tt=U[ke],Tt!==void 0&&(xe[ke]=Tt)}}),delete U[fe],xe}o(S,"_serializeObject");function D(U,ie){var fe;if(U)if(!Fe(U))Lr(y,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:ie},!0);else{fe=[];for(var xe=0;xe<U[gi];xe++){var ke=U[xe],We=S(ke,ie+"["+xe+"]");fe[y1](We)}}return fe}o(D,"_serializeArray");function N(U,ie,fe){var xe;return U&&(xe={},ee(U,function(ke,We){if(ie==="string")We===void 0?xe[ke]="undefined":We===null?xe[ke]="null":We[L3]?xe[ke]=We[L3]():xe[ke]="invalid field: toString() is not defined.";else if(ie==="number")if(We===void 0)xe[ke]="undefined";else if(We===null)xe[ke]="null";else{var Xe=parseFloat(We);xe[ke]=Xe}else xe[ke]="invalid field: "+fe+" is of unknown type.",Lr(y,1,xe[ke],null,!0)})),xe}o(N,"_serializeStringMap")})}return o(A,"Serializer"),A.__ieDyn=1,A}(),FVe=8,NVe=function(){function A(){}return o(A,"HashCodeScoreGenerator"),A.prototype.getHashCodeScore=function(y){var T=this.getHashCode(y)/A.INT_MAX_VALUE;return T*100},A.prototype.getHashCode=function(y){if(y==="")return 0;for(;y[gi]<FVe;)y=y[eE](y);for(var T=5381,S=0;S<y[gi];++S)T=(T<<5)+T+y.charCodeAt(S),T=T&T;return Math.abs(T)},A.INT_MAX_VALUE=2147483647,A}(),LVe=function(){function A(){var y=this,T=new NVe,S=new Lde;y.getSamplingScore=function(D){var N=0;return D[Vl]&&D[Vl][S.userId]?N=T.getHashCodeScore(D[Vl][S.userId]):D.ext&&D.ext.user&&D.ext.user.id?N=T[EVe](D.ext.user.id):D[Vl]&&D[Vl][S.operationId]?N=T.getHashCodeScore(D[Vl][S.operationId]):D.ext&&D.ext.telemetryTrace&&D.ext.telemetryTrace[pT]?N=T.getHashCodeScore(D.ext.telemetryTrace[pT]):N=Math.random()*100,N}}return o(A,"SamplingScoreGenerator"),A}(),QVe=function(){function A(y,T){this.INT_MAX_VALUE=2147483647;var S=T||x3(null);(y>100||y<0)&&(S.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:y},!0),y=100),this[AD]=y,this.samplingScoreGenerator=new LVe}return o(A,"Sample"),A.prototype.isSampledIn=function(y){var T=this[AD],S=!1;return T==null||T>=100||y.baseType===fT[Ap]?!0:(S=this.samplingScoreGenerator.getSamplingScore(y)<T,S)},A}(),ns,C1,Cp=void 0,$de="",MVe=65e3;function zde(A){try{return A.responseText}catch{}return null}o(zde,"_getResponseText");function OVe(A){return A&&A.sendPOST}o(OVe,"isOverrideFn");var Yde=kt((ns={endpointUrl:$7(ne,pz+Vb)},ns[Rz]=jf(),ns.maxBatchInterval=15e3,ns[Mde]=102400,ns.disableTelemetry=jf(),ns[Ude]=jf(!0),ns.isRetryDisabled=jf(),ns[Nz]=jf(!0),ns[Wde]=jf(!0),ns.disableXhr=jf(),ns[qde]=jf(),ns[Fz]=jf(),ns[ET]=Cp,ns.namePrefix=Cp,ns.samplingPercentage=$7(UVe,100),ns[Pz]=Cp,ns.convertUndefined=Cp,ns.eventsLimitInMem=1e4,ns[Bz]=!1,ns.httpXHROverride={isVal:OVe,v:Cp},ns[Ode]=jf(),ns.transports=Cp,ns.retryCodes=Cp,ns.maxRetryCnt={isVal:Ge,v:10},ns));function UVe(A){return!isNaN(A)&&A>0&&A<=100}o(UVe,"_chkSampling");var qVe=(C1={},C1[Kb.dataType]=Hde,C1[fD.dataType]=BVe,C1[cD.dataType]=kVe,C1[dD.dataType]=RVe,C1[lD.dataType]=_Ve,C1[fT.dataType]=SVe,C1[uD.dataType]=wVe,C1),Kde=function(A){n3(y,A);function y(){var T=A.call(this)||this;T.priority=1001,T.identifier=bVe;var S,D,N,U,ie,fe,xe,ke=0,We,Xe,je,Ke,pt,ut,Tt,Yt,mr,Rr,Un,xi,vi,mo,fn,Vr,bi,Ts,qo,Zt,$r,no,Ft,En,Us,ho,Al;return Hl(y,T,function(mt,Na){Zde(),mt.pause=function(){yy(),N=!0},mt.resume=function(){N&&(N=!1,D=null,So(),iE())},mt.flush=function(ze,Et,Ar){if(ze===void 0&&(ze=!0),!N){yy();try{return mt[xT](ze,null,Ar||1)}catch(Mr){Lr(mt[xc](),1,22,"flush failed, telemetry will not be collected: "+tl(Mr),{exception:yt(Mr)})}}},mt.onunloadFlush=function(){if(!N)if(Tt||Zt)try{return mt[xT](!0,L0,2)}catch(ze){Lr(mt[xc](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+tl(ze),{exception:yt(ze)})}else mt.flush(!1)},mt.addHeader=function(ze,Et){xe[ze]=Et},mt[Dz]=function(ze,Et,Ar,Mr){mt.isInitialized()&&Lr(mt[xc](),1,28,"Sender is already initialized"),Na[Dz](ze,Et,Ar,Mr);var Rn=mt.identifier;ie=new PVe(Et.logger),S=0,D=null,mt[vT]=null,fe=0;var mn=mt[xc]();je=lde(ym("Sender"),Et.evtNamespace&&Et.evtNamespace()),Xe=vVe(je),mt._addHook(Cm(ze,function(Vi){var pa=Vi.cfg;pa.storagePrefix&&Hje(pa.storagePrefix);var Bu=sy(null,pa,Et),ai=Bu.getExtCfg(Rn,Yde),Xde=ai[bT];if(Ke&&Xde===Ke){var Hz=pa[bT];Hz&&Hz!==Xde&&(ai[bT]=Hz)}ct(ai[ET])&&(ai[ET]=pa[ET]),qe(mt,"_senderConfig",{g:o(function(){return ai},"g")}),pt!==ai[bT]&&(Ke=pt=ai[bT]),Et.activeStatus()===Xh.PENDING?mt.pause():Et.activeStatus()===Xh.ACTIVE&&mt.resume(),Rr&&Rr!==ai[Pz]&&Yr(Rr,function(zl){delete xe[zl.header]}),ut=ai[Mde],Tt=(ai[Fz]===!1||ai[Nz]===!1)&&lp(),Yt=ai[Fz]===!1&&lp(),mr=ai[Nz]===!1&&lp(),Zt=ai[Ode],$r=!!ai.disableXhr,Al=ai.retryCodes;var jz=ai[Bz],oE=!!ai[Ude]&&(!!jz||bde()),eme=ai.namePrefix,jVe=oE!==Vr||oE&&Ts!==eme||oE&&bi!==jz;if(mt[yp]){if(jVe)try{mt[yp]=mt[yp].createNew(mn,ai,oE)}catch(zl){Lr(mt[xc](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+tl(zl),{exception:yt(zl)})}So()}else mt[yp]=oE?new Vde(mn,ai):new qz(mn,ai);Ts=eme,Vr=oE,bi=jz,no=!ai[qde]&&p3(!0),Us=!!ai[Wde],mt._sample=new QVe(ai.samplingPercentage,mn),xi=ai[ET],!ct(xi)&&!Jde(xi,pa)&&Lr(mn,1,100,"Invalid Instrumentation key "+xi),Rr=ai[Pz],ce(Ke)&&!Cde(Ke)&&Rr&&Rr[gi]>0?Yr(Rr,function(zl){T.addHeader(zl.header,zl.value)}):Rr=null,qo=ai.enableSendPromise;var tme=yl();ho?ho.SetConfig(tme):(ho=new Fa,ho[Dz](tme,mn));var vD=ai.httpXHROverride,bD=null,_T=null,VVe=gB([3,1,2],ai.transports);bD=ho&&ho[pD](VVe,!1);var Vz=ho&&ho.getFallbackInst();Ft=o(function(zl,G3){return qr(Vz,zl,G3)},"_xhrSend"),En=o(function(zl,G3){return qr(Vz,zl,G3,!1)},"_fallbackSend"),bD=Zt?vD:bD||vD||Vz,mt[vT]=function(zl,G3){return qr(bD,zl,G3)},no&&(We=nE);var $z=gB([3,1],ai.unloadTransports);no||($z=$z.filter(function(zl){return zl!==2})),_T=ho&&ho[pD]($z,!0),_T=Zt?vD:_T||vD,(Zt||ai.unloadTransports||!We)&&_T&&(We=o(function(zl,G3){return qr(_T,zl,G3)},"_syncUnloadSender")),We||(We=Ft),Un=ai.disableTelemetry,vi=ai.convertUndefined||Cp,mo=ai.isRetryDisabled,fn=ai.maxBatchInterval}))},mt.processTelemetry=function(ze,Et){Et=mt._getTelCtx(Et);var Ar=Et[xc]();try{var Mr=bm(ze,Ar);if(!Mr)return;var Rn=Ay(ze,Ar);if(!Rn)return;var mn=ie.serialize(Rn),Vi=mt[yp];So(mn);var pa={item:mn,cnt:0};Vi[Q3](pa),iE()}catch(Bu){Lr(Ar,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+tl(Bu),{exception:yt(Bu)})}mt.processNext(ze,Et)},mt.isCompletelyIdle=function(){return!N&&ke===0&&mt._buffer[M3]()===0},mt.getOfflineListener=function(){return Xe},mt._xhrReadyStateChange=function(ze,Et,Ar){if(!Im(Et))return Yf(ze,Et,Ar)},mt[xT]=function(ze,Et,Ar){ze===void 0&&(ze=!0);var Mr;if(!N)try{var Rn=mt[yp];if(Un)Rn[Xb]();else if(Rn[M3]()>0){var mn=Rn.getItems();xD(Ar||0,ze),Et?Mr=Et.call(mt,mn,ze):Mr=mt[vT](mn,ze)}yy()}catch(pa){var Vi=H2();(!Vi||Vi>9)&&Lr(mt[xc](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+tl(pa),{exception:yt(pa)})}return Mr},mt.getOfflineSupport=function(){return{getUrl:o(function(){return Ke},"getUrl"),createPayload:At,serialize:ws,batch:$l,shouldProcess:o(function(ze){return!!bm(ze)},"shouldProcess")}},mt._doTeardown=function(ze,Et){mt.onunloadFlush(),Z2(Xe,!1),Zde()},mt[O3]=function(ze,Et,Ar){if(!Im(ze))return Xc(ze,Et)},mt[Lz]=function(ze,Et){if(!Im(ze))return py(ze,Et)},mt[gD]=function(ze,Et){if(!Im(ze))return vm(ze)},mt._xdrOnLoad=function(ze,Et){if(!Im(Et))return qs(ze,Et)};function qs(ze,Et){var Ar=zde(ze);if(ze&&(Ar+""=="200"||Ar===""))S=0,mt[gD](Et,0);else{var Mr=Ur(Ar);Mr&&Mr[Qz]&&Mr[Qz]>Mr[Mz]&&!mo?mt[Lz](Et,Mr):mt[O3](Et,pB(ze))}}o(qs,"_xdrOnLoad");function yl(){try{var ze={xdrOnComplete:o(function(Ar,Mr,Rn){var mn=gy(Rn);if(mn)return qs(Ar,mn)},"xdrOnComplete"),fetchOnComplete:o(function(Ar,Mr,Rn,mn){var Vi=gy(mn);if(Vi)return is(Ar.status,Vi,Ar.url,Vi[gi],Ar.statusText,Rn||"")},"fetchOnComplete"),xhrOnComplete:o(function(Ar,Mr,Rn){var mn=gy(Rn);if(mn)return Yf(Ar,mn,mn[gi])},"xhrOnComplete"),beaconOnRetry:o(function(Ar,Mr,Rn){return Em(Ar,Mr,Rn)},"beaconOnRetry")},Et={enableSendPromise:qo,isOneDs:!1,disableCredentials:!1,disableXhr:$r,disableBeacon:!mr,disableBeaconSync:!Yt,senderOnCompleteCallBack:ze};return Et}catch{}return null}o(yl,"_getSendPostMgrConfig");function Yf(ze,Et,Ar){ze.readyState===4&&is(ze.status,Et,ze.responseURL,Ar,Tb(ze),zde(ze)||ze.response)}o(Yf,"_xhrReadyStateChange");function Xc(ze,Et,Ar){Lr(mt[xc](),2,26,"Failed to send telemetry.",{message:Et}),mt._buffer&&mt._buffer[AT](ze)}o(Xc,"_onError");function py(ze,Et){for(var Ar=[],Mr=[],Rn=Et.errors.reverse(),mn=0,Vi=Rn;mn<Vi.length;mn++){var pa=Vi[mn],Bu=ze.splice(pa.index,1)[0];Cy(pa.statusCode)?Mr[y1](Bu):Ar[y1](Bu)}ze[gi]>0&&mt[gD](ze,Et[Mz]),Ar[gi]>0&&mt[O3](Ar,Tb(null,["partial success",Et[Mz],"of",Et.itemsReceived].join(" "))),Mr[gi]>0&&(wT(Mr),Lr(mt[xc](),2,40,"Partial success. Delivered: "+ze[gi]+", Failed: "+Ar[gi]+". Will retry to send "+Mr[gi]+" our of "+Et[Qz]+" items"))}o(py,"_onPartialSuccess");function vm(ze,Et){mt._buffer&&mt._buffer[AT](ze)}o(vm,"_onSuccess");function gy(ze){try{if(ze){var Et=ze,Ar=Et.oriPayload;return Ar&&Ar[gi]?Ar:null}}catch{}return null}o(gy,"_getPayloadArr");function bm(ze,Et){if(Un)return!1;if(!ze)return Et&&Lr(Et,1,7,"Cannot send empty telemetry"),!1;if(ze.baseData&&!ze[Oz])return Et&&Lr(Et,1,70,"Cannot send telemetry without baseData and baseType"),!1;if(ze[Oz]||(ze[Oz]="EventData"),!mt[vT])return Et&&Lr(Et,1,28,"Sender was not initialized"),!1;if(Sr(ze))ze[ude]=mt._sample[AD];else return Et&&Lr(Et,2,33,"Telemetry item was sampled out and not sent",{SampleRate:mt._sample[AD]}),!1;return!0}o(bm,"_validate");function Ay(ze,Et){var Ar=ze.iKey||xi,Mr=y.constructEnvelope(ze,Ar,Et,vi);if(!Mr){Lr(Et,1,47,"Unable to create an AppInsights envelope");return}var Rn=!1;if(ze[Vl]&&ze[Vl][hz]&&(Yr(ze[Vl][hz],function(mn){try{mn&&mn(Mr)===!1&&(Rn=!0,Lb(Et,"Telemetry processor check returns false"))}catch(Vi){Lr(Et,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+tl(Vi),{exception:yt(Vi)},!0)}}),delete ze[Vl][hz]),!Rn)return Mr}o(Ay,"_getEnvelope");function ws(ze){var Et=$de,Ar=mt[xc]();try{var Mr=bm(ze,Ar),Rn=null;Mr&&(Rn=Ay(ze,Ar)),Rn&&(Et=ie.serialize(Rn))}catch{}return Et}o(ws,"_serialize");function $l(ze){var Et=$de;return ze&&ze[gi]&&(Et="["+ze.join(",")+"]"),Et}o($l,"_batch");function At(ze){var Et=bo();return{urlString:Ke,data:ze,headers:Et}}o(At,"_createPayload");function Sr(ze){return mt._sample.isSampledIn(ze)}o(Sr,"_isSampledIn");function Sn(ze,Et,Ar,Mr){Et===200&&ze?mt._onSuccess(ze,ze[gi]):Mr&&mt[O3](ze,Mr)}o(Sn,"_getOnComplete");function qr(ze,Et,Ar,Mr){Mr===void 0&&(Mr=!0);var Rn=o(function(pa,Bu,ai){return Sn(Et,pa,Bu,ai)},"onComplete"),mn=kn(Et),Vi=ze&&ze.sendPOST;return Vi&&mn?(Mr&&mt._buffer[hD](Et),Vi(mn,Rn,!Ar)):null}o(qr,"_doSend");function kn(ze){if(Fe(ze)&&ze[gi]>0){var Et=mt[yp].batchPayloads(ze),Ar=bo(),Mr={data:Et,urlString:Ke,headers:Ar,disableXhrSync:$r,disableFetchKeepAlive:!no,oriPayload:ze};return Mr}return null}o(kn,"_getPayload");function bo(){try{var ze=xe||{};return Cde(Ke)&&(ze[dde[6]]=dde[7]),ze}catch{}return null}o(bo,"_getHeaders");function So(ze){var Et=ze?ze[gi]:0;return mt[yp].size()+Et>ut?((!Xe||Xe.isOnline())&&mt[xT](!0,null,10),!0):!1}o(So,"_checkMaxSize");function is(ze,Et,Ar,Mr,Rn,mn){var Vi=null;if(mt._appId||(Vi=Ur(mn),Vi&&Vi.appId&&(mt._appId=Vi.appId)),(ze<200||ze>=300)&&ze!==0){if((ze===301||ze===307||ze===308)&&!vc(Ar)){mt[O3](Et,Rn);return}if(Xe&&!Xe.isOnline()){if(!mo){var pa=10;wT(Et,pa),Lr(mt[xc](),2,40,". Offline - Response Code: ".concat(ze,". Offline status: ").concat(!Xe.isOnline(),". Will retry to send ").concat(Et.length," items."))}return}!mo&&Cy(ze)?(wT(Et),Lr(mt[xc](),2,40,". Response code "+ze+". Will retry to send "+Et[gi]+" items.")):mt[O3](Et,Rn)}else vc(Ar),ze===206?(Vi||(Vi=Ur(mn)),Vi&&!mo?mt[Lz](Et,Vi):mt[O3](Et,Rn)):(S=0,mt[gD](Et,Mr))}o(is,"_checkResponsStatus");function vc(ze){return fe>=10?!1:!J(ze)&&ze!==""&&ze!==Ke?(Ke=ze,++fe,!0):!1}o(vc,"_checkAndUpdateEndPointUrl");function L0(ze,Et){if(We)We(ze,!1);else{var Ar=ho&&ho[pD]([3],!0);return qr(Ar,ze,Et)}}o(L0,"_doUnloadSend");function Em(ze,Et,Ar){var Mr=ze,Rn=Mr&&Mr.oriPayload;if(Us)En&&En(Rn,!0),Lr(mt[xc](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var mn=[],Vi=0;Vi<Rn[gi];Vi++){var pa=Rn[Vi],Bu=[pa],ai=kn(Bu);Ar(ai,Et)?mt._onSuccess(Bu,Bu[gi]):mn[y1](pa)}mn[gi]>0&&(En&&En(mn,!0),Lr(mt[xc](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}o(Em,"_onBeaconRetry");function Im(ze){try{if(ze&&ze[gi])return ce(ze[0])}catch{}return null}o(Im,"_isStringArr");function nE(ze,Et){var Ar=null;if(Fe(ze)){for(var Mr=ze[gi],Rn=0;Rn<ze[gi];Rn++)Mr+=ze[Rn].item[gi];var mn=ho.getSyncFetchPayload();mn+Mr<=MVe?Ar=2:lp()?Ar=3:(Ar=1,Lr(mt[xc](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."));var Vi=ho&&ho[pD]([Ar],!0);return qr(Vi,ze,Et)}return null}o(nE,"_fetchKeepAliveSender");function wT(ze,Et){if(Et===void 0&&(Et=1),!(!ze||ze[gi]===0)){var Ar=mt[yp];Ar[AT](ze),S++;for(var Mr=0,Rn=ze;Mr<Rn.length;Mr++){var mn=Rn[Mr];mn.cnt=mn.cnt||0,mn.cnt++,Ar[Q3](mn)}Gz(Et),iE()}}o(wT,"_resendPayload");function Gz(ze){var Et=10,Ar;if(S<=1)Ar=Et;else{var Mr=(Math.pow(2,S)-1)/2,Rn=Kg(Math.random()*Mr*Et)+1;Rn=ze*Rn,Ar=Ee(dr(Rn,3600),Et)}var mn=$h()+Ar*1e3;D=mn}o(Gz,"_setRetryTime");function iE(){if(!U&&!N){var ze=D?Ee(0,D-$h()):0,Et=Ee(fn,ze);U=Kh(function(){U=null,mt[xT](!0,null,1)},Et)}}o(iE,"_setupTimer");function yy(){U&&U.cancel(),U=null,D=null}o(yy,"_clearScheduledTimer");function Cy(ze){return J(Al)?ze===401||ze===408||ze===429||ze===500||ze===502||ze===503||ze===504:Al[gi]&&Al.indexOf(ze)>-1}o(Cy,"_isRetriable");function CD(){var ze="getNotifyMgr";return mt.core[ze]?mt.core[ze]():mt.core._notificationManager}o(CD,"_getNotifyMgr");function xD(ze,Et){var Ar=CD();if(Ar&&Ar.eventsSendRequest)try{Ar.eventsSendRequest(ze,Et)}catch(Mr){Lr(mt[xc](),1,74,"send request notification failed: "+tl(Mr),{exception:yt(Mr)})}}o(xD,"_notifySendRequest");function Jde(ze,Et){var Ar=Et.disableInstrumentationKeyValidation,Mr=J(Ar)?!1:Ar;if(Mr)return!0;var Rn="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",mn=new RegExp(Rn);return mn.test(ze)}o(Jde,"_validateInstrumentationKey");function Zde(){mt[vT]=null,mt[yp]=null,mt._appId=null,mt._sample=null,xe={},Xe=null,S=0,D=null,N=!1,U=null,ie=null,fe=0,ke=0,We=null,je=null,Ke=null,pt=null,ut=0,Tt=!1,Rr=null,Un=!1,xi=null,vi=Cp,mo=!1,Vr=null,Ts=Cp,$r=!1,no=!1,Us=!1,Ft=null,En=null,ho=null,qe(mt,"_senderConfig",{g:o(function(){return hB({},Yde)},"g")})}o(Zde,"_initDefaults")}),T}return o(y,"Sender"),y.constructEnvelope=function(T,S,D,N){var U;S!==T.iKey&&!J(S)?U=fm(fm({},T),{iKey:S}):U=T;var ie=qVe[U.baseType]||Hde;return ie(D,U,N)},y}(vt),tE="instrumentationKey",yD="connectionString",IT="endpointUrl",TT="userOverrideEndpointUrl",rE,Wz=void 0,WVe=(rE={diagnosticLogInterval:$7(GVe,1e4)},rE[yD]=Wz,rE.endpointUrl=Wz,rE[tE]=Wz,rE.extensionConfig={},rE);function GVe(A){return A&&A>0}o(GVe,"_chkDiagLevel");var HVe=function(){function A(y){var T=new Lt,S;(J(y)||J(y[tE])&&J(y[yD]))&&zt("Invalid input configuration"),Hl(A,this,function(N){qe(N,"config",{g:o(function(){return S},"g")}),U(),N.initialize=U,N.track=D,D7(N,T,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange","getTraceCtx","updateCfg","addTelemetryInitializer"]);function U(){var ie=N0(y||{},WVe);S=ie.cfg,T.addUnloadHook(Cm(ie,function(){var fe=S[yD];if(ct(fe)){var xe=gb(function(je,Ke){R0(fe,function(pt){var ut=pt.value,Tt=S[tE];if(!pt.rejected&&ut){S[yD]=ut;var Yt=Ez(ut);Tt=Yt.instrumentationkey||Tt}je(Tt)})}),ke=gb(function(je,Ke){R0(fe,function(pt){var ut=pt.value,Tt=S[IT];if(!pt.rejected&&ut){var Yt=Ez(ut),mr=Yt.ingestionendpoint;Tt=mr?mr+Vb:Tt}je(Tt)})});S[tE]=xe,S[IT]=S[TT]||ke}if(ce(fe)){var We=Ez(fe),Xe=We.ingestionendpoint;S[IT]=S[TT]?S[TT]:Xe+Vb,S[tE]=We.instrumentationkey||S[tE]}S[IT]=S[TT]?S[TT]:S[IT]})),T.initialize(S,[new Kde])}o(U,"_initialize")});function D(N){N&&(N.baseData=N.baseData||{},N.baseType=N.baseType||"EventData"),T.track(N)}o(D,"_track")}return o(A,"ApplicationInsights"),A.__ieDyn=1,A}();e.AppInsightsCore=Lt,e.ApplicationInsights=HVe,e.Sender=Kde,e.SeverityLevel=xVe,e.arrForEach=Yr,e.isNullOrUndefined=J,e.proxyFunctions=D7,e.throwError=zt})});var yZ=j((Hhr,vCe)=>{"use strict";d();vCe.exports=o(function(t,r){r===!0&&(r=0);var n="";if(typeof t=="string")try{n=new URL(t).protocol}catch{}else t&&t.constructor===URL&&(n=t.protocol);var i=n.split(/\:|\+/).filter(Boolean);return typeof r=="number"?i[r]:i},"protocols")});var ECe=j(($hr,bCe)=>{"use strict";d();var lot=yZ();function cot(e){var t={protocols:[],protocol:null,port:null,resource:"",host:"",user:"",password:"",pathname:"",hash:"",search:"",href:e,query:{},parse_failed:!1};try{var r=new URL(e);t.protocols=lot(r),t.protocol=t.protocols[0],t.port=r.port,t.resource=r.hostname,t.host=r.host,t.user=r.username||"",t.password=r.password||"",t.pathname=r.pathname,t.hash=r.hash.slice(1),t.search=r.search.slice(1),t.href=r.href,t.query=Object.fromEntries(r.searchParams)}catch{t.protocols=["file"],t.protocol=t.protocols[0],t.port="",t.resource="",t.user="",t.pathname="",t.hash="",t.search="",t.href=e,t.query={},t.parse_failed=!0}return t}o(cot,"parsePath");bCe.exports=cot});var kCe=j((Khr,SCe)=>{"use strict";d();var uot=ECe();function fot(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}o(fot,"_interopDefaultLegacy");var dot=fot(uot);function mot(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=o(function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(t,i);return new s}return t.apply(this,arguments)},"a");r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:o(function(){return e[n]},"get")})}),r}o(mot,"getAugmentedNamespace");var TCe={},hot="text/plain",pot="us-ascii",ICe=o((e,t)=>t.some(r=>r instanceof RegExp?r.test(e):r===e),"testParameter"),got=o((e,{stripHash:t})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!r)throw new Error(`Invalid URL: ${e}`);let{type:n,data:i,hash:s}=r.groups,a=n.split(";");s=t?"":s;let l=!1;a[a.length-1]==="base64"&&(a.pop(),l=!0);let c=(a.shift()||"").toLowerCase(),f=[...a.map(m=>{let[h,p=""]=m.split("=").map(g=>g.trim());return h==="charset"&&(p=p.toLowerCase(),p===pot)?"":`${h}${p?`=${p}`:""}`}).filter(Boolean)];return l&&f.push("base64"),(f.length>0||c&&c!==hot)&&f.unshift(c),`data:${f.join(";")},${l?i.trim():i}${s?`#${s}`:""}`},"normalizeDataURL");function Aot(e,t){if(t={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...t},e=e.trim(),/^data:/i.test(e))return got(e,t);if(/^view-source:/i.test(e))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=e.startsWith("//");!r&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let i=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&i.protocol==="https:"&&(i.protocol="http:"),t.forceHttps&&i.protocol==="http:"&&(i.protocol="https:"),t.stripAuthentication&&(i.username="",i.password=""),t.stripHash?i.hash="":t.stripTextFragment&&(i.hash=i.hash.replace(/#?:~:text.*?$/i,"")),i.pathname){let a=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,l=0,c="";for(;;){let f=a.exec(i.pathname);if(!f)break;let m=f[0],h=f.index,p=i.pathname.slice(l,h);c+=p.replace(/\/{2,}/g,"/"),c+=m,l=h+m.length}let u=i.pathname.slice(l,i.pathname.length);c+=u.replace(/\/{2,}/g,"/"),i.pathname=c}if(i.pathname)try{i.pathname=decodeURI(i.pathname)}catch{}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let a=i.pathname.split("/"),l=a[a.length-1];ICe(l,t.removeDirectoryIndex)&&(a=a.slice(0,-1),i.pathname=a.slice(1).join("/")+"/")}if(i.hostname&&(i.hostname=i.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(i.hostname)&&(i.hostname=i.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let a of[...i.searchParams.keys()])ICe(a,t.removeQueryParameters)&&i.searchParams.delete(a);if(t.removeQueryParameters===!0&&(i.search=""),t.sortQueryParameters){i.searchParams.sort();try{i.search=decodeURIComponent(i.search)}catch{}}t.removeTrailingSlash&&(i.pathname=i.pathname.replace(/\/$/,""));let s=e;return e=i.toString(),!t.removeSingleSlash&&i.pathname==="/"&&!s.endsWith("/")&&i.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||i.pathname==="/")&&i.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),r&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}o(Aot,"normalizeUrl");var yot=Object.freeze({__proto__:null,default:Aot}),Cot=mot(yot);Object.defineProperty(TCe,"__esModule",{value:!0});var xot=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vot=Cot,bot=wCe(vot),Eot=dot.default,Iot=wCe(Eot);function wCe(e){return e&&e.__esModule?e:{default:e}}o(wCe,"_interopRequireDefault");var _Ce=o(function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=/^(?:([a-zA-Z_][a-zA-Z0-9_-]{0,31})@|https?:\/\/)([\w\.\-@]+)[\/:](([\~,\.\w,\-,\_,\/,\s]|%[0-9A-Fa-f]{2})+?(?:\.git|\/)?)$/,i=o(function(c){var u=new Error(c);throw u.subject_url=t,u},"throwErr");(typeof t!="string"||!t.trim())&&i("Invalid url."),t.length>e.MAX_INPUT_LENGTH&&i("Input exceeds maximum length. If needed, change the value of parseUrl.MAX_INPUT_LENGTH."),r&&((typeof r>"u"?"undefined":xot(r))!=="object"&&(r={stripHash:!1}),t=(0,bot.default)(t,r));var s=(0,Iot.default)(t);if(s.parse_failed){var a=s.href.match(n);a?(s.protocols=["ssh"],s.protocol="ssh",s.resource=a[2],s.host=a[2],s.user=a[1],s.pathname="/"+a[3],s.parse_failed=!1):i("URL parsing failed.")}return s},"parseUrl");_Ce.MAX_INPUT_LENGTH=2048;var Tot=TCe.default=_Ce;SCe.exports=Tot});var DCe=j((Xhr,BCe)=>{"use strict";d();var wot=yZ();function RCe(e){if(Array.isArray(e))return e.indexOf("ssh")!==-1||e.indexOf("rsync")!==-1;if(typeof e!="string")return!1;var t=wot(e);if(e=e.substring(e.indexOf("://")+3),RCe(t))return!0;var r=new RegExp(".([a-zA-Z\\d]+):(\\d+)/");return!e.match(r)&&e.indexOf("@")<e.indexOf(":")}o(RCe,"isSsh");BCe.exports=RCe});var NCe=j((rpr,FCe)=>{"use strict";d();var _ot=kCe(),PCe=DCe();function Sot(e){let t=_ot(e);return t.token="",t.password==="x-oauth-basic"?t.token=t.user:t.user==="x-token-auth"&&(t.token=t.password),PCe(t.protocols)||t.protocols.length===0&&PCe(e)?t.protocol="ssh":t.protocols.length?t.protocol=t.protocols[0]:(t.protocol="file",t.protocols=["file"]),t.href=t.href.replace(/\/$/,""),t}o(Sot,"gitUp");FCe.exports=Sot});var QCe=j((opr,LCe)=>{"use strict";d();var kot=NCe();function CZ(e,t){if(t=t||[],typeof e!="string")throw new Error("The url must be a string.");if(!t.every(function(b){return typeof b=="string"}))throw new Error("The refs should contain only strings");var r=/^([a-z\d-]{1,39})\/([-\.\w]{1,100})$/i;r.test(e)&&(e="https://github.com/"+e);var n=kot(e),i=n.resource.split("."),s=null;switch(n.toString=function(b){return CZ.stringify(this,b)},n.source=i.length>2?i.slice(1-i.length).join("."):n.source=n.resource,n.git_suffix=/\.git$/.test(n.pathname),n.name=decodeURIComponent((n.pathname||n.href).replace(/(^\/)|(\/$)/g,"").replace(/\.git$/,"")),n.owner=decodeURIComponent(n.user),n.source){case"git.cloudforge.com":n.owner=n.user,n.organization=i[0],n.source="cloudforge.com";break;case"visualstudio.com":if(n.resource==="vs-ssh.visualstudio.com"){s=n.name.split("/"),s.length===4&&(n.organization=s[1],n.owner=s[2],n.name=s[3],n.full_name=s[2]+"/"+s[3]);break}else{s=n.name.split("/"),s.length===2?(n.owner=s[1],n.name=s[1],n.full_name="_git/"+n.name):s.length===3?(n.name=s[2],s[0]==="DefaultCollection"?(n.owner=s[2],n.organization=s[0],n.full_name=n.organization+"/_git/"+n.name):(n.owner=s[0],n.full_name=n.owner+"/_git/"+n.name)):s.length===4&&(n.organization=s[0],n.owner=s[1],n.name=s[3],n.full_name=n.organization+"/"+n.owner+"/_git/"+n.name);break}case"dev.azure.com":case"azure.com":if(n.resource==="ssh.dev.azure.com"){s=n.name.split("/"),s.length===4&&(n.organization=s[1],n.owner=s[2],n.name=s[3]);break}else{s=n.name.split("/"),s.length===5?(n.organization=s[0],n.owner=s[1],n.name=s[4],n.full_name="_git/"+n.name):s.length===3?(n.name=s[2],s[0]==="DefaultCollection"?(n.owner=s[2],n.organization=s[0],n.full_name=n.organization+"/_git/"+n.name):(n.owner=s[0],n.full_name=n.owner+"/_git/"+n.name)):s.length===4&&(n.organization=s[0],n.owner=s[1],n.name=s[3],n.full_name=n.organization+"/"+n.owner+"/_git/"+n.name),n.query&&n.query.path&&(n.filepath=n.query.path.replace(/^\/+/g,"")),n.query&&n.query.version&&(n.ref=n.query.version.replace(/^GB/,""));break}default:s=n.name.split("/");var a=s.length-1;if(s.length>=2){var l=s.indexOf("-",2),c=s.indexOf("blob",2),u=s.indexOf("tree",2),f=s.indexOf("commit",2),m=s.indexOf("issues",2),h=s.indexOf("src",2),p=s.indexOf("raw",2),g=s.indexOf("edit",2);a=l>0?l-1:c>0&&u>0?Math.min(c-1,u-1):c>0?c-1:m>0?m-1:u>0?u-1:f>0?f-1:h>0?h-1:p>0?p-1:g>0?g-1:a,n.owner=s.slice(0,a).join("/"),n.name=s[a],f&&m<0&&(n.commit=s[a+2])}n.ref="",n.filepathtype="",n.filepath="";var x=s.length>a&&s[a+1]==="-"?a+1:a;s.length>x+2&&["raw","src","blob","tree","edit"].indexOf(s[x+1])>=0&&(n.filepathtype=s[x+1],n.ref=s[x+2],s.length>x+3&&(n.filepath=s.slice(x+3).join("/"))),n.organization=n.owner;break}n.full_name||(n.full_name=n.owner,n.name&&(n.full_name&&(n.full_name+="/"),n.full_name+=n.name)),n.owner.startsWith("scm/")&&(n.source="bitbucket-server",n.owner=n.owner.replace("scm/",""),n.organization=n.owner,n.full_name=n.owner+"/"+n.name);var v=/(projects|users)\/(.*?)\/repos\/(.*?)((\/.*$)|$)/,E=v.exec(n.pathname);return E!=null&&(n.source="bitbucket-server",E[1]==="users"?n.owner="~"+E[2]:n.owner=E[2],n.organization=n.owner,n.name=E[3],s=E[4].split("/"),s.length>1&&(["raw","browse"].indexOf(s[1])>=0?(n.filepathtype=s[1],s.length>2&&(n.filepath=s.slice(2).join("/"))):s[1]==="commits"&&s.length>2&&(n.commit=s[2])),n.full_name=n.owner+"/"+n.name,n.query.at?n.ref=n.query.at:n.ref=""),t.length!==0&&n.ref&&(n.ref=Dot(n.href,t)||n.ref,n.filepath=n.href.split(n.ref+"/")[1]),n}o(CZ,"gitUrlParse");CZ.stringify=function(e,t){t=t||(e.protocols&&e.protocols.length?e.protocols.join("+"):e.protocol);var r=e.port?":"+e.port:"",n=e.user||"git",i=e.git_suffix?".git":"";switch(t){case"ssh":return r?"ssh://"+n+"@"+e.resource+r+"/"+e.full_name+i:n+"@"+e.resource+":"+e.full_name+i;case"git+ssh":case"ssh+git":case"ftp":case"ftps":return t+"://"+n+"@"+e.resource+r+"/"+e.full_name+i;case"http":case"https":var s=e.token?Rot(e):e.user&&(e.protocols.includes("http")||e.protocols.includes("https"))?e.user+"@":"";return t+"://"+s+e.resource+r+"/"+Bot(e)+i;default:return e.href}};function Rot(e){switch(e.source){case"bitbucket.org":return"x-token-auth:"+e.token+"@";default:return e.token+"@"}}o(Rot,"buildToken");function Bot(e){switch(e.source){case"bitbucket-server":return"scm/"+e.full_name;default:var t=e.full_name.split("/").map(function(r){return encodeURIComponent(r)}).join("/");return t}}o(Bot,"buildPath");function Dot(e,t){var r="";return t.forEach(function(n){e.includes(n)&&n.length>r.length&&(r=n)}),r}o(Dot,"findLongestMatchingSubstring");LCe.exports=CZ});var GCe=j(Qp=>{"use strict";d();Object.defineProperty(Qp,"__esModule",{value:!0});Qp.bytePairEncode=Qp.BinaryMap=Qp.binaryMapKey=void 0;var Oot=o((e,t,r)=>{let n=r-t,i=16777215>>>Math.max(0,(3-n)*8),s=(e[t+0]|e[t+1]<<8|e[t+2]<<16)&i,a=16777215>>>Math.min(31,Math.max(0,(6-n)*8)),l=(e[t+3]|e[t+4]<<8|e[t+5]<<16)&a;return s+16777216*l},"binaryMapKey");Qp.binaryMapKey=Oot;var EZ=class e{static{o(this,"BinaryMap")}constructor(){this.nested=new Map,this.final=new Map}get(t,r=0,n=t.length){let i=n<6+r,s=(0,Qp.binaryMapKey)(t,r,n);return i?this.final.get(s):this.nested.get(s)?.get(t,6+r,n)}set(t,r){let n=(0,Qp.binaryMapKey)(t,0,t.length);if(t.length<6){this.final.set(n,r);return}let s=this.nested.get(n);if(s instanceof e)s.set(t.subarray(6),r);else{let a=new e;a.set(t.subarray(6),r),this.nested.set(n,a)}}};Qp.BinaryMap=EZ;var Lp=new Int32Array(128),i0=new Int32Array(128);function Uot(e,t,r){if(r===1)return[t.get(e)];let n=2147483647,i=-1;for(;Lp.length<r*2;)i0=new Int32Array(i0.length*2),Lp=new Int32Array(Lp.length*2);for(let c=0;c<r-1;c++){let u=t.get(e,c,c+2)??2147483647;u<n&&(n=u,i=c),i0[c]=c,Lp[c]=u}i0[r-1]=r-1,Lp[r-1]=2147483647,i0[r]=r,Lp[r]=2147483647;let s=r+1;function a(c,u=0){if(c+u+2<s){let f=t.get(e,i0[c],i0[c+u+2]);if(f!==void 0)return f}return 2147483647}for(o(a,"getRank");n!==2147483647;){Lp[i0[i]]=a(i,1),i>0&&(Lp[i0[i-1]]=a(i-1,1));for(let c=i+1;c<s-1;c++)i0[c]=i0[c+1];s--,i=-1,n=2147483647;for(let c=0;c<s-1;c++){let u=Lp[i0[c]];Lp[i0[c]]<n&&(n=u,i=c)}}let l=[];for(let c=0;c<s-1;c++)l.push(t.get(e,i0[c],i0[c+1]));return l}o(Uot,"bytePairEncode");Qp.bytePairEncode=Uot});var HCe=j(TN=>{"use strict";d();Object.defineProperty(TN,"__esModule",{value:!0});TN.makeTextEncoder=void 0;var IZ=class{static{o(this,"UniversalTextEncoder")}constructor(){this.length=0,this.encoder=new TextEncoder}encode(t){let r=this.encoder.encode(t);return this.length=r.length,r}},TZ=class{static{o(this,"NodeTextEncoder")}constructor(){this.buffer=Buffer.alloc(256),this.length=0}encode(t){for(;;){if(this.length=this.buffer.write(t,"utf8"),this.length<this.buffer.length-4)return this.buffer;this.buffer=Buffer.alloc(this.length*2),this.length=this.buffer.write(t)}}},qot=o(()=>typeof Buffer<"u"?new TZ:new IZ,"makeTextEncoder");TN.makeTextEncoder=qot});var jCe=j(wN=>{"use strict";d();Object.defineProperty(wN,"__esModule",{value:!0});wN.LRUCache=void 0;var wZ=class{static{o(this,"LRUCache")}constructor(t){this.size=t,this.nodes=new Map}get(t){let r=this.nodes.get(t);if(r)return this.moveToHead(r),r.value}set(t,r){let n=this.nodes.get(t);if(n)n.value=r,this.moveToHead(n);else{let i=new _Z(t,r);this.nodes.set(t,i),this.addNode(i),this.nodes.size>this.size&&(this.nodes.delete(this.tail.key),this.removeNode(this.tail))}}moveToHead(t){this.removeNode(t),t.next=void 0,t.prev=void 0,this.addNode(t)}addNode(t){this.head&&(this.head.prev=t,t.next=this.head),this.tail||(this.tail=t),this.head=t}removeNode(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev}};wN.LRUCache=wZ;var _Z=class{static{o(this,"Node")}constructor(t,r){this.key=t,this.value=r}}});var kZ=j(SN=>{"use strict";d();Object.defineProperty(SN,"__esModule",{value:!0});SN.TikTokenizer=void 0;var _N=GCe(),Wot=HCe(),Got=jCe();function Hot(e){let t=new Map;try{let i=require("fs").readFileSync(e,"utf-8");return r(i),t}catch(n){throw new Error(`Failed to load from BPE encoder file stream: ${n}`)}function r(n){for(let i of n.split(/[\r\n]+/)){if(i.trim()==="")continue;let s=i.split(" ");if(s.length!==2)throw new Error("Invalid format in the BPE encoder file stream");let a=new Uint8Array(Buffer.from(s[0],"base64")),l=parseInt(s[1]);if(!isNaN(l))t.set(a,l);else throw new Error(`Can't parse ${s[1]} to integer`)}}o(r,"processBpeRanks")}o(Hot,"loadTikTokenBpe");function jot(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(jot,"escapeRegExp");var SZ=class{static{o(this,"TikTokenizer")}constructor(t,r,n,i=8192){this.textEncoder=(0,Wot.makeTextEncoder)(),this.textDecoder=new TextDecoder("utf-8"),this.cache=new Got.LRUCache(i);let s=typeof t=="string"?Hot(t):t;this.init(s,r,n)}init(t,r,n){this.encoder=new _N.BinaryMap;for(let[i,s]of t)this.encoder.set(i,s);this.regex=new RegExp(n,"gu"),this.specialTokensRegex=new RegExp(Array.from(r.keys()).map(i=>jot(i)).join("|")),this.specialTokensEncoder=r,this.decoder=new Map;for(let[i,s]of t)this.decoder.set(s,i);if(t.size!==this.decoder.size)throw new Error("Encoder and decoder sizes do not match");this.specialTokensDecoder=new Map;for(let[i,s]of r)this.specialTokensDecoder.set(s,i)}findNextSpecialToken(t,r,n){let i=r,s=null;if(n&&this.specialTokensRegex)for(;s=t.slice(i).match(this.specialTokensRegex),!(!s||n&&n.includes(s[0]));)i+=s.index+1;let a=s?i+s.index:t.length;return[s,a]}encode(t,r){let n=[],i=0;for(;;){let s,a;if([s,a]=this.findNextSpecialToken(t,i,r),a>i&&this.encodeByIndex(t,n,i,a),s){if(i=i+this.encodeSpecialToken(n,s),i>=t.length)break}else break}return n}encodeSpecialToken(t,r){let n=this.specialTokensEncoder?.get(r[0]);return t.push(n),r.index+r[0].length}encodeByIndex(t,r,n,i){let s,a=t.substring(n,i);for(this.regex.lastIndex=0;s=this.regex.exec(a);){let l=this.cache.get(s[0]);if(l)for(let c of l)r.push(c);else{let c=this.textEncoder.encode(s[0]),u=this.encoder.get(c,0,this.textEncoder.length);if(u!==void 0)r.push(u),this.cache.set(s[0],[u]);else{let f=(0,_N.bytePairEncode)(c,this.encoder,this.textEncoder.length);for(let m of f)r.push(m);this.cache.set(s[0],f)}}}}encodeTrimSuffixByIndex(t,r,n,i,s,a,l){let c,u=t.substring(n,i);for(this.regex.lastIndex=0;c=this.regex.exec(u);){let f=c[0],m=this.cache.get(f);if(m)if(a+m.length<=s)a+=m.length,l+=f.length,r.push(...m);else{let h=s-a;a+=h,l+=f.length,r.push(...m.slice(0,h));break}else{let h=this.textEncoder.encode(f),p=this.encoder.get(h,0,h.length);if(p!==void 0)if(this.cache.set(f,[p]),a+1<=s)a++,l+=f.length,r.push(p);else break;else{let g=(0,_N.bytePairEncode)(h,this.encoder,this.textEncoder.length);if(this.cache.set(f,g),a+g.length<=s){a+=g.length,l+=f.length;for(let x of g)r.push(x)}else{let x=s-a;a+=x,l+=f.length;for(let v=0;v<x;v++)r.push(g[v]);break}}}if(a>=s)break}return{tokenCount:a,encodeLength:l}}encodeTrimSuffix(t,r,n){let i=[],s=0,a=0,l=0;for(;;){let u,f;if([u,f]=this.findNextSpecialToken(t,s,n),f>s){let{tokenCount:m,encodeLength:h}=this.encodeTrimSuffixByIndex(t,i,s,f,r,a,l);if(a=m,l=h,a>=r)break}if(u!==null){if(a++,a<=r&&(s=s+this.encodeSpecialToken(i,u),l+=u[0].length,s>=t.length)||a>=r)break}else break}let c=l===t.length?t:t.slice(0,l);return{tokenIds:i,text:c}}encodeTrimPrefix(t,r,n){let i=[],s=0,a=0,l=0,c=new Map;for(c.set(a,l);;){let h,p;if([h,p]=this.findNextSpecialToken(t,s,n),p>s){let g,x=t.substring(s,p);for(this.regex.lastIndex=0;g=this.regex.exec(x);){let v=g[0],E=this.cache.get(v);if(E)a+=E.length,l+=v.length,i.push(...E),c.set(a,l);else{let b=this.textEncoder.encode(v),_=this.encoder.get(b);if(_!==void 0)this.cache.set(v,[_]),a++,l+=v.length,i.push(_),c.set(a,l);else{let R=(0,_N.bytePairEncode)(b,this.encoder,this.textEncoder.length);this.cache.set(v,R),a+=R.length,l+=v.length;for(let P of R)i.push(P);c.set(a,l)}}}}if(h!==null){if(s=s+this.encodeSpecialToken(i,h),a++,l+=h[0].length,c.set(a,l),s>=t.length)break}else break}if(a<=r)return{tokenIds:i,text:t};let u=a-r,f=0,m=0;for(let[h,p]of c)if(h>=u){f=h,m=p;break}if(f>r){let h=this.encode(t,n),p=h.slice(h.length-r);return{tokenIds:p,text:this.decode(p)}}return{tokenIds:i.slice(f),text:t.slice(m)}}decode(t){let r=[];for(let n of t){let i=[],s=this.decoder?.get(n);if(s!==void 0)i=Array.from(s);else{let a=this.specialTokensDecoder?.get(n);if(a!==void 0){let l=this.textEncoder.encode(a);i=Array.from(l.subarray(0,this.textEncoder.length))}}r.push(...i)}return this.textDecoder.decode(new Uint8Array(r))}};SN.TikTokenizer=SZ});var t3e=j(Wa=>{"use strict";d();Object.defineProperty(Wa,"__esModule",{value:!0});Wa.createTokenizer=Wa.createByEncoderName=Wa.createByModelName=Wa.getRegexByModel=Wa.getRegexByEncoder=Wa.getSpecialTokensByModel=Wa.getSpecialTokensByEncoder=Wa.MODEL_TO_ENCODING=void 0;var Vot=kZ(),$ot=new Map([["gpt-4o-","o200k_base"],["gpt-4-","cl100k_base"],["gpt-3.5-turbo-","cl100k_base"],["gpt-35-turbo-","cl100k_base"]]);Wa.MODEL_TO_ENCODING=new Map([["gpt-4o","o200k_base"],["gpt-4","cl100k_base"],["gpt-3.5-turbo","cl100k_base"],["text-davinci-003","p50k_base"],["text-davinci-002","p50k_base"],["text-davinci-001","r50k_base"],["text-curie-001","r50k_base"],["text-babbage-001","r50k_base"],["text-ada-001","r50k_base"],["davinci","r50k_base"],["curie","r50k_base"],["babbage","r50k_base"],["ada","r50k_base"],["code-davinci-002","p50k_base"],["code-davinci-001","p50k_base"],["code-cushman-002","p50k_base"],["code-cushman-001","p50k_base"],["davinci-codex","p50k_base"],["cushman-codex","p50k_base"],["text-davinci-edit-001","p50k_edit"],["code-davinci-edit-001","p50k_edit"],["text-embedding-ada-002","cl100k_base"],["text-similarity-davinci-001","r50k_base"],["text-similarity-curie-001","r50k_base"],["text-similarity-babbage-001","r50k_base"],["text-similarity-ada-001","r50k_base"],["text-search-davinci-doc-001","r50k_base"],["text-search-curie-doc-001","r50k_base"],["text-search-babbage-doc-001","r50k_base"],["text-search-ada-doc-001","r50k_base"],["code-search-babbage-code-001","r50k_base"],["code-search-ada-code-001","r50k_base"],["gpt2","gpt2"]]);var kN="<|endoftext|>",VCe="<|fim_prefix|>",$Ce="<|fim_middle|>",zCe="<|fim_suffix|>",YCe="<|endofprompt|>",bw="'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+",KCe="(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+",zot=[`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]*[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]+(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]+[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]*(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,"\\p{N}{1,3}"," ?[^\\s\\p{L}\\p{N}]+[\\r\\n/]*","\\s*[\\r\\n]+","\\s+(?!\\S)","\\s+"],JCe=zot.join("|");function RZ(e){let t="";if(Wa.MODEL_TO_ENCODING.has(e))t=Wa.MODEL_TO_ENCODING.get(e);else for(let[r,n]of $ot)if(e.startsWith(r)){t=n;break}return t}o(RZ,"getEncoderFromModelName");async function Yot(e,t){let r=require("fs"),n=await fetch(e);if(!n.ok)throw new Error(`Failed to fetch file from ${e}. Status code: ${n.status}`);let i=await n.text();r.writeFileSync(t,i)}o(Yot,"fetchAndSaveFile");function BZ(e){let t=new Map([[kN,50256]]);switch(e){case"o200k_base":t=new Map([[kN,199999],[YCe,200018]]);break;case"cl100k_base":t=new Map([[kN,100257],[VCe,100258],[$Ce,100259],[zCe,100260],[YCe,100276]]);break;case"p50k_edit":t=new Map([[kN,50256],[VCe,50281],[$Ce,50282],[zCe,50283]]);break;default:break}return t}o(BZ,"getSpecialTokensByEncoder");Wa.getSpecialTokensByEncoder=BZ;function Kot(e){let t=RZ(e);return BZ(t)}o(Kot,"getSpecialTokensByModel");Wa.getSpecialTokensByModel=Kot;function ZCe(e){switch(e){case"o200k_base":return JCe;case"cl100k_base":return KCe;default:break}return bw}o(ZCe,"getRegexByEncoder");Wa.getRegexByEncoder=ZCe;function Jot(e){let t=RZ(e);return ZCe(t)}o(Jot,"getRegexByModel");Wa.getRegexByModel=Jot;async function Zot(e,t=null){return XCe(RZ(e),t)}o(Zot,"createByModelName");Wa.createByModelName=Zot;async function XCe(e,t=null){let r,n,i=BZ(e);switch(e){case"o200k_base":r=JCe,n="https://openaipublic.blob.core.windows.net/encodings/o200k_base.tiktoken";break;case"cl100k_base":r=KCe,n="https://openaipublic.blob.core.windows.net/encodings/cl100k_base.tiktoken";break;case"p50k_base":r=bw,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"p50k_edit":r=bw,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"r50k_base":r=bw,n="https://openaipublic.blob.core.windows.net/encodings/r50k_base.tiktoken";break;case"gpt2":r=bw,n="https://raw.githubusercontent.com/microsoft/Tokenizer/main/model/gpt2.tiktoken";break;default:throw new Error(`Doesn't support this encoder [${e}]`)}t!==null&&(i=new Map([...i,...t]));let s=require("fs"),a=require("path"),l=a.basename(n),c=a.resolve(__dirname,"..","model");s.existsSync(c)||s.mkdirSync(c,{recursive:!0});let u=a.resolve(c,l);return s.existsSync(u)||(console.log(`Downloading file from ${n}`),await Yot(n,u),console.log(`Saved file to ${u}`)),e3e(u,i,r)}o(XCe,"createByEncoderName");Wa.createByEncoderName=XCe;function e3e(e,t,r,n=8192){return new Vot.TikTokenizer(e,t,r,n)}o(e3e,"createTokenizer");Wa.createTokenizer=e3e});var r3e=j(Ga=>{"use strict";d();Object.defineProperty(Ga,"__esModule",{value:!0});Ga.createTokenizer=Ga.createByEncoderName=Ga.createByModelName=Ga.getSpecialTokensByModel=Ga.getSpecialTokensByEncoder=Ga.getRegexByModel=Ga.getRegexByEncoder=Ga.MODEL_TO_ENCODING=Ga.TikTokenizer=void 0;var Xot=kZ();Object.defineProperty(Ga,"TikTokenizer",{enumerable:!0,get:o(function(){return Xot.TikTokenizer},"get")});var Xy=t3e();Object.defineProperty(Ga,"MODEL_TO_ENCODING",{enumerable:!0,get:o(function(){return Xy.MODEL_TO_ENCODING},"get")});Object.defineProperty(Ga,"getRegexByEncoder",{enumerable:!0,get:o(function(){return Xy.getRegexByEncoder},"get")});Object.defineProperty(Ga,"getRegexByModel",{enumerable:!0,get:o(function(){return Xy.getRegexByModel},"get")});Object.defineProperty(Ga,"getSpecialTokensByEncoder",{enumerable:!0,get:o(function(){return Xy.getSpecialTokensByEncoder},"get")});Object.defineProperty(Ga,"getSpecialTokensByModel",{enumerable:!0,get:o(function(){return Xy.getSpecialTokensByModel},"get")});Object.defineProperty(Ga,"createByModelName",{enumerable:!0,get:o(function(){return Xy.createByModelName},"get")});Object.defineProperty(Ga,"createByEncoderName",{enumerable:!0,get:o(function(){return Xy.createByEncoderName},"get")});Object.defineProperty(Ga,"createTokenizer",{enumerable:!0,get:o(function(){return Xy.createTokenizer},"get")})});var u3e=j((exports,module)=>{d();var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;class Parser{static{o(this,"Parser")}constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=o((e,t)=>{throw t},"quit_"),ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(e){return Module.locateFile?Module.locateFile(e,scriptDirectory):scriptDirectory+e}o(locateFile,"locateFile");function logExceptionOnExit(e){e instanceof ExitStatus||err("exiting due to exception: "+e)}if(o(logExceptionOnExit,"logExceptionOnExit"),ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=require("path");scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=o((e,t)=>(e=isFileURI(e)?new URL(e):nodePath.normalize(e),fs.readFileSync(e,t?void 0:"utf8")),"read_"),readBinary=o(e=>{var t=read_(e,!0);return t.buffer||(t=new Uint8Array(t)),t},"readBinary"),readAsync=o((e,t,r)=>{e=isFileURI(e)?new URL(e):nodePath.normalize(e),fs.readFile(e,function(n,i){n?r(n):t(i.buffer)})},"readAsync"),process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=o((e,t)=>{if(keepRuntimeAlive())throw process.exitCode=e,t;logExceptionOnExit(t),process.exit(e)},"quit_"),Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=o(e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},"read_"),ENVIRONMENT_IS_WORKER&&(readBinary=o(e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)},"readBinary")),readAsync=o((e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{n.status==200||n.status==0&&n.response?t(n.response):r()},n.onerror=r,n.send(null)},"readAsync"),setWindowTitle=o(e=>document.title=e,"setWindowTitle"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(e,t,r){for(var n=t+r,i=t;e[i]&&!(i>=n);)++i;if(i-t>16&&e.buffer&&UTF8Decoder)return UTF8Decoder.decode(e.subarray(t,i));for(var s="";t<i;){var a=e[t++];if(128&a){var l=63&e[t++];if((224&a)!=192){var c=63&e[t++];if((a=(240&a)==224?(15&a)<<12|l<<6|c:(7&a)<<18|l<<12|c<<6|63&e[t++])<65536)s+=String.fromCharCode(a);else{var u=a-65536;s+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else s+=String.fromCharCode((31&a)<<6|l)}else s+=String.fromCharCode(a)}return s}o(UTF8ArrayToString,"UTF8ArrayToString");function UTF8ToString(e,t){return e?UTF8ArrayToString(HEAPU8,e,t):""}o(UTF8ToString,"UTF8ToString");function stringToUTF8Array(e,t,r,n){if(!(n>0))return 0;for(var i=r,s=r+n-1,a=0;a<e.length;++a){var l=e.charCodeAt(a);if(l>=55296&&l<=57343&&(l=65536+((1023&l)<<10)|1023&e.charCodeAt(++a)),l<=127){if(r>=s)break;t[r++]=l}else if(l<=2047){if(r+1>=s)break;t[r++]=192|l>>6,t[r++]=128|63&l}else if(l<=65535){if(r+2>=s)break;t[r++]=224|l>>12,t[r++]=128|l>>6&63,t[r++]=128|63&l}else{if(r+3>=s)break;t[r++]=240|l>>18,t[r++]=128|l>>12&63,t[r++]=128|l>>6&63,t[r++]=128|63&l}}return t[r]=0,r-i}o(stringToUTF8Array,"stringToUTF8Array");function stringToUTF8(e,t,r){return stringToUTF8Array(e,HEAPU8,t,r)}o(stringToUTF8,"stringToUTF8");function lengthBytesUTF8(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++r):t+=3}return t}o(lengthBytesUTF8,"lengthBytesUTF8");function updateGlobalBufferAndViews(e){buffer=e,Module.HEAP8=HEAP8=new Int8Array(e),Module.HEAP16=HEAP16=new Int16Array(e),Module.HEAP32=HEAP32=new Int32Array(e),Module.HEAPU8=HEAPU8=new Uint8Array(e),Module.HEAPU16=HEAPU16=new Uint16Array(e),Module.HEAPU32=HEAPU32=new Uint32Array(e),Module.HEAPF32=HEAPF32=new Float32Array(e),Module.HEAPF64=HEAPF64=new Float64Array(e)}o(updateGlobalBufferAndViews,"updateGlobalBufferAndViews");var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}o(keepRuntimeAlive,"keepRuntimeAlive");function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}o(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}o(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}o(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}o(postRun,"postRun");function addOnPreRun(e){__ATPRERUN__.unshift(e)}o(addOnPreRun,"addOnPreRun");function addOnInit(e){__ATINIT__.unshift(e)}o(addOnInit,"addOnInit");function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}o(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(e){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}o(addRunDependency,"addRunDependency");function removeRunDependency(e){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var t=dependenciesFulfilled;dependenciesFulfilled=null,t()}}o(removeRunDependency,"removeRunDependency");function abort(e){throw Module.onAbort&&Module.onAbort(e),err(e="Aborted("+e+")"),ABORT=!0,EXITSTATUS=1,e+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(e)}o(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(e){return e.startsWith(dataURIPrefix)}o(isDataURI,"isDataURI");function isFileURI(e){return e.startsWith("file://")}o(isFileURI,"isFileURI");function getBinary(e){try{if(e==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(e);throw"both async and sync fetching of the wasm failed"}catch(t){abort(t)}}o(getBinary,"getBinary");function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return e.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(e,t){readAsync(wasmBinaryFile,function(r){e(new Uint8Array(r))},t)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}o(getBinaryPromise,"getBinaryPromise");function createWasm(){var e={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function t(i,s){var a=i.exports;a=relocateExports(a,1024);var l=getDylinkMetadata(s);l.neededDynlibs&&(dynamicLibraries=l.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(a,"main"),Module.asm=a,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}o(t,"t");function r(i){t(i.instance,i.module)}o(r,"r");function n(i){return getBinaryPromise().then(function(s){return WebAssembly.instantiate(s,e)}).then(function(s){return s}).then(i,function(s){err("failed to asynchronously prepare wasm: "+s),abort(s)})}if(o(n,"_"),addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(e,t)}catch(i){return err("Module.instantiateWasm callback failed with error: "+i),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?n(r):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(i){return WebAssembly.instantiateStreaming(i,e).then(r,function(s){return err("wasm streaming compile failed: "+s),err("falling back to ArrayBuffer instantiation"),n(r)})}),{}}o(createWasm,"createWasm"),wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}o(ExitStatus,"ExitStatus");var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:o(function(e,t){var r=GOT[t];return r||(r=GOT[t]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(t)||(r.required=!0),r},"get")};function callRuntimeCallbacks(e){for(;e.length>0;)e.shift()(Module)}o(callRuntimeCallbacks,"callRuntimeCallbacks");function getDylinkMetadata(e){var t=0,r=0;function n(){for(var E=0,b=1;;){var _=e[t++];if(E+=(127&_)*b,b*=128,!(128&_))break}return E}o(n,"_");function i(){var E=n();return UTF8ArrayToString(e,(t+=E)-E,E)}o(i,"n");function s(E,b){if(E)throw new Error(b)}o(s,"s");var a="dylink.0";if(e instanceof WebAssembly.Module){var l=WebAssembly.Module.customSections(e,a);l.length===0&&(a="dylink",l=WebAssembly.Module.customSections(e,a)),s(l.length===0,"need dylink section"),r=(e=new Uint8Array(l[0])).length}else{s(new Uint32Array(new Uint8Array(e.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),s(e[8]!==0,"need the dylink section to be first"),t=9;var c=n();r=t+c,a=i()}var u={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(a=="dylink"){u.memorySize=n(),u.memoryAlign=n(),u.tableSize=n(),u.tableAlign=n();for(var f=n(),m=0;m<f;++m){var h=i();u.neededDynlibs.push(h)}}else for(s(a!=="dylink.0");t<r;){var p=e[t++],g=n();if(p===1)u.memorySize=n(),u.memoryAlign=n(),u.tableSize=n(),u.tableAlign=n();else if(p===2)for(f=n(),m=0;m<f;++m)h=i(),u.neededDynlibs.push(h);else if(p===3)for(var x=n();x--;){var v=i();256&n()&&u.tlsExports.add(v)}else if(p===4)for(x=n();x--;)i(),v=i(),(3&n())==1&&u.weakImports.add(v);else t+=g}return u}o(getDylinkMetadata,"getDylinkMetadata");function getValue(e,t="i8"){switch(t.endsWith("*")&&(t="*"),t){case"i1":case"i8":return HEAP8[e>>0];case"i16":return HEAP16[e>>1];case"i32":case"i64":return HEAP32[e>>2];case"float":return HEAPF32[e>>2];case"double":return HEAPF64[e>>3];case"*":return HEAPU32[e>>2];default:abort("invalid type for getValue: "+t)}return null}o(getValue,"getValue");function asmjsMangle(e){return e.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(e)?e:"_"+e}o(asmjsMangle,"asmjsMangle");function mergeLibSymbols(e,t){for(var r in e)if(e.hasOwnProperty(r)){asmLibraryArg.hasOwnProperty(r)||(asmLibraryArg[r]=e[r]);var n=asmjsMangle(r);Module.hasOwnProperty(n)||(Module[n]=e[r]),r=="__main_argc_argv"&&(Module._main=e[r])}}o(mergeLibSymbols,"mergeLibSymbols");var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(e,t,r){var n=Module["dynCall_"+e];return r&&r.length?n.apply(null,[t].concat(r)):n.call(null,t)}o(dynCallLegacy,"dynCallLegacy");var wasmTableMirror=[];function getWasmTableEntry(e){var t=wasmTableMirror[e];return t||(e>=wasmTableMirror.length&&(wasmTableMirror.length=e+1),wasmTableMirror[e]=t=wasmTable.get(e)),t}o(getWasmTableEntry,"getWasmTableEntry");function dynCall(e,t,r){return e.includes("j")?dynCallLegacy(e,t,r):getWasmTableEntry(t).apply(null,r)}o(dynCall,"dynCall");function createInvokeFunction(e){return function(){var t=stackSave();try{return dynCall(e,arguments[0],Array.prototype.slice.call(arguments,1))}catch(r){if(stackRestore(t),r!==r+0)throw r;_setThrew(1,0)}}}o(createInvokeFunction,"createInvokeFunction");var ___heap_base=78144;function zeroMemory(e,t){return HEAPU8.fill(0,e,e+t),e}o(zeroMemory,"zeroMemory");function getMemory(e){if(runtimeInitialized)return zeroMemory(_malloc(e),e);var t=___heap_base,r=t+e+15&-16;return ___heap_base=r,GOT.__heap_base.value=r,t}o(getMemory,"getMemory");function isInternalSym(e){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(e)}o(isInternalSym,"isInternalSym");function uleb128Encode(e,t){e<128?t.push(e):t.push(e%128|128,e>>7)}o(uleb128Encode,"uleb128Encode");function sigToWasmTypes(e){for(var t={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},r={parameters:[],results:e[0]=="v"?[]:[t[e[0]]]},n=1;n<e.length;++n)r.parameters.push(t[e[n]]),e[n]==="j"&&r.parameters.push("i32");return r}o(sigToWasmTypes,"sigToWasmTypes");function generateFuncType(e,t){var r=e.slice(0,1),n=e.slice(1),i={i:127,p:127,j:126,f:125,d:124};t.push(96),uleb128Encode(n.length,t);for(var s=0;s<n.length;++s)t.push(i[n[s]]);r=="v"?t.push(0):t.push(1,i[r])}o(generateFuncType,"generateFuncType");function convertJsFunctionToWasm(e,t){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(t),e);var r=[1];generateFuncType(t,r);var n=[0,97,115,109,1,0,0,0,1];uleb128Encode(r.length,n),n.push.apply(n,r),n.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var i=new WebAssembly.Module(new Uint8Array(n));return new WebAssembly.Instance(i,{e:{f:e}}).exports.f}o(convertJsFunctionToWasm,"convertJsFunctionToWasm");function updateTableMap(e,t){if(functionsInTableMap)for(var r=e;r<e+t;r++){var n=getWasmTableEntry(r);n&&functionsInTableMap.set(n,r)}}o(updateTableMap,"updateTableMap");var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(e){throw e instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":e}return wasmTable.length-1}o(getEmptyTableSlot,"getEmptyTableSlot");function setWasmTableEntry(e,t){wasmTable.set(e,t),wasmTableMirror[e]=wasmTable.get(e)}o(setWasmTableEntry,"setWasmTableEntry");function addFunction(e,t){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(e))return functionsInTableMap.get(e);var r=getEmptyTableSlot();try{setWasmTableEntry(r,e)}catch(n){if(!(n instanceof TypeError))throw n;setWasmTableEntry(r,convertJsFunctionToWasm(e,t))}return functionsInTableMap.set(e,r),r}o(addFunction,"addFunction");function updateGOT(e,t){for(var r in e)if(!isInternalSym(r)){var n=e[r];r.startsWith("orig$")&&(r=r.split("$")[1],t=!0),GOT[r]||(GOT[r]=new WebAssembly.Global({value:"i32",mutable:!0})),(t||GOT[r].value==0)&&(typeof n=="function"?GOT[r].value=addFunction(n):typeof n=="number"?GOT[r].value=n:err("unhandled export type for `"+r+"`: "+typeof n))}}o(updateGOT,"updateGOT");function relocateExports(e,t,r){var n={};for(var i in e){var s=e[i];typeof s=="object"&&(s=s.value),typeof s=="number"&&(s+=t),n[i]=s}return updateGOT(n,r),n}o(relocateExports,"relocateExports");function resolveGlobalSymbol(e,t){var r;return t&&(r=asmLibraryArg["orig$"+e]),r||(r=asmLibraryArg[e])&&r.stub&&(r=void 0),r||(r=Module[asmjsMangle(e)]),!r&&e.startsWith("invoke_")&&(r=createInvokeFunction(e.split("_")[1])),r}o(resolveGlobalSymbol,"resolveGlobalSymbol");function alignMemory(e,t){return Math.ceil(e/t)*t}o(alignMemory,"alignMemory");function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(e){var t=resolveGlobalSymbol(e,!1);return t||(t=moduleExports[e]),t}o(resolveSymbol,"resolveSymbol"),tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:o(function(e,t){switch(t){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(t in asmLibraryArg)return asmLibraryArg[t];var r;return t in e||(e[t]=function(){return r||(r=resolveSymbol(t)),r.apply(null,arguments)}),e[t]},"get")},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(o(addEmAsm,"addEmAsm"),updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(o(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(e){return postInstantiation(e.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return o(loadModule,"loadModule"),CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(e,t){return e.then(function(){return loadDynamicLibrary(t,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(e){loadDynamicLibrary(e,flags)}),loadModule())}o(loadWebAssemblyModule,"loadWebAssemblyModule");function loadDynamicLibrary(e,t,r){t=t||{global:!0,nodelete:!0};var n=LDSO.loadedLibsByName[e];if(n)return t.global&&!n.global&&(n.global=!0,n.module!=="loading"&&mergeLibSymbols(n.module,e)),t.nodelete&&n.refcount!==1/0&&(n.refcount=1/0),n.refcount++,r&&(LDSO.loadedLibsByHandle[r]=n),!t.loadAsync||Promise.resolve(!0);function i(l){if(t.fs&&t.fs.findObject(l)){var c=t.fs.readFile(l,{encoding:"binary"});return c instanceof Uint8Array||(c=new Uint8Array(c)),t.loadAsync?Promise.resolve(c):c}if(l=locateFile(l),t.loadAsync)return new Promise(function(u,f){readAsync(l,m=>u(new Uint8Array(m)),f)});if(!readBinary)throw new Error(l+": file not found, and synchronous loading of external files is not available");return readBinary(l)}o(i,"n");function s(){if(typeof preloadedWasm<"u"&&preloadedWasm[e]){var l=preloadedWasm[e];return t.loadAsync?Promise.resolve(l):l}return t.loadAsync?i(e).then(function(c){return loadWebAssemblyModule(c,t,r)}):loadWebAssemblyModule(i(e),t,r)}o(s,"s");function a(l){n.global&&mergeLibSymbols(l,e),n.module=l}return o(a,"a"),n={refcount:t.nodelete?1/0:1,name:e,module:"loading",global:t.global},LDSO.loadedLibsByName[e]=n,r&&(LDSO.loadedLibsByHandle[r]=n),t.loadAsync?s().then(function(l){return a(l),!0}):(a(s()),!0)}o(loadDynamicLibrary,"loadDynamicLibrary");function reportUndefinedSymbols(){for(var e in GOT)if(GOT[e].value==0){var t=resolveGlobalSymbol(e,!0);if(!t&&!GOT[e].required)continue;if(typeof t=="function")GOT[e].value=addFunction(t,t.sig);else{if(typeof t!="number")throw new Error("bad export type for `"+e+"`: "+typeof t);GOT[e].value=t}}}o(reportUndefinedSymbols,"reportUndefinedSymbols");function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce(function(e,t){return e.then(function(){return loadDynamicLibrary(t,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")})):reportUndefinedSymbols()}o(preloadDylibs,"preloadDylibs");function setValue(e,t,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":case"i8":HEAP8[e>>0]=t;break;case"i16":HEAP16[e>>1]=t;break;case"i32":HEAP32[e>>2]=t;break;case"i64":tempI64=[t>>>0,(tempDouble=t,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case"float":HEAPF32[e>>2]=t;break;case"double":HEAPF64[e>>3]=t;break;case"*":HEAPU32[e>>2]=t;break;default:abort("invalid type for setValue: "+r)}}o(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}o(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic");function _abort(){abort("")}o(_abort,"_abort");function _emscripten_date_now(){return Date.now()}o(_emscripten_date_now,"_emscripten_date_now");function _emscripten_memcpy_big(e,t,r){HEAPU8.copyWithin(e,t,t+r)}o(_emscripten_memcpy_big,"_emscripten_memcpy_big");function getHeapMax(){return 2147483648}o(getHeapMax,"getHeapMax");function emscripten_realloc_buffer(e){try{return wasmMemory.grow(e-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}o(emscripten_realloc_buffer,"emscripten_realloc_buffer");function _emscripten_resize_heap(e){var t=HEAPU8.length;e>>>=0;var r=getHeapMax();if(e>r)return!1;for(var n=1;n<=4;n*=2){var i=t*(1+.2/n);if(i=Math.min(i,e+100663296),emscripten_realloc_buffer(Math.min(r,(s=Math.max(e,i))+((a=65536)-s%a)%a)))return!0}var s,a;return!1}o(_emscripten_resize_heap,"_emscripten_resize_heap"),__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:o(function(e,t,r){if(PATH.isAbs(t))return t;var n;if(e===-100?n=FS.cwd():n=SYSCALLS.getStreamFromFD(e).path,t.length==0){if(!r)throw new FS.ErrnoError(44);return n}return PATH.join2(n,t)},"calculateAt"),doStat:o(function(e,t,r){try{var n=e(t)}catch(l){if(l&&l.node&&PATH.normalize(t)!==PATH.normalize(FS.getPath(l.node)))return-54;throw l}HEAP32[r>>2]=n.dev,HEAP32[r+8>>2]=n.ino,HEAP32[r+12>>2]=n.mode,HEAPU32[r+16>>2]=n.nlink,HEAP32[r+20>>2]=n.uid,HEAP32[r+24>>2]=n.gid,HEAP32[r+28>>2]=n.rdev,tempI64=[n.size>>>0,(tempDouble=n.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+40>>2]=tempI64[0],HEAP32[r+44>>2]=tempI64[1],HEAP32[r+48>>2]=4096,HEAP32[r+52>>2]=n.blocks;var i=n.atime.getTime(),s=n.mtime.getTime(),a=n.ctime.getTime();return tempI64=[Math.floor(i/1e3)>>>0,(tempDouble=Math.floor(i/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+56>>2]=tempI64[0],HEAP32[r+60>>2]=tempI64[1],HEAPU32[r+64>>2]=i%1e3*1e3,tempI64=[Math.floor(s/1e3)>>>0,(tempDouble=Math.floor(s/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+72>>2]=tempI64[0],HEAP32[r+76>>2]=tempI64[1],HEAPU32[r+80>>2]=s%1e3*1e3,tempI64=[Math.floor(a/1e3)>>>0,(tempDouble=Math.floor(a/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+88>>2]=tempI64[0],HEAP32[r+92>>2]=tempI64[1],HEAPU32[r+96>>2]=a%1e3*1e3,tempI64=[n.ino>>>0,(tempDouble=n.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+104>>2]=tempI64[0],HEAP32[r+108>>2]=tempI64[1],0},"doStat"),doMsync:o(function(e,t,r,n,i){if(!FS.isFile(t.node.mode))throw new FS.ErrnoError(43);if(2&n)return 0;var s=HEAPU8.slice(e,e+r);FS.msync(t,s,i,r,n)},"doMsync"),varargs:void 0,get:o(function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},"get"),getStr:o(function(e){return UTF8ToString(e)},"getStr"),getStreamFromFD:o(function(e){var t=FS.getStream(e);if(!t)throw new FS.ErrnoError(8);return t},"getStreamFromFD")};function _proc_exit(e){EXITSTATUS=e,keepRuntimeAlive()||(Module.onExit&&Module.onExit(e),ABORT=!0),quit_(e,new ExitStatus(e))}o(_proc_exit,"_proc_exit");function exitJS(e,t){EXITSTATUS=e,_proc_exit(e)}o(exitJS,"exitJS"),_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(e){try{var t=SYSCALLS.getStreamFromFD(e);return FS.close(t),0}catch(r){if(typeof FS>"u"||!(r instanceof FS.ErrnoError))throw r;return r.errno}}o(_fd_close,"_fd_close");function convertI32PairToI53Checked(e,t){return t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN}o(convertI32PairToI53Checked,"convertI32PairToI53Checked");function _fd_seek(e,t,r,n,i){try{var s=convertI32PairToI53Checked(t,r);if(isNaN(s))return 61;var a=SYSCALLS.getStreamFromFD(e);return FS.llseek(a,s,n),tempI64=[a.position>>>0,(tempDouble=a.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[i>>2]=tempI64[0],HEAP32[i+4>>2]=tempI64[1],a.getdents&&s===0&&n===0&&(a.getdents=null),0}catch(l){if(typeof FS>"u"||!(l instanceof FS.ErrnoError))throw l;return l.errno}}o(_fd_seek,"_fd_seek");function doWritev(e,t,r,n){for(var i=0,s=0;s<r;s++){var a=HEAPU32[t>>2],l=HEAPU32[t+4>>2];t+=8;var c=FS.write(e,HEAP8,a,l,n);if(c<0)return-1;i+=c,n!==void 0&&(n+=c)}return i}o(doWritev,"doWritev");function _fd_write(e,t,r,n){try{var i=doWritev(SYSCALLS.getStreamFromFD(e),t,r);return HEAPU32[n>>2]=i,0}catch(s){if(typeof FS>"u"||!(s instanceof FS.ErrnoError))throw s;return s.errno}}o(_fd_write,"_fd_write");function _tree_sitter_log_callback(e,t){if(currentLogCallback){let r=UTF8ToString(t);currentLogCallback(r,e!==0)}}o(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(e,t,r,n,i){var s=currentParseCallback(t,{row:r,column:n});typeof s=="string"?(setValue(i,s.length,"i32"),stringToUTF16(s,e,10240)):setValue(i,0,"i32")}o(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");function handleException(e){if(e instanceof ExitStatus||e=="unwind")return EXITSTATUS;quit_(1,e)}o(handleException,"handleException");function allocateUTF8OnStack(e){var t=lengthBytesUTF8(e)+1,r=stackAlloc(t);return stringToUTF8Array(e,HEAP8,r,t),r}o(allocateUTF8OnStack,"allocateUTF8OnStack");function stringToUTF16(e,t,r){if(r===void 0&&(r=2147483647),r<2)return 0;for(var n=t,i=(r-=2)<2*e.length?r/2:e.length,s=0;s<i;++s){var a=e.charCodeAt(s);HEAP16[t>>1]=a,t+=2}return HEAP16[t>>1]=0,t-n}o(stringToUTF16,"stringToUTF16");function AsciiToString(e){for(var t="";;){var r=HEAPU8[e++>>0];if(!r)return t;t+=String.fromCharCode(r)}}o(AsciiToString,"AsciiToString"),_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(e){var t=Module._main;if(t){(e=e||[]).unshift(thisProgram);var r=e.length,n=stackAlloc(4*(r+1)),i=n>>2;e.forEach(a=>{HEAP32[i++]=allocateUTF8OnStack(a)}),HEAP32[i]=0;try{var s=t(r,n);return exitJS(s,!0),s}catch(a){return handleException(a)}}}o(callMain,"callMain"),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=o(function e(){calledRun||run(),calledRun||(dependenciesFulfilled=e)},"e");var dylibsLoaded=!1;function run(e){function t(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(e),postRun()))}o(t,"t"),e=e||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),t()},1)):t()))}if(o(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;class ParserImpl{static{o(this,"ParserImpl")}static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(t){let r;if(t){if(t.constructor!==Language)throw new Error("Argument must be a Language");{r=t[0];let n=C._ts_language_version(r);if(n<MIN_COMPATIBLE_VERSION||VERSION<n)throw new Error(`Incompatible language version ${n}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else r=0,t=null;return this.language=t,C._ts_parser_set_language(this[0],r),this}getLanguage(){return this.language}parse(t,r,n){if(typeof t=="string")currentParseCallback=o((c,u,f)=>t.slice(c,f),"currentParseCallback");else{if(typeof t!="function")throw new Error("Argument must be a string or a function");currentParseCallback=t}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let i=0,s=0;if(n&&n.includedRanges){i=n.includedRanges.length,s=C._calloc(i,SIZE_OF_RANGE);let c=s;for(let u=0;u<i;u++)marshalRange(c,n.includedRanges[u]),c+=SIZE_OF_RANGE}let a=C._ts_parser_parse_wasm(this[0],this[1],r?r[0]:0,s,i);if(!a)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let l=new Tree(INTERNAL,a,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,l}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(t){C._ts_parser_set_timeout_micros(this[0],t)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(t){if(t){if(typeof t!="function")throw new Error("Logger callback must be a function")}else t=null;return this.logCallback=t,this}getLogger(){return this.logCallback}}class Tree{static{o(this,"Tree")}constructor(t,r,n,i){assertInternal(t),this[0]=r,this.language=n,this.textCallback=i}copy(){let t=C._ts_tree_copy(this[0]);return new Tree(INTERNAL,t,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(t){marshalEdit(t),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(t){if(t.constructor!==Tree)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],t[0]);let r=getValue(TRANSFER_BUFFER,"i32"),n=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),i=new Array(r);if(r>0){let s=n;for(let a=0;a<r;a++)i[a]=unmarshalRange(s),s+=SIZE_OF_RANGE;C._free(n)}return i}}class Node{static{o(this,"Node")}constructor(t,r){assertInternal(t),this.tree=r}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(t){return this.id===t.id}child(t){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],t),unmarshalNode(this.tree)}namedChild(t){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],t),unmarshalNode(this.tree)}childForFieldId(t){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],t),unmarshalNode(this.tree)}childForFieldName(t){let r=this.tree.language.fields.indexOf(t);if(r!==-1)return this.childForFieldId(r)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let t=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(t),t>0){let n=r;for(let i=0;i<t;i++)this._children[i]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let t=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(t),t>0){let n=r;for(let i=0;i<t;i++)this._namedChildren[i]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._namedChildren}descendantsOfType(t,r,n){Array.isArray(t)||(t=[t]),r||(r=ZERO_POINT),n||(n=ZERO_POINT);let i=[],s=this.tree.language.types;for(let f=0,m=s.length;f<m;f++)t.includes(s[f])&&i.push(f);let a=C._malloc(SIZE_OF_INT*i.length);for(let f=0,m=i.length;f<m;f++)setValue(a+f*SIZE_OF_INT,i[f],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],a,i.length,r.row,r.column,n.row,n.column);let l=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),u=new Array(l);if(l>0){let f=c;for(let m=0;m<l;m++)u[m]=unmarshalNode(this.tree,f),f+=SIZE_OF_NODE}return C._free(c),C._free(a),u}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(t,r=t){if(typeof t!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,t,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(t,r=t){if(typeof t!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,t,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(t,r=t){if(!isPoint(t)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,t),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(t,r=t){if(!isPoint(t)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,t),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let t=C._ts_node_to_string_wasm(this.tree[0]),r=AsciiToString(t);return C._free(t),r}}class TreeCursor{static{o(this,"TreeCursor")}constructor(t,r){assertInternal(t),this.tree=r,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(t){marshalNode(t),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let t=C._ts_tree_cursor_start_index_wasm(this.tree[0]),r=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,t,r)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}gotoNextSibling(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}gotoParent(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}}class Language{static{o(this,"Language")}constructor(t,r){assertInternal(t),this[0]=r,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let n=0,i=this.types.length;n<i;n++)C._ts_language_symbol_type(this[0],n)<2&&(this.types[n]=UTF8ToString(C._ts_language_symbol_name(this[0],n)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let n=0,i=this.fields.length;n<i;n++){let s=C._ts_language_field_name_for_id(this[0],n);this.fields[n]=s!==0?UTF8ToString(s):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(t){let r=this.fields.indexOf(t);return r!==-1?r:null}fieldNameForId(t){return this.fields[t]||null}idForNodeType(t,r){let n=lengthBytesUTF8(t),i=C._malloc(n+1);stringToUTF8(t,i,n+1);let s=C._ts_language_symbol_for_name(this[0],i,n,r);return C._free(i),s||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(t){let r=C._ts_language_symbol_name(this[0],t);return r?UTF8ToString(r):null}nodeTypeIsNamed(t){return!!C._ts_language_type_is_named_wasm(this[0],t)}nodeTypeIsVisible(t){return!!C._ts_language_type_is_visible_wasm(this[0],t)}query(t){let r=lengthBytesUTF8(t),n=C._malloc(r+1);stringToUTF8(t,n,r+1);let i=C._ts_query_new(this[0],n,r,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!i){let x=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),v=UTF8ToString(n,getValue(TRANSFER_BUFFER,"i32")).length,E=t.substr(v,100).split(`
`)[0],b,_=E.match(QUERY_WORD_REGEX)[0];switch(x){case 2:b=new RangeError(`Bad node name '${_}'`);break;case 3:b=new RangeError(`Bad field name '${_}'`);break;case 4:b=new RangeError(`Bad capture name @${_}`);break;case 5:b=new TypeError(`Bad pattern structure at offset ${v}: '${E}'...`),_="";break;default:b=new SyntaxError(`Bad syntax at offset ${v}: '${E}'...`),_=""}throw b.index=v,b.length=_.length,C._free(n),b}let s=C._ts_query_string_count(i),a=C._ts_query_capture_count(i),l=C._ts_query_pattern_count(i),c=new Array(a),u=new Array(s);for(let x=0;x<a;x++){let v=C._ts_query_capture_name_for_id(i,x,TRANSFER_BUFFER),E=getValue(TRANSFER_BUFFER,"i32");c[x]=UTF8ToString(v,E)}for(let x=0;x<s;x++){let v=C._ts_query_string_value_for_id(i,x,TRANSFER_BUFFER),E=getValue(TRANSFER_BUFFER,"i32");u[x]=UTF8ToString(v,E)}let f=new Array(l),m=new Array(l),h=new Array(l),p=new Array(l),g=new Array(l);for(let x=0;x<l;x++){let v=C._ts_query_predicates_for_pattern(i,x,TRANSFER_BUFFER),E=getValue(TRANSFER_BUFFER,"i32");p[x]=[],g[x]=[];let b=[],_=v;for(let R=0;R<E;R++){let P=getValue(_,"i32");_+=SIZE_OF_INT;let F=getValue(_,"i32");if(_+=SIZE_OF_INT,P===PREDICATE_STEP_TYPE_CAPTURE)b.push({type:"capture",name:c[F]});else if(P===PREDICATE_STEP_TYPE_STRING)b.push({type:"string",value:u[F]});else if(b.length>0){if(b[0].type!=="string")throw new Error("Predicates must begin with a literal value");let G=b[0].value,se=!0;switch(G){case"not-eq?":se=!1;case"eq?":if(b.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(b.length-1));if(b[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${b[1].value}"`);if(b[2].type==="capture"){let q=b[1].name,oe=b[2].name;g[x].push(function(X){let H,O;for(let V of X)V.name===q&&(H=V.node),V.name===oe&&(O=V.node);return H===void 0||O===void 0||H.text===O.text===se})}else{let q=b[1].name,oe=b[2].value;g[x].push(function(X){for(let H of X)if(H.name===q)return H.node.text===oe===se;return!0})}break;case"not-match?":se=!1;case"match?":if(b.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${b.length-1}.`);if(b[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${b[1].value}".`);if(b[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${b[2].value}.`);let Ae=b[1].name,re=new RegExp(b[2].value);g[x].push(function(q){for(let oe of q)if(oe.name===Ae)return re.test(oe.node.text)===se;return!0});break;case"set!":if(b.length<2||b.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${b.length-1}.`);if(b.some(q=>q.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');f[x]||(f[x]={}),f[x][b[1].value]=b[2]?b[2].value:null;break;case"is?":case"is-not?":if(b.length<2||b.length>3)throw new Error(`Wrong number of arguments to \`#${G}\` predicate. Expected 1 or 2. Got ${b.length-1}.`);if(b.some(q=>q.type!=="string"))throw new Error(`Arguments to \`#${G}\` predicate must be a strings.".`);let W=G==="is?"?m:h;W[x]||(W[x]={}),W[x][b[1].value]=b[2]?b[2].value:null;break;default:p[x].push({operator:G,operands:b.slice(1)})}b.length=0}}Object.freeze(f[x]),Object.freeze(m[x]),Object.freeze(h[x])}return C._free(n),new Query(INTERNAL,i,c,g,p,Object.freeze(f),Object.freeze(m),Object.freeze(h))}static load(t){let r;if(t instanceof Uint8Array)r=Promise.resolve(t);else{let i=t;if(typeof process<"u"&&process.versions&&process.versions.node){let s=require("fs");r=Promise.resolve(s.readFileSync(i))}else r=fetch(i).then(s=>s.arrayBuffer().then(a=>{if(s.ok)return new Uint8Array(a);{let l=new TextDecoder("utf-8").decode(a);throw new Error(`Language.load failed with status ${s.status}.

${l}`)}}))}let n=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return r.then(i=>n(i,{loadAsync:!0})).then(i=>{let s=Object.keys(i),a=s.find(c=>LANGUAGE_FUNCTION_REGEX.test(c)&&!c.includes("external_scanner_"));a||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(s,null,2)}`);let l=i[a]();return new Language(INTERNAL,l)})}}class Query{static{o(this,"Query")}constructor(t,r,n,i,s,a,l,c){assertInternal(t),this[0]=r,this.captureNames=n,this.textPredicates=i,this.predicates=s,this.setProperties=a,this.assertedProperties=l,this.refutedProperties=c,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(t,r,n,i){r||(r=ZERO_POINT),n||(n=ZERO_POINT),i||(i={});let s=i.matchLimit;if(s===void 0)s=0;else if(typeof s!="number")throw new Error("Arguments must be numbers");marshalNode(t),C._ts_query_matches_wasm(this[0],t.tree[0],r.row,r.column,n.row,n.column,s);let a=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),c=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),u=new Array(a);this.exceededMatchLimit=!!c;let f=0,m=l;for(let h=0;h<a;h++){let p=getValue(m,"i32");m+=SIZE_OF_INT;let g=getValue(m,"i32");m+=SIZE_OF_INT;let x=new Array(g);if(m=unmarshalCaptures(this,t.tree,m,x),this.textPredicates[p].every(v=>v(x))){u[f++]={pattern:p,captures:x};let v=this.setProperties[p];v&&(u[h].setProperties=v);let E=this.assertedProperties[p];E&&(u[h].assertedProperties=E);let b=this.refutedProperties[p];b&&(u[h].refutedProperties=b)}}return u.length=f,C._free(l),u}captures(t,r,n,i){r||(r=ZERO_POINT),n||(n=ZERO_POINT),i||(i={});let s=i.matchLimit;if(s===void 0)s=0;else if(typeof s!="number")throw new Error("Arguments must be numbers");marshalNode(t),C._ts_query_captures_wasm(this[0],t.tree[0],r.row,r.column,n.row,n.column,s);let a=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),c=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),u=[];this.exceededMatchLimit=!!c;let f=[],m=l;for(let h=0;h<a;h++){let p=getValue(m,"i32");m+=SIZE_OF_INT;let g=getValue(m,"i32");m+=SIZE_OF_INT;let x=getValue(m,"i32");if(m+=SIZE_OF_INT,f.length=g,m=unmarshalCaptures(this,t.tree,m,f),this.textPredicates[p].every(v=>v(f))){let v=f[x],E=this.setProperties[p];E&&(v.setProperties=E);let b=this.assertedProperties[p];b&&(v.assertedProperties=b);let _=this.refutedProperties[p];_&&(v.refutedProperties=_),u.push(v)}}return C._free(l),u}predicatesForPattern(t){return this.predicates[t]}didExceedMatchLimit(){return this.exceededMatchLimit}}function getText(e,t,r){let n=r-t,i=e.textCallback(t,null,r);for(t+=i.length;t<r;){let s=e.textCallback(t,null,r);if(!(s&&s.length>0))break;t+=s.length,i+=s}return t>r&&(i=i.slice(0,n)),i}o(getText,"getText");function unmarshalCaptures(e,t,r,n){for(let i=0,s=n.length;i<s;i++){let a=getValue(r,"i32"),l=unmarshalNode(t,r+=SIZE_OF_INT);r+=SIZE_OF_NODE,n[i]={name:e.captureNames[a],node:l}}return r}o(unmarshalCaptures,"unmarshalCaptures");function assertInternal(e){if(e!==INTERNAL)throw new Error("Illegal constructor")}o(assertInternal,"assertInternal");function isPoint(e){return e&&typeof e.row=="number"&&typeof e.column=="number"}o(isPoint,"isPoint");function marshalNode(e){let t=TRANSFER_BUFFER;setValue(t,e.id,"i32"),t+=SIZE_OF_INT,setValue(t,e.startIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.startPosition.row,"i32"),t+=SIZE_OF_INT,setValue(t,e.startPosition.column,"i32"),t+=SIZE_OF_INT,setValue(t,e[0],"i32")}o(marshalNode,"marshalNode");function unmarshalNode(e,t=TRANSFER_BUFFER){let r=getValue(t,"i32");if(r===0)return null;let n=getValue(t+=SIZE_OF_INT,"i32"),i=getValue(t+=SIZE_OF_INT,"i32"),s=getValue(t+=SIZE_OF_INT,"i32"),a=getValue(t+=SIZE_OF_INT,"i32"),l=new Node(INTERNAL,e);return l.id=r,l.startIndex=n,l.startPosition={row:i,column:s},l[0]=a,l}o(unmarshalNode,"unmarshalNode");function marshalTreeCursor(e,t=TRANSFER_BUFFER){setValue(t+0*SIZE_OF_INT,e[0],"i32"),setValue(t+1*SIZE_OF_INT,e[1],"i32"),setValue(t+2*SIZE_OF_INT,e[2],"i32")}o(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(e){e[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),e[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),e[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}o(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(e,t){setValue(e,t.row,"i32"),setValue(e+SIZE_OF_INT,t.column,"i32")}o(marshalPoint,"marshalPoint");function unmarshalPoint(e){return{row:getValue(e,"i32"),column:getValue(e+SIZE_OF_INT,"i32")}}o(unmarshalPoint,"unmarshalPoint");function marshalRange(e,t){marshalPoint(e,t.startPosition),marshalPoint(e+=SIZE_OF_POINT,t.endPosition),setValue(e+=SIZE_OF_POINT,t.startIndex,"i32"),setValue(e+=SIZE_OF_INT,t.endIndex,"i32"),e+=SIZE_OF_INT}o(marshalRange,"marshalRange");function unmarshalRange(e){let t={};return t.startPosition=unmarshalPoint(e),e+=SIZE_OF_POINT,t.endPosition=unmarshalPoint(e),e+=SIZE_OF_POINT,t.startIndex=getValue(e,"i32"),e+=SIZE_OF_INT,t.endIndex=getValue(e,"i32"),t}o(unmarshalRange,"unmarshalRange");function marshalEdit(e){let t=TRANSFER_BUFFER;marshalPoint(t,e.startPosition),t+=SIZE_OF_POINT,marshalPoint(t,e.oldEndPosition),t+=SIZE_OF_POINT,marshalPoint(t,e.newEndPosition),t+=SIZE_OF_POINT,setValue(t,e.startIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.oldEndIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.newEndIndex,"i32"),t+=SIZE_OF_INT}o(marshalEdit,"marshalEdit");for(let e of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(Parser.prototype,e,{value:ParserImpl.prototype[e],enumerable:!1,writable:!1});Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}}return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)});var pX=j((Nyr,O3e)=>{d();var hX=require("fs"),oL=require("path"),qw=oL.join,Rat=oL.dirname,Q3e=hX.accessSync&&function(e){try{hX.accessSync(e)}catch{return!1}return!0}||hX.existsSync||oL.existsSync,M3e={arrow:process.env.NODE_BINDINGS_ARROW||" \u2192 ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,nodePreGyp:"node-v"+process.versions.modules+"-"+process.platform+"-"+process.arch,version:process.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"],["module_root","compiled","platform","arch","bindings"]]};function Bat(e){typeof e=="string"?e={bindings:e}:e||(e={}),Object.keys(M3e).map(function(c){c in e||(e[c]=M3e[c])}),e.module_root||(e.module_root=Dat(__filename)),oL.extname(e.bindings)!=".node"&&(e.bindings+=".node");for(var t=typeof __webpack_require__=="function"?__non_webpack_require__:require,r=[],n=0,i=e.try.length,s,a,l;n<i;n++){s=qw.apply(null,e.try[n].map(function(c){return e[c]||c})),r.push(s);try{return a=e.path?t.resolve(s):t(s),e.path||(a.path=s),a}catch(c){if(c.code!=="MODULE_NOT_FOUND"&&c.code!=="QUALIFIED_PATH_RESOLUTION_FAILED"&&!/not find/i.test(c.message))throw c}}throw l=new Error(`Could not locate the bindings file. Tried:
`+r.map(function(c){return e.arrow+c}).join(`
`)),l.tries=r,l}o(Bat,"bindings");O3e.exports=Bat;function Dat(e){for(var t=Rat(e),r;;){if(t==="."&&(t=process.cwd()),Q3e(qw(t,"dist")))return qw(t,"dist");if(Q3e(qw(t,"compiled")))return t;if(r===t)throw new Error('Could not find module root given file: "'+e+'". Do you have a `dist` or `compiled` directory? ');r=t,t=qw(t,"..")}}o(Dat,"getRoot")});var q3e=j((Myr,U3e)=>{d();U3e.exports=pX()("node_sqlite3.node")});var H3e=j(G3e=>{d();var Pat=require("util");function Fat(e,t,r){let n=e[t];e[t]=function(){let i=new Error,s=e.constructor.name+"#"+t+"("+Array.prototype.slice.call(arguments).map(function(l){return Pat.inspect(l,!1,0)}).join(", ")+")";typeof r>"u"&&(r=-1),r<0&&(r+=arguments.length);let a=arguments[r];return typeof arguments[r]=="function"&&(arguments[r]=o(function(){let c=arguments[0];return c&&c.stack&&!c.__augmented&&(c.stack=W3e(c).join(`
`),c.stack+=`
--> in `+s,c.stack+=`
`+W3e(i).slice(1).join(`
`),c.__augmented=!0),a.apply(this,arguments)},"replacement")),n.apply(this,arguments)}}o(Fat,"extendTrace");G3e.extendTrace=Fat;function W3e(e){return e.stack.split(`
`).filter(function(t){return t.indexOf(__filename)<0})}o(W3e,"filter")});var z3e=j((V3e,$3e)=>{d();var Nat=require("path"),gd=q3e(),TI=require("events").EventEmitter;$3e.exports=V3e=gd;function wI(e){return function(t){let r,n=Array.prototype.slice.call(arguments,1);if(typeof n[n.length-1]=="function"){let s=n[n.length-1];r=o(function(a){a&&s(a)},"errBack")}let i=new sL(this,t,r);return e.call(this,i,n)}}o(wI,"normalizeMethod");function AX(e,t){for(let r in t.prototype)e.prototype[r]=t.prototype[r]}o(AX,"inherits");gd.cached={Database:o(function(e,t,r){if(e===""||e===":memory:")return new o0(e,t,r);let n;if(e=Nat.resolve(e),!gd.cached.objects[e])n=gd.cached.objects[e]=new o0(e,t,r);else{n=gd.cached.objects[e];let s=typeof t=="number"?r:t;if(typeof s=="function"){let a=function(){s.call(n,null)};var i=a;o(a,"cb"),n.open?process.nextTick(a):n.once("open",a)}}return n},"Database"),objects:{}};var o0=gd.Database,sL=gd.Statement,gX=gd.Backup;AX(o0,TI);AX(sL,TI);AX(gX,TI);o0.prototype.prepare=wI(function(e,t){return t.length?e.bind.apply(e,t):e});o0.prototype.run=wI(function(e,t){return e.run.apply(e,t).finalize(),this});o0.prototype.get=wI(function(e,t){return e.get.apply(e,t).finalize(),this});o0.prototype.all=wI(function(e,t){return e.all.apply(e,t).finalize(),this});o0.prototype.each=wI(function(e,t){return e.each.apply(e,t).finalize(),this});o0.prototype.map=wI(function(e,t){return e.map.apply(e,t).finalize(),this});o0.prototype.backup=function(){let e;return arguments.length<=2?e=new gX(this,arguments[0],"main","main",!0,arguments[1]):e=new gX(this,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),e.retryErrors=[gd.BUSY,gd.LOCKED],e};sL.prototype.map=function(){let e=Array.prototype.slice.call(arguments),t=e.pop();return e.push(function(r,n){if(r)return t(r);let i={};if(n.length){let s=Object.keys(n[0]),a=s[0];if(s.length>2)for(let l=0;l<n.length;l++)i[n[l][a]]=n[l];else{let l=s[1];for(let c=0;c<n.length;c++)i[n[c][a]]=n[c][l]}}t(r,i)}),this.all.apply(this,e)};var j3e=!1,yX=["trace","profile","change"];o0.prototype.addListener=o0.prototype.on=function(e){let t=TI.prototype.addListener.apply(this,arguments);return yX.indexOf(e)>=0&&this.configure(e,!0),t};o0.prototype.removeListener=function(e){let t=TI.prototype.removeListener.apply(this,arguments);return yX.indexOf(e)>=0&&!this._events[e]&&this.configure(e,!1),t};o0.prototype.removeAllListeners=function(e){let t=TI.prototype.removeAllListeners.apply(this,arguments);return yX.indexOf(e)>=0&&this.configure(e,!1),t};gd.verbose=function(){if(!j3e){let e=H3e();["prepare","get","run","all","each","map","close","exec"].forEach(function(t){e.extendTrace(o0.prototype,t)}),["bind","get","run","all","each","map","reset","finalize"].forEach(function(t){e.extendTrace(sL.prototype,t)}),j3e=!0}return gd}});var CL=j(ja=>{"use strict";d();Object.defineProperty(ja,"__esModule",{value:!0});ja.thenable=ja.typedArray=ja.stringArray=ja.array=ja.func=ja.error=ja.number=ja.string=ja.boolean=void 0;function Qat(e){return e===!0||e===!1}o(Qat,"boolean");ja.boolean=Qat;function X3e(e){return typeof e=="string"||e instanceof String}o(X3e,"string");ja.string=X3e;function Mat(e){return typeof e=="number"||e instanceof Number}o(Mat,"number");ja.number=Mat;function Oat(e){return e instanceof Error}o(Oat,"error");ja.error=Oat;function e4e(e){return typeof e=="function"}o(e4e,"func");ja.func=e4e;function t4e(e){return Array.isArray(e)}o(t4e,"array");ja.array=t4e;function Uat(e){return t4e(e)&&e.every(t=>X3e(t))}o(Uat,"stringArray");ja.stringArray=Uat;function qat(e,t){return Array.isArray(e)&&e.every(t)}o(qat,"typedArray");ja.typedArray=qat;function Wat(e){return e&&e4e(e.then)}o(Wat,"thenable");ja.thenable=Wat});var vX=j(Ad=>{"use strict";d();Object.defineProperty(Ad,"__esModule",{value:!0});Ad.generateUuid=Ad.parse=Ad.isUUID=Ad.v4=Ad.empty=void 0;var Hw=class{static{o(this,"ValueUUID")}constructor(t){this._value=t}asHex(){return this._value}equals(t){return this.asHex()===t.asHex()}},jw=class e extends Hw{static{o(this,"V4UUID")}static _oneOf(t){return t[Math.floor(t.length*Math.random())]}static _randomHex(){return e._oneOf(e._chars)}constructor(){super([e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),"-",e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),"-","4",e._randomHex(),e._randomHex(),e._randomHex(),"-",e._oneOf(e._timeHighBits),e._randomHex(),e._randomHex(),e._randomHex(),"-",e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex()].join(""))}};jw._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];jw._timeHighBits=["8","9","a","b"];Ad.empty=new Hw("00000000-0000-0000-0000-000000000000");function r4e(){return new jw}o(r4e,"v4");Ad.v4=r4e;var Gat=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function n4e(e){return Gat.test(e)}o(n4e,"isUUID");Ad.isUUID=n4e;function Hat(e){if(!n4e(e))throw new Error("invalid uuid");return new Hw(e)}o(Hat,"parse");Ad.parse=Hat;function jat(){return r4e().asHex()}o(jat,"generateUuid");Ad.generateUuid=jat});var i4e=j(r5=>{"use strict";d();Object.defineProperty(r5,"__esModule",{value:!0});r5.attachPartialResult=r5.ProgressFeature=r5.attachWorkDone=void 0;var t5=ti(),Vat=vX(),S4=class e{static{o(this,"WorkDoneProgressReporterImpl")}constructor(t,r){this._connection=t,this._token=r,e.Instances.set(this._token,this)}begin(t,r,n,i){let s={kind:"begin",title:t,percentage:r,message:n,cancellable:i};this._connection.sendProgress(t5.WorkDoneProgress.type,this._token,s)}report(t,r){let n={kind:"report"};typeof t=="number"?(n.percentage=t,r!==void 0&&(n.message=r)):n.message=t,this._connection.sendProgress(t5.WorkDoneProgress.type,this._token,n)}done(){e.Instances.delete(this._token),this._connection.sendProgress(t5.WorkDoneProgress.type,this._token,{kind:"end"})}};S4.Instances=new Map;var xL=class extends S4{static{o(this,"WorkDoneProgressServerReporterImpl")}constructor(t,r){super(t,r),this._source=new t5.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},Vw=class{static{o(this,"NullProgressReporter")}constructor(){}begin(){}report(){}done(){}},vL=class extends Vw{static{o(this,"NullProgressServerReporter")}constructor(){super(),this._source=new t5.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function $at(e,t){if(t===void 0||t.workDoneToken===void 0)return new Vw;let r=t.workDoneToken;return delete t.workDoneToken,new S4(e,r)}o($at,"attachWorkDone");r5.attachWorkDone=$at;var zat=o(e=>class extends e{constructor(){super(),this._progressSupported=!1}initialize(t){super.initialize(t),t?.window?.workDoneProgress===!0&&(this._progressSupported=!0,this.connection.onNotification(t5.WorkDoneProgressCancelNotification.type,r=>{let n=S4.Instances.get(r.token);(n instanceof xL||n instanceof vL)&&n.cancel()}))}attachWorkDoneProgress(t){return t===void 0?new Vw:new S4(this.connection,t)}createWorkDoneProgress(){if(this._progressSupported){let t=(0,Vat.generateUuid)();return this.connection.sendRequest(t5.WorkDoneProgressCreateRequest.type,{token:t}).then(()=>new xL(this.connection,t))}else return Promise.resolve(new vL)}},"ProgressFeature");r5.ProgressFeature=zat;var bX;(function(e){e.type=new t5.ProgressType})(bX||(bX={}));var EX=class{static{o(this,"ResultProgressReporterImpl")}constructor(t,r){this._connection=t,this._token=r}report(t){this._connection.sendProgress(bX.type,this._token,t)}};function Yat(e,t){if(t===void 0||t.partialResultToken===void 0)return;let r=t.partialResultToken;return delete t.partialResultToken,new EX(e,r)}o(Yat,"attachPartialResult");r5.attachPartialResult=Yat});var o4e=j(bL=>{"use strict";d();Object.defineProperty(bL,"__esModule",{value:!0});bL.ConfigurationFeature=void 0;var Kat=ti(),Jat=CL(),Zat=o(e=>class extends e{getConfiguration(t){return t?Jat.string(t)?this._getConfiguration({section:t}):this._getConfiguration(t):this._getConfiguration({})}_getConfiguration(t){let r={items:Array.isArray(t)?t:[t]};return this.connection.sendRequest(Kat.ConfigurationRequest.type,r).then(n=>Array.isArray(n)?Array.isArray(t)?n:n[0]:Array.isArray(t)?[]:null)}},"ConfigurationFeature");bL.ConfigurationFeature=Zat});var s4e=j(IL=>{"use strict";d();Object.defineProperty(IL,"__esModule",{value:!0});IL.WorkspaceFoldersFeature=void 0;var EL=ti(),Xat=o(e=>class extends e{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(t){super.initialize(t);let r=t.workspace;r&&r.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new EL.Emitter,this.connection.onNotification(EL.DidChangeWorkspaceFoldersNotification.type,n=>{this._onDidChangeWorkspaceFolders.fire(n.event)}))}fillServerCapabilities(t){super.fillServerCapabilities(t);let r=t.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=r===!0||typeof r=="string"}getWorkspaceFolders(){return this.connection.sendRequest(EL.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(EL.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}},"WorkspaceFoldersFeature");IL.WorkspaceFoldersFeature=Xat});var a4e=j(TL=>{"use strict";d();Object.defineProperty(TL,"__esModule",{value:!0});TL.CallHierarchyFeature=void 0;var IX=ti(),elt=o(e=>class extends e{get callHierarchy(){return{onPrepare:o(t=>this.connection.onRequest(IX.CallHierarchyPrepareRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0)),"onPrepare"),onIncomingCalls:o(t=>{let r=IX.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onIncomingCalls"),onOutgoingCalls:o(t=>{let r=IX.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onOutgoingCalls")}}},"CallHierarchyFeature");TL.CallHierarchyFeature=elt});var wX=j(n5=>{"use strict";d();Object.defineProperty(n5,"__esModule",{value:!0});n5.SemanticTokensBuilder=n5.SemanticTokensDiff=n5.SemanticTokensFeature=void 0;var wL=ti(),tlt=o(e=>class extends e{get semanticTokens(){return{refresh:o(()=>this.connection.sendRequest(wL.SemanticTokensRefreshRequest.type),"refresh"),on:o(t=>{let r=wL.SemanticTokensRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"on"),onDelta:o(t=>{let r=wL.SemanticTokensDeltaRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onDelta"),onRange:o(t=>{let r=wL.SemanticTokensRangeRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onRange")}}},"SemanticTokensFeature");n5.SemanticTokensFeature=tlt;var _L=class{static{o(this,"SemanticTokensDiff")}constructor(t,r){this.originalSequence=t,this.modifiedSequence=r}computeDiff(){let t=this.originalSequence.length,r=this.modifiedSequence.length,n=0;for(;n<r&&n<t&&this.originalSequence[n]===this.modifiedSequence[n];)n++;if(n<r&&n<t){let i=t-1,s=r-1;for(;i>=n&&s>=n&&this.originalSequence[i]===this.modifiedSequence[s];)i--,s--;(i<n||s<n)&&(i++,s++);let a=i-n+1,l=this.modifiedSequence.slice(n,s+1);return l.length===1&&l[0]===this.originalSequence[i]?[{start:n,deleteCount:a-1}]:[{start:n,deleteCount:a,data:l}]}else return n<r?[{start:n,deleteCount:0,data:this.modifiedSequence.slice(n)}]:n<t?[{start:n,deleteCount:t-n}]:[]}};n5.SemanticTokensDiff=_L;var TX=class{static{o(this,"SemanticTokensBuilder")}constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(t,r,n,i,s){let a=t,l=r;this._dataLen>0&&(a-=this._prevLine,a===0&&(l-=this._prevChar)),this._data[this._dataLen++]=a,this._data[this._dataLen++]=l,this._data[this._dataLen++]=n,this._data[this._dataLen++]=i,this._data[this._dataLen++]=s,this._prevLine=t,this._prevChar=r}get id(){return this._id.toString()}previousResult(t){this.id===t&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new _L(this._prevData,this._data).computeDiff()}:this.build()}};n5.SemanticTokensBuilder=TX});var l4e=j(SL=>{"use strict";d();Object.defineProperty(SL,"__esModule",{value:!0});SL.ShowDocumentFeature=void 0;var rlt=ti(),nlt=o(e=>class extends e{showDocument(t){return this.connection.sendRequest(rlt.ShowDocumentRequest.type,t)}},"ShowDocumentFeature");SL.ShowDocumentFeature=nlt});var c4e=j(kL=>{"use strict";d();Object.defineProperty(kL,"__esModule",{value:!0});kL.FileOperationsFeature=void 0;var SI=ti(),ilt=o(e=>class extends e{onDidCreateFiles(t){return this.connection.onNotification(SI.DidCreateFilesNotification.type,r=>{t(r)})}onDidRenameFiles(t){return this.connection.onNotification(SI.DidRenameFilesNotification.type,r=>{t(r)})}onDidDeleteFiles(t){return this.connection.onNotification(SI.DidDeleteFilesNotification.type,r=>{t(r)})}onWillCreateFiles(t){return this.connection.onRequest(SI.WillCreateFilesRequest.type,(r,n)=>t(r,n))}onWillRenameFiles(t){return this.connection.onRequest(SI.WillRenameFilesRequest.type,(r,n)=>t(r,n))}onWillDeleteFiles(t){return this.connection.onRequest(SI.WillDeleteFilesRequest.type,(r,n)=>t(r,n))}},"FileOperationsFeature");kL.FileOperationsFeature=ilt});var u4e=j(RL=>{"use strict";d();Object.defineProperty(RL,"__esModule",{value:!0});RL.LinkedEditingRangeFeature=void 0;var olt=ti(),slt=o(e=>class extends e{onLinkedEditingRange(t){return this.connection.onRequest(olt.LinkedEditingRangeRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0))}},"LinkedEditingRangeFeature");RL.LinkedEditingRangeFeature=slt});var f4e=j(BL=>{"use strict";d();Object.defineProperty(BL,"__esModule",{value:!0});BL.TypeHierarchyFeature=void 0;var _X=ti(),alt=o(e=>class extends e{get typeHierarchy(){return{onPrepare:o(t=>this.connection.onRequest(_X.TypeHierarchyPrepareRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0)),"onPrepare"),onSupertypes:o(t=>{let r=_X.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onSupertypes"),onSubtypes:o(t=>{let r=_X.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onSubtypes")}}},"TypeHierarchyFeature");BL.TypeHierarchyFeature=alt});var m4e=j(DL=>{"use strict";d();Object.defineProperty(DL,"__esModule",{value:!0});DL.InlineValueFeature=void 0;var d4e=ti(),llt=o(e=>class extends e{get inlineValue(){return{refresh:o(()=>this.connection.sendRequest(d4e.InlineValueRefreshRequest.type),"refresh"),on:o(t=>this.connection.onRequest(d4e.InlineValueRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r))),"on")}}},"InlineValueFeature");DL.InlineValueFeature=llt});var p4e=j(PL=>{"use strict";d();Object.defineProperty(PL,"__esModule",{value:!0});PL.FoldingRangeFeature=void 0;var h4e=ti(),clt=o(e=>class extends e{get foldingRange(){return{refresh:o(()=>this.connection.sendRequest(h4e.FoldingRangeRefreshRequest.type),"refresh"),on:o(t=>{let r=h4e.FoldingRangeRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"on")}}},"FoldingRangeFeature");PL.FoldingRangeFeature=clt});var g4e=j(FL=>{"use strict";d();Object.defineProperty(FL,"__esModule",{value:!0});FL.InlayHintFeature=void 0;var SX=ti(),ult=o(e=>class extends e{get inlayHint(){return{refresh:o(()=>this.connection.sendRequest(SX.InlayHintRefreshRequest.type),"refresh"),on:o(t=>this.connection.onRequest(SX.InlayHintRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r))),"on"),resolve:o(t=>this.connection.onRequest(SX.InlayHintResolveRequest.type,(r,n)=>t(r,n)),"resolve")}}},"InlayHintFeature");FL.InlayHintFeature=ult});var A4e=j(NL=>{"use strict";d();Object.defineProperty(NL,"__esModule",{value:!0});NL.DiagnosticFeature=void 0;var $w=ti(),flt=o(e=>class extends e{get diagnostics(){return{refresh:o(()=>this.connection.sendRequest($w.DiagnosticRefreshRequest.type),"refresh"),on:o(t=>this.connection.onRequest($w.DocumentDiagnosticRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress($w.DocumentDiagnosticRequest.partialResult,r))),"on"),onWorkspace:o(t=>this.connection.onRequest($w.WorkspaceDiagnosticRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress($w.WorkspaceDiagnosticRequest.partialResult,r))),"onWorkspace")}}},"DiagnosticFeature");NL.DiagnosticFeature=flt});var RX=j(LL=>{"use strict";d();Object.defineProperty(LL,"__esModule",{value:!0});LL.TextDocuments=void 0;var k4=ti(),kX=class{static{o(this,"TextDocuments")}constructor(t){this._configuration=t,this._syncedDocuments=new Map,this._onDidChangeContent=new k4.Emitter,this._onDidOpen=new k4.Emitter,this._onDidClose=new k4.Emitter,this._onDidSave=new k4.Emitter,this._onWillSave=new k4.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(t){this._willSaveWaitUntil=t}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(t){return this._syncedDocuments.get(t)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(t){t.__textDocumentSync=k4.TextDocumentSyncKind.Incremental;let r=[];return r.push(t.onDidOpenTextDocument(n=>{let i=n.textDocument,s=this._configuration.create(i.uri,i.languageId,i.version,i.text);this._syncedDocuments.set(i.uri,s);let a=Object.freeze({document:s});this._onDidOpen.fire(a),this._onDidChangeContent.fire(a)})),r.push(t.onDidChangeTextDocument(n=>{let i=n.textDocument,s=n.contentChanges;if(s.length===0)return;let{version:a}=i;if(a==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let l=this._syncedDocuments.get(i.uri);l!==void 0&&(l=this._configuration.update(l,s,a),this._syncedDocuments.set(i.uri,l),this._onDidChangeContent.fire(Object.freeze({document:l})))})),r.push(t.onDidCloseTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&(this._syncedDocuments.delete(n.textDocument.uri),this._onDidClose.fire(Object.freeze({document:i})))})),r.push(t.onWillSaveTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&this._onWillSave.fire(Object.freeze({document:i,reason:n.reason}))})),r.push(t.onWillSaveTextDocumentWaitUntil((n,i)=>{let s=this._syncedDocuments.get(n.textDocument.uri);return s!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:s,reason:n.reason}),i):[]})),r.push(t.onDidSaveTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&this._onDidSave.fire(Object.freeze({document:i}))})),k4.Disposable.create(()=>{r.forEach(n=>n.dispose())})}};LL.TextDocuments=kX});var DX=j(kI=>{"use strict";d();Object.defineProperty(kI,"__esModule",{value:!0});kI.NotebookDocuments=kI.NotebookSyncFeature=void 0;var yd=ti(),y4e=RX(),dlt=o(e=>class extends e{get synchronization(){return{onDidOpenNotebookDocument:o(t=>this.connection.onNotification(yd.DidOpenNotebookDocumentNotification.type,r=>{t(r)}),"onDidOpenNotebookDocument"),onDidChangeNotebookDocument:o(t=>this.connection.onNotification(yd.DidChangeNotebookDocumentNotification.type,r=>{t(r)}),"onDidChangeNotebookDocument"),onDidSaveNotebookDocument:o(t=>this.connection.onNotification(yd.DidSaveNotebookDocumentNotification.type,r=>{t(r)}),"onDidSaveNotebookDocument"),onDidCloseNotebookDocument:o(t=>this.connection.onNotification(yd.DidCloseNotebookDocumentNotification.type,r=>{t(r)}),"onDidCloseNotebookDocument")}}},"NotebookSyncFeature");kI.NotebookSyncFeature=dlt;var QL=class e{static{o(this,"CellTextDocumentConnection")}onDidOpenTextDocument(t){return this.openHandler=t,yd.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(t){this.openHandler&&this.openHandler(t)}onDidChangeTextDocument(t){return this.changeHandler=t,yd.Disposable.create(()=>{this.changeHandler=t})}changeTextDocument(t){this.changeHandler&&this.changeHandler(t)}onDidCloseTextDocument(t){return this.closeHandler=t,yd.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(t){this.closeHandler&&this.closeHandler(t)}onWillSaveTextDocument(){return e.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return e.NULL_DISPOSE}onDidSaveTextDocument(){return e.NULL_DISPOSE}};QL.NULL_DISPOSE=Object.freeze({dispose:o(()=>{},"dispose")});var BX=class{static{o(this,"NotebookDocuments")}constructor(t){t instanceof y4e.TextDocuments?this._cellTextDocuments=t:this._cellTextDocuments=new y4e.TextDocuments(t),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new yd.Emitter,this._onDidChange=new yd.Emitter,this._onDidSave=new yd.Emitter,this._onDidClose=new yd.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(t){return this._cellTextDocuments.get(t.document)}getNotebookDocument(t){return this.notebookDocuments.get(t)}getNotebookCell(t){let r=this.notebookCellMap.get(t);return r&&r[0]}findNotebookDocumentForCell(t){let r=typeof t=="string"?t:t.document,n=this.notebookCellMap.get(r);return n&&n[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(t){let r=new QL,n=[];return n.push(this.cellTextDocuments.listen(r)),n.push(t.notebooks.synchronization.onDidOpenNotebookDocument(i=>{this.notebookDocuments.set(i.notebookDocument.uri,i.notebookDocument);for(let s of i.cellTextDocuments)r.openTextDocument({textDocument:s});this.updateCellMap(i.notebookDocument),this._onDidOpen.fire(i.notebookDocument)})),n.push(t.notebooks.synchronization.onDidChangeNotebookDocument(i=>{let s=this.notebookDocuments.get(i.notebookDocument.uri);if(s===void 0)return;s.version=i.notebookDocument.version;let a=s.metadata,l=!1,c=i.change;c.metadata!==void 0&&(l=!0,s.metadata=c.metadata);let u=[],f=[],m=[],h=[];if(c.cells!==void 0){let E=c.cells;if(E.structure!==void 0){let b=E.structure.array;if(s.cells.splice(b.start,b.deleteCount,...b.cells!==void 0?b.cells:[]),E.structure.didOpen!==void 0)for(let _ of E.structure.didOpen)r.openTextDocument({textDocument:_}),u.push(_.uri);if(E.structure.didClose)for(let _ of E.structure.didClose)r.closeTextDocument({textDocument:_}),f.push(_.uri)}if(E.data!==void 0){let b=new Map(E.data.map(_=>[_.document,_]));for(let _=0;_<=s.cells.length;_++){let R=b.get(s.cells[_].document);if(R!==void 0){let P=s.cells.splice(_,1,R);if(m.push({old:P[0],new:R}),b.delete(R.document),b.size===0)break}}}if(E.textContent!==void 0)for(let b of E.textContent)r.changeTextDocument({textDocument:b.document,contentChanges:b.changes}),h.push(b.document.uri)}this.updateCellMap(s);let p={notebookDocument:s};l&&(p.metadata={old:a,new:s.metadata});let g=[];for(let E of u)g.push(this.getNotebookCell(E));let x=[];for(let E of f)x.push(this.getNotebookCell(E));let v=[];for(let E of h)v.push(this.getNotebookCell(E));(g.length>0||x.length>0||m.length>0||v.length>0)&&(p.cells={added:g,removed:x,changed:{data:m,textContent:v}}),(p.metadata!==void 0||p.cells!==void 0)&&this._onDidChange.fire(p)})),n.push(t.notebooks.synchronization.onDidSaveNotebookDocument(i=>{let s=this.notebookDocuments.get(i.notebookDocument.uri);s!==void 0&&this._onDidSave.fire(s)})),n.push(t.notebooks.synchronization.onDidCloseNotebookDocument(i=>{let s=this.notebookDocuments.get(i.notebookDocument.uri);if(s!==void 0){this._onDidClose.fire(s);for(let a of i.cellTextDocuments)r.closeTextDocument({textDocument:a});this.notebookDocuments.delete(i.notebookDocument.uri);for(let a of s.cells)this.notebookCellMap.delete(a.document)}})),yd.Disposable.create(()=>{n.forEach(i=>i.dispose())})}updateCellMap(t){for(let r of t.cells)this.notebookCellMap.set(r.document,[r,t])}};kI.NotebookDocuments=BX});var C4e=j(ML=>{"use strict";d();Object.defineProperty(ML,"__esModule",{value:!0});ML.MonikerFeature=void 0;var mlt=ti(),hlt=o(e=>class extends e{get moniker(){return{on:o(t=>{let r=mlt.MonikerRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"on")}}},"MonikerFeature");ML.MonikerFeature=hlt});var MX=j(uo=>{"use strict";d();Object.defineProperty(uo,"__esModule",{value:!0});uo.createConnection=uo.combineFeatures=uo.combineNotebooksFeatures=uo.combineLanguagesFeatures=uo.combineWorkspaceFeatures=uo.combineWindowFeatures=uo.combineClientFeatures=uo.combineTracerFeatures=uo.combineTelemetryFeatures=uo.combineConsoleFeatures=uo._NotebooksImpl=uo._LanguagesImpl=uo.BulkUnregistration=uo.BulkRegistration=uo.ErrorMessageTracker=void 0;var hr=ti(),Cd=CL(),FX=vX(),$n=i4e(),plt=o4e(),glt=s4e(),Alt=a4e(),ylt=wX(),Clt=l4e(),xlt=c4e(),vlt=u4e(),blt=f4e(),Elt=m4e(),Ilt=p4e(),Tlt=g4e(),wlt=A4e(),_lt=DX(),Slt=C4e();function PX(e){if(e!==null)return e}o(PX,"null2Undefined");var NX=class{static{o(this,"ErrorMessageTracker")}constructor(){this._messages=Object.create(null)}add(t){let r=this._messages[t];r||(r=0),r++,this._messages[t]=r}sendErrors(t){Object.keys(this._messages).forEach(r=>{t.window.showErrorMessage(r)})}};uo.ErrorMessageTracker=NX;var OL=class{static{o(this,"RemoteConsoleImpl")}constructor(){}rawAttach(t){this._rawConnection=t}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(t){}initialize(t){}error(t){this.send(hr.MessageType.Error,t)}warn(t){this.send(hr.MessageType.Warning,t)}info(t){this.send(hr.MessageType.Info,t)}log(t){this.send(hr.MessageType.Log,t)}debug(t){this.send(hr.MessageType.Debug,t)}send(t,r){this._rawConnection&&this._rawConnection.sendNotification(hr.LogMessageNotification.type,{type:t,message:r}).catch(()=>{(0,hr.RAL)().console.error("Sending log message failed")})}},LX=class{static{o(this,"_RemoteWindowImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}showErrorMessage(t,...r){let n={type:hr.MessageType.Error,message:t,actions:r};return this.connection.sendRequest(hr.ShowMessageRequest.type,n).then(PX)}showWarningMessage(t,...r){let n={type:hr.MessageType.Warning,message:t,actions:r};return this.connection.sendRequest(hr.ShowMessageRequest.type,n).then(PX)}showInformationMessage(t,...r){let n={type:hr.MessageType.Info,message:t,actions:r};return this.connection.sendRequest(hr.ShowMessageRequest.type,n).then(PX)}},x4e=(0,Clt.ShowDocumentFeature)((0,$n.ProgressFeature)(LX)),v4e;(function(e){function t(){return new UL}o(t,"create"),e.create=t})(v4e||(uo.BulkRegistration=v4e={}));var UL=class{static{o(this,"BulkRegistrationImpl")}constructor(){this._registrations=[],this._registered=new Set}add(t,r){let n=Cd.string(t)?t:t.method;if(this._registered.has(n))throw new Error(`${n} is already added to this registration`);let i=FX.generateUuid();this._registrations.push({id:i,method:n,registerOptions:r||{}}),this._registered.add(n)}asRegistrationParams(){return{registrations:this._registrations}}},b4e;(function(e){function t(){return new zw(void 0,[])}o(t,"create"),e.create=t})(b4e||(uo.BulkUnregistration=b4e={}));var zw=class{static{o(this,"BulkUnregistrationImpl")}constructor(t,r){this._connection=t,this._unregistrations=new Map,r.forEach(n=>{this._unregistrations.set(n.method,n)})}get isAttached(){return!!this._connection}attach(t){this._connection=t}add(t){this._unregistrations.set(t.method,t)}dispose(){let t=[];for(let n of this._unregistrations.values())t.push(n);let r={unregisterations:t};this._connection.sendRequest(hr.UnregistrationRequest.type,r).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(t){let r=Cd.string(t)?t:t.method,n=this._unregistrations.get(r);if(!n)return!1;let i={unregisterations:[n]};return this._connection.sendRequest(hr.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(r)},s=>{this._connection.console.info(`Un-registering request handler for ${n.id} failed.`)}),!0}},qL=class{static{o(this,"RemoteClientImpl")}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}register(t,r,n){return t instanceof UL?this.registerMany(t):t instanceof zw?this.registerSingle1(t,r,n):this.registerSingle2(t,r)}registerSingle1(t,r,n){let i=Cd.string(r)?r:r.method,s=FX.generateUuid(),a={registrations:[{id:s,method:i,registerOptions:n||{}}]};return t.isAttached||t.attach(this.connection),this.connection.sendRequest(hr.RegistrationRequest.type,a).then(l=>(t.add({id:s,method:i}),t),l=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(l)))}registerSingle2(t,r){let n=Cd.string(t)?t:t.method,i=FX.generateUuid(),s={registrations:[{id:i,method:n,registerOptions:r||{}}]};return this.connection.sendRequest(hr.RegistrationRequest.type,s).then(a=>hr.Disposable.create(()=>{this.unregisterSingle(i,n).catch(()=>{this.connection.console.info(`Un-registering capability with id ${i} failed.`)})}),a=>(this.connection.console.info(`Registering request handler for ${n} failed.`),Promise.reject(a)))}unregisterSingle(t,r){let n={unregisterations:[{id:t,method:r}]};return this.connection.sendRequest(hr.UnregistrationRequest.type,n).catch(()=>{this.connection.console.info(`Un-registering request handler for ${t} failed.`)})}registerMany(t){let r=t.asRegistrationParams();return this.connection.sendRequest(hr.RegistrationRequest.type,r).then(()=>new zw(this._connection,r.registrations.map(n=>({id:n.id,method:n.method}))),n=>(this.connection.console.info("Bulk registration failed."),Promise.reject(n)))}},QX=class{static{o(this,"_RemoteWorkspaceImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}applyEdit(t){function r(i){return i&&!!i.edit}o(r,"isApplyWorkspaceEditParams");let n=r(t)?t:{edit:t};return this.connection.sendRequest(hr.ApplyWorkspaceEditRequest.type,n)}},E4e=(0,xlt.FileOperationsFeature)((0,glt.WorkspaceFoldersFeature)((0,plt.ConfigurationFeature)(QX))),WL=class{static{o(this,"TracerImpl")}constructor(){this._trace=hr.Trace.Off}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}set trace(t){this._trace=t}log(t,r){this._trace!==hr.Trace.Off&&this.connection.sendNotification(hr.LogTraceNotification.type,{message:t,verbose:this._trace===hr.Trace.Verbose?r:void 0}).catch(()=>{})}},GL=class{static{o(this,"TelemetryImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}logEvent(t){this.connection.sendNotification(hr.TelemetryEventNotification.type,t).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}},HL=class{static{o(this,"_LanguagesImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,$n.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,r){return(0,$n.attachPartialResult)(this.connection,r)}};uo._LanguagesImpl=HL;var I4e=(0,Ilt.FoldingRangeFeature)((0,Slt.MonikerFeature)((0,wlt.DiagnosticFeature)((0,Tlt.InlayHintFeature)((0,Elt.InlineValueFeature)((0,blt.TypeHierarchyFeature)((0,vlt.LinkedEditingRangeFeature)((0,ylt.SemanticTokensFeature)((0,Alt.CallHierarchyFeature)(HL))))))))),jL=class{static{o(this,"_NotebooksImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,$n.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,r){return(0,$n.attachPartialResult)(this.connection,r)}};uo._NotebooksImpl=jL;var T4e=(0,_lt.NotebookSyncFeature)(jL);function w4e(e,t){return function(r){return t(e(r))}}o(w4e,"combineConsoleFeatures");uo.combineConsoleFeatures=w4e;function _4e(e,t){return function(r){return t(e(r))}}o(_4e,"combineTelemetryFeatures");uo.combineTelemetryFeatures=_4e;function S4e(e,t){return function(r){return t(e(r))}}o(S4e,"combineTracerFeatures");uo.combineTracerFeatures=S4e;function k4e(e,t){return function(r){return t(e(r))}}o(k4e,"combineClientFeatures");uo.combineClientFeatures=k4e;function R4e(e,t){return function(r){return t(e(r))}}o(R4e,"combineWindowFeatures");uo.combineWindowFeatures=R4e;function B4e(e,t){return function(r){return t(e(r))}}o(B4e,"combineWorkspaceFeatures");uo.combineWorkspaceFeatures=B4e;function D4e(e,t){return function(r){return t(e(r))}}o(D4e,"combineLanguagesFeatures");uo.combineLanguagesFeatures=D4e;function P4e(e,t){return function(r){return t(e(r))}}o(P4e,"combineNotebooksFeatures");uo.combineNotebooksFeatures=P4e;function klt(e,t){function r(i,s,a){return i&&s?a(i,s):i||s}return o(r,"combine"),{__brand:"features",console:r(e.console,t.console,w4e),tracer:r(e.tracer,t.tracer,S4e),telemetry:r(e.telemetry,t.telemetry,_4e),client:r(e.client,t.client,k4e),window:r(e.window,t.window,R4e),workspace:r(e.workspace,t.workspace,B4e),languages:r(e.languages,t.languages,D4e),notebooks:r(e.notebooks,t.notebooks,P4e)}}o(klt,"combineFeatures");uo.combineFeatures=klt;function Rlt(e,t,r){let n=r&&r.console?new(r.console(OL)):new OL,i=e(n);n.rawAttach(i);let s=r&&r.tracer?new(r.tracer(WL)):new WL,a=r&&r.telemetry?new(r.telemetry(GL)):new GL,l=r&&r.client?new(r.client(qL)):new qL,c=r&&r.window?new(r.window(x4e)):new x4e,u=r&&r.workspace?new(r.workspace(E4e)):new E4e,f=r&&r.languages?new(r.languages(I4e)):new I4e,m=r&&r.notebooks?new(r.notebooks(T4e)):new T4e,h=[n,s,a,l,c,u,f,m];function p(b){return b instanceof Promise?b:Cd.thenable(b)?new Promise((_,R)=>{b.then(P=>_(P),P=>R(P))}):Promise.resolve(b)}o(p,"asPromise");let g,x,v,E={listen:o(()=>i.listen(),"listen"),sendRequest:o((b,..._)=>i.sendRequest(Cd.string(b)?b:b.method,..._),"sendRequest"),onRequest:o((b,_)=>i.onRequest(b,_),"onRequest"),sendNotification:o((b,_)=>{let R=Cd.string(b)?b:b.method;return i.sendNotification(R,_)},"sendNotification"),onNotification:o((b,_)=>i.onNotification(b,_),"onNotification"),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:o(b=>(x=b,{dispose:o(()=>{x=void 0},"dispose")}),"onInitialize"),onInitialized:o(b=>i.onNotification(hr.InitializedNotification.type,b),"onInitialized"),onShutdown:o(b=>(g=b,{dispose:o(()=>{g=void 0},"dispose")}),"onShutdown"),onExit:o(b=>(v=b,{dispose:o(()=>{v=void 0},"dispose")}),"onExit"),get console(){return n},get telemetry(){return a},get tracer(){return s},get client(){return l},get window(){return c},get workspace(){return u},get languages(){return f},get notebooks(){return m},onDidChangeConfiguration:o(b=>i.onNotification(hr.DidChangeConfigurationNotification.type,b),"onDidChangeConfiguration"),onDidChangeWatchedFiles:o(b=>i.onNotification(hr.DidChangeWatchedFilesNotification.type,b),"onDidChangeWatchedFiles"),__textDocumentSync:void 0,onDidOpenTextDocument:o(b=>i.onNotification(hr.DidOpenTextDocumentNotification.type,b),"onDidOpenTextDocument"),onDidChangeTextDocument:o(b=>i.onNotification(hr.DidChangeTextDocumentNotification.type,b),"onDidChangeTextDocument"),onDidCloseTextDocument:o(b=>i.onNotification(hr.DidCloseTextDocumentNotification.type,b),"onDidCloseTextDocument"),onWillSaveTextDocument:o(b=>i.onNotification(hr.WillSaveTextDocumentNotification.type,b),"onWillSaveTextDocument"),onWillSaveTextDocumentWaitUntil:o(b=>i.onRequest(hr.WillSaveTextDocumentWaitUntilRequest.type,b),"onWillSaveTextDocumentWaitUntil"),onDidSaveTextDocument:o(b=>i.onNotification(hr.DidSaveTextDocumentNotification.type,b),"onDidSaveTextDocument"),sendDiagnostics:o(b=>i.sendNotification(hr.PublishDiagnosticsNotification.type,b),"sendDiagnostics"),onHover:o(b=>i.onRequest(hr.HoverRequest.type,(_,R)=>b(_,R,(0,$n.attachWorkDone)(i,_),void 0)),"onHover"),onCompletion:o(b=>i.onRequest(hr.CompletionRequest.type,(_,R)=>b(_,R,(0,$n.attachWorkDone)(i,_),(0,$n.attachPartialResult)(i,_))),"onCompletion"),onCompletionResolve:o(b=>i.onRequest(hr.CompletionResolveRequest.type,b),"onCompletionResolve"),onSignatureHelp:o(b=>i.onRequest(hr.SignatureHelpRequest.type,(_,R)=>b(_,R,(0,$n.attachWorkDone)(i,_),void 0)),"onSignatureHelp"),onDeclaration:o(b=>i.onRequest(hr.DeclarationRequest.type,(_,R)=>b(_,R,(0,$n.attachWorkDone)(i,_),(0,$n.attachPartialResult)(i,_))),"onDeclaration"),onDefinition:o(b=>i.onRequest(hr.DefinitionRequest.type,(_,R)=>b(_,R,(0,$n.attachWorkDone)(i,_),(0,$n.attachPartialResult)(i,_))),"onDefinition"),onTypeDefinition:o(b=>i.onRequest(hr.TypeDefinitionRequest.type,(_,R)=>b(_,R,(0,$n.attachWorkDone)(i,_),(0,$n.attachPartialResult)(i,_))),"onTypeDefinition"),onImplementation:o(b=>i.onRequest(hr.ImplementationRequest.type,(_,R)=>b(_,R,(0,$n.attachWorkDone)(i,_),(0,$n.attachPartialResult)(i,_))),"onImplementation"),onReferences:o(b=>i.onRequest(hr.ReferencesRequest.type,(_,R)=>b(_,R,(0,$n.attachWorkDone)(i,_),(0,$n.attachPartialResult)(i,_))),"onReferences"),onDocumentHighlight:o(b=>i.onRequest(hr.DocumentHighlightRequest.type,(_,R)=>b(_,R,(0,$n.attachWorkDone)(i,_),(0,$n.attachPartialResult)(i,_))),"onDocumentHighlight"),onDocumentSymbol:o(b=>i.onRequest(hr.DocumentSymbolRequest.type,(_,R)=>b(_,R,(0,$n.attachWorkDone)(i,_),(0,$n.attachPartialResult)(i,_))),"onDocumentSymbol"),onWorkspaceSymbol:o(b=>i.onRequest(hr.WorkspaceSymbolRequest.type,(_,R)=>b(_,R,(0,$n.attachWorkDone)(i,_),(0,$n.attachPartialResult)(i,_))),"onWorkspaceSymbol"),onWorkspaceSymbolResolve:o(b=>i.onRequest(hr.WorkspaceSymbolResolveRequest.type,b),"onWorkspaceSymbolResolve"),onCodeAction:o(b=>i.onRequest(hr.CodeActionRequest.type,(_,R)=>b(_,R,(0,$n.attachWorkDone)(i,_),(0,$n.attachPartialResult)(i,_))),"onCodeAction"),onCodeActionResolve:o(b=>i.onRequest(hr.CodeActionResolveRequest.type,(_,R)=>b(_,R)),"onCodeActionResolve"),onCodeLens:o(b=>i.onRequest(hr.CodeLensRequest.type,(_,R)=>b(_,R,(0,$n.attachWorkDone)(i,_),(0,$n.attachPartialResult)(i,_))),"onCodeLens"),onCodeLensResolve:o(b=>i.onRequest(hr.CodeLensResolveRequest.type,(_,R)=>b(_,R)),"onCodeLensResolve"),onDocumentFormatting:o(b=>i.onRequest(hr.DocumentFormattingRequest.type,(_,R)=>b(_,R,(0,$n.attachWorkDone)(i,_),void 0)),"onDocumentFormatting"),onDocumentRangeFormatting:o(b=>i.onRequest(hr.DocumentRangeFormattingRequest.type,(_,R)=>b(_,R,(0,$n.attachWorkDone)(i,_),void 0)),"onDocumentRangeFormatting"),onDocumentOnTypeFormatting:o(b=>i.onRequest(hr.DocumentOnTypeFormattingRequest.type,(_,R)=>b(_,R)),"onDocumentOnTypeFormatting"),onRenameRequest:o(b=>i.onRequest(hr.RenameRequest.type,(_,R)=>b(_,R,(0,$n.attachWorkDone)(i,_),void 0)),"onRenameRequest"),onPrepareRename:o(b=>i.onRequest(hr.PrepareRenameRequest.type,(_,R)=>b(_,R)),"onPrepareRename"),onDocumentLinks:o(b=>i.onRequest(hr.DocumentLinkRequest.type,(_,R)=>b(_,R,(0,$n.attachWorkDone)(i,_),(0,$n.attachPartialResult)(i,_))),"onDocumentLinks"),onDocumentLinkResolve:o(b=>i.onRequest(hr.DocumentLinkResolveRequest.type,(_,R)=>b(_,R)),"onDocumentLinkResolve"),onDocumentColor:o(b=>i.onRequest(hr.DocumentColorRequest.type,(_,R)=>b(_,R,(0,$n.attachWorkDone)(i,_),(0,$n.attachPartialResult)(i,_))),"onDocumentColor"),onColorPresentation:o(b=>i.onRequest(hr.ColorPresentationRequest.type,(_,R)=>b(_,R,(0,$n.attachWorkDone)(i,_),(0,$n.attachPartialResult)(i,_))),"onColorPresentation"),onFoldingRanges:o(b=>i.onRequest(hr.FoldingRangeRequest.type,(_,R)=>b(_,R,(0,$n.attachWorkDone)(i,_),(0,$n.attachPartialResult)(i,_))),"onFoldingRanges"),onSelectionRanges:o(b=>i.onRequest(hr.SelectionRangeRequest.type,(_,R)=>b(_,R,(0,$n.attachWorkDone)(i,_),(0,$n.attachPartialResult)(i,_))),"onSelectionRanges"),onExecuteCommand:o(b=>i.onRequest(hr.ExecuteCommandRequest.type,(_,R)=>b(_,R,(0,$n.attachWorkDone)(i,_),void 0)),"onExecuteCommand"),dispose:o(()=>i.dispose(),"dispose")};for(let b of h)b.attach(E);return i.onRequest(hr.InitializeRequest.type,b=>{t.initialize(b),Cd.string(b.trace)&&(s.trace=hr.Trace.fromString(b.trace));for(let _ of h)_.initialize(b.capabilities);if(x){let _=x(b,new hr.CancellationTokenSource().token,(0,$n.attachWorkDone)(i,b),void 0);return p(_).then(R=>{if(R instanceof hr.ResponseError)return R;let P=R;P||(P={capabilities:{}});let F=P.capabilities;F||(F={},P.capabilities=F),F.textDocumentSync===void 0||F.textDocumentSync===null?F.textDocumentSync=Cd.number(E.__textDocumentSync)?E.__textDocumentSync:hr.TextDocumentSyncKind.None:!Cd.number(F.textDocumentSync)&&!Cd.number(F.textDocumentSync.change)&&(F.textDocumentSync.change=Cd.number(E.__textDocumentSync)?E.__textDocumentSync:hr.TextDocumentSyncKind.None);for(let G of h)G.fillServerCapabilities(F);return P})}else{let _={capabilities:{textDocumentSync:hr.TextDocumentSyncKind.None}};for(let R of h)R.fillServerCapabilities(_.capabilities);return _}}),i.onRequest(hr.ShutdownRequest.type,()=>{if(t.shutdownReceived=!0,g)return g(new hr.CancellationTokenSource().token)}),i.onNotification(hr.ExitNotification.type,()=>{try{v&&v()}finally{t.shutdownReceived?t.exit(0):t.exit(1)}}),i.onNotification(hr.SetTraceNotification.type,b=>{s.trace=hr.Trace.fromString(b.value)}),E}o(Rlt,"createConnection");uo.createConnection=Rlt});var F4e=j(J0=>{"use strict";d();Object.defineProperty(J0,"__esModule",{value:!0});J0.resolveModulePath=J0.FileSystem=J0.resolveGlobalYarnPath=J0.resolveGlobalNodePath=J0.resolve=J0.uriToFilePath=void 0;var Blt=require("url"),Km=require("path"),OX=require("fs"),GX=require("child_process");function Dlt(e){let t=Blt.parse(e);if(t.protocol!=="file:"||!t.path)return;let r=t.path.split("/");for(var n=0,i=r.length;n<i;n++)r[n]=decodeURIComponent(r[n]);if(process.platform==="win32"&&r.length>1){let s=r[0],a=r[1];s.length===0&&a.length>1&&a[1]===":"&&r.shift()}return Km.normalize(r.join("/"))}o(Dlt,"uriToFilePath");J0.uriToFilePath=Dlt;function UX(){return process.platform==="win32"}o(UX,"isWindows");function VL(e,t,r,n){let i="NODE_PATH",s=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((a,l)=>{let c=process.env,u=Object.create(null);Object.keys(c).forEach(f=>u[f]=c[f]),t&&OX.existsSync(t)&&(u[i]?u[i]=t+Km.delimiter+u[i]:u[i]=t,n&&n(`NODE_PATH value is: ${u[i]}`)),u.ELECTRON_RUN_AS_NODE="1";try{let f=(0,GX.fork)("",[],{cwd:r,env:u,execArgv:["-e",s]});if(f.pid===void 0){l(new Error(`Starting process to resolve node module  ${e} failed`));return}f.on("error",h=>{l(h)}),f.on("message",h=>{h.c==="r"&&(f.send({c:"e"}),h.s?a(h.r):l(new Error(`Failed to resolve module: ${e}`)))});let m={c:"rs",a:e};f.send(m)}catch(f){l(f)}})}o(VL,"resolve");J0.resolve=VL;function qX(e){let t="npm",r=Object.create(null);Object.keys(process.env).forEach(s=>r[s]=process.env[s]),r.NO_UPDATE_NOTIFIER="true";let n={encoding:"utf8",env:r};UX()&&(t="npm.cmd",n.shell=!0);let i=o(()=>{},"handler");try{process.on("SIGPIPE",i);let s=(0,GX.spawnSync)(t,["config","get","prefix"],n).stdout;if(!s){e&&e("'npm config get prefix' didn't return a value.");return}let a=s.trim();return e&&e(`'npm config get prefix' value is: ${a}`),a.length>0?UX()?Km.join(a,"node_modules"):Km.join(a,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",i)}}o(qX,"resolveGlobalNodePath");J0.resolveGlobalNodePath=qX;function Plt(e){let t="yarn",r={encoding:"utf8"};UX()&&(t="yarn.cmd",r.shell=!0);let n=o(()=>{},"handler");try{process.on("SIGPIPE",n);let i=(0,GX.spawnSync)(t,["global","dir","--json"],r),s=i.stdout;if(!s){e&&(e("'yarn global dir' didn't return a value."),i.stderr&&e(i.stderr));return}let a=s.trim().split(/\r?\n/);for(let l of a)try{let c=JSON.parse(l);if(c.type==="log")return Km.join(c.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",n)}}o(Plt,"resolveGlobalYarnPath");J0.resolveGlobalYarnPath=Plt;var WX;(function(e){let t;function r(){return t!==void 0||(process.platform==="win32"?t=!1:t=!OX.existsSync(__filename.toUpperCase())||!OX.existsSync(__filename.toLowerCase())),t}o(r,"isCaseSensitive"),e.isCaseSensitive=r;function n(i,s){return r()?Km.normalize(s).indexOf(Km.normalize(i))===0:Km.normalize(s).toLowerCase().indexOf(Km.normalize(i).toLowerCase())===0}o(n,"isParent"),e.isParent=n})(WX||(J0.FileSystem=WX={}));function Flt(e,t,r,n){return r?(Km.isAbsolute(r)||(r=Km.join(e,r)),VL(t,r,r,n).then(i=>WX.isParent(r,i)?i:Promise.reject(new Error(`Failed to load ${t} from node path location.`))).then(void 0,i=>VL(t,qX(n),e,n))):VL(t,qX(n),e,n)}o(Flt,"resolveModulePath");J0.resolveModulePath=Flt});var HX=j((e3r,N4e)=>{"use strict";d();N4e.exports=ti()});var L4e=j($L=>{"use strict";d();Object.defineProperty($L,"__esModule",{value:!0});$L.InlineCompletionFeature=void 0;var Nlt=ti(),Llt=o(e=>class extends e{get inlineCompletion(){return{on:o(t=>this.connection.onRequest(Nlt.InlineCompletionRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r))),"on")}}},"InlineCompletionFeature");$L.InlineCompletionFeature=Llt});var O4e=j(Nc=>{"use strict";d();var Qlt=Nc&&Nc.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),M4e=Nc&&Nc.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Qlt(t,e,r)};Object.defineProperty(Nc,"__esModule",{value:!0});Nc.ProposedFeatures=Nc.NotebookDocuments=Nc.TextDocuments=Nc.SemanticTokensBuilder=void 0;var Mlt=wX();Object.defineProperty(Nc,"SemanticTokensBuilder",{enumerable:!0,get:o(function(){return Mlt.SemanticTokensBuilder},"get")});var Olt=L4e();M4e(ti(),Nc);var Ult=RX();Object.defineProperty(Nc,"TextDocuments",{enumerable:!0,get:o(function(){return Ult.TextDocuments},"get")});var qlt=DX();Object.defineProperty(Nc,"NotebookDocuments",{enumerable:!0,get:o(function(){return qlt.NotebookDocuments},"get")});M4e(MX(),Nc);var Q4e;(function(e){e.all={__brand:"features",languages:Olt.InlineCompletionFeature}})(Q4e||(Nc.ProposedFeatures=Q4e={}))});var Tl=j(xd=>{"use strict";d();var Wlt=xd&&xd.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),G4e=xd&&xd.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Wlt(t,e,r)};Object.defineProperty(xd,"__esModule",{value:!0});xd.createConnection=xd.Files=void 0;var U4e=require("node:util"),jX=CL(),Glt=MX(),Yw=F4e(),R4=HX();G4e(HX(),xd);G4e(O4e(),xd);var q4e;(function(e){e.uriToFilePath=Yw.uriToFilePath,e.resolveGlobalNodePath=Yw.resolveGlobalNodePath,e.resolveGlobalYarnPath=Yw.resolveGlobalYarnPath,e.resolve=Yw.resolve,e.resolveModulePath=Yw.resolveModulePath})(q4e||(xd.Files=q4e={}));var W4e;function zL(){if(W4e!==void 0)try{W4e.end()}catch{}}o(zL,"endProtocolConnection");var RI=!1,H4e;function Hlt(){let e="--clientProcessId";function t(r){try{let n=parseInt(r);isNaN(n)||(H4e=setInterval(()=>{try{process.kill(n,0)}catch{zL(),process.exit(RI?0:1)}},3e3))}catch{}}o(t,"runTimer");for(let r=2;r<process.argv.length;r++){let n=process.argv[r];if(n===e&&r+1<process.argv.length){t(process.argv[r+1]);return}else{let i=n.split("=");i[0]===e&&t(i[1])}}}o(Hlt,"setupExitTimer");Hlt();var jlt={initialize:o(e=>{let t=e.processId;jX.number(t)&&H4e===void 0&&setInterval(()=>{try{process.kill(t,0)}catch{process.exit(RI?0:1)}},3e3)},"initialize"),get shutdownReceived(){return RI},set shutdownReceived(e){RI=e},exit:o(e=>{zL(),process.exit(e)},"exit")};function Vlt(e,t,r,n){let i,s,a,l;return e!==void 0&&e.__brand==="features"&&(i=e,e=t,t=r,r=n),R4.ConnectionStrategy.is(e)||R4.ConnectionOptions.is(e)?l=e:(s=e,a=t,l=r),$lt(s,a,l,i)}o(Vlt,"createConnection");xd.createConnection=Vlt;function $lt(e,t,r,n){let i=!1;if(!e&&!t&&process.argv.length>2){let c,u,f=process.argv.slice(2);for(let m=0;m<f.length;m++){let h=f[m];if(h==="--node-ipc"){e=new R4.IPCMessageReader(process),t=new R4.IPCMessageWriter(process);break}else if(h==="--stdio"){i=!0,e=process.stdin,t=process.stdout;break}else if(h==="--socket"){c=parseInt(f[m+1]);break}else if(h==="--pipe"){u=f[m+1];break}else{var s=h.split("=");if(s[0]==="--socket"){c=parseInt(s[1]);break}else if(s[0]==="--pipe"){u=s[1];break}}}if(c){let m=(0,R4.createServerSocketTransport)(c);e=m[0],t=m[1]}else if(u){let m=(0,R4.createServerPipeTransport)(u);e=m[0],t=m[1]}}var a="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!e)throw new Error("Connection input stream is not set. "+a);if(!t)throw new Error("Connection output stream is not set. "+a);if(jX.func(e.read)&&jX.func(e.on)){let c=e;c.on("end",()=>{zL(),process.exit(RI?0:1)}),c.on("close",()=>{zL(),process.exit(RI?0:1)})}let l=o(c=>{let u=(0,R4.createProtocolConnection)(e,t,c,r);return i&&zlt(c),u},"connectionFactory");return(0,Glt.createConnection)(l,jlt,n)}o($lt,"_createConnection");function zlt(e){function t(n){return n.map(i=>typeof i=="string"?i:(0,U4e.inspect)(i)).join(" ")}o(t,"serialize");let r=new Map;console.assert=o(function(i,...s){if(!i)if(s.length===0)e.error("Assertion failed");else{let[a,...l]=s;e.error(`Assertion failed: ${a} ${t(l)}`)}},"assert"),console.count=o(function(i="default"){let s=String(i),a=r.get(s)??0;a+=1,r.set(s,a),e.log(`${s}: ${s}`)},"count"),console.countReset=o(function(i){i===void 0?r.clear():r.delete(String(i))},"countReset"),console.debug=o(function(...i){e.log(t(i))},"debug"),console.dir=o(function(i,s){e.log((0,U4e.inspect)(i,s))},"dir"),console.log=o(function(...i){e.log(t(i))},"log"),console.error=o(function(...i){e.error(t(i))},"error"),console.trace=o(function(...i){let s=new Error().stack.replace(/(.+\n){2}/,""),a="Trace";i.length!==0&&(a+=`: ${t(i)}`),e.log(`${a}
${s}`)},"trace"),console.warn=o(function(...i){e.warn(t(i))},"warn")}o(zlt,"patchConsole")});var Jm=j((d3r,j4e)=>{"use strict";d();j4e.exports=Tl()});var hbe=j((Nbr,mbe)=>{"use strict";d();mbe.exports=fbe;function fbe(e,t,r){e instanceof RegExp&&(e=ube(e,r)),t instanceof RegExp&&(t=ube(t,r));var n=dbe(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}o(fbe,"balanced");function ube(e,t){var r=t.match(e);return r?r[0]:null}o(ube,"maybeMatch");fbe.range=dbe;function dbe(e,t,r){var n,i,s,a,l,c=r.indexOf(e),u=r.indexOf(t,c+1),f=c;if(c>=0&&u>0){if(e===t)return[c,u];for(n=[],s=r.length;f>=0&&!l;)f==c?(n.push(f),c=r.indexOf(e,f+1)):n.length==1?l=[n.pop(),u]:(i=n.pop(),i<s&&(s=i,a=u),u=r.indexOf(t,f+1)),f=c<u&&c>=0?c:u;n.length&&(l=[s,a])}return l}o(dbe,"range")});var bbe=j((Mbr,vbe)=>{d();var pbe=hbe();vbe.exports=Pct;var gbe="\0SLASH"+Math.random()+"\0",Abe="\0OPEN"+Math.random()+"\0",Mee="\0CLOSE"+Math.random()+"\0",ybe="\0COMMA"+Math.random()+"\0",Cbe="\0PERIOD"+Math.random()+"\0";function Qee(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}o(Qee,"numeric");function Bct(e){return e.split("\\\\").join(gbe).split("\\{").join(Abe).split("\\}").join(Mee).split("\\,").join(ybe).split("\\.").join(Cbe)}o(Bct,"escapeBraces");function Dct(e){return e.split(gbe).join("\\").split(Abe).join("{").split(Mee).join("}").split(ybe).join(",").split(Cbe).join(".")}o(Dct,"unescapeBraces");function xbe(e){if(!e)return[""];var t=[],r=pbe("{","}",e);if(!r)return e.split(",");var n=r.pre,i=r.body,s=r.post,a=n.split(",");a[a.length-1]+="{"+i+"}";var l=xbe(s);return s.length&&(a[a.length-1]+=l.shift(),a.push.apply(a,l)),t.push.apply(t,a),t}o(xbe,"parseCommaParts");function Pct(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),o_(Bct(e),!0).map(Dct)):[]}o(Pct,"expandTop");function Fct(e){return"{"+e+"}"}o(Fct,"embrace");function Nct(e){return/^-?0\d/.test(e)}o(Nct,"isPadded");function Lct(e,t){return e<=t}o(Lct,"lte");function Qct(e,t){return e>=t}o(Qct,"gte");function o_(e,t){var r=[],n=pbe("{","}",e);if(!n)return[e];var i=n.pre,s=n.post.length?o_(n.post,!1):[""];if(/\$$/.test(n.pre))for(var a=0;a<s.length;a++){var l=i+"{"+n.body+"}"+s[a];r.push(l)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),f=c||u,m=n.body.indexOf(",")>=0;if(!f&&!m)return n.post.match(/,.*\}/)?(e=n.pre+"{"+n.body+Mee+n.post,o_(e)):[e];var h;if(f)h=n.body.split(/\.\./);else if(h=xbe(n.body),h.length===1&&(h=o_(h[0],!1).map(Fct),h.length===1))return s.map(function(re){return n.pre+h[0]+re});var p;if(f){var g=Qee(h[0]),x=Qee(h[1]),v=Math.max(h[0].length,h[1].length),E=h.length==3?Math.abs(Qee(h[2])):1,b=Lct,_=x<g;_&&(E*=-1,b=Qct);var R=h.some(Nct);p=[];for(var P=g;b(P,x);P+=E){var F;if(u)F=String.fromCharCode(P),F==="\\"&&(F="");else if(F=String(P),R){var G=v-F.length;if(G>0){var se=new Array(G+1).join("0");P<0?F="-"+se+F.slice(1):F=se+F}}p.push(F)}}else{p=[];for(var Ae=0;Ae<h.length;Ae++)p.push.apply(p,o_(h[Ae],!1))}for(var Ae=0;Ae<p.length;Ae++)for(var a=0;a<s.length;a++){var l=i+p[Ae]+s[a];(!t||f||l)&&r.push(l)}}return r}o(o_,"expand")});var Ls=j((oUr,e6e)=>{d();e6e.exports={kClose:Symbol("close"),kDestroy:Symbol("destroy"),kDispatch:Symbol("dispatch"),kUrl:Symbol("url"),kWriting:Symbol("writing"),kResuming:Symbol("resuming"),kQueue:Symbol("queue"),kConnect:Symbol("connect"),kConnecting:Symbol("connecting"),kKeepAliveDefaultTimeout:Symbol("default keep alive timeout"),kKeepAliveMaxTimeout:Symbol("max keep alive timeout"),kKeepAliveTimeoutThreshold:Symbol("keep alive timeout threshold"),kKeepAliveTimeoutValue:Symbol("keep alive timeout"),kKeepAlive:Symbol("keep alive"),kHeadersTimeout:Symbol("headers timeout"),kBodyTimeout:Symbol("body timeout"),kServerName:Symbol("server name"),kLocalAddress:Symbol("local address"),kHost:Symbol("host"),kNoRef:Symbol("no ref"),kBodyUsed:Symbol("used"),kBody:Symbol("abstracted request body"),kRunning:Symbol("running"),kBlocking:Symbol("blocking"),kPending:Symbol("pending"),kSize:Symbol("size"),kBusy:Symbol("busy"),kQueued:Symbol("queued"),kFree:Symbol("free"),kConnected:Symbol("connected"),kClosed:Symbol("closed"),kNeedDrain:Symbol("need drain"),kReset:Symbol("reset"),kDestroyed:Symbol.for("nodejs.stream.destroyed"),kResume:Symbol("resume"),kOnError:Symbol("on error"),kMaxHeadersSize:Symbol("max headers size"),kRunningIdx:Symbol("running index"),kPendingIdx:Symbol("pending index"),kError:Symbol("error"),kClients:Symbol("clients"),kClient:Symbol("client"),kParser:Symbol("parser"),kOnDestroyed:Symbol("destroy callbacks"),kPipelining:Symbol("pipelining"),kSocket:Symbol("socket"),kHostHeader:Symbol("host header"),kConnector:Symbol("connector"),kStrictContentLength:Symbol("strict content length"),kMaxRedirections:Symbol("maxRedirections"),kMaxRequests:Symbol("maxRequestsPerClient"),kProxy:Symbol("proxy agent options"),kCounter:Symbol("socket request counter"),kInterceptors:Symbol("dispatch interceptors"),kMaxResponseSize:Symbol("max response size"),kHTTP2Session:Symbol("http2Session"),kHTTP2SessionState:Symbol("http2Session state"),kRetryHandlerDefaultRetry:Symbol("retry agent default retry"),kConstruct:Symbol("constructable"),kListeners:Symbol("listeners"),kHTTPContext:Symbol("http context"),kMaxConcurrentStreams:Symbol("max concurrent streams"),kNoProxyAgent:Symbol("no proxy agent"),kHttpProxyAgent:Symbol("http proxy agent"),kHttpsProxyAgent:Symbol("https proxy agent")}});var yo=j((aUr,t6e)=>{"use strict";d();var $s=class extends Error{static{o(this,"UndiciError")}constructor(t){super(t),this.name="UndiciError",this.code="UND_ERR"}},bre=class extends $s{static{o(this,"ConnectTimeoutError")}constructor(t){super(t),this.name="ConnectTimeoutError",this.message=t||"Connect Timeout Error",this.code="UND_ERR_CONNECT_TIMEOUT"}},Ere=class extends $s{static{o(this,"HeadersTimeoutError")}constructor(t){super(t),this.name="HeadersTimeoutError",this.message=t||"Headers Timeout Error",this.code="UND_ERR_HEADERS_TIMEOUT"}},Ire=class extends $s{static{o(this,"HeadersOverflowError")}constructor(t){super(t),this.name="HeadersOverflowError",this.message=t||"Headers Overflow Error",this.code="UND_ERR_HEADERS_OVERFLOW"}},Tre=class extends $s{static{o(this,"BodyTimeoutError")}constructor(t){super(t),this.name="BodyTimeoutError",this.message=t||"Body Timeout Error",this.code="UND_ERR_BODY_TIMEOUT"}},wre=class extends $s{static{o(this,"ResponseStatusCodeError")}constructor(t,r,n,i){super(t),this.name="ResponseStatusCodeError",this.message=t||"Response Status Code Error",this.code="UND_ERR_RESPONSE_STATUS_CODE",this.body=i,this.status=r,this.statusCode=r,this.headers=n}},_re=class extends $s{static{o(this,"InvalidArgumentError")}constructor(t){super(t),this.name="InvalidArgumentError",this.message=t||"Invalid Argument Error",this.code="UND_ERR_INVALID_ARG"}},Sre=class extends $s{static{o(this,"InvalidReturnValueError")}constructor(t){super(t),this.name="InvalidReturnValueError",this.message=t||"Invalid Return Value Error",this.code="UND_ERR_INVALID_RETURN_VALUE"}},AO=class extends $s{static{o(this,"AbortError")}constructor(t){super(t),this.name="AbortError",this.message=t||"The operation was aborted"}},kre=class extends AO{static{o(this,"RequestAbortedError")}constructor(t){super(t),this.name="AbortError",this.message=t||"Request aborted",this.code="UND_ERR_ABORTED"}},Rre=class extends $s{static{o(this,"InformationalError")}constructor(t){super(t),this.name="InformationalError",this.message=t||"Request information",this.code="UND_ERR_INFO"}},Bre=class extends $s{static{o(this,"RequestContentLengthMismatchError")}constructor(t){super(t),this.name="RequestContentLengthMismatchError",this.message=t||"Request body length does not match content-length header",this.code="UND_ERR_REQ_CONTENT_LENGTH_MISMATCH"}},Dre=class extends $s{static{o(this,"ResponseContentLengthMismatchError")}constructor(t){super(t),this.name="ResponseContentLengthMismatchError",this.message=t||"Response body length does not match content-length header",this.code="UND_ERR_RES_CONTENT_LENGTH_MISMATCH"}},Pre=class extends $s{static{o(this,"ClientDestroyedError")}constructor(t){super(t),this.name="ClientDestroyedError",this.message=t||"The client is destroyed",this.code="UND_ERR_DESTROYED"}},Fre=class extends $s{static{o(this,"ClientClosedError")}constructor(t){super(t),this.name="ClientClosedError",this.message=t||"The client is closed",this.code="UND_ERR_CLOSED"}},Nre=class extends $s{static{o(this,"SocketError")}constructor(t,r){super(t),this.name="SocketError",this.message=t||"Socket error",this.code="UND_ERR_SOCKET",this.socket=r}},Lre=class extends $s{static{o(this,"NotSupportedError")}constructor(t){super(t),this.name="NotSupportedError",this.message=t||"Not supported error",this.code="UND_ERR_NOT_SUPPORTED"}},Qre=class extends $s{static{o(this,"BalancedPoolMissingUpstreamError")}constructor(t){super(t),this.name="MissingUpstreamError",this.message=t||"No upstream has been added to the BalancedPool",this.code="UND_ERR_BPL_MISSING_UPSTREAM"}},Mre=class extends Error{static{o(this,"HTTPParserError")}constructor(t,r,n){super(t),this.name="HTTPParserError",this.code=r?`HPE_${r}`:void 0,this.data=n?n.toString():void 0}},Ore=class extends $s{static{o(this,"ResponseExceededMaxSizeError")}constructor(t){super(t),this.name="ResponseExceededMaxSizeError",this.message=t||"Response content exceeded max size",this.code="UND_ERR_RES_EXCEEDED_MAX_SIZE"}},Ure=class extends $s{static{o(this,"RequestRetryError")}constructor(t,r,{headers:n,data:i}){super(t),this.name="RequestRetryError",this.message=t||"Request retry error",this.code="UND_ERR_REQ_RETRY",this.statusCode=r,this.data=i,this.headers=n}},qre=class extends $s{static{o(this,"ResponseError")}constructor(t,r,{headers:n,data:i}){super(t),this.name="ResponseError",this.message=t||"Response error",this.code="UND_ERR_RESPONSE",this.statusCode=r,this.data=i,this.headers=n}},Wre=class extends $s{static{o(this,"SecureProxyConnectionError")}constructor(t,r,n){super(r,{cause:t,...n??{}}),this.name="SecureProxyConnectionError",this.message=r||"Secure Proxy Connection failed",this.code="UND_ERR_PRX_TLS",this.cause=t}};t6e.exports={AbortError:AO,HTTPParserError:Mre,UndiciError:$s,HeadersTimeoutError:Ere,HeadersOverflowError:Ire,BodyTimeoutError:Tre,RequestContentLengthMismatchError:Bre,ConnectTimeoutError:bre,ResponseStatusCodeError:wre,InvalidArgumentError:_re,InvalidReturnValueError:Sre,RequestAbortedError:kre,ClientDestroyedError:Pre,ClientClosedError:Fre,InformationalError:Rre,SocketError:Nre,NotSupportedError:Lre,ResponseContentLengthMismatchError:Dre,BalancedPoolMissingUpstreamError:Qre,ResponseExceededMaxSizeError:Ore,RequestRetryError:Ure,ResponseError:qre,SecureProxyConnectionError:Wre}});var CO=j((uUr,r6e)=>{"use strict";d();var yO={},Gre=["Accept","Accept-Encoding","Accept-Language","Accept-Ranges","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Age","Allow","Alt-Svc","Alt-Used","Authorization","Cache-Control","Clear-Site-Data","Connection","Content-Disposition","Content-Encoding","Content-Language","Content-Length","Content-Location","Content-Range","Content-Security-Policy","Content-Security-Policy-Report-Only","Content-Type","Cookie","Cross-Origin-Embedder-Policy","Cross-Origin-Opener-Policy","Cross-Origin-Resource-Policy","Date","Device-Memory","Downlink","ECT","ETag","Expect","Expect-CT","Expires","Forwarded","From","Host","If-Match","If-Modified-Since","If-None-Match","If-Range","If-Unmodified-Since","Keep-Alive","Last-Modified","Link","Location","Max-Forwards","Origin","Permissions-Policy","Pragma","Proxy-Authenticate","Proxy-Authorization","RTT","Range","Referer","Referrer-Policy","Refresh","Retry-After","Sec-WebSocket-Accept","Sec-WebSocket-Extensions","Sec-WebSocket-Key","Sec-WebSocket-Protocol","Sec-WebSocket-Version","Server","Server-Timing","Service-Worker-Allowed","Service-Worker-Navigation-Preload","Set-Cookie","SourceMap","Strict-Transport-Security","Supports-Loading-Mode","TE","Timing-Allow-Origin","Trailer","Transfer-Encoding","Upgrade","Upgrade-Insecure-Requests","User-Agent","Vary","Via","WWW-Authenticate","X-Content-Type-Options","X-DNS-Prefetch-Control","X-Frame-Options","X-Permitted-Cross-Domain-Policies","X-Powered-By","X-Requested-With","X-XSS-Protection"];for(let e=0;e<Gre.length;++e){let t=Gre[e],r=t.toLowerCase();yO[t]=yO[r]=r}Object.setPrototypeOf(yO,null);r6e.exports={wellknownHeaderNames:Gre,headerNameLowerCasedRecord:yO}});var s6e=j((dUr,o6e)=>{"use strict";d();var{wellknownHeaderNames:n6e,headerNameLowerCasedRecord:Gdt}=CO(),Hre=class e{static{o(this,"TstNode")}value=null;left=null;middle=null;right=null;code;constructor(t,r,n){if(n===void 0||n>=t.length)throw new TypeError("Unreachable");if((this.code=t.charCodeAt(n))>127)throw new TypeError("key must be ascii string");t.length!==++n?this.middle=new e(t,r,n):this.value=r}add(t,r){let n=t.length;if(n===0)throw new TypeError("Unreachable");let i=0,s=this;for(;;){let a=t.charCodeAt(i);if(a>127)throw new TypeError("key must be ascii string");if(s.code===a)if(n===++i){s.value=r;break}else if(s.middle!==null)s=s.middle;else{s.middle=new e(t,r,i);break}else if(s.code<a)if(s.left!==null)s=s.left;else{s.left=new e(t,r,i);break}else if(s.right!==null)s=s.right;else{s.right=new e(t,r,i);break}}}search(t){let r=t.length,n=0,i=this;for(;i!==null&&n<r;){let s=t[n];for(s<=90&&s>=65&&(s|=32);i!==null;){if(s===i.code){if(r===++n)return i;i=i.middle;break}i=i.code<s?i.left:i.right}}return null}},xO=class{static{o(this,"TernarySearchTree")}node=null;insert(t,r){this.node===null?this.node=new Hre(t,r,0):this.node.add(t,r)}lookup(t){return this.node?.search(t)?.value??null}},i6e=new xO;for(let e=0;e<n6e.length;++e){let t=Gdt[n6e[e]];i6e.insert(t,t)}o6e.exports={TernarySearchTree:xO,tree:i6e}});var Ci=j((pUr,b6e)=>{"use strict";d();var L_=require("node:assert"),{kDestroyed:l6e,kBodyUsed:x8,kListeners:jre,kBody:a6e}=Ls(),{IncomingMessage:Hdt}=require("node:http"),EO=require("node:stream"),jdt=require("node:net"),{Blob:Vdt}=require("node:buffer"),$dt=require("node:util"),{stringify:zdt}=require("node:querystring"),{EventEmitter:Ydt}=require("node:events"),{InvalidArgumentError:Rl}=yo(),{headerNameLowerCasedRecord:Kdt}=CO(),{tree:c6e}=s6e(),[Jdt,Zdt]=process.versions.node.split(".").map(e=>Number(e)),bO=class{static{o(this,"BodyAsyncIterable")}constructor(t){this[a6e]=t,this[x8]=!1}async*[Symbol.asyncIterator](){L_(!this[x8],"disturbed"),this[x8]=!0,yield*this[a6e]}};function Xdt(e){return IO(e)?(h6e(e)===0&&e.on("data",function(){L_(!1)}),typeof e.readableDidRead!="boolean"&&(e[x8]=!1,Ydt.prototype.on.call(e,"data",function(){this[x8]=!0})),e):e&&typeof e.pipeTo=="function"?new bO(e):e&&typeof e!="string"&&!ArrayBuffer.isView(e)&&m6e(e)?new bO(e):e}o(Xdt,"wrapRequestBody");function emt(){}o(emt,"nop");function IO(e){return e&&typeof e=="object"&&typeof e.pipe=="function"&&typeof e.on=="function"}o(IO,"isStream");function u6e(e){if(e===null)return!1;if(e instanceof Vdt)return!0;if(typeof e!="object")return!1;{let t=e[Symbol.toStringTag];return(t==="Blob"||t==="File")&&("stream"in e&&typeof e.stream=="function"||"arrayBuffer"in e&&typeof e.arrayBuffer=="function")}}o(u6e,"isBlobLike");function tmt(e,t){if(e.includes("?")||e.includes("#"))throw new Error('Query params cannot be passed when url already contains "?" or "#".');let r=zdt(t);return r&&(e+="?"+r),e}o(tmt,"buildURL");function f6e(e){let t=parseInt(e,10);return t===Number(e)&&t>=0&&t<=65535}o(f6e,"isValidPort");function vO(e){return e!=null&&e[0]==="h"&&e[1]==="t"&&e[2]==="t"&&e[3]==="p"&&(e[4]===":"||e[4]==="s"&&e[5]===":")}o(vO,"isHttpOrHttpsPrefixed");function d6e(e){if(typeof e=="string"){if(e=new URL(e),!vO(e.origin||e.protocol))throw new Rl("Invalid URL protocol: the URL must start with `http:` or `https:`.");return e}if(!e||typeof e!="object")throw new Rl("Invalid URL: The URL argument must be a non-null object.");if(!(e instanceof URL)){if(e.port!=null&&e.port!==""&&f6e(e.port)===!1)throw new Rl("Invalid URL: port must be a valid integer or a string representation of an integer.");if(e.path!=null&&typeof e.path!="string")throw new Rl("Invalid URL path: the path must be a string or null/undefined.");if(e.pathname!=null&&typeof e.pathname!="string")throw new Rl("Invalid URL pathname: the pathname must be a string or null/undefined.");if(e.hostname!=null&&typeof e.hostname!="string")throw new Rl("Invalid URL hostname: the hostname must be a string or null/undefined.");if(e.origin!=null&&typeof e.origin!="string")throw new Rl("Invalid URL origin: the origin must be a string or null/undefined.");if(!vO(e.origin||e.protocol))throw new Rl("Invalid URL protocol: the URL must start with `http:` or `https:`.");let t=e.port!=null?e.port:e.protocol==="https:"?443:80,r=e.origin!=null?e.origin:`${e.protocol||""}//${e.hostname||""}:${t}`,n=e.path!=null?e.path:`${e.pathname||""}${e.search||""}`;return r[r.length-1]==="/"&&(r=r.slice(0,r.length-1)),n&&n[0]!=="/"&&(n=`/${n}`),new URL(`${r}${n}`)}if(!vO(e.origin||e.protocol))throw new Rl("Invalid URL protocol: the URL must start with `http:` or `https:`.");return e}o(d6e,"parseURL");function rmt(e){if(e=d6e(e),e.pathname!=="/"||e.search||e.hash)throw new Rl("invalid url");return e}o(rmt,"parseOrigin");function nmt(e){if(e[0]==="["){let r=e.indexOf("]");return L_(r!==-1),e.substring(1,r)}let t=e.indexOf(":");return t===-1?e:e.substring(0,t)}o(nmt,"getHostname");function imt(e){if(!e)return null;L_(typeof e=="string");let t=nmt(e);return jdt.isIP(t)?"":t}o(imt,"getServerName");function omt(e){return JSON.parse(JSON.stringify(e))}o(omt,"deepClone");function smt(e){return e!=null&&typeof e[Symbol.asyncIterator]=="function"}o(smt,"isAsyncIterable");function m6e(e){return e!=null&&(typeof e[Symbol.iterator]=="function"||typeof e[Symbol.asyncIterator]=="function")}o(m6e,"isIterable");function h6e(e){if(e==null)return 0;if(IO(e)){let t=e._readableState;return t&&t.objectMode===!1&&t.ended===!0&&Number.isFinite(t.length)?t.length:null}else{if(u6e(e))return e.size!=null?e.size:null;if(A6e(e))return e.byteLength}return null}o(h6e,"bodyLength");function p6e(e){return e&&!!(e.destroyed||e[l6e]||EO.isDestroyed?.(e))}o(p6e,"isDestroyed");function amt(e,t){e==null||!IO(e)||p6e(e)||(typeof e.destroy=="function"?(Object.getPrototypeOf(e).constructor===Hdt&&(e.socket=null),e.destroy(t)):t&&queueMicrotask(()=>{e.emit("error",t)}),e.destroyed!==!0&&(e[l6e]=!0))}o(amt,"destroy");var lmt=/timeout=(\d+)/;function cmt(e){let t=e.toString().match(lmt);return t?parseInt(t[1],10)*1e3:null}o(cmt,"parseKeepAliveTimeout");function g6e(e){return typeof e=="string"?Kdt[e]??e.toLowerCase():c6e.lookup(e)??e.toString("latin1").toLowerCase()}o(g6e,"headerNameToString");function umt(e){return c6e.lookup(e)??e.toString("latin1").toLowerCase()}o(umt,"bufferToLowerCasedHeaderName");function fmt(e,t){t===void 0&&(t={});for(let r=0;r<e.length;r+=2){let n=g6e(e[r]),i=t[n];if(i)typeof i=="string"&&(i=[i],t[n]=i),i.push(e[r+1].toString("utf8"));else{let s=e[r+1];typeof s=="string"?t[n]=s:t[n]=Array.isArray(s)?s.map(a=>a.toString("utf8")):s.toString("utf8")}}return"content-length"in t&&"content-disposition"in t&&(t["content-disposition"]=Buffer.from(t["content-disposition"]).toString("latin1")),t}o(fmt,"parseHeaders");function dmt(e){let t=e.length,r=new Array(t),n=!1,i=-1,s,a,l=0;for(let c=0;c<e.length;c+=2)s=e[c],a=e[c+1],typeof s!="string"&&(s=s.toString()),typeof a!="string"&&(a=a.toString("utf8")),l=s.length,l===14&&s[7]==="-"&&(s==="content-length"||s.toLowerCase()==="content-length")?n=!0:l===19&&s[7]==="-"&&(s==="content-disposition"||s.toLowerCase()==="content-disposition")&&(i=c+1),r[c]=s,r[c+1]=a;return n&&i!==-1&&(r[i]=Buffer.from(r[i]).toString("latin1")),r}o(dmt,"parseRawHeaders");function A6e(e){return e instanceof Uint8Array||Buffer.isBuffer(e)}o(A6e,"isBuffer");function mmt(e,t,r){if(!e||typeof e!="object")throw new Rl("handler must be an object");if(typeof e.onConnect!="function")throw new Rl("invalid onConnect method");if(typeof e.onError!="function")throw new Rl("invalid onError method");if(typeof e.onBodySent!="function"&&e.onBodySent!==void 0)throw new Rl("invalid onBodySent method");if(r||t==="CONNECT"){if(typeof e.onUpgrade!="function")throw new Rl("invalid onUpgrade method")}else{if(typeof e.onHeaders!="function")throw new Rl("invalid onHeaders method");if(typeof e.onData!="function")throw new Rl("invalid onData method");if(typeof e.onComplete!="function")throw new Rl("invalid onComplete method")}}o(mmt,"validateHandler");function hmt(e){return!!(e&&(EO.isDisturbed(e)||e[x8]))}o(hmt,"isDisturbed");function pmt(e){return!!(e&&EO.isErrored(e))}o(pmt,"isErrored");function gmt(e){return!!(e&&EO.isReadable(e))}o(gmt,"isReadable");function Amt(e){return{localAddress:e.localAddress,localPort:e.localPort,remoteAddress:e.remoteAddress,remotePort:e.remotePort,remoteFamily:e.remoteFamily,timeout:e.timeout,bytesWritten:e.bytesWritten,bytesRead:e.bytesRead}}o(Amt,"getSocketInfo");function ymt(e){let t;return new ReadableStream({async start(){t=e[Symbol.asyncIterator]()},async pull(r){let{done:n,value:i}=await t.next();if(n)queueMicrotask(()=>{r.close(),r.byobRequest?.respond(0)});else{let s=Buffer.isBuffer(i)?i:Buffer.from(i);s.byteLength&&r.enqueue(new Uint8Array(s))}return r.desiredSize>0},async cancel(r){await t.return()},type:"bytes"})}o(ymt,"ReadableStreamFrom");function Cmt(e){return e&&typeof e=="object"&&typeof e.append=="function"&&typeof e.delete=="function"&&typeof e.get=="function"&&typeof e.getAll=="function"&&typeof e.has=="function"&&typeof e.set=="function"&&e[Symbol.toStringTag]==="FormData"}o(Cmt,"isFormDataLike");function xmt(e,t){return"addEventListener"in e?(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)):(e.addListener("abort",t),()=>e.removeListener("abort",t))}o(xmt,"addAbortListener");var vmt=typeof String.prototype.toWellFormed=="function",bmt=typeof String.prototype.isWellFormed=="function";function y6e(e){return vmt?`${e}`.toWellFormed():$dt.toUSVString(e)}o(y6e,"toUSVString");function Emt(e){return bmt?`${e}`.isWellFormed():y6e(e)===`${e}`}o(Emt,"isUSVString");function C6e(e){switch(e){case 34:case 40:case 41:case 44:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 123:case 125:return!1;default:return e>=33&&e<=126}}o(C6e,"isTokenCharCode");function Imt(e){if(e.length===0)return!1;for(let t=0;t<e.length;++t)if(!C6e(e.charCodeAt(t)))return!1;return!0}o(Imt,"isValidHTTPToken");var Tmt=/[^\t\x20-\x7e\x80-\xff]/;function wmt(e){return!Tmt.test(e)}o(wmt,"isValidHeaderValue");function _mt(e){if(e==null||e==="")return{start:0,end:null,size:null};let t=e?e.match(/^bytes (\d+)-(\d+)\/(\d+)?$/):null;return t?{start:parseInt(t[1]),end:t[2]?parseInt(t[2]):null,size:t[3]?parseInt(t[3]):null}:null}o(_mt,"parseRangeHeader");function Smt(e,t,r){return(e[jre]??=[]).push([t,r]),e.on(t,r),e}o(Smt,"addListener");function kmt(e){for(let[t,r]of e[jre]??[])e.removeListener(t,r);e[jre]=null}o(kmt,"removeAllListeners");function Rmt(e,t,r){try{t.onError(r),L_(t.aborted)}catch(n){e.emit("error",n)}}o(Rmt,"errorRequest");var x6e=Object.create(null);x6e.enumerable=!0;var Vre={delete:"DELETE",DELETE:"DELETE",get:"GET",GET:"GET",head:"HEAD",HEAD:"HEAD",options:"OPTIONS",OPTIONS:"OPTIONS",post:"POST",POST:"POST",put:"PUT",PUT:"PUT"},v6e={...Vre,patch:"patch",PATCH:"PATCH"};Object.setPrototypeOf(Vre,null);Object.setPrototypeOf(v6e,null);b6e.exports={kEnumerableProperty:x6e,nop:emt,isDisturbed:hmt,isErrored:pmt,isReadable:gmt,toUSVString:y6e,isUSVString:Emt,isBlobLike:u6e,parseOrigin:rmt,parseURL:d6e,getServerName:imt,isStream:IO,isIterable:m6e,isAsyncIterable:smt,isDestroyed:p6e,headerNameToString:g6e,bufferToLowerCasedHeaderName:umt,addListener:Smt,removeAllListeners:kmt,errorRequest:Rmt,parseRawHeaders:dmt,parseHeaders:fmt,parseKeepAliveTimeout:cmt,destroy:amt,bodyLength:h6e,deepClone:omt,ReadableStreamFrom:ymt,isBuffer:A6e,validateHandler:mmt,getSocketInfo:Amt,isFormDataLike:Cmt,buildURL:tmt,addAbortListener:xmt,isValidHTTPToken:Imt,isValidHeaderValue:wmt,isTokenCharCode:C6e,parseRangeHeader:_mt,normalizedMethodRecordsBase:Vre,normalizedMethodRecords:v6e,isValidPort:f6e,isHttpOrHttpsPrefixed:vO,nodeMajor:Jdt,nodeMinor:Zdt,safeHTTPMethods:["GET","HEAD","OPTIONS","TRACE"],wrapRequestBody:Xdt}});var v8=j((yUr,I6e)=>{"use strict";d();var To=require("node:diagnostics_channel"),zre=require("node:util"),TO=zre.debuglog("undici"),$re=zre.debuglog("fetch"),ux=zre.debuglog("websocket"),E6e=!1,Bmt={beforeConnect:To.channel("undici:client:beforeConnect"),connected:To.channel("undici:client:connected"),connectError:To.channel("undici:client:connectError"),sendHeaders:To.channel("undici:client:sendHeaders"),create:To.channel("undici:request:create"),bodySent:To.channel("undici:request:bodySent"),headers:To.channel("undici:request:headers"),trailers:To.channel("undici:request:trailers"),error:To.channel("undici:request:error"),open:To.channel("undici:websocket:open"),close:To.channel("undici:websocket:close"),socketError:To.channel("undici:websocket:socket_error"),ping:To.channel("undici:websocket:ping"),pong:To.channel("undici:websocket:pong")};if(TO.enabled||$re.enabled){let e=$re.enabled?$re:TO;To.channel("undici:client:beforeConnect").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s}}=t;e("connecting to %s using %s%s",`${s}${i?`:${i}`:""}`,n,r)}),To.channel("undici:client:connected").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s}}=t;e("connected to %s using %s%s",`${s}${i?`:${i}`:""}`,n,r)}),To.channel("undici:client:connectError").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s},error:a}=t;e("connection to %s using %s%s errored - %s",`${s}${i?`:${i}`:""}`,n,r,a.message)}),To.channel("undici:client:sendHeaders").subscribe(t=>{let{request:{method:r,path:n,origin:i}}=t;e("sending request to %s %s/%s",r,i,n)}),To.channel("undici:request:headers").subscribe(t=>{let{request:{method:r,path:n,origin:i},response:{statusCode:s}}=t;e("received response to %s %s/%s - HTTP %d",r,i,n,s)}),To.channel("undici:request:trailers").subscribe(t=>{let{request:{method:r,path:n,origin:i}}=t;e("trailers received from %s %s/%s",r,i,n)}),To.channel("undici:request:error").subscribe(t=>{let{request:{method:r,path:n,origin:i},error:s}=t;e("request to %s %s/%s errored - %s",r,i,n,s.message)}),E6e=!0}if(ux.enabled){if(!E6e){let e=TO.enabled?TO:ux;To.channel("undici:client:beforeConnect").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s}}=t;e("connecting to %s%s using %s%s",s,i?`:${i}`:"",n,r)}),To.channel("undici:client:connected").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s}}=t;e("connected to %s%s using %s%s",s,i?`:${i}`:"",n,r)}),To.channel("undici:client:connectError").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s},error:a}=t;e("connection to %s%s using %s%s errored - %s",s,i?`:${i}`:"",n,r,a.message)}),To.channel("undici:client:sendHeaders").subscribe(t=>{let{request:{method:r,path:n,origin:i}}=t;e("sending request to %s %s/%s",r,i,n)})}To.channel("undici:websocket:open").subscribe(e=>{let{address:{address:t,port:r}}=e;ux("connection opened %s%s",t,r?`:${r}`:"")}),To.channel("undici:websocket:close").subscribe(e=>{let{websocket:t,code:r,reason:n}=e;ux("closed connection to %s - %s %s",t.url,r,n)}),To.channel("undici:websocket:socket_error").subscribe(e=>{ux("connection errored - %s",e.message)}),To.channel("undici:websocket:ping").subscribe(e=>{ux("ping received")}),To.channel("undici:websocket:pong").subscribe(e=>{ux("pong received")})}I6e.exports={channels:Bmt}});var k6e=j((xUr,S6e)=>{"use strict";d();var{InvalidArgumentError:zs,NotSupportedError:Dmt}=yo(),lA=require("node:assert"),{isValidHTTPToken:_6e,isValidHeaderValue:T6e,isStream:Pmt,destroy:Fmt,isBuffer:Nmt,isFormDataLike:Lmt,isIterable:Qmt,isBlobLike:Mmt,buildURL:Omt,validateHandler:Umt,getServerName:qmt,normalizedMethodRecords:Wmt}=Ci(),{channels:zp}=v8(),{headerNameLowerCasedRecord:w6e}=CO(),Gmt=/[^\u0021-\u00ff]/,Pd=Symbol("handler"),Yre=class{static{o(this,"Request")}constructor(t,{path:r,method:n,body:i,headers:s,query:a,idempotent:l,blocking:c,upgrade:u,headersTimeout:f,bodyTimeout:m,reset:h,throwOnError:p,expectContinue:g,servername:x},v){if(typeof r!="string")throw new zs("path must be a string");if(r[0]!=="/"&&!(r.startsWith("http://")||r.startsWith("https://"))&&n!=="CONNECT")throw new zs("path must be an absolute URL or start with a slash");if(Gmt.test(r))throw new zs("invalid request path");if(typeof n!="string")throw new zs("method must be a string");if(Wmt[n]===void 0&&!_6e(n))throw new zs("invalid request method");if(u&&typeof u!="string")throw new zs("upgrade must be a string");if(f!=null&&(!Number.isFinite(f)||f<0))throw new zs("invalid headersTimeout");if(m!=null&&(!Number.isFinite(m)||m<0))throw new zs("invalid bodyTimeout");if(h!=null&&typeof h!="boolean")throw new zs("invalid reset");if(g!=null&&typeof g!="boolean")throw new zs("invalid expectContinue");if(this.headersTimeout=f,this.bodyTimeout=m,this.throwOnError=p===!0,this.method=n,this.abort=null,i==null)this.body=null;else if(Pmt(i)){this.body=i;let E=this.body._readableState;(!E||!E.autoDestroy)&&(this.endHandler=o(function(){Fmt(this)},"autoDestroy"),this.body.on("end",this.endHandler)),this.errorHandler=b=>{this.abort?this.abort(b):this.error=b},this.body.on("error",this.errorHandler)}else if(Nmt(i))this.body=i.byteLength?i:null;else if(ArrayBuffer.isView(i))this.body=i.buffer.byteLength?Buffer.from(i.buffer,i.byteOffset,i.byteLength):null;else if(i instanceof ArrayBuffer)this.body=i.byteLength?Buffer.from(i):null;else if(typeof i=="string")this.body=i.length?Buffer.from(i):null;else if(Lmt(i)||Qmt(i)||Mmt(i))this.body=i;else throw new zs("body must be a string, a Buffer, a Readable stream, an iterable, or an async iterable");if(this.completed=!1,this.aborted=!1,this.upgrade=u||null,this.path=a?Omt(r,a):r,this.origin=t,this.idempotent=l??(n==="HEAD"||n==="GET"),this.blocking=c??!1,this.reset=h??null,this.host=null,this.contentLength=null,this.contentType=null,this.headers=[],this.expectContinue=g??!1,Array.isArray(s)){if(s.length%2!==0)throw new zs("headers array must be even");for(let E=0;E<s.length;E+=2)wO(this,s[E],s[E+1])}else if(s&&typeof s=="object")if(s[Symbol.iterator])for(let E of s){if(!Array.isArray(E)||E.length!==2)throw new zs("headers must be in key-value pair format");wO(this,E[0],E[1])}else{let E=Object.keys(s);for(let b=0;b<E.length;++b)wO(this,E[b],s[E[b]])}else if(s!=null)throw new zs("headers must be an object or an array");Umt(v,n,u),this.servername=x||qmt(this.host),this[Pd]=v,zp.create.hasSubscribers&&zp.create.publish({request:this})}onBodySent(t){if(this[Pd].onBodySent)try{return this[Pd].onBodySent(t)}catch(r){this.abort(r)}}onRequestSent(){if(zp.bodySent.hasSubscribers&&zp.bodySent.publish({request:this}),this[Pd].onRequestSent)try{return this[Pd].onRequestSent()}catch(t){this.abort(t)}}onConnect(t){if(lA(!this.aborted),lA(!this.completed),this.error)t(this.error);else return this.abort=t,this[Pd].onConnect(t)}onResponseStarted(){return this[Pd].onResponseStarted?.()}onHeaders(t,r,n,i){lA(!this.aborted),lA(!this.completed),zp.headers.hasSubscribers&&zp.headers.publish({request:this,response:{statusCode:t,headers:r,statusText:i}});try{return this[Pd].onHeaders(t,r,n,i)}catch(s){this.abort(s)}}onData(t){lA(!this.aborted),lA(!this.completed);try{return this[Pd].onData(t)}catch(r){return this.abort(r),!1}}onUpgrade(t,r,n){return lA(!this.aborted),lA(!this.completed),this[Pd].onUpgrade(t,r,n)}onComplete(t){this.onFinally(),lA(!this.aborted),this.completed=!0,zp.trailers.hasSubscribers&&zp.trailers.publish({request:this,trailers:t});try{return this[Pd].onComplete(t)}catch(r){this.onError(r)}}onError(t){if(this.onFinally(),zp.error.hasSubscribers&&zp.error.publish({request:this,error:t}),!this.aborted)return this.aborted=!0,this[Pd].onError(t)}onFinally(){this.errorHandler&&(this.body.off("error",this.errorHandler),this.errorHandler=null),this.endHandler&&(this.body.off("end",this.endHandler),this.endHandler=null)}addHeader(t,r){return wO(this,t,r),this}};function wO(e,t,r){if(r&&typeof r=="object"&&!Array.isArray(r))throw new zs(`invalid ${t} header`);if(r===void 0)return;let n=w6e[t];if(n===void 0&&(n=t.toLowerCase(),w6e[n]===void 0&&!_6e(n)))throw new zs("invalid header key");if(Array.isArray(r)){let i=[];for(let s=0;s<r.length;s++)if(typeof r[s]=="string"){if(!T6e(r[s]))throw new zs(`invalid ${t} header`);i.push(r[s])}else if(r[s]===null)i.push("");else{if(typeof r[s]=="object")throw new zs(`invalid ${t} header`);i.push(`${r[s]}`)}r=i}else if(typeof r=="string"){if(!T6e(r))throw new zs(`invalid ${t} header`)}else r===null?r="":r=`${r}`;if(e.host===null&&n==="host"){if(typeof r!="string")throw new zs("invalid host header");e.host=r}else if(e.contentLength===null&&n==="content-length"){if(e.contentLength=parseInt(r,10),!Number.isFinite(e.contentLength))throw new zs("invalid content-length header")}else if(e.contentType===null&&n==="content-type")e.contentType=r,e.headers.push(t,r);else{if(n==="transfer-encoding"||n==="keep-alive"||n==="upgrade")throw new zs(`invalid ${n} header`);if(n==="connection"){let i=typeof r=="string"?r.toLowerCase():null;if(i!=="close"&&i!=="keep-alive")throw new zs("invalid connection header");i==="close"&&(e.reset=!0)}else{if(n==="expect")throw new Dmt("expect header not supported");e.headers.push(t,r)}}}o(wO,"processHeader");S6e.exports=Yre});var Q_=j((EUr,R6e)=>{"use strict";d();var Hmt=require("node:events"),_O=class extends Hmt{static{o(this,"Dispatcher")}dispatch(){throw new Error("not implemented")}close(){throw new Error("not implemented")}destroy(){throw new Error("not implemented")}compose(...t){let r=Array.isArray(t[0])?t[0]:t,n=this.dispatch.bind(this);for(let i of r)if(i!=null){if(typeof i!="function")throw new TypeError(`invalid interceptor, expected function received ${typeof i}`);if(n=i(n),n==null||typeof n!="function"||n.length!==2)throw new TypeError("invalid interceptor")}return new Kre(this,n)}},Kre=class extends _O{static{o(this,"ComposedDispatcher")}#e=null;#t=null;constructor(t,r){super(),this.#e=t,this.#t=r}dispatch(...t){this.#t(...t)}close(...t){return this.#e.close(...t)}destroy(...t){return this.#e.destroy(...t)}};R6e.exports=_O});var T8=j((wUr,B6e)=>{"use strict";d();var jmt=Q_(),{ClientDestroyedError:Jre,ClientClosedError:Vmt,InvalidArgumentError:b8}=yo(),{kDestroy:$mt,kClose:zmt,kClosed:M_,kDestroyed:E8,kDispatch:Zre,kInterceptors:fx}=Ls(),cA=Symbol("onDestroyed"),I8=Symbol("onClosed"),SO=Symbol("Intercepted Dispatch"),Xre=class extends jmt{static{o(this,"DispatcherBase")}constructor(){super(),this[E8]=!1,this[cA]=null,this[M_]=!1,this[I8]=[]}get destroyed(){return this[E8]}get closed(){return this[M_]}get interceptors(){return this[fx]}set interceptors(t){if(t){for(let r=t.length-1;r>=0;r--)if(typeof this[fx][r]!="function")throw new b8("interceptor must be an function")}this[fx]=t}close(t){if(t===void 0)return new Promise((n,i)=>{this.close((s,a)=>s?i(s):n(a))});if(typeof t!="function")throw new b8("invalid callback");if(this[E8]){queueMicrotask(()=>t(new Jre,null));return}if(this[M_]){this[I8]?this[I8].push(t):queueMicrotask(()=>t(null,null));return}this[M_]=!0,this[I8].push(t);let r=o(()=>{let n=this[I8];this[I8]=null;for(let i=0;i<n.length;i++)n[i](null,null)},"onClosed");this[zmt]().then(()=>this.destroy()).then(()=>{queueMicrotask(r)})}destroy(t,r){if(typeof t=="function"&&(r=t,t=null),r===void 0)return new Promise((i,s)=>{this.destroy(t,(a,l)=>a?s(a):i(l))});if(typeof r!="function")throw new b8("invalid callback");if(this[E8]){this[cA]?this[cA].push(r):queueMicrotask(()=>r(null,null));return}t||(t=new Jre),this[E8]=!0,this[cA]=this[cA]||[],this[cA].push(r);let n=o(()=>{let i=this[cA];this[cA]=null;for(let s=0;s<i.length;s++)i[s](null,null)},"onDestroyed");this[$mt](t).then(()=>{queueMicrotask(n)})}[SO](t,r){if(!this[fx]||this[fx].length===0)return this[SO]=this[Zre],this[Zre](t,r);let n=this[Zre].bind(this);for(let i=this[fx].length-1;i>=0;i--)n=this[fx][i](n);return this[SO]=n,n(t,r)}dispatch(t,r){if(!r||typeof r!="object")throw new b8("handler must be an object");try{if(!t||typeof t!="object")throw new b8("opts must be an object.");if(this[E8]||this[cA])throw new Jre;if(this[M_])throw new Vmt;return this[SO](t,r)}catch(n){if(typeof r.onError!="function")throw new b8("invalid onError method");return r.onError(n),!1}}};B6e.exports=Xre});var sne=j((kUr,N6e)=>{"use strict";d();var w8=0,ene=1e3,tne=(ene>>1)-1,uA,rne=Symbol("kFastTimer"),fA=[],nne=-2,ine=-1,P6e=0,D6e=1;function one(){w8+=tne;let e=0,t=fA.length;for(;e<t;){let r=fA[e];r._state===P6e?(r._idleStart=w8-tne,r._state=D6e):r._state===D6e&&w8>=r._idleStart+r._idleTimeout&&(r._state=ine,r._idleStart=-1,r._onTimeout(r._timerArg)),r._state===ine?(r._state=nne,--t!==0&&(fA[e]=fA[t])):++e}fA.length=t,fA.length!==0&&F6e()}o(one,"onTick");function F6e(){uA?uA.refresh():(clearTimeout(uA),uA=setTimeout(one,tne),uA.unref&&uA.unref())}o(F6e,"refreshTimeout");var kO=class{static{o(this,"FastTimer")}[rne]=!0;_state=nne;_idleTimeout=-1;_idleStart=-1;_onTimeout;_timerArg;constructor(t,r,n){this._onTimeout=t,this._idleTimeout=r,this._timerArg=n,this.refresh()}refresh(){this._state===nne&&fA.push(this),(!uA||fA.length===1)&&F6e(),this._state=P6e}clear(){this._state=ine,this._idleStart=-1}};N6e.exports={setTimeout(e,t,r){return t<=ene?setTimeout(e,t,r):new kO(e,t,r)},clearTimeout(e){e[rne]?e.clear():clearTimeout(e)},setFastTimeout(e,t,r){return new kO(e,t,r)},clearFastTimeout(e){e.clear()},now(){return w8},tick(e=0){w8+=e-ene+1,one(),one()},reset(){w8=0,fA.length=0,clearTimeout(uA),uA=null},kFastTimer:rne}});var O_=j((FUr,U6e)=>{"use strict";d();var Ymt=require("node:net"),L6e=require("node:assert"),O6e=Ci(),{InvalidArgumentError:Kmt,ConnectTimeoutError:Jmt}=yo(),RO=sne();function Q6e(){}o(Q6e,"noop");var ane,lne;global.FinalizationRegistry&&!(process.env.NODE_V8_COVERAGE||process.env.UNDICI_NO_FG)?lne=class{static{o(this,"WeakSessionCache")}constructor(t){this._maxCachedSessions=t,this._sessionCache=new Map,this._sessionRegistry=new global.FinalizationRegistry(r=>{if(this._sessionCache.size<this._maxCachedSessions)return;let n=this._sessionCache.get(r);n!==void 0&&n.deref()===void 0&&this._sessionCache.delete(r)})}get(t){let r=this._sessionCache.get(t);return r?r.deref():null}set(t,r){this._maxCachedSessions!==0&&(this._sessionCache.set(t,new WeakRef(r)),this._sessionRegistry.register(r,t))}}:lne=class{static{o(this,"SimpleSessionCache")}constructor(t){this._maxCachedSessions=t,this._sessionCache=new Map}get(t){return this._sessionCache.get(t)}set(t,r){if(this._maxCachedSessions!==0){if(this._sessionCache.size>=this._maxCachedSessions){let{value:n}=this._sessionCache.keys().next();this._sessionCache.delete(n)}this._sessionCache.set(t,r)}}};function Zmt({allowH2:e,maxCachedSessions:t,socketPath:r,timeout:n,session:i,...s}){if(t!=null&&(!Number.isInteger(t)||t<0))throw new Kmt("maxCachedSessions must be a positive integer or zero");let a={path:r,...s},l=new lne(t??100);return n=n??1e4,e=e??!1,o(function({hostname:u,host:f,protocol:m,port:h,servername:p,localAddress:g,httpSocket:x},v){let E;if(m==="https:"){ane||(ane=require("node:tls")),p=p||a.servername||O6e.getServerName(f)||null;let _=p||u;L6e(_);let R=i||l.get(_)||null;h=h||443,E=ane.connect({highWaterMark:16384,...a,servername:p,session:R,localAddress:g,ALPNProtocols:e?["http/1.1","h2"]:["http/1.1"],socket:x,port:h,host:u}),E.on("session",function(P){l.set(_,P)})}else L6e(!x,"httpSocket can only be sent on TLS update"),h=h||80,E=Ymt.connect({highWaterMark:64*1024,...a,localAddress:g,port:h,host:u});if(a.keepAlive==null||a.keepAlive){let _=a.keepAliveInitialDelay===void 0?6e4:a.keepAliveInitialDelay;E.setKeepAlive(!0,_)}let b=Xmt(new WeakRef(E),{timeout:n,hostname:u,port:h});return E.setNoDelay(!0).once(m==="https:"?"secureConnect":"connect",function(){if(queueMicrotask(b),v){let _=v;v=null,_(null,this)}}).on("error",function(_){if(queueMicrotask(b),v){let R=v;v=null,R(_)}}),E},"connect")}o(Zmt,"buildConnector");var Xmt=process.platform==="win32"?(e,t)=>{if(!t.timeout)return Q6e;let r=null,n=null,i=RO.setFastTimeout(()=>{r=setImmediate(()=>{n=setImmediate(()=>M6e(e.deref(),t))})},t.timeout);return()=>{RO.clearFastTimeout(i),clearImmediate(r),clearImmediate(n)}}:(e,t)=>{if(!t.timeout)return Q6e;let r=null,n=RO.setFastTimeout(()=>{r=setImmediate(()=>{M6e(e.deref(),t)})},t.timeout);return()=>{RO.clearFastTimeout(n),clearImmediate(r)}};function M6e(e,t){if(e==null)return;let r="Connect Timeout Error";Array.isArray(e.autoSelectFamilyAttemptedAddresses)?r+=` (attempted addresses: ${e.autoSelectFamilyAttemptedAddresses.join(", ")},`:r+=` (attempted address: ${t.hostname}:${t.port},`,r+=` timeout: ${t.timeout}ms)`,O6e.destroy(e,new Jmt(r))}o(M6e,"onConnectTimeout");U6e.exports=Zmt});var q6e=j(BO=>{"use strict";d();Object.defineProperty(BO,"__esModule",{value:!0});BO.enumToMap=void 0;function eht(e){let t={};return Object.keys(e).forEach(r=>{let n=e[r];typeof n=="number"&&(t[r]=n)}),t}o(eht,"enumToMap");BO.enumToMap=eht});var W6e=j(nr=>{"use strict";d();Object.defineProperty(nr,"__esModule",{value:!0});nr.SPECIAL_HEADERS=nr.HEADER_STATE=nr.MINOR=nr.MAJOR=nr.CONNECTION_TOKEN_CHARS=nr.HEADER_CHARS=nr.TOKEN=nr.STRICT_TOKEN=nr.HEX=nr.URL_CHAR=nr.STRICT_URL_CHAR=nr.USERINFO_CHARS=nr.MARK=nr.ALPHANUM=nr.NUM=nr.HEX_MAP=nr.NUM_MAP=nr.ALPHA=nr.FINISH=nr.H_METHOD_MAP=nr.METHOD_MAP=nr.METHODS_RTSP=nr.METHODS_ICE=nr.METHODS_HTTP=nr.METHODS=nr.LENIENT_FLAGS=nr.FLAGS=nr.TYPE=nr.ERROR=void 0;var tht=q6e(),rht;(function(e){e[e.OK=0]="OK",e[e.INTERNAL=1]="INTERNAL",e[e.STRICT=2]="STRICT",e[e.LF_EXPECTED=3]="LF_EXPECTED",e[e.UNEXPECTED_CONTENT_LENGTH=4]="UNEXPECTED_CONTENT_LENGTH",e[e.CLOSED_CONNECTION=5]="CLOSED_CONNECTION",e[e.INVALID_METHOD=6]="INVALID_METHOD",e[e.INVALID_URL=7]="INVALID_URL",e[e.INVALID_CONSTANT=8]="INVALID_CONSTANT",e[e.INVALID_VERSION=9]="INVALID_VERSION",e[e.INVALID_HEADER_TOKEN=10]="INVALID_HEADER_TOKEN",e[e.INVALID_CONTENT_LENGTH=11]="INVALID_CONTENT_LENGTH",e[e.INVALID_CHUNK_SIZE=12]="INVALID_CHUNK_SIZE",e[e.INVALID_STATUS=13]="INVALID_STATUS",e[e.INVALID_EOF_STATE=14]="INVALID_EOF_STATE",e[e.INVALID_TRANSFER_ENCODING=15]="INVALID_TRANSFER_ENCODING",e[e.CB_MESSAGE_BEGIN=16]="CB_MESSAGE_BEGIN",e[e.CB_HEADERS_COMPLETE=17]="CB_HEADERS_COMPLETE",e[e.CB_MESSAGE_COMPLETE=18]="CB_MESSAGE_COMPLETE",e[e.CB_CHUNK_HEADER=19]="CB_CHUNK_HEADER",e[e.CB_CHUNK_COMPLETE=20]="CB_CHUNK_COMPLETE",e[e.PAUSED=21]="PAUSED",e[e.PAUSED_UPGRADE=22]="PAUSED_UPGRADE",e[e.PAUSED_H2_UPGRADE=23]="PAUSED_H2_UPGRADE",e[e.USER=24]="USER"})(rht=nr.ERROR||(nr.ERROR={}));var nht;(function(e){e[e.BOTH=0]="BOTH",e[e.REQUEST=1]="REQUEST",e[e.RESPONSE=2]="RESPONSE"})(nht=nr.TYPE||(nr.TYPE={}));var iht;(function(e){e[e.CONNECTION_KEEP_ALIVE=1]="CONNECTION_KEEP_ALIVE",e[e.CONNECTION_CLOSE=2]="CONNECTION_CLOSE",e[e.CONNECTION_UPGRADE=4]="CONNECTION_UPGRADE",e[e.CHUNKED=8]="CHUNKED",e[e.UPGRADE=16]="UPGRADE",e[e.CONTENT_LENGTH=32]="CONTENT_LENGTH",e[e.SKIPBODY=64]="SKIPBODY",e[e.TRAILING=128]="TRAILING",e[e.TRANSFER_ENCODING=512]="TRANSFER_ENCODING"})(iht=nr.FLAGS||(nr.FLAGS={}));var oht;(function(e){e[e.HEADERS=1]="HEADERS",e[e.CHUNKED_LENGTH=2]="CHUNKED_LENGTH",e[e.KEEP_ALIVE=4]="KEEP_ALIVE"})(oht=nr.LENIENT_FLAGS||(nr.LENIENT_FLAGS={}));var un;(function(e){e[e.DELETE=0]="DELETE",e[e.GET=1]="GET",e[e.HEAD=2]="HEAD",e[e.POST=3]="POST",e[e.PUT=4]="PUT",e[e.CONNECT=5]="CONNECT",e[e.OPTIONS=6]="OPTIONS",e[e.TRACE=7]="TRACE",e[e.COPY=8]="COPY",e[e.LOCK=9]="LOCK",e[e.MKCOL=10]="MKCOL",e[e.MOVE=11]="MOVE",e[e.PROPFIND=12]="PROPFIND",e[e.PROPPATCH=13]="PROPPATCH",e[e.SEARCH=14]="SEARCH",e[e.UNLOCK=15]="UNLOCK",e[e.BIND=16]="BIND",e[e.REBIND=17]="REBIND",e[e.UNBIND=18]="UNBIND",e[e.ACL=19]="ACL",e[e.REPORT=20]="REPORT",e[e.MKACTIVITY=21]="MKACTIVITY",e[e.CHECKOUT=22]="CHECKOUT",e[e.MERGE=23]="MERGE",e[e["M-SEARCH"]=24]="M-SEARCH",e[e.NOTIFY=25]="NOTIFY",e[e.SUBSCRIBE=26]="SUBSCRIBE",e[e.UNSUBSCRIBE=27]="UNSUBSCRIBE",e[e.PATCH=28]="PATCH",e[e.PURGE=29]="PURGE",e[e.MKCALENDAR=30]="MKCALENDAR",e[e.LINK=31]="LINK",e[e.UNLINK=32]="UNLINK",e[e.SOURCE=33]="SOURCE",e[e.PRI=34]="PRI",e[e.DESCRIBE=35]="DESCRIBE",e[e.ANNOUNCE=36]="ANNOUNCE",e[e.SETUP=37]="SETUP",e[e.PLAY=38]="PLAY",e[e.PAUSE=39]="PAUSE",e[e.TEARDOWN=40]="TEARDOWN",e[e.GET_PARAMETER=41]="GET_PARAMETER",e[e.SET_PARAMETER=42]="SET_PARAMETER",e[e.REDIRECT=43]="REDIRECT",e[e.RECORD=44]="RECORD",e[e.FLUSH=45]="FLUSH"})(un=nr.METHODS||(nr.METHODS={}));nr.METHODS_HTTP=[un.DELETE,un.GET,un.HEAD,un.POST,un.PUT,un.CONNECT,un.OPTIONS,un.TRACE,un.COPY,un.LOCK,un.MKCOL,un.MOVE,un.PROPFIND,un.PROPPATCH,un.SEARCH,un.UNLOCK,un.BIND,un.REBIND,un.UNBIND,un.ACL,un.REPORT,un.MKACTIVITY,un.CHECKOUT,un.MERGE,un["M-SEARCH"],un.NOTIFY,un.SUBSCRIBE,un.UNSUBSCRIBE,un.PATCH,un.PURGE,un.MKCALENDAR,un.LINK,un.UNLINK,un.PRI,un.SOURCE];nr.METHODS_ICE=[un.SOURCE];nr.METHODS_RTSP=[un.OPTIONS,un.DESCRIBE,un.ANNOUNCE,un.SETUP,un.PLAY,un.PAUSE,un.TEARDOWN,un.GET_PARAMETER,un.SET_PARAMETER,un.REDIRECT,un.RECORD,un.FLUSH,un.GET,un.POST];nr.METHOD_MAP=tht.enumToMap(un);nr.H_METHOD_MAP={};Object.keys(nr.METHOD_MAP).forEach(e=>{/^H/.test(e)&&(nr.H_METHOD_MAP[e]=nr.METHOD_MAP[e])});var sht;(function(e){e[e.SAFE=0]="SAFE",e[e.SAFE_WITH_CB=1]="SAFE_WITH_CB",e[e.UNSAFE=2]="UNSAFE"})(sht=nr.FINISH||(nr.FINISH={}));nr.ALPHA=[];for(let e=65;e<=90;e++)nr.ALPHA.push(String.fromCharCode(e)),nr.ALPHA.push(String.fromCharCode(e+32));nr.NUM_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9};nr.HEX_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};nr.NUM=["0","1","2","3","4","5","6","7","8","9"];nr.ALPHANUM=nr.ALPHA.concat(nr.NUM);nr.MARK=["-","_",".","!","~","*","'","(",")"];nr.USERINFO_CHARS=nr.ALPHANUM.concat(nr.MARK).concat(["%",";",":","&","=","+","$",","]);nr.STRICT_URL_CHAR=["!",'"',"$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","@","[","\\","]","^","_","`","{","|","}","~"].concat(nr.ALPHANUM);nr.URL_CHAR=nr.STRICT_URL_CHAR.concat(["	","\f"]);for(let e=128;e<=255;e++)nr.URL_CHAR.push(e);nr.HEX=nr.NUM.concat(["a","b","c","d","e","f","A","B","C","D","E","F"]);nr.STRICT_TOKEN=["!","#","$","%","&","'","*","+","-",".","^","_","`","|","~"].concat(nr.ALPHANUM);nr.TOKEN=nr.STRICT_TOKEN.concat([" "]);nr.HEADER_CHARS=["	"];for(let e=32;e<=255;e++)e!==127&&nr.HEADER_CHARS.push(e);nr.CONNECTION_TOKEN_CHARS=nr.HEADER_CHARS.filter(e=>e!==44);nr.MAJOR=nr.NUM_MAP;nr.MINOR=nr.MAJOR;var _8;(function(e){e[e.GENERAL=0]="GENERAL",e[e.CONNECTION=1]="CONNECTION",e[e.CONTENT_LENGTH=2]="CONTENT_LENGTH",e[e.TRANSFER_ENCODING=3]="TRANSFER_ENCODING",e[e.UPGRADE=4]="UPGRADE",e[e.CONNECTION_KEEP_ALIVE=5]="CONNECTION_KEEP_ALIVE",e[e.CONNECTION_CLOSE=6]="CONNECTION_CLOSE",e[e.CONNECTION_UPGRADE=7]="CONNECTION_UPGRADE",e[e.TRANSFER_ENCODING_CHUNKED=8]="TRANSFER_ENCODING_CHUNKED"})(_8=nr.HEADER_STATE||(nr.HEADER_STATE={}));nr.SPECIAL_HEADERS={connection:_8.CONNECTION,"content-length":_8.CONTENT_LENGTH,"proxy-connection":_8.CONNECTION,"transfer-encoding":_8.TRANSFER_ENCODING,upgrade:_8.UPGRADE}});var cne=j((WUr,G6e)=>{"use strict";d();var{Buffer:aht}=require("node:buffer");G6e.exports=aht.from("AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAX8AYAJ/fwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAy0sBQYAAAIAAAAAAAACAQIAAgICAAADAAAAAAMDAwMBAQEBAQEBAQEAAAIAAAAEBQFwARISBQMBAAIGCAF/AUGA1AQLB9EFIgZtZW1vcnkCAAtfaW5pdGlhbGl6ZQAIGV9faW5kaXJlY3RfZnVuY3Rpb25fdGFibGUBAAtsbGh0dHBfaW5pdAAJGGxsaHR0cF9zaG91bGRfa2VlcF9hbGl2ZQAvDGxsaHR0cF9hbGxvYwALBm1hbGxvYwAxC2xsaHR0cF9mcmVlAAwEZnJlZQAMD2xsaHR0cF9nZXRfdHlwZQANFWxsaHR0cF9nZXRfaHR0cF9tYWpvcgAOFWxsaHR0cF9nZXRfaHR0cF9taW5vcgAPEWxsaHR0cF9nZXRfbWV0aG9kABAWbGxodHRwX2dldF9zdGF0dXNfY29kZQAREmxsaHR0cF9nZXRfdXBncmFkZQASDGxsaHR0cF9yZXNldAATDmxsaHR0cF9leGVjdXRlABQUbGxodHRwX3NldHRpbmdzX2luaXQAFQ1sbGh0dHBfZmluaXNoABYMbGxodHRwX3BhdXNlABcNbGxodHRwX3Jlc3VtZQAYG2xsaHR0cF9yZXN1bWVfYWZ0ZXJfdXBncmFkZQAZEGxsaHR0cF9nZXRfZXJybm8AGhdsbGh0dHBfZ2V0X2Vycm9yX3JlYXNvbgAbF2xsaHR0cF9zZXRfZXJyb3JfcmVhc29uABwUbGxodHRwX2dldF9lcnJvcl9wb3MAHRFsbGh0dHBfZXJybm9fbmFtZQAeEmxsaHR0cF9tZXRob2RfbmFtZQAfEmxsaHR0cF9zdGF0dXNfbmFtZQAgGmxsaHR0cF9zZXRfbGVuaWVudF9oZWFkZXJzACEhbGxodHRwX3NldF9sZW5pZW50X2NodW5rZWRfbGVuZ3RoACIdbGxodHRwX3NldF9sZW5pZW50X2tlZXBfYWxpdmUAIyRsbGh0dHBfc2V0X2xlbmllbnRfdHJhbnNmZXJfZW5jb2RpbmcAJBhsbGh0dHBfbWVzc2FnZV9uZWVkc19lb2YALgkXAQBBAQsRAQIDBAUKBgcrLSwqKSglJyYK07MCLBYAQYjQACgCAARAAAtBiNAAQQE2AgALFAAgABAwIAAgAjYCOCAAIAE6ACgLFAAgACAALwEyIAAtAC4gABAvEAALHgEBf0HAABAyIgEQMCABQYAINgI4IAEgADoAKCABC48MAQd/AkAgAEUNACAAQQhrIgEgAEEEaygCACIAQXhxIgRqIQUCQCAAQQFxDQAgAEEDcUUNASABIAEoAgAiAGsiAUGc0AAoAgBJDQEgACAEaiEEAkACQEGg0AAoAgAgAUcEQCAAQf8BTQRAIABBA3YhAyABKAIIIgAgASgCDCICRgRAQYzQAEGM0AAoAgBBfiADd3E2AgAMBQsgAiAANgIIIAAgAjYCDAwECyABKAIYIQYgASABKAIMIgBHBEAgACABKAIIIgI2AgggAiAANgIMDAMLIAFBFGoiAygCACICRQRAIAEoAhAiAkUNAiABQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFKAIEIgBBA3FBA0cNAiAFIABBfnE2AgRBlNAAIAQ2AgAgBSAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCABKAIcIgJBAnRBvNIAaiIDKAIAIAFGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgAUYbaiAANgIAIABFDQELIAAgBjYCGCABKAIQIgIEQCAAIAI2AhAgAiAANgIYCyABQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAFTw0AIAUoAgQiAEEBcUUNAAJAAkACQAJAIABBAnFFBEBBpNAAKAIAIAVGBEBBpNAAIAE2AgBBmNAAQZjQACgCACAEaiIANgIAIAEgAEEBcjYCBCABQaDQACgCAEcNBkGU0ABBADYCAEGg0ABBADYCAAwGC0Gg0AAoAgAgBUYEQEGg0AAgATYCAEGU0ABBlNAAKAIAIARqIgA2AgAgASAAQQFyNgIEIAAgAWogADYCAAwGCyAAQXhxIARqIQQgAEH/AU0EQCAAQQN2IQMgBSgCCCIAIAUoAgwiAkYEQEGM0ABBjNAAKAIAQX4gA3dxNgIADAULIAIgADYCCCAAIAI2AgwMBAsgBSgCGCEGIAUgBSgCDCIARwRAQZzQACgCABogACAFKAIIIgI2AgggAiAANgIMDAMLIAVBFGoiAygCACICRQRAIAUoAhAiAkUNAiAFQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFIABBfnE2AgQgASAEaiAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCAFKAIcIgJBAnRBvNIAaiIDKAIAIAVGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgBUYbaiAANgIAIABFDQELIAAgBjYCGCAFKAIQIgIEQCAAIAI2AhAgAiAANgIYCyAFQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAEaiAENgIAIAEgBEEBcjYCBCABQaDQACgCAEcNAEGU0AAgBDYCAAwBCyAEQf8BTQRAIARBeHFBtNAAaiEAAn9BjNAAKAIAIgJBASAEQQN2dCIDcUUEQEGM0AAgAiADcjYCACAADAELIAAoAggLIgIgATYCDCAAIAE2AgggASAANgIMIAEgAjYCCAwBC0EfIQIgBEH///8HTQRAIARBJiAEQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAgsgASACNgIcIAFCADcCECACQQJ0QbzSAGohAAJAQZDQACgCACIDQQEgAnQiB3FFBEAgACABNgIAQZDQACADIAdyNgIAIAEgADYCGCABIAE2AgggASABNgIMDAELIARBGSACQQF2a0EAIAJBH0cbdCECIAAoAgAhAAJAA0AgACIDKAIEQXhxIARGDQEgAkEddiEAIAJBAXQhAiADIABBBHFqQRBqIgcoAgAiAA0ACyAHIAE2AgAgASADNgIYIAEgATYCDCABIAE2AggMAQsgAygCCCIAIAE2AgwgAyABNgIIIAFBADYCGCABIAM2AgwgASAANgIIC0Gs0ABBrNAAKAIAQQFrIgBBfyAAGzYCAAsLBwAgAC0AKAsHACAALQAqCwcAIAAtACsLBwAgAC0AKQsHACAALwEyCwcAIAAtAC4LQAEEfyAAKAIYIQEgAC0ALSECIAAtACghAyAAKAI4IQQgABAwIAAgBDYCOCAAIAM6ACggACACOgAtIAAgATYCGAu74gECB38DfiABIAJqIQQCQCAAIgIoAgwiAA0AIAIoAgQEQCACIAE2AgQLIwBBEGsiCCQAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAIoAhwiA0EBaw7dAdoBAdkBAgMEBQYHCAkKCwwNDtgBDxDXARES1gETFBUWFxgZGhvgAd8BHB0e1QEfICEiIyQl1AEmJygpKiss0wHSAS0u0QHQAS8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRtsBR0hJSs8BzgFLzQFMzAFNTk9QUVJTVFVWV1hZWltcXV5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6e3x9fn+AAYEBggGDAYQBhQGGAYcBiAGJAYoBiwGMAY0BjgGPAZABkQGSAZMBlAGVAZYBlwGYAZkBmgGbAZwBnQGeAZ8BoAGhAaIBowGkAaUBpgGnAagBqQGqAasBrAGtAa4BrwGwAbEBsgGzAbQBtQG2AbcBywHKAbgByQG5AcgBugG7AbwBvQG+Ab8BwAHBAcIBwwHEAcUBxgEA3AELQQAMxgELQQ4MxQELQQ0MxAELQQ8MwwELQRAMwgELQRMMwQELQRQMwAELQRUMvwELQRYMvgELQRgMvQELQRkMvAELQRoMuwELQRsMugELQRwMuQELQR0MuAELQQgMtwELQR4MtgELQSAMtQELQR8MtAELQQcMswELQSEMsgELQSIMsQELQSMMsAELQSQMrwELQRIMrgELQREMrQELQSUMrAELQSYMqwELQScMqgELQSgMqQELQcMBDKgBC0EqDKcBC0ErDKYBC0EsDKUBC0EtDKQBC0EuDKMBC0EvDKIBC0HEAQyhAQtBMAygAQtBNAyfAQtBDAyeAQtBMQydAQtBMgycAQtBMwybAQtBOQyaAQtBNQyZAQtBxQEMmAELQQsMlwELQToMlgELQTYMlQELQQoMlAELQTcMkwELQTgMkgELQTwMkQELQTsMkAELQT0MjwELQQkMjgELQSkMjQELQT4MjAELQT8MiwELQcAADIoBC0HBAAyJAQtBwgAMiAELQcMADIcBC0HEAAyGAQtBxQAMhQELQcYADIQBC0EXDIMBC0HHAAyCAQtByAAMgQELQckADIABC0HKAAx/C0HLAAx+C0HNAAx9C0HMAAx8C0HOAAx7C0HPAAx6C0HQAAx5C0HRAAx4C0HSAAx3C0HTAAx2C0HUAAx1C0HWAAx0C0HVAAxzC0EGDHILQdcADHELQQUMcAtB2AAMbwtBBAxuC0HZAAxtC0HaAAxsC0HbAAxrC0HcAAxqC0EDDGkLQd0ADGgLQd4ADGcLQd8ADGYLQeEADGULQeAADGQLQeIADGMLQeMADGILQQIMYQtB5AAMYAtB5QAMXwtB5gAMXgtB5wAMXQtB6AAMXAtB6QAMWwtB6gAMWgtB6wAMWQtB7AAMWAtB7QAMVwtB7gAMVgtB7wAMVQtB8AAMVAtB8QAMUwtB8gAMUgtB8wAMUQtB9AAMUAtB9QAMTwtB9gAMTgtB9wAMTQtB+AAMTAtB+QAMSwtB+gAMSgtB+wAMSQtB/AAMSAtB/QAMRwtB/gAMRgtB/wAMRQtBgAEMRAtBgQEMQwtBggEMQgtBgwEMQQtBhAEMQAtBhQEMPwtBhgEMPgtBhwEMPQtBiAEMPAtBiQEMOwtBigEMOgtBiwEMOQtBjAEMOAtBjQEMNwtBjgEMNgtBjwEMNQtBkAEMNAtBkQEMMwtBkgEMMgtBkwEMMQtBlAEMMAtBlQEMLwtBlgEMLgtBlwEMLQtBmAEMLAtBmQEMKwtBmgEMKgtBmwEMKQtBnAEMKAtBnQEMJwtBngEMJgtBnwEMJQtBoAEMJAtBoQEMIwtBogEMIgtBowEMIQtBpAEMIAtBpQEMHwtBpgEMHgtBpwEMHQtBqAEMHAtBqQEMGwtBqgEMGgtBqwEMGQtBrAEMGAtBrQEMFwtBrgEMFgtBAQwVC0GvAQwUC0GwAQwTC0GxAQwSC0GzAQwRC0GyAQwQC0G0AQwPC0G1AQwOC0G2AQwNC0G3AQwMC0G4AQwLC0G5AQwKC0G6AQwJC0G7AQwIC0HGAQwHC0G8AQwGC0G9AQwFC0G+AQwEC0G/AQwDC0HAAQwCC0HCAQwBC0HBAQshAwNAAkACQAJAAkACQAJAAkACQAJAIAICfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAgJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAn8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCADDsYBAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHyAhIyUmKCorLC8wMTIzNDU2Nzk6Ozw9lANAQkRFRklLTk9QUVJTVFVWWFpbXF1eX2BhYmNkZWZnaGpsb3Bxc3V2eHl6e3x/gAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEBkgGTAZQBlQGWAZcBmAGZAZoBmwGcAZ0BngGfAaABoQGiAaMBpAGlAaYBpwGoAakBqgGrAawBrQGuAa8BsAGxAbIBswG0AbUBtgG3AbgBuQG6AbsBvAG9Ab4BvwHAAcEBwgHDAcQBxQHGAccByAHJAcsBzAHNAc4BzwGKA4kDiAOHA4QDgwOAA/sC+gL5AvgC9wL0AvMC8gLLAsECsALZAQsgASAERw3wAkHdASEDDLMDCyABIARHDcgBQcMBIQMMsgMLIAEgBEcNe0H3ACEDDLEDCyABIARHDXBB7wAhAwywAwsgASAERw1pQeoAIQMMrwMLIAEgBEcNZUHoACEDDK4DCyABIARHDWJB5gAhAwytAwsgASAERw0aQRghAwysAwsgASAERw0VQRIhAwyrAwsgASAERw1CQcUAIQMMqgMLIAEgBEcNNEE/IQMMqQMLIAEgBEcNMkE8IQMMqAMLIAEgBEcNK0ExIQMMpwMLIAItAC5BAUYNnwMMwQILQQAhAAJAAkACQCACLQAqRQ0AIAItACtFDQAgAi8BMCIDQQJxRQ0BDAILIAIvATAiA0EBcUUNAQtBASEAIAItAChBAUYNACACLwEyIgVB5ABrQeQASQ0AIAVBzAFGDQAgBUGwAkYNACADQcAAcQ0AQQAhACADQYgEcUGABEYNACADQShxQQBHIQALIAJBADsBMCACQQA6AC8gAEUN3wIgAkIANwMgDOACC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAARQ3MASAAQRVHDd0CIAJBBDYCHCACIAE2AhQgAkGwGDYCECACQRU2AgxBACEDDKQDCyABIARGBEBBBiEDDKQDCyABQQFqIQFBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAA3ZAgwcCyACQgA3AyBBEiEDDIkDCyABIARHDRZBHSEDDKEDCyABIARHBEAgAUEBaiEBQRAhAwyIAwtBByEDDKADCyACIAIpAyAiCiAEIAFrrSILfSIMQgAgCiAMWhs3AyAgCiALWA3UAkEIIQMMnwMLIAEgBEcEQCACQQk2AgggAiABNgIEQRQhAwyGAwtBCSEDDJ4DCyACKQMgQgBSDccBIAIgAi8BMEGAAXI7ATAMQgsgASAERw0/QdAAIQMMnAMLIAEgBEYEQEELIQMMnAMLIAFBAWohAUEAIQACQCACKAI4IgNFDQAgAygCUCIDRQ0AIAIgAxEAACEACyAADc8CDMYBC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ3GASAAQRVHDc0CIAJBCzYCHCACIAE2AhQgAkGCGTYCECACQRU2AgxBACEDDJoDC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ0MIABBFUcNygIgAkEaNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMmQMLQQAhAAJAIAIoAjgiA0UNACADKAJMIgNFDQAgAiADEQAAIQALIABFDcQBIABBFUcNxwIgAkELNgIcIAIgATYCFCACQZEXNgIQIAJBFTYCDEEAIQMMmAMLIAEgBEYEQEEPIQMMmAMLIAEtAAAiAEE7Rg0HIABBDUcNxAIgAUEBaiEBDMMBC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3DASAAQRVHDcICIAJBDzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJYDCwNAIAEtAABB8DVqLQAAIgBBAUcEQCAAQQJHDcECIAIoAgQhAEEAIQMgAkEANgIEIAIgACABQQFqIgEQLSIADcICDMUBCyAEIAFBAWoiAUcNAAtBEiEDDJUDC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3FASAAQRVHDb0CIAJBGzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJQDCyABIARGBEBBFiEDDJQDCyACQQo2AgggAiABNgIEQQAhAAJAIAIoAjgiA0UNACADKAJIIgNFDQAgAiADEQAAIQALIABFDcIBIABBFUcNuQIgAkEVNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMkwMLIAEgBEcEQANAIAEtAABB8DdqLQAAIgBBAkcEQAJAIABBAWsOBMQCvQIAvgK9AgsgAUEBaiEBQQghAwz8AgsgBCABQQFqIgFHDQALQRUhAwyTAwtBFSEDDJIDCwNAIAEtAABB8DlqLQAAIgBBAkcEQCAAQQFrDgTFArcCwwK4ArcCCyAEIAFBAWoiAUcNAAtBGCEDDJEDCyABIARHBEAgAkELNgIIIAIgATYCBEEHIQMM+AILQRkhAwyQAwsgAUEBaiEBDAILIAEgBEYEQEEaIQMMjwMLAkAgAS0AAEENaw4UtQG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwEAvwELQQAhAyACQQA2AhwgAkGvCzYCECACQQI2AgwgAiABQQFqNgIUDI4DCyABIARGBEBBGyEDDI4DCyABLQAAIgBBO0cEQCAAQQ1HDbECIAFBAWohAQy6AQsgAUEBaiEBC0EiIQMM8wILIAEgBEYEQEEcIQMMjAMLQgAhCgJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAS0AAEEwaw43wQLAAgABAgMEBQYH0AHQAdAB0AHQAdAB0AEICQoLDA3QAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdABDg8QERIT0AELQgIhCgzAAgtCAyEKDL8CC0IEIQoMvgILQgUhCgy9AgtCBiEKDLwCC0IHIQoMuwILQgghCgy6AgtCCSEKDLkCC0IKIQoMuAILQgshCgy3AgtCDCEKDLYCC0INIQoMtQILQg4hCgy0AgtCDyEKDLMCC0IKIQoMsgILQgshCgyxAgtCDCEKDLACC0INIQoMrwILQg4hCgyuAgtCDyEKDK0CC0IAIQoCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAEtAABBMGsON8ACvwIAAQIDBAUGB74CvgK+Ar4CvgK+Ar4CCAkKCwwNvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ag4PEBESE74CC0ICIQoMvwILQgMhCgy+AgtCBCEKDL0CC0IFIQoMvAILQgYhCgy7AgtCByEKDLoCC0IIIQoMuQILQgkhCgy4AgtCCiEKDLcCC0ILIQoMtgILQgwhCgy1AgtCDSEKDLQCC0IOIQoMswILQg8hCgyyAgtCCiEKDLECC0ILIQoMsAILQgwhCgyvAgtCDSEKDK4CC0IOIQoMrQILQg8hCgysAgsgAiACKQMgIgogBCABa60iC30iDEIAIAogDFobNwMgIAogC1gNpwJBHyEDDIkDCyABIARHBEAgAkEJNgIIIAIgATYCBEElIQMM8AILQSAhAwyIAwtBASEFIAIvATAiA0EIcUUEQCACKQMgQgBSIQULAkAgAi0ALgRAQQEhACACLQApQQVGDQEgA0HAAHFFIAVxRQ0BC0EAIQAgA0HAAHENAEECIQAgA0EIcQ0AIANBgARxBEACQCACLQAoQQFHDQAgAi0ALUEKcQ0AQQUhAAwCC0EEIQAMAQsgA0EgcUUEQAJAIAItAChBAUYNACACLwEyIgBB5ABrQeQASQ0AIABBzAFGDQAgAEGwAkYNAEEEIQAgA0EocUUNAiADQYgEcUGABEYNAgtBACEADAELQQBBAyACKQMgUBshAAsgAEEBaw4FvgIAsAEBpAKhAgtBESEDDO0CCyACQQE6AC8MhAMLIAEgBEcNnQJBJCEDDIQDCyABIARHDRxBxgAhAwyDAwtBACEAAkAgAigCOCIDRQ0AIAMoAkQiA0UNACACIAMRAAAhAAsgAEUNJyAAQRVHDZgCIAJB0AA2AhwgAiABNgIUIAJBkRg2AhAgAkEVNgIMQQAhAwyCAwsgASAERgRAQSghAwyCAwtBACEDIAJBADYCBCACQQw2AgggAiABIAEQKiIARQ2UAiACQSc2AhwgAiABNgIUIAIgADYCDAyBAwsgASAERgRAQSkhAwyBAwsgAS0AACIAQSBGDRMgAEEJRw2VAiABQQFqIQEMFAsgASAERwRAIAFBAWohAQwWC0EqIQMM/wILIAEgBEYEQEErIQMM/wILIAEtAAAiAEEJRyAAQSBHcQ2QAiACLQAsQQhHDd0CIAJBADoALAzdAgsgASAERgRAQSwhAwz+AgsgAS0AAEEKRw2OAiABQQFqIQEMsAELIAEgBEcNigJBLyEDDPwCCwNAIAEtAAAiAEEgRwRAIABBCmsOBIQCiAKIAoQChgILIAQgAUEBaiIBRw0AC0ExIQMM+wILQTIhAyABIARGDfoCIAIoAgAiACAEIAFraiEHIAEgAGtBA2ohBgJAA0AgAEHwO2otAAAgAS0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQEgAEEDRgRAQQYhAQziAgsgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAc2AgAM+wILIAJBADYCAAyGAgtBMyEDIAQgASIARg35AiAEIAFrIAIoAgAiAWohByAAIAFrQQhqIQYCQANAIAFB9DtqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBCEYEQEEFIQEM4QILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPoCCyACQQA2AgAgACEBDIUCC0E0IQMgBCABIgBGDfgCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgJAA0AgAUHQwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBBUYEQEEHIQEM4AILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPkCCyACQQA2AgAgACEBDIQCCyABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRg0JDIECCyAEIAFBAWoiAUcNAAtBMCEDDPgCC0EwIQMM9wILIAEgBEcEQANAIAEtAAAiAEEgRwRAIABBCmsOBP8B/gH+Af8B/gELIAQgAUEBaiIBRw0AC0E4IQMM9wILQTghAwz2AgsDQCABLQAAIgBBIEcgAEEJR3EN9gEgBCABQQFqIgFHDQALQTwhAwz1AgsDQCABLQAAIgBBIEcEQAJAIABBCmsOBPkBBAT5AQALIABBLEYN9QEMAwsgBCABQQFqIgFHDQALQT8hAwz0AgtBwAAhAyABIARGDfMCIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAEGAQGstAAAgAS0AAEEgckcNASAAQQZGDdsCIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPQCCyACQQA2AgALQTYhAwzZAgsgASAERgRAQcEAIQMM8gILIAJBDDYCCCACIAE2AgQgAi0ALEEBaw4E+wHuAewB6wHUAgsgAUEBaiEBDPoBCyABIARHBEADQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxIgBBCUYNACAAQSBGDQACQAJAAkACQCAAQeMAaw4TAAMDAwMDAwMBAwMDAwMDAwMDAgMLIAFBAWohAUExIQMM3AILIAFBAWohAUEyIQMM2wILIAFBAWohAUEzIQMM2gILDP4BCyAEIAFBAWoiAUcNAAtBNSEDDPACC0E1IQMM7wILIAEgBEcEQANAIAEtAABBgDxqLQAAQQFHDfcBIAQgAUEBaiIBRw0AC0E9IQMM7wILQT0hAwzuAgtBACEAAkAgAigCOCIDRQ0AIAMoAkAiA0UNACACIAMRAAAhAAsgAEUNASAAQRVHDeYBIAJBwgA2AhwgAiABNgIUIAJB4xg2AhAgAkEVNgIMQQAhAwztAgsgAUEBaiEBC0E8IQMM0gILIAEgBEYEQEHCACEDDOsCCwJAA0ACQCABLQAAQQlrDhgAAswCzALRAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAgDMAgsgBCABQQFqIgFHDQALQcIAIQMM6wILIAFBAWohASACLQAtQQFxRQ3+AQtBLCEDDNACCyABIARHDd4BQcQAIQMM6AILA0AgAS0AAEGQwABqLQAAQQFHDZwBIAQgAUEBaiIBRw0AC0HFACEDDOcCCyABLQAAIgBBIEYN/gEgAEE6Rw3AAiACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgAN3gEM3QELQccAIQMgBCABIgBGDeUCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFBkMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvwIgAUEFRg3CAiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzlAgtByAAhAyAEIAEiAEYN5AIgBCABayACKAIAIgFqIQcgACABa0EJaiEGA0AgAUGWwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw2+AkECIAFBCUYNwgIaIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOQCCyABIARGBEBByQAhAwzkAgsCQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxQe4Aaw4HAL8CvwK/Ar8CvwIBvwILIAFBAWohAUE+IQMMywILIAFBAWohAUE/IQMMygILQcoAIQMgBCABIgBGDeICIAQgAWsgAigCACIBaiEGIAAgAWtBAWohBwNAIAFBoMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvAIgAUEBRg2+AiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBjYCAAziAgtBywAhAyAEIAEiAEYN4QIgBCABayACKAIAIgFqIQcgACABa0EOaiEGA0AgAUGiwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw27AiABQQ5GDb4CIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOECC0HMACEDIAQgASIARg3gAiAEIAFrIAIoAgAiAWohByAAIAFrQQ9qIQYDQCABQcDCAGotAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDboCQQMgAUEPRg2+AhogAUEBaiEBIAQgAEEBaiIARw0ACyACIAc2AgAM4AILQc0AIQMgBCABIgBGDd8CIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFB0MIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNuQJBBCABQQVGDb0CGiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzfAgsgASAERgRAQc4AIQMM3wILAkACQAJAAkAgAS0AACIAQSByIAAgAEHBAGtB/wFxQRpJG0H/AXFB4wBrDhMAvAK8ArwCvAK8ArwCvAK8ArwCvAK8ArwCAbwCvAK8AgIDvAILIAFBAWohAUHBACEDDMgCCyABQQFqIQFBwgAhAwzHAgsgAUEBaiEBQcMAIQMMxgILIAFBAWohAUHEACEDDMUCCyABIARHBEAgAkENNgIIIAIgATYCBEHFACEDDMUCC0HPACEDDN0CCwJAAkAgAS0AAEEKaw4EAZABkAEAkAELIAFBAWohAQtBKCEDDMMCCyABIARGBEBB0QAhAwzcAgsgAS0AAEEgRw0AIAFBAWohASACLQAtQQFxRQ3QAQtBFyEDDMECCyABIARHDcsBQdIAIQMM2QILQdMAIQMgASAERg3YAiACKAIAIgAgBCABa2ohBiABIABrQQFqIQUDQCABLQAAIABB1sIAai0AAEcNxwEgAEEBRg3KASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBjYCAAzYAgsgASAERgRAQdUAIQMM2AILIAEtAABBCkcNwgEgAUEBaiEBDMoBCyABIARGBEBB1gAhAwzXAgsCQAJAIAEtAABBCmsOBADDAcMBAcMBCyABQQFqIQEMygELIAFBAWohAUHKACEDDL0CC0EAIQACQCACKAI4IgNFDQAgAygCPCIDRQ0AIAIgAxEAACEACyAADb8BQc0AIQMMvAILIAItAClBIkYNzwIMiQELIAQgASIFRgRAQdsAIQMM1AILQQAhAEEBIQFBASEGQQAhAwJAAn8CQAJAAkACQAJAAkACQCAFLQAAQTBrDgrFAcQBAAECAwQFBgjDAQtBAgwGC0EDDAULQQQMBAtBBQwDC0EGDAILQQcMAQtBCAshA0EAIQFBACEGDL0BC0EJIQNBASEAQQAhAUEAIQYMvAELIAEgBEYEQEHdACEDDNMCCyABLQAAQS5HDbgBIAFBAWohAQyIAQsgASAERw22AUHfACEDDNECCyABIARHBEAgAkEONgIIIAIgATYCBEHQACEDDLgCC0HgACEDDNACC0HhACEDIAEgBEYNzwIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGA0AgAS0AACAAQeLCAGotAABHDbEBIABBA0YNswEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMzwILQeIAIQMgASAERg3OAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYDQCABLQAAIABB5sIAai0AAEcNsAEgAEECRg2vASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAzOAgtB4wAhAyABIARGDc0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgNAIAEtAAAgAEHpwgBqLQAARw2vASAAQQNGDa0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADM0CCyABIARGBEBB5QAhAwzNAgsgAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANqgFB1gAhAwyzAgsgASAERwRAA0AgAS0AACIAQSBHBEACQAJAAkAgAEHIAGsOCwABswGzAbMBswGzAbMBswGzAQKzAQsgAUEBaiEBQdIAIQMMtwILIAFBAWohAUHTACEDDLYCCyABQQFqIQFB1AAhAwy1AgsgBCABQQFqIgFHDQALQeQAIQMMzAILQeQAIQMMywILA0AgAS0AAEHwwgBqLQAAIgBBAUcEQCAAQQJrDgOnAaYBpQGkAQsgBCABQQFqIgFHDQALQeYAIQMMygILIAFBAWogASAERw0CGkHnACEDDMkCCwNAIAEtAABB8MQAai0AACIAQQFHBEACQCAAQQJrDgSiAaEBoAEAnwELQdcAIQMMsQILIAQgAUEBaiIBRw0AC0HoACEDDMgCCyABIARGBEBB6QAhAwzIAgsCQCABLQAAIgBBCmsOGrcBmwGbAbQBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBpAGbAZsBAJkBCyABQQFqCyEBQQYhAwytAgsDQCABLQAAQfDGAGotAABBAUcNfSAEIAFBAWoiAUcNAAtB6gAhAwzFAgsgAUEBaiABIARHDQIaQesAIQMMxAILIAEgBEYEQEHsACEDDMQCCyABQQFqDAELIAEgBEYEQEHtACEDDMMCCyABQQFqCyEBQQQhAwyoAgsgASAERgRAQe4AIQMMwQILAkACQAJAIAEtAABB8MgAai0AAEEBaw4HkAGPAY4BAHwBAo0BCyABQQFqIQEMCwsgAUEBagyTAQtBACEDIAJBADYCHCACQZsSNgIQIAJBBzYCDCACIAFBAWo2AhQMwAILAkADQCABLQAAQfDIAGotAAAiAEEERwRAAkACQCAAQQFrDgeUAZMBkgGNAQAEAY0BC0HaACEDDKoCCyABQQFqIQFB3AAhAwypAgsgBCABQQFqIgFHDQALQe8AIQMMwAILIAFBAWoMkQELIAQgASIARgRAQfAAIQMMvwILIAAtAABBL0cNASAAQQFqIQEMBwsgBCABIgBGBEBB8QAhAwy+AgsgAC0AACIBQS9GBEAgAEEBaiEBQd0AIQMMpQILIAFBCmsiA0EWSw0AIAAhAUEBIAN0QYmAgAJxDfkBC0EAIQMgAkEANgIcIAIgADYCFCACQYwcNgIQIAJBBzYCDAy8AgsgASAERwRAIAFBAWohAUHeACEDDKMCC0HyACEDDLsCCyABIARGBEBB9AAhAwy7AgsCQCABLQAAQfDMAGotAABBAWsOA/cBcwCCAQtB4QAhAwyhAgsgASAERwRAA0AgAS0AAEHwygBqLQAAIgBBA0cEQAJAIABBAWsOAvkBAIUBC0HfACEDDKMCCyAEIAFBAWoiAUcNAAtB8wAhAwy6AgtB8wAhAwy5AgsgASAERwRAIAJBDzYCCCACIAE2AgRB4AAhAwygAgtB9QAhAwy4AgsgASAERgRAQfYAIQMMuAILIAJBDzYCCCACIAE2AgQLQQMhAwydAgsDQCABLQAAQSBHDY4CIAQgAUEBaiIBRw0AC0H3ACEDDLUCCyABIARGBEBB+AAhAwy1AgsgAS0AAEEgRw16IAFBAWohAQxbC0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAADXgMgAILIAEgBEYEQEH6ACEDDLMCCyABLQAAQcwARw10IAFBAWohAUETDHYLQfsAIQMgASAERg2xAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYDQCABLQAAIABB8M4Aai0AAEcNcyAAQQVGDXUgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMsQILIAEgBEYEQEH8ACEDDLECCwJAAkAgAS0AAEHDAGsODAB0dHR0dHR0dHR0AXQLIAFBAWohAUHmACEDDJgCCyABQQFqIQFB5wAhAwyXAgtB/QAhAyABIARGDa8CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDXIgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADLACCyACQQA2AgAgBkEBaiEBQRAMcwtB/gAhAyABIARGDa4CIAIoAgAiACAEIAFraiEFIAEgAGtBBWohBgJAA0AgAS0AACAAQfbOAGotAABHDXEgAEEFRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK8CCyACQQA2AgAgBkEBaiEBQRYMcgtB/wAhAyABIARGDa0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQfzOAGotAABHDXAgAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK4CCyACQQA2AgAgBkEBaiEBQQUMcQsgASAERgRAQYABIQMMrQILIAEtAABB2QBHDW4gAUEBaiEBQQgMcAsgASAERgRAQYEBIQMMrAILAkACQCABLQAAQc4Aaw4DAG8BbwsgAUEBaiEBQesAIQMMkwILIAFBAWohAUHsACEDDJICCyABIARGBEBBggEhAwyrAgsCQAJAIAEtAABByABrDggAbm5ubm5uAW4LIAFBAWohAUHqACEDDJICCyABQQFqIQFB7QAhAwyRAgtBgwEhAyABIARGDakCIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQYDPAGotAABHDWwgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKoCCyACQQA2AgAgBkEBaiEBQQAMbQtBhAEhAyABIARGDagCIAIoAgAiACAEIAFraiEFIAEgAGtBBGohBgJAA0AgAS0AACAAQYPPAGotAABHDWsgAEEERg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKkCCyACQQA2AgAgBkEBaiEBQSMMbAsgASAERgRAQYUBIQMMqAILAkACQCABLQAAQcwAaw4IAGtra2trawFrCyABQQFqIQFB7wAhAwyPAgsgAUEBaiEBQfAAIQMMjgILIAEgBEYEQEGGASEDDKcCCyABLQAAQcUARw1oIAFBAWohAQxgC0GHASEDIAEgBEYNpQIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABBiM8Aai0AAEcNaCAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpgILIAJBADYCACAGQQFqIQFBLQxpC0GIASEDIAEgBEYNpAIgAigCACIAIAQgAWtqIQUgASAAa0EIaiEGAkADQCABLQAAIABB0M8Aai0AAEcNZyAAQQhGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpQILIAJBADYCACAGQQFqIQFBKQxoCyABIARGBEBBiQEhAwykAgtBASABLQAAQd8ARw1nGiABQQFqIQEMXgtBigEhAyABIARGDaICIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgNAIAEtAAAgAEGMzwBqLQAARw1kIABBAUYN+gEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMogILQYsBIQMgASAERg2hAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGOzwBqLQAARw1kIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyiAgsgAkEANgIAIAZBAWohAUECDGULQYwBIQMgASAERg2gAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHwzwBqLQAARw1jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyhAgsgAkEANgIAIAZBAWohAUEfDGQLQY0BIQMgASAERg2fAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHyzwBqLQAARw1iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAygAgsgAkEANgIAIAZBAWohAUEJDGMLIAEgBEYEQEGOASEDDJ8CCwJAAkAgAS0AAEHJAGsOBwBiYmJiYgFiCyABQQFqIQFB+AAhAwyGAgsgAUEBaiEBQfkAIQMMhQILQY8BIQMgASAERg2dAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGRzwBqLQAARw1gIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyeAgsgAkEANgIAIAZBAWohAUEYDGELQZABIQMgASAERg2cAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGXzwBqLQAARw1fIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAydAgsgAkEANgIAIAZBAWohAUEXDGALQZEBIQMgASAERg2bAiACKAIAIgAgBCABa2ohBSABIABrQQZqIQYCQANAIAEtAAAgAEGazwBqLQAARw1eIABBBkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAycAgsgAkEANgIAIAZBAWohAUEVDF8LQZIBIQMgASAERg2aAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGhzwBqLQAARw1dIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAybAgsgAkEANgIAIAZBAWohAUEeDF4LIAEgBEYEQEGTASEDDJoCCyABLQAAQcwARw1bIAFBAWohAUEKDF0LIAEgBEYEQEGUASEDDJkCCwJAAkAgAS0AAEHBAGsODwBcXFxcXFxcXFxcXFxcAVwLIAFBAWohAUH+ACEDDIACCyABQQFqIQFB/wAhAwz/AQsgASAERgRAQZUBIQMMmAILAkACQCABLQAAQcEAaw4DAFsBWwsgAUEBaiEBQf0AIQMM/wELIAFBAWohAUGAASEDDP4BC0GWASEDIAEgBEYNlgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBp88Aai0AAEcNWSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlwILIAJBADYCACAGQQFqIQFBCwxaCyABIARGBEBBlwEhAwyWAgsCQAJAAkACQCABLQAAQS1rDiMAW1tbW1tbW1tbW1tbW1tbW1tbW1tbW1sBW1tbW1sCW1tbA1sLIAFBAWohAUH7ACEDDP8BCyABQQFqIQFB/AAhAwz+AQsgAUEBaiEBQYEBIQMM/QELIAFBAWohAUGCASEDDPwBC0GYASEDIAEgBEYNlAIgAigCACIAIAQgAWtqIQUgASAAa0EEaiEGAkADQCABLQAAIABBqc8Aai0AAEcNVyAAQQRGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlQILIAJBADYCACAGQQFqIQFBGQxYC0GZASEDIAEgBEYNkwIgAigCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABBrs8Aai0AAEcNViAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlAILIAJBADYCACAGQQFqIQFBBgxXC0GaASEDIAEgBEYNkgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBtM8Aai0AAEcNVSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkwILIAJBADYCACAGQQFqIQFBHAxWC0GbASEDIAEgBEYNkQIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBts8Aai0AAEcNVCAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkgILIAJBADYCACAGQQFqIQFBJwxVCyABIARGBEBBnAEhAwyRAgsCQAJAIAEtAABB1ABrDgIAAVQLIAFBAWohAUGGASEDDPgBCyABQQFqIQFBhwEhAwz3AQtBnQEhAyABIARGDY8CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbjPAGotAABHDVIgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADJACCyACQQA2AgAgBkEBaiEBQSYMUwtBngEhAyABIARGDY4CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbrPAGotAABHDVEgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI8CCyACQQA2AgAgBkEBaiEBQQMMUgtBnwEhAyABIARGDY0CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDVAgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI4CCyACQQA2AgAgBkEBaiEBQQwMUQtBoAEhAyABIARGDYwCIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQbzPAGotAABHDU8gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI0CCyACQQA2AgAgBkEBaiEBQQ0MUAsgASAERgRAQaEBIQMMjAILAkACQCABLQAAQcYAaw4LAE9PT09PT09PTwFPCyABQQFqIQFBiwEhAwzzAQsgAUEBaiEBQYwBIQMM8gELIAEgBEYEQEGiASEDDIsCCyABLQAAQdAARw1MIAFBAWohAQxGCyABIARGBEBBowEhAwyKAgsCQAJAIAEtAABByQBrDgcBTU1NTU0ATQsgAUEBaiEBQY4BIQMM8QELIAFBAWohAUEiDE0LQaQBIQMgASAERg2IAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHAzwBqLQAARw1LIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyJAgsgAkEANgIAIAZBAWohAUEdDEwLIAEgBEYEQEGlASEDDIgCCwJAAkAgAS0AAEHSAGsOAwBLAUsLIAFBAWohAUGQASEDDO8BCyABQQFqIQFBBAxLCyABIARGBEBBpgEhAwyHAgsCQAJAAkACQAJAIAEtAABBwQBrDhUATU1NTU1NTU1NTQFNTQJNTQNNTQRNCyABQQFqIQFBiAEhAwzxAQsgAUEBaiEBQYkBIQMM8AELIAFBAWohAUGKASEDDO8BCyABQQFqIQFBjwEhAwzuAQsgAUEBaiEBQZEBIQMM7QELQacBIQMgASAERg2FAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHtzwBqLQAARw1IIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyGAgsgAkEANgIAIAZBAWohAUERDEkLQagBIQMgASAERg2EAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHCzwBqLQAARw1HIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyFAgsgAkEANgIAIAZBAWohAUEsDEgLQakBIQMgASAERg2DAiACKAIAIgAgBCABa2ohBSABIABrQQRqIQYCQANAIAEtAAAgAEHFzwBqLQAARw1GIABBBEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyEAgsgAkEANgIAIAZBAWohAUErDEcLQaoBIQMgASAERg2CAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHKzwBqLQAARw1FIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyDAgsgAkEANgIAIAZBAWohAUEUDEYLIAEgBEYEQEGrASEDDIICCwJAAkACQAJAIAEtAABBwgBrDg8AAQJHR0dHR0dHR0dHRwNHCyABQQFqIQFBkwEhAwzrAQsgAUEBaiEBQZQBIQMM6gELIAFBAWohAUGVASEDDOkBCyABQQFqIQFBlgEhAwzoAQsgASAERgRAQawBIQMMgQILIAEtAABBxQBHDUIgAUEBaiEBDD0LQa0BIQMgASAERg3/ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHNzwBqLQAARw1CIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyAAgsgAkEANgIAIAZBAWohAUEODEMLIAEgBEYEQEGuASEDDP8BCyABLQAAQdAARw1AIAFBAWohAUElDEILQa8BIQMgASAERg39ASACKAIAIgAgBCABa2ohBSABIABrQQhqIQYCQANAIAEtAAAgAEHQzwBqLQAARw1AIABBCEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz+AQsgAkEANgIAIAZBAWohAUEqDEELIAEgBEYEQEGwASEDDP0BCwJAAkAgAS0AAEHVAGsOCwBAQEBAQEBAQEABQAsgAUEBaiEBQZoBIQMM5AELIAFBAWohAUGbASEDDOMBCyABIARGBEBBsQEhAwz8AQsCQAJAIAEtAABBwQBrDhQAPz8/Pz8/Pz8/Pz8/Pz8/Pz8/AT8LIAFBAWohAUGZASEDDOMBCyABQQFqIQFBnAEhAwziAQtBsgEhAyABIARGDfoBIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQdnPAGotAABHDT0gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPsBCyACQQA2AgAgBkEBaiEBQSEMPgtBswEhAyABIARGDfkBIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAS0AACAAQd3PAGotAABHDTwgAEEGRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPoBCyACQQA2AgAgBkEBaiEBQRoMPQsgASAERgRAQbQBIQMM+QELAkACQAJAIAEtAABBxQBrDhEAPT09PT09PT09AT09PT09Aj0LIAFBAWohAUGdASEDDOEBCyABQQFqIQFBngEhAwzgAQsgAUEBaiEBQZ8BIQMM3wELQbUBIQMgASAERg33ASACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEHkzwBqLQAARw06IABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz4AQsgAkEANgIAIAZBAWohAUEoDDsLQbYBIQMgASAERg32ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHqzwBqLQAARw05IABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz3AQsgAkEANgIAIAZBAWohAUEHDDoLIAEgBEYEQEG3ASEDDPYBCwJAAkAgAS0AAEHFAGsODgA5OTk5OTk5OTk5OTkBOQsgAUEBaiEBQaEBIQMM3QELIAFBAWohAUGiASEDDNwBC0G4ASEDIAEgBEYN9AEgAigCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB7c8Aai0AAEcNNyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9QELIAJBADYCACAGQQFqIQFBEgw4C0G5ASEDIAEgBEYN8wEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8M8Aai0AAEcNNiAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9AELIAJBADYCACAGQQFqIQFBIAw3C0G6ASEDIAEgBEYN8gEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8s8Aai0AAEcNNSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8wELIAJBADYCACAGQQFqIQFBDww2CyABIARGBEBBuwEhAwzyAQsCQAJAIAEtAABByQBrDgcANTU1NTUBNQsgAUEBaiEBQaUBIQMM2QELIAFBAWohAUGmASEDDNgBC0G8ASEDIAEgBEYN8AEgAigCACIAIAQgAWtqIQUgASAAa0EHaiEGAkADQCABLQAAIABB9M8Aai0AAEcNMyAAQQdGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8QELIAJBADYCACAGQQFqIQFBGww0CyABIARGBEBBvQEhAwzwAQsCQAJAAkAgAS0AAEHCAGsOEgA0NDQ0NDQ0NDQBNDQ0NDQ0AjQLIAFBAWohAUGkASEDDNgBCyABQQFqIQFBpwEhAwzXAQsgAUEBaiEBQagBIQMM1gELIAEgBEYEQEG+ASEDDO8BCyABLQAAQc4ARw0wIAFBAWohAQwsCyABIARGBEBBvwEhAwzuAQsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCABLQAAQcEAaw4VAAECAz8EBQY/Pz8HCAkKCz8MDQ4PPwsgAUEBaiEBQegAIQMM4wELIAFBAWohAUHpACEDDOIBCyABQQFqIQFB7gAhAwzhAQsgAUEBaiEBQfIAIQMM4AELIAFBAWohAUHzACEDDN8BCyABQQFqIQFB9gAhAwzeAQsgAUEBaiEBQfcAIQMM3QELIAFBAWohAUH6ACEDDNwBCyABQQFqIQFBgwEhAwzbAQsgAUEBaiEBQYQBIQMM2gELIAFBAWohAUGFASEDDNkBCyABQQFqIQFBkgEhAwzYAQsgAUEBaiEBQZgBIQMM1wELIAFBAWohAUGgASEDDNYBCyABQQFqIQFBowEhAwzVAQsgAUEBaiEBQaoBIQMM1AELIAEgBEcEQCACQRA2AgggAiABNgIEQasBIQMM1AELQcABIQMM7AELQQAhAAJAIAIoAjgiA0UNACADKAI0IgNFDQAgAiADEQAAIQALIABFDV4gAEEVRw0HIAJB0QA2AhwgAiABNgIUIAJBsBc2AhAgAkEVNgIMQQAhAwzrAQsgAUEBaiABIARHDQgaQcIBIQMM6gELA0ACQCABLQAAQQprDgQIAAALAAsgBCABQQFqIgFHDQALQcMBIQMM6QELIAEgBEcEQCACQRE2AgggAiABNgIEQQEhAwzQAQtBxAEhAwzoAQsgASAERgRAQcUBIQMM6AELAkACQCABLQAAQQprDgQBKCgAKAsgAUEBagwJCyABQQFqDAULIAEgBEYEQEHGASEDDOcBCwJAAkAgAS0AAEEKaw4XAQsLAQsLCwsLCwsLCwsLCwsLCwsLCwALCyABQQFqIQELQbABIQMMzQELIAEgBEYEQEHIASEDDOYBCyABLQAAQSBHDQkgAkEAOwEyIAFBAWohAUGzASEDDMwBCwNAIAEhAAJAIAEgBEcEQCABLQAAQTBrQf8BcSIDQQpJDQEMJwtBxwEhAwzmAQsCQCACLwEyIgFBmTNLDQAgAiABQQpsIgU7ATIgBUH+/wNxIANB//8Dc0sNACAAQQFqIQEgAiADIAVqIgM7ATIgA0H//wNxQegHSQ0BCwtBACEDIAJBADYCHCACQcEJNgIQIAJBDTYCDCACIABBAWo2AhQM5AELIAJBADYCHCACIAE2AhQgAkHwDDYCECACQRs2AgxBACEDDOMBCyACKAIEIQAgAkEANgIEIAIgACABECYiAA0BIAFBAWoLIQFBrQEhAwzIAQsgAkHBATYCHCACIAA2AgwgAiABQQFqNgIUQQAhAwzgAQsgAigCBCEAIAJBADYCBCACIAAgARAmIgANASABQQFqCyEBQa4BIQMMxQELIAJBwgE2AhwgAiAANgIMIAIgAUEBajYCFEEAIQMM3QELIAJBADYCHCACIAE2AhQgAkGXCzYCECACQQ02AgxBACEDDNwBCyACQQA2AhwgAiABNgIUIAJB4xA2AhAgAkEJNgIMQQAhAwzbAQsgAkECOgAoDKwBC0EAIQMgAkEANgIcIAJBrws2AhAgAkECNgIMIAIgAUEBajYCFAzZAQtBAiEDDL8BC0ENIQMMvgELQSYhAwy9AQtBFSEDDLwBC0EWIQMMuwELQRghAwy6AQtBHCEDDLkBC0EdIQMMuAELQSAhAwy3AQtBISEDDLYBC0EjIQMMtQELQcYAIQMMtAELQS4hAwyzAQtBPSEDDLIBC0HLACEDDLEBC0HOACEDDLABC0HYACEDDK8BC0HZACEDDK4BC0HbACEDDK0BC0HxACEDDKwBC0H0ACEDDKsBC0GNASEDDKoBC0GXASEDDKkBC0GpASEDDKgBC0GvASEDDKcBC0GxASEDDKYBCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB8Rs2AhAgAkEGNgIMDL0BCyACQQA2AgAgBkEBaiEBQSQLOgApIAIoAgQhACACQQA2AgQgAiAAIAEQJyIARQRAQeUAIQMMowELIAJB+QA2AhwgAiABNgIUIAIgADYCDEEAIQMMuwELIABBFUcEQCACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwy7AQsgAkH4ADYCHCACIAE2AhQgAkHKGDYCECACQRU2AgxBACEDDLoBCyACQQA2AhwgAiABNgIUIAJBjhs2AhAgAkEGNgIMQQAhAwy5AQsgAkEANgIcIAIgATYCFCACQf4RNgIQIAJBBzYCDEEAIQMMuAELIAJBADYCHCACIAE2AhQgAkGMHDYCECACQQc2AgxBACEDDLcBCyACQQA2AhwgAiABNgIUIAJBww82AhAgAkEHNgIMQQAhAwy2AQsgAkEANgIcIAIgATYCFCACQcMPNgIQIAJBBzYCDEEAIQMMtQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0RIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMtAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0gIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMswELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0iIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMsgELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0OIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMsQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0dIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMsAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0fIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMrwELIABBP0cNASABQQFqCyEBQQUhAwyUAQtBACEDIAJBADYCHCACIAE2AhQgAkH9EjYCECACQQc2AgwMrAELIAJBADYCHCACIAE2AhQgAkHcCDYCECACQQc2AgxBACEDDKsBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNByACQeUANgIcIAIgATYCFCACIAA2AgxBACEDDKoBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNFiACQdMANgIcIAIgATYCFCACIAA2AgxBACEDDKkBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNGCACQdIANgIcIAIgATYCFCACIAA2AgxBACEDDKgBCyACQQA2AhwgAiABNgIUIAJBxgo2AhAgAkEHNgIMQQAhAwynAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQMgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwymAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRIgAkHTADYCHCACIAE2AhQgAiAANgIMQQAhAwylAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRQgAkHSADYCHCACIAE2AhQgAiAANgIMQQAhAwykAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQAgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwyjAQtB1QAhAwyJAQsgAEEVRwRAIAJBADYCHCACIAE2AhQgAkG5DTYCECACQRo2AgxBACEDDKIBCyACQeQANgIcIAIgATYCFCACQeMXNgIQIAJBFTYCDEEAIQMMoQELIAJBADYCACAGQQFqIQEgAi0AKSIAQSNrQQtJDQQCQCAAQQZLDQBBASAAdEHKAHFFDQAMBQtBACEDIAJBADYCHCACIAE2AhQgAkH3CTYCECACQQg2AgwMoAELIAJBADYCACAGQQFqIQEgAi0AKUEhRg0DIAJBADYCHCACIAE2AhQgAkGbCjYCECACQQg2AgxBACEDDJ8BCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJBkDM2AhAgAkEINgIMDJ0BCyACQQA2AgAgBkEBaiEBIAItAClBI0kNACACQQA2AhwgAiABNgIUIAJB0wk2AhAgAkEINgIMQQAhAwycAQtB0QAhAwyCAQsgAS0AAEEwayIAQf8BcUEKSQRAIAIgADoAKiABQQFqIQFBzwAhAwyCAQsgAigCBCEAIAJBADYCBCACIAAgARAoIgBFDYYBIAJB3gA2AhwgAiABNgIUIAIgADYCDEEAIQMMmgELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ2GASACQdwANgIcIAIgATYCFCACIAA2AgxBACEDDJkBCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMhwELIAJB2gA2AhwgAiAFNgIUIAIgADYCDAyYAQtBACEBQQEhAwsgAiADOgArIAVBAWohAwJAAkACQCACLQAtQRBxDQACQAJAAkAgAi0AKg4DAQACBAsgBkUNAwwCCyAADQEMAgsgAUUNAQsgAigCBCEAIAJBADYCBCACIAAgAxAoIgBFBEAgAyEBDAILIAJB2AA2AhwgAiADNgIUIAIgADYCDEEAIQMMmAELIAIoAgQhACACQQA2AgQgAiAAIAMQKCIARQRAIAMhAQyHAQsgAkHZADYCHCACIAM2AhQgAiAANgIMQQAhAwyXAQtBzAAhAwx9CyAAQRVHBEAgAkEANgIcIAIgATYCFCACQZQNNgIQIAJBITYCDEEAIQMMlgELIAJB1wA2AhwgAiABNgIUIAJByRc2AhAgAkEVNgIMQQAhAwyVAQtBACEDIAJBADYCHCACIAE2AhQgAkGAETYCECACQQk2AgwMlAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0AIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMkwELQckAIQMMeQsgAkEANgIcIAIgATYCFCACQcEoNgIQIAJBBzYCDCACQQA2AgBBACEDDJEBCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAlIgBFDQAgAkHSADYCHCACIAE2AhQgAiAANgIMDJABC0HIACEDDHYLIAJBADYCACAFIQELIAJBgBI7ASogAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANAQtBxwAhAwxzCyAAQRVGBEAgAkHRADYCHCACIAE2AhQgAkHjFzYCECACQRU2AgxBACEDDIwBC0EAIQMgAkEANgIcIAIgATYCFCACQbkNNgIQIAJBGjYCDAyLAQtBACEDIAJBADYCHCACIAE2AhQgAkGgGTYCECACQR42AgwMigELIAEtAABBOkYEQCACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgBFDQEgAkHDADYCHCACIAA2AgwgAiABQQFqNgIUDIoBC0EAIQMgAkEANgIcIAIgATYCFCACQbERNgIQIAJBCjYCDAyJAQsgAUEBaiEBQTshAwxvCyACQcMANgIcIAIgADYCDCACIAFBAWo2AhQMhwELQQAhAyACQQA2AhwgAiABNgIUIAJB8A42AhAgAkEcNgIMDIYBCyACIAIvATBBEHI7ATAMZgsCQCACLwEwIgBBCHFFDQAgAi0AKEEBRw0AIAItAC1BCHFFDQMLIAIgAEH3+wNxQYAEcjsBMAwECyABIARHBEACQANAIAEtAABBMGsiAEH/AXFBCk8EQEE1IQMMbgsgAikDICIKQpmz5syZs+bMGVYNASACIApCCn4iCjcDICAKIACtQv8BgyILQn+FVg0BIAIgCiALfDcDICAEIAFBAWoiAUcNAAtBOSEDDIUBCyACKAIEIQBBACEDIAJBADYCBCACIAAgAUEBaiIBECoiAA0MDHcLQTkhAwyDAQsgAi0AMEEgcQ0GQcUBIQMMaQtBACEDIAJBADYCBCACIAEgARAqIgBFDQQgAkE6NgIcIAIgADYCDCACIAFBAWo2AhQMgQELIAItAChBAUcNACACLQAtQQhxRQ0BC0E3IQMMZgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIABEAgAkE7NgIcIAIgADYCDCACIAFBAWo2AhQMfwsgAUEBaiEBDG4LIAJBCDoALAwECyABQQFqIQEMbQtBACEDIAJBADYCHCACIAE2AhQgAkHkEjYCECACQQQ2AgwMewsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ1sIAJBNzYCHCACIAE2AhQgAiAANgIMDHoLIAIgAi8BMEEgcjsBMAtBMCEDDF8LIAJBNjYCHCACIAE2AhQgAiAANgIMDHcLIABBLEcNASABQQFqIQBBASEBAkACQAJAAkACQCACLQAsQQVrDgQDAQIEAAsgACEBDAQLQQIhAQwBC0EEIQELIAJBAToALCACIAIvATAgAXI7ATAgACEBDAELIAIgAi8BMEEIcjsBMCAAIQELQTkhAwxcCyACQQA6ACwLQTQhAwxaCyABIARGBEBBLSEDDHMLAkACQANAAkAgAS0AAEEKaw4EAgAAAwALIAQgAUEBaiIBRw0AC0EtIQMMdAsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ0CIAJBLDYCHCACIAE2AhQgAiAANgIMDHMLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAS0AAEENRgRAIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAi0ALUEBcQRAQcQBIQMMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIADQEMZQtBLyEDDFcLIAJBLjYCHCACIAE2AhQgAiAANgIMDG8LQQAhAyACQQA2AhwgAiABNgIUIAJB8BQ2AhAgAkEDNgIMDG4LQQEhAwJAAkACQAJAIAItACxBBWsOBAMBAgAECyACIAIvATBBCHI7ATAMAwtBAiEDDAELQQQhAwsgAkEBOgAsIAIgAi8BMCADcjsBMAtBKiEDDFMLQQAhAyACQQA2AhwgAiABNgIUIAJB4Q82AhAgAkEKNgIMDGsLQQEhAwJAAkACQAJAAkACQCACLQAsQQJrDgcFBAQDAQIABAsgAiACLwEwQQhyOwEwDAMLQQIhAwwBC0EEIQMLIAJBAToALCACIAIvATAgA3I7ATALQSshAwxSC0EAIQMgAkEANgIcIAIgATYCFCACQasSNgIQIAJBCzYCDAxqC0EAIQMgAkEANgIcIAIgATYCFCACQf0NNgIQIAJBHTYCDAxpCyABIARHBEADQCABLQAAQSBHDUggBCABQQFqIgFHDQALQSUhAwxpC0ElIQMMaAsgAi0ALUEBcQRAQcMBIQMMTwsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKSIABEAgAkEmNgIcIAIgADYCDCACIAFBAWo2AhQMaAsgAUEBaiEBDFwLIAFBAWohASACLwEwIgBBgAFxBEBBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAEUNBiAAQRVHDR8gAkEFNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMZwsCQCAAQaAEcUGgBEcNACACLQAtQQJxDQBBACEDIAJBADYCHCACIAE2AhQgAkGWEzYCECACQQQ2AgwMZwsgAgJ/IAIvATBBFHFBFEYEQEEBIAItAChBAUYNARogAi8BMkHlAEYMAQsgAi0AKUEFRgs6AC5BACEAAkAgAigCOCIDRQ0AIAMoAiQiA0UNACACIAMRAAAhAAsCQAJAAkACQAJAIAAOFgIBAAQEBAQEBAQEBAQEBAQEBAQEBAMECyACQQE6AC4LIAIgAi8BMEHAAHI7ATALQSchAwxPCyACQSM2AhwgAiABNgIUIAJBpRY2AhAgAkEVNgIMQQAhAwxnC0EAIQMgAkEANgIcIAIgATYCFCACQdULNgIQIAJBETYCDAxmC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAADQELQQ4hAwxLCyAAQRVGBEAgAkECNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMZAtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMYwtBACEDIAJBADYCHCACIAE2AhQgAkGqHDYCECACQQ82AgwMYgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEgCqdqIgEQKyIARQ0AIAJBBTYCHCACIAE2AhQgAiAANgIMDGELQQ8hAwxHC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxfC0IBIQoLIAFBAWohAQJAIAIpAyAiC0L//////////w9YBEAgAiALQgSGIAqENwMgDAELQQAhAyACQQA2AhwgAiABNgIUIAJBrQk2AhAgAkEMNgIMDF4LQSQhAwxEC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxcCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAsIgBFBEAgAUEBaiEBDFILIAJBFzYCHCACIAA2AgwgAiABQQFqNgIUDFsLIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQRY2AhwgAiAANgIMIAIgAUEBajYCFAxbC0EfIQMMQQtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQLSIARQRAIAFBAWohAQxQCyACQRQ2AhwgAiAANgIMIAIgAUEBajYCFAxYCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABEC0iAEUEQCABQQFqIQEMAQsgAkETNgIcIAIgADYCDCACIAFBAWo2AhQMWAtBHiEDDD4LQQAhAyACQQA2AhwgAiABNgIUIAJBxgw2AhAgAkEjNgIMDFYLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABEC0iAEUEQCABQQFqIQEMTgsgAkERNgIcIAIgADYCDCACIAFBAWo2AhQMVQsgAkEQNgIcIAIgATYCFCACIAA2AgwMVAtBACEDIAJBADYCHCACIAE2AhQgAkHGDDYCECACQSM2AgwMUwtBACEDIAJBADYCHCACIAE2AhQgAkHAFTYCECACQQI2AgwMUgsgAigCBCEAQQAhAyACQQA2AgQCQCACIAAgARAtIgBFBEAgAUEBaiEBDAELIAJBDjYCHCACIAA2AgwgAiABQQFqNgIUDFILQRshAww4C0EAIQMgAkEANgIcIAIgATYCFCACQcYMNgIQIAJBIzYCDAxQCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABECwiAEUEQCABQQFqIQEMAQsgAkENNgIcIAIgADYCDCACIAFBAWo2AhQMUAtBGiEDDDYLQQAhAyACQQA2AhwgAiABNgIUIAJBmg82AhAgAkEiNgIMDE4LIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQQw2AhwgAiAANgIMIAIgAUEBajYCFAxOC0EZIQMMNAtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMTAsgAEEVRwRAQQAhAyACQQA2AhwgAiABNgIUIAJBgww2AhAgAkETNgIMDEwLIAJBCjYCHCACIAE2AhQgAkHkFjYCECACQRU2AgxBACEDDEsLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABIAqnaiIBECsiAARAIAJBBzYCHCACIAE2AhQgAiAANgIMDEsLQRMhAwwxCyAAQRVHBEBBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMSgsgAkEeNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMSQtBACEAAkAgAigCOCIDRQ0AIAMoAiwiA0UNACACIAMRAAAhAAsgAEUNQSAAQRVGBEAgAkEDNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMSQtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMSAtBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMRwtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMRgsgAkEAOgAvIAItAC1BBHFFDT8LIAJBADoALyACQQE6ADRBACEDDCsLQQAhAyACQQA2AhwgAkHkETYCECACQQc2AgwgAiABQQFqNgIUDEMLAkADQAJAIAEtAABBCmsOBAACAgACCyAEIAFBAWoiAUcNAAtB3QEhAwxDCwJAAkAgAi0ANEEBRw0AQQAhAAJAIAIoAjgiA0UNACADKAJYIgNFDQAgAiADEQAAIQALIABFDQAgAEEVRw0BIAJB3AE2AhwgAiABNgIUIAJB1RY2AhAgAkEVNgIMQQAhAwxEC0HBASEDDCoLIAJBADYCHCACIAE2AhQgAkHpCzYCECACQR82AgxBACEDDEILAkACQCACLQAoQQFrDgIEAQALQcABIQMMKQtBuQEhAwwoCyACQQI6AC9BACEAAkAgAigCOCIDRQ0AIAMoAgAiA0UNACACIAMRAAAhAAsgAEUEQEHCASEDDCgLIABBFUcEQCACQQA2AhwgAiABNgIUIAJBpAw2AhAgAkEQNgIMQQAhAwxBCyACQdsBNgIcIAIgATYCFCACQfoWNgIQIAJBFTYCDEEAIQMMQAsgASAERgRAQdoBIQMMQAsgAS0AAEHIAEYNASACQQE6ACgLQawBIQMMJQtBvwEhAwwkCyABIARHBEAgAkEQNgIIIAIgATYCBEG+ASEDDCQLQdkBIQMMPAsgASAERgRAQdgBIQMMPAsgAS0AAEHIAEcNBCABQQFqIQFBvQEhAwwiCyABIARGBEBB1wEhAww7CwJAAkAgAS0AAEHFAGsOEAAFBQUFBQUFBQUFBQUFBQEFCyABQQFqIQFBuwEhAwwiCyABQQFqIQFBvAEhAwwhC0HWASEDIAEgBEYNOSACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGD0ABqLQAARw0DIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw6CyACKAIEIQAgAkIANwMAIAIgACAGQQFqIgEQJyIARQRAQcYBIQMMIQsgAkHVATYCHCACIAE2AhQgAiAANgIMQQAhAww5C0HUASEDIAEgBEYNOCACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGB0ABqLQAARw0CIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw5CyACQYEEOwEoIAIoAgQhACACQgA3AwAgAiAAIAZBAWoiARAnIgANAwwCCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB2Bs2AhAgAkEINgIMDDYLQboBIQMMHAsgAkHTATYCHCACIAE2AhQgAiAANgIMQQAhAww0C0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAARQ0AIABBFUYNASACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwwzC0HkACEDDBkLIAJB+AA2AhwgAiABNgIUIAJByhg2AhAgAkEVNgIMQQAhAwwxC0HSASEDIAQgASIARg0wIAQgAWsgAigCACIBaiEFIAAgAWtBBGohBgJAA0AgAC0AACABQfzPAGotAABHDQEgAUEERg0DIAFBAWohASAEIABBAWoiAEcNAAsgAiAFNgIADDELIAJBADYCHCACIAA2AhQgAkGQMzYCECACQQg2AgwgAkEANgIAQQAhAwwwCyABIARHBEAgAkEONgIIIAIgATYCBEG3ASEDDBcLQdEBIQMMLwsgAkEANgIAIAZBAWohAQtBuAEhAwwUCyABIARGBEBB0AEhAwwtCyABLQAAQTBrIgBB/wFxQQpJBEAgAiAAOgAqIAFBAWohAUG2ASEDDBQLIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0UIAJBzwE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAsgASAERgRAQc4BIQMMLAsCQCABLQAAQS5GBEAgAUEBaiEBDAELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0VIAJBzQE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAtBtQEhAwwSCyAEIAEiBUYEQEHMASEDDCsLQQAhAEEBIQFBASEGQQAhAwJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAIAUtAABBMGsOCgoJAAECAwQFBggLC0ECDAYLQQMMBQtBBAwEC0EFDAMLQQYMAgtBBwwBC0EICyEDQQAhAUEAIQYMAgtBCSEDQQEhAEEAIQFBACEGDAELQQAhAUEBIQMLIAIgAzoAKyAFQQFqIQMCQAJAIAItAC1BEHENAAJAAkACQCACLQAqDgMBAAIECyAGRQ0DDAILIAANAQwCCyABRQ0BCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMAwsgAkHJATYCHCACIAM2AhQgAiAANgIMQQAhAwwtCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMGAsgAkHKATYCHCACIAM2AhQgAiAANgIMQQAhAwwsCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMFgsgAkHLATYCHCACIAU2AhQgAiAANgIMDCsLQbQBIQMMEQtBACEAAkAgAigCOCIDRQ0AIAMoAjwiA0UNACACIAMRAAAhAAsCQCAABEAgAEEVRg0BIAJBADYCHCACIAE2AhQgAkGUDTYCECACQSE2AgxBACEDDCsLQbIBIQMMEQsgAkHIATYCHCACIAE2AhQgAkHJFzYCECACQRU2AgxBACEDDCkLIAJBADYCACAGQQFqIQFB9QAhAwwPCyACLQApQQVGBEBB4wAhAwwPC0HiACEDDA4LIAAhASACQQA2AgALIAJBADoALEEJIQMMDAsgAkEANgIAIAdBAWohAUHAACEDDAsLQQELOgAsIAJBADYCACAGQQFqIQELQSkhAwwIC0E4IQMMBwsCQCABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRw0DIAFBAWohAQwFCyAEIAFBAWoiAUcNAAtBPiEDDCELQT4hAwwgCwsgAkEAOgAsDAELQQshAwwEC0E6IQMMAwsgAUEBaiEBQS0hAwwCCyACIAE6ACwgAkEANgIAIAZBAWohAUEMIQMMAQsgAkEANgIAIAZBAWohAUEKIQMMAAsAC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwXC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwWC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwVC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwUC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwTC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwSC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwRC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwQC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwPC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwOC0EAIQMgAkEANgIcIAIgATYCFCACQcASNgIQIAJBCzYCDAwNC0EAIQMgAkEANgIcIAIgATYCFCACQZUJNgIQIAJBCzYCDAwMC0EAIQMgAkEANgIcIAIgATYCFCACQeEPNgIQIAJBCjYCDAwLC0EAIQMgAkEANgIcIAIgATYCFCACQfsPNgIQIAJBCjYCDAwKC0EAIQMgAkEANgIcIAIgATYCFCACQfEZNgIQIAJBAjYCDAwJC0EAIQMgAkEANgIcIAIgATYCFCACQcQUNgIQIAJBAjYCDAwIC0EAIQMgAkEANgIcIAIgATYCFCACQfIVNgIQIAJBAjYCDAwHCyACQQI2AhwgAiABNgIUIAJBnBo2AhAgAkEWNgIMQQAhAwwGC0EBIQMMBQtB1AAhAyABIARGDQQgCEEIaiEJIAIoAgAhBQJAAkAgASAERwRAIAVB2MIAaiEHIAQgBWogAWshACAFQX9zQQpqIgUgAWohBgNAIAEtAAAgBy0AAEcEQEECIQcMAwsgBUUEQEEAIQcgBiEBDAMLIAVBAWshBSAHQQFqIQcgBCABQQFqIgFHDQALIAAhBSAEIQELIAlBATYCACACIAU2AgAMAQsgAkEANgIAIAkgBzYCAAsgCSABNgIEIAgoAgwhACAIKAIIDgMBBAIACwALIAJBADYCHCACQbUaNgIQIAJBFzYCDCACIABBAWo2AhRBACEDDAILIAJBADYCHCACIAA2AhQgAkHKGjYCECACQQk2AgxBACEDDAELIAEgBEYEQEEiIQMMAQsgAkEJNgIIIAIgATYCBEEhIQMLIAhBEGokACADRQRAIAIoAgwhAAwBCyACIAM2AhxBACEAIAIoAgQiAUUNACACIAEgBCACKAIIEQEAIgFFDQAgAiAENgIUIAIgATYCDCABIQALIAALvgIBAn8gAEEAOgAAIABB3ABqIgFBAWtBADoAACAAQQA6AAIgAEEAOgABIAFBA2tBADoAACABQQJrQQA6AAAgAEEAOgADIAFBBGtBADoAAEEAIABrQQNxIgEgAGoiAEEANgIAQdwAIAFrQXxxIgIgAGoiAUEEa0EANgIAAkAgAkEJSQ0AIABBADYCCCAAQQA2AgQgAUEIa0EANgIAIAFBDGtBADYCACACQRlJDQAgAEEANgIYIABBADYCFCAAQQA2AhAgAEEANgIMIAFBEGtBADYCACABQRRrQQA2AgAgAUEYa0EANgIAIAFBHGtBADYCACACIABBBHFBGHIiAmsiAUEgSQ0AIAAgAmohAANAIABCADcDGCAAQgA3AxAgAEIANwMIIABCADcDACAAQSBqIQAgAUEgayIBQR9LDQALCwtWAQF/AkAgACgCDA0AAkACQAJAAkAgAC0ALw4DAQADAgsgACgCOCIBRQ0AIAEoAiwiAUUNACAAIAERAAAiAQ0DC0EADwsACyAAQcMWNgIQQQ4hAQsgAQsaACAAKAIMRQRAIABB0Rs2AhAgAEEVNgIMCwsUACAAKAIMQRVGBEAgAEEANgIMCwsUACAAKAIMQRZGBEAgAEEANgIMCwsHACAAKAIMCwcAIAAoAhALCQAgACABNgIQCwcAIAAoAhQLFwAgAEEkTwRAAAsgAEECdEGgM2ooAgALFwAgAEEuTwRAAAsgAEECdEGwNGooAgALvwkBAX9B6yghAQJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB5ABrDvQDY2IAAWFhYWFhYQIDBAVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhBgcICQoLDA0OD2FhYWFhEGFhYWFhYWFhYWFhEWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYRITFBUWFxgZGhthYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2YTc4OTphYWFhYWFhYTthYWE8YWFhYT0+P2FhYWFhYWFhQGFhQWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYUJDREVGR0hJSktMTU5PUFFSU2FhYWFhYWFhVFVWV1hZWlthXF1hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFeYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhX2BhC0HhJw8LQaQhDwtByywPC0H+MQ8LQcAkDwtBqyQPC0GNKA8LQeImDwtBgDAPC0G5Lw8LQdckDwtB7x8PC0HhHw8LQfofDwtB8iAPC0GoLw8LQa4yDwtBiDAPC0HsJw8LQYIiDwtBjh0PC0HQLg8LQcojDwtBxTIPC0HfHA8LQdIcDwtBxCAPC0HXIA8LQaIfDwtB7S4PC0GrMA8LQdQlDwtBzC4PC0H6Lg8LQfwrDwtB0jAPC0HxHQ8LQbsgDwtB9ysPC0GQMQ8LQdcxDwtBoi0PC0HUJw8LQeArDwtBnywPC0HrMQ8LQdUfDwtByjEPC0HeJQ8LQdQeDwtB9BwPC0GnMg8LQbEdDwtBoB0PC0G5MQ8LQbwwDwtBkiEPC0GzJg8LQeksDwtBrB4PC0HUKw8LQfcmDwtBgCYPC0GwIQ8LQf4eDwtBjSMPC0GJLQ8LQfciDwtBoDEPC0GuHw8LQcYlDwtB6B4PC0GTIg8LQcIvDwtBwx0PC0GLLA8LQeEdDwtBjS8PC0HqIQ8LQbQtDwtB0i8PC0HfMg8LQdIyDwtB8DAPC0GpIg8LQfkjDwtBmR4PC0G1LA8LQZswDwtBkjIPC0G2Kw8LQcIiDwtB+DIPC0GeJQ8LQdAiDwtBuh4PC0GBHg8LAAtB1iEhAQsgAQsWACAAIAAtAC1B/gFxIAFBAEdyOgAtCxkAIAAgAC0ALUH9AXEgAUEAR0EBdHI6AC0LGQAgACAALQAtQfsBcSABQQBHQQJ0cjoALQsZACAAIAAtAC1B9wFxIAFBAEdBA3RyOgAtCz4BAn8CQCAAKAI4IgNFDQAgAygCBCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBxhE2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCCCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9go2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCDCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7Ro2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCECIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlRA2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCFCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBqhs2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCGCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7RM2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCKCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9gg2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCHCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBwhk2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCICIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlBQ2AhBBGCEECyAEC1kBAn8CQCAALQAoQQFGDQAgAC8BMiIBQeQAa0HkAEkNACABQcwBRg0AIAFBsAJGDQAgAC8BMCIAQcAAcQ0AQQEhAiAAQYgEcUGABEYNACAAQShxRSECCyACC4wBAQJ/AkACQAJAIAAtACpFDQAgAC0AK0UNACAALwEwIgFBAnFFDQEMAgsgAC8BMCIBQQFxRQ0BC0EBIQIgAC0AKEEBRg0AIAAvATIiAEHkAGtB5ABJDQAgAEHMAUYNACAAQbACRg0AIAFBwABxDQBBACECIAFBiARxQYAERg0AIAFBKHFBAEchAgsgAgtXACAAQRhqQgA3AwAgAEIANwMAIABBOGpCADcDACAAQTBqQgA3AwAgAEEoakIANwMAIABBIGpCADcDACAAQRBqQgA3AwAgAEEIakIANwMAIABB3QE2AhwLBgAgABAyC5otAQt/IwBBEGsiCiQAQaTQACgCACIJRQRAQeTTACgCACIFRQRAQfDTAEJ/NwIAQejTAEKAgISAgIDAADcCAEHk0wAgCkEIakFwcUHYqtWqBXMiBTYCAEH40wBBADYCAEHI0wBBADYCAAtBzNMAQYDUBDYCAEGc0ABBgNQENgIAQbDQACAFNgIAQazQAEF/NgIAQdDTAEGArAM2AgADQCABQcjQAGogAUG80ABqIgI2AgAgAiABQbTQAGoiAzYCACABQcDQAGogAzYCACABQdDQAGogAUHE0ABqIgM2AgAgAyACNgIAIAFB2NAAaiABQczQAGoiAjYCACACIAM2AgAgAUHU0ABqIAI2AgAgAUEgaiIBQYACRw0AC0GM1ARBwasDNgIAQajQAEH00wAoAgA2AgBBmNAAQcCrAzYCAEGk0ABBiNQENgIAQcz/B0E4NgIAQYjUBCEJCwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB7AFNBEBBjNAAKAIAIgZBECAAQRNqQXBxIABBC0kbIgRBA3YiAHYiAUEDcQRAAkAgAUEBcSAAckEBcyICQQN0IgBBtNAAaiIBIABBvNAAaigCACIAKAIIIgNGBEBBjNAAIAZBfiACd3E2AgAMAQsgASADNgIIIAMgATYCDAsgAEEIaiEBIAAgAkEDdCICQQNyNgIEIAAgAmoiACAAKAIEQQFyNgIEDBELQZTQACgCACIIIARPDQEgAQRAAkBBAiAAdCICQQAgAmtyIAEgAHRxaCIAQQN0IgJBtNAAaiIBIAJBvNAAaigCACICKAIIIgNGBEBBjNAAIAZBfiAAd3EiBjYCAAwBCyABIAM2AgggAyABNgIMCyACIARBA3I2AgQgAEEDdCIAIARrIQUgACACaiAFNgIAIAIgBGoiBCAFQQFyNgIEIAgEQCAIQXhxQbTQAGohAEGg0AAoAgAhAwJ/QQEgCEEDdnQiASAGcUUEQEGM0AAgASAGcjYCACAADAELIAAoAggLIgEgAzYCDCAAIAM2AgggAyAANgIMIAMgATYCCAsgAkEIaiEBQaDQACAENgIAQZTQACAFNgIADBELQZDQACgCACILRQ0BIAtoQQJ0QbzSAGooAgAiACgCBEF4cSAEayEFIAAhAgNAAkAgAigCECIBRQRAIAJBFGooAgAiAUUNAQsgASgCBEF4cSAEayIDIAVJIQIgAyAFIAIbIQUgASAAIAIbIQAgASECDAELCyAAKAIYIQkgACgCDCIDIABHBEBBnNAAKAIAGiADIAAoAggiATYCCCABIAM2AgwMEAsgAEEUaiICKAIAIgFFBEAgACgCECIBRQ0DIABBEGohAgsDQCACIQcgASIDQRRqIgIoAgAiAQ0AIANBEGohAiADKAIQIgENAAsgB0EANgIADA8LQX8hBCAAQb9/Sw0AIABBE2oiAUFwcSEEQZDQACgCACIIRQ0AQQAgBGshBQJAAkACQAJ/QQAgBEGAAkkNABpBHyAEQf///wdLDQAaIARBJiABQQh2ZyIAa3ZBAXEgAEEBdGtBPmoLIgZBAnRBvNIAaigCACICRQRAQQAhAUEAIQMMAQtBACEBIARBGSAGQQF2a0EAIAZBH0cbdCEAQQAhAwNAAkAgAigCBEF4cSAEayIHIAVPDQAgAiEDIAciBQ0AQQAhBSACIQEMAwsgASACQRRqKAIAIgcgByACIABBHXZBBHFqQRBqKAIAIgJGGyABIAcbIQEgAEEBdCEAIAINAAsLIAEgA3JFBEBBACEDQQIgBnQiAEEAIABrciAIcSIARQ0DIABoQQJ0QbzSAGooAgAhAQsgAUUNAQsDQCABKAIEQXhxIARrIgIgBUkhACACIAUgABshBSABIAMgABshAyABKAIQIgAEfyAABSABQRRqKAIACyIBDQALCyADRQ0AIAVBlNAAKAIAIARrTw0AIAMoAhghByADIAMoAgwiAEcEQEGc0AAoAgAaIAAgAygCCCIBNgIIIAEgADYCDAwOCyADQRRqIgIoAgAiAUUEQCADKAIQIgFFDQMgA0EQaiECCwNAIAIhBiABIgBBFGoiAigCACIBDQAgAEEQaiECIAAoAhAiAQ0ACyAGQQA2AgAMDQtBlNAAKAIAIgMgBE8EQEGg0AAoAgAhAQJAIAMgBGsiAkEQTwRAIAEgBGoiACACQQFyNgIEIAEgA2ogAjYCACABIARBA3I2AgQMAQsgASADQQNyNgIEIAEgA2oiACAAKAIEQQFyNgIEQQAhAEEAIQILQZTQACACNgIAQaDQACAANgIAIAFBCGohAQwPC0GY0AAoAgAiAyAESwRAIAQgCWoiACADIARrIgFBAXI2AgRBpNAAIAA2AgBBmNAAIAE2AgAgCSAEQQNyNgIEIAlBCGohAQwPC0EAIQEgBAJ/QeTTACgCAARAQezTACgCAAwBC0Hw0wBCfzcCAEHo0wBCgICEgICAwAA3AgBB5NMAIApBDGpBcHFB2KrVqgVzNgIAQfjTAEEANgIAQcjTAEEANgIAQYCABAsiACAEQccAaiIFaiIGQQAgAGsiB3EiAk8EQEH80wBBMDYCAAwPCwJAQcTTACgCACIBRQ0AQbzTACgCACIIIAJqIQAgACABTSAAIAhLcQ0AQQAhAUH80wBBMDYCAAwPC0HI0wAtAABBBHENBAJAAkAgCQRAQczTACEBA0AgASgCACIAIAlNBEAgACABKAIEaiAJSw0DCyABKAIIIgENAAsLQQAQMyIAQX9GDQUgAiEGQejTACgCACIBQQFrIgMgAHEEQCACIABrIAAgA2pBACABa3FqIQYLIAQgBk8NBSAGQf7///8HSw0FQcTTACgCACIDBEBBvNMAKAIAIgcgBmohASABIAdNDQYgASADSw0GCyAGEDMiASAARw0BDAcLIAYgA2sgB3EiBkH+////B0sNBCAGEDMhACAAIAEoAgAgASgCBGpGDQMgACEBCwJAIAYgBEHIAGpPDQAgAUF/Rg0AQezTACgCACIAIAUgBmtqQQAgAGtxIgBB/v///wdLBEAgASEADAcLIAAQM0F/RwRAIAAgBmohBiABIQAMBwtBACAGaxAzGgwECyABIgBBf0cNBQwDC0EAIQMMDAtBACEADAoLIABBf0cNAgtByNMAQcjTACgCAEEEcjYCAAsgAkH+////B0sNASACEDMhAEEAEDMhASAAQX9GDQEgAUF/Rg0BIAAgAU8NASABIABrIgYgBEE4ak0NAQtBvNMAQbzTACgCACAGaiIBNgIAQcDTACgCACABSQRAQcDTACABNgIACwJAAkACQEGk0AAoAgAiAgRAQczTACEBA0AgACABKAIAIgMgASgCBCIFakYNAiABKAIIIgENAAsMAgtBnNAAKAIAIgFBAEcgACABT3FFBEBBnNAAIAA2AgALQQAhAUHQ0wAgBjYCAEHM0wAgADYCAEGs0ABBfzYCAEGw0ABB5NMAKAIANgIAQdjTAEEANgIAA0AgAUHI0ABqIAFBvNAAaiICNgIAIAIgAUG00ABqIgM2AgAgAUHA0ABqIAM2AgAgAUHQ0ABqIAFBxNAAaiIDNgIAIAMgAjYCACABQdjQAGogAUHM0ABqIgI2AgAgAiADNgIAIAFB1NAAaiACNgIAIAFBIGoiAUGAAkcNAAtBeCAAa0EPcSIBIABqIgIgBkE4ayIDIAFrIgFBAXI2AgRBqNAAQfTTACgCADYCAEGY0AAgATYCAEGk0AAgAjYCACAAIANqQTg2AgQMAgsgACACTQ0AIAIgA0kNACABKAIMQQhxDQBBeCACa0EPcSIAIAJqIgNBmNAAKAIAIAZqIgcgAGsiAEEBcjYCBCABIAUgBmo2AgRBqNAAQfTTACgCADYCAEGY0AAgADYCAEGk0AAgAzYCACACIAdqQTg2AgQMAQsgAEGc0AAoAgBJBEBBnNAAIAA2AgALIAAgBmohA0HM0wAhAQJAAkACQANAIAMgASgCAEcEQCABKAIIIgENAQwCCwsgAS0ADEEIcUUNAQtBzNMAIQEDQCABKAIAIgMgAk0EQCADIAEoAgRqIgUgAksNAwsgASgCCCEBDAALAAsgASAANgIAIAEgASgCBCAGajYCBCAAQXggAGtBD3FqIgkgBEEDcjYCBCADQXggA2tBD3FqIgYgBCAJaiIEayEBIAIgBkYEQEGk0AAgBDYCAEGY0ABBmNAAKAIAIAFqIgA2AgAgBCAAQQFyNgIEDAgLQaDQACgCACAGRgRAQaDQACAENgIAQZTQAEGU0AAoAgAgAWoiADYCACAEIABBAXI2AgQgACAEaiAANgIADAgLIAYoAgQiBUEDcUEBRw0GIAVBeHEhCCAFQf8BTQRAIAVBA3YhAyAGKAIIIgAgBigCDCICRgRAQYzQAEGM0AAoAgBBfiADd3E2AgAMBwsgAiAANgIIIAAgAjYCDAwGCyAGKAIYIQcgBiAGKAIMIgBHBEAgACAGKAIIIgI2AgggAiAANgIMDAULIAZBFGoiAigCACIFRQRAIAYoAhAiBUUNBCAGQRBqIQILA0AgAiEDIAUiAEEUaiICKAIAIgUNACAAQRBqIQIgACgCECIFDQALIANBADYCAAwEC0F4IABrQQ9xIgEgAGoiByAGQThrIgMgAWsiAUEBcjYCBCAAIANqQTg2AgQgAiAFQTcgBWtBD3FqQT9rIgMgAyACQRBqSRsiA0EjNgIEQajQAEH00wAoAgA2AgBBmNAAIAE2AgBBpNAAIAc2AgAgA0EQakHU0wApAgA3AgAgA0HM0wApAgA3AghB1NMAIANBCGo2AgBB0NMAIAY2AgBBzNMAIAA2AgBB2NMAQQA2AgAgA0EkaiEBA0AgAUEHNgIAIAUgAUEEaiIBSw0ACyACIANGDQAgAyADKAIEQX5xNgIEIAMgAyACayIFNgIAIAIgBUEBcjYCBCAFQf8BTQRAIAVBeHFBtNAAaiEAAn9BjNAAKAIAIgFBASAFQQN2dCIDcUUEQEGM0AAgASADcjYCACAADAELIAAoAggLIgEgAjYCDCAAIAI2AgggAiAANgIMIAIgATYCCAwBC0EfIQEgBUH///8HTQRAIAVBJiAFQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAQsgAiABNgIcIAJCADcCECABQQJ0QbzSAGohAEGQ0AAoAgAiA0EBIAF0IgZxRQRAIAAgAjYCAEGQ0AAgAyAGcjYCACACIAA2AhggAiACNgIIIAIgAjYCDAwBCyAFQRkgAUEBdmtBACABQR9HG3QhASAAKAIAIQMCQANAIAMiACgCBEF4cSAFRg0BIAFBHXYhAyABQQF0IQEgACADQQRxakEQaiIGKAIAIgMNAAsgBiACNgIAIAIgADYCGCACIAI2AgwgAiACNgIIDAELIAAoAggiASACNgIMIAAgAjYCCCACQQA2AhggAiAANgIMIAIgATYCCAtBmNAAKAIAIgEgBE0NAEGk0AAoAgAiACAEaiICIAEgBGsiAUEBcjYCBEGY0AAgATYCAEGk0AAgAjYCACAAIARBA3I2AgQgAEEIaiEBDAgLQQAhAUH80wBBMDYCAAwHC0EAIQALIAdFDQACQCAGKAIcIgJBAnRBvNIAaiIDKAIAIAZGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAdBEEEUIAcoAhAgBkYbaiAANgIAIABFDQELIAAgBzYCGCAGKAIQIgIEQCAAIAI2AhAgAiAANgIYCyAGQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAIaiEBIAYgCGoiBigCBCEFCyAGIAVBfnE2AgQgASAEaiABNgIAIAQgAUEBcjYCBCABQf8BTQRAIAFBeHFBtNAAaiEAAn9BjNAAKAIAIgJBASABQQN2dCIBcUUEQEGM0AAgASACcjYCACAADAELIAAoAggLIgEgBDYCDCAAIAQ2AgggBCAANgIMIAQgATYCCAwBC0EfIQUgAUH///8HTQRAIAFBJiABQQh2ZyIAa3ZBAXEgAEEBdGtBPmohBQsgBCAFNgIcIARCADcCECAFQQJ0QbzSAGohAEGQ0AAoAgAiAkEBIAV0IgNxRQRAIAAgBDYCAEGQ0AAgAiADcjYCACAEIAA2AhggBCAENgIIIAQgBDYCDAwBCyABQRkgBUEBdmtBACAFQR9HG3QhBSAAKAIAIQACQANAIAAiAigCBEF4cSABRg0BIAVBHXYhACAFQQF0IQUgAiAAQQRxakEQaiIDKAIAIgANAAsgAyAENgIAIAQgAjYCGCAEIAQ2AgwgBCAENgIIDAELIAIoAggiACAENgIMIAIgBDYCCCAEQQA2AhggBCACNgIMIAQgADYCCAsgCUEIaiEBDAILAkAgB0UNAAJAIAMoAhwiAUECdEG80gBqIgIoAgAgA0YEQCACIAA2AgAgAA0BQZDQACAIQX4gAXdxIgg2AgAMAgsgB0EQQRQgBygCECADRhtqIAA2AgAgAEUNAQsgACAHNgIYIAMoAhAiAQRAIAAgATYCECABIAA2AhgLIANBFGooAgAiAUUNACAAQRRqIAE2AgAgASAANgIYCwJAIAVBD00EQCADIAQgBWoiAEEDcjYCBCAAIANqIgAgACgCBEEBcjYCBAwBCyADIARqIgIgBUEBcjYCBCADIARBA3I2AgQgAiAFaiAFNgIAIAVB/wFNBEAgBUF4cUG00ABqIQACf0GM0AAoAgAiAUEBIAVBA3Z0IgVxRQRAQYzQACABIAVyNgIAIAAMAQsgACgCCAsiASACNgIMIAAgAjYCCCACIAA2AgwgAiABNgIIDAELQR8hASAFQf///wdNBEAgBUEmIAVBCHZnIgBrdkEBcSAAQQF0a0E+aiEBCyACIAE2AhwgAkIANwIQIAFBAnRBvNIAaiEAQQEgAXQiBCAIcUUEQCAAIAI2AgBBkNAAIAQgCHI2AgAgAiAANgIYIAIgAjYCCCACIAI2AgwMAQsgBUEZIAFBAXZrQQAgAUEfRxt0IQEgACgCACEEAkADQCAEIgAoAgRBeHEgBUYNASABQR12IQQgAUEBdCEBIAAgBEEEcWpBEGoiBigCACIEDQALIAYgAjYCACACIAA2AhggAiACNgIMIAIgAjYCCAwBCyAAKAIIIgEgAjYCDCAAIAI2AgggAkEANgIYIAIgADYCDCACIAE2AggLIANBCGohAQwBCwJAIAlFDQACQCAAKAIcIgFBAnRBvNIAaiICKAIAIABGBEAgAiADNgIAIAMNAUGQ0AAgC0F+IAF3cTYCAAwCCyAJQRBBFCAJKAIQIABGG2ogAzYCACADRQ0BCyADIAk2AhggACgCECIBBEAgAyABNgIQIAEgAzYCGAsgAEEUaigCACIBRQ0AIANBFGogATYCACABIAM2AhgLAkAgBUEPTQRAIAAgBCAFaiIBQQNyNgIEIAAgAWoiASABKAIEQQFyNgIEDAELIAAgBGoiByAFQQFyNgIEIAAgBEEDcjYCBCAFIAdqIAU2AgAgCARAIAhBeHFBtNAAaiEBQaDQACgCACEDAn9BASAIQQN2dCICIAZxRQRAQYzQACACIAZyNgIAIAEMAQsgASgCCAsiAiADNgIMIAEgAzYCCCADIAE2AgwgAyACNgIIC0Gg0AAgBzYCAEGU0AAgBTYCAAsgAEEIaiEBCyAKQRBqJAAgAQtDACAARQRAPwBBEHQPCwJAIABB//8DcQ0AIABBAEgNACAAQRB2QAAiAEF/RgRAQfzTAEEwNgIAQX8PCyAAQRB0DwsACwvcPyIAQYAICwkBAAAAAgAAAAMAQZQICwUEAAAABQBBpAgLCQYAAAAHAAAACABB3AgLii1JbnZhbGlkIGNoYXIgaW4gdXJsIHF1ZXJ5AFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fYm9keQBDb250ZW50LUxlbmd0aCBvdmVyZmxvdwBDaHVuayBzaXplIG92ZXJmbG93AFJlc3BvbnNlIG92ZXJmbG93AEludmFsaWQgbWV0aG9kIGZvciBIVFRQL3gueCByZXF1ZXN0AEludmFsaWQgbWV0aG9kIGZvciBSVFNQL3gueCByZXF1ZXN0AEV4cGVjdGVkIFNPVVJDRSBtZXRob2QgZm9yIElDRS94LnggcmVxdWVzdABJbnZhbGlkIGNoYXIgaW4gdXJsIGZyYWdtZW50IHN0YXJ0AEV4cGVjdGVkIGRvdABTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3N0YXR1cwBJbnZhbGlkIHJlc3BvbnNlIHN0YXR1cwBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zAFVzZXIgY2FsbGJhY2sgZXJyb3IAYG9uX3Jlc2V0YCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfaGVhZGVyYCBjYWxsYmFjayBlcnJvcgBgb25fbWVzc2FnZV9iZWdpbmAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3N0YXR1c19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3ZlcnNpb25fY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl91cmxfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX21lc3NhZ2VfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXRob2RfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfZmllbGRfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fbmFtZWAgY2FsbGJhY2sgZXJyb3IAVW5leHBlY3RlZCBjaGFyIGluIHVybCBzZXJ2ZXIASW52YWxpZCBoZWFkZXIgdmFsdWUgY2hhcgBJbnZhbGlkIGhlYWRlciBmaWVsZCBjaGFyAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdmVyc2lvbgBJbnZhbGlkIG1pbm9yIHZlcnNpb24ASW52YWxpZCBtYWpvciB2ZXJzaW9uAEV4cGVjdGVkIHNwYWNlIGFmdGVyIHZlcnNpb24ARXhwZWN0ZWQgQ1JMRiBhZnRlciB2ZXJzaW9uAEludmFsaWQgSFRUUCB2ZXJzaW9uAEludmFsaWQgaGVhZGVyIHRva2VuAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdXJsAEludmFsaWQgY2hhcmFjdGVycyBpbiB1cmwAVW5leHBlY3RlZCBzdGFydCBjaGFyIGluIHVybABEb3VibGUgQCBpbiB1cmwARW1wdHkgQ29udGVudC1MZW5ndGgASW52YWxpZCBjaGFyYWN0ZXIgaW4gQ29udGVudC1MZW5ndGgARHVwbGljYXRlIENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhciBpbiB1cmwgcGF0aABDb250ZW50LUxlbmd0aCBjYW4ndCBiZSBwcmVzZW50IHdpdGggVHJhbnNmZXItRW5jb2RpbmcASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgc2l6ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2hlYWRlcl92YWx1ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHZhbHVlAE1pc3NpbmcgZXhwZWN0ZWQgTEYgYWZ0ZXIgaGVhZGVyIHZhbHVlAEludmFsaWQgYFRyYW5zZmVyLUVuY29kaW5nYCBoZWFkZXIgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZSB2YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHF1b3RlZCB2YWx1ZQBQYXVzZWQgYnkgb25faGVhZGVyc19jb21wbGV0ZQBJbnZhbGlkIEVPRiBzdGF0ZQBvbl9yZXNldCBwYXVzZQBvbl9jaHVua19oZWFkZXIgcGF1c2UAb25fbWVzc2FnZV9iZWdpbiBwYXVzZQBvbl9jaHVua19leHRlbnNpb25fdmFsdWUgcGF1c2UAb25fc3RhdHVzX2NvbXBsZXRlIHBhdXNlAG9uX3ZlcnNpb25fY29tcGxldGUgcGF1c2UAb25fdXJsX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2NvbXBsZXRlIHBhdXNlAG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXNzYWdlX2NvbXBsZXRlIHBhdXNlAG9uX21ldGhvZF9jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfZmllbGRfY29tcGxldGUgcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUgcGF1c2UAVW5leHBlY3RlZCBzcGFjZSBhZnRlciBzdGFydCBsaW5lAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBuYW1lAFBhdXNlIG9uIENPTk5FQ1QvVXBncmFkZQBQYXVzZSBvbiBQUkkvVXBncmFkZQBFeHBlY3RlZCBIVFRQLzIgQ29ubmVjdGlvbiBQcmVmYWNlAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fbWV0aG9kAEV4cGVjdGVkIHNwYWNlIGFmdGVyIG1ldGhvZABTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2hlYWRlcl9maWVsZABQYXVzZWQASW52YWxpZCB3b3JkIGVuY291bnRlcmVkAEludmFsaWQgbWV0aG9kIGVuY291bnRlcmVkAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2NoZW1hAFJlcXVlc3QgaGFzIGludmFsaWQgYFRyYW5zZmVyLUVuY29kaW5nYABTV0lUQ0hfUFJPWFkAVVNFX1BST1hZAE1LQUNUSVZJVFkAVU5QUk9DRVNTQUJMRV9FTlRJVFkAQ09QWQBNT1ZFRF9QRVJNQU5FTlRMWQBUT09fRUFSTFkATk9USUZZAEZBSUxFRF9ERVBFTkRFTkNZAEJBRF9HQVRFV0FZAFBMQVkAUFVUAENIRUNLT1VUAEdBVEVXQVlfVElNRU9VVABSRVFVRVNUX1RJTUVPVVQATkVUV09SS19DT05ORUNUX1RJTUVPVVQAQ09OTkVDVElPTl9USU1FT1VUAExPR0lOX1RJTUVPVVQATkVUV09SS19SRUFEX1RJTUVPVVQAUE9TVABNSVNESVJFQ1RFRF9SRVFVRVNUAENMSUVOVF9DTE9TRURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX0xPQURfQkFMQU5DRURfUkVRVUVTVABCQURfUkVRVUVTVABIVFRQX1JFUVVFU1RfU0VOVF9UT19IVFRQU19QT1JUAFJFUE9SVABJTV9BX1RFQVBPVABSRVNFVF9DT05URU5UAE5PX0NPTlRFTlQAUEFSVElBTF9DT05URU5UAEhQRV9JTlZBTElEX0NPTlNUQU5UAEhQRV9DQl9SRVNFVABHRVQASFBFX1NUUklDVABDT05GTElDVABURU1QT1JBUllfUkVESVJFQ1QAUEVSTUFORU5UX1JFRElSRUNUAENPTk5FQ1QATVVMVElfU1RBVFVTAEhQRV9JTlZBTElEX1NUQVRVUwBUT09fTUFOWV9SRVFVRVNUUwBFQVJMWV9ISU5UUwBVTkFWQUlMQUJMRV9GT1JfTEVHQUxfUkVBU09OUwBPUFRJT05TAFNXSVRDSElOR19QUk9UT0NPTFMAVkFSSUFOVF9BTFNPX05FR09USUFURVMATVVMVElQTEVfQ0hPSUNFUwBJTlRFUk5BTF9TRVJWRVJfRVJST1IAV0VCX1NFUlZFUl9VTktOT1dOX0VSUk9SAFJBSUxHVU5fRVJST1IASURFTlRJVFlfUFJPVklERVJfQVVUSEVOVElDQVRJT05fRVJST1IAU1NMX0NFUlRJRklDQVRFX0VSUk9SAElOVkFMSURfWF9GT1JXQVJERURfRk9SAFNFVF9QQVJBTUVURVIAR0VUX1BBUkFNRVRFUgBIUEVfVVNFUgBTRUVfT1RIRVIASFBFX0NCX0NIVU5LX0hFQURFUgBNS0NBTEVOREFSAFNFVFVQAFdFQl9TRVJWRVJfSVNfRE9XTgBURUFSRE9XTgBIUEVfQ0xPU0VEX0NPTk5FQ1RJT04ASEVVUklTVElDX0VYUElSQVRJT04ARElTQ09OTkVDVEVEX09QRVJBVElPTgBOT05fQVVUSE9SSVRBVElWRV9JTkZPUk1BVElPTgBIUEVfSU5WQUxJRF9WRVJTSU9OAEhQRV9DQl9NRVNTQUdFX0JFR0lOAFNJVEVfSVNfRlJPWkVOAEhQRV9JTlZBTElEX0hFQURFUl9UT0tFTgBJTlZBTElEX1RPS0VOAEZPUkJJRERFTgBFTkhBTkNFX1lPVVJfQ0FMTQBIUEVfSU5WQUxJRF9VUkwAQkxPQ0tFRF9CWV9QQVJFTlRBTF9DT05UUk9MAE1LQ09MAEFDTABIUEVfSU5URVJOQUwAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRV9VTk9GRklDSUFMAEhQRV9PSwBVTkxJTksAVU5MT0NLAFBSSQBSRVRSWV9XSVRIAEhQRV9JTlZBTElEX0NPTlRFTlRfTEVOR1RIAEhQRV9VTkVYUEVDVEVEX0NPTlRFTlRfTEVOR1RIAEZMVVNIAFBST1BQQVRDSABNLVNFQVJDSABVUklfVE9PX0xPTkcAUFJPQ0VTU0lORwBNSVNDRUxMQU5FT1VTX1BFUlNJU1RFTlRfV0FSTklORwBNSVNDRUxMQU5FT1VTX1dBUk5JTkcASFBFX0lOVkFMSURfVFJBTlNGRVJfRU5DT0RJTkcARXhwZWN0ZWQgQ1JMRgBIUEVfSU5WQUxJRF9DSFVOS19TSVpFAE1PVkUAQ09OVElOVUUASFBFX0NCX1NUQVRVU19DT01QTEVURQBIUEVfQ0JfSEVBREVSU19DT01QTEVURQBIUEVfQ0JfVkVSU0lPTl9DT01QTEVURQBIUEVfQ0JfVVJMX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19DT01QTEVURQBIUEVfQ0JfSEVBREVSX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fVkFMVUVfQ09NUExFVEUASFBFX0NCX0NIVU5LX0VYVEVOU0lPTl9OQU1FX0NPTVBMRVRFAEhQRV9DQl9NRVNTQUdFX0NPTVBMRVRFAEhQRV9DQl9NRVRIT0RfQ09NUExFVEUASFBFX0NCX0hFQURFUl9GSUVMRF9DT01QTEVURQBERUxFVEUASFBFX0lOVkFMSURfRU9GX1NUQVRFAElOVkFMSURfU1NMX0NFUlRJRklDQVRFAFBBVVNFAE5PX1JFU1BPTlNFAFVOU1VQUE9SVEVEX01FRElBX1RZUEUAR09ORQBOT1RfQUNDRVBUQUJMRQBTRVJWSUNFX1VOQVZBSUxBQkxFAFJBTkdFX05PVF9TQVRJU0ZJQUJMRQBPUklHSU5fSVNfVU5SRUFDSEFCTEUAUkVTUE9OU0VfSVNfU1RBTEUAUFVSR0UATUVSR0UAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRQBSRVFVRVNUX0hFQURFUl9UT09fTEFSR0UAUEFZTE9BRF9UT09fTEFSR0UASU5TVUZGSUNJRU5UX1NUT1JBR0UASFBFX1BBVVNFRF9VUEdSQURFAEhQRV9QQVVTRURfSDJfVVBHUkFERQBTT1VSQ0UAQU5OT1VOQ0UAVFJBQ0UASFBFX1VORVhQRUNURURfU1BBQ0UAREVTQ1JJQkUAVU5TVUJTQ1JJQkUAUkVDT1JEAEhQRV9JTlZBTElEX01FVEhPRABOT1RfRk9VTkQAUFJPUEZJTkQAVU5CSU5EAFJFQklORABVTkFVVEhPUklaRUQATUVUSE9EX05PVF9BTExPV0VEAEhUVFBfVkVSU0lPTl9OT1RfU1VQUE9SVEVEAEFMUkVBRFlfUkVQT1JURUQAQUNDRVBURUQATk9UX0lNUExFTUVOVEVEAExPT1BfREVURUNURUQASFBFX0NSX0VYUEVDVEVEAEhQRV9MRl9FWFBFQ1RFRABDUkVBVEVEAElNX1VTRUQASFBFX1BBVVNFRABUSU1FT1VUX09DQ1VSRUQAUEFZTUVOVF9SRVFVSVJFRABQUkVDT05ESVRJT05fUkVRVUlSRUQAUFJPWFlfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATkVUV09SS19BVVRIRU5USUNBVElPTl9SRVFVSVJFRABMRU5HVEhfUkVRVUlSRUQAU1NMX0NFUlRJRklDQVRFX1JFUVVJUkVEAFVQR1JBREVfUkVRVUlSRUQAUEFHRV9FWFBJUkVEAFBSRUNPTkRJVElPTl9GQUlMRUQARVhQRUNUQVRJT05fRkFJTEVEAFJFVkFMSURBVElPTl9GQUlMRUQAU1NMX0hBTkRTSEFLRV9GQUlMRUQATE9DS0VEAFRSQU5TRk9STUFUSU9OX0FQUExJRUQATk9UX01PRElGSUVEAE5PVF9FWFRFTkRFRABCQU5EV0lEVEhfTElNSVRfRVhDRUVERUQAU0lURV9JU19PVkVSTE9BREVEAEhFQUQARXhwZWN0ZWQgSFRUUC8AAF4TAAAmEwAAMBAAAPAXAACdEwAAFRIAADkXAADwEgAAChAAAHUSAACtEgAAghMAAE8UAAB/EAAAoBUAACMUAACJEgAAixQAAE0VAADUEQAAzxQAABAYAADJFgAA3BYAAMERAADgFwAAuxQAAHQUAAB8FQAA5RQAAAgXAAAfEAAAZRUAAKMUAAAoFQAAAhUAAJkVAAAsEAAAixkAAE8PAADUDgAAahAAAM4QAAACFwAAiQ4AAG4TAAAcEwAAZhQAAFYXAADBEwAAzRMAAGwTAABoFwAAZhcAAF8XAAAiEwAAzg8AAGkOAADYDgAAYxYAAMsTAACqDgAAKBcAACYXAADFEwAAXRYAAOgRAABnEwAAZRMAAPIWAABzEwAAHRcAAPkWAADzEQAAzw4AAM4VAAAMEgAAsxEAAKURAABhEAAAMhcAALsTAEH5NQsBAQBBkDYL4AEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB/TcLAQEAQZE4C14CAwICAgICAAACAgACAgACAgICAgICAgICAAQAAAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAEH9OQsBAQBBkToLXgIAAgICAgIAAAICAAICAAICAgICAgICAgIAAwAEAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAQfA7Cw1sb3NlZWVwLWFsaXZlAEGJPAsBAQBBoDwL4AEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBBiT4LAQEAQaA+C+cBAQEBAQEBAQEBAQEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQFjaHVua2VkAEGwwAALXwEBAAEBAQEBAAABAQABAQABAQEBAQEBAQEBAAAAAAAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAEGQwgALIWVjdGlvbmVudC1sZW5ndGhvbnJveHktY29ubmVjdGlvbgBBwMIACy1yYW5zZmVyLWVuY29kaW5ncGdyYWRlDQoNCg0KU00NCg0KVFRQL0NFL1RTUC8AQfnCAAsFAQIAAQMAQZDDAAvgAQQBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAEH5xAALBQECAAEDAEGQxQAL4AEEAQEFAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+cYACwQBAAABAEGRxwAL3wEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAEH6yAALBAEAAAIAQZDJAAtfAwQAAAQEBAQEBAQEBAQEBQQEBAQEBAQEBAQEBAAEAAYHBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQAQfrKAAsEAQAAAQBBkMsACwEBAEGqywALQQIAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAEH6zAALBAEAAAEAQZDNAAsBAQBBms0ACwYCAAAAAAIAQbHNAAs6AwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBB8M4AC5YBTk9VTkNFRUNLT1VUTkVDVEVURUNSSUJFTFVTSEVURUFEU0VBUkNIUkdFQ1RJVklUWUxFTkRBUlZFT1RJRllQVElPTlNDSFNFQVlTVEFUQ0hHRU9SRElSRUNUT1JUUkNIUEFSQU1FVEVSVVJDRUJTQ1JJQkVBUkRPV05BQ0VJTkROS0NLVUJTQ1JJQkVIVFRQL0FEVFAv","base64")});var j6e=j((HUr,H6e)=>{"use strict";d();var{Buffer:lht}=require("node:buffer");H6e.exports=lht.from("AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAX8AYAJ/fwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAy0sBQYAAAIAAAAAAAACAQIAAgICAAADAAAAAAMDAwMBAQEBAQEBAQEAAAIAAAAEBQFwARISBQMBAAIGCAF/AUGA1AQLB9EFIgZtZW1vcnkCAAtfaW5pdGlhbGl6ZQAIGV9faW5kaXJlY3RfZnVuY3Rpb25fdGFibGUBAAtsbGh0dHBfaW5pdAAJGGxsaHR0cF9zaG91bGRfa2VlcF9hbGl2ZQAvDGxsaHR0cF9hbGxvYwALBm1hbGxvYwAxC2xsaHR0cF9mcmVlAAwEZnJlZQAMD2xsaHR0cF9nZXRfdHlwZQANFWxsaHR0cF9nZXRfaHR0cF9tYWpvcgAOFWxsaHR0cF9nZXRfaHR0cF9taW5vcgAPEWxsaHR0cF9nZXRfbWV0aG9kABAWbGxodHRwX2dldF9zdGF0dXNfY29kZQAREmxsaHR0cF9nZXRfdXBncmFkZQASDGxsaHR0cF9yZXNldAATDmxsaHR0cF9leGVjdXRlABQUbGxodHRwX3NldHRpbmdzX2luaXQAFQ1sbGh0dHBfZmluaXNoABYMbGxodHRwX3BhdXNlABcNbGxodHRwX3Jlc3VtZQAYG2xsaHR0cF9yZXN1bWVfYWZ0ZXJfdXBncmFkZQAZEGxsaHR0cF9nZXRfZXJybm8AGhdsbGh0dHBfZ2V0X2Vycm9yX3JlYXNvbgAbF2xsaHR0cF9zZXRfZXJyb3JfcmVhc29uABwUbGxodHRwX2dldF9lcnJvcl9wb3MAHRFsbGh0dHBfZXJybm9fbmFtZQAeEmxsaHR0cF9tZXRob2RfbmFtZQAfEmxsaHR0cF9zdGF0dXNfbmFtZQAgGmxsaHR0cF9zZXRfbGVuaWVudF9oZWFkZXJzACEhbGxodHRwX3NldF9sZW5pZW50X2NodW5rZWRfbGVuZ3RoACIdbGxodHRwX3NldF9sZW5pZW50X2tlZXBfYWxpdmUAIyRsbGh0dHBfc2V0X2xlbmllbnRfdHJhbnNmZXJfZW5jb2RpbmcAJBhsbGh0dHBfbWVzc2FnZV9uZWVkc19lb2YALgkXAQBBAQsRAQIDBAUKBgcrLSwqKSglJyYK77MCLBYAQYjQACgCAARAAAtBiNAAQQE2AgALFAAgABAwIAAgAjYCOCAAIAE6ACgLFAAgACAALwEyIAAtAC4gABAvEAALHgEBf0HAABAyIgEQMCABQYAINgI4IAEgADoAKCABC48MAQd/AkAgAEUNACAAQQhrIgEgAEEEaygCACIAQXhxIgRqIQUCQCAAQQFxDQAgAEEDcUUNASABIAEoAgAiAGsiAUGc0AAoAgBJDQEgACAEaiEEAkACQEGg0AAoAgAgAUcEQCAAQf8BTQRAIABBA3YhAyABKAIIIgAgASgCDCICRgRAQYzQAEGM0AAoAgBBfiADd3E2AgAMBQsgAiAANgIIIAAgAjYCDAwECyABKAIYIQYgASABKAIMIgBHBEAgACABKAIIIgI2AgggAiAANgIMDAMLIAFBFGoiAygCACICRQRAIAEoAhAiAkUNAiABQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFKAIEIgBBA3FBA0cNAiAFIABBfnE2AgRBlNAAIAQ2AgAgBSAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCABKAIcIgJBAnRBvNIAaiIDKAIAIAFGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgAUYbaiAANgIAIABFDQELIAAgBjYCGCABKAIQIgIEQCAAIAI2AhAgAiAANgIYCyABQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAFTw0AIAUoAgQiAEEBcUUNAAJAAkACQAJAIABBAnFFBEBBpNAAKAIAIAVGBEBBpNAAIAE2AgBBmNAAQZjQACgCACAEaiIANgIAIAEgAEEBcjYCBCABQaDQACgCAEcNBkGU0ABBADYCAEGg0ABBADYCAAwGC0Gg0AAoAgAgBUYEQEGg0AAgATYCAEGU0ABBlNAAKAIAIARqIgA2AgAgASAAQQFyNgIEIAAgAWogADYCAAwGCyAAQXhxIARqIQQgAEH/AU0EQCAAQQN2IQMgBSgCCCIAIAUoAgwiAkYEQEGM0ABBjNAAKAIAQX4gA3dxNgIADAULIAIgADYCCCAAIAI2AgwMBAsgBSgCGCEGIAUgBSgCDCIARwRAQZzQACgCABogACAFKAIIIgI2AgggAiAANgIMDAMLIAVBFGoiAygCACICRQRAIAUoAhAiAkUNAiAFQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFIABBfnE2AgQgASAEaiAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCAFKAIcIgJBAnRBvNIAaiIDKAIAIAVGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgBUYbaiAANgIAIABFDQELIAAgBjYCGCAFKAIQIgIEQCAAIAI2AhAgAiAANgIYCyAFQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAEaiAENgIAIAEgBEEBcjYCBCABQaDQACgCAEcNAEGU0AAgBDYCAAwBCyAEQf8BTQRAIARBeHFBtNAAaiEAAn9BjNAAKAIAIgJBASAEQQN2dCIDcUUEQEGM0AAgAiADcjYCACAADAELIAAoAggLIgIgATYCDCAAIAE2AgggASAANgIMIAEgAjYCCAwBC0EfIQIgBEH///8HTQRAIARBJiAEQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAgsgASACNgIcIAFCADcCECACQQJ0QbzSAGohAAJAQZDQACgCACIDQQEgAnQiB3FFBEAgACABNgIAQZDQACADIAdyNgIAIAEgADYCGCABIAE2AgggASABNgIMDAELIARBGSACQQF2a0EAIAJBH0cbdCECIAAoAgAhAAJAA0AgACIDKAIEQXhxIARGDQEgAkEddiEAIAJBAXQhAiADIABBBHFqQRBqIgcoAgAiAA0ACyAHIAE2AgAgASADNgIYIAEgATYCDCABIAE2AggMAQsgAygCCCIAIAE2AgwgAyABNgIIIAFBADYCGCABIAM2AgwgASAANgIIC0Gs0ABBrNAAKAIAQQFrIgBBfyAAGzYCAAsLBwAgAC0AKAsHACAALQAqCwcAIAAtACsLBwAgAC0AKQsHACAALwEyCwcAIAAtAC4LQAEEfyAAKAIYIQEgAC0ALSECIAAtACghAyAAKAI4IQQgABAwIAAgBDYCOCAAIAM6ACggACACOgAtIAAgATYCGAu74gECB38DfiABIAJqIQQCQCAAIgIoAgwiAA0AIAIoAgQEQCACIAE2AgQLIwBBEGsiCCQAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAIoAhwiA0EBaw7dAdoBAdkBAgMEBQYHCAkKCwwNDtgBDxDXARES1gETFBUWFxgZGhvgAd8BHB0e1QEfICEiIyQl1AEmJygpKiss0wHSAS0u0QHQAS8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRtsBR0hJSs8BzgFLzQFMzAFNTk9QUVJTVFVWV1hZWltcXV5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6e3x9fn+AAYEBggGDAYQBhQGGAYcBiAGJAYoBiwGMAY0BjgGPAZABkQGSAZMBlAGVAZYBlwGYAZkBmgGbAZwBnQGeAZ8BoAGhAaIBowGkAaUBpgGnAagBqQGqAasBrAGtAa4BrwGwAbEBsgGzAbQBtQG2AbcBywHKAbgByQG5AcgBugG7AbwBvQG+Ab8BwAHBAcIBwwHEAcUBxgEA3AELQQAMxgELQQ4MxQELQQ0MxAELQQ8MwwELQRAMwgELQRMMwQELQRQMwAELQRUMvwELQRYMvgELQRgMvQELQRkMvAELQRoMuwELQRsMugELQRwMuQELQR0MuAELQQgMtwELQR4MtgELQSAMtQELQR8MtAELQQcMswELQSEMsgELQSIMsQELQSMMsAELQSQMrwELQRIMrgELQREMrQELQSUMrAELQSYMqwELQScMqgELQSgMqQELQcMBDKgBC0EqDKcBC0ErDKYBC0EsDKUBC0EtDKQBC0EuDKMBC0EvDKIBC0HEAQyhAQtBMAygAQtBNAyfAQtBDAyeAQtBMQydAQtBMgycAQtBMwybAQtBOQyaAQtBNQyZAQtBxQEMmAELQQsMlwELQToMlgELQTYMlQELQQoMlAELQTcMkwELQTgMkgELQTwMkQELQTsMkAELQT0MjwELQQkMjgELQSkMjQELQT4MjAELQT8MiwELQcAADIoBC0HBAAyJAQtBwgAMiAELQcMADIcBC0HEAAyGAQtBxQAMhQELQcYADIQBC0EXDIMBC0HHAAyCAQtByAAMgQELQckADIABC0HKAAx/C0HLAAx+C0HNAAx9C0HMAAx8C0HOAAx7C0HPAAx6C0HQAAx5C0HRAAx4C0HSAAx3C0HTAAx2C0HUAAx1C0HWAAx0C0HVAAxzC0EGDHILQdcADHELQQUMcAtB2AAMbwtBBAxuC0HZAAxtC0HaAAxsC0HbAAxrC0HcAAxqC0EDDGkLQd0ADGgLQd4ADGcLQd8ADGYLQeEADGULQeAADGQLQeIADGMLQeMADGILQQIMYQtB5AAMYAtB5QAMXwtB5gAMXgtB5wAMXQtB6AAMXAtB6QAMWwtB6gAMWgtB6wAMWQtB7AAMWAtB7QAMVwtB7gAMVgtB7wAMVQtB8AAMVAtB8QAMUwtB8gAMUgtB8wAMUQtB9AAMUAtB9QAMTwtB9gAMTgtB9wAMTQtB+AAMTAtB+QAMSwtB+gAMSgtB+wAMSQtB/AAMSAtB/QAMRwtB/gAMRgtB/wAMRQtBgAEMRAtBgQEMQwtBggEMQgtBgwEMQQtBhAEMQAtBhQEMPwtBhgEMPgtBhwEMPQtBiAEMPAtBiQEMOwtBigEMOgtBiwEMOQtBjAEMOAtBjQEMNwtBjgEMNgtBjwEMNQtBkAEMNAtBkQEMMwtBkgEMMgtBkwEMMQtBlAEMMAtBlQEMLwtBlgEMLgtBlwEMLQtBmAEMLAtBmQEMKwtBmgEMKgtBmwEMKQtBnAEMKAtBnQEMJwtBngEMJgtBnwEMJQtBoAEMJAtBoQEMIwtBogEMIgtBowEMIQtBpAEMIAtBpQEMHwtBpgEMHgtBpwEMHQtBqAEMHAtBqQEMGwtBqgEMGgtBqwEMGQtBrAEMGAtBrQEMFwtBrgEMFgtBAQwVC0GvAQwUC0GwAQwTC0GxAQwSC0GzAQwRC0GyAQwQC0G0AQwPC0G1AQwOC0G2AQwNC0G3AQwMC0G4AQwLC0G5AQwKC0G6AQwJC0G7AQwIC0HGAQwHC0G8AQwGC0G9AQwFC0G+AQwEC0G/AQwDC0HAAQwCC0HCAQwBC0HBAQshAwNAAkACQAJAAkACQAJAAkACQAJAIAICfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAgJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAn8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCADDsYBAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHyAhIyUmKCorLC8wMTIzNDU2Nzk6Ozw9lANAQkRFRklLTk9QUVJTVFVWWFpbXF1eX2BhYmNkZWZnaGpsb3Bxc3V2eHl6e3x/gAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEBkgGTAZQBlQGWAZcBmAGZAZoBmwGcAZ0BngGfAaABoQGiAaMBpAGlAaYBpwGoAakBqgGrAawBrQGuAa8BsAGxAbIBswG0AbUBtgG3AbgBuQG6AbsBvAG9Ab4BvwHAAcEBwgHDAcQBxQHGAccByAHJAcsBzAHNAc4BzwGKA4kDiAOHA4QDgwOAA/sC+gL5AvgC9wL0AvMC8gLLAsECsALZAQsgASAERw3wAkHdASEDDLMDCyABIARHDcgBQcMBIQMMsgMLIAEgBEcNe0H3ACEDDLEDCyABIARHDXBB7wAhAwywAwsgASAERw1pQeoAIQMMrwMLIAEgBEcNZUHoACEDDK4DCyABIARHDWJB5gAhAwytAwsgASAERw0aQRghAwysAwsgASAERw0VQRIhAwyrAwsgASAERw1CQcUAIQMMqgMLIAEgBEcNNEE/IQMMqQMLIAEgBEcNMkE8IQMMqAMLIAEgBEcNK0ExIQMMpwMLIAItAC5BAUYNnwMMwQILQQAhAAJAAkACQCACLQAqRQ0AIAItACtFDQAgAi8BMCIDQQJxRQ0BDAILIAIvATAiA0EBcUUNAQtBASEAIAItAChBAUYNACACLwEyIgVB5ABrQeQASQ0AIAVBzAFGDQAgBUGwAkYNACADQcAAcQ0AQQAhACADQYgEcUGABEYNACADQShxQQBHIQALIAJBADsBMCACQQA6AC8gAEUN3wIgAkIANwMgDOACC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAARQ3MASAAQRVHDd0CIAJBBDYCHCACIAE2AhQgAkGwGDYCECACQRU2AgxBACEDDKQDCyABIARGBEBBBiEDDKQDCyABQQFqIQFBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAA3ZAgwcCyACQgA3AyBBEiEDDIkDCyABIARHDRZBHSEDDKEDCyABIARHBEAgAUEBaiEBQRAhAwyIAwtBByEDDKADCyACIAIpAyAiCiAEIAFrrSILfSIMQgAgCiAMWhs3AyAgCiALWA3UAkEIIQMMnwMLIAEgBEcEQCACQQk2AgggAiABNgIEQRQhAwyGAwtBCSEDDJ4DCyACKQMgQgBSDccBIAIgAi8BMEGAAXI7ATAMQgsgASAERw0/QdAAIQMMnAMLIAEgBEYEQEELIQMMnAMLIAFBAWohAUEAIQACQCACKAI4IgNFDQAgAygCUCIDRQ0AIAIgAxEAACEACyAADc8CDMYBC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ3GASAAQRVHDc0CIAJBCzYCHCACIAE2AhQgAkGCGTYCECACQRU2AgxBACEDDJoDC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ0MIABBFUcNygIgAkEaNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMmQMLQQAhAAJAIAIoAjgiA0UNACADKAJMIgNFDQAgAiADEQAAIQALIABFDcQBIABBFUcNxwIgAkELNgIcIAIgATYCFCACQZEXNgIQIAJBFTYCDEEAIQMMmAMLIAEgBEYEQEEPIQMMmAMLIAEtAAAiAEE7Rg0HIABBDUcNxAIgAUEBaiEBDMMBC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3DASAAQRVHDcICIAJBDzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJYDCwNAIAEtAABB8DVqLQAAIgBBAUcEQCAAQQJHDcECIAIoAgQhAEEAIQMgAkEANgIEIAIgACABQQFqIgEQLSIADcICDMUBCyAEIAFBAWoiAUcNAAtBEiEDDJUDC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3FASAAQRVHDb0CIAJBGzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJQDCyABIARGBEBBFiEDDJQDCyACQQo2AgggAiABNgIEQQAhAAJAIAIoAjgiA0UNACADKAJIIgNFDQAgAiADEQAAIQALIABFDcIBIABBFUcNuQIgAkEVNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMkwMLIAEgBEcEQANAIAEtAABB8DdqLQAAIgBBAkcEQAJAIABBAWsOBMQCvQIAvgK9AgsgAUEBaiEBQQghAwz8AgsgBCABQQFqIgFHDQALQRUhAwyTAwtBFSEDDJIDCwNAIAEtAABB8DlqLQAAIgBBAkcEQCAAQQFrDgTFArcCwwK4ArcCCyAEIAFBAWoiAUcNAAtBGCEDDJEDCyABIARHBEAgAkELNgIIIAIgATYCBEEHIQMM+AILQRkhAwyQAwsgAUEBaiEBDAILIAEgBEYEQEEaIQMMjwMLAkAgAS0AAEENaw4UtQG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwEAvwELQQAhAyACQQA2AhwgAkGvCzYCECACQQI2AgwgAiABQQFqNgIUDI4DCyABIARGBEBBGyEDDI4DCyABLQAAIgBBO0cEQCAAQQ1HDbECIAFBAWohAQy6AQsgAUEBaiEBC0EiIQMM8wILIAEgBEYEQEEcIQMMjAMLQgAhCgJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAS0AAEEwaw43wQLAAgABAgMEBQYH0AHQAdAB0AHQAdAB0AEICQoLDA3QAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdABDg8QERIT0AELQgIhCgzAAgtCAyEKDL8CC0IEIQoMvgILQgUhCgy9AgtCBiEKDLwCC0IHIQoMuwILQgghCgy6AgtCCSEKDLkCC0IKIQoMuAILQgshCgy3AgtCDCEKDLYCC0INIQoMtQILQg4hCgy0AgtCDyEKDLMCC0IKIQoMsgILQgshCgyxAgtCDCEKDLACC0INIQoMrwILQg4hCgyuAgtCDyEKDK0CC0IAIQoCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAEtAABBMGsON8ACvwIAAQIDBAUGB74CvgK+Ar4CvgK+Ar4CCAkKCwwNvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ag4PEBESE74CC0ICIQoMvwILQgMhCgy+AgtCBCEKDL0CC0IFIQoMvAILQgYhCgy7AgtCByEKDLoCC0IIIQoMuQILQgkhCgy4AgtCCiEKDLcCC0ILIQoMtgILQgwhCgy1AgtCDSEKDLQCC0IOIQoMswILQg8hCgyyAgtCCiEKDLECC0ILIQoMsAILQgwhCgyvAgtCDSEKDK4CC0IOIQoMrQILQg8hCgysAgsgAiACKQMgIgogBCABa60iC30iDEIAIAogDFobNwMgIAogC1gNpwJBHyEDDIkDCyABIARHBEAgAkEJNgIIIAIgATYCBEElIQMM8AILQSAhAwyIAwtBASEFIAIvATAiA0EIcUUEQCACKQMgQgBSIQULAkAgAi0ALgRAQQEhACACLQApQQVGDQEgA0HAAHFFIAVxRQ0BC0EAIQAgA0HAAHENAEECIQAgA0EIcQ0AIANBgARxBEACQCACLQAoQQFHDQAgAi0ALUEKcQ0AQQUhAAwCC0EEIQAMAQsgA0EgcUUEQAJAIAItAChBAUYNACACLwEyIgBB5ABrQeQASQ0AIABBzAFGDQAgAEGwAkYNAEEEIQAgA0EocUUNAiADQYgEcUGABEYNAgtBACEADAELQQBBAyACKQMgUBshAAsgAEEBaw4FvgIAsAEBpAKhAgtBESEDDO0CCyACQQE6AC8MhAMLIAEgBEcNnQJBJCEDDIQDCyABIARHDRxBxgAhAwyDAwtBACEAAkAgAigCOCIDRQ0AIAMoAkQiA0UNACACIAMRAAAhAAsgAEUNJyAAQRVHDZgCIAJB0AA2AhwgAiABNgIUIAJBkRg2AhAgAkEVNgIMQQAhAwyCAwsgASAERgRAQSghAwyCAwtBACEDIAJBADYCBCACQQw2AgggAiABIAEQKiIARQ2UAiACQSc2AhwgAiABNgIUIAIgADYCDAyBAwsgASAERgRAQSkhAwyBAwsgAS0AACIAQSBGDRMgAEEJRw2VAiABQQFqIQEMFAsgASAERwRAIAFBAWohAQwWC0EqIQMM/wILIAEgBEYEQEErIQMM/wILIAEtAAAiAEEJRyAAQSBHcQ2QAiACLQAsQQhHDd0CIAJBADoALAzdAgsgASAERgRAQSwhAwz+AgsgAS0AAEEKRw2OAiABQQFqIQEMsAELIAEgBEcNigJBLyEDDPwCCwNAIAEtAAAiAEEgRwRAIABBCmsOBIQCiAKIAoQChgILIAQgAUEBaiIBRw0AC0ExIQMM+wILQTIhAyABIARGDfoCIAIoAgAiACAEIAFraiEHIAEgAGtBA2ohBgJAA0AgAEHwO2otAAAgAS0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQEgAEEDRgRAQQYhAQziAgsgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAc2AgAM+wILIAJBADYCAAyGAgtBMyEDIAQgASIARg35AiAEIAFrIAIoAgAiAWohByAAIAFrQQhqIQYCQANAIAFB9DtqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBCEYEQEEFIQEM4QILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPoCCyACQQA2AgAgACEBDIUCC0E0IQMgBCABIgBGDfgCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgJAA0AgAUHQwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBBUYEQEEHIQEM4AILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPkCCyACQQA2AgAgACEBDIQCCyABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRg0JDIECCyAEIAFBAWoiAUcNAAtBMCEDDPgCC0EwIQMM9wILIAEgBEcEQANAIAEtAAAiAEEgRwRAIABBCmsOBP8B/gH+Af8B/gELIAQgAUEBaiIBRw0AC0E4IQMM9wILQTghAwz2AgsDQCABLQAAIgBBIEcgAEEJR3EN9gEgBCABQQFqIgFHDQALQTwhAwz1AgsDQCABLQAAIgBBIEcEQAJAIABBCmsOBPkBBAT5AQALIABBLEYN9QEMAwsgBCABQQFqIgFHDQALQT8hAwz0AgtBwAAhAyABIARGDfMCIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAEGAQGstAAAgAS0AAEEgckcNASAAQQZGDdsCIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPQCCyACQQA2AgALQTYhAwzZAgsgASAERgRAQcEAIQMM8gILIAJBDDYCCCACIAE2AgQgAi0ALEEBaw4E+wHuAewB6wHUAgsgAUEBaiEBDPoBCyABIARHBEADQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxIgBBCUYNACAAQSBGDQACQAJAAkACQCAAQeMAaw4TAAMDAwMDAwMBAwMDAwMDAwMDAgMLIAFBAWohAUExIQMM3AILIAFBAWohAUEyIQMM2wILIAFBAWohAUEzIQMM2gILDP4BCyAEIAFBAWoiAUcNAAtBNSEDDPACC0E1IQMM7wILIAEgBEcEQANAIAEtAABBgDxqLQAAQQFHDfcBIAQgAUEBaiIBRw0AC0E9IQMM7wILQT0hAwzuAgtBACEAAkAgAigCOCIDRQ0AIAMoAkAiA0UNACACIAMRAAAhAAsgAEUNASAAQRVHDeYBIAJBwgA2AhwgAiABNgIUIAJB4xg2AhAgAkEVNgIMQQAhAwztAgsgAUEBaiEBC0E8IQMM0gILIAEgBEYEQEHCACEDDOsCCwJAA0ACQCABLQAAQQlrDhgAAswCzALRAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAgDMAgsgBCABQQFqIgFHDQALQcIAIQMM6wILIAFBAWohASACLQAtQQFxRQ3+AQtBLCEDDNACCyABIARHDd4BQcQAIQMM6AILA0AgAS0AAEGQwABqLQAAQQFHDZwBIAQgAUEBaiIBRw0AC0HFACEDDOcCCyABLQAAIgBBIEYN/gEgAEE6Rw3AAiACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgAN3gEM3QELQccAIQMgBCABIgBGDeUCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFBkMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvwIgAUEFRg3CAiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzlAgtByAAhAyAEIAEiAEYN5AIgBCABayACKAIAIgFqIQcgACABa0EJaiEGA0AgAUGWwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw2+AkECIAFBCUYNwgIaIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOQCCyABIARGBEBByQAhAwzkAgsCQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxQe4Aaw4HAL8CvwK/Ar8CvwIBvwILIAFBAWohAUE+IQMMywILIAFBAWohAUE/IQMMygILQcoAIQMgBCABIgBGDeICIAQgAWsgAigCACIBaiEGIAAgAWtBAWohBwNAIAFBoMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvAIgAUEBRg2+AiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBjYCAAziAgtBywAhAyAEIAEiAEYN4QIgBCABayACKAIAIgFqIQcgACABa0EOaiEGA0AgAUGiwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw27AiABQQ5GDb4CIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOECC0HMACEDIAQgASIARg3gAiAEIAFrIAIoAgAiAWohByAAIAFrQQ9qIQYDQCABQcDCAGotAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDboCQQMgAUEPRg2+AhogAUEBaiEBIAQgAEEBaiIARw0ACyACIAc2AgAM4AILQc0AIQMgBCABIgBGDd8CIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFB0MIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNuQJBBCABQQVGDb0CGiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzfAgsgASAERgRAQc4AIQMM3wILAkACQAJAAkAgAS0AACIAQSByIAAgAEHBAGtB/wFxQRpJG0H/AXFB4wBrDhMAvAK8ArwCvAK8ArwCvAK8ArwCvAK8ArwCAbwCvAK8AgIDvAILIAFBAWohAUHBACEDDMgCCyABQQFqIQFBwgAhAwzHAgsgAUEBaiEBQcMAIQMMxgILIAFBAWohAUHEACEDDMUCCyABIARHBEAgAkENNgIIIAIgATYCBEHFACEDDMUCC0HPACEDDN0CCwJAAkAgAS0AAEEKaw4EAZABkAEAkAELIAFBAWohAQtBKCEDDMMCCyABIARGBEBB0QAhAwzcAgsgAS0AAEEgRw0AIAFBAWohASACLQAtQQFxRQ3QAQtBFyEDDMECCyABIARHDcsBQdIAIQMM2QILQdMAIQMgASAERg3YAiACKAIAIgAgBCABa2ohBiABIABrQQFqIQUDQCABLQAAIABB1sIAai0AAEcNxwEgAEEBRg3KASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBjYCAAzYAgsgASAERgRAQdUAIQMM2AILIAEtAABBCkcNwgEgAUEBaiEBDMoBCyABIARGBEBB1gAhAwzXAgsCQAJAIAEtAABBCmsOBADDAcMBAcMBCyABQQFqIQEMygELIAFBAWohAUHKACEDDL0CC0EAIQACQCACKAI4IgNFDQAgAygCPCIDRQ0AIAIgAxEAACEACyAADb8BQc0AIQMMvAILIAItAClBIkYNzwIMiQELIAQgASIFRgRAQdsAIQMM1AILQQAhAEEBIQFBASEGQQAhAwJAAn8CQAJAAkACQAJAAkACQCAFLQAAQTBrDgrFAcQBAAECAwQFBgjDAQtBAgwGC0EDDAULQQQMBAtBBQwDC0EGDAILQQcMAQtBCAshA0EAIQFBACEGDL0BC0EJIQNBASEAQQAhAUEAIQYMvAELIAEgBEYEQEHdACEDDNMCCyABLQAAQS5HDbgBIAFBAWohAQyIAQsgASAERw22AUHfACEDDNECCyABIARHBEAgAkEONgIIIAIgATYCBEHQACEDDLgCC0HgACEDDNACC0HhACEDIAEgBEYNzwIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGA0AgAS0AACAAQeLCAGotAABHDbEBIABBA0YNswEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMzwILQeIAIQMgASAERg3OAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYDQCABLQAAIABB5sIAai0AAEcNsAEgAEECRg2vASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAzOAgtB4wAhAyABIARGDc0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgNAIAEtAAAgAEHpwgBqLQAARw2vASAAQQNGDa0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADM0CCyABIARGBEBB5QAhAwzNAgsgAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANqgFB1gAhAwyzAgsgASAERwRAA0AgAS0AACIAQSBHBEACQAJAAkAgAEHIAGsOCwABswGzAbMBswGzAbMBswGzAQKzAQsgAUEBaiEBQdIAIQMMtwILIAFBAWohAUHTACEDDLYCCyABQQFqIQFB1AAhAwy1AgsgBCABQQFqIgFHDQALQeQAIQMMzAILQeQAIQMMywILA0AgAS0AAEHwwgBqLQAAIgBBAUcEQCAAQQJrDgOnAaYBpQGkAQsgBCABQQFqIgFHDQALQeYAIQMMygILIAFBAWogASAERw0CGkHnACEDDMkCCwNAIAEtAABB8MQAai0AACIAQQFHBEACQCAAQQJrDgSiAaEBoAEAnwELQdcAIQMMsQILIAQgAUEBaiIBRw0AC0HoACEDDMgCCyABIARGBEBB6QAhAwzIAgsCQCABLQAAIgBBCmsOGrcBmwGbAbQBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBpAGbAZsBAJkBCyABQQFqCyEBQQYhAwytAgsDQCABLQAAQfDGAGotAABBAUcNfSAEIAFBAWoiAUcNAAtB6gAhAwzFAgsgAUEBaiABIARHDQIaQesAIQMMxAILIAEgBEYEQEHsACEDDMQCCyABQQFqDAELIAEgBEYEQEHtACEDDMMCCyABQQFqCyEBQQQhAwyoAgsgASAERgRAQe4AIQMMwQILAkACQAJAIAEtAABB8MgAai0AAEEBaw4HkAGPAY4BAHwBAo0BCyABQQFqIQEMCwsgAUEBagyTAQtBACEDIAJBADYCHCACQZsSNgIQIAJBBzYCDCACIAFBAWo2AhQMwAILAkADQCABLQAAQfDIAGotAAAiAEEERwRAAkACQCAAQQFrDgeUAZMBkgGNAQAEAY0BC0HaACEDDKoCCyABQQFqIQFB3AAhAwypAgsgBCABQQFqIgFHDQALQe8AIQMMwAILIAFBAWoMkQELIAQgASIARgRAQfAAIQMMvwILIAAtAABBL0cNASAAQQFqIQEMBwsgBCABIgBGBEBB8QAhAwy+AgsgAC0AACIBQS9GBEAgAEEBaiEBQd0AIQMMpQILIAFBCmsiA0EWSw0AIAAhAUEBIAN0QYmAgAJxDfkBC0EAIQMgAkEANgIcIAIgADYCFCACQYwcNgIQIAJBBzYCDAy8AgsgASAERwRAIAFBAWohAUHeACEDDKMCC0HyACEDDLsCCyABIARGBEBB9AAhAwy7AgsCQCABLQAAQfDMAGotAABBAWsOA/cBcwCCAQtB4QAhAwyhAgsgASAERwRAA0AgAS0AAEHwygBqLQAAIgBBA0cEQAJAIABBAWsOAvkBAIUBC0HfACEDDKMCCyAEIAFBAWoiAUcNAAtB8wAhAwy6AgtB8wAhAwy5AgsgASAERwRAIAJBDzYCCCACIAE2AgRB4AAhAwygAgtB9QAhAwy4AgsgASAERgRAQfYAIQMMuAILIAJBDzYCCCACIAE2AgQLQQMhAwydAgsDQCABLQAAQSBHDY4CIAQgAUEBaiIBRw0AC0H3ACEDDLUCCyABIARGBEBB+AAhAwy1AgsgAS0AAEEgRw16IAFBAWohAQxbC0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAADXgMgAILIAEgBEYEQEH6ACEDDLMCCyABLQAAQcwARw10IAFBAWohAUETDHYLQfsAIQMgASAERg2xAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYDQCABLQAAIABB8M4Aai0AAEcNcyAAQQVGDXUgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMsQILIAEgBEYEQEH8ACEDDLECCwJAAkAgAS0AAEHDAGsODAB0dHR0dHR0dHR0AXQLIAFBAWohAUHmACEDDJgCCyABQQFqIQFB5wAhAwyXAgtB/QAhAyABIARGDa8CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDXIgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADLACCyACQQA2AgAgBkEBaiEBQRAMcwtB/gAhAyABIARGDa4CIAIoAgAiACAEIAFraiEFIAEgAGtBBWohBgJAA0AgAS0AACAAQfbOAGotAABHDXEgAEEFRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK8CCyACQQA2AgAgBkEBaiEBQRYMcgtB/wAhAyABIARGDa0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQfzOAGotAABHDXAgAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK4CCyACQQA2AgAgBkEBaiEBQQUMcQsgASAERgRAQYABIQMMrQILIAEtAABB2QBHDW4gAUEBaiEBQQgMcAsgASAERgRAQYEBIQMMrAILAkACQCABLQAAQc4Aaw4DAG8BbwsgAUEBaiEBQesAIQMMkwILIAFBAWohAUHsACEDDJICCyABIARGBEBBggEhAwyrAgsCQAJAIAEtAABByABrDggAbm5ubm5uAW4LIAFBAWohAUHqACEDDJICCyABQQFqIQFB7QAhAwyRAgtBgwEhAyABIARGDakCIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQYDPAGotAABHDWwgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKoCCyACQQA2AgAgBkEBaiEBQQAMbQtBhAEhAyABIARGDagCIAIoAgAiACAEIAFraiEFIAEgAGtBBGohBgJAA0AgAS0AACAAQYPPAGotAABHDWsgAEEERg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKkCCyACQQA2AgAgBkEBaiEBQSMMbAsgASAERgRAQYUBIQMMqAILAkACQCABLQAAQcwAaw4IAGtra2trawFrCyABQQFqIQFB7wAhAwyPAgsgAUEBaiEBQfAAIQMMjgILIAEgBEYEQEGGASEDDKcCCyABLQAAQcUARw1oIAFBAWohAQxgC0GHASEDIAEgBEYNpQIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABBiM8Aai0AAEcNaCAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpgILIAJBADYCACAGQQFqIQFBLQxpC0GIASEDIAEgBEYNpAIgAigCACIAIAQgAWtqIQUgASAAa0EIaiEGAkADQCABLQAAIABB0M8Aai0AAEcNZyAAQQhGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpQILIAJBADYCACAGQQFqIQFBKQxoCyABIARGBEBBiQEhAwykAgtBASABLQAAQd8ARw1nGiABQQFqIQEMXgtBigEhAyABIARGDaICIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgNAIAEtAAAgAEGMzwBqLQAARw1kIABBAUYN+gEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMogILQYsBIQMgASAERg2hAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGOzwBqLQAARw1kIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyiAgsgAkEANgIAIAZBAWohAUECDGULQYwBIQMgASAERg2gAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHwzwBqLQAARw1jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyhAgsgAkEANgIAIAZBAWohAUEfDGQLQY0BIQMgASAERg2fAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHyzwBqLQAARw1iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAygAgsgAkEANgIAIAZBAWohAUEJDGMLIAEgBEYEQEGOASEDDJ8CCwJAAkAgAS0AAEHJAGsOBwBiYmJiYgFiCyABQQFqIQFB+AAhAwyGAgsgAUEBaiEBQfkAIQMMhQILQY8BIQMgASAERg2dAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGRzwBqLQAARw1gIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyeAgsgAkEANgIAIAZBAWohAUEYDGELQZABIQMgASAERg2cAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGXzwBqLQAARw1fIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAydAgsgAkEANgIAIAZBAWohAUEXDGALQZEBIQMgASAERg2bAiACKAIAIgAgBCABa2ohBSABIABrQQZqIQYCQANAIAEtAAAgAEGazwBqLQAARw1eIABBBkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAycAgsgAkEANgIAIAZBAWohAUEVDF8LQZIBIQMgASAERg2aAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGhzwBqLQAARw1dIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAybAgsgAkEANgIAIAZBAWohAUEeDF4LIAEgBEYEQEGTASEDDJoCCyABLQAAQcwARw1bIAFBAWohAUEKDF0LIAEgBEYEQEGUASEDDJkCCwJAAkAgAS0AAEHBAGsODwBcXFxcXFxcXFxcXFxcAVwLIAFBAWohAUH+ACEDDIACCyABQQFqIQFB/wAhAwz/AQsgASAERgRAQZUBIQMMmAILAkACQCABLQAAQcEAaw4DAFsBWwsgAUEBaiEBQf0AIQMM/wELIAFBAWohAUGAASEDDP4BC0GWASEDIAEgBEYNlgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBp88Aai0AAEcNWSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlwILIAJBADYCACAGQQFqIQFBCwxaCyABIARGBEBBlwEhAwyWAgsCQAJAAkACQCABLQAAQS1rDiMAW1tbW1tbW1tbW1tbW1tbW1tbW1tbW1sBW1tbW1sCW1tbA1sLIAFBAWohAUH7ACEDDP8BCyABQQFqIQFB/AAhAwz+AQsgAUEBaiEBQYEBIQMM/QELIAFBAWohAUGCASEDDPwBC0GYASEDIAEgBEYNlAIgAigCACIAIAQgAWtqIQUgASAAa0EEaiEGAkADQCABLQAAIABBqc8Aai0AAEcNVyAAQQRGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlQILIAJBADYCACAGQQFqIQFBGQxYC0GZASEDIAEgBEYNkwIgAigCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABBrs8Aai0AAEcNViAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlAILIAJBADYCACAGQQFqIQFBBgxXC0GaASEDIAEgBEYNkgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBtM8Aai0AAEcNVSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkwILIAJBADYCACAGQQFqIQFBHAxWC0GbASEDIAEgBEYNkQIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBts8Aai0AAEcNVCAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkgILIAJBADYCACAGQQFqIQFBJwxVCyABIARGBEBBnAEhAwyRAgsCQAJAIAEtAABB1ABrDgIAAVQLIAFBAWohAUGGASEDDPgBCyABQQFqIQFBhwEhAwz3AQtBnQEhAyABIARGDY8CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbjPAGotAABHDVIgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADJACCyACQQA2AgAgBkEBaiEBQSYMUwtBngEhAyABIARGDY4CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbrPAGotAABHDVEgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI8CCyACQQA2AgAgBkEBaiEBQQMMUgtBnwEhAyABIARGDY0CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDVAgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI4CCyACQQA2AgAgBkEBaiEBQQwMUQtBoAEhAyABIARGDYwCIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQbzPAGotAABHDU8gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI0CCyACQQA2AgAgBkEBaiEBQQ0MUAsgASAERgRAQaEBIQMMjAILAkACQCABLQAAQcYAaw4LAE9PT09PT09PTwFPCyABQQFqIQFBiwEhAwzzAQsgAUEBaiEBQYwBIQMM8gELIAEgBEYEQEGiASEDDIsCCyABLQAAQdAARw1MIAFBAWohAQxGCyABIARGBEBBowEhAwyKAgsCQAJAIAEtAABByQBrDgcBTU1NTU0ATQsgAUEBaiEBQY4BIQMM8QELIAFBAWohAUEiDE0LQaQBIQMgASAERg2IAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHAzwBqLQAARw1LIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyJAgsgAkEANgIAIAZBAWohAUEdDEwLIAEgBEYEQEGlASEDDIgCCwJAAkAgAS0AAEHSAGsOAwBLAUsLIAFBAWohAUGQASEDDO8BCyABQQFqIQFBBAxLCyABIARGBEBBpgEhAwyHAgsCQAJAAkACQAJAIAEtAABBwQBrDhUATU1NTU1NTU1NTQFNTQJNTQNNTQRNCyABQQFqIQFBiAEhAwzxAQsgAUEBaiEBQYkBIQMM8AELIAFBAWohAUGKASEDDO8BCyABQQFqIQFBjwEhAwzuAQsgAUEBaiEBQZEBIQMM7QELQacBIQMgASAERg2FAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHtzwBqLQAARw1IIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyGAgsgAkEANgIAIAZBAWohAUERDEkLQagBIQMgASAERg2EAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHCzwBqLQAARw1HIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyFAgsgAkEANgIAIAZBAWohAUEsDEgLQakBIQMgASAERg2DAiACKAIAIgAgBCABa2ohBSABIABrQQRqIQYCQANAIAEtAAAgAEHFzwBqLQAARw1GIABBBEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyEAgsgAkEANgIAIAZBAWohAUErDEcLQaoBIQMgASAERg2CAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHKzwBqLQAARw1FIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyDAgsgAkEANgIAIAZBAWohAUEUDEYLIAEgBEYEQEGrASEDDIICCwJAAkACQAJAIAEtAABBwgBrDg8AAQJHR0dHR0dHR0dHRwNHCyABQQFqIQFBkwEhAwzrAQsgAUEBaiEBQZQBIQMM6gELIAFBAWohAUGVASEDDOkBCyABQQFqIQFBlgEhAwzoAQsgASAERgRAQawBIQMMgQILIAEtAABBxQBHDUIgAUEBaiEBDD0LQa0BIQMgASAERg3/ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHNzwBqLQAARw1CIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyAAgsgAkEANgIAIAZBAWohAUEODEMLIAEgBEYEQEGuASEDDP8BCyABLQAAQdAARw1AIAFBAWohAUElDEILQa8BIQMgASAERg39ASACKAIAIgAgBCABa2ohBSABIABrQQhqIQYCQANAIAEtAAAgAEHQzwBqLQAARw1AIABBCEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz+AQsgAkEANgIAIAZBAWohAUEqDEELIAEgBEYEQEGwASEDDP0BCwJAAkAgAS0AAEHVAGsOCwBAQEBAQEBAQEABQAsgAUEBaiEBQZoBIQMM5AELIAFBAWohAUGbASEDDOMBCyABIARGBEBBsQEhAwz8AQsCQAJAIAEtAABBwQBrDhQAPz8/Pz8/Pz8/Pz8/Pz8/Pz8/AT8LIAFBAWohAUGZASEDDOMBCyABQQFqIQFBnAEhAwziAQtBsgEhAyABIARGDfoBIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQdnPAGotAABHDT0gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPsBCyACQQA2AgAgBkEBaiEBQSEMPgtBswEhAyABIARGDfkBIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAS0AACAAQd3PAGotAABHDTwgAEEGRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPoBCyACQQA2AgAgBkEBaiEBQRoMPQsgASAERgRAQbQBIQMM+QELAkACQAJAIAEtAABBxQBrDhEAPT09PT09PT09AT09PT09Aj0LIAFBAWohAUGdASEDDOEBCyABQQFqIQFBngEhAwzgAQsgAUEBaiEBQZ8BIQMM3wELQbUBIQMgASAERg33ASACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEHkzwBqLQAARw06IABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz4AQsgAkEANgIAIAZBAWohAUEoDDsLQbYBIQMgASAERg32ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHqzwBqLQAARw05IABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz3AQsgAkEANgIAIAZBAWohAUEHDDoLIAEgBEYEQEG3ASEDDPYBCwJAAkAgAS0AAEHFAGsODgA5OTk5OTk5OTk5OTkBOQsgAUEBaiEBQaEBIQMM3QELIAFBAWohAUGiASEDDNwBC0G4ASEDIAEgBEYN9AEgAigCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB7c8Aai0AAEcNNyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9QELIAJBADYCACAGQQFqIQFBEgw4C0G5ASEDIAEgBEYN8wEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8M8Aai0AAEcNNiAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9AELIAJBADYCACAGQQFqIQFBIAw3C0G6ASEDIAEgBEYN8gEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8s8Aai0AAEcNNSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8wELIAJBADYCACAGQQFqIQFBDww2CyABIARGBEBBuwEhAwzyAQsCQAJAIAEtAABByQBrDgcANTU1NTUBNQsgAUEBaiEBQaUBIQMM2QELIAFBAWohAUGmASEDDNgBC0G8ASEDIAEgBEYN8AEgAigCACIAIAQgAWtqIQUgASAAa0EHaiEGAkADQCABLQAAIABB9M8Aai0AAEcNMyAAQQdGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8QELIAJBADYCACAGQQFqIQFBGww0CyABIARGBEBBvQEhAwzwAQsCQAJAAkAgAS0AAEHCAGsOEgA0NDQ0NDQ0NDQBNDQ0NDQ0AjQLIAFBAWohAUGkASEDDNgBCyABQQFqIQFBpwEhAwzXAQsgAUEBaiEBQagBIQMM1gELIAEgBEYEQEG+ASEDDO8BCyABLQAAQc4ARw0wIAFBAWohAQwsCyABIARGBEBBvwEhAwzuAQsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCABLQAAQcEAaw4VAAECAz8EBQY/Pz8HCAkKCz8MDQ4PPwsgAUEBaiEBQegAIQMM4wELIAFBAWohAUHpACEDDOIBCyABQQFqIQFB7gAhAwzhAQsgAUEBaiEBQfIAIQMM4AELIAFBAWohAUHzACEDDN8BCyABQQFqIQFB9gAhAwzeAQsgAUEBaiEBQfcAIQMM3QELIAFBAWohAUH6ACEDDNwBCyABQQFqIQFBgwEhAwzbAQsgAUEBaiEBQYQBIQMM2gELIAFBAWohAUGFASEDDNkBCyABQQFqIQFBkgEhAwzYAQsgAUEBaiEBQZgBIQMM1wELIAFBAWohAUGgASEDDNYBCyABQQFqIQFBowEhAwzVAQsgAUEBaiEBQaoBIQMM1AELIAEgBEcEQCACQRA2AgggAiABNgIEQasBIQMM1AELQcABIQMM7AELQQAhAAJAIAIoAjgiA0UNACADKAI0IgNFDQAgAiADEQAAIQALIABFDV4gAEEVRw0HIAJB0QA2AhwgAiABNgIUIAJBsBc2AhAgAkEVNgIMQQAhAwzrAQsgAUEBaiABIARHDQgaQcIBIQMM6gELA0ACQCABLQAAQQprDgQIAAALAAsgBCABQQFqIgFHDQALQcMBIQMM6QELIAEgBEcEQCACQRE2AgggAiABNgIEQQEhAwzQAQtBxAEhAwzoAQsgASAERgRAQcUBIQMM6AELAkACQCABLQAAQQprDgQBKCgAKAsgAUEBagwJCyABQQFqDAULIAEgBEYEQEHGASEDDOcBCwJAAkAgAS0AAEEKaw4XAQsLAQsLCwsLCwsLCwsLCwsLCwsLCwALCyABQQFqIQELQbABIQMMzQELIAEgBEYEQEHIASEDDOYBCyABLQAAQSBHDQkgAkEAOwEyIAFBAWohAUGzASEDDMwBCwNAIAEhAAJAIAEgBEcEQCABLQAAQTBrQf8BcSIDQQpJDQEMJwtBxwEhAwzmAQsCQCACLwEyIgFBmTNLDQAgAiABQQpsIgU7ATIgBUH+/wNxIANB//8Dc0sNACAAQQFqIQEgAiADIAVqIgM7ATIgA0H//wNxQegHSQ0BCwtBACEDIAJBADYCHCACQcEJNgIQIAJBDTYCDCACIABBAWo2AhQM5AELIAJBADYCHCACIAE2AhQgAkHwDDYCECACQRs2AgxBACEDDOMBCyACKAIEIQAgAkEANgIEIAIgACABECYiAA0BIAFBAWoLIQFBrQEhAwzIAQsgAkHBATYCHCACIAA2AgwgAiABQQFqNgIUQQAhAwzgAQsgAigCBCEAIAJBADYCBCACIAAgARAmIgANASABQQFqCyEBQa4BIQMMxQELIAJBwgE2AhwgAiAANgIMIAIgAUEBajYCFEEAIQMM3QELIAJBADYCHCACIAE2AhQgAkGXCzYCECACQQ02AgxBACEDDNwBCyACQQA2AhwgAiABNgIUIAJB4xA2AhAgAkEJNgIMQQAhAwzbAQsgAkECOgAoDKwBC0EAIQMgAkEANgIcIAJBrws2AhAgAkECNgIMIAIgAUEBajYCFAzZAQtBAiEDDL8BC0ENIQMMvgELQSYhAwy9AQtBFSEDDLwBC0EWIQMMuwELQRghAwy6AQtBHCEDDLkBC0EdIQMMuAELQSAhAwy3AQtBISEDDLYBC0EjIQMMtQELQcYAIQMMtAELQS4hAwyzAQtBPSEDDLIBC0HLACEDDLEBC0HOACEDDLABC0HYACEDDK8BC0HZACEDDK4BC0HbACEDDK0BC0HxACEDDKwBC0H0ACEDDKsBC0GNASEDDKoBC0GXASEDDKkBC0GpASEDDKgBC0GvASEDDKcBC0GxASEDDKYBCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB8Rs2AhAgAkEGNgIMDL0BCyACQQA2AgAgBkEBaiEBQSQLOgApIAIoAgQhACACQQA2AgQgAiAAIAEQJyIARQRAQeUAIQMMowELIAJB+QA2AhwgAiABNgIUIAIgADYCDEEAIQMMuwELIABBFUcEQCACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwy7AQsgAkH4ADYCHCACIAE2AhQgAkHKGDYCECACQRU2AgxBACEDDLoBCyACQQA2AhwgAiABNgIUIAJBjhs2AhAgAkEGNgIMQQAhAwy5AQsgAkEANgIcIAIgATYCFCACQf4RNgIQIAJBBzYCDEEAIQMMuAELIAJBADYCHCACIAE2AhQgAkGMHDYCECACQQc2AgxBACEDDLcBCyACQQA2AhwgAiABNgIUIAJBww82AhAgAkEHNgIMQQAhAwy2AQsgAkEANgIcIAIgATYCFCACQcMPNgIQIAJBBzYCDEEAIQMMtQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0RIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMtAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0gIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMswELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0iIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMsgELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0OIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMsQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0dIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMsAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0fIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMrwELIABBP0cNASABQQFqCyEBQQUhAwyUAQtBACEDIAJBADYCHCACIAE2AhQgAkH9EjYCECACQQc2AgwMrAELIAJBADYCHCACIAE2AhQgAkHcCDYCECACQQc2AgxBACEDDKsBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNByACQeUANgIcIAIgATYCFCACIAA2AgxBACEDDKoBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNFiACQdMANgIcIAIgATYCFCACIAA2AgxBACEDDKkBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNGCACQdIANgIcIAIgATYCFCACIAA2AgxBACEDDKgBCyACQQA2AhwgAiABNgIUIAJBxgo2AhAgAkEHNgIMQQAhAwynAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQMgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwymAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRIgAkHTADYCHCACIAE2AhQgAiAANgIMQQAhAwylAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRQgAkHSADYCHCACIAE2AhQgAiAANgIMQQAhAwykAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQAgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwyjAQtB1QAhAwyJAQsgAEEVRwRAIAJBADYCHCACIAE2AhQgAkG5DTYCECACQRo2AgxBACEDDKIBCyACQeQANgIcIAIgATYCFCACQeMXNgIQIAJBFTYCDEEAIQMMoQELIAJBADYCACAGQQFqIQEgAi0AKSIAQSNrQQtJDQQCQCAAQQZLDQBBASAAdEHKAHFFDQAMBQtBACEDIAJBADYCHCACIAE2AhQgAkH3CTYCECACQQg2AgwMoAELIAJBADYCACAGQQFqIQEgAi0AKUEhRg0DIAJBADYCHCACIAE2AhQgAkGbCjYCECACQQg2AgxBACEDDJ8BCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJBkDM2AhAgAkEINgIMDJ0BCyACQQA2AgAgBkEBaiEBIAItAClBI0kNACACQQA2AhwgAiABNgIUIAJB0wk2AhAgAkEINgIMQQAhAwycAQtB0QAhAwyCAQsgAS0AAEEwayIAQf8BcUEKSQRAIAIgADoAKiABQQFqIQFBzwAhAwyCAQsgAigCBCEAIAJBADYCBCACIAAgARAoIgBFDYYBIAJB3gA2AhwgAiABNgIUIAIgADYCDEEAIQMMmgELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ2GASACQdwANgIcIAIgATYCFCACIAA2AgxBACEDDJkBCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMhwELIAJB2gA2AhwgAiAFNgIUIAIgADYCDAyYAQtBACEBQQEhAwsgAiADOgArIAVBAWohAwJAAkACQCACLQAtQRBxDQACQAJAAkAgAi0AKg4DAQACBAsgBkUNAwwCCyAADQEMAgsgAUUNAQsgAigCBCEAIAJBADYCBCACIAAgAxAoIgBFBEAgAyEBDAILIAJB2AA2AhwgAiADNgIUIAIgADYCDEEAIQMMmAELIAIoAgQhACACQQA2AgQgAiAAIAMQKCIARQRAIAMhAQyHAQsgAkHZADYCHCACIAM2AhQgAiAANgIMQQAhAwyXAQtBzAAhAwx9CyAAQRVHBEAgAkEANgIcIAIgATYCFCACQZQNNgIQIAJBITYCDEEAIQMMlgELIAJB1wA2AhwgAiABNgIUIAJByRc2AhAgAkEVNgIMQQAhAwyVAQtBACEDIAJBADYCHCACIAE2AhQgAkGAETYCECACQQk2AgwMlAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0AIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMkwELQckAIQMMeQsgAkEANgIcIAIgATYCFCACQcEoNgIQIAJBBzYCDCACQQA2AgBBACEDDJEBCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAlIgBFDQAgAkHSADYCHCACIAE2AhQgAiAANgIMDJABC0HIACEDDHYLIAJBADYCACAFIQELIAJBgBI7ASogAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANAQtBxwAhAwxzCyAAQRVGBEAgAkHRADYCHCACIAE2AhQgAkHjFzYCECACQRU2AgxBACEDDIwBC0EAIQMgAkEANgIcIAIgATYCFCACQbkNNgIQIAJBGjYCDAyLAQtBACEDIAJBADYCHCACIAE2AhQgAkGgGTYCECACQR42AgwMigELIAEtAABBOkYEQCACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgBFDQEgAkHDADYCHCACIAA2AgwgAiABQQFqNgIUDIoBC0EAIQMgAkEANgIcIAIgATYCFCACQbERNgIQIAJBCjYCDAyJAQsgAUEBaiEBQTshAwxvCyACQcMANgIcIAIgADYCDCACIAFBAWo2AhQMhwELQQAhAyACQQA2AhwgAiABNgIUIAJB8A42AhAgAkEcNgIMDIYBCyACIAIvATBBEHI7ATAMZgsCQCACLwEwIgBBCHFFDQAgAi0AKEEBRw0AIAItAC1BCHFFDQMLIAIgAEH3+wNxQYAEcjsBMAwECyABIARHBEACQANAIAEtAABBMGsiAEH/AXFBCk8EQEE1IQMMbgsgAikDICIKQpmz5syZs+bMGVYNASACIApCCn4iCjcDICAKIACtQv8BgyILQn+FVg0BIAIgCiALfDcDICAEIAFBAWoiAUcNAAtBOSEDDIUBCyACKAIEIQBBACEDIAJBADYCBCACIAAgAUEBaiIBECoiAA0MDHcLQTkhAwyDAQsgAi0AMEEgcQ0GQcUBIQMMaQtBACEDIAJBADYCBCACIAEgARAqIgBFDQQgAkE6NgIcIAIgADYCDCACIAFBAWo2AhQMgQELIAItAChBAUcNACACLQAtQQhxRQ0BC0E3IQMMZgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIABEAgAkE7NgIcIAIgADYCDCACIAFBAWo2AhQMfwsgAUEBaiEBDG4LIAJBCDoALAwECyABQQFqIQEMbQtBACEDIAJBADYCHCACIAE2AhQgAkHkEjYCECACQQQ2AgwMewsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ1sIAJBNzYCHCACIAE2AhQgAiAANgIMDHoLIAIgAi8BMEEgcjsBMAtBMCEDDF8LIAJBNjYCHCACIAE2AhQgAiAANgIMDHcLIABBLEcNASABQQFqIQBBASEBAkACQAJAAkACQCACLQAsQQVrDgQDAQIEAAsgACEBDAQLQQIhAQwBC0EEIQELIAJBAToALCACIAIvATAgAXI7ATAgACEBDAELIAIgAi8BMEEIcjsBMCAAIQELQTkhAwxcCyACQQA6ACwLQTQhAwxaCyABIARGBEBBLSEDDHMLAkACQANAAkAgAS0AAEEKaw4EAgAAAwALIAQgAUEBaiIBRw0AC0EtIQMMdAsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ0CIAJBLDYCHCACIAE2AhQgAiAANgIMDHMLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAS0AAEENRgRAIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAi0ALUEBcQRAQcQBIQMMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIADQEMZQtBLyEDDFcLIAJBLjYCHCACIAE2AhQgAiAANgIMDG8LQQAhAyACQQA2AhwgAiABNgIUIAJB8BQ2AhAgAkEDNgIMDG4LQQEhAwJAAkACQAJAIAItACxBBWsOBAMBAgAECyACIAIvATBBCHI7ATAMAwtBAiEDDAELQQQhAwsgAkEBOgAsIAIgAi8BMCADcjsBMAtBKiEDDFMLQQAhAyACQQA2AhwgAiABNgIUIAJB4Q82AhAgAkEKNgIMDGsLQQEhAwJAAkACQAJAAkACQCACLQAsQQJrDgcFBAQDAQIABAsgAiACLwEwQQhyOwEwDAMLQQIhAwwBC0EEIQMLIAJBAToALCACIAIvATAgA3I7ATALQSshAwxSC0EAIQMgAkEANgIcIAIgATYCFCACQasSNgIQIAJBCzYCDAxqC0EAIQMgAkEANgIcIAIgATYCFCACQf0NNgIQIAJBHTYCDAxpCyABIARHBEADQCABLQAAQSBHDUggBCABQQFqIgFHDQALQSUhAwxpC0ElIQMMaAsgAi0ALUEBcQRAQcMBIQMMTwsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKSIABEAgAkEmNgIcIAIgADYCDCACIAFBAWo2AhQMaAsgAUEBaiEBDFwLIAFBAWohASACLwEwIgBBgAFxBEBBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAEUNBiAAQRVHDR8gAkEFNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMZwsCQCAAQaAEcUGgBEcNACACLQAtQQJxDQBBACEDIAJBADYCHCACIAE2AhQgAkGWEzYCECACQQQ2AgwMZwsgAgJ/IAIvATBBFHFBFEYEQEEBIAItAChBAUYNARogAi8BMkHlAEYMAQsgAi0AKUEFRgs6AC5BACEAAkAgAigCOCIDRQ0AIAMoAiQiA0UNACACIAMRAAAhAAsCQAJAAkACQAJAIAAOFgIBAAQEBAQEBAQEBAQEBAQEBAQEBAMECyACQQE6AC4LIAIgAi8BMEHAAHI7ATALQSchAwxPCyACQSM2AhwgAiABNgIUIAJBpRY2AhAgAkEVNgIMQQAhAwxnC0EAIQMgAkEANgIcIAIgATYCFCACQdULNgIQIAJBETYCDAxmC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAADQELQQ4hAwxLCyAAQRVGBEAgAkECNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMZAtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMYwtBACEDIAJBADYCHCACIAE2AhQgAkGqHDYCECACQQ82AgwMYgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEgCqdqIgEQKyIARQ0AIAJBBTYCHCACIAE2AhQgAiAANgIMDGELQQ8hAwxHC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxfC0IBIQoLIAFBAWohAQJAIAIpAyAiC0L//////////w9YBEAgAiALQgSGIAqENwMgDAELQQAhAyACQQA2AhwgAiABNgIUIAJBrQk2AhAgAkEMNgIMDF4LQSQhAwxEC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxcCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAsIgBFBEAgAUEBaiEBDFILIAJBFzYCHCACIAA2AgwgAiABQQFqNgIUDFsLIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQRY2AhwgAiAANgIMIAIgAUEBajYCFAxbC0EfIQMMQQtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQLSIARQRAIAFBAWohAQxQCyACQRQ2AhwgAiAANgIMIAIgAUEBajYCFAxYCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABEC0iAEUEQCABQQFqIQEMAQsgAkETNgIcIAIgADYCDCACIAFBAWo2AhQMWAtBHiEDDD4LQQAhAyACQQA2AhwgAiABNgIUIAJBxgw2AhAgAkEjNgIMDFYLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABEC0iAEUEQCABQQFqIQEMTgsgAkERNgIcIAIgADYCDCACIAFBAWo2AhQMVQsgAkEQNgIcIAIgATYCFCACIAA2AgwMVAtBACEDIAJBADYCHCACIAE2AhQgAkHGDDYCECACQSM2AgwMUwtBACEDIAJBADYCHCACIAE2AhQgAkHAFTYCECACQQI2AgwMUgsgAigCBCEAQQAhAyACQQA2AgQCQCACIAAgARAtIgBFBEAgAUEBaiEBDAELIAJBDjYCHCACIAA2AgwgAiABQQFqNgIUDFILQRshAww4C0EAIQMgAkEANgIcIAIgATYCFCACQcYMNgIQIAJBIzYCDAxQCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABECwiAEUEQCABQQFqIQEMAQsgAkENNgIcIAIgADYCDCACIAFBAWo2AhQMUAtBGiEDDDYLQQAhAyACQQA2AhwgAiABNgIUIAJBmg82AhAgAkEiNgIMDE4LIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQQw2AhwgAiAANgIMIAIgAUEBajYCFAxOC0EZIQMMNAtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMTAsgAEEVRwRAQQAhAyACQQA2AhwgAiABNgIUIAJBgww2AhAgAkETNgIMDEwLIAJBCjYCHCACIAE2AhQgAkHkFjYCECACQRU2AgxBACEDDEsLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABIAqnaiIBECsiAARAIAJBBzYCHCACIAE2AhQgAiAANgIMDEsLQRMhAwwxCyAAQRVHBEBBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMSgsgAkEeNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMSQtBACEAAkAgAigCOCIDRQ0AIAMoAiwiA0UNACACIAMRAAAhAAsgAEUNQSAAQRVGBEAgAkEDNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMSQtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMSAtBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMRwtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMRgsgAkEAOgAvIAItAC1BBHFFDT8LIAJBADoALyACQQE6ADRBACEDDCsLQQAhAyACQQA2AhwgAkHkETYCECACQQc2AgwgAiABQQFqNgIUDEMLAkADQAJAIAEtAABBCmsOBAACAgACCyAEIAFBAWoiAUcNAAtB3QEhAwxDCwJAAkAgAi0ANEEBRw0AQQAhAAJAIAIoAjgiA0UNACADKAJYIgNFDQAgAiADEQAAIQALIABFDQAgAEEVRw0BIAJB3AE2AhwgAiABNgIUIAJB1RY2AhAgAkEVNgIMQQAhAwxEC0HBASEDDCoLIAJBADYCHCACIAE2AhQgAkHpCzYCECACQR82AgxBACEDDEILAkACQCACLQAoQQFrDgIEAQALQcABIQMMKQtBuQEhAwwoCyACQQI6AC9BACEAAkAgAigCOCIDRQ0AIAMoAgAiA0UNACACIAMRAAAhAAsgAEUEQEHCASEDDCgLIABBFUcEQCACQQA2AhwgAiABNgIUIAJBpAw2AhAgAkEQNgIMQQAhAwxBCyACQdsBNgIcIAIgATYCFCACQfoWNgIQIAJBFTYCDEEAIQMMQAsgASAERgRAQdoBIQMMQAsgAS0AAEHIAEYNASACQQE6ACgLQawBIQMMJQtBvwEhAwwkCyABIARHBEAgAkEQNgIIIAIgATYCBEG+ASEDDCQLQdkBIQMMPAsgASAERgRAQdgBIQMMPAsgAS0AAEHIAEcNBCABQQFqIQFBvQEhAwwiCyABIARGBEBB1wEhAww7CwJAAkAgAS0AAEHFAGsOEAAFBQUFBQUFBQUFBQUFBQEFCyABQQFqIQFBuwEhAwwiCyABQQFqIQFBvAEhAwwhC0HWASEDIAEgBEYNOSACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGD0ABqLQAARw0DIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw6CyACKAIEIQAgAkIANwMAIAIgACAGQQFqIgEQJyIARQRAQcYBIQMMIQsgAkHVATYCHCACIAE2AhQgAiAANgIMQQAhAww5C0HUASEDIAEgBEYNOCACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGB0ABqLQAARw0CIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw5CyACQYEEOwEoIAIoAgQhACACQgA3AwAgAiAAIAZBAWoiARAnIgANAwwCCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB2Bs2AhAgAkEINgIMDDYLQboBIQMMHAsgAkHTATYCHCACIAE2AhQgAiAANgIMQQAhAww0C0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAARQ0AIABBFUYNASACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwwzC0HkACEDDBkLIAJB+AA2AhwgAiABNgIUIAJByhg2AhAgAkEVNgIMQQAhAwwxC0HSASEDIAQgASIARg0wIAQgAWsgAigCACIBaiEFIAAgAWtBBGohBgJAA0AgAC0AACABQfzPAGotAABHDQEgAUEERg0DIAFBAWohASAEIABBAWoiAEcNAAsgAiAFNgIADDELIAJBADYCHCACIAA2AhQgAkGQMzYCECACQQg2AgwgAkEANgIAQQAhAwwwCyABIARHBEAgAkEONgIIIAIgATYCBEG3ASEDDBcLQdEBIQMMLwsgAkEANgIAIAZBAWohAQtBuAEhAwwUCyABIARGBEBB0AEhAwwtCyABLQAAQTBrIgBB/wFxQQpJBEAgAiAAOgAqIAFBAWohAUG2ASEDDBQLIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0UIAJBzwE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAsgASAERgRAQc4BIQMMLAsCQCABLQAAQS5GBEAgAUEBaiEBDAELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0VIAJBzQE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAtBtQEhAwwSCyAEIAEiBUYEQEHMASEDDCsLQQAhAEEBIQFBASEGQQAhAwJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAIAUtAABBMGsOCgoJAAECAwQFBggLC0ECDAYLQQMMBQtBBAwEC0EFDAMLQQYMAgtBBwwBC0EICyEDQQAhAUEAIQYMAgtBCSEDQQEhAEEAIQFBACEGDAELQQAhAUEBIQMLIAIgAzoAKyAFQQFqIQMCQAJAIAItAC1BEHENAAJAAkACQCACLQAqDgMBAAIECyAGRQ0DDAILIAANAQwCCyABRQ0BCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMAwsgAkHJATYCHCACIAM2AhQgAiAANgIMQQAhAwwtCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMGAsgAkHKATYCHCACIAM2AhQgAiAANgIMQQAhAwwsCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMFgsgAkHLATYCHCACIAU2AhQgAiAANgIMDCsLQbQBIQMMEQtBACEAAkAgAigCOCIDRQ0AIAMoAjwiA0UNACACIAMRAAAhAAsCQCAABEAgAEEVRg0BIAJBADYCHCACIAE2AhQgAkGUDTYCECACQSE2AgxBACEDDCsLQbIBIQMMEQsgAkHIATYCHCACIAE2AhQgAkHJFzYCECACQRU2AgxBACEDDCkLIAJBADYCACAGQQFqIQFB9QAhAwwPCyACLQApQQVGBEBB4wAhAwwPC0HiACEDDA4LIAAhASACQQA2AgALIAJBADoALEEJIQMMDAsgAkEANgIAIAdBAWohAUHAACEDDAsLQQELOgAsIAJBADYCACAGQQFqIQELQSkhAwwIC0E4IQMMBwsCQCABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRw0DIAFBAWohAQwFCyAEIAFBAWoiAUcNAAtBPiEDDCELQT4hAwwgCwsgAkEAOgAsDAELQQshAwwEC0E6IQMMAwsgAUEBaiEBQS0hAwwCCyACIAE6ACwgAkEANgIAIAZBAWohAUEMIQMMAQsgAkEANgIAIAZBAWohAUEKIQMMAAsAC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwXC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwWC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwVC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwUC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwTC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwSC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwRC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwQC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwPC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwOC0EAIQMgAkEANgIcIAIgATYCFCACQcASNgIQIAJBCzYCDAwNC0EAIQMgAkEANgIcIAIgATYCFCACQZUJNgIQIAJBCzYCDAwMC0EAIQMgAkEANgIcIAIgATYCFCACQeEPNgIQIAJBCjYCDAwLC0EAIQMgAkEANgIcIAIgATYCFCACQfsPNgIQIAJBCjYCDAwKC0EAIQMgAkEANgIcIAIgATYCFCACQfEZNgIQIAJBAjYCDAwJC0EAIQMgAkEANgIcIAIgATYCFCACQcQUNgIQIAJBAjYCDAwIC0EAIQMgAkEANgIcIAIgATYCFCACQfIVNgIQIAJBAjYCDAwHCyACQQI2AhwgAiABNgIUIAJBnBo2AhAgAkEWNgIMQQAhAwwGC0EBIQMMBQtB1AAhAyABIARGDQQgCEEIaiEJIAIoAgAhBQJAAkAgASAERwRAIAVB2MIAaiEHIAQgBWogAWshACAFQX9zQQpqIgUgAWohBgNAIAEtAAAgBy0AAEcEQEECIQcMAwsgBUUEQEEAIQcgBiEBDAMLIAVBAWshBSAHQQFqIQcgBCABQQFqIgFHDQALIAAhBSAEIQELIAlBATYCACACIAU2AgAMAQsgAkEANgIAIAkgBzYCAAsgCSABNgIEIAgoAgwhACAIKAIIDgMBBAIACwALIAJBADYCHCACQbUaNgIQIAJBFzYCDCACIABBAWo2AhRBACEDDAILIAJBADYCHCACIAA2AhQgAkHKGjYCECACQQk2AgxBACEDDAELIAEgBEYEQEEiIQMMAQsgAkEJNgIIIAIgATYCBEEhIQMLIAhBEGokACADRQRAIAIoAgwhAAwBCyACIAM2AhxBACEAIAIoAgQiAUUNACACIAEgBCACKAIIEQEAIgFFDQAgAiAENgIUIAIgATYCDCABIQALIAALvgIBAn8gAEEAOgAAIABB3ABqIgFBAWtBADoAACAAQQA6AAIgAEEAOgABIAFBA2tBADoAACABQQJrQQA6AAAgAEEAOgADIAFBBGtBADoAAEEAIABrQQNxIgEgAGoiAEEANgIAQdwAIAFrQXxxIgIgAGoiAUEEa0EANgIAAkAgAkEJSQ0AIABBADYCCCAAQQA2AgQgAUEIa0EANgIAIAFBDGtBADYCACACQRlJDQAgAEEANgIYIABBADYCFCAAQQA2AhAgAEEANgIMIAFBEGtBADYCACABQRRrQQA2AgAgAUEYa0EANgIAIAFBHGtBADYCACACIABBBHFBGHIiAmsiAUEgSQ0AIAAgAmohAANAIABCADcDGCAAQgA3AxAgAEIANwMIIABCADcDACAAQSBqIQAgAUEgayIBQR9LDQALCwtWAQF/AkAgACgCDA0AAkACQAJAAkAgAC0ALw4DAQADAgsgACgCOCIBRQ0AIAEoAiwiAUUNACAAIAERAAAiAQ0DC0EADwsACyAAQcMWNgIQQQ4hAQsgAQsaACAAKAIMRQRAIABB0Rs2AhAgAEEVNgIMCwsUACAAKAIMQRVGBEAgAEEANgIMCwsUACAAKAIMQRZGBEAgAEEANgIMCwsHACAAKAIMCwcAIAAoAhALCQAgACABNgIQCwcAIAAoAhQLFwAgAEEkTwRAAAsgAEECdEGgM2ooAgALFwAgAEEuTwRAAAsgAEECdEGwNGooAgALvwkBAX9B6yghAQJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB5ABrDvQDY2IAAWFhYWFhYQIDBAVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhBgcICQoLDA0OD2FhYWFhEGFhYWFhYWFhYWFhEWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYRITFBUWFxgZGhthYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2YTc4OTphYWFhYWFhYTthYWE8YWFhYT0+P2FhYWFhYWFhQGFhQWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYUJDREVGR0hJSktMTU5PUFFSU2FhYWFhYWFhVFVWV1hZWlthXF1hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFeYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhX2BhC0HhJw8LQaQhDwtByywPC0H+MQ8LQcAkDwtBqyQPC0GNKA8LQeImDwtBgDAPC0G5Lw8LQdckDwtB7x8PC0HhHw8LQfofDwtB8iAPC0GoLw8LQa4yDwtBiDAPC0HsJw8LQYIiDwtBjh0PC0HQLg8LQcojDwtBxTIPC0HfHA8LQdIcDwtBxCAPC0HXIA8LQaIfDwtB7S4PC0GrMA8LQdQlDwtBzC4PC0H6Lg8LQfwrDwtB0jAPC0HxHQ8LQbsgDwtB9ysPC0GQMQ8LQdcxDwtBoi0PC0HUJw8LQeArDwtBnywPC0HrMQ8LQdUfDwtByjEPC0HeJQ8LQdQeDwtB9BwPC0GnMg8LQbEdDwtBoB0PC0G5MQ8LQbwwDwtBkiEPC0GzJg8LQeksDwtBrB4PC0HUKw8LQfcmDwtBgCYPC0GwIQ8LQf4eDwtBjSMPC0GJLQ8LQfciDwtBoDEPC0GuHw8LQcYlDwtB6B4PC0GTIg8LQcIvDwtBwx0PC0GLLA8LQeEdDwtBjS8PC0HqIQ8LQbQtDwtB0i8PC0HfMg8LQdIyDwtB8DAPC0GpIg8LQfkjDwtBmR4PC0G1LA8LQZswDwtBkjIPC0G2Kw8LQcIiDwtB+DIPC0GeJQ8LQdAiDwtBuh4PC0GBHg8LAAtB1iEhAQsgAQsWACAAIAAtAC1B/gFxIAFBAEdyOgAtCxkAIAAgAC0ALUH9AXEgAUEAR0EBdHI6AC0LGQAgACAALQAtQfsBcSABQQBHQQJ0cjoALQsZACAAIAAtAC1B9wFxIAFBAEdBA3RyOgAtCz4BAn8CQCAAKAI4IgNFDQAgAygCBCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBxhE2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCCCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9go2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCDCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7Ro2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCECIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlRA2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCFCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBqhs2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCGCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7RM2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCKCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9gg2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCHCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBwhk2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCICIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlBQ2AhBBGCEECyAEC1kBAn8CQCAALQAoQQFGDQAgAC8BMiIBQeQAa0HkAEkNACABQcwBRg0AIAFBsAJGDQAgAC8BMCIAQcAAcQ0AQQEhAiAAQYgEcUGABEYNACAAQShxRSECCyACC4wBAQJ/AkACQAJAIAAtACpFDQAgAC0AK0UNACAALwEwIgFBAnFFDQEMAgsgAC8BMCIBQQFxRQ0BC0EBIQIgAC0AKEEBRg0AIAAvATIiAEHkAGtB5ABJDQAgAEHMAUYNACAAQbACRg0AIAFBwABxDQBBACECIAFBiARxQYAERg0AIAFBKHFBAEchAgsgAgtzACAAQRBq/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAA/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAAQTBq/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAAQSBq/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAAQd0BNgIcCwYAIAAQMguaLQELfyMAQRBrIgokAEGk0AAoAgAiCUUEQEHk0wAoAgAiBUUEQEHw0wBCfzcCAEHo0wBCgICEgICAwAA3AgBB5NMAIApBCGpBcHFB2KrVqgVzIgU2AgBB+NMAQQA2AgBByNMAQQA2AgALQczTAEGA1AQ2AgBBnNAAQYDUBDYCAEGw0AAgBTYCAEGs0ABBfzYCAEHQ0wBBgKwDNgIAA0AgAUHI0ABqIAFBvNAAaiICNgIAIAIgAUG00ABqIgM2AgAgAUHA0ABqIAM2AgAgAUHQ0ABqIAFBxNAAaiIDNgIAIAMgAjYCACABQdjQAGogAUHM0ABqIgI2AgAgAiADNgIAIAFB1NAAaiACNgIAIAFBIGoiAUGAAkcNAAtBjNQEQcGrAzYCAEGo0ABB9NMAKAIANgIAQZjQAEHAqwM2AgBBpNAAQYjUBDYCAEHM/wdBODYCAEGI1AQhCQsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCAAQewBTQRAQYzQACgCACIGQRAgAEETakFwcSAAQQtJGyIEQQN2IgB2IgFBA3EEQAJAIAFBAXEgAHJBAXMiAkEDdCIAQbTQAGoiASAAQbzQAGooAgAiACgCCCIDRgRAQYzQACAGQX4gAndxNgIADAELIAEgAzYCCCADIAE2AgwLIABBCGohASAAIAJBA3QiAkEDcjYCBCAAIAJqIgAgACgCBEEBcjYCBAwRC0GU0AAoAgAiCCAETw0BIAEEQAJAQQIgAHQiAkEAIAJrciABIAB0cWgiAEEDdCICQbTQAGoiASACQbzQAGooAgAiAigCCCIDRgRAQYzQACAGQX4gAHdxIgY2AgAMAQsgASADNgIIIAMgATYCDAsgAiAEQQNyNgIEIABBA3QiACAEayEFIAAgAmogBTYCACACIARqIgQgBUEBcjYCBCAIBEAgCEF4cUG00ABqIQBBoNAAKAIAIQMCf0EBIAhBA3Z0IgEgBnFFBEBBjNAAIAEgBnI2AgAgAAwBCyAAKAIICyIBIAM2AgwgACADNgIIIAMgADYCDCADIAE2AggLIAJBCGohAUGg0AAgBDYCAEGU0AAgBTYCAAwRC0GQ0AAoAgAiC0UNASALaEECdEG80gBqKAIAIgAoAgRBeHEgBGshBSAAIQIDQAJAIAIoAhAiAUUEQCACQRRqKAIAIgFFDQELIAEoAgRBeHEgBGsiAyAFSSECIAMgBSACGyEFIAEgACACGyEAIAEhAgwBCwsgACgCGCEJIAAoAgwiAyAARwRAQZzQACgCABogAyAAKAIIIgE2AgggASADNgIMDBALIABBFGoiAigCACIBRQRAIAAoAhAiAUUNAyAAQRBqIQILA0AgAiEHIAEiA0EUaiICKAIAIgENACADQRBqIQIgAygCECIBDQALIAdBADYCAAwPC0F/IQQgAEG/f0sNACAAQRNqIgFBcHEhBEGQ0AAoAgAiCEUNAEEAIARrIQUCQAJAAkACf0EAIARBgAJJDQAaQR8gBEH///8HSw0AGiAEQSYgAUEIdmciAGt2QQFxIABBAXRrQT5qCyIGQQJ0QbzSAGooAgAiAkUEQEEAIQFBACEDDAELQQAhASAEQRkgBkEBdmtBACAGQR9HG3QhAEEAIQMDQAJAIAIoAgRBeHEgBGsiByAFTw0AIAIhAyAHIgUNAEEAIQUgAiEBDAMLIAEgAkEUaigCACIHIAcgAiAAQR12QQRxakEQaigCACICRhsgASAHGyEBIABBAXQhACACDQALCyABIANyRQRAQQAhA0ECIAZ0IgBBACAAa3IgCHEiAEUNAyAAaEECdEG80gBqKAIAIQELIAFFDQELA0AgASgCBEF4cSAEayICIAVJIQAgAiAFIAAbIQUgASADIAAbIQMgASgCECIABH8gAAUgAUEUaigCAAsiAQ0ACwsgA0UNACAFQZTQACgCACAEa08NACADKAIYIQcgAyADKAIMIgBHBEBBnNAAKAIAGiAAIAMoAggiATYCCCABIAA2AgwMDgsgA0EUaiICKAIAIgFFBEAgAygCECIBRQ0DIANBEGohAgsDQCACIQYgASIAQRRqIgIoAgAiAQ0AIABBEGohAiAAKAIQIgENAAsgBkEANgIADA0LQZTQACgCACIDIARPBEBBoNAAKAIAIQECQCADIARrIgJBEE8EQCABIARqIgAgAkEBcjYCBCABIANqIAI2AgAgASAEQQNyNgIEDAELIAEgA0EDcjYCBCABIANqIgAgACgCBEEBcjYCBEEAIQBBACECC0GU0AAgAjYCAEGg0AAgADYCACABQQhqIQEMDwtBmNAAKAIAIgMgBEsEQCAEIAlqIgAgAyAEayIBQQFyNgIEQaTQACAANgIAQZjQACABNgIAIAkgBEEDcjYCBCAJQQhqIQEMDwtBACEBIAQCf0Hk0wAoAgAEQEHs0wAoAgAMAQtB8NMAQn83AgBB6NMAQoCAhICAgMAANwIAQeTTACAKQQxqQXBxQdiq1aoFczYCAEH40wBBADYCAEHI0wBBADYCAEGAgAQLIgAgBEHHAGoiBWoiBkEAIABrIgdxIgJPBEBB/NMAQTA2AgAMDwsCQEHE0wAoAgAiAUUNAEG80wAoAgAiCCACaiEAIAAgAU0gACAIS3ENAEEAIQFB/NMAQTA2AgAMDwtByNMALQAAQQRxDQQCQAJAIAkEQEHM0wAhAQNAIAEoAgAiACAJTQRAIAAgASgCBGogCUsNAwsgASgCCCIBDQALC0EAEDMiAEF/Rg0FIAIhBkHo0wAoAgAiAUEBayIDIABxBEAgAiAAayAAIANqQQAgAWtxaiEGCyAEIAZPDQUgBkH+////B0sNBUHE0wAoAgAiAwRAQbzTACgCACIHIAZqIQEgASAHTQ0GIAEgA0sNBgsgBhAzIgEgAEcNAQwHCyAGIANrIAdxIgZB/v///wdLDQQgBhAzIQAgACABKAIAIAEoAgRqRg0DIAAhAQsCQCAGIARByABqTw0AIAFBf0YNAEHs0wAoAgAiACAFIAZrakEAIABrcSIAQf7///8HSwRAIAEhAAwHCyAAEDNBf0cEQCAAIAZqIQYgASEADAcLQQAgBmsQMxoMBAsgASIAQX9HDQUMAwtBACEDDAwLQQAhAAwKCyAAQX9HDQILQcjTAEHI0wAoAgBBBHI2AgALIAJB/v///wdLDQEgAhAzIQBBABAzIQEgAEF/Rg0BIAFBf0YNASAAIAFPDQEgASAAayIGIARBOGpNDQELQbzTAEG80wAoAgAgBmoiATYCAEHA0wAoAgAgAUkEQEHA0wAgATYCAAsCQAJAAkBBpNAAKAIAIgIEQEHM0wAhAQNAIAAgASgCACIDIAEoAgQiBWpGDQIgASgCCCIBDQALDAILQZzQACgCACIBQQBHIAAgAU9xRQRAQZzQACAANgIAC0EAIQFB0NMAIAY2AgBBzNMAIAA2AgBBrNAAQX82AgBBsNAAQeTTACgCADYCAEHY0wBBADYCAANAIAFByNAAaiABQbzQAGoiAjYCACACIAFBtNAAaiIDNgIAIAFBwNAAaiADNgIAIAFB0NAAaiABQcTQAGoiAzYCACADIAI2AgAgAUHY0ABqIAFBzNAAaiICNgIAIAIgAzYCACABQdTQAGogAjYCACABQSBqIgFBgAJHDQALQXggAGtBD3EiASAAaiICIAZBOGsiAyABayIBQQFyNgIEQajQAEH00wAoAgA2AgBBmNAAIAE2AgBBpNAAIAI2AgAgACADakE4NgIEDAILIAAgAk0NACACIANJDQAgASgCDEEIcQ0AQXggAmtBD3EiACACaiIDQZjQACgCACAGaiIHIABrIgBBAXI2AgQgASAFIAZqNgIEQajQAEH00wAoAgA2AgBBmNAAIAA2AgBBpNAAIAM2AgAgAiAHakE4NgIEDAELIABBnNAAKAIASQRAQZzQACAANgIACyAAIAZqIQNBzNMAIQECQAJAAkADQCADIAEoAgBHBEAgASgCCCIBDQEMAgsLIAEtAAxBCHFFDQELQczTACEBA0AgASgCACIDIAJNBEAgAyABKAIEaiIFIAJLDQMLIAEoAgghAQwACwALIAEgADYCACABIAEoAgQgBmo2AgQgAEF4IABrQQ9xaiIJIARBA3I2AgQgA0F4IANrQQ9xaiIGIAQgCWoiBGshASACIAZGBEBBpNAAIAQ2AgBBmNAAQZjQACgCACABaiIANgIAIAQgAEEBcjYCBAwIC0Gg0AAoAgAgBkYEQEGg0AAgBDYCAEGU0ABBlNAAKAIAIAFqIgA2AgAgBCAAQQFyNgIEIAAgBGogADYCAAwICyAGKAIEIgVBA3FBAUcNBiAFQXhxIQggBUH/AU0EQCAFQQN2IQMgBigCCCIAIAYoAgwiAkYEQEGM0ABBjNAAKAIAQX4gA3dxNgIADAcLIAIgADYCCCAAIAI2AgwMBgsgBigCGCEHIAYgBigCDCIARwRAIAAgBigCCCICNgIIIAIgADYCDAwFCyAGQRRqIgIoAgAiBUUEQCAGKAIQIgVFDQQgBkEQaiECCwNAIAIhAyAFIgBBFGoiAigCACIFDQAgAEEQaiECIAAoAhAiBQ0ACyADQQA2AgAMBAtBeCAAa0EPcSIBIABqIgcgBkE4ayIDIAFrIgFBAXI2AgQgACADakE4NgIEIAIgBUE3IAVrQQ9xakE/ayIDIAMgAkEQakkbIgNBIzYCBEGo0ABB9NMAKAIANgIAQZjQACABNgIAQaTQACAHNgIAIANBEGpB1NMAKQIANwIAIANBzNMAKQIANwIIQdTTACADQQhqNgIAQdDTACAGNgIAQczTACAANgIAQdjTAEEANgIAIANBJGohAQNAIAFBBzYCACAFIAFBBGoiAUsNAAsgAiADRg0AIAMgAygCBEF+cTYCBCADIAMgAmsiBTYCACACIAVBAXI2AgQgBUH/AU0EQCAFQXhxQbTQAGohAAJ/QYzQACgCACIBQQEgBUEDdnQiA3FFBEBBjNAAIAEgA3I2AgAgAAwBCyAAKAIICyIBIAI2AgwgACACNgIIIAIgADYCDCACIAE2AggMAQtBHyEBIAVB////B00EQCAFQSYgBUEIdmciAGt2QQFxIABBAXRrQT5qIQELIAIgATYCHCACQgA3AhAgAUECdEG80gBqIQBBkNAAKAIAIgNBASABdCIGcUUEQCAAIAI2AgBBkNAAIAMgBnI2AgAgAiAANgIYIAIgAjYCCCACIAI2AgwMAQsgBUEZIAFBAXZrQQAgAUEfRxt0IQEgACgCACEDAkADQCADIgAoAgRBeHEgBUYNASABQR12IQMgAUEBdCEBIAAgA0EEcWpBEGoiBigCACIDDQALIAYgAjYCACACIAA2AhggAiACNgIMIAIgAjYCCAwBCyAAKAIIIgEgAjYCDCAAIAI2AgggAkEANgIYIAIgADYCDCACIAE2AggLQZjQACgCACIBIARNDQBBpNAAKAIAIgAgBGoiAiABIARrIgFBAXI2AgRBmNAAIAE2AgBBpNAAIAI2AgAgACAEQQNyNgIEIABBCGohAQwIC0EAIQFB/NMAQTA2AgAMBwtBACEACyAHRQ0AAkAgBigCHCICQQJ0QbzSAGoiAygCACAGRgRAIAMgADYCACAADQFBkNAAQZDQACgCAEF+IAJ3cTYCAAwCCyAHQRBBFCAHKAIQIAZGG2ogADYCACAARQ0BCyAAIAc2AhggBigCECICBEAgACACNgIQIAIgADYCGAsgBkEUaigCACICRQ0AIABBFGogAjYCACACIAA2AhgLIAEgCGohASAGIAhqIgYoAgQhBQsgBiAFQX5xNgIEIAEgBGogATYCACAEIAFBAXI2AgQgAUH/AU0EQCABQXhxQbTQAGohAAJ/QYzQACgCACICQQEgAUEDdnQiAXFFBEBBjNAAIAEgAnI2AgAgAAwBCyAAKAIICyIBIAQ2AgwgACAENgIIIAQgADYCDCAEIAE2AggMAQtBHyEFIAFB////B00EQCABQSYgAUEIdmciAGt2QQFxIABBAXRrQT5qIQULIAQgBTYCHCAEQgA3AhAgBUECdEG80gBqIQBBkNAAKAIAIgJBASAFdCIDcUUEQCAAIAQ2AgBBkNAAIAIgA3I2AgAgBCAANgIYIAQgBDYCCCAEIAQ2AgwMAQsgAUEZIAVBAXZrQQAgBUEfRxt0IQUgACgCACEAAkADQCAAIgIoAgRBeHEgAUYNASAFQR12IQAgBUEBdCEFIAIgAEEEcWpBEGoiAygCACIADQALIAMgBDYCACAEIAI2AhggBCAENgIMIAQgBDYCCAwBCyACKAIIIgAgBDYCDCACIAQ2AgggBEEANgIYIAQgAjYCDCAEIAA2AggLIAlBCGohAQwCCwJAIAdFDQACQCADKAIcIgFBAnRBvNIAaiICKAIAIANGBEAgAiAANgIAIAANAUGQ0AAgCEF+IAF3cSIINgIADAILIAdBEEEUIAcoAhAgA0YbaiAANgIAIABFDQELIAAgBzYCGCADKAIQIgEEQCAAIAE2AhAgASAANgIYCyADQRRqKAIAIgFFDQAgAEEUaiABNgIAIAEgADYCGAsCQCAFQQ9NBEAgAyAEIAVqIgBBA3I2AgQgACADaiIAIAAoAgRBAXI2AgQMAQsgAyAEaiICIAVBAXI2AgQgAyAEQQNyNgIEIAIgBWogBTYCACAFQf8BTQRAIAVBeHFBtNAAaiEAAn9BjNAAKAIAIgFBASAFQQN2dCIFcUUEQEGM0AAgASAFcjYCACAADAELIAAoAggLIgEgAjYCDCAAIAI2AgggAiAANgIMIAIgATYCCAwBC0EfIQEgBUH///8HTQRAIAVBJiAFQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAQsgAiABNgIcIAJCADcCECABQQJ0QbzSAGohAEEBIAF0IgQgCHFFBEAgACACNgIAQZDQACAEIAhyNgIAIAIgADYCGCACIAI2AgggAiACNgIMDAELIAVBGSABQQF2a0EAIAFBH0cbdCEBIAAoAgAhBAJAA0AgBCIAKAIEQXhxIAVGDQEgAUEddiEEIAFBAXQhASAAIARBBHFqQRBqIgYoAgAiBA0ACyAGIAI2AgAgAiAANgIYIAIgAjYCDCACIAI2AggMAQsgACgCCCIBIAI2AgwgACACNgIIIAJBADYCGCACIAA2AgwgAiABNgIICyADQQhqIQEMAQsCQCAJRQ0AAkAgACgCHCIBQQJ0QbzSAGoiAigCACAARgRAIAIgAzYCACADDQFBkNAAIAtBfiABd3E2AgAMAgsgCUEQQRQgCSgCECAARhtqIAM2AgAgA0UNAQsgAyAJNgIYIAAoAhAiAQRAIAMgATYCECABIAM2AhgLIABBFGooAgAiAUUNACADQRRqIAE2AgAgASADNgIYCwJAIAVBD00EQCAAIAQgBWoiAUEDcjYCBCAAIAFqIgEgASgCBEEBcjYCBAwBCyAAIARqIgcgBUEBcjYCBCAAIARBA3I2AgQgBSAHaiAFNgIAIAgEQCAIQXhxQbTQAGohAUGg0AAoAgAhAwJ/QQEgCEEDdnQiAiAGcUUEQEGM0AAgAiAGcjYCACABDAELIAEoAggLIgIgAzYCDCABIAM2AgggAyABNgIMIAMgAjYCCAtBoNAAIAc2AgBBlNAAIAU2AgALIABBCGohAQsgCkEQaiQAIAELQwAgAEUEQD8AQRB0DwsCQCAAQf//A3ENACAAQQBIDQAgAEEQdkAAIgBBf0YEQEH80wBBMDYCAEF/DwsgAEEQdA8LAAsL3D8iAEGACAsJAQAAAAIAAAADAEGUCAsFBAAAAAUAQaQICwkGAAAABwAAAAgAQdwIC4otSW52YWxpZCBjaGFyIGluIHVybCBxdWVyeQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2JvZHkAQ29udGVudC1MZW5ndGggb3ZlcmZsb3cAQ2h1bmsgc2l6ZSBvdmVyZmxvdwBSZXNwb25zZSBvdmVyZmxvdwBJbnZhbGlkIG1ldGhvZCBmb3IgSFRUUC94LnggcmVxdWVzdABJbnZhbGlkIG1ldGhvZCBmb3IgUlRTUC94LnggcmVxdWVzdABFeHBlY3RlZCBTT1VSQ0UgbWV0aG9kIGZvciBJQ0UveC54IHJlcXVlc3QASW52YWxpZCBjaGFyIGluIHVybCBmcmFnbWVudCBzdGFydABFeHBlY3RlZCBkb3QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9zdGF0dXMASW52YWxpZCByZXNwb25zZSBzdGF0dXMASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucwBVc2VyIGNhbGxiYWNrIGVycm9yAGBvbl9yZXNldGAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2hlYWRlcmAgY2FsbGJhY2sgZXJyb3IAYG9uX21lc3NhZ2VfYmVnaW5gIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fdmFsdWVgIGNhbGxiYWNrIGVycm9yAGBvbl9zdGF0dXNfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl92ZXJzaW9uX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdXJsX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXNzYWdlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWV0aG9kX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX25hbWVgIGNhbGxiYWNrIGVycm9yAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2VydmVyAEludmFsaWQgaGVhZGVyIHZhbHVlIGNoYXIASW52YWxpZCBoZWFkZXIgZmllbGQgY2hhcgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3ZlcnNpb24ASW52YWxpZCBtaW5vciB2ZXJzaW9uAEludmFsaWQgbWFqb3IgdmVyc2lvbgBFeHBlY3RlZCBzcGFjZSBhZnRlciB2ZXJzaW9uAEV4cGVjdGVkIENSTEYgYWZ0ZXIgdmVyc2lvbgBJbnZhbGlkIEhUVFAgdmVyc2lvbgBJbnZhbGlkIGhlYWRlciB0b2tlbgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3VybABJbnZhbGlkIGNoYXJhY3RlcnMgaW4gdXJsAFVuZXhwZWN0ZWQgc3RhcnQgY2hhciBpbiB1cmwARG91YmxlIEAgaW4gdXJsAEVtcHR5IENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhcmFjdGVyIGluIENvbnRlbnQtTGVuZ3RoAER1cGxpY2F0ZSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXIgaW4gdXJsIHBhdGgAQ29udGVudC1MZW5ndGggY2FuJ3QgYmUgcHJlc2VudCB3aXRoIFRyYW5zZmVyLUVuY29kaW5nAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIHNpemUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfdmFsdWUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyB2YWx1ZQBNaXNzaW5nIGV4cGVjdGVkIExGIGFmdGVyIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AgaGVhZGVyIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGUgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZWQgdmFsdWUAUGF1c2VkIGJ5IG9uX2hlYWRlcnNfY29tcGxldGUASW52YWxpZCBFT0Ygc3RhdGUAb25fcmVzZXQgcGF1c2UAb25fY2h1bmtfaGVhZGVyIHBhdXNlAG9uX21lc3NhZ2VfYmVnaW4gcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlIHBhdXNlAG9uX3N0YXR1c19jb21wbGV0ZSBwYXVzZQBvbl92ZXJzaW9uX2NvbXBsZXRlIHBhdXNlAG9uX3VybF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGUgcGF1c2UAb25fbWVzc2FnZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXRob2RfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lIHBhdXNlAFVuZXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgc3RhcnQgbGluZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgbmFtZQBQYXVzZSBvbiBDT05ORUNUL1VwZ3JhZGUAUGF1c2Ugb24gUFJJL1VwZ3JhZGUARXhwZWN0ZWQgSFRUUC8yIENvbm5lY3Rpb24gUHJlZmFjZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX21ldGhvZABFeHBlY3RlZCBzcGFjZSBhZnRlciBtZXRob2QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfZmllbGQAUGF1c2VkAEludmFsaWQgd29yZCBlbmNvdW50ZXJlZABJbnZhbGlkIG1ldGhvZCBlbmNvdW50ZXJlZABVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNjaGVtYQBSZXF1ZXN0IGhhcyBpbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AAU1dJVENIX1BST1hZAFVTRV9QUk9YWQBNS0FDVElWSVRZAFVOUFJPQ0VTU0FCTEVfRU5USVRZAENPUFkATU9WRURfUEVSTUFORU5UTFkAVE9PX0VBUkxZAE5PVElGWQBGQUlMRURfREVQRU5ERU5DWQBCQURfR0FURVdBWQBQTEFZAFBVVABDSEVDS09VVABHQVRFV0FZX1RJTUVPVVQAUkVRVUVTVF9USU1FT1VUAE5FVFdPUktfQ09OTkVDVF9USU1FT1VUAENPTk5FQ1RJT05fVElNRU9VVABMT0dJTl9USU1FT1VUAE5FVFdPUktfUkVBRF9USU1FT1VUAFBPU1QATUlTRElSRUNURURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9MT0FEX0JBTEFOQ0VEX1JFUVVFU1QAQkFEX1JFUVVFU1QASFRUUF9SRVFVRVNUX1NFTlRfVE9fSFRUUFNfUE9SVABSRVBPUlQASU1fQV9URUFQT1QAUkVTRVRfQ09OVEVOVABOT19DT05URU5UAFBBUlRJQUxfQ09OVEVOVABIUEVfSU5WQUxJRF9DT05TVEFOVABIUEVfQ0JfUkVTRVQAR0VUAEhQRV9TVFJJQ1QAQ09ORkxJQ1QAVEVNUE9SQVJZX1JFRElSRUNUAFBFUk1BTkVOVF9SRURJUkVDVABDT05ORUNUAE1VTFRJX1NUQVRVUwBIUEVfSU5WQUxJRF9TVEFUVVMAVE9PX01BTllfUkVRVUVTVFMARUFSTFlfSElOVFMAVU5BVkFJTEFCTEVfRk9SX0xFR0FMX1JFQVNPTlMAT1BUSU9OUwBTV0lUQ0hJTkdfUFJPVE9DT0xTAFZBUklBTlRfQUxTT19ORUdPVElBVEVTAE1VTFRJUExFX0NIT0lDRVMASU5URVJOQUxfU0VSVkVSX0VSUk9SAFdFQl9TRVJWRVJfVU5LTk9XTl9FUlJPUgBSQUlMR1VOX0VSUk9SAElERU5USVRZX1BST1ZJREVSX0FVVEhFTlRJQ0FUSU9OX0VSUk9SAFNTTF9DRVJUSUZJQ0FURV9FUlJPUgBJTlZBTElEX1hfRk9SV0FSREVEX0ZPUgBTRVRfUEFSQU1FVEVSAEdFVF9QQVJBTUVURVIASFBFX1VTRVIAU0VFX09USEVSAEhQRV9DQl9DSFVOS19IRUFERVIATUtDQUxFTkRBUgBTRVRVUABXRUJfU0VSVkVSX0lTX0RPV04AVEVBUkRPV04ASFBFX0NMT1NFRF9DT05ORUNUSU9OAEhFVVJJU1RJQ19FWFBJUkFUSU9OAERJU0NPTk5FQ1RFRF9PUEVSQVRJT04ATk9OX0FVVEhPUklUQVRJVkVfSU5GT1JNQVRJT04ASFBFX0lOVkFMSURfVkVSU0lPTgBIUEVfQ0JfTUVTU0FHRV9CRUdJTgBTSVRFX0lTX0ZST1pFTgBIUEVfSU5WQUxJRF9IRUFERVJfVE9LRU4ASU5WQUxJRF9UT0tFTgBGT1JCSURERU4ARU5IQU5DRV9ZT1VSX0NBTE0ASFBFX0lOVkFMSURfVVJMAEJMT0NLRURfQllfUEFSRU5UQUxfQ09OVFJPTABNS0NPTABBQ0wASFBFX0lOVEVSTkFMAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0VfVU5PRkZJQ0lBTABIUEVfT0sAVU5MSU5LAFVOTE9DSwBQUkkAUkVUUllfV0lUSABIUEVfSU5WQUxJRF9DT05URU5UX0xFTkdUSABIUEVfVU5FWFBFQ1RFRF9DT05URU5UX0xFTkdUSABGTFVTSABQUk9QUEFUQ0gATS1TRUFSQ0gAVVJJX1RPT19MT05HAFBST0NFU1NJTkcATUlTQ0VMTEFORU9VU19QRVJTSVNURU5UX1dBUk5JTkcATUlTQ0VMTEFORU9VU19XQVJOSU5HAEhQRV9JTlZBTElEX1RSQU5TRkVSX0VOQ09ESU5HAEV4cGVjdGVkIENSTEYASFBFX0lOVkFMSURfQ0hVTktfU0laRQBNT1ZFAENPTlRJTlVFAEhQRV9DQl9TVEFUVVNfQ09NUExFVEUASFBFX0NCX0hFQURFUlNfQ09NUExFVEUASFBFX0NCX1ZFUlNJT05fQ09NUExFVEUASFBFX0NCX1VSTF9DT01QTEVURQBIUEVfQ0JfQ0hVTktfQ09NUExFVEUASFBFX0NCX0hFQURFUl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fTkFNRV9DT01QTEVURQBIUEVfQ0JfTUVTU0FHRV9DT01QTEVURQBIUEVfQ0JfTUVUSE9EX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfRklFTERfQ09NUExFVEUAREVMRVRFAEhQRV9JTlZBTElEX0VPRl9TVEFURQBJTlZBTElEX1NTTF9DRVJUSUZJQ0FURQBQQVVTRQBOT19SRVNQT05TRQBVTlNVUFBPUlRFRF9NRURJQV9UWVBFAEdPTkUATk9UX0FDQ0VQVEFCTEUAU0VSVklDRV9VTkFWQUlMQUJMRQBSQU5HRV9OT1RfU0FUSVNGSUFCTEUAT1JJR0lOX0lTX1VOUkVBQ0hBQkxFAFJFU1BPTlNFX0lTX1NUQUxFAFBVUkdFAE1FUkdFAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0UAUkVRVUVTVF9IRUFERVJfVE9PX0xBUkdFAFBBWUxPQURfVE9PX0xBUkdFAElOU1VGRklDSUVOVF9TVE9SQUdFAEhQRV9QQVVTRURfVVBHUkFERQBIUEVfUEFVU0VEX0gyX1VQR1JBREUAU09VUkNFAEFOTk9VTkNFAFRSQUNFAEhQRV9VTkVYUEVDVEVEX1NQQUNFAERFU0NSSUJFAFVOU1VCU0NSSUJFAFJFQ09SRABIUEVfSU5WQUxJRF9NRVRIT0QATk9UX0ZPVU5EAFBST1BGSU5EAFVOQklORABSRUJJTkQAVU5BVVRIT1JJWkVEAE1FVEhPRF9OT1RfQUxMT1dFRABIVFRQX1ZFUlNJT05fTk9UX1NVUFBPUlRFRABBTFJFQURZX1JFUE9SVEVEAEFDQ0VQVEVEAE5PVF9JTVBMRU1FTlRFRABMT09QX0RFVEVDVEVEAEhQRV9DUl9FWFBFQ1RFRABIUEVfTEZfRVhQRUNURUQAQ1JFQVRFRABJTV9VU0VEAEhQRV9QQVVTRUQAVElNRU9VVF9PQ0NVUkVEAFBBWU1FTlRfUkVRVUlSRUQAUFJFQ09ORElUSU9OX1JFUVVJUkVEAFBST1hZX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAE5FVFdPUktfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATEVOR1RIX1JFUVVJUkVEAFNTTF9DRVJUSUZJQ0FURV9SRVFVSVJFRABVUEdSQURFX1JFUVVJUkVEAFBBR0VfRVhQSVJFRABQUkVDT05ESVRJT05fRkFJTEVEAEVYUEVDVEFUSU9OX0ZBSUxFRABSRVZBTElEQVRJT05fRkFJTEVEAFNTTF9IQU5EU0hBS0VfRkFJTEVEAExPQ0tFRABUUkFOU0ZPUk1BVElPTl9BUFBMSUVEAE5PVF9NT0RJRklFRABOT1RfRVhURU5ERUQAQkFORFdJRFRIX0xJTUlUX0VYQ0VFREVEAFNJVEVfSVNfT1ZFUkxPQURFRABIRUFEAEV4cGVjdGVkIEhUVFAvAABeEwAAJhMAADAQAADwFwAAnRMAABUSAAA5FwAA8BIAAAoQAAB1EgAArRIAAIITAABPFAAAfxAAAKAVAAAjFAAAiRIAAIsUAABNFQAA1BEAAM8UAAAQGAAAyRYAANwWAADBEQAA4BcAALsUAAB0FAAAfBUAAOUUAAAIFwAAHxAAAGUVAACjFAAAKBUAAAIVAACZFQAALBAAAIsZAABPDwAA1A4AAGoQAADOEAAAAhcAAIkOAABuEwAAHBMAAGYUAABWFwAAwRMAAM0TAABsEwAAaBcAAGYXAABfFwAAIhMAAM4PAABpDgAA2A4AAGMWAADLEwAAqg4AACgXAAAmFwAAxRMAAF0WAADoEQAAZxMAAGUTAADyFgAAcxMAAB0XAAD5FgAA8xEAAM8OAADOFQAADBIAALMRAAClEQAAYRAAADIXAAC7EwBB+TULAQEAQZA2C+ABAQECAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQf03CwEBAEGROAteAgMCAgICAgAAAgIAAgIAAgICAgICAgICAgAEAAAAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAAIAAgBB/TkLAQEAQZE6C14CAAICAgICAAACAgACAgACAgICAgICAgICAAMABAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAEHwOwsNbG9zZWVlcC1hbGl2ZQBBiTwLAQEAQaA8C+ABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQYk+CwEBAEGgPgvnAQEBAQEBAQEBAQEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBY2h1bmtlZABBsMAAC18BAQABAQEBAQAAAQEAAQEAAQEBAQEBAQEBAQAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQBBkMIACyFlY3Rpb25lbnQtbGVuZ3Rob25yb3h5LWNvbm5lY3Rpb24AQcDCAAstcmFuc2Zlci1lbmNvZGluZ3BncmFkZQ0KDQoNClNNDQoNClRUUC9DRS9UU1AvAEH5wgALBQECAAEDAEGQwwAL4AEEAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+cQACwUBAgABAwBBkMUAC+ABBAEBBQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQfnGAAsEAQAAAQBBkccAC98BAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+sgACwQBAAACAEGQyQALXwMEAAAEBAQEBAQEBAQEBAUEBAQEBAQEBAQEBAQABAAGBwQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEAEH6ygALBAEAAAEAQZDLAAsBAQBBqssAC0ECAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBB+swACwQBAAABAEGQzQALAQEAQZrNAAsGAgAAAAACAEGxzQALOgMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAQfDOAAuWAU5PVU5DRUVDS09VVE5FQ1RFVEVDUklCRUxVU0hFVEVBRFNFQVJDSFJHRUNUSVZJVFlMRU5EQVJWRU9USUZZUFRJT05TQ0hTRUFZU1RBVENIR0VPUkRJUkVDVE9SVFJDSFBBUkFNRVRFUlVSQ0VCU0NSSUJFQVJET1dOQUNFSU5ETktDS1VCU0NSSUJFSFRUUC9BRFRQLw==","base64")});var U_=j((VUr,X6e)=>{"use strict";d();var V6e=["GET","HEAD","POST"],cht=new Set(V6e),uht=[101,204,205,304],$6e=[301,302,303,307,308],fht=new Set($6e),z6e=["1","7","9","11","13","15","17","19","20","21","22","23","25","37","42","43","53","69","77","79","87","95","101","102","103","104","109","110","111","113","115","117","119","123","135","137","139","143","161","179","389","427","465","512","513","514","515","526","530","531","532","540","548","554","556","563","587","601","636","989","990","993","995","1719","1720","1723","2049","3659","4045","4190","5060","5061","6000","6566","6665","6666","6667","6668","6669","6679","6697","10080"],dht=new Set(z6e),Y6e=["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"],mht=new Set(Y6e),hht=["follow","manual","error"],K6e=["GET","HEAD","OPTIONS","TRACE"],pht=new Set(K6e),ght=["navigate","same-origin","no-cors","cors"],Aht=["omit","same-origin","include"],yht=["default","no-store","reload","no-cache","force-cache","only-if-cached"],Cht=["content-encoding","content-language","content-location","content-type","content-length"],xht=["half"],J6e=["CONNECT","TRACE","TRACK"],vht=new Set(J6e),Z6e=["audio","audioworklet","font","image","manifest","paintworklet","script","style","track","video","xslt",""],bht=new Set(Z6e);X6e.exports={subresource:Z6e,forbiddenMethods:J6e,requestBodyHeader:Cht,referrerPolicy:Y6e,requestRedirect:hht,requestMode:ght,requestCredentials:Aht,requestCache:yht,redirectStatus:$6e,corsSafeListedMethods:V6e,nullBodyStatus:uht,safeMethods:K6e,badPorts:z6e,requestDuplex:xht,subresourceSet:bht,badPortsSet:dht,redirectStatusSet:fht,corsSafeListedMethodsSet:cht,safeMethodsSet:pht,forbiddenMethodsSet:vht,referrerPolicySet:mht}});var fne=j((zUr,e9e)=>{"use strict";d();var une=Symbol.for("undici.globalOrigin.1");function Eht(){return globalThis[une]}o(Eht,"getGlobalOrigin");function Iht(e){if(e===void 0){Object.defineProperty(globalThis,une,{value:void 0,writable:!0,enumerable:!1,configurable:!1});return}let t=new URL(e);if(t.protocol!=="http:"&&t.protocol!=="https:")throw new TypeError(`Only http & https urls are allowed, received ${t.protocol}`);Object.defineProperty(globalThis,une,{value:t,writable:!0,enumerable:!1,configurable:!1})}o(Iht,"setGlobalOrigin");e9e.exports={getGlobalOrigin:Eht,setGlobalOrigin:Iht}});var au=j((JUr,a9e)=>{"use strict";d();var PO=require("node:assert"),Tht=new TextEncoder,q_=/^[!#$%&'*+\-.^_|~A-Za-z0-9]+$/,wht=/[\u000A\u000D\u0009\u0020]/,_ht=/[\u0009\u000A\u000C\u000D\u0020]/g,Sht=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function kht(e){PO(e.protocol==="data:");let t=n9e(e,!0);t=t.slice(5);let r={position:0},n=S8(",",t,r),i=n.length;if(n=Nht(n,!0,!0),r.position>=t.length)return"failure";r.position++;let s=t.slice(i+1),a=i9e(s);if(/;(\u0020){0,}base64$/i.test(n)){let c=s9e(a);if(a=Bht(c),a==="failure")return"failure";n=n.slice(0,-6),n=n.replace(/(\u0020)+$/,""),n=n.slice(0,-1)}n.startsWith(";")&&(n="text/plain"+n);let l=dne(n);return l==="failure"&&(l=dne("text/plain;charset=US-ASCII")),{mimeType:l,body:a}}o(kht,"dataURLProcessor");function n9e(e,t=!1){if(!t)return e.href;let r=e.href,n=e.hash.length,i=n===0?r:r.substring(0,r.length-n);return!n&&r.endsWith("#")?i.slice(0,-1):i}o(n9e,"URLSerializer");function FO(e,t,r){let n="";for(;r.position<t.length&&e(t[r.position]);)n+=t[r.position],r.position++;return n}o(FO,"collectASequenceOfCodePoints");function S8(e,t,r){let n=t.indexOf(e,r.position),i=r.position;return n===-1?(r.position=t.length,t.slice(i)):(r.position=n,t.slice(i,r.position))}o(S8,"collectASequenceOfCodePointsFast");function i9e(e){let t=Tht.encode(e);return Rht(t)}o(i9e,"stringPercentDecode");function t9e(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}o(t9e,"isHexCharByte");function r9e(e){return e>=48&&e<=57?e-48:(e&223)-55}o(r9e,"hexByteToNumber");function Rht(e){let t=e.length,r=new Uint8Array(t),n=0;for(let i=0;i<t;++i){let s=e[i];s!==37?r[n++]=s:s===37&&!(t9e(e[i+1])&&t9e(e[i+2]))?r[n++]=37:(r[n++]=r9e(e[i+1])<<4|r9e(e[i+2]),i+=2)}return t===n?r:r.subarray(0,n)}o(Rht,"percentDecode");function dne(e){e=DO(e,!0,!0);let t={position:0},r=S8("/",e,t);if(r.length===0||!q_.test(r)||t.position>e.length)return"failure";t.position++;let n=S8(";",e,t);if(n=DO(n,!1,!0),n.length===0||!q_.test(n))return"failure";let i=r.toLowerCase(),s=n.toLowerCase(),a={type:i,subtype:s,parameters:new Map,essence:`${i}/${s}`};for(;t.position<e.length;){t.position++,FO(u=>wht.test(u),e,t);let l=FO(u=>u!==";"&&u!=="=",e,t);if(l=l.toLowerCase(),t.position<e.length){if(e[t.position]===";")continue;t.position++}if(t.position>e.length)break;let c=null;if(e[t.position]==='"')c=o9e(e,t,!0),S8(";",e,t);else if(c=S8(";",e,t),c=DO(c,!1,!0),c.length===0)continue;l.length!==0&&q_.test(l)&&(c.length===0||Sht.test(c))&&!a.parameters.has(l)&&a.parameters.set(l,c)}return a}o(dne,"parseMIMEType");function Bht(e){e=e.replace(_ht,"");let t=e.length;if(t%4===0&&e.charCodeAt(t-1)===61&&(--t,e.charCodeAt(t-1)===61&&--t),t%4===1||/[^+/0-9A-Za-z]/.test(e.length===t?e:e.substring(0,t)))return"failure";let r=Buffer.from(e,"base64");return new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}o(Bht,"forgivingBase64");function o9e(e,t,r){let n=t.position,i="";for(PO(e[t.position]==='"'),t.position++;i+=FO(a=>a!=='"'&&a!=="\\",e,t),!(t.position>=e.length);){let s=e[t.position];if(t.position++,s==="\\"){if(t.position>=e.length){i+="\\";break}i+=e[t.position],t.position++}else{PO(s==='"');break}}return r?i:e.slice(n,t.position)}o(o9e,"collectAnHTTPQuotedString");function Dht(e){PO(e!=="failure");let{parameters:t,essence:r}=e,n=r;for(let[i,s]of t.entries())n+=";",n+=i,n+="=",q_.test(s)||(s=s.replace(/(\\|")/g,"\\$1"),s='"'+s,s+='"'),n+=s;return n}o(Dht,"serializeAMimeType");function Pht(e){return e===13||e===10||e===9||e===32}o(Pht,"isHTTPWhiteSpace");function DO(e,t=!0,r=!0){return mne(e,t,r,Pht)}o(DO,"removeHTTPWhitespace");function Fht(e){return e===13||e===10||e===9||e===12||e===32}o(Fht,"isASCIIWhitespace");function Nht(e,t=!0,r=!0){return mne(e,t,r,Fht)}o(Nht,"removeASCIIWhitespace");function mne(e,t,r,n){let i=0,s=e.length-1;if(t)for(;i<e.length&&n(e.charCodeAt(i));)i++;if(r)for(;s>0&&n(e.charCodeAt(s));)s--;return i===0&&s===e.length-1?e:e.slice(i,s+1)}o(mne,"removeChars");function s9e(e){let t=e.length;if(65535>t)return String.fromCharCode.apply(null,e);let r="",n=0,i=65535;for(;n<t;)n+i>t&&(i=t-n),r+=String.fromCharCode.apply(null,e.subarray(n,n+=i));return r}o(s9e,"isomorphicDecode");function Lht(e){switch(e.essence){case"application/ecmascript":case"application/javascript":case"application/x-ecmascript":case"application/x-javascript":case"text/ecmascript":case"text/javascript":case"text/javascript1.0":case"text/javascript1.1":case"text/javascript1.2":case"text/javascript1.3":case"text/javascript1.4":case"text/javascript1.5":case"text/jscript":case"text/livescript":case"text/x-ecmascript":case"text/x-javascript":return"text/javascript";case"application/json":case"text/json":return"application/json";case"image/svg+xml":return"image/svg+xml";case"text/xml":case"application/xml":return"application/xml"}return e.subtype.endsWith("+json")?"application/json":e.subtype.endsWith("+xml")?"application/xml":""}o(Lht,"minimizeSupportedMimeType");a9e.exports={dataURLProcessor:kht,URLSerializer:n9e,collectASequenceOfCodePoints:FO,collectASequenceOfCodePointsFast:S8,stringPercentDecode:i9e,parseMIMEType:dne,collectAnHTTPQuotedString:o9e,serializeAMimeType:Dht,removeChars:mne,removeHTTPWhitespace:DO,minimizeSupportedMimeType:Lht,HTTP_TOKEN_CODEPOINTS:q_,isomorphicDecode:s9e}});var oc=j((eqr,l9e)=>{"use strict";d();var{types:Yp,inspect:Qht}=require("node:util"),{markAsUncloneable:Mht}=require("node:worker_threads"),{toUSVString:Oht}=Ci(),$t={};$t.converters={};$t.util={};$t.errors={};$t.errors.exception=function(e){return new TypeError(`${e.header}: ${e.message}`)};$t.errors.conversionFailed=function(e){let t=e.types.length===1?"":" one of",r=`${e.argument} could not be converted to${t}: ${e.types.join(", ")}.`;return $t.errors.exception({header:e.prefix,message:r})};$t.errors.invalidArgument=function(e){return $t.errors.exception({header:e.prefix,message:`"${e.value}" is an invalid ${e.type}.`})};$t.brandCheck=function(e,t,r){if(r?.strict!==!1){if(!(e instanceof t)){let n=new TypeError("Illegal invocation");throw n.code="ERR_INVALID_THIS",n}}else if(e?.[Symbol.toStringTag]!==t.prototype[Symbol.toStringTag]){let n=new TypeError("Illegal invocation");throw n.code="ERR_INVALID_THIS",n}};$t.argumentLengthCheck=function({length:e},t,r){if(e<t)throw $t.errors.exception({message:`${t} argument${t!==1?"s":""} required, but${e?" only":""} ${e} found.`,header:r})};$t.illegalConstructor=function(){throw $t.errors.exception({header:"TypeError",message:"Illegal constructor"})};$t.util.Type=function(e){switch(typeof e){case"undefined":return"Undefined";case"boolean":return"Boolean";case"string":return"String";case"symbol":return"Symbol";case"number":return"Number";case"bigint":return"BigInt";case"function":case"object":return e===null?"Null":"Object"}};$t.util.markAsUncloneable=Mht||(()=>{});$t.util.ConvertToInt=function(e,t,r,n){let i,s;t===64?(i=Math.pow(2,53)-1,r==="unsigned"?s=0:s=Math.pow(-2,53)+1):r==="unsigned"?(s=0,i=Math.pow(2,t)-1):(s=Math.pow(-2,t)-1,i=Math.pow(2,t-1)-1);let a=Number(e);if(a===0&&(a=0),n?.enforceRange===!0){if(Number.isNaN(a)||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)throw $t.errors.exception({header:"Integer conversion",message:`Could not convert ${$t.util.Stringify(e)} to an integer.`});if(a=$t.util.IntegerPart(a),a<s||a>i)throw $t.errors.exception({header:"Integer conversion",message:`Value must be between ${s}-${i}, got ${a}.`});return a}return!Number.isNaN(a)&&n?.clamp===!0?(a=Math.min(Math.max(a,s),i),Math.floor(a)%2===0?a=Math.floor(a):a=Math.ceil(a),a):Number.isNaN(a)||a===0&&Object.is(0,a)||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY?0:(a=$t.util.IntegerPart(a),a=a%Math.pow(2,t),r==="signed"&&a>=Math.pow(2,t)-1?a-Math.pow(2,t):a)};$t.util.IntegerPart=function(e){let t=Math.floor(Math.abs(e));return e<0?-1*t:t};$t.util.Stringify=function(e){switch($t.util.Type(e)){case"Symbol":return`Symbol(${e.description})`;case"Object":return Qht(e);case"String":return`"${e}"`;default:return`${e}`}};$t.sequenceConverter=function(e){return(t,r,n,i)=>{if($t.util.Type(t)!=="Object")throw $t.errors.exception({header:r,message:`${n} (${$t.util.Stringify(t)}) is not iterable.`});let s=typeof i=="function"?i():t?.[Symbol.iterator]?.(),a=[],l=0;if(s===void 0||typeof s.next!="function")throw $t.errors.exception({header:r,message:`${n} is not iterable.`});for(;;){let{done:c,value:u}=s.next();if(c)break;a.push(e(u,r,`${n}[${l++}]`))}return a}};$t.recordConverter=function(e,t){return(r,n,i)=>{if($t.util.Type(r)!=="Object")throw $t.errors.exception({header:n,message:`${i} ("${$t.util.Type(r)}") is not an Object.`});let s={};if(!Yp.isProxy(r)){let l=[...Object.getOwnPropertyNames(r),...Object.getOwnPropertySymbols(r)];for(let c of l){let u=e(c,n,i),f=t(r[c],n,i);s[u]=f}return s}let a=Reflect.ownKeys(r);for(let l of a)if(Reflect.getOwnPropertyDescriptor(r,l)?.enumerable){let u=e(l,n,i),f=t(r[l],n,i);s[u]=f}return s}};$t.interfaceConverter=function(e){return(t,r,n,i)=>{if(i?.strict!==!1&&!(t instanceof e))throw $t.errors.exception({header:r,message:`Expected ${n} ("${$t.util.Stringify(t)}") to be an instance of ${e.name}.`});return t}};$t.dictionaryConverter=function(e){return(t,r,n)=>{let i=$t.util.Type(t),s={};if(i==="Null"||i==="Undefined")return s;if(i!=="Object")throw $t.errors.exception({header:r,message:`Expected ${t} to be one of: Null, Undefined, Object.`});for(let a of e){let{key:l,defaultValue:c,required:u,converter:f}=a;if(u===!0&&!Object.hasOwn(t,l))throw $t.errors.exception({header:r,message:`Missing required key "${l}".`});let m=t[l],h=Object.hasOwn(a,"defaultValue");if(h&&m!==null&&(m??=c()),u||h||m!==void 0){if(m=f(m,r,`${n}.${l}`),a.allowedValues&&!a.allowedValues.includes(m))throw $t.errors.exception({header:r,message:`${m} is not an accepted type. Expected one of ${a.allowedValues.join(", ")}.`});s[l]=m}}return s}};$t.nullableConverter=function(e){return(t,r,n)=>t===null?t:e(t,r,n)};$t.converters.DOMString=function(e,t,r,n){if(e===null&&n?.legacyNullToEmptyString)return"";if(typeof e=="symbol")throw $t.errors.exception({header:t,message:`${r} is a symbol, which cannot be converted to a DOMString.`});return String(e)};$t.converters.ByteString=function(e,t,r){let n=$t.converters.DOMString(e,t,r);for(let i=0;i<n.length;i++)if(n.charCodeAt(i)>255)throw new TypeError(`Cannot convert argument to a ByteString because the character at index ${i} has a value of ${n.charCodeAt(i)} which is greater than 255.`);return n};$t.converters.USVString=Oht;$t.converters.boolean=function(e){return!!e};$t.converters.any=function(e){return e};$t.converters["long long"]=function(e,t,r){return $t.util.ConvertToInt(e,64,"signed",void 0,t,r)};$t.converters["unsigned long long"]=function(e,t,r){return $t.util.ConvertToInt(e,64,"unsigned",void 0,t,r)};$t.converters["unsigned long"]=function(e,t,r){return $t.util.ConvertToInt(e,32,"unsigned",void 0,t,r)};$t.converters["unsigned short"]=function(e,t,r,n){return $t.util.ConvertToInt(e,16,"unsigned",n,t,r)};$t.converters.ArrayBuffer=function(e,t,r,n){if($t.util.Type(e)!=="Object"||!Yp.isAnyArrayBuffer(e))throw $t.errors.conversionFailed({prefix:t,argument:`${r} ("${$t.util.Stringify(e)}")`,types:["ArrayBuffer"]});if(n?.allowShared===!1&&Yp.isSharedArrayBuffer(e))throw $t.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(e.resizable||e.growable)throw $t.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return e};$t.converters.TypedArray=function(e,t,r,n,i){if($t.util.Type(e)!=="Object"||!Yp.isTypedArray(e)||e.constructor.name!==t.name)throw $t.errors.conversionFailed({prefix:r,argument:`${n} ("${$t.util.Stringify(e)}")`,types:[t.name]});if(i?.allowShared===!1&&Yp.isSharedArrayBuffer(e.buffer))throw $t.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(e.buffer.resizable||e.buffer.growable)throw $t.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return e};$t.converters.DataView=function(e,t,r,n){if($t.util.Type(e)!=="Object"||!Yp.isDataView(e))throw $t.errors.exception({header:t,message:`${r} is not a DataView.`});if(n?.allowShared===!1&&Yp.isSharedArrayBuffer(e.buffer))throw $t.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(e.buffer.resizable||e.buffer.growable)throw $t.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return e};$t.converters.BufferSource=function(e,t,r,n){if(Yp.isAnyArrayBuffer(e))return $t.converters.ArrayBuffer(e,t,r,{...n,allowShared:!1});if(Yp.isTypedArray(e))return $t.converters.TypedArray(e,e.constructor,t,r,{...n,allowShared:!1});if(Yp.isDataView(e))return $t.converters.DataView(e,t,r,{...n,allowShared:!1});throw $t.errors.conversionFailed({prefix:t,argument:`${r} ("${$t.util.Stringify(e)}")`,types:["BufferSource"]})};$t.converters["sequence<ByteString>"]=$t.sequenceConverter($t.converters.ByteString);$t.converters["sequence<sequence<ByteString>>"]=$t.sequenceConverter($t.converters["sequence<ByteString>"]);$t.converters["record<ByteString, ByteString>"]=$t.recordConverter($t.converters.ByteString,$t.converters.ByteString);l9e.exports={webidl:$t}});var mf=j((rqr,b9e)=>{"use strict";d();var{Transform:Uht}=require("node:stream"),c9e=require("node:zlib"),{redirectStatusSet:qht,referrerPolicySet:Wht,badPortsSet:Ght}=U_(),{getGlobalOrigin:u9e}=fne(),{collectASequenceOfCodePoints:dx,collectAnHTTPQuotedString:Hht,removeChars:jht,parseMIMEType:Vht}=au(),{performance:$ht}=require("node:perf_hooks"),{isBlobLike:zht,ReadableStreamFrom:Yht,isValidHTTPToken:f9e,normalizedMethodRecordsBase:Kht}=Ci(),mx=require("node:assert"),{isUint8Array:Jht}=require("node:util/types"),{webidl:W_}=oc(),d9e=[],LO;try{LO=require("node:crypto");let e=["sha256","sha384","sha512"];d9e=LO.getHashes().filter(t=>e.includes(t))}catch{}function m9e(e){let t=e.urlList,r=t.length;return r===0?null:t[r-1].toString()}o(m9e,"responseURL");function Zht(e,t){if(!qht.has(e.status))return null;let r=e.headersList.get("location",!0);return r!==null&&p9e(r)&&(h9e(r)||(r=Xht(r)),r=new URL(r,m9e(e))),r&&!r.hash&&(r.hash=t),r}o(Zht,"responseLocationURL");function h9e(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r>126||r<32)return!1}return!0}o(h9e,"isValidEncodedURL");function Xht(e){return Buffer.from(e,"binary").toString("utf8")}o(Xht,"normalizeBinaryStringToUtf8");function H_(e){return e.urlList[e.urlList.length-1]}o(H_,"requestCurrentURL");function ept(e){let t=H_(e);return x9e(t)&&Ght.has(t.port)?"blocked":"allowed"}o(ept,"requestBadPort");function tpt(e){return e instanceof Error||e?.constructor?.name==="Error"||e?.constructor?.name==="DOMException"}o(tpt,"isErrorLike");function rpt(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(!(r===9||r>=32&&r<=126||r>=128&&r<=255))return!1}return!0}o(rpt,"isValidReasonPhrase");var npt=f9e;function p9e(e){return(e[0]==="	"||e[0]===" "||e[e.length-1]==="	"||e[e.length-1]===" "||e.includes(`
`)||e.includes("\r")||e.includes("\0"))===!1}o(p9e,"isValidHeaderValue");function ipt(e,t){let{headersList:r}=t,n=(r.get("referrer-policy",!0)??"").split(","),i="";if(n.length>0)for(let s=n.length;s!==0;s--){let a=n[s-1].trim();if(Wht.has(a)){i=a;break}}i!==""&&(e.referrerPolicy=i)}o(ipt,"setRequestReferrerPolicyOnRedirect");function opt(){return"allowed"}o(opt,"crossOriginResourcePolicyCheck");function spt(){return"success"}o(spt,"corsCheck");function apt(){return"success"}o(apt,"TAOCheck");function lpt(e){let t=null;t=e.mode,e.headersList.set("sec-fetch-mode",t,!0)}o(lpt,"appendFetchMetadata");function cpt(e){let t=e.origin;if(!(t==="client"||t===void 0)){if(e.responseTainting==="cors"||e.mode==="websocket")e.headersList.append("origin",t,!0);else if(e.method!=="GET"&&e.method!=="HEAD"){switch(e.referrerPolicy){case"no-referrer":t=null;break;case"no-referrer-when-downgrade":case"strict-origin":case"strict-origin-when-cross-origin":e.origin&&pne(e.origin)&&!pne(H_(e))&&(t=null);break;case"same-origin":QO(e,H_(e))||(t=null);break;default:}e.headersList.append("origin",t,!0)}}}o(cpt,"appendRequestOriginHeader");function k8(e,t){return e}o(k8,"coarsenTime");function upt(e,t,r){return!e?.startTime||e.startTime<t?{domainLookupStartTime:t,domainLookupEndTime:t,connectionStartTime:t,connectionEndTime:t,secureConnectionStartTime:t,ALPNNegotiatedProtocol:e?.ALPNNegotiatedProtocol}:{domainLookupStartTime:k8(e.domainLookupStartTime,r),domainLookupEndTime:k8(e.domainLookupEndTime,r),connectionStartTime:k8(e.connectionStartTime,r),connectionEndTime:k8(e.connectionEndTime,r),secureConnectionStartTime:k8(e.secureConnectionStartTime,r),ALPNNegotiatedProtocol:e.ALPNNegotiatedProtocol}}o(upt,"clampAndCoarsenConnectionTimingInfo");function fpt(e){return k8($ht.now(),e)}o(fpt,"coarsenedSharedCurrentTime");function dpt(e){return{startTime:e.startTime??0,redirectStartTime:0,redirectEndTime:0,postRedirectStartTime:e.startTime??0,finalServiceWorkerStartTime:0,finalNetworkResponseStartTime:0,finalNetworkRequestStartTime:0,endTime:0,encodedBodySize:0,decodedBodySize:0,finalConnectionTimingInfo:null}}o(dpt,"createOpaqueTimingInfo");function g9e(){return{referrerPolicy:"strict-origin-when-cross-origin"}}o(g9e,"makePolicyContainer");function mpt(e){return{referrerPolicy:e.referrerPolicy}}o(mpt,"clonePolicyContainer");function hpt(e){let t=e.referrerPolicy;mx(t);let r=null;if(e.referrer==="client"){let l=u9e();if(!l||l.origin==="null")return"no-referrer";r=new URL(l)}else e.referrer instanceof URL&&(r=e.referrer);let n=hne(r),i=hne(r,!0);n.toString().length>4096&&(n=i);let s=QO(e,n),a=G_(n)&&!G_(e.url);switch(t){case"origin":return i??hne(r,!0);case"unsafe-url":return n;case"same-origin":return s?i:"no-referrer";case"origin-when-cross-origin":return s?n:i;case"strict-origin-when-cross-origin":{let l=H_(e);return QO(n,l)?n:G_(n)&&!G_(l)?"no-referrer":i}case"strict-origin":case"no-referrer-when-downgrade":default:return a?"no-referrer":i}}o(hpt,"determineRequestsReferrer");function hne(e,t){return mx(e instanceof URL),e=new URL(e),e.protocol==="file:"||e.protocol==="about:"||e.protocol==="blank:"?"no-referrer":(e.username="",e.password="",e.hash="",t&&(e.pathname="",e.search=""),e)}o(hne,"stripURLForReferrer");function G_(e){if(!(e instanceof URL))return!1;if(e.href==="about:blank"||e.href==="about:srcdoc"||e.protocol==="data:"||e.protocol==="file:")return!0;return t(e.origin);function t(r){if(r==null||r==="null")return!1;let n=new URL(r);return!!(n.protocol==="https:"||n.protocol==="wss:"||/^127(?:\.[0-9]+){0,2}\.[0-9]+$|^\[(?:0*:)*?:?0*1\]$/.test(n.hostname)||n.hostname==="localhost"||n.hostname.includes("localhost.")||n.hostname.endsWith(".localhost"))}}o(G_,"isURLPotentiallyTrustworthy");function ppt(e,t){if(LO===void 0)return!0;let r=A9e(t);if(r==="no metadata"||r.length===0)return!0;let n=Apt(r),i=ypt(r,n);for(let s of i){let a=s.algo,l=s.hash,c=LO.createHash(a).update(e).digest("base64");if(c[c.length-1]==="="&&(c[c.length-2]==="="?c=c.slice(0,-2):c=c.slice(0,-1)),Cpt(c,l))return!0}return!1}o(ppt,"bytesMatch");var gpt=/(?<algo>sha256|sha384|sha512)-((?<hash>[A-Za-z0-9+/]+|[A-Za-z0-9_-]+)={0,2}(?:\s|$)( +[!-~]*)?)?/i;function A9e(e){let t=[],r=!0;for(let n of e.split(" ")){r=!1;let i=gpt.exec(n);if(i===null||i.groups===void 0||i.groups.algo===void 0)continue;let s=i.groups.algo.toLowerCase();d9e.includes(s)&&t.push(i.groups)}return r===!0?"no metadata":t}o(A9e,"parseMetadata");function Apt(e){let t=e[0].algo;if(t[3]==="5")return t;for(let r=1;r<e.length;++r){let n=e[r];if(n.algo[3]==="5"){t="sha512";break}else{if(t[3]==="3")continue;n.algo[3]==="3"&&(t="sha384")}}return t}o(Apt,"getStrongestMetadata");function ypt(e,t){if(e.length===1)return e;let r=0;for(let n=0;n<e.length;++n)e[n].algo===t&&(e[r++]=e[n]);return e.length=r,e}o(ypt,"filterMetadataListByAlgorithm");function Cpt(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r]){if(e[r]==="+"&&t[r]==="-"||e[r]==="/"&&t[r]==="_")continue;return!1}return!0}o(Cpt,"compareBase64Mixed");function xpt(e){}o(xpt,"tryUpgradeRequestToAPotentiallyTrustworthyURL");function QO(e,t){return e.origin===t.origin&&e.origin==="null"||e.protocol===t.protocol&&e.hostname===t.hostname&&e.port===t.port}o(QO,"sameOrigin");function vpt(){let e,t;return{promise:new Promise((n,i)=>{e=n,t=i}),resolve:e,reject:t}}o(vpt,"createDeferredPromise");function bpt(e){return e.controller.state==="aborted"}o(bpt,"isAborted");function Ept(e){return e.controller.state==="aborted"||e.controller.state==="terminated"}o(Ept,"isCancelled");function Ipt(e){return Kht[e.toLowerCase()]??e}o(Ipt,"normalizeMethod");function Tpt(e){let t=JSON.stringify(e);if(t===void 0)throw new TypeError("Value is not JSON serializable");return mx(typeof t=="string"),t}o(Tpt,"serializeJavascriptValueToJSONString");var wpt=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));function y9e(e,t,r=0,n=1){class i{static{o(this,"FastIterableIterator")}#e;#t;#i;constructor(a,l){this.#e=a,this.#t=l,this.#i=0}next(){if(typeof this!="object"||this===null||!(#e in this))throw new TypeError(`'next' called on an object that does not implement interface ${e} Iterator.`);let a=this.#i,l=this.#e[t],c=l.length;if(a>=c)return{value:void 0,done:!0};let{[r]:u,[n]:f}=l[a];this.#i=a+1;let m;switch(this.#t){case"key":m=u;break;case"value":m=f;break;case"key+value":m=[u,f];break}return{value:m,done:!1}}}return delete i.prototype.constructor,Object.setPrototypeOf(i.prototype,wpt),Object.defineProperties(i.prototype,{[Symbol.toStringTag]:{writable:!1,enumerable:!1,configurable:!0,value:`${e} Iterator`},next:{writable:!0,enumerable:!0,configurable:!0}}),function(s,a){return new i(s,a)}}o(y9e,"createIterator");function _pt(e,t,r,n=0,i=1){let s=y9e(e,r,n,i),a={keys:{writable:!0,enumerable:!0,configurable:!0,value:o(function(){return W_.brandCheck(this,t),s(this,"key")},"keys")},values:{writable:!0,enumerable:!0,configurable:!0,value:o(function(){return W_.brandCheck(this,t),s(this,"value")},"values")},entries:{writable:!0,enumerable:!0,configurable:!0,value:o(function(){return W_.brandCheck(this,t),s(this,"key+value")},"entries")},forEach:{writable:!0,enumerable:!0,configurable:!0,value:o(function(c,u=globalThis){if(W_.brandCheck(this,t),W_.argumentLengthCheck(arguments,1,`${e}.forEach`),typeof c!="function")throw new TypeError(`Failed to execute 'forEach' on '${e}': parameter 1 is not of type 'Function'.`);for(let{0:f,1:m}of s(this,"key+value"))c.call(u,m,f,this)},"forEach")}};return Object.defineProperties(t.prototype,{...a,[Symbol.iterator]:{writable:!0,enumerable:!1,configurable:!0,value:a.entries.value}})}o(_pt,"iteratorMixin");async function Spt(e,t,r){let n=t,i=r,s;try{s=e.stream.getReader()}catch(a){i(a);return}try{n(await C9e(s))}catch(a){i(a)}}o(Spt,"fullyReadBody");function kpt(e){return e instanceof ReadableStream||e[Symbol.toStringTag]==="ReadableStream"&&typeof e.tee=="function"}o(kpt,"isReadableStreamLike");function Rpt(e){try{e.close(),e.byobRequest?.respond(0)}catch(t){if(!t.message.includes("Controller is already closed")&&!t.message.includes("ReadableStream is already closed"))throw t}}o(Rpt,"readableStreamClose");var Bpt=/[^\x00-\xFF]/;function NO(e){return mx(!Bpt.test(e)),e}o(NO,"isomorphicEncode");async function C9e(e){let t=[],r=0;for(;;){let{done:n,value:i}=await e.read();if(n)return Buffer.concat(t,r);if(!Jht(i))throw new TypeError("Received non-Uint8Array chunk");t.push(i),r+=i.length}}o(C9e,"readAllBytes");function Dpt(e){mx("protocol"in e);let t=e.protocol;return t==="about:"||t==="blob:"||t==="data:"}o(Dpt,"urlIsLocal");function pne(e){return typeof e=="string"&&e[5]===":"&&e[0]==="h"&&e[1]==="t"&&e[2]==="t"&&e[3]==="p"&&e[4]==="s"||e.protocol==="https:"}o(pne,"urlHasHttpsScheme");function x9e(e){mx("protocol"in e);let t=e.protocol;return t==="http:"||t==="https:"}o(x9e,"urlIsHttpHttpsScheme");function Ppt(e,t){let r=e;if(!r.startsWith("bytes"))return"failure";let n={position:5};if(t&&dx(c=>c==="	"||c===" ",r,n),r.charCodeAt(n.position)!==61)return"failure";n.position++,t&&dx(c=>c==="	"||c===" ",r,n);let i=dx(c=>{let u=c.charCodeAt(0);return u>=48&&u<=57},r,n),s=i.length?Number(i):null;if(t&&dx(c=>c==="	"||c===" ",r,n),r.charCodeAt(n.position)!==45)return"failure";n.position++,t&&dx(c=>c==="	"||c===" ",r,n);let a=dx(c=>{let u=c.charCodeAt(0);return u>=48&&u<=57},r,n),l=a.length?Number(a):null;return n.position<r.length||l===null&&s===null||s>l?"failure":{rangeStartValue:s,rangeEndValue:l}}o(Ppt,"simpleRangeHeaderValue");function Fpt(e,t,r){let n="bytes ";return n+=NO(`${e}`),n+="-",n+=NO(`${t}`),n+="/",n+=NO(`${r}`),n}o(Fpt,"buildContentRange");var gne=class extends Uht{static{o(this,"InflateStream")}#e;constructor(t){super(),this.#e=t}_transform(t,r,n){if(!this._inflateStream){if(t.length===0){n();return}this._inflateStream=(t[0]&15)===8?c9e.createInflate(this.#e):c9e.createInflateRaw(this.#e),this._inflateStream.on("data",this.push.bind(this)),this._inflateStream.on("end",()=>this.push(null)),this._inflateStream.on("error",i=>this.destroy(i))}this._inflateStream.write(t,r,n)}_final(t){this._inflateStream&&(this._inflateStream.end(),this._inflateStream=null),t()}};function Npt(e){return new gne(e)}o(Npt,"createInflate");function Lpt(e){let t=null,r=null,n=null,i=v9e("content-type",e);if(i===null)return"failure";for(let s of i){let a=Vht(s);a==="failure"||a.essence==="*/*"||(n=a,n.essence!==r?(t=null,n.parameters.has("charset")&&(t=n.parameters.get("charset")),r=n.essence):!n.parameters.has("charset")&&t!==null&&n.parameters.set("charset",t))}return n??"failure"}o(Lpt,"extractMimeType");function Qpt(e){let t=e,r={position:0},n=[],i="";for(;r.position<t.length;){if(i+=dx(s=>s!=='"'&&s!==",",t,r),r.position<t.length)if(t.charCodeAt(r.position)===34){if(i+=Hht(t,r),r.position<t.length)continue}else mx(t.charCodeAt(r.position)===44),r.position++;i=jht(i,!0,!0,s=>s===9||s===32),n.push(i),i=""}return n}o(Qpt,"gettingDecodingSplitting");function v9e(e,t){let r=t.get(e,!0);return r===null?null:Qpt(r)}o(v9e,"getDecodeSplit");var Mpt=new TextDecoder;function Opt(e){return e.length===0?"":(e[0]===239&&e[1]===187&&e[2]===191&&(e=e.subarray(3)),Mpt.decode(e))}o(Opt,"utf8DecodeBytes");var Ane=class{static{o(this,"EnvironmentSettingsObjectBase")}get baseUrl(){return u9e()}get origin(){return this.baseUrl?.origin}policyContainer=g9e()},yne=class{static{o(this,"EnvironmentSettingsObject")}settingsObject=new Ane},Upt=new yne;b9e.exports={isAborted:bpt,isCancelled:Ept,isValidEncodedURL:h9e,createDeferredPromise:vpt,ReadableStreamFrom:Yht,tryUpgradeRequestToAPotentiallyTrustworthyURL:xpt,clampAndCoarsenConnectionTimingInfo:upt,coarsenedSharedCurrentTime:fpt,determineRequestsReferrer:hpt,makePolicyContainer:g9e,clonePolicyContainer:mpt,appendFetchMetadata:lpt,appendRequestOriginHeader:cpt,TAOCheck:apt,corsCheck:spt,crossOriginResourcePolicyCheck:opt,createOpaqueTimingInfo:dpt,setRequestReferrerPolicyOnRedirect:ipt,isValidHTTPToken:f9e,requestBadPort:ept,requestCurrentURL:H_,responseURL:m9e,responseLocationURL:Zht,isBlobLike:zht,isURLPotentiallyTrustworthy:G_,isValidReasonPhrase:rpt,sameOrigin:QO,normalizeMethod:Ipt,serializeJavascriptValueToJSONString:Tpt,iteratorMixin:_pt,createIterator:y9e,isValidHeaderName:npt,isValidHeaderValue:p9e,isErrorLike:tpt,fullyReadBody:Spt,bytesMatch:ppt,isReadableStreamLike:kpt,readableStreamClose:Rpt,isomorphicEncode:NO,urlIsLocal:Dpt,urlHasHttpsScheme:pne,urlIsHttpHttpsScheme:x9e,readAllBytes:C9e,simpleRangeHeaderValue:Ppt,buildContentRange:Fpt,parseMetadata:A9e,createInflate:Npt,extractMimeType:Lpt,getDecodeSplit:v9e,utf8DecodeBytes:Opt,environmentSettingsObject:Upt}});var k5=j((oqr,E9e)=>{"use strict";d();E9e.exports={kUrl:Symbol("url"),kHeaders:Symbol("headers"),kSignal:Symbol("signal"),kState:Symbol("state"),kDispatcher:Symbol("dispatcher")}});var xne=j((aqr,I9e)=>{"use strict";d();var{Blob:qpt,File:Wpt}=require("node:buffer"),{kState:dA}=k5(),{webidl:Kp}=oc(),Cne=class e{static{o(this,"FileLike")}constructor(t,r,n={}){let i=r,s=n.type,a=n.lastModified??Date.now();this[dA]={blobLike:t,name:i,type:s,lastModified:a}}stream(...t){return Kp.brandCheck(this,e),this[dA].blobLike.stream(...t)}arrayBuffer(...t){return Kp.brandCheck(this,e),this[dA].blobLike.arrayBuffer(...t)}slice(...t){return Kp.brandCheck(this,e),this[dA].blobLike.slice(...t)}text(...t){return Kp.brandCheck(this,e),this[dA].blobLike.text(...t)}get size(){return Kp.brandCheck(this,e),this[dA].blobLike.size}get type(){return Kp.brandCheck(this,e),this[dA].blobLike.type}get name(){return Kp.brandCheck(this,e),this[dA].name}get lastModified(){return Kp.brandCheck(this,e),this[dA].lastModified}get[Symbol.toStringTag](){return"File"}};Kp.converters.Blob=Kp.interfaceConverter(qpt);function Gpt(e){return e instanceof Wpt||e&&(typeof e.stream=="function"||typeof e.arrayBuffer=="function")&&e[Symbol.toStringTag]==="File"}o(Gpt,"isFileLike");I9e.exports={FileLike:Cne,isFileLike:Gpt}});var V_=j((uqr,k9e)=>{"use strict";d();var{isBlobLike:MO,iteratorMixin:Hpt}=mf(),{kState:d0}=k5(),{kEnumerableProperty:R8}=Ci(),{FileLike:T9e,isFileLike:jpt}=xne(),{webidl:Xo}=oc(),{File:S9e}=require("node:buffer"),w9e=require("node:util"),_9e=globalThis.File??S9e,j_=class e{static{o(this,"FormData")}constructor(t){if(Xo.util.markAsUncloneable(this),t!==void 0)throw Xo.errors.conversionFailed({prefix:"FormData constructor",argument:"Argument 1",types:["undefined"]});this[d0]=[]}append(t,r,n=void 0){Xo.brandCheck(this,e);let i="FormData.append";if(Xo.argumentLengthCheck(arguments,2,i),arguments.length===3&&!MO(r))throw new TypeError("Failed to execute 'append' on 'FormData': parameter 2 is not of type 'Blob'");t=Xo.converters.USVString(t,i,"name"),r=MO(r)?Xo.converters.Blob(r,i,"value",{strict:!1}):Xo.converters.USVString(r,i,"value"),n=arguments.length===3?Xo.converters.USVString(n,i,"filename"):void 0;let s=vne(t,r,n);this[d0].push(s)}delete(t){Xo.brandCheck(this,e);let r="FormData.delete";Xo.argumentLengthCheck(arguments,1,r),t=Xo.converters.USVString(t,r,"name"),this[d0]=this[d0].filter(n=>n.name!==t)}get(t){Xo.brandCheck(this,e);let r="FormData.get";Xo.argumentLengthCheck(arguments,1,r),t=Xo.converters.USVString(t,r,"name");let n=this[d0].findIndex(i=>i.name===t);return n===-1?null:this[d0][n].value}getAll(t){Xo.brandCheck(this,e);let r="FormData.getAll";return Xo.argumentLengthCheck(arguments,1,r),t=Xo.converters.USVString(t,r,"name"),this[d0].filter(n=>n.name===t).map(n=>n.value)}has(t){Xo.brandCheck(this,e);let r="FormData.has";return Xo.argumentLengthCheck(arguments,1,r),t=Xo.converters.USVString(t,r,"name"),this[d0].findIndex(n=>n.name===t)!==-1}set(t,r,n=void 0){Xo.brandCheck(this,e);let i="FormData.set";if(Xo.argumentLengthCheck(arguments,2,i),arguments.length===3&&!MO(r))throw new TypeError("Failed to execute 'set' on 'FormData': parameter 2 is not of type 'Blob'");t=Xo.converters.USVString(t,i,"name"),r=MO(r)?Xo.converters.Blob(r,i,"name",{strict:!1}):Xo.converters.USVString(r,i,"name"),n=arguments.length===3?Xo.converters.USVString(n,i,"name"):void 0;let s=vne(t,r,n),a=this[d0].findIndex(l=>l.name===t);a!==-1?this[d0]=[...this[d0].slice(0,a),s,...this[d0].slice(a+1).filter(l=>l.name!==t)]:this[d0].push(s)}[w9e.inspect.custom](t,r){let n=this[d0].reduce((s,a)=>(s[a.name]?Array.isArray(s[a.name])?s[a.name].push(a.value):s[a.name]=[s[a.name],a.value]:s[a.name]=a.value,s),{__proto__:null});r.depth??=t,r.colors??=!0;let i=w9e.formatWithOptions(r,n);return`FormData ${i.slice(i.indexOf("]")+2)}`}};Hpt("FormData",j_,d0,"name","value");Object.defineProperties(j_.prototype,{append:R8,delete:R8,get:R8,getAll:R8,has:R8,set:R8,[Symbol.toStringTag]:{value:"FormData",configurable:!0}});function vne(e,t,r){if(typeof t!="string"){if(jpt(t)||(t=t instanceof Blob?new _9e([t],"blob",{type:t.type}):new T9e(t,"blob",{type:t.type})),r!==void 0){let n={type:t.type,lastModified:t.lastModified};t=t instanceof S9e?new _9e([t],r,n):new T9e(t,r,n)}}return{name:e,value:t}}o(vne,"makeEntry");k9e.exports={FormData:j_,makeEntry:vne}});var N9e=j((mqr,F9e)=>{"use strict";d();var{isUSVString:R9e,bufferToLowerCasedHeaderName:Vpt}=Ci(),{utf8DecodeBytes:$pt}=mf(),{HTTP_TOKEN_CODEPOINTS:zpt,isomorphicDecode:B9e}=au(),{isFileLike:Ypt}=xne(),{makeEntry:Kpt}=V_(),OO=require("node:assert"),{File:Jpt}=require("node:buffer"),Zpt=globalThis.File??Jpt,Xpt=Buffer.from('form-data; name="'),D9e=Buffer.from("; filename"),egt=Buffer.from("--"),tgt=Buffer.from(`--\r
`);function rgt(e){for(let t=0;t<e.length;++t)if((e.charCodeAt(t)&-128)!==0)return!1;return!0}o(rgt,"isAsciiString");function ngt(e){let t=e.length;if(t<27||t>70)return!1;for(let r=0;r<t;++r){let n=e.charCodeAt(r);if(!(n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122||n===39||n===45||n===95))return!1}return!0}o(ngt,"validateBoundary");function igt(e,t){OO(t!=="failure"&&t.essence==="multipart/form-data");let r=t.parameters.get("boundary");if(r===void 0)return"failure";let n=Buffer.from(`--${r}`,"utf8"),i=[],s={position:0};for(;e[s.position]===13&&e[s.position+1]===10;)s.position+=2;let a=e.length;for(;e[a-1]===10&&e[a-2]===13;)a-=2;for(a!==e.length&&(e=e.subarray(0,a));;){if(e.subarray(s.position,s.position+n.length).equals(n))s.position+=n.length;else return"failure";if(s.position===e.length-2&&UO(e,egt,s)||s.position===e.length-4&&UO(e,tgt,s))return i;if(e[s.position]!==13||e[s.position+1]!==10)return"failure";s.position+=2;let l=ogt(e,s);if(l==="failure")return"failure";let{name:c,filename:u,contentType:f,encoding:m}=l;s.position+=2;let h;{let g=e.indexOf(n.subarray(2),s.position);if(g===-1)return"failure";h=e.subarray(s.position,g-4),s.position+=h.length,m==="base64"&&(h=Buffer.from(h.toString(),"base64"))}if(e[s.position]!==13||e[s.position+1]!==10)return"failure";s.position+=2;let p;u!==null?(f??="text/plain",rgt(f)||(f=""),p=new Zpt([h],u,{type:f})):p=$pt(Buffer.from(h)),OO(R9e(c)),OO(typeof p=="string"&&R9e(p)||Ypt(p)),i.push(Kpt(c,p,u))}}o(igt,"multipartFormDataParser");function ogt(e,t){let r=null,n=null,i=null,s=null;for(;;){if(e[t.position]===13&&e[t.position+1]===10)return r===null?"failure":{name:r,filename:n,contentType:i,encoding:s};let a=B8(l=>l!==10&&l!==13&&l!==58,e,t);if(a=bne(a,!0,!0,l=>l===9||l===32),!zpt.test(a.toString())||e[t.position]!==58)return"failure";switch(t.position++,B8(l=>l===32||l===9,e,t),Vpt(a)){case"content-disposition":{if(r=n=null,!UO(e,Xpt,t)||(t.position+=17,r=P9e(e,t),r===null))return"failure";if(UO(e,D9e,t)){let l=t.position+D9e.length;if(e[l]===42&&(t.position+=1,l+=1),e[l]!==61||e[l+1]!==34||(t.position+=12,n=P9e(e,t),n===null))return"failure"}break}case"content-type":{let l=B8(c=>c!==10&&c!==13,e,t);l=bne(l,!1,!0,c=>c===9||c===32),i=B9e(l);break}case"content-transfer-encoding":{let l=B8(c=>c!==10&&c!==13,e,t);l=bne(l,!1,!0,c=>c===9||c===32),s=B9e(l);break}default:B8(l=>l!==10&&l!==13,e,t)}if(e[t.position]!==13&&e[t.position+1]!==10)return"failure";t.position+=2}}o(ogt,"parseMultipartFormDataHeaders");function P9e(e,t){OO(e[t.position-1]===34);let r=B8(n=>n!==10&&n!==13&&n!==34,e,t);return e[t.position]!==34?null:(t.position++,r=new TextDecoder().decode(r).replace(/%0A/ig,`
`).replace(/%0D/ig,"\r").replace(/%22/g,'"'),r)}o(P9e,"parseMultipartFormDataName");function B8(e,t,r){let n=r.position;for(;n<t.length&&e(t[n]);)++n;return t.subarray(r.position,r.position=n)}o(B8,"collectASequenceOfBytes");function bne(e,t,r,n){let i=0,s=e.length-1;if(t)for(;i<e.length&&n(e[i]);)i++;if(r)for(;s>0&&n(e[s]);)s--;return i===0&&s===e.length-1?e:e.subarray(i,s+1)}o(bne,"removeChars");function UO(e,t,r){if(e.length<t.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[r.position+n])return!1;return!0}o(UO,"bufferStartsWith");F9e.exports={multipartFormDataParser:igt,validateBoundary:ngt}});var F8=j((gqr,G9e)=>{"use strict";d();var $_=Ci(),{ReadableStreamFrom:sgt,isBlobLike:L9e,isReadableStreamLike:agt,readableStreamClose:lgt,createDeferredPromise:cgt,fullyReadBody:ugt,extractMimeType:fgt,utf8DecodeBytes:O9e}=mf(),{FormData:Q9e}=V_(),{kState:P8}=k5(),{webidl:dgt}=oc(),{Blob:mgt}=require("node:buffer"),Ene=require("node:assert"),{isErrored:U9e,isDisturbed:hgt}=require("node:stream"),{isArrayBuffer:pgt}=require("node:util/types"),{serializeAMimeType:ggt}=au(),{multipartFormDataParser:Agt}=N9e(),Ine;try{let e=require("node:crypto");Ine=o(t=>e.randomInt(0,t),"random")}catch{Ine=o(e=>Math.floor(Math.random(e)),"random")}var qO=new TextEncoder;function ygt(){}o(ygt,"noop");var Tne=globalThis.FinalizationRegistry&&process.version.indexOf("v18")!==0,wne;Tne&&(wne=new FinalizationRegistry(e=>{let t=e.deref();t&&!t.locked&&!hgt(t)&&!U9e(t)&&t.cancel("Response object has been garbage collected").catch(ygt)}));function q9e(e,t=!1){let r=null;e instanceof ReadableStream?r=e:L9e(e)?r=e.stream():r=new ReadableStream({async pull(c){let u=typeof i=="string"?qO.encode(i):i;u.byteLength&&c.enqueue(u),queueMicrotask(()=>lgt(c))},start(){},type:"bytes"}),Ene(agt(r));let n=null,i=null,s=null,a=null;if(typeof e=="string")i=e,a="text/plain;charset=UTF-8";else if(e instanceof URLSearchParams)i=e.toString(),a="application/x-www-form-urlencoded;charset=UTF-8";else if(pgt(e))i=new Uint8Array(e.slice());else if(ArrayBuffer.isView(e))i=new Uint8Array(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength));else if($_.isFormDataLike(e)){let c=`----formdata-undici-0${`${Ine(1e11)}`.padStart(11,"0")}`,u=`--${c}\r
Content-Disposition: form-data`;let f=o(v=>v.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),"escape"),m=o(v=>v.replace(/\r?\n|\r/g,`\r
`),"normalizeLinefeeds"),h=[],p=new Uint8Array([13,10]);s=0;let g=!1;for(let[v,E]of e)if(typeof E=="string"){let b=qO.encode(u+`; name="${f(m(v))}"\r
\r
${m(E)}\r
`);h.push(b),s+=b.byteLength}else{let b=qO.encode(`${u}; name="${f(m(v))}"`+(E.name?`; filename="${f(E.name)}"`:"")+`\r
Content-Type: ${E.type||"application/octet-stream"}\r
\r
`);h.push(b,E,p),typeof E.size=="number"?s+=b.byteLength+E.size+p.byteLength:g=!0}let x=qO.encode(`--${c}--`);h.push(x),s+=x.byteLength,g&&(s=null),i=e,n=o(async function*(){for(let v of h)v.stream?yield*v.stream():yield v},"action"),a=`multipart/form-data; boundary=${c}`}else if(L9e(e))i=e,s=e.size,e.type&&(a=e.type);else if(typeof e[Symbol.asyncIterator]=="function"){if(t)throw new TypeError("keepalive");if($_.isDisturbed(e)||e.locked)throw new TypeError("Response body object should not be disturbed or locked");r=e instanceof ReadableStream?e:sgt(e)}if((typeof i=="string"||$_.isBuffer(i))&&(s=Buffer.byteLength(i)),n!=null){let c;r=new ReadableStream({async start(){c=n(e)[Symbol.asyncIterator]()},async pull(u){let{value:f,done:m}=await c.next();if(m)queueMicrotask(()=>{u.close(),u.byobRequest?.respond(0)});else if(!U9e(r)){let h=new Uint8Array(f);h.byteLength&&u.enqueue(h)}return u.desiredSize>0},async cancel(u){await c.return()},type:"bytes"})}return[{stream:r,source:i,length:s},a]}o(q9e,"extractBody");function Cgt(e,t=!1){return e instanceof ReadableStream&&(Ene(!$_.isDisturbed(e),"The body has already been consumed."),Ene(!e.locked,"The stream is locked.")),q9e(e,t)}o(Cgt,"safelyExtractBody");function xgt(e,t){let[r,n]=t.stream.tee();return Tne&&wne.register(e,new WeakRef(r)),t.stream=r,{stream:n,length:t.length,source:t.source}}o(xgt,"cloneBody");function vgt(e){if(e.aborted)throw new DOMException("The operation was aborted.","AbortError")}o(vgt,"throwIfAborted");function bgt(e){return{blob(){return D8(this,r=>{let n=M9e(this);return n===null?n="":n&&(n=ggt(n)),new mgt([r],{type:n})},e)},arrayBuffer(){return D8(this,r=>new Uint8Array(r).buffer,e)},text(){return D8(this,O9e,e)},json(){return D8(this,Igt,e)},formData(){return D8(this,r=>{let n=M9e(this);if(n!==null)switch(n.essence){case"multipart/form-data":{let i=Agt(r,n);if(i==="failure")throw new TypeError("Failed to parse body as FormData.");let s=new Q9e;return s[P8]=i,s}case"application/x-www-form-urlencoded":{let i=new URLSearchParams(r.toString()),s=new Q9e;for(let[a,l]of i)s.append(a,l);return s}}throw new TypeError('Content-Type was not one of "multipart/form-data" or "application/x-www-form-urlencoded".')},e)},bytes(){return D8(this,r=>new Uint8Array(r),e)}}}o(bgt,"bodyMixinMethods");function Egt(e){Object.assign(e.prototype,bgt(e))}o(Egt,"mixinBody");async function D8(e,t,r){if(dgt.brandCheck(e,r),W9e(e))throw new TypeError("Body is unusable: Body has already been read");vgt(e[P8]);let n=cgt(),i=o(a=>n.reject(a),"errorSteps"),s=o(a=>{try{n.resolve(t(a))}catch(l){i(l)}},"successSteps");return e[P8].body==null?(s(Buffer.allocUnsafe(0)),n.promise):(await ugt(e[P8].body,s,i),n.promise)}o(D8,"consumeBody");function W9e(e){let t=e[P8].body;return t!=null&&(t.stream.locked||$_.isDisturbed(t.stream))}o(W9e,"bodyUnusable");function Igt(e){return JSON.parse(O9e(e))}o(Igt,"parseJSONFromBytes");function M9e(e){let t=e[P8].headersList,r=fgt(t);return r==="failure"?null:r}o(M9e,"bodyMimeType");G9e.exports={extractBody:q9e,safelyExtractBody:Cgt,cloneBody:xgt,mixinBody:Egt,streamRegistry:wne,hasFinalizationRegistry:Tne,bodyUnusable:W9e}});var e7e=j((Cqr,X9e)=>{"use strict";d();var An=require("node:assert"),Hn=Ci(),{channels:H9e}=v8(),_ne=sne(),{RequestContentLengthMismatchError:hx,ResponseContentLengthMismatchError:Tgt,RequestAbortedError:K9e,HeadersTimeoutError:wgt,HeadersOverflowError:_gt,SocketError:$O,InformationalError:N8,BodyTimeoutError:Sgt,HTTPParserError:kgt,ResponseExceededMaxSizeError:Rgt}=yo(),{kUrl:J9e,kReset:lu,kClient:Bne,kParser:sa,kBlocking:K_,kRunning:Mc,kPending:Bgt,kSize:j9e,kWriting:B5,kQueue:ah,kNoRef:z_,kKeepAliveDefaultTimeout:Dgt,kHostHeader:Pgt,kPendingIdx:Fgt,kRunningIdx:Fd,kError:Nd,kPipelining:jO,kSocket:L8,kKeepAliveTimeoutValue:zO,kMaxHeadersSize:Sne,kKeepAliveMaxTimeout:Ngt,kKeepAliveTimeoutThreshold:Lgt,kHeadersTimeout:Qgt,kBodyTimeout:Mgt,kStrictContentLength:Dne,kMaxRequests:V9e,kCounter:Ogt,kMaxResponseSize:Ugt,kOnError:qgt,kResume:R5,kHTTPContext:Z9e}=Ls(),Jp=W6e(),Wgt=Buffer.alloc(0),WO=Buffer[Symbol.species],GO=Hn.addListener,Ggt=Hn.removeAllListeners,kne;async function Hgt(){let e=process.env.JEST_WORKER_ID?cne():void 0,t;try{t=await WebAssembly.compile(j6e())}catch{t=await WebAssembly.compile(e||cne())}return await WebAssembly.instantiate(t,{env:{wasm_on_url:o((r,n,i)=>0,"wasm_on_url"),wasm_on_status:o((r,n,i)=>{An(cl.ptr===r);let s=n-Xp+Zp.byteOffset;return cl.onStatus(new WO(Zp.buffer,s,i))||0},"wasm_on_status"),wasm_on_message_begin:o(r=>(An(cl.ptr===r),cl.onMessageBegin()||0),"wasm_on_message_begin"),wasm_on_header_field:o((r,n,i)=>{An(cl.ptr===r);let s=n-Xp+Zp.byteOffset;return cl.onHeaderField(new WO(Zp.buffer,s,i))||0},"wasm_on_header_field"),wasm_on_header_value:o((r,n,i)=>{An(cl.ptr===r);let s=n-Xp+Zp.byteOffset;return cl.onHeaderValue(new WO(Zp.buffer,s,i))||0},"wasm_on_header_value"),wasm_on_headers_complete:o((r,n,i,s)=>(An(cl.ptr===r),cl.onHeadersComplete(n,!!i,!!s)||0),"wasm_on_headers_complete"),wasm_on_body:o((r,n,i)=>{An(cl.ptr===r);let s=n-Xp+Zp.byteOffset;return cl.onBody(new WO(Zp.buffer,s,i))||0},"wasm_on_body"),wasm_on_message_complete:o(r=>(An(cl.ptr===r),cl.onMessageComplete()||0),"wasm_on_message_complete")}})}o(Hgt,"lazyllhttp");var Rne=null,Pne=Hgt();Pne.catch();var cl=null,Zp=null,HO=0,Xp=null,jgt=0,Y_=1,Q8=2|Y_,VO=4|Y_,Fne=8|jgt,Nne=class{static{o(this,"Parser")}constructor(t,r,{exports:n}){An(Number.isFinite(t[Sne])&&t[Sne]>0),this.llhttp=n,this.ptr=this.llhttp.llhttp_alloc(Jp.TYPE.RESPONSE),this.client=t,this.socket=r,this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.statusCode=null,this.statusText="",this.upgrade=!1,this.headers=[],this.headersSize=0,this.headersMaxSize=t[Sne],this.shouldKeepAlive=!1,this.paused=!1,this.resume=this.resume.bind(this),this.bytesRead=0,this.keepAlive="",this.contentLength="",this.connection="",this.maxResponseSize=t[Ugt]}setTimeout(t,r){t!==this.timeoutValue||r&Y_^this.timeoutType&Y_?(this.timeout&&(_ne.clearTimeout(this.timeout),this.timeout=null),t&&(r&Y_?this.timeout=_ne.setFastTimeout($9e,t,new WeakRef(this)):(this.timeout=setTimeout($9e,t,new WeakRef(this)),this.timeout.unref())),this.timeoutValue=t):this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.timeoutType=r}resume(){this.socket.destroyed||!this.paused||(An(this.ptr!=null),An(cl==null),this.llhttp.llhttp_resume(this.ptr),An(this.timeoutType===VO),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.paused=!1,this.execute(this.socket.read()||Wgt),this.readMore())}readMore(){for(;!this.paused&&this.ptr;){let t=this.socket.read();if(t===null)break;this.execute(t)}}execute(t){An(this.ptr!=null),An(cl==null),An(!this.paused);let{socket:r,llhttp:n}=this;t.length>HO&&(Xp&&n.free(Xp),HO=Math.ceil(t.length/4096)*4096,Xp=n.malloc(HO)),new Uint8Array(n.memory.buffer,Xp,HO).set(t);try{let i;try{Zp=t,cl=this,i=n.llhttp_execute(this.ptr,Xp,t.length)}catch(a){throw a}finally{cl=null,Zp=null}let s=n.llhttp_get_error_pos(this.ptr)-Xp;if(i===Jp.ERROR.PAUSED_UPGRADE)this.onUpgrade(t.slice(s));else if(i===Jp.ERROR.PAUSED)this.paused=!0,r.unshift(t.slice(s));else if(i!==Jp.ERROR.OK){let a=n.llhttp_get_error_reason(this.ptr),l="";if(a){let c=new Uint8Array(n.memory.buffer,a).indexOf(0);l="Response does not match the HTTP/1.1 protocol ("+Buffer.from(n.memory.buffer,a,c).toString()+")"}throw new kgt(l,Jp.ERROR[i],t.slice(s))}}catch(i){Hn.destroy(r,i)}}destroy(){An(this.ptr!=null),An(cl==null),this.llhttp.llhttp_free(this.ptr),this.ptr=null,this.timeout&&_ne.clearTimeout(this.timeout),this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.paused=!1}onStatus(t){this.statusText=t.toString()}onMessageBegin(){let{socket:t,client:r}=this;if(t.destroyed)return-1;let n=r[ah][r[Fd]];if(!n)return-1;n.onResponseStarted()}onHeaderField(t){let r=this.headers.length;(r&1)===0?this.headers.push(t):this.headers[r-1]=Buffer.concat([this.headers[r-1],t]),this.trackHeader(t.length)}onHeaderValue(t){let r=this.headers.length;(r&1)===1?(this.headers.push(t),r+=1):this.headers[r-1]=Buffer.concat([this.headers[r-1],t]);let n=this.headers[r-2];if(n.length===10){let i=Hn.bufferToLowerCasedHeaderName(n);i==="keep-alive"?this.keepAlive+=t.toString():i==="connection"&&(this.connection+=t.toString())}else n.length===14&&Hn.bufferToLowerCasedHeaderName(n)==="content-length"&&(this.contentLength+=t.toString());this.trackHeader(t.length)}trackHeader(t){this.headersSize+=t,this.headersSize>=this.headersMaxSize&&Hn.destroy(this.socket,new _gt)}onUpgrade(t){let{upgrade:r,client:n,socket:i,headers:s,statusCode:a}=this;An(r),An(n[L8]===i),An(!i.destroyed),An(!this.paused),An((s.length&1)===0);let l=n[ah][n[Fd]];An(l),An(l.upgrade||l.method==="CONNECT"),this.statusCode=null,this.statusText="",this.shouldKeepAlive=null,this.headers=[],this.headersSize=0,i.unshift(t),i[sa].destroy(),i[sa]=null,i[Bne]=null,i[Nd]=null,Ggt(i),n[L8]=null,n[Z9e]=null,n[ah][n[Fd]++]=null,n.emit("disconnect",n[J9e],[n],new N8("upgrade"));try{l.onUpgrade(a,s,i)}catch(c){Hn.destroy(i,c)}n[R5]()}onHeadersComplete(t,r,n){let{client:i,socket:s,headers:a,statusText:l}=this;if(s.destroyed)return-1;let c=i[ah][i[Fd]];if(!c)return-1;if(An(!this.upgrade),An(this.statusCode<200),t===100)return Hn.destroy(s,new $O("bad response",Hn.getSocketInfo(s))),-1;if(r&&!c.upgrade)return Hn.destroy(s,new $O("bad upgrade",Hn.getSocketInfo(s))),-1;if(An(this.timeoutType===Q8),this.statusCode=t,this.shouldKeepAlive=n||c.method==="HEAD"&&!s[lu]&&this.connection.toLowerCase()==="keep-alive",this.statusCode>=200){let f=c.bodyTimeout!=null?c.bodyTimeout:i[Mgt];this.setTimeout(f,VO)}else this.timeout&&this.timeout.refresh&&this.timeout.refresh();if(c.method==="CONNECT")return An(i[Mc]===1),this.upgrade=!0,2;if(r)return An(i[Mc]===1),this.upgrade=!0,2;if(An((this.headers.length&1)===0),this.headers=[],this.headersSize=0,this.shouldKeepAlive&&i[jO]){let f=this.keepAlive?Hn.parseKeepAliveTimeout(this.keepAlive):null;if(f!=null){let m=Math.min(f-i[Lgt],i[Ngt]);m<=0?s[lu]=!0:i[zO]=m}else i[zO]=i[Dgt]}else s[lu]=!0;let u=c.onHeaders(t,a,this.resume,l)===!1;return c.aborted?-1:c.method==="HEAD"||t<200?1:(s[K_]&&(s[K_]=!1,i[R5]()),u?Jp.ERROR.PAUSED:0)}onBody(t){let{client:r,socket:n,statusCode:i,maxResponseSize:s}=this;if(n.destroyed)return-1;let a=r[ah][r[Fd]];if(An(a),An(this.timeoutType===VO),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),An(i>=200),s>-1&&this.bytesRead+t.length>s)return Hn.destroy(n,new Rgt),-1;if(this.bytesRead+=t.length,a.onData(t)===!1)return Jp.ERROR.PAUSED}onMessageComplete(){let{client:t,socket:r,statusCode:n,upgrade:i,headers:s,contentLength:a,bytesRead:l,shouldKeepAlive:c}=this;if(r.destroyed&&(!n||c))return-1;if(i)return;An(n>=100),An((this.headers.length&1)===0);let u=t[ah][t[Fd]];if(An(u),this.statusCode=null,this.statusText="",this.bytesRead=0,this.contentLength="",this.keepAlive="",this.connection="",this.headers=[],this.headersSize=0,!(n<200)){if(u.method!=="HEAD"&&a&&l!==parseInt(a,10))return Hn.destroy(r,new Tgt),-1;if(u.onComplete(s),t[ah][t[Fd]++]=null,r[B5])return An(t[Mc]===0),Hn.destroy(r,new N8("reset")),Jp.ERROR.PAUSED;if(c){if(r[lu]&&t[Mc]===0)return Hn.destroy(r,new N8("reset")),Jp.ERROR.PAUSED;t[jO]==null||t[jO]===1?setImmediate(()=>t[R5]()):t[R5]()}else return Hn.destroy(r,new N8("reset")),Jp.ERROR.PAUSED}}};function $9e(e){let{socket:t,timeoutType:r,client:n,paused:i}=e.deref();r===Q8?(!t[B5]||t.writableNeedDrain||n[Mc]>1)&&(An(!i,"cannot be paused while waiting for headers"),Hn.destroy(t,new wgt)):r===VO?i||Hn.destroy(t,new Sgt):r===Fne&&(An(n[Mc]===0&&n[zO]),Hn.destroy(t,new N8("socket idle timeout")))}o($9e,"onParserTimeout");async function Vgt(e,t){e[L8]=t,Rne||(Rne=await Pne,Pne=null),t[z_]=!1,t[B5]=!1,t[lu]=!1,t[K_]=!1,t[sa]=new Nne(e,t,Rne),GO(t,"error",function(n){An(n.code!=="ERR_TLS_CERT_ALTNAME_INVALID");let i=this[sa];if(n.code==="ECONNRESET"&&i.statusCode&&!i.shouldKeepAlive){i.onMessageComplete();return}this[Nd]=n,this[Bne][qgt](n)}),GO(t,"readable",function(){let n=this[sa];n&&n.readMore()}),GO(t,"end",function(){let n=this[sa];if(n.statusCode&&!n.shouldKeepAlive){n.onMessageComplete();return}Hn.destroy(this,new $O("other side closed",Hn.getSocketInfo(this)))}),GO(t,"close",function(){let n=this[Bne],i=this[sa];i&&(!this[Nd]&&i.statusCode&&!i.shouldKeepAlive&&i.onMessageComplete(),this[sa].destroy(),this[sa]=null);let s=this[Nd]||new $O("closed",Hn.getSocketInfo(this));if(n[L8]=null,n[Z9e]=null,n.destroyed){An(n[Bgt]===0);let a=n[ah].splice(n[Fd]);for(let l=0;l<a.length;l++){let c=a[l];Hn.errorRequest(n,c,s)}}else if(n[Mc]>0&&s.code!=="UND_ERR_INFO"){let a=n[ah][n[Fd]];n[ah][n[Fd]++]=null,Hn.errorRequest(n,a,s)}n[Fgt]=n[Fd],An(n[Mc]===0),n.emit("disconnect",n[J9e],[n],s),n[R5]()});let r=!1;return t.on("close",()=>{r=!0}),{version:"h1",defaultPipelining:1,write(...n){return Ygt(e,...n)},resume(){$gt(e)},destroy(n,i){r?queueMicrotask(i):t.destroy(n).on("close",i)},get destroyed(){return t.destroyed},busy(n){return!!(t[B5]||t[lu]||t[K_]||n&&(e[Mc]>0&&!n.idempotent||e[Mc]>0&&(n.upgrade||n.method==="CONNECT")||e[Mc]>0&&Hn.bodyLength(n.body)!==0&&(Hn.isStream(n.body)||Hn.isAsyncIterable(n.body)||Hn.isFormDataLike(n.body))))}}}o(Vgt,"connectH1");function $gt(e){let t=e[L8];if(t&&!t.destroyed){if(e[j9e]===0?!t[z_]&&t.unref&&(t.unref(),t[z_]=!0):t[z_]&&t.ref&&(t.ref(),t[z_]=!1),e[j9e]===0)t[sa].timeoutType!==Fne&&t[sa].setTimeout(e[zO],Fne);else if(e[Mc]>0&&t[sa].statusCode<200&&t[sa].timeoutType!==Q8){let r=e[ah][e[Fd]],n=r.headersTimeout!=null?r.headersTimeout:e[Qgt];t[sa].setTimeout(n,Q8)}}}o($gt,"resumeH1");function zgt(e){return e!=="GET"&&e!=="HEAD"&&e!=="OPTIONS"&&e!=="TRACE"&&e!=="CONNECT"}o(zgt,"shouldSendContentLength");function Ygt(e,t){let{method:r,path:n,host:i,upgrade:s,blocking:a,reset:l}=t,{body:c,headers:u,contentLength:f}=t,m=r==="PUT"||r==="POST"||r==="PATCH"||r==="QUERY"||r==="PROPFIND"||r==="PROPPATCH";if(Hn.isFormDataLike(c)){kne||(kne=F8().extractBody);let[v,E]=kne(c);t.contentType==null&&u.push("content-type",E),c=v.stream,f=v.length}else Hn.isBlobLike(c)&&t.contentType==null&&c.type&&u.push("content-type",c.type);c&&typeof c.read=="function"&&c.read(0);let h=Hn.bodyLength(c);if(f=h??f,f===null&&(f=t.contentLength),f===0&&!m&&(f=null),zgt(r)&&f>0&&t.contentLength!==null&&t.contentLength!==f){if(e[Dne])return Hn.errorRequest(e,t,new hx),!1;process.emitWarning(new hx)}let p=e[L8],g=o(v=>{t.aborted||t.completed||(Hn.errorRequest(e,t,v||new K9e),Hn.destroy(c),Hn.destroy(p,new N8("aborted")))},"abort");try{t.onConnect(g)}catch(v){Hn.errorRequest(e,t,v)}if(t.aborted)return!1;r==="HEAD"&&(p[lu]=!0),(s||r==="CONNECT")&&(p[lu]=!0),l!=null&&(p[lu]=l),e[V9e]&&p[Ogt]++>=e[V9e]&&(p[lu]=!0),a&&(p[K_]=!0);let x=`${r} ${n} HTTP/1.1\r
`;if(typeof i=="string"?x+=`host: ${i}\r
`:x+=e[Pgt],s?x+=`connection: upgrade\r
upgrade: ${s}\r
`:e[jO]&&!p[lu]?x+=`connection: keep-alive\r
`:x+=`connection: close\r
`,Array.isArray(u))for(let v=0;v<u.length;v+=2){let E=u[v+0],b=u[v+1];if(Array.isArray(b))for(let _=0;_<b.length;_++)x+=`${E}: ${b[_]}\r
`;else x+=`${E}: ${b}\r
`}return H9e.sendHeaders.hasSubscribers&&H9e.sendHeaders.publish({request:t,headers:x,socket:p}),!c||h===0?z9e(g,null,e,t,p,f,x,m):Hn.isBuffer(c)?z9e(g,c,e,t,p,f,x,m):Hn.isBlobLike(c)?typeof c.stream=="function"?Y9e(g,c.stream(),e,t,p,f,x,m):Jgt(g,c,e,t,p,f,x,m):Hn.isStream(c)?Kgt(g,c,e,t,p,f,x,m):Hn.isIterable(c)?Y9e(g,c,e,t,p,f,x,m):An(!1),!0}o(Ygt,"writeH1");function Kgt(e,t,r,n,i,s,a,l){An(s!==0||r[Mc]===0,"stream body cannot be pipelined");let c=!1,u=new YO({abort:e,socket:i,request:n,contentLength:s,client:r,expectsPayload:l,header:a}),f=o(function(g){if(!c)try{!u.write(g)&&this.pause&&this.pause()}catch(x){Hn.destroy(this,x)}},"onData"),m=o(function(){c||t.resume&&t.resume()},"onDrain"),h=o(function(){if(queueMicrotask(()=>{t.removeListener("error",p)}),!c){let g=new K9e;queueMicrotask(()=>p(g))}},"onClose"),p=o(function(g){if(!c){if(c=!0,An(i.destroyed||i[B5]&&r[Mc]<=1),i.off("drain",m).off("error",p),t.removeListener("data",f).removeListener("end",p).removeListener("close",h),!g)try{u.end()}catch(x){g=x}u.destroy(g),g&&(g.code!=="UND_ERR_INFO"||g.message!=="reset")?Hn.destroy(t,g):Hn.destroy(t)}},"onFinished");t.on("data",f).on("end",p).on("error",p).on("close",h),t.resume&&t.resume(),i.on("drain",m).on("error",p),t.errorEmitted??t.errored?setImmediate(()=>p(t.errored)):(t.endEmitted??t.readableEnded)&&setImmediate(()=>p(null)),(t.closeEmitted??t.closed)&&setImmediate(h)}o(Kgt,"writeStream");function z9e(e,t,r,n,i,s,a,l){try{t?Hn.isBuffer(t)&&(An(s===t.byteLength,"buffer body must have content length"),i.cork(),i.write(`${a}content-length: ${s}\r
\r
`,"latin1"),i.write(t),i.uncork(),n.onBodySent(t),!l&&n.reset!==!1&&(i[lu]=!0)):s===0?i.write(`${a}content-length: 0\r
\r
`,"latin1"):(An(s===null,"no body must not have content length"),i.write(`${a}\r
`,"latin1")),n.onRequestSent(),r[R5]()}catch(c){e(c)}}o(z9e,"writeBuffer");async function Jgt(e,t,r,n,i,s,a,l){An(s===t.size,"blob body must have content length");try{if(s!=null&&s!==t.size)throw new hx;let c=Buffer.from(await t.arrayBuffer());i.cork(),i.write(`${a}content-length: ${s}\r
\r
`,"latin1"),i.write(c),i.uncork(),n.onBodySent(c),n.onRequestSent(),!l&&n.reset!==!1&&(i[lu]=!0),r[R5]()}catch(c){e(c)}}o(Jgt,"writeBlob");async function Y9e(e,t,r,n,i,s,a,l){An(s!==0||r[Mc]===0,"iterator body cannot be pipelined");let c=null;function u(){if(c){let h=c;c=null,h()}}o(u,"onDrain");let f=o(()=>new Promise((h,p)=>{An(c===null),i[Nd]?p(i[Nd]):c=h}),"waitForDrain");i.on("close",u).on("drain",u);let m=new YO({abort:e,socket:i,request:n,contentLength:s,client:r,expectsPayload:l,header:a});try{for await(let h of t){if(i[Nd])throw i[Nd];m.write(h)||await f()}m.end()}catch(h){m.destroy(h)}finally{i.off("close",u).off("drain",u)}}o(Y9e,"writeIterable");var YO=class{static{o(this,"AsyncWriter")}constructor({abort:t,socket:r,request:n,contentLength:i,client:s,expectsPayload:a,header:l}){this.socket=r,this.request=n,this.contentLength=i,this.client=s,this.bytesWritten=0,this.expectsPayload=a,this.header=l,this.abort=t,r[B5]=!0}write(t){let{socket:r,request:n,contentLength:i,client:s,bytesWritten:a,expectsPayload:l,header:c}=this;if(r[Nd])throw r[Nd];if(r.destroyed)return!1;let u=Buffer.byteLength(t);if(!u)return!0;if(i!==null&&a+u>i){if(s[Dne])throw new hx;process.emitWarning(new hx)}r.cork(),a===0&&(!l&&n.reset!==!1&&(r[lu]=!0),i===null?r.write(`${c}transfer-encoding: chunked\r
`,"latin1"):r.write(`${c}content-length: ${i}\r
\r
`,"latin1")),i===null&&r.write(`\r
${u.toString(16)}\r
`,"latin1"),this.bytesWritten+=u;let f=r.write(t);return r.uncork(),n.onBodySent(t),f||r[sa].timeout&&r[sa].timeoutType===Q8&&r[sa].timeout.refresh&&r[sa].timeout.refresh(),f}end(){let{socket:t,contentLength:r,client:n,bytesWritten:i,expectsPayload:s,header:a,request:l}=this;if(l.onRequestSent(),t[B5]=!1,t[Nd])throw t[Nd];if(!t.destroyed){if(i===0?s?t.write(`${a}content-length: 0\r
\r
`,"latin1"):t.write(`${a}\r
`,"latin1"):r===null&&t.write(`\r
0\r
\r
`,"latin1"),r!==null&&i!==r){if(n[Dne])throw new hx;process.emitWarning(new hx)}t[sa].timeout&&t[sa].timeoutType===Q8&&t[sa].timeout.refresh&&t[sa].timeout.refresh(),n[R5]()}}destroy(t){let{socket:r,client:n,abort:i}=this;r[B5]=!1,t&&(An(n[Mc]<=1,"pipeline should only contain this request"),i(t))}};X9e.exports=Vgt});var l7e=j((bqr,a7e)=>{"use strict";d();var Ld=require("node:assert"),{pipeline:Zgt}=require("node:stream"),Ni=Ci(),{RequestContentLengthMismatchError:Lne,RequestAbortedError:t7e,SocketError:J_,InformationalError:Qne}=yo(),{kUrl:KO,kReset:ZO,kClient:M8,kRunning:XO,kPending:Xgt,kQueue:D5,kPendingIdx:Mne,kRunningIdx:lh,kError:uh,kSocket:Bl,kStrictContentLength:e1t,kOnError:One,kMaxConcurrentStreams:s7e,kHTTP2Session:ch,kResume:P5,kSize:t1t,kHTTPContext:r1t}=Ls(),mA=Symbol("open streams"),r7e,n7e=!1,JO;try{JO=require("node:http2")}catch{JO={constants:{}}}var{constants:{HTTP2_HEADER_AUTHORITY:n1t,HTTP2_HEADER_METHOD:i1t,HTTP2_HEADER_PATH:o1t,HTTP2_HEADER_SCHEME:s1t,HTTP2_HEADER_CONTENT_LENGTH:a1t,HTTP2_HEADER_EXPECT:l1t,HTTP2_HEADER_STATUS:c1t}}=JO;function u1t(e){let t=[];for(let[r,n]of Object.entries(e))if(Array.isArray(n))for(let i of n)t.push(Buffer.from(r),Buffer.from(i));else t.push(Buffer.from(r),Buffer.from(n));return t}o(u1t,"parseH2Headers");async function f1t(e,t){e[Bl]=t,n7e||(n7e=!0,process.emitWarning("H2 support is experimental, expect them to change at any time.",{code:"UNDICI-H2"}));let r=JO.connect(e[KO],{createConnection:o(()=>t,"createConnection"),peerMaxConcurrentStreams:e[s7e]});r[mA]=0,r[M8]=e,r[Bl]=t,Ni.addListener(r,"error",m1t),Ni.addListener(r,"frameError",h1t),Ni.addListener(r,"end",p1t),Ni.addListener(r,"goaway",g1t),Ni.addListener(r,"close",function(){let{[M8]:i}=this,{[Bl]:s}=i,a=this[Bl][uh]||this[uh]||new J_("closed",Ni.getSocketInfo(s));if(i[ch]=null,i.destroyed){Ld(i[Xgt]===0);let l=i[D5].splice(i[lh]);for(let c=0;c<l.length;c++){let u=l[c];Ni.errorRequest(i,u,a)}}}),r.unref(),e[ch]=r,t[ch]=r,Ni.addListener(t,"error",function(i){Ld(i.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),this[uh]=i,this[M8][One](i)}),Ni.addListener(t,"end",function(){Ni.destroy(this,new J_("other side closed",Ni.getSocketInfo(this)))}),Ni.addListener(t,"close",function(){let i=this[uh]||new J_("closed",Ni.getSocketInfo(this));e[Bl]=null,this[ch]!=null&&this[ch].destroy(i),e[Mne]=e[lh],Ld(e[XO]===0),e.emit("disconnect",e[KO],[e],i),e[P5]()});let n=!1;return t.on("close",()=>{n=!0}),{version:"h2",defaultPipelining:1/0,write(...i){return y1t(e,...i)},resume(){d1t(e)},destroy(i,s){n?queueMicrotask(s):t.destroy(i).on("close",s)},get destroyed(){return t.destroyed},busy(){return!1}}}o(f1t,"connectH2");function d1t(e){let t=e[Bl];t?.destroyed===!1&&(e[t1t]===0&&e[s7e]===0?(t.unref(),e[ch].unref()):(t.ref(),e[ch].ref()))}o(d1t,"resumeH2");function m1t(e){Ld(e.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),this[Bl][uh]=e,this[M8][One](e)}o(m1t,"onHttp2SessionError");function h1t(e,t,r){if(r===0){let n=new Qne(`HTTP/2: "frameError" received - type ${e}, code ${t}`);this[Bl][uh]=n,this[M8][One](n)}}o(h1t,"onHttp2FrameError");function p1t(){let e=new J_("other side closed",Ni.getSocketInfo(this[Bl]));this.destroy(e),Ni.destroy(this[Bl],e)}o(p1t,"onHttp2SessionEnd");function g1t(e){let t=this[uh]||new J_(`HTTP/2: "GOAWAY" frame received with code ${e}`,Ni.getSocketInfo(this)),r=this[M8];if(r[Bl]=null,r[r1t]=null,this[ch]!=null&&(this[ch].destroy(t),this[ch]=null),Ni.destroy(this[Bl],t),r[lh]<r[D5].length){let n=r[D5][r[lh]];r[D5][r[lh]++]=null,Ni.errorRequest(r,n,t),r[Mne]=r[lh]}Ld(r[XO]===0),r.emit("disconnect",r[KO],[r],t),r[P5]()}o(g1t,"onHTTP2GoAway");function A1t(e){return e!=="GET"&&e!=="HEAD"&&e!=="OPTIONS"&&e!=="TRACE"&&e!=="CONNECT"}o(A1t,"shouldSendContentLength");function y1t(e,t){let r=e[ch],{method:n,path:i,host:s,upgrade:a,expectContinue:l,signal:c,headers:u}=t,{body:f}=t;if(a)return Ni.errorRequest(e,t,new Error("Upgrade not supported for H2")),!1;let m={};for(let R=0;R<u.length;R+=2){let P=u[R+0],F=u[R+1];if(Array.isArray(F))for(let G=0;G<F.length;G++)m[P]?m[P]+=`,${F[G]}`:m[P]=F[G];else m[P]=F}let h,{hostname:p,port:g}=e[KO];m[n1t]=s||`${p}${g?`:${g}`:""}`,m[i1t]=n;let x=o(R=>{t.aborted||t.completed||(R=R||new t7e,Ni.errorRequest(e,t,R),h!=null&&Ni.destroy(h,R),Ni.destroy(f,R),e[D5][e[lh]++]=null,e[P5]())},"abort");try{t.onConnect(x)}catch(R){Ni.errorRequest(e,t,R)}if(t.aborted)return!1;if(n==="CONNECT")return r.ref(),h=r.request(m,{endStream:!1,signal:c}),h.id&&!h.pending?(t.onUpgrade(null,null,h),++r[mA],e[D5][e[lh]++]=null):h.once("ready",()=>{t.onUpgrade(null,null,h),++r[mA],e[D5][e[lh]++]=null}),h.once("close",()=>{r[mA]-=1,r[mA]===0&&r.unref()}),!0;m[o1t]=i,m[s1t]="https";let v=n==="PUT"||n==="POST"||n==="PATCH";f&&typeof f.read=="function"&&f.read(0);let E=Ni.bodyLength(f);if(Ni.isFormDataLike(f)){r7e??=F8().extractBody;let[R,P]=r7e(f);m["content-type"]=P,f=R.stream,E=R.length}if(E==null&&(E=t.contentLength),(E===0||!v)&&(E=null),A1t(n)&&E>0&&t.contentLength!=null&&t.contentLength!==E){if(e[e1t])return Ni.errorRequest(e,t,new Lne),!1;process.emitWarning(new Lne)}E!=null&&(Ld(f,"no body must not have content length"),m[a1t]=`${E}`),r.ref();let b=n==="GET"||n==="HEAD"||f===null;return l?(m[l1t]="100-continue",h=r.request(m,{endStream:b,signal:c}),h.once("continue",_)):(h=r.request(m,{endStream:b,signal:c}),_()),++r[mA],h.once("response",R=>{let{[c1t]:P,...F}=R;if(t.onResponseStarted(),t.aborted){let G=new t7e;Ni.errorRequest(e,t,G),Ni.destroy(h,G);return}t.onHeaders(Number(P),u1t(F),h.resume.bind(h),"")===!1&&h.pause(),h.on("data",G=>{t.onData(G)===!1&&h.pause()})}),h.once("end",()=>{(h.state?.state==null||h.state.state<6)&&t.onComplete([]),r[mA]===0&&r.unref(),x(new Qne("HTTP/2: stream half-closed (remote)")),e[D5][e[lh]++]=null,e[Mne]=e[lh],e[P5]()}),h.once("close",()=>{r[mA]-=1,r[mA]===0&&r.unref()}),h.once("error",function(R){x(R)}),h.once("frameError",(R,P)=>{x(new Qne(`HTTP/2: "frameError" received - type ${R}, code ${P}`))}),!0;function _(){!f||E===0?i7e(x,h,null,e,t,e[Bl],E,v):Ni.isBuffer(f)?i7e(x,h,f,e,t,e[Bl],E,v):Ni.isBlobLike(f)?typeof f.stream=="function"?o7e(x,h,f.stream(),e,t,e[Bl],E,v):x1t(x,h,f,e,t,e[Bl],E,v):Ni.isStream(f)?C1t(x,e[Bl],v,h,f,e,t,E):Ni.isIterable(f)?o7e(x,h,f,e,t,e[Bl],E,v):Ld(!1)}o(_,"writeBodyH2")}o(y1t,"writeH2");function i7e(e,t,r,n,i,s,a,l){try{r!=null&&Ni.isBuffer(r)&&(Ld(a===r.byteLength,"buffer body must have content length"),t.cork(),t.write(r),t.uncork(),t.end(),i.onBodySent(r)),l||(s[ZO]=!0),i.onRequestSent(),n[P5]()}catch(c){e(c)}}o(i7e,"writeBuffer");function C1t(e,t,r,n,i,s,a,l){Ld(l!==0||s[XO]===0,"stream body cannot be pipelined");let c=Zgt(i,n,f=>{f?(Ni.destroy(c,f),e(f)):(Ni.removeAllListeners(c),a.onRequestSent(),r||(t[ZO]=!0),s[P5]())});Ni.addListener(c,"data",u);function u(f){a.onBodySent(f)}o(u,"onPipeData")}o(C1t,"writeStream");async function x1t(e,t,r,n,i,s,a,l){Ld(a===r.size,"blob body must have content length");try{if(a!=null&&a!==r.size)throw new Lne;let c=Buffer.from(await r.arrayBuffer());t.cork(),t.write(c),t.uncork(),t.end(),i.onBodySent(c),i.onRequestSent(),l||(s[ZO]=!0),n[P5]()}catch(c){e(c)}}o(x1t,"writeBlob");async function o7e(e,t,r,n,i,s,a,l){Ld(a!==0||n[XO]===0,"iterator body cannot be pipelined");let c=null;function u(){if(c){let m=c;c=null,m()}}o(u,"onDrain");let f=o(()=>new Promise((m,h)=>{Ld(c===null),s[uh]?h(s[uh]):c=m}),"waitForDrain");t.on("close",u).on("drain",u);try{for await(let m of r){if(s[uh])throw s[uh];let h=t.write(m);i.onBodySent(m),h||await f()}t.end(),i.onRequestSent(),l||(s[ZO]=!0),n[P5]()}catch(m){e(m)}finally{t.off("close",u).off("drain",u)}}o(o7e,"writeIterable");a7e.exports=f1t});var tU=j((Tqr,f7e)=>{"use strict";d();var eg=Ci(),{kBodyUsed:Z_}=Ls(),qne=require("node:assert"),{InvalidArgumentError:v1t}=yo(),b1t=require("node:events"),E1t=[300,301,302,303,307,308],c7e=Symbol("body"),eU=class{static{o(this,"BodyAsyncIterable")}constructor(t){this[c7e]=t,this[Z_]=!1}async*[Symbol.asyncIterator](){qne(!this[Z_],"disturbed"),this[Z_]=!0,yield*this[c7e]}},Une=class{static{o(this,"RedirectHandler")}constructor(t,r,n,i){if(r!=null&&(!Number.isInteger(r)||r<0))throw new v1t("maxRedirections must be a positive number");eg.validateHandler(i,n.method,n.upgrade),this.dispatch=t,this.location=null,this.abort=null,this.opts={...n,maxRedirections:0},this.maxRedirections=r,this.handler=i,this.history=[],this.redirectionLimitReached=!1,eg.isStream(this.opts.body)?(eg.bodyLength(this.opts.body)===0&&this.opts.body.on("data",function(){qne(!1)}),typeof this.opts.body.readableDidRead!="boolean"&&(this.opts.body[Z_]=!1,b1t.prototype.on.call(this.opts.body,"data",function(){this[Z_]=!0}))):this.opts.body&&typeof this.opts.body.pipeTo=="function"?this.opts.body=new eU(this.opts.body):this.opts.body&&typeof this.opts.body!="string"&&!ArrayBuffer.isView(this.opts.body)&&eg.isIterable(this.opts.body)&&(this.opts.body=new eU(this.opts.body))}onConnect(t){this.abort=t,this.handler.onConnect(t,{history:this.history})}onUpgrade(t,r,n){this.handler.onUpgrade(t,r,n)}onError(t){this.handler.onError(t)}onHeaders(t,r,n,i){if(this.location=this.history.length>=this.maxRedirections||eg.isDisturbed(this.opts.body)?null:I1t(t,r),this.opts.throwOnMaxRedirect&&this.history.length>=this.maxRedirections){this.request&&this.request.abort(new Error("max redirects")),this.redirectionLimitReached=!0,this.abort(new Error("max redirects"));return}if(this.opts.origin&&this.history.push(new URL(this.opts.path,this.opts.origin)),!this.location)return this.handler.onHeaders(t,r,n,i);let{origin:s,pathname:a,search:l}=eg.parseURL(new URL(this.location,this.opts.origin&&new URL(this.opts.path,this.opts.origin))),c=l?`${a}${l}`:a;this.opts.headers=T1t(this.opts.headers,t===303,this.opts.origin!==s),this.opts.path=c,this.opts.origin=s,this.opts.maxRedirections=0,this.opts.query=null,t===303&&this.opts.method!=="HEAD"&&(this.opts.method="GET",this.opts.body=null)}onData(t){if(!this.location)return this.handler.onData(t)}onComplete(t){this.location?(this.location=null,this.abort=null,this.dispatch(this.opts,this)):this.handler.onComplete(t)}onBodySent(t){this.handler.onBodySent&&this.handler.onBodySent(t)}};function I1t(e,t){if(E1t.indexOf(e)===-1)return null;for(let r=0;r<t.length;r+=2)if(t[r].length===8&&eg.headerNameToString(t[r])==="location")return t[r+1]}o(I1t,"parseLocation");function u7e(e,t,r){if(e.length===4)return eg.headerNameToString(e)==="host";if(t&&eg.headerNameToString(e).startsWith("content-"))return!0;if(r&&(e.length===13||e.length===6||e.length===19)){let n=eg.headerNameToString(e);return n==="authorization"||n==="cookie"||n==="proxy-authorization"}return!1}o(u7e,"shouldRemoveHeader");function T1t(e,t,r){let n=[];if(Array.isArray(e))for(let i=0;i<e.length;i+=2)u7e(e[i],t,r)||n.push(e[i],e[i+1]);else if(e&&typeof e=="object")for(let i of Object.keys(e))u7e(i,t,r)||n.push(i,e[i]);else qne(e==null,"headers must be an object or an array");return n}o(T1t,"cleanRequestHeaders");f7e.exports=Une});var rU=j((Sqr,d7e)=>{"use strict";d();var w1t=tU();function _1t({maxRedirections:e}){return t=>o(function(n,i){let{maxRedirections:s=e}=n;if(!s)return t(n,i);let a=new w1t(t,s,n,i);return n={...n,maxRedirections:0},t(n,a)},"Intercept")}o(_1t,"createRedirectInterceptor");d7e.exports=_1t});var oS=j((Bqr,b7e)=>{"use strict";d();var hA=require("node:assert"),y7e=require("node:net"),S1t=require("node:http"),px=Ci(),{channels:O8}=v8(),k1t=k6e(),R1t=T8(),{InvalidArgumentError:_a,InformationalError:B1t,ClientDestroyedError:D1t}=yo(),P1t=O_(),{kUrl:tg,kServerName:F5,kClient:F1t,kBusy:Wne,kConnect:N1t,kResuming:gx,kRunning:nS,kPending:iS,kSize:rS,kQueue:fh,kConnected:L1t,kConnecting:U8,kNeedDrain:L5,kKeepAliveDefaultTimeout:m7e,kHostHeader:Q1t,kPendingIdx:dh,kRunningIdx:pA,kError:M1t,kPipelining:nU,kKeepAliveTimeoutValue:O1t,kMaxHeadersSize:U1t,kKeepAliveMaxTimeout:q1t,kKeepAliveTimeoutThreshold:W1t,kHeadersTimeout:G1t,kBodyTimeout:H1t,kStrictContentLength:j1t,kConnector:X_,kMaxRedirections:V1t,kMaxRequests:Gne,kCounter:$1t,kClose:z1t,kDestroy:Y1t,kDispatch:K1t,kInterceptors:h7e,kLocalAddress:eS,kMaxResponseSize:J1t,kOnError:Z1t,kHTTPContext:Sa,kMaxConcurrentStreams:X1t,kResume:tS}=Ls(),eAt=e7e(),tAt=l7e(),p7e=!1,N5=Symbol("kClosedResolve"),g7e=o(()=>{},"noop");function C7e(e){return e[nU]??e[Sa]?.defaultPipelining??1}o(C7e,"getPipelining");var Hne=class extends R1t{static{o(this,"Client")}constructor(t,{interceptors:r,maxHeaderSize:n,headersTimeout:i,socketTimeout:s,requestTimeout:a,connectTimeout:l,bodyTimeout:c,idleTimeout:u,keepAlive:f,keepAliveTimeout:m,maxKeepAliveTimeout:h,keepAliveMaxTimeout:p,keepAliveTimeoutThreshold:g,socketPath:x,pipelining:v,tls:E,strictContentLength:b,maxCachedSessions:_,maxRedirections:R,connect:P,maxRequestsPerClient:F,localAddress:G,maxResponseSize:se,autoSelectFamily:Ae,autoSelectFamilyAttemptTimeout:re,maxConcurrentStreams:W,allowH2:q}={}){if(super(),f!==void 0)throw new _a("unsupported keepAlive, use pipelining=0 instead");if(s!==void 0)throw new _a("unsupported socketTimeout, use headersTimeout & bodyTimeout instead");if(a!==void 0)throw new _a("unsupported requestTimeout, use headersTimeout & bodyTimeout instead");if(u!==void 0)throw new _a("unsupported idleTimeout, use keepAliveTimeout instead");if(h!==void 0)throw new _a("unsupported maxKeepAliveTimeout, use keepAliveMaxTimeout instead");if(n!=null&&!Number.isFinite(n))throw new _a("invalid maxHeaderSize");if(x!=null&&typeof x!="string")throw new _a("invalid socketPath");if(l!=null&&(!Number.isFinite(l)||l<0))throw new _a("invalid connectTimeout");if(m!=null&&(!Number.isFinite(m)||m<=0))throw new _a("invalid keepAliveTimeout");if(p!=null&&(!Number.isFinite(p)||p<=0))throw new _a("invalid keepAliveMaxTimeout");if(g!=null&&!Number.isFinite(g))throw new _a("invalid keepAliveTimeoutThreshold");if(i!=null&&(!Number.isInteger(i)||i<0))throw new _a("headersTimeout must be a positive integer or zero");if(c!=null&&(!Number.isInteger(c)||c<0))throw new _a("bodyTimeout must be a positive integer or zero");if(P!=null&&typeof P!="function"&&typeof P!="object")throw new _a("connect must be a function or an object");if(R!=null&&(!Number.isInteger(R)||R<0))throw new _a("maxRedirections must be a positive number");if(F!=null&&(!Number.isInteger(F)||F<0))throw new _a("maxRequestsPerClient must be a positive number");if(G!=null&&(typeof G!="string"||y7e.isIP(G)===0))throw new _a("localAddress must be valid string IP address");if(se!=null&&(!Number.isInteger(se)||se<-1))throw new _a("maxResponseSize must be a positive number");if(re!=null&&(!Number.isInteger(re)||re<-1))throw new _a("autoSelectFamilyAttemptTimeout must be a positive number");if(q!=null&&typeof q!="boolean")throw new _a("allowH2 must be a valid boolean value");if(W!=null&&(typeof W!="number"||W<1))throw new _a("maxConcurrentStreams must be a positive integer, greater than 0");typeof P!="function"&&(P=P1t({...E,maxCachedSessions:_,allowH2:q,socketPath:x,timeout:l,...Ae?{autoSelectFamily:Ae,autoSelectFamilyAttemptTimeout:re}:void 0,...P})),r?.Client&&Array.isArray(r.Client)?(this[h7e]=r.Client,p7e||(p7e=!0,process.emitWarning("Client.Options#interceptor is deprecated. Use Dispatcher#compose instead.",{code:"UNDICI-CLIENT-INTERCEPTOR-DEPRECATED"}))):this[h7e]=[rAt({maxRedirections:R})],this[tg]=px.parseOrigin(t),this[X_]=P,this[nU]=v??1,this[U1t]=n||S1t.maxHeaderSize,this[m7e]=m??4e3,this[q1t]=p??6e5,this[W1t]=g??2e3,this[O1t]=this[m7e],this[F5]=null,this[eS]=G??null,this[gx]=0,this[L5]=0,this[Q1t]=`host: ${this[tg].hostname}${this[tg].port?`:${this[tg].port}`:""}\r
`,this[H1t]=c??3e5,this[G1t]=i??3e5,this[j1t]=b??!0,this[V1t]=R,this[Gne]=F,this[N5]=null,this[J1t]=se>-1?se:-1,this[X1t]=W??100,this[Sa]=null,this[fh]=[],this[pA]=0,this[dh]=0,this[tS]=oe=>jne(this,oe),this[Z1t]=oe=>x7e(this,oe)}get pipelining(){return this[nU]}set pipelining(t){this[nU]=t,this[tS](!0)}get[iS](){return this[fh].length-this[dh]}get[nS](){return this[dh]-this[pA]}get[rS](){return this[fh].length-this[pA]}get[L1t](){return!!this[Sa]&&!this[U8]&&!this[Sa].destroyed}get[Wne](){return!!(this[Sa]?.busy(null)||this[rS]>=(C7e(this)||1)||this[iS]>0)}[N1t](t){v7e(this),this.once("connect",t)}[K1t](t,r){let n=t.origin||this[tg].origin,i=new k1t(n,t,r);return this[fh].push(i),this[gx]||(px.bodyLength(i.body)==null&&px.isIterable(i.body)?(this[gx]=1,queueMicrotask(()=>jne(this))):this[tS](!0)),this[gx]&&this[L5]!==2&&this[Wne]&&(this[L5]=2),this[L5]<2}async[z1t](){return new Promise(t=>{this[rS]?this[N5]=t:t(null)})}async[Y1t](t){return new Promise(r=>{let n=this[fh].splice(this[dh]);for(let s=0;s<n.length;s++){let a=n[s];px.errorRequest(this,a,t)}let i=o(()=>{this[N5]&&(this[N5](),this[N5]=null),r(null)},"callback");this[Sa]?(this[Sa].destroy(t,i),this[Sa]=null):queueMicrotask(i),this[tS]()})}},rAt=rU();function x7e(e,t){if(e[nS]===0&&t.code!=="UND_ERR_INFO"&&t.code!=="UND_ERR_SOCKET"){hA(e[dh]===e[pA]);let r=e[fh].splice(e[pA]);for(let n=0;n<r.length;n++){let i=r[n];px.errorRequest(e,i,t)}hA(e[rS]===0)}}o(x7e,"onError");async function v7e(e){hA(!e[U8]),hA(!e[Sa]);let{host:t,hostname:r,protocol:n,port:i}=e[tg];if(r[0]==="["){let s=r.indexOf("]");hA(s!==-1);let a=r.substring(1,s);hA(y7e.isIP(a)),r=a}e[U8]=!0,O8.beforeConnect.hasSubscribers&&O8.beforeConnect.publish({connectParams:{host:t,hostname:r,protocol:n,port:i,version:e[Sa]?.version,servername:e[F5],localAddress:e[eS]},connector:e[X_]});try{let s=await new Promise((a,l)=>{e[X_]({host:t,hostname:r,protocol:n,port:i,servername:e[F5],localAddress:e[eS]},(c,u)=>{c?l(c):a(u)})});if(e.destroyed){px.destroy(s.on("error",g7e),new D1t);return}hA(s);try{e[Sa]=s.alpnProtocol==="h2"?await tAt(e,s):await eAt(e,s)}catch(a){throw s.destroy().on("error",g7e),a}e[U8]=!1,s[$1t]=0,s[Gne]=e[Gne],s[F1t]=e,s[M1t]=null,O8.connected.hasSubscribers&&O8.connected.publish({connectParams:{host:t,hostname:r,protocol:n,port:i,version:e[Sa]?.version,servername:e[F5],localAddress:e[eS]},connector:e[X_],socket:s}),e.emit("connect",e[tg],[e])}catch(s){if(e.destroyed)return;if(e[U8]=!1,O8.connectError.hasSubscribers&&O8.connectError.publish({connectParams:{host:t,hostname:r,protocol:n,port:i,version:e[Sa]?.version,servername:e[F5],localAddress:e[eS]},connector:e[X_],error:s}),s.code==="ERR_TLS_CERT_ALTNAME_INVALID")for(hA(e[nS]===0);e[iS]>0&&e[fh][e[dh]].servername===e[F5];){let a=e[fh][e[dh]++];px.errorRequest(e,a,s)}else x7e(e,s);e.emit("connectionError",e[tg],[e],s)}e[tS]()}o(v7e,"connect");function A7e(e){e[L5]=0,e.emit("drain",e[tg],[e])}o(A7e,"emitDrain");function jne(e,t){e[gx]!==2&&(e[gx]=2,nAt(e,t),e[gx]=0,e[pA]>256&&(e[fh].splice(0,e[pA]),e[dh]-=e[pA],e[pA]=0))}o(jne,"resume");function nAt(e,t){for(;;){if(e.destroyed){hA(e[iS]===0);return}if(e[N5]&&!e[rS]){e[N5](),e[N5]=null;return}if(e[Sa]&&e[Sa].resume(),e[Wne])e[L5]=2;else if(e[L5]===2){t?(e[L5]=1,queueMicrotask(()=>A7e(e))):A7e(e);continue}if(e[iS]===0||e[nS]>=(C7e(e)||1))return;let r=e[fh][e[dh]];if(e[tg].protocol==="https:"&&e[F5]!==r.servername){if(e[nS]>0)return;e[F5]=r.servername,e[Sa]?.destroy(new B1t("servername changed"),()=>{e[Sa]=null,jne(e)})}if(e[U8])return;if(!e[Sa]){v7e(e);return}if(e[Sa].destroyed||e[Sa].busy(r))return;!r.aborted&&e[Sa].write(r)?e[dh]++:e[fh].splice(e[dh],1)}}o(nAt,"_resume");b7e.exports=Hne});var Vne=j((Nqr,E7e)=>{"use strict";d();var iU=class{static{o(this,"FixedCircularBuffer")}constructor(){this.bottom=0,this.top=0,this.list=new Array(2048),this.next=null}isEmpty(){return this.top===this.bottom}isFull(){return(this.top+1&2047)===this.bottom}push(t){this.list[this.top]=t,this.top=this.top+1&2047}shift(){let t=this.list[this.bottom];return t===void 0?null:(this.list[this.bottom]=void 0,this.bottom=this.bottom+1&2047,t)}};E7e.exports=class{static{o(this,"FixedQueue")}constructor(){this.head=this.tail=new iU}isEmpty(){return this.head.isEmpty()}push(t){this.head.isFull()&&(this.head=this.head.next=new iU),this.head.push(t)}shift(){let t=this.tail,r=t.shift();return t.isEmpty()&&t.next!==null&&(this.tail=t.next),r}}});var T7e=j((Mqr,I7e)=>{d();var{kFree:iAt,kConnected:oAt,kPending:sAt,kQueued:aAt,kRunning:lAt,kSize:cAt}=Ls(),Ax=Symbol("pool"),$ne=class{static{o(this,"PoolStats")}constructor(t){this[Ax]=t}get connected(){return this[Ax][oAt]}get free(){return this[Ax][iAt]}get pending(){return this[Ax][sAt]}get queued(){return this[Ax][aAt]}get running(){return this[Ax][lAt]}get size(){return this[Ax][cAt]}};I7e.exports=$ne});var Xne=j((qqr,N7e)=>{"use strict";d();var uAt=T8(),fAt=Vne(),{kConnected:zne,kSize:w7e,kRunning:_7e,kPending:S7e,kQueued:sS,kBusy:dAt,kFree:mAt,kUrl:hAt,kClose:pAt,kDestroy:gAt,kDispatch:AAt}=Ls(),yAt=T7e(),cu=Symbol("clients"),m0=Symbol("needDrain"),aS=Symbol("queue"),Yne=Symbol("closed resolve"),Kne=Symbol("onDrain"),k7e=Symbol("onConnect"),R7e=Symbol("onDisconnect"),B7e=Symbol("onConnectionError"),Jne=Symbol("get dispatcher"),P7e=Symbol("add client"),F7e=Symbol("remove client"),D7e=Symbol("stats"),Zne=class extends uAt{static{o(this,"PoolBase")}constructor(){super(),this[aS]=new fAt,this[cu]=[],this[sS]=0;let t=this;this[Kne]=o(function(n,i){let s=t[aS],a=!1;for(;!a;){let l=s.shift();if(!l)break;t[sS]--,a=!this.dispatch(l.opts,l.handler)}this[m0]=a,!this[m0]&&t[m0]&&(t[m0]=!1,t.emit("drain",n,[t,...i])),t[Yne]&&s.isEmpty()&&Promise.all(t[cu].map(l=>l.close())).then(t[Yne])},"onDrain"),this[k7e]=(r,n)=>{t.emit("connect",r,[t,...n])},this[R7e]=(r,n,i)=>{t.emit("disconnect",r,[t,...n],i)},this[B7e]=(r,n,i)=>{t.emit("connectionError",r,[t,...n],i)},this[D7e]=new yAt(this)}get[dAt](){return this[m0]}get[zne](){return this[cu].filter(t=>t[zne]).length}get[mAt](){return this[cu].filter(t=>t[zne]&&!t[m0]).length}get[S7e](){let t=this[sS];for(let{[S7e]:r}of this[cu])t+=r;return t}get[_7e](){let t=0;for(let{[_7e]:r}of this[cu])t+=r;return t}get[w7e](){let t=this[sS];for(let{[w7e]:r}of this[cu])t+=r;return t}get stats(){return this[D7e]}async[pAt](){this[aS].isEmpty()?await Promise.all(this[cu].map(t=>t.close())):await new Promise(t=>{this[Yne]=t})}async[gAt](t){for(;;){let r=this[aS].shift();if(!r)break;r.handler.onError(t)}await Promise.all(this[cu].map(r=>r.destroy(t)))}[AAt](t,r){let n=this[Jne]();return n?n.dispatch(t,r)||(n[m0]=!0,this[m0]=!this[Jne]()):(this[m0]=!0,this[aS].push({opts:t,handler:r}),this[sS]++),!this[m0]}[P7e](t){return t.on("drain",this[Kne]).on("connect",this[k7e]).on("disconnect",this[R7e]).on("connectionError",this[B7e]),this[cu].push(t),this[m0]&&queueMicrotask(()=>{this[m0]&&this[Kne](t[hAt],[this,t])}),this}[F7e](t){t.close(()=>{let r=this[cu].indexOf(t);r!==-1&&this[cu].splice(r,1)}),this[m0]=this[cu].some(r=>!r[m0]&&r.closed!==!0&&r.destroyed!==!0)}};N7e.exports={PoolBase:Zne,kClients:cu,kNeedDrain:m0,kAddClient:P7e,kRemoveClient:F7e,kGetDispatcher:Jne}});var q8=j((Hqr,U7e)=>{"use strict";d();var{PoolBase:CAt,kClients:L7e,kNeedDrain:xAt,kAddClient:vAt,kGetDispatcher:bAt}=Xne(),EAt=oS(),{InvalidArgumentError:eie}=yo(),Q7e=Ci(),{kUrl:M7e,kInterceptors:IAt}=Ls(),TAt=O_(),tie=Symbol("options"),rie=Symbol("connections"),O7e=Symbol("factory");function wAt(e,t){return new EAt(e,t)}o(wAt,"defaultFactory");var nie=class extends CAt{static{o(this,"Pool")}constructor(t,{connections:r,factory:n=wAt,connect:i,connectTimeout:s,tls:a,maxCachedSessions:l,socketPath:c,autoSelectFamily:u,autoSelectFamilyAttemptTimeout:f,allowH2:m,...h}={}){if(super(),r!=null&&(!Number.isFinite(r)||r<0))throw new eie("invalid connections");if(typeof n!="function")throw new eie("factory must be a function.");if(i!=null&&typeof i!="function"&&typeof i!="object")throw new eie("connect must be a function or an object");typeof i!="function"&&(i=TAt({...a,maxCachedSessions:l,allowH2:m,socketPath:c,timeout:s,...u?{autoSelectFamily:u,autoSelectFamilyAttemptTimeout:f}:void 0,...i})),this[IAt]=h.interceptors?.Pool&&Array.isArray(h.interceptors.Pool)?h.interceptors.Pool:[],this[rie]=r||null,this[M7e]=Q7e.parseOrigin(t),this[tie]={...Q7e.deepClone(h),connect:i,allowH2:m},this[tie].interceptors=h.interceptors?{...h.interceptors}:void 0,this[O7e]=n}[bAt](){for(let t of this[L7e])if(!t[xAt])return t;if(!this[rie]||this[L7e].length<this[rie]){let t=this[O7e](this[M7e],this[tie]);return this[vAt](t),t}}};U7e.exports=nie});var j7e=j(($qr,H7e)=>{"use strict";d();var{BalancedPoolMissingUpstreamError:_At,InvalidArgumentError:SAt}=yo(),{PoolBase:kAt,kClients:Oc,kNeedDrain:lS,kAddClient:RAt,kRemoveClient:BAt,kGetDispatcher:DAt}=Xne(),PAt=q8(),{kUrl:iie,kInterceptors:FAt}=Ls(),{parseOrigin:q7e}=Ci(),W7e=Symbol("factory"),oU=Symbol("options"),G7e=Symbol("kGreatestCommonDivisor"),yx=Symbol("kCurrentWeight"),Cx=Symbol("kIndex"),Qd=Symbol("kWeight"),sU=Symbol("kMaxWeightPerServer"),aU=Symbol("kErrorPenalty");function NAt(e,t){if(e===0)return t;for(;t!==0;){let r=t;t=e%t,e=r}return e}o(NAt,"getGreatestCommonDivisor");function LAt(e,t){return new PAt(e,t)}o(LAt,"defaultFactory");var oie=class extends kAt{static{o(this,"BalancedPool")}constructor(t=[],{factory:r=LAt,...n}={}){if(super(),this[oU]=n,this[Cx]=-1,this[yx]=0,this[sU]=this[oU].maxWeightPerServer||100,this[aU]=this[oU].errorPenalty||15,Array.isArray(t)||(t=[t]),typeof r!="function")throw new SAt("factory must be a function.");this[FAt]=n.interceptors?.BalancedPool&&Array.isArray(n.interceptors.BalancedPool)?n.interceptors.BalancedPool:[],this[W7e]=r;for(let i of t)this.addUpstream(i);this._updateBalancedPoolStats()}addUpstream(t){let r=q7e(t).origin;if(this[Oc].find(i=>i[iie].origin===r&&i.closed!==!0&&i.destroyed!==!0))return this;let n=this[W7e](r,Object.assign({},this[oU]));this[RAt](n),n.on("connect",()=>{n[Qd]=Math.min(this[sU],n[Qd]+this[aU])}),n.on("connectionError",()=>{n[Qd]=Math.max(1,n[Qd]-this[aU]),this._updateBalancedPoolStats()}),n.on("disconnect",(...i)=>{let s=i[2];s&&s.code==="UND_ERR_SOCKET"&&(n[Qd]=Math.max(1,n[Qd]-this[aU]),this._updateBalancedPoolStats())});for(let i of this[Oc])i[Qd]=this[sU];return this._updateBalancedPoolStats(),this}_updateBalancedPoolStats(){let t=0;for(let r=0;r<this[Oc].length;r++)t=NAt(this[Oc][r][Qd],t);this[G7e]=t}removeUpstream(t){let r=q7e(t).origin,n=this[Oc].find(i=>i[iie].origin===r&&i.closed!==!0&&i.destroyed!==!0);return n&&this[BAt](n),this}get upstreams(){return this[Oc].filter(t=>t.closed!==!0&&t.destroyed!==!0).map(t=>t[iie].origin)}[DAt](){if(this[Oc].length===0)throw new _At;if(!this[Oc].find(s=>!s[lS]&&s.closed!==!0&&s.destroyed!==!0)||this[Oc].map(s=>s[lS]).reduce((s,a)=>s&&a,!0))return;let n=0,i=this[Oc].findIndex(s=>!s[lS]);for(;n++<this[Oc].length;){this[Cx]=(this[Cx]+1)%this[Oc].length;let s=this[Oc][this[Cx]];if(s[Qd]>this[Oc][i][Qd]&&!s[lS]&&(i=this[Cx]),this[Cx]===0&&(this[yx]=this[yx]-this[G7e],this[yx]<=0&&(this[yx]=this[sU])),s[Qd]>=this[yx]&&!s[lS])return s}return this[yx]=this[Oc][i][Qd],this[Cx]=i,this[Oc][i]}};H7e.exports=oie});var W8=j((Kqr,Z7e)=>{"use strict";d();var{InvalidArgumentError:lU}=yo(),{kClients:Q5,kRunning:V7e,kClose:QAt,kDestroy:MAt,kDispatch:OAt,kInterceptors:UAt}=Ls(),qAt=T8(),WAt=q8(),GAt=oS(),HAt=Ci(),jAt=rU(),$7e=Symbol("onConnect"),z7e=Symbol("onDisconnect"),Y7e=Symbol("onConnectionError"),VAt=Symbol("maxRedirections"),K7e=Symbol("onDrain"),J7e=Symbol("factory"),sie=Symbol("options");function $At(e,t){return t&&t.connections===1?new GAt(e,t):new WAt(e,t)}o($At,"defaultFactory");var aie=class extends qAt{static{o(this,"Agent")}constructor({factory:t=$At,maxRedirections:r=0,connect:n,...i}={}){if(super(),typeof t!="function")throw new lU("factory must be a function.");if(n!=null&&typeof n!="function"&&typeof n!="object")throw new lU("connect must be a function or an object");if(!Number.isInteger(r)||r<0)throw new lU("maxRedirections must be a positive number");n&&typeof n!="function"&&(n={...n}),this[UAt]=i.interceptors?.Agent&&Array.isArray(i.interceptors.Agent)?i.interceptors.Agent:[jAt({maxRedirections:r})],this[sie]={...HAt.deepClone(i),connect:n},this[sie].interceptors=i.interceptors?{...i.interceptors}:void 0,this[VAt]=r,this[J7e]=t,this[Q5]=new Map,this[K7e]=(s,a)=>{this.emit("drain",s,[this,...a])},this[$7e]=(s,a)=>{this.emit("connect",s,[this,...a])},this[z7e]=(s,a,l)=>{this.emit("disconnect",s,[this,...a],l)},this[Y7e]=(s,a,l)=>{this.emit("connectionError",s,[this,...a],l)}}get[V7e](){let t=0;for(let r of this[Q5].values())t+=r[V7e];return t}[OAt](t,r){let n;if(t.origin&&(typeof t.origin=="string"||t.origin instanceof URL))n=String(t.origin);else throw new lU("opts.origin must be a non-empty string or URL.");let i=this[Q5].get(n);return i||(i=this[J7e](t.origin,this[sie]).on("drain",this[K7e]).on("connect",this[$7e]).on("disconnect",this[z7e]).on("connectionError",this[Y7e]),this[Q5].set(n,i)),i.dispatch(t,r)}async[QAt](){let t=[];for(let r of this[Q5].values())t.push(r.close());this[Q5].clear(),await Promise.all(t)}async[MAt](t){let r=[];for(let n of this[Q5].values())r.push(n.destroy(t));this[Q5].clear(),await Promise.all(r)}};Z7e.exports=aie});var uie=j((Xqr,rTe)=>{"use strict";d();var{kProxy:zAt,kClose:YAt,kDestroy:KAt,kInterceptors:JAt}=Ls(),{URL:cS}=require("node:url"),ZAt=W8(),XAt=q8(),e2t=T8(),{InvalidArgumentError:fU,RequestAbortedError:t2t,SecureProxyConnectionError:r2t}=yo(),X7e=O_(),cU=Symbol("proxy agent"),uU=Symbol("proxy client"),uS=Symbol("proxy headers"),lie=Symbol("request tls settings"),eTe=Symbol("proxy tls settings"),tTe=Symbol("connect endpoint function");function n2t(e){return e==="https:"?443:80}o(n2t,"defaultProtocolPort");function i2t(e,t){return new XAt(e,t)}o(i2t,"defaultFactory");var o2t=o(()=>{},"noop"),cie=class extends e2t{static{o(this,"ProxyAgent")}constructor(t){if(super(),!t||typeof t=="object"&&!(t instanceof cS)&&!t.uri)throw new fU("Proxy uri is mandatory");let{clientFactory:r=i2t}=t;if(typeof r!="function")throw new fU("Proxy opts.clientFactory must be a function.");let n=this.#e(t),{href:i,origin:s,port:a,protocol:l,username:c,password:u,hostname:f}=n;if(this[zAt]={uri:i,protocol:l},this[JAt]=t.interceptors?.ProxyAgent&&Array.isArray(t.interceptors.ProxyAgent)?t.interceptors.ProxyAgent:[],this[lie]=t.requestTls,this[eTe]=t.proxyTls,this[uS]=t.headers||{},t.auth&&t.token)throw new fU("opts.auth cannot be used in combination with opts.token");t.auth?this[uS]["proxy-authorization"]=`Basic ${t.auth}`:t.token?this[uS]["proxy-authorization"]=t.token:c&&u&&(this[uS]["proxy-authorization"]=`Basic ${Buffer.from(`${decodeURIComponent(c)}:${decodeURIComponent(u)}`).toString("base64")}`);let m=X7e({...t.proxyTls});this[tTe]=X7e({...t.requestTls}),this[uU]=r(n,{connect:m}),this[cU]=new ZAt({...t,connect:o(async(h,p)=>{let g=h.host;h.port||(g+=`:${n2t(h.protocol)}`);try{let{socket:x,statusCode:v}=await this[uU].connect({origin:s,port:a,path:g,signal:h.signal,headers:{...this[uS],host:h.host},servername:this[eTe]?.servername||f});if(v!==200&&(x.on("error",o2t).destroy(),p(new t2t(`Proxy response (${v}) !== 200 when HTTP Tunneling`))),h.protocol!=="https:"){p(null,x);return}let E;this[lie]?E=this[lie].servername:E=h.servername,this[tTe]({...h,servername:E,httpSocket:x},p)}catch(x){x.code==="ERR_TLS_CERT_ALTNAME_INVALID"?p(new r2t(x)):p(x)}},"connect")})}dispatch(t,r){let n=s2t(t.headers);if(a2t(n),n&&!("host"in n)&&!("Host"in n)){let{host:i}=new cS(t.origin);n.host=i}return this[cU].dispatch({...t,headers:n},r)}#e(t){return typeof t=="string"?new cS(t):t instanceof cS?t:new cS(t.uri)}async[YAt](){await this[cU].close(),await this[uU].close()}async[KAt](){await this[cU].destroy(),await this[uU].destroy()}};function s2t(e){if(Array.isArray(e)){let t={};for(let r=0;r<e.length;r+=2)t[e[r]]=e[r+1];return t}return e}o(s2t,"buildHeaders");function a2t(e){if(e&&Object.keys(e).find(r=>r.toLowerCase()==="proxy-authorization"))throw new fU("Proxy-Authorization should be sent in ProxyAgent constructor")}o(a2t,"throwIfProxyAuthIsSent");rTe.exports=cie});var lTe=j((rWr,aTe)=>{"use strict";d();var l2t=T8(),{kClose:c2t,kDestroy:u2t,kClosed:nTe,kDestroyed:iTe,kDispatch:f2t,kNoProxyAgent:fS,kHttpProxyAgent:M5,kHttpsProxyAgent:xx}=Ls(),oTe=uie(),d2t=W8(),m2t={"http:":80,"https:":443},sTe=!1,fie=class extends l2t{static{o(this,"EnvHttpProxyAgent")}#e=null;#t=null;#i=null;constructor(t={}){super(),this.#i=t,sTe||(sTe=!0,process.emitWarning("EnvHttpProxyAgent is experimental, expect them to change at any time.",{code:"UNDICI-EHPA"}));let{httpProxy:r,httpsProxy:n,noProxy:i,...s}=t;this[fS]=new d2t(s);let a=r??process.env.http_proxy??process.env.HTTP_PROXY;a?this[M5]=new oTe({...s,uri:a}):this[M5]=this[fS];let l=n??process.env.https_proxy??process.env.HTTPS_PROXY;l?this[xx]=new oTe({...s,uri:l}):this[xx]=this[M5],this.#o()}[f2t](t,r){let n=new URL(t.origin);return this.#n(n).dispatch(t,r)}async[c2t](){await this[fS].close(),this[M5][nTe]||await this[M5].close(),this[xx][nTe]||await this[xx].close()}async[u2t](t){await this[fS].destroy(t),this[M5][iTe]||await this[M5].destroy(t),this[xx][iTe]||await this[xx].destroy(t)}#n(t){let{protocol:r,host:n,port:i}=t;return n=n.replace(/:\d*$/,"").toLowerCase(),i=Number.parseInt(i,10)||m2t[r]||0,this.#r(n,i)?r==="https:"?this[xx]:this[M5]:this[fS]}#r(t,r){if(this.#s&&this.#o(),this.#t.length===0)return!0;if(this.#e==="*")return!1;for(let n=0;n<this.#t.length;n++){let i=this.#t[n];if(!(i.port&&i.port!==r)){if(/^[.*]/.test(i.hostname)){if(t.endsWith(i.hostname.replace(/^\*/,"")))return!1}else if(t===i.hostname)return!1}}return!0}#o(){let t=this.#i.noProxy??this.#a,r=t.split(/[,\s]/),n=[];for(let i=0;i<r.length;i++){let s=r[i];if(!s)continue;let a=s.match(/^(.+):(\d+)$/);n.push({hostname:(a?a[1]:s).toLowerCase(),port:a?Number.parseInt(a[2],10):0})}this.#e=t,this.#t=n}get#s(){return this.#i.noProxy!==void 0?!1:this.#e!==this.#a}get#a(){return process.env.no_proxy??process.env.NO_PROXY??""}};aTe.exports=fie});var dU=j((oWr,dTe)=>{"use strict";d();var G8=require("node:assert"),{kRetryHandlerDefaultRetry:cTe}=Ls(),{RequestRetryError:dS}=yo(),{isDisturbed:uTe,parseHeaders:h2t,parseRangeHeader:fTe,wrapRequestBody:p2t}=Ci();function g2t(e){let t=Date.now();return new Date(e).getTime()-t}o(g2t,"calculateRetryAfterHeader");var die=class e{static{o(this,"RetryHandler")}constructor(t,r){let{retryOptions:n,...i}=t,{retry:s,maxRetries:a,maxTimeout:l,minTimeout:c,timeoutFactor:u,methods:f,errorCodes:m,retryAfter:h,statusCodes:p}=n??{};this.dispatch=r.dispatch,this.handler=r.handler,this.opts={...i,body:p2t(t.body)},this.abort=null,this.aborted=!1,this.retryOpts={retry:s??e[cTe],retryAfter:h??!0,maxTimeout:l??30*1e3,minTimeout:c??500,timeoutFactor:u??2,maxRetries:a??5,methods:f??["GET","HEAD","OPTIONS","PUT","DELETE","TRACE"],statusCodes:p??[500,502,503,504,429],errorCodes:m??["ECONNRESET","ECONNREFUSED","ENOTFOUND","ENETDOWN","ENETUNREACH","EHOSTDOWN","EHOSTUNREACH","EPIPE","UND_ERR_SOCKET"]},this.retryCount=0,this.retryCountCheckpoint=0,this.start=0,this.end=null,this.etag=null,this.resume=null,this.handler.onConnect(g=>{this.aborted=!0,this.abort?this.abort(g):this.reason=g})}onRequestSent(){this.handler.onRequestSent&&this.handler.onRequestSent()}onUpgrade(t,r,n){this.handler.onUpgrade&&this.handler.onUpgrade(t,r,n)}onConnect(t){this.aborted?t(this.reason):this.abort=t}onBodySent(t){if(this.handler.onBodySent)return this.handler.onBodySent(t)}static[cTe](t,{state:r,opts:n},i){let{statusCode:s,code:a,headers:l}=t,{method:c,retryOptions:u}=n,{maxRetries:f,minTimeout:m,maxTimeout:h,timeoutFactor:p,statusCodes:g,errorCodes:x,methods:v}=u,{counter:E}=r;if(a&&a!=="UND_ERR_REQ_RETRY"&&!x.includes(a)){i(t);return}if(Array.isArray(v)&&!v.includes(c)){i(t);return}if(s!=null&&Array.isArray(g)&&!g.includes(s)){i(t);return}if(E>f){i(t);return}let b=l?.["retry-after"];b&&(b=Number(b),b=Number.isNaN(b)?g2t(b):b*1e3);let _=b>0?Math.min(b,h):Math.min(m*p**(E-1),h);setTimeout(()=>i(null),_)}onHeaders(t,r,n,i){let s=h2t(r);if(this.retryCount+=1,t>=300)return this.retryOpts.statusCodes.includes(t)===!1?this.handler.onHeaders(t,r,n,i):(this.abort(new dS("Request failed",t,{headers:s,data:{count:this.retryCount}})),!1);if(this.resume!=null){if(this.resume=null,t!==206&&(this.start>0||t!==200))return this.abort(new dS("server does not support the range header and the payload was partially consumed",t,{headers:s,data:{count:this.retryCount}})),!1;let l=fTe(s["content-range"]);if(!l)return this.abort(new dS("Content-Range mismatch",t,{headers:s,data:{count:this.retryCount}})),!1;if(this.etag!=null&&this.etag!==s.etag)return this.abort(new dS("ETag mismatch",t,{headers:s,data:{count:this.retryCount}})),!1;let{start:c,size:u,end:f=u-1}=l;return G8(this.start===c,"content-range mismatch"),G8(this.end==null||this.end===f,"content-range mismatch"),this.resume=n,!0}if(this.end==null){if(t===206){let l=fTe(s["content-range"]);if(l==null)return this.handler.onHeaders(t,r,n,i);let{start:c,size:u,end:f=u-1}=l;G8(c!=null&&Number.isFinite(c),"content-range mismatch"),G8(f!=null&&Number.isFinite(f),"invalid content-length"),this.start=c,this.end=f}if(this.end==null){let l=s["content-length"];this.end=l!=null?Number(l)-1:null}return G8(Number.isFinite(this.start)),G8(this.end==null||Number.isFinite(this.end),"invalid content-length"),this.resume=n,this.etag=s.etag!=null?s.etag:null,this.etag!=null&&this.etag.startsWith("W/")&&(this.etag=null),this.handler.onHeaders(t,r,n,i)}let a=new dS("Request failed",t,{headers:s,data:{count:this.retryCount}});return this.abort(a),!1}onData(t){return this.start+=t.length,this.handler.onData(t)}onComplete(t){return this.retryCount=0,this.handler.onComplete(t)}onError(t){if(this.aborted||uTe(this.opts.body))return this.handler.onError(t);this.retryCount-this.retryCountCheckpoint>0?this.retryCount=this.retryCountCheckpoint+(this.retryCount-this.retryCountCheckpoint):this.retryCount+=1,this.retryOpts.retry(t,{state:{counter:this.retryCount},opts:{retryOptions:this.retryOpts,...this.opts}},r.bind(this));function r(n){if(n!=null||this.aborted||uTe(this.opts.body))return this.handler.onError(n);if(this.start!==0){let i={range:`bytes=${this.start}-${this.end??""}`};this.etag!=null&&(i["if-match"]=this.etag),this.opts={...this.opts,headers:{...this.opts.headers,...i}}}try{this.retryCountCheckpoint=this.retryCount,this.dispatch(this.opts,this)}catch(i){this.handler.onError(i)}}o(r,"onRetry")}};dTe.exports=die});var hTe=j((lWr,mTe)=>{"use strict";d();var A2t=Q_(),y2t=dU(),mie=class extends A2t{static{o(this,"RetryAgent")}#e=null;#t=null;constructor(t,r={}){super(r),this.#e=t,this.#t=r}dispatch(t,r){let n=new y2t({...t,retryOptions:this.#t},{dispatch:this.#e.dispatch.bind(this.#e),handler:r});return this.#e.dispatch(t,n)}close(){return this.#e.close()}destroy(){return this.#e.destroy()}};mTe.exports=mie});var Cie=j((fWr,ETe)=>{"use strict";d();var CTe=require("node:assert"),{Readable:C2t}=require("node:stream"),{RequestAbortedError:xTe,NotSupportedError:x2t,InvalidArgumentError:v2t,AbortError:hie}=yo(),vTe=Ci(),{ReadableStreamFrom:b2t}=Ci(),hf=Symbol("kConsume"),mS=Symbol("kReading"),O5=Symbol("kBody"),pTe=Symbol("kAbort"),bTe=Symbol("kContentType"),gTe=Symbol("kContentLength"),E2t=o(()=>{},"noop"),pie=class extends C2t{static{o(this,"BodyReadable")}constructor({resume:t,abort:r,contentType:n="",contentLength:i,highWaterMark:s=64*1024}){super({autoDestroy:!0,read:t,highWaterMark:s}),this._readableState.dataEmitted=!1,this[pTe]=r,this[hf]=null,this[O5]=null,this[bTe]=n,this[gTe]=i,this[mS]=!1}destroy(t){return!t&&!this._readableState.endEmitted&&(t=new xTe),t&&this[pTe](),super.destroy(t)}_destroy(t,r){this[mS]?r(t):setImmediate(()=>{r(t)})}on(t,...r){return(t==="data"||t==="readable")&&(this[mS]=!0),super.on(t,...r)}addListener(t,...r){return this.on(t,...r)}off(t,...r){let n=super.off(t,...r);return(t==="data"||t==="readable")&&(this[mS]=this.listenerCount("data")>0||this.listenerCount("readable")>0),n}removeListener(t,...r){return this.off(t,...r)}push(t){return this[hf]&&t!==null?(Aie(this[hf],t),this[mS]?super.push(t):!0):super.push(t)}async text(){return hS(this,"text")}async json(){return hS(this,"json")}async blob(){return hS(this,"blob")}async bytes(){return hS(this,"bytes")}async arrayBuffer(){return hS(this,"arrayBuffer")}async formData(){throw new x2t}get bodyUsed(){return vTe.isDisturbed(this)}get body(){return this[O5]||(this[O5]=b2t(this),this[hf]&&(this[O5].getReader(),CTe(this[O5].locked))),this[O5]}async dump(t){let r=Number.isFinite(t?.limit)?t.limit:131072,n=t?.signal;if(n!=null&&(typeof n!="object"||!("aborted"in n)))throw new v2t("signal must be an AbortSignal");return n?.throwIfAborted(),this._readableState.closeEmitted?null:await new Promise((i,s)=>{this[gTe]>r&&this.destroy(new hie);let a=o(()=>{this.destroy(n.reason??new hie)},"onAbort");n?.addEventListener("abort",a),this.on("close",function(){n?.removeEventListener("abort",a),n?.aborted?s(n.reason??new hie):i(null)}).on("error",E2t).on("data",function(l){r-=l.length,r<=0&&this.destroy()}).resume()})}};function I2t(e){return e[O5]&&e[O5].locked===!0||e[hf]}o(I2t,"isLocked");function T2t(e){return vTe.isDisturbed(e)||I2t(e)}o(T2t,"isUnusable");async function hS(e,t){return CTe(!e[hf]),new Promise((r,n)=>{if(T2t(e)){let i=e._readableState;i.destroyed&&i.closeEmitted===!1?e.on("error",s=>{n(s)}).on("close",()=>{n(new TypeError("unusable"))}):n(i.errored??new TypeError("unusable"))}else queueMicrotask(()=>{e[hf]={type:t,stream:e,resolve:r,reject:n,length:0,body:[]},e.on("error",function(i){yie(this[hf],i)}).on("close",function(){this[hf].body!==null&&yie(this[hf],new xTe)}),w2t(e[hf])})})}o(hS,"consume");function w2t(e){if(e.body===null)return;let{_readableState:t}=e.stream;if(t.bufferIndex){let r=t.bufferIndex,n=t.buffer.length;for(let i=r;i<n;i++)Aie(e,t.buffer[i])}else for(let r of t.buffer)Aie(e,r);for(t.endEmitted?yTe(this[hf]):e.stream.on("end",function(){yTe(this[hf])}),e.stream.resume();e.stream.read()!=null;);}o(w2t,"consumeStart");function gie(e,t){if(e.length===0||t===0)return"";let r=e.length===1?e[0]:Buffer.concat(e,t),n=r.length,i=n>2&&r[0]===239&&r[1]===187&&r[2]===191?3:0;return r.utf8Slice(i,n)}o(gie,"chunksDecode");function ATe(e,t){if(e.length===0||t===0)return new Uint8Array(0);if(e.length===1)return new Uint8Array(e[0]);let r=new Uint8Array(Buffer.allocUnsafeSlow(t).buffer),n=0;for(let i=0;i<e.length;++i){let s=e[i];r.set(s,n),n+=s.length}return r}o(ATe,"chunksConcat");function yTe(e){let{type:t,body:r,resolve:n,stream:i,length:s}=e;try{t==="text"?n(gie(r,s)):t==="json"?n(JSON.parse(gie(r,s))):t==="arrayBuffer"?n(ATe(r,s).buffer):t==="blob"?n(new Blob(r,{type:i[bTe]})):t==="bytes"&&n(ATe(r,s)),yie(e)}catch(a){i.destroy(a)}}o(yTe,"consumeEnd");function Aie(e,t){e.length+=t.length,e.body.push(t)}o(Aie,"consumePush");function yie(e,t){e.body!==null&&(t?e.reject(t):e.resolve(),e.type=null,e.stream=null,e.resolve=null,e.reject=null,e.length=0,e.body=null)}o(yie,"consumeFinish");ETe.exports={Readable:pie,chunksDecode:gie}});var xie=j((hWr,STe)=>{d();var _2t=require("node:assert"),{ResponseStatusCodeError:ITe}=yo(),{chunksDecode:TTe}=Cie(),S2t=128*1024;async function k2t({callback:e,body:t,contentType:r,statusCode:n,statusMessage:i,headers:s}){_2t(t);let a=[],l=0;try{for await(let m of t)if(a.push(m),l+=m.length,l>S2t){a=[],l=0;break}}catch{a=[],l=0}let c=`Response status code ${n}${i?`: ${i}`:""}`;if(n===204||!r||!l){queueMicrotask(()=>e(new ITe(c,n,s)));return}let u=Error.stackTraceLimit;Error.stackTraceLimit=0;let f;try{wTe(r)?f=JSON.parse(TTe(a,l)):_Te(r)&&(f=TTe(a,l))}catch{}finally{Error.stackTraceLimit=u}queueMicrotask(()=>e(new ITe(c,n,s,f)))}o(k2t,"getResolveErrorBodyCallback");var wTe=o(e=>e.length>15&&e[11]==="/"&&e[0]==="a"&&e[1]==="p"&&e[2]==="p"&&e[3]==="l"&&e[4]==="i"&&e[5]==="c"&&e[6]==="a"&&e[7]==="t"&&e[8]==="i"&&e[9]==="o"&&e[10]==="n"&&e[12]==="j"&&e[13]==="s"&&e[14]==="o"&&e[15]==="n","isContentTypeApplicationJson"),_Te=o(e=>e.length>4&&e[4]==="/"&&e[0]==="t"&&e[1]==="e"&&e[2]==="x"&&e[3]==="t","isContentTypeText");STe.exports={getResolveErrorBodyCallback:k2t,isContentTypeApplicationJson:wTe,isContentTypeText:_Te}});var BTe=j((AWr,vie)=>{"use strict";d();var R2t=require("node:assert"),{Readable:B2t}=Cie(),{InvalidArgumentError:H8,RequestAbortedError:kTe}=yo(),pf=Ci(),{getResolveErrorBodyCallback:D2t}=xie(),{AsyncResource:P2t}=require("node:async_hooks"),mU=class extends P2t{static{o(this,"RequestHandler")}constructor(t,r){if(!t||typeof t!="object")throw new H8("invalid opts");let{signal:n,method:i,opaque:s,body:a,onInfo:l,responseHeaders:c,throwOnError:u,highWaterMark:f}=t;try{if(typeof r!="function")throw new H8("invalid callback");if(f&&(typeof f!="number"||f<0))throw new H8("invalid highWaterMark");if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new H8("signal must be an EventEmitter or EventTarget");if(i==="CONNECT")throw new H8("invalid method");if(l&&typeof l!="function")throw new H8("invalid onInfo callback");super("UNDICI_REQUEST")}catch(m){throw pf.isStream(a)&&pf.destroy(a.on("error",pf.nop),m),m}this.method=i,this.responseHeaders=c||null,this.opaque=s||null,this.callback=r,this.res=null,this.abort=null,this.body=a,this.trailers={},this.context=null,this.onInfo=l||null,this.throwOnError=u,this.highWaterMark=f,this.signal=n,this.reason=null,this.removeAbortListener=null,pf.isStream(a)&&a.on("error",m=>{this.onError(m)}),this.signal&&(this.signal.aborted?this.reason=this.signal.reason??new kTe:this.removeAbortListener=pf.addAbortListener(this.signal,()=>{this.reason=this.signal.reason??new kTe,this.res?pf.destroy(this.res.on("error",pf.nop),this.reason):this.abort&&this.abort(this.reason),this.removeAbortListener&&(this.res?.off("close",this.removeAbortListener),this.removeAbortListener(),this.removeAbortListener=null)}))}onConnect(t,r){if(this.reason){t(this.reason);return}R2t(this.callback),this.abort=t,this.context=r}onHeaders(t,r,n,i){let{callback:s,opaque:a,abort:l,context:c,responseHeaders:u,highWaterMark:f}=this,m=u==="raw"?pf.parseRawHeaders(r):pf.parseHeaders(r);if(t<200){this.onInfo&&this.onInfo({statusCode:t,headers:m});return}let h=u==="raw"?pf.parseHeaders(r):m,p=h["content-type"],g=h["content-length"],x=new B2t({resume:n,abort:l,contentType:p,contentLength:this.method!=="HEAD"&&g?Number(g):null,highWaterMark:f});this.removeAbortListener&&x.on("close",this.removeAbortListener),this.callback=null,this.res=x,s!==null&&(this.throwOnError&&t>=400?this.runInAsyncScope(D2t,null,{callback:s,body:x,contentType:p,statusCode:t,statusMessage:i,headers:m}):this.runInAsyncScope(s,null,null,{statusCode:t,headers:m,trailers:this.trailers,opaque:a,body:x,context:c}))}onData(t){return this.res.push(t)}onComplete(t){pf.parseHeaders(t,this.trailers),this.res.push(null)}onError(t){let{res:r,callback:n,body:i,opaque:s}=this;n&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(n,null,t,{opaque:s})})),r&&(this.res=null,queueMicrotask(()=>{pf.destroy(r,t)})),i&&(this.body=null,pf.destroy(i,t)),this.removeAbortListener&&(r?.off("close",this.removeAbortListener),this.removeAbortListener(),this.removeAbortListener=null)}};function RTe(e,t){if(t===void 0)return new Promise((r,n)=>{RTe.call(this,e,(i,s)=>i?n(i):r(s))});try{this.dispatch(e,new mU(e,t))}catch(r){if(typeof t!="function")throw r;let n=e?.opaque;queueMicrotask(()=>t(r,{opaque:n}))}}o(RTe,"request");vie.exports=RTe;vie.exports.RequestHandler=mU});var pS=j((xWr,FTe)=>{d();var{addAbortListener:F2t}=Ci(),{RequestAbortedError:N2t}=yo(),j8=Symbol("kListener"),rg=Symbol("kSignal");function DTe(e){e.abort?e.abort(e[rg]?.reason):e.reason=e[rg]?.reason??new N2t,PTe(e)}o(DTe,"abort");function L2t(e,t){if(e.reason=null,e[rg]=null,e[j8]=null,!!t){if(t.aborted){DTe(e);return}e[rg]=t,e[j8]=()=>{DTe(e)},F2t(e[rg],e[j8])}}o(L2t,"addSignal");function PTe(e){e[rg]&&("removeEventListener"in e[rg]?e[rg].removeEventListener("abort",e[j8]):e[rg].removeListener("abort",e[j8]),e[rg]=null,e[j8]=null)}o(PTe,"removeSignal");FTe.exports={addSignal:L2t,removeSignal:PTe}});var MTe=j((EWr,QTe)=>{"use strict";d();var Q2t=require("node:assert"),{finished:M2t,PassThrough:O2t}=require("node:stream"),{InvalidArgumentError:V8,InvalidReturnValueError:U2t}=yo(),mh=Ci(),{getResolveErrorBodyCallback:q2t}=xie(),{AsyncResource:W2t}=require("node:async_hooks"),{addSignal:G2t,removeSignal:NTe}=pS(),bie=class extends W2t{static{o(this,"StreamHandler")}constructor(t,r,n){if(!t||typeof t!="object")throw new V8("invalid opts");let{signal:i,method:s,opaque:a,body:l,onInfo:c,responseHeaders:u,throwOnError:f}=t;try{if(typeof n!="function")throw new V8("invalid callback");if(typeof r!="function")throw new V8("invalid factory");if(i&&typeof i.on!="function"&&typeof i.addEventListener!="function")throw new V8("signal must be an EventEmitter or EventTarget");if(s==="CONNECT")throw new V8("invalid method");if(c&&typeof c!="function")throw new V8("invalid onInfo callback");super("UNDICI_STREAM")}catch(m){throw mh.isStream(l)&&mh.destroy(l.on("error",mh.nop),m),m}this.responseHeaders=u||null,this.opaque=a||null,this.factory=r,this.callback=n,this.res=null,this.abort=null,this.context=null,this.trailers=null,this.body=l,this.onInfo=c||null,this.throwOnError=f||!1,mh.isStream(l)&&l.on("error",m=>{this.onError(m)}),G2t(this,i)}onConnect(t,r){if(this.reason){t(this.reason);return}Q2t(this.callback),this.abort=t,this.context=r}onHeaders(t,r,n,i){let{factory:s,opaque:a,context:l,callback:c,responseHeaders:u}=this,f=u==="raw"?mh.parseRawHeaders(r):mh.parseHeaders(r);if(t<200){this.onInfo&&this.onInfo({statusCode:t,headers:f});return}this.factory=null;let m;if(this.throwOnError&&t>=400){let g=(u==="raw"?mh.parseHeaders(r):f)["content-type"];m=new O2t,this.callback=null,this.runInAsyncScope(q2t,null,{callback:c,body:m,contentType:g,statusCode:t,statusMessage:i,headers:f})}else{if(s===null)return;if(m=this.runInAsyncScope(s,null,{statusCode:t,headers:f,opaque:a,context:l}),!m||typeof m.write!="function"||typeof m.end!="function"||typeof m.on!="function")throw new U2t("expected Writable");M2t(m,{readable:!1},p=>{let{callback:g,res:x,opaque:v,trailers:E,abort:b}=this;this.res=null,(p||!x.readable)&&mh.destroy(x,p),this.callback=null,this.runInAsyncScope(g,null,p||null,{opaque:v,trailers:E}),p&&b()})}return m.on("drain",n),this.res=m,(m.writableNeedDrain!==void 0?m.writableNeedDrain:m._writableState?.needDrain)!==!0}onData(t){let{res:r}=this;return r?r.write(t):!0}onComplete(t){let{res:r}=this;NTe(this),r&&(this.trailers=mh.parseHeaders(t),r.end())}onError(t){let{res:r,callback:n,opaque:i,body:s}=this;NTe(this),this.factory=null,r?(this.res=null,mh.destroy(r,t)):n&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(n,null,t,{opaque:i})})),s&&(this.body=null,mh.destroy(s,t))}};function LTe(e,t,r){if(r===void 0)return new Promise((n,i)=>{LTe.call(this,e,t,(s,a)=>s?i(s):n(a))});try{this.dispatch(e,new bie(e,t,r))}catch(n){if(typeof r!="function")throw n;let i=e?.opaque;queueMicrotask(()=>r(n,{opaque:i}))}}o(LTe,"stream");QTe.exports=LTe});var WTe=j((wWr,qTe)=>{"use strict";d();var{Readable:UTe,Duplex:H2t,PassThrough:j2t}=require("node:stream"),{InvalidArgumentError:gS,InvalidReturnValueError:V2t,RequestAbortedError:Eie}=yo(),Md=Ci(),{AsyncResource:$2t}=require("node:async_hooks"),{addSignal:z2t,removeSignal:Y2t}=pS(),OTe=require("node:assert"),$8=Symbol("resume"),Iie=class extends UTe{static{o(this,"PipelineRequest")}constructor(){super({autoDestroy:!0}),this[$8]=null}_read(){let{[$8]:t}=this;t&&(this[$8]=null,t())}_destroy(t,r){this._read(),r(t)}},Tie=class extends UTe{static{o(this,"PipelineResponse")}constructor(t){super({autoDestroy:!0}),this[$8]=t}_read(){this[$8]()}_destroy(t,r){!t&&!this._readableState.endEmitted&&(t=new Eie),r(t)}},wie=class extends $2t{static{o(this,"PipelineHandler")}constructor(t,r){if(!t||typeof t!="object")throw new gS("invalid opts");if(typeof r!="function")throw new gS("invalid handler");let{signal:n,method:i,opaque:s,onInfo:a,responseHeaders:l}=t;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new gS("signal must be an EventEmitter or EventTarget");if(i==="CONNECT")throw new gS("invalid method");if(a&&typeof a!="function")throw new gS("invalid onInfo callback");super("UNDICI_PIPELINE"),this.opaque=s||null,this.responseHeaders=l||null,this.handler=r,this.abort=null,this.context=null,this.onInfo=a||null,this.req=new Iie().on("error",Md.nop),this.ret=new H2t({readableObjectMode:t.objectMode,autoDestroy:!0,read:o(()=>{let{body:c}=this;c?.resume&&c.resume()},"read"),write:o((c,u,f)=>{let{req:m}=this;m.push(c,u)||m._readableState.destroyed?f():m[$8]=f},"write"),destroy:o((c,u)=>{let{body:f,req:m,res:h,ret:p,abort:g}=this;!c&&!p._readableState.endEmitted&&(c=new Eie),g&&c&&g(),Md.destroy(f,c),Md.destroy(m,c),Md.destroy(h,c),Y2t(this),u(c)},"destroy")}).on("prefinish",()=>{let{req:c}=this;c.push(null)}),this.res=null,z2t(this,n)}onConnect(t,r){let{ret:n,res:i}=this;if(this.reason){t(this.reason);return}OTe(!i,"pipeline cannot be retried"),OTe(!n.destroyed),this.abort=t,this.context=r}onHeaders(t,r,n){let{opaque:i,handler:s,context:a}=this;if(t<200){if(this.onInfo){let c=this.responseHeaders==="raw"?Md.parseRawHeaders(r):Md.parseHeaders(r);this.onInfo({statusCode:t,headers:c})}return}this.res=new Tie(n);let l;try{this.handler=null;let c=this.responseHeaders==="raw"?Md.parseRawHeaders(r):Md.parseHeaders(r);l=this.runInAsyncScope(s,null,{statusCode:t,headers:c,opaque:i,body:this.res,context:a})}catch(c){throw this.res.on("error",Md.nop),c}if(!l||typeof l.on!="function")throw new V2t("expected Readable");l.on("data",c=>{let{ret:u,body:f}=this;!u.push(c)&&f.pause&&f.pause()}).on("error",c=>{let{ret:u}=this;Md.destroy(u,c)}).on("end",()=>{let{ret:c}=this;c.push(null)}).on("close",()=>{let{ret:c}=this;c._readableState.ended||Md.destroy(c,new Eie)}),this.body=l}onData(t){let{res:r}=this;return r.push(t)}onComplete(t){let{res:r}=this;r.push(null)}onError(t){let{ret:r}=this;this.handler=null,Md.destroy(r,t)}};function K2t(e,t){try{let r=new wie(e,t);return this.dispatch({...e,body:r.req},r),r.ret}catch(r){return new j2t().destroy(r)}}o(K2t,"pipeline");qTe.exports=K2t});var zTe=j((kWr,$Te)=>{"use strict";d();var{InvalidArgumentError:_ie,SocketError:J2t}=yo(),{AsyncResource:Z2t}=require("node:async_hooks"),GTe=Ci(),{addSignal:X2t,removeSignal:HTe}=pS(),jTe=require("node:assert"),Sie=class extends Z2t{static{o(this,"UpgradeHandler")}constructor(t,r){if(!t||typeof t!="object")throw new _ie("invalid opts");if(typeof r!="function")throw new _ie("invalid callback");let{signal:n,opaque:i,responseHeaders:s}=t;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new _ie("signal must be an EventEmitter or EventTarget");super("UNDICI_UPGRADE"),this.responseHeaders=s||null,this.opaque=i||null,this.callback=r,this.abort=null,this.context=null,X2t(this,n)}onConnect(t,r){if(this.reason){t(this.reason);return}jTe(this.callback),this.abort=t,this.context=null}onHeaders(){throw new J2t("bad upgrade",null)}onUpgrade(t,r,n){jTe(t===101);let{callback:i,opaque:s,context:a}=this;HTe(this),this.callback=null;let l=this.responseHeaders==="raw"?GTe.parseRawHeaders(r):GTe.parseHeaders(r);this.runInAsyncScope(i,null,null,{headers:l,socket:n,opaque:s,context:a})}onError(t){let{callback:r,opaque:n}=this;HTe(this),r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,t,{opaque:n})}))}};function VTe(e,t){if(t===void 0)return new Promise((r,n)=>{VTe.call(this,e,(i,s)=>i?n(i):r(s))});try{let r=new Sie(e,t);this.dispatch({...e,method:e.method||"GET",upgrade:e.protocol||"Websocket"},r)}catch(r){if(typeof t!="function")throw r;let n=e?.opaque;queueMicrotask(()=>t(r,{opaque:n}))}}o(VTe,"upgrade");$Te.exports=VTe});var XTe=j((DWr,ZTe)=>{"use strict";d();var eyt=require("node:assert"),{AsyncResource:tyt}=require("node:async_hooks"),{InvalidArgumentError:kie,SocketError:ryt}=yo(),YTe=Ci(),{addSignal:nyt,removeSignal:KTe}=pS(),Rie=class extends tyt{static{o(this,"ConnectHandler")}constructor(t,r){if(!t||typeof t!="object")throw new kie("invalid opts");if(typeof r!="function")throw new kie("invalid callback");let{signal:n,opaque:i,responseHeaders:s}=t;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new kie("signal must be an EventEmitter or EventTarget");super("UNDICI_CONNECT"),this.opaque=i||null,this.responseHeaders=s||null,this.callback=r,this.abort=null,nyt(this,n)}onConnect(t,r){if(this.reason){t(this.reason);return}eyt(this.callback),this.abort=t,this.context=r}onHeaders(){throw new ryt("bad connect",null)}onUpgrade(t,r,n){let{callback:i,opaque:s,context:a}=this;KTe(this),this.callback=null;let l=r;l!=null&&(l=this.responseHeaders==="raw"?YTe.parseRawHeaders(r):YTe.parseHeaders(r)),this.runInAsyncScope(i,null,null,{statusCode:t,headers:l,socket:n,opaque:s,context:a})}onError(t){let{callback:r,opaque:n}=this;KTe(this),r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,t,{opaque:n})}))}};function JTe(e,t){if(t===void 0)return new Promise((r,n)=>{JTe.call(this,e,(i,s)=>i?n(i):r(s))});try{let r=new Rie(e,t);this.dispatch({...e,method:"CONNECT"},r)}catch(r){if(typeof t!="function")throw r;let n=e?.opaque;queueMicrotask(()=>t(r,{opaque:n}))}}o(JTe,"connect");ZTe.exports=JTe});var ewe=j((NWr,z8)=>{"use strict";d();z8.exports.request=BTe();z8.exports.stream=MTe();z8.exports.pipeline=WTe();z8.exports.upgrade=zTe();z8.exports.connect=XTe()});var Die=j((QWr,twe)=>{"use strict";d();var{UndiciError:iyt}=yo(),Bie=class e extends iyt{static{o(this,"MockNotMatchedError")}constructor(t){super(t),Error.captureStackTrace(this,e),this.name="MockNotMatchedError",this.message=t||"The request does not match any registered mock dispatches",this.code="UND_MOCK_ERR_MOCK_NOT_MATCHED"}};twe.exports={MockNotMatchedError:Bie}});var Y8=j((UWr,rwe)=>{"use strict";d();rwe.exports={kAgent:Symbol("agent"),kOptions:Symbol("options"),kFactory:Symbol("factory"),kDispatches:Symbol("dispatches"),kDispatchKey:Symbol("dispatch key"),kDefaultHeaders:Symbol("default headers"),kDefaultTrailers:Symbol("default trailers"),kContentLength:Symbol("content length"),kMockAgent:Symbol("mock agent"),kMockAgentSet:Symbol("mock agent set"),kMockAgentGet:Symbol("mock agent get"),kMockDispatch:Symbol("mock dispatch"),kClose:Symbol("close"),kOriginalClose:Symbol("original agent close"),kOrigin:Symbol("origin"),kIsMockActive:Symbol("is mock active"),kNetConnect:Symbol("net connect"),kGetNetConnect:Symbol("get net connect"),kConnected:Symbol("connected")}});var AS=j((WWr,mwe)=>{"use strict";d();var{MockNotMatchedError:vx}=Die(),{kDispatches:hU,kMockAgent:oyt,kOriginalDispatch:syt,kOrigin:ayt,kGetNetConnect:lyt}=Y8(),{buildURL:cyt}=Ci(),{STATUS_CODES:uyt}=require("node:http"),{types:{isPromise:fyt}}=require("node:util");function gA(e,t){return typeof e=="string"?e===t:e instanceof RegExp?e.test(t):typeof e=="function"?e(t)===!0:!1}o(gA,"matchValue");function iwe(e){return Object.fromEntries(Object.entries(e).map(([t,r])=>[t.toLocaleLowerCase(),r]))}o(iwe,"lowerCaseEntries");function owe(e,t){if(Array.isArray(e)){for(let r=0;r<e.length;r+=2)if(e[r].toLocaleLowerCase()===t.toLocaleLowerCase())return e[r+1];return}else return typeof e.get=="function"?e.get(t):iwe(e)[t.toLocaleLowerCase()]}o(owe,"getHeaderByName");function Nie(e){let t=e.slice(),r=[];for(let n=0;n<t.length;n+=2)r.push([t[n],t[n+1]]);return Object.fromEntries(r)}o(Nie,"buildHeadersFromArray");function swe(e,t){if(typeof e.headers=="function")return Array.isArray(t)&&(t=Nie(t)),e.headers(t?iwe(t):{});if(typeof e.headers>"u")return!0;if(typeof t!="object"||typeof e.headers!="object")return!1;for(let[r,n]of Object.entries(e.headers)){let i=owe(t,r);if(!gA(n,i))return!1}return!0}o(swe,"matchHeaders");function nwe(e){if(typeof e!="string")return e;let t=e.split("?");if(t.length!==2)return e;let r=new URLSearchParams(t.pop());return r.sort(),[...t,r.toString()].join("?")}o(nwe,"safeUrl");function dyt(e,{path:t,method:r,body:n,headers:i}){let s=gA(e.path,t),a=gA(e.method,r),l=typeof e.body<"u"?gA(e.body,n):!0,c=swe(e,i);return s&&a&&l&&c}o(dyt,"matchKey");function awe(e){return Buffer.isBuffer(e)||e instanceof Uint8Array||e instanceof ArrayBuffer?e:typeof e=="object"?JSON.stringify(e):e.toString()}o(awe,"getResponseData");function lwe(e,t){let r=t.query?cyt(t.path,t.query):t.path,n=typeof r=="string"?nwe(r):r,i=e.filter(({consumed:s})=>!s).filter(({path:s})=>gA(nwe(s),n));if(i.length===0)throw new vx(`Mock dispatch not matched for path '${n}'`);if(i=i.filter(({method:s})=>gA(s,t.method)),i.length===0)throw new vx(`Mock dispatch not matched for method '${t.method}' on path '${n}'`);if(i=i.filter(({body:s})=>typeof s<"u"?gA(s,t.body):!0),i.length===0)throw new vx(`Mock dispatch not matched for body '${t.body}' on path '${n}'`);if(i=i.filter(s=>swe(s,t.headers)),i.length===0){let s=typeof t.headers=="object"?JSON.stringify(t.headers):t.headers;throw new vx(`Mock dispatch not matched for headers '${s}' on path '${n}'`)}return i[0]}o(lwe,"getMockDispatch");function myt(e,t,r){let n={timesInvoked:0,times:1,persist:!1,consumed:!1},i=typeof r=="function"?{callback:r}:{...r},s={...n,...t,pending:!0,data:{error:null,...i}};return e.push(s),s}o(myt,"addMockDispatch");function Pie(e,t){let r=e.findIndex(n=>n.consumed?dyt(n,t):!1);r!==-1&&e.splice(r,1)}o(Pie,"deleteMockDispatch");function cwe(e){let{path:t,method:r,body:n,headers:i,query:s}=e;return{path:t,method:r,body:n,headers:i,query:s}}o(cwe,"buildKey");function Fie(e){let t=Object.keys(e),r=[];for(let n=0;n<t.length;++n){let i=t[n],s=e[i],a=Buffer.from(`${i}`);if(Array.isArray(s))for(let l=0;l<s.length;++l)r.push(a,Buffer.from(`${s[l]}`));else r.push(a,Buffer.from(`${s}`))}return r}o(Fie,"generateKeyValues");function uwe(e){return uyt[e]||"unknown"}o(uwe,"getStatusText");async function hyt(e){let t=[];for await(let r of e)t.push(r);return Buffer.concat(t).toString("utf8")}o(hyt,"getResponse");function fwe(e,t){let r=cwe(e),n=lwe(this[hU],r);n.timesInvoked++,n.data.callback&&(n.data={...n.data,...n.data.callback(e)});let{data:{statusCode:i,data:s,headers:a,trailers:l,error:c},delay:u,persist:f}=n,{timesInvoked:m,times:h}=n;if(n.consumed=!f&&m>=h,n.pending=m<h,c!==null)return Pie(this[hU],r),t.onError(c),!0;typeof u=="number"&&u>0?setTimeout(()=>{p(this[hU])},u):p(this[hU]);function p(x,v=s){let E=Array.isArray(e.headers)?Nie(e.headers):e.headers,b=typeof v=="function"?v({...e,headers:E}):v;if(fyt(b)){b.then(F=>p(x,F));return}let _=awe(b),R=Fie(a),P=Fie(l);t.onConnect?.(F=>t.onError(F),null),t.onHeaders?.(i,R,g,uwe(i)),t.onData?.(Buffer.from(_)),t.onComplete?.(P),Pie(x,r)}o(p,"handleReply");function g(){}return o(g,"resume"),!0}o(fwe,"mockDispatch");function pyt(){let e=this[oyt],t=this[ayt],r=this[syt];return o(function(i,s){if(e.isMockActive)try{fwe.call(this,i,s)}catch(a){if(a instanceof vx){let l=e[lyt]();if(l===!1)throw new vx(`${a.message}: subsequent request to origin ${t} was not allowed (net.connect disabled)`);if(dwe(l,t))r.call(this,i,s);else throw new vx(`${a.message}: subsequent request to origin ${t} was not allowed (net.connect is not enabled for this origin)`)}else throw a}else r.call(this,i,s)},"dispatch")}o(pyt,"buildMockDispatch");function dwe(e,t){let r=new URL(t);return e===!0?!0:!!(Array.isArray(e)&&e.some(n=>gA(n,r.host)))}o(dwe,"checkNetConnect");function gyt(e){if(e){let{agent:t,...r}=e;return r}}o(gyt,"buildMockOptions");mwe.exports={getResponseData:awe,getMockDispatch:lwe,addMockDispatch:myt,deleteMockDispatch:Pie,buildKey:cwe,generateKeyValues:Fie,matchValue:gA,getResponse:hyt,getStatusText:uwe,mockDispatch:fwe,buildMockDispatch:pyt,checkNetConnect:dwe,buildMockOptions:gyt,getHeaderByName:owe,buildHeadersFromArray:Nie}});var Wie=j((jWr,qie)=>{"use strict";d();var{getResponseData:Ayt,buildKey:yyt,addMockDispatch:Lie}=AS(),{kDispatches:pU,kDispatchKey:gU,kDefaultHeaders:Qie,kDefaultTrailers:Mie,kContentLength:Oie,kMockDispatch:AU}=Y8(),{InvalidArgumentError:ng}=yo(),{buildURL:Cyt}=Ci(),K8=class{static{o(this,"MockScope")}constructor(t){this[AU]=t}delay(t){if(typeof t!="number"||!Number.isInteger(t)||t<=0)throw new ng("waitInMs must be a valid integer > 0");return this[AU].delay=t,this}persist(){return this[AU].persist=!0,this}times(t){if(typeof t!="number"||!Number.isInteger(t)||t<=0)throw new ng("repeatTimes must be a valid integer > 0");return this[AU].times=t,this}},Uie=class{static{o(this,"MockInterceptor")}constructor(t,r){if(typeof t!="object")throw new ng("opts must be an object");if(typeof t.path>"u")throw new ng("opts.path must be defined");if(typeof t.method>"u"&&(t.method="GET"),typeof t.path=="string")if(t.query)t.path=Cyt(t.path,t.query);else{let n=new URL(t.path,"data://");t.path=n.pathname+n.search}typeof t.method=="string"&&(t.method=t.method.toUpperCase()),this[gU]=yyt(t),this[pU]=r,this[Qie]={},this[Mie]={},this[Oie]=!1}createMockScopeDispatchData({statusCode:t,data:r,responseOptions:n}){let i=Ayt(r),s=this[Oie]?{"content-length":i.length}:{},a={...this[Qie],...s,...n.headers},l={...this[Mie],...n.trailers};return{statusCode:t,data:r,headers:a,trailers:l}}validateReplyParameters(t){if(typeof t.statusCode>"u")throw new ng("statusCode must be defined");if(typeof t.responseOptions!="object"||t.responseOptions===null)throw new ng("responseOptions must be an object")}reply(t){if(typeof t=="function"){let s=o(l=>{let c=t(l);if(typeof c!="object"||c===null)throw new ng("reply options callback must return an object");let u={data:"",responseOptions:{},...c};return this.validateReplyParameters(u),{...this.createMockScopeDispatchData(u)}},"wrappedDefaultsCallback"),a=Lie(this[pU],this[gU],s);return new K8(a)}let r={statusCode:t,data:arguments[1]===void 0?"":arguments[1],responseOptions:arguments[2]===void 0?{}:arguments[2]};this.validateReplyParameters(r);let n=this.createMockScopeDispatchData(r),i=Lie(this[pU],this[gU],n);return new K8(i)}replyWithError(t){if(typeof t>"u")throw new ng("error must be defined");let r=Lie(this[pU],this[gU],{error:t});return new K8(r)}defaultReplyHeaders(t){if(typeof t>"u")throw new ng("headers must be defined");return this[Qie]=t,this}defaultReplyTrailers(t){if(typeof t>"u")throw new ng("trailers must be defined");return this[Mie]=t,this}replyContentLength(){return this[Oie]=!0,this}};qie.exports.MockInterceptor=Uie;qie.exports.MockScope=K8});var jie=j((zWr,xwe)=>{"use strict";d();var{promisify:xyt}=require("node:util"),vyt=oS(),{buildMockDispatch:byt}=AS(),{kDispatches:hwe,kMockAgent:pwe,kClose:gwe,kOriginalClose:Awe,kOrigin:ywe,kOriginalDispatch:Eyt,kConnected:Gie}=Y8(),{MockInterceptor:Iyt}=Wie(),Cwe=Ls(),{InvalidArgumentError:Tyt}=yo(),Hie=class extends vyt{static{o(this,"MockClient")}constructor(t,r){if(super(t,r),!r||!r.agent||typeof r.agent.dispatch!="function")throw new Tyt("Argument opts.agent must implement Agent");this[pwe]=r.agent,this[ywe]=t,this[hwe]=[],this[Gie]=1,this[Eyt]=this.dispatch,this[Awe]=this.close.bind(this),this.dispatch=byt.call(this),this.close=this[gwe]}get[Cwe.kConnected](){return this[Gie]}intercept(t){return new Iyt(t,this[hwe])}async[gwe](){await xyt(this[Awe])(),this[Gie]=0,this[pwe][Cwe.kClients].delete(this[ywe])}};xwe.exports=Hie});var zie=j((JWr,_we)=>{"use strict";d();var{promisify:wyt}=require("node:util"),_yt=q8(),{buildMockDispatch:Syt}=AS(),{kDispatches:vwe,kMockAgent:bwe,kClose:Ewe,kOriginalClose:Iwe,kOrigin:Twe,kOriginalDispatch:kyt,kConnected:Vie}=Y8(),{MockInterceptor:Ryt}=Wie(),wwe=Ls(),{InvalidArgumentError:Byt}=yo(),$ie=class extends _yt{static{o(this,"MockPool")}constructor(t,r){if(super(t,r),!r||!r.agent||typeof r.agent.dispatch!="function")throw new Byt("Argument opts.agent must implement Agent");this[bwe]=r.agent,this[Twe]=t,this[vwe]=[],this[Vie]=1,this[kyt]=this.dispatch,this[Iwe]=this.close.bind(this),this.dispatch=Syt.call(this),this.close=this[Ewe]}get[wwe.kConnected](){return this[Vie]}intercept(t){return new Ryt(t,this[vwe])}async[Ewe](){await wyt(this[Iwe])(),this[Vie]=0,this[bwe][wwe.kClients].delete(this[Twe])}};_we.exports=$ie});var kwe=j((tGr,Swe)=>{"use strict";d();var Dyt={pronoun:"it",is:"is",was:"was",this:"this"},Pyt={pronoun:"they",is:"are",was:"were",this:"these"};Swe.exports=class{static{o(this,"Pluralizer")}constructor(t,r){this.singular=t,this.plural=r}pluralize(t){let r=t===1,n=r?Dyt:Pyt,i=r?this.singular:this.plural;return{...n,count:t,noun:i}}}});var Bwe=j((oGr,Rwe)=>{"use strict";d();var{Transform:Fyt}=require("node:stream"),{Console:Nyt}=require("node:console"),Lyt=process.versions.icu?"\u2705":"Y ",Qyt=process.versions.icu?"\u274C":"N ";Rwe.exports=class{static{o(this,"PendingInterceptorsFormatter")}constructor({disableColors:t}={}){this.transform=new Fyt({transform(r,n,i){i(null,r)}}),this.logger=new Nyt({stdout:this.transform,inspectOptions:{colors:!t&&!process.env.CI}})}format(t){let r=t.map(({method:n,path:i,data:{statusCode:s},persist:a,times:l,timesInvoked:c,origin:u})=>({Method:n,Origin:u,Path:i,"Status code":s,Persistent:a?Lyt:Qyt,Invocations:c,Remaining:a?1/0:l-c}));return this.logger.table(r),this.transform.read().toString()}}});var Nwe=j((lGr,Fwe)=>{"use strict";d();var{kClients:bx}=Ls(),Myt=W8(),{kAgent:Yie,kMockAgentSet:yU,kMockAgentGet:Dwe,kDispatches:Kie,kIsMockActive:CU,kNetConnect:Ex,kGetNetConnect:Oyt,kOptions:xU,kFactory:vU}=Y8(),Uyt=jie(),qyt=zie(),{matchValue:Wyt,buildMockOptions:Gyt}=AS(),{InvalidArgumentError:Pwe,UndiciError:Hyt}=yo(),jyt=Q_(),Vyt=kwe(),$yt=Bwe(),Jie=class extends jyt{static{o(this,"MockAgent")}constructor(t){if(super(t),this[Ex]=!0,this[CU]=!0,t?.agent&&typeof t.agent.dispatch!="function")throw new Pwe("Argument opts.agent must implement Agent");let r=t?.agent?t.agent:new Myt(t);this[Yie]=r,this[bx]=r[bx],this[xU]=Gyt(t)}get(t){let r=this[Dwe](t);return r||(r=this[vU](t),this[yU](t,r)),r}dispatch(t,r){return this.get(t.origin),this[Yie].dispatch(t,r)}async close(){await this[Yie].close(),this[bx].clear()}deactivate(){this[CU]=!1}activate(){this[CU]=!0}enableNetConnect(t){if(typeof t=="string"||typeof t=="function"||t instanceof RegExp)Array.isArray(this[Ex])?this[Ex].push(t):this[Ex]=[t];else if(typeof t>"u")this[Ex]=!0;else throw new Pwe("Unsupported matcher. Must be one of String|Function|RegExp.")}disableNetConnect(){this[Ex]=!1}get isMockActive(){return this[CU]}[yU](t,r){this[bx].set(t,r)}[vU](t){let r=Object.assign({agent:this},this[xU]);return this[xU]&&this[xU].connections===1?new Uyt(t,r):new qyt(t,r)}[Dwe](t){let r=this[bx].get(t);if(r)return r;if(typeof t!="string"){let n=this[vU]("http://localhost:9999");return this[yU](t,n),n}for(let[n,i]of Array.from(this[bx]))if(i&&typeof n!="string"&&Wyt(n,t)){let s=this[vU](t);return this[yU](t,s),s[Kie]=i[Kie],s}}[Oyt](){return this[Ex]}pendingInterceptors(){let t=this[bx];return Array.from(t.entries()).flatMap(([r,n])=>n[Kie].map(i=>({...i,origin:r}))).filter(({pending:r})=>r)}assertNoPendingInterceptors({pendingInterceptorsFormatter:t=new $yt}={}){let r=this.pendingInterceptors();if(r.length===0)return;let n=new Vyt("interceptor","interceptors").pluralize(r.length);throw new Hyt(`
${n.count} ${n.noun} ${n.is} pending:

${t.format(r)}
`.trim())}};Fwe.exports=Jie});var bU=j((fGr,Owe)=>{"use strict";d();var Lwe=Symbol.for("undici.globalDispatcher.1"),{InvalidArgumentError:zyt}=yo(),Yyt=W8();Mwe()===void 0&&Qwe(new Yyt);function Qwe(e){if(!e||typeof e.dispatch!="function")throw new zyt("Argument agent must implement Agent");Object.defineProperty(globalThis,Lwe,{value:e,writable:!0,enumerable:!1,configurable:!1})}o(Qwe,"setGlobalDispatcher");function Mwe(){return globalThis[Lwe]}o(Mwe,"getGlobalDispatcher");Owe.exports={setGlobalDispatcher:Qwe,getGlobalDispatcher:Mwe}});var EU=j((pGr,Uwe)=>{"use strict";d();Uwe.exports=class{static{o(this,"DecoratorHandler")}#e;constructor(t){if(typeof t!="object"||t===null)throw new TypeError("handler must be an object");this.#e=t}onConnect(...t){return this.#e.onConnect?.(...t)}onError(...t){return this.#e.onError?.(...t)}onUpgrade(...t){return this.#e.onUpgrade?.(...t)}onResponseStarted(...t){return this.#e.onResponseStarted?.(...t)}onHeaders(...t){return this.#e.onHeaders?.(...t)}onData(...t){return this.#e.onData?.(...t)}onComplete(...t){return this.#e.onComplete?.(...t)}onBodySent(...t){return this.#e.onBodySent?.(...t)}}});var Wwe=j((yGr,qwe)=>{"use strict";d();var Kyt=tU();qwe.exports=e=>{let t=e?.maxRedirections;return r=>o(function(i,s){let{maxRedirections:a=t,...l}=i;if(!a)return r(i,s);let c=new Kyt(r,a,i,s);return r(l,c)},"redirectInterceptor")}});var Hwe=j((vGr,Gwe)=>{"use strict";d();var Jyt=dU();Gwe.exports=e=>t=>o(function(n,i){return t(n,new Jyt({...n,retryOptions:{...e,...n.retryOptions}},{handler:i,dispatch:t}))},"retryInterceptor")});var Vwe=j((IGr,jwe)=>{"use strict";d();var Zyt=Ci(),{InvalidArgumentError:Xyt,RequestAbortedError:e5t}=yo(),t5t=EU(),Zie=class extends t5t{static{o(this,"DumpHandler")}#e=1024*1024;#t=null;#i=!1;#n=!1;#r=0;#o=null;#s=null;constructor({maxSize:t},r){if(super(r),t!=null&&(!Number.isFinite(t)||t<1))throw new Xyt("maxSize must be a number greater than 0");this.#e=t??this.#e,this.#s=r}onConnect(t){this.#t=t,this.#s.onConnect(this.#a.bind(this))}#a(t){this.#n=!0,this.#o=t}onHeaders(t,r,n,i){let a=Zyt.parseHeaders(r)["content-length"];if(a!=null&&a>this.#e)throw new e5t(`Response size (${a}) larger than maxSize (${this.#e})`);return this.#n?!0:this.#s.onHeaders(t,r,n,i)}onError(t){this.#i||(t=this.#o??t,this.#s.onError(t))}onData(t){return this.#r=this.#r+t.length,this.#r>=this.#e&&(this.#i=!0,this.#n?this.#s.onError(this.#o):this.#s.onComplete([])),!0}onComplete(t){if(!this.#i){if(this.#n){this.#s.onError(this.reason);return}this.#s.onComplete(t)}}};function r5t({maxSize:e}={maxSize:1024*1024}){return t=>o(function(n,i){let{dumpMaxSize:s=e}=n,a=new Zie({maxSize:s},i);return t(n,a)},"Intercept")}o(r5t,"createDumpInterceptor");jwe.exports=r5t});var Ywe=j((_Gr,zwe)=>{"use strict";d();var{isIP:n5t}=require("node:net"),{lookup:i5t}=require("node:dns"),o5t=EU(),{InvalidArgumentError:J8,InformationalError:s5t}=yo(),$we=Math.pow(2,31)-1,Xie=class{static{o(this,"DNSInstance")}#e=0;#t=0;#i=new Map;dualStack=!0;affinity=null;lookup=null;pick=null;constructor(t){this.#e=t.maxTTL,this.#t=t.maxItems,this.dualStack=t.dualStack,this.affinity=t.affinity,this.lookup=t.lookup??this.#n,this.pick=t.pick??this.#r}get full(){return this.#i.size===this.#t}runLookup(t,r,n){let i=this.#i.get(t.hostname);if(i==null&&this.full){n(null,t.origin);return}let s={affinity:this.affinity,dualStack:this.dualStack,lookup:this.lookup,pick:this.pick,...r.dns,maxTTL:this.#e,maxItems:this.#t};if(i==null)this.lookup(t,s,(a,l)=>{if(a||l==null||l.length===0){n(a??new s5t("No DNS entries found"));return}this.setRecords(t,l);let c=this.#i.get(t.hostname),u=this.pick(t,c,s.affinity),f;typeof u.port=="number"?f=`:${u.port}`:t.port!==""?f=`:${t.port}`:f="",n(null,`${t.protocol}//${u.family===6?`[${u.address}]`:u.address}${f}`)});else{let a=this.pick(t,i,s.affinity);if(a==null){this.#i.delete(t.hostname),this.runLookup(t,r,n);return}let l;typeof a.port=="number"?l=`:${a.port}`:t.port!==""?l=`:${t.port}`:l="",n(null,`${t.protocol}//${a.family===6?`[${a.address}]`:a.address}${l}`)}}#n(t,r,n){i5t(t.hostname,{all:!0,family:this.dualStack===!1?this.affinity:0,order:"ipv4first"},(i,s)=>{if(i)return n(i);let a=new Map;for(let l of s)a.set(`${l.address}:${l.family}`,l);n(null,a.values())})}#r(t,r,n){let i=null,{records:s,offset:a}=r,l;if(this.dualStack?(n==null&&(a==null||a===$we?(r.offset=0,n=4):(r.offset++,n=(r.offset&1)===1?6:4)),s[n]!=null&&s[n].ips.length>0?l=s[n]:l=s[n===4?6:4]):l=s[n],l==null||l.ips.length===0)return i;l.offset==null||l.offset===$we?l.offset=0:l.offset++;let c=l.offset%l.ips.length;return i=l.ips[c]??null,i==null?i:Date.now()-i.timestamp>i.ttl?(l.ips.splice(c,1),this.pick(t,r,n)):i}setRecords(t,r){let n=Date.now(),i={records:{4:null,6:null}};for(let s of r){s.timestamp=n,typeof s.ttl=="number"?s.ttl=Math.min(s.ttl,this.#e):s.ttl=this.#e;let a=i.records[s.family]??{ips:[]};a.ips.push(s),i.records[s.family]=a}this.#i.set(t.hostname,i)}getHandler(t,r){return new eoe(this,t,r)}},eoe=class extends o5t{static{o(this,"DNSDispatchHandler")}#e=null;#t=null;#i=null;#n=null;#r=null;constructor(t,{origin:r,handler:n,dispatch:i},s){super(n),this.#r=r,this.#n=n,this.#t={...s},this.#e=t,this.#i=i}onError(t){switch(t.code){case"ETIMEDOUT":case"ECONNREFUSED":{if(this.#e.dualStack){this.#e.runLookup(this.#r,this.#t,(r,n)=>{if(r)return this.#n.onError(r);let i={...this.#t,origin:n};this.#i(i,this)});return}this.#n.onError(t);return}case"ENOTFOUND":this.#e.deleteRecord(this.#r);default:this.#n.onError(t);break}}};zwe.exports=e=>{if(e?.maxTTL!=null&&(typeof e?.maxTTL!="number"||e?.maxTTL<0))throw new J8("Invalid maxTTL. Must be a positive number");if(e?.maxItems!=null&&(typeof e?.maxItems!="number"||e?.maxItems<1))throw new J8("Invalid maxItems. Must be a positive number and greater than zero");if(e?.affinity!=null&&e?.affinity!==4&&e?.affinity!==6)throw new J8("Invalid affinity. Must be either 4 or 6");if(e?.dualStack!=null&&typeof e?.dualStack!="boolean")throw new J8("Invalid dualStack. Must be a boolean");if(e?.lookup!=null&&typeof e?.lookup!="function")throw new J8("Invalid lookup. Must be a function");if(e?.pick!=null&&typeof e?.pick!="function")throw new J8("Invalid pick. Must be a function");let t=e?.dualStack??!0,r;t?r=e?.affinity??null:r=e?.affinity??4;let n={maxTTL:e?.maxTTL??1e4,lookup:e?.lookup??null,pick:e?.pick??null,dualStack:t,affinity:r,maxItems:e?.maxItems??1/0},i=new Xie(n);return s=>o(function(l,c){let u=l.origin.constructor===URL?l.origin:new URL(l.origin);return n5t(u.hostname)!==0?s(l,c):(i.runLookup(u,l,(f,m)=>{if(f)return c.onError(f);let h=null;h={...l,servername:u.hostname,origin:m,headers:{host:u.hostname,...l.headers}},s(h,i.getHandler({origin:u,dispatch:s,handler:c},l))}),!0)},"dnsInterceptor")}});var Ix=j((RGr,r_e)=>{"use strict";d();var{kConstruct:a5t}=Ls(),{kEnumerableProperty:Z8}=Ci(),{iteratorMixin:l5t,isValidHeaderName:yS,isValidHeaderValue:Jwe}=mf(),{webidl:Zi}=oc(),toe=require("node:assert"),IU=require("node:util"),$a=Symbol("headers map"),gf=Symbol("headers map sorted");function Kwe(e){return e===10||e===13||e===9||e===32}o(Kwe,"isHTTPWhiteSpaceCharCode");function Zwe(e){let t=0,r=e.length;for(;r>t&&Kwe(e.charCodeAt(r-1));)--r;for(;r>t&&Kwe(e.charCodeAt(t));)++t;return t===0&&r===e.length?e:e.substring(t,r)}o(Zwe,"headerValueNormalize");function Xwe(e,t){if(Array.isArray(t))for(let r=0;r<t.length;++r){let n=t[r];if(n.length!==2)throw Zi.errors.exception({header:"Headers constructor",message:`expected name/value pair to be length 2, found ${n.length}.`});roe(e,n[0],n[1])}else if(typeof t=="object"&&t!==null){let r=Object.keys(t);for(let n=0;n<r.length;++n)roe(e,r[n],t[r[n]])}else throw Zi.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})}o(Xwe,"fill");function roe(e,t,r){if(r=Zwe(r),yS(t)){if(!Jwe(r))throw Zi.errors.invalidArgument({prefix:"Headers.append",value:r,type:"header value"})}else throw Zi.errors.invalidArgument({prefix:"Headers.append",value:t,type:"header name"});if(t_e(e)==="immutable")throw new TypeError("immutable");return noe(e).append(t,r,!1)}o(roe,"appendHeader");function e_e(e,t){return e[0]<t[0]?-1:1}o(e_e,"compareHeaderName");var TU=class e{static{o(this,"HeadersList")}cookies=null;constructor(t){t instanceof e?(this[$a]=new Map(t[$a]),this[gf]=t[gf],this.cookies=t.cookies===null?null:[...t.cookies]):(this[$a]=new Map(t),this[gf]=null)}contains(t,r){return this[$a].has(r?t:t.toLowerCase())}clear(){this[$a].clear(),this[gf]=null,this.cookies=null}append(t,r,n){this[gf]=null;let i=n?t:t.toLowerCase(),s=this[$a].get(i);if(s){let a=i==="cookie"?"; ":", ";this[$a].set(i,{name:s.name,value:`${s.value}${a}${r}`})}else this[$a].set(i,{name:t,value:r});i==="set-cookie"&&(this.cookies??=[]).push(r)}set(t,r,n){this[gf]=null;let i=n?t:t.toLowerCase();i==="set-cookie"&&(this.cookies=[r]),this[$a].set(i,{name:t,value:r})}delete(t,r){this[gf]=null,r||(t=t.toLowerCase()),t==="set-cookie"&&(this.cookies=null),this[$a].delete(t)}get(t,r){return this[$a].get(r?t:t.toLowerCase())?.value??null}*[Symbol.iterator](){for(let{0:t,1:{value:r}}of this[$a])yield[t,r]}get entries(){let t={};if(this[$a].size!==0)for(let{name:r,value:n}of this[$a].values())t[r]=n;return t}rawValues(){return this[$a].values()}get entriesList(){let t=[];if(this[$a].size!==0)for(let{0:r,1:{name:n,value:i}}of this[$a])if(r==="set-cookie")for(let s of this.cookies)t.push([n,s]);else t.push([n,i]);return t}toSortedArray(){let t=this[$a].size,r=new Array(t);if(t<=32){if(t===0)return r;let n=this[$a][Symbol.iterator](),i=n.next().value;r[0]=[i[0],i[1].value],toe(i[1].value!==null);for(let s=1,a=0,l=0,c=0,u=0,f,m;s<t;++s){for(m=n.next().value,f=r[s]=[m[0],m[1].value],toe(f[1]!==null),c=0,l=s;c<l;)u=c+(l-c>>1),r[u][0]<=f[0]?c=u+1:l=u;if(s!==u){for(a=s;a>c;)r[a]=r[--a];r[c]=f}}if(!n.next().done)throw new TypeError("Unreachable");return r}else{let n=0;for(let{0:i,1:{value:s}}of this[$a])r[n++]=[i,s],toe(s!==null);return r.sort(e_e)}}},hh=class e{static{o(this,"Headers")}#e;#t;constructor(t=void 0){Zi.util.markAsUncloneable(this),t!==a5t&&(this.#t=new TU,this.#e="none",t!==void 0&&(t=Zi.converters.HeadersInit(t,"Headers contructor","init"),Xwe(this,t)))}append(t,r){Zi.brandCheck(this,e),Zi.argumentLengthCheck(arguments,2,"Headers.append");let n="Headers.append";return t=Zi.converters.ByteString(t,n,"name"),r=Zi.converters.ByteString(r,n,"value"),roe(this,t,r)}delete(t){if(Zi.brandCheck(this,e),Zi.argumentLengthCheck(arguments,1,"Headers.delete"),t=Zi.converters.ByteString(t,"Headers.delete","name"),!yS(t))throw Zi.errors.invalidArgument({prefix:"Headers.delete",value:t,type:"header name"});if(this.#e==="immutable")throw new TypeError("immutable");this.#t.contains(t,!1)&&this.#t.delete(t,!1)}get(t){Zi.brandCheck(this,e),Zi.argumentLengthCheck(arguments,1,"Headers.get");let r="Headers.get";if(t=Zi.converters.ByteString(t,r,"name"),!yS(t))throw Zi.errors.invalidArgument({prefix:r,value:t,type:"header name"});return this.#t.get(t,!1)}has(t){Zi.brandCheck(this,e),Zi.argumentLengthCheck(arguments,1,"Headers.has");let r="Headers.has";if(t=Zi.converters.ByteString(t,r,"name"),!yS(t))throw Zi.errors.invalidArgument({prefix:r,value:t,type:"header name"});return this.#t.contains(t,!1)}set(t,r){Zi.brandCheck(this,e),Zi.argumentLengthCheck(arguments,2,"Headers.set");let n="Headers.set";if(t=Zi.converters.ByteString(t,n,"name"),r=Zi.converters.ByteString(r,n,"value"),r=Zwe(r),yS(t)){if(!Jwe(r))throw Zi.errors.invalidArgument({prefix:n,value:r,type:"header value"})}else throw Zi.errors.invalidArgument({prefix:n,value:t,type:"header name"});if(this.#e==="immutable")throw new TypeError("immutable");this.#t.set(t,r,!1)}getSetCookie(){Zi.brandCheck(this,e);let t=this.#t.cookies;return t?[...t]:[]}get[gf](){if(this.#t[gf])return this.#t[gf];let t=[],r=this.#t.toSortedArray(),n=this.#t.cookies;if(n===null||n.length===1)return this.#t[gf]=r;for(let i=0;i<r.length;++i){let{0:s,1:a}=r[i];if(s==="set-cookie")for(let l=0;l<n.length;++l)t.push([s,n[l]]);else t.push([s,a])}return this.#t[gf]=t}[IU.inspect.custom](t,r){return r.depth??=t,`Headers ${IU.formatWithOptions(r,this.#t.entries)}`}static getHeadersGuard(t){return t.#e}static setHeadersGuard(t,r){t.#e=r}static getHeadersList(t){return t.#t}static setHeadersList(t,r){t.#t=r}},{getHeadersGuard:t_e,setHeadersGuard:c5t,getHeadersList:noe,setHeadersList:u5t}=hh;Reflect.deleteProperty(hh,"getHeadersGuard");Reflect.deleteProperty(hh,"setHeadersGuard");Reflect.deleteProperty(hh,"getHeadersList");Reflect.deleteProperty(hh,"setHeadersList");l5t("Headers",hh,gf,0,1);Object.defineProperties(hh.prototype,{append:Z8,delete:Z8,get:Z8,has:Z8,set:Z8,getSetCookie:Z8,[Symbol.toStringTag]:{value:"Headers",configurable:!0},[IU.inspect.custom]:{enumerable:!1}});Zi.converters.HeadersInit=function(e,t,r){if(Zi.util.Type(e)==="Object"){let n=Reflect.get(e,Symbol.iterator);if(!IU.types.isProxy(e)&&n===hh.prototype.entries)try{return noe(e).entriesList}catch{}return typeof n=="function"?Zi.converters["sequence<sequence<ByteString>>"](e,t,r,n.bind(e)):Zi.converters["record<ByteString, ByteString>"](e,t,r)}throw Zi.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})};r_e.exports={fill:Xwe,compareHeaderName:e_e,Headers:hh,HeadersList:TU,getHeadersGuard:t_e,setHeadersGuard:c5t,setHeadersList:u5t,getHeadersList:noe}});var xS=j((PGr,d_e)=>{"use strict";d();var{Headers:l_e,HeadersList:n_e,fill:f5t,getHeadersGuard:d5t,setHeadersGuard:c_e,setHeadersList:u_e}=Ix(),{extractBody:i_e,cloneBody:m5t,mixinBody:h5t,hasFinalizationRegistry:p5t,streamRegistry:g5t,bodyUnusable:A5t}=F8(),ioe=Ci(),o_e=require("node:util"),{kEnumerableProperty:Af}=ioe,{isValidReasonPhrase:y5t,isCancelled:C5t,isAborted:x5t,isBlobLike:v5t,serializeJavascriptValueToJSONString:b5t,isErrorLike:E5t,isomorphicEncode:I5t,environmentSettingsObject:T5t}=mf(),{redirectStatusSet:w5t,nullBodyStatus:_5t}=U_(),{kState:aa,kHeaders:AA}=k5(),{webidl:ii}=oc(),{FormData:S5t}=V_(),{URLSerializer:s_e}=au(),{kConstruct:_U}=Ls(),ooe=require("node:assert"),{types:k5t}=require("node:util"),R5t=new TextEncoder("utf-8"),Tx=class e{static{o(this,"Response")}static error(){return CS(SU(),"immutable")}static json(t,r={}){ii.argumentLengthCheck(arguments,1,"Response.json"),r!==null&&(r=ii.converters.ResponseInit(r));let n=R5t.encode(b5t(t)),i=i_e(n),s=CS(X8({}),"response");return a_e(s,r,{body:i[0],type:"application/json"}),s}static redirect(t,r=302){ii.argumentLengthCheck(arguments,1,"Response.redirect"),t=ii.converters.USVString(t),r=ii.converters["unsigned short"](r);let n;try{n=new URL(t,T5t.settingsObject.baseUrl)}catch(a){throw new TypeError(`Failed to parse URL from ${t}`,{cause:a})}if(!w5t.has(r))throw new RangeError(`Invalid status code ${r}`);let i=CS(X8({}),"immutable");i[aa].status=r;let s=I5t(s_e(n));return i[aa].headersList.append("location",s,!0),i}constructor(t=null,r={}){if(ii.util.markAsUncloneable(this),t===_U)return;t!==null&&(t=ii.converters.BodyInit(t)),r=ii.converters.ResponseInit(r),this[aa]=X8({}),this[AA]=new l_e(_U),c_e(this[AA],"response"),u_e(this[AA],this[aa].headersList);let n=null;if(t!=null){let[i,s]=i_e(t);n={body:i,type:s}}a_e(this,r,n)}get type(){return ii.brandCheck(this,e),this[aa].type}get url(){ii.brandCheck(this,e);let t=this[aa].urlList,r=t[t.length-1]??null;return r===null?"":s_e(r,!0)}get redirected(){return ii.brandCheck(this,e),this[aa].urlList.length>1}get status(){return ii.brandCheck(this,e),this[aa].status}get ok(){return ii.brandCheck(this,e),this[aa].status>=200&&this[aa].status<=299}get statusText(){return ii.brandCheck(this,e),this[aa].statusText}get headers(){return ii.brandCheck(this,e),this[AA]}get body(){return ii.brandCheck(this,e),this[aa].body?this[aa].body.stream:null}get bodyUsed(){return ii.brandCheck(this,e),!!this[aa].body&&ioe.isDisturbed(this[aa].body.stream)}clone(){if(ii.brandCheck(this,e),A5t(this))throw ii.errors.exception({header:"Response.clone",message:"Body has already been consumed."});let t=soe(this[aa]);return CS(t,d5t(this[AA]))}[o_e.inspect.custom](t,r){r.depth===null&&(r.depth=2),r.colors??=!0;let n={status:this.status,statusText:this.statusText,headers:this.headers,body:this.body,bodyUsed:this.bodyUsed,ok:this.ok,redirected:this.redirected,type:this.type,url:this.url};return`Response ${o_e.formatWithOptions(r,n)}`}};h5t(Tx);Object.defineProperties(Tx.prototype,{type:Af,url:Af,status:Af,ok:Af,redirected:Af,statusText:Af,headers:Af,clone:Af,body:Af,bodyUsed:Af,[Symbol.toStringTag]:{value:"Response",configurable:!0}});Object.defineProperties(Tx,{json:Af,redirect:Af,error:Af});function soe(e){if(e.internalResponse)return f_e(soe(e.internalResponse),e.type);let t=X8({...e,body:null});return e.body!=null&&(t.body=m5t(t,e.body)),t}o(soe,"cloneResponse");function X8(e){return{aborted:!1,rangeRequested:!1,timingAllowPassed:!1,requestIncludesCredentials:!1,type:"default",status:200,timingInfo:null,cacheState:"",statusText:"",...e,headersList:e?.headersList?new n_e(e?.headersList):new n_e,urlList:e?.urlList?[...e.urlList]:[]}}o(X8,"makeResponse");function SU(e){let t=E5t(e);return X8({type:"error",status:0,error:t?e:new Error(e&&String(e)),aborted:e&&e.name==="AbortError"})}o(SU,"makeNetworkError");function B5t(e){return e.type==="error"&&e.status===0}o(B5t,"isNetworkError");function wU(e,t){return t={internalResponse:e,...t},new Proxy(e,{get(r,n){return n in t?t[n]:r[n]},set(r,n,i){return ooe(!(n in t)),r[n]=i,!0}})}o(wU,"makeFilteredResponse");function f_e(e,t){if(t==="basic")return wU(e,{type:"basic",headersList:e.headersList});if(t==="cors")return wU(e,{type:"cors",headersList:e.headersList});if(t==="opaque")return wU(e,{type:"opaque",urlList:Object.freeze([]),status:0,statusText:"",body:null});if(t==="opaqueredirect")return wU(e,{type:"opaqueredirect",status:0,statusText:"",headersList:[],body:null});ooe(!1)}o(f_e,"filterResponse");function D5t(e,t=null){return ooe(C5t(e)),x5t(e)?SU(Object.assign(new DOMException("The operation was aborted.","AbortError"),{cause:t})):SU(Object.assign(new DOMException("Request was cancelled."),{cause:t}))}o(D5t,"makeAppropriateNetworkError");function a_e(e,t,r){if(t.status!==null&&(t.status<200||t.status>599))throw new RangeError('init["status"] must be in the range of 200 to 599, inclusive.');if("statusText"in t&&t.statusText!=null&&!y5t(String(t.statusText)))throw new TypeError("Invalid statusText");if("status"in t&&t.status!=null&&(e[aa].status=t.status),"statusText"in t&&t.statusText!=null&&(e[aa].statusText=t.statusText),"headers"in t&&t.headers!=null&&f5t(e[AA],t.headers),r){if(_5t.includes(e.status))throw ii.errors.exception({header:"Response constructor",message:`Invalid response status code ${e.status}`});e[aa].body=r.body,r.type!=null&&!e[aa].headersList.contains("content-type",!0)&&e[aa].headersList.append("content-type",r.type,!0)}}o(a_e,"initializeResponse");function CS(e,t){let r=new Tx(_U);return r[aa]=e,r[AA]=new l_e(_U),u_e(r[AA],e.headersList),c_e(r[AA],t),p5t&&e.body?.stream&&g5t.register(r,new WeakRef(e.body.stream)),r}o(CS,"fromInnerResponse");ii.converters.ReadableStream=ii.interfaceConverter(ReadableStream);ii.converters.FormData=ii.interfaceConverter(S5t);ii.converters.URLSearchParams=ii.interfaceConverter(URLSearchParams);ii.converters.XMLHttpRequestBodyInit=function(e,t,r){return typeof e=="string"?ii.converters.USVString(e,t,r):v5t(e)?ii.converters.Blob(e,t,r,{strict:!1}):ArrayBuffer.isView(e)||k5t.isArrayBuffer(e)?ii.converters.BufferSource(e,t,r):ioe.isFormDataLike(e)?ii.converters.FormData(e,t,r,{strict:!1}):e instanceof URLSearchParams?ii.converters.URLSearchParams(e,t,r):ii.converters.DOMString(e,t,r)};ii.converters.BodyInit=function(e,t,r){return e instanceof ReadableStream?ii.converters.ReadableStream(e,t,r):e?.[Symbol.asyncIterator]?e:ii.converters.XMLHttpRequestBodyInit(e,t,r)};ii.converters.ResponseInit=ii.dictionaryConverter([{key:"status",converter:ii.converters["unsigned short"],defaultValue:o(()=>200,"defaultValue")},{key:"statusText",converter:ii.converters.ByteString,defaultValue:o(()=>"","defaultValue")},{key:"headers",converter:ii.converters.HeadersInit}]);d_e.exports={isNetworkError:B5t,makeNetworkError:SU,makeResponse:X8,makeAppropriateNetworkError:D5t,filterResponse:f_e,Response:Tx,cloneResponse:soe,fromInnerResponse:CS}});var g_e=j((LGr,p_e)=>{"use strict";d();var{kConnected:m_e,kSize:h_e}=Ls(),aoe=class{static{o(this,"CompatWeakRef")}constructor(t){this.value=t}deref(){return this.value[m_e]===0&&this.value[h_e]===0?void 0:this.value}},loe=class{static{o(this,"CompatFinalizer")}constructor(t){this.finalizer=t}register(t,r){t.on&&t.on("disconnect",()=>{t[m_e]===0&&t[h_e]===0&&this.finalizer(r)})}unregister(t){}};p_e.exports=function(){return process.env.NODE_V8_COVERAGE&&process.version.startsWith("v18")?(process._rawDebug("Using compatibility WeakRef and FinalizationRegistry"),{WeakRef:aoe,FinalizationRegistry:loe}):{WeakRef,FinalizationRegistry}}});var e6=j((OGr,B_e)=>{"use strict";d();var{extractBody:P5t,mixinBody:F5t,cloneBody:N5t,bodyUnusable:A_e}=F8(),{Headers:w_e,fill:L5t,HeadersList:DU,setHeadersGuard:uoe,getHeadersGuard:Q5t,setHeadersList:__e,getHeadersList:y_e}=Ix(),{FinalizationRegistry:M5t}=g_e()(),RU=Ci(),C_e=require("node:util"),{isValidHTTPToken:O5t,sameOrigin:x_e,environmentSettingsObject:kU}=mf(),{forbiddenMethodsSet:U5t,corsSafeListedMethodsSet:q5t,referrerPolicy:W5t,requestRedirect:G5t,requestMode:H5t,requestCredentials:j5t,requestCache:V5t,requestDuplex:$5t}=U_(),{kEnumerableProperty:za,normalizedMethodRecordsBase:z5t,normalizedMethodRecords:Y5t}=RU,{kHeaders:yf,kSignal:BU,kState:ys,kDispatcher:coe}=k5(),{webidl:yn}=oc(),{URLSerializer:K5t}=au(),{kConstruct:PU}=Ls(),J5t=require("node:assert"),{getMaxListeners:v_e,setMaxListeners:b_e,getEventListeners:Z5t,defaultMaxListeners:E_e}=require("node:events"),X5t=Symbol("abortController"),S_e=new M5t(({signal:e,abort:t})=>{e.removeEventListener("abort",t)}),FU=new WeakMap;function I_e(e){return t;function t(){let r=e.deref();if(r!==void 0){S_e.unregister(t),this.removeEventListener("abort",t),r.abort(this.reason);let n=FU.get(r.signal);if(n!==void 0){if(n.size!==0){for(let i of n){let s=i.deref();s!==void 0&&s.abort(this.reason)}n.clear()}FU.delete(r.signal)}}}}o(I_e,"buildAbort");var T_e=!1,U5=class e{static{o(this,"Request")}constructor(t,r={}){if(yn.util.markAsUncloneable(this),t===PU)return;let n="Request constructor";yn.argumentLengthCheck(arguments,1,n),t=yn.converters.RequestInfo(t,n,"input"),r=yn.converters.RequestInit(r,n,"init");let i=null,s=null,a=kU.settingsObject.baseUrl,l=null;if(typeof t=="string"){this[coe]=r.dispatcher;let E;try{E=new URL(t,a)}catch(b){throw new TypeError("Failed to parse URL from "+t,{cause:b})}if(E.username||E.password)throw new TypeError("Request cannot be constructed from a URL that includes credentials: "+t);i=NU({urlList:[E]}),s="cors"}else this[coe]=r.dispatcher||t[coe],J5t(t instanceof e),i=t[ys],l=t[BU];let c=kU.settingsObject.origin,u="client";if(i.window?.constructor?.name==="EnvironmentSettingsObject"&&x_e(i.window,c)&&(u=i.window),r.window!=null)throw new TypeError(`'window' option '${u}' must be null`);"window"in r&&(u="no-window"),i=NU({method:i.method,headersList:i.headersList,unsafeRequest:i.unsafeRequest,client:kU.settingsObject,window:u,priority:i.priority,origin:i.origin,referrer:i.referrer,referrerPolicy:i.referrerPolicy,mode:i.mode,credentials:i.credentials,cache:i.cache,redirect:i.redirect,integrity:i.integrity,keepalive:i.keepalive,reloadNavigation:i.reloadNavigation,historyNavigation:i.historyNavigation,urlList:[...i.urlList]});let f=Object.keys(r).length!==0;if(f&&(i.mode==="navigate"&&(i.mode="same-origin"),i.reloadNavigation=!1,i.historyNavigation=!1,i.origin="client",i.referrer="client",i.referrerPolicy="",i.url=i.urlList[i.urlList.length-1],i.urlList=[i.url]),r.referrer!==void 0){let E=r.referrer;if(E==="")i.referrer="no-referrer";else{let b;try{b=new URL(E,a)}catch(_){throw new TypeError(`Referrer "${E}" is not a valid URL.`,{cause:_})}b.protocol==="about:"&&b.hostname==="client"||c&&!x_e(b,kU.settingsObject.baseUrl)?i.referrer="client":i.referrer=b}}r.referrerPolicy!==void 0&&(i.referrerPolicy=r.referrerPolicy);let m;if(r.mode!==void 0?m=r.mode:m=s,m==="navigate")throw yn.errors.exception({header:"Request constructor",message:"invalid request mode navigate."});if(m!=null&&(i.mode=m),r.credentials!==void 0&&(i.credentials=r.credentials),r.cache!==void 0&&(i.cache=r.cache),i.cache==="only-if-cached"&&i.mode!=="same-origin")throw new TypeError("'only-if-cached' can be set only with 'same-origin' mode");if(r.redirect!==void 0&&(i.redirect=r.redirect),r.integrity!=null&&(i.integrity=String(r.integrity)),r.keepalive!==void 0&&(i.keepalive=!!r.keepalive),r.method!==void 0){let E=r.method,b=Y5t[E];if(b!==void 0)i.method=b;else{if(!O5t(E))throw new TypeError(`'${E}' is not a valid HTTP method.`);let _=E.toUpperCase();if(U5t.has(_))throw new TypeError(`'${E}' HTTP method is unsupported.`);E=z5t[_]??E,i.method=E}!T_e&&i.method==="patch"&&(process.emitWarning("Using `patch` is highly likely to result in a `405 Method Not Allowed`. `PATCH` is much more likely to succeed.",{code:"UNDICI-FETCH-patch"}),T_e=!0)}r.signal!==void 0&&(l=r.signal),this[ys]=i;let h=new AbortController;if(this[BU]=h.signal,l!=null){if(!l||typeof l.aborted!="boolean"||typeof l.addEventListener!="function")throw new TypeError("Failed to construct 'Request': member signal is not of type AbortSignal.");if(l.aborted)h.abort(l.reason);else{this[X5t]=h;let E=new WeakRef(h),b=I_e(E);try{(typeof v_e=="function"&&v_e(l)===E_e||Z5t(l,"abort").length>=E_e)&&b_e(1500,l)}catch{}RU.addAbortListener(l,b),S_e.register(h,{signal:l,abort:b},b)}}if(this[yf]=new w_e(PU),__e(this[yf],i.headersList),uoe(this[yf],"request"),m==="no-cors"){if(!q5t.has(i.method))throw new TypeError(`'${i.method} is unsupported in no-cors mode.`);uoe(this[yf],"request-no-cors")}if(f){let E=y_e(this[yf]),b=r.headers!==void 0?r.headers:new DU(E);if(E.clear(),b instanceof DU){for(let{name:_,value:R}of b.rawValues())E.append(_,R,!1);E.cookies=b.cookies}else L5t(this[yf],b)}let p=t instanceof e?t[ys].body:null;if((r.body!=null||p!=null)&&(i.method==="GET"||i.method==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body.");let g=null;if(r.body!=null){let[E,b]=P5t(r.body,i.keepalive);g=E,b&&!y_e(this[yf]).contains("content-type",!0)&&this[yf].append("content-type",b)}let x=g??p;if(x!=null&&x.source==null){if(g!=null&&r.duplex==null)throw new TypeError("RequestInit: duplex option is required when sending a body.");if(i.mode!=="same-origin"&&i.mode!=="cors")throw new TypeError('If request is made from ReadableStream, mode should be "same-origin" or "cors"');i.useCORSPreflightFlag=!0}let v=x;if(g==null&&p!=null){if(A_e(t))throw new TypeError("Cannot construct a Request with a Request object that has already been used.");let E=new TransformStream;p.stream.pipeThrough(E),v={source:p.source,length:p.length,stream:E.readable}}this[ys].body=v}get method(){return yn.brandCheck(this,e),this[ys].method}get url(){return yn.brandCheck(this,e),K5t(this[ys].url)}get headers(){return yn.brandCheck(this,e),this[yf]}get destination(){return yn.brandCheck(this,e),this[ys].destination}get referrer(){return yn.brandCheck(this,e),this[ys].referrer==="no-referrer"?"":this[ys].referrer==="client"?"about:client":this[ys].referrer.toString()}get referrerPolicy(){return yn.brandCheck(this,e),this[ys].referrerPolicy}get mode(){return yn.brandCheck(this,e),this[ys].mode}get credentials(){return this[ys].credentials}get cache(){return yn.brandCheck(this,e),this[ys].cache}get redirect(){return yn.brandCheck(this,e),this[ys].redirect}get integrity(){return yn.brandCheck(this,e),this[ys].integrity}get keepalive(){return yn.brandCheck(this,e),this[ys].keepalive}get isReloadNavigation(){return yn.brandCheck(this,e),this[ys].reloadNavigation}get isHistoryNavigation(){return yn.brandCheck(this,e),this[ys].historyNavigation}get signal(){return yn.brandCheck(this,e),this[BU]}get body(){return yn.brandCheck(this,e),this[ys].body?this[ys].body.stream:null}get bodyUsed(){return yn.brandCheck(this,e),!!this[ys].body&&RU.isDisturbed(this[ys].body.stream)}get duplex(){return yn.brandCheck(this,e),"half"}clone(){if(yn.brandCheck(this,e),A_e(this))throw new TypeError("unusable");let t=k_e(this[ys]),r=new AbortController;if(this.signal.aborted)r.abort(this.signal.reason);else{let n=FU.get(this.signal);n===void 0&&(n=new Set,FU.set(this.signal,n));let i=new WeakRef(r);n.add(i),RU.addAbortListener(r.signal,I_e(i))}return R_e(t,r.signal,Q5t(this[yf]))}[C_e.inspect.custom](t,r){r.depth===null&&(r.depth=2),r.colors??=!0;let n={method:this.method,url:this.url,headers:this.headers,destination:this.destination,referrer:this.referrer,referrerPolicy:this.referrerPolicy,mode:this.mode,credentials:this.credentials,cache:this.cache,redirect:this.redirect,integrity:this.integrity,keepalive:this.keepalive,isReloadNavigation:this.isReloadNavigation,isHistoryNavigation:this.isHistoryNavigation,signal:this.signal};return`Request ${C_e.formatWithOptions(r,n)}`}};F5t(U5);function NU(e){return{method:e.method??"GET",localURLsOnly:e.localURLsOnly??!1,unsafeRequest:e.unsafeRequest??!1,body:e.body??null,client:e.client??null,reservedClient:e.reservedClient??null,replacesClientId:e.replacesClientId??"",window:e.window??"client",keepalive:e.keepalive??!1,serviceWorkers:e.serviceWorkers??"all",initiator:e.initiator??"",destination:e.destination??"",priority:e.priority??null,origin:e.origin??"client",policyContainer:e.policyContainer??"client",referrer:e.referrer??"client",referrerPolicy:e.referrerPolicy??"",mode:e.mode??"no-cors",useCORSPreflightFlag:e.useCORSPreflightFlag??!1,credentials:e.credentials??"same-origin",useCredentials:e.useCredentials??!1,cache:e.cache??"default",redirect:e.redirect??"follow",integrity:e.integrity??"",cryptoGraphicsNonceMetadata:e.cryptoGraphicsNonceMetadata??"",parserMetadata:e.parserMetadata??"",reloadNavigation:e.reloadNavigation??!1,historyNavigation:e.historyNavigation??!1,userActivation:e.userActivation??!1,taintedOrigin:e.taintedOrigin??!1,redirectCount:e.redirectCount??0,responseTainting:e.responseTainting??"basic",preventNoCacheCacheControlHeaderModification:e.preventNoCacheCacheControlHeaderModification??!1,done:e.done??!1,timingAllowFailed:e.timingAllowFailed??!1,urlList:e.urlList,url:e.urlList[0],headersList:e.headersList?new DU(e.headersList):new DU}}o(NU,"makeRequest");function k_e(e){let t=NU({...e,body:null});return e.body!=null&&(t.body=N5t(t,e.body)),t}o(k_e,"cloneRequest");function R_e(e,t,r){let n=new U5(PU);return n[ys]=e,n[BU]=t,n[yf]=new w_e(PU),__e(n[yf],e.headersList),uoe(n[yf],r),n}o(R_e,"fromInnerRequest");Object.defineProperties(U5.prototype,{method:za,url:za,headers:za,redirect:za,clone:za,signal:za,duplex:za,destination:za,body:za,bodyUsed:za,isHistoryNavigation:za,isReloadNavigation:za,keepalive:za,integrity:za,cache:za,credentials:za,attribute:za,referrerPolicy:za,referrer:za,mode:za,[Symbol.toStringTag]:{value:"Request",configurable:!0}});yn.converters.Request=yn.interfaceConverter(U5);yn.converters.RequestInfo=function(e,t,r){return typeof e=="string"?yn.converters.USVString(e,t,r):e instanceof U5?yn.converters.Request(e,t,r):yn.converters.USVString(e,t,r)};yn.converters.AbortSignal=yn.interfaceConverter(AbortSignal);yn.converters.RequestInit=yn.dictionaryConverter([{key:"method",converter:yn.converters.ByteString},{key:"headers",converter:yn.converters.HeadersInit},{key:"body",converter:yn.nullableConverter(yn.converters.BodyInit)},{key:"referrer",converter:yn.converters.USVString},{key:"referrerPolicy",converter:yn.converters.DOMString,allowedValues:W5t},{key:"mode",converter:yn.converters.DOMString,allowedValues:H5t},{key:"credentials",converter:yn.converters.DOMString,allowedValues:j5t},{key:"cache",converter:yn.converters.DOMString,allowedValues:V5t},{key:"redirect",converter:yn.converters.DOMString,allowedValues:G5t},{key:"integrity",converter:yn.converters.DOMString},{key:"keepalive",converter:yn.converters.boolean},{key:"signal",converter:yn.nullableConverter(e=>yn.converters.AbortSignal(e,"RequestInit","signal",{strict:!1}))},{key:"window",converter:yn.converters.any},{key:"duplex",converter:yn.converters.DOMString,allowedValues:$5t},{key:"dispatcher",converter:yn.converters.any}]);B_e.exports={Request:U5,makeRequest:NU,fromInnerRequest:R_e,cloneRequest:k_e}});var bS=j((WGr,V_e)=>{"use strict";d();var{makeNetworkError:Lo,makeAppropriateNetworkError:LU,filterResponse:foe,makeResponse:QU,fromInnerResponse:eCt}=xS(),{HeadersList:D_e}=Ix(),{Request:tCt,cloneRequest:rCt}=e6(),q5=require("node:zlib"),{bytesMatch:nCt,makePolicyContainer:iCt,clonePolicyContainer:oCt,requestBadPort:sCt,TAOCheck:aCt,appendRequestOriginHeader:lCt,responseLocationURL:cCt,requestCurrentURL:ig,setRequestReferrerPolicyOnRedirect:uCt,tryUpgradeRequestToAPotentiallyTrustworthyURL:fCt,createOpaqueTimingInfo:goe,appendFetchMetadata:dCt,corsCheck:mCt,crossOriginResourcePolicyCheck:hCt,determineRequestsReferrer:pCt,coarsenedSharedCurrentTime:vS,createDeferredPromise:gCt,isBlobLike:ACt,sameOrigin:poe,isCancelled:wx,isAborted:P_e,isErrorLike:yCt,fullyReadBody:CCt,readableStreamClose:xCt,isomorphicEncode:MU,urlIsLocal:vCt,urlIsHttpHttpsScheme:Aoe,urlHasHttpsScheme:bCt,clampAndCoarsenConnectionTimingInfo:ECt,simpleRangeHeaderValue:ICt,buildContentRange:TCt,createInflate:wCt,extractMimeType:_Ct}=mf(),{kState:Q_e,kDispatcher:SCt}=k5(),_x=require("node:assert"),{safelyExtractBody:yoe,extractBody:F_e}=F8(),{redirectStatusSet:M_e,nullBodyStatus:O_e,safeMethodsSet:kCt,requestBodyHeader:RCt,subresourceSet:BCt}=U_(),DCt=require("node:events"),{Readable:PCt,pipeline:FCt,finished:NCt}=require("node:stream"),{addAbortListener:LCt,isErrored:QCt,isReadable:OU,bufferToLowerCasedHeaderName:N_e}=Ci(),{dataURLProcessor:MCt,serializeAMimeType:OCt,minimizeSupportedMimeType:UCt}=au(),{getGlobalDispatcher:qCt}=bU(),{webidl:WCt}=oc(),{STATUS_CODES:GCt}=require("node:http"),HCt=["GET","HEAD"],jCt=typeof __UNDICI_IS_NODE__<"u"||typeof esbuildDetection<"u"?"node":"undici",doe,UU=class extends DCt{static{o(this,"Fetch")}constructor(t){super(),this.dispatcher=t,this.connection=null,this.dump=!1,this.state="ongoing"}terminate(t){this.state==="ongoing"&&(this.state="terminated",this.connection?.destroy(t),this.emit("terminated",t))}abort(t){this.state==="ongoing"&&(this.state="aborted",t||(t=new DOMException("The operation was aborted.","AbortError")),this.serializedAbortReason=t,this.connection?.destroy(t),this.emit("terminated",t))}};function VCt(e){U_e(e,"fetch")}o(VCt,"handleFetchDone");function $Ct(e,t=void 0){WCt.argumentLengthCheck(arguments,1,"globalThis.fetch");let r=gCt(),n;try{n=new tCt(e,t)}catch(f){return r.reject(f),r.promise}let i=n[Q_e];if(n.signal.aborted)return moe(r,i,null,n.signal.reason),r.promise;i.client.globalObject?.constructor?.name==="ServiceWorkerGlobalScope"&&(i.serviceWorkers="none");let a=null,l=!1,c=null;return LCt(n.signal,()=>{l=!0,_x(c!=null),c.abort(n.signal.reason);let f=a?.deref();moe(r,i,f,n.signal.reason)}),c=W_e({request:i,processResponseEndOfBody:VCt,processResponse:o(f=>{if(!l){if(f.aborted){moe(r,i,a,c.serializedAbortReason);return}if(f.type==="error"){r.reject(new TypeError("fetch failed",{cause:f.error}));return}a=new WeakRef(eCt(f,"immutable")),r.resolve(a.deref()),r=null}},"processResponse"),dispatcher:n[SCt]}),r.promise}o($Ct,"fetch");function U_e(e,t="other"){if(e.type==="error"&&e.aborted||!e.urlList?.length)return;let r=e.urlList[0],n=e.timingInfo,i=e.cacheState;Aoe(r)&&n!==null&&(e.timingAllowPassed||(n=goe({startTime:n.startTime}),i=""),n.endTime=vS(),e.timingInfo=n,q_e(n,r.href,t,globalThis,i))}o(U_e,"finalizeAndReportTiming");var q_e=performance.markResourceTiming;function moe(e,t,r,n){if(e&&e.reject(n),t.body!=null&&OU(t.body?.stream)&&t.body.stream.cancel(n).catch(s=>{if(s.code!=="ERR_INVALID_STATE")throw s}),r==null)return;let i=r[Q_e];i.body!=null&&OU(i.body?.stream)&&i.body.stream.cancel(n).catch(s=>{if(s.code!=="ERR_INVALID_STATE")throw s})}o(moe,"abortFetch");function W_e({request:e,processRequestBodyChunkLength:t,processRequestEndOfBody:r,processResponse:n,processResponseEndOfBody:i,processResponseConsumeBody:s,useParallelQueue:a=!1,dispatcher:l=qCt()}){_x(l);let c=null,u=!1;e.client!=null&&(c=e.client.globalObject,u=e.client.crossOriginIsolatedCapability);let f=vS(u),m=goe({startTime:f}),h={controller:new UU(l),request:e,timingInfo:m,processRequestBodyChunkLength:t,processRequestEndOfBody:r,processResponse:n,processResponseConsumeBody:s,processResponseEndOfBody:i,taskDestination:c,crossOriginIsolatedCapability:u};return _x(!e.body||e.body.stream),e.window==="client"&&(e.window=e.client?.globalObject?.constructor?.name==="Window"?e.client:"no-window"),e.origin==="client"&&(e.origin=e.client.origin),e.policyContainer==="client"&&(e.client!=null?e.policyContainer=oCt(e.client.policyContainer):e.policyContainer=iCt()),e.headersList.contains("accept",!0)||e.headersList.append("accept","*/*",!0),e.headersList.contains("accept-language",!0)||e.headersList.append("accept-language","*",!0),e.priority,BCt.has(e.destination),G_e(h).catch(p=>{h.controller.terminate(p)}),h.controller}o(W_e,"fetching");async function G_e(e,t=!1){let r=e.request,n=null;if(r.localURLsOnly&&!vCt(ig(r))&&(n=Lo("local URLs only")),fCt(r),sCt(r)==="blocked"&&(n=Lo("bad port")),r.referrerPolicy===""&&(r.referrerPolicy=r.policyContainer.referrerPolicy),r.referrer!=="no-referrer"&&(r.referrer=pCt(r)),n===null&&(n=await(async()=>{let s=ig(r);return poe(s,r.url)&&r.responseTainting==="basic"||s.protocol==="data:"||r.mode==="navigate"||r.mode==="websocket"?(r.responseTainting="basic",await L_e(e)):r.mode==="same-origin"?Lo('request mode cannot be "same-origin"'):r.mode==="no-cors"?r.redirect!=="follow"?Lo('redirect mode cannot be "follow" for "no-cors" request'):(r.responseTainting="opaque",await L_e(e)):Aoe(ig(r))?(r.responseTainting="cors",await H_e(e)):Lo("URL scheme must be a HTTP(S) scheme")})()),t)return n;n.status!==0&&!n.internalResponse&&(r.responseTainting,r.responseTainting==="basic"?n=foe(n,"basic"):r.responseTainting==="cors"?n=foe(n,"cors"):r.responseTainting==="opaque"?n=foe(n,"opaque"):_x(!1));let i=n.status===0?n:n.internalResponse;if(i.urlList.length===0&&i.urlList.push(...r.urlList),r.timingAllowFailed||(n.timingAllowPassed=!0),n.type==="opaque"&&i.status===206&&i.rangeRequested&&!r.headers.contains("range",!0)&&(n=i=Lo()),n.status!==0&&(r.method==="HEAD"||r.method==="CONNECT"||O_e.includes(i.status))&&(i.body=null,e.controller.dump=!0),r.integrity){let s=o(l=>hoe(e,Lo(l)),"processBodyError");if(r.responseTainting==="opaque"||n.body==null){s(n.error);return}let a=o(l=>{if(!nCt(l,r.integrity)){s("integrity mismatch");return}n.body=yoe(l)[0],hoe(e,n)},"processBody");await CCt(n.body,a,s)}else hoe(e,n)}o(G_e,"mainFetch");function L_e(e){if(wx(e)&&e.request.redirectCount===0)return Promise.resolve(LU(e));let{request:t}=e,{protocol:r}=ig(t);switch(r){case"about:":return Promise.resolve(Lo("about scheme is not supported"));case"blob:":{doe||(doe=require("node:buffer").resolveObjectURL);let n=ig(t);if(n.search.length!==0)return Promise.resolve(Lo("NetworkError when attempting to fetch resource."));let i=doe(n.toString());if(t.method!=="GET"||!ACt(i))return Promise.resolve(Lo("invalid method"));let s=QU(),a=i.size,l=MU(`${a}`),c=i.type;if(t.headersList.contains("range",!0)){s.rangeRequested=!0;let u=t.headersList.get("range",!0),f=ICt(u,!0);if(f==="failure")return Promise.resolve(Lo("failed to fetch the data URL"));let{rangeStartValue:m,rangeEndValue:h}=f;if(m===null)m=a-h,h=m+h-1;else{if(m>=a)return Promise.resolve(Lo("Range start is greater than the blob's size."));(h===null||h>=a)&&(h=a-1)}let p=i.slice(m,h,c),g=F_e(p);s.body=g[0];let x=MU(`${p.size}`),v=TCt(m,h,a);s.status=206,s.statusText="Partial Content",s.headersList.set("content-length",x,!0),s.headersList.set("content-type",c,!0),s.headersList.set("content-range",v,!0)}else{let u=F_e(i);s.statusText="OK",s.body=u[0],s.headersList.set("content-length",l,!0),s.headersList.set("content-type",c,!0)}return Promise.resolve(s)}case"data:":{let n=ig(t),i=MCt(n);if(i==="failure")return Promise.resolve(Lo("failed to fetch the data URL"));let s=OCt(i.mimeType);return Promise.resolve(QU({statusText:"OK",headersList:[["content-type",{name:"Content-Type",value:s}]],body:yoe(i.body)[0]}))}case"file:":return Promise.resolve(Lo("not implemented... yet..."));case"http:":case"https:":return H_e(e).catch(n=>Lo(n));default:return Promise.resolve(Lo("unknown scheme"))}}o(L_e,"schemeFetch");function zCt(e,t){e.request.done=!0,e.processResponseDone!=null&&queueMicrotask(()=>e.processResponseDone(t))}o(zCt,"finalizeResponse");function hoe(e,t){let r=e.timingInfo,n=o(()=>{let s=Date.now();e.request.destination==="document"&&(e.controller.fullTimingInfo=r),e.controller.reportTimingSteps=()=>{if(e.request.url.protocol!=="https:")return;r.endTime=s;let l=t.cacheState,c=t.bodyInfo;t.timingAllowPassed||(r=goe(r),l="");let u=0;if(e.request.mode!=="navigator"||!t.hasCrossOriginRedirects){u=t.status;let f=_Ct(t.headersList);f!=="failure"&&(c.contentType=UCt(f))}e.request.initiatorType!=null&&q_e(r,e.request.url.href,e.request.initiatorType,globalThis,l,c,u)};let a=o(()=>{e.request.done=!0,e.processResponseEndOfBody!=null&&queueMicrotask(()=>e.processResponseEndOfBody(t)),e.request.initiatorType!=null&&e.controller.reportTimingSteps()},"processResponseEndOfBodyTask");queueMicrotask(()=>a())},"processResponseEndOfBody");e.processResponse!=null&&queueMicrotask(()=>{e.processResponse(t),e.processResponse=null});let i=t.type==="error"?t:t.internalResponse??t;i.body==null?n():NCt(i.body.stream,()=>{n()})}o(hoe,"fetchFinale");async function H_e(e){let t=e.request,r=null,n=null,i=e.timingInfo;if(t.serviceWorkers,r===null){if(t.redirect==="follow"&&(t.serviceWorkers="none"),n=r=await j_e(e),t.responseTainting==="cors"&&mCt(t,r)==="failure")return Lo("cors failure");aCt(t,r)==="failure"&&(t.timingAllowFailed=!0)}return(t.responseTainting==="opaque"||r.type==="opaque")&&hCt(t.origin,t.client,t.destination,n)==="blocked"?Lo("blocked"):(M_e.has(n.status)&&(t.redirect!=="manual"&&e.controller.connection.destroy(void 0,!1),t.redirect==="error"?r=Lo("unexpected redirect"):t.redirect==="manual"?r=n:t.redirect==="follow"?r=await YCt(e,r):_x(!1)),r.timingInfo=i,r)}o(H_e,"httpFetch");function YCt(e,t){let r=e.request,n=t.internalResponse?t.internalResponse:t,i;try{if(i=cCt(n,ig(r).hash),i==null)return t}catch(a){return Promise.resolve(Lo(a))}if(!Aoe(i))return Promise.resolve(Lo("URL scheme must be a HTTP(S) scheme"));if(r.redirectCount===20)return Promise.resolve(Lo("redirect count exceeded"));if(r.redirectCount+=1,r.mode==="cors"&&(i.username||i.password)&&!poe(r,i))return Promise.resolve(Lo('cross origin not allowed for request mode "cors"'));if(r.responseTainting==="cors"&&(i.username||i.password))return Promise.resolve(Lo('URL cannot contain credentials for request mode "cors"'));if(n.status!==303&&r.body!=null&&r.body.source==null)return Promise.resolve(Lo());if([301,302].includes(n.status)&&r.method==="POST"||n.status===303&&!HCt.includes(r.method)){r.method="GET",r.body=null;for(let a of RCt)r.headersList.delete(a)}poe(ig(r),i)||(r.headersList.delete("authorization",!0),r.headersList.delete("proxy-authorization",!0),r.headersList.delete("cookie",!0),r.headersList.delete("host",!0)),r.body!=null&&(_x(r.body.source!=null),r.body=yoe(r.body.source)[0]);let s=e.timingInfo;return s.redirectEndTime=s.postRedirectStartTime=vS(e.crossOriginIsolatedCapability),s.redirectStartTime===0&&(s.redirectStartTime=s.startTime),r.urlList.push(i),uCt(r,n),G_e(e,!0)}o(YCt,"httpRedirectFetch");async function j_e(e,t=!1,r=!1){let n=e.request,i=null,s=null,a=null,l=null,c=!1;n.window==="no-window"&&n.redirect==="error"?(i=e,s=n):(s=rCt(n),i={...e},i.request=s);let u=n.credentials==="include"||n.credentials==="same-origin"&&n.responseTainting==="basic",f=s.body?s.body.length:null,m=null;if(s.body==null&&["POST","PUT"].includes(s.method)&&(m="0"),f!=null&&(m=MU(`${f}`)),m!=null&&s.headersList.append("content-length",m,!0),f!=null&&s.keepalive,s.referrer instanceof URL&&s.headersList.append("referer",MU(s.referrer.href),!0),lCt(s),dCt(s),s.headersList.contains("user-agent",!0)||s.headersList.append("user-agent",jCt),s.cache==="default"&&(s.headersList.contains("if-modified-since",!0)||s.headersList.contains("if-none-match",!0)||s.headersList.contains("if-unmodified-since",!0)||s.headersList.contains("if-match",!0)||s.headersList.contains("if-range",!0))&&(s.cache="no-store"),s.cache==="no-cache"&&!s.preventNoCacheCacheControlHeaderModification&&!s.headersList.contains("cache-control",!0)&&s.headersList.append("cache-control","max-age=0",!0),(s.cache==="no-store"||s.cache==="reload")&&(s.headersList.contains("pragma",!0)||s.headersList.append("pragma","no-cache",!0),s.headersList.contains("cache-control",!0)||s.headersList.append("cache-control","no-cache",!0)),s.headersList.contains("range",!0)&&s.headersList.append("accept-encoding","identity",!0),s.headersList.contains("accept-encoding",!0)||(bCt(ig(s))?s.headersList.append("accept-encoding","br, gzip, deflate",!0):s.headersList.append("accept-encoding","gzip, deflate",!0)),s.headersList.delete("host",!0),l==null&&(s.cache="no-store"),s.cache!=="no-store"&&s.cache,a==null){if(s.cache==="only-if-cached")return Lo("only if cached");let h=await KCt(i,u,r);!kCt.has(s.method)&&h.status>=200&&h.status<=399,c&&h.status,a==null&&(a=h)}if(a.urlList=[...s.urlList],s.headersList.contains("range",!0)&&(a.rangeRequested=!0),a.requestIncludesCredentials=u,a.status===407)return n.window==="no-window"?Lo():wx(e)?LU(e):Lo("proxy authentication required");if(a.status===421&&!r&&(n.body==null||n.body.source!=null)){if(wx(e))return LU(e);e.controller.connection.destroy(),a=await j_e(e,t,!0)}return a}o(j_e,"httpNetworkOrCacheFetch");async function KCt(e,t=!1,r=!1){_x(!e.controller.connection||e.controller.connection.destroyed),e.controller.connection={abort:null,destroyed:!1,destroy(g,x=!0){this.destroyed||(this.destroyed=!0,x&&this.abort?.(g??new DOMException("The operation was aborted.","AbortError")))}};let n=e.request,i=null,s=e.timingInfo;null==null&&(n.cache="no-store");let l=r?"yes":"no";n.mode;let c=null;if(n.body==null&&e.processRequestEndOfBody)queueMicrotask(()=>e.processRequestEndOfBody());else if(n.body!=null){let g=o(async function*(E){wx(e)||(yield E,e.processRequestBodyChunkLength?.(E.byteLength))},"processBodyChunk"),x=o(()=>{wx(e)||e.processRequestEndOfBody&&e.processRequestEndOfBody()},"processEndOfBody"),v=o(E=>{wx(e)||(E.name==="AbortError"?e.controller.abort():e.controller.terminate(E))},"processBodyError");c=async function*(){try{for await(let E of n.body.stream)yield*g(E);x()}catch(E){v(E)}}()}try{let{body:g,status:x,statusText:v,headersList:E,socket:b}=await p({body:c});if(b)i=QU({status:x,statusText:v,headersList:E,socket:b});else{let _=g[Symbol.asyncIterator]();e.controller.next=()=>_.next(),i=QU({status:x,statusText:v,headersList:E})}}catch(g){return g.name==="AbortError"?(e.controller.connection.destroy(),LU(e,g)):Lo(g)}let u=o(async()=>{await e.controller.resume()},"pullAlgorithm"),f=o(g=>{wx(e)||e.controller.abort(g)},"cancelAlgorithm"),m=new ReadableStream({async start(g){e.controller.controller=g},async pull(g){await u(g)},async cancel(g){await f(g)},type:"bytes"});i.body={stream:m,source:null,length:null},e.controller.onAborted=h,e.controller.on("terminated",h),e.controller.resume=async()=>{for(;;){let g,x;try{let{done:E,value:b}=await e.controller.next();if(P_e(e))break;g=E?void 0:b}catch(E){e.controller.ended&&!s.encodedBodySize?g=void 0:(g=E,x=!0)}if(g===void 0){xCt(e.controller.controller),zCt(e,i);return}if(s.decodedBodySize+=g?.byteLength??0,x){e.controller.terminate(g);return}let v=new Uint8Array(g);if(v.byteLength&&e.controller.controller.enqueue(v),QCt(m)){e.controller.terminate();return}if(e.controller.controller.desiredSize<=0)return}};function h(g){P_e(e)?(i.aborted=!0,OU(m)&&e.controller.controller.error(e.controller.serializedAbortReason)):OU(m)&&e.controller.controller.error(new TypeError("terminated",{cause:yCt(g)?g:void 0})),e.controller.connection.destroy()}return o(h,"onAborted"),i;function p({body:g}){let x=ig(n),v=e.controller.dispatcher;return new Promise((E,b)=>v.dispatch({path:x.pathname+x.search,origin:x.origin,method:n.method,body:v.isMockActive?n.body&&(n.body.source||n.body.stream):g,headers:n.headersList.entries,maxRedirections:0,upgrade:n.mode==="websocket"?"websocket":void 0},{body:null,abort:null,onConnect(_){let{connection:R}=e.controller;s.finalConnectionTimingInfo=ECt(void 0,s.postRedirectStartTime,e.crossOriginIsolatedCapability),R.destroyed?_(new DOMException("The operation was aborted.","AbortError")):(e.controller.on("terminated",_),this.abort=R.abort=_),s.finalNetworkRequestStartTime=vS(e.crossOriginIsolatedCapability)},onResponseStarted(){s.finalNetworkResponseStartTime=vS(e.crossOriginIsolatedCapability)},onHeaders(_,R,P,F){if(_<200)return;let G=[],se="",Ae=new D_e;for(let X=0;X<R.length;X+=2)Ae.append(N_e(R[X]),R[X+1].toString("latin1"),!0);let re=Ae.get("content-encoding",!0);re&&(G=re.toLowerCase().split(",").map(X=>X.trim())),se=Ae.get("location",!0),this.body=new PCt({read:P});let W=[],q=se&&n.redirect==="follow"&&M_e.has(_);if(G.length!==0&&n.method!=="HEAD"&&n.method!=="CONNECT"&&!O_e.includes(_)&&!q)for(let X=G.length-1;X>=0;--X){let H=G[X];if(H==="x-gzip"||H==="gzip")W.push(q5.createGunzip({flush:q5.constants.Z_SYNC_FLUSH,finishFlush:q5.constants.Z_SYNC_FLUSH}));else if(H==="deflate")W.push(wCt({flush:q5.constants.Z_SYNC_FLUSH,finishFlush:q5.constants.Z_SYNC_FLUSH}));else if(H==="br")W.push(q5.createBrotliDecompress({flush:q5.constants.BROTLI_OPERATION_FLUSH,finishFlush:q5.constants.BROTLI_OPERATION_FLUSH}));else{W.length=0;break}}let oe=this.onError.bind(this);return E({status:_,statusText:F,headersList:Ae,body:W.length?FCt(this.body,...W,X=>{X&&this.onError(X)}).on("error",oe):this.body.on("error",oe)}),!0},onData(_){if(e.controller.dump)return;let R=_;return s.encodedBodySize+=R.byteLength,this.body.push(R)},onComplete(){this.abort&&e.controller.off("terminated",this.abort),e.controller.onAborted&&e.controller.off("terminated",e.controller.onAborted),e.controller.ended=!0,this.body.push(null)},onError(_){this.abort&&e.controller.off("terminated",this.abort),this.body?.destroy(_),e.controller.terminate(_),b(_)},onUpgrade(_,R,P){if(_!==101)return;let F=new D_e;for(let G=0;G<R.length;G+=2)F.append(N_e(R[G]),R[G+1].toString("latin1"),!0);return E({status:_,statusText:GCt[_],headersList:F,socket:P}),!0}}))}o(p,"dispatch")}o(KCt,"httpNetworkFetch");V_e.exports={fetch:$Ct,Fetch:UU,fetching:W_e,finalizeAndReportTiming:U_e}});var Coe=j((jGr,$_e)=>{"use strict";d();$_e.exports={kState:Symbol("FileReader state"),kResult:Symbol("FileReader result"),kError:Symbol("FileReader error"),kLastProgressEventFired:Symbol("FileReader last progress event fired timestamp"),kEvents:Symbol("FileReader events"),kAborted:Symbol("FileReader aborted")}});var Y_e=j(($Gr,z_e)=>{"use strict";d();var{webidl:Cf}=oc(),qU=Symbol("ProgressEvent state"),xoe=class e extends Event{static{o(this,"ProgressEvent")}constructor(t,r={}){t=Cf.converters.DOMString(t,"ProgressEvent constructor","type"),r=Cf.converters.ProgressEventInit(r??{}),super(t,r),this[qU]={lengthComputable:r.lengthComputable,loaded:r.loaded,total:r.total}}get lengthComputable(){return Cf.brandCheck(this,e),this[qU].lengthComputable}get loaded(){return Cf.brandCheck(this,e),this[qU].loaded}get total(){return Cf.brandCheck(this,e),this[qU].total}};Cf.converters.ProgressEventInit=Cf.dictionaryConverter([{key:"lengthComputable",converter:Cf.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"loaded",converter:Cf.converters["unsigned long long"],defaultValue:o(()=>0,"defaultValue")},{key:"total",converter:Cf.converters["unsigned long long"],defaultValue:o(()=>0,"defaultValue")},{key:"bubbles",converter:Cf.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"cancelable",converter:Cf.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"composed",converter:Cf.converters.boolean,defaultValue:o(()=>!1,"defaultValue")}]);z_e.exports={ProgressEvent:xoe}});var J_e=j((KGr,K_e)=>{"use strict";d();function JCt(e){if(!e)return"failure";switch(e.trim().toLowerCase()){case"unicode-1-1-utf-8":case"unicode11utf8":case"unicode20utf8":case"utf-8":case"utf8":case"x-unicode20utf8":return"UTF-8";case"866":case"cp866":case"csibm866":case"ibm866":return"IBM866";case"csisolatin2":case"iso-8859-2":case"iso-ir-101":case"iso8859-2":case"iso88592":case"iso_8859-2":case"iso_8859-2:1987":case"l2":case"latin2":return"ISO-8859-2";case"csisolatin3":case"iso-8859-3":case"iso-ir-109":case"iso8859-3":case"iso88593":case"iso_8859-3":case"iso_8859-3:1988":case"l3":case"latin3":return"ISO-8859-3";case"csisolatin4":case"iso-8859-4":case"iso-ir-110":case"iso8859-4":case"iso88594":case"iso_8859-4":case"iso_8859-4:1988":case"l4":case"latin4":return"ISO-8859-4";case"csisolatincyrillic":case"cyrillic":case"iso-8859-5":case"iso-ir-144":case"iso8859-5":case"iso88595":case"iso_8859-5":case"iso_8859-5:1988":return"ISO-8859-5";case"arabic":case"asmo-708":case"csiso88596e":case"csiso88596i":case"csisolatinarabic":case"ecma-114":case"iso-8859-6":case"iso-8859-6-e":case"iso-8859-6-i":case"iso-ir-127":case"iso8859-6":case"iso88596":case"iso_8859-6":case"iso_8859-6:1987":return"ISO-8859-6";case"csisolatingreek":case"ecma-118":case"elot_928":case"greek":case"greek8":case"iso-8859-7":case"iso-ir-126":case"iso8859-7":case"iso88597":case"iso_8859-7":case"iso_8859-7:1987":case"sun_eu_greek":return"ISO-8859-7";case"csiso88598e":case"csisolatinhebrew":case"hebrew":case"iso-8859-8":case"iso-8859-8-e":case"iso-ir-138":case"iso8859-8":case"iso88598":case"iso_8859-8":case"iso_8859-8:1988":case"visual":return"ISO-8859-8";case"csiso88598i":case"iso-8859-8-i":case"logical":return"ISO-8859-8-I";case"csisolatin6":case"iso-8859-10":case"iso-ir-157":case"iso8859-10":case"iso885910":case"l6":case"latin6":return"ISO-8859-10";case"iso-8859-13":case"iso8859-13":case"iso885913":return"ISO-8859-13";case"iso-8859-14":case"iso8859-14":case"iso885914":return"ISO-8859-14";case"csisolatin9":case"iso-8859-15":case"iso8859-15":case"iso885915":case"iso_8859-15":case"l9":return"ISO-8859-15";case"iso-8859-16":return"ISO-8859-16";case"cskoi8r":case"koi":case"koi8":case"koi8-r":case"koi8_r":return"KOI8-R";case"koi8-ru":case"koi8-u":return"KOI8-U";case"csmacintosh":case"mac":case"macintosh":case"x-mac-roman":return"macintosh";case"iso-8859-11":case"iso8859-11":case"iso885911":case"tis-620":case"windows-874":return"windows-874";case"cp1250":case"windows-1250":case"x-cp1250":return"windows-1250";case"cp1251":case"windows-1251":case"x-cp1251":return"windows-1251";case"ansi_x3.4-1968":case"ascii":case"cp1252":case"cp819":case"csisolatin1":case"ibm819":case"iso-8859-1":case"iso-ir-100":case"iso8859-1":case"iso88591":case"iso_8859-1":case"iso_8859-1:1987":case"l1":case"latin1":case"us-ascii":case"windows-1252":case"x-cp1252":return"windows-1252";case"cp1253":case"windows-1253":case"x-cp1253":return"windows-1253";case"cp1254":case"csisolatin5":case"iso-8859-9":case"iso-ir-148":case"iso8859-9":case"iso88599":case"iso_8859-9":case"iso_8859-9:1989":case"l5":case"latin5":case"windows-1254":case"x-cp1254":return"windows-1254";case"cp1255":case"windows-1255":case"x-cp1255":return"windows-1255";case"cp1256":case"windows-1256":case"x-cp1256":return"windows-1256";case"cp1257":case"windows-1257":case"x-cp1257":return"windows-1257";case"cp1258":case"windows-1258":case"x-cp1258":return"windows-1258";case"x-mac-cyrillic":case"x-mac-ukrainian":return"x-mac-cyrillic";case"chinese":case"csgb2312":case"csiso58gb231280":case"gb2312":case"gb_2312":case"gb_2312-80":case"gbk":case"iso-ir-58":case"x-gbk":return"GBK";case"gb18030":return"gb18030";case"big5":case"big5-hkscs":case"cn-big5":case"csbig5":case"x-x-big5":return"Big5";case"cseucpkdfmtjapanese":case"euc-jp":case"x-euc-jp":return"EUC-JP";case"csiso2022jp":case"iso-2022-jp":return"ISO-2022-JP";case"csshiftjis":case"ms932":case"ms_kanji":case"shift-jis":case"shift_jis":case"sjis":case"windows-31j":case"x-sjis":return"Shift_JIS";case"cseuckr":case"csksc56011987":case"euc-kr":case"iso-ir-149":case"korean":case"ks_c_5601-1987":case"ks_c_5601-1989":case"ksc5601":case"ksc_5601":case"windows-949":return"EUC-KR";case"csiso2022kr":case"hz-gb-2312":case"iso-2022-cn":case"iso-2022-cn-ext":case"iso-2022-kr":case"replacement":return"replacement";case"unicodefffe":case"utf-16be":return"UTF-16BE";case"csunicode":case"iso-10646-ucs-2":case"ucs-2":case"unicode":case"unicodefeff":case"utf-16":case"utf-16le":return"UTF-16LE";case"x-user-defined":return"x-user-defined";default:return"failure"}}o(JCt,"getEncoding");K_e.exports={getEncoding:JCt}});var oSe=j((XGr,iSe)=>{"use strict";d();var{kState:t6,kError:voe,kResult:Z_e,kAborted:ES,kLastProgressEventFired:boe}=Coe(),{ProgressEvent:ZCt}=Y_e(),{getEncoding:X_e}=J_e(),{serializeAMimeType:XCt,parseMIMEType:eSe}=au(),{types:e3t}=require("node:util"),{StringDecoder:tSe}=require("string_decoder"),{btoa:rSe}=require("node:buffer"),t3t={enumerable:!0,writable:!1,configurable:!1};function r3t(e,t,r,n){if(e[t6]==="loading")throw new DOMException("Invalid state","InvalidStateError");e[t6]="loading",e[Z_e]=null,e[voe]=null;let s=t.stream().getReader(),a=[],l=s.read(),c=!0;(async()=>{for(;!e[ES];)try{let{done:u,value:f}=await l;if(c&&!e[ES]&&queueMicrotask(()=>{W5("loadstart",e)}),c=!1,!u&&e3t.isUint8Array(f))a.push(f),(e[boe]===void 0||Date.now()-e[boe]>=50)&&!e[ES]&&(e[boe]=Date.now(),queueMicrotask(()=>{W5("progress",e)})),l=s.read();else if(u){queueMicrotask(()=>{e[t6]="done";try{let m=n3t(a,r,t.type,n);if(e[ES])return;e[Z_e]=m,W5("load",e)}catch(m){e[voe]=m,W5("error",e)}e[t6]!=="loading"&&W5("loadend",e)});break}}catch(u){if(e[ES])return;queueMicrotask(()=>{e[t6]="done",e[voe]=u,W5("error",e),e[t6]!=="loading"&&W5("loadend",e)});break}})()}o(r3t,"readOperation");function W5(e,t){let r=new ZCt(e,{bubbles:!1,cancelable:!1});t.dispatchEvent(r)}o(W5,"fireAProgressEvent");function n3t(e,t,r,n){switch(t){case"DataURL":{let i="data:",s=eSe(r||"application/octet-stream");s!=="failure"&&(i+=XCt(s)),i+=";base64,";let a=new tSe("latin1");for(let l of e)i+=rSe(a.write(l));return i+=rSe(a.end()),i}case"Text":{let i="failure";if(n&&(i=X_e(n)),i==="failure"&&r){let s=eSe(r);s!=="failure"&&(i=X_e(s.parameters.get("charset")))}return i==="failure"&&(i="UTF-8"),i3t(e,i)}case"ArrayBuffer":return nSe(e).buffer;case"BinaryString":{let i="",s=new tSe("latin1");for(let a of e)i+=s.write(a);return i+=s.end(),i}}}o(n3t,"packageData");function i3t(e,t){let r=nSe(e),n=o3t(r),i=0;n!==null&&(t=n,i=n==="UTF-8"?3:2);let s=r.slice(i);return new TextDecoder(t).decode(s)}o(i3t,"decode");function o3t(e){let[t,r,n]=e;return t===239&&r===187&&n===191?"UTF-8":t===254&&r===255?"UTF-16BE":t===255&&r===254?"UTF-16LE":null}o(o3t,"BOMSniffing");function nSe(e){let t=e.reduce((n,i)=>n+i.byteLength,0),r=0;return e.reduce((n,i)=>(n.set(i,r),r+=i.byteLength,n),new Uint8Array(t))}o(nSe,"combineByteSequences");iSe.exports={staticPropertyDescriptors:t3t,readOperation:r3t,fireAProgressEvent:W5}});var cSe=j((rHr,lSe)=>{"use strict";d();var{staticPropertyDescriptors:r6,readOperation:WU,fireAProgressEvent:sSe}=oSe(),{kState:Sx,kError:aSe,kResult:GU,kEvents:Co,kAborted:s3t}=Coe(),{webidl:Uo}=oc(),{kEnumerableProperty:uu}=Ci(),ph=class e extends EventTarget{static{o(this,"FileReader")}constructor(){super(),this[Sx]="empty",this[GU]=null,this[aSe]=null,this[Co]={loadend:null,error:null,abort:null,load:null,progress:null,loadstart:null}}readAsArrayBuffer(t){Uo.brandCheck(this,e),Uo.argumentLengthCheck(arguments,1,"FileReader.readAsArrayBuffer"),t=Uo.converters.Blob(t,{strict:!1}),WU(this,t,"ArrayBuffer")}readAsBinaryString(t){Uo.brandCheck(this,e),Uo.argumentLengthCheck(arguments,1,"FileReader.readAsBinaryString"),t=Uo.converters.Blob(t,{strict:!1}),WU(this,t,"BinaryString")}readAsText(t,r=void 0){Uo.brandCheck(this,e),Uo.argumentLengthCheck(arguments,1,"FileReader.readAsText"),t=Uo.converters.Blob(t,{strict:!1}),r!==void 0&&(r=Uo.converters.DOMString(r,"FileReader.readAsText","encoding")),WU(this,t,"Text",r)}readAsDataURL(t){Uo.brandCheck(this,e),Uo.argumentLengthCheck(arguments,1,"FileReader.readAsDataURL"),t=Uo.converters.Blob(t,{strict:!1}),WU(this,t,"DataURL")}abort(){if(this[Sx]==="empty"||this[Sx]==="done"){this[GU]=null;return}this[Sx]==="loading"&&(this[Sx]="done",this[GU]=null),this[s3t]=!0,sSe("abort",this),this[Sx]!=="loading"&&sSe("loadend",this)}get readyState(){switch(Uo.brandCheck(this,e),this[Sx]){case"empty":return this.EMPTY;case"loading":return this.LOADING;case"done":return this.DONE}}get result(){return Uo.brandCheck(this,e),this[GU]}get error(){return Uo.brandCheck(this,e),this[aSe]}get onloadend(){return Uo.brandCheck(this,e),this[Co].loadend}set onloadend(t){Uo.brandCheck(this,e),this[Co].loadend&&this.removeEventListener("loadend",this[Co].loadend),typeof t=="function"?(this[Co].loadend=t,this.addEventListener("loadend",t)):this[Co].loadend=null}get onerror(){return Uo.brandCheck(this,e),this[Co].error}set onerror(t){Uo.brandCheck(this,e),this[Co].error&&this.removeEventListener("error",this[Co].error),typeof t=="function"?(this[Co].error=t,this.addEventListener("error",t)):this[Co].error=null}get onloadstart(){return Uo.brandCheck(this,e),this[Co].loadstart}set onloadstart(t){Uo.brandCheck(this,e),this[Co].loadstart&&this.removeEventListener("loadstart",this[Co].loadstart),typeof t=="function"?(this[Co].loadstart=t,this.addEventListener("loadstart",t)):this[Co].loadstart=null}get onprogress(){return Uo.brandCheck(this,e),this[Co].progress}set onprogress(t){Uo.brandCheck(this,e),this[Co].progress&&this.removeEventListener("progress",this[Co].progress),typeof t=="function"?(this[Co].progress=t,this.addEventListener("progress",t)):this[Co].progress=null}get onload(){return Uo.brandCheck(this,e),this[Co].load}set onload(t){Uo.brandCheck(this,e),this[Co].load&&this.removeEventListener("load",this[Co].load),typeof t=="function"?(this[Co].load=t,this.addEventListener("load",t)):this[Co].load=null}get onabort(){return Uo.brandCheck(this,e),this[Co].abort}set onabort(t){Uo.brandCheck(this,e),this[Co].abort&&this.removeEventListener("abort",this[Co].abort),typeof t=="function"?(this[Co].abort=t,this.addEventListener("abort",t)):this[Co].abort=null}};ph.EMPTY=ph.prototype.EMPTY=0;ph.LOADING=ph.prototype.LOADING=1;ph.DONE=ph.prototype.DONE=2;Object.defineProperties(ph.prototype,{EMPTY:r6,LOADING:r6,DONE:r6,readAsArrayBuffer:uu,readAsBinaryString:uu,readAsText:uu,readAsDataURL:uu,abort:uu,readyState:uu,result:uu,error:uu,onloadstart:uu,onprogress:uu,onload:uu,onabort:uu,onerror:uu,onloadend:uu,[Symbol.toStringTag]:{value:"FileReader",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(ph,{EMPTY:r6,LOADING:r6,DONE:r6});lSe.exports={FileReader:ph}});var HU=j((oHr,uSe)=>{"use strict";d();uSe.exports={kConstruct:Ls().kConstruct}});var mSe=j((aHr,dSe)=>{"use strict";d();var a3t=require("node:assert"),{URLSerializer:fSe}=au(),{isValidHeaderName:l3t}=mf();function c3t(e,t,r=!1){let n=fSe(e,r),i=fSe(t,r);return n===i}o(c3t,"urlEquals");function u3t(e){a3t(e!==null);let t=[];for(let r of e.split(","))r=r.trim(),l3t(r)&&t.push(r);return t}o(u3t,"getFieldValues");dSe.exports={urlEquals:c3t,getFieldValues:u3t}});var gSe=j((uHr,pSe)=>{"use strict";d();var{kConstruct:f3t}=HU(),{urlEquals:d3t,getFieldValues:Eoe}=mSe(),{kEnumerableProperty:kx,isDisturbed:m3t}=Ci(),{webidl:nn}=oc(),{Response:h3t,cloneResponse:p3t,fromInnerResponse:g3t}=xS(),{Request:yA,fromInnerRequest:A3t}=e6(),{kState:gh}=k5(),{fetching:y3t}=bS(),{urlIsHttpHttpsScheme:jU,createDeferredPromise:n6,readAllBytes:C3t}=mf(),Ioe=require("node:assert"),VU=class e{static{o(this,"Cache")}#e;constructor(){arguments[0]!==f3t&&nn.illegalConstructor(),nn.util.markAsUncloneable(this),this.#e=arguments[1]}async match(t,r={}){nn.brandCheck(this,e);let n="Cache.match";nn.argumentLengthCheck(arguments,1,n),t=nn.converters.RequestInfo(t,n,"request"),r=nn.converters.CacheQueryOptions(r,n,"options");let i=this.#r(t,r,1);if(i.length!==0)return i[0]}async matchAll(t=void 0,r={}){nn.brandCheck(this,e);let n="Cache.matchAll";return t!==void 0&&(t=nn.converters.RequestInfo(t,n,"request")),r=nn.converters.CacheQueryOptions(r,n,"options"),this.#r(t,r)}async add(t){nn.brandCheck(this,e);let r="Cache.add";nn.argumentLengthCheck(arguments,1,r),t=nn.converters.RequestInfo(t,r,"request");let n=[t];return await this.addAll(n)}async addAll(t){nn.brandCheck(this,e);let r="Cache.addAll";nn.argumentLengthCheck(arguments,1,r);let n=[],i=[];for(let h of t){if(h===void 0)throw nn.errors.conversionFailed({prefix:r,argument:"Argument 1",types:["undefined is not allowed"]});if(h=nn.converters.RequestInfo(h),typeof h=="string")continue;let p=h[gh];if(!jU(p.url)||p.method!=="GET")throw nn.errors.exception({header:r,message:"Expected http/s scheme when method is not GET."})}let s=[];for(let h of t){let p=new yA(h)[gh];if(!jU(p.url))throw nn.errors.exception({header:r,message:"Expected http/s scheme."});p.initiator="fetch",p.destination="subresource",i.push(p);let g=n6();s.push(y3t({request:p,processResponse(x){if(x.type==="error"||x.status===206||x.status<200||x.status>299)g.reject(nn.errors.exception({header:"Cache.addAll",message:"Received an invalid status code or the request failed."}));else if(x.headersList.contains("vary")){let v=Eoe(x.headersList.get("vary"));for(let E of v)if(E==="*"){g.reject(nn.errors.exception({header:"Cache.addAll",message:"invalid vary field value"}));for(let b of s)b.abort();return}}},processResponseEndOfBody(x){if(x.aborted){g.reject(new DOMException("aborted","AbortError"));return}g.resolve(x)}})),n.push(g.promise)}let l=await Promise.all(n),c=[],u=0;for(let h of l){let p={type:"put",request:i[u],response:h};c.push(p),u++}let f=n6(),m=null;try{this.#t(c)}catch(h){m=h}return queueMicrotask(()=>{m===null?f.resolve(void 0):f.reject(m)}),f.promise}async put(t,r){nn.brandCheck(this,e);let n="Cache.put";nn.argumentLengthCheck(arguments,2,n),t=nn.converters.RequestInfo(t,n,"request"),r=nn.converters.Response(r,n,"response");let i=null;if(t instanceof yA?i=t[gh]:i=new yA(t)[gh],!jU(i.url)||i.method!=="GET")throw nn.errors.exception({header:n,message:"Expected an http/s scheme when method is not GET"});let s=r[gh];if(s.status===206)throw nn.errors.exception({header:n,message:"Got 206 status"});if(s.headersList.contains("vary")){let p=Eoe(s.headersList.get("vary"));for(let g of p)if(g==="*")throw nn.errors.exception({header:n,message:"Got * vary field value"})}if(s.body&&(m3t(s.body.stream)||s.body.stream.locked))throw nn.errors.exception({header:n,message:"Response body is locked or disturbed"});let a=p3t(s),l=n6();if(s.body!=null){let g=s.body.stream.getReader();C3t(g).then(l.resolve,l.reject)}else l.resolve(void 0);let c=[],u={type:"put",request:i,response:a};c.push(u);let f=await l.promise;a.body!=null&&(a.body.source=f);let m=n6(),h=null;try{this.#t(c)}catch(p){h=p}return queueMicrotask(()=>{h===null?m.resolve():m.reject(h)}),m.promise}async delete(t,r={}){nn.brandCheck(this,e);let n="Cache.delete";nn.argumentLengthCheck(arguments,1,n),t=nn.converters.RequestInfo(t,n,"request"),r=nn.converters.CacheQueryOptions(r,n,"options");let i=null;if(t instanceof yA){if(i=t[gh],i.method!=="GET"&&!r.ignoreMethod)return!1}else Ioe(typeof t=="string"),i=new yA(t)[gh];let s=[],a={type:"delete",request:i,options:r};s.push(a);let l=n6(),c=null,u;try{u=this.#t(s)}catch(f){c=f}return queueMicrotask(()=>{c===null?l.resolve(!!u?.length):l.reject(c)}),l.promise}async keys(t=void 0,r={}){nn.brandCheck(this,e);let n="Cache.keys";t!==void 0&&(t=nn.converters.RequestInfo(t,n,"request")),r=nn.converters.CacheQueryOptions(r,n,"options");let i=null;if(t!==void 0)if(t instanceof yA){if(i=t[gh],i.method!=="GET"&&!r.ignoreMethod)return[]}else typeof t=="string"&&(i=new yA(t)[gh]);let s=n6(),a=[];if(t===void 0)for(let l of this.#e)a.push(l[0]);else{let l=this.#i(i,r);for(let c of l)a.push(c[0])}return queueMicrotask(()=>{let l=[];for(let c of a){let u=A3t(c,new AbortController().signal,"immutable");l.push(u)}s.resolve(Object.freeze(l))}),s.promise}#t(t){let r=this.#e,n=[...r],i=[],s=[];try{for(let a of t){if(a.type!=="delete"&&a.type!=="put")throw nn.errors.exception({header:"Cache.#batchCacheOperations",message:'operation type does not match "delete" or "put"'});if(a.type==="delete"&&a.response!=null)throw nn.errors.exception({header:"Cache.#batchCacheOperations",message:"delete operation should not have an associated response"});if(this.#i(a.request,a.options,i).length)throw new DOMException("???","InvalidStateError");let l;if(a.type==="delete"){if(l=this.#i(a.request,a.options),l.length===0)return[];for(let c of l){let u=r.indexOf(c);Ioe(u!==-1),r.splice(u,1)}}else if(a.type==="put"){if(a.response==null)throw nn.errors.exception({header:"Cache.#batchCacheOperations",message:"put operation should have an associated response"});let c=a.request;if(!jU(c.url))throw nn.errors.exception({header:"Cache.#batchCacheOperations",message:"expected http or https scheme"});if(c.method!=="GET")throw nn.errors.exception({header:"Cache.#batchCacheOperations",message:"not get method"});if(a.options!=null)throw nn.errors.exception({header:"Cache.#batchCacheOperations",message:"options must not be defined"});l=this.#i(a.request);for(let u of l){let f=r.indexOf(u);Ioe(f!==-1),r.splice(f,1)}r.push([a.request,a.response]),i.push([a.request,a.response])}s.push([a.request,a.response])}return s}catch(a){throw this.#e.length=0,this.#e=n,a}}#i(t,r,n){let i=[],s=n??this.#e;for(let a of s){let[l,c]=a;this.#n(t,l,c,r)&&i.push(a)}return i}#n(t,r,n=null,i){let s=new URL(t.url),a=new URL(r.url);if(i?.ignoreSearch&&(a.search="",s.search=""),!d3t(s,a,!0))return!1;if(n==null||i?.ignoreVary||!n.headersList.contains("vary"))return!0;let l=Eoe(n.headersList.get("vary"));for(let c of l){if(c==="*")return!1;let u=r.headersList.get(c),f=t.headersList.get(c);if(u!==f)return!1}return!0}#r(t,r,n=1/0){let i=null;if(t!==void 0)if(t instanceof yA){if(i=t[gh],i.method!=="GET"&&!r.ignoreMethod)return[]}else typeof t=="string"&&(i=new yA(t)[gh]);let s=[];if(t===void 0)for(let l of this.#e)s.push(l[1]);else{let l=this.#i(i,r);for(let c of l)s.push(c[1])}let a=[];for(let l of s){let c=g3t(l,"immutable");if(a.push(c.clone()),a.length>=n)break}return Object.freeze(a)}};Object.defineProperties(VU.prototype,{[Symbol.toStringTag]:{value:"Cache",configurable:!0},match:kx,matchAll:kx,add:kx,addAll:kx,put:kx,delete:kx,keys:kx});var hSe=[{key:"ignoreSearch",converter:nn.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"ignoreMethod",converter:nn.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"ignoreVary",converter:nn.converters.boolean,defaultValue:o(()=>!1,"defaultValue")}];nn.converters.CacheQueryOptions=nn.dictionaryConverter(hSe);nn.converters.MultiCacheQueryOptions=nn.dictionaryConverter([...hSe,{key:"cacheName",converter:nn.converters.DOMString}]);nn.converters.Response=nn.interfaceConverter(h3t);nn.converters["sequence<RequestInfo>"]=nn.sequenceConverter(nn.converters.RequestInfo);pSe.exports={Cache:VU}});var ySe=j((mHr,ASe)=>{"use strict";d();var{kConstruct:IS}=HU(),{Cache:$U}=gSe(),{webidl:Uc}=oc(),{kEnumerableProperty:TS}=Ci(),zU=class e{static{o(this,"CacheStorage")}#e=new Map;constructor(){arguments[0]!==IS&&Uc.illegalConstructor(),Uc.util.markAsUncloneable(this)}async match(t,r={}){if(Uc.brandCheck(this,e),Uc.argumentLengthCheck(arguments,1,"CacheStorage.match"),t=Uc.converters.RequestInfo(t),r=Uc.converters.MultiCacheQueryOptions(r),r.cacheName!=null){if(this.#e.has(r.cacheName)){let n=this.#e.get(r.cacheName);return await new $U(IS,n).match(t,r)}}else for(let n of this.#e.values()){let s=await new $U(IS,n).match(t,r);if(s!==void 0)return s}}async has(t){Uc.brandCheck(this,e);let r="CacheStorage.has";return Uc.argumentLengthCheck(arguments,1,r),t=Uc.converters.DOMString(t,r,"cacheName"),this.#e.has(t)}async open(t){Uc.brandCheck(this,e);let r="CacheStorage.open";if(Uc.argumentLengthCheck(arguments,1,r),t=Uc.converters.DOMString(t,r,"cacheName"),this.#e.has(t)){let i=this.#e.get(t);return new $U(IS,i)}let n=[];return this.#e.set(t,n),new $U(IS,n)}async delete(t){Uc.brandCheck(this,e);let r="CacheStorage.delete";return Uc.argumentLengthCheck(arguments,1,r),t=Uc.converters.DOMString(t,r,"cacheName"),this.#e.delete(t)}async keys(){return Uc.brandCheck(this,e),[...this.#e.keys()]}};Object.defineProperties(zU.prototype,{[Symbol.toStringTag]:{value:"CacheStorage",configurable:!0},match:TS,has:TS,open:TS,delete:TS,keys:TS});ASe.exports={CacheStorage:zU}});var xSe=j((gHr,CSe)=>{"use strict";d();CSe.exports={maxAttributeValueSize:1024,maxNameValuePairSize:4096}});var Toe=j((yHr,TSe)=>{"use strict";d();function x3t(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r>=0&&r<=8||r>=10&&r<=31||r===127)return!0}return!1}o(x3t,"isCTLExcludingHtab");function vSe(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r<33||r>126||r===34||r===40||r===41||r===60||r===62||r===64||r===44||r===59||r===58||r===92||r===47||r===91||r===93||r===63||r===61||r===123||r===125)throw new Error("Invalid cookie name")}}o(vSe,"validateCookieName");function bSe(e){let t=e.length,r=0;if(e[0]==='"'){if(t===1||e[t-1]!=='"')throw new Error("Invalid cookie value");--t,++r}for(;r<t;){let n=e.charCodeAt(r++);if(n<33||n>126||n===34||n===44||n===59||n===92)throw new Error("Invalid cookie value")}}o(bSe,"validateCookieValue");function ESe(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r<32||r===127||r===59)throw new Error("Invalid cookie path")}}o(ESe,"validateCookiePath");function v3t(e){if(e.startsWith("-")||e.endsWith(".")||e.endsWith("-"))throw new Error("Invalid cookie domain")}o(v3t,"validateCookieDomain");var b3t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],E3t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],YU=Array(61).fill(0).map((e,t)=>t.toString().padStart(2,"0"));function ISe(e){return typeof e=="number"&&(e=new Date(e)),`${b3t[e.getUTCDay()]}, ${YU[e.getUTCDate()]} ${E3t[e.getUTCMonth()]} ${e.getUTCFullYear()} ${YU[e.getUTCHours()]}:${YU[e.getUTCMinutes()]}:${YU[e.getUTCSeconds()]} GMT`}o(ISe,"toIMFDate");function I3t(e){if(e<0)throw new Error("Invalid cookie max-age")}o(I3t,"validateCookieMaxAge");function T3t(e){if(e.name.length===0)return null;vSe(e.name),bSe(e.value);let t=[`${e.name}=${e.value}`];e.name.startsWith("__Secure-")&&(e.secure=!0),e.name.startsWith("__Host-")&&(e.secure=!0,e.domain=null,e.path="/"),e.secure&&t.push("Secure"),e.httpOnly&&t.push("HttpOnly"),typeof e.maxAge=="number"&&(I3t(e.maxAge),t.push(`Max-Age=${e.maxAge}`)),e.domain&&(v3t(e.domain),t.push(`Domain=${e.domain}`)),e.path&&(ESe(e.path),t.push(`Path=${e.path}`)),e.expires&&e.expires.toString()!=="Invalid Date"&&t.push(`Expires=${ISe(e.expires)}`),e.sameSite&&t.push(`SameSite=${e.sameSite}`);for(let r of e.unparsed){if(!r.includes("="))throw new Error("Invalid unparsed");let[n,...i]=r.split("=");t.push(`${n.trim()}=${i.join("=")}`)}return t.join("; ")}o(T3t,"stringify");TSe.exports={isCTLExcludingHtab:x3t,validateCookieName:vSe,validateCookiePath:ESe,validateCookieValue:bSe,toIMFDate:ISe,stringify:T3t}});var _Se=j((vHr,wSe)=>{"use strict";d();var{maxNameValuePairSize:w3t,maxAttributeValueSize:_3t}=xSe(),{isCTLExcludingHtab:S3t}=Toe(),{collectASequenceOfCodePointsFast:KU}=au(),k3t=require("node:assert");function R3t(e){if(S3t(e))return null;let t="",r="",n="",i="";if(e.includes(";")){let s={position:0};t=KU(";",e,s),r=e.slice(s.position)}else t=e;if(!t.includes("="))i=t;else{let s={position:0};n=KU("=",t,s),i=t.slice(s.position+1)}return n=n.trim(),i=i.trim(),n.length+i.length>w3t?null:{name:n,value:i,...i6(r)}}o(R3t,"parseSetCookie");function i6(e,t={}){if(e.length===0)return t;k3t(e[0]===";"),e=e.slice(1);let r="";e.includes(";")?(r=KU(";",e,{position:0}),e=e.slice(r.length)):(r=e,e="");let n="",i="";if(r.includes("=")){let a={position:0};n=KU("=",r,a),i=r.slice(a.position+1)}else n=r;if(n=n.trim(),i=i.trim(),i.length>_3t)return i6(e,t);let s=n.toLowerCase();if(s==="expires"){let a=new Date(i);t.expires=a}else if(s==="max-age"){let a=i.charCodeAt(0);if((a<48||a>57)&&i[0]!=="-"||!/^\d+$/.test(i))return i6(e,t);let l=Number(i);t.maxAge=l}else if(s==="domain"){let a=i;a[0]==="."&&(a=a.slice(1)),a=a.toLowerCase(),t.domain=a}else if(s==="path"){let a="";i.length===0||i[0]!=="/"?a="/":a=i,t.path=a}else if(s==="secure")t.secure=!0;else if(s==="httponly")t.httpOnly=!0;else if(s==="samesite"){let a="Default",l=i.toLowerCase();l.includes("none")&&(a="None"),l.includes("strict")&&(a="Strict"),l.includes("lax")&&(a="Lax"),t.sameSite=a}else t.unparsed??=[],t.unparsed.push(`${n}=${i}`);return i6(e,t)}o(i6,"parseUnparsedAttributes");wSe.exports={parseSetCookie:R3t,parseUnparsedAttributes:i6}});var RSe=j((IHr,kSe)=>{"use strict";d();var{parseSetCookie:B3t}=_Se(),{stringify:D3t}=Toe(),{webidl:Li}=oc(),{Headers:JU}=Ix();function P3t(e){Li.argumentLengthCheck(arguments,1,"getCookies"),Li.brandCheck(e,JU,{strict:!1});let t=e.get("cookie"),r={};if(!t)return r;for(let n of t.split(";")){let[i,...s]=n.split("=");r[i.trim()]=s.join("=")}return r}o(P3t,"getCookies");function F3t(e,t,r){Li.brandCheck(e,JU,{strict:!1});let n="deleteCookie";Li.argumentLengthCheck(arguments,2,n),t=Li.converters.DOMString(t,n,"name"),r=Li.converters.DeleteCookieAttributes(r),SSe(e,{name:t,value:"",expires:new Date(0),...r})}o(F3t,"deleteCookie");function N3t(e){Li.argumentLengthCheck(arguments,1,"getSetCookies"),Li.brandCheck(e,JU,{strict:!1});let t=e.getSetCookie();return t?t.map(r=>B3t(r)):[]}o(N3t,"getSetCookies");function SSe(e,t){Li.argumentLengthCheck(arguments,2,"setCookie"),Li.brandCheck(e,JU,{strict:!1}),t=Li.converters.Cookie(t);let r=D3t(t);r&&e.append("Set-Cookie",r)}o(SSe,"setCookie");Li.converters.DeleteCookieAttributes=Li.dictionaryConverter([{converter:Li.nullableConverter(Li.converters.DOMString),key:"path",defaultValue:o(()=>null,"defaultValue")},{converter:Li.nullableConverter(Li.converters.DOMString),key:"domain",defaultValue:o(()=>null,"defaultValue")}]);Li.converters.Cookie=Li.dictionaryConverter([{converter:Li.converters.DOMString,key:"name"},{converter:Li.converters.DOMString,key:"value"},{converter:Li.nullableConverter(e=>typeof e=="number"?Li.converters["unsigned long long"](e):new Date(e)),key:"expires",defaultValue:o(()=>null,"defaultValue")},{converter:Li.nullableConverter(Li.converters["long long"]),key:"maxAge",defaultValue:o(()=>null,"defaultValue")},{converter:Li.nullableConverter(Li.converters.DOMString),key:"domain",defaultValue:o(()=>null,"defaultValue")},{converter:Li.nullableConverter(Li.converters.DOMString),key:"path",defaultValue:o(()=>null,"defaultValue")},{converter:Li.nullableConverter(Li.converters.boolean),key:"secure",defaultValue:o(()=>null,"defaultValue")},{converter:Li.nullableConverter(Li.converters.boolean),key:"httpOnly",defaultValue:o(()=>null,"defaultValue")},{converter:Li.converters.USVString,key:"sameSite",allowedValues:["Strict","Lax","None"]},{converter:Li.sequenceConverter(Li.converters.DOMString),key:"unparsed",defaultValue:o(()=>new Array(0),"defaultValue")}]);kSe.exports={getCookies:P3t,deleteCookie:F3t,getSetCookies:N3t,setCookie:SSe}});var s6=j((_Hr,DSe)=>{"use strict";d();var{webidl:en}=oc(),{kEnumerableProperty:fu}=Ci(),{kConstruct:BSe}=Ls(),{MessagePort:L3t}=require("node:worker_threads"),o6=class e extends Event{static{o(this,"MessageEvent")}#e;constructor(t,r={}){if(t===BSe){super(arguments[1],arguments[2]),en.util.markAsUncloneable(this);return}let n="MessageEvent constructor";en.argumentLengthCheck(arguments,1,n),t=en.converters.DOMString(t,n,"type"),r=en.converters.MessageEventInit(r,n,"eventInitDict"),super(t,r),this.#e=r,en.util.markAsUncloneable(this)}get data(){return en.brandCheck(this,e),this.#e.data}get origin(){return en.brandCheck(this,e),this.#e.origin}get lastEventId(){return en.brandCheck(this,e),this.#e.lastEventId}get source(){return en.brandCheck(this,e),this.#e.source}get ports(){return en.brandCheck(this,e),Object.isFrozen(this.#e.ports)||Object.freeze(this.#e.ports),this.#e.ports}initMessageEvent(t,r=!1,n=!1,i=null,s="",a="",l=null,c=[]){return en.brandCheck(this,e),en.argumentLengthCheck(arguments,1,"MessageEvent.initMessageEvent"),new e(t,{bubbles:r,cancelable:n,data:i,origin:s,lastEventId:a,source:l,ports:c})}static createFastMessageEvent(t,r){let n=new e(BSe,t,r);return n.#e=r,n.#e.data??=null,n.#e.origin??="",n.#e.lastEventId??="",n.#e.source??=null,n.#e.ports??=[],n}},{createFastMessageEvent:Q3t}=o6;delete o6.createFastMessageEvent;var ZU=class e extends Event{static{o(this,"CloseEvent")}#e;constructor(t,r={}){let n="CloseEvent constructor";en.argumentLengthCheck(arguments,1,n),t=en.converters.DOMString(t,n,"type"),r=en.converters.CloseEventInit(r),super(t,r),this.#e=r,en.util.markAsUncloneable(this)}get wasClean(){return en.brandCheck(this,e),this.#e.wasClean}get code(){return en.brandCheck(this,e),this.#e.code}get reason(){return en.brandCheck(this,e),this.#e.reason}},XU=class e extends Event{static{o(this,"ErrorEvent")}#e;constructor(t,r){let n="ErrorEvent constructor";en.argumentLengthCheck(arguments,1,n),super(t,r),en.util.markAsUncloneable(this),t=en.converters.DOMString(t,n,"type"),r=en.converters.ErrorEventInit(r??{}),this.#e=r}get message(){return en.brandCheck(this,e),this.#e.message}get filename(){return en.brandCheck(this,e),this.#e.filename}get lineno(){return en.brandCheck(this,e),this.#e.lineno}get colno(){return en.brandCheck(this,e),this.#e.colno}get error(){return en.brandCheck(this,e),this.#e.error}};Object.defineProperties(o6.prototype,{[Symbol.toStringTag]:{value:"MessageEvent",configurable:!0},data:fu,origin:fu,lastEventId:fu,source:fu,ports:fu,initMessageEvent:fu});Object.defineProperties(ZU.prototype,{[Symbol.toStringTag]:{value:"CloseEvent",configurable:!0},reason:fu,code:fu,wasClean:fu});Object.defineProperties(XU.prototype,{[Symbol.toStringTag]:{value:"ErrorEvent",configurable:!0},message:fu,filename:fu,lineno:fu,colno:fu,error:fu});en.converters.MessagePort=en.interfaceConverter(L3t);en.converters["sequence<MessagePort>"]=en.sequenceConverter(en.converters.MessagePort);var woe=[{key:"bubbles",converter:en.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"cancelable",converter:en.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"composed",converter:en.converters.boolean,defaultValue:o(()=>!1,"defaultValue")}];en.converters.MessageEventInit=en.dictionaryConverter([...woe,{key:"data",converter:en.converters.any,defaultValue:o(()=>null,"defaultValue")},{key:"origin",converter:en.converters.USVString,defaultValue:o(()=>"","defaultValue")},{key:"lastEventId",converter:en.converters.DOMString,defaultValue:o(()=>"","defaultValue")},{key:"source",converter:en.nullableConverter(en.converters.MessagePort),defaultValue:o(()=>null,"defaultValue")},{key:"ports",converter:en.converters["sequence<MessagePort>"],defaultValue:o(()=>new Array(0),"defaultValue")}]);en.converters.CloseEventInit=en.dictionaryConverter([...woe,{key:"wasClean",converter:en.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"code",converter:en.converters["unsigned short"],defaultValue:o(()=>0,"defaultValue")},{key:"reason",converter:en.converters.USVString,defaultValue:o(()=>"","defaultValue")}]);en.converters.ErrorEventInit=en.dictionaryConverter([...woe,{key:"message",converter:en.converters.DOMString,defaultValue:o(()=>"","defaultValue")},{key:"filename",converter:en.converters.USVString,defaultValue:o(()=>"","defaultValue")},{key:"lineno",converter:en.converters["unsigned long"],defaultValue:o(()=>0,"defaultValue")},{key:"colno",converter:en.converters["unsigned long"],defaultValue:o(()=>0,"defaultValue")},{key:"error",converter:en.converters.any}]);DSe.exports={MessageEvent:o6,CloseEvent:ZU,ErrorEvent:XU,createFastMessageEvent:Q3t}});var Rx=j((RHr,PSe)=>{"use strict";d();var M3t="258EAFA5-E914-47DA-95CA-C5AB0DC85B11",O3t={enumerable:!0,writable:!1,configurable:!1},U3t={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},q3t={NOT_SENT:0,PROCESSING:1,SENT:2},W3t={CONTINUATION:0,TEXT:1,BINARY:2,CLOSE:8,PING:9,PONG:10},G3t=2**16-1,H3t={INFO:0,PAYLOADLENGTH_16:2,PAYLOADLENGTH_64:3,READ_DATA:4},j3t=Buffer.allocUnsafe(0),V3t={string:1,typedArray:2,arrayBuffer:3,blob:4};PSe.exports={uid:M3t,sentCloseFrameState:q3t,staticPropertyDescriptors:O3t,states:U3t,opcodes:W3t,maxUnsigned16Bit:G3t,parserStates:H3t,emptyBuffer:j3t,sendHints:V3t}});var wS=j((DHr,FSe)=>{"use strict";d();FSe.exports={kWebSocketURL:Symbol("url"),kReadyState:Symbol("ready state"),kController:Symbol("controller"),kResponse:Symbol("response"),kBinaryType:Symbol("binary type"),kSentClose:Symbol("sent close"),kReceivedClose:Symbol("received close"),kByteParser:Symbol("byte parser")}});var kS=j((FHr,GSe)=>{"use strict";d();var{kReadyState:_S,kController:$3t,kResponse:z3t,kBinaryType:Y3t,kWebSocketURL:K3t}=wS(),{states:SS,opcodes:G5}=Rx(),{ErrorEvent:J3t,createFastMessageEvent:Z3t}=s6(),{isUtf8:X3t}=require("node:buffer"),{collectASequenceOfCodePointsFast:e4t,removeHTTPWhitespace:NSe}=au();function t4t(e){return e[_S]===SS.CONNECTING}o(t4t,"isConnecting");function r4t(e){return e[_S]===SS.OPEN}o(r4t,"isEstablished");function n4t(e){return e[_S]===SS.CLOSING}o(n4t,"isClosing");function i4t(e){return e[_S]===SS.CLOSED}o(i4t,"isClosed");function _oe(e,t,r=(i,s)=>new Event(i,s),n={}){let i=r(e,n);t.dispatchEvent(i)}o(_oe,"fireEvent");function o4t(e,t,r){if(e[_S]!==SS.OPEN)return;let n;if(t===G5.TEXT)try{n=WSe(r)}catch{QSe(e,"Received invalid UTF-8 in text frame.");return}else t===G5.BINARY&&(e[Y3t]==="blob"?n=new Blob([r]):n=s4t(r));_oe("message",e,Z3t,{origin:e[K3t].origin,data:n})}o(o4t,"websocketMessageReceived");function s4t(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}o(s4t,"toArrayBuffer");function a4t(e){if(e.length===0)return!1;for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r<33||r>126||r===34||r===40||r===41||r===44||r===47||r===58||r===59||r===60||r===61||r===62||r===63||r===64||r===91||r===92||r===93||r===123||r===125)return!1}return!0}o(a4t,"isValidSubprotocol");function l4t(e){return e>=1e3&&e<1015?e!==1004&&e!==1005&&e!==1006:e>=3e3&&e<=4999}o(l4t,"isValidStatusCode");function QSe(e,t){let{[$3t]:r,[z3t]:n}=e;r.abort(),n?.socket&&!n.socket.destroyed&&n.socket.destroy(),t&&_oe("error",e,(i,s)=>new J3t(i,s),{error:new Error(t),message:t})}o(QSe,"failWebsocketConnection");function MSe(e){return e===G5.CLOSE||e===G5.PING||e===G5.PONG}o(MSe,"isControlFrame");function OSe(e){return e===G5.CONTINUATION}o(OSe,"isContinuationFrame");function USe(e){return e===G5.TEXT||e===G5.BINARY}o(USe,"isTextBinaryFrame");function c4t(e){return USe(e)||OSe(e)||MSe(e)}o(c4t,"isValidOpcode");function u4t(e){let t={position:0},r=new Map;for(;t.position<e.length;){let n=e4t(";",e,t),[i,s=""]=n.split("=");r.set(NSe(i,!0,!1),NSe(s,!1,!0)),t.position++}return r}o(u4t,"parseExtensions");function f4t(e){for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);if(r<48||r>57)return!1}return!0}o(f4t,"isValidClientWindowBits");var qSe=typeof process.versions.icu=="string",LSe=qSe?new TextDecoder("utf-8",{fatal:!0}):void 0,WSe=qSe?LSe.decode.bind(LSe):function(e){if(X3t(e))return e.toString("utf-8");throw new TypeError("Invalid utf-8 received.")};GSe.exports={isConnecting:t4t,isEstablished:r4t,isClosing:n4t,isClosed:i4t,fireEvent:_oe,isValidSubprotocol:a4t,isValidStatusCode:l4t,failWebsocketConnection:QSe,websocketMessageReceived:o4t,utf8Decode:WSe,isControlFrame:MSe,isContinuationFrame:OSe,isTextBinaryFrame:USe,isValidOpcode:c4t,parseExtensions:u4t,isValidClientWindowBits:f4t}});var tq=j((QHr,HSe)=>{"use strict";d();var{maxUnsigned16Bit:d4t}=Rx(),eq=16386,Soe,RS=null,a6=eq;try{Soe=require("node:crypto")}catch{Soe={randomFillSync:o(function(t,r,n){for(let i=0;i<t.length;++i)t[i]=Math.random()*255|0;return t},"randomFillSync")}}function m4t(){return a6===eq&&(a6=0,Soe.randomFillSync(RS??=Buffer.allocUnsafe(eq),0,eq)),[RS[a6++],RS[a6++],RS[a6++],RS[a6++]]}o(m4t,"generateMask");var koe=class{static{o(this,"WebsocketFrameSend")}constructor(t){this.frameData=t}createFrame(t){let r=this.frameData,n=m4t(),i=r?.byteLength??0,s=i,a=6;i>d4t?(a+=8,s=127):i>125&&(a+=2,s=126);let l=Buffer.allocUnsafe(i+a);l[0]=l[1]=0,l[0]|=128,l[0]=(l[0]&240)+t;l[a-4]=n[0],l[a-3]=n[1],l[a-2]=n[2],l[a-1]=n[3],l[1]=s,s===126?l.writeUInt16BE(i,2):s===127&&(l[2]=l[3]=0,l.writeUIntBE(i,4,6)),l[1]|=128;for(let c=0;c<i;++c)l[a+c]=r[c]^n[c&3];return l}};HSe.exports={WebsocketFrameSend:koe}});var Boe=j((UHr,JSe)=>{"use strict";d();var{uid:h4t,states:BS,sentCloseFrameState:rq,emptyBuffer:p4t,opcodes:g4t}=Rx(),{kReadyState:DS,kSentClose:nq,kByteParser:VSe,kReceivedClose:jSe,kResponse:$Se}=wS(),{fireEvent:A4t,failWebsocketConnection:H5,isClosing:y4t,isClosed:C4t,isEstablished:x4t,parseExtensions:v4t}=kS(),{channels:l6}=v8(),{CloseEvent:b4t}=s6(),{makeRequest:E4t}=e6(),{fetching:I4t}=bS(),{Headers:T4t,getHeadersList:w4t}=Ix(),{getDecodeSplit:_4t}=mf(),{WebsocketFrameSend:S4t}=tq(),Roe;try{Roe=require("node:crypto")}catch{}function k4t(e,t,r,n,i,s){let a=e;a.protocol=e.protocol==="ws:"?"http:":"https:";let l=E4t({urlList:[a],client:r,serviceWorkers:"none",referrer:"no-referrer",mode:"websocket",credentials:"include",cache:"no-store",redirect:"error"});if(s.headers){let m=w4t(new T4t(s.headers));l.headersList=m}let c=Roe.randomBytes(16).toString("base64");l.headersList.append("sec-websocket-key",c),l.headersList.append("sec-websocket-version","13");for(let m of t)l.headersList.append("sec-websocket-protocol",m);return l.headersList.append("sec-websocket-extensions","permessage-deflate; client_max_window_bits"),I4t({request:l,useParallelQueue:!0,dispatcher:s.dispatcher,processResponse(m){if(m.type==="error"||m.status!==101){H5(n,"Received network error or non-101 status code.");return}if(t.length!==0&&!m.headersList.get("Sec-WebSocket-Protocol")){H5(n,"Server did not respond with sent protocols.");return}if(m.headersList.get("Upgrade")?.toLowerCase()!=="websocket"){H5(n,'Server did not set Upgrade header to "websocket".');return}if(m.headersList.get("Connection")?.toLowerCase()!=="upgrade"){H5(n,'Server did not set Connection header to "upgrade".');return}let h=m.headersList.get("Sec-WebSocket-Accept"),p=Roe.createHash("sha1").update(c+h4t).digest("base64");if(h!==p){H5(n,"Incorrect hash received in Sec-WebSocket-Accept header.");return}let g=m.headersList.get("Sec-WebSocket-Extensions"),x;if(g!==null&&(x=v4t(g),!x.has("permessage-deflate"))){H5(n,"Sec-WebSocket-Extensions header does not match.");return}let v=m.headersList.get("Sec-WebSocket-Protocol");if(v!==null&&!_4t("sec-websocket-protocol",l.headersList).includes(v)){H5(n,"Protocol was not set in the opening handshake.");return}m.socket.on("data",zSe),m.socket.on("close",YSe),m.socket.on("error",KSe),l6.open.hasSubscribers&&l6.open.publish({address:m.socket.address(),protocol:v,extensions:g}),i(m,x)}})}o(k4t,"establishWebSocketConnection");function R4t(e,t,r,n){if(!(y4t(e)||C4t(e)))if(!x4t(e))H5(e,"Connection was closed before it was established."),e[DS]=BS.CLOSING;else if(e[nq]===rq.NOT_SENT){e[nq]=rq.PROCESSING;let i=new S4t;t!==void 0&&r===void 0?(i.frameData=Buffer.allocUnsafe(2),i.frameData.writeUInt16BE(t,0)):t!==void 0&&r!==void 0?(i.frameData=Buffer.allocUnsafe(2+n),i.frameData.writeUInt16BE(t,0),i.frameData.write(r,2,"utf-8")):i.frameData=p4t,e[$Se].socket.write(i.createFrame(g4t.CLOSE)),e[nq]=rq.SENT,e[DS]=BS.CLOSING}else e[DS]=BS.CLOSING}o(R4t,"closeWebSocketConnection");function zSe(e){this.ws[VSe].write(e)||this.pause()}o(zSe,"onSocketData");function YSe(){let{ws:e}=this,{[$Se]:t}=e;t.socket.off("data",zSe),t.socket.off("close",YSe),t.socket.off("error",KSe);let r=e[nq]===rq.SENT&&e[jSe],n=1005,i="",s=e[VSe].closingInfo;s&&!s.error?(n=s.code??1005,i=s.reason):e[jSe]||(n=1006),e[DS]=BS.CLOSED,A4t("close",e,(a,l)=>new b4t(a,l),{wasClean:r,code:n,reason:i}),l6.close.hasSubscribers&&l6.close.publish({websocket:e,code:n,reason:i})}o(YSe,"onSocketClose");function KSe(e){let{ws:t}=this;t[DS]=BS.CLOSING,l6.socketError.hasSubscribers&&l6.socketError.publish(e),this.destroy()}o(KSe,"onSocketError");JSe.exports={establishWebSocketConnection:k4t,closeWebSocketConnection:R4t}});var XSe=j((GHr,ZSe)=>{"use strict";d();var{createInflateRaw:B4t,Z_DEFAULT_WINDOWBITS:D4t}=require("node:zlib"),{isValidClientWindowBits:P4t}=kS(),F4t=Buffer.from([0,0,255,255]),iq=Symbol("kBuffer"),oq=Symbol("kLength"),Doe=class{static{o(this,"PerMessageDeflate")}#e;#t={};constructor(t){this.#t.serverNoContextTakeover=t.has("server_no_context_takeover"),this.#t.serverMaxWindowBits=t.get("server_max_window_bits")}decompress(t,r,n){if(!this.#e){let i=D4t;if(this.#t.serverMaxWindowBits){if(!P4t(this.#t.serverMaxWindowBits)){n(new Error("Invalid server_max_window_bits"));return}i=Number.parseInt(this.#t.serverMaxWindowBits)}this.#e=B4t({windowBits:i}),this.#e[iq]=[],this.#e[oq]=0,this.#e.on("data",s=>{this.#e[iq].push(s),this.#e[oq]+=s.length}),this.#e.on("error",s=>{this.#e=null,n(s)})}this.#e.write(t),r&&this.#e.write(F4t),this.#e.flush(()=>{let i=Buffer.concat(this.#e[iq],this.#e[oq]);this.#e[iq].length=0,this.#e[oq]=0,n(null,i)})}};ZSe.exports={PerMessageDeflate:Doe}});var uke=j((VHr,cke)=>{"use strict";d();var{Writable:N4t}=require("node:stream"),L4t=require("node:assert"),{parserStates:du,opcodes:c6,states:Q4t,emptyBuffer:eke,sentCloseFrameState:tke}=Rx(),{kReadyState:M4t,kSentClose:rke,kResponse:nke,kReceivedClose:ike}=wS(),{channels:sq}=v8(),{isValidStatusCode:O4t,isValidOpcode:U4t,failWebsocketConnection:Od,websocketMessageReceived:oke,utf8Decode:q4t,isControlFrame:ske,isTextBinaryFrame:Poe,isContinuationFrame:W4t}=kS(),{WebsocketFrameSend:ake}=tq(),{closeWebSocketConnection:lke}=Boe(),{PerMessageDeflate:G4t}=XSe(),Foe=class extends N4t{static{o(this,"ByteParser")}#e=[];#t=0;#i=!1;#n=du.INFO;#r={};#o=[];#s;constructor(t,r){super(),this.ws=t,this.#s=r??new Map,this.#s.has("permessage-deflate")&&this.#s.set("permessage-deflate",new G4t(r))}_write(t,r,n){this.#e.push(t),this.#t+=t.length,this.#i=!0,this.run(n)}run(t){for(;this.#i;)if(this.#n===du.INFO){if(this.#t<2)return t();let r=this.consume(2),n=(r[0]&128)!==0,i=r[0]&15,s=(r[1]&128)===128,a=!n&&i!==c6.CONTINUATION,l=r[1]&127,c=r[0]&64,u=r[0]&32,f=r[0]&16;if(!U4t(i))return Od(this.ws,"Invalid opcode received"),t();if(s)return Od(this.ws,"Frame cannot be masked"),t();if(c!==0&&!this.#s.has("permessage-deflate")){Od(this.ws,"Expected RSV1 to be clear.");return}if(u!==0||f!==0){Od(this.ws,"RSV1, RSV2, RSV3 must be clear");return}if(a&&!Poe(i)){Od(this.ws,"Invalid frame type was fragmented.");return}if(Poe(i)&&this.#o.length>0){Od(this.ws,"Expected continuation frame");return}if(this.#r.fragmented&&a){Od(this.ws,"Fragmented frame exceeded 125 bytes.");return}if((l>125||a)&&ske(i)){Od(this.ws,"Control frame either too large or fragmented");return}if(W4t(i)&&this.#o.length===0&&!this.#r.compressed){Od(this.ws,"Unexpected continuation frame");return}l<=125?(this.#r.payloadLength=l,this.#n=du.READ_DATA):l===126?this.#n=du.PAYLOADLENGTH_16:l===127&&(this.#n=du.PAYLOADLENGTH_64),Poe(i)&&(this.#r.binaryType=i,this.#r.compressed=c!==0),this.#r.opcode=i,this.#r.masked=s,this.#r.fin=n,this.#r.fragmented=a}else if(this.#n===du.PAYLOADLENGTH_16){if(this.#t<2)return t();let r=this.consume(2);this.#r.payloadLength=r.readUInt16BE(0),this.#n=du.READ_DATA}else if(this.#n===du.PAYLOADLENGTH_64){if(this.#t<8)return t();let r=this.consume(8),n=r.readUInt32BE(0);if(n>2**31-1){Od(this.ws,"Received payload length > 2^31 bytes.");return}let i=r.readUInt32BE(4);this.#r.payloadLength=(n<<8)+i,this.#n=du.READ_DATA}else if(this.#n===du.READ_DATA){if(this.#t<this.#r.payloadLength)return t();let r=this.consume(this.#r.payloadLength);if(ske(this.#r.opcode))this.#i=this.parseControlFrame(r),this.#n=du.INFO;else if(this.#r.compressed){this.#s.get("permessage-deflate").decompress(r,this.#r.fin,(n,i)=>{if(n){lke(this.ws,1007,n.message,n.message.length);return}if(this.#o.push(i),!this.#r.fin){this.#n=du.INFO,this.#i=!0,this.run(t);return}oke(this.ws,this.#r.binaryType,Buffer.concat(this.#o)),this.#i=!0,this.#n=du.INFO,this.#o.length=0,this.run(t)}),this.#i=!1;break}else{if(this.#o.push(r),!this.#r.fragmented&&this.#r.fin){let n=Buffer.concat(this.#o);oke(this.ws,this.#r.binaryType,n),this.#o.length=0}this.#n=du.INFO}}}consume(t){if(t>this.#t)throw new Error("Called consume() before buffers satiated.");if(t===0)return eke;if(this.#e[0].length===t)return this.#t-=this.#e[0].length,this.#e.shift();let r=Buffer.allocUnsafe(t),n=0;for(;n!==t;){let i=this.#e[0],{length:s}=i;if(s+n===t){r.set(this.#e.shift(),n);break}else if(s+n>t){r.set(i.subarray(0,t-n),n),this.#e[0]=i.subarray(t-n);break}else r.set(this.#e.shift(),n),n+=i.length}return this.#t-=t,r}parseCloseBody(t){L4t(t.length!==1);let r;if(t.length>=2&&(r=t.readUInt16BE(0)),r!==void 0&&!O4t(r))return{code:1002,reason:"Invalid status code",error:!0};let n=t.subarray(2);n[0]===239&&n[1]===187&&n[2]===191&&(n=n.subarray(3));try{n=q4t(n)}catch{return{code:1007,reason:"Invalid UTF-8",error:!0}}return{code:r,reason:n,error:!1}}parseControlFrame(t){let{opcode:r,payloadLength:n}=this.#r;if(r===c6.CLOSE){if(n===1)return Od(this.ws,"Received close frame with a 1-byte body."),!1;if(this.#r.closeInfo=this.parseCloseBody(t),this.#r.closeInfo.error){let{code:i,reason:s}=this.#r.closeInfo;return lke(this.ws,i,s,s.length),Od(this.ws,s),!1}if(this.ws[rke]!==tke.SENT){let i=eke;this.#r.closeInfo.code&&(i=Buffer.allocUnsafe(2),i.writeUInt16BE(this.#r.closeInfo.code,0));let s=new ake(i);this.ws[nke].socket.write(s.createFrame(c6.CLOSE),a=>{a||(this.ws[rke]=tke.SENT)})}return this.ws[M4t]=Q4t.CLOSING,this.ws[ike]=!0,!1}else if(r===c6.PING){if(!this.ws[ike]){let i=new ake(t);this.ws[nke].socket.write(i.createFrame(c6.PONG)),sq.ping.hasSubscribers&&sq.ping.publish({payload:t})}}else r===c6.PONG&&sq.pong.hasSubscribers&&sq.pong.publish({payload:t});return!0}get closingInfo(){return this.#r.closeInfo}};cke.exports={ByteParser:Foe}});var pke=j((YHr,hke)=>{"use strict";d();var{WebsocketFrameSend:H4t}=tq(),{opcodes:fke,sendHints:u6}=Rx(),j4t=Vne(),dke=Buffer[Symbol.species],Noe=class{static{o(this,"SendQueue")}#e=new j4t;#t=!1;#i;constructor(t){this.#i=t}add(t,r,n){if(n!==u6.blob){let s=mke(t,n);if(!this.#t)this.#i.write(s,r);else{let a={promise:null,callback:r,frame:s};this.#e.push(a)}return}let i={promise:t.arrayBuffer().then(s=>{i.promise=null,i.frame=mke(s,n)}),callback:r,frame:null};this.#e.push(i),this.#t||this.#n()}async#n(){this.#t=!0;let t=this.#e;for(;!t.isEmpty();){let r=t.shift();r.promise!==null&&await r.promise,this.#i.write(r.frame,r.callback),r.callback=r.frame=null}this.#t=!1}};function mke(e,t){return new H4t(V4t(e,t)).createFrame(t===u6.string?fke.TEXT:fke.BINARY)}o(mke,"createFrame");function V4t(e,t){switch(t){case u6.string:return Buffer.from(e);case u6.arrayBuffer:case u6.blob:return new dke(e);case u6.typedArray:return new dke(e.buffer,e.byteOffset,e.byteLength)}}o(V4t,"toBuffer");hke.exports={SendQueue:Noe}});var Ike=j((ZHr,Eke)=>{"use strict";d();var{webidl:Qn}=oc(),{URLSerializer:$4t}=au(),{environmentSettingsObject:gke}=mf(),{staticPropertyDescriptors:j5,states:PS,sentCloseFrameState:z4t,sendHints:aq}=Rx(),{kWebSocketURL:Ake,kReadyState:Loe,kController:Y4t,kBinaryType:lq,kResponse:yke,kSentClose:K4t,kByteParser:J4t}=wS(),{isConnecting:Z4t,isEstablished:X4t,isClosing:ext,isValidSubprotocol:txt,fireEvent:Cke}=kS(),{establishWebSocketConnection:rxt,closeWebSocketConnection:xke}=Boe(),{ByteParser:nxt}=uke(),{kEnumerableProperty:Ud,isBlobLike:vke}=Ci(),{getGlobalDispatcher:ixt}=bU(),{types:bke}=require("node:util"),{ErrorEvent:oxt,CloseEvent:sxt}=s6(),{SendQueue:axt}=pke(),xf=class e extends EventTarget{static{o(this,"WebSocket")}#e={open:null,error:null,close:null,message:null};#t=0;#i="";#n="";#r;constructor(t,r=[]){super(),Qn.util.markAsUncloneable(this);let n="WebSocket constructor";Qn.argumentLengthCheck(arguments,1,n);let i=Qn.converters["DOMString or sequence<DOMString> or WebSocketInit"](r,n,"options");t=Qn.converters.USVString(t,n,"url"),r=i.protocols;let s=gke.settingsObject.baseUrl,a;try{a=new URL(t,s)}catch(c){throw new DOMException(c,"SyntaxError")}if(a.protocol==="http:"?a.protocol="ws:":a.protocol==="https:"&&(a.protocol="wss:"),a.protocol!=="ws:"&&a.protocol!=="wss:")throw new DOMException(`Expected a ws: or wss: protocol, got ${a.protocol}`,"SyntaxError");if(a.hash||a.href.endsWith("#"))throw new DOMException("Got fragment","SyntaxError");if(typeof r=="string"&&(r=[r]),r.length!==new Set(r.map(c=>c.toLowerCase())).size)throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");if(r.length>0&&!r.every(c=>txt(c)))throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");this[Ake]=new URL(a.href);let l=gke.settingsObject;this[Y4t]=rxt(a,r,l,this,(c,u)=>this.#o(c,u),i),this[Loe]=e.CONNECTING,this[K4t]=z4t.NOT_SENT,this[lq]="blob"}close(t=void 0,r=void 0){Qn.brandCheck(this,e);let n="WebSocket.close";if(t!==void 0&&(t=Qn.converters["unsigned short"](t,n,"code",{clamp:!0})),r!==void 0&&(r=Qn.converters.USVString(r,n,"reason")),t!==void 0&&t!==1e3&&(t<3e3||t>4999))throw new DOMException("invalid code","InvalidAccessError");let i=0;if(r!==void 0&&(i=Buffer.byteLength(r),i>123))throw new DOMException(`Reason must be less than 123 bytes; received ${i}`,"SyntaxError");xke(this,t,r,i)}send(t){Qn.brandCheck(this,e);let r="WebSocket.send";if(Qn.argumentLengthCheck(arguments,1,r),t=Qn.converters.WebSocketSendData(t,r,"data"),Z4t(this))throw new DOMException("Sent before connected.","InvalidStateError");if(!(!X4t(this)||ext(this)))if(typeof t=="string"){let n=Buffer.byteLength(t);this.#t+=n,this.#r.add(t,()=>{this.#t-=n},aq.string)}else bke.isArrayBuffer(t)?(this.#t+=t.byteLength,this.#r.add(t,()=>{this.#t-=t.byteLength},aq.arrayBuffer)):ArrayBuffer.isView(t)?(this.#t+=t.byteLength,this.#r.add(t,()=>{this.#t-=t.byteLength},aq.typedArray)):vke(t)&&(this.#t+=t.size,this.#r.add(t,()=>{this.#t-=t.size},aq.blob))}get readyState(){return Qn.brandCheck(this,e),this[Loe]}get bufferedAmount(){return Qn.brandCheck(this,e),this.#t}get url(){return Qn.brandCheck(this,e),$4t(this[Ake])}get extensions(){return Qn.brandCheck(this,e),this.#n}get protocol(){return Qn.brandCheck(this,e),this.#i}get onopen(){return Qn.brandCheck(this,e),this.#e.open}set onopen(t){Qn.brandCheck(this,e),this.#e.open&&this.removeEventListener("open",this.#e.open),typeof t=="function"?(this.#e.open=t,this.addEventListener("open",t)):this.#e.open=null}get onerror(){return Qn.brandCheck(this,e),this.#e.error}set onerror(t){Qn.brandCheck(this,e),this.#e.error&&this.removeEventListener("error",this.#e.error),typeof t=="function"?(this.#e.error=t,this.addEventListener("error",t)):this.#e.error=null}get onclose(){return Qn.brandCheck(this,e),this.#e.close}set onclose(t){Qn.brandCheck(this,e),this.#e.close&&this.removeEventListener("close",this.#e.close),typeof t=="function"?(this.#e.close=t,this.addEventListener("close",t)):this.#e.close=null}get onmessage(){return Qn.brandCheck(this,e),this.#e.message}set onmessage(t){Qn.brandCheck(this,e),this.#e.message&&this.removeEventListener("message",this.#e.message),typeof t=="function"?(this.#e.message=t,this.addEventListener("message",t)):this.#e.message=null}get binaryType(){return Qn.brandCheck(this,e),this[lq]}set binaryType(t){Qn.brandCheck(this,e),t!=="blob"&&t!=="arraybuffer"?this[lq]="blob":this[lq]=t}#o(t,r){this[yke]=t;let n=new nxt(this,r);n.on("drain",lxt),n.on("error",cxt.bind(this)),t.socket.ws=this,this[J4t]=n,this.#r=new axt(t.socket),this[Loe]=PS.OPEN;let i=t.headersList.get("sec-websocket-extensions");i!==null&&(this.#n=i);let s=t.headersList.get("sec-websocket-protocol");s!==null&&(this.#i=s),Cke("open",this)}};xf.CONNECTING=xf.prototype.CONNECTING=PS.CONNECTING;xf.OPEN=xf.prototype.OPEN=PS.OPEN;xf.CLOSING=xf.prototype.CLOSING=PS.CLOSING;xf.CLOSED=xf.prototype.CLOSED=PS.CLOSED;Object.defineProperties(xf.prototype,{CONNECTING:j5,OPEN:j5,CLOSING:j5,CLOSED:j5,url:Ud,readyState:Ud,bufferedAmount:Ud,onopen:Ud,onerror:Ud,onclose:Ud,close:Ud,onmessage:Ud,binaryType:Ud,send:Ud,extensions:Ud,protocol:Ud,[Symbol.toStringTag]:{value:"WebSocket",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(xf,{CONNECTING:j5,OPEN:j5,CLOSING:j5,CLOSED:j5});Qn.converters["sequence<DOMString>"]=Qn.sequenceConverter(Qn.converters.DOMString);Qn.converters["DOMString or sequence<DOMString>"]=function(e,t,r){return Qn.util.Type(e)==="Object"&&Symbol.iterator in e?Qn.converters["sequence<DOMString>"](e):Qn.converters.DOMString(e,t,r)};Qn.converters.WebSocketInit=Qn.dictionaryConverter([{key:"protocols",converter:Qn.converters["DOMString or sequence<DOMString>"],defaultValue:o(()=>new Array(0),"defaultValue")},{key:"dispatcher",converter:Qn.converters.any,defaultValue:o(()=>ixt(),"defaultValue")},{key:"headers",converter:Qn.nullableConverter(Qn.converters.HeadersInit)}]);Qn.converters["DOMString or sequence<DOMString> or WebSocketInit"]=function(e){return Qn.util.Type(e)==="Object"&&!(Symbol.iterator in e)?Qn.converters.WebSocketInit(e):{protocols:Qn.converters["DOMString or sequence<DOMString>"](e)}};Qn.converters.WebSocketSendData=function(e){if(Qn.util.Type(e)==="Object"){if(vke(e))return Qn.converters.Blob(e,{strict:!1});if(ArrayBuffer.isView(e)||bke.isArrayBuffer(e))return Qn.converters.BufferSource(e)}return Qn.converters.USVString(e)};function lxt(){this.ws[yke].socket.resume()}o(lxt,"onParserDrain");function cxt(e){let t,r;e instanceof sxt?(t=e.reason,r=e.code):t=e.message,Cke("error",this,()=>new oxt("error",{error:e,message:t})),xke(this,r)}o(cxt,"onParserError");Eke.exports={WebSocket:xf}});var Qoe=j((tjr,Tke)=>{"use strict";d();function uxt(e){return e.indexOf("\0")===-1}o(uxt,"isValidLastEventId");function fxt(e){if(e.length===0)return!1;for(let t=0;t<e.length;t++)if(e.charCodeAt(t)<48||e.charCodeAt(t)>57)return!1;return!0}o(fxt,"isASCIINumber");function dxt(e){return new Promise(t=>{setTimeout(t,e).unref()})}o(dxt,"delay");Tke.exports={isValidLastEventId:uxt,isASCIINumber:fxt,delay:dxt}});var kke=j((ijr,Ske)=>{"use strict";d();var{Transform:mxt}=require("node:stream"),{isASCIINumber:wke,isValidLastEventId:_ke}=Qoe(),CA=[239,187,191],Moe=10,cq=13,hxt=58,pxt=32,Ooe=class extends mxt{static{o(this,"EventSourceStream")}state=null;checkBOM=!0;crlfCheck=!1;eventEndCheck=!1;buffer=null;pos=0;event={data:void 0,event:void 0,id:void 0,retry:void 0};constructor(t={}){t.readableObjectMode=!0,super(t),this.state=t.eventSourceSettings||{},t.push&&(this.push=t.push)}_transform(t,r,n){if(t.length===0){n();return}if(this.buffer?this.buffer=Buffer.concat([this.buffer,t]):this.buffer=t,this.checkBOM)switch(this.buffer.length){case 1:if(this.buffer[0]===CA[0]){n();return}this.checkBOM=!1,n();return;case 2:if(this.buffer[0]===CA[0]&&this.buffer[1]===CA[1]){n();return}this.checkBOM=!1;break;case 3:if(this.buffer[0]===CA[0]&&this.buffer[1]===CA[1]&&this.buffer[2]===CA[2]){this.buffer=Buffer.alloc(0),this.checkBOM=!1,n();return}this.checkBOM=!1;break;default:this.buffer[0]===CA[0]&&this.buffer[1]===CA[1]&&this.buffer[2]===CA[2]&&(this.buffer=this.buffer.subarray(3)),this.checkBOM=!1;break}for(;this.pos<this.buffer.length;){if(this.eventEndCheck){if(this.crlfCheck){if(this.buffer[this.pos]===Moe){this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.crlfCheck=!1;continue}this.crlfCheck=!1}if(this.buffer[this.pos]===Moe||this.buffer[this.pos]===cq){this.buffer[this.pos]===cq&&(this.crlfCheck=!0),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,(this.event.data!==void 0||this.event.event||this.event.id||this.event.retry)&&this.processEvent(this.event),this.clearEvent();continue}this.eventEndCheck=!1;continue}if(this.buffer[this.pos]===Moe||this.buffer[this.pos]===cq){this.buffer[this.pos]===cq&&(this.crlfCheck=!0),this.parseLine(this.buffer.subarray(0,this.pos),this.event),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.eventEndCheck=!0;continue}this.pos++}n()}parseLine(t,r){if(t.length===0)return;let n=t.indexOf(hxt);if(n===0)return;let i="",s="";if(n!==-1){i=t.subarray(0,n).toString("utf8");let a=n+1;t[a]===pxt&&++a,s=t.subarray(a).toString("utf8")}else i=t.toString("utf8"),s="";switch(i){case"data":r[i]===void 0?r[i]=s:r[i]+=`
${s}`;break;case"retry":wke(s)&&(r[i]=s);break;case"id":_ke(s)&&(r[i]=s);break;case"event":s.length>0&&(r[i]=s);break}}processEvent(t){t.retry&&wke(t.retry)&&(this.state.reconnectionTime=parseInt(t.retry,10)),t.id&&_ke(t.id)&&(this.state.lastEventId=t.id),t.data!==void 0&&this.push({type:t.event||"message",options:{data:t.data,lastEventId:this.state.lastEventId,origin:this.state.origin}})}clearEvent(){this.event={data:void 0,event:void 0,id:void 0,retry:void 0}}};Ske.exports={EventSourceStream:Ooe}});var Qke=j((ajr,Lke)=>{"use strict";d();var{pipeline:gxt}=require("node:stream"),{fetching:Axt}=bS(),{makeRequest:yxt}=e6(),{webidl:xA}=oc(),{EventSourceStream:Cxt}=kke(),{parseMIMEType:xxt}=au(),{createFastMessageEvent:vxt}=s6(),{isNetworkError:Rke}=xS(),{delay:bxt}=Qoe(),{kEnumerableProperty:Bx}=Ci(),{environmentSettingsObject:Bke}=mf(),Dke=!1,Pke=3e3,NS=0,Fke=1,LS=2,Ext="anonymous",Ixt="use-credentials",f6=class e extends EventTarget{static{o(this,"EventSource")}#e={open:null,error:null,message:null};#t=null;#i=!1;#n=NS;#r=null;#o=null;#s;#a;constructor(t,r={}){super(),xA.util.markAsUncloneable(this);let n="EventSource constructor";xA.argumentLengthCheck(arguments,1,n),Dke||(Dke=!0,process.emitWarning("EventSource is experimental, expect them to change at any time.",{code:"UNDICI-ES"})),t=xA.converters.USVString(t,n,"url"),r=xA.converters.EventSourceInitDict(r,n,"eventSourceInitDict"),this.#s=r.dispatcher,this.#a={lastEventId:"",reconnectionTime:Pke};let i=Bke,s;try{s=new URL(t,i.settingsObject.baseUrl),this.#a.origin=s.origin}catch(c){throw new DOMException(c,"SyntaxError")}this.#t=s.href;let a=Ext;r.withCredentials&&(a=Ixt,this.#i=!0);let l={redirect:"follow",keepalive:!0,mode:"cors",credentials:a==="anonymous"?"same-origin":"omit",referrer:"no-referrer"};l.client=Bke.settingsObject,l.headersList=[["accept",{name:"accept",value:"text/event-stream"}]],l.cache="no-store",l.initiator="other",l.urlList=[new URL(this.#t)],this.#r=yxt(l),this.#l()}get readyState(){return this.#n}get url(){return this.#t}get withCredentials(){return this.#i}#l(){if(this.#n===LS)return;this.#n=NS;let t={request:this.#r,dispatcher:this.#s},r=o(n=>{Rke(n)&&(this.dispatchEvent(new Event("error")),this.close()),this.#c()},"processEventSourceEndOfBody");t.processResponseEndOfBody=r,t.processResponse=n=>{if(Rke(n))if(n.aborted){this.close(),this.dispatchEvent(new Event("error"));return}else{this.#c();return}let i=n.headersList.get("content-type",!0),s=i!==null?xxt(i):"failure",a=s!=="failure"&&s.essence==="text/event-stream";if(n.status!==200||a===!1){this.close(),this.dispatchEvent(new Event("error"));return}this.#n=Fke,this.dispatchEvent(new Event("open")),this.#a.origin=n.urlList[n.urlList.length-1].origin;let l=new Cxt({eventSourceSettings:this.#a,push:o(c=>{this.dispatchEvent(vxt(c.type,c.options))},"push")});gxt(n.body.stream,l,c=>{c?.aborted===!1&&(this.close(),this.dispatchEvent(new Event("error")))})},this.#o=Axt(t)}async#c(){this.#n!==LS&&(this.#n=NS,this.dispatchEvent(new Event("error")),await bxt(this.#a.reconnectionTime),this.#n===NS&&(this.#a.lastEventId.length&&this.#r.headersList.set("last-event-id",this.#a.lastEventId,!0),this.#l()))}close(){xA.brandCheck(this,e),this.#n!==LS&&(this.#n=LS,this.#o.abort(),this.#r=null)}get onopen(){return this.#e.open}set onopen(t){this.#e.open&&this.removeEventListener("open",this.#e.open),typeof t=="function"?(this.#e.open=t,this.addEventListener("open",t)):this.#e.open=null}get onmessage(){return this.#e.message}set onmessage(t){this.#e.message&&this.removeEventListener("message",this.#e.message),typeof t=="function"?(this.#e.message=t,this.addEventListener("message",t)):this.#e.message=null}get onerror(){return this.#e.error}set onerror(t){this.#e.error&&this.removeEventListener("error",this.#e.error),typeof t=="function"?(this.#e.error=t,this.addEventListener("error",t)):this.#e.error=null}},Nke={CONNECTING:{__proto__:null,configurable:!1,enumerable:!0,value:NS,writable:!1},OPEN:{__proto__:null,configurable:!1,enumerable:!0,value:Fke,writable:!1},CLOSED:{__proto__:null,configurable:!1,enumerable:!0,value:LS,writable:!1}};Object.defineProperties(f6,Nke);Object.defineProperties(f6.prototype,Nke);Object.defineProperties(f6.prototype,{close:Bx,onerror:Bx,onmessage:Bx,onopen:Bx,readyState:Bx,url:Bx,withCredentials:Bx});xA.converters.EventSourceInitDict=xA.dictionaryConverter([{key:"withCredentials",converter:xA.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"dispatcher",converter:xA.converters.any}]);Lke.exports={EventSource:f6,defaultReconnectionTime:Pke}});var qke=j((ujr,wn)=>{"use strict";d();var Txt=oS(),Mke=Q_(),wxt=q8(),_xt=j7e(),Sxt=W8(),kxt=uie(),Rxt=lTe(),Bxt=hTe(),Oke=yo(),fq=Ci(),{InvalidArgumentError:uq}=Oke,d6=ewe(),Dxt=O_(),Pxt=jie(),Fxt=Nwe(),Nxt=zie(),Lxt=Die(),Qxt=dU(),{getGlobalDispatcher:Uke,setGlobalDispatcher:Mxt}=bU(),Oxt=EU(),Uxt=tU(),qxt=rU();Object.assign(Mke.prototype,d6);wn.exports.Dispatcher=Mke;wn.exports.Client=Txt;wn.exports.Pool=wxt;wn.exports.BalancedPool=_xt;wn.exports.Agent=Sxt;wn.exports.ProxyAgent=kxt;wn.exports.EnvHttpProxyAgent=Rxt;wn.exports.RetryAgent=Bxt;wn.exports.RetryHandler=Qxt;wn.exports.DecoratorHandler=Oxt;wn.exports.RedirectHandler=Uxt;wn.exports.createRedirectInterceptor=qxt;wn.exports.interceptors={redirect:Wwe(),retry:Hwe(),dump:Vwe(),dns:Ywe()};wn.exports.buildConnector=Dxt;wn.exports.errors=Oke;wn.exports.util={parseHeaders:fq.parseHeaders,headerNameToString:fq.headerNameToString};function QS(e){return(t,r,n)=>{if(typeof r=="function"&&(n=r,r=null),!t||typeof t!="string"&&typeof t!="object"&&!(t instanceof URL))throw new uq("invalid url");if(r!=null&&typeof r!="object")throw new uq("invalid opts");if(r&&r.path!=null){if(typeof r.path!="string")throw new uq("invalid opts.path");let a=r.path;r.path.startsWith("/")||(a=`/${a}`),t=new URL(fq.parseOrigin(t).origin+a)}else r||(r=typeof t=="object"?t:{}),t=fq.parseURL(t);let{agent:i,dispatcher:s=Uke()}=r;if(i)throw new uq("unsupported opts.agent. Did you mean opts.client?");return e.call(s,{...r,origin:t.origin,path:t.search?`${t.pathname}${t.search}`:t.pathname,method:r.method||(r.body?"PUT":"GET")},n)}}o(QS,"makeDispatcher");wn.exports.setGlobalDispatcher=Mxt;wn.exports.getGlobalDispatcher=Uke;var Wxt=bS().fetch;wn.exports.fetch=o(async function(t,r=void 0){try{return await Wxt(t,r)}catch(n){throw n&&typeof n=="object"&&Error.captureStackTrace(n),n}},"fetch");wn.exports.Headers=Ix().Headers;wn.exports.Response=xS().Response;wn.exports.Request=e6().Request;wn.exports.FormData=V_().FormData;wn.exports.File=globalThis.File??require("node:buffer").File;wn.exports.FileReader=cSe().FileReader;var{setGlobalOrigin:Gxt,getGlobalOrigin:Hxt}=fne();wn.exports.setGlobalOrigin=Gxt;wn.exports.getGlobalOrigin=Hxt;var{CacheStorage:jxt}=ySe(),{kConstruct:Vxt}=HU();wn.exports.caches=new jxt(Vxt);var{deleteCookie:$xt,getCookies:zxt,getSetCookies:Yxt,setCookie:Kxt}=RSe();wn.exports.deleteCookie=$xt;wn.exports.getCookies=zxt;wn.exports.getSetCookies=Yxt;wn.exports.setCookie=Kxt;var{parseMIMEType:Jxt,serializeAMimeType:Zxt}=au();wn.exports.parseMIMEType=Jxt;wn.exports.serializeAMimeType=Zxt;var{CloseEvent:Xxt,ErrorEvent:evt,MessageEvent:tvt}=s6();wn.exports.WebSocket=Ike().WebSocket;wn.exports.CloseEvent=Xxt;wn.exports.ErrorEvent=evt;wn.exports.MessageEvent=tvt;wn.exports.request=QS(d6.request);wn.exports.stream=QS(d6.stream);wn.exports.pipeline=QS(d6.pipeline);wn.exports.connect=QS(d6.connect);wn.exports.upgrade=QS(d6.upgrade);wn.exports.MockClient=Pxt;wn.exports.MockPool=Nxt;wn.exports.MockAgent=Fxt;wn.exports.mockErrors=Lxt;var{EventSource:rvt}=Qke();wn.exports.EventSource=rvt});var ci=j((mjr,Wke)=>{d();Wke.exports={options:{usePureJavaScript:!1}}});var jke=j((pjr,Hke)=>{d();var Uoe={};Hke.exports=Uoe;var Gke={};Uoe.encode=function(e,t,r){if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(e instanceof Uint8Array))n=nvt(e,t);else{var i=0,s=t.length,a=t.charAt(0),l=[0];for(i=0;i<e.length;++i){for(var c=0,u=e[i];c<l.length;++c)u+=l[c]<<8,l[c]=u%s,u=u/s|0;for(;u>0;)l.push(u%s),u=u/s|0}for(i=0;e[i]===0&&i<e.length-1;++i)n+=a;for(i=l.length-1;i>=0;--i)n+=t[l[i]]}if(r){var f=new RegExp(".{1,"+r+"}","g");n=n.match(f).join(`\r
`)}return n};Uoe.decode=function(e,t){if(typeof e!="string")throw new TypeError('"input" must be a string.');if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');var r=Gke[t];if(!r){r=Gke[t]=[];for(var n=0;n<t.length;++n)r[t.charCodeAt(n)]=n}e=e.replace(/\s/g,"");for(var i=t.length,s=t.charAt(0),a=[0],n=0;n<e.length;n++){var l=r[e.charCodeAt(n)];if(l===void 0)return;for(var c=0,u=l;c<a.length;++c)u+=a[c]*i,a[c]=u&255,u>>=8;for(;u>0;)a.push(u&255),u>>=8}for(var f=0;e[f]===s&&f<e.length-1;++f)a.push(0);return typeof Buffer<"u"?Buffer.from(a.reverse()):new Uint8Array(a.reverse())};function nvt(e,t){var r=0,n=t.length,i=t.charAt(0),s=[0];for(r=0;r<e.length();++r){for(var a=0,l=e.at(r);a<s.length;++a)l+=s[a]<<8,s[a]=l%n,l=l/n|0;for(;l>0;)s.push(l%n),l=l/n|0}var c="";for(r=0;e.at(r)===0&&r<e.length()-1;++r)c+=i;for(r=s.length-1;r>=0;--r)c+=t[s[r]];return c}o(nvt,"_encodeWithByteBuffer")});var ao=j((yjr,Yke)=>{d();var Vke=ci(),$ke=jke(),Le=Yke.exports=Vke.util=Vke.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){Le.nextTick=process.nextTick,typeof setImmediate=="function"?Le.setImmediate=setImmediate:Le.setImmediate=Le.nextTick;return}if(typeof setImmediate=="function"){Le.setImmediate=function(){return setImmediate.apply(void 0,arguments)},Le.nextTick=function(l){return setImmediate(l)};return}if(Le.setImmediate=function(l){setTimeout(l,0)},typeof window<"u"&&typeof window.postMessage=="function"){let l=function(c){if(c.source===window&&c.data===e){c.stopPropagation();var u=t.slice();t.length=0,u.forEach(function(f){f()})}};var a=l;o(l,"handler");var e="forge.setImmediate",t=[];Le.setImmediate=function(c){t.push(c),t.length===1&&window.postMessage(e,"*")},window.addEventListener("message",l,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,i=document.createElement("div"),t=[];new MutationObserver(function(){var c=t.slice();t.length=0,c.forEach(function(u){u()})}).observe(i,{attributes:!0});var s=Le.setImmediate;Le.setImmediate=function(c){Date.now()-r>15?(r=Date.now(),s(c)):(t.push(c),t.length===1&&i.setAttribute("a",n=!n))}}Le.nextTick=Le.setImmediate})();Le.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;Le.globalScope=function(){return Le.isNodejs?global:typeof self>"u"?window:self}();Le.isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};Le.isArrayBuffer=function(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer};Le.isArrayBufferView=function(e){return e&&Le.isArrayBuffer(e.buffer)&&e.byteLength!==void 0};function MS(e){if(!(e===8||e===16||e===24||e===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}o(MS,"_checkBitsParam");Le.ByteBuffer=qoe;function qoe(e){if(this.data="",this.read=0,typeof e=="string")this.data=e;else if(Le.isArrayBuffer(e)||Le.isArrayBufferView(e))if(typeof Buffer<"u"&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch{for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof qoe||typeof e=="object"&&typeof e.data=="string"&&typeof e.read=="number")&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}o(qoe,"ByteStringBuffer");Le.ByteStringBuffer=qoe;var ivt=4096;Le.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>ivt&&(this.data.substr(0,1),this._constructedStringLength=0)};Le.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};Le.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};Le.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))};Le.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this};Le.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this};Le.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(Le.encodeUtf8(e))};Le.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};Le.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};Le.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};Le.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255))};Le.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))};Le.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))};Le.ByteStringBuffer.prototype.putInt=function(e,t){MS(t);var r="";do t-=8,r+=String.fromCharCode(e>>t&255);while(t>0);return this.putBytes(r)};Le.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)};Le.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())};Le.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};Le.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e};Le.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e};Le.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e};Le.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e};Le.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e};Le.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e};Le.ByteStringBuffer.prototype.getInt=function(e){MS(e);var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),e-=8;while(e>0);return t};Le.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};Le.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};Le.ByteStringBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};Le.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)};Le.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this};Le.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};Le.ByteStringBuffer.prototype.copy=function(){var e=Le.createBuffer(this.data);return e.read=this.read,e};Le.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};Le.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};Le.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this};Le.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e};Le.ByteStringBuffer.prototype.toString=function(){return Le.decodeUtf8(this.bytes())};function ovt(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=Le.isArrayBuffer(e),n=Le.isArrayBufferView(e);if(r||n){r?this.data=new DataView(e):this.data=new DataView(e.buffer,e.byteOffset,e.byteLength),this.write="writeOffset"in t?t.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,e!=null&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)}o(ovt,"DataBuffer");Le.DataBuffer=ovt;Le.DataBuffer.prototype.length=function(){return this.write-this.read};Le.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};Le.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this};Le.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this};Le.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this};Le.DataBuffer.prototype.putBytes=function(e,t){if(Le.isArrayBufferView(e)){var r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(Le.isArrayBuffer(e)){var r=new Uint8Array(e);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(e instanceof Le.DataBuffer||typeof e=="object"&&typeof e.read=="number"&&typeof e.write=="number"&&Le.isArrayBufferView(e.data)){var r=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(r.byteLength);var i=new Uint8Array(e.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(e instanceof Le.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary",typeof e=="string"){var s;if(t==="hex")return this.accommodate(Math.ceil(e.length/2)),s=new Uint8Array(this.data.buffer,this.write),this.write+=Le.binary.hex.decode(e,s,this.write),this;if(t==="base64")return this.accommodate(Math.ceil(e.length/4)*3),s=new Uint8Array(this.data.buffer,this.write),this.write+=Le.binary.base64.decode(e,s,this.write),this;if(t==="utf8"&&(e=Le.encodeUtf8(e),t="binary"),t==="binary"||t==="raw")return this.accommodate(e.length),s=new Uint8Array(this.data.buffer,this.write),this.write+=Le.binary.raw.decode(s),this;if(t==="utf16")return this.accommodate(e.length*2),s=new Uint16Array(this.data.buffer,this.write),this.write+=Le.text.utf16.encode(s),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)};Le.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this};Le.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")};Le.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this};Le.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this};Le.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this};Le.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this};Le.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this};Le.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this};Le.DataBuffer.prototype.putInt=function(e,t){MS(t),this.accommodate(t/8);do t-=8,this.data.setInt8(this.write++,e>>t&255);while(t>0);return this};Le.DataBuffer.prototype.putSignedInt=function(e,t){return MS(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)};Le.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};Le.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e};Le.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e};Le.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e};Le.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e};Le.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e};Le.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e};Le.DataBuffer.prototype.getInt=function(e){MS(e);var t=0;do t=(t<<8)+this.data.getInt8(this.read++),e-=8;while(e>0);return t};Le.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};Le.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};Le.DataBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};Le.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)};Le.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this};Le.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};Le.DataBuffer.prototype.copy=function(){return new Le.DataBuffer(this)};Le.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this};Le.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};Le.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this};Le.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e};Le.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if(e=e||"utf8",e==="binary"||e==="raw")return Le.binary.raw.encode(t);if(e==="hex")return Le.binary.hex.encode(t);if(e==="base64")return Le.binary.base64.encode(t);if(e==="utf8")return Le.text.utf8.decode(t);if(e==="utf16")return Le.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)};Le.createBuffer=function(e,t){return t=t||"raw",e!==void 0&&t==="utf8"&&(e=Le.encodeUtf8(e)),new Le.ByteBuffer(e)};Le.fillString=function(e,t){for(var r="";t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return r};Le.xorBytes=function(e,t,r){for(var n="",i="",s="",a=0,l=0;r>0;--r,++a)i=e.charCodeAt(a)^t.charCodeAt(a),l>=10&&(n+=s,s="",l=0),s+=String.fromCharCode(i),++l;return n+=s,n};Le.hexToBytes=function(e){var t="",r=0;for(e.length&!0&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t};Le.bytesToHex=function(e){return Le.createBuffer(e).toHex()};Le.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};var V5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",$5=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],zke="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Le.encode64=function(e,t){for(var r="",n="",i,s,a,l=0;l<e.length;)i=e.charCodeAt(l++),s=e.charCodeAt(l++),a=e.charCodeAt(l++),r+=V5.charAt(i>>2),r+=V5.charAt((i&3)<<4|s>>4),isNaN(s)?r+="==":(r+=V5.charAt((s&15)<<2|a>>6),r+=isNaN(a)?"=":V5.charAt(a&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};Le.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t="",r,n,i,s,a=0;a<e.length;)r=$5[e.charCodeAt(a++)-43],n=$5[e.charCodeAt(a++)-43],i=$5[e.charCodeAt(a++)-43],s=$5[e.charCodeAt(a++)-43],t+=String.fromCharCode(r<<2|n>>4),i!==64&&(t+=String.fromCharCode((n&15)<<4|i>>2),s!==64&&(t+=String.fromCharCode((i&3)<<6|s)));return t};Le.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};Le.decodeUtf8=function(e){return decodeURIComponent(escape(e))};Le.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:$ke.encode,decode:$ke.decode}};Le.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)};Le.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,s=0;s<e.length;++s)n[i++]=e.charCodeAt(s);return t?i-r:n};Le.binary.hex.encode=Le.bytesToHex;Le.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2))),r=r||0;var i=0,s=r;for(e.length&1&&(i=1,n[s++]=parseInt(e[0],16));i<e.length;i+=2)n[s++]=parseInt(e.substr(i,2),16);return t?s-r:n};Le.binary.base64.encode=function(e,t){for(var r="",n="",i,s,a,l=0;l<e.byteLength;)i=e[l++],s=e[l++],a=e[l++],r+=V5.charAt(i>>2),r+=V5.charAt((i&3)<<4|s>>4),isNaN(s)?r+="==":(r+=V5.charAt((s&15)<<2|a>>6),r+=isNaN(a)?"=":V5.charAt(a&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};Le.binary.base64.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/4)*3)),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,s,a,l,c=0,u=r;c<e.length;)i=$5[e.charCodeAt(c++)-43],s=$5[e.charCodeAt(c++)-43],a=$5[e.charCodeAt(c++)-43],l=$5[e.charCodeAt(c++)-43],n[u++]=i<<2|s>>4,a!==64&&(n[u++]=(s&15)<<4|a>>2,l!==64&&(n[u++]=(a&3)<<6|l));return t?u-r:n.subarray(0,u)};Le.binary.base58.encode=function(e,t){return Le.binary.baseN.encode(e,zke,t)};Le.binary.base58.decode=function(e,t){return Le.binary.baseN.decode(e,zke,t)};Le.text={utf8:{},utf16:{}};Le.text.utf8.encode=function(e,t,r){e=Le.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,s=0;s<e.length;++s)n[i++]=e.charCodeAt(s);return t?i-r:n};Le.text.utf8.decode=function(e){return Le.decodeUtf8(String.fromCharCode.apply(null,e))};Le.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var s=r,a=r,l=0;l<e.length;++l)i[a++]=e.charCodeAt(l),s+=2;return t?s-r:n};Le.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))};Le.deflate=function(e,t,r){if(t=Le.decode64(e.deflate(Le.encode64(t)).rval),r){var n=2,i=t.charCodeAt(1);i&32&&(n=6),t=t.substring(n,t.length-4)}return t};Le.inflate=function(e,t,r){var n=e.inflate(Le.encode64(t)).rval;return n===null?null:Le.decode64(n)};var Woe=o(function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(r===null?n=e.removeItem(t):(r=Le.encode64(JSON.stringify(r)),n=e.setItem(t,r)),typeof n<"u"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},"_setStorageObject"),Goe=o(function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(Le.decode64(r))),r},"_getStorageObject"),svt=o(function(e,t,r,n){var i=Goe(e,t);i===null&&(i={}),i[r]=n,Woe(e,t,i)},"_setItem"),avt=o(function(e,t,r){var n=Goe(e,t);return n!==null&&(n=r in n?n[r]:null),n},"_getItem"),lvt=o(function(e,t,r){var n=Goe(e,t);if(n!==null&&r in n){delete n[r];var i=!0;for(var s in n){i=!1;break}i&&(n=null),Woe(e,t,n)}},"_removeItem"),cvt=o(function(e,t){Woe(e,t,null)},"_clearItems"),dq=o(function(e,t,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var i,s=!1,a=null;for(var l in r){i=r[l];try{if(i==="flash"||i==="both"){if(t[0]===null)throw new Error("Flash local storage not available.");n=e.apply(this,t),s=i==="flash"}(i==="web"||i==="both")&&(t[0]=localStorage,n=e.apply(this,t),s=!0)}catch(c){a=c}if(s)break}if(!s)throw a;return n},"_callStorageFunction");Le.setItem=function(e,t,r,n,i){dq(svt,arguments,i)};Le.getItem=function(e,t,r,n){return dq(avt,arguments,n)};Le.removeItem=function(e,t,r,n){dq(lvt,arguments,n)};Le.clearItems=function(e,t,r){dq(cvt,arguments,r)};Le.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};Le.format=function(e){for(var t=/%./g,r,n,i=0,s=[],a=0;r=t.exec(e);){n=e.substring(a,t.lastIndex-2),n.length>0&&s.push(n),a=t.lastIndex;var l=r[0][1];switch(l){case"s":case"o":i<arguments.length?s.push(arguments[i+++1]):s.push("<?>");break;case"%":s.push("%");break;default:s.push("<%"+l+"?>")}}return s.push(e.substring(a)),s.join("")};Le.formatNumber=function(e,t,r,n){var i=e,s=isNaN(t=Math.abs(t))?2:t,a=r===void 0?",":r,l=n===void 0?".":n,c=i<0?"-":"",u=parseInt(i=Math.abs(+i||0).toFixed(s),10)+"",f=u.length>3?u.length%3:0;return c+(f?u.substr(0,f)+l:"")+u.substr(f).replace(/(\d{3})(?=\d)/g,"$1"+l)+(s?a+Math.abs(i-u).toFixed(s).slice(2):"")};Le.formatSize=function(e){return e>=1073741824?e=Le.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?e=Le.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?e=Le.formatNumber(e/1024,0)+" KiB":e=Le.formatNumber(e,0)+" bytes",e};Le.bytesFromIP=function(e){return e.indexOf(".")!==-1?Le.bytesFromIPv4(e):e.indexOf(":")!==-1?Le.bytesFromIPv6(e):null};Le.bytesFromIPv4=function(e){if(e=e.split("."),e.length!==4)return null;for(var t=Le.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()};Le.bytesFromIPv6=function(e){var t=0;e=e.split(":").filter(function(a){return a.length===0&&++t,!0});for(var r=(8-e.length+t)*2,n=Le.createBuffer(),i=0;i<8;++i){if(!e[i]||e[i].length===0){n.fillWithByte(0,r),r=0;continue}var s=Le.hexToBytes(e[i]);s.length<2&&n.putByte(0),n.putBytes(s)}return n.getBytes()};Le.bytesToIP=function(e){return e.length===4?Le.bytesToIPv4(e):e.length===16?Le.bytesToIPv6(e):null};Le.bytesToIPv4=function(e){if(e.length!==4)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")};Le.bytesToIPv6=function(e){if(e.length!==16)return null;for(var t=[],r=[],n=0,i=0;i<e.length;i+=2){for(var s=Le.bytesToHex(e[i]+e[i+1]);s[0]==="0"&&s!=="0";)s=s.substr(1);if(s==="0"){var a=r[r.length-1],l=t.length;!a||l!==a.end+1?r.push({start:l,end:l}):(a.end=l,a.end-a.start>r[n].end-r[n].start&&(n=r.length-1))}t.push(s)}if(r.length>0){var c=r[n];c.end-c.start>0&&(t.splice(c.start,c.end-c.start+1,""),c.start===0&&t.unshift(""),c.end===7&&t.push(""))}return t.join(":")};Le.estimateCores=function(e,t){if(typeof e=="function"&&(t=e,e={}),e=e||{},"cores"in Le&&!e.update)return t(null,Le.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return Le.cores=navigator.hardwareConcurrency,t(null,Le.cores);if(typeof Worker>"u")return Le.cores=1,t(null,Le.cores);if(typeof Blob>"u")return Le.cores=2,t(null,Le.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(a){for(var l=Date.now(),c=l+4;Date.now()<c;);self.postMessage({st:l,et:c})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(a,l,c){if(l===0){var u=Math.floor(a.reduce(function(f,m){return f+m},0)/a.length);return Le.cores=Math.max(1,u),URL.revokeObjectURL(r),t(null,Le.cores)}i(c,function(f,m){a.push(s(c,m)),n(a,l-1,c)})}o(n,"sample");function i(a,l){for(var c=[],u=[],f=0;f<a;++f){var m=new Worker(r);m.addEventListener("message",function(h){if(u.push(h.data),u.length===a){for(var p=0;p<a;++p)c[p].terminate();l(null,u)}}),c.push(m)}for(var f=0;f<a;++f)c[f].postMessage(f)}o(i,"map");function s(a,l){for(var c=[],u=0;u<a;++u)for(var f=l[u],m=c[u]=[],h=0;h<a;++h)if(u!==h){var p=l[h];(f.st>p.st&&f.st<p.et||p.st>f.st&&p.st<f.et)&&m.push(h)}return c.reduce(function(g,x){return Math.max(g,x.length)},0)}o(s,"reduce")}});var mq=j((vjr,Kke)=>{d();var Dl=ci();ao();Kke.exports=Dl.cipher=Dl.cipher||{};Dl.cipher.algorithms=Dl.cipher.algorithms||{};Dl.cipher.createCipher=function(e,t){var r=e;if(typeof r=="string"&&(r=Dl.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new Dl.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})};Dl.cipher.createDecipher=function(e,t){var r=e;if(typeof r=="string"&&(r=Dl.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new Dl.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})};Dl.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),Dl.cipher.algorithms[e]=t};Dl.cipher.getAlgorithm=function(e){return e=e.toUpperCase(),e in Dl.cipher.algorithms?Dl.cipher.algorithms[e]:null};var Hoe=Dl.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};Hoe.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=Dl.util.createBuffer(),this.output=e.output||Dl.util.createBuffer(),this.mode.start(t)};Hoe.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};Hoe.prototype.finish=function(e){e&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return e(this.blockSize,r,!1)},this.mode.unpad=function(r){return e(this.blockSize,r,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,t))}});var Voe=j((Ejr,Jke)=>{d();var Pl=ci();ao();Pl.cipher=Pl.cipher||{};var Ti=Jke.exports=Pl.cipher.modes=Pl.cipher.modes||{};Ti.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Ti.ecb.prototype.start=function(e){};Ti.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};Ti.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};Ti.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};Ti.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};Ti.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Ti.cbc.prototype.start=function(e){if(e.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in e)this._iv=hq(e.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};Ti.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock};Ti.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};Ti.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};Ti.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};Ti.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=Pl.util.createBuffer(),this._partialBytes=0};Ti.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=hq(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Ti.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32()^this._outBlock[i],t.putInt32(this._inBlock[i]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(s>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Ti.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32(),t.putInt32(this._inBlock[i]^this._outBlock[i]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(s>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Ti.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Pl.util.createBuffer(),this._partialBytes=0};Ti.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=hq(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Ti.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(e.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Ti.ofb.prototype.decrypt=Ti.ofb.prototype.encrypt;Ti.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Pl.util.createBuffer(),this._partialBytes=0};Ti.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=hq(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Ti.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}pq(this._inBlock)};Ti.ctr.prototype.decrypt=Ti.ctr.prototype.encrypt;Ti.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=Pl.util.createBuffer(),this._partialBytes=0,this._R=3774873600};Ti.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t=Pl.util.createBuffer(e.iv);this._cipherLength=0;var r;if("additionalData"in e?r=Pl.util.createBuffer(e.additionalData):r=Pl.util.createBuffer(),"tagLength"in e?this._tagLength=e.tagLength:this._tagLength=128,this._tag=null,e.decrypt&&(this._tag=Pl.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=t.length();if(n===12)this._j0=[t.getInt32(),t.getInt32(),t.getInt32(),1];else{for(this._j0=[0,0,0,0];t.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(joe(n*8)))}this._inBlock=this._j0.slice(0),pq(this._inBlock),this._partialBytes=0,r=Pl.util.createBuffer(r),this._aDataLength=joe(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};Ti.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^=e.getInt32());this._cipherLength+=this.blockSize}else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s<=0||r){if(r){var a=n%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),pq(this._inBlock)};Ti.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),pq(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};Ti.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=Pl.util.createBuffer();var n=this._aDataLength.concat(joe(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var s=0;s<this._ints;++s)this.tag.putInt32(this._s[s]^i[s]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};Ti.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),i=0;i<128;++i){var s=e[i/32|0]&1<<31-i%32;s&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};Ti.gcm.prototype.pow=function(e,t){for(var r=e[3]&1,n=3;n>0;--n)t[n]=e[n]>>>1|(e[n-1]&1)<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)};Ti.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=e[n]>>>(7-r%8)*4&15,s=this._m[r][i];t[0]^=s[0],t[1]^=s[1],t[2]^=s[2],t[3]^=s[3]}return t};Ti.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)};Ti.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,i=16*r,s=new Array(i),a=0;a<i;++a){var l=[0,0,0,0],c=a/n|0,u=(n-1-a%n)*t;l[c]=1<<t-1<<u,s[a]=this.generateSubHashTable(this.multiply(l,e),t)}return s};Ti.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,i=new Array(r);i[n]=e.slice(0);for(var s=n>>>1;s>0;)this.pow(i[2*s],i[s]=[]),s>>=1;for(s=2;s<n;){for(var a=1;a<s;++a){var l=i[s],c=i[a];i[s+a]=[l[0]^c[0],l[1]^c[1],l[2]^c[2],l[3]^c[3]]}s*=2}for(i[0]=[0,0,0,0],s=n+1;s<r;++s){var u=i[s^n];i[s]=[e[0]^u[0],e[1]^u[1],e[2]^u[2],e[3]^u[3]]}return i};function hq(e,t){if(typeof e=="string"&&(e=Pl.util.createBuffer(e)),Pl.util.isArray(e)&&e.length>4){var r=e;e=Pl.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!Pl.util.isArray(e)){for(var i=[],s=t/4,n=0;n<s;++n)i.push(e.getInt32());e=i}return e}o(hq,"transformIV");function pq(e){e[e.length-1]=e[e.length-1]+1&4294967295}o(pq,"inc32");function joe(e){return[e/4294967296|0,e&4294967295]}o(joe,"from64To32")});var z5=j((wjr,tRe)=>{d();var es=ci();mq();Voe();ao();tRe.exports=es.aes=es.aes||{};es.aes.startEncrypting=function(e,t,r,n){var i=gq({key:e,output:r,decrypt:!1,mode:n});return i.start(t),i};es.aes.createEncryptionCipher=function(e,t){return gq({key:e,output:null,decrypt:!1,mode:t})};es.aes.startDecrypting=function(e,t,r,n){var i=gq({key:e,output:r,decrypt:!0,mode:n});return i.start(t),i};es.aes.createDecryptionCipher=function(e,t){return gq({key:e,output:null,decrypt:!0,mode:t})};es.aes.Algorithm=function(e,t){Yoe||Xke();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:o(function(n,i){return zoe(r._w,n,i,!1)},"encrypt"),decrypt:o(function(n,i){return zoe(r._w,n,i,!0)},"decrypt")}}),r._init=!1};es.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t=e.key,r;if(typeof t=="string"&&(t.length===16||t.length===24||t.length===32))t=es.util.createBuffer(t);else if(es.util.isArray(t)&&(t.length===16||t.length===24||t.length===32)){r=t,t=es.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(!es.util.isArray(t)){r=t,t=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)t.push(r.getInt32())}}if(!es.util.isArray(t)||!(t.length===4||t.length===6||t.length===8))throw new Error("Invalid key parameter.");var s=this.mode.name,a=["CFB","OFB","CTR","GCM"].indexOf(s)!==-1;this._w=eRe(t,e.decrypt&&!a),this._init=!0}};es.aes._expandKey=function(e,t){return Yoe||Xke(),eRe(e,t)};es.aes._updateBlock=zoe;h6("AES-ECB",es.cipher.modes.ecb);h6("AES-CBC",es.cipher.modes.cbc);h6("AES-CFB",es.cipher.modes.cfb);h6("AES-OFB",es.cipher.modes.ofb);h6("AES-CTR",es.cipher.modes.ctr);h6("AES-GCM",es.cipher.modes.gcm);function h6(e,t){var r=o(function(){return new es.aes.Algorithm(e,t)},"factory");es.cipher.registerAlgorithm(e,r)}o(h6,"registerAlgorithm");var Yoe=!1,m6=4,h0,$oe,Zke,Dx,Ah;function Xke(){Yoe=!0,Zke=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;h0=new Array(256),$oe=new Array(256),Dx=new Array(4),Ah=new Array(4);for(var t=0;t<4;++t)Dx[t]=new Array(256),Ah[t]=new Array(256);for(var r=0,n=0,i,s,a,l,c,u,f,t=0;t<256;++t){l=n^n<<1^n<<2^n<<3^n<<4,l=l>>8^l&255^99,h0[r]=l,$oe[l]=r,c=e[l],i=e[r],s=e[i],a=e[s],u=c<<24^l<<16^l<<8^(l^c),f=(i^s^a)<<24^(r^a)<<16^(r^s^a)<<8^(r^i^a);for(var m=0;m<4;++m)Dx[m][r]=u,Ah[m][l]=f,u=u<<24|u>>>8,f=f<<24|f>>>8;r===0?r=n=1:(r=i^e[e[e[i^a]]],n^=e[e[n]])}}o(Xke,"initialize");function eRe(e,t){for(var r=e.slice(0),n,i=1,s=r.length,a=s+6+1,l=m6*a,c=s;c<l;++c)n=r[c-1],c%s===0?(n=h0[n>>>16&255]<<24^h0[n>>>8&255]<<16^h0[n&255]<<8^h0[n>>>24]^Zke[i]<<24,i++):s>6&&c%s===4&&(n=h0[n>>>24]<<24^h0[n>>>16&255]<<16^h0[n>>>8&255]<<8^h0[n&255]),r[c]=r[c-s]^n;if(t){var u,f=Ah[0],m=Ah[1],h=Ah[2],p=Ah[3],g=r.slice(0);l=r.length;for(var c=0,x=l-m6;c<l;c+=m6,x-=m6)if(c===0||c===l-m6)g[c]=r[x],g[c+1]=r[x+3],g[c+2]=r[x+2],g[c+3]=r[x+1];else for(var v=0;v<m6;++v)u=r[x+v],g[c+(3&-v)]=f[h0[u>>>24]]^m[h0[u>>>16&255]]^h[h0[u>>>8&255]]^p[h0[u&255]];r=g}return r}o(eRe,"_expandKey");function zoe(e,t,r,n){var i=e.length/4-1,s,a,l,c,u;n?(s=Ah[0],a=Ah[1],l=Ah[2],c=Ah[3],u=$oe):(s=Dx[0],a=Dx[1],l=Dx[2],c=Dx[3],u=h0);var f,m,h,p,g,x,v;f=t[0]^e[0],m=t[n?3:1]^e[1],h=t[2]^e[2],p=t[n?1:3]^e[3];for(var E=3,b=1;b<i;++b)g=s[f>>>24]^a[m>>>16&255]^l[h>>>8&255]^c[p&255]^e[++E],x=s[m>>>24]^a[h>>>16&255]^l[p>>>8&255]^c[f&255]^e[++E],v=s[h>>>24]^a[p>>>16&255]^l[f>>>8&255]^c[m&255]^e[++E],p=s[p>>>24]^a[f>>>16&255]^l[m>>>8&255]^c[h&255]^e[++E],f=g,m=x,h=v;r[0]=u[f>>>24]<<24^u[m>>>16&255]<<16^u[h>>>8&255]<<8^u[p&255]^e[++E],r[n?3:1]=u[m>>>24]<<24^u[h>>>16&255]<<16^u[p>>>8&255]<<8^u[f&255]^e[++E],r[2]=u[h>>>24]<<24^u[p>>>16&255]<<16^u[f>>>8&255]<<8^u[m&255]^e[++E],r[n?1:3]=u[p>>>24]<<24^u[f>>>16&255]<<16^u[m>>>8&255]<<8^u[h&255]^e[++E]}o(zoe,"_updateBlock");function gq(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="AES-"+t,n;e.decrypt?n=es.cipher.createDecipher(r,e.key):n=es.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(s,a){var l=null;a instanceof es.util.ByteBuffer&&(l=a,a={}),a=a||{},a.output=l,a.iv=s,i.call(n,a)},n}o(gq,"_createCipher")});var Y5=j((kjr,rRe)=>{d();var OS=ci();OS.pki=OS.pki||{};var Koe=rRe.exports=OS.pki.oids=OS.oids=OS.oids||{};function Mt(e,t){Koe[e]=t,Koe[t]=e}o(Mt,"_IN");function wo(e,t){Koe[e]=t}o(wo,"_I_");Mt("1.2.840.113549.1.1.1","rsaEncryption");Mt("1.2.840.113549.1.1.4","md5WithRSAEncryption");Mt("1.2.840.113549.1.1.5","sha1WithRSAEncryption");Mt("1.2.840.113549.1.1.7","RSAES-OAEP");Mt("1.2.840.113549.1.1.8","mgf1");Mt("1.2.840.113549.1.1.9","pSpecified");Mt("1.2.840.113549.1.1.10","RSASSA-PSS");Mt("1.2.840.113549.1.1.11","sha256WithRSAEncryption");Mt("1.2.840.113549.1.1.12","sha384WithRSAEncryption");Mt("1.2.840.113549.1.1.13","sha512WithRSAEncryption");Mt("1.3.101.112","EdDSA25519");Mt("1.2.840.10040.4.3","dsa-with-sha1");Mt("1.3.14.3.2.7","desCBC");Mt("1.3.14.3.2.26","sha1");Mt("1.3.14.3.2.29","sha1WithRSASignature");Mt("2.16.840.1.101.3.4.2.1","sha256");Mt("2.16.840.1.101.3.4.2.2","sha384");Mt("2.16.840.1.101.3.4.2.3","sha512");Mt("2.16.840.1.101.3.4.2.4","sha224");Mt("2.16.840.1.101.3.4.2.5","sha512-224");Mt("2.16.840.1.101.3.4.2.6","sha512-256");Mt("1.2.840.113549.2.2","md2");Mt("1.2.840.113549.2.5","md5");Mt("1.2.840.113549.1.7.1","data");Mt("1.2.840.113549.1.7.2","signedData");Mt("1.2.840.113549.1.7.3","envelopedData");Mt("1.2.840.113549.1.7.4","signedAndEnvelopedData");Mt("1.2.840.113549.1.7.5","digestedData");Mt("1.2.840.113549.1.7.6","encryptedData");Mt("1.2.840.113549.1.9.1","emailAddress");Mt("1.2.840.113549.1.9.2","unstructuredName");Mt("1.2.840.113549.1.9.3","contentType");Mt("1.2.840.113549.1.9.4","messageDigest");Mt("1.2.840.113549.1.9.5","signingTime");Mt("1.2.840.113549.1.9.6","counterSignature");Mt("1.2.840.113549.1.9.7","challengePassword");Mt("1.2.840.113549.1.9.8","unstructuredAddress");Mt("1.2.840.113549.1.9.14","extensionRequest");Mt("1.2.840.113549.1.9.20","friendlyName");Mt("1.2.840.113549.1.9.21","localKeyId");Mt("1.2.840.113549.1.9.22.1","x509Certificate");Mt("1.2.840.113549.1.12.10.1.1","keyBag");Mt("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");Mt("1.2.840.113549.1.12.10.1.3","certBag");Mt("1.2.840.113549.1.12.10.1.4","crlBag");Mt("1.2.840.113549.1.12.10.1.5","secretBag");Mt("1.2.840.113549.1.12.10.1.6","safeContentsBag");Mt("1.2.840.113549.1.5.13","pkcs5PBES2");Mt("1.2.840.113549.1.5.12","pkcs5PBKDF2");Mt("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");Mt("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");Mt("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");Mt("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");Mt("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");Mt("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");Mt("1.2.840.113549.2.7","hmacWithSHA1");Mt("1.2.840.113549.2.8","hmacWithSHA224");Mt("1.2.840.113549.2.9","hmacWithSHA256");Mt("1.2.840.113549.2.10","hmacWithSHA384");Mt("1.2.840.113549.2.11","hmacWithSHA512");Mt("1.2.840.113549.3.7","des-EDE3-CBC");Mt("2.16.840.1.101.3.4.1.2","aes128-CBC");Mt("2.16.840.1.101.3.4.1.22","aes192-CBC");Mt("2.16.840.1.101.3.4.1.42","aes256-CBC");Mt("2.5.4.3","commonName");Mt("2.5.4.4","surname");Mt("2.5.4.5","serialNumber");Mt("2.5.4.6","countryName");Mt("2.5.4.7","localityName");Mt("2.5.4.8","stateOrProvinceName");Mt("2.5.4.9","streetAddress");Mt("2.5.4.10","organizationName");Mt("2.5.4.11","organizationalUnitName");Mt("2.5.4.12","title");Mt("2.5.4.13","description");Mt("2.5.4.15","businessCategory");Mt("2.5.4.17","postalCode");Mt("2.5.4.42","givenName");Mt("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");Mt("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");Mt("2.16.840.1.113730.1.1","nsCertType");Mt("2.16.840.1.113730.1.13","nsComment");wo("2.5.29.1","authorityKeyIdentifier");wo("2.5.29.2","keyAttributes");wo("2.5.29.3","certificatePolicies");wo("2.5.29.4","keyUsageRestriction");wo("2.5.29.5","policyMapping");wo("2.5.29.6","subtreesConstraint");wo("2.5.29.7","subjectAltName");wo("2.5.29.8","issuerAltName");wo("2.5.29.9","subjectDirectoryAttributes");wo("2.5.29.10","basicConstraints");wo("2.5.29.11","nameConstraints");wo("2.5.29.12","policyConstraints");wo("2.5.29.13","basicConstraints");Mt("2.5.29.14","subjectKeyIdentifier");Mt("2.5.29.15","keyUsage");wo("2.5.29.16","privateKeyUsagePeriod");Mt("2.5.29.17","subjectAltName");Mt("2.5.29.18","issuerAltName");Mt("2.5.29.19","basicConstraints");wo("2.5.29.20","cRLNumber");wo("2.5.29.21","cRLReason");wo("2.5.29.22","expirationDate");wo("2.5.29.23","instructionCode");wo("2.5.29.24","invalidityDate");wo("2.5.29.25","cRLDistributionPoints");wo("2.5.29.26","issuingDistributionPoint");wo("2.5.29.27","deltaCRLIndicator");wo("2.5.29.28","issuingDistributionPoint");wo("2.5.29.29","certificateIssuer");wo("2.5.29.30","nameConstraints");Mt("2.5.29.31","cRLDistributionPoints");Mt("2.5.29.32","certificatePolicies");wo("2.5.29.33","policyMappings");wo("2.5.29.34","policyConstraints");Mt("2.5.29.35","authorityKeyIdentifier");wo("2.5.29.36","policyConstraints");Mt("2.5.29.37","extKeyUsage");wo("2.5.29.46","freshestCRL");wo("2.5.29.54","inhibitAnyPolicy");Mt("1.3.6.1.4.1.11129.2.4.2","timestampList");Mt("1.3.6.1.5.5.7.1.1","authorityInfoAccess");Mt("1.3.6.1.5.5.7.3.1","serverAuth");Mt("1.3.6.1.5.5.7.3.2","clientAuth");Mt("1.3.6.1.5.5.7.3.3","codeSigning");Mt("1.3.6.1.5.5.7.3.4","emailProtection");Mt("1.3.6.1.5.5.7.3.8","timeStamping")});var yh=j((Djr,iRe)=>{d();var Cs=ci();ao();Y5();var vr=iRe.exports=Cs.asn1=Cs.asn1||{};vr.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};vr.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};vr.create=function(e,t,r,n,i){if(Cs.util.isArray(n)){for(var s=[],a=0;a<n.length;++a)n[a]!==void 0&&s.push(n[a]);n=s}var l={tagClass:e,type:t,constructed:r,composed:r||Cs.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(l.bitStringContents=i.bitStringContents,l.original=vr.copy(l)),l};vr.copy=function(e,t){var r;if(Cs.util.isArray(e)){r=[];for(var n=0;n<e.length;++n)r.push(vr.copy(e[n],t));return r}return typeof e=="string"?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:vr.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)};vr.equals=function(e,t,r){if(Cs.util.isArray(e)){if(!Cs.util.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!vr.equals(e[n],t[n]))return!1;return!0}if(typeof e!=typeof t)return!1;if(typeof e=="string")return e===t;var i=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&vr.equals(e.value,t.value);return r&&r.includeBitStringContents&&(i=i&&e.bitStringContents===t.bitStringContents),i};vr.getBerValueLength=function(e){var t=e.getByte();if(t!==128){var r,n=t&128;return n?r=e.getInt((t&127)<<3):r=t,r}};function US(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}o(US,"_checkBufferLength");var uvt=o(function(e,t){var r=e.getByte();if(t--,r!==128){var n,i=r&128;if(!i)n=r;else{var s=r&127;US(e,t,s),n=e.getInt(s<<3)}if(n<0)throw new Error("Negative length: "+n);return n}},"_getValueLength");vr.fromDer=function(e,t){t===void 0&&(t={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof t=="boolean"&&(t={strict:t,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"parseAllBytes"in t||(t.parseAllBytes=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),typeof e=="string"&&(e=Cs.util.createBuffer(e));var r=e.length(),n=Aq(e,e.length(),0,t);if(t.parseAllBytes&&e.length()!==0){var i=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw i.byteCount=r,i.remaining=e.length(),i}return n};function Aq(e,t,r,n){var i;US(e,t,2);var s=e.getByte();t--;var a=s&192,l=s&31;i=e.length();var c=uvt(e,t);if(t-=i-e.length(),c!==void 0&&c>t){if(n.strict){var u=new Error("Too few bytes to read ASN.1 value.");throw u.available=e.length(),u.remaining=t,u.requested=c,u}c=t}var f,m,h=(s&32)===32;if(h)if(f=[],c===void 0)for(;;){if(US(e,t,2),e.bytes(2)==="\0\0"){e.getBytes(2),t-=2;break}i=e.length(),f.push(Aq(e,t,r+1,n)),t-=i-e.length()}else for(;c>0;)i=e.length(),f.push(Aq(e,c,r+1,n)),t-=i-e.length(),c-=i-e.length();if(f===void 0&&a===vr.Class.UNIVERSAL&&l===vr.Type.BITSTRING&&(m=e.bytes(c)),f===void 0&&n.decodeBitStrings&&a===vr.Class.UNIVERSAL&&l===vr.Type.BITSTRING&&c>1){var p=e.read,g=t,x=0;if(l===vr.Type.BITSTRING&&(US(e,t,1),x=e.getByte(),t--),x===0)try{i=e.length();var v={strict:!0,decodeBitStrings:!0},E=Aq(e,t,r+1,v),b=i-e.length();t-=b,l==vr.Type.BITSTRING&&b++;var _=E.tagClass;b===c&&(_===vr.Class.UNIVERSAL||_===vr.Class.CONTEXT_SPECIFIC)&&(f=[E])}catch{}f===void 0&&(e.read=p,t=g)}if(f===void 0){if(c===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");c=t}if(l===vr.Type.BMPSTRING)for(f="";c>0;c-=2)US(e,t,2),f+=String.fromCharCode(e.getInt16()),t-=2;else f=e.getBytes(c),t-=c}var R=m===void 0?null:{bitStringContents:m};return vr.create(a,l,h,f,R)}o(Aq,"_fromDer");vr.toDer=function(e){var t=Cs.util.createBuffer(),r=e.tagClass|e.type,n=Cs.util.createBuffer(),i=!1;if("bitStringContents"in e&&(i=!0,e.original&&(i=vr.equals(e,e.original))),i)n.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:n.putByte(0);for(var s=0;s<e.value.length;++s)e.value[s]!==void 0&&n.putBuffer(vr.toDer(e.value[s]))}else if(e.type===vr.Type.BMPSTRING)for(var s=0;s<e.value.length;++s)n.putInt16(e.value.charCodeAt(s));else e.type===vr.Type.INTEGER&&e.value.length>1&&(e.value.charCodeAt(0)===0&&(e.value.charCodeAt(1)&128)===0||e.value.charCodeAt(0)===255&&(e.value.charCodeAt(1)&128)===128)?n.putBytes(e.value.substr(1)):n.putBytes(e.value);if(t.putByte(r),n.length()<=127)t.putByte(n.length()&127);else{var a=n.length(),l="";do l+=String.fromCharCode(a&255),a=a>>>8;while(a>0);t.putByte(l.length|128);for(var s=l.length-1;s>=0;--s)t.putByte(l.charCodeAt(s))}return t.putBuffer(n),t};vr.oidToDer=function(e){var t=e.split("."),r=Cs.util.createBuffer();r.putByte(40*parseInt(t[0],10)+parseInt(t[1],10));for(var n,i,s,a,l=2;l<t.length;++l){n=!0,i=[],s=parseInt(t[l],10);do a=s&127,s=s>>>7,n||(a|=128),i.push(a),n=!1;while(s>0);for(var c=i.length-1;c>=0;--c)r.putByte(i[c])}return r};vr.derToOid=function(e){var t;typeof e=="string"&&(e=Cs.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var n=0;e.length()>0;)r=e.getByte(),n=n<<7,r&128?n+=r&127:(t+="."+(n+r),n=0);return t};vr.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,i=parseInt(e.substr(4,2),10),s=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),l=0;if(e.length>11){var c=e.charAt(10),u=10;c!=="+"&&c!=="-"&&(l=parseInt(e.substr(10,2),10),u+=2)}if(t.setUTCFullYear(r,n,i),t.setUTCHours(s,a,l,0),u&&(c=e.charAt(u),c==="+"||c==="-")){var f=parseInt(e.substr(u+1,2),10),m=parseInt(e.substr(u+4,2),10),h=f*60+m;h*=6e4,c==="+"?t.setTime(+t-h):t.setTime(+t+h)}return t};vr.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,i=parseInt(e.substr(6,2),10),s=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),l=parseInt(e.substr(12,2),10),c=0,u=0,f=!1;e.charAt(e.length-1)==="Z"&&(f=!0);var m=e.length-5,h=e.charAt(m);if(h==="+"||h==="-"){var p=parseInt(e.substr(m+1,2),10),g=parseInt(e.substr(m+4,2),10);u=p*60+g,u*=6e4,h==="+"&&(u*=-1),f=!0}return e.charAt(14)==="."&&(c=parseFloat(e.substr(14),10)*1e3),f?(t.setUTCFullYear(r,n,i),t.setUTCHours(s,a,l,c),t.setTime(+t+u)):(t.setFullYear(r,n,i),t.setHours(s,a,l,c)),t};vr.dateToUtcTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};vr.dateToGeneralizedTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};vr.integerToDer=function(e){var t=Cs.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r};vr.derToInteger=function(e){typeof e=="string"&&(e=Cs.util.createBuffer(e));var t=e.length()*8;if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)};vr.validate=function(e,t,r,n){var i=!1;if((e.tagClass===t.tagClass||typeof t.tagClass>"u")&&(e.type===t.type||typeof t.type>"u"))if(e.constructed===t.constructed||typeof t.constructed>"u"){if(i=!0,t.value&&Cs.util.isArray(t.value))for(var s=0,a=0;i&&a<t.value.length;++a)i=t.value[a].optional||!1,e.value[s]&&(i=vr.validate(e.value[s],t.value[a],r,n),i?++s:t.value[a].optional&&(i=!0)),!i&&n&&n.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(i&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)){var l;if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{var c=e.bitStringContents.charCodeAt(0);if(c!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}}else n&&n.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');else n&&(e.tagClass!==t.tagClass&&n.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&n.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));return i};var nRe=/[^\\u0000-\\u00ff]/;vr.prettyPrint=function(e,t,r){var n="";t=t||0,r=r||2,t>0&&(n+=`
`);for(var i="",s=0;s<t*r;++s)i+=" ";switch(n+=i+"Tag: ",e.tagClass){case vr.Class.UNIVERSAL:n+="Universal:";break;case vr.Class.APPLICATION:n+="Application:";break;case vr.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case vr.Class.PRIVATE:n+="Private:";break}if(e.tagClass===vr.Class.UNIVERSAL)switch(n+=e.type,e.type){case vr.Type.NONE:n+=" (None)";break;case vr.Type.BOOLEAN:n+=" (Boolean)";break;case vr.Type.INTEGER:n+=" (Integer)";break;case vr.Type.BITSTRING:n+=" (Bit string)";break;case vr.Type.OCTETSTRING:n+=" (Octet string)";break;case vr.Type.NULL:n+=" (Null)";break;case vr.Type.OID:n+=" (Object Identifier)";break;case vr.Type.ODESC:n+=" (Object Descriptor)";break;case vr.Type.EXTERNAL:n+=" (External or Instance of)";break;case vr.Type.REAL:n+=" (Real)";break;case vr.Type.ENUMERATED:n+=" (Enumerated)";break;case vr.Type.EMBEDDED:n+=" (Embedded PDV)";break;case vr.Type.UTF8:n+=" (UTF8)";break;case vr.Type.ROID:n+=" (Relative Object Identifier)";break;case vr.Type.SEQUENCE:n+=" (Sequence)";break;case vr.Type.SET:n+=" (Set)";break;case vr.Type.PRINTABLESTRING:n+=" (Printable String)";break;case vr.Type.IA5String:n+=" (IA5String (ASCII))";break;case vr.Type.UTCTIME:n+=" (UTC time)";break;case vr.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case vr.Type.BMPSTRING:n+=" (BMP String)";break}else n+=e.type;if(n+=`
`,n+=i+"Constructed: "+e.constructed+`
`,e.composed){for(var a=0,l="",s=0;s<e.value.length;++s)e.value[s]!==void 0&&(a+=1,l+=vr.prettyPrint(e.value[s],t+1,r),s+1<e.value.length&&(l+=","));n+=i+"Sub values: "+a+l}else{if(n+=i+"Value: ",e.type===vr.Type.OID){var c=vr.derToOid(e.value);n+=c,Cs.pki&&Cs.pki.oids&&c in Cs.pki.oids&&(n+=" ("+Cs.pki.oids[c]+") ")}if(e.type===vr.Type.INTEGER)try{n+=vr.derToInteger(e.value)}catch{n+="0x"+Cs.util.bytesToHex(e.value)}else if(e.type===vr.Type.BITSTRING){if(e.value.length>1?n+="0x"+Cs.util.bytesToHex(e.value.slice(1)):n+="(none)",e.value.length>0){var u=e.value.charCodeAt(0);u==1?n+=" (1 unused bit shown)":u>1&&(n+=" ("+u+" unused bits shown)")}}else if(e.type===vr.Type.OCTETSTRING)nRe.test(e.value)||(n+="("+e.value+") "),n+="0x"+Cs.util.bytesToHex(e.value);else if(e.type===vr.Type.UTF8)try{n+=Cs.util.decodeUtf8(e.value)}catch(f){if(f.message==="URI malformed")n+="0x"+Cs.util.bytesToHex(e.value)+" (malformed UTF8)";else throw f}else e.type===vr.Type.PRINTABLESTRING||e.type===vr.Type.IA5String?n+=e.value:nRe.test(e.value)?n+="0x"+Cs.util.bytesToHex(e.value):e.value.length===0?n+="[null]":n+=e.value}return n}});var og=j((Njr,oRe)=>{d();var yq=ci();oRe.exports=yq.md=yq.md||{};yq.md.algorithms=yq.md.algorithms||{}});var p6=j((Qjr,sRe)=>{d();var vA=ci();og();ao();var fvt=sRe.exports=vA.hmac=vA.hmac||{};fvt.create=function(){var e=null,t=null,r=null,n=null,i={};return i.start=function(s,a){if(s!==null)if(typeof s=="string")if(s=s.toLowerCase(),s in vA.md.algorithms)t=vA.md.algorithms[s].create();else throw new Error('Unknown hash algorithm "'+s+'"');else t=s;if(a===null)a=e;else{if(typeof a=="string")a=vA.util.createBuffer(a);else if(vA.util.isArray(a)){var l=a;a=vA.util.createBuffer();for(var c=0;c<l.length;++c)a.putByte(l[c])}var u=a.length();u>t.blockLength&&(t.start(),t.update(a.bytes()),a=t.digest()),r=vA.util.createBuffer(),n=vA.util.createBuffer(),u=a.length();for(var c=0;c<u;++c){var l=a.at(c);r.putByte(54^l),n.putByte(92^l)}if(u<t.blockLength)for(var l=t.blockLength-u,c=0;c<l;++c)r.putByte(54),n.putByte(92);e=a,r=r.bytes(),n=n.bytes()}t.start(),t.update(r)},i.update=function(s){t.update(s)},i.getMac=function(){var s=t.digest().bytes();return t.start(),t.update(n),t.update(s),t.digest()},i.digest=i.getMac,i}});var xq=j((Ojr,uRe)=>{d();var sg=ci();og();ao();var lRe=uRe.exports=sg.md5=sg.md5||{};sg.md.md5=sg.md.algorithms.md5=lRe;lRe.create=function(){cRe||dvt();var e=null,t=sg.util.createBuffer(),r=new Array(16),n={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return t=sg.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=sg.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=a[1],a[1]=a[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),aRe(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=sg.util.createBuffer();i.putBytes(t.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=s&n.blockLength-1;i.putBytes(Joe.substr(0,n.blockLength-a));for(var l,c=0,u=n.fullMessageLength.length-1;u>=0;--u)l=n.fullMessageLength[u]*8+c,c=l/4294967296>>>0,i.putInt32Le(l>>>0);var f={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};aRe(f,r,i);var m=sg.util.createBuffer();return m.putInt32Le(f.h0),m.putInt32Le(f.h1),m.putInt32Le(f.h2),m.putInt32Le(f.h3),m},n};var Joe=null,Cq=null,qS=null,g6=null,cRe=!1;function dvt(){Joe="\x80",Joe+=sg.util.fillString("\0",64),Cq=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],qS=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],g6=new Array(64);for(var e=0;e<64;++e)g6[e]=Math.floor(Math.abs(Math.sin(e+1))*4294967296);cRe=!0}o(dvt,"_init");function aRe(e,t,r){for(var n,i,s,a,l,c,u,f,m=r.length();m>=64;){for(i=e.h0,s=e.h1,a=e.h2,l=e.h3,f=0;f<16;++f)t[f]=r.getInt32Le(),c=l^s&(a^l),n=i+c+g6[f]+t[f],u=qS[f],i=l,l=a,a=s,s+=n<<u|n>>>32-u;for(;f<32;++f)c=a^l&(s^a),n=i+c+g6[f]+t[Cq[f]],u=qS[f],i=l,l=a,a=s,s+=n<<u|n>>>32-u;for(;f<48;++f)c=s^a^l,n=i+c+g6[f]+t[Cq[f]],u=qS[f],i=l,l=a,a=s,s+=n<<u|n>>>32-u;for(;f<64;++f)c=a^(s|~l),n=i+c+g6[f]+t[Cq[f]],u=qS[f],i=l,l=a,a=s,s+=n<<u|n>>>32-u;e.h0=e.h0+i|0,e.h1=e.h1+s|0,e.h2=e.h2+a|0,e.h3=e.h3+l|0,m-=64}}o(aRe,"_update")});var Px=j((Wjr,dRe)=>{d();var bq=ci();ao();var fRe=dRe.exports=bq.pem=bq.pem||{};fRe.encode=function(e,t){t=t||{};var r="-----BEGIN "+e.type+`-----\r
`,n;if(e.procType&&(n={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]},r+=vq(n)),e.contentDomain&&(n={name:"Content-Domain",values:[e.contentDomain]},r+=vq(n)),e.dekInfo&&(n={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&n.values.push(e.dekInfo.parameters),r+=vq(n)),e.headers)for(var i=0;i<e.headers.length;++i)r+=vq(e.headers[i]);return e.procType&&(r+=`\r
`),r+=bq.util.encode64(e.body,t.maxline||64)+`\r
`,r+="-----END "+e.type+`-----\r
`,r};fRe.decode=function(e){for(var t=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,s;s=r.exec(e),!!s;){var a=s[1];a==="NEW CERTIFICATE REQUEST"&&(a="CERTIFICATE REQUEST");var l={type:a,procType:null,contentDomain:null,dekInfo:null,headers:[],body:bq.util.decode64(s[3])};if(t.push(l),!!s[2]){for(var c=s[2].split(i),u=0;s&&u<c.length;){for(var f=c[u].replace(/\s+$/,""),m=u+1;m<c.length;++m){var h=c[m];if(!/\s/.test(h[0]))break;f+=h,u=m}if(s=f.match(n),s){for(var p={name:s[1],values:[]},g=s[2].split(","),x=0;x<g.length;++x)p.values.push(mvt(g[x]));if(l.procType)if(!l.contentDomain&&p.name==="Content-Domain")l.contentDomain=g[0]||"";else if(!l.dekInfo&&p.name==="DEK-Info"){if(p.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');l.dekInfo={algorithm:g[0],parameters:g[1]||null}}else l.headers.push(p);else{if(p.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(p.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');l.procType={version:g[0],type:g[1]}}}++u}if(l.procType==="ENCRYPTED"&&!l.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(t.length===0)throw new Error("Invalid PEM formatted message.");return t};function vq(e){for(var t=e.name+": ",r=[],n=o(function(c,u){return" "+u},"insertSpace"),i=0;i<e.values.length;++i)r.push(e.values[i].replace(/^(\S+\r\n)/,n));t+=r.join(",")+`\r
`;for(var s=0,a=-1,i=0;i<t.length;++i,++s)if(s>65&&a!==-1){var l=t[a];l===","?(++a,t=t.substr(0,a)+`\r
 `+t.substr(a)):t=t.substr(0,a)+`\r
`+l+t.substr(a+1),s=i-a-1,a=-1,++i}else(t[i]===" "||t[i]==="	"||t[i]===",")&&(a=i);return t}o(vq,"foldHeader");function mvt(e){return e.replace(/^\s+/,"")}o(mvt,"ltrim")});var WS=j((jjr,hRe)=>{d();var Qs=ci();mq();Voe();ao();hRe.exports=Qs.des=Qs.des||{};Qs.des.startEncrypting=function(e,t,r,n){var i=Eq({key:e,output:r,decrypt:!1,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};Qs.des.createEncryptionCipher=function(e,t){return Eq({key:e,output:null,decrypt:!1,mode:t})};Qs.des.startDecrypting=function(e,t,r,n){var i=Eq({key:e,output:r,decrypt:!0,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};Qs.des.createDecryptionCipher=function(e,t){return Eq({key:e,output:null,decrypt:!0,mode:t})};Qs.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:o(function(n,i){return mRe(r._keys,n,i,!1)},"encrypt"),decrypt:o(function(n,i){return mRe(r._keys,n,i,!0)},"decrypt")}}),r._init=!1};Qs.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=Qs.util.createBuffer(e.key);if(this.name.indexOf("3DES")===0&&t.length()!==24)throw new Error("Invalid Triple-DES key size: "+t.length()*8);this._keys=bvt(t),this._init=!0}};ag("DES-ECB",Qs.cipher.modes.ecb);ag("DES-CBC",Qs.cipher.modes.cbc);ag("DES-CFB",Qs.cipher.modes.cfb);ag("DES-OFB",Qs.cipher.modes.ofb);ag("DES-CTR",Qs.cipher.modes.ctr);ag("3DES-ECB",Qs.cipher.modes.ecb);ag("3DES-CBC",Qs.cipher.modes.cbc);ag("3DES-CFB",Qs.cipher.modes.cfb);ag("3DES-OFB",Qs.cipher.modes.ofb);ag("3DES-CTR",Qs.cipher.modes.ctr);function ag(e,t){var r=o(function(){return new Qs.des.Algorithm(e,t)},"factory");Qs.cipher.registerAlgorithm(e,r)}o(ag,"registerAlgorithm");var hvt=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],pvt=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],gvt=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],Avt=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],yvt=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],Cvt=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],xvt=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],vvt=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function bvt(e){for(var t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],s=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],l=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],f=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],m=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],h=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],p=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],g=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],x=e.length()>8?3:1,v=[],E=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],b=0,_,R=0;R<x;R++){var P=e.getInt32(),F=e.getInt32();_=(P>>>4^F)&252645135,F^=_,P^=_<<4,_=(F>>>-16^P)&65535,P^=_,F^=_<<-16,_=(P>>>2^F)&858993459,F^=_,P^=_<<2,_=(F>>>-16^P)&65535,P^=_,F^=_<<-16,_=(P>>>1^F)&1431655765,F^=_,P^=_<<1,_=(F>>>8^P)&16711935,P^=_,F^=_<<8,_=(P>>>1^F)&1431655765,F^=_,P^=_<<1,_=P<<8|F>>>20&240,P=F<<24|F<<8&16711680|F>>>8&65280|F>>>24&240,F=_;for(var G=0;G<E.length;++G){E[G]?(P=P<<2|P>>>26,F=F<<2|F>>>26):(P=P<<1|P>>>27,F=F<<1|F>>>27),P&=-15,F&=-15;var se=t[P>>>28]|r[P>>>24&15]|n[P>>>20&15]|i[P>>>16&15]|s[P>>>12&15]|a[P>>>8&15]|l[P>>>4&15],Ae=c[F>>>28]|u[F>>>24&15]|f[F>>>20&15]|m[F>>>16&15]|h[F>>>12&15]|p[F>>>8&15]|g[F>>>4&15];_=(Ae>>>16^se)&65535,v[b++]=se^_,v[b++]=Ae^_<<16}}return v}o(bvt,"_createKeys");function mRe(e,t,r,n){var i=e.length===32?3:9,s;i===3?s=n?[30,-2,-2]:[0,32,2]:s=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var a,l=t[0],c=t[1];a=(l>>>4^c)&252645135,c^=a,l^=a<<4,a=(l>>>16^c)&65535,c^=a,l^=a<<16,a=(c>>>2^l)&858993459,l^=a,c^=a<<2,a=(c>>>8^l)&16711935,l^=a,c^=a<<8,a=(l>>>1^c)&1431655765,c^=a,l^=a<<1,l=l<<1|l>>>31,c=c<<1|c>>>31;for(var u=0;u<i;u+=3){for(var f=s[u+1],m=s[u+2],h=s[u];h!=f;h+=m){var p=c^e[h],g=(c>>>4|c<<28)^e[h+1];a=l,l=c,c=a^(pvt[p>>>24&63]|Avt[p>>>16&63]|Cvt[p>>>8&63]|vvt[p&63]|hvt[g>>>24&63]|gvt[g>>>16&63]|yvt[g>>>8&63]|xvt[g&63])}a=l,l=c,c=a}l=l>>>1|l<<31,c=c>>>1|c<<31,a=(l>>>1^c)&1431655765,c^=a,l^=a<<1,a=(c>>>8^l)&16711935,l^=a,c^=a<<8,a=(c>>>2^l)&858993459,l^=a,c^=a<<2,a=(l>>>16^c)&65535,c^=a,l^=a<<16,a=(l>>>4^c)&252645135,c^=a,l^=a<<4,r[0]=l,r[1]=c}o(mRe,"_updateBlock");function Eq(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="DES-"+t,n;e.decrypt?n=Qs.cipher.createDecipher(r,e.key):n=Qs.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(s,a){var l=null;a instanceof Qs.util.ByteBuffer&&(l=a,a={}),a=a||{},a.output=l,a.iv=s,i.call(n,a)},n}o(Eq,"_createCipher")});var Iq=j((zjr,pRe)=>{d();var p0=ci();p6();og();ao();var Evt=p0.pkcs5=p0.pkcs5||{},bA;p0.util.isNodejs&&!p0.options.usePureJavaScript&&(bA=require("crypto"));pRe.exports=p0.pbkdf2=Evt.pbkdf2=function(e,t,r,n,i,s){if(typeof i=="function"&&(s=i,i=null),p0.util.isNodejs&&!p0.options.usePureJavaScript&&bA.pbkdf2&&(i===null||typeof i!="object")&&(bA.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),s?bA.pbkdf2Sync.length===4?bA.pbkdf2(e,t,r,n,function(_,R){if(_)return s(_);s(null,R.toString("binary"))}):bA.pbkdf2(e,t,r,n,i,function(_,R){if(_)return s(_);s(null,R.toString("binary"))}):bA.pbkdf2Sync.length===4?bA.pbkdf2Sync(e,t,r,n).toString("binary"):bA.pbkdf2Sync(e,t,r,n,i).toString("binary");if((typeof i>"u"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in p0.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=p0.md[i].create()}var a=i.digestLength;if(n>4294967295*a){var l=new Error("Derived key is too long.");if(s)return s(l);throw l}var c=Math.ceil(n/a),u=n-(c-1)*a,f=p0.hmac.create();f.start(i,e);var m="",h,p,g;if(!s){for(var x=1;x<=c;++x){f.start(null,null),f.update(t),f.update(p0.util.int32ToBytes(x)),h=g=f.digest().getBytes();for(var v=2;v<=r;++v)f.start(null,null),f.update(g),p=f.digest().getBytes(),h=p0.util.xorBytes(h,p,a),g=p;m+=x<c?h:h.substr(0,u)}return m}var x=1,v;function E(){if(x>c)return s(null,m);f.start(null,null),f.update(t),f.update(p0.util.int32ToBytes(x)),h=g=f.digest().getBytes(),v=2,b()}o(E,"outer");function b(){if(v<=r)return f.start(null,null),f.update(g),p=f.digest().getBytes(),h=p0.util.xorBytes(h,p,a),g=p,++v,p0.util.setImmediate(b);m+=x<c?h:h.substr(0,u),++x,E()}o(b,"inner"),E()}});var Xoe=j((Jjr,xRe)=>{d();var lg=ci();og();ao();var ARe=xRe.exports=lg.sha256=lg.sha256||{};lg.md.sha256=lg.md.algorithms.sha256=ARe;ARe.create=function(){yRe||Ivt();var e=null,t=lg.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return t=lg.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=lg.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=a[1],a[1]=a[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),gRe(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=lg.util.createBuffer();i.putBytes(t.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=s&n.blockLength-1;i.putBytes(Zoe.substr(0,n.blockLength-a));for(var l,c,u=n.fullMessageLength[0]*8,f=0;f<n.fullMessageLength.length-1;++f)l=n.fullMessageLength[f+1]*8,c=l/4294967296>>>0,u+=c,i.putInt32(u>>>0),u=l>>>0;i.putInt32(u);var m={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};gRe(m,r,i);var h=lg.util.createBuffer();return h.putInt32(m.h0),h.putInt32(m.h1),h.putInt32(m.h2),h.putInt32(m.h3),h.putInt32(m.h4),h.putInt32(m.h5),h.putInt32(m.h6),h.putInt32(m.h7),h},n};var Zoe=null,yRe=!1,CRe=null;function Ivt(){Zoe="\x80",Zoe+=lg.util.fillString("\0",64),CRe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],yRe=!0}o(Ivt,"_init");function gRe(e,t,r){for(var n,i,s,a,l,c,u,f,m,h,p,g,x,v,E,b=r.length();b>=64;){for(u=0;u<16;++u)t[u]=r.getInt32();for(;u<64;++u)n=t[u-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=t[u-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[u]=n+t[u-7]+i+t[u-16]|0;for(f=e.h0,m=e.h1,h=e.h2,p=e.h3,g=e.h4,x=e.h5,v=e.h6,E=e.h7,u=0;u<64;++u)a=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7),l=v^g&(x^v),s=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),c=f&m|h&(f^m),n=E+a+l+CRe[u]+t[u],i=s+c,E=v,v=x,x=g,g=p+n>>>0,p=h,h=m,m=f,f=n+i>>>0;e.h0=e.h0+f|0,e.h1=e.h1+m|0,e.h2=e.h2+h|0,e.h3=e.h3+p|0,e.h4=e.h4+g|0,e.h5=e.h5+x|0,e.h6=e.h6+v|0,e.h7=e.h7+E|0,b-=64}}o(gRe,"_update")});var ese=j((eVr,vRe)=>{d();var cg=ci();ao();var Tq=null;cg.util.isNodejs&&!cg.options.usePureJavaScript&&!process.versions["node-webkit"]&&(Tq=require("crypto"));var Tvt=vRe.exports=cg.prng=cg.prng||{};Tvt.create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();t.pools=n,t.pool=0,t.generate=function(u,f){if(!f)return t.generateSync(u);var m=t.plugin.cipher,h=t.plugin.increment,p=t.plugin.formatKey,g=t.plugin.formatSeed,x=cg.util.createBuffer();t.key=null,v();function v(E){if(E)return f(E);if(x.length()>=u)return f(null,x.getBytes(u));if(t.generated>1048575&&(t.key=null),t.key===null)return cg.util.nextTick(function(){s(v)});var b=m(t.key,t.seed);t.generated+=b.length,x.putBytes(b),t.key=p(m(t.key,h(t.seed))),t.seed=g(m(t.key,t.seed)),cg.util.setImmediate(v)}o(v,"generate")},t.generateSync=function(u){var f=t.plugin.cipher,m=t.plugin.increment,h=t.plugin.formatKey,p=t.plugin.formatSeed;t.key=null;for(var g=cg.util.createBuffer();g.length()<u;){t.generated>1048575&&(t.key=null),t.key===null&&a();var x=f(t.key,t.seed);t.generated+=x.length,g.putBytes(x),t.key=h(f(t.key,m(t.seed))),t.seed=p(f(t.key,t.seed))}return g.getBytes(u)};function s(u){if(t.pools[0].messageLength>=32)return l(),u();var f=32-t.pools[0].messageLength<<5;t.seedFile(f,function(m,h){if(m)return u(m);t.collect(h),l(),u()})}o(s,"_reseed");function a(){if(t.pools[0].messageLength>=32)return l();var u=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(u)),l()}o(a,"_reseedSync");function l(){t.reseeds=t.reseeds===4294967295?0:t.reseeds+1;var u=t.plugin.md.create();u.update(t.keyBytes);for(var f=1,m=0;m<32;++m)t.reseeds%f===0&&(u.update(t.pools[m].digest().getBytes()),t.pools[m].start()),f=f<<1;t.keyBytes=u.digest().getBytes(),u.start(),u.update(t.keyBytes);var h=u.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(h),t.generated=0}o(l,"_seed");function c(u){var f=null,m=cg.util.globalScope,h=m.crypto||m.msCrypto;h&&h.getRandomValues&&(f=o(function(P){return h.getRandomValues(P)},"getRandomValues"));var p=cg.util.createBuffer();if(f)for(;p.length()<u;){var g=Math.max(1,Math.min(u-p.length(),65536)/4),x=new Uint32Array(Math.floor(g));try{f(x);for(var v=0;v<x.length;++v)p.putInt32(x[v])}catch(P){if(!(typeof QuotaExceededError<"u"&&P instanceof QuotaExceededError))throw P}}if(p.length()<u)for(var E,b,_,R=Math.floor(Math.random()*65536);p.length()<u;){b=16807*(R&65535),E=16807*(R>>16),b+=(E&32767)<<16,b+=E>>15,b=(b&2147483647)+(b>>31),R=b&4294967295;for(var v=0;v<3;++v)_=R>>>(v<<3),_^=Math.floor(Math.random()*256),p.putByte(_&255)}return p.getBytes(u)}return o(c,"defaultSeedFile"),Tq?(t.seedFile=function(u,f){Tq.randomBytes(u,function(m,h){if(m)return f(m);f(null,h.toString())})},t.seedFileSync=function(u){return Tq.randomBytes(u).toString()}):(t.seedFile=function(u,f){try{f(null,c(u))}catch(m){f(m)}},t.seedFileSync=c),t.collect=function(u){for(var f=u.length,m=0;m<f;++m)t.pools[t.pool].update(u.substr(m,1)),t.pool=t.pool===31?0:t.pool+1},t.collectInt=function(u,f){for(var m="",h=0;h<f;h+=8)m+=String.fromCharCode(u>>h&255);t.collect(m)},t.registerWorker=function(u){if(u===self)t.seedFile=function(m,h){function p(g){var x=g.data;x.forge&&x.forge.prng&&(self.removeEventListener("message",p),h(x.forge.prng.err,x.forge.prng.bytes))}o(p,"listener"),self.addEventListener("message",p),self.postMessage({forge:{prng:{needed:m}}})};else{var f=o(function(m){var h=m.data;h.forge&&h.forge.prng&&t.seedFile(h.forge.prng.needed,function(p,g){u.postMessage({forge:{prng:{err:p,bytes:g}}})})},"listener");u.addEventListener("message",f)}},t}});var qd=j((nVr,tse)=>{d();var Fl=ci();z5();Xoe();ese();ao();(function(){if(Fl.random&&Fl.random.getBytes){tse.exports=Fl.random;return}(function(e){var t={},r=new Array(4),n=Fl.util.createBuffer();t.formatKey=function(m){var h=Fl.util.createBuffer(m);return m=new Array(4),m[0]=h.getInt32(),m[1]=h.getInt32(),m[2]=h.getInt32(),m[3]=h.getInt32(),Fl.aes._expandKey(m,!1)},t.formatSeed=function(m){var h=Fl.util.createBuffer(m);return m=new Array(4),m[0]=h.getInt32(),m[1]=h.getInt32(),m[2]=h.getInt32(),m[3]=h.getInt32(),m},t.cipher=function(m,h){return Fl.aes._updateBlock(m,h,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},t.increment=function(m){return++m[3],m},t.md=Fl.md.sha256;function i(){var m=Fl.prng.create(t);return m.getBytes=function(h,p){return m.generate(h,p)},m.getBytesSync=function(h){return m.generate(h)},m}o(i,"spawnPrng");var s=i(),a=null,l=Fl.util.globalScope,c=l.crypto||l.msCrypto;if(c&&c.getRandomValues&&(a=o(function(m){return c.getRandomValues(m)},"getRandomValues")),Fl.options.usePureJavaScript||!Fl.util.isNodejs&&!a){if(typeof window>"u"||window.document,s.collectInt(+new Date,32),typeof navigator<"u"){var u="";for(var f in navigator)try{typeof navigator[f]=="string"&&(u+=navigator[f])}catch{}s.collect(u),u=null}e&&(e().mousemove(function(m){s.collectInt(m.clientX,16),s.collectInt(m.clientY,16)}),e().keypress(function(m){s.collectInt(m.charCode,8)}))}if(!Fl.random)Fl.random=s;else for(var f in s)Fl.random[f]=s[f];Fl.random.createInstance=i,tse.exports=Fl.random})(typeof jQuery<"u"?jQuery:null)})()});var nse=j((sVr,IRe)=>{d();var mu=ci();ao();var rse=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],bRe=[1,2,3,5],wvt=o(function(e,t){return e<<t&65535|(e&65535)>>16-t},"rol"),_vt=o(function(e,t){return(e&65535)>>t|e<<16-t&65535},"ror");IRe.exports=mu.rc2=mu.rc2||{};mu.rc2.expandKey=function(e,t){typeof e=="string"&&(e=mu.util.createBuffer(e)),t=t||128;var r=e,n=e.length(),i=t,s=Math.ceil(i/8),a=255>>(i&7),l;for(l=n;l<128;l++)r.putByte(rse[r.at(l-1)+r.at(l-n)&255]);for(r.setAt(128-s,rse[r.at(128-s)&a]),l=127-s;l>=0;l--)r.setAt(l,rse[r.at(l+1)^r.at(l+s)]);return r};var ERe=o(function(e,t,r){var n=!1,i=null,s=null,a=null,l,c,u,f,m=[];for(e=mu.rc2.expandKey(e,t),u=0;u<64;u++)m.push(e.getInt16Le());r?(l=o(function(g){for(u=0;u<4;u++)g[u]+=m[f]+(g[(u+3)%4]&g[(u+2)%4])+(~g[(u+3)%4]&g[(u+1)%4]),g[u]=wvt(g[u],bRe[u]),f++},"mixRound"),c=o(function(g){for(u=0;u<4;u++)g[u]+=m[g[(u+3)%4]&63]},"mashRound")):(l=o(function(g){for(u=3;u>=0;u--)g[u]=_vt(g[u],bRe[u]),g[u]-=m[f]+(g[(u+3)%4]&g[(u+2)%4])+(~g[(u+3)%4]&g[(u+1)%4]),f--},"mixRound"),c=o(function(g){for(u=3;u>=0;u--)g[u]-=m[g[(u+3)%4]&63]},"mashRound"));var h=o(function(g){var x=[];for(u=0;u<4;u++){var v=i.getInt16Le();a!==null&&(r?v^=a.getInt16Le():a.putInt16Le(v)),x.push(v&65535)}f=r?0:63;for(var E=0;E<g.length;E++)for(var b=0;b<g[E][0];b++)g[E][1](x);for(u=0;u<4;u++)a!==null&&(r?a.putInt16Le(x[u]):x[u]^=a.getInt16Le()),s.putInt16Le(x[u])},"runPlan"),p=null;return p={start:o(function(g,x){g&&typeof g=="string"&&(g=mu.util.createBuffer(g)),n=!1,i=mu.util.createBuffer(),s=x||new mu.util.createBuffer,a=g,p.output=s},"start"),update:o(function(g){for(n||i.putBuffer(g);i.length()>=8;)h([[5,l],[1,c],[6,l],[1,c],[5,l]])},"update"),finish:o(function(g){var x=!0;if(r)if(g)x=g(8,i,!r);else{var v=i.length()===8?8:8-i.length();i.fillWithByte(v,v)}if(x&&(n=!0,p.update()),!r&&(x=i.length()===0,x))if(g)x=g(8,s,!r);else{var E=s.length(),b=s.at(E-1);b>E?x=!1:s.truncate(b)}return x},"finish")},p},"createCipher");mu.rc2.startEncrypting=function(e,t,r){var n=mu.rc2.createEncryptionCipher(e,128);return n.start(t,r),n};mu.rc2.createEncryptionCipher=function(e,t){return ERe(e,t,!0)};mu.rc2.startDecrypting=function(e,t,r){var n=mu.rc2.createDecryptionCipher(e,128);return n.start(t,r),n};mu.rc2.createDecryptionCipher=function(e,t){return ERe(e,t,!1)}});var HS=j((cVr,DRe)=>{d();var ise=ci();DRe.exports=ise.jsbn=ise.jsbn||{};var EA,Svt=0xdeadbeefcafe,TRe=(Svt&16777215)==15715070;function Bt(e,t,r){this.data=[],e!=null&&(typeof e=="number"?this.fromNumber(e,t,r):t==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,t))}o(Bt,"BigInteger");ise.jsbn.BigInteger=Bt;function lo(){return new Bt(null)}o(lo,"nbi");function kvt(e,t,r,n,i,s){for(;--s>=0;){var a=t*this.data[e++]+r.data[n]+i;i=Math.floor(a/67108864),r.data[n++]=a&67108863}return i}o(kvt,"am1");function Rvt(e,t,r,n,i,s){for(var a=t&32767,l=t>>15;--s>=0;){var c=this.data[e]&32767,u=this.data[e++]>>15,f=l*c+u*a;c=a*c+((f&32767)<<15)+r.data[n]+(i&1073741823),i=(c>>>30)+(f>>>15)+l*u+(i>>>30),r.data[n++]=c&1073741823}return i}o(Rvt,"am2");function wRe(e,t,r,n,i,s){for(var a=t&16383,l=t>>14;--s>=0;){var c=this.data[e]&16383,u=this.data[e++]>>14,f=l*c+u*a;c=a*c+((f&16383)<<14)+r.data[n]+i,i=(c>>28)+(f>>14)+l*u,r.data[n++]=c&268435455}return i}o(wRe,"am3");typeof navigator>"u"?(Bt.prototype.am=wRe,EA=28):TRe&&navigator.appName=="Microsoft Internet Explorer"?(Bt.prototype.am=Rvt,EA=30):TRe&&navigator.appName!="Netscape"?(Bt.prototype.am=kvt,EA=26):(Bt.prototype.am=wRe,EA=28);Bt.prototype.DB=EA;Bt.prototype.DM=(1<<EA)-1;Bt.prototype.DV=1<<EA;var ose=52;Bt.prototype.FV=Math.pow(2,ose);Bt.prototype.F1=ose-EA;Bt.prototype.F2=2*EA-ose;var Bvt="0123456789abcdefghijklmnopqrstuvwxyz",wq=new Array,A6,Wd;A6=48;for(Wd=0;Wd<=9;++Wd)wq[A6++]=Wd;A6=97;for(Wd=10;Wd<36;++Wd)wq[A6++]=Wd;A6=65;for(Wd=10;Wd<36;++Wd)wq[A6++]=Wd;function _Re(e){return Bvt.charAt(e)}o(_Re,"int2char");function SRe(e,t){var r=wq[e.charCodeAt(t)];return r??-1}o(SRe,"intAt");function Dvt(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s}o(Dvt,"bnpCopyTo");function Pvt(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0}o(Pvt,"bnpFromInt");function K5(e){var t=lo();return t.fromInt(e),t}o(K5,"nbv");function Fvt(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==256)r=8;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else{this.fromRadix(e,t);return}this.t=0,this.s=0;for(var n=e.length,i=!1,s=0;--n>=0;){var a=r==8?e[n]&255:SRe(e,n);if(a<0){e.charAt(n)=="-"&&(i=!0);continue}i=!1,s==0?this.data[this.t++]=a:s+r>this.DB?(this.data[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this.data[this.t++]=a>>this.DB-s):this.data[this.t-1]|=a<<s,s+=r,s>=this.DB&&(s-=this.DB)}r==8&&(e[0]&128)!=0&&(this.s=-1,s>0&&(this.data[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&Bt.ZERO.subTo(this,this)}o(Fvt,"bnpFromString");function Nvt(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t}o(Nvt,"bnpClamp");function Lvt(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var r=(1<<t)-1,n,i=!1,s="",a=this.t,l=this.DB-a*this.DB%t;if(a-- >0)for(l<this.DB&&(n=this.data[a]>>l)>0&&(i=!0,s=_Re(n));a>=0;)l<t?(n=(this.data[a]&(1<<l)-1)<<t-l,n|=this.data[--a]>>(l+=this.DB-t)):(n=this.data[a]>>(l-=t)&r,l<=0&&(l+=this.DB,--a)),n>0&&(i=!0),i&&(s+=_Re(n));return i?s:"0"}o(Lvt,"bnToString");function Qvt(){var e=lo();return Bt.ZERO.subTo(this,e),e}o(Qvt,"bnNegate");function Mvt(){return this.s<0?this.negate():this}o(Mvt,"bnAbs");function Ovt(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this.data[r]-e.data[r])!=0)return t;return 0}o(Ovt,"bnCompareTo");function _q(e){var t=1,r;return(r=e>>>16)!=0&&(e=r,t+=16),(r=e>>8)!=0&&(e=r,t+=8),(r=e>>4)!=0&&(e=r,t+=4),(r=e>>2)!=0&&(e=r,t+=2),(r=e>>1)!=0&&(e=r,t+=1),t}o(_q,"nbits");function Uvt(){return this.t<=0?0:this.DB*(this.t-1)+_q(this.data[this.t-1]^this.s&this.DM)}o(Uvt,"bnBitLength");function qvt(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s}o(qvt,"bnpDLShiftTo");function Wvt(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s}o(Wvt,"bnpDRShiftTo");function Gvt(e,t){var r=e%this.DB,n=this.DB-r,i=(1<<n)-1,s=Math.floor(e/this.DB),a=this.s<<r&this.DM,l;for(l=this.t-1;l>=0;--l)t.data[l+s+1]=this.data[l]>>n|a,a=(this.data[l]&i)<<r;for(l=s-1;l>=0;--l)t.data[l]=0;t.data[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()}o(Gvt,"bnpLShiftTo");function Hvt(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,i=this.DB-n,s=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var a=r+1;a<this.t;++a)t.data[a-r-1]|=(this.data[a]&s)<<i,t.data[a-r]=this.data[a]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&s)<<i),t.t=this.t-r,t.clamp()}o(Hvt,"bnpRShiftTo");function jvt(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()}o(jvt,"bnpSubTo");function Vvt(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t.data[i]=0;for(i=0;i<n.t;++i)t.data[i+r.t]=r.am(0,n.data[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&Bt.ZERO.subTo(t,t)}o(Vvt,"bnpMultiplyTo");function $vt(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()}o($vt,"bnpSquareTo");function zvt(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){t?.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=lo());var s=lo(),a=this.s,l=e.s,c=this.DB-_q(n.data[n.t-1]);c>0?(n.lShiftTo(c,s),i.lShiftTo(c,r)):(n.copyTo(s),i.copyTo(r));var u=s.t,f=s.data[u-1];if(f!=0){var m=f*(1<<this.F1)+(u>1?s.data[u-2]>>this.F2:0),h=this.FV/m,p=(1<<this.F1)/m,g=1<<this.F2,x=r.t,v=x-u,E=t??lo();for(s.dlShiftTo(v,E),r.compareTo(E)>=0&&(r.data[r.t++]=1,r.subTo(E,r)),Bt.ONE.dlShiftTo(u,E),E.subTo(s,s);s.t<u;)s.data[s.t++]=0;for(;--v>=0;){var b=r.data[--x]==f?this.DM:Math.floor(r.data[x]*h+(r.data[x-1]+g)*p);if((r.data[x]+=s.am(0,b,r,v,0,u))<b)for(s.dlShiftTo(v,E),r.subTo(E,r);r.data[x]<--b;)r.subTo(E,r)}t!=null&&(r.drShiftTo(u,t),a!=l&&Bt.ZERO.subTo(t,t)),r.t=u,r.clamp(),c>0&&r.rShiftTo(c,r),a<0&&Bt.ZERO.subTo(r,r)}}}o(zvt,"bnpDivRemTo");function Yvt(e){var t=lo();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(Bt.ZERO)>0&&e.subTo(t,t),t}o(Yvt,"bnMod");function Fx(e){this.m=e}o(Fx,"Classic");function Kvt(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}o(Kvt,"cConvert");function Jvt(e){return e}o(Jvt,"cRevert");function Zvt(e){e.divRemTo(this.m,null,e)}o(Zvt,"cReduce");function Xvt(e,t,r){e.multiplyTo(t,r),this.reduce(r)}o(Xvt,"cMulTo");function ebt(e,t){e.squareTo(t),this.reduce(t)}o(ebt,"cSqrTo");Fx.prototype.convert=Kvt;Fx.prototype.revert=Jvt;Fx.prototype.reduce=Zvt;Fx.prototype.mulTo=Xvt;Fx.prototype.sqrTo=ebt;function tbt(){if(this.t<1)return 0;var e=this.data[0];if((e&1)==0)return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}o(tbt,"bnpInvDigit");function Nx(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}o(Nx,"Montgomery");function rbt(e){var t=lo();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(Bt.ZERO)>0&&this.m.subTo(t,t),t}o(rbt,"montConvert");function nbt(e){var t=lo();return e.copyTo(t),this.reduce(t),t}o(nbt,"montRevert");function ibt(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e.data[t]&32767,n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}o(ibt,"montReduce");function obt(e,t){e.squareTo(t),this.reduce(t)}o(obt,"montSqrTo");function sbt(e,t,r){e.multiplyTo(t,r),this.reduce(r)}o(sbt,"montMulTo");Nx.prototype.convert=rbt;Nx.prototype.revert=nbt;Nx.prototype.reduce=ibt;Nx.prototype.mulTo=sbt;Nx.prototype.sqrTo=obt;function abt(){return(this.t>0?this.data[0]&1:this.s)==0}o(abt,"bnpIsEven");function lbt(e,t){if(e>4294967295||e<1)return Bt.ONE;var r=lo(),n=lo(),i=t.convert(this),s=_q(e)-1;for(i.copyTo(r);--s>=0;)if(t.sqrTo(r,n),(e&1<<s)>0)t.mulTo(n,i,r);else{var a=r;r=n,n=a}return t.revert(r)}o(lbt,"bnpExp");function cbt(e,t){var r;return e<256||t.isEven()?r=new Fx(t):r=new Nx(t),this.exp(e,r)}o(cbt,"bnModPowInt");Bt.prototype.copyTo=Dvt;Bt.prototype.fromInt=Pvt;Bt.prototype.fromString=Fvt;Bt.prototype.clamp=Nvt;Bt.prototype.dlShiftTo=qvt;Bt.prototype.drShiftTo=Wvt;Bt.prototype.lShiftTo=Gvt;Bt.prototype.rShiftTo=Hvt;Bt.prototype.subTo=jvt;Bt.prototype.multiplyTo=Vvt;Bt.prototype.squareTo=$vt;Bt.prototype.divRemTo=zvt;Bt.prototype.invDigit=tbt;Bt.prototype.isEven=abt;Bt.prototype.exp=lbt;Bt.prototype.toString=Lvt;Bt.prototype.negate=Qvt;Bt.prototype.abs=Mvt;Bt.prototype.compareTo=Ovt;Bt.prototype.bitLength=Uvt;Bt.prototype.mod=Yvt;Bt.prototype.modPowInt=cbt;Bt.ZERO=K5(0);Bt.ONE=K5(1);function ubt(){var e=lo();return this.copyTo(e),e}o(ubt,"bnClone");function fbt(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}o(fbt,"bnIntValue");function dbt(){return this.t==0?this.s:this.data[0]<<24>>24}o(dbt,"bnByteValue");function mbt(){return this.t==0?this.s:this.data[0]<<16>>16}o(mbt,"bnShortValue");function hbt(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}o(hbt,"bnpChunkSize");function pbt(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}o(pbt,"bnSigNum");function gbt(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=K5(r),i=lo(),s=lo(),a="";for(this.divRemTo(n,i,s);i.signum()>0;)a=(r+s.intValue()).toString(e).substr(1)+a,i.divRemTo(n,i,s);return s.intValue().toString(e)+a}o(gbt,"bnpToRadix");function Abt(e,t){this.fromInt(0),t==null&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,s=0,a=0,l=0;l<e.length;++l){var c=SRe(e,l);if(c<0){e.charAt(l)=="-"&&this.signum()==0&&(i=!0);continue}a=t*a+c,++s>=r&&(this.dMultiply(n),this.dAddOffset(a,0),s=0,a=0)}s>0&&(this.dMultiply(Math.pow(t,s)),this.dAddOffset(a,0)),i&&Bt.ZERO.subTo(this,this)}o(Abt,"bnpFromRadix");function ybt(e,t,r){if(typeof t=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(Bt.ONE.shiftLeft(e-1),sse,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(Bt.ONE.shiftLeft(e-1),this);else{var n=new Array,i=e&7;n.length=(e>>3)+1,t.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}o(ybt,"bnpFromNumber");function Cbt(){var e=this.t,t=new Array;t[0]=this.s;var r=this.DB-e*this.DB%8,n,i=0;if(e-- >0)for(r<this.DB&&(n=this.data[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this.data[e]&(1<<r)-1)<<8-r,n|=this.data[--e]>>(r+=this.DB-8)):(n=this.data[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),(n&128)!=0&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t}o(Cbt,"bnToByteArray");function xbt(e){return this.compareTo(e)==0}o(xbt,"bnEquals");function vbt(e){return this.compareTo(e)<0?this:e}o(vbt,"bnMin");function bbt(e){return this.compareTo(e)>0?this:e}o(bbt,"bnMax");function Ebt(e,t,r){var n,i,s=Math.min(e.t,this.t);for(n=0;n<s;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(i=e.s&this.DM,n=s;n<this.t;++n)r.data[n]=t(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=s;n<e.t;++n)r.data[n]=t(i,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()}o(Ebt,"bnpBitwiseTo");function Ibt(e,t){return e&t}o(Ibt,"op_and");function Tbt(e){var t=lo();return this.bitwiseTo(e,Ibt,t),t}o(Tbt,"bnAnd");function sse(e,t){return e|t}o(sse,"op_or");function wbt(e){var t=lo();return this.bitwiseTo(e,sse,t),t}o(wbt,"bnOr");function kRe(e,t){return e^t}o(kRe,"op_xor");function _bt(e){var t=lo();return this.bitwiseTo(e,kRe,t),t}o(_bt,"bnXor");function RRe(e,t){return e&~t}o(RRe,"op_andnot");function Sbt(e){var t=lo();return this.bitwiseTo(e,RRe,t),t}o(Sbt,"bnAndNot");function kbt(){for(var e=lo(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e}o(kbt,"bnNot");function Rbt(e){var t=lo();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}o(Rbt,"bnShiftLeft");function Bbt(e){var t=lo();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}o(Bbt,"bnShiftRight");function Dbt(e){if(e==0)return-1;var t=0;return(e&65535)==0&&(e>>=16,t+=16),(e&255)==0&&(e>>=8,t+=8),(e&15)==0&&(e>>=4,t+=4),(e&3)==0&&(e>>=2,t+=2),(e&1)==0&&++t,t}o(Dbt,"lbit");function Pbt(){for(var e=0;e<this.t;++e)if(this.data[e]!=0)return e*this.DB+Dbt(this.data[e]);return this.s<0?this.t*this.DB:-1}o(Pbt,"bnGetLowestSetBit");function Fbt(e){for(var t=0;e!=0;)e&=e-1,++t;return t}o(Fbt,"cbit");function Nbt(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=Fbt(this.data[r]^t);return e}o(Nbt,"bnBitCount");function Lbt(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this.data[t]&1<<e%this.DB)!=0}o(Lbt,"bnTestBit");function Qbt(e,t){var r=Bt.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r}o(Qbt,"bnpChangeBit");function Mbt(e){return this.changeBit(e,sse)}o(Mbt,"bnSetBit");function Obt(e){return this.changeBit(e,RRe)}o(Obt,"bnClearBit");function Ubt(e){return this.changeBit(e,kRe)}o(Ubt,"bnFlipBit");function qbt(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()}o(qbt,"bnpAddTo");function Wbt(e){var t=lo();return this.addTo(e,t),t}o(Wbt,"bnAdd");function Gbt(e){var t=lo();return this.subTo(e,t),t}o(Gbt,"bnSubtract");function Hbt(e){var t=lo();return this.multiplyTo(e,t),t}o(Hbt,"bnMultiply");function jbt(e){var t=lo();return this.divRemTo(e,t,null),t}o(jbt,"bnDivide");function Vbt(e){var t=lo();return this.divRemTo(e,null,t),t}o(Vbt,"bnRemainder");function $bt(e){var t=lo(),r=lo();return this.divRemTo(e,t,r),new Array(t,r)}o($bt,"bnDivideAndRemainder");function zbt(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}o(zbt,"bnpDMultiply");function Ybt(e,t){if(e!=0){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}}o(Ybt,"bnpDAddOffset");function GS(){}o(GS,"NullExp");function BRe(e){return e}o(BRe,"nNop");function Kbt(e,t,r){e.multiplyTo(t,r)}o(Kbt,"nMulTo");function Jbt(e,t){e.squareTo(t)}o(Jbt,"nSqrTo");GS.prototype.convert=BRe;GS.prototype.revert=BRe;GS.prototype.mulTo=Kbt;GS.prototype.sqrTo=Jbt;function Zbt(e){return this.exp(e,new GS)}o(Zbt,"bnPow");function Xbt(e,t,r){var n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,e.data[n],r,n,0,this.t);for(i=Math.min(e.t,t);n<i;++n)this.am(0,e.data[n],r,n,0,t-n);r.clamp()}o(Xbt,"bnpMultiplyLowerTo");function eEt(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)}o(eEt,"bnpMultiplyUpperTo");function y6(e){this.r2=lo(),this.q3=lo(),Bt.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}o(y6,"Barrett");function tEt(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=lo();return e.copyTo(t),this.reduce(t),t}o(tEt,"barrettConvert");function rEt(e){return e}o(rEt,"barrettRevert");function nEt(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}o(nEt,"barrettReduce");function iEt(e,t){e.squareTo(t),this.reduce(t)}o(iEt,"barrettSqrTo");function oEt(e,t,r){e.multiplyTo(t,r),this.reduce(r)}o(oEt,"barrettMulTo");y6.prototype.convert=tEt;y6.prototype.revert=rEt;y6.prototype.reduce=nEt;y6.prototype.mulTo=oEt;y6.prototype.sqrTo=iEt;function sEt(e,t){var r=e.bitLength(),n,i=K5(1),s;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?s=new Fx(t):t.isEven()?s=new y6(t):s=new Nx(t);var a=new Array,l=3,c=n-1,u=(1<<n)-1;if(a[1]=s.convert(this),n>1){var f=lo();for(s.sqrTo(a[1],f);l<=u;)a[l]=lo(),s.mulTo(f,a[l-2],a[l]),l+=2}var m=e.t-1,h,p=!0,g=lo(),x;for(r=_q(e.data[m])-1;m>=0;){for(r>=c?h=e.data[m]>>r-c&u:(h=(e.data[m]&(1<<r+1)-1)<<c-r,m>0&&(h|=e.data[m-1]>>this.DB+r-c)),l=n;(h&1)==0;)h>>=1,--l;if((r-=l)<0&&(r+=this.DB,--m),p)a[h].copyTo(i),p=!1;else{for(;l>1;)s.sqrTo(i,g),s.sqrTo(g,i),l-=2;l>0?s.sqrTo(i,g):(x=i,i=g,g=x),s.mulTo(g,a[h],i)}for(;m>=0&&(e.data[m]&1<<r)==0;)s.sqrTo(i,g),x=i,i=g,g=x,--r<0&&(r=this.DB-1,--m)}return s.revert(i)}o(sEt,"bnModPow");function aEt(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return t;for(i<s&&(s=i),s>0&&(t.rShiftTo(s,t),r.rShiftTo(s,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r}o(aEt,"bnGCD");function lEt(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(t==0)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r}o(lEt,"bnpModInt");function cEt(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return Bt.ZERO;for(var r=e.clone(),n=this.clone(),i=K5(1),s=K5(0),a=K5(0),l=K5(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),t?((!i.isEven()||!s.isEven())&&(i.addTo(this,i),s.subTo(e,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);for(;n.isEven();)n.rShiftTo(1,n),t?((!a.isEven()||!l.isEven())&&(a.addTo(this,a),l.subTo(e,l)),a.rShiftTo(1,a)):l.isEven()||l.subTo(e,l),l.rShiftTo(1,l);r.compareTo(n)>=0?(r.subTo(n,r),t&&i.subTo(a,i),s.subTo(l,s)):(n.subTo(r,n),t&&a.subTo(i,a),l.subTo(s,l))}if(n.compareTo(Bt.ONE)!=0)return Bt.ZERO;if(l.compareTo(e)>=0)return l.subtract(e);if(l.signum()<0)l.addTo(e,l);else return l;return l.signum()<0?l.add(e):l}o(cEt,"bnModInverse");var Ch=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],uEt=(1<<26)/Ch[Ch.length-1];function fEt(e){var t,r=this.abs();if(r.t==1&&r.data[0]<=Ch[Ch.length-1]){for(t=0;t<Ch.length;++t)if(r.data[0]==Ch[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<Ch.length;){for(var n=Ch[t],i=t+1;i<Ch.length&&n<uEt;)n*=Ch[i++];for(n=r.modInt(n);t<i;)if(n%Ch[t++]==0)return!1}return r.millerRabin(e)}o(fEt,"bnIsProbablePrime");function dEt(e){var t=this.subtract(Bt.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n=t.shiftRight(r),i=mEt(),s,a=0;a<e;++a){do s=new Bt(this.bitLength(),i);while(s.compareTo(Bt.ONE)<=0||s.compareTo(t)>=0);var l=s.modPow(n,this);if(l.compareTo(Bt.ONE)!=0&&l.compareTo(t)!=0){for(var c=1;c++<r&&l.compareTo(t)!=0;)if(l=l.modPowInt(2,this),l.compareTo(Bt.ONE)==0)return!1;if(l.compareTo(t)!=0)return!1}}return!0}o(dEt,"bnpMillerRabin");function mEt(){return{nextBytes:o(function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(Math.random()*256)},"nextBytes")}}o(mEt,"bnGetPrng");Bt.prototype.chunkSize=hbt;Bt.prototype.toRadix=gbt;Bt.prototype.fromRadix=Abt;Bt.prototype.fromNumber=ybt;Bt.prototype.bitwiseTo=Ebt;Bt.prototype.changeBit=Qbt;Bt.prototype.addTo=qbt;Bt.prototype.dMultiply=zbt;Bt.prototype.dAddOffset=Ybt;Bt.prototype.multiplyLowerTo=Xbt;Bt.prototype.multiplyUpperTo=eEt;Bt.prototype.modInt=lEt;Bt.prototype.millerRabin=dEt;Bt.prototype.clone=ubt;Bt.prototype.intValue=fbt;Bt.prototype.byteValue=dbt;Bt.prototype.shortValue=mbt;Bt.prototype.signum=pbt;Bt.prototype.toByteArray=Cbt;Bt.prototype.equals=xbt;Bt.prototype.min=vbt;Bt.prototype.max=bbt;Bt.prototype.and=Tbt;Bt.prototype.or=wbt;Bt.prototype.xor=_bt;Bt.prototype.andNot=Sbt;Bt.prototype.not=kbt;Bt.prototype.shiftLeft=Rbt;Bt.prototype.shiftRight=Bbt;Bt.prototype.getLowestSetBit=Pbt;Bt.prototype.bitCount=Nbt;Bt.prototype.testBit=Lbt;Bt.prototype.setBit=Mbt;Bt.prototype.clearBit=Obt;Bt.prototype.flipBit=Ubt;Bt.prototype.add=Wbt;Bt.prototype.subtract=Gbt;Bt.prototype.multiply=Hbt;Bt.prototype.divide=jbt;Bt.prototype.remainder=Vbt;Bt.prototype.divideAndRemainder=$bt;Bt.prototype.modPow=sEt;Bt.prototype.modInverse=cEt;Bt.prototype.pow=Zbt;Bt.prototype.gcd=aEt;Bt.prototype.isProbablePrime=fEt});var C6=j((dVr,LRe)=>{d();var ug=ci();og();ao();var FRe=LRe.exports=ug.sha1=ug.sha1||{};ug.md.sha1=ug.md.algorithms.sha1=FRe;FRe.create=function(){NRe||hEt();var e=null,t=ug.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return t=ug.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=ug.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=a[1],a[1]=a[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),PRe(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=ug.util.createBuffer();i.putBytes(t.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=s&n.blockLength-1;i.putBytes(ase.substr(0,n.blockLength-a));for(var l,c,u=n.fullMessageLength[0]*8,f=0;f<n.fullMessageLength.length-1;++f)l=n.fullMessageLength[f+1]*8,c=l/4294967296>>>0,u+=c,i.putInt32(u>>>0),u=l>>>0;i.putInt32(u);var m={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};PRe(m,r,i);var h=ug.util.createBuffer();return h.putInt32(m.h0),h.putInt32(m.h1),h.putInt32(m.h2),h.putInt32(m.h3),h.putInt32(m.h4),h},n};var ase=null,NRe=!1;function hEt(){ase="\x80",ase+=ug.util.fillString("\0",64),NRe=!0}o(hEt,"_init");function PRe(e,t,r){for(var n,i,s,a,l,c,u,f,m=r.length();m>=64;){for(i=e.h0,s=e.h1,a=e.h2,l=e.h3,c=e.h4,f=0;f<16;++f)n=r.getInt32(),t[f]=n,u=l^s&(a^l),n=(i<<5|i>>>27)+u+c+1518500249+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<20;++f)n=t[f-3]^t[f-8]^t[f-14]^t[f-16],n=n<<1|n>>>31,t[f]=n,u=l^s&(a^l),n=(i<<5|i>>>27)+u+c+1518500249+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<32;++f)n=t[f-3]^t[f-8]^t[f-14]^t[f-16],n=n<<1|n>>>31,t[f]=n,u=s^a^l,n=(i<<5|i>>>27)+u+c+1859775393+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<40;++f)n=t[f-6]^t[f-16]^t[f-28]^t[f-32],n=n<<2|n>>>30,t[f]=n,u=s^a^l,n=(i<<5|i>>>27)+u+c+1859775393+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<60;++f)n=t[f-6]^t[f-16]^t[f-28]^t[f-32],n=n<<2|n>>>30,t[f]=n,u=s&a|l&(s^a),n=(i<<5|i>>>27)+u+c+2400959708+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<80;++f)n=t[f-6]^t[f-16]^t[f-28]^t[f-32],n=n<<2|n>>>30,t[f]=n,u=s^a^l,n=(i<<5|i>>>27)+u+c+3395469782+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+s|0,e.h2=e.h2+a|0,e.h3=e.h3+l|0,e.h4=e.h4+c|0,m-=64}}o(PRe,"_update")});var lse=j((pVr,MRe)=>{d();var fg=ci();ao();qd();C6();var QRe=MRe.exports=fg.pkcs1=fg.pkcs1||{};QRe.encode_rsa_oaep=function(e,t,r){var n,i,s,a;typeof r=="string"?(n=r,i=arguments[3]||void 0,s=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md)),s?s.start():s=fg.md.sha1.create(),a||(a=s);var l=Math.ceil(e.n.bitLength()/8),c=l-2*s.digestLength-2;if(t.length>c){var u=new Error("RSAES-OAEP input message length is too long.");throw u.length=t.length,u.maxLength=c,u}n||(n=""),s.update(n,"raw");for(var f=s.digest(),m="",h=c-t.length,p=0;p<h;p++)m+="\0";var g=f.getBytes()+m+""+t;if(!i)i=fg.random.getBytes(s.digestLength);else if(i.length!==s.digestLength){var u=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw u.seedLength=i.length,u.digestLength=s.digestLength,u}var x=Sq(i,l-s.digestLength-1,a),v=fg.util.xorBytes(g,x,g.length),E=Sq(v,s.digestLength,a),b=fg.util.xorBytes(i,E,i.length);return"\0"+b+v};QRe.decode_rsa_oaep=function(e,t,r){var n,i,s;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md));var a=Math.ceil(e.n.bitLength()/8);if(t.length!==a){var v=new Error("RSAES-OAEP encoded message length is invalid.");throw v.length=t.length,v.expectedLength=a,v}if(i===void 0?i=fg.md.sha1.create():i.start(),s||(s=i),a<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var l=i.digest().getBytes(),c=t.charAt(0),u=t.substring(1,i.digestLength+1),f=t.substring(1+i.digestLength),m=Sq(f,i.digestLength,s),h=fg.util.xorBytes(u,m,u.length),p=Sq(h,a-i.digestLength-1,s),g=fg.util.xorBytes(f,p,f.length),x=g.substring(0,i.digestLength),v=c!=="\0",E=0;E<i.digestLength;++E)v|=l.charAt(E)!==x.charAt(E);for(var b=1,_=i.digestLength,R=i.digestLength;R<g.length;R++){var P=g.charCodeAt(R),F=P&1^1,G=b?65534:0;v|=P&G,b=b&F,_+=b}if(v||g.charCodeAt(_)!==1)throw new Error("Invalid RSAES-OAEP padding.");return g.substring(_+1)};function Sq(e,t,r){r||(r=fg.md.sha1.create());for(var n="",i=Math.ceil(t/r.digestLength),s=0;s<i;++s){var a=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255);r.start(),r.update(e+a),n+=r.digest().getBytes()}return n.substring(0,t)}o(Sq,"rsa_mgf1")});var use=j((yVr,cse)=>{d();var J5=ci();ao();HS();qd();(function(){if(J5.prime){cse.exports=J5.prime;return}var e=cse.exports=J5.prime=J5.prime||{},t=J5.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new t(null);n.fromInt(30);var i=o(function(m,h){return m|h},"op_or");e.generateProbablePrime=function(m,h,p){typeof h=="function"&&(p=h,h={}),h=h||{};var g=h.algorithm||"PRIMEINC";typeof g=="string"&&(g={name:g}),g.options=g.options||{};var x=h.prng||J5.random,v={nextBytes:o(function(E){for(var b=x.getBytesSync(E.length),_=0;_<E.length;++_)E[_]=b.charCodeAt(_)},"nextBytes")};if(g.name==="PRIMEINC")return s(m,v,g.options,p);throw new Error("Invalid prime generation algorithm: "+g.name)};function s(m,h,p,g){return"workers"in p?c(m,h,p,g):a(m,h,p,g)}o(s,"primeincFindPrime");function a(m,h,p,g){var x=u(m,h),v=0,E=f(x.bitLength());"millerRabinTests"in p&&(E=p.millerRabinTests);var b=10;"maxBlockTime"in p&&(b=p.maxBlockTime),l(x,m,h,v,E,b,g)}o(a,"primeincFindPrimeWithoutWorkers");function l(m,h,p,g,x,v,E){var b=+new Date;do{if(m.bitLength()>h&&(m=u(h,p)),m.isProbablePrime(x))return E(null,m);m.dAddOffset(r[g++%8],0)}while(v<0||+new Date-b<v);J5.util.setImmediate(function(){l(m,h,p,g,x,v,E)})}o(l,"_primeinc");function c(m,h,p,g){if(typeof Worker>"u")return a(m,h,p,g);var x=u(m,h),v=p.workers,E=p.workLoad||100,b=E*30/8,_=p.workerScript||"forge/prime.worker.js";if(v===-1)return J5.util.estimateCores(function(P,F){P&&(F=2),v=F-1,R()});R();function R(){v=Math.max(1,v);for(var P=[],F=0;F<v;++F)P[F]=new Worker(_);for(var G=v,F=0;F<v;++F)P[F].addEventListener("message",Ae);var se=!1;function Ae(re){if(!se){--G;var W=re.data;if(W.found){for(var q=0;q<P.length;++q)P[q].terminate();return se=!0,g(null,new t(W.prime,16))}x.bitLength()>m&&(x=u(m,h));var oe=x.toString(16);re.target.postMessage({hex:oe,workLoad:E}),x.dAddOffset(b,0)}}o(Ae,"workerMessage")}o(R,"generate")}o(c,"primeincFindPrimeWithWorkers");function u(m,h){var p=new t(m,h),g=m-1;return p.testBit(g)||p.bitwiseTo(t.ONE.shiftLeft(g),i,p),p.dAddOffset(31-p.mod(n).byteValue(),0),p}o(u,"generateRandom");function f(m){return m<=100?27:m<=150?18:m<=200?15:m<=250?12:m<=300?9:m<=350?8:m<=400?7:m<=500?6:m<=600?5:m<=800?4:m<=1250?3:2}o(f,"getMillerRabinTests")})()});var jS=j((vVr,jRe)=>{d();var on=ci();yh();HS();Y5();lse();use();qd();ao();typeof Xi>"u"&&(Xi=on.jsbn.BigInteger);var Xi,fse=on.util.isNodejs?require("crypto"):null,Ye=on.asn1,Gd=on.util;on.pki=on.pki||{};jRe.exports=on.pki.rsa=on.rsa=on.rsa||{};var Yn=on.pki,pEt=[6,4,2,4,2,4,6,2],gEt={name:"PrivateKeyInfo",tagClass:Ye.Class.UNIVERSAL,type:Ye.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:Ye.Class.UNIVERSAL,type:Ye.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:Ye.Class.UNIVERSAL,type:Ye.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Ye.Class.UNIVERSAL,type:Ye.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:Ye.Class.UNIVERSAL,type:Ye.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},AEt={name:"RSAPrivateKey",tagClass:Ye.Class.UNIVERSAL,type:Ye.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:Ye.Class.UNIVERSAL,type:Ye.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:Ye.Class.UNIVERSAL,type:Ye.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:Ye.Class.UNIVERSAL,type:Ye.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:Ye.Class.UNIVERSAL,type:Ye.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:Ye.Class.UNIVERSAL,type:Ye.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:Ye.Class.UNIVERSAL,type:Ye.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:Ye.Class.UNIVERSAL,type:Ye.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:Ye.Class.UNIVERSAL,type:Ye.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:Ye.Class.UNIVERSAL,type:Ye.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},yEt={name:"RSAPublicKey",tagClass:Ye.Class.UNIVERSAL,type:Ye.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:Ye.Class.UNIVERSAL,type:Ye.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:Ye.Class.UNIVERSAL,type:Ye.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},CEt=on.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:Ye.Class.UNIVERSAL,type:Ye.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:Ye.Class.UNIVERSAL,type:Ye.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Ye.Class.UNIVERSAL,type:Ye.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:Ye.Class.UNIVERSAL,type:Ye.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:Ye.Class.UNIVERSAL,type:Ye.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},xEt={name:"DigestInfo",tagClass:Ye.Class.UNIVERSAL,type:Ye.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:Ye.Class.UNIVERSAL,type:Ye.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:Ye.Class.UNIVERSAL,type:Ye.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:Ye.Class.UNIVERSAL,type:Ye.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:Ye.Class.UNIVERSAL,type:Ye.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},vEt=o(function(e){var t;if(e.algorithm in Yn.oids)t=Yn.oids[e.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}var n=Ye.oidToDer(t).getBytes(),i=Ye.create(Ye.Class.UNIVERSAL,Ye.Type.SEQUENCE,!0,[]),s=Ye.create(Ye.Class.UNIVERSAL,Ye.Type.SEQUENCE,!0,[]);s.value.push(Ye.create(Ye.Class.UNIVERSAL,Ye.Type.OID,!1,n)),s.value.push(Ye.create(Ye.Class.UNIVERSAL,Ye.Type.NULL,!1,""));var a=Ye.create(Ye.Class.UNIVERSAL,Ye.Type.OCTETSTRING,!1,e.digest().getBytes());return i.value.push(s),i.value.push(a),Ye.toDer(i).getBytes()},"emsaPkcs1v15encode"),GRe=o(function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);t.dP||(t.dP=t.d.mod(t.p.subtract(Xi.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(Xi.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));var n;do n=new Xi(on.util.bytesToHex(on.random.getBytes(t.n.bitLength()/8)),16);while(n.compareTo(t.n)>=0||!n.gcd(t.n).equals(Xi.ONE));e=e.multiply(n.modPow(t.e,t.n)).mod(t.n);for(var i=e.mod(t.p).modPow(t.dP,t.p),s=e.mod(t.q).modPow(t.dQ,t.q);i.compareTo(s)<0;)i=i.add(t.p);var a=i.subtract(s).multiply(t.qInv).mod(t.p).multiply(t.q).add(s);return a=a.multiply(n.modInverse(t.n)).mod(t.n),a},"_modPow");Yn.rsa.encrypt=function(e,t,r){var n=r,i,s=Math.ceil(t.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=HRe(e,t,r)):(i=on.util.createBuffer(),i.putBytes(e));for(var a=new Xi(i.toHex(),16),l=GRe(a,t,n),c=l.toString(16),u=on.util.createBuffer(),f=s-Math.ceil(c.length/2);f>0;)u.putByte(0),--f;return u.putBytes(on.util.hexToBytes(c)),u.getBytes()};Yn.rsa.decrypt=function(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8);if(e.length!==i){var s=new Error("Encrypted message length is invalid.");throw s.length=e.length,s.expected=i,s}var a=new Xi(on.util.createBuffer(e).toHex(),16);if(a.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var l=GRe(a,t,r),c=l.toString(16),u=on.util.createBuffer(),f=i-Math.ceil(c.length/2);f>0;)u.putByte(0),--f;return u.putBytes(on.util.hexToBytes(c)),n!==!1?kq(u.getBytes(),t,r):u.getBytes()};Yn.rsa.createKeyPairGenerationState=function(e,t,r){typeof e=="string"&&(e=parseInt(e,10)),e=e||2048,r=r||{};var n=r.prng||on.random,i={nextBytes:o(function(l){for(var c=n.getBytesSync(l.length),u=0;u<l.length;++u)l[u]=c.charCodeAt(u)},"nextBytes")},s=r.algorithm||"PRIMEINC",a;if(s==="PRIMEINC")a={algorithm:s,state:0,bits:e,rng:i,eInt:t||65537,e:new Xi(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null},a.e.fromInt(a.eInt);else throw new Error("Invalid key generation algorithm: "+s);return a};Yn.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new Xi(null);r.fromInt(30);for(var n=0,i=o(function(m,h){return m|h},"op_or"),s=+new Date,a,l=0;e.keys===null&&(t<=0||l<t);){if(e.state===0){var c=e.p===null?e.pBits:e.qBits,u=c-1;e.pqState===0?(e.num=new Xi(c,e.rng),e.num.testBit(u)||e.num.bitwiseTo(Xi.ONE.shiftLeft(u),i,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),n=0,++e.pqState):e.pqState===1?e.num.bitLength()>c?e.pqState=0:e.num.isProbablePrime(EEt(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(pEt[n++%8],0):e.pqState===2?e.pqState=e.num.subtract(Xi.ONE).gcd(e.e).compareTo(Xi.ONE)===0?3:0:e.pqState===3&&(e.pqState=0,e.p===null?e.p=e.num:e.q=e.num,e.p!==null&&e.q!==null&&++e.state,e.num=null)}else if(e.state===1)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(e.state===2)e.p1=e.p.subtract(Xi.ONE),e.q1=e.q.subtract(Xi.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(e.state===3)e.phi.gcd(e.e).compareTo(Xi.ONE)===0?++e.state:(e.p=null,e.q=null,e.state=0);else if(e.state===4)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(e.state===5){var f=e.e.modInverse(e.phi);e.keys={privateKey:Yn.rsa.setPrivateKey(e.n,e.e,f,e.p,e.q,f.mod(e.p1),f.mod(e.q1),e.q.modInverse(e.p)),publicKey:Yn.rsa.setPublicKey(e.n,e.e)}}a=+new Date,l+=a-s,s=a}return e.keys!==null};Yn.rsa.generateKeyPair=function(e,t,r,n){if(arguments.length===1?typeof e=="object"?(r=e,e=void 0):typeof e=="function"&&(n=e,e=void 0):arguments.length===2?typeof e=="number"?typeof t=="function"?(n=t,t=void 0):typeof t!="number"&&(r=t,t=void 0):(r=e,n=t,e=void 0,t=void 0):arguments.length===3&&(typeof t=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=t,t=void 0)),r=r||{},e===void 0&&(e=r.bits||2048),t===void 0&&(t=r.e||65537),!on.options.usePureJavaScript&&!r.prng&&e>=256&&e<=16384&&(t===65537||t===3)){if(n){if(ORe("generateKeyPair"))return fse.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(l,c,u){if(l)return n(l);n(null,{privateKey:Yn.privateKeyFromPem(u),publicKey:Yn.publicKeyFromPem(c)})});if(URe("generateKey")&&URe("exportKey"))return Gd.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:WRe(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(l){return Gd.globalScope.crypto.subtle.exportKey("pkcs8",l.privateKey)}).then(void 0,function(l){n(l)}).then(function(l){if(l){var c=Yn.privateKeyFromAsn1(Ye.fromDer(on.util.createBuffer(l)));n(null,{privateKey:c,publicKey:Yn.setRsaPublicKey(c.n,c.e)})}});if(qRe("generateKey")&&qRe("exportKey")){var i=Gd.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:WRe(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(l){var c=l.target.result,u=Gd.globalScope.msCrypto.subtle.exportKey("pkcs8",c.privateKey);u.oncomplete=function(f){var m=f.target.result,h=Yn.privateKeyFromAsn1(Ye.fromDer(on.util.createBuffer(m)));n(null,{privateKey:h,publicKey:Yn.setRsaPublicKey(h.n,h.e)})},u.onerror=function(f){n(f)}},i.onerror=function(l){n(l)};return}}else if(ORe("generateKeyPairSync")){var s=fse.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:Yn.privateKeyFromPem(s.privateKey),publicKey:Yn.publicKeyFromPem(s.publicKey)}}}var a=Yn.rsa.createKeyPairGenerationState(e,t,r);if(!n)return Yn.rsa.stepKeyPairGenerationState(a,0),a.keys;bEt(a,r,n)};Yn.setRsaPublicKey=Yn.rsa.setPublicKey=function(e,t){var r={n:e,e:t};return r.encrypt=function(n,i,s){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:o(function(l,c,u){return HRe(l,c,2).getBytes()},"encode")};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:o(function(l,c){return on.pkcs1.encode_rsa_oaep(c,l,s)},"encode")};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:o(function(l){return l},"encode")};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var a=i.encode(n,r,!0);return Yn.rsa.encrypt(a,r,!0)},r.verify=function(n,i,s,a){typeof s=="string"?s=s.toUpperCase():s===void 0&&(s="RSASSA-PKCS1-V1_5"),a===void 0&&(a={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in a||(a._parseAllDigestBytes=!0),s==="RSASSA-PKCS1-V1_5"?s={verify:o(function(c,u){u=kq(u,r,!0);var f=Ye.fromDer(u,{parseAllBytes:a._parseAllDigestBytes}),m={},h=[];if(!Ye.validate(f,xEt,m,h)){var p=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw p.errors=h,p}var g=Ye.derToOid(m.algorithmIdentifier);if(!(g===on.oids.md2||g===on.oids.md5||g===on.oids.sha1||g===on.oids.sha224||g===on.oids.sha256||g===on.oids.sha384||g===on.oids.sha512||g===on.oids["sha512-224"]||g===on.oids["sha512-256"])){var p=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw p.oid=g,p}if((g===on.oids.md2||g===on.oids.md5)&&!("parameters"in m))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return c===m.digest},"verify")}:(s==="NONE"||s==="NULL"||s===null)&&(s={verify:o(function(c,u){return u=kq(u,r,!0),c===u},"verify")});var l=Yn.rsa.decrypt(i,r,!0,!1);return s.verify(n,l,r.n.bitLength())},r};Yn.setRsaPrivateKey=Yn.rsa.setPrivateKey=function(e,t,r,n,i,s,a,l){var c={n:e,e:t,d:r,p:n,q:i,dP:s,dQ:a,qInv:l};return c.decrypt=function(u,f,m){typeof f=="string"?f=f.toUpperCase():f===void 0&&(f="RSAES-PKCS1-V1_5");var h=Yn.rsa.decrypt(u,c,!1,!1);if(f==="RSAES-PKCS1-V1_5")f={decode:kq};else if(f==="RSA-OAEP"||f==="RSAES-OAEP")f={decode:o(function(p,g){return on.pkcs1.decode_rsa_oaep(g,p,m)},"decode")};else if(["RAW","NONE","NULL",null].indexOf(f)!==-1)f={decode:o(function(p){return p},"decode")};else throw new Error('Unsupported encryption scheme: "'+f+'".');return f.decode(h,c,!1)},c.sign=function(u,f){var m=!1;typeof f=="string"&&(f=f.toUpperCase()),f===void 0||f==="RSASSA-PKCS1-V1_5"?(f={encode:vEt},m=1):(f==="NONE"||f==="NULL"||f===null)&&(f={encode:o(function(){return u},"encode")},m=1);var h=f.encode(u,c.n.bitLength());return Yn.rsa.encrypt(h,c,m)},c};Yn.wrapRsaPrivateKey=function(e){return Ye.create(Ye.Class.UNIVERSAL,Ye.Type.SEQUENCE,!0,[Ye.create(Ye.Class.UNIVERSAL,Ye.Type.INTEGER,!1,Ye.integerToDer(0).getBytes()),Ye.create(Ye.Class.UNIVERSAL,Ye.Type.SEQUENCE,!0,[Ye.create(Ye.Class.UNIVERSAL,Ye.Type.OID,!1,Ye.oidToDer(Yn.oids.rsaEncryption).getBytes()),Ye.create(Ye.Class.UNIVERSAL,Ye.Type.NULL,!1,"")]),Ye.create(Ye.Class.UNIVERSAL,Ye.Type.OCTETSTRING,!1,Ye.toDer(e).getBytes())])};Yn.privateKeyFromAsn1=function(e){var t={},r=[];if(Ye.validate(e,gEt,t,r)&&(e=Ye.fromDer(on.util.createBuffer(t.privateKey))),t={},r=[],!Ye.validate(e,AEt,t,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,s,a,l,c,u,f,m;return i=on.util.createBuffer(t.privateKeyModulus).toHex(),s=on.util.createBuffer(t.privateKeyPublicExponent).toHex(),a=on.util.createBuffer(t.privateKeyPrivateExponent).toHex(),l=on.util.createBuffer(t.privateKeyPrime1).toHex(),c=on.util.createBuffer(t.privateKeyPrime2).toHex(),u=on.util.createBuffer(t.privateKeyExponent1).toHex(),f=on.util.createBuffer(t.privateKeyExponent2).toHex(),m=on.util.createBuffer(t.privateKeyCoefficient).toHex(),Yn.setRsaPrivateKey(new Xi(i,16),new Xi(s,16),new Xi(a,16),new Xi(l,16),new Xi(c,16),new Xi(u,16),new Xi(f,16),new Xi(m,16))};Yn.privateKeyToAsn1=Yn.privateKeyToRSAPrivateKey=function(e){return Ye.create(Ye.Class.UNIVERSAL,Ye.Type.SEQUENCE,!0,[Ye.create(Ye.Class.UNIVERSAL,Ye.Type.INTEGER,!1,Ye.integerToDer(0).getBytes()),Ye.create(Ye.Class.UNIVERSAL,Ye.Type.INTEGER,!1,dg(e.n)),Ye.create(Ye.Class.UNIVERSAL,Ye.Type.INTEGER,!1,dg(e.e)),Ye.create(Ye.Class.UNIVERSAL,Ye.Type.INTEGER,!1,dg(e.d)),Ye.create(Ye.Class.UNIVERSAL,Ye.Type.INTEGER,!1,dg(e.p)),Ye.create(Ye.Class.UNIVERSAL,Ye.Type.INTEGER,!1,dg(e.q)),Ye.create(Ye.Class.UNIVERSAL,Ye.Type.INTEGER,!1,dg(e.dP)),Ye.create(Ye.Class.UNIVERSAL,Ye.Type.INTEGER,!1,dg(e.dQ)),Ye.create(Ye.Class.UNIVERSAL,Ye.Type.INTEGER,!1,dg(e.qInv))])};Yn.publicKeyFromAsn1=function(e){var t={},r=[];if(Ye.validate(e,CEt,t,r)){var n=Ye.derToOid(t.publicKeyOid);if(n!==Yn.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}e=t.rsaPublicKey}if(r=[],!Ye.validate(e,yEt,t,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var s=on.util.createBuffer(t.publicKeyModulus).toHex(),a=on.util.createBuffer(t.publicKeyExponent).toHex();return Yn.setRsaPublicKey(new Xi(s,16),new Xi(a,16))};Yn.publicKeyToAsn1=Yn.publicKeyToSubjectPublicKeyInfo=function(e){return Ye.create(Ye.Class.UNIVERSAL,Ye.Type.SEQUENCE,!0,[Ye.create(Ye.Class.UNIVERSAL,Ye.Type.SEQUENCE,!0,[Ye.create(Ye.Class.UNIVERSAL,Ye.Type.OID,!1,Ye.oidToDer(Yn.oids.rsaEncryption).getBytes()),Ye.create(Ye.Class.UNIVERSAL,Ye.Type.NULL,!1,"")]),Ye.create(Ye.Class.UNIVERSAL,Ye.Type.BITSTRING,!1,[Yn.publicKeyToRSAPublicKey(e)])])};Yn.publicKeyToRSAPublicKey=function(e){return Ye.create(Ye.Class.UNIVERSAL,Ye.Type.SEQUENCE,!0,[Ye.create(Ye.Class.UNIVERSAL,Ye.Type.INTEGER,!1,dg(e.n)),Ye.create(Ye.Class.UNIVERSAL,Ye.Type.INTEGER,!1,dg(e.e))])};function HRe(e,t,r){var n=on.util.createBuffer(),i=Math.ceil(t.n.bitLength()/8);if(e.length>i-11){var s=new Error("Message is too long for PKCS#1 v1.5 padding.");throw s.length=e.length,s.max=i-11,s}n.putByte(0),n.putByte(r);var a=i-3-e.length,l;if(r===0||r===1){l=r===0?0:255;for(var c=0;c<a;++c)n.putByte(l)}else for(;a>0;){for(var u=0,f=on.random.getBytes(a),c=0;c<a;++c)l=f.charCodeAt(c),l===0?++u:n.putByte(l);a=u}return n.putByte(0),n.putBytes(e),n}o(HRe,"_encodePkcs1_v1_5");function kq(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8),s=on.util.createBuffer(e),a=s.getByte(),l=s.getByte();if(a!==0||r&&l!==0&&l!==1||!r&&l!=2||r&&l===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var c=0;if(l===0){c=i-3-n;for(var u=0;u<c;++u)if(s.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(l===1)for(c=0;s.length()>1;){if(s.getByte()!==255){--s.read;break}++c}else if(l===2)for(c=0;s.length()>1;){if(s.getByte()===0){--s.read;break}++c}var f=s.getByte();if(f!==0||c!==i-3-s.length())throw new Error("Encryption block is invalid.");return s.getBytes()}o(kq,"_decodePkcs1_v1_5");function bEt(e,t,r){typeof t=="function"&&(r=t,t={}),t=t||{};var n={algorithm:{name:t.algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};"prng"in t&&(n.prng=t.prng),i();function i(){s(e.pBits,function(l,c){if(l)return r(l);if(e.p=c,e.q!==null)return a(l,e.q);s(e.qBits,a)})}o(i,"generate");function s(l,c){on.prime.generateProbablePrime(l,n,c)}o(s,"getPrime");function a(l,c){if(l)return r(l);if(e.q=c,e.p.compareTo(e.q)<0){var u=e.p;e.p=e.q,e.q=u}if(e.p.subtract(Xi.ONE).gcd(e.e).compareTo(Xi.ONE)!==0){e.p=null,i();return}if(e.q.subtract(Xi.ONE).gcd(e.e).compareTo(Xi.ONE)!==0){e.q=null,s(e.qBits,a);return}if(e.p1=e.p.subtract(Xi.ONE),e.q1=e.q.subtract(Xi.ONE),e.phi=e.p1.multiply(e.q1),e.phi.gcd(e.e).compareTo(Xi.ONE)!==0){e.p=e.q=null,i();return}if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits){e.q=null,s(e.qBits,a);return}var f=e.e.modInverse(e.phi);e.keys={privateKey:Yn.rsa.setPrivateKey(e.n,e.e,f,e.p,e.q,f.mod(e.p1),f.mod(e.q1),e.q.modInverse(e.p)),publicKey:Yn.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}o(a,"finish")}o(bEt,"_generateKeyPair");function dg(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=on.util.hexToBytes(t);return r.length>1&&(r.charCodeAt(0)===0&&(r.charCodeAt(1)&128)===0||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}o(dg,"_bnToBytes");function EEt(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}o(EEt,"_getMillerRabinTests");function ORe(e){return on.util.isNodejs&&typeof fse[e]=="function"}o(ORe,"_detectNodeCrypto");function URe(e){return typeof Gd.globalScope<"u"&&typeof Gd.globalScope.crypto=="object"&&typeof Gd.globalScope.crypto.subtle=="object"&&typeof Gd.globalScope.crypto.subtle[e]=="function"}o(URe,"_detectSubtleCrypto");function qRe(e){return typeof Gd.globalScope<"u"&&typeof Gd.globalScope.msCrypto=="object"&&typeof Gd.globalScope.msCrypto.subtle=="object"&&typeof Gd.globalScope.msCrypto.subtle[e]=="function"}o(qRe,"_detectSubtleMsCrypto");function WRe(e){for(var t=on.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}o(WRe,"_intToUint8Array")});var dse=j((IVr,KRe)=>{d();var _r=ci();z5();yh();WS();og();Y5();Iq();Px();qd();nse();jS();ao();typeof VRe>"u"&&(VRe=_r.jsbn.BigInteger);var VRe,ht=_r.asn1,oi=_r.pki=_r.pki||{};KRe.exports=oi.pbe=_r.pbe=_r.pbe||{};var Lx=oi.oids,IEt={name:"EncryptedPrivateKeyInfo",tagClass:ht.Class.UNIVERSAL,type:ht.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:ht.Class.UNIVERSAL,type:ht.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:ht.Class.UNIVERSAL,type:ht.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:ht.Class.UNIVERSAL,type:ht.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:ht.Class.UNIVERSAL,type:ht.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},TEt={name:"PBES2Algorithms",tagClass:ht.Class.UNIVERSAL,type:ht.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:ht.Class.UNIVERSAL,type:ht.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:ht.Class.UNIVERSAL,type:ht.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:ht.Class.UNIVERSAL,type:ht.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:ht.Class.UNIVERSAL,type:ht.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:ht.Class.UNIVERSAL,type:ht.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:ht.Class.UNIVERSAL,type:ht.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:ht.Class.UNIVERSAL,type:ht.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:ht.Class.UNIVERSAL,type:ht.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:ht.Class.UNIVERSAL,type:ht.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:ht.Class.UNIVERSAL,type:ht.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:ht.Class.UNIVERSAL,type:ht.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},wEt={name:"pkcs-12PbeParams",tagClass:ht.Class.UNIVERSAL,type:ht.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:ht.Class.UNIVERSAL,type:ht.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:ht.Class.UNIVERSAL,type:ht.Type.INTEGER,constructed:!1,capture:"iterations"}]};oi.encryptPrivateKeyInfo=function(e,t,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=_r.random.getBytesSync(r.saltSize),i=r.count,s=ht.integerToDer(i),a,l,c;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var u,f,m;switch(r.algorithm){case"aes128":a=16,u=16,f=Lx["aes128-CBC"],m=_r.aes.createEncryptionCipher;break;case"aes192":a=24,u=16,f=Lx["aes192-CBC"],m=_r.aes.createEncryptionCipher;break;case"aes256":a=32,u=16,f=Lx["aes256-CBC"],m=_r.aes.createEncryptionCipher;break;case"des":a=8,u=8,f=Lx.desCBC,m=_r.des.createEncryptionCipher;break;default:var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var p="hmacWith"+r.prfAlgorithm.toUpperCase(),g=YRe(p),x=_r.pkcs5.pbkdf2(t,n,i,a,g),v=_r.random.getBytesSync(u),E=m(x);E.start(v),E.update(ht.toDer(e)),E.finish(),c=E.output.getBytes();var b=_Et(n,s,a,p);l=ht.create(ht.Class.UNIVERSAL,ht.Type.SEQUENCE,!0,[ht.create(ht.Class.UNIVERSAL,ht.Type.OID,!1,ht.oidToDer(Lx.pkcs5PBES2).getBytes()),ht.create(ht.Class.UNIVERSAL,ht.Type.SEQUENCE,!0,[ht.create(ht.Class.UNIVERSAL,ht.Type.SEQUENCE,!0,[ht.create(ht.Class.UNIVERSAL,ht.Type.OID,!1,ht.oidToDer(Lx.pkcs5PBKDF2).getBytes()),b]),ht.create(ht.Class.UNIVERSAL,ht.Type.SEQUENCE,!0,[ht.create(ht.Class.UNIVERSAL,ht.Type.OID,!1,ht.oidToDer(f).getBytes()),ht.create(ht.Class.UNIVERSAL,ht.Type.OCTETSTRING,!1,v)])])])}else if(r.algorithm==="3des"){a=24;var _=new _r.util.ByteBuffer(n),x=oi.pbe.generatePkcs12Key(t,_,1,i,a),v=oi.pbe.generatePkcs12Key(t,_,2,i,a),E=_r.des.createEncryptionCipher(x);E.start(v),E.update(ht.toDer(e)),E.finish(),c=E.output.getBytes(),l=ht.create(ht.Class.UNIVERSAL,ht.Type.SEQUENCE,!0,[ht.create(ht.Class.UNIVERSAL,ht.Type.OID,!1,ht.oidToDer(Lx["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),ht.create(ht.Class.UNIVERSAL,ht.Type.SEQUENCE,!0,[ht.create(ht.Class.UNIVERSAL,ht.Type.OCTETSTRING,!1,n),ht.create(ht.Class.UNIVERSAL,ht.Type.INTEGER,!1,s.getBytes())])])}else{var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var R=ht.create(ht.Class.UNIVERSAL,ht.Type.SEQUENCE,!0,[l,ht.create(ht.Class.UNIVERSAL,ht.Type.OCTETSTRING,!1,c)]);return R};oi.decryptPrivateKeyInfo=function(e,t){var r=null,n={},i=[];if(!ht.validate(e,IEt,n,i)){var s=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var a=ht.derToOid(n.encryptionOid),l=oi.pbe.getCipher(a,n.encryptionParams,t),c=_r.util.createBuffer(n.encryptedData);return l.update(c),l.finish()&&(r=ht.fromDer(l.output)),r};oi.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:ht.toDer(e).getBytes()};return _r.pem.encode(r,{maxline:t})};oi.encryptedPrivateKeyFromPem=function(e){var t=_r.pem.decode(e)[0];if(t.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return ht.fromDer(t.body)};oi.encryptRsaPrivateKey=function(e,t,r){if(r=r||{},!r.legacy){var n=oi.wrapRsaPrivateKey(oi.privateKeyToAsn1(e));return n=oi.encryptPrivateKeyInfo(n,t,r),oi.encryptedPrivateKeyToPem(n)}var i,s,a,l;switch(r.algorithm){case"aes128":i="AES-128-CBC",a=16,s=_r.random.getBytesSync(16),l=_r.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",a=24,s=_r.random.getBytesSync(16),l=_r.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",a=32,s=_r.random.getBytesSync(16),l=_r.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",a=24,s=_r.random.getBytesSync(8),l=_r.des.createEncryptionCipher;break;case"des":i="DES-CBC",a=8,s=_r.random.getBytesSync(8),l=_r.des.createEncryptionCipher;break;default:var c=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw c.algorithm=r.algorithm,c}var u=_r.pbe.opensslDeriveBytes(t,s.substr(0,8),a),f=l(u);f.start(s),f.update(ht.toDer(oi.privateKeyToAsn1(e))),f.finish();var m={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:_r.util.bytesToHex(s).toUpperCase()},body:f.output.getBytes()};return _r.pem.encode(m)};oi.decryptRsaPrivateKey=function(e,t){var r=null,n=_r.pem.decode(e)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var s,a;switch(n.dekInfo.algorithm){case"DES-CBC":s=8,a=_r.des.createDecryptionCipher;break;case"DES-EDE3-CBC":s=24,a=_r.des.createDecryptionCipher;break;case"AES-128-CBC":s=16,a=_r.aes.createDecryptionCipher;break;case"AES-192-CBC":s=24,a=_r.aes.createDecryptionCipher;break;case"AES-256-CBC":s=32,a=_r.aes.createDecryptionCipher;break;case"RC2-40-CBC":s=5,a=o(function(m){return _r.rc2.createDecryptionCipher(m,40)},"cipherFn");break;case"RC2-64-CBC":s=8,a=o(function(m){return _r.rc2.createDecryptionCipher(m,64)},"cipherFn");break;case"RC2-128-CBC":s=16,a=o(function(m){return _r.rc2.createDecryptionCipher(m,128)},"cipherFn");break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var l=_r.util.hexToBytes(n.dekInfo.parameters),c=_r.pbe.opensslDeriveBytes(t,l.substr(0,8),s),u=a(c);if(u.start(l),u.update(_r.util.createBuffer(n.body)),u.finish())r=u.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=oi.decryptPrivateKeyInfo(ht.fromDer(r),t):r=ht.fromDer(r),r!==null&&(r=oi.privateKeyFromAsn1(r)),r};oi.pbe.generatePkcs12Key=function(e,t,r,n,i,s){var a,l;if(typeof s>"u"||s===null){if(!("sha1"in _r.md))throw new Error('"sha1" hash algorithm unavailable.');s=_r.md.sha1.create()}var c=s.digestLength,u=s.blockLength,f=new _r.util.ByteBuffer,m=new _r.util.ByteBuffer;if(e!=null){for(l=0;l<e.length;l++)m.putInt16(e.charCodeAt(l));m.putInt16(0)}var h=m.length(),p=t.length(),g=new _r.util.ByteBuffer;g.fillWithByte(r,u);var x=u*Math.ceil(p/u),v=new _r.util.ByteBuffer;for(l=0;l<x;l++)v.putByte(t.at(l%p));var E=u*Math.ceil(h/u),b=new _r.util.ByteBuffer;for(l=0;l<E;l++)b.putByte(m.at(l%h));var _=v;_.putBuffer(b);for(var R=Math.ceil(i/c),P=1;P<=R;P++){var F=new _r.util.ByteBuffer;F.putBytes(g.bytes()),F.putBytes(_.bytes());for(var G=0;G<n;G++)s.start(),s.update(F.getBytes()),F=s.digest();var se=new _r.util.ByteBuffer;for(l=0;l<u;l++)se.putByte(F.at(l%c));var Ae=Math.ceil(p/u)+Math.ceil(h/u),re=new _r.util.ByteBuffer;for(a=0;a<Ae;a++){var W=new _r.util.ByteBuffer(_.getBytes(u)),q=511;for(l=se.length()-1;l>=0;l--)q=q>>8,q+=se.at(l)+W.at(l),W.setAt(l,q&255);re.putBuffer(W)}_=re,f.putBuffer(F)}return f.truncate(f.length()-i),f};oi.pbe.getCipher=function(e,t,r){switch(e){case oi.oids.pkcs5PBES2:return oi.pbe.getCipherForPBES2(e,t,r);case oi.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case oi.oids["pbewithSHAAnd40BitRC2-CBC"]:return oi.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};oi.pbe.getCipherForPBES2=function(e,t,r){var n={},i=[];if(!ht.validate(t,TEt,n,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}if(e=ht.derToOid(n.kdfOid),e!==oi.oids.pkcs5PBKDF2){var s=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw s.oid=e,s.supportedOids=["pkcs5PBKDF2"],s}if(e=ht.derToOid(n.encOid),e!==oi.oids["aes128-CBC"]&&e!==oi.oids["aes192-CBC"]&&e!==oi.oids["aes256-CBC"]&&e!==oi.oids["des-EDE3-CBC"]&&e!==oi.oids.desCBC){var s=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw s.oid=e,s.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],s}var a=n.kdfSalt,l=_r.util.createBuffer(n.kdfIterationCount);l=l.getInt(l.length()<<3);var c,u;switch(oi.oids[e]){case"aes128-CBC":c=16,u=_r.aes.createDecryptionCipher;break;case"aes192-CBC":c=24,u=_r.aes.createDecryptionCipher;break;case"aes256-CBC":c=32,u=_r.aes.createDecryptionCipher;break;case"des-EDE3-CBC":c=24,u=_r.des.createDecryptionCipher;break;case"desCBC":c=8,u=_r.des.createDecryptionCipher;break}var f=zRe(n.prfOid),m=_r.pkcs5.pbkdf2(r,a,l,c,f),h=n.encIv,p=u(m);return p.start(h),p};oi.pbe.getCipherForPKCS12PBE=function(e,t,r){var n={},i=[];if(!ht.validate(t,wEt,n,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var a=_r.util.createBuffer(n.salt),l=_r.util.createBuffer(n.iterations);l=l.getInt(l.length()<<3);var c,u,f;switch(e){case oi.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:c=24,u=8,f=_r.des.startDecrypting;break;case oi.oids["pbewithSHAAnd40BitRC2-CBC"]:c=5,u=8,f=o(function(x,v){var E=_r.rc2.createDecryptionCipher(x,40);return E.start(v,null),E},"cipherFn");break;default:var s=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw s.oid=e,s}var m=zRe(n.prfOid),h=oi.pbe.generatePkcs12Key(r,a,1,l,c,m);m.start();var p=oi.pbe.generatePkcs12Key(r,a,2,l,u,m);return f(h,p)};oi.pbe.opensslDeriveBytes=function(e,t,r,n){if(typeof n>"u"||n===null){if(!("md5"in _r.md))throw new Error('"md5" hash algorithm unavailable.');n=_r.md.md5.create()}t===null&&(t="");for(var i=[$Re(n,e+t)],s=16,a=1;s<r;++a,s+=16)i.push($Re(n,i[a-1]+e+t));return i.join("").substr(0,r)};function $Re(e,t){return e.start().update(t).digest().getBytes()}o($Re,"hash");function zRe(e){var t;if(!e)t="hmacWithSHA1";else if(t=oi.oids[ht.derToOid(e)],!t){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return YRe(t)}o(zRe,"prfOidToMessageDigest");function YRe(e){var t=_r.md;switch(e){case"hmacWithSHA224":t=_r.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}o(YRe,"prfAlgorithmToMessageDigest");function _Et(e,t,r,n){var i=ht.create(ht.Class.UNIVERSAL,ht.Type.SEQUENCE,!0,[ht.create(ht.Class.UNIVERSAL,ht.Type.OCTETSTRING,!1,e),ht.create(ht.Class.UNIVERSAL,ht.Type.INTEGER,!1,t.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(ht.create(ht.Class.UNIVERSAL,ht.Type.INTEGER,!1,_r.util.hexToBytes(r.toString(16))),ht.create(ht.Class.UNIVERSAL,ht.Type.SEQUENCE,!0,[ht.create(ht.Class.UNIVERSAL,ht.Type.OID,!1,ht.oidToDer(oi.oids[n]).getBytes()),ht.create(ht.Class.UNIVERSAL,ht.Type.NULL,!1,"")])),i}o(_Et,"createPbkdf2Params")});var mse=j((_Vr,XRe)=>{d();var x6=ci();yh();ao();var Er=x6.asn1,v6=XRe.exports=x6.pkcs7asn1=x6.pkcs7asn1||{};x6.pkcs7=x6.pkcs7||{};x6.pkcs7.asn1=v6;var JRe={name:"ContentInfo",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:Er.Class.UNIVERSAL,type:Er.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:Er.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};v6.contentInfoValidator=JRe;var ZRe={name:"EncryptedContentInfo",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:Er.Class.UNIVERSAL,type:Er.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:Er.Class.UNIVERSAL,type:Er.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:Er.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:Er.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};v6.envelopedDataValidator={name:"EnvelopedData",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:Er.Class.UNIVERSAL,type:Er.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(ZRe)};v6.encryptedDataValidator={name:"EncryptedData",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:Er.Class.UNIVERSAL,type:Er.Type.INTEGER,constructed:!1,capture:"version"}].concat(ZRe)};var SEt={name:"SignerInfo",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:Er.Class.UNIVERSAL,type:Er.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:Er.Class.UNIVERSAL,type:Er.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:Er.Class.UNIVERSAL,type:Er.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:Er.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:Er.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:Er.Class.UNIVERSAL,type:Er.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:Er.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};v6.signedDataValidator={name:"SignedData",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:Er.Class.UNIVERSAL,type:Er.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},JRe,{name:"SignedData.Certificates",tagClass:Er.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:Er.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SET,capture:"signerInfos",optional:!0,value:[SEt]}]};v6.recipientInfoValidator={name:"RecipientInfo",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:Er.Class.UNIVERSAL,type:Er.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:Er.Class.UNIVERSAL,type:Er.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:Er.Class.UNIVERSAL,type:Er.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:Er.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:Er.Class.UNIVERSAL,type:Er.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}});var hse=j((kVr,eBe)=>{d();var Qx=ci();ao();Qx.mgf=Qx.mgf||{};var kEt=eBe.exports=Qx.mgf.mgf1=Qx.mgf1=Qx.mgf1||{};kEt.create=function(e){var t={generate:o(function(r,n){for(var i=new Qx.util.ByteBuffer,s=Math.ceil(n/e.digestLength),a=0;a<s;a++){var l=new Qx.util.ByteBuffer;l.putInt32(a),e.start(),e.update(r+l.getBytes()),i.putBuffer(e.digest())}return i.truncate(i.length()-n),i.getBytes()},"generate")};return t}});var rBe=j((DVr,tBe)=>{d();var Rq=ci();hse();tBe.exports=Rq.mgf=Rq.mgf||{};Rq.mgf.mgf1=Rq.mgf1});var Bq=j((FVr,nBe)=>{d();var Mx=ci();qd();ao();var REt=nBe.exports=Mx.pss=Mx.pss||{};REt.create=function(e){arguments.length===3&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t=e.md,r=e.mgf,n=t.digestLength,i=e.salt||null;typeof i=="string"&&(i=Mx.util.createBuffer(i));var s;if("saltLength"in e)s=e.saltLength;else if(i!==null)s=i.length();else throw new Error("Salt length not specified or specific salt not given.");if(i!==null&&i.length()!==s)throw new Error("Given salt length does not match length of given salt.");var a=e.prng||Mx.random,l={};return l.encode=function(c,u){var f,m=u-1,h=Math.ceil(m/8),p=c.digest().getBytes();if(h<n+s+2)throw new Error("Message is too long to encrypt.");var g;i===null?g=a.getBytesSync(s):g=i.bytes();var x=new Mx.util.ByteBuffer;x.fillWithByte(0,8),x.putBytes(p),x.putBytes(g),t.start(),t.update(x.getBytes());var v=t.digest().getBytes(),E=new Mx.util.ByteBuffer;E.fillWithByte(0,h-s-n-2),E.putByte(1),E.putBytes(g);var b=E.getBytes(),_=h-n-1,R=r.generate(v,_),P="";for(f=0;f<_;f++)P+=String.fromCharCode(b.charCodeAt(f)^R.charCodeAt(f));var F=65280>>8*h-m&255;return P=String.fromCharCode(P.charCodeAt(0)&~F)+P.substr(1),P+v+"\xBC"},l.verify=function(c,u,f){var m,h=f-1,p=Math.ceil(h/8);if(u=u.substr(-p),p<n+s+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(u.charCodeAt(p-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var g=p-n-1,x=u.substr(0,g),v=u.substr(g,n),E=65280>>8*p-h&255;if((x.charCodeAt(0)&E)!==0)throw new Error("Bits beyond keysize not zero as expected.");var b=r.generate(v,g),_="";for(m=0;m<g;m++)_+=String.fromCharCode(x.charCodeAt(m)^b.charCodeAt(m));_=String.fromCharCode(_.charCodeAt(0)&~E)+_.substr(1);var R=p-n-s-2;for(m=0;m<R;m++)if(_.charCodeAt(m)!==0)throw new Error("Leftmost octets not zero as expected");if(_.charCodeAt(R)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var P=_.substr(-s),F=new Mx.util.ByteBuffer;F.fillWithByte(0,8),F.putBytes(c),F.putBytes(P),t.start(),t.update(F.getBytes());var G=t.digest().getBytes();return v===G},l}});var Fq=j((LVr,lBe)=>{d();var sn=ci();z5();yh();WS();og();rBe();Y5();Px();Bq();jS();ao();var $=sn.asn1,or=lBe.exports=sn.pki=sn.pki||{},eo=or.oids,la={};la.CN=eo.commonName;la.commonName="CN";la.C=eo.countryName;la.countryName="C";la.L=eo.localityName;la.localityName="L";la.ST=eo.stateOrProvinceName;la.stateOrProvinceName="ST";la.O=eo.organizationName;la.organizationName="O";la.OU=eo.organizationalUnitName;la.organizationalUnitName="OU";la.E=eo.emailAddress;la.emailAddress="E";var oBe=sn.pki.rsa.publicKeyValidator,BEt={name:"Certificate",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:$.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:$.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:$.Class.UNIVERSAL,type:$.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:$.Class.UNIVERSAL,type:$.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:$.Class.UNIVERSAL,type:$.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:$.Class.UNIVERSAL,type:$.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},oBe,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:$.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:$.Class.UNIVERSAL,type:$.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:$.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:$.Class.UNIVERSAL,type:$.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:$.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:$.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:$.Class.UNIVERSAL,type:$.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},DEt={name:"rsapss",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:$.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:$.Class.UNIVERSAL,type:$.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:$.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:$.Class.UNIVERSAL,type:$.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:$.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:$.Class.UNIVERSAL,type:$.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:$.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:$.Class.UNIVERSAL,type:$.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},PEt={name:"CertificationRequestInfo",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},oBe,{name:"CertificationRequestInfo.attributes",tagClass:$.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:$.Class.UNIVERSAL,type:$.Type.SET,constructed:!0}]}]}]},FEt={name:"CertificationRequest",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[PEt,{name:"CertificationRequest.signatureAlgorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:$.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:$.Class.UNIVERSAL,type:$.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};or.RDNAttributesAsArray=function(e,t){for(var r=[],n,i,s,a=0;a<e.value.length;++a){n=e.value[a];for(var l=0;l<n.value.length;++l)s={},i=n.value[l],s.type=$.derToOid(i.value[0].value),s.value=i.value[1].value,s.valueTagClass=i.value[1].type,s.type in eo&&(s.name=eo[s.type],s.name in la&&(s.shortName=la[s.name])),t&&(t.update(s.type),t.update(s.value)),r.push(s)}return r};or.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],i=$.derToOid(n.value[0].value),s=n.value[1].value,a=0;a<s.length;++a){var l={};if(l.type=i,l.value=s[a].value,l.valueTagClass=s[a].type,l.type in eo&&(l.name=eo[l.type],l.name in la&&(l.shortName=la[l.name])),l.type===eo.extensionRequest){l.extensions=[];for(var c=0;c<l.value.length;++c)l.extensions.push(or.certificateExtensionFromAsn1(l.value[c]))}t.push(l)}return t};function Z5(e,t){typeof t=="string"&&(t={shortName:t});for(var r=null,n,i=0;r===null&&i<e.attributes.length;++i)n=e.attributes[i],(t.type&&t.type===n.type||t.name&&t.name===n.name||t.shortName&&t.shortName===n.shortName)&&(r=n);return r}o(Z5,"_getAttribute");var Dq=o(function(e,t,r){var n={};if(e!==eo["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:eo.sha1},mgf:{algorithmOid:eo.mgf1,hash:{algorithmOid:eo.sha1}},saltLength:20});var i={},s=[];if(!$.validate(t,DEt,i,s)){var a=new Error("Cannot read RSASSA-PSS parameter block.");throw a.errors=s,a}return i.hashOid!==void 0&&(n.hash=n.hash||{},n.hash.algorithmOid=$.derToOid(i.hashOid)),i.maskGenOid!==void 0&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=$.derToOid(i.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=$.derToOid(i.maskGenHashOid)),i.saltLength!==void 0&&(n.saltLength=i.saltLength.charCodeAt(0)),n},"_readSignatureParameters"),Pq=o(function(e){switch(eo[e.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return sn.md.sha1.create();case"md5WithRSAEncryption":return sn.md.md5.create();case"sha256WithRSAEncryption":return sn.md.sha256.create();case"sha384WithRSAEncryption":return sn.md.sha384.create();case"sha512WithRSAEncryption":return sn.md.sha512.create();case"RSASSA-PSS":return sn.md.sha256.create();default:var t=new Error("Could not compute "+e.type+" digest. Unknown signature OID.");throw t.signatureOid=e.signatureOid,t}},"_createSignatureDigest"),sBe=o(function(e){var t=e.certificate,r;switch(t.signatureOid){case eo.sha1WithRSAEncryption:case eo.sha1WithRSASignature:break;case eo["RSASSA-PSS"]:var n,i;if(n=eo[t.signatureParameters.mgf.hash.algorithmOid],n===void 0||sn.md[n]===void 0){var s=new Error("Unsupported MGF hash function.");throw s.oid=t.signatureParameters.mgf.hash.algorithmOid,s.name=n,s}if(i=eo[t.signatureParameters.mgf.algorithmOid],i===void 0||sn.mgf[i]===void 0){var s=new Error("Unsupported MGF function.");throw s.oid=t.signatureParameters.mgf.algorithmOid,s.name=i,s}if(i=sn.mgf[i].create(sn.md[n].create()),n=eo[t.signatureParameters.hash.algorithmOid],n===void 0||sn.md[n]===void 0){var s=new Error("Unsupported RSASSA-PSS hash function.");throw s.oid=t.signatureParameters.hash.algorithmOid,s.name=n,s}r=sn.pss.create(sn.md[n].create(),i,t.signatureParameters.saltLength);break}return t.publicKey.verify(e.md.digest().getBytes(),e.signature,r)},"_verifySignature");or.certificateFromPem=function(e,t,r){var n=sn.pem.decode(e)[0];if(n.type!=="CERTIFICATE"&&n.type!=="X509 CERTIFICATE"&&n.type!=="TRUSTED CERTIFICATE"){var i=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var s=$.fromDer(n.body,r);return or.certificateFromAsn1(s,t)};or.certificateToPem=function(e,t){var r={type:"CERTIFICATE",body:$.toDer(or.certificateToAsn1(e)).getBytes()};return sn.pem.encode(r,{maxline:t})};or.publicKeyFromPem=function(e){var t=sn.pem.decode(e)[0];if(t.type!=="PUBLIC KEY"&&t.type!=="RSA PUBLIC KEY"){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=$.fromDer(t.body);return or.publicKeyFromAsn1(n)};or.publicKeyToPem=function(e,t){var r={type:"PUBLIC KEY",body:$.toDer(or.publicKeyToAsn1(e)).getBytes()};return sn.pem.encode(r,{maxline:t})};or.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:"RSA PUBLIC KEY",body:$.toDer(or.publicKeyToRSAPublicKey(e)).getBytes()};return sn.pem.encode(r,{maxline:t})};or.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||sn.md.sha1.create(),n=t.type||"RSAPublicKey",i;switch(n){case"RSAPublicKey":i=$.toDer(or.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":i=$.toDer(or.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}r.start(),r.update(i);var s=r.digest();if(t.encoding==="hex"){var a=s.toHex();return t.delimiter?a.match(/.{2}/g).join(t.delimiter):a}else{if(t.encoding==="binary")return s.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return s};or.certificationRequestFromPem=function(e,t,r){var n=sn.pem.decode(e)[0];if(n.type!=="CERTIFICATE REQUEST"){var i=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var s=$.fromDer(n.body,r);return or.certificationRequestFromAsn1(s,t)};or.certificationRequestToPem=function(e,t){var r={type:"CERTIFICATE REQUEST",body:$.toDer(or.certificationRequestToAsn1(e)).getBytes()};return sn.pem.encode(r,{maxline:t})};or.createCertificate=function(){var e={};return e.version=2,e.serialNumber="00",e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return Z5(e.issuer,t)},e.issuer.addField=function(t){Hd([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return Z5(e.subject,t)},e.subject.addField=function(t){Hd([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){Hd(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){Hd(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)aBe(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){typeof t=="string"&&(t={name:t});for(var r=null,n,i=0;r===null&&i<e.extensions.length;++i)n=e.extensions[i],(t.id&&n.id===t.id||t.name&&n.name===t.name)&&(r=n);return r},e.sign=function(t,r){e.md=r||sn.md.sha1.create();var n=eo[e.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw i.algorithm=e.md.algorithm,i}e.signatureOid=e.siginfo.algorithmOid=n,e.tbsCertificate=or.getTBSCertificate(e);var s=$.toDer(e.tbsCertificate);e.md.update(s.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var n=t.issuer,i=e.subject,s=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw s.expectedIssuer=i.attributes,s.actualIssuer=n.attributes,s}var a=t.md;if(a===null){a=Pq({signatureOid:t.signatureOid,type:"certificate"});var l=t.tbsCertificate||or.getTBSCertificate(t),c=$.toDer(l);a.update(c.getBytes())}return a!==null&&(r=sBe({certificate:e,md:a,signature:t.signature})),r},e.isIssuer=function(t){var r=!1,n=e.issuer,i=t.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){r=!0;for(var s,a,l=0;r&&l<n.attributes.length;++l)s=n.attributes[l],a=i.attributes[l],(s.type!==a.type||s.value!==a.value)&&(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return or.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=eo.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var n=e.extensions[r];if(n.id===t){var i=e.generateSubjectKeyIdentifier().getBytes();return sn.util.hexToBytes(n.subjectKeyIdentifier)===i}}return!1},e};or.certificateFromAsn1=function(e,t){var r={},n=[];if(!$.validate(e,BEt,r,n)){var i=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw i.errors=n,i}var s=$.derToOid(r.publicKeyOid);if(s!==or.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=or.createCertificate();a.version=r.certVersion?r.certVersion.charCodeAt(0):0;var l=sn.util.createBuffer(r.certSerialNumber);a.serialNumber=l.toHex(),a.signatureOid=sn.asn1.derToOid(r.certSignatureOid),a.signatureParameters=Dq(a.signatureOid,r.certSignatureParams,!0),a.siginfo.algorithmOid=sn.asn1.derToOid(r.certinfoSignatureOid),a.siginfo.parameters=Dq(a.siginfo.algorithmOid,r.certinfoSignatureParams,!1),a.signature=r.certSignature;var c=[];if(r.certValidity1UTCTime!==void 0&&c.push($.utcTimeToDate(r.certValidity1UTCTime)),r.certValidity2GeneralizedTime!==void 0&&c.push($.generalizedTimeToDate(r.certValidity2GeneralizedTime)),r.certValidity3UTCTime!==void 0&&c.push($.utcTimeToDate(r.certValidity3UTCTime)),r.certValidity4GeneralizedTime!==void 0&&c.push($.generalizedTimeToDate(r.certValidity4GeneralizedTime)),c.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(c.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(a.validity.notBefore=c[0],a.validity.notAfter=c[1],a.tbsCertificate=r.tbsCertificate,t){a.md=Pq({signatureOid:a.signatureOid,type:"certificate"});var u=$.toDer(a.tbsCertificate);a.md.update(u.getBytes())}var f=sn.md.sha1.create(),m=$.toDer(r.certIssuer);f.update(m.getBytes()),a.issuer.getField=function(g){return Z5(a.issuer,g)},a.issuer.addField=function(g){Hd([g]),a.issuer.attributes.push(g)},a.issuer.attributes=or.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(a.issuer.uniqueId=r.certIssuerUniqueId),a.issuer.hash=f.digest().toHex();var h=sn.md.sha1.create(),p=$.toDer(r.certSubject);return h.update(p.getBytes()),a.subject.getField=function(g){return Z5(a.subject,g)},a.subject.addField=function(g){Hd([g]),a.subject.attributes.push(g)},a.subject.attributes=or.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(a.subject.uniqueId=r.certSubjectUniqueId),a.subject.hash=h.digest().toHex(),r.certExtensions?a.extensions=or.certificateExtensionsFromAsn1(r.certExtensions):a.extensions=[],a.publicKey=or.publicKeyFromAsn1(r.subjectPublicKeyInfo),a};or.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var n=e.value[r],i=0;i<n.value.length;++i)t.push(or.certificateExtensionFromAsn1(n.value[i]));return t};or.certificateExtensionFromAsn1=function(e){var t={};if(t.id=$.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===$.Type.BOOLEAN?(t.critical=e.value[1].value.charCodeAt(0)!==0,t.value=e.value[2].value):t.value=e.value[1].value,t.id in eo){if(t.name=eo[t.id],t.name==="keyUsage"){var r=$.fromDer(t.value),n=0,i=0;r.value.length>1&&(n=r.value.charCodeAt(1),i=r.value.length>2?r.value.charCodeAt(2):0),t.digitalSignature=(n&128)===128,t.nonRepudiation=(n&64)===64,t.keyEncipherment=(n&32)===32,t.dataEncipherment=(n&16)===16,t.keyAgreement=(n&8)===8,t.keyCertSign=(n&4)===4,t.cRLSign=(n&2)===2,t.encipherOnly=(n&1)===1,t.decipherOnly=(i&128)===128}else if(t.name==="basicConstraints"){var r=$.fromDer(t.value);r.value.length>0&&r.value[0].type===$.Type.BOOLEAN?t.cA=r.value[0].value.charCodeAt(0)!==0:t.cA=!1;var s=null;r.value.length>0&&r.value[0].type===$.Type.INTEGER?s=r.value[0].value:r.value.length>1&&(s=r.value[1].value),s!==null&&(t.pathLenConstraint=$.derToInteger(s))}else if(t.name==="extKeyUsage")for(var r=$.fromDer(t.value),a=0;a<r.value.length;++a){var l=$.derToOid(r.value[a].value);l in eo?t[eo[l]]=!0:t[l]=!0}else if(t.name==="nsCertType"){var r=$.fromDer(t.value),n=0;r.value.length>1&&(n=r.value.charCodeAt(1)),t.client=(n&128)===128,t.server=(n&64)===64,t.email=(n&32)===32,t.objsign=(n&16)===16,t.reserved=(n&8)===8,t.sslCA=(n&4)===4,t.emailCA=(n&2)===2,t.objCA=(n&1)===1}else if(t.name==="subjectAltName"||t.name==="issuerAltName"){t.altNames=[];for(var c,r=$.fromDer(t.value),u=0;u<r.value.length;++u){c=r.value[u];var f={type:c.type,value:c.value};switch(t.altNames.push(f),c.type){case 1:case 2:case 6:break;case 7:f.ip=sn.util.bytesToIP(c.value);break;case 8:f.oid=$.derToOid(c.value);break;default:}}}else if(t.name==="subjectKeyIdentifier"){var r=$.fromDer(t.value);t.subjectKeyIdentifier=sn.util.bytesToHex(r.value)}}return t};or.certificationRequestFromAsn1=function(e,t){var r={},n=[];if(!$.validate(e,FEt,r,n)){var i=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw i.errors=n,i}var s=$.derToOid(r.publicKeyOid);if(s!==or.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=or.createCertificationRequest();if(a.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,a.signatureOid=sn.asn1.derToOid(r.csrSignatureOid),a.signatureParameters=Dq(a.signatureOid,r.csrSignatureParams,!0),a.siginfo.algorithmOid=sn.asn1.derToOid(r.csrSignatureOid),a.siginfo.parameters=Dq(a.siginfo.algorithmOid,r.csrSignatureParams,!1),a.signature=r.csrSignature,a.certificationRequestInfo=r.certificationRequestInfo,t){a.md=Pq({signatureOid:a.signatureOid,type:"certification request"});var l=$.toDer(a.certificationRequestInfo);a.md.update(l.getBytes())}var c=sn.md.sha1.create();return a.subject.getField=function(u){return Z5(a.subject,u)},a.subject.addField=function(u){Hd([u]),a.subject.attributes.push(u)},a.subject.attributes=or.RDNAttributesAsArray(r.certificationRequestInfoSubject,c),a.subject.hash=c.digest().toHex(),a.publicKey=or.publicKeyFromAsn1(r.subjectPublicKeyInfo),a.getAttribute=function(u){return Z5(a,u)},a.addAttribute=function(u){Hd([u]),a.attributes.push(u)},a.attributes=or.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),a};or.createCertificationRequest=function(){var e={};return e.version=0,e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return Z5(e.subject,t)},e.subject.addField=function(t){Hd([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return Z5(e,t)},e.addAttribute=function(t){Hd([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){Hd(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){Hd(t),e.attributes=t},e.sign=function(t,r){e.md=r||sn.md.sha1.create();var n=eo[e.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw i.algorithm=e.md.algorithm,i}e.signatureOid=e.siginfo.algorithmOid=n,e.certificationRequestInfo=or.getCertificationRequestInfo(e);var s=$.toDer(e.certificationRequestInfo);e.md.update(s.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(r===null){r=Pq({signatureOid:e.signatureOid,type:"certification request"});var n=e.certificationRequestInfo||or.getCertificationRequestInfo(e),i=$.toDer(n);r.update(i.getBytes())}return r!==null&&(t=sBe({certificate:e,md:r,signature:e.signature})),t},e};function b6(e){for(var t=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]),r,n,i=e.attributes,s=0;s<i.length;++s){r=i[s];var a=r.value,l=$.Type.PRINTABLESTRING;"valueTagClass"in r&&(l=r.valueTagClass,l===$.Type.UTF8&&(a=sn.util.encodeUtf8(a))),n=$.create($.Class.UNIVERSAL,$.Type.SET,!0,[$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(r.type).getBytes()),$.create($.Class.UNIVERSAL,l,!1,a)])]),t.value.push(n)}return t}o(b6,"_dnToAsn1");function Hd(e){for(var t,r=0;r<e.length;++r){if(t=e[r],typeof t.name>"u"&&(t.type&&t.type in or.oids?t.name=or.oids[t.type]:t.shortName&&t.shortName in la&&(t.name=or.oids[la[t.shortName]])),typeof t.type>"u")if(t.name&&t.name in or.oids)t.type=or.oids[t.name];else{var n=new Error("Attribute type not specified.");throw n.attribute=t,n}if(typeof t.shortName>"u"&&t.name&&t.name in la&&(t.shortName=la[t.name]),t.type===eo.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=$.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var i=0;i<t.extensions.length;++i)t.value.push(or.certificateExtensionToAsn1(aBe(t.extensions[i])))}if(typeof t.value>"u"){var n=new Error("Attribute value not specified.");throw n.attribute=t,n}}}o(Hd,"_fillMissingFields");function aBe(e,t){if(t=t||{},typeof e.name>"u"&&e.id&&e.id in or.oids&&(e.name=or.oids[e.id]),typeof e.id>"u")if(e.name&&e.name in or.oids)e.id=or.oids[e.name];else{var r=new Error("Extension ID not specified.");throw r.extension=e,r}if(typeof e.value<"u")return e;if(e.name==="keyUsage"){var n=0,i=0,s=0;e.digitalSignature&&(i|=128,n=7),e.nonRepudiation&&(i|=64,n=6),e.keyEncipherment&&(i|=32,n=5),e.dataEncipherment&&(i|=16,n=4),e.keyAgreement&&(i|=8,n=3),e.keyCertSign&&(i|=4,n=2),e.cRLSign&&(i|=2,n=1),e.encipherOnly&&(i|=1,n=0),e.decipherOnly&&(s|=128,n=7);var a=String.fromCharCode(n);s!==0?a+=String.fromCharCode(i)+String.fromCharCode(s):i!==0&&(a+=String.fromCharCode(i)),e.value=$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,a)}else if(e.name==="basicConstraints")e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push($.create($.Class.UNIVERSAL,$.Type.BOOLEAN,!1,"\xFF")),"pathLenConstraint"in e&&e.value.value.push($.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(e.pathLenConstraint).getBytes()));else if(e.name==="extKeyUsage"){e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);var l=e.value.value;for(var c in e)e[c]===!0&&(c in eo?l.push($.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(eo[c]).getBytes())):c.indexOf(".")!==-1&&l.push($.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(c).getBytes())))}else if(e.name==="nsCertType"){var n=0,i=0;e.client&&(i|=128,n=7),e.server&&(i|=64,n=6),e.email&&(i|=32,n=5),e.objsign&&(i|=16,n=4),e.reserved&&(i|=8,n=3),e.sslCA&&(i|=4,n=2),e.emailCA&&(i|=2,n=1),e.objCA&&(i|=1,n=0);var a=String.fromCharCode(n);i!==0&&(a+=String.fromCharCode(i)),e.value=$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,a)}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);for(var u,f=0;f<e.altNames.length;++f){u=e.altNames[f];var a=u.value;if(u.type===7&&u.ip){if(a=sn.util.bytesFromIP(u.ip),a===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else u.type===8&&(u.oid?a=$.oidToDer($.oidToDer(u.oid)):a=$.oidToDer(a));e.value.value.push($.create($.Class.CONTEXT_SPECIFIC,u.type,!1,a))}}else if(e.name==="nsComment"&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=$.create($.Class.UNIVERSAL,$.Type.IA5STRING,!1,e.comment)}else if(e.name==="subjectKeyIdentifier"&&t.cert){var m=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=m.toHex(),e.value=$.create($.Class.UNIVERSAL,$.Type.OCTETSTRING,!1,m.getBytes())}else if(e.name==="authorityKeyIdentifier"&&t.cert){e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);var l=e.value.value;if(e.keyIdentifier){var h=e.keyIdentifier===!0?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;l.push($.create($.Class.CONTEXT_SPECIFIC,0,!1,h))}if(e.authorityCertIssuer){var p=[$.create($.Class.CONTEXT_SPECIFIC,4,!0,[b6(e.authorityCertIssuer===!0?t.cert.issuer:e.authorityCertIssuer)])];l.push($.create($.Class.CONTEXT_SPECIFIC,1,!0,p))}if(e.serialNumber){var g=sn.util.hexToBytes(e.serialNumber===!0?t.cert.serialNumber:e.serialNumber);l.push($.create($.Class.CONTEXT_SPECIFIC,2,!1,g))}}else if(e.name==="cRLDistributionPoints"){e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);for(var l=e.value.value,x=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]),v=$.create($.Class.CONTEXT_SPECIFIC,0,!0,[]),u,f=0;f<e.altNames.length;++f){u=e.altNames[f];var a=u.value;if(u.type===7&&u.ip){if(a=sn.util.bytesFromIP(u.ip),a===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else u.type===8&&(u.oid?a=$.oidToDer($.oidToDer(u.oid)):a=$.oidToDer(a));v.value.push($.create($.Class.CONTEXT_SPECIFIC,u.type,!1,a))}x.value.push($.create($.Class.CONTEXT_SPECIFIC,0,!0,[v])),l.push(x)}if(typeof e.value>"u"){var r=new Error("Extension value not specified.");throw r.extension=e,r}return e}o(aBe,"_fillMissingExtensionFields");function pse(e,t){switch(e){case eo["RSASSA-PSS"]:var r=[];return t.hash.algorithmOid!==void 0&&r.push($.create($.Class.CONTEXT_SPECIFIC,0,!0,[$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(t.hash.algorithmOid).getBytes()),$.create($.Class.UNIVERSAL,$.Type.NULL,!1,"")])])),t.mgf.algorithmOid!==void 0&&r.push($.create($.Class.CONTEXT_SPECIFIC,1,!0,[$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(t.mgf.algorithmOid).getBytes()),$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(t.mgf.hash.algorithmOid).getBytes()),$.create($.Class.UNIVERSAL,$.Type.NULL,!1,"")])])])),t.saltLength!==void 0&&r.push($.create($.Class.CONTEXT_SPECIFIC,2,!0,[$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(t.saltLength).getBytes())])),$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,r);default:return $.create($.Class.UNIVERSAL,$.Type.NULL,!1,"")}}o(pse,"_signatureParametersToAsn1");function NEt(e){var t=$.create($.Class.CONTEXT_SPECIFIC,0,!0,[]);if(e.attributes.length===0)return t;for(var r=e.attributes,n=0;n<r.length;++n){var i=r[n],s=i.value,a=$.Type.UTF8;"valueTagClass"in i&&(a=i.valueTagClass),a===$.Type.UTF8&&(s=sn.util.encodeUtf8(s));var l=!1;"valueConstructed"in i&&(l=i.valueConstructed);var c=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(i.type).getBytes()),$.create($.Class.UNIVERSAL,$.Type.SET,!0,[$.create($.Class.UNIVERSAL,a,l,s)])]);t.value.push(c)}return t}o(NEt,"_CRIAttributesToAsn1");var LEt=new Date("1950-01-01T00:00:00Z"),QEt=new Date("2050-01-01T00:00:00Z");function iBe(e){return e>=LEt&&e<QEt?$.create($.Class.UNIVERSAL,$.Type.UTCTIME,!1,$.dateToUtcTime(e)):$.create($.Class.UNIVERSAL,$.Type.GENERALIZEDTIME,!1,$.dateToGeneralizedTime(e))}o(iBe,"_dateToAsn1");or.getTBSCertificate=function(e){var t=iBe(e.validity.notBefore),r=iBe(e.validity.notAfter),n=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.CONTEXT_SPECIFIC,0,!0,[$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(e.version).getBytes())]),$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,sn.util.hexToBytes(e.serialNumber)),$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(e.siginfo.algorithmOid).getBytes()),pse(e.siginfo.algorithmOid,e.siginfo.parameters)]),b6(e.issuer),$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[t,r]),b6(e.subject),or.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&n.value.push($.create($.Class.CONTEXT_SPECIFIC,1,!0,[$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,"\0"+e.issuer.uniqueId)])),e.subject.uniqueId&&n.value.push($.create($.Class.CONTEXT_SPECIFIC,2,!0,[$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,"\0"+e.subject.uniqueId)])),e.extensions.length>0&&n.value.push(or.certificateExtensionsToAsn1(e.extensions)),n};or.getCertificationRequestInfo=function(e){var t=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(e.version).getBytes()),b6(e.subject),or.publicKeyToAsn1(e.publicKey),NEt(e)]);return t};or.distinguishedNameToAsn1=function(e){return b6(e)};or.certificateToAsn1=function(e){var t=e.tbsCertificate||or.getTBSCertificate(e);return $.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[t,$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(e.signatureOid).getBytes()),pse(e.signatureOid,e.signatureParameters)]),$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,"\0"+e.signature)])};or.certificateExtensionsToAsn1=function(e){var t=$.create($.Class.CONTEXT_SPECIFIC,3,!0,[]),r=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n=0;n<e.length;++n)r.value.push(or.certificateExtensionToAsn1(e[n]));return t};or.certificateExtensionToAsn1=function(e){var t=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);t.value.push($.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(e.id).getBytes())),e.critical&&t.value.push($.create($.Class.UNIVERSAL,$.Type.BOOLEAN,!1,"\xFF"));var r=e.value;return typeof e.value!="string"&&(r=$.toDer(r).getBytes()),t.value.push($.create($.Class.UNIVERSAL,$.Type.OCTETSTRING,!1,r)),t};or.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||or.getCertificationRequestInfo(e);return $.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[t,$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(e.signatureOid).getBytes()),pse(e.signatureOid,e.signatureParameters)]),$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,"\0"+e.signature)])};or.createCaStore=function(e){var t={certs:{}};t.getIssuer=function(a){var l=r(a.issuer);return l},t.addCertificate=function(a){if(typeof a=="string"&&(a=sn.pki.certificateFromPem(a)),n(a.subject),!t.hasCertificate(a))if(a.subject.hash in t.certs){var l=t.certs[a.subject.hash];sn.util.isArray(l)||(l=[l]),l.push(a),t.certs[a.subject.hash]=l}else t.certs[a.subject.hash]=a},t.hasCertificate=function(a){typeof a=="string"&&(a=sn.pki.certificateFromPem(a));var l=r(a.subject);if(!l)return!1;sn.util.isArray(l)||(l=[l]);for(var c=$.toDer(or.certificateToAsn1(a)).getBytes(),u=0;u<l.length;++u){var f=$.toDer(or.certificateToAsn1(l[u])).getBytes();if(c===f)return!0}return!1},t.listAllCertificates=function(){var a=[];for(var l in t.certs)if(t.certs.hasOwnProperty(l)){var c=t.certs[l];if(!sn.util.isArray(c))a.push(c);else for(var u=0;u<c.length;++u)a.push(c[u])}return a},t.removeCertificate=function(a){var l;if(typeof a=="string"&&(a=sn.pki.certificateFromPem(a)),n(a.subject),!t.hasCertificate(a))return null;var c=r(a.subject);if(!sn.util.isArray(c))return l=t.certs[a.subject.hash],delete t.certs[a.subject.hash],l;for(var u=$.toDer(or.certificateToAsn1(a)).getBytes(),f=0;f<c.length;++f){var m=$.toDer(or.certificateToAsn1(c[f])).getBytes();u===m&&(l=c[f],c.splice(f,1))}return c.length===0&&delete t.certs[a.subject.hash],l};function r(a){return n(a),t.certs[a.hash]||null}o(r,"getBySubject");function n(a){if(!a.hash){var l=sn.md.sha1.create();a.attributes=or.RDNAttributesAsArray(b6(a),l),a.hash=l.digest().toHex()}}if(o(n,"ensureSubjectHasHash"),e)for(var i=0;i<e.length;++i){var s=e[i];t.addCertificate(s)}return t};or.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};or.verifyCertificateChain=function(e,t,r){typeof r=="function"&&(r={verify:r}),r=r||{},t=t.slice(0);var n=t.slice(0),i=r.validityCheckDate;typeof i>"u"&&(i=new Date);var s=!0,a=null,l=0;do{var c=t.shift(),u=null,f=!1;if(i&&(i<c.validity.notBefore||i>c.validity.notAfter)&&(a={message:"Certificate is not valid yet or has expired.",error:or.certificateError.certificate_expired,notBefore:c.validity.notBefore,notAfter:c.validity.notAfter,now:i}),a===null){if(u=t[0]||e.getIssuer(c),u===null&&c.isIssuer(c)&&(f=!0,u=c),u){var m=u;sn.util.isArray(m)||(m=[m]);for(var h=!1;!h&&m.length>0;){u=m.shift();try{h=u.verify(c)}catch{}}h||(a={message:"Certificate signature is invalid.",error:or.certificateError.bad_certificate})}a===null&&(!u||f)&&!e.hasCertificate(c)&&(a={message:"Certificate is not trusted.",error:or.certificateError.unknown_ca})}if(a===null&&u&&!c.isIssuer(u)&&(a={message:"Certificate issuer is invalid.",error:or.certificateError.bad_certificate}),a===null)for(var p={keyUsage:!0,basicConstraints:!0},g=0;a===null&&g<c.extensions.length;++g){var x=c.extensions[g];x.critical&&!(x.name in p)&&(a={message:"Certificate has an unsupported critical extension.",error:or.certificateError.unsupported_certificate})}if(a===null&&(!s||t.length===0&&(!u||f))){var v=c.getExtension("basicConstraints"),E=c.getExtension("keyUsage");if(E!==null&&(!E.keyCertSign||v===null)&&(a={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:or.certificateError.bad_certificate}),a===null&&v!==null&&!v.cA&&(a={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:or.certificateError.bad_certificate}),a===null&&E!==null&&"pathLenConstraint"in v){var b=l-1;b>v.pathLenConstraint&&(a={message:"Certificate basicConstraints pathLenConstraint violated.",error:or.certificateError.bad_certificate})}}var _=a===null?!0:a.error,R=r.verify?r.verify(_,l,n):_;if(R===!0)a=null;else throw _===!0&&(a={message:"The application rejected the certificate.",error:or.certificateError.bad_certificate}),(R||R===0)&&(typeof R=="object"&&!sn.util.isArray(R)?(R.message&&(a.message=R.message),R.error&&(a.error=R.error)):typeof R=="string"&&(a.error=R)),a;s=!1,++l}while(t.length>0);return!0}});var Ase=j((OVr,uBe)=>{d();var ts=ci();yh();p6();Y5();mse();dse();qd();jS();C6();ao();Fq();var _e=ts.asn1,wi=ts.pki,$S=uBe.exports=ts.pkcs12=ts.pkcs12||{},cBe={name:"ContentInfo",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:_e.Class.UNIVERSAL,type:_e.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:_e.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},MEt={name:"PFX",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:_e.Class.UNIVERSAL,type:_e.Type.INTEGER,constructed:!1,capture:"version"},cBe,{name:"PFX.macData",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:_e.Class.UNIVERSAL,type:_e.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:_e.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:_e.Class.UNIVERSAL,type:_e.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:_e.Class.UNIVERSAL,type:_e.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:_e.Class.UNIVERSAL,type:_e.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},OEt={name:"SafeBag",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:_e.Class.UNIVERSAL,type:_e.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:_e.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},UEt={name:"Attribute",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:_e.Class.UNIVERSAL,type:_e.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SET,constructed:!0,capture:"values"}]},qEt={name:"CertBag",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:_e.Class.UNIVERSAL,type:_e.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:_e.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:_e.Class.UNIVERSAL,type:_e.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function VS(e,t,r,n){for(var i=[],s=0;s<e.length;s++)for(var a=0;a<e[s].safeBags.length;a++){var l=e[s].safeBags[a];if(!(n!==void 0&&l.type!==n)){if(t===null){i.push(l);continue}l.attributes[t]!==void 0&&l.attributes[t].indexOf(r)>=0&&i.push(l)}}return i}o(VS,"_getBagsByAttribute");$S.pkcs12FromAsn1=function(e,t,r){typeof t=="string"?(r=t,t=!0):t===void 0&&(t=!0);var n={},i=[];if(!_e.validate(e,MEt,n,i)){var s=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw s.errors=s,s}var a={version:n.version.charCodeAt(0),safeContents:[],getBags:o(function(v){var E={},b;return"localKeyId"in v?b=v.localKeyId:"localKeyIdHex"in v&&(b=ts.util.hexToBytes(v.localKeyIdHex)),b===void 0&&!("friendlyName"in v)&&"bagType"in v&&(E[v.bagType]=VS(a.safeContents,null,null,v.bagType)),b!==void 0&&(E.localKeyId=VS(a.safeContents,"localKeyId",b,v.bagType)),"friendlyName"in v&&(E.friendlyName=VS(a.safeContents,"friendlyName",v.friendlyName,v.bagType)),E},"getBags"),getBagsByFriendlyName:o(function(v,E){return VS(a.safeContents,"friendlyName",v,E)},"getBagsByFriendlyName"),getBagsByLocalKeyId:o(function(v,E){return VS(a.safeContents,"localKeyId",v,E)},"getBagsByLocalKeyId")};if(n.version.charCodeAt(0)!==3){var s=new Error("PKCS#12 PFX of version other than 3 not supported.");throw s.version=n.version.charCodeAt(0),s}if(_e.derToOid(n.contentType)!==wi.oids.data){var s=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw s.oid=_e.derToOid(n.contentType),s}var l=n.content.value[0];if(l.tagClass!==_e.Class.UNIVERSAL||l.type!==_e.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(l=gse(l),n.mac){var c=null,u=0,f=_e.derToOid(n.macAlgorithm);switch(f){case wi.oids.sha1:c=ts.md.sha1.create(),u=20;break;case wi.oids.sha256:c=ts.md.sha256.create(),u=32;break;case wi.oids.sha384:c=ts.md.sha384.create(),u=48;break;case wi.oids.sha512:c=ts.md.sha512.create(),u=64;break;case wi.oids.md5:c=ts.md.md5.create(),u=16;break}if(c===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+f);var m=new ts.util.ByteBuffer(n.macSalt),h="macIterations"in n?parseInt(ts.util.bytesToHex(n.macIterations),16):1,p=$S.generateKey(r,m,3,h,u,c),g=ts.hmac.create();g.start(c,p),g.update(l.value);var x=g.getMac();if(x.getBytes()!==n.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return WEt(a,l.value,t,r),a};function gse(e){if(e.composed||e.constructed){for(var t=ts.util.createBuffer(),r=0;r<e.value.length;++r)t.putBytes(e.value[r].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}o(gse,"_decodePkcs7Data");function WEt(e,t,r,n){if(t=_e.fromDer(t,r),t.tagClass!==_e.Class.UNIVERSAL||t.type!==_e.Type.SEQUENCE||t.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var i=0;i<t.value.length;i++){var s=t.value[i],a={},l=[];if(!_e.validate(s,cBe,a,l)){var c=new Error("Cannot read ContentInfo.");throw c.errors=l,c}var u={encrypted:!1},f=null,m=a.content.value[0];switch(_e.derToOid(a.contentType)){case wi.oids.data:if(m.tagClass!==_e.Class.UNIVERSAL||m.type!==_e.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");f=gse(m).value;break;case wi.oids.encryptedData:f=GEt(m,n),u.encrypted=!0;break;default:var c=new Error("Unsupported PKCS#12 contentType.");throw c.contentType=_e.derToOid(a.contentType),c}u.safeBags=HEt(f,r,n),e.safeContents.push(u)}}o(WEt,"_decodeAuthenticatedSafe");function GEt(e,t){var r={},n=[];if(!_e.validate(e,ts.pkcs7.asn1.encryptedDataValidator,r,n)){var i=new Error("Cannot read EncryptedContentInfo.");throw i.errors=n,i}var s=_e.derToOid(r.contentType);if(s!==wi.oids.data){var i=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw i.oid=s,i}s=_e.derToOid(r.encAlgorithm);var a=wi.pbe.getCipher(s,r.encParameter,t),l=gse(r.encryptedContentAsn1),c=ts.util.createBuffer(l.value);if(a.update(c),!a.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return a.output.getBytes()}o(GEt,"_decryptSafeContents");function HEt(e,t,r){if(!t&&e.length===0)return[];if(e=_e.fromDer(e,t),e.tagClass!==_e.Class.UNIVERSAL||e.type!==_e.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],i=0;i<e.value.length;i++){var s=e.value[i],a={},l=[];if(!_e.validate(s,OEt,a,l)){var c=new Error("Cannot read SafeBag.");throw c.errors=l,c}var u={type:_e.derToOid(a.bagId),attributes:jEt(a.bagAttributes)};n.push(u);var f,m,h=a.bagValue.value[0];switch(u.type){case wi.oids.pkcs8ShroudedKeyBag:if(h=wi.decryptPrivateKeyInfo(h,r),h===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case wi.oids.keyBag:try{u.key=wi.privateKeyFromAsn1(h)}catch{u.key=null,u.asn1=h}continue;case wi.oids.certBag:f=qEt,m=o(function(){if(_e.derToOid(a.certId)!==wi.oids.x509Certificate){var g=new Error("Unsupported certificate type, only X.509 supported.");throw g.oid=_e.derToOid(a.certId),g}var x=_e.fromDer(a.cert,t);try{u.cert=wi.certificateFromAsn1(x,!0)}catch{u.cert=null,u.asn1=x}},"decoder");break;default:var c=new Error("Unsupported PKCS#12 SafeBag type.");throw c.oid=u.type,c}if(f!==void 0&&!_e.validate(h,f,a,l)){var c=new Error("Cannot read PKCS#12 "+f.name);throw c.errors=l,c}m()}return n}o(HEt,"_decodeSafeContents");function jEt(e){var t={};if(e!==void 0)for(var r=0;r<e.length;++r){var n={},i=[];if(!_e.validate(e[r],UEt,n,i)){var s=new Error("Cannot read PKCS#12 BagAttribute.");throw s.errors=i,s}var a=_e.derToOid(n.oid);if(wi.oids[a]!==void 0){t[wi.oids[a]]=[];for(var l=0;l<n.values.length;++l)t[wi.oids[a]].push(n.values[l].value)}}return t}o(jEt,"_decodeBagAttributes");$S.toPkcs12Asn1=function(e,t,r,n){n=n||{},n.saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var i=n.localKeyId,s;if(i!==null)i=ts.util.hexToBytes(i);else if(n.generateLocalKeyId)if(t){var a=ts.util.isArray(t)?t[0]:t;typeof a=="string"&&(a=wi.certificateFromPem(a));var l=ts.md.sha1.create();l.update(_e.toDer(wi.certificateToAsn1(a)).getBytes()),i=l.digest().getBytes()}else i=ts.random.getBytes(20);var c=[];i!==null&&c.push(_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(wi.oids.localKeyId).getBytes()),_e.create(_e.Class.UNIVERSAL,_e.Type.SET,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OCTETSTRING,!1,i)])])),"friendlyName"in n&&c.push(_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(wi.oids.friendlyName).getBytes()),_e.create(_e.Class.UNIVERSAL,_e.Type.SET,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.BMPSTRING,!1,n.friendlyName)])])),c.length>0&&(s=_e.create(_e.Class.UNIVERSAL,_e.Type.SET,!0,c));var u=[],f=[];t!==null&&(ts.util.isArray(t)?f=t:f=[t]);for(var m=[],h=0;h<f.length;++h){t=f[h],typeof t=="string"&&(t=wi.certificateFromPem(t));var p=h===0?s:void 0,g=wi.certificateToAsn1(t),x=_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(wi.oids.certBag).getBytes()),_e.create(_e.Class.CONTEXT_SPECIFIC,0,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(wi.oids.x509Certificate).getBytes()),_e.create(_e.Class.CONTEXT_SPECIFIC,0,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OCTETSTRING,!1,_e.toDer(g).getBytes())])])]),p]);m.push(x)}if(m.length>0){var v=_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,m),E=_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(wi.oids.data).getBytes()),_e.create(_e.Class.CONTEXT_SPECIFIC,0,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OCTETSTRING,!1,_e.toDer(v).getBytes())])]);u.push(E)}var b=null;if(e!==null){var _=wi.wrapRsaPrivateKey(wi.privateKeyToAsn1(e));r===null?b=_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(wi.oids.keyBag).getBytes()),_e.create(_e.Class.CONTEXT_SPECIFIC,0,!0,[_]),s]):b=_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(wi.oids.pkcs8ShroudedKeyBag).getBytes()),_e.create(_e.Class.CONTEXT_SPECIFIC,0,!0,[wi.encryptPrivateKeyInfo(_,r,n)]),s]);var R=_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[b]),P=_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(wi.oids.data).getBytes()),_e.create(_e.Class.CONTEXT_SPECIFIC,0,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OCTETSTRING,!1,_e.toDer(R).getBytes())])]);u.push(P)}var F=_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,u),G;if(n.useMac){var l=ts.md.sha1.create(),se=new ts.util.ByteBuffer(ts.random.getBytes(n.saltSize)),Ae=n.count,e=$S.generateKey(r,se,3,Ae,20),re=ts.hmac.create();re.start(l,e),re.update(_e.toDer(F).getBytes());var W=re.getMac();G=_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(wi.oids.sha1).getBytes()),_e.create(_e.Class.UNIVERSAL,_e.Type.NULL,!1,"")]),_e.create(_e.Class.UNIVERSAL,_e.Type.OCTETSTRING,!1,W.getBytes())]),_e.create(_e.Class.UNIVERSAL,_e.Type.OCTETSTRING,!1,se.getBytes()),_e.create(_e.Class.UNIVERSAL,_e.Type.INTEGER,!1,_e.integerToDer(Ae).getBytes())])}return _e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.INTEGER,!1,_e.integerToDer(3).getBytes()),_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(wi.oids.data).getBytes()),_e.create(_e.Class.CONTEXT_SPECIFIC,0,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OCTETSTRING,!1,_e.toDer(F).getBytes())])]),G])};$S.generateKey=ts.pbe.generatePkcs12Key});var Cse=j((WVr,fBe)=>{d();var X5=ci();yh();Y5();dse();Px();Iq();Ase();Bq();jS();ao();Fq();var yse=X5.asn1,E6=fBe.exports=X5.pki=X5.pki||{};E6.pemToDer=function(e){var t=X5.pem.decode(e)[0];if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return X5.util.createBuffer(t.body)};E6.privateKeyFromPem=function(e){var t=X5.pem.decode(e)[0];if(t.type!=="PRIVATE KEY"&&t.type!=="RSA PRIVATE KEY"){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=yse.fromDer(t.body);return E6.privateKeyFromAsn1(n)};E6.privateKeyToPem=function(e,t){var r={type:"RSA PRIVATE KEY",body:yse.toDer(E6.privateKeyToAsn1(e)).getBytes()};return X5.pem.encode(r,{maxline:t})};E6.privateKeyInfoToPem=function(e,t){var r={type:"PRIVATE KEY",body:yse.toDer(e).getBytes()};return X5.pem.encode(r,{maxline:t})}});var Tse=j((HVr,CBe)=>{d();var Dt=ci();yh();p6();xq();Px();Cse();qd();C6();ao();var Mq=o(function(e,t,r,n){var i=Dt.util.createBuffer(),s=e.length>>1,a=s+(e.length&1),l=e.substr(0,a),c=e.substr(s,a),u=Dt.util.createBuffer(),f=Dt.hmac.create();r=t+r;var m=Math.ceil(n/16),h=Math.ceil(n/20);f.start("MD5",l);var p=Dt.util.createBuffer();u.putBytes(r);for(var g=0;g<m;++g)f.start(null,null),f.update(u.getBytes()),u.putBuffer(f.digest()),f.start(null,null),f.update(u.bytes()+r),p.putBuffer(f.digest());f.start("SHA1",c);var x=Dt.util.createBuffer();u.clear(),u.putBytes(r);for(var g=0;g<h;++g)f.start(null,null),f.update(u.getBytes()),u.putBuffer(f.digest()),f.start(null,null),f.update(u.bytes()+r),x.putBuffer(f.digest());return i.putBytes(Dt.util.xorBytes(p.getBytes(),x.getBytes(),n)),i},"prf_TLS1"),VEt=o(function(e,t,r){var n=Dt.hmac.create();n.start("SHA1",e);var i=Dt.util.createBuffer();return i.putInt32(t[0]),i.putInt32(t[1]),i.putByte(r.type),i.putByte(r.version.major),i.putByte(r.version.minor),i.putInt16(r.length),i.putBytes(r.fragment.bytes()),n.update(i.getBytes()),n.digest().getBytes()},"hmac_sha1"),$Et=o(function(e,t,r){var n=!1;try{var i=e.deflate(t.fragment.getBytes());t.fragment=Dt.util.createBuffer(i),t.length=i.length,n=!0}catch{}return n},"deflate"),zEt=o(function(e,t,r){var n=!1;try{var i=e.inflate(t.fragment.getBytes());t.fragment=Dt.util.createBuffer(i),t.length=i.length,n=!0}catch{}return n},"inflate"),vf=o(function(e,t){var r=0;switch(t){case 1:r=e.getByte();break;case 2:r=e.getInt16();break;case 3:r=e.getInt24();break;case 4:r=e.getInt32();break}return Dt.util.createBuffer(e.getBytes(r))},"readVector"),jd=o(function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},"writeVector"),Z={};Z.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}};Z.SupportedVersions=[Z.Versions.TLS_1_1,Z.Versions.TLS_1_0];Z.Version=Z.SupportedVersions[0];Z.MaxFragment=15360;Z.ConnectionEnd={server:0,client:1};Z.PRFAlgorithm={tls_prf_sha256:0};Z.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};Z.CipherType={stream:0,block:1,aead:2};Z.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};Z.CompressionMethod={none:0,deflate:1};Z.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};Z.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};Z.Alert={};Z.Alert.Level={warning:1,fatal:2};Z.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};Z.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};Z.CipherSuites={};Z.getCipherSuite=function(e){var t=null;for(var r in Z.CipherSuites){var n=Z.CipherSuites[r];if(n.id[0]===e.charCodeAt(0)&&n.id[1]===e.charCodeAt(1)){t=n;break}}return t};Z.handleUnexpected=function(e,t){var r=!e.open&&e.entity===Z.ConnectionEnd.client;r||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:Z.Alert.Level.fatal,description:Z.Alert.Description.unexpected_message}})};Z.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&(Z.queue(e,Z.createAlert(e,{level:Z.Alert.Level.warning,description:Z.Alert.Description.no_renegotiation})),Z.flush(e)),e.process()};Z.parseHelloMessage=function(e,t,r){var n=null,i=e.entity===Z.ConnectionEnd.client;if(r<38)e.error(e,{message:i?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:Z.Alert.Level.fatal,description:Z.Alert.Description.illegal_parameter}});else{var s=t.fragment,a=s.length();if(n={version:{major:s.getByte(),minor:s.getByte()},random:Dt.util.createBuffer(s.getBytes(32)),session_id:vf(s,1),extensions:[]},i?(n.cipher_suite=s.getBytes(2),n.compression_method=s.getByte()):(n.cipher_suites=vf(s,2),n.compression_methods=vf(s,1)),a=r-(a-s.length()),a>0){for(var l=vf(s,2);l.length()>0;)n.extensions.push({type:[l.getByte(),l.getByte()],data:vf(l,2)});if(!i)for(var c=0;c<n.extensions.length;++c){var u=n.extensions[c];if(u.type[0]===0&&u.type[1]===0)for(var f=vf(u.data,2);f.length()>0;){var m=f.getByte();if(m!==0)break;e.session.extensions.server_name.serverNameList.push(vf(f,2).getBytes())}}}if(e.session.version&&(n.version.major!==e.session.version.major||n.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:Z.Alert.Level.fatal,description:Z.Alert.Description.protocol_version}});if(i)e.session.cipherSuite=Z.getCipherSuite(n.cipher_suite);else for(var h=Dt.util.createBuffer(n.cipher_suites.bytes());h.length()>0&&(e.session.cipherSuite=Z.getCipherSuite(h.getBytes(2)),e.session.cipherSuite===null););if(e.session.cipherSuite===null)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:Z.Alert.Level.fatal,description:Z.Alert.Description.handshake_failure},cipherSuite:Dt.util.bytesToHex(n.cipher_suite)});i?e.session.compressionMethod=n.compression_method:e.session.compressionMethod=Z.CompressionMethod.none}return n};Z.createSecurityParameters=function(e,t){var r=e.entity===Z.ConnectionEnd.client,n=t.random.bytes(),i=r?e.session.sp.client_random:n,s=r?n:Z.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:Z.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:s}};Z.handleServerHello=function(e,t,r){var n=Z.parseHelloMessage(e,t,r);if(!e.fail){if(n.version.minor<=e.version.minor)e.version.minor=n.version.minor;else return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:Z.Alert.Level.fatal,description:Z.Alert.Description.protocol_version}});e.session.version=e.version;var i=n.session_id.bytes();i.length>0&&i===e.session.id?(e.expect=hBe,e.session.resuming=!0,e.session.sp.server_random=n.random.bytes()):(e.expect=KEt,e.session.resuming=!1,Z.createSecurityParameters(e,n)),e.session.id=i,e.process()}};Z.handleClientHello=function(e,t,r){var n=Z.parseHelloMessage(e,t,r);if(!e.fail){var i=n.session_id.bytes(),s=null;if(e.sessionCache&&(s=e.sessionCache.getSession(i),s===null?i="":(s.version.major!==n.version.major||s.version.minor>n.version.minor)&&(s=null,i="")),i.length===0&&(i=Dt.random.getBytes(32)),e.session.id=i,e.session.clientHelloVersion=n.version,e.session.sp={},s)e.version=e.session.version=s.version,e.session.sp=s.sp;else{for(var a,l=1;l<Z.SupportedVersions.length&&(a=Z.SupportedVersions[l],!(a.minor<=n.version.minor));++l);e.version={major:a.major,minor:a.minor},e.session.version=e.version}s!==null?(e.expect=Ese,e.session.resuming=!0,e.session.sp.client_random=n.random.bytes()):(e.expect=e.verifyClient!==!1?nIt:bse,e.session.resuming=!1,Z.createSecurityParameters(e,n)),e.open=!0,Z.queue(e,Z.createRecord(e,{type:Z.ContentType.handshake,data:Z.createServerHello(e)})),e.session.resuming?(Z.queue(e,Z.createRecord(e,{type:Z.ContentType.change_cipher_spec,data:Z.createChangeCipherSpec()})),e.state.pending=Z.createConnectionState(e),e.state.current.write=e.state.pending.write,Z.queue(e,Z.createRecord(e,{type:Z.ContentType.handshake,data:Z.createFinished(e)}))):(Z.queue(e,Z.createRecord(e,{type:Z.ContentType.handshake,data:Z.createCertificate(e)})),e.fail||(Z.queue(e,Z.createRecord(e,{type:Z.ContentType.handshake,data:Z.createServerKeyExchange(e)})),e.verifyClient!==!1&&Z.queue(e,Z.createRecord(e,{type:Z.ContentType.handshake,data:Z.createCertificateRequest(e)})),Z.queue(e,Z.createRecord(e,{type:Z.ContentType.handshake,data:Z.createServerHelloDone(e)})))),Z.flush(e),e.process()}};Z.handleCertificate=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:Z.Alert.Level.fatal,description:Z.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_list:vf(n,3)},s,a,l=[];try{for(;i.certificate_list.length()>0;)s=vf(i.certificate_list,3),a=Dt.asn1.fromDer(s),s=Dt.pki.certificateFromAsn1(a,!0),l.push(s)}catch(u){return e.error(e,{message:"Could not parse certificate list.",cause:u,send:!0,alert:{level:Z.Alert.Level.fatal,description:Z.Alert.Description.bad_certificate}})}var c=e.entity===Z.ConnectionEnd.client;(c||e.verifyClient===!0)&&l.length===0?e.error(e,{message:c?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:Z.Alert.Level.fatal,description:Z.Alert.Description.illegal_parameter}}):l.length===0?e.expect=c?dBe:bse:(c?e.session.serverCertificate=l[0]:e.session.clientCertificate=l[0],Z.verifyCertificateChain(e,l)&&(e.expect=c?dBe:bse)),e.process()};Z.handleServerKeyExchange=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:Z.Alert.Level.fatal,description:Z.Alert.Description.unsupported_certificate}});e.expect=JEt,e.process()};Z.handleClientKeyExchange=function(e,t,r){if(r<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:Z.Alert.Level.fatal,description:Z.Alert.Description.unsupported_certificate}});var n=t.fragment,i={enc_pre_master_secret:vf(n,2).getBytes()},s=null;if(e.getPrivateKey)try{s=e.getPrivateKey(e,e.session.serverCertificate),s=Dt.pki.privateKeyFromPem(s)}catch(c){e.error(e,{message:"Could not get private key.",cause:c,send:!0,alert:{level:Z.Alert.Level.fatal,description:Z.Alert.Description.internal_error}})}if(s===null)return e.error(e,{message:"No private key set.",send:!0,alert:{level:Z.Alert.Level.fatal,description:Z.Alert.Description.internal_error}});try{var a=e.session.sp;a.pre_master_secret=s.decrypt(i.enc_pre_master_secret);var l=e.session.clientHelloVersion;if(l.major!==a.pre_master_secret.charCodeAt(0)||l.minor!==a.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{a.pre_master_secret=Dt.random.getBytes(48)}e.expect=Ese,e.session.clientCertificate!==null&&(e.expect=iIt),e.process()};Z.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:Z.Alert.Level.fatal,description:Z.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_types:vf(n,1),certificate_authorities:vf(n,2)};e.session.certificateRequest=i,e.expect=ZEt,e.process()};Z.handleCertificateVerify=function(e,t,r){if(r<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:Z.Alert.Level.fatal,description:Z.Alert.Description.illegal_parameter}});var n=t.fragment;n.read-=4;var i=n.bytes();n.read+=4;var s={signature:vf(n,2).getBytes()},a=Dt.util.createBuffer();a.putBuffer(e.session.md5.digest()),a.putBuffer(e.session.sha1.digest()),a=a.getBytes();try{var l=e.session.clientCertificate;if(!l.publicKey.verify(a,s.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(i),e.session.sha1.update(i)}catch{return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:Z.Alert.Level.fatal,description:Z.Alert.Description.handshake_failure}})}e.expect=Ese,e.process()};Z.handleServerHelloDone=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:Z.Alert.Level.fatal,description:Z.Alert.Description.record_overflow}});if(e.serverCertificate===null){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:Z.Alert.Level.fatal,description:Z.Alert.Description.insufficient_security}},i=0,s=e.verify(e,n.alert.description,i,[]);if(s!==!0)return(s||s===0)&&(typeof s=="object"&&!Dt.util.isArray(s)?(s.message&&(n.message=s.message),s.alert&&(n.alert.description=s.alert)):typeof s=="number"&&(n.alert.description=s)),e.error(e,n)}e.session.certificateRequest!==null&&(t=Z.createRecord(e,{type:Z.ContentType.handshake,data:Z.createCertificate(e)}),Z.queue(e,t)),t=Z.createRecord(e,{type:Z.ContentType.handshake,data:Z.createClientKeyExchange(e)}),Z.queue(e,t),e.expect=tIt;var a=o(function(l,c){l.session.certificateRequest!==null&&l.session.clientCertificate!==null&&Z.queue(l,Z.createRecord(l,{type:Z.ContentType.handshake,data:Z.createCertificateVerify(l,c)})),Z.queue(l,Z.createRecord(l,{type:Z.ContentType.change_cipher_spec,data:Z.createChangeCipherSpec()})),l.state.pending=Z.createConnectionState(l),l.state.current.write=l.state.pending.write,Z.queue(l,Z.createRecord(l,{type:Z.ContentType.handshake,data:Z.createFinished(l)})),l.expect=hBe,Z.flush(l),l.process()},"callback");if(e.session.certificateRequest===null||e.session.clientCertificate===null)return a(e,null);Z.getClientSignature(e,a)};Z.handleChangeCipherSpec=function(e,t){if(t.fragment.getByte()!==1)return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:Z.Alert.Level.fatal,description:Z.Alert.Description.illegal_parameter}});var r=e.entity===Z.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=Z.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?XEt:oIt,e.process()};Z.handleFinished=function(e,t,r){var n=t.fragment;n.read-=4;var i=n.bytes();n.read+=4;var s=t.fragment.getBytes();n=Dt.util.createBuffer(),n.putBuffer(e.session.md5.digest()),n.putBuffer(e.session.sha1.digest());var a=e.entity===Z.ConnectionEnd.client,l=a?"server finished":"client finished",c=e.session.sp,u=12,f=Mq;if(n=f(c.master_secret,l,n.getBytes(),u),n.getBytes()!==s)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:Z.Alert.Level.fatal,description:Z.Alert.Description.decrypt_error}});e.session.md5.update(i),e.session.sha1.update(i),(e.session.resuming&&a||!e.session.resuming&&!a)&&(Z.queue(e,Z.createRecord(e,{type:Z.ContentType.change_cipher_spec,data:Z.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,Z.queue(e,Z.createRecord(e,{type:Z.ContentType.handshake,data:Z.createFinished(e)}))),e.expect=a?eIt:sIt,e.handshaking=!1,++e.handshakes,e.peerCertificate=a?e.session.serverCertificate:e.session.clientCertificate,Z.flush(e),e.isConnected=!0,e.connected(e),e.process()};Z.handleAlert=function(e,t){var r=t.fragment,n={level:r.getByte(),description:r.getByte()},i;switch(n.description){case Z.Alert.Description.close_notify:i="Connection closed.";break;case Z.Alert.Description.unexpected_message:i="Unexpected message.";break;case Z.Alert.Description.bad_record_mac:i="Bad record MAC.";break;case Z.Alert.Description.decryption_failed:i="Decryption failed.";break;case Z.Alert.Description.record_overflow:i="Record overflow.";break;case Z.Alert.Description.decompression_failure:i="Decompression failed.";break;case Z.Alert.Description.handshake_failure:i="Handshake failure.";break;case Z.Alert.Description.bad_certificate:i="Bad certificate.";break;case Z.Alert.Description.unsupported_certificate:i="Unsupported certificate.";break;case Z.Alert.Description.certificate_revoked:i="Certificate revoked.";break;case Z.Alert.Description.certificate_expired:i="Certificate expired.";break;case Z.Alert.Description.certificate_unknown:i="Certificate unknown.";break;case Z.Alert.Description.illegal_parameter:i="Illegal parameter.";break;case Z.Alert.Description.unknown_ca:i="Unknown certificate authority.";break;case Z.Alert.Description.access_denied:i="Access denied.";break;case Z.Alert.Description.decode_error:i="Decode error.";break;case Z.Alert.Description.decrypt_error:i="Decrypt error.";break;case Z.Alert.Description.export_restriction:i="Export restriction.";break;case Z.Alert.Description.protocol_version:i="Unsupported protocol version.";break;case Z.Alert.Description.insufficient_security:i="Insufficient security.";break;case Z.Alert.Description.internal_error:i="Internal error.";break;case Z.Alert.Description.user_canceled:i="User canceled.";break;case Z.Alert.Description.no_renegotiation:i="Renegotiation not supported.";break;default:i="Unknown error.";break}if(n.description===Z.Alert.Description.close_notify)return e.close();e.error(e,{message:i,send:!1,origin:e.entity===Z.ConnectionEnd.client?"server":"client",alert:n}),e.process()};Z.handleHandshake=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt24();if(i>r.length())return e.fragmented=t,t.fragment=Dt.util.createBuffer(),r.read-=4,e.process();e.fragmented=null,r.read-=4;var s=r.bytes(i+4);r.read+=4,n in Qq[e.entity][e.expect]?(e.entity===Z.ConnectionEnd.server&&!e.open&&!e.fail&&(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:Dt.md.md5.create(),sha1:Dt.md.sha1.create()}),n!==Z.HandshakeType.hello_request&&n!==Z.HandshakeType.certificate_verify&&n!==Z.HandshakeType.finished&&(e.session.md5.update(s),e.session.sha1.update(s)),Qq[e.entity][e.expect][n](e,t,i)):Z.handleUnexpected(e,t)};Z.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()};Z.handleHeartbeat=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt16(),s=r.getBytes(i);if(n===Z.HeartbeatMessageType.heartbeat_request){if(e.handshaking||i>s.length)return e.process();Z.queue(e,Z.createRecord(e,{type:Z.ContentType.heartbeat,data:Z.createHeartbeat(Z.HeartbeatMessageType.heartbeat_response,s)})),Z.flush(e)}else if(n===Z.HeartbeatMessageType.heartbeat_response){if(s!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,Dt.util.createBuffer(s))}e.process()};var YEt=0,KEt=1,dBe=2,JEt=3,ZEt=4,hBe=5,XEt=6,eIt=7,tIt=8,rIt=0,nIt=1,bse=2,iIt=3,Ese=4,oIt=5,sIt=6,K=Z.handleUnexpected,pBe=Z.handleChangeCipherSpec,sc=Z.handleAlert,g0=Z.handleHandshake,gBe=Z.handleApplicationData,ac=Z.handleHeartbeat,Ise=[];Ise[Z.ConnectionEnd.client]=[[K,sc,g0,K,ac],[K,sc,g0,K,ac],[K,sc,g0,K,ac],[K,sc,g0,K,ac],[K,sc,g0,K,ac],[pBe,sc,K,K,ac],[K,sc,g0,K,ac],[K,sc,g0,gBe,ac],[K,sc,g0,K,ac]];Ise[Z.ConnectionEnd.server]=[[K,sc,g0,K,ac],[K,sc,g0,K,ac],[K,sc,g0,K,ac],[K,sc,g0,K,ac],[pBe,sc,K,K,ac],[K,sc,g0,K,ac],[K,sc,g0,gBe,ac],[K,sc,g0,K,ac]];var eC=Z.handleHelloRequest,aIt=Z.handleServerHello,ABe=Z.handleCertificate,mBe=Z.handleServerKeyExchange,xse=Z.handleCertificateRequest,Nq=Z.handleServerHelloDone,yBe=Z.handleFinished,Qq=[];Qq[Z.ConnectionEnd.client]=[[K,K,aIt,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K],[eC,K,K,K,K,K,K,K,K,K,K,ABe,mBe,xse,Nq,K,K,K,K,K,K],[eC,K,K,K,K,K,K,K,K,K,K,K,mBe,xse,Nq,K,K,K,K,K,K],[eC,K,K,K,K,K,K,K,K,K,K,K,K,xse,Nq,K,K,K,K,K,K],[eC,K,K,K,K,K,K,K,K,K,K,K,K,K,Nq,K,K,K,K,K,K],[eC,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K],[eC,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,yBe],[eC,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K],[eC,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K]];var lIt=Z.handleClientHello,cIt=Z.handleClientKeyExchange,uIt=Z.handleCertificateVerify;Qq[Z.ConnectionEnd.server]=[[K,lIt,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K],[K,K,K,K,K,K,K,K,K,K,K,ABe,K,K,K,K,K,K,K,K,K],[K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,cIt,K,K,K,K],[K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,uIt,K,K,K,K,K],[K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K],[K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,yBe],[K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K],[K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K]];Z.generateKeys=function(e,t){var r=Mq,n=t.client_random+t.server_random;e.session.resuming||(t.master_secret=r(t.pre_master_secret,"master secret",n,48).bytes(),t.pre_master_secret=null),n=t.server_random+t.client_random;var i=2*t.mac_key_length+2*t.enc_key_length,s=e.version.major===Z.Versions.TLS_1_0.major&&e.version.minor===Z.Versions.TLS_1_0.minor;s&&(i+=2*t.fixed_iv_length);var a=r(t.master_secret,"key expansion",n,i),l={client_write_MAC_key:a.getBytes(t.mac_key_length),server_write_MAC_key:a.getBytes(t.mac_key_length),client_write_key:a.getBytes(t.enc_key_length),server_write_key:a.getBytes(t.enc_key_length)};return s&&(l.client_write_IV=a.getBytes(t.fixed_iv_length),l.server_write_IV=a.getBytes(t.fixed_iv_length)),l};Z.createConnectionState=function(e){var t=e.entity===Z.ConnectionEnd.client,r=o(function(){var s={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:o(function(a){return!0},"cipherFunction"),compressionState:null,compressFunction:o(function(a){return!0},"compressFunction"),updateSequenceNumber:o(function(){s.sequenceNumber[1]===4294967295?(s.sequenceNumber[1]=0,++s.sequenceNumber[0]):++s.sequenceNumber[1]},"updateSequenceNumber")};return s},"createMode"),n={read:r(),write:r()};if(n.read.update=function(s,a){return n.read.cipherFunction(a,n.read)?n.read.compressFunction(s,a,n.read)||s.error(s,{message:"Could not decompress record.",send:!0,alert:{level:Z.Alert.Level.fatal,description:Z.Alert.Description.decompression_failure}}):s.error(s,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:Z.Alert.Level.fatal,description:Z.Alert.Description.bad_record_mac}}),!s.fail},n.write.update=function(s,a){return n.write.compressFunction(s,a,n.write)?n.write.cipherFunction(a,n.write)||s.error(s,{message:"Could not encrypt record.",send:!1,alert:{level:Z.Alert.Level.fatal,description:Z.Alert.Description.internal_error}}):s.error(s,{message:"Could not compress record.",send:!1,alert:{level:Z.Alert.Level.fatal,description:Z.Alert.Description.internal_error}}),!s.fail},e.session){var i=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(i),i.keys=Z.generateKeys(e,i),n.read.macKey=t?i.keys.server_write_MAC_key:i.keys.client_write_MAC_key,n.write.macKey=t?i.keys.client_write_MAC_key:i.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(n,e,i),i.compression_algorithm){case Z.CompressionMethod.none:break;case Z.CompressionMethod.deflate:n.read.compressFunction=zEt,n.write.compressFunction=$Et;break;default:throw new Error("Unsupported compression algorithm.")}}return n};Z.createRandom=function(){var e=new Date,t=+e+e.getTimezoneOffset()*6e4,r=Dt.util.createBuffer();return r.putInt32(t),r.putBytes(Dt.random.getBytes(28)),r};Z.createRecord=function(e,t){if(!t.data)return null;var r={type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data};return r};Z.createAlert=function(e,t){var r=Dt.util.createBuffer();return r.putByte(t.level),r.putByte(t.description),Z.createRecord(e,{type:Z.ContentType.alert,data:r})};Z.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=Dt.util.createBuffer(),r=0;r<e.cipherSuites.length;++r){var n=e.cipherSuites[r];t.putByte(n.id[0]),t.putByte(n.id[1])}var i=t.length(),s=Dt.util.createBuffer();s.putByte(Z.CompressionMethod.none);var a=s.length(),l=Dt.util.createBuffer();if(e.virtualHost){var c=Dt.util.createBuffer();c.putByte(0),c.putByte(0);var u=Dt.util.createBuffer();u.putByte(0),jd(u,2,Dt.util.createBuffer(e.virtualHost));var f=Dt.util.createBuffer();jd(f,2,u),jd(c,2,f),l.putBuffer(c)}var m=l.length();m>0&&(m+=2);var h=e.session.id,p=h.length+1+2+4+28+2+i+1+a+m,g=Dt.util.createBuffer();return g.putByte(Z.HandshakeType.client_hello),g.putInt24(p),g.putByte(e.version.major),g.putByte(e.version.minor),g.putBytes(e.session.sp.client_random),jd(g,1,Dt.util.createBuffer(h)),jd(g,2,t),jd(g,1,s),m>0&&jd(g,2,l),g};Z.createServerHello=function(e){var t=e.session.id,r=t.length+1+2+4+28+2+1,n=Dt.util.createBuffer();return n.putByte(Z.HandshakeType.server_hello),n.putInt24(r),n.putByte(e.version.major),n.putByte(e.version.minor),n.putBytes(e.session.sp.server_random),jd(n,1,Dt.util.createBuffer(t)),n.putByte(e.session.cipherSuite.id[0]),n.putByte(e.session.cipherSuite.id[1]),n.putByte(e.session.compressionMethod),n};Z.createCertificate=function(e){var t=e.entity===Z.ConnectionEnd.client,r=null;if(e.getCertificate){var n;t?n=e.session.certificateRequest:n=e.session.extensions.server_name.serverNameList,r=e.getCertificate(e,n)}var i=Dt.util.createBuffer();if(r!==null)try{Dt.util.isArray(r)||(r=[r]);for(var s=null,a=0;a<r.length;++a){var l=Dt.pem.decode(r[a])[0];if(l.type!=="CERTIFICATE"&&l.type!=="X509 CERTIFICATE"&&l.type!=="TRUSTED CERTIFICATE"){var c=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw c.headerType=l.type,c}if(l.procType&&l.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var u=Dt.util.createBuffer(l.body);s===null&&(s=Dt.asn1.fromDer(u.bytes(),!1));var f=Dt.util.createBuffer();jd(f,3,u),i.putBuffer(f)}r=Dt.pki.certificateFromAsn1(s),t?e.session.clientCertificate=r:e.session.serverCertificate=r}catch(p){return e.error(e,{message:"Could not send certificate list.",cause:p,send:!0,alert:{level:Z.Alert.Level.fatal,description:Z.Alert.Description.bad_certificate}})}var m=3+i.length(),h=Dt.util.createBuffer();return h.putByte(Z.HandshakeType.certificate),h.putInt24(m),jd(h,3,i),h};Z.createClientKeyExchange=function(e){var t=Dt.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(Dt.random.getBytes(46));var r=e.session.sp;r.pre_master_secret=t.getBytes();var n=e.session.serverCertificate.publicKey;t=n.encrypt(r.pre_master_secret);var i=t.length+2,s=Dt.util.createBuffer();return s.putByte(Z.HandshakeType.client_key_exchange),s.putInt24(i),s.putInt16(t.length),s.putBytes(t),s};Z.createServerKeyExchange=function(e){var t=0,r=Dt.util.createBuffer();return t>0&&(r.putByte(Z.HandshakeType.server_key_exchange),r.putInt24(t)),r};Z.getClientSignature=function(e,t){var r=Dt.util.createBuffer();r.putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest()),r=r.getBytes(),e.getSignature=e.getSignature||function(n,i,s){var a=null;if(n.getPrivateKey)try{a=n.getPrivateKey(n,n.session.clientCertificate),a=Dt.pki.privateKeyFromPem(a)}catch(l){n.error(n,{message:"Could not get private key.",cause:l,send:!0,alert:{level:Z.Alert.Level.fatal,description:Z.Alert.Description.internal_error}})}a===null?n.error(n,{message:"No private key set.",send:!0,alert:{level:Z.Alert.Level.fatal,description:Z.Alert.Description.internal_error}}):i=a.sign(i,null),s(n,i)},e.getSignature(e,r,t)};Z.createCertificateVerify=function(e,t){var r=t.length+2,n=Dt.util.createBuffer();return n.putByte(Z.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(t.length),n.putBytes(t),n};Z.createCertificateRequest=function(e){var t=Dt.util.createBuffer();t.putByte(1);var r=Dt.util.createBuffer();for(var n in e.caStore.certs){var i=e.caStore.certs[n],s=Dt.pki.distinguishedNameToAsn1(i.subject),a=Dt.asn1.toDer(s);r.putInt16(a.length()),r.putBuffer(a)}var l=1+t.length()+2+r.length(),c=Dt.util.createBuffer();return c.putByte(Z.HandshakeType.certificate_request),c.putInt24(l),jd(c,1,t),jd(c,2,r),c};Z.createServerHelloDone=function(e){var t=Dt.util.createBuffer();return t.putByte(Z.HandshakeType.server_hello_done),t.putInt24(0),t};Z.createChangeCipherSpec=function(){var e=Dt.util.createBuffer();return e.putByte(1),e};Z.createFinished=function(e){var t=Dt.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var r=e.entity===Z.ConnectionEnd.client,n=e.session.sp,i=12,s=Mq,a=r?"client finished":"server finished";t=s(n.master_secret,a,t.getBytes(),i);var l=Dt.util.createBuffer();return l.putByte(Z.HandshakeType.finished),l.putInt24(t.length()),l.putBuffer(t),l};Z.createHeartbeat=function(e,t,r){typeof r>"u"&&(r=t.length);var n=Dt.util.createBuffer();n.putByte(e),n.putInt16(r),n.putBytes(t);var i=n.length(),s=Math.max(16,i-r-3);return n.putBytes(Dt.random.getBytes(s)),n};Z.queue=function(e,t){if(t&&!(t.fragment.length()===0&&(t.type===Z.ContentType.handshake||t.type===Z.ContentType.alert||t.type===Z.ContentType.change_cipher_spec))){if(t.type===Z.ContentType.handshake){var r=t.fragment.bytes();e.session.md5.update(r),e.session.sha1.update(r),r=null}var n;if(t.fragment.length()<=Z.MaxFragment)n=[t];else{n=[];for(var i=t.fragment.bytes();i.length>Z.MaxFragment;)n.push(Z.createRecord(e,{type:t.type,data:Dt.util.createBuffer(i.slice(0,Z.MaxFragment))})),i=i.slice(Z.MaxFragment);i.length>0&&n.push(Z.createRecord(e,{type:t.type,data:Dt.util.createBuffer(i)}))}for(var s=0;s<n.length&&!e.fail;++s){var a=n[s],l=e.state.current.write;l.update(e,a)&&e.records.push(a)}}};Z.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var vse=o(function(e){switch(e){case!0:return!0;case Dt.pki.certificateError.bad_certificate:return Z.Alert.Description.bad_certificate;case Dt.pki.certificateError.unsupported_certificate:return Z.Alert.Description.unsupported_certificate;case Dt.pki.certificateError.certificate_revoked:return Z.Alert.Description.certificate_revoked;case Dt.pki.certificateError.certificate_expired:return Z.Alert.Description.certificate_expired;case Dt.pki.certificateError.certificate_unknown:return Z.Alert.Description.certificate_unknown;case Dt.pki.certificateError.unknown_ca:return Z.Alert.Description.unknown_ca;default:return Z.Alert.Description.bad_certificate}},"_certErrorToAlertDesc"),fIt=o(function(e){switch(e){case!0:return!0;case Z.Alert.Description.bad_certificate:return Dt.pki.certificateError.bad_certificate;case Z.Alert.Description.unsupported_certificate:return Dt.pki.certificateError.unsupported_certificate;case Z.Alert.Description.certificate_revoked:return Dt.pki.certificateError.certificate_revoked;case Z.Alert.Description.certificate_expired:return Dt.pki.certificateError.certificate_expired;case Z.Alert.Description.certificate_unknown:return Dt.pki.certificateError.certificate_unknown;case Z.Alert.Description.unknown_ca:return Dt.pki.certificateError.unknown_ca;default:return Dt.pki.certificateError.bad_certificate}},"_alertDescToCertError");Z.verifyCertificateChain=function(e,t){try{var r={};for(var n in e.verifyOptions)r[n]=e.verifyOptions[n];r.verify=function(s,a,l){var c=vse(s),u=e.verify(e,s,a,l);if(u!==!0){if(typeof u=="object"&&!Dt.util.isArray(u)){var f=new Error("The application rejected the certificate.");throw f.send=!0,f.alert={level:Z.Alert.Level.fatal,description:Z.Alert.Description.bad_certificate},u.message&&(f.message=u.message),u.alert&&(f.alert.description=u.alert),f}u!==s&&(u=fIt(u))}return u},Dt.pki.verifyCertificateChain(e.caStore,t,r)}catch(s){var i=s;(typeof i!="object"||Dt.util.isArray(i))&&(i={send:!0,alert:{level:Z.Alert.Level.fatal,description:vse(s)}}),"send"in i||(i.send=!0),"alert"in i||(i.alert={level:Z.Alert.Level.fatal,description:vse(i.error)}),e.error(e,i)}return!e.fail};Z.createSessionCache=function(e,t){var r=null;if(e&&e.getSession&&e.setSession&&e.order)r=e;else{r={},r.cache=e||{},r.capacity=Math.max(t||100,1),r.order=[];for(var n in e)r.order.length<=t?r.order.push(n):delete e[n];r.getSession=function(i){var s=null,a=null;if(i?a=Dt.util.bytesToHex(i):r.order.length>0&&(a=r.order[0]),a!==null&&a in r.cache){s=r.cache[a],delete r.cache[a];for(var l in r.order)if(r.order[l]===a){r.order.splice(l,1);break}}return s},r.setSession=function(i,s){if(r.order.length===r.capacity){var a=r.order.shift();delete r.cache[a]}var a=Dt.util.bytesToHex(i);r.order.push(a),r.cache[a]=s}}return r};Z.createConnection=function(e){var t=null;e.caStore?Dt.util.isArray(e.caStore)?t=Dt.pki.createCaStore(e.caStore):t=e.caStore:t=Dt.pki.createCaStore();var r=e.cipherSuites||null;if(r===null){r=[];for(var n in Z.CipherSuites)r.push(Z.CipherSuites[n])}var i=e.server?Z.ConnectionEnd.server:Z.ConnectionEnd.client,s=e.sessionCache?Z.createSessionCache(e.sessionCache):null,a={version:{major:Z.Version.major,minor:Z.Version.minor},entity:i,sessionId:e.sessionId,caStore:t,sessionCache:s,cipherSuites:r,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(f,m,h,p){return m},verifyOptions:e.verifyOptions||{},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:Dt.util.createBuffer(),tlsData:Dt.util.createBuffer(),data:Dt.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:o(function(f,m){m.origin=m.origin||(f.entity===Z.ConnectionEnd.client?"client":"server"),m.send&&(Z.queue(f,Z.createAlert(f,m.alert)),Z.flush(f));var h=m.fatal!==!1;h&&(f.fail=!0),e.error(f,m),h&&f.close(!1)},"error"),deflate:e.deflate||null,inflate:e.inflate||null};a.reset=function(f){a.version={major:Z.Version.major,minor:Z.Version.minor},a.record=null,a.session=null,a.peerCertificate=null,a.state={pending:null,current:null},a.expect=a.entity===Z.ConnectionEnd.client?YEt:rIt,a.fragmented=null,a.records=[],a.open=!1,a.handshakes=0,a.handshaking=!1,a.isConnected=!1,a.fail=!(f||typeof f>"u"),a.input.clear(),a.tlsData.clear(),a.data.clear(),a.state.current=Z.createConnectionState(a)},a.reset();var l=o(function(f,m){var h=m.type-Z.ContentType.change_cipher_spec,p=Ise[f.entity][f.expect];h in p?p[h](f,m):Z.handleUnexpected(f,m)},"_update"),c=o(function(f){var m=0,h=f.input,p=h.length();if(p<5)m=5-p;else{f.record={type:h.getByte(),version:{major:h.getByte(),minor:h.getByte()},length:h.getInt16(),fragment:Dt.util.createBuffer(),ready:!1};var g=f.record.version.major===f.version.major;g&&f.session&&f.session.version&&(g=f.record.version.minor===f.version.minor),g||f.error(f,{message:"Incompatible TLS version.",send:!0,alert:{level:Z.Alert.Level.fatal,description:Z.Alert.Description.protocol_version}})}return m},"_readRecordHeader"),u=o(function(f){var m=0,h=f.input,p=h.length();if(p<f.record.length)m=f.record.length-p;else{f.record.fragment.putBytes(h.getBytes(f.record.length)),h.compact();var g=f.state.current.read;g.update(f,f.record)&&(f.fragmented!==null&&(f.fragmented.type===f.record.type?(f.fragmented.fragment.putBuffer(f.record.fragment),f.record=f.fragmented):f.error(f,{message:"Invalid fragmented record.",send:!0,alert:{level:Z.Alert.Level.fatal,description:Z.Alert.Description.unexpected_message}})),f.record.ready=!0)}return m},"_readRecord");return a.handshake=function(f){if(a.entity!==Z.ConnectionEnd.client)a.error(a,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(a.handshaking)a.error(a,{message:"Handshake already in progress.",fatal:!1});else{a.fail&&!a.open&&a.handshakes===0&&(a.fail=!1),a.handshaking=!0,f=f||"";var m=null;f.length>0&&(a.sessionCache&&(m=a.sessionCache.getSession(f)),m===null&&(f="")),f.length===0&&a.sessionCache&&(m=a.sessionCache.getSession(),m!==null&&(f=m.id)),a.session={id:f,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:Dt.md.md5.create(),sha1:Dt.md.sha1.create()},m&&(a.version=m.version,a.session.sp=m.sp),a.session.sp.client_random=Z.createRandom().getBytes(),a.open=!0,Z.queue(a,Z.createRecord(a,{type:Z.ContentType.handshake,data:Z.createClientHello(a)})),Z.flush(a)}},a.process=function(f){var m=0;return f&&a.input.putBytes(f),a.fail||(a.record!==null&&a.record.ready&&a.record.fragment.isEmpty()&&(a.record=null),a.record===null&&(m=c(a)),!a.fail&&a.record!==null&&!a.record.ready&&(m=u(a)),!a.fail&&a.record!==null&&a.record.ready&&l(a,a.record)),m},a.prepare=function(f){return Z.queue(a,Z.createRecord(a,{type:Z.ContentType.application_data,data:Dt.util.createBuffer(f)})),Z.flush(a)},a.prepareHeartbeatRequest=function(f,m){return f instanceof Dt.util.ByteBuffer&&(f=f.bytes()),typeof m>"u"&&(m=f.length),a.expectedHeartbeatPayload=f,Z.queue(a,Z.createRecord(a,{type:Z.ContentType.heartbeat,data:Z.createHeartbeat(Z.HeartbeatMessageType.heartbeat_request,f,m)})),Z.flush(a)},a.close=function(f){if(!a.fail&&a.sessionCache&&a.session){var m={id:a.session.id,version:a.session.version,sp:a.session.sp};m.sp.keys=null,a.sessionCache.setSession(m.id,m)}a.open&&(a.open=!1,a.input.clear(),(a.isConnected||a.handshaking)&&(a.isConnected=a.handshaking=!1,Z.queue(a,Z.createAlert(a,{level:Z.Alert.Level.warning,description:Z.Alert.Description.close_notify})),Z.flush(a)),a.closed(a)),a.reset(f)},a};CBe.exports=Dt.tls=Dt.tls||{};for(Lq in Z)typeof Z[Lq]!="function"&&(Dt.tls[Lq]=Z[Lq]);var Lq;Dt.tls.prf_tls1=Mq;Dt.tls.hmac_sha1=VEt;Dt.tls.createSessionCache=Z.createSessionCache;Dt.tls.createConnection=Z.createConnection});var bBe=j(($Vr,vBe)=>{d();var tC=ci();z5();Tse();var Vd=vBe.exports=tC.tls;Vd.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:o(function(e){e.bulk_cipher_algorithm=Vd.BulkCipherAlgorithm.aes,e.cipher_type=Vd.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=Vd.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},"initSecurityParameters"),initConnectionState:xBe};Vd.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:o(function(e){e.bulk_cipher_algorithm=Vd.BulkCipherAlgorithm.aes,e.cipher_type=Vd.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=Vd.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},"initSecurityParameters"),initConnectionState:xBe};function xBe(e,t,r){var n=t.entity===tC.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:tC.cipher.createDecipher("AES-CBC",n?r.keys.server_write_key:r.keys.client_write_key),iv:n?r.keys.server_write_IV:r.keys.client_write_IV},e.write.cipherState={init:!1,cipher:tC.cipher.createCipher("AES-CBC",n?r.keys.client_write_key:r.keys.server_write_key),iv:n?r.keys.client_write_IV:r.keys.server_write_IV},e.read.cipherFunction=pIt,e.write.cipherFunction=dIt,e.read.macLength=e.write.macLength=r.mac_length,e.read.macFunction=e.write.macFunction=Vd.hmac_sha1}o(xBe,"initConnectionState");function dIt(e,t){var r=!1,n=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(n),t.updateSequenceNumber();var i;e.version.minor===Vd.Versions.TLS_1_0.minor?i=t.cipherState.init?null:t.cipherState.iv:i=tC.random.getBytesSync(16),t.cipherState.init=!0;var s=t.cipherState.cipher;return s.start({iv:i}),e.version.minor>=Vd.Versions.TLS_1_1.minor&&s.output.putBytes(i),s.update(e.fragment),s.finish(mIt)&&(e.fragment=s.output,e.length=e.fragment.length(),r=!0),r}o(dIt,"encrypt_aes_cbc_sha1");function mIt(e,t,r){if(!r){var n=e-t.length()%e;t.fillWithByte(n-1,n)}return!0}o(mIt,"encrypt_aes_cbc_sha1_padding");function hIt(e,t,r){var n=!0;if(r){for(var i=t.length(),s=t.last(),a=i-1-s;a<i-1;++a)n=n&&t.at(a)==s;n&&t.truncate(s+1)}return n}o(hIt,"decrypt_aes_cbc_sha1_padding");function pIt(e,t){var r=!1,n;e.version.minor===Vd.Versions.TLS_1_0.minor?n=t.cipherState.init?null:t.cipherState.iv:n=e.fragment.getBytes(16),t.cipherState.init=!0;var i=t.cipherState.cipher;i.start({iv:n}),i.update(e.fragment),r=i.finish(hIt);var s=t.macLength,a=tC.random.getBytesSync(s),l=i.output.length();l>=s?(e.fragment=i.output.getBytes(l-s),a=i.output.getBytes(s)):e.fragment=i.output.getBytes(),e.fragment=tC.util.createBuffer(e.fragment),e.length=e.fragment.length();var c=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),r=gIt(t.macKey,a,c)&&r,r}o(pIt,"decrypt_aes_cbc_sha1");function gIt(e,t,r){var n=tC.hmac.create();return n.start("SHA1",e),n.update(t),t=n.digest().getBytes(),n.start(null,null),n.update(r),r=n.digest().getBytes(),t===r}o(gIt,"compareMacs")});var Sse=j((KVr,wBe)=>{d();var xs=ci();og();ao();var zS=wBe.exports=xs.sha512=xs.sha512||{};xs.md.sha512=xs.md.algorithms.sha512=zS;var IBe=xs.sha384=xs.sha512.sha384=xs.sha512.sha384||{};IBe.create=function(){return zS.create("SHA-384")};xs.md.sha384=xs.md.algorithms.sha384=IBe;xs.sha512.sha256=xs.sha512.sha256||{create:o(function(){return zS.create("SHA-512/256")},"create")};xs.md["sha512/256"]=xs.md.algorithms["sha512/256"]=xs.sha512.sha256;xs.sha512.sha224=xs.sha512.sha224||{create:o(function(){return zS.create("SHA-512/224")},"create")};xs.md["sha512/224"]=xs.md.algorithms["sha512/224"]=xs.sha512.sha224;zS.create=function(e){if(TBe||AIt(),typeof e>"u"&&(e="SHA-512"),!(e in Ox))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=Ox[e],r=null,n=xs.util.createBuffer(),i=new Array(80),s=0;s<80;++s)i[s]=new Array(2);var a=64;switch(e){case"SHA-384":a=48;break;case"SHA-512/256":a=32;break;case"SHA-512/224":a=28;break}var l={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:a,messageLength:0,fullMessageLength:null,messageLengthSize:16};return l.start=function(){l.messageLength=0,l.fullMessageLength=l.messageLength128=[];for(var c=l.messageLengthSize/4,u=0;u<c;++u)l.fullMessageLength.push(0);n=xs.util.createBuffer(),r=new Array(t.length);for(var u=0;u<t.length;++u)r[u]=t[u].slice(0);return l},l.start(),l.update=function(c,u){u==="utf8"&&(c=xs.util.encodeUtf8(c));var f=c.length;l.messageLength+=f,f=[f/4294967296>>>0,f>>>0];for(var m=l.fullMessageLength.length-1;m>=0;--m)l.fullMessageLength[m]+=f[1],f[1]=f[0]+(l.fullMessageLength[m]/4294967296>>>0),l.fullMessageLength[m]=l.fullMessageLength[m]>>>0,f[0]=f[1]/4294967296>>>0;return n.putBytes(c),EBe(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),l},l.digest=function(){var c=xs.util.createBuffer();c.putBytes(n.bytes());var u=l.fullMessageLength[l.fullMessageLength.length-1]+l.messageLengthSize,f=u&l.blockLength-1;c.putBytes(wse.substr(0,l.blockLength-f));for(var m,h,p=l.fullMessageLength[0]*8,g=0;g<l.fullMessageLength.length-1;++g)m=l.fullMessageLength[g+1]*8,h=m/4294967296>>>0,p+=h,c.putInt32(p>>>0),p=m>>>0;c.putInt32(p);for(var x=new Array(r.length),g=0;g<r.length;++g)x[g]=r[g].slice(0);EBe(x,i,c);var v=xs.util.createBuffer(),E;e==="SHA-512"?E=x.length:e==="SHA-384"?E=x.length-2:E=x.length-4;for(var g=0;g<E;++g)v.putInt32(x[g][0]),(g!==E-1||e!=="SHA-512/224")&&v.putInt32(x[g][1]);return v},l};var wse=null,TBe=!1,_se=null,Ox=null;function AIt(){wse="\x80",wse+=xs.util.fillString("\0",128),_se=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],Ox={},Ox["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],Ox["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],Ox["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],Ox["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],TBe=!0}o(AIt,"_init");function EBe(e,t,r){for(var n,i,s,a,l,c,u,f,m,h,p,g,x,v,E,b,_,R,P,F,G,se,Ae,re,W,q,oe,X,H,O,V,J,ae,te,le,ce=r.length();ce>=128;){for(H=0;H<16;++H)t[H][0]=r.getInt32()>>>0,t[H][1]=r.getInt32()>>>0;for(;H<80;++H)J=t[H-2],O=J[0],V=J[1],n=((O>>>19|V<<13)^(V>>>29|O<<3)^O>>>6)>>>0,i=((O<<13|V>>>19)^(V<<3|O>>>29)^(O<<26|V>>>6))>>>0,te=t[H-15],O=te[0],V=te[1],s=((O>>>1|V<<31)^(O>>>8|V<<24)^O>>>7)>>>0,a=((O<<31|V>>>1)^(O<<24|V>>>8)^(O<<25|V>>>7))>>>0,ae=t[H-7],le=t[H-16],V=i+ae[1]+a+le[1],t[H][0]=n+ae[0]+s+le[0]+(V/4294967296>>>0)>>>0,t[H][1]=V>>>0;for(x=e[0][0],v=e[0][1],E=e[1][0],b=e[1][1],_=e[2][0],R=e[2][1],P=e[3][0],F=e[3][1],G=e[4][0],se=e[4][1],Ae=e[5][0],re=e[5][1],W=e[6][0],q=e[6][1],oe=e[7][0],X=e[7][1],H=0;H<80;++H)u=((G>>>14|se<<18)^(G>>>18|se<<14)^(se>>>9|G<<23))>>>0,f=((G<<18|se>>>14)^(G<<14|se>>>18)^(se<<23|G>>>9))>>>0,m=(W^G&(Ae^W))>>>0,h=(q^se&(re^q))>>>0,l=((x>>>28|v<<4)^(v>>>2|x<<30)^(v>>>7|x<<25))>>>0,c=((x<<4|v>>>28)^(v<<30|x>>>2)^(v<<25|x>>>7))>>>0,p=(x&E|_&(x^E))>>>0,g=(v&b|R&(v^b))>>>0,V=X+f+h+_se[H][1]+t[H][1],n=oe+u+m+_se[H][0]+t[H][0]+(V/4294967296>>>0)>>>0,i=V>>>0,V=c+g,s=l+p+(V/4294967296>>>0)>>>0,a=V>>>0,oe=W,X=q,W=Ae,q=re,Ae=G,re=se,V=F+i,G=P+n+(V/4294967296>>>0)>>>0,se=V>>>0,P=_,F=R,_=E,R=b,E=x,b=v,V=i+a,x=n+s+(V/4294967296>>>0)>>>0,v=V>>>0;V=e[0][1]+v,e[0][0]=e[0][0]+x+(V/4294967296>>>0)>>>0,e[0][1]=V>>>0,V=e[1][1]+b,e[1][0]=e[1][0]+E+(V/4294967296>>>0)>>>0,e[1][1]=V>>>0,V=e[2][1]+R,e[2][0]=e[2][0]+_+(V/4294967296>>>0)>>>0,e[2][1]=V>>>0,V=e[3][1]+F,e[3][0]=e[3][0]+P+(V/4294967296>>>0)>>>0,e[3][1]=V>>>0,V=e[4][1]+se,e[4][0]=e[4][0]+G+(V/4294967296>>>0)>>>0,e[4][1]=V>>>0,V=e[5][1]+re,e[5][0]=e[5][0]+Ae+(V/4294967296>>>0)>>>0,e[5][1]=V>>>0,V=e[6][1]+q,e[6][0]=e[6][0]+W+(V/4294967296>>>0)>>>0,e[6][1]=V>>>0,V=e[7][1]+X,e[7][0]=e[7][0]+oe+(V/4294967296>>>0)>>>0,e[7][1]=V>>>0,ce-=128}}o(EBe,"_update")});var _Be=j(kse=>{d();var yIt=ci();yh();var Nl=yIt.asn1;kse.privateKeyValidator={name:"PrivateKeyInfo",tagClass:Nl.Class.UNIVERSAL,type:Nl.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:Nl.Class.UNIVERSAL,type:Nl.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:Nl.Class.UNIVERSAL,type:Nl.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Nl.Class.UNIVERSAL,type:Nl.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:Nl.Class.UNIVERSAL,type:Nl.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};kse.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:Nl.Class.UNIVERSAL,type:Nl.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:Nl.Class.UNIVERSAL,type:Nl.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Nl.Class.UNIVERSAL,type:Nl.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:Nl.Class.UNIVERSAL,type:Nl.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}});var UBe=j((t$r,OBe)=>{d();var lc=ci();HS();qd();Sse();ao();var PBe=_Be(),CIt=PBe.publicKeyValidator,xIt=PBe.privateKeyValidator;typeof SBe>"u"&&(SBe=lc.jsbn.BigInteger);var SBe,Dse=lc.util.ByteBuffer,hu=typeof Buffer>"u"?Uint8Array:Buffer;lc.pki=lc.pki||{};OBe.exports=lc.pki.ed25519=lc.ed25519=lc.ed25519||{};var _i=lc.ed25519;_i.constants={};_i.constants.PUBLIC_KEY_BYTE_LENGTH=32;_i.constants.PRIVATE_KEY_BYTE_LENGTH=64;_i.constants.SEED_BYTE_LENGTH=32;_i.constants.SIGN_BYTE_LENGTH=64;_i.constants.HASH_BYTE_LENGTH=64;_i.generateKeyPair=function(e){e=e||{};var t=e.seed;if(t===void 0)t=lc.random.getBytesSync(_i.constants.SEED_BYTE_LENGTH);else if(typeof t=="string"){if(t.length!==_i.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+_i.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=IA({message:t,encoding:"binary"});for(var r=new hu(_i.constants.PUBLIC_KEY_BYTE_LENGTH),n=new hu(_i.constants.PRIVATE_KEY_BYTE_LENGTH),i=0;i<32;++i)n[i]=t[i];return IIt(r,n),{publicKey:r,privateKey:n}};_i.privateKeyFromAsn1=function(e){var t={},r=[],n=lc.asn1.validate(e,xIt,t,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var s=lc.asn1.derToOid(t.privateKeyOid),a=lc.oids.EdDSA25519;if(s!==a)throw new Error('Invalid OID "'+s+'"; OID must be "'+a+'".');var l=t.privateKey,c=IA({message:lc.asn1.fromDer(l).value,encoding:"binary"});return{privateKeyBytes:c}};_i.publicKeyFromAsn1=function(e){var t={},r=[],n=lc.asn1.validate(e,CIt,t,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var s=lc.asn1.derToOid(t.publicKeyOid),a=lc.oids.EdDSA25519;if(s!==a)throw new Error('Invalid OID "'+s+'"; OID must be "'+a+'".');var l=t.ed25519PublicKey;if(l.length!==_i.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return IA({message:l,encoding:"binary"})};_i.publicKeyFromPrivateKey=function(e){e=e||{};var t=IA({message:e.privateKey,encoding:"binary"});if(t.length!==_i.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+_i.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new hu(_i.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=t[32+n];return r};_i.sign=function(e){e=e||{};var t=IA(e),r=IA({message:e.privateKey,encoding:"binary"});if(r.length===_i.constants.SEED_BYTE_LENGTH){var n=_i.generateKeyPair({seed:r});r=n.privateKey}else if(r.length!==_i.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+_i.constants.SEED_BYTE_LENGTH+" or "+_i.constants.PRIVATE_KEY_BYTE_LENGTH);var i=new hu(_i.constants.SIGN_BYTE_LENGTH+t.length);TIt(i,t,t.length,r);for(var s=new hu(_i.constants.SIGN_BYTE_LENGTH),a=0;a<s.length;++a)s[a]=i[a];return s};_i.verify=function(e){e=e||{};var t=IA(e);if(e.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=IA({message:e.signature,encoding:"binary"});if(r.length!==_i.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+_i.constants.SIGN_BYTE_LENGTH);var n=IA({message:e.publicKey,encoding:"binary"});if(n.length!==_i.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+_i.constants.PUBLIC_KEY_BYTE_LENGTH);var i=new hu(_i.constants.SIGN_BYTE_LENGTH+t.length),s=new hu(_i.constants.SIGN_BYTE_LENGTH+t.length),a;for(a=0;a<_i.constants.SIGN_BYTE_LENGTH;++a)i[a]=r[a];for(a=0;a<t.length;++a)i[a+_i.constants.SIGN_BYTE_LENGTH]=t[a];return wIt(s,i,i.length,n)>=0};function IA(e){var t=e.message;if(t instanceof Uint8Array||t instanceof hu)return t;var r=e.encoding;if(t===void 0)if(e.md)t=e.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof t=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.from(t,r);t=new Dse(t,r)}else if(!(t instanceof Dse))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new hu(t.length()),i=0;i<n.length;++i)n[i]=t.at(i);return n}o(IA,"messageToNativeBuffer");var Pse=Cn(),Oq=Cn([1]),vIt=Cn([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),bIt=Cn([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),kBe=Cn([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),RBe=Cn([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),Rse=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),EIt=Cn([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function YS(e,t){var r=lc.md.sha512.create(),n=new Dse(e);r.update(n.getBytes(t),"binary");var i=r.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(i,"binary");for(var s=new hu(_i.constants.HASH_BYTE_LENGTH),a=0;a<64;++a)s[a]=i.charCodeAt(a);return s}o(YS,"sha512");function IIt(e,t){var r=[Cn(),Cn(),Cn(),Cn()],n,i=YS(t,32);for(i[0]&=248,i[31]&=127,i[31]|=64,Qse(r,i),Lse(e,r),n=0;n<32;++n)t[n+32]=e[n];return 0}o(IIt,"crypto_sign_keypair");function TIt(e,t,r,n){var i,s,a=new Float64Array(64),l=[Cn(),Cn(),Cn(),Cn()],c=YS(n,32);c[0]&=248,c[31]&=127,c[31]|=64;var u=r+64;for(i=0;i<r;++i)e[64+i]=t[i];for(i=0;i<32;++i)e[32+i]=c[32+i];var f=YS(e.subarray(32),r+32);for(Fse(f),Qse(l,f),Lse(e,l),i=32;i<64;++i)e[i]=n[i];var m=YS(e,r+64);for(Fse(m),i=32;i<64;++i)a[i]=0;for(i=0;i<32;++i)a[i]=f[i];for(i=0;i<32;++i)for(s=0;s<32;s++)a[i+s]+=m[i]*c[s];return FBe(e.subarray(32),a),u}o(TIt,"crypto_sign");function wIt(e,t,r,n){var i,s,a=new hu(32),l=[Cn(),Cn(),Cn(),Cn()],c=[Cn(),Cn(),Cn(),Cn()];if(s=-1,r<64||_It(c,n))return-1;for(i=0;i<r;++i)e[i]=t[i];for(i=0;i<32;++i)e[i+32]=n[i];var u=YS(e,r);if(Fse(u),QBe(l,c,u),Qse(c,t.subarray(32)),Nse(l,c),Lse(a,l),r-=64,NBe(t,0,a,0)){for(i=0;i<r;++i)e[i]=0;return-1}for(i=0;i<r;++i)e[i]=t[i+64];return s=r,s}o(wIt,"crypto_sign_open");function FBe(e,t){var r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)t[i]+=r-16*t[n]*Rse[i-(n-32)],r=t[i]+128>>8,t[i]-=r*256;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;++i)t[i]+=r-(t[31]>>4)*Rse[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;++i)t[i]-=r*Rse[i];for(n=0;n<32;++n)t[n+1]+=t[n]>>8,e[n]=t[n]&255}o(FBe,"modL");function Fse(e){for(var t=new Float64Array(64),r=0;r<64;++r)t[r]=e[r],e[r]=0;FBe(e,t)}o(Fse,"reduce");function Nse(e,t){var r=Cn(),n=Cn(),i=Cn(),s=Cn(),a=Cn(),l=Cn(),c=Cn(),u=Cn(),f=Cn();T6(r,e[1],e[0]),T6(f,t[1],t[0]),Vo(r,r,f),I6(n,e[0],e[1]),I6(f,t[0],t[1]),Vo(n,n,f),Vo(i,e[3],t[3]),Vo(i,i,bIt),Vo(s,e[2],t[2]),I6(s,s,s),T6(a,n,r),T6(l,s,i),I6(c,s,i),I6(u,n,r),Vo(e[0],a,l),Vo(e[1],u,c),Vo(e[2],c,l),Vo(e[3],a,u)}o(Nse,"add");function BBe(e,t,r){for(var n=0;n<4;++n)MBe(e[n],t[n],r)}o(BBe,"cswap");function Lse(e,t){var r=Cn(),n=Cn(),i=Cn();BIt(i,t[2]),Vo(r,t[0],i),Vo(n,t[1],i),Uq(e,n),e[31]^=LBe(r)<<7}o(Lse,"pack");function Uq(e,t){var r,n,i,s=Cn(),a=Cn();for(r=0;r<16;++r)a[r]=t[r];for(Bse(a),Bse(a),Bse(a),n=0;n<2;++n){for(s[0]=a[0]-65517,r=1;r<15;++r)s[r]=a[r]-65535-(s[r-1]>>16&1),s[r-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),i=s[15]>>16&1,s[14]&=65535,MBe(a,s,1-i)}for(r=0;r<16;r++)e[2*r]=a[r]&255,e[2*r+1]=a[r]>>8}o(Uq,"pack25519");function _It(e,t){var r=Cn(),n=Cn(),i=Cn(),s=Cn(),a=Cn(),l=Cn(),c=Cn();return rC(e[2],Oq),SIt(e[1],t),Ux(i,e[1]),Vo(s,i,vIt),T6(i,i,e[2]),I6(s,e[2],s),Ux(a,s),Ux(l,a),Vo(c,l,a),Vo(r,c,i),Vo(r,r,s),kIt(r,r),Vo(r,r,i),Vo(r,r,s),Vo(r,r,s),Vo(e[0],r,s),Ux(n,e[0]),Vo(n,n,s),DBe(n,i)&&Vo(e[0],e[0],EIt),Ux(n,e[0]),Vo(n,n,s),DBe(n,i)?-1:(LBe(e[0])===t[31]>>7&&T6(e[0],Pse,e[0]),Vo(e[3],e[0],e[1]),0)}o(_It,"unpackneg");function SIt(e,t){var r;for(r=0;r<16;++r)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}o(SIt,"unpack25519");function kIt(e,t){var r=Cn(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=250;n>=0;--n)Ux(r,r),n!==1&&Vo(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}o(kIt,"pow2523");function DBe(e,t){var r=new hu(32),n=new hu(32);return Uq(r,e),Uq(n,t),NBe(r,0,n,0)}o(DBe,"neq25519");function NBe(e,t,r,n){return RIt(e,t,r,n,32)}o(NBe,"crypto_verify_32");function RIt(e,t,r,n,i){var s,a=0;for(s=0;s<i;++s)a|=e[t+s]^r[n+s];return(1&a-1>>>8)-1}o(RIt,"vn");function LBe(e){var t=new hu(32);return Uq(t,e),t[0]&1}o(LBe,"par25519");function QBe(e,t,r){var n,i;for(rC(e[0],Pse),rC(e[1],Oq),rC(e[2],Oq),rC(e[3],Pse),i=255;i>=0;--i)n=r[i/8|0]>>(i&7)&1,BBe(e,t,n),Nse(t,e),Nse(e,e),BBe(e,t,n)}o(QBe,"scalarmult");function Qse(e,t){var r=[Cn(),Cn(),Cn(),Cn()];rC(r[0],kBe),rC(r[1],RBe),rC(r[2],Oq),Vo(r[3],kBe,RBe),QBe(e,r,t)}o(Qse,"scalarbase");function rC(e,t){var r;for(r=0;r<16;r++)e[r]=t[r]|0}o(rC,"set25519");function BIt(e,t){var r=Cn(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=253;n>=0;--n)Ux(r,r),n!==2&&n!==4&&Vo(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}o(BIt,"inv25519");function Bse(e){var t,r,n=1;for(t=0;t<16;++t)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-n*65536;e[0]+=n-1+37*(n-1)}o(Bse,"car25519");function MBe(e,t,r){for(var n,i=~(r-1),s=0;s<16;++s)n=i&(e[s]^t[s]),e[s]^=n,t[s]^=n}o(MBe,"sel25519");function Cn(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;++t)r[t]=e[t];return r}o(Cn,"gf");function I6(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]+r[n]}o(I6,"A");function T6(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]-r[n]}o(T6,"Z");function Ux(e,t){Vo(e,t,t)}o(Ux,"S");function Vo(e,t,r){var n,i,s=0,a=0,l=0,c=0,u=0,f=0,m=0,h=0,p=0,g=0,x=0,v=0,E=0,b=0,_=0,R=0,P=0,F=0,G=0,se=0,Ae=0,re=0,W=0,q=0,oe=0,X=0,H=0,O=0,V=0,J=0,ae=0,te=r[0],le=r[1],ce=r[2],Pe=r[3],Ie=r[4],Fe=r[5],Re=r[6],Ge=r[7],lt=r[8],st=r[9],ct=r[10],ne=r[11],Ne=r[12],ge=r[13],He=r[14],z=r[15];n=t[0],s+=n*te,a+=n*le,l+=n*ce,c+=n*Pe,u+=n*Ie,f+=n*Fe,m+=n*Re,h+=n*Ge,p+=n*lt,g+=n*st,x+=n*ct,v+=n*ne,E+=n*Ne,b+=n*ge,_+=n*He,R+=n*z,n=t[1],a+=n*te,l+=n*le,c+=n*ce,u+=n*Pe,f+=n*Ie,m+=n*Fe,h+=n*Re,p+=n*Ge,g+=n*lt,x+=n*st,v+=n*ct,E+=n*ne,b+=n*Ne,_+=n*ge,R+=n*He,P+=n*z,n=t[2],l+=n*te,c+=n*le,u+=n*ce,f+=n*Pe,m+=n*Ie,h+=n*Fe,p+=n*Re,g+=n*Ge,x+=n*lt,v+=n*st,E+=n*ct,b+=n*ne,_+=n*Ne,R+=n*ge,P+=n*He,F+=n*z,n=t[3],c+=n*te,u+=n*le,f+=n*ce,m+=n*Pe,h+=n*Ie,p+=n*Fe,g+=n*Re,x+=n*Ge,v+=n*lt,E+=n*st,b+=n*ct,_+=n*ne,R+=n*Ne,P+=n*ge,F+=n*He,G+=n*z,n=t[4],u+=n*te,f+=n*le,m+=n*ce,h+=n*Pe,p+=n*Ie,g+=n*Fe,x+=n*Re,v+=n*Ge,E+=n*lt,b+=n*st,_+=n*ct,R+=n*ne,P+=n*Ne,F+=n*ge,G+=n*He,se+=n*z,n=t[5],f+=n*te,m+=n*le,h+=n*ce,p+=n*Pe,g+=n*Ie,x+=n*Fe,v+=n*Re,E+=n*Ge,b+=n*lt,_+=n*st,R+=n*ct,P+=n*ne,F+=n*Ne,G+=n*ge,se+=n*He,Ae+=n*z,n=t[6],m+=n*te,h+=n*le,p+=n*ce,g+=n*Pe,x+=n*Ie,v+=n*Fe,E+=n*Re,b+=n*Ge,_+=n*lt,R+=n*st,P+=n*ct,F+=n*ne,G+=n*Ne,se+=n*ge,Ae+=n*He,re+=n*z,n=t[7],h+=n*te,p+=n*le,g+=n*ce,x+=n*Pe,v+=n*Ie,E+=n*Fe,b+=n*Re,_+=n*Ge,R+=n*lt,P+=n*st,F+=n*ct,G+=n*ne,se+=n*Ne,Ae+=n*ge,re+=n*He,W+=n*z,n=t[8],p+=n*te,g+=n*le,x+=n*ce,v+=n*Pe,E+=n*Ie,b+=n*Fe,_+=n*Re,R+=n*Ge,P+=n*lt,F+=n*st,G+=n*ct,se+=n*ne,Ae+=n*Ne,re+=n*ge,W+=n*He,q+=n*z,n=t[9],g+=n*te,x+=n*le,v+=n*ce,E+=n*Pe,b+=n*Ie,_+=n*Fe,R+=n*Re,P+=n*Ge,F+=n*lt,G+=n*st,se+=n*ct,Ae+=n*ne,re+=n*Ne,W+=n*ge,q+=n*He,oe+=n*z,n=t[10],x+=n*te,v+=n*le,E+=n*ce,b+=n*Pe,_+=n*Ie,R+=n*Fe,P+=n*Re,F+=n*Ge,G+=n*lt,se+=n*st,Ae+=n*ct,re+=n*ne,W+=n*Ne,q+=n*ge,oe+=n*He,X+=n*z,n=t[11],v+=n*te,E+=n*le,b+=n*ce,_+=n*Pe,R+=n*Ie,P+=n*Fe,F+=n*Re,G+=n*Ge,se+=n*lt,Ae+=n*st,re+=n*ct,W+=n*ne,q+=n*Ne,oe+=n*ge,X+=n*He,H+=n*z,n=t[12],E+=n*te,b+=n*le,_+=n*ce,R+=n*Pe,P+=n*Ie,F+=n*Fe,G+=n*Re,se+=n*Ge,Ae+=n*lt,re+=n*st,W+=n*ct,q+=n*ne,oe+=n*Ne,X+=n*ge,H+=n*He,O+=n*z,n=t[13],b+=n*te,_+=n*le,R+=n*ce,P+=n*Pe,F+=n*Ie,G+=n*Fe,se+=n*Re,Ae+=n*Ge,re+=n*lt,W+=n*st,q+=n*ct,oe+=n*ne,X+=n*Ne,H+=n*ge,O+=n*He,V+=n*z,n=t[14],_+=n*te,R+=n*le,P+=n*ce,F+=n*Pe,G+=n*Ie,se+=n*Fe,Ae+=n*Re,re+=n*Ge,W+=n*lt,q+=n*st,oe+=n*ct,X+=n*ne,H+=n*Ne,O+=n*ge,V+=n*He,J+=n*z,n=t[15],R+=n*te,P+=n*le,F+=n*ce,G+=n*Pe,se+=n*Ie,Ae+=n*Fe,re+=n*Re,W+=n*Ge,q+=n*lt,oe+=n*st,X+=n*ct,H+=n*ne,O+=n*Ne,V+=n*ge,J+=n*He,ae+=n*z,s+=38*P,a+=38*F,l+=38*G,c+=38*se,u+=38*Ae,f+=38*re,m+=38*W,h+=38*q,p+=38*oe,g+=38*X,x+=38*H,v+=38*O,E+=38*V,b+=38*J,_+=38*ae,i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=b+i+65535,i=Math.floor(n/65536),b=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=R+i+65535,i=Math.floor(n/65536),R=n-i*65536,s+=i-1+37*(i-1),i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=b+i+65535,i=Math.floor(n/65536),b=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=R+i+65535,i=Math.floor(n/65536),R=n-i*65536,s+=i-1+37*(i-1),e[0]=s,e[1]=a,e[2]=l,e[3]=c,e[4]=u,e[5]=f,e[6]=m,e[7]=h,e[8]=p,e[9]=g,e[10]=x,e[11]=v,e[12]=E,e[13]=b,e[14]=_,e[15]=R}o(Vo,"M")});var HBe=j((i$r,GBe)=>{d();var bf=ci();ao();qd();HS();GBe.exports=bf.kem=bf.kem||{};var qBe=bf.jsbn.BigInteger;bf.kem.rsa={};bf.kem.rsa.create=function(e,t){t=t||{};var r=t.prng||bf.random,n={};return n.encrypt=function(i,s){var a=Math.ceil(i.n.bitLength()/8),l;do l=new qBe(bf.util.bytesToHex(r.getBytesSync(a)),16).mod(i.n);while(l.compareTo(qBe.ONE)<=0);l=bf.util.hexToBytes(l.toString(16));var c=a-l.length;c>0&&(l=bf.util.fillString("\0",c)+l);var u=i.encrypt(l,"NONE"),f=e.generate(l,s);return{encapsulation:u,key:f}},n.decrypt=function(i,s,a){var l=i.decrypt(s,"NONE");return e.generate(l,a)},n};bf.kem.kdf1=function(e,t){WBe(this,e,0,t||e.digestLength)};bf.kem.kdf2=function(e,t){WBe(this,e,1,t||e.digestLength)};function WBe(e,t,r,n){e.generate=function(i,s){for(var a=new bf.util.ByteBuffer,l=Math.ceil(s/n)+r,c=new bf.util.ByteBuffer,u=r;u<l;++u){c.putInt32(u),t.start(),t.update(i+c.getBytes());var f=t.digest();a.putBytes(f.getBytes(n))}return a.truncate(a.length()-s),a.getBytes()}}o(WBe,"_createKDF")});var zBe=j((a$r,$Be)=>{d();var Qi=ci();ao();$Be.exports=Qi.log=Qi.log||{};Qi.log.levels=["none","error","warning","info","debug","verbose","max"];var qq={},Use=[],JS=null;Qi.log.LEVEL_LOCKED=2;Qi.log.NO_LEVEL_CHECK=4;Qi.log.INTERPOLATE=8;for(mg=0;mg<Qi.log.levels.length;++mg)Mse=Qi.log.levels[mg],qq[Mse]={index:mg,name:Mse.toUpperCase()};var Mse,mg;Qi.log.logMessage=function(e){for(var t=qq[e.level].index,r=0;r<Use.length;++r){var n=Use[r];if(n.flags&Qi.log.NO_LEVEL_CHECK)n.f(e);else{var i=qq[n.level].index;t<=i&&n.f(n,e)}}};Qi.log.prepareStandard=function(e){"standard"in e||(e.standard=qq[e.level].name+" ["+e.category+"] "+e.message)};Qi.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]),e.full=Qi.util.format.apply(this,t)}};Qi.log.prepareStandardFull=function(e){"standardFull"in e||(Qi.log.prepareStandard(e),e.standardFull=e.standard)};for(Ose=["error","warning","info","debug","verbose"],mg=0;mg<Ose.length;++mg)(function(t){Qi.log[t]=function(r,n){var i=Array.prototype.slice.call(arguments).slice(2),s={timestamp:new Date,level:t,category:r,message:n,arguments:i};Qi.log.logMessage(s)}})(Ose[mg]);var Ose,mg;Qi.log.makeLogger=function(e){var t={flags:0,f:e};return Qi.log.setLevel(t,"none"),t};Qi.log.setLevel=function(e,t){var r=!1;if(e&&!(e.flags&Qi.log.LEVEL_LOCKED))for(var n=0;n<Qi.log.levels.length;++n){var i=Qi.log.levels[n];if(t==i){e.level=t,r=!0;break}}return r};Qi.log.lock=function(e,t){typeof t>"u"||t?e.flags|=Qi.log.LEVEL_LOCKED:e.flags&=~Qi.log.LEVEL_LOCKED};Qi.log.addLogger=function(e){Use.push(e)};typeof console<"u"&&"log"in console?(console.error&&console.warn&&console.info&&console.debug?(jBe={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},ZS=o(function(e,t){Qi.log.prepareStandard(t);var r=jBe[t.level],n=[t.standard];n=n.concat(t.arguments.slice()),r.apply(console,n)},"f"),w6=Qi.log.makeLogger(ZS)):(ZS=o(function(t,r){Qi.log.prepareStandardFull(r),console.log(r.standardFull)},"f"),w6=Qi.log.makeLogger(ZS)),Qi.log.setLevel(w6,"debug"),Qi.log.addLogger(w6),JS=w6):console={log:o(function(){},"log")};var w6,jBe,ZS;JS!==null&&typeof window<"u"&&window.location&&(KS=new URL(window.location.href).searchParams,KS.has("console.level")&&Qi.log.setLevel(JS,KS.get("console.level").slice(-1)[0]),KS.has("console.lock")&&(VBe=KS.get("console.lock").slice(-1)[0],VBe=="true"&&Qi.log.lock(JS)));var KS,VBe;Qi.log.consoleLogger=JS});var KBe=j((u$r,YBe)=>{d();YBe.exports=og();xq();C6();Xoe();Sse()});var XBe=j((d$r,ZBe)=>{d();var pr=ci();z5();yh();WS();Y5();Px();mse();qd();ao();Fq();var De=pr.asn1,A0=ZBe.exports=pr.pkcs7=pr.pkcs7||{};A0.messageFromPem=function(e){var t=pr.pem.decode(e)[0];if(t.type!=="PKCS7"){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var n=De.fromDer(t.body);return A0.messageFromAsn1(n)};A0.messageToPem=function(e,t){var r={type:"PKCS7",body:De.toDer(e.toAsn1()).getBytes()};return pr.pem.encode(r,{maxline:t})};A0.messageFromAsn1=function(e){var t={},r=[];if(!De.validate(e,A0.asn1.contentInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw n.errors=r,n}var i=De.derToOid(t.contentType),s;switch(i){case pr.pki.oids.envelopedData:s=A0.createEnvelopedData();break;case pr.pki.oids.encryptedData:s=A0.createEncryptedData();break;case pr.pki.oids.signedData:s=A0.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+i+" is not (yet) supported.")}return s.fromAsn1(t.content.value[0]),s};A0.createSignedData=function(){var e=null;return e={type:pr.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:o(function(n){if(Wse(e,n,A0.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var i=e.rawCapture.certificates.value,s=0;s<i.length;++s)e.certificates.push(pr.pki.certificateFromAsn1(i[s]))},"fromAsn1"),toAsn1:o(function(){e.contentInfo||e.sign();for(var n=[],i=0;i<e.certificates.length;++i)n.push(pr.pki.certificateToAsn1(e.certificates[i]));var s=[],a=De.create(De.Class.CONTEXT_SPECIFIC,0,!0,[De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.INTEGER,!1,De.integerToDer(e.version).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return n.length>0&&a.value[0].value.push(De.create(De.Class.CONTEXT_SPECIFIC,0,!0,n)),s.length>0&&a.value[0].value.push(De.create(De.Class.CONTEXT_SPECIFIC,1,!0,s)),a.value[0].value.push(De.create(De.Class.UNIVERSAL,De.Type.SET,!0,e.signerInfos)),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.type).getBytes()),a])},"toAsn1"),addSigner:o(function(n){var i=n.issuer,s=n.serialNumber;if(n.certificate){var a=n.certificate;typeof a=="string"&&(a=pr.pki.certificateFromPem(a)),i=a.issuer.attributes,s=a.serialNumber}var l=n.key;if(!l)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof l=="string"&&(l=pr.pki.privateKeyFromPem(l));var c=n.digestAlgorithm||pr.pki.oids.sha1;switch(c){case pr.pki.oids.sha1:case pr.pki.oids.sha256:case pr.pki.oids.sha384:case pr.pki.oids.sha512:case pr.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+c)}var u=n.authenticatedAttributes||[];if(u.length>0){for(var f=!1,m=!1,h=0;h<u.length;++h){var p=u[h];if(!f&&p.type===pr.pki.oids.contentType){if(f=!0,m)break;continue}if(!m&&p.type===pr.pki.oids.messageDigest){if(m=!0,f)break;continue}}if(!f||!m)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:l,version:1,issuer:i,serialNumber:s,digestAlgorithm:c,signatureAlgorithm:pr.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:u,unauthenticatedAttributes:[]})},"addSigner"),sign:o(function(n){if(n=n||{},(typeof e.content!="object"||e.contentInfo===null)&&(e.contentInfo=De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(pr.pki.oids.data).getBytes())]),"content"in e)){var i;e.content instanceof pr.util.ByteBuffer?i=e.content.bytes():typeof e.content=="string"&&(i=pr.util.encodeUtf8(e.content)),n.detached?e.detachedContent=De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,i):e.contentInfo.value.push(De.create(De.Class.CONTEXT_SPECIFIC,0,!0,[De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,i)]))}if(e.signers.length!==0){var s=t();r(s)}},"sign"),verify:o(function(){throw new Error("PKCS#7 signature verification not yet implemented.")},"verify"),addCertificate:o(function(n){typeof n=="string"&&(n=pr.pki.certificateFromPem(n)),e.certificates.push(n)},"addCertificate"),addCertificateRevokationList:o(function(n){throw new Error("PKCS#7 CRL support not yet implemented.")},"addCertificateRevokationList")},e;function t(){for(var n={},i=0;i<e.signers.length;++i){var s=e.signers[i],a=s.digestAlgorithm;a in n||(n[a]=pr.md[pr.pki.oids[a]].create()),s.authenticatedAttributes.length===0?s.md=n[a]:s.md=pr.md[pr.pki.oids[a]].create()}e.digestAlgorithmIdentifiers=[];for(var a in n)e.digestAlgorithmIdentifiers.push(De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(a).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.NULL,!1,"")]));return n}o(t,"addDigestAlgorithmIds");function r(n){var i;if(e.detachedContent?i=e.detachedContent:(i=e.contentInfo.value[1],i=i.value[0]),!i)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var s=De.derToOid(e.contentInfo.value[0].value),a=De.toDer(i);a.getByte(),De.getBerValueLength(a),a=a.getBytes();for(var l in n)n[l].start().update(a);for(var c=new Date,u=0;u<e.signers.length;++u){var f=e.signers[u];if(f.authenticatedAttributes.length===0){if(s!==pr.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{f.authenticatedAttributesAsn1=De.create(De.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var m=De.create(De.Class.UNIVERSAL,De.Type.SET,!0,[]),h=0;h<f.authenticatedAttributes.length;++h){var p=f.authenticatedAttributes[h];p.type===pr.pki.oids.messageDigest?p.value=n[f.digestAlgorithm].digest():p.type===pr.pki.oids.signingTime&&(p.value||(p.value=c)),m.value.push(qse(p)),f.authenticatedAttributesAsn1.value.push(qse(p))}a=De.toDer(m).getBytes(),f.md.start().update(a)}f.signature=f.key.sign(f.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=QIt(e.signers)}o(r,"addSignerInfos")};A0.createEncryptedData=function(){var e=null;return e={type:pr.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:pr.pki.oids["aes256-CBC"]},fromAsn1:o(function(t){Wse(e,t,A0.asn1.encryptedDataValidator)},"fromAsn1"),decrypt:o(function(t){t!==void 0&&(e.encryptedContent.key=t),JBe(e)},"decrypt")},e};A0.createEnvelopedData=function(){var e=null;return e={type:pr.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:pr.pki.oids["aes256-CBC"]},fromAsn1:o(function(t){var r=Wse(e,t,A0.asn1.envelopedDataValidator);e.recipients=FIt(r.recipientInfos.value)},"fromAsn1"),toAsn1:o(function(){return De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.type).getBytes()),De.create(De.Class.CONTEXT_SPECIFIC,0,!0,[De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.INTEGER,!1,De.integerToDer(e.version).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.SET,!0,NIt(e.recipients)),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,MIt(e.encryptedContent))])])])},"toAsn1"),findRecipient:o(function(t){for(var r=t.issuer.attributes,n=0;n<e.recipients.length;++n){var i=e.recipients[n],s=i.issuer;if(i.serialNumber===t.serialNumber&&s.length===r.length){for(var a=!0,l=0;l<r.length;++l)if(s[l].type!==r[l].type||s[l].value!==r[l].value){a=!1;break}if(a)return i}}return null},"findRecipient"),decrypt:o(function(t,r){if(e.encryptedContent.key===void 0&&t!==void 0&&r!==void 0)switch(t.encryptedContent.algorithm){case pr.pki.oids.rsaEncryption:case pr.pki.oids.desCBC:var n=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=pr.util.createBuffer(n);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}JBe(e)},"decrypt"),addRecipient:o(function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:pr.pki.oids.rsaEncryption,key:t.publicKey}})},"addRecipient"),encrypt:o(function(t,r){if(e.encryptedContent.content===void 0){r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key;var n,i,s;switch(r){case pr.pki.oids["aes128-CBC"]:n=16,i=16,s=pr.aes.createEncryptionCipher;break;case pr.pki.oids["aes192-CBC"]:n=24,i=16,s=pr.aes.createEncryptionCipher;break;case pr.pki.oids["aes256-CBC"]:n=32,i=16,s=pr.aes.createEncryptionCipher;break;case pr.pki.oids["des-EDE3-CBC"]:n=24,i=8,s=pr.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(t===void 0)t=pr.util.createBuffer(pr.random.getBytes(n));else if(t.length()!=n)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+n+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=pr.util.createBuffer(pr.random.getBytes(i));var a=s(t);if(a.start(e.encryptedContent.parameter.copy()),a.update(e.content),!a.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=a.output}for(var l=0;l<e.recipients.length;++l){var c=e.recipients[l];if(c.encryptedContent.content===void 0)switch(c.encryptedContent.algorithm){case pr.pki.oids.rsaEncryption:c.encryptedContent.content=c.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+c.encryptedContent.algorithm)}}},"encrypt")},e};function DIt(e){var t={},r=[];if(!De.validate(e,A0.asn1.recipientInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw n.errors=r,n}return{version:t.version.charCodeAt(0),issuer:pr.pki.RDNAttributesAsArray(t.issuer),serialNumber:pr.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:De.derToOid(t.encAlgorithm),parameter:t.encParameter?t.encParameter.value:void 0,content:t.encKey}}}o(DIt,"_recipientFromAsn1");function PIt(e){return De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.INTEGER,!1,De.integerToDer(e.version).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[pr.pki.distinguishedNameToAsn1({attributes:e.issuer}),De.create(De.Class.UNIVERSAL,De.Type.INTEGER,!1,pr.util.hexToBytes(e.serialNumber))]),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.encryptedContent.algorithm).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.NULL,!1,"")]),De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,e.encryptedContent.content)])}o(PIt,"_recipientToAsn1");function FIt(e){for(var t=[],r=0;r<e.length;++r)t.push(DIt(e[r]));return t}o(FIt,"_recipientsFromAsn1");function NIt(e){for(var t=[],r=0;r<e.length;++r)t.push(PIt(e[r]));return t}o(NIt,"_recipientsToAsn1");function LIt(e){var t=De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.INTEGER,!1,De.integerToDer(e.version).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[pr.pki.distinguishedNameToAsn1({attributes:e.issuer}),De.create(De.Class.UNIVERSAL,De.Type.INTEGER,!1,pr.util.hexToBytes(e.serialNumber))]),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.digestAlgorithm).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.signatureAlgorithm).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.NULL,!1,"")])),t.value.push(De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var r=De.create(De.Class.CONTEXT_SPECIFIC,1,!0,[]),n=0;n<e.unauthenticatedAttributes.length;++n){var i=e.unauthenticatedAttributes[n];r.values.push(qse(i))}t.value.push(r)}return t}o(LIt,"_signerToAsn1");function QIt(e){for(var t=[],r=0;r<e.length;++r)t.push(LIt(e[r]));return t}o(QIt,"_signersToAsn1");function qse(e){var t;if(e.type===pr.pki.oids.contentType)t=De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.value).getBytes());else if(e.type===pr.pki.oids.messageDigest)t=De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===pr.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),n=new Date("2050-01-01T00:00:00Z"),i=e.value;if(typeof i=="string"){var s=Date.parse(i);isNaN(s)?i.length===13?i=De.utcTimeToDate(i):i=De.generalizedTimeToDate(i):i=new Date(s)}i>=r&&i<n?t=De.create(De.Class.UNIVERSAL,De.Type.UTCTIME,!1,De.dateToUtcTime(i)):t=De.create(De.Class.UNIVERSAL,De.Type.GENERALIZEDTIME,!1,De.dateToGeneralizedTime(i))}return De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.type).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.SET,!0,[t])])}o(qse,"_attributeToAsn1");function MIt(e){return[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(pr.pki.oids.data).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.algorithm).getBytes()),e.parameter?De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,e.parameter.getBytes()):void 0]),De.create(De.Class.CONTEXT_SPECIFIC,0,!0,[De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,e.content.getBytes())])]}o(MIt,"_encryptedContentToAsn1");function Wse(e,t,r){var n={},i=[];if(!De.validate(t,r,n,i)){var s=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw s.errors=s,s}var a=De.derToOid(n.contentType);if(a!==pr.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(n.encryptedContent){var l="";if(pr.util.isArray(n.encryptedContent))for(var c=0;c<n.encryptedContent.length;++c){if(n.encryptedContent[c].type!==De.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");l+=n.encryptedContent[c].value}else l=n.encryptedContent;e.encryptedContent={algorithm:De.derToOid(n.encAlgorithm),parameter:pr.util.createBuffer(n.encParameter.value),content:pr.util.createBuffer(l)}}if(n.content){var l="";if(pr.util.isArray(n.content))for(var c=0;c<n.content.length;++c){if(n.content[c].type!==De.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");l+=n.content[c].value}else l=n.content;e.content=pr.util.createBuffer(l)}return e.version=n.version.charCodeAt(0),e.rawCapture=n,n}o(Wse,"_fromAsn1");function JBe(e){if(e.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(e.content===void 0){var t;switch(e.encryptedContent.algorithm){case pr.pki.oids["aes128-CBC"]:case pr.pki.oids["aes192-CBC"]:case pr.pki.oids["aes256-CBC"]:t=pr.aes.createDecryptionCipher(e.encryptedContent.key);break;case pr.pki.oids.desCBC:case pr.pki.oids["des-EDE3-CBC"]:t=pr.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}o(JBe,"_decryptContent")});var tDe=j((p$r,eDe)=>{d();var Ya=ci();z5();p6();xq();C6();ao();var Gq=eDe.exports=Ya.ssh=Ya.ssh||{};Gq.privateKeyToPutty=function(e,t,r){r=r||"",t=t||"";var n="ssh-rsa",i=t===""?"none":"aes256-cbc",s="PuTTY-User-Key-File-2: "+n+`\r
`;s+="Encryption: "+i+`\r
`,s+="Comment: "+r+`\r
`;var a=Ya.util.createBuffer();_6(a,n),hg(a,e.e),hg(a,e.n);var l=Ya.util.encode64(a.bytes(),64),c=Math.floor(l.length/66)+1;s+="Public-Lines: "+c+`\r
`,s+=l;var u=Ya.util.createBuffer();hg(u,e.d),hg(u,e.p),hg(u,e.q),hg(u,e.qInv);var f;if(!t)f=Ya.util.encode64(u.bytes(),64);else{var m=u.length()+16-1;m-=m%16;var h=Wq(u.bytes());h.truncate(h.length()-m+u.length()),u.putBuffer(h);var p=Ya.util.createBuffer();p.putBuffer(Wq("\0\0\0\0",t)),p.putBuffer(Wq("\0\0\0",t));var g=Ya.aes.createEncryptionCipher(p.truncate(8),"CBC");g.start(Ya.util.createBuffer().fillWithByte(0,16)),g.update(u.copy()),g.finish();var x=g.output;x.truncate(16),f=Ya.util.encode64(x.bytes(),64)}c=Math.floor(f.length/66)+1,s+=`\r
Private-Lines: `+c+`\r
`,s+=f;var v=Wq("putty-private-key-file-mac-key",t),E=Ya.util.createBuffer();_6(E,n),_6(E,i),_6(E,r),E.putInt32(a.length()),E.putBuffer(a),E.putInt32(u.length()),E.putBuffer(u);var b=Ya.hmac.create();return b.start("sha1",v),b.update(E.bytes()),s+=`\r
Private-MAC: `+b.digest().toHex()+`\r
`,s};Gq.publicKeyToOpenSSH=function(e,t){var r="ssh-rsa";t=t||"";var n=Ya.util.createBuffer();return _6(n,r),hg(n,e.e),hg(n,e.n),r+" "+Ya.util.encode64(n.bytes())+" "+t};Gq.privateKeyToOpenSSH=function(e,t){return t?Ya.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):Ya.pki.privateKeyToPem(e)};Gq.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||Ya.md.md5.create(),n="ssh-rsa",i=Ya.util.createBuffer();_6(i,n),hg(i,e.e),hg(i,e.n),r.start(),r.update(i.getBytes());var s=r.digest();if(t.encoding==="hex"){var a=s.toHex();return t.delimiter?a.match(/.{2}/g).join(t.delimiter):a}else{if(t.encoding==="binary")return s.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return s};function hg(e,t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var n=Ya.util.hexToBytes(r);e.putInt32(n.length),e.putBytes(n)}o(hg,"_addBigIntegerToBuffer");function _6(e,t){e.putInt32(t.length),e.putString(t)}o(_6,"_addStringToBuffer");function Wq(){for(var e=Ya.md.sha1.create(),t=arguments.length,r=0;r<t;++r)e.update(arguments[r]);return e.digest()}o(Wq,"_sha1")});var nDe=j((y$r,rDe)=>{d();rDe.exports=ci();z5();bBe();yh();mq();WS();UBe();p6();HBe();zBe();KBe();hse();Iq();Px();lse();Ase();XBe();Cse();use();ese();Bq();qd();nse();tDe();Tse();ao()});var sDe=j(qx=>{"use strict";d();Object.defineProperty(qx,"__esModule",{value:!0});qx.convert=qx.Format=void 0;var XS=nDe(),nC;(function(e){e.der="der",e.pem="pem",e.txt="txt",e.asn1="asn1",e.x509="x509",e.fingerprint="fingerprint"})(nC=qx.Format||(qx.Format={}));function iDe(e){var t=XS.pki.pemToDer(e),r=XS.asn1,n=r.fromDer(t.data.toString("binary")).value[0].value,i=n[0],s=i.tagClass===r.Class.CONTEXT_SPECIFIC&&i.type===0&&i.constructed,a=n.slice(s);return{serial:a[0],issuer:a[2],valid:a[3],subject:a[4]}}o(iDe,"myASN");function OIt(e){var t=iDe(e),r=t.subject.value.map(function(i){return i.value[0].value[1].value}).join("/"),n=t.valid.value.map(function(i){return i.value}).join(" - ");return["Subject	".concat(r),"Valid	".concat(n),String(e)].join(`
`)}o(OIt,"txtFormat");function oDe(e,t){switch(t){case nC.der:return XS.pki.pemToDer(e);case nC.pem:return e;case nC.txt:return OIt(e);case nC.asn1:return iDe(e);case nC.fingerprint:var r=XS.md.sha1.create(),n=oDe(e,nC.der);return r.update(n.getBytes()),r.digest().toHex();case nC.x509:return XS.pki.certificateFromPem(e);default:throw new Error("unknown format ".concat(t))}}o(oDe,"convert");qx.convert=oDe});var dDe=j(pu=>{"use strict";d();var iC=pu&&pu.__assign||function(){return iC=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},iC.apply(this,arguments)},Hq=pu&&pu.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))};Object.defineProperty(pu,"__esModule",{value:!0});pu.convert=pu.Format=pu.addToGlobalAgent=pu.get=void 0;var Gse=require("https"),UIt=require("tls"),aDe=require("child_process"),lDe=qke(),TA=sDe();Object.defineProperty(pu,"Format",{enumerable:!0,get:o(function(){return TA.Format},"get")});Object.defineProperty(pu,"convert",{enumerable:!0,get:o(function(){return TA.convert},"get")});var cDe=process.platform==="darwin",uDe=Gse.globalAgent,Vq={keychain:"all",unique:!0,excludeBundled:!0,format:TA.Format.pem};function fDe(e){if(e===void 0&&(e=Vq),!cDe)return[];e=iC(iC({},Vq),e);var t=/(?=-----BEGIN\sCERTIFICATE-----)/g,r=["find-certificate","-a","-p"],n=[];if(e.keychain==="all"||e.keychain==="SystemRootCertificates"){var i="/System/Library/Keychains/SystemRootCertificates.keychain",s=(0,aDe.spawnSync)("/usr/bin/security",r.concat(i)).stdout.toString().split(t).map(function(u){return u.trim()});n=Hq(Hq([],n,!0),s,!0)}if(e.keychain==="all"||e.keychain==="current"){var a=(0,aDe.spawnSync)("/usr/bin/security",r).stdout.toString().split(t).map(function(u){return u.trim()});n=Hq(Hq([],n,!0),a,!0)}if(e.unique||e.excludeBundled){var l=n.map(function(u){return(0,TA.convert)(u,TA.Format.fingerprint)}),c=e.excludeBundled?UIt.rootCertificates.map(function(u){return(0,TA.convert)(u,TA.Format.fingerprint)}):[];n=n.filter(function(u,f){var m=l[f];return!(e.unique&&f!==l.indexOf(m)||e.excludeBundled&&c.includes(m))})}return n.map(function(u){return(0,TA.convert)(u,e.format)})}o(fDe,"get");pu.get=fDe;var jq=uDe.options.ca,qIt=o(function(e){if(e===void 0&&(e=Vq),!!cDe){var t;Array.isArray(jq)?t=Array.from(jq):t=typeof jq<"u"?[jq]:[],fDe(iC(iC(iC({},Vq),e),{format:TA.Format.pem,excludeBundled:!1})).forEach(function(r){return t.push(r)}),uDe.options.ca=t,Gse.Agent=function(r){return function(n){var i=typeof n<"u"?iC({},n):{};return typeof i.ca>"u"&&(i.ca=t),r.call(this,i)}}(Gse.Agent),(0,lDe.setGlobalDispatcher)(new lDe.Agent({connect:{ca:t}}))}},"addToGlobalAgent");pu.addToGlobalAgent=qIt});var mDe=j((w$r,Hse)=>{d();function WIt(){let{X509Certificate:e}=require("crypto"),{join:t}=require("path");var r=typeof __webpack_require__=="function"?__non_webpack_require__:require;let n=r(t(__dirname,"crypt32.node")),i=[],s=new n.Crypt32;try{let a;for(;a=s.next();){let l=new e(a);i.push(l.toString())}}finally{s.done()}return Array.from(new Set(i))}o(WIt,"all");process.platform!=="win32"?Hse.exports.all=()=>[]:Hse.exports.all=WIt});var bDe=j((P$r,vDe)=>{"use strict";d();function xDe(e,t,r){let n=t[r];if(e==null&&n.required===!1)return;if(e==null)throw new TypeError(`Required parameter \`${n.name}\` missing`);let i=typeof e;if(n.type&&i!==n.type){if(n.required===!1&&t.slice(r).some(s=>s.type===i))return!1;throw new TypeError(`Invalid type for parameter \`${n.name}\`, expected \`${n.type}\` but found \`${typeof e}\``)}return!0}o(xDe,"validateParameter");function HIt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}o(HIt,"hasOwnProperty");function jIt(e,t){return function(){let r=Array.prototype.slice.call(arguments),n=[];for(let s=0,a=0;s<t.length;++s,++a){let l=t[s],c=r[a];HIt(l,"default")&&c==null&&(c=l.default),l.type==="object"&&l.default!=null&&(c=Object.assign({},l.default,c)),l.name==="options"&&(typeof c=="function"||c==null)&&(c={}),xDe(c,t,s)?n.push(c):a--}if(typeof arguments[arguments.length-1]!="function")return new Promise((s,a)=>{n.push((l,c)=>{if(l)return a(l);s(c)}),e.apply(this,n)});e.apply(this,n)}}o(jIt,"defineOperation");vDe.exports={defineOperation:jIt,validateParameter:xDe}});var Xse=j((L$r,TDe)=>{"use strict";d();var R6=pX()("kerberos"),k6=R6.KerberosClient,EDe=R6.KerberosServer,oC=bDe().defineOperation,VIt=1,$It=2,zIt=4,YIt=8,KIt=16,JIt=32,ZIt=64,XIt=128,e8t=256,IDe=0,t8t=9,r8t=6;k6.prototype.step=oC(k6.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);k6.prototype.wrap=oC(k6.prototype.wrap,[{name:"challenge",type:"string"},{name:"options",type:"object"},{name:"callback",type:"function",required:!1}]);k6.prototype.unwrap=oC(k6.prototype.unwrap,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);EDe.prototype.step=oC(EDe.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);var n8t=oC(R6.checkPassword,[{name:"username",type:"string"},{name:"password",type:"string"},{name:"service",type:"string"},{name:"defaultRealm",type:"string",required:!1},{name:"callback",type:"function",required:!1}]),i8t=oC(R6.principalDetails,[{name:"service",type:"string"},{name:"hostname",type:"string"},{name:"callback",type:"function",required:!1}]),o8t=oC(R6.initializeClient,[{name:"service",type:"string"},{name:"options",type:"object",default:{mechOID:IDe}},{name:"callback",type:"function",required:!1}]),s8t=oC(R6.initializeServer,[{name:"service",type:"string"},{name:"callback",type:"function",required:!1}]);TDe.exports={initializeClient:o8t,initializeServer:s8t,principalDetails:i8t,checkPassword:n8t,GSS_C_DELEG_FLAG:VIt,GSS_C_MUTUAL_FLAG:$It,GSS_C_REPLAY_FLAG:zIt,GSS_C_SEQUENCE_FLAG:YIt,GSS_C_CONF_FLAG:KIt,GSS_C_INTEG_FLAG:JIt,GSS_C_ANON_FLAG:ZIt,GSS_C_PROT_READY_FLAG:XIt,GSS_C_TRANS_FLAG:e8t,GSS_C_NO_OID:IDe,GSS_MECH_OID_KRB5:t8t,GSS_MECH_OID_SPNEGO:r8t}});var wDe=j((M$r,a8t)=>{a8t.exports={name:"kerberos",version:"2.2.0",description:"Kerberos library for Node.js",main:"lib/index.js",files:["lib","src","binding.gyp","HISTORY.md","README.md"],repository:{type:"git",url:"https://github.com/mongodb-js/kerberos.git"},keywords:["kerberos","security","authentication"],author:{name:"The MongoDB NodeJS Team",email:"dbx-node@mongodb.com"},bugs:{url:"https://jira.mongodb.org/projects/NODE/issues/"},dependencies:{bindings:"^1.5.0","node-addon-api":"^6.1.0","prebuild-install":"^7.1.2"},devDependencies:{"@types/node":"^22.2.0",chai:"^4.4.1","chai-string":"^1.5.0",chalk:"^4.1.2","clang-format":"^1.8.0","dmd-clear":"^0.1.2",eslint:"^9.9.0","eslint-config-prettier":"^9.1.0","eslint-plugin-prettier":"^5.2.1","jsdoc-to-markdown":"^8.0.3",mocha:"^10.7.3",mongodb:"^6.8.0","node-gyp":"^10.1.0",prebuild:"^13.0.0",prettier:"^3.3.3",request:"^2.88.2"},overrides:{prebuild:{"node-gyp":"$node-gyp"}},scripts:{install:"prebuild-install --runtime napi || node-gyp rebuild","format-cxx":"clang-format -i 'src/**/*'","format-js":"ESLINT_USE_FLAT_CONFIG=false eslint lib test --fix","check:lint":"ESLINT_USE_FLAT_CONFIG=false eslint lib test",precommit:"check-clang-format",docs:"jsdoc2md --template etc/README.hbs --plugin dmd-clear --files lib/kerberos.js > README.md",test:"mocha test",prebuild:"prebuild --runtime napi --strip --verbose --all"},engines:{node:">=12.9.0"},binary:{napi_versions:[4]},license:"Apache-2.0",readmeFilename:"README.md"}});var SDe=j((O$r,_De)=>{"use strict";d();var l8t=require("dns"),c8t=Xse(),eae=class{static{o(this,"MongoAuthProcess")}constructor(t,r,n,i){i=i||{},this.host=t,this.port=r,this.serviceName=n||i.gssapiServiceName||"mongodb",this.canonicalizeHostName=typeof i.gssapiCanonicalizeHostName=="boolean"?i.gssapiCanonicalizeHostName:!1,this._transition=u8t(this),this.retries=10}init(t,r,n){let i=this;this.username=t,this.password=r;function s(a,l,c){if(!a)return c();l8t.resolveCname(l,(u,f)=>{if(u)return c(u);Array.isArray(f)&&f.length>0&&(i.host=f[0]),c()})}o(s,"performGssapiCanonicalizeHostName"),s(this.canonicalizeHostName,this.host,a=>{if(a)return n(a);let l={};r!=null&&Object.assign(l,{user:t,password:r});let c=process.platform==="win32"?`${this.serviceName}/${this.host}`:`${this.serviceName}@${this.host}`;c8t.initializeClient(c,l,(u,f)=>{if(u)return n(u,null);i.client=f,n(null,f)})})}transition(t,r){if(this._transition==null)return r(new Error("Transition finished"));this._transition(t,r)}};function u8t(e){return(t,r)=>{e.client.step("",(n,i)=>{if(n)return r(n);e._transition=f8t(e),r(null,i)})}}o(u8t,"firstTransition");function f8t(e){return(t,r)=>{e.client.step(t,(n,i)=>{if(n&&e.retries===0)return r(n);if(n)return e.retries=e.retries-1,e.transition(t,r);e._transition=d8t(e),r(null,i||"")})}}o(f8t,"secondTransition");function d8t(e){return(t,r)=>{e.client.unwrap(t,(n,i)=>{if(n)return r(n,!1);e.client.wrap(i,{user:e.username},(s,a)=>{if(s)return r(s,!1);e._transition=m8t(e),r(null,a)})})}}o(d8t,"thirdTransition");function m8t(e){return(t,r)=>{e._transition=null,r(null,!0)}}o(m8t,"fourthTransition");_De.exports={MongoAuthProcess:eae}});var RDe=j((W$r,ek)=>{"use strict";d();var kDe=Xse();ek.exports=kDe;ek.exports.Kerberos=kDe;ek.exports.version=wDe().version;ek.exports.processes={MongoAuthProcess:SDe().MongoAuthProcess}});var OPe=j((xXr,MPe)=>{d();MPe.exports=QPe;QPe.sync=D9t;var NPe=require("fs");function B9t(e,t){var r=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var i=r[n].toLowerCase();if(i&&e.substr(-i.length).toLowerCase()===i)return!0}return!1}o(B9t,"checkPathExt");function LPe(e,t,r){return!e.isSymbolicLink()&&!e.isFile()?!1:B9t(t,r)}o(LPe,"checkStat");function QPe(e,t,r){NPe.stat(e,function(n,i){r(n,n?!1:LPe(i,e,t))})}o(QPe,"isexe");function D9t(e,t){return LPe(NPe.statSync(e),e,t)}o(D9t,"sync")});var HPe=j((EXr,GPe)=>{d();GPe.exports=qPe;qPe.sync=P9t;var UPe=require("fs");function qPe(e,t,r){UPe.stat(e,function(n,i){r(n,n?!1:WPe(i,t))})}o(qPe,"isexe");function P9t(e,t){return WPe(UPe.statSync(e),t)}o(P9t,"sync");function WPe(e,t){return e.isFile()&&F9t(e,t)}o(WPe,"checkStat");function F9t(e,t){var r=e.mode,n=e.uid,i=e.gid,s=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),a=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),l=parseInt("100",8),c=parseInt("010",8),u=parseInt("001",8),f=l|c,m=r&u||r&c&&i===a||r&l&&n===s||r&f&&s===0;return m}o(F9t,"checkMode")});var VPe=j((_Xr,jPe)=>{d();var wXr=require("fs"),_W;process.platform==="win32"||global.TESTING_WINDOWS?_W=OPe():_W=HPe();jPe.exports=Tae;Tae.sync=N9t;function Tae(e,t,r){if(typeof t=="function"&&(r=t,t={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){Tae(e,t||{},function(s,a){s?i(s):n(a)})})}_W(e,t||{},function(n,i){n&&(n.code==="EACCES"||t&&t.ignoreErrors)&&(n=null,i=!1),r(n,i)})}o(Tae,"isexe");function N9t(e,t){try{return _W.sync(e,t||{})}catch(r){if(t&&t.ignoreErrors||r.code==="EACCES")return!1;throw r}}o(N9t,"sync")});var XPe=j((RXr,ZPe)=>{d();var H6=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",$Pe=require("path"),L9t=H6?";":":",zPe=VPe(),YPe=o(e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),"getNotFoundError"),KPe=o((e,t)=>{let r=t.colon||L9t,n=e.match(/\//)||H6&&e.match(/\\/)?[""]:[...H6?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],i=H6?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",s=H6?i.split(r):[""];return H6&&e.indexOf(".")!==-1&&s[0]!==""&&s.unshift(""),{pathEnv:n,pathExt:s,pathExtExe:i}},"getPathInfo"),JPe=o((e,t,r)=>{typeof t=="function"&&(r=t,t={}),t||(t={});let{pathEnv:n,pathExt:i,pathExtExe:s}=KPe(e,t),a=[],l=o(u=>new Promise((f,m)=>{if(u===n.length)return t.all&&a.length?f(a):m(YPe(e));let h=n[u],p=/^".*"$/.test(h)?h.slice(1,-1):h,g=$Pe.join(p,e),x=!p&&/^\.[\\\/]/.test(e)?e.slice(0,2)+g:g;f(c(x,u,0))}),"step"),c=o((u,f,m)=>new Promise((h,p)=>{if(m===i.length)return h(l(f+1));let g=i[m];zPe(u+g,{pathExt:s},(x,v)=>{if(!x&&v)if(t.all)a.push(u+g);else return h(u+g);return h(c(u,f,m+1))})}),"subStep");return r?l(0).then(u=>r(null,u),r):l(0)},"which"),Q9t=o((e,t)=>{t=t||{};let{pathEnv:r,pathExt:n,pathExtExe:i}=KPe(e,t),s=[];for(let a=0;a<r.length;a++){let l=r[a],c=/^".*"$/.test(l)?l.slice(1,-1):l,u=$Pe.join(c,e),f=!c&&/^\.[\\\/]/.test(e)?e.slice(0,2)+u:u;for(let m=0;m<n.length;m++){let h=f+n[m];try{if(zPe.sync(h,{pathExt:i}))if(t.all)s.push(h);else return h}catch{}}}if(t.all&&s.length)return s;if(t.nothrow)return null;throw YPe(e)},"whichSync");ZPe.exports=JPe;JPe.sync=Q9t});var tFe=j((PXr,wae)=>{"use strict";d();var eFe=o((e={})=>{let t=e.env||process.env;return(e.platform||process.platform)!=="win32"?"PATH":Object.keys(t).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"},"pathKey");wae.exports=eFe;wae.exports.default=eFe});var oFe=j((LXr,iFe)=>{"use strict";d();var rFe=require("path"),M9t=XPe(),O9t=tFe();function nFe(e,t){let r=e.options.env||process.env,n=process.cwd(),i=e.options.cwd!=null,s=i&&process.chdir!==void 0&&!process.chdir.disabled;if(s)try{process.chdir(e.options.cwd)}catch{}let a;try{a=M9t.sync(e.command,{path:r[O9t({env:r})],pathExt:t?rFe.delimiter:void 0})}catch{}finally{s&&process.chdir(n)}return a&&(a=rFe.resolve(i?e.options.cwd:"",a)),a}o(nFe,"resolveCommandAttempt");function U9t(e){return nFe(e)||nFe(e,!0)}o(U9t,"resolveCommand");iFe.exports=U9t});var sFe=j((OXr,Sae)=>{"use strict";d();var _ae=/([()\][%!^"`<>&|;, *?])/g;function q9t(e){return e=e.replace(_ae,"^$1"),e}o(q9t,"escapeCommand");function W9t(e,t){return e=`${e}`,e=e.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),e=e.replace(/(?=(\\+?)?)\1$/,"$1$1"),e=`"${e}"`,e=e.replace(_ae,"^$1"),t&&(e=e.replace(_ae,"^$1")),e}o(W9t,"escapeArgument");Sae.exports.command=q9t;Sae.exports.argument=W9t});var lFe=j((WXr,aFe)=>{"use strict";d();aFe.exports=/^#!(.*)/});var uFe=j((HXr,cFe)=>{"use strict";d();var G9t=lFe();cFe.exports=(e="")=>{let t=e.match(G9t);if(!t)return null;let[r,n]=t[0].replace(/#! ?/,"").split(" "),i=r.split("/").pop();return i==="env"?n:n?`${i} ${n}`:i}});var dFe=j((VXr,fFe)=>{"use strict";d();var kae=require("fs"),H9t=uFe();function j9t(e){let r=Buffer.alloc(150),n;try{n=kae.openSync(e,"r"),kae.readSync(n,r,0,150,0),kae.closeSync(n)}catch{}return H9t(r.toString())}o(j9t,"readShebang");fFe.exports=j9t});var gFe=j((YXr,pFe)=>{"use strict";d();var V9t=require("path"),mFe=oFe(),hFe=sFe(),$9t=dFe(),z9t=process.platform==="win32",Y9t=/\.(?:com|exe)$/i,K9t=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function J9t(e){e.file=mFe(e);let t=e.file&&$9t(e.file);return t?(e.args.unshift(e.file),e.command=t,mFe(e)):e.file}o(J9t,"detectShebang");function Z9t(e){if(!z9t)return e;let t=J9t(e),r=!Y9t.test(t);if(e.options.forceShell||r){let n=K9t.test(t);e.command=V9t.normalize(e.command),e.command=hFe.command(e.command),e.args=e.args.map(s=>hFe.argument(s,n));let i=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${i}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}o(Z9t,"parseNonShell");function X9t(e,t,r){t&&!Array.isArray(t)&&(r=t,t=null),t=t?t.slice(0):[],r=Object.assign({},r);let n={command:e,args:t,options:r,file:void 0,original:{command:e,args:t}};return r.shell?n:Z9t(n)}o(X9t,"parse");pFe.exports=X9t});var CFe=j((ZXr,yFe)=>{"use strict";d();var Rae=process.platform==="win32";function Bae(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}o(Bae,"notFoundError");function e7t(e,t){if(!Rae)return;let r=e.emit;e.emit=function(n,i){if(n==="exit"){let s=AFe(i,t);if(s)return r.call(e,"error",s)}return r.apply(e,arguments)}}o(e7t,"hookChildProcess");function AFe(e,t){return Rae&&e===1&&!t.file?Bae(t.original,"spawn"):null}o(AFe,"verifyENOENT");function t7t(e,t){return Rae&&e===1&&!t.file?Bae(t.original,"spawnSync"):null}o(t7t,"verifyENOENTSync");yFe.exports={hookChildProcess:e7t,verifyENOENT:AFe,verifyENOENTSync:t7t,notFoundError:Bae}});var bFe=j((ten,j6)=>{"use strict";d();var xFe=require("child_process"),Dae=gFe(),Pae=CFe();function vFe(e,t,r){let n=Dae(e,t,r),i=xFe.spawn(n.command,n.args,n.options);return Pae.hookChildProcess(i,n),i}o(vFe,"spawn");function r7t(e,t,r){let n=Dae(e,t,r),i=xFe.spawnSync(n.command,n.args,n.options);return i.error=i.error||Pae.verifyENOENTSync(i.status,n),i}o(r7t,"spawnSync");j6.exports=vFe;j6.exports.spawn=vFe;j6.exports.sync=r7t;j6.exports._parse=Dae;j6.exports._enoent=Pae});var e9=j(_g=>{"use strict";d();Object.defineProperty(_g,"__esModule",{value:!0});_g.BaseTokensPerName=_g.BaseTokensPerMessage=_g.BaseTokensPerCompletion=_g.ChatRole=void 0;var zFe;(function(e){e.System="system",e.User="user",e.Assistant="assistant",e.Function="function",e.Tool="tool"})(zFe||(_g.ChatRole=zFe={}));_g.BaseTokensPerCompletion=3;_g.BaseTokensPerMessage=3;_g.BaseTokensPerName=1});var YFe=j(Xae=>{"use strict";d();Object.defineProperty(Xae,"__esModule",{value:!0});Xae.once=R7t;function R7t(e){let t,r=!1,n=o((...i)=>(r||(t=e(...i),r=!0),t),"wrappedFunction");return n.clear=()=>{r=!1},n}o(R7t,"once")});var nle=j(Sg=>{"use strict";d();Object.defineProperty(Sg,"__esModule",{value:!0});Sg.MaterializedChatMessageImage=Sg.MaterializedChatMessage=Sg.MaterializedChatMessageTextChunk=Sg.MaterializedContainer=void 0;var t9=YFe(),fv=e9(),yC=class e{static{o(this,"MaterializedContainer")}parent;id;name;priority;metadata;flags;children;keepWithId;constructor(t,r,n,i,s,a,l){if(this.parent=t,this.id=r,this.name=n,this.priority=i,this.metadata=a,this.flags=l,this.children=s(this),l&8){if(this.children.length!==2)throw new Error("Invalid number of children for EmptyAlternate flag");let[c,u]=this.children;u.isEmpty?this.children=[c]:this.children=[u]}}has(t){return!!(this.flags&t)}async tokenCount(t){let r=0;return await Promise.all(this.children.map(async n=>{let i=mv(n)?await n.tokenCount(t):await n.upperBoundTokenCount(t);r+=i})),r}async upperBoundTokenCount(t){let r=0;return await Promise.all(this.children.map(async n=>{let i=await n.upperBoundTokenCount(t);r+=i})),r}replaceNode(t,r){return tNe(t,this.children,r)}allMetadata(){return eNe(this)}findById(t){return rle(t,this)}get isEmpty(){return!this.children.some(t=>!t.isEmpty)}onChunksChange(){this.parent?.onChunksChange()}*toChatMessages(){for(let t of this.children)B7t(t),t instanceof e?yield*t.toChatMessages():!t.isEmpty&&t instanceof r9&&(yield t.toChatMessage())}removeLowestPriorityChild(){let t=[];return tle(this,t),t}};Sg.MaterializedContainer=yC;var dv=class{static{o(this,"MaterializedChatMessageTextChunk")}parent;text;priority;metadata;lineBreakBefore;constructor(t,r,n,i=[],s){this.parent=t,this.text=r,this.priority=n,this.metadata=i,this.lineBreakBefore=s}upperBoundTokenCount(t){return this._upperBound(t)}_upperBound=(0,t9.once)(async t=>await t.tokenLength(this.text)+(this.lineBreakBefore!==0?1:0));get isEmpty(){return!/\S/.test(this.text)}};Sg.MaterializedChatMessageTextChunk=dv;var r9=class{static{o(this,"MaterializedChatMessage")}parent;id;role;name;toolCalls;toolCallId;priority;metadata;children;constructor(t,r,n,i,s,a,l,c,u){this.parent=t,this.id=r,this.role=n,this.name=i,this.toolCalls=s,this.toolCallId=a,this.priority=l,this.metadata=c,this.children=u(this)}async tokenCount(t){return this._tokenCount(t)}async upperBoundTokenCount(t){return this._upperBound(t)}get text(){return this._text()}get isEmpty(){return!this.toolCalls?.length&&!this.children.some(t=>!t.isEmpty)}replaceNode(t,r){let n=tNe(t,this.children,r);return n&&this.onChunksChange(),n}removeLowestPriorityChild(){let t=[];return tle(this,t),t}onChunksChange(){this._tokenCount.clear(),this._upperBound.clear(),this._text.clear(),this.parent?.onChunksChange()}findById(t){return rle(t,this)}_tokenCount=(0,t9.once)(async t=>t.countMessageTokens(this.toChatMessage()));_upperBound=(0,t9.once)(async t=>{let r=await this._baseMessageTokenCount(t);return await Promise.all(this.children.map(async n=>{let i=await n.upperBoundTokenCount(t);r+=i})),r});_baseMessageTokenCount=(0,t9.once)(t=>t.countMessageTokens({...this.toChatMessage(),content:""}));_text=(0,t9.once)(()=>{let t=[];for(let{text:r,isTextSibling:n}of XFe(this)){if(r instanceof _h){t.push(r);continue}if(r.lineBreakBefore===1||r.lineBreakBefore===2&&!n){let i=t[t.length-1];typeof i=="string"&&!i.endsWith(`
`)&&(t[t.length-1]=i+`
`)}typeof t[t.length-1]=="string"?t[t.length-1]+=r.text:t.push(r.text)}return t});toChatMessage(){let t=this.text.filter(r=>typeof r=="string").join("").trim();if(this.text.some(r=>r instanceof _h)){if(this.role!==fv.ChatRole.User)throw new Error("Only User messages can have images");let r=this.text.map(n=>{if(typeof n=="string")return{type:"text",text:n};if(n instanceof _h)return{type:"image_url",image_url:{url:rNe(n.src),detail:n.detail}};throw new Error("Unexpected element type")});return{role:fv.ChatRole.User,content:r}}if(this.role===fv.ChatRole.System)return{role:this.role,content:t,...this.name?{name:this.name}:{}};if(this.role===fv.ChatRole.Assistant){let r={role:this.role,content:t};return this.name&&(r.name=this.name),this.toolCalls?.length&&(r.tool_calls=this.toolCalls.map(n=>({function:n.function,id:n.id,type:n.type}))),r}else return this.role===fv.ChatRole.User?{role:this.role,content:t,...this.name?{name:this.name}:{}}:this.role===fv.ChatRole.Tool?{role:this.role,content:t,tool_call_id:this.toolCallId}:{role:this.role,content:t,name:this.name}}};Sg.MaterializedChatMessage=r9;var _h=class{static{o(this,"MaterializedChatMessageImage")}parent;id;src;priority;metadata;lineBreakBefore;detail;constructor(t,r,n,i,s=[],a,l){this.parent=t,this.id=r,this.src=n,this.priority=i,this.metadata=s,this.lineBreakBefore=a,this.detail=l}upperBoundTokenCount(t){return this._upperBound(t)}_upperBound=(0,t9.once)(async t=>await t.countMessageTokens({role:fv.ChatRole.User,content:[{type:"image_url",image_url:{url:rNe(this.src),detail:this.detail}}]}));isEmpty=!1};Sg.MaterializedChatMessageImage=_h;function mv(e){return!(e instanceof dv||e instanceof _h)}o(mv,"isContainerType");function B7t(e){if(!(e instanceof yC)&&!(e instanceof r9)&&!(e instanceof _h))throw new Error(`Cannot have a text node outside a ChatMessage. Text: "${e.text}"`)}o(B7t,"assertContainerOrChatMessage");function*XFe(e,t=!1){for(let r of e.children)r instanceof dv?(yield{text:r,isTextSibling:t},t=!0):r instanceof _h?yield{text:r,isTextSibling:!1}:(r&&(yield*XFe(r,t)),t=!1)}o(XFe,"textChunks");function D7t(e,t){let r;function n(i,s){if(i instanceof dv||i instanceof _h)(!r||i.priority<r.node.priority)&&(r={chain:s.slice(),node:i});else{s.push(i);for(let a of i.children)n(a,s);s.pop()}}if(o(n,"findLowestInTree"),n(e,[]),!r)throw new Error("No lowest priority node found");vk(r.node,t)}o(D7t,"removeLowestPriorityLegacy");function tle(e,t){let r;if(e instanceof yC&&e.has(1)){D7t(e,t);return}let n=e.children.map((i,s)=>({chain:[e],index:s}));for(let i=0;i<n.length;i++){let{chain:s,index:a}=n[i],l=s[s.length-1].children[a];if(l instanceof yC&&l.has(4)){let c=[...s,l];n.splice(i+1,0,...l.children.map((u,f)=>({chain:c,index:f})))}else if(!r||l.priority<r.value.priority)r={chain:s,index:a,value:l};else if(l.priority===r.value.priority){r.lowestNested??=KFe(r.value);let c=KFe(l);c<r.lowestNested&&(r={chain:s,index:a,value:l,lowestNested:c})}}if(!r)throw new Error("No lowest priority node found");r.value instanceof dv||r.value instanceof _h||r.value instanceof yC&&r.value.has(2)||mv(r.value)&&!r.value.children.length?vk(r.value,t):tle(r.value,t)}o(tle,"removeLowestPriorityChild");function KFe(e){if(!mv(e))return-1;let t=Number.MAX_SAFE_INTEGER;for(let r of e.children)t=Math.min(t,r.priority);return t}o(KFe,"getLowestPriorityAmongChildren");function*eNe(e){yield*e.metadata;for(let t of e.children)mv(t)?yield*eNe(t):yield*t.metadata}o(eNe,"allMetadata");function tNe(e,t,r){for(let n=0;n<t.length;n++){let i=t[n];if(mv(i)){if(i.id===e){let a=t[n];return r.parent=i.parent,t[n]=r,a}let s=i.replaceNode(e,r);if(s)return s}}}o(tNe,"replaceNode");function*JFe(e){let t=[e];for(;t.length>0;){let r=t.pop();yield r,mv(r)&&t.push(...r.children)}}o(JFe,"forEachNode");function P7t(e){let t=e;for(;t.parent;)t=t.parent;return t}o(P7t,"getRoot");function ZFe(e){return e instanceof yC&&e.keepWithId!==void 0}o(ZFe,"isKeepWith");var ele=new Set;function F7t(e,t){let r=new Set;for(let n of JFe(e))ZFe(n)&&!ele.has(n.keepWithId)&&r.add(n.keepWithId);if(r.size===0)return!1;for(let n of r)ele.add(n);try{let n=P7t(e);for(let i of JFe(n))ZFe(i)&&r.has(i.keepWithId)?vk(i,t):i instanceof r9&&i.toolCalls&&(i.toolCalls=N7t(i.toolCalls,s=>!(s.keepWith&&r.has(s.keepWith.id))),i.isEmpty&&vk(i,t))}finally{for(let n of r)ele.delete(n)}}o(F7t,"removeOtherKeepWiths");function rle(e,t){if(t.id===e)return t;for(let r of t.children)if(mv(r)){let n=rle(e,r);if(n)return n}}o(rle,"findNodeById");function vk(e,t){let r=e.parent;if(!r)return;let n=r.children.indexOf(e);n!==-1&&(r.children.splice(n,1),t.push(e),F7t(e,t),r.isEmpty?vk(r,t):r.onChunksChange())}o(vk,"removeNode");function rNe(e){let t={"/9j/":"image/jpeg",iVBOR:"image/png",R0lGOD:"image/gif",UklGR:"image/webp"};for(let r of Object.keys(t))if(e.startsWith(r))return`data:${t[r]};base64,${e}`;return e}o(rNe,"getEncodedBase64");function N7t(e,t){for(let r=0;r<e.length;r++){if(t(e[r]))continue;let n=e.slice(0,r);for(let i=r+1;i<e.length;i++)t(e[i])&&n.push(e[i]);return n}return e}o(N7t,"filterIfDifferent")});var iNe=j(()=>{"use strict";d();function L7t(e,t,...r){return{ctor:e,props:t,children:r.flat()}}o(L7t,"_vscpp");function nNe(){throw new Error("This should not be invoked!")}o(nNe,"_vscppf");nNe.isFragment=!0;globalThis.vscpp=L7t;globalThis.vscppf=nNe});var ole=j(oG=>{"use strict";d();Object.defineProperty(oG,"__esModule",{value:!0});oG.PromptElement=void 0;iNe();var ile=class{static{o(this,"PromptElement")}props;get priority(){return this.props.priority??Number.MAX_SAFE_INTEGER}get insertLineBreakBefore(){return!0}constructor(t){this.props=t}};oG.PromptElement=ile});var gle=j(Mi=>{"use strict";d();Object.defineProperty(Mi,"__esModule",{value:!0});Mi.IfEmpty=Mi.AbstractKeepWith=Mi.TokenLimit=Mi.Expandable=Mi.Chunk=Mi.LegacyPrioritization=Mi.ToolResult=Mi.PrioritizedList=Mi.BaseImageMessage=Mi.TextChunk=Mi.ToolMessage=Mi.FunctionMessage=Mi.AssistantMessage=Mi.UserMessage=Mi.SystemMessage=Mi.BaseChatMessage=void 0;Mi.isChatMessagePromptElement=Q7t;Mi.useKeepWith=q7t;var bk=e9(),kg=ole();function Q7t(e){return e instanceof sG||e instanceof aG||e instanceof lG}o(Q7t,"isChatMessagePromptElement");var MA=class extends kg.PromptElement{static{o(this,"BaseChatMessage")}render(){return vscpp(vscppf,null,this.props.children)}};Mi.BaseChatMessage=MA;var sG=class extends MA{static{o(this,"SystemMessage")}constructor(t){t.role=bk.ChatRole.System,super(t)}};Mi.SystemMessage=sG;var aG=class extends MA{static{o(this,"UserMessage")}constructor(t){t.role=bk.ChatRole.User,super(t)}};Mi.UserMessage=aG;var lG=class extends MA{static{o(this,"AssistantMessage")}constructor(t){t.role=bk.ChatRole.Assistant,super(t)}};Mi.AssistantMessage=lG;var M7t=/\s+/g,sle=class extends MA{static{o(this,"FunctionMessage")}constructor(t){t.role=bk.ChatRole.Function,super(t)}};Mi.FunctionMessage=sle;var ale=class extends MA{static{o(this,"ToolMessage")}constructor(t){t.role=bk.ChatRole.Tool,super(t)}};Mi.ToolMessage=ale;var cG=class extends kg.PromptElement{static{o(this,"TextChunk")}async prepare(t,r,n){let i=this.props.breakOnWhitespace?M7t:this.props.breakOn;if(!i)return vscpp(vscppf,null,this.props.children);let s="",a=[];for(let c of this.props.children||[])if(c&&typeof c=="object"){if(typeof c.ctor!="string")throw new Error("TextChunk children must be text literals or intrinsic attributes.");c.ctor==="br"?s+=`
`:a.push(c)}else c!=null&&(s+=c);let l=await O7t(t,i,s,n);return vscpp(vscppf,null,a,l)}render(t){return t}};Mi.TextChunk=cG;async function O7t(e,t,r,n){if(t instanceof RegExp){if(!t.global)throw new Error(`\`breakOn\` expression must have the global flag set (got ${t})`);t.lastIndex=0}let i="",s=-1;for(;s<r.length;){let a;typeof t=="string"?a=r.indexOf(t,s===-1?0:s+t.length):a=t.exec(r)?.index??-1,a===-1&&(a=r.length);let l=i+r.slice(Math.max(0,s),a);if(await e.countTokens(l,n)>e.tokenBudget)return i;i=l,s=a}return i}o(O7t,"getTextContentBelowBudget");var lle=class extends MA{static{o(this,"BaseImageMessage")}constructor(t){super(t)}};Mi.BaseImageMessage=lle;var cle=class extends kg.PromptElement{static{o(this,"PrioritizedList")}render(){let{children:t,priority:r=0,descending:n}=this.props;if(t)return vscpp(vscppf,null,t.map((i,s)=>{if(!i)return;let a=n?r-s:r-t.length+s;return typeof i!="object"?vscpp(cG,{priority:a},i):(i.props??={},i.props.priority=a,i)}))}};Mi.PrioritizedList=cle;var ule=class extends kg.PromptElement{static{o(this,"ToolResult")}render(){return vscpp(vscppf,null,this.props.data.content.map(t=>{if(t&&typeof t.value=="string")return t.value;if(t&&t.value&&typeof t.value.node=="object")return vscpp("elementJSON",{data:t.value})}))}};Mi.ToolResult=ule;var fle=class extends kg.PromptElement{static{o(this,"LegacyPrioritization")}render(){return vscpp(vscppf,null,this.props.children)}};Mi.LegacyPrioritization=fle;var dle=class extends kg.PromptElement{static{o(this,"Chunk")}render(){return vscpp(vscppf,null,this.props.children)}};Mi.Chunk=dle;var mle=class extends kg.PromptElement{static{o(this,"Expandable")}async render(t,r){return vscpp(vscppf,null,await this.props.value(r))}};Mi.Expandable=mle;var hle=class extends kg.PromptElement{static{o(this,"TokenLimit")}render(){return vscpp(vscppf,null,this.props.children)}};Mi.TokenLimit=hle;var uG=class extends kg.PromptElement{static{o(this,"AbstractKeepWith")}};Mi.AbstractKeepWith=uG;var U7t=0;function q7t(){let e=U7t++;return class extends uG{static{o(this,"KeepWith")}static id=e;id=e;render(){return vscpp(vscppf,null,this.props.children)}}}o(q7t,"useKeepWith");var ple=class extends kg.PromptElement{static{o(this,"IfEmpty")}render(){return vscpp(vscppf,null,[this.props.alt,this.props.children])}};Mi.IfEmpty=ple});var sNe=j(Ek=>{"use strict";d();Object.defineProperty(Ek,"__esModule",{value:!0});Ek.localize=W7t;Ek.localize2=G7t;Ek.getConfiguredDefaultLocale=H7t;function oNe(e,t){let r;return t.length===0?r=e:r=e.replace(/\{(\d+)\}/g,function(n,i){let s=i[0];return typeof t[s]<"u"?t[s]:n}),r}o(oNe,"_format");function W7t(e,t,...r){return oNe(t,r)}o(W7t,"localize");function G7t(e,t,...r){let n=oNe(t,r);return{original:n,value:n}}o(G7t,"localize2");function H7t(e){}o(H7t,"getConfiguredDefaultLocale")});var xle=j(er=>{"use strict";d();Object.defineProperty(er,"__esModule",{value:!0});er.isAndroid=er.isEdge=er.isSafari=er.isFirefox=er.isChrome=er.OS=er.setTimeout0=er.setTimeout0IsFaster=er.translationsConfigFile=er.platformLocale=er.locale=er.Language=er.language=er.userAgent=er.platform=er.isCI=er.isMobile=er.isIOS=er.webWorkerOrigin=er.isWebWorker=er.isWeb=er.isElectron=er.isNative=er.isLinuxSnap=er.isLinux=er.isMacintosh=er.isWindows=er.LANGUAGE_DEFAULT=void 0;er.PlatformToString=V7t;er.isLittleEndian=$7t;er.isBigSurOrNewer=z7t;var aNe=sNe();er.LANGUAGE_DEFAULT="en";var wk=!1,_k=!1,Tk=!1,fNe=!1,dNe=!1,yle=!1,mNe=!1,Cle=!1,hNe=!1,pNe=!1,Ik,fG=er.LANGUAGE_DEFAULT,Ale=er.LANGUAGE_DEFAULT,gNe,OA,UA=globalThis,Sf;typeof UA.vscode<"u"&&typeof UA.vscode.process<"u"?Sf=UA.vscode.process:typeof process<"u"&&(Sf=process);var ANe=typeof Sf?.versions?.electron=="string",j7t=ANe&&Sf?.type==="renderer";if(typeof Sf=="object"){wk=Sf.platform==="win32",_k=Sf.platform==="darwin",Tk=Sf.platform==="linux",fNe=Tk&&!!Sf.env.SNAP&&!!Sf.env.SNAP_REVISION,mNe=ANe,hNe=!!Sf.env.CI||!!Sf.env.BUILD_ARTIFACTSTAGINGDIRECTORY,Ik=er.LANGUAGE_DEFAULT,fG=er.LANGUAGE_DEFAULT;let e=Sf.env.VSCODE_NLS_CONFIG;if(e)try{let t=JSON.parse(e),r=t.availableLanguages["*"];Ik=t.locale,Ale=t.osLocale,fG=r||er.LANGUAGE_DEFAULT,gNe=t._translationsConfigFile}catch{}dNe=!0}else typeof navigator=="object"&&!j7t?(OA=navigator.userAgent,wk=OA.indexOf("Windows")>=0,_k=OA.indexOf("Macintosh")>=0,Cle=(OA.indexOf("Macintosh")>=0||OA.indexOf("iPad")>=0||OA.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,Tk=OA.indexOf("Linux")>=0,pNe=OA?.indexOf("Mobi")>=0,yle=!0,Ik=aNe.getConfiguredDefaultLocale(aNe.localize({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"))||er.LANGUAGE_DEFAULT,fG=Ik,Ale=navigator.language):console.error("Unable to resolve platform.");function V7t(e){switch(e){case 0:return"Web";case 1:return"Mac";case 2:return"Linux";case 3:return"Windows"}}o(V7t,"PlatformToString");var dG=0;_k?dG=1:wk?dG=3:Tk&&(dG=2);er.isWindows=wk;er.isMacintosh=_k;er.isLinux=Tk;er.isLinuxSnap=fNe;er.isNative=dNe;er.isElectron=mNe;er.isWeb=yle;er.isWebWorker=yle&&typeof UA.importScripts=="function";er.webWorkerOrigin=er.isWebWorker?UA.origin:void 0;er.isIOS=Cle;er.isMobile=pNe;er.isCI=hNe;er.platform=dG;er.userAgent=OA;er.language=fG;var lNe;(function(e){function t(){return er.language}o(t,"value"),e.value=t;function r(){return er.language.length===2?er.language==="en":er.language.length>=3?er.language[0]==="e"&&er.language[1]==="n"&&er.language[2]==="-":!1}o(r,"isDefaultVariant"),e.isDefaultVariant=r;function n(){return er.language==="en"}o(n,"isDefault"),e.isDefault=n})(lNe||(er.Language=lNe={}));er.locale=Ik;er.platformLocale=Ale;er.translationsConfigFile=gNe;er.setTimeout0IsFaster=typeof UA.postMessage=="function"&&!UA.importScripts;er.setTimeout0=(()=>{if(er.setTimeout0IsFaster){let e=[];UA.addEventListener("message",r=>{if(r.data&&r.data.vscodeScheduleAsyncWork)for(let n=0,i=e.length;n<i;n++){let s=e[n];if(s.id===r.data.vscodeScheduleAsyncWork){e.splice(n,1),s.callback();return}}});let t=0;return r=>{let n=++t;e.push({id:n,callback:r}),UA.postMessage({vscodeScheduleAsyncWork:n},"*")}}return e=>setTimeout(e)})();er.OS=_k||Cle?2:wk?1:3;var cNe=!0,uNe=!1;function $7t(){if(!uNe){uNe=!0;let e=new Uint8Array(2);e[0]=1,e[1]=2,cNe=new Uint16Array(e.buffer)[0]===513}return cNe}o($7t,"isLittleEndian");er.isChrome=!!(er.userAgent&&er.userAgent.indexOf("Chrome")>=0);er.isFirefox=!!(er.userAgent&&er.userAgent.indexOf("Firefox")>=0);er.isSafari=!!(!er.isChrome&&er.userAgent&&er.userAgent.indexOf("Safari")>=0);er.isEdge=!!(er.userAgent&&er.userAgent.indexOf("Edg/")>=0);er.isAndroid=!!(er.userAgent&&er.userAgent.indexOf("Android")>=0);function z7t(e){return parseFloat(e)>=20}o(z7t,"isBigSurOrNewer")});var CNe=j(Rg=>{"use strict";d();Object.defineProperty(Rg,"__esModule",{value:!0});Rg.arch=Rg.platform=Rg.env=Rg.cwd=void 0;var yNe=xle(),hv,vle=globalThis.vscode;if(typeof vle<"u"&&typeof vle.process<"u"){let e=vle.process;hv={get platform(){return e.platform},get arch(){return e.arch},get env(){return e.env},cwd(){return e.cwd()}}}else typeof process<"u"?hv={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:hv={get platform(){return yNe.isWindows?"win32":yNe.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};Rg.cwd=hv.cwd;Rg.env=hv.env;Rg.platform=hv.platform;Rg.arch=hv.arch});var vNe=j(Tr=>{"use strict";d();Object.defineProperty(Tr,"__esModule",{value:!0});Tr.delimiter=Tr.sep=Tr.toNamespacedPath=Tr.parse=Tr.format=Tr.extname=Tr.basename=Tr.dirname=Tr.relative=Tr.resolve=Tr.join=Tr.isAbsolute=Tr.normalize=Tr.posix=Tr.win32=void 0;var n9=CNe(),Y7t=65,K7t=97,J7t=90,Z7t=122,vC=46,Ol=47,yu=92,CC=58,X7t=63,mG=class extends Error{static{o(this,"ErrorInvalidArgType")}code;constructor(t,r,n){let i;typeof r=="string"&&r.indexOf("not ")===0?(i="must not be",r=r.replace(/^not /,"")):i="must be";let s=t.indexOf(".")!==-1?"property":"argument",a=`The "${t}" ${s} ${i} of type ${r}`;a+=`. Received type ${typeof n}`,super(a),this.code="ERR_INVALID_ARG_TYPE"}};function eTt(e,t){if(e===null||typeof e!="object")throw new mG(t,"Object",e)}o(eTt,"validateObject");function ca(e,t){if(typeof e!="string")throw new mG(t,"string",e)}o(ca,"validateString");var Cu=n9.platform==="win32";function si(e){return e===Ol||e===yu}o(si,"isPathSeparator");function ble(e){return e===Ol}o(ble,"isPosixPathSeparator");function xC(e){return e>=Y7t&&e<=J7t||e>=K7t&&e<=Z7t}o(xC,"isWindowsDeviceRoot");function hG(e,t,r,n){let i="",s=0,a=-1,l=0,c=0;for(let u=0;u<=e.length;++u){if(u<e.length)c=e.charCodeAt(u);else{if(n(c))break;c=Ol}if(n(c)){if(!(a===u-1||l===1))if(l===2){if(i.length<2||s!==2||i.charCodeAt(i.length-1)!==vC||i.charCodeAt(i.length-2)!==vC){if(i.length>2){let f=i.lastIndexOf(r);f===-1?(i="",s=0):(i=i.slice(0,f),s=i.length-1-i.lastIndexOf(r)),a=u,l=0;continue}else if(i.length!==0){i="",s=0,a=u,l=0;continue}}t&&(i+=i.length>0?`${r}..`:"..",s=2)}else i.length>0?i+=`${r}${e.slice(a+1,u)}`:i=e.slice(a+1,u),s=u-a-1;a=u,l=0}else c===vC&&l!==-1?++l:l=-1}return i}o(hG,"normalizeString");function xNe(e,t){eTt(t,"pathObject");let r=t.dir||t.root,n=t.base||`${t.name||""}${t.ext||""}`;return r?r===t.root?`${r}${n}`:`${r}${e}${n}`:n}o(xNe,"_format");Tr.win32={resolve(...e){let t="",r="",n=!1;for(let i=e.length-1;i>=-1;i--){let s;if(i>=0){if(s=e[i],ca(s,"path"),s.length===0)continue}else t.length===0?s=n9.cwd():(s=n9.env[`=${t}`]||n9.cwd(),(s===void 0||s.slice(0,2).toLowerCase()!==t.toLowerCase()&&s.charCodeAt(2)===yu)&&(s=`${t}\\`));let a=s.length,l=0,c="",u=!1,f=s.charCodeAt(0);if(a===1)si(f)&&(l=1,u=!0);else if(si(f))if(u=!0,si(s.charCodeAt(1))){let m=2,h=m;for(;m<a&&!si(s.charCodeAt(m));)m++;if(m<a&&m!==h){let p=s.slice(h,m);for(h=m;m<a&&si(s.charCodeAt(m));)m++;if(m<a&&m!==h){for(h=m;m<a&&!si(s.charCodeAt(m));)m++;(m===a||m!==h)&&(c=`\\\\${p}\\${s.slice(h,m)}`,l=m)}}}else l=1;else xC(f)&&s.charCodeAt(1)===CC&&(c=s.slice(0,2),l=2,a>2&&si(s.charCodeAt(2))&&(u=!0,l=3));if(c.length>0)if(t.length>0){if(c.toLowerCase()!==t.toLowerCase())continue}else t=c;if(n){if(t.length>0)break}else if(r=`${s.slice(l)}\\${r}`,n=u,u&&t.length>0)break}return r=hG(r,!n,"\\",si),n?`${t}\\${r}`:`${t}${r}`||"."},normalize(e){ca(e,"path");let t=e.length;if(t===0)return".";let r=0,n,i=!1,s=e.charCodeAt(0);if(t===1)return ble(s)?"\\":e;if(si(s))if(i=!0,si(e.charCodeAt(1))){let l=2,c=l;for(;l<t&&!si(e.charCodeAt(l));)l++;if(l<t&&l!==c){let u=e.slice(c,l);for(c=l;l<t&&si(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&!si(e.charCodeAt(l));)l++;if(l===t)return`\\\\${u}\\${e.slice(c)}\\`;l!==c&&(n=`\\\\${u}\\${e.slice(c,l)}`,r=l)}}}else r=1;else xC(s)&&e.charCodeAt(1)===CC&&(n=e.slice(0,2),r=2,t>2&&si(e.charCodeAt(2))&&(i=!0,r=3));let a=r<t?hG(e.slice(r),!i,"\\",si):"";return a.length===0&&!i&&(a="."),a.length>0&&si(e.charCodeAt(t-1))&&(a+="\\"),n===void 0?i?`\\${a}`:a:i?`${n}\\${a}`:`${n}${a}`},isAbsolute(e){ca(e,"path");let t=e.length;if(t===0)return!1;let r=e.charCodeAt(0);return si(r)||t>2&&xC(r)&&e.charCodeAt(1)===CC&&si(e.charCodeAt(2))},join(...e){if(e.length===0)return".";let t,r;for(let s=0;s<e.length;++s){let a=e[s];ca(a,"path"),a.length>0&&(t===void 0?t=r=a:t+=`\\${a}`)}if(t===void 0)return".";let n=!0,i=0;if(typeof r=="string"&&si(r.charCodeAt(0))){++i;let s=r.length;s>1&&si(r.charCodeAt(1))&&(++i,s>2&&(si(r.charCodeAt(2))?++i:n=!1))}if(n){for(;i<t.length&&si(t.charCodeAt(i));)i++;i>=2&&(t=`\\${t.slice(i)}`)}return Tr.win32.normalize(t)},relative(e,t){if(ca(e,"from"),ca(t,"to"),e===t)return"";let r=Tr.win32.resolve(e),n=Tr.win32.resolve(t);if(r===n||(e=r.toLowerCase(),t=n.toLowerCase(),e===t))return"";let i=0;for(;i<e.length&&e.charCodeAt(i)===yu;)i++;let s=e.length;for(;s-1>i&&e.charCodeAt(s-1)===yu;)s--;let a=s-i,l=0;for(;l<t.length&&t.charCodeAt(l)===yu;)l++;let c=t.length;for(;c-1>l&&t.charCodeAt(c-1)===yu;)c--;let u=c-l,f=a<u?a:u,m=-1,h=0;for(;h<f;h++){let g=e.charCodeAt(i+h);if(g!==t.charCodeAt(l+h))break;g===yu&&(m=h)}if(h!==f){if(m===-1)return n}else{if(u>f){if(t.charCodeAt(l+h)===yu)return n.slice(l+h+1);if(h===2)return n.slice(l+h)}a>f&&(e.charCodeAt(i+h)===yu?m=h:h===2&&(m=3)),m===-1&&(m=0)}let p="";for(h=i+m+1;h<=s;++h)(h===s||e.charCodeAt(h)===yu)&&(p+=p.length===0?"..":"\\..");return l+=m,p.length>0?`${p}${n.slice(l,c)}`:(n.charCodeAt(l)===yu&&++l,n.slice(l,c))},toNamespacedPath(e){if(typeof e!="string"||e.length===0)return e;let t=Tr.win32.resolve(e);if(t.length<=2)return e;if(t.charCodeAt(0)===yu){if(t.charCodeAt(1)===yu){let r=t.charCodeAt(2);if(r!==X7t&&r!==vC)return`\\\\?\\UNC\\${t.slice(2)}`}}else if(xC(t.charCodeAt(0))&&t.charCodeAt(1)===CC&&t.charCodeAt(2)===yu)return`\\\\?\\${t}`;return e},dirname(e){ca(e,"path");let t=e.length;if(t===0)return".";let r=-1,n=0,i=e.charCodeAt(0);if(t===1)return si(i)?e:".";if(si(i)){if(r=n=1,si(e.charCodeAt(1))){let l=2,c=l;for(;l<t&&!si(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&si(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&!si(e.charCodeAt(l));)l++;if(l===t)return e;l!==c&&(r=n=l+1)}}}}else xC(i)&&e.charCodeAt(1)===CC&&(r=t>2&&si(e.charCodeAt(2))?3:2,n=r);let s=-1,a=!0;for(let l=t-1;l>=n;--l)if(si(e.charCodeAt(l))){if(!a){s=l;break}}else a=!1;if(s===-1){if(r===-1)return".";s=r}return e.slice(0,s)},basename(e,t){t!==void 0&&ca(t,"ext"),ca(e,"path");let r=0,n=-1,i=!0,s;if(e.length>=2&&xC(e.charCodeAt(0))&&e.charCodeAt(1)===CC&&(r=2),t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,l=-1;for(s=e.length-1;s>=r;--s){let c=e.charCodeAt(s);if(si(c)){if(!i){r=s+1;break}}else l===-1&&(i=!1,l=s+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(n=s):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}for(s=e.length-1;s>=r;--s)if(si(e.charCodeAt(s))){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":e.slice(r,n)},extname(e){ca(e,"path");let t=0,r=-1,n=0,i=-1,s=!0,a=0;e.length>=2&&e.charCodeAt(1)===CC&&xC(e.charCodeAt(0))&&(t=n=2);for(let l=e.length-1;l>=t;--l){let c=e.charCodeAt(l);if(si(c)){if(!s){n=l+1;break}continue}i===-1&&(s=!1,i=l+1),c===vC?r===-1?r=l:a!==1&&(a=1):r!==-1&&(a=-1)}return r===-1||i===-1||a===0||a===1&&r===i-1&&r===n+1?"":e.slice(r,i)},format:xNe.bind(null,"\\"),parse(e){ca(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.length,n=0,i=e.charCodeAt(0);if(r===1)return si(i)?(t.root=t.dir=e,t):(t.base=t.name=e,t);if(si(i)){if(n=1,si(e.charCodeAt(1))){let m=2,h=m;for(;m<r&&!si(e.charCodeAt(m));)m++;if(m<r&&m!==h){for(h=m;m<r&&si(e.charCodeAt(m));)m++;if(m<r&&m!==h){for(h=m;m<r&&!si(e.charCodeAt(m));)m++;m===r?n=m:m!==h&&(n=m+1)}}}}else if(xC(i)&&e.charCodeAt(1)===CC){if(r<=2)return t.root=t.dir=e,t;if(n=2,si(e.charCodeAt(2))){if(r===3)return t.root=t.dir=e,t;n=3}}n>0&&(t.root=e.slice(0,n));let s=-1,a=n,l=-1,c=!0,u=e.length-1,f=0;for(;u>=n;--u){if(i=e.charCodeAt(u),si(i)){if(!c){a=u+1;break}continue}l===-1&&(c=!1,l=u+1),i===vC?s===-1?s=u:f!==1&&(f=1):s!==-1&&(f=-1)}return l!==-1&&(s===-1||f===0||f===1&&s===l-1&&s===a+1?t.base=t.name=e.slice(a,l):(t.name=e.slice(a,s),t.base=e.slice(a,l),t.ext=e.slice(s,l))),a>0&&a!==n?t.dir=e.slice(0,a-1):t.dir=t.root,t},sep:"\\",delimiter:";",win32:null,posix:null};var tTt=(()=>{if(Cu){let e=/\\/g;return()=>{let t=n9.cwd().replace(e,"/");return t.slice(t.indexOf("/"))}}return()=>n9.cwd()})();Tr.posix={resolve(...e){let t="",r=!1;for(let n=e.length-1;n>=-1&&!r;n--){let i=n>=0?e[n]:tTt();ca(i,"path"),i.length!==0&&(t=`${i}/${t}`,r=i.charCodeAt(0)===Ol)}return t=hG(t,!r,"/",ble),r?`/${t}`:t.length>0?t:"."},normalize(e){if(ca(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===Ol,r=e.charCodeAt(e.length-1)===Ol;return e=hG(e,!t,"/",ble),e.length===0?t?"/":r?"./":".":(r&&(e+="/"),t?`/${e}`:e)},isAbsolute(e){return ca(e,"path"),e.length>0&&e.charCodeAt(0)===Ol},join(...e){if(e.length===0)return".";let t;for(let r=0;r<e.length;++r){let n=e[r];ca(n,"path"),n.length>0&&(t===void 0?t=n:t+=`/${n}`)}return t===void 0?".":Tr.posix.normalize(t)},relative(e,t){if(ca(e,"from"),ca(t,"to"),e===t||(e=Tr.posix.resolve(e),t=Tr.posix.resolve(t),e===t))return"";let r=1,n=e.length,i=n-r,s=1,a=t.length-s,l=i<a?i:a,c=-1,u=0;for(;u<l;u++){let m=e.charCodeAt(r+u);if(m!==t.charCodeAt(s+u))break;m===Ol&&(c=u)}if(u===l)if(a>l){if(t.charCodeAt(s+u)===Ol)return t.slice(s+u+1);if(u===0)return t.slice(s+u)}else i>l&&(e.charCodeAt(r+u)===Ol?c=u:u===0&&(c=0));let f="";for(u=r+c+1;u<=n;++u)(u===n||e.charCodeAt(u)===Ol)&&(f+=f.length===0?"..":"/..");return`${f}${t.slice(s+c)}`},toNamespacedPath(e){return e},dirname(e){if(ca(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===Ol,r=-1,n=!0;for(let i=e.length-1;i>=1;--i)if(e.charCodeAt(i)===Ol){if(!n){r=i;break}}else n=!1;return r===-1?t?"/":".":t&&r===1?"//":e.slice(0,r)},basename(e,t){t!==void 0&&ca(t,"ext"),ca(e,"path");let r=0,n=-1,i=!0,s;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,l=-1;for(s=e.length-1;s>=0;--s){let c=e.charCodeAt(s);if(c===Ol){if(!i){r=s+1;break}}else l===-1&&(i=!1,l=s+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(n=s):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}for(s=e.length-1;s>=0;--s)if(e.charCodeAt(s)===Ol){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":e.slice(r,n)},extname(e){ca(e,"path");let t=-1,r=0,n=-1,i=!0,s=0;for(let a=e.length-1;a>=0;--a){let l=e.charCodeAt(a);if(l===Ol){if(!i){r=a+1;break}continue}n===-1&&(i=!1,n=a+1),l===vC?t===-1?t=a:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||n===-1||s===0||s===1&&t===n-1&&t===r+1?"":e.slice(t,n)},format:xNe.bind(null,"/"),parse(e){ca(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.charCodeAt(0)===Ol,n;r?(t.root="/",n=1):n=0;let i=-1,s=0,a=-1,l=!0,c=e.length-1,u=0;for(;c>=n;--c){let f=e.charCodeAt(c);if(f===Ol){if(!l){s=c+1;break}continue}a===-1&&(l=!1,a=c+1),f===vC?i===-1?i=c:u!==1&&(u=1):i!==-1&&(u=-1)}if(a!==-1){let f=s===0&&r?1:s;i===-1||u===0||u===1&&i===a-1&&i===s+1?t.base=t.name=e.slice(f,a):(t.name=e.slice(f,i),t.base=e.slice(f,a),t.ext=e.slice(i,a))}return s>0?t.dir=e.slice(0,s-1):r&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};Tr.posix.win32=Tr.win32.win32=Tr.win32;Tr.posix.posix=Tr.win32.posix=Tr.posix;Tr.normalize=Cu?Tr.win32.normalize:Tr.posix.normalize;Tr.isAbsolute=Cu?Tr.win32.isAbsolute:Tr.posix.isAbsolute;Tr.join=Cu?Tr.win32.join:Tr.posix.join;Tr.resolve=Cu?Tr.win32.resolve:Tr.posix.resolve;Tr.relative=Cu?Tr.win32.relative:Tr.posix.relative;Tr.dirname=Cu?Tr.win32.dirname:Tr.posix.dirname;Tr.basename=Cu?Tr.win32.basename:Tr.posix.basename;Tr.extname=Cu?Tr.win32.extname:Tr.posix.extname;Tr.format=Cu?Tr.win32.format:Tr.posix.format;Tr.parse=Cu?Tr.win32.parse:Tr.posix.parse;Tr.toNamespacedPath=Cu?Tr.win32.toNamespacedPath:Tr.posix.toNamespacedPath;Tr.sep=Cu?Tr.win32.sep:Tr.posix.sep;Tr.delimiter=Cu?Tr.win32.delimiter:Tr.posix.delimiter});var SNe=j(i9=>{"use strict";d();Object.defineProperty(i9,"__esModule",{value:!0});i9.URI=void 0;i9.isUriComponents=cTt;i9.uriToFsPath=yG;var bNe=vNe(),gG=xle(),rTt=/^\w[\w\d+.-]*$/,nTt=/^\//,iTt=/^\/\//;function oTt(e,t){if(!e.scheme&&t)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${e.authority}", path: "${e.path}", query: "${e.query}", fragment: "${e.fragment}"}`);if(e.scheme&&!rTt.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path){if(e.authority){if(!nTt.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(iTt.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}o(oTt,"_validateUri");function sTt(e,t){return!e&&!t?"file":e}o(sTt,"_schemeFix");function aTt(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==Sh&&(t=Sh+t):t=Sh;break}return t}o(aTt,"_referenceResolution");var $o="",Sh="/",lTt=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,AG=class e{static{o(this,"URI")}static isUri(t){return t instanceof e?!0:t?typeof t.authority=="string"&&typeof t.fragment=="string"&&typeof t.path=="string"&&typeof t.query=="string"&&typeof t.scheme=="string"&&typeof t.fsPath=="string"&&typeof t.with=="function"&&typeof t.toString=="function":!1}scheme;authority;path;query;fragment;constructor(t,r,n,i,s,a=!1){typeof t=="object"?(this.scheme=t.scheme||$o,this.authority=t.authority||$o,this.path=t.path||$o,this.query=t.query||$o,this.fragment=t.fragment||$o):(this.scheme=sTt(t,a),this.authority=r||$o,this.path=aTt(this.scheme,n||$o),this.query=i||$o,this.fragment=s||$o,oTt(this,a))}get fsPath(){return yG(this,!1)}with(t){if(!t)return this;let{scheme:r,authority:n,path:i,query:s,fragment:a}=t;return r===void 0?r=this.scheme:r===null&&(r=$o),n===void 0?n=this.authority:n===null&&(n=$o),i===void 0?i=this.path:i===null&&(i=$o),s===void 0?s=this.query:s===null&&(s=$o),a===void 0?a=this.fragment:a===null&&(a=$o),r===this.scheme&&n===this.authority&&i===this.path&&s===this.query&&a===this.fragment?this:new bC(r,n,i,s,a)}static parse(t,r=!1){let n=lTt.exec(t);return n?new bC(n[2]||$o,pG(n[4]||$o),pG(n[5]||$o),pG(n[7]||$o),pG(n[9]||$o),r):new bC($o,$o,$o,$o,$o)}static file(t){let r=$o;if(gG.isWindows&&(t=t.replace(/\\/g,Sh)),t[0]===Sh&&t[1]===Sh){let n=t.indexOf(Sh,2);n===-1?(r=t.substring(2),t=Sh):(r=t.substring(2,n),t=t.substring(n)||Sh)}return new bC("file",r,t,$o,$o)}static from(t,r){return new bC(t.scheme,t.authority,t.path,t.query,t.fragment,r)}static joinPath(t,...r){if(!t.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let n;return gG.isWindows&&t.scheme==="file"?n=e.file(bNe.win32.join(yG(t,!0),...r)).path:n=bNe.posix.join(t.path,...r),t.with({path:n})}toString(t=!1){return Ele(this,t)}toJSON(){return this}static revive(t){if(t){if(t instanceof e)return t;{let r=new bC(t);return r._formatted=t.external??null,r._fsPath=t._sep===TNe?t.fsPath??null:null,r}}else return t}};i9.URI=AG;function cTt(e){return!e||typeof e!="object"?!1:typeof e.scheme=="string"&&(typeof e.authority=="string"||typeof e.authority>"u")&&(typeof e.path=="string"||typeof e.path>"u")&&(typeof e.query=="string"||typeof e.query>"u")&&(typeof e.fragment=="string"||typeof e.fragment>"u")}o(cTt,"isUriComponents");var TNe=gG.isWindows?1:void 0,bC=class extends AG{static{o(this,"Uri")}_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=yG(this,!1)),this._fsPath}toString(t=!1){return t?Ele(this,!0):(this._formatted||(this._formatted=Ele(this,!1)),this._formatted)}toJSON(){let t={$mid:1};return this._fsPath&&(t.fsPath=this._fsPath,t._sep=TNe),this._formatted&&(t.external=this._formatted),this.path&&(t.path=this.path),this.scheme&&(t.scheme=this.scheme),this.authority&&(t.authority=this.authority),this.query&&(t.query=this.query),this.fragment&&(t.fragment=this.fragment),t}},wNe={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function ENe(e,t,r){let n,i=-1;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);if(a>=97&&a<=122||a>=65&&a<=90||a>=48&&a<=57||a===45||a===46||a===95||a===126||t&&a===47||r&&a===91||r&&a===93||r&&a===58)i!==-1&&(n+=encodeURIComponent(e.substring(i,s)),i=-1),n!==void 0&&(n+=e.charAt(s));else{n===void 0&&(n=e.substr(0,s));let l=wNe[a];l!==void 0?(i!==-1&&(n+=encodeURIComponent(e.substring(i,s)),i=-1),n+=l):i===-1&&(i=s)}}return i!==-1&&(n+=encodeURIComponent(e.substring(i))),n!==void 0?n:e}o(ENe,"encodeURIComponentFast");function uTt(e){let t;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n===35||n===63?(t===void 0&&(t=e.substr(0,r)),t+=wNe[n]):t!==void 0&&(t+=e[r])}return t!==void 0?t:e}o(uTt,"encodeURIComponentMinimal");function yG(e,t){let r;return e.authority&&e.path.length>1&&e.scheme==="file"?r=`//${e.authority}${e.path}`:e.path.charCodeAt(0)===47&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&e.path.charCodeAt(2)===58?t?r=e.path.substr(1):r=e.path[1].toLowerCase()+e.path.substr(2):r=e.path,gG.isWindows&&(r=r.replace(/\//g,"\\")),r}o(yG,"uriToFsPath");function Ele(e,t){let r=t?uTt:ENe,n="",{scheme:i,authority:s,path:a,query:l,fragment:c}=e;if(i&&(n+=i,n+=":"),(s||i==="file")&&(n+=Sh,n+=Sh),s){let u=s.indexOf("@");if(u!==-1){let f=s.substr(0,u);s=s.substr(u+1),u=f.lastIndexOf(":"),u===-1?n+=r(f,!1,!1):(n+=r(f.substr(0,u),!1,!1),n+=":",n+=r(f.substr(u+1),!1,!0)),n+="@"}s=s.toLowerCase(),u=s.lastIndexOf(":"),u===-1?n+=r(s,!1,!0):(n+=r(s.substr(0,u),!1,!0),n+=s.substr(u))}if(a){if(a.length>=3&&a.charCodeAt(0)===47&&a.charCodeAt(2)===58){let u=a.charCodeAt(1);u>=65&&u<=90&&(a=`/${String.fromCharCode(u+32)}:${a.substr(3)}`)}else if(a.length>=2&&a.charCodeAt(1)===58){let u=a.charCodeAt(0);u>=65&&u<=90&&(a=`${String.fromCharCode(u+32)}:${a.substr(2)}`)}n+=r(a,!0,!1)}return l&&(n+="?",n+=r(l,!1,!1)),c&&(n+="#",n+=t?c:ENe(c,!1,!1)),n}o(Ele,"_asFormatted");function _Ne(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substr(0,3)+_Ne(e.substr(3)):e}}o(_Ne,"decodeURIComponentGraceful");var INe=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function pG(e){return e.match(INe)?e.replace(INe,t=>_Ne(t)):e}o(pG,"percentDecode")});var wle=j(EC=>{"use strict";d();Object.defineProperty(EC,"__esModule",{value:!0});EC.PromptReference=EC.ChatResponseReferencePartStatusKind=EC.PromptMetadata=void 0;var Sk=SNe(),Ile=class{static{o(this,"PromptMetadata")}_marker;toString(){return Object.getPrototypeOf(this).constructor.name}};EC.PromptMetadata=Ile;var kNe;(function(e){e[e.Complete=1]="Complete",e[e.Partial=2]="Partial",e[e.Omitted=3]="Omitted"})(kNe||(EC.ChatResponseReferencePartStatusKind=kNe={}));var Tle=class e{static{o(this,"PromptReference")}anchor;iconPath;options;static fromJSON(t){let r=o(n=>"scheme"in n?Sk.URI.from(n):{uri:Sk.URI.from(n.uri),range:n.range},"uriOrLocation");return new e("variableName"in t.anchor?{variableName:t.anchor.variableName,value:t.anchor.value&&r(t.anchor.value)}:r(t.anchor),t.iconPath&&("scheme"in t.iconPath?Sk.URI.from(t.iconPath):"light"in t.iconPath?{light:Sk.URI.from(t.iconPath.light),dark:Sk.URI.from(t.iconPath.dark)}:t.iconPath),t.options)}constructor(t,r,n){this.anchor=t,this.iconPath=r,this.options=n}toJSON(){return{anchor:this.anchor,iconPath:this.iconPath,options:this.options}}};EC.PromptReference=Tle});var Fle=j(o9=>{"use strict";d();Object.defineProperty(o9,"__esModule",{value:!0});o9.PromptRenderer=o9.MetadataMap=void 0;var CG=nle(),fc=gle(),Ple=wle(),RNe;(function(e){e.empty={get:o(()=>{},"get"),getAll:o(()=>[],"getAll")}})(RNe||(o9.MetadataMap=RNe={}));var _le=class{static{o(this,"PromptRenderer")}_endpoint;_ctor;_props;_tokenizer;_usedContext=[];_ignoredFiles=[];_growables=[];_root=new vG(null,0);_tokenLimits=[];tracer=void 0;constructor(t,r,n,i){this._endpoint=t,this._ctor=r,this._props=n,this._tokenizer=i}getIgnoredFiles(){return Array.from(new Set(this._ignoredFiles))}getUsedContext(){return this._usedContext}createElement(t){return new t.ctor(t.props)}async _processPromptPieces(t,r,n,i){let s=new Map;for(let[c,u]of r.entries()){if(Array.isArray(u.children)&&(u.props=u.props??{},u.props.children=u.children),!u.ctor)throw new Error("Invalid ChatMessage child! Child must be a TSX component that extends PromptElement.");let f=this.createElement(u),m;f instanceof fc.TokenLimit&&(m=u.props.max,this._tokenLimits.push({limit:m,id:u.node.id})),u.node.setObj(f);let h=u.props.flexGrow??1/0,p=s.get(h);p||(p=[],s.set(h,p)),p.push({element:u,promptElementInstance:f,tokenLimit:m})}if(s.size===0)return;let a=[...s.entries()].sort(([c],[u])=>u-c).map(([c,u])=>u),l=o(c=>{let u=0;for(let f=c+1;f<a.length;f++)for(let{element:m}of a[f]){if(!m.props.flexReserve)continue;let h=typeof m.props.flexReserve=="string"?Math.floor(t.remainingTokenBudget/Number(m.props.flexReserve.slice(1))):m.props.flexReserve;u+=h}return t.consume(u),u},"setReserved");for(let[c,u]of a.entries()){let f=l(c),m=0;for(let{element:v}of u)m+=v.props.flexBasis??1;let h=0,p=u.map(v=>{if(v.tokenLimit===void 0)return!1;let E=v.element.props.flexBasis??1,b=E/m;return Math.floor(t.remainingTokenBudget*b)<v.tokenLimit?!1:(m-=E,h+=v.tokenLimit,!0)}),g=u.map((v,E)=>{let b=(v.element.props.flexBasis??1)/m;return{tokenBudget:p[E]?v.tokenLimit:Math.floor((t.remainingTokenBudget-h)*b),endpoint:t.endpoint,countTokens:o((_,R)=>this._tokenizer.tokenLength(_,R),"countTokens")}});t.consume(-f),this.tracer?.addRenderEpoch?.({inNode:u[0].element.node.parent?.id,flexValue:u[0].element.props.flexGrow??0,tokenBudget:t.remainingTokenBudget,reservedTokens:f,elements:u.map((v,E)=>({id:v.element.node.id,tokenBudget:g[E].tokenBudget}))}),await Promise.all(u.map(async({element:v,promptElementInstance:E},b)=>{let _=await E.prepare?.(g[b],n,i);v.node.setState(_)}));let x=await Promise.all(u.map(async({element:v,promptElementInstance:E},b)=>{let _=g[b];return await E.render(v.node.getState(),_,n,i)}));for(let[v,{element:E,promptElementInstance:b}]of u.entries()){let _=g[v],R=x[v];if(!R)continue;let P=await this._processPromptRenderPiece(new pv(_.tokenBudget,this._endpoint),E,b,R,n,i);b instanceof fc.Expandable&&this._growables.push({initialConsume:P,elem:E.node}),t.consume(P)}}}async _processPromptRenderPiece(t,r,n,i,s,a){let l=BNe(i),c=new pv(t.tokenBudget,this._endpoint),{tokensConsumed:u}=await fTt(this._tokenizer,r,n,l);return c.consume(u),await this._handlePromptChildren(r,l,c,s,a),c.consumed}async renderElementJSON(t){return await this._processPromptPieces(new pv(this._endpoint.modelMaxPromptTokens,this._endpoint),[{node:this._root,ctor:this._ctor,props:this._props,children:[]}],void 0,t),{node:this._root.toJSON()}}async render(t,r){await this._processPromptPieces(new pv(this._endpoint.modelMaxPromptTokens,this._endpoint),[{node:this._root,ctor:this._ctor,props:this._props,children:[]}],t,r);let{container:n,allMetadata:i,removed:s}=await this._getFinalElementTree(this._endpoint.modelMaxPromptTokens,r);this.tracer?.didMaterializeTree?.({budget:this._endpoint.modelMaxPromptTokens,renderedTree:{container:n,removed:s,budget:this._endpoint.modelMaxPromptTokens},tokenizer:this._tokenizer,renderTree:o(h=>this._getFinalElementTree(h,void 0).then(p=>({...p,budget:h})),"renderTree")});let a=[...n.toChatMessages()],l=await n.tokenCount(this._tokenizer),c=[...n.allMetadata()],u=new Set,f=c.map(h=>{if(!(h instanceof Bg))return;let p=h.reference,g="variableName"in p.anchor;if(g&&!u.has(p.anchor.variableName))return u.add(p.anchor.variableName),p;if(!g)return p}).filter(Ble),m=i.map(h=>{if(!(h instanceof Bg)||c.includes(h))return;let p=h.reference,g="variableName"in p.anchor;if(g&&!u.has(p.anchor.variableName))return u.add(p.anchor.variableName),p;if(!g)return p}).filter(Ble);return{metadata:{get:o(h=>c.find(p=>p instanceof h),"get"),getAll:o(h=>c.filter(p=>p instanceof h),"getAll")},messages:a,hasIgnoredFiles:this._ignoredFiles.length>0,tokenCount:l,references:f,omittedReferences:m}}async _getFinalElementTree(t,r){let n=this._root.materialize(),i=[...n.allMetadata()],s=[{limit:t,id:this._root.id},...this._tokenLimits],a=0;for(let l=s.length-1;l>=0;l--){let c=s[l];if(c.limit>t)continue;let u=n.findById(c.id);if(!u)continue;let f=await u.tokenCount(this._tokenizer);if(f<c.limit&&!await this._grow(u,f,c.limit,r))continue;let m=await u.tokenCount(this._tokenizer);for(;m>c.limit;){for(;m>c.limit;)for(let h of u.removeLowestPriorityChild()){a++;let p=h.upperBoundTokenCount(this._tokenizer);m-=typeof p=="number"?p:await p}m=await u.tokenCount(this._tokenizer)}}return{container:n,allMetadata:i,removed:a}}async _grow(t,r,n,i){if(!this._growables.length)return!1;for(let s of this._growables){if(!t.findById(s.elem.id))continue;let a=s.elem.getObj();if(!(a instanceof fc.Expandable))throw new Error("unreachable: expected growable");let l=new vG(null,0,s.elem.id),c=new pv(n-r+s.initialConsume,this._endpoint),u=await this._processPromptRenderPiece(c,{node:l,ctor:this._ctor,props:{},children:[]},a,await a.render(void 0,{tokenBudget:c.tokenBudget,endpoint:this._endpoint,countTokens:o((h,p)=>this._tokenizer.tokenLength(h,p),"countTokens")}),void 0,i),f=l.materialize();if(!t.replaceNode(s.elem.id,f))throw new Error("unreachable: could not find old element to replace");if(r-=s.initialConsume,r+=u,r>=n)break}return!0}_handlePromptChildren(t,r,n,i,s){if(t.ctor===fc.TextChunk){this._handleExtrinsicTextChunkChildren(t.node,t.node,t.props,r);return}let a=[];for(let l of r){if(l.kind==="literal"){t.node.appendStringChild(l.value,t.props.priority??Number.MAX_SAFE_INTEGER);continue}if(l.kind==="intrinsic"){this._handleIntrinsic(t.node,l.name,{priority:t.props.priority??Number.MAX_SAFE_INTEGER,...l.props},xG(l.children));continue}let c=t.node.createChild();a.push({node:c,ctor:l.ctor,props:l.props,children:l.children})}return this._processPromptPieces(n,a,i,s)}_handleIntrinsic(t,r,n,i,s){switch(r){case"meta":return this._handleIntrinsicMeta(t,n,i);case"br":return this._handleIntrinsicLineBreak(t,n,i,n.priority,s);case"usedContext":return this._handleIntrinsicUsedContext(t,n,i);case"references":return this._handleIntrinsicReferences(t,n,i);case"ignoredFiles":return this._handleIntrinsicIgnoredFiles(t,n,i);case"elementJSON":return this._handleIntrinsicElementJSON(t,n.data)}throw new Error(`Unknown intrinsic element ${r}!`)}_handleIntrinsicMeta(t,r,n){if(n.length>0)throw new Error("<meta /> must not have children!");r.local?t.addMetadata(r.value):this._root.addMetadata(r.value)}_handleIntrinsicLineBreak(t,r,n,i,s){if(n.length>0)throw new Error("<br /> must not have children!");t.appendLineBreak(i??Number.MAX_SAFE_INTEGER,s)}_handleIntrinsicElementJSON(t,r){let n=t.appendPieceJSON(r.node);if(this.tracer?.includeInEpoch)for(let i of n.elements())this.tracer.includeInEpoch({id:i.id,tokenBudget:0})}_handleIntrinsicUsedContext(t,r,n){if(n.length>0)throw new Error("<usedContext /> must not have children!");this._usedContext.push(...r.value)}_handleIntrinsicReferences(t,r,n){if(n.length>0)throw new Error("<reference /> must not have children!");for(let i of r.value)t.addMetadata(new Bg(i))}_handleIntrinsicIgnoredFiles(t,r,n){if(n.length>0)throw new Error("<ignoredFiles /> must not have children!");this._ignoredFiles.push(...r.value)}_handleExtrinsicTextChunkChildren(t,r,n,i){let s=[],a=[];for(let l of i){if(l.kind==="extrinsic")throw new Error("TextChunk cannot have extrinsic children!");if(l.kind==="literal"&&s.push(l.value),l.kind==="intrinsic")if(l.name==="br")s.push(`
`);else if(l.name==="references")for(let c of l.props.value)a.push(new Bg(c));else this._handleIntrinsic(t,l.name,l.props,xG(l.children),r.childIndex)}t.appendStringChild(s.join(""),n?.priority??Number.MAX_SAFE_INTEGER,a,r.childIndex,!0)}};o9.PromptRenderer=_le;async function fTt(e,t,r,n){let i=0;(0,fc.isChatMessagePromptElement)(r)&&(i+=await e.countMessageTokens({role:t.props.role,content:"",...t.props.name?{name:t.props.name}:void 0,...t.props.toolCalls?{tool_calls:t.props.toolCalls}:void 0,...t.props.toolCallId?{tool_call_id:t.props.toolCallId}:void 0}));for(let s of n)s.kind==="literal"&&(i+=await e.tokenLength(s.value));return{tokensConsumed:i}}o(fTt,"computeTokensConsumedByLiterals");function BNe(e,t=[]){return typeof e>"u"||typeof e=="boolean"?[]:(typeof e=="string"||typeof e=="number"?t.push(new Rle(String(e))):dTt(e)?xG(e.children,t):mTt(e)?xG(e,t):typeof e.ctor=="string"?t.push(new Sle(e.ctor,e.props,e.children)):t.push(new kle(e.ctor,e.props,e.children)),t)}o(BNe,"flattenAndReduce");function xG(e,t=[]){for(let r of e)BNe(r,t);return t}o(xG,"flattenAndReduceArr");var Sle=class{static{o(this,"IntrinsicPromptPiece")}name;props;children;kind="intrinsic";constructor(t,r,n){this.name=t,this.props=r,this.children=n}},kle=class{static{o(this,"ExtrinsicPromptPiece")}ctor;props;children;kind="extrinsic";constructor(t,r,n){this.ctor=t,this.props=r,this.children=n}},Rle=class{static{o(this,"LiteralPromptPiece")}value;priority;kind="literal";constructor(t,r){this.value=t,this.priority=r}},pv=class{static{o(this,"PromptSizingContext")}tokenBudget;endpoint;_consumed=0;constructor(t,r){this.tokenBudget=t,this.endpoint=r}get consumed(){return this._consumed>this.tokenBudget?this.tokenBudget:this._consumed}get remainingTokenBudget(){return Math.max(0,this.tokenBudget-this._consumed)}consume(t){this._consumed+=t}},vG=class e{static{o(this,"PromptTreeElement")}parent;childIndex;id;static _nextId=0;static fromJSON(t,r){let n=new e(null,t);switch(n._metadata=r.references?.map(i=>new Bg(Ple.PromptReference.fromJSON(i)))??[],n._children=r.children.map((i,s)=>{switch(i.type){case 1:return e.fromJSON(s,i);case 2:return kk.fromJSON(n,s,i);default:}}).filter(Ble),r.ctor){case 1:n._obj=new fc.BaseChatMessage(r.props);break;case 2:break;case 3:n._obj=new fc.BaseImageMessage(r.props);break;default:}return n}kind=1;_obj=null;_state=void 0;_children=[];_metadata=[];constructor(t=null,r,n=e._nextId++){this.parent=t,this.childIndex=r,this.id=n}setObj(t){this._obj=t}getObj(){return this._obj}setState(t){this._state=t}getState(){return this._state}createChild(){let t=new e(this,this._children.length);return this._children.push(t),t}appendPieceJSON(t){let r=e.fromJSON(this._children.length,t);return this._children.push(r),r}appendStringChild(t,r,n,i=this._children.length,s=!1){this._children.push(new kk(this,i,t,r,n,s))}appendLineBreak(t,r=this._children.length){this._children.push(new kk(this,r,`
`,t))}toJSON(){let t={type:1,ctor:2,children:this._children.slice().sort((r,n)=>r.childIndex-n.childIndex).map(r=>r.toJSON()),priority:this._obj?.props.priority,references:this._metadata.filter(r=>r instanceof Bg).map(r=>r.reference.toJSON())};if(this._obj instanceof fc.BaseChatMessage)t.ctor=1,t.props={role:this._obj.props.role,name:this._obj.props.name,priority:this._obj.props.priority,toolCalls:this._obj.props.toolCalls,toolCallId:this._obj.props.toolCallId};else if(this._obj instanceof fc.BaseImageMessage)return{...t,ctor:3,props:{src:this._obj.props.src,detail:this._obj.props.detail}};return t}materialize(t){if(this._children.sort((r,n)=>r.childIndex-n.childIndex),this._obj instanceof fc.BaseImageMessage)return new CG.MaterializedChatMessageImage(t,1,this._obj.props.src,this._obj.props.priority??Number.MAX_SAFE_INTEGER,this._metadata,0,this._obj.props.detail??void 0);if(this._obj instanceof fc.BaseChatMessage){if(!this._obj.props.role)throw new Error("Invalid ChatMessage!");return new CG.MaterializedChatMessage(t,this.id,this._obj.props.role,this._obj.props.name,this._obj instanceof fc.AssistantMessage?this._obj.props.toolCalls:void 0,this._obj instanceof fc.ToolMessage?this._obj.props.toolCallId:void 0,this._obj.props.priority??Number.MAX_SAFE_INTEGER,this._metadata,r=>this._children.map(n=>n.materialize(r)))}else{let r=0;this._obj instanceof fc.LegacyPrioritization&&(r|=1),this._obj instanceof fc.Chunk&&(r|=2),this._obj instanceof fc.IfEmpty&&(r|=8),this._obj?.props.passPriority&&(r|=4);let n=new CG.MaterializedContainer(t,this.id,this._obj?.constructor.name,this._obj?.props.priority??(this._obj?.props.passPriority?0:Number.MAX_SAFE_INTEGER),i=>this._children.map(s=>s.materialize(i)),this._metadata,r);return this._obj instanceof fc.AbstractKeepWith&&(n.keepWithId=this._obj.id),n}}addMetadata(t){this._metadata.push(t)}*elements(){yield this;for(let t of this._children)t instanceof e&&(yield*t.elements())}},kk=class e{static{o(this,"PromptText")}parent;childIndex;text;priority;metadata;lineBreakBefore;static fromJSON(t,r,n){return new e(t,r,n.text,n.priority,n.references?.map(i=>new Bg(Ple.PromptReference.fromJSON(i))),n.lineBreakBefore)}kind=2;constructor(t,r,n,i,s,a=!1){this.parent=t,this.childIndex=r,this.text=n,this.priority=i,this.metadata=s,this.lineBreakBefore=a}collectLeafs(t){t.push(this)}materialize(t){let r=this.lineBreakBefore?1:this.childIndex===0?2:0;return new CG.MaterializedChatMessageTextChunk(t,this.text,this.priority??Number.MAX_SAFE_INTEGER,this.metadata||[],r)}toJSON(){return{type:2,priority:this.priority,text:this.text,references:this.metadata?.filter(t=>t instanceof Bg).map(t=>t.reference.toJSON()),lineBreakBefore:this.lineBreakBefore}}};function dTt(e){return(typeof e.ctor=="function"&&e.ctor.isFragment)??!1}o(dTt,"isFragmentCtor");function Ble(e){return e!==void 0}o(Ble,"isDefined");var Dle=class extends Ple.PromptMetadata{static{o(this,"InternalMetadata")}},Bg=class extends Dle{static{o(this,"ReferenceMetadata")}reference;constructor(t){super(),this.reference=t}};function mTt(e){return!!e&&typeof e[Symbol.iterator]=="function"}o(mTt,"isIterable")});var DNe=j(bG=>{"use strict";d();Object.defineProperty(bG,"__esModule",{value:!0});bG.AnyTokenizer=void 0;var Rk=e9(),Nle=class{static{o(this,"AnyTokenizer")}countTokens;constructor(t,r){if(this.countTokens=t,r!=="vscode")throw new Error("`mode` must be set to vscode when using vscode.LanguageModelChat as the tokenizer")}async tokenLength(t,r){return this.countTokens(t,r)}async countMessageTokens(t){let r=await Promise.resolve().then(()=>require("vscode"));return this.countTokens({role:this.toChatRole(t.role),content:[new r.LanguageModelTextPart(this.extractText(t))],name:"name"in t?t.name:void 0})}extractText(t){return t.content instanceof Array?t.content.map(r=>"text"in r?r.text:"").join(""):t.content}toChatRole(t){switch(t){case Rk.ChatRole.User:return 1;case Rk.ChatRole.Assistant:return 2;case Rk.ChatRole.System:return 1;case Rk.ChatRole.Function:return 1;case Rk.ChatRole.Tool:return 1}}};bG.AnyTokenizer=Nle});var PNe=j(s9=>{"use strict";d();Object.defineProperty(s9,"__esModule",{value:!0});s9.tracerCss=s9.tracerSrc=void 0;s9.tracerSrc='"use strict";(()=>{var $,m,se,Ue,w,re,le,q,X,G,K,Ae,D={},ce=[],Re=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,J=Array.isArray;function E(t,e){for(var n in e)t[n]=e[n];return t}function ue(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function l(t,e,n){var o,r,_,c={};for(_ in e)_=="key"?o=e[_]:_=="ref"?r=e[_]:c[_]=e[_];if(arguments.length>2&&(c.children=arguments.length>3?$.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(_ in t.defaultProps)c[_]===void 0&&(c[_]=t.defaultProps[_]);return R(t,c,o,r,null)}function R(t,e,n,o,r){var _={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r??++se,__i:-1,__u:0};return r==null&&m.vnode!=null&&m.vnode(_),_}function N(t){return t.children}function B(t,e){this.props=t,this.context=e}function I(t,e){if(e==null)return t.__?I(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?I(t):null}function de(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return de(t)}}function ie(t){(!t.__d&&(t.__d=!0)&&w.push(t)&&!O.__r++||re!==m.debounceRendering)&&((re=m.debounceRendering)||le)(O)}function O(){var t,e,n,o,r,_,c,a;for(w.sort(q);t=w.shift();)t.__d&&(e=w.length,o=void 0,_=(r=(n=t).__v).__e,c=[],a=[],n.__P&&((o=E({},r)).__v=r.__v+1,m.vnode&&m.vnode(o),Q(n.__P,o,r,n.__n,n.__P.namespaceURI,32&r.__u?[_]:null,c,_??I(r),!!(32&r.__u),a),o.__v=r.__v,o.__.__k[o.__i]=o,me(c,o,a),o.__e!=_&&de(o)),w.length>e&&w.sort(q));O.__r=0}function pe(t,e,n,o,r,_,c,a,u,s,p){var i,f,d,b,x,C=o&&o.__k||ce,h=e.length;for(n.__d=u,Be(n,e,C),u=n.__d,i=0;i<h;i++)(d=n.__k[i])!=null&&(f=d.__i===-1?D:C[d.__i]||D,d.__i=i,Q(t,d,f,r,_,c,a,u,s,p),b=d.__e,d.ref&&f.ref!=d.ref&&(f.ref&&Y(f.ref,null,d),p.push(d.ref,d.__c||b,d)),x==null&&b!=null&&(x=b),65536&d.__u||f.__k===d.__k?u=fe(d,u,t):typeof d.type=="function"&&d.__d!==void 0?u=d.__d:b&&(u=b.nextSibling),d.__d=void 0,d.__u&=-196609);n.__d=u,n.__e=x}function Be(t,e,n){var o,r,_,c,a,u=e.length,s=n.length,p=s,i=0;for(t.__k=[],o=0;o<u;o++)(r=e[o])!=null&&typeof r!="boolean"&&typeof r!="function"?(c=o+i,(r=t.__k[o]=typeof r=="string"||typeof r=="number"||typeof r=="bigint"||r.constructor==String?R(null,r,null,null,null):J(r)?R(N,{children:r},null,null,null):r.constructor===void 0&&r.__b>0?R(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r).__=t,r.__b=t.__b+1,_=null,(a=r.__i=Oe(r,n,c,p))!==-1&&(p--,(_=n[a])&&(_.__u|=131072)),_==null||_.__v===null?(a==-1&&i--,typeof r.type!="function"&&(r.__u|=65536)):a!==c&&(a==c-1?i--:a==c+1?i++:(a>c?i--:i++,r.__u|=65536))):r=t.__k[o]=null;if(p)for(o=0;o<s;o++)(_=n[o])!=null&&!(131072&_.__u)&&(_.__e==t.__d&&(t.__d=I(_)),he(_,_))}function fe(t,e,n){var o,r;if(typeof t.type=="function"){for(o=t.__k,r=0;o&&r<o.length;r++)o[r]&&(o[r].__=t,e=fe(o[r],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=I(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function Oe(t,e,n,o){var r=t.key,_=t.type,c=n-1,a=n+1,u=e[n];if(u===null||u&&r==u.key&&_===u.type&&!(131072&u.__u))return n;if(o>(u!=null&&!(131072&u.__u)?1:0))for(;c>=0||a<e.length;){if(c>=0){if((u=e[c])&&!(131072&u.__u)&&r==u.key&&_===u.type)return c;c--}if(a<e.length){if((u=e[a])&&!(131072&u.__u)&&r==u.key&&_===u.type)return a;a++}}return-1}function _e(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Re.test(e)?n:n+"px"}function A(t,e,n,o,r){var _;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(e in o)n&&e in n||_e(t.style,e,"");if(n)for(e in n)o&&n[e]===o[e]||_e(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")_=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+_]=n,n?o?n.u=o.u:(n.u=X,t.addEventListener(e,_?K:G,_)):t.removeEventListener(e,_?K:G,_);else{if(r=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function ae(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=X++;else if(e.t<n.u)return;return n(m.event?m.event(e):e)}}}function Q(t,e,n,o,r,_,c,a,u,s){var p,i,f,d,b,x,C,h,v,H,M,P,F,oe,z,j,k=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(u=!!(32&n.__u),_=[a=e.__e=n.__e]),(p=m.__b)&&p(e);e:if(typeof k=="function")try{if(h=e.props,v="prototype"in k&&k.prototype.render,H=(p=k.contextType)&&o[p.__c],M=p?H?H.props.value:p.__:o,n.__c?C=(i=e.__c=n.__c).__=i.__E:(v?e.__c=i=new k(h,M):(e.__c=i=new B(h,M),i.constructor=k,i.render=We),H&&H.sub(i),i.props=h,i.state||(i.state={}),i.context=M,i.__n=o,f=i.__d=!0,i.__h=[],i._sb=[]),v&&i.__s==null&&(i.__s=i.state),v&&k.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=E({},i.__s)),E(i.__s,k.getDerivedStateFromProps(h,i.__s))),d=i.props,b=i.state,i.__v=e,f)v&&k.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),v&&i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(v&&k.getDerivedStateFromProps==null&&h!==d&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(h,M),!i.__e&&(i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(h,i.__s,M)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(i.props=h,i.state=i.__s,i.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(U){U&&(U.__=e)}),P=0;P<i._sb.length;P++)i.__h.push(i._sb[P]);i._sb=[],i.__h.length&&c.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(h,i.__s,M),v&&i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(d,b,x)})}if(i.context=M,i.props=h,i.__P=t,i.__e=!1,F=m.__r,oe=0,v){for(i.state=i.__s,i.__d=!1,F&&F(e),p=i.render(i.props,i.state,i.context),z=0;z<i._sb.length;z++)i.__h.push(i._sb[z]);i._sb=[]}else do i.__d=!1,F&&F(e),p=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++oe<25);i.state=i.__s,i.getChildContext!=null&&(o=E(E({},o),i.getChildContext())),v&&!f&&i.getSnapshotBeforeUpdate!=null&&(x=i.getSnapshotBeforeUpdate(d,b)),pe(t,J(j=p!=null&&p.type===N&&p.key==null?p.props.children:p)?j:[j],e,n,o,r,_,c,a,u,s),i.base=e.__e,e.__u&=-161,i.__h.length&&c.push(i),C&&(i.__E=i.__=null)}catch(U){if(e.__v=null,u||_!=null){for(e.__u|=u?160:32;a&&a.nodeType===8&&a.nextSibling;)a=a.nextSibling;_[_.indexOf(a)]=null,e.__e=a}else e.__e=n.__e,e.__k=n.__k;m.__e(U,e,n)}else _==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=$e(n.__e,e,n,o,r,_,c,u,s);(p=m.diffed)&&p(e)}function me(t,e,n){e.__d=void 0;for(var o=0;o<n.length;o++)Y(n[o],n[++o],n[++o]);m.__c&&m.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(_){_.call(r)})}catch(_){m.__e(_,r.__v)}})}function $e(t,e,n,o,r,_,c,a,u){var s,p,i,f,d,b,x,C=n.props,h=e.props,v=e.type;if(v==="svg"?r="http://www.w3.org/2000/svg":v==="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),_!=null){for(s=0;s<_.length;s++)if((d=_[s])&&"setAttribute"in d==!!v&&(v?d.localName===v:d.nodeType===3)){t=d,_[s]=null;break}}if(t==null){if(v===null)return document.createTextNode(h);t=document.createElementNS(r,v,h.is&&h),a&&(m.__m&&m.__m(e,_),a=!1),_=null}if(v===null)C===h||a&&t.data===h||(t.data=h);else{if(_=_&&$.call(t.childNodes),C=n.props||D,!a&&_!=null)for(C={},s=0;s<t.attributes.length;s++)C[(d=t.attributes[s]).name]=d.value;for(s in C)if(d=C[s],s!="children"){if(s=="dangerouslySetInnerHTML")i=d;else if(!(s in h)){if(s=="value"&&"defaultValue"in h||s=="checked"&&"defaultChecked"in h)continue;A(t,s,null,d,r)}}for(s in h)d=h[s],s=="children"?f=d:s=="dangerouslySetInnerHTML"?p=d:s=="value"?b=d:s=="checked"?x=d:a&&typeof d!="function"||C[s]===d||A(t,s,d,C[s],r);if(p)a||i&&(p.__html===i.__html||p.__html===t.innerHTML)||(t.innerHTML=p.__html),e.__k=[];else if(i&&(t.innerHTML=""),pe(t,J(f)?f:[f],e,n,o,v==="foreignObject"?"http://www.w3.org/1999/xhtml":r,_,c,_?_[0]:n.__k&&I(n,0),a,u),_!=null)for(s=_.length;s--;)ue(_[s]);a||(s="value",v==="progress"&&b==null?t.removeAttribute("value"):b!==void 0&&(b!==t[s]||v==="progress"&&!b||v==="option"&&b!==C[s])&&A(t,s,b,C[s],r),s="checked",x!==void 0&&x!==t[s]&&A(t,s,x,C[s],r))}return t}function Y(t,e,n){try{if(typeof t=="function"){var o=typeof t.__u=="function";o&&t.__u(),o&&e==null||(t.__u=t(e))}else t.current=e}catch(r){m.__e(r,n)}}function he(t,e,n){var o,r;if(m.unmount&&m.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||Y(o,null,e)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(_){m.__e(_,e)}o.base=o.__P=null}if(o=t.__k)for(r=0;r<o.length;r++)o[r]&&he(o[r],e,n||typeof t.type!="function");n||ue(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function We(t,e,n){return this.constructor(t,n)}function ve(t,e,n){var o,r,_,c;m.__&&m.__(t,e),r=(o=typeof n=="function")?null:n&&n.__k||e.__k,_=[],c=[],Q(e,t=(!o&&n||e).__k=l(N,null,[t]),r||D,D,e.namespaceURI,!o&&n?[n]:r?null:e.firstChild?$.call(e.childNodes):null,_,!o&&n?n:r?r.__e:e.firstChild,o,c),me(_,t,c)}$=ce.slice,m={__e:function(t,e,n,o){for(var r,_,c;e=e.__;)if((r=e.__c)&&!r.__)try{if((_=r.constructor)&&_.getDerivedStateFromError!=null&&(r.setState(_.getDerivedStateFromError(t)),c=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(t,o||{}),c=r.__d),c)return r.__E=r}catch(a){t=a}throw t}},se=0,Ue=function(t){return t!=null&&t.constructor==null},B.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=E({},this.state),typeof t=="function"&&(t=t(E({},n),this.props)),t&&E(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),ie(this))},B.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ie(this))},B.prototype.render=N,w=[],le=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,q=function(t,e){return t.__v.__b-e.__v.__b},O.__r=0,X=0,G=ae(!1),K=ae(!0),Ae=0;var L,g,Z,ge,V=0,Ee=[],y=m,be=y.__b,ye=y.__r,Ce=y.diffed,xe=y.__c,ke=y.unmount,Te=y.__;function te(t,e){y.__h&&y.__h(g,t,V||e),V=0;var n=g.__H||(g.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function S(t){return V=1,Ve(Ne,t)}function Ve(t,e,n){var o=te(L++,2);if(o.t=t,!o.__c&&(o.__=[n?n(e):Ne(void 0,e),function(a){var u=o.__N?o.__N[0]:o.__[0],s=o.t(u,a);u!==s&&(o.__N=[s,o.__[1]],o.__c.setState({}))}],o.__c=g,!g.u)){var r=function(a,u,s){if(!o.__c.__H)return!0;var p=o.__c.__H.__.filter(function(f){return!!f.__c});if(p.every(function(f){return!f.__N}))return!_||_.call(this,a,u,s);var i=!1;return p.forEach(function(f){if(f.__N){var d=f.__[0];f.__=f.__N,f.__N=void 0,d!==f.__[0]&&(i=!0)}}),!(!i&&o.__c.props===a)&&(!_||_.call(this,a,u,s))};g.u=!0;var _=g.shouldComponentUpdate,c=g.componentWillUpdate;g.componentWillUpdate=function(a,u,s){if(this.__e){var p=_;_=void 0,r(a,u,s),_=p}c&&c.call(this,a,u,s)},g.shouldComponentUpdate=r}return o.__N||o.__}function Se(t,e){var n=te(L++,3);!y.__s&&Ie(n.__H,e)&&(n.__=t,n.i=e,g.__H.__h.push(n))}function we(t){return V=5,je(function(){return{current:t}},[])}function je(t,e){var n=te(L++,7);return Ie(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function qe(){for(var t;t=Ee.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(W),t.__H.__h.forEach(ee),t.__H.__h=[]}catch(e){t.__H.__h=[],y.__e(e,t.__v)}}y.__b=function(t){g=null,be&&be(t)},y.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Te&&Te(t,e)},y.__r=function(t){ye&&ye(t),L=0;var e=(g=t.__c).__H;e&&(Z===g?(e.__h=[],g.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(W),e.__h.forEach(ee),e.__h=[],L=0)),Z=g},y.diffed=function(t){Ce&&Ce(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Ee.push(e)!==1&&ge===y.requestAnimationFrame||((ge=y.requestAnimationFrame)||Ge)(qe)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),Z=g=null},y.__c=function(t,e){e.some(function(n){try{n.__h.forEach(W),n.__h=n.__h.filter(function(o){return!o.__||ee(o)})}catch(o){e.some(function(r){r.__h&&(r.__h=[])}),e=[],y.__e(o,n.__v)}}),xe&&xe(t,e)},y.unmount=function(t){ke&&ke(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{W(o)}catch(r){e=r}}),n.__H=void 0,e&&y.__e(e,n.__v))};var Me=typeof requestAnimationFrame=="function";function Ge(t){var e,n=function(){clearTimeout(o),Me&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(n,100);Me&&(e=requestAnimationFrame(n))}function W(t){var e=g,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),g=e}function ee(t){var e=g;t.__c=t.__(),g=e}function Ie(t,e){return!t||t.length!==e.length||e.some(function(n,o){return n!==t[o]})}function Ne(t,e){return typeof e=="function"?e(t):e}function He(t,e){let n=we(void 0),o=(...r)=>{n.current&&clearTimeout(n.current),n.current=window.setTimeout(()=>{t(...r)},e)};return Se(()=>()=>{n.current&&clearTimeout(n.current)},[]),o}var Ke=new Intl.NumberFormat("en-US"),T=({value:t})=>l(N,null,Ke.format(t));var ne=[{bg:"#c1e7ff",fg:"#000"},{bg:"#abd2ec",fg:"#000"},{bg:"#94bed9",fg:"#000"},{bg:"#7faac6",fg:"#000"},{bg:"#6996b3",fg:"#fff"},{bg:"#5383a1",fg:"#fff"},{bg:"#3d708f",fg:"#fff"},{bg:"#255e7e",fg:"#fff"}],Xe=({scoreBy:t,nodes:e,epoch:n})=>{if(e.length===0)return null;let o=t;if(t.field!=="tokens"){let r=e[0][t.field],_=e[0][t.field];for(let c=1;c<e.length;c++)r=Math.max(r,e[c][t.field]),_=Math.max(_,e[c][t.field]);o={field:t.field,max:r,min:_}}return l("div",{className:"node-children"},e.map((r,_)=>r.type===2?l(Je,{scoreBy:o,key:_,node:r}):l(Le,{scoreBy:o,key:_,node:r,epoch:n})))},Fe=({node:t})=>l("div",{className:"node-stats"},"Used Tokens: ",l(T,{value:t.tokens})," / ","Priority:"," ",t.priority===Number.MAX_SAFE_INTEGER?"MAX":l(T,{value:t.priority})),De=({scoreBy:t,node:e,children:n,...o})=>{let r=0;if(t.max!==t.min){let _=(e[t.field]-t.min)/(t.max-t.min);r=Math.round((ne.length-1)*_)}return l("div",{...o,className:`node ${o.className||""}`,style:{backgroundColor:ne[r].bg,color:ne[r].fg}},n)},Je=({scoreBy:t,node:e})=>l(De,{node:e,scoreBy:t,tabIndex:0,className:"node-text"},l(Fe,{node:e}),l("div",{className:"node-content"},e.value)),Le=({scoreBy:t,node:e,epoch:n})=>{let[o,r]=S(!1),_=EPOCHS.findIndex(i=>i.elements.some(f=>f.id===e.id));if(_===void 0)throw new Error(`epoch not found for ${e.id}`);let c=EPOCHS[_],a=EPOCHS.at(n),u=c.elements.find(i=>i.id===e.id).tokenBudget,s=e.type===1?e.name||e.role.slice(0,1).toUpperCase()+e.role.slice(1)+"Message":e.name,p=_===n?"new-in-epoch":n<_?"before-epoch":"";return l(De,{node:e,scoreBy:t,className:p},l(Fe,{node:e}),l("div",{className:"node-content node-toggler",onClick:()=>r(i=>!i)},l("span",null,a?.inNode===e.id?"\\u{1F3C3} ":"",`<${s}>`),l("span",{className:"indicator"},o?"[+]":"[-]")),n===_&&l("div",{className:"node-stats"},"Token Budget: ",l(T,{value:u})),a?.inNode===e.id&&l("div",{className:"node-stats"},"Rendering flexGrow=",a.flexValue,l("br",null),l("br",null),"Splitting"," ",a.reservedTokens?`${a.tokenBudget} - ${a.reservedTokens} (reserved) = `:"",l(T,{value:a.tokenBudget})," tokens among ",a.elements.length," ","elements"),!o&&l(Xe,{nodes:e.children,scoreBy:t,epoch:n}))},Pe=({scoreBy:t,node:e,epoch:n})=>{let o;return t==="tokens"?o={field:"tokens",max:e.tokens,min:0}:o={field:"priority",max:e.priority,min:e.priority},l(Le,{scoreBy:o,node:e,epoch:n})};var ze=({label:t,value:e,onChange:n,min:o,max:r})=>{let _=a=>{n(a.target.valueAsNumber)},c=`number-slider-${Math.random()}`;return l("div",{className:"controls-slider"},l("label",{htmlFor:c},t),l("input",{id:c,type:"range",min:o,max:r,value:e,onInput:_}),l("input",{type:"number",min:o,value:e,onInput:_,onChange:_}))},Qe=({scoreBy:t,onScoreByChange:e})=>{let n=o=>{let r=o.target.value;e(r)};return l("div",{className:"controls-scoreby"},"Visualize by",l("label",null,l("input",{type:"radio",name:"scoreBy",value:"tokens",checked:t==="tokens",onChange:n}),"Tokens"),l("label",null,l("input",{type:"radio",name:"scoreBy",value:"priority",checked:t==="priority",onChange:n}),"Priority"))},Ye=()=>{let[t,e]=S(DEFAULT_TOKENS),[n,o]=S(EPOCHS.length),[r,_]=S(DEFAULT_MODEL),[c,a]=S("tokens"),[u,s]=S("epoch"),p=He(async f=>{if(f===DEFAULT_TOKENS)return DEFAULT_MODEL;let b=await(await fetch(`${SERVER_ADDRESS}regen?n=${f}`)).json();_(b)},100),i=f=>{e(f),p(f),o(EPOCHS.length)};return l("div",{className:"app"},l("div",{className:"controls"},l("div",{className:"tabs"},l("div",{className:`tab ${u==="epoch"?"active":""}`,onClick:()=>s("epoch")},"View Order"),l("div",{className:`tab ${u==="tokens"?"active":""}`,onClick:()=>s("tokens")},"Change Token Budget")),l("div",{className:`tab-content ${u==="epoch"?"active":""}`},l(ze,{label:"Render Epoch",value:n,onChange:o,min:0,max:EPOCHS.length})),l("div",{className:`tab-content ${u==="tokens"?"active":""}`},l(ze,{label:"Token Budget",value:t,onChange:i,min:0,max:DEFAULT_TOKENS*2}))),l("div",{className:"control-description"},u==="tokens"?l("p",null,"Token changes here will prune elements and re-render Expandable ones, but the entire prompt is not being re-rendered"):l("p",null,"Changing the render epoch lets you see the order in which elements are rendered and how the token budget is allocated."),l("div",{className:"controls-stats"},l("span",null,"Used ",l(T,{value:r.container.tokens}),"/",l(T,{value:r.budget})," tokens"),l("span",null,"Removed ",l(T,{value:r.removed})," nodes"),l(Qe,{scoreBy:c,onScoreByChange:a}))),l(Pe,{node:r.container,scoreBy:c,epoch:n}))};ve(l(Ye,null),document.body);})();\n';s9.tracerCss=`body{font-family:-apple-system,BlinkMacSystemFont,Segoe WPC,Segoe UI,system-ui,Ubuntu,Droid Sans,sans-serif;background:#fff;margin:0}.render-pass{border-left:2px solid #ccc;&:hover{border-left-color:#000}}.literals li{white-space:pre;font-family:SF Mono,Monaco,Menlo,Consolas,Ubuntu Mono,Liberation Mono,DejaVu Sans Mono,Courier New,monospace}.render-flex,.render-element{padding-left:10px}.node{border:1px solid rgba(255,255,255,.5);margin:3px 10px;padding:3px 10px;border-radius:4px;width:fit-content;&.new-in-epoch{box-shadow:0 0 3px 2px red}&.before-epoch{pointer-events:none;filter:grayscale(1);color:#777!important;.node{color:#777!important}}&:last-child{margin-bottom:0}}.node-content{font-weight:700}.node-children{margin-left:20px;border-left:2px dashed rgba(255,255,255,.5);padding-left:10px}.node-toggler{cursor:pointer;display:flex;align-items:center;justify-content:space-between;.indicator{font-size:.7em}}.node-text{width:400px;&:focus,&:focus-within{outline:1px solid orange;.node-content{white-space:normal}}.node-content{font-weight:400;font-size:.8em;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}}.node-stats{font-family:SF Mono,Monaco,Menlo,Consolas,Ubuntu Mono,Liberation Mono,DejaVu Sans Mono,Courier New,monospace;font-size:.8em}.control-description{padding:10px;p{font-size:.9em;max-width:500px;margin-top:0}}.controls{display:flex;flex-direction:column;gap:10px;position:sticky;top:0;padding:10px;background:#fff;border-bottom:1px solid #ccc;z-index:1}.controls-slider{display:flex;align-items:center;gap:10px}.controls-stats{display:flex;gap:20px;list-style:none;padding:0;margin-top:0}.controls-scoreby{display:flex;gap:10px}.tabs{display:flex;border-bottom:1px solid #ccc;margin-bottom:10px}.tab{padding:10px;cursor:pointer;border:1px solid transparent;border-bottom:none}.tab.active{border-color:#ccc;border-bottom:1px solid #fff;background-color:#f9f9f9}.tab-content{display:none}.tab-content.active{display:block}
`});var MNe=j(IG=>{"use strict";d();Object.defineProperty(IG,"__esModule",{value:!0});IG.HTMLTracer=void 0;var FNe=PNe(),Bk=nle(),Lle=class{static{o(this,"HTMLTracer")}traceData;epochs=[];addRenderEpoch(t){this.epochs.push(t)}includeInEpoch(t){this.epochs[this.epochs.length-1].elements.push(t)}didMaterializeTree(t){this.traceData=t}async serveHTML(){return Qle.create({epochs:this.epochs,traceData:LNe(this.traceData)})}serveRouter(t){return new EG({baseAddress:t,epochs:this.epochs,traceData:LNe(this.traceData)})}};IG.HTMLTracer=Lle;var EG=class{static{o(this,"RequestRouter")}opts;serverToken=crypto.randomUUID();constructor(t){this.opts=t}route(t,r){let n=t,i=r,s=new URL(n.url||"/","http://localhost"),a=`/${this.serverToken}`;switch(s.pathname){case a:case`${a}/`:this.onRoot(s,n,i);break;case`${a}/regen`:this.onRegen(s,n,i);break;default:return!1}return!0}get address(){return this.opts.baseAddress+"/"+this.serverToken}async getHTML(){let{traceData:t,epochs:r}=this.opts;return`<body>
			<style>${FNe.tracerCss}</style>
			<script>
				const DEFAULT_TOKENS = ${JSON.stringify(t.budget)};
				const EPOCHS = ${JSON.stringify(r)};
				const DEFAULT_MODEL = ${JSON.stringify(await NNe(t.tokenizer,t.renderedTree))};
				const SERVER_ADDRESS = ${JSON.stringify(this.opts.baseAddress+"/"+this.serverToken+"/")};
				${FNe.tracerSrc}
			</script>
		</body>`}async onRegen(t,r,n){let{traceData:i}=this.opts,s=Number(t.searchParams.get("n")||i.budget),a=await i.renderTree(s),l=await NNe(i.tokenizer,a),c=JSON.stringify(l);n.setHeader("Content-Type","application/json"),n.setHeader("Content-Length",Buffer.byteLength(c)),n.end(c)}onRoot(t,r,n){this.getHTML().then(i=>{n.setHeader("Content-Type","text/html"),n.setHeader("Content-Length",Buffer.byteLength(i)),n.end(i)})}},Qle=class e extends EG{static{o(this,"RequestServer")}server;static async create(t){let{createServer:r}=await Promise.resolve().then(()=>require("http")),n=r((a,l)=>{try{s.route(a,l)||(l.statusCode=404,l.end("Not Found"))}catch(c){l.statusCode=500,l.end(String(c))}}),i=await new Promise((a,l)=>{n.listen(0,"127.0.0.1",()=>a(n.address().port)).on("error",l)}),s=new e({...t,baseAddress:`http://127.0.0.1:${i}`},n);return s}constructor(t,r){super(t),this.server=r}dispose(){this.server.closeAllConnections(),this.server.close()}};async function NNe(e,t){return{container:await QNe(e,t.container,!1),removed:t.removed,budget:t.budget}}o(NNe,"serializeRenderData");async function QNe(e,t,r){let n={metadata:t.metadata.map(pTt),priority:t.priority};if(t instanceof Bk.MaterializedChatMessageTextChunk)return{...n,type:2,value:t.text,tokens:await t.upperBoundTokenCount(e)};if(t instanceof Bk.MaterializedChatMessageImage)return{...n,name:t.id.toString(),id:t.id,type:3,value:t.src,tokens:await t.upperBoundTokenCount(e)};{let i={...n,id:t.id,name:t.name,children:await Promise.all(t.children.map(s=>QNe(e,s,r||t instanceof Bk.MaterializedChatMessage))),tokens:r?await t.upperBoundTokenCount(e):await t.tokenCount(e)};if(t instanceof Bk.MaterializedContainer)return{...i,type:0};if(t instanceof Bk.MaterializedChatMessage){let s=t.text.filter(a=>typeof a=="string").join("").trim();return{...i,type:1,role:t.role,text:s}}}hTt(t)}o(QNe,"serializeMaterialized");function hTt(e){throw new Error("unreachable")}o(hTt,"assertNever");function pTt(e){return{name:e.constructor.name,value:JSON.stringify(e)}}o(pTt,"serializeMetadata");var LNe=o(e=>{if(e===void 0)throw new Error("Prompt must be rendered before calling HTMLTRacer.serveHTML");return e},"mustGet")});var UNe=j(Mle=>{"use strict";d();Object.defineProperty(Mle,"__esModule",{value:!0});Mle.forEachNode=ONe;function ONe(e,t){if(t(e),e.type===1)for(let r of e.children)ONe(r,t)}o(ONe,"forEachNode")});var WNe=j(qNe=>{"use strict";d();Object.defineProperty(qNe,"__esModule",{value:!0})});var HNe=j(GNe=>{"use strict";d();Object.defineProperty(GNe,"__esModule",{value:!0})});var VNe=j(jNe=>{"use strict";d();Object.defineProperty(jNe,"__esModule",{value:!0})});var Pk=j(Fn=>{"use strict";d();var gTt=Fn&&Fn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Dk=Fn&&Fn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&gTt(t,e,r)};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.contentType=Fn.PromptRenderer=Fn.MetadataMap=Fn.PromptElement=Fn.useKeepWith=Fn.ToolResult=Fn.UserMessage=Fn.ToolMessage=Fn.TextChunk=Fn.SystemMessage=Fn.PrioritizedList=Fn.LegacyPrioritization=Fn.FunctionMessage=Fn.Chunk=Fn.AssistantMessage=Fn.ChatRole=Fn.JSONTree=void 0;Fn.renderPrompt=xTt;Fn.renderElementJSON=vTt;Fn.toVsCodeChatMessages=YNe;var TG=e9(),$Ne=Fle(),ATt=DNe();Dk(MNe(),Fn);Fn.JSONTree=UNe();var yTt=e9();Object.defineProperty(Fn,"ChatRole",{enumerable:!0,get:o(function(){return yTt.ChatRole},"get")});Dk(wle(),Fn);Dk(WNe(),Fn);Dk(HNe(),Fn);Dk(VNe(),Fn);var kh=gle();Object.defineProperty(Fn,"AssistantMessage",{enumerable:!0,get:o(function(){return kh.AssistantMessage},"get")});Object.defineProperty(Fn,"Chunk",{enumerable:!0,get:o(function(){return kh.Chunk},"get")});Object.defineProperty(Fn,"FunctionMessage",{enumerable:!0,get:o(function(){return kh.FunctionMessage},"get")});Object.defineProperty(Fn,"LegacyPrioritization",{enumerable:!0,get:o(function(){return kh.LegacyPrioritization},"get")});Object.defineProperty(Fn,"PrioritizedList",{enumerable:!0,get:o(function(){return kh.PrioritizedList},"get")});Object.defineProperty(Fn,"SystemMessage",{enumerable:!0,get:o(function(){return kh.SystemMessage},"get")});Object.defineProperty(Fn,"TextChunk",{enumerable:!0,get:o(function(){return kh.TextChunk},"get")});Object.defineProperty(Fn,"ToolMessage",{enumerable:!0,get:o(function(){return kh.ToolMessage},"get")});Object.defineProperty(Fn,"UserMessage",{enumerable:!0,get:o(function(){return kh.UserMessage},"get")});Object.defineProperty(Fn,"ToolResult",{enumerable:!0,get:o(function(){return kh.ToolResult},"get")});Object.defineProperty(Fn,"useKeepWith",{enumerable:!0,get:o(function(){return kh.useKeepWith},"get")});var CTt=ole();Object.defineProperty(Fn,"PromptElement",{enumerable:!0,get:o(function(){return CTt.PromptElement},"get")});var zNe=Fle();Object.defineProperty(Fn,"MetadataMap",{enumerable:!0,get:o(function(){return zNe.MetadataMap},"get")});Object.defineProperty(Fn,"PromptRenderer",{enumerable:!0,get:o(function(){return zNe.PromptRenderer},"get")});async function xTt(e,t,r,n,i,s,a="vscode"){let l="countTokens"in n?new ATt.AnyTokenizer((x,v)=>n.countTokens(x,v),a):n,c=new $Ne.PromptRenderer(r,e,t,l),u=await c.render(i,s),{tokenCount:f,references:m,metadata:h}=u,p=u.messages,g=c.getUsedContext();return a==="vscode"&&(p=YNe(p)),{messages:p,tokenCount:f,metadatas:h,metadata:h,usedContext:g,references:m}}o(xTt,"renderPrompt");Fn.contentType="application/vnd.codechat.prompt+json.1";function vTt(e,t,r,n){return new $Ne.PromptRenderer({modelMaxPromptTokens:r?.tokenBudget??Number.MAX_SAFE_INTEGER},e,t,{countMessageTokens(s){throw new Error("Tools may only return text, not messages.")},tokenLength(s,a){return Promise.resolve(r?.countTokens(s,a)??Promise.resolve(1))}}).renderElementJSON(n)}o(vTt,"renderElementJSON");function YNe(e){let t=require("vscode");return e.map(r=>{switch(r.role){case TG.ChatRole.Assistant:let n=t.LanguageModelChatMessage.Assistant(r.content,r.name);return r.tool_calls&&(n.content=[new t.LanguageModelTextPart(r.content),...r.tool_calls.map(i=>{let s;try{s=JSON.parse(i.function.arguments)}catch{throw new Error("Invalid JSON in tool call arguments for tool call: "+i.id)}return new t.LanguageModelToolCallPart(i.id,i.function.name,s)})]),n;case TG.ChatRole.User:return t.LanguageModelChatMessage.User(r.content,r.name);case TG.ChatRole.Function:{let i=t.LanguageModelChatMessage.User("");return i.content=[new t.LanguageModelToolResultPart(r.name,[new t.LanguageModelTextPart(r.content)])],i}case TG.ChatRole.Tool:{let i=t.LanguageModelChatMessage.User("");return i.content=[new t.LanguageModelToolResultPart(r.tool_call_id,[new t.LanguageModelTextPart(r.content)])],i}default:throw new Error(`Converting chat message with role ${r.role} to VS Code chat message is not supported.`)}})}o(YNe,"toVsCodeChatMessages")});var Vk=j((tmn,PLe)=>{d();var swt="2.0.0",awt=Number.MAX_SAFE_INTEGER||9007199254740991,lwt=16,cwt=250,uwt=["major","premajor","minor","preminor","patch","prepatch","prerelease"];PLe.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:lwt,MAX_SAFE_BUILD_LENGTH:cwt,MAX_SAFE_INTEGER:awt,RELEASE_TYPES:uwt,SEMVER_SPEC_VERSION:swt,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var $k=j((nmn,FLe)=>{d();var fwt=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};FLe.exports=fwt});var g9=j((Fg,NLe)=>{d();var{MAX_SAFE_COMPONENT_LENGTH:Cce,MAX_SAFE_BUILD_LENGTH:dwt,MAX_LENGTH:mwt}=Vk(),hwt=$k();Fg=NLe.exports={};var pwt=Fg.re=[],gwt=Fg.safeRe=[],Br=Fg.src=[],Awt=Fg.safeSrc=[],Dr=Fg.t={},ywt=0,xce="[a-zA-Z0-9-]",Cwt=[["\\s",1],["\\d",mwt],[xce,dwt]],xwt=o(e=>{for(let[t,r]of Cwt)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},"makeSafeRegex"),Kn=o((e,t,r)=>{let n=xwt(t),i=ywt++;hwt(e,i,t),Dr[e]=i,Br[i]=t,Awt[i]=n,pwt[i]=new RegExp(t,r?"g":void 0),gwt[i]=new RegExp(n,r?"g":void 0)},"createToken");Kn("NUMERICIDENTIFIER","0|[1-9]\\d*");Kn("NUMERICIDENTIFIERLOOSE","\\d+");Kn("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${xce}*`);Kn("MAINVERSION",`(${Br[Dr.NUMERICIDENTIFIER]})\\.(${Br[Dr.NUMERICIDENTIFIER]})\\.(${Br[Dr.NUMERICIDENTIFIER]})`);Kn("MAINVERSIONLOOSE",`(${Br[Dr.NUMERICIDENTIFIERLOOSE]})\\.(${Br[Dr.NUMERICIDENTIFIERLOOSE]})\\.(${Br[Dr.NUMERICIDENTIFIERLOOSE]})`);Kn("PRERELEASEIDENTIFIER",`(?:${Br[Dr.NUMERICIDENTIFIER]}|${Br[Dr.NONNUMERICIDENTIFIER]})`);Kn("PRERELEASEIDENTIFIERLOOSE",`(?:${Br[Dr.NUMERICIDENTIFIERLOOSE]}|${Br[Dr.NONNUMERICIDENTIFIER]})`);Kn("PRERELEASE",`(?:-(${Br[Dr.PRERELEASEIDENTIFIER]}(?:\\.${Br[Dr.PRERELEASEIDENTIFIER]})*))`);Kn("PRERELEASELOOSE",`(?:-?(${Br[Dr.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Br[Dr.PRERELEASEIDENTIFIERLOOSE]})*))`);Kn("BUILDIDENTIFIER",`${xce}+`);Kn("BUILD",`(?:\\+(${Br[Dr.BUILDIDENTIFIER]}(?:\\.${Br[Dr.BUILDIDENTIFIER]})*))`);Kn("FULLPLAIN",`v?${Br[Dr.MAINVERSION]}${Br[Dr.PRERELEASE]}?${Br[Dr.BUILD]}?`);Kn("FULL",`^${Br[Dr.FULLPLAIN]}$`);Kn("LOOSEPLAIN",`[v=\\s]*${Br[Dr.MAINVERSIONLOOSE]}${Br[Dr.PRERELEASELOOSE]}?${Br[Dr.BUILD]}?`);Kn("LOOSE",`^${Br[Dr.LOOSEPLAIN]}$`);Kn("GTLT","((?:<|>)?=?)");Kn("XRANGEIDENTIFIERLOOSE",`${Br[Dr.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Kn("XRANGEIDENTIFIER",`${Br[Dr.NUMERICIDENTIFIER]}|x|X|\\*`);Kn("XRANGEPLAIN",`[v=\\s]*(${Br[Dr.XRANGEIDENTIFIER]})(?:\\.(${Br[Dr.XRANGEIDENTIFIER]})(?:\\.(${Br[Dr.XRANGEIDENTIFIER]})(?:${Br[Dr.PRERELEASE]})?${Br[Dr.BUILD]}?)?)?`);Kn("XRANGEPLAINLOOSE",`[v=\\s]*(${Br[Dr.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Br[Dr.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Br[Dr.XRANGEIDENTIFIERLOOSE]})(?:${Br[Dr.PRERELEASELOOSE]})?${Br[Dr.BUILD]}?)?)?`);Kn("XRANGE",`^${Br[Dr.GTLT]}\\s*${Br[Dr.XRANGEPLAIN]}$`);Kn("XRANGELOOSE",`^${Br[Dr.GTLT]}\\s*${Br[Dr.XRANGEPLAINLOOSE]}$`);Kn("COERCEPLAIN",`(^|[^\\d])(\\d{1,${Cce}})(?:\\.(\\d{1,${Cce}}))?(?:\\.(\\d{1,${Cce}}))?`);Kn("COERCE",`${Br[Dr.COERCEPLAIN]}(?:$|[^\\d])`);Kn("COERCEFULL",Br[Dr.COERCEPLAIN]+`(?:${Br[Dr.PRERELEASE]})?(?:${Br[Dr.BUILD]})?(?:$|[^\\d])`);Kn("COERCERTL",Br[Dr.COERCE],!0);Kn("COERCERTLFULL",Br[Dr.COERCEFULL],!0);Kn("LONETILDE","(?:~>?)");Kn("TILDETRIM",`(\\s*)${Br[Dr.LONETILDE]}\\s+`,!0);Fg.tildeTrimReplace="$1~";Kn("TILDE",`^${Br[Dr.LONETILDE]}${Br[Dr.XRANGEPLAIN]}$`);Kn("TILDELOOSE",`^${Br[Dr.LONETILDE]}${Br[Dr.XRANGEPLAINLOOSE]}$`);Kn("LONECARET","(?:\\^)");Kn("CARETTRIM",`(\\s*)${Br[Dr.LONECARET]}\\s+`,!0);Fg.caretTrimReplace="$1^";Kn("CARET",`^${Br[Dr.LONECARET]}${Br[Dr.XRANGEPLAIN]}$`);Kn("CARETLOOSE",`^${Br[Dr.LONECARET]}${Br[Dr.XRANGEPLAINLOOSE]}$`);Kn("COMPARATORLOOSE",`^${Br[Dr.GTLT]}\\s*(${Br[Dr.LOOSEPLAIN]})$|^$`);Kn("COMPARATOR",`^${Br[Dr.GTLT]}\\s*(${Br[Dr.FULLPLAIN]})$|^$`);Kn("COMPARATORTRIM",`(\\s*)${Br[Dr.GTLT]}\\s*(${Br[Dr.LOOSEPLAIN]}|${Br[Dr.XRANGEPLAIN]})`,!0);Fg.comparatorTrimReplace="$1$2$3";Kn("HYPHENRANGE",`^\\s*(${Br[Dr.XRANGEPLAIN]})\\s+-\\s+(${Br[Dr.XRANGEPLAIN]})\\s*$`);Kn("HYPHENRANGELOOSE",`^\\s*(${Br[Dr.XRANGEPLAINLOOSE]})\\s+-\\s+(${Br[Dr.XRANGEPLAINLOOSE]})\\s*$`);Kn("STAR","(<|>)?=?\\s*\\*");Kn("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Kn("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var nH=j((amn,LLe)=>{d();var vwt=Object.freeze({loose:!0}),bwt=Object.freeze({}),Ewt=o(e=>e?typeof e!="object"?vwt:e:bwt,"parseOptions");LLe.exports=Ewt});var vce=j((umn,OLe)=>{d();var QLe=/^[0-9]+$/,MLe=o((e,t)=>{let r=QLe.test(e),n=QLe.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},"compareIdentifiers"),Iwt=o((e,t)=>MLe(t,e),"rcompareIdentifiers");OLe.exports={compareIdentifiers:MLe,rcompareIdentifiers:Iwt}});var Hc=j((mmn,GLe)=>{d();var iH=$k(),{MAX_LENGTH:ULe,MAX_SAFE_INTEGER:oH}=Vk(),{safeRe:qLe,safeSrc:WLe,t:sH}=g9(),Twt=nH(),{compareIdentifiers:A9}=vce(),bce=class e{static{o(this,"SemVer")}constructor(t,r){if(r=Twt(r),t instanceof e){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>ULe)throw new TypeError(`version is longer than ${ULe} characters`);iH("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=t.trim().match(r.loose?qLe[sH.LOOSE]:qLe[sH.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>oH||this.major<0)throw new TypeError("Invalid major version");if(this.minor>oH||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>oH||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<oH)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(iH("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if(typeof t=="string"&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof e||(t=new e(t,this.options)),A9(this.major,t.major)||A9(this.minor,t.minor)||A9(this.patch,t.patch)}comparePre(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=t.prerelease[r];if(iH("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return A9(n,i)}while(++r)}compareBuild(t){t instanceof e||(t=new e(t,this.options));let r=0;do{let n=this.build[r],i=t.build[r];if(iH("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return A9(n,i)}while(++r)}inc(t,r,n){if(t.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let i=new RegExp(`^${this.options.loose?WLe[sH.PRERELEASELOOSE]:WLe[sH.PRERELEASE]}$`),s=`-${r}`.match(i);if(!s||s[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),A9(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};GLe.exports=bce});var Iv=j((gmn,jLe)=>{d();var HLe=Hc(),wwt=o((e,t,r=!1)=>{if(e instanceof HLe)return e;try{return new HLe(e,t)}catch(n){if(!r)return null;throw n}},"parse");jLe.exports=wwt});var $Le=j((Cmn,VLe)=>{d();var _wt=Iv(),Swt=o((e,t)=>{let r=_wt(e,t);return r?r.version:null},"valid");VLe.exports=Swt});var YLe=j((bmn,zLe)=>{d();var kwt=Iv(),Rwt=o((e,t)=>{let r=kwt(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},"clean");zLe.exports=Rwt});var ZLe=j((Tmn,JLe)=>{d();var KLe=Hc(),Bwt=o((e,t,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new KLe(e instanceof KLe?e.version:e,r).inc(t,n,i).version}catch{return null}},"inc");JLe.exports=Bwt});var tQe=j((Smn,eQe)=>{d();var XLe=Iv(),Dwt=o((e,t)=>{let r=XLe(e,null,!0),n=XLe(t,null,!0),i=r.compare(n);if(i===0)return null;let s=i>0,a=s?r:n,l=s?n:r,c=!!a.prerelease.length;if(!!l.prerelease.length&&!c){if(!l.patch&&!l.minor)return"major";if(l.compareMain(a)===0)return l.minor&&!l.patch?"minor":"patch"}let f=c?"pre":"";return r.major!==n.major?f+"major":r.minor!==n.minor?f+"minor":r.patch!==n.patch?f+"patch":"prerelease"},"diff");eQe.exports=Dwt});var nQe=j((Bmn,rQe)=>{d();var Pwt=Hc(),Fwt=o((e,t)=>new Pwt(e,t).major,"major");rQe.exports=Fwt});var oQe=j((Fmn,iQe)=>{d();var Nwt=Hc(),Lwt=o((e,t)=>new Nwt(e,t).minor,"minor");iQe.exports=Lwt});var aQe=j((Qmn,sQe)=>{d();var Qwt=Hc(),Mwt=o((e,t)=>new Qwt(e,t).patch,"patch");sQe.exports=Mwt});var cQe=j((Umn,lQe)=>{d();var Owt=Iv(),Uwt=o((e,t)=>{let r=Owt(e,t);return r&&r.prerelease.length?r.prerelease:null},"prerelease");lQe.exports=Uwt});var Jd=j((Gmn,fQe)=>{d();var uQe=Hc(),qwt=o((e,t,r)=>new uQe(e,r).compare(new uQe(t,r)),"compare");fQe.exports=qwt});var mQe=j((Vmn,dQe)=>{d();var Wwt=Jd(),Gwt=o((e,t,r)=>Wwt(t,e,r),"rcompare");dQe.exports=Gwt});var pQe=j((Ymn,hQe)=>{d();var Hwt=Jd(),jwt=o((e,t)=>Hwt(e,t,!0),"compareLoose");hQe.exports=jwt});var aH=j((Zmn,AQe)=>{d();var gQe=Hc(),Vwt=o((e,t,r)=>{let n=new gQe(e,r),i=new gQe(t,r);return n.compare(i)||n.compareBuild(i)},"compareBuild");AQe.exports=Vwt});var CQe=j((thn,yQe)=>{d();var $wt=aH(),zwt=o((e,t)=>e.sort((r,n)=>$wt(r,n,t)),"sort");yQe.exports=zwt});var vQe=j((ihn,xQe)=>{d();var Ywt=aH(),Kwt=o((e,t)=>e.sort((r,n)=>Ywt(n,r,t)),"rsort");xQe.exports=Kwt});var zk=j((ahn,bQe)=>{d();var Jwt=Jd(),Zwt=o((e,t,r)=>Jwt(e,t,r)>0,"gt");bQe.exports=Zwt});var lH=j((uhn,EQe)=>{d();var Xwt=Jd(),e_t=o((e,t,r)=>Xwt(e,t,r)<0,"lt");EQe.exports=e_t});var Ece=j((mhn,IQe)=>{d();var t_t=Jd(),r_t=o((e,t,r)=>t_t(e,t,r)===0,"eq");IQe.exports=r_t});var Ice=j((ghn,TQe)=>{d();var n_t=Jd(),i_t=o((e,t,r)=>n_t(e,t,r)!==0,"neq");TQe.exports=i_t});var cH=j((Chn,wQe)=>{d();var o_t=Jd(),s_t=o((e,t,r)=>o_t(e,t,r)>=0,"gte");wQe.exports=s_t});var uH=j((bhn,_Qe)=>{d();var a_t=Jd(),l_t=o((e,t,r)=>a_t(e,t,r)<=0,"lte");_Qe.exports=l_t});var Tce=j((Thn,SQe)=>{d();var c_t=Ece(),u_t=Ice(),f_t=zk(),d_t=cH(),m_t=lH(),h_t=uH(),p_t=o((e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return c_t(e,r,n);case"!=":return u_t(e,r,n);case">":return f_t(e,r,n);case">=":return d_t(e,r,n);case"<":return m_t(e,r,n);case"<=":return h_t(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}},"cmp");SQe.exports=p_t});var RQe=j((Shn,kQe)=>{d();var g_t=Hc(),A_t=Iv(),{safeRe:fH,t:dH}=g9(),y_t=o((e,t)=>{if(e instanceof g_t)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?fH[dH.COERCEFULL]:fH[dH.COERCE]);else{let c=t.includePrerelease?fH[dH.COERCERTLFULL]:fH[dH.COERCERTL],u;for(;(u=c.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||u.index+u[0].length!==r.index+r[0].length)&&(r=u),c.lastIndex=u.index+u[1].length+u[2].length;c.lastIndex=-1}if(r===null)return null;let n=r[2],i=r[3]||"0",s=r[4]||"0",a=t.includePrerelease&&r[5]?`-${r[5]}`:"",l=t.includePrerelease&&r[6]?`+${r[6]}`:"";return A_t(`${n}.${i}.${s}${a}${l}`,t)},"coerce");kQe.exports=y_t});var DQe=j((Bhn,BQe)=>{d();var wce=class{static{o(this,"LRUCache")}constructor(){this.max=1e3,this.map=new Map}get(t){let r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(t,r)}return this}};BQe.exports=wce});var Zd=j((Fhn,LQe)=>{d();var C_t=/\s+/g,_ce=class e{static{o(this,"Range")}constructor(t,r){if(r=v_t(r),t instanceof e)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new e(t.raw,r);if(t instanceof Sce)return this.raw=t.value,this.set=[[t]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t.trim().replace(C_t," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!FQe(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&S_t(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let t=0;t<this.set.length;t++){t>0&&(this.formatted+="||");let r=this.set[t];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(t){let n=((this.options.includePrerelease&&w_t)|(this.options.loose&&__t))+":"+t,i=PQe.get(n);if(i)return i;let s=this.options.loose,a=s?xu[b0.HYPHENRANGELOOSE]:xu[b0.HYPHENRANGE];t=t.replace(a,M_t(this.options.includePrerelease)),vs("hyphen replace",t),t=t.replace(xu[b0.COMPARATORTRIM],E_t),vs("comparator trim",t),t=t.replace(xu[b0.TILDETRIM],I_t),vs("tilde trim",t),t=t.replace(xu[b0.CARETTRIM],T_t),vs("caret trim",t);let l=t.split(" ").map(m=>k_t(m,this.options)).join(" ").split(/\s+/).map(m=>Q_t(m,this.options));s&&(l=l.filter(m=>(vs("loose invalid filter",m,this.options),!!m.match(xu[b0.COMPARATORLOOSE])))),vs("range list",l);let c=new Map,u=l.map(m=>new Sce(m,this.options));for(let m of u){if(FQe(m))return[m];c.set(m.value,m)}c.size>1&&c.has("")&&c.delete("");let f=[...c.values()];return PQe.set(n,f),f}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some(n=>NQe(n,r)&&t.set.some(i=>NQe(i,r)&&n.every(s=>i.every(a=>s.intersects(a,r)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new b_t(t,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(O_t(this.set[r],t,this.options))return!0;return!1}};LQe.exports=_ce;var x_t=DQe(),PQe=new x_t,v_t=nH(),Sce=Yk(),vs=$k(),b_t=Hc(),{safeRe:xu,t:b0,comparatorTrimReplace:E_t,tildeTrimReplace:I_t,caretTrimReplace:T_t}=g9(),{FLAG_INCLUDE_PRERELEASE:w_t,FLAG_LOOSE:__t}=Vk(),FQe=o(e=>e.value==="<0.0.0-0","isNullSet"),S_t=o(e=>e.value==="","isAny"),NQe=o((e,t)=>{let r=!0,n=e.slice(),i=n.pop();for(;r&&n.length;)r=n.every(s=>i.intersects(s,t)),i=n.pop();return r},"isSatisfiable"),k_t=o((e,t)=>(vs("comp",e,t),e=D_t(e,t),vs("caret",e),e=R_t(e,t),vs("tildes",e),e=F_t(e,t),vs("xrange",e),e=L_t(e,t),vs("stars",e),e),"parseComparator"),E0=o(e=>!e||e.toLowerCase()==="x"||e==="*","isX"),R_t=o((e,t)=>e.trim().split(/\s+/).map(r=>B_t(r,t)).join(" "),"replaceTildes"),B_t=o((e,t)=>{let r=t.loose?xu[b0.TILDELOOSE]:xu[b0.TILDE];return e.replace(r,(n,i,s,a,l)=>{vs("tilde",e,n,i,s,a,l);let c;return E0(i)?c="":E0(s)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:E0(a)?c=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:l?(vs("replaceTilde pr",l),c=`>=${i}.${s}.${a}-${l} <${i}.${+s+1}.0-0`):c=`>=${i}.${s}.${a} <${i}.${+s+1}.0-0`,vs("tilde return",c),c})},"replaceTilde"),D_t=o((e,t)=>e.trim().split(/\s+/).map(r=>P_t(r,t)).join(" "),"replaceCarets"),P_t=o((e,t)=>{vs("caret",e,t);let r=t.loose?xu[b0.CARETLOOSE]:xu[b0.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(i,s,a,l,c)=>{vs("caret",e,i,s,a,l,c);let u;return E0(s)?u="":E0(a)?u=`>=${s}.0.0${n} <${+s+1}.0.0-0`:E0(l)?s==="0"?u=`>=${s}.${a}.0${n} <${s}.${+a+1}.0-0`:u=`>=${s}.${a}.0${n} <${+s+1}.0.0-0`:c?(vs("replaceCaret pr",c),s==="0"?a==="0"?u=`>=${s}.${a}.${l}-${c} <${s}.${a}.${+l+1}-0`:u=`>=${s}.${a}.${l}-${c} <${s}.${+a+1}.0-0`:u=`>=${s}.${a}.${l}-${c} <${+s+1}.0.0-0`):(vs("no pr"),s==="0"?a==="0"?u=`>=${s}.${a}.${l}${n} <${s}.${a}.${+l+1}-0`:u=`>=${s}.${a}.${l}${n} <${s}.${+a+1}.0-0`:u=`>=${s}.${a}.${l} <${+s+1}.0.0-0`),vs("caret return",u),u})},"replaceCaret"),F_t=o((e,t)=>(vs("replaceXRanges",e,t),e.split(/\s+/).map(r=>N_t(r,t)).join(" ")),"replaceXRanges"),N_t=o((e,t)=>{e=e.trim();let r=t.loose?xu[b0.XRANGELOOSE]:xu[b0.XRANGE];return e.replace(r,(n,i,s,a,l,c)=>{vs("xRange",e,n,i,s,a,l,c);let u=E0(s),f=u||E0(a),m=f||E0(l),h=m;return i==="="&&h&&(i=""),c=t.includePrerelease?"-0":"",u?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&h?(f&&(a=0),l=0,i===">"?(i=">=",f?(s=+s+1,a=0,l=0):(a=+a+1,l=0)):i==="<="&&(i="<",f?s=+s+1:a=+a+1),i==="<"&&(c="-0"),n=`${i+s}.${a}.${l}${c}`):f?n=`>=${s}.0.0${c} <${+s+1}.0.0-0`:m&&(n=`>=${s}.${a}.0${c} <${s}.${+a+1}.0-0`),vs("xRange return",n),n})},"replaceXRange"),L_t=o((e,t)=>(vs("replaceStars",e,t),e.trim().replace(xu[b0.STAR],"")),"replaceStars"),Q_t=o((e,t)=>(vs("replaceGTE0",e,t),e.trim().replace(xu[t.includePrerelease?b0.GTE0PRE:b0.GTE0],"")),"replaceGTE0"),M_t=o(e=>(t,r,n,i,s,a,l,c,u,f,m,h)=>(E0(n)?r="":E0(i)?r=`>=${n}.0.0${e?"-0":""}`:E0(s)?r=`>=${n}.${i}.0${e?"-0":""}`:a?r=`>=${r}`:r=`>=${r}${e?"-0":""}`,E0(u)?c="":E0(f)?c=`<${+u+1}.0.0-0`:E0(m)?c=`<${u}.${+f+1}.0-0`:h?c=`<=${u}.${f}.${m}-${h}`:e?c=`<${u}.${f}.${+m+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),"hyphenReplace"),O_t=o((e,t,r)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let n=0;n<e.length;n++)if(vs(e[n].semver),e[n].semver!==Sce.ANY&&e[n].semver.prerelease.length>0){let i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0},"testSet")});var Yk=j((Qhn,WQe)=>{d();var Kk=Symbol("SemVer ANY"),Bce=class e{static{o(this,"Comparator")}static get ANY(){return Kk}constructor(t,r){if(r=QQe(r),t instanceof e){if(t.loose===!!r.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),Rce("comparator",t,r),this.options=r,this.loose=!!r.loose,this.parse(t),this.semver===Kk?this.value="":this.value=this.operator+this.semver.version,Rce("comp",this)}parse(t){let r=this.options.loose?MQe[OQe.COMPARATORLOOSE]:MQe[OQe.COMPARATOR],n=t.match(r);if(!n)throw new TypeError(`Invalid comparator: ${t}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new UQe(n[2],this.options.loose):this.semver=Kk}toString(){return this.value}test(t){if(Rce("Comparator.test",t,this.options.loose),this.semver===Kk||t===Kk)return!0;if(typeof t=="string")try{t=new UQe(t,this.options)}catch{return!1}return kce(t,this.operator,this.semver,this.options)}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new qQe(t.value,r).test(this.value):t.operator===""?t.value===""?!0:new qQe(this.value,r).test(t.semver):(r=QQe(r),r.includePrerelease&&(this.value==="<0.0.0-0"||t.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&t.operator.startsWith(">")||this.operator.startsWith("<")&&t.operator.startsWith("<")||this.semver.version===t.semver.version&&this.operator.includes("=")&&t.operator.includes("=")||kce(this.semver,"<",t.semver,r)&&this.operator.startsWith(">")&&t.operator.startsWith("<")||kce(this.semver,">",t.semver,r)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}};WQe.exports=Bce;var QQe=nH(),{safeRe:MQe,t:OQe}=g9(),kce=Tce(),Rce=$k(),UQe=Hc(),qQe=Zd()});var Jk=j((Uhn,GQe)=>{d();var U_t=Zd(),q_t=o((e,t,r)=>{try{t=new U_t(t,r)}catch{return!1}return t.test(e)},"satisfies");GQe.exports=q_t});var jQe=j((Ghn,HQe)=>{d();var W_t=Zd(),G_t=o((e,t)=>new W_t(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" ")),"toComparators");HQe.exports=G_t});var $Qe=j((Vhn,VQe)=>{d();var H_t=Hc(),j_t=Zd(),V_t=o((e,t,r)=>{let n=null,i=null,s=null;try{s=new j_t(t,r)}catch{return null}return e.forEach(a=>{s.test(a)&&(!n||i.compare(a)===-1)&&(n=a,i=new H_t(n,r))}),n},"maxSatisfying");VQe.exports=V_t});var YQe=j((Yhn,zQe)=>{d();var $_t=Hc(),z_t=Zd(),Y_t=o((e,t,r)=>{let n=null,i=null,s=null;try{s=new z_t(t,r)}catch{return null}return e.forEach(a=>{s.test(a)&&(!n||i.compare(a)===1)&&(n=a,i=new $_t(n,r))}),n},"minSatisfying");zQe.exports=Y_t});var ZQe=j((Zhn,JQe)=>{d();var Dce=Hc(),K_t=Zd(),KQe=zk(),J_t=o((e,t)=>{e=new K_t(e,t);let r=new Dce("0.0.0");if(e.test(r)||(r=new Dce("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){let i=e.set[n],s=null;i.forEach(a=>{let l=new Dce(a.semver.version);switch(a.operator){case">":l.prerelease.length===0?l.patch++:l.prerelease.push(0),l.raw=l.format();case"":case">=":(!s||KQe(l,s))&&(s=l);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),s&&(!r||KQe(r,s))&&(r=s)}return r&&e.test(r)?r:null},"minVersion");JQe.exports=J_t});var eMe=j((tpn,XQe)=>{d();var Z_t=Zd(),X_t=o((e,t)=>{try{return new Z_t(e,t).range||"*"}catch{return null}},"validRange");XQe.exports=X_t});var mH=j((ipn,iMe)=>{d();var eSt=Hc(),nMe=Yk(),{ANY:tSt}=nMe,rSt=Zd(),nSt=Jk(),tMe=zk(),rMe=lH(),iSt=uH(),oSt=cH(),sSt=o((e,t,r,n)=>{e=new eSt(e,n),t=new rSt(t,n);let i,s,a,l,c;switch(r){case">":i=tMe,s=iSt,a=rMe,l=">",c=">=";break;case"<":i=rMe,s=oSt,a=tMe,l="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(nSt(e,t,n))return!1;for(let u=0;u<t.set.length;++u){let f=t.set[u],m=null,h=null;if(f.forEach(p=>{p.semver===tSt&&(p=new nMe(">=0.0.0")),m=m||p,h=h||p,i(p.semver,m.semver,n)?m=p:a(p.semver,h.semver,n)&&(h=p)}),m.operator===l||m.operator===c||(!h.operator||h.operator===l)&&s(e,h.semver))return!1;if(h.operator===c&&a(e,h.semver))return!1}return!0},"outside");iMe.exports=sSt});var sMe=j((apn,oMe)=>{d();var aSt=mH(),lSt=o((e,t,r)=>aSt(e,t,">",r),"gtr");oMe.exports=lSt});var lMe=j((upn,aMe)=>{d();var cSt=mH(),uSt=o((e,t,r)=>cSt(e,t,"<",r),"ltr");aMe.exports=uSt});var fMe=j((mpn,uMe)=>{d();var cMe=Zd(),fSt=o((e,t,r)=>(e=new cMe(e,r),t=new cMe(t,r),e.intersects(t,r)),"intersects");uMe.exports=fSt});var mMe=j((gpn,dMe)=>{d();var dSt=Jk(),mSt=Jd();dMe.exports=(e,t,r)=>{let n=[],i=null,s=null,a=e.sort((f,m)=>mSt(f,m,r));for(let f of a)dSt(f,t,r)?(s=f,i||(i=f)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);let l=[];for(let[f,m]of n)f===m?l.push(f):!m&&f===a[0]?l.push("*"):m?f===a[0]?l.push(`<=${m}`):l.push(`${f} - ${m}`):l.push(`>=${f}`);let c=l.join(" || "),u=typeof t.raw=="string"?t.raw:String(t);return c.length<u.length?c:t}});var CMe=j((ypn,yMe)=>{d();var hMe=Zd(),Fce=Yk(),{ANY:Pce}=Fce,Zk=Jk(),Nce=Jd(),hSt=o((e,t,r={})=>{if(e===t)return!0;e=new hMe(e,r),t=new hMe(t,r);let n=!1;e:for(let i of e.set){for(let s of t.set){let a=gSt(i,s,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},"subset"),pSt=[new Fce(">=0.0.0-0")],pMe=[new Fce(">=0.0.0")],gSt=o((e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===Pce){if(t.length===1&&t[0].semver===Pce)return!0;r.includePrerelease?e=pSt:e=pMe}if(t.length===1&&t[0].semver===Pce){if(r.includePrerelease)return!0;t=pMe}let n=new Set,i,s;for(let p of e)p.operator===">"||p.operator===">="?i=gMe(i,p,r):p.operator==="<"||p.operator==="<="?s=AMe(s,p,r):n.add(p.semver);if(n.size>1)return null;let a;if(i&&s){if(a=Nce(i.semver,s.semver,r),a>0)return null;if(a===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let p of n){if(i&&!Zk(p,String(i),r)||s&&!Zk(p,String(s),r))return null;for(let g of t)if(!Zk(p,String(g),r))return!1;return!0}let l,c,u,f,m=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,h=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;m&&m.prerelease.length===1&&s.operator==="<"&&m.prerelease[0]===0&&(m=!1);for(let p of t){if(f=f||p.operator===">"||p.operator===">=",u=u||p.operator==="<"||p.operator==="<=",i){if(h&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===h.major&&p.semver.minor===h.minor&&p.semver.patch===h.patch&&(h=!1),p.operator===">"||p.operator===">="){if(l=gMe(i,p,r),l===p&&l!==i)return!1}else if(i.operator===">="&&!Zk(i.semver,String(p),r))return!1}if(s){if(m&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===m.major&&p.semver.minor===m.minor&&p.semver.patch===m.patch&&(m=!1),p.operator==="<"||p.operator==="<="){if(c=AMe(s,p,r),c===p&&c!==s)return!1}else if(s.operator==="<="&&!Zk(s.semver,String(p),r))return!1}if(!p.operator&&(s||i)&&a!==0)return!1}return!(i&&u&&!s&&a!==0||s&&f&&!i&&a!==0||h||m)},"simpleSubset"),gMe=o((e,t,r)=>{if(!e)return t;let n=Nce(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},"higherGT"),AMe=o((e,t,r)=>{if(!e)return t;let n=Nce(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e},"lowerLT");yMe.exports=hSt});var Qce=j((vpn,bMe)=>{d();var Lce=g9(),xMe=Vk(),ASt=Hc(),vMe=vce(),ySt=Iv(),CSt=$Le(),xSt=YLe(),vSt=ZLe(),bSt=tQe(),ESt=nQe(),ISt=oQe(),TSt=aQe(),wSt=cQe(),_St=Jd(),SSt=mQe(),kSt=pQe(),RSt=aH(),BSt=CQe(),DSt=vQe(),PSt=zk(),FSt=lH(),NSt=Ece(),LSt=Ice(),QSt=cH(),MSt=uH(),OSt=Tce(),USt=RQe(),qSt=Yk(),WSt=Zd(),GSt=Jk(),HSt=jQe(),jSt=$Qe(),VSt=YQe(),$St=ZQe(),zSt=eMe(),YSt=mH(),KSt=sMe(),JSt=lMe(),ZSt=fMe(),XSt=mMe(),ekt=CMe();bMe.exports={parse:ySt,valid:CSt,clean:xSt,inc:vSt,diff:bSt,major:ESt,minor:ISt,patch:TSt,prerelease:wSt,compare:_St,rcompare:SSt,compareLoose:kSt,compareBuild:RSt,sort:BSt,rsort:DSt,gt:PSt,lt:FSt,eq:NSt,neq:LSt,gte:QSt,lte:MSt,cmp:OSt,coerce:USt,Comparator:qSt,Range:WSt,satisfies:GSt,toComparators:HSt,maxSatisfying:jSt,minSatisfying:VSt,minVersion:$St,validRange:zSt,outside:YSt,gtr:KSt,ltr:JSt,intersects:ZSt,simplifyRange:XSt,subset:ekt,SemVer:ASt,re:Lce.re,src:Lce.src,tokens:Lce.t,SEMVER_SPEC_VERSION:xMe.SEMVER_SPEC_VERSION,RELEASE_TYPES:xMe.RELEASE_TYPES,compareIdentifiers:vMe.compareIdentifiers,rcompareIdentifiers:vMe.rcompareIdentifiers}});var Df=j(tR=>{"use strict";d();Object.defineProperty(tR,"__esModule",{value:!0});tR.dedent=void 0;function WMe(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Array.from(typeof e=="string"?[e]:e);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var i=n.reduce(function(l,c){var u=c.match(/\n([\t ]+|(?!\s).)/g);return u?l.concat(u.map(function(f){var m,h;return(h=(m=f.match(/[\t ]/g))===null||m===void 0?void 0:m.length)!==null&&h!==void 0?h:0})):l},[]);if(i.length){var s=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");n=n.map(function(l){return l.replace(s,`
`)})}n[0]=n[0].replace(/^\r?\n/,"");var a=n[0];return t.forEach(function(l,c){var u=a.match(/(?:^|\n)( *)$/),f=u?u[1]:"",m=l;typeof l=="string"&&l.includes(`
`)&&(m=String(l).split(`
`).map(function(h,p){return p===0?h:""+f+h}).join(`
`)),a+=m+n[c+1]}),a}o(WMe,"dedent");tR.dedent=WMe;tR.default=WMe});var KMe=j(Kce=>{"use strict";d();Object.defineProperty(Kce,"__esModule",{value:!0});Kce.workerFile=`
const { parentPort } = require('worker_threads')

parentPort.on('message', async worker => {
  const response = {
    error: null,
    data: null
  }

  try {
    eval(worker)
    // __executor__ is defined in worker
    response.data = await __executor__()
    parentPort.postMessage(response)
  } catch (err) {
    response.data = null
    response.error = {
      message: err.message,
      stack: err.stack
    }

    try {
      parentPort.postMessage(response)
    } catch (err) {
      console.error(err)
    }
  }
})
`});var rOe=j(Zce=>{"use strict";d();Object.defineProperty(Zce,"__esModule",{value:!0});var JMe=require("worker_threads"),Ckt=require("v8"),xkt=require("os"),ZMe=KMe(),bH="ready",XMe="spawning",vkt="busy",EH="off",eOe=xkt.cpus().length,tOe=process.version.replace("v","").split("."),bkt=parseInt(tOe[0]),Ekt=parseInt(tOe[1]),Jce=class{static{o(this,"WorkerPool")}constructor(){this.maxWorkers=eOe,this.taskQueue=[],this.workers=[]}resurrect(t){let r=new JMe.Worker(ZMe.workerFile,{eval:!0});t.status=XMe,t.worker=r,r.once("online",()=>process.nextTick(()=>{t.status=bH,r.removeAllListeners(),this.tick()})),r.once("error",n=>{console.error(n),t.status=EH,r.removeAllListeners(),this.tick()})}tick(){if(this.workers.filter(({status:c})=>c===EH).forEach(c=>this.resurrect(c)),this.taskQueue.length===0)return;let t;for(let c=0;c<this.workers.length;c++)if(this.workers[c].status===bH){t=this.workers[c];break}if(typeof t>"u")return;let r=this.taskQueue.shift();t.status=vkt;let{worker:n}=t,{handler:i,config:s,resolve:a,reject:l}=r;try{let c="";for(let h in s.ctx){if(!s.ctx.hasOwnProperty(h))continue;let p;switch(typeof s.ctx[h]){case"string":p=`'${s.ctx[h]}'`;break;case"object":p=JSON.stringify(s.ctx[h]);break;default:p=s.ctx[h]}c+=`let ${h} = ${p}
`}let u=Ckt.serialize(s.data),f=JSON.stringify(u),m=`
      async function __executor__() {
        const v8 = require('v8')
        ${c}
        const dataParsed = JSON.parse('${f}')
        const dataBuffer = Buffer.from(dataParsed.data)
        const dataDeserialized = v8.deserialize(dataBuffer)
        return await (${i.toString()})(dataDeserialized)
      }
      `;n.once("message",h=>{if(this.free(n),typeof h.error>"u"||h.error===null)return a(h.data);let p=new Error(h.error.message);p.stack=h.error.stack,l(p)}),n.once("error",h=>{t.status=EH,l(h),this.tick()}),n.postMessage(m)}catch(c){this.free(n),l(c)}}enqueue({handler:t,config:r,resolve:n,reject:i}){this.taskQueue.push({handler:t,config:r,resolve:n,reject:i}),this.tick()}free(t){for(let r=0;r<this.workers.length;r++)if(t.threadId===this.workers[r].worker.threadId){this.workers[r].status=bH,this.workers[r].worker.removeAllListeners(),this.tick();break}}setup(t={}){return this.maxWorkers=t.maxWorkers>0?t.maxWorkers:eOe,this.maxWorkers>10&&console.warn(`Worker pool has more than 10 workers.
You should also increase the Max Listeners of Node.js (https://nodejs.org/docs/latest/api/events.html#events_emitter_setmaxlisteners_n)
Otherwise, limit them with start({maxWorkers: 10})`),new Promise((r,n)=>{let i=0,s=0;for(let a=0;a<this.maxWorkers;a++){let l=new JMe.Worker(ZMe.workerFile,{eval:!0});this.workers.push({status:XMe,worker:l}),l.once("online",(c=>()=>{process.nextTick(()=>{this.workers[c].status=bH,this.workers[c].worker.removeAllListeners(),i++,i>0&&i+s===this.maxWorkers&&r()})})(a)),l.once("error",(c=>u=>{this.workers[c].status=EH,this.workers[c].worker.removeAllListeners(),s++,s===this.maxWorkers&&n(u)})(a))}})}async teardown(){if(bkt>=12&&Ekt>=5){let t=[];for(let{worker:r}of this.workers)t.push(r.terminate());await Promise.all(t),this.workers=[]}else await new Promise(r=>{let n=0;for(let i=0;i<this.workers.length;i++)this.workers[i].worker.terminate(()=>{n++,n===this.workers.length&&(this.workers=[],r())})})}};Zce.default=new Jce});var IH=j(Tv=>{"use strict";d();var Ikt=Tv&&Tv.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tv,"__esModule",{value:!0});var rR=Ikt(rOe()),Tkt=`job needs a function.
Try with:
> job(() => {...}, config)`,wkt=`job needs an object as ctx.
Try with:
> job(() => {...}, {ctx: {...}})`;function _kt(e,t={ctx:{},data:{}}){return new Promise((r,n)=>{if(typeof e!="function")return n(new Error(Tkt));if(t.ctx=t.ctx||{},t.data=t.data||{},typeof t.ctx!="object")return n(new Error(wkt));rR.default.enqueue({handler:e,config:t,resolve:r,reject:n})})}o(_kt,"job");Tv.job=_kt;Tv.stop=rR.default.teardown.bind(rR.default);Tv.start=rR.default.setup.bind(rR.default)});var COe=j(wv=>{"use strict";d();var Og=wv&&wv.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},l0e=wv&&wv.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},VA,PC;Object.defineProperty(wv,"__esModule",{value:!0});var c0e=class{static{o(this,"AwaitLock")}constructor(){VA.set(this,!1),PC.set(this,new Set)}get acquired(){return Og(this,VA,"f")}acquireAsync({timeout:t}={}){if(!Og(this,VA,"f"))return l0e(this,VA,!0,"f"),Promise.resolve();if(t==null)return new Promise(i=>{Og(this,PC,"f").add(i)});let r,n;return Promise.race([new Promise(i=>{r=o(()=>{clearTimeout(n),i()},"resolver"),Og(this,PC,"f").add(r)}),new Promise((i,s)=>{n=setTimeout(()=>{Og(this,PC,"f").delete(r),s(new Error("Timed out waiting for lock"))},t)})])}tryAcquire(){return Og(this,VA,"f")?!1:(l0e(this,VA,!0,"f"),!0)}release(){if(!Og(this,VA,"f"))throw new Error("Cannot release an unacquired lock");if(Og(this,PC,"f").size>0){let[t]=Og(this,PC,"f");Og(this,PC,"f").delete(t),t()}else l0e(this,VA,!1,"f")}};wv.default=c0e;VA=new WeakMap,PC=new WeakMap});var _We=j((nLn,wWe)=>{d();var q9=1e3,W9=q9*60,G9=W9*60,Nv=G9*24,rLt=Nv*7,nLt=Nv*365.25;wWe.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return iLt(e);if(r==="number"&&isFinite(e))return t.long?sLt(e):oLt(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function iLt(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*nLt;case"weeks":case"week":case"w":return r*rLt;case"days":case"day":case"d":return r*Nv;case"hours":case"hour":case"hrs":case"hr":case"h":return r*G9;case"minutes":case"minute":case"mins":case"min":case"m":return r*W9;case"seconds":case"second":case"secs":case"sec":case"s":return r*q9;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}o(iLt,"parse");function oLt(e){var t=Math.abs(e);return t>=Nv?Math.round(e/Nv)+"d":t>=G9?Math.round(e/G9)+"h":t>=W9?Math.round(e/W9)+"m":t>=q9?Math.round(e/q9)+"s":e+"ms"}o(oLt,"fmtShort");function sLt(e){var t=Math.abs(e);return t>=Nv?iV(e,t,Nv,"day"):t>=G9?iV(e,t,G9,"hour"):t>=W9?iV(e,t,W9,"minute"):t>=q9?iV(e,t,q9,"second"):e+" ms"}o(sLt,"fmtLong");function iV(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}o(iV,"plural")});var que=j((sLn,SWe)=>{d();function aLt(e){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=a,r.humanize=_We(),r.destroy=u,Object.keys(e).forEach(f=>{r[f]=e[f]}),r.names=[],r.skips=[],r.formatters={};function t(f){let m=0;for(let h=0;h<f.length;h++)m=(m<<5)-m+f.charCodeAt(h),m|=0;return r.colors[Math.abs(m)%r.colors.length]}o(t,"selectColor"),r.selectColor=t;function r(f){let m,h=null,p,g;function x(...v){if(!x.enabled)return;let E=x,b=Number(new Date),_=b-(m||b);E.diff=_,E.prev=m,E.curr=b,m=b,v[0]=r.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let R=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(F,G)=>{if(F==="%%")return"%";R++;let se=r.formatters[G];if(typeof se=="function"){let Ae=v[R];F=se.call(E,Ae),v.splice(R,1),R--}return F}),r.formatArgs.call(E,v),(E.log||r.log).apply(E,v)}return o(x,"debug"),x.namespace=f,x.useColors=r.useColors(),x.color=r.selectColor(f),x.extend=n,x.destroy=r.destroy,Object.defineProperty(x,"enabled",{enumerable:!0,configurable:!1,get:o(()=>h!==null?h:(p!==r.namespaces&&(p=r.namespaces,g=r.enabled(f)),g),"get"),set:o(v=>{h=v},"set")}),typeof r.init=="function"&&r.init(x),x}o(r,"createDebug");function n(f,m){let h=r(this.namespace+(typeof m>"u"?":":m)+f);return h.log=this.log,h}o(n,"extend");function i(f){r.save(f),r.namespaces=f,r.names=[],r.skips=[];let m,h=(typeof f=="string"?f:"").split(/[\s,]+/),p=h.length;for(m=0;m<p;m++)h[m]&&(f=h[m].replace(/\*/g,".*?"),f[0]==="-"?r.skips.push(new RegExp("^"+f.slice(1)+"$")):r.names.push(new RegExp("^"+f+"$")))}o(i,"enable");function s(){let f=[...r.names.map(l),...r.skips.map(l).map(m=>"-"+m)].join(",");return r.enable(""),f}o(s,"disable");function a(f){if(f[f.length-1]==="*")return!0;let m,h;for(m=0,h=r.skips.length;m<h;m++)if(r.skips[m].test(f))return!1;for(m=0,h=r.names.length;m<h;m++)if(r.names[m].test(f))return!0;return!1}o(a,"enabled");function l(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}o(l,"toNamespace");function c(f){return f instanceof Error?f.stack||f.message:f}o(c,"coerce");function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o(u,"destroy"),r.enable(r.load()),r}o(aLt,"setup");SWe.exports=aLt});var kWe=j((Ff,oV)=>{d();Ff.formatArgs=cLt;Ff.save=uLt;Ff.load=fLt;Ff.useColors=lLt;Ff.storage=dLt();Ff.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Ff.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function lLt(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}o(lLt,"useColors");function cLt(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+oV.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),e.splice(n,0,t)}o(cLt,"formatArgs");Ff.log=console.debug||console.log||(()=>{});function uLt(e){try{e?Ff.storage.setItem("debug",e):Ff.storage.removeItem("debug")}catch{}}o(uLt,"save");function fLt(){let e;try{e=Ff.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}o(fLt,"load");function dLt(){try{return localStorage}catch{}}o(dLt,"localstorage");oV.exports=que()(Ff);var{formatters:mLt}=oV.exports;mLt.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var BWe=j((fLn,RWe)=>{"use strict";d();RWe.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1||n<i)}});var FWe=j((mLn,PWe)=>{"use strict";d();var hLt=require("os"),DWe=require("tty"),nm=BWe(),{env:Gl}=process,qC;nm("no-color")||nm("no-colors")||nm("color=false")||nm("color=never")?qC=0:(nm("color")||nm("colors")||nm("color=true")||nm("color=always"))&&(qC=1);"FORCE_COLOR"in Gl&&(Gl.FORCE_COLOR==="true"?qC=1:Gl.FORCE_COLOR==="false"?qC=0:qC=Gl.FORCE_COLOR.length===0?1:Math.min(parseInt(Gl.FORCE_COLOR,10),3));function Wue(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}o(Wue,"translateLevel");function Gue(e,t){if(qC===0)return 0;if(nm("color=16m")||nm("color=full")||nm("color=truecolor"))return 3;if(nm("color=256"))return 2;if(e&&!t&&qC===void 0)return 0;let r=qC||0;if(Gl.TERM==="dumb")return r;if(process.platform==="win32"){let n=hLt.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in Gl)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in Gl)||Gl.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in Gl)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Gl.TEAMCITY_VERSION)?1:0;if(Gl.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Gl){let n=parseInt((Gl.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Gl.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Gl.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Gl.TERM)||"COLORTERM"in Gl?1:r}o(Gue,"supportsColor");function pLt(e){let t=Gue(e,e&&e.isTTY);return Wue(t)}o(pLt,"getSupportLevel");PWe.exports={supportsColor:pLt,stdout:Wue(Gue(!0,DWe.isatty(1))),stderr:Wue(Gue(!0,DWe.isatty(2)))}});var LWe=j((gc,aV)=>{d();var gLt=require("tty"),sV=require("util");gc.init=ELt;gc.log=xLt;gc.formatArgs=yLt;gc.save=vLt;gc.load=bLt;gc.useColors=ALt;gc.destroy=sV.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");gc.colors=[6,2,3,4,5,1];try{let e=FWe();e&&(e.stderr||e).level>=2&&(gc.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}gc.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function ALt(){return"colors"in gc.inspectOpts?!!gc.inspectOpts.colors:gLt.isatty(process.stderr.fd)}o(ALt,"useColors");function yLt(e){let{namespace:t,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${t} \x1B[0m`;e[0]=s+e[0].split(`
`).join(`
`+s),e.push(i+"m+"+aV.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=CLt()+t+" "+e[0]}o(yLt,"formatArgs");function CLt(){return gc.inspectOpts.hideDate?"":new Date().toISOString()+" "}o(CLt,"getDate");function xLt(...e){return process.stderr.write(sV.format(...e)+`
`)}o(xLt,"log");function vLt(e){e?process.env.DEBUG=e:delete process.env.DEBUG}o(vLt,"save");function bLt(){return process.env.DEBUG}o(bLt,"load");function ELt(e){e.inspectOpts={};let t=Object.keys(gc.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=gc.inspectOpts[t[r]]}o(ELt,"init");aV.exports=que()(gc);var{formatters:NWe}=aV.exports;NWe.o=function(e){return this.inspectOpts.colors=this.useColors,sV.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};NWe.O=function(e){return this.inspectOpts.colors=this.useColors,sV.inspect(e,this.inspectOpts)}});var Lv=j((yLn,Hue)=>{d();typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Hue.exports=kWe():Hue.exports=LWe()});var Kue=j((bLn,UWe)=>{d();var SR=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,ILt=typeof AbortController=="function",lV=ILt?AbortController:class{static{o(this,"AbortController")}constructor(){this.signal=new QWe}abort(){this.signal.dispatchEvent("abort")}},TLt=typeof AbortSignal=="function",wLt=typeof lV.AbortSignal=="function",QWe=TLt?AbortSignal:wLt?lV.AbortController:class{static{o(this,"AbortSignal")}constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(t){if(t==="abort"){this.aborted=!0;let r={type:t,target:this};this.onabort(r),this._listeners.forEach(n=>n(r),this)}}onabort(){}addEventListener(t,r){t==="abort"&&this._listeners.push(r)}removeEventListener(t,r){t==="abort"&&(this._listeners=this._listeners.filter(n=>n!==r))}},zue=new Set,jue=o((e,t)=>{let r=`LRU_CACHE_OPTION_${e}`;cV(r)&&Yue(r,`${e} option`,`options.${t}`,j9)},"deprecatedOption"),Vue=o((e,t)=>{let r=`LRU_CACHE_METHOD_${e}`;if(cV(r)){let{prototype:n}=j9,{get:i}=Object.getOwnPropertyDescriptor(n,e);Yue(r,`${e} method`,`cache.${t}()`,i)}},"deprecatedMethod"),_Lt=o((e,t)=>{let r=`LRU_CACHE_PROPERTY_${e}`;if(cV(r)){let{prototype:n}=j9,{get:i}=Object.getOwnPropertyDescriptor(n,e);Yue(r,`${e} property`,`cache.${t}`,i)}},"deprecatedProperty"),MWe=o((...e)=>{typeof process=="object"&&process&&typeof process.emitWarning=="function"?process.emitWarning(...e):console.error(...e)},"emitWarning"),cV=o(e=>!zue.has(e),"shouldWarn"),Yue=o((e,t,r,n)=>{zue.add(e);let i=`The ${t} is deprecated. Please use ${r} instead.`;MWe(i,"DeprecationWarning",e,n)},"warn"),Qv=o(e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),"isPosInt"),OWe=o(e=>Qv(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?H9:null:null,"getUintArray"),H9=class extends Array{static{o(this,"ZeroArray")}constructor(t){super(t),this.fill(0)}},$ue=class{static{o(this,"Stack")}constructor(t){if(t===0)return[];let r=OWe(t);this.heap=new r(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}},j9=class e{static{o(this,"LRUCache")}constructor(t={}){let{max:r=0,ttl:n,ttlResolution:i=1,ttlAutopurge:s,updateAgeOnGet:a,updateAgeOnHas:l,allowStale:c,dispose:u,disposeAfter:f,noDisposeOnSet:m,noUpdateTTL:h,maxSize:p=0,sizeCalculation:g,fetchMethod:x,fetchContext:v,noDeleteOnFetchRejection:E,noDeleteOnStaleGet:b}=t,{length:_,maxAge:R,stale:P}=t instanceof e?{}:t;if(r!==0&&!Qv(r))throw new TypeError("max option must be a nonnegative integer");let F=r?OWe(r):Array;if(!F)throw new Error("invalid max value: "+r);if(this.max=r,this.maxSize=p,this.sizeCalculation=g||_,this.sizeCalculation){if(!this.maxSize)throw new TypeError("cannot set sizeCalculation without setting maxSize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=x||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=v,!this.fetchMethod&&v!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(r).fill(null),this.valList=new Array(r).fill(null),this.next=new F(r),this.prev=new F(r),this.head=0,this.tail=0,this.free=new $ue(r),this.initialFill=1,this.size=0,typeof u=="function"&&(this.dispose=u),typeof f=="function"?(this.disposeAfter=f,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!m,this.noUpdateTTL=!!h,this.noDeleteOnFetchRejection=!!E,this.maxSize!==0){if(!Qv(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!c||!!P,this.noDeleteOnStaleGet=!!b,this.updateAgeOnGet=!!a,this.updateAgeOnHas=!!l,this.ttlResolution=Qv(i)||i===0?i:1,this.ttlAutopurge=!!s,this.ttl=n||R||0,this.ttl){if(!Qv(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){let G="LRU_CACHE_UNBOUNDED";cV(G)&&(zue.add(G),MWe("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",G,e))}P&&jue("stale","allowStale"),R&&jue("maxAge","ttl"),_&&jue("length","sizeCalculation")}getRemainingTTL(t){return this.has(t,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new H9(this.max),this.starts=new H9(this.max),this.setItemTTL=(n,i,s=SR.now())=>{if(this.starts[n]=i!==0?s:0,this.ttls[n]=i,i!==0&&this.ttlAutopurge){let a=setTimeout(()=>{this.isStale(n)&&this.delete(this.keyList[n])},i+1);a.unref&&a.unref()}},this.updateItemAge=n=>{this.starts[n]=this.ttls[n]!==0?SR.now():0};let t=0,r=o(()=>{let n=SR.now();if(this.ttlResolution>0){t=n;let i=setTimeout(()=>t=0,this.ttlResolution);i.unref&&i.unref()}return n},"getNow");this.getRemainingTTL=n=>{let i=this.keyMap.get(n);return i===void 0?0:this.ttls[i]===0||this.starts[i]===0?1/0:this.starts[i]+this.ttls[i]-(t||r())},this.isStale=n=>this.ttls[n]!==0&&this.starts[n]!==0&&(t||r())-this.starts[n]>this.ttls[n]}updateItemAge(t){}setItemTTL(t,r,n){}isStale(t){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new H9(this.max),this.removeItemSize=t=>{this.calculatedSize-=this.sizes[t],this.sizes[t]=0},this.requireSize=(t,r,n,i)=>{if(!Qv(n))if(i){if(typeof i!="function")throw new TypeError("sizeCalculation must be a function");if(n=i(r,t),!Qv(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer)");return n},this.addItemSize=(t,r)=>{this.sizes[t]=r;let n=this.maxSize-this.sizes[t];for(;this.calculatedSize>n;)this.evict(!0);this.calculatedSize+=this.sizes[t]}}removeItemSize(t){}addItemSize(t,r){}requireSize(t,r,n,i){if(n||i)throw new TypeError("cannot set size without setting maxSize on cache")}*indexes({allowStale:t=this.allowStale}={}){if(this.size)for(let r=this.tail;!(!this.isValidIndex(r)||((t||!this.isStale(r))&&(yield r),r===this.head));)r=this.prev[r]}*rindexes({allowStale:t=this.allowStale}={}){if(this.size)for(let r=this.head;!(!this.isValidIndex(r)||((t||!this.isStale(r))&&(yield r),r===this.tail));)r=this.next[r]}isValidIndex(t){return this.keyMap.get(this.keyList[t])===t}*entries(){for(let t of this.indexes())yield[this.keyList[t],this.valList[t]]}*rentries(){for(let t of this.rindexes())yield[this.keyList[t],this.valList[t]]}*keys(){for(let t of this.indexes())yield this.keyList[t]}*rkeys(){for(let t of this.rindexes())yield this.keyList[t]}*values(){for(let t of this.indexes())yield this.valList[t]}*rvalues(){for(let t of this.rindexes())yield this.valList[t]}[Symbol.iterator](){return this.entries()}find(t,r={}){for(let n of this.indexes())if(t(this.valList[n],this.keyList[n],this))return this.get(this.keyList[n],r)}forEach(t,r=this){for(let n of this.indexes())t.call(r,this.valList[n],this.keyList[n],this)}rforEach(t,r=this){for(let n of this.rindexes())t.call(r,this.valList[n],this.keyList[n],this)}get prune(){return Vue("prune","purgeStale"),this.purgeStale}purgeStale(){let t=!1;for(let r of this.rindexes({allowStale:!0}))this.isStale(r)&&(this.delete(this.keyList[r]),t=!0);return t}dump(){let t=[];for(let r of this.indexes({allowStale:!0})){let n=this.keyList[r],i=this.valList[r],a={value:this.isBackgroundFetch(i)?i.__staleWhileFetching:i};if(this.ttls){a.ttl=this.ttls[r];let l=SR.now()-this.starts[r];a.start=Math.floor(Date.now()-l)}this.sizes&&(a.size=this.sizes[r]),t.unshift([n,a])}return t}load(t){this.clear();for(let[r,n]of t){if(n.start){let i=Date.now()-n.start;n.start=SR.now()-i}this.set(r,n.value,n)}}dispose(t,r,n){}set(t,r,{ttl:n=this.ttl,start:i,noDisposeOnSet:s=this.noDisposeOnSet,size:a=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL}={}){if(a=this.requireSize(t,r,a,l),this.maxSize&&a>this.maxSize)return this;let u=this.size===0?void 0:this.keyMap.get(t);if(u===void 0)u=this.newIndex(),this.keyList[u]=t,this.valList[u]=r,this.keyMap.set(t,u),this.next[this.tail]=u,this.prev[u]=this.tail,this.tail=u,this.size++,this.addItemSize(u,a),c=!1;else{let f=this.valList[u];r!==f&&(this.isBackgroundFetch(f)?f.__abortController.abort():s||(this.dispose(f,t,"set"),this.disposeAfter&&this.disposed.push([f,t,"set"])),this.removeItemSize(u),this.valList[u]=r,this.addItemSize(u,a)),this.moveToTail(u)}if(n!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),c||this.setItemTTL(u,n,i),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){let t=this.valList[this.head];return this.evict(!0),t}}evict(t){let r=this.head,n=this.keyList[r],i=this.valList[r];return this.isBackgroundFetch(i)?i.__abortController.abort():(this.dispose(i,n,"evict"),this.disposeAfter&&this.disposed.push([i,n,"evict"])),this.removeItemSize(r),t&&(this.keyList[r]=null,this.valList[r]=null,this.free.push(r)),this.head=this.next[r],this.keyMap.delete(n),this.size--,r}has(t,{updateAgeOnHas:r=this.updateAgeOnHas}={}){let n=this.keyMap.get(t);return n!==void 0&&!this.isStale(n)?(r&&this.updateItemAge(n),!0):!1}peek(t,{allowStale:r=this.allowStale}={}){let n=this.keyMap.get(t);if(n!==void 0&&(r||!this.isStale(n))){let i=this.valList[n];return this.isBackgroundFetch(i)?i.__staleWhileFetching:i}}backgroundFetch(t,r,n,i){let s=r===void 0?void 0:this.valList[r];if(this.isBackgroundFetch(s))return s;let a=new lV,l={signal:a.signal,options:n,context:i},c=o(h=>(a.signal.aborted||this.set(t,h,l.options),h),"cb"),u=o(h=>{if(this.valList[r]===m&&(!n.noDeleteOnFetchRejection||m.__staleWhileFetching===void 0?this.delete(t):this.valList[r]=m.__staleWhileFetching),m.__returned===m)throw h},"eb"),f=o(h=>h(this.fetchMethod(t,s,l)),"pcall"),m=new Promise(f).then(c,u);return m.__abortController=a,m.__staleWhileFetching=s,m.__returned=null,r===void 0?(this.set(t,m,l.options),r=this.keyMap.get(t)):this.valList[r]=m,m}isBackgroundFetch(t){return t&&typeof t=="object"&&typeof t.then=="function"&&Object.prototype.hasOwnProperty.call(t,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(t,"__returned")&&(t.__returned===t||t.__returned===null)}async fetch(t,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:s=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:f=this.noDeleteOnFetchRejection,fetchContext:m=this.fetchContext,forceRefresh:h=!1}={}){if(!this.fetchMethod)return this.get(t,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i});let p={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,ttl:s,noDisposeOnSet:a,size:l,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:f},g=this.keyMap.get(t);if(g===void 0){let x=this.backgroundFetch(t,g,p,m);return x.__returned=x}else{let x=this.valList[g];if(this.isBackgroundFetch(x))return r&&x.__staleWhileFetching!==void 0?x.__staleWhileFetching:x.__returned=x;if(!h&&!this.isStale(g))return this.moveToTail(g),n&&this.updateItemAge(g),x;let v=this.backgroundFetch(t,g,p,m);return r&&v.__staleWhileFetching!==void 0?v.__staleWhileFetching:v.__returned=v}}get(t,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet}={}){let s=this.keyMap.get(t);if(s!==void 0){let a=this.valList[s],l=this.isBackgroundFetch(a);return this.isStale(s)?l?r?a.__staleWhileFetching:void 0:(i||this.delete(t),r?a:void 0):l?void 0:(this.moveToTail(s),n&&this.updateItemAge(s),a)}}connect(t,r){this.prev[r]=t,this.next[t]=r}moveToTail(t){t!==this.tail&&(t===this.head?this.head=this.next[t]:this.connect(this.prev[t],this.next[t]),this.connect(this.tail,t),this.tail=t)}get del(){return Vue("del","delete"),this.delete}delete(t){let r=!1;if(this.size!==0){let n=this.keyMap.get(t);if(n!==void 0)if(r=!0,this.size===1)this.clear();else{this.removeItemSize(n);let i=this.valList[n];this.isBackgroundFetch(i)?i.__abortController.abort():(this.dispose(i,t,"delete"),this.disposeAfter&&this.disposed.push([i,t,"delete"])),this.keyMap.delete(t),this.keyList[n]=null,this.valList[n]=null,n===this.tail?this.tail=this.prev[n]:n===this.head?this.head=this.next[n]:(this.next[this.prev[n]]=this.next[n],this.prev[this.next[n]]=this.prev[n]),this.size--,this.free.push(n)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return r}clear(){for(let t of this.rindexes({allowStale:!0})){let r=this.valList[t];if(this.isBackgroundFetch(r))r.__abortController.abort();else{let n=this.keyList[t];this.dispose(r,n,"delete"),this.disposeAfter&&this.disposed.push([r,n,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return Vue("reset","clear"),this.clear}get length(){return _Lt("length","size"),this.size}static get AbortController(){return lV}static get AbortSignal(){return QWe}};UWe.exports=j9});var Xue=j((TLn,qWe)=>{"use strict";d();var kR=class extends Error{static{o(this,"FetchBaseError")}constructor(t,r,n){super(t),this.type=r,this._name=n}get name(){return this._name}get[Symbol.toStringTag](){return this._name}},Jue=class extends kR{static{o(this,"FetchError")}constructor(t,r,n){super(t,r,"FetchError"),n&&(this.code=n.code,this.errno=n.errno,this.erroredSysCall=n.syscall)}},Zue=class extends kR{static{o(this,"AbortError")}constructor(t,r="aborted"){super(t,r,"AbortError")}};qWe.exports={FetchBaseError:kR,FetchError:Jue,AbortError:Zue}});var XA=j((SLn,GWe)=>{"use strict";d();var{constants:{MAX_LENGTH:SLt}}=require("buffer"),{pipeline:uV,PassThrough:kLt}=require("stream"),{promisify:RLt}=require("util"),{createGunzip:BLt,createInflate:DLt,createBrotliDecompress:PLt,constants:{Z_SYNC_FLUSH:WWe}}=require("zlib"),FLt=Lv()("helix-fetch:utils"),NLt=RLt(uV),LLt=o((e,t)=>e===204||e===304||+t["content-length"]==0?!1:/^\s*(?:(x-)?deflate|(x-)?gzip|br)\s*$/.test(t["content-encoding"]),"canDecode"),QLt=o((e,t,r,n)=>{if(!LLt(e,t))return r;let i=o(s=>{s&&(FLt(`encountered error while decoding stream: ${s}`),n(s))},"cb");switch(t["content-encoding"].trim()){case"gzip":case"x-gzip":return uV(r,BLt({flush:WWe,finishFlush:WWe}),i);case"deflate":case"x-deflate":return uV(r,DLt(),i);case"br":return uV(r,PLt(),i);default:return r}},"decodeStream"),MLt=o(e=>{if(!e||typeof e!="object"||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},"isPlainObject"),fV=o((e,t)=>{if(Buffer.isBuffer(e))return e.length;switch(typeof e){case"string":return e.length*2;case"boolean":return 4;case"number":return 8;case"symbol":return Symbol.keyFor(e)?Symbol.keyFor(e).length*2:(e.toString().length-8)*2;case"object":return Array.isArray(e)?OLt(e,t):ULt(e,t);default:return 0}},"calcSize"),OLt=o((e,t)=>(t.add(e),e.map(r=>t.has(r)?0:fV(r,t)).reduce((r,n)=>r+n,0)),"calcArraySize"),ULt=o((e,t)=>{if(e==null)return 0;t.add(e);let r=0,n=[];for(let i in e)n.push(i);return n.push(...Object.getOwnPropertySymbols(e)),n.forEach(i=>{if(r+=fV(i,t),typeof e[i]=="object"&&e[i]!==null){if(t.has(e[i]))return;t.add(e[i])}r+=fV(e[i],t)}),r},"calcObjectSize"),qLt=o(e=>fV(e,new WeakSet),"sizeof"),WLt=o(async e=>{let t=new kLt,r=0,n=[];return t.on("data",i=>{if(r+i.length>SLt)throw new Error("Buffer.constants.MAX_SIZE exceeded");n.push(i),r+=i.length}),await NLt(e,t),Buffer.concat(n,r)},"streamToBuffer");GWe.exports={decodeStream:QLt,isPlainObject:MLt,sizeof:qLt,streamToBuffer:WLt}});var mV=j((BLn,$We)=>{"use strict";d();var{PassThrough:HWe,Readable:e2}=require("stream"),{types:{isAnyArrayBuffer:VWe}}=require("util"),{FetchError:GLt,FetchBaseError:HLt}=Xue(),{streamToBuffer:jLt}=XA(),VLt=Buffer.alloc(0),im=Symbol("Body internals"),$Lt=o(e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),"toArrayBuffer"),jWe=o(async e=>{if(e[im].disturbed)throw new TypeError("Already read");if(e[im].error)throw new TypeError(`Stream had error: ${e[im].error.message}`);e[im].disturbed=!0;let{stream:t}=e[im];return t===null?VLt:jLt(t)},"consume"),dV=class{static{o(this,"Body")}constructor(t){let r;t==null?r=null:t instanceof URLSearchParams?r=e2.from(t.toString()):t instanceof e2?r=t:Buffer.isBuffer(t)?r=e2.from(t):VWe(t)?r=e2.from(Buffer.from(t)):typeof t=="string"||t instanceof String?r=e2.from(t):r=e2.from(String(t)),this[im]={stream:r,disturbed:!1,error:null},t instanceof e2&&r.on("error",n=>{let i=n instanceof HLt?n:new GLt(`Invalid response body while trying to fetch ${this.url}: ${n.message}`,"system",n);this[im].error=i})}get body(){return this[im].stream}get bodyUsed(){return this[im].disturbed}async buffer(){return jWe(this)}async arrayBuffer(){return $Lt(await this.buffer())}async text(){return(await jWe(this)).toString()}async json(){return JSON.parse(await this.text())}};Object.defineProperties(dV.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});var zLt=o(e=>{if(e[im].disturbed)throw new TypeError("Cannot clone: already read");let{stream:t}=e[im],r=t;if(t instanceof e2){r=new HWe;let n=new HWe;t.pipe(r),t.pipe(n),e[im].stream=n}return r},"cloneStream"),YLt=o(e=>e===null?null:typeof e=="string"?"text/plain; charset=utf-8":e instanceof URLSearchParams?"application/x-www-form-urlencoded; charset=utf-8":Buffer.isBuffer(e)||VWe(e)||e instanceof e2?null:"text/plain; charset=utf-8","guessContentType");$We.exports={Body:dV,cloneStream:zLt,guessContentType:YLt}});var V9=j((FLn,JWe)=>{"use strict";d();var{validateHeaderName:zWe,validateHeaderValue:YWe}=require("http"),{isPlainObject:KLt}=XA(),t2=Symbol("Headers internals"),RR=o(e=>{let t=typeof e!="string"?String(e):e;if(typeof zWe=="function")zWe(t);else if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(t)){let r=new TypeError(`Header name must be a valid HTTP token [${t}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}return t.toLowerCase()},"normalizeName"),KWe=o((e,t)=>{let r=typeof e!="string"?String(e):e;if(typeof YWe=="function")YWe(t,r);else if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let n=new TypeError(`Invalid character in header content ["${t}"]`);throw Object.defineProperty(n,"code",{value:"ERR_INVALID_CHAR"}),n}return r},"normalizeValue"),hV=class e{static{o(this,"Headers")}constructor(t={}){if(this[t2]={map:new Map},t instanceof e)t.forEach((r,n)=>{this.append(n,r)});else if(Array.isArray(t))t.forEach(([r,n])=>{this.append(r,n)});else if(KLt(t))for(let[r,n]of Object.entries(t))this.append(r,n)}set(t,r){this[t2].map.set(RR(t),KWe(r,t))}has(t){return this[t2].map.has(RR(t))}get(t){let r=this[t2].map.get(RR(t));return r===void 0?null:r}append(t,r){let n=RR(t),i=KWe(r,t),s=this[t2].map.get(n);this[t2].map.set(n,s?`${s}, ${i}`:i)}delete(t){this[t2].map.delete(RR(t))}forEach(t,r){for(let n of this.keys())t.call(r,this.get(n),n)}keys(){return Array.from(this[t2].map.keys()).sort()}*values(){for(let t of this.keys())yield this.get(t)}*entries(){for(let t of this.keys())yield[t,this.get(t)]}[Symbol.iterator](){return this.entries()}get[Symbol.toStringTag](){return this.constructor.name}plain(){return Object.fromEntries(this[t2].map)}};Object.defineProperties(hV.prototype,["append","delete","entries","forEach","get","has","keys","set","values"].reduce((e,t)=>(e[t]={enumerable:!0},e),{}));JWe.exports={Headers:hV}});var efe=j((QLn,ZWe)=>{"use strict";d();var{EventEmitter:JLt}=require("events"),Oh=Symbol("AbortSignal internals"),$9=class{static{o(this,"AbortSignal")}constructor(){this[Oh]={eventEmitter:new JLt,onabort:null,aborted:!1}}get aborted(){return this[Oh].aborted}get onabort(){return this[Oh].onabort}set onabort(t){this[Oh].onabort=t}get[Symbol.toStringTag](){return this.constructor.name}removeEventListener(t,r){this[Oh].eventEmitter.removeListener(t,r)}addEventListener(t,r){this[Oh].eventEmitter.on(t,r)}dispatchEvent(t){let r={type:t,target:this},n=`on${t}`;typeof this[Oh][n]=="function"&&this[n](r),this[Oh].eventEmitter.emit(t,r)}fire(){this[Oh].aborted=!0,this.dispatchEvent("abort")}};Object.defineProperties($9.prototype,{addEventListener:{enumerable:!0},removeEventListener:{enumerable:!0},dispatchEvent:{enumerable:!0},aborted:{enumerable:!0},onabort:{enumerable:!0}});var gV=class extends $9{static{o(this,"TimeoutSignal")}constructor(t){if(!Number.isInteger(t))throw new TypeError(`Expected an integer, got ${typeof t}`);super(),this[Oh].timerId=setTimeout(()=>{this.fire()},t)}clear(){clearTimeout(this[Oh].timerId)}};Object.defineProperties(gV.prototype,{clear:{enumerable:!0}});var pV=Symbol("AbortController internals"),AV=class{static{o(this,"AbortController")}constructor(){this[pV]={signal:new $9}}get signal(){return this[pV].signal}get[Symbol.toStringTag](){return this.constructor.name}abort(){this[pV].signal.aborted||this[pV].signal.fire()}};Object.defineProperties(AV.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});ZWe.exports={AbortController:AV,AbortSignal:$9,TimeoutSignal:gV}});var BR=j((ULn,tGe)=>{"use strict";d();var{randomBytes:ZLt}=require("crypto"),{Readable:XLt}=require("stream"),rfe=o(e=>typeof e=="object"&&["arrayBuffer","stream","text","slice","constructor"].map(t=>typeof e[t]).filter(t=>t!=="function").length===0&&typeof e.type=="string"&&typeof e.size=="number"&&/^(Blob|File)$/.test(e[Symbol.toStringTag]),"isBlob"),eQt=o(e=>e!=null&&typeof e=="object"&&["append","delete","get","getAll","has","set","keys","values","entries","constructor"].map(t=>typeof e[t]).filter(t=>t!=="function").length===0&&e[Symbol.toStringTag]==="FormData","isFormData"),XWe=o(e=>`--${e}--\r
\r
`,"getFooter"),eGe=o((e,t,r)=>{let n="";return n+=`--${e}\r
`,n+=`Content-Disposition: form-data; name="${t}"`,rfe(r)&&(n+=`; filename="${r.name}"\r
`,n+=`Content-Type: ${r.type||"application/octet-stream"}`),`${n}\r
\r
`},"getHeader");async function*tQt(e,t){for(let[r,n]of e)yield eGe(t,r,n),rfe(n)?yield*n.stream():yield n,yield`\r
`;yield XWe(t)}o(tQt,"formDataIterator");var rQt=o((e,t)=>{let r=0;for(let[n,i]of e)r+=Buffer.byteLength(eGe(t,n,i)),r+=rfe(i)?i.size:Buffer.byteLength(String(i)),r+=Buffer.byteLength(`\r
`);return r+=Buffer.byteLength(XWe(t)),r},"getFormDataLength"),tfe=class{static{o(this,"FormDataSerializer")}constructor(t){this.fd=t,this.boundary=ZLt(8).toString("hex")}length(){return typeof this._length>"u"&&(this._length=rQt(this.fd,this.boundary)),this._length}contentType(){return`multipart/form-data; boundary=${this.boundary}`}stream(){return XLt.from(tQt(this.fd,this.boundary))}};tGe.exports={isFormData:eQt,FormDataSerializer:tfe}});var nGe=j((GLn,rGe)=>{"use strict";d();var{AbortSignal:nQt}=efe(),{Body:iQt,cloneStream:oQt,guessContentType:sQt}=mV(),{Headers:aQt}=V9(),{isPlainObject:lQt}=XA(),{isFormData:cQt,FormDataSerializer:uQt}=BR(),fQt=20,WC=Symbol("Request internals"),yV=class e extends iQt{static{o(this,"Request")}constructor(t,r={}){let n=t instanceof e?t:null,i=n?new URL(n.url):new URL(t),s=r.method||n&&n.method||"GET";if(s=s.toUpperCase(),(r.body!=null||n&&n.body!==null)&&["GET","HEAD"].includes(s))throw new TypeError("Request with GET/HEAD method cannot have body");let a=r.body||(n&&n.body?oQt(n):null),l=new aQt(r.headers||n&&n.headers||{});if(cQt(a)&&!l.has("content-type")){let m=new uQt(a);a=m.stream(),l.set("content-type",m.contentType()),!l.has("transfer-encoding")&&!l.has("content-length")&&l.set("content-length",m.length())}if(!l.has("content-type"))if(lQt(a))a=JSON.stringify(a),l.set("content-type","application/json");else{let m=sQt(a);m&&l.set("content-type",m)}super(a);let c=n?n.signal:null;if("signal"in r&&(c=r.signal),c&&!(c instanceof nQt))throw new TypeError("signal needs to be an instance of AbortSignal");let u=r.redirect||n&&n.redirect||"follow";if(!["follow","error","manual"].includes(u))throw new TypeError(`'${u}' is not a valid redirect option`);let f=r.cache||n&&n.cache||"default";if(!["default","no-store","reload","no-cache","force-cache","only-if-cached"].includes(f))throw new TypeError(`'${f}' is not a valid cache option`);this[WC]={init:{...r},method:s,redirect:u,cache:f,headers:l,parsedURL:i,signal:c},r.follow===void 0?!n||n.follow===void 0?this.follow=fQt:this.follow=n.follow:this.follow=r.follow,this.counter=r.counter||n&&n.counter||0,r.compress===void 0?!n||n.compress===void 0?this.compress=!0:this.compress=n.compress:this.compress=r.compress,r.decode===void 0?!n||n.decode===void 0?this.decode=!0:this.decode=n.decode:this.decode=r.decode}get method(){return this[WC].method}get url(){return this[WC].parsedURL.toString()}get headers(){return this[WC].headers}get redirect(){return this[WC].redirect}get cache(){return this[WC].cache}get signal(){return this[WC].signal}clone(){return new e(this)}get init(){return this[WC].init}get[Symbol.toStringTag](){return this.constructor.name}};Object.defineProperties(yV.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},cache:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}});rGe.exports={Request:yV}});var nfe=j((VLn,iGe)=>{"use strict";d();var{Body:dQt,cloneStream:mQt,guessContentType:hQt}=mV(),{Headers:pQt}=V9(),{isPlainObject:gQt}=XA(),{isFormData:AQt,FormDataSerializer:yQt}=BR(),Uh=Symbol("Response internals"),CV=class e extends dQt{static{o(this,"Response")}constructor(t=null,r={}){let n=new pQt(r.headers),i=t;if(AQt(i)&&!n.has("content-type")){let s=new yQt(i);i=s.stream(),n.set("content-type",s.contentType()),!n.has("transfer-encoding")&&!n.has("content-length")&&n.set("content-length",s.length())}if(i!==null&&!n.has("content-type"))if(gQt(i))i=JSON.stringify(i),n.set("content-type","application/json");else{let s=hQt(i);s&&n.set("content-type",s)}super(i),this[Uh]={url:r.url,status:r.status||200,statusText:r.statusText||"",headers:n,httpVersion:r.httpVersion,decoded:r.decoded,counter:r.counter}}get url(){return this[Uh].url||""}get status(){return this[Uh].status}get statusText(){return this[Uh].statusText}get ok(){return this[Uh].status>=200&&this[Uh].status<300}get redirected(){return this[Uh].counter>0}get headers(){return this[Uh].headers}get httpVersion(){return this[Uh].httpVersion}get decoded(){return this[Uh].decoded}static redirect(t,r=302){if(![301,302,303,307,308].includes(r))throw new RangeError("Invalid status code");return new e(null,{headers:{location:new URL(t).toString()},status:r})}clone(){if(this.bodyUsed)throw new TypeError("Cannot clone: already read");return new e(mQt(this),{...this[Uh]})}get[Symbol.toStringTag](){return this.constructor.name}};Object.defineProperties(CV.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});iGe.exports={Response:CV}});var sGe=j((KLn,oGe)=>{"use strict";d();var CQt=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),xQt=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),vQt=new Set([500,502,503,504]),bQt={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},EQt={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function Mv(e){let t=parseInt(e,10);return isFinite(t)?t:0}o(Mv,"toNumberOrZero");function IQt(e){return e?vQt.has(e.status):!0}o(IQt,"isErrorResponse");function ife(e){let t={};if(!e)return t;let r=e.trim().split(/,/);for(let n of r){let[i,s]=n.split(/=/,2);t[i.trim()]=s===void 0?!0:s.trim().replace(/^"|"$/g,"")}return t}o(ife,"parseCacheControl");function TQt(e){let t=[];for(let r in e){let n=e[r];t.push(n===!0?r:r+"="+n)}if(t.length)return t.join(", ")}o(TQt,"formatCacheControl");oGe.exports=class{static{o(this,"CachePolicy")}constructor(t,r,{shared:n,cacheHeuristic:i,immutableMinTimeToLive:s,ignoreCargoCult:a,_fromObject:l}={}){if(l){this._fromObject(l);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(t),this._responseTime=this.now(),this._isShared=n!==!1,this._cacheHeuristic=i!==void 0?i:.1,this._immutableMinTtl=s!==void 0?s:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=ife(r.headers["cache-control"]),this._method="method"in t?t.method:"GET",this._url=t.url,this._host=t.headers.host,this._noAuthorization=!t.headers.authorization,this._reqHeaders=r.headers.vary?t.headers:null,this._reqcc=ife(t.headers["cache-control"]),a&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":TQt(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&xQt.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||CQt.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(t){if(!t||!t.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(t){this._assertRequestHasHeaders(t);let r=ife(t.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(t.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(t,!1)}_requestMatches(t,r){return(!this._url||this._url===t.url)&&this._host===t.headers.host&&(!t.method||this._method===t.method||r&&t.method==="HEAD")&&this._varyMatches(t)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(t){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let n of r)if(t.headers[n]!==this._reqHeaders[n])return!1;return!0}_copyWithoutHopByHopHeaders(t){let r={};for(let n in t)bQt[n]||(r[n]=t[n]);if(t.connection){let n=t.connection.trim().split(/\s*,\s*/);for(let i of n)delete r[i]}if(r.warning){let n=r.warning.split(/,/).filter(i=>!/^\s*1[0-9][0-9]/.test(i));n.length?r.warning=n.join(",").trim():delete r.warning}return r}responseHeaders(){let t=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(t.warning=(t.warning?`${t.warning}, `:"")+'113 - "rfc7234 5.5.4"'),t.age=`${Math.round(r)}`,t.date=new Date(this.now()).toUTCString(),t}date(){let t=Date.parse(this._resHeaders.date);return isFinite(t)?t:this._responseTime}age(){let t=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return t+r}_ageValue(){return Mv(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return Mv(this._rescc["s-maxage"])}if(this._rescc["max-age"])return Mv(this._rescc["max-age"]);let t=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let n=Date.parse(this._resHeaders.expires);return Number.isNaN(n)||n<r?0:Math.max(t,(n-r)/1e3)}if(this._resHeaders["last-modified"]){let n=Date.parse(this._resHeaders["last-modified"]);if(isFinite(n)&&r>n)return Math.max(t,(r-n)/1e3*this._cacheHeuristic)}return t}timeToLive(){let t=this.maxAge()-this.age(),r=t+Mv(this._rescc["stale-if-error"]),n=t+Mv(this._rescc["stale-while-revalidate"]);return Math.max(0,t,r,n)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+Mv(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+Mv(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(t){return new this(void 0,void 0,{_fromObject:t})}_fromObject(t){if(this._responseTime)throw Error("Reinitialized");if(!t||t.v!==1)throw Error("Invalid serialization");this._responseTime=t.t,this._isShared=t.sh,this._cacheHeuristic=t.ch,this._immutableMinTtl=t.imm!==void 0?t.imm:24*3600*1e3,this._status=t.st,this._resHeaders=t.resh,this._rescc=t.rescc,this._method=t.m,this._url=t.u,this._host=t.h,this._noAuthorization=t.a,this._reqHeaders=t.reqh,this._reqcc=t.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(t){this._assertRequestHasHeaders(t);let r=this._copyWithoutHopByHopHeaders(t.headers);if(delete r["if-range"],!this._requestMatches(t,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let i=r["if-none-match"].split(/,/).filter(s=>!/^\s*W\//.test(s));i.length?r["if-none-match"]=i.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(t,r){if(this._assertRequestHasHeaders(t),this._useStaleIfError()&&IQt(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let n=!1;if(r.status!==void 0&&r.status!=304?n=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?n=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?n=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?n=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(n=!0),!n)return{policy:new this.constructor(t,r),modified:r.status!=304,matches:!1};let i={};for(let a in this._resHeaders)i[a]=a in r.headers&&!EQt[a]?r.headers[a]:this._resHeaders[a];let s=Object.assign({},r,{status:this._status,method:this._method,headers:i});return{policy:new this.constructor(t,s,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}});var uGe=j((XLn,cGe)=>{"use strict";d();var wQt=sGe(),{Headers:_Qt}=V9(),aGe=o(e=>({url:e.url,method:e.method,headers:e.headers.plain()}),"convertRequest"),lGe=o(e=>({status:e.status,headers:e.headers.plain()}),"convertResponse"),ofe=class{static{o(this,"CachePolicyWrapper")}constructor(t,r,n){this.policy=new wQt(aGe(t),lGe(r),n)}storable(){return this.policy.storable()}satisfiesWithoutRevalidation(t){return this.policy.satisfiesWithoutRevalidation(aGe(t))}responseHeaders(t){return new _Qt(this.policy.responseHeaders(lGe(t)))}timeToLive(){return this.policy.timeToLive()}};cGe.exports=ofe});var mGe=j((rQn,dGe)=>{"use strict";d();var{Readable:SQt}=require("stream"),{Headers:fGe}=V9(),{Response:kQt}=nfe(),GC=Symbol("CacheableResponse internals"),RQt=o(e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),"toArrayBuffer"),sfe=class e extends kQt{static{o(this,"CacheableResponse")}constructor(t,r){super(t,r);let n=new fGe(r.headers);this[GC]={headers:n,bufferedBody:t}}get headers(){return this[GC].headers}set headers(t){if(t instanceof fGe)this[GC].headers=t;else throw new TypeError("instance of Headers expected")}get body(){return SQt.from(this[GC].bufferedBody)}get bodyUsed(){return!1}async buffer(){return this[GC].bufferedBody}async arrayBuffer(){return RQt(this[GC].bufferedBody)}async text(){return this[GC].bufferedBody.toString()}async json(){return JSON.parse(await this.text())}clone(){let{url:t,status:r,statusText:n,headers:i,httpVersion:s,decoded:a,counter:l}=this;return new e(this[GC].bufferedBody,{url:t,status:r,statusText:n,headers:i,httpVersion:s,decoded:a,counter:l})}get[Symbol.toStringTag](){return this.constructor.name}},BQt=o(async e=>{let t=await e.buffer(),{url:r,status:n,statusText:i,headers:s,httpVersion:a,decoded:l,counter:c}=e;return new sfe(t,{url:r,status:n,statusText:i,headers:s,httpVersion:a,decoded:l,counter:c})},"cacheableResponse");dGe.exports={cacheableResponse:BQt}});var xV=j((oQn,hGe)=>{"use strict";d();var afe=class extends Error{static{o(this,"RequestAbortedError")}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};hGe.exports={RequestAbortedError:afe}});var CGe=j((lQn,yGe)=>{"use strict";d();var gGe=require("http"),AGe=require("https"),{Readable:DQt}=require("stream"),r2=Lv()("helix-fetch:h1"),{RequestAbortedError:pGe}=xV(),{decodeStream:PQt}=XA(),FQt=o((e,t)=>{let{h1:r,options:{h1:n,rejectUnauthorized:i}}=e;return t==="https:"?r.httpsAgent?r.httpsAgent:n||typeof i=="boolean"?(r.httpsAgent=new AGe.Agent(typeof i=="boolean"?{...n||{},rejectUnauthorized:i}:n),r.httpsAgent):void 0:r.httpAgent?r.httpAgent:n?(r.httpAgent=new gGe.Agent(n),r.httpAgent):void 0},"getAgent"),NQt=o(e=>{e.h1={}},"setupContext"),LQt=o(async({h1:e})=>{e.httpAgent&&(r2("resetContext: destroying httpAgent"),e.httpAgent.destroy(),delete e.httpAgent),e.httpsAgent&&(r2("resetContext: destroying httpsAgent"),e.httpsAgent.destroy(),delete e.httpsAgent)},"resetContext"),QQt=o((e,t,r)=>{let{statusCode:n,statusMessage:i,httpVersion:s,httpVersionMajor:a,httpVersionMinor:l,headers:c}=e,u=t?PQt(n,c,e,r):e;return{statusCode:n,statusText:i,httpVersion:s,httpVersionMajor:a,httpVersionMinor:l,headers:c,readable:u,decoded:!!(t&&u!==e)}},"createResponse"),MQt=o(async(e,t,r)=>{let{request:n}=t.protocol==="https:"?AGe:gGe,i=FQt(e,t.protocol),s={...r,agent:i},{socket:a,body:l}=s;return a&&(delete s.socket,a.assigned||(a.assigned=!0,i?s.agent=new Proxy(i,{get:o((c,u)=>u==="createConnection"&&!a.inUse?(f,m)=>{r2(`agent reusing socket #${a.id} (${a.servername})`),a.inUse=!0,m(null,a)}:c[u],"get")}):s.createConnection=(c,u)=>{r2(`reusing socket #${a.id} (${a.servername})`),a.inUse=!0,u(null,a)})),new Promise((c,u)=>{r2(`${s.method} ${t.href}`);let f,{signal:m}=s,h=o(()=>{m.removeEventListener("abort",h),a&&!a.inUse&&(r2(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),u(new pGe),f&&f.abort()},"onAbortSignal");if(m){if(m.aborted){u(new pGe);return}m.addEventListener("abort",h)}f=n(t,s),f.once("response",p=>{m&&m.removeEventListener("abort",h),a&&!a.inUse&&(r2(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),c(QQt(p,s.decode,u))}),f.once("error",p=>{m&&m.removeEventListener("abort",h),a&&!a.inUse&&(r2(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),f.aborted||(r2(`${s.method} ${t.href} failed with: ${p.message}`),f.abort(),u(p))}),l instanceof DQt?l.pipe(f):(l&&f.write(l),f.end())})},"h1Request");yGe.exports={request:MQt,setupContext:NQt,resetContext:LQt}});var EGe=j((fQn,bGe)=>{"use strict";d();var{connect:OQt,constants:UQt}=require("http2"),{Readable:qQt}=require("stream"),Es=Lv()("helix-fetch:h2"),{RequestAbortedError:xGe}=xV(),{decodeStream:WQt}=XA(),{NGHTTP2_CANCEL:DR}=UQt,GQt=5*60*1e3,HQt=5e3,jQt=o(e=>{e.h2={sessionCache:{}}},"setupContext"),VQt=o(async({h2:e})=>Promise.all(Object.values(e.sessionCache).map(t=>new Promise(r=>{t.on("close",r),Es(`resetContext: destroying session (socket #${t.socket&&t.socket.id}, ${t.socket&&t.socket.servername})`),t.destroy()}))),"resetContext"),vGe=o((e,t,r,n=()=>{})=>{let i={...e},s=i[":status"];delete i[":status"];let a=r?WQt(s,e,t,n):t;return{statusCode:s,statusText:"",httpVersion:"2.0",httpVersionMajor:2,httpVersionMinor:0,headers:i,readable:a,decoded:!!(r&&a!==t)}},"createResponse"),$Qt=o((e,t,r,n,i,s)=>{let{options:{h2:{pushPromiseHandler:a,pushHandler:l,pushedStreamIdleTimeout:c=HQt}}}=e,u=i[":path"],f=`${t}${u}`;Es(`received PUSH_PROMISE: ${f}, stream #${n.id}, headers: ${JSON.stringify(i)}, flags: ${s}`),a&&a(f,i,o(()=>{n.close(DR)},"rejectPush")),n.on("push",(m,h)=>{Es(`received push headers for ${t}${u}, stream #${n.id}, headers: ${JSON.stringify(m)}, flags: ${h}`),n.setTimeout(c,()=>{Es(`closing pushed stream #${n.id} after ${c} ms of inactivity`),n.close(DR)}),l&&l(f,i,vGe(m,n,r))}),n.on("aborted",()=>{Es(`pushed stream #${n.id} aborted`)}),n.on("error",m=>{Es(`pushed stream #${n.id} encountered error: ${m}`)}),n.on("frameError",(m,h,p)=>{Es(`pushed stream #${n.id} encountered frameError: type: ${m}, code: ${h}, id: ${p}`)})},"handlePush"),zQt=o(async(e,t,r)=>{let{origin:n,pathname:i,search:s,hash:a}=t,l=`${i}${s}${a}`,{options:{h2:c={}},h2:{sessionCache:u}}=e,{idleSessionTimeout:f=GQt,pushPromiseHandler:m,pushHandler:h}=c,p={...r},{method:g,headers:x,socket:v,body:E,decode:b}=p;return v&&delete p.socket,x.host&&(x[":authority"]=x.host,delete x.host),new Promise((_,R)=>{let P=u[n];if(!P||P.closed||P.destroyed){let re=!(e.options.rejectUnauthorized===!1||c.rejectUnauthorized===!1),W={...c,rejectUnauthorized:re};v&&!v.inUse&&(W.createConnection=()=>(Es(`reusing socket #${v.id} (${v.servername})`),v.inUse=!0,v)),P=OQt(n,{...W,settings:{enablePush:!!(m||h)}}),P.setMaxListeners(1e3),P.setTimeout(f,()=>{Es(`closing session ${n} after ${f} ms of inactivity`),P.close()}),P.once("connect",()=>{Es(`session ${n} established`),Es(`caching session ${n}`),u[n]=P}),P.on("localSettings",oe=>{Es(`session ${n} localSettings: ${JSON.stringify(oe)}`)}),P.on("remoteSettings",oe=>{Es(`session ${n} remoteSettings: ${JSON.stringify(oe)}`)}),P.once("close",()=>{Es(`session ${n} closed`),u[n]===P&&(Es(`discarding cached session ${n}`),delete u[n])}),P.once("error",oe=>{Es(`session ${n} encountered error: ${oe}`),u[n]===P&&(Es(`discarding cached session ${n}`),delete u[n])}),P.on("frameError",(oe,X,H)=>{Es(`session ${n} encountered frameError: type: ${oe}, code: ${X}, id: ${H}`)}),P.once("goaway",(oe,X,H)=>{Es(`session ${n} received GOAWAY frame: errorCode: ${oe}, lastStreamID: ${X}, opaqueData: ${H?H.toString():void 0}`)}),P.on("stream",(oe,X,H)=>{$Qt(e,n,b,oe,X,H)})}else v&&v.id!==P.socket.id&&!v.inUse&&(Es(`discarding redundant socket used for ALPN: #${v.id} ${v.servername}`),v.destroy());Es(`${g} ${t.host}${l}`);let F,{signal:G}=p,se=o(()=>{G.removeEventListener("abort",se),R(new xGe),F&&F.close(DR)},"onAbortSignal");if(G){if(G.aborted){R(new xGe);return}G.addEventListener("abort",se)}let Ae=o(re=>{Es(`session ${n} encountered error during ${p.method} ${t.href}: ${re}`),R(re)},"onSessionError");P.once("error",Ae),F=P.request({":method":g,":path":l,...x}),F.once("response",re=>{P.off("error",Ae),G&&G.removeEventListener("abort",se),_(vGe(re,F,p.decode,R))}),F.once("error",re=>{P.off("error",Ae),G&&G.removeEventListener("abort",se),F.rstCode!==DR&&(Es(`${p.method} ${t.href} failed with: ${re.message}`),F.close(DR),R(re))}),F.once("frameError",(re,W,q)=>{P.off("error",Ae),Es(`encountered frameError during ${p.method} ${t.href}: type: ${re}, code: ${W}, id: ${q}`)}),F.on("push",(re,W)=>{Es(`received 'push' event: headers: ${JSON.stringify(re)}, flags: ${W}`)}),E instanceof qQt?E.pipe(F):(E&&F.write(E),F.end())})},"request");bGe.exports={request:zQt,setupContext:jQt,resetContext:VQt}});var TGe=j((hQn,IGe)=>{"use strict";d();var{EventEmitter:YQt}=require("events"),KQt=o(()=>{let e={},t=new YQt;return t.setMaxListeners(0),{acquire:o(r=>new Promise(n=>{if(!e[r]){e[r]=!0,n();return}let i=o(s=>{e[r]||(e[r]=!0,t.removeListener(r,i),n(s))},"tryAcquire");t.on(r,i)}),"acquire"),release:o((r,n)=>{Reflect.deleteProperty(e,r),setImmediate(()=>t.emit(r,n))},"release")}},"lock");IGe.exports=KQt});var wGe=j((AQn,JQt)=>{JQt.exports={name:"@adobe/helix-fetch",version:"3.1.1",description:"Light-weight Fetch implementation transparently supporting both HTTP/1(.1) and HTTP/2",main:"src/index.js",scripts:{test:"nyc mocha",lint:"./node_modules/.bin/eslint .","semantic-release":"semantic-release"},mocha:{timeout:"5000",recursive:"true",reporter:"mocha-multi-reporters","reporter-options":"configFile=.mocha-multi.json"},engines:{node:">=12.0"},types:"src/index.d.ts",exports:{import:"./src/index.mjs",require:"./src/index.js"},repository:{type:"git",url:"https://github.com/adobe/helix-fetch"},author:"",license:"Apache-2.0",bugs:{url:"https://github.com/adobe/helix-fetch/issues"},homepage:"https://github.com/adobe/helix-fetch#readme",keywords:["fetch","whatwg","Fetch API","http","https","http2","h2","promise","async","request","RFC 7234","7234","caching","cache"],dependencies:{debug:"4.3.4","http-cache-semantics":"^4.1.1","lru-cache":"7.13.1"},devDependencies:{"@adobe/eslint-config-helix":"1.3.2","@semantic-release/changelog":"6.0.1","@semantic-release/git":"10.0.1",chai:"4.3.6","chai-as-promised":"7.1.1","chai-bytes":"0.1.2","chai-iterator":"3.0.2",eslint:"8.21.0","eslint-plugin-header":"3.1.1","eslint-plugin-import":"2.26.0","formdata-node":"4.3.3","lint-staged":"13.0.3",mocha:"10.0.0","mocha-multi-reporters":"1.5.1",nock:"13.2.9",nyc:"15.1.0","parse-cache-control":"1.0.1",pem:"1.14.6",proxy:"^1.0.2","semantic-release":"19.0.3",sinon:"14.0.0","stream-buffers":"3.0.2",tunnel:"^0.0.6"},"lint-staged":{"*.js":"eslint"},config:{commitizen:{path:"node_modules/cz-conventional-changelog"},ghooks:{"pre-commit":"npx lint-staged"}}}});var BGe=j((yQn,RGe)=>{"use strict";d();var{Readable:ZQt}=require("stream"),XQt=require("tls"),{types:{isAnyArrayBuffer:eMt}}=require("util"),tMt=Kue(),lfe=Lv()("helix-fetch:core"),{RequestAbortedError:vV}=xV(),cfe=CGe(),bV=EGe(),rMt=TGe(),{isPlainObject:nMt}=XA(),{isFormData:iMt,FormDataSerializer:oMt}=BR(),{version:sMt}=wGe(),ufe="h2",ffe="h2c",dfe="http/1.0",Ov="http/1.1",aMt=100,lMt=60*60*1e3,cMt=[ufe,Ov,dfe],uMt=`helix-fetch/${sMt}`,fMt={method:"GET",compress:!0,decode:!0},_Ge=0,SGe=rMt(),kGe=o((e,t)=>new Promise((r,n)=>{let{signal:i}=t,s,a=o(()=>{i.removeEventListener("abort",a);let u=new vV;n(u),s&&s.destroy(u)},"onAbortSignal");if(i){if(i.aborted){n(new vV);return}i.addEventListener("abort",a)}let l=+e.port||443,c=o(u=>{i&&i.removeEventListener("abort",a),u instanceof vV||(lfe(`connecting to ${e.hostname}:${l} failed with: ${u.message}`),n(u))},"onError");s=XQt.connect(l,e.hostname,t),s.once("secureConnect",()=>{i&&i.removeEventListener("abort",a),s.off("error",c),_Ge+=1,s.id=_Ge,s.secureConnecting=!1,lfe(`established TLS connection: #${s.id} (${s.servername})`),r(s)}),s.once("error",c)}),"connectTLS"),dMt=o(async(e,t)=>{let r=await SGe.acquire(e.origin);try{return r||(r=await kGe(e,t)),r}finally{SGe.release(e.origin,r)}},"connect"),mMt=o(async(e,t,r)=>{let n=`${t.protocol}//${t.host}`,i=e.alpnCache.get(n);if(i)return{protocol:i};switch(t.protocol){case"http:":return i=Ov,e.alpnCache.set(n,i),{protocol:i};case"http2:":return i=ffe,e.alpnCache.set(n,i),{protocol:i};case"https:":break;default:throw new TypeError(`unsupported protocol: ${t.protocol}`)}let{options:{rejectUnauthorized:s,h1:a={},h2:l={}}}=e,c=!(s===!1||a.rejectUnauthorized===!1||l.rejectUnauthorized===!1),u={servername:t.hostname,ALPNProtocols:e.alpnProtocols,signal:r,rejectUnauthorized:c};e.options.ca&&(u.ca=e.options.ca);let f=await dMt(t,u);return i=f.alpnProtocol,i||(i=Ov),e.alpnCache.set(n,i),{protocol:i,socket:f}},"determineProtocol"),hMt=o(e=>{let t={};return Object.keys(e).forEach(r=>{t[r.toLowerCase()]=e[r]}),t},"sanitizeHeaders"),pMt=o(async(e,t,r,n)=>{let i=t.protocol==="https:",s;t.port?s=t.port:i?s=443:s=80;let a={...r,host:t.host,hostname:t.hostname,port:s},l=await e(a);if(i){let u={...a,ALPNProtocols:n};u.socket=l,u.servername=a.host;let f=await kGe(t,u);return{protocol:f.alpnProtocol||Ov,socket:f}}return{protocol:l.alpnProtocol||Ov,socket:l}},"getProtocolAndSocketFromFactory"),gMt=o(async(e,t,r)=>{let n=new URL(t),i={...fMt,...r||{}};typeof i.method=="string"&&(i.method=i.method.toUpperCase()),i.headers=hMt(i.headers||{}),i.headers.host===void 0&&(i.headers.host=n.host),e.userAgent&&i.headers["user-agent"]===void 0&&(i.headers["user-agent"]=e.userAgent);let s;if(i.body instanceof URLSearchParams)s="application/x-www-form-urlencoded; charset=utf-8",i.body=i.body.toString();else if(iMt(i.body)){let u=new oMt(i.body);s=u.contentType(),i.body=u.stream(),i.headers["transfer-encoding"]===void 0&&i.headers["content-length"]===void 0&&(i.headers["content-length"]=String(u.length()))}else typeof i.body=="string"||i.body instanceof String?s="text/plain; charset=utf-8":nMt(i.body)?(i.body=JSON.stringify(i.body),s="application/json"):eMt(i.body)&&(i.body=Buffer.from(i.body));i.headers["content-type"]===void 0&&s!==void 0&&(i.headers["content-type"]=s),i.body!=null&&(i.body instanceof ZQt||(!(typeof i.body=="string"||i.body instanceof String)&&!Buffer.isBuffer(i.body)&&(i.body=String(i.body)),i.headers["transfer-encoding"]===void 0&&i.headers["content-length"]===void 0&&(i.headers["content-length"]=String(Buffer.isBuffer(i.body)?i.body.length:Buffer.byteLength(i.body,"utf-8"))))),i.headers.accept===void 0&&(i.headers.accept="*/*"),i.body==null&&["POST","PUT"].includes(i.method)&&(i.headers["content-length"]="0"),i.compress&&i.headers["accept-encoding"]===void 0&&(i.headers["accept-encoding"]="gzip,deflate,br");let{signal:a}=i,{protocol:l,socket:c=null}=e.socketFactory?await pMt(e.socketFactory,n,i,e.alpnProtocols):await mMt(e,n,a);switch(lfe(`${n.host} -> ${l}`),l){case ufe:try{return await bV.request(e,n,c?{...i,socket:c}:i)}catch(u){let{code:f,message:m}=u;throw f==="ERR_HTTP2_ERROR"&&m==="Protocol error"&&e.alpnCache.delete(`${n.protocol}//${n.host}`),u}case ffe:return bV.request(e,new URL(`http://${n.host}${n.pathname}${n.hash}${n.search}`),c?{...i,socket:c}:i);case dfe:case Ov:return cfe.request(e,n,c?{...i,socket:c}:i);default:throw new TypeError(`unsupported protocol: ${l}`)}},"request"),AMt=o(async e=>(e.alpnCache.clear(),Promise.all([cfe.resetContext(e),bV.resetContext(e)])),"resetContext"),yMt=o(e=>{let{options:{alpnProtocols:t=cMt,alpnCacheTTL:r=lMt,alpnCacheSize:n=aMt,userAgent:i=uMt,socketFactory:s}}=e;e.alpnProtocols=t,e.alpnCache=new tMt({max:n,ttl:r}),e.userAgent=i,e.socketFactory=s,cfe.setupContext(e),bV.setupContext(e)},"setupContext");RGe.exports={request:gMt,setupContext:yMt,resetContext:AMt,RequestAbortedError:vV,ALPN_HTTP2:ufe,ALPN_HTTP2C:ffe,ALPN_HTTP1_1:Ov,ALPN_HTTP1_0:dfe}});var PGe=j((vQn,DGe)=>{"use strict";d();var CMt=Lv()("helix-fetch:core"),{request:xMt,setupContext:vMt,resetContext:bMt,RequestAbortedError:EMt,ALPN_HTTP2:IMt,ALPN_HTTP2C:TMt,ALPN_HTTP1_1:wMt,ALPN_HTTP1_0:_Mt}=BGe(),mfe=class e{static{o(this,"RequestContext")}constructor(t){this.options={...t||{}},vMt(this)}api(){return{request:o(async(t,r)=>this.request(t,r),"request"),context:o((t={})=>new e(t).api(),"context"),setCA:o(t=>this.setCA(t),"setCA"),reset:o(async()=>this.reset(),"reset"),RequestAbortedError:EMt,ALPN_HTTP2:IMt,ALPN_HTTP2C:TMt,ALPN_HTTP1_1:wMt,ALPN_HTTP1_0:_Mt}}async request(t,r){return xMt(this,t,r)}setCA(t){this.options.ca=t}async reset(){return CMt("resetting context"),bMt(this)}};DGe.exports=new mfe().api()});var MGe=j((IQn,QGe)=>{"use strict";d();var{EventEmitter:SMt}=require("events"),{Readable:PR}=require("stream"),hfe=Lv()("helix-fetch"),kMt=Kue(),{Body:RMt}=mV(),{Headers:yfe}=V9(),{Request:Uv}=nGe(),{Response:gfe}=nfe(),{FetchBaseError:BMt,FetchError:FR,AbortError:EV}=Xue(),{AbortController:DMt,AbortSignal:PMt,TimeoutSignal:FMt}=efe(),NMt=uGe(),{cacheableResponse:LMt}=mGe(),{sizeof:QMt}=XA(),{isFormData:MMt}=BR(),{context:OMt,RequestAbortedError:UMt}=PGe(),FGe=["GET","HEAD"],qMt=500,WMt=100*1024*1024,pfe="push",NGe=o(async(e,t,r)=>{let{request:n}=e.context,i=t instanceof Uv&&typeof r>"u"?t:new Uv(t,r),{method:s,body:a,signal:l,compress:c,decode:u,follow:f,redirect:m,init:{body:h}}=i,p;if(l&&l.aborted){let P=new EV("The operation was aborted.");throw i.init.body instanceof PR&&i.init.body.destroy(P),P}try{p=await n(i.url,{...r,method:s,headers:i.headers.plain(),body:h&&!(h instanceof PR)&&!MMt(h)?h:a,compress:c,decode:u,follow:f,redirect:m,signal:l})}catch(P){throw h instanceof PR&&h.destroy(P),P instanceof TypeError?P:P instanceof UMt?new EV("The operation was aborted."):new FR(P.message,"system",P)}let g=o(()=>{l.removeEventListener("abort",g);let P=new EV("The operation was aborted.");i.init.body instanceof PR&&i.init.body.destroy(P),p.readable.emit("error",P)},"abortHandler");l&&l.addEventListener("abort",g);let{statusCode:x,statusText:v,httpVersion:E,headers:b,readable:_,decoded:R}=p;if([301,302,303,307,308].includes(x)){let{location:P}=b,F=P==null?null:new URL(P,i.url);switch(i.redirect){case"manual":break;case"error":throw l&&l.removeEventListener("abort",g),new FR(`uri requested responds with a redirect, redirect mode is set to 'error': ${i.url}`,"no-redirect");case"follow":{if(F===null)break;if(i.counter>=i.follow)throw l&&l.removeEventListener("abort",g),new FR(`maximum redirect reached at: ${i.url}`,"max-redirect");let G={headers:new yfe(i.headers),follow:i.follow,compress:i.compress,decode:i.decode,counter:i.counter+1,method:i.method,body:i.body,signal:i.signal};if(x!==303&&i.body&&i.init.body instanceof PR)throw l&&l.removeEventListener("abort",g),new FR("Cannot follow redirect with body being a readable stream","unsupported-redirect");return(x===303||(x===301||x===302)&&i.method==="POST")&&(G.method="GET",G.body=void 0,G.headers.delete("content-length")),l&&l.removeEventListener("abort",g),NGe(e,new Uv(F,G))}default:}}return l&&(_.once("end",()=>{l.removeEventListener("abort",g)}),_.once("error",()=>{l.removeEventListener("abort",g)})),new gfe(_,{url:i.url,status:x,statusText:v,headers:b,httpVersion:E,decoded:R,counter:i.counter})},"fetch"),LGe=o(async(e,t,r)=>{if(e.options.maxCacheSize===0||!FGe.includes(t.method))return r;let n=new NMt(t,r,{shared:!1});if(n.storable()){let i=await LMt(r);return e.cache.set(t.url,{policy:n,response:i},n.timeToLive()),i}else return r},"cacheResponse"),GMt=o(async(e,t,r)=>{let n=new Uv(t,r);if(e.options.maxCacheSize!==0&&FGe.includes(n.method)&&!["no-store","reload"].includes(n.cache)){let{policy:a,response:l}=e.cache.get(n.url)||{};if(a&&a.satisfiesWithoutRevalidation(n)){l.headers=new yfe(a.responseHeaders(l));let c=l.clone();return c.fromCache=!0,c}}let s=await NGe(e,n);return n.cache!=="no-store"?LGe(e,n,s):s},"cachingFetch"),HMt=o((e,t={})=>{let r=new URL(e);if(typeof t!="object"||Array.isArray(t))throw new TypeError("qs: object expected");return Object.entries(t).forEach(([n,i])=>{Array.isArray(i)?i.forEach(s=>r.searchParams.append(n,s)):r.searchParams.append(n,i)}),r.href},"createUrl"),jMt=o(e=>new FMt(e),"timeoutSignal"),Afe=class e{static{o(this,"FetchContext")}constructor(t){this.options={...t};let{maxCacheSize:r}=this.options,n=typeof r=="number"&&r>=0?r:WMt,i=qMt;n===0&&(n=1,i=1);let s=o(({response:l},c)=>QMt(l),"sizeCalculation");this.cache=new kMt({max:i,maxSize:n,sizeCalculation:s}),this.eventEmitter=new SMt,this.options.h2=this.options.h2||{},typeof this.options.h2.enablePush>"u"&&(this.options.h2.enablePush=!0);let{enablePush:a}=this.options.h2;a&&(this.options.h2.pushPromiseHandler=(l,c,u)=>{let f={...c};Object.keys(f).filter(m=>m.startsWith(":")).forEach(m=>delete f[m]),this.pushPromiseHandler(l,f,u)},this.options.h2.pushHandler=(l,c,u)=>{let f={...c};Object.keys(f).filter(E=>E.startsWith(":")).forEach(E=>delete f[E]);let{statusCode:m,statusText:h,httpVersion:p,headers:g,readable:x,decoded:v}=u;this.pushHandler(l,f,new gfe(x,{url:l,status:m,statusText:h,headers:g,httpVersion:p,decoded:v}))}),this.context=OMt(this.options)}api(){return{fetch:o(async(t,r)=>this.fetch(t,r),"fetch"),Body:RMt,Headers:yfe,Request:Uv,Response:gfe,AbortController:DMt,AbortSignal:PMt,FetchBaseError:BMt,FetchError:FR,AbortError:EV,context:o((t={})=>new e(t).api(),"context"),setCA:o(t=>this.setCA(t),"setCA"),noCache:o((t={})=>new e({...t,maxCacheSize:0}).api(),"noCache"),h1:o((t={})=>new e({...t,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),"h1"),keepAlive:o((t={})=>new e({...t,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),"keepAlive"),h1NoCache:o((t={})=>new e({...t,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),"h1NoCache"),keepAliveNoCache:o((t={})=>new e({...t,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),"keepAliveNoCache"),reset:o(async()=>this.context.reset(),"reset"),onPush:o(t=>this.onPush(t),"onPush"),offPush:o(t=>this.offPush(t),"offPush"),createUrl:HMt,timeoutSignal:jMt,clearCache:o(()=>this.clearCache(),"clearCache"),cacheStats:o(()=>this.cacheStats(),"cacheStats"),ALPN_HTTP2:this.context.ALPN_HTTP2,ALPN_HTTP2C:this.context.ALPN_HTTP2C,ALPN_HTTP1_1:this.context.ALPN_HTTP1_1,ALPN_HTTP1_0:this.context.ALPN_HTTP1_0}}async fetch(t,r){return GMt(this,t,r)}setCA(t){this.options.ca=t,this.context.setCA(t)}onPush(t){return this.eventEmitter.on(pfe,t)}offPush(t){return this.eventEmitter.off(pfe,t)}clearCache(){this.cache.clear()}cacheStats(){return{size:this.cache.calculatedSize,count:this.cache.size}}pushPromiseHandler(t,r,n){hfe(`received server push promise: ${t}, headers: ${JSON.stringify(r)}`);let i=new Uv(t,{headers:r}),{policy:s}=this.cache.get(t)||{};s&&s.satisfiesWithoutRevalidation(i)&&(hfe(`already cached, reject push promise: ${t}, headers: ${JSON.stringify(r)}`),n())}async pushHandler(t,r,n){hfe(`caching resource pushed by server: ${t}, reqHeaders: ${JSON.stringify(r)}, status: ${n.status}, respHeaders: ${JSON.stringify(n.headers)}`);let i=await LGe(this,new Uv(t,{headers:r}),n);this.eventEmitter.emit(pfe,t,i)}};QGe.exports=new Afe().api()});var UGe=j((_Qn,OGe)=>{"use strict";d();OGe.exports=MGe()});var yUt={};x1(yUt,{getTokenizer:()=>go,getTokenizerAsync:()=>n3e,main:()=>_je});module.exports=ZVe(yUt);d();d();Ome().install();d();d();var PT="github.copilot";d();d();var vp=class{static{o(this,"Clock")}now(){return new Date}};d();var mP=et(Iy());function xY(e){return(0,mP.SHA256)(mP.enc.Utf16.parse(e.prefix+e.suffix)).toString()}o(xY,"keyForPrompt");var In=class{constructor(t=10){this.valueMap=new Map;this.lruKeys=[];this.sizeLimit=t}static{o(this,"LRUCacheMap")}set(t,r){let n;return this.valueMap.has(t)?n=t:this.lruKeys.length>=this.sizeLimit&&(n=this.lruKeys[0]),n!==void 0&&this.delete(n),this.valueMap.set(t,r),this.touchKeyInLRU(t),this}get(t){if(this.valueMap.has(t)){let r=this.valueMap.get(t);return this.touchKeyInLRU(t),r}}delete(t){return this.has(t)?this.deleteKey(t):!1}clear(){this.valueMap.clear(),this.lruKeys=[]}get size(){return this.valueMap.size}keys(){return this.lruKeys.slice().values()}values(){return new Map(this.valueMap).values()}entries(){return new Map(this.valueMap).entries()}[Symbol.iterator](){return this.entries()}has(t){return this.valueMap.has(t)}forEach(t,r){new Map(this.valueMap).forEach(t,r)}get[Symbol.toStringTag](){return"LRUCacheMap"}peek(t){return this.valueMap.get(t)}deleteKey(t){let r=!1;return this.removeKeyFromLRU(t),this.valueMap.get(t)!==void 0&&(r=this.valueMap.delete(t)),r}removeKeyFromLRU(t){let r=this.lruKeys.indexOf(t);r!==-1&&this.lruKeys.splice(r,1)}touchKeyInLRU(t){this.removeKeyFromLRU(t),this.lruKeys.push(t)}};d();d();d();d();var Ks=class extends Error{static{o(this,"CopilotAuthError")}constructor(t,r){super(t,{cause:r}),this.name="CopilotAuthError"}};d();var Jf="X-Copilot-RelatedPluginVersion-",NT=(O=>(O.Market="X-MSEdge-Market",O.CorpNet="X-FD-Corpnet",O.Build="X-VSCode-Build",O.ApplicationVersion="X-VSCode-AppVersion",O.TargetPopulation="X-VSCode-TargetPopulation",O.ClientId="X-MSEdge-ClientId",O.ExtensionName="X-VSCode-ExtensionName",O.ExtensionVersion="X-VSCode-ExtensionVersion",O.ExtensionRelease="X-VSCode-ExtensionRelease",O.Language="X-VSCode-Language",O.CopilotClientTimeBucket="X-Copilot-ClientTimeBucket",O.CopilotEngine="X-Copilot-Engine",O.CopilotOverrideEngine="X-Copilot-OverrideEngine",O.CopilotRepository="X-Copilot-Repository",O.CopilotFileType="X-Copilot-FileType",O.CopilotUserKind="X-Copilot-UserKind",O.CopilotDogfood="X-Copilot-Dogfood",O.CopilotCustomModel="X-Copilot-CustomModel",O.CopilotOrgs="X-Copilot-Orgs",O.CopilotCustomModelNames="X-Copilot-CustomModelNames",O.CopilotTrackingId="X-Copilot-CopilotTrackingId",O.CopilotClientVersion="X-Copilot-ClientVersion",O.CopilotRelatedPluginVersionCppTools=Jf+"msvscodecpptools",O.CopilotRelatedPluginVersionCMakeTools=Jf+"msvscodecmaketools",O.CopilotRelatedPluginVersionMakefileTools=Jf+"msvscodemakefiletools",O.CopilotRelatedPluginVersionCSharpDevKit=Jf+"msdotnettoolscsdevkit",O.CopilotRelatedPluginVersionPython=Jf+"mspythonpython",O.CopilotRelatedPluginVersionPylance=Jf+"mspythonvscodepylance",O.CopilotRelatedPluginVersionJavaPack=Jf+"vscjavavscodejavapack",O.CopilotRelatedPluginVersionTypescript=Jf+"vscodetypescriptlanguagefeatures",O.CopilotRelatedPluginVersionTypescriptNext=Jf+"msvscodevscodetypescriptnext",O.CopilotRelatedPluginVersionCSharp=Jf+"msdotnettoolscsharp",O))(NT||{});var Q$e={"X-Copilot-ClientTimeBucket":"timeBucket","X-Copilot-OverrideEngine":"engine","X-Copilot-Repository":"repo","X-Copilot-FileType":"fileType","X-Copilot-UserKind":"userKind"},z3=class e{constructor(t){this.filters=t;for(let[r,n]of Object.entries(this.filters))n===""&&delete this.filters[r]}static{o(this,"FilterSettings")}extends(t){for(let[r,n]of Object.entries(t.filters))if(this.filters[r]!==n)return!1;return!0}addToTelemetry(t){for(let[r,n]of Object.entries(this.filters)){let i=Q$e[r];i!==void 0&&(t.properties[i]=n)}}stringify(){let t=Object.keys(this.filters);return t.sort(),t.map(r=>`${r}:${this.filters[r]}`).join(";")}toHeaders(){return{...this.filters}}withChange(t,r){return new e({...this.filters,[t]:r})}};d();var Or=class{static{o(this,"Fetcher")}#e;set rejectUnauthorized(t){this.#e=t}get rejectUnauthorized(){return this.#e}},LT=class extends Error{static{o(this,"HttpTimeoutError")}constructor(t,r){super(t,{cause:r}),this.name="HttpTimeoutError"}};function Ec(e){return!e||typeof e!="object"?!1:e instanceof LT||"name"in e&&e.name==="AbortError"||"code"in e&&e.code==="ABORT_ERR"}o(Ec,"isAbortError");var dE=class extends SyntaxError{constructor(r,n){super(r);this.code=n;this.name="JsonParseError"}static{o(this,"JsonParseError")}},Y3=class extends Error{static{o(this,"FetchResponseError")}constructor(t){super(`HTTP ${t.status} ${t.statusText}`),this.name="FetchResponseError",this.code=`HTTP${t.status}`}},M$e=new Set(["ECONNABORTED","ECONNRESET","EHOSTUNREACH","ENETUNREACH","ENOTCONN","ENOTFOUND","ETIMEDOUT","ERR_HTTP2_STREAM_ERROR","ERR_SSL_BAD_DECRYPT","ERR_SSL_DECRYPTION_FAILED_OR_BAD_RECORD_MAC","ERR_SSL_INVALID_LIBRARY_(0)","ERR_SSL_SSLV3_ALERT_BAD_RECORD_MAC","ERR_SSL_WRONG_VERSION_NUMBER","ERR_STREAM_PREMATURE_CLOSE","ERR_TLS_CERT_ALTNAME_INVALID"]);function QT(e,t=!0){return e instanceof Error?t&&"cause"in e&&QT(e.cause,!1)?!0:e.name==="EditorFetcherError"||e.name==="FetchError"||e instanceof dE||e instanceof Y3||e?.message?.startsWith("net::")||M$e.has(e.code??""):!1}o(QT,"isNetworkError");var Ty=class{constructor(t,r,n,i,s){this.status=t;this.statusText=r;this.headers=n;this.getText=i;this.getBody=s;this.ok=this.status>=200&&this.status<300;this.clientError=this.status>=400&&this.status<500}static{o(this,"Response")}async text(){return this.getText()}async json(){let t=await this.text(),r=this.headers.get("content-type");if(!r||!r.includes("json"))throw new dE(`Response content-type is ${r??"missing"} (status=${this.status})`,`ContentType=${r}`);try{return JSON.parse(t)}catch(n){if(n instanceof SyntaxError){let i=n.message.match(/^(.*?) in JSON at position (\d+)(?: \(line \d+ column \d+\))?$/);if(i&&parseInt(i[2],10)==t.length||n.message==="Unexpected end of JSON input"){let s=new TextEncoder().encode(t).length,a=this.headers.get("content-length");throw a===null?new dE(`Response body truncated: actualLength=${s}`,"Truncated"):new dE(`Response body truncated: actualLength=${s}, headerLength=${a}`,"Truncated")}}throw n}}body(){return this.getBody()}};function K3(e,t,r,n,i,s,a,l,c){let u={...l,Authorization:`Bearer ${r}`,"X-Request-Id":i,"Openai-Organization":"github-copilot","VScode-SessionId":e.get(_s).sessionId,"VScode-MachineId":e.get(_s).machineId,...Ic(e)};n&&(u["OpenAI-Intent"]=n);let f={method:"POST",headers:u,json:s,timeout:c},m=e.get(Or);if(a){let p=m.makeAbortController();a.onCancellationRequested(()=>{jt(e,"networking.cancelRequest",cn.createAndMarkAsIssued({headerRequestId:i})),p.abort()}),f.signal=p.signal}return m.fetch(t,f).catch(p=>{if(O$e(p))return jt(e,"networking.disconnectAll"),m.disconnectAll().then(()=>m.fetch(t,f));throw p})}o(K3,"postRequest");function O$e(e){return e instanceof Error?e.message=="ERR_HTTP2_GOAWAY_SESSION"?!0:"code"in e?e.code=="ECONNRESET"||e.code=="ETIMEDOUT"||e.code=="ERR_HTTP2_INVALID_SESSION":!1:!1}o(O$e,"isInterruptedNetworkError");d();d();d();d();d();d();d();var Tc={};x1(Tc,{HasPropertyKey:()=>hP,IsArray:()=>ga,IsAsyncIterator:()=>vY,IsBigInt:()=>MT,IsBoolean:()=>E1,IsDate:()=>J3,IsFunction:()=>bY,IsIterator:()=>EY,IsNull:()=>IY,IsNumber:()=>Fu,IsObject:()=>ko,IsRegExp:()=>OT,IsString:()=>Wo,IsSymbol:()=>TY,IsUint8Array:()=>I1,IsUndefined:()=>Aa});d();function hP(e,t){return t in e}o(hP,"HasPropertyKey");function vY(e){return ko(e)&&!ga(e)&&!I1(e)&&Symbol.asyncIterator in e}o(vY,"IsAsyncIterator");function ga(e){return Array.isArray(e)}o(ga,"IsArray");function MT(e){return typeof e=="bigint"}o(MT,"IsBigInt");function E1(e){return typeof e=="boolean"}o(E1,"IsBoolean");function J3(e){return e instanceof globalThis.Date}o(J3,"IsDate");function bY(e){return typeof e=="function"}o(bY,"IsFunction");function EY(e){return ko(e)&&!ga(e)&&!I1(e)&&Symbol.iterator in e}o(EY,"IsIterator");function IY(e){return e===null}o(IY,"IsNull");function Fu(e){return typeof e=="number"}o(Fu,"IsNumber");function ko(e){return typeof e=="object"&&e!==null}o(ko,"IsObject");function OT(e){return e instanceof globalThis.RegExp}o(OT,"IsRegExp");function Wo(e){return typeof e=="string"}o(Wo,"IsString");function TY(e){return typeof e=="symbol"}o(TY,"IsSymbol");function I1(e){return e instanceof globalThis.Uint8Array}o(I1,"IsUint8Array");function Aa(e){return e===void 0}o(Aa,"IsUndefined");function U$e(e){return e.map(t=>pP(t))}o(U$e,"ArrayType");function q$e(e){return new Date(e.getTime())}o(q$e,"DateType");function W$e(e){return new Uint8Array(e)}o(W$e,"Uint8ArrayType");function G$e(e){return new RegExp(e.source,e.flags)}o(G$e,"RegExpType");function H$e(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=pP(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=pP(e[r]);return t}o(H$e,"ObjectType");function pP(e){return ga(e)?U$e(e):J3(e)?q$e(e):I1(e)?W$e(e):OT(e)?G$e(e):ko(e)?H$e(e):e}o(pP,"Visit");function ss(e){return pP(e)}o(ss,"Clone");function mE(e,t){return t===void 0?ss(e):ss({...t,...e})}o(mE,"CloneType");d();d();d();function gP(e){return li(e)&&globalThis.Symbol.asyncIterator in e}o(gP,"IsAsyncIterator");function AP(e){return li(e)&&globalThis.Symbol.iterator in e}o(AP,"IsIterator");function wY(e){return li(e)&&(globalThis.Object.getPrototypeOf(e)===Object.prototype||globalThis.Object.getPrototypeOf(e)===null)}o(wY,"IsStandardObject");function yP(e){return e instanceof globalThis.Promise}o(yP,"IsPromise");function e0(e){return e instanceof Date&&globalThis.Number.isFinite(e.getTime())}o(e0,"IsDate");function $he(e){return e instanceof globalThis.Map}o($he,"IsMap");function zhe(e){return e instanceof globalThis.Set}o(zhe,"IsSet");function Zf(e){return globalThis.ArrayBuffer.isView(e)}o(Zf,"IsTypedArray");function hE(e){return e instanceof globalThis.Uint8Array}o(hE,"IsUint8Array");function hn(e,t){return t in e}o(hn,"HasPropertyKey");function li(e){return e!==null&&typeof e=="object"}o(li,"IsObject");function pn(e){return globalThis.Array.isArray(e)&&!globalThis.ArrayBuffer.isView(e)}o(pn,"IsArray");function as(e){return e===void 0}o(as,"IsUndefined");function T1(e){return e===null}o(T1,"IsNull");function bp(e){return typeof e=="boolean"}o(bp,"IsBoolean");function Kr(e){return typeof e=="number"}o(Kr,"IsNumber");function CP(e){return globalThis.Number.isInteger(e)}o(CP,"IsInteger");function Kl(e){return typeof e=="bigint"}o(Kl,"IsBigInt");function Oi(e){return typeof e=="string"}o(Oi,"IsString");function wy(e){return typeof e=="function"}o(wy,"IsFunction");function w1(e){return typeof e=="symbol"}o(w1,"IsSymbol");function Nu(e){return Kl(e)||bp(e)||T1(e)||Kr(e)||Oi(e)||w1(e)||as(e)}o(Nu,"IsValueType");var Yo;(function(e){e.InstanceMode="default",e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1;function t(a,l){return e.ExactOptionalPropertyTypes?l in a:a[l]!==void 0}o(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){let l=li(a);return e.AllowArrayObject?l:l&&!pn(a)}o(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return r(a)&&!(a instanceof Date)&&!(a instanceof Uint8Array)}o(n,"IsRecordLike"),e.IsRecordLike=n;function i(a){return e.AllowNaN?Kr(a):Number.isFinite(a)}o(i,"IsNumberLike"),e.IsNumberLike=i;function s(a){let l=as(a);return e.AllowNullVoid?l||a===null:l}o(s,"IsVoidLike"),e.IsVoidLike=s})(Yo||(Yo={}));d();function j$e(e){return globalThis.Object.freeze(e).map(t=>UT(t))}o(j$e,"ImmutableArray");function V$e(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=UT(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=UT(e[r]);return globalThis.Object.freeze(t)}o(V$e,"ImmutableObject");function UT(e){return ga(e)?j$e(e):J3(e)?e:I1(e)?e:OT(e)?e:ko(e)?V$e(e):e}o(UT,"Immutable");function ft(e,t){let r=t!==void 0?{...t,...e}:e;switch(Yo.InstanceMode){case"freeze":return UT(r);case"clone":return ss(r);default:return r}}o(ft,"CreateType");d();var gn=class extends Error{static{o(this,"TypeBoxError")}constructor(t){super(t)}};d();d();d();var Ss=Symbol.for("TypeBox.Transform"),wm=Symbol.for("TypeBox.Readonly"),Jl=Symbol.for("TypeBox.Optional"),Xf=Symbol.for("TypeBox.Hint"),ot=Symbol.for("TypeBox.Kind");function pE(e){return ko(e)&&e[wm]==="Readonly"}o(pE,"IsReadonly");function Q0(e){return ko(e)&&e[Jl]==="Optional"}o(Q0,"IsOptional");function _Y(e){return Ri(e,"Any")}o(_Y,"IsAny");function SY(e){return Ri(e,"Argument")}o(SY,"IsArgument");function _m(e){return Ri(e,"Array")}o(_m,"IsArray");function Z3(e){return Ri(e,"AsyncIterator")}o(Z3,"IsAsyncIterator");function X3(e){return Ri(e,"BigInt")}o(X3,"IsBigInt");function _1(e){return Ri(e,"Boolean")}o(_1,"IsBoolean");function Sm(e){return Ri(e,"Computed")}o(Sm,"IsComputed");function km(e){return Ri(e,"Constructor")}o(km,"IsConstructor");function $$e(e){return Ri(e,"Date")}o($$e,"IsDate");function Rm(e){return Ri(e,"Function")}o(Rm,"IsFunction");function Bm(e){return Ri(e,"Integer")}o(Bm,"IsInteger");function Ws(e){return Ri(e,"Intersect")}o(Ws,"IsIntersect");function e4(e){return Ri(e,"Iterator")}o(e4,"IsIterator");function Ri(e,t){return ko(e)&&ot in e&&e[ot]===t}o(Ri,"IsKindOf");function xP(e){return E1(e)||Fu(e)||Wo(e)}o(xP,"IsLiteralValue");function Lu(e){return Ri(e,"Literal")}o(Lu,"IsLiteral");function Qu(e){return Ri(e,"MappedKey")}o(Qu,"IsMappedKey");function ls(e){return Ri(e,"MappedResult")}o(ls,"IsMappedResult");function _y(e){return Ri(e,"Never")}o(_y,"IsNever");function z$e(e){return Ri(e,"Not")}o(z$e,"IsNot");function qT(e){return Ri(e,"Null")}o(qT,"IsNull");function Dm(e){return Ri(e,"Number")}o(Dm,"IsNumber");function ya(e){return Ri(e,"Object")}o(ya,"IsObject");function t4(e){return Ri(e,"Promise")}o(t4,"IsPromise");function r4(e){return Ri(e,"Record")}o(r4,"IsRecord");function Js(e){return Ri(e,"Ref")}o(Js,"IsRef");function kY(e){return Ri(e,"RegExp")}o(kY,"IsRegExp");function S1(e){return Ri(e,"String")}o(S1,"IsString");function WT(e){return Ri(e,"Symbol")}o(WT,"IsSymbol");function Mu(e){return Ri(e,"TemplateLiteral")}o(Mu,"IsTemplateLiteral");function Y$e(e){return Ri(e,"This")}o(Y$e,"IsThis");function io(e){return ko(e)&&Ss in e}o(io,"IsTransform");function Ou(e){return Ri(e,"Tuple")}o(Ou,"IsTuple");function k1(e){return Ri(e,"Undefined")}o(k1,"IsUndefined");function Ui(e){return Ri(e,"Union")}o(Ui,"IsUnion");function K$e(e){return Ri(e,"Uint8Array")}o(K$e,"IsUint8Array");function J$e(e){return Ri(e,"Unknown")}o(J$e,"IsUnknown");function Z$e(e){return Ri(e,"Unsafe")}o(Z$e,"IsUnsafe");function X$e(e){return Ri(e,"Void")}o(X$e,"IsVoid");function Sy(e){return ko(e)&&ot in e&&Wo(e[ot])}o(Sy,"IsKind");function ks(e){return _Y(e)||SY(e)||_m(e)||_1(e)||X3(e)||Z3(e)||Sm(e)||km(e)||$$e(e)||Rm(e)||Bm(e)||Ws(e)||e4(e)||Lu(e)||Qu(e)||ls(e)||_y(e)||z$e(e)||qT(e)||Dm(e)||ya(e)||t4(e)||r4(e)||Js(e)||kY(e)||S1(e)||WT(e)||Mu(e)||Y$e(e)||Ou(e)||k1(e)||Ui(e)||K$e(e)||J$e(e)||Z$e(e)||X$e(e)||Sy(e)}o(ks,"IsSchema");var Oe={};x1(Oe,{IsAny:()=>Zhe,IsArgument:()=>Xhe,IsArray:()=>epe,IsAsyncIterator:()=>tpe,IsBigInt:()=>rpe,IsBoolean:()=>npe,IsComputed:()=>ipe,IsConstructor:()=>ope,IsDate:()=>spe,IsFunction:()=>ape,IsImport:()=>oze,IsInteger:()=>lpe,IsIntersect:()=>cpe,IsIterator:()=>upe,IsKind:()=>Lpe,IsKindOf:()=>Ai,IsLiteral:()=>HT,IsLiteralBoolean:()=>sze,IsLiteralNumber:()=>dpe,IsLiteralString:()=>fpe,IsLiteralValue:()=>mpe,IsMappedKey:()=>hpe,IsMappedResult:()=>ppe,IsNever:()=>gpe,IsNot:()=>Ape,IsNull:()=>ype,IsNumber:()=>Cpe,IsObject:()=>xpe,IsOptional:()=>ize,IsPromise:()=>vpe,IsProperties:()=>vP,IsReadonly:()=>nze,IsRecord:()=>bpe,IsRecursive:()=>aze,IsRef:()=>Epe,IsRegExp:()=>Ipe,IsSchema:()=>cs,IsString:()=>Tpe,IsSymbol:()=>wpe,IsTemplateLiteral:()=>_pe,IsThis:()=>Spe,IsTransform:()=>kpe,IsTuple:()=>Rpe,IsUint8Array:()=>Dpe,IsUndefined:()=>Bpe,IsUnion:()=>PY,IsUnionLiteral:()=>lze,IsUnknown:()=>Ppe,IsUnsafe:()=>Fpe,IsVoid:()=>Npe,TypeGuardUnknownTypeError:()=>RY});d();var RY=class extends gn{static{o(this,"TypeGuardUnknownTypeError")}},eze=["Argument","Any","Array","AsyncIterator","BigInt","Boolean","Computed","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function Yhe(e){try{return new RegExp(e),!0}catch{return!1}}o(Yhe,"IsPattern");function BY(e){if(!Wo(e))return!1;for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);if(r>=7&&r<=13||r===27||r===127)return!1}return!0}o(BY,"IsControlCharacterFree");function Khe(e){return DY(e)||cs(e)}o(Khe,"IsAdditionalProperties");function GT(e){return Aa(e)||MT(e)}o(GT,"IsOptionalBigInt");function Go(e){return Aa(e)||Fu(e)}o(Go,"IsOptionalNumber");function DY(e){return Aa(e)||E1(e)}o(DY,"IsOptionalBoolean");function Ro(e){return Aa(e)||Wo(e)}o(Ro,"IsOptionalString");function tze(e){return Aa(e)||Wo(e)&&BY(e)&&Yhe(e)}o(tze,"IsOptionalPattern");function rze(e){return Aa(e)||Wo(e)&&BY(e)}o(rze,"IsOptionalFormat");function Jhe(e){return Aa(e)||cs(e)}o(Jhe,"IsOptionalSchema");function nze(e){return ko(e)&&e[wm]==="Readonly"}o(nze,"IsReadonly");function ize(e){return ko(e)&&e[Jl]==="Optional"}o(ize,"IsOptional");function Zhe(e){return Ai(e,"Any")&&Ro(e.$id)}o(Zhe,"IsAny");function Xhe(e){return Ai(e,"Argument")&&Fu(e.index)}o(Xhe,"IsArgument");function epe(e){return Ai(e,"Array")&&e.type==="array"&&Ro(e.$id)&&cs(e.items)&&Go(e.minItems)&&Go(e.maxItems)&&DY(e.uniqueItems)&&Jhe(e.contains)&&Go(e.minContains)&&Go(e.maxContains)}o(epe,"IsArray");function tpe(e){return Ai(e,"AsyncIterator")&&e.type==="AsyncIterator"&&Ro(e.$id)&&cs(e.items)}o(tpe,"IsAsyncIterator");function rpe(e){return Ai(e,"BigInt")&&e.type==="bigint"&&Ro(e.$id)&&GT(e.exclusiveMaximum)&&GT(e.exclusiveMinimum)&&GT(e.maximum)&&GT(e.minimum)&&GT(e.multipleOf)}o(rpe,"IsBigInt");function npe(e){return Ai(e,"Boolean")&&e.type==="boolean"&&Ro(e.$id)}o(npe,"IsBoolean");function ipe(e){return Ai(e,"Computed")&&Wo(e.target)&&ga(e.parameters)&&e.parameters.every(t=>cs(t))}o(ipe,"IsComputed");function ope(e){return Ai(e,"Constructor")&&e.type==="Constructor"&&Ro(e.$id)&&ga(e.parameters)&&e.parameters.every(t=>cs(t))&&cs(e.returns)}o(ope,"IsConstructor");function spe(e){return Ai(e,"Date")&&e.type==="Date"&&Ro(e.$id)&&Go(e.exclusiveMaximumTimestamp)&&Go(e.exclusiveMinimumTimestamp)&&Go(e.maximumTimestamp)&&Go(e.minimumTimestamp)&&Go(e.multipleOfTimestamp)}o(spe,"IsDate");function ape(e){return Ai(e,"Function")&&e.type==="Function"&&Ro(e.$id)&&ga(e.parameters)&&e.parameters.every(t=>cs(t))&&cs(e.returns)}o(ape,"IsFunction");function oze(e){return Ai(e,"Import")&&hP(e,"$defs")&&ko(e.$defs)&&vP(e.$defs)&&hP(e,"$ref")&&Wo(e.$ref)&&e.$ref in e.$defs}o(oze,"IsImport");function lpe(e){return Ai(e,"Integer")&&e.type==="integer"&&Ro(e.$id)&&Go(e.exclusiveMaximum)&&Go(e.exclusiveMinimum)&&Go(e.maximum)&&Go(e.minimum)&&Go(e.multipleOf)}o(lpe,"IsInteger");function vP(e){return ko(e)&&Object.entries(e).every(([t,r])=>BY(t)&&cs(r))}o(vP,"IsProperties");function cpe(e){return Ai(e,"Intersect")&&!(Wo(e.type)&&e.type!=="object")&&ga(e.allOf)&&e.allOf.every(t=>cs(t)&&!kpe(t))&&Ro(e.type)&&(DY(e.unevaluatedProperties)||Jhe(e.unevaluatedProperties))&&Ro(e.$id)}o(cpe,"IsIntersect");function upe(e){return Ai(e,"Iterator")&&e.type==="Iterator"&&Ro(e.$id)&&cs(e.items)}o(upe,"IsIterator");function Ai(e,t){return ko(e)&&ot in e&&e[ot]===t}o(Ai,"IsKindOf");function fpe(e){return HT(e)&&Wo(e.const)}o(fpe,"IsLiteralString");function dpe(e){return HT(e)&&Fu(e.const)}o(dpe,"IsLiteralNumber");function sze(e){return HT(e)&&E1(e.const)}o(sze,"IsLiteralBoolean");function HT(e){return Ai(e,"Literal")&&Ro(e.$id)&&mpe(e.const)}o(HT,"IsLiteral");function mpe(e){return E1(e)||Fu(e)||Wo(e)}o(mpe,"IsLiteralValue");function hpe(e){return Ai(e,"MappedKey")&&ga(e.keys)&&e.keys.every(t=>Fu(t)||Wo(t))}o(hpe,"IsMappedKey");function ppe(e){return Ai(e,"MappedResult")&&vP(e.properties)}o(ppe,"IsMappedResult");function gpe(e){return Ai(e,"Never")&&ko(e.not)&&Object.getOwnPropertyNames(e.not).length===0}o(gpe,"IsNever");function Ape(e){return Ai(e,"Not")&&cs(e.not)}o(Ape,"IsNot");function ype(e){return Ai(e,"Null")&&e.type==="null"&&Ro(e.$id)}o(ype,"IsNull");function Cpe(e){return Ai(e,"Number")&&e.type==="number"&&Ro(e.$id)&&Go(e.exclusiveMaximum)&&Go(e.exclusiveMinimum)&&Go(e.maximum)&&Go(e.minimum)&&Go(e.multipleOf)}o(Cpe,"IsNumber");function xpe(e){return Ai(e,"Object")&&e.type==="object"&&Ro(e.$id)&&vP(e.properties)&&Khe(e.additionalProperties)&&Go(e.minProperties)&&Go(e.maxProperties)}o(xpe,"IsObject");function vpe(e){return Ai(e,"Promise")&&e.type==="Promise"&&Ro(e.$id)&&cs(e.item)}o(vpe,"IsPromise");function bpe(e){return Ai(e,"Record")&&e.type==="object"&&Ro(e.$id)&&Khe(e.additionalProperties)&&ko(e.patternProperties)&&(t=>{let r=Object.getOwnPropertyNames(t.patternProperties);return r.length===1&&Yhe(r[0])&&ko(t.patternProperties)&&cs(t.patternProperties[r[0]])})(e)}o(bpe,"IsRecord");function aze(e){return ko(e)&&Xf in e&&e[Xf]==="Recursive"}o(aze,"IsRecursive");function Epe(e){return Ai(e,"Ref")&&Ro(e.$id)&&Wo(e.$ref)}o(Epe,"IsRef");function Ipe(e){return Ai(e,"RegExp")&&Ro(e.$id)&&Wo(e.source)&&Wo(e.flags)&&Go(e.maxLength)&&Go(e.minLength)}o(Ipe,"IsRegExp");function Tpe(e){return Ai(e,"String")&&e.type==="string"&&Ro(e.$id)&&Go(e.minLength)&&Go(e.maxLength)&&tze(e.pattern)&&rze(e.format)}o(Tpe,"IsString");function wpe(e){return Ai(e,"Symbol")&&e.type==="symbol"&&Ro(e.$id)}o(wpe,"IsSymbol");function _pe(e){return Ai(e,"TemplateLiteral")&&e.type==="string"&&Wo(e.pattern)&&e.pattern[0]==="^"&&e.pattern[e.pattern.length-1]==="$"}o(_pe,"IsTemplateLiteral");function Spe(e){return Ai(e,"This")&&Ro(e.$id)&&Wo(e.$ref)}o(Spe,"IsThis");function kpe(e){return ko(e)&&Ss in e}o(kpe,"IsTransform");function Rpe(e){return Ai(e,"Tuple")&&e.type==="array"&&Ro(e.$id)&&Fu(e.minItems)&&Fu(e.maxItems)&&e.minItems===e.maxItems&&(Aa(e.items)&&Aa(e.additionalItems)&&e.minItems===0||ga(e.items)&&e.items.every(t=>cs(t)))}o(Rpe,"IsTuple");function Bpe(e){return Ai(e,"Undefined")&&e.type==="undefined"&&Ro(e.$id)}o(Bpe,"IsUndefined");function lze(e){return PY(e)&&e.anyOf.every(t=>fpe(t)||dpe(t))}o(lze,"IsUnionLiteral");function PY(e){return Ai(e,"Union")&&Ro(e.$id)&&ko(e)&&ga(e.anyOf)&&e.anyOf.every(t=>cs(t))}o(PY,"IsUnion");function Dpe(e){return Ai(e,"Uint8Array")&&e.type==="Uint8Array"&&Ro(e.$id)&&Go(e.minByteLength)&&Go(e.maxByteLength)}o(Dpe,"IsUint8Array");function Ppe(e){return Ai(e,"Unknown")&&Ro(e.$id)}o(Ppe,"IsUnknown");function Fpe(e){return Ai(e,"Unsafe")}o(Fpe,"IsUnsafe");function Npe(e){return Ai(e,"Void")&&e.type==="void"&&Ro(e.$id)}o(Npe,"IsVoid");function Lpe(e){return ko(e)&&ot in e&&Wo(e[ot])&&!eze.includes(e[ot])}o(Lpe,"IsKind");function cs(e){return ko(e)&&(Zhe(e)||Xhe(e)||epe(e)||npe(e)||rpe(e)||tpe(e)||ipe(e)||ope(e)||spe(e)||ape(e)||lpe(e)||cpe(e)||upe(e)||HT(e)||hpe(e)||ppe(e)||gpe(e)||Ape(e)||ype(e)||Cpe(e)||xpe(e)||vpe(e)||bpe(e)||Epe(e)||Ipe(e)||Tpe(e)||wpe(e)||_pe(e)||Spe(e)||Rpe(e)||Bpe(e)||PY(e)||Dpe(e)||Ppe(e)||Fpe(e)||Npe(e)||Lpe(e))}o(cs,"IsSchema");d();var FY="(true|false)",jT="(0|[1-9][0-9]*)",NY="(.*)",cze="(?!.*)",wGt=`^${FY}$`,Ep=`^${jT}$`,Ip=`^${NY}$`,Qpe=`^${cze}$`;d();var Pm={};x1(Pm,{Clear:()=>fze,Delete:()=>dze,Entries:()=>uze,Get:()=>pze,Has:()=>mze,Set:()=>hze});d();var gE=new Map;function uze(){return new Map(gE)}o(uze,"Entries");function fze(){return gE.clear()}o(fze,"Clear");function dze(e){return gE.delete(e)}o(dze,"Delete");function mze(e){return gE.has(e)}o(mze,"Has");function hze(e,t){gE.set(e,t)}o(hze,"Set");function pze(e){return gE.get(e)}o(pze,"Get");var t0={};x1(t0,{Clear:()=>Aze,Delete:()=>yze,Entries:()=>gze,Get:()=>vze,Has:()=>Cze,Set:()=>xze});d();var AE=new Map;function gze(){return new Map(AE)}o(gze,"Entries");function Aze(){return AE.clear()}o(Aze,"Clear");function yze(e){return AE.delete(e)}o(yze,"Delete");function Cze(e){return AE.has(e)}o(Cze,"Has");function xze(e,t){AE.set(e,t)}o(xze,"Set");function vze(e){return AE.get(e)}o(vze,"Get");d();function Mpe(e,t){return e.includes(t)}o(Mpe,"SetIncludes");function Ope(e){return[...new Set(e)]}o(Ope,"SetDistinct");function bze(e,t){return e.filter(r=>t.includes(r))}o(bze,"SetIntersect");function Eze(e,t){return e.reduce((r,n)=>bze(r,n),t)}o(Eze,"SetIntersectManyResolve");function Upe(e){return e.length===1?e[0]:e.length>1?Eze(e.slice(1),e[0]):[]}o(Upe,"SetIntersectMany");function qpe(e){let t=[];for(let r of e)t.push(...r);return t}o(qpe,"SetUnionMany");d();function ky(e){return ft({[ot]:"Any"},e)}o(ky,"Any");d();function yE(e,t){return ft({[ot]:"Array",type:"array",items:e},t)}o(yE,"Array");d();function Wpe(e){return ft({[ot]:"Argument",index:e})}o(Wpe,"Argument");d();function CE(e,t){return ft({[ot]:"AsyncIterator",type:"AsyncIterator",items:e},t)}o(CE,"AsyncIterator");d();d();function Ko(e,t,r){return ft({[ot]:"Computed",target:e,parameters:t},r)}o(Ko,"Computed");d();d();function Ize(e,t){let{[t]:r,...n}=e;return n}o(Ize,"DiscardKey");function Gs(e,t){return t.reduce((r,n)=>Ize(r,n),e)}o(Gs,"Discard");d();function ei(e){return ft({[ot]:"Never",not:{}},e)}o(ei,"Never");d();d();function $i(e){return ft({[ot]:"MappedResult",properties:e})}o($i,"MappedResult");d();d();function xE(e,t,r){return ft({[ot]:"Constructor",type:"Constructor",parameters:e,returns:t},r)}o(xE,"Constructor");d();function Tp(e,t,r){return ft({[ot]:"Function",type:"Function",parameters:e,returns:t},r)}o(Tp,"Function");d();d();d();d();function VT(e,t){return ft({[ot]:"Union",anyOf:e},t)}o(VT,"UnionCreate");function Tze(e){return e.some(t=>Q0(t))}o(Tze,"IsUnionOptional");function Gpe(e){return e.map(t=>Q0(t)?wze(t):t)}o(Gpe,"RemoveOptionalFromRest");function wze(e){return Gs(e,[Jl])}o(wze,"RemoveOptionalFromType");function _ze(e,t){return Tze(e)?wc(VT(Gpe(e),t)):VT(Gpe(e),t)}o(_ze,"ResolveUnion");function wp(e,t){return e.length===1?ft(e[0],t):e.length===0?ei(t):_ze(e,t)}o(wp,"UnionEvaluated");d();function oo(e,t){return e.length===0?ei(t):e.length===1?ft(e[0],t):VT(e,t)}o(oo,"Union");d();d();d();var bP=class extends gn{static{o(this,"TemplateLiteralParserError")}};function Sze(e){return e.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}o(Sze,"Unescape");function LY(e,t,r){return e[t]===r&&e.charCodeAt(t-1)!==92}o(LY,"IsNonEscaped");function B1(e,t){return LY(e,t,"(")}o(B1,"IsOpenParen");function $T(e,t){return LY(e,t,")")}o($T,"IsCloseParen");function Hpe(e,t){return LY(e,t,"|")}o(Hpe,"IsSeparator");function kze(e){if(!(B1(e,0)&&$T(e,e.length-1)))return!1;let t=0;for(let r=0;r<e.length;r++)if(B1(e,r)&&(t+=1),$T(e,r)&&(t-=1),t===0&&r!==e.length-1)return!1;return!0}o(kze,"IsGroup");function Rze(e){return e.slice(1,e.length-1)}o(Rze,"InGroup");function Bze(e){let t=0;for(let r=0;r<e.length;r++)if(B1(e,r)&&(t+=1),$T(e,r)&&(t-=1),Hpe(e,r)&&t===0)return!0;return!1}o(Bze,"IsPrecedenceOr");function Dze(e){for(let t=0;t<e.length;t++)if(B1(e,t))return!0;return!1}o(Dze,"IsPrecedenceAnd");function Pze(e){let[t,r]=[0,0],n=[];for(let s=0;s<e.length;s++)if(B1(e,s)&&(t+=1),$T(e,s)&&(t-=1),Hpe(e,s)&&t===0){let a=e.slice(r,s);a.length>0&&n.push(vE(a)),r=s+1}let i=e.slice(r);return i.length>0&&n.push(vE(i)),n.length===0?{type:"const",const:""}:n.length===1?n[0]:{type:"or",expr:n}}o(Pze,"Or");function Fze(e){function t(i,s){if(!B1(i,s))throw new bP("TemplateLiteralParser: Index must point to open parens");let a=0;for(let l=s;l<i.length;l++)if(B1(i,l)&&(a+=1),$T(i,l)&&(a-=1),a===0)return[s,l];throw new bP("TemplateLiteralParser: Unclosed group parens in expression")}o(t,"Group");function r(i,s){for(let a=s;a<i.length;a++)if(B1(i,a))return[s,a];return[s,i.length]}o(r,"Range");let n=[];for(let i=0;i<e.length;i++)if(B1(e,i)){let[s,a]=t(e,i),l=e.slice(s,a+1);n.push(vE(l)),i=a}else{let[s,a]=r(e,i),l=e.slice(s,a);l.length>0&&n.push(vE(l)),i=a-1}return n.length===0?{type:"const",const:""}:n.length===1?n[0]:{type:"and",expr:n}}o(Fze,"And");function vE(e){return kze(e)?vE(Rze(e)):Bze(e)?Pze(e):Dze(e)?Fze(e):{type:"const",const:Sze(e)}}o(vE,"TemplateLiteralParse");function bE(e){return vE(e.slice(1,e.length-1))}o(bE,"TemplateLiteralParseExact");var QY=class extends gn{static{o(this,"TemplateLiteralFiniteError")}};function Nze(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="0"&&e.expr[1].type==="const"&&e.expr[1].const==="[1-9][0-9]*"}o(Nze,"IsNumberExpression");function Lze(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="true"&&e.expr[1].type==="const"&&e.expr[1].const==="false"}o(Lze,"IsBooleanExpression");function Qze(e){return e.type==="const"&&e.const===".*"}o(Qze,"IsStringExpression");function n4(e){return Nze(e)||Qze(e)?!1:Lze(e)?!0:e.type==="and"?e.expr.every(t=>n4(t)):e.type==="or"?e.expr.every(t=>n4(t)):e.type==="const"?!0:(()=>{throw new QY("Unknown expression type")})()}o(n4,"IsTemplateLiteralExpressionFinite");function EP(e){let t=bE(e.pattern);return n4(t)}o(EP,"IsTemplateLiteralFinite");d();var MY=class extends gn{static{o(this,"TemplateLiteralGenerateError")}};function*jpe(e){if(e.length===1)return yield*e[0];for(let t of e[0])for(let r of jpe(e.slice(1)))yield`${t}${r}`}o(jpe,"GenerateReduce");function*Mze(e){return yield*jpe(e.expr.map(t=>[...zT(t)]))}o(Mze,"GenerateAnd");function*Oze(e){for(let t of e.expr)yield*zT(t)}o(Oze,"GenerateOr");function*Uze(e){return yield e.const}o(Uze,"GenerateConst");function*zT(e){return e.type==="and"?yield*Mze(e):e.type==="or"?yield*Oze(e):e.type==="const"?yield*Uze(e):(()=>{throw new MY("Unknown expression")})()}o(zT,"TemplateLiteralExpressionGenerate");function EE(e){let t=bE(e.pattern);return n4(t)?[...zT(t)]:[]}o(EE,"TemplateLiteralGenerate");d();d();function Bi(e,t){return ft({[ot]:"Literal",const:e,type:typeof e},t)}o(Bi,"Literal");d();function IP(e){return ft({[ot]:"Boolean",type:"boolean"},e)}o(IP,"Boolean");d();function IE(e){return ft({[ot]:"BigInt",type:"bigint"},e)}o(IE,"BigInt");d();function ed(e){return ft({[ot]:"Number",type:"number"},e)}o(ed,"Number");d();function r0(e){return ft({[ot]:"String",type:"string"},e)}o(r0,"String");function*qze(e){let t=e.trim().replace(/"|'/g,"");return t==="boolean"?yield IP():t==="number"?yield ed():t==="bigint"?yield IE():t==="string"?yield r0():yield(()=>{let r=t.split("|").map(n=>Bi(n.trim()));return r.length===0?ei():r.length===1?r[0]:wp(r)})()}o(qze,"FromUnion");function*Wze(e){if(e[1]!=="{"){let t=Bi("$"),r=OY(e.slice(1));return yield*[t,...r]}for(let t=2;t<e.length;t++)if(e[t]==="}"){let r=qze(e.slice(2,t)),n=OY(e.slice(t+1));return yield*[...r,...n]}yield Bi(e)}o(Wze,"FromTerminal");function*OY(e){for(let t=0;t<e.length;t++)if(e[t]==="$"){let r=Bi(e.slice(0,t)),n=Wze(e.slice(t));return yield*[r,...n]}yield Bi(e)}o(OY,"FromSyntax");function Vpe(e){return[...OY(e)]}o(Vpe,"TemplateLiteralSyntax");d();var UY=class extends gn{static{o(this,"TemplateLiteralPatternError")}};function Gze(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(Gze,"Escape");function $pe(e,t){return Mu(e)?e.pattern.slice(1,e.pattern.length-1):Ui(e)?`(${e.anyOf.map(r=>$pe(r,t)).join("|")})`:Dm(e)?`${t}${jT}`:Bm(e)?`${t}${jT}`:X3(e)?`${t}${jT}`:S1(e)?`${t}${NY}`:Lu(e)?`${t}${Gze(e.const.toString())}`:_1(e)?`${t}${FY}`:(()=>{throw new UY(`Unexpected Kind '${e[ot]}'`)})()}o($pe,"Visit");function qY(e){return`^${e.map(t=>$pe(t,"")).join("")}$`}o(qY,"TemplateLiteralPattern");d();function i4(e){let r=EE(e).map(n=>Bi(n));return wp(r)}o(i4,"TemplateLiteralToUnion");d();function TP(e,t){let r=Wo(e)?qY(Vpe(e)):qY(e);return ft({[ot]:"TemplateLiteral",type:"string",pattern:r},t)}o(TP,"TemplateLiteral");function Hze(e){return EE(e).map(r=>r.toString())}o(Hze,"FromTemplateLiteral");function jze(e){let t=[];for(let r of e)t.push(...M0(r));return t}o(jze,"FromUnion");function Vze(e){return[e.toString()]}o(Vze,"FromLiteral");function M0(e){return[...new Set(Mu(e)?Hze(e):Ui(e)?jze(e.anyOf):Lu(e)?Vze(e.const):Dm(e)?["[number]"]:Bm(e)?["[number]"]:[])]}o(M0,"IndexPropertyKeys");d();function $ze(e,t,r){let n={};for(let i of Object.getOwnPropertyNames(t))n[i]=Ry(e,M0(t[i]),r);return n}o($ze,"FromProperties");function zze(e,t,r){return $ze(e,t.properties,r)}o(zze,"FromMappedResult");function zpe(e,t,r){let n=zze(e,t,r);return $i(n)}o(zpe,"IndexFromMappedResult");function Kpe(e,t){return e.map(r=>Jpe(r,t))}o(Kpe,"FromRest");function Yze(e){return e.filter(t=>!_y(t))}o(Yze,"FromIntersectRest");function Kze(e,t){return wP(Yze(Kpe(e,t)))}o(Kze,"FromIntersect");function Jze(e){return e.some(t=>_y(t))?[]:e}o(Jze,"FromUnionRest");function Zze(e,t){return wp(Jze(Kpe(e,t)))}o(Zze,"FromUnion");function Xze(e,t){return t in e?e[t]:t==="[number]"?wp(e):ei()}o(Xze,"FromTuple");function eYe(e,t){return t==="[number]"?e:ei()}o(eYe,"FromArray");function tYe(e,t){return t in e?e[t]:ei()}o(tYe,"FromProperty");function Jpe(e,t){return Ws(e)?Kze(e.allOf,t):Ui(e)?Zze(e.anyOf,t):Ou(e)?Xze(e.items??[],t):_m(e)?eYe(e.items,t):ya(e)?tYe(e.properties,t):ei()}o(Jpe,"IndexFromPropertyKey");function YT(e,t){return t.map(r=>Jpe(e,r))}o(YT,"IndexFromPropertyKeys");function Ype(e,t){return wp(YT(e,t))}o(Ype,"FromSchema");function Ry(e,t,r){if(Js(e)||Js(t)){let n="Index types using Ref parameters require both Type and Key to be of TSchema";if(!ks(e)||!ks(t))throw new gn(n);return Ko("Index",[e,t])}return ls(t)?zpe(e,t,r):Qu(t)?Zpe(e,t,r):ft(ks(t)?Ype(e,M0(t)):Ype(e,t),r)}o(Ry,"Index");function rYe(e,t,r){return{[t]:Ry(e,[t],ss(r))}}o(rYe,"MappedIndexPropertyKey");function nYe(e,t,r){return t.reduce((n,i)=>({...n,...rYe(e,i,r)}),{})}o(nYe,"MappedIndexPropertyKeys");function iYe(e,t,r){return nYe(e,t.keys,r)}o(iYe,"MappedIndexProperties");function Zpe(e,t,r){let n=iYe(e,t,r);return $i(n)}o(Zpe,"IndexFromMappedKey");d();function TE(e,t){return ft({[ot]:"Iterator",type:"Iterator",items:e},t)}o(TE,"Iterator");d();function oYe(e){let t=[];for(let r in e)Q0(e[r])||t.push(r);return t}o(oYe,"RequiredKeys");function sYe(e,t){let r=oYe(e),n=r.length>0?{[ot]:"Object",type:"object",properties:e,required:r}:{[ot]:"Object",type:"object",properties:e};return ft(n,t)}o(sYe,"_Object");var so=sYe;d();function _P(e,t){return ft({[ot]:"Promise",type:"Promise",item:e},t)}o(_P,"Promise");d();d();function aYe(e){return ft(Gs(e,[wm]))}o(aYe,"RemoveReadonly");function lYe(e){return ft({...e,[wm]:"Readonly"})}o(lYe,"AddReadonly");function cYe(e,t){return t===!1?aYe(e):lYe(e)}o(cYe,"ReadonlyWithFlag");function O0(e,t){let r=t??!0;return ls(e)?Xpe(e,r):cYe(e,r)}o(O0,"Readonly");function uYe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=O0(e[n],t);return r}o(uYe,"FromProperties");function fYe(e,t){return uYe(e.properties,t)}o(fYe,"FromMappedResult");function Xpe(e,t){let r=fYe(e,t);return $i(r)}o(Xpe,"ReadonlyFromMappedResult");d();function td(e,t){return ft(e.length>0?{[ot]:"Tuple",type:"array",items:e,additionalItems:!1,minItems:e.length,maxItems:e.length}:{[ot]:"Tuple",type:"array",minItems:e.length,maxItems:e.length},t)}o(td,"Tuple");function ege(e,t){return e in t?rd(e,t[e]):$i(t)}o(ege,"FromMappedResult");function dYe(e){return{[e]:Bi(e)}}o(dYe,"MappedKeyToKnownMappedResultProperties");function mYe(e){let t={};for(let r of e)t[r]=Bi(r);return t}o(mYe,"MappedKeyToUnknownMappedResultProperties");function hYe(e,t){return Mpe(t,e)?dYe(e):mYe(t)}o(hYe,"MappedKeyToMappedResultProperties");function pYe(e,t){let r=hYe(e,t);return ege(e,r)}o(pYe,"FromMappedKey");function KT(e,t){return t.map(r=>rd(e,r))}o(KT,"FromRest");function gYe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=rd(e,t[n]);return r}o(gYe,"FromProperties");function rd(e,t){let r={...t};return Q0(t)?wc(rd(e,Gs(t,[Jl]))):pE(t)?O0(rd(e,Gs(t,[wm]))):ls(t)?ege(e,t.properties):Qu(t)?pYe(e,t.keys):km(t)?xE(KT(e,t.parameters),rd(e,t.returns),r):Rm(t)?Tp(KT(e,t.parameters),rd(e,t.returns),r):Z3(t)?CE(rd(e,t.items),r):e4(t)?TE(rd(e,t.items),r):Ws(t)?_c(KT(e,t.allOf),r):Ui(t)?oo(KT(e,t.anyOf),r):Ou(t)?td(KT(e,t.items??[]),r):ya(t)?so(gYe(e,t.properties),r):_m(t)?yE(rd(e,t.items),r):t4(t)?_P(rd(e,t.item),r):t}o(rd,"FromSchemaType");function AYe(e,t){let r={};for(let n of e)r[n]=rd(n,t);return r}o(AYe,"MappedFunctionReturnType");function tge(e,t,r){let n=ks(e)?M0(e):e,i=t({[ot]:"MappedKey",keys:n}),s=AYe(n,i);return so(s,r)}o(tge,"Mapped");d();function yYe(e){return ft(Gs(e,[Jl]))}o(yYe,"RemoveOptional");function CYe(e){return ft({...e,[Jl]:"Optional"})}o(CYe,"AddOptional");function xYe(e,t){return t===!1?yYe(e):CYe(e)}o(xYe,"OptionalWithFlag");function wc(e,t){let r=t??!0;return ls(e)?rge(e,r):xYe(e,r)}o(wc,"Optional");function vYe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=wc(e[n],t);return r}o(vYe,"FromProperties");function bYe(e,t){return vYe(e.properties,t)}o(bYe,"FromMappedResult");function rge(e,t){let r=bYe(e,t);return $i(r)}o(rge,"OptionalFromMappedResult");d();function JT(e,t={}){let r=e.every(i=>ya(i)),n=ks(t.unevaluatedProperties)?{unevaluatedProperties:t.unevaluatedProperties}:{};return ft(t.unevaluatedProperties===!1||ks(t.unevaluatedProperties)||r?{...n,[ot]:"Intersect",type:"object",allOf:e}:{...n,[ot]:"Intersect",allOf:e},t)}o(JT,"IntersectCreate");function EYe(e){return e.every(t=>Q0(t))}o(EYe,"IsIntersectOptional");function IYe(e){return Gs(e,[Jl])}o(IYe,"RemoveOptionalFromType");function nge(e){return e.map(t=>Q0(t)?IYe(t):t)}o(nge,"RemoveOptionalFromRest");function TYe(e,t){return EYe(e)?wc(JT(nge(e),t)):JT(nge(e),t)}o(TYe,"ResolveIntersect");function wP(e,t={}){if(e.length===1)return ft(e[0],t);if(e.length===0)return ei(t);if(e.some(r=>io(r)))throw new Error("Cannot intersect transform types");return TYe(e,t)}o(wP,"IntersectEvaluated");d();function _c(e,t){if(e.length===1)return ft(e[0],t);if(e.length===0)return ei(t);if(e.some(r=>io(r)))throw new Error("Cannot intersect transform types");return JT(e,t)}o(_c,"Intersect");d();function nd(...e){let[t,r]=typeof e[0]=="string"?[e[0],e[1]]:[e[0].$id,e[1]];if(typeof t!="string")throw new gn("Ref: $ref must be a string");return ft({[ot]:"Ref",$ref:t},r)}o(nd,"Ref");function wYe(e,t){return Ko("Awaited",[Ko(e,t)])}o(wYe,"FromComputed");function _Ye(e){return Ko("Awaited",[nd(e)])}o(_Ye,"FromRef");function SYe(e){return _c(ige(e))}o(SYe,"FromIntersect");function kYe(e){return oo(ige(e))}o(kYe,"FromUnion");function RYe(e){return wE(e)}o(RYe,"FromPromise");function ige(e){return e.map(t=>wE(t))}o(ige,"FromRest");function wE(e,t){return ft(Sm(e)?wYe(e.target,e.parameters):Ws(e)?SYe(e.allOf):Ui(e)?kYe(e.anyOf):t4(e)?RYe(e.item):Js(e)?_Ye(e.$ref):e,t)}o(wE,"Awaited");d();d();d();d();function oge(e){let t=[];for(let r of e)t.push(U0(r));return t}o(oge,"FromRest");function BYe(e){let t=oge(e);return qpe(t)}o(BYe,"FromIntersect");function DYe(e){let t=oge(e);return Upe(t)}o(DYe,"FromUnion");function PYe(e){return e.map((t,r)=>r.toString())}o(PYe,"FromTuple");function FYe(e){return["[number]"]}o(FYe,"FromArray");function NYe(e){return globalThis.Object.getOwnPropertyNames(e)}o(NYe,"FromProperties");function LYe(e){return WY?globalThis.Object.getOwnPropertyNames(e).map(r=>r[0]==="^"&&r[r.length-1]==="$"?r.slice(1,r.length-1):r):[]}o(LYe,"FromPatternProperties");function U0(e){return Ws(e)?BYe(e.allOf):Ui(e)?DYe(e.anyOf):Ou(e)?PYe(e.items??[]):_m(e)?FYe(e.items):ya(e)?NYe(e.properties):r4(e)?LYe(e.patternProperties):[]}o(U0,"KeyOfPropertyKeys");var WY=!1;function D1(e){WY=!0;let t=U0(e);return WY=!1,`^(${t.map(n=>`(${n})`).join("|")})$`}o(D1,"KeyOfPattern");function QYe(e,t){return Ko("KeyOf",[Ko(e,t)])}o(QYe,"FromComputed");function MYe(e){return Ko("KeyOf",[nd(e)])}o(MYe,"FromRef");function OYe(e,t){let r=U0(e),n=UYe(r),i=wp(n);return ft(i,t)}o(OYe,"KeyOfFromType");function UYe(e){return e.map(t=>t==="[number]"?ed():Bi(t))}o(UYe,"KeyOfPropertyKeysToRest");function _E(e,t){return Sm(e)?QYe(e.target,e.parameters):Js(e)?MYe(e.$ref):ls(e)?sge(e,t):OYe(e,t)}o(_E,"KeyOf");function qYe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=_E(e[n],ss(t));return r}o(qYe,"FromProperties");function WYe(e,t){return qYe(e.properties,t)}o(WYe,"FromMappedResult");function sge(e,t){let r=WYe(e,t);return $i(r)}o(sge,"KeyOfFromMappedResult");d();function SP(e){let t=U0(e),r=YT(e,t);return t.map((n,i)=>[t[i],r[i]])}o(SP,"KeyOfPropertyEntries");function GYe(e){let t=[];for(let r of e)t.push(...U0(r));return Ope(t)}o(GYe,"CompositeKeys");function HYe(e){return e.filter(t=>!_y(t))}o(HYe,"FilterNever");function jYe(e,t){let r=[];for(let n of e)r.push(...YT(n,[t]));return HYe(r)}o(jYe,"CompositeProperty");function VYe(e,t){let r={};for(let n of t)r[n]=wP(jYe(e,n));return r}o(VYe,"CompositeProperties");function age(e,t){let r=GYe(e),n=VYe(e,r);return so(n,t)}o(age,"Composite");d();d();function kP(e){return ft({[ot]:"Date",type:"Date"},e)}o(kP,"Date");d();function RP(e){return ft({[ot]:"Null",type:"null"},e)}o(RP,"Null");d();function BP(e){return ft({[ot]:"Symbol",type:"symbol"},e)}o(BP,"Symbol");d();function DP(e){return ft({[ot]:"Undefined",type:"undefined"},e)}o(DP,"Undefined");d();function PP(e){return ft({[ot]:"Uint8Array",type:"Uint8Array"},e)}o(PP,"Uint8Array");d();function Fm(e){return ft({[ot]:"Unknown"},e)}o(Fm,"Unknown");function $Ye(e){return e.map(t=>GY(t,!1))}o($Ye,"FromArray");function zYe(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=O0(GY(e[r],!1));return t}o(zYe,"FromProperties");function FP(e,t){return t===!0?e:O0(e)}o(FP,"ConditionalReadonly");function GY(e,t){return vY(e)?FP(ky(),t):EY(e)?FP(ky(),t):ga(e)?O0(td($Ye(e))):I1(e)?PP():J3(e)?kP():ko(e)?FP(so(zYe(e)),t):bY(e)?FP(Tp([],Fm()),t):Aa(e)?DP():IY(e)?RP():TY(e)?BP():MT(e)?IE():Fu(e)?Bi(e):E1(e)?Bi(e):Wo(e)?Bi(e):so({})}o(GY,"FromValue");function lge(e,t){return ft(GY(e,!0),t)}o(lge,"Const");d();function cge(e,t){return km(e)?td(e.parameters,t):ei(t)}o(cge,"ConstructorParameters");d();function uge(e,t){if(Aa(e))throw new Error("Enum undefined or empty");let r=globalThis.Object.getOwnPropertyNames(e).filter(s=>isNaN(s)).map(s=>e[s]),i=[...new Set(r)].map(s=>Bi(s));return oo(i,{...t,[Xf]:"Enum"})}o(uge,"Enum");d();d();d();var jY=class extends gn{static{o(this,"ExtendsResolverError")}},dt;(function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"})(dt||(dt={}));function id(e){return e===dt.False?e:dt.True}o(id,"IntoBooleanResult");function SE(e){throw new jY(e)}o(SE,"Throw");function Ma(e){return Oe.IsNever(e)||Oe.IsIntersect(e)||Oe.IsUnion(e)||Oe.IsUnknown(e)||Oe.IsAny(e)}o(Ma,"IsStructuralRight");function Oa(e,t){return Oe.IsNever(t)?Age(e,t):Oe.IsIntersect(t)?NP(e,t):Oe.IsUnion(t)?YY(e,t):Oe.IsUnknown(t)?vge(e,t):Oe.IsAny(t)?zY(e,t):SE("StructuralRight")}o(Oa,"StructuralRight");function zY(e,t){return dt.True}o(zY,"FromAnyRight");function YYe(e,t){return Oe.IsIntersect(t)?NP(e,t):Oe.IsUnion(t)&&t.anyOf.some(r=>Oe.IsAny(r)||Oe.IsUnknown(r))?dt.True:Oe.IsUnion(t)?dt.Union:Oe.IsUnknown(t)||Oe.IsAny(t)?dt.True:dt.Union}o(YYe,"FromAny");function KYe(e,t){return Oe.IsUnknown(e)?dt.False:Oe.IsAny(e)?dt.Union:Oe.IsNever(e)?dt.True:dt.False}o(KYe,"FromArrayRight");function JYe(e,t){return Oe.IsObject(t)&&LP(t)?dt.True:Ma(t)?Oa(e,t):Oe.IsArray(t)?id(Bo(e.items,t.items)):dt.False}o(JYe,"FromArray");function ZYe(e,t){return Ma(t)?Oa(e,t):Oe.IsAsyncIterator(t)?id(Bo(e.items,t.items)):dt.False}o(ZYe,"FromAsyncIterator");function XYe(e,t){return Ma(t)?Oa(e,t):Oe.IsObject(t)?Sc(e,t):Oe.IsRecord(t)?od(e,t):Oe.IsBigInt(t)?dt.True:dt.False}o(XYe,"FromBigInt");function pge(e,t){return Oe.IsLiteralBoolean(e)||Oe.IsBoolean(e)?dt.True:dt.False}o(pge,"FromBooleanRight");function eKe(e,t){return Ma(t)?Oa(e,t):Oe.IsObject(t)?Sc(e,t):Oe.IsRecord(t)?od(e,t):Oe.IsBoolean(t)?dt.True:dt.False}o(eKe,"FromBoolean");function tKe(e,t){return Ma(t)?Oa(e,t):Oe.IsObject(t)?Sc(e,t):Oe.IsConstructor(t)?e.parameters.length>t.parameters.length?dt.False:e.parameters.every((r,n)=>id(Bo(t.parameters[n],r))===dt.True)?id(Bo(e.returns,t.returns)):dt.False:dt.False}o(tKe,"FromConstructor");function rKe(e,t){return Ma(t)?Oa(e,t):Oe.IsObject(t)?Sc(e,t):Oe.IsRecord(t)?od(e,t):Oe.IsDate(t)?dt.True:dt.False}o(rKe,"FromDate");function nKe(e,t){return Ma(t)?Oa(e,t):Oe.IsObject(t)?Sc(e,t):Oe.IsFunction(t)?e.parameters.length>t.parameters.length?dt.False:e.parameters.every((r,n)=>id(Bo(t.parameters[n],r))===dt.True)?id(Bo(e.returns,t.returns)):dt.False:dt.False}o(nKe,"FromFunction");function gge(e,t){return Oe.IsLiteral(e)&&Tc.IsNumber(e.const)||Oe.IsNumber(e)||Oe.IsInteger(e)?dt.True:dt.False}o(gge,"FromIntegerRight");function iKe(e,t){return Oe.IsInteger(t)||Oe.IsNumber(t)?dt.True:Ma(t)?Oa(e,t):Oe.IsObject(t)?Sc(e,t):Oe.IsRecord(t)?od(e,t):dt.False}o(iKe,"FromInteger");function NP(e,t){return t.allOf.every(r=>Bo(e,r)===dt.True)?dt.True:dt.False}o(NP,"FromIntersectRight");function oKe(e,t){return e.allOf.some(r=>Bo(r,t)===dt.True)?dt.True:dt.False}o(oKe,"FromIntersect");function sKe(e,t){return Ma(t)?Oa(e,t):Oe.IsIterator(t)?id(Bo(e.items,t.items)):dt.False}o(sKe,"FromIterator");function aKe(e,t){return Oe.IsLiteral(t)&&t.const===e.const?dt.True:Ma(t)?Oa(e,t):Oe.IsObject(t)?Sc(e,t):Oe.IsRecord(t)?od(e,t):Oe.IsString(t)?xge(e,t):Oe.IsNumber(t)?yge(e,t):Oe.IsInteger(t)?gge(e,t):Oe.IsBoolean(t)?pge(e,t):dt.False}o(aKe,"FromLiteral");function Age(e,t){return dt.False}o(Age,"FromNeverRight");function lKe(e,t){return dt.True}o(lKe,"FromNever");function fge(e){let[t,r]=[e,0];for(;Oe.IsNot(t);)t=t.not,r+=1;return r%2===0?t:Fm()}o(fge,"UnwrapTNot");function cKe(e,t){return Oe.IsNot(e)?Bo(fge(e),t):Oe.IsNot(t)?Bo(e,fge(t)):SE("Invalid fallthrough for Not")}o(cKe,"FromNot");function uKe(e,t){return Ma(t)?Oa(e,t):Oe.IsObject(t)?Sc(e,t):Oe.IsRecord(t)?od(e,t):Oe.IsNull(t)?dt.True:dt.False}o(uKe,"FromNull");function yge(e,t){return Oe.IsLiteralNumber(e)||Oe.IsNumber(e)||Oe.IsInteger(e)?dt.True:dt.False}o(yge,"FromNumberRight");function fKe(e,t){return Ma(t)?Oa(e,t):Oe.IsObject(t)?Sc(e,t):Oe.IsRecord(t)?od(e,t):Oe.IsInteger(t)||Oe.IsNumber(t)?dt.True:dt.False}o(fKe,"FromNumber");function q0(e,t){return Object.getOwnPropertyNames(e.properties).length===t}o(q0,"IsObjectPropertyCount");function dge(e){return LP(e)}o(dge,"IsObjectStringLike");function mge(e){return q0(e,0)||q0(e,1)&&"description"in e.properties&&Oe.IsUnion(e.properties.description)&&e.properties.description.anyOf.length===2&&(Oe.IsString(e.properties.description.anyOf[0])&&Oe.IsUndefined(e.properties.description.anyOf[1])||Oe.IsString(e.properties.description.anyOf[1])&&Oe.IsUndefined(e.properties.description.anyOf[0]))}o(mge,"IsObjectSymbolLike");function HY(e){return q0(e,0)}o(HY,"IsObjectNumberLike");function hge(e){return q0(e,0)}o(hge,"IsObjectBooleanLike");function dKe(e){return q0(e,0)}o(dKe,"IsObjectBigIntLike");function mKe(e){return q0(e,0)}o(mKe,"IsObjectDateLike");function hKe(e){return LP(e)}o(hKe,"IsObjectUint8ArrayLike");function pKe(e){let t=ed();return q0(e,0)||q0(e,1)&&"length"in e.properties&&id(Bo(e.properties.length,t))===dt.True}o(pKe,"IsObjectFunctionLike");function gKe(e){return q0(e,0)}o(gKe,"IsObjectConstructorLike");function LP(e){let t=ed();return q0(e,0)||q0(e,1)&&"length"in e.properties&&id(Bo(e.properties.length,t))===dt.True}o(LP,"IsObjectArrayLike");function AKe(e){let t=Tp([ky()],ky());return q0(e,0)||q0(e,1)&&"then"in e.properties&&id(Bo(e.properties.then,t))===dt.True}o(AKe,"IsObjectPromiseLike");function Cge(e,t){return Bo(e,t)===dt.False||Oe.IsOptional(e)&&!Oe.IsOptional(t)?dt.False:dt.True}o(Cge,"Property");function Sc(e,t){return Oe.IsUnknown(e)?dt.False:Oe.IsAny(e)?dt.Union:Oe.IsNever(e)||Oe.IsLiteralString(e)&&dge(t)||Oe.IsLiteralNumber(e)&&HY(t)||Oe.IsLiteralBoolean(e)&&hge(t)||Oe.IsSymbol(e)&&mge(t)||Oe.IsBigInt(e)&&dKe(t)||Oe.IsString(e)&&dge(t)||Oe.IsSymbol(e)&&mge(t)||Oe.IsNumber(e)&&HY(t)||Oe.IsInteger(e)&&HY(t)||Oe.IsBoolean(e)&&hge(t)||Oe.IsUint8Array(e)&&hKe(t)||Oe.IsDate(e)&&mKe(t)||Oe.IsConstructor(e)&&gKe(t)||Oe.IsFunction(e)&&pKe(t)?dt.True:Oe.IsRecord(e)&&Oe.IsString(VY(e))?t[Xf]==="Record"?dt.True:dt.False:Oe.IsRecord(e)&&Oe.IsNumber(VY(e))?q0(t,0)?dt.True:dt.False:dt.False}o(Sc,"FromObjectRight");function yKe(e,t){return Ma(t)?Oa(e,t):Oe.IsRecord(t)?od(e,t):Oe.IsObject(t)?(()=>{for(let r of Object.getOwnPropertyNames(t.properties)){if(!(r in e.properties)&&!Oe.IsOptional(t.properties[r]))return dt.False;if(Oe.IsOptional(t.properties[r]))return dt.True;if(Cge(e.properties[r],t.properties[r])===dt.False)return dt.False}return dt.True})():dt.False}o(yKe,"FromObject");function CKe(e,t){return Ma(t)?Oa(e,t):Oe.IsObject(t)&&AKe(t)?dt.True:Oe.IsPromise(t)?id(Bo(e.item,t.item)):dt.False}o(CKe,"FromPromise");function VY(e){return Ep in e.patternProperties?ed():Ip in e.patternProperties?r0():SE("Unknown record key pattern")}o(VY,"RecordKey");function $Y(e){return Ep in e.patternProperties?e.patternProperties[Ep]:Ip in e.patternProperties?e.patternProperties[Ip]:SE("Unable to get record value schema")}o($Y,"RecordValue");function od(e,t){let[r,n]=[VY(t),$Y(t)];return Oe.IsLiteralString(e)&&Oe.IsNumber(r)&&id(Bo(e,n))===dt.True?dt.True:Oe.IsUint8Array(e)&&Oe.IsNumber(r)||Oe.IsString(e)&&Oe.IsNumber(r)||Oe.IsArray(e)&&Oe.IsNumber(r)?Bo(e,n):Oe.IsObject(e)?(()=>{for(let i of Object.getOwnPropertyNames(e.properties))if(Cge(n,e.properties[i])===dt.False)return dt.False;return dt.True})():dt.False}o(od,"FromRecordRight");function xKe(e,t){return Ma(t)?Oa(e,t):Oe.IsObject(t)?Sc(e,t):Oe.IsRecord(t)?Bo($Y(e),$Y(t)):dt.False}o(xKe,"FromRecord");function vKe(e,t){let r=Oe.IsRegExp(e)?r0():e,n=Oe.IsRegExp(t)?r0():t;return Bo(r,n)}o(vKe,"FromRegExp");function xge(e,t){return Oe.IsLiteral(e)&&Tc.IsString(e.const)||Oe.IsString(e)?dt.True:dt.False}o(xge,"FromStringRight");function bKe(e,t){return Ma(t)?Oa(e,t):Oe.IsObject(t)?Sc(e,t):Oe.IsRecord(t)?od(e,t):Oe.IsString(t)?dt.True:dt.False}o(bKe,"FromString");function EKe(e,t){return Ma(t)?Oa(e,t):Oe.IsObject(t)?Sc(e,t):Oe.IsRecord(t)?od(e,t):Oe.IsSymbol(t)?dt.True:dt.False}o(EKe,"FromSymbol");function IKe(e,t){return Oe.IsTemplateLiteral(e)?Bo(i4(e),t):Oe.IsTemplateLiteral(t)?Bo(e,i4(t)):SE("Invalid fallthrough for TemplateLiteral")}o(IKe,"FromTemplateLiteral");function TKe(e,t){return Oe.IsArray(t)&&e.items!==void 0&&e.items.every(r=>Bo(r,t.items)===dt.True)}o(TKe,"IsArrayOfTuple");function wKe(e,t){return Oe.IsNever(e)?dt.True:Oe.IsUnknown(e)?dt.False:Oe.IsAny(e)?dt.Union:dt.False}o(wKe,"FromTupleRight");function _Ke(e,t){return Ma(t)?Oa(e,t):Oe.IsObject(t)&&LP(t)||Oe.IsArray(t)&&TKe(e,t)?dt.True:Oe.IsTuple(t)?Tc.IsUndefined(e.items)&&!Tc.IsUndefined(t.items)||!Tc.IsUndefined(e.items)&&Tc.IsUndefined(t.items)?dt.False:Tc.IsUndefined(e.items)&&!Tc.IsUndefined(t.items)||e.items.every((r,n)=>Bo(r,t.items[n])===dt.True)?dt.True:dt.False:dt.False}o(_Ke,"FromTuple");function SKe(e,t){return Ma(t)?Oa(e,t):Oe.IsObject(t)?Sc(e,t):Oe.IsRecord(t)?od(e,t):Oe.IsUint8Array(t)?dt.True:dt.False}o(SKe,"FromUint8Array");function kKe(e,t){return Ma(t)?Oa(e,t):Oe.IsObject(t)?Sc(e,t):Oe.IsRecord(t)?od(e,t):Oe.IsVoid(t)?DKe(e,t):Oe.IsUndefined(t)?dt.True:dt.False}o(kKe,"FromUndefined");function YY(e,t){return t.anyOf.some(r=>Bo(e,r)===dt.True)?dt.True:dt.False}o(YY,"FromUnionRight");function RKe(e,t){return e.anyOf.every(r=>Bo(r,t)===dt.True)?dt.True:dt.False}o(RKe,"FromUnion");function vge(e,t){return dt.True}o(vge,"FromUnknownRight");function BKe(e,t){return Oe.IsNever(t)?Age(e,t):Oe.IsIntersect(t)?NP(e,t):Oe.IsUnion(t)?YY(e,t):Oe.IsAny(t)?zY(e,t):Oe.IsString(t)?xge(e,t):Oe.IsNumber(t)?yge(e,t):Oe.IsInteger(t)?gge(e,t):Oe.IsBoolean(t)?pge(e,t):Oe.IsArray(t)?KYe(e,t):Oe.IsTuple(t)?wKe(e,t):Oe.IsObject(t)?Sc(e,t):Oe.IsUnknown(t)?dt.True:dt.False}o(BKe,"FromUnknown");function DKe(e,t){return Oe.IsUndefined(e)||Oe.IsUndefined(e)?dt.True:dt.False}o(DKe,"FromVoidRight");function PKe(e,t){return Oe.IsIntersect(t)?NP(e,t):Oe.IsUnion(t)?YY(e,t):Oe.IsUnknown(t)?vge(e,t):Oe.IsAny(t)?zY(e,t):Oe.IsObject(t)?Sc(e,t):Oe.IsVoid(t)?dt.True:dt.False}o(PKe,"FromVoid");function Bo(e,t){return Oe.IsTemplateLiteral(e)||Oe.IsTemplateLiteral(t)?IKe(e,t):Oe.IsRegExp(e)||Oe.IsRegExp(t)?vKe(e,t):Oe.IsNot(e)||Oe.IsNot(t)?cKe(e,t):Oe.IsAny(e)?YYe(e,t):Oe.IsArray(e)?JYe(e,t):Oe.IsBigInt(e)?XYe(e,t):Oe.IsBoolean(e)?eKe(e,t):Oe.IsAsyncIterator(e)?ZYe(e,t):Oe.IsConstructor(e)?tKe(e,t):Oe.IsDate(e)?rKe(e,t):Oe.IsFunction(e)?nKe(e,t):Oe.IsInteger(e)?iKe(e,t):Oe.IsIntersect(e)?oKe(e,t):Oe.IsIterator(e)?sKe(e,t):Oe.IsLiteral(e)?aKe(e,t):Oe.IsNever(e)?lKe(e,t):Oe.IsNull(e)?uKe(e,t):Oe.IsNumber(e)?fKe(e,t):Oe.IsObject(e)?yKe(e,t):Oe.IsRecord(e)?xKe(e,t):Oe.IsString(e)?bKe(e,t):Oe.IsSymbol(e)?EKe(e,t):Oe.IsTuple(e)?_Ke(e,t):Oe.IsPromise(e)?CKe(e,t):Oe.IsUint8Array(e)?SKe(e,t):Oe.IsUndefined(e)?kKe(e,t):Oe.IsUnion(e)?RKe(e,t):Oe.IsUnknown(e)?BKe(e,t):Oe.IsVoid(e)?PKe(e,t):SE(`Unknown left type operand '${e[ot]}'`)}o(Bo,"Visit");function By(e,t){return Bo(e,t)}o(By,"ExtendsCheck");d();d();d();function FKe(e,t,r,n,i){let s={};for(let a of globalThis.Object.getOwnPropertyNames(e))s[a]=kE(e[a],t,r,n,ss(i));return s}o(FKe,"FromProperties");function NKe(e,t,r,n,i){return FKe(e.properties,t,r,n,i)}o(NKe,"FromMappedResult");function bge(e,t,r,n,i){let s=NKe(e,t,r,n,i);return $i(s)}o(bge,"ExtendsFromMappedResult");function LKe(e,t,r,n){let i=By(e,t);return i===dt.Union?oo([r,n]):i===dt.True?r:n}o(LKe,"ExtendsResolve");function kE(e,t,r,n,i){return ls(e)?bge(e,t,r,n,i):Qu(e)?ft(Ege(e,t,r,n,i)):ft(LKe(e,t,r,n),i)}o(kE,"Extends");function QKe(e,t,r,n,i){return{[e]:kE(Bi(e),t,r,n,ss(i))}}o(QKe,"FromPropertyKey");function MKe(e,t,r,n,i){return e.reduce((s,a)=>({...s,...QKe(a,t,r,n,i)}),{})}o(MKe,"FromPropertyKeys");function OKe(e,t,r,n,i){return MKe(e.keys,t,r,n,i)}o(OKe,"FromMappedKey");function Ege(e,t,r,n,i){let s=OKe(e,t,r,n,i);return $i(s)}o(Ege,"ExtendsFromMappedKey");d();function UKe(e){return e.allOf.every(t=>P1(t))}o(UKe,"Intersect");function qKe(e){return e.anyOf.some(t=>P1(t))}o(qKe,"Union");function WKe(e){return!P1(e.not)}o(WKe,"Not");function P1(e){return e[ot]==="Intersect"?UKe(e):e[ot]==="Union"?qKe(e):e[ot]==="Not"?WKe(e):e[ot]==="Undefined"}o(P1,"ExtendsUndefinedCheck");d();function Ige(e,t){return RE(i4(e),t)}o(Ige,"ExcludeFromTemplateLiteral");function GKe(e,t){let r=e.filter(n=>By(n,t)===dt.False);return r.length===1?r[0]:oo(r)}o(GKe,"ExcludeRest");function RE(e,t,r={}){return Mu(e)?ft(Ige(e,t),r):ls(e)?ft(Tge(e,t),r):ft(Ui(e)?GKe(e.anyOf,t):By(e,t)!==dt.False?ei():e,r)}o(RE,"Exclude");function HKe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=RE(e[n],t);return r}o(HKe,"FromProperties");function jKe(e,t){return HKe(e.properties,t)}o(jKe,"FromMappedResult");function Tge(e,t){let r=jKe(e,t);return $i(r)}o(Tge,"ExcludeFromMappedResult");d();d();d();function wge(e,t){return BE(i4(e),t)}o(wge,"ExtractFromTemplateLiteral");function VKe(e,t){let r=e.filter(n=>By(n,t)!==dt.False);return r.length===1?r[0]:oo(r)}o(VKe,"ExtractRest");function BE(e,t,r){return Mu(e)?ft(wge(e,t),r):ls(e)?ft(_ge(e,t),r):ft(Ui(e)?VKe(e.anyOf,t):By(e,t)!==dt.False?e:ei(),r)}o(BE,"Extract");function $Ke(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=BE(e[n],t);return r}o($Ke,"FromProperties");function zKe(e,t){return $Ke(e.properties,t)}o(zKe,"FromMappedResult");function _ge(e,t){let r=zKe(e,t);return $i(r)}o(_ge,"ExtractFromMappedResult");d();function Sge(e,t){return km(e)?ft(e.returns,t):ei(t)}o(Sge,"InstanceType");d();d();function QP(e){return O0(wc(e))}o(QP,"ReadonlyOptional");d();function o4(e,t,r){return ft({[ot]:"Record",type:"object",patternProperties:{[e]:t}},r)}o(o4,"RecordCreateFromPattern");function KY(e,t,r){let n={};for(let i of e)n[i]=t;return so(n,{...r,[Xf]:"Record"})}o(KY,"RecordCreateFromKeys");function YKe(e,t,r){return EP(e)?KY(M0(e),t,r):o4(e.pattern,t,r)}o(YKe,"FromTemplateLiteralKey");function KKe(e,t,r){return KY(M0(oo(e)),t,r)}o(KKe,"FromUnionKey");function JKe(e,t,r){return KY([e.toString()],t,r)}o(JKe,"FromLiteralKey");function ZKe(e,t,r){return o4(e.source,t,r)}o(ZKe,"FromRegExpKey");function XKe(e,t,r){let n=Aa(e.pattern)?Ip:e.pattern;return o4(n,t,r)}o(XKe,"FromStringKey");function eJe(e,t,r){return o4(Ip,t,r)}o(eJe,"FromAnyKey");function tJe(e,t,r){return o4(Qpe,t,r)}o(tJe,"FromNeverKey");function rJe(e,t,r){return so({true:t,false:t},r)}o(rJe,"FromBooleanKey");function nJe(e,t,r){return o4(Ep,t,r)}o(nJe,"FromIntegerKey");function iJe(e,t,r){return o4(Ep,t,r)}o(iJe,"FromNumberKey");function MP(e,t,r={}){return Ui(e)?KKe(e.anyOf,t,r):Mu(e)?YKe(e,t,r):Lu(e)?JKe(e.const,t,r):_1(e)?rJe(e,t,r):Bm(e)?nJe(e,t,r):Dm(e)?iJe(e,t,r):kY(e)?ZKe(e,t,r):S1(e)?XKe(e,t,r):_Y(e)?eJe(e,t,r):_y(e)?tJe(e,t,r):ei(r)}o(MP,"Record");function OP(e){return globalThis.Object.getOwnPropertyNames(e.patternProperties)[0]}o(OP,"RecordPattern");function kge(e){let t=OP(e);return t===Ip?r0():t===Ep?ed():r0({pattern:t})}o(kge,"RecordKey");function UP(e){return e.patternProperties[OP(e)]}o(UP,"RecordValue");function oJe(e,t){return t.parameters=ZT(e,t.parameters),t.returns=Nm(e,t.returns),t}o(oJe,"FromConstructor");function sJe(e,t){return t.parameters=ZT(e,t.parameters),t.returns=Nm(e,t.returns),t}o(sJe,"FromFunction");function aJe(e,t){return t.allOf=ZT(e,t.allOf),t}o(aJe,"FromIntersect");function lJe(e,t){return t.anyOf=ZT(e,t.anyOf),t}o(lJe,"FromUnion");function cJe(e,t){return Aa(t.items)||(t.items=ZT(e,t.items)),t}o(cJe,"FromTuple");function uJe(e,t){return t.items=Nm(e,t.items),t}o(uJe,"FromArray");function fJe(e,t){return t.items=Nm(e,t.items),t}o(fJe,"FromAsyncIterator");function dJe(e,t){return t.items=Nm(e,t.items),t}o(dJe,"FromIterator");function mJe(e,t){return t.item=Nm(e,t.item),t}o(mJe,"FromPromise");function hJe(e,t){let r=yJe(e,t.properties);return{...t,...so(r)}}o(hJe,"FromObject");function pJe(e,t){let r=Nm(e,kge(t)),n=Nm(e,UP(t)),i=MP(r,n);return{...t,...i}}o(pJe,"FromRecord");function gJe(e,t){return t.index in e?e[t.index]:Fm()}o(gJe,"FromArgument");function AJe(e,t){let r=pE(t),n=Q0(t),i=Nm(e,t);return r&&n?QP(i):r&&!n?O0(i):!r&&n?wc(i):i}o(AJe,"FromProperty");function yJe(e,t){return globalThis.Object.getOwnPropertyNames(t).reduce((r,n)=>({...r,[n]:AJe(e,t[n])}),{})}o(yJe,"FromProperties");function ZT(e,t){return t.map(r=>Nm(e,r))}o(ZT,"FromTypes");function Nm(e,t){return km(t)?oJe(e,t):Rm(t)?sJe(e,t):Ws(t)?aJe(e,t):Ui(t)?lJe(e,t):Ou(t)?cJe(e,t):_m(t)?uJe(e,t):Z3(t)?fJe(e,t):e4(t)?dJe(e,t):t4(t)?mJe(e,t):ya(t)?hJe(e,t):r4(t)?pJe(e,t):SY(t)?gJe(e,t):t}o(Nm,"FromType");function Rge(e,t){return Nm(t,mE(e))}o(Rge,"Instantiate");d();function Bge(e){return ft({[ot]:"Integer",type:"integer"},e)}o(Bge,"Integer");d();d();d();function CJe(e,t,r){return{[e]:Lm(Bi(e),t,ss(r))}}o(CJe,"MappedIntrinsicPropertyKey");function xJe(e,t,r){return e.reduce((i,s)=>({...i,...CJe(s,t,r)}),{})}o(xJe,"MappedIntrinsicPropertyKeys");function vJe(e,t,r){return xJe(e.keys,t,r)}o(vJe,"MappedIntrinsicProperties");function Dge(e,t,r){let n=vJe(e,t,r);return $i(n)}o(Dge,"IntrinsicFromMappedKey");function bJe(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toLowerCase(),r].join("")}o(bJe,"ApplyUncapitalize");function EJe(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toUpperCase(),r].join("")}o(EJe,"ApplyCapitalize");function IJe(e){return e.toUpperCase()}o(IJe,"ApplyUppercase");function TJe(e){return e.toLowerCase()}o(TJe,"ApplyLowercase");function wJe(e,t,r){let n=bE(e.pattern);if(!n4(n))return{...e,pattern:Pge(e.pattern,t)};let a=[...zT(n)].map(u=>Bi(u)),l=Fge(a,t),c=oo(l);return TP([c],r)}o(wJe,"FromTemplateLiteral");function Pge(e,t){return typeof e=="string"?t==="Uncapitalize"?bJe(e):t==="Capitalize"?EJe(e):t==="Uppercase"?IJe(e):t==="Lowercase"?TJe(e):e:e.toString()}o(Pge,"FromLiteralValue");function Fge(e,t){return e.map(r=>Lm(r,t))}o(Fge,"FromRest");function Lm(e,t,r={}){return Qu(e)?Dge(e,t,r):Mu(e)?wJe(e,t,r):Ui(e)?oo(Fge(e.anyOf,t),r):Lu(e)?Bi(Pge(e.const,t),r):ft(e,r)}o(Lm,"Intrinsic");function Nge(e,t={}){return Lm(e,"Capitalize",t)}o(Nge,"Capitalize");d();function Lge(e,t={}){return Lm(e,"Lowercase",t)}o(Lge,"Lowercase");d();function Qge(e,t={}){return Lm(e,"Uncapitalize",t)}o(Qge,"Uncapitalize");d();function Mge(e,t={}){return Lm(e,"Uppercase",t)}o(Mge,"Uppercase");d();d();d();d();d();function _Je(e,t,r){let n={};for(let i of globalThis.Object.getOwnPropertyNames(e))n[i]=Dy(e[i],t,ss(r));return n}o(_Je,"FromProperties");function SJe(e,t,r){return _Je(e.properties,t,r)}o(SJe,"FromMappedResult");function Oge(e,t,r){let n=SJe(e,t,r);return $i(n)}o(Oge,"OmitFromMappedResult");function kJe(e,t){return e.map(r=>JY(r,t))}o(kJe,"FromIntersect");function RJe(e,t){return e.map(r=>JY(r,t))}o(RJe,"FromUnion");function BJe(e,t){let{[t]:r,...n}=e;return n}o(BJe,"FromProperty");function DJe(e,t){return t.reduce((r,n)=>BJe(r,n),e)}o(DJe,"FromProperties");function PJe(e,t){let r=Gs(e,[Ss,"$id","required","properties"]),n=DJe(e.properties,t);return so(n,r)}o(PJe,"FromObject");function FJe(e){let t=e.reduce((r,n)=>xP(n)?[...r,Bi(n)]:r,[]);return oo(t)}o(FJe,"UnionFromPropertyKeys");function JY(e,t){return Ws(e)?_c(kJe(e.allOf,t)):Ui(e)?oo(RJe(e.anyOf,t)):ya(e)?PJe(e,t):so({})}o(JY,"OmitResolve");function Dy(e,t,r){let n=ga(t)?FJe(t):t,i=ks(t)?M0(t):t,s=Js(e),a=Js(t);return ls(e)?Oge(e,i,r):Qu(t)?Uge(e,t,r):s&&a?Ko("Omit",[e,n],r):!s&&a?Ko("Omit",[e,n],r):s&&!a?Ko("Omit",[e,n],r):ft({...JY(e,i),...r})}o(Dy,"Omit");function NJe(e,t,r){return{[t]:Dy(e,[t],ss(r))}}o(NJe,"FromPropertyKey");function LJe(e,t,r){return t.reduce((n,i)=>({...n,...NJe(e,i,r)}),{})}o(LJe,"FromPropertyKeys");function QJe(e,t,r){return LJe(e,t.keys,r)}o(QJe,"FromMappedKey");function Uge(e,t,r){let n=QJe(e,t,r);return $i(n)}o(Uge,"OmitFromMappedKey");d();d();d();function MJe(e,t,r){let n={};for(let i of globalThis.Object.getOwnPropertyNames(e))n[i]=Py(e[i],t,ss(r));return n}o(MJe,"FromProperties");function OJe(e,t,r){return MJe(e.properties,t,r)}o(OJe,"FromMappedResult");function qge(e,t,r){let n=OJe(e,t,r);return $i(n)}o(qge,"PickFromMappedResult");function UJe(e,t){return e.map(r=>ZY(r,t))}o(UJe,"FromIntersect");function qJe(e,t){return e.map(r=>ZY(r,t))}o(qJe,"FromUnion");function WJe(e,t){let r={};for(let n of t)n in e&&(r[n]=e[n]);return r}o(WJe,"FromProperties");function GJe(e,t){let r=Gs(e,[Ss,"$id","required","properties"]),n=WJe(e.properties,t);return so(n,r)}o(GJe,"FromObject");function HJe(e){let t=e.reduce((r,n)=>xP(n)?[...r,Bi(n)]:r,[]);return oo(t)}o(HJe,"UnionFromPropertyKeys");function ZY(e,t){return Ws(e)?_c(UJe(e.allOf,t)):Ui(e)?oo(qJe(e.anyOf,t)):ya(e)?GJe(e,t):so({})}o(ZY,"PickResolve");function Py(e,t,r){let n=ga(t)?HJe(t):t,i=ks(t)?M0(t):t,s=Js(e),a=Js(t);return ls(e)?qge(e,i,r):Qu(t)?Wge(e,t,r):s&&a?Ko("Pick",[e,n],r):!s&&a?Ko("Pick",[e,n],r):s&&!a?Ko("Pick",[e,n],r):ft({...ZY(e,i),...r})}o(Py,"Pick");function jJe(e,t,r){return{[t]:Py(e,[t],ss(r))}}o(jJe,"FromPropertyKey");function VJe(e,t,r){return t.reduce((n,i)=>({...n,...jJe(e,i,r)}),{})}o(VJe,"FromPropertyKeys");function $Je(e,t,r){return VJe(e,t.keys,r)}o($Je,"FromMappedKey");function Wge(e,t,r){let n=$Je(e,t,r);return $i(n)}o(Wge,"PickFromMappedKey");d();d();function zJe(e,t){return Ko("Partial",[Ko(e,t)])}o(zJe,"FromComputed");function YJe(e){return Ko("Partial",[nd(e)])}o(YJe,"FromRef");function KJe(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=wc(e[r]);return t}o(KJe,"FromProperties");function JJe(e){let t=Gs(e,[Ss,"$id","required","properties"]),r=KJe(e.properties);return so(r,t)}o(JJe,"FromObject");function Gge(e){return e.map(t=>Hge(t))}o(Gge,"FromRest");function Hge(e){return Sm(e)?zJe(e.target,e.parameters):Js(e)?YJe(e.$ref):Ws(e)?_c(Gge(e.allOf)):Ui(e)?oo(Gge(e.anyOf)):ya(e)?JJe(e):X3(e)||_1(e)||Bm(e)||Lu(e)||qT(e)||Dm(e)||S1(e)||WT(e)||k1(e)?e:so({})}o(Hge,"PartialResolve");function DE(e,t){return ls(e)?jge(e,t):ft({...Hge(e),...t})}o(DE,"Partial");function ZJe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=DE(e[n],ss(t));return r}o(ZJe,"FromProperties");function XJe(e,t){return ZJe(e.properties,t)}o(XJe,"FromMappedResult");function jge(e,t){let r=XJe(e,t);return $i(r)}o(jge,"PartialFromMappedResult");d();d();function eZe(e,t){return Ko("Required",[Ko(e,t)])}o(eZe,"FromComputed");function tZe(e){return Ko("Required",[nd(e)])}o(tZe,"FromRef");function rZe(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=Gs(e[r],[Jl]);return t}o(rZe,"FromProperties");function nZe(e){let t=Gs(e,[Ss,"$id","required","properties"]),r=rZe(e.properties);return so(r,t)}o(nZe,"FromObject");function Vge(e){return e.map(t=>$ge(t))}o(Vge,"FromRest");function $ge(e){return Sm(e)?eZe(e.target,e.parameters):Js(e)?tZe(e.$ref):Ws(e)?_c(Vge(e.allOf)):Ui(e)?oo(Vge(e.anyOf)):ya(e)?nZe(e):X3(e)||_1(e)||Bm(e)||Lu(e)||qT(e)||Dm(e)||S1(e)||WT(e)||k1(e)?e:so({})}o($ge,"RequiredResolve");function PE(e,t){return ls(e)?zge(e,t):ft({...$ge(e),...t})}o(PE,"Required");function iZe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=PE(e[n],t);return r}o(iZe,"FromProperties");function oZe(e,t){return iZe(e.properties,t)}o(oZe,"FromMappedResult");function zge(e,t){let r=oZe(e,t);return $i(r)}o(zge,"RequiredFromMappedResult");function sZe(e,t){return t.map(r=>Js(r)?XY(e,r.$ref):Uu(e,r))}o(sZe,"DereferenceParameters");function XY(e,t){return t in e?Js(e[t])?XY(e,e[t].$ref):Uu(e,e[t]):ei()}o(XY,"Dereference");function aZe(e){return wE(e[0])}o(aZe,"FromAwaited");function lZe(e){return Ry(e[0],e[1])}o(lZe,"FromIndex");function cZe(e){return _E(e[0])}o(cZe,"FromKeyOf");function uZe(e){return DE(e[0])}o(uZe,"FromPartial");function fZe(e){return Dy(e[0],e[1])}o(fZe,"FromOmit");function dZe(e){return Py(e[0],e[1])}o(dZe,"FromPick");function mZe(e){return PE(e[0])}o(mZe,"FromRequired");function hZe(e,t,r){let n=sZe(e,r);return t==="Awaited"?aZe(n):t==="Index"?lZe(n):t==="KeyOf"?cZe(n):t==="Partial"?uZe(n):t==="Omit"?fZe(n):t==="Pick"?dZe(n):t==="Required"?mZe(n):ei()}o(hZe,"FromComputed");function pZe(e,t){return yE(Uu(e,t))}o(pZe,"FromArray");function gZe(e,t){return CE(Uu(e,t))}o(gZe,"FromAsyncIterator");function AZe(e,t,r){return xE(XT(e,t),Uu(e,r))}o(AZe,"FromConstructor");function yZe(e,t,r){return Tp(XT(e,t),Uu(e,r))}o(yZe,"FromFunction");function CZe(e,t){return _c(XT(e,t))}o(CZe,"FromIntersect");function xZe(e,t){return TE(Uu(e,t))}o(xZe,"FromIterator");function vZe(e,t){return so(globalThis.Object.keys(t).reduce((r,n)=>({...r,[n]:Uu(e,t[n])}),{}))}o(vZe,"FromObject");function bZe(e,t){let[r,n]=[Uu(e,UP(t)),OP(t)],i=mE(t);return i.patternProperties[n]=r,i}o(bZe,"FromRecord");function EZe(e,t){return Js(t)?{...XY(e,t.$ref),[Ss]:t[Ss]}:t}o(EZe,"FromTransform");function IZe(e,t){return td(XT(e,t))}o(IZe,"FromTuple");function TZe(e,t){return oo(XT(e,t))}o(TZe,"FromUnion");function XT(e,t){return t.map(r=>Uu(e,r))}o(XT,"FromTypes");function Uu(e,t){return Q0(t)?ft(Uu(e,Gs(t,[Jl])),t):pE(t)?ft(Uu(e,Gs(t,[wm])),t):io(t)?ft(EZe(e,t),t):_m(t)?ft(pZe(e,t.items),t):Z3(t)?ft(gZe(e,t.items),t):Sm(t)?ft(hZe(e,t.target,t.parameters)):km(t)?ft(AZe(e,t.parameters,t.returns),t):Rm(t)?ft(yZe(e,t.parameters,t.returns),t):Ws(t)?ft(CZe(e,t.allOf),t):e4(t)?ft(xZe(e,t.items),t):ya(t)?ft(vZe(e,t.properties),t):r4(t)?ft(bZe(e,t)):Ou(t)?ft(IZe(e,t.items||[]),t):Ui(t)?ft(TZe(e,t.anyOf),t):t}o(Uu,"FromType");function wZe(e,t){return t in e?Uu(e,e[t]):ei()}o(wZe,"ComputeType");function Yge(e){return globalThis.Object.getOwnPropertyNames(e).reduce((t,r)=>({...t,[r]:wZe(e,r)}),{})}o(Yge,"ComputeModuleProperties");var eK=class{static{o(this,"TModule")}constructor(t){let r=Yge(t),n=this.WithIdentifiers(r);this.$defs=n}Import(t,r){let n={...this.$defs,[t]:ft(this.$defs[t],r)};return ft({[ot]:"Import",$defs:n,$ref:t})}WithIdentifiers(t){return globalThis.Object.getOwnPropertyNames(t).reduce((r,n)=>({...r,[n]:{...t[n],$id:n}}),{})}};function Kge(e){return new eK(e)}o(Kge,"Module");d();function Jge(e,t){return ft({[ot]:"Not",not:e},t)}o(Jge,"Not");d();function Zge(e,t){return Rm(e)?td(e.parameters,t):ei()}o(Zge,"Parameters");d();var _Ze=0;function Xge(e,t={}){Aa(t.$id)&&(t.$id=`T${_Ze++}`);let r=mE(e({[ot]:"This",$ref:`${t.$id}`}));return r.$id=t.$id,ft({[Xf]:"Recursive",...r},t)}o(Xge,"Recursive");d();function e1e(e,t){let r=Wo(e)?new globalThis.RegExp(e):e;return ft({[ot]:"RegExp",type:"RegExp",source:r.source,flags:r.flags},t)}o(e1e,"RegExp");d();function SZe(e){return Ws(e)?e.allOf:Ui(e)?e.anyOf:Ou(e)?e.items??[]:[]}o(SZe,"RestResolve");function t1e(e){return SZe(e)}o(t1e,"Rest");d();function r1e(e,t){return Rm(e)?ft(e.returns,t):ei(t)}o(r1e,"ReturnType");d();var tK=class{static{o(this,"TransformDecodeBuilder")}constructor(t){this.schema=t}Decode(t){return new rK(this.schema,t)}},rK=class{static{o(this,"TransformEncodeBuilder")}constructor(t,r){this.schema=t,this.decode=r}EncodeTransform(t,r){let s={Encode:o(a=>r[Ss].Encode(t(a)),"Encode"),Decode:o(a=>this.decode(r[Ss].Decode(a)),"Decode")};return{...r,[Ss]:s}}EncodeSchema(t,r){let n={Decode:this.decode,Encode:t};return{...r,[Ss]:n}}Encode(t){return io(this.schema)?this.EncodeTransform(t,this.schema):this.EncodeSchema(t,this.schema)}};function n1e(e){return new tK(e)}o(n1e,"Transform");d();function i1e(e={}){return ft({[ot]:e[ot]??"Unsafe"},e)}o(i1e,"Unsafe");d();function o1e(e){return ft({[ot]:"Void",type:"void"},e)}o(o1e,"Void");d();var nK={};x1(nK,{Any:()=>ky,Argument:()=>Wpe,Array:()=>yE,AsyncIterator:()=>CE,Awaited:()=>wE,BigInt:()=>IE,Boolean:()=>IP,Capitalize:()=>Nge,Composite:()=>age,Const:()=>lge,Constructor:()=>xE,ConstructorParameters:()=>cge,Date:()=>kP,Enum:()=>uge,Exclude:()=>RE,Extends:()=>kE,Extract:()=>BE,Function:()=>Tp,Index:()=>Ry,InstanceType:()=>Sge,Instantiate:()=>Rge,Integer:()=>Bge,Intersect:()=>_c,Iterator:()=>TE,KeyOf:()=>_E,Literal:()=>Bi,Lowercase:()=>Lge,Mapped:()=>tge,Module:()=>Kge,Never:()=>ei,Not:()=>Jge,Null:()=>RP,Number:()=>ed,Object:()=>so,Omit:()=>Dy,Optional:()=>wc,Parameters:()=>Zge,Partial:()=>DE,Pick:()=>Py,Promise:()=>_P,Readonly:()=>O0,ReadonlyOptional:()=>QP,Record:()=>MP,Recursive:()=>Xge,Ref:()=>nd,RegExp:()=>e1e,Required:()=>PE,Rest:()=>t1e,ReturnType:()=>r1e,String:()=>r0,Symbol:()=>BP,TemplateLiteral:()=>TP,Transform:()=>n1e,Tuple:()=>td,Uint8Array:()=>PP,Uncapitalize:()=>Qge,Undefined:()=>DP,Union:()=>oo,Unknown:()=>Fm,Unsafe:()=>i1e,Uppercase:()=>Mge,Void:()=>o1e});d();var I=nK;var Nye=et(ti()),Lye=I.Object({accessToken:I.Optional(I.String({minLength:1})),handle:I.Optional(I.String({minLength:1})),githubAppId:I.Optional(I.String({minLength:1}))}),BJ;(r=>(r.method="github/didChangeAuth",r.type=new Nye.ProtocolNotificationType(r.method)))(BJ||={});d();var Qye=et(ti()),DJ;(r=>(r.method="copilot/ipCodeCitation",r.type=new Qye.NotificationType(r.method)))(DJ||={});d();var Mye=et(ti()),_F;(r=>(r.method="context/update",r.type=new Mye.ProtocolRequestType(r.method)))(_F||={});d();d();var Gy="Cancelled";d();var Vn=et(ti()),cw=I.String(),V0=I.Object({uri:cw}),f4=I.Intersect([V0,I.Object({version:I.Optional(I.Integer())})]),csr=I.Required(f4),xl=I.Object({line:I.Integer({minimum:0}),character:I.Integer({minimum:0})}),Ca=I.Object({start:xl,end:xl}),PJ=I.Union([I.Integer(),I.String()]),usr=I.Object({isCancellationRequested:I.Boolean(),onCancellationRequested:I.Any()});d();var Oye=et(ti()),FJ;(r=>(r.method="textDocument/didFocus",r.type=new Oye.ProtocolNotificationType(r.method)))(FJ||={});d();var DXe=I.Object({didChangeFeatureFlags:I.Boolean(),fetch:I.Boolean(),ipCodeCitation:I.Boolean(),redirectedTelemetry:I.Boolean(),related:I.Boolean(),token:I.Boolean(),watchedFiles:I.Boolean()}),PXe=I.Object({name:I.String(),version:I.String(),readableName:I.Optional(I.String())}),Uye=I.Object({name:I.String(),version:I.Optional(I.String()),readableName:I.Optional(I.String())}),qye=I.Object({editorInfo:I.Optional(Uye),editorPluginInfo:I.Optional(Uye),relatedPluginInfo:I.Optional(I.Array(PXe)),copilotIntegrationId:I.Optional(I.String()),copilotCapabilities:I.Optional(I.Partial(DXe)),githubAppId:I.Optional(I.String())});d();var uw=et(ti());var SF=(r=>(r[r.Invoked=1]="Invoked",r[r.Automatic=2]="Automatic",r))(SF||{}),FXe=I.Enum(SF),NXe=I.Object({triggerKind:FXe,selectedCompletionInfo:I.Optional(I.Object({text:I.String(),range:Ca,tooltipSignature:I.Optional(I.String())}))}),Wye=I.Object({textDocument:f4,position:xl,formattingOptions:I.Optional(I.Object({tabSize:I.Optional(I.Union([I.Integer({minimum:1}),I.String()])),insertSpaces:I.Optional(I.Union([I.Boolean(),I.String()]))})),context:NXe,data:I.Optional(I.Unknown())}),NJ;(r=>(r.method="textDocument/inlineCompletion",r.type=new uw.ProtocolRequestType(r.method)))(NJ||={});var Gye=I.Object({command:I.Object({arguments:I.Tuple([I.String({minLength:1})])})}),Hye=I.Object({item:Gye}),LJ;(r=>(r.method="textDocument/didShowCompletion",r.type=new uw.ProtocolNotificationType(r.method)))(LJ||={});var jye=I.Object({item:Gye,acceptedLength:I.Integer({minimum:1})}),QJ;(r=>(r.method="textDocument/didPartiallyAcceptCompletion",r.type=new uw.ProtocolNotificationType(r.method)))(QJ||={});d();var Vye=et(ti()),MJ;(r=>(r.method="textDocument/inlineCompletionPrompt",r.type=new Vye.ProtocolRequestType(r.method)))(MJ||={});d();var $ye=et(ti()),zye=I.Object({textDocument:f4,position:xl}),LXe=I.Object({command:I.Object({arguments:I.Tuple([I.String({minLength:1})])})}),Yye=I.Object({item:LXe}),OJ;(r=>(r.method="textDocument/didShowInlineEdit",r.type=new $ye.ProtocolNotificationType(r.method)))(OJ||={});d();var kF=et(ti());var Kye=I.Object({textDocument:f4,position:xl,partialResultToken:I.Optional(PJ),workDoneToken:I.Optional(PJ)}),RF;(n=>(n.method="textDocument/copilotPanelCompletion",n.type=new kF.ProtocolRequestType(n.method),n.partialResult=new kF.ProgressType))(RF||={});d();var Jye=et(ti()),UJ;(r=>(r.method="copilot/related",r.type=new Jye.ProtocolRequestType(r.method)))(UJ||={});d();var Zye=et(ti()),qJ;(r=>(r.method="statusNotification",r.type=new Zye.ProtocolNotificationType(r.method)))(qJ||={});var Xye=et(require("events"));var BF="CopilotToken",Rp=class{static{o(this,"CopilotTokenNotifier")}#e=new Xye.default;#t;constructor(){this.#e.setMaxListeners(20)}emitToken(t){if(t.token!==this.#t?.token)return this.#t=t,this.#e.emit(BF,t)}onToken(t){return this.#e.on(BF,t),Vn.Disposable.create(()=>this.#e.off(BF,t))}};function js(e,t){let r=Gu(e,t,`event.${BF}`);return e.get(Rp).onToken(r)}o(js,"onCopilotToken");function fw(e,t){return e.get(Rp).emitToken(t)}o(fw,"emitCopilotToken");var Xl=class{static{o(this,"TelemetryUserConfig")}constructor(t,r,n,i){this.trackingId=r,this.optedIn=n??!1,this.ftFlag=i??"",this.setupUpdateOnToken(t)}setupUpdateOnToken(t){js(t,r=>{let n=r.getTokenValue("rt")==="1",i=r.getTokenValue("ft")??"",s=r.getTokenValue("tid"),a=r.organization_list,l=r.enterprise_list,c=r.getTokenValue("sku");s!==void 0&&(this.trackingId=s,this.organizationsList=a?.toString(),this.enterpriseList=l?.toString(),this.sku=c,this.optedIn=n,this.ftFlag=i)})}};var DF=et(Iy()),PF=et(require("os"));var QXe=/^(\s+at)?(.*?)(@|\s\(|\s)([^(\n]+?)(:\d+)?(:\d+)?(\)?)$/;function MXe(e){let t={type:e.name,value:e.message},r=e.stack?.replace(/^.*?:\d+\n.*\n *\^?\n\n/,"");if(r?.startsWith(e.toString()+`
`)){t.stacktrace=[];for(let n of r.slice(e.toString().length+1).split(/\n/).reverse()){let i=n.match(QXe),s={filename:"",function:""};i&&(s.function=i[2]?.trim()?.replace(/^[^.]{1,2}(\.|$)/,"_$1")??s.function,s.filename=(i[4]?.trim()??s.filename).replace(/^\.\/dist\//,"/github-copilot/dist/"),i[5]&&i[5]!==":0"&&(s.lineno=i[5].slice(1)),i[6]&&i[5]!==":0"&&(s.colno=i[6].slice(1)),s.in_app=!/[[<:]|(?:^|\/)node_modules\//.test(s.filename)),t.stacktrace.push(s)}}return t}o(MXe,"buildExceptionDetail");function WJ(e,t){let r=e.get(dn),n=r.getEditorInfo(),i=e.get(Xl),s={"#editor":n.devName??n.name,"#editor_version":Bp({name:n.devName??n.name,version:n.version}),"#plugin":r.getEditorPluginInfo().name,"#plugin_version":Bp(r.getEditorPluginInfo()),"#session_id":e.get(_s).sessionId,"#machine_id":e.get(_s).machineId,"#architecture":PF.arch(),"#os_platform":PF.platform(),...t};return i.trackingId&&(s.user=i.trackingId,s["#tracking_id"]=i.trackingId),s}o(WJ,"buildContext");function e5e(e,t){let r=e.get(Eo),n=e.get(dn).getEditorInfo(),i=typeof process<"u"?process.versions.node:"web",s={app:"copilot-client",rollup_id:"auto",platform:"node",release:r.getBuildType()!=="dev"?`copilot-client@${r.getVersion()}`:void 0,deployed_to:r.getBuildType(),catalog_service:n.name==="vscode"?"CopilotCompletionsVSCode":"CopilotLanguageServer",context:WJ(e,{"#node_version":i}),sensitive_context:{}},a=[];s.exception_detail=[];let l=0,c=t;for(;c instanceof Error&&l<10;){let f=MXe(c);s.exception_detail.unshift(f),a.unshift([c,f]),l+=1,c=c.cause}let u=[];for(let[f,m]of a)if(m.stacktrace&&m.stacktrace.length>0){u.push(`${m.type}: ${f.code??""}`);let h=[...m.stacktrace].reverse();for(let p of h)if(p.filename?.startsWith("/github-copilot/"))return s;for(let p of h)if(p.in_app){u.push(`${p.filename?.replace(/^\.\//,"")}:${p.lineno}:${p.colno}`);break}u.push(`${h[0].filename?.replace(/^\.\//,"")}`)}else return s;return s.exception_detail.length>0&&(s.rollup_id=(0,DF.SHA256)(DF.enc.Utf16.parse(u.join(`
`))).toString()),s}o(e5e,"buildPayload");d();var dw=class{static{o(this,"FailingTelemetryReporter")}sendTelemetryEvent(t,r,n){throw new Error("Telemetry disabled")}sendTelemetryErrorEvent(t,r,n,i){throw new Error("Telemetry disabled")}dispose(){return Promise.resolve()}hackOptOutListener(){}};d();var Dp=class{constructor(t=5){this.perTenMinutes=t;this.cache=new In}static{o(this,"ExceptionRateLimiter")}isThrottled(t){let r=Date.now(),n=this.cache.get(t)||new Array(this.perTenMinutes).fill(0);return r-n[0]<6e5?!0:(n.push(r),n.shift(),this.cache.set(t,n),!1)}};d();var ld=class e{constructor(t){this.flags=t}static{o(this,"RuntimeMode")}static fromEnvironment(t,r=process.argv,n=process.env){return new e({debug:n5e(r,n),verboseLogging:UXe(r,n),testMode:t,simulation:OXe(n)})}};function Om(e){return e.get(ld).flags.testMode}o(Om,"isRunningInTest");function XE(e){return Om(e)}o(XE,"shouldFailForDebugPurposes");function eI(e){return e.get(ld).flags.debug}o(eI,"isDebugEnabled");function r5e(e){return e.get(ld).flags.verboseLogging}o(r5e,"isVerboseLoggingEnabled");function n5e(e,t){return e.includes("--debug")||GJ(t,"DEBUG")}o(n5e,"determineDebugFlag");function OXe(e){return GJ(e,"SIMULATION")}o(OXe,"determineSimulationFlag");function NF(e){return e.get(ld).flags.simulation}o(NF,"isRunningInSimulation");function UXe(e,t){return t.COPILOT_AGENT_VERBOSE==="1"||t.COPILOT_AGENT_VERBOSE?.toLowerCase()==="true"||GJ(t,"VERBOSE")||n5e(e,t)}o(UXe,"determineVerboseLoggingEnabled");function GJ(e,t){for(let r of["GH_COPILOT_","GITHUB_COPILOT_"]){let n=e[`${r}${t}`];if(n)return n==="1"||n?.toLowerCase()==="true"}return!1}o(GJ,"determineEnvFlagEnabled");d();var Do=class{constructor(){this.promises=new Set}static{o(this,"PromiseQueue")}register(t){this.promises.add(t),t.finally(()=>this.promises.delete(t))}async flush(){await Promise.allSettled(this.promises)}};d();var s5e=require("os"),a5e=et(require("path"));function mw(e){return e.replace(/(file:\/\/)([^\s<>]+)/gi,"$1[redacted]").replace(/(^|[\s|:=(<'"`])((?:\/(?=[^/])|\\|[a-zA-Z]:[\\/])[^\s:)>'"`]+)/g,"$1[redacted]")}o(mw,"redactPaths");var qXe=new Set(["Maximum call stack size exceeded","Set maximum size exceeded","Invalid arguments"]),WXe=[/^[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}.]+ is not a function[ \w]*$/u,/^Cannot read properties of undefined \(reading '[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}]+'\)$/u];function jJ(e){if(qXe.has(e))return e;for(let t of WXe)if(t.test(e))return e;return mw(e).replace(/\bDNS:(?:\*\.)?[\w.-]+/gi,"DNS:[redacted]")}o(jJ,"redactMessage");function LF(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(LF,"escapeForRegExp");var GXe=new RegExp("(?<=^|[\\s|(\"'`]|file://)"+LF((0,s5e.homedir)())+"(?=$|[\\\\/:\"'`])","gi");function HJ(e){return e.replace(GXe,"~")}o(HJ,"redactHomeDir");var l5e="[\\\\/]?([^:)]*)(?=:\\d)",i5e=new RegExp(LF(a5e.sep),"g"),o5e=new RegExp(LF(__dirname.replace(/[\\/]lib[\\/]src[\\/]util$|[\\/]dist$/,""))+l5e,"gi");function VJ(e,t,r=!1,n=[]){let i=new Error(t(e));i.name=e.name,typeof e.syscall=="string"&&(i.syscall=e.syscall),typeof e.code=="string"&&(i.code=e.code),typeof e.errno=="number"&&(i.errno=e.errno),i.stack=void 0;let s=e.stack?.replace(/^.*?:\d+\n.*\n *\^?\n\n/,""),a;for(let l of[e.toString(),`${e.name}: ${e.message}`])if(s?.startsWith(l+`
`)){a=s.slice(l.length+1).split(/\n/);break}if(a){i.stack=i.toString();for(let l of a)if(o5e.test(l))i.stack+=`
${mw(l.replace(o5e,(c,u)=>"./"+u.replace(i5e,"/")))}`;else if(/[ (]node:|[ (]wasm:\/\/wasm\/| \(<anonymous>\)$/.test(l))i.stack+=`
${mw(l)}`;else{let c=!1;for(let{prefix:u,path:f}of n){let m=new RegExp(LF(f.replace(/[\\/]$/,""))+l5e,"gi");if(m.test(l)){i.stack+=`
${mw(l.replace(m,(h,p)=>u+p.replace(i5e,"/")))}`,c=!0;break}}if(c)continue;r?i.stack+=`
${HJ(l)}`:i.stack+=`
    at [redacted]:0:0`}}else r&&s&&(i.stack=HJ(s));return e.cause instanceof Error&&(i.cause=VJ(e.cause,t,r,n)),i}o(VJ,"cloneError");function c5e(e){let t=e.message;return typeof e.path=="string"&&e.path.length>0&&(t=t.replaceAll(e.path,"<path>")),t}o(c5e,"errorMessageWithoutPath");function u5e(e,t){return VJ(e,o(function(n){return HJ(c5e(n))},"prepareMessage"),!0,t)}o(u5e,"prepareErrorForRestrictedTelemetry");function $J(e,t,r=!1){return VJ(e,o(function(i){if(r)return jJ(c5e(i));let s="[redacted]";return typeof i.code=="string"&&(s=i.code+" "+s),typeof i.syscall=="string"?s=mw(i.syscall)+" "+s:"erroredSysCall"in i&&typeof i.erroredSysCall=="string"&&(s=i.erroredSysCall+" "+s),s},"prepareMessage"),!1,t)}o($J,"redactError");d();d();function HXe(e){switch(e.errorType){case nt.ArrayContains:return"Expected array to contain at least one matching value";case nt.ArrayMaxContains:return`Expected array to contain no more than ${e.schema.maxContains} matching values`;case nt.ArrayMinContains:return`Expected array to contain at least ${e.schema.minContains} matching values`;case nt.ArrayMaxItems:return`Expected array length to be less or equal to ${e.schema.maxItems}`;case nt.ArrayMinItems:return`Expected array length to be greater or equal to ${e.schema.minItems}`;case nt.ArrayUniqueItems:return"Expected array elements to be unique";case nt.Array:return"Expected array";case nt.AsyncIterator:return"Expected AsyncIterator";case nt.BigIntExclusiveMaximum:return`Expected bigint to be less than ${e.schema.exclusiveMaximum}`;case nt.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${e.schema.exclusiveMinimum}`;case nt.BigIntMaximum:return`Expected bigint to be less or equal to ${e.schema.maximum}`;case nt.BigIntMinimum:return`Expected bigint to be greater or equal to ${e.schema.minimum}`;case nt.BigIntMultipleOf:return`Expected bigint to be a multiple of ${e.schema.multipleOf}`;case nt.BigInt:return"Expected bigint";case nt.Boolean:return"Expected boolean";case nt.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${e.schema.exclusiveMinimumTimestamp}`;case nt.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${e.schema.exclusiveMaximumTimestamp}`;case nt.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${e.schema.minimumTimestamp}`;case nt.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${e.schema.maximumTimestamp}`;case nt.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${e.schema.multipleOfTimestamp}`;case nt.Date:return"Expected Date";case nt.Function:return"Expected function";case nt.IntegerExclusiveMaximum:return`Expected integer to be less than ${e.schema.exclusiveMaximum}`;case nt.IntegerExclusiveMinimum:return`Expected integer to be greater than ${e.schema.exclusiveMinimum}`;case nt.IntegerMaximum:return`Expected integer to be less or equal to ${e.schema.maximum}`;case nt.IntegerMinimum:return`Expected integer to be greater or equal to ${e.schema.minimum}`;case nt.IntegerMultipleOf:return`Expected integer to be a multiple of ${e.schema.multipleOf}`;case nt.Integer:return"Expected integer";case nt.IntersectUnevaluatedProperties:return"Unexpected property";case nt.Intersect:return"Expected all values to match";case nt.Iterator:return"Expected Iterator";case nt.Literal:return`Expected ${typeof e.schema.const=="string"?`'${e.schema.const}'`:e.schema.const}`;case nt.Never:return"Never";case nt.Not:return"Value should not match";case nt.Null:return"Expected null";case nt.NumberExclusiveMaximum:return`Expected number to be less than ${e.schema.exclusiveMaximum}`;case nt.NumberExclusiveMinimum:return`Expected number to be greater than ${e.schema.exclusiveMinimum}`;case nt.NumberMaximum:return`Expected number to be less or equal to ${e.schema.maximum}`;case nt.NumberMinimum:return`Expected number to be greater or equal to ${e.schema.minimum}`;case nt.NumberMultipleOf:return`Expected number to be a multiple of ${e.schema.multipleOf}`;case nt.Number:return"Expected number";case nt.Object:return"Expected object";case nt.ObjectAdditionalProperties:return"Unexpected property";case nt.ObjectMaxProperties:return`Expected object to have no more than ${e.schema.maxProperties} properties`;case nt.ObjectMinProperties:return`Expected object to have at least ${e.schema.minProperties} properties`;case nt.ObjectRequiredProperty:return"Expected required property";case nt.Promise:return"Expected Promise";case nt.RegExp:return"Expected string to match regular expression";case nt.StringFormatUnknown:return`Unknown format '${e.schema.format}'`;case nt.StringFormat:return`Expected string to match '${e.schema.format}' format`;case nt.StringMaxLength:return`Expected string length less or equal to ${e.schema.maxLength}`;case nt.StringMinLength:return`Expected string length greater or equal to ${e.schema.minLength}`;case nt.StringPattern:return`Expected string to match '${e.schema.pattern}'`;case nt.String:return"Expected string";case nt.Symbol:return"Expected symbol";case nt.TupleLength:return`Expected tuple to have ${e.schema.maxItems||0} elements`;case nt.Tuple:return"Expected tuple";case nt.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${e.schema.maxByteLength}`;case nt.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${e.schema.minByteLength}`;case nt.Uint8Array:return"Expected Uint8Array";case nt.Undefined:return"Expected undefined";case nt.Union:return"Expected union value";case nt.Void:return"Expected void";case nt.Kind:return`Expected kind '${e.schema[ot]}'`;default:return"Unknown error type"}}o(HXe,"DefaultErrorFunction");var jXe=HXe;function f5e(){return jXe}o(f5e,"GetErrorFunction");d();var zJ=class extends gn{static{o(this,"TypeDereferenceError")}constructor(t){super(`Unable to dereference schema with $id '${t.$ref}'`),this.schema=t}};function VXe(e,t){let r=t.find(n=>n.$id===e.$ref);if(r===void 0)throw new zJ(e);return zi(r,t)}o(VXe,"Resolve");function vl(e,t){return!Oi(e.$id)||t.some(r=>r.$id===e.$id)||t.push(e),t}o(vl,"Pushref");function zi(e,t){return e[ot]==="This"||e[ot]==="Ref"?VXe(e,t):e}o(zi,"Deref");d();var YJ=class extends gn{static{o(this,"ValueHashError")}constructor(t){super("Unable to hash value"),this.value=t}},Hu;(function(e){e[e.Undefined=0]="Undefined",e[e.Null=1]="Null",e[e.Boolean=2]="Boolean",e[e.Number=3]="Number",e[e.String=4]="String",e[e.Object=5]="Object",e[e.Array=6]="Array",e[e.Date=7]="Date",e[e.Uint8Array=8]="Uint8Array",e[e.Symbol=9]="Symbol",e[e.BigInt=10]="BigInt"})(Hu||(Hu={}));var tI=BigInt("14695981039346656037"),[$Xe,zXe]=[BigInt("1099511628211"),BigInt("18446744073709551616")],YXe=Array.from({length:256}).map((e,t)=>BigInt(t)),d5e=new Float64Array(1),m5e=new DataView(d5e.buffer),h5e=new Uint8Array(d5e.buffer);function*KXe(e){let t=e===0?1:Math.ceil(Math.floor(Math.log2(e)+1)/8);for(let r=0;r<t;r++)yield e>>8*(t-1-r)&255}o(KXe,"NumberToBytes");function JXe(e){Dc(Hu.Array);for(let t of e)rI(t)}o(JXe,"ArrayType");function ZXe(e){Dc(Hu.Boolean),Dc(e?1:0)}o(ZXe,"BooleanType");function XXe(e){Dc(Hu.BigInt),m5e.setBigInt64(0,e);for(let t of h5e)Dc(t)}o(XXe,"BigIntType");function eet(e){Dc(Hu.Date),rI(e.getTime())}o(eet,"DateType");function tet(e){Dc(Hu.Null)}o(tet,"NullType");function ret(e){Dc(Hu.Number),m5e.setFloat64(0,e);for(let t of h5e)Dc(t)}o(ret,"NumberType");function net(e){Dc(Hu.Object);for(let t of globalThis.Object.getOwnPropertyNames(e).sort())rI(t),rI(e[t])}o(net,"ObjectType");function iet(e){Dc(Hu.String);for(let t=0;t<e.length;t++)for(let r of KXe(e.charCodeAt(t)))Dc(r)}o(iet,"StringType");function oet(e){Dc(Hu.Symbol),rI(e.description)}o(oet,"SymbolType");function set(e){Dc(Hu.Uint8Array);for(let t=0;t<e.length;t++)Dc(e[t])}o(set,"Uint8ArrayType");function aet(e){return Dc(Hu.Undefined)}o(aet,"UndefinedType");function rI(e){if(pn(e))return JXe(e);if(bp(e))return ZXe(e);if(Kl(e))return XXe(e);if(e0(e))return eet(e);if(T1(e))return tet(e);if(Kr(e))return ret(e);if(li(e))return net(e);if(Oi(e))return iet(e);if(w1(e))return oet(e);if(hE(e))return set(e);if(as(e))return aet(e);throw new YJ(e)}o(rI,"Visit");function Dc(e){tI=tI^YXe[e],tI=tI*$Xe%zXe}o(Dc,"FNV1A64");function Hy(e){return tI=BigInt("14695981039346656037"),rI(e),tI}o(Hy,"Hash");d();var KJ=class extends gn{static{o(this,"ValueCheckUnknownTypeError")}constructor(t){super("Unknown type"),this.schema=t}};function cet(e){return e[ot]==="Any"||e[ot]==="Unknown"}o(cet,"IsAnyOrUnknown");function Ei(e){return e!==void 0}o(Ei,"IsDefined");function uet(e,t,r){return!0}o(uet,"FromAny");function fet(e,t,r){return!0}o(fet,"FromArgument");function det(e,t,r){if(!pn(r)||Ei(e.minItems)&&!(r.length>=e.minItems)||Ei(e.maxItems)&&!(r.length<=e.maxItems)||!r.every(s=>bl(e.items,t,s))||e.uniqueItems===!0&&!function(){let s=new Set;for(let a of r){let l=Hy(a);if(s.has(l))return!1;s.add(l)}return!0}())return!1;if(!(Ei(e.contains)||Kr(e.minContains)||Kr(e.maxContains)))return!0;let n=Ei(e.contains)?e.contains:ei(),i=r.reduce((s,a)=>bl(n,t,a)?s+1:s,0);return!(i===0||Kr(e.minContains)&&i<e.minContains||Kr(e.maxContains)&&i>e.maxContains)}o(det,"FromArray");function met(e,t,r){return gP(r)}o(met,"FromAsyncIterator");function het(e,t,r){return!(!Kl(r)||Ei(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||Ei(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||Ei(e.maximum)&&!(r<=e.maximum)||Ei(e.minimum)&&!(r>=e.minimum)||Ei(e.multipleOf)&&r%e.multipleOf!==BigInt(0))}o(het,"FromBigInt");function pet(e,t,r){return bp(r)}o(pet,"FromBoolean");function get(e,t,r){return bl(e.returns,t,r.prototype)}o(get,"FromConstructor");function Aet(e,t,r){return!(!e0(r)||Ei(e.exclusiveMaximumTimestamp)&&!(r.getTime()<e.exclusiveMaximumTimestamp)||Ei(e.exclusiveMinimumTimestamp)&&!(r.getTime()>e.exclusiveMinimumTimestamp)||Ei(e.maximumTimestamp)&&!(r.getTime()<=e.maximumTimestamp)||Ei(e.minimumTimestamp)&&!(r.getTime()>=e.minimumTimestamp)||Ei(e.multipleOfTimestamp)&&r.getTime()%e.multipleOfTimestamp!==0)}o(Aet,"FromDate");function yet(e,t,r){return wy(r)}o(yet,"FromFunction");function Cet(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return bl(i,[...t,...n],r)}o(Cet,"FromImport");function xet(e,t,r){return!(!CP(r)||Ei(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||Ei(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||Ei(e.maximum)&&!(r<=e.maximum)||Ei(e.minimum)&&!(r>=e.minimum)||Ei(e.multipleOf)&&r%e.multipleOf!==0)}o(xet,"FromInteger");function vet(e,t,r){let n=e.allOf.every(i=>bl(i,t,r));if(e.unevaluatedProperties===!1){let i=new RegExp(D1(e)),s=Object.getOwnPropertyNames(r).every(a=>i.test(a));return n&&s}else if(ks(e.unevaluatedProperties)){let i=new RegExp(D1(e)),s=Object.getOwnPropertyNames(r).every(a=>i.test(a)||bl(e.unevaluatedProperties,t,r[a]));return n&&s}else return n}o(vet,"FromIntersect");function bet(e,t,r){return AP(r)}o(bet,"FromIterator");function Eet(e,t,r){return r===e.const}o(Eet,"FromLiteral");function Iet(e,t,r){return!1}o(Iet,"FromNever");function Tet(e,t,r){return!bl(e.not,t,r)}o(Tet,"FromNot");function wet(e,t,r){return T1(r)}o(wet,"FromNull");function _et(e,t,r){return!(!Yo.IsNumberLike(r)||Ei(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||Ei(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||Ei(e.minimum)&&!(r>=e.minimum)||Ei(e.maximum)&&!(r<=e.maximum)||Ei(e.multipleOf)&&r%e.multipleOf!==0)}o(_et,"FromNumber");function ket(e,t,r){if(!Yo.IsObjectLike(r)||Ei(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||Ei(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let n=Object.getOwnPropertyNames(e.properties);for(let i of n){let s=e.properties[i];if(e.required&&e.required.includes(i)){if(!bl(s,t,r[i])||(P1(s)||cet(s))&&!(i in r))return!1}else if(Yo.IsExactOptionalProperty(r,i)&&!bl(s,t,r[i]))return!1}if(e.additionalProperties===!1){let i=Object.getOwnPropertyNames(r);return e.required&&e.required.length===n.length&&i.length===n.length?!0:i.every(s=>n.includes(s))}else return typeof e.additionalProperties=="object"?Object.getOwnPropertyNames(r).every(s=>n.includes(s)||bl(e.additionalProperties,t,r[s])):!0}o(ket,"FromObject");function Ret(e,t,r){return yP(r)}o(Ret,"FromPromise");function Bet(e,t,r){if(!Yo.IsRecordLike(r)||Ei(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||Ei(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let[n,i]=Object.entries(e.patternProperties)[0],s=new RegExp(n),a=Object.entries(r).every(([u,f])=>s.test(u)?bl(i,t,f):!0),l=typeof e.additionalProperties=="object"?Object.entries(r).every(([u,f])=>s.test(u)?!0:bl(e.additionalProperties,t,f)):!0,c=e.additionalProperties===!1?Object.getOwnPropertyNames(r).every(u=>s.test(u)):!0;return a&&l&&c}o(Bet,"FromRecord");function Det(e,t,r){return bl(zi(e,t),t,r)}o(Det,"FromRef");function Pet(e,t,r){let n=new RegExp(e.source,e.flags);return Ei(e.minLength)&&!(r.length>=e.minLength)||Ei(e.maxLength)&&!(r.length<=e.maxLength)?!1:n.test(r)}o(Pet,"FromRegExp");function Fet(e,t,r){return!Oi(r)||Ei(e.minLength)&&!(r.length>=e.minLength)||Ei(e.maxLength)&&!(r.length<=e.maxLength)||Ei(e.pattern)&&!new RegExp(e.pattern).test(r)?!1:Ei(e.format)?Pm.Has(e.format)?Pm.Get(e.format)(r):!1:!0}o(Fet,"FromString");function Net(e,t,r){return w1(r)}o(Net,"FromSymbol");function Let(e,t,r){return Oi(r)&&new RegExp(e.pattern).test(r)}o(Let,"FromTemplateLiteral");function Qet(e,t,r){return bl(zi(e,t),t,r)}o(Qet,"FromThis");function Met(e,t,r){if(!pn(r)||e.items===void 0&&r.length!==0||r.length!==e.maxItems)return!1;if(!e.items)return!0;for(let n=0;n<e.items.length;n++)if(!bl(e.items[n],t,r[n]))return!1;return!0}o(Met,"FromTuple");function Oet(e,t,r){return as(r)}o(Oet,"FromUndefined");function Uet(e,t,r){return e.anyOf.some(n=>bl(n,t,r))}o(Uet,"FromUnion");function qet(e,t,r){return!(!hE(r)||Ei(e.maxByteLength)&&!(r.length<=e.maxByteLength)||Ei(e.minByteLength)&&!(r.length>=e.minByteLength))}o(qet,"FromUint8Array");function Wet(e,t,r){return!0}o(Wet,"FromUnknown");function Get(e,t,r){return Yo.IsVoidLike(r)}o(Get,"FromVoid");function Het(e,t,r){return t0.Has(e[ot])?t0.Get(e[ot])(e,r):!1}o(Het,"FromKind");function bl(e,t,r){let n=Ei(e.$id)?vl(e,t):t,i=e;switch(i[ot]){case"Any":return uet(i,n,r);case"Argument":return fet(i,n,r);case"Array":return det(i,n,r);case"AsyncIterator":return met(i,n,r);case"BigInt":return het(i,n,r);case"Boolean":return pet(i,n,r);case"Constructor":return get(i,n,r);case"Date":return Aet(i,n,r);case"Function":return yet(i,n,r);case"Import":return Cet(i,n,r);case"Integer":return xet(i,n,r);case"Intersect":return vet(i,n,r);case"Iterator":return bet(i,n,r);case"Literal":return Eet(i,n,r);case"Never":return Iet(i,n,r);case"Not":return Tet(i,n,r);case"Null":return wet(i,n,r);case"Number":return _et(i,n,r);case"Object":return ket(i,n,r);case"Promise":return Ret(i,n,r);case"Record":return Bet(i,n,r);case"Ref":return Det(i,n,r);case"RegExp":return Pet(i,n,r);case"String":return Fet(i,n,r);case"Symbol":return Net(i,n,r);case"TemplateLiteral":return Let(i,n,r);case"This":return Qet(i,n,r);case"Tuple":return Met(i,n,r);case"Undefined":return Oet(i,n,r);case"Union":return Uet(i,n,r);case"Uint8Array":return qet(i,n,r);case"Unknown":return Wet(i,n,r);case"Void":return Get(i,n,r);default:if(!t0.Has(i[ot]))throw new KJ(i);return Het(i,n,r)}}o(bl,"Visit");function di(...e){return e.length===3?bl(e[0],e[1],e[2]):bl(e[0],[],e[1])}o(di,"Check");var nt;(function(e){e[e.ArrayContains=0]="ArrayContains",e[e.ArrayMaxContains=1]="ArrayMaxContains",e[e.ArrayMaxItems=2]="ArrayMaxItems",e[e.ArrayMinContains=3]="ArrayMinContains",e[e.ArrayMinItems=4]="ArrayMinItems",e[e.ArrayUniqueItems=5]="ArrayUniqueItems",e[e.Array=6]="Array",e[e.AsyncIterator=7]="AsyncIterator",e[e.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",e[e.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",e[e.BigIntMaximum=10]="BigIntMaximum",e[e.BigIntMinimum=11]="BigIntMinimum",e[e.BigIntMultipleOf=12]="BigIntMultipleOf",e[e.BigInt=13]="BigInt",e[e.Boolean=14]="Boolean",e[e.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",e[e.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",e[e.DateMaximumTimestamp=17]="DateMaximumTimestamp",e[e.DateMinimumTimestamp=18]="DateMinimumTimestamp",e[e.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",e[e.Date=20]="Date",e[e.Function=21]="Function",e[e.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",e[e.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",e[e.IntegerMaximum=24]="IntegerMaximum",e[e.IntegerMinimum=25]="IntegerMinimum",e[e.IntegerMultipleOf=26]="IntegerMultipleOf",e[e.Integer=27]="Integer",e[e.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",e[e.Intersect=29]="Intersect",e[e.Iterator=30]="Iterator",e[e.Kind=31]="Kind",e[e.Literal=32]="Literal",e[e.Never=33]="Never",e[e.Not=34]="Not",e[e.Null=35]="Null",e[e.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",e[e.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",e[e.NumberMaximum=38]="NumberMaximum",e[e.NumberMinimum=39]="NumberMinimum",e[e.NumberMultipleOf=40]="NumberMultipleOf",e[e.Number=41]="Number",e[e.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",e[e.ObjectMaxProperties=43]="ObjectMaxProperties",e[e.ObjectMinProperties=44]="ObjectMinProperties",e[e.ObjectRequiredProperty=45]="ObjectRequiredProperty",e[e.Object=46]="Object",e[e.Promise=47]="Promise",e[e.RegExp=48]="RegExp",e[e.StringFormatUnknown=49]="StringFormatUnknown",e[e.StringFormat=50]="StringFormat",e[e.StringMaxLength=51]="StringMaxLength",e[e.StringMinLength=52]="StringMinLength",e[e.StringPattern=53]="StringPattern",e[e.String=54]="String",e[e.Symbol=55]="Symbol",e[e.TupleLength=56]="TupleLength",e[e.Tuple=57]="Tuple",e[e.Uint8ArrayMaxByteLength=58]="Uint8ArrayMaxByteLength",e[e.Uint8ArrayMinByteLength=59]="Uint8ArrayMinByteLength",e[e.Uint8Array=60]="Uint8Array",e[e.Undefined=61]="Undefined",e[e.Union=62]="Union",e[e.Void=63]="Void"})(nt||(nt={}));var JJ=class extends gn{static{o(this,"ValueErrorsUnknownTypeError")}constructor(t){super("Unknown type"),this.schema=t}};function L1(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}o(L1,"EscapeKey");function Ii(e){return e!==void 0}o(Ii,"IsDefined");var jy=class{static{o(this,"ValueErrorIterator")}constructor(t){this.iterator=t}[Symbol.iterator](){return this.iterator}First(){let t=this.iterator.next();return t.done?void 0:t.value}};function yr(e,t,r,n,i=[]){return{type:e,schema:t,path:r,value:n,message:f5e()({errorType:e,path:r,schema:t,value:n,errors:i}),errors:i}}o(yr,"Create");function*jet(e,t,r,n){}o(jet,"FromAny");function*Vet(e,t,r,n){}o(Vet,"FromArgument");function*$et(e,t,r,n){if(!pn(n))return yield yr(nt.Array,e,r,n);Ii(e.minItems)&&!(n.length>=e.minItems)&&(yield yr(nt.ArrayMinItems,e,r,n)),Ii(e.maxItems)&&!(n.length<=e.maxItems)&&(yield yr(nt.ArrayMaxItems,e,r,n));for(let a=0;a<n.length;a++)yield*El(e.items,t,`${r}/${a}`,n[a]);if(e.uniqueItems===!0&&!function(){let a=new Set;for(let l of n){let c=Hy(l);if(a.has(c))return!1;a.add(c)}return!0}()&&(yield yr(nt.ArrayUniqueItems,e,r,n)),!(Ii(e.contains)||Ii(e.minContains)||Ii(e.maxContains)))return;let i=Ii(e.contains)?e.contains:ei(),s=n.reduce((a,l,c)=>El(i,t,`${r}${c}`,l).next().done===!0?a+1:a,0);s===0&&(yield yr(nt.ArrayContains,e,r,n)),Kr(e.minContains)&&s<e.minContains&&(yield yr(nt.ArrayMinContains,e,r,n)),Kr(e.maxContains)&&s>e.maxContains&&(yield yr(nt.ArrayMaxContains,e,r,n))}o($et,"FromArray");function*zet(e,t,r,n){gP(n)||(yield yr(nt.AsyncIterator,e,r,n))}o(zet,"FromAsyncIterator");function*Yet(e,t,r,n){if(!Kl(n))return yield yr(nt.BigInt,e,r,n);Ii(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield yr(nt.BigIntExclusiveMaximum,e,r,n)),Ii(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield yr(nt.BigIntExclusiveMinimum,e,r,n)),Ii(e.maximum)&&!(n<=e.maximum)&&(yield yr(nt.BigIntMaximum,e,r,n)),Ii(e.minimum)&&!(n>=e.minimum)&&(yield yr(nt.BigIntMinimum,e,r,n)),Ii(e.multipleOf)&&n%e.multipleOf!==BigInt(0)&&(yield yr(nt.BigIntMultipleOf,e,r,n))}o(Yet,"FromBigInt");function*Ket(e,t,r,n){bp(n)||(yield yr(nt.Boolean,e,r,n))}o(Ket,"FromBoolean");function*Jet(e,t,r,n){yield*El(e.returns,t,r,n.prototype)}o(Jet,"FromConstructor");function*Zet(e,t,r,n){if(!e0(n))return yield yr(nt.Date,e,r,n);Ii(e.exclusiveMaximumTimestamp)&&!(n.getTime()<e.exclusiveMaximumTimestamp)&&(yield yr(nt.DateExclusiveMaximumTimestamp,e,r,n)),Ii(e.exclusiveMinimumTimestamp)&&!(n.getTime()>e.exclusiveMinimumTimestamp)&&(yield yr(nt.DateExclusiveMinimumTimestamp,e,r,n)),Ii(e.maximumTimestamp)&&!(n.getTime()<=e.maximumTimestamp)&&(yield yr(nt.DateMaximumTimestamp,e,r,n)),Ii(e.minimumTimestamp)&&!(n.getTime()>=e.minimumTimestamp)&&(yield yr(nt.DateMinimumTimestamp,e,r,n)),Ii(e.multipleOfTimestamp)&&n.getTime()%e.multipleOfTimestamp!==0&&(yield yr(nt.DateMultipleOfTimestamp,e,r,n))}o(Zet,"FromDate");function*Xet(e,t,r,n){wy(n)||(yield yr(nt.Function,e,r,n))}o(Xet,"FromFunction");function*ett(e,t,r,n){let i=globalThis.Object.values(e.$defs),s=e.$defs[e.$ref];yield*El(s,[...t,...i],r,n)}o(ett,"FromImport");function*ttt(e,t,r,n){if(!CP(n))return yield yr(nt.Integer,e,r,n);Ii(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield yr(nt.IntegerExclusiveMaximum,e,r,n)),Ii(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield yr(nt.IntegerExclusiveMinimum,e,r,n)),Ii(e.maximum)&&!(n<=e.maximum)&&(yield yr(nt.IntegerMaximum,e,r,n)),Ii(e.minimum)&&!(n>=e.minimum)&&(yield yr(nt.IntegerMinimum,e,r,n)),Ii(e.multipleOf)&&n%e.multipleOf!==0&&(yield yr(nt.IntegerMultipleOf,e,r,n))}o(ttt,"FromInteger");function*rtt(e,t,r,n){let i=!1;for(let s of e.allOf)for(let a of El(s,t,r,n))i=!0,yield a;if(i)return yield yr(nt.Intersect,e,r,n);if(e.unevaluatedProperties===!1){let s=new RegExp(D1(e));for(let a of Object.getOwnPropertyNames(n))s.test(a)||(yield yr(nt.IntersectUnevaluatedProperties,e,`${r}/${a}`,n))}if(typeof e.unevaluatedProperties=="object"){let s=new RegExp(D1(e));for(let a of Object.getOwnPropertyNames(n))if(!s.test(a)){let l=El(e.unevaluatedProperties,t,`${r}/${a}`,n[a]).next();l.done||(yield l.value)}}}o(rtt,"FromIntersect");function*ntt(e,t,r,n){AP(n)||(yield yr(nt.Iterator,e,r,n))}o(ntt,"FromIterator");function*itt(e,t,r,n){n!==e.const&&(yield yr(nt.Literal,e,r,n))}o(itt,"FromLiteral");function*ott(e,t,r,n){yield yr(nt.Never,e,r,n)}o(ott,"FromNever");function*stt(e,t,r,n){El(e.not,t,r,n).next().done===!0&&(yield yr(nt.Not,e,r,n))}o(stt,"FromNot");function*att(e,t,r,n){T1(n)||(yield yr(nt.Null,e,r,n))}o(att,"FromNull");function*ltt(e,t,r,n){if(!Yo.IsNumberLike(n))return yield yr(nt.Number,e,r,n);Ii(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield yr(nt.NumberExclusiveMaximum,e,r,n)),Ii(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield yr(nt.NumberExclusiveMinimum,e,r,n)),Ii(e.maximum)&&!(n<=e.maximum)&&(yield yr(nt.NumberMaximum,e,r,n)),Ii(e.minimum)&&!(n>=e.minimum)&&(yield yr(nt.NumberMinimum,e,r,n)),Ii(e.multipleOf)&&n%e.multipleOf!==0&&(yield yr(nt.NumberMultipleOf,e,r,n))}o(ltt,"FromNumber");function*ctt(e,t,r,n){if(!Yo.IsObjectLike(n))return yield yr(nt.Object,e,r,n);Ii(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield yr(nt.ObjectMinProperties,e,r,n)),Ii(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield yr(nt.ObjectMaxProperties,e,r,n));let i=Array.isArray(e.required)?e.required:[],s=Object.getOwnPropertyNames(e.properties),a=Object.getOwnPropertyNames(n);for(let l of i)a.includes(l)||(yield yr(nt.ObjectRequiredProperty,e.properties[l],`${r}/${L1(l)}`,void 0));if(e.additionalProperties===!1)for(let l of a)s.includes(l)||(yield yr(nt.ObjectAdditionalProperties,e,`${r}/${L1(l)}`,n[l]));if(typeof e.additionalProperties=="object")for(let l of a)s.includes(l)||(yield*El(e.additionalProperties,t,`${r}/${L1(l)}`,n[l]));for(let l of s){let c=e.properties[l];e.required&&e.required.includes(l)?(yield*El(c,t,`${r}/${L1(l)}`,n[l]),P1(e)&&!(l in n)&&(yield yr(nt.ObjectRequiredProperty,c,`${r}/${L1(l)}`,void 0))):Yo.IsExactOptionalProperty(n,l)&&(yield*El(c,t,`${r}/${L1(l)}`,n[l]))}}o(ctt,"FromObject");function*utt(e,t,r,n){yP(n)||(yield yr(nt.Promise,e,r,n))}o(utt,"FromPromise");function*ftt(e,t,r,n){if(!Yo.IsRecordLike(n))return yield yr(nt.Object,e,r,n);Ii(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield yr(nt.ObjectMinProperties,e,r,n)),Ii(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield yr(nt.ObjectMaxProperties,e,r,n));let[i,s]=Object.entries(e.patternProperties)[0],a=new RegExp(i);for(let[l,c]of Object.entries(n))a.test(l)&&(yield*El(s,t,`${r}/${L1(l)}`,c));if(typeof e.additionalProperties=="object")for(let[l,c]of Object.entries(n))a.test(l)||(yield*El(e.additionalProperties,t,`${r}/${L1(l)}`,c));if(e.additionalProperties===!1){for(let[l,c]of Object.entries(n))if(!a.test(l))return yield yr(nt.ObjectAdditionalProperties,e,`${r}/${L1(l)}`,c)}}o(ftt,"FromRecord");function*dtt(e,t,r,n){yield*El(zi(e,t),t,r,n)}o(dtt,"FromRef");function*mtt(e,t,r,n){if(!Oi(n))return yield yr(nt.String,e,r,n);if(Ii(e.minLength)&&!(n.length>=e.minLength)&&(yield yr(nt.StringMinLength,e,r,n)),Ii(e.maxLength)&&!(n.length<=e.maxLength)&&(yield yr(nt.StringMaxLength,e,r,n)),!new RegExp(e.source,e.flags).test(n))return yield yr(nt.RegExp,e,r,n)}o(mtt,"FromRegExp");function*htt(e,t,r,n){if(!Oi(n))return yield yr(nt.String,e,r,n);Ii(e.minLength)&&!(n.length>=e.minLength)&&(yield yr(nt.StringMinLength,e,r,n)),Ii(e.maxLength)&&!(n.length<=e.maxLength)&&(yield yr(nt.StringMaxLength,e,r,n)),Oi(e.pattern)&&(new RegExp(e.pattern).test(n)||(yield yr(nt.StringPattern,e,r,n))),Oi(e.format)&&(Pm.Has(e.format)?Pm.Get(e.format)(n)||(yield yr(nt.StringFormat,e,r,n)):yield yr(nt.StringFormatUnknown,e,r,n))}o(htt,"FromString");function*ptt(e,t,r,n){w1(n)||(yield yr(nt.Symbol,e,r,n))}o(ptt,"FromSymbol");function*gtt(e,t,r,n){if(!Oi(n))return yield yr(nt.String,e,r,n);new RegExp(e.pattern).test(n)||(yield yr(nt.StringPattern,e,r,n))}o(gtt,"FromTemplateLiteral");function*Att(e,t,r,n){yield*El(zi(e,t),t,r,n)}o(Att,"FromThis");function*ytt(e,t,r,n){if(!pn(n))return yield yr(nt.Tuple,e,r,n);if(e.items===void 0&&n.length!==0)return yield yr(nt.TupleLength,e,r,n);if(n.length!==e.maxItems)return yield yr(nt.TupleLength,e,r,n);if(e.items)for(let i=0;i<e.items.length;i++)yield*El(e.items[i],t,`${r}/${i}`,n[i])}o(ytt,"FromTuple");function*Ctt(e,t,r,n){as(n)||(yield yr(nt.Undefined,e,r,n))}o(Ctt,"FromUndefined");function*xtt(e,t,r,n){if(di(e,t,n))return;let i=e.anyOf.map(s=>new jy(El(s,t,r,n)));yield yr(nt.Union,e,r,n,i)}o(xtt,"FromUnion");function*vtt(e,t,r,n){if(!hE(n))return yield yr(nt.Uint8Array,e,r,n);Ii(e.maxByteLength)&&!(n.length<=e.maxByteLength)&&(yield yr(nt.Uint8ArrayMaxByteLength,e,r,n)),Ii(e.minByteLength)&&!(n.length>=e.minByteLength)&&(yield yr(nt.Uint8ArrayMinByteLength,e,r,n))}o(vtt,"FromUint8Array");function*btt(e,t,r,n){}o(btt,"FromUnknown");function*Ett(e,t,r,n){Yo.IsVoidLike(n)||(yield yr(nt.Void,e,r,n))}o(Ett,"FromVoid");function*Itt(e,t,r,n){t0.Get(e[ot])(e,n)||(yield yr(nt.Kind,e,r,n))}o(Itt,"FromKind");function*El(e,t,r,n){let i=Ii(e.$id)?[...t,e]:t,s=e;switch(s[ot]){case"Any":return yield*jet(s,i,r,n);case"Argument":return yield*Vet(s,i,r,n);case"Array":return yield*$et(s,i,r,n);case"AsyncIterator":return yield*zet(s,i,r,n);case"BigInt":return yield*Yet(s,i,r,n);case"Boolean":return yield*Ket(s,i,r,n);case"Constructor":return yield*Jet(s,i,r,n);case"Date":return yield*Zet(s,i,r,n);case"Function":return yield*Xet(s,i,r,n);case"Import":return yield*ett(s,i,r,n);case"Integer":return yield*ttt(s,i,r,n);case"Intersect":return yield*rtt(s,i,r,n);case"Iterator":return yield*ntt(s,i,r,n);case"Literal":return yield*itt(s,i,r,n);case"Never":return yield*ott(s,i,r,n);case"Not":return yield*stt(s,i,r,n);case"Null":return yield*att(s,i,r,n);case"Number":return yield*ltt(s,i,r,n);case"Object":return yield*ctt(s,i,r,n);case"Promise":return yield*utt(s,i,r,n);case"Record":return yield*ftt(s,i,r,n);case"Ref":return yield*dtt(s,i,r,n);case"RegExp":return yield*mtt(s,i,r,n);case"String":return yield*htt(s,i,r,n);case"Symbol":return yield*ptt(s,i,r,n);case"TemplateLiteral":return yield*gtt(s,i,r,n);case"This":return yield*Att(s,i,r,n);case"Tuple":return yield*ytt(s,i,r,n);case"Undefined":return yield*Ctt(s,i,r,n);case"Union":return yield*xtt(s,i,r,n);case"Uint8Array":return yield*vtt(s,i,r,n);case"Unknown":return yield*btt(s,i,r,n);case"Void":return yield*Ett(s,i,r,n);default:if(!t0.Has(s[ot]))throw new JJ(e);return yield*Itt(s,i,r,n)}}o(El,"Visit");function Pp(...e){let t=e.length===3?El(e[0],e[1],"",e[2]):El(e[0],[],"",e[1]);return new jy(t)}o(Pp,"Errors");d();d();var nI=class extends gn{static{o(this,"TransformDecodeCheckError")}constructor(t,r,n){super("Unable to decode value as it does not match the expected schema"),this.schema=t,this.value=r,this.error=n}},ZJ=class extends gn{static{o(this,"TransformDecodeError")}constructor(t,r,n,i){super(i instanceof Error?i.message:"Unknown error"),this.schema=t,this.path=r,this.value=n,this.error=i}};function Bs(e,t,r){try{return io(e)?e[Ss].Decode(r):r}catch(n){throw new ZJ(e,t,r,n)}}o(Bs,"Default");function Ttt(e,t,r,n){return pn(n)?Bs(e,r,n.map((i,s)=>Um(e.items,t,`${r}/${s}`,i))):Bs(e,r,n)}o(Ttt,"FromArray");function wtt(e,t,r,n){if(!li(n)||Nu(n))return Bs(e,r,n);let i=SP(e),s=i.map(f=>f[0]),a={...n};for(let[f,m]of i)f in a&&(a[f]=Um(m,t,`${r}/${f}`,a[f]));if(!io(e.unevaluatedProperties))return Bs(e,r,a);let l=Object.getOwnPropertyNames(a),c=e.unevaluatedProperties,u={...a};for(let f of l)s.includes(f)||(u[f]=Bs(c,`${r}/${f}`,u[f]));return Bs(e,r,u)}o(wtt,"FromIntersect");function _tt(e,t,r,n){let i=globalThis.Object.values(e.$defs),s=e.$defs[e.$ref],a=Um(s,[...t,...i],r,n);return Bs(e,r,a)}o(_tt,"FromImport");function Stt(e,t,r,n){return Bs(e,r,Um(e.not,t,r,n))}o(Stt,"FromNot");function ktt(e,t,r,n){if(!li(n))return Bs(e,r,n);let i=U0(e),s={...n};for(let u of i)hn(s,u)&&(as(s[u])&&(!k1(e.properties[u])||Yo.IsExactOptionalProperty(s,u))||(s[u]=Um(e.properties[u],t,`${r}/${u}`,s[u])));if(!ks(e.additionalProperties))return Bs(e,r,s);let a=Object.getOwnPropertyNames(s),l=e.additionalProperties,c={...s};for(let u of a)i.includes(u)||(c[u]=Bs(l,`${r}/${u}`,c[u]));return Bs(e,r,c)}o(ktt,"FromObject");function Rtt(e,t,r,n){if(!li(n))return Bs(e,r,n);let i=Object.getOwnPropertyNames(e.patternProperties)[0],s=new RegExp(i),a={...n};for(let f of Object.getOwnPropertyNames(n))s.test(f)&&(a[f]=Um(e.patternProperties[i],t,`${r}/${f}`,a[f]));if(!ks(e.additionalProperties))return Bs(e,r,a);let l=Object.getOwnPropertyNames(a),c=e.additionalProperties,u={...a};for(let f of l)s.test(f)||(u[f]=Bs(c,`${r}/${f}`,u[f]));return Bs(e,r,u)}o(Rtt,"FromRecord");function Btt(e,t,r,n){let i=zi(e,t);return Bs(e,r,Um(i,t,r,n))}o(Btt,"FromRef");function Dtt(e,t,r,n){let i=zi(e,t);return Bs(e,r,Um(i,t,r,n))}o(Dtt,"FromThis");function Ptt(e,t,r,n){return pn(n)&&pn(e.items)?Bs(e,r,e.items.map((i,s)=>Um(i,t,`${r}/${s}`,n[s]))):Bs(e,r,n)}o(Ptt,"FromTuple");function Ftt(e,t,r,n){for(let i of e.anyOf){if(!di(i,t,n))continue;let s=Um(i,t,r,n);return Bs(e,r,s)}return Bs(e,r,n)}o(Ftt,"FromUnion");function Um(e,t,r,n){let i=vl(e,t),s=e;switch(e[ot]){case"Array":return Ttt(s,i,r,n);case"Import":return _tt(s,i,r,n);case"Intersect":return wtt(s,i,r,n);case"Not":return Stt(s,i,r,n);case"Object":return ktt(s,i,r,n);case"Record":return Rtt(s,i,r,n);case"Ref":return Btt(s,i,r,n);case"Symbol":return Bs(s,r,n);case"This":return Dtt(s,i,r,n);case"Tuple":return Ptt(s,i,r,n);case"Union":return Ftt(s,i,r,n);default:return Bs(s,r,n)}}o(Um,"Visit");function iI(e,t,r){return Um(e,t,"",r)}o(iI,"TransformDecode");d();var oI=class extends gn{static{o(this,"TransformEncodeCheckError")}constructor(t,r,n){super("The encoded value does not match the expected schema"),this.schema=t,this.value=r,this.error=n}},XJ=class extends gn{static{o(this,"TransformEncodeError")}constructor(t,r,n,i){super(`${i instanceof Error?i.message:"Unknown error"}`),this.schema=t,this.path=r,this.value=n,this.error=i}};function ec(e,t,r){try{return io(e)?e[Ss].Encode(r):r}catch(n){throw new XJ(e,t,r,n)}}o(ec,"Default");function Ntt(e,t,r,n){let i=ec(e,r,n);return pn(i)?i.map((s,a)=>qm(e.items,t,`${r}/${a}`,s)):i}o(Ntt,"FromArray");function Ltt(e,t,r,n){let i=globalThis.Object.values(e.$defs),s=e.$defs[e.$ref],a=ec(e,r,n);return qm(s,[...t,...i],r,a)}o(Ltt,"FromImport");function Qtt(e,t,r,n){let i=ec(e,r,n);if(!li(n)||Nu(n))return i;let s=SP(e),a=s.map(m=>m[0]),l={...i};for(let[m,h]of s)m in l&&(l[m]=qm(h,t,`${r}/${m}`,l[m]));if(!io(e.unevaluatedProperties))return l;let c=Object.getOwnPropertyNames(l),u=e.unevaluatedProperties,f={...l};for(let m of c)a.includes(m)||(f[m]=ec(u,`${r}/${m}`,f[m]));return f}o(Qtt,"FromIntersect");function Mtt(e,t,r,n){return ec(e.not,r,ec(e,r,n))}o(Mtt,"FromNot");function Ott(e,t,r,n){let i=ec(e,r,n);if(!li(i))return i;let s=U0(e),a={...i};for(let f of s)hn(a,f)&&(as(a[f])&&(!k1(e.properties[f])||Yo.IsExactOptionalProperty(a,f))||(a[f]=qm(e.properties[f],t,`${r}/${f}`,a[f])));if(!ks(e.additionalProperties))return a;let l=Object.getOwnPropertyNames(a),c=e.additionalProperties,u={...a};for(let f of l)s.includes(f)||(u[f]=ec(c,`${r}/${f}`,u[f]));return u}o(Ott,"FromObject");function Utt(e,t,r,n){let i=ec(e,r,n);if(!li(n))return i;let s=Object.getOwnPropertyNames(e.patternProperties)[0],a=new RegExp(s),l={...i};for(let m of Object.getOwnPropertyNames(n))a.test(m)&&(l[m]=qm(e.patternProperties[s],t,`${r}/${m}`,l[m]));if(!ks(e.additionalProperties))return l;let c=Object.getOwnPropertyNames(l),u=e.additionalProperties,f={...l};for(let m of c)a.test(m)||(f[m]=ec(u,`${r}/${m}`,f[m]));return f}o(Utt,"FromRecord");function qtt(e,t,r,n){let i=zi(e,t),s=qm(i,t,r,n);return ec(e,r,s)}o(qtt,"FromRef");function Wtt(e,t,r,n){let i=zi(e,t),s=qm(i,t,r,n);return ec(e,r,s)}o(Wtt,"FromThis");function Gtt(e,t,r,n){let i=ec(e,r,n);return pn(e.items)?e.items.map((s,a)=>qm(s,t,`${r}/${a}`,i[a])):[]}o(Gtt,"FromTuple");function Htt(e,t,r,n){for(let i of e.anyOf){if(!di(i,t,n))continue;let s=qm(i,t,r,n);return ec(e,r,s)}for(let i of e.anyOf){let s=qm(i,t,r,n);if(di(e,t,s))return ec(e,r,s)}return ec(e,r,n)}o(Htt,"FromUnion");function qm(e,t,r,n){let i=vl(e,t),s=e;switch(e[ot]){case"Array":return Ntt(s,i,r,n);case"Import":return Ltt(s,i,r,n);case"Intersect":return Qtt(s,i,r,n);case"Not":return Mtt(s,i,r,n);case"Object":return Ott(s,i,r,n);case"Record":return Utt(s,i,r,n);case"Ref":return qtt(s,i,r,n);case"This":return Wtt(s,i,r,n);case"Tuple":return Gtt(s,i,r,n);case"Union":return Htt(s,i,r,n);default:return ec(s,r,n)}}o(qm,"Visit");function sI(e,t,r){return qm(e,t,"",r)}o(sI,"TransformEncode");d();function jtt(e,t){return io(e)||ol(e.items,t)}o(jtt,"FromArray");function Vtt(e,t){return io(e)||ol(e.items,t)}o(Vtt,"FromAsyncIterator");function $tt(e,t){return io(e)||ol(e.returns,t)||e.parameters.some(r=>ol(r,t))}o($tt,"FromConstructor");function ztt(e,t){return io(e)||ol(e.returns,t)||e.parameters.some(r=>ol(r,t))}o(ztt,"FromFunction");function Ytt(e,t){return io(e)||io(e.unevaluatedProperties)||e.allOf.some(r=>ol(r,t))}o(Ytt,"FromIntersect");function Ktt(e,t){let r=globalThis.Object.getOwnPropertyNames(e.$defs).reduce((i,s)=>[...i,e.$defs[s]],[]),n=e.$defs[e.$ref];return io(e)||ol(n,[...r,...t])}o(Ktt,"FromImport");function Jtt(e,t){return io(e)||ol(e.items,t)}o(Jtt,"FromIterator");function Ztt(e,t){return io(e)||ol(e.not,t)}o(Ztt,"FromNot");function Xtt(e,t){return io(e)||Object.values(e.properties).some(r=>ol(r,t))||ks(e.additionalProperties)&&ol(e.additionalProperties,t)}o(Xtt,"FromObject");function ert(e,t){return io(e)||ol(e.item,t)}o(ert,"FromPromise");function trt(e,t){let r=Object.getOwnPropertyNames(e.patternProperties)[0],n=e.patternProperties[r];return io(e)||ol(n,t)||ks(e.additionalProperties)&&io(e.additionalProperties)}o(trt,"FromRecord");function rrt(e,t){return io(e)?!0:ol(zi(e,t),t)}o(rrt,"FromRef");function nrt(e,t){return io(e)?!0:ol(zi(e,t),t)}o(nrt,"FromThis");function irt(e,t){return io(e)||!as(e.items)&&e.items.some(r=>ol(r,t))}o(irt,"FromTuple");function ort(e,t){return io(e)||e.anyOf.some(r=>ol(r,t))}o(ort,"FromUnion");function ol(e,t){let r=vl(e,t),n=e;if(e.$id&&eZ.has(e.$id))return!1;switch(e.$id&&eZ.add(e.$id),e[ot]){case"Array":return jtt(n,r);case"AsyncIterator":return Vtt(n,r);case"Constructor":return $tt(n,r);case"Function":return ztt(n,r);case"Import":return Ktt(n,r);case"Intersect":return Ytt(n,r);case"Iterator":return Jtt(n,r);case"Not":return Ztt(n,r);case"Object":return Xtt(n,r);case"Promise":return ert(n,r);case"Record":return trt(n,r);case"Ref":return rrt(n,r);case"This":return nrt(n,r);case"Tuple":return irt(n,r);case"Union":return ort(n,r);default:return io(e)}}o(ol,"Visit");var eZ=new Set;function Q1(e,t){return eZ.clear(),ol(e,t)}o(Q1,"HasTransform");var tZ=class{static{o(this,"TypeCheck")}constructor(t,r,n,i){this.schema=t,this.references=r,this.checkFunc=n,this.code=i,this.hasTransform=Q1(t,r)}Code(){return this.code}Schema(){return this.schema}References(){return this.references}Errors(t){return Pp(this.schema,this.references,t)}Check(t){return this.checkFunc(t)}Decode(t){if(!this.checkFunc(t))throw new nI(this.schema,t,this.Errors(t).First());return this.hasTransform?iI(this.schema,this.references,t):t}Encode(t){let r=this.hasTransform?sI(this.schema,this.references,t):t;if(!this.checkFunc(r))throw new oI(this.schema,t,this.Errors(t).First());return r}},M1;(function(e){function t(s){return s===36}o(t,"DollarSign"),e.DollarSign=t;function r(s){return s===95}o(r,"IsUnderscore"),e.IsUnderscore=r;function n(s){return s>=65&&s<=90||s>=97&&s<=122}o(n,"IsAlpha"),e.IsAlpha=n;function i(s){return s>=48&&s<=57}o(i,"IsNumeric"),e.IsNumeric=i})(M1||(M1={}));var QF;(function(e){function t(s){return s.length===0?!1:M1.IsNumeric(s.charCodeAt(0))}o(t,"IsFirstCharacterNumeric");function r(s){if(t(s))return!1;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);if(!(M1.IsAlpha(l)||M1.IsNumeric(l)||M1.DollarSign(l)||M1.IsUnderscore(l)))return!1}return!0}o(r,"IsAccessor");function n(s){return s.replace(/'/g,"\\'")}o(n,"EscapeHyphen");function i(s,a){return r(a)?`${s}.${a}`:`${s}['${n(a)}']`}o(i,"Encode"),e.Encode=i})(QF||(QF={}));var rZ;(function(e){function t(r){let n=[];for(let i=0;i<r.length;i++){let s=r.charCodeAt(i);M1.IsNumeric(s)||M1.IsAlpha(s)?n.push(r.charAt(i)):n.push(`_${s}_`)}return n.join("").replace(/__/g,"_")}o(t,"Encode"),e.Encode=t})(rZ||(rZ={}));var nZ;(function(e){function t(r){return r.replace(/'/g,"\\'")}o(t,"Escape"),e.Escape=t})(nZ||(nZ={}));var iZ=class extends gn{static{o(this,"TypeCompilerUnknownTypeError")}constructor(t){super("Unknown type"),this.schema=t}},MF=class extends gn{static{o(this,"TypeCompilerTypeGuardError")}constructor(t){super("Preflight validation check failed to guard for the given schema"),this.schema=t}},d4;(function(e){function t(a,l,c){return Yo.ExactOptionalPropertyTypes?`('${l}' in ${a} ? ${c} : true)`:`(${QF.Encode(a,l)} !== undefined ? ${c} : true)`}o(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){return Yo.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null)`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}))`}o(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return Yo.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}) && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`}o(n,"IsRecordLike"),e.IsRecordLike=n;function i(a){return Yo.AllowNaN?`typeof ${a} === 'number'`:`Number.isFinite(${a})`}o(i,"IsNumberLike"),e.IsNumberLike=i;function s(a){return Yo.AllowNullVoid?`(${a} === undefined || ${a} === null)`:`${a} === undefined`}o(s,"IsVoidLike"),e.IsVoidLike=s})(d4||(d4={}));var ds;(function(e){function t(ne){return ne[ot]==="Any"||ne[ot]==="Unknown"}o(t,"IsAnyOrUnknown");function*r(ne,Ne,ge){yield"true"}o(r,"FromAny");function*n(ne,Ne,ge){yield"true"}o(n,"FromArgument");function*i(ne,Ne,ge){yield`Array.isArray(${ge})`;let[He,z]=[Re("value","any"),Re("acc","number")];Kr(ne.maxItems)&&(yield`${ge}.length <= ${ne.maxItems}`),Kr(ne.minItems)&&(yield`${ge}.length >= ${ne.minItems}`);let ee=ce(ne.items,Ne,"value");if(yield`${ge}.every((${He}) => ${ee})`,cs(ne.contains)||Kr(ne.minContains)||Kr(ne.maxContains)){let Qe=cs(ne.contains)?ne.contains:ei(),Se=ce(Qe,Ne,"value"),Ce=Kr(ne.minContains)?[`(count >= ${ne.minContains})`]:[],qe=Kr(ne.maxContains)?[`(count <= ${ne.maxContains})`]:[],$e=`const count = value.reduce((${z}, ${He}) => ${Se} ? acc + 1 : acc, 0)`,tt=["(count > 0)",...Ce,...qe].join(" && ");yield`((${He}) => { ${$e}; return ${tt}})(${ge})`}ne.uniqueItems===!0&&(yield`((${He}) => { const set = new Set(); for(const element of value) { const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true } )(${ge})`)}o(i,"FromArray");function*s(ne,Ne,ge){yield`(typeof value === 'object' && Symbol.asyncIterator in ${ge})`}o(s,"FromAsyncIterator");function*a(ne,Ne,ge){yield`(typeof ${ge} === 'bigint')`,Kl(ne.exclusiveMaximum)&&(yield`${ge} < BigInt(${ne.exclusiveMaximum})`),Kl(ne.exclusiveMinimum)&&(yield`${ge} > BigInt(${ne.exclusiveMinimum})`),Kl(ne.maximum)&&(yield`${ge} <= BigInt(${ne.maximum})`),Kl(ne.minimum)&&(yield`${ge} >= BigInt(${ne.minimum})`),Kl(ne.multipleOf)&&(yield`(${ge} % BigInt(${ne.multipleOf})) === 0`)}o(a,"FromBigInt");function*l(ne,Ne,ge){yield`(typeof ${ge} === 'boolean')`}o(l,"FromBoolean");function*c(ne,Ne,ge){yield*te(ne.returns,Ne,`${ge}.prototype`)}o(c,"FromConstructor");function*u(ne,Ne,ge){yield`(${ge} instanceof Date) && Number.isFinite(${ge}.getTime())`,Kr(ne.exclusiveMaximumTimestamp)&&(yield`${ge}.getTime() < ${ne.exclusiveMaximumTimestamp}`),Kr(ne.exclusiveMinimumTimestamp)&&(yield`${ge}.getTime() > ${ne.exclusiveMinimumTimestamp}`),Kr(ne.maximumTimestamp)&&(yield`${ge}.getTime() <= ${ne.maximumTimestamp}`),Kr(ne.minimumTimestamp)&&(yield`${ge}.getTime() >= ${ne.minimumTimestamp}`),Kr(ne.multipleOfTimestamp)&&(yield`(${ge}.getTime() % ${ne.multipleOfTimestamp}) === 0`)}o(u,"FromDate");function*f(ne,Ne,ge){yield`(typeof ${ge} === 'function')`}o(f,"FromFunction");function*m(ne,Ne,ge){let He=globalThis.Object.getOwnPropertyNames(ne.$defs).reduce((z,ee)=>[...z,ne.$defs[ee]],[]);yield*te(nd(ne.$ref),[...Ne,...He],ge)}o(m,"FromImport");function*h(ne,Ne,ge){yield`Number.isInteger(${ge})`,Kr(ne.exclusiveMaximum)&&(yield`${ge} < ${ne.exclusiveMaximum}`),Kr(ne.exclusiveMinimum)&&(yield`${ge} > ${ne.exclusiveMinimum}`),Kr(ne.maximum)&&(yield`${ge} <= ${ne.maximum}`),Kr(ne.minimum)&&(yield`${ge} >= ${ne.minimum}`),Kr(ne.multipleOf)&&(yield`(${ge} % ${ne.multipleOf}) === 0`)}o(h,"FromInteger");function*p(ne,Ne,ge){let He=ne.allOf.map(z=>ce(z,Ne,ge)).join(" && ");if(ne.unevaluatedProperties===!1){let z=Ie(`${new RegExp(D1(ne))};`),ee=`Object.getOwnPropertyNames(${ge}).every(key => ${z}.test(key))`;yield`(${He} && ${ee})`}else if(cs(ne.unevaluatedProperties)){let z=Ie(`${new RegExp(D1(ne))};`),ee=`Object.getOwnPropertyNames(${ge}).every(key => ${z}.test(key) || ${ce(ne.unevaluatedProperties,Ne,`${ge}[key]`)})`;yield`(${He} && ${ee})`}else yield`(${He})`}o(p,"FromIntersect");function*g(ne,Ne,ge){yield`(typeof value === 'object' && Symbol.iterator in ${ge})`}o(g,"FromIterator");function*x(ne,Ne,ge){typeof ne.const=="number"||typeof ne.const=="boolean"?yield`(${ge} === ${ne.const})`:yield`(${ge} === '${nZ.Escape(ne.const)}')`}o(x,"FromLiteral");function*v(ne,Ne,ge){yield"false"}o(v,"FromNever");function*E(ne,Ne,ge){yield`(!${ce(ne.not,Ne,ge)})`}o(E,"FromNot");function*b(ne,Ne,ge){yield`(${ge} === null)`}o(b,"FromNull");function*_(ne,Ne,ge){yield d4.IsNumberLike(ge),Kr(ne.exclusiveMaximum)&&(yield`${ge} < ${ne.exclusiveMaximum}`),Kr(ne.exclusiveMinimum)&&(yield`${ge} > ${ne.exclusiveMinimum}`),Kr(ne.maximum)&&(yield`${ge} <= ${ne.maximum}`),Kr(ne.minimum)&&(yield`${ge} >= ${ne.minimum}`),Kr(ne.multipleOf)&&(yield`(${ge} % ${ne.multipleOf}) === 0`)}o(_,"FromNumber");function*R(ne,Ne,ge){yield d4.IsObjectLike(ge),Kr(ne.minProperties)&&(yield`Object.getOwnPropertyNames(${ge}).length >= ${ne.minProperties}`),Kr(ne.maxProperties)&&(yield`Object.getOwnPropertyNames(${ge}).length <= ${ne.maxProperties}`);let He=Object.getOwnPropertyNames(ne.properties);for(let z of He){let ee=QF.Encode(ge,z),Qe=ne.properties[z];if(ne.required&&ne.required.includes(z))yield*te(Qe,Ne,ee),(P1(Qe)||t(Qe))&&(yield`('${z}' in ${ge})`);else{let Se=ce(Qe,Ne,ee);yield d4.IsExactOptionalProperty(ge,z,Se)}}if(ne.additionalProperties===!1)if(ne.required&&ne.required.length===He.length)yield`Object.getOwnPropertyNames(${ge}).length === ${He.length}`;else{let z=`[${He.map(ee=>`'${ee}'`).join(", ")}]`;yield`Object.getOwnPropertyNames(${ge}).every(key => ${z}.includes(key))`}if(typeof ne.additionalProperties=="object"){let z=ce(ne.additionalProperties,Ne,`${ge}[key]`),ee=`[${He.map(Qe=>`'${Qe}'`).join(", ")}]`;yield`(Object.getOwnPropertyNames(${ge}).every(key => ${ee}.includes(key) || ${z}))`}}o(R,"FromObject");function*P(ne,Ne,ge){yield`${ge} instanceof Promise`}o(P,"FromPromise");function*F(ne,Ne,ge){yield d4.IsRecordLike(ge),Kr(ne.minProperties)&&(yield`Object.getOwnPropertyNames(${ge}).length >= ${ne.minProperties}`),Kr(ne.maxProperties)&&(yield`Object.getOwnPropertyNames(${ge}).length <= ${ne.maxProperties}`);let[He,z]=Object.entries(ne.patternProperties)[0],ee=Ie(`${new RegExp(He)}`),Qe=ce(z,Ne,"value"),Se=cs(ne.additionalProperties)?ce(ne.additionalProperties,Ne,ge):ne.additionalProperties===!1?"false":"true",Ce=`(${ee}.test(key) ? ${Qe} : ${Se})`;yield`(Object.entries(${ge}).every(([key, value]) => ${Ce}))`}o(F,"FromRecord");function*G(ne,Ne,ge){let He=zi(ne,Ne);if(le.functions.has(ne.$ref))return yield`${Pe(ne.$ref)}(${ge})`;yield*te(He,Ne,ge)}o(G,"FromRef");function*se(ne,Ne,ge){let He=Ie(`${new RegExp(ne.source,ne.flags)};`);yield`(typeof ${ge} === 'string')`,Kr(ne.maxLength)&&(yield`${ge}.length <= ${ne.maxLength}`),Kr(ne.minLength)&&(yield`${ge}.length >= ${ne.minLength}`),yield`${He}.test(${ge})`}o(se,"FromRegExp");function*Ae(ne,Ne,ge){yield`(typeof ${ge} === 'string')`,Kr(ne.maxLength)&&(yield`${ge}.length <= ${ne.maxLength}`),Kr(ne.minLength)&&(yield`${ge}.length >= ${ne.minLength}`),ne.pattern!==void 0&&(yield`${Ie(`${new RegExp(ne.pattern)};`)}.test(${ge})`),ne.format!==void 0&&(yield`format('${ne.format}', ${ge})`)}o(Ae,"FromString");function*re(ne,Ne,ge){yield`(typeof ${ge} === 'symbol')`}o(re,"FromSymbol");function*W(ne,Ne,ge){yield`(typeof ${ge} === 'string')`,yield`${Ie(`${new RegExp(ne.pattern)};`)}.test(${ge})`}o(W,"FromTemplateLiteral");function*q(ne,Ne,ge){yield`${Pe(ne.$ref)}(${ge})`}o(q,"FromThis");function*oe(ne,Ne,ge){if(yield`Array.isArray(${ge})`,ne.items===void 0)return yield`${ge}.length === 0`;yield`(${ge}.length === ${ne.maxItems})`;for(let He=0;He<ne.items.length;He++)yield`${ce(ne.items[He],Ne,`${ge}[${He}]`)}`}o(oe,"FromTuple");function*X(ne,Ne,ge){yield`${ge} === undefined`}o(X,"FromUndefined");function*H(ne,Ne,ge){yield`(${ne.anyOf.map(z=>ce(z,Ne,ge)).join(" || ")})`}o(H,"FromUnion");function*O(ne,Ne,ge){yield`${ge} instanceof Uint8Array`,Kr(ne.maxByteLength)&&(yield`(${ge}.length <= ${ne.maxByteLength})`),Kr(ne.minByteLength)&&(yield`(${ge}.length >= ${ne.minByteLength})`)}o(O,"FromUint8Array");function*V(ne,Ne,ge){yield"true"}o(V,"FromUnknown");function*J(ne,Ne,ge){yield d4.IsVoidLike(ge)}o(J,"FromVoid");function*ae(ne,Ne,ge){let He=le.instances.size;le.instances.set(He,ne),yield`kind('${ne[ot]}', ${He}, ${ge})`}o(ae,"FromKind");function*te(ne,Ne,ge,He=!0){let z=Oi(ne.$id)?[...Ne,ne]:Ne,ee=ne;if(He&&Oi(ne.$id)){let Qe=Pe(ne.$id);if(le.functions.has(Qe))return yield`${Qe}(${ge})`;{le.functions.set(Qe,"<deferred>");let Se=Fe(Qe,ne,Ne,"value",!1);return le.functions.set(Qe,Se),yield`${Qe}(${ge})`}}switch(ee[ot]){case"Any":return yield*r(ee,z,ge);case"Argument":return yield*n(ee,z,ge);case"Array":return yield*i(ee,z,ge);case"AsyncIterator":return yield*s(ee,z,ge);case"BigInt":return yield*a(ee,z,ge);case"Boolean":return yield*l(ee,z,ge);case"Constructor":return yield*c(ee,z,ge);case"Date":return yield*u(ee,z,ge);case"Function":return yield*f(ee,z,ge);case"Import":return yield*m(ee,z,ge);case"Integer":return yield*h(ee,z,ge);case"Intersect":return yield*p(ee,z,ge);case"Iterator":return yield*g(ee,z,ge);case"Literal":return yield*x(ee,z,ge);case"Never":return yield*v(ee,z,ge);case"Not":return yield*E(ee,z,ge);case"Null":return yield*b(ee,z,ge);case"Number":return yield*_(ee,z,ge);case"Object":return yield*R(ee,z,ge);case"Promise":return yield*P(ee,z,ge);case"Record":return yield*F(ee,z,ge);case"Ref":return yield*G(ee,z,ge);case"RegExp":return yield*se(ee,z,ge);case"String":return yield*Ae(ee,z,ge);case"Symbol":return yield*re(ee,z,ge);case"TemplateLiteral":return yield*W(ee,z,ge);case"This":return yield*q(ee,z,ge);case"Tuple":return yield*oe(ee,z,ge);case"Undefined":return yield*X(ee,z,ge);case"Union":return yield*H(ee,z,ge);case"Uint8Array":return yield*O(ee,z,ge);case"Unknown":return yield*V(ee,z,ge);case"Void":return yield*J(ee,z,ge);default:if(!t0.Has(ee[ot]))throw new iZ(ne);return yield*ae(ee,z,ge)}}o(te,"Visit");let le={language:"javascript",functions:new Map,variables:new Map,instances:new Map};function ce(ne,Ne,ge,He=!0){return`(${[...te(ne,Ne,ge,He)].join(" && ")})`}o(ce,"CreateExpression");function Pe(ne){return`check_${rZ.Encode(ne)}`}o(Pe,"CreateFunctionName");function Ie(ne){let Ne=`local_${le.variables.size}`;return le.variables.set(Ne,`const ${Ne} = ${ne}`),Ne}o(Ie,"CreateVariable");function Fe(ne,Ne,ge,He,z=!0){let[ee,Qe]=[`
`,$e=>"".padStart($e," ")],Se=Re("value","any"),Ce=Ge("boolean"),qe=[...te(Ne,ge,He,z)].map($e=>`${Qe(4)}${$e}`).join(` &&${ee}`);return`function ${ne}(${Se})${Ce} {${ee}${Qe(2)}return (${ee}${qe}${ee}${Qe(2)})
}`}o(Fe,"CreateFunction");function Re(ne,Ne){let ge=le.language==="typescript"?`: ${Ne}`:"";return`${ne}${ge}`}o(Re,"CreateParameter");function Ge(ne){return le.language==="typescript"?`: ${ne}`:""}o(Ge,"CreateReturns");function lt(ne,Ne,ge){let He=Fe("check",ne,Ne,"value"),z=Re("value","any"),ee=Ge("boolean"),Qe=[...le.functions.values()],Se=[...le.variables.values()],Ce=Oi(ne.$id)?`return function check(${z})${ee} {
  return ${Pe(ne.$id)}(value)
}`:`return ${He}`;return[...Se,...Qe,Ce].join(`
`)}o(lt,"Build");function st(...ne){let Ne={language:"javascript"},[ge,He,z]=ne.length===2&&pn(ne[1])?[ne[0],ne[1],Ne]:ne.length===2&&!pn(ne[1])?[ne[0],[],ne[1]]:ne.length===3?[ne[0],ne[1],ne[2]]:ne.length===1?[ne[0],[],Ne]:[null,[],Ne];if(le.language=z.language,le.variables.clear(),le.functions.clear(),le.instances.clear(),!cs(ge))throw new MF(ge);for(let ee of He)if(!cs(ee))throw new MF(ee);return lt(ge,He,z)}o(st,"Code"),e.Code=st;function ct(ne,Ne=[]){let ge=st(ne,Ne,{language:"javascript"}),He=globalThis.Function("kind","format","hash",ge),z=new Map(le.instances);function ee(qe,$e,tt){if(!t0.Has(qe)||!z.has($e))return!1;let Ct=t0.Get(qe),Pt=z.get($e);return Ct(Pt,tt)}o(ee,"typeRegistryFunction");function Qe(qe,$e){return Pm.Has(qe)?Pm.Get(qe)($e):!1}o(Qe,"formatRegistryFunction");function Se(qe){return Hy(qe)}o(Se,"hashFunction");let Ce=He(ee,Qe,Se);return new tZ(ne,Ne,Ce,ge)}o(ct,"Compile"),e.Compile=ct})(ds||(ds={}));var qF=et(Iy());d();d();var tc=[];for(let e=0;e<256;++e)tc.push((e+256).toString(16).slice(1));function p5e(e,t=0){return(tc[e[t+0]]+tc[e[t+1]]+tc[e[t+2]]+tc[e[t+3]]+"-"+tc[e[t+4]]+tc[e[t+5]]+"-"+tc[e[t+6]]+tc[e[t+7]]+"-"+tc[e[t+8]]+tc[e[t+9]]+"-"+tc[e[t+10]]+tc[e[t+11]]+tc[e[t+12]]+tc[e[t+13]]+tc[e[t+14]]+tc[e[t+15]]).toLowerCase()}o(p5e,"unsafeStringify");d();var g5e=require("crypto");var UF=new Uint8Array(256),OF=UF.length;function oZ(){return OF>UF.length-16&&((0,g5e.randomFillSync)(UF),OF=0),UF.slice(OF,OF+=16)}o(oZ,"rng");d();d();var A5e=require("crypto"),sZ={randomUUID:A5e.randomUUID};function srt(e,t,r){if(sZ.randomUUID&&!t&&!e)return sZ.randomUUID();e=e||{};let n=e.random??e.rng?.()??oZ();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){if(r=r||0,r<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let i=0;i<16;++i)t[r+i]=n[i];return t}return p5e(n)}o(srt,"v4");var Ir=srt;var WF=et(ti());function aI(e){return e===1}o(aI,"isRestricted");var art=["engine.prompt","engine.completion","ghostText.capturedAfterAccepted","ghostText.capturedAfterRejected"],hw=8192,lrt=21;var Ds=class{static{o(this,"TelemetryReporters")}getReporter(t,r=0){return aI(r)?this.getRestrictedReporter(t):this.reporter}getRestrictedReporter(t){if(GF(t))return this.reporterRestricted;if(XE(t))return new dw}getFTReporter(t){if(C5e(t))return this.reporterFT;if(XE(t))return new dw}setReporter(t){this.reporter=t}setRestrictedReporter(t){this.reporterRestricted=t}setFTReporter(t){this.reporterFT=t}async deactivate(){let t=Promise.resolve();this.reporter&&(t=this.reporter.dispose(),this.reporter=void 0);let r=Promise.resolve();this.reporterRestricted&&(r=this.reporterRestricted.dispose(),this.reporterRestricted=void 0);let n=Promise.resolve();this.reporterFT&&(n=this.reporterFT.dispose(),this.reporterFT=void 0),await Promise.all([t,r,n])}},crt=I.Object({},{additionalProperties:I.String()}),urt=I.Object({meanLogProb:I.Optional(I.Number()),meanAlternativeLogProb:I.Optional(I.Number())},{additionalProperties:I.Number()}),frt=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function drt(e){return frt.has(e.code??"")||e.name==="RangeError"&&e.message==="WebAssembly.Memory(): could not allocate memory"}o(drt,"isOomError");function mrt(e){return QT(e)?"network":drt(e)||e.code==="EMFILE"||e.code==="ENFILE"||e.syscall==="uv_cwd"&&(e.code==="ENOENT"||e.code=="EIO")||e.code==="CopilotPromptLoadFailure"||`${e.code}`.startsWith("CopilotPromptWorkerExit")?"local":"exception"}o(mrt,"getErrorType");var cn=class e{static{o(this,"TelemetryData")}static{this.validateTelemetryProperties=ds.Compile(crt)}static{this.validateTelemetryMeasurements=ds.Compile(urt)}static{this.keysExemptedFromSanitization=["abexp.assignmentcontext","VSCode.ABExp.Features"]}constructor(t,r,n){this.properties=t,this.measurements=r,this.issuedTime=n}static createAndMarkAsIssued(t,r){return new e(t||{},r||{},Xs())}extendedBy(t,r){let n={...this.properties,...t},i={...this.measurements,...r},s=new e(n,i,this.issuedTime);return s.displayedTime=this.displayedTime,s}markAsDisplayed(){this.displayedTime===void 0&&(this.displayedTime=Xs())}async extendWithExpTelemetry(t){let{filters:r,exp:n}=await t.get(Cr).getFallbackExpAndFilters();n.addToTelemetry(this),r.addToTelemetry(this)}extendWithEditorAgnosticFields(t){this.properties.editor_version=Bp(t.get(dn).getEditorInfo()),this.properties.editor_plugin_version=Bp(t.get(dn).getEditorPluginInfo());let r=t.get(_s);this.properties.client_machineid=r.machineId,this.properties.client_sessionid=r.sessionId,this.properties.copilot_version=`copilot/${h4(t)}`,typeof process<"u"&&(this.properties.runtime_version=`node/${process.versions.node}`);let n=t.get(dn);this.properties.common_extname=n.getEditorPluginInfo().name,this.properties.common_extversion=n.getEditorPluginInfo().version,this.properties.common_vscodeversion=Bp(n.getEditorInfo());let i=t.get(Or);this.properties.fetcher=i.name;let s=i.proxySettings;this.properties.proxy_enabled=s?"true":"false",this.properties.proxy_auth=s?.proxyAuth?"true":"false",this.properties.proxy_kerberos_spn=s?.kerberosServicePrincipal?"true":"false",this.properties.reject_unauthorized=i.rejectUnauthorized?"true":"false"}extendWithConfigProperties(t){let r=I5e(t);r["copilot.build"]=T5e(t),r["copilot.buildType"]=ud(t),this.properties={...this.properties,...r}}extendWithRequestId(t){let r={completionId:t.completionId,created:t.created.toString(),headerRequestId:t.headerRequestId,serverExperiments:t.serverExperiments,deploymentId:t.deploymentId};this.properties={...this.properties,...r}}static{this.keysToRemoveFromStandardTelemetryHack=["gitRepoHost","gitRepoName","gitRepoOwner","gitRepoUrl","gitRepoPath","repo","request_option_nwo","userKind"]}static maybeRemoveRepoInfoFromPropertiesHack(t,r){if(aI(t))return r;let n={};for(let i in r)e.keysToRemoveFromStandardTelemetryHack.includes(i)||(n[i]=r[i]);return n}sanitizeKeys(){this.properties=e.sanitizeKeys(this.properties),this.measurements=e.sanitizeKeys(this.measurements);for(let t in this.measurements)isNaN(this.measurements[t])&&delete this.measurements[t]}multiplexProperties(){this.properties=e.multiplexProperties(this.properties)}static sanitizeKeys(t){t=t||{};let r={};for(let n in t){let i=e.keysExemptedFromSanitization.includes(n)?n:n.replace(/\./g,"_");r[i]=t[n]}return r}static multiplexProperties(t){let r={...t};for(let n in t){let i=t[n],s=i?.length??0;if(s>hw){let a=0,l=0;for(;s>0&&l<lrt;){l+=1;let c=n;l>1&&(c=n+"_"+(l<10?"0":"")+l);let u=a+hw;s<hw&&(u=a+s),r[c]=i.slice(a,u),s-=hw,a+=hw}}}return r}updateMeasurements(t){let r=t-this.issuedTime;if(this.measurements.timeSinceIssuedMs=r,this.displayedTime!==void 0){let n=t-this.displayedTime;this.measurements.timeSinceDisplayedMs=n}this.measurements.current_time===void 0&&(this.measurements.current_time=grt(t))}validateData(t,r){let n;if(e.validateTelemetryProperties.Check(this.properties)||(n={problem:"properties",error:JSON.stringify([...e.validateTelemetryProperties.Errors(this.properties)])}),!e.validateTelemetryMeasurements.Check(this.measurements)){let i=JSON.stringify([...e.validateTelemetryMeasurements.Errors(this.measurements)]);n===void 0?n={problem:"measurements",error:i}:(n.problem="both",n.error+=`; ${i}`)}if(n===void 0)return!0;if(XE(t))throw new Error(`Invalid telemetry data: ${n.problem} ${n.error} properties=${JSON.stringify(this.properties)} measurements=${JSON.stringify(this.measurements)}`);return m4(t,"invalidTelemetryData",e.createAndMarkAsIssued({properties:JSON.stringify(this.properties),measurements:JSON.stringify(this.measurements),problem:n.problem,validationError:n.error}),r),aI(r)&&m4(t,"invalidTelemetryData_in_secure",e.createAndMarkAsIssued({problem:n.problem,requestId:this.properties.requestId??"unknown"}),0),!1}async makeReadyForSending(t,r,n,i){this.extendWithConfigProperties(t),this.extendWithEditorAgnosticFields(t),this.sanitizeKeys(),this.multiplexProperties(),n==="IncludeExp"&&await this.extendWithExpTelemetry(t),this.updateMeasurements(i),this.validateData(t,r)||(this.properties.telemetry_failed_validation="true"),Object.assign(this.properties,x5e(t))}},Fp=class e extends cn{static{o(this,"TelemetryWithExp")}constructor(t,r,n,i){super(t,r,n),this.filtersAndExp=i}extendedBy(t,r){let n={...this.properties,...t},i={...this.measurements,...r},s=new e(n,i,this.issuedTime,this.filtersAndExp);return s.displayedTime=this.displayedTime,s}async extendWithExpTelemetry(t){this.filtersAndExp.exp.addToTelemetry(this),this.filtersAndExp.filters.addToTelemetry(this)}static createEmptyConfigForTesting(){return new e({},{},0,{filters:new z3({}),exp:cd.createEmptyConfig()})}};function pw(e,t,r,n){e.get(Ds).getReporter(e,t)?.sendTelemetryEvent(r,cn.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(pw,"sendTelemetryEvent");function hrt(e,t,r,n){e.get(Ds).getReporter(e,t)?.sendTelemetryErrorEvent(r,cn.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(hrt,"sendTelemetryErrorEvent");function prt(e,t,r,n){e.get(Ds).getFTReporter(e)?.sendTelemetryEvent(r,cn.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(prt,"sendFTTelemetryEvent");function lI(e){return e.isFimEnabled?{promptPrefixCharLen:e.prefix.length,promptSuffixCharLen:e.suffix.length}:{promptCharLen:e.prefix.length}}o(lI,"telemetrizePromptLength");function Xs(){return performance.now()}o(Xs,"now");function grt(e){return Math.floor(e/1e3)}o(grt,"nowSeconds");function GF(e){return e.get(Xl).optedIn}o(GF,"shouldSendRestricted");function C5e(e){return e.get(Xl).ftFlag!==""}o(C5e,"shouldSendFinetuningTelemetry");function jt(e,t,r,n){return e.get(Do).register(Art(e,t,Xs(),r?.extendedBy(),n))}o(jt,"telemetry");async function Art(e,t,r,n,i=0){let s=n||cn.createAndMarkAsIssued({},{});await s.makeReadyForSending(e,i??!1,"IncludeExp",r),(!aI(i)||GF(e))&&pw(e,i,t,s),aI(i)&&art.includes(t)&&C5e(e)&&prt(e,i,t,s)}o(Art,"_telemetry");function HF(e,t){return e.get(Do).register(yrt(e,t,Xs()))}o(HF,"telemetryExpProblem");async function yrt(e,t,r){let n="expProblem",i=cn.createAndMarkAsIssued(t,{});await i.makeReadyForSending(e,0,"SkipExp",r),pw(e,0,n,i)}o(yrt,"_telemetryExpProblem");function lZ(e,t,r,n){return e.get(Do).register(Crt(e,t,r,n))}o(lZ,"telemetryRaw");async function Crt(e,t,r,n){let i={...r,...x5e(e)};pw(e,0,t,{properties:i,measurements:n})}o(Crt,"_telemetryRaw");function x5e(e){let t=e.get(dn),r={unique_id:Ir(),common_extname:t.getEditorPluginInfo().name,common_extversion:t.getEditorPluginInfo().version,common_vscodeversion:Bp(t.getEditorInfo())},n=e.get(Xl);return n.trackingId&&(r.copilot_trackingId=n.trackingId),n.organizationsList&&(r.organizations_list=n.organizationsList),n.enterpriseList&&(r.enterprise_list=n.enterpriseList),n.sku&&(r.sku=n.sku),r}o(x5e,"createRequiredProperties");var aZ=class extends Error{static{o(this,"CopilotNonError")}constructor(t){let r;try{r=JSON.stringify(t)}catch{r=String(t)}super(r),this.name="CopilotNonError",this.code=(0,qF.SHA256)(qF.enc.Utf16.parse(this.message)).toString().slice(0,16)}};function xa(e,t,r,n,i){return e.get(Do).register(v5e(e,t,Xs(),r,{...n},i))}o(xa,"telemetryException");async function v5e(e,t,r,n,i,s){let a;if(t instanceof Error){if(a=t,a.name==="Canceled"&&a.message==="Canceled"||a.name==="CodeExpectedError"||Ec(a)||a instanceof Ks||a instanceof WF.ConnectionError||a instanceof WF.ResponseError)return}else{if(a=new aZ(t),t&&typeof t=="object"&&t.name==="ExitStatus")return;if(a.stack?.startsWith(`${a}
`)){let x=a.stack.slice(`${a}
`.length).split(`
`);/^\s*(?:at )?(?:\w+\.)*_telemetryException\b/.test(x[0]??"")&&x.shift(),/^\s*(?:at )?(?:\w+\.)*telemetryException\b/.test(x[0]??"")&&x.shift(),a.stack=`${a}
${x.join(`
`)}`}}let l=e.get(dn).getEditorInfo(),c;l.root&&(c=[{prefix:`${l.name}:`,path:l.root}]);let u=$J(a,c),f=GF(e),m=mrt(a),h=m==="exception",p=cn.createAndMarkAsIssued({origin:n??"",type:a.name,code:`${a.code??""}`,reason:u.stack||u.toString(),message:u.message,...i});if(await p.makeReadyForSending(e,0,"IncludeExp",r),s?.exception_detail)for(let x of s.exception_detail)x.value&&(f?x.value=jJ(x.value):x.value="[redacted]");if(s??=e5e(e,$J(a,c,f)),s.context={...s.context,"copilot_event.unique_id":p.properties.unique_id,"#restricted_telemetry":f?"true":"false"},n&&(s.context["#origin"]=n,s.transaction=n),s.rollup_id!=="auto"&&(p.properties.errno=s.rollup_id),s.created_at=new Date(p.issuedTime).toISOString(),f){let x=u5e(a,c),v=cn.createAndMarkAsIssued({origin:n??"",type:a.name,code:`${a.code??""}`,reason:x.stack||x.toString(),message:x.message,...i});s.rollup_id!=="auto"&&(v.properties.errno=s.rollup_id),await v.makeReadyForSending(e,1,"IncludeExp",r),v.properties.unique_id=p.properties.unique_id,p.properties.restricted_unique_id=v.properties.unique_id,pw(e,1,`error.${m}`,v)}let g=s.rollup_id==="auto"?a.stack??"":s.rollup_id;h&&!e.get(Dp).isThrottled(g)&&(p.properties.failbot_payload=JSON.stringify(s)),pw(e,0,`error.${m}`,p)}o(v5e,"_telemetryException");function Gu(e,t,r,n){let i=o(async(...s)=>{try{await t(...s)}catch(a){await v5e(e,a,Xs(),r,n)}},"wrapped");return(...s)=>e.get(Do).register(i(...s))}o(Gu,"telemetryCatch");function m4(e,t,r,n){return e.get(Do).register(xrt(e,t,Xs(),r?.extendedBy(),n))}o(m4,"telemetryError");async function xrt(e,t,r,n,i=0){if(aI(i)&&!GF(e))return;let s=n||cn.createAndMarkAsIssued({},{});await s.makeReadyForSending(e,i,"IncludeExp",r),hrt(e,i,t,s)}o(xrt,"_telemetryError");function b5e(e,t,r,n,i){let s=cn.createAndMarkAsIssued({completionTextJson:JSON.stringify(t),choiceIndex:i.toString()});if(r.logprobs)for(let[a,l]of Object.entries(r.logprobs))s.properties["logprobs_"+a]=JSON.stringify(l)??"unset";return s.extendWithRequestId(n),jt(e,"engine.completion",s,1)}o(b5e,"logEngineCompletion");function E5e(e,t,r){let n;t.isFimEnabled?n={promptPrefixJson:JSON.stringify(t.prefix),promptSuffixJson:JSON.stringify(t.suffix)}:n={promptJson:JSON.stringify(t.prefix)};let i=r.extendedBy(n);return jt(e,"engine.prompt",i,1)}o(E5e,"logEnginePrompt");var cd=class e{static{o(this,"ExpConfig")}constructor(t,r,n){this.variables=t,this.assignmentContext=r,this.features=n}static createFallbackConfig(t,r){return HF(t,{reason:r}),this.createEmptyConfig()}static createEmptyConfig(){return new e({},"","")}addToTelemetry(t){t.properties["VSCode.ABExp.Features"]=this.features,t.properties["abexp.assignmentcontext"]=this.assignmentContext}};d();d();d();var S5e=require("os"),VF=require("path");d();var w5e;(()=>{"use strict";var e={975:W=>{function q(H){if(typeof H!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(H))}o(q,"e");function oe(H,O){for(var V,J="",ae=0,te=-1,le=0,ce=0;ce<=H.length;++ce){if(ce<H.length)V=H.charCodeAt(ce);else{if(V===47)break;V=47}if(V===47){if(!(te===ce-1||le===1))if(te!==ce-1&&le===2){if(J.length<2||ae!==2||J.charCodeAt(J.length-1)!==46||J.charCodeAt(J.length-2)!==46){if(J.length>2){var Pe=J.lastIndexOf("/");if(Pe!==J.length-1){Pe===-1?(J="",ae=0):ae=(J=J.slice(0,Pe)).length-1-J.lastIndexOf("/"),te=ce,le=0;continue}}else if(J.length===2||J.length===1){J="",ae=0,te=ce,le=0;continue}}O&&(J.length>0?J+="/..":J="..",ae=2)}else J.length>0?J+="/"+H.slice(te+1,ce):J=H.slice(te+1,ce),ae=ce-te-1;te=ce,le=0}else V===46&&le!==-1?++le:le=-1}return J}o(oe,"r");var X={resolve:o(function(){for(var H,O="",V=!1,J=arguments.length-1;J>=-1&&!V;J--){var ae;J>=0?ae=arguments[J]:(H===void 0&&(H=process.cwd()),ae=H),q(ae),ae.length!==0&&(O=ae+"/"+O,V=ae.charCodeAt(0)===47)}return O=oe(O,!V),V?O.length>0?"/"+O:"/":O.length>0?O:"."},"resolve"),normalize:o(function(H){if(q(H),H.length===0)return".";var O=H.charCodeAt(0)===47,V=H.charCodeAt(H.length-1)===47;return(H=oe(H,!O)).length!==0||O||(H="."),H.length>0&&V&&(H+="/"),O?"/"+H:H},"normalize"),isAbsolute:o(function(H){return q(H),H.length>0&&H.charCodeAt(0)===47},"isAbsolute"),join:o(function(){if(arguments.length===0)return".";for(var H,O=0;O<arguments.length;++O){var V=arguments[O];q(V),V.length>0&&(H===void 0?H=V:H+="/"+V)}return H===void 0?".":X.normalize(H)},"join"),relative:o(function(H,O){if(q(H),q(O),H===O||(H=X.resolve(H))===(O=X.resolve(O)))return"";for(var V=1;V<H.length&&H.charCodeAt(V)===47;++V);for(var J=H.length,ae=J-V,te=1;te<O.length&&O.charCodeAt(te)===47;++te);for(var le=O.length-te,ce=ae<le?ae:le,Pe=-1,Ie=0;Ie<=ce;++Ie){if(Ie===ce){if(le>ce){if(O.charCodeAt(te+Ie)===47)return O.slice(te+Ie+1);if(Ie===0)return O.slice(te+Ie)}else ae>ce&&(H.charCodeAt(V+Ie)===47?Pe=Ie:Ie===0&&(Pe=0));break}var Fe=H.charCodeAt(V+Ie);if(Fe!==O.charCodeAt(te+Ie))break;Fe===47&&(Pe=Ie)}var Re="";for(Ie=V+Pe+1;Ie<=J;++Ie)Ie!==J&&H.charCodeAt(Ie)!==47||(Re.length===0?Re+="..":Re+="/..");return Re.length>0?Re+O.slice(te+Pe):(te+=Pe,O.charCodeAt(te)===47&&++te,O.slice(te))},"relative"),_makeLong:o(function(H){return H},"_makeLong"),dirname:o(function(H){if(q(H),H.length===0)return".";for(var O=H.charCodeAt(0),V=O===47,J=-1,ae=!0,te=H.length-1;te>=1;--te)if((O=H.charCodeAt(te))===47){if(!ae){J=te;break}}else ae=!1;return J===-1?V?"/":".":V&&J===1?"//":H.slice(0,J)},"dirname"),basename:o(function(H,O){if(O!==void 0&&typeof O!="string")throw new TypeError('"ext" argument must be a string');q(H);var V,J=0,ae=-1,te=!0;if(O!==void 0&&O.length>0&&O.length<=H.length){if(O.length===H.length&&O===H)return"";var le=O.length-1,ce=-1;for(V=H.length-1;V>=0;--V){var Pe=H.charCodeAt(V);if(Pe===47){if(!te){J=V+1;break}}else ce===-1&&(te=!1,ce=V+1),le>=0&&(Pe===O.charCodeAt(le)?--le==-1&&(ae=V):(le=-1,ae=ce))}return J===ae?ae=ce:ae===-1&&(ae=H.length),H.slice(J,ae)}for(V=H.length-1;V>=0;--V)if(H.charCodeAt(V)===47){if(!te){J=V+1;break}}else ae===-1&&(te=!1,ae=V+1);return ae===-1?"":H.slice(J,ae)},"basename"),extname:o(function(H){q(H);for(var O=-1,V=0,J=-1,ae=!0,te=0,le=H.length-1;le>=0;--le){var ce=H.charCodeAt(le);if(ce!==47)J===-1&&(ae=!1,J=le+1),ce===46?O===-1?O=le:te!==1&&(te=1):O!==-1&&(te=-1);else if(!ae){V=le+1;break}}return O===-1||J===-1||te===0||te===1&&O===J-1&&O===V+1?"":H.slice(O,J)},"extname"),format:o(function(H){if(H===null||typeof H!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof H);return function(O,V){var J=V.dir||V.root,ae=V.base||(V.name||"")+(V.ext||"");return J?J===V.root?J+ae:J+"/"+ae:ae}(0,H)},"format"),parse:o(function(H){q(H);var O={root:"",dir:"",base:"",ext:"",name:""};if(H.length===0)return O;var V,J=H.charCodeAt(0),ae=J===47;ae?(O.root="/",V=1):V=0;for(var te=-1,le=0,ce=-1,Pe=!0,Ie=H.length-1,Fe=0;Ie>=V;--Ie)if((J=H.charCodeAt(Ie))!==47)ce===-1&&(Pe=!1,ce=Ie+1),J===46?te===-1?te=Ie:Fe!==1&&(Fe=1):te!==-1&&(Fe=-1);else if(!Pe){le=Ie+1;break}return te===-1||ce===-1||Fe===0||Fe===1&&te===ce-1&&te===le+1?ce!==-1&&(O.base=O.name=le===0&&ae?H.slice(1,ce):H.slice(le,ce)):(le===0&&ae?(O.name=H.slice(1,te),O.base=H.slice(1,ce)):(O.name=H.slice(le,te),O.base=H.slice(le,ce)),O.ext=H.slice(te,ce)),le>0?O.dir=H.slice(0,le-1):ae&&(O.dir="/"),O},"parse"),sep:"/",delimiter:":",win32:null,posix:null};X.posix=X,W.exports=X}},t={};function r(W){var q=t[W];if(q!==void 0)return q.exports;var oe=t[W]={exports:{}};return e[W](oe,oe.exports,r),oe.exports}o(r,"r"),r.d=(W,q)=>{for(var oe in q)r.o(q,oe)&&!r.o(W,oe)&&Object.defineProperty(W,oe,{enumerable:!0,get:q[oe]})},r.o=(W,q)=>Object.prototype.hasOwnProperty.call(W,q),r.r=W=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(W,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(W,"__esModule",{value:!0})};var n={};let i;r.r(n),r.d(n,{URI:o(()=>h,"URI"),Utils:o(()=>re,"Utils")}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);let s=/^\w[\w\d+.-]*$/,a=/^\//,l=/^\/\//;function c(W,q){if(!W.scheme&&q)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${W.authority}", path: "${W.path}", query: "${W.query}", fragment: "${W.fragment}"}`);if(W.scheme&&!s.test(W.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(W.path){if(W.authority){if(!a.test(W.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(l.test(W.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}o(c,"a");let u="",f="/",m=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class h{static{o(this,"l")}static isUri(q){return q instanceof h||!!q&&typeof q.authority=="string"&&typeof q.fragment=="string"&&typeof q.path=="string"&&typeof q.query=="string"&&typeof q.scheme=="string"&&typeof q.fsPath=="string"&&typeof q.with=="function"&&typeof q.toString=="function"}scheme;authority;path;query;fragment;constructor(q,oe,X,H,O,V=!1){typeof q=="object"?(this.scheme=q.scheme||u,this.authority=q.authority||u,this.path=q.path||u,this.query=q.query||u,this.fragment=q.fragment||u):(this.scheme=function(J,ae){return J||ae?J:"file"}(q,V),this.authority=oe||u,this.path=function(J,ae){switch(J){case"https":case"http":case"file":ae?ae[0]!==f&&(ae=f+ae):ae=f}return ae}(this.scheme,X||u),this.query=H||u,this.fragment=O||u,c(this,V))}get fsPath(){return b(this,!1)}with(q){if(!q)return this;let{scheme:oe,authority:X,path:H,query:O,fragment:V}=q;return oe===void 0?oe=this.scheme:oe===null&&(oe=u),X===void 0?X=this.authority:X===null&&(X=u),H===void 0?H=this.path:H===null&&(H=u),O===void 0?O=this.query:O===null&&(O=u),V===void 0?V=this.fragment:V===null&&(V=u),oe===this.scheme&&X===this.authority&&H===this.path&&O===this.query&&V===this.fragment?this:new g(oe,X,H,O,V)}static parse(q,oe=!1){let X=m.exec(q);return X?new g(X[2]||u,F(X[4]||u),F(X[5]||u),F(X[7]||u),F(X[9]||u),oe):new g(u,u,u,u,u)}static file(q){let oe=u;if(i&&(q=q.replace(/\\/g,f)),q[0]===f&&q[1]===f){let X=q.indexOf(f,2);X===-1?(oe=q.substring(2),q=f):(oe=q.substring(2,X),q=q.substring(X)||f)}return new g("file",oe,q,u,u)}static from(q){let oe=new g(q.scheme,q.authority,q.path,q.query,q.fragment);return c(oe,!0),oe}toString(q=!1){return _(this,q)}toJSON(){return this}static revive(q){if(q){if(q instanceof h)return q;{let oe=new g(q);return oe._formatted=q.external,oe._fsPath=q._sep===p?q.fsPath:null,oe}}return q}}let p=i?1:void 0;class g extends h{static{o(this,"d")}_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=b(this,!1)),this._fsPath}toString(q=!1){return q?_(this,!0):(this._formatted||(this._formatted=_(this,!1)),this._formatted)}toJSON(){let q={$mid:1};return this._fsPath&&(q.fsPath=this._fsPath,q._sep=p),this._formatted&&(q.external=this._formatted),this.path&&(q.path=this.path),this.scheme&&(q.scheme=this.scheme),this.authority&&(q.authority=this.authority),this.query&&(q.query=this.query),this.fragment&&(q.fragment=this.fragment),q}}let x={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function v(W,q,oe){let X,H=-1;for(let O=0;O<W.length;O++){let V=W.charCodeAt(O);if(V>=97&&V<=122||V>=65&&V<=90||V>=48&&V<=57||V===45||V===46||V===95||V===126||q&&V===47||oe&&V===91||oe&&V===93||oe&&V===58)H!==-1&&(X+=encodeURIComponent(W.substring(H,O)),H=-1),X!==void 0&&(X+=W.charAt(O));else{X===void 0&&(X=W.substr(0,O));let J=x[V];J!==void 0?(H!==-1&&(X+=encodeURIComponent(W.substring(H,O)),H=-1),X+=J):H===-1&&(H=O)}}return H!==-1&&(X+=encodeURIComponent(W.substring(H))),X!==void 0?X:W}o(v,"m");function E(W){let q;for(let oe=0;oe<W.length;oe++){let X=W.charCodeAt(oe);X===35||X===63?(q===void 0&&(q=W.substr(0,oe)),q+=x[X]):q!==void 0&&(q+=W[oe])}return q!==void 0?q:W}o(E,"y");function b(W,q){let oe;return oe=W.authority&&W.path.length>1&&W.scheme==="file"?`//${W.authority}${W.path}`:W.path.charCodeAt(0)===47&&(W.path.charCodeAt(1)>=65&&W.path.charCodeAt(1)<=90||W.path.charCodeAt(1)>=97&&W.path.charCodeAt(1)<=122)&&W.path.charCodeAt(2)===58?q?W.path.substr(1):W.path[1].toLowerCase()+W.path.substr(2):W.path,i&&(oe=oe.replace(/\//g,"\\")),oe}o(b,"v");function _(W,q){let oe=q?E:v,X="",{scheme:H,authority:O,path:V,query:J,fragment:ae}=W;if(H&&(X+=H,X+=":"),(O||H==="file")&&(X+=f,X+=f),O){let te=O.indexOf("@");if(te!==-1){let le=O.substr(0,te);O=O.substr(te+1),te=le.lastIndexOf(":"),te===-1?X+=oe(le,!1,!1):(X+=oe(le.substr(0,te),!1,!1),X+=":",X+=oe(le.substr(te+1),!1,!0)),X+="@"}O=O.toLowerCase(),te=O.lastIndexOf(":"),te===-1?X+=oe(O,!1,!0):(X+=oe(O.substr(0,te),!1,!0),X+=O.substr(te))}if(V){if(V.length>=3&&V.charCodeAt(0)===47&&V.charCodeAt(2)===58){let te=V.charCodeAt(1);te>=65&&te<=90&&(V=`/${String.fromCharCode(te+32)}:${V.substr(3)}`)}else if(V.length>=2&&V.charCodeAt(1)===58){let te=V.charCodeAt(0);te>=65&&te<=90&&(V=`${String.fromCharCode(te+32)}:${V.substr(2)}`)}X+=oe(V,!0,!1)}return J&&(X+="?",X+=oe(J,!1,!1)),ae&&(X+="#",X+=q?ae:v(ae,!1,!1)),X}o(_,"b");function R(W){try{return decodeURIComponent(W)}catch{return W.length>3?W.substr(0,3)+R(W.substr(3)):W}}o(R,"C");let P=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function F(W){return W.match(P)?W.replace(P,q=>R(q)):W}o(F,"w");var G=r(975);let se=G.posix||G,Ae="/";var re;(function(W){W.joinPath=function(q,...oe){return q.with({path:se.join(q.path,...oe)})},W.resolvePath=function(q,...oe){let X=q.path,H=!1;X[0]!==Ae&&(X=Ae+X,H=!0);let O=se.resolve(X,...oe);return H&&O[0]===Ae&&!q.authority&&(O=O.substring(1)),q.with({path:O})},W.dirname=function(q){if(q.path.length===0||q.path===Ae)return q;let oe=se.dirname(q.path);return oe.length===1&&oe.charCodeAt(0)===46&&(oe=""),q.with({path:oe})},W.basename=function(q){return se.basename(q.path)},W.extname=function(q){return se.extname(q.path)}})(re||(re={})),w5e=n})();var{URI:Vy,Utils:jF}=w5e;function k5e(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substring(0,3)+k5e(e.substring(3)):e}}o(k5e,"decodeURIComponentGraceful");var _5e=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function cZ(e){return e.match(_5e)?e.replace(_5e,t=>k5e(t)):e}o(cZ,"percentDecode");function sl(e){if(/^[A-Za-z][A-Za-z0-9+.-]+:/.test(e))throw new Error("Path must not contain a scheme");if(!e)throw new Error("Path must not be empty");return Vy.file(e).toString()}o(sl,"makeFsUri");function cI(e){if(typeof e!="string"&&(e=e.uri),/^[A-Za-z]:\\/.test(e))throw new Error(`Could not parse <${e}>: Windows-style path`);try{let t=e.match(/^(?:([^:/?#]+?:)?\/\/)(\/\/.*)$/);return t?Vy.parse(t[1]+t[2],!0):Vy.parse(e,!0)}catch(t){throw new Error(`Could not parse <${e}>`,{cause:t})}}o(cI,"parseUri");function R5e(e){return cI(e),e}o(R5e,"validateUri");function rc(e){try{return cI(e).toString()}catch{return e}}o(rc,"normalizeUri");var B5e=new Set(["file","notebook","vscode-notebook","vscode-notebook-cell"]);function Il(e){let t=cI(e);if(!B5e.has(t.scheme))throw new Error(`Unsupported scheme: ${t.scheme}`);if((0,S5e.platform)()==="win32"){let r=t.path;return t.authority?r=`//${t.authority}${t.path}`:/^\/[A-Za-z]:/.test(r)&&(r=r.substring(1)),(0,VF.normalize)(r)}else{if(t.authority)throw new Error("Unsupported remote file path");return t.path}}o(Il,"fsPath");function Mo(e){try{return Il(e)}catch{return}}o(Mo,"getFsPath");function D5e(e){let t=Mo(e);if(t)return Vy.file(t).toString()}o(D5e,"getFsUri");function p4(e,...t){let r,n=Mo(e);return n?r=sl((0,VF.resolve)(n,...t)):r=jF.resolvePath(cI(e),...t.map(i=>P5e(i))).toString(),typeof e=="string"?r:{uri:r}}o(p4,"resolveFilePath");function Fo(e,...t){let r=jF.joinPath(cI(e),...t.map(P5e)).toString();return typeof e=="string"?r:{uri:r}}o(Fo,"joinPath");function P5e(e){return vrt(e)?e.replaceAll("\\","/"):e}o(P5e,"pathToURIPath");function vrt(e){return/^[^/\\]*\\/.test(e)}o(vrt,"isWinPath");function Di(e){return cZ((typeof e=="string"?e:e.uri).replace(/[#?].*$/,"").replace(/\/$/,"").replace(/^.*[/:]/,""))}o(Di,"basename");function ju(e){let t=jF.dirname(cI(e)),r;return B5e.has(t.scheme)&&t.scheme!=="file"?r=t.with({scheme:"file",fragment:""}).toString():r=t.toString(),typeof e=="string"?r:{uri:r}}o(ju,"dirname");var On=class{static{o(this,"NetworkConfiguration")}},$F={api:"https://api.githubcopilot.com",proxy:"https://copilot-proxy.githubusercontent.com",telemetry:"https://copilot-telemetry.githubusercontent.com","origin-tracker":"https://origin-tracker.githubusercontent.com"};function uZ(e,t,r){if(r&&Om(e)){for(let n of r){let i=qn(e,n);if(i)return i}return}for(let n of t){let i=qn(e,n);if(i)return i}}o(uZ,"urlConfigOverride");function brt(e,t){switch(t){case"api":return uZ(e,[St.DebugOverrideCapiUrl,St.DebugOverrideCapiUrlLegacy],[St.DebugTestOverrideCapiUrl,St.DebugTestOverrideCapiUrlLegacy]);case"proxy":return uZ(e,[St.DebugOverrideProxyUrl,St.DebugOverrideProxyUrlLegacy],[St.DebugTestOverrideProxyUrl,St.DebugTestOverrideProxyUrlLegacy]);case"origin-tracker":if(!zF(e))return uZ(e,[St.DebugSnippyOverrideUrl])}}o(brt,"getEndpointOverrideUrl");function uI(e,t,r,...n){let i=brt(e,r)??(t.envelope.endpoints??$F)[r];return Fo(i,...n)}o(uI,"getEndpointUrl");var Wm=class{static{o(this,"ExpConfigMaker")}},gw=class extends Wm{constructor(r="",n={}){super();this.overrideTASUrl=r;this.defaultFilters=n}static{o(this,"ExpConfigFromTAS")}async fetchExperiments(r,n){let i=r.get(Or),s=Object.keys(n).length===0?this.defaultFilters:n,a=this.overrideTASUrl.length===0?r.get(On).getExperimentationUrl():this.overrideTASUrl,l;try{l=await i.fetch(a,{method:"GET",headers:s,timeout:5e3})}catch(m){return cd.createFallbackConfig(r,`Error fetching ExP config: ${String(m)}`)}if(!l.ok)return cd.createFallbackConfig(r,`ExP responded with ${l.status}`);let c;try{c=await l.json()}catch(m){if(m instanceof SyntaxError)return xa(r,m,"fetchExperiments"),cd.createFallbackConfig(r,"ExP responded with invalid JSON");throw m}let u=c.Configs.find(m=>m.Id==="vscode")??{Id:"vscode",Parameters:{}},f=Object.entries(u.Parameters).map(([m,h])=>m+(h?"":"cf"));return new cd(u.Parameters,c.AssignmentContext,f.join(";"))}},YF=class extends Wm{static{o(this,"ExpConfigNone")}fetchExperiments(t,r){return Promise.resolve(cd.createEmptyConfig())}};d();d();var KF=class{constructor(t){this.prefix=t}static{o(this,"GranularityImplementation")}getCurrentAndUpComingValues(t){let r=this.getValue(t),n=this.getUpcomingValues(t);return[r,n]}},fZ=class extends KF{static{o(this,"ConstantGranularity")}getValue(t){return this.prefix}getUpcomingValues(t){return[]}},F5e=o(e=>new fZ(e),"DEFAULT_GRANULARITY"),JF=class extends KF{constructor(r,n=.5,i=new Date().setUTCHours(0,0,0,0)){super(r);this.prefix=r;this.fetchBeforeFactor=n;this.anchor=i}static{o(this,"TimeBucketGranularity")}setTimePeriod(r){isNaN(r)?this.timePeriodLengthMs=void 0:this.timePeriodLengthMs=r}setByCallBuckets(r){isNaN(r)?this.numByCallBuckets=void 0:this.numByCallBuckets=r}getValue(r){return this.prefix+this.getTimePeriodBucketString(r)+(this.numByCallBuckets?this.timeHash(r):"")}getTimePeriodBucketString(r){return this.timePeriodLengthMs?this.dateToTimePartString(r):""}getUpcomingValues(r){let n=[],i=this.getUpcomingTimePeriodBucketStrings(r),s=this.getUpcomingByCallBucketStrings();for(let a of i)for(let l of s)n.push(this.prefix+a+l);return n}getUpcomingTimePeriodBucketStrings(r){if(this.timePeriodLengthMs===void 0)return[""];if((r.getTime()-this.anchor)%this.timePeriodLengthMs<this.fetchBeforeFactor*this.timePeriodLengthMs)return[this.getTimePeriodBucketString(r)];{let n=new Date(r.getTime()+this.timePeriodLengthMs);return[this.getTimePeriodBucketString(r),this.getTimePeriodBucketString(n)]}}getUpcomingByCallBucketStrings(){return this.numByCallBuckets===void 0?[""]:Array.from(Array(this.numByCallBuckets).keys()).map(r=>r.toString())}timeHash(r){return this.numByCallBuckets==null?0:7883*(r.getTime()%this.numByCallBuckets)%this.numByCallBuckets}dateToTimePartString(r){return this.timePeriodLengthMs==null?"":Math.floor((r.getTime()-this.anchor)/this.timePeriodLengthMs).toString()}};var N5e="X-Copilot-ClientTimeBucket",ZF=class{constructor(t,r){this.specs=new Map;this.prefix=t,this.clock=r,this.defaultGranularity=F5e(t)}static{o(this,"GranularityDirectory")}selectGranularity(t){for(let[r,n]of this.specs.entries())if(t.extends(r))return n;return this.defaultGranularity}update(t,r,n){if(r=r>1?r:NaN,n=n>0?n:NaN,isNaN(r)&&isNaN(n))this.specs.delete(t);else{let i=new JF(this.prefix);isNaN(r)||i.setByCallBuckets(r),isNaN(n)||i.setTimePeriod(n*3600*1e3),this.specs.set(t,i)}}extendFilters(t){let r=this.selectGranularity(t),[n,i]=r.getCurrentAndUpComingValues(this.clock.now());return{newFilterSettings:t.withChange(N5e,n),otherFilterSettingsToPrefetch:i.map(s=>t.withChange(N5e,s))}}};d();d();d();d();d();d();function XF(e){return["a5db0bcaae94032fe715fb34a5e4bce2","7184f66dfcee98cb5f08a1cb936d5225","faef89d9169d5eacf1d8c8dde3412e37","4535c7beffc844b46bb1ed4aa04d759a"].find(r=>e.includes(r))}o(XF,"findKnownOrg");d();d();var g4=(i=>(i[i.DEBUG=4]="DEBUG",i[i.INFO=3]="INFO",i[i.WARN=2]="WARN",i[i.ERROR=1]="ERROR",i))(g4||{}),qa=class{static{o(this,"LogTarget")}},Np=class{static{o(this,"TelemetryLogSender")}},Vt=class{constructor(t){this.category=t}static{o(this,"Logger")}log(t,r,...n){t.get(qa).logIt(t,r,this.category,...n)}debug(t,...r){this.log(t,4,...r)}info(t,...r){this.log(t,3,...r)}warn(t,...r){this.log(t,2,...r)}error(t,...r){t.get(Np).sendError(t,this.category,...r),this.errorWithoutTelemetry(t,...r)}errorWithoutTelemetry(t,...r){this.log(t,1,...r)}exception(t,r,n){if(r instanceof Error&&r.name==="Canceled"&&r.message==="Canceled")return;let i=n;n.startsWith(".")&&(i=n.substring(1),n=`${this.category}${n}`),t.get(Np).sendException(t,r,n);let s=r instanceof Error?r:new Error(`Non-error thrown: ${String(r)}`);this.log(t,1,`${i}:`,s)}},Jn=new Vt("default");d();var va=class{static{o(this,"NotificationSender")}async showWarningMessageOnlyOnce(t,r,...n){return this.showWarningMessage(r,...n)}};d();var nc=class{static{o(this,"UrlOpener")}};var Ert=["UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_SIGNATURE_FAILURE"],L5e="Your proxy connection requires a trusted certificate. Please make sure the proxy certificate and any issuers are configured correctly and trusted by your operating system.",Q5e="https://gh.io/copilot-network-errors",$0=class{constructor(){this.notifiedErrorCodes=[]}static{o(this,"UserErrorNotifier")}notifyUser(t,r){if(!(r instanceof Error))return;let n=r;n.code&&Ert.includes(n.code)&&!this.didNotifyBefore(n.code)&&(this.notifiedErrorCodes.push(n.code),this.displayCertificateErrorNotification(t,n))}async displayCertificateErrorNotification(t,r){new Vt("certificates").error(t,`${L5e} Please visit ${Q5e} to learn more. Original cause:`,r);let n={title:"Learn more"};return t.get(va).showWarningMessage(L5e,n).then(i=>{if(i?.title===n.title)return t.get(nc).open(Q5e)})}didNotifyBefore(t){return this.notifiedErrorCodes.indexOf(t)!==-1}};var Vu=new Vt("auth"),U5e=60;function M5e(){return Math.floor(Date.now()/1e3)}o(M5e,"nowSeconds");async function eN(e,t){let r=cn.createAndMarkAsIssued({},{});jt(e,"auth.new_login");let n=await Irt(e,t),i=await n.json(),s=i.user_notification;if(O5e(e,s,t),n.clientError&&!n.headers.get("x-github-request-id")&&Vu.error(e,`HTTP ${n.status} response does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`),n.status===401){let c="Failed to get copilot token due to 401 status. Please sign out and try again.";return Vu.info(e,c),m4(e,"auth.unknown_401",r),{kind:"failure",reason:"HTTP401",message:c,envelope:i}}if(!n.ok||!i.token){Vu.info(e,`Invalid copilot token: missing token: ${n.status} ${n.statusText}`),m4(e,"auth.invalid_token",r.extendedBy({status:n.status.toString(),status_text:n.statusText}));let c=i.error_details;return c?.notification_id!=="not_signed_up"&&O5e(e,c,t),{kind:"failure",reason:"NotAuthorized",message:"User not authorized",envelope:i,...c}}let a=i.expires_at;i.expires_at=M5e()+i.refresh_in+U5e;let l=new O1(i);return fw(e,l),jt(e,"auth.new_token",r.extendedBy({},{adjusted_expires_at:i.expires_at,expires_at:a,current_time:M5e()})),{kind:"success",envelope:i}}o(eN,"authFromGitHubToken");async function Irt(e,t){let r=t.devOverride?.copilotTokenUrl??e.get(On).getApiUrl(t,"copilot_internal/v2/token");try{return await e.get(Or).fetch(r,{headers:{Authorization:`token ${t.accessToken}`,...Ic(e)},timeout:12e4})}catch(n){throw e.get($0).notifyUser(e,n),n}}o(Irt,"fetchCopilotToken");function O5e(e,t,r){t&&e.get(va).showWarningMessageOnlyOnce(t.notification_id,t.message,{title:t.title},{title:"Dismiss"}).then(async n=>{let i=n?.title===t.title,s=i||n?.title==="Dismiss";if(i){let a=e.get(dn).getEditorPluginInfo(),l=t.url.replace("{EDITOR}",encodeURIComponent(a.name+"_"+a.version));await e.get(nc).open(l)}t.notification_id&&s&&await Trt(e,t.notification_id,r)}).catch(n=>{Vu.exception(e,n,"copilotToken.notification")})}o(O5e,"notifyUser");async function Trt(e,t,r){let n=r.devOverride?.notificationUrl??e.get(On).getApiUrl(r,"copilot_internal/notification"),i=await e.get(Or).fetch(n,{headers:{Authorization:`token ${r.accessToken}`,...Ic(e)},method:"POST",body:JSON.stringify({notification_id:t})});(!i||!i.ok)&&Vu.error(e,`Failed to send notification result to GitHub: ${i?.status} ${i?.statusText}`)}o(Trt,"sendNotificationResultToGitHub");var O1=class{constructor(t){this.envelope=t;this.token=t.token,this.organization_list=t.organization_list,this.enterprise_list=t.enterprise_list,this.tokenMap=this.parseToken(this.token)}static{o(this,"CopilotToken")}needsRefresh(){return(this.envelope.expires_at-U5e)*1e3<Date.now()}isExpired(){return this.envelope.expires_at*1e3<Date.now()}get hasKnownOrg(){return XF(this.organization_list||[])!==void 0}parseToken(t){let r=new Map,i=(t??"").split(":")[0].split(";");for(let s of i){let[a,l]=s.split("=");r.set(a,l)}return r}getTokenValue(t){return this.tokenMap.get(t)}};d();d();d();var j5e=et(W5e()),V5e=et(H5e()),$u=et(require("os"));var fI=class{constructor(t,r,n,i=!1){this.ctx=t;this.namespace=r;this.includeAuthorizationHeader=i;this.onCopilotToken=o(t=>{this.token=t;let r=t.getTokenValue("tid");r!==void 0&&(this.tags["ai.user.id"]=r)},"onCopilotToken");this.xhrOverride={sendPOST:o((t,r)=>{if(typeof t.data!="string")throw new Error(`AppInsightsReporter only supports string payloads, received ${typeof t.data}`);let n=t.headers??{};n["Content-Type"]="application/json",this.includeAuthorizationHeader&&this.token&&(n.Authorization=`Bearer ${this.token.token}`);let i={method:"POST",headers:n,body:t.data};this.ctx.get(Or).fetch(t.urlString,i).then(s=>s.text().then(a=>{r(s.status,Object.fromEntries(s.headers),a)})).catch(s=>{Jn.errorWithoutTelemetry(this.ctx,"Error sending telemetry",s),r(0,{})})},"sendPOST")};this.client=new V5e.ApplicationInsights({instrumentationKey:n,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0,endpointUrl:t.get(On).getTelemetryUrl(),extensionConfig:{[j5e.BreezeChannelIdentifier]:{alwaysUseXhrOverride:!0,httpXHROverride:this.xhrOverride}}}),this.tags=wrt(t),this.commonProperties=_rt(t),this.#e=js(t,this.onCopilotToken)}static{o(this,"AppInsightsReporter")}#e;sendTelemetryEvent(t,r,n){r={...r,...this.commonProperties};let i=this.qualifyEventName(t);this.client.track({name:i,tags:this.tags,data:{...r,...n},baseType:"EventData",baseData:{name:i,properties:r,measurements:n}})}sendTelemetryErrorEvent(t,r,n){this.sendTelemetryEvent(this.qualifyEventName(t),r,n)}async dispose(){this.#e.dispose(),await this.client.unload(!0,void 0,200)}qualifyEventName(t){return t.startsWith(this.namespace)?t:`${this.namespace}/${t}`}};function wrt(e){let t={},r=e.get(_s);t["ai.session.id"]=r.sessionId;let n=e.get(Xl);return n.trackingId&&(t["ai.user.id"]=n.trackingId),t["ai.cloud.roleInstance"]="REDACTED",t["ai.device.osVersion"]=`${$u.type()} ${$u.release()}`,t["ai.device.osArchitecture"]=$u.arch(),t["ai.device.osPlatform"]=$u.platform(),t["ai.cloud.role"]="Web",t["ai.application.ver"]=e.get(Eo).getVersion(),t}o(wrt,"getTags");function _rt(e){let t={};t.common_os=$u.platform(),t.common_platformversion=$u.release(),t.common_arch=$u.arch(),t.common_cpu=Array.from(new Set($u.cpus().map(n=>n.model))).join();let r=e.get(_s);return t.common_vscodemachineid=r.machineId,t.common_vscodesessionid=r.sessionId,t.common_uikind=r.uiKind,t.common_remotename=r.remoteName,t.common_isnewappinstall="",t}o(_rt,"getCommonProperties");var $5e="7d7048df-6dd0-4048-bb23-b716c1461f8f",z5e="3fdd7f28-937a-48c8-9a21-ba337db23bd1",Srt="f0000000-0000-0000-0000-000000000000",zu=class{constructor(){this._initialized=!1}static{o(this,"TelemetryInitialization")}get isInitialized(){return this._initialized}get isEnabled(){return this._enabled??!1}async initialize(t,r,n){let i=t.get(Ds).deactivate();if(this._namespace=r,this._enabled=n,this._initialized=!0,n){let s=t.get(Ds);s.setReporter(new fI(t,r,$5e)),s.setRestrictedReporter(new fI(t,r,z5e)),s.setFTReporter(new fI(t,r,Srt,!0))}await i}reInitialize(t){return this._initialized?this.initialize(t,this._namespace,this._enabled):Promise.reject(new Error("Cannot re-initialize telemetry that has not been initialized."))}};function $y(e,t,r){return e.get(zu).initialize(e,t,r)}o($y,"setupTelemetryReporters");var Ln=class{constructor(t,r){this.authPersistence=t;this._copilotTokenManager=r;this.pendingSignIn=void 0}static{o(this,"AuthManager")}#e;getCopilotTokenManager(){return this._copilotTokenManager}async checkAndUpdateStatus(t,r){let n=r?.localChecksOnly??!1,i=Y5e(process.env);if(i===void 0&&(i=await this.getPersistedAuthRecord(r?.githubAppId)),i===void 0)return this._copilotTokenManager.resetToken(),await this._copilotTokenManager.primeToken(),{status:"NotSignedIn"};if(n)return{status:"MaybeOK",user:i.user};r?.forceRefresh&&this._copilotTokenManager.resetToken();let s={accessToken:i.oauth_token};return{status:await this.getTokenWithSignUpLimited(t,s,r?.freshSignIn??!1),user:i.user}}async getTokenWithSignUpLimited(t,r,n){try{await this._copilotTokenManager.getToken()}catch(i){if(i instanceof fd)return n&&i.result.envelope?.can_signup_for_limited&&await this.signUpLimited(t,r)?this.getTokenWithSignUpLimited(t,r,!1):i.result.reason==="HTTP401"?"NotSignedIn":i.result.reason;throw i}return"OK"}async getPersistedAuthRecord(t){return await this.authPersistence.getAuthRecord(t)}async getSession(t){let r=Y5e(process.env)??this.#e;if(r===null||(r??=await this.getPersistedAuthRecord(),r===void 0))return;let n={accessToken:r.oauth_token,login:r.user,githubAppId:r.githubAppId};return r.dev_override&&ud(t)==="dev"&&(n.devOverride={copilotTokenUrl:r.dev_override.copilot_token_url,notificationUrl:r.dev_override.notification_url,contentRestrictionsUrl:r.dev_override.content_restrictions_url}),n}async signUpLimited(t,r){let n=t.get(On).getApiUrl(r,"copilot_internal/subscribe_limited_user");try{return(await(await t.get(Or).fetch(n,{headers:{Authorization:`token ${r.accessToken}`,...Ic(t)},method:"POST",body:JSON.stringify({restricted_telemetry:t.get(zu).isEnabled?"enabled":"disabled",public_code_suggestions:"enabled"})})).json())?.subscribed||!1}catch(i){return Vu.exception(t,i,"signUpLimited failed"),!1}}async setPersistedSession({accessToken:t,login:r,githubAppId:n}){await this.authPersistence.saveAuthRecord({oauth_token:t,user:r,githubAppId:n}),this._copilotTokenManager.resetToken()}setTransientSession(t,r=!0){this.#e=t&&{oauth_token:t.accessToken,user:t.login,githubAppId:t.githubAppId},r&&this._copilotTokenManager.resetToken()}async deleteAuthRecord(t){await this.authPersistence.deleteAuthRecord(),!this.#e&&(this._copilotTokenManager.resetToken(),await this._copilotTokenManager.primeToken())}};function Y5e(e){if(e.GH_COPILOT_TOKEN&&!/=/.test(e.GH_COPILOT_TOKEN))return{user:"<GH_COPILOT_TOKEN-user>",oauth_token:e.GH_COPILOT_TOKEN};if(e.GITHUB_COPILOT_TOKEN)return{user:"<GITHUB_COPILOT_TOKEN-user>",oauth_token:e.GITHUB_COPILOT_TOKEN};if(e.CODESPACES==="true"&&e.GITHUB_TOKEN)return{user:e.GITHUB_USER||"<codespaces-user>",oauth_token:e.GITHUB_TOKEN}}o(Y5e,"getAuthRecordFromEnv");d();var Yi=class{static{o(this,"StatusReporter")}#e=0;#t="Normal";#i;#n;#r=!0;get busy(){return this.#e>0}withProgress(t){return this.#t==="Warning"&&this.forceNormal(),this.#e++===0&&this.#o(),t().finally(()=>{--this.#e===0&&this.#o()})}forceStatus(t,r,n){this.#t===t&&this.#i===r&&!n&&!this.#n&&!this.#r||(this.#t=t,this.#i=r,this.#n=n,this.#r=!1,this.#o())}forceNormal(){this.#t!=="Inactive"&&this.forceStatus("Normal")}setError(t,r){this.forceStatus("Error",t,r)}setWarning(t){this.#t!=="Error"&&this.forceStatus("Warning",t)}setInactive(t){this.#t==="Error"||this.#t==="Warning"||this.forceStatus("Inactive",t)}clearInactive(){this.#t==="Inactive"&&this.forceStatus("Normal")}#o(){let t={kind:this.#t,message:this.#i,busy:this.busy,command:this.#n};this.didChange(t)}},nN=class extends Yi{static{o(this,"NoOpStatusReporter")}didChange(){}};var Xr=class{static{o(this,"CopilotTokenManager")}constructor(){}primeToken(){try{return this.getToken().then(()=>!0,()=>!1)}catch{return Promise.resolve(!1)}}},fd=class extends Ks{constructor(r){super(r.message??"");this.result=r}static{o(this,"TokenResultError")}},iN=class extends Xr{constructor(r){super();this.ctx=r;this.token=void 0;this.tokenPromise=void 0}static{o(this,"CopilotTokenManagerFromGitHubTokenBase")}async fetchCopilotTokenEnvelope(){let r=await this.getGitHubSession();if(!r)throw new fd({reason:"NotSignedIn"});if(!r?.accessToken)throw new fd({reason:"HTTP401"});let n=await eN(this.ctx,r);if(n.kind==="failure"){if(n.message)throw new fd(n);let i=new Error(`Unexpected error getting Copilot token: ${n.reason}`);throw i.code=`CopilotToken.${n.reason}`,i}return n.envelope}async getToken(){if(!this.tokenPromise&&(!this.token||this.token?.needsRefresh())){let r=this.fetchCopilotTokenEnvelope().then(n=>{let i=new O1(n);return this.tokenPromise!==r?i:(this.token=i,this.tokenPromise=void 0,this.ctx.get(Yi).forceNormal(),this.token)},n=>{if(this.tokenPromise!==r)throw n;this.tokenPromise=void 0;let i=this.ctx.get(Yi);if(n instanceof fd)switch(n.result.reason){case"NotSignedIn":i.setError("You are not signed into GitHub.",{command:"github.copilot.signIn",title:"Sign In"});break;case"HTTP401":i.setError("Your GitHub token is invalid. Try signing in again.");break;case"NotAuthorized":i.setError(n.message||"No access to Copilot found.");break}else i.setWarning(String(n));throw n});this.tokenPromise=r}return this.token&&!this.token.isExpired()?this.token:await this.tokenPromise}resetToken(r){r!==void 0?(jt(this.ctx,"auth.reset_token_"+r),Vu.debug(this.ctx,`Resetting copilot token on HTTP error ${r}`)):Vu.debug(this.ctx,"Resetting copilot token"),this.token=void 0,this.tokenPromise=void 0}},dI=class extends iN{static{o(this,"CopilotTokenManagerFromAuthManager")}async getGitHubSession(){return await this.ctx.get(Ln).getSession(this.ctx)}};function krt(e){let t=e.getCopilotIntegrationId();if(t)return t;switch(e.getEditorPluginInfo().name){case"copilot-intellij":return"jetbrains-chat";case"copilot":case"copilot-vs":return;default:return"jetbrains-chat"}}o(krt,"getIntegrationId");function zy(e){let t={...Ic(e),"X-GitHub-Api-Version":dZ},r=krt(e.get(dn));return r&&(t["Copilot-Integration-Id"]=r),t}o(zy,"getCapiHeaders");function mI(e,t,...r){return uI(e,t,"api",...r)}o(mI,"getCapiUrl");async function A4(e,t){let r=await e.get(Xr).getToken(),n=mI(e,r,t),i={Authorization:`Bearer ${r.token}`,...zy(e)};return await e.get(Or).fetch(new URL(n).href,{method:"GET",headers:i})}o(A4,"fetchCapiUrl");async function K5e(e,t,r){let n=await e.get(Xr).getToken(),i=mI(e,n,t),s={Authorization:`Bearer ${n.token}`,...zy(e)};return await e.get(Or).fetch(new URL(i).href,{method:"POST",headers:s,body:r})}o(K5e,"postCapiUrl");d();var J5e=10*60*1e3,mi={Gpt35turbo:"gpt-3.5-turbo",Gpt4:"gpt-4",Gpt4turbo:"gpt-4-turbo",Gpt4o:"gpt-4o",Gpt4oMini:"gpt-4o-mini",O1Mini:"o1-mini",O1Ga:"o1-ga",Claude35Sonnet:"claude-3.5-sonnet",O3Mini:"o3-mini",Gemini20Flash:"gemini-2.0-flash",Gemini20Pro:"gemini-2.0-pro",Claude37Sonnet:"claude-3.7-sonnet",Claude37SonnetThought:"claude-3.7-sonnet-thought",Gpt45:"gpt-4.5",Unknown:"unknown"},Z5e=new Set([mi.O1Ga,mi.O3Mini,mi.O1Mini,mi.Gemini20Pro,mi.Gemini20Flash]);function ms(e){switch(e){case"edits":case"user":case"inline":return[mi.Gpt4o,mi.Gpt4turbo,mi.Gpt4,mi.O1Mini,mi.O1Ga,mi.Claude35Sonnet,mi.O3Mini,mi.Gemini20Flash,mi.Claude37Sonnet,mi.Claude37SonnetThought,mi.Gpt45];case"meta":case"suggestions":case"synonyms":return[mi.Gpt4oMini,mi.Gpt35turbo]}}o(ms,"getSupportedModelFamiliesForPrompt");var aN={textEmbedding3Small:"text-embedding-3-small"},Rrt=I.Object({type:I.Union([I.Literal("chat"),I.Literal("embeddings"),I.Literal("completion")]),tokenizer:I.String(),family:I.String(),object:I.String(),supports:I.Optional(I.Object({tool_calls:I.Optional(I.Boolean()),parallel_tool_calls:I.Optional(I.Boolean()),streaming:I.Optional(I.Boolean()),vision:I.Optional(I.Boolean())})),limits:I.Optional(I.Object({max_inputs:I.Optional(I.Number()),max_prompt_tokens:I.Optional(I.Number()),max_output_tokens:I.Optional(I.Number()),max_context_window_tokens:I.Optional(I.Number())}))}),Brt=I.Object({id:I.String(),name:I.String(),version:I.String(),model_picker_enabled:I.Boolean(),is_chat_default:I.Optional(I.Boolean()),is_chat_fallback:I.Optional(I.Boolean()),capabilities:Rrt,billing:I.Optional(I.Object({is_premium:I.Optional(I.Boolean()),multiplier:I.Optional(I.Number())})),object:I.String(),preview:I.Optional(I.Boolean()),isExperimental:I.Optional(I.Boolean()),policy:I.Optional(I.Object({state:I.String(),terms:I.String()}))}),X5e=I.Object({data:I.Array(Brt)}),Yu=class{static{o(this,"ModelMetadataProvider")}},oN=class extends Yu{constructor(r){super();this.ctx=r;this._metadata=[];this._lastFetchTime=0;js(r,()=>{this._lastFetchTime=0})}static{o(this,"CapiModelMetadataProvider")}async getMetadata(){return this.shouldRefreshModels()&&await this.fetchMetadata(),this._metadata.slice()}async fetchMetadata(){let r=await A4(this.ctx,"/models");if(r.status<200||r.status>=300){if(r.status===429&&this._metadata.length>0){Jn.error(this.ctx,"Rate limited while fetching models from CAPI",{status:r.status,statusText:r.statusText});return}throw Jn.error(this.ctx,"Failed to fetch models from CAPI",{status:r.status,statusText:r.statusText}),new Y3(r)}await this.processModels(r)}async fetchModel(r){let n=await A4(this.ctx,`/models/${r}`);if(!n.ok){Jn.error(this.ctx,`Failed to fetch model ${r} from CAPI`,{status:n.status,statusText:n.statusText});return}return await n.json()}async acceptModelPolicy(r){return(await K5e(this.ctx,`/models/${r}/policy`,JSON.stringify({status:"enabled"}))).ok?(await this.fetchMetadata(),!0):!1}async processModels(r){try{let n=await r.json();this._metadata=n.data,this._lastFetchTime=Date.now()}catch(n){Jn.error(this.ctx,"Failed to parse models from CAPI",{error:n})}}shouldRefreshModels(){return this._metadata.length===0||!this._lastFetchTime?!0:this.isLastFetchOlderTenMinutes()}isLastFetchOlderTenMinutes(){return Date.now()-this._lastFetchTime>J5e}},sN=class extends Yu{constructor(r,n){super();this.ctx=r;this.delegate=n;this._exp_models_cache=new Map}static{o(this,"ExpModelMetadataProvider")}async getMetadata(){let r=this.ctx.get(Cr),n=await r.updateExPValuesAndAssignments(),i=r.ideChatExpModelIds(n),s=[];if(i){let a=i?.split(",");for(let l of a){let c=await this.fetchModel(l.trim());c!==void 0&&(c.isExperimental=!0,s.push(c))}}return s.concat(await this.delegate.getMetadata())}async fetchModel(r){let n=this._exp_models_cache.get(r);if(n){let[s,a]=n;if(Date.now()-a<J5e)return s}let i=await this.delegate.fetchModel(r);if(i)return this._exp_models_cache.set(r,[i,Date.now()]),i}async acceptModelPolicy(r){return await this.delegate.acceptModelPolicy(r)}};d();function eCe(e){let t=qn(e,St.UserSelectedCompletionModel);return typeof t=="string"&&t.length>0?t:null}o(eCe,"getUserSelectedModelConfiguration");d();d();var Drt=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},rCe=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},mZ,lN,nCe,hZ=class extends gn{static{o(this,"AssertError")}constructor(t){let r=t.First();super(r===void 0?"Invalid Value":r.message),mZ.add(this),lN.set(this,void 0),Drt(this,lN,t,"f"),this.error=r}Errors(){return new jy(rCe(this,mZ,"m",nCe).call(this))}};lN=new WeakMap,mZ=new WeakSet,nCe=o(function*(){this.error&&(yield this.error),yield*rCe(this,lN,"f")},"_AssertError_Iterator");function tCe(e,t,r){if(!di(e,t,r))throw new hZ(Pp(e,t,r))}o(tCe,"AssertValue");function cN(...e){return e.length===3?tCe(e[0],e[1],e[2]):tCe(e[0],[],e[1])}o(cN,"Assert");d();d();d();function Prt(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=Ki(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=Ki(e[r]);return t}o(Prt,"FromObject");function Frt(e){return e.map(t=>Ki(t))}o(Frt,"FromArray");function Nrt(e){return e.slice()}o(Nrt,"FromTypedArray");function Lrt(e){return new Map(Ki([...e.entries()]))}o(Lrt,"FromMap");function Qrt(e){return new Set(Ki([...e.entries()]))}o(Qrt,"FromSet");function Mrt(e){return new Date(e.toISOString())}o(Mrt,"FromDate");function Ki(e){if(pn(e))return Frt(e);if(e0(e))return Mrt(e);if(Zf(e))return Nrt(e);if($he(e))return Lrt(e);if(zhe(e))return Qrt(e);if(li(e))return Prt(e);if(Nu(e))return e;throw new Error("ValueClone: Unable to clone value")}o(Ki,"Clone");var Ku=class extends gn{static{o(this,"ValueCreateError")}constructor(t,r){super(r),this.schema=t}};function Ji(e){return wy(e)?e():Ki(e)}o(Ji,"FromDefault");function Ort(e,t){return hn(e,"default")?Ji(e.default):{}}o(Ort,"FromAny");function Urt(e,t){return{}}o(Urt,"FromArgument");function qrt(e,t){if(e.uniqueItems===!0&&!hn(e,"default"))throw new Ku(e,"Array with the uniqueItems constraint requires a default value");if("contains"in e&&!hn(e,"default"))throw new Ku(e,"Array with the contains constraint requires a default value");return"default"in e?Ji(e.default):e.minItems!==void 0?Array.from({length:e.minItems}).map(r=>z0(e.items,t)):[]}o(qrt,"FromArray");function Wrt(e,t){return hn(e,"default")?Ji(e.default):async function*(){}()}o(Wrt,"FromAsyncIterator");function Grt(e,t){return hn(e,"default")?Ji(e.default):BigInt(0)}o(Grt,"FromBigInt");function Hrt(e,t){return hn(e,"default")?Ji(e.default):!1}o(Hrt,"FromBoolean");function jrt(e,t){if(hn(e,"default"))return Ji(e.default);{let r=z0(e.returns,t);return typeof r=="object"&&!Array.isArray(r)?class{constructor(){for(let[n,i]of Object.entries(r)){let s=this;s[n]=i}}}:class{}}}o(jrt,"FromConstructor");function Vrt(e,t){return hn(e,"default")?Ji(e.default):e.minimumTimestamp!==void 0?new Date(e.minimumTimestamp):new Date}o(Vrt,"FromDate");function $rt(e,t){return hn(e,"default")?Ji(e.default):()=>z0(e.returns,t)}o($rt,"FromFunction");function zrt(e,t){let r=globalThis.Object.values(e.$defs),n=e.$defs[e.$ref];return z0(n,[...t,...r])}o(zrt,"FromImport");function Yrt(e,t){return hn(e,"default")?Ji(e.default):e.minimum!==void 0?e.minimum:0}o(Yrt,"FromInteger");function Krt(e,t){if(hn(e,"default"))return Ji(e.default);{let r=e.allOf.reduce((n,i)=>{let s=z0(i,t);return typeof s=="object"?{...n,...s}:s},{});if(!di(e,t,r))throw new Ku(e,"Intersect produced invalid value. Consider using a default value.");return r}}o(Krt,"FromIntersect");function Jrt(e,t){return hn(e,"default")?Ji(e.default):function*(){}()}o(Jrt,"FromIterator");function Zrt(e,t){return hn(e,"default")?Ji(e.default):e.const}o(Zrt,"FromLiteral");function Xrt(e,t){if(hn(e,"default"))return Ji(e.default);throw new Ku(e,"Never types cannot be created. Consider using a default value.")}o(Xrt,"FromNever");function ent(e,t){if(hn(e,"default"))return Ji(e.default);throw new Ku(e,"Not types must have a default value")}o(ent,"FromNot");function tnt(e,t){return hn(e,"default")?Ji(e.default):null}o(tnt,"FromNull");function rnt(e,t){return hn(e,"default")?Ji(e.default):e.minimum!==void 0?e.minimum:0}o(rnt,"FromNumber");function nnt(e,t){if(hn(e,"default"))return Ji(e.default);{let r=new Set(e.required),n={};for(let[i,s]of Object.entries(e.properties))r.has(i)&&(n[i]=z0(s,t));return n}}o(nnt,"FromObject");function int(e,t){return hn(e,"default")?Ji(e.default):Promise.resolve(z0(e.item,t))}o(int,"FromPromise");function ont(e,t){let[r,n]=Object.entries(e.patternProperties)[0];if(hn(e,"default"))return Ji(e.default);if(r===Ip||r===Ep)return{};{let i=r.slice(1,r.length-1).split("|"),s={};for(let a of i)s[a]=z0(n,t);return s}}o(ont,"FromRecord");function snt(e,t){return hn(e,"default")?Ji(e.default):z0(zi(e,t),t)}o(snt,"FromRef");function ant(e,t){if(hn(e,"default"))return Ji(e.default);throw new Ku(e,"RegExp types cannot be created. Consider using a default value.")}o(ant,"FromRegExp");function lnt(e,t){if(e.pattern!==void 0){if(hn(e,"default"))return Ji(e.default);throw new Ku(e,"String types with patterns must specify a default value")}else if(e.format!==void 0){if(hn(e,"default"))return Ji(e.default);throw new Ku(e,"String types with formats must specify a default value")}else return hn(e,"default")?Ji(e.default):e.minLength!==void 0?Array.from({length:e.minLength}).map(()=>" ").join(""):""}o(lnt,"FromString");function cnt(e,t){return hn(e,"default")?Ji(e.default):"value"in e?Symbol.for(e.value):Symbol()}o(cnt,"FromSymbol");function unt(e,t){if(hn(e,"default"))return Ji(e.default);if(!EP(e))throw new Ku(e,"Can only create template literals that produce a finite variants. Consider using a default value.");return EE(e)[0]}o(unt,"FromTemplateLiteral");function fnt(e,t){if(iCe++>Cnt)throw new Ku(e,"Cannot create recursive type as it appears possibly infinite. Consider using a default.");return hn(e,"default")?Ji(e.default):z0(zi(e,t),t)}o(fnt,"FromThis");function dnt(e,t){return hn(e,"default")?Ji(e.default):e.items===void 0?[]:Array.from({length:e.minItems}).map((r,n)=>z0(e.items[n],t))}o(dnt,"FromTuple");function mnt(e,t){if(hn(e,"default"))return Ji(e.default)}o(mnt,"FromUndefined");function hnt(e,t){if(hn(e,"default"))return Ji(e.default);if(e.anyOf.length===0)throw new Error("ValueCreate.Union: Cannot create Union with zero variants");return z0(e.anyOf[0],t)}o(hnt,"FromUnion");function pnt(e,t){return hn(e,"default")?Ji(e.default):e.minByteLength!==void 0?new Uint8Array(e.minByteLength):new Uint8Array(0)}o(pnt,"FromUint8Array");function gnt(e,t){return hn(e,"default")?Ji(e.default):{}}o(gnt,"FromUnknown");function Ant(e,t){if(hn(e,"default"))return Ji(e.default)}o(Ant,"FromVoid");function ynt(e,t){if(hn(e,"default"))return Ji(e.default);throw new Error("User defined types must specify a default value")}o(ynt,"FromKind");function z0(e,t){let r=vl(e,t),n=e;switch(n[ot]){case"Any":return Ort(n,r);case"Argument":return Urt(n,r);case"Array":return qrt(n,r);case"AsyncIterator":return Wrt(n,r);case"BigInt":return Grt(n,r);case"Boolean":return Hrt(n,r);case"Constructor":return jrt(n,r);case"Date":return Vrt(n,r);case"Function":return $rt(n,r);case"Import":return zrt(n,r);case"Integer":return Yrt(n,r);case"Intersect":return Krt(n,r);case"Iterator":return Jrt(n,r);case"Literal":return Zrt(n,r);case"Never":return Xrt(n,r);case"Not":return ent(n,r);case"Null":return tnt(n,r);case"Number":return rnt(n,r);case"Object":return nnt(n,r);case"Promise":return int(n,r);case"Record":return ont(n,r);case"Ref":return snt(n,r);case"RegExp":return ant(n,r);case"String":return lnt(n,r);case"Symbol":return cnt(n,r);case"TemplateLiteral":return unt(n,r);case"This":return fnt(n,r);case"Tuple":return dnt(n,r);case"Undefined":return mnt(n,r);case"Union":return hnt(n,r);case"Uint8Array":return pnt(n,r);case"Unknown":return gnt(n,r);case"Void":return Ant(n,r);default:if(!t0.Has(n[ot]))throw new Ku(n,"Unknown type");return ynt(n,r)}}o(z0,"Visit");var Cnt=512,iCe=0;function dd(...e){return iCe=0,e.length===2?z0(e[0],e[1]):z0(e[0],[])}o(dd,"Create");var uN=class extends gn{static{o(this,"ValueCastError")}constructor(t,r){super(r),this.schema=t}};function xnt(e,t,r){if(e[ot]==="Object"&&typeof r=="object"&&!T1(r)){let n=e,i=Object.getOwnPropertyNames(r),s=Object.entries(n.properties),[a,l]=[1/s.length,s.length];return s.reduce((c,[u,f])=>{let m=f[ot]==="Literal"&&f.const===r[u]?l:0,h=di(f,t,r[u])?a:0,p=i.includes(u)?a:0;return c+(m+h+p)},0)}else return di(e,t,r)?1:0}o(xnt,"ScoreUnion");function vnt(e,t,r){let n=e.anyOf.map(a=>zi(a,t)),[i,s]=[n[0],0];for(let a of n){let l=xnt(a,t,r);l>s&&(i=a,s=l)}return i}o(vnt,"SelectUnion");function bnt(e,t,r){if("default"in e)return typeof r=="function"?e.default:Ki(e.default);{let n=vnt(e,t,r);return Aw(n,t,r)}}o(bnt,"CastUnion");function Ent(e,t,r){return di(e,t,r)?Ki(r):dd(e,t)}o(Ent,"DefaultClone");function Int(e,t,r){return di(e,t,r)?r:dd(e,t)}o(Int,"Default");function Tnt(e,t,r){if(di(e,t,r))return Ki(r);let n=pn(r)?Ki(r):dd(e,t),i=Kr(e.minItems)&&n.length<e.minItems?[...n,...Array.from({length:e.minItems-n.length},()=>null)]:n,a=(Kr(e.maxItems)&&i.length>e.maxItems?i.slice(0,e.maxItems):i).map(c=>Gm(e.items,t,c));if(e.uniqueItems!==!0)return a;let l=[...new Set(a)];if(!di(e,t,l))throw new uN(e,"Array cast produced invalid data due to uniqueItems constraint");return l}o(Tnt,"FromArray");function wnt(e,t,r){if(di(e,t,r))return dd(e,t);let n=new Set(e.returns.required||[]),i=o(function(){},"result");for(let[s,a]of Object.entries(e.returns.properties))!n.has(s)&&r.prototype[s]===void 0||(i.prototype[s]=Gm(a,t,r.prototype[s]));return i}o(wnt,"FromConstructor");function _nt(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return Gm(i,[...t,...n],r)}o(_nt,"FromImport");function Snt(e,t,r){let n=dd(e,t),i=li(n)&&li(r)?{...n,...r}:r;return di(e,t,i)?i:dd(e,t)}o(Snt,"FromIntersect");function knt(e,t,r){throw new uN(e,"Never types cannot be cast")}o(knt,"FromNever");function Rnt(e,t,r){if(di(e,t,r))return r;if(r===null||typeof r!="object")return dd(e,t);let n=new Set(e.required||[]),i={};for(let[s,a]of Object.entries(e.properties))!n.has(s)&&r[s]===void 0||(i[s]=Gm(a,t,r[s]));if(typeof e.additionalProperties=="object"){let s=Object.getOwnPropertyNames(e.properties);for(let a of Object.getOwnPropertyNames(r))s.includes(a)||(i[a]=Gm(e.additionalProperties,t,r[a]))}return i}o(Rnt,"FromObject");function Bnt(e,t,r){if(di(e,t,r))return Ki(r);if(r===null||typeof r!="object"||Array.isArray(r)||r instanceof Date)return dd(e,t);let n=Object.getOwnPropertyNames(e.patternProperties)[0],i=e.patternProperties[n],s={};for(let[a,l]of Object.entries(r))s[a]=Gm(i,t,l);return s}o(Bnt,"FromRecord");function Dnt(e,t,r){return Gm(zi(e,t),t,r)}o(Dnt,"FromRef");function Pnt(e,t,r){return Gm(zi(e,t),t,r)}o(Pnt,"FromThis");function Fnt(e,t,r){return di(e,t,r)?Ki(r):pn(r)?e.items===void 0?[]:e.items.map((n,i)=>Gm(n,t,r[i])):dd(e,t)}o(Fnt,"FromTuple");function Nnt(e,t,r){return di(e,t,r)?Ki(r):bnt(e,t,r)}o(Nnt,"FromUnion");function Gm(e,t,r){let n=Oi(e.$id)?vl(e,t):t,i=e;switch(e[ot]){case"Array":return Tnt(i,n,r);case"Constructor":return wnt(i,n,r);case"Import":return _nt(i,n,r);case"Intersect":return Snt(i,n,r);case"Never":return knt(i,n,r);case"Object":return Rnt(i,n,r);case"Record":return Bnt(i,n,r);case"Ref":return Dnt(i,n,r);case"This":return Pnt(i,n,r);case"Tuple":return Fnt(i,n,r);case"Union":return Nnt(i,n,r);case"Date":case"Symbol":case"Uint8Array":return Ent(e,t,r);default:return Int(i,n,r)}}o(Gm,"Visit");function Aw(...e){return e.length===3?Gm(e[0],e[1],e[2]):Gm(e[0],[],e[1])}o(Aw,"Cast");d();function Lnt(e){return Sy(e)&&e[ot]!=="Unsafe"}o(Lnt,"IsCheckable");function Qnt(e,t,r){return pn(r)?r.map(n=>Y0(e.items,t,n)):r}o(Qnt,"FromArray");function Mnt(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return Y0(i,[...t,...n],r)}o(Mnt,"FromImport");function Ont(e,t,r){let n=e.unevaluatedProperties,s=e.allOf.map(l=>Y0(l,t,Ki(r))).reduce((l,c)=>li(c)?{...l,...c}:c,{});if(!li(r)||!li(s)||!Sy(n))return s;let a=U0(e);for(let l of Object.getOwnPropertyNames(r))a.includes(l)||di(n,t,r[l])&&(s[l]=Y0(n,t,r[l]));return s}o(Ont,"FromIntersect");function Unt(e,t,r){if(!li(r)||pn(r))return r;let n=e.additionalProperties;for(let i of Object.getOwnPropertyNames(r)){if(hn(e.properties,i)){r[i]=Y0(e.properties[i],t,r[i]);continue}if(Sy(n)&&di(n,t,r[i])){r[i]=Y0(n,t,r[i]);continue}delete r[i]}return r}o(Unt,"FromObject");function qnt(e,t,r){if(!li(r))return r;let n=e.additionalProperties,i=Object.getOwnPropertyNames(r),[s,a]=Object.entries(e.patternProperties)[0],l=new RegExp(s);for(let c of i){if(l.test(c)){r[c]=Y0(a,t,r[c]);continue}if(Sy(n)&&di(n,t,r[c])){r[c]=Y0(n,t,r[c]);continue}delete r[c]}return r}o(qnt,"FromRecord");function Wnt(e,t,r){return Y0(zi(e,t),t,r)}o(Wnt,"FromRef");function Gnt(e,t,r){return Y0(zi(e,t),t,r)}o(Gnt,"FromThis");function Hnt(e,t,r){if(!pn(r))return r;if(as(e.items))return[];let n=Math.min(r.length,e.items.length);for(let i=0;i<n;i++)r[i]=Y0(e.items[i],t,r[i]);return r.length>n?r.slice(0,n):r}o(Hnt,"FromTuple");function jnt(e,t,r){for(let n of e.anyOf)if(Lnt(n)&&di(n,t,r))return Y0(n,t,r);return r}o(jnt,"FromUnion");function Y0(e,t,r){let n=Oi(e.$id)?vl(e,t):t,i=e;switch(i[ot]){case"Array":return Qnt(i,n,r);case"Import":return Mnt(i,n,r);case"Intersect":return Ont(i,n,r);case"Object":return Unt(i,n,r);case"Record":return qnt(i,n,r);case"Ref":return Wnt(i,n,r);case"This":return Gnt(i,n,r);case"Tuple":return Hnt(i,n,r);case"Union":return jnt(i,n,r);default:return r}}o(Y0,"Visit");function fN(...e){return e.length===3?Y0(e[0],e[1],e[2]):Y0(e[0],[],e[1])}o(fN,"Clean");d();function dN(e){return Oi(e)&&!isNaN(e)&&!isNaN(parseFloat(e))}o(dN,"IsStringNumeric");function Vnt(e){return Kl(e)||bp(e)||Kr(e)}o(Vnt,"IsValueToString");function yw(e){return e===!0||Kr(e)&&e===1||Kl(e)&&e===BigInt("1")||Oi(e)&&(e.toLowerCase()==="true"||e==="1")}o(yw,"IsValueTrue");function Cw(e){return e===!1||Kr(e)&&(e===0||Object.is(e,-0))||Kl(e)&&e===BigInt("0")||Oi(e)&&(e.toLowerCase()==="false"||e==="0"||e==="-0")}o(Cw,"IsValueFalse");function $nt(e){return Oi(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}o($nt,"IsTimeStringWithTimeZone");function znt(e){return Oi(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}o(znt,"IsTimeStringWithoutTimeZone");function Ynt(e){return Oi(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}o(Ynt,"IsDateTimeStringWithTimeZone");function Knt(e){return Oi(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}o(Knt,"IsDateTimeStringWithoutTimeZone");function Jnt(e){return Oi(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\d$/i.test(e)}o(Jnt,"IsDateString");function Znt(e,t){let r=sCe(e);return r===t?r:e}o(Znt,"TryConvertLiteralString");function Xnt(e,t){let r=aCe(e);return r===t?r:e}o(Xnt,"TryConvertLiteralNumber");function eit(e,t){let r=oCe(e);return r===t?r:e}o(eit,"TryConvertLiteralBoolean");function tit(e,t){return Oi(e.const)?Znt(t,e.const):Kr(e.const)?Xnt(t,e.const):bp(e.const)?eit(t,e.const):t}o(tit,"TryConvertLiteral");function oCe(e){return yw(e)?!0:Cw(e)?!1:e}o(oCe,"TryConvertBoolean");function rit(e){let t=o(r=>r.split(".")[0],"truncateInteger");return dN(e)?BigInt(t(e)):Kr(e)?BigInt(Math.trunc(e)):Cw(e)?BigInt(0):yw(e)?BigInt(1):e}o(rit,"TryConvertBigInt");function sCe(e){return w1(e)&&e.description!==void 0?e.description.toString():Vnt(e)?e.toString():e}o(sCe,"TryConvertString");function aCe(e){return dN(e)?parseFloat(e):yw(e)?1:Cw(e)?0:e}o(aCe,"TryConvertNumber");function nit(e){return dN(e)?parseInt(e):Kr(e)?Math.trunc(e):yw(e)?1:Cw(e)?0:e}o(nit,"TryConvertInteger");function iit(e){return Oi(e)&&e.toLowerCase()==="null"?null:e}o(iit,"TryConvertNull");function oit(e){return Oi(e)&&e==="undefined"?void 0:e}o(oit,"TryConvertUndefined");function sit(e){return e0(e)?e:Kr(e)?new Date(e):yw(e)?new Date(1):Cw(e)?new Date(0):dN(e)?new Date(parseInt(e)):znt(e)?new Date(`1970-01-01T${e}.000Z`):$nt(e)?new Date(`1970-01-01T${e}`):Knt(e)?new Date(`${e}.000Z`):Ynt(e)?new Date(e):Jnt(e)?new Date(`${e}T00:00:00.000Z`):e}o(sit,"TryConvertDate");function ait(e,t,r){return(pn(r)?r:[r]).map(i=>Hm(e.items,t,i))}o(ait,"FromArray");function lit(e,t,r){return rit(r)}o(lit,"FromBigInt");function cit(e,t,r){return oCe(r)}o(cit,"FromBoolean");function uit(e,t,r){return sit(r)}o(uit,"FromDate");function fit(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return Hm(i,[...t,...n],r)}o(fit,"FromImport");function dit(e,t,r){return nit(r)}o(dit,"FromInteger");function mit(e,t,r){return e.allOf.reduce((n,i)=>Hm(i,t,n),r)}o(mit,"FromIntersect");function hit(e,t,r){return tit(e,r)}o(hit,"FromLiteral");function pit(e,t,r){return iit(r)}o(pit,"FromNull");function git(e,t,r){return aCe(r)}o(git,"FromNumber");function Ait(e,t,r){if(!li(r))return r;for(let n of Object.getOwnPropertyNames(e.properties))hn(r,n)&&(r[n]=Hm(e.properties[n],t,r[n]));return r}o(Ait,"FromObject");function yit(e,t,r){if(!li(r))return r;let i=Object.getOwnPropertyNames(e.patternProperties)[0],s=e.patternProperties[i];for(let[a,l]of Object.entries(r))r[a]=Hm(s,t,l);return r}o(yit,"FromRecord");function Cit(e,t,r){return Hm(zi(e,t),t,r)}o(Cit,"FromRef");function xit(e,t,r){return sCe(r)}o(xit,"FromString");function vit(e,t,r){return Oi(r)||Kr(r)?Symbol(r):r}o(vit,"FromSymbol");function bit(e,t,r){return Hm(zi(e,t),t,r)}o(bit,"FromThis");function Eit(e,t,r){return pn(r)&&!as(e.items)?r.map((i,s)=>s<e.items.length?Hm(e.items[s],t,i):i):r}o(Eit,"FromTuple");function Iit(e,t,r){return oit(r)}o(Iit,"FromUndefined");function Tit(e,t,r){for(let n of e.anyOf){let i=Hm(n,t,Ki(r));if(di(n,t,i))return i}return r}o(Tit,"FromUnion");function Hm(e,t,r){let n=vl(e,t),i=e;switch(e[ot]){case"Array":return ait(i,n,r);case"BigInt":return lit(i,n,r);case"Boolean":return cit(i,n,r);case"Date":return uit(i,n,r);case"Import":return fit(i,n,r);case"Integer":return dit(i,n,r);case"Intersect":return mit(i,n,r);case"Literal":return hit(i,n,r);case"Null":return pit(i,n,r);case"Number":return git(i,n,r);case"Object":return Ait(i,n,r);case"Record":return yit(i,n,r);case"Ref":return Cit(i,n,r);case"String":return xit(i,n,r);case"Symbol":return vit(i,n,r);case"This":return bit(i,n,r);case"Tuple":return Eit(i,n,r);case"Undefined":return Iit(i,n,r);case"Union":return Tit(i,n,r);default:return r}}o(Hm,"Visit");function mN(...e){return e.length===3?Hm(e[0],e[1],e[2]):Hm(e[0],[],e[1])}o(mN,"Convert");d();function lCe(...e){let[t,r,n]=e.length===3?[e[0],e[1],e[2]]:[e[0],[],e[1]];if(!di(t,r,n))throw new nI(t,n,Pp(t,r,n).First());return Q1(t,r)?iI(t,r,n):n}o(lCe,"Decode");d();function U1(e,t){let r=hn(e,"default")?e.default:void 0,n=wy(r)?r():Ki(r);return as(t)?n:li(t)&&li(n)?Object.assign(n,t):t}o(U1,"ValueOrDefault");function pZ(e){return Sy(e)&&"default"in e}o(pZ,"HasDefaultProperty");function wit(e,t,r){if(pn(r)){for(let i=0;i<r.length;i++)r[i]=n0(e.items,t,r[i]);return r}let n=U1(e,r);if(!pn(n))return n;for(let i=0;i<n.length;i++)n[i]=n0(e.items,t,n[i]);return n}o(wit,"FromArray");function _it(e,t,r){return e0(r)?r:U1(e,r)}o(_it,"FromDate");function Sit(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return n0(i,[...t,...n],r)}o(Sit,"FromImport");function kit(e,t,r){let n=U1(e,r);return e.allOf.reduce((i,s)=>{let a=n0(s,t,n);return li(a)?{...i,...a}:a},{})}o(kit,"FromIntersect");function Rit(e,t,r){let n=U1(e,r);if(!li(n))return n;let i=Object.getOwnPropertyNames(e.properties);for(let s of i){let a=n0(e.properties[s],t,n[s]);as(a)||(n[s]=n0(e.properties[s],t,n[s]))}if(!pZ(e.additionalProperties))return n;for(let s of Object.getOwnPropertyNames(n))i.includes(s)||(n[s]=n0(e.additionalProperties,t,n[s]));return n}o(Rit,"FromObject");function Bit(e,t,r){let n=U1(e,r);if(!li(n))return n;let i=e.additionalProperties,[s,a]=Object.entries(e.patternProperties)[0],l=new RegExp(s);for(let c of Object.getOwnPropertyNames(n))l.test(c)&&pZ(a)&&(n[c]=n0(a,t,n[c]));if(!pZ(i))return n;for(let c of Object.getOwnPropertyNames(n))l.test(c)||(n[c]=n0(i,t,n[c]));return n}o(Bit,"FromRecord");function Dit(e,t,r){return n0(zi(e,t),t,U1(e,r))}o(Dit,"FromRef");function Pit(e,t,r){return n0(zi(e,t),t,r)}o(Pit,"FromThis");function Fit(e,t,r){let n=U1(e,r);if(!pn(n)||as(e.items))return n;let[i,s]=[e.items,Math.max(e.items.length,n.length)];for(let a=0;a<s;a++)a<i.length&&(n[a]=n0(i[a],t,n[a]));return n}o(Fit,"FromTuple");function Nit(e,t,r){let n=U1(e,r);for(let i of e.anyOf){let s=n0(i,t,Ki(n));if(di(i,t,s))return s}return n}o(Nit,"FromUnion");function n0(e,t,r){let n=vl(e,t),i=e;switch(i[ot]){case"Array":return wit(i,n,r);case"Date":return _it(i,n,r);case"Import":return Sit(i,n,r);case"Intersect":return kit(i,n,r);case"Object":return Rit(i,n,r);case"Record":return Bit(i,n,r);case"Ref":return Dit(i,n,r);case"This":return Pit(i,n,r);case"Tuple":return Fit(i,n,r);case"Union":return Nit(i,n,r);default:return U1(i,r)}}o(n0,"Visit");function hN(...e){return e.length===3?n0(e[0],e[1],e[2]):n0(e[0],[],e[1])}o(hN,"Default");d();d();var jm={};x1(jm,{Delete:()=>Qit,Format:()=>xw,Get:()=>Oit,Has:()=>Mit,Set:()=>Lit,ValuePointerRootDeleteError:()=>gN,ValuePointerRootSetError:()=>pN});d();var pN=class extends gn{static{o(this,"ValuePointerRootSetError")}constructor(t,r,n){super("Cannot set root value"),this.value=t,this.path=r,this.update=n}},gN=class extends gn{static{o(this,"ValuePointerRootDeleteError")}constructor(t,r){super("Cannot delete root value"),this.value=t,this.path=r}};function cCe(e){return e.indexOf("~")===-1?e:e.replace(/~1/g,"/").replace(/~0/g,"~")}o(cCe,"Escape");function*xw(e){if(e==="")return;let[t,r]=[0,0];for(let n=0;n<e.length;n++)e.charAt(n)==="/"?(n===0||(r=n,yield cCe(e.slice(t,r))),t=n+1):r=n;yield cCe(e.slice(t))}o(xw,"Format");function Lit(e,t,r){if(t==="")throw new pN(e,t,r);let[n,i,s]=[null,e,""];for(let a of xw(t))i[a]===void 0&&(i[a]={}),n=i,i=i[a],s=a;n[s]=r}o(Lit,"Set");function Qit(e,t){if(t==="")throw new gN(e,t);let[r,n,i]=[null,e,""];for(let s of xw(t)){if(n[s]===void 0||n[s]===null)return;r=n,n=n[s],i=s}if(Array.isArray(r)){let s=parseInt(i);r.splice(s,1)}else delete r[i]}o(Qit,"Delete");function Mit(e,t){if(t==="")return!0;let[r,n,i]=[null,e,""];for(let s of xw(t)){if(n[s]===void 0)return!1;r=n,n=n[s],i=s}return Object.getOwnPropertyNames(r).includes(i)}o(Mit,"Has");function Oit(e,t){if(t==="")return e;let r=e;for(let n of xw(t)){if(r[n]===void 0)return;r=r[n]}return r}o(Oit,"Get");d();function Uit(e,t){if(!li(t))return!1;let r=[...Object.keys(e),...Object.getOwnPropertySymbols(e)],n=[...Object.keys(t),...Object.getOwnPropertySymbols(t)];return r.length!==n.length?!1:r.every(i=>y4(e[i],t[i]))}o(Uit,"ObjectType");function qit(e,t){return e0(t)&&e.getTime()===t.getTime()}o(qit,"DateType");function Wit(e,t){return!pn(t)||e.length!==t.length?!1:e.every((r,n)=>y4(r,t[n]))}o(Wit,"ArrayType");function Git(e,t){return!Zf(t)||e.length!==t.length||Object.getPrototypeOf(e).constructor.name!==Object.getPrototypeOf(t).constructor.name?!1:e.every((r,n)=>y4(r,t[n]))}o(Git,"TypedArrayType");function Hit(e,t){return e===t}o(Hit,"ValueType");function y4(e,t){if(e0(e))return qit(e,t);if(Zf(e))return Git(e,t);if(pn(e))return Wit(e,t);if(li(e))return Uit(e,t);if(Nu(e))return Hit(e,t);throw new Error("ValueEquals: Unable to compare value")}o(y4,"Equal");var jit=so({type:Bi("insert"),path:r0(),value:Fm()}),Vit=so({type:Bi("update"),path:r0(),value:Fm()}),$it=so({type:Bi("delete"),path:r0()}),fCe=oo([jit,Vit,$it]),AN=class extends gn{static{o(this,"ValueDiffError")}constructor(t,r){super(r),this.value=t}};function yN(e,t){return{type:"update",path:e,value:t}}o(yN,"CreateUpdate");function dCe(e,t){return{type:"insert",path:e,value:t}}o(dCe,"CreateInsert");function mCe(e){return{type:"delete",path:e}}o(mCe,"CreateDelete");function uCe(e){if(globalThis.Object.getOwnPropertySymbols(e).length>0)throw new AN(e,"Cannot diff objects with symbols")}o(uCe,"AssertDiffable");function*zit(e,t,r){if(uCe(t),uCe(r),!wY(r))return yield yN(e,r);let n=globalThis.Object.getOwnPropertyNames(t),i=globalThis.Object.getOwnPropertyNames(r);for(let s of i)hn(t,s)||(yield dCe(`${e}/${s}`,r[s]));for(let s of n)hn(r,s)&&(y4(t,r)||(yield*CN(`${e}/${s}`,t[s],r[s])));for(let s of n)hn(r,s)||(yield mCe(`${e}/${s}`))}o(zit,"ObjectType");function*Yit(e,t,r){if(!pn(r))return yield yN(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*CN(`${e}/${n}`,t[n],r[n]);for(let n=0;n<r.length;n++)n<t.length||(yield dCe(`${e}/${n}`,r[n]));for(let n=t.length-1;n>=0;n--)n<r.length||(yield mCe(`${e}/${n}`))}o(Yit,"ArrayType");function*Kit(e,t,r){if(!Zf(r)||t.length!==r.length||globalThis.Object.getPrototypeOf(t).constructor.name!==globalThis.Object.getPrototypeOf(r).constructor.name)return yield yN(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*CN(`${e}/${n}`,t[n],r[n])}o(Kit,"TypedArrayType");function*Jit(e,t,r){t!==r&&(yield yN(e,r))}o(Jit,"ValueType");function*CN(e,t,r){if(wY(t))return yield*zit(e,t,r);if(pn(t))return yield*Yit(e,t,r);if(Zf(t))return yield*Kit(e,t,r);if(Nu(t))return yield*Jit(e,t,r);throw new AN(t,"Unable to diff value")}o(CN,"Visit");function hCe(e,t){return[...CN("",e,t)]}o(hCe,"Diff");function Zit(e){return e.length>0&&e[0].path===""&&e[0].type==="update"}o(Zit,"IsRootUpdate");function Xit(e){return e.length===0}o(Xit,"IsIdentity");function pCe(e,t){if(Zit(t))return Ki(t[0].value);if(Xit(t))return Ki(e);let r=Ki(e);for(let n of t)switch(n.type){case"insert":{jm.Set(r,n.path,n.value);break}case"update":{jm.Set(r,n.path,n.value);break}case"delete":{jm.Delete(r,n.path);break}}return r}o(pCe,"Patch");d();function gCe(...e){let[t,r,n]=e.length===3?[e[0],e[1],e[2]]:[e[0],[],e[1]],i=Q1(t,r)?sI(t,r,n):n;if(!di(t,r,i))throw new oI(t,i,Pp(t,r,i).First());return i}o(gCe,"Encode");d();function xN(e){return li(e)&&!pn(e)}o(xN,"IsStandardObject");var vN=class extends gn{static{o(this,"ValueMutateError")}constructor(t){super(t)}};function eot(e,t,r,n){if(!xN(r))jm.Set(e,t,Ki(n));else{let i=Object.getOwnPropertyNames(r),s=Object.getOwnPropertyNames(n);for(let a of i)s.includes(a)||delete r[a];for(let a of s)i.includes(a)||(r[a]=null);for(let a of s)gZ(e,`${t}/${a}`,r[a],n[a])}}o(eot,"ObjectType");function tot(e,t,r,n){if(!pn(r))jm.Set(e,t,Ki(n));else{for(let i=0;i<n.length;i++)gZ(e,`${t}/${i}`,r[i],n[i]);r.splice(n.length)}}o(tot,"ArrayType");function rot(e,t,r,n){if(Zf(r)&&r.length===n.length)for(let i=0;i<r.length;i++)r[i]=n[i];else jm.Set(e,t,Ki(n))}o(rot,"TypedArrayType");function not(e,t,r,n){r!==n&&jm.Set(e,t,n)}o(not,"ValueType");function gZ(e,t,r,n){if(pn(n))return tot(e,t,r,n);if(Zf(n))return rot(e,t,r,n);if(xN(n))return eot(e,t,r,n);if(Nu(n))return not(e,t,r,n)}o(gZ,"Visit");function ACe(e){return Zf(e)||Nu(e)}o(ACe,"IsNonMutableValue");function iot(e,t){return xN(e)&&pn(t)||pn(e)&&xN(t)}o(iot,"IsMismatchedValue");function yCe(e,t){if(ACe(e)||ACe(t))throw new vN("Only object and array types can be mutated at the root level");if(iot(e,t))throw new vN("Cannot assign due type mismatch of assignable values");gZ(e,"",e,t)}o(yCe,"Mutate");d();var bN=class extends gn{static{o(this,"ParseError")}constructor(t){super(t)}},AZ;(function(e){let t=new Map([["Assert",(s,a,l)=>(cN(s,a,l),l)],["Cast",(s,a,l)=>Aw(s,a,l)],["Clean",(s,a,l)=>fN(s,a,l)],["Clone",(s,a,l)=>Ki(l)],["Convert",(s,a,l)=>mN(s,a,l)],["Decode",(s,a,l)=>Q1(s,a)?iI(s,a,l):l],["Default",(s,a,l)=>hN(s,a,l)],["Encode",(s,a,l)=>Q1(s,a)?sI(s,a,l):l]]);function r(s){t.delete(s)}o(r,"Delete"),e.Delete=r;function n(s,a){t.set(s,a)}o(n,"Set"),e.Set=n;function i(s){return t.get(s)}o(i,"Get"),e.Get=i})(AZ||(AZ={}));var CCe=["Clone","Clean","Default","Convert","Assert","Decode"];function oot(e,t,r,n){return e.reduce((i,s)=>{let a=AZ.Get(s);if(as(a))throw new bN(`Unable to find Parse operation '${s}'`);return a(t,r,i)},n)}o(oot,"ParseValue");function xCe(...e){let[t,r,n,i]=e.length===4?[e[0],e[1],e[2],e[3]]:e.length===3?pn(e[0])?[e[0],e[1],[],e[2]]:[CCe,e[0],e[1],e[2]]:e.length===2?[CCe,e[0],[],e[1]]:(()=>{throw new bN("Invalid Arguments")})();return oot(t,r,n,i)}o(xCe,"Parse");d();var Yy={};x1(Yy,{Assert:()=>cN,Cast:()=>Aw,Check:()=>di,Clean:()=>fN,Clone:()=>Ki,Convert:()=>mN,Create:()=>dd,Decode:()=>lCe,Default:()=>hN,Diff:()=>hCe,Edit:()=>fCe,Encode:()=>gCe,Equal:()=>y4,Errors:()=>Pp,Hash:()=>Hy,Mutate:()=>yCe,Parse:()=>xCe,Patch:()=>pCe,ValueErrorIterator:()=>jy});d();var sot={capabilities:{family:"gpt-3.5-turbo",object:"model_capabilities",supports:{streaming:!0},tokenizer:"cl100k_base",type:"completion"},id:"copilot-codex",model_picker_enabled:!0,name:"GPT-3.5 Turbo",object:"model",preview:!1,version:"copilot-codex"},aot="gpt-4o-copilot",md=class e{constructor(t,r=!0){this._ctx=t;this.onModelsFetchedCallbacks=[];this.fetchedModelData=[];this.customModels=[];this.editorPreviewFeaturesDisabled=!1;r&&js(this._ctx,n=>this.refreshAvailableModels(n))}static{o(this,"AvailableModelsManager")}async refreshAvailableModels(t){await this.refreshModels(t);for(let r of this.onModelsFetchedCallbacks)r()}addHandler(t){this.onModelsFetchedCallbacks.push(t)}getDefaultModelId(){if(this.fetchedModelData){let t=e.filterCompletionModels(this.fetchedModelData,this.editorPreviewFeaturesDisabled)[0];if(t)return t.id}return aot}parseModelsResponse(t){try{return Yy.Parse(X5e,t)}catch(r){Jn.exception(this._ctx,r,"Failed to parse /models response from CAPI");return}}async refreshModels(t){let r=await this.fetchModels(t);r&&(this.fetchedModelData=r)}async fetchModels(t){return this.customModels=t.getTokenValue("cml")?.split(",")??[],this.editorPreviewFeaturesDisabled=t.getTokenValue("editor_preview_features")=="0",t.getTokenValue("fcv1")=="1"?Promise.resolve([sot]):await this.fetch()}async fetch(){let t=await A4(this._ctx,"/models");return t.ok?this.parseModelsResponse(await t.json())?.data??[]:(Jn.error(this._ctx,"Failed to fetch models from CAPI",{status:t.status,statusText:t.statusText}),null)}getGenericCompletionModels(){let t=e.filterCompletionModels(this.fetchedModelData,this.editorPreviewFeaturesDisabled);return e.mapCompletionModels(t)}static filterCompletionModels(t,r){return t.filter(n=>n.capabilities.type==="completion").filter(n=>!r||n.preview===!1||n.preview===void 0)}static filterModelsWithEditorPreviewFeatures(t,r){return t.filter(n=>!r||n.preview===!1||n.preview===void 0)}static mapCompletionModels(t){return t.map(r=>({modelId:r.id,label:r.name,preview:!!r.preview}))}getCurrentModelRequestInfo(t=void 0){let r=this.getDefaultModelId(),n=eCe(this._ctx);if(n){let l=this.getGenericCompletionModels().map(c=>c.modelId);l.includes(n)||(l.length>0&&Jn.error(this._ctx,`User selected model ${n} is not in the list of generic models: ${l.join(", ")}, falling back to default model.`),n=null),r===n&&(n=null)}let i=qn(this._ctx,St.DebugOverrideEngine)||qn(this._ctx,St.DebugOverrideEngineLegacy);if(i)return new Ky(i,"override");let s=t?this._ctx.get(Cr).customEngine(t):"",a=t?this._ctx.get(Cr).customEngineTargetEngine(t):void 0;return n?s&&a&&n===a?new Ky(s,"exp"):new Ky(n,"modelpicker"):s?new Ky(s,"exp"):this.customModels.length>0?new Ky(this.customModels[0],"custommodel"):new Ky(r,"default")}},Ky=class{constructor(t,r){this.modelId=t;this.modelChoiceSource=r}static{o(this,"ModelRequestInfo")}get headers(){return{}}};function Jy(e,t=void 0){let r=e.get(md).getCurrentModelRequestInfo(t);return{headers:r.headers,modelId:r.modelId,engineChoiceSource:r.modelChoiceSource}}o(Jy,"getEngineRequestInfo");d();d();var Io=class{static{o(this,"FileSystem")}};var MCe=et(QCe());function OCe(e){return e!==void 0&&e!==0}o(OCe,"isRepoInfo");async function UCe(e){let r=(await e.get(Xr).getToken()).organization_list??[];return XF(r)??""}o(UCe,"getUserKind");async function vw(e,t){return(await e.get(Xr).getToken()).getTokenValue(t)??""}o(vw,"getTokenKeyValue");function qCe(e){if(e===void 0||e===0)return"";let t=q1(e);if(t==="github/github")return t;let r=Pot(e)?.toLowerCase();return r!==void 0?r:""}o(qCe,"getDogFood");function q1(e){if(e!==void 0&&e!==0&&e.hostname==="github.com")return e.owner+"/"+e.repo}o(q1,"tryGetGitHubNWO");function Pot(e){if(e!==void 0&&e!==0&&(e.hostname.endsWith("azure.com")||e.hostname.endsWith("visualstudio.com")))return e.owner+"/"+e.repo}o(Pot,"tryGetADONWO");function Zy(e,t){let r=ju(t);return Fot(e,r)}o(Zy,"extractRepoInfoInBackground");var Fot=Mot(Not,1e4);async function Not(e,t){let r=D5e(t);if(!r)return;let n=await Lot(e,r);if(!n)return;let i=e.get(Io),s=Fo(n,".git","config"),a;try{a=await i.readFileString(s)}catch{return}let l=Qot(a)??"",c=vZ(l),u={uri:n};return c===void 0?{baseFolder:u,url:l,hostname:"",owner:"",repo:"",pathname:""}:{baseFolder:u,url:l,...c}}o(Not,"extractRepoInfo");function vZ(e){let t;try{if(t=(0,MCe.default)(e),t.resource==""||t.owner==""||t.name==""||t.pathname=="")return}catch{return}return{hostname:t.resource,owner:t.owner,repo:t.name,pathname:t.pathname}}o(vZ,"parseRepoUrl");async function Lot(e,t){let r=t+"_add_to_make_longer",n=e.get(Io);for(;t!=="file:///"&&t.length<r.length;){let i=Fo(t,".git","config"),s=!1;try{await n.stat(i),s=!0}catch{s=!1}if(s)return t;r=t,t=ju(t)}}o(Lot,"getRepoBaseUri");function Qot(e){let t=/^\s*\[\s*remote\s+"((\\\\|\\"|[^\\"])+)"/,r=/^\s*\[remote.([^"\s]+)/,n=/^\s*url\s*=\s*([^\s#;]+)/,i=/^\s*\[/,s,a,l=!1;for(let c of e.split(`
`))if(l&&s!==void 0){if(s+=c,c.endsWith("\\"))s=s.substring(0,s.length-1);else if(l=!1,a==="origin")return s}else{let u=c.match(t)??c.match(r);if(u)a=u[1];else if(c.match(i))a=void 0;else{if(s&&a!=="origin")continue;{let f=c.match(n);if(f){if(s=f[1],s.endsWith("\\"))s=s.substring(0,s.length-1),l=!0;else if(a==="origin")return s}}}}return s}o(Qot,"getRepoUrlFromConfigText");var xZ=class{static{o(this,"CompletedComputation")}constructor(t){this.result=t}};function Mot(e,t){let r=new In(t),n=new Set;return(i,...s)=>{let a=JSON.stringify(s),l=r.get(a);if(l)return l.result;if(n.has(a))return 0;let c=e(i,...s);return n.add(a),c.then(u=>{r.set(a,new xZ(u)),n.delete(a)}),0}}o(Mot,"computeInBackgroundAndMemoize");d();d();d();d();d();d();d();var hI=class extends Error{constructor(r,n){super(r,{cause:n});this.code="CopilotPromptLoadFailure"}static{o(this,"CopilotPromptLoadFailure")}};d();var WCe=et(require("node:fs/promises")),EN=et(require("node:path"));async function IN(e){return await WCe.readFile(bZ(e))}o(IN,"readFile");function bZ(e){return EN.default.resolve(EN.default.extname(__filename)!==".ts"?__dirname:EN.default.resolve(__dirname,"../../dist"),e)}o(bZ,"locateFile");var gI=et(r3e());var pI=new Map;function go(e="cl100k_base"){let t=pI.get(e);return t!==void 0?t:pI.get("cl100k_base")}o(go,"getTokenizer");async function n3e(e="cl100k_base"){return await FZ,go(e)}o(n3e,"getTokenizerAsync");async function est(e){if(!e.endsWith(".tiktoken.noindex"))throw new Error("File does not end with .tiktoken.noindex");let t=await IN(e),r=new Map,n=[];for(let i=0;i<t.length;i++){if(t[i]!==255||n.length===0){n.push(t[i]);continue}r.set(Uint8Array.from(n),r.size),n=[]}return r.set(Uint8Array.from(n),r.size),r}o(est,"parseTikTokenNoIndex");var RN=class e{constructor(t){this._tokenizer=t}static{o(this,"TTokenizer")}static async create(t){try{let r=(0,gI.createTokenizer)(await est(`resources/${t}.tiktoken.noindex`),(0,gI.getSpecialTokensByEncoder)(t),(0,gI.getRegexByEncoder)(t),32768);return new e(r)}catch(r){throw r instanceof Error?new hI("Could not load tokenizer",r):r}}tokenize(t){return this._tokenizer.encode(t)}detokenize(t){return this._tokenizer.decode(t)}tokenLength(t){return this.tokenize(t).length}tokenizeStrings(t){return this.tokenize(t).map(n=>this.detokenize([n]))}takeLastTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=4,i=1,s=Math.min(t.length,r*n),a=t.slice(-s),l=this.tokenize(a);for(;l.length<r+2&&s<t.length;)s=Math.min(t.length,s+r*i),a=t.slice(-s),l=this.tokenize(a);return l.length<r?{text:t,tokens:l}:(l=l.slice(-r),{text:this.detokenize(l),tokens:l})}takeFirstTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=4,i=1,s=Math.min(t.length,r*n),a=t.slice(0,s),l=this.tokenize(a);for(;l.length<r+2&&s<t.length;)s=Math.min(t.length,s+r*i),a=t.slice(0,s),l=this.tokenize(a);return l.length<r?{text:t,tokens:l}:(l=l.slice(0,r),{text:this.detokenize(l),tokens:l})}takeLastLinesTokens(t,r){let{text:n}=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let i=n.indexOf(`
`);return n.substring(i+1)}},DZ=class{constructor(){this.hash=o(t=>{let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);r=(r<<5)-r+i,r&=r&65535}return r},"hash")}static{o(this,"MockTokenizer")}tokenize(t){return this.tokenizeStrings(t).map(this.hash)}detokenize(t){return t.map(r=>r.toString()).join(" ")}tokenizeStrings(t){return t.split(/\b/)}tokenLength(t){return this.tokenizeStrings(t).length}takeLastTokens(t,r){let n=this.tokenizeStrings(t).slice(-r);return{text:n.join(""),tokens:n.map(this.hash)}}takeFirstTokens(t,r){let n=this.tokenizeStrings(t).slice(0,r);return{text:n.join(""),tokens:n.map(this.hash)}}takeLastLinesTokens(t,r){let{text:n}=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let i=n.indexOf(`
`);return n.substring(i+1)}},PZ=class{static{o(this,"ApproximateTokenizer")}tokenize(t){throw new Error("Not implemented")}detokenize(t){throw new Error("Not implemented")}tokenizeStrings(t){throw new Error("Not implemented")}tokenLength(t){return Math.ceil(t.length/4)}takeLastTokens(t,r){throw new Error("Not implemented")}takeFirstTokens(t,r){throw new Error("Not implemented")}takeLastLinesTokens(t,r){throw new Error("Not implemented")}},FZ=(async()=>{pI.set("mock",new DZ),pI.set("approximate",new PZ),pI.set("cl100k_base",await RN.create("cl100k_base")),pI.set("o200k_base",await RN.create("o200k_base"))})();var tst={tokenizerName:"cl100k_base"};function rst(e){return{...tst,...e}}o(rst,"cursorContextOptions");function Ew(e,t={}){let r=rst(t),n=go(r.tokenizerName);if(r.maxLineCount!==void 0&&r.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(r.maxTokenLength!==void 0&&r.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(r.maxLineCount===0||r.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:r.tokenizerName};let i=e.source.slice(0,e.offset);return r.maxLineCount!==void 0&&(i=i.split(`
`).slice(-r.maxLineCount).join(`
`)),r.maxTokenLength!==void 0&&(i=n.takeLastLinesTokens(i,r.maxTokenLength)),{context:i,lineCount:i.split(`
`).length,tokenLength:n.tokenLength(i),tokenizerName:r.tokenizerName}}o(Ew,"getCursorContext");d();d();var nst={function:"function",snippet:"snippet",snippets:"snippets",variable:"variable",parameter:"parameter",method:"method",class:"class",module:"module",alias:"alias","enum member":"enum member",interface:"interface"};function i3e(e,t){let r=nst[e.semantics],n=["snippets"].includes(e.semantics)?"these":"this",s=(e.relativePath?`Compare ${n} ${r} from ${e.relativePath}:`:`Compare ${n} ${r}:`)+`
`+e.snippet;return s.endsWith(`
`)||(s+=`
`),s}o(i3e,"announceSnippet");var NZ=class{constructor(t){this.keys=[];this.cache={};this.size=t}static{o(this,"FifoCache")}put(t,r){if(this.cache[t]=r,this.keys.length>this.size){this.keys.push(t);let n=this.keys.shift()??"";delete this.cache[n]}}get(t){return this.cache[t]}};var LZ=class{static{o(this,"Tokenizer")}constructor(t){this.stopsForLanguage=ast.get(t.languageId)??sst}tokenize(t){return new Set(ist(t).filter(r=>!this.stopsForLanguage.has(r)))}},o3e=new NZ(20),AI=class{static{o(this,"WindowedMatcher")}constructor(t){this.referenceDoc=t,this.tokenizer=new LZ(t)}get referenceTokens(){return this.createReferenceTokens()}async createReferenceTokens(){return this.referenceTokensCache??=this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(t,r="descending"){return r=="ascending"?t.sort((n,i)=>n.score>i.score?1:-1):r=="descending"?t.sort((n,i)=>n.score>i.score?-1:1):t}async retrieveAllSnippets(t,r="descending"){let n=[];if(t.source.length===0||(await this.referenceTokens).size===0)return n;let i=t.source.split(`
`),s=this.id()+":"+t.source,a=o3e.get(s)??[],l=a.length==0,c=l?i.map(u=>this.tokenizer.tokenize(u),this.tokenizer):[];for(let[u,[f,m]]of this.getWindowsDelineations(i).entries()){if(l){let g=new Set;c.slice(f,m).forEach(x=>x.forEach(v=>g.add(v),g)),a.push(g)}let h=a[u],p=this.similarityScore(h,await this.referenceTokens);if(n.length&&f>0&&n[n.length-1].endLine>f){n[n.length-1].score<p&&(n[n.length-1].score=p,n[n.length-1].startLine=f,n[n.length-1].endLine=m);continue}n.push({score:p,startLine:f,endLine:m})}return l&&o3e.put(s,a),this.sortScoredSnippets(n,r)}findMatches(t,r){return this.findBestMatch(t,r)}async findBestMatch(t,r){if(t.source.length===0||(await this.referenceTokens).size===0)return[];let n=t.source.split(`
`),i=await this.retrieveAllSnippets(t,"descending");if(i.length===0)return[];let s=[];for(let a=0;a<i.length&&a<r;a++)if(i[a].score!==0){let l=n.slice(i[a].startLine,i[a].endLine).join(`
`);s.push({snippet:l,semantics:"snippet",provider:"similar-files",...i[a]})}return s}};function ist(e){return e.split(/[^a-zA-Z0-9]/).filter(t=>t.length>0)}o(ist,"splitIntoWords");var ost=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),sst=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...ost]),ast=new Map([]);d();d();d();function QZ(e,t,r){return{type:"virtual",indentation:e,subs:t,label:r}}o(QZ,"virtualNode");function s3e(e,t,r,n,i){if(r==="")throw new Error("Cannot create a line node with an empty source line");return{type:"line",indentation:e,lineNumber:t,sourceLine:r,subs:n,label:i}}o(s3e,"lineNode");function MZ(e){return{type:"blank",lineNumber:e,subs:[]}}o(MZ,"blankNode");function DN(e){return{type:"top",indentation:-1,subs:e??[]}}o(DN,"topNode");function ic(e){return e.type==="blank"}o(ic,"isBlank");function C4(e){return e.type==="line"}o(C4,"isLine");function x4(e){return e.type==="virtual"}o(x4,"isVirtual");function a3e(e,t){return Pc(e,r=>{r.label=r.label?t(r.label)?void 0:r.label:void 0},"bottomUp"),e}o(a3e,"clearLabelsIf");function v4(e,t){switch(e.type){case"line":case"virtual":{let r=e.subs.map(n=>v4(n,t));return{...e,subs:r,label:e.label?t(e.label):void 0}}case"blank":return{...e,label:e.label?t(e.label):void 0};case"top":return{...e,subs:e.subs.map(r=>v4(r,t)),label:e.label?t(e.label):void 0}}}o(v4,"mapLabels");function Pc(e,t,r){function n(i){r==="topDown"&&t(i),i.subs.forEach(s=>{n(s)}),r==="bottomUp"&&t(i)}o(n,"_visit"),n(e)}o(Pc,"visitTree");function OZ(e,t,r,n){let i=t;function s(a){i=r(a,i)}return o(s,"visitor"),Pc(e,s,n),i}o(OZ,"foldTree");function PN(e,t,r){let n=o(s=>{if(r!==void 0&&r(s))return s;{let a=s.subs.map(n).filter(l=>l!==void 0);return s.subs=a,t(s)}},"rebuild"),i=n(e);return i!==void 0?i:DN()}o(PN,"rebuildTree");d();function cst(e){let t=e.split(`
`),r=t.map(u=>u.match(/^\s*/)[0].length),n=t.map(u=>u.trimLeft());function i(u){let[f,m]=s(u+1,r[u]);return[s3e(r[u],u,n[u],f),m]}o(i,"parseNode");function s(u,f){let m,h=[],p=u,g;for(;p<n.length&&(n[p]===""||r[p]>f);)if(n[p]==="")g===void 0&&(g=p),p+=1;else{if(g!==void 0){for(let x=g;x<p;x++)h.push(MZ(x));g=void 0}[m,p]=i(p),h.push(m)}return g!==void 0&&(p=g),[h,p]}o(s,"parseSubs");let[a,l]=s(0,-1),c=l;for(;c<n.length&&n[c]==="";)a.push(MZ(c)),c+=1;if(c<n.length)throw new Error(`Parsing did not go to end of file. Ended at ${c} out of ${n.length}`);return DN(a)}o(cst,"parseRaw");function Iw(e,t){function r(n){if(C4(n)){let i=t.find(s=>s.matches(n.sourceLine));i&&(n.label=i.label)}}o(r,"visitor"),Pc(e,r,"bottomUp")}o(Iw,"labelLines");function FN(e){function t(r){if(x4(r)&&r.label===void 0){let n=r.subs.filter(i=>!ic(i));n.length===1&&(r.label=n[0].label)}}o(t,"visitor"),Pc(e,t,"bottomUp")}o(FN,"labelVirtualInherited");function Tw(e){return Object.keys(e).map(t=>{let r;return e[t].test?r=o(n=>e[t].test(n),"matches"):r=e[t],{matches:r,label:t}})}o(Tw,"buildLabelRules");function UZ(e){let r=PN(e,o(function(n){if(n.subs.length===0||n.subs.findIndex(a=>a.label==="closer"||a.label==="opener")===-1)return n;let i=[],s;for(let a=0;a<n.subs.length;a++){let l=n.subs[a],c=n.subs[a-1];if(l.label==="opener"&&c!==void 0&&C4(c))c.subs.push(l),l.subs.forEach(u=>c.subs.push(u)),l.subs=[];else if(l.label==="closer"&&s!==void 0&&(C4(l)||x4(l))&&l.indentation>=s.indentation){let u=i.length-1;for(;u>0&&ic(i[u]);)u-=1;if(s.subs.push(...i.splice(u+1)),l.subs.length>0){let f=s.subs.findIndex(g=>g.label!=="newVirtual"),m=s.subs.slice(0,f),h=s.subs.slice(f),p=h.length>0?[QZ(l.indentation,h,"newVirtual")]:[];s.subs=[...m,...p,l]}else s.subs.push(l)}else i.push(l),ic(l)||(s=l)}return n.subs=i,n},"rebuilder"));return a3e(e,n=>n==="newVirtual"),r}o(UZ,"combineClosersAndOpeners");function l3e(e,t=ic,r){return PN(e,o(function(i){if(i.subs.length<=1)return i;let s=[],a=[],l,c=!1;function u(f=!1){if(l!==void 0&&(s.length>0||!f)){let m=QZ(l,a,r);s.push(m)}else a.forEach(m=>s.push(m))}o(u,"flushBlockIntoNewSubs");for(let f=0;f<i.subs.length;f++){let m=i.subs[f],h=t(m);!h&&c&&(u(),a=[]),c=h,a.push(m),ic(m)||(l=l??m.indentation)}return u(!0),i.subs=s,i},"rebuilder"))}o(l3e,"groupBlocks");function b4(e){return PN(e,o(function(r){return x4(r)&&r.label===void 0&&r.subs.length<=1?r.subs.length===0?void 0:r.subs[0]:(r.subs.length===1&&x4(r.subs[0])&&r.subs[0].label===void 0&&(r.subs=r.subs[0].subs),r)},"rebuilder"))}o(b4,"flattenVirtual");var ust={opener:/^[[({]/,closer:/^[\])}]/},fst=Tw(ust),c3e={};function qZ(e,t){c3e[e]=t}o(qZ,"registerLanguageSpecificParser");function ww(e,t){let r=cst(e),n=c3e[t??""];return n?n(r):(Iw(r,fst),UZ(r))}o(ww,"parseTree");function NN(e,t){let r=[],n=t.length;if(n==0)return[];if(n<e)return[[0,n]];for(let i=0;i<n-e+1;i++)r.push([i,i+e]);return r}o(NN,"getBasicWindowDelineations");var LN=class e extends AI{static{o(this,"FixedWindowSizeJaccardMatcher")}constructor(t,r){super(t),this.windowLength=r}static{this.FACTORY=o(t=>({to:o(r=>new e(r,t),"to")}),"FACTORY")}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return NN(this.windowLength,t)}_getCursorContextInfo(t){return Ew(t,{maxLineCount:this.windowLength})}similarityScore(t,r){return dst(t,r)}};function dst(e,t){let r=new Set;return e.forEach(n=>{t.has(n)&&r.add(n)}),r.size/(e.size+t.size-r.size)}o(dst,"computeScore");d();d();var QN=et(u3e());var GZ={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby",csharp:"c_sharp",java:"java"};function Ju(e){return e in GZ&&e!=="csharp"&&e!=="java"}o(Ju,"isSupportedLanguageId");function MN(e){if(!(e in GZ))throw new Error(`Unrecognized language: ${e}`);return GZ[e]}o(MN,"languageIdToWasmLanguage");var WZ=new Map;async function mst(e){let t;try{t=await IN(`tree-sitter-${e}.wasm`)}catch(r){throw r instanceof Error&&"code"in r&&typeof r.code=="string"&&r.name==="Error"?new hI(`Could not load tree-sitter-${e}.wasm`,r):r}return QN.default.Language.load(t)}o(mst,"loadWasmLanguage");function hst(e){let t=MN(e);if(!WZ.has(t)){let r=mst(t);WZ.set(t,r)}return WZ.get(t)}o(hst,"getLanguage");var HZ=class extends Error{static{o(this,"WrappedError")}constructor(t,r){super(t,{cause:r})}};async function W1(e,t){await QN.default.init({locateFile:o(s=>bZ(s),"locateFile")});let r;try{r=new QN.default}catch(s){throw s&&typeof s=="object"&&"message"in s&&typeof s.message=="string"&&s.message.includes("table index is out of bounds")?new HZ(`Could not init Parse for language <${e}>`,s):s}let n=await hst(e);r.setLanguage(n);let i=r.parse(t);return r.delete(),i}o(W1,"parseTreeSitter");function f3e(e){switch(MN(e)){case"python":return null;case"javascript":case"typescript":case"tsx":case"go":case"c_sharp":case"java":return"}";case"ruby":return"end"}}o(f3e,"getBlockCloseToken");function pst(e,t){let r=[];for(let n of e){if(!n[1]){let i=t.tree.getLanguage();n[1]=i.query(n[0])}r.push(...n[1].matches(t))}return r}o(pst,"innerQuery");var gst=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];function d3e(e){return pst([gst],e).length==1}o(d3e,"queryPythonIsDocstring");var ON=class e extends AI{static{o(this,"BlockTokenSubsetMatcher")}constructor(t,r){super(t),this.windowLength=r}static{this.FACTORY=o(t=>({to:o(r=>new e(r,t),"to")}),"FACTORY")}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return NN(this.windowLength,t)}_getCursorContextInfo(t){return Ew(t,{maxLineCount:this.windowLength})}get referenceTokens(){return this.createReferenceTokensForLanguage()}async createReferenceTokensForLanguage(){return this.referenceTokensCache?this.referenceTokensCache:(this.referenceTokensCache=e.syntaxAwareSupportsLanguage(this.referenceDoc.languageId)?await this.syntaxAwareReferenceTokens():await super.referenceTokens,this.referenceTokensCache)}async syntaxAwareReferenceTokens(){let t=(await this.getEnclosingMemberStart(this.referenceDoc.source,this.referenceDoc.offset))?.startIndex,r=this.referenceDoc.offset,n=t?this.referenceDoc.source.slice(t,r):Ew(this.referenceDoc,{maxLineCount:this.windowLength}).context;return this.tokenizer.tokenize(n)}static syntaxAwareSupportsLanguage(t){switch(t){case"csharp":return!0;default:return!1}}similarityScore(t,r){return Ast(t,r)}async getEnclosingMemberStart(t,r){let n;try{n=await W1(this.referenceDoc.languageId,t);let i=n.rootNode.namedDescendantForIndex(r);for(;i&&!(e.isMember(i)||e.isBlock(i));)i=i.parent??void 0;return i}finally{n?.delete()}}static isMember(t){switch(t?.type){case"method_declaration":case"property_declaration":case"field_declaration":case"constructor_declaration":return!0;default:return!1}}static isBlock(t){switch(t?.type){case"class_declaration":case"struct_declaration":case"record_declaration":case"enum_declaration":case"interface_declaration":return!0;default:return!1}}};function Ast(e,t){let r=new Set;return t.forEach(n=>{e.has(n)&&r.add(n)}),r.size}o(Ast,"computeScore");var yst=0,Cst=60,xst=4,vst=1,bst=20,Est=1e4,jZ={snippetLength:Cst,threshold:yst,maxTopSnippets:xst,maxCharPerFile:Est,maxNumberOfFiles:bst,maxSnippetsPerFile:vst,useSubsetMatching:!1};var UN={snippetLength:60,threshold:0,maxTopSnippets:16,maxCharPerFile:1e5,maxNumberOfFiles:200,maxSnippetsPerFile:4};function Ist(e,t){return(t.useSubsetMatching?ON.FACTORY(t.snippetLength):LN.FACTORY(t.snippetLength)).to(e)}o(Ist,"getMatcher");async function m3e(e,t,r){let n=Ist(e,r);return r.maxTopSnippets===0?[]:(await t.filter(s=>s.source.length<r.maxCharPerFile&&s.source.length>0).slice(0,r.maxNumberOfFiles).reduce(async(s,a)=>(await s).concat((await n.findMatches(a,r.maxSnippetsPerFile)).map(l=>({relativePath:a.relativePath,...l}))),Promise.resolve([]))).filter(s=>s.score&&s.snippet&&s.score>r.threshold).sort((s,a)=>s.score-a.score).slice(-r.maxTopSnippets)}o(m3e,"getSimilarSnippets");var _w=500,Sw=8192-_w,h3e=4;var qN=10,WN=15;var Tst={javascriptreact:"javascript",jsx:"javascript",typescriptreact:"typescript",jade:"pug",cshtml:"razor",c:"cpp"};function kw(e){return e=e.toLowerCase(),Tst[e]??e}o(kw,"normalizeLanguageId");var VZ=class{constructor(t){this.ctx=t;this.cache=new In(200)}static{o(this,"FilterSettingsToExpConfigs")}async fetchExpConfig(t){let r=this.cache.get(t.stringify());return r||(r=new $Z(()=>this.ctx.get(Wm).fetchExperiments(this.ctx,t.toHeaders()),1e3*60*60),this.cache.set(t.stringify(),r)),r.run()}getCachedExpConfig(t){return this.cache.get(t.stringify())?.value()}},$Z=class{constructor(t,r=1/0){this.producer=t;this.expirationMs=r}static{o(this,"Task")}async run(){return this.promise===void 0&&(this.promise=this.producer(),this.storeResult(this.promise).then(()=>{this.expirationMs<1/0&&this.promise!==void 0&&setTimeout(()=>this.promise=void 0,this.expirationMs)})),this.promise}async storeResult(t){try{this.result=await t}finally{this.result===void 0&&(this.promise=void 0)}}value(){return this.result}};function _st(e){return"uri"in e}o(_st,"isCompletionsFiltersInfo");var Cr=class e{constructor(t){this.ctx=t;this.staticFilters={};this.dynamicFilters={};this.dynamicFilterGroups=[];this.upcomingDynamicFilters={};this.assignments=new VZ(this.ctx)}static{o(this,"Features")}static{this.upcomingDynamicFilterCheckDelayMs=20}static{this.upcomingTimeBucketMinutes=5+Math.floor(Math.random()*11)}registerStaticFilters(t){Object.assign(this.staticFilters,t)}registerDynamicFilter(t,r){this.dynamicFilters[t]=r}registerDynamicFilterGroup(t){this.dynamicFilterGroups.push(t)}getDynamicFilterValues(){let t={};for(let r of this.dynamicFilterGroups)Object.assign(t,r());for(let[r,n]of Object.entries(this.dynamicFilters))t[r]=n();return t}registerUpcomingDynamicFilter(t,r){this.upcomingDynamicFilters[t]=r}async updateExPValuesAndAssignments(t,r=cn.createAndMarkAsIssued()){if(r instanceof Fp)throw new Error("updateExPValuesAndAssignments should not be called with TelemetryWithExp");let n=t&&_st(t)?Zy(this.ctx,t.uri):void 0,i=q1(n)??"",s=qCe(n)??"",a=t?.languageId??"",l=Jy(this.ctx).modelId,c=await UCe(this.ctx),u=await vw(this.ctx,"ft"),f=await vw(this.ctx,"ol"),m=await vw(this.ctx,"cml"),h=await vw(this.ctx,"tid"),p={"X-Copilot-Repository":i,"X-Copilot-FileType":a,"X-Copilot-UserKind":c,"X-Copilot-Dogfood":s,"X-Copilot-Engine":l,"X-Copilot-CustomModel":u,"X-Copilot-Orgs":f,"X-Copilot-CustomModelNames":m,"X-Copilot-CopilotTrackingId":h},g=this.getGranularityDirectory(),x=this.makeFilterSettings(p),v=g.extendFilters(x),E=await this.getExpConfig(v.newFilterSettings);g.update(x,+(E.variables.copilotbycallbuckets??NaN),+(E.variables.copilottimeperiodsizeinh??NaN));let b=g.extendFilters(x),_=b.newFilterSettings,R=await this.getExpConfig(_),P=new Promise(F=>setTimeout(F,e.upcomingDynamicFilterCheckDelayMs));for(let F of b.otherFilterSettingsToPrefetch)P=P.then(async()=>{await new Promise(G=>setTimeout(G,e.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(F)});return this.prepareForUpcomingFilters(_),new Fp(r.properties,r.measurements,r.issuedTime,{filters:_,exp:R})}getGranularityDirectory(){if(!this.granularityDirectory){let t=this.ctx.get(_s).machineId;this.granularityDirectory=new ZF(t,this.ctx.get(vp))}return this.granularityDirectory}makeFilterSettings(t){return new z3({...this.staticFilters,...this.getDynamicFilterValues(),...t})}async getExpConfig(t){try{return this.assignments.fetchExpConfig(t)}catch(r){return cd.createFallbackConfig(this.ctx,`Error fetching ExP config: ${String(r)}`)}}async prepareForUpcomingFilters(t){if(!(new Date().getMinutes()<60-e.upcomingTimeBucketMinutes))for(let[r,n]of Object.entries(this.upcomingDynamicFilters))await new Promise(i=>setTimeout(i,e.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(t.withChange(r,n()))}stringify(){let t=this.assignments.getCachedExpConfig(new z3({}));return JSON.stringify(t?.variables??{})}async getFallbackExpAndFilters(){let t=this.makeFilterSettings({}),r=await this.getExpConfig(t);return{filters:t,exp:r}}disableLogProb(t){return t.filtersAndExp.exp.variables.copilotdisablelogprob??!0}overrideBlockMode(t){return t.filtersAndExp.exp.variables.copilotoverrideblockmode||void 0}customEngine(t){return t.filtersAndExp.exp.variables.copilotcustomengine??""}customEngineTargetEngine(t){return t.filtersAndExp.exp.variables.copilotcustomenginetargetengine}suffixPercent(t){return t.filtersAndExp.exp.variables.CopilotSuffixPercent??WN}suffixMatchThreshold(t){return t.filtersAndExp.exp.variables.copilotsuffixmatchthreshold??qN}cppHeadersShutdownSwitch(t){return t.filtersAndExp.exp.variables.copilotcppheadersshutdownswitch??!1}relatedFilesVSCodeCSharp(t){return t.filtersAndExp.exp.variables.copilotrelatedfilesvscodecsharp??!1}relatedFilesVSCodeTypeScript(t){return t.filtersAndExp.exp.variables.copilotrelatedfilesvscodetypescript??!1}relatedFilesVSCode(t){return t.filtersAndExp.exp.variables.copilotrelatedfilesvscode??!1}excludeOpenTabFilesCSharp(t){return t.filtersAndExp.exp.variables.copilotexcludeopentabfilescsharp??!1}excludeOpenTabFilesCpp(t){return t.filtersAndExp.exp.variables.copilotexcludeopentabfilescpp??!1}excludeOpenTabFilesTypeScript(t){return t.filtersAndExp.exp.variables.copilotexcludeopentabfilestypescript??!1}fallbackToOpenTabFilesWithNoRelatedFiles(t){return t.filtersAndExp.exp.variables.copilotfallbacktoopentabfiles??!1}contextProviders(t){let r=t.filtersAndExp.exp.variables.copilotcontextproviders??"";return r?r.split(",").map(n=>n.trim()):[]}includeNeighboringFiles(t){return t.filtersAndExp.exp.variables.copilotincludeneighboringfiles??!1}maxPromptCompletionTokens(t){return t.filtersAndExp.exp.variables.maxpromptcompletionTokens??Sw+_w}promptOrderListPreset(t){let r=t.filtersAndExp.exp.variables.copilotpromptorderlistpreset;return"default"}promptPriorityPreset(t){switch(t.filtersAndExp.exp.variables.copilotpromptprioritypreset){case"office-exp":return"office-exp";default:return"default"}}ideChatMaxRequestTokens(t){return t.filtersAndExp.exp.variables.idechatmaxrequesttokens??-1}ideChatExpModelIds(t){return t.filtersAndExp.exp.variables.idechatexpmodelids??""}ideChatEnableProjectMetadata(t){return t.filtersAndExp.exp.variables.idechatenableprojectmetadata??!1}ideEnableCopilotEditsAgent(t){return t.filtersAndExp.exp.variables.ideenablecopiloteditsagent??!1}recentEditsInPrompt(t){return t.filtersAndExp.exp.variables.copilotrecenteditsinprompt??!1}recentEditsEditCount(t){return t.filtersAndExp.exp.variables.copilotrecenteditseditcount??5}recentEditsMaxFiles(t){return t.filtersAndExp.exp.variables.copilotrecenteditsmaxfiles??5}recentEditsContextLines(t){return t.filtersAndExp.exp.variables.copilotrecenteditscontextlines??3}recentEditsRemoveDeletedLines(t){return t.filtersAndExp.exp.variables.copilotrecenteditsremovedeletedlines??!1}recentEditsInsertionsBeforeDeletions(t){return t.filtersAndExp.exp.variables.copilotrecenteditsinsertionsbeforedeletions??!1}recentEditsAppendNoReplyMarker(t){return t.filtersAndExp.exp.variables.copilotrecenteditsappendnoreplymarker??!1}recentEditsMaxLinesBetweenEdits(t){return t.filtersAndExp.exp.variables.copilotrecenteditsmaxlinesbetweenedits??100}recentEditsActiveDocDistanceLimitFromCursor(t){return t.filtersAndExp.exp.variables.copilotrecenteditsactivedocdistancelimitfromcursor??100}recentEditsSummarizationFormat(t){return t.filtersAndExp.exp.variables.copilotrecenteditsummarizationformat??"diff"}triggerCompletionAfterAccept(t){return t.filtersAndExp.exp.variables.copilottriggercompletionafteraccept}enableAsyncCompletions(t){return t.filtersAndExp.exp.variables.copilotasynccompletions??!1}enableSpeculativeRequests(t){return t.filtersAndExp.exp.variables.copilotspeculativerequests??!1}cppContextProviderParams(t){return t.filtersAndExp.exp.variables.copilotcppContextProviderParams}disableContextualFilter(t){return t.filtersAndExp.exp.variables.copilotdisablecontextualfilter??!1}vscodeDebounceThreshold(t){return t.filtersAndExp.exp.variables.copilotvscodedebouncethreshold}enableElectronFetcher(t){return t.filtersAndExp.exp.variables.copilotelectronfetcher??!1}asyncCompletionsTimeout(t){return t.filtersAndExp.exp.variables.copilotasynccompletionstimeout??100}enablePromptContextProxyField(t){return t.filtersAndExp.exp.variables.copilotenablepromptcontextproxyfield??!1}enableProgressiveReveal(t){return t.filtersAndExp.exp.variables.copilotprogressivereveal??!1}enableMultilineAfterAccept(t){return t.filtersAndExp.exp.variables.copilotmultilineafteraccept??!1}enablePrefixCompletionsCache(t){return t.filtersAndExp.exp.variables.copilotprefixcompletionscache??!1}};var zZ={};x1(zZ,{activationEvents:()=>$st,badges:()=>Vst,bugs:()=>Mst,build:()=>Dst,buildType:()=>Pst,categories:()=>Hst,contributes:()=>YZ,default:()=>eat,dependencies:()=>Zst,description:()=>Rst,devDependencies:()=>Jst,displayName:()=>kst,enabledApiProposals:()=>Yst,engines:()=>Gst,extensionPack:()=>Wst,homepage:()=>Lst,icon:()=>Ust,keywords:()=>jst,license:()=>Qst,main:()=>zst,name:()=>Sst,overrides:()=>Xst,preview:()=>Nst,pricing:()=>qst,publisher:()=>Fst,qna:()=>Ost,scripts:()=>Kst,version:()=>Bst});var Sst="copilot",kst="GitHub Copilot",Rst="Your AI pair programmer",Bst="1.314.0",Dst="1543",Pst="prod",Fst="GitHub",Nst=!1,Lst="https://github.com/features/copilot?editor=vscode",Qst="https://docs.github.com/en/site-policy/github-terms/github-terms-for-additional-products-and-features",Mst={url:"https://github.com/microsoft/vscode-copilot-release/issues"},Ost="https://github.com/github-community/community/discussions/categories/copilot",Ust="assets/Copilot-App-Icon.png",qst="Trial",Wst=["GitHub.copilot-chat"],Gst={vscode:"^1.98.0",node:">=20.0.0",npm:">=9.0.0"},Hst=["AI","Chat","Programming Languages","Machine Learning"],jst=["ai","openai","codex","pilot","snippets","documentation","autocomplete","intellisense","refactor","javascript","python","typescript","php","go","golang","ruby","c++","c#","java","kotlin","co-pilot"],Vst=[{url:"https://img.shields.io/badge/GitHub%20Copilot-Subscription%20Required-orange",href:"https://github.com/github-copilot/signup?editor=vscode",description:"Sign up for GitHub Copilot"},{url:"https://img.shields.io/github/stars/github/copilot-docs?style=social",href:"https://github.com/github/copilot-docs",description:"Star Copilot on GitHub"},{url:"https://img.shields.io/youtube/channel/views/UC7c3Kb6jYCRj4JOHHZTxKsQ?style=social",href:"https://www.youtube.com/@GitHub/search?query=copilot",description:"Check out GitHub on Youtube"},{url:"https://img.shields.io/twitter/follow/github?style=social",href:"https://twitter.com/github",description:"Follow GitHub on Twitter"}],$st=["onStartupFinished"],zst="./dist/extension",Yst=["inlineCompletionsAdditions"],YZ={commands:[{command:"github.copilot.toggleStatusMenu",title:"Open Status Menu",category:"GitHub Copilot"},{command:"github.copilot.signIn",title:"Sign In",category:"GitHub Copilot",enablement:"!github.copilot.activated"},{command:"github.copilot.acceptCursorPanelSolution",title:"Accept Panel Suggestion at the Cursor",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.previousPanelSolution",title:"Navigate to the Previous Panel Suggestion",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.nextPanelSolution",title:"Navigate to the Next Panel Suggestion",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.generate",title:"Open Completions Panel",enablement:"github.copilot.activated",category:"GitHub Copilot"},{command:"github.copilot.completions.disable",title:"Disable Completions",enablement:"github.copilot.activated && config.editor.inlineSuggest.enabled && github.copilot.completions.enabled",category:"GitHub Copilot"},{command:"github.copilot.completions.enable",title:"Enable Completions",enablement:"github.copilot.activated && !(config.editor.inlineSuggest.enabled && github.copilot.completions.enabled)",category:"GitHub Copilot"},{command:"github.copilot.completions.toggle",title:"Toggle (Enable/Disable) Completions",enablement:"github.copilot.activated",category:"GitHub Copilot"},{command:"github.copilot.sendFeedback",title:"Send Feedback",category:"GitHub Copilot"},{command:"github.copilot.collectDiagnostics",title:"Collect Diagnostics",category:"GitHub Copilot"},{command:"github.copilot.openLogs",title:"Open Logs",category:"GitHub Copilot"},{command:"github.copilot.openModelPicker",title:"Change Completions Model",category:"GitHub Copilot"},{command:"github.copilot.sendCompletionFeedback",title:"Send Copilot Completion Feedback",category:"GitHub Copilot"}],keybindings:[{command:"github.copilot.generate",key:"ctrl+enter",mac:"ctrl+enter",when:"editorTextFocus && !commentEditorFocused"},{command:"github.copilot.acceptCursorPanelSolution",key:"ctrl+/",mac:"ctrl+/",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.previousPanelSolution",key:"alt+[",mac:"alt+[",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.nextPanelSolution",key:"alt+]",mac:"alt+]",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"editor.action.inlineSuggest.trigger",key:"alt+\\",when:"editorTextFocus && !editorHasSelection && !inlineSuggestionsVisible"}],configuration:[{title:"GitHub Copilot",properties:{"github.copilot.selectedCompletionModel":{type:"string",default:"",markdownDescription:'The currently selected completion model ID. To select from a list of available models, use the __"Change Completion Model"__ command or open the model picker from the Copilot menu. The value must be a valid model ID. An empty value indicates that the default model will be used.'},"github.copilot.advanced":{type:"object",title:"Advanced Settings",properties:{authProvider:{type:"string",enum:["github","github-enterprise"],enumDescriptions:["GitHub.com","GitHub Enterprise"],default:"github",description:"The GitHub identity to use for Copilot"},authPermissions:{type:"string",enum:["default","minimal"],markdownEnumDescriptions:["Default (recommended) - The default permissions enable the best that Copilot has to offer including, but not limited to, faster repo indexing and the power of the `@github` agent.","Minimal - The minimal permissions required for Copilot functionality."],default:"default",markdownDescription:"Controls what kind of permissions are asked for when signing in to Copilot. The options are\n* `default` - (strongly recommended) The default permissions enable the best that Copilot has to offer including, but not limited to, faster repo indexing and the power of the `@github` agent.\n* `minimal` - The minimal permissions are the least that Copilot needs to function. Some features may behave slower or not at all."},useLanguageServer:{type:"boolean",default:!1,description:"Experimental: Use language server"},"debug.overrideEngine":{type:"string",default:"",description:"Override engine name"},"debug.overrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy full URL"},"debug.testOverrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy URL when running tests"},"debug.overrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API full URL"},"debug.testOverrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API URL when running tests"},"debug.filterLogCategories":{type:"array",default:[],deprecationMessage:"Set overrideLogLevels.* to ERROR to filter out unwanted categories.",description:"Show only log categories listed in this setting. If an array is empty, show all loggers"}}},"github.copilot.enable":{type:"object",scope:"window",default:{"*":!0,plaintext:!1,markdown:!1,scminput:!1},additionalProperties:{type:"boolean"},markdownDescription:"Enable or disable Copilot completions for specified [languages](https://code.visualstudio.com/docs/languages/identifiers)"},"github.copilot.inlineSuggest.enable":{type:"boolean",default:!0,deprecationMessage:"This setting has no effect. Please use github.copilot.enable instead.",description:"Show inline suggestions"},"github.copilot.editor.enableAutoCompletions":{type:"boolean",scope:"language-overridable",default:!0,deprecationMessage:"This setting is deprecated. Please use github.copilot.enable instead.",description:"Automatically show inline completions"}}}],configurationDefaults:{"editor.tokenColorCustomizations":{"[*Light*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#000"}}]},"[*Dark*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#fff"}}]}}},languages:[{id:"code-referencing"}],grammars:[{language:"code-referencing",scopeName:"text.ref",path:"./syntaxes/ref.tmGrammar.json"}],iconFonts:[{id:"copilot-font",src:[{path:"assets/copilot.woff",format:"woff"}]}]},Kst={build:"tsx esbuild.ts",clean:"./script/build/clean.sh",compress:"tsx ./script/compressTokenizer.ts","forbid-sources-content:extension":"node script/forbid-sources-content.js --extension",generate_languages:"tsx script/generateLanguages.ts && prettier --write lib/src/language/generatedLanguages.ts",get_token:"tsx script/getToken.ts",lint:'run-p --aggregate-output "lint:*"',"lint:deps":"depcruise -c .dependency-cruiser.js .","lint:eslint":"eslint -f visualstudio --quiet --cache .","lint:prettier":"prettier --check . 2>&1","lint:types":"tsc --noEmit && tsc --noEmit -p extension/src/copilotPanel/webview",prebuild:"npm install",pretest:"npm run build","pretest:headless":"npm run build","pretest:extension":"npm run build","pretest:lsp-client":"npm run build","pretest:lib-e2e":"npm run build",prewatch:"npm run build","prewatch:esbuild":"npm run build",start:"npm run watch",test:'npm-run-all "test:extension --ignore-scripts" "test:headless --ignore-scripts" lint',"test:headless":'npm-run-all test:lib test:agent "test:lib-e2e --ignore-scripts" test:prompt "test:lsp-client --ignore-scripts" lint',"test:agent":'mocha "agent/src/**/*.test.{ts,tsx}"',"test:extension":"tsx extension/test/runTest.ts","test:lib":'mocha "lib/src/**/*.test.{ts,tsx}"',"test:lib-e2e":'mocha "lib/e2e/src/**/*.test.{ts,tsx}" --exclude "lib/e2e/src/prompt/**/*.test.ts"',"test:lib-e2e-no-ci":'mocha "lib/e2e/no-ci/**/*.test.{ts,tsx}"',"test:lib-prompt-e2e":'mocha "lib/e2e/src/prompt/prompt.test.ts"',"test:lib-prompt-e2e-perf":"INCLUDE_PERFORMANCE=true npm run test:lib-prompt-e2e","test:lsp-client":'mocha "lsp-client/test/*.test.{ts,tsx}"',"test:prompt":'mocha "prompt/test/**/*.test.{ts,tsx}"',"vscode-dts":"vscode-dts dev && mv vscode.proposed.*.ts extension/src","vscode:prepublish":'run-s "build --ignore-scripts" forbid-sources-content:extension',"vscode:uninstall":"node dist/extensionUninstalled.js",vsix:"vsce package --allow-missing-repository",watch:'run-p "watch:esbuild --ignore-scripts" "watch:types -- --preserveWatchOutput"',"watch:esbuild":"tsx esbuild.ts --watch","watch:types":"tsc --noEmit --watch"},Jst={"@datadog/datadog-ci":"^3.4.0","@github/prettier-config":"0.0.6","@limegrass/eslint-plugin-import-alias":"^1.5.0","@parcel/watcher":"^2.5.1","@types/benchmark":"^2.1.5","@types/crypto-js":"^4.2.2","@types/diff":"^7.0.2","@types/git-url-parse":"^16.0.0","@types/js-yaml":"^4.0.6","@types/kerberos":"^1.1.2","@types/mocha":"^10.0.10","@types/node":"~20.8.0","@types/semver":"^7.7.0","@types/sinon":"^17.0.4","@types/uuid":"^10.0.0","@types/vscode":"1.98.0","@types/yargs":"^17.0.24","@vscode/test-electron":"^2.5.2","@vscode/vsce":"^3.3.2","@yao-pkg/pkg":"^6.4.0",benchmark:"^2.1.4",boxen:"^8.0.1",chalk:"^5.4.1","dependency-cruiser":"^16.10.0",electron:"^28.1.4",esbuild:"^0.25.3","esbuild-plugin-copy":"^2.1.1",eslint:"^9.25.1","eslint-formatter-visualstudio":"^8.40.0","eslint-plugin-mocha":"^10.5.0",fantasticon:"^3.0.0",glob:"^11.0.2",globals:"^16.0.0","js-yaml":"^4.1.0",mocha:"^11.2.2","mocha-junit-reporter":"^2.2.1","mocha-multi-reporters":"^1.5.1","npm-run-all":"^4.1.5",prettier:"^3.5.3","prettier-plugin-organize-imports":"^4.1.0",proxy:"^2.1.1","simple-git":"^3.27.0",sinon:"^20.0.0","ts-dedent":"^2.2.0",tsx:"^4.19.4",typescript:"^5.8.3","typescript-eslint":"^8.31.1","vscode-dts":"^0.3.3"},Zst={"@adobe/helix-fetch":"github:devm33/helix-fetch#1088e599270f36632703f138d88c2100cbe468db","@github/memoize":"1.1.5","@microsoft/1ds-post-js":"^4.3.6","@microsoft/applicationinsights-web-basic":"^3.3.6","@microsoft/tiktokenizer":"^1.0.10","@modelcontextprotocol/sdk":"^1.10.2","@sinclair/typebox":"^0.34.33","@types/vscode-webview":"^1.57.4","@vscode/codicons":"^0.0.36","@vscode/prompt-tsx":"0.3.0-alpha.21","@vscode/webview-ui-toolkit":"^1.3.1","await-lock":"^2.2.2","crypto-js":"^4.2.0",diff:"^7.0.0",dldr:"^0.0.10","get-stream":"^6.0.1","git-url-parse":"^16.0.3",kerberos:"^2.2.0","mac-ca":"^3.1.1",microjob:"^0.7.0",minimatch:"^9.0.3",open:"^10.1.1","os-browserify":"^0.3.0","path-browserify":"^1.0.1",semver:"^7.7.1",shiki:"~1.15.0","source-map-support":"^0.5.21",sqlite3:"^5.1.7",uuid:"^11.1.0","vscode-languageclient":"^9.0.0","vscode-languageserver":"^9.0.0","vscode-languageserver-protocol":"^3.17","vscode-languageserver-textdocument":"~1.0.11","vscode-uri":"^3.1.0","web-tree-sitter":"^0.20.8","windows-ca-certs":"^0.1.0",yargs:"^17.7.2"},Xst={fsevents:"<0",bindings:"npm:bundled-bindings@^1.5.0"},eat={name:Sst,displayName:kst,description:Rst,version:Bst,build:Dst,buildType:Pst,publisher:Fst,preview:Nst,homepage:Lst,license:Qst,bugs:Mst,qna:Ost,icon:Ust,pricing:qst,extensionPack:Wst,engines:Gst,categories:Hst,keywords:jst,badges:Vst,activationEvents:$st,main:zst,enabledApiProposals:Yst,contributes:YZ,scripts:Kst,devDependencies:Jst,dependencies:Zst,overrides:Xst};var St={Enable:"enable",UserSelectedCompletionModel:"selectedCompletionModel",ShowEditorCompletions:"editor.showEditorCompletions",EnableAutoCompletions:"editor.enableAutoCompletions",DelayCompletions:"editor.delayCompletions",FilterCompletions:"editor.filterCompletions",FetchStrategy:"fetchStrategy",RelatedFilesVSCodeCSharp:"advanced.relatedFilesVSCodeCSharp",RelatedFilesVSCodeTypeScript:"advanced.relatedFilesVSCodeTypeScript",RelatedFilesVSCode:"advanced.relatedFilesVSCode",ExcludeOpenTabFilesCSharp:"advanced.excludeOpenTabFilesCSharp",ExcludeOpenTabFilesCpp:"advanced.excludeOpenTabFilesCpp",ExcludeOpenTabFilesTypeScript:"advanced.excludeOpenTabFilesTypeScript",FallbackToOpenTabFilesWithNoRelatedFiles:"advanced.fallbackToOpenTabFilesWithNoRelatedFiles",ContextProviders:"advanced.contextProviders",DebugOverrideLogLevels:"advanced.debug.overrideLogLevels",DebugFilterLogCategories:"advanced.debug.filterLogCategories",DebugSnippyOverrideUrl:"advanced.debug.codeRefOverrideUrl",DebugUseElectronFetcher:"advanced.debug.useElectronFetcher",DebugUseEditorFetcher:"advanced.debug.useEditorFetcher",UseSubsetMatching:"advanced.useSubsetMatching",EnablePromptComponents:"advanced.enablePromptComponents",ContextProviderTimeBudget:"advanced.contextProviderTimeBudget",DebugOverrideCapiUrl:"internal.capiUrl",DebugOverrideCapiUrlLegacy:"advanced.debug.overrideCapiUrl",DebugTestOverrideCapiUrl:"internal.capiTestUrl",DebugTestOverrideCapiUrlLegacy:"advanced.debug.testOverrideCapiUrl",DebugOverrideProxyUrl:"internal.completionsUrl",DebugOverrideProxyUrlLegacy:"advanced.debug.overrideProxyUrl",DebugTestOverrideProxyUrl:"internal.completionsTestUrl",DebugTestOverrideProxyUrlLegacy:"advanced.debug.testOverrideProxyUrl",DebugOverrideEngine:"internal.completionModel",DebugOverrideEngineLegacy:"advanced.debug.overrideEngine",UseAsyncCompletions:"internal.useAsyncCompletions",EnableSpeculativeRequests:"internal.enableSpeculativeRequests",EnablePrefixCache:"internal.enablePrefixCache",AlwaysRequestMultiline:"internal.alwaysRequestMultiline",TrimCompletionsAggressively:"internal.trimCompletionsAggressively",VSCodeDebounceThreshold:"internal.vscodeDebounceThreshold",RecentEditsInPrompt:"internal.recentEditsInPrompt",RecentEditsEditCount:"internal.recentEditsEditCount",RecentEditsMaxFiles:"internal.recentEditsMaxFiles",RecentEditsContextLines:"internal.recentEditsContextLines",RecentEditsRemoveDeletedLines:"internal.recentEditsRemoveDeletedLines",InsertionsBeforeDeletions:"internal.recentEditsInsertionsBeforeDeletions",RecentEditsAppendNoReplyMarker:"internal.recentEditsAppendNoReplyMarker",RecentEditsMaxLinesBetweenEdits:"internal.recentEditsMaxLinesBetweenEdits",RecentEditsActiveDocDistanceLimitFromCursor:"internal.recentEditsActiveDocDistanceLimitFromCursor",RecentEditsSummarizationFormat:"internal.recentEditsSummarizationFormat",IncludeNeighboringFiles:"internal.includeNeighboringFiles",DebugOverrideCppHeadersShutdownSwitch:"internal.cppHeadersShutdownSwitch",MultilineAfterAccept:"internal.multilineAfterAccept"};function A3e(e){return["server","parsingandserver"].includes(e)}o(A3e,"shouldDoServerTrimming");var Vm=class{static{o(this,"BlockModeConfig")}},CI=class extends Vm{static{o(this,"ConfigBlockModeConfig")}forLanguage(t,r,n){let i=t.get(Cr).overrideBlockMode(n);if(i)return p3e(i,r);let s=t.get(Cr).enableProgressiveReveal(n);return qn(t,St.AlwaysRequestMultiline)??s?p3e("moremultiline",r):r=="ruby"?"parsing":Ju(r)?"parsingandserver":"server"}};function tat(e){return["parsing","parsingandserver","moremultiline"].includes(e)}o(tat,"blockModeRequiresTreeSitter");function p3e(e,t){return tat(e)&&!Ju(t)?"server":e}o(p3e,"toApplicableBlockMode");var Mp=class{static{o(this,"ConfigProvider")}},xI=class extends Mp{static{o(this,"DefaultsOnlyConfigProvider")}getConfig(t){return nat(t)}getOptionalConfig(t){return iat(t)}dumpForTelemetry(){return{}}},E4=class extends Mp{constructor(r,n){super();this.baseConfigProvider=r;this.overrides=n}static{o(this,"InMemoryConfigProvider")}getOptionalOverride(r){return this.overrides.get(r)}getConfig(r){return this.getOptionalOverride(r)??this.baseConfigProvider.getConfig(r)}getOptionalConfig(r){return this.getOptionalOverride(r)??this.baseConfigProvider.getOptionalConfig(r)}setConfig(r,n){n!==void 0?this.overrides.set(r,n):this.overrides.delete(r)}dumpForTelemetry(){let r=this.baseConfigProvider.dumpForTelemetry();for(let n of[St.ShowEditorCompletions,St.EnableAutoCompletions,St.DelayCompletions,St.FilterCompletions]){let i=this.overrides.get(n);i!==void 0&&(r[n]=JSON.stringify(i))}return r}};function rat(e){return e?.type==="object"&&"properties"in e}o(rat,"isContributesObject");function y3e(e,t){let r=e,n=[];for(let i of t.split(".")){let s=[...n,i].join(".");r&&typeof r=="object"&&s in r?(r=r[s],n.length=0):n.push(i)}if(!(r===void 0||n.length>0))return r}o(y3e,"getConfigKeyRecursively");function nat(e){if(yI.has(e))return yI.get(e);throw new Error(`Missing config default value: ${PT}.${e}`)}o(nat,"getConfigDefaultForKey");function iat(e){return yI.get(e)}o(iat,"getOptionalConfigDefaultForKey");var yI=new Map([[St.DebugOverrideCppHeadersShutdownSwitch,!1],[St.RelatedFilesVSCodeCSharp,!1],[St.RelatedFilesVSCodeTypeScript,!1],[St.RelatedFilesVSCode,!1],[St.ExcludeOpenTabFilesCSharp,!1],[St.ExcludeOpenTabFilesCpp,!1],[St.ExcludeOpenTabFilesTypeScript,!1],[St.FallbackToOpenTabFilesWithNoRelatedFiles,!1],[St.IncludeNeighboringFiles,!1],[St.ContextProviders,[]],[St.DebugUseEditorFetcher,null],[St.DebugUseElectronFetcher,null],[St.DebugOverrideLogLevels,{}],[St.DebugSnippyOverrideUrl,""],[St.FetchStrategy,"auto"],[St.UseSubsetMatching,null],[St.EnablePromptComponents,!1],[St.ContextProviderTimeBudget,150],[St.DebugOverrideCapiUrl,""],[St.DebugTestOverrideCapiUrl,""],[St.DebugOverrideProxyUrl,""],[St.DebugTestOverrideProxyUrl,""],[St.DebugOverrideEngine,""],[St.UseAsyncCompletions,void 0],[St.EnableSpeculativeRequests,void 0],[St.EnablePrefixCache,void 0],[St.AlwaysRequestMultiline,void 0],[St.TrimCompletionsAggressively,void 0],[St.VSCodeDebounceThreshold,void 0],[St.RecentEditsInPrompt,void 0],[St.RecentEditsEditCount,void 0],[St.RecentEditsMaxFiles,void 0],[St.RecentEditsContextLines,void 0],[St.RecentEditsRemoveDeletedLines,void 0],[St.InsertionsBeforeDeletions,void 0],[St.RecentEditsAppendNoReplyMarker,void 0],[St.RecentEditsMaxLinesBetweenEdits,void 0],[St.RecentEditsActiveDocDistanceLimitFromCursor,void 0],[St.RecentEditsSummarizationFormat,void 0],[St.MultilineAfterAccept,void 0],[St.ShowEditorCompletions,void 0],[St.DelayCompletions,void 0],[St.FilterCompletions,void 0]]);for(let e of Object.values(St)){let t=YZ.configuration[0],r=[],n=`${PT}.${e}`.split(".");for(;n.length>0;){r.push(n.shift());let i=t.properties[r.join(".")];if(rat(i))r.length=0,t=i;else if(n.length==0&&i?.default!==void 0){if(yI.has(e))throw new Error(`Duplicate config default value ${PT}.${e}`);yI.set(e,i.default)}}if(!yI.has(e))throw new Error(`Missing config default value ${PT}.${e}`)}function qn(e,t){return e.get(Mp).getConfig(t)}o(qn,"getConfig");function I5e(e){return e.get(Mp).dumpForTelemetry()}o(I5e,"dumpForTelemetry");var Eo=class{constructor(){this.packageJson=zZ}static{o(this,"BuildInfo")}isPreRelease(){return this.getBuildType()==="nightly"}isProduction(){return this.getBuildType()!=="dev"}getBuildType(){return this.packageJson.buildType}getVersion(){return this.packageJson.version}getDisplayVersion(){return this.getBuildType()==="dev"?`${this.getVersion()}-dev`:this.getVersion()}getBuild(){return this.packageJson.build}getName(){return this.packageJson.name}};function zF(e){return e.get(Eo).isProduction()}o(zF,"isProduction");function ud(e){return e.get(Eo).getBuildType()}o(ud,"getBuildType");function T5e(e){return e.get(Eo).getBuild()}o(T5e,"getBuild");function h4(e){return e.get(Eo).getVersion()}o(h4,"getVersion");var _s=class{constructor(t,r,n="none",i="desktop"){this.sessionId=t;this.machineId=r;this.remoteName=n;this.uiKind=i}static{o(this,"EditorSession")}};function Bp({name:e,version:t}){return`${e}/${t}`}o(Bp,"formatNameAndVersion");var dn=class{static{o(this,"EditorAndPluginInfo")}getCopilotIntegrationId(){}},dZ="2025-05-01";function Ic(e){let t=e.get(dn);return{"X-GitHub-Api-Version":dZ,"Editor-Version":Bp(t.getEditorInfo()),"Editor-Plugin-Version":Bp(t.getEditorPluginInfo()),"Copilot-Language-Server-Version":h4(e)}}o(Ic,"editorVersionHeaders");var g3e="Iv1.b507a08c87ecfe98",ea=class{static{o(this,"GitHubAppInfo")}findAppIdToAuthenticate(){return this.githubAppId??g3e}fallbackAppId(){return g3e}};d();d();d();var I4={abap:{extensions:[".abap"]},aspdotnet:{extensions:[".asax",".ascx",".ashx",".asmx",".aspx",".axd"]},bat:{extensions:[".bat",".cmd"]},bibtex:{extensions:[".bib",".bibtex"]},blade:{extensions:[".blade",".blade.php"]},BluespecSystemVerilog:{extensions:[".bsv"]},c:{extensions:[".c",".cats",".h",".h.in",".idc"]},csharp:{extensions:[".cake",".cs",".cs.pp",".csx",".linq"]},cpp:{extensions:[".c++",".cc",".cp",".cpp",".cppm",".cxx",".h",".h++",".hh",".hpp",".hxx",".idl",".inc",".inl",".ino",".ipp",".ixx",".rc",".re",".tcc",".tpp",".txx",".i"]},cobol:{extensions:[".cbl",".ccp",".cob",".cobol",".cpy"]},css:{extensions:[".css",".wxss"]},clojure:{extensions:[".bb",".boot",".cl2",".clj",".cljc",".cljs",".cljs.hl",".cljscm",".cljx",".edn",".hic"],filenames:["riemann.config"]},ql:{extensions:[".ql",".qll"]},coffeescript:{extensions:["._coffee",".cake",".cjsx",".coffee",".iced"],filenames:["Cakefile"]},cuda:{extensions:[".cu",".cuh"]},dart:{extensions:[".dart"]},dockerfile:{extensions:[".containerfile",".dockerfile"],filenames:["Containerfile","Dockerfile"]},dotenv:{extensions:[".env"],filenames:[".env",".env.ci",".env.dev",".env.development",".env.development.local",".env.example",".env.local",".env.prod",".env.production",".env.sample",".env.staging",".env.test",".env.testing"]},html:{extensions:[".ect",".ejs",".ejs.t",".jst",".hta",".htm",".html",".html.hl",".html5",".inc",".jsp",".njk",".tpl",".twig",".wxml",".xht",".xhtml",".phtml",".liquid"]},elixir:{extensions:[".ex",".exs"],filenames:["mix.lock"]},erlang:{extensions:[".app",".app.src",".erl",".es",".escript",".hrl",".xrl",".yrl"],filenames:["Emakefile","rebar.config","rebar.config.lock","rebar.lock"]},fsharp:{extensions:[".fs",".fsi",".fsx"]},go:{extensions:[".go"]},groovy:{extensions:[".gradle",".groovy",".grt",".gtpl",".gvy",".jenkinsfile"],filenames:["Jenkinsfile","Jenkinsfile"]},graphql:{extensions:[".gql",".graphql",".graphqls"]},terraform:{extensions:[".hcl",".nomad",".tf",".tfvars",".workflow"]},hlsl:{extensions:[".cginc",".fx",".fxh",".hlsl",".hlsli"]},erb:{extensions:[".erb",".erb.deface",".rhtml"]},razor:{extensions:[".cshtml",".razor"]},haml:{extensions:[".haml",".haml.deface"]},handlebars:{extensions:[".handlebars",".hbs"]},haskell:{extensions:[".hs",".hs-boot",".hsc"]},ini:{extensions:[".cfg",".cnf",".dof",".ini",".lektorproject",".prefs",".pro",".properties",".url"],filenames:[".buckconfig",".coveragerc",".flake8",".pylintrc","HOSTS","buildozer.spec","hosts","pylintrc","vlcrc"]},json:{extensions:[".4DForm",".4DProject",".JSON-tmLanguage",".avsc",".geojson",".gltf",".har",".ice",".json",".json.example",".jsonl",".mcmeta",".sarif",".tact",".tfstate",".tfstate.backup",".topojson",".webapp",".webmanifest",".yy",".yyp"],filenames:[".all-contributorsrc",".arcconfig",".auto-changelog",".c8rc",".htmlhintrc",".imgbotconfig",".nycrc",".tern-config",".tern-project",".watchmanconfig","MODULE.bazel.lock","Package.resolved","Pipfile.lock","bun.lock","composer.lock","deno.lock","flake.lock","mcmod.info"]},jsonc:{extensions:[".code-snippets",".code-workspace",".jsonc",".sublime-build",".sublime-color-scheme",".sublime-commands",".sublime-completions",".sublime-keymap",".sublime-macro",".sublime-menu",".sublime-mousemap",".sublime-project",".sublime-settings",".sublime-theme",".sublime-workspace",".sublime_metrics",".sublime_session"],filenames:[".babelrc",".devcontainer.json",".eslintrc.json",".jscsrc",".jshintrc",".jslintrc",".swcrc","api-extractor.json","argv.json","devcontainer.json","extensions.json","jsconfig.json","keybindings.json","language-configuration.json","launch.json","profiles.json","settings.json","tasks.json","tsconfig.json","tslint.json"]},java:{extensions:[".jav",".java",".jsh"]},javascript:{extensions:["._js",".bones",".cjs",".es",".es6",".frag",".gs",".jake",".javascript",".js",".jsb",".jscad",".jsfl",".jslib",".jsm",".jspre",".jss",".mjs",".njs",".pac",".sjs",".ssjs",".xsjs",".xsjslib"],filenames:["Jakefile"]},julia:{extensions:[".jl"]},kotlin:{extensions:[".kt",".ktm",".kts"]},less:{extensions:[".less"]},lua:{extensions:[".fcgi",".lua",".luau",".nse",".p8",".pd_lua",".rbxs",".rockspec",".wlua"],filenames:[".luacheckrc"]},makefile:{extensions:[".d",".mak",".make",".makefile",".mk",".mkfile"],filenames:["BSDmakefile","GNUmakefile","Kbuild","Makefile","Makefile.am","Makefile.boot","Makefile.frag","Makefile.in","Makefile.inc","Makefile.wat","makefile","makefile.sco","mkfile"]},markdown:{extensions:[".livemd",".markdown",".md",".mdown",".mdwn",".mdx",".mkd",".mkdn",".mkdown",".ronn",".scd",".workbook"],filenames:["contents.lr"]},"objective-c":{extensions:[".h",".m"]},"objective-cpp":{extensions:[".mm"]},php:{extensions:[".aw",".ctp",".fcgi",".inc",".install",".module",".php",".php3",".php4",".php5",".phps",".phpt",".theme"],filenames:[".php",".php_cs",".php_cs.dist","Phakefile"]},perl:{extensions:[".al",".cgi",".fcgi",".perl",".ph",".pl",".plx",".pm",".psgi",".t"],filenames:[".latexmkrc","Makefile.PL","Rexfile","ack","cpanfile","latexmkrc"]},powershell:{extensions:[".ps1",".psd1",".psm1"]},pug:{extensions:[".jade",".pug"]},python:{extensions:[".cgi",".codon",".fcgi",".gyp",".gypi",".lmi",".py",".py3",".pyde",".pyi",".pyp",".pyt",".pyw",".rpy",".sage",".spec",".tac",".wsgi",".xpy"],filenames:[".gclient","DEPS","SConscript","SConstruct","wscript"]},r:{extensions:[".r",".rd",".rsx"],filenames:[".Rprofile","expr-dist"]},ruby:{extensions:[".builder",".eye",".fcgi",".gemspec",".god",".jbuilder",".mspec",".pluginspec",".podspec",".prawn",".rabl",".rake",".rb",".rbi",".rbuild",".rbw",".rbx",".ru",".ruby",".spec",".thor",".watchr"],filenames:[".irbrc",".pryrc",".simplecov","Appraisals","Berksfile","Brewfile","Buildfile","Capfile","Dangerfile","Deliverfile","Fastfile","Gemfile","Guardfile","Jarfile","Mavenfile","Podfile","Puppetfile","Rakefile","Snapfile","Steepfile","Thorfile","Vagrantfile","buildfile"]},rust:{extensions:[".rs",".rs.in"]},scss:{extensions:[".scss"]},sql:{extensions:[".cql",".ddl",".inc",".mysql",".prc",".sql",".tab",".udf",".viw"]},sass:{extensions:[".sass"]},scala:{extensions:[".kojo",".sbt",".sc",".scala"]},shellscript:{extensions:[".bash",".bats",".cgi",".command",".fcgi",".fish",".ksh",".sh",".sh.in",".tmux",".tool",".trigger",".zsh",".zsh-theme"],filenames:[".bash_aliases",".bash_functions",".bash_history",".bash_logout",".bash_profile",".bashrc",".cshrc",".envrc",".flaskenv",".kshrc",".login",".profile",".tmux.conf",".zlogin",".zlogout",".zprofile",".zshenv",".zshrc","9fs","PKGBUILD","bash_aliases","bash_logout","bash_profile","bashrc","cshrc","gradlew","kshrc","login","man","profile","tmux.conf","zlogin","zlogout","zprofile","zshenv","zshrc"]},slang:{extensions:[".fxc",".hlsl",".s",".slang",".slangh",".usf",".ush",".vfx"]},slim:{extensions:[".slim"]},solidity:{extensions:[".sol"]},stylus:{extensions:[".styl"]},svelte:{extensions:[".svelte"]},swift:{extensions:[".swift"]},systemverilog:{extensions:[".sv",".svh",".vh"]},typescriptreact:{extensions:[".tsx"]},latex:{extensions:[".aux",".bbx",".cbx",".cls",".dtx",".ins",".lbx",".ltx",".mkii",".mkiv",".mkvi",".sty",".tex",".toc"]},typescript:{extensions:[".cts",".mts",".ts"]},verilog:{extensions:[".v",".veo"]},vim:{extensions:[".vba",".vim",".vimrc",".vmb"],filenames:[".exrc",".gvimrc",".nvimrc",".vimrc","_vimrc","gvimrc","nvimrc","vimrc"]},vb:{extensions:[".vb",".vbhtml",".Dsr",".bas",".cls",".ctl",".frm",".vbs"]},vue:{extensions:[".nvue",".vue"]},xml:{extensions:[".adml",".admx",".ant",".axaml",".axml",".builds",".ccproj",".ccxml",".clixml",".cproject",".cscfg",".csdef",".csl",".csproj",".ct",".depproj",".dita",".ditamap",".ditaval",".dll.config",".dotsettings",".filters",".fsproj",".fxml",".glade",".gml",".gmx",".gpx",".grxml",".gst",".hzp",".iml",".ivy",".jelly",".jsproj",".kml",".launch",".mdpolicy",".mjml",".mod",".mojo",".mxml",".natvis",".ncl",".ndproj",".nproj",".nuspec",".odd",".osm",".pkgproj",".plist",".pluginspec",".proj",".props",".ps1xml",".psc1",".pt",".pubxml",".qhelp",".rdf",".res",".resx",".rss",".sch",".scxml",".sfproj",".shproj",".srdf",".storyboard",".sublime-snippet",".svg",".sw",".targets",".tml",".typ",".ui",".urdf",".ux",".vbproj",".vcxproj",".vsixmanifest",".vssettings",".vstemplate",".vxml",".wixproj",".workflow",".wsdl",".wsf",".wxi",".wxl",".wxs",".x3d",".xacro",".xaml",".xib",".xlf",".xliff",".xmi",".xml",".xml.dist",".xmp",".xproj",".xsd",".xspec",".xul",".zcml"],filenames:[".classpath",".cproject",".project","App.config","NuGet.config","Settings.StyleCop","Web.Debug.config","Web.Release.config","Web.config","packages.config"]},xsl:{extensions:[".xsl",".xslt"]},yaml:{extensions:[".mir",".reek",".rviz",".sublime-syntax",".syntax",".yaml",".yaml-tmlanguage",".yaml.sed",".yml",".yml.mysql"],filenames:[".clang-format",".clang-tidy",".clangd",".gemrc","CITATION.cff","glide.lock","pixi.lock","yarn.lock"]},javascriptreact:{extensions:[".jsx"]},legend:{extensions:[".pure"]}};d();d();var C3e=[".ejs",".erb",".haml",".hbs",".j2",".jinja",".jinja2",".liquid",".mustache",".njk",".php",".pug",".slim",".webc"],x3e={".php":[".blade"]},Rw=Object.keys(I4).flatMap(e=>I4[e].extensions);var KZ=et(require("node:path"));var bI=class{constructor(t,r,n){this.languageId=t;this.isGuess=r;this.fileExtension=n}static{o(this,"Language")}},Bw=class{static{o(this,"LanguageDetection")}},JZ=new Map,vI=new Map;for(let[e,{extensions:t,filenames:r}]of Object.entries(I4)){for(let n of t)JZ.set(n,[...JZ.get(n)??[],e]);for(let n of r??[])vI.set(n,[...vI.get(n)??[],e])}var ZZ=class extends Bw{static{o(this,"FilenameAndExensionLanguageDetection")}detectLanguage(t){let r=Di(t.uri),n=KZ.extname(r).toLowerCase(),i=this.extensionWithoutTemplateLanguage(r,n),s=this.detectLanguageId(r,i),a=this.computeFullyQualifiedExtension(n,i);return s?new bI(s.languageId,s.isGuess,a):new bI(t.languageId,!0,a)}extensionWithoutTemplateLanguage(t,r){if(C3e.includes(r)){let n=t.substring(0,t.lastIndexOf(".")),i=KZ.extname(n).toLowerCase();if(i.length>0&&Rw.includes(i)&&this.isExtensionValidForTemplateLanguage(r,i))return i}return r}isExtensionValidForTemplateLanguage(t,r){let n=x3e[t];return!n||n.includes(r)}detectLanguageId(t,r){if(vI.has(t))return{languageId:vI.get(t)[0],isGuess:!1};let n=JZ.get(r)??[];if(n.length>0)return{languageId:n[0],isGuess:n.length>1};for(;t.includes(".");)if(t=t.replace(/\.[^.]*$/,""),vI.has(t))return{languageId:vI.get(t)[0],isGuess:!1}}computeFullyQualifiedExtension(t,r){return t!==r?r+t:t}},XZ=class extends Bw{constructor(r){super();this.delegate=r}static{o(this,"GroupingLanguageDetection")}detectLanguage(r){let n=this.delegate.detectLanguage(r),i=n.languageId;return i==="c"||i==="cpp"?new bI("cpp",n.isGuess,n.fileExtension):n}},eX=class extends Bw{constructor(r){super();this.delegate=r}static{o(this,"ClientProvidedLanguageDetection")}detectLanguage(r){return r.uri.startsWith("untitled:")||r.uri.startsWith("vscode-notebook-cell:")?new bI(r.languageId,!0,""):this.delegate.detectLanguage(r)}},oat=new XZ(new eX(new ZZ));function EI({uri:e,languageId:t}){let r=oat.detectLanguage({uri:e,languageId:"UNKNOWN"});return r.languageId==="UNKNOWN"?t:r.languageId}o(EI,"detectLanguage");d();d();d();d();function G1(e){if(e.isCancellationRequested)throw new GN}o(G1,"throwIfCancellationRequested");function Dw(e){return e instanceof GN?!0:e instanceof Error&&e.name===tX&&e.message===tX}o(Dw,"isCancellationError");var GN=class extends Error{static{o(this,"CancellationError")}constructor(){super(tX),this.name=this.message}},tX="Canceled",HN=class{constructor(){this.items=[]}static{o(this,"Stack")}push(t){this.items.push(t)}pop(){return this.items.pop()}peek(){return this.items[this.items.length-1]}tryPeek(){return this.items.length>0}toArray(){return this.items}};function T4(e){switch(e){case 0:case 2:case 7:case 8:case 11:case 12:case 13:case 14:return!0;default:return!1}}o(T4,"isTypeDefinition");var hd=class e{static{o(this,"TextRange")}static{this.empty=new e(0,0)}constructor(t,r){this.start=t,this.length=r}static fromBounds(t,r){return new e(t,r-t)}get end(){return this.start+this.length}contains(t){return this.start<=t&&this.end>=t}containsRange(t){return this.start<=t.start&&this.end>=t.end}equals(t){return this.start===t.start&&this.length===t.length}getText(t){return t.slice(this.start,this.end)}getTextWithIndentation(t,r){let n=[],i=this.start;for(i=b3e(t,t.length,i),v3e(n,r);i<this.end;)t[i]!=="\r"&&t[i]!==`
`?n.push(t[i++]):t[i]==="\r"&&i<t.length&&t[i+1]!==`
`||t[i]===`
`?(n.push(`
`),i=b3e(t,t.length,++i),v3e(n,r)):i++;return n.join("")}};function v3e(e,t){for(let r=0;r<t;r++)e.push(" ")}o(v3e,"appendIndent");function b3e(e,t,r){for(;r<t&&(e[r]===" "||e[r]==="	");)r++;return r}o(b3e,"consumeIndent");var II=class{constructor(t,r,n,i,s,a,l,c,u){this.fileName=t;this.fullyQualifiedName=r;this.unqualifiedName=n;this.commentRange=i;this.nameRange=s;this.bodyRange=a;this.extentRange=l;this.kind=c;this.refKind=u;if(t.indexOf("\\")!==-1)throw new Error("fileName must be normalized to use forward slashes as path separators")}static{o(this,"SymbolRange")}equals(t){return this.fileName===t.fileName&&this.fullyQualifiedName===t.fullyQualifiedName&&this.unqualifiedName===t.unqualifiedName&&this.commentRange.equals(t.commentRange)&&this.nameRange.equals(t.nameRange)&&this.bodyRange.equals(t.bodyRange)&&this.extentRange.equals(t.extentRange)&&this.kind===t.kind&&this.refKind===t.refKind}},$m=class e{constructor(){this.queriesCache=new Map}static{o(this,"SymbolExtractorBase")}async executeQuery(t,r,n){let i;try{i=await W1(this.languageId,r);let s=i.getLanguage(),l=this.getOrCreateQuery(s,n).matches(i.rootNode),c=new HN,u=[];for(let f of l){let m=this.createSymbolRange(c,t,r,f.captures);m&&u.push(m)}return u}finally{i?.delete()}}getOrCreateQuery(t,r){let n=this.queriesCache.get(r);return n||(n=t.query(r),this.queriesCache.set(r,n)),n}createSymbolRange(t,r,n,i){let s=0,a=0,l=0,c=0,u=0,f=0,m=0,h=0,p=null,g=null;for(let E=0;E<i.length;E++){let b=i[E].name;b==="name"?(u=i[E].node.startIndex,f=i[E].node.endIndex):b==="reference"?(u=i[E].node.startIndex,f=i[E].node.endIndex,l=i[E].node.startIndex,c=i[E].node.endIndex,p=b):b==="body"?(m=i[E].node.startIndex,h=i[E].node.endIndex):b==="comment"?(s=s===0?i[E].node.startIndex:Math.min(s,i[E].node.startIndex),a=Math.max(a,i[E].node.endIndex)):b==="receiver"?g=hd.fromBounds(i[E].node.startIndex,i[E].node.endIndex).getText(n):(l=i[E].node.startIndex,c=i[E].node.endIndex,p=b)}p==="definition.module.filescoped"&&(h=n.length,c=h);let x=hd.fromBounds(l,c),v=l>0||c>0||u>0||f>0?new II(r,"","",hd.fromBounds(s,a),hd.fromBounds(u,f),hd.fromBounds(m,h),x,e.kindFromString(p),0):null;if(v){e.updateScopesForSymbol(t,v);let E=v.nameRange.getText(n),b=this.createNameFromScopes(n,t.toArray());return b=g?`${g}.${b}`:b,new II(r,b,E.substring(E.lastIndexOf(".")+1),v.commentRange,v.nameRange,v.bodyRange,v.extentRange,v.kind,0)}return null}static updateScopesForSymbol(t,r){for(;t.tryPeek()&&!t.peek()?.extentRange.containsRange(r.extentRange);)t.pop();t.push(r)}static kindFromString(t){switch(t){case"definition.class":return 0;case"definition.constant":return 1;case"definition.enum_variant":return 3;case"definition.enum":return 2;case"definition.field":return 4;case"definition.function":return 5;case"definition.implementation":return 6;case"definition.interface":return 7;case"definition.macro":return 8;case"definition.method":return 9;case"definition.module":case"definition.module.filescoped":return 10;case"definition.struct":return 11;case"definition.trait":return 12;case"definition.type":return 13;case"definition.union":return 14;case"reference":return 16;default:throw new Error("NotSupportedException")}}};var jN=class extends $m{static{o(this,"GoSymbolExtractor")}get languageId(){return"go"}extractSymbols(t,r){return this.executeQuery(t,r,sat)}createNameFromScopes(t,r){return r.map(n=>n.nameRange.getText(t)).join(".")}},VN=class extends $m{static{o(this,"GoReferenceExtractor")}get languageId(){return"go"}createNameFromScopes(t,r){return r.length>0?r[r.length-1].nameRange.getText(t):""}extractReferences(t,r){return this.executeQuery(t,r,aat)}async extractLocalReferences(t,r,n){let i=await this.executeQuery(t,r,lat),s=i.filter(c=>c.kind!==9),a=i.filter(c=>c.kind===9&&c.extentRange.containsRange(n)),l=[];for(let c of a)l.push(...s.filter(u=>c.extentRange.containsRange(u.extentRange)));return l}},sat=`
(
    ((comment)* @comment)
    .
    (type_declaration (type_spec name: (_) @name type: (struct_type (field_declaration_list) @body))) @definition.struct
)

(
    ((comment)* @comment)
    .
    (type_declaration (type_spec name: (_) @name type: (interface_type (_)) @body)) @definition.interface
)

(
    ((comment)* @comment)
    .
    (method_declaration receiver: (parameter_list (parameter_declaration type: [(type_identifier) @receiver (pointer_type (type_identifier) @receiver)] )) name: (_) @name body: (_) @body) @definition.method
)

(
    ((comment)* @comment)
    .
    (method_elem name: (_) @name) @definition.method
)

(
    ((comment)* @comment)
    .
    (function_declaration name: (_) @name) @definition.method
)

(
    ((comment)* @comment)
    .
    (field_declaration name: (_) @name) @definition.field
)
`,aat=`
(call_expression function: (_) @name) @reference

(type_identifier) @reference
`,lat=`
(call_expression function: (_) @name) @reference

(type_identifier) @reference
`;d();var $N=class extends $m{static{o(this,"JavaSymbolExtractor")}get languageId(){return"java"}extractSymbols(t,r){return this.executeQuery(t,r,cat)}createNameFromScopes(t,r){return r.map(n=>n.nameRange.getText(t)).join(".")}},zN=class extends $m{static{o(this,"JavaReferenceExtractor")}get languageId(){return"java"}createNameFromScopes(t,r){return r.length>0?r[r.length-1].nameRange.getText(t):""}extractReferences(t,r){return this.executeQuery(t,r,uat)}async extractLocalReferences(t,r,n){let i=await this.executeQuery(t,r,fat),s=i.filter(c=>c.kind!==9),a=i.filter(c=>c.kind===9&&c.extentRange.containsRange(n)),l=[];for(let c of a)l.push(...s.filter(u=>c.extentRange.containsRange(u.extentRange)));return l}},cat=`
(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (class_declaration name: (identifier) @name body: (class_body) @body) @definition.class
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (constructor_declaration name: (identifier) @name body: (constructor_body) @body) @definition.method
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (method_declaration name: (identifier) @name body: (block)? @body) @definition.method
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (interface_declaration name: (identifier) @name body: (interface_body) @body) @definition.interface
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (field_declaration declarator: (variable_declarator name: (identifier) @name)) @definition.field
)

(
    [
        ((line_comment)* @comment)
        ((block_comment)* @comment)
    ]
    .
    (enum_declaration name: (_) @name body: (_) @body) @definition.enum
)

(
    [
        ((line_comment)* @comment)
        ((block_comment)* @comment)
    ]
    .
    (enum_constant name: (identifier) @name) @definition.enum_variant
)
`,uat=`
(method_invocation 
  name: (identifier) @name
) @reference

(type_identifier) @reference
`,fat=`
(method_invocation 
  name: (identifier) @name
) @reference

(type_identifier) @reference
`;d();var dat=new Set(["int","str","float","bool","list","dict","tuple","set"]),YN=class extends $m{static{o(this,"PythonSymbolExtractor")}get languageId(){return"python"}extractSymbols(t,r){return this.executeQuery(t,r,mat)}createNameFromScopes(t,r){return r.map(n=>n.nameRange.getText(t)).join(".")}},KN=class extends $m{static{o(this,"PythonReferenceExtractor")}get languageId(){return"python"}createNameFromScopes(t,r){return r.length>0?r[r.length-1].nameRange.getText(t):""}async extractReferences(t,r){return(await this.executeQuery(t,r,hat)).filter(i=>!dat.has(i.unqualifiedName))}async extractLocalReferences(t,r,n){let i=await this.executeQuery(t,r,pat),s=i.filter(c=>c.kind!==9),a=i.filter(c=>c.kind===9&&c.extentRange.containsRange(n)),l=[];for(let c of a)l.push(...s.filter(u=>c.extentRange.containsRange(u.extentRange)));return l}},mat=`
(
    ((comment)* @comment)
    .
    (class_definition name: (_) @name body: (_) @body) @definition.class
)

(
    ((comment)* @comment)
    .
    (function_definition name: (_) @name body: (_) @body) @definition.method
)
`,hat=`
(call function: (_) @name) @reference

(type [  
    (identifier)* @name  
    (_ (identifier) @name)* 
]) @reference

(class_definition superclasses: (argument_list (identifier) @name)) @reference
`,pat=`
(call function: (_) @name) @reference

(type [  
    (identifier)* @name  
    (_ (identifier) @name)* 
])  @reference

(class_definition superclasses: (argument_list (identifier) @name)) @reference
`;var JN=[{symbolExtractor:new $N,referenceExtractor:new zN,languageId:"java"},{symbolExtractor:new jN,referenceExtractor:new VN,languageId:"go"},{symbolExtractor:new YN,referenceExtractor:new KN,languageId:"python"}];function I3e(e){let t=EI({uri:e});if(t&&JN.some(r=>t===r.languageId))return t}o(I3e,"getSupportedLanguageIdForFallbackProvider");var T3e=JN.map(e=>e.referenceExtractor),ZN=JN.map(e=>e.symbolExtractor),rX=JN.map(e=>I4[e.languageId].extensions).flat();d();d();d();d();d();d();d();d();var gat={package:/^package /,import:/^import /,class:/\bclass /,interface:/\binterface /,javadoc:/^\/\*\*/,comment_multi:/^\/\*[^*]/,comment_single:/^\/\//,annotation:/^@/,opener:/^[[({]/,closer:/^[\])}]/},Aat=Tw(gat);function w3e(e){let t=e;return Iw(t,Aat),t=UZ(t),t=b4(t),FN(t),Pc(t,r=>{if(r.label==="class"||r.label==="interface")for(let n of r.subs)!ic(n)&&(n.label===void 0||n.label==="annotation")&&(n.label="member")},"bottomUp"),t}o(w3e,"processJava");d();var yat={heading:/^# /,subheading:/^## /,subsubheading:/### /},Cat=Tw(yat);function _3e(e){let t=e;if(Iw(t,Cat),ic(t))return t;function r(s){if(s.label==="heading")return 1;if(s.label==="subheading")return 2;if(s.label==="subsubheading")return 3}o(r,"headingLevel");let n=[t],i=[...t.subs];t.subs=[];for(let s of i){let a=r(s);if(a===void 0||ic(s))n[n.length-1].subs.push(s);else{for(;n.length<a;)n.push(n[n.length-1]);for(n[a-1].subs.push(s),n[a]=s;n.length>a+1;)n.pop()}}return t=l3e(t),t=b4(t),FN(t),t}o(_3e,"processMarkdown");d();function S3e(e){return" ".repeat(e.indentation)+e.sourceLine+`
`}o(S3e,"deparseLine");qZ("markdown",_3e);qZ("java",w3e);var xat={worthUp:.9,worthSibling:.88,worthDown:.8};function nX(e,t,r=go(),n=xat){let i=v4(e,s=>s?1:void 0);return Pc(i,s=>{if(ic(s))return;let a=s.subs.reduce((l,c)=>Math.max(l,c.label??0),0);s.label=Math.max(s.label??0,a*n.worthUp)},"bottomUp"),Pc(i,s=>{if(ic(s))return;let a=s.subs.map(u=>u.label??0),l=[...a];for(let u=0;u<a.length;u++)a[u]!==0&&(l=l.map((f,m)=>Math.max(f,Math.pow(n.worthSibling,Math.abs(u-m))*a[u])));let c=s.label;c!==void 0&&(l=l.map(u=>Math.max(u,n.worthDown*c))),s.subs.forEach((u,f)=>u.label=l[f])},"topDown"),vat(i,t,r)}o(nX,"fromTreeWithFocussedLines");function vat(e,t,r=go()){let n=OZ(e,[],(i,s)=>((i.type==="line"||i.type==="blank")&&s.push(i.type==="line"?[S3e(i).trimEnd(),i.label??0]:["",i.label??0]),s),"topDown");return new tr(n,t,r)}o(vat,"fromTreeWithValuedLines");function Zu(e,t=!0,r=!0,n,i=go()){let s=typeof e=="string"?ww(e):ww(e.source,e.languageId);b4(s);let a=v4(s,l=>t&&l!=="closer");return Pc(a,l=>{l.label===void 0&&(l.label=t&&l.label!==!1)},"topDown"),t&&Pc(a,l=>{if(l.label){let c=!1;for(let u of[...l.subs].reverse())u.label&&!c?c=!0:u.label=!1}else for(let c of l.subs)c.label=!1;l.subs.length>0&&(l.label=!1)},"topDown"),r&&Pc(a,l=>{l.label||=(C4(l)||ic(l))&&l.lineNumber==0},"topDown"),nX(a,n,i)}o(Zu,"elidableTextForSourceCode");d();var Pw=class e{constructor(t,r,n,i="strict",s){this.text=t;this._value=r;this._cost=n;this.metadata=s;if(t.includes(`
`)&&i!=="none")throw new Error("LineWithValueAndCost: text contains newline");if(r<0&&i!=="none")throw new Error("LineWithValueAndCost: value is negative");if(n<0&&i!=="none")throw new Error("LineWithValueAndCost: cost is negative");if(i=="strict"&&r>1)throw new Error("Value should normally be between 0 and 1 -- set validation to `loose` to ignore this error")}static{o(this,"LineWithValueAndCost")}get value(){return this._value}get cost(){return this._cost}adjustValue(t){return this._value*=t,this}recost(t=r=>go().tokenLength(r+`
`)){return this._cost=t(this.text),this}copy(){return new e(this.text,this.value,this.cost,"none",this.metadata)}};var tr=class e{constructor(t,r,n=go()){this.metadata=r;this.tokenizer=n;this.lines=[];let i=[];for(let s of t){let a=Array.isArray(s)?s[1]:1,l=Array.isArray(s)?s[0]:s;typeof l=="string"?l.split(`
`).forEach(c=>i.push(new Pw(c,a,n.tokenLength(c+`
`),"strict",this.metadata))):l instanceof e?l.lines.forEach(c=>i.push(c.copy().adjustValue(a))):"source"in l&&"languageId"in l&&Zu(l).lines.forEach(c=>i.push(c.copy().adjustValue(a)))}this.lines=i}static{o(this,"ElidableText")}adjust(t){this.lines.forEach(r=>r.adjustValue(t))}recost(t=r=>go().tokenLength(r+`
`)){this.lines.forEach(r=>r.recost(t))}elide(t,r="[...]",n=!0,i="removeLeastDesirable",s=this.tokenizer){let a=this.lines.map(l=>l.copy());return bat(a,t,r,n,i,s)}};function bat(e,t,r,n,i,s){if(s.tokenLength(r+`
`)>t)throw new Error("maxTokens must be larger than the ellipsis length");i==="removeLeastBangForBuck"&&e.forEach(m=>m.adjustValue(1/m.cost));let a=e.reduce((m,h)=>Math.max(m,h.value),0)+1,l=e.reduce((m,h)=>Math.max(m,h.text.length),0)+1,c=r.trim(),u=e.reduce((m,h)=>m+h.cost,0),f=e.length+1;for(;u>t&&f-->=-1;){let m=e.reduce((b,_)=>_.value<b.value?_:b),h=e.indexOf(m),p=e.slice(0,h+1).reverse().find(b=>b.text.trim()!=="")??{text:""},g=n?Math.min(p.text.match(/^\s*/)?.[0].length??0,e[h-1]?.text.trim()===c?e[h-1]?.text.match(/^\s*/)?.[0].length??0:l,e[h+1]?.text.trim()===c?e[h+1]?.text.match(/^\s*/)?.[0].length??0:l):0,x=" ".repeat(g)+r,v=new Pw(x,a,s.tokenLength(x+`
`),"loose",m.metadata);e.splice(h,1,v),e[h+1]?.text.trim()===c&&e.splice(h+1,1),e[h-1]?.text.trim()===c&&e.splice(h-1,1);let E=e.reduce((b,_)=>b+_.cost,0);E>=u&&e.every(b=>b.value===a)&&(n=!1),u=E}if(f<0)throw new Error("Infinite loop in ElidableText.makePrompt: Defensive counter < 0 in ElidableText.makePrompt with end text");return{getText:o(()=>e.map(m=>m.text).join(`
`),"getText"),getLines:o(()=>e,"getLines")}}o(bat,"elide");d();d();function zm(){}o(zm,"Diff");zm.prototype={diff:o(function(t,r){var n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=i.callback;typeof i=="function"&&(s=i,i={});var a=this;function l(R){return R=a.postProcess(R,i),s?(setTimeout(function(){s(R)},0),!0):R}o(l,"done"),t=this.castInput(t,i),r=this.castInput(r,i),t=this.removeEmpty(this.tokenize(t,i)),r=this.removeEmpty(this.tokenize(r,i));var c=r.length,u=t.length,f=1,m=c+u;i.maxEditLength!=null&&(m=Math.min(m,i.maxEditLength));var h=(n=i.timeout)!==null&&n!==void 0?n:1/0,p=Date.now()+h,g=[{oldPos:-1,lastComponent:void 0}],x=this.extractCommon(g[0],r,t,0,i);if(g[0].oldPos+1>=u&&x+1>=c)return l(k3e(a,g[0].lastComponent,r,t,a.useLongestToken));var v=-1/0,E=1/0;function b(){for(var R=Math.max(v,-f);R<=Math.min(E,f);R+=2){var P=void 0,F=g[R-1],G=g[R+1];F&&(g[R-1]=void 0);var se=!1;if(G){var Ae=G.oldPos-R;se=G&&0<=Ae&&Ae<c}var re=F&&F.oldPos+1<u;if(!se&&!re){g[R]=void 0;continue}if(!re||se&&F.oldPos<G.oldPos?P=a.addToPath(G,!0,!1,0,i):P=a.addToPath(F,!1,!0,1,i),x=a.extractCommon(P,r,t,R,i),P.oldPos+1>=u&&x+1>=c)return l(k3e(a,P.lastComponent,r,t,a.useLongestToken));g[R]=P,P.oldPos+1>=u&&(E=Math.min(E,R-1)),x+1>=c&&(v=Math.max(v,R+1))}f++}if(o(b,"execEditLength"),s)o(function R(){setTimeout(function(){if(f>m||Date.now()>p)return s();b()||R()},0)},"exec")();else for(;f<=m&&Date.now()<=p;){var _=b();if(_)return _}},"diff"),addToPath:o(function(t,r,n,i,s){var a=t.lastComponent;return a&&!s.oneChangePerToken&&a.added===r&&a.removed===n?{oldPos:t.oldPos+i,lastComponent:{count:a.count+1,added:r,removed:n,previousComponent:a.previousComponent}}:{oldPos:t.oldPos+i,lastComponent:{count:1,added:r,removed:n,previousComponent:a}}},"addToPath"),extractCommon:o(function(t,r,n,i,s){for(var a=r.length,l=n.length,c=t.oldPos,u=c-i,f=0;u+1<a&&c+1<l&&this.equals(n[c+1],r[u+1],s);)u++,c++,f++,s.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return f&&!s.oneChangePerToken&&(t.lastComponent={count:f,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=c,u},"extractCommon"),equals:o(function(t,r,n){return n.comparator?n.comparator(t,r):t===r||n.ignoreCase&&t.toLowerCase()===r.toLowerCase()},"equals"),removeEmpty:o(function(t){for(var r=[],n=0;n<t.length;n++)t[n]&&r.push(t[n]);return r},"removeEmpty"),castInput:o(function(t){return t},"castInput"),tokenize:o(function(t){return Array.from(t)},"tokenize"),join:o(function(t){return t.join("")},"join"),postProcess:o(function(t){return t},"postProcess")};function k3e(e,t,r,n,i){for(var s=[],a;t;)s.push(t),a=t.previousComponent,delete t.previousComponent,t=a;s.reverse();for(var l=0,c=s.length,u=0,f=0;l<c;l++){var m=s[l];if(m.removed)m.value=e.join(n.slice(f,f+m.count)),f+=m.count;else{if(!m.added&&i){var h=r.slice(u,u+m.count);h=h.map(function(p,g){var x=n[f+g];return x.length>p.length?x:p}),m.value=e.join(h)}else m.value=e.join(r.slice(u,u+m.count));u+=m.count,m.added||(f+=m.count)}}return s}o(k3e,"buildValues");var H2r=new zm;function R3e(e,t){var r;for(r=0;r<e.length&&r<t.length;r++)if(e[r]!=t[r])return e.slice(0,r);return e.slice(0,r)}o(R3e,"longestCommonPrefix");function B3e(e,t){var r;if(!e||!t||e[e.length-1]!=t[t.length-1])return"";for(r=0;r<e.length&&r<t.length;r++)if(e[e.length-(r+1)]!=t[t.length-(r+1)])return e.slice(-r);return e.slice(-r)}o(B3e,"longestCommonSuffix");function iX(e,t,r){if(e.slice(0,t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't start with prefix ").concat(JSON.stringify(t),"; this is a bug"));return r+e.slice(t.length)}o(iX,"replacePrefix");function oX(e,t,r){if(!t)return e+r;if(e.slice(-t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't end with suffix ").concat(JSON.stringify(t),"; this is a bug"));return e.slice(0,-t.length)+r}o(oX,"replaceSuffix");function Fw(e,t){return iX(e,t,"")}o(Fw,"removePrefix");function XN(e,t){return oX(e,t,"")}o(XN,"removeSuffix");function D3e(e,t){return t.slice(0,Eat(e,t))}o(D3e,"maximumOverlap");function Eat(e,t){var r=0;e.length>t.length&&(r=e.length-t.length);var n=t.length;e.length<t.length&&(n=e.length);var i=Array(n),s=0;i[0]=0;for(var a=1;a<n;a++){for(t[a]==t[s]?i[a]=i[s]:i[a]=s;s>0&&t[a]!=t[s];)s=i[s];t[a]==t[s]&&s++}s=0;for(var l=r;l<e.length;l++){for(;s>0&&e[l]!=t[s];)s=i[s];e[l]==t[s]&&s++}return s}o(Eat,"overlapCount");var eL="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",Iat=new RegExp("[".concat(eL,"]+|\\s+|[^").concat(eL,"]"),"ug"),tL=new zm;tL.equals=function(e,t,r){return r.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e.trim()===t.trim()};tL.tokenize=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r;if(t.intlSegmenter){if(t.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');r=Array.from(t.intlSegmenter.segment(e),function(s){return s.segment})}else r=e.match(Iat)||[];var n=[],i=null;return r.forEach(function(s){/\s/.test(s)?i==null?n.push(s):n.push(n.pop()+s):/\s/.test(i)?n[n.length-1]==i?n.push(n.pop()+s):n.push(i+s):n.push(s),i=s}),n};tL.join=function(e){return e.map(function(t,r){return r==0?t:t.replace(/^\s+/,"")}).join("")};tL.postProcess=function(e,t){if(!e||t.oneChangePerToken)return e;var r=null,n=null,i=null;return e.forEach(function(s){s.added?n=s:s.removed?i=s:((n||i)&&P3e(r,i,n,s),r=s,n=null,i=null)}),(n||i)&&P3e(r,i,n,null),e};function P3e(e,t,r,n){if(t&&r){var i=t.value.match(/^\s*/)[0],s=t.value.match(/\s*$/)[0],a=r.value.match(/^\s*/)[0],l=r.value.match(/\s*$/)[0];if(e){var c=R3e(i,a);e.value=oX(e.value,a,c),t.value=Fw(t.value,c),r.value=Fw(r.value,c)}if(n){var u=B3e(s,l);n.value=iX(n.value,l,u),t.value=XN(t.value,u),r.value=XN(r.value,u)}}else if(r)e&&(r.value=r.value.replace(/^\s*/,"")),n&&(n.value=n.value.replace(/^\s*/,""));else if(e&&n){var f=n.value.match(/^\s*/)[0],m=t.value.match(/^\s*/)[0],h=t.value.match(/\s*$/)[0],p=R3e(f,m);t.value=Fw(t.value,p);var g=B3e(Fw(f,p),h);t.value=XN(t.value,g),n.value=iX(n.value,f,g),e.value=oX(e.value,f,f.slice(0,f.length-g.length))}else if(n){var x=n.value.match(/^\s*/)[0],v=t.value.match(/\s*$/)[0],E=D3e(v,x);t.value=XN(t.value,E)}else if(e){var b=e.value.match(/\s*$/)[0],_=t.value.match(/^\s*/)[0],R=D3e(b,_);t.value=Fw(t.value,R)}}o(P3e,"dedupeWhitespaceInChangeObjects");var Tat=new zm;Tat.tokenize=function(e){var t=new RegExp("(\\r?\\n)|[".concat(eL,"]+|[^\\S\\n\\r]+|[^").concat(eL,"]"),"ug");return e.match(t)||[]};var cX=new zm;cX.tokenize=function(e,t){t.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var r=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var i=0;i<n.length;i++){var s=n[i];i%2&&!t.newlineIsToken?r[r.length-1]+=s:r.push(s)}return r};cX.equals=function(e,t,r){return r.ignoreWhitespace?((!r.newlineIsToken||!e.includes(`
`))&&(e=e.trim()),(!r.newlineIsToken||!t.includes(`
`))&&(t=t.trim())):r.ignoreNewlineAtEof&&!r.newlineIsToken&&(e.endsWith(`
`)&&(e=e.slice(0,-1)),t.endsWith(`
`)&&(t=t.slice(0,-1))),zm.prototype.equals.call(this,e,t,r)};var wat=new zm;wat.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var _at=new zm;_at.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function sX(e){"@babel/helpers - typeof";return sX=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sX(e)}o(sX,"_typeof");var Nw=new zm;Nw.useLongestToken=!0;Nw.tokenize=cX.tokenize;Nw.castInput=function(e,t){var r=t.undefinedReplacement,n=t.stringifyReplacer,i=n===void 0?function(s,a){return typeof a>"u"?r:a}:n;return typeof e=="string"?e:JSON.stringify(aX(e,null,null,i),i,"  ")};Nw.equals=function(e,t,r){return zm.prototype.equals.call(Nw,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"),r)};function aX(e,t,r,n,i){t=t||[],r=r||[],n&&(e=n(i,e));var s;for(s=0;s<t.length;s+=1)if(t[s]===e)return r[s];var a;if(Object.prototype.toString.call(e)==="[object Array]"){for(t.push(e),a=new Array(e.length),r.push(a),s=0;s<e.length;s+=1)a[s]=aX(e[s],t,r,n,i);return t.pop(),r.pop(),a}if(e&&e.toJSON&&(e=e.toJSON()),sX(e)==="object"&&e!==null){t.push(e),a={},r.push(a);var l=[],c;for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&l.push(c);for(l.sort(),s=0;s<l.length;s+=1)c=l[s],a[c]=aX(e[c],t,r,n,c);t.pop(),r.pop()}else a=e;return a}o(aX,"canonicalize");var lX=new zm;lX.tokenize=function(e){return e.slice()};lX.join=lX.removeEmpty=function(e){return e};var F3e=require("fs");async function N3e(e,t,r,n,i){let s=new Map,a=0;for(let m of e){let h=m.node.fileName.toLowerCase(),p=s.get(h);p?p.symbols.push(m):s.set(h,{symbols:[m],topRank:a}),a++}if(s.delete(r.toLowerCase()),s.size===0)return[];let l=t,c=t/Math.min(4,s.size),u=[],f=Array.from(s.keys());f.sort((m,h)=>{let p=s.get(m).topRank,g=s.get(h).topRank;return p-g});for(let m of f){let h=s.get(m).symbols;if(h.length===0)continue;let p=h[0].node.fileName,g=h.reduce((x,v)=>x+v.node.extentRange.length,0);for(let x of h){if(l<=5)return u;G1(i);let v=x.node.extentRange.length/g,E=Math.min(l,v*c),b=(await kat([x])).elide(E).getText();l-=n.tokenLength(b),u.push({uri:p,value:b})}}return u}o(N3e,"symbolRangesToCodeSnippets");async function kat(e){if(e.length===0)return new tr([]);let t=e[0].node.fileName,r=[],n="";try{let i=Mo(t);i&&(n=(await F3e.promises.readFile(i)).toString())}catch{}for(let i of e)L3e(i,n).forEach(s=>r.push(s));return new tr(r)}o(kat,"sameFileSymbolRangeToElidableText");function L3e(e,t){let n=[],i=e.node,s=t.substring(uX(t,i.commentRange.start),i.commentRange.end);n.push([fX(s),1-3e-4]);let a=uX(t,i.bodyRange.start),l=uX(t,i.extentRange.start),c=i.bodyRange.length===0?t.substring(l,i.extentRange.end):t.substring(i.commentRange.length===0?l:i.commentRange.end,a);if(T4(i.kind)&&(c="BEGIN "+c.trimStart()),n.push([fX(c),1-1e-4]),e.children.length>0)for(let u of e.children)n.push(...L3e(u,t));else{let u=1-(T4(e.node.kind)?3e-4:4e-4),f=t.substring(a,i.bodyRange.end);n.push([fX(f),u])}return T4(i.kind)&&n.push(["END "+c.substring(6),1-1e-4]),n.filter(u=>u[0].length>0)}o(L3e,"prepareForElidableText");function uX(e,t){for(;t-1>=0&&(e[t-1]==="	"||e[t-1]===" ");)t--;return t}o(uX,"shiftLeftToNearestLineEndingOrAlphanumeric");function fX(e){let t=0;for(;t<e.length&&(e[t]==="\r"||e[t]===`
`);)t++;let r=e.length-1;for(;r>=0&&(e[r]==="\r"||e[r]===`
`||e[r]===" "||e[r]==="	");)r--;return e.substring(t,r+1)}o(fX,"trimLineEndingsAndTrailingWhitespace");var dX=class{constructor(t,r){this.referenceExtractors=new Map;this.index=t;for(let n of r)this.referenceExtractors.set(n.languageId,n)}static{o(this,"ContextRetrievalStrategy")}},Lw=class extends dX{static{o(this,"UnqualifiedNameRetrievalStrategy")}constructor(t,r,n,i){super(t,r),this.caseSensitive=n,this.typesOnly=i}async getContextAtPositionAsync(t,r,n,i,s){let a=this.referenceExtractors.get(i);if(!a)return[];G1(s);let l=await a.extractReferences(t,r);G1(s);let c=Array.from(l);c.sort((h,p)=>this.compareSymbolRangesByProximityToCaret(h,p,n));let u=[],f=new Set,m=await this.findDefinitionsViaUnqualifiedNames(c,s);this.typesOnly&&(m=m.filter(h=>T4(h.kind)));for(let h of m)f.has(JSON.stringify(h))||(f.add(JSON.stringify(h)),u.push(await this.makeSymbolRangeNodeFromDefinition(h,s)));return u}async findDefinitionsViaUnqualifiedNames(t,r){let n=Array.from(new Set(t.map(f=>f.unqualifiedName))),i=!this.caseSensitive,s=await this.index.findPotentialDefinitionsAsync(n,i,r),a=o(f=>i?f.toLowerCase():f,"lowercaseIfCaseInsensitive"),l=o(f=>a(f.unqualifiedName),"getSymbolKey"),c=new Map;for(let f of s){let m=l(f),h=c.get(m)??[];c.set(m,[...h,f])}let u=[];for(let f of n){let m=c.get(a(f));!m||m.length>20||u.push(...m)}return u}async makeSymbolRangeNodeFromDefinition(t,r){if(G1(r),T4(t.kind)){let n=await this.index.findSymbolsByFullyQualifiedNamePrefix(t.fileName,t.fullyQualifiedName+".",r),i=await Promise.all(n.map(s=>this.makeSymbolRangeNodeFromDefinition(s,r)));return{node:t,children:i}}else return{node:t,children:[]}}compareSymbolRangesByProximityToCaret(t,r,n){let i=t.extentRange.end<=n,s=r.extentRange.end<=n;if(i&&!s)return-1;if(!i&&s)return 1;let a=Math.abs(t.extentRange.start-n),l=Math.abs(r.extentRange.start-n);return a-l}},rL=class{constructor(t,r){this.strategies=new Map;this.strategies.set("go",new Lw(t,r,!0,!0)),this.strategies.set("java",new Lw(t,r,!0,!0)),this.strategies.set("python",new Lw(t,r,!0,!1))}static{o(this,"SyntaxAwareContextRetrieval")}async getStringifiedContextAtPositionAsync(t,r,n,i,s,a){let l=await this.getContextAtPositionAsync(t,r,n,i,a);G1(a);let c=go();return N3e(l,s,t,c,a)}async getContextAtPositionAsync(t,r,n,i,s){return this.strategies.has(i)?this.strategies.get(i).getContextAtPositionAsync(t,r,n,i,s):[]}};d();d();d();d();var w4={Id:"id"},Xu={FilePath:"filePath",LastWriteTimeUtc:"lastWriteTimeUtc"},Pi={DocumentId:"documentId",FullyQualifiedName:"fullyQualifiedName",UnqualifiedName:"unqualifiedName",CommentStart:"commentStart",CommentLength:"commentLength",NameStart:"nameStart",NameLength:"nameLength",BodyStart:"bodyStart",BodyLength:"bodyLength",ExtentStart:"extentStart",ExtentLength:"extentLength",SymbolKind:"symbolKind",RefKind:"refKind"};d();d();var nL=class{constructor(t,r,n){this.tableName=t;this.createOptimizations=r;this.extraCreateDeclarations=n;this.primaryKey=new mX(w4.Id)}static{o(this,"SQLTableQueryGenerator")}createTableQueries(){return this.createTableString??=this.generateCreateTableString(),[this.createTableString,...this.createOptimizations]}generateCreateTableString(){let t=this.fields.map(r=>r.initColumnString());return this.extraCreateDeclarations&&t.push(this.extraCreateDeclarations),t.push(),[`CREATE TABLE IF NOT EXISTS ${this.tableName} (`,`    ${this.primaryKey.initColumnString()},`,`    ${t.join(`,
`)}`,")"].join(`
`)}insertQuery(t,r){this.cachedInsertQueryStrings??=this.generateInsertQueryStrings();let n=[this.cachedInsertQueryStrings.prefix,Array(r).fill(this.cachedInsertQueryStrings.valuesTemplate).join(`,
`)];return t&&n.push("ON CONFLICT DO NOTHING"),n.join(`
`)}generateInsertQueryStrings(){return{prefix:`INSERT INTO ${this.tableName} (${this.fields.map(t=>t.name).join(", ")})
VALUES`,valuesTemplate:`(${Array(this.fields.length).fill("?").join(", ")})`}}},Qw=class e extends nL{constructor(){super(e.tableName,[`CREATE UNIQUE INDEX IF NOT EXISTS 'IX_Document_FilePath' ON '${e.tableName}' ('${Xu.FilePath}');`]);this.fields=[new Uw(Xu.FilePath,{notNull:!0,collate:!0,noCase:!0,unique:!0}),new K0(Xu.LastWriteTimeUtc,{notNull:!0})]}static{o(this,"DocumentQueryGenerator")}static{this.tableName="Document"}},Mw=class e extends nL{constructor(){super(e.tableName,[`CREATE INDEX IF NOT EXISTS 'IX_Symbol_DocumentId' ON '${e.tableName}' ('${Pi.DocumentId}', '${Pi.ExtentStart}', '${Pi.ExtentLength}');`,`CREATE INDEX IF NOT EXISTS 'IX_Symbol_UnqualifiedName' ON '${e.tableName}' ('${Pi.UnqualifiedName}');`],`FOREIGN KEY(${Pi.DocumentId}) REFERENCES Document(${w4.Id}) ON DELETE CASCADE`);this.fields=[new K0(Pi.DocumentId),new Uw(Pi.FullyQualifiedName,{notNull:!0}),new Uw(Pi.UnqualifiedName,{notNull:!0}),new K0(Pi.CommentStart,{notNull:!0}),new K0(Pi.CommentLength,{notNull:!0}),new K0(Pi.NameStart,{notNull:!0}),new K0(Pi.NameLength,{notNull:!0}),new K0(Pi.BodyStart,{notNull:!0}),new K0(Pi.BodyLength,{notNull:!0}),new K0(Pi.ExtentStart,{notNull:!0}),new K0(Pi.ExtentLength,{notNull:!0}),new K0(Pi.SymbolKind,{notNull:!0}),new K0(Pi.RefKind,{notNull:!0})]}static{o(this,"SymbolQueryGenerator")}static{this.tableName="Symbol"}},Ow=class{constructor(t,r){this.name=t;this.notNull=r?.notNull??!1}static{o(this,"SQLField")}},Uw=class extends Ow{static{o(this,"StringColumn")}constructor(t,r){super(t,{notNull:r?.notNull}),this.collate=r?.collate??!1,this.noCase=r?.noCase??!1,this.unique=r?.unique??!1}initColumnString(){let t=this.collate?"COLLATE":void 0,r=this.noCase?"NOCASE":void 0,n=this.notNull?"NOT NULL":void 0,i=this.unique?"UNIQUE":void 0,s=[t,r,n,i].filter(a=>a).join(" ");return`'${this.name}' VARCHAR(500) ${s}`}},K0=class extends Ow{static{o(this,"NumberColumn")}initColumnString(){return`'${this.name}' INTEGER${this.notNull?" NOT NULL":""}`}},mX=class extends Ow{static{o(this,"NumberPrimaryKeyColumn")}initColumnString(){return`'${this.name}' INTEGER PRIMARY KEY AUTOINCREMENT${this.notNull?" NOT NULL":""}`}};var iL=class{static{o(this,"SQLTable")}constructor(t){this.queryGenerator=this.createQueryGenerator(),this.init=this.doInit(t)}async doInit(t){let r=await t;if(r)return await this.create(r),r}async create(t){let r=o(i=>new Promise((s,a)=>{t.run(i,l=>{l?a(l):s()})}),"runQuery"),n=this.queryGenerator.createTableQueries();for(let i of n)await r(i)}async insert(t,r){let n=await this.init;n&&await new Promise((i,s)=>{let a=this.queryGenerator.insertQuery(r,t.length);n.run(a,t.map(l=>Object.values(l)).flat(),function(l){l?s(l):i(this)})})}async getAllRows(){let t=await this.init;return t?pd(t,`SELECT * FROM ${this.queryGenerator.tableName}`,[]):[]}async deleteRow(t){let r=await this.init;if(r)return pd(r,`DELETE FROM ${this.queryGenerator.tableName} WHERE ${w4.Id} = ?`,[t])}},H1=class e extends iL{static{o(this,"DocumentTable")}static{this.tableName=Qw.tableName}createQueryGenerator(){return new Qw}async updateTimestamp(t,r){let n=await this.init;n&&await pd(n,`UPDATE ${e.tableName} SET ${Xu.LastWriteTimeUtc} = ? WHERE ${Xu.FilePath} = ?`,[r,t])}async deleteAllWithPath(t){let r=await this.init;r&&await pd(r,`DELETE FROM ${e.tableName} WHERE ${Xu.FilePath} = ?`,[t])}async getDocumentByFilePath(t){let r=await this.init;return r?pd(r,`SELECT * FROM ${this.queryGenerator.tableName} WHERE ${Xu.FilePath} = ?`,[t]):[]}},Ha=class e extends iL{static{o(this,"SymbolTable")}static{this.tableName=Mw.tableName}createQueryGenerator(){return new Mw}async clearAllSymbolsFromDocument(t){let r=await this.init;if(r)return pd(r,`DELETE FROM ${e.tableName} WHERE ${Pi.DocumentId} = ?`,[t])}};async function pd(e,t,r){return new Promise((n,i)=>e.all(t,r,(s,a)=>{s&&i(s),n(a)}))}o(pd,"runPromisifiedDBQuery");var aL=class{constructor(t){this.databaseFileName=t;this.innerJoinStatement=`INNER JOIN ${H1.tableName} ON ${Ha.tableName}.${Pi.DocumentId} = ${H1.tableName}.${w4.Id}`;this.db=this.initDb(t),this.documentTable=new H1(this.db),this.symbolTable=new Ha(this.db)}static{o(this,"DocumentSymbolDatabase")}async initDb(t){let r;try{r=await Promise.resolve().then(()=>et(z3e()))}catch(i){console.error("Error loading sqlite3 module:",i);return}let n;try{n=await new Promise((i,s)=>{let a=new r.default.Database(t,l=>{l?s(l):i(a)})})}catch(i){console.error("Error initializing database:",i);return}return await pd(n,"pragma journal_mode=wal",[]),await pd(n,"pragma synchronous=normal",[]),await pd(n,"pragma optimize=0x10002",[]),await pd(n,"pragma foreign_keys = ON",[]),n}async close(){let t=await this.db;if(t)return await this.documentTable.init,await this.symbolTable.init,new Promise((r,n)=>{t.close(i=>i?n(i):r())})}async querySymbolsFuzzilyUsingUnqualifiedName(t,r){return await this.query([`SELECT * FROM ${Ha.tableName}`,this.innerJoinStatement,`WHERE ${Pi.UnqualifiedName} BETWEEN ? AND (? || '~')`,`ORDER BY ${Pi.UnqualifiedName}`,"LIMIT ?"].join(`
`),[t,t,r])}async querySymbolsUsingUnqualifiedNames(t,r){let n=t.map(()=>"?").join(", "),i=r?"COLLATE NOCASE ":"";return await this.query([`SELECT * FROM ${Ha.tableName}`,this.innerJoinStatement,`WHERE ${Pi.UnqualifiedName} ${i}IN (${n})`].join(`
`),t)}async querySymbolsUsingFullyQualifiedName(t){return this.query([`SELECT * FROM ${Ha.tableName}`,this.innerJoinStatement,`WHERE ${Pi.FullyQualifiedName} = ?`].join(`
`),[t])}async querySymbolsContainingPosition(t,r){return this.query([`SELECT * FROM ${Ha.tableName}`,this.innerJoinStatement,`WHERE ${H1.tableName}.${Xu.FilePath} = ? AND ${Ha.tableName}.${Pi.ExtentStart} <= ? AND (${Ha.tableName}.${Pi.ExtentStart} + ${Ha.tableName}.${Pi.ExtentLength}) >= ?`].join(`
`),[t,r,r])}async querySymbolsContainedByRange(t,r,n){return this.query([`SELECT * FROM ${Ha.tableName}`,this.innerJoinStatement,`WHERE ${H1.tableName}.${Xu.FilePath} = ? AND ${Ha.tableName}.${Pi.ExtentStart} >= ? AND (${Ha.tableName}.${Pi.ExtentStart} + ${Ha.tableName}.${Pi.ExtentLength}) <= ?`,`ORDER BY ${Ha.tableName}.${Pi.ExtentStart}`].join(`
`),[t,r,n])}async querySymbolsByQualifiedNamePrefix(t,r){return this.query([`SELECT * FROM ${Ha.tableName}`,this.innerJoinStatement,`WHERE ${H1.tableName}.${Xu.FilePath} = ? AND ${Ha.tableName}.${Pi.FullyQualifiedName} LIKE ?`,`ORDER BY ${Ha.tableName}.${Pi.ExtentStart}`].join(`
`),[t,`${r}%`])}async insertSymbols(t){return await this.symbolTable.insert(t,!1)}async insertDocument(t,r,n=!1){return await this.documentTable.insert([{filePath:t,lastWriteTimeUtc:r}],n)}async clearAllSymbolsFromDocument(t){return this.symbolTable.clearAllSymbolsFromDocument(t)}async updateDocumentTimestamp(t,r){return this.documentTable.updateTimestamp(t,r)}async deleteAllDocumentsWithPath(t){return this.documentTable.deleteAllWithPath(t)}async getAllDocuments(){return this.documentTable.getAllRows()}getDocument(t){return this.documentTable.getDocumentByFilePath(t)}async query(t,r){let n=await this.db;return n?(await this.documentTable.init,await this.symbolTable.init,pd(n,t,r)):[]}};var lL=class{static{o(this,"SQLStorageReaderWriter")}constructor(t){this.database=new aL(t)}async close(){await this.database.close()}async insertOrReplaceDocumentSymbolsAsync(t,r,n){let i=await this.getOrCreateDocumentAsync(t,r);await this.database.clearAllSymbolsFromDocument(i.id),n.length>0&&await this.database.insertSymbols(n.map(s=>({documentId:i.id,fullyQualifiedName:s.fullyQualifiedName,unqualifiedName:s.unqualifiedName,commentStart:s.commentRange.start,commentLength:s.commentRange.length,nameStart:s.nameRange.start,nameLength:s.nameRange.length,bodyStart:s.bodyRange.start,bodyLength:s.bodyRange.length,extentStart:s.extentRange.start,extentLength:s.extentRange.length,symbolKind:s.kind,refKind:s.refKind}))),await this.database.updateDocumentTimestamp(t,r)}async addDocumentsAsync(t){for(let r of t)r=r.toLowerCase(),await this.database.insertDocument(r,Date.now(),!0)}async deleteDocumentAsync(t){return await this.database.deleteAllDocumentsWithPath(t.toLowerCase())}async updateDocumentTimestampAsync(t,r){return await this.database.updateDocumentTimestamp(t.toLowerCase(),r)}async fuzzyMatchSymbolsAsync(t,r){return _I(await this.database.querySymbolsFuzzilyUsingUnqualifiedName(t,r))}async findPotentialDefinitionsAsync(t,r,n){let i=[],a=0;for(;a<t.length;){let l=t.slice(a,a+500);a+=500;let c=await this.database.querySymbolsUsingUnqualifiedNames(l,r);i.push(...c),G1(n)}return _I(i)}async getDefinitionsAsync(t){return _I(await this.database.querySymbolsUsingFullyQualifiedName(t))}async findSymbolsContainingPositionAsync(t,r){let n=await this.database.querySymbolsContainingPosition(t.toLowerCase(),r);return _I(n)}async findSymbolsContainedByRangeAsync(t,r,n){return _I(await this.database.querySymbolsContainedByRange(t.toLowerCase(),r,n))}async findSymbolsByFullyQualifiedNamePrefix(t,r){return _I(await this.database.querySymbolsByQualifiedNamePrefix(t.toLowerCase(),r))}async getDocumentsAsync(){return this.database.getAllDocuments()}async getDocumentAsync(t){let r=await this.database.getDocument(t);if(r?.at(0))return r[0]}async getOrCreateDocumentAsync(t,r){let n=await this.database.getDocument(t);if(n?.at(0))return n[0];await this.database.insertDocument(t,r,!0);let i=await this.database.getDocument(t);if(!i)throw Error("Unable to insert document");return i[0]}};function _I(e){return e.map(t=>new II(t.filePath,t.fullyQualifiedName,t.unqualifiedName,new hd(t.commentStart,t.commentLength),new hd(t.nameStart,t.nameLength),new hd(t.bodyStart,t.bodyLength),new hd(t.extentStart,t.extentLength),t.symbolKind,t.refKind))}o(_I,"symbolsToSymbolRanges");var uL=et(require("fs/promises"));var cL=class{static{o(this,"Index")}constructor(t,r){this.storage=new lL(t),this.symbolExtractors=r}dispose(){return this.storage.close()}get reader(){return this.storage}async indexFile(t,r){let n=Mo(t);if(!n)throw Error(`Cannot resolve a readable file path from ${t}`);let i;try{i=await uL.stat(n)}catch{await this.storage.deleteDocumentAsync(t);return}let s=i.mtimeMs,a=await this.storage.getDocumentAsync(t);if(a&&a.lastWriteTimeUtc>=s)return;let l=this.symbolExtractors.find(f=>f.languageId==r);if(!l)return;let c=(await uL.readFile(n)).toString(),u=await l.extractSymbols(t,c);await this.storage.insertOrReplaceDocumentSymbolsAsync(t,s,u)}async getDocumentFilePaths(){return(await this.storage.getDocumentsAsync()).map(r=>r.filePath)}};d();function CX(e){let t=e;return typeof t?.cwd=="string"&&Array.isArray(t?.indexWorkspaceRoots)&&t.indexWorkspaceRoots.every(r=>Lat(r))}o(CX,"isIndexWorkerData");var Ww=class{static{o(this,"IndexNotification")}constructor(t){this.operation=t}},e5=class extends Ww{constructor(r,n){super(n);this.id=r;this.id=r}static{o(this,"IndexRequest")}},fL=class extends Ww{constructor(r){super(Fc.Cancel);this.messageIdToCancel=r}static{o(this,"CancellationNotification")}},Fc={CreateIndex:"createIndex",AddOrInvalidated:"addOrInvalidated",GetContext:"getContext",Exit:"exit",Response:"response",RemoveIndex:"removeIndex",Cancel:"cancel",GetAllDocumentsInWorkspace:"getAllDocumentsInWorkspace"},dL=class extends e5{constructor(r,n,i){super(r,Fc.CreateIndex);this.baseWorkspaceFolderUri=n;this.databaseFilePath=i}static{o(this,"CreateIndexRequest")}},mL=class extends e5{constructor(r,n){super(r,Fc.RemoveIndex);this.baseWorkspaceFolderUri=n}static{o(this,"RemoveIndexRequest")}},hL=class extends e5{constructor(r,n,i){super(r,Fc.AddOrInvalidated);this.fileUri=n;this.languageId=i}static{o(this,"AddOrInvalidatedRequest")}},pL=class extends e5{constructor(r,n){super(r,Fc.GetAllDocumentsInWorkspace);this.baseWorkspaceFolderUri=n}static{o(this,"GetAllDocumentsRequest")}},gL=class extends e5{constructor(r,n,i,s,a){super(r,Fc.GetContext);this.fileUri=n;this.code=i;this.offset=s;this.languageId=a}static{o(this,"GetContextRequest")}},AL=class extends e5{static{o(this,"ExitRequest")}constructor(t){super(t,Fc.Exit)}},Ym=class extends Ww{constructor(r,n,i){super(Fc.Response);this.id=r;this.error=n;this.data=i;n&&"code"in n&&typeof n.code=="string"&&(this.code=n.code)}static{o(this,"ResponseMessage")}};function Lat(e){return"databaseFilePath"in e&&"rootPath"in e}o(Lat,"isIndexableWorkspaceFolder");var Y3e=et(ti()),_4=require("worker_threads");var yL=class{static{o(this,"IndexInfo")}constructor(t){this.index=new cL(t,ZN),this.contextRetreival=new rL(this.index.reader,T3e)}},xX=class e{constructor(t,r){this.indices=new Map;this.cancellationTokens=new Map;for(let n of r){let i=Il(n.rootPath);this.indices.set(i,new yL(n.databaseFilePath))}this.port=t,this.port.on("message",n=>void this.dispatchMessage(n,this.indices,this.cancellationTokens))}static{o(this,"IndexWorker")}async dispatchMessage(t,r,n){try{let i=new Y3e.CancellationTokenSource;n.set(t.id,i);let s;switch(t.operation){case Fc.AddOrInvalidated:s=await e.dispatchAddOrInvalidate(t,r,i.token);break;case Fc.GetContext:s=await e.dispatchGetContext(t,r,i.token);break;case Fc.Cancel:n.get(t.id)?.cancel(),s=new Ym(t.id,void 0,void 0);break;case Fc.Exit:s=await this.dispatchExit(t,r,i.token);break;case Fc.CreateIndex:s=await e.dispatchCreateIndex(t,r,i.token);break;case Fc.RemoveIndex:s=await e.dispatchRemoveIndex(t,r,i.token);break;case Fc.GetAllDocumentsInWorkspace:s=await e.GetAllDocumentsInWorkspaceRequest(t,r,i.token);break;default:this.port?.postMessage(new Error(`Unknown operation: ${t.operation}`))}s&&this.port?.postMessage(s),n.get(t.id)?.dispose(),n.delete(t.id)}catch(i){if(!(i instanceof Error))throw i;this.port?.postMessage(new Ym(t.id,i,void 0))}}static async GetAllDocumentsInWorkspaceRequest(t,r,n){let i=Il(t.baseWorkspaceFolderUri),s,a;return r.has(i)?a=await r.get(i).index.getDocumentFilePaths():s=new Error(`Index not found for ${t.baseWorkspaceFolderUri}`),new Ym(t.id,s,a)}static async dispatchAddOrInvalidate(t,r,n){let i=Il(t.fileUri),s=e.getIndexInfo(i,r)?.index,a;return s?await s.indexFile(t.fileUri,t.languageId):a=new Error(`Index not found for ${t.fileUri}`),new Ym(t.id,a,void 0)}static async dispatchGetContext(t,r,n){let i=Il(t.fileUri),s=e.getIndexInfo(i,r)?.contextRetreival,a,l;return s?l=await s.getStringifiedContextAtPositionAsync(t.fileUri,t.code,t.offset,t.languageId,8e3,n):a=new Error(`ContextRetrieval not found for ${t.fileUri}`),new Ym(t.id,a,l)}async dispatchExit(t,r,n){for(let i of r.values())await i.index.dispose();r.clear(),this.port?.postMessage(new Ym(t.id,void 0,void 0)),this.port?.close()}static async dispatchCreateIndex(t,r,n){let i=Il(t.baseWorkspaceFolderUri);return r.has(i)||r.set(i,new yL(t.databaseFilePath)),new Ym(t.id,void 0,void 0)}static async dispatchRemoveIndex(t,r,n){let i=Il(t.baseWorkspaceFolderUri);if(r.has(i)){let s=r.get(i);s&&await s.index.dispose(),r.delete(i)}return new Ym(t.id,void 0,void 0)}static getIndexInfo(t,r){for(let[n,i]of r)if(t.startsWith(n))return i}};function K3e(){return CX(_4.workerData)}o(K3e,"isIndexWorker");function J3e(){let e=_4.parentPort;if(!e)throw new Error("This must be run a worker thread.");if(!CX(_4.workerData))throw new Error("Worker data must provide a valid database path.");let t=_4.workerData.cwd;process.cwd=()=>t,new xX(e,_4.workerData.indexWorkspaceRoots)}o(J3e,"runIndexWorker");d();var Gw=et(require("util"));function Z3e(e){let t=new console.Console(process.stderr,process.stderr);function r(n,...i){if(ud(e)==="dev")return e.get(qa).logIt(e,n,"console",...i)}return o(r,"logIt"),t.debug=(...n)=>r(4,...n),t.info=(...n)=>r(3,...n),t.warn=(...n)=>r(2,...n),t.error=(...n)=>r(1,...n),t.assert=(n,...i)=>{n||(i.length===0?r(2,"Assertion failed"):r(2,"Assertion failed:",Gw.format(...i)))},t.dir=(n,i)=>r(4,Gw.inspect(n,i)),t.log=t.debug.bind(t),t.trace=(...n)=>{let i=new Error(Gw.format(...n));i.name="Trace",t.log(i)},t}o(Z3e,"createConsole");var Ije=et(require("fs/promises")),Tje=et(require("os")),om=et(Jm()),wje=require("worker_threads");d();d();var rQ=require("assert");d();d();var Ylt={right:ect,center:tct},Klt=0,YL=1,Jlt=2,KL=3,VX=class{static{o(this,"UI")}constructor(t){var r;this.width=t.width,this.wrap=(r=t.wrap)!==null&&r!==void 0?r:!0,this.rows=[]}span(...t){let r=this.div(...t);r.span=!0}resetOutput(){this.rows=[]}div(...t){if(t.length===0&&this.div(""),this.wrap&&this.shouldApplyLayoutDSL(...t)&&typeof t[0]=="string")return this.applyLayoutDSL(t[0]);let r=t.map(n=>typeof n=="string"?this.colFromString(n):n);return this.rows.push(r),r}shouldApplyLayoutDSL(...t){return t.length===1&&typeof t[0]=="string"&&/[\t\n]/.test(t[0])}applyLayoutDSL(t){let r=t.split(`
`).map(i=>i.split("	")),n=0;return r.forEach(i=>{i.length>1&&ef.stringWidth(i[0])>n&&(n=Math.min(Math.floor(this.width*.5),ef.stringWidth(i[0])))}),r.forEach(i=>{this.div(...i.map((s,a)=>({text:s.trim(),padding:this.measurePadding(s),width:a===0&&i.length>1?n:void 0})))}),this.rows[this.rows.length-1]}colFromString(t){return{text:t,padding:this.measurePadding(t)}}measurePadding(t){let r=ef.stripAnsi(t);return[0,r.match(/\s*$/)[0].length,0,r.match(/^\s*/)[0].length]}toString(){let t=[];return this.rows.forEach(r=>{this.rowToString(r,t)}),t.filter(r=>!r.hidden).map(r=>r.text).join(`
`)}rowToString(t,r){return this.rasterize(t).forEach((n,i)=>{let s="";n.forEach((a,l)=>{let{width:c}=t[l],u=this.negatePadding(t[l]),f=a;if(u>ef.stringWidth(a)&&(f+=" ".repeat(u-ef.stringWidth(a))),t[l].align&&t[l].align!=="left"&&this.wrap){let h=Ylt[t[l].align];f=h(f,u),ef.stringWidth(f)<u&&(f+=" ".repeat((c||0)-ef.stringWidth(f)-1))}let m=t[l].padding||[0,0,0,0];m[KL]&&(s+=" ".repeat(m[KL])),s+=V4e(t[l],f,"| "),s+=f,s+=V4e(t[l],f," |"),m[YL]&&(s+=" ".repeat(m[YL])),i===0&&r.length>0&&(s=this.renderInline(s,r[r.length-1]))}),r.push({text:s.replace(/ +$/,""),span:t.span})}),r}renderInline(t,r){let n=t.match(/^ */),i=n?n[0].length:0,s=r.text,a=ef.stringWidth(s.trimRight());return r.span?this.wrap?i<a?t:(r.hidden=!0,s.trimRight()+" ".repeat(i-a)+t.trimLeft()):(r.hidden=!0,s+t):t}rasterize(t){let r=[],n=this.columnWidths(t),i;return t.forEach((s,a)=>{s.width=n[a],this.wrap?i=ef.wrap(s.text,this.negatePadding(s),{hard:!0}).split(`
`):i=s.text.split(`
`),s.border&&(i.unshift("."+"-".repeat(this.negatePadding(s)+2)+"."),i.push("'"+"-".repeat(this.negatePadding(s)+2)+"'")),s.padding&&(i.unshift(...new Array(s.padding[Klt]||0).fill("")),i.push(...new Array(s.padding[Jlt]||0).fill(""))),i.forEach((l,c)=>{r[c]||r.push([]);let u=r[c];for(let f=0;f<a;f++)u[f]===void 0&&u.push("");u.push(l)})}),r}negatePadding(t){let r=t.width||0;return t.padding&&(r-=(t.padding[KL]||0)+(t.padding[YL]||0)),t.border&&(r-=4),r}columnWidths(t){if(!this.wrap)return t.map(a=>a.width||ef.stringWidth(a.text));let r=t.length,n=this.width,i=t.map(a=>{if(a.width)return r--,n-=a.width,a.width}),s=r?Math.floor(n/r):0;return i.map((a,l)=>a===void 0?Math.max(s,Zlt(t[l])):a)}};function V4e(e,t,r){return e.border?/[.']-+[.']/.test(t)?"":t.trim().length!==0?r:"  ":""}o(V4e,"addBorder");function Zlt(e){let t=e.padding||[],r=1+(t[KL]||0)+(t[YL]||0);return e.border?r+4:r}o(Zlt,"_minWidth");function Xlt(){return typeof process=="object"&&process.stdout&&process.stdout.columns?process.stdout.columns:80}o(Xlt,"getWindowWidth");function ect(e,t){e=e.trim();let r=ef.stringWidth(e);return r<t?" ".repeat(t-r)+e:e}o(ect,"alignRight");function tct(e,t){e=e.trim();let r=ef.stringWidth(e);return r>=t?e:" ".repeat(t-r>>1)+e}o(tct,"alignCenter");var ef;function $4e(e,t){return ef=t,new VX({width:e?.width||Xlt(),wrap:e?.wrap})}o($4e,"cliui");d();var z4e=new RegExp("\x1B(?:\\[(?:\\d+[ABCDEFGJKSTm]|\\d+;\\d+[Hfm]|\\d+;\\d+;\\d+m|6n|s|u|\\?25[lh])|\\w)","g");function $X(e){return e.replace(z4e,"")}o($X,"stripAnsi");function Y4e(e,t){let[r,n]=e.match(z4e)||["",""];e=$X(e);let i="";for(let s=0;s<e.length;s++)s!==0&&s%t===0&&(i+=`
`),i+=e.charAt(s);return r&&n&&(i=`${r}${i}${n}`),i}o(Y4e,"wrap");function zX(e){return $4e(e,{stringWidth:o(t=>[...t].length,"stringWidth"),stripAnsi:$X,wrap:Y4e})}o(zX,"ui");d();var BI=require("path"),JL=require("fs");function YX(e,t){let r=(0,BI.resolve)(".",e),n;for((0,JL.statSync)(r).isDirectory()||(r=(0,BI.dirname)(r));;){if(n=t(r,(0,JL.readdirSync)(r)),n)return(0,BI.resolve)(r,n);if(r=(0,BI.dirname)(n=r),n===r)break}}o(YX,"default");var fxe=require("util"),dxe=require("fs"),mxe=require("url");d();var exe=require("util"),tQ=require("path");d();function B4(e){if(e!==e.toLowerCase()&&e!==e.toUpperCase()||(e=e.toLowerCase()),e.indexOf("-")===-1&&e.indexOf("_")===-1)return e;{let r="",n=!1,i=e.match(/^-+/);for(let s=i?i[0].length:0;s<e.length;s++){let a=e.charAt(s);n&&(n=!1,a=a.toUpperCase()),s!==0&&(a==="-"||a==="_")?n=!0:a!=="-"&&a!=="_"&&(r+=a)}return r}}o(B4,"camelCase");function ZL(e,t){let r=e.toLowerCase();t=t||"-";let n="";for(let i=0;i<e.length;i++){let s=r.charAt(i),a=e.charAt(i);s!==a&&i>0?n+=`${t}${r.charAt(i)}`:n+=a}return n}o(ZL,"decamelize");function XL(e){return e==null?!1:typeof e=="number"||/^0x[0-9a-f]+$/i.test(e)?!0:/^0[^.]/.test(e)?!1:/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e)}o(XL,"looksLikeNumber");d();d();function K4e(e){if(Array.isArray(e))return e.map(a=>typeof a!="string"?a+"":a);e=e.trim();let t=0,r=null,n=null,i=null,s=[];for(let a=0;a<e.length;a++){if(r=n,n=e.charAt(a),n===" "&&!i){r!==" "&&t++;continue}n===i?i=null:(n==="'"||n==='"')&&!i&&(i=n),s[t]||(s[t]=""),s[t]+=n}return s}o(K4e,"tokenizeArgString");d();var vd;(function(e){e.BOOLEAN="boolean",e.STRING="string",e.NUMBER="number",e.ARRAY="array"})(vd||(vd={}));var j1,eQ=class{static{o(this,"YargsParser")}constructor(t){j1=t}parse(t,r){let n=Object.assign({alias:void 0,array:void 0,boolean:void 0,config:void 0,configObjects:void 0,configuration:void 0,coerce:void 0,count:void 0,default:void 0,envPrefix:void 0,narg:void 0,normalize:void 0,string:void 0,number:void 0,__:void 0,key:void 0},r),i=K4e(t),s=typeof t=="string",a=rct(Object.assign(Object.create(null),n.alias)),l=Object.assign({"boolean-negation":!0,"camel-case-expansion":!0,"combine-arrays":!1,"dot-notation":!0,"duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"greedy-arrays":!0,"halt-at-non-option":!1,"nargs-eats-options":!1,"negation-prefix":"no-","parse-numbers":!0,"parse-positional-numbers":!0,"populate--":!1,"set-placeholder-key":!1,"short-option-groups":!0,"strip-aliased":!1,"strip-dashed":!1,"unknown-options-as-args":!1},n.configuration),c=Object.assign(Object.create(null),n.default),u=n.configObjects||[],f=n.envPrefix,m=l["populate--"],h=m?"--":"_",p=Object.create(null),g=Object.create(null),x=n.__||j1.format,v={aliases:Object.create(null),arrays:Object.create(null),bools:Object.create(null),strings:Object.create(null),numbers:Object.create(null),counts:Object.create(null),normalize:Object.create(null),configs:Object.create(null),nargs:Object.create(null),coercions:Object.create(null),keys:[]},E=/^-([0-9]+(\.[0-9]+)?|\.[0-9]+)$/,b=new RegExp("^--"+l["negation-prefix"]+"(.+)");[].concat(n.array||[]).filter(Boolean).forEach(function(z){let ee=typeof z=="object"?z.key:z,Qe=Object.keys(z).map(function(Se){return{boolean:"bools",string:"strings",number:"numbers"}[Se]}).filter(Boolean).pop();Qe&&(v[Qe][ee]=!0),v.arrays[ee]=!0,v.keys.push(ee)}),[].concat(n.boolean||[]).filter(Boolean).forEach(function(z){v.bools[z]=!0,v.keys.push(z)}),[].concat(n.string||[]).filter(Boolean).forEach(function(z){v.strings[z]=!0,v.keys.push(z)}),[].concat(n.number||[]).filter(Boolean).forEach(function(z){v.numbers[z]=!0,v.keys.push(z)}),[].concat(n.count||[]).filter(Boolean).forEach(function(z){v.counts[z]=!0,v.keys.push(z)}),[].concat(n.normalize||[]).filter(Boolean).forEach(function(z){v.normalize[z]=!0,v.keys.push(z)}),typeof n.narg=="object"&&Object.entries(n.narg).forEach(([z,ee])=>{typeof ee=="number"&&(v.nargs[z]=ee,v.keys.push(z))}),typeof n.coerce=="object"&&Object.entries(n.coerce).forEach(([z,ee])=>{typeof ee=="function"&&(v.coercions[z]=ee,v.keys.push(z))}),typeof n.config<"u"&&(Array.isArray(n.config)||typeof n.config=="string"?[].concat(n.config).filter(Boolean).forEach(function(z){v.configs[z]=!0}):typeof n.config=="object"&&Object.entries(n.config).forEach(([z,ee])=>{(typeof ee=="boolean"||typeof ee=="function")&&(v.configs[z]=ee)})),Pe(n.key,a,n.default,v.arrays),Object.keys(c).forEach(function(z){(v.aliases[z]||[]).forEach(function(ee){c[ee]=c[z]})});let _=null;He();let R=[],P=Object.assign(Object.create(null),{_:[]}),F={};for(let z=0;z<i.length;z++){let ee=i[z],Qe=ee.replace(/^-{3,}/,"---"),Se,Ce,qe,$e,tt,Ct;if(ee!=="--"&&/^-/.test(ee)&&lt(ee))G(ee);else if(Qe.match(/^---+(=|$)/)){G(ee);continue}else if(ee.match(/^--.+=/)||!l["short-option-groups"]&&ee.match(/^-.+=/))$e=ee.match(/^--?([^=]+)=([\s\S]*)$/),$e!==null&&Array.isArray($e)&&$e.length>=3&&(Ie($e[1],v.arrays)?z=Ae(z,$e[1],i,$e[2]):Ie($e[1],v.nargs)!==!1?z=se(z,$e[1],i,$e[2]):re($e[1],$e[2],!0));else if(ee.match(b)&&l["boolean-negation"])$e=ee.match(b),$e!==null&&Array.isArray($e)&&$e.length>=2&&(Ce=$e[1],re(Ce,Ie(Ce,v.arrays)?[!1]:!1));else if(ee.match(/^--.+/)||!l["short-option-groups"]&&ee.match(/^-[^-]+/))$e=ee.match(/^--?(.+)/),$e!==null&&Array.isArray($e)&&$e.length>=2&&(Ce=$e[1],Ie(Ce,v.arrays)?z=Ae(z,Ce,i):Ie(Ce,v.nargs)!==!1?z=se(z,Ce,i):(tt=i[z+1],tt!==void 0&&(!tt.match(/^-/)||tt.match(E))&&!Ie(Ce,v.bools)&&!Ie(Ce,v.counts)||/^(true|false)$/.test(tt)?(re(Ce,tt),z++):re(Ce,ct(Ce))));else if(ee.match(/^-.\..+=/))$e=ee.match(/^-([^=]+)=([\s\S]*)$/),$e!==null&&Array.isArray($e)&&$e.length>=3&&re($e[1],$e[2]);else if(ee.match(/^-.\..+/)&&!ee.match(E))tt=i[z+1],$e=ee.match(/^-(.\..+)/),$e!==null&&Array.isArray($e)&&$e.length>=2&&(Ce=$e[1],tt!==void 0&&!tt.match(/^-/)&&!Ie(Ce,v.bools)&&!Ie(Ce,v.counts)?(re(Ce,tt),z++):re(Ce,ct(Ce)));else if(ee.match(/^-[^-]+/)&&!ee.match(E)){qe=ee.slice(1,-1).split(""),Se=!1;for(let Pt=0;Pt<qe.length;Pt++){if(tt=ee.slice(Pt+2),qe[Pt+1]&&qe[Pt+1]==="="){Ct=ee.slice(Pt+3),Ce=qe[Pt],Ie(Ce,v.arrays)?z=Ae(z,Ce,i,Ct):Ie(Ce,v.nargs)!==!1?z=se(z,Ce,i,Ct):re(Ce,Ct),Se=!0;break}if(tt==="-"){re(qe[Pt],tt);continue}if(/[A-Za-z]/.test(qe[Pt])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(tt)&&Ie(tt,v.bools)===!1){re(qe[Pt],tt),Se=!0;break}if(qe[Pt+1]&&qe[Pt+1].match(/\W/)){re(qe[Pt],tt),Se=!0;break}else re(qe[Pt],ct(qe[Pt]))}Ce=ee.slice(-1)[0],!Se&&Ce!=="-"&&(Ie(Ce,v.arrays)?z=Ae(z,Ce,i):Ie(Ce,v.nargs)!==!1?z=se(z,Ce,i):(tt=i[z+1],tt!==void 0&&(!/^(-|--)[^-]/.test(tt)||tt.match(E))&&!Ie(Ce,v.bools)&&!Ie(Ce,v.counts)||/^(true|false)$/.test(tt)?(re(Ce,tt),z++):re(Ce,ct(Ce))))}else if(ee.match(/^-[0-9]$/)&&ee.match(E)&&Ie(ee.slice(1),v.bools))Ce=ee.slice(1),re(Ce,ct(Ce));else if(ee==="--"){R=i.slice(z+1);break}else if(l["halt-at-non-option"]){R=i.slice(z);break}else G(ee)}V(P,!0),V(P,!1),X(P),O(),te(P,v.aliases,c,!0),J(P),l["set-placeholder-key"]&&ae(P),Object.keys(v.counts).forEach(function(z){le(P,z.split("."))||re(z,0)}),m&&R.length&&(P[h]=[]),R.forEach(function(z){P[h].push(z)}),l["camel-case-expansion"]&&l["strip-dashed"]&&Object.keys(P).filter(z=>z!=="--"&&z.includes("-")).forEach(z=>{delete P[z]}),l["strip-aliased"]&&[].concat(...Object.keys(a).map(z=>a[z])).forEach(z=>{l["camel-case-expansion"]&&z.includes("-")&&delete P[z.split(".").map(ee=>B4(ee)).join(".")],delete P[z]});function G(z){let ee=oe("_",z);(typeof ee=="string"||typeof ee=="number")&&P._.push(ee)}o(G,"pushPositional");function se(z,ee,Qe,Se){let Ce,qe=Ie(ee,v.nargs);if(qe=typeof qe!="number"||isNaN(qe)?1:qe,qe===0)return ge(Se)||(_=Error(x("Argument unexpected for: %s",ee))),re(ee,ct(ee)),z;let $e=ge(Se)?0:1;if(l["nargs-eats-options"])Qe.length-(z+1)+$e<qe&&(_=Error(x("Not enough arguments following: %s",ee))),$e=qe;else{for(Ce=z+1;Ce<Qe.length&&(!Qe[Ce].match(/^-[^0-9]/)||Qe[Ce].match(E)||lt(Qe[Ce]));Ce++)$e++;$e<qe&&(_=Error(x("Not enough arguments following: %s",ee)))}let tt=Math.min($e,qe);for(!ge(Se)&&tt>0&&(re(ee,Se),tt--),Ce=z+1;Ce<tt+z+1;Ce++)re(ee,Qe[Ce]);return z+tt}o(se,"eatNargs");function Ae(z,ee,Qe,Se){let Ce=[],qe=Se||Qe[z+1],$e=Ie(ee,v.nargs);if(Ie(ee,v.bools)&&!/^(true|false)$/.test(qe))Ce.push(!0);else if(ge(qe)||ge(Se)&&/^-/.test(qe)&&!E.test(qe)&&!lt(qe)){if(c[ee]!==void 0){let tt=c[ee];Ce=Array.isArray(tt)?tt:[tt]}}else{ge(Se)||Ce.push(q(ee,Se,!0));for(let tt=z+1;tt<Qe.length&&!(!l["greedy-arrays"]&&Ce.length>0||$e&&typeof $e=="number"&&Ce.length>=$e||(qe=Qe[tt],/^-/.test(qe)&&!E.test(qe)&&!lt(qe)));tt++)z=tt,Ce.push(q(ee,qe,s))}return typeof $e=="number"&&($e&&Ce.length<$e||isNaN($e)&&Ce.length===0)&&(_=Error(x("Not enough arguments following: %s",ee))),re(ee,Ce),z}o(Ae,"eatArray");function re(z,ee,Qe=s){if(/-/.test(z)&&l["camel-case-expansion"]){let qe=z.split(".").map(function($e){return B4($e)}).join(".");W(z,qe)}let Se=q(z,ee,Qe),Ce=z.split(".");ce(P,Ce,Se),v.aliases[z]&&v.aliases[z].forEach(function(qe){let $e=qe.split(".");ce(P,$e,Se)}),Ce.length>1&&l["dot-notation"]&&(v.aliases[Ce[0]]||[]).forEach(function(qe){let $e=qe.split("."),tt=[].concat(Ce);tt.shift(),$e=$e.concat(tt),(v.aliases[z]||[]).includes($e.join("."))||ce(P,$e,Se)}),Ie(z,v.normalize)&&!Ie(z,v.arrays)&&[z].concat(v.aliases[z]||[]).forEach(function($e){Object.defineProperty(F,$e,{enumerable:!0,get(){return ee},set(tt){ee=typeof tt=="string"?j1.normalize(tt):tt}})})}o(re,"setArg");function W(z,ee){v.aliases[z]&&v.aliases[z].length||(v.aliases[z]=[ee],p[ee]=!0),v.aliases[ee]&&v.aliases[ee].length||W(ee,z)}o(W,"addNewAlias");function q(z,ee,Qe){Qe&&(ee=nct(ee)),(Ie(z,v.bools)||Ie(z,v.counts))&&typeof ee=="string"&&(ee=ee==="true");let Se=Array.isArray(ee)?ee.map(function(Ce){return oe(z,Ce)}):oe(z,ee);return Ie(z,v.counts)&&(ge(Se)||typeof Se=="boolean")&&(Se=KX()),Ie(z,v.normalize)&&Ie(z,v.arrays)&&(Array.isArray(ee)?Se=ee.map(Ce=>j1.normalize(Ce)):Se=j1.normalize(ee)),Se}o(q,"processValue");function oe(z,ee){return!l["parse-positional-numbers"]&&z==="_"||!Ie(z,v.strings)&&!Ie(z,v.bools)&&!Array.isArray(ee)&&(XL(ee)&&l["parse-numbers"]&&Number.isSafeInteger(Math.floor(parseFloat(`${ee}`)))||!ge(ee)&&Ie(z,v.numbers))&&(ee=Number(ee)),ee}o(oe,"maybeCoerceNumber");function X(z){let ee=Object.create(null);te(ee,v.aliases,c),Object.keys(v.configs).forEach(function(Qe){let Se=z[Qe]||ee[Qe];if(Se)try{let Ce=null,qe=j1.resolve(j1.cwd(),Se),$e=v.configs[Qe];if(typeof $e=="function"){try{Ce=$e(qe)}catch(tt){Ce=tt}if(Ce instanceof Error){_=Ce;return}}else Ce=j1.require(qe);H(Ce)}catch(Ce){Ce.name==="PermissionDenied"?_=Ce:z[Qe]&&(_=Error(x("Invalid JSON config file: %s",Se)))}})}o(X,"setConfig");function H(z,ee){Object.keys(z).forEach(function(Qe){let Se=z[Qe],Ce=ee?ee+"."+Qe:Qe;typeof Se=="object"&&Se!==null&&!Array.isArray(Se)&&l["dot-notation"]?H(Se,Ce):(!le(P,Ce.split("."))||Ie(Ce,v.arrays)&&l["combine-arrays"])&&re(Ce,Se)})}o(H,"setConfigObject");function O(){typeof u<"u"&&u.forEach(function(z){H(z)})}o(O,"setConfigObjects");function V(z,ee){if(typeof f>"u")return;let Qe=typeof f=="string"?f:"",Se=j1.env();Object.keys(Se).forEach(function(Ce){if(Qe===""||Ce.lastIndexOf(Qe,0)===0){let qe=Ce.split("__").map(function($e,tt){return tt===0&&($e=$e.substring(Qe.length)),B4($e)});(ee&&v.configs[qe.join(".")]||!ee)&&!le(z,qe)&&re(qe.join("."),Se[Ce])}})}o(V,"applyEnvVars");function J(z){let ee,Qe=new Set;Object.keys(z).forEach(function(Se){if(!Qe.has(Se)&&(ee=Ie(Se,v.coercions),typeof ee=="function"))try{let Ce=oe(Se,ee(z[Se]));[].concat(v.aliases[Se]||[],Se).forEach(qe=>{Qe.add(qe),z[qe]=Ce})}catch(Ce){_=Ce}})}o(J,"applyCoercions");function ae(z){return v.keys.forEach(ee=>{~ee.indexOf(".")||typeof z[ee]>"u"&&(z[ee]=void 0)}),z}o(ae,"setPlaceholderKeys");function te(z,ee,Qe,Se=!1){Object.keys(Qe).forEach(function(Ce){le(z,Ce.split("."))||(ce(z,Ce.split("."),Qe[Ce]),Se&&(g[Ce]=!0),(ee[Ce]||[]).forEach(function(qe){le(z,qe.split("."))||ce(z,qe.split("."),Qe[Ce])}))})}o(te,"applyDefaultsAndAliases");function le(z,ee){let Qe=z;l["dot-notation"]||(ee=[ee.join(".")]),ee.slice(0,-1).forEach(function(Ce){Qe=Qe[Ce]||{}});let Se=ee[ee.length-1];return typeof Qe!="object"?!1:Se in Qe}o(le,"hasKey");function ce(z,ee,Qe){let Se=z;l["dot-notation"]||(ee=[ee.join(".")]),ee.slice(0,-1).forEach(function(Ct){Ct=J4e(Ct),typeof Se=="object"&&Se[Ct]===void 0&&(Se[Ct]={}),typeof Se[Ct]!="object"||Array.isArray(Se[Ct])?(Array.isArray(Se[Ct])?Se[Ct].push({}):Se[Ct]=[Se[Ct],{}],Se=Se[Ct][Se[Ct].length-1]):Se=Se[Ct]});let Ce=J4e(ee[ee.length-1]),qe=Ie(ee.join("."),v.arrays),$e=Array.isArray(Qe),tt=l["duplicate-arguments-array"];!tt&&Ie(Ce,v.nargs)&&(tt=!0,(!ge(Se[Ce])&&v.nargs[Ce]===1||Array.isArray(Se[Ce])&&Se[Ce].length===v.nargs[Ce])&&(Se[Ce]=void 0)),Qe===KX()?Se[Ce]=KX(Se[Ce]):Array.isArray(Se[Ce])?tt&&qe&&$e?Se[Ce]=l["flatten-duplicate-arrays"]?Se[Ce].concat(Qe):(Array.isArray(Se[Ce][0])?Se[Ce]:[Se[Ce]]).concat([Qe]):!tt&&!!qe==!!$e?Se[Ce]=Qe:Se[Ce]=Se[Ce].concat([Qe]):Se[Ce]===void 0&&qe?Se[Ce]=$e?Qe:[Qe]:tt&&!(Se[Ce]===void 0||Ie(Ce,v.counts)||Ie(Ce,v.bools))?Se[Ce]=[Se[Ce],Qe]:Se[Ce]=Qe}o(ce,"setKey");function Pe(...z){z.forEach(function(ee){Object.keys(ee||{}).forEach(function(Qe){v.aliases[Qe]||(v.aliases[Qe]=[].concat(a[Qe]||[]),v.aliases[Qe].concat(Qe).forEach(function(Se){if(/-/.test(Se)&&l["camel-case-expansion"]){let Ce=B4(Se);Ce!==Qe&&v.aliases[Qe].indexOf(Ce)===-1&&(v.aliases[Qe].push(Ce),p[Ce]=!0)}}),v.aliases[Qe].concat(Qe).forEach(function(Se){if(Se.length>1&&/[A-Z]/.test(Se)&&l["camel-case-expansion"]){let Ce=ZL(Se,"-");Ce!==Qe&&v.aliases[Qe].indexOf(Ce)===-1&&(v.aliases[Qe].push(Ce),p[Ce]=!0)}}),v.aliases[Qe].forEach(function(Se){v.aliases[Se]=[Qe].concat(v.aliases[Qe].filter(function(Ce){return Se!==Ce}))}))})})}o(Pe,"extendAliases");function Ie(z,ee){let Qe=[].concat(v.aliases[z]||[],z),Se=Object.keys(ee),Ce=Qe.find(qe=>Se.includes(qe));return Ce?ee[Ce]:!1}o(Ie,"checkAllAliases");function Fe(z){let ee=Object.keys(v);return[].concat(ee.map(Se=>v[Se])).some(function(Se){return Array.isArray(Se)?Se.includes(z):Se[z]})}o(Fe,"hasAnyFlag");function Re(z,...ee){return[].concat(...ee).some(function(Se){let Ce=z.match(Se);return Ce&&Fe(Ce[1])})}o(Re,"hasFlagsMatching");function Ge(z){if(z.match(E)||!z.match(/^-[^-]+/))return!1;let ee=!0,Qe,Se=z.slice(1).split("");for(let Ce=0;Ce<Se.length;Ce++){if(Qe=z.slice(Ce+2),!Fe(Se[Ce])){ee=!1;break}if(Se[Ce+1]&&Se[Ce+1]==="="||Qe==="-"||/[A-Za-z]/.test(Se[Ce])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(Qe)||Se[Ce+1]&&Se[Ce+1].match(/\W/))break}return ee}o(Ge,"hasAllShortFlags");function lt(z){return l["unknown-options-as-args"]&&st(z)}o(lt,"isUnknownOptionAsArg");function st(z){return z=z.replace(/^-{3,}/,"--"),z.match(E)||Ge(z)?!1:!Re(z,/^-+([^=]+?)=[\s\S]*$/,b,/^-+([^=]+?)$/,/^-+([^=]+?)-$/,/^-+([^=]+?\d+)$/,/^-+([^=]+?)\W+.*$/)}o(st,"isUnknownOption");function ct(z){return!Ie(z,v.bools)&&!Ie(z,v.counts)&&`${z}`in c?c[z]:ne(Ne(z))}o(ct,"defaultValue");function ne(z){return{[vd.BOOLEAN]:!0,[vd.STRING]:"",[vd.NUMBER]:void 0,[vd.ARRAY]:[]}[z]}o(ne,"defaultForType");function Ne(z){let ee=vd.BOOLEAN;return Ie(z,v.strings)?ee=vd.STRING:Ie(z,v.numbers)?ee=vd.NUMBER:Ie(z,v.bools)?ee=vd.BOOLEAN:Ie(z,v.arrays)&&(ee=vd.ARRAY),ee}o(Ne,"guessType");function ge(z){return z===void 0}o(ge,"isUndefined");function He(){Object.keys(v.counts).find(z=>Ie(z,v.arrays)?(_=Error(x("Invalid configuration: %s, opts.count excludes opts.array.",z)),!0):Ie(z,v.nargs)?(_=Error(x("Invalid configuration: %s, opts.count excludes opts.narg.",z)),!0):!1)}return o(He,"checkConfiguration"),{aliases:Object.assign({},v.aliases),argv:Object.assign(F,P),configuration:l,defaulted:Object.assign({},g),error:_,newAliases:Object.assign({},p)}}};function rct(e){let t=[],r=Object.create(null),n=!0;for(Object.keys(e).forEach(function(i){t.push([].concat(e[i],i))});n;){n=!1;for(let i=0;i<t.length;i++)for(let s=i+1;s<t.length;s++)if(t[i].filter(function(l){return t[s].indexOf(l)!==-1}).length){t[i]=t[i].concat(t[s]),t.splice(s,1),n=!0;break}}return t.forEach(function(i){i=i.filter(function(a,l,c){return c.indexOf(a)===l});let s=i.pop();s!==void 0&&typeof s=="string"&&(r[s]=i)}),r}o(rct,"combineAliases");function KX(e){return e!==void 0?e+1:1}o(KX,"increment");function J4e(e){return e==="__proto__"?"___proto___":e}o(J4e,"sanitizeKey");function nct(e){return typeof e=="string"&&(e[0]==="'"||e[0]==='"')&&e[e.length-1]===e[0]?e.substring(1,e.length-1):e}o(nct,"stripQuotes");var txe=require("fs");var JX,ZX,XX,Z4e=process&&process.env&&process.env.YARGS_MIN_NODE_VERSION?Number(process.env.YARGS_MIN_NODE_VERSION):12,X4e=(ZX=(JX=process==null?void 0:process.versions)===null||JX===void 0?void 0:JX.node)!==null&&ZX!==void 0?ZX:(XX=process==null?void 0:process.version)===null||XX===void 0?void 0:XX.slice(1);if(X4e&&Number(X4e.match(/^([^.]+)/)[1])<Z4e)throw Error(`yargs parser supports a minimum Node.js version of ${Z4e}. Read our version support policy: https://github.com/yargs/yargs-parser#supported-nodejs-versions`);var ict=process?process.env:{},rxe=new eQ({cwd:process.cwd,env:o(()=>ict,"env"),format:exe.format,normalize:tQ.normalize,resolve:tQ.resolve,require:o(e=>{if(typeof require<"u")return require(e);if(e.match(/\.json$/))return JSON.parse((0,txe.readFileSync)(e,"utf8"));throw Error("only .json config files are supported in ESM")},"require")}),Kw=o(function(t,r){return rxe.parse(t.slice(),r).argv},"Parser");Kw.detailed=function(e,t){return rxe.parse(e.slice(),t)};Kw.camelCase=B4;Kw.decamelize=ZL;Kw.looksLikeNumber=XL;var nxe=Kw;var Xm=require("path");d();function oct(){return sct()?0:1}o(oct,"getProcessArgvBinIndex");function sct(){return act()&&!process.defaultApp}o(sct,"isBundledElectronApp");function act(){return!!process.versions.electron}o(act,"isElectronApp");function ixe(){return process.argv[oct()]}o(ixe,"getProcessArgvBin");d();var hs=class e extends Error{static{o(this,"YError")}constructor(t){super(t||"yargs error"),this.name="YError",Error.captureStackTrace&&Error.captureStackTrace(this,e)}};d();d();var DI=require("fs"),oxe=require("util"),sxe=require("path");var axe={fs:{readFileSync:DI.readFileSync,writeFile:DI.writeFile},format:oxe.format,resolve:sxe.resolve,exists:o(e=>{try{return(0,DI.statSync)(e).isFile()}catch{return!1}},"exists")};d();var Zm,eee=class{static{o(this,"Y18N")}constructor(t){t=t||{},this.directory=t.directory||"./locales",this.updateFiles=typeof t.updateFiles=="boolean"?t.updateFiles:!0,this.locale=t.locale||"en",this.fallbackToLanguage=typeof t.fallbackToLanguage=="boolean"?t.fallbackToLanguage:!0,this.cache=Object.create(null),this.writeQueue=[]}__(...t){if(typeof arguments[0]!="string")return this._taggedLiteral(arguments[0],...arguments);let r=t.shift(),n=o(function(){},"cb");return typeof t[t.length-1]=="function"&&(n=t.pop()),n=n||function(){},this.cache[this.locale]||this._readLocaleFile(),!this.cache[this.locale][r]&&this.updateFiles?(this.cache[this.locale][r]=r,this._enqueueWrite({directory:this.directory,locale:this.locale,cb:n})):n(),Zm.format.apply(Zm.format,[this.cache[this.locale][r]||r].concat(t))}__n(){let t=Array.prototype.slice.call(arguments),r=t.shift(),n=t.shift(),i=t.shift(),s=o(function(){},"cb");typeof t[t.length-1]=="function"&&(s=t.pop()),this.cache[this.locale]||this._readLocaleFile();let a=i===1?r:n;this.cache[this.locale][r]&&(a=this.cache[this.locale][r][i===1?"one":"other"]),!this.cache[this.locale][r]&&this.updateFiles?(this.cache[this.locale][r]={one:r,other:n},this._enqueueWrite({directory:this.directory,locale:this.locale,cb:s})):s();let l=[a];return~a.indexOf("%d")&&l.push(i),Zm.format.apply(Zm.format,l.concat(t))}setLocale(t){this.locale=t}getLocale(){return this.locale}updateLocale(t){this.cache[this.locale]||this._readLocaleFile();for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(this.cache[this.locale][r]=t[r])}_taggedLiteral(t,...r){let n="";return t.forEach(function(i,s){let a=r[s+1];n+=i,typeof a<"u"&&(n+="%s")}),this.__.apply(this,[n].concat([].slice.call(r,1)))}_enqueueWrite(t){this.writeQueue.push(t),this.writeQueue.length===1&&this._processWriteQueue()}_processWriteQueue(){let t=this,r=this.writeQueue[0],n=r.directory,i=r.locale,s=r.cb,a=this._resolveLocaleFile(n,i),l=JSON.stringify(this.cache[i],null,2);Zm.fs.writeFile(a,l,"utf-8",function(c){t.writeQueue.shift(),t.writeQueue.length>0&&t._processWriteQueue(),s(c)})}_readLocaleFile(){let t={},r=this._resolveLocaleFile(this.directory,this.locale);try{Zm.fs.readFileSync&&(t=JSON.parse(Zm.fs.readFileSync(r,"utf-8")))}catch(n){if(n instanceof SyntaxError&&(n.message="syntax error in "+r),n.code==="ENOENT")t={};else throw n}this.cache[this.locale]=t}_resolveLocaleFile(t,r){let n=Zm.resolve(t,"./",r+".json");if(this.fallbackToLanguage&&!this._fileExistsSync(n)&&~r.lastIndexOf("_")){let i=Zm.resolve(t,"./",r.split("_")[0]+".json");this._fileExistsSync(i)&&(n=i)}return n}_fileExistsSync(t){return Zm.exists(t)}};function lxe(e,t){Zm=t;let r=new eee(e);return{__:r.__.bind(r),__n:r.__n.bind(r),setLocale:r.setLocale.bind(r),getLocale:r.getLocale.bind(r),updateLocale:r.updateLocale.bind(r),locale:r.locale}}o(lxe,"y18n");var lct=o(e=>lxe(e,axe),"y18n"),cxe=lct;var cct="require is not supported by ESM",uxe="loading a directory of commands is not supported yet for ESM",Jw;try{Jw=(0,mxe.fileURLToPath)(importMetaUrlShim)}catch{Jw=process.cwd()}var uct=Jw.substring(0,Jw.lastIndexOf("node_modules")),hxe={assert:{notStrictEqual:rQ.notStrictEqual,strictEqual:rQ.strictEqual},cliui:zX,findUp:YX,getEnv:o(e=>process.env[e],"getEnv"),inspect:fxe.inspect,getCallerFile:o(()=>{throw new hs(uxe)},"getCallerFile"),getProcessArgvBin:ixe,mainFilename:uct||process.cwd(),Parser:nxe,path:{basename:Xm.basename,dirname:Xm.dirname,extname:Xm.extname,relative:Xm.relative,resolve:Xm.resolve},process:{argv:o(()=>process.argv,"argv"),cwd:process.cwd,emitWarning:o((e,t)=>process.emitWarning(e,t),"emitWarning"),execPath:o(()=>process.execPath,"execPath"),exit:process.exit,nextTick:process.nextTick,stdColumns:typeof process.stdout.columns<"u"?process.stdout.columns:null},readFileSync:dxe.readFileSync,require:o(()=>{throw new hs(cct)},"require"),requireDirectory:o(()=>{throw new hs(uxe)},"requireDirectory"),stringWidth:o(e=>[...e].length,"stringWidth"),y18n:cxe({directory:(0,Xm.resolve)(Jw,"../../../locales"),updateFiles:!1})};d();d();d();function s0(e,t,r,n){r.assert.notStrictEqual(e,t,n)}o(s0,"assertNotStrictEqual");function tee(e,t){t.assert.strictEqual(typeof e,"string")}o(tee,"assertSingleKey");function PI(e){return Object.keys(e)}o(PI,"objectKeys");d();function ps(e){return!!e&&!!e.then&&typeof e.then=="function"}o(ps,"isPromise");d();d();d();function i5(e){let r=e.replace(/\s{2,}/g," ").split(/\s+(?![^[]*]|[^<]*>)/),n=/\.*[\][<>]/g,i=r.shift();if(!i)throw new Error(`No command found in: ${e}`);let s={cmd:i.replace(n,""),demanded:[],optional:[]};return r.forEach((a,l)=>{let c=!1;a=a.replace(/\s/g,""),/\.+[\]>]/.test(a)&&l===r.length-1&&(c=!0),/^\[/.test(a)?s.optional.push({cmd:a.replace(n,"").split("|"),variadic:c}):s.demanded.push({cmd:a.replace(n,"").split("|"),variadic:c})}),s}o(i5,"parseCommand");var fct=["first","second","third","fourth","fifth","sixth"];function Pr(e,t,r){function n(){return typeof e=="object"?[{demanded:[],optional:[]},e,t]:[i5(`cmd ${e}`),t,r]}o(n,"parseArgs");try{let i=0,[s,a,l]=n(),c=[].slice.call(a);for(;c.length&&c[c.length-1]===void 0;)c.pop();let u=l||c.length;if(u<s.demanded.length)throw new hs(`Not enough arguments provided. Expected ${s.demanded.length} but received ${c.length}.`);let f=s.demanded.length+s.optional.length;if(u>f)throw new hs(`Too many arguments provided. Expected max ${f} but received ${u}.`);s.demanded.forEach(m=>{let h=c.shift(),p=pxe(h);m.cmd.filter(x=>x===p||x==="*").length===0&&gxe(p,m.cmd,i),i+=1}),s.optional.forEach(m=>{if(c.length===0)return;let h=c.shift(),p=pxe(h);m.cmd.filter(x=>x===p||x==="*").length===0&&gxe(p,m.cmd,i),i+=1})}catch(i){console.warn(i.stack)}}o(Pr,"argsert");function pxe(e){return Array.isArray(e)?"array":e===null?"null":typeof e}o(pxe,"guessType");function gxe(e,t,r){throw new hs(`Invalid ${fct[r]||"manyith"} argument. Expected ${t.join(" or ")} but received ${e}.`)}o(gxe,"argumentTypeError");var nQ=class{static{o(this,"GlobalMiddleware")}constructor(t){this.globalMiddleware=[],this.frozens=[],this.yargs=t}addMiddleware(t,r,n=!0,i=!1){if(Pr("<array|function> [boolean] [boolean] [boolean]",[t,r,n],arguments.length),Array.isArray(t)){for(let s=0;s<t.length;s++){if(typeof t[s]!="function")throw Error("middleware must be a function");let a=t[s];a.applyBeforeValidation=r,a.global=n}Array.prototype.push.apply(this.globalMiddleware,t)}else if(typeof t=="function"){let s=t;s.applyBeforeValidation=r,s.global=n,s.mutates=i,this.globalMiddleware.push(t)}return this.yargs}addCoerceMiddleware(t,r){let n=this.yargs.getAliases();return this.globalMiddleware=this.globalMiddleware.filter(i=>{let s=[...n[r]||[],r];return i.option?!s.includes(i.option):!0}),t.option=r,this.addMiddleware(t,!0,!0,!0)}getMiddleware(){return this.globalMiddleware}freeze(){this.frozens.push([...this.globalMiddleware])}unfreeze(){let t=this.frozens.pop();t!==void 0&&(this.globalMiddleware=t)}reset(){this.globalMiddleware=this.globalMiddleware.filter(t=>t.global)}};function Axe(e){return e?e.map(t=>(t.applyBeforeValidation=!1,t)):[]}o(Axe,"commandMiddlewareFactory");function D4(e,t,r,n){return r.reduce((i,s)=>{if(s.applyBeforeValidation!==n)return i;if(s.mutates){if(s.applied)return i;s.applied=!0}if(ps(i))return i.then(a=>Promise.all([a,s(a,t)])).then(([a,l])=>Object.assign(a,l));{let a=s(i,t);return ps(a)?a.then(l=>Object.assign(i,l)):Object.assign(i,a)}},e)}o(D4,"applyMiddleware");d();function P4(e,t,r=n=>{throw n}){try{let n=dct(e)?e():e;return ps(n)?n.then(i=>t(i)):t(n)}catch(n){return r(n)}}o(P4,"maybeAsyncResult");function dct(e){return typeof e=="function"}o(dct,"isFunction");d();function ree(e){if(typeof require>"u")return null;for(let t=0,r=Object.keys(require.cache),n;t<r.length;t++)if(n=require.cache[r[t]],n.exports===e)return n;return null}o(ree,"whichModule");var FI=/(^\*)|(^\$0)/,nee=class{static{o(this,"CommandInstance")}constructor(t,r,n,i){this.requireCache=new Set,this.handlers={},this.aliasMap={},this.frozens=[],this.shim=i,this.usage=t,this.globalMiddleware=n,this.validation=r}addDirectory(t,r,n,i){i=i||{},typeof i.recurse!="boolean"&&(i.recurse=!1),Array.isArray(i.extensions)||(i.extensions=["js"]);let s=typeof i.visit=="function"?i.visit:a=>a;i.visit=(a,l,c)=>{let u=s(a,l,c);if(u){if(this.requireCache.has(l))return u;this.requireCache.add(l),this.addHandler(u)}return u},this.shim.requireDirectory({require:r,filename:n},t,i)}addHandler(t,r,n,i,s,a){let l=[],c=Axe(s);if(i=i||(()=>{}),Array.isArray(t))if(mct(t))[t,...l]=t;else for(let u of t)this.addHandler(u);else if(pct(t)){let u=Array.isArray(t.command)||typeof t.command=="string"?t.command:this.moduleName(t);t.aliases&&(u=[].concat(u).concat(t.aliases)),this.addHandler(u,this.extractDesc(t),t.builder,t.handler,t.middlewares,t.deprecated);return}else if(yxe(n)){this.addHandler([t].concat(l),r,n.builder,n.handler,n.middlewares,n.deprecated);return}if(typeof t=="string"){let u=i5(t);l=l.map(h=>i5(h).cmd);let f=!1,m=[u.cmd].concat(l).filter(h=>FI.test(h)?(f=!0,!1):!0);m.length===0&&f&&m.push("$0"),f&&(u.cmd=m[0],l=m.slice(1),t=t.replace(FI,u.cmd)),l.forEach(h=>{this.aliasMap[h]=u.cmd}),r!==!1&&this.usage.command(t,r,f,l,a),this.handlers[u.cmd]={original:t,description:r,handler:i,builder:n||{},middlewares:c,deprecated:a,demanded:u.demanded,optional:u.optional},f&&(this.defaultCommand=this.handlers[u.cmd])}}getCommandHandlers(){return this.handlers}getCommands(){return Object.keys(this.handlers).concat(Object.keys(this.aliasMap))}hasDefaultCommand(){return!!this.defaultCommand}runCommand(t,r,n,i,s,a){let l=this.handlers[t]||this.handlers[this.aliasMap[t]]||this.defaultCommand,c=r.getInternalMethods().getContext(),u=c.commands.slice(),f=!t;t&&(c.commands.push(t),c.fullCommands.push(l.original));let m=this.applyBuilderUpdateUsageAndParse(f,l,r,n.aliases,u,i,s,a);return ps(m)?m.then(h=>this.applyMiddlewareAndGetResult(f,l,h.innerArgv,c,s,h.aliases,r)):this.applyMiddlewareAndGetResult(f,l,m.innerArgv,c,s,m.aliases,r)}applyBuilderUpdateUsageAndParse(t,r,n,i,s,a,l,c){let u=r.builder,f=n;if(iQ(u)){n.getInternalMethods().getUsageInstance().freeze();let m=u(n.getInternalMethods().reset(i),c);if(ps(m))return m.then(h=>(f=xxe(h)?h:n,this.parseAndUpdateUsage(t,r,f,s,a,l)))}else hct(u)&&(n.getInternalMethods().getUsageInstance().freeze(),f=n.getInternalMethods().reset(i),Object.keys(r.builder).forEach(m=>{f.option(m,u[m])}));return this.parseAndUpdateUsage(t,r,f,s,a,l)}parseAndUpdateUsage(t,r,n,i,s,a){t&&n.getInternalMethods().getUsageInstance().unfreeze(!0),this.shouldUpdateUsage(n)&&n.getInternalMethods().getUsageInstance().usage(this.usageFromParentCommandsCommandHandler(i,r),r.description);let l=n.getInternalMethods().runYargsParserAndExecuteCommands(null,void 0,!0,s,a);return ps(l)?l.then(c=>({aliases:n.parsed.aliases,innerArgv:c})):{aliases:n.parsed.aliases,innerArgv:l}}shouldUpdateUsage(t){return!t.getInternalMethods().getUsageInstance().getUsageDisabled()&&t.getInternalMethods().getUsageInstance().getUsage().length===0}usageFromParentCommandsCommandHandler(t,r){let n=FI.test(r.original)?r.original.replace(FI,"").trim():r.original,i=t.filter(s=>!FI.test(s));return i.push(n),`$0 ${i.join(" ")}`}handleValidationAndGetResult(t,r,n,i,s,a,l,c){if(!a.getInternalMethods().getHasOutput()){let u=a.getInternalMethods().runValidation(s,c,a.parsed.error,t);n=P4(n,f=>(u(f),f))}if(r.handler&&!a.getInternalMethods().getHasOutput()){a.getInternalMethods().setHasOutput();let u=!!a.getOptions().configuration["populate--"];a.getInternalMethods().postProcess(n,u,!1,!1),n=D4(n,a,l,!1),n=P4(n,f=>{let m=r.handler(f);return ps(m)?m.then(()=>f):f}),t||a.getInternalMethods().getUsageInstance().cacheHelpMessage(),ps(n)&&!a.getInternalMethods().hasParseCallback()&&n.catch(f=>{try{a.getInternalMethods().getUsageInstance().fail(null,f)}catch{}})}return t||(i.commands.pop(),i.fullCommands.pop()),n}applyMiddlewareAndGetResult(t,r,n,i,s,a,l){let c={};if(s)return n;l.getInternalMethods().getHasOutput()||(c=this.populatePositionals(r,n,i,l));let u=this.globalMiddleware.getMiddleware().slice(0).concat(r.middlewares),f=D4(n,l,u,!0);return ps(f)?f.then(m=>this.handleValidationAndGetResult(t,r,m,i,a,l,u,c)):this.handleValidationAndGetResult(t,r,f,i,a,l,u,c)}populatePositionals(t,r,n,i){r._=r._.slice(n.commands.length);let s=t.demanded.slice(0),a=t.optional.slice(0),l={};for(this.validation.positionalCount(s.length,r._.length);s.length;){let c=s.shift();this.populatePositional(c,r,l)}for(;a.length;){let c=a.shift();this.populatePositional(c,r,l)}return r._=n.commands.concat(r._.map(c=>""+c)),this.postProcessPositionals(r,l,this.cmdToParseOptions(t.original),i),l}populatePositional(t,r,n){let i=t.cmd[0];t.variadic?n[i]=r._.splice(0).map(String):r._.length&&(n[i]=[String(r._.shift())])}cmdToParseOptions(t){let r={array:[],default:{},alias:{},demand:{}},n=i5(t);return n.demanded.forEach(i=>{let[s,...a]=i.cmd;i.variadic&&(r.array.push(s),r.default[s]=[]),r.alias[s]=a,r.demand[s]=!0}),n.optional.forEach(i=>{let[s,...a]=i.cmd;i.variadic&&(r.array.push(s),r.default[s]=[]),r.alias[s]=a}),r}postProcessPositionals(t,r,n,i){let s=Object.assign({},i.getOptions());s.default=Object.assign(n.default,s.default);for(let u of Object.keys(n.alias))s.alias[u]=(s.alias[u]||[]).concat(n.alias[u]);s.array=s.array.concat(n.array),s.config={};let a=[];if(Object.keys(r).forEach(u=>{r[u].map(f=>{s.configuration["unknown-options-as-args"]&&(s.key[u]=!0),a.push(`--${u}`),a.push(f)})}),!a.length)return;let l=Object.assign({},s.configuration,{"populate--":!1}),c=this.shim.Parser.detailed(a,Object.assign({},s,{configuration:l}));if(c.error)i.getInternalMethods().getUsageInstance().fail(c.error.message,c.error);else{let u=Object.keys(r);Object.keys(r).forEach(f=>{u.push(...c.aliases[f])}),Object.keys(c.argv).forEach(f=>{u.includes(f)&&(r[f]||(r[f]=c.argv[f]),!this.isInConfigs(i,f)&&!this.isDefaulted(i,f)&&Object.prototype.hasOwnProperty.call(t,f)&&Object.prototype.hasOwnProperty.call(c.argv,f)&&(Array.isArray(t[f])||Array.isArray(c.argv[f]))?t[f]=[].concat(t[f],c.argv[f]):t[f]=c.argv[f])})}}isDefaulted(t,r){let{default:n}=t.getOptions();return Object.prototype.hasOwnProperty.call(n,r)||Object.prototype.hasOwnProperty.call(n,this.shim.Parser.camelCase(r))}isInConfigs(t,r){let{configObjects:n}=t.getOptions();return n.some(i=>Object.prototype.hasOwnProperty.call(i,r))||n.some(i=>Object.prototype.hasOwnProperty.call(i,this.shim.Parser.camelCase(r)))}runDefaultBuilderOn(t){if(!this.defaultCommand)return;if(this.shouldUpdateUsage(t)){let n=FI.test(this.defaultCommand.original)?this.defaultCommand.original:this.defaultCommand.original.replace(/^[^[\]<>]*/,"$0 ");t.getInternalMethods().getUsageInstance().usage(n,this.defaultCommand.description)}let r=this.defaultCommand.builder;if(iQ(r))return r(t,!0);yxe(r)||Object.keys(r).forEach(n=>{t.option(n,r[n])})}moduleName(t){let r=ree(t);if(!r)throw new Error(`No command name given for module: ${this.shim.inspect(t)}`);return this.commandFromFilename(r.filename)}commandFromFilename(t){return this.shim.path.basename(t,this.shim.path.extname(t))}extractDesc({describe:t,description:r,desc:n}){for(let i of[t,r,n]){if(typeof i=="string"||i===!1)return i;s0(i,!0,this.shim)}return!1}freeze(){this.frozens.push({handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand})}unfreeze(){let t=this.frozens.pop();s0(t,void 0,this.shim),{handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand}=t}reset(){return this.handlers={},this.aliasMap={},this.defaultCommand=void 0,this.requireCache=new Set,this}};function Cxe(e,t,r,n){return new nee(e,t,r,n)}o(Cxe,"command");function yxe(e){return typeof e=="object"&&!!e.builder&&typeof e.handler=="function"}o(yxe,"isCommandBuilderDefinition");function mct(e){return e.every(t=>typeof t=="string")}o(mct,"isCommandAndAliases");function iQ(e){return typeof e=="function"}o(iQ,"isCommandBuilderCallback");function hct(e){return typeof e=="object"}o(hct,"isCommandBuilderOptionDefinitions");function pct(e){return typeof e=="object"&&!Array.isArray(e)}o(pct,"isCommandHandlerDefinition");d();d();function o5(e={},t=()=>!0){let r={};return PI(e).forEach(n=>{t(n,e[n])&&(r[n]=e[n])}),r}o(o5,"objFilter");d();function s5(e){typeof process>"u"||[process.stdout,process.stderr].forEach(t=>{let r=t;r._handle&&r.isTTY&&typeof r._handle.setBlocking=="function"&&r._handle.setBlocking(e)})}o(s5,"setBlocking");function gct(e){return typeof e=="boolean"}o(gct,"isBoolean");function bxe(e,t){let r=t.y18n.__,n={},i=[];n.failFn=o(function(q){i.push(q)},"failFn");let s=null,a=null,l=!0;n.showHelpOnFail=o(function(q=!0,oe){let[X,H]=typeof q=="string"?[!0,q]:[q,oe];return e.getInternalMethods().isGlobalContext()&&(a=H),s=H,l=X,n},"showHelpOnFailFn");let c=!1;n.fail=o(function(q,oe){let X=e.getInternalMethods().getLoggerInstance();if(i.length)for(let H=i.length-1;H>=0;--H){let O=i[H];if(gct(O)){if(oe)throw oe;if(q)throw Error(q)}else O(q,oe,n)}else{if(e.getExitProcess()&&s5(!0),!c){c=!0,l&&(e.showHelp("error"),X.error()),(q||oe)&&X.error(q||oe);let H=s||a;H&&((q||oe)&&X.error(""),X.error(H))}if(oe=oe||new hs(q),e.getExitProcess())return e.exit(1);if(e.getInternalMethods().hasParseCallback())return e.exit(1,oe);throw oe}},"fail");let u=[],f=!1;n.usage=(W,q)=>W===null?(f=!0,u=[],n):(f=!1,u.push([W,q||""]),n),n.getUsage=()=>u,n.getUsageDisabled=()=>f,n.getPositionalGroupName=()=>r("Positionals:");let m=[];n.example=(W,q)=>{m.push([W,q||""])};let h=[];n.command=o(function(q,oe,X,H,O=!1){X&&(h=h.map(V=>(V[2]=!1,V))),h.push([q,oe||"",X,H,O])},"command"),n.getCommands=()=>h;let p={};n.describe=o(function(q,oe){Array.isArray(q)?q.forEach(X=>{n.describe(X,oe)}):typeof q=="object"?Object.keys(q).forEach(X=>{n.describe(X,q[X])}):p[q]=oe},"describe"),n.getDescriptions=()=>p;let g=[];n.epilog=W=>{g.push(W)};let x=!1,v;n.wrap=W=>{x=!0,v=W},n.getWrap=()=>t.getEnv("YARGS_DISABLE_WRAP")?null:(x||(v=se(),x=!0),v);let E="__yargsString__:";n.deferY18nLookup=W=>E+W,n.help=o(function(){if(R)return R;_();let q=e.customScriptName?e.$0:t.path.basename(e.$0),oe=e.getDemandedOptions(),X=e.getDemandedCommands(),H=e.getDeprecatedOptions(),O=e.getGroups(),V=e.getOptions(),J=[];J=J.concat(Object.keys(p)),J=J.concat(Object.keys(oe)),J=J.concat(Object.keys(X)),J=J.concat(Object.keys(V.default)),J=J.filter(F),J=Object.keys(J.reduce((Re,Ge)=>(Ge!=="_"&&(Re[Ge]=!0),Re),{}));let ae=n.getWrap(),te=t.cliui({width:ae,wrap:!!ae});if(!f){if(u.length)u.forEach(Re=>{te.div({text:`${Re[0].replace(/\$0/g,q)}`}),Re[1]&&te.div({text:`${Re[1]}`,padding:[1,0,0,0]})}),te.div();else if(h.length){let Re=null;X._?Re=`${q} <${r("command")}>
`:Re=`${q} [${r("command")}]
`,te.div(`${Re}`)}}if(h.length>1||h.length===1&&!h[0][2]){te.div(r("Commands:"));let Re=e.getInternalMethods().getContext(),Ge=Re.commands.length?`${Re.commands.join(" ")} `:"";e.getInternalMethods().getParserConfiguration()["sort-commands"]===!0&&(h=h.sort((st,ct)=>st[0].localeCompare(ct[0])));let lt=q?`${q} `:"";h.forEach(st=>{let ct=`${lt}${Ge}${st[0].replace(/^\$0 ?/,"")}`;te.span({text:ct,padding:[0,2,0,2],width:b(h,ae,`${q}${Ge}`)+4},{text:st[1]});let ne=[];st[2]&&ne.push(`[${r("default")}]`),st[3]&&st[3].length&&ne.push(`[${r("aliases:")} ${st[3].join(", ")}]`),st[4]&&(typeof st[4]=="string"?ne.push(`[${r("deprecated: %s",st[4])}]`):ne.push(`[${r("deprecated")}]`)),ne.length?te.div({text:ne.join(" "),padding:[0,0,0,2],align:"right"}):te.div()}),te.div()}let le=(Object.keys(V.alias)||[]).concat(Object.keys(e.parsed.newAliases)||[]);J=J.filter(Re=>!e.parsed.newAliases[Re]&&le.every(Ge=>(V.alias[Ge]||[]).indexOf(Re)===-1));let ce=r("Options:");O[ce]||(O[ce]=[]),P(J,V.alias,O,ce);let Pe=o(Re=>/^--/.test(oQ(Re)),"isLongSwitch"),Ie=Object.keys(O).filter(Re=>O[Re].length>0).map(Re=>{let Ge=O[Re].filter(F).map(lt=>{if(le.includes(lt))return lt;for(let st=0,ct;(ct=le[st])!==void 0;st++)if((V.alias[ct]||[]).includes(lt))return ct;return lt});return{groupName:Re,normalizedKeys:Ge}}).filter(({normalizedKeys:Re})=>Re.length>0).map(({groupName:Re,normalizedKeys:Ge})=>{let lt=Ge.reduce((st,ct)=>(st[ct]=[ct].concat(V.alias[ct]||[]).map(ne=>Re===n.getPositionalGroupName()?ne:(/^[0-9]$/.test(ne)?V.boolean.includes(ct)?"-":"--":ne.length>1?"--":"-")+ne).sort((ne,Ne)=>Pe(ne)===Pe(Ne)?0:Pe(ne)?1:-1).join(", "),st),{});return{groupName:Re,normalizedKeys:Ge,switches:lt}});if(Ie.filter(({groupName:Re})=>Re!==n.getPositionalGroupName()).some(({normalizedKeys:Re,switches:Ge})=>!Re.every(lt=>Pe(Ge[lt])))&&Ie.filter(({groupName:Re})=>Re!==n.getPositionalGroupName()).forEach(({normalizedKeys:Re,switches:Ge})=>{Re.forEach(lt=>{Pe(Ge[lt])&&(Ge[lt]=Act(Ge[lt],4))})}),Ie.forEach(({groupName:Re,normalizedKeys:Ge,switches:lt})=>{te.div(Re),Ge.forEach(st=>{let ct=lt[st],ne=p[st]||"",Ne=null;ne.includes(E)&&(ne=r(ne.substring(E.length))),V.boolean.includes(st)&&(Ne=`[${r("boolean")}]`),V.count.includes(st)&&(Ne=`[${r("count")}]`),V.string.includes(st)&&(Ne=`[${r("string")}]`),V.normalize.includes(st)&&(Ne=`[${r("string")}]`),V.array.includes(st)&&(Ne=`[${r("array")}]`),V.number.includes(st)&&(Ne=`[${r("number")}]`);let ge=o(ee=>typeof ee=="string"?`[${r("deprecated: %s",ee)}]`:`[${r("deprecated")}]`,"deprecatedExtra"),He=[st in H?ge(H[st]):null,Ne,st in oe?`[${r("required")}]`:null,V.choices&&V.choices[st]?`[${r("choices:")} ${n.stringifiedValues(V.choices[st])}]`:null,G(V.default[st],V.defaultDescription[st])].filter(Boolean).join(" ");te.span({text:oQ(ct),padding:[0,2,0,2+vxe(ct)],width:b(lt,ae)+4},ne);let z=e.getInternalMethods().getUsageConfiguration()["hide-types"]===!0;He&&!z?te.div({text:He,padding:[0,0,0,2],align:"right"}):te.div()}),te.div()}),m.length&&(te.div(r("Examples:")),m.forEach(Re=>{Re[0]=Re[0].replace(/\$0/g,q)}),m.forEach(Re=>{Re[1]===""?te.div({text:Re[0],padding:[0,2,0,2]}):te.div({text:Re[0],padding:[0,2,0,2],width:b(m,ae)+4},{text:Re[1]})}),te.div()),g.length>0){let Re=g.map(Ge=>Ge.replace(/\$0/g,q)).join(`
`);te.div(`${Re}
`)}return te.toString().replace(/\s*$/,"")},"help");function b(W,q,oe){let X=0;return Array.isArray(W)||(W=Object.values(W).map(H=>[H])),W.forEach(H=>{X=Math.max(t.stringWidth(oe?`${oe} ${oQ(H[0])}`:oQ(H[0]))+vxe(H[0]),X)}),q&&(X=Math.min(X,parseInt((q*.5).toString(),10))),X}o(b,"maxWidth");function _(){let W=e.getDemandedOptions(),q=e.getOptions();(Object.keys(q.alias)||[]).forEach(oe=>{q.alias[oe].forEach(X=>{p[X]&&n.describe(oe,p[X]),X in W&&e.demandOption(oe,W[X]),q.boolean.includes(X)&&e.boolean(oe),q.count.includes(X)&&e.count(oe),q.string.includes(X)&&e.string(oe),q.normalize.includes(X)&&e.normalize(oe),q.array.includes(X)&&e.array(oe),q.number.includes(X)&&e.number(oe)})})}o(_,"normalizeAliases");let R;n.cacheHelpMessage=function(){R=this.help()},n.clearCachedHelpMessage=function(){R=void 0},n.hasCachedHelpMessage=function(){return!!R};function P(W,q,oe,X){let H=[],O=null;return Object.keys(oe).forEach(V=>{H=H.concat(oe[V])}),W.forEach(V=>{O=[V].concat(q[V]),O.some(J=>H.indexOf(J)!==-1)||oe[X].push(V)}),H}o(P,"addUngroupedKeys");function F(W){return e.getOptions().hiddenOptions.indexOf(W)<0||e.parsed.argv[e.getOptions().showHiddenOpt]}o(F,"filterHiddenOptions"),n.showHelp=W=>{let q=e.getInternalMethods().getLoggerInstance();W||(W="error"),(typeof W=="function"?W:q[W])(n.help())},n.functionDescription=W=>["(",W.name?t.Parser.decamelize(W.name,"-"):r("generated-value"),")"].join(""),n.stringifiedValues=o(function(q,oe){let X="",H=oe||", ",O=[].concat(q);return!q||!O.length||O.forEach(V=>{X.length&&(X+=H),X+=JSON.stringify(V)}),X},"stringifiedValues");function G(W,q){let oe=`[${r("default:")} `;if(W===void 0&&!q)return null;if(q)oe+=q;else switch(typeof W){case"string":oe+=`"${W}"`;break;case"object":oe+=JSON.stringify(W);break;default:oe+=W}return`${oe}]`}o(G,"defaultString");function se(){return t.process.stdColumns?Math.min(80,t.process.stdColumns):80}o(se,"windowWidth");let Ae=null;n.version=W=>{Ae=W},n.showVersion=W=>{let q=e.getInternalMethods().getLoggerInstance();W||(W="error"),(typeof W=="function"?W:q[W])(Ae)},n.reset=o(function(q){return s=null,c=!1,u=[],f=!1,g=[],m=[],h=[],p=o5(p,oe=>!q[oe]),n},"reset");let re=[];return n.freeze=o(function(){re.push({failMessage:s,failureOutput:c,usages:u,usageDisabled:f,epilogs:g,examples:m,commands:h,descriptions:p})},"freeze"),n.unfreeze=o(function(q=!1){let oe=re.pop();oe&&(q?(p={...oe.descriptions,...p},h=[...oe.commands,...h],u=[...oe.usages,...u],m=[...oe.examples,...m],g=[...oe.epilogs,...g]):{failMessage:s,failureOutput:c,usages:u,usageDisabled:f,epilogs:g,examples:m,commands:h,descriptions:p}=oe)},"unfreeze"),n}o(bxe,"usage");function iee(e){return typeof e=="object"}o(iee,"isIndentedText");function Act(e,t){return iee(e)?{text:e.text,indentation:e.indentation+t}:{text:e,indentation:t}}o(Act,"addIndentation");function vxe(e){return iee(e)?e.indentation:0}o(vxe,"getIndentation");function oQ(e){return iee(e)?e.text:e}o(oQ,"getText");d();d();var Exe=`###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.bashrc
#    or {{app_path}} {{completion_command}} >> ~/.bash_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
    local cur_word args type_list

    cur_word="\${COMP_WORDS[COMP_CWORD]}"
    args=("\${COMP_WORDS[@]}")

    # ask yargs to generate completions.
    type_list=$({{app_path}} --get-yargs-completions "\${args[@]}")

    COMPREPLY=( $(compgen -W "\${type_list}" -- \${cur_word}) )

    # if no match was found, fall back to filename completion
    if [ \${#COMPREPLY[@]} -eq 0 ]; then
      COMPREPLY=()
    fi

    return 0
}
complete -o bashdefault -o default -F _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`,Ixe=`#compdef {{app_name}}
###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.zshrc
#    or {{app_path}} {{completion_command}} >> ~/.zprofile on OSX.
#
_{{app_name}}_yargs_completions()
{
  local reply
  local si=$IFS
  IFS=$'
' reply=($(COMP_CWORD="$((CURRENT-1))" COMP_LINE="$BUFFER" COMP_POINT="$CURSOR" {{app_path}} --get-yargs-completions "\${words[@]}"))
  IFS=$si
  _describe 'values' reply
}
compdef _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`;var oee=class{static{o(this,"Completion")}constructor(t,r,n,i){var s,a,l;this.yargs=t,this.usage=r,this.command=n,this.shim=i,this.completionKey="get-yargs-completions",this.aliases=null,this.customCompletionFunction=null,this.indexAfterLastReset=0,this.zshShell=(l=((s=this.shim.getEnv("SHELL"))===null||s===void 0?void 0:s.includes("zsh"))||((a=this.shim.getEnv("ZSH_NAME"))===null||a===void 0?void 0:a.includes("zsh")))!==null&&l!==void 0?l:!1}defaultCompletion(t,r,n,i){let s=this.command.getCommandHandlers();for(let l=0,c=t.length;l<c;++l)if(s[t[l]]&&s[t[l]].builder){let u=s[t[l]].builder;if(iQ(u)){this.indexAfterLastReset=l+1;let f=this.yargs.getInternalMethods().reset();return u(f,!0),f.argv}}let a=[];this.commandCompletions(a,t,n),this.optionCompletions(a,t,r,n),this.choicesFromOptionsCompletions(a,t,r,n),this.choicesFromPositionalsCompletions(a,t,r,n),i(null,a)}commandCompletions(t,r,n){let i=this.yargs.getInternalMethods().getContext().commands;!n.match(/^-/)&&i[i.length-1]!==n&&!this.previousArgHasChoices(r)&&this.usage.getCommands().forEach(s=>{let a=i5(s[0]).cmd;if(r.indexOf(a)===-1)if(!this.zshShell)t.push(a);else{let l=s[1]||"";t.push(a.replace(/:/g,"\\:")+":"+l)}})}optionCompletions(t,r,n,i){if((i.match(/^-/)||i===""&&t.length===0)&&!this.previousArgHasChoices(r)){let s=this.yargs.getOptions(),a=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[];Object.keys(s.key).forEach(l=>{let c=!!s.configuration["boolean-negation"]&&s.boolean.includes(l);!a.includes(l)&&!s.hiddenOptions.includes(l)&&!this.argsContainKey(r,l,c)&&this.completeOptionKey(l,t,i,c&&!!s.default[l])})}}choicesFromOptionsCompletions(t,r,n,i){if(this.previousArgHasChoices(r)){let s=this.getPreviousArgChoices(r);s&&s.length>0&&t.push(...s.map(a=>a.replace(/:/g,"\\:")))}}choicesFromPositionalsCompletions(t,r,n,i){if(i===""&&t.length>0&&this.previousArgHasChoices(r))return;let s=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[],a=Math.max(this.indexAfterLastReset,this.yargs.getInternalMethods().getContext().commands.length+1),l=s[n._.length-a-1];if(!l)return;let c=this.yargs.getOptions().choices[l]||[];for(let u of c)u.startsWith(i)&&t.push(u.replace(/:/g,"\\:"))}getPreviousArgChoices(t){if(t.length<1)return;let r=t[t.length-1],n="";if(!r.startsWith("-")&&t.length>1&&(n=r,r=t[t.length-2]),!r.startsWith("-"))return;let i=r.replace(/^-+/,""),s=this.yargs.getOptions(),a=[i,...this.yargs.getAliases()[i]||[]],l;for(let c of a)if(Object.prototype.hasOwnProperty.call(s.key,c)&&Array.isArray(s.choices[c])){l=s.choices[c];break}if(l)return l.filter(c=>!n||c.startsWith(n))}previousArgHasChoices(t){let r=this.getPreviousArgChoices(t);return r!==void 0&&r.length>0}argsContainKey(t,r,n){let i=o(s=>t.indexOf((/^[^0-9]$/.test(s)?"-":"--")+s)!==-1,"argsContains");if(i(r)||n&&i(`no-${r}`))return!0;if(this.aliases){for(let s of this.aliases[r])if(i(s))return!0}return!1}completeOptionKey(t,r,n,i){var s,a,l,c;let u=t;if(this.zshShell){let p=this.usage.getDescriptions(),g=(a=(s=this===null||this===void 0?void 0:this.aliases)===null||s===void 0?void 0:s[t])===null||a===void 0?void 0:a.find(E=>{let b=p[E];return typeof b=="string"&&b.length>0}),x=g?p[g]:void 0,v=(c=(l=p[t])!==null&&l!==void 0?l:x)!==null&&c!==void 0?c:"";u=`${t.replace(/:/g,"\\:")}:${v.replace("__yargsString__:","").replace(/(\r\n|\n|\r)/gm," ")}`}let f=o(p=>/^--/.test(p),"startsByTwoDashes"),m=o(p=>/^[^0-9]$/.test(p),"isShortOption"),h=!f(n)&&m(t)?"-":"--";r.push(h+u),i&&r.push(h+"no-"+u)}customCompletion(t,r,n,i){if(s0(this.customCompletionFunction,null,this.shim),Cct(this.customCompletionFunction)){let s=this.customCompletionFunction(n,r);return ps(s)?s.then(a=>{this.shim.process.nextTick(()=>{i(null,a)})}).catch(a=>{this.shim.process.nextTick(()=>{i(a,void 0)})}):i(null,s)}else return xct(this.customCompletionFunction)?this.customCompletionFunction(n,r,(s=i)=>this.defaultCompletion(t,r,n,s),s=>{i(null,s)}):this.customCompletionFunction(n,r,s=>{i(null,s)})}getCompletion(t,r){let n=t.length?t[t.length-1]:"",i=this.yargs.parse(t,!0),s=this.customCompletionFunction?a=>this.customCompletion(t,a,n,r):a=>this.defaultCompletion(t,a,n,r);return ps(i)?i.then(s):s(i)}generateCompletionScript(t,r){let n=this.zshShell?Ixe:Exe,i=this.shim.path.basename(t);return t.match(/\.js$/)&&(t=`./${t}`),n=n.replace(/{{app_name}}/g,i),n=n.replace(/{{completion_command}}/g,r),n.replace(/{{app_path}}/g,t)}registerFunction(t){this.customCompletionFunction=t}setParsed(t){this.aliases=t.aliases}};function Txe(e,t,r,n){return new oee(e,t,r,n)}o(Txe,"completion");function Cct(e){return e.length<3}o(Cct,"isSyncCompletionFunction");function xct(e){return e.length>3}o(xct,"isFallbackCompletionFunction");d();d();function wxe(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;let r=[],n;for(n=0;n<=t.length;n++)r[n]=[n];let i;for(i=0;i<=e.length;i++)r[0][i]=i;for(n=1;n<=t.length;n++)for(i=1;i<=e.length;i++)t.charAt(n-1)===e.charAt(i-1)?r[n][i]=r[n-1][i-1]:n>1&&i>1&&t.charAt(n-2)===e.charAt(i-1)&&t.charAt(n-1)===e.charAt(i-2)?r[n][i]=r[n-2][i-2]+1:r[n][i]=Math.min(r[n-1][i-1]+1,Math.min(r[n][i-1]+1,r[n-1][i]+1));return r[t.length][e.length]}o(wxe,"levenshtein");var _xe=["$0","--","_"];function Sxe(e,t,r){let n=r.y18n.__,i=r.y18n.__n,s={};s.nonOptionCount=o(function(m){let h=e.getDemandedCommands(),g=m._.length+(m["--"]?m["--"].length:0)-e.getInternalMethods().getContext().commands.length;h._&&(g<h._.min||g>h._.max)&&(g<h._.min?h._.minMsg!==void 0?t.fail(h._.minMsg?h._.minMsg.replace(/\$0/g,g.toString()).replace(/\$1/,h._.min.toString()):null):t.fail(i("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",g,g.toString(),h._.min.toString())):g>h._.max&&(h._.maxMsg!==void 0?t.fail(h._.maxMsg?h._.maxMsg.replace(/\$0/g,g.toString()).replace(/\$1/,h._.max.toString()):null):t.fail(i("Too many non-option arguments: got %s, maximum of %s","Too many non-option arguments: got %s, maximum of %s",g,g.toString(),h._.max.toString()))))},"nonOptionCount"),s.positionalCount=o(function(m,h){h<m&&t.fail(i("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",h,h+"",m+""))},"positionalCount"),s.requiredArguments=o(function(m,h){let p=null;for(let g of Object.keys(h))(!Object.prototype.hasOwnProperty.call(m,g)||typeof m[g]>"u")&&(p=p||{},p[g]=h[g]);if(p){let g=[];for(let v of Object.keys(p)){let E=p[v];E&&g.indexOf(E)<0&&g.push(E)}let x=g.length?`
${g.join(`
`)}`:"";t.fail(i("Missing required argument: %s","Missing required arguments: %s",Object.keys(p).length,Object.keys(p).join(", ")+x))}},"requiredArguments"),s.unknownArguments=o(function(m,h,p,g,x=!0){var v;let E=e.getInternalMethods().getCommandInstance().getCommands(),b=[],_=e.getInternalMethods().getContext();if(Object.keys(m).forEach(R=>{!_xe.includes(R)&&!Object.prototype.hasOwnProperty.call(p,R)&&!Object.prototype.hasOwnProperty.call(e.getInternalMethods().getParseContext(),R)&&!s.isValidAndSomeAliasIsNotNew(R,h)&&b.push(R)}),x&&(_.commands.length>0||E.length>0||g)&&m._.slice(_.commands.length).forEach(R=>{E.includes(""+R)||b.push(""+R)}),x){let P=((v=e.getDemandedCommands()._)===null||v===void 0?void 0:v.max)||0,F=_.commands.length+P;F<m._.length&&m._.slice(F).forEach(G=>{G=String(G),!_.commands.includes(G)&&!b.includes(G)&&b.push(G)})}b.length&&t.fail(i("Unknown argument: %s","Unknown arguments: %s",b.length,b.map(R=>R.trim()?R:`"${R}"`).join(", ")))},"unknownArguments"),s.unknownCommands=o(function(m){let h=e.getInternalMethods().getCommandInstance().getCommands(),p=[],g=e.getInternalMethods().getContext();return(g.commands.length>0||h.length>0)&&m._.slice(g.commands.length).forEach(x=>{h.includes(""+x)||p.push(""+x)}),p.length>0?(t.fail(i("Unknown command: %s","Unknown commands: %s",p.length,p.join(", "))),!0):!1},"unknownCommands"),s.isValidAndSomeAliasIsNotNew=o(function(m,h){if(!Object.prototype.hasOwnProperty.call(h,m))return!1;let p=e.parsed.newAliases;return[m,...h[m]].some(g=>!Object.prototype.hasOwnProperty.call(p,g)||!p[m])},"isValidAndSomeAliasIsNotNew"),s.limitedChoices=o(function(m){let h=e.getOptions(),p={};if(!Object.keys(h.choices).length)return;Object.keys(m).forEach(v=>{_xe.indexOf(v)===-1&&Object.prototype.hasOwnProperty.call(h.choices,v)&&[].concat(m[v]).forEach(E=>{h.choices[v].indexOf(E)===-1&&E!==void 0&&(p[v]=(p[v]||[]).concat(E))})});let g=Object.keys(p);if(!g.length)return;let x=n("Invalid values:");g.forEach(v=>{x+=`
  ${n("Argument: %s, Given: %s, Choices: %s",v,t.stringifiedValues(p[v]),t.stringifiedValues(h.choices[v]))}`}),t.fail(x)},"limitedChoices");let a={};s.implies=o(function(m,h){Pr("<string|object> [array|number|string]",[m,h],arguments.length),typeof m=="object"?Object.keys(m).forEach(p=>{s.implies(p,m[p])}):(e.global(m),a[m]||(a[m]=[]),Array.isArray(h)?h.forEach(p=>s.implies(m,p)):(s0(h,void 0,r),a[m].push(h)))},"implies"),s.getImplied=o(function(){return a},"getImplied");function l(f,m){let h=Number(m);return m=isNaN(h)?m:h,typeof m=="number"?m=f._.length>=m:m.match(/^--no-.+/)?(m=m.match(/^--no-(.+)/)[1],m=!Object.prototype.hasOwnProperty.call(f,m)):m=Object.prototype.hasOwnProperty.call(f,m),m}o(l,"keyExists"),s.implications=o(function(m){let h=[];if(Object.keys(a).forEach(p=>{let g=p;(a[p]||[]).forEach(x=>{let v=g,E=x;v=l(m,v),x=l(m,x),v&&!x&&h.push(` ${g} -> ${E}`)})}),h.length){let p=`${n("Implications failed:")}
`;h.forEach(g=>{p+=g}),t.fail(p)}},"implications");let c={};s.conflicts=o(function(m,h){Pr("<string|object> [array|string]",[m,h],arguments.length),typeof m=="object"?Object.keys(m).forEach(p=>{s.conflicts(p,m[p])}):(e.global(m),c[m]||(c[m]=[]),Array.isArray(h)?h.forEach(p=>s.conflicts(m,p)):c[m].push(h))},"conflicts"),s.getConflicting=()=>c,s.conflicting=o(function(m){Object.keys(m).forEach(h=>{c[h]&&c[h].forEach(p=>{p&&m[h]!==void 0&&m[p]!==void 0&&t.fail(n("Arguments %s and %s are mutually exclusive",h,p))})}),e.getInternalMethods().getParserConfiguration()["strip-dashed"]&&Object.keys(c).forEach(h=>{c[h].forEach(p=>{p&&m[r.Parser.camelCase(h)]!==void 0&&m[r.Parser.camelCase(p)]!==void 0&&t.fail(n("Arguments %s and %s are mutually exclusive",h,p))})})},"conflictingFn"),s.recommendCommands=o(function(m,h){h=h.sort((v,E)=>E.length-v.length);let g=null,x=1/0;for(let v=0,E;(E=h[v])!==void 0;v++){let b=wxe(m,E);b<=3&&b<x&&(x=b,g=E)}g&&t.fail(n("Did you mean %s?",g))},"recommendCommands"),s.reset=o(function(m){return a=o5(a,h=>!m[h]),c=o5(c,h=>!m[h]),s},"reset");let u=[];return s.freeze=o(function(){u.push({implied:a,conflicting:c})},"freeze"),s.unfreeze=o(function(){let m=u.pop();s0(m,void 0,r),{implied:a,conflicting:c}=m},"unfreeze"),s}o(Sxe,"validation");d();var see=[],Zw;function sQ(e,t,r,n){Zw=n;let i={};if(Object.prototype.hasOwnProperty.call(e,"extends")){if(typeof e.extends!="string")return i;let s=/\.json|\..*rc$/.test(e.extends),a=null;if(s)a=bct(t,e.extends);else try{a=require.resolve(e.extends)}catch{return e}vct(a),see.push(a),i=s?JSON.parse(Zw.readFileSync(a,"utf8")):require(e.extends),delete e.extends,i=sQ(i,Zw.path.dirname(a),r,Zw)}return see=[],r?kxe(i,e):Object.assign({},i,e)}o(sQ,"applyExtends");function vct(e){if(see.indexOf(e)>-1)throw new hs(`Circular extended configurations: '${e}'.`)}o(vct,"checkForCircularExtends");function bct(e,t){return Zw.path.resolve(e,t)}o(bct,"getPathToDefaultConfig");function kxe(e,t){let r={};function n(i){return i&&typeof i=="object"&&!Array.isArray(i)}o(n,"isObject"),Object.assign(r,e);for(let i of Object.keys(t))n(t[i])&&n(r[i])?r[i]=kxe(e[i],t[i]):r[i]=t[i];return r}o(kxe,"mergeDeep");var Nr=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},he=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},ba,F4,Xw,bd,tf,aQ,a5,N4,lQ,Ed,cQ,Id,Op,rf,Td,uQ,NI,wl,zr,fQ,dQ,nf,L4,LI,Q4,l5,mQ,Bn,M4,O4,U4,Wn,hQ,Up,ta;function Yxe(e){return(t=[],r=e.process.cwd(),n)=>{let i=new Aee(t,r,n,e);return Object.defineProperty(i,"argv",{get:o(()=>i.parse(),"get"),enumerable:!0}),i.help(),i.version(),i}}o(Yxe,"YargsFactory");var Rxe=Symbol("copyDoubleDash"),Bxe=Symbol("copyDoubleDash"),aee=Symbol("deleteFromParserHintObject"),Dxe=Symbol("emitWarning"),Pxe=Symbol("freeze"),Fxe=Symbol("getDollarZero"),q4=Symbol("getParserConfiguration"),Nxe=Symbol("getUsageConfiguration"),lee=Symbol("guessLocale"),Lxe=Symbol("guessVersion"),Qxe=Symbol("parsePositionalNumbers"),cee=Symbol("pkgUp"),c5=Symbol("populateParserHintArray"),QI=Symbol("populateParserHintSingleValueDictionary"),uee=Symbol("populateParserHintArrayDictionary"),fee=Symbol("populateParserHintDictionary"),dee=Symbol("sanitizeKey"),mee=Symbol("setKey"),hee=Symbol("unfreeze"),Mxe=Symbol("validateAsync"),Oxe=Symbol("getCommandInstance"),Uxe=Symbol("getContext"),qxe=Symbol("getHasOutput"),Wxe=Symbol("getLoggerInstance"),Gxe=Symbol("getParseContext"),Hxe=Symbol("getUsageInstance"),jxe=Symbol("getValidationInstance"),pQ=Symbol("hasParseCallback"),Vxe=Symbol("isGlobalContext"),W4=Symbol("postProcess"),$xe=Symbol("rebase"),pee=Symbol("reset"),e_=Symbol("runYargsParserAndExecuteCommands"),gee=Symbol("runValidation"),zxe=Symbol("setHasOutput"),G4=Symbol("kTrackManuallySetKeys"),Aee=class{static{o(this,"YargsInstance")}constructor(t=[],r,n,i){this.customScriptName=!1,this.parsed=!1,ba.set(this,void 0),F4.set(this,void 0),Xw.set(this,{commands:[],fullCommands:[]}),bd.set(this,null),tf.set(this,null),aQ.set(this,"show-hidden"),a5.set(this,null),N4.set(this,!0),lQ.set(this,{}),Ed.set(this,!0),cQ.set(this,[]),Id.set(this,void 0),Op.set(this,{}),rf.set(this,!1),Td.set(this,null),uQ.set(this,!0),NI.set(this,void 0),wl.set(this,""),zr.set(this,void 0),fQ.set(this,void 0),dQ.set(this,{}),nf.set(this,null),L4.set(this,null),LI.set(this,{}),Q4.set(this,{}),l5.set(this,void 0),mQ.set(this,!1),Bn.set(this,void 0),M4.set(this,!1),O4.set(this,!1),U4.set(this,!1),Wn.set(this,void 0),hQ.set(this,{}),Up.set(this,null),ta.set(this,void 0),Nr(this,Bn,i,"f"),Nr(this,l5,t,"f"),Nr(this,F4,r,"f"),Nr(this,fQ,n,"f"),Nr(this,Id,new nQ(this),"f"),this.$0=this[Fxe](),this[pee](),Nr(this,ba,he(this,ba,"f"),"f"),Nr(this,Wn,he(this,Wn,"f"),"f"),Nr(this,ta,he(this,ta,"f"),"f"),Nr(this,zr,he(this,zr,"f"),"f"),he(this,zr,"f").showHiddenOpt=he(this,aQ,"f"),Nr(this,NI,this[Bxe](),"f")}addHelpOpt(t,r){let n="help";return Pr("[string|boolean] [string]",[t,r],arguments.length),he(this,Td,"f")&&(this[aee](he(this,Td,"f")),Nr(this,Td,null,"f")),t===!1&&r===void 0?this:(Nr(this,Td,typeof t=="string"?t:n,"f"),this.boolean(he(this,Td,"f")),this.describe(he(this,Td,"f"),r||he(this,Wn,"f").deferY18nLookup("Show help")),this)}help(t,r){return this.addHelpOpt(t,r)}addShowHiddenOpt(t,r){if(Pr("[string|boolean] [string]",[t,r],arguments.length),t===!1&&r===void 0)return this;let n=typeof t=="string"?t:he(this,aQ,"f");return this.boolean(n),this.describe(n,r||he(this,Wn,"f").deferY18nLookup("Show hidden options")),he(this,zr,"f").showHiddenOpt=n,this}showHidden(t,r){return this.addShowHiddenOpt(t,r)}alias(t,r){return Pr("<object|string|array> [string|array]",[t,r],arguments.length),this[uee](this.alias.bind(this),"alias",t,r),this}array(t){return Pr("<array|string>",[t],arguments.length),this[c5]("array",t),this[G4](t),this}boolean(t){return Pr("<array|string>",[t],arguments.length),this[c5]("boolean",t),this[G4](t),this}check(t,r){return Pr("<function> [boolean]",[t,r],arguments.length),this.middleware((n,i)=>P4(()=>t(n,i.getOptions()),s=>(s?(typeof s=="string"||s instanceof Error)&&he(this,Wn,"f").fail(s.toString(),s):he(this,Wn,"f").fail(he(this,Bn,"f").y18n.__("Argument check failed: %s",t.toString())),n),s=>(he(this,Wn,"f").fail(s.message?s.message:s.toString(),s),n)),!1,r),this}choices(t,r){return Pr("<object|string|array> [string|array]",[t,r],arguments.length),this[uee](this.choices.bind(this),"choices",t,r),this}coerce(t,r){if(Pr("<object|string|array> [function]",[t,r],arguments.length),Array.isArray(t)){if(!r)throw new hs("coerce callback must be provided");for(let n of t)this.coerce(n,r);return this}else if(typeof t=="object"){for(let n of Object.keys(t))this.coerce(n,t[n]);return this}if(!r)throw new hs("coerce callback must be provided");return he(this,zr,"f").key[t]=!0,he(this,Id,"f").addCoerceMiddleware((n,i)=>{let s;return Object.prototype.hasOwnProperty.call(n,t)?P4(()=>(s=i.getAliases(),r(n[t])),l=>{n[t]=l;let c=i.getInternalMethods().getParserConfiguration()["strip-aliased"];if(s[t]&&c!==!0)for(let u of s[t])n[u]=l;return n},l=>{throw new hs(l.message)}):n},t),this}conflicts(t,r){return Pr("<string|object> [string|array]",[t,r],arguments.length),he(this,ta,"f").conflicts(t,r),this}config(t="config",r,n){return Pr("[object|string] [string|function] [function]",[t,r,n],arguments.length),typeof t=="object"&&!Array.isArray(t)?(t=sQ(t,he(this,F4,"f"),this[q4]()["deep-merge-config"]||!1,he(this,Bn,"f")),he(this,zr,"f").configObjects=(he(this,zr,"f").configObjects||[]).concat(t),this):(typeof r=="function"&&(n=r,r=void 0),this.describe(t,r||he(this,Wn,"f").deferY18nLookup("Path to JSON config file")),(Array.isArray(t)?t:[t]).forEach(i=>{he(this,zr,"f").config[i]=n||!0}),this)}completion(t,r,n){return Pr("[string] [string|boolean|function] [function]",[t,r,n],arguments.length),typeof r=="function"&&(n=r,r=void 0),Nr(this,tf,t||he(this,tf,"f")||"completion","f"),!r&&r!==!1&&(r="generate completion script"),this.command(he(this,tf,"f"),r),n&&he(this,bd,"f").registerFunction(n),this}command(t,r,n,i,s,a){return Pr("<string|array|object> [string|boolean] [function|object] [function] [array] [boolean|string]",[t,r,n,i,s,a],arguments.length),he(this,ba,"f").addHandler(t,r,n,i,s,a),this}commands(t,r,n,i,s,a){return this.command(t,r,n,i,s,a)}commandDir(t,r){Pr("<string> [object]",[t,r],arguments.length);let n=he(this,fQ,"f")||he(this,Bn,"f").require;return he(this,ba,"f").addDirectory(t,n,he(this,Bn,"f").getCallerFile(),r),this}count(t){return Pr("<array|string>",[t],arguments.length),this[c5]("count",t),this[G4](t),this}default(t,r,n){return Pr("<object|string|array> [*] [string]",[t,r,n],arguments.length),n&&(tee(t,he(this,Bn,"f")),he(this,zr,"f").defaultDescription[t]=n),typeof r=="function"&&(tee(t,he(this,Bn,"f")),he(this,zr,"f").defaultDescription[t]||(he(this,zr,"f").defaultDescription[t]=he(this,Wn,"f").functionDescription(r)),r=r.call()),this[QI](this.default.bind(this),"default",t,r),this}defaults(t,r,n){return this.default(t,r,n)}demandCommand(t=1,r,n,i){return Pr("[number] [number|string] [string|null|undefined] [string|null|undefined]",[t,r,n,i],arguments.length),typeof r!="number"&&(n=r,r=1/0),this.global("_",!1),he(this,zr,"f").demandedCommands._={min:t,max:r,minMsg:n,maxMsg:i},this}demand(t,r,n){return Array.isArray(r)?(r.forEach(i=>{s0(n,!0,he(this,Bn,"f")),this.demandOption(i,n)}),r=1/0):typeof r!="number"&&(n=r,r=1/0),typeof t=="number"?(s0(n,!0,he(this,Bn,"f")),this.demandCommand(t,r,n,n)):Array.isArray(t)?t.forEach(i=>{s0(n,!0,he(this,Bn,"f")),this.demandOption(i,n)}):typeof n=="string"?this.demandOption(t,n):(n===!0||typeof n>"u")&&this.demandOption(t),this}demandOption(t,r){return Pr("<object|string|array> [string]",[t,r],arguments.length),this[QI](this.demandOption.bind(this),"demandedOptions",t,r),this}deprecateOption(t,r){return Pr("<string> [string|boolean]",[t,r],arguments.length),he(this,zr,"f").deprecatedOptions[t]=r,this}describe(t,r){return Pr("<object|string|array> [string]",[t,r],arguments.length),this[mee](t,!0),he(this,Wn,"f").describe(t,r),this}detectLocale(t){return Pr("<boolean>",[t],arguments.length),Nr(this,N4,t,"f"),this}env(t){return Pr("[string|boolean]",[t],arguments.length),t===!1?delete he(this,zr,"f").envPrefix:he(this,zr,"f").envPrefix=t||"",this}epilogue(t){return Pr("<string>",[t],arguments.length),he(this,Wn,"f").epilog(t),this}epilog(t){return this.epilogue(t)}example(t,r){return Pr("<string|array> [string]",[t,r],arguments.length),Array.isArray(t)?t.forEach(n=>this.example(...n)):he(this,Wn,"f").example(t,r),this}exit(t,r){Nr(this,rf,!0,"f"),Nr(this,a5,r,"f"),he(this,Ed,"f")&&he(this,Bn,"f").process.exit(t)}exitProcess(t=!0){return Pr("[boolean]",[t],arguments.length),Nr(this,Ed,t,"f"),this}fail(t){if(Pr("<function|boolean>",[t],arguments.length),typeof t=="boolean"&&t!==!1)throw new hs("Invalid first argument. Expected function or boolean 'false'");return he(this,Wn,"f").failFn(t),this}getAliases(){return this.parsed?this.parsed.aliases:{}}async getCompletion(t,r){return Pr("<array> [function]",[t,r],arguments.length),r?he(this,bd,"f").getCompletion(t,r):new Promise((n,i)=>{he(this,bd,"f").getCompletion(t,(s,a)=>{s?i(s):n(a)})})}getDemandedOptions(){return Pr([],0),he(this,zr,"f").demandedOptions}getDemandedCommands(){return Pr([],0),he(this,zr,"f").demandedCommands}getDeprecatedOptions(){return Pr([],0),he(this,zr,"f").deprecatedOptions}getDetectLocale(){return he(this,N4,"f")}getExitProcess(){return he(this,Ed,"f")}getGroups(){return Object.assign({},he(this,Op,"f"),he(this,Q4,"f"))}getHelp(){if(Nr(this,rf,!0,"f"),!he(this,Wn,"f").hasCachedHelpMessage()){if(!this.parsed){let r=this[e_](he(this,l5,"f"),void 0,void 0,0,!0);if(ps(r))return r.then(()=>he(this,Wn,"f").help())}let t=he(this,ba,"f").runDefaultBuilderOn(this);if(ps(t))return t.then(()=>he(this,Wn,"f").help())}return Promise.resolve(he(this,Wn,"f").help())}getOptions(){return he(this,zr,"f")}getStrict(){return he(this,M4,"f")}getStrictCommands(){return he(this,O4,"f")}getStrictOptions(){return he(this,U4,"f")}global(t,r){return Pr("<string|array> [boolean]",[t,r],arguments.length),t=[].concat(t),r!==!1?he(this,zr,"f").local=he(this,zr,"f").local.filter(n=>t.indexOf(n)===-1):t.forEach(n=>{he(this,zr,"f").local.includes(n)||he(this,zr,"f").local.push(n)}),this}group(t,r){Pr("<string|array> <string>",[t,r],arguments.length);let n=he(this,Q4,"f")[r]||he(this,Op,"f")[r];he(this,Q4,"f")[r]&&delete he(this,Q4,"f")[r];let i={};return he(this,Op,"f")[r]=(n||[]).concat(t).filter(s=>i[s]?!1:i[s]=!0),this}hide(t){return Pr("<string>",[t],arguments.length),he(this,zr,"f").hiddenOptions.push(t),this}implies(t,r){return Pr("<string|object> [number|string|array]",[t,r],arguments.length),he(this,ta,"f").implies(t,r),this}locale(t){return Pr("[string]",[t],arguments.length),t===void 0?(this[lee](),he(this,Bn,"f").y18n.getLocale()):(Nr(this,N4,!1,"f"),he(this,Bn,"f").y18n.setLocale(t),this)}middleware(t,r,n){return he(this,Id,"f").addMiddleware(t,!!r,n)}nargs(t,r){return Pr("<string|object|array> [number]",[t,r],arguments.length),this[QI](this.nargs.bind(this),"narg",t,r),this}normalize(t){return Pr("<array|string>",[t],arguments.length),this[c5]("normalize",t),this}number(t){return Pr("<array|string>",[t],arguments.length),this[c5]("number",t),this[G4](t),this}option(t,r){if(Pr("<string|object> [object]",[t,r],arguments.length),typeof t=="object")Object.keys(t).forEach(n=>{this.options(n,t[n])});else{typeof r!="object"&&(r={}),this[G4](t),he(this,Up,"f")&&(t==="version"||r?.alias==="version")&&this[Dxe](['"version" is a reserved word.',"Please do one of the following:",'- Disable version with `yargs.version(false)` if using "version" as an option',"- Use the built-in `yargs.version` method instead (if applicable)","- Use a different option key","https://yargs.js.org/docs/#api-reference-version"].join(`
`),void 0,"versionWarning"),he(this,zr,"f").key[t]=!0,r.alias&&this.alias(t,r.alias);let n=r.deprecate||r.deprecated;n&&this.deprecateOption(t,n);let i=r.demand||r.required||r.require;i&&this.demand(t,i),r.demandOption&&this.demandOption(t,typeof r.demandOption=="string"?r.demandOption:void 0),r.conflicts&&this.conflicts(t,r.conflicts),"default"in r&&this.default(t,r.default),r.implies!==void 0&&this.implies(t,r.implies),r.nargs!==void 0&&this.nargs(t,r.nargs),r.config&&this.config(t,r.configParser),r.normalize&&this.normalize(t),r.choices&&this.choices(t,r.choices),r.coerce&&this.coerce(t,r.coerce),r.group&&this.group(t,r.group),(r.boolean||r.type==="boolean")&&(this.boolean(t),r.alias&&this.boolean(r.alias)),(r.array||r.type==="array")&&(this.array(t),r.alias&&this.array(r.alias)),(r.number||r.type==="number")&&(this.number(t),r.alias&&this.number(r.alias)),(r.string||r.type==="string")&&(this.string(t),r.alias&&this.string(r.alias)),(r.count||r.type==="count")&&this.count(t),typeof r.global=="boolean"&&this.global(t,r.global),r.defaultDescription&&(he(this,zr,"f").defaultDescription[t]=r.defaultDescription),r.skipValidation&&this.skipValidation(t);let s=r.describe||r.description||r.desc,a=he(this,Wn,"f").getDescriptions();(!Object.prototype.hasOwnProperty.call(a,t)||typeof s=="string")&&this.describe(t,s),r.hidden&&this.hide(t),r.requiresArg&&this.requiresArg(t)}return this}options(t,r){return this.option(t,r)}parse(t,r,n){Pr("[string|array] [function|boolean|object] [function]",[t,r,n],arguments.length),this[Pxe](),typeof t>"u"&&(t=he(this,l5,"f")),typeof r=="object"&&(Nr(this,L4,r,"f"),r=n),typeof r=="function"&&(Nr(this,nf,r,"f"),r=!1),r||Nr(this,l5,t,"f"),he(this,nf,"f")&&Nr(this,Ed,!1,"f");let i=this[e_](t,!!r),s=this.parsed;return he(this,bd,"f").setParsed(this.parsed),ps(i)?i.then(a=>(he(this,nf,"f")&&he(this,nf,"f").call(this,he(this,a5,"f"),a,he(this,wl,"f")),a)).catch(a=>{throw he(this,nf,"f")&&he(this,nf,"f")(a,this.parsed.argv,he(this,wl,"f")),a}).finally(()=>{this[hee](),this.parsed=s}):(he(this,nf,"f")&&he(this,nf,"f").call(this,he(this,a5,"f"),i,he(this,wl,"f")),this[hee](),this.parsed=s,i)}parseAsync(t,r,n){let i=this.parse(t,r,n);return ps(i)?i:Promise.resolve(i)}parseSync(t,r,n){let i=this.parse(t,r,n);if(ps(i))throw new hs(".parseSync() must not be used with asynchronous builders, handlers, or middleware");return i}parserConfiguration(t){return Pr("<object>",[t],arguments.length),Nr(this,dQ,t,"f"),this}pkgConf(t,r){Pr("<string> [string]",[t,r],arguments.length);let n=null,i=this[cee](r||he(this,F4,"f"));return i[t]&&typeof i[t]=="object"&&(n=sQ(i[t],r||he(this,F4,"f"),this[q4]()["deep-merge-config"]||!1,he(this,Bn,"f")),he(this,zr,"f").configObjects=(he(this,zr,"f").configObjects||[]).concat(n)),this}positional(t,r){Pr("<string> <object>",[t,r],arguments.length);let n=["default","defaultDescription","implies","normalize","choices","conflicts","coerce","type","describe","desc","description","alias"];r=o5(r,(a,l)=>a==="type"&&!["string","number","boolean"].includes(l)?!1:n.includes(a));let i=he(this,Xw,"f").fullCommands[he(this,Xw,"f").fullCommands.length-1],s=i?he(this,ba,"f").cmdToParseOptions(i):{array:[],alias:{},default:{},demand:{}};return PI(s).forEach(a=>{let l=s[a];Array.isArray(l)?l.indexOf(t)!==-1&&(r[a]=!0):l[t]&&!(a in r)&&(r[a]=l[t])}),this.group(t,he(this,Wn,"f").getPositionalGroupName()),this.option(t,r)}recommendCommands(t=!0){return Pr("[boolean]",[t],arguments.length),Nr(this,mQ,t,"f"),this}required(t,r,n){return this.demand(t,r,n)}require(t,r,n){return this.demand(t,r,n)}requiresArg(t){return Pr("<array|string|object> [number]",[t],arguments.length),typeof t=="string"&&he(this,zr,"f").narg[t]?this:(this[QI](this.requiresArg.bind(this),"narg",t,NaN),this)}showCompletionScript(t,r){return Pr("[string] [string]",[t,r],arguments.length),t=t||this.$0,he(this,NI,"f").log(he(this,bd,"f").generateCompletionScript(t,r||he(this,tf,"f")||"completion")),this}showHelp(t){if(Pr("[string|function]",[t],arguments.length),Nr(this,rf,!0,"f"),!he(this,Wn,"f").hasCachedHelpMessage()){if(!this.parsed){let n=this[e_](he(this,l5,"f"),void 0,void 0,0,!0);if(ps(n))return n.then(()=>{he(this,Wn,"f").showHelp(t)}),this}let r=he(this,ba,"f").runDefaultBuilderOn(this);if(ps(r))return r.then(()=>{he(this,Wn,"f").showHelp(t)}),this}return he(this,Wn,"f").showHelp(t),this}scriptName(t){return this.customScriptName=!0,this.$0=t,this}showHelpOnFail(t,r){return Pr("[boolean|string] [string]",[t,r],arguments.length),he(this,Wn,"f").showHelpOnFail(t,r),this}showVersion(t){return Pr("[string|function]",[t],arguments.length),he(this,Wn,"f").showVersion(t),this}skipValidation(t){return Pr("<array|string>",[t],arguments.length),this[c5]("skipValidation",t),this}strict(t){return Pr("[boolean]",[t],arguments.length),Nr(this,M4,t!==!1,"f"),this}strictCommands(t){return Pr("[boolean]",[t],arguments.length),Nr(this,O4,t!==!1,"f"),this}strictOptions(t){return Pr("[boolean]",[t],arguments.length),Nr(this,U4,t!==!1,"f"),this}string(t){return Pr("<array|string>",[t],arguments.length),this[c5]("string",t),this[G4](t),this}terminalWidth(){return Pr([],0),he(this,Bn,"f").process.stdColumns}updateLocale(t){return this.updateStrings(t)}updateStrings(t){return Pr("<object>",[t],arguments.length),Nr(this,N4,!1,"f"),he(this,Bn,"f").y18n.updateLocale(t),this}usage(t,r,n,i){if(Pr("<string|null|undefined> [string|boolean] [function|object] [function]",[t,r,n,i],arguments.length),r!==void 0){if(s0(t,null,he(this,Bn,"f")),(t||"").match(/^\$0( |$)/))return this.command(t,r,n,i);throw new hs(".usage() description must start with $0 if being used as alias for .command()")}else return he(this,Wn,"f").usage(t),this}usageConfiguration(t){return Pr("<object>",[t],arguments.length),Nr(this,hQ,t,"f"),this}version(t,r,n){let i="version";if(Pr("[boolean|string] [string] [string]",[t,r,n],arguments.length),he(this,Up,"f")&&(this[aee](he(this,Up,"f")),he(this,Wn,"f").version(void 0),Nr(this,Up,null,"f")),arguments.length===0)n=this[Lxe](),t=i;else if(arguments.length===1){if(t===!1)return this;n=t,t=i}else arguments.length===2&&(n=r,r=void 0);return Nr(this,Up,typeof t=="string"?t:i,"f"),r=r||he(this,Wn,"f").deferY18nLookup("Show version number"),he(this,Wn,"f").version(n||void 0),this.boolean(he(this,Up,"f")),this.describe(he(this,Up,"f"),r),this}wrap(t){return Pr("<number|null|undefined>",[t],arguments.length),he(this,Wn,"f").wrap(t),this}[(ba=new WeakMap,F4=new WeakMap,Xw=new WeakMap,bd=new WeakMap,tf=new WeakMap,aQ=new WeakMap,a5=new WeakMap,N4=new WeakMap,lQ=new WeakMap,Ed=new WeakMap,cQ=new WeakMap,Id=new WeakMap,Op=new WeakMap,rf=new WeakMap,Td=new WeakMap,uQ=new WeakMap,NI=new WeakMap,wl=new WeakMap,zr=new WeakMap,fQ=new WeakMap,dQ=new WeakMap,nf=new WeakMap,L4=new WeakMap,LI=new WeakMap,Q4=new WeakMap,l5=new WeakMap,mQ=new WeakMap,Bn=new WeakMap,M4=new WeakMap,O4=new WeakMap,U4=new WeakMap,Wn=new WeakMap,hQ=new WeakMap,Up=new WeakMap,ta=new WeakMap,Rxe)](t){if(!t._||!t["--"])return t;t._.push.apply(t._,t["--"]);try{delete t["--"]}catch{}return t}[Bxe](){return{log:o((...t)=>{this[pQ]()||console.log(...t),Nr(this,rf,!0,"f"),he(this,wl,"f").length&&Nr(this,wl,he(this,wl,"f")+`
`,"f"),Nr(this,wl,he(this,wl,"f")+t.join(" "),"f")},"log"),error:o((...t)=>{this[pQ]()||console.error(...t),Nr(this,rf,!0,"f"),he(this,wl,"f").length&&Nr(this,wl,he(this,wl,"f")+`
`,"f"),Nr(this,wl,he(this,wl,"f")+t.join(" "),"f")},"error")}}[aee](t){PI(he(this,zr,"f")).forEach(r=>{if((i=>i==="configObjects")(r))return;let n=he(this,zr,"f")[r];Array.isArray(n)?n.includes(t)&&n.splice(n.indexOf(t),1):typeof n=="object"&&delete n[t]}),delete he(this,Wn,"f").getDescriptions()[t]}[Dxe](t,r,n){he(this,lQ,"f")[n]||(he(this,Bn,"f").process.emitWarning(t,r),he(this,lQ,"f")[n]=!0)}[Pxe](){he(this,cQ,"f").push({options:he(this,zr,"f"),configObjects:he(this,zr,"f").configObjects.slice(0),exitProcess:he(this,Ed,"f"),groups:he(this,Op,"f"),strict:he(this,M4,"f"),strictCommands:he(this,O4,"f"),strictOptions:he(this,U4,"f"),completionCommand:he(this,tf,"f"),output:he(this,wl,"f"),exitError:he(this,a5,"f"),hasOutput:he(this,rf,"f"),parsed:this.parsed,parseFn:he(this,nf,"f"),parseContext:he(this,L4,"f")}),he(this,Wn,"f").freeze(),he(this,ta,"f").freeze(),he(this,ba,"f").freeze(),he(this,Id,"f").freeze()}[Fxe](){let t="",r;return/\b(node|iojs|electron)(\.exe)?$/.test(he(this,Bn,"f").process.argv()[0])?r=he(this,Bn,"f").process.argv().slice(1,2):r=he(this,Bn,"f").process.argv().slice(0,1),t=r.map(n=>{let i=this[$xe](he(this,F4,"f"),n);return n.match(/^(\/|([a-zA-Z]:)?\\)/)&&i.length<n.length?i:n}).join(" ").trim(),he(this,Bn,"f").getEnv("_")&&he(this,Bn,"f").getProcessArgvBin()===he(this,Bn,"f").getEnv("_")&&(t=he(this,Bn,"f").getEnv("_").replace(`${he(this,Bn,"f").path.dirname(he(this,Bn,"f").process.execPath())}/`,"")),t}[q4](){return he(this,dQ,"f")}[Nxe](){return he(this,hQ,"f")}[lee](){if(!he(this,N4,"f"))return;let t=he(this,Bn,"f").getEnv("LC_ALL")||he(this,Bn,"f").getEnv("LC_MESSAGES")||he(this,Bn,"f").getEnv("LANG")||he(this,Bn,"f").getEnv("LANGUAGE")||"en_US";this.locale(t.replace(/[.:].*/,""))}[Lxe](){return this[cee]().version||"unknown"}[Qxe](t){let r=t["--"]?t["--"]:t._;for(let n=0,i;(i=r[n])!==void 0;n++)he(this,Bn,"f").Parser.looksLikeNumber(i)&&Number.isSafeInteger(Math.floor(parseFloat(`${i}`)))&&(r[n]=Number(i));return t}[cee](t){let r=t||"*";if(he(this,LI,"f")[r])return he(this,LI,"f")[r];let n={};try{let i=t||he(this,Bn,"f").mainFilename;!t&&he(this,Bn,"f").path.extname(i)&&(i=he(this,Bn,"f").path.dirname(i));let s=he(this,Bn,"f").findUp(i,(a,l)=>{if(l.includes("package.json"))return"package.json"});s0(s,void 0,he(this,Bn,"f")),n=JSON.parse(he(this,Bn,"f").readFileSync(s,"utf8"))}catch{}return he(this,LI,"f")[r]=n||{},he(this,LI,"f")[r]}[c5](t,r){r=[].concat(r),r.forEach(n=>{n=this[dee](n),he(this,zr,"f")[t].push(n)})}[QI](t,r,n,i){this[fee](t,r,n,i,(s,a,l)=>{he(this,zr,"f")[s][a]=l})}[uee](t,r,n,i){this[fee](t,r,n,i,(s,a,l)=>{he(this,zr,"f")[s][a]=(he(this,zr,"f")[s][a]||[]).concat(l)})}[fee](t,r,n,i,s){if(Array.isArray(n))n.forEach(a=>{t(a,i)});else if((a=>typeof a=="object")(n))for(let a of PI(n))t(a,n[a]);else s(r,this[dee](n),i)}[dee](t){return t==="__proto__"?"___proto___":t}[mee](t,r){return this[QI](this[mee].bind(this),"key",t,r),this}[hee](){var t,r,n,i,s,a,l,c,u,f,m,h;let p=he(this,cQ,"f").pop();s0(p,void 0,he(this,Bn,"f"));let g;t=this,r=this,n=this,i=this,s=this,a=this,l=this,c=this,u=this,f=this,m=this,h=this,{options:{set value(x){Nr(t,zr,x,"f")}}.value,configObjects:g,exitProcess:{set value(x){Nr(r,Ed,x,"f")}}.value,groups:{set value(x){Nr(n,Op,x,"f")}}.value,output:{set value(x){Nr(i,wl,x,"f")}}.value,exitError:{set value(x){Nr(s,a5,x,"f")}}.value,hasOutput:{set value(x){Nr(a,rf,x,"f")}}.value,parsed:this.parsed,strict:{set value(x){Nr(l,M4,x,"f")}}.value,strictCommands:{set value(x){Nr(c,O4,x,"f")}}.value,strictOptions:{set value(x){Nr(u,U4,x,"f")}}.value,completionCommand:{set value(x){Nr(f,tf,x,"f")}}.value,parseFn:{set value(x){Nr(m,nf,x,"f")}}.value,parseContext:{set value(x){Nr(h,L4,x,"f")}}.value}=p,he(this,zr,"f").configObjects=g,he(this,Wn,"f").unfreeze(),he(this,ta,"f").unfreeze(),he(this,ba,"f").unfreeze(),he(this,Id,"f").unfreeze()}[Mxe](t,r){return P4(r,n=>(t(n),n))}getInternalMethods(){return{getCommandInstance:this[Oxe].bind(this),getContext:this[Uxe].bind(this),getHasOutput:this[qxe].bind(this),getLoggerInstance:this[Wxe].bind(this),getParseContext:this[Gxe].bind(this),getParserConfiguration:this[q4].bind(this),getUsageConfiguration:this[Nxe].bind(this),getUsageInstance:this[Hxe].bind(this),getValidationInstance:this[jxe].bind(this),hasParseCallback:this[pQ].bind(this),isGlobalContext:this[Vxe].bind(this),postProcess:this[W4].bind(this),reset:this[pee].bind(this),runValidation:this[gee].bind(this),runYargsParserAndExecuteCommands:this[e_].bind(this),setHasOutput:this[zxe].bind(this)}}[Oxe](){return he(this,ba,"f")}[Uxe](){return he(this,Xw,"f")}[qxe](){return he(this,rf,"f")}[Wxe](){return he(this,NI,"f")}[Gxe](){return he(this,L4,"f")||{}}[Hxe](){return he(this,Wn,"f")}[jxe](){return he(this,ta,"f")}[pQ](){return!!he(this,nf,"f")}[Vxe](){return he(this,uQ,"f")}[W4](t,r,n,i){return n||ps(t)||(r||(t=this[Rxe](t)),(this[q4]()["parse-positional-numbers"]||this[q4]()["parse-positional-numbers"]===void 0)&&(t=this[Qxe](t)),i&&(t=D4(t,this,he(this,Id,"f").getMiddleware(),!1))),t}[pee](t={}){Nr(this,zr,he(this,zr,"f")||{},"f");let r={};r.local=he(this,zr,"f").local||[],r.configObjects=he(this,zr,"f").configObjects||[];let n={};r.local.forEach(a=>{n[a]=!0,(t[a]||[]).forEach(l=>{n[l]=!0})}),Object.assign(he(this,Q4,"f"),Object.keys(he(this,Op,"f")).reduce((a,l)=>{let c=he(this,Op,"f")[l].filter(u=>!(u in n));return c.length>0&&(a[l]=c),a},{})),Nr(this,Op,{},"f");let i=["array","boolean","string","skipValidation","count","normalize","number","hiddenOptions"],s=["narg","key","alias","default","defaultDescription","config","choices","demandedOptions","demandedCommands","deprecatedOptions"];return i.forEach(a=>{r[a]=(he(this,zr,"f")[a]||[]).filter(l=>!n[l])}),s.forEach(a=>{r[a]=o5(he(this,zr,"f")[a],l=>!n[l])}),r.envPrefix=he(this,zr,"f").envPrefix,Nr(this,zr,r,"f"),Nr(this,Wn,he(this,Wn,"f")?he(this,Wn,"f").reset(n):bxe(this,he(this,Bn,"f")),"f"),Nr(this,ta,he(this,ta,"f")?he(this,ta,"f").reset(n):Sxe(this,he(this,Wn,"f"),he(this,Bn,"f")),"f"),Nr(this,ba,he(this,ba,"f")?he(this,ba,"f").reset():Cxe(he(this,Wn,"f"),he(this,ta,"f"),he(this,Id,"f"),he(this,Bn,"f")),"f"),he(this,bd,"f")||Nr(this,bd,Txe(this,he(this,Wn,"f"),he(this,ba,"f"),he(this,Bn,"f")),"f"),he(this,Id,"f").reset(),Nr(this,tf,null,"f"),Nr(this,wl,"","f"),Nr(this,a5,null,"f"),Nr(this,rf,!1,"f"),this.parsed=!1,this}[$xe](t,r){return he(this,Bn,"f").path.relative(t,r)}[e_](t,r,n,i=0,s=!1){let a=!!n||s;t=t||he(this,l5,"f"),he(this,zr,"f").__=he(this,Bn,"f").y18n.__,he(this,zr,"f").configuration=this[q4]();let l=!!he(this,zr,"f").configuration["populate--"],c=Object.assign({},he(this,zr,"f").configuration,{"populate--":!0}),u=he(this,Bn,"f").Parser.detailed(t,Object.assign({},he(this,zr,"f"),{configuration:{"parse-positional-numbers":!1,...c}})),f=Object.assign(u.argv,he(this,L4,"f")),m,h=u.aliases,p=!1,g=!1;Object.keys(f).forEach(x=>{x===he(this,Td,"f")&&f[x]?p=!0:x===he(this,Up,"f")&&f[x]&&(g=!0)}),f.$0=this.$0,this.parsed=u,i===0&&he(this,Wn,"f").clearCachedHelpMessage();try{if(this[lee](),r)return this[W4](f,l,!!n,!1);he(this,Td,"f")&&[he(this,Td,"f")].concat(h[he(this,Td,"f")]||[]).filter(_=>_.length>1).includes(""+f._[f._.length-1])&&(f._.pop(),p=!0),Nr(this,uQ,!1,"f");let x=he(this,ba,"f").getCommands(),v=he(this,bd,"f").completionKey in f,E=p||v||s;if(f._.length){if(x.length){let b;for(let _=i||0,R;f._[_]!==void 0;_++)if(R=String(f._[_]),x.includes(R)&&R!==he(this,tf,"f")){let P=he(this,ba,"f").runCommand(R,this,u,_+1,s,p||g||s);return this[W4](P,l,!!n,!1)}else if(!b&&R!==he(this,tf,"f")){b=R;break}!he(this,ba,"f").hasDefaultCommand()&&he(this,mQ,"f")&&b&&!E&&he(this,ta,"f").recommendCommands(b,x)}he(this,tf,"f")&&f._.includes(he(this,tf,"f"))&&!v&&(he(this,Ed,"f")&&s5(!0),this.showCompletionScript(),this.exit(0))}if(he(this,ba,"f").hasDefaultCommand()&&!E){let b=he(this,ba,"f").runCommand(null,this,u,0,s,p||g||s);return this[W4](b,l,!!n,!1)}if(v){he(this,Ed,"f")&&s5(!0),t=[].concat(t);let b=t.slice(t.indexOf(`--${he(this,bd,"f").completionKey}`)+1);return he(this,bd,"f").getCompletion(b,(_,R)=>{if(_)throw new hs(_.message);(R||[]).forEach(P=>{he(this,NI,"f").log(P)}),this.exit(0)}),this[W4](f,!l,!!n,!1)}if(he(this,rf,"f")||(p?(he(this,Ed,"f")&&s5(!0),a=!0,this.showHelp("log"),this.exit(0)):g&&(he(this,Ed,"f")&&s5(!0),a=!0,he(this,Wn,"f").showVersion("log"),this.exit(0))),!a&&he(this,zr,"f").skipValidation.length>0&&(a=Object.keys(f).some(b=>he(this,zr,"f").skipValidation.indexOf(b)>=0&&f[b]===!0)),!a){if(u.error)throw new hs(u.error.message);if(!v){let b=this[gee](h,{},u.error);n||(m=D4(f,this,he(this,Id,"f").getMiddleware(),!0)),m=this[Mxe](b,m??f),ps(m)&&!n&&(m=m.then(()=>D4(f,this,he(this,Id,"f").getMiddleware(),!1)))}}}catch(x){if(x instanceof hs)he(this,Wn,"f").fail(x.message,x);else throw x}return this[W4](m??f,l,!!n,!0)}[gee](t,r,n,i){let s={...this.getDemandedOptions()};return a=>{if(n)throw new hs(n.message);he(this,ta,"f").nonOptionCount(a),he(this,ta,"f").requiredArguments(a,s);let l=!1;he(this,O4,"f")&&(l=he(this,ta,"f").unknownCommands(a)),he(this,M4,"f")&&!l?he(this,ta,"f").unknownArguments(a,t,r,!!i):he(this,U4,"f")&&he(this,ta,"f").unknownArguments(a,t,{},!1,!1),he(this,ta,"f").limitedChoices(a),he(this,ta,"f").implications(a),he(this,ta,"f").conflicting(a)}}[zxe](){Nr(this,rf,!0,"f")}[G4](t){if(typeof t=="string")he(this,zr,"f").key[t]=!0;else for(let r of t)he(this,zr,"f").key[r]=!0}};function xxe(e){return!!e&&typeof e.getInternalMethods=="function"}o(xxe,"isYargsInstance");var Ect=Yxe(hxe),Kxe=Ect;d();d();var t_="apps",yee="hosts",r_=class{constructor(t,r){this.ctx=t;this.persistenceManager=r}static{o(this,"AuthPersistence")}async getAuthRecord(t){let r=await this.persistenceManager.read(t_,this.authRecordKey(this.ctx,t));return!t&&!r&&(r=await this.persistenceManager.read(t_,this.authRecordKey(this.ctx,this.ctx.get(ea).fallbackAppId()))),r||await this.legacyAuthRecordMaybe()}async legacyAuthRecordMaybe(){let t=await this.persistenceManager.read(yee,this.legacyAuthRecordKey(this.ctx));if(t){let r=this.ctx.get(ea).fallbackAppId();return{...t,githubAppId:r}}}async saveAuthRecord(t){let r=this.ctx.get(ea).findAppIdToAuthenticate();await this.persistenceManager.update(t_,this.authRecordKey(this.ctx,t.githubAppId),t);let n=this.ctx.get(ea).fallbackAppId();r===n&&await this.persistenceManager.delete(yee,this.legacyAuthRecordKey(this.ctx))}async deleteAuthRecord(){let t=await this.getAuthRecord();if(t){let r=this.ctx.get(ea).fallbackAppId();t.githubAppId===r&&await this.persistenceManager.delete(yee,this.legacyAuthRecordKey(this.ctx)),await this.persistenceManager.delete(t_,this.authRecordKey(this.ctx)),await this.persistenceManager.delete(t_,this.authRecordKey(this.ctx,r))}}authRecordKey(t,r){let n=t.get(On).getAuthAuthority(),i=r??t.get(ea).findAppIdToAuthenticate();return`${n}:${i}`}legacyAuthRecordKey(t){return t.get(On).getAuthAuthority()}};d();d();var gQ={AuthNotifyShown:"auth.auth_notify_shown",AuthNotifyDismissed:"auth.auth_notify_dismissed",NewGitHubLogin:"auth.new_github_login",GitHubLoginSuccess:"auth.github_login_success"};function Jxe(e,t){let r=cn.createAndMarkAsIssued({authSource:t});return jt(e,gQ.AuthNotifyShown,r)}o(Jxe,"telemetryAuthNotifyShown");function Zxe(e){return jt(e,gQ.AuthNotifyDismissed)}o(Zxe,"telemetryAuthNotifyDismissed");function AQ(e,t,r){let n=cn.createAndMarkAsIssued({authSource:t,authType:r});return jt(e,gQ.NewGitHubLogin,n)}o(AQ,"telemetryNewGitHubLogin");function yQ(e,t){let r=cn.createAndMarkAsIssued({authType:t});return jt(e,gQ.GitHubLoginSuccess,r)}o(yQ,"telemetryGitHubLoginSuccess");async function Ict(e,t){AQ(e,"unknown","deviceFlow");let r={method:"POST",headers:{Accept:"application/json",...Ic(e)},json:{client_id:t},timeout:30*1e3},n;try{n=await e.get(Or).fetch(e.get(On).getDeviceFlowStartUrl(),r)}catch(i){throw i instanceof Error&&QT(i)?new Ks(`Could not log in with device flow on ${e.get(On).getAuthAuthority()}: ${i.message}`):i}if(!n.ok)throw new Ks(`Could not log in with device flow on ${e.get(On).getAuthAuthority()}: HTTP ${n.status}`);return await n.json()}o(Ict,"requestDeviceFlowStage1");async function Tct(e,t,r){let n={method:"POST",headers:{Accept:"application/json",...Ic(e)},json:{client_id:r,device_code:t,grant_type:"urn:ietf:params:oauth:grant-type:device_code"},timeout:3e4};return await(await e.get(Or).fetch(e.get(On).getDeviceFlowCompletionUrl(),n)).json()}o(Tct,"requestDeviceFlowStage2");async function wct(e,t){return yQ(e,"deviceFlow"),await(await e.get(Or).fetch(e.get(On).getUserInfoUrl(),{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}})).json()}o(wct,"requestUserInfo");var H4=class{static{o(this,"GitHubDeviceFlow")}async getToken(t,r){try{return await this.getTokenUnguarded(t,r)}catch(n){throw t.get($0).notifyUser(t,n),n}}async getTokenUnguarded(t,r){let n=await Ict(t,r),i=(async()=>{let s=n.expires_in,a;for(;s>0;){let l=await Tct(t,n.device_code,r);if(s-=n.interval,await new Promise(c=>setTimeout(c,1e3*n.interval)),a=l.access_token,a)return{login:(await wct(t,a)).login,accessToken:a}}throw new Ks("Timed out waiting for login to complete")})();return{...n,waitForAuth:i}}};d();var of=class{static{o(this,"CitationManager")}},CQ=class extends of{static{o(this,"NoOpCitationManager")}async handleIPCodeCitation(t,r){}};d();d();d();var _ct={didChangeFeatureFlags:!1,fetch:!1,ipCodeCitation:!1,redirectedTelemetry:!1,related:!1,token:!1,watchedFiles:!1},Ho=class{constructor(){this.capabilities={..._ct}}static{o(this,"CopilotCapabilitiesProvider")}setCapabilities(t){let r;for(r in t){let n=t[r];n!==void 0&&(this.capabilities[r]=n)}}getCapabilities(){return this.capabilities}};d();var Cee=class extends Error{constructor(r){super(`No instance of ${r.name} has been registered`);this.ctor=r;this.name="UnregisteredContextError",this.code=r.name}static{o(this,"UnregisteredContextError")}},MI=class{constructor(){this.instances=new Map}static{o(this,"Context")}get(t){let r=this.tryGet(t);if(r)return r;throw new Cee(t)}tryGet(t){let r=this.instances.get(t);if(r)return r}set(t,r){if(this.tryGet(t))throw new Error(`An instance of ${t.name} has already been registered. Use forceSet() if you're sure it's a good idea.`);this.assertIsInstance(t,r),this.instances.set(t,r)}forceSet(t,r){this.assertIsInstance(t,r),this.instances.set(t,r)}assertIsInstance(t,r){if(!(r instanceof t)){let n=JSON.stringify(r);throw new Error(`The instance you're trying to register for ${t.name} is not an instance of it (${n}).`)}}};d();d();d();var xQ=class e{static{o(this,"FullTextDocument")}constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){for(let n of t)if(e.isIncremental(n)){let i=tve(n.range),s=this.offsetAt(i.start),a=this.offsetAt(i.end);this._content=this._content.substring(0,s)+n.text+this._content.substring(a,this._content.length);let l=Math.max(i.start.line,0),c=Math.max(i.end.line,0),u=this._lineOffsets,f=Xxe(n.text,!1,s);if(c-l===f.length)for(let h=0,p=f.length;h<p;h++)u[h+l+1]=f[h];else f.length<1e4?u.splice(l+1,c-l,...f):this._lineOffsets=u=u.slice(0,l+1).concat(f,u.slice(c+1));let m=n.text.length-(a-s);if(m!==0)for(let h=l+1+f.length,p=u.length;h<p;h++)u[h]=u[h]+m}else if(e.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=Xxe(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return{line:0,character:t};for(;n<i;){let a=Math.floor((n+i)/2);r[a]>t?i=a:n=a+1}let s=n-1;return t=this.ensureBeforeEOL(t,r[s]),{line:s,character:t-r[s]}}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line];if(t.character<=0)return n;let i=t.line+1<r.length?r[t.line+1]:this._content.length,s=Math.min(n+t.character,i);return this.ensureBeforeEOL(s,n)}ensureBeforeEOL(t,r){for(;t>r&&eve(this._content.charCodeAt(t-1));)t--;return t}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}},u5;(function(e){function t(i,s,a,l){return new xQ(i,s,a,l)}o(t,"create"),e.create=t;function r(i,s,a){if(i instanceof xQ)return i.update(s,a),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}o(r,"update"),e.update=r;function n(i,s){let a=i.getText(),l=xee(s.map(Sct),(f,m)=>{let h=f.range.start.line-m.range.start.line;return h===0?f.range.start.character-m.range.start.character:h}),c=0,u=[];for(let f of l){let m=i.offsetAt(f.range.start);if(m<c)throw new Error("Overlapping edit");m>c&&u.push(a.substring(c,m)),f.newText.length&&u.push(f.newText),c=i.offsetAt(f.range.end)}return u.push(a.substr(c)),u.join("")}o(n,"applyEdits"),e.applyEdits=n})(u5||(u5={}));function xee(e,t){if(e.length<=1)return e;let r=e.length/2|0,n=e.slice(0,r),i=e.slice(r);xee(n,t),xee(i,t);let s=0,a=0,l=0;for(;s<n.length&&a<i.length;)t(n[s],i[a])<=0?e[l++]=n[s++]:e[l++]=i[a++];for(;s<n.length;)e[l++]=n[s++];for(;a<i.length;)e[l++]=i[a++];return e}o(xee,"mergeSort");function Xxe(e,t,r=0){let n=t?[r]:[];for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);eve(s)&&(s===13&&i+1<e.length&&e.charCodeAt(i+1)===10&&i++,n.push(r+i+1))}return n}o(Xxe,"computeLineOffsets");function eve(e){return e===13||e===10}o(eve,"isEOL");function tve(e){let t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}o(tve,"getWellformedRange");function Sct(e){let t=tve(e.range);return t!==e.range?{newText:e.newText,range:t}:e}o(Sct,"getWellformedEdit");d();var rve;(function(e){function t(r){return typeof r=="string"}o(t,"is"),e.is=t})(rve||(rve={}));var vee;(function(e){function t(r){return typeof r=="string"}o(t,"is"),e.is=t})(vee||(vee={}));var nve;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}o(t,"is"),e.is=t})(nve||(nve={}));var vQ;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}o(t,"is"),e.is=t})(vQ||(vQ={}));var Lc;(function(e){function t(n,i){return n===Number.MAX_VALUE&&(n=vQ.MAX_VALUE),i===Number.MAX_VALUE&&(i=vQ.MAX_VALUE),{line:n,character:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Je.objectLiteral(i)&&Je.uinteger(i.line)&&Je.uinteger(i.character)}o(r,"is"),e.is=r})(Lc||(Lc={}));var Zo;(function(e){function t(n,i,s,a){if(Je.uinteger(n)&&Je.uinteger(i)&&Je.uinteger(s)&&Je.uinteger(a))return{start:Lc.create(n,i),end:Lc.create(s,a)};if(Lc.is(n)&&Lc.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${s}, ${a}]`)}o(t,"create"),e.create=t;function r(n){let i=n;return Je.objectLiteral(i)&&Lc.is(i.start)&&Lc.is(i.end)}o(r,"is"),e.is=r})(Zo||(Zo={}));var bQ;(function(e){function t(n,i){return{uri:n,range:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Je.objectLiteral(i)&&Zo.is(i.range)&&(Je.string(i.uri)||Je.undefined(i.uri))}o(r,"is"),e.is=r})(bQ||(bQ={}));var ive;(function(e){function t(n,i,s,a){return{targetUri:n,targetRange:i,targetSelectionRange:s,originSelectionRange:a}}o(t,"create"),e.create=t;function r(n){let i=n;return Je.objectLiteral(i)&&Zo.is(i.targetRange)&&Je.string(i.targetUri)&&Zo.is(i.targetSelectionRange)&&(Zo.is(i.originSelectionRange)||Je.undefined(i.originSelectionRange))}o(r,"is"),e.is=r})(ive||(ive={}));var bee;(function(e){function t(n,i,s,a){return{red:n,green:i,blue:s,alpha:a}}o(t,"create"),e.create=t;function r(n){let i=n;return Je.objectLiteral(i)&&Je.numberRange(i.red,0,1)&&Je.numberRange(i.green,0,1)&&Je.numberRange(i.blue,0,1)&&Je.numberRange(i.alpha,0,1)}o(r,"is"),e.is=r})(bee||(bee={}));var ove;(function(e){function t(n,i){return{range:n,color:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Je.objectLiteral(i)&&Zo.is(i.range)&&bee.is(i.color)}o(r,"is"),e.is=r})(ove||(ove={}));var sve;(function(e){function t(n,i,s){return{label:n,textEdit:i,additionalTextEdits:s}}o(t,"create"),e.create=t;function r(n){let i=n;return Je.objectLiteral(i)&&Je.string(i.label)&&(Je.undefined(i.textEdit)||UI.is(i))&&(Je.undefined(i.additionalTextEdits)||Je.typedArray(i.additionalTextEdits,UI.is))}o(r,"is"),e.is=r})(sve||(sve={}));var ave;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(ave||(ave={}));var lve;(function(e){function t(n,i,s,a,l,c){let u={startLine:n,endLine:i};return Je.defined(s)&&(u.startCharacter=s),Je.defined(a)&&(u.endCharacter=a),Je.defined(l)&&(u.kind=l),Je.defined(c)&&(u.collapsedText=c),u}o(t,"create"),e.create=t;function r(n){let i=n;return Je.objectLiteral(i)&&Je.uinteger(i.startLine)&&Je.uinteger(i.startLine)&&(Je.undefined(i.startCharacter)||Je.uinteger(i.startCharacter))&&(Je.undefined(i.endCharacter)||Je.uinteger(i.endCharacter))&&(Je.undefined(i.kind)||Je.string(i.kind))}o(r,"is"),e.is=r})(lve||(lve={}));var Eee;(function(e){function t(n,i){return{location:n,message:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Je.defined(i)&&bQ.is(i.location)&&Je.string(i.message)}o(r,"is"),e.is=r})(Eee||(Eee={}));var cve;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(cve||(cve={}));var uve;(function(e){e.Unnecessary=1,e.Deprecated=2})(uve||(uve={}));var fve;(function(e){function t(r){let n=r;return Je.objectLiteral(n)&&Je.string(n.href)}o(t,"is"),e.is=t})(fve||(fve={}));var EQ;(function(e){function t(n,i,s,a,l,c){let u={range:n,message:i};return Je.defined(s)&&(u.severity=s),Je.defined(a)&&(u.code=a),Je.defined(l)&&(u.source=l),Je.defined(c)&&(u.relatedInformation=c),u}o(t,"create"),e.create=t;function r(n){var i;let s=n;return Je.defined(s)&&Zo.is(s.range)&&Je.string(s.message)&&(Je.number(s.severity)||Je.undefined(s.severity))&&(Je.integer(s.code)||Je.string(s.code)||Je.undefined(s.code))&&(Je.undefined(s.codeDescription)||Je.string((i=s.codeDescription)===null||i===void 0?void 0:i.href))&&(Je.string(s.source)||Je.undefined(s.source))&&(Je.undefined(s.relatedInformation)||Je.typedArray(s.relatedInformation,Eee.is))}o(r,"is"),e.is=r})(EQ||(EQ={}));var OI;(function(e){function t(n,i,...s){let a={title:n,command:i};return Je.defined(s)&&s.length>0&&(a.arguments=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return Je.defined(i)&&Je.string(i.title)&&Je.string(i.command)}o(r,"is"),e.is=r})(OI||(OI={}));var UI;(function(e){function t(s,a){return{range:s,newText:a}}o(t,"replace"),e.replace=t;function r(s,a){return{range:{start:s,end:s},newText:a}}o(r,"insert"),e.insert=r;function n(s){return{range:s,newText:""}}o(n,"del"),e.del=n;function i(s){let a=s;return Je.objectLiteral(a)&&Je.string(a.newText)&&Zo.is(a.range)}o(i,"is"),e.is=i})(UI||(UI={}));var Iee;(function(e){function t(n,i,s){let a={label:n};return i!==void 0&&(a.needsConfirmation=i),s!==void 0&&(a.description=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return Je.objectLiteral(i)&&Je.string(i.label)&&(Je.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(Je.string(i.description)||i.description===void 0)}o(r,"is"),e.is=r})(Iee||(Iee={}));var qI;(function(e){function t(r){let n=r;return Je.string(n)}o(t,"is"),e.is=t})(qI||(qI={}));var dve;(function(e){function t(s,a,l){return{range:s,newText:a,annotationId:l}}o(t,"replace"),e.replace=t;function r(s,a,l){return{range:{start:s,end:s},newText:a,annotationId:l}}o(r,"insert"),e.insert=r;function n(s,a){return{range:s,newText:"",annotationId:a}}o(n,"del"),e.del=n;function i(s){let a=s;return UI.is(a)&&(Iee.is(a.annotationId)||qI.is(a.annotationId))}o(i,"is"),e.is=i})(dve||(dve={}));var Tee;(function(e){function t(n,i){return{textDocument:n,edits:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Je.defined(i)&&Ree.is(i.textDocument)&&Array.isArray(i.edits)}o(r,"is"),e.is=r})(Tee||(Tee={}));var wee;(function(e){function t(n,i,s){let a={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(a.options=i),s!==void 0&&(a.annotationId=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="create"&&Je.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||Je.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||Je.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||qI.is(i.annotationId))}o(r,"is"),e.is=r})(wee||(wee={}));var _ee;(function(e){function t(n,i,s,a){let l={kind:"rename",oldUri:n,newUri:i};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(l.options=s),a!==void 0&&(l.annotationId=a),l}o(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="rename"&&Je.string(i.oldUri)&&Je.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||Je.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||Je.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||qI.is(i.annotationId))}o(r,"is"),e.is=r})(_ee||(_ee={}));var See;(function(e){function t(n,i,s){let a={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(a.options=i),s!==void 0&&(a.annotationId=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="delete"&&Je.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||Je.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||Je.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||qI.is(i.annotationId))}o(r,"is"),e.is=r})(See||(See={}));var kee;(function(e){function t(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>Je.string(i.kind)?wee.is(i)||_ee.is(i)||See.is(i):Tee.is(i)))}o(t,"is"),e.is=t})(kee||(kee={}));var mve;(function(e){function t(n){return{uri:n}}o(t,"create"),e.create=t;function r(n){let i=n;return Je.defined(i)&&Je.string(i.uri)}o(r,"is"),e.is=r})(mve||(mve={}));var hve;(function(e){function t(n,i){return{uri:n,version:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Je.defined(i)&&Je.string(i.uri)&&Je.integer(i.version)}o(r,"is"),e.is=r})(hve||(hve={}));var Ree;(function(e){function t(n,i){return{uri:n,version:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Je.defined(i)&&Je.string(i.uri)&&(i.version===null||Je.integer(i.version))}o(r,"is"),e.is=r})(Ree||(Ree={}));var pve;(function(e){function t(n,i,s,a){return{uri:n,languageId:i,version:s,text:a}}o(t,"create"),e.create=t;function r(n){let i=n;return Je.defined(i)&&Je.string(i.uri)&&Je.string(i.languageId)&&Je.integer(i.version)&&Je.string(i.text)}o(r,"is"),e.is=r})(pve||(pve={}));var Bee;(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(r){let n=r;return n===e.PlainText||n===e.Markdown}o(t,"is"),e.is=t})(Bee||(Bee={}));var n_;(function(e){function t(r){let n=r;return Je.objectLiteral(r)&&Bee.is(n.kind)&&Je.string(n.value)}o(t,"is"),e.is=t})(n_||(n_={}));var gve;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(gve||(gve={}));var Ave;(function(e){e.PlainText=1,e.Snippet=2})(Ave||(Ave={}));var yve;(function(e){e.Deprecated=1})(yve||(yve={}));var Cve;(function(e){function t(n,i,s){return{newText:n,insert:i,replace:s}}o(t,"create"),e.create=t;function r(n){let i=n;return i&&Je.string(i.newText)&&Zo.is(i.insert)&&Zo.is(i.replace)}o(r,"is"),e.is=r})(Cve||(Cve={}));var xve;(function(e){e.asIs=1,e.adjustIndentation=2})(xve||(xve={}));var vve;(function(e){function t(r){let n=r;return n&&(Je.string(n.detail)||n.detail===void 0)&&(Je.string(n.description)||n.description===void 0)}o(t,"is"),e.is=t})(vve||(vve={}));var bve;(function(e){function t(r){return{label:r}}o(t,"create"),e.create=t})(bve||(bve={}));var Eve;(function(e){function t(r,n){return{items:r||[],isIncomplete:!!n}}o(t,"create"),e.create=t})(Eve||(Eve={}));var IQ;(function(e){function t(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}o(t,"fromPlainText"),e.fromPlainText=t;function r(n){let i=n;return Je.string(i)||Je.objectLiteral(i)&&Je.string(i.language)&&Je.string(i.value)}o(r,"is"),e.is=r})(IQ||(IQ={}));var Ive;(function(e){function t(r){let n=r;return!!n&&Je.objectLiteral(n)&&(n_.is(n.contents)||IQ.is(n.contents)||Je.typedArray(n.contents,IQ.is))&&(r.range===void 0||Zo.is(r.range))}o(t,"is"),e.is=t})(Ive||(Ive={}));var Tve;(function(e){function t(r,n){return n?{label:r,documentation:n}:{label:r}}o(t,"create"),e.create=t})(Tve||(Tve={}));var wve;(function(e){function t(r,n,...i){let s={label:r};return Je.defined(n)&&(s.documentation=n),Je.defined(i)?s.parameters=i:s.parameters=[],s}o(t,"create"),e.create=t})(wve||(wve={}));var _ve;(function(e){e.Text=1,e.Read=2,e.Write=3})(_ve||(_ve={}));var Sve;(function(e){function t(r,n){let i={range:r};return Je.number(n)&&(i.kind=n),i}o(t,"create"),e.create=t})(Sve||(Sve={}));var kve;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(kve||(kve={}));var Rve;(function(e){e.Deprecated=1})(Rve||(Rve={}));var Bve;(function(e){function t(r,n,i,s,a){let l={name:r,kind:n,location:{uri:s,range:i}};return a&&(l.containerName=a),l}o(t,"create"),e.create=t})(Bve||(Bve={}));var Dve;(function(e){function t(r,n,i,s){return s!==void 0?{name:r,kind:n,location:{uri:i,range:s}}:{name:r,kind:n,location:{uri:i}}}o(t,"create"),e.create=t})(Dve||(Dve={}));var Pve;(function(e){function t(n,i,s,a,l,c){let u={name:n,detail:i,kind:s,range:a,selectionRange:l};return c!==void 0&&(u.children=c),u}o(t,"create"),e.create=t;function r(n){let i=n;return i&&Je.string(i.name)&&Je.number(i.kind)&&Zo.is(i.range)&&Zo.is(i.selectionRange)&&(i.detail===void 0||Je.string(i.detail))&&(i.deprecated===void 0||Je.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}o(r,"is"),e.is=r})(Pve||(Pve={}));var Fve;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(Fve||(Fve={}));var TQ;(function(e){e.Invoked=1,e.Automatic=2})(TQ||(TQ={}));var Nve;(function(e){function t(n,i,s){let a={diagnostics:n};return i!=null&&(a.only=i),s!=null&&(a.triggerKind=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return Je.defined(i)&&Je.typedArray(i.diagnostics,EQ.is)&&(i.only===void 0||Je.typedArray(i.only,Je.string))&&(i.triggerKind===void 0||i.triggerKind===TQ.Invoked||i.triggerKind===TQ.Automatic)}o(r,"is"),e.is=r})(Nve||(Nve={}));var Lve;(function(e){function t(n,i,s){let a={title:n},l=!0;return typeof i=="string"?(l=!1,a.kind=i):OI.is(i)?a.command=i:a.edit=i,l&&s!==void 0&&(a.kind=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return i&&Je.string(i.title)&&(i.diagnostics===void 0||Je.typedArray(i.diagnostics,EQ.is))&&(i.kind===void 0||Je.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||OI.is(i.command))&&(i.isPreferred===void 0||Je.boolean(i.isPreferred))&&(i.edit===void 0||kee.is(i.edit))}o(r,"is"),e.is=r})(Lve||(Lve={}));var Qve;(function(e){function t(n,i){let s={range:n};return Je.defined(i)&&(s.data=i),s}o(t,"create"),e.create=t;function r(n){let i=n;return Je.defined(i)&&Zo.is(i.range)&&(Je.undefined(i.command)||OI.is(i.command))}o(r,"is"),e.is=r})(Qve||(Qve={}));var Mve;(function(e){function t(n,i){return{tabSize:n,insertSpaces:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Je.defined(i)&&Je.uinteger(i.tabSize)&&Je.boolean(i.insertSpaces)}o(r,"is"),e.is=r})(Mve||(Mve={}));var Ove;(function(e){function t(n,i,s){return{range:n,target:i,data:s}}o(t,"create"),e.create=t;function r(n){let i=n;return Je.defined(i)&&Zo.is(i.range)&&(Je.undefined(i.target)||Je.string(i.target))}o(r,"is"),e.is=r})(Ove||(Ove={}));var Uve;(function(e){function t(n,i){return{range:n,parent:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Je.objectLiteral(i)&&Zo.is(i.range)&&(i.parent===void 0||e.is(i.parent))}o(r,"is"),e.is=r})(Uve||(Uve={}));var qve;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(qve||(qve={}));var Wve;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(Wve||(Wve={}));var Gve;(function(e){function t(r){let n=r;return Je.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}o(t,"is"),e.is=t})(Gve||(Gve={}));var Hve;(function(e){function t(n,i){return{range:n,text:i}}o(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&Zo.is(i.range)&&Je.string(i.text)}o(r,"is"),e.is=r})(Hve||(Hve={}));var jve;(function(e){function t(n,i,s){return{range:n,variableName:i,caseSensitiveLookup:s}}o(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&Zo.is(i.range)&&Je.boolean(i.caseSensitiveLookup)&&(Je.string(i.variableName)||i.variableName===void 0)}o(r,"is"),e.is=r})(jve||(jve={}));var Vve;(function(e){function t(n,i){return{range:n,expression:i}}o(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&Zo.is(i.range)&&(Je.string(i.expression)||i.expression===void 0)}o(r,"is"),e.is=r})(Vve||(Vve={}));var $ve;(function(e){function t(n,i){return{frameId:n,stoppedLocation:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Je.defined(i)&&Zo.is(n.stoppedLocation)}o(r,"is"),e.is=r})($ve||($ve={}));var Dee;(function(e){e.Type=1,e.Parameter=2;function t(r){return r===1||r===2}o(t,"is"),e.is=t})(Dee||(Dee={}));var Pee;(function(e){function t(n){return{value:n}}o(t,"create"),e.create=t;function r(n){let i=n;return Je.objectLiteral(i)&&(i.tooltip===void 0||Je.string(i.tooltip)||n_.is(i.tooltip))&&(i.location===void 0||bQ.is(i.location))&&(i.command===void 0||OI.is(i.command))}o(r,"is"),e.is=r})(Pee||(Pee={}));var zve;(function(e){function t(n,i,s){let a={position:n,label:i};return s!==void 0&&(a.kind=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return Je.objectLiteral(i)&&Lc.is(i.position)&&(Je.string(i.label)||Je.typedArray(i.label,Pee.is))&&(i.kind===void 0||Dee.is(i.kind))&&i.textEdits===void 0||Je.typedArray(i.textEdits,UI.is)&&(i.tooltip===void 0||Je.string(i.tooltip)||n_.is(i.tooltip))&&(i.paddingLeft===void 0||Je.boolean(i.paddingLeft))&&(i.paddingRight===void 0||Je.boolean(i.paddingRight))}o(r,"is"),e.is=r})(zve||(zve={}));var Yve;(function(e){function t(r){return{kind:"snippet",value:r}}o(t,"createSnippet"),e.createSnippet=t})(Yve||(Yve={}));var Kve;(function(e){function t(r,n,i,s){return{insertText:r,filterText:n,range:i,command:s}}o(t,"create"),e.create=t})(Kve||(Kve={}));var Jve;(function(e){function t(r){return{items:r}}o(t,"create"),e.create=t})(Jve||(Jve={}));var Zve;(function(e){e.Invoked=0,e.Automatic=1})(Zve||(Zve={}));var Xve;(function(e){function t(r,n){return{range:r,text:n}}o(t,"create"),e.create=t})(Xve||(Xve={}));var ebe;(function(e){function t(r,n){return{triggerKind:r,selectedCompletionInfo:n}}o(t,"create"),e.create=t})(ebe||(ebe={}));var tbe;(function(e){function t(r){let n=r;return Je.objectLiteral(n)&&vee.is(n.uri)&&Je.string(n.name)}o(t,"is"),e.is=t})(tbe||(tbe={}));var rbe;(function(e){function t(s,a,l,c){return new Fee(s,a,l,c)}o(t,"create"),e.create=t;function r(s){let a=s;return!!(Je.defined(a)&&Je.string(a.uri)&&(Je.undefined(a.languageId)||Je.string(a.languageId))&&Je.uinteger(a.lineCount)&&Je.func(a.getText)&&Je.func(a.positionAt)&&Je.func(a.offsetAt))}o(r,"is"),e.is=r;function n(s,a){let l=s.getText(),c=i(a,(f,m)=>{let h=f.range.start.line-m.range.start.line;return h===0?f.range.start.character-m.range.start.character:h}),u=l.length;for(let f=c.length-1;f>=0;f--){let m=c[f],h=s.offsetAt(m.range.start),p=s.offsetAt(m.range.end);if(p<=u)l=l.substring(0,h)+m.newText+l.substring(p,l.length);else throw new Error("Overlapping edit");u=h}return l}o(n,"applyEdits"),e.applyEdits=n;function i(s,a){if(s.length<=1)return s;let l=s.length/2|0,c=s.slice(0,l),u=s.slice(l);i(c,a),i(u,a);let f=0,m=0,h=0;for(;f<c.length&&m<u.length;)a(c[f],u[m])<=0?s[h++]=c[f++]:s[h++]=u[m++];for(;f<c.length;)s[h++]=c[f++];for(;m<u.length;)s[h++]=u[m++];return s}o(i,"mergeSort")})(rbe||(rbe={}));var Fee=class{static{o(this,"FullTextDocument")}constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){this._content=t.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],r=this._content,n=!0;for(let i=0;i<r.length;i++){n&&(t.push(i),n=!1);let s=r.charAt(i);n=s==="\r"||s===`
`,s==="\r"&&i+1<r.length&&r.charAt(i+1)===`
`&&i++}n&&r.length>0&&t.push(r.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return Lc.create(0,t);for(;n<i;){let a=Math.floor((n+i)/2);r[a]>t?i=a:n=a+1}let s=n-1;return Lc.create(s,t-r[s])}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],i=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,i),n)}get lineCount(){return this.getLineOffsets().length}},Je;(function(e){let t=Object.prototype.toString;function r(p){return typeof p<"u"}o(r,"defined"),e.defined=r;function n(p){return typeof p>"u"}o(n,"undefined"),e.undefined=n;function i(p){return p===!0||p===!1}o(i,"boolean"),e.boolean=i;function s(p){return t.call(p)==="[object String]"}o(s,"string"),e.string=s;function a(p){return t.call(p)==="[object Number]"}o(a,"number"),e.number=a;function l(p,g,x){return t.call(p)==="[object Number]"&&g<=p&&p<=x}o(l,"numberRange"),e.numberRange=l;function c(p){return t.call(p)==="[object Number]"&&-2147483648<=p&&p<=2147483647}o(c,"integer"),e.integer=c;function u(p){return t.call(p)==="[object Number]"&&0<=p&&p<=2147483647}o(u,"uinteger"),e.uinteger=u;function f(p){return t.call(p)==="[object Function]"}o(f,"func"),e.func=f;function m(p){return p!==null&&typeof p=="object"}o(m,"objectLiteral"),e.objectLiteral=m;function h(p,g){return Array.isArray(p)&&p.every(g)}o(h,"typedArray"),e.typedArray=h})(Je||(Je={}));var No=class{static{o(this,"LocationFactory")}static{this.range=Zo.create.bind(Zo)}static{this.position=Lc.create.bind(Lc)}};function WI({textDocument:e,position:t},r){let n=e.offsetAt(t);for(let{range:i,newText:s}of r){let a=e.getText(i),l=e.offsetAt(i.end);e=e.applyEdits([{range:i,newText:s}]),!(n<e.offsetAt(i.start))&&(n<l&&(n=l),n+=s.length-a.length)}return{textDocument:e,position:e.positionAt(n)}}o(WI,"applyEdits");function wQ(e,t,r){return WI({textDocument:e,position:t},r)}o(wQ,"applyEditsWithPosition");var V1=class e{constructor(t,r,n,i=[]){this.uri=t;this._textDocument=r;this.detectedLanguageId=n;this.appliedEdits=i}static{o(this,"CopilotTextDocument")}static withChanges(t,r,n){let i=u5.create(t.clientUri,t.clientLanguageId,n,t.getText());return u5.update(i,r,n),new e(t.uri,i,t.detectedLanguageId)}applyEdits(t){let r=u5.create(this.clientUri,this.clientLanguageId,this.version,this.getText());return u5.update(r,t.map(n=>({text:n.newText,range:n.range})),this.version),new e(this.uri,r,this.detectedLanguageId,[...this.appliedEdits,...t])}static create(t,r,n,i,s=EI({uri:t,languageId:r})){return new e(rc(t),u5.create(t,r,n,i),s)}get clientUri(){return this._textDocument.uri}get clientLanguageId(){return this._textDocument.languageId}get languageId(){return this._textDocument.languageId}get version(){return this._textDocument.version}get lineCount(){return this._textDocument.lineCount}getText(t){return this._textDocument.getText(t)}positionAt(t){return this._textDocument.positionAt(t)}offsetAt(t){return this._textDocument.offsetAt(t)}lineAt(t){let r=typeof t=="number"?t:t.line;if(r<0||r>=this.lineCount)throw new RangeError("Illegal value for lineNumber");let n=Zo.create(r,0,r+1,0),i=this.getText(n).replace(/\r\n$|\r$|\n$/g,""),s=Zo.create(Lc.create(r,0),Lc.create(r,i.length)),a=i.trim().length===0;return{text:i,range:s,isEmptyOrWhitespace:a}}};d();d();d();d();var i_={isBlocked:!1,reason:"VALID_FILE"},_Q={isBlocked:!1,reason:"NO_MATCHING_POLICY"},nbe={isBlocked:!0,reason:"POLICY_ERROR",message:"Copilot is disabled because we could not fetch the repository policy"},j4={all:"all",repo:"repo"},$1=new Vt("contentExclusion");d();d();var SQ=class{static{o(this,"PolicyEvaluator")}};d();d();d();var ibe=new Vt("repository"),V4=class e{constructor(){this.data={}}static{o(this,"GitConfigData")}getKeys(){return Object.keys(this.data)}getEntries(){return Object.entries(this.data)}get(t){let r=this.getAll(t);return r?r[r.length-1]:void 0}getAll(t){return this.data[this.normalizeKey(t)]}add(t,r){t in this.data||(this.data[t]=[]),this.data[t].push(r)}getSectionValues(t,r){let n=`${t}.`.toLowerCase(),i=`.${r}`.toLowerCase();return Object.keys(this.data).filter(s=>s.startsWith(n)&&s.endsWith(i)).map(s=>s.slice(n.length,-i.length))}concat(t){return this.getEntries().concat(t.getEntries()).reduce((r,[n,i])=>(i.forEach(s=>r.add(n,s)),r),new e)}normalizeKey(t){let r=t.split(".");return r[0]=r[0].toLowerCase(),r[r.length-1]=r[r.length-1].toLowerCase(),r.join(".")}},eh=class{static{o(this,"GitConfigLoader")}},kQ=class extends eh{constructor(r){super();this.loaders=r}static{o(this,"GitFallbackConfigLoader")}async getConfig(r,n){for(let i of this.loaders){let s=await i.getConfig(r,n);if(s)return s}}};d();var obe=require("os");var RQ=class{constructor(t){this.url=t;this.isUrl()?this.parseUrl():this.tryParseSSHString()||(this._scheme="file")}static{o(this,"GitRemoteUrl")}get scheme(){return this._scheme}get authority(){return this._authority}get hostname(){return this._hostname}get path(){return this._path}isInvalid(){return this._error!==void 0}isRemote(){return this.scheme!=="file"&&this.hostname!==void 0}isGitHub(){return this.isRemote()&&/(?:^|\.)(?:github\.com|ghe\.com)$/i.test(this.hostname??"")}isADO(){return this.isRemote()&&/(?:^|\.)(?:visualstudio\.com|azure\.com)$/i.test(this.hostname??"")}getUrlForApi(){if(!this.isRemote())return null;if(this.isUrl()&&!this.isInvalid())return Vy.from({scheme:this.scheme,authority:this.authority.replace(/^[^@]+@/,""),path:this.path}).toString();if(this.scheme=="ssh"&&this.isADO()){let t=this.url.indexOf(":");return this.url.substring(0,t+1)+this.path}return this.url}isUrl(){return/[A-Za-z0-9][A-Za-z0-9]+:\/\//.test(this.url)}parseUrl(){let t;try{t=Vy.parse(this.url)}catch(r){this._error=r;return}this._scheme=t.scheme,this.setAuthority(t.authority),this.setPath(t.path)}setAuthority(t){this._authority=t;let r=t.replace(/^[^@]+@/,"").replace(/:\d*$/,"");r&&(this._hostname=r)}tryParseSSHString(){let t=/^(?<host>[^:/\\[]*(?:\[[^/\\\]]*\])?):/.exec(this.url);if(t&&((0,obe.platform)()!=="win32"||(t.groups?.host?.length??0)>1)){let r=t.groups?.host??"";return this._scheme="ssh",this.setAuthority(r),this.setPath(this.url.substring(r.length+1)),!0}return!1}setPath(t){if(this.isADO())try{this._path=decodeURIComponent(t);return}catch{}this._path=t}};var BQ=class{static{o(this,"GitRemoteResolver")}async resolveRemote(t,r){let n=await t.get(eh).getConfig(t,r);if(!n)return;let i=this.getRemotes(n),s=i.filter(a=>a.url.isGitHub());if(s.length)return s.find(a=>a.name==="origin")?.url??s[0].url;if(i.length)return i.find(a=>a.name==="origin")?.url??i[0].url}getRemotes(t){let r=this.getInsteadOfRules(t);return t.getSectionValues("remote","url").map(n=>({name:n,url:new RQ(this.applyInsteadOfRules(r,t.get(`remote.${n}.url`)??""))})).filter(n=>n.url.isRemote())}applyInsteadOfRules(t,r){for(let n of t)if(r.startsWith(n.insteadOf))return n.base+r.slice(n.insteadOf.length);return r}getInsteadOfRules(t){return t.getSectionValues("url","insteadof").map(r=>({base:r,insteadOf:t.get(`url.${r}.insteadof`)})).sort((r,n)=>n.base.length-r.base.length)}};var kct=100,Nee=class{constructor(t,r){this.baseFolder=t;this.remote=r;this.setNWO()}static{o(this,"GitRepository")}get tenant(){return this._tenant}get owner(){return this._owner}get name(){return this._name}get adoOrganization(){return this._adoOrganization}isGitHub(){return this.remote?.isGitHub()??!1}isADO(){return this.remote?.isADO()??!1}setNWO(){let t=this.remote?.path?.replace(/^\//,"").split("/");if(this.isGitHub()){this._owner=t?.[0],this._name=t?.[1]?.replace(/\.git$/,"");let r=/^(?<tenant>[^.]+)\.ghe\.com$/.exec(this.remote?.hostname??"");r&&(this._tenant=r.groups?.tenant)}else if(this.isADO()&&t?.length===4){if(this.remote?.scheme==="ssh"){this._adoOrganization=t?.[1],this._owner=t?.[2],this._name=t?.[3];return}let r=/(?:(?<org>[^.]+)\.)?visualstudio\.com$/.exec(this.remote?.hostname??"");r?(this._adoOrganization=r.groups?.org,this._owner=t?.[1],this._name=t?.[3]):(this._adoOrganization=t?.[0],this._owner=t?.[1],this._name=t?.[3])}}},z1=class e{constructor(t){this.ctx=t;this.remoteResolver=new BQ;this.cache=new In(kct)}static{o(this,"RepositoryManager")}async getRepo({uri:t}){let r,n=[];do{if(this.cache.has(t.toString())){let s=this.cache.get(t);return this.updateCache(n,s),s}n.push(t.toString());let i=await this.tryGetRepoForFolder(t);if(i)return this.updateCache(n,i),i;r=t,t=ju(t)}while(t!==r);this.updateCache(n,void 0)}updateCache(t,r){t.forEach(n=>this.cache.set(n,r))}async tryGetRepoForFolder(t){return await this.isBaseRepoFolder(t)?new Nee(typeof t=="string"?{uri:t}:t,await this.repoUrl(t)):void 0}async isBaseRepoFolder(t){return await e.getRepoConfigLocation(this.ctx,t)!==void 0}async repoUrl(t){return await this.remoteResolver.resolveRemote(this.ctx,t)}static async getRepoConfigLocation(t,r){try{let n=t.get(Io),i=Fo(r,".git");if((await n.stat(i)).type&1)return await this.getConfigLocationForGitfile(n,r,i);let a=Fo(i,"config");return await n.stat(a),a}catch{return}}static async getConfigLocationForGitfile(t,r,n){let s=(await t.readFileString(n)).match(/^gitdir:\s+(.+)$/m);if(!s)return;let a=p4(r,s[1]),l=Fo(a,"config");if(await this.tryStat(t,l)!==void 0)return l;let c=Fo(a,"config.worktree");if(await this.tryStat(t,c)!==void 0)return c;let u=Fo(a,"commondir");a=p4(a,(await t.readFileString(u)).trimEnd());let f=Fo(a,"config");return await t.stat(f),f}static async tryStat(t,r){try{return await t.stat(r)}catch{return}}};d();var sbe=o((e,t)=>{if(Yy.Check(e,t))return t;let r=`Typebox schema validation failed:
${[...Yy.Errors(e,t)].map(n=>`${n.path} ${n.message}`).join(`
`)}`;throw new Error(r)},"assertShape");d();d();d();var PQ=new WeakMap;function FQ(e,t){if(e==null||typeof e!="object")return String(e);let r,n="",i=0,s=Object.prototype.toString.call(e);if(s!=="[object RegExp]"&&s!=="[object Date]"&&PQ.has(e))return PQ.get(e);switch(PQ.set(e,"~"+ ++t),s){case"[object Set]":r=Array.from(e);case"[object Array]":for(r||(r=e),n+="a";i<r.length;n+=FQ(r[i++],t));break;case"[object Object]":for(n+="o",r=Object.keys(e).sort();i<r.length;n+=r[i]+FQ(e[r[i++]],t));break;case"[object Map]":for(n+="o",r=Array.from(e.keys()).sort();i<r.length;n+=r[i]+FQ(e.get(r[i++]),t));break;case"[object Date]":return"d"+ +e;case"[object RegExp]":return"r"+e.source+e.flags;default:throw new Error(`Unsupported value ${e}`)}return PQ.set(e,n),n}o(FQ,"t");function NQ(e){return FQ(e,0)}o(NQ,"r");var Lee=new WeakMap;function abe(e,t,r=NQ(t)){let n,i,s=Lee.get(e);s||(Lee.set(e,s=[[],i=[],n=[]]),queueMicrotask(function(){let u,f=0;function m(h){for(;u=n[f++];u.r(h));}o(m,"o"),Lee.delete(e),e(i).then(function(h){if(h.length!==n.length)return m(new Error("loader value length mismatch"));for(;u=h[f++],f<=h.length;u instanceof Error?n[f-1].r(u):n[f-1].s(u));},m)}));let a=s[0].indexOf(r);if(~a)return s[2][a].p;let l=s[0].push(r)-1,c=s[2][l]={};return s[1][l]=t,c.p=new Promise(function(u,f){c.s=u,c.r=f})}o(abe,"n");var lbe=new WeakMap;function Rct(e,t,r,n=NQ(r)){if(t||(t=lbe.get(e)),t||lbe.set(e,t=new Map),t.has(n))return Promise.resolve(t.get(n));let i=abe(e,r,n);return t.set(n,i),i.catch(()=>t.delete(n)),i}o(Rct,"n");function cbe(e,t){return function(r,n){return Rct(e,t,r,n)}}o(cbe,"o");d();var Rbe=et(bbe(),1);d();var s_=o(e=>{if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},"assertValidPattern");d();d();var Mct={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},a_=o(e=>e.replace(/[[\]\\-]/g,"\\$&"),"braceEscape"),Oct=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regexpEscape"),Ebe=o(e=>e.join(""),"rangesToString"),Ibe=o((e,t)=>{let r=t;if(e.charAt(r)!=="[")throw new Error("not in a brace expression");let n=[],i=[],s=r+1,a=!1,l=!1,c=!1,u=!1,f=r,m="";e:for(;s<e.length;){let x=e.charAt(s);if((x==="!"||x==="^")&&s===r+1){u=!0,s++;continue}if(x==="]"&&a&&!c){f=s+1;break}if(a=!0,x==="\\"&&!c){c=!0,s++;continue}if(x==="["&&!c){for(let[v,[E,b,_]]of Object.entries(Mct))if(e.startsWith(v,s)){if(m)return["$.",!1,e.length-r,!0];s+=v.length,_?i.push(E):n.push(E),l=l||b;continue e}}if(c=!1,m){x>m?n.push(a_(m)+"-"+a_(x)):x===m&&n.push(a_(x)),m="",s++;continue}if(e.startsWith("-]",s+1)){n.push(a_(x+"-")),s+=2;continue}if(e.startsWith("-",s+1)){m=x,s+=2;continue}n.push(a_(x)),s++}if(f<s)return["",!1,0,!1];if(!n.length&&!i.length)return["$.",!1,e.length-r,!0];if(i.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!u){let x=n[0].length===2?n[0].slice(-1):n[0];return[Oct(x),!1,f-r,!1]}let h="["+(u?"^":"")+Ebe(n)+"]",p="["+(u?"":"^")+Ebe(i)+"]";return[n.length&&i.length?"("+h+"|"+p+")":n.length?h:p,l,f-r,!0]},"parseClass");d();var f5=o((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),"unescape");var Uct=new Set(["!","?","+","*","@"]),Tbe=o(e=>Uct.has(e),"isExtglobType"),qct="(?!(?:^|/)\\.\\.?(?:$|/))",LQ="(?!\\.)",Wct=new Set(["[","."]),Gct=new Set(["..","."]),Hct=new Set("().*{}+?[]^$\\!"),jct=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),Oee="[^/]",wbe=Oee+"*?",_be=Oee+"+?",GI=class e{static{o(this,"AST")}type;#e;#t;#i=!1;#n=[];#r;#o;#s;#a=!1;#l;#c;#f=!1;constructor(t,r,n={}){this.type=t,t&&(this.#t=!0),this.#r=r,this.#e=this.#r?this.#r.#e:this,this.#l=this.#e===this?n:this.#e.#l,this.#s=this.#e===this?[]:this.#e.#s,t==="!"&&!this.#e.#a&&this.#s.push(this),this.#o=this.#r?this.#r.#n.length:0}get hasMagic(){if(this.#t!==void 0)return this.#t;for(let t of this.#n)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#t=!0;return this.#t}toString(){return this.#c!==void 0?this.#c:this.type?this.#c=this.type+"("+this.#n.map(t=>String(t)).join("|")+")":this.#c=this.#n.map(t=>String(t)).join("")}#m(){if(this!==this.#e)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let t;for(;t=this.#s.pop();){if(t.type!=="!")continue;let r=t,n=r.#r;for(;n;){for(let i=r.#o+1;!n.type&&i<n.#n.length;i++)for(let s of t.#n){if(typeof s=="string")throw new Error("string part in extglob AST??");s.copyIn(n.#n[i])}r=n,n=r.#r}}return this}push(...t){for(let r of t)if(r!==""){if(typeof r!="string"&&!(r instanceof e&&r.#r===this))throw new Error("invalid part: "+r);this.#n.push(r)}}toJSON(){let t=this.type===null?this.#n.slice().map(r=>typeof r=="string"?r:r.toJSON()):[this.type,...this.#n.map(r=>r.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#e||this.#e.#a&&this.#r?.type==="!")&&t.push({}),t}isStart(){if(this.#e===this)return!0;if(!this.#r?.isStart())return!1;if(this.#o===0)return!0;let t=this.#r;for(let r=0;r<this.#o;r++){let n=t.#n[r];if(!(n instanceof e&&n.type==="!"))return!1}return!0}isEnd(){if(this.#e===this||this.#r?.type==="!")return!0;if(!this.#r?.isEnd())return!1;if(!this.type)return this.#r?.isEnd();let t=this.#r?this.#r.#n.length:0;return this.#o===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){let r=new e(this.type,t);for(let n of this.#n)r.copyIn(n);return r}static#u(t,r,n,i){let s=!1,a=!1,l=-1,c=!1;if(r.type===null){let p=n,g="";for(;p<t.length;){let x=t.charAt(p++);if(s||x==="\\"){s=!s,g+=x;continue}if(a){p===l+1?(x==="^"||x==="!")&&(c=!0):x==="]"&&!(p===l+2&&c)&&(a=!1),g+=x;continue}else if(x==="["){a=!0,l=p,c=!1,g+=x;continue}if(!i.noext&&Tbe(x)&&t.charAt(p)==="("){r.push(g),g="";let v=new e(x,r);p=e.#u(t,v,p,i),r.push(v);continue}g+=x}return r.push(g),p}let u=n+1,f=new e(null,r),m=[],h="";for(;u<t.length;){let p=t.charAt(u++);if(s||p==="\\"){s=!s,h+=p;continue}if(a){u===l+1?(p==="^"||p==="!")&&(c=!0):p==="]"&&!(u===l+2&&c)&&(a=!1),h+=p;continue}else if(p==="["){a=!0,l=u,c=!1,h+=p;continue}if(Tbe(p)&&t.charAt(u)==="("){f.push(h),h="";let g=new e(p,f);f.push(g),u=e.#u(t,g,u,i);continue}if(p==="|"){f.push(h),h="",m.push(f),f=new e(null,r);continue}if(p===")")return h===""&&r.#n.length===0&&(r.#f=!0),f.push(h),h="",r.push(...m,f),u;h+=p}return r.type=null,r.#t=void 0,r.#n=[t.substring(n-1)],u}static fromGlob(t,r={}){let n=new e(null,void 0,r);return e.#u(t,n,0,r),n}toMMPattern(){if(this!==this.#e)return this.#e.toMMPattern();let t=this.toString(),[r,n,i,s]=this.toRegExpSource();if(!(i||this.#t||this.#l.nocase&&!this.#l.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return n;let l=(this.#l.nocase?"i":"")+(s?"u":"");return Object.assign(new RegExp(`^${r}$`,l),{_src:r,_glob:t})}get options(){return this.#l}toRegExpSource(t){let r=t??!!this.#l.dot;if(this.#e===this&&this.#m(),!this.type){let c=this.isStart()&&this.isEnd(),u=this.#n.map(p=>{let[g,x,v,E]=typeof p=="string"?e.#h(p,this.#t,c):p.toRegExpSource(t);return this.#t=this.#t||v,this.#i=this.#i||E,g}).join(""),f="";if(this.isStart()&&typeof this.#n[0]=="string"&&!(this.#n.length===1&&Gct.has(this.#n[0]))){let g=Wct,x=r&&g.has(u.charAt(0))||u.startsWith("\\.")&&g.has(u.charAt(2))||u.startsWith("\\.\\.")&&g.has(u.charAt(4)),v=!r&&!t&&g.has(u.charAt(0));f=x?qct:v?LQ:""}let m="";return this.isEnd()&&this.#e.#a&&this.#r?.type==="!"&&(m="(?:$|\\/)"),[f+u+m,f5(u),this.#t=!!this.#t,this.#i]}let n=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:",s=this.#d(r);if(this.isStart()&&this.isEnd()&&!s&&this.type!=="!"){let c=this.toString();return this.#n=[c],this.type=null,this.#t=void 0,[c,f5(this.toString()),!1,!1]}let a=!n||t||r||!LQ?"":this.#d(!0);a===s&&(a=""),a&&(s=`(?:${s})(?:${a})*?`);let l="";if(this.type==="!"&&this.#f)l=(this.isStart()&&!r?LQ:"")+_be;else{let c=this.type==="!"?"))"+(this.isStart()&&!r&&!t?LQ:"")+wbe+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&a?")":this.type==="*"&&a?")?":`)${this.type}`;l=i+s+c}return[l,f5(s),this.#t=!!this.#t,this.#i]}#d(t){return this.#n.map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[n,i,s,a]=r.toRegExpSource(t);return this.#i=this.#i||a,n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")}static#h(t,r,n=!1){let i=!1,s="",a=!1;for(let l=0;l<t.length;l++){let c=t.charAt(l);if(i){i=!1,s+=(Hct.has(c)?"\\":"")+c;continue}if(c==="\\"){l===t.length-1?s+="\\\\":i=!0;continue}if(c==="["){let[u,f,m,h]=Ibe(t,l);if(m){s+=u,a=a||f,l+=m-1,r=r||h;continue}}if(c==="*"){n&&t==="*"?s+=_be:s+=wbe,r=!0;continue}if(c==="?"){s+=Oee,r=!0;continue}s+=jct(c)}return[s,f5(t),!!r,a]}};d();var Uee=o((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&"),"escape");var Ea=o((e,t,r={})=>(s_(t),!r.nocomment&&t.charAt(0)==="#"?!1:new HI(t,r).match(e)),"minimatch"),Vct=/^\*+([^+@!?\*\[\(]*)$/,$ct=o(e=>t=>!t.startsWith(".")&&t.endsWith(e),"starDotExtTest"),zct=o(e=>t=>t.endsWith(e),"starDotExtTestDot"),Yct=o(e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),"starDotExtTestNocase"),Kct=o(e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),"starDotExtTestNocaseDot"),Jct=/^\*+\.\*+$/,Zct=o(e=>!e.startsWith(".")&&e.includes("."),"starDotStarTest"),Xct=o(e=>e!=="."&&e!==".."&&e.includes("."),"starDotStarTestDot"),e0t=/^\.\*+$/,t0t=o(e=>e!=="."&&e!==".."&&e.startsWith("."),"dotStarTest"),r0t=/^\*+$/,n0t=o(e=>e.length!==0&&!e.startsWith("."),"starTest"),i0t=o(e=>e.length!==0&&e!=="."&&e!=="..","starTestDot"),o0t=/^\?+([^+@!?\*\[\(]*)?$/,s0t=o(([e,t=""])=>{let r=Bbe([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocase"),a0t=o(([e,t=""])=>{let r=Dbe([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocaseDot"),l0t=o(([e,t=""])=>{let r=Dbe([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTestDot"),c0t=o(([e,t=""])=>{let r=Bbe([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTest"),Bbe=o(([e])=>{let t=e.length;return r=>r.length===t&&!r.startsWith(".")},"qmarksTestNoExt"),Dbe=o(([e])=>{let t=e.length;return r=>r.length===t&&r!=="."&&r!==".."},"qmarksTestNoExtDot"),Pbe=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",Sbe={win32:{sep:"\\"},posix:{sep:"/"}},u0t=Pbe==="win32"?Sbe.win32.sep:Sbe.posix.sep;Ea.sep=u0t;var _d=Symbol("globstar **");Ea.GLOBSTAR=_d;var f0t="[^/]",d0t=f0t+"*?",m0t="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",h0t="(?:(?!(?:\\/|^)\\.).)*?",p0t=o((e,t={})=>r=>Ea(r,e,t),"filter");Ea.filter=p0t;var wd=o((e,t={})=>Object.assign({},e,t),"ext"),g0t=o(e=>{if(!e||typeof e!="object"||!Object.keys(e).length)return Ea;let t=Ea;return Object.assign(o((n,i,s={})=>t(n,i,wd(e,s)),"m"),{Minimatch:class extends t.Minimatch{static{o(this,"Minimatch")}constructor(i,s={}){super(i,wd(e,s))}static defaults(i){return t.defaults(wd(e,i)).Minimatch}},AST:class extends t.AST{static{o(this,"AST")}constructor(i,s,a={}){super(i,s,wd(e,a))}static fromGlob(i,s={}){return t.AST.fromGlob(i,wd(e,s))}},unescape:o((n,i={})=>t.unescape(n,wd(e,i)),"unescape"),escape:o((n,i={})=>t.escape(n,wd(e,i)),"escape"),filter:o((n,i={})=>t.filter(n,wd(e,i)),"filter"),defaults:o(n=>t.defaults(wd(e,n)),"defaults"),makeRe:o((n,i={})=>t.makeRe(n,wd(e,i)),"makeRe"),braceExpand:o((n,i={})=>t.braceExpand(n,wd(e,i)),"braceExpand"),match:o((n,i,s={})=>t.match(n,i,wd(e,s)),"match"),sep:t.sep,GLOBSTAR:_d})},"defaults");Ea.defaults=g0t;var Fbe=o((e,t={})=>(s_(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:(0,Rbe.default)(e)),"braceExpand");Ea.braceExpand=Fbe;var A0t=o((e,t={})=>new HI(e,t).makeRe(),"makeRe");Ea.makeRe=A0t;var y0t=o((e,t,r={})=>{let n=new HI(t,r);return e=e.filter(i=>n.match(i)),n.options.nonull&&!e.length&&e.push(t),e},"match");Ea.match=y0t;var kbe=/[?*]|[+@!]\(.*?\)|\[|\]/,C0t=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),HI=class{static{o(this,"Minimatch")}options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t,r={}){s_(t),r=r||{},this.options=r,this.pattern=t,this.platform=r.platform||Pbe,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let t of this.set)for(let r of t)if(typeof r!="string")return!0;return!1}debug(...t){}make(){let t=this.pattern,r=this.options;if(!r.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...s)=>console.error(...s)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(s=>this.slashSplit(s));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let i=this.globParts.map((s,a,l)=>{if(this.isWindows&&this.windowsNoMagicRoot){let c=s[0]===""&&s[1]===""&&(s[2]==="?"||!kbe.test(s[2]))&&!kbe.test(s[3]),u=/^[a-z]:/i.test(s[0]);if(c)return[...s.slice(0,4),...s.slice(4).map(f=>this.parse(f))];if(u)return[s[0],...s.slice(1).map(f=>this.parse(f))]}return s.map(c=>this.parse(c))});if(this.debug(this.pattern,i),this.set=i.filter(s=>s.indexOf(!1)===-1),this.isWindows)for(let s=0;s<this.set.length;s++){let a=this.set[s];a[0]===""&&a[1]===""&&this.globParts[s][2]==="?"&&typeof a[3]=="string"&&/^[a-z]:$/i.test(a[3])&&(a[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let n=0;n<t.length;n++)for(let i=0;i<t[n].length;i++)t[n][i]==="**"&&(t[n][i]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):r>=1?t=this.levelOneOptimize(t):t=this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let i=n;for(;r[i+1]==="**";)i++;i!==n&&r.splice(n,i-n)}return r})}levelOneOptimize(t){return t.map(r=>(r=r.reduce((n,i)=>{let s=n[n.length-1];return i==="**"&&s==="**"?n:i===".."&&s&&s!==".."&&s!=="."&&s!=="**"?(n.pop(),n):(n.push(i),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let i=1;i<t.length-1;i++){let s=t[i];i===1&&s===""&&t[0]===""||(s==="."||s==="")&&(r=!0,t.splice(i,1),i--)}t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")&&(r=!0,t.pop())}let n=0;for(;(n=t.indexOf("..",n+1))!==-1;){let i=t[n-1];i&&i!=="."&&i!==".."&&i!=="**"&&(r=!0,t.splice(n-1,2),n-=2)}}while(r);return t.length===0?[""]:t}firstPhasePreProcess(t){let r=!1;do{r=!1;for(let n of t){let i=-1;for(;(i=n.indexOf("**",i+1))!==-1;){let a=i;for(;n[a+1]==="**";)a++;a>i&&n.splice(i+1,a-i);let l=n[i+1],c=n[i+2],u=n[i+3];if(l!==".."||!c||c==="."||c===".."||!u||u==="."||u==="..")continue;r=!0,n.splice(i,1);let f=n.slice(0);f[i]="**",t.push(f),i--}if(!this.preserveMultipleSlashes){for(let a=1;a<n.length-1;a++){let l=n[a];a===1&&l===""&&n[0]===""||(l==="."||l==="")&&(r=!0,n.splice(a,1),a--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let s=0;for(;(s=n.indexOf("..",s+1))!==-1;){let a=n[s-1];if(a&&a!=="."&&a!==".."&&a!=="**"){r=!0;let c=s===1&&n[s+1]==="**"?["."]:[];n.splice(s-1,2,...c),n.length===0&&n.push(""),s-=2}}}}while(r);return t}secondPhasePreProcess(t){for(let r=0;r<t.length-1;r++)for(let n=r+1;n<t.length;n++){let i=this.partsMatch(t[r],t[n],!this.preserveMultipleSlashes);if(i){t[r]=[],t[n]=i;break}}return t.filter(r=>r.length)}partsMatch(t,r,n=!1){let i=0,s=0,a=[],l="";for(;i<t.length&&s<r.length;)if(t[i]===r[s])a.push(l==="b"?r[s]:t[i]),i++,s++;else if(n&&t[i]==="**"&&r[s]===t[i+1])a.push(t[i]),i++;else if(n&&r[s]==="**"&&t[i]===r[s+1])a.push(r[s]),s++;else if(t[i]==="*"&&r[s]&&(this.options.dot||!r[s].startsWith("."))&&r[s]!=="**"){if(l==="b")return!1;l="a",a.push(t[i]),i++,s++}else if(r[s]==="*"&&t[i]&&(this.options.dot||!t[i].startsWith("."))&&t[i]!=="**"){if(l==="a")return!1;l="b",a.push(r[s]),i++,s++}else return!1;return t.length===r.length&&a}parseNegate(){if(this.nonegate)return;let t=this.pattern,r=!1,n=0;for(let i=0;i<t.length&&t.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=t.slice(n)),this.negate=r}matchOne(t,r,n=!1){let i=this.options;if(this.isWindows){let x=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),v=!x&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),E=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),b=!E&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),_=v?3:x?0:void 0,R=b?3:E?0:void 0;if(typeof _=="number"&&typeof R=="number"){let[P,F]=[t[_],r[R]];P.toLowerCase()===F.toLowerCase()&&(r[R]=P,R>_?r=r.slice(R):_>R&&(t=t.slice(_)))}}let{optimizationLevel:s=1}=this.options;s>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:r}),this.debug("matchOne",t.length,r.length);for(var a=0,l=0,c=t.length,u=r.length;a<c&&l<u;a++,l++){this.debug("matchOne loop");var f=r[l],m=t[a];if(this.debug(r,f,m),f===!1)return!1;if(f===_d){this.debug("GLOBSTAR",[r,f,m]);var h=a,p=l+1;if(p===u){for(this.debug("** at the end");a<c;a++)if(t[a]==="."||t[a]===".."||!i.dot&&t[a].charAt(0)===".")return!1;return!0}for(;h<c;){var g=t[h];if(this.debug(`
globstar while`,t,h,r,p,g),this.matchOne(t.slice(h),r.slice(p),n))return this.debug("globstar found match!",h,c,g),!0;if(g==="."||g===".."||!i.dot&&g.charAt(0)==="."){this.debug("dot detected!",t,h,r,p);break}this.debug("globstar swallow a segment, and continue"),h++}return!!(n&&(this.debug(`
>>> no match, partial?`,t,h,r,p),h===c))}let x;if(typeof f=="string"?(x=m===f,this.debug("string match",f,m,x)):(x=f.test(m),this.debug("pattern match",f,m,x)),!x)return!1}if(a===c&&l===u)return!0;if(a===c)return n;if(l===u)return a===c-1&&t[a]==="";throw new Error("wtf?")}braceExpand(){return Fbe(this.pattern,this.options)}parse(t){s_(t);let r=this.options;if(t==="**")return _d;if(t==="")return"";let n,i=null;(n=t.match(r0t))?i=r.dot?i0t:n0t:(n=t.match(Vct))?i=(r.nocase?r.dot?Kct:Yct:r.dot?zct:$ct)(n[1]):(n=t.match(o0t))?i=(r.nocase?r.dot?a0t:s0t:r.dot?l0t:c0t)(n):(n=t.match(Jct))?i=r.dot?Xct:Zct:(n=t.match(e0t))&&(i=t0t);let s=GI.fromGlob(t,this.options).toMMPattern();return i&&typeof s=="object"&&Reflect.defineProperty(s,"test",{value:i}),s}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?d0t:r.dot?m0t:h0t,i=new Set(r.nocase?["i"]:[]),s=t.map(c=>{let u=c.map(f=>{if(f instanceof RegExp)for(let m of f.flags.split(""))i.add(m);return typeof f=="string"?C0t(f):f===_d?_d:f._src});return u.forEach((f,m)=>{let h=u[m+1],p=u[m-1];f!==_d||p===_d||(p===void 0?h!==void 0&&h!==_d?u[m+1]="(?:\\/|"+n+"\\/)?"+h:u[m]=n:h===void 0?u[m-1]=p+"(?:\\/|"+n+")?":h!==_d&&(u[m-1]=p+"(?:\\/|\\/"+n+"\\/)"+h,u[m+1]=_d))}),u.filter(f=>f!==_d).join("/")}).join("|"),[a,l]=t.length>1?["(?:",")"]:["",""];s="^"+a+s+l+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,r=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;let n=this.options;this.isWindows&&(t=t.split("\\").join("/"));let i=this.slashSplit(t);this.debug(this.pattern,"split",i);let s=this.set;this.debug(this.pattern,"set",s);let a=i[i.length-1];if(!a)for(let l=i.length-2;!a&&l>=0;l--)a=i[l];for(let l=0;l<s.length;l++){let c=s[l],u=i;if(n.matchBase&&c.length===1&&(u=[a]),this.matchOne(u,c,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(t){return Ea.defaults(t).Minimatch}};Ea.AST=GI;Ea.Minimatch=HI;Ea.escape=Uee;Ea.unescape=f5;var qee="contentExclusion",QQ=class extends SQ{static{o(this,"CopilotContentExclusion")}#e;#t=new In(1e4);#i=new In(200);constructor(t){super(),this.#e=t}async evaluate(t,r){try{t=p4(t).toString();let n=await this.getGitRepo({uri:t}),i=await this.#n(n?.url??j4.all);if(!i)return _Q;let s=n?.baseFolder?.uri??"file://",a=this.evaluateFilePathRules(t,s,i);if(a.isBlocked)return a;let l=this.evaluateTextBasedRules(t,i,r);if(l.isBlocked)return l}catch(n){return $1.exception(this.#e,n,`${qee}.evaluate`),nbe}return i_}evaluateFilePathRules(t,r,n){let i=t;if(this.#t.has(i))return this.#t.get(i);let s=i_,a,l=cZ(t.replace(r,""));e:for(let c of n)for(let u of c.paths)if(Ea(l,u,{nocase:!0,matchBase:!0,nonegate:!0,dot:!0})){s=Wee(c,"FILE_BLOCKED_PATH"),a=u;break e}return $1.debug(this.#e,`Evaluated path-based exclusion rules for <${t}>`,{result:s,baseUri:r,fileName:l,matchingPattern:a}),this.#t.set(i,s),s}evaluateTextBasedRules(t,r,n){let i=r.filter(l=>l.ifAnyMatch),s=r.filter(l=>l.ifNoneMatch);if(!n||i.length===0&&s.length===0)return i_;let a=this.evaluateFileContent(i,s,n);return $1.debug(this.#e,`Evaluated text-based exclusion rules for <${t}>`,{result:a}),a}evaluateFileContent(t,r,n){for(let i of t)if(i.ifAnyMatch&&i.ifAnyMatch.length>0&&i.ifAnyMatch.map(a=>Nbe(a)).some(a=>a.test(n)))return Wee(i,"FILE_BLOCKED_TEXT_BASED");for(let i of r)if(i.ifNoneMatch&&i.ifNoneMatch.length>0&&!i.ifNoneMatch.map(a=>Nbe(a)).some(a=>a.test(n)))return Wee(i,"FILE_BLOCKED_TEXT_BASED");return i_}async refresh(){try{let t=[...this.#i.keys()];this.reset(),await Promise.all(t.map(r=>this.#o(r)))}catch(t){xa(this.#e,t,`${qee}.refresh`)}}reset(){this.#i.clear(),this.#t.clear()}async#n(t){if(this.#r?.length)return this.#r;let r=await this.#o(t.toLowerCase());if(r.length!==0)return r}#r;setTestingRules(t){this.#r=t}#o=cbe(async t=>{let r=await this.#e.get(Xr).getGitHubSession();if(!r)throw new Ks("No token found");let n=r.devOverride?.contentRestrictionsUrl??this.#e.get(On).getApiUrl(r,"copilot_internal/content_exclusion"),i=new URL(n),s=t.includes(j4.all);t.filter(u=>u!==j4.all).length>0&&i.searchParams.set("repos",t.filter(u=>u!==j4.all).join(",")),i.searchParams.set("scope",s?j4.all:j4.repo);let l=await this.#e.get(Or).fetch(i.href,{method:"GET",headers:{Authorization:`token ${r.accessToken}`}}),c=await l.json();if(!l.ok){if(l.status===404)return Array.from(t,()=>[]);throw this.#s("fetch.error",{message:c.message}),new Y3(l)}return this.#s("fetch.success"),sbe(E0t,c).map(u=>u.rules)},this.#i);async getGitRepo(t){let n=await this.#e.get(z1).getRepo(ju(t));if(!n||!n?.remote)return;let i=n.remote.getUrlForApi();if(i)return{baseFolder:n.baseFolder,url:i}}#s(t,r,n){jt(this.#e,`${qee}.${t}`,cn.createAndMarkAsIssued(r,n))}};function Nbe(e){if(!e.startsWith("/")&&!e.endsWith("/"))return new RegExp(e);let t=e.slice(1,e.lastIndexOf("/")),r=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,r)}o(Nbe,"stringToRegex");function Wee(e,t){return{isBlocked:!0,message:`Your ${e.source.type.toLowerCase()} '${e.source.name}' has disabled Copilot for this file`,reason:t}}o(Wee,"fileBlockedEvaluationResult");var x0t=I.Object({name:I.String(),type:I.String()}),v0t=I.Object({paths:I.Array(I.String()),ifNoneMatch:I.Optional(I.Array(I.String())),ifAnyMatch:I.Optional(I.Array(I.String())),source:x0t}),Gee=I.Array(v0t),b0t=I.Object({rules:Gee,last_updated_at:I.String(),scope:I.String()}),E0t=I.Array(b0t);var Qc=class{constructor(t){this.ctx=t;this.#e=!1;this.#t=new QQ(this.ctx);this.evaluateResultCache=new Map;this.onDidChangeActiveTextEditor=o(async t=>{if(!this.#e)return;if(!t){this.updateStatusIcon(!1);return}let r=await this.ctx.get(Hr).getTextDocumentValidation(t.document),n=r.status==="invalid",i=r.status==="invalid"?r.reason:void 0;this.updateStatusIcon(n,i)},"onDidChangeActiveTextEditor");this.ctx.get(Hr).onDidFocusTextDocument(this.onDidChangeActiveTextEditor),js(this.ctx,r=>{this.#e=r.envelope.copilotignore_enabled??!1,this.evaluateResultCache.clear(),this.#t.refresh()})}static{o(this,"CopilotContentExclusionManager")}#e;#t;get enabled(){return this.#e}async evaluate(t,r,n){let i=Mo(t)!==void 0;if(i||$1.debug(this.ctx,`Unsupported file URI <${t}>`),!this.#e||!i)return{isBlocked:!1};let s=[],a=o(async(u,f)=>{let m=Date.now(),h=await f.evaluate(t,r),p=Date.now();return s.push({key:u,result:h,elapsedMs:p-m}),h},"track"),c=(await Promise.all([a("contentExclusion.evaluate",this.#t)])).find(u=>u?.isBlocked)??{isBlocked:!1};try{for(let u of s)this.#i(u.key,t,u.result,u.elapsedMs)}catch(u){$1.error(this.ctx,"Error tracking telemetry",u)}return n==="UPDATE"&&this.updateStatusIcon(c.isBlocked,c.message),c}updateStatusIcon(t,r){this.#e&&(t?this.ctx.get(Yi).setInactive(r??"Copilot is disabled"):this.ctx.get(Yi).clearInactive())}#i(t,r,n,i){let s=r+t;if(this.evaluateResultCache.get(s)===n.reason)return!1;if(this.evaluateResultCache.set(s,n.reason??"UNKNOWN"),n.reason===_Q.reason)return $1.debug(this.ctx,`[${t}] No matching policy for this repository. uri: ${r}`),!1;let l={isBlocked:n.isBlocked?"true":"false",reason:n.reason??"UNKNOWN"},c={elapsedMs:i};return jt(this.ctx,t,cn.createAndMarkAsIssued(l,c)),jt(this.ctx,t,cn.createAndMarkAsIssued({...l,path:r},c),1),$1.debug(this.ctx,`[${t}] ${r}`,n),!0}setTestingRules(t){this.#t.setTestingRules(t)}set __contentExclusions(t){this.#t=t}get __contentExclusions(){return this.#t}};async function $4(e,t,r){let n=await e.get(Qc).evaluate(t.uri,r);return n.isBlocked?{status:"invalid",reason:n.message??"Document is blocked by repository policy"}:{status:"valid"}}o($4,"isDocumentValid");var Hr=class{constructor(t){this.ctx=t}static{o(this,"TextDocumentManager")}async textDocuments(){let t=this.getTextDocumentsUnsafe(),r=[];for(let n of t)(await $4(this.ctx,n,n.getText())).status==="valid"&&r.push(n);return r}getTextDocumentUnsafe(t){let r=rc(t.uri);return this.getTextDocumentsUnsafe().find(n=>n.uri===r)}async getTextDocument(t){return this.getTextDocumentWithValidation(t).then(r=>{if(r.status==="valid")return r.document})}validateTextDocument(t,r){return $4(this.ctx,t,r)}async getTextDocumentValidation(t){try{let r=this.getTextDocumentUnsafe(t)?.getText()??await this.readTextDocumentFromDisk(t.uri);return r===void 0?this.notFoundResult(t):this.validateTextDocument(t,r)}catch{return this.notFoundResult(t)}}async getTextDocumentWithValidation(t){let r=this.getTextDocumentUnsafe(t);if(!r)return this.notFoundResult(t);let n=await this.validateTextDocument(t,r.getText());return n.status==="valid"?{status:"valid",document:r}:n}notFoundResult({uri:t}){return{status:"notfound",message:`Document for URI could not be found: ${t}`}}async readTextDocumentFromDisk(t){try{if((await this.ctx.get(Io).stat(t)).size>5*1024*1024)return}catch{return}return await this.ctx.get(Io).readFileString(t)}getWorkspaceFolder(t){let r=rc(t.uri);return this.getWorkspaceFolders().find(n=>r.startsWith(rc(n.uri)))}getRelativePath(t){if(t.uri.startsWith("untitled:"))return;let r=rc(t.uri);for(let n of this.getWorkspaceFolders()){let i=rc(n.uri).replace(/[#?].*/,"").replace(/\/?$/,"/");if(r.startsWith(i))return r.slice(i.length)}return Di(r)}};function gs(e){switch(e.status){case"valid":return e.document.getText().trim().length===0?"empty":"included";case"invalid":return"blocked";case"notfound":return"notfound"}}o(gs,"statusFromTextDocumentResult");var Dn=class{constructor(t){this.ctx=t}static{o(this,"FileReader")}getRelativePath(t){return this.ctx.get(Hr).getRelativePath(t)??Di(t.uri)}getOrReadTextDocument(t){return this.readFile(t.uri)}getOrReadTextDocumentWithFakeClientProperties(t){return this.readFile(t.uri)}async readFile(t){let n=await this.ctx.get(Hr).getTextDocumentWithValidation({uri:t});if(n.status!=="notfound")return n;try{if(await this.getFileSizeMB(t)>1)return{status:"notfound",message:"File too large"};let s=await this.doReadFile(t),a=await $4(this.ctx,{uri:t},s);return a.status==="valid"?{status:"valid",document:V1.create(t,"UNKNOWN",-1,s)}:a}catch{return{status:"notfound",message:"File not found"}}}async doReadFile(t){return await this.ctx.get(Io).readFileString(t)}async getFileSizeMB(t){return(await this.ctx.get(Io).stat(t)).size/1024/1024}};d();d();var VI=class{constructor(){this.resolve=o(()=>{},"resolve");this.reject=o(()=>{},"reject");this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}static{o(this,"Deferred")}};function z4(e,t=void 0){return new Promise(r=>setTimeout(()=>r(t),e))}o(z4,"delay");d();var Hee=class{constructor(){this.observers=new Set}static{o(this,"Subject")}subscribe(t){return this.observers.add(t),()=>this.observers.delete(t)}next(t){for(let r of this.observers)r.next(t)}error(t){for(let r of this.observers)r.error?.(t)}complete(){for(let t of this.observers)t.complete?.()}},MQ=class extends Hee{static{o(this,"ReplaySubject")}subscribe(t){let r=super.subscribe(t);return this._value!==void 0&&t.next(this._value),r}next(t){this._value=t,super.next(t)}};var th=class{constructor(t){this.ctx=t;this.#e=!1;this.#t=new Vt("AsyncCompletionManager");this.requests=new In(100);this.mostRecentRequestId="";js(t,r=>{this.#e=r.hasKnownOrg})}static{o(this,"AsyncCompletionManager")}#e;#t;clear(){this.requests.clear()}isEnabled(t){let r=qn(this.ctx,St.UseAsyncCompletions);return this.#e&&typeof r=="boolean"?r:this.ctx.get(Cr).enableAsyncCompletions(t)}shouldWaitForAsyncCompletions(t,r){for(let[n,i]of this.requests)if(jee(t,r,i))return!0;return!1}updateCompletion(t,r){let n=this.requests.get(t);n!==void 0&&(n.partialCompletionText=r,n.subject.next(n))}queueCompletionRequest(t,r,n,i,s){this.#t.debug(this.ctx,`[${t}] Queueing async completion request:`,r.substring(r.lastIndexOf(`
`)+1));let a=new MQ;return this.requests.set(t,{state:2,cancellationTokenSource:i,headerRequestId:t,prefix:r,prompt:n,subject:a}),s.then(l=>{if(this.requests.delete(t),l.type!=="success"){this.#t.debug(this.ctx,`[${t}] Request failed with`,l.reason),a.error(l.reason);return}let c={cancellationTokenSource:i,headerRequestId:t,prefix:r,prompt:n,subject:a,choice:l.value[0],result:l,state:0,allChoicesPromise:l.value[1]};this.requests.set(t,c),a.next(c),a.complete()}).catch(l=>{this.#t.error(this.ctx,`[${t}] Request errored with`,l),this.requests.delete(t),a.error(l)})}getFirstMatchingRequestWithTimeout(t,r,n,i,s){let a=this.ctx.get(Cr).asyncCompletionsTimeout(s);return a<0?(this.#t.debug(this.ctx,`[${t}] Waiting for completions without timeout`),this.getFirstMatchingRequest(t,r,n,i)):(this.#t.debug(this.ctx,`[${t}] Waiting for completions with timeout of ${a}ms`),Promise.race([this.getFirstMatchingRequest(t,r,n,i),new Promise(l=>setTimeout(()=>l(null),a))]).then(l=>{if(l===null){this.#t.debug(this.ctx,`[${t}] Timed out waiting for completion`);return}return l}))}async getFirstMatchingRequest(t,r,n,i){i||(this.mostRecentRequestId=t);let s=!1,a=new VI,l=new Map,c=o(f=>()=>{let m=l.get(f);m!==void 0&&(m(),l.delete(f),!s&&l.size===0&&(s=!0,this.#t.debug(this.ctx,`[${t}] No matching completions found`),a.resolve(void 0)))},"finishRequest"),u=o(f=>{if(jee(r,n,f)){if(f.state===0){let m=r.substring(f.prefix.length),{completionText:h}=f.choice;if(!h.startsWith(m)||h.length<=m.length){c(f.headerRequestId)();return}h=h.substring(m.length),f.choice.telemetryData.measurements.foundOffset=m.length,this.#t.debug(this.ctx,`[${t}] Found completion at offset ${m.length}: ${JSON.stringify(h)}`),a.resolve([{...f.choice,completionText:h},f.allChoicesPromise]),s=!0}}else this.cancelRequest(t,f),c(f.headerRequestId)()},"next");for(let[f,m]of this.requests)jee(r,n,m)?l.set(f,m.subject.subscribe({next:u,error:c(f),complete:c(f)})):this.cancelRequest(t,m);return a.promise.finally(()=>{for(let f of l.values())f()})}cancelRequest(t,r){t===this.mostRecentRequestId&&r.state!==0&&(this.#t.debug(this.ctx,`[${t}] Cancelling request: ${r.headerRequestId}`),r.cancellationTokenSource.cancel(),this.requests.delete(r.headerRequestId))}};function jee(e,t,r){if(r.prompt.suffix!==t.suffix||!e.startsWith(r.prefix))return!1;let n=e.substring(r.prefix.length);return r.state===0?r.choice.completionText.startsWith(n)&&r.choice.completionText.trimEnd().length>n.length:r.partialCompletionText===void 0?!0:r.partialCompletionText.startsWith(n)}o(jee,"isCandidate");d();d();var c_=class{constructor(t){this.maxSize=t;this.root=new l_;this.leafNodes=new Set}static{o(this,"LRURadixTrie")}set(t,r){let{node:n,remainingKey:i}=this.findClosestNode(t);if(i.length>0){for(let[s,a]of n.children)if(s.startsWith(i)){let l=s.slice(0,i.length),c=new l_;n.removeChild(s),n.addChild(l,c),c.addChild(s.slice(l.length),a),n=c,i=i.slice(l.length);break}if(i.length>0){let s=new l_;n.addChild(i,s),n=s}}n.value=r,this.leafNodes.add(n),this.leafNodes.size>this.maxSize&&this.evictLeastRecentlyUsed()}findAll(t){return this.findClosestNode(t).stack.map(({node:r,remainingKey:n})=>r.value!==void 0?{remainingKey:n,value:r.value}:void 0).filter(r=>r!==void 0)}delete(t){let{node:r,remainingKey:n}=this.findClosestNode(t);n.length>0||this.deleteNode(r)}findClosestNode(t){let r=!0,n=this.root,i=[{node:n,remainingKey:t}];for(;t.length>0&&r;){r=!1;for(let[s,a]of n.children)if(t.startsWith(s)){t=t.slice(s.length),i.unshift({node:a,remainingKey:t}),n=a,r=!0;break}}return{node:n,remainingKey:t,stack:i}}deleteNode(t){if(t.value=void 0,this.leafNodes.delete(t),t.parent===void 0||t.childCount>1)return;let{node:r,edge:n}=t.parent;if(t.childCount===1){let[s,a]=Array.from(t.children)[0];t.removeChild(s),r.removeChild(n),r.addChild(n+s,a);return}if(r.removeChild(n),r.parent===void 0)return;let i=r.parent;if(r.value===void 0&&r.childCount===1){let[s,a]=Array.from(r.children)[0],l=i.edge+s;r.removeChild(s),i.node.removeChild(i.edge),i.node.addChild(l,a)}}evictLeastRecentlyUsed(){let t=this.findLeastRecentlyUsed();t&&this.deleteNode(t)}findLeastRecentlyUsed(){let t;for(let r of this.leafNodes)(t===void 0||r.touched<t.touched)&&(t=r);return t}},l_=class{constructor(){this._children=new Map;this._touched=performance.now()}static{o(this,"LRURadixNode")}get children(){return this._children.entries()}get childCount(){return this._children.size}addChild(t,r){this._children.set(t,r),r.parent={node:this,edge:t}}removeChild(t){let r=this._children.get(t);r&&(r.parent=void 0),this._children.delete(t)}get value(){return this.touch(),this._value}set value(t){this.touch(),this._value=t}get touched(){return this._touched}touch(){this._touched=performance.now()}};var sf=class{static{o(this,"CompletionsCache")}constructor(){this._cache=new In(100)}get(t){return this._cache.get(t)}set(t,r){this._cache.set(t,r)}clear(){this._cache.clear()}},rh=class{constructor(){this.cache=new c_(100)}static{o(this,"PrefixCompletionsCache")}findAll(t){return this.cache.findAll(t).flatMap(({remainingKey:r,value:n})=>n.choices.filter(i=>i.completionText.startsWith(r)&&i.completionText.length>r.length).map(i=>({...i,completionText:i.completionText.slice(r.length),telemetryData:i.telemetryData.extendedBy({},{foundOffset:r.length})})))}append(t,r){let n=this.cache.findAll(t);if(n.length>0&&n[0].remainingKey===""){let i=n[0].value.choices;this.cache.set(t,{choices:[...i,...r]})}else this.cache.set(t,{choices:r})}clear(){this.cache=new c_(100)}};d();d();var Vee={javascript:1,typescript:2,typescriptreact:3,python:4,vue:5,php:6,dart:7,javascriptreact:8,go:9,css:10,cpp:11,html:12,scss:13,markdown:14,csharp:15,java:16,json:17,rust:18,ruby:19,c:20},Z0={" ":1,"!":2,'"':3,"#":4,$:5,"%":6,"&":7,"'":8,"(":9,")":10,"*":11,"+":12,",":13,"-":14,".":15,"/":16,0:17,1:18,2:19,3:20,4:21,5:22,6:23,7:24,8:25,9:26,":":27,";":28,"<":29,"=":30,">":31,"?":32,"@":33,A:34,B:35,C:36,D:37,E:38,F:39,G:40,H:41,I:42,J:43,K:44,L:45,M:46,N:47,O:48,P:49,Q:50,R:51,S:52,T:53,U:54,V:55,W:56,X:57,Y:58,Z:59,"[":60,"\\":61,"]":62,"^":63,_:64,"`":65,a:66,b:67,c:68,d:69,e:70,f:71,g:72,h:73,i:74,j:75,k:76,l:77,m:78,n:79,o:80,p:81,q:82,r:83,s:84,t:85,u:86,v:87,w:88,x:89,y:90,z:91,"{":92,"|":93,"}":94,"~":95};d();function Lbe(e){let t;e[0]>1e-35?e[29]>1e-35?e[138]>1e-35?t=.49496579646815353:t=.47546580490346646:e[30]>1e-35?t=.4456371992737078:e[4]>3.238486181444842?e[135]>1e-35?t=.2645576817782658:e[46]>1e-35?t=.20251922126765812:t=.37359143313367105:e[7]>.9662372103242399?t=.44975631109230374:t=.4067133376207218:e[7]>.960816451500545?e[29]>1e-35?e[4]>1.7005986908310777?t=.4240336839258693:t=.35414085998710754:e[4]>3.238486181444842?t=.353882328354817:e[100]>1e-35?t=.48783079865293355:e[30]>1e-35?t=.419904106522537:t=.38599249795612806:e[4]>3.6242520361853052?e[29]>1e-35?e[7]>.5086748127709895?t=.37522628419389664:t=.3359393805000766:e[30]>1e-35?t=.3685210833144829:e[135]>1e-35?t=.22140958666091123:e[134]>1e-35?t=.38379851487275685:e[46]>1e-35?t=.1926283522107934:t=.3098162447812857:e[46]>1e-35?t=.22698331991181095:e[4]>1.4978661367769956?e[30]>1e-35?e[4]>2.138333059508028?t=.39709448374768985:t=.34711865383837703:e[134]>1e-35?t=.40608455346469957:e[135]>1e-35?t=.3084120164848763:e[48]>1e-35?t=.24193590696691425:e[51]>1e-35?t=.2087938690163009:e[4]>3.1984648276080736?t=.3529508564858481:t=.3698795818909763:t=.30210240039979064;let r;e[0]>1e-35?e[2]>2.4414009612931857?e[2]>3.676220550121792?e[7]>.9246495578512688?r=.0570428673081833:r=.019779482100154476:e[7]>.9705672697050661?r=.1023948532887641:r=.06265430080550045:e[29]>1e-35?e[5]>4.658699722134796?e[2]>1.2424533248940002?r=.12784241430585772:r=.15126156743993927:e[8]>1e-35?e[2]>.8958797346140276?r=.10624230855386699:r=-.1699142543394302:r=.10290106276456985:e[5]>3.5694334999727624?r=.09368877801612557:r=.1552615744687782:e[2]>3.3842466058243152?e[4]>3.5694334999727624?e[29]>1e-35?e[7]>.7022798213723723?r=.02282408308012389:r=-.032610792718175546:r=-.04405498437523181:e[46]>1e-35?r=-.14475563528583885:e[7]>.9159108669154322?r=.02539215399728953:e[134]>1e-35?r=.04720629593220485:e[4]>1.8688348091416842?r=-.00150052748656963:r=-.04528409340753242:e[5]>3.5694334999727624?e[4]>3.6505739029280164?e[29]>1e-35?r=.050909089229765704:e[39]>1e-35?r=-.08747827386821926:e[46]>1e-35?r=-.11300671054986217:r=-.002669293928522137:e[46]>1e-35?r=-.07873653229849684:e[39]>1e-35?r=-.06389470798465265:e[2]>.8958797346140276?e[47]>1e-35?r=-.07102696386827136:e[4]>1.8688348091416842?r=.04567768852273886:r=.016429189359442275:r=.024223384872688037:e[7]>.9569480028661056?r=.12458720561596202:r=-.006224718391409129;let n;e[29]>1e-35?e[2]>2.602003343538398?e[2]>4.166635176627655?e[7]>.8375851232899904?n=.027219239366992384:n=-.023288925509443156:e[7]>.5866799179067689?n=.05780689652787357:n=.019914206435185725:e[2]>1.2424533248940002?e[7]>.9246495578512688?n=.1091540005913688:n=.08430043254349175:e[6]>4.832297822126891?e[125]>1e-35?n=.029350728374412424:n=.1327178977041336:e[8]>1e-35?e[7]>.9793410316570949?n=-.10742256752042179:n=.10128035205992136:n=.08719230025231978:e[5]>3.772694874805912?e[39]>1e-35?n=-.07712063687837625:e[46]>1e-35?n=-.09987046122905541:e[2]>3.6242520361853052?e[134]>1e-35?n=.0549278412468898:e[155]>1e-35?n=.0628934857241284:e[47]>1e-35?n=-.14605662411148382:e[48]>1e-35?n=-.1460221669882455:n=.002073957868392086:e[2]>1e-35?e[47]>1e-35?n=-.0769198367034467:e[155]>1e-35?n=.0769122902449957:e[134]>1e-35?n=.06856131328753592:e[152]>1e-35?n=.07081107422282688:e[51]>1e-35?n=-.11095669360187602:e[91]>1e-35?n=-.08136006552659215:e[48]>1e-35?n=-.07180356044417698:e[18]>1e-35?n=-.029572927306223313:e[50]>1e-35?n=-.11419309779400831:n=.03331652781327257:n=.0015747823792064454:e[7]>.9662372103242399?n=.1203598683210537:n=.011240838199712565;let i;e[0]>1e-35?e[2]>2.4414009612931857?e[1]>1e-35?e[2]>4.03420147928485?i=.03823654007072966:e[7]>.9033253454895247?i=.09329944316059466:i=.06705865009439997:e[134]>1e-35?i=.06865805795066232:e[30]>1e-35?i=.05189058132179502:e[217]>1e-35?i=.044913757044379055:i=-.05078929160105722:e[1]>1e-35?e[6]>5.161920636569023?e[2]>1.4978661367769956?i=.10652732380394028:i=.13307829460294332:e[7]>.985694415330804?i=.06936133858882627:i=.11090193559908544:e[30]>1e-35?i=.10406540623634791:i=.03985408831881549:e[1]>1e-35?e[2]>3.772694874805912?e[29]>1e-35?e[7]>.7316379010844482?i=.012897973304512032:i=-.028068579877067623:i=.024577017676752924:e[5]>3.417592293073651?e[22]>1e-35?i=-.023871063947594612:e[7]>.8255520169851381?i=.0513970804870914:e[153]>1e-35?i=.0032035784177419503:i=.038713568639820416:e[7]>.9527510849235538?i=.10975706910869304:i=-.009433959232316078:e[38]>1e-35?i=.05195298239886214:e[30]>1e-35?i=.02476336300816124:e[2]>2.524928003624769?e[217]>1e-35?i=.0135414448190362:e[135]>1e-35?i=-.14660288310803915:i=-.07298980826531443:e[135]>1e-35?i=-.11136111748165503:e[123]>1e-35?i=-.1489448617480049:e[46]>1e-35?i=-.0922792773195811:i=-.024587716086845016;let s;e[0]>1e-35?e[2]>2.249904835165133?e[1]>1e-35?e[2]>3.540854293052788?e[3]>2.249904835165133?s=.0590142410559562:e[7]>.6376007852429183?s=.043799948513989724:s=-4018626768373957e-20:s=.0790082705503403:e[38]>1e-35?s=.06581244939148062:e[30]>1e-35?s=.04874874335011108:s=-.03908081910821116:e[3]>2.602003343538398?e[1]>1e-35?s=.0902076086329385:e[30]>1e-35?s=.10143876154366023:s=.021304615514737626:e[2]>1.4978661367769956?s=.10248710197602005:e[8]>1e-35?e[125]>1e-35?s=-.1652240484643952:s=.09695355914385996:s=.12574960258243387:e[1]>1e-35?e[2]>3.8815106545092593?e[3]>2.249904835165133?s=.030411053020370282:e[7]>.8375851232899904?s=.01347947217941036:s=-.02329004077119854:e[7]>.9480659774309611?e[22]>1e-35?s=-.021734552060979462:e[100]>1e-35?s=.12154672718218543:e[3]>1e-35?s=.0467045097539336:s=.07133232987671506:e[4]>2.012675845367575?e[4]>3.9219243190762363?s=.018631928508103857:s=.04026129961424531:s=-.0060403819170799225:e[38]>1e-35?s=.04740678443866351:e[30]>1e-35?s=.022411595432555845:e[2]>2.970085626360216?e[121]>1e-35?s=.016385457091892035:s=-.07115043890873148:e[4]>3.417592293073651?s=-.04057726754591634:e[29]>1e-35?s=-.10601923621749415:s=-.013474385705240824;let a;e[3]>1e-35?e[3]>3.481121732133104?e[30]>1e-35?a=.03419190074885174:e[39]>1e-35?a=-.07596248521514803:e[142]>1e-35?a=-.09906305142951233:e[143]>1e-35?a=-.11544208927241095:e[134]>1e-35?a=.03231677158309109:e[217]>1e-35?a=.04584520241402839:a=-.014587374070287719:e[30]>1e-35?e[141]>1e-35?a=-.05022127515891476:e[6]>3.540854293052788?a=.046006786519929344:e[3]>2.3502401828962087?a=.03746852485580482:a=.11887634683908754:e[142]>1e-35?a=-.0715680845257123:e[134]>1e-35?a=.05310603374316432:e[39]>1e-35?a=-.05301061369502469:e[143]>1e-35?a=-.06806923450459589:e[21]>1e-35?a=-.054617004299251364:e[113]>1e-35?e[6]>3.795426061844291?a=.03901365322581413:a=.11833310693969545:e[141]>1e-35?a=-.039041289505442084:e[3]>3.0677824455408698?a=.010823236602311471:e[29]>1e-35?a=-.062100944449970996:e[58]>1e-35?a=-.04585181543113668:e[99]>1e-35?a=.053796582993543764:e[100]>1e-35?e[6]>3.676220550121792?a=.02800134029424525:a=.12622387863644666:e[98]>1e-35?a=.06289940430905602:a=.023655750883710656:e[138]>1e-35?a=.09902929683374195:e[6]>5.161920636569023?a=.07160940969782595:e[141]>1e-35?a=.11975693334861698:a=.03480602671098732;let l;e[0]>1e-35?e[2]>2.4414009612931857?e[1]>1e-35?e[2]>4.600145018061341?l=.02024868069387139:e[2]>3.1984648276080736?l=.048682024362267456:l=.07158946327961134:e[134]>1e-35?l=.05360858064017479:e[30]>1e-35?l=.03969788038954029:e[39]>1e-35?l=-.1339275468398512:l=-.03340699462411555:e[1]>1e-35?e[2]>1.2424533248940002?l=.09338368602561321:e[5]>4.5379471377116305?l=.11818377094705468:l=.02406138301472482:e[30]>1e-35?l=.08786833398626331:l=.031294938606502315:e[1]>1e-35?e[2]>2.970085626360216?e[29]>1e-35?e[2]>4.923617305492666?l=-.0247806554659429:l=.00415615978158072:e[4]>2.138333059508028?e[4]>3.6505739029280164?l=-.0025888569756007704:l=.033556460788819964:l=-.011238496891848667:e[5]>3.5694334999727624?e[4]>2.012675845367575?e[2]>.8958797346140276?l=.03964701920383755:l=.024902380380505313:e[141]>1e-35?l=-.07221122170573789:l=.009221806859728395:e[2]>.8958797346140276?l=.09633850035166669:l=.007323280248710229:e[134]>1e-35?l=.038330704525669945:e[30]>1e-35?l=.01660549386778516:e[2]>2.524928003624769?e[217]>1e-35?l=.008967266036665084:e[29]>1e-35?l=-.12693911437262784:l=-.05779560753585583:e[29]>1e-35?l=-.0908743155940788:e[4]>3.314020688089767?l=-.030882471980034343:l=-.010429019903489632;let c;e[0]>1e-35?e[2]>2.138333059508028?e[1]>1e-35?e[2]>3.4498615536424366?e[3]>2.249904835165133?c=.04956831432894648:e[2]>5.223051249395764?c=-.010305811579773205:c=.027491320728082233:c=.06656735137915168:e[38]>1e-35?c=.05309749470598965:e[30]>1e-35?c=.03843762763805799:c=-.030980078724697425:e[3]>1e-35?e[1]>1e-35?c=.08089335516186445:c=.04120452858949669:e[6]>4.832297822126891?e[2]>.8958797346140276?c=.10006865536846919:c=.11917243570572485:e[8]>1e-35?e[2]>.8958797346140276?c=.06704577104028654:c=-.1454046740476985:e[219]>1e-35?c=-.13678871665753098:c=.07859247859374968:e[1]>1e-35?e[2]>3.314020688089767?e[3]>2.249904835165133?c=.024623237775190106:e[2]>4.73179313355342?c=-.02080435685185878:c=.0026175118278487855:e[6]>3.417592293073651?e[22]>1e-35?c=-.025465692791530083:e[45]>1e-35?c=-.044807460105408044:e[8]>1e-35?c=.008766235663186964:c=.032712521408248645:e[3]>2.602003343538398?c=-.0056332432294706036:e[6]>2.524928003624769?c=.09592889105245415:c=-.013339150198983546:e[38]>1e-35?c=.03563564253379704:e[30]>1e-35?c=.014870517098142924:e[2]>2.970085626360216?c=-.054537994223319376:e[219]>1e-35?c=-.13242819761683536:e[39]>1e-35?c=-.0910629106840573:c=-.01970485337755703;let u;e[0]>1e-35?e[2]>2.012675845367575?e[1]>1e-35?e[2]>3.4498615536424366?e[7]>.9246495578512688?u=.04812308497880073:e[29]>1e-35?u=.0005380021336956461:u=.03361690381564229:e[5]>3.5694334999727624?u=.05947219194425965:u=.11024468105183681:e[134]>1e-35?u=.04905351957215242:e[138]>1e-35?u=.05554447267811877:u=-.021863233324542066:e[29]>1e-35?e[5]>4.855921334140645?e[2]>.8958797346140276?u=.09590438270550732:u=.11498869480105023:u=.04093609484315685:u=.06588820186431316:e[1]>1e-35?e[2]>2.970085626360216?e[29]>1e-35?e[7]>.41763374498947375?u=.0043146758499583255:u=-.03443798345003191:e[58]>1e-35?u=-.08355523706358281:u=.017928058505534663:e[5]>3.5694334999727624?e[22]>1e-35?u=-.02209335592785362:e[2]>.8958797346140276?u=.03223396066919647:u=.0170789547385017:e[7]>.9546729796082215?e[2]>.8958797346140276?u=.09545837551902411:u=.008923660539643153:u=-.012322532316048181:e[134]>1e-35?u=.03182502017906531:e[138]>1e-35?e[29]>1e-35?u=-.06617589040350445:u=.040440282181288686:e[2]>2.802901033147999?u=-.043412758816960974:e[219]>1e-35?u=-.11700143817568372:e[48]>1e-35?u=-.11379636451926181:e[49]>1e-35?u=-.14202838670262277:e[39]>1e-35?u=-.08160450909782378:u=-.013448620144296253;let f;e[1]>1e-35?e[2]>2.602003343538398?e[3]>2.249904835165133?e[4]>3.6505739029280164?f=.004170792297448336:f=.0368033867902024:e[7]>.8333442551332461?e[2]>4.677480030793064?f=.009136341105716223:f=.03568813371096505:e[7]>.22301866079069904?e[2]>5.1209788959100075?f=-.02365589472388456:f=.00919157417627931:f=-.0379399276194825:e[3]>1e-35?e[5]>3.5694334999727624?e[2]>.8958797346140276?e[22]>1e-35?f=-.019258819649469603:f=.03709105125649261:f=.016860660630369267:e[3]>2.602003343538398?f=-.00991261350028801:e[7]>.9626084674797213?f=.11517814309711256:f=-.009719045525281071:e[2]>1.2424533248940002?e[7]>.7316379010844482?f=.07097600019370685:f=.04586465946843457:e[6]>4.783307617946789?f=.09722756919612678:e[8]>1e-35?e[7]>.9793410316570949?f=-.11805054859481241:f=.07110946491407406:f=.05402719662002902:e[134]>1e-35?f=.03393227005537922:e[30]>1e-35?f=.023661319650909306:e[2]>2.970085626360216?e[121]>1e-35?f=.031049210793405797:e[135]>1e-35?f=-.10837216222444626:e[219]>1e-35?f=-.14640457784236915:f=-.03965818070110935:e[121]>1e-35?f=.039992710146502054:e[143]>1e-35?f=-.09311937611688731:e[46]>1e-35?f=-.07559392834101462:e[219]>1e-35?f=-.09895720087616466:e[135]>1e-35?f=-.07586062007425573:f=-.011775153504486295;let m;e[1]>1e-35?e[3]>1e-35?e[141]>1e-35?m=-.03681630636575175:e[22]>1e-35?m=-.024594313135047084:e[7]>.9626084674797213?e[6]>3.676220550121792?m=.03355559026428929:e[3]>2.602003343538398?m=.012516956280523336:m=.1113827943542528:e[3]>2.3502401828962087?e[39]>1e-35?m=-.03483153469277968:e[29]>1e-35?m=-.06012725416594425:m=.03180949281577552:e[3]>1.2424533248940002?m=.007572391854701212:m=-.04833059473573461:e[7]>.5866799179067689?e[138]>1e-35?m=.084956566507563:e[7]>.9407436463973539?e[6]>5.161920636569023?m=.07174368742657447:e[7]>.9793410316570949?m=.024186357466630726:m=.07739671408330714:m=.048429456456843774:e[6]>5.078289090109146?e[138]>1e-35?m=.07555203090037793:m=.033181836695182196:m=-.02197298038836975:e[38]>1e-35?m=.031334580210504996:e[30]>1e-35?m=.021270582199851534:e[121]>1e-35?m=.0329970846397004:e[42]>1e-35?m=.04064092183581017:e[135]>1e-35?m=-.08440485061890712:e[219]>1e-35?m=-.10638369254266776:e[143]>1e-35?m=-.09755269717731242:e[144]>1e-35?m=-.1173397395002877:e[51]>1e-35?m=-.1288517354356988:e[49]>1e-35?m=-.13923283846721088:e[91]>1e-35?m=-.1224188861275682:e[3]>3.156774023138548?m=-.02477169567121223:m=-.006917307470148426;let h;e[2]>2.802901033147999?e[7]>.9159108669154322?e[3]>3.314020688089767?h=-.0010700017432373199:e[2]>4.832297822126891?h=.009582861728698568:h=.029780100164495754:e[30]>1e-35?e[210]>1e-35?h=-.028942339056712313:h=.020599853201598167:e[3]>3.540854293052788?h=-.030156164189210577:e[2]>4.620046665062766?e[3]>1.8688348091416842?h=-.00103151911027294:e[217]>1e-35?h=.005930672148987754:h=-.03586108945255643:h=.004417350848115493:e[3]>1e-35?e[2]>.8958797346140276?e[5]>3.5694334999727624?e[3]>3.6242520361853052?e[30]>1e-35?h=.02388317653477103:h=-.0034021644637823034:e[125]>1e-35?h=-.059034648546006076:e[18]>1e-35?h=-.02514305472376584:e[46]>1e-35?h=-.05290744310611087:e[21]>1e-35?h=-.03750702516022783:e[39]>1e-35?h=-.031092446888446753:h=.028272541588979773:e[7]>.9676186228082213?e[3]>2.602003343538398?h=-.009169247394016047:h=.11347856526033356:h=-.00310251177264949:e[2]>1e-35?h=.00844340216096322:h=-.00894414829369423:e[2]>1.4978661367769956?e[7]>.6223082132708274?e[6]>3.0677824455408698?h=.04885293193722139:h=.10736598620828455:h=.026545392586289893:e[6]>4.938058177869999?e[2]>.8958797346140276?h=.07355143458077283:h=.09420954595651049:e[8]>1e-35?e[2]>.8958797346140276?h=.07966619891180966:h=-.10471235843714122:h=.04867207725748343;let p;e[1]>1e-35?e[3]>1e-35?e[5]>3.5694334999727624?e[3]>2.249904835165133?e[22]>1e-35?p=-.0262424908256809:e[8]>1e-35?p=.001637419319408071:e[155]>1e-35?p=.053444838794586114:e[99]>1e-35?p=.05039717103923269:p=.02448689278350471:e[141]>1e-35?p=-.05723199469388615:p=.005411562031545046:e[7]>.9626084674797213?e[3]>2.602003343538398?p=.00980665121101267:p=.10420505846679201:p=-.001639851950872336:e[7]>.26911173821332884?e[138]>1e-35?p=.07591724033622518:e[7]>.9275861021112151?e[5]>5.173316863805991?p=.06276466446882598:e[194]>1e-35?p=-.1330802382498368:e[5]>3.156774023138548?e[8]>1e-35?p=-.027034262965141144:p=.03949417085855365:p=.08851962788853085:e[9]>1e-35?p=.05379608621573637:p=.032253635727649325:e[138]>1e-35?p=.058048925881989615:p=.005620237500451222:e[134]>1e-35?p=.02734220426041116:e[30]>1e-35?p=.017746745665275825:e[142]>1e-35?p=-.07814745820732061:e[143]>1e-35?p=-.08860968498533135:e[14]>1e-35?p=.01954819512523945:e[42]>1e-35?p=.03333354798081121:e[147]>1e-35?p=-.11642554317575503:e[49]>1e-35?p=-.12425086420883341:e[146]>1e-35?p=-.12996952774815626:e[3]>3.817651943129708?p=-.03275661606585881:p=-.014860694091417102;let g;e[1]>1e-35?e[2]>2.524928003624769?e[3]>2.249904835165133?e[3]>3.725620842493839?g=-.000906155627647317:e[24]>1e-35?g=.0785324151067157:e[154]>1e-35?g=-.058309500036909157:g=.026762512119806844:e[7]>.26911173821332884?e[2]>4.505334588423558?g=-.010584135839537876:g=.013982545022862853:g=-.03208712711019827:e[3]>1e-35?e[2]>.8958797346140276?e[5]>3.5694334999727624?g=.026401003398891884:e[3]>2.602003343538398?g=-.008168418058515686:e[7]>.9662372103242399?g=.10626422692131453:g=-.01031637351522216:g=.010358942714602982:e[2]>1.2424533248940002?e[2]>2.012675845367575?g=.0312811686023135:g=.05423507965224627:e[6]>4.832297822126891?g=.08479742987484738:e[8]>1e-35?e[7]>.9793410316570949?g=-.09338070882722671:g=.058145805002919916:g=.04227449937397909:e[38]>1e-35?g=.025289091019879376:e[2]>3.1132683346437333?e[3]>.8958797346140276?e[46]>1e-35?g=-.09114331684757576:e[135]>1e-35?g=-.07948190608487016:e[48]>1e-35?g=-.12911151777601662:e[143]>1e-35?g=-.09735205976374478:g=-.017192402584465798:g=-.08661537827420282:e[217]>1e-35?g=.033425023239885124:e[14]>1e-35?g=.02729990952110066:e[48]>1e-35?g=-.09098188061865646:e[46]>1e-35?g=-.05848458618550134:e[91]>1e-35?g=-.10969774095556883:g=-.0068971807474334365;let x;e[1]>1e-35?e[3]>1e-35?e[3]>1.2424533248940002?e[125]>1e-35?x=-.06150017523108556:e[39]>1e-35?x=-.03350257370473994:e[22]>1e-35?x=-.02193617429266551:e[8]>1e-35?x=7274245146620154e-20:e[6]>3.676220550121792?e[4]>2.3502401828962087?x=.026702786904914785:x=.00851181280021978:e[4]>2.673553765358735?x=.010358811529123666:e[6]>2.802901033147999?x=.08891517935366504:x=.023114323891227237:x=-.02875694375159779:e[4]>1.7005986908310777?e[138]>1e-35?x=.06720372648635974:e[6]>5.427147823217923?e[9]>1e-35?x=.0544777682515472:x=.037060547607205986:e[6]>1e-35?x=.022016394753027843:x=-.1559604133821172:e[6]>3.540854293052788?x=-.009372509268454739:x=-.24388295956457617:e[38]>1e-35?x=.023012278764368795:e[138]>1e-35?x=.03564423186175008:e[30]>1e-35?x=.008093643695090883:e[217]>1e-35?x=.028810461962454004:e[135]>1e-35?x=-.07120877224354143:e[46]>1e-35?x=-.06546454537408128:e[144]>1e-35?x=-.09534262423492412:e[143]>1e-35?x=-.0770344566882831:e[29]>1e-35?x=-.06285371287531509:e[14]>1e-35?x=.02073120300153793:e[123]>1e-35?x=-.09016320513643451:e[51]>1e-35?x=-.10496442920973255:e[3]>3.1132683346437333?x=-.019949599427836494:x=-.0019060085544902166;let v;e[0]>1e-35?e[2]>1.8688348091416842?e[2]>3.1984648276080736?e[1]>1e-35?e[3]>2.249904835165133?v=.03174009468268253:e[2]>5.363634090365639?v=-.019608371322822362:v=.012560836552403976:v=-.006925466014569184:e[1]>1e-35?v=.047796055675515446:v=.014363935217773802:e[6]>5.391349638084432?e[2]>.8958797346140276?e[3]>1e-35?v=.05193425865217324:v=.07891754708034264:v=.09859506024630252:e[8]>1e-35?e[5]>4.424828703319957?v=.0288226384042998:v=-.09397342098461306:e[4]>.8958797346140276?v=.06181532763949055:e[3]>1e-35?v=.0661728888522049:v=-.18938681666136592:e[2]>3.6242520361853052?e[30]>1e-35?v=.005754128097002715:e[4]>1.7005986908310777?e[1]>1e-35?e[3]>1.8688348091416842?v=.003940381852503271:v=-.01767544594631589:e[134]>1e-35?v=.005683243725945637:v=-.033167818200618454:v=-.049739953036904844:e[1]>1e-35?e[5]>3.417592293073651?e[3]>2.249904835165133?e[3]>4.051747139190486?v=-.013281167238314323:v=.016971087295600894:v=-.0032296953806057044:e[8]>1e-35?e[3]>1e-35?v=-.09772932329003692:v=.10215199291158968:e[3]>1e-35?v=.04042124133857408:e[4]>1.7005986908310777?v=-.03780917296974188:v=-.29617407728303585:e[3]>1.2424533248940002?e[134]>1e-35?v=.019695468056761475:v=-.008073287117671947:v=-.07196945037292647;let E;e[0]>1e-35?e[3]>1e-35?e[30]>1e-35?E=.04565870990720628:e[4]>3.481121732133104?E=-.0010242035152053465:e[46]>1e-35?E=-.06735757101078846:E=.028047085557873476:e[4]>.8958797346140276?E=.061451212522936484:E=-.008994471708946133:e[4]>3.8815106545092593?E=-.015862290359637304:e[4]>1.2424533248940002?e[156]>1e-35?E=-.0353203284829365:e[135]>1e-35?E=-.029955239188290975:e[153]>1e-35?E=-.024262881593313065:e[21]>1e-35?E=-.04039396048201336:e[155]>1e-35?E=.031605649750965394:e[46]>1e-35?E=-.0412690351363074:e[18]>1e-35?E=-.02516534034859168:e[51]>1e-35?E=-.09383050740007202:e[219]>1e-35?e[30]>1e-35?E=.05781620337941066:E=-.031029108058883783:e[54]>1e-35?E=-.1312103962175427:e[14]>1e-35?E=.029309503966067275:e[52]>1e-35?E=-.12376041877584809:e[49]>1e-35?E=-.08405476403385437:e[129]>1e-35?E=-.07017699310303659:e[3]>3.238486181444842?E=.0005864979938663785:e[90]>1e-35?E=-.19027994988708324:e[4]>2.4414009612931857?E=.013036973814688194:e[141]>1e-35?E=-.05866284827055356:e[196]>1e-35?e[3]>1.2424533248940002?e[3]>1.4978661367769956?E=.021738540839636195:E=.10410506831002041:E=-.25590968590756463:E=.0023982515170817725:E=-.04143304307857132;let b;e[0]>1e-35?e[2]>1.8688348091416842?e[2]>3.417592293073651?e[2]>5.335128436483344?b=-.011443269019739626:e[1]>1e-35?b=.015228192424880932:b=-.005492858431736962:e[1]>1e-35?e[5]>3.5694334999727624?b=.03605247912942737:b=.08439131345296227:b=.009650676995478455:e[5]>5.096808314315481?e[2]>.8958797346140276?e[29]>1e-35?b=.07077360688836766:b=.044754385330663386:b=.09313294724999382:e[8]>1e-35?e[2]>.8958797346140276?b=.04214845406094496:b=-.10283747682230321:e[4]>.8958797346140276?b=.05232959789940822:e[2]>.8958797346140276?b=.00730829946441921:b=-.23825070451282065:e[7]>.9358314658959646?e[5]>3.417592293073651?e[8]>1e-35?b=-.013117301012430346:b=.010418379595902224:e[19]>1e-35?b=-.07514668047310291:b=.05032486941219513:e[29]>1e-35?e[1]>1e-35?e[7]>.14547530463198097?e[4]>2.138333059508028?b=-.009576060406554683:b=-.04582944318062007:b=-.04685159067258116:b=-.07022291581850879:e[1]>1e-35?e[4]>2.3502401828962087?e[4]>3.8815106545092593?b=-.008313873320272646:e[140]>1e-35?b=-.029352675967497712:e[37]>1e-35?b=-.09937923794037767:b=.015967772276156707:b=-.009857373135428817:e[38]>1e-35?b=.011345159604794278:e[2]>2.4414009612931857?e[30]>1e-35?b=.001522017389940959:b=-.026992183902105407:b=-.006358778971076675;let _;e[0]>1e-35?e[2]>1.8688348091416842?e[2]>2.970085626360216?e[7]>.8649016459419877?_=.018617011644318126:e[29]>1e-35?e[2]>4.832297822126891?_=-.03407648259949232:_=-.0036502511604675977:e[4]>3.540854293052788?_=-.00934040898683245:_=.010922739771398862:e[7]>.9676186228082213?_=.05137169375874399:_=.02682190004807807:e[29]>1e-35?e[2]>.8958797346140276?_=.065076078729683:e[8]>1e-35?e[7]>.9750059495478345?e[7]>.996914501566243?_=.08915557171019604:_=-.06286636147644172:_=.0902247220475161:e[4]>.8958797346140276?_=.09051085461905525:e[9]>1e-35?_=-.19701197524821418:_=.005536577088671752:e[30]>1e-35?_=.0682573098268795:_=.031380692115494484:e[2]>4.151008904875603?e[155]>1e-35?_=.026867659395235544:e[7]>.5866799179067689?_=-.008345671861059714:_=-.02185200164340811:e[7]>.9626084674797213?e[22]>1e-35?_=-.024341883095402903:e[141]>1e-35?e[29]>1e-35?_=.08888912525147288:_=-.040584195806350004:_=.014817521849450843:e[4]>1.7005986908310777?e[4]>3.9219243190762363?_=-.01259238316205765:e[156]>1e-35?_=-.03305969547622109:e[50]>1e-35?_=-.10133912689920138:e[155]>1e-35?_=.025358210175047153:e[55]>1e-35?_=-.14645261489281414:e[9]>1e-35?_=.012035823488806215:_=.0010743871783232305:_=-.030440082321355873;let R;e[0]>1e-35?e[1]>1e-35?e[7]>.30853255358841714?e[4]>.8958797346140276?e[138]>1e-35?R=.0708169212387357:e[7]>.9974623466432676?R=.06323909894881967:R=.04463133906529934:R=-.006876640569960593:e[4]>2.138333059508028?R=.02983313061920756:R=-.012849740499321841:e[138]>1e-35?R=.05170725384597862:e[134]>1e-35?R=.03407970940934425:e[32]>1e-35?R=.04641257566344885:e[217]>1e-35?R=.04726549849359106:e[152]>1e-35?R=.04284855498215312:R=-.018635981778740818:e[7]>.9358314658959646?e[1]>1e-35?R=.013495195381145214:R=-.0017562536904350947:e[153]>1e-35?R=-.035450683955968364:e[135]>1e-35?R=-.033677490938511655:e[1]>1e-35?e[156]>1e-35?R=-.03492338371344172:e[4]>2.012675845367575?e[8]>1e-35?R=-.012478407554855247:e[58]>1e-35?R=-.06588308463544146:R=.01024668455910621:R=-.017964352445712636:e[138]>1e-35?R=.023509519134334668:e[134]>1e-35?R=.009985116251562821:e[219]>1e-35?R=-.08089904073615993:e[144]>1e-35?R=-.08668450969211726:e[146]>1e-35?R=-.11193950701534479:e[91]>1e-35?R=-.09510832561737878:e[47]>1e-35?R=-.06671901650698997:e[145]>1e-35?R=-.10185972302071798:e[142]>1e-35?R=-.050979038763275586:R=-.008318124414257324;let P;e[2]>2.4414009612931857?e[7]>.5866799179067689?e[1]>1e-35?e[2]>5.059420419187638?P=-.004966114458456121:e[3]>1.4978661367769956?e[6]>3.9219243190762363?P=.016160825033090097:e[4]>2.673553765358735?P=-.008119911797705546:e[7]>.9676186228082213?P=.10191214482603793:P=.010406721157764452:e[4]>2.602003343538398?P=.011963972867583182:e[209]>1e-35?e[24]>1e-35?P=-.4633165603515741:P=-.027241411195905924:P=-.01021341522779383:e[3]>.8958797346140276?e[39]>1e-35?P=-.07106669495723826:P=-.003949154414882924:P=-.06434150131915288:e[3]>1.7005986908310777?e[1]>1e-35?P=.005050893558647285:P=-.01649483548684653:e[217]>1e-35?P=.0027009145619870485:e[7]>.16413460456379095?P=-.021492035902356262:P=-.04956173856083012:e[3]>1e-35?e[2]>.8958797346140276?e[4]>3.314020688089767?P=.004614615289098078:e[125]>1e-35?P=-.053838919278819175:e[141]>1e-35?P=-.031232660335016666:e[7]>.9676186228082213?P=.031522536832188655:P=.016369948821613637:P=-.001970208279177045:e[2]>1.2424533248940002?e[7]>.8045995506441456?e[6]>3.0677824455408698?P=.035653122678366796:P=.09668798382116887:P=.017192957672541906:e[6]>5.427147823217923?e[2]>.8958797346140276?P=.05167603828162103:P=.07201242912898732:e[4]>.8958797346140276?e[6]>4.3882378946731615?P=.04079789432551034:P=-.00477197753110532:P=-.1330224689055222;let F;e[0]>1e-35?e[1]>1e-35?e[6]>5.519456907163478?e[3]>1e-35?F=.025938224253040522:e[7]>.9480659774309611?F=.06369970668749851:F=.04567224211157202:e[8]>1e-35?F=-.03272937728465352:e[7]>.8002228006195066?e[219]>1e-35?F=-.06304921759586735:F=.04293432033794005:F=.0034607309539607385:e[30]>1e-35?F=.03333728636724803:e[134]>1e-35?F=.03171739664928598:e[32]>1e-35?F=.04247521237473512:e[217]>1e-35?F=.04515237436183519:e[138]>1e-35?F=.043674672816657406:F=-.021495642896979555:e[153]>1e-35?e[7]>.7405695827634472?F=-.005353425538700483:F=-.03818743916821677:e[1]>1e-35?e[156]>1e-35?F=-.026937004040991603:e[9]>1e-35?F=.01687211330975012:e[129]>1e-35?F=-.06344334253531962:e[5]>3.276966702012906?e[3]>2.4414009612931857?e[3]>4.3882378946731615?F=-.029787052855333836:e[140]>1e-35?F=-.0315337765152156:F=.01010125865272709:F=-.003643087951301554:e[3]>1.8688348091416842?F=-.009293469974765106:e[7]>.9407436463973539?e[19]>1e-35?F=-.10837629052758145:F=.08012552652666853:F=-.03240188731353479:e[3]>.8958797346140276?e[138]>1e-35?F=.028089541906112948:e[134]>1e-35?F=.011775653029555359:e[54]>1e-35?F=-.1329256322319015:F=-.010520589644656487:F=-.058476715353390545;let G;e[0]>1e-35?e[2]>1.7005986908310777?e[2]>2.970085626360216?e[3]>1.4978661367769956?e[1]>1e-35?G=.015966021866473425:G=-.004942501766182043:e[7]>.7646034107159144?G=.0008922354520049755:G=-.02377096637770522:e[1]>1e-35?G=.03185471115279236:G=.009030463601278762:e[6]>5.033695261903033?e[2]>.8958797346140276?e[3]>1e-35?G=.03583918176912262:G=.05978765203310842:e[3]>1.4978661367769956?G=.04363706154403441:G=.08596238935719265:e[8]>1e-35?e[4]>3.676220550121792?G=-.14139420543234502:e[6]>4.135134555718313?G=.06641653507737781:G=-.08482961471233386:e[219]>1e-35?G=-.08432601495298837:G=.036383288293587494:e[2]>4.212100162283537?e[4]>4.06899022722607?G=-.027653216441781994:e[4]>1.2424533248940002?G=-.0074990353344818825:G=-.047274115298751654:e[3]>4.350257124271638?G=-.021535524001034215:e[7]>.9626084674797213?e[6]>3.314020688089767?G=.008343192891130257:e[3]>2.602003343538398?G=-.029175290449111352:e[19]>1e-35?G=-.0982821612709299:G=.07967468666491928:e[3]>2.012675845367575?e[1]>1e-35?e[141]>1e-35?G=-.050000478457880464:e[99]>1e-35?G=.03066844761711629:G=.00757148708610041:e[14]>1e-35?G=.030325269400598688:e[138]>1e-35?G=.029925649226634522:G=-.005865781126590595:e[7]>.14547530463198097?G=-.006746433384005582:G=-.03419211369300411;let se;e[7]>.8453853180651066?e[9]>1e-35?e[204]>1e-35?e[5]>3.979637980058199?se=.03492440471960614:se=.10640952227810228:se=.024674544399570984:e[21]>1e-35?se=-.03056548710005192:e[24]>1e-35?se=.04417102228084844:e[18]>1e-35?e[5]>3.417592293073651?se=-.01915628728670732:se=.08218968786016527:e[22]>1e-35?se=-.015022557207326592:e[7]>.9941118339384912?se=.024199625103362956:e[135]>1e-35?se=-.01204089678887213:e[5]>3.156774023138548?e[14]>1e-35?se=.03343354440638259:e[144]>1e-35?se=-.06832894943893354:se=.0114980261254499:e[12]>1e-35?e[100]>1e-35?se=.09915326976032354:se=-.011405707270850872:se=.05400113313957842:e[138]>1e-35?se=.029070115198082648:e[7]>.11348809759407426?e[9]>1e-35?se=.0124381999772114:e[14]>1e-35?se=.021548670539672424:e[152]>1e-35?se=.02386756199239544:e[155]>1e-35?se=.024879667358339554:e[217]>1e-35?se=.014495299809094343:e[17]>1e-35?se=.023665548251738264:e[21]>1e-35?se=-.04352613176288253:e[142]>1e-35?se=-.041479100066479035:e[47]>1e-35?se=-.054730987834988636:e[135]>1e-35?se=-.02041552814087628:e[12]>1e-35?se=.00599257601351913:e[19]>1e-35?se=.017289098956116435:se=-.005346146967029123:se=-.015035114021856248;let Ae;e[2]>2.524928003624769?e[39]>1e-35?Ae=-.054727205204329936:e[2]>5.1209788959100075?e[3]>1.7005986908310777?Ae=-.006846267565269392:e[5]>6.826002629905951?Ae=-.031164989612379426:Ae=-.002741497453668024:e[91]>1e-35?Ae=-.09671408062751485:e[4]>1.4978661367769956?e[1]>1e-35?e[3]>2.249904835165133?Ae=.01457038163563883:e[7]>.1998775237752378?Ae=.0022386178156093236:Ae=-.023878153904868322:e[138]>1e-35?Ae=.02577301491883366:e[134]>1e-35?Ae=.012196636151923639:Ae=-.011620066788940737:Ae=-.02547345266933859:e[3]>1e-35?e[2]>1e-35?e[1]>1e-35?e[125]>1e-35?Ae=-.054140900037670386:e[5]>3.5694334999727624?Ae=.011956526123643832:e[3]>2.602003343538398?Ae=-.02114925328017154:e[7]>.9662372103242399?Ae=.08782010508103752:Ae=-.017223208918198857:e[138]>1e-35?Ae=.03552967765214556:e[134]>1e-35?Ae=.02029988465200251:Ae=-.0027071098830831453:Ae=-.010563423003945922:e[2]>1.2424533248940002?e[1]>1e-35?e[5]>3.156774023138548?Ae=.020789754957971127:e[8]>1e-35?Ae=.09676607622337308:Ae=-.13431522143386382:Ae=-.04328684841078818:e[6]>5.427147823217923?e[2]>.8958797346140276?Ae=.04286558286931383:Ae=.0632450248289209:e[4]>.8958797346140276?e[8]>1e-35?e[4]>3.676220550121792?Ae=-.12134536828900527:Ae=-.0021406313647826976:Ae=.02703554321037796:Ae=-.10987991092748431;let re;e[3]>3.238486181444842?e[30]>1e-35?re=.009506310623811853:e[39]>1e-35?re=-.0390989997202559:e[187]>1e-35?re=-.07249802958837052:e[46]>1e-35?re=-.05080833699879983:e[143]>1e-35?re=-.06014247774751084:e[219]>1e-35?re=-.05179602905357869:e[6]>6.1537953943602615?e[15]>1e-35?re=-.025022238573512268:re=.0011147676050071987:re=-.013840284878987585:e[7]>.9626084674797213?e[5]>3.417592293073651?e[3]>1e-35?e[6]>3.9219243190762363?re=.008593726678003006:re=.05272960047875293:e[5]>4.424828703319957?re=.03164186747443643:re=-.019512539098210834:e[3]>2.602003343538398?re=-.0016290671598964486:e[3]>1.2424533248940002?e[8]>1e-35?re=-.1920669264002081:re=.09024848315677546:e[8]>1e-35?re=.06434775905745808:e[44]>1e-35?re=.11389595321585716:re=-.036695137521575945:e[6]>4.987019604243537?e[141]>1e-35?re=-.03813401544172915:e[138]>1e-35?re=.029859363038130183:e[58]>1e-35?re=-.06135288076045784:e[39]>1e-35?re=-.04609789446034826:e[7]>.14547530463198097?e[11]>1e-35?re=.0007666746170242386:e[129]>1e-35?re=-.04984156530077896:e[18]>1e-35?re=-.01554744241744757:e[10]>1e-35?e[219]>1e-35?re=-.043774129950223145:re=.0062051346459236715:re=.014331149613197688:re=-.004868728135790881:re=-.009310258638274059;let W;e[0]>1e-35?e[2]>1.7005986908310777?e[2]>3.817651943129708?e[3]>1.8688348091416842?W=.0015603015891380355:W=-.018128739944024166:e[5]>3.5694334999727624?e[6]>5.427147823217923?W=.017445711714402918:W=-.006013735620008879:e[3]>1.2424533248940002?W=.08568755276415789:e[4]>2.602003343538398?W=.03195371214541369:e[6]>2.970085626360216?W=-.3506562612672139:W=-.038898555979475155:e[6]>5.391349638084432?e[2]>.8958797346140276?W=.04755052122467952:e[3]>1.4978661367769956?W=.03861414711908666:W=.08185303441168128:e[8]>1e-35?e[5]>4.424828703319957?W=.016473058697350277:W=-.08025494910794358:e[219]>1e-35?W=-.06606152909975703:W=.033955083083682974:e[153]>1e-35?W=-.022769519242142378:e[155]>1e-35?W=.021917770434351808:e[3]>4.051747139190486?W=-.016298405734735375:e[4]>1.2424533248940002?e[156]>1e-35?W=-.023334559703496013:e[91]>1e-35?W=-.07354920004445119:e[21]>1e-35?W=-.03472005783841508:e[9]>1e-35?W=.0088614848397155:e[152]>1e-35?W=.01650058356046536:e[50]>1e-35?W=-.08689386936995537:e[219]>1e-35?W=-.025293957964644554:e[22]>1e-35?W=-.02911571993589908:e[52]>1e-35?W=-.10060771324188006:e[151]>1e-35?W=-.11187645020980451:e[49]>1e-35?W=-.07269389735370566:W=.00010096962399904588:W=-.0308050484468705;let q;e[0]>1e-35?e[2]>1.7005986908310777?e[2]>3.1132683346437333?e[2]>5.589117819455554?q=-.01634394676179118:e[135]>1e-35?q=-.025978770194490092:q=.003478202132522329:e[5]>3.772694874805912?e[6]>5.55101783490842?q=.0201238113260563:q=-.003889163967162744:q=.0619995705843029:e[6]>5.391349638084432?e[2]>.8958797346140276?q=.04441301244720888:q=.07580163057048642:e[5]>4.424828703319957?q=.030400021609279876:e[135]>1e-35?e[6]>4.03420147928485?q=-.1614949959350695:q=.011868201115510678:e[144]>1e-35?q=-.24480189212017833:q=.00743113235503554:e[135]>1e-35?q=-.02500550080046047:e[155]>1e-35?q=.019914668189284807:e[14]>1e-35?q=.016272311078771865:e[2]>4.436734027666816?q=-.010942143677155697:e[152]>1e-35?q=.01655515192923104:e[5]>3.276966702012906?e[208]>1e-35?q=.01544696196221499:e[209]>1e-35?q=.011686634595667988:e[204]>1e-35?q=.012948259428096241:e[54]>1e-35?q=-.0987840586310838:e[17]>1e-35?q=.019642065140602974:e[9]>1e-35?q=.002408217148588979:e[129]>1e-35?q=-.051760999013377655:e[53]>1e-35?q=-.12326801905337725:e[156]>1e-35?q=-.027148214121600067:q=-.00591946140033722:e[141]>1e-35?q=.08076229481403298:e[100]>1e-35?q=.09029873540689846:q=.004633440115146894;let oe;e[1]>1e-35?e[4]>2.138333059508028?e[9]>1e-35?e[7]>.9738681190948303?e[4]>2.249904835165133?oe=.0335386338744903:oe=.08871810783567416:oe=.019225035967642936:e[7]>.5866799179067689?e[44]>1e-35?oe=-.028577747938027556:e[22]>1e-35?oe=-.017080349342057245:e[123]>1e-35?oe=-.06459630434555787:oe=.01496396100048332:e[7]>.04507521918085865?oe=.0037545927605624665:oe=-.024364818555823085:e[7]>.3301972011875425?e[4]>.8958797346140276?oe=.003955118988355861:oe=-.024852972286710795:e[210]>1e-35?oe=-.06918033561606161:oe=-.016436360434421187:e[219]>1e-35?oe=-.07074619361594191:e[14]>1e-35?oe=.02288621182895308:e[30]>1e-35?oe=.009951065285890723:e[4]>3.0677824455408698?e[48]>1e-35?oe=-.08645289278185848:e[18]>1e-35?oe=-.07128859518483391:e[46]>1e-35?oe=-.059012415377229614:e[51]>1e-35?oe=-.09897820075751956:e[143]>1e-35?oe=-.0658809793369211:e[39]>1e-35?oe=-.05072244120975425:e[145]>1e-35?oe=-.1041573357946847:e[21]>1e-35?oe=-.07265724033978356:e[121]>1e-35?oe=.032340406020414894:e[150]>1e-35?oe=-.12780465144045577:e[50]>1e-35?oe=-.10084067045905792:oe=-.008282579596590931:e[31]>1e-35?oe=.09475423612489574:e[134]>1e-35?oe=.016436600209473996:oe=-.0032052350949025154;let X;e[0]>1e-35?e[1]>1e-35?e[6]>5.980149988077803?e[3]>1e-35?X=.016868562767356994:e[7]>.9480659774309611?X=.0490126593301439:X=.03183712887814021:e[4]>.8958797346140276?e[8]>1e-35?X=-.018344689935240077:e[7]>.5762123732244849?X=.027823839417468396:X=.0022237549483396734:X=-.049221463486990365:e[30]>1e-35?X=.024881540664409785:e[4]>3.0677824455408698?X=-.012956173562801246:X=.010844244442972509:e[153]>1e-35?X=-.021011529883710918:e[135]>1e-35?X=-.022862755771243214:e[91]>1e-35?X=-.06523564179230792:e[3]>4.3372693810700085?X=-.01836396186345982:e[4]>1.2424533248940002?e[14]>1e-35?X=.018063557788938384:e[1]>1e-35?e[58]>1e-35?X=-.05666864992513037:e[37]>1e-35?X=-.09859173931566362:e[140]>1e-35?X=-.026368697925604742:e[139]>1e-35?X=-.06458698835998881:e[3]>2.4414009612931857?e[8]>1e-35?X=-.012750470980894203:e[128]>1e-35?X=-.06062526587440112:X=.011637315217958607:e[7]>.9569480028661056?e[6]>3.314020688089767?e[6]>8.256477558772088?X=-.01867324944649552:X=.013333709765106694:e[19]>1e-35?X=-.0862336521704207:X=.06263843669460754:X=-.005209374987876728:e[29]>1e-35?X=-.05314556259108334:e[144]>1e-35?X=-.06747511467043471:X=-.0032459743896180644:X=-.025647852465095045;let H;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>2.802901033147999?e[153]>1e-35?H=-.028446025186518367:e[135]>1e-35?H=-.030498458478750823:e[4]>1.4978661367769956?H=.0028332406263713176:H=-.029966327008991617:H=.018714561890725637:e[6]>5.033695261903033?e[2]>.8958797346140276?H=.041738631496127304:H=.0701395739744944:e[7]>.9811887196001154?e[28]>1e-35?e[194]>1e-35?H=-.6270617037879163:H=-.14198370205598315:H=-.008029082191082339:H=.03966126215239892:e[153]>1e-35?H=-.018792731305353614:e[135]>1e-35?H=-.020500053366640306:e[156]>1e-35?e[11]>1e-35?H=-.05063175110475535:H=-.0120172710473678:e[147]>1e-35?H=-.06181360325166399:e[7]>.06275229375044648?e[52]>1e-35?H=-.09381845963236321:e[4]>4.424828703319957?H=-.015836182358134197:e[4]>1.2424533248940002?e[48]>1e-35?H=-.047387335727107405:e[50]>1e-35?H=-.07061356901704502:e[151]>1e-35?H=-.09680213548388712:e[46]>1e-35?H=-.028970851669790916:e[123]>1e-35?H=-.035197840867969954:e[49]>1e-35?H=-.06299268464836878:e[149]>1e-35?H=-.10197175263174806:e[58]>1e-35?H=-.03908263666673043:e[22]>1e-35?H=-.021903737116021876:e[2]>.8958797346140276?H=.005307704388235018:H=-.0020984759645931708:H=-.021935509998616008:H=-.01887705116018838;let O;e[2]>2.4414009612931857?e[2]>4.749261159734808?e[219]>1e-35?O=-.0427111578574511:e[153]>1e-35?O=-.030189831687705213:e[135]>1e-35?O=-.03512251542671204:O=-.005813108237155817:e[39]>1e-35?O=-.03612853474204475:e[91]>1e-35?O=-.07347487395456895:e[142]>1e-35?O=-.04314124434818331:e[21]>1e-35?O=-.03933135423264962:e[29]>1e-35?e[6]>4.3882378946731615?e[1]>1e-35?O=-.0015250307417007892:O=-.0490054084929899:e[209]>1e-35?O=-.19107169934362123:O=-.032434842765588306:e[18]>1e-35?O=-.04413318629193353:e[5]>3.772694874805912?O=.004026864766696988:e[7]>.9705672697050661?e[4]>2.602003343538398?O=-.0184663870129198:O=.08888448773905216:O=-.0040785146358560806:e[29]>1e-35?e[2]>1.2424533248940002?e[1]>1e-35?e[5]>3.156774023138548?O=.012676257607559291:e[4]>2.012675845367575?O=.07794141958502514:O=-.23905004122480836:O=-.03904279404529968:e[6]>5.818597045157784?e[1]>1e-35?O=.04439337662833094:O=-.009601154125838422:e[28]>1e-35?e[7]>.9926276364955392?e[156]>1e-35?O=.08495906118788314:e[153]>1e-35?O=.09808912606252018:O=-.41470362752984724:O=.024659633328041372:e[6]>4.3882378946731615?O=.02348696158531392:O=-.011219631635525798:e[2]>.8958797346140276?O=.00764827947682953:O=-.002636723662133651;let V;e[0]>1e-35?e[138]>1e-35?V=.04040206743401164:e[7]>.47159631571429605?e[39]>1e-35?V=-.04204265697956852:e[18]>1e-35?V=-.02345608311313191:e[46]>1e-35?V=-.07250113205332377:e[47]>1e-35?V=-.06901706560471924:e[123]>1e-35?V=-.02471508138476658:e[91]>1e-35?V=-.08527667683257537:e[6]>5.519456907163478?e[7]>.9811887196001154?V=.033642311398086024:V=.019968221974742344:e[6]>3.540854293052788?e[28]>1e-35?e[7]>.9914949911911836?V=-.17171139407761582:V=.033182911468765224:V=.0060896749985828915:e[7]>.9626084674797213?V=.050178751374534494:V=-.008697473314227091:e[6]>5.957131031247307?V=.008840008772752947:V=-.00839587224544437:e[57]>1e-35?V=-.11000065936717814:e[187]>1e-35?V=-.039919217528968265:e[135]>1e-35?V=-.01777859479698383:e[7]>.841541958453746?e[6]>8.681774988134558?V=-.006645633391127337:V=.005363553180866138:e[7]>.06275229375044648?e[141]>1e-35?V=-.028575934798358252:e[147]>1e-35?V=-.06523418671938815:e[53]>1e-35?V=-.12439699935111644:e[47]>1e-35?V=-.04201034294282216:e[21]>1e-35?V=-.029998534764449716:e[11]>1e-35?V=-.008349262144218515:e[10]>1e-35?e[152]>1e-35?V=.03211843381827455:V=-.009616753935387912:V=.001507728277179471:V=-.018453367252451447;let J;e[2]>2.4414009612931857?e[155]>1e-35?J=.02097415247337288:e[2]>5.1209788959100075?e[219]>1e-35?J=-.04107586321461544:e[153]>1e-35?J=-.030708779452328257:J=-.008547089256234949:e[24]>1e-35?e[113]>1e-35?J=.10372474211849725:J=.010871474495452506:e[46]>1e-35?J=-.048875079231930615:e[152]>1e-35?J=.0169028183837229:e[91]>1e-35?J=-.06545106192484919:e[7]>.5395500104437768?e[21]>1e-35?J=-.03634133884877529:e[123]>1e-35?J=-.04524486315275367:J=.0007726000210664368:e[153]>1e-35?J=-.026631444280113794:J=-.005897540198114922:e[29]>1e-35?e[2]>1.2424533248940002?e[141]>1e-35?J=.06938494238244022:e[1]>1e-35?e[4]>2.602003343538398?e[7]>.21160651352969054?J=.016731168841731828:J=-.009280453313693341:J=-.006549806005743951:J=-.035447929694275064:e[8]>1e-35?J=-.0032912467465369953:e[4]>1.2424533248940002?e[1]>1e-35?e[2]>.8958797346140276?J=.024369266212637037:e[138]>1e-35?J=.06205121318768558:J=.03811769435016647:J=-.009452348851889555:J=-.025248141993897872:e[2]>1e-35?e[57]>1e-35?J=-.12191990737301042:e[4]>3.3842466058243152?J=.00020591213976092076:e[141]>1e-35?J=-.03252260939244301:e[186]>1e-35?J=-.13818838492678748:J=.009368844137034227:J=-.007973426105216213;let ae;e[2]>2.3502401828962087?e[14]>1e-35?ae=.015015656987761437:e[30]>1e-35?e[210]>1e-35?e[7]>.6876768869498817?ae=.00543900892248828:ae=-.04253496769494065:e[141]>1e-35?ae=-.052958350924390156:e[140]>1e-35?ae=-.10364099832282586:ae=.010452960405207413:e[24]>1e-35?e[113]>1e-35?ae=.09898709072741292:e[209]>1e-35?e[7]>.9821472231924556?ae=-.26615665549082984:ae=.09636256138859388:ae=.01708542025496261:e[217]>1e-35?ae=.008049408683788317:e[21]>1e-35?ae=-.04590265539954756:e[90]>1e-35?ae=-.13784770816769107:e[142]>1e-35?ae=-.04628126597884301:e[47]>1e-35?ae=-.05827975565933709:e[135]>1e-35?ae=-.0223224900840969:e[18]>1e-35?ae=-.03220713396184497:e[91]>1e-35?ae=-.06447405488640102:e[58]>1e-35?ae=-.05284544446869763:e[48]>1e-35?ae=-.06649148594881385:e[123]>1e-35?ae=-.04383701454842744:e[7]>.07815070294696584?e[52]>1e-35?ae=-.11846610284210293:e[50]>1e-35?ae=-.08907531725085399:e[156]>1e-35?ae=-.018270336483319834:e[150]>1e-35?ae=-.1090721461891663:e[151]>1e-35?ae=-.12157322199183473:ae=-.001565820654257863:ae=-.02380240397829804:e[7]>.7957410883753849?ae=.01267070049428537:e[9]>1e-35?ae=.012970301396505988:ae=.0031136826722851885;let te;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>3.817651943129708?e[29]>1e-35?te=-.01811927921170173:te=-.0007182192063435364:e[30]>1e-35?te=.024303187146750442:e[1]>1e-35?te=.011106265465270054:e[134]>1e-35?te=.029835980521591587:te=-.011058553872914158:e[29]>1e-35?e[4]>.8958797346140276?e[2]>.8958797346140276?te=.038081831260496:e[7]>.9761943980359399?e[7]>.9974623466432676?te=.0678338591810893:te=.02371719224774027:te=.0682898584583309:te=-.023148464063014726:e[30]>1e-35?te=.04610988679672867:te=.003060113702583105:e[29]>1e-35?e[2]>.8958797346140276?e[4]>2.4414009612931857?e[7]>.9587163092581167?te=.01081564552001606:te=-.006807357600587744:te=-.02409609521595022:te=-.033329165496176885:e[4]>4.051747139190486?te=-.01130115168237245:e[129]>1e-35?te=-.04589370141507604:e[21]>1e-35?te=-.029442074982620643:e[14]>1e-35?te=.016895124578179443:e[186]>1e-35?te=-.11907557430036886:e[1]>1e-35?e[139]>1e-35?te=-.06194447560538838:e[133]>1e-35?te=-.0758465323292204:e[58]>1e-35?te=-.04330766372695393:e[138]>1e-35?te=-.04155491116231014:e[156]>1e-35?te=-.04841608169206507:e[44]>1e-35?te=-.01948221703985556:te=.006580878599054945:e[217]>1e-35?te=.022433802380447482:te=-.00412091757515532;let le;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>2.970085626360216?e[153]>1e-35?le=-.024502725801264887:e[2]>5.589117819455554?le=-.01230190569981064:le=.0013078979950003464:e[1]>1e-35?le=.016172143068823742:le=.0006345060509537773:e[2]>.8958797346140276?le=.030005982109869073:e[7]>.9811887196001154?e[7]>.9983480540068196?le=.0671951915420627:e[4]>.8958797346140276?e[204]>1e-35?e[4]>2.4414009612931857?le=.044068636573383585:le=-.6634026033584294:e[28]>1e-35?e[194]>1e-35?le=-.3139210817530322:le=-.030502668897116853:le=.02841326513237545:le=-.12080826254458728:le=.05983169094937563:e[25]>1e-35?le=-.03468266531519899:e[17]>1e-35?le=.018557285805987474:e[91]>1e-35?le=-.051420462987159146:e[153]>1e-35?e[24]>1e-35?le=.04301006671297924:e[57]>1e-35?le=-.09748386515224282:e[7]>.43956365248689394?le=-.00756781004151352:le=-.03008603678955382:e[40]>1e-35?le=-.06712212199178254:e[9]>1e-35?e[99]>1e-35?le=.02709638137622776:le=.00311232737924217:e[219]>1e-35?le=-.021650545703290135:e[129]>1e-35?le=-.04139534817677377:e[4]>4.482986592105174?le=-.01666373169408667:e[7]>.14547530463198097?e[28]>1e-35?le=.0203181446326991:e[24]>1e-35?le=.019321702534414745:le=-.0013149142637674523:le=-.010572437649803333;let ce;e[1]>1e-35?e[99]>1e-35?ce=.024922390516579074:e[7]>.6223082132708274?e[5]>8.674624195715621?ce=-.0013697481432616754:e[8]>1e-35?e[5]>3.0201273556387074?e[5]>4.855921334140645?ce=-.0034268395365245545:ce=-.034186463672076346:e[29]>1e-35?ce=.07759914281958613:ce=-.07773573805144608:e[22]>1e-35?ce=-.0175879419801366:e[7]>.9626084674797213?ce=.016773359142537643:ce=.008028381804196754:e[133]>1e-35?ce=-.0535216100744091:ce=-.0005000628423357899:e[38]>1e-35?e[14]>1e-35?ce=.05090247458630403:ce=.007750826606170666:e[30]>1e-35?ce=.007698939719746262:e[121]>1e-35?ce=.02303487268261317:e[56]>1e-35?ce=.04301822779572479:e[219]>1e-35?ce=-.061056125991793546:e[49]>1e-35?ce=-.08519783826666813:e[54]>1e-35?ce=-.11098408863832084:e[51]>1e-35?ce=-.07495147940928196:e[52]>1e-35?ce=-.10268521021357209:e[143]>1e-35?ce=-.050337621945760906:e[50]>1e-35?ce=-.08215637358309871:e[135]>1e-35?ce=-.037923453156281546:e[29]>1e-35?ce=-.03275476659364492:e[118]>1e-35?ce=-.05655325181162936:e[46]>1e-35?ce=-.03579874818682071:e[55]>1e-35?ce=-.10858775815345066:e[98]>1e-35?ce=-.02949179817285505:e[91]>1e-35?ce=-.06114394873657414:ce=-.0024381269826722327;let Pe;e[0]>1e-35?e[138]>1e-35?Pe=.03188433658945665:e[6]>5.957131031247307?e[29]>1e-35?Pe=.02161439640262312:e[46]>1e-35?Pe=-.05856082884648366:Pe=.00579188508436574:e[5]>3.417592293073651?Pe=-.0023781291067078423:e[6]>2.524928003624769?e[29]>1e-35?Pe=-.009165058612451055:Pe=.06060298049441096:Pe=-.024654633200924148:e[29]>1e-35?e[141]>1e-35?Pe=.047057536167451744:e[5]>7.751690325550034?Pe=-.014630738159823437:e[6]>1e-35?Pe=-.0022830386545257364:Pe=-.1244934159203967:e[141]>1e-35?Pe=-.03108265181870111:e[151]>1e-35?Pe=-.0899976208431091:e[53]>1e-35?Pe=-.10125439914522794:e[57]>1e-35?Pe=-.08285049636367613:e[48]>1e-35?Pe=-.04071723813859757:e[147]>1e-35?Pe=-.05043191744833317:e[49]>1e-35?Pe=-.05480244282058292:e[52]>1e-35?Pe=-.07341553831872409:e[91]>1e-35?Pe=-.04164336745260387:e[50]>1e-35?Pe=-.05943962674275153:e[40]>1e-35?Pe=-.054773037913883875:e[129]>1e-35?Pe=-.03640370706396673:e[54]>1e-35?Pe=-.07483146938849299:e[22]>1e-35?Pe=-.02027834075472462:e[186]>1e-35?Pe=-.08116240011202293:e[143]>1e-35?Pe=-.028437692949603324:e[21]>1e-35?Pe=-.02421670339700474:e[46]>1e-35?Pe=-.02303808594532841:Pe=.0030552215125396933;let Ie;e[0]>1e-35?e[1]>1e-35?e[4]>2.138333059508028?e[9]>1e-35?Ie=.02933727780739186:e[6]>4.722943345003718?e[7]>.9246495578512688?Ie=.024680404379144982:Ie=.012015730636539185:e[113]>1e-35?Ie=.09112392780348796:e[135]>1e-35?e[7]>.990877425524446?Ie=-.11617284449593282:Ie=-.005246041787488675:Ie=-.011069319481086321:e[90]>1e-35?Ie=-.2763006993902732:e[7]>.9546729796082215?e[6]>3.0677824455408698?Ie=.009233858920042097:Ie=.08920751503262825:Ie=-.008824102277148265:e[138]>1e-35?Ie=.02736126919460762:e[4]>2.917405368531303?e[30]>1e-35?Ie=.013112272135200274:e[217]>1e-35?Ie=.035799930603658235:Ie=-.015618218537266096:Ie=.010656981322113845:e[14]>1e-35?Ie=.01147191978691208:e[17]>1e-35?Ie=.016681596753170068:e[135]>1e-35?Ie=-.017396147137824756:e[4]>1.8688348091416842?e[4]>4.03420147928485?Ie=-.008863534867945834:e[31]>1e-35?Ie=.05416038384474034:e[113]>1e-35?Ie=.012656827040897288:e[204]>1e-35?Ie=.011410879858785482:e[208]>1e-35?e[1]>1e-35?Ie=.02085606775425661:Ie=-.008618410086291444:e[53]>1e-35?Ie=-.09674487817291225:e[155]>1e-35?Ie=.010841012663281826:Ie=-.0027234799964982103:e[100]>1e-35?e[6]>4.226807104886684?Ie=-.02684998739505702:Ie=.09196076999373319:Ie=-.014557367931257406;let Fe;e[1]>1e-35?e[4]>2.4414009612931857?e[140]>1e-35?Fe=-.020508725755139606:e[9]>1e-35?Fe=.014160204295049248:e[37]>1e-35?Fe=-.06190233326923697:e[6]>1e-35?Fe=.005164496028342236:Fe=-.11389189550910446:e[141]>1e-35?Fe=-.04125881484049697:e[186]>1e-35?Fe=-.17160163910476212:e[29]>1e-35?e[6]>3.676220550121792?Fe=-.010283419868136159:e[7]>.9626084674797213?Fe=-.1716178372310524:Fe=-.008856137283327148:e[28]>1e-35?Fe=.05315666786902214:e[129]>1e-35?Fe=-.04136913767615559:e[7]>.9705672697050661?e[6]>3.540854293052788?Fe=.00751812285476753:e[8]>1e-35?Fe=-.11960098941111366:Fe=.06631760098044483:e[210]>1e-35?e[30]>1e-35?Fe=-.05338190010412709:Fe=.017275201286894953:e[30]>1e-35?Fe=.014424216946760394:e[99]>1e-35?Fe=.027062693955934525:Fe=-.006762492910108134:e[219]>1e-35?Fe=-.0534489198792768:e[138]>1e-35?Fe=.017328465617667224:e[4]>2.970085626360216?e[144]>1e-35?Fe=-.0662951231725991:e[143]>1e-35?Fe=-.04739088646917139:e[145]>1e-35?Fe=-.07635546796992515:e[14]>1e-35?Fe=.012433708195861912:e[217]>1e-35?Fe=.021046036228368578:e[51]>1e-35?Fe=-.07024391932712475:Fe=-.007585229386863768:e[127]>1e-35?Fe=.0788172427657374:Fe=.0036475442240054556;let Re;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>2.802901033147999?e[153]>1e-35?Re=-.02488671343402725:e[135]>1e-35?Re=-.026342401137212534:e[4]>1.4978661367769956?Re=-.0002120610158998857:Re=-.02619014803287452:e[5]>3.772694874805912?Re=.00791871819482647:Re=.05245006986819034:e[5]>5.431533816254341?e[2]>.8958797346140276?Re=.026755493155023333:Re=.05657996196424821:e[5]>4.424828703319957?e[28]>1e-35?Re=-.12833948112036647:Re=.02009706276124955:e[135]>1e-35?Re=-.1062651205805238:Re=-.014392542658357654:e[156]>1e-35?e[11]>1e-35?Re=-.0426876288098691:Re=-.009210886749467585:e[25]>1e-35?Re=-.029685120249418873:e[153]>1e-35?e[24]>1e-35?Re=.039675921298659045:Re=-.01470247025894634:e[135]>1e-35?Re=-.013162475027411236:e[2]>1e-35?e[22]>1e-35?Re=-.01924589513592333:e[21]>1e-35?Re=-.02301719200164619:e[5]>8.75754777636908?e[4]>2.602003343538398?Re=-.0007468484638490539:Re=-.0158247553028744:e[1]>1e-35?e[99]>1e-35?Re=.024493682002973784:e[42]>1e-35?Re=-.07469088345156226:e[45]>1e-35?Re=-.03838380763638677:e[114]>1e-35?Re=.02409327545276692:e[154]>1e-35?Re=-.038977286951036944:e[208]>1e-35?Re=.021915882358345885:Re=.003839964304606302:Re=-.0014382346596150915:Re=-.008713493537728363;let Ge;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>4.119004124609202?e[3]>1.2424533248940002?Ge=-.0017308950709495397:Ge=-.020269742816377157:e[5]>3.5694334999727624?e[6]>6.468474521450064?Ge=.007854184286630537:Ge=-.005163758444496073:e[3]>1.2424533248940002?e[12]>1e-35?Ge=-.009039854020477722:Ge=.08762320620103459:e[194]>1e-35?Ge=-.3433922378591172:e[24]>1e-35?Ge=-.2523113760729937:Ge=-.000461371156912453:e[5]>5.692045796563381?e[3]>1.4978661367769956?Ge=.007177758561499448:e[2]>.8958797346140276?Ge=.03195343200682438:Ge=.059909349900388334:e[5]>4.424828703319957?e[28]>1e-35?Ge=-.10695282804536732:Ge=.019125081292682575:e[135]>1e-35?Ge=-.09257011968677195:Ge=-.012855523323410875:e[14]>1e-35?Ge=.010052176448775013:e[152]>1e-35?Ge=.011482760058014926:e[156]>1e-35?Ge=-.017677609761538152:e[24]>1e-35?Ge=.01670301885059328:e[39]>1e-35?Ge=-.02425844450882272:e[12]>1e-35?e[3]>1.2424533248940002?e[6]>5.980149988077803?Ge=.01117036123239103:e[3]>1.4978661367769956?Ge=-.005154239762347923:Ge=.06349844063391799:Ge=-.011876368966362884:e[4]>3.772694874805912?Ge=-.010120762110714197:e[5]>3.276966702012906?e[4]>2.4414009612931857?e[4]>3.1132683346437333?Ge=-.0035902728428789336:Ge=.003411450739155564:e[5]>8.17933999189099?Ge=-.018866709049095685:Ge=-.0038747233097564068:Ge=.024379138339081993;let lt;e[7]>.5866799179067689?e[11]>1e-35?e[217]>1e-35?lt=.01816196279626246:lt=-.008720340174685528:e[14]>1e-35?lt=.017422275374961747:e[3]>2.802901033147999?e[6]>6.0026509725338455?e[18]>1e-35?lt=-.035421013136394335:e[219]>1e-35?lt=-.03997357699142973:e[3]>4.993822430271426?lt=-.03250278247092862:lt=.004080430247607075:lt=-.010055330454519094:e[5]>9.345963324807864?lt=-.008136951493137817:e[90]>1e-35?lt=-.16414188828180187:e[45]>1e-35?lt=-.0395103723535772:e[17]>1e-35?e[6]>3.314020688089767?lt=.03144428117941763:lt=-.12305809642153893:e[5]>3.417592293073651?lt=.006863569747629234:e[7]>.9626084674797213?e[204]>1e-35?lt=.08986402088848823:e[100]>1e-35?lt=.09658177526577977:e[141]>1e-35?lt=.06795495668113817:e[28]>1e-35?e[3]>1e-35?lt=.10311172778826272:lt=-.12367638872784459:e[209]>1e-35?lt=.06796205879581844:e[6]>3.0677824455408698?e[3]>2.012675845367575?lt=-.1815028770626217:lt=-.027600842388305583:lt=.013979123567456554:lt=-.003475039039176338:e[6]>4.3882378946731615?e[3]>3.6242520361853052?lt=-.008151073332139989:e[3]>2.4414009612931857?e[48]>1e-35?lt=-.05732062477153205:lt=.0038104987226822806:e[7]>.14547530463198097?lt=-.0015360108147469411:lt=-.014797616303672155:e[3]>.8958797346140276?lt=-.010446976011382926:lt=-.039018423658353285;let st;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>4.620046665062766?e[3]>1.8688348091416842?st=-.0031733808376565214:st=-.019463570735432378:st=.0032566959999593536:e[5]>5.692045796563381?e[3]>1.4978661367769956?st=.006472511895453073:e[2]>.8958797346140276?st=.029439910335277677:st=.05703290277034656:e[219]>1e-35?st=-.06489530937321614:e[5]>4.424828703319957?st=.017756995160153607:e[125]>1e-35?st=-.13863131633711023:st=-.011337464460106939:e[29]>1e-35?e[2]>.8958797346140276?e[3]>1e-35?st=-.04822012795561216:e[125]>1e-35?st=.06083023155995546:e[141]>1e-35?st=.04503531231698771:e[5]>7.751690325550034?st=-.008826435995092507:st=.0004769856196102064:e[5]>5.895778350950796?st=-.03439788269853701:st=.0012862199645308793:e[141]>1e-35?e[3]>3.0677824455408698?st=.0046610227653059695:st=-.04504560149384845:e[3]>4.3372693810700085?st=-.011924612526365003:e[151]>1e-35?st=-.07909878419302184:e[40]>1e-35?st=-.04837106565429512:e[52]>1e-35?st=-.06478730352567258:e[18]>1e-35?e[46]>1e-35?st=.060888920864590634:e[5]>3.5694334999727624?st=-.02601024872439008:st=.07960150564774994:e[46]>1e-35?st=-.027213119561154103:e[51]>1e-35?st=-.054081846676903716:e[54]>1e-35?st=-.07375359621246233:e[50]>1e-35?st=-.0570341640965886:st=.0021129818482267812;let ct;e[2]>2.861792550976191?e[11]>1e-35?e[58]>1e-35?ct=-.09222476830824185:e[156]>1e-35?ct=-.044357001480428:ct=-.009033627105152873:e[8]>1e-35?e[5]>7.429817490674132?ct=-.007435399919321396:ct=-.025630334739367253:e[155]>1e-35?ct=.02064199664419035:e[5]>8.75754777636908?e[2]>4.119004124609202?ct=-.012759040985224594:ct=-.0009375109950390992:e[21]>1e-35?ct=-.028664595543047417:e[187]>1e-35?ct=-.03837361994986333:e[22]>1e-35?ct=-.027274995074267547:e[14]>1e-35?ct=.016392245342055616:e[17]>1e-35?ct=.022509678093313362:e[28]>1e-35?ct=.025145343126000193:e[39]>1e-35?ct=-.02939647868188604:ct=.00042395552644239256:e[29]>1e-35?e[2]>2.012675845367575?ct=-.0030925701821976686:e[5]>6.0390628155997765?e[2]>.8958797346140276?ct=.010736817315927911:ct=.02426980448005241:e[28]>1e-35?e[194]>1e-35?ct=-.3070569158934055:e[196]>1e-35?ct=-.5506885961570867:ct=-.033353293982668515:ct=.006553036790621832:e[2]>1.2424533248940002?e[5]>3.5694334999727624?e[155]>1e-35?ct=.02102370525016274:ct=.003409533559556135:e[204]>1e-35?ct=.08873962123163927:e[24]>1e-35?ct=.10555359938821945:e[28]>1e-35?ct=.09719645392539251:e[196]>1e-35?ct=.08224623369607056:ct=-.020134405544960793:ct=-.0015937623030202052;let ne;e[0]>1e-35?e[2]>1.8688348091416842?e[3]>1.4978661367769956?e[3]>3.540854293052788?ne=-.0076758153562413375:e[18]>1e-35?ne=-.04295196457825341:e[51]>1e-35?ne=-.13248011320062422:ne=.008952360414023641:e[7]>.987306237235768?ne=.006439776900137331:ne=-.012660562195035134:e[3]>2.861792550976191?e[30]>1e-35?ne=.026757175255811883:ne=-.01062556784320532:e[2]>.8958797346140276?ne=.02114926571950188:e[8]>1e-35?e[7]>.9738681190948303?e[7]>.996914501566243?ne=.039844832378913425:ne=-.06690456482695102:ne=.05010759067838343:e[7]>.9901971344332651?e[204]>1e-35?e[7]>.9945060383544003?ne=.03772632631184001:ne=-.28522617893050056:e[28]>1e-35?ne=-.060992612788434375:ne=.03341245674945403:ne=.051288950777861456:e[8]>1e-35?ne=-.010769283931178146:e[29]>1e-35?e[2]>.8958797346140276?e[1]>1e-35?e[7]>.98482287934795?ne=.009069204772381522:ne=-.004081394384581673:ne=-.03594060084257492:e[7]>.9216401592048815?ne=-.00442206228805168:ne=-.03576891499137606:e[55]>1e-35?ne=-.08223884312902127:e[57]>1e-35?ne=-.0742535346669798:e[149]>1e-35?ne=-.07940704728071792:e[39]>1e-35?ne=-.017161105634171125:e[49]>1e-35?ne=-.04763279499691125:e[139]>1e-35?ne=-.027192821855546695:e[10]>1e-35?ne=-.0036316338579956914:ne=.0026484338648234077;let Ne;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>5.527441013321604?Ne=-.012306712525171806:e[7]>.26911173821332884?e[18]>1e-35?Ne=-.027850707388722303:e[91]>1e-35?Ne=-.07216882827488169:e[2]>2.740319461670996?e[3]>1.4978661367769956?Ne=.005596837686865309:Ne=-.0059429747278747225:Ne=.009524033665726878:Ne=-.0077898166249992535:e[6]>5.912149824839399?e[3]>1.4978661367769956?e[30]>1e-35?Ne=.032201880996274065:Ne=-.009587971174292791:e[2]>.8958797346140276?Ne=.02761965407835318:Ne=.05238312639482409:e[7]>.990877425524446?e[28]>1e-35?e[156]>1e-35?Ne=.08220352701195494:Ne=-.16200772313735304:e[135]>1e-35?e[6]>4.310776603370241?Ne=-.03126230621131264:Ne=-.15437767199900418:e[219]>1e-35?e[2]>.8958797346140276?Ne=.018944713961164792:e[3]>1e-35?Ne=.06629929139668997:Ne=-.16790799717043633:e[192]>1e-35?Ne=-.3320398525405097:Ne=.009790162291004705:e[125]>1e-35?Ne=-.0996239956884951:Ne=.017982806591038288:e[25]>1e-35?Ne=-.02642518530716432:e[6]>9.286096980078398?e[3]>2.740319461670996?Ne=-.0027582177390145703:Ne=-.02047492290459601:e[17]>1e-35?Ne=.01622159988588393:e[7]>.5866799179067689?Ne=.0012556670436606133:e[3]>2.3502401828962087?e[3]>3.314020688089767?Ne=-.00567335909535631:Ne=.0036605424249172938:e[7]>.085616240166877?Ne=-.00662352094724046:Ne=-.024196995936398374;let ge;e[0]>1e-35?e[2]>1.2424533248940002?e[2]>2.802901033147999?e[3]>1.8688348091416842?e[4]>3.6242520361853052?ge=-.008283589876968955:ge=.005263882290960596:e[7]>.9662372103242399?ge=.0028703212438091555:ge=-.014488335095453487:e[5]>3.5694334999727624?ge=.006182444666070272:ge=.04834325475124454:e[5]>5.821564412917691?e[3]>1.4978661367769956?ge=.006862035478899274:e[2]>1e-35?ge=.03694434517261685:ge=.06818308291563471:e[8]>1e-35?e[4]>3.979637980058199?ge=-.14792403668068005:e[5]>4.297262267176281?ge=.04085199387960594:ge=-.08112459203056922:e[7]>.990877425524446?e[204]>1e-35?e[4]>2.4414009612931857?ge=.040094872099644886:ge=-.37432021591644105:e[128]>1e-35?e[17]>1e-35?ge=.11216772098992614:ge=-.39517539261887863:ge=-.006202508512715542:ge=.031730389306944315:e[8]>1e-35?e[5]>3.156774023138548?ge=-.011787620507206525:e[3]>1.2424533248940002?ge=-.0681989521208321:ge=.06597717957453096:e[2]>1e-35?e[25]>1e-35?ge=-.024543929344106336:e[5]>8.193814844759492?e[4]>2.602003343538398?e[2]>5.167634984480833?ge=-.00996811570890536:ge=.001134417943860963:ge=-.013004815776467261:e[1]>1e-35?e[22]>1e-35?ge=-.019057324908699217:e[141]>1e-35?ge=-.026707851278989517:ge=.005608056403567553:ge=-.0017699070677530831:e[3]>1.4978661367769956?ge=-.005457163739006659:ge=-.02994467745413277;let He;e[11]>1e-35?e[154]>1e-35?He=-.07640004589975245:e[153]>1e-35?He=-.027921183286970398:e[156]>1e-35?He=-.02508900369371103:e[47]>1e-35?He=-.09621039139423637:e[46]>1e-35?He=-.05890206826599292:He=-.0018521707885188695:e[7]>.1998775237752378?e[39]>1e-35?He=-.02026563108381904:e[91]>1e-35?He=-.03979999802398471:e[14]>1e-35?e[134]>1e-35?He=.044705853812635206:He=.01112016315736189:e[24]>1e-35?e[6]>3.417592293073651?He=.01585670681557334:He=.0820229237073549:e[9]>1e-35?e[204]>1e-35?e[6]>3.9219243190762363?He=.01475544028693712:e[30]>1e-35?He=.10219265831102325:He=-.0567832116465987:e[154]>1e-35?He=-.04682869193620295:He=.0058147572533605784:e[123]>1e-35?He=-.04011640490395746:e[17]>1e-35?e[6]>3.314020688089767?He=.016472642951500794:He=-.10372235311156908:e[19]>1e-35?He=.013619887374131652:e[28]>1e-35?e[6]>3.1984648276080736?e[6]>5.5816130673839615?He=.021404525777064917:He=-.022090537029637168:He=.07927547222505857:e[129]>1e-35?He=-.0315112950229846:e[90]>1e-35?He=-.08016175793969123:e[60]>1e-35?He=-.044255594885932:e[150]>1e-35?He=-.0643645650066138:He=18071436579202054e-21:e[6]>6.132312266239896?He=.00017227075512669227:He=-.010904669702571911;let z;e[0]>1e-35?e[1]>1e-35?e[7]>.30853255358841714?e[154]>1e-35?z=-.053460642910797676:z=.009652079082741289:z=-.0017676195976280011:e[134]>1e-35?z=.01746182064829904:e[32]>1e-35?z=.033149881191962445:e[138]>1e-35?z=.02149173543949675:e[37]>1e-35?z=.028519159270523897:e[152]>1e-35?z=.023352031441951773:e[217]>1e-35?z=.02290558132732214:z=-.01850975101703459:e[152]>1e-35?z=.010488854074509982:e[155]>1e-35?e[12]>1e-35?z=.027490522294963154:z=.002575743497494008:e[131]>1e-35?z=-.07138027268500055:e[57]>1e-35?z=-.06658662137088783:e[28]>1e-35?z=.015141080652315508:e[55]>1e-35?z=-.07156337757427284:e[204]>1e-35?z=.008085415901726045:e[99]>1e-35?e[1]>1e-35?z=.01803019280250009:z=-.012275416064615064:e[113]>1e-35?z=.007680714218522011:e[102]>1e-35?z=.01923593781092882:e[38]>1e-35?z=.00598208846998872:e[112]>1e-35?z=.00895148693111358:e[217]>1e-35?z=.004322676779141819:e[114]>1e-35?e[1]>1e-35?z=.019173900241286065:e[18]>1e-35?z=-.1302545616586715:z=-.012219608237225175:e[89]>1e-35?z=.019080595932083305:e[95]>1e-35?z=.009182530113836561:z=-.006531048204768366;let ee;e[2]>4.135134555718313?e[47]>1e-35?ee=-.06057129526622943:e[5]>6.805168536739806?e[3]>2.4414009612931857?e[1]>1e-35?e[32]>1e-35?ee=-.09672976728291365:e[217]>1e-35?ee=-.09138286775903748:e[114]>1e-35?ee=.034435801312936894:ee=.003550781249532139:e[56]>1e-35?ee=.06582022232543998:e[144]>1e-35?ee=-.08601101006110747:ee=-.006766914059699758:e[217]>1e-35?ee=.001822103802069182:ee=-.013646878234832634:e[8]>1e-35?ee=-.02495807137678248:e[1]>1e-35?ee=.009517017217557915:ee=-.007488737506950444:e[6]>6.1537953943602615?e[140]>1e-35?ee=-.013180308369805589:e[51]>1e-35?ee=-.0496089337787575:e[15]>1e-35?e[30]>1e-35?ee=.017032153502995334:ee=-.01330098154550191:e[10]>1e-35?e[56]>1e-35?ee=.04713518460375107:ee=-.0016223104582873055:e[131]>1e-35?ee=-.07291331059881433:e[27]>1e-35?ee=-.015619378359486803:ee=.006051005570772542:e[3]>3.1132683346437333?e[8]>1e-35?ee=-.02945681137428643:ee=-.00725026522062693:e[6]>1e-35?e[3]>1.2424533248940002?ee=.0035081297381004684:e[194]>1e-35?e[5]>3.772694874805912?ee=-.03142097937872678:ee=-.17253564001853064:e[5]>3.156774023138548?ee=-.004860170522962415:e[12]>1e-35?ee=-.04169370739781986:ee=.05886396855048806:ee=-.10415236736977414;let Qe;e[2]>2.3502401828962087?e[11]>1e-35?e[58]>1e-35?Qe=-.07548370555339029:Qe=-.009060327134219393:e[21]>1e-35?Qe=-.02536204329245056:e[155]>1e-35?Qe=.01626198918750622:e[142]>1e-35?Qe=-.029262265693304763:e[4]>1.8688348091416842?e[48]>1e-35?Qe=-.0522966414357639:e[47]>1e-35?Qe=-.03867213359133592:e[149]>1e-35?Qe=-.10392339919606915:e[135]>1e-35?Qe=-.010541433982611018:e[51]>1e-35?Qe=-.06273170107556418:e[54]>1e-35?Qe=-.08769404750229767:e[18]>1e-35?e[1]>1e-35?Qe=.0022966362330231133:e[31]>1e-35?Qe=.19571528454816625:Qe=-.04919246049942885:e[50]>1e-35?Qe=-.06766114512966344:e[7]>.9793410316570949?Qe=.00837983401462093:Qe=.0007986280224776339:e[186]>1e-35?Qe=-.16446174535054356:e[62]>1e-35?Qe=.06508947502037822:Qe=-.010260699234562241:e[6]>5.486867329823672?e[140]>1e-35?Qe=-.01589822136096899:e[125]>1e-35?Qe=-.025465846683560996:e[190]>1e-35?Qe=-.03671457167643481:e[91]>1e-35?Qe=-.03821691103237143:e[57]>1e-35?Qe=-.07502589184745939:e[50]>1e-35?Qe=-.05395522531288487:Qe=.005241788285288346:e[4]>3.1132683346437333?Qe=-.008741587825172916:e[12]>1e-35?e[100]>1e-35?Qe=.06608964318040904:Qe=-.012827641806975033:Qe=.004744161815471635;let Se;e[4]>.8958797346140276?e[2]>5.4049245766661995?e[5]>6.0051201133541365?Se=-.008352440702113342:Se=.00818161196788124:e[123]>1e-35?Se=-.02387242845183433:e[190]>1e-35?Se=-.03574127589374163:e[152]>1e-35?Se=.01262147105943106:e[11]>1e-35?e[58]>1e-35?Se=-.05955906348417553:Se=-.003717083835106387:e[6]>6.0026509725338455?e[15]>1e-35?e[30]>1e-35?Se=.023589988800048537:Se=-.01290090410411923:e[38]>1e-35?Se=.015295369946508892:e[1]>1e-35?e[4]>2.740319461670996?e[22]>1e-35?Se=-.01614208413608714:e[42]>1e-35?Se=-.05454658382875832:Se=.008894057269932708:e[141]>1e-35?Se=-.029660896741885025:Se=.0007918628584206305:e[12]>1e-35?Se=.010735865892076339:e[218]>1e-35?Se=.06499398466334683:e[29]>1e-35?Se=-.02987220407530282:e[118]>1e-35?Se=-.05994319680494358:Se=-.0022119035344297464:e[113]>1e-35?e[24]>1e-35?Se=.09992180359591052:Se=.003953091072683087:e[204]>1e-35?e[4]>2.249904835165133?Se=.0012737346185997833:e[5]>3.979637980058199?Se=.012350990163327259:e[29]>1e-35?Se=-.4173182186315585:Se=.09483857671510697:Se=-.0034771114722081282:e[19]>1e-35?Se=.04818172610227253:e[158]>1e-35?Se=.09085872490042819:e[123]>1e-35?Se=.046170414156546824:Se=-.030833991141721785;let Ce;e[0]>1e-35?e[2]>1.2424533248940002?e[2]>2.138333059508028?e[3]>1.4978661367769956?e[3]>4.197173680708697?Ce=-.015067858446918237:e[5]>3.979637980058199?Ce=.0025493966284458503:e[24]>1e-35?Ce=.10170949517680355:e[3]>2.3502401828962087?Ce=-.010182198776560389:e[7]>.9662372103242399?Ce=.0855616171705204:Ce=-.0044290837387121786:e[7]>.992067132663463?Ce=.006950766900495411:Ce=-.011703657118613042:e[3]>3.314020688089767?Ce=-.007590151825214328:Ce=.011931088318037653:e[5]>4.424828703319957?e[3]>1.4978661367769956?Ce=.003895993078605918:e[2]>1e-35?e[5]>5.859359688974663?Ce=.03311360926528595:e[7]>.9936484368123463?e[28]>1e-35?Ce=-.1296383065201116:e[18]>1e-35?Ce=-.2304238024287801:Ce=-.0007035160942990814:Ce=.03872938637191365:Ce=.05931958562003542:e[204]>1e-35?e[7]>.9926276364955392?Ce=-.2503820824196552:Ce=.01514980593659256:e[135]>1e-35?e[7]>.990877425524446?Ce=-.12146435764173391:Ce=.03579230653026111:e[125]>1e-35?Ce=-.11990587076136816:Ce=-.0017264106529335022:e[2]>.8958797346140276?e[3]>4.878999622893762?Ce=-.028006872909888104:e[17]>1e-35?Ce=.015327119563713427:e[14]>1e-35?Ce=.008966123864441086:e[24]>1e-35?Ce=.014884319812071584:Ce=-.0008180929266082377:e[29]>1e-35?e[5]>5.895778350950796?Ce=-.02927173520516398:Ce=.004256706136162408:Ce=-.0030692852485265805;let qe;e[39]>1e-35?qe=-.019116728566000912:e[152]>1e-35?qe=.011159312353677259:e[52]>1e-35?qe=-.06556505864685434:e[7]>.14547530463198097?e[187]>1e-35?qe=-.02203060071288757:e[48]>1e-35?qe=-.03406851575382452:e[10]>1e-35?e[219]>1e-35?qe=-.026242020752538932:qe=-.0026163734864036088:e[21]>1e-35?qe=-.016803181860075653:e[8]>1e-35?e[5]>3.0201273556387074?e[6]>4.722943345003718?e[125]>1e-35?qe=-.07907862980413462:qe=-.0024968534057976956:e[141]>1e-35?qe=.01751368963010255:qe=-.035334686232177996:e[3]>1e-35?qe=-.049727650261844114:qe=.06649006602788514:e[51]>1e-35?qe=-.047051279496267896:e[58]>1e-35?e[19]>1e-35?qe=.06794814379814933:qe=-.033933057704283995:e[6]>8.681774988134558?qe=-.001906867260604815:e[3]>3.3842466058243152?e[23]>1e-35?qe=.029126145919054786:e[12]>1e-35?e[59]>1e-35?qe=.06547842372312768:qe=.005706402727440608:e[89]>1e-35?qe=.05238448470974841:qe=-.003970577798047124:e[141]>1e-35?e[3]>1e-35?qe=-.02994666941636212:qe=.029175297065511276:e[139]>1e-35?qe=-.03926804943552878:e[7]>.9626084674797213?qe=.010270060885238803:e[6]>4.5379471377116305?qe=.0051640733904868355:qe=-.006326617548806485:e[3]>2.3502401828962087?qe=-.001064039369711557:qe=-.015232776877478657;let $e;e[4]>.8958797346140276?e[0]>1e-35?e[3]>3.540854293052788?e[138]>1e-35?$e=.020620751195117866:$e=-.007657642824282572:e[9]>1e-35?$e=.013255738783000171:e[123]>1e-35?$e=-.04553588467808997:e[14]>1e-35?$e=.020257942633657516:e[17]>1e-35?$e=.02379466680602821:e[7]>.26911173821332884?$e=.004563013176326579:$e=-.006044878247080096:e[208]>1e-35?e[1]>1e-35?$e=.016583051243963785:$e=-.005473696128326885:e[53]>1e-35?$e=-.07392011100318682:e[3]>4.840234496705036?$e=-.022277334024938686:e[49]>1e-35?$e=-.04140311782670083:e[40]>1e-35?$e=-.041278341040658334:e[156]>1e-35?$e=-.01087788432462589:e[8]>1e-35?e[141]>1e-35?$e=.032404890147508435:$e=-.008762958389316138:e[153]>1e-35?e[18]>1e-35?$e=.03064796696780178:e[19]>1e-35?$e=.025912082684934896:e[7]>.9033253454895247?$e=.00010665286308939541:$e=-.019390651252802232:e[133]>1e-35?$e=-.013215417920201165:e[35]>1e-35?$e=-.07409193965805899:e[16]>1e-35?$e=.010595288788401727:$e=.0004445963442680354:e[19]>1e-35?$e=.043800560164078434:e[62]>1e-35?$e=.08440762960688118:e[123]>1e-35?$e=.04196062757398021:e[44]>1e-35?e[7]>.9880960409521241?$e=-.14025705728324367:$e=.07605327900446729:$e=-.030453882536033008;let tt;e[14]>1e-35?e[134]>1e-35?tt=.03807815059641535:tt=.007895137847547357:e[39]>1e-35?tt=-.019172673927560828:e[138]>1e-35?tt=.009207480510332959:e[152]>1e-35?e[10]>1e-35?tt=.029310247627617716:tt=.006422126177312616:e[3]>3.5114340430413216?e[155]>1e-35?tt=.02869511059037871:e[137]>1e-35?tt=.048763707543632046:e[218]>1e-35?tt=.0393143924208134:tt=-.0065205942363783:e[4]>2.4414009612931857?e[113]>1e-35?tt=.016047178137914484:e[35]>1e-35?tt=-.09486179869071369:e[118]>1e-35?tt=-.032706818831570415:e[0]>1e-35?tt=.004733859562945298:tt=-4345884264792552e-20:e[29]>1e-35?e[204]>1e-35?e[4]>2.3502401828962087?tt=-.23804773582311067:tt=.0015066742334155967:e[194]>1e-35?e[4]>1.7005986908310777?tt=-.013296404682101122:tt=-.14340192620927933:e[196]>1e-35?tt=-.17446678790111786:tt=-.01140535620661492:e[141]>1e-35?tt=-.03362328403627273:e[99]>1e-35?tt=.02082592497315901:e[196]>1e-35?tt=.02125156827172031:e[204]>1e-35?tt=.018738441981476887:e[194]>1e-35?tt=.022230335367621302:e[114]>1e-35?tt=.017460982004618885:e[210]>1e-35?e[11]>1e-35?tt=-.07421933796695453:tt=-.02600449772874995:e[62]>1e-35?tt=.0435295764572802:tt=-.0036358741919687645;let Ct;e[2]>4.749261159734808?e[5]>6.826002629905951?e[29]>1e-35?Ct=-.012866931871530748:e[47]>1e-35?Ct=-.06511122680099479:Ct=-.0033152297369715466:e[1]>1e-35?Ct=.00634942519508748:Ct=-.008516826211528918:e[6]>6.1537953943602615?e[11]>1e-35?e[121]>1e-35?e[1]>1e-35?Ct=-.06214080664476329:Ct=.037029947625630194:e[47]>1e-35?Ct=-.08203414630098728:Ct=-.0044122376347199765:e[15]>1e-35?e[30]>1e-35?Ct=.012452689013210465:Ct=-.011970977023212193:e[10]>1e-35?e[152]>1e-35?Ct=.02888624440861723:Ct=-.0026872248277927456:e[27]>1e-35?Ct=-.01471521834054285:e[21]>1e-35?Ct=-.014970363019863132:e[13]>1e-35?Ct=-.0057151868439017945:e[38]>1e-35?Ct=.01633003881478886:Ct=.005850603591179588:e[113]>1e-35?e[5]>3.979637980058199?Ct=.006600693642185256:e[6]>3.1984648276080736?Ct=.07576534772024612:Ct=-.013028252220942527:e[204]>1e-35?e[9]>1e-35?e[6]>3.9219243190762363?Ct=.01266221511189265:e[29]>1e-35?Ct=-.20167612409830682:Ct=.09361829582187109:Ct=.0016303497789744046:e[6]>4.310776603370241?Ct=-.0015960016142716584:e[141]>1e-35?e[2]>2.249904835165133?e[6]>2.970085626360216?Ct=-.05054316446311788:Ct=.06528096075929847:e[29]>1e-35?Ct=.07763431964140277:Ct=-.017239135292908336:Ct=-.011068823413100247;let Pt;e[91]>1e-35?Pt=-.03524202222673902:e[55]>1e-35?Pt=-.07505808762820981:e[47]>1e-35?Pt=-.026314216162986376:e[49]>1e-35?Pt=-.045488810456426665:e[54]>1e-35?Pt=-.06424779605129435:e[0]>1e-35?e[39]>1e-35?Pt=-.03267263134559766:e[46]>1e-35?Pt=-.049285436356671077:e[51]>1e-35?Pt=-.09277060040547602:e[4]>.8958797346140276?e[123]>1e-35?Pt=-.027164727231258436:e[7]>.4232249052377311?e[14]>1e-35?Pt=.021561483416797714:e[9]>1e-35?e[58]>1e-35?Pt=-.08387877475105178:Pt=.014404401501386124:Pt=.004694473365260974:Pt=-.0001897538693116325:Pt=-.017140588284242805:e[5]>9.119594757170685?e[3]>2.740319461670996?Pt=-.0007153953072197825:Pt=-.010378474356201449:e[8]>1e-35?e[5]>3.276966702012906?e[125]>1e-35?Pt=-.06966241558514917:e[4]>4.82429765145367?Pt=-.05703428861212874:Pt=-.007549683006633188:e[3]>1.2424533248940002?Pt=-.05340556429257431:Pt=.0524214727387076:e[22]>1e-35?Pt=-.012756524179901607:e[186]>1e-35?Pt=-.06578146880564559:e[208]>1e-35?Pt=.011189277267677045:e[11]>1e-35?e[58]>1e-35?Pt=-.05051984734793551:e[3]>1.2424533248940002?Pt=-.0002576217567062796:e[134]>1e-35?Pt=-.07452351335236179:Pt=-.010366062496356129:e[94]>1e-35?Pt=-.04206673603732986:Pt=.0017654268359667174;let yt;e[2]>2.3502401828962087?e[28]>1e-35?yt=.018743416209068924:e[142]>1e-35?yt=-.027628078748284907:e[4]>1.7005986908310777?e[123]>1e-35?yt=-.039485087567133176:e[48]>1e-35?yt=-.04707407726639779:e[49]>1e-35?yt=-.0644727439161007:e[47]>1e-35?yt=-.03586301268310228:e[52]>1e-35?yt=-.08213761833929575:e[60]>1e-35?yt=-.036939376764301805:e[22]>1e-35?yt=-.02264827779335228:e[153]>1e-35?e[24]>1e-35?yt=.03651632275248908:yt=-.010403215174169965:e[18]>1e-35?e[31]>1e-35?yt=.17011943799802248:yt=-.024083374989820074:e[147]>1e-35?yt=-.05792387046048145:e[39]>1e-35?yt=-.019000152117179:e[54]>1e-35?yt=-.09256681585621543:e[50]>1e-35?yt=-.06535283940797192:e[187]>1e-35?yt=-.023020538580498528:e[149]>1e-35?yt=-.09670391878996044:e[8]>1e-35?e[6]>5.865049616265698?yt=.0007122257672540384:yt=-.024203929126070334:e[55]>1e-35?yt=-.10687519344783902:e[21]>1e-35?yt=-.019836359134795922:yt=.0028141634686288143:e[153]>1e-35?yt=-.044827592367532504:yt=-.009894012855110334:e[140]>1e-35?e[18]>1e-35?yt=.060584003745668275:yt=-.015006980258423744:e[6]>5.161920636569023?e[125]>1e-35?yt=-.021624709427283298:yt=.0035264081894521636:yt=-.0030260520850755417;let zt;e[57]>1e-35?zt=-.06665941268716478:e[2]>5.4049245766661995?zt=-.0048763725607228565:e[17]>1e-35?zt=.012937023835595996:e[91]>1e-35?zt=-.032642493399923284:e[40]>1e-35?zt=-.04355571234278559:e[14]>1e-35?e[217]>1e-35?zt=-.030555708374197955:zt=.010895997063478696:e[1]>1e-35?e[99]>1e-35?zt=.016029829045206837:e[114]>1e-35?zt=.017475123428921584:e[139]>1e-35?zt=-.042037981483985604:e[210]>1e-35?e[29]>1e-35?zt=.015395913258454092:zt=-.024779051599098958:e[90]>1e-35?zt=-.09436512907953146:e[25]>1e-35?zt=-.0385103760507401:e[113]>1e-35?zt=.014955995782471:e[208]>1e-35?zt=.01363101947809469:zt=.0004708078358576994:e[29]>1e-35?zt=-.02567148566035587:e[217]>1e-35?zt=.017896286118860596:e[118]>1e-35?zt=-.04366196842115269:e[144]>1e-35?zt=-.04332564222613586:e[54]>1e-35?zt=-.08095356842154083:e[31]>1e-35?e[15]>1e-35?zt=-.12797365603832508:zt=.05407709367007049:e[56]>1e-35?zt=.030874690971051524:e[148]>1e-35?zt=-.06664437092250396:e[50]>1e-35?zt=-.05710031053092695:e[114]>1e-35?e[18]>1e-35?zt=-.12348764088627251:zt=-.014081947133593207:e[147]>1e-35?zt=-.044629298717173554:zt=-.000742893245658901;let Kt;e[138]>1e-35?Kt=.008266725465725232:e[1]>1e-35?e[37]>1e-35?Kt=-.06288072801700428:e[114]>1e-35?Kt=.01701875404216428:e[128]>1e-35?Kt=-.022207708344996902:e[113]>1e-35?e[24]>1e-35?Kt=.08078133512323216:Kt=.010126216487392538:e[11]>1e-35?e[58]>1e-35?Kt=-.0542116306120395:Kt=-.004962440421854299:e[155]>1e-35?e[30]>1e-35?Kt=.02107443326718807:Kt=-.01069225359959257:Kt=.0009105709984003484:e[218]>1e-35?Kt=.05160355321154702:e[134]>1e-35?Kt=.006114948378400552:e[121]>1e-35?Kt=.016106484014031797:e[89]>1e-35?Kt=.01912348851711998:e[56]>1e-35?Kt=.029777849606436514:e[157]>1e-35?Kt=.04060172642469715:e[31]>1e-35?Kt=.040190765597096945:e[115]>1e-35?Kt=.038285461163007885:e[144]>1e-35?Kt=-.04397941351839926:e[53]>1e-35?Kt=-.09153555712989248:e[34]>1e-35?Kt=.05063635650139542:e[145]>1e-35?Kt=-.05531793235403996:e[18]>1e-35?e[142]>1e-35?Kt=.050915836711889595:Kt=-.038668153033606156:e[142]>1e-35?Kt=-.03161888799270195:e[21]>1e-35?Kt=-.039152400008548416:e[147]>1e-35?Kt=-.06369054146375448:e[146]>1e-35?Kt=-.06687062048733548:e[143]>1e-35?Kt=-.0374398909044375:Kt=-.004075281311375503;let sr;e[19]>1e-35?sr=.011138060439416179:e[7]>.054053454943712505?e[17]>1e-35?e[30]>1e-35?sr=.031458353209402545:sr=.006712963530887799:e[135]>1e-35?sr=-.008268741342836259:e[60]>1e-35?sr=-.026373116795568554:e[7]>.8375851232899904?e[3]>2.602003343538398?e[6]>4.832297822126891?sr=.001164103411669833:e[8]>1e-35?sr=-.04419920795209664:sr=-.007580602414427876:e[6]>3.417592293073651?e[6]>8.80963889693121?sr=-.00653283113371423:e[8]>1e-35?e[125]>1e-35?sr=-.10156793652811894:sr=-.004200534838133274:e[18]>1e-35?sr=-.01192673279840267:sr=.007421951916920296:e[7]>.9626084674797213?e[29]>1e-35?e[6]>2.970085626360216?sr=-.0032059430383565256:sr=.05159315082197918:e[8]>1e-35?sr=-.0890031715943104:e[22]>1e-35?sr=-.16814104441488775:e[12]>1e-35?e[100]>1e-35?sr=.1021284677424052:sr=-.13655977142603173:sr=.09393254504800182:sr=-.0008030674521708154:e[153]>1e-35?e[18]>1e-35?sr=.028570793527563892:sr=-.01146507406243734:e[125]>1e-35?e[3]>1e-35?sr=-.04344386283066575:sr=.049543778722220704:e[47]>1e-35?sr=-.025602694767462936:sr=41633336342102227e-21:e[3]>2.3502401828962087?e[3]>3.3497501700808394?sr=-.018924000087166926:sr=.005374758944061522:e[14]>1e-35?sr=.02825013192303339:sr=-.028367959366723622;let pe;e[190]>1e-35?pe=-.033259392758942484:e[4]>2.4414009612931857?e[123]>1e-35?pe=-.030965448877928344:e[150]>1e-35?pe=-.05353588365501967:e[53]>1e-35?pe=-.07322459471644706:e[0]>1e-35?e[6]>6.9012339353508745?pe=.007566110700214329:e[4]>3.0677824455408698?e[7]>.5242163672259389?e[8]>1e-35?e[6]>4.722943345003718?pe=-.00508197369229565:e[4]>3.5694334999727624?pe=-.09566908841488272:pe=-.009799018561370653:e[29]>1e-35?pe=.01134634874419129:pe=-.008480456528154491:pe=-.010775036248093376:pe=.006611525544742429:e[23]>1e-35?pe=.01761735039511882:e[19]>1e-35?pe=.01278442042249664:pe=-.0002242132003162585:e[186]>1e-35?pe=-.1282956565830828:e[99]>1e-35?pe=.018493666625505303:e[141]>1e-35?pe=-.026024552608676074:e[29]>1e-35?e[5]>3.5694334999727624?e[217]>1e-35?pe=.010089877008871859:e[7]>.9569480028661056?pe=-.0021891593882122327:pe=-.019455050281455402:e[7]>.960816451500545?pe=-.13777176433158442:pe=.02722608122697913:e[28]>1e-35?e[194]>1e-35?pe=.09549833737461155:pe=.012447932823540411:e[129]>1e-35?e[26]>1e-35?pe=.147381625399948:pe=-.03418523266130075:e[7]>.26911173821332884?pe=.0014660191124088442:e[217]>1e-35?pe=-.08282397562490618:e[210]>1e-35?pe=-.0386848317545183:pe=-.001892646396528824;let Me;e[57]>1e-35?Me=-.059790543460520464:e[55]>1e-35?Me=-.06524069243313577:e[3]>4.283562780082224?e[37]>1e-35?Me=-.054605342954169904:Me=-.006343751747681404:e[17]>1e-35?Me=.011961708215735271:e[40]>1e-35?Me=-.04296088601962452:e[6]>1e-35?e[24]>1e-35?e[113]>1e-35?e[6]>4.460127707454046?Me=-.026498922218692673:Me=.10501477027016158:e[6]>4.03420147928485?Me=.012792216148037112:e[7]>.9830997303909479?Me=-.2271005546552327:Me=-.008348690537914538:e[9]>1e-35?e[153]>1e-35?e[7]>.20588252599634785?Me=-.004842123367456505:Me=-.03575275485660392:e[99]>1e-35?e[1]>1e-35?Me=.032397176999597294:Me=-.0033271937210452387:e[204]>1e-35?Me=.02154799118278769:Me=.0034498877728340095:e[28]>1e-35?e[6]>3.0677824455408698?e[6]>5.5816130673839615?Me=.01602715871650751:e[7]>.9901971344332651?e[194]>1e-35?Me=-.21161676626091178:e[127]>1e-35?Me=-.4024450297968636:Me=-.030976570087232314:Me=.0031980605341801454:Me=.07943810970798848:e[135]>1e-35?Me=-.00869354055420051:e[123]>1e-35?Me=-.022241787113206086:e[62]>1e-35?Me=.037165483434744594:e[7]>.04507521918085865?e[21]>1e-35?Me=-.013433718654288605:e[155]>1e-35?Me=.00919342834132915:Me=-.0002729025327531227:Me=-.012537468897218136:Me=-.07894994665155514;let Ze;e[4]>.8958797346140276?e[14]>1e-35?Ze=.007800140351631253:e[138]>1e-35?Ze=.007294945388686309:e[1]>1e-35?e[32]>1e-35?e[28]>1e-35?Ze=.09462192942805535:Ze=-.06376046128949985:e[37]>1e-35?Ze=-.06442220885770956:e[140]>1e-35?e[30]>1e-35?Ze=-.09261012186873348:Ze=-.015294712278584928:e[98]>1e-35?Ze=.019329173498247088:e[58]>1e-35?Ze=-.026405515460271967:e[5]>8.608586615680721?e[4]>2.602003343538398?Ze=6125118307170923e-20:Ze=-.009497787119169794:e[40]>1e-35?Ze=-.05491317248554455:e[7]>.30853255358841714?Ze=.003951848833690266:Ze=-.0021827028977256715:e[219]>1e-35?Ze=-.03918852409108207:e[98]>1e-35?Ze=-.025490621458423603:e[218]>1e-35?Ze=.04685239586600909:e[4]>2.970085626360216?e[152]>1e-35?Ze=.019288400231624092:e[132]>1e-35?Ze=.04845025214421127:e[157]>1e-35?Ze=.03681235344369351:e[18]>1e-35?Ze=-.034132162265456074:e[48]>1e-35?Ze=-.04861483835690636:e[142]>1e-35?Ze=-.031057400959951156:e[148]>1e-35?Ze=-.06903688486009983:Ze=-.004426858558248682:e[31]>1e-35?Ze=.06983425899920179:Ze=.002335587968443938:e[19]>1e-35?Ze=.04178364096434334:e[123]>1e-35?Ze=.03954255208630935:e[62]>1e-35?Ze=.07169067239737285:Ze=-.022094630155173406;let rt;e[190]>1e-35?rt=-.029705030481716018:e[2]>2.4414009612931857?e[125]>1e-35?e[3]>1e-35?rt=-.052080713549693486:rt=.015237248725743169:e[49]>1e-35?rt=-.05738028956460733:e[28]>1e-35?rt=.015629889576502864:e[14]>1e-35?rt=.007178838639724632:e[217]>1e-35?rt=.006873744757442591:e[3]>.8958797346140276?rt=-.0009297977761919447:e[4]>2.740319461670996?rt=-.0032588616048005344:e[209]>1e-35?rt=-.09352716353634213:rt=-.015820890219545396:e[0]>1e-35?e[2]>.8958797346140276?e[30]>1e-35?rt=.019248760742983276:e[3]>2.861792550976191?e[6]>8.372051799062541?rt=.011687619771455333:rt=-.014380012538782239:rt=.007119108038702808:e[5]>4.424828703319957?e[3]>2.249904835165133?rt=-.004571416888569663:e[4]>.8958797346140276?e[2]>1e-35?rt=.03291298609827498:rt=.056149641245301286:e[6]>5.66469358412419?rt=.03259771207074825:rt=-.09357704176112766:e[135]>1e-35?e[4]>3.1132683346437333?e[4]>3.276966702012906?rt=-.061655392996083594:rt=-.32745698278768204:rt=.05791789791717941:rt=-.018505458368810124:e[2]>1.2424533248940002?rt=.0026761409362875913:e[3]>1e-35?e[30]>1e-35?e[210]>1e-35?rt=-.039544237504098204:rt=-.00840469876565937:e[138]>1e-35?rt=-.03964217397514852:rt=-4311139741723525e-22:e[5]>6.136645972583987?rt=-.022772355719852342:rt=.00817231129409795;let kt;e[91]>1e-35?kt=-.028069212077752072:e[2]>5.1209788959100075?e[25]>1e-35?e[4]>3.314020688089767?kt=-.07374751231467579:kt=-.012603466600012023:kt=-.003323309316995181:e[0]>1e-35?e[2]>1.2424533248940002?e[11]>1e-35?kt=-.008138434386494645:e[2]>1.8688348091416842?e[18]>1e-35?kt=-.021752576521312197:e[142]>1e-35?kt=-.03703704004008216:e[21]>1e-35?kt=-.031901873695323615:kt=.0007949433315561949:e[156]>1e-35?kt=.04622194605125366:kt=.007164185384903575:e[156]>1e-35?kt=.05649230717257425:e[192]>1e-35?kt=-.14560972428612223:e[144]>1e-35?kt=-.0847860756426489:e[4]>.8958797346140276?e[2]>.8958797346140276?kt=.009443385055723438:e[9]>1e-35?kt=.0384706300742172:e[7]>.9738681190948303?e[7]>.9983480540068196?kt=.03566002120217884:e[125]>1e-35?kt=-.08601531943220733:e[28]>1e-35?kt=-.07136595081940608:kt=.005430826378707227:kt=.026279964393698674:e[2]>.8958797346140276?kt=.025916235406054845:kt=-.05093685243097706:e[2]>.8958797346140276?e[4]>2.4414009612931857?e[22]>1e-35?kt=-.018458649485324576:e[123]>1e-35?kt=-.027048533130577097:e[9]>1e-35?kt=.005768627348361876:kt=.0011976274380886302:e[196]>1e-35?kt=.024074476840894424:kt=-.0040891042038809855:e[156]>1e-35?kt=-.03722816735059365:kt=-.004021663177778795;let bt;e[57]>1e-35?bt=-.054174378986311306:e[55]>1e-35?bt=-.05937408126377534:e[35]>1e-35?bt=-.06355743050048665:e[52]>1e-35?bt=-.049028563645544726:e[10]>1e-35?e[152]>1e-35?bt=.023779508772836917:e[217]>1e-35?bt=.00760039749111183:bt=-.005758267779536595:e[6]>1e-35?e[50]>1e-35?bt=-.03899686693288482:e[53]>1e-35?bt=-.06158372699069763:e[19]>1e-35?bt=.009506113370718208:e[154]>1e-35?bt=-.021220440237800273:e[129]>1e-35?e[26]>1e-35?bt=.12643307498280917:bt=-.02322694568396696:e[49]>1e-35?bt=-.03489161935560748:e[173]>1e-35?bt=-.041310484369004336:e[116]>1e-35?bt=-.026931019221510855:e[150]>1e-35?bt=-.04336081700276943:e[46]>1e-35?bt=-.01503021840754708:e[21]>1e-35?bt=-.011723313966476847:e[187]>1e-35?e[30]>1e-35?bt=.029035482597327224:bt=-.020238143126606493:e[22]>1e-35?bt=-.0092659038594408:e[6]>8.954867306462836?bt=-.002270298325316596:e[25]>1e-35?e[1]>1e-35?e[152]>1e-35?bt=.025059955137215612:bt=-.058962720741665454:bt=4061285457160542e-20:e[7]>.787025207541384?bt=.0045073893285534905:e[156]>1e-35?bt=-.00956127321029558:e[153]>1e-35?bt=-.006428735642845697:bt=.0020065887307204903:bt=-.07142994726664682;let Qt;e[190]>1e-35?Qt=-.026482483927372538:e[11]>1e-35?e[153]>1e-35?Qt=-.019448665116575673:e[46]>1e-35?Qt=-.046207503035123526:e[143]>1e-35?Qt=-.060693025841649276:e[125]>1e-35?Qt=-.0635615784828548:Qt=-.0020226769939179086:e[10]>1e-35?e[152]>1e-35?Qt=.021657999498329004:e[217]>1e-35?Qt=.006867901248533881:e[186]>1e-35?Qt=-.17526174685635476:e[7]>.3736576099860928?e[125]>1e-35?Qt=-.06860813037660739:Qt=-.0030373931794416857:e[153]>1e-35?Qt=-.036659407900460406:Qt=-.009138716679401575:e[8]>1e-35?e[141]>1e-35?Qt=.022488528656368925:Qt=-.004824813956579289:e[155]>1e-35?e[29]>1e-35?Qt=-.0923825728762917:Qt=.013279779321478072:e[13]>1e-35?e[29]>1e-35?Qt=-.02015430689927317:Qt=-.0014075476679032272:e[21]>1e-35?Qt=-.010052866682366596:e[15]>1e-35?e[127]>1e-35?Qt=-.11613127921904604:Qt=-.004425492436566155:e[61]>1e-35?Qt=-.04761391619756717:e[38]>1e-35?Qt=.010790742168686546:e[138]>1e-35?e[25]>1e-35?Qt=-.03936956646884221:Qt=.012187893435100131:e[18]>1e-35?e[46]>1e-35?Qt=.052404637972043124:e[29]>1e-35?e[219]>1e-35?Qt=-.026128288926960785:Qt=.01402455905339408:Qt=-.018095204676971146:Qt=.002238241111198228;let Ot;e[3]>4.993822430271426?Ot=-.021704560089024494:e[39]>1e-35?Ot=-.012978601337522922:e[57]>1e-35?Ot=-.04850734344953324:e[190]>1e-35?Ot=-.02323817835232452:e[55]>1e-35?Ot=-.054265924680079236:e[144]>1e-35?Ot=-.020797331827991154:e[52]>1e-35?Ot=-.04407078296749134:e[50]>1e-35?Ot=-.03531075513550682:e[14]>1e-35?e[217]>1e-35?Ot=-.02603818360896512:Ot=.00845420085528292:e[90]>1e-35?e[3]>3.5114340430413216?Ot=.010289606334961197:Ot=-.10259966877314837:e[139]>1e-35?Ot=-.01903913128660918:e[17]>1e-35?e[30]>1e-35?Ot=.027295226228104732:e[38]>1e-35?Ot=.036847447575421244:e[3]>2.861792550976191?Ot=-.016454620470329126:Ot=.010475083165212631:e[19]>1e-35?Ot=.008675111927467:e[40]>1e-35?Ot=-.036362054443170776:e[9]>1e-35?Ot=.0031294075955568394:e[123]>1e-35?Ot=-.02131953072683769:e[24]>1e-35?e[113]>1e-35?e[3]>2.602003343538398?Ot=-.005045224468848018:e[3]>2.3502401828962087?Ot=.1006727710215487:Ot=-.21606952724358763:e[209]>1e-35?Ot=-.07903381656359819:Ot=.0099843967860757:e[28]>1e-35?Ot=.009909672751437115:e[155]>1e-35?e[3]>3.941534675652877?Ot=.04961274235179155:Ot=.005113567009198253:e[158]>1e-35?Ot=.031566828492110836:Ot=-.0012534895812835874;let wt;e[4]>2.4414009612931857?e[123]>1e-35?wt=-.022743199998420272:e[47]>1e-35?wt=-.02199867034393067:e[3]>3.238486181444842?e[155]>1e-35?wt=.015256601991879549:e[23]>1e-35?wt=.01997791344831838:e[97]>1e-35?wt=.024977281654938052:e[218]>1e-35?wt=.031730655567930977:e[32]>1e-35?e[1]>1e-35?wt=-.05855958691798028:wt=-.009630189044251312:e[195]>1e-35?wt=-.009842090802252708:e[125]>1e-35?wt=-.030084333742373532:wt=-.0009935375527704107:e[135]>1e-35?wt=-.006040875366017567:e[43]>1e-35?wt=-.03616920022546756:e[44]>1e-35?wt=-.014787601622259254:e[0]>1e-35?wt=.005949240867095038:wt=.0018435357767462809:e[141]>1e-35?e[3]>1e-35?wt=-.030610116678182732:wt=.01960307197844505:e[3]>1.2424533248940002?e[101]>1e-35?wt=-.04366907994393087:e[28]>1e-35?e[194]>1e-35?wt=.0927536258129216:wt=.00806369969474508:e[198]>1e-35?wt=.03402296877725087:wt=-.00033907517363096143:e[194]>1e-35?e[19]>1e-35?wt=-.16957712930341856:e[28]>1e-35?wt=-.2078243840685859:wt=-.01982072284112783:e[134]>1e-35?wt=-.059093837808976674:e[155]>1e-35?wt=-.11429749518431415:e[1]>1e-35?e[123]>1e-35?wt=.04159085402090426:wt=-.0053579302271092874:wt=-.038428527597709254;let Rt;e[2]>2.249904835165133?e[53]>1e-35?Rt=-.09149569302330776:e[142]>1e-35?Rt=-.020143603866796752:e[29]>1e-35?e[1]>1e-35?e[4]>2.740319461670996?e[0]>1e-35?Rt=-.005838073295705989:Rt=.0025448179376697196:e[217]>1e-35?Rt=.010391363152324442:e[6]>3.9219243190762363?e[7]>.9546729796082215?Rt=.00016709708501075782:Rt=-.019274537854809464:e[7]>.9717523368299734?e[2]>4.848108675189105?Rt=.0038332904395533517:e[141]>1e-35?e[6]>3.0677824455408698?Rt=-.12592300140122323:Rt=-1.2073741246841418:Rt=-.17682453022795175:Rt=-.004373737265888883:Rt=-.032810714691009164:e[18]>1e-35?Rt=-.024280045660709612:e[156]>1e-35?Rt=-.023509654115095334:e[1]>1e-35?e[141]>1e-35?Rt=-.032438707623116556:e[32]>1e-35?Rt=-.061272201063817755:Rt=.004415514992097752:Rt=-.0017176659108089432:e[0]>1e-35?e[6]>6.288787065535392?e[2]>.8958797346140276?Rt=.008680085548304642:e[29]>1e-35?Rt=.03767506445697859:Rt=-.0007537359215762705:e[4]>.8958797346140276?Rt=.0002799056937607271:Rt=-.039667032027283916:e[2]>1.2424533248940002?Rt=.002506908961838236:e[29]>1e-35?e[7]>.950335336459789?Rt=.0027367426972748597:Rt=-.021265206402010337:e[30]>1e-35?e[210]>1e-35?Rt=-.03496264625173957:Rt=-.007705718616493613:e[138]>1e-35?Rt=-.035840689909527164:Rt=.0006855012949462712;let _t;e[2]>5.418317700738354?e[5]>6.0051201133541365?e[156]>1e-35?_t=-.024776046248283234:_t=-.004761578172448051:e[8]>1e-35?_t=-.025343070913887773:_t=.012224469039913016:e[150]>1e-35?_t=-.04079051452350429:e[10]>1e-35?e[152]>1e-35?_t=.019743419118584654:e[186]>1e-35?_t=-.15575093795294756:e[217]>1e-35?_t=.0056968023991711995:_t=-.004356449942923164:e[5]>6.0051201133541365?e[125]>1e-35?_t=-.01597803134795572:e[151]>1e-35?_t=-.05058454115923059:e[50]>1e-35?_t=-.03619853041443809:e[49]>1e-35?_t=-.03261722685392842:e[24]>1e-35?_t=.011909155984778505:e[2]>2.012675845367575?_t=.0004933624031973823:e[219]>1e-35?_t=.015579421213152617:_t=.002812703494519415:e[113]>1e-35?e[24]>1e-35?_t=.09675188599473092:_t=.0008025077587732017:e[204]>1e-35?e[9]>1e-35?e[5]>3.772694874805912?_t=.02609533140492082:e[29]>1e-35?_t=-.21256031284758028:_t=.09442590919716193:_t=-.004086903422513798:e[24]>1e-35?e[5]>3.979637980058199?_t=-.011071875945121415:e[209]>1e-35?_t=-.19367443751378252:_t=-.04414838576908475:e[178]>1e-35?_t=-.06538606241685795:e[100]>1e-35?e[5]>3.772694874805912?_t=-.01294941588968201:e[5]>2.673553765358735?_t=.08150000027300734:_t=-.08989919051554107:_t=-.0032151101072856354;let qt;e[35]>1e-35?qt=-.05704221149718709:e[91]>1e-35?qt=-.023832002943165256:e[102]>1e-35?qt=.015441451551750014:e[3]>4.993822430271426?qt=-.020159490027748073:e[4]>2.3502401828962087?e[144]>1e-35?qt=-.022873219553742163:e[22]>1e-35?qt=-.01287591196884623:e[47]>1e-35?e[18]>1e-35?qt=.07657102696661595:qt=-.0243921910773003:e[150]>1e-35?qt=-.043982850497096056:e[138]>1e-35?e[25]>1e-35?qt=-.03740348349716821:qt=.008237493112057112:e[49]>1e-35?qt=-.03254806921800082:e[53]>1e-35?qt=-.057370285686186163:e[3]>4.085941003063911?e[37]>1e-35?qt=-.04084726667137505:e[155]>1e-35?qt=.0323666619020495:qt=-.0038866525930422893:e[118]>1e-35?e[18]>1e-35?qt=-.0975422096275863:qt=-.014038224866250074:e[136]>1e-35?qt=-.03199938604211209:qt=.0014268928516615767:e[99]>1e-35?qt=.018668567929263327:e[5]>7.334002872979111?e[156]>1e-35?qt=-.05380541629812827:e[210]>1e-35?e[30]>1e-35?qt=-.047112416583853595:qt=.00900546030963941:e[208]>1e-35?qt=.02334424121914086:e[158]>1e-35?qt=.04595592178250823:qt=-.006709820970668842:e[204]>1e-35?e[5]>3.772694874805912?qt=.009489783712825852:e[3]>2.249904835165133?qt=.09999429949553015:qt=-.03961464289941561:qt=-.001190853283470586;let Ht;e[39]>1e-35?Ht=-.011391872842603505:e[190]>1e-35?Ht=-.021093147889461955:e[51]>1e-35?e[18]>1e-35?Ht=.08723256651643213:Ht=-.04233732133209843:e[19]>1e-35?Ht=.008078856044745801:e[4]>.8958797346140276?e[60]>1e-35?Ht=-.022165860715145688:e[129]>1e-35?e[3]>3.314020688089767?Ht=.019990677612126993:Ht=-.035520772730423776:e[153]>1e-35?e[2]>.8958797346140276?Ht=-.006946377120973384:e[0]>1e-35?e[8]>1e-35?e[5]>5.692045796563381?Ht=.04230611914121616:Ht=-.1152833284663223:Ht=.03987788751961305:Ht=-.02748865099804465:e[46]>1e-35?e[18]>1e-35?Ht=.047655531405650486:Ht=-.022707509947190632:e[18]>1e-35?e[3]>.8958797346140276?e[31]>1e-35?Ht=.1425984397283696:e[143]>1e-35?Ht=.05597721538261218:Ht=-.02117927246804007:Ht=.011077153043550766:e[143]>1e-35?Ht=-.0158979963012007:e[187]>1e-35?e[30]>1e-35?Ht=.02515771028113912:Ht=-.019084229614362958:e[49]>1e-35?e[1]>1e-35?Ht=.014623537050735559:Ht=-.05320125987679328:e[58]>1e-35?e[3]>3.1132683346437333?Ht=.021421346835282216:Ht=-.03287702034784505:e[16]>1e-35?Ht=.008645735809593434:e[3]>4.993822430271426?Ht=-.01889537207927676:Ht=.00131546333396141:e[153]>1e-35?Ht=-.09822789507794744:Ht=-.010292962989428067;let Jt;e[11]>1e-35?e[156]>1e-35?e[4]>3.1132683346437333?Jt=-.009153166060719259:Jt=-.035386636811765286:e[58]>1e-35?Jt=-.03881024236774208:e[153]>1e-35?e[7]>.12645023619128054?Jt=-.01286680669029116:Jt=-.0573874491021103:e[3]>3.276966702012906?e[38]>1e-35?Jt=-.03084033316462023:Jt=-.00517175216868761:e[195]>1e-35?Jt=.01773824295809578:e[131]>1e-35?Jt=-.17828043850421407:Jt=.0005554487984838318:e[7]>.14547530463198097?e[105]>1e-35?Jt=-.018589129226123456:e[116]>1e-35?Jt=-.0227108777687536:e[24]>1e-35?Jt=.009520152980411787:e[135]>1e-35?Jt=-.004364970908897872:e[0]>1e-35?e[18]>1e-35?Jt=-.015737703364129243:Jt=.003711277180349787:e[12]>1e-35?e[4]>3.540854293052788?e[155]>1e-35?Jt=.04655165952772795:Jt=.009321761971665682:e[210]>1e-35?Jt=.018839890489201528:e[129]>1e-35?Jt=-.03111680952187252:Jt=.0002649813454447912:e[23]>1e-35?Jt=.014110539528977999:e[109]>1e-35?Jt=.014168740682742625:Jt=-.0008607565404007093:e[3]>2.3502401828962087?e[9]>1e-35?e[4]>3.3842466058243152?Jt=-.004252607769147212:Jt=.02017003996344357:e[16]>1e-35?Jt=.01594899805169211:Jt=-.006372071796745688:e[12]>1e-35?Jt=-.0251011457777017:e[121]>1e-35?Jt=-.07822588279288774:Jt=-.005026529762858;let ur;e[7]>.8375851232899904?e[155]>1e-35?e[3]>1.2424533248940002?ur=.014982109981371684:ur=-.08302064203662592:e[3]>2.602003343538398?e[125]>1e-35?ur=-.02862612402789537:ur=-.0004831913476108919:e[42]>1e-35?ur=-.08030278175390543:e[90]>1e-35?ur=-.11931838045625616:ur=.003328726909052652:e[125]>1e-35?e[3]>1e-35?ur=-.03347653784336098:ur=.0381767649776156:e[3]>2.4414009612931857?e[3]>3.1132683346437333?e[137]>1e-35?ur=.04078434374172937:e[130]>1e-35?ur=.04811471469938318:e[152]>1e-35?ur=.012079515899716571:e[23]>1e-35?ur=.017817807971301534:e[122]>1e-35?ur=.049338146544587284:e[115]>1e-35?ur=.026905923036994708:e[10]>1e-35?ur=-.008135082370740723:e[89]>1e-35?ur=.023584069012120446:e[95]>1e-35?ur=.013988944683250695:ur=-.002584756192745314:e[139]>1e-35?ur=-.04454469703180858:e[99]>1e-35?e[3]>2.524928003624769?ur=.010620580427538877:ur=.047779724434429495:e[131]>1e-35?ur=-.08155143867377633:ur=.0031488702256745843:e[7]>.06275229375044648?e[99]>1e-35?ur=.016956254821045937:e[90]>1e-35?ur=-.11685880917620971:e[210]>1e-35?e[11]>1e-35?ur=-.040607887814632475:ur=-.006287900824728332:ur=-.0018997472673294537:e[14]>1e-35?ur=.02358706984105576:ur=-.01737075534918072;let gr;e[6]>1e-35?e[2]>5.4049245766661995?e[5]>6.441743353550561?e[29]>1e-35?e[4]>2.673553765358735?gr=-.007517267159018327:gr=-.02379463821120899:gr=-.0026543290628044274:e[8]>1e-35?gr=-.022865480180725452:gr=.009005117181880752:e[6]>5.161920636569023?e[0]>1e-35?e[2]>.8958797346140276?e[2]>2.012675845367575?e[3]>2.3502401828962087?gr=.0021573820428423146:gr=-.0046125093600082965:e[3]>3.314020688089767?gr=-.005566488595229649:e[6]>6.288787065535392?gr=.012796965207082116:gr=-.0023971957228440767:e[3]>2.249904835165133?e[2]>1e-35?gr=-.0003832411399288501:e[1]>1e-35?gr=-.03148874544425103:gr=-.3158553329522586:e[2]>1e-35?gr=.025981575700247922:gr=.052944809618023905:e[6]>8.681774988134558?e[3]>2.970085626360216?gr=-.0005280655103032829:gr=-.009402467452152188:e[2]>.8958797346140276?gr=.0018798828715775142:e[3]>1.7005986908310777?gr=-.0002583719758369029:gr=-.014467497542301198:e[128]>1e-35?gr=-.03075061856353219:e[3]>3.0201273556387074?e[8]>1e-35?gr=-.03107874404542307:gr=-.0063178690978266385:e[113]>1e-35?e[24]>1e-35?gr=.10168122236339333:gr=.0027676566086997536:e[100]>1e-35?e[3]>1.4978661367769956?gr=-.019182725682091863:e[3]>1.2424533248940002?gr=.10007959215270637:gr=-.049901874168813753:e[12]>1e-35?gr=-.008354674563617942:gr=.000556773623388255:gr=-.06338083699889271;let lr;e[14]>1e-35?e[5]>7.841296344941067?e[217]>1e-35?lr=-.03452197748259044:e[141]>1e-35?lr=-.05526745933972476:lr=.003096257901065188:lr=.013468654879205778:e[90]>1e-35?lr=-.04633994478668718:e[7]>.04507521918085865?e[39]>1e-35?lr=-.011427282692256308:e[188]>1e-35?lr=-.11824461537515621:e[17]>1e-35?e[5]>3.276966702012906?lr=.009014346731620665:lr=-.10784986305366669:e[102]>1e-35?lr=.014356846380168074:e[109]>1e-35?lr=.0100955463134877:e[31]>1e-35?lr=.025672511171270042:e[127]>1e-35?lr=-.10904631172619624:e[19]>1e-35?lr=.007015456473363717:e[60]>1e-35?lr=-.02409044800892067:e[217]>1e-35?e[7]>.9914949911911836?lr=.02334115299069277:e[1]>1e-35?lr=-29013080593250377e-21:lr=.014307421165143329:e[1]>1e-35?e[42]>1e-35?lr=-.06673983904970003:e[37]>1e-35?lr=-.05636396687178933:e[32]>1e-35?lr=-.042854874962508754:e[140]>1e-35?lr=-.014546243613252019:e[119]>1e-35?lr=.02592806792359847:lr=.0008331579108247542:e[12]>1e-35?lr=.004348565717870661:e[195]>1e-35?lr=-.016064193157584304:e[210]>1e-35?lr=-.01896835246692864:e[122]>1e-35?lr=.06415669138405272:e[219]>1e-35?lr=-.03191239858069586:lr=-.0022170295258555585:lr=-.00965022020696389;let fr;e[55]>1e-35?fr=-.04649484416236924:e[6]>1e-35?e[35]>1e-35?fr=-.04814595674860986:e[173]>1e-35?fr=-.030965289355370126:e[190]>1e-35?fr=-.01892908615035444:e[50]>1e-35?fr=-.03023310323845746:e[14]>1e-35?e[134]>1e-35?fr=.029102388421738776:e[217]>1e-35?fr=-.021829759931582565:fr=.005209049556942947:e[90]>1e-35?e[3]>3.276966702012906?fr=.007482519637019732:e[28]>1e-35?fr=.08823476156200263:fr=-.1134870648564767:e[17]>1e-35?e[5]>3.156774023138548?e[3]>2.861792550976191?e[134]>1e-35?fr=.037573808092493166:fr=-.008120569804875069:fr=.015185866424900767:fr=-.10150107137017012:e[39]>1e-35?fr=-.011108691883331833:e[4]>2.4414009612931857?e[123]>1e-35?fr=-.019406534412652932:e[22]>1e-35?fr=-.011646225036274034:e[118]>1e-35?e[1]>1e-35?fr=.007977856608752276:fr=-.038946271309380914:fr=.0009257226566265858:e[101]>1e-35?e[6]>5.769881059461895?fr=-.06484570063989317:fr=.016294764421436982:e[29]>1e-35?e[204]>1e-35?e[5]>5.859359688974663?fr=.036329398743295674:fr=-.20474934656494398:e[4]>1.7005986908310777?fr=-.0005630875641286038:e[5]>3.5694334999727624?e[19]>1e-35?fr=.03322386202318951:fr=-.01687696637036405:fr=-.10533305728771972:fr=-.0004901077590279651:fr=-.05758869249681345;let rr;e[57]>1e-35?rr=-.043478488738181505:e[53]>1e-35?rr=-.05188532777589009:e[11]>1e-35?e[156]>1e-35?rr=-.01733439245316815:e[58]>1e-35?rr=-.03508850349398082:e[134]>1e-35?e[38]>1e-35?e[3]>3.156774023138548?rr=-.02641618586067251:rr=.0053883499998111746:rr=-.04111067521339709:e[46]>1e-35?rr=-.03960880739147387:e[56]>1e-35?rr=.02833430038101972:e[3]>4.548585836935273?rr=-.028156779064728323:rr=-.0006287807275955149:e[105]>1e-35?rr=-.018589321466431944:e[187]>1e-35?e[30]>1e-35?rr=.021938681282791916:rr=-.016917430307970042:e[7]>.015258684697466883?e[132]>1e-35?rr=.026815659384164206:e[204]>1e-35?e[7]>.992067132663463?rr=-.010565408217521758:e[7]>.9738681190948303?e[9]>1e-35?e[30]>1e-35?rr=.09345774314045512:rr=-.003460687191126055:rr=.009778848673591349:rr=.006207652194161698:e[134]>1e-35?e[14]>1e-35?rr=.026940863472122597:rr=.004032635910042969:e[16]>1e-35?e[156]>1e-35?rr=-.014571620220052964:e[219]>1e-35?rr=.03394257525872151:e[189]>1e-35?rr=-.16441255476933125:rr=.006890416623408193:e[7]>.5866799179067689?e[156]>1e-35?e[9]>1e-35?rr=-.002374233797129139:rr=.015343494638416642:rr=.0007085956801478842:rr=-.0014226167854637043:rr=-.014931890774210171;let dr;e[52]>1e-35?dr=-.040552145534119004:e[88]>1e-35?dr=-.11616238297789526:e[147]>1e-35?e[21]>1e-35?dr=.08405882357263977:dr=-.028120036866471673:e[89]>1e-35?dr=.013417411709807947:e[138]>1e-35?e[25]>1e-35?dr=-.03104795267483152:e[8]>1e-35?dr=-.013793892541819341:dr=.007067793368543704:e[3]>4.212100162283537?e[37]>1e-35?dr=-.04169781427571004:e[59]>1e-35?dr=.039366779099462186:e[190]>1e-35?dr=-.0746572875957972:dr=-.0046665287028623895:e[31]>1e-35?e[3]>3.3497501700808394?dr=-.015043885860062665:dr=.04427790295514171:e[127]>1e-35?dr=-.09222397003880911:e[188]>1e-35?dr=-.11791399942046604:e[116]>1e-35?dr=-.022670774074606673:e[21]>1e-35?e[118]>1e-35?dr=-.08590814127371893:dr=-.009079159755287763:e[10]>1e-35?e[153]>1e-35?e[7]>.12025037553499339?dr=-.010834658570263708:dr=-.06942979142484561:e[59]>1e-35?dr=-.0368654965105411:e[186]>1e-35?dr=-.13585047638050318:dr=-.001475385731000911:e[11]>1e-35?e[47]>1e-35?dr=-.07021793045868131:e[58]>1e-35?dr=-.03264322466138671:e[153]>1e-35?e[7]>.4982752029697964?dr=-.000719771928860618:dr=-.02550581685370434:dr=-.001300530189452872:e[216]>1e-35?dr=-.04553949138490546:dr=.0013445292966782988;let Ee;e[152]>1e-35?Ee=.005642349825665321:e[108]>1e-35?e[1]>1e-35?Ee=.012759171568581189:Ee=-.0015650437871311187:e[102]>1e-35?Ee=.012533880283367552:e[10]>1e-35?e[4]>1.4978661367769956?e[7]>.9888588760569341?Ee=.007453521083396632:Ee=-.0036225862281260785:e[3]>.8958797346140276?Ee=-.0027177080775155366:e[5]>5.782284349061034?Ee=-.04454373321655838:Ee=.021964247026786614:e[11]>1e-35?e[47]>1e-35?Ee=-.06196070580382676:e[121]>1e-35?e[1]>1e-35?Ee=-.06122312462911518:e[7]>.3847172300624272?Ee=.03518239795956787:e[3]>2.4414009612931857?Ee=.006811972713764457:Ee=-.0933556055347465:e[5]>4.938058177869999?Ee=-.004012086267764631:Ee=.01930669434547199:e[5]>6.0051201133541365?e[27]>1e-35?Ee=-.012304580143719986:Ee=.0013650712455989071:e[3]>2.802901033147999?Ee=-.0083470520183599:e[7]>.5811983411966435?e[7]>.990877425524446?e[219]>1e-35?e[3]>1e-35?Ee=.06211865200552023:e[17]>1e-35?Ee=.06775644666502018:Ee=-.06866304616688222:e[217]>1e-35?Ee=.059656960273077646:Ee=-.004328630560280456:e[204]>1e-35?e[4]>2.249904835165133?Ee=.006371564018556469:e[3]>2.138333059508028?Ee=.09486061534469152:Ee=-.09409330595635478:e[4]>2.602003343538398?Ee=.011308844028341723:e[100]>1e-35?Ee=.0439316487073224:Ee=-.003403233436702135:Ee=-.00960652384005499;let M;e[144]>1e-35?e[18]>1e-35?M=.07197995497453837:e[1]>1e-35?M=-.001274320993832369:M=-.040032546534329444:e[52]>1e-35?e[18]>1e-35?M=.09098124993319018:M=-.04537404774072243:e[40]>1e-35?M=-.02515534903180516:e[53]>1e-35?M=-.04736675675905027:e[178]>1e-35?M=-.021374380471858013:e[55]>1e-35?M=-.04240162360893064:e[51]>1e-35?e[18]>1e-35?M=.07999652271774131:M=-.036649228565504045:e[109]>1e-35?M=.009067075019741765:e[54]>1e-35?e[1]>1e-35?M=.019160818735605257:M=-.05967997790089002:e[35]>1e-35?M=-.043420689526233285:e[173]>1e-35?M=-.027561163630755333:e[190]>1e-35?M=-.016370101115869642:e[14]>1e-35?e[217]>1e-35?M=-.019735056448517897:e[141]>1e-35?M=-.028090004807030017:M=.006865378253320941:e[139]>1e-35?e[1]>1e-35?M=-.032389864623829076:M=.005458607214221278:e[60]>1e-35?M=-.019089857559617188:e[153]>1e-35?e[18]>1e-35?M=.015189336996079859:e[19]>1e-35?M=.013745154147527805:e[1]>1e-35?M=-.005284271350108698:M=-.0374184512092477:e[18]>1e-35?e[99]>1e-35?M=-.0595395395199616:e[100]>1e-35?M=-.09991342902311327:M=-.0042488091801234805:M=.0006682804828197052;let de;e[46]>1e-35?de=-.012191380765172536:e[88]>1e-35?de=-.10266216005056819:e[91]>1e-35?de=-.018445844031974568:e[50]>1e-35?de=-.027431707051961525:e[144]>1e-35?e[7]>.9945060383544003?de=.03614842925379388:de=-.02095650990295711:e[4]>2.4414009612931857?e[123]>1e-35?e[3]>3.0201273556387074?de=-.01053451990903616:de=-.05114195197878968:e[16]>1e-35?de=.007316468830803533:e[9]>1e-35?de=.003316750172048933:de=860911526134492e-20:e[141]>1e-35?e[3]>1e-35?de=-.02547358042212171:de=.019472890771357998:e[186]>1e-35?de=-.09288424685816356:e[41]>1e-35?de=-.1310231930206974:e[42]>1e-35?de=-.056216247465863484:e[29]>1e-35?e[5]>3.5694334999727624?e[134]>1e-35?de=-.054747915129536466:e[1]>1e-35?e[131]>1e-35?de=-.16815706432319097:de=-.002818043413853223:de=-.041951940639575136:e[7]>.960816451500545?e[219]>1e-35?de=.10052885656939581:de=-.11599835225683999:de=.029922858316313545:e[101]>1e-35?e[5]>7.429817490674132?de=-.06576516230122952:de=-.0008540865426696243:e[210]>1e-35?e[114]>1e-35?de=.013062456952379193:e[7]>.7267616382562012?de=.0022613700798703854:de=-.03938763940013096:e[59]>1e-35?e[12]>1e-35?de=.008501036224046256:de=-.06542467236134167:de=.002585754319607976;let ye;e[28]>1e-35?ye=.008779900390406317:e[7]>.9880960409521241?e[8]>1e-35?ye=-.008991654120695218:e[3]>1e-35?e[140]>1e-35?ye=-.02731072195122447:ye=.002008744895602654:e[217]>1e-35?ye=.02359361264236281:ye=.007024522001417586:e[2]>2.138333059508028?e[3]>2.4414009612931857?e[125]>1e-35?ye=-.04199133736767654:e[47]>1e-35?ye=-.027561033349225085:e[3]>4.085941003063911?e[12]>1e-35?ye=.007807873722550442:e[152]>1e-35?ye=.030689318204494505:e[137]>1e-35?ye=.06699720359975746:ye=-.010441301216813357:e[118]>1e-35?ye=-.03153852460438172:e[48]>1e-35?ye=-.03440026517387997:ye=.0015296602873888215:e[0]>1e-35?e[2]>6.607325405747152?ye=-.027110120892630915:e[153]>1e-35?ye=-.017016088064422574:ye=-.005723165911539293:e[187]>1e-35?ye=-.031718114891806884:ye=-.0005272212291525389:e[0]>1e-35?e[2]>.8958797346140276?e[46]>1e-35?ye=-.09171631422683799:ye=.003327268948098216:e[3]>2.3502401828962087?e[125]>1e-35?ye=-.5887915327321841:e[2]>1e-35?ye=-.006637502258168407:ye=-.08424468641004934:e[125]>1e-35?ye=-.06617256968162606:ye=.028846174454930092:e[2]>1.2424533248940002?e[15]>1e-35?ye=-.016616715415331784:ye=.002680237807803091:e[3]>1e-35?ye=-.0012589163812412535:ye=-.015154395987664649;let Y;e[6]>9.286096980078398?e[4]>2.970085626360216?Y=-.001155963563974424:Y=-.011949331884445141:e[6]>6.3071868642287745?e[2]>5.150393035655617?Y=-.0033183579364470086:e[11]>1e-35?Y=-.0018887492076874403:e[169]>1e-35?Y=-.09486398911649394:Y=.0025252552927441433:e[4]>3.0677824455408698?e[7]>.09963982551990838?e[141]>1e-35?e[6]>3.314020688089767?Y=.012137569190879735:Y=.09584425242224671:e[8]>1e-35?e[7]>.987306237235768?e[2]>.8958797346140276?Y=-.020817404206469048:Y=-.06464699261956137:Y=-.008121005894366425:Y=-.002273798477153842:e[4]>3.5114340430413216?Y=-.024199637055494112:Y=-.0044500308011184275:e[12]>1e-35?Y=-.00483411782477681:e[5]>3.156774023138548?e[8]>1e-35?e[5]>3.772694874805912?e[6]>3.795426061844291?Y=.0013628724281773107:Y=-.04205266437322089:e[141]>1e-35?e[4]>2.861792550976191?e[5]>3.417592293073651?Y=-.15445392240959782:e[2]>2.970085626360216?Y=-.5683130345409004:Y=-1.2639522532467855:Y=-.12861577169349267:Y=-.08527127841498366:e[4]>2.4414009612931857?e[7]>.29163353806150266?Y=.003881870206848933:Y=.01474849027472377:e[18]>1e-35?e[219]>1e-35?Y=-.07387984252991263:Y=-.013089382916580447:Y=-.0008129634296833813:e[3]>2.3502401828962087?e[2]>3.1132683346437333?Y=.019943967048858428:Y=-.04278248600927625:e[17]>1e-35?Y=-.11809979934412335:Y=.03777084692378827;let L;e[57]>1e-35?L=-.03805766278012468:e[6]>9.286096980078398?e[2]>3.725620842493839?L=-.010152097691926694:L=-.000726856757223527:e[25]>1e-35?e[4]>2.917405368531303?e[6]>4.226807104886684?e[5]>8.866229029069968?L=.016965184252348844:L=-.027524673351863413:L=-.09999982742666325:e[219]>1e-35?L=-.11642840619184194:e[6]>3.1984648276080736?L=.02202934385365115:L=-.0758508504188626:e[17]>1e-35?e[5]>3.276966702012906?e[3]>2.861792550976191?e[38]>1e-35?L=.03529859841404316:L=-.005442656204983076:L=.013832633319757828:L=-.07099090377505678:e[40]>1e-35?e[12]>1e-35?L=.020780509349314687:L=-.0412229778697227:e[178]>1e-35?e[6]>4.832297822126891?L=-.012751356404573045:L=-.07365946414911166:e[6]>1e-35?e[91]>1e-35?L=-.018973855754862178:e[31]>1e-35?e[3]>3.3497501700808394?L=-.019342018507399077:L=.04336755184633714:e[52]>1e-35?L=-.034601279556920723:e[53]>1e-35?L=-.04570921257037347:e[4]>2.4414009612931857?e[22]>1e-35?L=-.009909029766665835:e[88]>1e-35?L=-.13759996623650647:L=.0010774168904012999:e[90]>1e-35?L=-.09942790916464699:e[5]>8.17933999189099?L=-.006237804261380787:e[154]>1e-35?L=-.02869365685254793:e[41]>1e-35?L=-.11951308633255478:L=.0005720279396045617:L=-.05091927304878396;let Te;e[2]>8.18910569469239?Te=-.011281718118735835:e[2]>8.136957041085973?Te=.007639929297282146:e[2]>6.178980383851587?Te=-.006867711027875817:e[6]>4.5379471377116305?e[125]>1e-35?e[3]>1e-35?Te=-.026657037414316055:Te=.03822052894720058:e[89]>1e-35?Te=.01442240494610187:Te=.0005482931472826037:e[3]>2.970085626360216?e[8]>1e-35?Te=-.04157937378268839:e[25]>1e-35?Te=-.07438346384769444:Te=-.007688780027797844:e[113]>1e-35?e[24]>1e-35?Te=.10208422768618285:Te=-.0025376848550412623:e[24]>1e-35?e[209]>1e-35?e[7]>.9738681190948303?Te=-.18081467351794253:Te=.06403272706376394:Te=-.006045919721112658:e[100]>1e-35?e[3]>1.4978661367769956?Te=-.034372452343283254:e[3]>1.2424533248940002?Te=.10087241747333926:Te=-.06270133551905664:e[12]>1e-35?e[209]>1e-35?Te=.02872327658284419:Te=-.012940407270969699:e[5]>3.276966702012906?e[8]>1e-35?Te=-.02165149142042258:e[3]>2.249904835165133?Te=.011522668417532612:Te=-.005129494488342788:e[3]>2.3502401828962087?e[2]>3.1132683346437333?Te=.018894357520732635:Te=-.03443967069634786:e[19]>1e-35?e[0]>1e-35?Te=.0868126244943877:e[2]>1.4978661367769956?e[194]>1e-35?Te=-.16834554324370338:Te=.08799302490518951:Te=.007907573815540844:e[17]>1e-35?Te=-.07843101628051594:Te=.04322926522720053;let Ue;e[7]>.987306237235768?e[8]>1e-35?e[5]>6.285066127789834?Ue=6536595256810364e-20:e[153]>1e-35?Ue=-.07687008855803332:Ue=-.015088524832702519:e[18]>1e-35?Ue=-.012556097563484098:e[217]>1e-35?e[5]>8.28387302567733?Ue=-.004574660978375117:Ue=.02566519458840368:Ue=.003837771337656032:e[28]>1e-35?e[194]>1e-35?e[29]>1e-35?e[5]>3.979637980058199?Ue=.04675774128546983:Ue=-.16922871147253024:e[5]>5.821564412917691?Ue=.017788548280824237:Ue=.101599048954043:e[5]>4.424828703319957?Ue=.009470487487627452:Ue=-.046977132290520585:e[95]>1e-35?Ue=.008579165333164537:e[204]>1e-35?e[7]>.9782662069407232?e[9]>1e-35?Ue=.0717824359443052:Ue=.01776258010455891:Ue=.003970948558978321:e[208]>1e-35?e[1]>1e-35?Ue=.012428835257375037:e[18]>1e-35?Ue=-.08152843296689005:Ue=-.0059907248803252305:e[109]>1e-35?Ue=.008117980905290326:e[89]>1e-35?e[1]>1e-35?Ue=-.08097766993639294:Ue=.014258345453663996:e[62]>1e-35?Ue=.025185598552042956:e[213]>1e-35?Ue=.01261362855232781:e[138]>1e-35?e[1]>1e-35?e[29]>1e-35?Ue=.004355449069502461:Ue=-.03327693117307522:e[29]>1e-35?Ue=-.024228224306581475:e[5]>5.244385543610066?Ue=.01690188327986934:Ue=-.02426164440751183:Ue=-.0016932467092565535;let xt;e[116]>1e-35?xt=-.018106356667092538:e[24]>1e-35?e[113]>1e-35?e[5]>4.658699722134796?xt=-.0289267666661116:xt=.10225466717059267:e[5]>3.979637980058199?xt=.007715497036238576:e[209]>1e-35?xt=-.1596622066794057:xt=-.02153459011172981:e[46]>1e-35?e[18]>1e-35?xt=.044010040060630896:xt=-.018791912393741998:e[39]>1e-35?xt=-.008648992983623099:e[3]>4.993822430271426?xt=-.01442291433054286:e[158]>1e-35?xt=.023944934429097977:e[21]>1e-35?xt=-.008731676115726167:e[51]>1e-35?e[18]>1e-35?xt=.07015276907667169:xt=-.03981801316250594:e[152]>1e-35?e[12]>1e-35?e[7]>.9811887196001154?xt=.025342984951627335:e[56]>1e-35?xt=-.039652717595259894:xt=-.003499774006708361:e[4]>3.676220550121792?xt=.026612369959601385:e[0]>1e-35?e[2]>2.012675845367575?xt=.012259156005894655:xt=.04466570041636591:xt=.002369030228609974:e[50]>1e-35?xt=-.02625338435100237:e[198]>1e-35?e[5]>3.156774023138548?e[4]>2.602003343538398?xt=.004706524615587467:xt=.03172381727140614:xt=-.08877100979833137:e[19]>1e-35?e[156]>1e-35?xt=.047690620764284854:xt=.004980692597287184:e[188]>1e-35?xt=-.10330323519600788:e[108]>1e-35?xt=.006389080836282864:e[217]>1e-35?xt=.0034861135133741716:xt=-.0005184951270632008;let Wt;e[150]>1e-35?Wt=-.03083355660591381:e[6]>8.681774988134558?e[0]>1e-35?Wt=.0032708551521722813:e[3]>2.970085626360216?Wt=-.0008773771112515323:Wt=-.008194765714031488:e[1]>1e-35?e[42]>1e-35?Wt=-.0544661644610188:e[114]>1e-35?Wt=.014743200719322279:e[25]>1e-35?Wt=-.03415156332118204:e[121]>1e-35?e[0]>1e-35?Wt=-.012241568524042012:Wt=-.08332027167107449:e[119]>1e-35?Wt=.02487058944439717:e[210]>1e-35?e[4]>2.602003343538398?Wt=.003409540133128587:e[7]>.985694415330804?Wt=.014360134818665793:Wt=-.029939754177999198:e[140]>1e-35?e[30]>1e-35?Wt=-.07017324311241228:Wt=-.00954038893956995:e[32]>1e-35?Wt=-.0321895511220355:Wt=.0018389054792352236:e[3]>.8958797346140276?e[138]>1e-35?Wt=.014210083256713822:e[3]>2.970085626360216?e[56]>1e-35?Wt=.03179391063657913:e[132]>1e-35?Wt=.044860161753142676:e[122]>1e-35?Wt=.056053352587009365:e[44]>1e-35?Wt=.011126140459263092:e[217]>1e-35?Wt=.015177735064648389:e[30]>1e-35?Wt=.00292550151642784:e[0]>1e-35?Wt=-.01370614277688821:Wt=-.00467240699644943:e[30]>1e-35?e[17]>1e-35?Wt=.06455607454604466:Wt=-.018525791968354337:e[127]>1e-35?Wt=.058525937257934674:Wt=.004550050432870272:Wt=-.024273015893662056;let Nt;e[57]>1e-35?Nt=-.03433295479723807:e[35]>1e-35?Nt=-.039185287251387806:e[2]>8.18910569469239?Nt=-.01005594457537474:e[2]>8.136957041085973?Nt=.006899889609485921:e[2]>5.6542404955442525?e[156]>1e-35?Nt=-.021428903659715646:Nt=-.003794036359277691:e[6]>4.3882378946731615?e[125]>1e-35?Nt=-.012625422706971806:e[0]>1e-35?e[2]>.8958797346140276?e[32]>1e-35?Nt=.024078606665492636:e[6]>6.9309832857755405?e[2]>2.012675845367575?Nt=.00015676395930232578:Nt=.008324926956588046:Nt=-.0031526636810443134:e[156]>1e-35?Nt=.053603289446623514:e[6]>5.912149824839399?Nt=.022861200347258755:e[128]>1e-35?e[9]>1e-35?Nt=-.44322676747225076:Nt=-.07989645752877887:Nt=.005736631305989689:e[6]>9.286096980078398?Nt=-.005302861539231229:e[133]>1e-35?Nt=-.011410750972764748:e[2]>1e-35?e[139]>1e-35?Nt=-.01695599188677891:e[12]>1e-35?e[129]>1e-35?Nt=-.029257180272820173:e[106]>1e-35?Nt=.03593102425808264:e[59]>1e-35?Nt=.03336711951593411:e[114]>1e-35?Nt=.021293721644930708:Nt=.0031644417228525465:e[140]>1e-35?e[2]>2.802901033147999?Nt=.005338088459754211:Nt=-.018863893195455395:e[59]>1e-35?e[20]>1e-35?Nt=-.2145461556048109:Nt=-.013833058686928565:Nt=.0010745795613665528:Nt=-.003974960846380726:Nt=-.004018386137909663;let ir;e[55]>1e-35?ir=-.038436881673730244:e[49]>1e-35?e[1]>1e-35?ir=.013340924551504776:ir=-.04038081752369706:e[135]>1e-35?e[17]>1e-35?ir=.02160784630817418:e[6]>4.722943345003718?e[2]>3.9981586158983733?ir=-.012347824466576033:ir=-.000545766507983511:e[4]>3.0201273556387074?e[2]>1e-35?ir=-.0252070573488502:ir=-.13173630032620282:ir=.009893647988200364:e[6]>1e-35?e[73]>1e-35?ir=-.05384174968342247:e[52]>1e-35?e[1]>1e-35?ir=.02326718288961822:ir=-.04799167043714381:e[7]>.8453853180651066?e[4]>3.481121732133104?e[12]>1e-35?e[59]>1e-35?ir=.061286381265316374:e[3]>3.481121732133104?ir=.005424469650470853:e[6]>4.310776603370241?ir=.014609485744972962:ir=.06126754321077295:e[156]>1e-35?e[2]>8.898092196194755?ir=-.2427431056579565:ir=.018014774163852717:ir=.0018695162213364096:e[61]>1e-35?ir=-.07802947082997094:e[45]>1e-35?ir=-.024426413301391545:e[140]>1e-35?e[4]>.8958797346140276?ir=-.021126260874271455:e[6]>4.03420147928485?ir=-.08415757514826445:e[3]>1e-35?ir=.10708927158160722:ir=-.24178647896179492:ir=.0008522369825914582:e[218]>1e-35?ir=.02373187641553724:e[57]>1e-35?ir=-.04729470896114382:e[6]>4.135134555718313?ir=-.00014270136560779048:ir=-.007024429214918294:ir=-.08338039048086893;let ar;e[72]>1e-35?ar=.056415744834310104:e[102]>1e-35?ar=.010312560108512227:e[109]>1e-35?ar=.007457767681676636:e[208]>1e-35?e[4]>3.0677824455408698?e[18]>1e-35?ar=-.06595581480202953:ar=.0010087955639505731:ar=.010976237400105874:e[4]>2.4414009612931857?e[123]>1e-35?e[2]>4.5900436644025815?ar=-.05474288807524913:ar=-.010369052951168002:e[47]>1e-35?e[18]>1e-35?ar=.06670108938458437:e[20]>1e-35?ar=.08555144132474565:ar=-.021968528557862133:e[48]>1e-35?e[18]>1e-35?ar=.06392608504748652:ar=-.02321056177872842:e[54]>1e-35?ar=-.03592967725793262:e[6]>5.519456907163478?ar=.0008682946366782881:e[133]>1e-35?ar=-.029370515479889298:e[4]>3.0201273556387074?ar=-.004567764283497172:e[12]>1e-35?ar=-.008355751724201374:e[113]>1e-35?ar=.04158028065835193:ar=.005544170962219649:e[141]>1e-35?ar=-.01706283616408152:e[186]>1e-35?ar=-.08075713781164345:e[196]>1e-35?e[4]>2.012675845367575?ar=-.004591551989937031:e[4]>.8958797346140276?e[18]>1e-35?ar=-.1239344826496822:ar=.026355647530608275:ar=-.07955511774996737:e[41]>1e-35?ar=-.10181506412232362:e[42]>1e-35?ar=-.0453542732395041:e[116]>1e-35?ar=-.040407946567398226:e[158]>1e-35?ar=.027239009428531448:ar=-.002118967070037752;let Ut;e[174]>1e-35?Ut=-.02339144841300339:e[173]>1e-35?Ut=-.02466576607302462:e[60]>1e-35?Ut=-.014400177078045:e[187]>1e-35?Ut=-.009580909976967153:e[6]>8.681774988134558?Ut=-.0018832004566674773:e[1]>1e-35?e[42]>1e-35?e[10]>1e-35?Ut=-.13287881120130746:Ut=-.03759084751116859:e[25]>1e-35?Ut=-.029737667621816583:e[119]>1e-35?Ut=.022639692376110337:e[98]>1e-35?Ut=.014991063146855506:e[195]>1e-35?e[6]>3.417592293073651?Ut=.008961268500787772:Ut=-.023240187732927162:e[61]>1e-35?e[7]>.428769371249852?Ut=-.08413653233956772:Ut=.0010489731231787087:e[140]>1e-35?e[3]>.8958797346140276?e[5]>4.855921334140645?e[44]>1e-35?Ut=-.009299863216357543:Ut=-.0613782065666655:Ut=-.06705655672927394:e[5]>3.772694874805912?Ut=.0008635593500817348:Ut=.08361268069705163:Ut=.001087642897550713:e[98]>1e-35?Ut=-.021712258264119783:e[3]>.8958797346140276?e[105]>1e-35?Ut=-.039681509263849626:e[195]>1e-35?e[18]>1e-35?Ut=-.07079074829049314:Ut=-.008109353986158243:e[210]>1e-35?e[18]>1e-35?Ut=-.10610285355896108:Ut=-.009292320249100847:e[157]>1e-35?Ut=.03507595269407085:e[97]>1e-35?Ut=.0249669535461336:e[48]>1e-35?Ut=-.027595291123779366:Ut=.0011643902717306173:Ut=-.0211420439263067;let It;e[138]>1e-35?e[1]>1e-35?e[42]>1e-35?e[3]>3.5114340430413216?It=-.022448598781455772:It=-.07031164685918086:e[2]>1e-35?e[2]>2.740319461670996?It=.00894455632762117:It=-.003454709734759444:e[0]>1e-35?It=.060858110677215166:It=-.03435493609374257:e[3]>2.602003343538398?e[2]>.8958797346140276?It=.0168978378983998:It=-.009237748165804088:It=-.016931758267026403:e[3]>4.424828703319957?It=-.005659352703826067:e[24]>1e-35?e[113]>1e-35?e[6]>4.460127707454046?It=-.023722482692479133:It=.10064484300766507:e[6]>4.03420147928485?It=.007526717802235146:e[209]>1e-35?e[4]>2.970085626360216?It=.11711852031495243:It=-.15067622815741855:It=-.011085192149895408:e[108]>1e-35?It=.0059255171206349135:e[19]>1e-35?e[156]>1e-35?It=.04454460743043898:e[37]>1e-35?It=-.14161163738926447:e[4]>1.4978661367769956?e[4]>1.7005986908310777?e[217]>1e-35?It=-.020705364221039385:It=.006460529078997639:e[0]>1e-35?e[98]>1e-35?It=.10347448218504114:It=-.04090123141769794:e[6]>5.636572136251498?It=-.001212671493834005:e[2]>1.8688348091416842?It=-.15821279618670178:It=-.03563734739460456:It=.027924859655082585:e[57]>1e-35?It=-.03743904649648422:e[35]>1e-35?It=-.0414066369468363:e[46]>1e-35?It=-.011240341460759123:It=-.0003091959047563666;let cr;e[14]>1e-35?e[5]>7.841296344941067?e[141]>1e-35?cr=-.04382809259971909:e[217]>1e-35?e[4]>3.417592293073651?cr=-.05008164665262682:cr=.0007032387608254502:e[190]>1e-35?cr=-.19371592847895003:cr=.0017489801221668277:e[129]>1e-35?cr=-.24591656603456258:cr=.011026730387591234:e[72]>1e-35?cr=.05658163433406649:e[90]>1e-35?e[4]>3.5114340430413216?cr=.017141361021852975:e[28]>1e-35?cr=.07243997319099477:cr=-.08677988948169385:e[138]>1e-35?cr=.0038201430289573884:e[23]>1e-35?e[4]>2.917405368531303?cr=.014990462643385919:cr=-.013592080985068531:e[217]>1e-35?e[4]>1.8688348091416842?cr=.0022421195021632245:e[4]>1.2424533248940002?cr=.03891295508085918:e[4]>.8958797346140276?cr=-.08902318396862074:cr=.02476911275463073:e[2]>3.1132683346437333?e[29]>1e-35?e[19]>1e-35?cr=.023731839695418987:e[5]>7.366761104104307?e[4]>3.417592293073651?e[6]>6.633975895571033?e[8]>1e-35?cr=.016171629088047517:e[134]>1e-35?cr=.03196373735768742:cr=-.006820341969572339:cr=-.02712238491085242:cr=-.016309188486296804:cr=-.0019386576944297078:e[156]>1e-35?cr=-.03079416196682616:e[123]>1e-35?cr=-.020888866054988395:e[4]>3.238486181444842?cr=-.0027078359220281674:e[141]>1e-35?cr=-.029581214969996845:cr=.002299670778244013:cr=.0001804027795430786;let zo=I0t(t+r+n+i+s+a+l+c+u+f+m+h+p+g+x+v+E+b+_+R+P+F+G+se+Ae+re+W+q+oe+X+H+O+V+J+ae+te+le+ce+Pe+Ie+Fe+Re+Ge+lt+st+ct+ne+Ne+ge+He+z+ee+Qe+Se+Ce+qe+$e+tt+Ct+Pt+yt+zt+Kt+sr+pe+Me+Ze+rt+kt+bt+Qt+Ot+wt+Rt+_t+qt+Ht+Jt+ur+gr+lr+fr+rr+dr+Ee+M+de+ye+Y+L+Te+Ue+xt+Wt+Nt+ir+ar+Ut+It+cr);return[1-zo,zo]}o(Lbe,"treeScore");function I0t(e){if(e<0){let t=Math.exp(e);return t/(1+t)}return 1/(1+Math.exp(-e))}o(I0t,"sigmoid");var af=class{static{o(this,"ContextualFilterManager")}constructor(){this.previousLabel=0,this.previousLabelTimestamp=Date.now()-3600,this.probabilityAccept=0}};function Qbe(e){let t=e.split(`
`);return t[t.length-1].length}o(Qbe,"getLastLineLength");function Mbe(e,t,r){let n=e.get(af),i=n.previousLabel,s=0;"afterCursorWhitespace"in t.properties&&t.properties.afterCursorWhitespace==="true"&&(s=1);let a=(Date.now()-n.previousLabelTimestamp)/1e3,l=Math.log(1+a),c=0,u=0,f=r.prefix;if(f){c=Math.log(1+Qbe(f));let R=f.slice(-1);Z0[R]!==void 0&&(u=Z0[R])}let m=0,h=0,p=f.trimEnd();if(p){m=Math.log(1+Qbe(p));let R=p.slice(-1);Z0[R]!==void 0&&(h=Z0[R])}let g=0;if("documentLength"in t.measurements){let R=t.measurements.documentLength;g=Math.log(1+R)}let x=0;if("promptEndPos"in t.measurements){let R=t.measurements.promptEndPos;x=Math.log(1+R)}let v=0;if("promptEndPos"in t.measurements&&"documentLength"in t.measurements){let R=t.measurements.documentLength;v=(t.measurements.promptEndPos+.5)/(1+R)}let E=0;Vee[t.properties.languageId]!==void 0&&(E=Vee[t.properties.languageId]);let b=0,_=new Array(221).fill(0);return _[0]=i,_[1]=s,_[2]=l,_[3]=c,_[4]=m,_[5]=g,_[6]=x,_[7]=v,_[8+E]=1,_[29+u]=1,_[125+h]=1,b=Lbe(_)[1],e.get(af).probabilityAccept=b,b}o(Mbe,"contextualFilterScore");d();d();d();d();var m_=class{constructor(t){this.node=t;this.children=[];this.collapsed=!1}static{o(this,"StatementNode")}addChild(t){t.parent=this,t.nextSibling=void 0,this.children.length>0&&(this.children[this.children.length-1].nextSibling=t),this.children.push(t)}childrenFinished(){}containsStatement(t){return this.node.startIndex<=t.node.startIndex&&this.node.endIndex>=t.node.endIndex}statementAt(t){if(this.node.startIndex>t||this.node.endIndex<t)return;let r;return this.children.find(n=>(r=n.statementAt(t),r!==void 0)),r??this}collapse(){this.children.length=0,this.collapsed=!0}get description(){return`${this.node.type} ([${this.node.startPosition.row},${this.node.startPosition.column}]..[${this.node.endPosition.row},${this.node.endPosition.column}]): ${JSON.stringify(this.node.text.length>33?this.node.text.substring(0,15)+"..."+this.node.text.slice(-15):this.node.text)}`}dump(t="",r=""){let n=[`${t}${this.description}`];return this.children.forEach(i=>{n.push(i.dump(`${r}+- `,i.nextSibling===void 0?`${r}   `:`${r}|  `))}),n.join(`
`)}dumpPath(t="",r="",n=!1){if(this.parent){let i=this.parent.dumpPath(t,r,!0),s=i.length-i.lastIndexOf(`
`)-1-r.length,a=" ".repeat(s),l=n?`
${r}${a}+- `:"";return i+this.description+l}else{let i=n?`
${r}+- `:"";return t+this.description+i}}},Y1=class{constructor(t,r,n,i){this.languageId=t;this.text=r;this.startOffset=n;this.endOffset=i;this.statements=[]}static{o(this,"StatementTree")}static isSupported(t){return u_.languageIds.has(t)||f_.languageIds.has(t)||d_.languageIds.has(t)}static create(t,r,n,i){if(u_.languageIds.has(t))return new u_(t,r,n,i);if(f_.languageIds.has(t))return new f_(t,r,n,i);if(d_.languageIds.has(t))return new d_(t,r,n,i);throw new Error(`Unsupported languageId: ${t}`)}[Symbol.dispose](){this.tree&&(this.tree.delete(),this.tree=void 0)}clear(){this.statements.length=0}statementAt(t){let r;return this.statements.find(n=>(r=n.statementAt(t),r!==void 0)),r}async build(){let t=[];this.clear();let r=await this.parse();this.getStatementQuery(r).captures(r.rootNode,this.offsetToPosition(this.startOffset),this.offsetToPosition(this.endOffset)).forEach(i=>{let s=this.createNode(i.node);for(;t.length>0&&!t[0].containsStatement(s);)t.shift()?.childrenFinished();t.length>0?t[0].addChild(s):this.addStatement(s),t.unshift(s)}),t.forEach(i=>i.childrenFinished())}addStatement(t){t.parent=void 0,t.nextSibling=void 0,this.statements.length>0&&(this.statements[this.statements.length-1].nextSibling=t),this.statements.push(t)}async parse(){return this.tree||(this.tree=await W1(this.languageId,this.text)),this.tree}getStatementQuery(t){return this.getQuery(t.getLanguage(),this.getStatementQueryText())}getQuery(t,r){return t.query(r)}offsetToPosition(t){let r=this.text.slice(0,t).split(`
`),n=r.length-1,i=r[r.length-1].length;return{row:n,column:i}}dump(t=""){let r=[];return this.statements.forEach((n,i)=>{let s=`[${i}]`,a=" ".repeat(s.length);r.push(n.dump(`${t} ${s} `,`${t} ${a} `))}),r.join(`
`)}},$ee=class e extends m_{static{o(this,"JSStatementNode")}static{this.compoundTypeNames=new Set(["function_declaration","generator_function_declaration","class_declaration","statement_block","if_statement","switch_statement","for_statement","for_in_statement","while_statement","do_statement","try_statement","with_statement","labeled_statement","method_definition","interface_declaration"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"||this.node.startPosition.row!==this.node.endPosition.row?!1:this.children.length===1&&this.children[0].node.type!=="statement_block"||this.children.length===2&&this.node.childForFieldName("else")!==null&&this.children[0].node.type!=="statement_block"&&this.children[1].node.type!=="statement_block"}},u_=class extends Y1{static{o(this,"JSStatementTree")}static{this.languageIds=new Set(["javascript","javascriptreact","jsx","typescript","typescriptreact"])}createNode(t){return new $ee(t)}getStatementQueryText(){return`[
            (export_statement)
            (import_statement)
            (debugger_statement)
            (expression_statement)
            (declaration)
            (statement_block)
            (if_statement)
            (switch_statement)
            (for_statement)
            (for_in_statement)
            (while_statement)
            (do_statement)
            (try_statement)
            (with_statement)
            (break_statement)
            (continue_statement)
            (return_statement)
            (throw_statement)
            (empty_statement)
            (labeled_statement)
            (method_definition)
            (public_field_definition)
        ] @statement`}},zee=class e extends m_{static{o(this,"PyStatementNode")}static{this.compoundTypeNames=new Set(["if_statement","for_statement","while_statement","try_statement","with_statement","function_definition","class_definition","decorated_definition","match_statement","block"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"?!1:this.node.startPosition.row===this.node.endPosition.row}},f_=class extends Y1{static{o(this,"PyStatementTree")}static{this.languageIds=new Set(["python"])}createNode(t){return new zee(t)}getStatementQueryText(){return`[
            (future_import_statement)
            (import_statement)
            (import_from_statement)
            (print_statement)
            (assert_statement)
            (expression_statement)
            (return_statement)
            (delete_statement)
            (raise_statement)
            (pass_statement)
            (break_statement)
            (continue_statement)
            (global_statement)
            (nonlocal_statement)
            (exec_statement)
            (if_statement)
            (for_statement)
            (while_statement)
            (try_statement)
            (with_statement)
            (function_definition)
            (class_definition)
            (decorated_definition)
            (match_statement)
            (block)
        ] @statement`}},Yee=class e extends m_{static{o(this,"GoStatementNode")}static{this.compoundTypeNames=new Set(["function_declaration","method_declaration","if_statement","for_statement","expression_switch_statement","type_switch_statement","select_statement","block"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}},d_=class extends Y1{static{o(this,"GoStatementTree")}static{this.languageIds=new Set(["go"])}createNode(t){return new Yee(t)}getStatementQueryText(){return`[
            (package_clause)
            (function_declaration)
            (method_declaration)
            (import_declaration)
            (_statement)
            (block)
        ] @statement`}};var d5=class{constructor(t,r,n){this.languageId=t;this.prefix=r;this.completion=n}static{o(this,"BlockTrimmer")}static isSupported(t){return Y1.isSupported(t)}async withParsedStatementTree(t){var n=[];try{let r=zz(n,Y1.create(this.languageId,this.prefix+this.completion,this.prefix.length,this.prefix.length+this.completion.length));await r.build();return await t(r)}catch(i){var s=i,a=!0}finally{Yz(n,s,a)}}trimmedCompletion(t){return t===void 0?this.completion:this.completion.substring(0,t)}getStatementAtCursor(t){return t.statementAt(Math.max(this.prefix.length-1,0))??t.statements[0]}getContainingBlockOffset(t){let r;if(t&&this.isCompoundStatement(t))r=t;else if(t){let n=t.parent;for(;n&&!this.isCompoundStatement(n);)n=n.parent;r=n}if(r){let n=this.asCompletionOffset(r.node.endIndex);if(n&&this.completion.substring(n).trim()!=="")return n}}hasNonStatementContentAfter(t){if(!t||!t.nextSibling)return!1;let r=this.asCompletionOffset(t.node.endIndex),n=this.asCompletionOffset(t.nextSibling.node.startIndex);return this.completion.substring(Math.max(0,r??0),Math.max(0,n??0)).trim()!==""}asCompletionOffset(t){return t===void 0?void 0:t-this.prefix.length}isCompoundStatement(t){return t.isCompoundStatementType||t.children.length>0}};var OQ=class extends d5{constructor(r,n,i,s=3,a=7){super(r,n,i);this.lineLimit=s;this.lookAhead=a;let l=[...this.completion.matchAll(/\n/g)],c=this.lineLimit+this.lookAhead;l.length>=this.lineLimit&&this.lineLimit>0&&(this.limitOffset=l[this.lineLimit-1].index),l.length>=c&&c>0&&(this.lookAheadOffset=l[c-1].index)}static{o(this,"TerseBlockTrimmer")}async getCompletionTrimOffset(){return await this.withParsedStatementTree(async r=>{let n=r.statementAt(this.stmtStartPos()),i=this.getContainingBlockOffset(n);return i=this.trimAtFirstBlankLine(i),n&&(i=this.trimAtStatementChange(n,i)),this.limitOffset&&this.lookAheadOffset&&(i===void 0||i>this.lookAheadOffset)?this.limitOffset:i})}stmtStartPos(){let r=this.completion.match(/\S/);return r&&r.index!==void 0?this.prefix.length+r.index:Math.max(this.prefix.length-1,0)}trimAtFirstBlankLine(r){let n=[...this.trimmedCompletion(r).matchAll(/\r?\n\s*\r?\n/g)];for(;n.length>0&&(r===void 0||r>n[0].index);){let i=n.shift();if(this.completion.substring(0,i.index).trim()!=="")return i.index}return r}trimAtStatementChange(r,n){let i=this.prefix.length,s=this.prefix.length+(n??this.completion.length);if(r.node.endIndex>i&&this.isCompoundStatement(r))return r.nextSibling&&r.node.endIndex<s?this.asCompletionOffset(r.node.endIndex):n;let a=r,l=r.nextSibling;for(;l&&l.node.endIndex<=s&&!this.hasNonStatementContentAfter(a)&&!this.isCompoundStatement(l);)a=l,l=l.nextSibling;return l&&a.node.endIndex>i&&a.node.endIndex<s?this.asCompletionOffset(a.node.endIndex):n}};async function Obe(e,t){var l=[];try{let r=e.getText();let n=e.offsetAt(t);let i=zz(l,Y1.create(e.detectedLanguageId,r,0,r.length));await i.build();let s=i.statementAt(n);if(!s)return"non-block";if(!s.isCompoundStatementType&&s.children.length===0)return s.parent&&!s.nextSibling&&s.node.endPosition.row<=t.line?"block-end":s.parent?"mid-block":"non-block";if(s.children.length===0)return"empty-block";let a=s.children[s.children.length-1];if(n<a.node.startIndex)return"mid-block";return"block-end"}catch(c){var u=c,f=!0}finally{Yz(l,u,f)}}o(Obe,"getBlockPositionType");d();d();function Ube(e){let t;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>427.50000000000006?e[9]>13.500000000000002?e[121]>1e-35?t=-.3793786744885956:e[149]>1e-35?t=-.34717430705356905:t=-.26126834451035963:t=-.2431318366096852:e[5]>888.5000000000001?t=-.20600463586387135:t=-.2568037008471491:e[308]>1e-35?t=-.2363064824497454:e[8]>370.50000000000006?t=-.37470755210284723:t=-.321978453730494:e[3]>24.500000000000004?e[23]>1e-35?e[131]>1e-35?t=-.26259136509758885:t=-.3096719634039438:e[4]>30.500000000000004?e[9]>18.500000000000004?t=-.34254903852890883:e[2]>98.50000000000001?t=-.41585250791146294:t=-.3673574858887241:e[9]>6.500000000000001?t=-.31688079287876225:e[31]>1e-35?t=-.29110977864003823:e[308]>1e-35?t=-.3201411739040839:t=-.36874023066055506:e[8]>691.5000000000001?e[82]>1e-35?t=-.41318393149040566:e[133]>1e-35?t=-.3741272613525161:e[32]>1e-35?t=-.4112378041027121:e[227]>1e-35?t=-.37726615155719356:e[10]>3.5000000000000004?t=-.3164502293560397:t=-.2930071546509045:e[9]>13.500000000000002?t=-.277366858539218:e[308]>1e-35?e[4]>10.500000000000002?t=-.30975610686807187:e[4]>1.5000000000000002?t=-.2549142136728043:t=-.3271325650785176:e[127]>1e-35?e[0]>1937.5000000000002?t=-.2533046188098832:t=-.325520883579:t=-.331628896481776;let r;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>546.5000000000001?e[9]>13.500000000000002?r=.031231253521808708:r=.05380836288014532:e[5]>423.00000000000006?e[8]>114.50000000000001?r=.06751619128429062:r=.09625089153176467:r=.027268163053989804:e[308]>1e-35?r=.060174483556283756:r=-.049062854038919135:e[3]>24.500000000000004?e[23]>1e-35?e[4]>63.50000000000001?r=-.03969241799174589:r=.01086816842550381:e[31]>1e-35?r=-.003284694817583201:e[9]>6.500000000000001?e[4]>30.500000000000004?r=-.04224490699947552:r=-.011834162944360616:e[308]>1e-35?e[32]>1e-35?r=-.13448447971850278:r=-.019569456707046823:e[19]>1e-35?e[9]>1.5000000000000002?r=-.07256260662659254:e[4]>60.50000000000001?r=-.08227503453609311:r=-.020596416747563847:r=-.07396549241564149:e[8]>691.5000000000001?e[82]>1e-35?r=-.10046536995362734:e[133]>1e-35?r=-.06407649822752297:e[225]>1e-35?r=.08035785003303324:e[92]>1e-35?r=.018901360933204676:e[20]>1e-35?r=.05252546973665552:e[8]>2592.5000000000005?r=-.040543705016462955:r=-.011236043818320725:e[9]>17.500000000000004?r=.025560632674895334:e[308]>1e-35?e[0]>1847.5000000000002?r=.03527165701669741:r=-.0071847350825815035:e[127]>1e-35?r=.024373016379595405:e[9]>2.5000000000000004?r=-.0035090719709448288:r=-.03514829488063766;let n;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>546.5000000000001?n=.03848674861536988:e[5]>423.00000000000006?e[8]>114.50000000000001?e[9]>56.50000000000001?n=-.003764520033319488:n=.06570817919969299:e[4]>61.50000000000001?n=.028346156293069538:n=.0908154644362606:n=.02445594243234816:e[308]>1e-35?e[8]>65.50000000000001?n=.0019305229020073053:n=.09279357295883772:n=-.04458984161917124:e[3]>24.500000000000004?e[23]>1e-35?n=.0027405390271277013:e[4]>29.500000000000004?e[52]>1e-35?n=.044727478132905285:e[115]>1e-35?n=.10245804828855934:e[9]>17.500000000000004?n=-.03353173647469207:e[2]>98.50000000000001?n=-.10048106638102179:n=-.05484231104348874:e[31]>1e-35?n=.016807537467116516:e[9]>6.500000000000001?n=-.012113620535295137:e[4]>8.500000000000002?e[308]>1e-35?n=-.01882594250504289:n=-.05585658862796076:n=.04279591277938338:e[8]>691.5000000000001?e[82]>1e-35?n=-.09262278043707878:e[133]>1e-35?n=-.058454257768893625:e[32]>1e-35?n=-.09769348447126434:e[25]>1e-35?n=-.0725430043727677:e[122]>1e-35?n=-.10047841601578077:n=-.00580671054458958:e[9]>13.500000000000002?n=.021399199032818294:e[308]>1e-35?e[4]>10.500000000000002?n=-.0076376731757173515:n=.03394923033036848:e[127]>1e-35?n=.02070489091204209:n=-.02290162726126496;let i;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>892.5000000000001?e[9]>21.500000000000004?i=.010230295672324606:i=.038540509248742805:e[8]>125.50000000000001?e[1]>49.50000000000001?i=.03086356292895467:i=.057128750867458604:e[5]>888.5000000000001?i=.07861602941396924:i=.030523262699070908:e[308]>1e-35?i=.048236117667577356:e[8]>370.50000000000006?i=-.05642125069212264:i=-.007232836777168195:e[3]>24.500000000000004?e[23]>1e-35?e[131]>1e-35?i=.03640661467213915:i=-.005889820723907028:e[31]>1e-35?i=-.0009007166998276938:e[9]>6.500000000000001?i=-.022590340093882378:e[308]>1e-35?e[32]>1e-35?i=-.1215445089091064:i=-.01435612266219722:e[19]>1e-35?e[9]>1.5000000000000002?i=-.061555513040777825:e[4]>60.50000000000001?i=-.07053475504569347:i=-.013733369453963092:i=-.06302097189114152:e[227]>1e-35?i=-.05820440333190048:e[8]>683.5000000000001?e[82]>1e-35?i=-.08466979526809346:e[10]>24.500000000000004?i=-.017092159721119944:e[92]>1e-35?i=.03592901452463749:i=-.00359310519524756:e[5]>1809.5000000000002?e[243]>1e-35?i=-.03963116207386097:e[118]>1e-35?i=-.09483996283536394:e[217]>1e-35?i=-.03394542089519989:e[242]>1e-35?i=-.07985899422287938:i=.019706602160656964:e[9]>12.500000000000002?i=.014072998937735146:i=-.021156294523894684;let s;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>892.5000000000001?e[9]>21.500000000000004?s=.009197756540516563:s=.03458896869535166:e[5]>5082.500000000001?s=.08265545468131008:e[131]>1e-35?s=.0740738432473315:s=.045159136632942756:e[8]>319.50000000000006?s=-.04653401534465376:e[7]>3.5000000000000004?e[0]>1230.5000000000002?e[0]>2579.5000000000005?s=-.011400839766681709:s=.11149800187510031:s=-.08683250977599462:s=.08355310136724753:e[4]>23.500000000000004?e[23]>1e-35?e[131]>1e-35?s=.040389083779932555:s=-.009887614274108602:e[52]>1e-35?s=.03705353499757327:e[9]>6.500000000000001?s=-.025401260429257562:e[2]>98.50000000000001?s=-.09237673187534504:s=-.04298556869281803:e[222]>1e-35?s=-.045221965895986184:e[8]>691.5000000000001?e[133]>1e-35?s=-.05435318330148897:e[128]>1e-35?s=-.08672907303184191:e[227]>1e-35?s=-.05568304584186561:e[122]>1e-35?s=-.09623059693538563:e[225]>1e-35?s=.07558331642202279:e[82]>1e-35?s=-.07360566227233566:s=-.005646164647395919:e[242]>1e-35?s=-.08203758341228108:e[9]>13.500000000000002?s=.018726123829696042:e[308]>1e-35?e[4]>10.500000000000002?s=-.011153942154062704:s=.03132858912391067:e[127]>1e-35?s=.021455228822345174:e[23]>1e-35?s=.01959966745346997:s=-.021764790177579325;let a;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>284.50000000000006?e[121]>1e-35?e[18]>1e-35?a=.07547602514276922:a=-.08529678832140396:a=.030314822344598043:e[5]>888.5000000000001?e[4]>61.50000000000001?a=.011143589009415464:a=.0654700456802118:a=.021794712646632755:e[308]>1e-35?a=.04231872551095028:a=-.034381999950549455:e[4]>23.500000000000004?e[23]>1e-35?e[4]>63.50000000000001?a=-.03678981254332261:a=.010518160384496255:e[8]>825.5000000000001?a=-.04506534842082387:e[9]>38.50000000000001?a=.01004983052203438:a=-.030580958620701027:e[39]>1e-35?a=-.12802435021505382:e[8]>691.5000000000001?e[23]>1e-35?e[203]>1e-35?e[4]>6.500000000000001?a=.030426957004611704:a=-.0726407693060581:a=.017395521646964375:e[4]>7.500000000000001?e[0]>93.50000000000001?e[9]>7.500000000000001?a=-.008024349629981291:e[31]>1e-35?a=.01296539930850471:e[308]>1e-35?a=-.012855016509024084:a=-.04564527976851505:a=-.15681420504058596:e[10]>4.500000000000001?e[243]>1e-35?a=-.1012064426380198:a=-.0062808850924854194:a=.030706323726162416:e[9]>13.500000000000002?a=.017081636133736405:e[308]>1e-35?e[4]>10.500000000000002?a=-.009306613091760644:e[4]>1.5000000000000002?a=.03655523200850989:a=-.02671654212893341:e[127]>1e-35?a=.019261510468604387:a=-.017627818570628936;let l;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>892.5000000000001?e[308]>1e-35?l=.036100405995889276:l=.011709313297015793:e[0]>119.50000000000001?e[8]>125.50000000000001?l=.03622542297472574:l=.05595579157301536:l=-.02234751038146796:e[8]>319.50000000000006?l=-.040132029478400735:e[7]>3.5000000000000004?e[0]>1230.5000000000002?e[0]>2579.5000000000005?l=-.009306153573847916:l=.10058509567064988:l=-.0785668890966017:e[9]>28.500000000000004?l=-.04781977604130416:l=.09753292614937459:e[4]>23.500000000000004?e[131]>1e-35?l=.02372493254975127:e[148]>1e-35?l=.028103095989516644:e[4]>58.50000000000001?e[10]>1e-35?l=-.05000852203469597:l=.02922366846119705:e[23]>1e-35?l=-.0026335076988151292:l=-.03073993752935585:e[222]>1e-35?l=-.03867374428185713:e[32]>1e-35?l=-.07220729365053084:e[39]>1e-35?l=-.11624524614351733:e[8]>691.5000000000001?e[133]>1e-35?l=-.04836360271198036:e[8]>4968.500000000001?l=-.10873681915578029:e[149]>1e-35?l=-.11847484033769298:e[122]>1e-35?l=-.08916172460307559:e[82]>1e-35?l=-.06774726602152634:l=-.0033469147714351327:e[126]>1e-35?l=-.09474445392080015:e[8]>131.50000000000003?e[118]>1e-35?l=-.09002547031023511:l=.015475385187009489:e[25]>1e-35?l=-.08175501232759151:l=-.000429679055394914;let c;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>546.5000000000001?c=.021942996005324917:c=.042349138084484074:e[308]>1e-35?c=.036507270845732874:c=-.028981850556764995:e[3]>24.500000000000004?e[23]>1e-35?c=.00210930790963475:e[31]>1e-35?c=.006825358293027163:e[9]>6.500000000000001?c=-.013772084269062394:e[308]>1e-35?c=-.008307929099892574:e[19]>1e-35?c=-.027706313312904487:c=-.04891108984170914:e[134]>1e-35?c=-.0605730733844732:e[25]>1e-35?c=-.05347926493253117:e[227]>1e-35?c=-.049415829249003666:e[32]>1e-35?c=-.06807799662179595:e[308]>1e-35?e[4]>10.500000000000002?e[2]>13.500000000000002?c=-.00016302718260794637:c=-.10247095758122947:e[210]>1e-35?c=-.022149002072787024:e[95]>1e-35?c=.15222631630626304:c=.027393884520465712:e[9]>7.500000000000001?e[225]>1e-35?c=.13483346577752245:e[3]>9.500000000000002?e[243]>1e-35?c=-.045352728133789516:e[8]>683.5000000000001?c=.00474372227519902:c=.02635476098707525:e[92]>1e-35?c=.05659380819933452:e[105]>1e-35?c=.07431443210341222:e[186]>1e-35?c=.0915821133384904:c=-.016414750130401053:e[127]>1e-35?c=.011824693641866162:e[23]>1e-35?c=.0228468674288774:e[284]>1e-35?c=.06606936863302432:c=-.02872463273902358;let u;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>125.50000000000001?e[288]>1e-35?u=-.019844363904157558:e[1]>50.50000000000001?e[131]>1e-35?u=.044961338592245194:u=.003659599513761676:e[121]>1e-35?u=-.04057103630479994:u=.03158560697078578:e[0]>421.50000000000006?e[4]>61.50000000000001?u=-.0003708603406529278:u=.05331312264472391:u=.0006575958601218936:e[8]>319.50000000000006?u=-.034654694051901545:e[7]>3.5000000000000004?e[0]>1230.5000000000002?e[0]>2579.5000000000005?u=-.0076053515916517005:u=.09116695486305336:u=-.07137458699162028:u=.06633130654035282:e[4]>29.500000000000004?e[23]>1e-35?e[4]>63.50000000000001?u=-.0308520802187302:u=.013156423968295541:e[115]>1e-35?u=.11581171687488252:e[52]>1e-35?e[10]>22.500000000000004?u=.12264179915175587:u=-.021905727233873535:e[8]>799.5000000000001?u=-.04181869575935412:u=-.023695901673350575:e[222]>1e-35?u=-.034612899265371776:e[8]>691.5000000000001?e[9]>98.50000000000001?u=-.06892116536821917:e[149]>1e-35?u=-.11194586444154514:e[133]>1e-35?u=-.04269583234000504:e[128]>1e-35?u=-.0644631966969502:e[8]>4968.500000000001?u=-.09650726096330133:u=-.004219129180139438:e[126]>1e-35?u=-.08038306745347751:e[5]>1809.5000000000002?u=.009265335288169993:e[9]>2.5000000000000004?u=.006447645462117438:u=-.021047132609551503;let f;e[13]>1e-35?e[3]>1.5000000000000002?e[9]>21.500000000000004?e[121]>1e-35?f=-.08436540015142402:e[8]>1861.5000000000002?f=-.01621425699342421:f=.01878613821895428:f=.031052879158242532:e[8]>319.50000000000006?f=-.031536619360997865:e[7]>3.5000000000000004?f=-.004510586962343298:f=.0596524941011746:e[4]>18.500000000000004?e[23]>1e-35?f=.004757490541310808:e[9]>6.500000000000001?f=-.008842393772207996:e[31]>1e-35?f=.0010536183837006993:e[308]>1e-35?f=-.008145882815435419:e[2]>98.50000000000001?f=-.08404937622173021:e[276]>1e-35?f=.0020072791321856663:e[19]>1e-35?f=-.023031820639490178:f=-.04553314326377875:e[8]>2134.5000000000005?f=-.02244583113572251:e[134]>1e-35?f=-.05592137394753121:e[308]>1e-35?e[49]>1e-35?f=.09989109704064947:e[4]>10.500000000000002?e[2]>13.500000000000002?f=-.00447733056482096:f=-.10191061664873849:f=.021765308380331864:e[9]>7.500000000000001?e[118]>1e-35?f=-.07570059131536411:e[243]>1e-35?f=-.040983393346598646:e[3]>9.500000000000002?f=.014763759061483812:e[92]>1e-35?f=.05136368898963024:f=-.008162398981149495:e[127]>1e-35?f=.013999119696708346:e[23]>1e-35?e[20]>1e-35?f=.14138985500120907:f=.008668274102844162:e[284]>1e-35?f=.06356484011042893:f=-.024781304572706303;let m;e[13]>1e-35?e[3]>8.500000000000002?e[8]>892.5000000000001?e[0]>384.50000000000006?m=.014387526569215037:e[8]>2266.5000000000005?m=-.1397298649743087:m=.007953931014097788:e[0]>119.50000000000001?e[4]>61.50000000000001?m=.0029819092211896296:e[218]>1e-35?m=.08450459375645737:m=.031646488019280654:m=-.03544960151460596:e[9]>9.500000000000002?m=-.026002317735915183:e[7]>1.5000000000000002?m=.005074258810794793:m=.0745247650477651:e[4]>29.500000000000004?e[131]>1e-35?m=.023269218675640847:e[148]>1e-35?m=.03812942399144545:e[115]>1e-35?m=.10512283476967227:m=-.02607307479736138:e[227]>1e-35?m=-.036576708299046294:e[101]>1e-35?m=.027948683650881864:e[149]>1e-35?m=-.08195628451594297:e[50]>1e-35?m=-.16997544922278504:e[8]>691.5000000000001?e[9]>101.50000000000001?m=-.06860333850762075:e[225]>1e-35?m=.06066641950951723:e[10]>22.500000000000004?e[1]>29.500000000000004?e[127]>1e-35?m=.028599705845427533:m=-.010746719511640914:e[0]>4877.500000000001?m=-.07251187886096228:m=-.021299712241446785:e[118]>1e-35?m=-.11902023760964736:m=15874469526809387e-21:e[8]>267.50000000000006?m=.01317292185402293:e[148]>1e-35?e[9]>20.500000000000004?m=.09614842415142123:m=.006049073167176467:e[189]>1e-35?m=.05562696451900713:m=-.006257541923837303;let h;e[13]>1e-35?e[9]>14.500000000000002?e[2]>11.500000000000002?e[1]>71.50000000000001?e[8]>1252.5000000000002?h=-.10069846585436666:h=-.010577995535809317:e[146]>1e-35?h=-.008877238274428668:e[280]>1e-35?h=.10076055897012692:e[6]>70.50000000000001?h=-.020603523042565547:e[7]>1.5000000000000002?h=.02819095420813202:h=-.1223354167911277:h=-.025073583348334844:e[8]>416.50000000000006?h=.01718560189149466:e[230]>1e-35?h=.12281803224342265:h=.03281276971308565:e[4]>14.500000000000002?e[23]>1e-35?e[21]>1e-35?h=-.13070568109867683:e[4]>63.50000000000001?h=-.027221825262496814:h=.01530862490082352:e[9]>6.500000000000001?e[5]>4320.500000000001?e[2]>31.500000000000004?h=-.00605574271293711:h=.04739407327741249:h=-.012537528620315956:e[31]>1e-35?e[20]>1e-35?h=.1252215087035768:h=.003905888677601057:e[52]>1e-35?h=.045466299731038815:e[2]>100.50000000000001?h=-.07815624550168065:e[308]>1e-35?h=-.007715815250508057:e[276]>1e-35?e[9]>1.5000000000000002?h=-.03538265083203445:e[18]>1e-35?h=.1591211669800727:h=.015151475408241136:e[8]>557.5000000000001?h=-.04225569725456342:h=-.022455546324243267:e[308]>1e-35?h=.01325441736085826:e[197]>1e-35?h=.03752194600682512:e[225]>1e-35?h=.06583712394533976:h=-.005205289866839043;let p;e[13]>1e-35?e[9]>21.500000000000004?e[2]>12.500000000000002?p=.010264022580774884:p=-.02335958814489217:e[8]>416.50000000000006?e[3]>4.500000000000001?e[295]>1e-35?p=-.0936747137352166:e[0]>384.50000000000006?p=.019846244507320695:p=-.0751102554077272:p=-.026885329334203723:e[0]>966.5000000000001?e[10]>48.50000000000001?p=.11654906890054273:p=.0346250587613322:e[4]>39.50000000000001?p=-.08568002378645614:e[9]>16.500000000000004?p=-.12010535752923689:p=.021321923389033808:e[4]>14.500000000000002?e[23]>1e-35?e[21]>1e-35?p=-.12056431231412057:e[131]>1e-35?p=.03652965550568472:p=.002563006128791669:e[9]>6.500000000000001?e[30]>1e-35?p=-.10141481732178981:p=-.003936457893178248:e[31]>1e-35?p=.008215898756249477:e[52]>1e-35?e[0]>4188.500000000001?p=.12972828769588213:p=-.003137412232297087:e[2]>100.50000000000001?p=-.0730872929087944:e[308]>1e-35?p=-.006958622747243333:e[35]>1e-35?e[0]>3707.5000000000005?p=.07934620723812878:p=-.018598568353702116:p=-.030635505446410763:e[128]>1e-35?p=-.06962290453843294:e[84]>1e-35?p=-.15290337844960322:e[308]>1e-35?e[8]>2543.5000000000005?p=-.034938657503885584:p=.016339322898966915:e[197]>1e-35?p=.03358907965870046:e[18]>1e-35?p=-.01754013791515288:p=-.0004944586067698557;let g;e[13]>1e-35?e[308]>1e-35?e[210]>1e-35?g=.005888790687820524:g=.0429676533834978:e[2]>7.500000000000001?e[0]>119.50000000000001?e[6]>79.50000000000001?g=-.0224319889201976:e[212]>1e-35?g=.06249587051783863:e[8]>963.5000000000001?e[8]>1156.5000000000002?g=.010357273289123324:g=-.029749145161304082:e[218]>1e-35?g=.06449336340743606:g=.018047654539345502:g=-.07350502390293116:g=-.019594829995832414:e[4]>39.50000000000001?g=-.019338083179859314:e[39]>1e-35?g=-.10427066919173111:e[222]>1e-35?e[0]>612.5000000000001?g=-.019197415255018464:g=-.0836562507048181:e[149]>1e-35?g=-.07679624472577429:e[32]>1e-35?g=-.05097506748590604:e[191]>1e-35?g=.04670476485250936:e[30]>1e-35?g=-.05313073892148652:e[8]>691.5000000000001?e[23]>1e-35?e[203]>1e-35?e[4]>8.500000000000002?g=.03930363008271334:g=-.06029171685615689:g=.016203086182431294:e[4]>7.500000000000001?g=-.013824248237085224:e[10]>4.500000000000001?e[94]>1e-35?g=-.09817668643367765:e[10]>40.50000000000001?g=-.023558078753593125:g=.0065113494780482326:e[8]>809.5000000000001?e[297]>1e-35?g=-.1352063548573715:g=.058203900441270634:g=-.035243959159285736:e[10]>59.50000000000001?e[1]>43.50000000000001?g=-.012552876807800442:g=.05991247777734298:g=.0035893102109330177;let x;e[13]>1e-35?e[9]>21.500000000000004?e[145]>1e-35?x=.03507251990078782:e[2]>14.500000000000002?x=.004905698363309292:e[8]>2421.5000000000005?x=-.10306119951984316:x=-.018951037816654928:e[8]>416.50000000000006?e[3]>4.500000000000001?e[295]>1e-35?x=-.08503171085833393:x=.015130974593044409:x=-.024425267075198206:x=.02624054905103126:e[4]>19.500000000000004?e[131]>1e-35?x=.02100191580704534:e[32]>1e-35?e[8]>2302.5000000000005?x=.09908783187786288:x=-.06920877329925636:e[8]>241.50000000000003?x=-.016756131804203496:e[9]>33.50000000000001?x=.04903179955263626:e[217]>1e-35?x=-.047416847619291644:x=-.0017200891991431119:e[39]>1e-35?x=-.10389927604977028:e[134]>1e-35?x=-.050480365434872866:e[178]>1e-35?x=-.05167855791556937:e[8]>2134.5000000000005?x=-.01663197335585307:e[242]>1e-35?x=-.05361323756615453:e[118]>1e-35?x=-.05299780866211368:e[10]>24.500000000000004?e[10]>55.50000000000001?e[8]>764.5000000000001?x=-.0016544848369620534:x=.04494144460483587:x=-.009283616456736156:e[121]>1e-35?e[0]>4463.500000000001?x=.051166688553608355:x=-.06623908820705383:e[84]>1e-35?x=-.12990936092409747:e[306]>1e-35?x=-.07020596855118943:e[49]>1e-35?x=.06272964802556856:e[192]>1e-35?x=.06540204627162581:x=.008277910531592885;let v;e[13]>1e-35?e[308]>1e-35?e[210]>1e-35?v=.003325460510319164:v=.037153108286272905:e[2]>12.500000000000002?e[1]>124.50000000000001?v=-.09880713344892134:e[7]>60.50000000000001?e[10]>71.50000000000001?v=.0697359767152808:e[230]>1e-35?v=.06513506845651572:v=-.02826625276613455:e[5]>246.50000000000003?e[8]>95.50000000000001?v=.013616385013146277:v=.04171540100223404:v=-.04360396575094823:e[212]>1e-35?v=.025945477945627522:v=-.019793208261535442:e[4]>39.50000000000001?e[25]>1e-35?v=-.07856453318384411:v=-.014803893522351739:e[39]>1e-35?v=-.09185452630751932:e[149]>1e-35?v=-.07122426086157027:e[134]>1e-35?v=-.04231052091434186:e[227]>1e-35?v=-.029815824273994197:e[50]>1e-35?v=-.15736496271211153:e[222]>1e-35?v=-.02360285356956629:e[128]>1e-35?v=-.03922080193836443:e[136]>1e-35?v=-.07219685327698587:e[10]>24.500000000000004?e[1]>8.500000000000002?v=-.0029736170756835783:v=-.06482902102259112:e[84]>1e-35?v=-.11340924635708383:e[94]>1e-35?v=-.03635703457792193:e[118]>1e-35?v=-.058181913914186034:e[126]>1e-35?v=-.062030576241517366:e[116]>1e-35?v=-.045086301850604006:e[25]>1e-35?v=-.031665223656767286:e[203]>1e-35?v=-.009444685731407691:v=.0112265153772187;let E;e[13]>1e-35?e[1]>64.50000000000001?e[9]>14.500000000000002?e[9]>54.50000000000001?E=.022717227245241684:E=-.049700413274686266:E=.007175776918589741:e[5]>50.50000000000001?e[8]>61.50000000000001?e[21]>1e-35?E=-.07927556792063156:e[3]>8.500000000000002?e[4]>23.500000000000004?e[281]>1e-35?E=-.12263724050601095:E=.0070743478891288035:e[288]>1e-35?E=-.050439138582109:E=.0255701593657891:E=-.005812703740580558:e[6]>49.50000000000001?E=-.008542694147899113:E=.035147383686665:E=-.0960461939274094:e[32]>1e-35?E=-.04555453745517765:e[222]>1e-35?e[0]>612.5000000000001?E=-.01800870272656664:E=-.07817304234604389:e[30]>1e-35?E=-.05227061750368981:e[25]>1e-35?e[0]>4449.500000000001?e[217]>1e-35?E=.08778416018479411:E=-.026563982720830256:E=-.05296139548112329:e[50]>1e-35?E=-.14926464875852247:e[8]>779.5000000000001?e[133]>1e-35?E=-.036572140520852024:e[183]>1e-35?E=-.10766853736801459:E=-.003966794968701808:e[217]>1e-35?e[5]>5237.500000000001?E=.09513215942486053:E=-.03641865277445567:e[10]>59.50000000000001?E=.03177172388687933:e[39]>1e-35?E=-.10234241303898953:e[243]>1e-35?E=-.02966738115984321:e[190]>1e-35?E=-.04312785336449181:e[118]>1e-35?E=-.05808521194081524:E=.006720381600740378;let b;e[308]>1e-35?e[5]>423.00000000000006?e[133]>1e-35?b=-.046284053681928526:e[210]>1e-35?b=49778070699847876e-21:e[13]>1e-35?b=.03328070054739309:e[128]>1e-35?b=-.054790214922938896:e[126]>1e-35?b=-.08524792218532945:b=.014414055975542446:e[1]>38.50000000000001?b=-.07287851335872973:b=.005263371501687163:e[9]>7.500000000000001?e[21]>1e-35?e[10]>4.500000000000001?b=-.12459748864088374:b=-.004626323021331593:e[298]>1e-35?e[4]>64.50000000000001?b=.13044981041138526:e[9]>71.50000000000001?b=-.056068402282406865:e[9]>12.500000000000002?b=.038957722962512764:b=-.04598815982492169:e[8]>691.5000000000001?e[126]>1e-35?b=-.0852126122372075:e[225]>1e-35?b=.10082066771689505:e[1]>161.50000000000003?b=-.11609832500613824:e[3]>8.500000000000002?e[8]>1685.5000000000002?b=-.010835400874777133:b=.004607419973807752:b=-.016989075258564062:b=.009205417251698097:e[23]>1e-35?e[20]>1e-35?b=.10184317139657878:e[0]>5724.500000000001?b=-.1163666496650542:e[1]>106.50000000000001?b=.1303850608190687:e[129]>1e-35?b=.10745031509534769:b=.006166901738036226:e[31]>1e-35?b=.010177092833155127:e[13]>1e-35?e[0]>213.50000000000003?b=.005004582564506611:b=-.10481581731668346:e[19]>1e-35?b=-.009850706427306281:b=-.02608226348051303;let _;e[13]>1e-35?e[1]>64.50000000000001?e[2]>4.500000000000001?_=-.0024117174588695603:_=-.058339700513831916:e[212]>1e-35?e[0]>2215.5000000000005?e[8]>847.5000000000001?e[10]>21.500000000000004?e[1]>39.50000000000001?_=.04575380761203418:_=-.10025595041353463:e[15]>1e-35?_=.17705790384964004:_=.0073813837628615014:_=.07676373681392407:_=-.027167992693885996:e[3]>11.500000000000002?e[280]>1e-35?_=.07078572910026419:e[4]>23.500000000000004?_=.005513918674164821:_=.0206586476926392:e[0]>5269.500000000001?_=.07706773525822633:_=-.010233826953776122:e[148]>1e-35?e[8]>1622.5000000000002?_=-.03204783603215824:_=.027405418223981973:e[4]>14.500000000000002?e[131]>1e-35?e[9]>1.5000000000000002?e[0]>5026.500000000001?_=-.0930246911392012:_=.011173087289703683:e[3]>24.500000000000004?_=.03281421918878597:_=.12449335091369843:e[204]>1e-35?_=.06634531187326123:_=-.011522999669353388:e[92]>1e-35?e[10]>42.50000000000001?_=-.041196758517013515:e[4]>7.500000000000001?_=-2942718111029724e-20:e[4]>6.500000000000001?_=.11953909558532852:_=.03188615019450534:e[122]>1e-35?_=-.0616037324662157:e[101]>1e-35?_=.027230889593349412:e[8]>4968.500000000001?_=-.1113986516540856:e[3]>2.5000000000000004?_=-.002045140426885727:e[129]>1e-35?_=.12641163374304432:_=.014909826232873194;let R;e[308]>1e-35?e[0]>7277.500000000001?R=-.09337446795435:e[5]>423.00000000000006?e[133]>1e-35?R=-.040884836258675006:e[210]>1e-35?R=-.0003719413278428804:e[13]>1e-35?R=.030287610160818174:R=.011174130013595384:e[1]>38.50000000000001?R=-.0662442170185784:R=.004332185707008564:e[9]>7.500000000000001?e[145]>1e-35?e[285]>1e-35?R=-.08092286307197555:R=.029866363328584986:e[21]>1e-35?e[10]>4.500000000000001?R=-.1155211149523894:R=-.0032903546638958538:e[149]>1e-35?R=-.03632198993199768:e[3]>9.500000000000002?e[8]>999.5000000000001?R=-.003507023626534306:e[128]>1e-35?e[4]>13.500000000000002?e[0]>3459.5000000000005?R=-.025416927789760076:R=.02777568919793122:R=-.10310351509769732:R=.013549608903688785:e[186]>1e-35?R=.08513865847420551:R=-.009306721292510369:e[31]>1e-35?R=.009780833952582307:e[23]>1e-35?R=.011143773934157629:e[210]>1e-35?R=.025354797285173356:e[17]>1e-35?e[10]>3.5000000000000004?R=-.04846287537743046:R=-.014647271080376757:e[2]>5.500000000000001?e[7]>57.50000000000001?R=-.034224938681445764:e[8]>1641.5000000000002?R=-.027298372075800673:e[191]>1e-35?e[10]>18.500000000000004?R=-.027950103994861836:R=.14575930827829034:R=-.007124740389354946:e[10]>22.500000000000004?R=.013173304107866726:R=-.11119620042551365;let P;e[131]>1e-35?P=.01892225243240137:e[308]>1e-35?e[5]>691.5000000000001?e[133]>1e-35?P=-.037118314390013646:e[1]>51.50000000000001?e[5]>3749.5000000000005?e[8]>58.50000000000001?P=-.022305242912035072:P=.024792895826340516:P=.013666137278072166:e[88]>1e-35?e[10]>27.500000000000004?P=.2080083584805785:P=.04247197078083379:e[10]>40.50000000000001?e[18]>1e-35?e[1]>27.500000000000004?P=.060783227455868206:P=-.056904865557409035:P=-.03278952553107572:e[192]>1e-35?P=.13117402617043625:P=.01647119888257836:P=-.01825870445636398:e[9]>6.500000000000001?e[298]>1e-35?P=.026536210945939682:e[8]>691.5000000000001?e[126]>1e-35?P=-.07927319604548912:e[10]>3.5000000000000004?e[21]>1e-35?P=-.11083976837572328:e[146]>1e-35?P=-.03359294484446772:P=-.0042815953591236475:e[190]>1e-35?P=-.09264239592903775:e[10]>1e-35?P=.022282638485105657:P=-.0205994057928458:e[5]>4918.500000000001?P=.03430715695199153:e[243]>1e-35?e[2]>57.50000000000001?P=.08935072241972036:P=-.03781647876237494:P=.0062655753179671515:e[31]>1e-35?P=.008603500300349887:e[230]>1e-35?P=.03350056932774173:e[23]>1e-35?e[241]>1e-35?P=.10277555508503314:P=.0017901817172993888:e[2]>98.50000000000001?P=-.05920081229672715:P=-.015722173275739208;let F;e[13]>1e-35?e[118]>1e-35?F=.07957905150112207:e[1]>125.50000000000001?F=-.0662620579858685:e[145]>1e-35?F=.029682040828779843:e[19]>1e-35?e[6]>15.500000000000002?F=-.0009597832580977798:F=-.081474760755753:e[212]>1e-35?F=.03637001492325179:F=.006912305498963309:e[32]>1e-35?F=-.03919900630910754:e[134]>1e-35?F=-.036225295529777886:e[4]>4.500000000000001?e[5]>384.50000000000006?e[204]>1e-35?F=.06671440854602108:e[136]>1e-35?F=-.07577364230133474:e[148]>1e-35?e[4]>7.500000000000001?F=.026430947016830915:F=-.04075501264495112:e[9]>93.50000000000001?F=-.04353169430417609:e[50]>1e-35?F=-.1411224537622882:e[17]>1e-35?e[49]>1e-35?F=.068392679163672:e[10]>1.5000000000000002?F=-.0209659792007492:F=-.0004393235559249831:e[133]>1e-35?e[9]>64.50000000000001?F=.07254524592323175:F=-.0319087835282534:F=.00037444813327793425:F=-.025138768151370408:e[243]>1e-35?F=-.050010891710502096:e[94]>1e-35?F=-.0817513550778599:e[122]>1e-35?F=-.061038875809822285:e[19]>1e-35?e[8]>1085.5000000000002?F=-.008408408775061623:e[2]>5.500000000000001?e[218]>1e-35?F=.1454877641381946:F=.053787998331240316:e[9]>33.50000000000001?F=.08602629796680285:F=-.03895127455803038:F=.008830878042315722;let G;e[131]>1e-35?G=.01687979707990516:e[8]>2915.5000000000005?e[297]>1e-35?G=.07473600489975568:e[0]>93.50000000000001?G=-.021596848506011502:G=-.13840802327735696:e[230]>1e-35?e[4]>6.500000000000001?e[0]>4977.500000000001?G=.10264284346448256:G=.031042487183181262:G=-.016653982936827776:e[4]>60.50000000000001?e[10]>75.50000000000001?G=.04226403420647408:e[10]>1e-35?e[0]>4733.500000000001?G=.006271403149804702:G=-.030013637555715046:e[0]>4449.500000000001?G=-.06556876058654929:G=.06437994816903034:e[32]>1e-35?G=-.043814577251655815:e[308]>1e-35?e[0]>7277.500000000001?G=-.09349726304052086:e[210]>1e-35?G=-.0035960132209098003:e[5]>691.5000000000001?e[133]>1e-35?G=-.029188394315052574:G=.017219308333820193:G=-.017378928852189585:e[9]>6.500000000000001?e[0]>2653.5000000000005?e[149]>1e-35?G=-.04428555753857688:G=.0001456106867817353:e[5]>213.50000000000003?G=.01740292726636365:G=-.011361718115556464:e[7]>4.500000000000001?e[0]>316.50000000000006?e[19]>1e-35?e[10]>54.50000000000001?G=.03410288911259329:e[121]>1e-35?G=-.06056527462120627:e[8]>2592.5000000000005?G=.12166808844363577:e[191]>1e-35?G=.11669879218998758:G=-.001664858391716235:G=-.01262927450503166:G=-.04506589951879664:e[227]>1e-35?G=-.08548904959752329:G=.02156080776537726;let se;e[306]>1e-35?e[149]>1e-35?se=-.1389218965136736:se=-.032218642644416894:e[13]>1e-35?se=.006465035217331847:e[50]>1e-35?se=-.1381687930130022:e[179]>1e-35?se=-.13112784985951215:e[148]>1e-35?e[8]>1726.5000000000002?se=-.03262719498763048:se=.023342916702125613:e[191]>1e-35?se=.030005484947580197:e[4]>4.500000000000001?e[204]>1e-35?se=.047767773119269434:e[136]>1e-35?e[0]>1937.5000000000002?se=-.09989343595668776:se=.06533942033334243:e[15]>1e-35?e[9]>86.50000000000001?se=-.10577989354150097:e[8]>668.5000000000001?e[126]>1e-35?se=-.09165257825246746:e[9]>32.50000000000001?se=.02484870392366004:se=-.008499493096971395:e[8]>24.500000000000004?se=.02459679192828244:se=-.010527978013140512:e[25]>1e-35?e[217]>1e-35?se=.0015644546318714849:se=-.06579524865022705:se=-.0060233890975120614:e[122]>1e-35?e[1]>36.50000000000001?se=.03331853632960164:se=-.09482264761126993:e[19]>1e-35?e[8]>1430.5000000000002?se=-.019091477207111116:se=.037878468575478504:e[94]>1e-35?se=-.08013082284576584:e[4]>2.5000000000000004?e[186]>1e-35?se=.16919658785098224:e[243]>1e-35?se=-.06580584936754524:se=.01567555159935563:e[129]>1e-35?se=.06721746994993226:e[10]>32.50000000000001?se=-.046394462507797975:se=-.006436180519584767;let Ae;e[131]>1e-35?Ae=.015039096856208693:e[8]>779.5000000000001?e[145]>1e-35?Ae=.019122095523977856:e[298]>1e-35?Ae=.023828936462317443:e[1]>23.500000000000004?e[5]>384.50000000000006?e[7]>59.50000000000001?Ae=-.026094309429557913:e[204]>1e-35?Ae=.09163404305658318:e[1]>27.500000000000004?e[149]>1e-35?e[6]>34.50000000000001?Ae=.012643810980689466:Ae=-.07884161741497837:Ae=-.0025267379810891104:e[2]>43.50000000000001?e[0]>2860.5000000000005?Ae=.04493082949897325:Ae=.18046359750455776:e[7]>18.500000000000004?Ae=-.018667348656891496:Ae=.02584325784698236:Ae=-.045696524897545915:e[0]>3321.5000000000005?e[201]>1e-35?Ae=.04749240016989375:Ae=-.0333334578246718:e[5]>3276.5000000000005?Ae=.11330554740098908:e[7]>94.50000000000001?Ae=.1296600395033268:Ae=-.003576436308940934:e[15]>1e-35?e[183]>1e-35?Ae=-.13787130789142835:e[0]>1847.5000000000002?Ae=.017915229729920556:e[10]>23.500000000000004?e[10]>31.500000000000004?e[6]>7.500000000000001?Ae=.028856848462727104:Ae=-.11197632885851168:Ae=.08169801342016791:e[1]>22.500000000000004?Ae=-.021052888644970163:Ae=.019048604298876753:e[7]>4.500000000000001?Ae=-.002603328695276418:e[7]>1.5000000000000002?e[2]>5.500000000000001?Ae=.03432638833359197:Ae=-.0036767863082454973:e[1]>48.50000000000001?Ae=.03087375270128195:e[2]>3.5000000000000004?Ae=-.04219917149740248:Ae=.018818493993207935;let re;e[306]>1e-35?re=-.04076858123502297:e[13]>1e-35?e[1]>67.50000000000001?e[9]>14.500000000000002?e[9]>53.50000000000001?e[8]>1971.5000000000002?re=-.09091897542577475:re=.04042943082645558:e[218]>1e-35?re=.056254985867151:re=-.053848117950183044:re=.003881630017086845:e[5]>5152.500000000001?e[8]>857.5000000000001?e[6]>28.500000000000004?re=.021581808008986944:re=-.05639286496176611:re=.052838875036198954:e[5]>50.50000000000001?e[5]>4082.5000000000005?e[17]>1e-35?re=.023061479860228728:e[145]>1e-35?e[9]>10.500000000000002?re=.023885302967553288:re=.1617794086125622:e[212]>1e-35?re=.04504545345658806:e[3]>17.500000000000004?e[4]>45.50000000000001?re=-.03948072448245435:e[1]>47.50000000000001?e[9]>18.500000000000004?re=.01894935813286188:re=-.06449356357429188:re=.012297239104320094:e[1]>26.500000000000004?e[8]>33.50000000000001?re=-.034718828212885515:re=.0898976288814321:e[1]>17.500000000000004?re=-.15440137451988326:re=-.03864183216821465:re=.009988507307006308:re=-.08540311947043305:e[50]>1e-35?re=-.13323659732101975:e[134]>1e-35?re=-.031820386486894385:e[32]>1e-35?e[8]>2302.5000000000005?re=.08082476177379844:re=-.041665761903645876:e[179]>1e-35?re=-.12405023987936657:e[39]>1e-35?re=-.06247416524997478:e[138]>1e-35?re=-.10724031753676487:re=-.0005423122305122404;let W;e[308]>1e-35?W=.006160742906729798:e[190]>1e-35?e[0]>2461.5000000000005?e[10]>22.500000000000004?W=.023223358334607133:W=-.04383410185346742:W=-.08542395045055405:e[297]>1e-35?e[8]>51.50000000000001?e[1]>13.500000000000002?W=.023406489302867494:W=-.085521220804058:W=-.02921899554854833:e[298]>1e-35?e[9]>12.500000000000002?W=.028120059780969632:W=-.04211009474298743:e[294]>1e-35?W=-.05040415676618239:e[86]>1e-35?e[1]>36.50000000000001?W=-.0993035220737934:W=-.0005384930611060366:e[230]>1e-35?e[4]>6.500000000000001?W=.029770210551187937:W=-.016272917551655715:e[4]>60.50000000000001?e[280]>1e-35?W=.06421359317599738:W=-.01963732469244167:e[218]>1e-35?e[3]>3.5000000000000004?W=.024368404612215164:W=-.04045232374803373:e[131]>1e-35?W=.017372701982485795:e[120]>1e-35?W=.08812710275150198:e[18]>1e-35?e[90]>1e-35?W=.18451364351180236:e[7]>33.50000000000001?W=-.03850813130183531:e[195]>1e-35?W=.06966114053446336:e[3]>16.500000000000004?W=-.0012869181693341211:e[0]>4242.500000000001?W=-.054625548611291035:W=-.014431095117473881:e[5]>4558.500000000001?e[8]>1.5000000000000002?W=.006302103427145562:W=.13967622319898698:e[121]>1e-35?W=-.038798585213145644:e[5]>4544.500000000001?W=-.08050498033009466:W=-.002986974112681435;let q;e[0]>384.50000000000006?e[2]>101.50000000000001?e[1]>16.500000000000004?q=-.03461119351456781:q=.05659026566680352:e[306]>1e-35?e[2]>14.500000000000002?e[149]>1e-35?q=-.12404435523286539:q=-.0034376913880382956:q=-.09821622245095822:e[131]>1e-35?e[9]>1.5000000000000002?q=.0037507103585310234:q=.03610387965829944:e[8]>999.5000000000001?e[9]>137.50000000000003?q=-.11985021663179699:e[0]>1847.5000000000002?e[126]>1e-35?q=-.04832024079663151:e[37]>1e-35?q=-.037103393468366934:q=-.004248086592531705:e[8]>3084.0000000000005?e[9]>43.50000000000001?q=.032539071163832034:e[5]>1643.5000000000002?q=.036408625378035665:e[0]>1500.5000000000002?q=-.1346358322854993:q=-.027586559522081014:e[3]>1e-35?e[190]>1e-35?q=-.1133991164577881:e[9]>52.50000000000001?q=-.024478640359723122:q=.03673777861098756:q=-.1037451237591819:e[230]>1e-35?e[9]>48.50000000000001?e[10]>20.500000000000004?q=.002583438691776944:q=.10773520810108106:e[9]>12.500000000000002?e[1]>16.500000000000004?q=-.02141222346712401:q=.06392462314316179:e[4]>12.500000000000002?q=.08700122294434816:e[8]>267.50000000000006?q=.056923170082743224:q=-.07716309825583327:e[32]>1e-35?q=-.03961343943752142:q=.002674914122888783:e[1]>42.50000000000001?q=-.05217539654421676:e[145]>1e-35?q=.09553630282946368:q=-.009424791262477729;let oe;e[183]>1e-35?oe=-.05753337139158443:e[308]>1e-35?oe=.00562436671450989:e[9]>7.500000000000001?e[21]>1e-35?e[10]>8.500000000000002?oe=-.10477869875380448:oe=-.0070301869937306055:e[3]>9.500000000000002?e[8]>1765.5000000000002?e[0]>4571.500000000001?oe=-.12526505173232894:e[10]>1e-35?e[9]>71.50000000000001?oe=-.04442302951713574:oe=.00012409888451734224:oe=-.092199119633697:e[225]>1e-35?oe=.13773072450201831:e[0]>2882.5000000000005?oe=.0028540012229920533:e[298]>1e-35?oe=.07134486044361629:oe=.014297412329837425:e[145]>1e-35?oe=.05608385321902638:e[92]>1e-35?oe=.038298413603926135:e[107]>1e-35?e[2]>6.500000000000001?oe=-.0039957800609801315:oe=.0776927564241081:e[203]>1e-35?oe=-.05502900859432093:e[105]>1e-35?oe=.06062892720841595:oe=-.009574839629252128:e[31]>1e-35?oe=.009488858841144216:e[23]>1e-35?e[20]>1e-35?oe=.08818126313644752:e[8]>161.50000000000003?oe=.014353968957885408:oe=-.022240738532827903:e[210]>1e-35?oe=.024648862719806694:e[2]>5.500000000000001?e[4]>4.500000000000001?e[17]>1e-35?e[10]>16.500000000000004?oe=-.043902062079383485:oe=-.014741559220396223:oe=-.00934935734853194:e[6]>32.50000000000001?oe=.1514593126307404:oe=.010771222510801532:e[10]>22.500000000000004?oe=.01412495209334078:oe=-.08576940379502533;let X;e[0]>384.50000000000006?e[84]>1e-35?X=-.06647690967306838:e[2]>101.50000000000001?X=-.024451334501552457:e[306]>1e-35?X=-.034517188927733505:e[131]>1e-35?e[9]>1.5000000000000002?X=.0031858381443673127:X=.032574927024450646:e[204]>1e-35?e[1]>62.50000000000001?X=-.08601340441214533:e[1]>29.500000000000004?X=.10487598629539963:e[8]>597.5000000000001?X=-.0786529133673238:X=.08689436600511559:e[8]>779.5000000000001?e[10]>2.5000000000000004?e[9]>100.50000000000001?X=-.04883600353740688:e[126]>1e-35?X=-.03794042763348827:X=-.003358871967539988:e[210]>1e-35?X=.054991356498447566:e[6]>19.500000000000004?X=-.007418396981635549:X=.018032606049498613:e[18]>1e-35?e[7]>35.50000000000001?e[2]>44.50000000000001?X=-.02143003429501711:X=-.09016000554055564:e[1]>19.500000000000004?e[1]>42.50000000000001?e[8]>17.500000000000004?X=-.006636355416244082:X=-.06483095743431454:e[4]>21.500000000000004?X=-.028975965946833545:X=.022012264796522657:X=-.06653648243193663:e[5]>4593.500000000001?X=.01753551428088607:e[217]>1e-35?X=-.028864824937700297:e[94]>1e-35?X=-.04885192273020658:e[279]>1e-35?X=.08105715462329498:e[121]>1e-35?X=-.04576676034750651:X=.004795141324949362:e[1]>42.50000000000001?X=-.047446619702809195:e[145]>1e-35?X=.08400495571952321:X=-.00854528836489364;let H;e[294]>1e-35?H=-.042529778074638265:e[266]>1e-35?H=-.1180276669679798:e[134]>1e-35?H=-.026818144353279623:e[183]>1e-35?H=-.05120747503479363:e[227]>1e-35?e[8]>1641.5000000000002?H=-.07265906898294434:e[4]>12.500000000000002?e[17]>1e-35?H=-.027516137530797014:e[0]>4331.500000000001?e[1]>64.50000000000001?H=-.03049646619610203:e[1]>50.50000000000001?H=.20634590755061122:H=.06956378103625731:e[0]>3770.5000000000005?H=-.07946414366134913:e[19]>1e-35?H=.17083312065604694:e[2]>21.500000000000004?H=-.02327981978127724:H=.129717297518715:e[145]>1e-35?H=.006891245076133524:H=-.0789123467863741:e[3]>99.50000000000001?H=-.02022281202803071:e[302]>1e-35?e[10]>47.50000000000001?H=.06447639919732716:H=-.05457561977645972:e[306]>1e-35?H=-.029995903305383882:e[191]>1e-35?H=.030596508110850414:e[242]>1e-35?H=-.024085578702020216:e[8]>3198.5000000000005?e[297]>1e-35?H=.09518584795377832:H=-.018197744600833596:e[13]>1e-35?H=.006751790086127549:e[148]>1e-35?H=.01904174573618417:e[99]>1e-35?H=.025287735102561926:e[4]>14.500000000000002?H=-.004364337681643273:e[1]>15.500000000000002?e[35]>1e-35?H=-.09467943982430241:e[243]>1e-35?H=-.02521824751996268:H=.005437570718352172:H=-.022476214821960674;let O;e[0]>384.50000000000006?e[84]>1e-35?O=-.06088131453064195:e[147]>1e-35?O=-.05332792965930566:e[135]>1e-35?e[9]>32.50000000000001?O=.04219361472548491:O=-.07227529211725771:e[10]>4.500000000000001?e[21]>1e-35?O=-.0787279848043689:e[17]>1e-35?e[3]>18.500000000000004?e[188]>1e-35?O=-.054347604504400286:e[0]>3544.5000000000005?e[0]>5850.500000000001?O=-.11431764534511478:O=.013549717238356157:O=-.020987333767091276:e[6]>2.5000000000000004?O=-.02914877855133127:O=.08483464900160231:e[8]>58.50000000000001?e[183]>1e-35?O=-.10087072787978416:e[37]>1e-35?O=-.030467397753331196:e[229]>1e-35?O=-.1017559811057469:e[4]>20.500000000000004?O=-.00413177742240167:e[20]>1e-35?O=.05213315982685969:O=.0037921635866823133:e[8]>51.50000000000001?O=.07327913092421544:e[6]>49.50000000000001?O=-.03457694284156811:e[6]>18.500000000000004?e[7]>17.500000000000004?O=.02744420891894289:O=.11288946357194463:O=.003482908820966248:e[18]>1e-35?e[1]>20.500000000000004?e[7]>4.500000000000001?O=-.012329314369909049:O=.026816658655600168:O=-.0872405354618811:O=.007872673500247845:e[1]>42.50000000000001?O=-.04309044198258254:e[145]>1e-35?O=.07572529147860785:e[7]>5.500000000000001?O=-.013837187093264945:e[1]>17.500000000000004?O=.04208698439539668:O=-.06284346769019863;let V;e[294]>1e-35?V=-.0384794324818203:e[266]>1e-35?V=-.1087205883821061:e[32]>1e-35?e[8]>2302.5000000000005?V=.07432960094940501:V=-.035248735855751855:e[134]>1e-35?V=-.02456191365284949:e[121]>1e-35?e[0]>4720.500000000001?e[1]>39.50000000000001?V=-.01706896375068821:V=.08212247914968074:e[2]>59.50000000000001?V=-.09546478958824225:e[6]>53.50000000000001?V=.12317082897575611:e[1]>56.50000000000001?e[4]>7.500000000000001?e[0]>3560.5000000000005?V=.02816463285971267:V=.15449139016588445:V=-.10199787406123524:V=-.038068684323297096:e[223]>1e-35?e[8]>668.5000000000001?V=-.13924786681478077:V=-.0072772442570213335:e[39]>1e-35?V=-.05392786531177836:e[0]>93.50000000000001?e[40]>1e-35?V=-.054059371343144036:e[306]>1e-35?e[2]>14.500000000000002?e[149]>1e-35?V=-.11174465335620831:V=.00013144040097180107:V=-.08493919336681105:e[42]>1e-35?V=-.11078582572836196:e[84]>1e-35?e[4]>17.500000000000004?V=-.015540659878839153:V=-.14442609417300142:e[21]>1e-35?V=-.025251979447574083:V=.0023698372645272847:e[18]>1e-35?V=.07269739695712212:e[8]>2592.5000000000005?V=-.1460388776448558:e[9]>30.500000000000004?e[1]>23.500000000000004?V=-.01835130329646532:e[9]>45.50000000000001?V=.02023047454629885:V=.16469378262221102:V=-.042975030085836426;let J;e[8]>2915.5000000000005?e[297]>1e-35?J=.06257393915394144:e[0]>93.50000000000001?e[4]>1.5000000000000002?J=-.01034964686484714:J=-.07357437440667927:J=-.11987794734779106:e[298]>1e-35?e[8]>81.50000000000001?e[0]>3370.5000000000005?e[8]>155.50000000000003?e[8]>660.5000000000001?e[8]>2134.5000000000005?J=-.09476398869062203:e[9]>72.50000000000001?J=-.0757383854264379:J=.02806542779508718:J=-.05147742568418084:J=.10212721564444344:J=.0518263760642861:J=-.08743405377022222:e[189]>1e-35?e[0]>5269.500000000001?J=-.10669213185972036:J=.027050434286384796:e[302]>1e-35?J=-.0407832394672723:e[116]>1e-35?e[10]>38.50000000000001?J=.06354599160071946:e[1]>67.50000000000001?J=.05317447949011187:J=-.059138165935307165:e[212]>1e-35?e[19]>1e-35?J=-.09369289448773599:e[0]>2215.5000000000005?J=.04077965380363924:e[0]>807.5000000000001?J=-.0591771776458298:J=.057315736906679376:e[308]>1e-35?e[1]>52.50000000000001?e[5]>3749.5000000000005?J=-.016323380219241672:J=.007291062979527741:e[210]>1e-35?e[8]>1641.5000000000002?J=.03720704290087811:J=-.008730548158766654:e[4]>80.50000000000001?J=-.05346644687473197:J=.014596824736762107:e[218]>1e-35?e[3]>3.5000000000000004?J=.019984510398089086:J=-.03917825025861855:e[9]>170.50000000000003?J=-.09759719821334525:J=-.0023586682752856298;let ae;e[183]>1e-35?e[17]>1e-35?ae=.030100940443356424:e[10]>1.5000000000000002?ae=-.10861112216742408:ae=.017680668976453255:e[227]>1e-35?e[17]>1e-35?e[2]>16.500000000000004?ae=-.032062878390325456:ae=-.10808232631806887:e[8]>1641.5000000000002?ae=-.06147013392655731:e[4]>12.500000000000002?ae=.03324767551088266:e[145]>1e-35?ae=.028851633810612017:ae=-.054871239091792784:e[134]>1e-35?ae=-.023813968121342108:e[266]>1e-35?ae=-.10037039667146351:e[222]>1e-35?e[0]>612.5000000000001?e[10]>1e-35?e[8]>1939.5000000000002?ae=-.055566877553100726:e[2]>24.500000000000004?e[8]>182.50000000000003?e[10]>43.50000000000001?e[10]>55.50000000000001?ae=-.025350325484720576:ae=.1579024598549572:e[9]>2.5000000000000004?e[0]>3746.5000000000005?ae=.056817276537534815:ae=-.07674158463557636:ae=-.06335553143454145:e[1]>56.50000000000001?ae=.16390494217299284:ae=-.0027330160430847177:e[10]>36.50000000000001?e[8]>1067.5000000000002?ae=.041717597065890205:ae=-.10357913492269129:e[10]>29.500000000000004?ae=.1365512866715726:ae=.020600048310575665:ae=.09708785634773187:ae=-.060427658852305666:e[126]>1e-35?e[10]>32.50000000000001?e[6]>24.500000000000004?e[8]>1146.5000000000002?ae=-.03146213719547347:ae=.11784024316238083:ae=-.050940520532045355:ae=-.047988344143075616:e[191]>1e-35?ae=.028764654731460032:ae=.0011911575567860023;let te;e[294]>1e-35?e[10]>50.50000000000001?te=-.11630092297244568:e[0]>2432.5000000000005?e[0]>4199.500000000001?te=-.05103908560370243:te=.05002066201169583:te=-.09976646725732496:e[32]>1e-35?e[0]>4242.500000000001?te=-.0648838712201258:e[5]>3721.5000000000005?e[9]>4.500000000000001?te=.127983140816313:te=-.05436534163636867:te=-.024514536544596455:e[121]>1e-35?e[0]>4449.500000000001?e[4]>9.500000000000002?te=-.009504203657088933:e[8]>819.5000000000001?te=.18689664822602375:te=.03635576744011826:te=-.029862411809998525:e[223]>1e-35?te=-.06474496692999487:e[86]>1e-35?e[8]>65.50000000000001?e[1]>46.50000000000001?te=-.09405026597863717:e[0]>4153.500000000001?te=.053577663326799765:te=-.05062127873995668:te=.06512222894425874:e[39]>1e-35?te=-.04985311717827547:e[51]>1e-35?te=-.04541229517934797:e[178]>1e-35?e[2]>25.500000000000004?e[2]>30.500000000000004?e[0]>2151.5000000000005?te=-.02860634573675884:te=.08863753005590103:te=.11158892111063744:e[0]>655.5000000000001?te=-.031005736641654926:te=-.1439827004505974:e[222]>1e-35?e[1]>11.500000000000002?e[0]>612.5000000000001?te=-.00843386136334982:te=-.05273594615999777:te=.1060183822015004:e[126]>1e-35?e[10]>32.50000000000001?e[8]>719.5000000000001?te=-.015774115523598486:te=.10147367091236065:te=-.048307000563071016:te=.002118376117677254;let le;e[8]>1014.5000000000001?e[9]>137.50000000000003?le=-.10279096288817871:e[0]>93.50000000000001?e[8]>1067.5000000000002?e[227]>1e-35?le=-.03544332389470493:e[285]>1e-35?e[9]>64.50000000000001?le=.07211107542565391:le=-.041556776020476104:e[145]>1e-35?e[1]>66.50000000000001?le=-.0751486415451188:e[1]>59.50000000000001?le=.13459005084554104:le=.024184371850147466:e[0]>3072.5000000000005?e[95]>1e-35?le=.06715575425741895:le=-.005895690393702183:e[8]>2915.5000000000005?le=-.010205039411753762:e[9]>33.50000000000001?e[9]>47.50000000000001?le=-.00029068886245881074:le=.0613467393188786:e[148]>1e-35?le=-.06074463294936236:e[3]>1.5000000000000002?e[5]>1849.5000000000002?e[1]>15.500000000000002?le=.003887223773199377:le=-.08553893131979015:le=.025654192706396767:le=-.05651733979610658:le=-.02039913645229667:e[2]>7.500000000000001?le=-.1058450646728524:le=.02267192191610376:e[1]>120.50000000000001?e[2]>60.50000000000001?le=-.12304707569000428:e[1]>132.50000000000003?e[6]>41.50000000000001?le=.1283258201586378:le=-.01718135372229775:le=-.07702452408491414:e[125]>1e-35?le=-.0804612900572707:e[178]>1e-35?e[0]>4533.500000000001?le=.04273051857848212:le=-.04533122948101463:e[2]>196.50000000000003?le=-.10543331044088727:e[94]>1e-35?e[5]>4532.500000000001?le=.0231032972703664:le=-.04807386814498683:le=.002729435991332102;let ce;e[179]>1e-35?ce=-.08065315471211375:e[183]>1e-35?e[17]>1e-35?ce=.026484626664041125:e[10]>1.5000000000000002?ce=-.10187000872941615:ce=.015274190652133752:e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?ce=.09574540795390041:ce=-.06454986703691233:ce=-.11411849349353141:e[266]>1e-35?ce=-.09281838517322076:e[32]>1e-35?e[8]>2302.5000000000005?ce=.06685250330182936:e[4]>67.50000000000001?e[2]>97.50000000000001?ce=-.04403391373512386:ce=.1132928075412222:e[2]>47.50000000000001?ce=-.09700191391838056:ce=-.02147184357182825:e[10]>4.500000000000001?e[21]>1e-35?ce=-.0735617817957859:e[17]>1e-35?e[3]>18.500000000000004?ce=-.001668912999010927:ce=-.02363511102970245:e[8]>58.50000000000001?ce=-.00035213368294640616:e[3]>17.500000000000004?e[2]>28.500000000000004?e[10]>23.500000000000004?e[1]>38.50000000000001?ce=.0911011436534449:e[1]>28.500000000000004?ce=-.07192390493729035:ce=.06913818091291246:ce=-.012312625373699222:ce=.06784496312307986:ce=-167756936027735e-19:e[18]>1e-35?e[8]>302.50000000000006?ce=.0026564453057705273:ce=-.025425772389361445:e[122]>1e-35?ce=-.12046786388602149:e[0]>3183.5000000000005?ce=.01162092842804907:e[91]>1e-35?ce=.07000265526928563:e[1]>22.500000000000004?e[0]>576.5000000000001?ce=-.0001647792543020228:ce=-.023664538532907665:ce=.01609078206180752;let Pe;e[294]>1e-35?e[1]>26.500000000000004?e[0]>4141.500000000001?Pe=-.051473645433684705:e[0]>3030.5000000000005?e[1]>51.50000000000001?Pe=-.017696526862422682:Pe=.1450050954613223:Pe=-.05406930069823832:Pe=-.08308700260259043:e[120]>1e-35?Pe=.058316269489189415:e[297]>1e-35?e[94]>1e-35?Pe=-.07425512495167255:e[8]>51.50000000000001?e[1]>13.500000000000002?e[1]>33.50000000000001?e[19]>1e-35?e[0]>4498.500000000001?Pe=.038431826961746934:Pe=-.05937462906539856:e[9]>65.50000000000001?Pe=.10814845712507865:e[4]>9.500000000000002?e[2]>22.500000000000004?e[1]>39.50000000000001?e[1]>44.50000000000001?e[10]>44.50000000000001?Pe=.12297945639231944:e[0]>3796.5000000000005?e[4]>26.500000000000004?Pe=-.09579030954062734:Pe=.025064711572811746:Pe=.02579440518821548:Pe=.1044440128091862:Pe=-.058348633139536844:Pe=.07766788227934436:Pe=-.01021229539092708:e[2]>2.5000000000000004?e[10]>29.500000000000004?e[0]>3770.5000000000005?e[0]>4438.500000000001?Pe=.07463684068207214:Pe=.18244269035484484:e[6]>39.50000000000001?Pe=-.06050050067471004:Pe=.05787759066913493:Pe=.010783225857972171:Pe=.1674891243602606:e[4]>9.500000000000002?Pe=-.004814132027475892:Pe=-.14543299413454813:Pe=-.02935093398687923:e[116]>1e-35?e[9]>2.5000000000000004?e[8]>1218.5000000000002?Pe=-.07634466313617769:Pe=.0287825335169114:Pe=-.06894721943300268:Pe=-.00023988459059521937;let Ie;e[131]>1e-35?e[1]>93.50000000000001?Ie=-.05706887458825395:e[2]>1.5000000000000002?Ie=.011446637886629108:Ie=-.10616119878749211:e[230]>1e-35?e[4]>6.500000000000001?e[0]>4977.500000000001?Ie=.08424281276381033:e[3]>17.500000000000004?e[20]>1e-35?Ie=.11146885439601915:e[8]>61.50000000000001?e[0]>3530.5000000000005?e[9]>48.50000000000001?e[9]>61.50000000000001?Ie=.026278724448495064:Ie=.17053138400480508:e[0]>4463.500000000001?Ie=-.06482289890096041:Ie=.03026516489536295:Ie=-.031785170717683144:Ie=.1312690622980455:e[13]>1e-35?Ie=.14336922540461444:Ie=.03523850945454039:Ie=-.015407465968975714:e[39]>1e-35?Ie=-.054809635385158186:e[32]>1e-35?e[0]>4242.500000000001?Ie=-.0659975068798723:Ie=-.008386582621403979:e[4]>60.50000000000001?e[10]>75.50000000000001?e[3]>107.50000000000001?Ie=-.04225314193574262:e[3]>70.50000000000001?e[1]>29.500000000000004?Ie=.057409156184759516:Ie=.2024322059866388:Ie=-.030670938454461245:e[10]>1e-35?e[0]>4733.500000000001?Ie=.010648654146284154:e[308]>1e-35?Ie=.008728141696325391:e[4]>64.50000000000001?e[298]>1e-35?Ie=.12364025998551711:Ie=-.02247495081065243:e[1]>22.500000000000004?Ie=-.0726295464624251:Ie=.03481895086048152:e[0]>4331.500000000001?Ie=-.04775443357020673:Ie=.07172377425057568:e[2]>89.50000000000001?Ie=-.11782645274716962:Ie=.00010092665257989378;let Fe;e[147]>1e-35?Fe=-.041560228567115574:e[302]>1e-35?e[10]>47.50000000000001?Fe=.062292114082780084:e[10]>5.500000000000001?e[7]>22.500000000000004?Fe=-.016101990375700172:e[0]>2579.5000000000005?Fe=-.13045089661551845:Fe=-.02874367814784938:Fe=.025835149631944995:e[167]>1e-35?e[0]>3928.5000000000005?Fe=.17084176915326055:Fe=-.019195947948312853:e[222]>1e-35?e[30]>1e-35?e[1]>36.50000000000001?e[8]>45.50000000000001?e[8]>578.5000000000001?e[1]>67.50000000000001?Fe=.10591712319944074:Fe=-.024082167264285:Fe=.16497698867036126:Fe=-.04985066326861431:e[0]>1937.5000000000002?e[2]>16.500000000000004?Fe=-.021012910475524206:Fe=-.13058422554298485:e[0]>1102.5000000000002?Fe=.10955864175201457:Fe=-.03566689354348996:e[1]>11.500000000000002?Fe=-.02093884208606101:Fe=.09107244766183857:e[126]>1e-35?e[10]>32.50000000000001?e[8]>719.5000000000001?Fe=-.013861861436128482:Fe=.09756849802202777:e[224]>1e-35?e[1]>51.50000000000001?Fe=.10163873449625677:Fe=-.02779270277623805:e[1]>26.500000000000004?Fe=-.08035058228527389:Fe=.0005719695099064484:e[191]>1e-35?e[9]>9.500000000000002?Fe=-.007028075523033826:Fe=.0489470913925288:e[1]>61.50000000000001?e[132]>1e-35?Fe=.11230846723576784:e[0]>350.50000000000006?e[2]>1.5000000000000002?Fe=-.0032075580718124892:Fe=-.04442829143298883:Fe=-.06597073245775804:Fe=.0015594090939337751;let Re;e[223]>1e-35?e[8]>668.5000000000001?Re=-.12803889879260094:Re=.002171373740016862:e[121]>1e-35?e[0]>4720.500000000001?e[217]>1e-35?Re=.08967966612917375:e[1]>39.50000000000001?Re=-.059791671514498074:Re=.05648934961902822:e[2]>59.50000000000001?Re=-.08633234097449628:e[6]>53.50000000000001?Re=.11140345067444689:e[1]>56.50000000000001?e[4]>7.500000000000001?e[0]>3560.5000000000005?Re=.025606129643140924:Re=.13835395886271978:Re=-.09361630641448024:e[4]>7.500000000000001?e[1]>26.500000000000004?e[1]>49.50000000000001?Re=-.09975506556937946:e[10]>36.50000000000001?Re=-.09427724661655643:e[10]>24.500000000000004?Re=.07329330653410447:Re=-.02271182965807972:Re=-.09767874967639482:e[6]>13.500000000000002?e[10]>23.500000000000004?Re=-.05082091374050816:Re=.1687114435254966:e[0]>2314.5000000000005?Re=-.06422664016383926:Re=.0636688376664789:e[298]>1e-35?e[9]>12.500000000000002?e[133]>1e-35?Re=-.06857762517406195:e[9]>71.50000000000001?e[0]>4188.500000000001?Re=-.1274167728754332:Re=.01308079126447365:e[4]>73.50000000000001?Re=.13854015371106546:e[4]>48.50000000000001?Re=-.03684255740123261:e[6]>45.50000000000001?Re=.10329912215813097:e[10]>77.50000000000001?Re=-.08630788656925215:Re=.031022006843800853:e[1]>25.500000000000004?Re=-.08278381528048026:Re=.06664374548141594:e[84]>1e-35?Re=-.05624227409079396:Re=.00012184182357340415;let Ge;e[179]>1e-35?Ge=-.07443348719246982:e[40]>1e-35?e[0]>1937.5000000000002?Ge=-.07595415373151816:Ge=.054065040429292326:e[134]>1e-35?e[11]>1e-35?e[2]>13.500000000000002?e[0]>1187.5000000000002?Ge=.022822510448266862:Ge=.17491569312933697:Ge=-.058362287133533565:e[2]>2.5000000000000004?Ge=-.03633895806364428:Ge=.06397808186120692:e[8]>4968.500000000001?e[1]>31.500000000000004?Ge=-.07294848747514579:Ge=.025053613105805606:e[230]>1e-35?e[4]>6.500000000000001?e[107]>1e-35?Ge=-.07009535282685533:e[8]>2640.0000000000005?Ge=-.051761240111316276:e[131]>1e-35?Ge=-.06245774419231631:Ge=.03495606662854905:Ge=-.013863522184803188:e[131]>1e-35?e[1]>93.50000000000001?e[1]>105.50000000000001?Ge=.0015036626973581122:Ge=-.12505706794835883:e[1]>48.50000000000001?e[276]>1e-35?Ge=.10435171369790015:e[0]>5026.500000000001?e[0]>5308.500000000001?Ge=.022343994371919224:Ge=-.14087991797693533:e[8]>1323.5000000000002?e[10]>49.50000000000001?Ge=.07724450228328664:e[0]>3853.5000000000005?Ge=-.15671707454435677:e[10]>28.500000000000004?Ge=-.10179090671841723:Ge=.014878216919760927:Ge=.03967665658164865:e[8]>2696.5000000000005?e[15]>1e-35?Ge=.14054154485273487:Ge=.01821247272493051:e[2]>5.500000000000001?e[2]>100.50000000000001?Ge=-.08632985141410315:Ge=.005524157938954954:Ge=-.08802502622523681:Ge=-.0004649168897260341;let lt;e[86]>1e-35?e[8]>65.50000000000001?e[1]>32.50000000000001?e[4]>16.500000000000004?lt=-.007458687464321174:lt=-.09444966249102484:e[1]>23.500000000000004?lt=.08564129697360716:lt=-.07105002902845851:lt=.05688756955238231:e[294]>1e-35?e[10]>50.50000000000001?lt=-.10326216566705966:e[1]>26.500000000000004?lt=.0050539832484585365:lt=-.07080395606126953:e[306]>1e-35?e[149]>1e-35?lt=-.10399433201474328:e[2]>14.500000000000002?e[9]>6.500000000000001?lt=.05783632021087773:e[10]>17.500000000000004?lt=-.06720598671764105:e[1]>47.50000000000001?lt=.097495825172558:lt=-.013372242800584872:lt=-.06463226787713715:e[42]>1e-35?lt=-.0885725817597767:e[204]>1e-35?e[1]>62.50000000000001?lt=-.07496598696848249:e[1]>29.500000000000004?e[8]>446.50000000000006?lt=.11051270080118503:lt=.027719462817590454:e[8]>597.5000000000001?lt=-.08441503592016869:lt=.05534229430302502:e[223]>1e-35?e[8]>668.5000000000001?lt=-.12190088985091102:lt=-.0067442838156576345:e[148]>1e-35?e[9]>79.50000000000001?lt=.09225972475904022:e[2]>10.500000000000002?e[1]>102.50000000000001?lt=.11805676536334647:e[8]>1726.5000000000002?e[9]>10.500000000000002?lt=.016585157185448045:lt=-.11032043771149425:lt=.01586986028570486:e[8]>388.50000000000006?lt=-.10592413013261853:lt=.04930703248769364:e[13]>1e-35?lt=.003621937787920821:lt=-.0013786331198611841;let st;e[145]>1e-35?e[1]>32.50000000000001?e[1]>38.50000000000001?e[10]>55.50000000000001?e[1]>54.50000000000001?st=.009769895322846493:st=-.10620052926943656:e[9]>19.500000000000004?st=.03781202525403449:e[9]>14.500000000000002?st=-.11485785321365344:e[9]>6.500000000000001?st=.07677177833073881:e[0]>4342.500000000001?st=-.07079285609687631:e[49]>1e-35?st=.06156814809246001:st=-.014788509042554625:st=-.032659201618470655:e[5]>5207.500000000001?st=-.09013500825185713:e[3]>10.500000000000002?e[8]>1787.5000000000002?st=-.03094160322187924:e[1]>29.500000000000004?st=.09474646043921069:st=.023445783928231618:st=.09342846694174194:e[0]>533.5000000000001?e[204]>1e-35?e[1]>62.50000000000001?st=-.07164443768784848:e[1]>29.500000000000004?st=.089473622509272:e[8]>597.5000000000001?st=-.08155349903101317:st=.07098423265024251:e[8]>691.5000000000001?e[5]>2252.5000000000005?st=-.004003900679358653:e[190]>1e-35?st=-.09236113461485262:e[8]>3198.5000000000005?st=-.0124130160451179:st=.018453070064009328:e[15]>1e-35?st=.012013209112857824:e[7]>4.500000000000001?e[7]>5.500000000000001?st=-.0009580759587680961:st=-.03227283036698222:st=.01369287669536875:e[1]>50.50000000000001?st=-.04213060332500437:e[35]>1e-35?st=-.11508095777767471:e[190]>1e-35?st=-.08611884672400155:e[297]>1e-35?st=.05723551879433584:st=-.004829340082311461;let ct;e[183]>1e-35?ct=-.037994150023203555:e[227]>1e-35?e[17]>1e-35?e[3]>20.500000000000004?e[10]>36.50000000000001?ct=-.11753465135886734:ct=-.007515490299047085:ct=-.08576941990777916:e[8]>1641.5000000000002?e[10]>37.50000000000001?ct=-.12371142493530439:e[1]>36.50000000000001?ct=.032189417575190435:ct=-.10339125953022954:e[3]>32.50000000000001?e[4]>27.500000000000004?e[1]>59.50000000000001?ct=-.0784518658439288:e[2]>54.50000000000001?ct=.12477882322370665:ct=.000313468482399738:ct=.12261955132611434:e[8]>81.50000000000001?e[23]>1e-35?ct=.04969252946760318:e[8]>511.50000000000006?e[8]>1146.5000000000002?ct=.0353146070135579:ct=-.06327619611098285:ct=.02813577701641991:ct=-.12354390728506215:e[34]>1e-35?ct=-.07664408516055397:e[3]>99.50000000000001?e[1]>16.500000000000004?e[1]>26.500000000000004?ct=-.01245803535276381:ct=-.07169472553475001:e[1]>11.500000000000002?ct=.12989984824561698:ct=-.01201544398886606:e[6]>91.50000000000001?e[1]>22.500000000000004?ct=.010390226893521422:e[10]>14.500000000000002?ct=.16790888126487719:ct=.010614982228955577:e[4]>79.50000000000001?e[9]>44.50000000000001?e[0]>3853.5000000000005?ct=-.043398307129729134:ct=.09963544907820426:e[9]>30.500000000000004?ct=-.13540713124984502:e[9]>17.500000000000004?ct=.0509435850590757:ct=-.04761897852404613:e[4]>78.50000000000001?ct=.09197086656470652:ct=.0006771050176682337;let ne;e[122]>1e-35?e[6]>36.50000000000001?ne=.05686884451670743:ne=-.05334759543084309:e[266]>1e-35?ne=-.08603579519816038:e[157]>1e-35?ne=-.06736746113382097:e[302]>1e-35?e[0]>2579.5000000000005?ne=-.0499592651503952:e[0]>725.5000000000001?ne=.11780353905132664:ne=-.05232097173108943:e[147]>1e-35?e[1]>53.50000000000001?ne=-.11398297342629615:e[0]>2604.5000000000005?e[0]>3629.5000000000005?ne=-.03190157229022304:ne=.07985197845805492:ne=-.0763078988943886:e[4]>41.50000000000001?e[280]>1e-35?ne=.05162933940904835:e[11]>1e-35?e[0]>460.50000000000006?ne=-.027174047777029083:ne=.057117284879796476:e[3]>43.50000000000001?ne=-.0016147040913107311:ne=-.05856597304613519:e[2]>45.50000000000001?e[0]>4663.500000000001?e[18]>1e-35?ne=-.04779247091640426:e[10]>25.500000000000004?e[9]>22.500000000000004?e[22]>1e-35?ne=-.01466076988151239:ne=.13375695925484857:ne=-.04885873081899647:e[0]>5566.500000000001?ne=.11086813028591343:e[8]>992.5000000000001?ne=-.07622304217072383:ne=.04316019272026325:e[10]>12.500000000000002?e[9]>36.50000000000001?e[9]>45.50000000000001?ne=.03285858361708423:ne=-.12354858211764992:ne=.0672788301823281:e[15]>1e-35?ne=.08658836986585006:ne=-.02741484278509758:e[290]>1e-35?ne=-.08161310335133287:e[135]>1e-35?ne=-.04824156054814152:ne=.0009156904299554183;let Ne;e[3]>7.500000000000001?Ne=.0006791852818377787:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?Ne=.03642374718166293:Ne=.16379973756366603:Ne=-.03946685266127979:e[186]>1e-35?Ne=.07618896623420895:e[96]>1e-35?Ne=.0680272261319657:e[107]>1e-35?e[1]>48.50000000000001?Ne=-.022822371600847505:Ne=.0501405836324949:e[203]>1e-35?e[1]>77.50000000000001?Ne=.044416424920571296:Ne=-.0648450593196238:e[5]>3921.5000000000005?e[1]>110.50000000000001?Ne=-.11110466767595227:e[9]>5.500000000000001?e[9]>52.50000000000001?e[1]>50.50000000000001?Ne=.1061937286809567:e[7]>54.50000000000001?Ne=.11487507743121311:e[8]>819.5000000000001?Ne=-.07181278009001418:e[10]>25.500000000000004?Ne=.13499019430369633:e[1]>31.500000000000004?Ne=.09032979489780704:Ne=-.12754166393372374:e[9]>37.50000000000001?Ne=-.05093963635361407:Ne=-.005026651151683848:e[9]>2.5000000000000004?Ne=.07619735785573735:Ne=.012363301341532136:e[26]>1e-35?Ne=-.10685800454968203:e[8]>125.50000000000001?e[8]>446.50000000000006?e[0]>3842.5000000000005?Ne=-.08783796894105043:e[282]>1e-35?e[1]>47.50000000000001?e[9]>40.50000000000001?Ne=-.10764172927882483:Ne=.01890760098464703:Ne=.06573095405846417:e[8]>634.5000000000001?Ne=-.00783575973273707:Ne=-.050612689680229306:e[1]>22.500000000000004?Ne=-.0016842490401359626:Ne=.0738227088444087:Ne=-.02663970950432175;let ge;e[31]>1e-35?e[8]>17.500000000000004?ge=.013678038624884814:e[1]>35.50000000000001?e[1]>51.50000000000001?ge=.007191286124908192:ge=-.09347881647636902:e[10]>1.5000000000000002?ge=.07938758708008091:ge=-.008702935600305113:e[224]>1e-35?e[149]>1e-35?e[13]>1e-35?ge=.12321804057595996:ge=-.018281109320672437:e[23]>1e-35?e[4]>62.50000000000001?ge=-.04644244754790671:ge=.024546310702263208:e[8]>862.5000000000001?e[0]>3429.5000000000005?e[4]>9.500000000000002?e[52]>1e-35?ge=.0706108609273337:e[2]>40.50000000000001?ge=-.028046629962303716:ge=-.06497613993109329:ge=.01076489668586676:e[1]>33.50000000000001?e[0]>966.5000000000001?e[2]>14.500000000000002?e[1]>38.50000000000001?ge=-.03056331974267756:ge=-.11886389712497057:ge=.053364962175658184:e[8]>2233.5000000000005?ge=-.0448152521157682:ge=.1508651602190868:e[2]>33.50000000000001?e[0]>2882.5000000000005?e[0]>3183.5000000000005?ge=.03818796510453344:ge=.23673992112982362:ge=.02858814226507374:e[10]>44.50000000000001?ge=-.1125863771551199:ge=.009129996952394916:e[1]>7.500000000000001?ge=-.004374525302461639:ge=-.07858519434925451:e[149]>1e-35?e[6]>23.500000000000004?ge=.0005231594491642136:e[0]>4053.5000000000005?e[8]>660.5000000000001?ge=-.13677189943034931:e[10]>2.5000000000000004?ge=.039591891437078086:ge=-.09312596849507347:ge=-.02423172142089822:ge=.0009836986075266283;let He;e[189]>1e-35?e[0]>5269.500000000001?He=-.103183298350443:e[2]>51.50000000000001?He=.09784373530929913:e[10]>26.500000000000004?e[8]>764.5000000000001?He=-.05186168947388339:He=.0496996365539082:e[10]>23.500000000000004?He=.1404445738719:e[93]>1e-35?He=.0027146310074558505:e[5]>3821.5000000000005?He=.002153033152069652:e[4]>2.5000000000000004?He=.007663539551317215:He=.13902616832015402:e[298]>1e-35?e[8]>81.50000000000001?e[4]>64.50000000000001?He=.11498405722487515:e[2]>23.500000000000004?e[0]>2815.5000000000005?e[2]>44.50000000000001?e[4]>42.50000000000001?He=-.021479467709980358:He=.09336868994327292:e[1]>22.500000000000004?e[15]>1e-35?He=.021660293256233334:He=-.0927396152303864:He=.0665074081601698:e[0]>1550.5000000000002?He=.08972407105958534:He=-.0380796411182682:e[6]>13.500000000000002?e[10]>2.5000000000000004?He=.06761927942466854:He=-.015762168112653286:e[17]>1e-35?He=.10311304131145381:He=-.017672785252336027:He=-.08629805732772755:e[1]>24.500000000000004?e[138]>1e-35?He=-.10638321435298535:He=.0007073011744385905:e[18]>1e-35?He=-.027056185501334325:e[145]>1e-35?He=.023191199677450886:e[9]>33.50000000000001?e[201]>1e-35?He=.09762140519655171:e[9]>110.50000000000001?He=-.06581942957595835:e[6]>54.50000000000001?He=.04959634035251596:He=.0022616298654554207:He=-.007437620924990854;let z;e[179]>1e-35?z=-.06961998209988884:e[167]>1e-35?e[0]>3928.5000000000005?z=.1470294450403005:z=-.01671476793947083:e[187]>1e-35?e[6]>13.500000000000002?e[4]>30.500000000000004?e[13]>1e-35?z=.07448480853603114:e[0]>1012.5000000000001?e[5]>2883.5000000000005?e[0]>3682.5000000000005?e[5]>4031.5000000000005?e[23]>1e-35?z=.07965955447707423:e[10]>10.500000000000002?z=-.09236156404262426:z=.03396273196231458:z=-.13246465021467432:z=.07092822261735353:z=-.08753829085942:z=.09409024840640956:e[1]>40.50000000000001?e[8]>984.5000000000001?e[8]>1514.5000000000002?e[8]>2134.5000000000005?z=.004705878789890202:z=.13775378964952867:z=-.04770928980587811:e[10]>29.500000000000004?z=.011221519891071544:e[0]>3853.5000000000005?z=.06365381191628273:z=.15506252245336827:e[1]>37.50000000000001?z=-.07254777021042061:z=.026514587757252385:e[308]>1e-35?z=.04115804816617256:e[10]>26.500000000000004?z=.02077721353011946:e[5]>3548.5000000000005?z=-.1280907116663952:z=-.021974774274438:e[306]>1e-35?z=-.02700446558079895:e[297]>1e-35?e[212]>1e-35?z=.07794139136748461:e[7]>5.500000000000001?e[19]>1e-35?z=-.005710865560475598:e[94]>1e-35?z=-.06751507982853555:z=.027250040757588703:e[9]>52.50000000000001?z=.07060357924595577:z=-.030297760713011795:z=-.0006005400085266517;let ee;e[113]>1e-35?ee=-.07311041707507712:e[40]>1e-35?e[0]>1937.5000000000002?ee=-.06996356565314456:ee=.04780211300352931:e[10]>52.50000000000001?e[49]>1e-35?ee=-.08317707559926495:e[21]>1e-35?ee=-.0817284654645976:e[15]>1e-35?e[2]>3.5000000000000004?ee=-.010538203005984922:ee=.08454819465349446:e[9]>124.50000000000001?ee=.09015659250299132:e[7]>15.500000000000002?e[5]>5732.500000000001?ee=-.08542251249346582:e[9]>50.50000000000001?ee=-.023428882537657472:ee=.010042500833979073:ee=.020697210754240154:e[10]>28.500000000000004?e[5]>423.00000000000006?e[148]>1e-35?ee=.03006025206979096:e[9]>108.50000000000001?ee=-.09153851322499747:e[145]>1e-35?e[5]>4814.500000000001?e[2]>38.50000000000001?ee=.04222035773042132:ee=-.09078149053947535:e[8]>568.5000000000001?e[1]>64.50000000000001?ee=-.07209095448054853:ee=.028065954981903313:ee=.08714651929917122:ee=-.006678820669279169:e[10]>40.50000000000001?ee=.006982396294941626:ee=-.07889649792011418:e[94]>1e-35?e[4]>30.500000000000004?ee=-.09351114982645548:e[4]>3.5000000000000004?ee=-.004837550129223451:ee=-.08324141237464677:e[303]>1e-35?ee=.10703037493990825:e[9]>156.50000000000003?ee=-.10803018621648303:e[116]>1e-35?ee=-.03208302566598311:e[212]>1e-35?e[243]>1e-35?ee=.10261721665006701:ee=.018994509090668264:ee=.0011244262442038839;let Qe;e[86]>1e-35?e[8]>65.50000000000001?e[1]>46.50000000000001?Qe=-.08404263465005328:e[0]>3682.5000000000005?Qe=.041259223920298876:e[1]>29.500000000000004?Qe=-.09541257493441671:Qe=.001482192721625409:Qe=.051541427372951004:e[3]>7.500000000000001?e[157]>1e-35?Qe=-.08268996098437432:e[230]>1e-35?Qe=.015749498159959817:e[4]>7.500000000000001?e[3]>11.500000000000002?Qe=-913218977737457e-19:e[4]>10.500000000000002?Qe=-.056334165674005156:e[127]>1e-35?Qe=-.0784634021824036:e[2]>9.500000000000002?e[1]>62.50000000000001?Qe=-.04231200150318989:e[10]>42.50000000000001?Qe=.10182973257894812:Qe=.015934763950068445:Qe=-.03130938805859397:e[92]>1e-35?e[4]>6.500000000000001?e[1]>51.50000000000001?e[9]>19.500000000000004?Qe=-.041117068322885315:Qe=.1167767830037126:Qe=.13611206992387337:e[10]>41.50000000000001?Qe=-.07120286010564107:Qe=.022032788063345417:e[8]>1.5000000000000002?e[1]>51.50000000000001?e[9]>72.50000000000001?Qe=-.07702290997669524:e[198]>1e-35?Qe=.08776558554437136:Qe=-.008290740324975692:e[2]>32.50000000000001?Qe=.07198457624219955:Qe=.005463113714361629:Qe=.09414099512900526:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?Qe=.03295785445437507:Qe=.15140250150674536:Qe=-.035613213948910254:e[186]>1e-35?Qe=.06849425535860769:e[96]>1e-35?Qe=.06028225812727254:Qe=-.007582543288662308;let Se;e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?Se=.08396556264106572:Se=-.0562516995099192:Se=-.10593011018789432:e[183]>1e-35?e[15]>1e-35?Se=-.09705176473553752:e[7]>18.500000000000004?e[2]>37.50000000000001?Se=.0052017514017035915:Se=-.11194119432743639:Se=.03724337696163019:e[227]>1e-35?e[17]>1e-35?e[2]>16.500000000000004?Se=-.025692451287403446:Se=-.09511862672123193:e[8]>1661.5000000000002?e[10]>37.50000000000001?Se=-.11892250746801664:e[10]>22.500000000000004?Se=.07548493166973796:Se=-.05973048107712209:e[4]>12.500000000000002?e[0]>4319.500000000001?e[10]>4.500000000000001?e[10]>37.50000000000001?Se=.13750699058082427:e[18]>1e-35?Se=.06535408879552801:Se=-.054118179035040674:Se=.1344282838979622:e[0]>3982.5000000000005?Se=-.10409582202467015:e[19]>1e-35?Se=.12672850705810795:e[8]>587.5000000000001?e[1]>35.50000000000001?Se=.012705935670766466:Se=.14149359442527545:Se=-.047977876173706004:e[20]>1e-35?Se=.057945228080337946:e[0]>3642.5000000000005?Se=-.008726535792122467:Se=-.08424769891378858:e[34]>1e-35?Se=-.0699329538228602:e[134]>1e-35?e[11]>1e-35?e[4]>15.500000000000002?e[0]>1187.5000000000002?Se=.01196849566739346:Se=.1614642278429876:Se=-.043022338150701625:e[3]>5.500000000000001?Se=-.03907848255033881:Se=.018280601026175593:Se=.0006654540402589085;let Ce;e[31]>1e-35?e[2]>58.50000000000001?e[9]>1.5000000000000002?Ce=-.01386103677247845:Ce=.11386694333005128:e[4]>27.500000000000004?Ce=-.021862617610091336:e[2]>31.500000000000004?Ce=.0828858469030438:Ce=.006483353475830127:e[224]>1e-35?e[149]>1e-35?e[13]>1e-35?Ce=.11303635767048735:Ce=-.01645525128352694:e[23]>1e-35?e[4]>62.50000000000001?Ce=-.04238798044549342:Ce=.022091190130494303:e[5]>5082.500000000001?Ce=-.04287166152163786:e[8]>862.5000000000001?e[19]>1e-35?Ce=.000660344696244351:e[4]>9.500000000000002?e[0]>1277.5000000000002?Ce=-.04291104140431434:e[17]>1e-35?Ce=.11256797532342613:Ce=-.017206916368289193:Ce=.026482035265709743:e[1]>8.500000000000002?e[11]>1e-35?Ce=.04060606971664621:e[0]>4733.500000000001?e[8]>214.50000000000003?e[5]>4814.500000000001?Ce=.03581712466863222:Ce=.14770264307668884:e[8]>73.50000000000001?Ce=-.13093289429740068:Ce=.042461737442702936:e[52]>1e-35?Ce=.0501831919044939:Ce=-.010450249720465756:Ce=-.0753365425372656:e[149]>1e-35?e[6]>23.500000000000004?Ce=.0005381332165438493:Ce=-.04549431717503909:e[133]>1e-35?e[2]>5.500000000000001?e[8]>698.5000000000001?e[282]>1e-35?Ce=.04849637311285226:Ce=-.036671377119808564:e[0]>421.50000000000006?Ce=.00020968499911058945:Ce=.11636422423182405:Ce=-.12687837788222575:Ce=.0012774367867215346;let qe;e[120]>1e-35?qe=.04776057572434719:e[229]>1e-35?e[0]>2952.5000000000005?e[0]>3904.5000000000005?qe=-.042799574885345304:qe=.07412430171193245:qe=-.11248270469336048:e[193]>1e-35?qe=-.060694220820603384:e[121]>1e-35?e[217]>1e-35?e[0]>4449.500000000001?e[4]>8.500000000000002?qe=.028911612178122104:qe=.12326369727728437:e[0]>4091.5000000000005?qe=-.09370267064141052:e[0]>3519.5000000000005?e[8]>668.5000000000001?qe=.1159839898100149:qe=-.01924880886585737:e[8]>501.50000000000006?e[10]>16.500000000000004?qe=-.0216343737351583:qe=-.1220272260878369:e[2]>18.500000000000004?qe=.09152924475072398:e[8]>55.50000000000001?qe=.039508716651005665:qe=-.11714436880423203:e[18]>1e-35?e[9]>2.5000000000000004?qe=.06793009902674053:qe=-.024060578029812988:e[4]>2.5000000000000004?e[2]>16.500000000000004?e[4]>11.500000000000002?qe=-.04391068849624096:qe=.04009967593394672:e[8]>1085.5000000000002?qe=-.024773826356034825:qe=-.13919707884246582:qe=.06659278075192335:e[223]>1e-35?e[8]>668.5000000000001?qe=-.11567917501901476:qe=-.006813640337684114:e[3]>7.500000000000001?qe=.0010671269682548076:e[7]>3.5000000000000004?e[1]>33.50000000000001?e[0]>1597.5000000000002?e[10]>1.5000000000000002?qe=-.001754586408351048:qe=-.055422422450722056:qe=-.06090032532532226:e[0]>5269.500000000001?qe=.11787981735983527:qe=-.00198119768540783:qe=.00210412924303036;let $e;e[294]>1e-35?e[10]>50.50000000000001?$e=-.09738558653332406:e[0]>2432.5000000000005?e[0]>4533.500000000001?$e=-.06063239096209816:$e=.03317022411417386:$e=-.08607562321324262:e[120]>1e-35?e[4]>18.500000000000004?$e=-.013608609329298802:$e=.09078000157330264:e[99]>1e-35?$e=.014828708581964632:e[10]>52.50000000000001?e[49]>1e-35?$e=-.07536137260189814:$e=.006253266595455118:e[10]>28.500000000000004?$e=-.006106041147592768:e[9]>156.50000000000003?$e=-.11828932797811101:e[94]>1e-35?$e=-.02566078479505714:e[303]>1e-35?$e=.09544850289775349:e[15]>1e-35?e[224]>1e-35?e[4]>56.50000000000001?$e=-.08401252789168523:e[5]>4244.500000000001?$e=.026372887658499107:e[1]>16.500000000000004?$e=-.027836756345634026:$e=.09205362097909099:$e=.00934612788718244:e[203]>1e-35?$e=-.016371658366767253:e[7]>26.500000000000004?e[0]>966.5000000000001?e[1]>38.50000000000001?e[146]>1e-35?e[9]>21.500000000000004?$e=-.09580979052540028:e[1]>50.50000000000001?$e=-.06402211827281554:$e=.08342858760095972:e[2]>36.50000000000001?$e=.008114897658204584:e[92]>1e-35?$e=.09541587072672864:$e=-.022342147210555434:$e=-.01660492519175128:$e=.014721622240945446:e[4]>25.500000000000004?e[11]>1e-35?$e=.15846731118501817:$e=.039498507912023195:e[245]>1e-35?$e=.07008718676813333:$e=.0019806389728814727;let tt;e[32]>1e-35?e[8]>90.50000000000001?e[4]>67.50000000000001?e[0]>4188.500000000001?tt=-.01192072916082109:tt=.13888590840802637:e[1]>16.500000000000004?e[8]>2302.5000000000005?tt=.06874032717466054:e[4]>40.50000000000001?tt=-.07752510020707537:e[1]>76.50000000000001?tt=-.09944032260703917:e[8]>1381.5000000000002?tt=-.054466635810800745:e[1]>32.50000000000001?tt=.05974084520839573:tt=-.0384718740755954:tt=-.11374190719134032:e[0]>2151.5000000000005?tt=-.13703645155803298:tt=.004833344758654556:e[297]>1e-35?e[212]>1e-35?tt=.06954747264544993:e[7]>9.500000000000002?e[19]>1e-35?e[1]>30.500000000000004?e[0]>4242.500000000001?tt=.013539805885738608:tt=-.0692740641801559:e[0]>2653.5000000000005?e[10]>57.50000000000001?tt=.09941880179344399:tt=-.01608127391210995:tt=.08025226531247417:e[9]>67.50000000000001?tt=.13525448212444113:e[6]>61.50000000000001?tt=-.05511099182158894:e[94]>1e-35?tt=-.06821509831783572:e[128]>1e-35?tt=.11361314817714643:tt=.030160785008575566:e[1]>13.500000000000002?e[8]>17.500000000000004?e[16]>1e-35?tt=-.09954181329804547:e[197]>1e-35?tt=.10102833149755386:e[188]>1e-35?tt=.05584490988313965:e[9]>49.50000000000001?e[4]>5.500000000000001?tt=-.03781554214742005:tt=.09927933385592314:tt=-.020006000056720083:tt=-.10520473615957895:tt=-.12006990846253787:tt=-.00026111570975317574;let Ct;e[8]>2830.5000000000005?e[1]>31.500000000000004?e[9]>32.50000000000001?e[5]>1234.5000000000002?e[0]>1725.5000000000002?e[7]>14.500000000000002?e[2]>38.50000000000001?Ct=-.019188245509744628:Ct=-.13354864350075848:e[0]>2461.5000000000005?Ct=.051885477468354396:Ct=-.0833581968852119:Ct=.08233441701532287:Ct=-.10865584951212362:e[8]>2992.5000000000005?e[10]>49.50000000000001?e[10]>56.50000000000001?e[1]>45.50000000000001?e[0]>2041.5000000000002?Ct=.09926337893072812:Ct=-.027753610497327715:e[0]>1972.5000000000002?Ct=-.09780045823152517:Ct=.032380915168504935:Ct=.11502632261226381:e[17]>1e-35?Ct=-.06094965899579662:e[10]>40.50000000000001?Ct=-.07500475582440802:Ct=.006499832113084677:e[10]>4.500000000000001?e[4]>10.500000000000002?Ct=-.09584538995220808:Ct=-.00908705814304442:Ct=.03203281520813893:e[10]>49.50000000000001?Ct=-.03146271513986384:e[2]>63.50000000000001?Ct=.13172001315536286:e[224]>1e-35?Ct=.08945777550527927:e[0]>2282.5000000000005?e[4]>4.500000000000001?Ct=.09521549382082259:Ct=-.04414925613522197:e[0]>1847.5000000000002?Ct=-.09118580379557353:Ct=.009206744918282364:e[178]>1e-35?e[2]>25.500000000000004?e[1]>31.500000000000004?Ct=.03525144509943896:Ct=-.053340750721609057:e[0]>1057.5000000000002?e[10]>2.5000000000000004?Ct=-.04766112322938157:e[2]>10.500000000000002?Ct=.0728516504357201:Ct=-.05049625965272536:Ct=-.10868663055825774:Ct=.0005382613419948969;let Pt;e[147]>1e-35?e[1]>53.50000000000001?Pt=-.10615739288764095:e[0]>2604.5000000000005?e[0]>3629.5000000000005?Pt=-.030504020655417463:Pt=.07102458639110094:Pt=-.07058131985243714:e[302]>1e-35?e[10]>47.50000000000001?Pt=.055304563442710876:e[1]>53.50000000000001?Pt=.033723409577443623:e[8]>175.50000000000003?e[0]>2628.5000000000005?e[9]>40.50000000000001?Pt=-.1568835288372895:Pt=-.0279829124400056:Pt=.04493843959601833:Pt=-.11637042729644327:e[191]>1e-35?e[282]>1e-35?Pt=-.054133834303687026:e[9]>48.50000000000001?Pt=.11263810289007213:e[9]>9.500000000000002?Pt=-.02202034562838259:e[4]>45.50000000000001?Pt=-.03410927569045158:Pt=.04381615166534081:e[242]>1e-35?e[0]>3615.5000000000005?e[3]>19.500000000000004?e[1]>56.50000000000001?e[4]>28.500000000000004?Pt=-.029687297407295893:Pt=.10673602850001934:e[4]>42.50000000000001?Pt=.0036275562945108117:Pt=-.0760789221330622:Pt=-.10385623431741903:e[2]>34.50000000000001?e[2]>44.50000000000001?e[4]>51.50000000000001?Pt=.08274426793676076:Pt=-.07076234425516396:Pt=.13890177606150175:Pt=-.019863286503635686:e[53]>1e-35?e[18]>1e-35?Pt=-.09250637750836187:Pt=-.0031531727902009026:e[2]>107.50000000000001?e[4]>91.50000000000001?e[1]>16.500000000000004?Pt=-.01897867921812603:Pt=.04890781705365262:Pt=-.11569892307597907:e[2]>106.50000000000001?Pt=.09032697440623969:Pt=.00047935919155035045;let yt;e[115]>1e-35?yt=.05338335681275557:e[242]>1e-35?e[0]>3615.5000000000005?e[4]>42.50000000000001?e[4]>75.50000000000001?yt=-.10131179514695865:e[8]>938.5000000000001?yt=.10203729808015481:yt=-.015357944186835289:e[1]>56.50000000000001?e[2]>22.500000000000004?yt=.03574015165562999:yt=-.07763042506449493:yt=-.0813323116215548:e[2]>34.50000000000001?e[2]>44.50000000000001?e[4]>51.50000000000001?yt=.0665706259130275:yt=-.06586817559309924:yt=.11925564412287476:yt=-.014170019267143326:e[1]>124.50000000000001?e[2]>30.500000000000004?e[8]>533.5000000000001?e[4]>41.50000000000001?e[8]>977.5000000000001?yt=.046017146627455346:yt=-.08623321630086885:e[8]>1765.5000000000002?yt=-.017990564319859934:e[10]>25.500000000000004?e[10]>48.50000000000001?yt=.11143827902215087:yt=-.01817808730473413:yt=.16980985030210127:yt=-.09357806298740017:e[10]>7.500000000000001?e[10]>54.50000000000001?yt=.010168994879727824:yt=-.09099594488792513:e[9]>1.5000000000000002?yt=.0533459678147928:yt=-.06886854808370108:e[99]>1e-35?e[17]>1e-35?e[9]>22.500000000000004?yt=-.062346959148773695:e[1]>47.50000000000001?yt=-.0021578343835599316:e[2]>27.500000000000004?yt=.19567373210166172:yt=.07851555379116423:e[18]>1e-35?yt=.03711549097804649:e[8]>359.50000000000006?yt=.012492346746905587:e[4]>20.500000000000004?yt=.047511695735697544:yt=-.07999269063948773:yt=6802045404471004e-20;let zt;e[222]>1e-35?e[0]>612.5000000000001?e[10]>1e-35?e[8]>2167.5000000000005?e[4]>25.500000000000004?zt=.0011484728213539738:zt=-.0936582904650763:e[2]>25.500000000000004?e[8]>182.50000000000003?e[10]>22.500000000000004?e[0]>5026.500000000001?zt=-.09828874964938798:e[8]>1586.5000000000002?zt=.13726397438080162:e[4]>48.50000000000001?e[2]>63.50000000000001?zt=.011938269926919522:zt=.17541983715953954:e[19]>1e-35?zt=.023002786011088672:zt=-.06221461272461431:e[9]>2.5000000000000004?e[0]>3818.5000000000005?zt=.06508934844183291:zt=-.10168553534835639:zt=-.07755626499024171:e[2]>51.50000000000001?e[4]>65.50000000000001?zt=.021140806225203937:zt=-.1167833342453639:e[2]>33.50000000000001?zt=.13163585734056618:zt=-.00203273890889717:e[10]>36.50000000000001?e[8]>1067.5000000000002?zt=.06314479201263888:zt=-.09639088327091713:e[10]>29.500000000000004?zt=.09225469303582386:e[0]>3129.5000000000005?e[0]>4091.5000000000005?e[0]>4354.500000000001?zt=40577156464836036e-21:zt=.12322387121810757:zt=-.03697224045046014:e[1]>22.500000000000004?zt=.016474835887320276:zt=.16919298733903063:zt=.07633203630214054:zt=-.047438037934250644:e[30]>1e-35?e[224]>1e-35?e[1]>52.50000000000001?zt=.14150493354700563:zt=-.01831155354975749:e[1]>28.500000000000004?zt=-.07952557178685365:e[10]>28.500000000000004?zt=.0665695554984927:zt=-.053640139319277094:zt=.0004754840665898665;let Kt;e[76]>1e-35?Kt=-.06814884255939921:e[179]>1e-35?Kt=-.06325743795510681:e[122]>1e-35?e[6]>36.50000000000001?Kt=.05052338063261613:e[8]>626.5000000000001?e[1]>38.50000000000001?Kt=.004193658608848433:Kt=-.1066968975983452:e[8]>302.50000000000006?Kt=.05476730110440451:Kt=-.06382970920394895:e[218]>1e-35?e[2]>3.5000000000000004?e[6]>13.500000000000002?e[2]>19.500000000000004?e[0]>3200.5000000000005?e[4]>91.50000000000001?Kt=-.12156071809840739:e[9]>21.500000000000004?e[5]>3883.5000000000005?e[8]>919.5000000000001?e[8]>1085.5000000000002?Kt=.013555772109446666:Kt=-.09856116699770784:Kt=.0284329611813383:e[2]>52.50000000000001?Kt=.04008708444763762:e[9]>29.500000000000004?Kt=-.1289599546008197:Kt=-.018566534248335896:e[8]>747.5000000000001?Kt=.02236484980076122:Kt=.1148871655157582:e[8]>3084.0000000000005?Kt=-.05573875952902531:e[10]>17.500000000000004?e[2]>51.50000000000001?Kt=.03164751204281298:Kt=.11752140436184891:e[9]>42.50000000000001?Kt=-.07180559595410106:e[22]>1e-35?Kt=.09325040416256854:Kt=-.016041122807939914:Kt=-.02765708954618808:e[1]>30.500000000000004?e[1]>66.50000000000001?Kt=-.010718250133458515:Kt=.09818827994853763:Kt=.010180038981174032:Kt=-.039472162599295535:e[9]>170.50000000000003?Kt=-.08536729235976731:e[189]>1e-35?e[0]>5269.500000000001?Kt=-.08674788057474031:Kt=.02077653508548371:Kt=-.0003536561382007414;let sr;e[86]>1e-35?e[10]>6.500000000000001?e[0]>4376.500000000001?sr=.018337297491457794:sr=-.05926206443180149:sr=.024026520855881126:e[288]>1e-35?e[184]>1e-35?sr=.10747078482128616:e[126]>1e-35?sr=-.10550625192391357:e[7]>71.50000000000001?sr=-.07698346027863572:e[8]>302.50000000000006?e[6]>49.50000000000001?e[4]>47.50000000000001?e[1]>38.50000000000001?e[15]>1e-35?sr=.1317396472229434:sr=-.025035791351328947:sr=-.0728334305864372:e[8]>963.5000000000001?sr=.023642201723096064:sr=.183010326734258:e[128]>1e-35?sr=.04228920135648387:e[2]>34.50000000000001?e[15]>1e-35?sr=.002801782941492993:e[3]>40.50000000000001?e[4]>39.50000000000001?sr=-.1088876900335281:sr=.02758317023002635:sr=-.11886771300807207:e[9]>59.50000000000001?e[1]>33.50000000000001?sr=-.01928020117446408:sr=.10193718474139135:e[1]>48.50000000000001?e[4]>9.500000000000002?e[8]>932.5000000000001?sr=.07893723375925096:sr=-.009878929627026153:e[10]>2.5000000000000004?e[9]>20.500000000000004?sr=-.10301657587280551:sr=.005787463140224318:sr=.07421364314695046:e[0]>2840.5000000000005?e[10]>29.500000000000004?sr=-.019296977889522397:sr=-.07274529751752634:e[1]>30.500000000000004?sr=-.050368901143148286:sr=.029630869489466655:e[2]>6.500000000000001?e[4]>9.500000000000002?sr=.0015332402792773946:sr=.09930153676749967:sr=-.06370844564357069:sr=.00042272155209927616;let pe;e[71]>1e-35?e[4]>17.500000000000004?pe=.12586844370423247:pe=-.006791999603126354:e[222]>1e-35?e[1]>10.500000000000002?e[30]>1e-35?e[1]>36.50000000000001?e[9]>1.5000000000000002?e[10]>25.500000000000004?pe=-.08474891624263797:e[8]>125.50000000000001?pe=.08125086980439704:pe=-.04082085238068532:e[0]>3863.5000000000005?pe=.020481535807469208:pe=.14810819386202126:e[0]>1937.5000000000002?e[2]>16.500000000000004?pe=-.019110200161573936:pe=-.12387719685855114:e[0]>1102.5000000000002?pe=.08376595701957407:pe=-.031821919580524834:e[9]>4.500000000000001?pe=-.08116383486497568:e[7]>8.500000000000002?e[2]>24.500000000000004?pe=-.02154820850475448:e[0]>3863.5000000000005?e[8]>902.5000000000001?pe=.1349841206807871:pe=.011864053595560297:e[1]>41.50000000000001?pe=-.08203662486612544:e[2]>18.500000000000004?pe=-.009541865642346947:pe=.08345043168501759:e[2]>10.500000000000002?pe=-.09585031818030947:pe=.019432330487099865:pe=.08399259524715129:e[30]>1e-35?e[224]>1e-35?e[1]>52.50000000000001?pe=.11951517733981365:pe=-.016651014735738538:e[1]>28.500000000000004?pe=-.07410922545030711:e[10]>28.500000000000004?pe=.05886430683844788:pe=-.04929626605117184:e[191]>1e-35?e[9]>9.500000000000002?e[9]>48.50000000000001?pe=.04802269879144705:pe=-.026208212831796737:e[4]>45.50000000000001?pe=-.03227476944664786:pe=.05124575625622705:pe=.00020506696916003137;let Me;e[116]>1e-35?e[9]>2.5000000000000004?e[9]>17.500000000000004?Me=-.03042091758483443:e[10]>14.500000000000002?Me=.09816619204768777:Me=.01332124067720947:e[8]>8.500000000000002?e[4]>15.500000000000002?Me=-.02381165060401718:Me=-.10950361804974783:Me=.03538211665111128:e[212]>1e-35?e[19]>1e-35?Me=-.09940014650006174:e[0]>2215.5000000000005?e[5]>5056.500000000001?e[3]>5.500000000000001?e[10]>25.500000000000004?Me=-.06371052144380579:Me=.0835500621252692:Me=-.10408255929333915:e[1]>74.50000000000001?Me=.13208968122712403:e[1]>64.50000000000001?Me=-.04778844603644965:e[8]>51.50000000000001?e[8]>201.50000000000003?e[8]>660.5000000000001?e[6]>4.500000000000001?e[9]>5.500000000000001?e[1]>29.500000000000004?e[0]>3830.5000000000005?Me=.09922816902423433:Me=.016366955328796718:Me=.1592412560903584:e[1]>39.50000000000001?Me=.05409467990258923:Me=-.08260633210459611:Me=-.06307205775247567:e[9]>36.50000000000001?Me=.040253940015648144:Me=.14202568969471283:Me=-.028761848341594044:Me=.08994073058773508:e[0]>807.5000000000001?Me=-.043427848826323195:Me=.04573516446846493:e[20]>1e-35?e[188]>1e-35?Me=-.0758877731600639:e[23]>1e-35?Me=.05913923322043199:e[8]>155.50000000000003?e[128]>1e-35?Me=.08124700978741987:Me=.013296063087086852:e[7]>5.500000000000001?Me=-.01640196088612987:Me=-.12685498840146067:Me=-.0004940792382459551;let Ze;e[1]>24.500000000000004?e[103]>1e-35?e[8]>61.50000000000001?e[17]>1e-35?Ze=-.05584993681929434:e[9]>27.500000000000004?e[0]>3916.5000000000005?Ze=.08513773825688947:Ze=-.1184664832315282:Ze=.05676963535893477:Ze=.14263843210340613:Ze=.0005795003292924202:e[18]>1e-35?e[0]>5453.500000000001?e[1]>11.500000000000002?Ze=-.10669720555606924:Ze=.029016613003137307:e[2]>46.50000000000001?e[10]>9.500000000000002?Ze=.0664744575868955:Ze=-.08469256188890871:Ze=-.026746678040592144:e[281]>1e-35?Ze=-.07408427239006925:e[145]>1e-35?e[4]>6.500000000000001?e[9]>16.500000000000004?e[4]>18.500000000000004?Ze=.012131807587207655:Ze=-.12776015795398743:Ze=.04320472481083551:Ze=.08390980661550446:e[10]>227.50000000000003?Ze=-.09771783809101153:e[10]>130.50000000000003?Ze=.11175201938704937:e[8]>779.5000000000001?e[5]>3325.5000000000005?e[128]>1e-35?Ze=-.07610698254064358:e[8]>902.5000000000001?Ze=-.03136381213599649:e[131]>1e-35?Ze=.0704821739127936:e[224]>1e-35?Ze=-.056961477774953785:e[10]>30.500000000000004?e[9]>43.50000000000001?Ze=.10431473040024908:e[8]>841.5000000000001?Ze=.07304745320500514:Ze=-.038011541882439825:Ze=-.01679746695007364:e[0]>3129.5000000000005?Ze=.05589952587431965:e[210]>1e-35?Ze=.06227198085800842:Ze=-.0011341890997947812:e[8]>740.5000000000001?Ze=.04817300084412584:Ze=-.000577001010789238;let rt;e[187]>1e-35?e[6]>12.500000000000002?e[10]>8.500000000000002?e[10]>16.500000000000004?e[8]>234.50000000000003?e[4]>43.50000000000001?e[0]>4476.500000000001?rt=-.10504730480402079:e[5]>3341.5000000000005?rt=.11087894671081754:rt=-.0406668834674614:rt=.03308382165616109:e[8]>104.50000000000001?rt=-.10431436764549162:rt=.0073928337244891455:e[4]>34.50000000000001?rt=-.10571751512748416:rt=-.006081128814142983:e[13]>1e-35?rt=.1299673566095023:e[4]>60.50000000000001?rt=-.06587492443829139:e[0]>2604.5000000000005?e[3]>19.500000000000004?rt=.04857126072645073:rt=-.03431365358104773:e[4]>16.500000000000004?rt=.04101865986596709:rt=.16480274980378218:e[10]>26.500000000000004?rt=.03673978504199255:e[10]>9.500000000000002?rt=-.10996402743800027:e[308]>1e-35?rt=.0553693735082498:rt=-.041600136235644125:e[306]>1e-35?e[8]>1156.5000000000002?e[4]>14.500000000000002?e[10]>21.500000000000004?rt=.010902983761213922:rt=.1325118659895645:rt=-.064362945508595:e[1]>66.50000000000001?rt=.033416767779331176:rt=-.054080316225040496:e[42]>1e-35?rt=-.07762364337810815:e[10]>1089.5000000000002?rt=-.08465599849125216:e[31]>1e-35?e[8]>30.500000000000004?rt=.012788520036013586:e[1]>32.50000000000001?e[1]>51.50000000000001?rt=.0220102041325908:rt=-.06516708740003069:rt=.012833498905748267:e[224]>1e-35?rt=-.007038418272997865:rt=.00037666304316290967;let kt;e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?kt=.07554189644995735:kt=-.052089349455904946:kt=-.10148206848169845:e[113]>1e-35?kt=-.06666678653225779:e[39]>1e-35?e[9]>3.5000000000000004?e[0]>3670.5000000000005?kt=.07172653627995676:kt=-.07602959317610998:kt=-.08790686271287523:e[229]>1e-35?e[0]>2952.5000000000005?e[0]>3904.5000000000005?kt=-.0399322883690891:kt=.06523495517476098:kt=-.10358715295743802:e[193]>1e-35?kt=-.05551414334329124:e[134]>1e-35?e[11]>1e-35?e[2]>13.500000000000002?e[10]>1.5000000000000002?kt=.015928764772252406:kt=.1341513061552287:kt=-.04975001987586173:e[10]>2.5000000000000004?e[3]>5.500000000000001?e[9]>2.5000000000000004?e[8]>310.50000000000006?kt=-.033592997607280156:kt=-.12432458028446665:e[1]>32.50000000000001?e[217]>1e-35?kt=-.08402551858097379:kt=.017401984506038796:e[1]>25.500000000000004?kt=.13337205393591278:kt=-.01160208350090984:kt=.06708317942315471:e[8]>227.50000000000003?kt=-.08486943882418681:kt=-.013970104864235007:e[8]>4968.500000000001?e[1]>31.500000000000004?e[9]>4.500000000000001?kt=-.10496268177586783:kt=-.020921489532370493:kt=.02629915927247642:e[7]>20.500000000000004?e[8]>251.50000000000003?e[115]>1e-35?kt=.11639296062157028:kt=-.004275784356569115:e[32]>1e-35?kt=-.07297384970166025:kt=.006026841626381599:kt=.002034611134960428;let bt;e[248]>1e-35?bt=.06091438745093315:e[0]>384.50000000000006?e[204]>1e-35?e[1]>62.50000000000001?bt=-.06455513326540585:e[1]>29.500000000000004?bt=.07718474591552532:e[4]>7.500000000000001?bt=.040139336931404826:bt=-.09685734690563386:bt=.00015327283570347363:e[9]>88.50000000000001?bt=.10079017954199324:e[1]>47.50000000000001?e[2]>20.500000000000004?e[2]>27.500000000000004?bt=-.04077257804338707:bt=.0739963982640615:e[9]>1.5000000000000002?e[17]>1e-35?bt=.03778141591008941:bt=-.06459919920634845:bt=-.11193190957880604:e[7]>6.500000000000001?e[11]>1e-35?e[18]>1e-35?bt=.14063930759326346:e[0]>179.50000000000003?bt=.07287482250668585:e[8]>1180.5000000000002?bt=-.14419393112726253:e[10]>28.500000000000004?bt=-.07993142770099469:e[17]>1e-35?bt=-.04702595410391655:e[7]>21.500000000000004?e[2]>26.500000000000004?bt=.05527969663610186:bt=-.10824385941441346:e[3]>11.500000000000002?bt=.12358502961047915:bt=-.017509147119622873:e[0]>74.50000000000001?bt=-.014907705458730486:e[8]>95.50000000000001?bt=-.02225118168342062:bt=-.1222374623708485:e[8]>1.5000000000000002?e[8]>950.5000000000001?bt=.06946188930925638:e[3]>6.500000000000001?e[10]>2.5000000000000004?e[19]>1e-35?bt=.04962819555610421:bt=-.07213577821855309:bt=.09139529824708481:e[19]>1e-35?bt=.013439401088345224:bt=-.049274647207292056:bt=.10531673719686951;let Qt;e[40]>1e-35?e[0]>1937.5000000000002?Qt=-.06421671152073961:Qt=.04235421241226177:e[294]>1e-35?e[10]>50.50000000000001?Qt=-.09100102290316286:e[0]>3030.5000000000005?e[0]>4177.500000000001?Qt=-.03520420769287065:e[8]>1085.5000000000002?Qt=-.019817352506127633:Qt=.11444439424520964:Qt=-.06854631664538167:e[120]>1e-35?e[4]>18.500000000000004?Qt=-.010490117519863269:Qt=.08104430117757461:e[121]>1e-35?e[243]>1e-35?Qt=.16408304891242204:e[217]>1e-35?e[0]>4449.500000000001?Qt=.06619344145920268:e[0]>4091.5000000000005?Qt=-.08813353450871053:e[0]>3519.5000000000005?e[8]>668.5000000000001?Qt=.10016091391222309:Qt=-.017407607199427293:e[8]>501.50000000000006?e[10]>16.500000000000004?Qt=-.019511460451434884:Qt=-.11643672465055221:e[2]>18.500000000000004?Qt=.07848228087333317:e[8]>55.50000000000001?Qt=.032583027899956235:Qt=-.11209832692153521:e[11]>1e-35?Qt=.027482174104412567:e[10]>1.5000000000000002?e[6]>26.500000000000004?e[4]>19.500000000000004?e[9]>31.500000000000004?Qt=-.09996887746328006:e[9]>2.5000000000000004?Qt=.02157682011863397:Qt=-.05247727848991843:Qt=.07409150201483244:e[1]>38.50000000000001?Qt=-.11378466075449625:e[224]>1e-35?Qt=-.10741749127732923:e[1]>26.500000000000004?Qt=.07343136534146562:Qt=-.07013573628594773:e[25]>1e-35?Qt=-.04626669734164317:Qt=.05518333197956482:Qt=.00032434010867555516;let Ot;e[183]>1e-35?e[10]>1.5000000000000002?e[17]>1e-35?Ot=.026313251010808853:Ot=-.08997339150292381:Ot=.025062509535227952:e[227]>1e-35?e[1]>6.500000000000001?e[2]>9.500000000000002?e[210]>1e-35?Ot=.08071107515789745:e[23]>1e-35?e[1]>75.50000000000001?Ot=.0905155504503746:e[8]>1049.5000000000002?Ot=-.062312558183394054:e[8]>719.5000000000001?Ot=.09583836191410239:e[0]>3719.5000000000005?Ot=-.0778097309430818:Ot=.04012012419054895:e[4]>12.500000000000002?e[8]>1496.5000000000002?e[10]>42.50000000000001?Ot=-.12920865648544927:e[0]>2699.5000000000005?Ot=-.07086587879041864:Ot=.022614182502461846:e[4]>15.500000000000002?e[8]>55.50000000000001?e[1]>60.50000000000001?e[8]>652.5000000000001?Ot=-.11377786322600797:Ot=-.009486325820117998:e[1]>55.50000000000001?Ot=.12430248795958142:e[0]>2952.5000000000005?e[0]>4331.500000000001?e[1]>38.50000000000001?Ot=-.07938291201004219:e[2]>36.50000000000001?Ot=.01520046732530246:Ot=.13649854049662832:Ot=-.07145015938528873:e[8]>407.50000000000006?Ot=-.00350257360822279:Ot=.11332047082193297:Ot=-.10060624458629897:Ot=.05429496612497562:e[8]>1446.5000000000002?Ot=.006073419197482838:Ot=-.08718676350883998:Ot=-.11532497988252638:Ot=.10766270463068293:e[34]>1e-35?Ot=-.06345912440611544:e[131]>1e-35?e[9]>1.5000000000000002?Ot=-.0004109812623829506:Ot=.021601073497455662:Ot=-7343540098965853e-20;let wt;e[298]>1e-35?e[9]>12.500000000000002?e[133]>1e-35?wt=-.06107663265515864:e[9]>70.50000000000001?e[10]>37.50000000000001?wt=.05995640200798119:e[0]>3443.5000000000005?wt=-.14698883458733583:wt=-.030039164579240187:e[189]>1e-35?wt=-.06086763220538141:e[1]>86.50000000000001?wt=-.05096727866142538:e[4]>64.50000000000001?wt=.11240554253834577:e[4]>45.50000000000001?wt=-.030279760168394117:e[6]>45.50000000000001?wt=.10161088917815142:e[10]>77.50000000000001?wt=-.0792333078055653:e[7]>23.500000000000004?e[0]>2882.5000000000005?wt=-.06672020005240323:wt=.08831457502630258:e[8]>2592.5000000000005?wt=-.052617701047376654:e[10]>29.500000000000004?wt=.08499327690298047:e[2]>12.500000000000002?e[9]>41.50000000000001?wt=.12880460816709416:e[9]>25.500000000000004?e[4]>11.500000000000002?wt=-.064099222705728:wt=.044332487521538365:e[0]>2882.5000000000005?wt=.031099546885005065:wt=.12938467051623853:e[0]>4221.500000000001?wt=-.0928676413498701:e[9]>30.500000000000004?wt=-.05781824812803708:wt=.07561268901778094:e[8]>711.5000000000001?e[2]>22.500000000000004?wt=-.06648105454098469:wt=.05985487552383097:wt=-.13070190291919334:e[116]>1e-35?e[10]>38.50000000000001?wt=.05282385499619401:e[1]>66.50000000000001?wt=.048802929108006314:e[2]>4.500000000000001?e[0]>4593.500000000001?wt=.027885690791379255:wt=-.08407126408362446:wt=.014432924125571093:wt=-9903435845205118e-20;let Rt;e[76]>1e-35?Rt=-.06307875292162934:e[21]>1e-35?e[7]>10.500000000000002?e[10]>4.500000000000001?e[8]>944.5000000000001?e[0]>3655.5000000000005?Rt=.013633653464240465:Rt=-.10164319411983509:Rt=-.1228424374328996:e[1]>26.500000000000004?e[2]>28.500000000000004?Rt=.00632864847804078:Rt=-.08393000368134668:Rt=.07870508617440916:e[284]>1e-35?Rt=.1092302727710421:Rt=-.0025505047582483234:e[248]>1e-35?Rt=.07101822393621864:e[274]>1e-35?Rt=-.06621099406425579:e[1]>26.500000000000004?e[1]>28.500000000000004?Rt=.0003077044909372931:e[10]>2.5000000000000004?e[0]>3770.5000000000005?Rt=.025081789181021243:Rt=-.014813325803582618:e[9]>33.50000000000001?Rt=-.033466921233840194:e[3]>12.500000000000002?e[23]>1e-35?Rt=.11926990418060353:Rt=.01852125513565268:Rt=.0975367595927343:e[5]>3325.5000000000005?e[8]>892.5000000000001?e[133]>1e-35?Rt=-.1178464984373743:e[283]>1e-35?Rt=.043370859226927405:e[5]>4320.500000000001?Rt=-.01103141226366587:e[8]>1104.5000000000002?Rt=-.023053423988095886:Rt=-.0734238953804657:e[6]>18.500000000000004?e[8]>85.50000000000001?Rt=.000579145585864887:Rt=.03389152834202143:e[128]>1e-35?Rt=-.14527722052568462:e[210]>1e-35?Rt=-.08915971541902741:e[7]>9.500000000000002?Rt=-.03307314577076116:e[18]>1e-35?Rt=-.05521712302023565:Rt=.009315605032770029:Rt=.0036332551852289933;let _t;e[0]>689.5000000000001?e[5]>768.5000000000001?e[20]>1e-35?e[5]>4368.500000000001?_t=-.07583539600416284:e[188]>1e-35?_t=-.07042659515500142:e[23]>1e-35?e[0]>3807.5000000000005?_t=-.011038193049597113:_t=.08154028164397753:e[1]>85.50000000000001?_t=.10259361975201933:_t=.011640408330521594:_t=-.00023319159023748508:e[92]>1e-35?_t=.13771692859530546:_t=.022860029819654806:e[1]>22.500000000000004?e[1]>24.500000000000004?e[2]>96.50000000000001?_t=.09967230141007705:e[30]>1e-35?_t=-.08888529037551285:_t=-.008615931385397808:e[10]>5.500000000000001?e[4]>36.50000000000001?_t=.08284665960761373:_t=-.029292565021289504:e[7]>7.500000000000001?_t=-.09945093355204493:_t=-.008381393701708593:e[20]>1e-35?_t=-.04218678460370465:e[10]>6.500000000000001?e[9]>2.5000000000000004?e[1]>13.500000000000002?e[8]>143.50000000000003?e[4]>7.500000000000001?e[2]>36.50000000000001?_t=.07585582641438211:e[8]>284.50000000000006?_t=-.029387993239886723:_t=.07716738177321587:e[1]>18.500000000000004?_t=.026745348497993746:_t=.1427429617069753:e[9]>16.500000000000004?e[9]>33.50000000000001?_t=.02337306890530338:_t=-.10390355904767366:_t=.07390521199638532:_t=-.06788247515155237:_t=-.04201446383470994:e[2]>25.500000000000004?e[2]>29.500000000000004?e[8]>227.50000000000003?_t=-.06360325615644084:_t=.04342192339836601:_t=-.10598779152030145:_t=.05253384605768211;let qt;e[3]>7.500000000000001?e[157]>1e-35?qt=-.07514182877923786:qt=.000636205502279271:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?qt=.028692053800951845:qt=.14081686716133598:qt=-.03316566526940354:e[186]>1e-35?e[0]>2653.5000000000005?qt=.0037139292567243084:qt=.12662311031652707:e[107]>1e-35?e[0]>612.5000000000001?qt=.01202688580305612:qt=.0993509141454483:e[203]>1e-35?e[1]>77.50000000000001?qt=.043935495082738626:qt=-.05639305759669704:e[247]>1e-35?qt=-.06770766046891649:e[105]>1e-35?e[19]>1e-35?qt=.10331836202616368:qt=.0006926658459781341:e[96]>1e-35?qt=.05361846065599475:e[127]>1e-35?e[0]>2723.5000000000005?e[1]>54.50000000000001?qt=-.0741403257305367:qt=.022900127535540854:e[7]>3.5000000000000004?qt=.038110741403836294:qt=.14618649985842758:e[5]>3921.5000000000005?e[1]>110.50000000000001?qt=-.09552842289807008:e[1]>27.500000000000004?qt=.012505935885798007:qt=-.020509603428689526:e[282]>1e-35?e[9]>45.50000000000001?e[6]>5.500000000000001?qt=-.1046104767723845:qt=.031388606992301074:e[8]>114.50000000000001?e[9]>17.500000000000004?e[9]>22.500000000000004?e[1]>32.50000000000001?qt=.023466328488582572:qt=.11730925774586994:qt=-.04771965631104874:qt=.17059689880751394:qt=-.08181850955999449:e[26]>1e-35?qt=-.12727482696678769:qt=-.014343123272734182;let Ht;e[147]>1e-35?e[1]>53.50000000000001?Ht=-.0993064321015924:e[0]>2604.5000000000005?e[0]>3629.5000000000005?Ht=-.02763546051134888:Ht=.06423344777499343:Ht=-.064606430904295:e[302]>1e-35?e[10]>2.5000000000000004?e[10]>47.50000000000001?Ht=.049825139823021586:e[7]>22.500000000000004?Ht=-.01131680751379858:e[0]>2579.5000000000005?Ht=-.10673674485369694:Ht=-.015387212937189957:Ht=.04347325151148724:e[179]>1e-35?Ht=-.05788885608624092:e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?Ht=.0650355590939066:Ht=-.0473332870892226:Ht=-.09699315983340703:e[288]>1e-35?e[88]>1e-35?Ht=.11139543329789044:e[126]>1e-35?Ht=-.09726928633696198:e[8]>149.50000000000003?e[9]>46.50000000000001?e[4]>1.5000000000000002?e[8]>1861.5000000000002?Ht=.06370903833231022:e[10]>29.500000000000004?Ht=.03415223859607161:e[10]>3.5000000000000004?Ht=-.07415518117873297:Ht=-.0014119203473324082:Ht=.12617652343819508:e[9]>41.50000000000001?Ht=-.10311145857176976:e[8]>2757.5000000000005?Ht=-.08106484219011428:e[7]>71.50000000000001?Ht=-.09783384432091176:e[1]>88.50000000000001?Ht=.06249739709782831:e[3]>9.500000000000002?e[5]>1601.5000000000002?Ht=-.008884084501608536:Ht=.061339437777743616:Ht=-.042490992675121846:e[2]>6.500000000000001?e[3]>10.500000000000002?Ht=.01526664064166223:Ht=.13534828515415498:Ht=-.06985484465894776:Ht=.0005758961943178744;let Jt;e[86]>1e-35?e[1]>23.500000000000004?e[1]>29.500000000000004?e[4]>16.500000000000004?e[2]>31.500000000000004?Jt=-.029152732370514342:Jt=.07173628916139178:e[1]>36.50000000000001?Jt=-.08859111297255318:Jt=.0018030071815630785:Jt=.13652461563759322:Jt=-.07550137680349367:e[10]>52.50000000000001?e[49]>1e-35?Jt=-.07145140450454163:e[21]>1e-35?Jt=-.07422841663493233:Jt=.006289319702780104:e[10]>40.50000000000001?e[9]>59.50000000000001?e[19]>1e-35?e[13]>1e-35?Jt=.11864240653986852:e[3]>33.50000000000001?Jt=-.08821209591953476:Jt=.05706392280054726:Jt=-.03600088051578915:e[18]>1e-35?e[1]>24.500000000000004?Jt=.01953613016837112:Jt=-.059781039130025006:e[148]>1e-35?Jt=.052668447861325476:e[3]>30.500000000000004?e[9]>49.50000000000001?Jt=.07207826841738371:e[202]>1e-35?Jt=.08163917539410503:Jt=-.01319846363832958:e[9]>35.50000000000001?e[5]>4134.500000000001?e[10]>44.50000000000001?Jt=-.06858280496900336:Jt=-.1781828899516648:Jt=-.04024620133969553:e[9]>10.500000000000002?e[1]>22.500000000000004?e[1]>37.50000000000001?Jt=.018232649414147116:Jt=-.04419781124222661:Jt=.05145485182416554:e[1]>23.500000000000004?e[0]>655.5000000000001?e[5]>4901.500000000001?e[10]>45.50000000000001?Jt=.11452368095776105:Jt=-.036496437259924026:Jt=-.040445338739465486:Jt=.0816572651001145:Jt=-.08968914517368663:Jt=.0002826343082585516;let ur;e[189]>1e-35?e[0]>5269.500000000001?ur=-.08839493050459957:e[10]>85.50000000000001?ur=.10046908365702462:e[8]>2592.5000000000005?ur=-.09632233975926387:e[8]>2000.5000000000002?ur=.10282992953871627:e[8]>1266.5000000000002?e[9]>34.50000000000001?ur=.035504970430426296:e[1]>31.500000000000004?ur=-.1133764813142531:ur=-.01138280942244812:e[8]>1125.5000000000002?ur=.09800530246229806:ur=.016170419267589393:e[218]>1e-35?e[9]>99.50000000000001?e[9]>101.50000000000001?e[9]>124.50000000000001?ur=.07316772160107896:ur=-.059095014819051765:ur=.17859437315769733:e[2]>1.5000000000000002?e[9]>86.50000000000001?ur=-.09150209066166894:e[8]>3084.0000000000005?ur=-.05443972593168094:e[1]>65.50000000000001?e[10]>11.500000000000002?e[9]>33.50000000000001?ur=-.04449234460408263:ur=.05568837973347338:ur=-.12362324875024472:e[1]>41.50000000000001?e[10]>12.500000000000002?e[8]>1336.5000000000002?ur=.12741077850267066:ur=.007372371864985329:e[2]>39.50000000000001?ur=.02295917234617787:ur=.14966532083907075:e[1]>39.50000000000001?ur=-.06685557815340279:e[10]>22.500000000000004?e[2]>52.50000000000001?ur=-.02511861881285652:e[1]>27.500000000000004?ur=.08683660011672288:ur=.02956214835267301:e[9]>15.500000000000002?ur=-.016538805462996232:ur=.04352738094981517:ur=-.05561856645643868:e[9]>170.50000000000003?ur=-.07996752635874248:e[179]>1e-35?ur=-.09065975936933919:ur=-.00042817975060427177;let gr;e[39]>1e-35?e[4]>25.500000000000004?gr=.03443173196222934:gr=-.06554248341270724:e[32]>1e-35?e[8]>90.50000000000001?e[4]>67.50000000000001?e[4]>86.50000000000001?gr=-.0013415395759330318:gr=.12950978489563347:e[1]>22.500000000000004?e[10]>19.500000000000004?e[4]>30.500000000000004?e[9]>41.50000000000001?gr=.002297618040307216:gr=-.12522800128774994:e[4]>8.500000000000002?e[8]>1075.5000000000002?gr=-.015297257305397608:gr=.09651828834062742:gr=-.06636003334371929:e[10]>11.500000000000002?gr=.17631616138309397:e[0]>1639.5000000000002?gr=3804386478092585e-20:gr=-.09099296398683193:gr=-.06874415876172972:e[0]>2151.5000000000005?gr=-.1311264883406766:gr=.00809052010141122:e[253]>1e-35?gr=-.06338558211939296:e[178]>1e-35?e[2]>25.500000000000004?e[2]>30.500000000000004?e[0]>2151.5000000000005?e[10]>10.500000000000002?e[0]>3615.5000000000005?gr=.045038497754638605:gr=-.07770167665661752:gr=-.08596294280650517:gr=.08538655727027213:gr=.09829076418590559:e[1]>39.50000000000001?e[9]>1.5000000000000002?gr=.054627956617973275:e[1]>61.50000000000001?gr=-.11994465088415499:e[4]>8.500000000000002?gr=.06676200239406452:gr=-.027503148069376867:e[8]>676.5000000000001?gr=-.10363964928357075:e[4]>8.500000000000002?gr=-.07589816227175682:gr=.034664436544646814:e[1]>159.50000000000003?e[6]>25.500000000000004?gr=.009093153189012338:gr=-.06119765876605404:gr=.0004668642103528348;let lr;e[223]>1e-35?e[1]>31.500000000000004?e[8]>711.5000000000001?lr=-.10100794502567233:lr=.08000205636470442:lr=-.11945419826856896:e[113]>1e-35?lr=-.06105445938688056:e[167]>1e-35?e[0]>3928.5000000000005?lr=.1224302423880318:lr=-.01875566982911468:e[222]>1e-35?e[1]>8.500000000000002?e[1]>24.500000000000004?e[4]>3.5000000000000004?e[0]>725.5000000000001?e[0]>1682.5000000000002?e[0]>2860.5000000000005?lr=.0019277012166729114:e[1]>28.500000000000004?lr=-.054445821715687494:lr=.045645722976713245:e[30]>1e-35?lr=.13402660155331655:lr=.008921176001777645:lr=-.058547426505451076:lr=.08841202222426625:e[1]>22.500000000000004?e[10]>9.500000000000002?lr=-.13526418192218206:lr=-.03266013432583145:e[1]>20.500000000000004?e[4]>27.500000000000004?lr=.0007263224246135398:lr=.12450043268647056:e[1]>17.500000000000004?e[9]>1.5000000000000002?lr=-.11575657261278308:lr=-.01530376565862095:e[4]>13.500000000000002?e[4]>22.500000000000004?lr=-.01995960178292952:lr=.11216586049153021:lr=-.10050961087149474:lr=.08848063368485726:e[30]>1e-35?e[224]>1e-35?e[1]>52.50000000000001?lr=.10303451081526649:lr=-.01375730267020699:e[1]>28.500000000000004?e[2]>20.500000000000004?lr=-.043799548968209395:lr=-.12451444314954115:e[4]>12.500000000000002?lr=-.03838117361958468:lr=.06504990789767144:e[57]>1e-35?lr=.06890006938293915:lr=.0003914274695562949;let fr;e[53]>1e-35?e[4]>11.500000000000002?e[8]>617.5000000000001?e[2]>41.50000000000001?fr=.004271749009686975:fr=-.10523878297127605:fr=.04633982158107851:fr=-.10349713975483057:e[183]>1e-35?e[15]>1e-35?fr=-.08655730561951676:e[8]>919.5000000000001?fr=-.0676453705610183:e[7]>18.500000000000004?fr=-.027787974193650575:fr=.08012784576991301:e[227]>1e-35?e[1]>6.500000000000001?e[3]>8.500000000000002?e[210]>1e-35?fr=.07185850683316512:e[8]>201.50000000000003?e[8]>348.50000000000006?e[23]>1e-35?e[8]>1049.5000000000002?fr=-.03473877164537313:e[8]>719.5000000000001?fr=.10471053866934404:fr=.008236107678382981:e[4]>57.50000000000001?fr=.09412219478825269:e[10]>66.50000000000001?fr=-.13884338641811986:e[10]>19.500000000000004?e[10]>22.500000000000004?e[0]>2490.5000000000005?fr=-.040681323751002293:fr=.06374650297561021:fr=.12884615227401788:e[10]>5.500000000000001?fr=-.0887517295786972:e[8]>597.5000000000001?e[18]>1e-35?fr=-.05474068967150784:fr=.03744700650806603:fr=-.07846396348680855:e[1]>42.50000000000001?fr=.018972315810821302:fr=.10953621007604744:e[5]>4439.500000000001?fr=.010999776705494586:e[1]>40.50000000000001?fr=-.12394200059775967:e[10]>2.5000000000000004?fr=.013528093962849453:fr=-.09222088417048682:fr=-.12662967149701485:fr=.09327296405849603:e[3]>99.50000000000001?fr=-.013581954439986752:fr=.0005526498251862075;let rr;e[187]>1e-35?e[243]>1e-35?rr=-.08392792551692502:e[10]>68.50000000000001?rr=.07871769409454053:e[10]>8.500000000000002?e[10]>16.500000000000004?e[2]>17.500000000000004?e[3]>31.500000000000004?e[91]>1e-35?e[10]>21.500000000000004?e[10]>33.50000000000001?e[10]>48.50000000000001?rr=-.0825306209711224:rr=.049559996084532945:rr=-.1064938580886302:rr=.03353240732240275:rr=.045985370399163464:e[1]>42.50000000000001?e[4]>20.500000000000004?rr=.16966001471529374:e[1]>57.50000000000001?rr=-.005772777673676247:rr=.09383677041525058:e[8]>747.5000000000001?rr=.054068175469351235:rr=-.049968216310277036:e[8]>753.5000000000001?rr=-.0679383555784074:e[4]>8.500000000000002?rr=-.059757341189735386:rr=.05701083682780414:rr=-.052497281448921164:e[6]>12.500000000000002?e[8]>969.5000000000001?e[4]>23.500000000000004?rr=.05820296128730006:rr=-.1063042385102475:e[1]>49.50000000000001?e[8]>302.50000000000006?rr=.15340611616954566:rr=.04385036188666874:e[0]>4449.500000000001?rr=-.02110897605541555:e[1]>24.500000000000004?e[2]>17.500000000000004?rr=.004840354641006495:rr=.09967827580276283:rr=.11605363537391578:e[9]>19.500000000000004?rr=-.0735831692725717:rr=.019973331823355176:e[306]>1e-35?e[149]>1e-35?rr=-.08968948874343531:e[8]>1094.5000000000002?e[10]>15.500000000000002?rr=-.02442182361342386:rr=.10334853004243093:rr=-.030431948680167104:rr=-956078595250818e-19;let dr;e[294]>1e-35?e[1]>26.500000000000004?e[0]>4078.5000000000005?dr=-.040232505718244854:e[0]>3030.5000000000005?dr=.0634109586813073:dr=-.04043617034245621:dr=-.06385323610738443:e[120]>1e-35?e[4]>18.500000000000004?dr=-.007859096946435131:dr=.07282728486115758:e[229]>1e-35?e[0]>2952.5000000000005?e[17]>1e-35?dr=.05515771679628051:dr=-.04214471312668263:dr=-.09589322222261765:e[193]>1e-35?dr=-.05056345906812831:e[121]>1e-35?e[243]>1e-35?dr=.14857706653119385:e[4]>9.500000000000002?e[1]>26.500000000000004?e[2]>59.50000000000001?dr=-.08152604001147906:e[11]>1e-35?dr=.09132936522356462:e[15]>1e-35?e[4]>23.500000000000004?dr=.13100930780107503:e[10]>25.500000000000004?dr=.05921074710011526:dr=-.07226005736695183:e[0]>3304.5000000000005?e[0]>3707.5000000000005?e[0]>4053.5000000000005?dr=.0009447118243153454:dr=-.09820565036865991:dr=.057146909749745546:e[0]>2115.5000000000005?dr=-.12331216726611678:dr=.007281983677694285:e[2]>56.50000000000001?dr=.012310154675612615:dr=-.08873665774670461:e[6]>25.500000000000004?dr=.134708740821879:e[9]>5.500000000000001?dr=-.0805901581148979:e[224]>1e-35?dr=-.063684477784257:e[7]>2.5000000000000004?e[19]>1e-35?dr=.10842593386554122:e[2]>13.500000000000002?dr=.06466798320378395:dr=-.08578130788886655:dr=-.03590892078300114:dr=.0003499894043880708;let Ee;e[134]>1e-35?e[6]>50.50000000000001?e[0]>3601.5000000000005?Ee=.10839808814624702:Ee=-.028043875308180352:e[7]>30.500000000000004?e[8]>932.5000000000001?Ee=-.007478368069393829:Ee=-.09066751344326617:e[0]>3588.5000000000005?e[5]>4748.500000000001?Ee=.04035247751736232:e[0]>4255.500000000001?Ee=-.1310865624507367:e[0]>4004.5000000000005?Ee=.06647367311982634:Ee=-.08339693352955757:e[4]>10.500000000000002?e[1]>34.50000000000001?Ee=-.011618902907510411:Ee=.1114646660406691:e[10]>2.5000000000000004?e[0]>3072.5000000000005?Ee=.09356028223727986:Ee=-.03811765057032162:Ee=-.09456215497345526:e[280]>1e-35?e[7]>70.50000000000001?Ee=.10322956436499003:e[2]>22.500000000000004?e[1]>83.50000000000001?Ee=.1146142460964847:e[1]>62.50000000000001?Ee=-.09679869865322362:e[9]>71.50000000000001?Ee=-.07377580769927583:e[4]>19.500000000000004?e[0]>4571.500000000001?Ee=-.039046426387852974:Ee=.04558778688367152:Ee=.11220830937352602:e[7]>5.500000000000001?e[9]>17.500000000000004?e[8]>1067.5000000000002?Ee=.03261697816211156:e[15]>1e-35?Ee=.02586252542264368:e[2]>14.500000000000002?Ee=-.016420452667484604:Ee=-.1011799626006976:Ee=-.13787471318963773:e[6]>4.500000000000001?e[8]>427.50000000000006?e[10]>36.50000000000001?Ee=.010193588102560583:Ee=.11748729525930773:Ee=-.04468162226743652:Ee=-.028365274393617957:e[71]>1e-35?Ee=.05115139346588793:Ee=-.0001510425316936658;let M;e[298]>1e-35?e[8]>81.50000000000001?e[8]>119.50000000000001?e[4]>64.50000000000001?M=.09072192054181037:e[9]>72.50000000000001?e[8]>1094.5000000000002?M=.020637047900190317:M=-.1017300802134141:e[1]>23.500000000000004?e[9]>12.500000000000002?e[0]>2815.5000000000005?e[0]>3183.5000000000005?e[3]>23.500000000000004?e[3]>45.50000000000001?e[4]>48.50000000000001?M=-.04632587527094407:M=.08603684785510396:M=-.05101401015448496:M=.025466432054358498:M=-.07897811963329214:e[6]>13.500000000000002?e[10]>26.500000000000004?M=.020385355430046367:M=.12032592051335252:M=-.012387370292173013:e[2]>23.500000000000004?M=-.12568545484492677:M=-.022261190943521976:e[8]>634.5000000000001?e[8]>857.5000000000001?M=.043528764484784536:M=.14352071657196003:M=-.009332833816977268:M=.11186782227735846:M=-.0737365712425554:e[136]>1e-35?e[0]>1937.5000000000002?M=-.05649104643152564:M=.03884200719305747:e[42]>1e-35?M=-.07191700385792335:e[116]>1e-35?e[9]>2.5000000000000004?e[9]>17.500000000000004?M=-.04103416502526736:M=.04881823954656287:e[4]>15.500000000000002?M=.009342724662897898:e[0]>3969.5000000000005?M=-.025637309961309498:M=-.12574492012987865:e[212]>1e-35?e[19]>1e-35?M=-.08185697075265091:e[0]>2215.5000000000005?M=.030063975892297354:e[0]>807.5000000000001?M=-.03924325550733229:M=.0415330999189793:M=-.00024374664461674863;let de;e[3]>7.500000000000001?de=.0005117490419655908:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?de=.025798416259686565:de=.13251610353146012:de=-.029900559552677654:e[1]>81.50000000000001?e[1]>110.50000000000001?e[0]>4242.500000000001?de=-.11098564237775424:de=25960925309712775e-21:e[0]>4177.500000000001?e[9]>35.50000000000001?de=.15347826616466054:e[3]>4.500000000000001?de=.10379320730958941:de=-.008896303020010654:e[0]>3415.5000000000005?e[0]>3830.5000000000005?de=.03159791088468647:de=-.10612873364104258:de=.05059856107348746:e[133]>1e-35?e[2]>5.500000000000001?de=-.02335760775001469:de=-.1379386577903324:e[1]>62.50000000000001?e[3]>2.5000000000000004?de=-.011164334474672973:de=-.06594044410501655:e[207]>1e-35?de=-.1014214372326535:e[8]>3.5000000000000004?e[107]>1e-35?e[2]>6.500000000000001?de=-.01725821503981916:de=.05594086838700241:e[203]>1e-35?e[1]>44.50000000000001?e[1]>51.50000000000001?de=-.04226531631656534:de=-.14409800530171432:de=-.03245576341206398:e[8]>4214.500000000001?de=.0895409165534886:e[247]>1e-35?de=-.06506383629143335:e[118]>1e-35?de=-.07214270121257443:e[8]>546.5000000000001?de=-.004385020865473831:de=.009321812545248529:e[0]>1639.5000000000002?e[13]>1e-35?de=.046278501133958524:de=-.030835570926968044:e[0]>493.50000000000006?de=-.12794504651610425:de=.009415039807550776;let ye;e[304]>1e-35?ye=-.04717777269217453:e[76]>1e-35?ye=-.05813439142128324:e[1]>59.50000000000001?e[0]>350.50000000000006?e[53]>1e-35?ye=-.09648224457374217:e[132]>1e-35?ye=.07089308107910267:e[0]>2248.5000000000005?e[5]>2525.5000000000005?e[9]>1.5000000000000002?e[114]>1e-35?ye=-.08595213071749083:e[9]>14.500000000000002?e[9]>33.50000000000001?e[285]>1e-35?ye=.10838431695638147:e[230]>1e-35?ye=.06458713915750626:e[0]>3219.5000000000005?e[3]>23.500000000000004?e[9]>69.50000000000001?ye=.050071316251979:ye=-.006356941111525215:e[6]>8.500000000000002?ye=-.0384814076434817:e[1]>73.50000000000001?e[0]>3746.5000000000005?ye=.10217402850540398:ye=-.048840949025349197:ye=-.03668313197909846:e[7]>39.50000000000001?ye=-.0562642841496003:e[10]>2.5000000000000004?ye=.09749777369987417:ye=-.04848223121417616:e[0]>5453.500000000001?ye=.08316648226133942:ye=-.0261979698267618:e[212]>1e-35?ye=.09565573198318654:e[5]>4814.500000000001?e[8]>963.5000000000001?e[8]>1514.5000000000002?ye=.04837009746506856:ye=-.09184360565631328:ye=.0032411047845613606:e[0]>4733.500000000001?ye=.0977378556864798:ye=.010776545559325588:ye=-.012483310473120218:ye=-.049284121449103935:ye=.011962641341789565:e[1]>67.50000000000001?e[1]>77.50000000000001?ye=-.08380361910948711:ye=.07375088778585813:ye=-.1084864186071348:ye=.0007819503469605476;let Y;e[7]>17.500000000000004?e[115]>1e-35?Y=.08741852531696623:e[167]>1e-35?Y=.10078975495600809:Y=-.0018324767784017562:e[290]>1e-35?Y=-.0850089851255888:e[74]>1e-35?e[10]>16.500000000000004?Y=.1379733311640402:Y=-.0038500648529631075:e[6]>29.500000000000004?e[8]>876.5000000000001?e[0]>3129.5000000000005?e[9]>5.500000000000001?e[8]>1765.5000000000002?Y=-.09360083033774169:Y=.061471353193188374:e[10]>11.500000000000002?e[10]>31.500000000000004?Y=-.015599362579530679:e[0]>4593.500000000001?Y=-.12029549262691491:Y=-.018917032256501397:Y=.04632831686576592:Y=.06892347785444271:e[4]>8.500000000000002?e[10]>33.50000000000001?Y=-.05894883236412263:Y=.05213944998315824:Y=.12621779223564986:e[243]>1e-35?e[6]>16.500000000000004?e[0]>4141.500000000001?e[0]>5850.500000000001?Y=.07577412405680808:Y=-.053144737214742235:e[1]>29.500000000000004?e[9]>16.500000000000004?Y=-.0277076900736147:e[1]>65.50000000000001?Y=-.023587471585763506:Y=.10184896592433082:Y=-.057699270527916825:Y=-.041191811945739454:e[114]>1e-35?e[2]>23.500000000000004?Y=.06566902102799584:e[10]>25.500000000000004?Y=-.07033633753181047:Y=-.01599120398351932:e[242]>1e-35?e[0]>2402.5000000000005?Y=-.08108035861059537:Y=.04184690010531078:e[35]>1e-35?e[0]>2904.5000000000005?Y=-.12431182772561139:Y=.01886235886984271:Y=.0025579594894418116;let L;e[8]>2915.5000000000005?e[101]>1e-35?L=.08648323956719083:e[0]>93.50000000000001?e[196]>1e-35?L=-.09509320772734361:e[4]>1.5000000000000002?e[5]>1106.5000000000002?e[5]>1191.5000000000002?e[283]>1e-35?L=-.11268313808648661:e[10]>12.500000000000002?e[131]>1e-35?L=.0687641681341721:e[10]>102.50000000000001?L=-.09667920080214842:e[4]>15.500000000000002?e[8]>2992.5000000000005?e[1]>24.500000000000004?e[1]>71.50000000000001?L=-.06762578396473291:e[10]>65.50000000000001?L=-.05226727783610509:e[282]>1e-35?L=.09911438410640917:e[19]>1e-35?L=.06915156336429933:L=-.006565637886508241:L=-.08344300251849307:L=-.0928863907927501:e[1]>60.50000000000001?e[2]>17.500000000000004?L=.19428463865406298:L=.016073883020956765:e[13]>1e-35?L=.06864077097923665:L=-.01388867527034731:e[0]>1847.5000000000002?L=.004655280608161356:e[1]>40.50000000000001?L=.031406054057765996:L=.12798062439212832:L=.09859670536264255:e[10]>2.5000000000000004?e[9]>68.50000000000001?L=.08821759640665892:e[9]>32.50000000000001?e[8]>3960.0000000000005?e[1]>31.500000000000004?L=-.0706095614785733:L=.04227164041372561:L=-.1056906923176064:e[2]>8.500000000000002?e[19]>1e-35?L=-.07139533369873902:L=.008952586782921625:L=.06086212582180936:L=-.0816938490403437:L=-.051224901945956025:L=-.10525399124186095:L=.000270924147208224;let Te;e[122]>1e-35?e[0]>2461.5000000000005?e[2]>36.50000000000001?Te=.029186512383291244:e[7]>1.5000000000000002?Te=-.14984127276725573:e[1]>40.50000000000001?Te=.032757060730648144:Te=-.07675575422749602:e[6]>8.500000000000002?Te=.10599766037117893:Te=-.0541423394552156:e[1]>24.500000000000004?e[103]>1e-35?e[8]>61.50000000000001?e[17]>1e-35?Te=-.051394622947855385:Te=.03237141302699347:Te=.12526173027943244:Te=.000579473126472788:e[18]>1e-35?e[3]>4.500000000000001?e[3]>6.500000000000001?e[0]>5453.500000000001?Te=-.07383912482657777:e[0]>5147.500000000001?Te=.07008813937042091:e[10]>38.50000000000001?Te=-.06779203808365307:Te=-.013782769999524498:Te=.0880038869117715:Te=-.12846294176070952:e[281]>1e-35?Te=-.06810806903850834:e[10]>227.50000000000003?Te=-.08937977001661111:e[10]>130.50000000000003?Te=.10538920632708033:e[145]>1e-35?e[4]>6.500000000000001?e[9]>16.500000000000004?e[4]>18.500000000000004?Te=.011036530162093841:Te=-.11500797478569702:Te=.03702229366129399:Te=.07242026683784307:e[189]>1e-35?Te=.03331407112090286:e[9]>33.50000000000001?e[201]>1e-35?Te=.08979610115743614:e[7]>57.50000000000001?e[1]>20.500000000000004?Te=-.02608892716555304:Te=.09609599320761308:e[9]>105.50000000000001?Te=-.06848127135991534:Te=.0023675721254089715:e[86]>1e-35?Te=-.11049635625500497:Te=-.004847764219432233;let Ue;e[125]>1e-35?e[0]>3969.5000000000005?Ue=-.09462233499115416:Ue=.05235324508465096:e[17]>1e-35?e[49]>1e-35?e[10]>19.500000000000004?Ue=-.030700661288166148:Ue=.0870883677166864:e[10]>3.5000000000000004?e[3]>18.500000000000004?e[0]>3544.5000000000005?e[188]>1e-35?e[9]>7.500000000000001?Ue=.03149547314036763:Ue=-.08166208257451366:e[0]>5850.500000000001?Ue=-.10228136324773157:e[102]>1e-35?Ue=-.10572585290676295:e[8]>726.5000000000001?e[5]>3657.5000000000005?Ue=.01782894842128785:e[13]>1e-35?Ue=.002680190260979968:Ue=.1773965720476949:e[2]>72.50000000000001?Ue=.09090831938627947:e[1]>59.50000000000001?Ue=-.12297206702816128:e[0]>4977.500000000001?Ue=.09899015653118268:Ue=-.022207141540838887:e[4]>32.50000000000001?e[1]>34.50000000000001?Ue=-.0675900954187773:Ue=.012336403425364092:Ue=-.0017002325391924573:e[6]>7.500000000000001?e[1]>17.500000000000004?Ue=-.02671721777458802:Ue=-.09242452991958029:e[284]>1e-35?Ue=-.08585691288582491:Ue=.013332890564324447:e[4]>14.500000000000002?Ue=-.005245022074799553:e[23]>1e-35?Ue=-.020036720167235768:e[1]>29.500000000000004?e[114]>1e-35?Ue=-.09289852307936758:e[116]>1e-35?Ue=-.09686573010015055:e[8]>804.5000000000001?Ue=.03812547148215318:Ue=.005162744968176633:e[9]>43.50000000000001?Ue=-.059246106396159376:Ue=.050370113808135275:Ue=.000794041852811028;let xt;e[3]>7.500000000000001?xt=.0004981426543104341:e[9]>114.50000000000001?xt=.05666010099424601:e[129]>1e-35?e[6]>3.5000000000000004?xt=-.019061766497948867:xt=.07193491146561211:e[186]>1e-35?e[0]>2653.5000000000005?xt=-.006044199577160493:xt=.1147136801028133:e[6]>85.50000000000001?e[8]>847.5000000000001?xt=.11486607015912494:e[9]>16.500000000000004?xt=-.08686820858087294:xt=.06119632492911875:e[127]>1e-35?e[0]>2723.5000000000005?e[0]>3682.5000000000005?e[1]>38.50000000000001?xt=-.022230207980026437:xt=.1056683690528792:xt=-.05859530800943035:xt=.06970608927597141:e[7]>3.5000000000000004?e[105]>1e-35?xt=.08073568184886762:e[107]>1e-35?e[2]>6.500000000000001?xt=-.05177544573528314:xt=.05370469772149028:e[1]>35.50000000000001?e[0]>4106.500000000001?e[9]>46.50000000000001?e[0]>4633.500000000001?xt=.15159657923771555:xt=-.0060542654587671055:e[9]>5.500000000000001?xt=-.042808028205051786:e[1]>48.50000000000001?xt=-.010449538258110742:xt=.10026907521968294:xt=-.04249349329714756:e[9]>42.50000000000001?e[1]>19.500000000000004?e[8]>852.5000000000001?xt=-.02272452389409874:xt=-.11202691218244319:e[5]>1809.5000000000002?xt=-.04460413584255906:xt=.08196329474205256:e[10]>69.50000000000001?xt=.10221481166238167:xt=.0004063052701699382:e[243]>1e-35?xt=-.07563941678849846:e[18]>1e-35?xt=.02563513231103432:xt=-.004740081147303786;let Wt;e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?Wt=.057446442918106:Wt=-.04404018270156349:Wt=-.09282976714550464:e[0]>384.50000000000006?e[204]>1e-35?e[1]>62.50000000000001?Wt=-.05930486238817954:e[1]>29.500000000000004?Wt=.06955866121256543:e[8]>597.5000000000001?Wt=-.06538593556505168:Wt=.06212512595497445:Wt=.00021102929959182257:e[9]>90.50000000000001?Wt=.0958061289119631:e[102]>1e-35?Wt=.07172059675638813:e[1]>47.50000000000001?Wt=-.03879798603977766:e[297]>1e-35?Wt=.054948234271956144:e[282]>1e-35?e[2]>6.500000000000001?Wt=.003805910996312012:Wt=.09304295674749524:e[11]>1e-35?e[18]>1e-35?Wt=.11252376801858695:e[288]>1e-35?Wt=-.10293901912180432:Wt=.014669268837893872:e[1]>42.50000000000001?Wt=-.05988274123836837:e[145]>1e-35?Wt=.06142784665288495:e[3]>1.5000000000000002?e[4]>4.500000000000001?e[1]>21.500000000000004?e[1]>27.500000000000004?e[9]>24.500000000000004?Wt=.038791154988529926:e[10]>22.500000000000004?e[2]>19.500000000000004?Wt=-.03366718308159971:Wt=.11936550608549797:e[1]>31.500000000000004?Wt=-.07454716789539667:Wt=.027859650621164217:e[10]>10.500000000000002?Wt=-.11806374092321247:Wt=-.03506042229223101:Wt=-.0007080765837654515:e[10]>6.500000000000001?Wt=-.028077713664996503:e[2]>7.500000000000001?Wt=.15803724124216814:Wt=.0351381284833169:Wt=-.07877953381054767;let Nt;e[131]>1e-35?e[282]>1e-35?e[4]>23.500000000000004?Nt=.14144941521975005:Nt=.0007727806714190652:e[9]>1.5000000000000002?e[8]>2134.5000000000005?e[2]>34.50000000000001?Nt=.10514088112381886:e[7]>18.500000000000004?Nt=-.10370643555956745:Nt=.04093594315421388:e[6]>15.500000000000002?e[4]>9.500000000000002?e[10]>27.500000000000004?e[10]>71.50000000000001?Nt=-.0508129468802936:e[224]>1e-35?Nt=-.037816066368733595:e[10]>43.50000000000001?Nt=.07793408602607932:Nt=.017646166646099453:e[9]>3.5000000000000004?e[9]>29.500000000000004?e[17]>1e-35?Nt=.036972453794202324:Nt=-.08727431092411866:e[8]>427.50000000000006?e[8]>1278.5000000000002?Nt=.09475302525132188:Nt=-.03580104945898193:Nt=.08349488283861875:e[10]>3.5000000000000004?e[0]>1847.5000000000002?e[0]>4280.500000000001?e[2]>27.500000000000004?Nt=-.1282448778804823:Nt=-.014395808269207212:Nt=-.008940927190750592:Nt=-.1459118815453748:e[0]>4897.500000000001?Nt=-.09733068457286576:e[1]>57.50000000000001?Nt=.06575271409540207:Nt=-.019556422817450115:Nt=-.10623959222984136:e[18]>1e-35?Nt=.11280940901275241:e[8]>319.50000000000006?e[2]>6.500000000000001?Nt=.008125645893104896:Nt=-.11084368630465868:Nt=.0584398731508786:e[0]>350.50000000000006?e[3]>83.50000000000001?Nt=-.05854904579626861:e[4]>5.500000000000001?Nt=.02985784951394175:Nt=-.03247600140149334:Nt=-.11152899295304973:Nt=-.00035424577714215764;let ir;e[32]>1e-35?e[17]>1e-35?e[8]>359.50000000000006?e[8]>804.5000000000001?ir=-.06563670567578264:ir=.067656954313663:ir=-.10388217548685377:e[8]>2302.5000000000005?ir=.07190621943790435:e[4]>67.50000000000001?ir=.060020507643618604:e[4]>38.50000000000001?ir=-.08707253184321638:e[2]>11.500000000000002?e[2]>16.500000000000004?e[1]>31.500000000000004?e[1]>59.50000000000001?ir=-.06568134366461277:e[8]>1075.5000000000002?ir=-.004768057709758692:ir=.11785959165999467:ir=-.05080221682879267:ir=.14814206127494542:ir=-.07241946332311736:e[253]>1e-35?ir=-.058893562861261274:e[4]>61.50000000000001?e[283]>1e-35?e[10]>23.500000000000004?ir=-.02471195342450034:ir=.11866056464409412:e[10]>44.50000000000001?e[1]>16.500000000000004?e[8]>2640.0000000000005?ir=-.10741850739482771:ir=.010051635824944:ir=.12502069436017124:e[8]>1971.5000000000002?e[1]>23.500000000000004?e[308]>1e-35?ir=.10511236013756364:e[10]>10.500000000000002?e[1]>53.50000000000001?ir=-.08992396138178163:ir=.010944365997007212:ir=.06221307021813793:ir=.1286024087559141:e[127]>1e-35?ir=.06568148624531012:e[10]>40.50000000000001?ir=-.07567979134643352:e[5]>5647.500000000001?ir=.07594672895572069:ir=-.018158016446439187:e[6]>55.50000000000001?ir=.009293422430111872:e[4]>45.50000000000001?ir=-.017749818406964022:e[2]>46.50000000000001?ir=.01714136511113982:ir=-724762291423549e-19;let ar;e[1]>24.500000000000004?e[103]>1e-35?e[8]>48.50000000000001?e[17]>1e-35?ar=-.048689215588703864:e[9]>27.500000000000004?e[0]>3916.5000000000005?ar=.07084726276890757:ar=-.11232323677722932:ar=.04812773089510436:ar=.11757502216780046:e[5]>1464.5000000000002?e[5]>1505.5000000000002?e[167]>1e-35?ar=.07470606002425358:e[1]>53.50000000000001?e[132]>1e-35?ar=.0879462816013881:ar=-.002966662093626573:e[306]>1e-35?ar=-.04588085188342676:ar=.0031910005157084823:e[3]>10.500000000000002?e[10]>20.500000000000004?ar=-.006600332774461143:ar=.1272481351557754:ar=-.09030973597154808:e[284]>1e-35?e[1]>38.50000000000001?e[10]>2.5000000000000004?ar=.011884312066620044:ar=.11678751052403374:e[4]>8.500000000000002?ar=.03627129613273813:ar=-.12132783497902287:ar=-.006784372643244717:e[18]>1e-35?e[3]>4.500000000000001?e[3]>6.500000000000001?e[0]>5453.500000000001?ar=-.06830131718398992:e[0]>5147.500000000001?ar=.062360406249609306:e[4]>4.500000000000001?ar=-.013162203864592055:ar=-.07153029184927609:ar=.07628618062271557:ar=-.12085065687320373:e[190]>1e-35?ar=-.045816889524231186:e[137]>1e-35?ar=-.07956001795911584:e[199]>1e-35?e[0]>3853.5000000000005?ar=.025895337822752502:ar=-.06503949350616421:e[10]>227.50000000000003?ar=-.09989456525790491:e[10]>130.50000000000003?ar=.08616651057030683:ar=.0001234981796706021;let Ut;e[8]>1014.5000000000001?e[9]>137.50000000000003?Ut=-.08778879924617534:e[8]>1022.5000000000001?e[285]>1e-35?e[9]>64.50000000000001?Ut=.04955806187281689:e[0]>3670.5000000000005?e[10]>32.50000000000001?Ut=-.141732381961068:Ut=-.0317152307496497:Ut=-.02074638849097191:e[0]>93.50000000000001?e[0]>3072.5000000000005?e[10]>100.50000000000001?e[4]>24.500000000000004?e[8]>1336.5000000000002?Ut=.12191801556691254:Ut=-.0003444689085397977:Ut=.005739668504631604:e[146]>1e-35?e[308]>1e-35?Ut=.015237524791728777:e[6]>61.50000000000001?e[4]>63.50000000000001?Ut=-.05676033995381961:Ut=.10933961076803381:e[4]>26.500000000000004?Ut=-.11667582544549814:e[8]>1765.5000000000002?Ut=.032174455312047705:Ut=-.0755016390126608:e[293]>1e-35?Ut=-.08234885407658332:e[9]>41.50000000000001?e[0]>3830.5000000000005?Ut=.026571311956824436:e[15]>1e-35?Ut=.06175459479851121:Ut=-.018778084411148754:e[9]>40.50000000000001?Ut=-.09420232889965811:Ut=-.004578248021263184:e[2]>1.5000000000000002?Ut=.005453714644971445:Ut=-.03907138175699279:Ut=-.055296364182154736:e[23]>1e-35?Ut=.036555134842143476:e[0]>4188.500000000001?e[6]>29.500000000000004?Ut=-.09358146510580179:Ut=.060524657996178094:Ut=-.11245101144669545:e[125]>1e-35?e[9]>1.5000000000000002?Ut=-.12698331085931538:Ut=.006059605604079918:e[2]>196.50000000000003?Ut=-.09451315810804783:Ut=.0011390147031687425;let It;e[8]>2830.5000000000005?e[1]>31.500000000000004?e[9]>32.50000000000001?e[5]>1234.5000000000002?e[8]>3794.5000000000005?It=.05517359070460923:It=-.04758751221404857:It=-.09482078194138792:e[8]>2992.5000000000005?e[1]>101.50000000000001?It=.1040436595565776:e[9]>21.500000000000004?It=.04032250517675179:e[107]>1e-35?It=.05978752253058374:e[210]>1e-35?e[4]>37.50000000000001?It=.1192453009230486:e[1]>51.50000000000001?It=.0443376336292195:It=-.07967674833321865:e[5]>2117.5000000000005?e[9]>10.500000000000002?It=-.10025078607591283:e[0]>2882.5000000000005?e[18]>1e-35?It=-.08999822408398037:It=.017533219253893447:e[9]>1.5000000000000002?e[4]>12.500000000000002?It=-.061850439226075:It=.08849196353361093:It=.10536348167793089:e[92]>1e-35?It=.04894947712119185:e[9]>16.500000000000004?It=.05900227903883853:e[9]>5.500000000000001?It=-.11946594348916476:It=-.03652096348071964:e[1]>41.50000000000001?It=-.07411603110840567:It=-.00021033247574340914:e[10]>22.500000000000004?e[9]>68.50000000000001?It=.08493634342741495:e[11]>1e-35?It=-.10899097825564363:It=-.006156708838964173:e[8]>3198.5000000000005?e[2]>41.50000000000001?It=.08356655906359918:e[7]>25.500000000000004?It=-.09475076526194888:e[10]>5.500000000000001?It=-.01999406228763778:It=.06696212545889428:e[6]>20.500000000000004?It=.14713592661393468:It=.0459917279002218:It=.00027445928493734093;let cr;e[223]>1e-35?e[1]>31.500000000000004?e[8]>634.5000000000001?cr=-.06904501553217077:cr=.05696231672035904:cr=-.1124703178077813:e[99]>1e-35?e[1]>89.50000000000001?cr=-.05074261170009721:e[1]>57.50000000000001?e[8]>969.5000000000001?cr=-.011419256378538392:e[0]>3830.5000000000005?cr=.140315841503076:cr=.02403434913963024:e[1]>31.500000000000004?e[8]>65.50000000000001?e[2]>10.500000000000002?cr=-.04027822909411164:cr=.03176085103667189:cr=.06779515865838849:e[4]>15.500000000000002?cr=.0762878389015175:e[8]>175.50000000000003?e[0]>3030.5000000000005?e[8]>1041.5000000000002?cr=.06124039747298539:cr=-.04312732764434027:cr=.09161522761808062:cr=-.09663512235460074:e[280]>1e-35?e[6]>45.50000000000001?e[1]>46.50000000000001?cr=.11211681010488772:e[13]>1e-35?cr=.06725735814960367:cr=-.046744031455827846:e[10]>44.50000000000001?e[0]>3400.5000000000005?e[0]>4004.5000000000005?e[2]>22.500000000000004?cr=.11743605068905603:cr=-.011309033539148687:cr=-.07896094707523052:cr=.12862714793172117:e[10]>1.5000000000000002?e[8]>455.50000000000006?e[0]>4706.500000000001?cr=-.09218756798869711:e[10]>19.500000000000004?e[0]>1894.5000000000002?e[0]>3719.5000000000005?cr=.02836295848998302:cr=.12210680366745175:cr=-.058302317470509096:e[5]>4144.500000000001?cr=.06123341960495106:cr=-.03840046906926525:cr=-.05221474543453495:cr=.03988215485860711:cr=-.00033074684693083496;let zo=T0t(t+r+n+i+s+a+l+c+u+f+m+h+p+g+x+v+E+b+_+R+P+F+G+se+Ae+re+W+q+oe+X+H+O+V+J+ae+te+le+ce+Pe+Ie+Fe+Re+Ge+lt+st+ct+ne+Ne+ge+He+z+ee+Qe+Se+Ce+qe+$e+tt+Ct+Pt+yt+zt+Kt+sr+pe+Me+Ze+rt+kt+bt+Qt+Ot+wt+Rt+_t+qt+Ht+Jt+ur+gr+lr+fr+rr+dr+Ee+M+de+ye+Y+L+Te+Ue+xt+Wt+Nt+ir+ar+Ut+It+cr);return[1-zo,zo]}o(Ube,"multilineModelPredict");function T0t(e){if(e<0){let t=Math.exp(e);return t/(1+t)}return 1/(1+Math.exp(-e))}o(T0t,"sigmoid");var w0t={javascript:["//"],typescript:["//"],typescriptreact:["//"],javascriptreact:["//"],vue:["//","-->"],php:["//","#"],dart:["//"],go:["//"],cpp:["//"],scss:["//"],csharp:["//"],java:["//"],c:["//"],rust:["//"],python:["#"],markdown:["#","-->"],css:["*/"]},qbe={javascript:1,javascriptreact:2,typescript:3,typescriptreact:4,python:5,go:6,ruby:7};function Wbe(e,t,r,n=!0){let i=e.split(`
`);if(n&&(i=i.filter(l=>l.trim().length>0)),Math.abs(t)>i.length||t>=i.length)return!1;t<0&&(t=i.length+t);let s=i[t];return(w0t[r]??[]).some(l=>s.includes(l))}o(Wbe,"hasComment");var UQ=class{static{o(this,"PromptFeatures")}constructor(t,r){let[n,i]=this.firstAndLast(t),s=this.firstAndLast(t.trimEnd());this.language=r,this.length=t.length,this.firstLineLength=n.length,this.lastLineLength=i.length,this.lastLineRstripLength=i.trimEnd().length,this.lastLineStripLength=i.trim().length,this.rstripLength=t.trimEnd().length,this.stripLength=t.trim().length,this.rstripLastLineLength=s[1].length,this.rstripLastLineStripLength=s[1].trim().length,this.secondToLastLineHasComment=Wbe(t,-2,r),this.rstripSecondToLastLineHasComment=Wbe(t.trimEnd(),-2,r),this.prefixEndsWithNewline=t.endsWith(`
`),this.lastChar=t.slice(-1),this.rstripLastChar=t.trimEnd().slice(-1),this.firstChar=t[0],this.lstripFirstChar=t.trimStart().slice(0,1)}firstAndLast(t){let r=t.split(`
`),n=r.length,i=r[0],s=r[n-1];return s==""&&n>1&&(s=r[n-2]),[i,s]}},Kee=class{static{o(this,"MultilineModelFeatures")}constructor(t,r,n){this.language=n,this.prefixFeatures=new UQ(t,n),this.suffixFeatures=new UQ(r,n)}constructFeatures(){let t=new Array(14).fill(0);t[0]=this.prefixFeatures.length,t[1]=this.prefixFeatures.firstLineLength,t[2]=this.prefixFeatures.lastLineLength,t[3]=this.prefixFeatures.lastLineRstripLength,t[4]=this.prefixFeatures.lastLineStripLength,t[5]=this.prefixFeatures.rstripLength,t[6]=this.prefixFeatures.rstripLastLineLength,t[7]=this.prefixFeatures.rstripLastLineStripLength,t[8]=this.suffixFeatures.length,t[9]=this.suffixFeatures.firstLineLength,t[10]=this.suffixFeatures.lastLineLength,t[11]=this.prefixFeatures.secondToLastLineHasComment?1:0,t[12]=this.prefixFeatures.rstripSecondToLastLineHasComment?1:0,t[13]=this.prefixFeatures.prefixEndsWithNewline?1:0;let r=new Array(Object.keys(qbe).length+1).fill(0);r[qbe[this.language]??0]=1;let n=new Array(Object.keys(Z0).length+1).fill(0);n[Z0[this.prefixFeatures.lastChar]??0]=1;let i=new Array(Object.keys(Z0).length+1).fill(0);i[Z0[this.prefixFeatures.rstripLastChar]??0]=1;let s=new Array(Object.keys(Z0).length+1).fill(0);s[Z0[this.suffixFeatures.firstChar]??0]=1;let a=new Array(Object.keys(Z0).length+1).fill(0);return a[Z0[this.suffixFeatures.lstripFirstChar]??0]=1,t.concat(r,n,i,s,a)}};function _0t(e,t){return new Kee(e.prefix,e.suffix,t)}o(_0t,"constructMultilineFeatures");function Gbe(e,t){let r=_0t(e,t).constructFeatures();return Ube(r)[1]}o(Gbe,"requestMultilineScore");d();d();d();d();async function*K1(e,t){for await(let r of e)yield t(r)}o(K1,"asyncIterableMap");async function*Hbe(e,t){for await(let r of e)await t(r)&&(yield r)}o(Hbe,"asyncIterableFilter");async function*h_(e,t){for await(let r of e){let n=await t(r);n!==void 0&&(yield n)}}o(h_,"asyncIterableMapFilter");async function*jbe(...e){for(let t of e)yield*t}o(jbe,"asyncIterableConcat");d();async function p_(e,t,r,n){let i=cn.createAndMarkAsIssued({messageId:t,conversationId:r});return await e.get(Cr).updateExPValuesAndAssignments(n,i)}o(p_,"createTelemetryWithExpWithId");function a0(e,{turn:t,conversation:r}={},n){return p_(e,t?.telemetryId??"",r?.telemetryId??"",n)}o(a0,"createTelemetryWithExpWithTurn");function g_(e,t,r,n,i,s,a,l){let c=e.turns[e.turns.length-1].skills.map(m=>m.skillId).sort(),u={source:"user",turnIndex:(e.turns.length-1).toString(),uiKind:t,skillIds:c.join(",")},f={promptTokenLen:n,messageCharLen:r};return i&&(u.suggestion=i),s&&(u.suggestionId=s),l.length>0&&(u.skillResolutionsJson=JSON.stringify(S0t(l))),a=a.extendedBy(u,f),a}o(g_,"extendUserMessageTelemetryData");function S0t(e){return e.map(t=>({skillId:t.skillId,resolution:t.resolution,fileStatus:t.files?.map(r=>r.status),tokensPreEliding:t.tokensPreEliding??0,resolutionTimeMs:t.resolutionTimeMs??0,processingTimeMs:t.processingTimeMs??0}))}o(S0t,"mapSkillResolutionsForTelemetry");function Vbe(e,t,r,n,i,s,a){return n!=null&&(a=a.extendedBy({offTopic:n.toString()})),qQ(e,s,t,r,{uiKind:t,headerRequestId:i},{},a).properties.messageId}o(Vbe,"createUserMessageTelemetryData");function $be(e,t,r,n,i,s,a,l){let c=R0t(n);return qQ(e,a,r,n,{source:"model",turnIndex:(t.turns.length-1).toString(),headerRequestId:s,uiKind:r,codeBlockLanguages:JSON.stringify({...c})},{messageCharLen:n.length,numCodeBlocks:c.length,numTokens:i},l).properties.messageId}o($be,"createModelMessageTelemetryData");function zbe(e,t,r,n,i,s,a){qQ(e,s,r,n,{source:"offTopic",turnIndex:t.turns.length.toString(),userMessageId:i,uiKind:r},{messageCharLen:n.length},a)}o(zbe,"createOffTopicMessageTelemetryData");function Ybe(e,t,r,n,i,s,a,l,c){let u=qQ(e,l,r,n,{source:"suggestion",suggestion:s,turnIndex:(t.turns.length-1).toString(),uiKind:r,suggestionId:a},{promptTokenLen:i,messageCharLen:n.length},c);return k0t(e,r,s,u.properties.messageId,u.properties.conversationId,a,c,l),u.properties.messageId}o(Ybe,"createSuggestionMessageTelemetryData");var Kbe={synonymTimeMs:0,rankingTimeMs:0,chunkCount:0,localSnippetCount:0,embeddingsTimeMs:0,rerankingTimeMs:0};async function Jbe(e,t,r){let n=await a0(e.ctx,e),i=e.conversation.source==="inline"?"conversationInline":"conversationPanel";lf(e.ctx,void 0,{conversationId:e.conversation.telemetryId,turnIndex:(e.conversation.turns.length-1).toString(),userMessageId:e.turn.telemetryId,provider:t,uiKind:i},r,"index.codesearch",n)}o(Jbe,"telemetryIndexCodesearch");function qQ(e,t,r,n,i,s,a){let l=a??cn.createAndMarkAsIssued(),c={messageText:n,...i};if(!("messageId"in i)&&!("messageId"in l.properties)){let h=Ir();i.messageId=h,c.messageId=h}t&&(i.languageId=t.detectedLanguageId,s.documentLength=t.getText().length,s.documentLineCount=t.lineCount);let u=l.extendedBy(i,s),f=l.extendedBy(c),m=X0(r);return jt(e,`${m}.message`,u),jt(e,`${m}.messageText`,f,1),u}o(qQ,"telemetryMessage");function Zbe(e,t,r,n){lf(e,n,{uiKind:t},{},"conversation.suggestionShown",r)}o(Zbe,"createSuggestionShownTelemetryData");function k0t(e,t,r,n,i,s,a,l){lf(e,l,{suggestion:r,messageId:n,conversationId:i,suggestionId:s,uiKind:t},{},"conversation.suggestionSelected",a)}o(k0t,"createSuggestionSelectedTelemetryData");function lf(e,t,r,n,i,s){let a=s??cn.createAndMarkAsIssued();t&&(r.languageId=t.detectedLanguageId,n.documentLength=t.getText().length,n.documentLineCount=t.lineCount);let l=a.extendedBy(r,n);return jt(e,i,l),l}o(lf,"telemetryUserAction");function $I(e,t,r){let n=r.extendedBy({messagesJson:JSON.stringify(t)});return jt(e,"engine.messages",n,1)}o($I,"logEngineMessages");function X0(e){switch(e){case"editsPanel":return"copilotEditsPanel";case"conversationInline":return"inlineConversation";case"conversationPanel":default:return"conversation"}}o(X0,"telemetryPrefixForUiKind");function R0t(e){let t=e.split(`
`),r=[],n=[];for(let i=0;i<t.length;i++){let s=t[i];s.startsWith("```")&&(n.length>0&&s==="```"?r.push(n.pop()):n.length===0&&n.push(s.substring(3)))}return r}o(R0t,"getCodeBlocks");function Xbe(e){return e=="conversationInline"?"conversation-inline":"conversation-panel"}o(Xbe,"uiKindToIntent");function m5(e){return e==="inline"?"conversationInline":"conversationPanel"}o(m5,"conversationSourceToUiKind");d();var tu=new Vt("streamChoices"),Jee=class{constructor(){this.logprobs=[];this.top_logprobs=[];this.text=[];this.tokens=[];this.text_offset=[];this.copilot_annotations=new ete;this.tool_calls=[];this.function_call=new Xee;this.copilot_references=[];this.yielded=!1}static{o(this,"APIJsonDataStreaming")}append(t){if(t.text&&this.text.push(t.text),t.delta?.content&&t.delta.role!=="function"&&this.text.push(t.delta.content),t.logprobs&&(this.tokens.push(t.logprobs.tokens??[]),this.text_offset.push(t.logprobs.text_offset??[]),this.logprobs.push(t.logprobs.token_logprobs??[]),this.top_logprobs.push(t.logprobs.top_logprobs??[])),t.copilot_annotations&&this.copilot_annotations.update(t.copilot_annotations),t.delta?.copilot_annotations&&this.copilot_annotations.update(t.delta.copilot_annotations),t.delta?.tool_calls&&t.delta.tool_calls.length>0)for(let r of t.delta.tool_calls){let n=r.index;this.tool_calls[n]||(this.tool_calls[n]=new Zee),this.tool_calls[n].update(r)}t.delta?.function_call&&this.function_call.update(t.delta.function_call),t?.finish_reason&&(this.finish_reason=t.finish_reason)}};function B0t(e){let t=e.split(`
`),r=t.pop();return[t.filter(n=>n!=""),r]}o(B0t,"splitChunk");var Zee=class{constructor(){this.arguments=[]}static{o(this,"StreamingToolCall")}update(t){t.function.name&&(this.name=t.function.name),this.arguments.push(t.function.arguments)}},Xee=class{constructor(){this.arguments=[]}static{o(this,"StreamingFunctionCall")}update(t){t.name&&(this.name=t.name),this.arguments.push(t.arguments)}},ete=class{constructor(){this.current={}}static{o(this,"StreamCopilotAnnotations")}update(t){Object.entries(t).forEach(([r,n])=>{n.forEach(i=>this.update_namespace(r,i))})}update_namespace(t,r){this.current[t]||(this.current[t]=[]);let n=this.current[t],i=n.findIndex(s=>s.id===r.id);i>=0?n[i]=r:n.push(r)}for(t){return this.current[t]??[]}},h5=class e{constructor(t,r,n,i,s,a,l){this.ctx=t;this.expectedNumChoices=r;this.response=n;this.body=i;this.telemetryData=s;this.dropCompletionReasons=a;this.cancellationToken=l;this.requestId=p5(this.response);this.stats=new tte;this.solutions={}}static{o(this,"SSEProcessor")}static create(t,r,n,i,s,a){let l=n.body();if(l===null)throw new Error("No response body available");return typeof l.setEncoding=="function"?l.setEncoding("utf8"):l=l.pipeThrough(new TextDecoderStream),new e(t,r,n,l,i,s??[],a)}async*processSSE(t=()=>{}){try{yield*this.processSSEInner(t)}finally{this.cancel(),tu.info(this.ctx,`request done: headerRequestId: [${this.requestId.headerRequestId}] model deployment ID: [${this.requestId.deploymentId}]`),tu.debug(this.ctx,"request stats:",this.stats)}}async*processSSEInner(t){let r="",n=null,i,s;e:for await(let a of this.body){if(this.maybeCancel("after awaiting body chunk"))return;tu.debug(this.ctx,"chunk",a.toString());let[l,c]=B0t(r+a.toString());r=c;for(let u of l){let f=u.slice(5).trim();if(f=="[DONE]"){yield*this.finishSolutions(n,i,s,t);return}n=null;let m;try{m=JSON.parse(f)}catch{tu.error(this.ctx,"Error parsing JSON stream data",u);continue}if(m.copilot_confirmation&&D0t(m.copilot_confirmation)&&await t("",{text:"",requestId:this.requestId,copilotConfirmation:m.copilot_confirmation}),m.copilot_references&&await t("",{text:"",requestId:this.requestId,copilotReferences:m.copilot_references}),m.choices===void 0){!m.copilot_references&&!m.copilot_confirmation&&(m.error!==void 0?tu.error(this.ctx,"Error in response:",m.error.message):tu.error(this.ctx,"Unexpected response with no choices or error: "+f)),m.copilot_errors&&await t("",{text:"",requestId:this.requestId,copilotErrors:m.copilot_errors});continue}if(this.requestId.created==0&&(this.requestId=p5(this.response,m),this.requestId.created===0&&m.choices?.length&&tu.error(this.ctx,'Request id invalid, should have "completionId" and "created":',this.requestId)),i===void 0&&m.model&&(i=m.model),s===void 0&&m.usage&&(s=m.usage),this.allSolutionsDone()){r="";break e}for(let h=0;h<m.choices?.length;h++){let p=m.choices[h];tu.debug(this.ctx,"choice",p),this.stats.add(p.index),p.index in this.solutions||(this.solutions[p.index]=new Jee);let g=this.solutions[p.index];if(g==null)continue;g.append(p);let x=this.asSolutionDecision(),v=p.text?.indexOf(`
`)>-1||p.delta?.content?.indexOf(`
`)>-1;if(p.finish_reason||v){let b=g.text.join("");if(x=this.asSolutionDecision(await t(b,{text:b,index:p.index,requestId:this.requestId,annotations:g.copilot_annotations,copilotReferences:g.copilot_references,getAPIJsonData:o(()=>A_(g),"getAPIJsonData"),finished:!!p.finish_reason,telemetryData:this.telemetryData})),this.maybeCancel("after awaiting finishedCb"))return}if(p.finish_reason&&g.function_call.name!==void 0){n=p.finish_reason;continue}if(p.finish_reason&&(x.yieldSolution=!0,x.continueStreaming=!1),!x.yieldSolution)continue;let E=p.finish_reason??"client-trimmed";if(jt(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:E,engineName:i??"",engineChoiceSource:Jy(this.ctx,this.telemetryData).engineChoiceSource})),this.dropCompletionReasons.includes(p.finish_reason)?this.solutions[p.index]=null:g.yielded||(this.stats.markYielded(p.index),yield{solution:g,finishOffset:x.finishOffset,reason:p.finish_reason,requestId:this.requestId,index:p.index,model:i,usage:s},g.yielded=!0),this.maybeCancel("after yielding finished choice"))return;x.continueStreaming||(this.solutions[p.index]=null)}}}for(let[a,l]of Object.entries(this.solutions)){let c=Number(a);if(l!=null&&(jt(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:"Iteration Done",engineName:i??""})),this.stats.markYielded(c),yield{solution:l,finishOffset:void 0,reason:"Iteration Done",requestId:this.requestId,index:c,model:i,usage:s},this.maybeCancel("after yielding after iteration done")))return}if(r.length>0)try{let a=JSON.parse(r);a.error!==void 0&&tu.error(this.ctx,`Error in response: ${a.error.message}`,a.error)}catch{tu.error(this.ctx,`Error parsing extraData: ${r}`)}}asSolutionDecision(t){return t===void 0?{yieldSolution:!1,continueStreaming:!0}:typeof t=="number"?{yieldSolution:!0,continueStreaming:!1,finishOffset:t}:t}async*finishSolutions(t,r,n,i){for(let[s,a]of Object.entries(this.solutions)){let l=Number(s);if(a==null)continue;let c=a.text.join("");if(await i(c,{text:c,index:l,requestId:this.requestId,annotations:a.copilot_annotations,copilotReferences:a.copilot_references,getAPIJsonData:o(()=>A_(a),"getAPIJsonData"),finished:!0,telemetryData:this.telemetryData}),!a.yielded&&(this.stats.markYielded(l),jt(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:t??"DONE",engineName:r??""})),yield{solution:a,finishOffset:void 0,reason:t??"DONE",requestId:this.requestId,index:l,model:r,usage:n},this.maybeCancel("after yielding on DONE")))return}}maybeCancel(t){return this.cancellationToken?.isCancellationRequested?(tu.debug(this.ctx,"Cancelled: "+t),this.cancel(),!0):!1}cancel(){this.body&&"destroy"in this.body&&typeof this.body.destroy=="function"?this.body.destroy():this.body instanceof ReadableStream&&this.body.cancel()}allSolutionsDone(){let t=Object.values(this.solutions);return t.length==this.expectedNumChoices&&t.every(r=>r==null)}};function WQ(e,t,r){let n=t.solution.text.join(""),i=!1;t.finishOffset!==void 0&&(tu.debug(e,`solution ${t.index}: early finish at offset ${t.finishOffset}`),n=n.substring(0,t.finishOffset),i=!0),tu.info(e,`solution ${t.index} returned. finish reason: [${t.reason}]`),tu.debug(e,`solution ${t.index} details: finishOffset: [${t.finishOffset}] completionId: [{${t.requestId.completionId}}] created: [{${t.requestId.created}}]`);let s=A_(t.solution);return GQ(e,n,s,t.index,t.requestId,i,r)}o(WQ,"prepareSolutionForReturn");function A_(e){let t=e.text.join(""),r=P0t(e),n=F0t(e),i=e.copilot_annotations.current,s={text:t,tokens:e.text,tool_calls:r,function_call:n,copilot_annotations:i,finish_reason:e.finish_reason??"stop"};if(e.logprobs.length===0)return s;let a=e.logprobs.reduce((f,m)=>f.concat(m),[]),l=e.top_logprobs.reduce((f,m)=>f.concat(m),[]),c=e.text_offset.reduce((f,m)=>f.concat(m),[]),u=e.tokens.reduce((f,m)=>f.concat(m),[]);return{...s,logprobs:{token_logprobs:a,top_logprobs:l,text_offset:c,tokens:u}}}o(A_,"convertToAPIJsonData");function D0t(e){return typeof e.title=="string"&&typeof e.message=="string"&&!!e.confirmation}o(D0t,"isCopilotConfirmation");function P0t(e){let t=[];for(let r of e.tool_calls)if(r.name){let n=r.arguments.length>0?JSON.parse(r.arguments.join("")):{};t.push({type:"function",function:{name:r.name,arguments:n},approxNumTokens:r.arguments.length+1})}return t}o(P0t,"extractToolCalls");function F0t(e){if(e.function_call.name){let t=e.function_call.arguments.length>0?JSON.parse(e.function_call.arguments.join("")):{};return{name:e.function_call.name,arguments:t}}}o(F0t,"extractFunctionCall");var tte=class{constructor(){this.choices=new Map}static{o(this,"ChunkStats")}getChoiceStats(t){let r=this.choices.get(t);return r||(r=new rte,this.choices.set(t,r)),r}add(t){this.getChoiceStats(t).increment()}markYielded(t){this.getChoiceStats(t).markYielded()}toString(){return Array.from(this.choices.entries()).map(([t,r])=>`${t}: ${r.yieldedTokens} -> ${r.seenTokens}`).join(", ")}},rte=class{constructor(){this.yieldedTokens=-1;this.seenTokens=0}static{o(this,"ChoiceStats")}increment(){this.seenTokens++}markYielded(){this.yieldedTokens=this.seenTokens}};d();function HQ(e,t){return e!==null&&typeof e=="object"&&t in e}o(HQ,"hasKey");function l0(e,t){return HQ(e,t)?e[t]:void 0}o(l0,"getKey");var tEe=et(ti());var Vs=new Vt("fetchCompletions");function p5(e,t){return{headerRequestId:e.headers.get("x-request-id")||"",completionId:t&&t.id?t.id:"",created:t&&t.created?t.created:0,serverExperiments:e.headers.get("X-Copilot-Experiment")||"",deploymentId:e.headers.get("azureml-model-deployment")||""}}o(p5,"getRequestId");function zI(e){let t=e.headers.get("openai-processing-ms");return t?parseInt(t,10):0}o(zI,"getProcessingTime");function rEe(e){switch(e){case"ghostText":return"copilot-ghost";case"synthesize":return"copilot-panel"}}o(rEe,"uiKindToIntent");var ru=class{static{o(this,"OpenAIFetcher")}};function N0t(e,t,r,n){return uI(e,t,"proxy","v1/engines",r,n)}o(N0t,"getProxyEngineUrl");async function eEe(e,t,r,n,i,s,a,l,c,u,f){let m=e.get(Yi),h=N0t(e,a,r,n),p=c.extendedBy({endpoint:n,engineName:r,uiKind:l},lI(t));for(let[v,E]of Object.entries(s))v=="prompt"||v=="suffix"||v=="context"||(p.properties[`request.option.${v}`]=JSON.stringify(E)??"undefined");p.properties.headerRequestId=i,jt(e,"request.sent",p);let g=Xs(),x=rEe(l);return K3(e,h,a.token,x,i,s,u,f).then(v=>{let E=p5(v,void 0);p.extendWithRequestId(E);let b=Xs()-g;return p.measurements.totalTimeMs=b,Vs.info(e,`request.response: [${h}] took ${b} ms`),Vs.debug(e,"request.response properties",p.properties),Vs.debug(e,"request.response measurements",p.measurements),Vs.debug(e,"prompt:",t),jt(e,"request.response",p),v}).catch(v=>{if(Ec(v))throw jt(e,"request.cancel",p),v;m.setWarning(l0(v,"message")??"");let E=p.extendedBy({error:"Network exception"});jt(e,"request.shownWarning",E),p.properties.message=String(l0(v,"name")??""),p.properties.code=String(l0(v,"code")??""),p.properties.errno=String(l0(v,"errno")??""),p.properties.type=String(l0(v,"type")??"");let b=Xs()-g;throw p.measurements.totalTimeMs=b,Vs.debug(e,`request.response: [${h}] took ${b} ms`),Vs.debug(e,"request.error properties",p.properties),Vs.debug(e,"request.error measurements",p.measurements),jt(e,"request.error",p),v}).finally(()=>{E5e(e,t,p)})}o(eEe,"fetchWithInstrumentation");async function L0t(e,t,r,n,i,s,a,l,c,u){let f=c.extendedBy({endpoint:"chat/completions",engineModelId:r,uiKind:l});for(let[g,x]of Object.entries(s))g!=="messages"&&(f.properties[`request.option.${g}`]=JSON.stringify(x)??"undefined");f.properties.headerRequestId=i,jt(e,"request.sent",f);let m=Xs(),h=rEe(l),p={...zy(e)};try{let g=await K3(e,n,a.token,h,i,s,u,p),x=p5(g,void 0);f.extendWithRequestId(x);let v=Xs()-m;return f.measurements.totalTimeMs=v,Vs.info(e,`request.response: [${n}] took ${v} ms`),Vs.debug(e,"request.response properties",f.properties),Vs.debug(e,"request.response measurements",f.measurements),Vs.debug(e,"messages:",JSON.stringify(t)),jt(e,"request.response",f),g}catch(g){if(Ec(g))throw jt(e,"request.cancel",f),g;let x=f.extendedBy({error:"Network exception"});jt(e,"request.shownWarning",x),f.properties.message=String(l0(g,"name")??""),f.properties.code=String(l0(g,"code")??""),f.properties.errno=String(l0(g,"errno")??""),f.properties.type=String(l0(g,"type")??"");let v=Xs()-m;throw f.measurements.totalTimeMs=v,Vs.debug(e,`request.response: [${n}] took ${v} ms`),Vs.debug(e,"request.error properties",f.properties),Vs.debug(e,"request.error measurements",f.measurements),jt(e,"request.error",f),g}finally{$I(e,t,f)}}o(L0t,"fetchChatWithInstrumentation");function nte(e){return Hbe(e,t=>t.completionText.trim().length>0)}o(nte,"postProcessChoices");var Q0t="github.copilot.completions.quotaExceeded",y_=class extends ru{static{o(this,"LiveOpenAIFetcher")}#e;async fetchAndStreamCompletions(t,r,n,i,s){if(this.#e)return{type:"canceled",reason:this.#e};let a=t.get(Yi),l="completions",c=await t.get(Xr).getToken(),u=await this.fetchWithParameters(t,l,r,c,n,s);if(u==="not-sent")return{type:"canceled",reason:"before fetch request"};if(s?.isCancellationRequested){let p=u.body();try{p&&"destroy"in p&&typeof p.destroy=="function"?p.destroy():p instanceof ReadableStream&&p.cancel()}catch(g){Vs.exception(t,g,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(u.status!==200){let p=this.createTelemetryData(l,t,r);return this.handleError(t,a,p,u,c)}let m=h5.create(t,r.count,u,n,[],s).processSSE(i),h=K1(m,p=>WQ(t,p,n));return{type:"success",choices:nte(h),getProcessingTime:o(()=>zI(u),"getProcessingTime")}}async fetchAndStreamChat(t,r,n,i,s,a,l){if(this.#e)return{type:"canceled",reason:this.#e};let c="https://copilot-proxy.githubusercontent.com/chat/completions",u={id:"copilot-nes-v",name:"proxy-4o-mini"},f={messages:r,model:u.id,stream:!0},m=n.extendedBy({endpoint:c,model:u.name}),h=t.get(Yi),p=await t.get(Xr).getToken(),g=await L0t(t,r,u.id,c,s,f,p,i,m,l);if(l?.isCancellationRequested){let b=g.body();try{b&&"destroy"in b&&typeof b.destroy=="function"?b.destroy():b instanceof ReadableStream&&b.cancel()}catch(_){Vs.exception(t,_,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(g.status!==200){let b=cn.createAndMarkAsIssued({endpoint:c,engineName:u.name,uiKind:i,headerRequestId:s});return this.handleError(t,h,b,g,p)}let v=h5.create(t,1,g,m,[],tEe.CancellationToken.None).processSSE(),E=K1(v,b=>WQ(t,b,n));return{type:"success",choices:nte(E),getProcessingTime:o(()=>zI(g),"getProcessingTime")}}async fetchAndStreamSpeculation(t,r,n,i,s){if(this.#e)return{type:"canceled",reason:this.#e};let a=t.get(Yi),l="speculation",c=await t.get(Xr).getToken(),u={prompt:{prefix:r.prompt,suffix:"",isFimEnabled:!1},postOptions:{speculation:r.speculation,temperature:r.temperature,stream:r.stream,stop:r.stops??[]},languageId:"",count:0,repoInfo:void 0,ourRequestId:Ir(),engineModelId:r.engineModelId,uiKind:r.uiKind,headers:r.headers},f=await this.fetchSpeculationWithParameters(t,l,u,c,n,s);if(f==="not-sent")return{type:"canceled",reason:"before fetch request"};if(s?.isCancellationRequested){let g=f.body();try{g&&"destroy"in g&&typeof g.destroy=="function"?g.destroy():g instanceof ReadableStream&&g.cancel()}catch(x){Vs.exception(t,x,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(f.status!==200){let g=this.createTelemetryData(l,t,u);return this.handleError(t,a,g,f,c)}let h=h5.create(t,1,f,n,[],s).processSSE(i),p=K1(h,g=>WQ(t,g,n));return{type:"success",choices:nte(p),getProcessingTime:o(()=>zI(f),"getProcessingTime")}}createTelemetryData(t,r,n){return cn.createAndMarkAsIssued({endpoint:t,engineName:n.engineModelId,uiKind:n.uiKind,headerRequestId:n.ourRequestId})}async fetchSpeculationWithParameters(t,r,n,i,s,a){let l={prompt:n.prompt.prefix};return n.postOptions&&Object.assign(l,n.postOptions),await z4(0),a?.isCancellationRequested?"not-sent":await eEe(t,n.prompt,n.engineModelId,r,n.ourRequestId,l,i,n.uiKind,s,a,n.headers)}async fetchWithParameters(t,r,n,i,s,a){let l=t.get(Cr).disableLogProb(s),c=t.get(Cr).enablePromptContextProxyField(s),u={prompt:n.prompt.prefix,suffix:n.prompt.suffix,max_tokens:VQ(t),temperature:YI(t,n.count),top_p:jQ(t),n:n.count,stop:nEe(t,n.languageId)};(n.requestLogProbs||!l)&&(u.logprobs=2);let f=q1(n.repoInfo);return f!==void 0&&(u.nwo=f),n.postOptions&&Object.assign(u,n.postOptions),c&&n.prompt.context&&(u.extra?u.extra.context=n.prompt.context:u.extra={language:n.languageId,prompt_tokens:n.prompt.prefixTokens??0,suffix_tokens:n.prompt.suffixTokens??0,context:n.prompt.context}),await z4(0),a?.isCancellationRequested?"not-sent":await eEe(t,n.prompt,n.engineModelId,r,n.ourRequestId,u,i,n.uiKind,s,a,n.headers)}async handleError(t,r,n,i,s){let a=await i.text();if(i.status===402){this.#e="monthly free code completions exhausted",r.setError("Completions limit reached",{command:Q0t,title:"Learn More"});let c=js(t,u=>{this.#e=void 0,(u.envelope.limited_user_quotas?.completions??1)>0&&(r.forceNormal(),c.dispose())});return{type:"failed",reason:this.#e}}if(i.status===466)return r.setError(a),Vs.info(t,a),{type:"failed",reason:`client not supported: ${a}`};if(i.clientError&&!i.headers.get("x-github-request-id")){let l=`Last response was a ${i.status} error and does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`;Vs.error(t,l),r.setWarning(l),n.properties.error=`Response status was ${i.status} with no x-github-request-id header`}else i.clientError?(Vs.warn(t,`Response status was ${i.status}:`,a),r.setWarning(`Last response was a ${i.status} error: ${a}`),n.properties.error=`Response status was ${i.status}: ${a}`):(r.setWarning(`Last response was a ${i.status} error`),n.properties.error=`Response status was ${i.status}`);return n.properties.status=String(i.status),jt(t,"request.shownWarning",n),i.status===401||i.status===403?(t.get(Xr).resetToken(i.status),{type:"failed",reason:`token expired or invalid: ${i.status}`}):i.status===429?(setTimeout(()=>{this.#e=void 0},10*1e3),this.#e="rate limited",Vs.warn(t,"Rate limited by server. Denying completions for the next 10 seconds."),{type:"failed",reason:this.#e}):i.status===499?(Vs.info(t,"Cancelled by server"),{type:"failed",reason:"canceled by server"}):(Vs.error(t,"Unhandled status from server:",i.status,a),{type:"failed",reason:`unhandled status from server: ${i.status} ${a}`})}};function GQ(e,t,r,n,i,s,a){return b5e(e,t,r,i,n),{completionText:t,meanLogProb:M0t(e,r),meanAlternativeLogProb:O0t(e,r),choiceIndex:n,requestId:i,blockFinished:s,tokens:r.tokens,numTokens:r.tokens.length,telemetryData:a,copilotAnnotations:r.copilot_annotations,clientCompletionId:Ir(),finishReason:r.finish_reason}}o(GQ,"convertToAPIChoice");function M0t(e,t){if(t?.logprobs?.token_logprobs)try{let r=0,n=0,i=50;for(let s=0;s<t.logprobs.token_logprobs.length-1&&i>0;s++,i--)r+=t.logprobs.token_logprobs[s],n+=1;return n>0?r/n:void 0}catch(r){Jn.exception(e,r,"Error calculating mean prob")}}o(M0t,"calculateMeanLogProb");function O0t(e,t){if(t?.logprobs?.top_logprobs)try{let r=0,n=0,i=50;for(let s=0;s<t.logprobs.token_logprobs.length-1&&i>0;s++,i--){let a={...t.logprobs.top_logprobs[s]};delete a[t.logprobs.tokens[s]],r+=Math.max(...Object.values(a)),n+=1}return n>0?r/n:void 0}catch(r){Jn.exception(e,r,"Error calculating mean prob")}}o(O0t,"calculateMeanAlternativeLogProb");function YI(e,t){return Om(e)||t<=1?0:t<10?.2:t<20?.4:.8}o(YI,"getTemperatureForSamples");var U0t={markdown:[`


`],python:[`
def `,`
class `,`
if `,`

#`]};function nEe(e,t){return U0t[t??""]??[`


`,"\n```"]}o(nEe,"getStops");function jQ(e){return 1}o(jQ,"getTopP");function VQ(e){return _w}o(VQ,"getMaxSolutionTokens");var ite=class e{constructor(t,r){this.index=t;this.documentPrefix=r;this.startOffset=0;this.text="";this.trimCount=0}static{o(this,"StreamingCompletion")}updateText(t){this.text=t}get addedToPrefix(){return this.text.substring(0,this.startOffset)}get effectivePrefix(){return this.documentPrefix+this.addedToPrefix}get effectiveText(){return this.text.substring(this.startOffset)}get isFirstCompletion(){return this.trimCount===0}get firstNewlineOffset(){let t=[...this.text.matchAll(/\r?\n/g)];return t.length>0&&t[0].index===0&&t.shift(),t.length>0?t[0].index:-1}trimAt(t){let r=new e(this.index,this.documentPrefix);return r.startOffset=this.startOffset,r.text=this.text.substring(0,this.startOffset+t),r.trimCount=this.trimCount,this.startOffset+=t,this.trimCount++,r}},$Q=class{constructor(t,r,n,i,s,a){this.ctx=t;this.prefix=r;this.languageId=n;this.initialSingleLine=i;this.trimmerLookahead=s;this.cacheFunction=a;this.lineLimit=3;this.completions=new Map}static{o(this,"StreamedCompletionSplitter")}getFinishedCallback(){return async(t,r)=>{let n=r.index??0,i=this.getCompletion(n,t);if(i.isFirstCompletion&&this.initialSingleLine&&i.firstNewlineOffset>=0){let s={yieldSolution:!0,continueStreaming:!0,finishOffset:i.firstNewlineOffset};return i.trimAt(s.finishOffset),r.finished&&await this.trimAll(r,i),s}return r.finished?await this.trimAll(r,i):await this.trimOnce(r,i)}}getCompletion(t,r){let n=this.completions.get(t);return n||(n=new ite(t,this.prefix),this.completions.set(t,n)),n.updateText(r),n}async trimOnce(t,r){let n=await this.trim(r);return n===void 0?{yieldSolution:!1,continueStreaming:!0}:r.isFirstCompletion?(r.trimAt(n),{yieldSolution:!0,continueStreaming:!0,finishOffset:n}):(this.cacheCompletion(t,r,n),{yieldSolution:!1,continueStreaming:!0})}async trimAll(t,r){let n,i;do n=await this.trim(r),r.isFirstCompletion?(i=n,r.trimAt(n??r.effectiveText.length)):this.cacheCompletion(t,r,n);while(n!==void 0);return i!==void 0?{yieldSolution:!0,continueStreaming:!0,finishOffset:i}:{yieldSolution:!1,continueStreaming:!0}}async trim(t){return await new OQ(this.languageId,t.effectivePrefix,t.effectiveText,this.lineLimit,this.trimmerLookahead).getCompletionTrimOffset()}cacheCompletion(t,r,n){let i=r.trimAt(n??r.effectiveText.length);if(i.effectiveText.trim()==="")return;let s=GQ(this.ctx,i.effectiveText.trimEnd(),t.getAPIJsonData(),i.index,t.requestId,n!==void 0,t.telemetryData);s.copilotAnnotations=this.adjustedAnnotations(s,r,i),s.generatedChoiceIndex=i.trimCount,this.cacheFunction(i.addedToPrefix,s)}adjustedAnnotations(t,r,n){if(t.copilotAnnotations===void 0)return;let i=n.addedToPrefix.length,a=i+t.completionText.length>=r.text.length,l={};for(let[c,u]of Object.entries(t.copilotAnnotations)){let f=u.filter(m=>m.start_offset-i<t.completionText.length&&m.stop_offset-i>0).map(m=>{let h={...m};return h.start_offset-=i,h.stop_offset-=i,a||(h.stop_offset=Math.min(h.stop_offset,t.completionText.length)),h});f.length>0&&(l[c]=f)}return Object.keys(l).length>0?l:void 0}};d();var zQ=new Vt("getCompletions");function YQ(e,t,r){r.telemetry.markAsDisplayed(),r.telemetry.properties.reason=C_(r.resultType),jt(e,`${t}.shown`,r.telemetry)}o(YQ,"telemetryShown");function iEe(e,t,r){let n=t+".accepted",i=e.get(af);i.previousLabel=1,i.previousLabelTimestamp=Date.now(),jt(e,n,r)}o(iEe,"telemetryAccepted");function oEe(e,t,r){let n=t+".rejected",i=e.get(af);i.previousLabel=0,i.previousLabelTimestamp=Date.now(),jt(e,n,r)}o(oEe,"telemetryRejected");function qp(e,t={}){return{...t,telemetryBlob:e}}o(qp,"mkCanceledResultTelemetry");function ra(e){let t={headerRequestId:e.properties.headerRequestId,copilot_trackingId:e.properties.copilot_trackingId};return e.properties.sku!==void 0&&(t.sku=e.properties.sku),e.properties.opportunityId!==void 0&&(t.opportunityId=e.properties.opportunityId),e.properties.organizations_list!==void 0&&(t.organizations_list=e.properties.organizations_list),e.properties.enterprise_list!==void 0&&(t.enterprise_list=e.properties.enterprise_list),e.properties.clientCompletionId!==void 0&&(t.clientCompletionId=e.properties.clientCompletionId),t["abexp.assignmentcontext"]=e.filtersAndExp.exp.assignmentContext,t}o(ra,"mkBasicResultTelemetry");function sEe(e,t){if(t.type!=="promptOnly"){if(t.type==="success"){let r=Xs()-t.telemetryBlob.issuedTime,n=C_(t.resultType),i=JSON.stringify(t.performanceMetrics),s={...t.telemetryData,reason:n,performanceMetrics:i},{foundOffset:a}=t.telemetryBlob.measurements,l=t.performanceMetrics?.map(([c,u])=>`
${u.toFixed(2)}	${c}`).join("")??"";return zQ.debug(e,`ghostText produced from ${n} in ${Math.round(r)}ms with foundOffset ${a}${l}`),lZ(e,"ghostText.produced",s,{timeToProduceMs:r,foundOffset:a}),t.value}if(zQ.debug(e,"No ghostText produced -- "+t.type+": "+t.reason),t.type==="canceled"){jt(e,"ghostText.canceled",t.telemetryData.telemetryBlob.extendedBy({reason:t.reason,cancelledNetworkRequest:t.telemetryData.cancelledNetworkRequest?"true":"false"}));return}lZ(e,`ghostText.${t.type}`,{...t.telemetryData,reason:t.reason},{})}}o(sEe,"handleGhostTextResultTelemetry");function C_(e){switch(e){case 0:return"network";case 1:return"cache";case 3:return"cycling";case 2:return"typingAsSuggested";case 4:return"async"}}o(C_,"resultTypeToString");d();d();var KQ=class{constructor(t,r,n){this.languageId=t;this.nodeMatch=r;this.nodeTypesWithBlockOrStmtChild=n}static{o(this,"BaseBlockParser")}async getNodeMatchAtPosition(t,r,n){let i=await W1(this.languageId,t);try{let a=i.rootNode.descendantForIndex(r);for(;a;){let l=this.nodeMatch[a.type];if(l){if(!this.nodeTypesWithBlockOrStmtChild.has(a.type))break;let c=this.nodeTypesWithBlockOrStmtChild.get(a.type);if((c==""?a.namedChildren[0]:a.childForFieldName(c))?.type==l)break}a=a.parent}return a?n(a):void 0}finally{i.delete()}}getNextBlockAtPosition(t,r,n){return this.getNodeMatchAtPosition(t,r,i=>{let s=i.children.reverse().find(a=>a.type==this.nodeMatch[i.type]);if(s){if(this.languageId=="python"&&s.parent){let a=s.parent.type==":"?s.parent.parent:s.parent,l=a?.nextSibling;for(;l&&l.type=="comment";){let c=l.startPosition.row==s.endPosition.row&&l.startPosition.column>=s.endPosition.column,u=l.startPosition.row>a.endPosition.row&&l.startPosition.column>a.startPosition.column;if(c||u)s=l,l=l.nextSibling;else break}}if(!(s.endIndex>=s.tree.rootNode.endIndex-1&&(s.hasError()||s.parent.hasError())))return n(s)}})}async isBlockBodyFinished(t,r,n){let i=(t+r).trimEnd(),s=await this.getNextBlockAtPosition(i,n,a=>a.endIndex);if(s!==void 0&&s<i.length){let a=s-t.length;return a>0?a:void 0}}getNodeStart(t,r){let n=t.trimEnd();return this.getNodeMatchAtPosition(n,r,i=>i.startIndex)}},JQ=class extends KQ{constructor(r,n,i,s,a){super(r,s,a);this.blockEmptyMatch=n;this.lineMatch=i}static{o(this,"RegexBasedBlockParser")}isBlockStart(r){return this.lineMatch.test(r.trimStart())}async isBlockBodyEmpty(r,n){let i=await this.getNextBlockAtPosition(r,n,s=>{s.startIndex<n&&(n=s.startIndex);let a=r.substring(n,s.endIndex).trim();return a==""||a.replace(/\s/g,"")==this.blockEmptyMatch});return i===void 0||i}async isEmptyBlockStart(r,n){return n=lEe(r,n),this.isBlockStart(q0t(r,n))&&this.isBlockBodyEmpty(r,n)}};function q0t(e,t){let r=e.lastIndexOf(`
`,t-1),n=e.indexOf(`
`,t);return n<0&&(n=e.length),e.slice(r+1,n)}o(q0t,"getLineAtOffset");function lEe(e,t){let r=t;for(;r>0&&/\s/.test(e.charAt(r-1));)r--;return r}o(lEe,"rewindToNearestNonWs");function aEe(e,t){let r=e.startIndex,n=e.startIndex-e.startPosition.column,i=t.substring(n,r);if(/^\s*$/.test(i))return i}o(aEe,"indent");function W0t(e,t,r){if(t.startPosition.row<=e.startPosition.row)return!1;let n=aEe(e,r),i=aEe(t,r);return n!==void 0&&i!==void 0&&n.startsWith(i)}o(W0t,"outdented");var g5=class extends KQ{constructor(r,n,i,s,a,l,c){super(r,n,i);this.startKeywords=s;this.blockNodeType=a;this.emptyStatementType=l;this.curlyBraceLanguage=c}static{o(this,"TreeSitterBasedBlockParser")}isBlockEmpty(r,n){let i=r.text.trim();return this.curlyBraceLanguage&&(i.startsWith("{")&&(i=i.slice(1)),i.endsWith("}")&&(i=i.slice(0,-1)),i=i.trim()),!!(i.length==0||this.languageId=="python"&&(r.parent?.type=="class_definition"||r.parent?.type=="function_definition")&&r.children.length==1&&d3e(r.parent))}async isEmptyBlockStart(r,n){if(n>r.length)throw new RangeError("Invalid offset");for(let s=n;s<r.length&&r.charAt(s)!=`
`;s++)if(/\S/.test(r.charAt(s)))return!1;n=lEe(r,n);let i=await W1(this.languageId,r);try{let s=i.rootNode.descendantForIndex(n-1);if(s==null||this.curlyBraceLanguage&&s.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&s.parent&&s.parent.type=="object"&&s.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let f=s;for(;f.parent;){if(f.type=="function_signature"||f.type=="method_signature"){let m=s.nextSibling;return m&&f.hasError()&&W0t(f,m,r)?!0:!f.children.find(p=>p.type==";")&&f.endIndex<=n}f=f.parent}}let a=null,l=null,c=null,u=s;for(;u!=null;){if(u.type==this.blockNodeType){l=u;break}if(this.nodeMatch[u.type]){c=u;break}if(u.type=="ERROR"){a=u;break}u=u.parent}if(l!=null){if(!l.parent||!this.nodeMatch[l.parent.type])return!1;if(this.languageId=="python"){let f=l.previousSibling;if(f!=null&&f.hasError()&&(f.text.startsWith('"""')||f.text.startsWith("'''")))return!0}return this.isBlockEmpty(l,n)}if(a!=null){if(a.previousSibling?.type=="module"||a.previousSibling?.type=="internal_module"||a.previousSibling?.type=="def")return!0;let f=[...a.children].reverse(),m=f.find(p=>this.startKeywords.includes(p.type)),h=f.find(p=>p.type==this.blockNodeType);if(m){switch(this.languageId){case"python":{m.type=="try"&&s.type=="identifier"&&s.text.length>4&&(h=f.find(x=>x.hasError())?.children.find(x=>x.type=="block"));let p,g=0;for(let x of a.children){if(x.type==":"&&g==0){p=x;break}x.type=="("&&(g+=1),x.type==")"&&(g-=1)}if(p&&m.endIndex<=p.startIndex&&p.nextSibling){if(m.type=="def"){let x=p.nextSibling;if(x.type=='"'||x.type=="'"||x.type=="ERROR"&&(x.text=='"""'||x.text=="'''"))return!0}return!1}break}case"javascript":{let p=f.find(v=>v.type=="formal_parameters");if(m.type=="class"&&p)return!0;let g=f.find(v=>v.type=="{");if(g&&g.startIndex>m.endIndex&&g.nextSibling!=null||f.find(v=>v.type=="do")&&m.type=="while"||m.type=="=>"&&m.nextSibling&&m.nextSibling.type!="{")return!1;break}case"typescript":{let p=f.find(x=>x.type=="{");if(p&&p.startIndex>m.endIndex&&p.nextSibling!=null||f.find(x=>x.type=="do")&&m.type=="while"||m.type=="=>"&&m.nextSibling&&m.nextSibling.type!="{")return!1;break}}return h&&h.startIndex>m.endIndex?this.isBlockEmpty(h,n):!0}}if(c!=null){let f=this.nodeMatch[c.type],m=c.children.slice().reverse().find(h=>h.type==f);if(m)return this.isBlockEmpty(m,n);if(this.nodeTypesWithBlockOrStmtChild.has(c.type)){let h=this.nodeTypesWithBlockOrStmtChild.get(c.type),p=h==""?c.children[0]:c.childForFieldName(h);if(p&&p.type!=this.blockNodeType&&p.type!=this.emptyStatementType)return!1}return!0}return!1}finally{i.delete()}}},G0t={python:new g5("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new g5("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new g5("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new g5("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new JQ("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new JQ("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map),c_sharp:new g5("csharp",{},new Map([]),[],"block",null,!0),java:new g5("java",{},new Map([]),[],"block",null,!0)};function ote(e){if(!Ju(e))throw new Error(`Language ${e} is not supported`);return G0t[MN(e)]}o(ote,"getBlockParser");async function cEe(e,t,r){return Ju(e)?ote(e).isEmptyBlockStart(t,r):!1}o(cEe,"isEmptyBlockStart");async function uEe(e,t,r,n){if(Ju(e))return ote(e).isBlockBodyFinished(t,r,n)}o(uEe,"isBlockBodyFinished");async function fEe(e,t,r){if(Ju(e))return ote(e).getNodeStart(t,r)}o(fEe,"getNodeStart");var z6r=new Vt("parseBlock");function v_(e,t,r,n){let i=t.getText(No.range(No.position(0,0),r))+(n?`
`:""),s=t.offsetAt(r)+(n?1:0),a=t.detectedLanguageId;return l=>uEe(a,i,l,s)}o(v_,"parsingBlockFinished");function XQ(e,t){return cEe(e.detectedLanguageId,e.getText(),e.offsetAt(t))}o(XQ,"isEmptyBlockStartUtil");async function dEe(e,t,r,n){let s=t.getText(No.range(No.position(0,0),r))+n,a=await fEe(t.detectedLanguageId,s,t.offsetAt(r));if(a)return t.positionAt(a)}o(dEe,"getNodeStartUtil");var H0t=["\\{","\\}","\\[","\\]","\\(","\\)"].concat(["then","else","elseif","elif","catch","finally","fi","done","end","loop","until","where","when"].map(e=>e+"\\b")),j0t=new RegExp(`^(${H0t.join("|")})`);function V0t(e){return j0t.test(e.trimLeft().toLowerCase())}o(V0t,"isContinuationLine");function ZQ(e){let t=/^(\s*)([^]*)$/.exec(e);if(t&&t[2]&&t[2].length>0)return t[1].length}o(ZQ,"indentationOfLine");function b_(e,t){let r=e.getText(),n=e.offsetAt(t);return ste(r,n,e.detectedLanguageId)}o(b_,"contextIndentation");function ste(e,t,r){let n=e.slice(0,t).split(`
`),i=e.slice(t).split(`
`);function s(f,m,h){let p=m,g,x;for(;g===void 0&&p>=0&&p<f.length;)g=ZQ(f[p]),x=p,p+=h;if(r==="python"&&h===-1){p++;let v=f[p].trim();if(v.endsWith('"""')){if(!(v.startsWith('"""')&&v!=='"""'))for(p--;p>=0&&!f[p].trim().startsWith('"""');)p--;if(p>=0)for(g=void 0,p--;g===void 0&&p>=0;)g=ZQ(f[p]),x=p,p--}}return[g,x]}o(s,"seekNonBlank");let[a,l]=s(n,n.length-1,-1),c=(()=>{if(!(a===void 0||l===void 0))for(let f=l-1;f>=0;f--){let m=ZQ(n[f]);if(m!==void 0&&m<a)return m}})(),[u]=s(i,1,1);return{prev:c,current:a??0,next:u}}o(ste,"contextIndentationFromText");var $0t=!1;function z0t(e,t,r){let n=e.split(`
`),i=r!==void 0,s=r?.split(`
`).pop(),a=0;if(i&&s?.trim()!=""&&n[0].trim()!==""&&a++,!i&&$0t&&n[0].trim()===""&&a++,i||a++,n.length===a)return"continue";let l=Math.max(t.current,t.next??0);for(let c=a;c<n.length;c++){let u=n[c];c==0&&s!==void 0&&(u=s+u);let f=ZQ(u);if(f!==void 0&&(f<l||f===l&&!V0t(u)))return n.slice(0,c).join(`
`).length}return"continue"}o(z0t,"completionCutOrContinue");function mEe(e,t){return async r=>{let n=z0t(r,e,t);return n==="continue"?void 0:n}}o(mEe,"indentationBlockFinished");d();d();d();function hEe(e,t){return{...UN,useSubsetMatching:ate(e,t)}}o(hEe,"getCppSimilarFilesOptions");function pEe(e){return UN.maxTopSnippets}o(pEe,"getCppNumberOfSnippets");var Y0t=new Map([["cpp",hEe]]);function eM(e,t,r){let n=Y0t.get(r);return n?n(e,t):{...jZ,useSubsetMatching:ate(e,t)}}o(eM,"getSimilarFilesOptions");var K0t=new Map([["cpp",pEe]]);function gEe(e,t){let r=K0t.get(t);return r?r(e):h3e}o(gEe,"getNumberOfSnippets");function ate(e,t){return(t.filtersAndExp.exp.variables.copilotsubsetmatching||qn(e,St.UseSubsetMatching))??!1}o(ate,"useSubsetMatching");d();d();var J0t=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function Z0t(e){return J0t.has(e.code??"")||e.name==="RangeError"&&e.message==="WebAssembly.Memory(): could not allocate memory"}o(Z0t,"isOomError");function tM(e,t,r,n=Jn){if(!Ec(t)){if(t instanceof Error){let i=t;Z0t(i)?e.get(Yi).setWarning("Out of memory"):i.code==="EMFILE"||i.code==="ENFILE"?e.get(Yi).setWarning("Too many open files"):i.code==="CopilotPromptLoadFailure"?e.get(Yi).setWarning("Corrupted Copilot installation"):`${i.code}`.startsWith("CopilotPromptWorkerExit")?e.get(Yi).setWarning("Worker unexpectedly exited"):i.syscall==="uv_cwd"&&i.code==="ENOENT"&&e.get(Yi).setWarning("Current working directory does not exist")}n.exception(e,t,r)}}o(tM,"handleException");function AEe(e){process.addListener("uncaughtException",r=>{tM(e,r,"uncaughtException")});let t=!1;process.addListener("unhandledRejection",r=>{if(!t)try{t=!0,tM(e,r,"unhandledRejection")}finally{t=!1}})}o(AEe,"registerDefaultHandlers");d();d();d();var _l=class{constructor(){this._expectations=new Map;this._lastResolution=new Map;this._statistics=new Map}static{o(this,"ContextProviderStatistics")}addExpectations(t,r){let n=this._expectations.get(t)??[];this._expectations.set(t,[...n,...r])}clearExpectations(){this._expectations.clear()}setLastResolution(t,r){this._lastResolution.set(t,r)}get(t){return this._statistics.get(t)}pop(t){let r=this._statistics.get(t);if(r)return this._statistics.delete(t),r}computeMatch(t){try{for(let[r,n]of this._expectations){if(n.length===0)continue;let i=this._lastResolution.get(r)??"none";if(i==="none"||i==="error"){this._statistics.set(r,{usage:"none",resolution:i});continue}let s=[];for(let[u,f]of n){let m={id:u.id,type:u.type};if(u.origin&&(m.origin=u.origin),f==="content_excluded"){s.push({...m,usage:"none_content_excluded"});continue}let h=t.find(p=>p.source===u);h===void 0?s.push({...m,usage:"error"}):s.push({...m,usage:h.expectedTokens>0&&h.expectedTokens===h.actualTokens?"full":h.actualTokens>0?"partial":"none",expectedTokens:h.expectedTokens,actualTokens:h.actualTokens})}let l=s.reduce((u,f)=>f.usage==="full"?u+1:f.usage==="partial"?u+.5:u,0)/n.length,c=l===1?"full":l===0?"none":"partial";this._statistics.set(r,{resolution:i,usage:c,usageDetails:s})}}finally{this.clearExpectations(),this._lastResolution.clear()}}};function yEe(e){return e.map(t=>{if(!(t.source===void 0||t.expectedTokens===void 0||t.actualTokens===void 0))return{source:t.source,expectedTokens:t.expectedTokens,actualTokens:t.actualTokens}}).filter(t=>t!==void 0)}o(yEe,"componentStatisticsToPromptMatcher");d();var CEe=I.Object({importance:I.Optional(I.Integer({minimum:0,maximum:100})),id:I.Optional(I.String()),origin:I.Optional(I.Union([I.Literal("request"),I.Literal("update")]))}),xEe=I.Intersect([I.Object({name:I.String(),value:I.String()}),CEe]),vEe=I.Intersect([I.Object({uri:I.String(),value:I.String(),additionalUris:I.Optional(I.Array(I.String()))}),CEe]),X0t=[xEe,vEe],eut=I.Union(X0t),tut=new Map([["Trait",ds.Compile(xEe)],["CodeSnippet",ds.Compile(vEe)]]),rut=o(e=>e,"ensureTypesAreEqual");rut(!0);var nut=I.Object({contextItems:I.Array(eut)}),iut=I.Object({selector:I.Array(I.Union([I.String(),I.Object({language:I.Optional(I.String()),scheme:I.Optional(I.String()),pattern:I.Optional(I.String())})]))}),lte=I.Object({id:I.String()}),sut=I.Intersect([lte,iut]),aut=I.Intersect([lte,nut]),bEe=I.Object({providers:I.Array(sut)}),EEe=I.Object({providers:I.Array(lte)}),cte=I.Object({providers:I.Array(aut),updating:I.Optional(I.Array(I.String()))}),rM=I.Intersect([Wye,I.Object({contextItems:I.Optional(cte)})]);function nM(e,t){return e.map(r=>{let n=r.data.filter(i=>i.type===t);return n.length>0?{...r,data:n}:void 0}).filter(r=>r!==void 0)}o(nM,"filterContextItemsByType");function IEe(e){let t=[],r=0;return e.forEach(n=>{let i=!1;for(let[s,a]of tut.entries())if(a.Check(n)){t.push({...n,type:s}),i=!0;break}i||r++}),[t,r]}o(IEe,"filterSupportedContextItems");function lut(e){return e.length>0&&e.replaceAll(/[^a-zA-Z0-9-]/g,"").length===e.length}o(lut,"validateContextItemId");function TEe(e,t){let r=new Set,n=[];for(let i of t){let s=i.id??Ir();if(!lut(s)){let a=Ir();Jn.error(e,`Invalid context item ID ${s}, replacing with ${a}`),s=a}if(r.has(s)){let a=Ir();Jn.error(e,`Duplicate context item ID ${s}, replacing with ${a}`),s=a}r.add(s),n.push({...i,id:s})}return n}o(TEe,"addOrValidateContextItemsIDs");var cut="content_excluded";async function wEe(e,t,r){let n=nM(t,"CodeSnippet");if(n.length===0)return[];let i=new Set,s=n.flatMap(u=>u.data.map(f=>(i.add(f.uri),f.additionalUris?.forEach(m=>i.add(m)),{providerId:u.providerId,data:f}))),a=e.get(Hr),l=new Map;await Promise.all(Array.from(i).map(async u=>{l.set(u,await a.getTextDocumentValidation({uri:u}))}));let c=e.get(_l);return s.filter(u=>{let m=[u.data.uri,...u.data.additionalUris??[]].every(h=>l.get(h)?.status==="valid");return m?c.addExpectations(u.providerId,[[u.data,"included"]]):c.addExpectations(u.providerId,[[u.data,cut]]),m}).map(u=>u.data)}o(wEe,"getCodeSnippetsFromContextItems");function _Ee(e,t){let r=e.get(Hr);return t.map(n=>({snippet:n,relativePath:r.getRelativePath(n)}))}o(_Ee,"addRelativePathToCodeSnippets");d();function na(e){if(e.children)return Array.isArray(e.children)?e.children.join(""):e.children}o(na,"Text");function iM(e){return e.children}o(iM,"Chunk");d();function Gn(e,t,r){let n=[];Array.isArray(t.children)?n=t.children:t.children&&(n=[t.children]);let i={...t,children:n};return r&&(i.key=r),{type:e,props:i}}o(Gn,"functionComponentFunction");function J1(e){return{type:"f",children:e}}o(J1,"fragmentFunction");J1.isFragmentFunction=!0;var SEe=o((e,t)=>{let[r,n]=t.useState(),[i,s]=t.useState();if(t.useData(nu,u=>{u.codeSnippets!==r&&n(u.codeSnippets),u.document.uri!==i?.uri&&s(u.document)}),!r||r.length===0||!i)return;let a=_Ee(e.ctx,r),l=new Map;for(let u of a){let f=u.relativePath??u.snippet.uri,m=l.get(f);m===void 0&&(m=[],l.set(f,m)),m.push(u)}let c=[];for(let[u,f]of l.entries()){let m=f.filter(h=>h.snippet.value.length>0);m.length>0&&c.push({chunkElements:m.map(h=>h.snippet),importance:Math.max(...m.map(h=>h.snippet.importance??0)),uri:u})}if(c.length!==0)return c.sort((u,f)=>f.importance-u.importance),c.reverse(),c.map(u=>{let f=[];return f.push(Gn(na,{children:`Compare ${u.chunkElements.length>1?"these snippets":"this snippet"} from ${u.uri}:`})),u.chunkElements.forEach((m,h)=>{f.push(Gn(na,{source:m,children:m.value},m.id)),u.chunkElements.length>1&&h<u.chunkElements.length-1&&f.push(Gn(na,{children:"---"}))}),Gn(iM,{children:f})})},"CodeSnippets");d();d();d();function kEe(e,t){if(e.length===0||t.length===0)return{score:e.length+t.length};let r=Array.from({length:e.length}).map(()=>Array.from({length:t.length}).map(()=>0));for(let n=0;n<e.length;n++)r[n][0]=n;for(let n=0;n<t.length;n++)r[0][n]=n;for(let n=0;n<t.length;n++)for(let i=0;i<e.length;i++)r[i][n]=Math.min((i==0?n:r[i-1][n])+1,(n==0?i:r[i][n-1])+1,(i==0||n==0?Math.max(i,n):r[i-1][n-1])+(e[i]==t[n]?0:1));return{score:r[e.length-1][t.length-1]}}o(kEe,"findEditDistanceScore");var REe=50;function uut(e){let t=e*4,r=e*.1;return Math.floor(t+r)}o(uut,"approximateMaxCharacters");function E_(e,t){let[r,n]=t.useState(),[i,s]=t.useState(),[a,l]=t.useState(0),[c,u]=t.useState();t.useData(nu,m=>{let h=m.document;(m.document.uri!==r?.uri||h.getText()!==r?.getText())&&n(h),m.position!==i&&s(m.position),m.suffixMatchThreshold!==c&&u(m.suffixMatchThreshold),m.maxPromptTokens!==a&&l(m.maxPromptTokens)});let f=uut(a);return Gn(J1,{children:[Gn(fut,{document:r,position:i,maxCharacters:f}),Gn(ute,{document:r,position:i,suffixMatchThreshold:c,maxCharacters:f})]})}o(E_,"CurrentFile");function fut(e){if(e.document===void 0||e.position===void 0)return Gn(na,{});let t=e.document.getText({start:{line:0,character:0},end:e.position});return t.length>e.maxCharacters&&(t=t.slice(-e.maxCharacters)),Gn(na,{children:t})}o(fut,"BeforeCursor");function ute(e,t){let[r,n]=t.useState("");if(e.document===void 0||e.position===void 0)return Gn(na,{});let i=e.document.getText({start:e.position,end:{line:Number.MAX_VALUE,character:Number.MAX_VALUE}});i.length>e.maxCharacters&&(i=i.slice(0,e.maxCharacters));let s=i.replace(/^.*/,"").trimStart();if(s==="")return Gn(na,{});if(r===s)return Gn(na,{children:r});let a=s;if(r!==""){let l=go(),c=l.takeFirstTokens(s,REe);c.tokens.length>0&&100*kEe(c.tokens,l.takeFirstTokens(r,REe).tokens)?.score<(e.suffixMatchThreshold??qN)*c.tokens.length&&(a=r)}return a!==r&&n(a),Gn(na,{children:a})}o(ute,"AfterCursor");d();var oM=class{constructor(t){this.tokenizer=t}static{o(this,"WishlistElision")}elide(t,r,n,i=0){if(r<=0)throw new Error("Prefix limit must be greater than 0");let s=n??{componentPath:"",value:"",weight:1,nodeStatistics:{},type:"suffix"},[a,l]=this.preparePrefixBlocks(t),{elidedSuffix:c,adjustedPrefixTokenLimit:u}=this.elideSuffix(s,i,r,l),f=this.elidePrefix(a,u,l);return[c,...f]}preparePrefixBlocks(t){let r=0,n=new Set;return[t.map((s,a)=>{let l=this.tokenizer.tokenLength(s.value);r+=l;let c=s.componentPath;if(n.has(c))throw new Error(`Duplicate component path in prefix blocks: ${c}`);return n.add(c),{...s,tokens:l,markedForRemoval:!1,originalIndex:a}}),r]}elideSuffix(t,r,n,i){let s=t.value;if(s.length===0||r<=0)return{elidedSuffix:{...t,tokens:0,elidedValue:"",elidedTokens:0},adjustedPrefixTokenLimit:n+Math.max(0,r)};i<n&&(r=r+(n-i),n=i);let a=this.tokenizer.takeFirstTokens(s,r);return{elidedSuffix:{...t,value:s,tokens:this.tokenizer.tokenLength(s),elidedValue:a.text,elidedTokens:a.tokens.length},adjustedPrefixTokenLimit:n+Math.max(0,r-a.tokens.length)}}elidePrefix(t,r,n){let i=this.removeLowWeightPrefixBlocks(t,r,n),s=i.filter(u=>!u.markedForRemoval).flatMap(u=>u.value.split(/([^\n]*\n+)/).map(m=>({line:m,componentPath:u.componentPath}))).filter(u=>u.line!=="");if(s.length===0)return[];let[a,l]=this.trimPrefixLinesToFit(s,r),c=l;return i.map(u=>{if(u.markedForRemoval)return c+u.tokens<=r&&!u.chunk?(c+=u.tokens,{...u,elidedValue:u.value,elidedTokens:u.tokens}):{...u,elidedValue:"",elidedTokens:0};let f=a.filter(h=>h.componentPath===u.componentPath&&h.line!=="").map(h=>h.line).join(""),m=u.tokens;return f!==u.value&&(m=f!==""?this.tokenizer.tokenLength(f):0),{...u,elidedValue:f,elidedTokens:m}})}removeLowWeightPrefixBlocks(t,r,n){let i=n;t.sort((s,a)=>s.weight-a.weight);for(let s of t){if(i<=r)break;if(s.weight!==1&&!(s.chunk&&s.markedForRemoval))if(s.chunk)for(let a of t)a.chunk===s.chunk&&!a.markedForRemoval&&(a.markedForRemoval=!0,i-=a.tokens);else s.markedForRemoval=!0,i-=s.tokens}return t.sort((s,a)=>s.originalIndex-a.originalIndex).map(s=>{let{originalIndex:a,...l}=s;return l})}trimPrefixLinesToFit(t,r){let n=0,i=[];for(let s=t.length-1;s>=0;s--){let a=t[s],l=a.line,c=this.tokenizer.tokenLength(l);if(n+c<=r)i.unshift(a),n+=c;else break}if(i.length===0){let s=t[t.length-1];if(s&&s.line.length>0){let l=this.tokenizer.takeLastTokens(s.line,r);return i.push({line:l.text,componentPath:s.componentPath}),[i,l.tokens.length]}let a=`Cannot fit prefix within limit of ${r} tokens`;throw new Error(a)}return[i,n]}};function BEe(e){return e.map(t=>t.elidedValue).join("")}o(BEe,"makePrompt");function DEe(e){return e.filter(t=>t.type==="prefix").map(t=>t.elidedValue).join("")}o(DEe,"makePrefixPrompt");function PEe(e){return e.filter(t=>t.type==="context").map(t=>t.elidedValue).join("").trim()}o(PEe,"makeContextPrompt");d();var sM=class{constructor(t,r=fte()){this.snapshot=t;this.transformers=r}static{o(this,"SnapshotWalker")}walkSnapshot(t){this.walkSnapshotNode(this.snapshot,void 0,t,{})}walkSnapshotNode(t,r,n,i){let s=this.transformers.reduce((l,c)=>c(t,r,l),{...i});if(n(t,r,s))for(let l of t.children??[])this.walkSnapshotNode(l,t,n,s)}};function fte(){return[(e,t,r)=>{r.weight===void 0&&(r.weight=1);let n=e.props?.weight??1,i=typeof n=="number"?Math.max(0,Math.min(1,n)):1;return{...r,weight:i*r.weight}},(e,t,r)=>e.name===iM.name?{...r,chunk:e}:r,(e,t,r)=>e.props?.source!==void 0?{...r,source:e.props.source}:r]}o(fte,"defaultTransformers");d();var I_={abap:{lineComment:{start:'"',end:""},markdownLanguageIds:["abap","sap-abap"]},aspdotnet:{lineComment:{start:"<%--",end:"--%>"}},bat:{lineComment:{start:"REM",end:""}},bibtex:{lineComment:{start:"%",end:""},markdownLanguageIds:["bibtex"]},blade:{lineComment:{start:"#",end:""}},BluespecSystemVerilog:{lineComment:{start:"//",end:""}},c:{lineComment:{start:"//",end:""},markdownLanguageIds:["c","h"]},clojure:{lineComment:{start:";",end:""},markdownLanguageIds:["clojure","clj"]},coffeescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["coffeescript","coffee","cson","iced"]},cpp:{lineComment:{start:"//",end:""},markdownLanguageIds:["cpp","hpp","cc","hh","c++","h++","cxx","hxx"]},csharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["csharp","cs"]},css:{lineComment:{start:"/*",end:"*/"}},cuda:{lineComment:{start:"//",end:""}},dart:{lineComment:{start:"//",end:""}},dockerfile:{lineComment:{start:"#",end:""},markdownLanguageIds:["dockerfile","docker"]},dotenv:{lineComment:{start:"#",end:""}},elixir:{lineComment:{start:"#",end:""}},erb:{lineComment:{start:"<%#",end:"%>"}},erlang:{lineComment:{start:"%",end:""},markdownLanguageIds:["erlang","erl"]},fsharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["fsharp","fs","fsx","fsi","fsscript"]},go:{lineComment:{start:"//",end:""},markdownLanguageIds:["go","golang"]},graphql:{lineComment:{start:"#",end:""}},groovy:{lineComment:{start:"//",end:""}},haml:{lineComment:{start:"-#",end:""}},handlebars:{lineComment:{start:"{{!",end:"}}"},markdownLanguageIds:["handlebars","hbs","html.hbs","html.handlebars"]},haskell:{lineComment:{start:"--",end:""},markdownLanguageIds:["haskell","hs"]},hlsl:{lineComment:{start:"//",end:""}},html:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["html","xhtml"]},ini:{lineComment:{start:";",end:""}},java:{lineComment:{start:"//",end:""},markdownLanguageIds:["java","jsp"]},javascript:{lineComment:{start:"//",end:""},markdownLanguageIds:["javascript","js"]},javascriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},jsonc:{lineComment:{start:"//",end:""}},jsx:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},julia:{lineComment:{start:"#",end:""},markdownLanguageIds:["julia","jl"]},kotlin:{lineComment:{start:"//",end:""},markdownLanguageIds:["kotlin","kt"]},latex:{lineComment:{start:"%",end:""},markdownLanguageIds:["tex"]},legend:{lineComment:{start:"//",end:""}},less:{lineComment:{start:"//",end:""}},lua:{lineComment:{start:"--",end:""},markdownLanguageIds:["lua","pluto"]},makefile:{lineComment:{start:"#",end:""},markdownLanguageIds:["makefile","mk","mak","make"]},markdown:{lineComment:{start:"[]: #",end:""},markdownLanguageIds:["markdown","md","mkdown","mkd"]},"objective-c":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec","mm","objc","obj-c"]},"objective-cpp":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec++","objc+"]},perl:{lineComment:{start:"#",end:""},markdownLanguageIds:["perl","pl","pm"]},php:{lineComment:{start:"//",end:""}},powershell:{lineComment:{start:"#",end:""},markdownLanguageIds:["powershell","ps","ps1"]},pug:{lineComment:{start:"//",end:""}},python:{lineComment:{start:"#",end:""},markdownLanguageIds:["python","py","gyp"]},ql:{lineComment:{start:"//",end:""}},r:{lineComment:{start:"#",end:""}},razor:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["cshtml","razor","razor-cshtml"]},ruby:{lineComment:{start:"#",end:""},markdownLanguageIds:["ruby","rb","gemspec","podspec","thor","irb"]},rust:{lineComment:{start:"//",end:""},markdownLanguageIds:["rust","rs"]},sass:{lineComment:{start:"//",end:""}},scala:{lineComment:{start:"//",end:""}},scss:{lineComment:{start:"//",end:""}},shellscript:{lineComment:{start:"#",end:""},markdownLanguageIds:["bash","sh","zsh"]},slang:{lineComment:{start:"//",end:""}},slim:{lineComment:{start:"/",end:""}},solidity:{lineComment:{start:"//",end:""},markdownLanguageIds:["solidity","sol"]},sql:{lineComment:{start:"--",end:""}},stylus:{lineComment:{start:"//",end:""}},svelte:{lineComment:{start:"<!--",end:"-->"}},swift:{lineComment:{start:"//",end:""}},systemverilog:{lineComment:{start:"//",end:""}},terraform:{lineComment:{start:"#",end:""}},tex:{lineComment:{start:"%",end:""}},typescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["typescript","ts"]},typescriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["tsx"]},vb:{lineComment:{start:"'",end:""},markdownLanguageIds:["vb","vbscript"]},verilog:{lineComment:{start:"//",end:""}},"vue-html":{lineComment:{start:"<!--",end:"-->"}},vue:{lineComment:{start:"//",end:""}},xml:{lineComment:{start:"<!--",end:"-->"}},xsl:{lineComment:{start:"<!--",end:"-->"}},yaml:{lineComment:{start:"#",end:""},markdownLanguageIds:["yaml","yml"]}},dte={};for(let[e,t]of Object.entries(I_))if(t.markdownLanguageIds)for(let r of t.markdownLanguageIds)dte[r]=e;else dte[e]=e;function NEe(e){return dte[e]}o(NEe,"mdCodeBlockLangToLanguageId");var dut={start:"//",end:""},mut=["php","plaintext"],mte={html:"<!DOCTYPE html>",python:"#!/usr/bin/env python3",ruby:"#!/usr/bin/env ruby",shellscript:"#!/bin/sh",yaml:"# YAML data"};function LEe(e){return Object.values(mte).includes(e.trim())}o(LEe,"isShebangLine");function hut({source:e}){return e.startsWith("#!")||e.startsWith("<!DOCTYPE")}o(hut,"hasLanguageMarker");function put(e,t){let r=I_[t]?I_[t].lineComment:dut;if(r){let n=r.end==""?"":" "+r.end;return`${r.start} ${e}${n}`}return""}o(put,"comment");function aM(e,t){if(e==="")return"";let r=e.endsWith(`
`),i=(r?e.slice(0,-1):e).split(`
`).map(s=>put(s,t)).join(`
`);return r?i+`
`:i}o(aM,"commentBlockAsSingles");function QEe(e){let{languageId:t}=e;return mut.indexOf(t)===-1&&!hut(e)?t in mte?mte[t]:`Language: ${t}`:""}o(QEe,"getLanguageMarker");function MEe(e){return e.relativePath?`Path: ${e.relativePath}`:""}o(MEe,"getPathMarker");function T_(e){return e===""||e.endsWith(`
`)?e:e+`
`}o(T_,"newLineEnded");function OEe(e){return FEe(typeof e=="string"?e:"plaintext")}o(OEe,"getLanguage");function FEe(e){return I_[e]!==void 0?{languageId:e,...I_[e]}:{languageId:e,lineComment:{start:"//",end:""}}}o(FEe,"_getLanguage");var gut=5;function hte(e){return e.children}o(hte,"CompletionsContext");var lM=class{constructor(){this.renderId=0}static{o(this,"CompletionsPromptRenderer")}render(t,r,n){let i=this.renderId++,s=performance.now();try{if(n?.isCancellationRequested)return{status:"cancelled"};let a=r.delimiter??"",l=r.tokenizer??go(),{prefixBlocks:c,suffixBlock:u,componentStatistics:f}=this.processSnapshot(t,a,r.languageId,r.separateContext),{prefixTokenLimit:m,suffixTokenLimit:h}=this.getPromptLimits(u,r),p=performance.now(),g=new oM(l),[x,...v]=g.elide(c,m,u,h),E=performance.now(),b=r.separateContext?DEe(v):BEe(v),_=r.separateContext?PEe(v):void 0,R=x.elidedValue,P=v.reduce((G,se)=>G+se.elidedTokens,0),F=P+x.elidedTokens;return f.push(...yut([...v,x])),{prefix:b,prefixTokens:P,suffix:R,suffixTokens:x.elidedTokens,context:_,tokens:F,status:"ok",metadata:{actualTokens:F,renderId:i,elisionTimeMs:E-p,renderTimeMs:performance.now()-s,componentStatistics:f,updateDataTimeMs:f.reduce((G,se)=>G+(se.updateDataTimeMs??0),0),status:"ok"}}}catch(a){return{status:"error",error:a}}}getPromptLimits(t,r){let n=t?.value??"",i=r.promptTokenLimit,s=r.suffixPercent;if(n.length==0||s==0)return{prefixTokenLimit:i,suffixTokenLimit:0};i=n.length>0?i-gut:i;let a=Math.ceil(i*(s/100));return{prefixTokenLimit:i-a,suffixTokenLimit:a}}processSnapshot(t,r,n,i){let s=[],a=[],l=[],c=!1,u=!1;if(new sM(t,Aut).walkSnapshot((h,p,g)=>{if(h===t||(h.name===E_.name?c=!0:h.name===ute.name&&(u=!0),h.statistics.updateDataTimeMs&&h.statistics.updateDataTimeMs>0&&l.push({componentPath:h.path,updateDataTimeMs:h.statistics.updateDataTimeMs}),h.value===void 0||h.value===""))return!0;let x=g.chunk?g.chunk.path:void 0;if(u)a.push({value:h.value,type:"suffix",weight:g.weight,componentPath:h.path,nodeStatistics:h.statistics,chunk:x,source:g.source});else{let v=h.value.endsWith(r)?h.value:h.value+r,E=g.isInCompletionsContext?this.contextValue(v,i,n):h.value;s.push({type:g.isInCompletionsContext?"context":"prefix",value:E,weight:g.weight,componentPath:h.path,nodeStatistics:h.statistics,chunk:x,source:g.source})}return!0}),!c)throw new Error(`Node of type ${E_.name} not found`);if(a.length>1)throw new Error("Only one suffix is allowed");let m=a[0];return{prefixBlocks:s,suffixBlock:m,componentStatistics:l}}contextValue(t,r,n){return r||LEe(t)?t:aM(t,n)}},Aut=[...fte(),(e,t,r)=>e.name===hte.name?{...r,isInCompletionsContext:!0}:r];function yut(e){return e.map(t=>{let r={componentPath:t.componentPath};return t.tokens!==0&&(r.expectedTokens=t.tokens,r.actualTokens=t.elidedTokens),t.nodeStatistics.updateDataTimeMs!==void 0&&(r.updateDataTimeMs=t.nodeStatistics.updateDataTimeMs),t.source&&(r.source=t.source),r})}o(yut,"computeComponentStatistics");d();var UEe=o((e,t)=>{let[r,n]=t.useState();if(t.useData(nu,i=>{n(i.telemetryData)}),r&&e.by(e.ctx,r))return e.children},"Gated");d();var qEe=o((e,t)=>{let[r,n]=t.useState();if(t.useData(nu,i=>{i.document.uri!==r?.uri&&n(i.document)}),r){let i=e.ctx.get(Hr),s=i.getRelativePath(r),a={uri:r.uri,source:r.getText(),relativePath:s,languageId:r.detectedLanguageId},l=i.findNotebook(r);return a.relativePath&&!l?Gn(Cut,{docInfo:a}):Gn(xut,{docInfo:a})}},"DocumentMarker"),Cut=o(e=>Gn(na,{children:MEe(e.docInfo)}),"PathMarker"),xut=o(e=>Gn(na,{children:QEe(e.docInfo)}),"LanguageMarker");d();d();d();d();d();var pte=class{static{o(this,"ErrorHandler")}constructor(){this.listeners=[],this.unexpectedErrorHandler=function(t){setTimeout(()=>{throw t.stack?cM.isErrorNoTelemetry(t)?new cM(t.message+`

`+t.stack):new Error(t.message+`

`+t.stack):t},0)}}addListener(t){return this.listeners.push(t),()=>{this._removeListener(t)}}emit(t){this.listeners.forEach(r=>{r(t)})}_removeListener(t){this.listeners.splice(this.listeners.indexOf(t),1)}setUnexpectedErrorHandler(t){this.unexpectedErrorHandler=t}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(t){this.unexpectedErrorHandler(t),this.emit(t)}onUnexpectedExternalError(t){this.unexpectedErrorHandler(t)}},WEe=new pte;function Y4(e){WEe.onUnexpectedError(e)}o(Y4,"onBugIndicatingError");function KI(e){vut(e)||WEe.onUnexpectedError(e)}o(KI,"onUnexpectedError");var gte="Canceled";function vut(e){return e instanceof Wp?!0:e instanceof Error&&e.name===gte&&e.message===gte}o(vut,"isCancellationError");var Wp=class extends Error{static{o(this,"CancellationError")}constructor(){super(gte),this.name=this.message}};function w_(e){return e?new Error(`Illegal argument: ${e}`):new Error("Illegal argument")}o(w_,"illegalArgument");function GEe(e){return e?new Error(`Illegal state: ${e}`):new Error("Illegal state")}o(GEe,"illegalState");var cM=class e extends Error{static{o(this,"ErrorNoTelemetry")}constructor(t){super(t),this.name="CodeExpectedError"}static fromError(t){if(t instanceof e)return t;let r=new e;return r.message=t.message,r.stack=t.stack,r}static isErrorNoTelemetry(t){return t.name==="CodeExpectedError"}},Fi=class e extends Error{static{o(this,"BugIndicatingError")}constructor(t){super(t||"An unexpected bug occurred."),Object.setPrototypeOf(this,e.prototype)}};function uM(e,t="Unreachable"){throw new Error(t)}o(uM,"assertNever");function iu(e,t="unexpected state"){if(!e)throw new Fi(`Assertion Failed: ${t}`)}o(iu,"assert");function A5(e){if(!e()){debugger;e(),KI(new Fi("Assertion Failed"))}}o(A5,"assertFn");function fM(e,t){let r=0;for(;r<e.length-1;){let n=e[r],i=e[r+1];if(!t(n,i))return!1;r++}return!0}o(fM,"checkAdjacentItems");d();d();d();function Ate(e,t){let r=nh(e,t);return r===-1?void 0:e[r]}o(Ate,"findLastMonotonous");function nh(e,t,r=0,n=e.length){let i=r,s=n;for(;i<s;){let a=Math.floor((i+s)/2);t(e[a])?i=a+1:s=a}return i-1}o(nh,"findLastIdxMonotonous");function JI(e,t,r=0,n=e.length){let i=r,s=n;for(;i<s;){let a=Math.floor((i+s)/2);t(e[a])?s=a:i=a+1}return i}o(JI,"findFirstIdxMonotonousOrArrLen");var HEe=class e{constructor(t){this._array=t;this._findLastMonotonousLastIdx=0}static{o(this,"MonotonousArray")}static{this.assertInvariants=!1}findLastMonotonous(t){if(e.assertInvariants){if(this._prevFindLastPredicate){for(let n of this._array)if(this._prevFindLastPredicate(n)&&!t(n))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=t}let r=nh(this._array,t,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=r+1,r===-1?void 0:this._array[r]}};function yte(e,t,r=(n,i)=>n===i){if(e===t)return!0;if(!e||!t||e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(!r(e[n],t[n]))return!1;return!0}o(yte,"equals");function*mM(e,t){let r,n;for(let i of e)n!==void 0&&t(n,i)?r.push(i):(r&&(yield r),r=[i]),n=i;r&&(yield r)}o(mM,"groupAdjacentBy");function VEe(e){return e.filter(t=>!!t)}o(VEe,"coalesce");var $Ee;(l=>{function e(c){return c<0}l.isLessThan=e,o(e,"isLessThan");function t(c){return c<=0}l.isLessThanOrEqual=t,o(t,"isLessThanOrEqual");function r(c){return c>0}l.isGreaterThan=r,o(r,"isGreaterThan");function n(c){return c===0}l.isNeitherLessOrGreaterThan=n,o(n,"isNeitherLessOrGreaterThan"),l.greaterThan=1,l.lessThan=-1,l.neitherLessOrGreaterThan=0})($Ee||={});function y5(e,t){return(r,n)=>t(e(r),e(n))}o(y5,"compareBy");var C5=o((e,t)=>e-t,"numberComparator");var dM=class{constructor(t){this.items=t;this.firstIdx=0;this.lastIdx=this.items.length-1}static{o(this,"ArrayQueue")}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(t){let r=this.firstIdx;for(;r<this.items.length&&t(this.items[r]);)r++;let n=r===this.firstIdx?null:this.items.slice(this.firstIdx,r);return this.firstIdx=r,n}takeFromEndWhile(t){let r=this.lastIdx;for(;r>=0&&t(this.items[r]);)r--;let n=r===this.lastIdx?null:this.items.slice(r+1,this.lastIdx+1);return this.lastIdx=r,n}peek(){if(this.length!==0)return this.items[this.firstIdx]}peekLast(){if(this.length!==0)return this.items[this.lastIdx]}dequeue(){let t=this.items[this.firstIdx];return this.firstIdx++,t}removeLast(){let t=this.items[this.lastIdx];return this.lastIdx--,t}takeCount(t){let r=this.items.slice(this.firstIdx,this.firstIdx+t);return this.firstIdx+=t,r}},jEe=class e{constructor(t){this.iterate=t}static{o(this,"CallbackIterable")}static{this.empty=new e(t=>{})}forEach(t){this.iterate(r=>(t(r),!0))}toArray(){let t=[];return this.iterate(r=>(t.push(r),!0)),t}filter(t){return new e(r=>this.iterate(n=>t(n)?r(n):!0))}map(t){return new e(r=>this.iterate(n=>r(t(n))))}some(t){let r=!1;return this.iterate(n=>(r=t(n),!r)),r}findFirst(t){let r;return this.iterate(n=>t(n)?(r=n,!1):!0),r}findLast(t){let r;return this.iterate(n=>(t(n)&&(r=n),!0)),r}findLastMaxBy(t){let r,n=!0;return this.iterate(i=>((n||$Ee.isGreaterThan(t(i,r)))&&(n=!1,r=i),!0)),r}};d();function JEe(e,t){let r=Object.create(null);for(let n of e){let i=t(n),s=r[i];s||(s=r[i]=[]),s.push(n)}return r}o(JEe,"groupBy");var YEe,KEe,zEe=class{constructor(t,r){this.toKey=r;this._map=new Map;this[YEe]="SetWithKey";for(let n of t)this.add(n)}static{o(this,"SetWithKey")}get size(){return this._map.size}add(t){let r=this.toKey(t);return this._map.set(r,t),this}delete(t){return this._map.delete(this.toKey(t))}has(t){return this._map.has(this.toKey(t))}*entries(){for(let t of this._map.values())yield[t,t]}keys(){return this.values()}*values(){for(let t of this._map.values())yield t}clear(){this._map.clear()}forEach(t,r){this._map.forEach(n=>t.call(r,n,n,this))}[(KEe=Symbol.iterator,YEe=Symbol.toStringTag,KEe)](){return this.values()}};d();function Cte(e,t){let r=this,n=!1,i;return function(){if(n)return i;if(n=!0,t)try{i=e.apply(r,arguments)}finally{t()}else i=e.apply(r,arguments);return i}}o(Cte,"createSingleCallFunction");d();var xte;(_=>{function e(R){return R&&typeof R=="object"&&typeof R[Symbol.iterator]=="function"}_.is=e,o(e,"is");let t=Object.freeze([]);function r(){return t}_.empty=r,o(r,"empty");function*n(R){yield R}_.single=n,o(n,"single");function i(R){return e(R)?R:n(R)}_.wrap=i,o(i,"wrap");function s(R){return R||t}_.from=s,o(s,"from");function*a(R){for(let P=R.length-1;P>=0;P--)yield R[P]}_.reverse=a,o(a,"reverse");function l(R){return!R||R[Symbol.iterator]().next().done===!0}_.isEmpty=l,o(l,"isEmpty");function c(R){return R[Symbol.iterator]().next().value}_.first=c,o(c,"first");function u(R,P){let F=0;for(let G of R)if(P(G,F++))return!0;return!1}_.some=u,o(u,"some");function f(R,P){for(let F of R)if(P(F))return F}_.find=f,o(f,"find");function*m(R,P){for(let F of R)P(F)&&(yield F)}_.filter=m,o(m,"filter");function*h(R,P){let F=0;for(let G of R)yield P(G,F++)}_.map=h,o(h,"map");function*p(R,P){let F=0;for(let G of R)yield*P(G,F++)}_.flatMap=p,o(p,"flatMap");function*g(...R){for(let P of R)yield*P}_.concat=g,o(g,"concat");function x(R,P,F){let G=F;for(let se of R)G=P(G,se);return G}_.reduce=x,o(x,"reduce");function*v(R,P,F=R.length){for(P<-R.length&&(P=0),P<0&&(P+=R.length),F<0?F+=R.length:F>R.length&&(F=R.length);P<F;P++)yield R[P]}_.slice=v,o(v,"slice");function E(R,P=Number.POSITIVE_INFINITY){let F=[];if(P===0)return[F,R];let G=R[Symbol.iterator]();for(let se=0;se<P;se++){let Ae=G.next();if(Ae.done)return[F,_.empty()];F.push(Ae.value)}return[F,{[Symbol.iterator](){return G}}]}_.consume=E,o(E,"consume");async function b(R){let P=[];for await(let F of R)P.push(F);return Promise.resolve(P)}_.asyncToArray=b,o(b,"asyncToArray")})(xte||={});d();var vte=class{constructor(t,r){this.uri=t;this.value=r}static{o(this,"ResourceMapEntry")}};function Eut(e){return Array.isArray(e)}o(Eut,"isEntries");var XEe,hM=class e{constructor(t,r){this[XEe]="ResourceMap";if(t instanceof e)this.map=new Map(t.map),this.toKey=r??e.defaultToKey;else if(Eut(t)){this.map=new Map,this.toKey=r??e.defaultToKey;for(let[n,i]of t)this.set(n,i)}else this.map=new Map,this.toKey=t??e.defaultToKey}static{o(this,"ResourceMap")}static{this.defaultToKey=o(t=>t.toString(),"defaultToKey")}set(t,r){return this.map.set(this.toKey(t),new vte(t,r)),this}get(t){return this.map.get(this.toKey(t))?.value}has(t){return this.map.has(this.toKey(t))}get size(){return this.map.size}clear(){this.map.clear()}delete(t){return this.map.delete(this.toKey(t))}forEach(t,r){typeof r<"u"&&(t=t.bind(r));for(let[n,i]of this.map)t(i.value,i.uri,this)}*values(){for(let t of this.map.values())yield t.value}*keys(){for(let t of this.map.values())yield t.uri}*entries(){for(let t of this.map.values())yield[t.uri,t.value]}*[(XEe=Symbol.toStringTag,Symbol.iterator)](){for(let[,t]of this.map)yield[t.uri,t.value]}},eIe,ZEe=class{constructor(t,r){this[eIe]="ResourceSet";!t||typeof t=="function"?this._map=new hM(t):(this._map=new hM(r),t.forEach(this.add,this))}static{o(this,"ResourceSet")}get size(){return this._map.size}add(t){return this._map.set(t,t),this}clear(){this._map.clear()}delete(t){return this._map.delete(t)}forEach(t,r){this._map.forEach((n,i)=>t.call(r,i,i,this))}has(t){return this._map.has(t)}entries(){return this._map.entries()}keys(){return this._map.keys()}values(){return this._map.keys()}[(eIe=Symbol.toStringTag,Symbol.iterator)](){return this.keys()}};var tIe,bte=class{constructor(){this[tIe]="LinkedMap";this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}static{o(this,"LinkedMap")}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(t){return this._map.has(t)}get(t,r=0){let n=this._map.get(t);if(n)return r!==0&&this.touch(n,r),n.value}set(t,r,n=0){let i=this._map.get(t);if(i)i.value=r,n!==0&&this.touch(i,n);else{switch(i={key:t,value:r,next:void 0,previous:void 0},n){case 0:this.addItemLast(i);break;case 1:this.addItemFirst(i);break;case 2:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let r=this._map.get(t);if(r)return this._map.delete(t),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._state,i=this._head;for(;i;){if(r?t.bind(r)(i.value,i.key,this):t(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.key,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}values(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.value,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}entries(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:[n.key,n.value],done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}[(tIe=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}trimNew(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._tail,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.previous,n--;this._tail=r,this._size=n,r&&(r.next=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}t.next=void 0,t.previous=void 0,this._state++}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==1&&r!==2)){if(r===1){if(t===this._head)return;let n=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(r===2){if(t===this._tail)return;let n=t.next,i=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((r,n)=>{t.push([n,r])}),t}fromJSON(t){this.clear();for(let[r,n]of t)this.set(r,n)}},Ete=class extends bte{static{o(this,"Cache")}constructor(t,r=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,r=2){return super.get(t,r)}peek(t){return super.get(t,0)}set(t,r){return super.set(t,r,2),this}checkTrim(){this.size>this._limit&&this.trim(Math.round(this._limit*this._ratio))}},pM=class extends Ete{static{o(this,"LRUCache")}constructor(t,r=1){super(t,r)}trim(t){this.trimOld(t)}set(t,r){return super.set(t,r),this.checkTrim(),this}};var gM=class{constructor(){this.map=new Map}static{o(this,"SetMap")}add(t,r){let n=this.map.get(t);n||(n=new Set,this.map.set(t,n)),n.add(r)}delete(t,r){let n=this.map.get(t);n&&(n.delete(r),n.size===0&&this.map.delete(t))}forEach(t,r){let n=this.map.get(t);n&&n.forEach(r)}get(t){let r=this.map.get(t);return r||new Set}};var Iut=!1,ZI=null;var rIe=class e{constructor(){this.livingDisposables=new Map}static{o(this,"DisposableTracker")}static{this.idx=0}getDisposableData(t){let r=this.livingDisposables.get(t);return r||(r={parent:null,source:null,isSingleton:!1,value:t,idx:e.idx++},this.livingDisposables.set(t,r)),r}trackDisposable(t){let r=this.getDisposableData(t);r.source||(r.source=new Error().stack)}setParent(t,r){let n=this.getDisposableData(t);n.parent=r}markAsDisposed(t){this.livingDisposables.delete(t)}markAsSingleton(t){this.getDisposableData(t).isSingleton=!0}getRootParent(t,r){let n=r.get(t);if(n)return n;let i=t.parent?this.getRootParent(this.getDisposableData(t.parent),r):t;return r.set(t,i),i}getTrackedDisposables(){let t=new Map;return[...this.livingDisposables.entries()].filter(([,n])=>n.source!==null&&!this.getRootParent(n,t).isSingleton).flatMap(([n])=>n)}computeLeakingDisposables(t=10,r){let n;if(r)n=r;else{let c=new Map,u=[...this.livingDisposables.values()].filter(m=>m.source!==null&&!this.getRootParent(m,c).isSingleton);if(u.length===0)return;let f=new Set(u.map(m=>m.value));if(n=u.filter(m=>!(m.parent&&f.has(m.parent))),n.length===0)throw new Error("There are cyclic diposable chains!")}if(!n)return;function i(c){function u(m,h){for(;m.length>0&&h.some(p=>typeof p=="string"?p===m[0]:m[0].match(p));)m.shift()}o(u,"removePrefix");let f=c.source.split(`
`).map(m=>m.trim().replace("at ","")).filter(m=>m!=="");return u(f,["Error",/^trackDisposable \(.*\)$/,/^DisposableTracker.trackDisposable \(.*\)$/]),f.reverse()}o(i,"getStackTracePath");let s=new gM;for(let c of n){let u=i(c);for(let f=0;f<=u.length;f++)s.add(u.slice(0,f).join(`
`),c)}n.sort(y5(c=>c.idx,C5));let a="",l=0;for(let c of n.slice(0,t)){l++;let u=i(c),f=[];for(let m=0;m<u.length;m++){let h=u[m];h=`(shared with ${s.get(u.slice(0,m+1).join(`
`)).size}/${n.length} leaks) at ${h}`;let g=s.get(u.slice(0,m).join(`
`)),x=JEe([...g].map(v=>i(v)[m]),v=>v);delete x[u[m]];for(let[v,E]of Object.entries(x))f.unshift(`    - stacktraces of ${E.length} other leaks continue with ${v}`);f.unshift(h)}a+=`


==================== Leaking disposable ${l}/${n.length}: ${c.value.constructor.name} ====================
${f.join(`
`)}
============================================================

`}return n.length>t&&(a+=`


... and ${n.length-t} more leaking disposables

`),{leaks:n,details:a}}};function Tut(e){ZI=e}o(Tut,"setDisposableTracker");if(Iut){let e="__is_disposable_tracked__";Tut(new class{trackDisposable(t){let r=new Error("Potentially leaked disposable").stack;setTimeout(()=>{t[e]||console.log(r)},3e3)}setParent(t,r){if(t&&t!==Ia.None)try{t[e]=!0}catch{}}markAsDisposed(t){if(t&&t!==Ia.None)try{t[e]=!0}catch{}}markAsSingleton(t){}})}function XI(e){return ZI?.trackDisposable(e),e}o(XI,"trackDisposable");function e8(e){ZI?.markAsDisposed(e)}o(e8,"markAsDisposed");function Ite(e,t){ZI?.setParent(e,t)}o(Ite,"setParentOfDisposable");function wut(e,t){if(ZI)for(let r of e)ZI.setParent(r,t)}o(wut,"setParentOfDisposables");function nIe(e){return typeof e=="object"&&e!==null&&typeof e.dispose=="function"&&e.dispose.length===0}o(nIe,"isDisposable");function AM(e){if(xte.is(e)){let t=[];for(let r of e)if(r)try{r.dispose()}catch(n){t.push(n)}if(t.length===1)throw t[0];if(t.length>1)throw new AggregateError(t,"Encountered errors while disposing of store");return Array.isArray(e)?[]:e}else if(e)return e.dispose(),e}o(AM,"dispose");function iIe(...e){let t=Ta(()=>AM(e));return wut(e,t),t}o(iIe,"combinedDisposable");function Ta(e){let t=XI({dispose:Cte(()=>{e8(t),e()})});return t}o(Ta,"toDisposable");var c0=class e{constructor(){this._toDispose=new Set;this._isDisposed=!1;XI(this)}static{o(this,"DisposableStore")}static{this.DISABLE_DISPOSED_WARNING=!1}dispose(){this._isDisposed||(e8(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{AM(this._toDispose)}finally{this._toDispose.clear()}}add(t){if(!t)return t;if(t===this)throw new Error("Cannot register a disposable on itself!");return Ite(t,this),this._isDisposed?e.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(t),t}delete(t){if(t){if(t===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(t),t.dispose()}}deleteAndLeak(t){t&&this._toDispose.has(t)&&(this._toDispose.delete(t),Ite(t,null))}},Ia=class{constructor(){this._store=new c0;XI(this),Ite(this._store,this)}static{o(this,"Disposable")}static{this.None=Object.freeze({dispose(){}})}dispose(){e8(this),this._store.dispose()}_register(t){if(t===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(t)}};d();d();d();d();d();var Z1=o((e,t)=>e===t,"strictEquals");d();d();var oIe=class e{static{o(this,"Node")}static{this.Undefined=new e(void 0)}constructor(t){this.element=t,this.next=e.Undefined,this.prev=e.Undefined}};d();var _ut=globalThis.performance&&typeof globalThis.performance.now=="function",yM=class e{static{o(this,"StopWatch")}static create(t){return new e(t)}constructor(t){this._now=_ut&&t===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}};var sIe=!1,Sut=!1,K4;(X=>{X.None=o(()=>Ia.None,"None");function t(H){if(Sut){let{onDidAddListener:O}=H,V=__.create(),J=0;H.onDidAddListener=()=>{++J===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),V.print()),O?.()}}}o(t,"_addLeakageTraceLogic");function r(H,O){return p(H,()=>{},0,void 0,!0,void 0,O)}X.defer=r,o(r,"defer");function n(H){return(O,V=null,J)=>{let ae=!1,te;return te=H(le=>{if(!ae)return te?te.dispose():ae=!0,O.call(V,le)},null,J),ae&&te.dispose(),te}}X.once=n,o(n,"once");function i(H,O){return X.once(X.filter(H,O))}X.onceIf=i,o(i,"onceIf");function s(H,O,V){return m((J,ae=null,te)=>H(le=>J.call(ae,O(le)),null,te),V)}X.map=s,o(s,"map");function a(H,O,V){return m((J,ae=null,te)=>H(le=>{O(le),J.call(ae,le)},null,te),V)}X.forEach=a,o(a,"forEach");function l(H,O,V){return m((J,ae=null,te)=>H(le=>O(le)&&J.call(ae,le),null,te),V)}X.filter=l,o(l,"filter");function c(H){return H}X.signal=c,o(c,"signal");function u(...H){return(O,V=null,J)=>{let ae=iIe(...H.map(te=>te(le=>O.call(V,le))));return h(ae,J)}}X.any=u,o(u,"any");function f(H,O,V,J){let ae=V;return s(H,te=>(ae=O(ae,te),ae),J)}X.reduce=f,o(f,"reduce");function m(H,O){let V,J={onWillAddFirstListener(){V=H(ae.fire,ae)},onDidRemoveLastListener(){V?.dispose()}};O||t(J);let ae=new cf(J);return O?.add(ae),ae.event}o(m,"snapshot");function h(H,O){return O instanceof Array?O.push(H):O&&O.add(H),H}o(h,"addAndReturnDisposable");function p(H,O,V=100,J=!1,ae=!1,te,le){let ce,Pe,Ie,Fe=0,Re,Ge={leakWarningThreshold:te,onWillAddFirstListener(){ce=H(st=>{Fe++,Pe=O(Pe,st),J&&!Ie&&(lt.fire(Pe),Pe=void 0),Re=o(()=>{let ct=Pe;Pe=void 0,Ie=void 0,(!J||Fe>1)&&lt.fire(ct),Fe=0},"doFire"),typeof V=="number"?(clearTimeout(Ie),Ie=setTimeout(Re,V)):Ie===void 0&&(Ie=0,queueMicrotask(Re))})},onWillRemoveListener(){ae&&Fe>0&&Re?.()},onDidRemoveLastListener(){Re=void 0,ce.dispose()}};le||t(Ge);let lt=new cf(Ge);return le?.add(lt),lt.event}X.debounce=p,o(p,"debounce");function g(H,O=0,V){return X.debounce(H,(J,ae)=>J?(J.push(ae),J):[ae],O,void 0,!0,void 0,V)}X.accumulate=g,o(g,"accumulate");function x(H,O=(J,ae)=>J===ae,V){let J=!0,ae;return l(H,te=>{let le=J||!O(te,ae);return J=!1,ae=te,le},V)}X.latch=x,o(x,"latch");function v(H,O,V){return[X.filter(H,O,V),X.filter(H,J=>!O(J),V)]}X.split=v,o(v,"split");function E(H,O=!1,V=[],J){let ae=V.slice(),te=H(Pe=>{ae?ae.push(Pe):ce.fire(Pe)});J&&J.add(te);let le=o(()=>{ae?.forEach(Pe=>ce.fire(Pe)),ae=null},"flush"),ce=new cf({onWillAddFirstListener(){te||(te=H(Pe=>ce.fire(Pe)),J&&J.add(te))},onDidAddFirstListener(){ae&&(O?setTimeout(le):le())},onDidRemoveLastListener(){te&&te.dispose(),te=null}});return J&&J.add(ce),ce.event}X.buffer=E,o(E,"buffer");function b(H,O){return o((J,ae,te)=>{let le=O(new R);return H(function(ce){let Pe=le.evaluate(ce);Pe!==_&&J.call(ae,Pe)},void 0,te)},"fn")}X.chain=b,o(b,"chain");let _=Symbol("HaltChainable");class R{constructor(){this.steps=[]}static{o(this,"ChainableSynthesis")}map(O){return this.steps.push(O),this}forEach(O){return this.steps.push(V=>(O(V),V)),this}filter(O){return this.steps.push(V=>O(V)?V:_),this}reduce(O,V){let J=V;return this.steps.push(ae=>(J=O(J,ae),J)),this}latch(O=(V,J)=>V===J){let V=!0,J;return this.steps.push(ae=>{let te=V||!O(ae,J);return V=!1,J=ae,te?ae:_}),this}evaluate(O){for(let V of this.steps)if(O=V(O),O===_)break;return O}}function P(H,O,V=J=>J){let J=o((...ce)=>le.fire(V(...ce)),"fn"),ae=o(()=>H.on(O,J),"onFirstListenerAdd"),te=o(()=>H.removeListener(O,J),"onLastListenerRemove"),le=new cf({onWillAddFirstListener:ae,onDidRemoveLastListener:te});return le.event}X.fromNodeEventEmitter=P,o(P,"fromNodeEventEmitter");function F(H,O,V=J=>J){let J=o((...ce)=>le.fire(V(...ce)),"fn"),ae=o(()=>H.addEventListener(O,J),"onFirstListenerAdd"),te=o(()=>H.removeEventListener(O,J),"onLastListenerRemove"),le=new cf({onWillAddFirstListener:ae,onDidRemoveLastListener:te});return le.event}X.fromDOMEventEmitter=F,o(F,"fromDOMEventEmitter");function G(H,O){return new Promise(V=>n(H)(V,null,O))}X.toPromise=G,o(G,"toPromise");function se(H){let O=new cf;return H.then(V=>{O.fire(V)},()=>{O.fire(void 0)}).finally(()=>{O.dispose()}),O.event}X.fromPromise=se,o(se,"fromPromise");function Ae(H,O){return H(V=>O.fire(V))}X.forward=Ae,o(Ae,"forward");function re(H,O,V){return O(V),H(J=>O(J))}X.runAndSubscribe=re,o(re,"runAndSubscribe");class W{constructor(O,V){this._observable=O;this._counter=0;this._hasChanged=!1;let J={onWillAddFirstListener:o(()=>{O.addObserver(this),this._observable.reportChanges()},"onWillAddFirstListener"),onDidRemoveLastListener:o(()=>{O.removeObserver(this)},"onDidRemoveLastListener")};V||t(J),this.emitter=new cf(J),V&&V.add(this.emitter)}static{o(this,"EmitterObserver")}beginUpdate(O){this._counter++}handlePossibleChange(O){}handleChange(O,V){this._hasChanged=!0}endUpdate(O){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function q(H,O){return new W(H,O).emitter.event}X.fromObservable=q,o(q,"fromObservable");function oe(H){return(O,V,J)=>{let ae=0,te=!1,le={beginUpdate(){ae++},endUpdate(){ae--,ae===0&&(H.reportChanges(),te&&(te=!1,O.call(V)))},handlePossibleChange(){},handleChange(){te=!0}};H.addObserver(le),H.reportChanges();let ce={dispose(){H.removeObserver(le)}};return J instanceof c0?J.add(ce):Array.isArray(J)&&J.push(ce),ce}}X.fromObservableLight=oe,o(oe,"fromObservableLight")})(K4||={});var Tte=class e{constructor(t){this.listenerCount=0;this.invocationCount=0;this.elapsedOverall=0;this.durations=[];this.name=`${t}_${e._idPool++}`,e.all.add(this)}static{o(this,"EventProfiling")}static{this.all=new Set}static{this._idPool=0}start(t){this._stopWatch=new yM,this.listenerCount=t}stop(){if(this._stopWatch){let t=this._stopWatch.elapsed();this.durations.push(t),this.elapsedOverall+=t,this.invocationCount+=1,this._stopWatch=void 0}}},aIe=-1;var wte=class e{constructor(t,r,n=(e._idPool++).toString(16).padStart(3,"0")){this._errorHandler=t;this.threshold=r;this.name=n;this._warnCountdown=0}static{o(this,"LeakageMonitor")}static{this._idPool=1}dispose(){this._stacks?.clear()}check(t,r){let n=this.threshold;if(n<=0||r<n)return;this._stacks||(this._stacks=new Map);let i=this._stacks.get(t.value)||0;if(this._stacks.set(t.value,i+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=n*.5;let[s,a]=this.getMostFrequentStack(),l=`[${this.name}] potential listener LEAK detected, having ${r} listeners already. MOST frequent listener (${a}):`;console.warn(l),console.warn(s);let c=new _te(l,s);this._errorHandler(c)}return()=>{let s=this._stacks.get(t.value)||0;this._stacks.set(t.value,s-1)}}getMostFrequentStack(){if(!this._stacks)return;let t,r=0;for(let[n,i]of this._stacks)(!t||r<i)&&(t=[n,i],r=i);return t}},__=class e{constructor(t){this.value=t}static{o(this,"Stacktrace")}static create(){let t=new Error;return new e(t.stack??"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},_te=class extends Error{static{o(this,"ListenerLeakError")}constructor(t,r){super(t),this.name="ListenerLeakError",this.stack=r}},Ste=class extends Error{static{o(this,"ListenerRefusalError")}constructor(t,r){super(t),this.name="ListenerRefusalError",this.stack=r}},kut=0,t8=class{constructor(t){this.value=t;this.id=kut++}static{o(this,"UniqueContainer")}},Rut=2,But=o((e,t)=>{if(e instanceof t8)t(e);else for(let r=0;r<e.length;r++){let n=e[r];n&&t(n)}},"forEachListener"),cf=class{constructor(t){this._size=0;this._options=t,this._leakageMon=aIe>0||this._options?.leakWarningThreshold?new wte(t?.onListenerError??KI,this._options?.leakWarningThreshold??aIe):void 0,this._perfMon=this._options?._profName?new Tte(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}static{o(this,"Emitter")}dispose(){if(!this._disposed){if(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners){if(sIe){let t=this._listeners;queueMicrotask(()=>{But(t,r=>r.stack?.print())})}this._listeners=void 0,this._size=0}this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose()}}get event(){return this._event??=(t,r,n)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){let c=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(c);let u=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],f=new Ste(`${c}. HINT: Stack shows most frequent listener (${u[1]}-times)`,u[0]);return(this._options?.onListenerError||KI)(f),Ia.None}if(this._disposed)return Ia.None;r&&(t=t.bind(r));let i=new t8(t),s,a;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(i.stack=__.create(),s=this._leakageMon.check(i.stack,this._size+1)),sIe&&(i.stack=a??__.create()),this._listeners?this._listeners instanceof t8?(this._deliveryQueue??=new kte,this._listeners=[this._listeners,i]):this._listeners.push(i):(this._options?.onWillAddFirstListener?.(this),this._listeners=i,this._options?.onDidAddFirstListener?.(this)),this._options?.onDidAddListener?.(this),this._size++;let l=Ta(()=>{s?.(),this._removeListener(i)});return n instanceof c0?n.add(l):Array.isArray(n)&&n.push(l),l},this._event}_removeListener(t){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(this._size===1){this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),this._size=0;return}let r=this._listeners,n=r.indexOf(t);if(n===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,r[n]=void 0;let i=this._deliveryQueue.current===this;if(this._size*Rut<=r.length){let s=0;for(let a=0;a<r.length;a++)r[a]?r[s++]=r[a]:i&&s<this._deliveryQueue.end&&(this._deliveryQueue.end--,s<this._deliveryQueue.i&&this._deliveryQueue.i--);r.length=s}}_deliver(t,r){if(!t)return;let n=this._options?.onListenerError||KI;if(!n){t.value(r);return}try{t.value(r)}catch(i){n(i)}}_deliverQueue(t){let r=t.current._listeners;for(;t.i<t.end;)this._deliver(r[t.i++],t.value);t.reset()}fire(t){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof t8)this._deliver(this._listeners,t);else{let r=this._deliveryQueue;r.enqueue(this,t,this._listeners.length),this._deliverQueue(r)}this._perfMon?.stop()}hasListeners(){return this._size>0}};var kte=class{constructor(){this.i=-1;this.end=0}static{o(this,"EventDeliveryQueuePrivate")}enqueue(t,r,n){this.i=0,this.end=n,this.current=t,this.value=r}reset(){this.i=this.end,this.current=void 0,this.value=void 0}};d();var u0=class{constructor(t,r,n){this.owner=t;this.debugNameSource=r;this.referenceFn=n}static{o(this,"DebugNameData")}getDebugName(t){return fIe(t,this)}},lIe=new Map,Rte=new WeakMap;function fIe(e,t){let r=Rte.get(e);if(r)return r;let n=Dut(e,t);if(n){let i=lIe.get(n)??0;i++,lIe.set(n,i);let s=i===1?n:`${n}#${i}`;return Rte.set(e,s),s}}o(fIe,"getDebugName");function Dut(e,t){let r=Rte.get(e);if(r)return r;let n=t.owner?Fut(t.owner)+".":"",i,s=t.debugNameSource;if(s!==void 0)if(typeof s=="function"){if(i=s(),i!==void 0)return n+i}else return n+s;let a=t.referenceFn;if(a!==void 0&&(i=CM(a),i!==void 0))return n+i;if(t.owner!==void 0){let l=Put(t.owner,e);if(l!==void 0)return n+l}}o(Dut,"computeDebugName");function Put(e,t){for(let r in e)if(e[r]===t)return r}o(Put,"findKey");var cIe=new Map,uIe=new WeakMap;function Fut(e){let t=uIe.get(e);if(t)return t;let r=Nut(e),n=cIe.get(r)??0;n++,cIe.set(r,n);let i=n===1?r:`${r}#${n}`;return uIe.set(e,i),i}o(Fut,"formatOwner");function Nut(e){let t=e.constructor;return t?t.name:"Object"}o(Nut,"getClassName");function CM(e){let t=e.toString(),n=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(t);return(n?n[1]:void 0)?.trim()}o(CM,"getFunctionName");d();var J4;function vM(e){J4?J4 instanceof xM?J4.loggers.push(e):J4=new xM([J4,e]):J4=e}o(vM,"addLogger");function Ps(){return J4}o(Ps,"getLogger");var Bte;function dIe(e){Bte=e}o(dIe,"setLogObservableFn");function mIe(e){Bte&&Bte(e)}o(mIe,"logObservable");var xM=class{constructor(t){this.loggers=t}static{o(this,"ComposedLogger")}handleObservableCreated(t){for(let r of this.loggers)r.handleObservableCreated(t)}handleOnListenerCountChanged(t,r){for(let n of this.loggers)n.handleOnListenerCountChanged(t,r)}handleObservableUpdated(t,r){for(let n of this.loggers)n.handleObservableUpdated(t,r)}handleAutorunCreated(t){for(let r of this.loggers)r.handleAutorunCreated(t)}handleAutorunDisposed(t){for(let r of this.loggers)r.handleAutorunDisposed(t)}handleAutorunDependencyChanged(t,r,n){for(let i of this.loggers)i.handleAutorunDependencyChanged(t,r,n)}handleAutorunStarted(t){for(let r of this.loggers)r.handleAutorunStarted(t)}handleAutorunFinished(t){for(let r of this.loggers)r.handleAutorunFinished(t)}handleDerivedDependencyChanged(t,r,n){for(let i of this.loggers)i.handleDerivedDependencyChanged(t,r,n)}handleDerivedCleared(t){for(let r of this.loggers)r.handleDerivedCleared(t)}handleBeginTransaction(t){for(let r of this.loggers)r.handleBeginTransaction(t)}handleEndTransaction(t){for(let r of this.loggers)r.handleEndTransaction(t)}};var hIe;function pIe(e){hIe=e}o(pIe,"_setRecomputeInitiallyAndOnChange");var gIe;function AIe(e){gIe=e}o(AIe,"_setKeepObserved");var Dte;function yIe(e){Dte=e}o(yIe,"_setDerivedOpts");var bM=class{static{o(this,"ConvenientObservable")}get TChange(){return null}reportChanges(){this.get()}read(t){return t?t.readObservable(this):this.get()}map(t,r){let n=r===void 0?void 0:t,i=r===void 0?t:r;return Dte({owner:n,debugName:o(()=>{let s=CM(i);if(s!==void 0)return s;let l=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(i.toString());if(l)return`${this.debugName}.${l[2]}`;if(!n)return`${this.debugName} (mapped)`},"debugName"),debugReferenceFn:i},s=>i(this.read(s),s))}flatten(){return Dte({owner:void 0,debugName:o(()=>`${this.debugName} (flattened)`,"debugName")},t=>this.read(t).read(t))}recomputeInitiallyAndOnChange(t,r){return t.add(hIe(this,r)),this}keepObserved(t){return t.add(gIe(this)),this}get debugValue(){return this.get()}},x5=class extends bM{constructor(){super();this.observers=new Set;Ps()?.handleObservableCreated(this)}static{o(this,"BaseObservable")}addObserver(r){let n=this.observers.size;this.observers.add(r),n===0&&this.onFirstObserverAdded(),n!==this.observers.size&&Ps()?.handleOnListenerCountChanged(this,this.observers.size)}removeObserver(r){let n=this.observers.delete(r);n&&this.observers.size===0&&this.onLastObserverRemoved(),n&&Ps()?.handleOnListenerCountChanged(this,this.observers.size)}onFirstObserverAdded(){}onLastObserverRemoved(){}log(){let r=!!Ps();return mIe(this),r||Ps()?.handleObservableCreated(this),this}};function IM(e,t){let r=new r8(e,t);try{e(r)}finally{r.finish()}}o(IM,"transaction");function Pte(e,t,r){e?t(e):IM(t,r)}o(Pte,"subtransaction");var r8=class{constructor(t,r){this._fn=t;this._getDebugName=r;this.updatingObservers=[];Ps()?.handleBeginTransaction(this)}static{o(this,"TransactionImpl")}getDebugName(){return this._getDebugName?this._getDebugName():CM(this._fn)}updateObserver(t,r){this.updatingObservers.push({observer:t,observable:r}),t.beginUpdate(r)}finish(){let t=this.updatingObservers;for(let r=0;r<t.length;r++){let{observer:n,observable:i}=t[r];n.endUpdate(i)}this.updatingObservers=null,Ps()?.handleEndTransaction(this)}};function ih(e,t){let r;return typeof e=="string"?r=new u0(void 0,e,void 0):r=new u0(e,void 0,void 0),new EM(r,t,Z1)}o(ih,"observableValue");var EM=class extends x5{constructor(r,n,i){super();this._debugNameData=r;this._equalityComparator=i;this._value=n,Ps()?.handleObservableUpdated(this,{hadValue:!1,newValue:n,change:void 0,didChange:!0,oldValue:void 0})}static{o(this,"ObservableValue")}get debugName(){return this._debugNameData.getDebugName(this)??"ObservableValue"}get(){return this._value}set(r,n,i){if(i===void 0&&this._equalityComparator(this._value,r))return;let s;n||(n=s=new r8(()=>{},()=>`Setting ${this.debugName}`));try{let a=this._value;this._setValue(r),Ps()?.handleObservableUpdated(this,{oldValue:a,newValue:r,change:i,didChange:!0,hadValue:!0});for(let l of this.observers)n.updateObserver(l,this),l.handleChange(this,i)}finally{s&&s.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(r){this._value=r}};d();d();function Z4(e){return new n8(new u0(void 0,void 0,e),e,void 0,void 0)}o(Z4,"autorun");function Fte(e,t){return new n8(new u0(e.owner,e.debugName,e.debugReferenceFn??t),t,void 0,void 0)}o(Fte,"autorunOpts");function TM(e,t){return new n8(new u0(e.owner,e.debugName,e.debugReferenceFn??t),t,e.createEmptyChangeSummary,e.handleChange)}o(TM,"autorunHandleChanges");function Nte(e,t){let r=new c0,n=TM({owner:e.owner,debugName:e.debugName,debugReferenceFn:e.debugReferenceFn??t,createEmptyChangeSummary:e.createEmptyChangeSummary,handleChange:e.handleChange},(i,s)=>{r.clear(),t(i,s,r)});return Ta(()=>{n.dispose(),r.dispose()})}o(Nte,"autorunWithStoreHandleChanges");function Lte(e){let t=new c0,r=Fte({owner:void 0,debugName:void 0,debugReferenceFn:e},n=>{t.clear(),e(n,t)});return Ta(()=>{r.dispose(),t.dispose()})}o(Lte,"autorunWithStore");var n8=class{constructor(t,r,n,i){this._debugNameData=t;this._runFn=r;this.createChangeSummary=n;this._handleChange=i;this.state=2;this.updateCount=0;this.disposed=!1;this.dependencies=new Set;this.dependenciesToBeRemoved=new Set;this._isRunning=!1;this.changeSummary=this.createChangeSummary?.(),Ps()?.handleAutorunCreated(this),this._runIfNeeded(),XI(this)}static{o(this,"AutorunObserver")}get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}dispose(){this.disposed=!0;for(let t of this.dependencies)t.removeObserver(this);this.dependencies.clear(),Ps()?.handleAutorunDisposed(this),e8(this)}_runIfNeeded(){if(this.state===3)return;let t=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=t,this.state=3;try{if(!this.disposed){Ps()?.handleAutorunStarted(this);let r=this.changeSummary;try{this.changeSummary=this.createChangeSummary?.(),this._isRunning=!0,this._runFn(this,r)}catch(n){Y4(n)}finally{this._isRunning=!1}}}finally{this.disposed||Ps()?.handleAutorunFinished(this);for(let r of this.dependenciesToBeRemoved)r.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(t){this.state===3&&(this.state=1),this.updateCount++}endUpdate(t){try{if(this.updateCount===1)do{if(this.state===1){this.state=3;for(let r of this.dependencies)if(r.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3)}finally{this.updateCount--}A5(()=>this.updateCount>=0)}handlePossibleChange(t){this.state===3&&this._isDependency(t)&&(this.state=1)}handleChange(t,r){if(this._isDependency(t)){Ps()?.handleAutorunDependencyChanged(this,t,r);try{(this._handleChange?this._handleChange({changedObservable:t,change:r,didChange:o(i=>i===t,"didChange")},this.changeSummary):!0)&&(this.state=2)}catch(n){Y4(n)}}}_isDependency(t){return this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)}readObservable(t){if(!this._isRunning)throw new Fi("The reader object cannot be used outside its compute function!");if(this.disposed)return t.get();t.addObserver(this);let r=t.get();return this.dependencies.add(t),this.dependenciesToBeRemoved.delete(t),r}};(t=>t.Observer=n8)(Z4||={});d();function wM(e,t){return new X4(new u0(e.owner,e.debugName,e.debugReferenceFn),t,void 0,void 0,e.onLastObserverRemoved,e.equalsFn??Z1)}o(wM,"derivedOpts");yIe(wM);var X4=class extends x5{constructor(r,n,i,s,a=void 0,l){super();this._debugNameData=r;this._computeFn=n;this.createChangeSummary=i;this._handleChange=s;this._handleLastObserverRemoved=a;this._equalityComparator=l;this.state=0;this.value=void 0;this.updateCount=0;this.dependencies=new Set;this.dependenciesToBeRemoved=new Set;this.changeSummary=void 0;this._isUpdating=!1;this._isComputing=!1;this._removedObserverToCallEndUpdateOn=null;this._isReaderValid=!1;this.changeSummary=this.createChangeSummary?.()}static{o(this,"Derived")}get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}onLastObserverRemoved(){this.state=0,this.value=void 0,Ps()?.handleDerivedCleared(this);for(let r of this.dependencies)r.removeObserver(this);this.dependencies.clear(),this._handleLastObserverRemoved?.()}get(){if(this._isComputing,this.observers.size===0){let n;try{this._isReaderValid=!0,n=this._computeFn(this,this.createChangeSummary?.())}finally{this._isReaderValid=!1}return this.onLastObserverRemoved(),n}else{do{if(this.state===1){for(let n of this.dependencies)if(n.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){if(this.state===3)return;let r=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=r;let n=this.state!==0,i=this.value;this.state=3;let s=!1;this._isComputing=!0;try{let a=this.changeSummary;this.changeSummary=this.createChangeSummary?.();try{this._isReaderValid=!0,this.value=this._computeFn(this,a)}finally{this._isReaderValid=!1;for(let l of this.dependenciesToBeRemoved)l.removeObserver(this);this.dependenciesToBeRemoved.clear()}s=n&&!this._equalityComparator(i,this.value),Ps()?.handleObservableUpdated(this,{oldValue:i,newValue:this.value,change:void 0,didChange:s,hadValue:n})}catch(a){Y4(a)}if(this._isComputing=!1,s)for(let a of this.observers)a.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(r){if(this._isUpdating)throw new Fi("Cyclic deriveds are not supported yet!");this.updateCount++,this._isUpdating=!0;try{let n=this.updateCount===1;if(this.state===3&&(this.state=1,!n))for(let i of this.observers)i.handlePossibleChange(this);if(n)for(let i of this.observers)i.beginUpdate(this)}finally{this._isUpdating=!1}}endUpdate(r){if(this.updateCount--,this.updateCount===0){let n=[...this.observers];for(let i of n)i.endUpdate(this);if(this._removedObserverToCallEndUpdateOn){let i=[...this._removedObserverToCallEndUpdateOn];this._removedObserverToCallEndUpdateOn=null;for(let s of i)s.endUpdate(this)}}A5(()=>this.updateCount>=0)}handlePossibleChange(r){if(this.state===3&&this.dependencies.has(r)&&!this.dependenciesToBeRemoved.has(r)){this.state=1;for(let n of this.observers)n.handlePossibleChange(this)}}handleChange(r,n){if(this.dependencies.has(r)&&!this.dependenciesToBeRemoved.has(r)){Ps()?.handleDerivedDependencyChanged(this,r,n);let i=!1;try{i=this._handleChange?this._handleChange({changedObservable:r,change:n,didChange:o(a=>a===r,"didChange")},this.changeSummary):!0}catch(a){Y4(a)}let s=this.state===3;if(i&&(this.state===1||s)&&(this.state=2,s))for(let a of this.observers)a.handlePossibleChange(this)}}readObservable(r){if(!this._isReaderValid)throw new Fi("The reader object cannot be used outside its compute function!");r.addObserver(this);let n=r.get();return this.dependencies.add(r),this.dependenciesToBeRemoved.delete(r),n}addObserver(r){let n=!this.observers.has(r)&&this.updateCount>0;super.addObserver(r),n&&(this._removedObserverToCallEndUpdateOn&&this._removedObserverToCallEndUpdateOn.has(r)?this._removedObserverToCallEndUpdateOn.delete(r):r.beginUpdate(this))}removeObserver(r){this.observers.has(r)&&this.updateCount>0&&(this._removedObserverToCallEndUpdateOn||(this._removedObserverToCallEndUpdateOn=new Set),this._removedObserverToCallEndUpdateOn.add(r)),super.removeObserver(r)}};d();d();function Qte(...e){let t,r,n;return e.length===3?[t,r,n]=e:[r,n]=e,new v5(new u0(t,void 0,n),r,n,()=>v5.globalTransaction,Z1)}o(Qte,"observableFromEvent");var v5=class extends x5{constructor(r,n,i,s,a){super();this._debugNameData=r;this.event=n;this._getValue=i;this._getTransaction=s;this._equalityComparator=a;this.hasValue=!1;this.handleEvent=o(r=>{let n=this._getValue(r),i=this.value,s=!this.hasValue||!this._equalityComparator(i,n),a=!1;s&&(this.value=n,this.hasValue&&(a=!0,Pte(this._getTransaction(),l=>{Ps()?.handleObservableUpdated(this,{oldValue:i,newValue:n,change:void 0,didChange:s,hadValue:this.hasValue});for(let c of this.observers)l.updateObserver(c,this),c.handleChange(this,void 0)},()=>{let l=this.getDebugName();return"Event fired"+(l?`: ${l}`:"")})),this.hasValue=!0),a||Ps()?.handleObservableUpdated(this,{oldValue:i,newValue:n,change:void 0,didChange:s,hadValue:this.hasValue})},"handleEvent")}static{o(this,"FromEventObservable")}getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){let r=this.getDebugName();return"From Event"+(r?`: ${r}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}};(r=>{r.Observer=v5;function t(n,i){let s=!1;v5.globalTransaction===void 0&&(v5.globalTransaction=n,s=!0);try{i()}finally{s&&(v5.globalTransaction=void 0)}}r.batchEventsGlobally=t,o(t,"batchEventsGlobally")})(Qte||={});function xIe(e){let t=new _M(!1,void 0);return e.addObserver(t),Ta(()=>{e.removeObserver(t)})}o(xIe,"keepObserved");AIe(xIe);function vIe(e,t){let r=new _M(!0,t);return e.addObserver(r),t?t(e.get()):e.reportChanges(),Ta(()=>{e.removeObserver(r)})}o(vIe,"recomputeInitiallyAndOnChange");pIe(vIe);var _M=class{constructor(t,r){this._forceRecompute=t;this._handleValue=r;this._counter=0}static{o(this,"KeepAliveObserver")}beginUpdate(t){this._counter++}endUpdate(t){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(t.get()):t.reportChanges())}handlePossibleChange(t){}handleChange(t,r){}};function X1(e,t,r,n){let i=new SM(r,n);return wM({debugReferenceFn:r,owner:e,onLastObserverRemoved:o(()=>{i.dispose(),i=new SM(r)},"onLastObserverRemoved")},a=>(i.setItems(t.read(a)),i.getItems()))}o(X1,"mapObservableArrayCached");var SM=class{constructor(t,r){this._map=t;this._keySelector=r;this._cache=new Map;this._items=[]}static{o(this,"ArrayMap")}dispose(){this._cache.forEach(t=>t.store.dispose()),this._cache.clear()}setItems(t){let r=[],n=new Set(this._cache.keys());for(let i of t){let s=this._keySelector?this._keySelector(i):i,a=this._cache.get(s);if(a)n.delete(s);else{let l=new c0;a={out:this._map(i,l),store:l},this._cache.set(s,a)}r.push(a.out)}for(let i of n)this._cache.get(i).store.dispose(),this._cache.delete(i);this._items=r}getItems(){return this._items}};function Mte(e,t){let r;return Nte({createEmptyChangeSummary:o(()=>({deltas:[],didChange:!1}),"createEmptyChangeSummary"),handleChange:o((n,i)=>{if(n.didChange(e)){let s=n.change;s!==void 0&&i.deltas.push(s),i.didChange=!0}return!0},"handleChange")},(n,i)=>{let s=e.read(n),a=r;i.didChange&&(r=s,t(s,a,i.deltas))})}o(Mte,"runOnChange");d();d();d();var bIe=Object.freeze(function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}),kM;(n=>{function e(i){return i===n.None||i===n.Cancelled||i instanceof i8?!0:!i||typeof i!="object"?!1:typeof i.isCancellationRequested=="boolean"&&typeof i.onCancellationRequested=="function"}n.isCancellationToken=e,o(e,"isCancellationToken"),n.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:K4.None}),n.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:bIe})})(kM||={});var i8=class{constructor(){this._isCancelled=!1;this._emitter=null}static{o(this,"MutableToken")}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?bIe:(this._emitter||(this._emitter=new cf),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}},eA=class{constructor(t){this._token=void 0;this._parentListener=void 0;this._parentListener=t&&t.onCancellationRequested(this.cancel,this)}static{o(this,"CancellationTokenSource")}get token(){return this._token||(this._token=new i8),this._token}cancel(){this._token?this._token instanceof i8&&this._token.cancel():this._token=kM.Cancelled}dispose(t=!1){t&&this.cancel(),this._parentListener?.dispose(),this._token?this._token instanceof i8&&this._token.dispose():this._token=kM.None}};d();var RM;function EIe(e){RM||(RM=new k_,vM(RM)),RM.addFilteredObj(e)}o(EIe,"logObservableToConsole");var k_=class{constructor(){this.indentation=0;this.changedObservablesSets=new WeakMap}static{o(this,"ConsoleObservableLogger")}addFilteredObj(t){this._filteredObjects||(this._filteredObjects=new Set),this._filteredObjects.add(t)}_isIncluded(t){return this._filteredObjects?.has(t)??!0}textToConsoleArgs(t){return Lut([o8(Out("|  ",this.indentation)),t])}formatInfo(t){return t.hadValue?t.didChange?[o8(" "),Sd(S_(t.oldValue,70),{color:"red",strikeThrough:!0}),o8(" "),Sd(S_(t.newValue,60),{color:"green"})]:[o8(" (unchanged)")]:[o8(" "),Sd(S_(t.newValue,60),{color:"green"}),o8(" (initial)")]}handleObservableCreated(t){if(t instanceof X4){let r=t;if(this.changedObservablesSets.set(r,new Set),!1){let i=[];r.__debugUpdating=i;let s=r.beginUpdate;r.beginUpdate=l=>(i.push(l),s.apply(r,[l]));let a=r.endUpdate;r.endUpdate=l=>{let c=i.indexOf(l);return c===-1&&console.error("endUpdate called without beginUpdate",r.debugName,l.debugName),i.splice(c,1),a.apply(r,[l])}}}}handleOnListenerCountChanged(t,r){}handleObservableUpdated(t,r){if(this._isIncluded(t)){if(t instanceof X4){this._handleDerivedRecomputed(t,r);return}console.log(...this.textToConsoleArgs([s8("observable value changed"),Sd(t.debugName,{color:"BlueViolet"}),...this.formatInfo(r)]))}}formatChanges(t){if(t.size!==0)return Sd(" (changed deps: "+[...t].map(r=>r.debugName).join(", ")+")",{color:"gray"})}handleDerivedDependencyChanged(t,r,n){this._isIncluded(t)&&this.changedObservablesSets.get(t)?.add(r)}_handleDerivedRecomputed(t,r){if(!this._isIncluded(t))return;let n=this.changedObservablesSets.get(t);n&&(console.log(...this.textToConsoleArgs([s8("derived recomputed"),Sd(t.debugName,{color:"BlueViolet"}),...this.formatInfo(r),this.formatChanges(n),{data:[{fn:t._debugNameData.referenceFn??t._computeFn}]}])),n.clear())}handleDerivedCleared(t){this._isIncluded(t)&&console.log(...this.textToConsoleArgs([s8("derived cleared"),Sd(t.debugName,{color:"BlueViolet"})]))}handleFromEventObservableTriggered(t,r){this._isIncluded(t)&&console.log(...this.textToConsoleArgs([s8("observable from event triggered"),Sd(t.debugName,{color:"BlueViolet"}),...this.formatInfo(r),{data:[{fn:t._getValue}]}]))}handleAutorunCreated(t){this._isIncluded(t)&&this.changedObservablesSets.set(t,new Set)}handleAutorunDisposed(t){}handleAutorunDependencyChanged(t,r,n){this._isIncluded(t)&&this.changedObservablesSets.get(t).add(r)}handleAutorunStarted(t){let r=this.changedObservablesSets.get(t);r&&(this._isIncluded(t)&&console.log(...this.textToConsoleArgs([s8("autorun"),Sd(t.debugName,{color:"BlueViolet"}),this.formatChanges(r),{data:[{fn:t._debugNameData.referenceFn??t._runFn}]}])),r.clear(),this.indentation++)}handleAutorunFinished(t){this.indentation--}handleBeginTransaction(t){let r=t.getDebugName();r===void 0&&(r=""),this._isIncluded(t)&&console.log(...this.textToConsoleArgs([s8("transaction"),Sd(r,{color:"BlueViolet"}),{data:[{fn:t._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}};function Lut(e){let t=new Array,r=[],n="";function i(a){if("length"in a)for(let l of a)l&&i(l);else"text"in a?(n+=`%c${a.text}`,t.push(a.style),a.data&&r.push(...a.data)):"data"in a&&r.push(...a.data)}o(i,"process"),i(e);let s=[n,...t];return s.push(...r),s}o(Lut,"consoleTextToArgs");function o8(e){return Sd(e,{color:"black"})}o(o8,"normalText");function s8(e){return Sd(Uut(`${e}: `,10),{color:"black",bold:!0})}o(s8,"formatKind");function Sd(e,t={color:"black"}){function r(i){return Object.entries(i).reduce((s,[a,l])=>`${s}${a}:${l};`,"")}o(r,"objToCss");let n={color:t.color};return t.strikeThrough&&(n["text-decoration"]="line-through"),t.bold&&(n["font-weight"]="bold"),{text:e,style:r(n)}}o(Sd,"styled");function S_(e,t){switch(typeof e){case"number":return""+e;case"string":return e.length+2<=t?`"${e}"`:`"${e.substr(0,t-7)}"+...`;case"boolean":return e?"true":"false";case"undefined":return"undefined";case"object":return e===null?"null":Array.isArray(e)?Qut(e,t):Mut(e,t);case"symbol":return e.toString();case"function":return`[[Function${e.name?" "+e.name:""}]]`;default:return""+e}}o(S_,"formatValue");function Qut(e,t){let r="[ ",n=!0;for(let i of e){if(n||(r+=", "),r.length-5>t){r+="...";break}n=!1,r+=`${S_(i,t-r.length)}`}return r+=" ]",r}o(Qut,"formatArray");function Mut(e,t){if(typeof e.toString=="function"&&e.toString!==Object.prototype.toString){let i=e.toString();return i.length<=t?i:i.substring(0,t-3)+"..."}let r="{ ",n=!0;for(let[i,s]of Object.entries(e)){if(n||(r+=", "),r.length-5>t){r+="...";break}n=!1,r+=`${i}: ${S_(s,t-r.length)}`}return r+=" }",r}o(Mut,"formatObject");function Out(e,t){let r="";for(let n=1;n<=t;n++)r+=e;return r}o(Out,"repeat");function Uut(e,t){for(;e.length<t;)e+=" ";return e}o(Uut,"padStr");dIe(EIe);var qut=!1;qut&&vM(new k_);d();var ex;(r=>{r.PlainText="plaintext";function t(n){return n}r.create=t,o(t,"create")})(ex||={});d();d();d();function IIe(e){return e}o(IIe,"identity");var BM=class{constructor(t,r){this.lastCache=void 0;this.lastArgKey=void 0;typeof t=="function"?(this._fn=t,this._computeKey=IIe):(this._fn=r,this._computeKey=t.getCacheKey)}static{o(this,"LRUCachedFunction")}get(t){let r=this._computeKey(t);return this.lastArgKey!==r&&(this.lastArgKey=r,this.lastCache=this._fn(t)),this.lastCache}},tA=class{constructor(t,r){this._map=new Map;this._map2=new Map;typeof t=="function"?(this._fn=t,this._computeKey=IIe):(this._fn=r,this._computeKey=t.getCacheKey)}static{o(this,"CachedFunction")}get cachedValues(){return this._map}get(t){let r=this._computeKey(t);if(this._map2.has(r))return this._map2.get(r);let n=this._fn(t);return this._map.set(t,n),this._map2.set(r,n),n}};d();d();var Gp=class{constructor(t){this.executor=t;this._didRun=!1}static{o(this,"Lazy")}get hasValue(){return this._didRun}get value(){if(!this._didRun)try{this._value=this.executor()}catch(t){this._error=t}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}};d();function tx(e){return e<0?0:e>4294967295?4294967295:e|0}o(tx,"toUint32");function Ute(e){return e.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}o(Ute,"escapeRegExpCharacters");function b5(e){return e.split(/\r\n|\r|\n/)}o(b5,"splitLines");function SIe(e,t){let r=Math.min(e.length,t.length),n;for(n=0;n<r;n++)if(e.charCodeAt(n)!==t.charCodeAt(n))return n;return r}o(SIe,"commonPrefixLength");function DM(e,t){let r=Math.min(e.length,t.length),n,i=e.length-1,s=t.length-1;for(n=0;n<r;n++)if(e.charCodeAt(i-n)!==t.charCodeAt(s-n))return n;return r}o(DM,"commonSuffixLength");var Gut=/^[\t\n\r\x20-\x7E]*$/;function qte(e){return Gut.test(e)}o(qte,"isBasicASCII");var kkr=String.fromCharCode(65279);var TIe=class e{static{o(this,"GraphemeBreakTree")}static{this._INSTANCE=null}static getInstance(){return e._INSTANCE||(e._INSTANCE=new e),e._INSTANCE}constructor(){this._data=Hut()}getGraphemeBreakType(t){if(t<32)return t===10?3:t===13?2:4;if(t<127)return 0;let r=this._data,n=r.length/3,i=1;for(;i<=n;)if(t<r[3*i])i=2*i;else if(t>r[3*i+1])i=2*i+1;else return r[3*i+2];return 0}};function Hut(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}o(Hut,"getGraphemeBreakRawData");var wIe=class e{constructor(t){this.confusableDictionary=t}static{o(this,"AmbiguousCharacters")}static{this.ambiguousCharacterData=new Gp(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'))}static{this.cache=new BM({getCacheKey:JSON.stringify},t=>{function r(f){let m=new Map;for(let h=0;h<f.length;h+=2)m.set(f[h],f[h+1]);return m}o(r,"arrayToMap");function n(f,m){let h=new Map(f);for(let[p,g]of m)h.set(p,g);return h}o(n,"mergeMaps");function i(f,m){if(!f)return m;let h=new Map;for(let[p,g]of f)m.has(p)&&h.set(p,g);return h}o(i,"intersectMaps");let s=this.ambiguousCharacterData.value,a=t.filter(f=>!f.startsWith("_")&&f in s);a.length===0&&(a=["_default"]);let l;for(let f of a){let m=r(s[f]);l=i(l,m)}let c=r(s._common),u=n(c,l);return new e(u)})}static getInstance(t){return e.cache.get(Array.from(t))}static{this._locales=new Gp(()=>Object.keys(e.ambiguousCharacterData.value).filter(t=>!t.startsWith("_")))}static getLocales(){return e._locales.value}isAmbiguous(t){return this.confusableDictionary.has(t)}containsAmbiguousCharacter(t){for(let r=0;r<t.length;r++){let n=t.codePointAt(r);if(typeof n=="number"&&this.isAmbiguous(n))return!0}return!1}getPrimaryConfusable(t){return this.confusableDictionary.get(t)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}},_Ie=class e{static{o(this,"InvisibleCharacters")}static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static{this._data=void 0}static getData(){return this._data||(this._data=new Set(e.getRawData())),this._data}static isInvisibleCharacter(t){return e.getData().has(t)}static containsInvisibleCharacter(t){for(let r=0;r<t.length;r++){let n=t.codePointAt(r);if(typeof n=="number"&&e.isInvisibleCharacter(n))return!0}return!1}static get codePoints(){return e.getData()}};d();var Wr=class e{constructor(t,r){this.start=t;this.endExclusive=r;if(t>r)throw new Fi(`Invalid range: ${this.toString()}`)}static{o(this,"OffsetRange")}static fromTo(t,r){return new e(t,r)}static addRange(t,r){let n=0;for(;n<r.length&&r[n].endExclusive<t.start;)n++;let i=n;for(;i<r.length&&r[i].start<=t.endExclusive;)i++;if(n===i)r.splice(n,0,t);else{let s=Math.min(t.start,r[n].start),a=Math.max(t.endExclusive,r[i-1].endExclusive);r.splice(n,i-n,new e(s,a))}}static tryCreate(t,r){if(!(t>r))return new e(t,r)}static ofLength(t){return new e(0,t)}static ofStartAndLength(t,r){return new e(t,t+r)}static emptyAt(t){return new e(t,t)}get isEmpty(){return this.start===this.endExclusive}delta(t){return new e(this.start+t,this.endExclusive+t)}deltaStart(t){return new e(this.start+t,this.endExclusive)}deltaEnd(t){return new e(this.start,this.endExclusive+t)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}equals(t){return this.start===t.start&&this.endExclusive===t.endExclusive}containsRange(t){return this.start<=t.start&&t.endExclusive<=this.endExclusive}contains(t){return this.start<=t&&t<this.endExclusive}join(t){return new e(Math.min(this.start,t.start),Math.max(this.endExclusive,t.endExclusive))}intersect(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);if(r<=n)return new e(r,n)}intersectionLength(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);return Math.max(0,n-r)}intersects(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);return r<n}intersectsOrTouches(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);return r<=n}isBefore(t){return this.endExclusive<=t.start}isAfter(t){return this.start>=t.endExclusive}slice(t){return t.slice(this.start,this.endExclusive)}substring(t){return t.substring(this.start,this.endExclusive)}clip(t){if(this.isEmpty)throw new Fi(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,t))}clipCyclic(t){if(this.isEmpty)throw new Fi(`Invalid clipping range: ${this.toString()}`);return t<this.start?this.endExclusive-(this.start-t)%this.length:t>=this.endExclusive?this.start+(t-this.start)%this.length:t}map(t){let r=[];for(let n=this.start;n<this.endExclusive;n++)r.push(t(n));return r}forEach(t){for(let r=this.start;r<this.endExclusive;r++)t(r)}};d();var Ao=class e{static{o(this,"Position")}constructor(t,r){this.lineNumber=t,this.column=r}with(t=this.lineNumber,r=this.column){return t===this.lineNumber&&r===this.column?this:new e(t,r)}delta(t=0,r=0){return this.with(this.lineNumber+t,this.column+r)}equals(t){return e.equals(this,t)}static equals(t,r){return!t&&!r?!0:!!t&&!!r&&t.lineNumber===r.lineNumber&&t.column===r.column}isBefore(t){return e.isBefore(this,t)}static isBefore(t,r){return t.lineNumber<r.lineNumber?!0:r.lineNumber<t.lineNumber?!1:t.column<r.column}isBeforeOrEqual(t){return e.isBeforeOrEqual(this,t)}static isBeforeOrEqual(t,r){return t.lineNumber<r.lineNumber?!0:r.lineNumber<t.lineNumber?!1:t.column<=r.column}static compare(t,r){let n=t.lineNumber|0,i=r.lineNumber|0;if(n===i){let s=t.column|0,a=r.column|0;return s-a}return n-i}clone(){return new e(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(t){return new e(t.lineNumber,t.column)}static isIPosition(t){return t&&typeof t.lineNumber=="number"&&typeof t.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}};d();var yi=class e{static{o(this,"Range")}constructor(t,r,n,i){t>n||t===n&&r>i?(this.startLineNumber=n,this.startColumn=i,this.endLineNumber=t,this.endColumn=r):(this.startLineNumber=t,this.startColumn=r,this.endLineNumber=n,this.endColumn=i)}isEmpty(){return e.isEmpty(this)}static isEmpty(t){return t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn}containsPosition(t){return e.containsPosition(this,t)}static containsPosition(t,r){return!(r.lineNumber<t.startLineNumber||r.lineNumber>t.endLineNumber||r.lineNumber===t.startLineNumber&&r.column<t.startColumn||r.lineNumber===t.endLineNumber&&r.column>t.endColumn)}static strictContainsPosition(t,r){return!(r.lineNumber<t.startLineNumber||r.lineNumber>t.endLineNumber||r.lineNumber===t.startLineNumber&&r.column<=t.startColumn||r.lineNumber===t.endLineNumber&&r.column>=t.endColumn)}containsRange(t){return e.containsRange(this,t)}static containsRange(t,r){return!(r.startLineNumber<t.startLineNumber||r.endLineNumber<t.startLineNumber||r.startLineNumber>t.endLineNumber||r.endLineNumber>t.endLineNumber||r.startLineNumber===t.startLineNumber&&r.startColumn<t.startColumn||r.endLineNumber===t.endLineNumber&&r.endColumn>t.endColumn)}strictContainsRange(t){return e.strictContainsRange(this,t)}static strictContainsRange(t,r){return!(r.startLineNumber<t.startLineNumber||r.endLineNumber<t.startLineNumber||r.startLineNumber>t.endLineNumber||r.endLineNumber>t.endLineNumber||r.startLineNumber===t.startLineNumber&&r.startColumn<=t.startColumn||r.endLineNumber===t.endLineNumber&&r.endColumn>=t.endColumn)}plusRange(t){return e.plusRange(this,t)}static plusRange(t,r){let n,i,s,a;return r.startLineNumber<t.startLineNumber?(n=r.startLineNumber,i=r.startColumn):r.startLineNumber===t.startLineNumber?(n=r.startLineNumber,i=Math.min(r.startColumn,t.startColumn)):(n=t.startLineNumber,i=t.startColumn),r.endLineNumber>t.endLineNumber?(s=r.endLineNumber,a=r.endColumn):r.endLineNumber===t.endLineNumber?(s=r.endLineNumber,a=Math.max(r.endColumn,t.endColumn)):(s=t.endLineNumber,a=t.endColumn),new e(n,i,s,a)}intersectRanges(t){return e.intersectRanges(this,t)}static intersectRanges(t,r){let n=t.startLineNumber,i=t.startColumn,s=t.endLineNumber,a=t.endColumn,l=r.startLineNumber,c=r.startColumn,u=r.endLineNumber,f=r.endColumn;return n<l?(n=l,i=c):n===l&&(i=Math.max(i,c)),s>u?(s=u,a=f):s===u&&(a=Math.min(a,f)),n>s||n===s&&i>a?null:new e(n,i,s,a)}equalsRange(t){return e.equalsRange(this,t)}static equalsRange(t,r){return!t&&!r?!0:!!t&&!!r&&t.startLineNumber===r.startLineNumber&&t.startColumn===r.startColumn&&t.endLineNumber===r.endLineNumber&&t.endColumn===r.endColumn}getEndPosition(){return e.getEndPosition(this)}static getEndPosition(t){return new Ao(t.endLineNumber,t.endColumn)}getStartPosition(){return e.getStartPosition(this)}static getStartPosition(t){return new Ao(t.startLineNumber,t.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(t,r){return new e(this.startLineNumber,this.startColumn,t,r)}setStartPosition(t,r){return new e(t,r,this.endLineNumber,this.endColumn)}collapseToStart(){return e.collapseToStart(this)}static collapseToStart(t){return new e(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn)}collapseToEnd(){return e.collapseToEnd(this)}static collapseToEnd(t){return new e(t.endLineNumber,t.endColumn,t.endLineNumber,t.endColumn)}delta(t){return new e(this.startLineNumber+t,this.startColumn,this.endLineNumber+t,this.endColumn)}isSingleLine(){return this.startLineNumber===this.endLineNumber}static fromPositions(t,r=t){return new e(t.lineNumber,t.column,r.lineNumber,r.column)}static lift(t){return t?new e(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):null}static isIRange(t){return t&&typeof t.startLineNumber=="number"&&typeof t.startColumn=="number"&&typeof t.endLineNumber=="number"&&typeof t.endColumn=="number"}static areIntersectingOrTouching(t,r){return!(t.endLineNumber<r.startLineNumber||t.endLineNumber===r.startLineNumber&&t.endColumn<r.startColumn||r.endLineNumber<t.startLineNumber||r.endLineNumber===t.startLineNumber&&r.endColumn<t.startColumn)}static areIntersecting(t,r){return!(t.endLineNumber<r.startLineNumber||t.endLineNumber===r.startLineNumber&&t.endColumn<=r.startColumn||r.endLineNumber<t.startLineNumber||r.endLineNumber===t.startLineNumber&&r.endColumn<=t.startColumn)}static compareRangesUsingStarts(t,r){if(t&&r){let s=t.startLineNumber|0,a=r.startLineNumber|0;if(s===a){let l=t.startColumn|0,c=r.startColumn|0;if(l===c){let u=t.endLineNumber|0,f=r.endLineNumber|0;if(u===f){let m=t.endColumn|0,h=r.endColumn|0;return m-h}return u-f}return l-c}return s-a}return(t?1:0)-(r?1:0)}static compareRangesUsingEnds(t,r){return t.endLineNumber===r.endLineNumber?t.endColumn===r.endColumn?t.startLineNumber===r.startLineNumber?t.startColumn-r.startColumn:t.startLineNumber-r.startLineNumber:t.endColumn-r.endColumn:t.endLineNumber-r.endLineNumber}static spansMultipleLines(t){return t.endLineNumber>t.startLineNumber}toJSON(){return this}};d();d();var ri=class e{static{o(this,"LineRange")}static fromRange(t){return new e(t.startLineNumber,t.endLineNumber)}static fromRangeInclusive(t){return new e(t.startLineNumber,t.endLineNumber+1)}static subtract(t,r){return r?t.startLineNumber<r.startLineNumber&&r.endLineNumberExclusive<t.endLineNumberExclusive?[new e(t.startLineNumber,r.startLineNumber),new e(r.endLineNumberExclusive,t.endLineNumberExclusive)]:r.startLineNumber<=t.startLineNumber&&t.endLineNumberExclusive<=r.endLineNumberExclusive?[]:r.endLineNumberExclusive<t.endLineNumberExclusive?[new e(Math.max(r.endLineNumberExclusive,t.startLineNumber),t.endLineNumberExclusive)]:[new e(t.startLineNumber,Math.min(r.startLineNumber,t.endLineNumberExclusive))]:[t]}static joinMany(t){if(t.length===0)return[];let r=new PM(t[0].slice());for(let n=1;n<t.length;n++)r=r.getUnion(new PM(t[n].slice()));return r.ranges}static join(t){if(t.length===0)throw new Fi("lineRanges cannot be empty");let r=t[0].startLineNumber,n=t[0].endLineNumberExclusive;for(let i=1;i<t.length;i++)r=Math.min(r,t[i].startLineNumber),n=Math.max(n,t[i].endLineNumberExclusive);return new e(r,n)}static ofLength(t,r){return new e(t,t+r)}static deserialize(t){return new e(t[0],t[1])}constructor(t,r){if(t>r)throw new Fi(`startLineNumber ${t} cannot be after endLineNumberExclusive ${r}`);this.startLineNumber=t,this.endLineNumberExclusive=r}contains(t){return this.startLineNumber<=t&&t<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(t){return new e(this.startLineNumber+t,this.endLineNumberExclusive+t)}deltaLength(t){return new e(this.startLineNumber,this.endLineNumberExclusive+t)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(t){return new e(Math.min(this.startLineNumber,t.startLineNumber),Math.max(this.endLineNumberExclusive,t.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(t){let r=Math.max(this.startLineNumber,t.startLineNumber),n=Math.min(this.endLineNumberExclusive,t.endLineNumberExclusive);if(r<=n)return new e(r,n)}intersectsStrict(t){return this.startLineNumber<t.endLineNumberExclusive&&t.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(t){return this.startLineNumber<=t.endLineNumberExclusive&&t.startLineNumber<=this.endLineNumberExclusive}equals(t){return this.startLineNumber===t.startLineNumber&&this.endLineNumberExclusive===t.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new yi(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new yi(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(t){let r=[];for(let n=this.startLineNumber;n<this.endLineNumberExclusive;n++)r.push(t(n));return r}forEach(t){for(let r=this.startLineNumber;r<this.endLineNumberExclusive;r++)t(r)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(t){return this.startLineNumber<=t&&t<this.endLineNumberExclusive}toOffsetRange(){return new Wr(this.startLineNumber-1,this.endLineNumberExclusive-1)}distanceToRange(t){return this.endLineNumberExclusive<=t.startLineNumber?t.startLineNumber-this.endLineNumberExclusive:t.endLineNumberExclusive<=this.startLineNumber?this.startLineNumber-t.endLineNumberExclusive:0}distanceToLine(t){return this.contains(t)?0:t<this.startLineNumber?this.startLineNumber-t:t-this.endLineNumberExclusive}addMargin(t,r){return new e(this.startLineNumber-t,this.endLineNumberExclusive+r)}},PM=class e{constructor(t=[]){this._normalizedRanges=t}static{o(this,"LineRangeSet")}get ranges(){return this._normalizedRanges}addRange(t){if(t.length===0)return;let r=JI(this._normalizedRanges,i=>i.endLineNumberExclusive>=t.startLineNumber),n=nh(this._normalizedRanges,i=>i.startLineNumber<=t.endLineNumberExclusive)+1;if(r===n)this._normalizedRanges.splice(r,0,t);else if(r===n-1){let i=this._normalizedRanges[r];this._normalizedRanges[r]=i.join(t)}else{let i=this._normalizedRanges[r].join(this._normalizedRanges[n-1]).join(t);this._normalizedRanges.splice(r,n-r,i)}}contains(t){let r=Ate(this._normalizedRanges,n=>n.startLineNumber<=t);return!!r&&r.endLineNumberExclusive>t}intersects(t){let r=Ate(this._normalizedRanges,n=>n.startLineNumber<t.endLineNumberExclusive);return!!r&&r.endLineNumberExclusive>t.startLineNumber}getUnion(t){if(this._normalizedRanges.length===0)return t;if(t._normalizedRanges.length===0)return this;let r=[],n=0,i=0,s=null;for(;n<this._normalizedRanges.length||i<t._normalizedRanges.length;){let a=null;if(n<this._normalizedRanges.length&&i<t._normalizedRanges.length){let l=this._normalizedRanges[n],c=t._normalizedRanges[i];l.startLineNumber<c.startLineNumber?(a=l,n++):(a=c,i++)}else n<this._normalizedRanges.length?(a=this._normalizedRanges[n],n++):(a=t._normalizedRanges[i],i++);s===null?s=a:s.endLineNumberExclusive>=a.startLineNumber?s=new ri(s.startLineNumber,Math.max(s.endLineNumberExclusive,a.endLineNumberExclusive)):(r.push(s),s=a)}return s!==null&&r.push(s),new e(r)}subtractFrom(t){let r=JI(this._normalizedRanges,a=>a.endLineNumberExclusive>=t.startLineNumber),n=nh(this._normalizedRanges,a=>a.startLineNumber<=t.endLineNumberExclusive)+1;if(r===n)return new e([t]);let i=[],s=t.startLineNumber;for(let a=r;a<n;a++){let l=this._normalizedRanges[a];l.startLineNumber>s&&i.push(new ri(s,l.startLineNumber)),s=l.endLineNumberExclusive}return s<t.endLineNumberExclusive&&i.push(new ri(s,t.endLineNumberExclusive)),new e(i)}toString(){return this._normalizedRanges.map(t=>t.toString()).join(", ")}getIntersection(t){let r=[],n=0,i=0;for(;n<this._normalizedRanges.length&&i<t._normalizedRanges.length;){let s=this._normalizedRanges[n],a=t._normalizedRanges[i],l=s.intersect(a);l&&!l.isEmpty&&r.push(l),s.endLineNumberExclusive<a.endLineNumberExclusive?n++:i++}return new e(r)}getWithDelta(t){return new e(this._normalizedRanges.map(r=>r.delta(t)))}};var uf=class e{constructor(t,r){this.lineCount=t;this.columnCount=r}static{o(this,"TextLength")}static{this.zero=new e(0,0)}static lengthDiffNonNegative(t,r){return r.isLessThan(t)?e.zero:t.lineCount===r.lineCount?new e(0,r.columnCount-t.columnCount):new e(r.lineCount-t.lineCount,r.columnCount)}static betweenPositions(t,r){return t.lineNumber===r.lineNumber?new e(0,r.column-t.column):new e(r.lineNumber-t.lineNumber,r.column-1)}static fromPosition(t){return new e(t.lineNumber-1,t.column-1)}static ofRange(t){return e.betweenPositions(t.getStartPosition(),t.getEndPosition())}static ofText(t){let r=0,n=0;for(let i of t)i===`
`?(r++,n=0):n++;return new e(r,n)}isZero(){return this.lineCount===0&&this.columnCount===0}isLessThan(t){return this.lineCount!==t.lineCount?this.lineCount<t.lineCount:this.columnCount<t.columnCount}isGreaterThan(t){return this.lineCount!==t.lineCount?this.lineCount>t.lineCount:this.columnCount>t.columnCount}isGreaterThanOrEqualTo(t){return this.lineCount!==t.lineCount?this.lineCount>t.lineCount:this.columnCount>=t.columnCount}equals(t){return this.lineCount===t.lineCount&&this.columnCount===t.columnCount}compare(t){return this.lineCount!==t.lineCount?this.lineCount-t.lineCount:this.columnCount-t.columnCount}add(t){return t.lineCount===0?new e(this.lineCount,this.columnCount+t.columnCount):new e(this.lineCount+t.lineCount,t.columnCount)}createRange(t){return this.lineCount===0?new yi(t.lineNumber,t.column,t.lineNumber,t.column+this.columnCount):new yi(t.lineNumber,t.column,t.lineNumber+this.lineCount,this.columnCount+1)}toRange(){return new yi(1,1,this.lineCount+1,this.columnCount+1)}toLineRange(){return ri.ofLength(1,this.lineCount)}addToPosition(t){return this.lineCount===0?new Ao(t.lineNumber,t.column+this.columnCount):new Ao(t.lineNumber+this.lineCount,this.columnCount+1)}addToRange(t){return yi.fromPositions(this.addToPosition(t.getStartPosition()),this.addToPosition(t.getEndPosition()))}toString(){return`${this.lineCount},${this.columnCount}`}};var Sl=class e{constructor(t){this.value=t}static{o(this,"StringValue")}apply(t){return new e(t.apply(this.value))}equals(t){return this.value===t.value}getTransformer(){return this._transformer||(this._transformer=new Wte(this.value)),this._transformer}getValueOfRange(t){return this.getTransformer().getOffsetRange(t).substring(this.value)}getLines(){return b5(this.value)}getLineAt(t){return this.getLines()[t-1]}toString(){return this.value}getTextLength(){return this.getTransformer().textLength}},Wte=class{constructor(t){this.text=t;this.lineStartOffsetByLineIdx=[],this.lineEndOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let r=0;r<t.length;r++)t.charAt(r)===`
`&&(this.lineStartOffsetByLineIdx.push(r+1),r>0&&t.charAt(r-1)==="\r"?this.lineEndOffsetByLineIdx.push(r-1):this.lineEndOffsetByLineIdx.push(r));this.lineEndOffsetByLineIdx.push(t.length)}static{o(this,"PositionOffsetTransformer")}getOffset(t){return this.lineStartOffsetByLineIdx[t.lineNumber-1]+t.column-1}getOffsetRange(t){return new Wr(this.getOffset(t.getStartPosition()),this.getOffset(t.getEndPosition()))}getPosition(t){let r=nh(this.lineStartOffsetByLineIdx,s=>s<=t),n=r+1,i=t-this.lineStartOffsetByLineIdx[r]+1;return new Ao(n,i)}getRange(t){return yi.fromPositions(this.getPosition(t.start),this.getPosition(t.endExclusive))}getTextLength(t){return uf.ofRange(this.getRange(t))}get textLength(){let t=this.lineStartOffsetByLineIdx.length-1;return new uf(t,this.text.length-this.lineStartOffsetByLineIdx[t])}getLineLength(t){return this.lineEndOffsetByLineIdx[t-1]-this.lineStartOffsetByLineIdx[t-1]}};var Hp=class{static{o(this,"ObservableWorkspace")}getDocument(t){return Promise.resolve(this.openDocuments.get().find(r=>r.id===t))}};var FM=class extends Ia{constructor(r,n,i,s,a,l){super();this.id=r;this.workspaceRoot=l;this.value=ih(this,n),this.selection=ih(this,i),this.languageId=ih(this,s),this._register(Ta(a))}static{o(this,"MutableObservableDocument")}applyEdit(r,n=void 0){let i=this.value.get().apply(r);this.value.set(i,n,r)}updateSelection(r,n=void 0){this.selection.set(r,n)}};var HIe=et(ti());d();d();d();d();var LM=!1,QM=!1,NM=!1,jut=!1,Vut=!1,kIe=!1,$ut=!1,zut=!1,Yut=!1,Kut=!1;var rA,nA=globalThis,kd;typeof nA.vscode<"u"&&typeof nA.vscode.process<"u"?kd=nA.vscode.process:typeof process<"u"&&typeof process?.versions?.node=="string"&&(kd=process);var RIe=typeof kd?.versions?.electron=="string",Jut=RIe&&kd?.type==="renderer";typeof kd=="object"?(LM=kd.platform==="win32",QM=kd.platform==="darwin",NM=kd.platform==="linux",jut=NM&&!!kd.env.SNAP&&!!kd.env.SNAP_REVISION,$ut=RIe,Yut=!!kd.env.CI||!!kd.env.BUILD_ARTIFACTSTAGINGDIRECTORY,Vut=!0):typeof navigator=="object"&&!Jut?(rA=navigator.userAgent,LM=rA.indexOf("Windows")>=0,QM=rA.indexOf("Macintosh")>=0,zut=(rA.indexOf("Macintosh")>=0||rA.indexOf("iPad")>=0||rA.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,NM=rA.indexOf("Linux")>=0,Kut=rA?.indexOf("Mobi")>=0,kIe=!0):console.error("Unable to resolve platform.");var Gte=0;QM?Gte=1:LM?Gte=3:NM&&(Gte=2);var rx=LM,BIe=QM;var Zut=kIe&&typeof nA.importScripts=="function",TRr=Zut?nA.origin:void 0;var jp=rA;var Xut=typeof nA.postMessage=="function"&&!nA.importScripts,wRr=(()=>{if(Xut){let e=[];nA.addEventListener("message",r=>{if(r.data&&r.data.vscodeScheduleAsyncWork)for(let n=0,i=e.length;n<i;n++){let s=e[n];if(s.id===r.data.vscodeScheduleAsyncWork){e.splice(n,1),s.callback();return}}});let t=0;return r=>{let n=++t;e.push({id:n,callback:r}),nA.postMessage({vscodeScheduleAsyncWork:n},"*")}}return e=>setTimeout(e)})();var eft=!!(jp&&jp.indexOf("Chrome")>=0),_Rr=!!(jp&&jp.indexOf("Firefox")>=0),SRr=!!(!eft&&jp&&jp.indexOf("Safari")>=0),kRr=!!(jp&&jp.indexOf("Edg/")>=0),RRr=!!(jp&&jp.indexOf("Android")>=0);var nx,Hte=globalThis.vscode;if(typeof Hte<"u"&&typeof Hte.process<"u"){let e=Hte.process;nx={get platform(){return e.platform},get arch(){return e.arch},get env(){return e.env},cwd(){return e.cwd()}}}else typeof process<"u"&&typeof process?.versions?.node=="string"?nx={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:nx={get platform(){return rx?"win32":BIe?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};var R_=nx.cwd,DIe=nx.env,PIe=nx.platform,LRr=nx.arch;var rft=65,nft=97,ift=90,oft=122,T5=46,kl=47,ou=92,E5=58,sft=63,MM=class extends Error{static{o(this,"ErrorInvalidArgType")}constructor(t,r,n){let i;typeof r=="string"&&r.indexOf("not ")===0?(i="must not be",r=r.replace(/^not /,"")):i="must be";let s=t.indexOf(".")!==-1?"property":"argument",a=`The "${t}" ${s} ${i} of type ${r}`;a+=`. Received type ${typeof n}`,super(a),this.code="ERR_INVALID_ARG_TYPE"}};function aft(e,t){if(e===null||typeof e!="object")throw new MM(t,"Object",e)}o(aft,"validateObject");function ia(e,t){if(typeof e!="string")throw new MM(t,"string",e)}o(ia,"validateString");var su=PIe==="win32";function ni(e){return e===kl||e===ou}o(ni,"isPathSeparator");function jte(e){return e===kl}o(jte,"isPosixPathSeparator");function I5(e){return e>=rft&&e<=ift||e>=nft&&e<=oft}o(I5,"isWindowsDeviceRoot");function OM(e,t,r,n){let i="",s=0,a=-1,l=0,c=0;for(let u=0;u<=e.length;++u){if(u<e.length)c=e.charCodeAt(u);else{if(n(c))break;c=kl}if(n(c)){if(!(a===u-1||l===1))if(l===2){if(i.length<2||s!==2||i.charCodeAt(i.length-1)!==T5||i.charCodeAt(i.length-2)!==T5){if(i.length>2){let f=i.lastIndexOf(r);f===-1?(i="",s=0):(i=i.slice(0,f),s=i.length-1-i.lastIndexOf(r)),a=u,l=0;continue}else if(i.length!==0){i="",s=0,a=u,l=0;continue}}t&&(i+=i.length>0?`${r}..`:"..",s=2)}else i.length>0?i+=`${r}${e.slice(a+1,u)}`:i=e.slice(a+1,u),s=u-a-1;a=u,l=0}else c===T5&&l!==-1?++l:l=-1}return i}o(OM,"normalizeString");function lft(e){return e?`${e[0]==="."?"":"."}${e}`:""}o(lft,"formatExt");function FIe(e,t){aft(t,"pathObject");let r=t.dir||t.root,n=t.base||`${t.name||""}${lft(t.ext)}`;return r?r===t.root?`${r}${n}`:`${r}${e}${n}`:n}o(FIe,"_format");var oa={resolve(...e){let t="",r="",n=!1;for(let i=e.length-1;i>=-1;i--){let s;if(i>=0){if(s=e[i],ia(s,`paths[${i}]`),s.length===0)continue}else t.length===0?s=R_():(s=DIe[`=${t}`]||R_(),(s===void 0||s.slice(0,2).toLowerCase()!==t.toLowerCase()&&s.charCodeAt(2)===ou)&&(s=`${t}\\`));let a=s.length,l=0,c="",u=!1,f=s.charCodeAt(0);if(a===1)ni(f)&&(l=1,u=!0);else if(ni(f))if(u=!0,ni(s.charCodeAt(1))){let m=2,h=m;for(;m<a&&!ni(s.charCodeAt(m));)m++;if(m<a&&m!==h){let p=s.slice(h,m);for(h=m;m<a&&ni(s.charCodeAt(m));)m++;if(m<a&&m!==h){for(h=m;m<a&&!ni(s.charCodeAt(m));)m++;(m===a||m!==h)&&(c=`\\\\${p}\\${s.slice(h,m)}`,l=m)}}}else l=1;else I5(f)&&s.charCodeAt(1)===E5&&(c=s.slice(0,2),l=2,a>2&&ni(s.charCodeAt(2))&&(u=!0,l=3));if(c.length>0)if(t.length>0){if(c.toLowerCase()!==t.toLowerCase())continue}else t=c;if(n){if(t.length>0)break}else if(r=`${s.slice(l)}\\${r}`,n=u,u&&t.length>0)break}return r=OM(r,!n,"\\",ni),n?`${t}\\${r}`:`${t}${r}`||"."},normalize(e){ia(e,"path");let t=e.length;if(t===0)return".";let r=0,n,i=!1,s=e.charCodeAt(0);if(t===1)return jte(s)?"\\":e;if(ni(s))if(i=!0,ni(e.charCodeAt(1))){let l=2,c=l;for(;l<t&&!ni(e.charCodeAt(l));)l++;if(l<t&&l!==c){let u=e.slice(c,l);for(c=l;l<t&&ni(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&!ni(e.charCodeAt(l));)l++;if(l===t)return`\\\\${u}\\${e.slice(c)}\\`;l!==c&&(n=`\\\\${u}\\${e.slice(c,l)}`,r=l)}}}else r=1;else I5(s)&&e.charCodeAt(1)===E5&&(n=e.slice(0,2),r=2,t>2&&ni(e.charCodeAt(2))&&(i=!0,r=3));let a=r<t?OM(e.slice(r),!i,"\\",ni):"";return a.length===0&&!i&&(a="."),a.length>0&&ni(e.charCodeAt(t-1))&&(a+="\\"),n===void 0?i?`\\${a}`:a:i?`${n}\\${a}`:`${n}${a}`},isAbsolute(e){ia(e,"path");let t=e.length;if(t===0)return!1;let r=e.charCodeAt(0);return ni(r)||t>2&&I5(r)&&e.charCodeAt(1)===E5&&ni(e.charCodeAt(2))},join(...e){if(e.length===0)return".";let t,r;for(let s=0;s<e.length;++s){let a=e[s];ia(a,"path"),a.length>0&&(t===void 0?t=r=a:t+=`\\${a}`)}if(t===void 0)return".";let n=!0,i=0;if(typeof r=="string"&&ni(r.charCodeAt(0))){++i;let s=r.length;s>1&&ni(r.charCodeAt(1))&&(++i,s>2&&(ni(r.charCodeAt(2))?++i:n=!1))}if(n){for(;i<t.length&&ni(t.charCodeAt(i));)i++;i>=2&&(t=`\\${t.slice(i)}`)}return oa.normalize(t)},relative(e,t){if(ia(e,"from"),ia(t,"to"),e===t)return"";let r=oa.resolve(e),n=oa.resolve(t);if(r===n||(e=r.toLowerCase(),t=n.toLowerCase(),e===t))return"";let i=0;for(;i<e.length&&e.charCodeAt(i)===ou;)i++;let s=e.length;for(;s-1>i&&e.charCodeAt(s-1)===ou;)s--;let a=s-i,l=0;for(;l<t.length&&t.charCodeAt(l)===ou;)l++;let c=t.length;for(;c-1>l&&t.charCodeAt(c-1)===ou;)c--;let u=c-l,f=a<u?a:u,m=-1,h=0;for(;h<f;h++){let g=e.charCodeAt(i+h);if(g!==t.charCodeAt(l+h))break;g===ou&&(m=h)}if(h!==f){if(m===-1)return n}else{if(u>f){if(t.charCodeAt(l+h)===ou)return n.slice(l+h+1);if(h===2)return n.slice(l+h)}a>f&&(e.charCodeAt(i+h)===ou?m=h:h===2&&(m=3)),m===-1&&(m=0)}let p="";for(h=i+m+1;h<=s;++h)(h===s||e.charCodeAt(h)===ou)&&(p+=p.length===0?"..":"\\..");return l+=m,p.length>0?`${p}${n.slice(l,c)}`:(n.charCodeAt(l)===ou&&++l,n.slice(l,c))},toNamespacedPath(e){if(typeof e!="string"||e.length===0)return e;let t=oa.resolve(e);if(t.length<=2)return e;if(t.charCodeAt(0)===ou){if(t.charCodeAt(1)===ou){let r=t.charCodeAt(2);if(r!==sft&&r!==T5)return`\\\\?\\UNC\\${t.slice(2)}`}}else if(I5(t.charCodeAt(0))&&t.charCodeAt(1)===E5&&t.charCodeAt(2)===ou)return`\\\\?\\${t}`;return e},dirname(e){ia(e,"path");let t=e.length;if(t===0)return".";let r=-1,n=0,i=e.charCodeAt(0);if(t===1)return ni(i)?e:".";if(ni(i)){if(r=n=1,ni(e.charCodeAt(1))){let l=2,c=l;for(;l<t&&!ni(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&ni(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&!ni(e.charCodeAt(l));)l++;if(l===t)return e;l!==c&&(r=n=l+1)}}}}else I5(i)&&e.charCodeAt(1)===E5&&(r=t>2&&ni(e.charCodeAt(2))?3:2,n=r);let s=-1,a=!0;for(let l=t-1;l>=n;--l)if(ni(e.charCodeAt(l))){if(!a){s=l;break}}else a=!1;if(s===-1){if(r===-1)return".";s=r}return e.slice(0,s)},basename(e,t){t!==void 0&&ia(t,"suffix"),ia(e,"path");let r=0,n=-1,i=!0,s;if(e.length>=2&&I5(e.charCodeAt(0))&&e.charCodeAt(1)===E5&&(r=2),t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,l=-1;for(s=e.length-1;s>=r;--s){let c=e.charCodeAt(s);if(ni(c)){if(!i){r=s+1;break}}else l===-1&&(i=!1,l=s+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(n=s):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}for(s=e.length-1;s>=r;--s)if(ni(e.charCodeAt(s))){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":e.slice(r,n)},extname(e){ia(e,"path");let t=0,r=-1,n=0,i=-1,s=!0,a=0;e.length>=2&&e.charCodeAt(1)===E5&&I5(e.charCodeAt(0))&&(t=n=2);for(let l=e.length-1;l>=t;--l){let c=e.charCodeAt(l);if(ni(c)){if(!s){n=l+1;break}continue}i===-1&&(s=!1,i=l+1),c===T5?r===-1?r=l:a!==1&&(a=1):r!==-1&&(a=-1)}return r===-1||i===-1||a===0||a===1&&r===i-1&&r===n+1?"":e.slice(r,i)},format:FIe.bind(null,"\\"),parse(e){ia(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.length,n=0,i=e.charCodeAt(0);if(r===1)return ni(i)?(t.root=t.dir=e,t):(t.base=t.name=e,t);if(ni(i)){if(n=1,ni(e.charCodeAt(1))){let m=2,h=m;for(;m<r&&!ni(e.charCodeAt(m));)m++;if(m<r&&m!==h){for(h=m;m<r&&ni(e.charCodeAt(m));)m++;if(m<r&&m!==h){for(h=m;m<r&&!ni(e.charCodeAt(m));)m++;m===r?n=m:m!==h&&(n=m+1)}}}}else if(I5(i)&&e.charCodeAt(1)===E5){if(r<=2)return t.root=t.dir=e,t;if(n=2,ni(e.charCodeAt(2))){if(r===3)return t.root=t.dir=e,t;n=3}}n>0&&(t.root=e.slice(0,n));let s=-1,a=n,l=-1,c=!0,u=e.length-1,f=0;for(;u>=n;--u){if(i=e.charCodeAt(u),ni(i)){if(!c){a=u+1;break}continue}l===-1&&(c=!1,l=u+1),i===T5?s===-1?s=u:f!==1&&(f=1):s!==-1&&(f=-1)}return l!==-1&&(s===-1||f===0||f===1&&s===l-1&&s===a+1?t.base=t.name=e.slice(a,l):(t.name=e.slice(a,s),t.base=e.slice(a,l),t.ext=e.slice(s,l))),a>0&&a!==n?t.dir=e.slice(0,a-1):t.dir=t.root,t},sep:"\\",delimiter:";",win32:null,posix:null},cft=(()=>{if(su){let e=/\\/g;return()=>{let t=R_().replace(e,"/");return t.slice(t.indexOf("/"))}}return()=>R_()})(),wa={resolve(...e){let t="",r=!1;for(let n=e.length-1;n>=-1&&!r;n--){let i=n>=0?e[n]:cft();ia(i,`paths[${n}]`),i.length!==0&&(t=`${i}/${t}`,r=i.charCodeAt(0)===kl)}return t=OM(t,!r,"/",jte),r?`/${t}`:t.length>0?t:"."},normalize(e){if(ia(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===kl,r=e.charCodeAt(e.length-1)===kl;return e=OM(e,!t,"/",jte),e.length===0?t?"/":r?"./":".":(r&&(e+="/"),t?`/${e}`:e)},isAbsolute(e){return ia(e,"path"),e.length>0&&e.charCodeAt(0)===kl},join(...e){if(e.length===0)return".";let t;for(let r=0;r<e.length;++r){let n=e[r];ia(n,"path"),n.length>0&&(t===void 0?t=n:t+=`/${n}`)}return t===void 0?".":wa.normalize(t)},relative(e,t){if(ia(e,"from"),ia(t,"to"),e===t||(e=wa.resolve(e),t=wa.resolve(t),e===t))return"";let r=1,n=e.length,i=n-r,s=1,a=t.length-s,l=i<a?i:a,c=-1,u=0;for(;u<l;u++){let m=e.charCodeAt(r+u);if(m!==t.charCodeAt(s+u))break;m===kl&&(c=u)}if(u===l)if(a>l){if(t.charCodeAt(s+u)===kl)return t.slice(s+u+1);if(u===0)return t.slice(s+u)}else i>l&&(e.charCodeAt(r+u)===kl?c=u:u===0&&(c=0));let f="";for(u=r+c+1;u<=n;++u)(u===n||e.charCodeAt(u)===kl)&&(f+=f.length===0?"..":"/..");return`${f}${t.slice(s+c)}`},toNamespacedPath(e){return e},dirname(e){if(ia(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===kl,r=-1,n=!0;for(let i=e.length-1;i>=1;--i)if(e.charCodeAt(i)===kl){if(!n){r=i;break}}else n=!1;return r===-1?t?"/":".":t&&r===1?"//":e.slice(0,r)},basename(e,t){t!==void 0&&ia(t,"ext"),ia(e,"path");let r=0,n=-1,i=!0,s;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,l=-1;for(s=e.length-1;s>=0;--s){let c=e.charCodeAt(s);if(c===kl){if(!i){r=s+1;break}}else l===-1&&(i=!1,l=s+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(n=s):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}for(s=e.length-1;s>=0;--s)if(e.charCodeAt(s)===kl){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":e.slice(r,n)},extname(e){ia(e,"path");let t=-1,r=0,n=-1,i=!0,s=0;for(let a=e.length-1;a>=0;--a){let l=e.charCodeAt(a);if(l===kl){if(!i){r=a+1;break}continue}n===-1&&(i=!1,n=a+1),l===T5?t===-1?t=a:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||n===-1||s===0||s===1&&t===n-1&&t===r+1?"":e.slice(t,n)},format:FIe.bind(null,"/"),parse(e){ia(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.charCodeAt(0)===kl,n;r?(t.root="/",n=1):n=0;let i=-1,s=0,a=-1,l=!0,c=e.length-1,u=0;for(;c>=n;--c){let f=e.charCodeAt(c);if(f===kl){if(!l){s=c+1;break}continue}a===-1&&(l=!1,a=c+1),f===T5?i===-1?i=c:u!==1&&(u=1):i!==-1&&(u=-1)}if(a!==-1){let f=s===0&&r?1:s;i===-1||u===0||u===1&&i===a-1&&i===s+1?t.base=t.name=e.slice(f,a):(t.name=e.slice(f,i),t.base=e.slice(f,a),t.ext=e.slice(i,a))}return s>0?t.dir=e.slice(0,s-1):r&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};wa.win32=oa.win32=oa;wa.posix=oa.posix=wa;var MRr=su?oa.normalize:wa.normalize,ORr=su?oa.isAbsolute:wa.isAbsolute,URr=su?oa.join:wa.join,qRr=su?oa.resolve:wa.resolve,WRr=su?oa.relative:wa.relative,GRr=su?oa.dirname:wa.dirname,NIe=su?oa.basename:wa.basename,LIe=su?oa.extname:wa.extname,HRr=su?oa.format:wa.format,jRr=su?oa.parse:wa.parse,VRr=su?oa.toNamespacedPath:wa.toNamespacedPath,$Rr=su?oa.sep:wa.sep,zRr=su?oa.delimiter:wa.delimiter;d();d();var fft=/^\w[\w\d+.-]*$/,dft=/^\//,mft=/^\/\//;function hft(e,t){if(!e.scheme&&t)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${e.authority}", path: "${e.path}", query: "${e.query}", fragment: "${e.fragment}"}`);if(e.scheme&&!fft.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path){if(e.authority){if(!dft.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(mft.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}o(hft,"_validateUri");function pft(e,t){return!e&&!t?"file":e}o(pft,"_schemeFix");function gft(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==oh&&(t=oh+t):t=oh;break}return t}o(gft,"_referenceResolution");var jo="",oh="/",Aft=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,_5=class e{static{o(this,"URI")}static isUri(t){return t instanceof e?!0:t?typeof t.authority=="string"&&typeof t.fragment=="string"&&typeof t.path=="string"&&typeof t.query=="string"&&typeof t.scheme=="string"&&typeof t.fsPath=="string"&&typeof t.with=="function"&&typeof t.toString=="function":!1}constructor(t,r,n,i,s,a=!1){typeof t=="object"?(this.scheme=t.scheme||jo,this.authority=t.authority||jo,this.path=t.path||jo,this.query=t.query||jo,this.fragment=t.fragment||jo):(this.scheme=pft(t,a),this.authority=r||jo,this.path=gft(this.scheme,n||jo),this.query=i||jo,this.fragment=s||jo,hft(this,a))}get fsPath(){return Vte(this,!1)}with(t){if(!t)return this;let{scheme:r,authority:n,path:i,query:s,fragment:a}=t;return r===void 0?r=this.scheme:r===null&&(r=jo),n===void 0?n=this.authority:n===null&&(n=jo),i===void 0?i=this.path:i===null&&(i=jo),s===void 0?s=this.query:s===null&&(s=jo),a===void 0?a=this.fragment:a===null&&(a=jo),r===this.scheme&&n===this.authority&&i===this.path&&s===this.query&&a===this.fragment?this:new w5(r,n,i,s,a)}static parse(t,r=!1){let n=Aft.exec(t);return n?new w5(n[2]||jo,UM(n[4]||jo),UM(n[5]||jo),UM(n[7]||jo),UM(n[9]||jo),r):new w5(jo,jo,jo,jo,jo)}static file(t){let r=jo;if(rx&&(t=t.replace(/\\/g,oh)),t[0]===oh&&t[1]===oh){let n=t.indexOf(oh,2);n===-1?(r=t.substring(2),t=oh):(r=t.substring(2,n),t=t.substring(n)||oh)}return new w5("file",r,t,jo,jo)}static from(t,r){return new w5(t.scheme,t.authority,t.path,t.query,t.fragment,r)}static joinPath(t,...r){if(!t.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let n;return rx&&t.scheme==="file"?n=e.file(oa.join(Vte(t,!0),...r)).path:n=wa.join(t.path,...r),t.with({path:n})}toString(t=!1){return $te(this,t)}toJSON(){return this}static revive(t){if(t){if(t instanceof e)return t;{let r=new w5(t);return r._formatted=t.external??null,r._fsPath=t._sep===OIe?t.fsPath??null:null,r}}else return t}[Symbol.for("debug.description")](){return`URI(${this.toString()})`}};var OIe=rx?1:void 0,w5=class extends _5{constructor(){super(...arguments);this._formatted=null;this._fsPath=null}static{o(this,"Uri")}get fsPath(){return this._fsPath||(this._fsPath=Vte(this,!1)),this._fsPath}toString(r=!1){return r?$te(this,!0):(this._formatted||(this._formatted=$te(this,!1)),this._formatted)}toJSON(){let r={$mid:1};return this._fsPath&&(r.fsPath=this._fsPath,r._sep=OIe),this._formatted&&(r.external=this._formatted),this.path&&(r.path=this.path),this.scheme&&(r.scheme=this.scheme),this.authority&&(r.authority=this.authority),this.query&&(r.query=this.query),this.fragment&&(r.fragment=this.fragment),r}},UIe={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function QIe(e,t,r){let n,i=-1;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);if(a>=97&&a<=122||a>=65&&a<=90||a>=48&&a<=57||a===45||a===46||a===95||a===126||t&&a===47||r&&a===91||r&&a===93||r&&a===58)i!==-1&&(n+=encodeURIComponent(e.substring(i,s)),i=-1),n!==void 0&&(n+=e.charAt(s));else{n===void 0&&(n=e.substr(0,s));let l=UIe[a];l!==void 0?(i!==-1&&(n+=encodeURIComponent(e.substring(i,s)),i=-1),n+=l):i===-1&&(i=s)}}return i!==-1&&(n+=encodeURIComponent(e.substring(i))),n!==void 0?n:e}o(QIe,"encodeURIComponentFast");function yft(e){let t;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n===35||n===63?(t===void 0&&(t=e.substr(0,r)),t+=UIe[n]):t!==void 0&&(t+=e[r])}return t!==void 0?t:e}o(yft,"encodeURIComponentMinimal");function Vte(e,t){let r;return e.authority&&e.path.length>1&&e.scheme==="file"?r=`//${e.authority}${e.path}`:e.path.charCodeAt(0)===47&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&e.path.charCodeAt(2)===58?t?r=e.path.substr(1):r=e.path[1].toLowerCase()+e.path.substr(2):r=e.path,rx&&(r=r.replace(/\//g,"\\")),r}o(Vte,"uriToFsPath");function $te(e,t){let r=t?yft:QIe,n="",{scheme:i,authority:s,path:a,query:l,fragment:c}=e;if(i&&(n+=i,n+=":"),(s||i==="file")&&(n+=oh,n+=oh),s){let u=s.indexOf("@");if(u!==-1){let f=s.substr(0,u);s=s.substr(u+1),u=f.lastIndexOf(":"),u===-1?n+=r(f,!1,!1):(n+=r(f.substr(0,u),!1,!1),n+=":",n+=r(f.substr(u+1),!1,!0)),n+="@"}s=s.toLowerCase(),u=s.lastIndexOf(":"),u===-1?n+=r(s,!1,!0):(n+=r(s.substr(0,u),!1,!0),n+=s.substr(u))}if(a){if(a.length>=3&&a.charCodeAt(0)===47&&a.charCodeAt(2)===58){let u=a.charCodeAt(1);u>=65&&u<=90&&(a=`/${String.fromCharCode(u+32)}:${a.substr(3)}`)}else if(a.length>=2&&a.charCodeAt(1)===58){let u=a.charCodeAt(0);u>=65&&u<=90&&(a=`${String.fromCharCode(u+32)}:${a.substr(2)}`)}n+=r(a,!0,!1)}return l&&(n+="?",n+=r(l,!1,!1)),c&&(n+="#",n+=t?c:QIe(c,!1,!1)),n}o($te,"_asFormatted");function qIe(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substr(0,3)+qIe(e.substr(3)):e}}o(qIe,"decodeURIComponentGraceful");var MIe=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function UM(e){return e.match(MIe)?e.replace(MIe,t=>qIe(t)):e}o(UM,"percentDecode");var Rd=class e{constructor(t){this.uri=t;this._uri=_5.parse(rc(this.uri))}static{o(this,"DocumentId")}static{this._cache=new tA({getCacheKey:JSON.stringify},t=>new e(t.uri))}static create(t){return e._cache.get({uri:t})}get path(){return this._uri.path}get fragment(){return this._uri.fragment}toString(){return this.uri}get baseName(){return NIe(this.uri)}get extension(){return LIe(this.uri)}toUri(){return this._uri}};function zte(e){return Rd.create(e)}o(zte,"createDocumentId");d();d();var Bd=class e{constructor(t){this.edits=t;let r=-1;for(let n of t){if(!(n.replaceRange.start>=r))throw new Fi(`Edits must be disjoint and sorted. Found ${n} after ${r}`);r=n.replaceRange.endExclusive}}static{o(this,"OffsetEdit")}static{this.empty=new e([])}static fromJson(t){return new e(t.map(Va.fromJson))}static from(t){let r=t.map(i=>new Va(Wr.ofStartAndLength(i.rangeOffset,i.rangeLength),i.text));return r.reverse(),new e(r)}static single(t,r){return new e([new Va(t,r)])}normalize(){let t=[],r;for(let n of this.edits)n.newText.length===0&&n.replaceRange.length===0||(r&&r.replaceRange.endExclusive===n.replaceRange.start?r=new Va(r.replaceRange.join(n.replaceRange),r.newText+n.newText):(r&&t.push(r),r=n));return r&&t.push(r),new e(t)}normalizeEOL(t){return new e(this.edits.map(r=>r.normalizeEOL(t)))}isNoop(t){return this.edits.every(r=>r.isNoop(t))}toString(){return`[${this.edits.map(r=>r.toString()).join(", ")}]`}apply(t){let r=[],n=0;for(let i of this.edits)r.push(t.substring(n,i.replaceRange.start)),r.push(i.newText),n=i.replaceRange.endExclusive;return r.push(t.substring(n)),r.join("")}compose(t){return Cft(this,t)}inverse(t){let r=[],n=0;for(let i of this.edits)r.push(new Va(Wr.ofStartAndLength(i.replaceRange.start+n,i.newText.length),t.substring(i.replaceRange.start,i.replaceRange.endExclusive))),n+=i.newText.length-i.replaceRange.length;return new e(r)}getNewTextRanges(){let t=[],r=0;for(let n of this.edits)t.push(Wr.ofStartAndLength(n.replaceRange.start+r,n.newText.length)),r+=n.newText.length-n.replaceRange.length;return t}get isEmpty(){return this.edits.length===0}tryRebase(t){let r=[],n=0,i=0,s=0;for(;i<this.edits.length||n<t.edits.length;){let a=t.edits[n],l=this.edits[i];if(l)a?l.replaceRange.intersects(a.replaceRange)?i++:l.replaceRange.start<a.replaceRange.start?(r.push(new Va(l.replaceRange.delta(s),l.newText)),i++):(n++,s+=a.newText.length-a.replaceRange.length):(r.push(new Va(l.replaceRange.delta(s),l.newText)),i++);else break}return new e(r)}removeCommonSuffixPrefix(t){let r=[];for(let n of this.edits){let i=n.removeCommonSuffixPrefix(t);i.isEmpty||r.push(i)}return new e(r)}applyToOffset(t){let r=0;for(let n of this.edits)if(n.replaceRange.start<=t){if(t<n.replaceRange.endExclusive)return n.replaceRange.start+r;r+=n.newText.length-n.replaceRange.length}else break;return t+r}applyToOffsetRange(t){return new Wr(this.applyToOffset(t.start),this.applyToOffset(t.endExclusive))}applyToOffsetOrUndefined(t){let r=0;for(let n of this.edits)if(n.replaceRange.start<=t){if(t<n.replaceRange.endExclusive)return;r+=n.newText.length-n.replaceRange.length}else break;return t+r}applyToOffsetRangeOrUndefined(t){let r=this.applyToOffsetOrUndefined(t.start);if(r===void 0)return;let n=this.applyToOffsetOrUndefined(t.endExclusive);if(n!==void 0)return new Wr(r,n)}applyInverseToOffset(t){let r=0;for(let n of this.edits){let i=n.newText.length;if(n.replaceRange.start<=t-r){if(t-r<n.replaceRange.start+i)return n.replaceRange.start;r+=i-n.replaceRange.length}else break}return t-r}},Va=class e{constructor(t,r){this.replaceRange=t;this.newText=r}static{o(this,"SingleOffsetEdit")}static delete(t){return new e(t,"")}static fromJson(t){return new e(Wr.ofStartAndLength(t.pos,t.len),t.txt)}toString(){return`${this.replaceRange} -> "${this.newText}"`}removeCommonSuffixPrefix(t){let r=t.substring(this.replaceRange.start,this.replaceRange.endExclusive),n=SIe(r,this.newText),i=Math.min(r.length-n,this.newText.length-n,DM(r,this.newText)),s=new Wr(this.replaceRange.start+n,this.replaceRange.endExclusive-i),a=this.newText.substring(n,this.newText.length-i);return new e(s,a)}normalizeEOL(t){let r=this.newText.replace(/\r\n|\n/g,t);return new e(this.replaceRange,r)}isNoop(t){return this.newText===t.substring(this.replaceRange.start,this.replaceRange.endExclusive)}get isEmpty(){return this.newText.length===0&&this.replaceRange.length===0}};function Cft(e,t){if(e=e.normalize(),t=t.normalize(),e.isEmpty)return t;if(t.isEmpty)return e;let r=[...e.edits],n=[],i=0;for(let s of t.edits){for(;;){let u=r[0];if(!u||u.replaceRange.start+i+u.newText.length>=s.replaceRange.start)break;r.shift(),n.push(u),i+=u.newText.length-u.replaceRange.length}let a=i,l,c;for(;;){let u=r[0];if(!u||u.replaceRange.start+i>s.replaceRange.endExclusive)break;l||(l=u),c=u,r.shift(),i+=u.newText.length-u.replaceRange.length}if(!l)n.push(new Va(s.replaceRange.delta(-i),s.newText));else{let u="",f=s.replaceRange.start-(l.replaceRange.start+a);f>0&&(u=l.newText.slice(0,f));let m=c.replaceRange.endExclusive+i-s.replaceRange.endExclusive;if(m>0){let g=new Va(Wr.ofStartAndLength(c.replaceRange.endExclusive,0),c.newText.slice(-m));r.unshift(g),i-=g.newText.length-g.replaceRange.length}let h=u+s.newText,p=new Wr(Math.min(l.replaceRange.start,s.replaceRange.start-a),s.replaceRange.endExclusive-i);n.push(new Va(p,h))}}for(;;){let s=r.shift();if(!s)break;n.push(s)}return new Bd(n).normalize()}o(Cft,"joinEdits");d();d();var WIe=-1;function a8(){return WIe!==-1?WIe:Date.now()}o(a8,"now");function GIe(e,t){return e.endLineNumberExclusive<=t.startLineNumber?t.startLineNumber-e.endLineNumberExclusive:t.endLineNumberExclusive<=e.startLineNumber?e.startLineNumber-t.endLineNumberExclusive:0}o(GIe,"lineRangeDistance");d();var l8=class e{constructor(t){this.edits=t}static{o(this,"TextEdit")}static fromEdit(t,r){let n=t.edits.map(i=>new iA(r.getTransformer().getRange(i.range),i.newText));return new e(n)}toEdit(t){let r=this.edits.map(n=>Fs.replace(t.getTransformer().getOffsetRange(n.range),n.newText));return As.create(r)}mapEdits(t){return new e(this.edits.map(t))}},iA=class e{constructor(t,r){this.range=t;this.newText=r}static{o(this,"SingleTextEdit")}static joinEdits(t,r){if(t.length===0)throw new Fi;if(t.length===1)return t[0];let n=t[0].range.getStartPosition(),i=t[t.length-1].range.getEndPosition(),s="";for(let a=0;a<t.length;a++){let l=t[a];if(s+=l.newText,a<t.length-1){let c=t[a+1],u=yi.fromPositions(l.range.getEndPosition(),c.range.getStartPosition()),f=r.getValueOfRange(u);s+=f}}return new e(yi.fromPositions(n,i),s)}static fromSingleEdit(t,r){return new e(r.getTransformer().getRange(t.range),t.newText)}extendToCoverRange(t,r){if(this.range.containsRange(t))return this;let n=this.range.plusRange(t),i=r.getValueOfRange(yi.fromPositions(n.getStartPosition(),this.range.getStartPosition())),s=r.getValueOfRange(yi.fromPositions(this.range.getEndPosition(),n.getEndPosition())),a=i+this.newText+s;return new e(n,a)}extendToFullLine(t){let r=new yi(this.range.startLineNumber,1,this.range.endLineNumber,t.getTransformer().getLineLength(this.range.endLineNumber)+1);return this.extendToCoverRange(r,t)}toSingleEdit(t){let n=t.getTransformer().getOffsetRange(this.range);return Fs.replace(n,this.newText)}};var Ns=class e{constructor(t){this.edits=t;iu(fM(t,(r,n)=>r.lineRange.endLineNumberExclusive<=n.lineRange.startLineNumber))}static{o(this,"LineEdit")}static{this.empty=new e([])}static deserialize(t){return new e(t.map(r=>oA.deserialize(r)))}static fromEdit(t){let r=l8.fromEdit(t.edit,t.base);return e.fromTextEdit(r,t.base)}static fromTextEdit(t,r){let n=t.edits,i=[],s=[];for(let a=0;a<n.length;a++){let l=n[a],c=a+1<n.length?n[a+1]:void 0;if(s.push(l),c&&c.range.startLineNumber===l.range.endLineNumber)continue;let u=iA.joinEdits(s,r);s.length=0;let f=oA.fromSingleTextEdit(u,r);i.push(f)}return new e(i)}static createFromUnsorted(t){let r=t.slice();return r.sort(y5(n=>n.lineRange.startLineNumber,C5)),new e(r)}isEmpty(){return this.edits.length===0}toEdit(t){let r=[];for(let n of this.edits){let i=n.toSingleEdit(t);r.push(i)}return As.create(r)}toString(){return this.edits.map(t=>t.toString()).join(",")}serialize(){return this.edits.map(t=>t.serialize())}getNewLineRanges(){let t=[],r=0;for(let n of this.edits)t.push(ri.ofLength(n.lineRange.startLineNumber+r,n.newLines.length)),r+=n.newLines.length-n.lineRange.length;return t}mapLineNumber(t){let r=0;for(let n of this.edits){if(n.lineRange.endLineNumberExclusive>t)break;r+=n.newLines.length-n.lineRange.length}return t+r}mapLineRange(t){return new ri(this.mapLineNumber(t.startLineNumber),this.mapLineNumber(t.endLineNumberExclusive))}mapBackLineRange(t,r){return this.inverse(r).mapLineRange(t)}touches(t){return this.edits.some(r=>t.edits.some(n=>r.lineRange.intersect(n.lineRange)))}rebase(t){return new e(this.edits.map(r=>new oA(t.mapLineRange(r.lineRange),r.newLines)))}humanReadablePatch(t){let r=[];function n(l,c,u,f){let m=u==="unmodified"?" ":u==="deleted"?"-":"+";f===void 0&&(f="[[[[[ WARNING: LINE DOES NOT EXIST ]]]]]");let h=l===-1?"   ":l.toString().padStart(3," "),p=c===-1?"   ":c.toString().padStart(3," ");r.push(`${m} ${h} ${p} ${f}`)}o(n,"pushLine");function i(){r.push("---")}o(i,"pushSeperator");let s=0,a=!0;for(let l of mM(this.edits,(c,u)=>GIe(c.lineRange,u.lineRange)<=5)){a?a=!1:i();let c=l[0].lineRange.startLineNumber-2;for(let u of l){for(let h=Math.max(1,c);h<u.lineRange.startLineNumber;h++)n(h,h+s,"unmodified",t[h-1]);let f=u.lineRange,m=u.newLines;for(let h of f.mapToLineArray(p=>p)){let p=t[h-1];n(h,-1,"deleted",p)}for(let h=0;h<m.length;h++){let p=m[h];n(-1,f.startLineNumber+s+h,"added",p)}c=f.endLineNumberExclusive,s+=u.newLines.length-u.lineRange.length}for(let u=c;u<=Math.min(c+2,t.length);u++)n(u,u+s,"unmodified",t[u-1])}return r.join(`
`)}apply(t){let r=[],n=0;for(let i of this.edits){for(;n<i.lineRange.startLineNumber-1;)r.push(t[n]),n++;for(let s of i.newLines)r.push(s);n=i.lineRange.endLineNumberExclusive-1}for(;n<t.length;)r.push(t[n]),n++;return r}inverse(t){let r=this.getNewLineRanges();return new e(this.edits.map((n,i)=>new oA(r[i],t.slice(n.lineRange.startLineNumber-1,n.lineRange.endLineNumberExclusive-1))))}},oA=class e{constructor(t,r){this.lineRange=t;this.newLines=r}static{o(this,"SingleLineEdit")}static deserialize(t){return new e(ri.ofLength(t[0],t[1]-t[0]),t[2])}static fromSingleTextEdit(t,r){let n=b5(t.newText),i=t.range.startLineNumber,s=r.getValueOfRange(yi.fromPositions(new Ao(t.range.startLineNumber,1),t.range.getStartPosition()));n[0]=s+n[0];let a=t.range.endLineNumber+1,l=r.getTransformer().getLineLength(t.range.endLineNumber)+1,c=r.getValueOfRange(yi.fromPositions(t.range.getEndPosition(),new Ao(t.range.endLineNumber,l)));n[n.length-1]=n[n.length-1]+c;let u=t.range.startColumn===r.getTransformer().getLineLength(t.range.startLineNumber)+1,f=t.range.endColumn===1;return u&&n[0].length===s.length&&(i++,n.shift()),n.length>0&&i<a&&f&&n[n.length-1].length===c.length&&(a--,n.pop()),new e(new ri(i,a),n)}toLineEdit(){return new Ns([this])}toSingleTextEdit(t){if(this.newLines.length===0){let r=t.getTransformer().textLength;if(this.lineRange.endLineNumberExclusive===r.lineCount+2){let n;if(this.lineRange.startLineNumber>1){let s=this.lineRange.startLineNumber-1,a=t.getTransformer().getLineLength(s)+1;n=new Ao(s,a)}else n=new Ao(1,1);let i=r.addToPosition(new Ao(1,1));return new iA(yi.fromPositions(n,i),"")}else return new iA(new yi(this.lineRange.startLineNumber,1,this.lineRange.endLineNumberExclusive,1),"")}else if(this.lineRange.isEmpty){let r,n,i,s=this.lineRange.startLineNumber;return s===t.getTransformer().textLength.lineCount+2?(r=s-1,n=t.getTransformer().getLineLength(r)+1,i=this.newLines.map(a=>`
`+a).join("")):(r=s,n=1,i=this.newLines.map(a=>a+`
`).join("")),new iA(yi.fromPositions(new Ao(r,n)),i)}else{let r=this.lineRange.endLineNumberExclusive-1,n=t.getTransformer().getLineLength(r)+1,i=new yi(this.lineRange.startLineNumber,1,r,n),s=this.newLines.join(`
`);return new iA(i,s)}}toSingleEdit(t){let r=this.toSingleTextEdit(t),n=t.getTransformer().getOffsetRange(r.range);return Fs.replace(n,r.newText)}toString(){return`${this.lineRange}->${JSON.stringify(this.newLines)}`}serialize(){return[this.lineRange.startLineNumber,this.lineRange.endLineNumberExclusive,this.newLines]}removeCommonSuffixPrefixLines(t){let r=this.lineRange.startLineNumber,n=this.lineRange.endLineNumberExclusive,i=0;for(;r<n&&i<this.newLines.length&&this.newLines[i]===t.getLineAt(r);)r++,i++;let s=0;for(;r<n&&s+i<this.newLines.length&&this.newLines[this.newLines.length-1-s]===t.getLineAt(n-1);)n--,s++;return i===0&&s===0?this:new e(new ri(r,n),this.newLines.slice(i,this.newLines.length-s))}},xft;(t=>{function e(r){return Array.isArray(r)&&r.length===3&&typeof r[0]=="number"&&typeof r[1]=="number"&&Array.isArray(r[2])&&r[2].every(n=>typeof n=="string")}t.is=e,o(e,"is")})(xft||={});var Vp=class e{constructor(t,r){this.base=t;this.edit=r}static{o(this,"RootedLineEdit")}static fromEdit(t){let r=Ns.fromEdit(t);return new e(t.base,r)}toString(){return this.edit.humanReadablePatch(this.base.getLines())}toEdit(){return this.edit.toEdit(this.base)}toRootedEdit(){return new ff(this.base,this.toEdit())}getEditedState(){let t=this.base.getLines();return this.edit.apply(t)}removeCommonSuffixPrefixLines(){let t=o(n=>!n.lineRange.isEmpty||n.newLines.length>0,"isNotEmptyEdit"),r=this.edit.edits.map(n=>n.removeCommonSuffixPrefixLines(this.base)).filter(n=>t(n));return new e(this.base,new Ns(r))}};var As=class e{constructor(t){this.edits=t;iu(fM(t,(r,n)=>r.range.endExclusive<=n.range.start))}static{o(this,"Edit")}static deserialize(t){return new e(t.map(r=>Fs.deserialize(r)))}static{this.empty=new e([])}static create(t){return new e(t)}static single(t){return new e([t])}static replace(t,r){return new e([Fs.replace(t,r)])}static insert(t,r){return new e([Fs.insert(t,r)])}static fromOffsetEdit(t){return new e(t.edits.map(r=>Fs.replace(r.replaceRange,r.newText)))}static compose(t){let r;for(let n of t)r===void 0?r=n:r=r.compose(n);return r??e.empty}static trySwap(t,r){let n=t.inverse((a,l)=>" ".repeat(l-a)),i=r.tryRebase(n);if(!i)return;let s=t.tryRebase(i);if(s)return{e1:i,e2:s}}toOffsetEdit(){return new Bd(this.edits.map(t=>new Va(t.range,t.newText)))}compose(t){return vft(this,t)}getNewRanges(){return this.toOffsetEdit().getNewTextRanges()}apply(t){let r="",n=0;for(let i of this.edits)r+=t.substring(n,i.range.start),r+=i.newText,n=i.range.endExclusive;return r+=t.substring(n),r}normalize(){let t=[],r;for(let n of this.edits)if(!(n.newText.length===0&&n.range.length===0))if(r&&r.range.endExclusive===n.range.start){let i=r.data?.merge(n.data)??void 0;r=Fs.replaceWithData(r.range.join(n.range),r.newText+n.newText,i)}else r&&t.push(r),r=n;return r&&t.push(r),new e(t)}normalizeOnSource(t){let r=this.apply(t),i=Fs.replace(Wr.ofLength(t.length),r).removeCommonSuffixAndPrefix(t);return i.isNeutral()?e.empty:i.toEdit()}toString(){return this.edits.map(t=>t.toString()).join("")}decompose(t){if(t===void 0){let i=[],s=0;for(let a of this.edits)i.push(Fs.replaceWithData(Wr.ofStartAndLength(a.range.start+s,a.range.length),a.newText,a.data)),s+=a.newText.length-a.range.length;return new qM(i)}if(this.edits.length!==t.arrayLength)throw w_(`Number of edits ${this.edits.length} does not match ${t.arrayLength}`);let r=[],n=this.edits.slice();for(let i=0;i<this.edits.length;++i){let s=t.mapIndexBack(i),a=n[s];r.push(a);for(let l=s;l<n.length;++l){let c=a.newText.length-a.range.length,u=n[l];n[l]=Fs.replaceWithData(Wr.ofStartAndLength(u.range.start+c,u.range.length),u.newText,u.data)}}return new qM(r)}getRange(){if(this.edits.length!==0)return this.edits[0].range.join(this.edits[this.edits.length-1].range)}isEmpty(){return this.edits.length===0}applyInverseToOffsetRange(t){let r=this.toOffsetEdit(),n=r.applyInverseToOffset(t.start),i=r.applyInverseToOffset(t.endExclusive);return new Wr(n,i)}serialize(){return this.edits.map(t=>t.serialize())}equals(t){if(this.edits.length!==t.edits.length)return!1;for(let r=0;r<this.edits.length;++r)if(!this.edits[r].equals(t.edits[r]))return!1;return!0}inverse(t){let r=[],n=0;for(let i of this.edits)r.push(Fs.replace(Wr.ofStartAndLength(i.range.start+n,i.newText.length),t(i.range.start,i.range.endExclusive))),n+=i.newText.length-i.range.length;return new e(r)}inverseOnString(t){return this.inverse((r,n)=>t.substring(r,n))}mapData(t){return e.create(this.edits.map(r=>r.mapData(t)))}tryRebase(t){let r=[],n=0,i=0,s=0;for(;i<this.edits.length||n<t.edits.length;){let a=t.edits[n],l=this.edits[i];if(l)if(!a)r.push(Fs.replace(l.range.delta(s),l.newText)),i++;else{if(l.range.intersectsOrTouches(a.range))return;l.range.start<a.range.start?(r.push(Fs.replace(l.range.delta(s),l.newText)),i++):(n++,s+=a.newText.length-a.range.length)}else break}return new e(r)}};function vft(e,t){if(e=e.normalize(),t=t.normalize(),e.isEmpty())return t;if(t.isEmpty())return e;let r=[...e.edits],n=[],i=0;for(let s of t.edits){for(;;){let u=r[0];if(!u||u.range.start+i+u.newText.length>=s.range.start)break;r.shift(),n.push(u),i+=u.newText.length-u.range.length}let a=i,l,c;for(;;){let u=r[0];if(!u||u.range.start+i>s.range.endExclusive)break;l||(l=u),c=u,r.shift(),i+=u.newText.length-u.range.length}if(!l)n.push(Fs.replaceWithData(s.range.delta(-i),s.newText,s.data));else{let u=s.range.start-a-l.range.start;u>0&&n.push(Fs.replaceWithData(Wr.emptyAt(l.range.start),l.newText.slice(0,u),l.data));let f=c.range.endExclusive+i-s.range.endExclusive;if(f>0){let h=Fs.replaceWithData(Wr.emptyAt(c.range.endExclusive),c.newText.slice(-f),c.data);r.unshift(h),i-=h.newText.length-h.range.length}let m=new Wr(Math.min(l.range.start,s.range.start-a),s.range.endExclusive-i);n.push(Fs.replaceWithData(m,s.newText,s.data))}}for(;;){let s=r.shift();if(!s)break;n.push(s)}return As.create(n).normalize()}o(vft,"joinEdits");var Fs=class e{constructor(t,r,n){this.range=t;this.newText=r;this.data=n}static{o(this,"SingleEdit")}static deserialize(t){return new e(new Wr(t[0],t[1]),t[2],void 0)}static replace(t,r){return new e(t,r,void 0)}static insert(t,r){return new e(new Wr(t,t),r,void 0)}static delete(t){return new e(t,"",void 0)}static replaceWithData(t,r,n){return new e(t,r,n)}static insertWithData(t,r,n){return new e(new Wr(t,t),r,n)}static deleteWithData(t,r){return new e(t,"",r)}static fromSingleOffsetEdit(t){return new e(t.replaceRange,t.newText,void 0)}toString(){return`${this.range}->${JSON.stringify(this.newText)}`}serialize(){return[this.range.start,this.range.endExclusive,this.newText]}toEdit(){return As.create([this])}equals(t){return this.range.equals(t.range)&&this.newText===t.newText}removeCommonSuffixAndPrefix(t){return this.removeCommonSuffix(t).removeCommonPrefix(t)}removeCommonPrefix(t){let r=this.range.substring(t),n=bft(r,this.newText);return n===0?this:e.replaceWithData(this.range.deltaStart(n),this.newText.substring(n),this.data)}removeCommonSuffix(t){let r=this.range.substring(t),n=Eft(r,this.newText);return n===0?this:e.replaceWithData(this.range.deltaEnd(-n),this.newText.substring(0,this.newText.length-n),this.data)}isNeutral(){return this.newText.length===0&&this.range.length===0}mapData(t){return new e(this.range,this.newText,t(this.data))}};function bft(e,t){let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];)r++;return r}o(bft,"commonPrefixLength");function Eft(e,t){let r=0;for(;r<e.length&&r<t.length&&e[e.length-1-r]===t[t.length-1-r];)r++;return r}o(Eft,"commonSuffixLength");var ff=class e{constructor(t,r){this.base=t;this.edit=r}static{o(this,"RootedEdit")}getEditedState(){return this.base.apply(this.edit)}rebase(t){return A5(()=>null.base.equals(this.base.apply(t))),A5(()=>null.base.apply(null.edit).equals(this.base.apply(t).apply(this.edit))),null}toString(){return Vp.fromEdit(this).toString()}normalize(){return new e(this.base,this.edit.normalizeOnSource(this.base.value))}equals(t){return this.base.equals(t.base)&&this.edit.equals(t.edit)}},qM=class e{constructor(t){this.edits=t}static{o(this,"SingleEdits")}static{this.empty=new e([])}compose(){return As.compose(this.edits.map(t=>t.toEdit()))}apply(t){return this.compose().apply(t)}isEmpty(){return this.edits.length===0}toEdits(){return new $p(this.edits.map(t=>t.toEdit()))}},$p=class e{constructor(t){this.edits=t}static{o(this,"Edits")}static{this.empty=new e([])}static single(t){return new e([t])}compose(){return As.compose(this.edits)}add(t){return new e([...this.edits,t])}apply(t){return this.compose().apply(t)}isEmpty(){return this.edits.length===0}swap(t){let r=t,n=[];for(let i of this.edits){let s=As.trySwap(r,i);if(!s)return;n.push(s.e1),r=s.e2}return{edits:new e(n),editLast:r}}mapData(t){return new e(this.edits.map(r=>r.mapData(t)))}serialize(){return this.edits.map(t=>t.serialize())}static deserialize(t){return new e(t.map(r=>As.deserialize(r)))}toHumanReadablePatch(t){let r=t,n=[];for(let i of this.edits){let s=Ns.fromEdit(new ff(r,i));n.push(s.humanReadablePatch(r.getLines())),r=r.apply(i)}return n.join(`
---
`)}};d();var c8=class extends Hp{constructor(r,n=!1){super();this._openDocuments=ih(this,[]);this.openDocuments=this._openDocuments;this._documents=new Map;this._started=!1;this.ctx=r,this._started=!1,n||this.start()}static{o(this,"ObservableLspWorkspace")}start(){if(this._started)return;this._started=!0;let r=this.ctx.get(Hr);for(let n of r.getTextDocumentsUnsafe())n&&this.addLspDocument(n.uri,n.clientLanguageId,n.getText());r.onDidOpenTextDocument(async n=>{this.addLspDocument(n.document.uri,n.document.languageId,n.document.text)}),r.onDidCloseTextDocument(async n=>{this.removeClosedLspDocument(n.document.uri)}),r.onDidChangeTextDocument(async n=>{this.onDidChangeLspDocument(n.document.uri,n.contentChanges)})}addLspDocument(r,n,i){let s=Rd.create(r);return this.addDocument({id:s,initialValue:i,languageId:ex.create(n)},void 0)}onDidChangeLspDocument(r,n){let i=Rd.create(r),s=this._documents.get(i);s&&s.applyLspContentChanges(n)}onUserPositionChange(r,n){let i=Rd.create(r),s=this._documents.get(i);s&&s.updateSelectionFromLspPosition(n)}removeClosedLspDocument(r){let n=Rd.create(r);this._documents.get(n)?.dispose()}addDocument(r,n=void 0){let i=this._documents.get(r.id);if(i)return i;let s=new Yte(r.id,new Sl(r.initialValue??""),[],r.languageId??ex.PlainText,()=>{this._documents.delete(r.id);let a=this._openDocuments.get(),l=a.filter(c=>c.id!==s.id);l.length!==a.length&&this._openDocuments.set(l,n,{added:[],removed:[s]})},r.workspaceRoot);return this._documents.set(r.id,s),this._openDocuments.set([...this._openDocuments.get(),s],n,{added:[s],removed:[]}),s}async getDocument(r){if(await this.ctx.get(Hr).getTextDocument(r))return this._documents.get(r)}clear(){this._openDocuments.set([],void 0,{added:[],removed:this._openDocuments.get()});for(let r of this._documents.values())r.dispose();this._documents.clear()}getWorkspaceRoot(r){return this._documents.get(r)?.workspaceRoot}},Yte=class extends FM{static{o(this,"MutableObservableLspDocument")}constructor(t,r,n,i,s,a){super(t,r,n,i,s,a)}applyLspContentChanges(t){let r=this.editFromLspContentChanges(t);this.applyEdit(r.compose(),void 0)}updateSelectionFromLspPosition(t){let r=this.value.get().getTransformer().getOffset(new Ao(t.lineNumber+1,t.column+1));this.updateSelection([new Wr(r,r)])}editFromLspContentChanges(t){return new $p(t.map(n=>this.editFromLspContentChange(n)))}editFromLspContentChange(t){if(HIe.TextDocumentContentChangeEvent.isIncremental(t)){let r=this.value.get().getTransformer(),n=r.getOffset(new Ao(t.range.start.line+1,t.range.start.character+1)),i=r.getOffset(new Ao(t.range.end.line+1,t.range.end.character+1));return As.replace(new Wr(n,i),t.text)}throw new Error("Full replacement edits are not supported")}};d();d();function jIe(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)&&!(e instanceof RegExp)&&!(e instanceof Date)}o(jIe,"isObject");function WM(e,t){if(!e)throw new Error(t?`Unexpected type, expected '${t}'`:"Unexpected type")}o(WM,"assertType");d();d();d();var ix=0;function GM(e){return e===0}o(GM,"lengthIsZero");var df=2**26;function u8(e,t){return e*df+t}o(u8,"toLength");function sA(e){let t=e,r=Math.floor(t/df),n=t-r*df;return new uf(r,n)}o(sA,"lengthToObj");function B_(e,t){let r=e+t;return t>=df&&(r=r-e%df),r}o(B_,"lengthAdd");function VIe(e,t){return e.reduce((r,n)=>B_(r,t(n)),ix)}o(VIe,"sumLengths");function Kte(e,t){return e===t}o(Kte,"lengthEquals");function D_(e,t){let r=e,n=t;if(n-r<=0)return ix;let s=Math.floor(r/df),a=Math.floor(n/df),l=n-a*df;if(s===a){let c=r-s*df;return u8(0,l-c)}else return u8(a-s,l)}o(D_,"lengthDiffNonNegative");function $Ie(e,t){let r=e,n=Math.floor(r/df),i=r-n*df,s=t,a=Math.floor(s/df),l=s-a*df;return new yi(n+1,i+1,a+1,l+1)}o($Ie,"lengthsToRange");d();var f8=class{constructor(t,r,n){this.startOffset=t;this.endOffset=r;this.newLength=n}static{o(this,"TextEditInfo")}toString(){return`[${sA(this.startOffset)}...${sA(this.endOffset)}) -> ${sA(this.newLength)}`}};function YIe(e,t){if(e.length===0)return t;if(t.length===0)return e;let r=new dM(zIe(e)),n=zIe(t);n.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let i=r.dequeue();function s(u){if(u===void 0){let m=r.takeWhile(h=>!0)||[];return i&&m.unshift(i),m}let f=[];for(;i&&!GM(u);){let[m,h]=i.splitAt(u);f.push(m),u=D_(m.lengthAfter,u),i=h??r.dequeue()}return GM(u)||f.push(new P_(!1,u,u)),f}o(s,"nextS0ToS1MapWithS1LengthOf");let a=[];function l(u,f,m){if(a.length>0&&Kte(a[a.length-1].endOffset,u)){let h=a[a.length-1];a[a.length-1]=new f8(h.startOffset,f,B_(h.newLength,m))}else a.push({startOffset:u,endOffset:f,newLength:m})}o(l,"pushEdit");let c=ix;for(let u of n){let f=s(u.lengthBefore);if(u.modified){let m=VIe(f,p=>p.lengthBefore),h=B_(c,m);l(c,h,u.lengthAfter),c=h}else for(let m of f){let h=c;c=B_(c,m.lengthBefore),m.modified&&l(h,c,m.lengthAfter)}}return a}o(YIe,"combineTextEditInfos");var P_=class e{constructor(t,r,n){this.modified=t;this.lengthBefore=r;this.lengthAfter=n}static{o(this,"LengthMapping")}splitAt(t){let r=D_(t,this.lengthAfter);return Kte(r,ix)?[this,void 0]:this.modified?[new e(this.modified,this.lengthBefore,t),new e(this.modified,ix,r)]:[new e(this.modified,t,t),new e(this.modified,r,r)]}toString(){return`${this.modified?"M":"U"}:${sA(this.lengthBefore)} -> ${sA(this.lengthAfter)}`}};function zIe(e){let t=[],r=ix;for(let n of e){let i=D_(r,n.startOffset);GM(i)||t.push(new P_(!1,i,i));let s=D_(n.startOffset,n.endOffset);t.push(new P_(!0,s,n.newLength)),r=n.endOffset}return t}o(zIe,"toLengthMapping");var F_=class e{constructor(t){this.edits=t}static{o(this,"TextLengthEdit")}static{this.empty=new e([])}static fromTextEdit(t){let r=t.edits.map(n=>new HM(n.range,uf.ofText(n.newText)));return new e(r)}static _fromTextEditInfo(t){let r=t.map(n=>{let i=sA(n.newLength);return new HM($Ie(n.startOffset,n.endOffset),new uf(i.lineCount,i.columnCount))});return new e(r)}_toTextEditInfo(){return this.edits.map(t=>new f8(u8(t.range.startLineNumber-1,t.range.startColumn-1),u8(t.range.endLineNumber-1,t.range.endColumn-1),u8(t.newLength.lineCount,t.newLength.columnCount)))}compose(t){let r=this._toTextEditInfo(),n=t._toTextEditInfo(),i=YIe(r,n);return e._fromTextEditInfo(i)}getRange(){if(this.edits.length!==0)return yi.fromPositions(this.edits[0].range.getStartPosition(),this.edits.at(-1).range.getEndPosition())}toString(){return`[${this.edits.join(", ")}]`}},HM=class{constructor(t,r){this.range=t;this.newLength=r}static{o(this,"SingleTextEditLength")}toString(){return`{ range: ${this.range}, newLength: ${this.newLength} }`}};d();function d8(e,t,r){let n=new Map(Object.entries(t).map(([i,s])=>[s,i]));return TM({owner:e,createEmptyChangeSummary:o(()=>({}),"createEmptyChangeSummary"),handleChange:o((i,s)=>{let a=n.get(i.changedObservable);return s[a]===void 0&&(s[a]={value:void 0,changes:[]}),s[a].changes.push(i.change),!0},"handleChange")},(i,s)=>{for(let[a,l]of Object.entries(t)){let c=l.read(i);s[a]===void 0&&(s[a]={value:c,changes:[]}),s[a].value=c}r(s)})}o(d8,"autorunWithChanges");d();var jM=class{constructor(t){this.documents=t;iu(t.length>0)}static{o(this,"HistoryContext")}getMostRecentDocument(){return this.documents.at(-1)}getDocument(t){return this.documents.find(r=>r.docId===t)}getDocumentAndIdx(t){let r=this.documents.findIndex(n=>n.docId.uri===t.uri);if(r!==-1)return{doc:this.documents[r],idx:r}}},VM=class{constructor(t,r,n,i,s){this.docId=t;this.languageId=r;this.base=n;this.lastEdits=i;this.lastSelection=s;this.lastEdit=new ff(this.base,this.lastEdits.compose())}static{o(this,"DocumentHistory")}};d();var $M=class extends Ia{constructor(){super();this.branch=ih("branchName",void 0);this._register(Lte((r,n)=>{this.init(n)}))}static{o(this,"ObservableGitStub")}async init(r){}};var m8=class extends Ia{constructor(r,n=!1){super();this._documentState=new Map;this._lastDocuments=new Zte(50);this.workspace=r,this._lastGitCheckout=void 0,this._started=!1,n||this.start()}static{o(this,"NesHistoryContextProvider")}start(){if(this._started)return;this._started=!0;let r=new $M;this._register(Z4(n=>{n.readObservable(r.branch)!==void 0&&(this._lastGitCheckout=a8(),this._documentState.forEach(s=>s.applyAllEdits()))})),X1(this,this.workspace.openDocuments,(n,i)=>{let s=n.selection.get().at(0),a=new Jte(n.id,n.value.get().value,n.languageId.get(),s);this._documentState.set(a.docId,a),s&&this._lastDocuments.push(a),i.add(d8(this,{value:n.value,selection:n.selection,languageId:n.languageId},l=>{l.languageId.changes.length>0&&(a.languageId=l.languageId.value);let c=this._isAwaitingGitCheckoutCooldown();for(let u of l.value.changes)this._lastDocuments.push(a),a.handleEdit(u,c);l.selection.changes.length>0&&(a.handleSelection(l.selection.value.at(0)),this._lastDocuments.push(a))})),i.add(Ta(()=>{let l=this._documentState.get(n.id);l&&this._lastDocuments.remove(l),this._documentState.delete(n.id)}))},n=>n.id).recomputeInitiallyAndOnChange(this._store)}async getHistoryContext(r,n=5,i=100){let s=this._documentState.get(r);if(!s||!this._lastDocuments.has(s)||!await this.workspace.getDocument(r))return;let a=[],l=!1;for(let c of this._lastDocuments.getItemsReversed()){let u=c.getRecentEdit(n,i);if(u!==void 0){if(u.editCount===0&&l)break;if(await this.workspace.getDocument(c.docId)&&(c.docId===r&&(l=!0),a.push(u.history),n-=u.editCount,n<=0))break}}if(a.reverse(),!!a.some(c=>c.docId===r))return new jM(a)}_isAwaitingGitCheckoutCooldown(){if(!this._lastGitCheckout)return!1;let r=a8()-this._lastGitCheckout<2*1e3;return r||(this._lastGitCheckout=void 0),r}getRecentDocumentUris(){return this._lastDocuments.getItems().map(r=>r.docId.uri)}},Jte=class e{constructor(t,r,n,i){this.docId=t;this.languageId=n;this._edits=[];this._isUserDocument=!1;this._baseValue=new Sl(r),this._currentValue=this._baseValue,this.handleSelection(i)}static{o(this,"DocumentState")}static{this.MAX_EDITED_LINES_PER_EDIT=10}static{this.MAX_EDITED_CHARS_PER_EDIT=5e3}getSelection(){return this._selection}handleSelection(t){t&&(this._isUserDocument=!0),this._selection=t}handleEdit(t,r){if(t.isEmpty())return;this._currentValue=this._currentValue.apply(t);let n=l8.fromEdit(t,this._currentValue),i=F_.fromTextEdit(n);if(r){this._baseValue=this._currentValue,this._edits=[];return}function s(l){return zM(l.edits,c=>c.newText.length)}o(s,"editInsertSize");let a=this._edits.at(-1);a&&s(a.edit)<200&&Ift(t,a.edit)?(a.edit=a.edit.compose(t),a.textLengthEdit=a.textLengthEdit.compose(i),a.instant=a8(),a.edit.isEmpty()&&this._edits.pop()):this._edits.push({edit:t,textLengthEdit:i,instant:a8()})}getRecentEdit(t,r){if(!this._isUserDocument)return;let{editCount:n}=this._applyStaleEdits(t,r),i=new $p(this._edits.map(s=>s.edit));return{history:new VM(this.docId,this.languageId,this._baseValue,i,this._selection),editCount:n}}applyAllEdits(){this._baseValue=this._currentValue,this._edits=[]}_applyStaleEdits(t,r){let n=this._currentValue,i=As.empty,s=F_.empty,a,l=0,c=As.empty;for(a=this._edits.length-1;a>=0;a--){let u=this._edits[a];if(a8()-u.instant>10*60*1e3)break;let f=u.textLengthEdit.compose(s),m=f.getRange();WM(m,"we only compose non-empty Edits");let h=m.endLineNumber-m.startLineNumber;if(r>0&&h>r)break;let p=zM(u.textLengthEdit.edits,P=>P.range.endLineNumber-P.range.startLineNumber+P.newLength.lineCount);if(p>e.MAX_EDITED_LINES_PER_EDIT||zM(u.edit.edits,P=>P.newText.length)>e.MAX_EDITED_CHARS_PER_EDIT||zM(u.edit.edits,P=>P.range.length)>e.MAX_EDITED_CHARS_PER_EDIT)break;if(a===this._edits.length-1)c=u.edit;else{let P=As.trySwap(u.edit,c);if(P)c=P.e1;else{if(p>=2)break;c=u.edit.compose(c)}}let v=u.edit.inverseOnString(n.value);n=n.apply(v);let E=u.edit.compose(i),b=Ns.fromEdit(new ff(n,E)),R=new Vp(n,b).removeCommonSuffixPrefixLines().edit.edits.length;if(R>t)break;l=R,i=E,s=f}for(let u=0;u<=a;u++){let f=this._edits[u];this._baseValue=this._baseValue.apply(f.edit)}return this._edits=this._edits.slice(a+1),{editCount:l}}toString(){return new $p(this._edits.map(t=>t.edit)).toHumanReadablePatch(this._baseValue)}};function zM(e,t){let r=0;for(let n of e)r+=t(n);return r}o(zM,"sum");function Ift(e,t){let r=t.getNewRanges();return e.edits.every(n=>Tft(n.range,r))}o(Ift,"editExtends");function Tft(e,t){return t.some(r=>e.start===r.endExclusive||e.endExclusive===r.start)}o(Tft,"doesTouch");var Zte=class{constructor(t){this.maxSize=t;this._arr=[]}static{o(this,"FifoSet")}push(t){let r=this._arr.indexOf(t);r!==-1?this._arr.splice(r,1):this._arr.length>=this.maxSize&&this._arr.shift(),this._arr.push(t)}remove(t){let r=this._arr.indexOf(t);r!==-1&&this._arr.splice(r,1)}getItems(){return this._arr}getItemsReversed(){let t=[...this._arr];return t.reverse(),t}has(t){return this._arr.indexOf(t)!==-1}};d();function KIe(e,t,r){return e.get(Xte).safeStartIfApplicable(t,r)}o(KIe,"startRecentEditsPromptFeatureIfApplicable");var Xte=class{static{o(this,"RecentEditsPromptFeatureLifecycle")}};function wft(e,t,r){return qn(e,St.RecentEditsInPrompt)??t.recentEditsInPrompt(r)}o(wft,"isRecentEditsActive");var ZIe=o((e,t)=>{let r=e.get(Cr);return wft(e,r,t)},"recentEditsPredicate");function JIe(e,t){return Math.abs(e-t)}o(JIe,"lineDistance");function _ft(e,t,r=0,n=!1,i=!1,s=!1,a=!1,l,c,u="diff"){let f=[];if(a&&(l===void 0||c===void 0))throw new Error("cursorLine and distanceLimitFromCursor are required when filterByCursorLine is true");for(let m of e.edits){let h=m.lineRange.startLineNumber-1,p=m.lineRange.endLineNumberExclusive-1,g=t.slice(h,p),x=m.newLines;if(a&&(JIe(h,l)<=c||JIe(p,l)<=c))continue;let v=g.filter(R=>R.trim().length>0),E=x.filter(R=>R.trim().length>0);if(v.length===0&&E.length===0||n&&E.length===0||v.join("").trim()===E.join("").trim())continue;let b=Math.max(0,h-r),_=Math.min(t.length,p+r);if(u==="aiders-diff")f.push(...kft(h,g,x,b,t,p,_));else if(u==="diff")f.push(...Sft(h,g,x,b,t,n,i,s,p,_));else if(u==="find-replace")f.push(...Rft(h,g,x,b,t,p,_));else throw new Error(`Unknown summarization format: ${u}`)}return f}o(_ft,"summarizeEdits");function Sft(e,t,r,n,i,s,a,l,c,u){let f=[];f.push(`@@ -${e+1},${t.length} +${e+1},${r.length} @@`);for(let m=n;m<e;m++)f.push(` ${i[m]}`);a&&f.push(...r.map(m=>`+${m}`)),s||(l?f.push(...t.map(m=>`-${m} --- IGNORE ---`)):f.push(...t.map(m=>`-${m}`))),a||f.push(...r.map(m=>`+${m}`));for(let m=c;m<u;m++)f.push(` ${i[m]}`);return f}o(Sft,"summarizeEditAsDiff");function kft(e,t,r,n,i,s,a){let l=[];l.push(">>>>>>> SEARCH");let c=i.slice(n,e),u=i.slice(s,a);return l.push(...c),l.push(...t),l.push(...u),l.push("======="),l.push(...c),l.push(...r),l.push(...u),l.push("<<<<<<<<< REPLACE"),l}o(kft,"summarizeEditAsAidersDiff");function Rft(e,t,r,n,i,s,a){let l=[],c=i.slice(n,e),u=i.slice(s,a);t=t.map(h=>`${h} --- DO NOT REPLY WITH CODE FROM THIS LINE ---`);let f=[...c,...t,...u],m=[...c,...r,...u];return l.push("--- User edited code: ---"),l.push(...f),t.length===0?l.push(`--- and added ${r.length} line${r.length===1?"":"s"} to make: ---`):r.length===0?l.push(`--- and deleted ${t.length} line${t.length===1?"":"s"} to make: ---`):l.push("--- and replaced it with: ---"),l.push(...m),l.push("--- End of edit ---"),l}o(Rft,"summarizeEditAsFindReplace");var XIe=o((e,t)=>{let[r,n]=t.useState();return t.useData(nu,async i=>{if(!i.document)return;let s=i.telemetryData,a=e.ctx.get(Cr);KIe(e.ctx,s,a);let l=qn(e.ctx,St.RecentEditsMaxFiles)??a.recentEditsMaxFiles(s),c=qn(e.ctx,St.RecentEditsEditCount)??a.recentEditsEditCount(s),u=qn(e.ctx,St.RecentEditsContextLines)??a.recentEditsContextLines(s),f=qn(e.ctx,St.RecentEditsRemoveDeletedLines)??a.recentEditsRemoveDeletedLines(s),m=qn(e.ctx,St.InsertionsBeforeDeletions)??a.recentEditsInsertionsBeforeDeletions(s),h=qn(e.ctx,St.RecentEditsAppendNoReplyMarker)??a.recentEditsAppendNoReplyMarker(s),p=qn(e.ctx,St.RecentEditsMaxLinesBetweenEdits)??a.recentEditsMaxLinesBetweenEdits(s),g=qn(e.ctx,St.RecentEditsActiveDocDistanceLimitFromCursor)??a.recentEditsActiveDocDistanceLimitFromCursor(s),x=qn(e.ctx,St.RecentEditsSummarizationFormat)??a.recentEditsSummarizationFormat(s),v=e.ctx.get(m8),E=e.ctx.get(c8),b=e.ctx.get(Hr),_=v.getRecentDocumentUris(),R=[],P=0;for(let se of _){if(P>=l)break;E.onUserPositionChange(se,new Ao(0,0));let re=(await v.getHistoryContext(zte(se),c,p))?.getDocument(zte(se)),W=re?.base.getLines();if(re&&W){let q=re.lastEdit,oe=Ns.fromEdit(q),X=se===i.document?.uri?0:u,H=se===i.document?.uri,O=H?i.position.line:void 0,V=_ft(oe,W,X,f,m,h,H,O,g,x);if(V.length>0){let J={value:V.join(`
`),relativePathOrUri:b.getRelativePath({uri:se})??se};R.push(J),P++}}}let F=R;if(!F||F.length===0){n(void 0);return}let G=T_("These are recently edited files. Do not suggest code that has been deleted.");for(let se of F)G+=T_(`File: ${se.relativePathOrUri}`),G+=T_(se.value);G+=T_("End of recent edits"),n(G)}),r?Gn(na,{children:r}):void 0},"RecentEdits");d();d();function e8e(e,t){let r=nM(t,"Trait");for(let i of r)Bft(e,i.data,i.providerId);return r.flatMap(i=>i.data).sort((i,s)=>(i.importance??0)-(s.importance??0))}o(e8e,"getTraitsFromContextItems");function Bft(e,t,r){let n=e.get(_l);t.forEach(i=>{n.addExpectations(r,[[i,"included"]])})}o(Bft,"setupExpectationsForTraits");function t8e(e){return e.promptTextOverride?{kind:"string",value:e.promptTextOverride}:{kind:"name-value",name:e.name,value:e.value}}o(t8e,"addKindToRelatedFileTrait");d();d();d();var ere=new In;function r8e(e){return[...e].sort((t,r)=>{let n=ere.get(t.uri)??0;return(ere.get(r.uri)??0)-n})}o(r8e,"sortByAccessTimes");var n8e=o(e=>e.get(Hr).onDidFocusTextDocument(t=>{t&&ere.set(t.document.uri.toString(),Date.now())}),"registerDocumentTracker");var YM=class{constructor(t){this.docManager=t}static{o(this,"OpenTabFiles")}async truncateDocs(t,r,n,i){let s=new Map,a=0;for(let l of t)if(!(a+l.getText().length>ox.MAX_NEIGHBOR_AGGREGATE_LENGTH)&&(l.uri.startsWith("file:")&&r.startsWith("file:")&&l.uri!==r&&KM(n,l.detectedLanguageId)&&(s.set(l.uri.toString(),{uri:l.uri.toString(),relativePath:this.docManager.getRelativePath(l),source:l.getText()}),a+=l.getText().length),s.size>=i))break;return s}async getNeighborFiles(t,r,n){let i=new Map,s=new Map;return i=await this.truncateDocs(r8e(await this.docManager.textDocuments()),t,r,n),s.set("opentabs",Array.from(i.keys()).map(a=>a.toString())),{docs:i,neighborSource:s}}};d();d();function i8e(e,t,r){return async function(...n){return await Promise.race([e.apply(this,n),new Promise(i=>{setTimeout(i,t,r)})])}}o(i8e,"shortCircuit");d();function Pft(...e){return JSON.stringify(e,(t,r)=>typeof r=="object"?r:String(r))}o(Pft,"defaultHash");function tre(e,t={}){let{hash:r=Pft,cache:n=new Map}=t;return function(...i){let s=r.apply(this,i);if(n.has(s))return n.get(s);let a=e.apply(this,i);return a instanceof Promise&&(a=a.catch(l=>{throw n.delete(s),l})),n.set(s,a),a}}o(tre,"memoize");var o8e={entries:[],traits:[]},JM={entries:new Map,traits:[]},rre=class extends In{constructor(r,n=2*60*1e3){super(r);this.defaultEvictionTimeMs=n;this._cacheTimestamps=new Map}static{o(this,"LRUExpirationCacheMap")}bumpRetryCount(r){let n=this._cacheTimestamps.get(r);return n?++n.retryCount:(this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),0)}has(r){return this.isValid(r)?super.has(r):(this.deleteExpiredEntry(r),!1)}get(r){let n=super.get(r);if(this.isValid(r))return n;this.deleteExpiredEntry(r)}set(r,n){let i=super.set(r,n);return this.isValid(r)||this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),i}clear(){super.clear(),this._cacheTimestamps.clear()}isValid(r){let n=this._cacheTimestamps.get(r);return n!==void 0&&Date.now()-n.timestamp<this.defaultEvictionTimeMs}deleteExpiredEntry(r){this._cacheTimestamps.has(r)&&this._cacheTimestamps.delete(r),super.deleteKey(r)}},al=new Vt("relatedFiles"),Fft=1e3,ZM=class extends Error{static{o(this,"RelatedFilesProviderFailure")}constructor(){super("The provider failed providing the list of relatedFiles")}},sx=class e{constructor(t){this.context=t}static{o(this,"RelatedFilesProvider")}async getRelatedFiles(t,r,n){let i=await this.getRelatedFilesResponse(t,r,n);if(i===void 0)return;let s={entries:new Map,traits:i.traits??[]};for(let a of i.entries){let l=s.entries.get(a.type);l||(l=new Map,s.entries.set(a.type,l));for(let c of a.uris)try{al.debug(this.context,`Processing ${c}`);let u=await this.getFileContent(c);if(!u||u.length==0){al.debug(this.context,`Skip ${c} due to empty content or loading issue.`);continue}if(await this.isContentExcluded(c,u)){al.debug(this.context,`Skip ${c} due content exclusion.`);continue}u=e.dropBOM(u),l.set(c,u)}catch(u){al.warn(this.context,u)}}return s}async getFileContent(t){try{return this.context.get(Io).readFileString(t)}catch(r){al.debug(this.context,r)}}async isContentExcluded(t,r){try{return(await this.context.get(Qc).evaluate(t,r)).isBlocked}catch(n){al.exception(this.context,n,"isContentExcluded")}return!0}static dropBOM(t){return t.charCodeAt(0)===65279?t.slice(1):t}},Nft=3,s8e=new rre(Fft);async function a8e(e,t,r,n,i){let s=performance.now(),a;try{a=await i.getRelatedFiles(t,r,n)}catch(c){al.exception(e,c,".getRelatedFiles"),a=void 0}a===void 0&&(s8e.bumpRetryCount(t.uri)>=Nft?a=JM:a=void 0);let l=performance.now()-s;if(al.debug(e,a!==void 0?`Fetched ${[...a.entries.values()].map(c=>c.size).reduce((c,u)=>c+u,0)} related files for '${t.uri}' in ${l}ms.`:`Failing fetching files for '${t.uri}' in ${l}ms.`),a===void 0)throw new ZM;return a}o(a8e,"getRelatedFiles");var nre=tre(a8e,{cache:s8e,hash:o((e,t,r,n,i)=>`${t.uri}`,"hash")});nre=i8e(nre,200,JM);async function l8e(e,t,r,n,i,s=!1){let a=e.get(sx),l=JM;try{let c={uri:t.uri,clientLanguageId:t.clientLanguageId,data:i};l=s?await a8e(e,c,r,n,a):await nre(e,c,r,n,a)}catch(c){l=JM,c instanceof ZM&&jt(e,"getRelatedFilesList",r)}return Qft(e,l.traits,t,r),al.debug(e,l!=null?`Fetched following traits ${l.traits.map(c=>`{${c.name} : ${c.value}}`).join("")} for '${t.uri}'`:`Failing fecthing traits for '${t.uri}'.`),l}o(l8e,"getRelatedFilesAndTraits");var Lft=new Map([["TargetFrameworks","targetFrameworks"],["LanguageVersion","languageVersion"]]);function Qft(e,t,r,n){if(t.length>0){let i={};i.detectedLanguageId=r.detectedLanguageId,i.languageId=r.clientLanguageId;for(let a of t){let l=Lft.get(a.name);l&&(i[l]=a.value)}let s=n.extendedBy(i,{});return jt(e,"related.traits",s)}}o(Qft,"ReportTraitsTelemetry");function KM(e,t){return kw(e)===kw(t)}o(KM,"considerNeighborFile");var ox=class e{static{o(this,"NeighborSource")}static{this.MAX_NEIGHBOR_AGGREGATE_LENGTH=2e5}static{this.MAX_NEIGHBOR_FILES=20}static{this.EXCLUDED_NEIGHBORS=["node_modules","dist","site-packages"]}static defaultEmptyResult(){return{docs:new Map,neighborSource:new Map,traits:[]}}static reset(){e.instance=void 0}static async getNeighborFilesAndTraits(t,r,n,i,s,a,l){let c=t.get(Hr);e.instance===void 0&&(e.instance=new YM(c));let u=Vft(t,n,i),f=Hft(t,i),m=!u||f?{...await e.instance.getNeighborFiles(r,n,e.MAX_NEIGHBOR_FILES),traits:[]}:e.defaultEmptyResult(),h=await c.getTextDocument({uri:r});if(!h)return al.debug(t,"neighborFiles.getNeighborFilesAndTraits",`Failed to get the related files: failed to get the document ${r}`),m;let p=c.getWorkspaceFolder(h);if(!p)return al.debug(t,"neighborFiles.getNeighborFilesAndTraits",`Failed to get the related files: ${r} is not under the workspace folder`),m;let g=await l8e(t,h,i,s,a,l);if(g.entries.size===0)return al.debug(t,"neighborFiles.getNeighborFilesAndTraits",`0 related files found for ${r}`),m.traits.push(...g.traits),m;let x=u?e.defaultEmptyResult():m;return g.entries.forEach((v,E)=>{let b=[];v.forEach((_,R)=>{let P=e.getRelativePath(R,p.uri);if(!P||x.docs.has(R))return;let F={relativePath:P,uri:R,source:_};b.unshift(F),x.docs.set(R,F)}),b.length>0&&x.neighborSource.set(E,b.map(_=>_.uri.toString()))}),x.traits.push(...g.traits),x}static basename(t){return decodeURIComponent(t.replace(/[#?].*$/,"").replace(/^.*[/:]/,""))}static getRelativePath(t,r){let n=r.toString().replace(/[#?].*/,"").replace(/\/?$/,"/");return t.toString().startsWith(n)?t.toString().slice(n.length):e.basename(t)}},Mft=["cpp","c"],Oft=["typescript","javascript","typescriptreact","javascriptreact"],Uft=["csharp"];function qft(e,t){return e.get(Cr).excludeOpenTabFilesCSharp(t)||qn(e,St.ExcludeOpenTabFilesCSharp)}o(qft,"isExcludeOpenTabFilesCSharpActive");function Wft(e,t){return e.get(Cr).excludeOpenTabFilesCpp(t)||qn(e,St.ExcludeOpenTabFilesCpp)}o(Wft,"isExcludeOpenTabFilesCppActive");function Gft(e,t){return e.get(Cr).excludeOpenTabFilesTypeScript(t)||qn(e,St.ExcludeOpenTabFilesTypeScript)}o(Gft,"isExcludeOpenTabFilesTypeScriptActive");function Hft(e,t){return e.get(Cr).fallbackToOpenTabFilesWithNoRelatedFiles(t)||qn(e,St.FallbackToOpenTabFilesWithNoRelatedFiles)}o(Hft,"isFallbackToOpenTabFilesActive");var jft=new Map([...Mft.map(e=>[e,Wft]),...Oft.map(e=>[e,Gft]),...Uft.map(e=>[e,qft])]);function Vft(e,t,r){let n=jft.get(t);return n?n(e,r):!1}o(Vft,"isExcludeOpenTabFilesActive");function c8e(e,t){return e.get(Cr).includeNeighboringFiles(t)||qn(e,St.IncludeNeighboringFiles)}o(c8e,"isIncludeNeighborFilesActive");var u8e=o((e,t)=>{let[r,n]=t.useState(),[i,s]=t.useState([]),[a,l]=t.useState();t.useData(nu,async m=>{m.document.uri!==r?.uri&&s([]),n(m.document);let h=m.turnOffSimilarFiles?ox.defaultEmptyResult():await ox.getNeighborFilesAndTraits(e.ctx,m.document.uri,m.document.detectedLanguageId,m.telemetryData,m.cancellationToken,m.data),p=await c(m.telemetryData,m.document,m,h);s(p);let g=h.traits.filter(x=>x.includeInPrompt).map(t8e);l(f(g,m.document))});async function c(m,h,p,g){let x=XM(e.ctx,m,h.detectedLanguageId);return(await u(x,m,h,p,g)).filter(E=>E.snippet.length>0).sort((E,b)=>E.score-b.score).map(E=>({text:i3e(E,h.detectedLanguageId),score:E.score}))}o(c,"produceSimilarFiles");async function u(m,h,p,g,x){let v=m.similarFilesOptions||eM(e.ctx,h,p.detectedLanguageId),b=e.ctx.get(Hr).getRelativePath(p),_={uri:p.uri,source:p.getText(),offset:p.offsetAt(g.position),relativePath:b,languageId:p.detectedLanguageId};return await m3e(_,Array.from(x.docs.values()),v)}o(u,"findSimilarSnippets");function f(m,h){if(m.length>0&&h!==void 0)return`Consider this related information:
`+m.map(p=>p.kind==="string"?p.value:`${p.name}: ${p.value}`).join(`
`)}return o(f,"produceTraitsText"),Gn(J1,{children:[a!==void 0?Gn(na,{children:a}):void 0,...i.map((m,h)=>Gn($ft,{text:m.text}))]})},"SimilarFiles"),$ft=o((e,t)=>Gn(na,{children:e.text}),"SimilarFile");d();var f8e=o((e,t)=>{let[r,n]=t.useState(),[i,s]=t.useState();if(t.useData(nu,a=>{a.traits!==r&&n(a.traits);let l=kw(a.document.detectedLanguageId);l!==i&&s(l)}),!(!r||r.length===0||!i))return Gn(J1,{children:[Gn(na,{children:`Consider this related information:
`}),...r.map(a=>Gn(na,{source:a,children:`${a.name}: ${a.value}`},a.id))]})},"Traits");d();d();function eO(e,t,r){try{let n=e.get(Cr).cppContextProviderParams(r);if(n){let i=JSON.parse(n);for(let[s,a]of Object.entries(i))t.set(s,a)}}catch(n){return Jn.debug(e,"Failed to get the active C++ experiments for the Context Provider API",n),!1}return!0}o(eO,"fillInCppActiveExperiments");var d8e=et(ti());var ll=class{static{o(this,"ContextProviderRegistry")}},ire=class extends ll{constructor(r,n){super();this.ctx=r;this.match=n;this._providers=[]}static{o(this,"CoreContextProviderRegistry")}registerContextProvider(r){if(r.id.includes(",")||r.id.includes("*"))throw new Error(`A context provider id cannot contain a comma or an asterisk. The id ${r.id} is invalid.`);if(this._providers.find(n=>n.id===r.id))throw new Error(`A context provider with id ${r.id} has already been registered`);this._providers.push(r)}unregisterContextProvider(r){this._providers=this._providers.filter(n=>n.id!==r)}get providers(){return this._providers.slice()}async resolveAllProviders(r,n,i,s){if(i?.isCancellationRequested)return Jn.debug(this.ctx,"Resolving context providers cancelled"),[];let a=new Map;eO(this.ctx,a,n);let l=[];if(this._providers.length===0)return l;let c=await this.matchProviders(r,n),u=c.filter(p=>p[1]>0);if(c.filter(p=>p[1]<=0).forEach(([p,g])=>{let x={providerId:p.id,matchScore:g,resolution:"none",resolutionTimeMs:0,data:[]};l.push(x)}),u.length===0)return l;if(i?.isCancellationRequested)return Jn.debug(this.ctx,"Resolving context providers cancelled"),[];let m=eI(this.ctx)&&!NF(this.ctx)?0:qn(this.ctx,St.ContextProviderTimeBudget),h=u.length>0?m/u.length:m;for(let[p,g]of u){let x={completionId:p8e(n),documentContext:r,activeExperiments:a,timeBudget:h,data:s},v=this.ctx.get(_l).pop(p.id);v&&(x.previousUsageStatistics=v);let E=new d8e.CancellationTokenSource;i?.onCancellationRequested(W=>{E.cancel()});let b=performance.now(),_=p.resolver.resolve(x,E.token),[R,P]=await zft(this.ctx,_,x,p,E),F=performance.now();this.ctx.get(_l).setLastResolution(p.id,P);let[G,se]=IEe(R);se&&Jn.error(this.ctx,`Dropped ${se} context items from ${p.id} due to invalid schema`);let Ae=TEe(this.ctx,G),re={providerId:p.id,matchScore:g,resolution:P,resolutionTimeMs:F-b,data:Ae};l.push(re)}return l.sort((p,g)=>g.matchScore-p.matchScore)}async matchProviders(r,n){let i=rO(this.ctx,n),s=i.length===1&&i[0]==="*";return await Promise.all(this._providers.map(async l=>{if(!s&&!i.includes(l.id))return[l,0];let c=await this.match(this.ctx,l.selector,r);return[l,c]}))}},ore=class extends ll{constructor(r){super();this.delegate=r;this._cachedContextItems=new In(5)}static{o(this,"CachedContextProviderRegistry")}registerContextProvider(r){this.delegate.registerContextProvider(r)}unregisterContextProvider(r){this.delegate.unregisterContextProvider(r)}get providers(){return this.delegate.providers}async resolveAllProviders(r,n,i,s){let a=p8e(n),l=this._cachedContextItems.get(a);if(a&&l&&l.length>0)return l;let c=await this.delegate.resolveAllProviders(r,n,i,s);return c.length>0&&a&&this._cachedContextItems.set(a,c),c}};function m8e(e){return e>0?z4(e,null):new Promise(()=>{})}o(m8e,"nullTimeout");async function zft(e,t,r,n,i){let s=[],a;return t instanceof Promise?[s,a]=await Yft(e,t,r,n,i):[s,a]=await Kft(e,t,r,n,i),[s,a]}o(zft,"extractDataFromPendingContextItem");async function Yft(e,t,r,n,i){let s=[],a,l=m8e(r.timeBudget);try{let c=await Promise.race([t,l]);c===null?(a="none",i.cancel(),Jn.info(e,`Context provider ${n.id} exceeded time budget of ${r.timeBudget}ms`)):(a="full",Array.isArray(c)?s.push(...c):s.push(c))}catch(c){return Dw(c)||Jn.error(e,`Error resolving context from ${n.id}: `,c),i.cancel(),[[],"error"]}return[s,a]}o(Yft,"handlePromiseContextItem");async function Kft(e,t,r,n,i){let s=[],a,l=m8e(r.timeBudget),c=(async()=>{for await(let u of t)s.push(u);return s})();try{await Promise.race([c,l])===null?(a=s.length>0?"partial":"none",i.cancel(),Jn.info(e,`Context provider ${n.id} exceeded time budget of ${r.timeBudget}ms`)):a="full"}catch(u){return Dw(u)||Jn.error(e,`Error resolving context from ${n.id}: `,u),i.cancel(),[[],"error"]}return[s,a]}o(Kft,"handleAsyncIteratorContextItem");function tO(e,t){return new ore(new ire(e,t))}o(tO,"getContextProviderRegistry");function h8e(e,t){let r=e.get(_l);return t.map(i=>{let{providerId:s,resolution:a,resolutionTimeMs:l,matchScore:c,data:u}=i,f=r.get(s),m=f?.usage??"none";(c<=0||a==="none"||a==="error")&&(m="none");let h={providerId:s,resolution:a,resolutionTimeMs:l,usage:m,usageDetails:f?.usageDetails,matched:c>0,numResolvedItems:u.length},p=f?.usageDetails!==void 0?f?.usageDetails.filter(x=>x.usage==="full"||x.usage==="partial"||x.usage==="partial_content_excluded").length:void 0,g=f?.usageDetails!==void 0?f?.usageDetails.filter(x=>x.usage==="partial"||x.usage==="partial_content_excluded").length:void 0;return p!==void 0&&(h.numUsedItems=p),g!==void 0&&(h.numPartiallyUsedItems=g),h})}o(h8e,"telemetrizeContextItems");function p8e(e){return e.properties.headerRequestId}o(p8e,"extractCompletionId");function g8e(e){return e.matchScore>0&&e.resolution!=="error"}o(g8e,"matchContextItems");function rO(e,t){if(eI(e))return["*"];let r=sre(e,t),n=qn(e,St.ContextProviders)??[];return r.length===1&&r[0]==="*"||n.length===1&&n[0]==="*"?["*"]:Array.from(new Set([...r,...n]))}o(rO,"getActiveContextProviders");function sre(e,t){return eI(e)?["*"]:e.get(Cr).contextProviders(t)}o(sre,"getExpContextProviders");function are(e,t){return rO(e,t).length>0}o(are,"useContextProviderAPI");d();d();d();var nO=class{constructor(t){this.states=t;this.currentIndex=0;this.stateChanged=!1}static{o(this,"UseState")}useState(t){let r=this.currentIndex;if(this.states[r]===void 0){let i=typeof t=="function"?t():t;this.states[r]=i}let n=o(i=>{let s=typeof i=="function"?i(this.states[r]):i;this.states[r]=s,this.stateChanged=!0},"setState");return this.currentIndex++,[this.states[r],n]}hasChanged(){return this.stateChanged}},iO=class{constructor(t){this.measureUpdateTime=t;this.consumers=[]}static{o(this,"UseData")}useData(t,r){this.consumers.push(n=>{if(t(n))return r(n)})}async updateData(t){if(this.consumers.length>0){let r=performance.now();for(let n of this.consumers)await n(t);this.measureUpdateTime(performance.now()-r)}}};var oO=class{constructor(t){this.lifecycleData=new Map;this.vTree=this.virtualizeElement(t,"$",0)}static{o(this,"VirtualPromptReconciler")}reconcile(t){if(!this.vTree)throw new Error("No tree to reconcile, make sure to pass a valid prompt");return t?.isCancellationRequested?this.vTree:(this.vTree=this.reconcileNode(this.vTree,"$",0,t),this.vTree)}reconcileNode(t,r,n,i){if(!t.children&&!t.lifecycle)return t;let s=t;if(t.lifecycle?.isRemountRequired()){let l=this.collectChildPaths(t);s=this.virtualizeElement(t.component,r,n);let c=this.collectChildPaths(s);this.cleanupState(l,c)}else if(t.children){let l=[];for(let c=0;c<t.children.length;c++){let u=t.children[c];if(u){let f=this.reconcileNode(u,t.path,c,i);f!==void 0&&l.push(f)}}s.children=l}return s}virtualizeElement(t,r,n){if(!(typeof t>"u")){if(typeof t=="string"||typeof t=="number")return{name:typeof t,path:`${r}[${n}]`,props:{value:t},component:t};if(Jft(t.type)){let i=t.type(t.props.children),s=r!=="$"?`[${n}]`:"",a=`${r}${s}.${i.type}`,l=i.children.map((c,u)=>this.virtualizeElement(c,a,u));return this.ensureUniqueKeys(l),{name:i.type,path:a,children:l.flat().filter(c=>c!==void 0),component:t}}return this.virtualizeFunctionComponent(r,n,t,t.type)}}virtualizeFunctionComponent(t,r,n,i){let s=n.props.key?`["${n.props.key}"]`:`[${r}]`,a=`${t}${s}.${i.name}`,l=new cre(this.getOrCreateLifecycleData(a)),c=i(n.props,l),m=(Array.isArray(c)?c:[c]).map((h,p)=>this.virtualizeElement(h,a,p)).flat().filter(h=>h!==void 0);return this.ensureUniqueKeys(m),{name:i.name,path:a,props:n.props,children:m,component:n,lifecycle:l}}ensureUniqueKeys(t){let r=new Map;for(let i of t){if(!i)continue;let s=i.props?.key;s&&r.set(s,(r.get(s)||0)+1)}let n=Array.from(r.entries()).filter(([i,s])=>s>1).map(([i])=>i);if(n.length>0)throw new Error(`Duplicate keys found: ${n.join(", ")}`)}collectChildPaths(t){let r=[];if(t?.children)for(let n of t.children)n&&(r.push(n.path),r.push(...this.collectChildPaths(n)));return r}cleanupState(t,r){for(let n of t)r.includes(n)||this.lifecycleData.delete(n)}getOrCreateLifecycleData(t){return this.lifecycleData.has(t)||this.lifecycleData.set(t,new lre([])),this.lifecycleData.get(t)}createPipe(){return{pump:o(async t=>{await this.pumpData(t)},"pump")}}async pumpData(t){if(!this.vTree)throw new Error("No tree to pump data into. Pumping data before initializing?");await this.recursivelyPumpData(t,this.vTree)}async recursivelyPumpData(t,r){if(!r)throw new Error("Can't pump data into undefined node.");await r.lifecycle?.dataHook.updateData(t);for(let n of r.children||[])await this.recursivelyPumpData(t,n)}},lre=class{static{o(this,"PromptElementLifecycleData")}constructor(t){this.state=t,this._updateTimeMs=0}getUpdateTimeMsAndReset(){let t=this._updateTimeMs;return this._updateTimeMs=0,t}},cre=class{constructor(t){this.lifecycleData=t;this.stateHook=new nO(t.state),this.dataHook=new iO(r=>{t._updateTimeMs=r})}static{o(this,"PromptElementLifecycle")}useState(t){return this.stateHook.useState(t)}useData(t,r){this.dataHook.useData(t,r)}isRemountRequired(){return this.stateHook.hasChanged()}};function Jft(e){return typeof e=="function"&&"isFragmentFunction"in e}o(Jft,"isFragmentFunction");var sO=class{static{o(this,"VirtualPrompt")}constructor(t){this.reconciler=new oO(t)}snapshotNode(t,r){if(!t)return;if(r?.isCancellationRequested)return"cancelled";let n=[];for(let i of t.children??[]){let s=this.snapshotNode(i,r);if(s==="cancelled")return"cancelled";s!==void 0&&n.push(s)}return{value:t.props?.value?.toString(),name:t.name,path:t.path,props:t.props,children:n,statistics:{updateDataTimeMs:t.lifecycle?.lifecycleData.getUpdateTimeMsAndReset()}}}snapshot(t){try{let r=this.reconciler.reconcile(t);if(t?.isCancellationRequested)return{snapshot:void 0,status:"cancelled"};if(!r)throw new Error("Invalid virtual prompt tree");let n=this.snapshotNode(r,t);return n==="cancelled"||t?.isCancellationRequested?{snapshot:void 0,status:"cancelled"}:{snapshot:n,status:"ok"}}catch(r){return{snapshot:void 0,status:"error",error:r}}}createPipe(){return this.reconciler.createPipe()}};var sh=class{static{o(this,"CompletionsPromptFactory")}};function aO(e,t){return new ure(new fre(new dre(e,t)))}o(aO,"createCompletionsPromptFactory");var ure=class extends sh{constructor(r){super();this.delegate=r}static{o(this,"SequentialCompletionsPromptFactory")}prompt(r,n){return this.lastPromise=this.promptAsync(r,n),this.lastPromise}async promptAsync(r,n){if(await this.lastPromise,n?.isCancellationRequested)return h8;try{return await this.delegate.prompt(r,n)}catch{return mre}}},Zft=1200,fre=class extends sh{constructor(r){super();this.delegate=r}static{o(this,"TimeoutHandlingCompletionsPromptFactory")}async prompt(r,n){let i=new Vn.CancellationTokenSource,s=i.token;return n?.onCancellationRequested(()=>{i.cancel()}),await Promise.race([this.delegate.prompt(r,s),new Promise(a=>{setTimeout(()=>{i.cancel(),a(v8e)},Zft)})])}};function nu(e){if(!e||typeof e!="object")return!1;let t=e;return!(!t.document||!t.position||t.position.line===void 0||t.position.character===void 0||!t.telemetryData)}o(nu,"isCompletionRequestData");var dre=class extends sh{constructor(r,n){super();this.ctx=r;this.renderer=new lM;this.virtualPrompt=n}static{o(this,"ComponentsCompletionsPromptFactory")}async prompt(r,n){try{return await this.createPromptUnsafe(r,n)}catch(i){return this.errorPrompt(i)}}async createPromptUnsafe({textDocument:r,position:n,telemetryData:i,promptOpts:s},a){let{maxPromptLength:l,suffixPercent:c,suffixMatchThreshold:u}=XM(this.ctx,i,r.detectedLanguageId),f=await this.failFastPrompt(r,n,c??0,a);if(f)return f;let{virtualPrompt:m,pipe:h}=this.getOrCreateVirtualPrompt(),p=performance.now(),{traits:g,codeSnippets:x,turnOffSimilarFiles:v,resolvedContextItems:E}=await this.resolveContext(r,n,i,a,s);if(await this.updateComponentData(h,r,n,g,x,i,v,l??Sw,a,s,u),a?.isCancellationRequested)return h8;let b=m.snapshot(a),_=b.status;if(_==="cancelled")return h8;if(_==="error")return this.errorPrompt(b.error);let R=this.renderer.render(b.snapshot,{delimiter:`
`,tokenizer:go(),promptTokenLimit:l??Sw,suffixPercent:c??WN,separateContext:s?.separateContext??!1,languageId:r.detectedLanguageId},a);if(R.status==="cancelled")return h8;if(R.status==="error")return this.errorPrompt(R.error);let[P,F]=p8(R.prefix),G={...R,prefix:P},se;if(are(this.ctx,i)){let re=yEe(R.metadata.componentStatistics);this.ctx.get(_l).computeMatch(re),se=h8e(this.ctx,E),Jn.debug(this.ctx,`Context providers telemetry: '${JSON.stringify(se)}'`)}let Ae=performance.now();return this.resetIfEmpty(R),this.successPrompt(G,Ae,p,F,se)}async updateComponentData(r,n,i,s,a,l,c,u,f,m={},h){let p=this.createRequestData(n,i,l,f,m,u,s,a,c,h);await r.pump(p)}async resolveContext(r,n,i,s,a={}){let l=[],c,u,f=!1;if(are(this.ctx,i)){l=await this.ctx.get(ll).resolveAllProviders({uri:r.uri,languageId:r.clientLanguageId,version:r.version,offset:r.offsetAt(n),position:a.positionBeforeApplyingEdits??n,proposedEdits:r.appliedEdits.length>0?r.appliedEdits:void 0},i,s,a.data);let h=l.filter(g8e);!c8e(this.ctx,i)&&h.length>0&&(f=!0),c=e8e(this.ctx,h),u=await wEe(this.ctx,h,r.detectedLanguageId)}return{traits:c,codeSnippets:u,turnOffSimilarFiles:f,resolvedContextItems:l}}async failFastPrompt(r,n,i,s){if(s?.isCancellationRequested)return h8;if((await this.ctx.get(Qc).evaluate(r.uri,r.getText(),"UPDATE")).isBlocked)return x8e;if((i>0?r.getText().length:r.offsetAt(n))<y8e)return C8e}getOrCreateVirtualPrompt(){return this.virtualPrompt||(this.virtualPrompt=new sO(this.completionsPrompt())),this.pipe||(this.pipe=this.virtualPrompt.createPipe()),{virtualPrompt:this.virtualPrompt,pipe:this.pipe}}completionsPrompt(){return Gn(J1,{children:[Gn(hte,{children:[Gn(qEe,{ctx:this.ctx,weight:.7}),Gn(f8e,{weight:.6}),Gn(SEe,{ctx:this.ctx,weight:.9}),Gn(u8e,{ctx:this.ctx,weight:.8}),Gn(UEe,{ctx:this.ctx,by:ZIe,children:Gn(XIe,{ctx:this.ctx,weight:.99})})]}),Gn(E_,{weight:1})]})}createRequestData(r,n,i,s,a,l,c,u,f,m){return{document:r,position:n,telemetryData:i,cancellationToken:s,data:a.data,traits:c,codeSnippets:u,turnOffSimilarFiles:f,suffixMatchThreshold:m,maxPromptTokens:l}}resetIfEmpty(r){r.prefix.length===0&&r.suffix.length===0&&this.reset()}successPrompt(r,n,i,s,a){return{type:"prompt",prompt:{prefix:r.prefix,prefixTokens:r.prefixTokens,suffix:r.suffix,suffixTokens:r.suffixTokens,context:r.context,isFimEnabled:r.suffix.length>0},computeTimeMs:n-i,trailingWs:s,neighborSource:new Map,metadata:r.metadata,contextProvidersTelemetry:a}}errorPrompt(r){return xa(this.ctx,r,"PromptComponents.CompletionsPromptFactory"),this.reset(),mre}reset(){this.virtualPrompt=void 0,this.pipe=void 0}};async function A8e(e){try{await FZ}catch(t){tM(e,t,"initializeTokenizers")}}o(A8e,"waitForTokenizers");var y8e=10,C8e={type:"contextTooShort"},x8e={type:"copilotContentExclusion"},mre={type:"promptError"},h8={type:"promptCancelled"},v8e={type:"promptTimeout"};function p8(e){let t=e.split(`
`),r=t[t.length-1],n=r.length-r.trimEnd().length,i=e.slice(0,e.length-n),s=e.slice(i.length);return[r.length==n?i:e,s]}o(p8,"trimLastLine");function g8(e,t,r,n,i,s={}){let l=e.get(Hr).findNotebook(t),c=l?.getCellFor(t);l&&c&&({textDocument:t,position:r}=edt({textDocument:t,position:r},l,c)),n.extendWithConfigProperties(e),n.sanitizeKeys();let u=e.get(Cr).enablePromptContextProxyField(n);return e.get(sh).prompt({textDocument:t,position:r,telemetryData:n,promptOpts:{...s,separateContext:u}},i)}o(g8,"extractPrompt");function Xft(e,t){let r=e.document.detectedLanguageId,n=e.document.getText();return r===t?n:aM(n,t)}o(Xft,"addNeighboringCellsToPrompt");function edt(e,t,r){let i=t.getCells().filter(l=>l.index<r.index&&KM(r.document.detectedLanguageId,l.document.detectedLanguageId)),s=i.length>0?i.map(l=>Xft(l,r.document.detectedLanguageId)).join(`

`)+`

`:"",a={line:0,character:0};return WI(e,[{newText:s,range:{start:a,end:a}}])}o(edt,"applyEditsForNotebook");function XM(e,t,r){let i=e.get(Cr).maxPromptCompletionTokens(t)-VQ(e),s=gEe(t,r),a=eM(e,t,r),l=e.get(Cr).promptOrderListPreset(t),c=e.get(Cr).promptPriorityPreset(t),u={maxPromptLength:i,similarFilesOptions:a,numberOfSnippets:s,promptOrderListPreset:l,promptPriorityPreset:c},f=e.get(Cr).suffixPercent(t),m=e.get(Cr).suffixMatchThreshold(t);return f>0&&m>0&&(u={...u,suffixPercent:f,suffixMatchThreshold:m}),u}o(XM,"getPromptOptions");d();d();var b8e=2.98410452738298,E8e=-.838732736843507,I8e=1.50314646255716,T8e=-.237798634012662,lO={python:.314368072478742},w8e={"0.01":.225800751784931,"0.02":.290204307767402,"0.03":.333153496466045,"0.05":.404516749849559,"0.1":.513216040545626,"0.2":.626904979128674,"0.3":.694880719658273,"0.4":.743100684947291,"0.5":.782524520571946,"0.6":.816856186092243,"0.7":.84922977716585,"0.8":.883694877241999,"0.9":.921859050950077,"0.95":.944571268106974,"0.99":.969535563141733};var tdt={link:o(e=>Math.exp(e)/(1+Math.exp(e)),"link"),unlink:o(e=>Math.log(e/(1-e)),"unlink")};function rdt(e,t){let r=Math.min(...Array.from(t.keys()).filter(a=>a>=e)),n=Math.max(...Array.from(t.keys()).filter(a=>a<e)),i=t.get(r),s=t.get(n);return s+(i-s)*(e-n)/(r-n)}o(rdt,"linearInterpolation");var A8=class{static{o(this,"Regressor")}constructor(t,r,n){this.name=t,this.coefficient=r,this.transformation=n||(i=>i)}contribution(t){return this.coefficient*this.transformation(t)}},hre=class{constructor(t,r,n){this.link=tdt;if(this.intercept=t,this.coefficients=r,this.logitsToQuantiles=new Map,this.logitsToQuantiles.set(0,0),this.logitsToQuantiles.set(1,1),n)for(let i in n)this.logitsToQuantiles.set(n[i],Number(i))}static{o(this,"LogisticRegression")}predict(t,r){let n=this.intercept;for(let i of this.coefficients){let s=r[i.name];if(s===void 0)return NaN;n+=i.contribution(s)}return this.link.link(n)}quantile(t,r){let n=this.predict(t,r);return rdt(n,this.logitsToQuantiles)}},_8e=new hre(b8e,[new A8("compCharLen",E8e,e=>Math.log(1+e)),new A8("meanLogProb",I8e),new A8("meanAlternativeLogProb",T8e)].concat(Object.entries(lO).map(e=>new A8(e[0],e[1]))),w8e);function S8e(e,t){let r={...t.measurements};return Object.keys(lO).forEach(n=>{r[n]=t.properties["customDimensions.languageId"]==n?1:0}),_8e.predict(e,r)}o(S8e,"ghostTextScoreConfidence");function k8e(e,t){let r={...t.measurements};return Object.keys(lO).forEach(n=>{r[n]=t.properties["customDimensions.languageId"]==n?1:0}),_8e.quantile(e,r)}o(k8e,"ghostTextScoreQuantile");d();d();var ndt=[{max_token_sequence_length:1,last_tokens_to_consider:10},{max_token_sequence_length:10,last_tokens_to_consider:30},{max_token_sequence_length:20,last_tokens_to_consider:45},{max_token_sequence_length:30,last_tokens_to_consider:60}];function cO(e){let t=e.slice();return t.reverse(),R8e(t)||R8e(t.filter(r=>r.trim().length>0))}o(cO,"isRepetitive");function R8e(e){let t=idt(e);for(let r of ndt){if(e.length<r.last_tokens_to_consider)continue;if(r.last_tokens_to_consider-1-t[r.last_tokens_to_consider-1]<=r.max_token_sequence_length)return!0}return!1}o(R8e,"isRepeatedPattern");function idt(e){let t=Array(e.length).fill(0);t[0]=-1;let r=-1;for(let n=1;n<e.length;n++){for(;r>=0&&e[r+1]!==e[n];)r=t[r];e[r+1]===e[n]&&r++,t[n]=r}return t}o(idt,"kmp_prefix_function");function odt(e,t,r,n){let i="}";try{i=f3e(t.detectedLanguageId)??"}"}catch{}return sdt({getLineText:o(s=>t.lineAt(s).text,"getLineText"),getLineCount:o(()=>t.lineCount,"getLineCount")},r,n,i)}o(odt,"maybeSnipCompletion");function sdt(e,t,r,n){let i=adt(r),s=i.lines;if(s.length===1)return r;for(let a=1;a<s.length;a++){let l=!0,c=0,u=0;for(let f=0;f+a+u<s.length;f++){let m;for(;;){let x=t.line+1+f+c;if(m=x>=e.getLineCount()?void 0:e.getLineText(x),m!==void 0&&m.trim()==="")c++;else break}let h,p;for(;h=a+f+u,p=h>=s.length?void 0:s[h],p!==void 0&&p.trim()==="";)u++;let g=h===s.length-1;if(!p||!(m&&(g?m.startsWith(p)||p.startsWith(m):m===p&&p.trim()===n))){l=!1;break}}if(l)return s.slice(0,a).join(i.newLineCharacter)}return r}o(sdt,"maybeSnipCompletionImpl");function adt(e){let t=e.includes(`\r
`)?`\r
`:`
`;return{lines:e.split(t),newLineCharacter:t}}o(adt,"splitByNewLine");function ldt(e,t,r,n){let i="",s=t.line+1,a=n?r.trim():r;for(;i===""&&s<e.lineCount;){if(i=e.lineAt(s).text,n&&(i=i.trim()),i===a)return!0;s++}return!1}o(ldt,"matchesNextLine");function N_(e,t,r,n,i,s){if(cO(n.tokens)){let l=cn.createAndMarkAsIssued();l.extendWithRequestId(n.requestId),jt(e,"repetition.detected",l,1),s.info(e,"Filtered out repetitive solution");return}let a={...n};if(ldt(t,r,a.completionText,!i)){let l=cn.createAndMarkAsIssued();l.extendWithRequestId(n.requestId),jt(e,"completion.alreadyInDocument",l),jt(e,"completion.alreadyInDocument",l.extendedBy({completionTextJson:JSON.stringify(a.completionText)}),1),s.info(e,"Filtered out solution matching next line");return}return a.completionText=odt(e,t,r,a.completionText),a.completionText?a:void 0}o(N_,"postProcessChoiceInContext");function B8e(e,t,r){let i=e.lineAt(t.line).text.substring(t.character);if(i.length>0){if(r.completionText.indexOf(i)!==-1)return i.length;{let s=-1,a=0;for(let l of i){let c=r.completionText.indexOf(l,s+1);if(c>s)a++,s=c;else break}return a}}return 0}o(B8e,"checkSuffix");var P8e=et(Iy());var Wi=new Vt("ghostText");async function F8e(e,t,r,n,i,s,a){Wi.debug(e,`Getting ${s} from network`),r=r.extendedBy();let l=t.isCycling?3:1,c=YI(e,l),u={language:t.languageId,next_indent:t.indentation.next??0,trim_by_indentation:A3e(t.blockMode),prompt_tokens:t.prompt.prefixTokens??0,suffix_tokens:t.prompt.suffixTokens??0},f={stream:!0,n:l,temperature:c,extra:u},m=t.blockMode==="moremultiline"&&d5.isSupported(t.languageId);!t.multiline&&!m&&(f.stop=[`
`]);let h=Date.now(),p={endpoint:"completions",uiKind:"ghostText",temperature:JSON.stringify(c),n:JSON.stringify(l),stop:JSON.stringify(f.stop)??"unset",logit_bias:JSON.stringify(f.logit_bias??null)};Object.assign(r.properties,p);try{let g={prompt:t.prompt,languageId:t.languageId,repoInfo:t.repoInfo,ourRequestId:t.ourRequestId,engineModelId:t.engineModelId,count:l,uiKind:"ghostText",postOptions:f,headers:t.headers},x=await e.get(ru).fetchAndStreamCompletions(e,g,r,i,n);return x.type==="failed"?{type:"failed",reason:x.reason,telemetryData:ra(r)}:x.type==="canceled"?(Wi.debug(e,"Cancelled after awaiting fetchCompletions"),{type:"canceled",reason:x.reason,telemetryData:qp(r)}):a(h,x.getProcessingTime(),x.choices)}catch(g){if(Ec(g))return{type:"canceled",reason:"network request aborted",telemetryData:qp(r,{cancelledNetworkRequest:!0})};if(Wi.exception(e,g,"Error on ghost text request"),e.get($0).notifyUser(e,g),XE(e))throw g;return{type:"failed",reason:"non-abort error on ghost text request",telemetryData:ra(r)}}}o(F8e,"genericGetCompletionsFromNetwork");function pre(e,t,r){if(r||(r=[]),e.completionText=e.completionText.trimEnd(),!!e.completionText&&r.findIndex(n=>n.completionText.trim()===e.completionText.trim())===-1)return t.requestForNextLine&&(e.completionText=`
`+e.completionText),e}o(pre,"postProcessChoices");async function fdt(e,t,r,n,i){return F8e(e,t,r,n,i,"completions",async(s,a,l)=>{let u=await l[Symbol.asyncIterator]().next();if(u.done)return Wi.debug(e,"All choices redacted"),{type:"empty",reason:"all choices redacted",telemetryData:ra(r)};if(n?.isCancellationRequested)return Wi.debug(e,"Cancelled after awaiting redactedChoices iterator"),{type:"canceled",reason:"after awaiting redactedChoices iterator",telemetryData:qp(r)};let f=u.value;if(f===void 0)return Wi.debug(e,"Got undefined choice from redactedChoices iterator"),{type:"empty",reason:"got undefined choice from redactedChoices iterator",telemetryData:ra(r)};L8e(e,"performance",f,s,a),Wi.debug(e,`Awaited first result, id:  ${f.choiceIndex}`);let m=pre(f,t);m&&(fO(e,t,{multiline:t.multiline,choices:[m]},r),Wi.debug(e,`GhostText first completion (index ${m?.choiceIndex}): ${JSON.stringify(m?.completionText)}`));let h=(async()=>{let p=m!==void 0?[m]:[];for await(let g of l){if(g===void 0)continue;Wi.debug(e,`GhostText later completion (index ${g?.choiceIndex}): ${JSON.stringify(g.completionText)}`);let x=pre(g,t,p);x&&(p.push(x),fO(e,t,{multiline:t.multiline,choices:[x]},r))}})();return Om(e)&&await h,m?{type:"success",value:[uO(m,{forceSingleLine:!1}),h],telemetryData:ra(r),telemetryBlob:r,resultType:0}:{type:"empty",reason:"got undefined processedFirstChoice",telemetryData:ra(r)}})}o(fdt,"getCompletionsFromNetwork");async function ddt(e,t,r,n,i){return F8e(e,t,r,n,i,"all completions",async(s,a,l)=>{let c=[];for await(let u of l){if(n?.isCancellationRequested)return Wi.debug(e,"Cancelled after awaiting choices iterator"),{type:"canceled",reason:"after awaiting choices iterator",telemetryData:qp(r)};let f=pre(u,t,c);f&&c.push(f)}return c.length>0&&(fO(e,t,{multiline:t.multiline,choices:c},r),L8e(e,"cyclingPerformance",c[0],s,a)),{type:"success",value:[c,Promise.resolve()],telemetryData:ra(r),telemetryBlob:r,resultType:3}})}o(ddt,"getAllCompletionsFromNetwork");function uO(e,t){let r={...e};if(t.forceSingleLine){let{completionText:n}=r,i=n.match(/^\r?\n/);i?r.completionText=i[0]+n.split(`
`)[1]:r.completionText=n.split(`
`)[0]}return r}o(uO,"makeGhostAPIChoice");async function mdt(e,t,r,n,i,s,a,l,c,u){if(a&&c)return{blockMode:"parsing",requestMultiline:!0,finishedCb:o(m=>{let h=m?.split(`
`)??[];if(h.length>4)return h.slice(0,4).join(`
`).length},"finishedCb")};let f=e.get(Vm).forLanguage(e,t.detectedLanguageId,u);switch(f){case"server":return{blockMode:"server",requestMultiline:!0,finishedCb:o(m=>{},"finishedCb")};case"parsing":case"parsingandserver":case"moremultiline":default:{let m;try{m=await vdt(e,f,t,r,s,a,l,n)}catch(h){Wi.exception(e,h,".getGhostTextStrategy"),m={requestMultiline:!1}}if(m.requestMultiline){let h;return n.trailingWs.length>0&&!n.prompt.prefix.endsWith(n.trailingWs)?h=No.position(r.line,Math.max(r.character-n.trailingWs.length,0)):h=r,{blockMode:f,requestMultiline:!0,finishedCb:D8e(e,f,t,h,m.blockPosition,l,!0,n.prompt)}}return{blockMode:f,requestMultiline:!1,finishedCb:D8e(e,f,t,r,m.blockPosition,l,!1,n.prompt)}}}}o(mdt,"getGhostTextStrategy");function D8e(e,t,r,n,i,s,a,l){if(t==="moremultiline"&&d5.isSupported(r.detectedLanguageId)){let c=r.getText(No.range(No.position(0,0),n))+(s?`
`:""),u=i==="empty-block"||i==="block-end"?7:3;return new $Q(e,c,r.detectedLanguageId,!a,u,(f,m)=>{let h={prefix:c+f,prompt:{...l,prefix:l.prefix+f}};fO(e,h,{multiline:!0,choices:[m]},m.telemetryData)}).getFinishedCallback()}return a?v_(e,r,n,s):c=>{}}o(D8e,"buildFinishedCallback");var hdt={isCycling:!1,promptOnly:!1,isSpeculative:!1};async function pdt(e,t,r,n,i,s,a){let l=i.issuedTime,c=[];function u(R){let P=Xs();c.push([R,P-l]),l=P}o(u,"recordPerformance"),u("telemetry");let f={...hdt,...a},m=e.get(Dd),h=m.clientCompletionId,p=e.get(Cr);if(s?.isCancellationRequested)return{type:"abortedBeforeIssued",reason:"cancelled before extractPrompt",telemetryData:ra(i)};let g=Adt(t,r);if(g===void 0)return Wi.debug(e,"Breaking, invalid middle of the line"),{type:"abortedBeforeIssued",reason:"Invalid middle of the line",telemetryData:ra(i)};let x=e.get(th).isEnabled(i)?e.get(th):void 0,v=s,E=new Vn.CancellationTokenSource;x&&(s=E.token);let b=await g8(e,t,r,i,s,f);return u("prompt"),b.type==="copilotContentExclusion"?(Wi.debug(e,"Copilot not available, due to content exclusion"),{type:"abortedBeforeIssued",reason:"Copilot not available due to content exclusion",telemetryData:ra(i)}):b.type==="contextTooShort"?(Wi.debug(e,"Breaking, not enough context"),{type:"abortedBeforeIssued",reason:"Not enough context",telemetryData:ra(i)}):b.type==="promptError"?(Wi.debug(e,"Error while building the prompt"),{type:"abortedBeforeIssued",reason:"Error while building the prompt",telemetryData:ra(i)}):f.promptOnly?{type:"promptOnly",reason:"Breaking, promptOnly set to true",prompt:b}:b.type==="promptCancelled"?(Wi.debug(e,"Cancelled during extractPrompt"),{type:"abortedBeforeIssued",reason:"Cancelled during extractPrompt",telemetryData:ra(i)}):b.type==="promptTimeout"?(Wi.debug(e,"Timeout during extractPrompt"),{type:"abortedBeforeIssued",reason:"Timeout",telemetryData:ra(i)}):b.prompt.prefix.length===0&&b.prompt.suffix.length===0?(Wi.debug(e,"Error empty prompt"),{type:"abortedBeforeIssued",reason:"Empty prompt",telemetryData:ra(i)}):s?.isCancellationRequested?(Wi.debug(e,"Cancelled after extractPrompt"),{type:"abortedBeforeIssued",reason:"Cancelled after extractPrompt",telemetryData:ra(i)}):e.get(Yi).withProgress(async()=>{let[R]=p8(t.getText(No.range(No.position(0,0),r))),P=p.triggerCompletionAfterAccept(i),F=e.get(Dd).hasAcceptedCurrentCompletion(R,b.prompt.suffix),G=qn(e,St.MultilineAfterAccept)??p.enableMultilineAfterAccept(i),se=P&&!G?F:void 0,Ae=b.prompt;se&&(b.prompt={...b.prompt,prefix:b.prompt.prefix+`
`});let re=await mdt(e,t,r,b,f.isCycling,g,F,se??!1,G,i);if(u("strategy"),s?.isCancellationRequested)return Wi.debug(e,"Cancelled after requestMultiline"),{type:"abortedBeforeIssued",reason:"Cancelled after requestMultiline",telemetryData:ra(i)};let W=gdt(e,R,Ae,re.requestMultiline,i);u("cache");let q=Zy(e,t.uri),oe=Jy(e,i),X={blockMode:re.blockMode,languageId:t.detectedLanguageId,repoInfo:q,engineModelId:oe.modelId,ourRequestId:n,prefix:R,prompt:b.prompt,multiline:re.requestMultiline,indentation:b_(t,r),isCycling:f.isCycling,headers:oe.headers,requestForNextLine:se};X.headers={...X.headers,"X-Copilot-Async":x?"true":"false","X-Copilot-Speculative":f.isSpeculative?"true":"false"};let H=Sdt(e,t,X,r,b,i,oe,f),O=qn(e,St.EnableSpeculativeRequests),V=p.enableSpeculativeRequests(i),J=(O??V)&&!f.isSpeculative&&!f.isCycling,ae=Promise.resolve();if(x&&W===void 0&&!f.isCycling&&x.shouldWaitForAsyncCompletions(R,b.prompt)){let Fe=await x.getFirstMatchingRequestWithTimeout(n,R,b.prompt,f.isSpeculative,H);if(u("asyncWait"),Fe){let Re=!re.requestMultiline;W=[[uO(Fe[0],{forceSingleLine:Re})],4],ae=Fe[1]}if(v?.isCancellationRequested)return Wi.debug(e,"Cancelled before requesting a new completion"),{type:"abortedBeforeIssued",reason:"Cancelled after waiting for async completion",telemetryData:ra(H)}}let te=re.blockMode==="moremultiline"&&d5.isSupported(t.detectedLanguageId);if(W!==void 0&&(W[0]=W[0].map(Fe=>N_(e,t,r,Fe,te,Wi)).filter(Fe=>Fe!==void 0)),W!==void 0&&W[0].length>0&&(!f.isCycling||W[0].length>1))Wi.debug(e,`Found inline suggestions locally via ${C_(W[1])}`);else{if(f.isCycling){let Fe=await ddt(e,X,H,s,re.finishedCb);if(Fe.type==="success"){let Re=W?.[0]??[];Fe.value[0].forEach(Ge=>{Re.findIndex(lt=>lt.completionText.trim()===Ge.completionText.trim())===-1&&Re.push(Ge)}),W=[Re,3]}else if(W===void 0)return Fe}else{if(s?.isCancellationRequested)return Wi.debug(e,"Cancelled before contextual filter"),{type:"canceled",reason:"before contextual filter",telemetryData:qp(H)};if(!p.disableContextualFilter(i)&&H.measurements.contextualFilterScore<35/100)return Wi.debug(e,"Cancelled by contextual filter"),{type:"canceled",reason:"contextualFilterScore below threshold",telemetryData:qp(H)};let Fe=x?(Ge,lt)=>(x.updateCompletion(n,Ge),re.finishedCb(Ge,lt)):re.finishedCb,Re=fdt(e,X,H,s,Fe);if(x){x.queueCompletionRequest(n,R,b.prompt,E,Re);let Ge=await x.getFirstMatchingRequest(n,R,b.prompt,f.isSpeculative);if(Ge===void 0)return{type:"empty",reason:"received no results from async completions",telemetryData:ra(H)};W=[[Ge[0]],4],ae=Ge[1]}else{let Ge=await Re;if(Ge.type!=="success")return Ge;W=[[Ge.value[0]],0],ae=Ge.value[1]}}u("network")}if(W===void 0)return{type:"failed",reason:"internal error: choices should be defined after network call",telemetryData:ra(H)};let[le,ce]=W,Pe=le.map(Fe=>N_(e,t,r,Fe,te,Wi)).filter(Fe=>Fe!==void 0),Ie=[];for(let Fe of Pe){let Re=_dt(e,t,X,Fe,H),Ge=g?B8e(t,r,Fe):0,st={completion:Edt(Fe.choiceIndex,Fe.completionText,b.trailingWs),telemetry:Re,isMiddleOfTheLine:g,suffixCoverage:Ge,copilotAnnotations:Fe.copilotAnnotations};Ie.push(st)}if(v?.isCancellationRequested)return Wi.debug(e,"Cancelled after post processing completions"),{type:"canceled",reason:"after post processing completions",telemetryData:qp(H)};if(H.properties.clientCompletionId=Ie?.[0]?.telemetry?.properties.clientCompletionId,H.measurements.foundOffset=Ie?.[0]?.telemetry?.measurements?.foundOffset??-1,Wi.debug(e,`Produced ${Ie.length} results from ${C_(ce)} at ${H.measurements.foundOffset} offset`),h!==m.clientCompletionId){let Fe=m.getCompletionsForUserTyping(R,b.prompt.suffix);if(Fe&&Fe.length>0)return Wi.debug(e,"Current completion changed before returning"),{type:"canceled",reason:"current completion changed before returning",telemetryData:qp(H)}}if(J&&Ie.length>0&&ce!==2){let Fe=WI({textDocument:t,position:r},[{newText:Ie[0].completion.completionText,range:{start:r,end:r}}]),Re=new Vn.CancellationTokenSource().token;ae.then(()=>{gre(e,Fe.textDocument,Fe.position,Re,{positionBeforeApplyingEdits:f.positionBeforeApplyingEdits,isSpeculative:!0,opportunityId:f.opportunityId})})}return f.isSpeculative||m.setGhostText(R,b.prompt.suffix,Pe,ce),u("complete"),{type:"success",value:[Ie,ce],telemetryData:ra(H),telemetryBlob:H,resultType:ce,performanceMetrics:c}})}o(pdt,"getGhostTextWithoutAbortHandling");async function gre(e,t,r,n,i){let s=Ir(),a=await wdt(e,t,s,i);try{return await pdt(e,t,r,s,a,n,i)}catch(l){if(Ec(l))return{type:"canceled",reason:"aborted at unknown location",telemetryData:qp(a,{cancelledNetworkRequest:!0})};throw l}}o(gre,"getGhostText");function gdt(e,t,r,n,i){let s=e.get(Dd).getCompletionsForUserTyping(t,r.suffix),a=Tdt(e,t,r,n,i);if(s&&s.length>0){let l=(a??[]).filter(c=>!s.some(u=>u.completionText===c.completionText));return[s.concat(l),2]}if(a&&a.length>0)return[a,1]}o(gdt,"getLocalInlineSuggestion");function Adt(e,t){let r=ydt(t,e),n=Cdt(t,e);return r&&!n?void 0:r&&n}o(Adt,"isInlineSuggestion");function ydt(e,t){return t.lineAt(e).text.substr(e.character).trim().length!=0}o(ydt,"isMiddleOfTheLine");function Cdt(e,t){let n=t.lineAt(e).text.substr(e.character).trim();return/^\s*[)>}\]"'`]*\s*[:{;,]?\s*$/.test(n)}o(Cdt,"isValidMiddleOfTheLinePosition");function xdt(e,t){return t.lineAt(e).text.trim().length===0}o(xdt,"isNewLine");var aA=class e{constructor(t=!1){this.requestMultilineOverride=t}static{o(this,"ForceMultiLine")}static{this.default=new e}};async function vdt(e,t,r,n,i,s,a,l){if(e.get(aA).requestMultilineOverride)return{requestMultiline:!0};if(r.lineCount>=8e3)jt(e,"ghostText.longFileMultilineSkip",cn.createAndMarkAsIssued({languageId:r.detectedLanguageId,lineCount:String(r.lineCount),currentLine:String(n.line)}));else{if(t=="moremultiline"&&d5.isSupported(r.detectedLanguageId)){let f=await Obe(r,n);return s||f==="empty-block"?{requestMultiline:!0,blockPosition:f}:{requestMultiline:!1,blockPosition:f}}if(a){let f=b_(r,n),m=f.current>0?r.lineAt(n).text[0]:void 0,h={range:{start:n,end:n},newText:`
`+(m?m.repeat(f.current):"")};r=WI({textDocument:r,position:n},[h]).textDocument}if(["typescript","typescriptreact"].includes(r.detectedLanguageId)&&xdt(n,r))return{requestMultiline:!0};let u=!1;return!i&&Ju(r.detectedLanguageId)?u=await XQ(r,n):i&&Ju(r.detectedLanguageId)&&(u=await XQ(r,n)||await XQ(r,r.lineAt(n).range.end)),u||["javascript","javascriptreact","python"].includes(r.detectedLanguageId)&&(u=Gbe(l.prompt,r.detectedLanguageId)>.5),{requestMultiline:u}}return{requestMultiline:!1}}o(vdt,"shouldRequestMultiline");function fO(e,t,r,n){if(qn(e,St.EnablePrefixCache)??e.get(Cr).enablePrefixCompletionsCache(n)){e.get(rh).append(t.prefix,r.choices);return}let i={...t.prompt};t.requestForNextLine&&(i.prefix=i.prefix.slice(0,-1));let s=xY(i),a=e.get(sf).get(s);a&&a.multiline===r.multiline?e.get(sf).set(s,{multiline:a.multiline,choices:a.choices.concat(r.choices)}):e.get(sf).set(s,r),Wi.debug(e,`Appended ${r.choices.length} cached ghost text for key: ${s}, multiline: ${r.multiline}, total number of suggestions: ${(a?.choices.length??0)+r.choices.length}`)}o(fO,"appendToCache");function bdt(e,t,r){let n=e.get(sf).get(t);if(n&&!(r&&!n.multiline))return n.choices}o(bdt,"getCachedChoices");function Edt(e,t,r){if(r.length>0){if(t.startsWith(r))return{completionIndex:e,completionText:t,displayText:t.substring(r.length),displayNeedsWsOffset:!1};{let n=t.substring(0,t.length-t.trimStart().length);return r.startsWith(n)?{completionIndex:e,completionText:t,displayText:t.trimStart(),displayNeedsWsOffset:!0}:{completionIndex:e,completionText:t,displayText:t,displayNeedsWsOffset:!1}}}else return{completionIndex:e,completionText:t,displayText:t,displayNeedsWsOffset:!1}}o(Edt,"adjustLeadingWhitespace");var Idt=50;function Tdt(e,t,r,n,i){if(qn(e,St.EnablePrefixCache)??e.get(Cr).enablePrefixCompletionsCache(i)){let s=e.get(rh).findAll(t);return s.length===0?(Wi.debug(e,"Found no completions in prefix cache"),[]):(Wi.debug(e,`Found ${s.length} completions in prefix cache`),s.map(a=>uO(a,{forceSingleLine:!n})))}for(let s=0;s<Idt;s++){let a=[],l=r.prefix.substring(0,r.prefix.length-s),c=xY({prefix:l,suffix:r.suffix}),u=bdt(e,c,n);if(!u)continue;Wi.debug(e,`Got completions from cache at ${s} characters back for key: ${c}, multiline: ${n}`);let f=r.prefix.substring(l.length);for(let m of u){let h=m.completionText;if(!h.startsWith(f)||h.length<=f.length)continue;h=h.substring(f.length);let p=uO({...m,completionText:h},{forceSingleLine:!n});p.telemetryData.measurements.foundOffset=s,p.completionText!==""&&a.push(p)}if(Wi.debug(e,`Found ${a.length} matching completions from cache at ${s} characters back`),a.length>0)return a}return[]}o(Tdt,"getCompletionsFromCache");async function wdt(e,t,r,n){let i={headerRequestId:r};n?.opportunityId&&(i.opportunityId=n.opportunityId),n?.selectedCompletionInfo?.text&&(i.completionsActive="true"),n?.isSpeculative&&(i.reason="speculative");let s=cn.createAndMarkAsIssued(i);return await e.get(Cr).updateExPValuesAndAssignments({uri:t.uri,languageId:t.detectedLanguageId},s)}o(wdt,"createTelemetryWithExp");function _dt(e,t,r,n,i){let s=n.requestId,a={choiceIndex:n.choiceIndex.toString(),clientCompletionId:n.clientCompletionId};n.generatedChoiceIndex!==void 0&&(a.originalChoiceIndex=a.choiceIndex,a.choiceIndex=(1e4*(n.generatedChoiceIndex+1)+n.choiceIndex).toString());let l=n.completionText.split(`
`).length,c={compCharLen:n.completionText.length,numLines:r.requestForNextLine?l-1:l};n.meanLogProb&&(c.meanLogProb=n.meanLogProb),n.meanAlternativeLogProb&&(c.meanAlternativeLogProb=n.meanAlternativeLogProb);let u=n.telemetryData.extendedBy(a,c);return u.issuedTime=i.issuedTime,u.measurements.timeToProduceMs=performance.now()-i.issuedTime,N8e(u,t),u.extendWithRequestId(s),u.measurements.confidence=S8e(e,u),u.measurements.quantile=k8e(e,u),Wi.debug(e,`Extended telemetry for ${n.telemetryData.properties.headerRequestId} with retention confidence ${u.measurements.confidence} (expected as good or better than about ${u.measurements.quantile} of all suggestions)`),u}o(_dt,"telemetryWithAddData");function Sdt(e,t,r,n,i,s,a,l){let c={languageId:t.detectedLanguageId};r.requestForNextLine!==void 0&&(c.requestForNextLine=r.requestForNextLine.toString()),c.isSpeculative=l.isSpeculative.toString();let u=s.extendedBy(c);N8e(u,t);let f=r.repoInfo;u.properties.gitRepoInformation=f===void 0?"unavailable":f===0?"pending":"available",f!==void 0&&f!==0&&(u.properties.gitRepoUrl=f.url,u.properties.gitRepoHost=f.hostname,u.properties.gitRepoOwner=f.owner,u.properties.gitRepoName=f.repo,u.properties.gitRepoPath=f.pathname),u.properties.engineName=a.modelId,u.properties.engineChoiceSource=a.engineChoiceSource,u.properties.isMultiline=JSON.stringify(r.multiline),u.properties.isCycling=JSON.stringify(r.isCycling);let m=t.lineAt(n.line),h=t.getText(No.range(m.range.start,n)),p=t.getText(No.range(n,m.range.end)),g=Array.from(i.neighborSource.entries()).map(b=>[b[0],b[1].map(_=>(0,P8e.SHA256)(_).toString())]),x={beforeCursorWhitespace:JSON.stringify(h.trim()===""),afterCursorWhitespace:JSON.stringify(p.trim()===""),neighborSource:JSON.stringify(g),blockMode:r.blockMode},v={...lI(i.prompt),promptEndPos:t.offsetAt(n),promptComputeTimeMs:i.computeTimeMs};i.metadata&&(x.promptMetadata=JSON.stringify(i.metadata)),i.contextProvidersTelemetry&&(x.contextProviders=JSON.stringify(i.contextProvidersTelemetry));let E=u.extendedBy(x,v);return E.measurements.contextualFilterScore=Mbe(e,E,i.prompt),jt(e,"ghostText.issued",E),u}o(Sdt,"telemetryIssued");function N8e(e,t){e.measurements.documentLength=t.getText().length,e.measurements.documentLineCount=t.lineCount}o(N8e,"addDocumentTelemetry");function L8e(e,t,r,n,i){let s=Date.now()-n,a=s-i,l=r.telemetryData.extendedBy({},{completionCharLen:r.completionText.length,requestTimeMs:s,processingTimeMs:i,deltaMs:a,meanLogProb:r.meanLogProb||NaN,meanAlternativeLogProb:r.meanAlternativeLogProb||NaN});l.extendWithRequestId(r.requestId),jt(e,`ghostText.${t}`,l)}o(L8e,"telemetryPerformance");var Dd=class{constructor(){this.choices=[]}static{o(this,"CurrentGhostText")}get clientCompletionId(){return this.choices[0]?.clientCompletionId}setGhostText(t,r,n,i){i!==2&&(this.prefix=t,this.suffix=r,this.choices=n)}getCompletionsForUserTyping(t,r){let n=this.getRemainingPrefix(t,r);if(n!==void 0&&Q8e(this.choices[0].completionText,n))return kdt(this.choices,n)}hasAcceptedCurrentCompletion(t,r){let n=this.getRemainingPrefix(t,r);if(n===void 0)return!1;let i=n===this.choices?.[0].completionText,s=this.choices?.[0].finishReason;return i&&s==="stop"}getRemainingPrefix(t,r){if(!(this.prefix===void 0||this.suffix===void 0||this.choices.length===0)&&this.suffix===r&&t.startsWith(this.prefix))return t.substring(this.prefix.length)}};function kdt(e,t){return e.filter(r=>Q8e(r.completionText,t)).map(r=>({...r,completionText:r.completionText.substring(t.length)}))}o(kdt,"adjustChoicesStart");function Q8e(e,t){return e.startsWith(t)&&e.length>t.length}o(Q8e,"startsWithAndExceeds");d();d();d();var ax=class{constructor(t,r,n){this._referenceCount=0;this._isDisposed=!1;this._offset=n;let i=t.get(Hr);this._tracker=i.onDidChangeTextDocument(s=>{if(s.document.uri===r){for(let a of s.contentChanges)if(a.rangeOffset+a.rangeLength<=this.offset){let l=a.text.length-a.rangeLength;this._offset=this._offset+l}}})}static{o(this,"ChangeTracker")}get offset(){return this._offset}push(t,r){if(this._isDisposed)throw new Error("Unable to push new actions to a disposed ChangeTracker");this._referenceCount++,setTimeout(()=>{t(),this._referenceCount--,this._referenceCount===0&&(this._tracker.dispose(),this._isDisposed=!0)},r)}};d();function Are(e,t,r=(n,i)=>n===i?0:1){if(t.length===0||e.length===0)return{distance:t.length,startOffset:0,endOffset:0};let n=new Array(t.length+1).fill(0),i=new Array(t.length+1).fill(0),s=new Array(e.length+1).fill(0),a=new Array(e.length+1).fill(0),l=t[0];for(let u=0;u<e.length+1;u++)u===0?n[u]=1:n[u]=r(e[u-1],l,u-1,0),i[u]=u>0?u-1:0;for(let u=1;u<t.length;u++){let f=s;s=n,n=f,f=a,a=i,i=f,l=t[u],n[0]=u+1;for(let m=1;m<e.length+1;m++){let h=1+s[m],p=1+n[m-1],g=r(e[m-1],l,m-1,u)+s[m-1];n[m]=Math.min(p,h,g),n[m]===g?i[m]=a[m-1]:n[m]===h?i[m]=a[m]:i[m]=i[m-1]}}let c=0;for(let u=0;u<e.length+1;u++)n[u]<n[c]&&(c=u);return{distance:n[c],startOffset:i[c],endOffset:c}}o(Are,"editDistance");function Rdt(){return new Map}o(Rdt,"emptyLexDictionary");function Bdt(e){let t=new Array(e.size);for(let[r,n]of e)t[n]=r;return t}o(Bdt,"reverseLexDictionary");function*Ddt(e){let t="",r;(l=>(l[l.Word=0]="Word",l[l.Space=1]="Space",l[l.Other=2]="Other"))(r||={});let n=0;for(let i of e){let s;new RegExp("(\\p{L}|\\p{Nd}|_)","u").test(i)?s=0:i===" "?s=1:s=2,s===n&&s!==2?t+=i:(t.length>0&&(yield t),t=i,n=s)}t.length>0&&(yield t)}o(Ddt,"lexGeneratorWords");function M8e(e,t,r,n){let i=[],s=0;for(let a of r(e))n(a)&&(t.has(a)||t.set(a,t.size),i.push([t.get(a),s])),s+=a.length;return[i,t]}o(M8e,"lexicalAnalyzer");function O8e(e){return e!==" "}o(O8e,"notSingleSpace");function U8e(e,t,r=Ddt){let[n,i]=M8e(e,Rdt(),r,O8e),[s,a]=M8e(t,i,r,O8e);if(s.length===0||n.length===0)return{lexDistance:s.length,startOffset:0,endOffset:0,haystackLexLength:n.length,needleLexLength:s.length};let l=Bdt(a),c=s.length,u=l[s[0][0]],f=l[s[c-1][0]];function m(x,v,E,b){if(b===0||b===c-1){let _=l[n[E][0]];return b==0&&_.endsWith(u)||b==c-1&&_.startsWith(f)?0:1}else return x===v?0:1}o(m,"compare");let h=Are(n.map(x=>x[0]),s.map(x=>x[0]),m),p=n[h.startOffset][1],g=h.endOffset<n.length?n[h.endOffset][1]:e.length;return g>0&&e[g-1]===" "&&--g,{lexDistance:h.distance,startOffset:p,endOffset:g,haystackLexLength:n.length,needleLexLength:s.length}}o(U8e,"lexEditDistance");d();function q8e(e,t){return e.compType==="partial"?e.acceptedLength:t.length}o(q8e,"computeCompCharLen");function W8e(e,t){return t.compType==="partial"?e.substring(0,t.acceptedLength):e}o(W8e,"computeCompletionText");function G8e(e,t,r){return e.displayText!==e.insertText&&e.insertText.trim()===e.displayText||r===3?t:t-e.range.end.character+e.range.start.character}o(G8e,"computePartialLength");var S5=new Vt("postInsertion"),H8e=[{seconds:15,captureCode:!1,captureRejection:!1},{seconds:30,captureCode:!0,captureRejection:!0},{seconds:120,captureCode:!1,captureRejection:!1},{seconds:300,captureCode:!1,captureRejection:!1},{seconds:600,captureCode:!1,captureRejection:!1}],j8e=50,Pdt=1500,Fdt=.5,Ndt=500,yre={triggerPostInsertionSynchroneously:!1,captureCode:!1,captureRejection:!1};async function V8e(e,t,r,n,i){let s=await e.get(Dn).getOrReadTextDocumentWithFakeClientProperties({uri:t});if(s.status!=="valid")return S5.info(e,`Could not get document for ${t}. Maybe it was closed by the editor.`),{prompt:{prefix:"",suffix:"",isFimEnabled:!1},capturedCode:"",terminationOffset:0};let a=s.document,l=a.getText(),c=l.substring(0,n),u=a.positionAt(n),f=await g8(e,a,u,r),m=f.type==="prompt"?f.prompt:{prefix:c,suffix:"",isFimEnabled:!1};if(m.isFimEnabled&&i!==void 0){let h=l.substring(n,i);return m.suffix=l.substring(i),{prompt:m,capturedCode:h,terminationOffset:0}}else{let h=l.substring(n),p=ste(c,n,a.detectedLanguageId),x=await mEe(p,void 0)(h),v=Math.min(l.length,n+(x?x*2:Ndt)),E=l.substring(n,v);return{prompt:m,capturedCode:E,terminationOffset:x??-1}}}o(V8e,"captureCode");function dO(e,t,r,n,i){i.forEach(({completionText:c,completionTelemetryData:u})=>{S5.debug(e,`${t}.rejected choiceIndex: ${u.properties.choiceIndex}`),oEe(e,t,u)});let s=new ax(e,n,r-1),a=new ax(e,n,r),l=o(async c=>{S5.debug(e,`Original offset: ${r}, Tracked offset: ${s.offset}`);let{completionTelemetryData:u}=i[0],{prompt:f,capturedCode:m,terminationOffset:h}=await V8e(e,n,u,s.offset+1,a.offset),p;f.isFimEnabled?p={hypotheticalPromptPrefixJson:JSON.stringify(f.prefix),hypotheticalPromptSuffixJson:JSON.stringify(f.suffix)}:p={hypotheticalPromptJson:JSON.stringify(f.prefix)};let g=u.extendedBy({...p,capturedCodeJson:JSON.stringify(m)},{timeout:c.seconds,insertionOffset:r,trackedOffset:s.offset,terminationOffsetInCapturedCode:h});S5.debug(e,`${t}.capturedAfterRejected choiceIndex: ${u.properties.choiceIndex}`,g),jt(e,t+".capturedAfterRejected",g,1)},"checkInCode");H8e.filter(c=>c.captureRejection).map(c=>s.push(Gu(e,()=>l(c),"postRejectionTasks"),c.seconds*1e3))}o(dO,"postRejectionTasks");function lx(e,t,r,n,i,s,a,l){let c=s.extendedBy({compType:a.compType},{compCharLen:q8e(a,r)});S5.debug(e,`${t}.accepted choiceIndex: ${c.properties.choiceIndex}`),iEe(e,t,c);let u=r;r=W8e(r,a);let f=r.trim(),m=new ax(e,i,n),h=new ax(e,i,n+r.length),p=o(async g=>{await Odt(e,t,f,n,i,g,c,m,h)},"stillInCodeCheck");if(yre.triggerPostInsertionSynchroneously&&Om(e)){let g=p({seconds:0,captureCode:yre.captureCode,captureRejection:yre.captureRejection});e.get(Do).register(g)}else H8e.map(g=>m.push(Gu(e,()=>p(g),"postInsertionTasks"),g.seconds*1e3));Gu(e,Ldt,"post insertion citation check")(e,i,u,r,n,l)}o(lx,"postInsertionTasks");async function Ldt(e,t,r,n,i,s){if(!s||(s.ip_code_citations?.length??0)<1)return;let a=await e.get(Hr).getTextDocument({uri:t});if(a){let l=Cre(a.getText(),n,j8e,i);l.stillInCodeHeuristic&&(i=l.foundOffset)}for(let l of s.ip_code_citations){let c=Qdt(r.length,n.length,l.start_offset);if(c===void 0){S5.info(e,`Full completion for ${t} contains a reference matching public code, but the partially inserted text did not include the match.`);continue}let u=i+c,f=a?.positionAt(u),m=i+Mdt(r.length,n.length,l.stop_offset),h=a?.positionAt(m),p=f&&h?a?.getText({start:f,end:h}):"<unknown>";await e.get(of).handleIPCodeCitation(e,{inDocumentUri:t,offsetStart:u,offsetEnd:m,version:a?.version,location:f&&h?{start:f,end:h}:void 0,matchingText:p,details:l.details.citations})}}o(Ldt,"citationCheck");function Qdt(e,t,r){if(!(t<e&&r>t))return r}o(Qdt,"computeCitationStart");function Mdt(e,t,r){return t<e?Math.min(r,t):r}o(Mdt,"computeCitationEnd");function Cre(e,t,r,n){let i=e.substring(Math.max(0,n-r),Math.min(e.length,n+t.length+r)),s=U8e(i,t),a=s.lexDistance/s.needleLexLength,{distance:l}=Are(i.substring(s.startOffset,s.endOffset),t);return{relativeLexEditDistance:a,charEditDistance:l,completionLexLength:s.needleLexLength,foundOffset:s.startOffset+Math.max(0,n-r),lexEditDistance:s.lexDistance,stillInCodeHeuristic:a<=Fdt?1:0}}o(Cre,"find");async function Odt(e,t,r,n,i,s,a,l,c){let u=await e.get(Dn).getOrReadTextDocument({uri:i});if(u.status==="valid"){let m=u.document.getText(),h=Cre(m,r,j8e,l.offset);h.stillInCodeHeuristic||(h=Cre(m,r,Pdt,l.offset)),S5.debug(e,`stillInCode: ${h.stillInCodeHeuristic?"Found":"Not found"}! Completion '${r}' in file ${i}. lexEditDistance fraction was ${h.relativeLexEditDistance}. Char edit distance was ${h.charEditDistance}. Inserted at ${n}, tracked at ${l.offset}, found at ${h.foundOffset}. choiceIndex: ${a.properties.choiceIndex}`);let p=a.extendedBy({},{timeout:s.seconds,insertionOffset:n,trackedOffset:l.offset}).extendedBy({},h);if(jt(e,t+".stillInCode",p),s.captureCode){let{prompt:g,capturedCode:x,terminationOffset:v}=await V8e(e,i,p,l.offset,c.offset),E;g.isFimEnabled?E={hypotheticalPromptPrefixJson:JSON.stringify(g.prefix),hypotheticalPromptSuffixJson:JSON.stringify(g.suffix)}:E={hypotheticalPromptJson:JSON.stringify(g.prefix)};let b=a.extendedBy({...E,capturedCodeJson:JSON.stringify(x)},{timeout:s.seconds,insertionOffset:n,trackedOffset:l.offset,terminationOffsetInCapturedCode:v});S5.debug(e,`${t}.capturedAfterAccepted choiceIndex: ${a.properties.choiceIndex}`,p),jt(e,t+".capturedAfterAccepted",b,1)}}}o(Odt,"checkStillInCode");var xre=new Vt("ghostText"),f0=class{static{o(this,"LastGhostText")}#e;#t;#i=[];get position(){return this.#e}get shownCompletions(){return this.#i||[]}get uri(){return this.#t}resetState(){this.#t=void 0,this.#e=void 0,this.#i=[]}setState({uri:t},r){this.#t=t,this.#e=r,this.#i=[]}resetPartialAcceptanceState(){this.partiallyAcceptedLength=0}};function Udt(e){let t=[];return e.shownCompletions.forEach(r=>{if(r.displayText&&r.telemetry){let n,i;e.partiallyAcceptedLength?(n=r.displayText.substring(e.partiallyAcceptedLength-1),i=r.telemetry.extendedBy({compType:"partial"},{compCharLen:n.length})):(n=r.displayText,i=r.telemetry);let s={completionText:n,completionTelemetryData:i,offset:r.offset};t.push(s)}}),t}o(Udt,"computeRejectedCompletions");function vre(e,t){let r=e.get(f0);if(!r.position||!r.uri)return;let n=Udt(r);n.length>0&&dO(e,"ghostText",t??n[0].offset,r.uri,n),r.resetState(),r.resetPartialAcceptanceState()}o(vre,"rejectLastShown");function $8e(e,t,r,n){let i=e.get(f0);return i.position&&i.uri&&!(i.position.line===r.line&&i.position.character===r.character&&i.uri.toString()===t.uri.toString())&&n!==2&&vre(e,t.offsetAt(i.position)),i.setState(t,r),i.index}o($8e,"setLastShown");function z8e(e,t){let r=e.get(f0);if(r.index=t.index,!r.shownCompletions.find(n=>n.index===t.index)&&(t.uri===r.uri&&r.position?.line===t.position.line&&r.position?.character==t.position.character&&r.shownCompletions.push(t),t.displayText)){let n=t.resultType!==0;xre.debug(e,`[${t.telemetry.properties.headerRequestId}] shown choiceIndex: ${t.telemetry.properties.choiceIndex}, fromCache ${n}`),t.telemetry.measurements.compCharLen=t.displayText.length,YQ(e,"ghostText",t)}}o(z8e,"handleGhostTextShown");function mO(e,t){let r=e.get(f0);r.resetState(),xre.debug(e,"Ghost text post insert");let n=r.partiallyAcceptedLength?{compType:"partial",acceptedLength:t.displayText.length}:{compType:"full"};return r.resetPartialAcceptanceState(),lx(e,"ghostText",t.displayText,t.offset,t.uri,t.telemetry,n,t.copilotAnnotations)}o(mO,"handleGhostTextPostInsert");function Y8e(e,t,r,n=0){let i=e.get(f0);r===t.insertText.length&&i.resetState(),xre.debug(e,"Ghost text partial post insert");let s=G8e(t,r,n);if(s)return i.partiallyAcceptedLength=r,lx(e,"ghostText",t.displayText,t.offset,t.uri,t.telemetry,{compType:"partial",acceptedLength:s},t.copilotAnnotations)}o(Y8e,"handlePartialGhostTextPostInsert");function K8e(e){let t=new MI;return t.set(Mp,e),t.set(vp,new vp),t.set(Eo,new Eo),t.set(rh,new rh),t.set(sf,new sf),t.set(Rp,new Rp),t.set(Cr,new Cr(t)),t.set(Dp,new Dp),t.set(Xl,new Xl(t)),t.set(Ds,new Ds),t.set(zu,new zu),t.set($0,new $0),t.set(af,new af),t.set(ru,new y_),t.set(Vm,new CI),t.set(Wm,new gw),t.set(Do,new Do),t.set(Dn,new Dn(t)),t.set(sh,aO(t)),t.set(f0,new f0),t.set(Dd,new Dd),t.set(aA,aA.default),t.set(z1,new z1(t)),t.set(md,new md(t)),t.set(ea,new ea),t.set(th,new th(t)),t.set(Ho,new Ho),t}o(K8e,"createCommonContext");d();d();var hO=class extends Error{static{o(this,"FetchSpeculationCanceledException")}constructor(t){super(t),this.name="FetchSpeculationCanceledException"}};d();var y8=class extends Error{static{o(this,"FetchSpeculationFailedException")}constructor(t){super(t),this.name="FetchSpeculationFailedException"}};var qOr=I.Object({prompt:I.String(),speculation:I.String(),languageId:I.String(),stops:I.Array(I.String())}),cx=class{static{o(this,"SpeculationFetcher")}constructor(t){this.ctx=t}async fetchSpeculation(t,r){let i={prompt:t.prompt,speculation:t.speculation,engineModelId:"copilot-centralus-h100",uiKind:"editsPanel",temperature:0,stream:!0,stops:t.stops},s=await this.ctx.get(Cr).updateExPValuesAndAssignments(),a=await this.ctx.get(ru).fetchAndStreamSpeculation(this.ctx,i,s,async(l,c)=>{},r);switch(a.type){case"success":return a;case"canceled":throw new hO(a.reason);case"failed":throw new y8(a.reason)}}};d();d();var J8e=et(require("node:util"));function Z8e(e,...t){return`[${e}] ${qdt(t)}`}o(Z8e,"formatLogMessage");function qdt(e){return J8e.default.formatWithOptions({maxStringLength:1/0},...e)}o(qdt,"format");function pO(e){return r5e(e)}o(pO,"verboseLogging");var gO=class extends qa{constructor(r){super();this.console=r}static{o(this,"ConsoleLog")}logIt(r,n,i,...s){n==1?this.console.error(`[${i}]`,...s):(n==2||pO(r))&&this.console.warn(`[${i}]`,...s)}};d();var X8e=require("node:util");var C8=class extends Np{static{o(this,"TelemetryLogSenderImpl")}sendError(t,r,...n){m4(t,"log",cn.createAndMarkAsIssued({context:r,level:g4[1],message:Wdt(...n)}),1)}sendException(t,r,n){xa(t,r,n)}};function Wdt(...e){return e.map(t=>(0,X8e.inspect)(t)).join(" ")}o(Wdt,"telemetryMessage");d();var hDe=et(require("crypto")),pDe=et(require("fs")),gDe=et(dDe()),ADe=require("tls"),yDe=et(mDe());var S6=new Vt("certificates"),Ka=class{static{o(this,"RootCertificateReader")}};function $q(e,t=process.platform){return new Vse(e,[new $se,new zse,GIt(e,t)])}o($q,"getRootCertificateReader");function GIt(e,t){switch(t){case"linux":return new Yse(e);case"darwin":return new Kse(e);case"win32":return new Jse(e);default:return new Zse}}o(GIt,"createPlatformReader");var jse=class extends Ka{constructor(r,n){super();this.ctx=r;this.delegate=n}static{o(this,"ErrorHandlingCertificateReader")}async getAllRootCAs(){try{return await this.delegate.getAllRootCAs()}catch(r){return S6.warn(this.ctx,"Failed to read root certificates:",r),[]}}},Vse=class extends Ka{constructor(r,n){super();this.ctx=r;this.delegates=n.map(i=>new jse(r,i))}static{o(this,"CachingRootCertificateReader")}async getAllRootCAs(){return this.certificates||(this.certificates=this.removeExpiredCertificates((await Promise.all(this.delegates.map(r=>r.getAllRootCAs()))).flat())),this.certificates}removeExpiredCertificates(r){let n=Date.now(),i=r.filter(s=>{try{let a=new hDe.X509Certificate(s),l=Date.parse(a.validTo);return isNaN(l)||l>n}catch(a){return S6.warn(this.ctx,"Failed to parse certificate",s,a),!1}});return r.length!==i.length&&S6.info(this.ctx,`Removed ${r.length-i.length} expired certificates`),i}},$se=class extends Ka{static{o(this,"NodeTlsRootCertificateReader")}getAllRootCAs(){return ADe.rootCertificates}},zse=class extends Ka{static{o(this,"EnvironmentVariableRootCertificateReader")}async getAllRootCAs(){let t=process.env.NODE_EXTRA_CA_CERTS;return t?await CDe(t):[]}},Yse=class extends Ka{constructor(r){super();this.ctx=r}static{o(this,"LinuxRootCertificateReader")}async getAllRootCAs(){let r=[];for(let n of["/etc/ssl/certs/ca-certificates.crt","/etc/ssl/certs/ca-bundle.crt"]){let i=await CDe(n);S6.debug(this.ctx,`Read ${i.length} certificates from ${n}`),r=r.concat(i)}return r}},Kse=class extends Ka{constructor(r){super();this.ctx=r}static{o(this,"MacRootCertificateReader")}getAllRootCAs(){let r=gDe.get();return S6.debug(this.ctx,`Read ${r.length} certificates from Mac keychain`),r}},Jse=class extends Ka{constructor(r){super();this.ctx=r}static{o(this,"WindowsRootCertificateReader")}getAllRootCAs(){let r=yDe.all();return S6.debug(this.ctx,`Read ${r.length} certificates from Windows store`),r}},Zse=class extends Ka{static{o(this,"UnsupportedPlatformRootCertificateReader")}getAllRootCAs(){return Promise.reject(new Error("No certificate reader available for unsupported platform"))}};async function CDe(e){try{let r=(await pDe.promises.readFile(e,{encoding:"utf8"})).match(/-----BEGIN CERTIFICATE-----[\s\S]*?-----END CERTIFICATE-----/g);if(!r)return[];let n=r.filter(s=>s.length>0),i=new Set(n);return Array.from(i)}catch(t){if(t instanceof Error&&"code"in t&&t.code==="ENOENT")return[];throw t}}o(CDe,"readCertsFromFile");d();var BDe=et(require("http"));var h8t=407,cc=new Vt("proxySocketFactory"),pg=class{static{o(this,"ProxySocketFactory")}},Wx=class extends Error{static{o(this,"ProxySocketError")}constructor(t,r,n){super(t),this.code=r?.code,this.syscall=r?.syscall,this.errno=r?.errno,/^Failed to establish a socket connection to proxies:/.test(r?.message??"")?this.code="ProxyFailedToEstablishSocketConnection":/^InitializeSecurityContext:/.test(r?.message??"")?this.code="ProxyInitializeSecurityContext":r?.message==="Miscellaneous failure (see text): Server not found in Kerberos database"?this.code="ProxyKerberosServerNotFound":/^Unspecified GSS failure. {2}Minor code may provide more information: No Kerberos credentials available/.test(r?.message??"")&&(this.code="ProxyGSSFailureNoKerberosCredentialsAvailable"),n!==void 0&&(this.code=n)}};function zq(e){return new tae(e,new rae(e))}o(zq,"getProxySocketFactory");var tae=class extends pg{constructor(r,n,i=new tk,s=process.platform){super();this.ctx=r;this.delegate=n;this.kerberosLoader=i;this.platform=s;this.successfullyAuthorized=new In(20)}static{o(this,"KerberosProxySocketFactory")}async createSocket(r,n){this.successfullyAuthorized.get(this.getProxyCacheKey(n))&&(cc.debug(this.ctx,"Proxy authorization already successful once, skipping 407 rountrip"),await this.reauthorize(r,n));try{return await this.delegate.createSocket(r,n)}catch(i){if(i instanceof Wx&&i.code===`ProxyStatusCode${h8t}`){cc.debug(this.ctx,"Proxy authorization required, trying to authorize first time");let s=await this.authorizeAndCreateSocket(r,n);if(s)return cc.debug(this.ctx,"Proxy authorization successful, caching result"),jt(this.ctx,"proxy.kerberosAuthorized"),this.successfullyAuthorized.set(this.getProxyCacheKey(n),!0),s}throw i}}async reauthorize(r,n){let i=await this.authorize(n);i&&(cc.debug(this.ctx,"Proxy re-authorization successful, received token"),r.headers["Proxy-Authorization"]="Negotiate "+i)}async authorizeAndCreateSocket(r,n){let i=await this.authorize(n);if(cc.debug(this.ctx,"Proxy authorization successful, received token"),i)return cc.debug(this.ctx,"Trying to create socket with proxy authorization"),r.headers["Proxy-Authorization"]="Negotiate "+i,await this.delegate.createSocket(r,n)}async authorize(r){cc.debug(this.ctx,"Loading kerberos module");let n=await this.kerberosLoader.load(),i=this.computeSpn(r);cc.debug(this.ctx,"Initializing kerberos client using spn",i);let s=await n.initializeClient(i);cc.debug(this.ctx,"Perform client side kerberos step");let a=await s.step("");return cc.debug(this.ctx,"Received kerberos server response"),a}computeSpn(r){let n=r.kerberosServicePrincipal;if(n)return cc.debug(this.ctx,"Using configured kerberos spn",n),n;let i=this.platform==="win32"?`HTTP/${r.host}`:`HTTP@${r.host}`;return cc.debug(this.ctx,"Using default kerberos spn",i),i}getProxyCacheKey(r){return r.host+":"+r.port}},rae=class extends pg{constructor(r){super();this.ctx=r}static{o(this,"TunnelingProxySocketFactory")}async createSocket(r,n){let i=this.createConnectRequestOptions(r,n);return new Promise((s,a)=>{cc.debug(this.ctx,"Attempting to establish connection to proxy");let l=BDe.request(i);l.useChunkedEncodingByDefault=!1,l.once("connect",(c,u,f)=>{cc.debug(this.ctx,"Socket Connect returned status code",c.statusCode),l.removeAllListeners(),u.removeAllListeners(),c.statusCode!==200?(u.destroy(),a(new Wx(`tunneling socket could not be established, statusCode=${c.statusCode}`,void 0,`ProxyStatusCode${c.statusCode}`))):f.length>0?(u.destroy(),a(new Wx(`got non-empty response body from proxy, length=${f.length}`,void 0,"ProxyNonEmptyResponseBody"))):(cc.debug(this.ctx,"Successfully established tunneling connection to proxy"),s(u))}),l.once("error",c=>{cc.debug(this.ctx,"Proxy socket connection error",c.message),l.removeAllListeners(),a(new Wx(`tunneling socket could not be established, cause=${c.message}`,c))}),l.on("timeout",()=>{cc.debug(this.ctx,"Proxy socket connection timeout"),a(new Wx(`tunneling socket could not be established, proxy socket connection timeout while connecting to ${i.host}:${i.port}`,void 0,"ProxyTimeout"))}),l.end()})}createConnectRequestOptions(r,n){let i=`${r.hostname}:${r.port}`,s={...n,method:"CONNECT",path:i,agent:!1,headers:{host:i,"Proxy-Connection":"keep-alive"},timeout:r.timeout};return r.localAddress&&(s.localAddress=r.localAddress),this.configureProxyAuthorization(s,r),s}configureProxyAuthorization(r,n){r.headers["Proxy-Authorization"]=[],r.proxyAuth&&r.headers["Proxy-Authorization"].push("Basic "+Buffer.from(r.proxyAuth).toString("base64")),n.headers&&n.headers["Proxy-Authorization"]&&r.headers["Proxy-Authorization"].push(n.headers["Proxy-Authorization"])}},tk=class{static{o(this,"KerberosLoader")}load(){return Promise.resolve().then(()=>et(RDe()))}};d();var NDe=require("node:os");var p8t=new Vt("repository"),Gx="\\\\",LDe="(?:[#;].*)",B6=`(?:[^"${Gx}]|${Gx}.)`,g8t="[0-9A-Za-z-]",DDe=`[A-Za-z]${g8t}*`,QDe=`\\s*${LDe}?$`,MDe=`(?:[^"${Gx};#]|${Gx}.)`,A8t=`(?:"${B6}*"|"${B6}*(?<strCont>${Gx})$)`,y8t=`(?:${MDe}|${A8t})+`,C8t=`(?:(?<cont>${Gx})$)`,ODe=`(?<value>${y8t})${C8t}?${QDe}`,PDe=new RegExp(`^${ODe}`),x8t=new RegExp(`^(?<value>${B6}*(?:(?<strCont>${Gx})$|(?<quote>")))`),v8t=new RegExp(`^\\s*(?:(?<key>${DDe})\\s*=\\s*${ODe}|(?<soloKey>${DDe})${QDe})`),b8t=new RegExp(`(?<value>${MDe}+)|"(?<string>${B6}*)"`,"g"),FDe="[-.0-9A-Za-z]+",E8t=`\\s+"(?<ext>${B6}*)"`,I8t=`\\s+"(?<extOnly>${B6}*)"`,T8t=new RegExp(`^\\s*\\[(?:(?<simple>${FDe})${E8t}|${I8t}|(?<simpleOnly>${FDe}))\\]`),w8t=new RegExp(`^\\s*${LDe}$`),nae=class{constructor(t){this.content=t;this.stopped=!1;this.section="";this.line="";this.lineNum=0;this.lines=[];this.linesWithErrors=[]}static{o(this,"GitConfigParser")}parse(t){for(this.stopped=!1,this.section="",this.line="",this.linesWithErrors=[],this.configValueHandler=t,this.lines=this.content.split(/\r?\n/),this.lineNum=0;!this.stopped&&this.lineNum<this.lines.length;this.lineNum++)this.line=this.lines[this.lineNum],this.parseSectionStart(),this.parseConfigPair(),this.parseComment(),/^\s*$/.test(this.line)||this.errorAt(this.lineNum+1)}stop(){this.stopped=!0}hasErrors(){return this.linesWithErrors.length>0}errorAt(t){this.linesWithErrors.push(t)}parseSectionStart(){let t=this.line.match(T8t);t&&(t.groups?.simple?this.section=t.groups.simple.toLowerCase()+"."+this.unescapeBaseValue(t.groups.ext):t.groups?.extOnly?this.section="."+this.unescapeBaseValue(t.groups.extOnly):this.section=t.groups.simpleOnly.toLowerCase(),this.line=this.line.slice(t[0].length))}unescapeBaseValue(t){return t.replace(/\\(.)/g,"$1")}parseConfigPair(){let t=this.line.match(v8t);if(t){if(t.groups?.key){let r=this.handleContinued(t);this.configValueHandler?.(this.nameWithSection(t.groups.key.toLowerCase()),r)}else t.groups?.soloKey&&this.configValueHandler?.(this.nameWithSection(t.groups.soloKey.toLowerCase()),"");this.line=""}}handleContinued(t){let r=t,n=[this.matchedValue(r)];for(;r?.groups?.cont||r?.groups?.strCont;){if(this.line=this.lines[++this.lineNum],this.lineNum>=this.lines.length){this.errorAt(this.lineNum);break}r.groups.strCont?(r=this.line.match(x8t),r?(n.push(this.matchedValue(r)),r.groups?.quote&&(r=this.line.slice(r[0].length).match(PDe),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))):this.errorAt(this.lineNum+1)):(r=this.line.match(PDe),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))}return this.normalizeValue(n.join(""))}matchedValue(t){return t.groups.strCont?t.groups.value.slice(0,-1):t.groups.value}normalizeValue(t){let r=!1,n=[...t.matchAll(b8t)].map(i=>i.groups?.value?(r=!0,this.unescapeValue(i.groups.value.replace(/\s/g," "))):(r=!1,this.unescapeValue(i.groups.string))).join("");return r?n.trimEnd():n}unescapeValue(t){let r={n:`
`,t:"	",b:"\b"};return t.replace(/\\(.)/g,(n,i)=>r[i]||i)}nameWithSection(t){return this.section?this.section+"."+t:t}parseComment(){w8t.test(this.line)&&(this.line="")}},Yq=class extends eh{static{o(this,"GitParsingConfigLoader")}async getConfig(t,r){let n=await z1.getRepoConfigLocation(t,r);if(!n)return;let i=await this.getParsedConfig(t,n);if(i)return this.mergeConfig(await this.baseConfig(t,n),i)}mergeConfig(...t){return t.filter(r=>r!==void 0).reduce((r,n)=>r.concat(n),new V4)}async getParsedConfig(t,r,n=!0){let i=await this.tryLoadConfig(t,r,n);if(!i)return;let s=new nae(i),a=new V4;return s.parse((l,c)=>a.add(l,c)),a}async tryLoadConfig(t,r,n){try{return await t.get(Io).readFileString(r)}catch(i){(n||!(i instanceof Error)||i.code!=="ENOENT")&&p8t.warn(t,`Failed to load git config from ${JSON.stringify(r)}:`,i);return}}async baseConfig(t,r){let n=await this.commondirConfigUri(t,r),i=Fo(this.xdgConfigUri(),"git","config"),s=Fo(this.homeUri(),".gitconfig");return this.mergeConfig(await this.getParsedConfig(t,i,!1),await this.getParsedConfig(t,s,!1),n?await this.getParsedConfig(t,n,!1):void 0)}async commondirConfigUri(t,r){if(Di(r).toLowerCase()!=="config.worktree")return;let n=ju(r),i=Fo(n,"commondir");try{let s=(await t.get(Io).readFileString(i)).trimEnd();return Fo(p4(n,s),"config")}catch{return}}xdgConfigUri(){return typeof process<"u"&&process.env.XDG_CONFIG_HOME?sl(process.env.XDG_CONFIG_HOME):Fo(this.homeUri(),".config")}homeUri(){return sl((0,NDe.homedir)())}};d();var UDe=require("child_process");var Kq=class extends eh{static{o(this,"GitCLIConfigLoader")}runCommand(t,r,n){return new Promise((i,s)=>{(0,UDe.execFile)(r,n,{cwd:t},(a,l)=>{a?s(a):i(l)})})}async tryRunCommand(t,r,n,i){try{return await this.runCommand(r,n,i)}catch(s){ibe.info(t,`Failed to run command '${n}' in ${r}:`,s);return}}async getConfig(t,r){let n=Mo(r);if(n===void 0)return;let i=await this.tryRunCommand(t,n,"git",["-c","safe.directory=*","config","--list","--null",...this.extraArgs()]);return i?this.extractConfig(i):void 0}extractConfig(t){let r=new V4;for(let n of t.split("\0").filter(i=>i)){let i=n.split(`
`,1)[0],s=n.slice(i.length+1);r.add(i,s)}return r}extraArgs(){return[]}};d();var WDe=et(require("node:events"));var qDe="onWorkspaceChanged",Ef=class{constructor(){this.emitter=new WDe.default}static{o(this,"WorkspaceNotifier")}onChange(t){this.emitter.on(qDe,t)}emit(t){this.emitter.emit(qDe,t)}};function GDe(e){let t=K8e(e);return _8t(t),t.set(Ka,$q(t)),t.set(pg,zq(t)),t.set(eh,new kQ([new Kq,new Yq])),t.set(Ef,new Ef),t.set(cx,new cx(t)),t}o(GDe,"createProductionContext");function _8t(e){e.set(ld,ld.fromEnvironment(!1)),e.set(Np,new C8),e.set(qa,new gO(console))}o(_8t,"setupRudimentaryLogging");var Tzr=new Vt("context");d();d();var Jr=new Vt("chat");d();d();var Ll=(s=>(s.System="system",s.User="user",s.Assistant="assistant",s.Function="function",s.Tool="tool",s))(Ll||{});function an(e){return e?typeof e=="string"?e:e.map(t=>"text"in t?t.text:"").join(""):""}o(an,"getTextPart");var HDe=o((e,t)=>I.Unsafe({type:"string",enum:e,description:t?.description}),"StringEnum"),jDe=I.Optional(I.Object({agentSlug:I.String(),state:I.Union([I.Literal("accepted"),I.Literal("dismissed")]),confirmation:I.Any()}));function sC(e){if(typeof e.function.arguments=="string")try{return JSON.parse(e.function.arguments)}catch{return{}}return e.function.arguments}o(sC,"parseToolCallArguments");function VDe(e){return typeof e.function.arguments=="object"&&(e.function.arguments=JSON.stringify(e.function.arguments)),e}o(VDe,"toOpenAIToolCall");function $De(e,t,r,n,i,s,a,l){let c=JSON.parse(JSON.stringify(t));return r.tool_calls&&(c.tool_calls=r.tool_calls),$I(e,[c],l),{message:t,choiceIndex:n,requestId:i,blockFinished:s,finishReason:a,tokens:r.tokens,numTokens:r.tokens.length,tool_calls:r.tool_calls,function_call:r.function_call,telemetryData:l}}o($De,"convertToChatCompletion");d();var iae=new Vt("streamMessages");function zDe(e,t,r){let n=t.solution.text.join(""),i=!1;t.finishOffset!==void 0&&(iae.debug(e,`message ${t.index}: early finish at offset ${t.finishOffset}`),n=n.substring(0,t.finishOffset),i=!0),iae.info(e,`message ${t.index} returned. finish reason: [${t.reason}]`),iae.debug(e,`message ${t.index} details: finishOffset: [${t.finishOffset}] completionId: [{${t.requestId.completionId}}] created: [{${t.requestId.created}}]`);let s=A_(t.solution),a={role:"assistant",content:n};return $De(e,a,s,t.index,t.requestId,i,t.reason??"",r)}o(zDe,"prepareChatCompletionForReturn");var $d=new Vt("fetchChat"),Jq=class{static{o(this,"OpenAIChatMLFetcher")}async fetchAndStreamChat(t,r,n,i,s){let a=await this.fetchWithParameters(t,r.endpoint,r,n,s);if(a==="not-sent")return{type:"canceled",reason:"before fetch request"};if(s?.isCancellationRequested){let l=a.body();try{l.destroy()}catch(c){$d.exception(t,c,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(a.status!==200){let l=this.createTelemetryData(r.endpoint,t,r);return this.handleError(t,l,a)}if(r.postOptions?.stream===!1){let l=await a.text(),c=JSON.parse(l),u=c.choices!=null?c.choices[0].message:{role:"assistant",content:""},f=a.headers.get("X-Request-ID")??Ir(),m={blockFinished:!1,choiceIndex:0,finishReason:"stop",message:u,tokens:an(u.content).split(" "),requestId:{headerRequestId:f,completionId:c.id?c.id:"",created:c.created?Number(c.created):0,deploymentId:"",serverExperiments:""},telemetryData:n,numTokens:0},h=an(u.content);return await i(h,{text:h,copilotReferences:c.copilot_references}),{type:"success",chatCompletions:async function*(){yield m}(),getProcessingTime:o(()=>zI(a),"getProcessingTime")}}else{let c=h5.create(t,r.count,a,n,[],s).processSSE(i);return{type:"success",chatCompletions:K1(c,f=>zDe(t,f,n)),getProcessingTime:o(()=>zI(a),"getProcessingTime")}}}createTelemetryData(t,r,n){return cn.createAndMarkAsIssued({endpoint:t,engineName:n.engineName,uiKind:n.uiKind,headerRequestId:n.ourRequestId})}async fetchWithParameters(t,r,n,i,s){let a={messages:n.messages,tools:n.tools,tool_choice:n.tool_choice,model:n.model,temperature:YI(t,n.count),top_p:jQ(t),n:n.count,stop:[`


`],copilot_thread_id:n.copilot_thread_id},l=q1(n.repoInfo);return l!==void 0&&(a.nwo=l),n.postOptions&&Object.assign(a,n.postOptions),n.intent&&(a.intent=n.intent,n.intent_model&&(a.intent_model=n.intent_model),n.intent_tokenizer&&(a.intent_tokenizer=n.intent_tokenizer),n.intent_threshold&&(a.intent_threshold=n.intent_threshold),n.intent_content&&(a.intent_content=n.intent_content)),s?.isCancellationRequested?"not-sent":await S8t(t,n.messages,n.capiUrl,n.engineName,r,n.ourRequestId,a,n.authToken,n.uiKind,i,n.llmInteraction,s)}async handleError(t,r,n){if(n.clientError&&!n.headers.get("x-github-request-id")){let s=`Last response was a ${n.status} error and does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`;$d.error(t,s),r.properties.error=`Response status was ${n.status} with no x-github-request-id header`}else r.properties.error=`Response status was ${n.status}`;if(r.properties.status=String(n.status),jt(t,"request.shownWarning",r),n.status===401)try{let s=await n.text(),a=JSON.parse(s);if(a.authorize_url)return{type:"authRequired",reason:"not authorized",authUrl:a.authorize_url}}catch{}if(n.status===401||n.status===403)return t.get(Xr).resetToken(n.status),{type:"failed",reason:`token expired or invalid: ${n.status}`,code:n.status};if(n.status===499)return $d.info(t,"Cancelled by server"),{type:"failed",reason:"canceled by server",code:n.status};let i=await n.text();if(n.status===466)return $d.info(t,i),{type:"failed",reason:`client not supported: ${i}`,code:n.status};if(n.status===400&&i.includes("off_topic"))return{type:"failed",reason:"filtered as off_topic by intent classifier: message was not programming related",code:n.status};if(n.status===400&&i.includes("model_not_supported"))return{type:"failed",reason:"model is not supported.",code:n.status};if(n.status===424)return{type:"failedDependency",reason:i};if(n.status===402){if(i.includes("free_quota_exceeded")){let l=n.headers.get("retry-after");return{type:"failed",reason:l?`You've reached your monthly chat messages limit. Upgrade to Copilot Pro (30-day free trial) or wait until ${new Date(l).toLocaleString()} for your limit to reset.`:"You've reached your monthly chat messages limit. Upgrade to Copilot Pro (30-day free trial) or wait for your limit to reset.",code:n.status}}else if(i.includes("overage_limit_reached"))return{type:"failed",reason:"You cannot accrue additional overages at this time. Please contact [GitHub Support](https://support.github.com/contact) to continue using Copilot.",code:n.status};return{type:"failed",reason:"Quota Exceeded.",code:n.status}}return $d.error(t,"Unhandled status from server:",n.status,i),{type:"failed",reason:`unhandled status from server: ${n.status} ${i}`,code:n.status}}};async function S8t(e,t,r,n,i,s,a,l,c,u,f,m){let h=Fo(r,n,i);if(!l)throw new Error(`Failed to send request to ${h} due to missing key`);let p=u.extendedBy({endpoint:i,engineName:n,uiKind:c});for(let[E,b]of Object.entries(a))E!="messages"&&(p.properties[`request.option.${E}`]=JSON.stringify(b)??"undefined");p.properties.headerRequestId=s,jt(e,"request.sent",p);let g=Xs(),x=Xbe(c),v={...zy(e),...f.toCapiHeaders()};return a.messages?.some(E=>Array.isArray(E.content)?E.content.some(b=>"image_url"in b):!1)&&(v["Copilot-Vision-Request"]="true"),a.messages&&a.messages.forEach(E=>{k8t(E)&&E.tool_calls&&(E.tool_calls=E.tool_calls.map(b=>VDe(b)))}),K3(e,h,l,x,s,a,m,v).then(E=>{let b=p5(E,void 0);p.extendWithRequestId(b);let _=Xs()-g;return p.measurements.totalTimeMs=_,$d.info(e,`request.response: [${h}] took ${_} ms`),$d.debug(e,"request.response properties",p.properties),$d.debug(e,"request.response measurements",p.measurements),$d.debug(e,"messages:",JSON.stringify(t)),jt(e,"request.response",p),E}).catch(E=>{if(Ec(E))throw E;let b=p.extendedBy({error:"Network exception"});jt(e,"request.shownWarning",b),p.properties.message=String(l0(E,"name")??""),p.properties.code=String(l0(E,"code")??""),p.properties.errno=String(l0(E,"errno")??""),p.properties.type=String(l0(E,"type")??"");let _=Xs()-g;throw p.measurements.totalTimeMs=_,$d.debug(e,`request.response: [${h}] took ${_} ms`),$d.debug(e,"request.error properties",p.properties),$d.debug(e,"request.error measurements",p.measurements),jt(e,"request.error",p),E}).finally(()=>{$I(e,t,p)})}o(S8t,"fetchWithInstrumentation");function k8t(e){return"tool_calls"in e}o(k8t,"isChatMessageWithToolCalls");var ka=class{constructor(t){this.ctx=t;this.fetcher=new Jq}static{o(this,"ChatMLFetcher")}async fetchResponse(t,r,n,i){let s=Ir(),a={n:t.num_suggestions??1,temperature:t.temperature??0,stop:t.stop,top_p:t.topP??1,copilot_thread_id:t.copilot_thread_id},l=t.modelConfiguration;l&&(a.max_tokens=l.maxResponseTokens,a.stream=!!l.stream),t.logitBias&&(a.logit_bias=t.logitBias);let c=await this.ctx.get(Xr).getToken(),u=mI(this.ctx,c),f=t.endpoint??"completions",m=t.authToken??c.token,h={messages:t.messages,repoInfo:void 0,ourRequestId:s,capiUrl:u,engineName:t.engineName??"chat",endpoint:f,count:t.num_suggestions??1,uiKind:t.uiKind,postOptions:a,authToken:m,...t.intentParams,llmInteraction:t.llmInteraction};return l&&(h.model=l.modelId),t.tools&&t.tools?.length>0&&(l===void 0||l.toolCalls)&&(h.tools=t.tools,h.tool_choice=t.tool_choice??"auto"),await this.fetch(h,i,r,n)}async fetch(t,r,n,i){try{let s=await this.fetcher.fetchAndStreamChat(this.ctx,t,i.extendedBy({uiKind:t.uiKind}),r||(()=>{}),n);switch(s.type){case"success":return await this.processSuccessfulResponse(s,t.ourRequestId,i);case"canceled":return this.processCanceledResponse(s,t.ourRequestId);case"failed":case"failedDependency":return this.processFailedResponse(s,t.ourRequestId);case"authRequired":return{type:"agentAuthRequired",reason:"Agent authentication required.",authUrl:s.authUrl,requestId:t.ourRequestId}}}catch(s){return this.processError(s,t.ourRequestId)}}async processSuccessfulResponse(t,r,n){let i=[],s=h_(t.chatCompletions,a=>this.postProcess(a,n));for await(let a of s)Jr.debug(this.ctx,`Received choice: ${JSON.stringify(a,null,2)}`),i.push(a);if(i.length==1){let a=i[0];switch(a.finishReason){case"stop":return{type:"success",value:an(a.message?.content)??"",toolCalls:a.tool_calls,requestId:r,numTokens:a.numTokens};case"tool_calls":return{type:"tool_calls",toolCalls:a.tool_calls,requestId:r};case"content_filter":return{type:"filtered",reason:"Response got filtered.",requestId:r};case"length":return{type:"length",reason:"Response too long.",requestId:r};case"DONE":return{type:"no_finish_reason",reason:"No finish reason received.",requestId:r};default:return{type:"unknown",reason:"Unknown finish reason received.",requestId:r}}}else if(i.length>1){let a=i.filter(l=>l.finishReason=="stop"||l.finishReason=="tool_calls");if(a.length>0)return{type:"successMultiple",value:a.map(l=>an(l.message.content)),toolCalls:a.map(l=>l.tool_calls).filter(l=>l),requestId:r}}return{type:"no_choices",reason:"Response contained no choices.",requestId:r}}postProcess(t,r){return cO(t.tokens)?(r.extendWithRequestId(t.requestId),jt(this.ctx,"conversation.repetition.detected",r,0),t.finishReason!==""?t:void 0):t.message?t:void 0}processCanceledResponse(t,r){return Jr.debug(this.ctx,"Cancelled after awaiting fetchConversation"),{type:"canceled",reason:t.reason,requestId:r}}processFailedResponse(t,r){return t?.reason.includes("filtered as off_topic by intent classifier")?{type:"offTopic",reason:t.reason,requestId:r}:t?.reason.includes("model is not supported")?{type:"model_not_supported",reason:t.reason,requestId:r}:{type:"failed",reason:t.reason,requestId:r,code:t.type==="failed"?t.code:void 0}}processError(t,r){return Ec(t)?{type:"canceled",reason:"network request aborted",requestId:r}:(Jr.exception(this.ctx,t,"Error on conversation request"),{type:"failed",reason:"Error on conversation request. Check the log for more details.",requestId:r})}};d();var gg=class{constructor(t){this.ctx=t}static{o(this,"AbstractClientToolConfirmationInvoker")}};d();var aC=class{constructor(t){this.ctx=t}static{o(this,"AbstractClientToolInvoker")}};d();var uc=class{constructor(t){this.ctx=t}static{o(this,"EditProgressReporter")}},Zq=class extends uc{constructor(){super(...arguments);this.items=[]}static{o(this,"LibTestEditProgressReporter")}reset(){this.items=[]}async reportTurn(r,n){this.items.push({editConversationId:r.editConversationId,editTurnId:r.editTurnId,...n})}};d();d();d();var lC=class extends Error{static{o(this,"CopilotEditsCancelledByUserException")}constructor(){super("Operation cancelled by user"),this.name="CopilotEditsCancelledByUserException"}};d();var cC=class extends Error{static{o(this,"CopilotEditsProcessCodeBlockException")}constructor(t){super(t),this.name="CopilotEditsProcessCodeBlockException"}};d();d();var D6="filepath:",Ql="...existing code...",Hx="copilot-edited-file";d();function y0(e){let t=e.matchAll(/^\s*(```+)/gm),r=Math.max(3,...Array.from(t,n=>n[1].length+1));return"`".repeat(r)}o(y0,"getFenceForCodeBlock");var oae=class{constructor(t){this.props=t}static{o(this,"CodeBlockChangeDescription")}render(){if(this.props.markdownBeforeBlock)return["This is the description of what the code block changes:","<changeDescription>",this.props.markdownBeforeBlock,"","</changeDescription>",""].join(`
`)}},Xq=class{constructor(t){this.props=t}static{o(this,"CodeMapperPrompt")}async render(){let t=await this.props.textDocumentProvider.getByUri(this.props.uri.toString());return[{role:"system",content:this.buildSystemMessage(t)},{role:"user",content:await this.buildUserMessage(t)}]}transformToSpeculationPrompt(t,r,n){return t.reduce((s,a)=>{if(a.role==="system"){let l=an(a.content).endsWith(`
`)?an(a.content):`${an(a.content)}
`;return`${s}<SYSTEM>
${l}
End your response with </${Hx}>.
</SYSTEM>


`}return s+an(a.content)},"")+`


The resulting document:
<${Hx}>
${n}${r}
`}buildSystemMessage(t){if(t.status!=="valid")return"";let r=[];return r.push("You are an AI programming assistant that is specialized in applying code changes to an existing document.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal.",`The user has a code block that represents a suggestion for a code change and a ${t.document.detectedLanguageId} file opened in a code editor.`,"Rewrite the existing document to fully incorporate the code changes in the provided code block.","For the response, always follow these instructions:","1. Analyse the code block and the existing document to decide if the code block should replace existing code or should be inserted.","2. If necessary, break up the code block into multiple parts and insert each part at the appropriate location.","3. Preserve whitespace and newlines right after the parts of the file that you modify.",`4. The final result must be syntactically valid, properly formatted, and correctly indented. It should not contain any \`${Ql}\` comments.`,"5. Finally, provide the fully rewritten file. You must output the complete file."),r.join(`
`)}async buildUserMessage(t){let r=[];if(t.status!=="valid")return"";if(t.document.getText().length>0){let a=y0(t.document.getText());r.push(`I have the following code open in the editor, starting from line 1 to line ${t.document.lineCount}.`,`${a}${t.document.detectedLanguageId}`,t.document.getText(),`${a}`)}else r.push("I am in an empty editor.");let i=new oae({markdownBeforeBlock:this.props.markdownBeforeBlock}).render();i&&r.push(i);let s=y0(this.props.codeBlock);return r.push("This is the code block that represents the suggested code change:",`${s}${t.document.detectedLanguageId}`,this.props.codeBlock,`${s}`,"<userPrompt>","Provide the fully rewritten file, incorporating the suggested code change. You must produce the complete file.","</userPrompt>"),r.join(`
`)}};d();var Ag=class{constructor(t){this.ctx=t}static{o(this,"DefaultTextDocumentProvider")}async getByUri(t){return await this.ctx.get(Dn).getOrReadTextDocument({uri:t})}};var P6=class{static{o(this,"CodeMapper")}constructor(t){this.ctx=t,this.logger=new Vt("CopilotEditsCodeMapper")}async mapCode(t,r,n,i=!1){if(!t.resource)throw new cC("No uri found in code block");if(r.isCancellationRequested)throw new lC;if(!t.code.includes(Ql))if(this.logger.debug(this.ctx,`Code block for uri ${t.resource} does not contain existing code marker`),i)this.logger.debug(this.ctx,`Running in agent mode, continue to do the speculation for ${t.resource}`);else return n&&await this.reportCodeBlock(t,n),t.code;let s=await this.ctx.get(Dn).getOrReadTextDocument({uri:t.resource});if(s.status==="notfound")return n&&await this.reportCodeBlock(t,n),t.code;if(s.status==="invalid"){let x=`Failed to find file ${t.resource} with status ${s.status} and reason ${s.reason}`,v=new cC(x);throw this.logger.error(this.ctx,x,v),v}let a=new Xq({documentContext:{document:s},codeBlock:t.code,uri:t.resource,markdownBeforeBlock:t.markdownBeforeBlock,textDocumentProvider:new Ag(this.ctx)}),l=await a.render(),c=s.document.detectedLanguageId,u=y0(t.code),f=s.document.getText();if(f.length>0){let x=y0(f);x.length>u.length&&(u=x)}let m=a.transformToSpeculationPrompt(l,c,u);n&&await n({fileGenerationStatus:"edit-plan-generated",uri:t.resource,basename:Di(t.resource),editDescription:t.markdownBeforeBlock});let h=await this.ctx.get(cx).fetchSpeculation({prompt:m,speculation:s.document.getText(),languageId:c,stops:[`\`\`\`
</${Hx}>`,`\`\`\`\r
</${Hx}>`,`</${Hx}>`]},r),p=[];for await(let x of h.choices)p.push(x.completionText);let g=p.find(x=>x.length>0);if(g)return n&&await n({fileGenerationStatus:"updated-code-generated",uri:t.resource,basename:Di(t.resource),partialText:g,languageId:c,markdownCodeFence:y0(g)}),g;{let x=`No valid completion found for uri ${t.resource}`;throw new cC(x)}}async reportCodeBlock(t,r){await r({fileGenerationStatus:"edit-plan-generated",uri:t.resource,basename:Di(t.resource),editDescription:t.markdownBeforeBlock}),await r({fileGenerationStatus:"updated-code-generated",partialText:t.code,uri:t.resource,basename:Di(t.resource)})}};d();var C0=class extends Error{constructor(r){super(r.message);this.editConversationError=r;this.name="EditConversationException"}static{o(this,"EditConversationException")}};d();d();var F6=class{static{o(this,"CapiErrorTranslator")}static translateErrorMessage(t,r){switch(t){case 466:return"Oops, your plugin is out of date. Please update it.";case 401:return"Oops, you are not authorized. Please sign in.";case 402:return r||"Oops, you need to upgrade your plan.";case 413:return"Oops, your request is too large. Please try again with a smaller input.";case 429:return"Oops, you reached the rate limit. Please try again later.";default:return"Sorry, an error occurred while generating a response."}}};d();d();var eW=class extends Error{static{o(this,"EditTurnNotFoundException")}constructor(t){super(t),this.name="EditTurnNotFoundException"}};var uC=class{constructor(t,r){this.request=t;this.id=Ir();this.timestamp=Date.now();this.status="in-progress";this.workingSet=[];r&&r.length>0&&(this.workingSet=r)}static{o(this,"EditTurn")}},sae=class{constructor(t=[]){this.turns=[];this.turns=t}static{o(this,"EditTurnManager")}addTurn(t){this.turns.push(t)}deleteTurn(t){this.turns=this.turns.filter(r=>r.id!==t)}getLastTurn(){if(this.turns.length!==0)return this.turns[this.turns.length-1]}hasTurn(t){return this.turns.some(r=>r.id===t)}getTurns(){return[...this.turns]}},tW=class{constructor(t=[],r="panel",n="en"){this._id=Ir();this._timestamp=Date.now();this.source="panel";this.userLanguage="en";this.source=r,this.userLanguage=n,this.turnsManager=new sae(t)}static{o(this,"EditConversation")}get id(){return this._id}get timestamp(){return this._timestamp}getUserLanguage(){return this.userLanguage}getTurns(){return this.turnsManager.getTurns()}getSource(){return this.source}addTurn(t){this.turnsManager.addTurn(t)}deleteTurn(t){this.turnsManager.deleteTurn(t)}getLastTurn(){let t=this.turnsManager.getLastTurn();if(t===void 0)throw new eW(`No turns in the conversation ${this._id}`);return t}hasTurn(t){return this.turnsManager.hasTurn(t)}};var rW=class{static{o(this,"EditCodeResultProcessor")}static processResult(t,r){switch(r.type){case"success":return r.value;case"offTopic":{t.currentTurn.status="off-topic";let n="Sorry, but I can only assist with programming related questions.";throw t.currentTurn.response={message:n,type:"offtopic-detection"},new C0({message:n,responseIsFiltered:!0})}case"canceled":throw t.currentTurn.status="cancelled",t.currentTurn.response={message:Gy,type:"user"},new C0({message:Gy});case"failed":throw t.currentTurn.status="error",t.currentTurn.response={message:r.reason,type:"server"},new C0({message:F6.translateErrorMessage(r.code,r.reason),code:r.code});case"filtered":throw t.currentTurn.status="filtered",new C0({message:"Oops, your response got filtered.",responseIsFiltered:!0});case"length":throw t.currentTurn.status="error",new C0({message:"Oops, the response got too long. Try to reformulate your question.",responseIsIncomplete:!0});case"agentAuthRequired":throw t.currentTurn.status="error",t.currentTurn.response={message:"Authorization required",type:"server"},new C0({message:"Authorization required",responseIsFiltered:!1});case"no_choices":throw t.currentTurn.status="error",t.currentTurn.response={message:"No choices returned",type:"server"},new C0({message:"Oops, no choices received from the server. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0});case"no_finish_reason":throw t.currentTurn.status="error",t.currentTurn.response={message:"No finish reason",type:"server"},new C0({message:"Oops, unexpected end of stream. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0});case"model_not_supported":throw t.currentTurn.status="error",t.currentTurn.response={message:"Model not supported",type:"server"},new C0({message:"Oops, the model is not supported. Please try again.",code:400,reason:"model_not_supported",responseIsFiltered:!1});case"successMultiple":case"tool_calls":case"unknown":throw t.currentTurn.status="error",new C0({message:"Unknown server side error occurred. Please try again.",responseIsFiltered:!1})}}};d();async function*KDe(e){yield e}o(KDe,"stringToAsyncIterable");d();d();var wA=class{static{o(this,"CopilotEditsPromptUriUtils")}static pathToUri(t,r){let n=t.mapToUriInWorkingSet(r);return n||sl(r)}static uriToPath(t){let r=Mo(t);if(r)return r;throw new Error(`Unsupported URI scheme: ${t.split(":")[0]}`)}static posixFilePathToUri(t){return process.platform==="win32"?`file:///c:${t}`:`file://${t}`}};var nW=class{constructor(t){this.props=t;this.exampleFilePath=this.getExampleFilePath("/path/to/file"),this.tsExampleFilePath=this.getExampleFilePath("/Users/someone/proj01/example.ts")}static{o(this,"EditCodePrompt")}async render(){let t=await this.getValidFilesInWorkingSet(),r=[{role:"system",content:this.buildSystemMessage(t)}];if(this.props.history&&this.props.history.length>0)for(let n of this.props.history)r.push({role:"user",content:n.request.message}),n.response&&n.response.type==="model"&&r.push({role:"assistant",content:n.response.message});return r.push({role:"user",content:this.buildUserMessage(t)}),r}getExampleFilePath(t){return this.getFilePath(wA.posixFilePathToUri(t))}getFilePath(t){return wA.uriToPath(t)}async getValidFilesInWorkingSet(){let t=new Map;if(this.props.workingSet===void 0||this.props.workingSet===null||this.props.workingSet.length===0)return t;for(let r of this.props.workingSet){let n=await this.props.textDocumentProvider.getByUri(r.uri);n.status==="valid"&&t.set(r.uri,n.document)}return t}buildSystemMessage(t){let r=[];return r.push("You are an AI programming assistant.",'When asked for your name, you must respond with "GitHub Copilot".',"Follow the user's requirements carefully & to the letter.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal.",t.size>0?"The user has a request for modifying one or more files.":["If the user asks a question, then answer it.",`If you need to change existing files and it's not clear which files should be changed, then refuse and answer with "Please add the files to be modified to the working set"`].join(`
`),"1. Please come up with a solution that you first describe step-by-step.","2. Group your changes by file. Use the file path as the header.","3. For each file, give a short summary of what needs to be changed followed by a code block that contains the code changes.","4. Each file's code block must start with a comment containing the filepath.","5. Use a single code block per file that needs to be modified, even if there are multiple changes for a file.","6. The user is very smart and can understand how to merge your code blocks into their files, you just need to provide minimal hints.","7. Avoid repeating existing code, instead use comments to represent regions of unchanged code. The user prefers that you are as concise as possible. For example: ",["<file>","````languageId",`// ${D6} ${this.exampleFilePath}`,`// ${Ql}`,"{ changed code }",`// ${Ql}`,"{ changed code }",`// ${Ql}`,"````","</file>"].join(`
`),"8. If you generate edits for a Markdown file, use four backticks for the outer code block.",""),this.props.userLanguage&&r.push(`Respond in the following locale: ${this.props.userLanguage}`),this.props.modelName&&r.push(`You use the ${this.props.modelName} large language model.`),r.push("Here is an example of how you should format a code block belonging to the file example.ts in your response:","<example>",[`### ${this.tsExampleFilePath}`,"","Add a new property 'age' and a new method 'getAge' to the class Person.","","<file>","```typescript",`// ${D6} ${this.tsExampleFilePath}`,"class Person {",`   // ${Ql}`,"   age: number;",`   // ${Ql}`,"   getAge() {","      return this.age;","   }","}","```","</file>"].join(`
`),"</example>"),r.join(`
`)}buildUserMessage(t){let r=[];if(t.size>0){r.push("The user has provided the following files as input. Always make changes to these files unless the user asks to create a new file.","Untitled files are files that are not yet named. Make changes to them like regular files.");for(let[n,i]of t){let s=this.getFilePath(n),a=i.getText(),l=y0(a);r.push("<file>",`${l}${i.detectedLanguageId}`,`// ${D6} ${s}`,`${a}`,`${l}`,"</file>")}}return r.push("<reminder>",`Avoid repeating existing code, instead use a line comment with \`${Ql}\` to represent regions of unchanged code.`,"Each file's code block must start with a line comment containing the filepath. This includes Markdown files.","For existing files, make sure the filepath exactly matches the filepath of the original file."),this.props.workspaceFolder&&r.push(`When suggesting to create new files, pick a location inside \`${this.getFilePath(this.props.workspaceFolder)}\``),r.push("</reminder>"),r.push("<prompt>",`${this.props.userMessage}`,"</prompt>"),r.join(`
`)}};d();d();var iW=class{constructor(t){this._source=t;this._buffer="";this._atEnd=!1}static{o(this,"PartialAsyncTextReader")}get endOfStream(){return this._buffer.length===0&&this._atEnd}async extendBuffer(){if(this._atEnd)return;let{value:t,done:r}=await this._source.next();r?this._atEnd=!0:this._buffer+=t}async waitForLength(t){for(;this._buffer.length<t&&!this._atEnd;)await this.extendBuffer()}async peek(t){return await this.waitForLength(t),this._buffer.substring(0,t)}async read(t){await this.waitForLength(t);let r=this._buffer.substring(0,t);return this._buffer=this._buffer.substring(t),r}async readUntil(t){let r="";for(;!this.endOfStream;){let n=this.readImmediateExcept(t);if(r+=n,await this.peek(1)===t)break}return r}async readLineIncludingLF(){let t=await this.readUntil(`
`);return t+=await this.read(1),t}async readLine(){let t=await this.readUntil(`
`);return await this.read(1),t}readImmediateExcept(t){let r=this._buffer.indexOf(t);return this.readImmediate(r===-1?this._buffer.length:r)}readImmediate(t){let r=this._buffer.substring(0,t);return this._buffer=this._buffer.substring(t),r}};var aae="<file>",rk="```",ik="###",B8t=/^(`+)([^ \n]*)/,nk="filepath:";async function*ZDe(e,t){let r=new iW(e[Symbol.asyncIterator]()),n=[];for(;!r.endOfStream;){for(;!r.endOfStream;){let x=await r.peek(Math.max(rk.length,aae.length,ik.length));if(x.startsWith(aae)||x.startsWith(rk))break;if(x.startsWith(ik)){let v=await r.readLineIncludingLF(),E=v.substring(ik.length).trim();await t(E)?n.length=0:n.push(v)}else await JDe(r,n)}if(r.endOfStream)break;let i=await r.readLineIncludingLF(),s=i.startsWith(aae);for(;!r.endOfStream&&!i.startsWith(rk);)i=await r.readLineIncludingLF();if(r.endOfStream)break;let a=i.match(B8t),l=a?a[2]:void 0,c=OEe(l?NEe(l):void 0),u=[`${c.lineComment.start} ${nk}`,`:: ${nk}`,`<!-- ${nk}`,`// ${nk}`,`# ${nk}`],f=Math.max(...u.map(x=>x.length)),m=c.lineComment.end??"",h="</file>",p,g=[];for(;!r.endOfStream;){let x=await r.peek(Math.max(rk.length,f));if(x.startsWith(rk)){let v=await r.readLineIncludingLF();if(!s)break;if(await r.peek(h.length)===h){await r.readLineIncludingLF();break}else{g.push(v);continue}}if(!p&&u.some(v=>x.startsWith(v))){let v=await r.readLineIncludingLF(),E=u.reduce((b,_)=>x.startsWith(_)?v.substring(_.length):b,v);E=E.split("-->")[0].trim(),E.endsWith(m)&&(E=E.substring(0,E.length-m.length)),E=E.trim(),p=await t(E);continue}await JDe(r,g)}yield{resource:p,language:l,code:g.join(""),markdownBeforeBlock:n.join("")},n.length=0}}o(ZDe,"getCodeBlocksFromResponse");async function JDe(e,t){for(;!e.endOfStream;){let r=e.readImmediateExcept(`
`);if(r.length>0&&t?.push(r),await e.peek(1)===`
`){e.readImmediate(1),t?.push(`
`);break}}}o(JDe,"pipeOneLine");function XDe(e){if(e.startsWith(`${ik} `))return"";let t=e.indexOf(`
${ik} `);return t===-1?"":e.substring(0,t)+`
`}o(XDe,"parseOverallDescription");d();d();var oW=class extends Error{static{o(this,"EditConversationNotFoundException")}constructor(t){super(t),this.name="EditConversationNotFoundException"}};var D8t=new Vt("CopilotEditsConversations"),Ja=class{constructor(t){this.editConversations=new In(50);this.ctx=t}static{o(this,"EditConversations")}create(t="panel",r){let n=new tW([],t,r);return this.editConversations.set(n.id,n),n}destroy(t){this.editConversations.delete(t)!==!0&&D8t.warn(this.ctx,`Edit code conversation ${t} does not exist`)}addTurn(t,r){return this.get(t).addTurn(r),r}deleteTurn(t,r){this.get(t).deleteTurn(r)}get(t){return this.getEditConversation(t)}getEditConversation(t){let r=this.editConversations.get(t);if(!r)throw new oW(`Conversation with id ${t} does not exist`);return r}getAll(){return Array.from(this.editConversations.values())}findByTurnId(t){let r=this.getAll();for(let n of r)if(n.hasTurn(t))return n}};d();d();var ui=class{static{o(this,"ModelConfigurationProvider")}},aW=class extends ui{constructor(r){super();this.ctx=r}static{o(this,"DefaultModelConfigurationProvider")}async getBestChatModelConfig(r,n){let i=[];for(let s of r){let a=await this.getFirstMatchingChatModelConfiguration(s,n);a&&i.push(a)}if(i.length>0){let s=i.find(a=>a.isExperimental);return s||i[0]}throw Jr.error(this.ctx,`No model configuration found for families: ${r.join(", ")}. Available models: ${JSON.stringify(await this.ctx.get(Yu).getMetadata())}`),new Error("No model configuration found")}async getFirstMatchingModelMetadata(r){let n=await this.ctx.get(Yu).getMetadata(),i=P8t(n,r);if(i.length>0)return i[0]}async getFirstMatchingChatModelConfiguration(r,n){let i=await this.getFirstMatchingModelMetadata({family:r,type:"chat",supports:n});if(i!==void 0)return r===mi.Gpt35turbo||r===mi.Gpt4oMini?{modelId:i.id,uiName:i.name,modelFamily:r,maxRequestTokens:lae(6144,i),maxResponseTokens:sW(2048,i),baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:i.capabilities.tokenizer,isExperimental:i.isExperimental??!1,stream:i.capabilities.supports?.streaming??!1,toolCalls:i.capabilities.supports?.tool_calls??!1}:r===mi.Gpt4||r===mi.Gpt4turbo?{modelId:i.id,uiName:i.name,modelFamily:r,maxRequestTokens:lae(10240,i),maxResponseTokens:sW(4096,i),baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:i.capabilities.tokenizer,isExperimental:i.isExperimental??!1,stream:i.capabilities.supports?.streaming??!1,toolCalls:i.capabilities.supports?.tool_calls??!1}:r.includes("claude")?{modelId:i.id,uiName:i.name,modelFamily:r,maxRequestTokens:await ePe(this.ctx,i),maxResponseTokens:sW(8192,i),baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:i.capabilities.tokenizer,isExperimental:i.isExperimental??!1,stream:i.capabilities.supports?.streaming??!1,toolCalls:i.capabilities.supports?.tool_calls??!1}:{modelId:i.id,uiName:i.name,modelFamily:r,maxRequestTokens:await ePe(this.ctx,i),maxResponseTokens:sW(4096,i),baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:i.capabilities.tokenizer,isExperimental:i.isExperimental??!1,stream:i.capabilities.supports?.streaming??!1,toolCalls:i.capabilities.supports?.tool_calls??!1}}async getFirstMatchingEmbeddingModelConfiguration(r){let n=await this.getFirstMatchingModelMetadata({family:r,type:"embeddings"});if(n!==void 0)switch(r){case aN.textEmbedding3Small:return{modelId:n.id,modelFamily:r,maxBatchSize:n.capabilities.limits?.max_inputs??16,maxTokens:8191,tokenizer:"cl100k_base"}}}};async function ePe(e,t){let r=e.get(Cr),n=await r.updateExPValuesAndAssignments(),i=r.ideChatMaxRequestTokens(n);return i===-1&&(i=16384),lae(i,t)}o(ePe,"getExpRequestTokens");function lae(e,t){return t.capabilities.limits?.max_prompt_tokens?Math.min(e,t.capabilities.limits.max_prompt_tokens):e}o(lae,"getRequestTokens");function sW(e,t){return t.capabilities.limits?.max_output_tokens?Math.min(e,t.capabilities.limits.max_output_tokens):e}o(sW,"getResponseTokens");function P8t(e,t){return e.filter(r=>r.capabilities.type!==t.type||r.capabilities.family!==t.family?!1:r.capabilities.supports===void 0||t.supports===void 0?!0:Object.keys(t.supports).every(n=>t.supports?.[n]===r.capabilities.supports?.[n]))}o(P8t,"filterModelsByCapabilities");var xh=class{static{o(this,"ModelPickerUtils")}static async getModelConfiguration(t,r,n){return t.get(ui).getBestChatModelConfig(n?[n]:ms(r))}static transformMessages(t,r){return r===mi.O1Ga||r===mi.O1Mini?t.map(n=>n.role!=="user"?{role:"user",content:n.content}:n):t}};var _A=class{constructor(t,r){this.chatFetcher=r;this.ctx=t,this.chatFetcher=this.chatFetcher??new ka(t)}static{o(this,"CopilotEditsService")}async createOrContinueEditConversation(t,r){try{await this.reportBegin(t);let n=await this.getEditCodeResult(t,r),i=rW.processResult(t,n);await this.parseAndSendProgressBack(t,i,r),t.currentTurn.response={message:i,type:"model"},t.currentTurn.status="success",await this.reportEnd(t)}catch(n){if(n instanceof lC)await this.reportEnd(t,{message:Gy});else if(n instanceof C0)await this.reportEnd(t,n.editConversationError);else{let i=n instanceof Error?n.message:String(n);t.currentTurn.status="error",t.currentTurn.response={message:i,type:"meta"},await this.reportEnd(t,{message:i})}}return[]}async getEditCodeResult(t,r){await this.abortIfCancelled(t,r);let n=await this.buildEditCodePromptMessages(t),i=await this.ctx.get(Cr).updateExPValuesAndAssignments();await this.abortIfCancelled(t,r);let s=await xh.getModelConfiguration(this.ctx,"edits",t.userSelectedModel),a=xh.transformMessages(n,s.modelFamily);return await this.abortIfCancelled(t,r),await this.chatFetcher.fetchResponse({modelConfiguration:s,messages:a,uiKind:"editsPanel",intentParams:{intent:!0},temperature:.1,llmInteraction:t.toLlmInteraction()},r,i)}async buildEditCodePromptMessages(t){let r=t.currentTurn,n=await xh.getModelConfiguration(this.ctx,"edits",t.userSelectedModel),i=t.editConversation.getTurns(),s=i.length>1?i.slice(0,-1):[];return await new nW({userMessage:r.request.message,workspaceFolder:r.workspaceFolder,workingSet:r.workingSet,userLanguage:t.editConversation.getUserLanguage(),textDocumentProvider:new Ag(this.ctx),modelName:n.uiName,history:s}).render()}async abortIfCancelled(t,r){if(r.isCancellationRequested)throw t.currentTurn.status="cancelled",t.currentTurn.response={message:Gy,type:"user"},new lC;this.ctx.get(Ja).get(t.editConversationId)}async parseAndSendProgressBack(t,r,n){try{let i=KDe(r),s=new P6(this.ctx),a=o(async u=>wA.pathToUri(t,u),"createUri"),l=[],c=XDe(r);c&&await this.ctx.get(uc).reportTurn(t,{fileGenerationStatus:"overall-description-generated",editDescription:c}),await this.abortIfCancelled(t,n);for await(let u of ZDe(i,a))l.push(s.mapCode(u,n,async f=>{await this.ctx.get(uc).reportTurn(t,f)}));await Promise.all(l),l.length===0&&await this.reportNoCodeBlocks(t,r)}catch(i){if(i instanceof cC||i instanceof y8)t.currentTurn.status="error",t.currentTurn.response={message:i.message,type:"meta"},await this.reportEnd(t,{message:i.message});else if(i instanceof lC)t.currentTurn.status="cancelled",t.currentTurn.response={message:Gy,type:"user"},await this.reportEnd(t,{message:Gy});else throw i}}async reportNoCodeBlocks(t,r){await this.ctx.get(uc).reportTurn(t,{fileGenerationStatus:"no-code-blocks-found",rawResponse:r})}async reportBegin(t){await this.ctx.get(uc).reportTurn(t,{fileGenerationStatus:"edit-conversation-begin"})}async reportEnd(t,r){await this.ctx.get(uc).reportTurn(t,{fileGenerationStatus:"edit-conversation-end",error:r})}};d();var rPe="github.com",tPe=`https://${rPe}`,N6=class extends On{constructor(r,n=tPe,i=process.env){super();this.env=i;this.validateBaseUrl(r,n)&&this.recalculateUrlDefaults(n),js(r,s=>this.onCopilotToken(r,s))}static{o(this,"DefaultNetworkConfiguration")}onCopilotToken(r,n){this.updateServiceEndpoints(r,n.envelope.endpoints)}getLastKnownEndpointUrl(r,n){return this.join((this.lastEndpoints??$F)[r],n)}isGitHubEnterprise(){return this.isEnterprise}getAuthAuthority(){return this.baseUrlObject.host}getAPIUrl(r){return this.join(this.apiUrl,r)}getApiUrl(r,n){return this.join(this.apiUrl,n)}getLoginReachabilityUrl(){return this.loginReachabilityUrl}getDeviceFlowStartUrl(){return this.deviceFlowStartUrl}getDeviceFlowCompletionUrl(){return this.deviceFlowCompletionUrl}getUserInfoUrl(){return this.userInfoUrl}getTelemetryUrl(r){return this.join(this.telemetryUrl,r)}setTelemetryUrlForTesting(r){this.telemetryUrl=r}getExperimentationUrl(r){return this.join(this.experimentationUrl,r)}validateBaseUrl(r,n){return this.isPermittedUrl(r,n)?!0:(r.get(va).showWarningMessage(`Ignoring invalid or unsupported authentication URL "${n}".`),!1)}updateBaseUrl(r,n){n||=tPe;let i=this.baseUrlObject;this.validateBaseUrl(r,n)&&this.withTelemetryReInitialization(r,()=>{this.recalculateUrlDefaults(n),i.href!==this.baseUrlObject.href&&r.get(Xr).resetToken()})}updateBaseUrlFromTokenEndpoint(r,n){try{let i=new URL(n);i.hostname.startsWith("api.")?this.updateBaseUrl(r,`https://${i.hostname.substring(4)}`):this.updateBaseUrl(r)}catch{this.updateBaseUrl(r)}}updateServiceEndpoints(r,n){this.lastEndpoints=n,n&&this.isPermittedUrl(r,n.telemetry)&&this.withTelemetryReInitialization(r,()=>{this.telemetryUrl=this.join(n.telemetry,"telemetry"),this.experimentationUrl=this.join(n.telemetry,"telemetry")})}withTelemetryReInitialization(r,n){let i=this.telemetryUrl;if(n(),i===this.telemetryUrl)return;let s=r.get(zu);s.isInitialized&&s.reInitialize(r)}recalculateUrlDefaults(r){let n=this.parseUrls(r);this.baseUrlObject=n.base;let i=n.api;this.isEnterprise=this.baseUrlObject.host!==rPe,this.apiUrl=i.href,this.loginReachabilityUrl=this.join(this.baseUrlObject.href,"/login/device"),this.deviceFlowStartUrl=this.join(this.baseUrlObject.href,"/login/device/code"),this.deviceFlowCompletionUrl=this.join(this.baseUrlObject.href,"/login/oauth/access_token"),this.userInfoUrl=this.join(i.href,"/user"),this.telemetryUrl=this.join(this.isEnterprise?this.prefixWith("copilot-telemetry-service.",this.baseUrlObject).href:$F.telemetry,"/telemetry"),this.experimentationUrl=this.telemetryUrl}parseUrls(r){if(this.env.CODESPACES==="true"&&this.env.GITHUB_TOKEN&&this.env.GITHUB_SERVER_URL&&this.env.GITHUB_API_URL&&!this.env.GITHUB_COPILOT_TOKEN&&!this.env.GH_COPILOT_TOKEN)try{return{base:new URL(this.env.GITHUB_SERVER_URL),api:new URL(this.env.GITHUB_API_URL)}}catch{}let n=new URL(r),i=this.prefixWith("api.",n);return{base:n,api:i}}isPermittedUrl(r,n){return this.isValidUrl(n)&&this.hasSupportedProtocol(r,n)}isValidUrl(r){try{if(r)return new URL(r),!0}catch{}return!1}hasSupportedProtocol(r,n){let i=new URL(n).protocol;return i==="https:"||!zF(r)&&i==="http:"}join(r,n){return n?new URL(n,r).href:r}prefixWith(r,n){return new URL(`${n.protocol}//${r}${n.host}`)}};d();var HZr=new Vt("exp");function nPe(e){let t=e.get(Cr);t.registerStaticFilters(L8t(e)),t.registerDynamicFilter("X-Copilot-OverrideEngine",()=>qn(e,St.DebugOverrideEngine)||qn(e,St.DebugOverrideEngineLegacy)),t.registerDynamicFilter("X-VSCode-ExtensionName",()=>e.get(dn).getEditorPluginInfo().name),t.registerDynamicFilter("X-VSCode-ExtensionVersion",()=>cae(!e.get(Eo).isProduction()&&e.get(dn).getEditorPluginInfo().name==="copilot"?"1.999.0":e.get(dn).getEditorPluginInfo().version)),t.registerDynamicFilter("X-VSCode-ExtensionRelease",()=>F8t(e)),t.registerDynamicFilter("X-VSCode-Build",()=>e.get(dn).getEditorInfo().name),t.registerDynamicFilter("X-VSCode-AppVersion",()=>cae(e.get(dn).getEditorInfo().version)),t.registerDynamicFilter("X-VSCode-TargetPopulation",()=>N8t(e)),t.registerDynamicFilterGroup(()=>{let r={};for(let n of e.get(dn).getRelatedPluginInfo()){let i=Jf+n.name.replace(/[^A-Za-z]/g,"").toLowerCase();if(!Object.values(NT).includes(i)){HF(e,{reason:`A filter could not be registered for the unrecognized related plugin "${n.name}".`});continue}r[i]=cae(n.version)}return r})}o(nPe,"setupExperimentationService");function F8t(e){let t=e.get(dn).getEditorPluginInfo();return t.name==="copilot"&&ud(e)==="nightly"||t.name==="copilot-intellij"&&t.version.endsWith("nightly")?"nightly":"stable"}o(F8t,"getPluginRelease");function N8t(e){let t=e.get(dn).getEditorInfo();return t.name==="vscode"&&t.version.endsWith("-insider")?"insider":"public"}o(N8t,"getTargetPopulation");function L8t(e){return Q8t(e)}o(L8t,"createAllFilters");function Q8t(e){let t=e.get(_s);return{"X-MSEdge-ClientId":t.machineId,"X-Copilot-ClientVersion":h4(e)}}o(Q8t,"createDefaultFilters");function cae(e){return e.split("-")[0]}o(cae,"trimVersionSuffix");d();d();d();var yg=new Vt("CopilotMCP");d();d();d();d();var to;(function(e){e.assertEqual=i=>i;function t(i){}o(t,"assertIs"),e.assertIs=t;function r(i){throw new Error}o(r,"assertNever"),e.assertNever=r,e.arrayToEnum=i=>{let s={};for(let a of i)s[a]=a;return s},e.getValidEnumValues=i=>{let s=e.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),a={};for(let l of s)a[l]=i[l];return e.objectValues(a)},e.objectValues=i=>e.objectKeys(i).map(function(s){return i[s]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let s=[];for(let a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},e.find=(i,s)=>{for(let a of i)if(s(a))return a},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}o(n,"joinValues"),e.joinValues=n,e.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(to||(to={}));var fae;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(fae||(fae={}));var kr=to.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),kA=o(e=>{switch(typeof e){case"undefined":return kr.undefined;case"string":return kr.string;case"number":return isNaN(e)?kr.nan:kr.number;case"boolean":return kr.boolean;case"function":return kr.function;case"bigint":return kr.bigint;case"symbol":return kr.symbol;case"object":return Array.isArray(e)?kr.array:e===null?kr.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?kr.promise:typeof Map<"u"&&e instanceof Map?kr.map:typeof Set<"u"&&e instanceof Set?kr.set:typeof Date<"u"&&e instanceof Date?kr.date:kr.object;default:return kr.unknown}},"getParsedType"),Gt=to.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),M8t=o(e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),"quotelessJson"),If=class e extends Error{static{o(this,"ZodError")}get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){let r=t||function(s){return s.message},n={_errors:[]},i=o(s=>{for(let a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let l=n,c=0;for(;c<a.path.length;){let u=a.path[c];c===a.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(a))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}},"processError");return i(this),n}static assert(t){if(!(t instanceof e))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,to.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){let r={},n=[];for(let i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};If.create=e=>new If(e);var M6=o((e,t)=>{let r;switch(e.code){case Gt.invalid_type:e.received===kr.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Gt.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,to.jsonStringifyReplacer)}`;break;case Gt.unrecognized_keys:r=`Unrecognized key(s) in object: ${to.joinValues(e.keys,", ")}`;break;case Gt.invalid_union:r="Invalid input";break;case Gt.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${to.joinValues(e.options)}`;break;case Gt.invalid_enum_value:r=`Invalid enum value. Expected ${to.joinValues(e.options)}, received '${e.received}'`;break;case Gt.invalid_arguments:r="Invalid function arguments";break;case Gt.invalid_return_type:r="Invalid function return type";break;case Gt.invalid_date:r="Invalid date";break;case Gt.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:to.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Gt.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Gt.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Gt.custom:r="Invalid input";break;case Gt.invalid_intersection_types:r="Intersection results could not be merged";break;case Gt.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Gt.not_finite:r="Number must be finite";break;default:r=t.defaultError,to.assertNever(e)}return{message:r}},"errorMap"),aPe=M6;function O8t(e){aPe=e}o(O8t,"setErrorMap");function lW(){return aPe}o(lW,"getErrorMap");var cW=o(e=>{let{data:t,path:r,errorMaps:n,issueData:i}=e,s=[...r,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let l="",c=n.filter(u=>!!u).slice().reverse();for(let u of c)l=u(a,{data:t,defaultError:l}).message;return{...i,path:s,message:l}},"makeIssue"),U8t=[];function xr(e,t){let r=lW(),n=cW({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===M6?void 0:M6].filter(i=>!!i)});e.common.issues.push(n)}o(xr,"addIssueToContext");var qc=class e{static{o(this,"ParseStatus")}constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){let n=[];for(let i of r){if(i.status==="aborted")return Pn;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){let n=[];for(let i of r){let s=await i.key,a=await i.value;n.push({key:s,value:a})}return e.mergeObjectSync(t,n)}static mergeObjectSync(t,r){let n={};for(let i of r){let{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return Pn;s.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(n[s.value]=a.value)}return{status:t.value,value:n}}},Pn=Object.freeze({status:"aborted"}),Q6=o(e=>({status:"dirty",value:e}),"DIRTY"),x0=o(e=>({status:"valid",value:e}),"OK"),dae=o(e=>e.status==="aborted","isAborted"),mae=o(e=>e.status==="dirty","isDirty"),jx=o(e=>e.status==="valid","isValid"),ak=o(e=>typeof Promise<"u"&&e instanceof Promise,"isAsync");function uW(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}o(uW,"__classPrivateFieldGet");function lPe(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}o(lPe,"__classPrivateFieldSet");var Gr;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(Gr||(Gr={}));var ok,sk,Yd=class{static{o(this,"ParseInputLazyPath")}constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},iPe=o((e,t)=>{if(jx(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new If(e.common.issues);return this._error=r,this._error}}},"handleResult");function Zn(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:o((a,l)=>{var c,u;let{message:f}=e;return a.code==="invalid_enum_value"?{message:f??l.defaultError}:typeof l.data>"u"?{message:(c=f??n)!==null&&c!==void 0?c:l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:(u=f??r)!==null&&u!==void 0?u:l.defaultError}},"customMap"),description:i}}o(Zn,"processCreateParams");var Xn=class{static{o(this,"ZodType")}get description(){return this._def.description}_getType(t){return kA(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:kA(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new qc,ctx:{common:t.parent.common,data:t.data,parsedType:kA(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let r=this._parse(t);if(ak(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){let r=this._parse(t);return Promise.resolve(r)}parse(t,r){let n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;let i={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:kA(t)},s=this._parseSync({data:t,path:i.path,parent:i});return iPe(i,s)}"~validate"(t){var r,n;let i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:kA(t)};if(!this["~standard"].async)try{let s=this._parseSync({data:t,path:[],parent:i});return jx(s)?{value:s.value}:{issues:i.common.issues}}catch(s){!((n=(r=s?.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:i}).then(s=>jx(s)?{value:s.value}:{issues:i.common.issues})}async parseAsync(t,r){let n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:kA(t)},i=this._parse({data:t,path:n.path,parent:n}),s=await(ak(i)?i:Promise.resolve(i));return iPe(n,s)}refine(t,r){let n=o(i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r,"getIssueProperties");return this._refinement((i,s)=>{let a=t(i),l=o(()=>s.addIssue({code:Gt.custom,...n(i)}),"setError");return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new Tf({schema:this,typeName:_n.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:o(r=>this["~validate"](r),"validate")}}optional(){return zd.create(this,this._def)}nullable(){return xg.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return BA.create(this)}promise(){return mC.create(this,this._def)}or(t){return Zx.create([this,t],this._def)}and(t){return Xx.create(this,t,this._def)}transform(t){return new Tf({...Zn(this._def),schema:this,typeName:_n.ZodEffects,effect:{type:"transform",transform:t}})}default(t){let r=typeof t=="function"?t:()=>t;return new iv({...Zn(this._def),innerType:this,defaultValue:r,typeName:_n.ZodDefault})}brand(){return new lk({typeName:_n.ZodBranded,type:this,...Zn(this._def)})}catch(t){let r=typeof t=="function"?t:()=>t;return new ov({...Zn(this._def),innerType:this,catchValue:r,typeName:_n.ZodCatch})}describe(t){let r=this.constructor;return new r({...this._def,description:t})}pipe(t){return ck.create(this,t)}readonly(){return sv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},q8t=/^c[^\s-]{8,}$/i,W8t=/^[0-9a-z]+$/,G8t=/^[0-9A-HJKMNP-TV-Z]{26}$/i,H8t=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,j8t=/^[a-z0-9_-]{21}$/i,V8t=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,$8t=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,z8t=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Y8t="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",uae,K8t=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,J8t=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Z8t=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,X8t=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,e6t=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,t6t=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,cPe="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",r6t=new RegExp(`^${cPe}$`);function uPe(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}o(uPe,"timeRegexSource");function n6t(e){return new RegExp(`^${uPe(e)}$`)}o(n6t,"timeRegex");function fPe(e){let t=`${cPe}T${uPe(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}o(fPe,"datetimeRegex");function i6t(e,t){return!!((t==="v4"||!t)&&K8t.test(e)||(t==="v6"||!t)&&Z8t.test(e))}o(i6t,"isValidIP");function o6t(e,t){if(!V8t.test(e))return!1;try{let[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||!i.typ||!i.alg||t&&i.alg!==t)}catch{return!1}}o(o6t,"isValidJWT");function s6t(e,t){return!!((t==="v4"||!t)&&J8t.test(e)||(t==="v6"||!t)&&X8t.test(e))}o(s6t,"isValidCidr");var fC=class e extends Xn{static{o(this,"ZodString")}_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==kr.string){let s=this._getOrReturnCtx(t);return xr(s,{code:Gt.invalid_type,expected:kr.string,received:s.parsedType}),Pn}let n=new qc,i;for(let s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(i=this._getOrReturnCtx(t,i),xr(i,{code:Gt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")t.data.length>s.value&&(i=this._getOrReturnCtx(t,i),xr(i,{code:Gt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){let a=t.data.length>s.value,l=t.data.length<s.value;(a||l)&&(i=this._getOrReturnCtx(t,i),a?xr(i,{code:Gt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&xr(i,{code:Gt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")z8t.test(t.data)||(i=this._getOrReturnCtx(t,i),xr(i,{validation:"email",code:Gt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")uae||(uae=new RegExp(Y8t,"u")),uae.test(t.data)||(i=this._getOrReturnCtx(t,i),xr(i,{validation:"emoji",code:Gt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")H8t.test(t.data)||(i=this._getOrReturnCtx(t,i),xr(i,{validation:"uuid",code:Gt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")j8t.test(t.data)||(i=this._getOrReturnCtx(t,i),xr(i,{validation:"nanoid",code:Gt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")q8t.test(t.data)||(i=this._getOrReturnCtx(t,i),xr(i,{validation:"cuid",code:Gt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")W8t.test(t.data)||(i=this._getOrReturnCtx(t,i),xr(i,{validation:"cuid2",code:Gt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")G8t.test(t.data)||(i=this._getOrReturnCtx(t,i),xr(i,{validation:"ulid",code:Gt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),xr(i,{validation:"url",code:Gt.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),xr(i,{validation:"regex",code:Gt.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(t,i),xr(i,{code:Gt.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(i=this._getOrReturnCtx(t,i),xr(i,{code:Gt.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(i=this._getOrReturnCtx(t,i),xr(i,{code:Gt.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?fPe(s).test(t.data)||(i=this._getOrReturnCtx(t,i),xr(i,{code:Gt.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?r6t.test(t.data)||(i=this._getOrReturnCtx(t,i),xr(i,{code:Gt.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?n6t(s).test(t.data)||(i=this._getOrReturnCtx(t,i),xr(i,{code:Gt.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?$8t.test(t.data)||(i=this._getOrReturnCtx(t,i),xr(i,{validation:"duration",code:Gt.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?i6t(t.data,s.version)||(i=this._getOrReturnCtx(t,i),xr(i,{validation:"ip",code:Gt.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?o6t(t.data,s.alg)||(i=this._getOrReturnCtx(t,i),xr(i,{validation:"jwt",code:Gt.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?s6t(t.data,s.version)||(i=this._getOrReturnCtx(t,i),xr(i,{validation:"cidr",code:Gt.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?e6t.test(t.data)||(i=this._getOrReturnCtx(t,i),xr(i,{validation:"base64",code:Gt.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?t6t.test(t.data)||(i=this._getOrReturnCtx(t,i),xr(i,{validation:"base64url",code:Gt.invalid_string,message:s.message}),n.dirty()):to.assertNever(s);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:Gt.invalid_string,...Gr.errToObj(n)})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Gr.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Gr.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Gr.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Gr.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Gr.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Gr.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Gr.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Gr.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Gr.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Gr.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Gr.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Gr.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Gr.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:(r=t?.offset)!==null&&r!==void 0?r:!1,local:(n=t?.local)!==null&&n!==void 0?n:!1,...Gr.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...Gr.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...Gr.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Gr.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...Gr.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Gr.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Gr.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Gr.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Gr.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Gr.errToObj(r)})}nonempty(t){return this.min(1,Gr.errToObj(t))}trim(){return new e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};fC.create=e=>{var t;return new fC({checks:[],typeName:_n.ZodString,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...Zn(e)})};function a6t(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,s=parseInt(e.toFixed(i).replace(".","")),a=parseInt(t.toFixed(i).replace(".",""));return s%a/Math.pow(10,i)}o(a6t,"floatSafeRemainder");var Vx=class e extends Xn{static{o(this,"ZodNumber")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==kr.number){let s=this._getOrReturnCtx(t);return xr(s,{code:Gt.invalid_type,expected:kr.number,received:s.parsedType}),Pn}let n,i=new qc;for(let s of this._def.checks)s.kind==="int"?to.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),xr(n,{code:Gt.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),xr(n,{code:Gt.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),xr(n,{code:Gt.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?a6t(t.data,s.value)!==0&&(n=this._getOrReturnCtx(t,n),xr(n,{code:Gt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),xr(n,{code:Gt.not_finite,message:s.message}),i.dirty()):to.assertNever(s);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Gr.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Gr.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Gr.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Gr.toString(r))}setLimit(t,r,n,i){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Gr.toString(i)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Gr.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Gr.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Gr.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Gr.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Gr.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Gr.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Gr.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Gr.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Gr.toString(t)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&to.isInteger(t.value))}get isFinite(){let t=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}};Vx.create=e=>new Vx({checks:[],typeName:_n.ZodNumber,coerce:e?.coerce||!1,...Zn(e)});var $x=class e extends Xn{static{o(this,"ZodBigInt")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==kr.bigint)return this._getInvalidInput(t);let n,i=new qc;for(let s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),xr(n,{code:Gt.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),xr(n,{code:Gt.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),xr(n,{code:Gt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):to.assertNever(s);return{status:i.value,value:t.data}}_getInvalidInput(t){let r=this._getOrReturnCtx(t);return xr(r,{code:Gt.invalid_type,expected:kr.bigint,received:r.parsedType}),Pn}gte(t,r){return this.setLimit("min",t,!0,Gr.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Gr.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Gr.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Gr.toString(r))}setLimit(t,r,n,i){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Gr.toString(i)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Gr.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Gr.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Gr.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Gr.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Gr.toString(r)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};$x.create=e=>{var t;return new $x({checks:[],typeName:_n.ZodBigInt,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...Zn(e)})};var zx=class extends Xn{static{o(this,"ZodBoolean")}_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==kr.boolean){let n=this._getOrReturnCtx(t);return xr(n,{code:Gt.invalid_type,expected:kr.boolean,received:n.parsedType}),Pn}return x0(t.data)}};zx.create=e=>new zx({typeName:_n.ZodBoolean,coerce:e?.coerce||!1,...Zn(e)});var Yx=class e extends Xn{static{o(this,"ZodDate")}_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==kr.date){let s=this._getOrReturnCtx(t);return xr(s,{code:Gt.invalid_type,expected:kr.date,received:s.parsedType}),Pn}if(isNaN(t.data.getTime())){let s=this._getOrReturnCtx(t);return xr(s,{code:Gt.invalid_date}),Pn}let n=new qc,i;for(let s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(i=this._getOrReturnCtx(t,i),xr(i,{code:Gt.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(i=this._getOrReturnCtx(t,i),xr(i,{code:Gt.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):to.assertNever(s);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Gr.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Gr.toString(r)})}get minDate(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}};Yx.create=e=>new Yx({checks:[],coerce:e?.coerce||!1,typeName:_n.ZodDate,...Zn(e)});var O6=class extends Xn{static{o(this,"ZodSymbol")}_parse(t){if(this._getType(t)!==kr.symbol){let n=this._getOrReturnCtx(t);return xr(n,{code:Gt.invalid_type,expected:kr.symbol,received:n.parsedType}),Pn}return x0(t.data)}};O6.create=e=>new O6({typeName:_n.ZodSymbol,...Zn(e)});var Kx=class extends Xn{static{o(this,"ZodUndefined")}_parse(t){if(this._getType(t)!==kr.undefined){let n=this._getOrReturnCtx(t);return xr(n,{code:Gt.invalid_type,expected:kr.undefined,received:n.parsedType}),Pn}return x0(t.data)}};Kx.create=e=>new Kx({typeName:_n.ZodUndefined,...Zn(e)});var Jx=class extends Xn{static{o(this,"ZodNull")}_parse(t){if(this._getType(t)!==kr.null){let n=this._getOrReturnCtx(t);return xr(n,{code:Gt.invalid_type,expected:kr.null,received:n.parsedType}),Pn}return x0(t.data)}};Jx.create=e=>new Jx({typeName:_n.ZodNull,...Zn(e)});var dC=class extends Xn{static{o(this,"ZodAny")}constructor(){super(...arguments),this._any=!0}_parse(t){return x0(t.data)}};dC.create=e=>new dC({typeName:_n.ZodAny,...Zn(e)});var RA=class extends Xn{static{o(this,"ZodUnknown")}constructor(){super(...arguments),this._unknown=!0}_parse(t){return x0(t.data)}};RA.create=e=>new RA({typeName:_n.ZodUnknown,...Zn(e)});var vh=class extends Xn{static{o(this,"ZodNever")}_parse(t){let r=this._getOrReturnCtx(t);return xr(r,{code:Gt.invalid_type,expected:kr.never,received:r.parsedType}),Pn}};vh.create=e=>new vh({typeName:_n.ZodNever,...Zn(e)});var U6=class extends Xn{static{o(this,"ZodVoid")}_parse(t){if(this._getType(t)!==kr.undefined){let n=this._getOrReturnCtx(t);return xr(n,{code:Gt.invalid_type,expected:kr.void,received:n.parsedType}),Pn}return x0(t.data)}};U6.create=e=>new U6({typeName:_n.ZodVoid,...Zn(e)});var BA=class e extends Xn{static{o(this,"ZodArray")}_parse(t){let{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==kr.array)return xr(r,{code:Gt.invalid_type,expected:kr.array,received:r.parsedType}),Pn;if(i.exactLength!==null){let a=r.data.length>i.exactLength.value,l=r.data.length<i.exactLength.value;(a||l)&&(xr(r,{code:a?Gt.too_big:Gt.too_small,minimum:l?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(xr(r,{code:Gt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(xr(r,{code:Gt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,l)=>i.type._parseAsync(new Yd(r,a,r.path,l)))).then(a=>qc.mergeArray(n,a));let s=[...r.data].map((a,l)=>i.type._parseSync(new Yd(r,a,r.path,l)));return qc.mergeArray(n,s)}get element(){return this._def.type}min(t,r){return new e({...this._def,minLength:{value:t,message:Gr.toString(r)}})}max(t,r){return new e({...this._def,maxLength:{value:t,message:Gr.toString(r)}})}length(t,r){return new e({...this._def,exactLength:{value:t,message:Gr.toString(r)}})}nonempty(t){return this.min(1,t)}};BA.create=(e,t)=>new BA({type:e,minLength:null,maxLength:null,exactLength:null,typeName:_n.ZodArray,...Zn(t)});function L6(e){if(e instanceof gu){let t={};for(let r in e.shape){let n=e.shape[r];t[r]=zd.create(L6(n))}return new gu({...e._def,shape:o(()=>t,"shape")})}else return e instanceof BA?new BA({...e._def,type:L6(e.element)}):e instanceof zd?zd.create(L6(e.unwrap())):e instanceof xg?xg.create(L6(e.unwrap())):e instanceof Cg?Cg.create(e.items.map(t=>L6(t))):e}o(L6,"deepPartialify");var gu=class e extends Xn{static{o(this,"ZodObject")}constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let t=this._def.shape(),r=to.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==kr.object){let u=this._getOrReturnCtx(t);return xr(u,{code:Gt.invalid_type,expected:kr.object,received:u.parsedType}),Pn}let{status:n,ctx:i}=this._processInputParams(t),{shape:s,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof vh&&this._def.unknownKeys==="strip"))for(let u in i.data)a.includes(u)||l.push(u);let c=[];for(let u of a){let f=s[u],m=i.data[u];c.push({key:{status:"valid",value:u},value:f._parse(new Yd(i,m,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof vh){let u=this._def.unknownKeys;if(u==="passthrough")for(let f of l)c.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(u==="strict")l.length>0&&(xr(i,{code:Gt.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let u=this._def.catchall;for(let f of l){let m=i.data[f];c.push({key:{status:"valid",value:f},value:u._parse(new Yd(i,m,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let u=[];for(let f of c){let m=await f.key,h=await f.value;u.push({key:m,value:h,alwaysSet:f.alwaysSet})}return u}).then(u=>qc.mergeObjectSync(n,u)):qc.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Gr.errToObj,new e({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:o((r,n)=>{var i,s,a,l;let c=(a=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,r,n).message)!==null&&a!==void 0?a:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=Gr.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}},"errorMap")}:{}})}strip(){return new e({...this._def,unknownKeys:"strip"})}passthrough(){return new e({...this._def,unknownKeys:"passthrough"})}extend(t){return new e({...this._def,shape:o(()=>({...this._def.shape(),...t}),"shape")})}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:o(()=>({...this._def.shape(),...t._def.shape()}),"shape"),typeName:_n.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new e({...this._def,catchall:t})}pick(t){let r={};return to.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new e({...this._def,shape:o(()=>r,"shape")})}omit(t){let r={};return to.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new e({...this._def,shape:o(()=>r,"shape")})}deepPartial(){return L6(this)}partial(t){let r={};return to.objectKeys(this.shape).forEach(n=>{let i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}),new e({...this._def,shape:o(()=>r,"shape")})}required(t){let r={};return to.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof zd;)s=s._def.innerType;r[n]=s}}),new e({...this._def,shape:o(()=>r,"shape")})}keyof(){return dPe(to.objectKeys(this.shape))}};gu.create=(e,t)=>new gu({shape:o(()=>e,"shape"),unknownKeys:"strip",catchall:vh.create(),typeName:_n.ZodObject,...Zn(t)});gu.strictCreate=(e,t)=>new gu({shape:o(()=>e,"shape"),unknownKeys:"strict",catchall:vh.create(),typeName:_n.ZodObject,...Zn(t)});gu.lazycreate=(e,t)=>new gu({shape:e,unknownKeys:"strip",catchall:vh.create(),typeName:_n.ZodObject,...Zn(t)});var Zx=class extends Xn{static{o(this,"ZodUnion")}_parse(t){let{ctx:r}=this._processInputParams(t),n=this._def.options;function i(s){for(let l of s)if(l.result.status==="valid")return l.result;for(let l of s)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;let a=s.map(l=>new If(l.ctx.common.issues));return xr(r,{code:Gt.invalid_union,unionErrors:a}),Pn}if(o(i,"handleResults"),r.common.async)return Promise.all(n.map(async s=>{let a={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(i);{let s,a=[];for(let c of n){let u={...r,common:{...r.common,issues:[]},parent:null},f=c._parseSync({data:r.data,path:r.path,parent:u});if(f.status==="valid")return f;f.status==="dirty"&&!s&&(s={result:f,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;let l=a.map(c=>new If(c));return xr(r,{code:Gt.invalid_union,unionErrors:l}),Pn}}get options(){return this._def.options}};Zx.create=(e,t)=>new Zx({options:e,typeName:_n.ZodUnion,...Zn(t)});var SA=o(e=>e instanceof ev?SA(e.schema):e instanceof Tf?SA(e.innerType()):e instanceof tv?[e.value]:e instanceof rv?e.options:e instanceof nv?to.objectValues(e.enum):e instanceof iv?SA(e._def.innerType):e instanceof Kx?[void 0]:e instanceof Jx?[null]:e instanceof zd?[void 0,...SA(e.unwrap())]:e instanceof xg?[null,...SA(e.unwrap())]:e instanceof lk||e instanceof sv?SA(e.unwrap()):e instanceof ov?SA(e._def.innerType):[],"getDiscriminator"),fW=class e extends Xn{static{o(this,"ZodDiscriminatedUnion")}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==kr.object)return xr(r,{code:Gt.invalid_type,expected:kr.object,received:r.parsedType}),Pn;let n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(xr(r,{code:Gt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Pn)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){let i=new Map;for(let s of r){let a=SA(s.shape[t]);if(!a.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let l of a){if(i.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);i.set(l,s)}}return new e({typeName:_n.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:i,...Zn(n)})}};function hae(e,t){let r=kA(e),n=kA(t);if(e===t)return{valid:!0,data:e};if(r===kr.object&&n===kr.object){let i=to.objectKeys(t),s=to.objectKeys(e).filter(l=>i.indexOf(l)!==-1),a={...e,...t};for(let l of s){let c=hae(e[l],t[l]);if(!c.valid)return{valid:!1};a[l]=c.data}return{valid:!0,data:a}}else if(r===kr.array&&n===kr.array){if(e.length!==t.length)return{valid:!1};let i=[];for(let s=0;s<e.length;s++){let a=e[s],l=t[s],c=hae(a,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===kr.date&&n===kr.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}o(hae,"mergeValues");var Xx=class extends Xn{static{o(this,"ZodIntersection")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t),i=o((s,a)=>{if(dae(s)||dae(a))return Pn;let l=hae(s.value,a.value);return l.valid?((mae(s)||mae(a))&&r.dirty(),{status:r.value,value:l.data}):(xr(n,{code:Gt.invalid_intersection_types}),Pn)},"handleParsed");return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};Xx.create=(e,t,r)=>new Xx({left:e,right:t,typeName:_n.ZodIntersection,...Zn(r)});var Cg=class e extends Xn{static{o(this,"ZodTuple")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==kr.array)return xr(n,{code:Gt.invalid_type,expected:kr.array,received:n.parsedType}),Pn;if(n.data.length<this._def.items.length)return xr(n,{code:Gt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Pn;!this._def.rest&&n.data.length>this._def.items.length&&(xr(n,{code:Gt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let s=[...n.data].map((a,l)=>{let c=this._def.items[l]||this._def.rest;return c?c._parse(new Yd(n,a,n.path,l)):null}).filter(a=>!!a);return n.common.async?Promise.all(s).then(a=>qc.mergeArray(r,a)):qc.mergeArray(r,s)}get items(){return this._def.items}rest(t){return new e({...this._def,rest:t})}};Cg.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Cg({items:e,typeName:_n.ZodTuple,rest:null,...Zn(t)})};var dW=class e extends Xn{static{o(this,"ZodRecord")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==kr.object)return xr(n,{code:Gt.invalid_type,expected:kr.object,received:n.parsedType}),Pn;let i=[],s=this._def.keyType,a=this._def.valueType;for(let l in n.data)i.push({key:s._parse(new Yd(n,l,n.path,l)),value:a._parse(new Yd(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?qc.mergeObjectAsync(r,i):qc.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Xn?new e({keyType:t,valueType:r,typeName:_n.ZodRecord,...Zn(n)}):new e({keyType:fC.create(),valueType:t,typeName:_n.ZodRecord,...Zn(r)})}},q6=class extends Xn{static{o(this,"ZodMap")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==kr.map)return xr(n,{code:Gt.invalid_type,expected:kr.map,received:n.parsedType}),Pn;let i=this._def.keyType,s=this._def.valueType,a=[...n.data.entries()].map(([l,c],u)=>({key:i._parse(new Yd(n,l,n.path,[u,"key"])),value:s._parse(new Yd(n,c,n.path,[u,"value"]))}));if(n.common.async){let l=new Map;return Promise.resolve().then(async()=>{for(let c of a){let u=await c.key,f=await c.value;if(u.status==="aborted"||f.status==="aborted")return Pn;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(u.value,f.value)}return{status:r.value,value:l}})}else{let l=new Map;for(let c of a){let u=c.key,f=c.value;if(u.status==="aborted"||f.status==="aborted")return Pn;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(u.value,f.value)}return{status:r.value,value:l}}}};q6.create=(e,t,r)=>new q6({valueType:t,keyType:e,typeName:_n.ZodMap,...Zn(r)});var W6=class e extends Xn{static{o(this,"ZodSet")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==kr.set)return xr(n,{code:Gt.invalid_type,expected:kr.set,received:n.parsedType}),Pn;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(xr(n,{code:Gt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(xr(n,{code:Gt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());let s=this._def.valueType;function a(c){let u=new Set;for(let f of c){if(f.status==="aborted")return Pn;f.status==="dirty"&&r.dirty(),u.add(f.value)}return{status:r.value,value:u}}o(a,"finalizeSet");let l=[...n.data.values()].map((c,u)=>s._parse(new Yd(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>a(c)):a(l)}min(t,r){return new e({...this._def,minSize:{value:t,message:Gr.toString(r)}})}max(t,r){return new e({...this._def,maxSize:{value:t,message:Gr.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}};W6.create=(e,t)=>new W6({valueType:e,minSize:null,maxSize:null,typeName:_n.ZodSet,...Zn(t)});var mW=class e extends Xn{static{o(this,"ZodFunction")}constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==kr.function)return xr(r,{code:Gt.invalid_type,expected:kr.function,received:r.parsedType}),Pn;function n(l,c){return cW({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,lW(),M6].filter(u=>!!u),issueData:{code:Gt.invalid_arguments,argumentsError:c}})}o(n,"makeArgsIssue");function i(l,c){return cW({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,lW(),M6].filter(u=>!!u),issueData:{code:Gt.invalid_return_type,returnTypeError:c}})}o(i,"makeReturnsIssue");let s={errorMap:r.common.contextualErrorMap},a=r.data;if(this._def.returns instanceof mC){let l=this;return x0(async function(...c){let u=new If([]),f=await l._def.args.parseAsync(c,s).catch(p=>{throw u.addIssue(n(c,p)),u}),m=await Reflect.apply(a,this,f);return await l._def.returns._def.type.parseAsync(m,s).catch(p=>{throw u.addIssue(i(m,p)),u})})}else{let l=this;return x0(function(...c){let u=l._def.args.safeParse(c,s);if(!u.success)throw new If([n(c,u.error)]);let f=Reflect.apply(a,this,u.data),m=l._def.returns.safeParse(f,s);if(!m.success)throw new If([i(f,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new e({...this._def,args:Cg.create(t).rest(RA.create())})}returns(t){return new e({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new e({args:t||Cg.create([]).rest(RA.create()),returns:r||RA.create(),typeName:_n.ZodFunction,...Zn(n)})}},ev=class extends Xn{static{o(this,"ZodLazy")}get schema(){return this._def.getter()}_parse(t){let{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};ev.create=(e,t)=>new ev({getter:e,typeName:_n.ZodLazy,...Zn(t)});var tv=class extends Xn{static{o(this,"ZodLiteral")}_parse(t){if(t.data!==this._def.value){let r=this._getOrReturnCtx(t);return xr(r,{received:r.data,code:Gt.invalid_literal,expected:this._def.value}),Pn}return{status:"valid",value:t.data}}get value(){return this._def.value}};tv.create=(e,t)=>new tv({value:e,typeName:_n.ZodLiteral,...Zn(t)});function dPe(e,t){return new rv({values:e,typeName:_n.ZodEnum,...Zn(t)})}o(dPe,"createZodEnum");var rv=class e extends Xn{static{o(this,"ZodEnum")}constructor(){super(...arguments),ok.set(this,void 0)}_parse(t){if(typeof t.data!="string"){let r=this._getOrReturnCtx(t),n=this._def.values;return xr(r,{expected:to.joinValues(n),received:r.parsedType,code:Gt.invalid_type}),Pn}if(uW(this,ok,"f")||lPe(this,ok,new Set(this._def.values),"f"),!uW(this,ok,"f").has(t.data)){let r=this._getOrReturnCtx(t),n=this._def.values;return xr(r,{received:r.data,code:Gt.invalid_enum_value,options:n}),Pn}return x0(t.data)}get options(){return this._def.values}get enum(){let t={};for(let r of this._def.values)t[r]=r;return t}get Values(){let t={};for(let r of this._def.values)t[r]=r;return t}get Enum(){let t={};for(let r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return e.create(t,{...this._def,...r})}exclude(t,r=this._def){return e.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}};ok=new WeakMap;rv.create=dPe;var nv=class extends Xn{static{o(this,"ZodNativeEnum")}constructor(){super(...arguments),sk.set(this,void 0)}_parse(t){let r=to.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==kr.string&&n.parsedType!==kr.number){let i=to.objectValues(r);return xr(n,{expected:to.joinValues(i),received:n.parsedType,code:Gt.invalid_type}),Pn}if(uW(this,sk,"f")||lPe(this,sk,new Set(to.getValidEnumValues(this._def.values)),"f"),!uW(this,sk,"f").has(t.data)){let i=to.objectValues(r);return xr(n,{received:n.data,code:Gt.invalid_enum_value,options:i}),Pn}return x0(t.data)}get enum(){return this._def.values}};sk=new WeakMap;nv.create=(e,t)=>new nv({values:e,typeName:_n.ZodNativeEnum,...Zn(t)});var mC=class extends Xn{static{o(this,"ZodPromise")}unwrap(){return this._def.type}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==kr.promise&&r.common.async===!1)return xr(r,{code:Gt.invalid_type,expected:kr.promise,received:r.parsedType}),Pn;let n=r.parsedType===kr.promise?r.data:Promise.resolve(r.data);return x0(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}};mC.create=(e,t)=>new mC({type:e,typeName:_n.ZodPromise,...Zn(t)});var Tf=class extends Xn{static{o(this,"ZodEffects")}innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===_n.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,s={addIssue:o(a=>{xr(n,a),a.fatal?r.abort():r.dirty()},"addIssue"),get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){let a=i.transform(n.data,s);if(n.common.async)return Promise.resolve(a).then(async l=>{if(r.value==="aborted")return Pn;let c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Pn:c.status==="dirty"||r.value==="dirty"?Q6(c.value):c});{if(r.value==="aborted")return Pn;let l=this._def.schema._parseSync({data:a,path:n.path,parent:n});return l.status==="aborted"?Pn:l.status==="dirty"||r.value==="dirty"?Q6(l.value):l}}if(i.type==="refinement"){let a=o(l=>{let c=i.refinement(l,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l},"executeRefinement");if(n.common.async===!1){let l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Pn:(l.status==="dirty"&&r.dirty(),a(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Pn:(l.status==="dirty"&&r.dirty(),a(l.value).then(()=>({status:r.value,value:l.value}))))}if(i.type==="transform")if(n.common.async===!1){let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!jx(a))return a;let l=i.transform(a.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>jx(a)?Promise.resolve(i.transform(a.value,s)).then(l=>({status:r.value,value:l})):a);to.assertNever(i)}};Tf.create=(e,t,r)=>new Tf({schema:e,typeName:_n.ZodEffects,effect:t,...Zn(r)});Tf.createWithPreprocess=(e,t,r)=>new Tf({schema:t,effect:{type:"preprocess",transform:e},typeName:_n.ZodEffects,...Zn(r)});var zd=class extends Xn{static{o(this,"ZodOptional")}_parse(t){return this._getType(t)===kr.undefined?x0(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};zd.create=(e,t)=>new zd({innerType:e,typeName:_n.ZodOptional,...Zn(t)});var xg=class extends Xn{static{o(this,"ZodNullable")}_parse(t){return this._getType(t)===kr.null?x0(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};xg.create=(e,t)=>new xg({innerType:e,typeName:_n.ZodNullable,...Zn(t)});var iv=class extends Xn{static{o(this,"ZodDefault")}_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return r.parsedType===kr.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};iv.create=(e,t)=>new iv({innerType:e,typeName:_n.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Zn(t)});var ov=class extends Xn{static{o(this,"ZodCatch")}_parse(t){let{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return ak(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new If(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new If(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};ov.create=(e,t)=>new ov({innerType:e,typeName:_n.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Zn(t)});var G6=class extends Xn{static{o(this,"ZodNaN")}_parse(t){if(this._getType(t)!==kr.nan){let n=this._getOrReturnCtx(t);return xr(n,{code:Gt.invalid_type,expected:kr.nan,received:n.parsedType}),Pn}return{status:"valid",value:t.data}}};G6.create=e=>new G6({typeName:_n.ZodNaN,...Zn(e)});var l6t=Symbol("zod_brand"),lk=class extends Xn{static{o(this,"ZodBranded")}_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},ck=class e extends Xn{static{o(this,"ZodPipeline")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return o(async()=>{let s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Pn:s.status==="dirty"?(r.dirty(),Q6(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})},"handleAsync")();{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Pn:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new e({in:t,out:r,typeName:_n.ZodPipeline})}},sv=class extends Xn{static{o(this,"ZodReadonly")}_parse(t){let r=this._def.innerType._parse(t),n=o(i=>(jx(i)&&(i.value=Object.freeze(i.value)),i),"freeze");return ak(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}};sv.create=(e,t)=>new sv({innerType:e,typeName:_n.ZodReadonly,...Zn(t)});function oPe(e,t){let r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}o(oPe,"cleanParams");function mPe(e,t={},r){return e?dC.create().superRefine((n,i)=>{var s,a;let l=e(n);if(l instanceof Promise)return l.then(c=>{var u,f;if(!c){let m=oPe(t,n),h=(f=(u=m.fatal)!==null&&u!==void 0?u:r)!==null&&f!==void 0?f:!0;i.addIssue({code:"custom",...m,fatal:h})}});if(!l){let c=oPe(t,n),u=(a=(s=c.fatal)!==null&&s!==void 0?s:r)!==null&&a!==void 0?a:!0;i.addIssue({code:"custom",...c,fatal:u})}}):dC.create()}o(mPe,"custom");var c6t={object:gu.lazycreate},_n;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(_n||(_n={}));var u6t=o((e,t={message:`Input not instance of ${e.name}`})=>mPe(r=>r instanceof e,t),"instanceOfType"),hPe=fC.create,pPe=Vx.create,f6t=G6.create,d6t=$x.create,gPe=zx.create,m6t=Yx.create,h6t=O6.create,p6t=Kx.create,g6t=Jx.create,A6t=dC.create,y6t=RA.create,C6t=vh.create,x6t=U6.create,v6t=BA.create,b6t=gu.create,E6t=gu.strictCreate,I6t=Zx.create,T6t=fW.create,w6t=Xx.create,_6t=Cg.create,S6t=dW.create,k6t=q6.create,R6t=W6.create,B6t=mW.create,D6t=ev.create,P6t=tv.create,F6t=rv.create,N6t=nv.create,L6t=mC.create,sPe=Tf.create,Q6t=zd.create,M6t=xg.create,O6t=Tf.createWithPreprocess,U6t=ck.create,q6t=o(()=>hPe().optional(),"ostring"),W6t=o(()=>pPe().optional(),"onumber"),G6t=o(()=>gPe().optional(),"oboolean"),H6t={string:o(e=>fC.create({...e,coerce:!0}),"string"),number:o(e=>Vx.create({...e,coerce:!0}),"number"),boolean:o(e=>zx.create({...e,coerce:!0}),"boolean"),bigint:o(e=>$x.create({...e,coerce:!0}),"bigint"),date:o(e=>Yx.create({...e,coerce:!0}),"date")},j6t=Pn,ve=Object.freeze({__proto__:null,defaultErrorMap:M6,setErrorMap:O8t,getErrorMap:lW,makeIssue:cW,EMPTY_PATH:U8t,addIssueToContext:xr,ParseStatus:qc,INVALID:Pn,DIRTY:Q6,OK:x0,isAborted:dae,isDirty:mae,isValid:jx,isAsync:ak,get util(){return to},get objectUtil(){return fae},ZodParsedType:kr,getParsedType:kA,ZodType:Xn,datetimeRegex:fPe,ZodString:fC,ZodNumber:Vx,ZodBigInt:$x,ZodBoolean:zx,ZodDate:Yx,ZodSymbol:O6,ZodUndefined:Kx,ZodNull:Jx,ZodAny:dC,ZodUnknown:RA,ZodNever:vh,ZodVoid:U6,ZodArray:BA,ZodObject:gu,ZodUnion:Zx,ZodDiscriminatedUnion:fW,ZodIntersection:Xx,ZodTuple:Cg,ZodRecord:dW,ZodMap:q6,ZodSet:W6,ZodFunction:mW,ZodLazy:ev,ZodLiteral:tv,ZodEnum:rv,ZodNativeEnum:nv,ZodPromise:mC,ZodEffects:Tf,ZodTransformer:Tf,ZodOptional:zd,ZodNullable:xg,ZodDefault:iv,ZodCatch:ov,ZodNaN:G6,BRAND:l6t,ZodBranded:lk,ZodPipeline:ck,ZodReadonly:sv,custom:mPe,Schema:Xn,ZodSchema:Xn,late:c6t,get ZodFirstPartyTypeKind(){return _n},coerce:H6t,any:A6t,array:v6t,bigint:d6t,boolean:gPe,date:m6t,discriminatedUnion:T6t,effect:sPe,enum:F6t,function:B6t,instanceof:u6t,intersection:w6t,lazy:D6t,literal:P6t,map:k6t,nan:f6t,nativeEnum:N6t,never:C6t,null:g6t,nullable:M6t,number:pPe,object:b6t,oboolean:G6t,onumber:W6t,optional:Q6t,ostring:q6t,pipeline:U6t,preprocess:O6t,promise:L6t,record:S6t,set:R6t,strictObject:E6t,string:hPe,symbol:h6t,transformer:sPe,tuple:_6t,undefined:p6t,union:I6t,unknown:y6t,void:x6t,NEVER:j6t,ZodIssueCode:Gt,quotelessJson:M8t,ZodError:If});var pae="2024-11-05",APe=[pae,"2024-10-07"],hW="2.0",yPe=ve.union([ve.string(),ve.number().int()]),CPe=ve.string(),bh=ve.object({_meta:ve.optional(ve.object({progressToken:ve.optional(yPe)}).passthrough())}).passthrough(),wf=ve.object({method:ve.string(),params:ve.optional(bh)}),uk=ve.object({_meta:ve.optional(ve.object({}).passthrough())}).passthrough(),vg=ve.object({method:ve.string(),params:ve.optional(uk)}),Eh=ve.object({_meta:ve.optional(ve.object({}).passthrough())}).passthrough(),pW=ve.union([ve.string(),ve.number().int()]),xPe=ve.object({jsonrpc:ve.literal(hW),id:pW}).merge(wf).strict(),vPe=o(e=>xPe.safeParse(e).success,"isJSONRPCRequest"),bPe=ve.object({jsonrpc:ve.literal(hW)}).merge(vg).strict(),EPe=o(e=>bPe.safeParse(e).success,"isJSONRPCNotification"),IPe=ve.object({jsonrpc:ve.literal(hW),id:pW,result:Eh}).strict(),gae=o(e=>IPe.safeParse(e).success,"isJSONRPCResponse"),hC;(function(e){e[e.ConnectionClosed=-32e3]="ConnectionClosed",e[e.RequestTimeout=-32001]="RequestTimeout",e[e.ParseError=-32700]="ParseError",e[e.InvalidRequest=-32600]="InvalidRequest",e[e.MethodNotFound=-32601]="MethodNotFound",e[e.InvalidParams=-32602]="InvalidParams",e[e.InternalError=-32603]="InternalError"})(hC||(hC={}));var TPe=ve.object({jsonrpc:ve.literal(hW),id:pW,error:ve.object({code:ve.number().int(),message:ve.string(),data:ve.optional(ve.unknown())})}).strict(),wPe=o(e=>TPe.safeParse(e).success,"isJSONRPCError"),_Pe=ve.union([xPe,bPe,IPe,TPe]),lv=Eh.strict(),gW=vg.extend({method:ve.literal("notifications/cancelled"),params:uk.extend({requestId:pW,reason:ve.string().optional()})}),SPe=ve.object({name:ve.string(),version:ve.string()}).passthrough(),V6t=ve.object({experimental:ve.optional(ve.object({}).passthrough()),sampling:ve.optional(ve.object({}).passthrough()),roots:ve.optional(ve.object({listChanged:ve.optional(ve.boolean())}).passthrough())}).passthrough(),$6t=wf.extend({method:ve.literal("initialize"),params:bh.extend({protocolVersion:ve.string(),capabilities:V6t,clientInfo:SPe})});var z6t=ve.object({experimental:ve.optional(ve.object({}).passthrough()),logging:ve.optional(ve.object({}).passthrough()),completions:ve.optional(ve.object({}).passthrough()),prompts:ve.optional(ve.object({listChanged:ve.optional(ve.boolean())}).passthrough()),resources:ve.optional(ve.object({subscribe:ve.optional(ve.boolean()),listChanged:ve.optional(ve.boolean())}).passthrough()),tools:ve.optional(ve.object({listChanged:ve.optional(ve.boolean())}).passthrough())}).passthrough(),Aae=Eh.extend({protocolVersion:ve.string(),capabilities:z6t,serverInfo:SPe,instructions:ve.optional(ve.string())}),Y6t=vg.extend({method:ve.literal("notifications/initialized")});var AW=wf.extend({method:ve.literal("ping")}),K6t=ve.object({progress:ve.number(),total:ve.optional(ve.number())}).passthrough(),yW=vg.extend({method:ve.literal("notifications/progress"),params:uk.merge(K6t).extend({progressToken:yPe})}),CW=wf.extend({params:bh.extend({cursor:ve.optional(CPe)}).optional()}),xW=Eh.extend({nextCursor:ve.optional(CPe)}),kPe=ve.object({uri:ve.string(),mimeType:ve.optional(ve.string())}).passthrough(),RPe=kPe.extend({text:ve.string()}),BPe=kPe.extend({blob:ve.string().base64()}),J6t=ve.object({uri:ve.string(),name:ve.string(),description:ve.optional(ve.string()),mimeType:ve.optional(ve.string())}).passthrough(),Z6t=ve.object({uriTemplate:ve.string(),name:ve.string(),description:ve.optional(ve.string()),mimeType:ve.optional(ve.string())}).passthrough(),X6t=CW.extend({method:ve.literal("resources/list")}),yae=xW.extend({resources:ve.array(J6t)}),e9t=CW.extend({method:ve.literal("resources/templates/list")}),Cae=xW.extend({resourceTemplates:ve.array(Z6t)}),t9t=wf.extend({method:ve.literal("resources/read"),params:bh.extend({uri:ve.string()})}),xae=Eh.extend({contents:ve.array(ve.union([RPe,BPe]))}),r9t=vg.extend({method:ve.literal("notifications/resources/list_changed")}),n9t=wf.extend({method:ve.literal("resources/subscribe"),params:bh.extend({uri:ve.string()})}),i9t=wf.extend({method:ve.literal("resources/unsubscribe"),params:bh.extend({uri:ve.string()})}),o9t=vg.extend({method:ve.literal("notifications/resources/updated"),params:uk.extend({uri:ve.string()})}),s9t=ve.object({name:ve.string(),description:ve.optional(ve.string()),required:ve.optional(ve.boolean())}).passthrough(),a9t=ve.object({name:ve.string(),description:ve.optional(ve.string()),arguments:ve.optional(ve.array(s9t))}).passthrough(),l9t=CW.extend({method:ve.literal("prompts/list")}),vae=xW.extend({prompts:ve.array(a9t)}),c9t=wf.extend({method:ve.literal("prompts/get"),params:bh.extend({name:ve.string(),arguments:ve.optional(ve.record(ve.string()))})}),vW=ve.object({type:ve.literal("text"),text:ve.string()}).passthrough(),bW=ve.object({type:ve.literal("image"),data:ve.string().base64(),mimeType:ve.string()}).passthrough(),EW=ve.object({type:ve.literal("audio"),data:ve.string().base64(),mimeType:ve.string()}).passthrough(),DPe=ve.object({type:ve.literal("resource"),resource:ve.union([RPe,BPe])}).passthrough(),u9t=ve.object({role:ve.enum(["user","assistant"]),content:ve.union([vW,bW,EW,DPe])}).passthrough(),bae=Eh.extend({description:ve.optional(ve.string()),messages:ve.array(u9t)}),f9t=vg.extend({method:ve.literal("notifications/prompts/list_changed")}),d9t=ve.object({name:ve.string(),description:ve.optional(ve.string()),inputSchema:ve.object({type:ve.literal("object"),properties:ve.optional(ve.object({}).passthrough())}).passthrough()}).passthrough(),m9t=CW.extend({method:ve.literal("tools/list")}),Eae=xW.extend({tools:ve.array(d9t)}),IW=Eh.extend({content:ve.array(ve.union([vW,bW,EW,DPe])),isError:ve.boolean().default(!1).optional()}),tXr=IW.or(Eh.extend({toolResult:ve.unknown()})),h9t=wf.extend({method:ve.literal("tools/call"),params:bh.extend({name:ve.string(),arguments:ve.optional(ve.record(ve.unknown()))})}),p9t=vg.extend({method:ve.literal("notifications/tools/list_changed")}),PPe=ve.enum(["debug","info","notice","warning","error","critical","alert","emergency"]),g9t=wf.extend({method:ve.literal("logging/setLevel"),params:bh.extend({level:PPe})}),A9t=vg.extend({method:ve.literal("notifications/message"),params:uk.extend({level:PPe,logger:ve.optional(ve.string()),data:ve.unknown()})}),y9t=ve.object({name:ve.string().optional()}).passthrough(),C9t=ve.object({hints:ve.optional(ve.array(y9t)),costPriority:ve.optional(ve.number().min(0).max(1)),speedPriority:ve.optional(ve.number().min(0).max(1)),intelligencePriority:ve.optional(ve.number().min(0).max(1))}).passthrough(),x9t=ve.object({role:ve.enum(["user","assistant"]),content:ve.union([vW,bW,EW])}).passthrough(),v9t=wf.extend({method:ve.literal("sampling/createMessage"),params:bh.extend({messages:ve.array(x9t),systemPrompt:ve.optional(ve.string()),includeContext:ve.optional(ve.enum(["none","thisServer","allServers"])),temperature:ve.optional(ve.number()),maxTokens:ve.number().int(),stopSequences:ve.optional(ve.array(ve.string())),metadata:ve.optional(ve.object({}).passthrough()),modelPreferences:ve.optional(C9t)})}),b9t=Eh.extend({model:ve.string(),stopReason:ve.optional(ve.enum(["endTurn","stopSequence","maxTokens"]).or(ve.string())),role:ve.enum(["user","assistant"]),content:ve.discriminatedUnion("type",[vW,bW,EW])}),E9t=ve.object({type:ve.literal("ref/resource"),uri:ve.string()}).passthrough(),I9t=ve.object({type:ve.literal("ref/prompt"),name:ve.string()}).passthrough(),T9t=wf.extend({method:ve.literal("completion/complete"),params:bh.extend({ref:ve.union([I9t,E9t]),argument:ve.object({name:ve.string(),value:ve.string()}).passthrough()})}),Iae=Eh.extend({completion:ve.object({values:ve.array(ve.string()).max(100),total:ve.optional(ve.number().int()),hasMore:ve.optional(ve.boolean())}).passthrough()}),w9t=ve.object({uri:ve.string().startsWith("file://"),name:ve.optional(ve.string())}).passthrough(),_9t=wf.extend({method:ve.literal("roots/list")}),S9t=Eh.extend({roots:ve.array(w9t)}),k9t=vg.extend({method:ve.literal("notifications/roots/list_changed")}),rXr=ve.union([AW,$6t,T9t,g9t,c9t,l9t,X6t,e9t,t9t,n9t,i9t,h9t,m9t]),nXr=ve.union([gW,yW,Y6t,k9t]),iXr=ve.union([lv,b9t,S9t]),oXr=ve.union([AW,v9t,_9t]),sXr=ve.union([gW,yW,A9t,o9t,r9t,p9t,f9t]),aXr=ve.union([lv,Aae,Iae,bae,vae,yae,Cae,xae,IW,Eae]),av=class extends Error{static{o(this,"McpError")}constructor(t,r,n){super(`MCP error ${t}: ${r}`),this.code=t,this.data=n,this.name="McpError"}};var R9t=6e4,TW=class{static{o(this,"Protocol")}constructor(t){this._options=t,this._requestMessageId=0,this._requestHandlers=new Map,this._requestHandlerAbortControllers=new Map,this._notificationHandlers=new Map,this._responseHandlers=new Map,this._progressHandlers=new Map,this._timeoutInfo=new Map,this.setNotificationHandler(gW,r=>{let n=this._requestHandlerAbortControllers.get(r.params.requestId);n?.abort(r.params.reason)}),this.setNotificationHandler(yW,r=>{this._onprogress(r)}),this.setRequestHandler(AW,r=>({}))}_setupTimeout(t,r,n,i,s=!1){this._timeoutInfo.set(t,{timeoutId:setTimeout(i,r),startTime:Date.now(),timeout:r,maxTotalTimeout:n,resetTimeoutOnProgress:s,onTimeout:i})}_resetTimeout(t){let r=this._timeoutInfo.get(t);if(!r)return!1;let n=Date.now()-r.startTime;if(r.maxTotalTimeout&&n>=r.maxTotalTimeout)throw this._timeoutInfo.delete(t),new av(hC.RequestTimeout,"Maximum total timeout exceeded",{maxTotalTimeout:r.maxTotalTimeout,totalElapsed:n});return clearTimeout(r.timeoutId),r.timeoutId=setTimeout(r.onTimeout,r.timeout),!0}_cleanupTimeout(t){let r=this._timeoutInfo.get(t);r&&(clearTimeout(r.timeoutId),this._timeoutInfo.delete(t))}async connect(t){this._transport=t,this._transport.onclose=()=>{this._onclose()},this._transport.onerror=r=>{this._onerror(r)},this._transport.onmessage=(r,n)=>{gae(r)||wPe(r)?this._onresponse(r):vPe(r)?this._onrequest(r,n):EPe(r)?this._onnotification(r):this._onerror(new Error(`Unknown message type: ${JSON.stringify(r)}`))},await this._transport.start()}_onclose(){var t;let r=this._responseHandlers;this._responseHandlers=new Map,this._progressHandlers.clear(),this._transport=void 0,(t=this.onclose)===null||t===void 0||t.call(this);let n=new av(hC.ConnectionClosed,"Connection closed");for(let i of r.values())i(n)}_onerror(t){var r;(r=this.onerror)===null||r===void 0||r.call(this,t)}_onnotification(t){var r;let n=(r=this._notificationHandlers.get(t.method))!==null&&r!==void 0?r:this.fallbackNotificationHandler;n!==void 0&&Promise.resolve().then(()=>n(t)).catch(i=>this._onerror(new Error(`Uncaught error in notification handler: ${i}`)))}_onrequest(t,r){var n,i,s;let a=(n=this._requestHandlers.get(t.method))!==null&&n!==void 0?n:this.fallbackRequestHandler;if(a===void 0){(i=this._transport)===null||i===void 0||i.send({jsonrpc:"2.0",id:t.id,error:{code:hC.MethodNotFound,message:"Method not found"}}).catch(u=>this._onerror(new Error(`Failed to send an error response: ${u}`)));return}let l=new AbortController;this._requestHandlerAbortControllers.set(t.id,l);let c={signal:l.signal,sessionId:(s=this._transport)===null||s===void 0?void 0:s.sessionId,sendNotification:o(u=>this.notification(u,{relatedRequestId:t.id}),"sendNotification"),sendRequest:o((u,f,m)=>this.request(u,f,{...m,relatedRequestId:t.id}),"sendRequest"),authInfo:r?.authInfo};Promise.resolve().then(()=>a(t,c)).then(u=>{var f;if(!l.signal.aborted)return(f=this._transport)===null||f===void 0?void 0:f.send({result:u,jsonrpc:"2.0",id:t.id})},u=>{var f,m;if(!l.signal.aborted)return(f=this._transport)===null||f===void 0?void 0:f.send({jsonrpc:"2.0",id:t.id,error:{code:Number.isSafeInteger(u.code)?u.code:hC.InternalError,message:(m=u.message)!==null&&m!==void 0?m:"Internal error"}})}).catch(u=>this._onerror(new Error(`Failed to send response: ${u}`))).finally(()=>{this._requestHandlerAbortControllers.delete(t.id)})}_onprogress(t){let{progressToken:r,...n}=t.params,i=Number(r),s=this._progressHandlers.get(i);if(!s){this._onerror(new Error(`Received a progress notification for an unknown token: ${JSON.stringify(t)}`));return}let a=this._responseHandlers.get(i),l=this._timeoutInfo.get(i);if(l&&a&&l.resetTimeoutOnProgress)try{this._resetTimeout(i)}catch(c){a(c);return}s(n)}_onresponse(t){let r=Number(t.id),n=this._responseHandlers.get(r);if(n===void 0){this._onerror(new Error(`Received a response for an unknown message ID: ${JSON.stringify(t)}`));return}if(this._responseHandlers.delete(r),this._progressHandlers.delete(r),this._cleanupTimeout(r),gae(t))n(t);else{let i=new av(t.error.code,t.error.message,t.error.data);n(i)}}get transport(){return this._transport}async close(){var t;await((t=this._transport)===null||t===void 0?void 0:t.close())}request(t,r,n){let{relatedRequestId:i,resumptionToken:s,onresumptiontoken:a}=n??{};return new Promise((l,c)=>{var u,f,m,h,p;if(!this._transport){c(new Error("Not connected"));return}((u=this._options)===null||u===void 0?void 0:u.enforceStrictCapabilities)===!0&&this.assertCapabilityForMethod(t.method),(f=n?.signal)===null||f===void 0||f.throwIfAborted();let g=this._requestMessageId++,x={...t,jsonrpc:"2.0",id:g};n?.onprogress&&(this._progressHandlers.set(g,n.onprogress),x.params={...t.params,_meta:{progressToken:g}});let v=o(_=>{var R;this._responseHandlers.delete(g),this._progressHandlers.delete(g),this._cleanupTimeout(g),(R=this._transport)===null||R===void 0||R.send({jsonrpc:"2.0",method:"notifications/cancelled",params:{requestId:g,reason:String(_)}},{relatedRequestId:i,resumptionToken:s,onresumptiontoken:a}).catch(P=>this._onerror(new Error(`Failed to send cancellation: ${P}`))),c(_)},"cancel");this._responseHandlers.set(g,_=>{var R;if(!(!((R=n?.signal)===null||R===void 0)&&R.aborted)){if(_ instanceof Error)return c(_);try{let P=r.parse(_.result);l(P)}catch(P){c(P)}}}),(m=n?.signal)===null||m===void 0||m.addEventListener("abort",()=>{var _;v((_=n?.signal)===null||_===void 0?void 0:_.reason)});let E=(h=n?.timeout)!==null&&h!==void 0?h:R9t,b=o(()=>v(new av(hC.RequestTimeout,"Request timed out",{timeout:E})),"timeoutHandler");this._setupTimeout(g,E,n?.maxTotalTimeout,b,(p=n?.resetTimeoutOnProgress)!==null&&p!==void 0?p:!1),this._transport.send(x,{relatedRequestId:i,resumptionToken:s,onresumptiontoken:a}).catch(_=>{this._cleanupTimeout(g),c(_)})})}async notification(t,r){if(!this._transport)throw new Error("Not connected");this.assertNotificationCapability(t.method);let n={...t,jsonrpc:"2.0"};await this._transport.send(n,r)}setRequestHandler(t,r){let n=t.shape.method.value;this.assertRequestHandlerCapability(n),this._requestHandlers.set(n,(i,s)=>Promise.resolve(r(t.parse(i),s)))}removeRequestHandler(t){this._requestHandlers.delete(t)}assertCanSetRequestHandler(t){if(this._requestHandlers.has(t))throw new Error(`A request handler for ${t} already exists, which would be overridden`)}setNotificationHandler(t,r){this._notificationHandlers.set(t.shape.method.value,n=>Promise.resolve(r(t.parse(n))))}removeNotificationHandler(t){this._notificationHandlers.delete(t)}};function FPe(e,t){return Object.entries(t).reduce((r,[n,i])=>(i&&typeof i=="object"?r[n]=r[n]?{...r[n],...i}:i:r[n]=i,r),{...e})}o(FPe,"mergeCapabilities");var wW=class extends TW{static{o(this,"Client")}constructor(t,r){var n;super(r),this._clientInfo=t,this._capabilities=(n=r?.capabilities)!==null&&n!==void 0?n:{}}registerCapabilities(t){if(this.transport)throw new Error("Cannot register capabilities after connecting to transport");this._capabilities=FPe(this._capabilities,t)}assertCapability(t,r){var n;if(!(!((n=this._serverCapabilities)===null||n===void 0)&&n[t]))throw new Error(`Server does not support ${t} (required for ${r})`)}async connect(t,r){if(await super.connect(t),t.sessionId===void 0)try{let n=await this.request({method:"initialize",params:{protocolVersion:pae,capabilities:this._capabilities,clientInfo:this._clientInfo}},Aae,r);if(n===void 0)throw new Error(`Server sent invalid initialize result: ${n}`);if(!APe.includes(n.protocolVersion))throw new Error(`Server's protocol version is not supported: ${n.protocolVersion}`);this._serverCapabilities=n.capabilities,this._serverVersion=n.serverInfo,this._instructions=n.instructions,await this.notification({method:"notifications/initialized"})}catch(n){throw this.close(),n}}getServerCapabilities(){return this._serverCapabilities}getServerVersion(){return this._serverVersion}getInstructions(){return this._instructions}assertCapabilityForMethod(t){var r,n,i,s,a;switch(t){case"logging/setLevel":if(!(!((r=this._serverCapabilities)===null||r===void 0)&&r.logging))throw new Error(`Server does not support logging (required for ${t})`);break;case"prompts/get":case"prompts/list":if(!(!((n=this._serverCapabilities)===null||n===void 0)&&n.prompts))throw new Error(`Server does not support prompts (required for ${t})`);break;case"resources/list":case"resources/templates/list":case"resources/read":case"resources/subscribe":case"resources/unsubscribe":if(!(!((i=this._serverCapabilities)===null||i===void 0)&&i.resources))throw new Error(`Server does not support resources (required for ${t})`);if(t==="resources/subscribe"&&!this._serverCapabilities.resources.subscribe)throw new Error(`Server does not support resource subscriptions (required for ${t})`);break;case"tools/call":case"tools/list":if(!(!((s=this._serverCapabilities)===null||s===void 0)&&s.tools))throw new Error(`Server does not support tools (required for ${t})`);break;case"completion/complete":if(!(!((a=this._serverCapabilities)===null||a===void 0)&&a.completions))throw new Error(`Server does not support completions (required for ${t})`);break;case"initialize":break;case"ping":break}}assertNotificationCapability(t){var r;switch(t){case"notifications/roots/list_changed":if(!(!((r=this._capabilities.roots)===null||r===void 0)&&r.listChanged))throw new Error(`Client does not support roots list changed notifications (required for ${t})`);break;case"notifications/initialized":break;case"notifications/cancelled":break;case"notifications/progress":break}}assertRequestHandlerCapability(t){switch(t){case"sampling/createMessage":if(!this._capabilities.sampling)throw new Error(`Client does not support sampling capability (required for ${t})`);break;case"roots/list":if(!this._capabilities.roots)throw new Error(`Client does not support roots capability (required for ${t})`);break;case"ping":break}}async ping(t){return this.request({method:"ping"},lv,t)}async complete(t,r){return this.request({method:"completion/complete",params:t},Iae,r)}async setLoggingLevel(t,r){return this.request({method:"logging/setLevel",params:{level:t}},lv,r)}async getPrompt(t,r){return this.request({method:"prompts/get",params:t},bae,r)}async listPrompts(t,r){return this.request({method:"prompts/list",params:t},vae,r)}async listResources(t,r){return this.request({method:"resources/list",params:t},yae,r)}async listResourceTemplates(t,r){return this.request({method:"resources/templates/list",params:t},Cae,r)}async readResource(t,r){return this.request({method:"resources/read",params:t},xae,r)}async subscribeResource(t,r){return this.request({method:"resources/subscribe",params:t},lv,r)}async unsubscribeResource(t,r){return this.request({method:"resources/unsubscribe",params:t},lv,r)}async callTool(t,r=IW,n){return this.request({method:"tools/call",params:t},r,n)}async listTools(t,r){return this.request({method:"tools/list",params:t},Eae,r)}async sendRootsListChanged(){return this.notification({method:"notifications/roots/list_changed"})}};d();var IFe=et(bFe(),1),fk=et(require("node:process"),1);d();var SW=class{static{o(this,"ReadBuffer")}append(t){this._buffer=this._buffer?Buffer.concat([this._buffer,t]):t}readMessage(){if(!this._buffer)return null;let t=this._buffer.indexOf(`
`);if(t===-1)return null;let r=this._buffer.toString("utf8",0,t).replace(/\r$/,"");return this._buffer=this._buffer.subarray(t+1),n7t(r)}clear(){this._buffer=void 0}};function n7t(e){return _Pe.parse(JSON.parse(e))}o(n7t,"deserializeMessage");function EFe(e){return JSON.stringify(e)+`
`}o(EFe,"serializeMessage");var i7t=fk.default.platform==="win32"?["APPDATA","HOMEDRIVE","HOMEPATH","LOCALAPPDATA","PATH","PROCESSOR_ARCHITECTURE","SYSTEMDRIVE","SYSTEMROOT","TEMP","USERNAME","USERPROFILE"]:["HOME","LOGNAME","PATH","SHELL","TERM","USER"];function o7t(){let e={};for(let t of i7t){let r=fk.default.env[t];r!==void 0&&(r.startsWith("()")||(e[t]=r))}return e}o(o7t,"getDefaultEnvironment");var kW=class{static{o(this,"StdioClientTransport")}constructor(t){this._abortController=new AbortController,this._readBuffer=new SW,this._serverParams=t}async start(){if(this._process)throw new Error("StdioClientTransport already started! If using Client class, note that connect() calls start() automatically.");return new Promise((t,r)=>{var n,i,s,a,l,c;this._process=(0,IFe.default)(this._serverParams.command,(n=this._serverParams.args)!==null&&n!==void 0?n:[],{env:(i=this._serverParams.env)!==null&&i!==void 0?i:o7t(),stdio:["pipe","pipe",(s=this._serverParams.stderr)!==null&&s!==void 0?s:"inherit"],shell:!1,signal:this._abortController.signal,windowsHide:fk.default.platform==="win32"&&s7t(),cwd:this._serverParams.cwd}),this._process.on("error",u=>{var f,m;if(u.name==="AbortError"){(f=this.onclose)===null||f===void 0||f.call(this);return}r(u),(m=this.onerror)===null||m===void 0||m.call(this,u)}),this._process.on("spawn",()=>{t()}),this._process.on("close",u=>{var f;this._process=void 0,(f=this.onclose)===null||f===void 0||f.call(this)}),(a=this._process.stdin)===null||a===void 0||a.on("error",u=>{var f;(f=this.onerror)===null||f===void 0||f.call(this,u)}),(l=this._process.stdout)===null||l===void 0||l.on("data",u=>{this._readBuffer.append(u),this.processReadBuffer()}),(c=this._process.stdout)===null||c===void 0||c.on("error",u=>{var f;(f=this.onerror)===null||f===void 0||f.call(this,u)})})}get stderr(){var t,r;return(r=(t=this._process)===null||t===void 0?void 0:t.stderr)!==null&&r!==void 0?r:null}processReadBuffer(){for(var t,r;;)try{let n=this._readBuffer.readMessage();if(n===null)break;(t=this.onmessage)===null||t===void 0||t.call(this,n)}catch(n){(r=this.onerror)===null||r===void 0||r.call(this,n)}}async close(){this._abortController.abort(),this._process=void 0,this._readBuffer.clear()}send(t){return new Promise(r=>{var n;if(!(!((n=this._process)===null||n===void 0)&&n.stdin))throw new Error("Not connected");let i=EFe(t);this._process.stdin.write(i)?r():this._process.stdin.once("drain",r)})}};function s7t(){return"type"in fk.default}o(s7t,"isElectron");var RW=class{constructor(t,r,n){this.transport=null;this.ctx=t,this.mcp=new wW({name:r,version:n})}static{o(this,"MCPStdioServer")}async connect(t){this.transport=new kW(t);try{await this.mcp.connect(this.transport)}catch(r){throw yg.error(this.ctx,"Connection failed:",r),r}}async getToolsList(){let t=[];return this.transport&&(t=(await this.mcp.listTools()).tools.map(n=>({name:n.name,description:n.description,inputSchema:{...n.inputSchema||{},properties:n.inputSchema?.properties||{},type:n.inputSchema?.type||"object"}}))),t}async callTool(t,r){try{let n=await this.mcp.callTool({name:t,arguments:r});return n&&typeof n=="object"?n.content?JSON.stringify(n.content):(yg.error(this.ctx,`Error calling tool ${t}: `+JSON.stringify(n)),`Error calling tool ${t}: `+JSON.stringify(n)):(yg.error(this.ctx,`Error calling tool ${t}: `+String(n)),`Error calling tool ${t}: `+String(n))}catch(n){return yg.error(this.ctx,`Error calling tool ${t}:`,n),"Error calling tool "+t+": "+(n||{message:"Unknown error"})?.message}}async cleanup(){this.transport&&await this.mcp.close()}};d();d();var Ml=class extends Error{static{o(this,"CanceledError")}constructor(){super("Canceled"),this.name="Canceled"}};d();var BW=class{constructor(){this._tools=new Map}static{o(this,"ToolRegistry")}registerTool(t){if(!this._tools.has(t.id))this._tools.set(t.id,t);else throw new Error(`Tool with name '${t.name}' provided by '${t.toolProvider.id}' is already registered.`)}unregisterTool(t){return this._tools.delete(t)}getTool(t){return this._tools.get(t)}listTools(){return Array.from(this._tools.values())}};d();d();d();d();var gC={id:"copilot",displayName:"Copilot Language Server",description:"Copilot Language Server tool provider",isFirstPartyTool:!0},bg={id:"copilot-editor",displayName:"Editor",description:"Editor tool provider",isFirstPartyTool:!0},Fae=class{static{o(this,"LanguageModelTool")}constructor(t){this.type=t.type,this.toolProvider=t.toolProvider,this.name=t.name,this.displayName=t.displayName??this.name,this.description=t.description,this.displayDescription=t.displayDescription??this.description,this.inputSchema=t.inputSchema,this.id=`${this.toolProvider.id}.${this.name}`,this.nameForModel=this.toolProvider.isFirstPartyTool?this.name:`${this.toolProvider.id}_${this.name}`}},pC=class extends Fae{static{o(this,"BaseLanguageModelTool")}constructor(t){super(t)}},xo=class{static{o(this,"LanguageModelTextPart")}constructor(t){this.value=t}},V6=class{static{o(this,"LanguageModelPromptTsxPart")}constructor(t){this.value=t}};var vo=class{static{o(this,"LanguageModelToolResult")}constructor(t,r){this.status=r,this.content=t}},TFe=I.Object({content:I.Array(I.Union([I.Object({value:I.String()}),I.Object({value:I.Unknown()})])),status:I.Optional(I.Union([I.Literal("success"),I.Literal("error"),I.Literal("cancelled")]))}),DW=(r=>(r.Accept="accept",r.Dismiss="dismiss",r))(DW||{}),wFe=I.Object({result:I.Enum(DW)});var Kd=class extends pC{static{o(this,"ClsLanguageModelTool")}constructor(t){super({...t,toolProvider:gC,type:"shared"})}};d();var a7t=new Map([["copilot_semanticSearch","semantic_search"],["copilot_readFile","read_file"],["copilot_listDir","list_dir"],["copilot_getErrors","get_errors"],["copilot_runInTerminal","run_in_terminal"],["copilot_insertEdit","insert_edit_into_file"],["copilot_createFile","create_file"],["copilot_replaceString","replace_string_in_file"],["copilot_updateUserPreferences","update_user_preferences"],["copilot_fileSearch","file_search"],["copilot_findTextInFiles","grep_search"]]),l7t=new Map;for(let[e,t]of a7t)l7t.set(t,e);d();function $6(e){return`[${Di(e)}](${e})`}o($6,"formatUriForFileWidget");function Eg(e){let t=c7t(e);if(!t)throw new Error(`Invalid input path: ${e}. Be sure to use an absolute path.`);return t}o(Eg,"resolvePathInput");function c7t(e){if(e.startsWith("/")||SFe()&&f7t(e)||SFe()&&e.startsWith("\\\\"))return sl(e)}o(c7t,"resolveFsUri");function SFe(){return process.platform==="win32"}o(SFe,"isWindows");function u7t(e){return e>=65&&e<=90||e>=97&&e<=122}o(u7t,"isWindowsDriveLetter");function f7t(e){return u7t(e.charCodeAt(0))&&e.charCodeAt(1)===58}o(f7t,"hasDriveLetter");function PW(e){let t="";return e.length>0&&(t=e.map(r=>r instanceof xo?r.value:(r instanceof V6,"")).join(`
`)),t===""?"(empty)":t}o(PW,"parseToolResultToString");var FW=class extends Kd{static{o(this,"EditFileTool")}constructor(){super({name:"insert_edit_into_file",displayName:"Edit File",description:`Edit a file in the workspace. Use this tool once per file that needs to be modified, even if there are multiple changes for a file. Generate the "explanation" property first.
The system is very smart and can understand how to apply your edits to the files, you just need to provide minimal hints.
Avoid repeating existing code, instead use comments to represent regions of unchanged code. Be as concise as possible. For example:
// ...existing code...
{ changed code }
// ...existing code...
{ changed code }
// ...existing code...

Here is an example of how you should use format an edit to an existing Person class:
class Person {
	// ...existing code...
	age: number;
	// ...existing code...
	getAge() {
	return this.age;
	}
}`,displayDescription:"Edit a file in the workspace.",inputSchema:I.Object({filePath:I.String({description:"The absolute path of the file to edit."}),code:I.String({description:`The code change to apply to the file.
The system is very smart and can understand how to apply your edits to the files, you just need to provide minimal hints.
Avoid repeating existing code, instead use comments to represent regions of unchanged code. Be as concise as possible. For example:
// ...existing code...
{ changed code }
// ...existing code...
{ changed code }
// ...existing code...

Here is an example of how you should use format an edit to an existing Person class:
class Person {
	// ...existing code...
	age: number;
	// ...existing code...
	getAge() {
		return this.age;
	}
}`}),explanation:I.String({description:"A short explanation of the edit being made."})})})}async invoke(t,r,n){try{let i=await this.mapCode(r.input,t,n),s=await this.invokeClientEditFileTool(t,r,i,n);return this.getFinalEditFileResult(r,s)}catch(i){let s=i instanceof Error?i.message:"An unknown error occurred";return new vo([new xo(s)],"error")}}async mapCode(t,r,n){let{filePath:i}=t,s=Eg(i);if(!s)throw new Error(`Invalid file path: ${i}`);return await new P6(r.ctx).mapCode({code:t.code,resource:s,markdownBeforeBlock:t.explanation},n,void 0,!0)}async invokeClientEditFileTool(t,r,n,i){let s=t.ctx.get(v0).getToolByNameAndProvider("insert_edit_into_file",bg);if(!s)throw new Error("Client tool insert_edit_into_file is not registered");return t.ctx.get(v0).invokeTool(t,s.id,{toolInvocationToken:r.toolInvocationToken,input:{filePath:r.input.filePath,code:n,explanation:r.input.explanation},roundId:r.roundId,toolCallId:r.toolCallId},i)}getFinalEditFileResult(t,r){if(r.status!=="success")return r;let n=PW(r.content),i=EI({uri:Eg(t.input.filePath),languageId:"UNKNOWN"}),s=y0(n),a=[];return a.push(`<file_after_edit path="${t.input.filePath}">`),a.push("This is the new state of the file after the edit. Base future edits off of this file, no need to read it again, unless a terminal command may have changed it."),a.push(`${s}${i}`),a.push(`${n}`),a.push(`${s}`),a.push("</file_after_edit>"),new vo([new xo(a.join(`
`))],"success")}prepareInvocation(t,r){let{input:n}=t;if(!n.filePath.length)return{progressMessage:"Running insert_edit_into_file tool"};let i=Eg(n.filePath);return{progressMessage:`Editing ${$6(i)}`}}static toEditFileParams(t){if(typeof t.filePath!="string")throw new Error("filePath must be a string");if(typeof t.code!="string")throw new Error("code must be a string");if(typeof t.explanation!="string")throw new Error("explanation must be a string");return{filePath:t.filePath,code:t.code,explanation:t.explanation}}};d();d();var kFe=require("crypto"),Ig=et(require("fs/promises")),RFe=require("os"),PA=et(require("path"));var FA=class{constructor(t){this.ctx=t;this.logger=new Vt("ripgrep")}static{o(this,"RipgrepPathResolver")}async resolvePath(){if(this.rgPath)return this.rgPath;let t=process.platform,r=process.arch;return this.rgPath=await this.resolvePathByOs(t,r),this.rgPath}async resolvePathByOs(t,r){if(this.logger.debug(this.ctx,`Start resolving ripgrep path for platform: ${t} and architecture: ${r}`),r!=="arm64"&&r!=="x64")throw new Error(`Unsupported architecture: ${r}`);let n=t==="win32"?"rg.exe":"rg";this.logger.debug(this.ctx,`__filename is ${__filename}, __dirname is ${__dirname}`);let i=PA.extname(__filename)===".ts"?PA.resolve(__dirname,"../../../packages/ripgrep/bin"):PA.resolve(__dirname,"./bin"),s=PA.resolve(i,t,r,n);if("pkg"in process){this.logger.debug(this.ctx,"Running inside pkg binary, start to copy ripgrep to a temporary location");let a=await Ig.readFile(s),l=(0,kFe.createHash)("sha256").update(a).digest("hex"),c=PA.join((0,RFe.homedir)(),".cache/pkg",l);await Ig.mkdir(c,{recursive:!0});let u=Di(sl(s)),f=PA.join(c,u);try{await Ig.stat(f)}catch{await Ig.copyFile(s,f),this.logger.debug(this.ctx,`Copied ripgrep to ${f}`)}s=f,t!=="win32"&&await Ig.chmod(s,493).catch(m=>{this.logger.error(this.ctx,`Failed to set executable permission for ${s}: ${m}`)})}return s}};d();d();function BFe(){return Ir()}o(BFe,"uuidV4");var DFe=require("child_process"),Nae=require("perf_hooks");var NA=new Vt("ripgrepProcessManager"),Ih=class{constructor(t,r,n){this.ctx=t;this.defaultTimeoutInMs=30*1e3;this.maxProcesses=4;this.maxPendingTasks=20;this.taskQueue=[];this.activeProcesses=new Set;this.maxProcesses=r??this.maxProcesses,this.maxPendingTasks=n??this.maxPendingTasks,NA.debug(this.ctx,`initialized with maxProcesses: ${this.maxProcesses} and maxPendingTasks: ${this.maxPendingTasks}`)}static{o(this,"RipgrepProcessManager")}dispose(){NA.debug(this.ctx,`Disposing ripgrep process manager with ${this.activeProcesses.size} active processes`),this.activeProcesses.forEach(t=>{if(!t.killed)try{t.kill()}catch(r){NA.error(this.ctx,"Failed to kill process. ",r)}}),this.activeProcesses.clear()}execute(t,r,n,i,s){return new Promise((a,l)=>{if(this.taskQueue.length>=this.maxPendingTasks){NA.error(this.ctx,`Task queue limit reached: ${this.maxPendingTasks}`),l(new Error(`Task queue limit of ${this.maxPendingTasks} reached`));return}if(s!==void 0&&s<=0){NA.error(this.ctx,`Invalid timeout value: ${s}`),l(new Error(`Invalid timeout value: ${s}`));return}NA.debug(this.ctx,`Adding task to queue: ${t} ${r.join(" ")}`),this.taskQueue.push({id:BFe(),command:t,args:r,options:i,resolve:a,reject:l,timeoutInMs:s??this.defaultTimeoutInMs,token:n});let c=this.taskQueue.map(u=>this.getTaskSimpleInfo(u)).join(`
`);NA.debug(this.ctx,`Current task queue length: ${this.taskQueue.length}, task list: ${c}`),this.runNextTask()})}runNextTask(){if(this.taskQueue.length===0||this.activeProcesses.size>=this.maxProcesses)return;let t=this.taskQueue.shift(),r=Nae.performance.now();NA.debug(this.ctx,`Starting task: ${this.getTaskSimpleInfo(t)}`);try{let n=(0,DFe.spawn)(t.command,t.args,t.options);this.activeProcesses.add(n);let i="",s="",a,l=o(()=>{a&&clearTimeout(a),this.activeProcesses.delete(n),n.stdout?.removeAllListeners(),n.stderr?.removeAllListeners(),n.removeAllListeners()},"cleanup");t.timeoutInMs&&(a=setTimeout(()=>{n.killed||(n.kill(),t.reject(new Error(`Process timed out after ${t.timeoutInMs} ms. Partial output: ${i}`))),l(),this.runNextTask()},t.timeoutInMs)),t.token&&t.token.onCancellationRequested(()=>{n.killed||(n.kill(),t.reject(new Error("Process was cancelled. Partial output: "+i))),l(),this.runNextTask()}),n.stdout?.on("data",c=>{i+=c.toString()}),n.stderr?.on("data",c=>{s+=c.toString()}),n.on("close",c=>{let f=Nae.performance.now()-r;NA.debug(this.ctx,`Task ${t.id} completed in ${f} ms`),l(),c===0?t.resolve(i):c===1?t.resolve(""):t.reject(new Error(`Process exited with code ${c}: ${s}`)),this.runNextTask()}),n.on("error",c=>{l(),t.reject(new Error(`Failed to start process: ${c.message}`)),this.runNextTask()})}catch(n){t.reject(new Error(`Error spawning process: ${n.message}`)),this.runNextTask()}}getTaskSimpleInfo(t){return`${t.id} - ${t.command} ${t.args.join(" ")}`}};var PFe=new Vt("findFilesTool"),NW=class e extends Kd{static{o(this,"FindFilesTool")}static{this.timeOutInSeconds=15}constructor(){super({name:"file_search",displayName:"Find Files",description:`Search for files in the workspace by glob pattern. This only returns the paths of matching files. Use this tool when you know the exact filename pattern of the files you're searching for. Glob patterns match from the root of the workspace folder. Examples:
- **/*.{js,ts} to match all js/ts files in the workspace.
- src/** to match all files under the top-level src folder.
- **/foo/**/*.js to match all js files under any foo folder in the workspace.`,displayDescription:"Search for files in the workspace by glob pattern.",inputSchema:I.Object({query:I.String({description:"Search for files with names or paths matching this glob pattern."}),maxResults:I.Optional(I.Number({description:"The maximum number of results to return. Do not use this unless necessary, it can slow things down. By default, only some matches are returned. If you use this and don't see what you're looking for, you can try again with a more specific query or a larger maxResults."}))})})}async invoke(t,r,n){try{let i;try{if(n.isCancellationRequested)return new vo([new xo("Cancelled")],"cancelled");i=await t.ctx.get(FA).resolvePath()}catch(g){throw new Error(`Failed to run file_search since failed to get ripgrep path: ${String(g)}`)}let{query:s,maxResults:a=20}=r.input,l=t.turn.workspaceFolders;if(!l?.length)return new vo([new xo("Failed to invoke tool file_search since no workspace folders found")],"error");let c=t.ctx.get(Ih),u={},f=l.map(async g=>{if(n.isCancellationRequested)throw new Error("Canceled");try{PFe.debug(t.ctx,`Start searching for query ${s} in workspace folder: ${g.uri.toString()}`);let x=await c.execute(i,["--files","-g",s],n,{cwd:Il(g.uri)},e.timeOutInSeconds*1e3);PFe.debug(t.ctx,`Finished searching for query ${s} in workspace folder: ${g.uri.toString()} with results: ${x}`),u[g.uri.toString()]=x.split(`
`).map(v=>v.trim()).filter(v=>v.length>0).map(v=>`${Il(Fo(g.uri,v))}`)}catch(x){let v=x instanceof Error?x.message:"An unknown error occurred";throw new Error(`Error processing workspace folder ${g.uri.toString()}: ${v}`)}});try{await Promise.all(f)}catch(g){let x=g instanceof Error?g.message:"An unknown error occurred";return new vo([new xo(x)],"error")}let m=[],h=a;for(;h>0;){let g=!1;for(let x in u)u[x].length>0&&h>0&&(m.push(u[x].shift()),h--,g=!0);if(!g)break}let p=m.length===0?`No files found matching query: ${s}`:m.length===1?`Found 1 file matching query: ${s}
${m[0]}`:`Found ${m.length} files matching query: ${s}
${m.join(`
`)}`;return new vo([new xo(p)],"success")}catch(i){let s=i instanceof Error?i.message:"An unknown error occurred";return new vo([new xo(s)],"error")}}prepareInvocation(t,r){let{input:n}=t;return n.query.length?{progressMessage:`Searching for files matching query: ${n.query}`}:{progressMessage:"Running file_search tool"}}static toFindFilesParams(t){if(typeof t.query!="string")throw new Error("query must be a string");if(t.maxResults!=null&&(typeof t.maxResults!="number"||t.maxResults<0))throw new Error("maxResults must be a positive number or undefined");return{query:t.query,maxResults:typeof t.maxResults=="number"?t.maxResults:void 0}}};d();var FFe=new Vt("findTextInFilesTool"),LW=class e extends Kd{static{o(this,"FindTextInFilesTool")}static{this.timeOutInSeconds=15}constructor(){super({name:"grep_search",displayName:"Find Text In Files",description:"Do a text search in the workspace. Use this tool when you know the exact string you're searching for.",displayDescription:"Do a text search in the workspace.",inputSchema:I.Object({query:I.String({description:"The pattern to search for in files in the workspace. Can be a regex or plain text pattern"}),isRegexp:I.Optional(I.Boolean({description:"Whether the pattern is a regex. False by default."})),includePattern:I.Optional(I.String({description:"Search files matching this glob pattern. Will be applied to the relative path of files within the workspace."}))})})}async invoke(t,r,n){try{let i;try{if(n.isCancellationRequested)return new vo([new xo("Cancelled")],"cancelled");i=await t.ctx.get(FA).resolvePath()}catch(v){throw new Error(`Failed to run grep_search since failed to get ripgrep path: ${String(v)}`)}let{query:s,isRegexp:a=!1,includePattern:l}=r.input,c=20,u=t.turn.workspaceFolders;if(!u?.length)return new vo([new xo("Failed to invoke tool grep_search since no workspace folders found")],"error");let f=t.ctx.get(Ih),m={},h=u.map(async v=>{if(n.isCancellationRequested)throw new Error("Canceled");try{FFe.debug(t.ctx,`Start searching for query ${s} in workspace folder: ${v.uri.toString()}`);let E=[a?"--regexp":"--fixed-strings",s,...l?["-g",l]:[],"--no-heading","--line-number","--color","never",Il(v.uri)],b=await f.execute(i,E,n,{cwd:Il(v.uri)},e.timeOutInSeconds*1e3);FFe.debug(t.ctx,`Finished searching for query ${s} in workspace folder: ${v.uri.toString()} with results: ${b}`),m[v.uri.toString()]=b.split(`
`).map(_=>_.trim()).filter(_=>_.length>0)}catch(E){let b=E instanceof Error?E.message:"An unknown error occurred";throw new Error(`Error processing workspace folder ${v.uri.toString()}: ${b}`)}});try{await Promise.all(h)}catch(v){let E=v instanceof Error?v.message:"An unknown error occurred";return new vo([new xo(E)],"error")}let p=[],g=c;for(;g>0;){let v=!1;for(let E in m)m[E].length>0&&g>0&&(p.push(m[E].shift()),g--,v=!0);if(!v)break}let x=p.length===0?`Searched text for ${s}, no results`:p.length===1?`Searched text for: ${s}, 1 result
${p[0]}`:`Searched text for: ${s}, ${p.length} results
${p.join(`
`)}`;return new vo([new xo(x)],"success")}catch(i){let s=i instanceof Error?i.message:"An unknown error occurred";return new vo([new xo(s)],"error")}}prepareInvocation(t,r){let{input:n}=t;return n.query.length?{progressMessage:`Searching for text in files matching query: ${n.query}`}:{progressMessage:"Running grep_search tool"}}static toFindTextInFilesParams(t){if(typeof t.query!="string")throw new Error("query must be a string");if(t.isRegexp!==void 0&&typeof t.isRegexp!="boolean")throw new Error("isRegexp must be a boolean");if(t.includePattern!==void 0&&typeof t.includePattern!="string")throw new Error("includePattern must be a string");return{query:t.query,isRegexp:t.isRegexp??!1,includePattern:t.includePattern}}};d();var QW=class extends Kd{static{o(this,"ListDirTool")}constructor(){super({name:"list_dir",displayName:"List Directory",description:"List the contents of a directory. Result will have the name of the child. If the name ends in /, it's a folder, otherwise a file",displayDescription:"List the contents of a directory",inputSchema:I.Object({path:I.String({description:"The absolute path to the directory to list."})})})}async invoke(t,r,n){let{path:i}=r.input,s=Eg(i),l=await t.ctx.get(Io).readDirectory(s.toString());return l.length===0?new vo([new xo("Folder is empty")],"success"):new vo([new xo(l.map(([c,u])=>`${c}${u===2?"/":""}`).join(`
`))],"success")}prepareInvocation(t,r){let n=Eg(t.input.path);return{progressMessage:`Reading ${$6(n)}`}}static toListDirParams(t){if(typeof t.path!="string")throw new Error("path must be a string");return{path:t.path}}};d();var MW=class extends Kd{static{o(this,"ReadFileTool")}constructor(){super({name:"read_file",displayName:"Read File",description:`Read the contents of a file.

You must specify the line range you're interested in, and if the file is larger, you will be given an outline of the rest of the file. If the file contents returned are insufficient for your task, you may call this tool again to retrieve more content.`,displayDescription:"Read a file in the workspace.",inputSchema:I.Object({filePath:I.String({description:"The absolute path of the file to read."}),startLineNumberBaseZero:I.Number({description:"The line number to start reading from, 0-based."}),endLineNumberBaseZero:I.Number({description:"The inclusive line number to end reading at, 0-based."})})})}async invoke(t,r,n){try{let{filePath:i,startLineNumberBaseZero:s,endLineNumberBaseZero:a}=r.input,l=Eg(i);if(!l)throw new Error(`Invalid file path: ${i}`);let u=await t.ctx.get(Dn).getOrReadTextDocument({uri:l});if(u.status==="valid")return new vo([new xo(`\`\`\`\`
// filepath: ${i}
${u.document.getText({start:{line:s,character:0},end:{line:a+1,character:0}})}
\`\`\`\``)],"success");throw new Error("File is outside of the workspace and can't be read")}catch(i){let s=i instanceof Error?i.message:"An unknown error occurred";return new vo([new xo(s)],"error")}}prepareInvocation(t,r){let{input:n}=t;if(!n.filePath.length)return{progressMessage:"Running read_file tool"};let i=Eg(n.filePath);return{progressMessage:`Reading ${$6(i)}`}}static toReadFileParams(t){if(typeof t.filePath!="string")throw new Error("filePath must be a string");if(typeof t.startLineNumberBaseZero!="number")throw new Error("startLineNumberBaseZero must be a number");if(typeof t.endLineNumberBaseZero!="number")throw new Error("endLineNumberBaseZero must be a number");return{filePath:t.filePath,startLineNumberBaseZero:t.startLineNumberBaseZero,endLineNumberBaseZero:t.endLineNumberBaseZero}}};function NFe(){return[new QW,new MW,new FW,new NW,new LW]}o(NFe,"getAllClsTools");var v0=class{constructor(t){this.ctx=t;this._toolRegistry=new BW;for(let r of NFe())this._toolRegistry.registerTool(r)}static{o(this,"ToolsService")}registerTool(t){this._toolRegistry.registerTool(t)}unregisterTool(t){return typeof t=="string"?this._toolRegistry.unregisterTool(t):this._toolRegistry.unregisterTool(t.id)}prepareInvocation(t,r,n){let i=this._toolRegistry.getTool(t);if(!i)throw new Error(`Tool with id '${t}' is undefined`);return i.prepareInvocation?.(r,n)??{}}async invokeTool(t,r,n,i){if(i.isCancellationRequested)throw new Ml;let s=this._toolRegistry.getTool(r);if(!s)throw new Error(`Tool with id '${r}' is undefined`);return await s.invoke?.(t,n,i)??new vo([],"success")}async invokeToolConfirmation(t,r,n,i){if(i.isCancellationRequested)throw new Ml;let s=this._toolRegistry.getTool(r);if(!s)throw new Error(`Tool with id '${r}' is undefined`);return await s.invokeConfirmation?.(t,n,i)??{result:"dismiss"}}getToolById(t){return this._toolRegistry.getTool(t)}getToolByNameAndProvider(t,r){return this._toolRegistry.listTools().find(n=>n.name===t&&n.toolProvider.id===r.id)}getToolsForModel(){return Array.from(this.getToolMapForModel().values())}getToolMapForModel(){let t=new Map;for(let c of this._toolRegistry.listTools())t.has(c.toolProvider.id)||t.set(c.toolProvider.id,[]),t.get(c.toolProvider.id)?.push(c);let r=t.get(gC.id)?.find(c=>c.name==="insert_edit_into_file");r&&t.get(gC.id)?.splice(t.get(gC.id)?.indexOf(r)??0,1);let n=t.get(bg.id)?.find(c=>c.name==="insert_edit_into_file");n&&t.get(bg.id)?.splice(t.get(bg.id)?.indexOf(n)??0,1);let i=new Map;r&&n&&i.set(r.nameForModel,r);let s=t.get(bg.id)??[],a=t.get(gC.id)??[],l=Array.from(t.entries()).filter(([c])=>c!==gC.id&&c!==bg.id).flatMap(([,c])=>c);return s.forEach(c=>{i.has(c.nameForModel)||i.set(c.nameForModel,c)}),a.forEach(c=>{i.has(c.nameForModel)||i.set(c.nameForModel,c)}),l.forEach(c=>{i.has(c.nameForModel)||i.set(c.nameForModel,c)}),i}};d();var OW=class extends pC{static{o(this,"McpLanguageModelTool")}constructor(t,r){super({...t,toolProvider:{id:t.serverName,displayName:t.serverName,description:t.serverName,isFirstPartyTool:!1},type:"mcp"}),this.invoker=r}prepareInvocation(t,r){let n={title:`Confirm MCP Tool: ${this.name}`,message:`Do you want to allow the external MCP tool "${this.toolProvider.displayName}/${this.displayName}" to run?`};return{progressMessage:`Running MCP tool: ${this.displayName}`,confirmationMessages:n}}async invoke(t,r,n){let i=await this.invoker(r.input);return new vo([new xo(i)],"success")}async invokeConfirmation(t,r,n){if(n.isCancellationRequested)throw new Ml;let i={name:this.name,title:r.title,message:r.message,input:r.input,conversationId:t.conversation.id,turnId:t.turn.id,roundId:r.roundId,toolCallId:r.toolCallId};try{return await t.ctx.get(gg).invokeClientToolConfirmation(t,i)}catch(s){throw new Error(`Failed to invoke client tool confirmation ${this.name}: ${String(s)}`)}}};var Tg=class{constructor(t){this.MCPServersMap=new Map;this.cachedMCPServerTools=[];this.ctx=t}static{o(this,"MCPServersManager")}async updateMCPServers(t){await this.clearAllServers();for(let r of Object.keys(t))await this.addServer({name:r,...t[r]});await this.getAndCacheAllTools(),this.registerTools()}getAllTools(){return this.cachedMCPServerTools}async getAndCacheAllTools(){let t=[];for(let r of this.MCPServersMap.keys()){let n=this.MCPServersMap.get(r);try{let i=await n.getToolsList();t.push({name:r,tools:i})}catch(i){yg.error(this.ctx,`Error getting tools list for MCP server ${r}:`,i),this.ctx.get(va).showWarningMessageOnlyOnce(`${r}.getTools`,`Failed to get tools list for MCP server '${r}'. Please check the logs for more details.`)}}this.cachedMCPServerTools=t}async callTool(t,r,n){let i=this.MCPServersMap.get(t);if(!i)throw new Error(`MCP client ${t} not found`);return await i.callTool(r,n)}async addServer(t){try{let r=new RW(this.ctx,t.name,t.version||"1.0.0");await r.connect(t),this.MCPServersMap.set(t.name,r)}catch(r){yg.error(this.ctx,`Error initializing MCP server ${t.name}:`,r),this.ctx.get(va).showWarningMessageOnlyOnce(`${t.name}.initialize`,`Failed to initialize MCP server '${t.name}'. Please check the logs for more details.`)}}registerTools(){for(let t of this.cachedMCPServerTools){let{name:r,tools:n}=t;for(let i of n)this.registerTool(r,i)}}registerTool(t,r){let{name:n,description:i,inputSchema:s}=r;yg.debug(this.ctx,"register MCP Tool:",t,n,i,s),this.ctx.get(v0).registerTool(new OW({serverName:t,name:n,displayName:`${t}_${n}`,description:i||"",displayDescription:i||"",inputSchema:s},a=>(yg.debug(this.ctx,"copilot MCP Invoker:",t,n,a),this.callTool(t,n,a))))}unregisterAllTools(){for(let t of this.cachedMCPServerTools){let{name:r,tools:n}=t;for(let i of n){let{name:s}=i;this.ctx.get(v0).unregisterTool(`${r}.${s}`)}}}async clearAllServers(){this.unregisterAllTools();for(let t of this.MCPServersMap.values())await t.cleanup();this.MCPServersMap.clear(),this.cachedMCPServerTools=[]}};d();d();var Y6=class e{static{o(this,"TextEdit")}static isTextEdit(t){return t instanceof e?!0:t?Au.isRange(t)&&typeof t.newText=="string":!1}static replace(t,r){return new e(t,r)}static insert(t,r){return e.replace(new Au(t,t),r)}static delete(t){return e.replace(t,"")}static setEndOfLine(t){let r=new e(new Au(new _o(0,0),new _o(0,0)),"");return r.newEol=t,r}get range(){return this._range}set range(t){if(t&&!Au.isRange(t))throw AC("range");this._range=t}get newText(){return this._newText||""}set newText(t){if(t&&typeof t!="string")throw AC("newText");this._newText=t}get newEol(){return this._newEol}set newEol(t){if(t&&typeof t!="number")throw AC("newEol");this._newEol=t}constructor(t,r){this._range=t,this._newText=r}toJSON(){return{range:this.range,newText:this.newText,newEol:this._newEol}}};var _o=class e{static{o(this,"Position")}static Min(...t){if(t.length===0)throw new TypeError;let r=t[0];for(let n=1;n<t.length;n++){let i=t[n];i.isBefore(r)&&(r=i)}return r}static Max(...t){if(t.length===0)throw new TypeError;let r=t[0];for(let n=1;n<t.length;n++){let i=t[n];i.isAfter(r)&&(r=i)}return r}static isPosition(t){if(!t)return!1;if(t instanceof e)return!0;let{line:r,character:n}=t;return typeof r=="number"&&typeof n=="number"}get line(){return this._line}get character(){return this._character}constructor(t,r){if(t<0)throw AC("line must be non-negative");if(r<0)throw AC("character must be non-negative");this._line=t,this._character=r}isBefore(t){return this._line<t._line?!0:t._line<this._line?!1:this._character<t._character}isBeforeOrEqual(t){return this._line<t._line?!0:t._line<this._line?!1:this._character<=t._character}isAfter(t){return!this.isBeforeOrEqual(t)}isAfterOrEqual(t){return!this.isBefore(t)}isEqual(t){return this._line===t._line&&this._character===t._character}compareTo(t){return this._line<t._line?-1:this._line>t.line?1:this._character<t._character?-1:this._character>t._character?1:0}translate(t,r=0){if(t===null||r===null)throw AC();let n;return typeof t>"u"?n=0:typeof t=="number"?n=t:(n=typeof t.lineDelta=="number"?t.lineDelta:0,r=typeof t.characterDelta=="number"?t.characterDelta:0),n===0&&r===0?this:new e(this.line+n,this.character+r)}with(t,r=this.character){if(t===null||r===null)throw AC();let n;return typeof t>"u"?n=this.line:typeof t=="number"?n=t:(n=typeof t.line=="number"?t.line:this.line,r=typeof t.character=="number"?t.character:this.character),n===this.line&&r===this.character?this:new e(n,r)}toJSON(){return{line:this.line,character:this.character}}[Symbol.for("debug.description")](){return`(${this.line}:${this.character})`}},Au=class e{static{o(this,"Range")}static isRange(t){return t instanceof e?!0:t?_o.isPosition(t.start)&&_o.isPosition(t.end):!1}get start(){return this._start}get end(){return this._end}constructor(t,r,n,i){let s,a;if(typeof t=="number"&&typeof r=="number"&&typeof n=="number"&&typeof i=="number"?(s=new _o(t,r),a=new _o(n,i)):_o.isPosition(t)&&_o.isPosition(r)&&(s=t,a=r),!s||!a)throw new Error("Invalid arguments");s.isBefore(a)?(this._start=s,this._end=a):(this._start=a,this._end=s)}contains(t){return e.isRange(t)?this.contains(t.start)&&this.contains(t.end):_o.isPosition(t)?!(t.isBefore(this._start)||this._end.isBefore(t)):!1}isEqual(t){return this._start.isEqual(t._start)&&this._end.isEqual(t._end)}intersection(t){let r=_o.Max(t.start,this._start),n=_o.Min(t.end,this._end);if(!r.isAfter(n))return new e(r,n)}union(t){if(this.contains(t))return this;if(t.contains(this))return t;let r=_o.Min(t.start,this._start),n=_o.Max(t.end,this.end);return new e(r,n)}get isEmpty(){return this._start.isEqual(this._end)}get isSingleLine(){return this._start.line===this._end.line}with(t,r=this.end){if(t===null||r===null)throw AC();let n;return t?_o.isPosition(t)?n=t:(n=t.start||this.start,r=t.end||this.end):n=this.start,n.isEqual(this._start)&&r.isEqual(this.end)?this:new e(n,r)}toJSON(){return[this.start,this.end]}[Symbol.for("debug.description")](){return d7t(this)}};function AC(e){return e?new Error(`Illegal argument: ${e}`):new Error("Illegal argument")}o(AC,"illegalArgument");function d7t(e){return e.isEmpty?`[${e.start.line}:${e.start.character})`:`[${e.start.line}:${e.start.character} -> ${e.end.line}:${e.end.character})`}o(d7t,"getDebugDescriptionOfRange");d();d();var Lae=et(require("crypto"));var dk=Lae.randomUUID.bind(Lae);d();d();d();var Th;(i=>{i.serviceIds=new Map,i.DI_TARGET="$di$target",i.DI_DEPENDENCIES="$di$dependencies";function n(s){return s[i.DI_DEPENDENCIES]||[]}i.getServiceDependencies=n,o(n,"getServiceDependencies")})(Th||={});var wg=wh("instantiationService");function m7t(e,t,r){t[Th.DI_TARGET]===t?t[Th.DI_DEPENDENCIES].push({id:e,index:r}):(t[Th.DI_DEPENDENCIES]=[{id:e,index:r}],t[Th.DI_TARGET]=t)}o(m7t,"storeServiceDependency");function wh(e){if(Th.serviceIds.has(e))return Th.serviceIds.get(e);let t=o(function(r,n,i){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");m7t(t,r,i)},"id");return t.toString=()=>e,Th.serviceIds.set(e,t),t}o(wh,"createDecorator");d();d();var _f=class{static{o(this,"SyncDescriptor")}constructor(t,r=[],n=!1){this.ctor=t,this.staticArguments=r,this.supportsDelayedInstantiation=n}};d();var Qae=class{constructor(t,r){this.key=t;this.data=r;this.incoming=new Map;this.outgoing=new Map}static{o(this,"Node")}},mk=class{constructor(t){this._hashFn=t;this._nodes=new Map}static{o(this,"Graph")}roots(){let t=[];for(let r of this._nodes.values())r.outgoing.size===0&&t.push(r);return t}insertEdge(t,r){let n=this.lookupOrInsertNode(t),i=this.lookupOrInsertNode(r);n.outgoing.set(i.key,i),i.incoming.set(n.key,n)}removeNode(t){let r=this._hashFn(t);this._nodes.delete(r);for(let n of this._nodes.values())n.outgoing.delete(r),n.incoming.delete(r)}lookupOrInsertNode(t){let r=this._hashFn(t),n=this._nodes.get(r);return n||(n=new Qae(r,t),this._nodes.set(r,n)),n}lookup(t){return this._nodes.get(this._hashFn(t))}isEmpty(){return this._nodes.size===0}toString(){let t=[];for(let[r,n]of this._nodes)t.push(`${r}
	(-> incoming)[${[...n.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...n.outgoing.keys()].join(",")}]
`);return t.join(`
`)}findCycleSlow(){for(let[t,r]of this._nodes){let n=new Set([t]),i=this._findCycle(r,n);if(i)return i}}_findCycle(t,r){for(let[n,i]of t.outgoing){if(r.has(n))return[...r,n].join(" -> ");r.add(n);let s=this._findCycle(i,r);if(s)return s;r.delete(n)}}};d();var cv=class{constructor(...t){this._entries=new Map;for(let[r,n]of t)this.set(r,n)}static{o(this,"ServiceCollection")}set(t,r){let n=this._entries.get(t);return this._entries.set(t,r),n}has(t){return this._entries.has(t)}get(t){return this._entries.get(t)}};var h7t=!1,UW=class extends Error{static{o(this,"CyclicDependencyError")}constructor(t){super("cyclic dependency between services"),this.message=t.findCycleSlow()??`UNABLE to detect cycle, dumping graph: 
${t.toString()}`}},qW=class e{constructor(t=new cv,r=!1,n,i=h7t){this._services=t;this._strict=r;this._parent=n;this._enableTracing=i;this._isDisposed=!1;this._servicesToMaybeDispose=new Set;this._children=new Set;this._activeInstantiations=new Set;this._services.set(wg,this),this._globalGraph=i?n?._globalGraph??new mk(s=>s):void 0}static{o(this,"InstantiationService")}dispose(){if(!this._isDisposed){this._isDisposed=!0,AM(this._children),this._children.clear();for(let t of this._servicesToMaybeDispose)nIe(t)&&t.dispose();this._servicesToMaybeDispose.clear()}}_throwIfDisposed(){if(this._isDisposed)throw new Error("InstantiationService has been disposed")}createChild(t,r){this._throwIfDisposed();let n=this,i=new class extends e{dispose(){n._children.delete(i),super.dispose()}}(t,this._strict,this,this._enableTracing);return this._children.add(i),r?.add(i),i}invokeFunction(t,...r){this._throwIfDisposed();let n=hk.traceInvocation(this._enableTracing,t),i=!1;try{return t({get:o(a=>{if(i)throw GEe("service accessor is only valid during the invocation of its target method");let l=this._getOrCreateServiceInstance(a,n);if(!l)throw new Error(`[invokeFunction] unknown service '${a}'`);return l},"get")},...r)}finally{i=!0,n.stop()}}createInstance(t,...r){this._throwIfDisposed();let n,i;return t instanceof _f?(n=hk.traceCreation(this._enableTracing,t.ctor),i=this._createInstance(t.ctor,t.staticArguments.concat(r),n)):(n=hk.traceCreation(this._enableTracing,t),i=this._createInstance(t,r,n)),n.stop(),i}_createInstance(t,r=[],n){let i=Th.getServiceDependencies(t).sort((l,c)=>l.index-c.index),s=[];for(let l of i){let c=this._getOrCreateServiceInstance(l.id,n);c||this._throwIfStrict(`[createInstance] ${t.name} depends on UNKNOWN service ${l.id}.`,!1),s.push(c)}let a=i.length>0?i[0].index:r.length;if(r.length!==a){console.trace(`[createInstance] First service dependency of ${t.name} at position ${a+1} conflicts with ${r.length} static arguments`);let l=a-r.length;l>0?r=r.concat(new Array(l)):r=r.slice(0,a)}return Reflect.construct(t,r.concat(s))}_setCreatedServiceInstance(t,r){if(this._services.get(t)instanceof _f)this._services.set(t,r);else if(this._parent)this._parent._setCreatedServiceInstance(t,r);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(t){let r=this._services.get(t);return!r&&this._parent?this._parent._getServiceInstanceOrDescriptor(t):r}_getOrCreateServiceInstance(t,r){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(t));let n=this._getServiceInstanceOrDescriptor(t);return n instanceof _f?this._safeCreateAndCacheServiceInstance(t,n,r.branch(t,!0)):(r.branch(t,!1),n)}_safeCreateAndCacheServiceInstance(t,r,n){if(this._activeInstantiations.has(t))throw new Error(`illegal state - RECURSIVELY instantiating service '${t}'`);this._activeInstantiations.add(t);try{return this._createAndCacheServiceInstance(t,r,n)}finally{this._activeInstantiations.delete(t)}}_createAndCacheServiceInstance(t,r,n){let i=new mk(c=>c.id.toString()),s=0,a=[{id:t,desc:r,_trace:n}],l=new Set;for(;a.length;){let c=a.pop();if(!l.has(String(c.id))){if(l.add(String(c.id)),i.lookupOrInsertNode(c),s++>1e3)throw new UW(i);for(let u of Th.getServiceDependencies(c.desc.ctor)){let f=this._getServiceInstanceOrDescriptor(u.id);if(f||this._throwIfStrict(`[createInstance] ${t} depends on ${u.id} which is NOT registered.`,!0),this._globalGraph?.insertEdge(String(c.id),String(u.id)),f instanceof _f){let m={id:u.id,desc:f,_trace:c._trace.branch(u.id,!0)};i.insertEdge(c,m),a.push(m)}}}}for(;;){let c=i.roots();if(c.length===0){if(!i.isEmpty())throw new UW(i);break}for(let{data:u}of c){if(this._getServiceInstanceOrDescriptor(u.id)instanceof _f){let m=this._createServiceInstanceWithOwner(u.id,u.desc.ctor,u.desc.staticArguments,u.desc.supportsDelayedInstantiation,u._trace);this._setCreatedServiceInstance(u.id,m)}i.removeNode(u)}}return this._getServiceInstanceOrDescriptor(t)}_createServiceInstanceWithOwner(t,r,n=[],i,s){if(this._services.get(t)instanceof _f)return this._createServiceInstance(t,r,n,i,s,this._servicesToMaybeDispose);if(this._parent)return this._parent._createServiceInstanceWithOwner(t,r,n,i,s);throw new Error(`illegalState - creating UNKNOWN service instance ${r.name}`)}_createServiceInstance(t,r,n=[],i,s,a){if(i)throw new Error("Delayed instantiation not supported");{let l=this._createInstance(r,n,s);return a.add(l),l}}_throwIfStrict(t,r){if(r&&console.warn(t),this._strict)throw new Error(t)}};var hk=class e{constructor(t,r){this.type=t;this.name=r;this._start=Date.now();this._dep=[]}static{o(this,"Trace")}static{this.all=new Set}static{this._None=new class extends e{constructor(){super(0,null)}stop(){}branch(){return this}}}static traceInvocation(t,r){return t?new e(2,r.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):e._None}static traceCreation(t,r){return t?new e(1,r.name):e._None}static{this._totals=0}branch(t,r){let n=new e(3,t.toString());return this._dep.push([t,r,n]),n}stop(){let t=Date.now()-this._start;e._totals+=t;let r=!1;function n(s,a){let l=[],c=new Array(s+1).join("	");for(let[u,f,m]of a._dep)if(f&&m){r=!0,l.push(`${c}CREATES -> ${u}`);let h=n(s+1,m);h&&l.push(h)}else l.push(`${c}uses -> ${u}`);return l.join(`
`)}o(n,"printChild");let i=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${n(1,this)}`,`DONE, took ${t.toFixed(2)}ms (grand total ${e._totals.toFixed(2)}ms)`];(t>2||r)&&e.all.add(i.join(`
`))}};var WW=class{constructor(t){this._isSealed=!1;this._collection=Array.isArray(t)?new cv(...t):t??new cv}static{o(this,"InstantiationServiceBuilder")}define(t,r){if(this._isSealed)throw new Error("This accessor is sealed and cannot be modified anymore.");this._collection.set(t,r)}seal(){if(this._isSealed)throw new Error("This accessor is sealed and cannot be seal again anymore.");return this._isSealed=!0,new qW(this._collection,!0)}};var LA=wh("IParserService");d();var GW=wh("ISnippyService");d();d();var pk=new RegExp("[_\\p{L}\\p{Nd}]+|====+|----+|####+|////+|\\*\\*\\*\\*+|[\\p{P}\\p{S}]","gu"),HW=65;function p7t(e){let t=0,r;pk.lastIndex=0;do if(r=pk.exec(e),r&&(t+=1),t>=HW)break;while(r);return t}o(p7t,"lexemeLength");function g7t(e,t){let r=0,n;pk.lastIndex=0;do if(n=pk.exec(e),n&&(r+=1,r>=t))return pk.lastIndex;while(n);return e.length}o(g7t,"offsetFirstLexemes");function LFe(e,t){let r=e.split("").reverse().join(""),n=g7t(r,t);return r.length-n}o(LFe,"offsetLastLexemes");function Mae(e){return p7t(e)>=HW}o(Mae,"hasMinLexemeLength");d();d();d();var Ra;(n=>{function e(i){return new Oae(i)}n.ok=e,o(e,"ok");function t(i){return new Uae(i)}n.error=t,o(t,"error");function r(i){return n.error(new Error(i))}n.fromString=r,o(r,"fromString")})(Ra||={});var Oae=class e{constructor(t){this.val=t}static{o(this,"ResultOk")}map(t){return new e(t(this.val))}flatMap(t){return t(this.val)}isOk(){return!0}isError(){return!1}},Uae=class{constructor(t){this.err=t}static{o(this,"ResultError")}map(t){return this}flatMap(t){return this}isOk(){return!1}isError(){return!0}};var QFe;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.matched_source=="string"&&typeof r.occurrences=="string"&&typeof r.capped=="boolean"&&typeof r.cursor=="string"&&typeof r.github_url=="string"}t.is=e,o(e,"is")})(QFe||={});var qae;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.kind=="string"&&typeof r.reason=="string"&&typeof r.code=="number"&&typeof r.msg=="string"}t.is=e,o(e,"is")})(qae||={});var MFe;(t=>{function e(r){return typeof r=="object"&&r!==null&&"snippets"in r&&Array.isArray(r.snippets)&&r.snippets.every(QFe.is)}t.is=e,o(e,"is")})(MFe||={});var Wae;(t=>{function e(r){if(qae.is(r))return Ra.error(r);if(MFe.is(r))return Ra.ok(r)}t.to=e,o(e,"to")})(Wae||={});var OFe;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.commit_id=="string"&&typeof r.license=="string"&&typeof r.nwo=="string"&&typeof r.path=="string"&&typeof r.url=="string"}t.is=e,o(e,"is")})(OFe||={});var UFe;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.has_next_page=="boolean"&&typeof r.cursor=="string"}t.is=e,o(e,"is")})(UFe||={});var qFe;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.count=="object"&&Object.values(r.count).every(n=>typeof n=="string")}t.is=e,o(e,"is")})(qFe||={});var WFe;(t=>{function e(r){return typeof r=="object"&&r!==null&&"file_matches"in r&&Array.isArray(r.file_matches)&&r.file_matches.every(OFe.is)&&"page_info"in r&&UFe.is(r.page_info)&&"license_stats"in r&&qFe.is(r.license_stats)}t.is=e,o(e,"is")})(WFe||={});var Gae;(t=>{function e(r){if(qae.is(r))return Ra.error(r);if(WFe.is(r))return Ra.ok(r)}t.to=e,o(e,"to")})(Gae||={});var jW=class e{static{o(this,"SnippyFetchService")}static{this.TWIRP_URL="twirp/github.snippy.v1.SnippyAPI"}constructor(t){this.ctx=t}async fetchMatch(t){let r={source:t};return this.fetch("Match",r,Wae.to)}async fetchFilesForMatch(t){let r={cursor:t};return this.fetch("FilesForMatch",r,Gae.to)}async fetch(t,r,n){let i=this.ctx.get(Or),s=await this.ctx.get(Xr).getToken(),a=uI(this.ctx,s,"origin-tracker",`${e.TWIRP_URL}/${t}`),l={Authorization:`Bearer ${s.token}`,...Ic(this.ctx)},c=i.makeAbortController(),u=await i.fetch(a,{method:"POST",headers:l,json:r,signal:c.signal});if(!u.ok)throw new Error(`Failed with status ${u.status} and body: ${await u.text()}`);let f=await u.json();return n(f)}};var GFe=new Vt("[CODE REFERENCING]"),K6=class{constructor(t,r){this.instantiationService=r;this.ctx=t,this.fetcher=this.instantiationService.createInstance(jW,this.ctx)}static{o(this,"SnippyService")}async handlePostInsertion(t,r,n){let i=this.computeSourceToCheck(r,n);if(!i)return;let a=await this.ctx.get(Hr).getTextDocument({uri:t.toString()});if(!a){GFe.error(this.ctx,"Unable to raise IP code citation notification: could not determine document version.");return}let l=a.version,c;try{c=await this.fetcher.fetchMatch(i.source)}catch(p){throw p}if(!c)throw new Error(`Failed to parse match response: ${c}`);if(c.isError())throw new Error(`Failed to match: ${c.err}`);if(c.val.snippets.length===0)return;let{snippets:u}=c.val,f=u.map(async p=>{let g=await this.fetcher.fetchFilesForMatch(p.cursor);if(!g||g.isError())return;let{file_matches:x,license_stats:v}=g.val;return{match:p,files:x,licenseStats:v}}),h=(await Promise.all(f)).filter(p=>!!p);if(h.length===0){GFe.error(this.ctx,"Should never happen as per https://github.com/github/copilot-client/blob/34cae5c581d662525eb3305d58f0762e952f866d/extension/src/codeReferencing/handlePostInsertion.ts#L138");return}for(let p of h){let g=new Set(Object.keys(p.licenseStats?.count??{}));g.delete("NOASSERTION")&&g.add("unknown");let x=Array.from(g).sort(),v=`${p.match.matched_source.slice(0,100).replace(/[\r\n\t]+|^[ \t]+/gm," ").trim()}...`,E={inDocumentUri:t.toString(),offsetStart:i.startOffset,offsetEnd:i.endOffset,matchingText:v,location:{start:{line:i.startPosition.lineNumber,character:i.startPosition.column},end:{line:i.endPosition.lineNumber,character:i.endPosition.column}},version:l,details:x.map(b=>({license:b,url:`${p.match.github_url}`}))};await this.ctx.get(of).handleIPCodeCitation(this.ctx,E)}}computeSourceToCheck(t,r){if(r.newText==="")return;let n=As.single(r),s=n.getNewRanges().reduce((h,p)=>h.join(p)),a=t.apply(n),l=s.start,c=a.value.substring(s.start,s.endExclusive);if(!Mae(c)){let h=a.value.slice(0,s.start),p=LFe(h,HW);l=p,c=a.value.slice(p,s.start+r.newText.length)}if(!Mae(c))return;let u=a.getTransformer(),f=u.getPosition(l),m=u.getPosition(s.endExclusive);return{source:c,startOffset:l,endOffset:s.endExclusive,startPosition:f,endPosition:m}}};K6=Du([La(1,wg)],K6);d();var gk=wh("ITokenizerProvider");d();d();d();var C7t=Symbol("MicrotaskDelay");function x7t(e){let t=new eA,r=e(t.token),n=new Promise((i,s)=>{let a=t.token.onCancellationRequested(()=>{a.dispose(),s(new Wp)});Promise.resolve(r).then(l=>{a.dispose(),t.dispose(),i(l)},l=>{a.dispose(),t.dispose(),s(l)})});return new class{cancel(){t.cancel(),t.dispose()}then(i,s){return n.then(i,s)}catch(i){return this.then(void 0,i)}finally(i){return n.finally(i)}}}o(x7t,"createCancelablePromise");function uv(e,t){return t?new Promise((r,n)=>{let i=setTimeout(()=>{s.dispose(),r()},e),s=t.onCancellationRequested(()=>{clearTimeout(i),s.dispose(),n(new Wp)})}):x7t(r=>uv(e,r))}o(uv,"timeout");var VW=class{constructor(t,r){this._isDisposed=!1;this._token=-1,typeof t=="function"&&typeof r=="number"&&this.setIfNotSet(t,r)}static{o(this,"TimeoutTimer")}dispose(){this.cancel(),this._isDisposed=!0}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(t,r){if(this._isDisposed)throw new Fi("Calling 'cancelAndSet' on a disposed TimeoutTimer");this.cancel(),this._token=setTimeout(()=>{this._token=-1,t()},r)}setIfNotSet(t,r){if(this._isDisposed)throw new Fi("Calling 'setIfNotSet' on a disposed TimeoutTimer");this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,t()},r))}};var Ak=class{static{o(this,"DeferredPromise")}get isRejected(){return this.outcome?.outcome===1}get isResolved(){return this.outcome?.outcome===0}get isSettled(){return!!this.outcome}get value(){return this.outcome?.outcome===0?this.outcome?.value:void 0}constructor(){this.p=new Promise((t,r)=>{this.completeCallback=t,this.errorCallback=r})}complete(t){return new Promise(r=>{this.completeCallback(t),this.outcome={outcome:0,value:t},r()})}error(t){return new Promise(r=>{this.errorCallback(t),this.outcome={outcome:1,value:t},r()})}cancel(){return this.error(new Wp)}},v7t;(r=>{async function e(n){let i,s=await Promise.all(n.map(a=>a.then(l=>l,l=>{i||(i=l)})));if(typeof i<"u")throw i;return s}r.settled=e,o(e,"settled");function t(n){return new Promise(async(i,s)=>{try{await n(i,s)}catch(a){s(a)}})}r.withAsyncBody=t,o(t,"withAsyncBody")})(v7t||={});var yk=class e{static{o(this,"AsyncIterableObject")}static fromArray(t){return new e(r=>{r.emitMany(t)})}static fromPromise(t){return new e(async r=>{r.emitMany(await t)})}static fromPromisesResolveOrder(t){return new e(async r=>{await Promise.all(t.map(async n=>r.emitOne(await n)))})}static merge(t){return new e(async r=>{await Promise.all(t.map(async n=>{for await(let i of n)r.emitOne(i)}))})}static{this.EMPTY=e.fromArray([])}constructor(t,r){this._state=0,this._results=[],this._error=null,this._onReturn=r,this._onStateChanged=new cf,queueMicrotask(async()=>{let n={emitOne:o(i=>this.emitOne(i),"emitOne"),emitMany:o(i=>this.emitMany(i),"emitMany"),reject:o(i=>this.reject(i),"reject")};try{await Promise.resolve(t(n)),this.resolve()}catch(i){this.reject(i)}finally{n.emitOne=void 0,n.emitMany=void 0,n.reject=void 0}})}[Symbol.asyncIterator](){let t=0;return{next:o(async()=>{do{if(this._state===2)throw this._error;if(t<this._results.length)return{done:!1,value:this._results[t++]};if(this._state===1)return{done:!0,value:void 0};await K4.toPromise(this._onStateChanged.event)}while(!0)},"next"),return:o(async()=>(this._onReturn?.(),{done:!0,value:void 0}),"return")}}static map(t,r){return new e(async n=>{for await(let i of t)n.emitOne(r(i))})}map(t){return e.map(this,t)}static filter(t,r){return new e(async n=>{for await(let i of t)r(i)&&n.emitOne(i)})}filter(t){return e.filter(this,t)}static coalesce(t){return e.filter(t,r=>!!r)}coalesce(){return e.coalesce(this)}static async toPromise(t){let r=[];for await(let n of t)r.push(n);return r}toPromise(){return e.toPromise(this)}emitOne(t){this._state===0&&(this._results.push(t),this._onStateChanged.fire())}emitMany(t){this._state===0&&(this._results=this._results.concat(t),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(t){this._state===0&&(this._state=2,this._error=t,this._onStateChanged.fire())}};var $W=class{constructor(t){this._deferred=new Ak;this._asyncIterable=new yk(i=>{if(r){i.reject(r);return}return n&&i.emitMany(n),this._errorFn=s=>i.reject(s),this._emitFn=s=>i.emitOne(s),this._deferred.p},t);let r,n;this._emitFn=i=>{n||(n=[]),n.push(i)},this._errorFn=i=>{r||(r=i)}}static{o(this,"AsyncIterableSource")}get asyncIterable(){return this._asyncIterable}resolve(){this._deferred.complete()}reject(t){this._errorFn(t),this._deferred.complete()}emitOne(t){this._emitFn(t)}};var YW=wh("ITelemetrySender"),QA=wh("IChatMLFetcher");var zW=class{constructor(){this._stream=new $W;this._seenAnnotationTypes=new Set}static{o(this,"FetchStreamSource")}get stream(){return this._stream.asyncIterable}update(t,r){r.codeVulnAnnotations&&(!((t.match(/(^|\n)```/g)?.length??0)%2===1)||t.match(/(^|\n)```\w*\s*$/))&&(r.codeVulnAnnotations=void 0),r.codeVulnAnnotations&&(r.codeVulnAnnotations=r.codeVulnAnnotations.filter(n=>!this._seenAnnotationTypes.has(n.details.type)),r.codeVulnAnnotations.forEach(n=>this._seenAnnotationTypes.add(n.details.type))),this._stream.emitOne({text:t,delta:r})}resolve(){this._stream.resolve()}};async function HFe(e){let t=new WW;return t.define(YW,new Hae(e)),t.define(LA,new _f(jae,[!0])),t.define(GW,new _f(K6,[e])),t.define(QA,await Vae.Create(e)),t.define(gk,new _f($ae)),t.seal()}o(HFe,"createInstantiationService");var Hae=class{constructor(t){this.ctx=t;this.ctx=t}static{o(this,"TelemetrySender")}sendTelemetryEvent(t,r,n){let i=Object.fromEntries(Object.entries(r??{}).filter(([l,c])=>c!==void 0)),s=Object.fromEntries(Object.entries(n??{}).filter(([l,c])=>c!==void 0)),a=cn.createAndMarkAsIssued(i,s);jt(this.ctx,t,a)}},jae=class{static{o(this,"ParserServiceImpl")}getTreeSitterAST(t){}},Vae=class e{constructor(t,r){this.ctx=t;this.modelConfiguration=r}static{o(this,"CLSChatMLFetcher")}static async Create(t){let r=await t.get(ui).getBestChatModelConfig([mi.Gpt4oMini]);return new e(t,r)}get tokenBudget(){return this.modelConfiguration.maxRequestTokens}get tokenizerName(){return this.modelConfiguration.tokenizer}async fetchOne(t,r,n){let i=t.map(l=>e.chatMessageToClsChatMessage(l)),s=dk(),a=await this.ctx.get(ru).fetchAndStreamChat(this.ctx,i,Fp.createEmptyConfigForTesting(),"nextEditSuggestion",s,async(l,c)=>{if(r)return await r(l,0,{text:c.text})},n);if(a.type==="success"){if(r)for await(let l of a.choices)l.finishReason!=="snippy"&&await r(l.completionText,0,{text:l.completionText});return{type:"success",value:""}}else return{type:e.clsResponseTypeToResponseType(a.type),reason:a.type}}static chatMessageToClsChatMessage(t){switch(t.role){case"system":return{role:"system",content:t.content};case"user":if(typeof t.content!="string")throw new Error("User message content must be a string");return{role:"user",content:t.content};default:throw new Error(`Unsupported chat role: ${t.role}`)}}static clsResponseTypeToResponseType(t){switch(t){case"success":return"success";case"successMultiple":return"success";case"offTopic":return"offTopic";case"canceled":return"canceled";case"filtered":return"filtered";case"length":return"length";case"failed":return"failed";case"agentAuthRequired":return"agent_unauthorized";default:return"unknown"}}},$ae=class e{constructor(){this.tokenizers=new Map;this.cl100kTokenizer=new KW("cl100k_base")}static{o(this,"CLSTokenizerProvider")}acquireTokenizer(t){let r=this.tokenizers.get(t.tokenizer);return r||(r=new KW(e.typeToName(t.tokenizer)),this.tokenizers.set(t.tokenizer,r)),r}static typeToName(t){switch(t){case"cl100k_base":return"cl100k_base";case"o200k_base":return"o200k_base";case"llama3":throw new Error("Llama3 tokenizer is not supported");default:throw new Error(`Unknown tokenizer type: ${t}`)}}},KW=class{static{o(this,"CLSTokenizer")}constructor(t){this.tokenizer=go(t)}tokenLength(t){return this.tokenizer.tokenLength(t)}countMessageTokens(t){let r=0;if(typeof t.content=="string")return this.tokenLength(t.content);if(Array.isArray(t.content))for(let n of t.content)if(n.type==="text")r+=this.tokenLength(n.text);else throw new Error(`Unsupported message content part type: ${n.type}`);else throw new Error("Unsupported message content type");return r}countMessagesTokens(t){let r=0;for(let n of t)r+=this.countMessageTokens(n);return r}countToolTokens(t){throw new Error("Method not implemented.")}};d();d();var zae=class{constructor(t,r){this.baseDebounceTime=t;this.expectedTotalTime=r;this.providerInvocationTime=Date.now()}static{o(this,"DelaySession")}getDebounceTime(){let t=this.expectedTotalTime===void 0?this.baseDebounceTime:Math.min(this.baseDebounceTime,this.expectedTotalTime),r=Date.now()-this.providerInvocationTime;return Math.max(0,t-r)}getArtificalDelay(){if(this.expectedTotalTime===void 0)return 0;let t=Date.now()-this.providerInvocationTime;return Math.max(0,this.expectedTotalTime-t)}},JW=class{constructor(){this._recentUserActions=[]}static{o(this,"Delayer")}createDelaySession(){let n=this._getExpectedTotalTime(200);return new zae(200,n)}handleAcceptance(){this._recordUserAction("accepted")}handleRejection(){this._recordUserAction("rejected")}_recordUserAction(t){this._recentUserActions.push({time:Date.now(),kind:t}),this._recentUserActions=this._recentUserActions.slice(-10)}_getExpectedTotalTime(t){let l=Date.now(),c=1;for(let f of this._recentUserActions){let m=l-f.time;if(m>6e5)continue;let h=Math.exp(-m/6e5),p=f.kind==="rejected"?1.5:.8;c*=1+(p-1)*h}let u=t*c;return u=Math.min(3e3,Math.max(50,u)),u}};d();d();d();var ZW=class e{constructor(t){this._indexMap=t}static{o(this,"Permutation")}get arrayLength(){return this._indexMap.length}static createSortPermutation(t,r){let n=Array.from(t.keys()).sort((i,s)=>r(t[i],t[s]));return new e(n)}apply(t){if(t.length!==this.arrayLength)throw w_(`Permutation must be applied on an array of same length. Received length: ${t.length}. Expected length: ${this.arrayLength}`);return t.map((r,n)=>t[this._indexMap[n]])}mapIndexBack(t){let r=this._indexMap.at(t);if(r===void 0)throw w_(`Given index must be within original array length. Received: ${t}. Expected: 0 <= x < ${this.arrayLength}`);return r}inverse(){let t=this._indexMap.slice();for(let r=0;r<this._indexMap.length;r++)t[this._indexMap[r]]=r;return new e(t)}};d();var Ck=class e{constructor(t,r){this.firstEditStrategy=t;this.maxLinesPerEdit=r}static{o(this,"StatelessNextEditOptions")}doesFitMaxLinesPerEdit(t){return this.maxLinesPerEdit===void 0||t.lineRange.length<=this.maxLinesPerEdit&&t.newLines.length<=this.maxLinesPerEdit}serialize(){return{firstEditStrategy:this.firstEditStrategy,maxLinesPerEdit:this.maxLinesPerEdit}}static deserialize(t){return new e(t.firstEditStrategy,t.maxLinesPerEdit)}},XW=class e{constructor(t,r,n,i){this.id=t;this.documents=r;this.activeDocumentIdx=n;this.options=i;this.seqid=String(++e.ID);this.cancellationTokenSource=new eA;this.liveDependentants=0;this.fetchIssued=!1;this._result=new Ak;iu(r.length>0),iu(n>=0&&n<r.length)}static{o(this,"StatelessNextEditRequest")}static{this.ID=0}get result(){return this._result.p}setResult(t){this._result.complete(t)}setResultError(t){this._result.error(t)}hasDocument(t){return this.documents.find(r=>r.id===t)!==void 0}static deserialize(t){return new e(t.id,t.documents.map(r=>xk.deserialize(r)),t.activeDocumentIdx,Ck.deserialize(t.options))}getActiveDocument(){return this.documents[this.activeDocumentIdx]}serialize(){return{id:this.id,documents:this.documents.map(t=>t.serialize()),activeDocumentIdx:this.activeDocumentIdx,options:this.options.serialize()}}toString(){return this.toMarkdown()}toMarkdown(){return`### StatelessNextEditRequest

${this.documents.map((r,n)=>` * [${n+1}/${this.documents.length}] ${n===this.activeDocumentIdx?"(active document) ":""}`+r.toMarkdown()).join(`

`)}`}},xk=class e{constructor(t,r,n,i,s,a,l,c,u,f,m,h,p=i.length,g=new ri(1,i.length+1),x=void 0){this.id=t;this.workspaceRoot=r;this.languageId=n;this.documentLinesBeforeEdit=i;this.recentEdit=s;this.recentlyEditedInLinesAfterEditRange=a;this.documentBeforeEdits=l;this.recentEdits=c;this.documentAfterEditsNoShortening=u;this.toEditOnDocumentAfterEditsNoShortening=f;this.toOffsetOnDocumentAfterEditsNoShortening=m;this.toProjectedOffset=h;this.lineCountBeforeClipping=p;this.clippingRange=g;this.lastSelectionInAfterEdit=x;this.recentlyEditedInLinesAfterEdit=this.recentlyEditedInLinesAfterEditRange===void 0?void 0:ri.fromRangeInclusive(this.recentlyEditedInLinesAfterEditRange);this.documentAfterEdits=new Sl(this.recentEdits.apply(this.documentBeforeEdits.value));this.documentAfterEditsLines=this.documentAfterEdits.getLines()}static{o(this,"StatelessNextEditDocument")}static deserialize(t){return new e(Rd.create(t.id),t.workspaceRoot?_5.parse(t.workspaceRoot):void 0,ex.create(t.languageId),t.documentLinesBeforeEdit,Ns.deserialize(t.recentEdit),t.recentlyEditedInLinesAfterEditRange?yi.lift(t.recentlyEditedInLinesAfterEditRange):void 0,new Sl(t.documentBeforeEdits),$p.deserialize(t.recentEdits),new Sl(t.documentAfterEditsNoShortening),r=>{throw new Error("Deserializing serialized document does not implement translation of line edit to edit")},r=>{throw new Error("Deserializing serialized document does not implement translation of offsets")},r=>{throw new Error("Deserializing serialized document does not implement translation of offsets")},t.lineCountBeforeClipping,ri.deserialize(t.clippingRange))}serialize(){return{id:this.id.uri,workspaceRoot:this.workspaceRoot?.toString(),languageId:this.languageId,documentLinesBeforeEdit:this.documentLinesBeforeEdit,recentEdit:this.recentEdit.serialize(),recentlyEditedInLinesAfterEditRange:this.recentlyEditedInLinesAfterEditRange?.toJSON(),documentBeforeEdits:this.documentBeforeEdits.value,recentEdits:this.recentEdits.serialize(),documentAfterEditsNoShortening:this.documentAfterEditsNoShortening.value,lineCountBeforeClipping:this.lineCountBeforeClipping,clippingRange:this.clippingRange.serialize()}}getDisplayPath(){return this.id.uri}toString(){return this.toMarkdown()}toMarkdown(){let t=[];return t.push(`StatelessNextEditDocument: **${this.id.uri}**
`),t.push("```patch"),t.push(this.recentEdit.humanReadablePatch(this.documentLinesBeforeEdit)),t.push("```"),t.push(""),t.join(`
`)}};var co=class e{constructor(t,r){this.nextEdit=t;this.telemetry=r}static{o(this,"StatelessNextEditResult")}static noEdit(t,r){let n=Ra.error(t),i=r.build(n);return new e(n,i)}static edit(t,r){let n=Ra.ok(t),i=r.build(n);return new e(n,i)}},J6=class{constructor(t){this._request=t;this.startTime=Date.now(),this.requestUuid=t.id}static{o(this,"StatelessNextEditTelemetryBuilder")}build(t){let n=Date.now()-this.startTime,i=this._prompt?.split(`
`).length,s=this._prompt?.length,a=t.isOk(),l=t.isOk()?void 0:t.err.kind,c;if(!t.isOk())switch(t.err.kind){case"activeDocumentHasNoEdits":case"noSuggestions":break;case"gotCancelled":case"filteredOut":c=t.err.message;break;case"fetchFailure":case"uncategorized":case"unexpected":c=t.err.error.stack?t.err.error.stack:t.err.error.message;break;default:uM(t.err)}return{hadStatelessNextEditProviderCall:!0,firstEditStrategy:this._request.options.firstEditStrategy,maxLinesPerEdit:this._request.options.maxLinesPerEdit,hasNextEdit:a,noNextEditReasonKind:l,noNextEditReasonMessage:c,statelessNextEditProviderDuration:n,logProbThreshold:this._logProbThreshold,promptLineCount:i,promptCharCount:s,isDefaultEndpoint:this._isDefaultEndpoint,debounceTime:this._debounceTime,fetchStartedAt:this._fetchStartedAt,fetchTime:this._fetchTime,fetchResult:this._fetchResult,fetchError:this._fetchError,hadLowLogProbSuggestion:this._hadLowLogProbSuggestion,nonTerminatingError:this._nonTerminatingError,nEditsSuggested:this._nEditsSuggested,nextEditLogprob:this._nextEditLogProb,kthEditPicked:this._kthEditPicked,lineDistanceToMostRecentEdit:this._lineDistanceToMostRecentEdit,firstPickStrategyOverride:this._firstPickStrategyOverride}}setLogProbThreshold(t){return this._logProbThreshold=t,this}setHadLowLogProbSuggestion(t){return this._hadLowLogProbSuggestion=t,this}setPrompt(t){return this._prompt=t,this}setIsDefaultEndpoint(t){return this._isDefaultEndpoint=t,this}setDebounceTime(t){return this._debounceTime=t,this}setFetchStartedAt(){return this._fetchStartedAt=Date.now(),this}get fetchStartedAt(){return this._fetchStartedAt}setFetchResultIfNotSet(t,r){return this._fetchResult===void 0&&(this._fetchResult=t,this._fetchError=r,iu(this._fetchStartedAt!==void 0,"fetchStartedAt must be set before setting fetchTime"),this._fetchTime=Date.now()-this._fetchStartedAt),this}get fetchResult(){return this._fetchResult}get fetchError(){return this._fetchError}get fetchTime(){return this._fetchTime}setNonTerminatingError(t){return this._nonTerminatingError=t,this}setNextEditLogProb(t){return this._nextEditLogProb=t,this}setNEditsSuggested(t){return this._nEditsSuggested=t,this}setKthEditPicked(t){return this._kthEditPicked=t,this}setLineDistanceToMostRecentEdit(t){return this._lineDistanceToMostRecentEdit=t,this}setFirstPickStrategyOverride(t){return this._firstPickStrategyOverride=t,this}};function E7t(e,...t){let r=e;for(let n of t)r=n(r);return r}o(E7t,"chainStatelessNextEditProviders");var eG=class{constructor(t,r){this.ID=t;this._providers=r;let n={ID:this.ID,provideNextEdit:o((i,s)=>this.provideNextEditBase(i,s),"provideNextEdit")};this._impl=E7t(n,...this._providers)}static{o(this,"ChainedStatelessNextEditProvider")}provideNextEdit(t,r){return this._impl.provideNextEdit(t,r)}},Z6=class{constructor(t){this._baseProvider=t}static{o(this,"EditFilterAspect")}get ID(){return this._baseProvider.ID}async provideNextEdit(t,r){let n=await this._baseProvider.provideNextEdit(t,r);if(n.nextEdit.isError())return n;let i=n.nextEdit.val,s=i.permutation===void 0?i.edit.edits:i.permutation.apply(i.edit.edits),a=this.filterEdit(t.getActiveDocument(),s);if(a.length===s.length)return n;if(a.length===0)return new co(Ra.error({kind:"filteredOut",message:"uncategorized"}),n.telemetry);let l=ZW.createSortPermutation(a,y5(u=>u.lineRange.startLineNumber,C5)),c=new Ns(l.apply(a));return new co(Ra.ok({edit:c,permutation:l.inverse()}),n.telemetry)}},tG=class extends Z6{static{o(this,"IgnoreTriviaWhitespaceChangesAspect")}filterEdit(t,r){return r.filter(i=>!this._isWhitespaceOnlyChange(i,t.documentAfterEditsLines))}_isWhitespaceOnlyChange(t,r){let n=t.lineRange.toOffsetRange().slice(r),i=t.newLines;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++){let a=n[s],l=i[s];if(a.trim()!==l.trim())return!1}return!0}},rG=class extends Z6{static{o(this,"IgnoreEditsAtClippingBorderAspect")}filterEdit(t,r){return r.filter(i=>!this._isAtClippingBorder(i,t.clippingRange,t.lineCountBeforeClipping))}_isAtClippingBorder(t,r,n){return r.startLineNumber>1&&t.lineRange.startLineNumber===1||r.endLineNumberExclusive<n&&t.lineRange.endLineNumberExclusive===r.length}};d();d();var I7t=Object.freeze({abap:{lineComment:{start:"'"},markdownLanguageIds:["abap","sap-abap"]},bat:{lineComment:{start:"REM"},alternativeLineComments:[{start:"::"}],aliases:["Batch","bat"],extensions:[".bat",".cmd"]},bibtex:{lineComment:{start:"%"},aliases:["BibTeX","bibtex"],extensions:[".bib"]},blade:{lineComment:{start:"#"}},c:{lineComment:{start:"//"},aliases:["C","c"],extensions:[".c",".i"],markdownLanguageIds:["c","h"]},clojure:{lineComment:{start:";"},aliases:["Clojure","clojure"],extensions:[".clj",".cljs",".cljc",".cljx",".clojure",".edn"],markdownLanguageIds:["clojure","clj"]},coffeescript:{lineComment:{start:"//"},aliases:["CoffeeScript","coffeescript","coffee"],extensions:[".coffee",".cson",".iced"],markdownLanguageIds:["coffeescript","coffee","cson","iced"],blockComment:["###","###"]},cpp:{lineComment:{start:"//"},aliases:["C++","Cpp","cpp"],extensions:[".cpp",".cc",".cxx",".c++",".hpp",".hh",".hxx",".h++",".h",".ii",".ino",".inl",".ipp",".ixx",".tpp",".txx",".hpp.in",".h.in"],markdownLanguageIds:["cpp","hpp","cc","hh","c++","h++","cxx","hxx"],blockComment:["/*","*/"]},csharp:{lineComment:{start:"//"},aliases:["C#","csharp"],extensions:[".cs",".csx",".cake"],markdownLanguageIds:["csharp","cs"],blockComment:["/*","*/"]},css:{lineComment:{start:"/*",end:"*/"},aliases:["CSS","css"],extensions:[".css"],blockComment:["/*","*/"]},dart:{lineComment:{start:"//"},aliases:["Dart"],extensions:[".dart"],blockComment:["/*","*/"]},dockerfile:{lineComment:{start:"#"},aliases:["Docker","Dockerfile","Containerfile"],extensions:[".dockerfile",".containerfile"],markdownLanguageIds:["dockerfile","docker"]},elixir:{lineComment:{start:"#"}},erb:{lineComment:{start:"<%#",end:"%>"}},erlang:{lineComment:{start:"%"},markdownLanguageIds:["erlang","erl"]},fsharp:{lineComment:{start:"//"},aliases:["F#","FSharp","fsharp"],extensions:[".fs",".fsi",".fsx",".fsscript"],markdownLanguageIds:["fsharp","fs","fsx","fsi","fsscript"],blockComment:["(*","*)"]},go:{lineComment:{start:"//"},aliases:["Go"],extensions:[".go"],markdownLanguageIds:["go","golang"],blockComment:["/*","*/"]},groovy:{lineComment:{start:"//"},aliases:["Groovy","groovy"],extensions:[".groovy",".gvy",".gradle",".jenkinsfile",".nf"],blockComment:["/*","*/"]},haml:{lineComment:{start:"-#"}},handlebars:{lineComment:{start:"{{!",end:"}}"},extensions:[".hbs",".handlebars"],markdownLanguageIds:["handlebars","hbs","html.hbs","html.handlebars"],blockComment:["{{!--","--}}"]},haskell:{lineComment:{start:"--"},markdownLanguageIds:["haskell","hs"]},html:{lineComment:{start:"<!--",end:"-->"},aliases:["HTML","htm","html","xhtml"],extensions:[".html",".htm",".shtml",".xhtml",".xht",".mdoc",".jsp",".asp",".aspx",".jshtm",".volt",".ejs",".rhtml"],markdownLanguageIds:["html","xhtml"],blockComment:["<!--","-->"]},ini:{lineComment:{start:";"},blockComment:[";"," "]},java:{lineComment:{start:"//"},extensions:[".java",".class"],markdownLanguageIds:["java","jsp"],blockComment:["/*","*/"]},javascript:{lineComment:{start:"//"},aliases:["JavaScript","javascript","js"],extensions:[".js",".es6",".mjs",".cjs",".pac"],markdownLanguageIds:["javascript","js"],blockComment:["/*","*/"]},javascriptreact:{lineComment:{start:"//"},aliases:["JavaScript JSX","JavaScript React","jsx"],extensions:[".jsx"],markdownLanguageIds:["jsx"]},json:{extensions:[".json"],lineComment:{start:"//"},blockComment:["/*","*/"]},jsonc:{lineComment:{start:"//"}},jsx:{lineComment:{start:"//"},markdownLanguageIds:["jsx"]},julia:{lineComment:{start:"#"},aliases:["Julia","julia"],extensions:[".jl"],markdownLanguageIds:["julia","jl"],blockComment:["#=","=#"]},kotlin:{lineComment:{start:"//"},markdownLanguageIds:["kotlin","kt"]},latex:{lineComment:{start:"%"},aliases:["LaTeX","latex"],extensions:[".tex",".ltx",".ctx"],markdownLanguageIds:["tex"]},less:{lineComment:{start:"//"},aliases:["Less","less"],extensions:[".less"],blockComment:["/*","*/"]},lua:{lineComment:{start:"--"},aliases:["Lua","lua"],extensions:[".lua"],markdownLanguageIds:["lua","pluto"],blockComment:["--[[","]]"]},makefile:{lineComment:{start:"#"},aliases:["Makefile","makefile"],extensions:[".mak",".mk"],markdownLanguageIds:["makefile","mk","mak","make"]},markdown:{lineComment:{start:"//"},aliases:["Markdown","markdown"],extensions:[".md",".mkd",".mdwn",".mdown",".markdown",".markdn",".mdtxt",".mdtext",".workbook"],markdownLanguageIds:["markdown","md","mkdown","mkd"]},"objective-c":{lineComment:{start:"//"},aliases:["Objective-C"],extensions:[".m"],markdownLanguageIds:["objectivec","mm","objc","obj-c"],blockComment:["/*","*/"]},"objective-cpp":{lineComment:{start:"//"},aliases:["Objective-C++"],extensions:[".mm"],markdownLanguageIds:["objectivec++","objc+"]},perl:{lineComment:{start:"#"},aliases:["Perl","perl"],extensions:[".pl",".pm",".pod",".t",".PL",".psgi"],markdownLanguageIds:["perl","pl","pm"]},php:{lineComment:{start:"//"},aliases:["PHP","php"],extensions:[".php",".php4",".php5",".phtml",".ctp"],blockComment:["/*","*/"]},powershell:{lineComment:{start:"#"},aliases:["PowerShell","powershell","ps","ps1"],extensions:[".ps1",".psm1",".psd1",".pssc",".psrc"],markdownLanguageIds:["powershell","ps","ps1"],blockComment:["<#","#>"]},pug:{lineComment:{start:"//"}},python:{lineComment:{start:"#"},aliases:["Python","py"],extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi",".pyi",".ipy",".pyt"],markdownLanguageIds:["python","py","gyp"],blockComment:['"""','"""']},ql:{lineComment:{start:"//"}},r:{lineComment:{start:"#"},aliases:["R","r"],extensions:[".r",".rhistory",".rprofile",".rt"]},razor:{lineComment:{start:"<!--",end:"-->"},aliases:["Razor","razor"],extensions:[".cshtml",".razor"],markdownLanguageIds:["cshtml","razor","razor-cshtml"],blockComment:["<!--","-->"]},ruby:{lineComment:{start:"#"},aliases:["Ruby","rb"],extensions:[".rb",".rbx",".rjs",".gemspec",".rake",".ru",".erb",".podspec",".rbi"],markdownLanguageIds:["ruby","rb","gemspec","podspec","thor","irb"],blockComment:["=begin","=end"]},rust:{lineComment:{start:"//"},aliases:["Rust","rust"],extensions:[".rs"],markdownLanguageIds:["rust","rs"],blockComment:["/*","*/"]},sass:{lineComment:{start:"//"}},scala:{lineComment:{start:"//"}},scss:{lineComment:{start:"//"},aliases:["SCSS","scss"],extensions:[".scss"],blockComment:["/*","*/"]},shellscript:{lineComment:{start:"#"},aliases:["Shell Script","shellscript","bash","fish","sh","zsh","ksh","csh"],extensions:[".sh",".bash",".bashrc",".bash_aliases",".bash_profile",".bash_login",".ebuild",".profile",".bash_logout",".xprofile",".xsession",".xsessionrc",".Xsession",".zsh",".zshrc",".zprofile",".zlogin",".zlogout",".zshenv",".zsh-theme",".fish",".ksh",".csh",".cshrc",".tcshrc",".yashrc",".yash_profile"],markdownLanguageIds:["bash","sh","zsh"]},slim:{lineComment:{start:"/"}},solidity:{lineComment:{start:"//"},markdownLanguageIds:["solidity","sol"]},sql:{lineComment:{start:"--"},aliases:["SQL"],extensions:[".sql",".dsql"],blockComment:["/*","*/"]},stylus:{lineComment:{start:"//"}},svelte:{lineComment:{start:"<!--",end:"-->"}},swift:{lineComment:{start:"//"},aliases:["Swift","swift"],extensions:[".swift"],blockComment:["/*","*/"]},terraform:{lineComment:{start:"#"}},tex:{lineComment:{start:"%"},aliases:["TeX","tex"],extensions:[".sty",".cls",".bbx",".cbx"]},typescript:{lineComment:{start:"//"},aliases:["TypeScript","ts","typescript"],extensions:[".ts",".cts",".mts"],markdownLanguageIds:["typescript","ts"],blockComment:["/*","*/"]},typescriptreact:{lineComment:{start:"//"},aliases:["TypeScript JSX","TypeScript React","tsx"],extensions:[".tsx"],markdownLanguageIds:["tsx"],blockComment:["/*","*/"]},vb:{lineComment:{start:"'"},aliases:["Visual Basic","vb"],extensions:[".vb",".brs",".vbs",".bas",".vba"],markdownLanguageIds:["vb","vbscript"]},verilog:{lineComment:{start:"//"}},"vue-html":{lineComment:{start:"<!--",end:"-->"}},vue:{lineComment:{start:"//"},extensions:[".vue"]},xml:{lineComment:{start:"<!--",end:"-->"},aliases:["XML","xml"],extensions:[".xml",".xsd",".ascx",".atom",".axml",".axaml",".bpmn",".cpt",".csl",".csproj",".csproj.user",".dita",".ditamap",".dtd",".ent",".mod",".dtml",".fsproj",".fxml",".iml",".isml",".jmx",".launch",".menu",".mxml",".nuspec",".opml",".owl",".proj",".props",".pt",".publishsettings",".pubxml",".pubxml.user",".rbxlx",".rbxmx",".rdf",".rng",".rss",".shproj",".storyboard",".svg",".targets",".tld",".tmx",".vbproj",".vbproj.user",".vcxproj",".vcxproj.filters",".wsdl",".wxi",".wxl",".wxs",".xaml",".xbl",".xib",".xlf",".xliff",".xpdl",".xul",".xoml"],blockComment:["<!--","-->"]},xsl:{lineComment:{start:"<!--",end:"-->"},aliases:["XSL","xsl"],extensions:[".xsl",".xslt"]},yaml:{lineComment:{start:"#"},markdownLanguageIds:["yaml","yml"]}}),T7t=new Map(Object.entries(I7t).map(([e,t])=>[e,{languageId:e,...t}]));function VFe(e){return Kae(typeof e=="string"?e:typeof e>"u"?"plaintext":e.languageId)}o(VFe,"getLanguage");function Kae(e){return T7t.get(e.toLowerCase())??{languageId:e,lineComment:{start:"//"}}}o(Kae,"_getLanguage");d();function $Fe(e){let r=e.split(/\r?\n/).map(w7t),n=r.filter(s=>s===1).length,i=r.filter(s=>s===2).length;return n>i}o($Fe,"looksLikeCode");function w7t(e){if(e.length===0)return 0;let t=0,r=0;if(["==","!=","===","!==",">=","<=","&&","||",">>",">>>","<<","<<<","+=","-=","*=","/=","%=","<<=","<<<=",">>=",">>>=","++","--","=>","->","...","??","??="].some(i=>e.includes(i))||e.match(/^\s/)||e.match(/^[;{}()\[\]`~?]/))return 1;e.charAt(0).match(/[A-Z]/)&&(t+=1),e[e.length-1]==="."&&(t+=1),qte(e)||(t+=1);{qte(e.charAt(0))&&!e.charAt(0).match(/[A-Z]/)&&(r+=1),e.match(/^\s/)&&(r+=1);let s=[";","{","}","(",")","[","]","`","~","#","$","%","^","&","*","_","=","+","\\","|","<",">"].map(a=>e.includes(a)?1:0).filter(a=>a).length;r+=s}return t>r?2:r>t?1:0}o(w7t,"guessLineType");var X6;(r=>{function e(n){return n.length===0?[]:n.split(/\r\n|\r|\n/g)}r.fromString=e,o(e,"fromString");function t(n){if(n.lineCount===0)return[];let i=[];for(let s=0;s<n.lineCount;s++)i.push(n.lineAt(s).text);return i}r.fromDocument=t,o(t,"fromDocument")})(X6||={});function _7t(e){return e.replace(/^\s+/g,"")}o(_7t,"trimLeadingWhitespace");function Jae(e,t){switch(t){case"java":return!!e.match(/^\s*import\s/);case"typescript":case"typescriptreact":case"javascript":case"javascriptreact":return!!e.match(/^\s*import[\s{*]|^\s*[var|const|let].*=\s*require\(/);case"php":return!!e.match(/^\s*use/);case"rust":return!!e.match(/^\s*use\s+[\w:{}, ]+\s*(as\s+\w+)?;/);case"python":return!!e.match(/^\s*from\s+[\w.]+\s+import\s+[\w, *]+$/)||!!e.match(/^\s*import\s+[\w, ]+$/);default:return!1}}o(Jae,"isImportStatement");var S7t=new tA(e=>{let t=VFe(e),{start:r,end:n}=t.lineComment,i=`(?:${Ute(r)})`,s=n?`(?:${Ute(n)})?`:"";return new RegExp(`${i}(.*)${s}$`)});function Zae(e,t){let r=e.match(S7t.get(t));if(!r)return;let n=r.index;if(typeof n>"u")return;let i=e.substring(0,n),s=r[0],a=_7t(r[1]||"");return{content:i,commentWithTokens:s,commentWithoutTokens:a}}o(Zae,"extractEndLineComment");function nG(e,t){let r=Zae(e,t);if(!(r&&r.content.trim().length>0&&$Fe(r.commentWithoutTokens)))return r}o(nG,"extractExplicativeEndLineComment");var iG=class e extends Z6{static{o(this,"IgnoreImportChangesAspect")}static isImportChange(t,r,n){return t.newLines.some(i=>Jae(i,r))||k7t(t,n).some(i=>Jae(i,r))}filterEdit(t,r){let n=t.languageId;return r.filter(s=>!e.isImportChange(s,n,t.documentLinesBeforeEdit))}};function k7t(e,t){return VEe(e.lineRange.mapToLineArray(r=>t[r-1]))}o(k7t,"getOldLines");d();var Ole=et(Pk());d();var a9=class{static{o(this,"DiffChange")}constructor(t,r,n,i){this.originalStart=t,this.originalLength=r,this.modifiedStart=n,this.modifiedLength=i}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}},Fk=class{constructor(t,r=!0){this.lines=t;this.trimWhitespace=r}static{o(this,"LineSequence")}getElements(){let t=[];for(let r=0,n=this.lines.length;r<n;r++)t[r]=this.trimWhitespace?this.lines[r].trim():this.lines[r];return t}getCharCount(){let t=0;for(let r of this.lines)t+=r.length;return t}},Nk=class{static{o(this,"CharSequence")}constructor(t){this._chars=t.split("")}getElements(){return this._chars}},IC=class{static{o(this,"Debug")}static Assert(t,r){if(!t)throw new Error(r)}},TC=class{static{o(this,"MyArray")}static Copy(t,r,n,i,s){for(let a=0;a<s;a++)n[i+a]=t[r+a]}static Copy2(t,r,n,i,s){for(let a=0;a<s;a++)n[i+a]=t[r+a]}};var wG=class{static{o(this,"DiffChangeHelper")}constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new a9(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(t,r){this.m_originalStart=Math.min(this.m_originalStart,t),this.m_modifiedStart=Math.min(this.m_modifiedStart,r),this.m_originalCount++}AddModifiedElement(t,r){this.m_originalStart=Math.min(this.m_originalStart,t),this.m_modifiedStart=Math.min(this.m_modifiedStart,r),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}},Lk=class e{static{o(this,"LcsDiff")}constructor(t,r){let[n,i]=e._getElements(t),[s,a]=e._getElements(r);this._originalStringElements=n,this._originalElementsOrHash=i,this._modifiedStringElements=s,this._modifiedElementsOrHash=a,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _getElements(t){let r=t.getElements(),n=new Int32Array(r.length);for(let i=0,s=r.length;i<s;i++)n[i]=this._stringHash(r[i],0);return[r,n]}static _numberHash(t,r){return(r<<5)-r+t|0}static _stringHash(t,r){r=this._numberHash(149417,r);for(let n=0,i=t.length;n<i;n++)r=this._numberHash(t.charCodeAt(n),r);return r}ElementsAreEqual(t,r){return this._originalElementsOrHash[t]!==this._modifiedElementsOrHash[r]?!1:this._originalStringElements[t]===this._modifiedStringElements[r]}ComputeDiff(){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1)}_ComputeDiff(t,r,n,i){return this.ComputeDiffRecursive(t,r,n,i)}ComputeDiffRecursive(t,r,n,i){for(;t<=r&&n<=i&&this.ElementsAreEqual(t,n);)t++,n++;for(;r>=t&&i>=n&&this.ElementsAreEqual(r,i);)r--,i--;if(t>r||n>i){let f;return n<=i?(IC.Assert(t===r+1,"originalStart should only be one more than originalEnd"),f=[new a9(t,0,n,i-n+1)]):t<=r?(IC.Assert(n===i+1,"modifiedStart should only be one more than modifiedEnd"),f=[new a9(t,r-t+1,n,0)]):(IC.Assert(t===r+1,"originalStart should only be one more than originalEnd"),IC.Assert(n===i+1,"modifiedStart should only be one more than modifiedEnd"),f=[]),f}let s=[0],a=[0],l=this.ComputeRecursionPoint(t,r,n,i,s,a),c=s[0],u=a[0];if(l!==null)return l;{let f=this.ComputeDiffRecursive(t,c,n,u),m=this.ComputeDiffRecursive(c+1,r,u+1,i);return this.ConcatenateChanges(f,m)}}WALKTRACE(t,r,n,i,s,a,l,c,u,f,m,h,p,g,x,v,E){let b=null,_=null,R=new wG,P=r,F=n,G=p[0]-v[0]-i,se=-1073741824,Ae=this.m_forwardHistory.length-1;do{let re=G+t;re===P||re<F&&u[re-1]<u[re+1]?(m=u[re+1],g=m-G-i,m<se&&R.MarkNextChange(),se=m,R.AddModifiedElement(m+1,g),G=re+1-t):(m=u[re-1]+1,g=m-G-i,m<se&&R.MarkNextChange(),se=m-1,R.AddOriginalElement(m,g+1),G=re-1-t),Ae>=0&&(u=this.m_forwardHistory[Ae],t=u[0],P=1,F=u.length-1)}while(--Ae>=-1);b=R.getReverseChanges(),R=new wG,P=a,F=l,G=p[0]-v[0]-c,se=1073741824,Ae=E?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{let re=G+s;re===P||re<F&&f[re-1]>=f[re+1]?(m=f[re+1]-1,g=m-G-c,m>se&&R.MarkNextChange(),se=m+1,R.AddOriginalElement(m+1,g+1),G=re+1-s):(m=f[re-1],g=m-G-c,m>se&&R.MarkNextChange(),se=m,R.AddModifiedElement(m+1,g+1),G=re-1-s),Ae>=0&&(f=this.m_reverseHistory[Ae],s=f[0],P=1,F=f.length-1)}while(--Ae>=-1);return _=R.getChanges(),this.ConcatenateChanges(b,_)}ComputeRecursionPoint(t,r,n,i,s,a){let l=0,c=0,u=0,f=0,m=0,h=0;t--,n--,s[0]=0,a[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];let p=r-t+(i-n),g=p+1,x=new Int32Array(g),v=new Int32Array(g),E=i-n,b=r-t,_=t-n,R=r-i,F=(b-E)%2===0;x[E]=t,v[b]=r;for(let G=1;G<=p/2+1;G++){let se=0,Ae=0;u=this.ClipDiagonalBound(E-G,G,E,g),f=this.ClipDiagonalBound(E+G,G,E,g);for(let re=u;re<=f;re+=2){re===u||re<f&&x[re-1]<x[re+1]?l=x[re+1]:l=x[re-1]+1,c=l-(re-E)-_;let W=l;for(;l<r&&c<i&&this.ElementsAreEqual(l+1,c+1);)l++,c++;if(x[re]=l,l+c>se+Ae&&(se=l,Ae=c),!F&&Math.abs(re-b)<=G-1&&l>=v[re])return s[0]=l,a[0]=c,W<=v[re]&&G<=1448?this.WALKTRACE(E,u,f,_,b,m,h,R,x,v,l,r,s,c,i,a,F):null}m=this.ClipDiagonalBound(b-G,G,b,g),h=this.ClipDiagonalBound(b+G,G,b,g);for(let re=m;re<=h;re+=2){re===m||re<h&&v[re-1]>=v[re+1]?l=v[re+1]-1:l=v[re-1],c=l-(re-b)-R;let W=l;for(;l>t&&c>n&&this.ElementsAreEqual(l,c);)l--,c--;if(v[re]=l,F&&Math.abs(re-E)<=G&&l<=x[re])return s[0]=l,a[0]=c,W>=x[re]&&G<=1448?this.WALKTRACE(E,u,f,_,b,m,h,R,x,v,l,r,s,c,i,a,F):null}if(G<=1447){let re=new Int32Array(f-u+2);re[0]=E-u+1,TC.Copy2(x,u,re,1,f-u+1),this.m_forwardHistory.push(re),re=new Int32Array(h-m+2),re[0]=b-m+1,TC.Copy2(v,m,re,1,h-m+1),this.m_reverseHistory.push(re)}}return this.WALKTRACE(E,u,f,_,b,m,h,R,x,v,l,r,s,c,i,a,F)}ConcatenateChanges(t,r){let n=[];if(t.length===0||r.length===0)return r.length>0?r:t;if(this.ChangesOverlap(t[t.length-1],r[0],n)){let i=new Array(t.length+r.length-1);return TC.Copy(t,0,i,0,t.length-1),i[t.length-1]=n[0],TC.Copy(r,1,i,t.length,r.length-1),i}else{let i=new Array(t.length+r.length);return TC.Copy(t,0,i,0,t.length),TC.Copy(r,0,i,t.length,r.length),i}}ChangesOverlap(t,r,n){if(IC.Assert(t.originalStart<=r.originalStart,"Left change is not less than or equal to right change"),IC.Assert(t.modifiedStart<=r.modifiedStart,"Left change is not less than or equal to right change"),t.originalStart+t.originalLength>=r.originalStart||t.modifiedStart+t.modifiedLength>=r.modifiedStart){let i=t.originalStart,s=t.originalLength,a=t.modifiedStart,l=t.modifiedLength;return t.originalStart+t.originalLength>=r.originalStart&&(s=r.originalStart+r.originalLength-t.originalStart),t.modifiedStart+t.modifiedLength>=r.modifiedStart&&(l=r.modifiedStart+r.modifiedLength-t.modifiedStart),n[0]=new a9(i,s,a,l),!0}else return n[0]=null,!1}ClipDiagonalBound(t,r,n,i){if(t>=0&&t<i)return t;let s=n,a=i-n-1,l=r%2===0;if(t<0){let c=s%2===0;return l===c?0:1}else{let c=a%2===0;return l===c?i-1:i-2}}};d();function KNe(e){let t=new Set;return JSON.stringify(e,(r,n)=>{if(jIe(n)||Array.isArray(n)){if(t.has(n))return"[Circular]";t.add(n)}return typeof n=="bigint"?`[BigInt ${n.toString()}]`:n})}o(KNe,"safeStringify");var _G=!1,Wle=!0,bTt=200,Qk=class{constructor(t,r){this.ID=t;this._parserService=r;this.dependsOnSelection=!0}static{o(this,"AbstractNearbyCursorInlineEditProvider")}async provideNextEdit(t,r){let n=new J6(t),i=t.getActiveDocument(),s=Mk(i);if(!s||!s.isEmpty())return co.noEdit({kind:"uncategorized",error:new Error("Selection is not empty")},n);let a=i.documentLinesBeforeEdit,l=i.recentEdit.apply(a),c=[];for(let b of t.documents)b.id!==i.id&&(c.push(`RELATED DOC: ${b.getDisplayPath()}`),c.push("```patch"),c.push(..._Tt(b)),c.push("```"),c.push(""));c.push(`ORIGINAL VERSION: ${i.getDisplayPath()}`),c.push("```"),c.push(...a),c.push("```"),c.push("");let u="// ...rest of the lines omitted...",f=new ri(1,Math.max(1,s.startLineNumber-1)),m=i.recentEdit.edits.length>0?i.recentEdit.edits[i.recentEdit.edits.length-1].lineRange.endLineNumberExclusive-1:0,h;if(m>0&&m>=f.endLineNumberExclusive){let b=m<l.length;c.push(`IN PROGRESS VERSION ${b?" PREFIX":""}: ${i.getDisplayPath()}`),c.push("```"),c.push(...l.slice(0,m)),b&&(c.push(u),h={editRange:new ri(f.endLineNumberExclusive,m+1),omittedMessage:u}),c.push("```"),c.push("")}c.push(`NEXT VERSION: ${i.getDisplayPath()}`),c.push("```"),c.push(...l.slice(0,f.endLineNumberExclusive-1)),c.push("");let p=l.slice(f.endLineNumberExclusive-1).join(`
`),g=await this.fetchUntilConvergence(c.join(`
`),p,r);if(r.isCancellationRequested)return co.noEdit({kind:"gotCancelled",message:"afterFetchCall"},n);if(g.isError())return g.err.kind==="cancel"?co.noEdit({kind:"gotCancelled",message:"afterFetchCall"},n):co.noEdit({kind:"fetchFailure",error:new Error(KNe(g.err))},n);let{result:x}=g.val;if(x.trim().length===0)return co.noEdit({kind:"noSuggestions"},n);let v=SG(i.languageId,l,f,void 0,x,h),E=await jle(this._parserService,v,i,{requireEditWithinNLines:5});if(E){let b=new Ns([E]);return co.edit({edit:b},n)}else return co.noEdit({kind:"filteredOut",message:"uncategorized"},n)}};Qk=Du([La(1,LA)],Qk);var l9=class extends Qk{constructor(r,n){super(l9.ID,r);this._chatMLFetcher=n}static{o(this,"MiniNearbyCursorInlineEditProvider")}static{this.ID="MiniNearbyCursorInlineEditProvider"}async fetchUntilConvergence(r,n,i){if(i.isCancellationRequested)return Ra.error({kind:"cancel"});let s=await Gle(this.ID,this._chatMLFetcher,[{role:Ole.ChatRole.System,content:`
Please no talking.
You must only provide code.
Simply provide the code that follows most logically.
You don't change code if not necessary.
You see the same file multiple times, but only the last one is the final version.
`.trim()},{role:Ole.ChatRole.User,content:r}],{convergence:n},i);if(s.isError())return s;let{ignored:a,result:l,headersTime:c}=s.val;return l=l.replace(/^```[^\n]*\n/,""),Ra.ok({ignored:a,result:l,headersTime:c})}};l9=Du([La(0,LA),La(1,QA)],l9);async function Gle(e,t,r,n,i){let s=new zW,a=!1,l,c=s.stream.map(x=>({choices:[{index:0,finish_reason:null,logprobs:null,text:x.delta.text}]})),u=ITt(c,n),f=t.fetchOne(r,async(x,v,E)=>(typeof l>"u"&&(l=Date.now()),s.update(x,E),a?x.length:void 0),i);(async()=>{try{await f}finally{s.resolve()}})();let{ignored:m,result:h,shouldCancelRequest:p}=await u;typeof l>"u"&&(l=Date.now()),p&&(a=!0);let g=await f;return g.type!=="success"?Ra.error({kind:"failure",err:new Error(`Fetch failed (${g.type}, ${g.reason})`)}):Ra.ok({headersTime:l,ignored:m,result:h})}o(Gle,"fetchUntilConvergence");function Mk(e){let t=new Wr(0,0);return e.lastSelectionInAfterEdit&&!e.lastSelectionInAfterEdit.equals(t)?e.documentAfterEdits.getTransformer().getRange(e.lastSelectionInAfterEdit):e.recentEdit.edits.length===0?null:ETt(e)}o(Mk,"getOrDeduceSelectionFromLastEdit");function ETt(e){let t=e.recentEdit.edits[e.recentEdit.edits.length-1],r=t.lineRange,i=e.recentEdit.getNewLineRanges()[e.recentEdit.edits.length-1].endLineNumberExclusive-1,s=t.newLines[t.newLines.length-1]??"";if(r.length===0)return new yi(i,s.length+1,i,s.length+1);let a=e.documentLinesBeforeEdit[r.endLineNumberExclusive-2],l=DM(a,s),c=s.length-l+1;return new yi(i,c,i,c)}o(ETt,"deduceSelectionFromLastEdit");async function ITt(e,t){let r=TTt(e,t.ignoreReplyTextBefore),n=t.convergence,i=t.maxCompletionLineCount??20,s=t.convergenceNonWhitespaceCharOverlap??40,a=n.replace(/\s/g,""),l=[],c=[],u=[],f=[],m=o(h=>{let p=c[0];return{ignored:l[0]??"",result:p.substring(0,p.lastIndexOf(`
`)+1),shouldCancelRequest:!0}},"returnEarly");for await(let h of r){if(h.kind==="ignore"){l[h.index]=(l[h.index]??"")+h.text;continue}let p=h.text;if(c[h.index]=c[h.index]??"",c[h.index]+=p,f[h.index]=f[h.index]??"",f[h.index]+=p.replace(/\s/g,""),u[h.index]=u[h.index]??0,u[h.index]+=p.split(`
`).length-1,p.indexOf(`
`)===-1||h.index!==0)continue;if(u[h.index]>i)return m(`too many lines: ${u[h.index]}`);let g=c[h.index];if(n.startsWith(g))continue;let x=g.split(`
`).slice(-4,-1);if(x.length<3||n.indexOf(x.join(`
`)+`
`)<=0)continue;let E=f[h.index].substring(f[h.index].length-s);if(a.indexOf(E)>0)return m("convergence!")}return{ignored:l[0]??"",result:c[0]??"",shouldCancelRequest:!1}}o(ITt,"fetchCompletionUntilConvergence");function TTt(e,t){let r=[],n=[];return new yk(async i=>{for await(let s of e)for(let a of s.choices){let l=a.index,c=a.text??"";if(!t||r[l]){i.emitOne({kind:"completion",index:l,text:c});continue}n[l]=(n[l]??"")+c;let u=n[l].match(t);!u||typeof u.index>"u"||(r[l]=!0,i.emitOne({kind:"ignore",index:l,text:n[l].substring(0,u.index+u[0].length)}),i.emitOne({kind:"completion",index:a.index,text:n[l].substring(u.index+u[0].length)}),n[l]=void 0)}for(let s=0;s<n.length;s++)typeof n[s]<"u"&&i.emitOne({kind:"ignore",index:s,text:n[s]})})}o(TTt,"getTextAfterFirstPattern");function wTt(e,t,r){let n=t.startLineNumber,i=t.endLineNumberExclusive,s=r.slice(0);for(;n+1<i&&s.length>0;){let a=e[i-2],l=s[s.length-1];if(a!==l)break;i--,s.pop()}for(;n+1<i&&s.length>0;){let a=e[n-1],l=s[0];if(a!==l)break;n++,s.shift()}return new oA(new ri(n,i),s)}o(wTt,"createReducedLineEdit");var c9=class{constructor(t,r,n,i){this.languageId=t;this.oldLines=r;this.oldLines=r,this.edit=wTt(r,n,i);let s=new Ns([this.edit]);this.newLines=s.apply(r)}static{o(this,"PossibleEdit")}hasEditWithinFirstLines(t){let r=this.oldLines.slice(this.edit.lineRange.startLineNumber-1,this.edit.lineRange.endLineNumberExclusive-1),n=this.edit.newLines;return s(r,n)<t;function s(a,l){for(let c=0;c<Math.min(a.length,l.length);c++)if(a[c]!==l[c])return c;return Math.min(a.length,l.length)}}resolveDiff(){let t=o((m,h,p)=>m.map(g=>{let x=h.lines.slice(g.originalStart,g.originalStart+g.originalLength),v=p.lines.slice(g.modifiedStart,g.modifiedStart+g.modifiedLength),E=x.join(`
`),b=v.join(`
`),{editDistance:_}=f(E,b);return new Ule(g.originalStart,g.originalLength,g.modifiedStart,g.modifiedLength,_)}),"computeEditDistances"),r=o(m=>{let h=0;for(let p of m)h+=p.editDistance;return{editDistance:h}},"computeDiffMetrics"),n=!1,i=new Fk(this.oldLines,n),s=new Fk(this.newLines,n),a=new Lk(i,s),l=t(a.ComputeDiff(),i,s),c=r(l),u=[];{let m=0;for(let h of l)u=u.concat(this.oldLines.slice(m,h.originalStart)),u=u.concat(this.newLines.slice(h.modifiedStart,h.modifiedStart+h.modifiedLength)),m=h.originalStart+h.originalLength;u=u.concat(this.oldLines.slice(m))}if(yte(this.newLines,u))return new qle(this.languageId,this.oldLines,this.edit,this.newLines,l,c);return JNe(this.languageId,this.oldLines,u);function f(m,h){let p=new Nk(m),g=new Nk(h),v=new Lk(p,g).ComputeDiff(),E=0,b=0;for(let F of v)E+=F.originalLength,b+=F.modifiedLength;let _=m.length,R=h.length,P=E+b;return{aChanged:E,bChanged:b,aLength:_,bLength:R,editDistance:P}}}},Ule=class{constructor(t,r,n,i,s){this.originalStart=t;this.originalLength=r;this.modifiedStart=n;this.modifiedLength=i;this.editDistance=s}static{o(this,"DiffChangeWithEditDistance")}},qle=class{constructor(t,r,n,i,s,a){this.languageId=t;this.oldLines=r;this.edit=n;this.newLines=i;this.diff=s;this.diffMetrics=a;this.parseErrorCount="unknown"}static{o(this,"PossibleEditWithDiff")}toLineEdit(t){if(t==="single")return new Ns([this.edit]);{let r=this.groupInHunks();return new Ns(r.map(n=>{let i=n[0],s=n[n.length-1];return new oA(new ri(i.originalStart+1,s.originalStart+s.originalLength+1),this.newLines.slice(i.modifiedStart,s.modifiedStart+s.modifiedLength))}))}}eliminateLargeChangeHunks(){if(!Wle)return this;let t=this.groupInHunks(),r=[];for(let n of t)n.every(s=>s.originalLength===0)||n.reduce((a,l)=>a+l.editDistance,0)>bTt&&(r=r.concat(n));if(r.length===this.diff.length)return null;if(r.length>0){let n=this._recreateNewLinesWithoutDiffs(r);return this._createPossibleEditFromLines(n)}return this}containWithinLines(t){let r=this.groupInHunks(),n=[];for(let i of r)for(let s of i){let a=s.originalStart+1,l=s.originalStart+s.originalLength+1;if(!Hle(new ri(a,l),t)){n=n.concat(i);break}}if(n.length===this.diff.length)return null;if(n.length>0){let i=this._recreateNewLinesWithoutDiffs(n);return this._createPossibleEditFromLines(i).containWithinLines(t)}return this}groupInHunks(){let t=[];for(let r of this.diff){let n=t.length>0?t[t.length-1]:null;if(!n){t.push([r]);continue}let i=n[n.length-1],s=this.oldLines.slice(i.originalStart+i.originalLength,r.originalStart);if(s.length>1){t.push([r]);continue}if(s[0].trim().length>10){t.push([r]);continue}if(n.reduce((c,u)=>c+u.originalLength,0)>1){t.push([r]);continue}n.push(r)}return t}_recreateNewLinesWithoutDiffs(t){let r=[],n=0;for(let i of t)r=r.concat(this.newLines.slice(n,i.modifiedStart)),r=r.concat(this.oldLines.slice(i.originalStart,i.originalStart+i.originalLength)),n=i.modifiedStart+i.modifiedLength;return r=r.concat(this.newLines.slice(n)),r}async resolveParseErrorCountIfPossible(t,r){let n=new Ns([this.edit]),i=r(n);this.parseErrorCount=await Ok(t,this.languageId,i)}eliminateEmptyLineChanges(){let t=o(r=>this._createPossibleEditFromLines(r).eliminateEmptyLineChanges(),"recurseWithNewLines");for(let r of this.diff){let n=this.oldLines.slice(r.originalStart,r.originalStart+r.originalLength),i=this.newLines.slice(r.modifiedStart,r.modifiedStart+r.modifiedLength);if(r.modifiedLength===0){if(n.every(a=>a.trim().length===0)){let a=this.newLines.slice(0);return a.splice(r.modifiedStart,0,...n),t(a)}continue}if(r.originalLength===0){if(i.every(a=>a.trim().length===0)){let a=this.newLines.slice(0);return a.splice(r.modifiedStart,r.modifiedLength),t(a)}continue}for(let s=0;s<n.length&&s<i.length;s++){let a=n[s],l=i[s],c=a.trim().length===0,u=l.trim().length===0;if(!(c&&u)){if(!c&&!u)break;if(c){let f=this.newLines.slice(0);return f.splice(r.modifiedStart+s,0,a),t(f)}if(u){let f=this.newLines.slice(0);return f.splice(r.modifiedStart+s,1),t(f)}}}for(let s=1;s<=n.length&&s<=i.length;s++){let a=n[n.length-s],l=i[i.length-s],c=a.trim().length===0,u=l.trim().length===0;if(!(c&&u)){if(!c&&!u)break;if(c){let f=this.newLines.slice(0);return f.splice(r.modifiedStart+r.modifiedLength-s+1,0,a),t(f)}if(u){let f=this.newLines.slice(0);return f.splice(r.modifiedStart+r.modifiedLength-s,1),t(f)}}}}return this}eliminateInsertedOrDeletedComments(){let t=[],r=0,n=!1;for(let i of this.diff){t=t.concat(this.newLines.slice(r,i.modifiedStart));let s=this.oldLines.slice(i.originalStart,i.originalStart+i.originalLength),a=this.newLines.slice(i.modifiedStart,i.modifiedStart+i.modifiedLength),{hasChanges:l,newDiffModifiedLines:c}=this._eliminateCommentsDiff(s,a);n=n||l,t=t.concat(c),r=i.modifiedStart+i.modifiedLength}return t=t.concat(this.newLines.slice(r)),n?this._createPossibleEditFromLines(t):this}_eliminateCommentsDiff(t,r){if(r.length===0){let c=!1,u=!1;for(let f of t){if(f.trim().length===0)continue;let m=nG(f,this.languageId);m&&m.content.trim().length===0?c=!0:u=!0}if(c&&!u)return{hasChanges:!0,newDiffModifiedLines:t}}let n=t.map(c=>nG(c,this.languageId)),i=r.map(c=>nG(c,this.languageId)),s=n.filter(c=>!!c).length,a=i.filter(c=>!!c).length;if(s===0&&a===0)return{hasChanges:!1,newDiffModifiedLines:r};if(s>0)return{hasChanges:!1,newDiffModifiedLines:r};let l=!1;for(let c=0;c<r.length;c++){let u=r[c],f=i[c];if(!f)continue;let{content:m}=f;r[c]=u.substring(0,m.length).trimEnd(),l=!0}return{hasChanges:l,newDiffModifiedLines:r}}_createPossibleEditFromLines(t){return JNe(this.languageId,this.oldLines,t)}};function Hle(e,t){return t.startLineNumber<e.startLineNumber&&e.startLineNumber<t.endLineNumberExclusive&&e.endLineNumberExclusive<=t.endLineNumberExclusive}o(Hle,"editIsInsideEditWindow");function JNe(e,t,r){let i=t.length+1,s=r.slice(0);return new c9(e,t,new ri(1,i),s).resolveDiff()}o(JNe,"createPossibleEditFromLines");function SG(e,t,r,n,i,s){if(i.trim().length===0)return[];let a=X6.fromString(i.trimEnd()),l=s?a.some(v=>v.indexOf(s.omittedMessage)>=0):!1,c=[],u=o((v,E)=>{c.push(new c9(e,t,v,E))},"generateEdit");function f(){n&&u(n,a)}o(f,"generateEditCompletionRange");function m(){if(l)return;let E=new ri(r.endLineNumberExclusive,t.length+1);E.length>a.length+5||u(E,a)}o(m,"generateEditAllDoc");function h(){for(let v=1;v<a.length;v++){let b=a.slice(a.length-v).join(`
`);for(let _=r.endLineNumberExclusive-1;_<t.length;_++){let P=t.slice(_,_+v).join(`
`);b===P&&u(new ri(r.endLineNumberExclusive,_+1),a.slice(0,a.length-v))}}}o(h,"generateEditsUsingOverlappingLines");function p(){if(!s||!l)return;let v=[];for(let E of a){if(E.indexOf(s.omittedMessage)>=0){u(s.editRange,v.map(b=>b));return}v.push(E)}}if(o(p,"generateEditWhenReplyContainsOmittedMessage"),f(),p(),m(),h(),!i.endsWith(`
`)){let v=i.substring(0,i.lastIndexOf(`
`)+1);c.push(...SG(e,t,r,n,v,s))}return g(c);function g(v){return x(v,o(b=>b.edit.lineRange.startLineNumber+","+b.edit.lineRange.endLineNumberExclusive+","+b.edit.newLines.join("|"),"keyfn"))}function x(v,E){let b=new Set,_=[];for(let R of v){let P=E(R);b.has(P)||(b.add(P),_.push(R))}return _}}o(SG,"generatePossibleEdits");async function jle(e,t,r,n){let a=t.filter(m=>m.hasEditWithinFirstLines(n.requireEditWithinNLines)).map(m=>m.resolveDiff()).map(m=>m.eliminateEmptyLineChanges()),l=_G?await Ok(e,r.languageId,r.documentAfterEditsNoShortening.value):"unknown";if(_G){let m=o(h=>{let p=r.documentAfterEditsNoShortening;return r.toEditOnDocumentAfterEditsNoShortening(h).apply(p.value)},"applyToDocumentNoShortening");await Promise.all(a.map(h=>h.resolveParseErrorCountIfPossible(e,m)))}let c=a.filter(m=>l==="unknown"?m.parseErrorCount===0:m.parseErrorCount!=="unknown"&&m.parseErrorCount<=l),u=c.length>0?c:a;u.sort((m,h)=>m.parseErrorCount===h.parseErrorCount?0:m.parseErrorCount==="unknown"?1:h.parseErrorCount==="unknown"?-1:m.parseErrorCount-h.parseErrorCount);let f=o(m=>m.diffMetrics.editDistance,"score");return u.sort((m,h)=>f(m)-f(h)),u.length>0?u[0].edit:null}o(jle,"selectBestEdit");function _Tt(e){let r=[],n=e.documentLinesBeforeEdit,i=0,s=0,a=-1,l=o((c,u)=>{c>a+1&&r.push("[...]"),u?r.push(`-${n[c]}`):r.push(`${n[c]}`),a=c},"addOldLineIndex");for(let c of e.recentEdit.edits){for(;i<c.lineRange.startLineNumber-1;)Math.min(c.lineRange.startLineNumber-i-1,s>0?i-s-2:1073741824)<=2&&l(i,!1),i++;for(;i<c.lineRange.endLineNumberExclusive-1;)l(i,!0),i++;r.push(c.newLines.map(u=>`+${u}`).join(`
`)),s=c.lineRange.endLineNumberExclusive}for(;i<n.length;)i-s+2<=2&&l(i,!1),i++;return r.push("[...]"),r}o(_Tt,"summariseDocDiff");function ZNe(e){let t=[];for(let r of e.recentEdit.edits){let n=e.documentLinesBeforeEdit.slice(r.lineRange.startLineNumber-1,r.lineRange.endLineNumberExclusive-1),i=r.newLines;if(n.filter(a=>a.trim().length>0).length===0&&i.filter(a=>a.trim().length>0).length===0)continue;let s=r.lineRange.startLineNumber+e.clippingRange.startLineNumber-1;t.push(`@@ -${s},${n.length} +${s},${i.length} @@`),t.push(...n.map(a=>`-${a}`)),t.push(...i.map(a=>`+${a}`))}return t}o(ZNe,"summarizeEditsAsUnifiedDiff");async function Ok(e,t,r){return await e.getTreeSitterAST({languageId:t,getText:o(()=>r,"getText")})?.getParseErrorCount()??"unknown"}o(Ok,"getParseErrorCount");d();var XNe=et(Pk());d();var wC=class extends XNe.PromptRenderer{constructor(r,n,i={validate:!0},s,a,l){let c=s.acquireTokenizer({tokenizer:l.tokenizerName}),u={modelMaxPromptTokens:l.tokenBudget};super(u,r,n,c);this.options=i;this._instantiationService=a}static{o(this,"PromptRenderer")}static create(r,n,i,s={validate:!0}){return r.invokeFunction(a=>{let l=a.get(gk);return new wC(n,i,s,l,r,a.get(QA))})}createElement(r,...n){return this._instantiationService.createInstance(r.ctor,r.props,...n)}async render(r,n,i){let s=await super.render(r,n);i={...{trace:!0},...i};for(let c=1;c<s.messages.length;c++){let u=s.messages[c],f=s.messages[c-1];u.role==="system"&&f.role==="system"&&(f.content+=`
`+u.content,s.messages.splice(c,1),c--)}let l=s.messages[s.messages.length-1];if(this.options.validate&&l&&l.role!=="user"&&l.role!=="function")throw new Error("Sorry, this message is too long. Please try a shorter question.");return{...s,references:[]}}async countTokens(r){return(await super.render(void 0,r)).tokenCount}};wC=Du([La(3,gk),La(4,wg),La(5,QA)],wC);d();var eLe=et(Pk());var kG=class extends eLe.PromptElement{static{o(this,"SafetyRules")}render(){return vscpp(vscppf,null,"Follow Microsoft content policies.",vscpp("br",null),"Avoid content that violates copyrights.",vscpp("br",null),`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,vscpp("br",null),"Keep your answers short and impersonal.",vscpp("br",null))}};d();d();var RG=class{constructor(t){this.text=t;this.lineStartOffsetByLineIdx=[],this.lineEndOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let r=0;r<t.length;r++)t.charAt(r)===`
`&&(this.lineStartOffsetByLineIdx.push(r+1),r>0&&t.charAt(r-1)==="\r"?this.lineEndOffsetByLineIdx.push(r-1):this.lineEndOffsetByLineIdx.push(r));this.lineEndOffsetByLineIdx.push(t.length)}static{o(this,"PositionOffsetTransformer")}getOffset(t){return this.lineStartOffsetByLineIdx[t.lineNumber-1]+t.column-1}getOffsetRange(t){return new Wr(this.getOffset(t.getStartPosition()),this.getOffset(t.getEndPosition()))}getPosition(t){let r=nh(this.lineStartOffsetByLineIdx,s=>s<=t),n=r+1,i=t-this.lineStartOffsetByLineIdx[r]+1;return new Ao(n,i)}getRange(t){return yi.fromPositions(this.getPosition(t.start),this.getPosition(t.endExclusive))}getTextLength(t){return uf.ofRange(this.getRange(t))}get textLength(){let t=this.lineStartOffsetByLineIdx.length-1;return new uf(t,this.text.length-this.lineStartOffsetByLineIdx[t])}getLineLength(t){return this.lineEndOffsetByLineIdx[t-1]-this.lineStartOffsetByLineIdx[t-1]}};var Vle=class{static{o(this,"AbstractDocument")}rangeToOffsetRange(t){return new Wr(this.getOffsetAtPosition(t.start),this.getOffsetAtPosition(t.end))}offsetRangeToRange(t){return new Au(this.getPositionAtOffset(t.start),this.getPositionAtOffset(t.endExclusive))}},Rh=class extends Vle{constructor(r){super();this.value=r;this._transformer=new RG(this.value)}static{o(this,"StringTextDocument")}getText(){return this.value}getLineText(r){let n=this._transformer.getOffset(new Ao(r+1,1)),i=n+this.getLineLength(r);return this.value.substring(n,i)}getLineLength(r){return this._transformer.getLineLength(r+1)}getLineCount(){return this._transformer.textLength.lineCount+1}getTextInOffsetRange(r){return r.substring(this.value)}getPositionAtOffset(r){return STt(this._transformer.getPosition(r))}getOffsetAtPosition(r){return r=this._validatePosition(r),this._transformer.getOffset(kTt(r))}_validatePosition(r){if(r.line<0)return new _o(0,0);let n=this._transformer.textLength.lineCount+1;if(r.line>=n){let s=this._transformer.getLineLength(n);return new _o(n-1,s)}if(r.character<0)return new _o(r.line,0);let i=this._transformer.getLineLength(r.line+1);return r.character>i?new _o(r.line,i):r}};function STt(e){return new _o(e.lineNumber-1,e.column-1)}o(STt,"corePositionToVSCodePosition");function kTt(e){return new Ao(e.line+1,e.character+1)}o(kTt,"vsCodePositionToCorePosition");d();d();function tLe(e){if(e.length===0)return 1/0;let t=e[0];for(let r=1;r<e.length;r++)t=Math.min(t,e[r]);return t}o(tLe,"min");d();function $le(e,t){let r=t(e);return{...r,range:[r.range.start,r.range.endExclusive],children:r.children?.map(n=>$le(n,t))}}o($le,"toAstNode");function rLe(e,t){let r=JI(t,a=>a.endExclusive>=e.start),n=nh(t,a=>a.start<=e.endExclusive)+1;if(r===n)return[e];let i=[],s=e.start;for(let a=r;a<n;a++){let l=t[a];l.start>s&&i.push(new Wr(s,l.start)),s=l.endExclusive}return s<e.endExclusive&&i.push(new Wr(s,e.endExclusive)),i}o(rLe,"subtractRange");d();d();d();var BG=class{static{o(this,"PrefixSumComputer")}constructor(t){this.values=t,this.prefixSum=new Uint32Array(t.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}getCount(){return this.values.length}insertValues(t,r){t=tx(t);let n=this.values,i=this.prefixSum,s=r.length;return s===0?!1:(this.values=new Uint32Array(n.length+s),this.values.set(n.subarray(0,t),0),this.values.set(n.subarray(t),t+s),this.values.set(r,t),t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(t,r){return t=tx(t),r=tx(r),this.values[t]===r?!1:(this.values[t]=r,t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),!0)}removeValues(t,r){t=tx(t),r=tx(r);let n=this.values,i=this.prefixSum;if(t>=n.length)return!1;let s=n.length-t;return r>=s&&(r=s),r===0?!1:(this.values=new Uint32Array(n.length-r),this.values.set(n.subarray(0,t),0),this.values.set(n.subarray(t+r),t),this.prefixSum=new Uint32Array(this.values.length),t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(t){return t<0?0:(t=tx(t),this._getPrefixSum(t))}_getPrefixSum(t){if(t<=this.prefixSumValidIndex[0])return this.prefixSum[t];let r=this.prefixSumValidIndex[0]+1;r===0&&(this.prefixSum[0]=this.values[0],r++),t>=this.values.length&&(t=this.values.length-1);for(let n=r;n<=t;n++)this.prefixSum[n]=this.prefixSum[n-1]+this.values[n];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],t),this.prefixSum[t]}getIndexOf(t){t=Math.floor(t),this.getTotalSum();let r=0,n=this.values.length-1,i=0,s=0,a=0;for(;r<=n;)if(i=r+(n-r)/2|0,s=this.prefixSum[i],a=s-this.values[i],t<a)n=i-1;else if(t>=s)r=i+1;else break;return new zle(i,t-a)}};var zle=class{constructor(t,r){this.index=t;this.remainder=r;this._prefixSumIndexOfResultBrand=void 0;this.index=t,this.remainder=r}static{o(this,"PrefixSumIndexOfResult")}};var Uk=class{static{o(this,"PositionOffsetTransformer")}constructor(t){this._lines=b5(t),this._eol=t.charAt(this._lines[0].length)==="\r"?`\r
`:`
`;let r=new Uint32Array(this._lines.length);for(let n=0;n<this._lines.length;n++)r[n]=this._lines[n].length+this._eol.length;this._lineStarts=new BG(r)}_getText(){return this._lines.join(this._eol)}applyOffsetEdits(t){let{edits:r}=t;for(let n=r.length-1;n>=0;n--){let i=r[n],s=this.toRange(i.replaceRange);this._acceptDeleteRange(s),this._acceptInsertText(s.start,i.newText)}}_acceptDeleteRange(t){if(t.start.line===t.end.line){if(t.start.character===t.end.character)return;this._setLineText(t.start.line,this._lines[t.start.line].substring(0,t.start.character)+this._lines[t.start.line].substring(t.end.character));return}this._setLineText(t.start.line,this._lines[t.start.line].substring(0,t.start.character)+this._lines[t.end.line].substring(t.end.character)),this._lines.splice(t.start.line+1,t.end.line-t.start.line),this._lineStarts.removeValues(t.start.line+1,t.end.line-t.start.line)}_acceptInsertText(t,r){if(r.length===0)return;let n=b5(r);if(n.length===1){this._setLineText(t.line,this._lines[t.line].substring(0,t.character)+n[0]+this._lines[t.line].substring(t.character));return}n[n.length-1]+=this._lines[t.line].substring(t.character),this._setLineText(t.line,this._lines[t.line].substring(0,t.character)+n[0]);let i=new Uint32Array(n.length-1);for(let s=1;s<n.length;s++)this._lines.splice(t.line+1+s-1,0,n[s]),i[s-1]=n[s].length+this._eol.length;this._lineStarts.insertValues(t.line+1,i)}_setLineText(t,r){this._lines[t]=r,this._lineStarts.setValue(t,this._lines[t].length+this._eol.length)}getLineCount(){return this._lines.length}getOffset(t){return t=this.validatePosition(t),this._lineStarts.getPrefixSum(t.line-1)+t.character}getPosition(t){t=Math.floor(t),t=Math.max(0,t);let r=this._lineStarts.getIndexOf(t),n=this._lines[r.index].length;return new _o(r.index,Math.min(r.remainder,n))}toRange(t){return new Au(this.getPosition(t.start),this.getPosition(t.endExclusive))}toOffsetRange(t){return new Wr(this.getOffset(t.start),this.getOffset(t.end))}toOffsetEdit(t){let r=t.map(n=>new Y6(this.validateRange(n.range),n.newText));return new Bd(r.map(n=>new Va(this.toOffsetRange(n.range),n.newText)))}toTextEdits(t){return t.edits.map(r=>new Y6(this.toRange(r.replaceRange),r.newText))}validatePosition(t){if(!(t instanceof _o))throw new Error("Invalid argument");if(this._lines.length===0)return t.with(0,0);let{line:r,character:n}=t,i=!1;if(r<0)r=0,n=0,i=!0;else if(r>=this._lines.length)r=this._lines.length-1,n=this._lines[r].length,i=!0;else{let s=this._lines[r].length;n<0?(n=0,i=!0):n>s&&(n=s,i=!0)}return i?new _o(r,n):t}validateRange(t){return new Au(this.validatePosition(t.start),this.validatePosition(t.end))}};var DG=class{constructor(t,r){this.originalText=t;this.edits=r;this._positionOffsetTransformer=new Gp(()=>new Uk(this.text));this._originalPositionOffsetTransformer=new Gp(()=>new Uk(this.originalText));this._text=new Gp(()=>this.edits.apply(this.originalText))}static{o(this,"ProjectedText")}get positionOffsetTransformer(){return this._positionOffsetTransformer.value}get originalPositionOffsetTransformer(){return this._originalPositionOffsetTransformer.value}get text(){return this._text.value}get lineCount(){return this.positionOffsetTransformer.getLineCount()}get isOriginal(){return this.edits.isEmpty||this.edits.isNoop(this.originalText)}project(t){return this.edits.applyToOffset(t)}projectOffsetRange(t){return this.edits.applyToOffsetRange(t)}projectRange(t){let r=this.originalPositionOffsetTransformer.toOffsetRange(t),n=this.projectOffsetRange(r);return this.positionOffsetTransformer.toRange(n)}projectOffsetEdit(t){return t.tryRebase(this.edits)}projectBack(t){return this.edits.applyInverseToOffset(t)}projectBackOffsetEdit(t){return t.tryRebase(this.edits.inverse(this.originalText))}projectBackTextEdit(t){let r=this.positionOffsetTransformer.toOffsetEdit(t),n=this.projectBackOffsetEdit(r);return this.originalPositionOffsetTransformer.toTextEdits(n)}};var Yle=class{constructor(t,r,n,i,s){this.parent=t;this.overlayNode=r;this.range=n;this.children=i;this._document=s}static{o(this,"RemovableNode")}get kind(){return this.overlayNode.kind}get text(){return this._document.getTextInOffsetRange(this.range)}},Av=class extends DG{constructor(r,n){super(r.getText(),n);this.baseDocument=r}static{o(this,"ProjectedDocument")}getLanguageId(){return this.baseDocument.languageId}};function FG(e,t,r){let n=[],i=[],s=[];for(let l=0;l<r.length;l++){let{document:c,overlayNodeRoot:u,selection:f}=r[l],m=c.getText(),h=f?c.rangeToOffsetRange(f):void 0,p=nLe(u,c),g=Kle.fromRootNode(p,m),x=Jle.fromNode(g,!!t.tryPreserveTypeChecking,!!t.alwaysUseEllipsisForElisions);h&&x.visitAll(G=>G.node.range.intersectsOrTouches(h)?(G.node.children.length===0&&G.markAsSurviving(),!0):!1),n.push(x),i.push(x.getTextFragment());let v=o(G=>h?G.range.endExclusive<h.start?h.start-G.range.endExclusive:G.range.start>h.endExclusive?3*(G.range.start-h.endExclusive):0:0,"distanceScoreToSelection"),E=new tA(G=>h?G.children.length===0?G.range.intersectsOrTouches(h)?0:Number.MAX_SAFE_INTEGER:tLe(G.children.map(se=>E.get(se)))+1:0),b=new tA(G=>{let se=G.parent?b.get(G.parent):Number.MAX_SAFE_INTEGER,Ae=E.get(G);return Math.min(se,Ae)}),_=!!t.tryPreserveTypeChecking,R=o(G=>_&&G.node?.kind==="import_statement"?0:100*b.get(G)+G.depth+10*(v(G)/m.length),"costFn"),P=typeof t.costFnOverride=="object"?t.costFnOverride.createCostFn(c):t.costFnOverride;if(P!==void 0){let G=R;R=o(se=>{let Ae=G(se);return Ae===!1?!1:se.node?P(se.node,Ae,c):Ae},"costFn")}let F=x.getDescendantsAndSelf();for(let G of F){if(!G.node.node)continue;let se=R(G.node);se!==!1&&s.push({idx:l,node:G,cost:se})}}s.sort(y5(l=>l.cost,C5));for(let{node:l,idx:c}of s){if(l.markAsSurviving(),n.reduce((f,m)=>f+m.getTextFragment().length,0)>e)break;i[c]=n[c].getTextFragment()}let a=[];for(let l=0;l<i.length;l++){let c=i[l],{document:u}=r[l],f=new Av(u,c.toTextEditFromOriginal(u.getText().length)),m=f,h=n[l];m.getVisualization=()=>({$fileExtension:"ast.w",source:{value:f.originalText,decorations:rLe(Wr.ofLength(f.originalText.length),f.edits.edits.map(p=>p.replaceRange)).map(p=>({range:[p.start,p.endExclusive],color:"lime"}))},root:$le(h,p=>({label:(p.node.node?.kind||"unknown")+` (${s.find(g=>g.node===p)?.cost})`,range:p.node.range,children:p.childNodes,isMarked:p._surviving}))}),a.push(f)}return a}o(FG,"summarizeDocumentsSyncImpl");function nLe(e,t,r=void 0){let n=new Wr(e.startIndex,e.endIndex),i=[],s=new Yle(r,e,n,i,t);for(let a of e.children)i.push(nLe(a,t,s));return s}o(nLe,"createRemovableNodeFromOverlayNode");var Kle=class e{constructor(t,r,n,i,s,a){this.node=t;this.range=r;this.children=n;this.depth=i;this.parent=s;this.document=a}static{o(this,"TextNode")}static fromRootNode(t,r){let n=new Wr(0,r.length);if(t.range.equals(n))return e.fromNode(t,r);let i=new Wr(0,t.range.start),s=new Wr(t.range.endExclusive,r.length),a=[],l=new e(void 0,n,a,0,null,r);return i.isEmpty||a.push(new e(void 0,i,[],0,l,r)),a.push(e.fromNode(t,r,1,null)),s.isEmpty||a.push(new e(void 0,s,[],0,l,r)),l}static fromNode(t,r,n=0,i=null){let s=[],a=new e(t,t.range,s,n,i,r);if(t.children.length>0){let l=t.range.start;for(let u of t.children){let f=new Wr(l,u.range.start);f.isEmpty||s.push(new e(void 0,f,[],n,a,r)),s.push(e.fromNode(u,r,n+1,a)),l=u.range.endExclusive}let c=new Wr(l,t.range.endExclusive);c.isEmpty||s.push(new e(void 0,c,[],n,a,r))}return a}getLeadingWs(){return RTt(this.document,this.range)}getTrailingWs(){return BTt(this.document,this.range)}};function RTt(e,t){let r=t.substring(e),n=r.length-r.trimStart().length;return r.substring(0,n)}o(RTt,"getLeadingWs");function BTt(e,t){let r=t.substring(e),n=r.length-r.trimEnd().length;return r.substring(r.length-n)}o(BTt,"getTrailingWs");var Jle=class e{constructor(t,r,n,i,s){this.node=t;this.parent=r;this.childNodes=n;this._tryPreserveTypeChecking=i;this._alwaysUseEllipsisForElisions=s;this._surviving=!1;this._textFragment=null}static{o(this,"SurvivingTextNode")}static fromNode(t,r,n){return e.fromNodeParent(t,null,r,n)}static fromNodeParent(t,r,n,i){let s=[],a=new e(t,r,s,n,i);for(let l of t.children){let c=e.fromNodeParent(l,a,n,i);s.push(c)}return a}visitAll(t){if(t(this))for(let r of this.childNodes)r.visitAll(t)}markAsSurviving(){this._surviving||(this._surviving=!0,this.parent&&this.parent.markAsSurviving(),this.invalidate())}invalidate(){this._textFragment&&(this._textFragment=null,this.parent&&this.parent.invalidate())}getTextFragment(){return this._textFragment||(this._textFragment=this._computeSummarization()),this._textFragment}_computeSummarization(){if(this.childNodes.length===0&&(this._surviving||!this.node.node))return new _C(this.node.range,this.node.document);if(!this._surviving)return new gv("");let t=Array.from(mM(this.childNodes.map(n=>({node:n,fragment:n.getTextFragment()})),(n,i)=>n.fragment.length===0==(i.fragment.length===0)));for(let n=0;n<t.length;n++){let i=t[n],s=i[0].fragment.length===0;if(s&&n>0&&n<t.length-1){let a=t[n-1].at(-1),l=t[n+1].at(0);if(a.fragment instanceof _C&&l.fragment instanceof _C){let c=a.fragment.trimEnd(),u=l.fragment.trimStart();if(c.endsWith("{")&&u.startsWith("}")){t[n-1][t[n-1].length-1].fragment=c,i.length=1,i[0].fragment=new gv(this._tryPreserveTypeChecking?"/ * ... * /":"\u2026"),t[n+1][0].fragment=u;continue}}}if(this._alwaysUseEllipsisForElisions&&s&&(n>0||n<t.length-1)){i.length=1;let a=i.at(0).node.node.getLeadingWs(),l=a.lastIndexOf(`
`);l!==-1&&(a=a.substring(l+1));let c=i.at(-1).node.node.getTrailingWs();i[0].fragment=new gv(a+(this._tryPreserveTypeChecking?"/ * ... * /":"\u2026")+c)}}let r=[];for(let n of t)for(let i of n)DTt(r,i.fragment);return PG.from(r)}getDescendantsAndSelf(){let t=[];return this._getDescendantsAndSelf(t),t}_getDescendantsAndSelf(t){t.push(this);for(let r of this.childNodes)r._getDescendantsAndSelf(t)}},qk=class{static{o(this,"TextFragment")}toString(){return this.text}toTextEditFromOriginal(t){let r=[],n=0,i="";function s(l){(n!==l||i.length>0)&&(r.push(new Va(new Wr(n,l),i)),i="")}o(s,"emit");function a(l){if(l instanceof PG)for(let c of l.fragments)a(c);else l instanceof gv?i+=l.text:l instanceof _C&&(s(l.range.start),n=l.range.endExclusive)}return o(a,"process"),a(this),s(t),new Bd(r)}},gv=class extends qk{constructor(r){super();this.text=r}static{o(this,"LiteralTextFragment")}get length(){return this.text.length}},_C=class e extends qk{constructor(r,n){super();this.range=r;this.originalText=n}static{o(this,"OriginalTextFragment")}get length(){return this.range.length}get text(){return this.range.substring(this.originalText)}trimStart(){let r=this.text.trimStart();return r.length===this.length?this:new e(new Wr(this.range.endExclusive-r.length,this.range.endExclusive),this.originalText)}trimEnd(){let r=this.text.trimEnd();return r.length===this.length?this:new e(new Wr(this.range.start,this.range.start+r.length),this.originalText)}startsWith(r){return this.text.startsWith(r)}endsWith(r){return this.text.endsWith(r)}tryJoin(r){return this.range.endExclusive===r.range.start?new e(new Wr(this.range.start,r.range.endExclusive),this.originalText):null}},PG=class e extends qk{constructor(r){super();this.fragments=r;this.length=this.fragments.reduce((r,n)=>r+n.length,0)}static{o(this,"ConcatenatedTextFragment")}static from(r){return r.length===0?new gv(""):r.length===1?r[0]:new e(r)}get text(){return this.fragments.map(r=>r.text).join("")}};function DTt(e,t){if(t.length===0)return;let r=e[e.length-1];if(r&&r instanceof _C&&t instanceof _C){let n=r.tryJoin(t);if(n){e[e.length-1]=n;return}}e.push(t)}o(DTt,"pushFragment");d();d();var NG=class{constructor(t,r,n,i){this.startIndex=t;this.endIndex=r;this.kind=n;this.children=i;if(t>r)throw new Fi("startIndex must be less than endIndex");let s=t;for(let a of i){if(a.startIndex<s)throw new Fi("Invalid child startIndex");if(a.endIndex>r)throw new Fi("Invalid child endIndex");s=Math.max(a.endIndex,s)}}static{o(this,"OverlayNode")}toString(){let t=[];function r(n,i=""){t.push(`${i}${n.kind} [${n.startIndex}, ${n.endIndex}]`),n.children.forEach(s=>r(s,i+"    "))}return o(r,"toString"),r(this),t.join(`
`)}};function oLe(e,t,r){let n=e.getText().split(/\r\n|\r|\n/g),i=r||{tabSize:4},s={getLineCount:o(()=>n.length,"getLineCount"),getLineContent:o(a=>n[a-1],"getLineContent"),getOptions:o(()=>i,"getOptions")};try{let a=PTt(s,t),[l]=sLe(e,a,void 0);return l.adjust(e,aLe(t)),l.toOverlayNode(e,!0)}catch{return new LG(1,e.getLineCount(),[]).toOverlayNode(e,!0)}}o(oLe,"getStructureUsingIndentation");function sLe(e,t,r){if(typeof r<"u"&&r>=t.length)throw new Error(`Invalid region index ${r}`);let n=typeof r>"u"?1:t.getStartLineNumber(r),i=typeof r>"u"?e.getLineCount():t.getEndLineNumber(r),s=[],a=null;for(r=typeof r>"u"?0:r+1;r<t.length;){let l=t.getStartLineNumber(r),c=t.getEndLineNumber(r);if(l>i||c>i)break;let u=a;if([a,r]=sLe(e,t,r),u&&a.startLineNumber<=u.endLineNumber)throw new Fi("Invalid Folding Ranges: overlapping children");if(a.startLineNumber<n)throw new Fi("Invalid Folding Ranges: child starts before parent");s.push(a)}return[new LG(n,i,s),r]}o(sLe,"createFoldingRangeTree");var LG=class{constructor(t,r,n){this.startLineNumber=t;this.endLineNumber=r;this.children=n;if(t>r)throw new Fi("Invalid Folding Ranges: startLineNumber > endLineNumber")}static{o(this,"FoldingRangeNode")}adjust(t,r){r?this._adjustOffside():this._adjustRegular(t,t.getLineCount())}_adjustOffside(){this.startLineNumber++;for(let t of this.children)t._adjustOffside()}_adjustRegular(t,r){if(this.endLineNumber<r){let n=t.getLineText(this.endLineNumber).trim(),i=/^[\}\]\)];?$/.test(n),s=/^<\/\w/.test(n);(i||s)&&this.endLineNumber++}for(let n=this.children.length-1;n>=0;n--){let i=this.children[n],s=n+1<this.children.length?this.children[n+1].startLineNumber-1:r;i._adjustRegular(t,s)}}toOverlayNode(t,r){let n=[],i=r&&this.startLineNumber===1?1:this.startLineNumber+1;for(let s of this.children){for(let a=i;a<s.startLineNumber;a++){let l=Zle(t,a,a,"LINE",[]);l&&n.push(l)}n.push(s.toOverlayNode(t,!1)),i=s.endLineNumber+1}for(let s=i;s<this.endLineNumber;s++){let a=Zle(t,s,s,"LINE",[]);a&&n.push(a)}return Zle(t,this.startLineNumber,this.endLineNumber,"FOLD",n)}};function Zle(e,t,r,n,i){let s=e.getOffsetAtPosition(new _o(t-1,0)),a=r<e.getLineCount()?new _o(r,0):new _o(r-1,e.getLineLength(r-1)),l=e.getOffsetAtPosition(a);return new NG(s,l,n,i)}o(Zle,"createOverlayNode");function PTt(e,t){return FTt(e,aLe(t))}o(PTt,"generateFoldingRegions");function aLe(e){return["clojure","coffeescript","fsharp","latex","markdown","pug","python","sql","yaml"].includes(e)}o(aLe,"isOffSide");function FTt(e,t){let r=e.getOptions().tabSize,n=new Xle,i=[],s=e.getLineCount()+1;i.push({indent:-1,endAbove:s,line:s});for(let a=e.getLineCount();a>0;a--){let l=e.getLineContent(a),c=LTt(l,r),u=i[i.length-1];if(c===-1){t&&(u.endAbove=a);continue}if(u.indent>c){do i.pop(),u=i[i.length-1];while(u.indent>c);let f=u.endAbove-1;f-a>=1&&n.insertFirst(a,f,c)}u.indent===c?u.endAbove=a:i.push({indent:c,endAbove:a,line:a})}return n.toIndentRanges()}o(FTt,"_computeRanges");var NTt=65535,yv=16777215,iLe=4278190080,Xle=class{static{o(this,"RangesCollector")}constructor(){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0}insertFirst(t,r,n){if(t>yv||r>yv)return;let i=this._length;this._startIndexes[i]=t,this._endIndexes[i]=r,this._length++,n<1e3&&(this._indentOccurrences[n]=(this._indentOccurrences[n]||0)+1)}toIndentRanges(){let t=new Uint32Array(this._length),r=new Uint32Array(this._length);for(let n=this._length-1,i=0;n>=0;n--,i++)t[i]=this._startIndexes[n],r[i]=this._endIndexes[n];return new ece(t,r)}};function LTt(e,t){let r=0,n=0,i=e.length;for(;n<i;){let s=e.charCodeAt(n);if(s===32)r++;else if(s===9)r=r-r%t+t;else break;n++}return n===i?-1:r}o(LTt,"computeIndentLevel");var ece=class{static{o(this,"FoldingRegions")}constructor(t,r){this._startIndexes=t,this._endIndexes=r,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let t=[],r=o((n,i)=>{let s=t[t.length-1];return this.getStartLineNumber(s)<=n&&this.getEndLineNumber(s)>=i},"isInsideLast");for(let n=0,i=this._startIndexes.length;n<i;n++){let s=this._startIndexes[n],a=this._endIndexes[n];if(s>yv||a>yv)throw new Error("startLineNumber or endLineNumber must not exceed "+yv);for(;t.length>0&&!r(s,a);)t.pop();let l=t.length>0?t[t.length-1]:-1;t.push(n),this._startIndexes[n]=s+((l&255)<<24),this._endIndexes[n]=a+((l&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(t){return this._startIndexes[t]&yv}getEndLineNumber(t){return this._endIndexes[t]&yv}getParentIndex(t){this.ensureParentIndices();let r=((this._startIndexes[t]&iLe)>>>24)+((this._endIndexes[t]&iLe)>>>16);return r===NTt?-1:r}contains(t,r){return this.getStartLineNumber(t)<=r&&this.getEndLineNumber(t)>=r}findIndex(t){let r=0,n=this._startIndexes.length;if(n===0)return-1;for(;r<n;){let i=Math.floor((r+n)/2);t<this.getStartLineNumber(i)?n=i:r=i+1}return r-1}findRange(t){let r=this.findIndex(t);if(r>=0){if(this.getEndLineNumber(r)>=t)return r;for(r=this.getParentIndex(r);r!==-1;){if(this.contains(r,t))return r;r=this.getParentIndex(r)}}return-1}};d();function tce(e){return e instanceof Error?e:typeof e=="string"?new Error(e):new Error(`An unexpected error occurred: ${e}`)}o(tce,"fromUnknown");var ul=et(Pk());var QG="current-version",kf="next-version",lLe=2,cLe=10,uLe=.7,OTt=/```[^\n]*\n/,SC=class extends eG{constructor(r,n,i){super(SC.ID,[s=>new iG(s),s=>new tG(s),s=>new rG(s)]);this.fetcher=r;this._parserService=n;this._instantiationService=i;this.dependsOnSelection=!0;this.showNextEditPreference="always";this._delayer=new JW}static{o(this,"GhNearbyNesProvider")}static{this.ID="GhNearbyNesProvider"}canReuseResult(r,n){if(r.getActiveDocument().id!==n.getActiveDocument().id||r.documents.length!==n.documents.length)return!1;let i=new Map(r.documents.map(a=>[a.id,a]));for(let a of n.documents){let l=i.get(a.id);if(!l||!s(l,a))return!1}return!0;function s(a,l){if(a.documentAfterEditsNoShortening.value!==l.documentAfterEditsNoShortening.value)return!1;let c=Mk(a),u=c?rce(a,c):null,f=Mk(l),m=f?rce(l,f):null;return!u||!m?!0:Math.abs(u.line-m.line)<Math.min(lLe,cLe)}}handleAcceptance(){this._delayer.handleAcceptance()}handleRejection(){this._delayer.handleRejection()}async provideNextEditBase(r,n){let i=new J6(r),s=this._delayer.createDelaySession(),a;try{a=await this.doGetNextEdit(r,i,s,n)}catch(c){return co.noEdit({kind:"unexpected",error:tce(c)},i)}let l=s.getArtificalDelay();return l>0&&await uv(l),a}async doGetNextEdit(r,n,i,s){return r.documents.some(c=>{if(c.recentEdit.edits.length===0)return!1;for(let u of c.recentEdit.edits)if(!u.lineRange.isEmpty||u.newLines.length>0)return!0;return!1})?await this.sendRequestAndProcessResult(r,i,s,n):co.noEdit({kind:"activeDocumentHasNoEdits"},n)}async sendRequestAndProcessResult(r,n,i,s){let a=await this.createPrompt(r,i);if(!a)return co.noEdit({kind:"noSuggestions"},s);if(!a.editWindowIsInPrompt)return co.noEdit({kind:"filteredOut",message:"promptTooLarge"},s);if(await this.debounce(n,s),i.isCancellationRequested){let R={kind:"gotCancelled",message:"afterDebounce"};return co.noEdit(R,s)}let{summarizedEditWindow:l,editWindowAllowedEditLineRange:c,allowedEditLineRange:u,maxCompletionLineCount:f,messages:m,completionPrefixRange:h,completionRange:p,convergence:g,activeDocument:x,activeDocumentLines:v}=a;s.setFetchStartedAt(),r.fetchIssued=!0;let E=await Gle(this.ID,this.fetcher,m,{convergence:g,ignoreReplyTextBefore:OTt,maxCompletionLineCount:f,convergenceNonWhitespaceCharOverlap:1e3},i);if(s.setFetchResultIfNotSet(E.isOk()?"success":E.err.kind==="cancel"||i.isCancellationRequested?"cancelled":"failure"),i.isCancellationRequested)return co.noEdit({kind:"gotCancelled",message:"afterFetchCall"},s);if(E.isError())return E.err.kind==="cancel"?co.noEdit({kind:"gotCancelled",message:"afterFetchCall"},s):co.noEdit({kind:"fetchFailure",error:tce(E.err.err)},s);let{result:b}=E.val;if(b.length===0){let R=`<${kf}>
`,P=E.val.ignored.indexOf(R);P>=0&&(b=E.val.ignored.substring(P+R.length))}if(b=UTt(b),b.trim().length===0)return co.noEdit({kind:"noSuggestions"},s);let _;if(l&&c&&u){let R=qTt(x,l,c,b);if(!R||R.edits.length===0)return co.noEdit({kind:"filteredOut",message:"Content is identical or cannot get clean diff within edit window"},s);let P=WTt(l,R);if(P.edits.length===0)return co.noEdit({kind:"filteredOut",message:"No-op edit or could not map back to original document"},s);if(_G){let se=await Ok(this._parserService,x.languageId,x.documentAfterEditsNoShortening.value),Ae=P.apply(x.documentAfterEditsNoShortening.value);if(await Ok(this._parserService,x.languageId,Ae)>se)return co.noEdit({kind:"filteredOut",message:"More parse errors after edit"},s)}_=GTt(x,P);let F=_.edits[0].lineRange.startLineNumber,G=_.edits[_.edits.length-1].lineRange.endLineNumberExclusive;if(!Hle(new ri(F,G),u))return co.noEdit({kind:"filteredOut",message:"Outside edit window after projection"},s)}else{let R=SG(x.languageId,v,h,p,b,void 0),P=await jle(this._parserService,R,x,{requireEditWithinNLines:100});if(!P)return co.noEdit({kind:"filteredOut",message:"Could not identify best edit"},s);_=new Ns([P])}return HTt(x,_)?co.noEdit({kind:"filteredOut",message:"Undo of recent edit"},s):jTt(x,_)?co.noEdit({kind:"filteredOut",message:"Deletion of recent insertion"},s):VTt(x,_)?co.noEdit({kind:"filteredOut",message:"uncategorized"},s):$Tt(x,_)?co.noEdit({kind:"filteredOut",message:"uncategorized"},s):co.edit({edit:_},s)}async debounce(r,n){let i=r.getDebounceTime();n.setDebounceTime(i),await uv(i)}async createPrompt(r,n){let i=r.getActiveDocument(),a=i.documentAfterEdits.value.includes(`\r
`)?`\r
`:`
`,l=i.documentAfterEdits.value.split(a),c=Mk(i);if(c===null)return;let u=rce(i,c),f=new Rh(i.documentAfterEditsNoShortening.value),m=await KTt(this._parserService,{getText:o(()=>f.getText(),"getText"),languageId:i.languageId}),{firstEditableLineInShortenedDocument:h,lastEditableLineInShortenedDocument:p,editWindow:g}=function(){let Ae=zTt(i.documentAfterEditsLines,c.startLineNumber),re=Math.max(1,Math.min(Ae,c.startLineNumber-lLe)),W=c.startLineNumber-re,q=Math.min(l.length,c.endLineNumber+cLe),oe=q-c.endLineNumber,X=u.line-W,H=u.line+oe,O=new Au(X,0,H,f.getLineLength(H));return{firstEditableLineInShortenedDocument:re,lastEditableLineInShortenedDocument:q,editWindow:O}}(),x=FG(0,{alwaysUseEllipsisForElisions:!0},[{overlayNodeRoot:m,document:f,selection:g}])[0],v=new ri(1,h),E=new ri(h,p+1),b=x.text,{messages:_,prediction:R,editWindowIsInPrompt:P}=await this._renderPrompt({request:r,activeDocumentSlice:b,languageId:i.languageId},n),F=b.split(/\r\n|\r|\n/).length,G=x.projectRange(g),se=x.positionOffsetTransformer.toOffsetRange(G);return{summarizedEditWindow:x,editWindowAllowedEditLineRange:new ri(G.start.line+1,G.end.line+2),allowedEditLineRange:new ri(h,p+1),messages:_,prediction:R,editWindowIsInPrompt:P,activeDocument:i,activeDocumentLines:l,completionPrefixRange:v,completionRange:E,convergence:b,expectedConvergencePrefix:se.start,maxCompletionLineCount:F+20}}async _renderPrompt(r,n){let s=await wC.create(this._instantiationService,ice,r).render(void 0,n,{trace:!1}),a=s.metadata.get(WG)?.prediction,l=!!s.metadata.get(OG);return{messages:s.messages,prediction:a,editWindowIsInPrompt:l}}};SC=Du([La(0,QA),La(1,LA),La(2,wg)],SC);function UTt(e){function t(r,n,i){let s=r.lastIndexOf(n);if(s===-1)return r;let a=r.slice(0,s);return a.trim().length>0?a+i:a}return o(t,"getStringBeforeLastPattern"),e=t(e,"\n```",`
`),e=t(e,`\`\`\`</${kf}>`,`
`),e=t(e,`\`\`\`
</${kf}>`,`
`),e=t(e,`</${kf}>`,`
`),e}o(UTt,"removeSuffixFromReply");function rce(e,t){let r=e.documentAfterEdits.getTransformer().getOffset(t.getEndPosition()),n=e.toOffsetOnDocumentAfterEditsNoShortening(r);return new Rh(e.documentAfterEditsNoShortening.value).getPositionAtOffset(n)}o(rce,"getCursorPositionInOuterDocument");function qTt(e,t,r,n){let i=X6.fromString(t.text),s=X6.fromString(n.trimEnd()),l=new c9(e.languageId,i,new ri(1,i.length+1),s).resolveDiff().eliminateEmptyLineChanges().eliminateInsertedOrDeletedComments().eliminateEmptyLineChanges(),c=t.isOriginal?l:l.containWithinLines(r);if(!c)return null;let u=Wle?c.eliminateLargeChangeHunks():c;return u?u.toLineEdit("multiple-hunks"):null}o(qTt,"generateSummarizedEditWindowEdit");function WTt(e,t){let r=t.toEdit(new Sl(e.text));return e.projectBackOffsetEdit(r.toOffsetEdit())}o(WTt,"convertSummarizedEditWindowEditToOuterDocumentEdit");function GTt(e,t){let r=t.edits.map(i=>{let s=i.replaceRange.start,a=e.toProjectedOffset(s);return Fs.replace(new Wr(a,a+i.replaceRange.length),i.newText)}),n=new ff(e.documentAfterEdits,As.create(r));return Ns.fromEdit(n)}o(GTt,"convertOuterDocumentEditToProjectedEdit");function HTt(e,t){let r=t.toEdit(e.documentAfterEdits),n=fLe(e.documentAfterEdits.value,r),i=new MG,s=e.documentBeforeEdits.value;for(let a of e.recentEdits.edits)i=i.combine(fLe(s,a)),s=a.apply(s);return!!i.isUndoneBy(n)}o(HTt,"editWouldUndo");function jTt(e,t){let r=t.toEdit(e.documentAfterEdits);if(r=r.normalizeOnSource(e.documentAfterEdits.value),!pLe(r))return!1;for(let n=e.recentEdits.edits.length-1;n>=0;n--){let i=e.recentEdits.edits[n],s=r.tryRebase(i);if(!s)return!0;r=s}return!1}o(jTt,"editWouldDeleteWhatWasJustInserted");function VTt(e,t){let r=t.toEdit(e.documentAfterEdits);if(r=r.normalizeOnSource(e.documentAfterEdits.value),!pLe(r))return!1;for(let n of r.edits){let i=e.documentAfterEdits.value.substring(n.range.start,n.range.endExclusive);if(Zae(i,e.languageId))return!0}return!1}o(VTt,"editWouldDeleteAComment");function $Tt(e,t){if(t.edits.length!==1)return!1;let r=t.edits[0];if(!r.lineRange.isEmpty)return!1;let n=o(l=>l.trim().length>5,"isSignificantLine"),i=new Set(r.newLines.filter(n));if(i.size<=1)return!1;let s=new Set(e.documentAfterEditsLines.filter(n));return nce(s,i)/i.size>.8}o($Tt,"editWouldDuplicateExistingLines");function pLe(e){let t=e.edits.reduce((n,i)=>n+i.range.length,0);return e.edits.reduce((n,i)=>n+i.newText.length,0)===0&&t>0}o(pLe,"editIsDeletion");function zTt(e,t){for(;t>0;){if(e[t-1].trim().length>0)return t;t--}return 1}o(zTt,"findLineNumberAboveWithContent");var MG=class e{constructor(t=new Set,r=new Set){this.inserted=t;this.deleted=r}static{o(this,"InformationDelta")}combine(t){return new e(mLe(this.inserted,t.inserted),mLe(this.deleted,t.deleted))}isUndoneBy(t){let r=hLe(t.inserted,t.deleted),n=hLe(t.deleted,t.inserted),i=nce(n,this.inserted),s=nce(r,this.deleted);return n.size>6&&i/n.size>uLe||r.size>6&&s/r.size>uLe}};function fLe(e,t){let r=new Set,n=new Set,i=o(a=>{if(!a)return;let l=e.substring(a.start,a.endExclusive);for(let c of l.split(/\r\n|\r|\n/)){c=c.trim();for(let u of dLe(c))n.add(u)}},"tryAddDeleted"),s=o(a=>{for(let l of a.split(/\r\n|\r|\n/)){l=l.trim();for(let c of dLe(l))r.add(c)}},"tryAddInserted");for(let a of t.edits){let l=a.removeCommonPrefix(e).removeCommonSuffix(e),c=a.removeCommonSuffix(e).removeCommonPrefix(e);l.isNeutral()||(i(l.range),i(c.range),i(l.range.intersect(c.range)),s(YTt(l.newText,c.newText)))}return new MG(r,n)}o(fLe,"getInformationDelta");function YTt(e,t){let r=Math.min(e.length,t.length);for(let n=0;n<r;n++){let i=e.slice(0,e.length-n),s=t.slice(n);if(i===s)return i}return""}o(YTt,"trimOverlap");function dLe(e){let t=[];for(let r=4;r<e.length;r++){let n=e.slice(r-4,r);t.push(n)}return t}o(dLe,"to4grams");function mLe(e,t){let r=new Set;for(let n of e)r.add(n);for(let n of t)r.add(n);return r}o(mLe,"setUnion");function hLe(e,t){let r=new Set;for(let n of e)t.has(n)||r.add(n);return r}o(hLe,"setMinus");function nce(e,t){let r=0;for(let n of e)t.has(n)&&r++;return r}o(nce,"setIntersectionCount");async function KTt(e,t){let n=await e.getTreeSitterAST(t)?.getStructure();return n||oLe(new Rh(t.getText()),t.languageId,void 0)}o(KTt,"getStructure");var ice=class extends ul.PromptElement{static{o(this,"GHNearbyPrompt")}async render(t,r){let{request:n,activeDocumentSlice:i,languageId:s}=this.props,a=[`<${kf}>`,`\`\`\`${s}`,`${i}`,"```",`</${kf}>`].join(`
`),l=(0,ul.useKeepWith)();return vscpp(vscppf,null,vscpp("meta",{value:new WG(a)}),vscpp(ul.SystemMessage,{priority:1e3},vscpp(kG,null),this._getInstructions()),vscpp(ul.UserMessage,{priority:900},"These are the files I'm working on, before I started making changes to them:",vscpp("br",null),"<original_code>",vscpp("br",null),n.documents.map((c,u)=>c.id===n.getActiveDocument().id?vscpp(l,{priority:300},vscpp(ul.Chunk,{priority:300},vscpp(UG,{doc:c}))):vscpp(ul.Chunk,{priority:100+u},vscpp(UG,{doc:c}))),vscpp("br",null),"</original_code>",vscpp("br",null),vscpp("br",null),"This is a sequence of edits that I made on these files, starting from the oldest to the newest:",vscpp("br",null),"<edits_to_original_code>",vscpp("br",null),n.documents.map((c,u)=>c.id===n.getActiveDocument().id?vscpp(l,{priority:300},vscpp(ul.Chunk,{priority:300},vscpp(qG,{doc:c}))):vscpp(ul.Chunk,{priority:200+u},vscpp(qG,{doc:c}))),vscpp("br",null),"</edits_to_original_code>",vscpp("br",null),vscpp("br",null),vscpp(l,{priority:300},vscpp(ul.Chunk,{priority:300},vscpp("meta",{local:!0,value:new OG}),"Here is the piece of code I am currently editing in"," ",n.getActiveDocument().getDisplayPath(),":",vscpp("br",null),vscpp("br",null),"<",QG,">",vscpp("br",null),"```",s,vscpp("br",null),i,vscpp("br",null),"```",vscpp("br",null),"</",QG,">",vscpp("br",null),vscpp("br",null),"Based on my most recent edits, what will I do next? Rewrite the code between <",QG,"> and </",QG,"> based on what I will do next. Do not skip any lines. Do not be lazy.",vscpp("br",null)))))}_getInstructions(){switch("v1"){case"v1":return vscpp(vscppf,null,"The programmer will provide you with a set of recently viewed files, their recent edits, and a snippet of code that is being actively edited.",vscpp("br",null),vscpp("br",null),"When helping the programmer, your goals are:",vscpp("br",null),"- Make only the necessary changes as indicated by the context.",vscpp("br",null),"- Avoid unnecessary rewrites and make only the necessary changes, using ellipses to indicate partial code where appropriate.",vscpp("br",null),"- Ensure all specified additions, modifications, and new elements (e.g., methods, parameters, function calls) are included in the response.",vscpp("br",null),"- Adhere strictly to the provided pattern, structure, and content, including matching the exact structure and formatting of the expected response.",vscpp("br",null),"- Maintain the integrity of the existing code while making necessary updates.",vscpp("br",null),"- Provide complete and detailed code snippets without omissions, ensuring all necessary parts such as additional classes, methods, or specific steps are included.",vscpp("br",null),"- Keep the programmer on the pattern that you think they are on.",vscpp("br",null),"- Consider what edits need to be made next, if any.",vscpp("br",null),vscpp("br",null),"When responding to the programmer, you must follow these rules:",vscpp("br",null),"- Only answer with the updated code. The programmer will copy and paste your code as is in place of the programmer's provided snippet.",vscpp("br",null),"- Match the expected response exactly, even if it includes errors or corruptions, to ensure consistency.",vscpp("br",null),"- Do not alter method signatures, add or remove return values, or modify existing logic unless explicitly instructed.",vscpp("br",null),"- You must ONLY reply using the tag: <",kf,">.");case"v2":return vscpp(vscppf,null,"The programmer will provide you with a set of recently viewed files, their recent edits, and a snippet of code that is being actively edited.",vscpp("br",null),vscpp("br",null),"When helping the programmer, your goals are:",vscpp("br",null),"- Keep the programmer on the pattern that you think they are on.",vscpp("br",null),"- Consider what edits need to be made next, if any.",vscpp("br",null),"- Ensure that all necessary conditional logic and key-value pairs are preserved in the updated code.",vscpp("br",null),vscpp("br",null),"When responding to the programmer, you must follow these rules:",vscpp("br",null),"- Only answer with the updated code. The programmer will copy and paste your code as is in place of the programmer's provided snippet.",vscpp("br",null),"- Avoid introducing unnecessary variables or methods that are not part of the original code structure.",vscpp("br",null),"- You must ONLY reply using the tag: <",kf,">.",vscpp("br",null),"- Provide a complete and functional code snippet without placeholders or incomplete sections unless explicitly required.");default:return vscpp(vscppf,null,"The programmer will provide you with a set of recently viewed files, their recent edits, and a snippet of code that is currently edited.",vscpp("br",null),vscpp("br",null),"When helping the programmer, your goals are:",vscpp("br",null),"- Keep the programmer on the pattern that you think they are on. Some examples are:",vscpp("br",null),"- Further implementing a class, method, or variable.",vscpp("br",null),"- Improving quality of the code.",vscpp("br",null),"- Making sure the programmer does not get distracted - make sure the next changes are relevant.",vscpp("br",null),"- Consider what edits need to be made next, if any.",vscpp("br",null),"- If you think changes should be made, ask yourself if this is really what needs to happen. If you are confident about it, then continue with the edits.",vscpp("br",null),vscpp("br",null),"When responding to the programmer, you must follow these rules:",vscpp("br",null),"- Only answer with the updated code. The programmer will copy and paste your code as is in place of the programmer's provided snippet.",vscpp("br",null),"- You must ONLY reply using the tag: <",kf,">.:",vscpp("br",null),"- If you see further edits to make to the programmer's code, you must provide the updated code in the <",kf,"> tag.:",vscpp("br",null),"- If the programmer's code is already correct and requires no further edits, simply answer with <",kf,">IDENTICAL</",kf,">.",vscpp("br",null),"- Make sure that the indentation level of any new code is correct and consistent with the existing code.",vscpp("br",null),vscpp("br",null),"Remember, you must ONLY respond using the tag: <",kf,">.")}}},OG=class extends ul.PromptMetadata{static{o(this,"EditWindowMarkerMetadata")}},UG=class extends ul.PromptElement{static{o(this,"OriginalDocument")}async render(t,r){let{doc:n}=this.props,i=[];for(let s=0;s<n.documentLinesBeforeEdit.length;s++){let a=n.documentLinesBeforeEdit[s];i.push(`${n.clippingRange.startLineNumber+s}\u2502${a}`)}return vscpp(vscppf,null,n.getDisplayPath(),":",vscpp("br",null),i.join(`
`))}},qG=class extends ul.PromptElement{static{o(this,"DocumentDiffs")}async render(t,r){let{doc:n}=this.props,i=[];return i.push("```"),i.push(`---${n.getDisplayPath()}:`),i.push(`+++${n.getDisplayPath()}:`),i.push(...ZNe(n)),i.push("```"),vscpp(vscppf,null,i.join(`
`))}},WG=class extends ul.PromptMetadata{constructor(r){super();this.prediction=r}static{o(this,"PredictionMetadata")}};d();d();var GG=class extends Ia{constructor(r){super();this.workspace=r;this._garbageCollector=new ace(20);this._documentCaches=new Map;X1(this,r.openDocuments,(n,i)=>{let s=new oce(n.id,n.value.get(),this._garbageCollector);this._documentCaches.set(s.docId,s),i.add(d8(this,{value:n.value,selection:n.selection,languageId:n.languageId},a=>{for(let l of a.value.changes)s.handleEdit(l)})),i.add(Ta(()=>{this._documentCaches.delete(n.id)}))}).recomputeInitiallyAndOnChange(this._store)}static{o(this,"RejectionCollector")}reject(r,n){let i=this._documentCaches.get(r);i&&i.reject(n)}isRejected(r,n){let i=this._documentCaches.get(r);return i?i.isRejected(n):!1}},oce=class{constructor(t,r,n){this.docId=t;this._garbageCollector=n;this._rejectedEdits=new Set}static{o(this,"DocumentRejectionTracker")}handleEdit(t){for(let r of[...this._rejectedEdits])r.handleEdit(t)}reject(t){if(this.isRejected(t))return;let r=new sce(t.toEdit(),()=>{this._rejectedEdits.delete(r)});this._rejectedEdits.add(r),this._garbageCollector.put(r)}isRejected(t){for(let r of this._rejectedEdits)if(r.isRejected(t))return!0;return!1}},sce=class{constructor(t,r){this._edit=t;this._onDispose=r}static{o(this,"RejectedEdit")}handleEdit(t){let r=this._edit.tryRebase(t);r?this._edit=r:this.dispose()}isRejected(t){return this._edit.equals(t.toEdit())}dispose(){this._onDispose()}},ace=class{constructor(t){this._maxSize=t;this._disposables=[]}static{o(this,"LRUGarbageCollector")}put(t){this._disposables.push(t),this._disposables.length>this._maxSize&&this._disposables.shift().dispose()}dispose(){for(let t of this._disposables)t.dispose();this._disposables=[]}};d();d();d();var Wk=class{constructor(t,r){this.prev=null;this.next=null;this.key=t,this.value=r}static{o(this,"Node")}},HG=class{static{o(this,"LRUCache")}constructor(t=10){if(t<1)throw new Error("Cache size must be at least 1");this._capacity=t,this._cache=new Map,this._head=new Wk("",null),this._tail=new Wk("",null),this._head.next=this._tail,this._tail.prev=this._head}_addNode(t){t.prev=this._head,t.next=this._head.next,this._head.next.prev=t,this._head.next=t}_removeNode(t){let r=t.prev,n=t.next;r.next=n,n.prev=r}_moveToHead(t){this._removeNode(t),this._addNode(t)}_popTail(){let t=this._tail.prev;return this._removeNode(t),t}clear(){this._cache.clear(),this._head.next=this._tail,this._tail.prev=this._head}deleteKey(t){let r=this._cache.get(t);if(r)return this._removeNode(r),this._cache.delete(t),r.value}get(t){let r=this._cache.get(t);if(r)return this._moveToHead(r),r.value}keys(){let t=[],r=this._head.next;for(;r!==this._tail;)t.push(r.key),r=r.next;return t}getValues(){let t=[],r=this._head.next;for(;r!==this._tail;)t.push(r.value),r=r.next;return t}put(t,r){let n=this._cache.get(t);if(n)n.value=r,this._moveToHead(n);else if(n=new Wk(t,r),this._cache.set(t,n),this._addNode(n),this._cache.size>this._capacity){let i=this._popTail();return this._cache.delete(i.key),[i.key,i.value]}}};var jG=class extends Ia{constructor(r){super();this.workspace=r;this._documentCaches=new Map;this._sharedCache=new HG(50);X1(this,r.openDocuments,(n,i)=>{let s=new lce(n.id,n.value.get(),this._sharedCache);this._documentCaches.set(s.docId,s),i.add(d8(this,{value:n.value,selection:n.selection,languageId:n.languageId},a=>{for(let l of a.value.changes)s.handleEdit(l)})),i.add(Ta(()=>{this._documentCaches.delete(n.id)}))}).recomputeInitiallyAndOnChange(this._store)}static{o(this,"NextEditCache")}setNextEdits(r,n,i){let s=this._documentCaches.get(r);s&&s.setNextEdits(n,i)}lookupNextEdit(r){let n=this._documentCaches.get(r);if(n)return n.lookupNextEdit()}},lce=class{constructor(t,r,n){this.docId=t;this._sharedCache=n;this._value=r}static{o(this,"DocumentEditCache")}handleEdit(t){this._value=this._value.apply(t)}setNextEdits(t,r){let n=this._value;for(let i=0;i<t.edits.length;i++){let s=t.edits[i],a=this._getKey(n.value);this._sharedCache.put(a,{edit:s,subsequentN:i,source:r,documentBeforeEdit:n}),n=n.apply(s.toEdit())}}lookupNextEdit(){let t=this._getKey(this._value.value),r=this._sharedCache.get(t);if(r)return r}_getKey(t){return JSON.stringify([this.docId.uri,t])}};d();var VG=class e{constructor(t){this._providerId=t;this._isFromCache=!1;this._wasPreviouslyRejected=!1;this._isShown=!1;this._acceptance="notAccepted";this._startTime=Date.now(),this._requestN=++e.requestN}static{o(this,"NextEditProviderTelemetryBuilder")}static{this.requestN=0}build(){let t,r,n,i,s,a;if(this._request){let c=this._request.getActiveDocument();t=this._request.documents.length,r=this._request.documents.reduce((u,f)=>u+f.recentEdits.edits.length,0),n=c.recentEdits.edits.length,i=c.languageId,s=c.lineCountBeforeClipping,a=c.clippingRange.length}let l=this._statelessNextEditTelemetry?.fetchStartedAt===void 0?void 0:this._statelessNextEditTelemetry.fetchStartedAt-this._startTime;return{opportunityId:this._opportunityId||"",headerRequestId:this._headerRequestId||"",requestN:this._requestN,providerId:this._providerId,nextEditProviderDuration:this._duration||0,isFromCache:this._isFromCache,subsequentEditOrder:this._subsequentEditOrder,documentShorteningStrategy:this._documentShorteningStrategy,documentsCount:t,editsCount:r,activeDocumentEditsCount:n,activeDocumentLanguageId:i,activeDocumentOriginalLineCount:s,activeDocumentShortenedLineCount:a,fetchStartedAfterMs:l,wasPreviouslyRejected:this._wasPreviouslyRejected,isShown:this._isShown,acceptance:this._acceptance,...this._statelessNextEditTelemetry}}setOpportunityId(t){return this._opportunityId=t,this}setHeaderRequestId(t){return this._headerRequestId=t,this}setIsFromCache(){return this._isFromCache=!0,this}setSubsequentEditOrder(t){return this._subsequentEditOrder=t,this}setDocumentShorteningStrategy(t){return this._documentShorteningStrategy=t,this}setRequest(t){return this._request=t,this}setStatelessNextEditTelemetry(t){return this._statelessNextEditTelemetry=t,this}setWasPreviouslyRejected(){return this._wasPreviouslyRejected=!0,this}markEndTime(){return this._duration=Date.now()-this._startTime,this}setAsShown(){return this._isShown=!0,this}setAcceptance(t){return this._acceptance=t,this}},u9=class{constructor(t){this.telemetrySender=t;this._map=new Map}static{o(this,"TelemetrySender")}markNextEditResultAsShown(t){let r=this._map.get(t);r&&r.builder.setAsShown()}scheduleSendingTelemetry(t,r){let n=setTimeout(()=>{this._doSendTelemetry(r),this._map.delete(t)},12e4);this._map.set(t,{builder:r,timeout:n})}sendTelemetryFor(t,r){let n=this._map.get(t);if(!n)return;this._map.delete(t),clearTimeout(n.timeout);let i=n.builder;i.setAcceptance(r),this._doSendTelemetry(i)}sendTelemetry(t){this._doSendTelemetry(t)}_doSendTelemetry(t){let r=t.build(),{opportunityId:n,headerRequestId:i,requestN:s,providerId:a,hadStatelessNextEditProviderCall:l,statelessNextEditProviderDuration:c,nextEditProviderDuration:u,isFromCache:f,subsequentEditOrder:m,documentShorteningStrategy:h,activeDocumentLanguageId:p,activeDocumentOriginalLineCount:g,activeDocumentShortenedLineCount:x,wasPreviouslyRejected:v,isShown:E,acceptance:b,logProbThreshold:_,documentsCount:R,editsCount:P,activeDocumentEditsCount:F,promptLineCount:G,promptCharCount:se,isDefaultEndpoint:Ae,hadLowLogProbSuggestion:re,nonTerminatingError:W,nEditsSuggested:q,kthEditPicked:oe,lineDistanceToMostRecentEdit:X,debounceTime:H,hasNextEdit:O,nextEditLogprob:V,maxLinesPerEdit:J,noNextEditReasonKind:ae,noNextEditReasonMessage:te,firstEditStrategy:le,firstPickStrategyOverride:ce,fetchTime:Pe,fetchResult:Ie,fetchError:Fe,fetchStartedAfterMs:Re}=r;this._sendTelemetryToBoth({opportunityId:n,headerRequestId:i,providerId:a,documentShorteningStrategy:h,activeDocumentLanguageId:p,acceptance:b,nonTerminatingError:W,noNextEditReasonKind:ae,noNextEditReasonMessage:te,firstEditStrategy:le,firstPickStrategyOverride:ce,fetchResult:Ie,fetchError:Fe},{requestN:s,hadStatelessNextEditProviderCall:this._boolToNum(l),statelessNextEditProviderDuration:c,nextEditProviderDuration:u,isFromCache:this._boolToNum(f),subsequentEditOrder:m,isDefaultEndpoint:this._boolToNum(Ae),activeDocumentOriginalLineCount:g,activeDocumentShortenedLineCount:x,wasPreviouslyRejected:this._boolToNum(v),isShown:this._boolToNum(E),logProbThreshold:_,documentsCount:R,editsCount:P,activeDocumentEditsCount:F,promptLineCount:G,promptCharCount:se,hadLowLogProbSuggestion:this._boolToNum(re),nEditsSuggested:q,kthEditPicked:oe,lineDistanceToMostRecentEdit:X,debounceTime:H,fetchStartedAfterMs:Re,fetchTime:Pe,hasNextEdit:this._boolToNum(O),nextEditLogprob:V,maxLinesPerEdit:J})}_sendTelemetryToBoth(t,r){this.telemetrySender.sendTelemetryEvent("copilot-nes/provideInlineEdit",t,r)}_boolToNum(t){return t===void 0?void 0:t?1:0}};u9=Du([La(0,YW)],u9);d();var f9=class{constructor(t){this.result=t}static{o(this,"NextEditResult")}};var Cv=!1,gLe=300,d9=class extends Ia{constructor(r,n,i,s,a,l){super();this._workspace=r;this._statelessNextEditProvider=n;this._historyContextProvider=i;this._parseService=s;this._instantiationService=a;this._snippyService=l;this._rejectionCollector=new GG(this._workspace);this._nextEditCache=new jG(this._workspace);this._recentlyShownCache=new fce;this._pendingStatelessNextEditRequest=null;this._lastShownTime=0;this._lastRejectionTime=0;this._lastTriggerTime=0;X1(this,this._workspace.openDocuments,(c,u)=>{u.add(Mte(c.value,f=>{this._cancelPendingRequestDueToDocChange(c.id,f)}))}).recomputeInitiallyAndOnChange(this._store),this._telemetrySender=this._instantiationService.createInstance(u9)}static{o(this,"NextEditProvider")}get lastRejectionTime(){return this._lastRejectionTime}get lastTriggerTime(){return this._lastTriggerTime}_cancelPendingRequestDueToDocChange(r,n){if(this._pendingStatelessNextEditRequest===null)return;let i=this._pendingStatelessNextEditRequest.getActiveDocument();i.id===r&&i.documentAfterEditsNoShortening.value!==n.value&&this._pendingStatelessNextEditRequest.cancellationTokenSource.cancel()}async getNextEdit(r,n,i){this._lastTriggerTime=Date.now();let s=await this._workspace.getDocument(r);if(!s)return{result:void 0};let a=s.value.get(),l=new VG(this._statelessNextEditProvider.ID);l.setOpportunityId(n.requestUuid??dk());let c=this._recentlyShownCache.get(r,a),u=this._nextEditCache.lookupNextEdit(r),f,m,h,p;if(c)f=c[0],p=c[1],m=a,l.setHeaderRequestId(p.headerRequestId),l.setIsFromCache(),await uv(gLe);else if(u)f=u.edit,p=u.source,m=u.documentBeforeEdit,l.setHeaderRequestId(p.headerRequestId),l.setIsFromCache(),l.setSubsequentEditOrder(u.subsequentN),await uv(gLe);else{p=new uce,l.setHeaderRequestId(p.headerRequestId);let v=s.value.get();m=v;let E=await this.fetchNextEdit(p,r,l,i),b=v.value!==s.value.get().value;if(E.isError())switch(E.err.kind){case"activeDocumentHasNoEdits":case"noSuggestions":case"gotCancelled":case"filteredOut":case"uncategorized":break;case"fetchFailure":case"unexpected":h=E.err.error;break;default:uM(E.err)}else if(!b){let _=E.val;_.isEmpty()||(f=_.edits[0],(!this._statelessNextEditProvider.dependsOnSelection||_.edits.length>1)&&this._nextEditCache.setNextEdits(r,_,p))}}if(l.markEndTime(),h)throw this._telemetrySender.sendTelemetry(l),h;if(!f)return this._telemetrySender.sendTelemetry(l),new f9(void 0);if(this._rejectionCollector.isRejected(r,f))return l.setWasPreviouslyRejected(),this._telemetrySender.sendTelemetry(l),new f9(void 0);iu(m!==void 0,"should be defined if edit is defined");let g=this._statelessNextEditProvider.showNextEditPreference??"aroundEdit",x=new f9({edit:f,showRangePreference:g,documentBeforeEdits:m});return this._telemetrySender.scheduleSendingTelemetry(x,l),f.isNeutral()||this._recentlyShownCache.add(r,a,[f,p]),x}async _shortenDocument(r,n){let i=r.lastEdit.getEditedState(),{document:s,clippedRange:a}=n==="noShortening"?this.getProjectedDocumentNoShortening(r.lastEdit):n==="clipping"?this.getProjectedDocumentClipping(r.lastEdit):await this.getProjectedDocumentSummarizedDocument(r.languageId,r.lastEdit),l=As.fromOffsetEdit(s.edits).inverseOnString(s.originalText),{edits:c,editLast:u}=cce(r.lastEdits.swap(l)),f=c.compose(),m=new Av(new Rh(r.lastEdits.apply(s.originalText)),u.toOffsetEdit().inverse(c.apply(s.text))),h=new Sl(s.text),g=Vp.fromEdit(new ff(h,f)).removeCommonSuffixPrefixLines(),x=c.edits.at(-1)?.getNewRanges().at(0),v;x&&(v=new Sl(m.text).getTransformer().getRange(x));let E=r.lastSelection?m.projectOffsetRange(r.lastSelection):void 0,b=this._workspace.getWorkspaceRoot(r.docId),_=o(G=>{let Ae=new Vp(new Sl(m.text),G).toEdit();return ALe(Ae,m)},"toEditOnDocumentAfterEditsNoShortening"),R=o(G=>m.projectBack(G),"toOffsetOnDocumentAfterEditsNoShortening"),P=o(G=>m.project(G),"toProjectedOffset"),F=new xk(r.docId,b,r.languageId,g.base.getLines(),g.edit,v,h,c,i,_,R,P,r.lastEdit.base.getTextLength().lineCount,a,E);return{recentEdit:r.lastEdit,nextEditDoc:F,projectedDocument:m}}async fetchNextEdit(r,n,i,s){let a=await this._historyContextProvider.getHistoryContext(n);if(!a)return Ra.error({kind:"unexpected",error:new Error("DocumentMissingInHistoryContext")});let l=cce(a.getDocumentAndIdx(n)),c=this.getDocumentShorteningStrategy();i.setDocumentShorteningStrategy(c);let u=await Promise.all(a.documents.map(F=>this._shortenDocument(F,c))),f=u[l.idx],m=new XW(r.headerRequestId,u.map(F=>F.nextEditDoc),l.idx,this.nextEditOptions),h=this._findExistingPendingRequest(m),p,g;if(h){p=h,Cv&&console.log(`=> reusing an existing request ${p.seqid}`),i.setHeaderRequestId(h.id),i.setIsFromCache(),i.setRequest(p);let F=this._hookupCancellation(p,s);try{g=await p.result}finally{F.dispose()}}else{p=m,this._pendingStatelessNextEditRequest&&(this._pendingStatelessNextEditRequest.cancellationTokenSource.cancel(),this._pendingStatelessNextEditRequest=null),this._pendingStatelessNextEditRequest=p;let F=o(()=>{this._pendingStatelessNextEditRequest===p&&(this._pendingStatelessNextEditRequest=null)},"removeFromPending");i.setRequest(p);let G=this._hookupCancellation(p,s);try{g=await this._statelessNextEditProvider.provideNextEdit(p,p.cancellationTokenSource.token),p.setResult(g)}catch(se){throw p.setResultError(se),se}finally{G.dispose(),F()}}i.setStatelessNextEditTelemetry(g.telemetry);let x=g.nextEdit;if(x.isError())return x;let v=x.val.edit;if(v.edits.length===0)return Ra.error({kind:"noSuggestions"});let b=new Vp(new Sl(f.projectedDocument.text),v).toEdit(),_=ALe(b,f.projectedDocument),R=b.edits.length===_.edits.length?x.val.permutation:void 0,P=_.decompose(R);return Ra.ok(P)}_hookupCancellation(r,n){let i=new c0,s=!1,a=o(()=>{s||(s=!0,r.liveDependentants--)},"removeDependant"),l=i.add(new VW);return i.add(n.onCancellationRequested(()=>{if(a(),r.liveDependentants>0){Cv&&console.log(`=> ignoring UI cancellation signal for ${r.seqid} because others depend on this request`);return}if(!r.fetchIssued){Cv&&console.log(`=> canceling ${r.seqid} due to UI cancellation signal`),r.cancellationTokenSource.cancel();return}l.setIfNotSet(()=>{if(r.liveDependentants>0){Cv&&console.log(`=> ignoring timer cancellation signal for ${r.seqid} because others depend on this request`);return}Cv&&console.log(`=> canceling ${r.seqid} due to timer after UI cancellation signal`),r.cancellationTokenSource.cancel()},500)})),i.add(Ta(()=>{a()})),r.liveDependentants++,i}_findExistingPendingRequest(r){if(this._statelessNextEditProvider.canReuseResult&&this._pendingStatelessNextEditRequest&&!this._pendingStatelessNextEditRequest.cancellationTokenSource.token.isCancellationRequested&&this._statelessNextEditProvider.canReuseResult(this._pendingStatelessNextEditRequest,r))return this._pendingStatelessNextEditRequest}handleShown(r){this._lastShownTime=Date.now(),this._telemetrySender.markNextEditResultAsShown(r)}handleAcceptance(r,n){this._telemetrySender.sendTelemetryFor(n,"accepted"),this.runSnippy(r,n),this._statelessNextEditProvider.handleAcceptance?.()}handleRejection(r,n){WM(n.result,"@ulugbekna: undefined edit cannot be rejected?"),Date.now()-this._lastShownTime>1e3&&n.result&&(this._recentlyShownCache.remove(n.result.edit),this._rejectionCollector.reject(r,n.result.edit)),this._lastRejectionTime=Date.now(),this._telemetrySender.sendTelemetryFor(n,"rejected")}getProjectedDocumentNoShortening(r){return{document:new Av(new Rh(r.base.value),new Bd([])),clippedRange:new ri(1,r.base.getTextLength().lineCount+1)}}getProjectedDocumentClipping(r){let n=r.base.getTransformer(),i=n.getRange(r.edit.getRange()??new Wr(0,0)),s=ri.fromRange(i);function a(m,h){return new ri(m.startLineNumber-h,m.endLineNumberExclusive+h)}o(a,"extendRange");let l=new ri(1,n.textLength.lineCount+1),c=cce(l.intersect(a(s,100))),u=ri.subtract(l,c);return{document:new Av(new Rh(r.base.value),new Bd(u.map(m=>Va.delete(n.getOffsetRange(new yi(m.startLineNumber,1,m.endLineNumberExclusive,1)))))),clippedRange:c}}getDocumentShorteningStrategy(){return this._statelessNextEditProvider.documentShorteningStrategy??"clipping"}get nextEditOptions(){return new Ck("firstByLineNumber",8)}async getProjectedDocumentSummarizedDocument(r,n){let i=await ZTt(this._parseService,{getText:o(()=>n.base.value,"getText"),languageId:r});if(!i)return this.getProjectedDocumentClipping(n);let s=new Rh(n.base.value),a=n.edit.edits.at(0)?.range??new Wr(0,0),l;if(n.edit.edits.length!==0){let p=n.edit.edits.at(0),g=n.edit.edits.at(-1);l=s.offsetRangeToRange(new Wr(p.range.start,g.range.endExclusive))}let c=yLe(s.offsetRangeToRange(a)),u=FG(200*50,{costFnOverride:o((p,g,x)=>{let v=yLe(x.offsetRangeToRange(p.range)),E=JTt(c,v);return E>100?!1:E},"costFnOverride")},[{overlayNodeRoot:i,document:s,selection:l}])[0],f=u.projectBack(1)-1,m=n.base.getTransformer().getPosition(f).lineNumber,h=new ri(m,m+u.lineCount);return{document:u,clippedRange:h}}async runSnippy(r,n){n.result!==void 0&&this._snippyService.handlePostInsertion(r.toUri(),n.result.documentBeforeEdits,n.result.edit)}};d9=Du([La(3,LA),La(4,wg),La(5,GW)],d9);function ALe(e,t){let r=t.projectBackOffsetEdit(e.toOffsetEdit());return As.fromOffsetEdit(r)}o(ALe,"projectBackEdit");function yLe(e){return new ri(e.start.line+1,e.end.line+1)}o(yLe,"lineRangeFromVSCodeRange");function JTt(e,t){return e.endLineNumberExclusive<=t.startLineNumber?t.startLineNumber-e.endLineNumberExclusive:t.endLineNumberExclusive<=e.startLineNumber?e.startLineNumber-t.endLineNumberExclusive:0}o(JTt,"lineRangeDist");async function ZTt(e,t){return await e.getTreeSitterAST(t)?.getStructure()}o(ZTt,"getStructure");function cce(e){if(!e)throw new Fi("expected value to be defined, but it was not");return e}o(cce,"assertDefined");var uce=class{constructor(){this.headerRequestId=dk()}static{o(this,"NextEditFetchRequest")}},fce=class{constructor(){this._cache=new pM(10)}static{o(this,"RecentlyShownCache")}add(t,r,n){let i=this._key(t,r);this._cache.set(i,n)}get(t,r){let n=this._key(t,r);return this._cache.get(n)}remove(t){for(let r of this._cache)if(r[1][0]===t){this._cache.delete(r[0]);break}}_key(t,r){return t.uri+";"+r.value}};var CLe=10,Bh=class{constructor(t){this.lastResultsById=new In(CLe);this.lastResultsByUri=new In(CLe);this.ctx=t}static{o(this,"NextEditSuggestionsManager")}async handleNextEditRequest(t,r,n){let i=await(this.nextEditProvider??=this.createNextEditProvider()),s=this.lastResultsByUri.get(t);s&&(this.lastResultsByUri.delete(t),this.lastResultsById.delete(s.resultId),i.handleRejection(s.documentId,s.nextEditResult));let a=Rd.create(t),l=await i.getNextEdit(a,{triggerKind:1},n);if(l.result==null)return;let c=await this.ctx.get(Hr).getTextDocument({uri:t});if(!c)return;let u=c.positionAt(l.result.edit.range.start),f=c.positionAt(l.result.edit.range.endExclusive),m=Ir(),h={resultId:m,nextEditResult:l,documentId:a};return this.lastResultsById.set(m,h),this.lastResultsByUri.set(t,h),[{edit:{text:l.result?.edit.newText??"",range:{start:u,end:f},textDocument:{uri:t,version:r}},id:m}]}async handleAcceptance(t){let r=await this.nextEditProvider,n=this.lastResultsById.get(t);!r||!n||n.resultId===t&&(this.lastResultsByUri.delete(n.resultId),this.lastResultsById.delete(n.resultId),await r.handleAcceptance(n.documentId,n.nextEditResult))}async handleShown(t){let r=await this.nextEditProvider,n=this.lastResultsById.get(t);!r||!n||n.resultId===t&&r.handleShown(n.nextEditResult)}async createNextEditProvider(){let t=await HFe(this.ctx),r=t.createInstance(SC),n=this.ctx.get(Hp),i=new m8(n);return t.createInstance(d9,n,r,i)}};d();var kC=require("fs"),xLe=require("os"),vLe=et(require("path")),m9=require("process");var dc=class{static{o(this,"PersistenceManager")}},dce=class extends dc{constructor(r){super();this.directory=r}static{o(this,"FilePersistenceManager")}async read(r,n){try{return(await this.readJsonObject(r))[n]}catch{return}}async update(r,n,i){await kC.promises.mkdir(this.directory,{recursive:!0,mode:448});let s=`${this.directory}/${r}.json`,a=await this.readJsonObject(r);a[n]=i,await kC.promises.writeFile(s,JSON.stringify(a)+`
`,{encoding:"utf8"})}async delete(r,n){let i=`${this.directory}/${r}.json`;try{let s=await this.readJsonObject(r);delete s[n];let a=JSON.stringify(s)+`
`;a===`{}
`?await kC.promises.rm(i):await kC.promises.writeFile(i,a,{encoding:"utf8"})}catch{}}async deleteSetting(r){let n=`${this.directory}/${r}.json`;try{await kC.promises.rm(n)}catch{}}async listSettings(){try{return(await kC.promises.readdir(this.directory)).filter(n=>n.endsWith(".json")).map(n=>n.slice(0,-5))}catch{return[]}}async listKeys(r){return Object.keys(await this.readJsonObject(r))}async readJsonObject(r){let n=`${this.directory}/${r}.json`;try{let i=await kC.promises.readFile(n,{encoding:"utf8"});return JSON.parse(i)}catch{return{}}}};function XTt(){return m9.env.XDG_CONFIG_HOME&&vLe.isAbsolute(m9.env.XDG_CONFIG_HOME)?m9.env.XDG_CONFIG_HOME+"/github-copilot":(0,xLe.platform)()==="win32"?m9.env.USERPROFILE+"\\AppData\\Local\\github-copilot":m9.env.HOME+"/.config/github-copilot"}o(XTt,"getXdgConfigPath");function bLe(){return new dce(XTt())}o(bLe,"makeXdgPersistenceManager");d();d();d();var ELe=et(require("node:events"));var $G="onWorkspaceWatcherChanged";var zG=class{constructor(t,r){this.ctx=t;this.workspaceFolder=r;this.emitter=new ELe.default;this.status="created",this.startWatching()}static{o(this,"WorkspaceWatcher")}onFileChange(t){this.emitter.on($G,Gu(this.ctx,t,"WorkspaceWatcher.onFileChange"))}onFilesCreated(t){this.emitter.emit($G,{type:"create",documents:t,workspaceFolder:this.workspaceFolder})}onFilesUpdated(t){this.emitter.emit($G,{type:"update",documents:t,workspaceFolder:this.workspaceFolder})}onFilesDeleted(t){this.emitter.emit($G,{type:"delete",documents:t,workspaceFolder:this.workspaceFolder})}};var Wc=class{constructor(t){this.ctx=t;this.watchers=new In(25)}static{o(this,"WorkspaceWatcherProvider")}getWatcher(t){let r=this.watchers.get(t.uri);if(r)return r;let n=this.getParentFolder(t.uri);return n?this.watchers.get(n):void 0}getParentFolder(t){return[...this.watchers.keys()].find(n=>{let i=n.replace(/[#?].*/,"").replace(/\/?$/,"/");return t!==n&&t.startsWith(i)})}hasWatcher(t){return this.getParentFolder(t.uri)||this.getWatcher(t)!==void 0}startWatching(t){if(Jr.debug(this.ctx,`WorkspaceWatcherProvider - Start watching workspace ${t.uri}`),this.hasWatcher(t)){this.getWatcher(t)?.startWatching();return}let r=this.createWatcher(t);this.watchers.set(t.uri,r)}stopWatching(t){this.getWatcher(t)?.stopWatching()}terminateSubfolderWatchers(t){let r=[];for(let s of this.watchers.values())r.push(s.workspaceFolder);let n=t.uri.replace(/[#?].*/,"").replace(/\/?$/,"/"),i=r.filter(s=>s.uri!==t.uri&&s.uri.startsWith(n));for(let s of i)this.terminateWatching(s);return i}terminateWatching(t){if(this.getWatcher(t)?.status!=="stopped")return this.stopWatching(t),this.watchers.delete(t.uri);this.watchers.delete(t.uri)}onFileChange(t,r){this.getWatcher(t)?.onFileChange(r)}async getWatchedFiles(t){return await this.getWatcher(t)?.getWatchedFiles()??[]}getStatus(t){return this.getWatcher(t)?.status}};var h9=class{static{o(this,"WorkspaceLifecycleListener")}start(){}onWorkspaceAdded(t){}onWorkspaceRemoved(t){}onWorkspaceSubfoldersTerminated(t,r){}onFileChange(t){}},ewt="workspaceLifecycleManager",Gc=new Vt(ewt),Dg=class e{constructor(t){this.ctx=t;this.activeListeners=[];this.watchedWorkspaces=[];this.ctx=t;let r=js(t,async()=>{r.dispose(),await this.start()})}static{o(this,"WorkspaceLifecycleManager")}async start(){for(let t of this.activeListeners)await t.isEnabled()?t.isStarted()?Gc.debug(this.ctx,`listener ${t.constructor.name} is already started`):(Gc.debug(this.ctx,`starting listener ${t.constructor.name}`),await t.start()):Gc.debug(this.ctx,`listener ${t.constructor.name} is not enabled`);Gc.debug(this.ctx,"WorkspaceLifecycleManager started"),this.ctx.get(Ef).onChange(t=>{this.onWorkspacesAdded(t.added,this.ctx),this.onWorkspacesRemoved(t.removed,this.ctx)}),await this.onWorkspacesAdded(this.ctx.get(Hr).getWorkspaceFolders(),this.ctx)}static isSubfolder(t,r){let n=t.uri,i=r.uri.replace(/[#?].*/,"").replace(/\/?$/,"/");return n!==i&&n.startsWith(i)}async onWorkspacesAdded(t,r){if(!t.length){Gc.debug(r,"No workspaces to add.");return}Gc.debug(r,`Adding workspaces: ${t.map(l=>l.uri).join(", ")}`);let n=[...this.watchedWorkspaces,...t];Gc.debug(r,`Combined workspaces: ${n.map(l=>l.uri).join(", ")}`);let i=n.filter((l,c,u)=>u.findIndex(f=>f.uri===l.uri)===c&&!u.some(f=>e.isSubfolder(l,f)));Gc.debug(r,`Filtered workspaces: ${i.map(l=>l.uri).join(", ")}`);let s=i.filter(l=>!this.watchedWorkspaces.some(c=>c.uri===l.uri));Gc.debug(r,`New workspaces: ${s.map(l=>l.uri).join(", ")}`);let a=this.watchedWorkspaces.filter(l=>!i.some(c=>c.uri===l.uri));Gc.debug(r,`Removed workspaces: ${a.map(l=>l.uri).join(", ")}`),this.watchedWorkspaces=i;for(let l of a){Gc.debug(r,`Terminating watching for removed workspace: ${l.uri}`),r.get(Wc).terminateWatching(l);for(let u of this.activeListeners)Gc.debug(r,`Notifying listener of removed workspace: ${l.uri}`),await u.onWorkspaceRemoved(l)}for(let l of s){if(!l.uri)continue;Gc.debug(r,`Starting to watch new workspace: ${l.uri}`);let c=r.get(Wc);if(c.shouldStartWatching(l)){c.startWatching(l);let u=c.terminateSubfolderWatchers(l);if(u.length){Gc.debug(r,`Terminated subfolder watchers for workspace: ${l.uri}, Subfolders: ${u.map(f=>f.uri).join(", ")}`);for(let f of this.activeListeners)await f.onWorkspaceSubfoldersTerminated(l,u)}for(let f of this.activeListeners)Gc.debug(r,`Adding file change listener for workspace: ${l.uri}`),c.onFileChange(l,f.onFileChange.bind(f))}}for(let l of this.activeListeners)for(let c of s)Gc.debug(r,`Notifying ${l.constructor.name} of added workspace: ${c.uri}`),await l.onWorkspaceAdded(c)}async onWorkspacesRemoved(t,r){if(t.length)for(let n of t){if(!n.uri)continue;r.get(Wc).terminateWatching(n),this.watchedWorkspaces=this.watchedWorkspaces.filter(s=>s.uri!==n.uri);for(let s of this.activeListeners)await s.onWorkspaceRemoved(n)}}addListener(t){this.activeListeners.push(t)}removeListener(t){this.activeListeners=this.activeListeners.filter(r=>r!==t)}removeAllListeners(){this.activeListeners=[]}};function YG(e){e.set(Dg,new Dg(e))}o(YG,"setupWorkspaceLifecycleListener");d();d();var xv=class{static{o(this,"FallbackContextProviderFeatureLifecycle")}async dispose(){}};d();var _Le=require("crypto"),mce=require("fs"),hce=et(require("path"));var TLe="symbolDatabaseLookup",wLe="fallbackContextProviderDocumentSymbols",vv=class{constructor(t){this.persistenceManager=t}static{o(this,"WorkspaceDatabasePersistenceManager")}async getDBFilePath(t){await this.init();let r=await this.persistenceManager.read(TLe,t);return r||(r=await this.createDBFile(t)),hce.default.join(this.persistenceManager.directory,wLe,r)}async init(){let t=hce.default.join(this.persistenceManager.directory,wLe);await this.createIfNotExists(t)}async dirExists(t){try{return await mce.promises.access(t),!0}catch{return!1}}async createIfNotExists(t){try{await this.dirExists(t)||await mce.promises.mkdir(t,{recursive:!0})}catch{throw new Error(`Failed to create directory: ${t}`)}}async createDBFile(t){let r=`${(0,_Le.randomUUID)()}.db`;return await this.persistenceManager.update(TLe,t,r),r}async deleteDBFile(t){}};d();d();var bv=class{static{o(this,"FileSearch")}};d();var Gk=class{constructor(t,r){this.workspaceUris=t;this.params=r}static{o(this,"FileWatcher")}};d();d();var SLe=100,twt=5e3,KG=class{static{o(this,"CachedContextFetcher")}constructor(){}runWithCache(t,r,n,i,s,a,l){let c=Date.now(),u=this.get(n,i,r,c);if(u)return this.incrementRefCount(u),l.onCancellationRequested(()=>this.decrementRefCount(u)),u.value;if(!a)return t(r,n,i,s,l);let f=new Vn.CancellationTokenSource,m=o(()=>f.cancel(),"cancel"),h=t(r,n,i,s,f.token);return u=this.setBasedOnLastDelimiter(n,i,r,c,h,m),this.incrementRefCount(u),l.onCancellationRequested(()=>this.decrementRefCount(u)),h}get(t,r,n,i){if(this.cachedValue&&this.cachedValue.uri===n&&!(Math.abs(this.cachedValue.cursorPosition-r)>SLe)){if(r>this.cachedValue.cursorPosition){if(t.substring(this.cachedValue.cursorPosition,r).match(/[^A-Za-z0-9]/))return}else if(r<this.cachedValue.cursorPosition)return;if(!(i-this.cachedValue.timestamp>twt))return this.cachedValue}}setBasedOnLastDelimiter(t,r,n,i,s,a){let l=t.substring(0,r),c=/[A-Za-z0-9]+$/.exec(l),u=r;c&&(u=c.index),r-u>SLe&&(u=r);let f={cursorPosition:u,uri:n,timestamp:i,fullText:t,value:s.finally(()=>{f.complete=!0}),refCount:0,cancel:a,uuid:Ir(),complete:!1};return this.cachedValue=f}incrementRefCount(t){t&&t.refCount++}decrementRefCount(t){t&&!t.complete&&(t.refCount--,t.refCount<=0&&t.cancel())}};d();d();d();var JG=et(require("path")),kLe=require("worker_threads");function RLe(e,t){return new kLe.Worker(JG.default.resolve(JG.default.extname(__filename)!==".ts"?__dirname:JG.default.resolve(__dirname,"../../dist"),e),{workerData:t})}o(RLe,"createWorker");d();var ZG=class{constructor(t){this.maxDegreeOfParalellism=t;this.outstandingPromises=[],this.runningPromises=0}static{o(this,"PriorityLimiter")}queue(t,r=!1){return new Promise((n,i)=>{r?this.outstandingPromises.unshift({factory:t,c:n,e:i}):this.outstandingPromises.push({factory:t,c:n,e:i}),this.consume()})}consume(){for(;this.outstandingPromises.length&&this.runningPromises<this.maxDegreeOfParalellism;){let t=this.outstandingPromises.shift();this.runningPromises++;let r=t.factory();r.then(t.c,t.e),r.then(()=>this.consumed(),()=>this.consumed())}}consumed(){this.runningPromises--,this.outstandingPromises.length>0&&this.consume()}};var BLe=et(ti());var XG="main.js",eH=class{constructor(t,r=3){this.promiseResolvers=new Map;this.id=0;try{let n={cwd:process.cwd(),indexWorkspaceRoots:t};this.worker=RLe(XG,n),this.worker.on("message",this.handleWorkerMessage.bind(this)),this.worker.on("error",i=>{this.handleUnexpectedError(i)}),this.postMessageQueue=new ZG(r)}catch(n){throw console.error(`Failed to create worker: ${n.message}`),n}}static{o(this,"IndexClient")}dispose(){return this.postMessageInQueue(new AL(this.id++),BLe.CancellationToken.None,!0)}async indexFile(t,r,n){return await this.postMessageInQueue(new hL(this.id++,t,r),n)}async getAllFileNames(t,r){return this.postMessageInQueue(new pL(this.id++,t),r)}getContext(t,r,n,i,s){return this.postMessageInQueue(new gL(this.id++,t,r,n,i),s,!0)}tryCreateIndex(t,r,n){return this.postMessageInQueue(new dL(this.id++,t,r),n)}async postMessageInQueue(t,r,n=!1){return this.postMessageQueue.queue(()=>this.postMessageAndWait(t,r),n)}tryRemoveIndex(t,r){return this.postMessageAndWait(new mL(this.id++,t),r)}async postMessageAndWait(t,r){if(this.fatalError)return Promise.reject(this.fatalError);let n=new Promise((s,a)=>{this.promiseResolvers.set(t.id,{resolve:s,reject:a})});this.worker.postMessage(t);let i=r.onCancellationRequested(()=>{this.worker.postMessage(new fL(t.id))});try{return await n}finally{i.dispose()}}handleWorkerMessage(t){if(t.operation!=="response")throw new Error("Unexpected message operation");let r=this.promiseResolvers.get(t.id);if(!r)throw new Error(`Received response for message that isn't in progress: ${t.id}`);this.promiseResolvers.delete(t.id),t.error?(t.error.code=t.code,r.reject(t.error)):r.resolve(t.data)}handleUnexpectedError(t){let r;if(t instanceof Error){r=t,r.code==="MODULE_NOT_FOUND"&&r.message?.endsWith(XG+"'")&&(r=new Error(`Failed to load ${XG}`),r.code="CopilotPromptLoadFailure");let n=new Error().stack;r.stack&&n?.match(/^Error\n/)&&(r.stack+=n.replace(/^Error/,""))}else t&&typeof t=="object"&&"name"in t&&"status"in t&&t.name==="ExitStatus"&&typeof t.status=="number"?(r=new Error(`${XG} exited with status ${t.status}`),r.code=`CopilotPromptWorkerExit${t.status}`):r=new Error(`Non-error thrown: ${JSON.stringify(t)}`);for(let n of this.promiseResolvers.values())n.reject(r);this.promiseResolvers.clear(),this.fatalError=r}};var Hk=et(ti());var p9="fallbackContextProvider",Rf=new Vt(p9),Ev=class{constructor(t,r,n,i){this.ctx=t;this.watcher=r;this.workspaceDatabasePersistenceManager=n;this.workspaceInit=new Map;this.watcher.onFileChange(async(s,a)=>{await this.indexFile(a,this.languageId(a)??"plaintext")}),this.watcher.onWorkspaceChange(async(s,a)=>{if(s===1){Rf.debug(this.ctx,`workspace removed: ${a}`),await this.indexClient.tryRemoveIndex(a,Hk.CancellationToken.None);return}Rf.debug(this.ctx,`workspace added: ${a}`),await this.indexAddedWorkspace(a)}),this.indexClient=new eH(i);for(let s of i){let a=s.rootPath;this.workspaceInit.set(a,this.doWorkspaceIndex(a).then(()=>{Rf.debug(this.ctx,`workspace ${a} indexed`),this.workspaceInit.delete(a)}))}}static{o(this,"FallbackContextIndexWatcher")}isInitializing(t){for(let[r]of this.workspaceInit)if(t.startsWith(r))return!0;return!1}dispose(){return this.indexClient.dispose()}async indexAddedWorkspace(t){let r=await nwt(t,this.workspaceDatabasePersistenceManager);await this.indexClient.tryCreateIndex(r.rootPath,r.databaseFilePath,Hk.CancellationToken.None),this.workspaceInit.has(t)&&await this.workspaceInit.get(t);let n=this.doWorkspaceIndex(t).then(()=>{Rf.debug(this.ctx,`workspace ${t} indexed`),this.workspaceInit.delete(t)});this.workspaceInit.set(t,n)}async doWorkspaceIndex(t){Rf.debug(this.ctx,`indexing workspace ${t}`);let r=rX.map(f=>`*${f}`);if(r.length===0)return;let i=`**/${rX.length===1?r[0]:`{${r.join(",")}}`}`,s=this.ctx.get(bv),a=await Promise.all([s.findFiles(i,{uri:t},{excludeGitignoredFiles:!0,excludeIDEIgnoredFiles:!0,excludeIDESearchIgnoredFiles:!0}),this.indexClient.getAllFileNames(t,Hk.CancellationToken.None)]),l=a[0],c=a[1],u=Array.from(new Set([...l,...c]));Rf.debug(this.ctx,`found ${u.length} files to index in ${t}`),await Promise.all(u.map(async f=>{let m=this.languageId(f);m&&await this.indexFile(f.replace(/\/+$/,""),m)})),Rf.debug(this.ctx,`finished indexing workspace ${t}`)}async indexFile(t,r){try{Rf.debug(this.ctx,`index triggered for ${t}`),await this.indexClient.indexFile(t,r,Hk.CancellationToken.None)}catch(n){Rf.debug(this.ctx,`failed to index ${t} with ${n}`)}}languageId(t){return I3e(t)}};async function nwt(e,t){return{databaseFilePath:await t.getDBFilePath(e),rootPath:e}}o(nwt,"createIndexableWorkspaceFolder");var tH=class{constructor(t){this.id=p9;this.selector=ZN.map(t=>({language:t.languageId}));try{this.documentManager=t.get(Hr),this.resolver=new pce(this.documentManager,t)}catch(r){throw Rf.error(t,"Failed to create fallback context provider",r),r}}static{o(this,"FallbackContextProvider")}},pce=class{constructor(t,r){this.ctx=r;this.documentManager=t,this.cachedContextFetcher=new KG}static{o(this,"FallbackContextResolver")}resolve(t,r){return this.resolveImpl(t,r)}async resolveImpl(t,r){let n=this.ctx.get(xv).indexWatcher;if(!n)return[];if(n.isInitializing(t.documentContext.uri))return[];let i=n.indexClient;try{let s=await this.documentManager.getTextDocument({uri:t.documentContext.uri});if(s?.version!==t.documentContext.version)return[];let a=t.documentContext.position,l=t.documentContext.proposedEdits??[];({textDocument:s,position:a}=wQ(s,a,l));let c=s.getText(),u=await this.cachedContextFetcher.runWithCache(i.getContext.bind(i),t.documentContext.uri,c,s.offsetAt(a),t.documentContext.languageId,l.length===0,r);return Rf.debug(this.ctx,`Context items found for ${t.documentContext.uri}: ${u.map(f=>JSON.stringify(f)).join(", ")}`),u}catch(s){if(Dw(s))return[];throw Rf.error(this.ctx,"Failed to get context",s),s}}};var jk=class extends h9{constructor(r){super();this.started=!1;this.ctx=r,this.ctx.get(Dg).addListener(this)}static{o(this,"AgentFallbackContextProvider")}async start(){if(!this.started&&await this.isEnabled()&&!this.ctx.get(ll).providers.some(r=>r.id===p9)){let r=this.ctx.get(vv);this.fileWatcher=new gce([],{excludeGitignoredFiles:!0,excludeIDEIgnoredFiles:!1,excludeIDESearchIgnoredFiles:!1}),this.fallbackContextIndexWatcher=new Ev(this.ctx,this.fileWatcher,r,[]),this.fileSearch=new Ace(this.ctx),this.ctx.set(Gk,this.fileWatcher),this.ctx.set(bv,this.fileSearch),this.ctx.set(Ev,this.fallbackContextIndexWatcher),this.ctx.get(ll).registerContextProvider(new tH(this.ctx)),this.started=!0}}isStarted(){return this.started}async isEnabled(){let r=await this.ctx.get(Cr).updateExPValuesAndAssignments(),n=rO(this.ctx,r);return n.includes(p9)||n.length===1&&n[0]==="*"}async onWorkspaceAdded(r){await this.isEnabled()&&await this.fileWatcher?.triggerWorkspaceChange(0,r.uri)}async onWorkspaceRemoved(r){await this.isEnabled()&&await this.fileWatcher?.triggerWorkspaceChange(1,r.uri)}async onWorkspaceSubfoldersTerminated(r,n){if(await this.isEnabled())return super.onWorkspaceSubfoldersTerminated(r,n)}async onFileChange(r){if(await this.isEnabled())for(let n of r.documents)await this.fileWatcher?.triggerFileChange(this.toFileWatcherType(r.type),n.uri)}toFileWatcherType(r){switch(r){case"create":return 2;case"delete":return 1;case"update":return 0;default:throw new Error("Unknown file watcher event type")}}},gce=class extends Gk{constructor(r,n){super(r,n);this.fileChangeListeners=[];this.workspaceChangeListeners=[]}static{o(this,"FallbackFileWatcher")}onFileChange(r){this.fileChangeListeners.push(r)}onWorkspaceChange(r){this.workspaceChangeListeners.push(r)}dispose(){}async triggerFileChange(r,n){for(let i of this.fileChangeListeners)await i(r,n)}async triggerWorkspaceChange(r,n){for(let i of this.workspaceChangeListeners)await i(r,n)}},Ace=class extends bv{constructor(r){super();this.ctx=r}static{o(this,"LspFileSearch")}async findFiles(r,n,i){return(await this.ctx.get(Wc).getWatchedFiles(n)).map(a=>this.ctx.get(Hr).getTextDocumentUnsafe(a)?.clientUri??a.uri)}};var yce=class extends xv{static{o(this,"AgentFallbackContextProviderFeatureLifecycle")}constructor(t){super(),this.agentFallbackContextProvider=new jk(t),t.set(jk,this.agentFallbackContextProvider)}get indexWatcher(){return this.agentFallbackContextProvider?.fallbackContextIndexWatcher}async tryStart(t){}async dispose(){return super.dispose()}};function DLe(e){let t=e.get(dc),r=new vv(t);e.set(vv,r),e.set(xv,new yce(e))}o(DLe,"setupFallbackContextProviderFeature");d();d();d();var Pg=new Map;Pg.set("copilot",{app:"copilot-client",catalog_service:"CopilotCompletionsVSCode"});Pg.set("copilot-intellij",{app:"copilot-intellij",catalog_service:"CopilotIntelliJ"});Pg.set("copilot-xcode",{app:"copilot-xcode",catalog_service:"CopilotXcode"});Pg.set("copilot-eclipse",{app:"copilot-eclipse",catalog_service:"CopilotEclipse"});Pg.set("copilot.vim",{app:"copilot-vim",catalog_service:"CopilotVim"});Pg.set("copilot-vs",{app:"copilot-vs",catalog_service:"CopilotVS"});var owt=new Vt("sdk");function rH(e,t){Pg.has(e.get(dn).getEditorPluginInfo().name)||owt.warn(e,...t)}o(rH,"deprecationWarning");var DHe=et(Qce()),qh=et(Jm());d();d();d();var rn={ParseError:-32700,InvalidRequest:-32600,MethodNotFound:-32601,InvalidParams:-32602,InternalError:-32603,ServerNotInitialized:-32002,RequestCancelled:-32800,ContentModified:-32801,ServerCancelled:-32802,NoCopilotToken:1e3,DeviceFlowFailed:1001,CopilotNotAvailable:1002};var mc=class extends Error{static{o(this,"SchemaValidationError")}constructor(t){super(EMe(t))}};function at(e,t){let r=ds.Compile(e);return async(n,i,s)=>{if(!r.Check(s)){let a=EMe(r.Errors(s));return[null,{code:rn.InvalidParams,message:a}]}return t(n,i,s)}}o(at,"addMethodHandlerValidation");function EMe(e){return`Schema validation failed with the following errors:
${Array.from(e).map(r=>`- ${r.path}: ${r.message}`).join(`
`)}`}o(EMe,"createErrorMessage");d();var Mce=et(ti());d();var Ng=class{constructor(t){this.ctx=t}static{o(this,"AbstractCommand")}};var hH="github.copilot.finishDeviceFlow",Oce=class extends Ng{constructor(){super(...arguments);this.name=hH;this.arguments=I.Tuple([])}static{o(this,"FinishDeviceFlowCommand")}async handle(r,n){let i=this.ctx.get(Ln).pendingSignIn;if(!i)throw new Mce.ResponseError(rn.InvalidRequest,"No pending sign in");try{await this.ctx.get(nc).open(i.verificationUri)}catch(s){Vu.warn(this.ctx,"Failed to open",i.verificationUri),Vu.exception(this.ctx,s,hH)}try{return await i.status}catch(s){throw new Mce.ResponseError(rn.DeviceFlowFailed,String(s))}finally{this.ctx.get(Ln).pendingSignIn=void 0}}},IMe=[Oce];d();d();var rs=class extends In{static{o(this,"CopilotCompletionCache")}constructor(t=100){super(t)}};var Xk="github.copilot.didAcceptCompletionItem",Uce=class extends Ng{constructor(){super(...arguments);this.name=Xk;this.arguments=I.Tuple([I.String({minLength:1})])}static{o(this,"DidAcceptCommand")}handle(r,[n]){let s=this.ctx.get(rs).get(n);return s?(mO(this.ctx,s),!0):!1}},TMe=[Uce];d();var tkt="github.copilot.didAcceptNextEditSuggestionItem",qce=class extends Ng{constructor(){super(...arguments);this.name=tkt;this.arguments=I.Tuple([I.String({minLength:1})])}static{o(this,"DidAcceptCommand")}async handle(r,[n]){return await this.ctx.get(Bh).handleAcceptance(n),!0}},wMe=[qce];d();var Gce="github.copilot.didAcceptPanelCompletionItem",Wce=class extends Ng{constructor(){super(...arguments);this.name=Gce;this.arguments=I.Tuple([I.String({minLength:1})])}static{o(this,"DidAcceptPanelCompletionItemCommand")}handle(r,n){let[i]=n,a=this.ctx.get(rs).get(i);return a?(lx(this.ctx,a.triggerCategory,a.insertText,a.offset,a.uri,a.telemetry,{compType:"full"},a.copilotAnnotations),!0):!1}},_Me=[Wce];var rkt=[...IMe,...TMe,...wMe,..._Me];function SMe(e,t){let r=new Map;for(let n of rkt){let i=new n(e),s=ds.Compile(i.arguments);r.set(i.name,{typeCheck:s,command:i})}return t.onExecuteCommand((n,i)=>{let s=r.get(n.command);if(!s)throw new Error(`Unknown command: ${n.command}`);let a=qA(n.arguments??[]);if(a.length<s.command.arguments.minItems&&(a.length=s.command.arguments.minItems),s.typeCheck.Check(n.arguments))return s.command.handle(i,a);throw new mc(s.typeCheck.Errors(n.arguments))}),[...r.keys()]}o(SMe,"registerCommands");d();var kMe=et(require("node:events"));var Bf=class extends E4{constructor(r){super(new xI,new Map);this.emitters=new Map;this.envSettings=new Map;this.env={...r},this.setOverridesFromEnvironment()}static{o(this,"AgentConfigProvider")}setOverridesFromEnvironment(){["DebugOverrideEngine","DebugOverrideProxyUrl","DebugOverrideCapiUrl","DebugUseEditorFetcher","UseSubsetMatching","ExcludeOpenTabFilesCSharp","ExcludeOpenTabFilesCpp","FallbackToOpenTabFilesWithNoRelatedFiles"].forEach(n=>{for(let i of["AGENT_DEBUG_","GITHUB_COPILOT_","GH_COPILOT_"]){let s=`${i}${nkt(n.replace(/^Debug/,""))}`;s in this.env&&(this.envSettings.set(St[n],this.env[s]),this.setConfig(St[n],this.env[s]))}})}setConfig(r,n){super.setConfig(r,n??this.envSettings.get(r)),this.emitters.get(r)?.emit("change",n)}onConfigChange(r,n){this.emitters.has(r)||this.emitters.set(r,new kMe.default),this.emitters.get(r)?.on("change",n)}};function nkt(e){return e.replace(/([a-z])([A-Z]+)/g,"$1_$2").toUpperCase()}o(nkt,"camelCaseToSnakeCaseAllCaps");var ikt="unknown-editor",RMe="unknown-editor-plugin",pH=class extends dn{static{o(this,"AgentEditorInfo")}setEditorAndPluginInfo(t,r,n=[]){this._editorInfo=r,this._editorPluginInfo=t,this._relatedPluginInfo=n}setCopilotIntegrationId(t){this._copilotIntegrationId=t}getEditorInfo(){return this._editorInfo?this._editorInfo:{name:ikt,version:"0"}}getEditorPluginInfo(){return this._editorPluginInfo?this._editorPluginInfo:{name:RMe,version:"0"}}getRelatedPluginInfo(){return this._relatedPluginInfo??[]}getCopilotIntegrationId(){return this._copilotIntegrationId}};function BMe(e){return e.getEditorPluginInfo().name!==RMe}o(BMe,"hasValidInfo");d();var PMe=require("node:events");var DMe="initialize",WA=class{constructor(){this.emitter=new PMe.EventEmitter;this.initialized=!1}static{o(this,"InitializedNotifier")}once(t){this.emitter.once(DMe,t)}emit(){if(this.initialized)throw new Error("Already initialized");this.initialized=!0,this.emitter.emit(DMe)}};d();var GA=et(Jm());var okt=new Map([[4,GA.MessageType.Log],[3,GA.MessageType.Info],[2,GA.MessageType.Warning],[1,GA.MessageType.Error]]),gH=class extends qa{static{o(this,"NotificationLogger")}logIt(t,r,n,...i){if(r==4&&!pO(t)&&n!=="console")return;let s={type:okt.get(r),message:Z8e(n,...i)},a=t.get(jr).connection;try{a.sendNotification(new GA.NotificationType("window/logMessage"),s)}catch(l){if(l instanceof GA.ConnectionError)return;throw l}}};d();var FMe=et(Tl());var AH=class{constructor(t,r=!1){this.ctx=t;this.codeSnippets=r}static{o(this,"RedirectTelemetryReporter")}get notificationName(){return this.codeSnippets?"codeSnippetTelemetry":"uedTelemetry"}sendTelemetryEvent(t,r,n){this.ctx.get(jr).connection.sendNotification(new FMe.NotificationType(this.notificationName),{type:"event",name:t,properties:r||{},measurements:n||{}})}sendTelemetryErrorEvent(t,r,n){this.sendTelemetryEvent(t,r,n)}dispose(){return Promise.resolve()}};async function NMe(e){let t=e.get(Ds),r=t.deactivate();t.setReporter(new AH(e)),t.setRestrictedReporter(new AH(e,!0)),await r}o(NMe,"setupRedirectingTelemetryReporters");d();d();var yH=class{static{o(this,"InstallationManager")}async startup(t){await this.isNewInstall(t)?(await this.markInstalled(t),this.handleInstall(t,await this.wasPreviouslyInstalled(t))):await this.isNewUpgrade(t)&&(await this.markUpgraded(t),this.handleUpgrade(t))}uninstall(t){return this.handleUninstall(t)}handleInstall(t,r){r?jt(t,"installed.reinstall"):jt(t,"installed.new")}handleUpgrade(t){jt(t,"installed.upgrade")}handleUninstall(t){jt(t,"uninstalled")}};var eR=et(Qce());var y9=class extends yH{static{o(this,"AgentInstallationManager")}async isNewInstall(t){let r=t.get(dn).getEditorPluginInfo();return await t.get(dc).read("versions",r.name)===void 0&&!await this.hasPersistedSettings(t)}async hasPersistedSettings(t){return(await t.get(dc).listSettings()).length>0}async markInstalled(t){let r=t.get(dn).getEditorPluginInfo();await t.get(dc).update("versions",r.name,r.version)}wasPreviouslyInstalled(t){return Promise.resolve(!1)}async isNewUpgrade(t){try{let r=t.get(dn).getEditorPluginInfo(),n=await t.get(dc).read("versions",r.name);return n===void 0&&await this.hasPersistedSettings(t)?!0:(0,eR.gt)((0,eR.coerce)(r.version),(0,eR.coerce)(n))}catch{return!1}}async markUpgraded(t){await this.markInstalled(t)}async uninstall(t){await super.uninstall(t);let r=t.get(dn).getEditorPluginInfo();await t.get(dc).delete("versions",r.name),(await t.get(dc).listKeys("versions")).length===0&&await t.get(dc).deleteSetting("versions")}};d();var LMe=require("events"),jce=et(require("path")),CH=et(Tl());var Hce="didChangeWatchedFiles",skt={watchedFiles:[],contentRestrictedFiles:[],unknownFileExtensions:[]},Dh=class e{constructor(t){this.ctx=t;this.emitter=new LMe.EventEmitter}static{o(this,"LspFileWatcher")}static{this.requestType=new CH.ProtocolRequestType("copilot/watchedFiles")}get connection(){return this.ctx.get(jr).connection}init(){this.ctx.get(Ho).getCapabilities().watchedFiles&&this.connection.onNotification(CH.DidChangeWatchedFilesNotification.type,r=>{"workspaceUri"in r&&typeof r.workspaceUri=="string"&&this.didChangeWatchedFilesHandler(r)})}async getWatchedFiles(t){if(!this.ctx.get(Ho).getCapabilities().watchedFiles)return skt;let i=(await this.connection.sendRequest(e.requestType,t)).files,s=[],a=[],l=[];for(let c of i){typeof c=="object"&&(c=c.uri);let u=jce.extname(c).toLowerCase();if(!Rw.includes(u)){l.push({uri:c});continue}let f=await this.getValidDocument(c);if(f===void 0){a.push({uri:c});continue}s.push(f)}return{watchedFiles:s,contentRestrictedFiles:a,unknownFileExtensions:l}}onDidChangeWatchedFiles(t){this.emitter.on(Hce,t)}offDidChangeWatchedFiles(t){this.emitter.off(Hce,t)}async didChangeWatchedFilesHandler(t){let r=[],n=[],i=[];for(let s of t.changes){let a=s.uri,l={uri:a,isRestricted:!1,isUnknownFileExtension:!1},c=jce.extname(s.uri).toLowerCase();if(!Rw.includes(c))l.isUnknownFileExtension=!0;else{let u=await this.getValidDocument(a);u===void 0?l.isRestricted=!0:l.document=u}switch(s.type){case 1:n.push(l);break;case 2:r.push(l);break;case 3:i.push(l);break}}this.emitter.emit(Hce,{workspaceFolder:{uri:t.workspaceUri},created:n,changed:r,deleted:i})}async getValidDocument(t){let n=await this.ctx.get(Dn).getOrReadTextDocument({uri:t});return n.status==="valid"?n.document:void 0}};d();d();var akt=I.Object({uri:I.String({minLength:1})});async function lkt(e,t,r){let n=await e.get(Dn).getOrReadTextDocument(r);return[{status:gs(n),...n.status==="invalid"&&{reason:n.reason},...n.status==="notfound"&&{reason:n.message}},null]}o(lkt,"handleCheckFileStatusChecked");var QMe=at(akt,lkt);d();var ckt=I.Object({options:I.Optional(I.Object({localChecksOnly:I.Optional(I.Boolean()),forceRefresh:I.Optional(I.Boolean())}))});async function ukt(e,t,r){return[await e.get(Ln).checkAndUpdateStatus(e,r.options),null]}o(ukt,"handleCheckStatusChecked");var MMe=at(ckt,ukt);d();d();d();d();d();d();function OMe(e){return e?e.filter(t=>t.type==="github.web-search").map(t=>t):[]}o(OMe,"filterUnsupportedReferences");function UMe(e){return e?e.filter(t=>t.type==="github.web-search"):[]}o(UMe,"convertToCopilotReferences");var qMe=I.Object({type:I.Literal("github.web-search"),id:I.String(),data:I.Object({query:I.String(),type:I.String(),results:I.Optional(I.Array(I.Object({title:I.String(),excerpt:I.String(),url:I.String()})))}),metadata:I.Optional(I.Object({display_name:I.Optional(I.String()),display_icon:I.Optional(I.String())}))});var RC=class{constructor(t){this.deltaApplier=t;this.appliedLength=0;this.appliedText="";this.appliedAnnotations=[]}static{o(this,"ConversationFinishCallback")}isFinishedAfter(t,r){let n=t.substring(this.appliedLength,t.length),s=this.mapAnnotations(r.annotations).filter(a=>!this.appliedAnnotations.includes(a.id));this.append(n,s,OMe(r.copilotReferences),r.copilotErrors??[],r.copilotConfirmation)}append(t,r,n,i,s){this.deltaApplier(t,r,n,i,s),this.appliedLength+=t.length,this.appliedText+=t,this.appliedAnnotations.push(...r.map(a=>a.id))}mapAnnotations(t){if(!t)return[];let r=[],n=t.for("CodeVulnerability").map(s=>({...s,type:"code_vulnerability"})),i=t.for("IPCodeCitations").map(s=>({...s,type:"ip_code_citations"}));return r.push(...n),r.push(...i),r}};d();var Za=class{static{o(this,"ConversationInspector")}};d();var bs=class{constructor(t){this.ctx=t;this.progressEntries=new In(250)}static{o(this,"ConversationProgress")}async begin(t,r,n){let i={status:"open",handler:n};this.progressEntries.set(t.id,i),await i.handler.begin(this.ctx,t,r)}async report(t,r,n){let i=this.getProgressEntry(t);i.status==="open"&&await i.handler.report(this.ctx,t,r,n)}async end(t,r,n){let i=this.getProgressEntry(t);i.status==="open"&&(this.progressEntries.set(t.id,{...i,status:"done",updatedAt:Date.now()}),await i.handler.end(this.ctx,t,r,n))}async cancel(t,r,n){let i=this.getProgressEntry(t);i.status==="open"&&(this.progressEntries.set(t.id,{...i,status:"cancelled",updatedAt:Date.now()}),await i.handler.cancel(this.ctx,t,r,n))}getProgressEntry(t){let r=this.progressEntries.get(t.id);if(r===void 0)throw new Error(`No work done token for conversation ${t.id}`);return r.status!=="open"&&Jr.error(this.ctx,`Work done token for conversation ${t.id} is already ${r.status}, last updated at ${r.updatedAt}`),r}};d();d();var Lg=class{constructor(t){this.ctx=t;this.githubRepositoryInfoCache=new Map}static{o(this,"GitHubRepositoryApi")}async getRepositoryInfo(t,r){let n=this.githubRepositoryInfoCache.get(`${t}/${r}`);if(n)return n;let i=await this._doGetRepositoryInfo(t,r);if(i.ok){let s=await i.json();return this.githubRepositoryInfoCache.set(`${t}/${r}`,s),s}throw new Error(`Failed to fetch repository info for ${t}/${r}`)}async _doGetRepositoryInfo(t,r){let n=await this.ctx.get(Xr).getGitHubSession(),i={Accept:"application/vnd.github+json","X-GitHub-Api-Version":"2022-11-28"};n&&(i.Authorization=`Bearer ${n.accessToken}`);let s=this.ctx.get(On).getAPIUrl(`repos/${t}/${r}`);return this.ctx.get(Or).fetch(s,{method:"GET",headers:i})}async isAvailable(t,r){try{return(await this._doGetRepositoryInfo(t,r)).ok}catch{return!1}}};d();d();d();var GMe=et(Df());var Qg=class{constructor(t,r,n){this.doc=t;this.selection=r;this.visibleRange=n}static{o(this,"ElidableDocument")}fromSelectedCode(t){let r=this.getExpandedSelection(),n=r;if(t.trimNewLines){let s=this.doc.getText(r),a=s.match(/^\n*/)?.[0].length??0,l=s.match(/\n*$/)?.[0].length??0;n={start:this.getLineStart(r.start.line+a),end:this.expandLineToEnd(r.end.line-l)}}let i=new tr([(0,GMe.default)(this.doc.getText(n)).trim()]);return[this.wrapInTicks(i),n]}fromAllCode(t){let r=this.getDocumentRange(),n=this.getExpandedSelection(),i;!this.visibleRange||!this.rangeContainedIn(this.visibleRange,n)?i=n:i={start:this.getLineStart(this.visibleRange.start.line),end:this.expandLineToEnd(this.visibleRange.end.line)};let s={start:r.start,end:i.start.line>0?this.expandLineToEnd(i.start.line-1):r.start},a={start:i.start,end:n.start.line>0&&n.start.line>i.start.line?this.expandLineToEnd(n.start.line-1):i.start},l={start:n.end.line<this.doc.lineCount-1&&n.end.line<i.end.line?this.getLineStart(n.end.line+1):i.end,end:i.end},c={start:i.end.line<this.doc.lineCount-1?this.getLineStart(i.end.line+1):r.end,end:r.end},u=[[s,.6],[a,.8],[n,1],[l,.4],[c,.2]],f=new tr(u.filter(([m,h])=>!C9(m)||h===1).map(([m,h])=>{let p;return t.addLineNumbers?p=this.addLineNumbers(m):p=this.doc.getText(m),[h==1?p:Zu(p),h]}));return this.wrapInTicks(f)}selectionIsDocument(){return this.rangeEquals(this.getExpandedSelection(),this.getDocumentRange())}selectionIsEmpty(){return this.selection==null||C9(this.selection)}getExpandedSelection(){return this.selection!==void 0?{start:this.getLineStart(this.selection.start.line),end:this.expandLineToEnd(this.selection.end.line)}:this.getDocumentRange()}getDocumentRange(){return{start:this.getLineStart(0),end:this.expandLineToEnd(this.doc.lineCount-1)}}getLineStart(t){return{line:t,character:0}}expandLineToEnd(t){return t>this.doc.lineCount-1&&(t=this.doc.lineCount-1),{line:t,character:this.doc.lineAt({line:t,character:0}).text.length}}rangeContainedIn(t,r){return t.start.line<=r.start.line&&t.end.line>=r.end.line}rangeEquals(t,r){return t.start.line==r.start.line&&t.end.line==r.end.line}wrapInTicks(t,r){return new tr([["```"+this.doc.detectedLanguageId,1],[t,r??1],["```",1]])}addLineNumbers(t){let r=this.doc.getText(t).split(`
`),n=this.doc.lineCount.toString().length;return r.map((s,a)=>`${(t.start.line+a+1).toString().padEnd(n," ")}:${s}`).join(`
`)}};function C9(e){return e.start.line==e.end.line&&e.start.character==e.end.character}o(C9,"isEmptyRange");var HMe=et(require("path"));var jMe=I.Object({uri:I.String(),visibleRange:I.Optional(Ca),selection:I.Optional(Ca)}),Vce=class{constructor(t){this.turnContext=t}static{o(this,"CurrentEditorSkillProcessor")}value(){return 1}async processSkill(t){let r=this.turnContext.ctx.get(Dn),n=await r.getOrReadTextDocument(t),i=gs(n);if(await this.turnContext.collectFile(jc,t.uri,i),n.status==="valid"){let s=this.turnContext.conversation.source==="inline",a=new Qg(n.document,t.selection,t.visibleRange),l=r.getRelativePath(n.document);if(i==="empty")return new tr([`The currently open file \`${l}\` is empty.`]);let c=[[`Code excerpt from the currently open file \`${l}\`:`,1],[a.fromAllCode({addLineNumbers:s}),1]],u=[];if(a.selectionIsDocument())u=[["The user is selecting the entire file.",1]];else if(s){let[f,m]=a.fromSelectedCode({trimNewLines:!0}),h=m.start.line+1;if(C9(m))u=[[`The user is selecting line ${h}, which is empty.`,1]];else{let p=m.end.line+1;u=[["The user is selecting"+(h==p?` line ${h}:`:` lines ${h} to ${p} (inclusive):`),1],[f,1]]}}else a.selectionIsEmpty()||(u=[["The user is selecting this code:",1],[a.fromSelectedCode({trimNewLines:!1})[0],1]]);return new tr([...c,...u])}else if(n.status==="invalid")return new tr([`The currently open file \`${HMe.basename(t.uri)}\` is content excluded.`])}},jc="current-editor",xH=class{constructor(t){this._resolver=t;this.id=jc;this.type="explicit"}static{o(this,"CurrentEditorSkill")}description(){return"The code from the user's currently open file"}resolver(){return this._resolver}processor(t){return new Vce(t)}};d();d();var Xa=class{constructor(){this.skills=[]}static{o(this,"ConversationSkillRegistry")}registerSkill(t){if(this.getSkill(t.id))throw new Error(`Skill with id '${t.id}' already registered`);this.skills.push(t)}getSkill(t){return this.skills.find(r=>r.id===t)}getDescriptors(){return[...this.skills]}},$ce=class{constructor(t,r,n){this.delegate=t;this.stepId=r;this.stepTitle=n}static{o(this,"StepReportingSkillResolver")}async resolveSkill(t){await t.steps.start(this.stepId,this.stepTitle);try{let r=await this.delegate.resolveSkill(t);return r||await t.steps.finish(this.stepId),r}catch(r){throw await t.steps.error(this.stepId,r instanceof Error?r.message:`Error resolving ${this.stepTitle}`),r}}},zce=class{constructor(t,r){this.delegate=t;this.stepId=r}static{o(this,"StepReportingSkillProcessor")}value(){return this.delegate.value()}async processSkill(t,r){try{let n=await this.delegate.processSkill(t,r);return await r.steps.finish(this.stepId),n}catch(n){throw await r.steps.error(this.stepId,n instanceof Error?n.message:`Error processing ${this.stepId}`),n}}},Ul=class{constructor(t,r,n,i,s,a="explicit",l=[],c=()=>!0){this.id=t;this._description=r;this.stepTitle=n;this._resolver=i;this._processor=s;this.type=a;this._examples=l;this._isAvailable=c}static{o(this,"SingleStepReportingSkill")}description(){return this._description}examples(){return this._examples}isAvailable(t){return this._isAvailable(t)}resolver(t){return new $ce(this._resolver(t),this.id,this.stepTitle)}processor(t){return new zce(this._processor(t),this.id)}};var VMe=I.Object({name:I.String(),url:I.String()}),$Me=I.Object({path:I.String(),head:I.Optional(I.Object({name:I.String(),upstream:I.Optional(VMe)})),remotes:I.Optional(I.Array(VMe))}),Yce=class{constructor(t){this.turnContext=t}static{o(this,"GitMetadataSkillProcessor")}value(){return .8}processSkill(t){this.turnContext.collectLabel(Mg,"git repository information");let r=[];return r.push([new tr(["Metadata about the current git repository:"]),1]),t.head&&t.head.name?(r.push([new tr([`- Current branch name: ${t.head.name}`]),1]),t.head.upstream&&r.push([new tr([`- Upstream name and url: ${t.head.upstream.name} - ${t.head.upstream.url}`]),1])):r.push([new tr(["- Detached HEAD: yes"]),1]),t.remotes&&t.remotes.length>0&&r.push([new tr([`- Remotes: ${t.remotes.map(n=>n.name).join(", ")}`]),1]),new tr(r)}},Mg="git-metadata",vH=class extends Ul{static{o(this,"GitMetadataSkill")}constructor(t){super(Mg,"Metadata about the current git repository, useful for questions about branch management and git related commands","Reading git information",()=>t,r=>new Yce(r))}};async function zMe(e){let t=await e.skillResolver.resolve(jc);if(t){let a=t.uri,l=Zy(e.ctx,a);if(OCe(l))return{repoInfo:l,skillUsed:jc}}let r=await e.skillResolver.resolve(Mg);if(!r||!r.remotes||r.remotes.length===0){Jr.debug(e.ctx,"Git metadata skill is not available or no remotes available.");return}let i=r.remotes.find(a=>a.name==="origin")??r.remotes[0],s=vZ(i.url);if(s)return{repoInfo:{baseFolder:{uri:r.path},url:i.url,...s},skillUsed:Mg}}o(zMe,"extractRepoInfo");async function YMe(e){let t=[];return await fkt(e,t),await dkt(e,t),await mkt(e,t),t}o(YMe,"skillsToReference");async function fkt(e,t){let r=await hkt(e);r&&t.push(r)}o(fkt,"addRepositoryReference");async function dkt(e,t){let r=await pkt(e);r&&t.push(r)}o(dkt,"addSelectionReference");async function mkt(e,t){let r=[],n=await Akt(e);n&&r.push(n),r.push(...await ykt(e)),r.length>0&&t.push(...r)}o(mkt,"addFileReferences");async function hkt(e){let t=await zMe(e);if(t){let r=e.ctx.get(Lg),n=t.repoInfo.owner,i=t.repoInfo.repo;if(await r.isAvailable(n,i))return{type:"github.repository",id:`${n}/${i}`,data:{type:"repository",name:i,ownerLogin:n,id:(await r.getRepositoryInfo(n,i)).id}}}}o(hkt,"gitMetadataToReference");async function pkt(e){let t=await e.skillResolver.resolve(jc);if(t&&t.selection){let n=await e.ctx.get(Dn).getOrReadTextDocument(t),i=gs(n);if(await e.collectFile(e.turn.agent.agentSlug,t.uri,i,t.selection),n.status==="valid")return gkt(t,n.document)}}o(pkt,"currentEditorToSelectionReference");function gkt(e,t){if(e.selection&&!C9(e.selection)){let r=t.getText(e.selection);return{type:"client.selection",id:e.uri,data:{start:{line:e.selection.start.line,col:e.selection.start.character},end:{line:e.selection.end.line,col:e.selection.end.character},content:r}}}}o(gkt,"extractSelection");async function Akt(e){let t=await e.skillResolver.resolve(jc);if(t){let n=await e.ctx.get(Dn).getOrReadTextDocument(t),i=gs(n);if(await e.collectFile(e.turn.agent.agentSlug,t.uri,i),n.status==="valid")return{type:"client.file",id:n.document.uri,data:{content:n.document.getText(),language:n.document.detectedLanguageId}}}}o(Akt,"currentEditorToFileReference");async function ykt(e){let t=[],r=e.turn.request.references;if(r&&r.length>0){let n=e.ctx.get(Dn);for(let i of r)if(i.type==="file"){let s=await n.getOrReadTextDocument(i),a=gs(s);if(await e.collectFile(e.turn.agent.agentSlug,i.uri,a,i.selection),s.status==="valid"){let l=s.document.getText();t.push({type:"client.file",id:i.uri,data:{content:l,language:s.document.detectedLanguageId}})}}}return t}o(ykt,"fileReferenceToPlatformFileReference");d();d();d();d();var nOe=et(IH()),Xce=et(require("path"));var iOe=500,Skt=Math.floor(.25*iOe),TH=class{static{o(this,"FixedSizeChunking")}async chunk(t,r){let n=[],i=Xce.default.extname(__filename)===".ts"?Xce.default.resolve(__dirname,"../../../../../../dist/main.js"):__filename;return n=await nOe.job(async({text:s,uri:a,tokenizerName:l,directory:c,chunkSize:u,overlap:f})=>{let h=await require(c).getTokenizerAsync(l),p=h.tokenize(s),g=p.length,x=[],v=0;for(;v<g;){let E=v+u>=g,b=E?g:v+u,_=p.slice(v,b),R=h.detokenize(_),P=s.indexOf(R);x.push({id:`${a.toString()}#${v}`,chunk:R,tokenCount:_.length,range:{start:P,end:P+R.length}}),v=E?b:b-f}return x},{data:{text:t.getText(),uri:t.uri.toString(),tokenizerName:r.tokenizer,directory:i,chunkSize:iOe,overlap:Skt}}),n}};var kkt="fixedSize",Rkt=new Map([["fixedSize",TH]]);function oOe(e){let t=e==="default"?kkt:e,r=Rkt.get(t);if(!r)throw new Error(`Chunking constructor for type ${e} not found`);return r}o(oOe,"getChunkingAlgorithm");d();d();var wH=et(Iy()),HA=et(require("fs")),sOe=require("os"),Ph=et(require("path")),x9=require("process");var e0e=5e4,Bkt=new Vt("workspaceChunks"),_H=class e{constructor(t,r){this.ctx=t;this.pathHashLength=8;let n=Di(r.uri),i=(0,wH.SHA256)(r.uri).toString().substring(0,this.pathHashLength);this.cacheRootPath=Ph.join(Dkt(),"project-context",`${n}.${i}`)}static{o(this,"WorkspaceChunks")}static{this.CACHE_VERSION="1.0.0"}getChunksCacheFile(t){let r=(0,wH.SHA256)(t).toString().substring(0,this.pathHashLength),n=Ph.basename(t);return Ph.join(this.cacheRootPath,`${n}.${r}.json`)}async getChunksCacheFromCacheFile(t){let r=await HA.promises.readFile(t,{encoding:"utf8"}).catch(()=>{});if(r)try{return JSON.parse(r)}catch{}}async getChunksCache(t){let r=this.getChunksCacheFile(t);return await this.getChunksCacheFromCacheFile(r)}async setChunksCache(t,r){let n=this.getChunksCacheFile(t);try{await HA.promises.mkdir(Ph.dirname(n),{recursive:!0}),await HA.promises.writeFile(n,JSON.stringify(r),{encoding:"utf8"})}catch(i){Bkt.debug(this.ctx,"Failed to set chunks cache:",i)}}async removeChunksCache(t){let r=this.getChunksCacheFile(t);await HA.promises.rm(r).catch(()=>{})}async enumerateChunksCacheFileNames(){return await HA.promises.readdir(this.cacheRootPath).catch(()=>[])}async getFilesCount(){return(await this.enumerateChunksCacheFileNames()).length}async getChunksCount(){let t=0;for await(let r of this.getChunks())t++;return t++}async*getChunksForFile({uri:t}){let r=await this.getChunksCache(t);r!==void 0&&(yield*r.documentChunks)}async*getChunksFromCacheFile(t){let r=await this.getChunksCacheFromCacheFile(t);yield*r?r.documentChunks:[]}async*getChunks(t){if(t!==void 0)yield*this.getChunksForFile(t);else{let r=await this.enumerateChunksCacheFileNames();for(let n of r)yield*this.getChunksFromCacheFile(Ph.join(this.cacheRootPath,n))}}async getFileHash(t){let r=Mo(t),n="";return r&&(n=await HA.promises.readFile(r,{encoding:"utf8"}).catch(()=>"")),(0,wH.SHA256)(n).toString()}async addChunks({uri:t},r){let n=await this.getFileHash(t),i=await this.getChunksCache(t);if(i!==void 0&&i.hash===n&&i.version===e.CACHE_VERSION)return;let s={version:e.CACHE_VERSION,filePath:t,hash:n,documentChunks:r};await this.setChunksCache(t,s)}async deleteChunksForSource(t){let r=sl(t),n=await this.getChunksCache(r);return n===void 0?[]:(await this.removeChunksCache(r),n.documentChunks)}async deleteChunks({uri:t}){let r=Mo(t);if(!r)return[];let n;try{n=await HA.promises.readdir(r)}catch{return await this.deleteChunksForSource(r)}let i=[];for(let s of n){let a=sl(Ph.join(r,s));i.push(...await this.deleteChunks({uri:a}))}return i}async clear(){await HA.promises.rm(this.cacheRootPath,{recursive:!0}).catch(()=>{})}};function Dkt(){return x9.env.XDG_CACHE_HOME&&Ph.isAbsolute(x9.env.XDG_CACHE_HOME)?x9.env.XDG_CACHE_HOME+"/github-copilot":(0,sOe.platform)()==="win32"?x9.env.USERPROFILE+"\\AppData\\Local\\Temp\\github-copilot":x9.env.HOME+"/.cache/github-copilot"}o(Dkt,"getXdgCachePath");var t0e=1e4;var SH=class{constructor(t,r,n){this.workspaceFolder=r;this.implementation=n;this._chunkLimiter=new n0e;this.status="notStarted",this.workspaceChunks=new _H(t,r),this.cancellationToken=new r0e,this._chunkingTimeMs=0,this._fileCountExceeded=!1,this._chunkCountExceeded=!1,this._totalFileCount=0,this._filesUpdated=new Set}static{o(this,"ChunkingHandler")}async chunk(t,r){return r?await this.chunkFiles(t,r):await this.chunkWorkspace(t)}async chunkWorkspace(t){let r=performance.now();if(this.status="started",this.cancellationToken.isCancelled())return this.status="cancelled",this.updateChunkingTime(r,performance.now()),this.workspaceChunks.getChunks();await this.updateModelConfig(t);let n=await t.get(Wc).getWatchedFiles(this.workspaceFolder);this._totalFileCount=n.length,n.length>t0e&&(this._fileCountExceeded=!0,n=n.slice(0,t0e));let i=n.map(async s=>{this.cancellationToken.isCancelled()||await this._chunkLimiter.queue(()=>this._chunk(t,s))});try{await Promise.all(i)}catch(s){xa(t,s,"ChunkingProvider.chunk"),this.terminateChunking()}return this.status=this.cancellationToken.isCancelled()?"cancelled":"completed",this.updateChunkingTime(r,performance.now()),await this.workspaceChunks.getChunksCount()>e0e&&(this._chunkCountExceeded=!0),this.workspaceChunks.getChunks()}async chunkFiles(t,r){await this.updateModelConfig(t);let n=r.map(async i=>{this.cancellationToken.isCancelled()||(this._filesUpdated.add(i.uri),await this._chunkLimiter.queue(()=>this._chunk(t,i)))});try{await Promise.all(n)}catch(i){xa(t,i,"ChunkingProvider.chunkFiles"),this.terminateChunking()}return await this.workspaceChunks.getChunksCount()>e0e&&(this._chunkCountExceeded=!0),await this.workspaceChunks.getFilesCount()>t0e&&(this._fileCountExceeded=!0),jbe(...r.map(i=>this.workspaceChunks.getChunks(i)))}async _chunk(t,r){if(this.cancellationToken.isCancelled())return;let n=await this.implementation.chunk(r,this.modelConfig);await this.workspaceChunks.addChunks(r,n)}async updateModelConfig(t){this.modelConfig||(this.modelConfig=await t.get(ui).getBestChatModelConfig(ms("user")))}terminateChunking(){this.cancellationToken.cancel()}async clearChunks(){await this.workspaceChunks.clear()}updateChunkingTime(t,r){this._chunkingTimeMs=r-t}get chunkingTimeMs(){return Math.floor(this._chunkingTimeMs)}get fileCountExceeded(){return this._fileCountExceeded}get totalFileCount(){return this._totalFileCount}get chunkCountExceeded(){return this._chunkCountExceeded}get filesUpdatedCount(){return this._filesUpdated.size}async getFilesCount(){return this.workspaceChunks.getFilesCount()}getChunks(){return this.workspaceChunks.getChunks()}async getChunksCount(){return this.workspaceChunks.getChunksCount()}deleteSubfolderChunks(t){return this.workspaceChunks.deleteChunks({uri:t})}deleteFileChunks(t){return this._filesUpdated.add(t),this.workspaceChunks.deleteChunks({uri:t})}},r0e=class{constructor(){this.cancelled=!1}static{o(this,"ChunkingCancellationToken")}cancel(){this.cancelled=!0}isCancelled(){return this.cancelled}},n0e=class{constructor(t=20){this.maxCount=t;this.tasks=[];this.runningTasks=0}static{o(this,"Limiter")}async queue(t){return new Promise((r,n)=>{this.tasks.push({factory:t,resolve:r,reject:n}),this.consume()})}consume(){for(;this.tasks.length>0&&this.runningTasks<=this.maxCount;){let{factory:t,resolve:r,reject:n}=this.tasks.shift();this.runningTasks++;let i=t();i.then(r,n),i.then(()=>this.consumed(),()=>this.consumed())}}consumed(){this.runningTasks--,this.consume()}};var ua=class{constructor(t){this.ctx=t;this.workspaceChunkingProviders=new Map}static{o(this,"ChunkingProvider")}get workspaceCount(){return this.workspaceChunkingProviders.size}createImplementation(t,r){let n=oOe(r),i=new n;return new SH(this.ctx,t,i)}getImplementation(t,r="default"){let n=this.getParentFolder(t);if(n)return this.workspaceChunkingProviders.get(n.uri);let i=this.workspaceChunkingProviders.get(t.uri);return i||(i=this.createImplementation(t,r),this.workspaceChunkingProviders.set(t.uri,i)),i}getParentFolder(t){let r=[];for(let n of this.workspaceChunkingProviders.values())r.push(n.workspaceFolder);return r.find(n=>{let i=n.uri.replace(/[#?].*/,"").replace(/\/?$/,"/");return t.uri!==n.uri&&t.uri.startsWith(i)})}status(t){return this.getImplementation(t).status}checkLimits(t){let r=this.getImplementation(t);return{fileCountExceeded:r.fileCountExceeded,chunkCountExceeded:r.chunkCountExceeded}}fileCount(t){return this.getImplementation(t).getFilesCount()}chunkCount(t){return this.getImplementation(t).getChunksCount()}chunkingTimeMs(t){return this.getImplementation(t).chunkingTimeMs}getChunks(t){return this.getImplementation(t).getChunks()}terminateChunking(t,r){let n=this.getImplementation(r);n.terminateChunking();let s=cn.createAndMarkAsIssued().extendedBy(void 0,{fileCount:n.filesUpdatedCount});jt(t,"index.terminate",s),this.workspaceChunkingProviders.delete(r.uri)}async clearChunks(t,r){this.terminateChunking(t,r),await this.getImplementation(r).clearChunks()}async deleteSubfolderChunks(t,r){return await this.getImplementation(t).deleteSubfolderChunks(r.uri)}async deleteFileChunks(t,r){let n=this.getImplementation(t),i=[];Array.isArray(r)||(r=[r]);for(let s of r)i.push(...await n.deleteFileChunks(s));return i}async chunk(t,r,n,i){let s;return n&&(Array.isArray(n)?s=n:i=n),i||(i="default"),s?await this.chunkFiles(t,r,s,i):await this.chunkFolder(t,r,i)}async chunkFolder(t,r,n="default"){let i=this.getImplementation(r,n),s=await i.chunk(t),l=cn.createAndMarkAsIssued().extendedBy(void 0,{fileCount:i.totalFileCount,chunkCount:await i.getChunksCount(),timeTakenMs:i.chunkingTimeMs,workspaceCount:this.workspaceCount});return jt(t,"index.chunk",l),s}async chunkFiles(t,r,n,i="default"){return await this.getImplementation(r,i).chunk(t,n)}};d();d();d();d();d();function RH(e){switch(e){case"Agent":return"Agent";case"Ask":default:return"Ask"}}o(RH,"toChatModeEnum");var BC=class{constructor(t,r){this.request=t;this.telemetryId=Ir();this.timestamp=Date.now();this.status="in-progress";this.skills=[];this.ignoredSkills=[];this.annotations=[];this.id=r??this.telemetryId}static{o(this,"Turn")}},kH=class e{constructor(t=[],r="panel",n="en",i){this.turns=t;this.source=r;this.userLanguage=n;this._telemetryId=Ir();this._timestamp=Date.now();this.id=i??this.telemetryId}static{o(this,"Conversation")}copy(){let t=JSON.parse(JSON.stringify(this.turns)),r=new e(t,this.source,this.userLanguage,this.id);return r._telemetryId=this.telemetryId,r._timestamp=this.timestamp,r}get telemetryId(){return this._telemetryId}get timestamp(){return this._timestamp}addTurn(t){this.turns.push(t)}deleteTurn(t){this.turns=this.turns.filter(r=>r.id!==t)}getLastTurn(){return this.turns[this.turns.length-1]}findTurn(t){return this.turns.find(r=>r.id===t)}};d();d();d();var aOe={id:0,start_offset:0,stop_offset:0,type:"ip_code_citations",details:{},citations:{snippet:`html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Canvas Example</title>
<`,url:"https://github.com/duonghle285/gnoud9x.github.io/tree/c95127bc5b7a491d9223f21ac3b8c5100996e754/26062020-vehinhchunhat%2Findex.html",ip_type:"LICENSE",license:"NOASSERTION"}},lOe="Alright, This response contains a code citation.";d();var cOe=`
# Should render

## Links
Links should render. However, if a user clicks on the link, it should open a confirmation dialog before navigating to the link. 

markdown:

[GitHub Copilot](https://copilot.github.com)

html:

<a href="https://copilot.github.com">GitHub Copilot</a>

## Images
The following images do come from one of these sources and should render:

- \`raw.githubusercontent.com/\`
- \`private-user-images.githubusercontent.com/\`
- \`avatars.githubusercontent.com\`
- \`gist.github.com/assets/\`


markdown:

![logo](https://avatars.githubusercontent.com/u/147005046?v=4)

html:

<img src="https://avatars.githubusercontent.com/u/147005046?v=4" alt="logo"/>

## Headers

markdown:

# Header 1
## Header 2
### Header 3
#### Header 4
##### Header 5
###### Header 6

html:

<h1>Header 1</h1>
<h2>Header 2</h2>
<h3>Header 3</h3>
<h4>Header 4</h4>
<h5>Header 5</h5>
<h6>Header 6</h6>

## Paragraphs

html:

<p>This is a paragraph.</p>

## Bold

markdown:

**bold text**

html:

<strong>bold text</strong>

## Italic

markdown:

_italic text_

html:

<i>italic text</i>

## Codeblock

markdown:

\`\`\`javascript
console.log('Hello, World!');
\`\`\`

html:

<code>console.log('Hello, World!');</code>

## Unordered List

markdown:

- item 1
- item 2
- item 3

html:

<ul>
  <li>item 1</li>
  <li>item 2</li>
  <li>item 3</li>
</ul>

## Ordered List

markdown:

1. item 1
2. item 2
3. item 3

html:

<ol>
  <li>item 1</li>
  <li>item 2</li>
  <li>item 3</li>
</ol>

## Table

markdown:

| Header 1 | Header 2 | Header 3 |
|----------|----------|----------|
| cell 1   | cell 2   | cell 3   |
| cell 4   | cell 5   | cell 6   |

html:

<table>
    <thead>
        <tr>
            <th>Header 1</th>
            <th>Header 2</th>
            <th>Header 3</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>cell 1</td>
            <td>cell 2</td>
            <td>cell 3</td>
        </tr>
        <tr>
            <td>cell 4</td>
            <td>cell 5</td>
            <td>cell 6</td>
        </tr>
    </tbody>
</table>

## Blockquote

markdown:

> This is a blockquote.

html:

<blockquote>This is a blockquote.</blockquote>


# Should not render

## html tags
Unsupported tags like \`<div>\` should not render but should be escaped. This code:

\`\`\`html
<div><ul><li>Foo</li></ul><img src="https://github.com/images/modules/site/copilot/productivity-bg-head.png" alt="productivity" width="20"/>
\`\`\`

should be rendered as:

\`\`\`html
<div>
* Foo
<img src="https://github.com/images/modules/site/copilot/productivity-bg-head.png" alt="productivity" width="20"/>
\`\`\`

code:

<div><ul><li>Foo</li></ul><img src="https://github.com/images/modules/site/copilot/productivity-bg-head.png" alt="productivity" width="20"/></div>

## images
The following images do *not* come from one of the trusted domains and should not render.

markdown:

![productivity](https://github.com/images/modules/site/copilot/productivity-bg-head.png)

html:

<img src="https://github.com/images/modules/site/copilot/productivity-bg-head.png" alt="productivity" width="100"/>

## Invisible characters

### Inline styles
Styled elements should not be rendered styled. This may trick the user to think elements are actually IDE controls

<p style="color: red;">This is an <span style="display: none;">harmfully</span> styled text!</p>

### html attributes
Only img src/alt and a href attributes should make it to the dom. 

The following paragraph should not render the \`id\` attribute in the dom.

<p id="foo">This is a paragraph with an id</p>
`;d();d();var uOe=et(require("fs")),I0=et(require("path"));var i0e=[".test",".spec","_test","Test","_spec","_test","Tests",".Tests","Spec"],o0e="test_",nR={js:{suffix:[".test",".spec"],location:"sameFolder"},ts:{suffix:[".test",".spec"],location:"sameFolder"},go:{suffix:["_test"],location:"sameFolder"},java:{suffix:["Test"],location:"testFolder"},php:{suffix:["Test"],location:"testFolder"},dart:{suffix:["_test"],location:"testFolder"},cs:{suffix:["Test"],location:"testFolder"},rb:{suffix:["_test","_spec"],location:"testFolder"},py:{prefix:"test_",location:"testFolder"},ps1:{suffix:[".Tests"],location:"testFolder"},kt:{suffix:["Test"],location:"testFolder"}},iR=class{constructor(t,r,n=void 0){this.ctx=t;this.fileExists=r;this.baseUri=n}static{o(this,"TestFileFinder")}async findTestFileForSourceFile(t){let r=Di(t),n=I0.extname(r).replace(".",""),i=nR[n]??{location:"sameFolder",prefix:o0e,suffix:i0e},s=[];if(i.prefix&&s.push(i.prefix+r),i.suffix)for(let u of i.suffix??[]){let f=r.replace(`.${n}`,u+"."+n);s.push(f)}let a=i.location??"sameFolder",l;if(a==="sameFolder"){if(l=Mo(ju(t)),l===void 0)return}else{let u=Mo(t);if(u===void 0)return;l=this.determineTestFolder(u,a)}for(let u of s){let f=I0.join(l,u),m=this.parseTestFilePath(f);if(m&&await this.fileExists(m))return m}let c=sl(l);if(await this.fileExists(c))return Fo(c,s[0])}parseTestFilePath(t){try{return sl(t)}catch(r){Jn.error(this.ctx,`Failed to parse test file path: ${t}`,r);return}}async findImplFileForTestFile(t){let r=Di(t),n=I0.extname(r).replace(".",""),i=nR[n]??{location:"sameFolder",prefix:o0e,suffix:i0e},s=[];if(i.prefix&&s.push(r.substring(i.prefix.length)),i.suffix)for(let c of i.suffix??[]){let f=r.substring(0,r.length-c.length-1-n.length)+"."+n;s.push(f)}let a=i.location??"sameFolder",l;a==="sameFolder"?l=ju(t):l=this.determineImplFolder(t);for(let c of s){let u=Fo(l,c);if(await this.fileExists(u))return u}}findExampleTestFile(t){let r=Mo(t);if(r===void 0)return;let n=I0.extname(Di(t)).replace(".",""),i,s=nR[n]?.location??"sameFolder";s==="sameFolder"?i=I0.dirname(r):i=this.determineTestFolder(r,s);let a=this.findFiles(i,`.${n}`,nR[n]);if(a.length>0)return sl(a[0])}findFiles(t,r,n){let i=this._readdir(t),s=[];for(let a of i){let l=`${t}${I0.sep}${a}`;n?.prefix&&a.startsWith(n.prefix)&&s.push(l),n?.suffix&&n?.suffix.some(c=>a.endsWith(c+r))&&s.push(l)}return s}_readdir(t){return uOe.readdirSync(t,{withFileTypes:!0}).filter(r=>r.isFile()).map(r=>r.name)}determineTestFolder(t,r){let n=(this.baseUri&&Mo(this.baseUri))??"",i=I0.extname(t).replace(".",""),s=this.getRelativeTestFolder(t,n,i,r);return[n,...s].filter(a=>a).join(I0.sep)}getRelativeTestFolder(t,r,n,i){let s=I0.dirname(t).replace(r,"");switch(n){case"php":case"dart":case"py":return["tests"];case"ps1":return["Tests"];case"rb":return["test",s];case"cs":return[s.replace("src","src/tests")];case"java":case"scala":case"kt":return[s.replace(/src[\\/]main/,"src/test")];default:return i==="testFolder"?[s.replace("src","test")]:[s]}}determineImplFolder(t){let r=I0.extname(Di(t)).replace(".",""),n=ju(t);switch(r){case"php":case"dart":case"py":return n.replace("tests","src");case"ps1":return n.replace("Tests","src");case"rb":return n.replace("/test","");case"cs":return n.replace("src/tests","src");case"java":case"scala":case"kt":return n.replace("src/test","src/main");default:return n.replace("test/","src/")}}};function oR(e){let t=Di(e),r=I0.extname(t),n=nR[r.replace(".","")];return n?!(n.suffix&&!n.suffix.some(s=>t.endsWith(s+r))||n.prefix&&!t.startsWith(n.prefix)):!!(i0e.some(s=>t.endsWith(s+r))||t.startsWith(o0e))}o(oR,"isTestFile");d();var fOe=["indexed","indexing","not_indexed"],Pkt="copilot_internal/check_indexing_status",DC=class{constructor(){this._cache=new In(100)}static{o(this,"BlackbirdIndexingStatus")}async queryIndexingStatus(t,r,n){let i=t.ctx;if(!n)return!1;let s=i.get(On).getApiUrl(n,Pkt),a=new URL(s);a.searchParams.set("nwo",r);let l={Authorization:`token ${n.accessToken}`},c=await i.get(Or).fetch(a.href,{method:"GET",headers:l});if(!c.ok)return!1;let u=await c.json();return u.docs_status==="indexed"||u.code_status==="indexed"}isValid(t){return t!==void 0&&Date.now()-t.timestamp<30*60*1e3}async isRepoIndexed(t,r,n,i=!1){let s=q1(r);if(!s)return!1;let a=this._cache.get(s);if(!i&&this.isValid(a))return a.status;let l=await this.queryIndexingStatus(t,s,n);return this._cache.set(s,{status:l,timestamp:Date.now()}),l}get cache(){return this._cache}};d();d();d();async function dOe(e,t,r,n){let i=go(t.tokenizer),s=r.filter(m=>i.tokenLength(m.text)<t.maxTokens);if(s.length===0)return;let a=[],l=await e.get(Xr).getToken(),c=mI(e,l,"embeddings"),u=l.token,f=0;for(;f<s.length&&!n.isCancellationRequested;){let m=s.slice(f,f+t.maxBatchSize),h=await Fkt(e,c,u,t.modelId,m,n);a.push(...h||[]),f+=t.maxBatchSize}return a.length?a:void 0}o(dOe,"fetchEmbeddings");async function Fkt(e,t,r,n,i,s){let a=Ir(),l=i.map(u=>u.text),c=await K3(e,t,r,void 0,a,{input:l,model:n,dimensions:1024},s,zy(e));if(c.status!==200||s.isCancellationRequested){xa(e,new jA(`Failed to request dense embeddings, status: ${c.status}`),"LocalSnippetProvider.fetchEmbeddings");return}try{return(await c.json()).data.map(f=>({id:i[f.index].id,embedding:f.embedding}))}catch{return}}o(Fkt,"sendEmbeddingsRequest");d();d();var BH=class{static{o(this,"CosineSimilarityScoring")}score(t,r){let n=Math.sqrt(t.reduce((a,l)=>a+l*l,0)),i=Math.sqrt(r.reduce((a,l)=>a+l*l,0));return t.reduce((a,l,c)=>a+l*r[c],0)/(n*i)}terminateScoring(){}};var Nkt="cosine",Lkt=new Map([["cosine",BH]]);function mOe(e){let t=e==="default"?Nkt:e,r=Lkt.get(t);if(!r)throw new Error(`Scoring constructor for type ${e} not found`);return r}o(mOe,"getScoringAlgorithm");d();var Pf=class{constructor(){this.workspaceScoringProviders=new In(25)}static{o(this,"ScoringProvider")}createImplementation(t,r){let n=mOe(r);return new n}getImplementation(t,r,n="default"){let i=this.workspaceScoringProviders.get(r.uri);return i||(i=this.createImplementation(t,n),this.workspaceScoringProviders.set(r.uri,i)),i}score(t,r,n,i,s){return this.getImplementation(t,r,s).score(n,i)}terminateScoring(t,r,n){this.getImplementation(t,r,n).terminateScoring(),this.workspaceScoringProviders.delete(r.uri)}};var hOe={modelFamily:aN.textEmbedding3Small,scoringType:"default",dimensions:null};async function pOe(e,t,r,n,i,s,a,l=hOe){let c={...hOe,...l},u=Mkt(e,t,r,n);Jr.debug(e,`EmbeddingsReranker: Reranking ${u.length} snippets (includes the user query)`);let f=await e.get(ui).getFirstMatchingEmbeddingModelConfiguration(c.modelFamily);if(f===void 0)throw new Error(`EmbeddingsReranker: Model configuration not found for ${c.modelFamily}`);let m=performance.now(),h=await dOe(e,f,u,s),p=performance.now();if(a.embeddingsTimeMs=Math.floor(p-m),h===void 0||h.length===0)return[];let g=h.findIndex(P=>P.id==="userQuery");if(g===void 0)return[];let x=h.splice(g,1)[0];if(s.isCancellationRequested)return[];let v=performance.now(),E=Okt(e,t,h,x,c.scoringType),b=performance.now();a.rerankingTimeMs=Math.floor(b-v);let _=E.slice(0,i);return Jr.debug(e,`EmbeddingsReranker: Returning ${_.length} snippets`),_.map(P=>u.find(F=>F.id===P.id).id)}o(pOe,"rerankSnippets");function Mkt(e,t,r,n){let i=n.map(s=>({id:s.id,text:s.chunk.toLowerCase()}));return i.push({id:"userQuery",text:r.toLowerCase()}),i}o(Mkt,"formatEmbeddingsInput");function Okt(e,t,r,n,i){let s=e.get(Pf);return r.map(l=>({id:l.id,score:s.score(e,t,n.embedding,l.embedding,i)})).sort((l,c)=>c.score-l.score)}o(Okt,"scoreEmbeddings");d();d();d();var a0e=et(IH());var Ukt=.75,qkt=1.2,Wkt=47,DH=class{constructor(t,r){this.ctx=t;this.workspaceFolder=r;this.chunksCount=0;this.sumTokenCount=0;this.status="notStarted"}static{o(this,"BM25Ranking")}get avgTokenCount(){return this.sumTokenCount/this.chunksCount}async initialize(t){this.sumTokenCount=0,this.chunksCount=0;for await(let r of t)this.sumTokenCount+=r.tokenCount,this.chunksCount++;this.status="completed"}async addChunks(t){for await(let r of t)this.sumTokenCount+=r.tokenCount,this.chunksCount++}async query(t){let r=await PH();try{return await this.doQuery(t)}finally{await r.stopWorkerPool()}}async doQuery(t){let r=t.map(l=>l.toLowerCase()),n=await this.calculateIDFValues(r),i=Math.min(10*t.length,Wkt),s=Math.min(i,this.chunksCount);return await this.calculateBM25Scores(r,this.avgTokenCount,n,s)}async calculateIDFValues(t){let r=this.ctx.get(ua).getChunks(this.workspaceFolder),n=K1(r,s=>({...s,chunk:s.chunk.toLowerCase()})),i=K1(n,s=>s.chunk);return await Gkt(t,i)}async calculateBM25Scores(t,r,n,i){let s=this.ctx.get(ua).getChunks(this.workspaceFolder),a=new s0e(i);for await(let l of s){let c=await Hkt({...l,chunk:l.chunk.toLowerCase()},t,r,n);a.add({...c,chunk:l.chunk})}return a.toArray(.75)}deleteEmbeddings(t){this.chunksCount-=t.length,this.sumTokenCount-=t.reduce((r,n)=>r+n.tokenCount,0)}terminateRanking(){}};async function Gkt(e,t){let r=new SharedArrayBuffer(e.length*Int32Array.BYTES_PER_ELEMENT),n=new Int32Array(r),i=[],s=0;for await(let c of t){s++;let u=a0e.job(({snippet:f,keywords:m})=>m.map(p=>f.includes(p)?1:0),{data:{snippet:c,keywords:e}}).then(f=>{for(let m=0;m<e.length;m++)Atomics.add(n,m,f[m])});i.push(u)}await Promise.all(i);let a=new Int32Array(r),l={};for(let c=0;c<e.length;c++)l[e[c]]=Math.log((s-a[c]+.5)/(a[c]+.5)+1);return l}o(Gkt,"calculateIDFValues");async function Hkt(e,t,r,n){return{score:await a0e.job(({keywords:s,document:a,docLength:l,avgTokenCount:c,idfValues:u,k1:f,b:m})=>{let h=0;for(let p of s){let g=u[p],x=(a.match(new RegExp(p,"g"))||[]).length,v=g*(x*(f+1)),E=x+f*(1-m+m*l/c);h+=v/E}return h},{data:{document:e.chunk,docLength:e.tokenCount,keywords:t,avgTokenCount:r,idfValues:n,k1:qkt,b:Ukt}}),...e}}o(Hkt,"calculateBM25Score");var s0e=class{constructor(t,r=-1/0){this.maxSize=t;this.minScore=r;this.store=[]}static{o(this,"SimpleHeap")}toArray(t){if(this.store.length&&typeof t=="number"){let r=this.store.at(0).score*(1-t);return this.store.filter(n=>n.score>=r)}return this.store}add(t){if(t.score<=this.minScore)return;let r=this.store.findIndex(n=>n.score<t.score);for(this.store.splice(r>=0?r:this.store.length,0,t);this.store.length>this.maxSize;)this.store.pop();this.store.length===this.maxSize&&(this.minScore=this.store.at(-1)?.score??this.minScore)}};var Vkt="bm25",$kt=new Map([["bm25",DH]]);function gOe(e){let t=e==="default"?Vkt:e,r=$kt.get(t);if(!r)throw new Error(`Ranking constructor for type ${e} not found`);return r}o(gOe,"getRankingAlgorithm");var hc=class{constructor(){this.workspaceRankingProviders=new In(25)}static{o(this,"RankingProvider")}createImplementation(t,r,n){let i=gOe(n);return new i(t,r)}getImplementation(t,r,n="default"){let i=this.workspaceRankingProviders.get(r.uri);return i||(i=this.createImplementation(t,r,n),this.workspaceRankingProviders.set(r.uri,i)),i}status(t,r,n){return this.getImplementation(t,r,n).status}async initialize(t,r,n,i="default"){await this.getImplementation(t,r,i).initialize(n)}async addChunks(t,r,n,i="default"){await this.getImplementation(t,r,i).addChunks(n)}async query(t,r,n,i){return this.getImplementation(t,r,i).query(n)}async terminateRanking(t,r,n){await this.getImplementation(t,r,n).terminateRanking(),this.workspaceRankingProviders.delete(r.uri)}deleteEmbeddings(t,r,n,i){return this.getImplementation(t,r,i).deleteEmbeddings(n)}};d();async function AOe(e,t){let r=e.ctx,n=await r.get(ui).getBestChatModelConfig(ms("synonyms"),{tool_calls:!0}),i={promptType:"synonyms",modelConfiguration:n},s=await r.get(pc).toPrompt(e,i);if(!s.toolConfig)return;let a={modelConfiguration:n,uiKind:"conversationPanel",messages:s.messages,tools:s.toolConfig?.tools,tool_choice:s.toolConfig?.tool_choice,llmInteraction:e.toLlmInteraction()},l=new ka(r),c=await a0(r,e),u=await l.fetchResponse(a,t,c.extendedBy({messageSource:"chat.synonyms"}));if(u.type==="success"&&u.toolCalls&&u.toolCalls.length>0){let f=u.toolCalls[0],m=s.toolConfig?.extractArguments(f).keywords;return!m||!Array.isArray(m)?void 0:(Jr.debug(r,`UserQueryParser: Parsed ${m.length} keywords from the original user query: ${m.join(", ")}`),m.length?m:void 0)}else{let f="reason"in u?u.reason:"";xa(r,new jA(`Failed to request user query synonyms, result type: ${u.type}, reason: ${f}`),"LocalSnippetProvider.parseUserQuery")}}o(AOe,"parseUserQuery");var yOe=et(Df());var jA=class extends Error{static{o(this,"LocalSnippetProviderError")}constructor(t){super(String(t),{cause:t}),this.name="LocalSnippetProviderError"}},FH=class{constructor(){this.providerType="local"}static{o(this,"LocalSnippetProvider")}snippetProviderStatus(t,r){if(!t.turn.workspaceFolder)return Promise.resolve("not_indexed");r===void 0&&(r=!0);let n=t.ctx,i=n.get(ua),s=i.status(t.turn.workspaceFolder),a=n.get(hc),l=a.status(n,t.turn.workspaceFolder);if(s==="completed"&&l==="completed")return Promise.resolve("indexed");if(s==="started"||l==="started")return Promise.resolve("indexing");if(r){let c=t.turn.workspaceFolder;if(s==="notStarted")return Promise.race([i.chunk(n,c).then(u=>{if(i.status(c)==="completed")return a.initialize(n,c,u)}).then(()=>this.snippetProviderStatus(t,!1)),new Promise(u=>setTimeout(()=>u("not_indexed"),1e3))]);if(l==="notStarted"){let u=i.getChunks(c);return Promise.race([a.initialize(n,c,u).then(()=>this.snippetProviderStatus(t,!1)),new Promise(f=>setTimeout(()=>f("not_indexed"),1e3))])}}return Promise.resolve("not_indexed")}async collectLocalSnippets(t,r){let n=t.turn.workspaceFolder;if(!n)return[];let i=t.ctx,a=await i.get(ua).chunkCount(n);if(a===0)return[];r.chunkCount=a;let l,c=performance.now();try{l=await AOe(t,t.cancelationToken)}catch(g){let x=new jA(g);xa(i,x,"LocalSnippetProvider.parseUserQuery")}let u=performance.now();if(r.synonymTimeMs=Math.floor(u-c),l===void 0)return[];let f=i.get(hc),m=[],h=performance.now();try{let g=await f.query(i,n,l);r.localSnippetCount=g.length,m=g}catch(g){let x=new jA(g);xa(i,x,"LocalSnippetProvider.rankingQuery")}let p=performance.now();return r.rankingTimeMs=Math.floor(p-h),m}async rerankLocalSnippets(t,r,n){let i=t.turn.workspaceFolder;if(!i)return[];let s=t.ctx,a=an(t.turn.request.message),l=[];try{l=await pOe(s,i,a,r,5,t.cancelationToken,n)}catch(f){let m=new jA(f);xa(s,m,"LocalSnippetProvider.rerankSnippets")}let c=[],u=s.get(Dn);for(let f of l){let m=f.split("#")[0],h=await u.getOrReadTextDocument({uri:m}),p=r.find(g=>g.id===f);if(h.status==="valid"){let g=h.document.positionAt(p.range.start),x=h.document.positionAt(p.range.end),v=No.range(g,x);c.push({uri:h.document.uri,range:v,snippet:p.chunk})}}return c}async provideSnippets(t){let r=this.collectInfoMessage(t);r&&await t.info(r);let n={...Kbe},i=await this.collectLocalSnippets(t,n);if(i.length===0)return{snippets:[],measurements:n};let s=t.ctx;return Jr.debug(s,`LocalSnippetProvider: First pass: Found ${i.length} snippets.`),{snippets:await this.rerankLocalSnippets(t,i,n),measurements:n}}collectInfoMessage(t){let r=t.turn.workspaceFolder;if(!r)return;let s=t.ctx.get(ua).checkLimits(r);if(s.fileCountExceeded||s.chunkCountExceeded)return yOe.default`
Copilot has partially indexed this project as it exceeds the file limit. As a result, responses may have incomplete context. Consider excluding large, less relevant files or folders (e.g., large CSV files) to improve accuracy.
`}};var xOe=et(COe()),QH=et(IH()),vOe=et(require("os")),bOe=et(Df());var Kkt=Math.max(vOe.cpus().length-1,1),sR=class e{constructor(){this.isActive=!0}static{o(this,"WorkerPoolToken")}static{this.workerPoolStarted=!1}static{this.activeProcessCount=0}static{this.allTokens=[]}static{this.lock=new xOe.default}static async startWorkerPool(){await e.lock.acquireAsync();try{e.workerPoolStarted||(e.workerPoolStarted=!0,await QH.start({maxWorkers:Kkt})),e.activeProcessCount++;let t=new e;return e.allTokens.push(t),t}finally{e.lock.release()}}async stopWorkerPool(){if(this.isActive){await e.lock.acquireAsync();try{this.isActive&&(this.isActive=!1,e.activeProcessCount--,e.activeProcessCount==0&&(await QH.stop(),e.workerPoolStarted=!1),e.allTokens.includes(this)&&e.allTokens.splice(e.allTokens.indexOf(this),1))}finally{e.lock.release()}}}static async forceStopWorkerPool(){let t=e.allTokens[Symbol.iterator]();for(let r of t)await r.stopWorkerPool();e.workerPoolStarted=!1,e.activeProcessCount=0}},PH=sR.startWorkerPool.bind(sR);var J5n=I.Object({uri:I.String(),snippet:I.String(),range:I.Object({start:I.Object({line:I.Number(),character:I.Number()}),end:I.Object({line:I.Number(),character:I.Number()})})}),u0e=class{constructor(t){this.turnContext=t}static{o(this,"ProjectContextSkillProcessor")}value(){return 1}async processSkill(t){if(this.turnContext.cancelationToken.isCancellationRequested){await this.turnContext.steps.cancel(v9);return}let r=[],n=this.turnContext.ctx.get(Dn),i=this.removeDuplicateSnippets(t);for(let s of i){let{uri:a,snippet:l,range:c}=s,u=await n.getOrReadTextDocument(s);if(u.status==="valid"){let f=new Qg(u.document,c,c),m=new tr([l]),p=oR(a)?.5:.8;r.push([`Code excerpt from file \`${Mo(a)}\`:`,1],[f.wrapInTicks(m,p),1]),await this.turnContext.collectFile(b9,a,gs(u),c)}}if(r.length>0)return r.unshift([new tr(["The user wants you to consider the following snippets when computing your answer."]),1]),new tr(r)}removeDuplicateSnippets(t){let r={};return t.forEach(n=>{let i=`${n.uri}#[${n.range.start.line},${n.range.start.character}]-[${n.range.end.line},${n.range.end.character}]`;r[i]||(r[i]=n)}),Object.values(r)}},v9="collect-project-context",NH=class extends h9{constructor(r,n=[new FH]){super();this.ctx=r;this.snippetProviders=n;this.ready=!1;this.ctx.get(Dg).addListener(this)}static{o(this,"ProjectContextSkillResolver")}start(){this.ready=!0}async onWorkspaceAdded(r){if(!await this.isEnabled()||(this.workerPoolToken=await PH(),!r.uri))return;let n=this.ctx.get(ua),i=this.ctx.get(Wc),s=this.ctx.get(hc),a=await n.chunk(this.ctx,r);n.status(r)!=="completed"&&i.terminateWatching(r),await s.initialize(this.ctx,r,a),await this.workerPoolToken.stopWorkerPool()}async onWorkspaceRemoved(r){if(!await this.isEnabled())return;let n=this.ctx.get(ua);if(!r)return;let i=n.getParentFolder(r);if(i){let l=await n.deleteSubfolderChunks(i,r);await this.ctx.get(hc).deleteEmbeddings(this.ctx,i,l);return}n.terminateChunking(this.ctx,r),await this.ctx.get(hc).terminateRanking(this.ctx,r),this.ctx.get(Pf).terminateScoring(this.ctx,r),n.workspaceCount===0&&await sR.forceStopWorkerPool()}async onWorkspaceSubfoldersTerminated(r,n){let i=this.ctx.get(ua),s=this.ctx.get(hc),a=this.ctx.get(Pf);for(let l of n)i.terminateChunking(this.ctx,l),await s.terminateRanking(this.ctx,l),a.terminateScoring(this.ctx,r)}async onFileChange(r){if(!await this.isEnabled())return;let n=await PH();try{let i=r.documents.map(c=>c.uri),s=r.workspaceFolder;if(!s)return;let a=this.ctx.get(ua),l=this.ctx.get(hc);if(r.type==="delete"||r.type==="update"){let c=await a.deleteFileChunks(s,i);await l.deleteEmbeddings(this.ctx,s,c)}if(r.type==="create"||r.type==="update"){let c=await a.chunk(this.ctx,s,r.documents);await l.addChunks(this.ctx,s,c)}}finally{await n.stopWorkerPool()}}isStarted(){return this.ready}async isEnabled(){return!0}async resolveSkill(r){await r.steps.start(v9,"Collecting relevant project context"),await r.info(bOe.default`Project context is applied to this response, which may lead to slightly longer load times. For faster and more general Copilot responses, remove the project context option from your prompt.`);let n=this.snippetProviders.map(async l=>l.snippetProviderStatus(r)),i=await Promise.all(n),s="not_indexed",a;for(let l of fOe){let c=i.findIndex(u=>u===l);if(c!==-1){s=l,a=this.snippetProviders[c];break}}switch(s){case"indexed":{let{snippets:l,measurements:c}=await a.provideSnippets(r);if(await Jbe(r,a.providerType,c),l.length===0){await r.steps.error(v9,"No project context found");return}return await r.steps.finish(v9),l}case"indexing":{await r.steps.error(v9,"Indexing repository, please try again later");return}case"not_indexed":{await r.steps.error(v9,"No project context available");return}}}},b9="project-context",LH=class extends Ul{static{o(this,"ProjectContextSkill")}constructor(t){super(b9,"Code snippets and documentation from the open project. This skill is useful when the user question is specific to the open project and its context. Do not include this skill for general programming questions.","Performing code search",()=>t,r=>new u0e(r),"implicit",["Relevant: How do I add a custom server route?","Relevant: Where is the code that processes the response from CopyableThreadElement?","Relevant: Where do I add tests for the InputValidation class?","Relevant: How to implement a shared buffer component","Not relevant: What does numpy do?"],()=>!0)}};d();var EOe=I.Object({labels:I.Array(I.String())}),f0e=class{constructor(t){this.turnContext=t}static{o(this,"ProjectLabelsSkillProcessor")}value(){return 1}processSkill(t){let r=[];return r.push([new tr(["The developer is working on a project with the following characteristics (languages, frameworks):"]),1]),t.labels.forEach(n=>{r.push([new tr([`- ${n}`]),.9]),this.turnContext.collectLabel(Fh,n)}),new tr(r)}},Fh="project-labels",MH=class{constructor(t){this._resolver=t;this.id=Fh;this.type="explicit"}static{o(this,"ProjectLabelsSkill")}description(){return"The characteristics of the project the developer is working on (languages, frameworks)"}resolver(){return this._resolver}processor(t){return new f0e(t)}};d();var OH=et(Df());var TOe={id:0,start_offset:0,stop_offset:0,type:"code_vulnerability",details:{type:"server-side-unvalidated-url-redirection",description:"Allows a URL to be redirected to a different URL that is specified by an external user.",ui_type:"test",ui_description:"test"}},wOe=OH.dedent`
    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna 
    aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
`,_Oe=OH.dedent`
    \`\`\`kotlin
    fun main() {
        println("Hello, World!")
    }
    \`\`\`
`,Jkt=OH.dedent`
    ### Inputs
    
    \`p\` - paragraph message
    
    \`c\` - code block
    
    \`<number>\` - number of vulnerabilities, must be at the end of the string (applies to all code blocks)
    
    ### Examples
    
    \`/debug.vulnerability\` - 1 paragraph followed by 1 code block with 1 vulnerability
    
    \`/debug.vulnerability pcc2\` - 1 paragraph followed by 2 code blocks with 2 vulnerabilities each
    
    \`/debug.vulnerability cpc3\` - 1 code block followed by 1 paragraph followed by 1 code block--each code block has 3 vulnerabilities
`,d0e=`

`,IOe=wOe+d0e+_Oe;function SOe(e){let t=1;if(e.length===0)return{reply:IOe,vulnerabilities:t};if(e==="0")return{reply:IOe,vulnerabilities:0};if(e==="help")return{reply:Jkt,vulnerabilities:t};let r=e.slice(-1);isNaN(Number(r))||(t=Number(r),e=e.slice(0,-1));let n="";for(let i of e)i==="p"?n+=wOe+d0e:i==="c"&&(n+=_Oe+d0e);return{reply:n.trimEnd(),vulnerabilities:t}}o(SOe,"parseVulnerabilitiesInstructions");var kOe=et(Df());var Zkt="Oops, your response got filtered. Vote down if you think this shouldn't have happened",Xkt="You've reached your monthly chat messages limit. Upgrade to Copilot Pro (30-day free trial) or wait for your limit to reset.",m0e=class{constructor(){this.id="debug.fail";this.description="Fail for debugging purposes";this.shortDescription="Fail";this.scopes=["chat-panel"]}static{o(this,"DebugFailPromptTemplate")}response(t,r){throw new Error(r.length>0?r:"Debug Fail")}},eRt=new m0e,h0e=class{constructor(){this.id="debug.upgrade";this.description="upgrade for debugging purposes";this.shortDescription="upgrade";this.scopes=["chat-panel"]}static{o(this,"DebugUpgradePromptTemplate")}response(t){return new ql(Xkt,{message:"",code:402,responseIsIncomplete:!0,responseIsFiltered:!1})}},tRt=new h0e,p0e=class{constructor(){this.id="debug.notify";this.description="Notify for debugging purposes";this.shortDescription="Notify";this.scopes=["chat-panel","inline"]}static{o(this,"DebugNotificationPromptTemplate")}response(t,r){let n="warning";r.includes("info")&&(n="info");let i=r.replace("info","").replace("warning","").trim(),s=[{severity:n,message:i.length>0?i:"Debug Notification"}];return new ql("Alright, I'm producing a notification",void 0,[],s)}},rRt=new p0e,g0e=class{constructor(){this.id="debug.filter";this.description="Make the RAI filter kick in";this.shortDescription="RAI Filter";this.scopes=["chat-panel"]}static{o(this,"DebugFilterPromptTemplate")}response(t){return t.turn.status="filtered",new ql(Zkt,{message:"",responseIsFiltered:!0,responseIsIncomplete:!1})}},nRt=new g0e,A0e=class{constructor(){this.id="debug.dump";this.description="Dump the conversation";this.shortDescription="Dump";this.scopes=["chat-panel"]}static{o(this,"DebugDumpPromptTemplate")}async response(t){return new ql(await BOe(t))}},iRt=new A0e,y0e=class{constructor(){this.id="debug.tree";this.description="Jingle bells, jingle bells, jingle all the way";this.shortDescription="Christmas Tree";this.scopes=["chat-panel"]}static{o(this,"DebugChristmasTreePromptTemplate")}requiredSkills(){return[Fh,jc]}instructions(t,r){return"Create a function that prints a christmas tree"}},oRt=new y0e,C0e=class{constructor(){this.id="debug.echo";this.description="Echo the user message back to the user";this.shortDescription="Echo";this.scopes=["chat-panel"]}static{o(this,"DebugEchoPromptTemplate")}response(t){return new ql(an(t.turn.request.message))}},sRt=new C0e,x0e=class{constructor(){this.id="debug.prompt";this.description="Show the prompt for the last response or generate a new one";this.shortDescription="Prompt";this.scopes=["chat-panel"]}static{o(this,"DebugPromptPromptTemplate")}response(t,r){let n=t.ctx.get(Wl).getLastTurnPrompts();if(n!==void 0&&n.size>0){let i="Here are the prompts used in the last turn:";return n.forEach((s,a)=>{i+=kOe.default`

                        ### ${a} prompt
                        
                        \`\`\`\`
                        ${s}
                        \`\`\`\`
                    `}),new ql(i)}return new ql("No prompt available")}},aRt=new x0e,v0e=class{constructor(){this.id="debug.skills";this.description="Resolves and displays all available skills or a single skill (id) if provided";this.shortDescription="Skills";this.scopes=["chat-panel"]}static{o(this,"DebugSkillsPromptTemplate")}async response(t,r,n){let i,s;if(r.length>0){let a=r.split(" ");i=a[0],s=a.slice(1).join(" ")}return t.turn.request.message=s??"",new ql(await DOe(t,n,i))}},lRt=new v0e,b0e=class{constructor(){this.id="debug.vulnerability";this.description="Create a message with a vulnerability annotation";this.shortDescription="Vulnerability";this.scopes=["chat-panel"]}static{o(this,"DebugVulnerabilityPromptTemplate")}response(t,r){let{reply:n,vulnerabilities:i}=SOe(r);for(let s=0;s<i;s++)t.turn.annotations.push(TOe);return new ql(n,void 0,t.turn.annotations)}},cRt=new b0e,E0e=class{constructor(){this.id="debug.citation";this.description="Create a message with a code citation annotation";this.shortDescription="CodeCitation";this.scopes=["chat-panel"]}static{o(this,"DebugCodeCitationPromptTemplate")}response(t){return t.turn.annotations.push(aOe),new ql(lOe,void 0,t.turn.annotations)}},uRt=new E0e,I0e=class{constructor(){this.id="debug.markdown";this.description="Markdown rendering specification by example";this.shortDescription="Markdown";this.scopes=["chat-panel","inline"]}static{o(this,"DebugMarkdownRenderingPromptTemplate")}response(){return new ql(cOe)}},fRt=new I0e,T0e=class{constructor(){this.id="debug.long";this.description="Generate a long response";this.shortDescription="Long";this.scopes=["chat-panel"]}static{o(this,"DebugLongPromptTemplate")}instructions(t,r){return"Write out the OWASP top 10 with code examples in java"}},dRt=new T0e,w0e=class{constructor(){this.id="debug.project";this.description="Generate a response using the project context skill";this.shortDescription="Project";this.scopes=["chat-panel","inline"]}static{o(this,"DebugProjectContextPromptTemplate")}requiredSkills(){return[b9]}},mRt=new w0e,_0e=class{constructor(){this.id="debug.confirmation";this.description="Generate a response with a confirmation";this.shortDescription="Confirmation";this.scopes=["chat-panel","inline"]}static{o(this,"DebugConfirmationPromptTemplate")}response(){let t={type:"action",title:"Confirmation that you want to proceed",message:"Do you want to proceed?",agentSlug:"debug.confirmation",confirmation:{answer:"yes"}};return new ql("Alright, I'm producing a notification",void 0,[],[],[],t)}},hRt=new _0e;function ROe(){return[eRt,tRt,rRt,nRt,oRt,iRt,sRt,aRt,lRt,cRt,uRt,hRt,fRt,dRt,mRt]}o(ROe,"getDebugTemplates");d();d();function FC(e,t){if(e.length==0)return new tr([]);let r=e.map((n,i)=>{let s;switch(t){case"linear":s=1-i/e.length;break;case"inverseLinear":s=(i+1)/e.length;break;case"positional":s=1/(i+1);break;case"inversePositional":s=1/(e.length-i);break}return Array.isArray(n)&&n.length==2&&(s*=n[1],n=n[0]),[n,s]});return new tr(r)}o(FC,"weighElidableList");var POe=I.Object({uri:I.String(),problems:I.Array(I.Object({message:I.String(),range:Ca}))}),S0e=class{constructor(t){this.turnContext=t}static{o(this,"ProblemsInActiveDocumentSkillProcessor")}value(){return 1}async processSkill(t){let r=this.turnContext.ctx.get(Dn),n=await r.getOrReadTextDocument(t);if(await this.turnContext.collectFile(NC,t.uri,gs(n)),n.status==="valid"){let i=r.getRelativePath(n.document);this.turnContext.collectLabel(NC,`problems in ${i}`);let s=this.getElidableProblems(t,n,i);return await this.preElideDocuments(s)}else this.turnContext.collectLabel(NC,"problem markers")}getElidableProblems(t,r,n){let i=[];return i.push(new tr([`Problems and errors in the active document (\`${n}\`):`])),i.push(...this.createElidableProblems(t,r)),FC(i,"linear")}createElidableProblems(t,r){return t.problems.map(n=>{let i=[];i.push(new tr([`- "${n.message}" at line ${n.range.start.line}.`+(r.document?" Excerpt from the code:":"")]));let s=n.range,a;if(s&&(this.isEmpty(s)?a=r.document.lineAt(s.start).text:a=r.document.getText(s),a)){let l=r.document.detectedLanguageId;i.push(new tr([["```"+l,1],[Zu(a),.8],["```",1]]))}return new tr(i)})}isEmpty(t){return t.start.line===t.end.line&&t.start.character===t.end.character}async preElideDocuments(t){let r=(await this.turnContext.ctx.get(ui).getBestChatModelConfig(ms("user"))).maxRequestTokens,n=t.elide(Math.floor(r*.1)).getText();return new tr([n])}},NC="problems-in-active-document",UH=class extends Ul{static{o(this,"ProblemsInActiveDocumentSkill")}constructor(t){super(NC,"List of problems and errors in the active document, useful when the user question is about finding and fixing errors, non-functioning code, compilation issues, etc.","Analyzing problems and errors",()=>t,r=>new S0e(r),"explicit",["How can I fix the errors?","Why is my app not working?","Why am I getting compilation errors?","Raw error messages or stack traces"])}};d();d();var qH=class{constructor(t){this.turnContext=t}static{o(this,"PromptForTestGeneration")}async fromImplementationFile(t){let r=this.turnContext.ctx.get(Hr).getWorkspaceFolder(t),n=this.fileExistFn(),i=new iR(this.turnContext.ctx,n,r?.uri),s=await i.findTestFileForSourceFile(t.uri),a=oR(t.uri);if(s&&!a){let l=t.detectedLanguageId;if(await n(s))return await this.asTestFilePrompt(l,s);{let c=i.findExampleTestFile(t.uri);if(c)return await this.asExampleFilePrompt(l,c)}}}async fromTestFile(t){if(!oR(t))return;let n=this.turnContext.ctx.get(Hr).getWorkspaceFolder(t),i=this.fileExistFn(),a=await new iR(this.turnContext.ctx,i,n?.uri).findImplFileForTestFile(t.uri);if(a){let l=t.detectedLanguageId;if(await i(a))return await this.asImplFilePrompt(l,a)}}async asImplFilePrompt(t,r){let n=await this.fileInfoForPrompt(r);if(n){let[i,s]=n;return new tr([[`${pRt} \`${s}\`:`,1],["```"+t,1],[i,.9],["```",1]])}return new tr([])}async asTestFilePrompt(t,r){let n=await this.fileInfoForPrompt(r);if(n){let[i,s]=n;return new tr([[`${gRt} \`${s}\`:`,1],["```"+t,1],[i,.9],["```",1]])}return new tr([])}async asExampleFilePrompt(t,r){let n=await this.fileInfoForPrompt(r);if(n){let[i,s]=n;return new tr([[`${ARt} \`${s}\`:`,1],["```"+t,1],[i,.9],["```",1]])}return new tr([])}async fileInfoForPrompt(t){if(!this.turnContext.isFileIncluded(t)){let r=this.turnContext.ctx.get(Dn),n=await r.getOrReadTextDocument({uri:t});if(await this.turnContext.collectFile(Nh,t,gs(n)),n.status==="valid"){let i=r.getRelativePath(n.document);return[Zu(n.document.getText()),i]}}}fileExistFn(){return async t=>{try{return await this.turnContext.ctx.get(Io).stat(t),!0}catch{return!1}}}},pRt="Code excerpt from the implementation source file",gRt="Code excerpt from the test file",ARt="Code excerpt from an example test file";var FOe=I.Object({currentFileUri:I.String(),sourceFileUri:I.Optional(I.String()),testFileUri:I.Optional(I.String())}),R0e=class{constructor(t){this.turnContext=t}static{o(this,"TestContextSkillProcessor")}value(){return .9}async processSkill(t){let r=this.turnContext.ctx.get(Dn),n=new qH(this.turnContext);if(t.sourceFileUri&&t.testFileUri){if(t.sourceFileUri!==t.currentFileUri&&t.testFileUri!==t.currentFileUri)return;if(t.testFileUri===t.currentFileUri){let i=await r.getOrReadTextDocument({uri:t.testFileUri});if(await this.turnContext.collectFile(Nh,t.testFileUri,gs(i)),i.status==="valid")return await n.asImplFilePrompt(i.document.detectedLanguageId,t.sourceFileUri)}else if(t.sourceFileUri===t.currentFileUri){let i=await r.getOrReadTextDocument({uri:t.sourceFileUri});if(await this.turnContext.collectFile(Nh,t.sourceFileUri,gs(i)),i.status==="valid")return await n.asTestFilePrompt(i.document.detectedLanguageId,t.testFileUri)}}else if(t.sourceFileUri&&t.sourceFileUri===t.currentFileUri){let i=await r.getOrReadTextDocument({uri:t.sourceFileUri});if(await this.turnContext.collectFile(Nh,t.sourceFileUri,gs(i)),i.status==="valid")return await n.fromImplementationFile(i.document)}else if(t.testFileUri&&t.testFileUri===t.currentFileUri){let i=await r.getOrReadTextDocument({uri:t.testFileUri});if(await this.turnContext.collectFile(Nh,t.testFileUri,gs(i)),i.status==="valid")return await n.fromTestFile(i.document)}}},Nh="test-context",WH=class extends Ul{static{o(this,"TestContextSkill")}constructor(t){super(Nh,"Example tests useful for creating, adding and fixing tests, to detect available test frameworks as well as finding the corresponding implementation to existing tests","Searching test examples",()=>t,r=>new R0e(r))}};d();var NOe=et(Df());var LOe=I.Object({failures:I.Array(I.Object({testName:I.String(),testSuite:I.Optional(I.String()),testFileUri:I.String(),failureReason:I.Optional(I.String()),testLocation:Ca}))}),B0e=class{constructor(t){this.turnContext=t}static{o(this,"TestFailuresSkillProcessor")}value(){return .9}async processSkill(t){if(t.failures.length>0){this.turnContext.collectLabel(_v,"test failures");let r=await this.createElidableFailures(t.failures);if(r){let n=new tr(["The latest test run produced the following failures and errors:"]);return new tr([[n,1],[r,1]])}}}async createElidableFailures(t){let r=this.turnContext.ctx.get(Dn),n=[],i=this.groupFailuresByFile(t);for(let[s,a]of i.entries()){let l=await r.getOrReadTextDocument({uri:s});if(await this.turnContext.collectFile(_v,s,gs(l)),l.status==="valid"){let c=r.getRelativePath(l.document),u=this.createElidableFailuresOfDoc(a,c),f=this.appendCode(u,c,l.document);n.push([f,1])}}if(n.length>0)return new tr(n)}groupFailuresByFile(t){let r=new Map;for(let n of t){let i=r.get(n.testFileUri)||[];i.push(n),r.set(n.testFileUri,i)}return r}createElidableFailuresOfDoc(t,r){let n=t.map(i=>{let s=`\`${i.testName}\``,a=`${i.testSuite?` in suite \`${i.testSuite}\``:""}`,l=` in file \`${r}\` `,c=". ";i.failureReason&&(c=" with the following error:",i.failureReason.includes(`
`)?c+="\n```\n"+i.failureReason+"\n```\n":c+=` \`${i.failureReason}\`. `);let u=`${i.testLocation.start.line==i.testLocation.end.line?"on line "+i.testLocation.start.line:"between lines "+i.testLocation.start.line+" and "+i.testLocation.end.line}`;return[new tr([NOe.default`\n\n- Test ${s}${a}${l}failed${c}The failed test is ${u}.\n`]),1]});return new tr(n)}appendCode(t,r,n){let i=[new tr([`
The code of file \`${r}\` is:
`]),.6],s=[new tr([["```"+n.detectedLanguageId,1],[Zu(n.getText()),.9],["```",1]]),.7];return new tr([[t,1],i,s])}},_v="test-failures",GH=class extends Ul{static{o(this,"TestFailuresSkill")}constructor(t){super(_v,"Test failures and errors of the latest test run","Collecting test failures",()=>t,r=>new B0e(r))}};var Xd=et(Df());var ql=class{constructor(t,r,n=[],i=[],s=[],a){this.message=t;this.error=r;this.annotations=n;this.notifications=i;this.references=s;this.confirmationRequest=a}static{o(this,"PromptTemplateResponse")}},Sv=class{constructor(t,r,n,i,s=[],a=[],l,c=!1){this.id=t;this.description=r;this.shortDescription=n;this.prompt=i;this.skills=s;this.scopes=a;this.inlinePrompt=l;this.producesCodeEdits=c}static{o(this,"StaticPromptTemplate")}instructions(t,r,n="panel"){let i;return n==="inline"?i=this.inlinePrompt??this.prompt:i=this.prompt,i+`
`+r}requiredSkills(){return this.skills}},yRt=new Sv("tests","Generate unit tests","Generate Tests",Xd.default`
        Write a set of unit tests for the code above, or for the selected code if provided.
        Provide tests for the functionality of the code and not the implementation details.
        The tests should test the happy path as well as the edge cases.
        Choose self explanatory names for the tests that describe the tested behavior. Do not start the test names with "test".
        Think about the different scenarios that could happen and test them.
        Do reply with the tests only and do not explain them further.
        Do reply with new or modified tests only and not with the complete test class or suite.
        Follow the same test style as in existing tests if they exist.
        You must not create inline comments like "Arrange, Act, Assert", unless existing tests use inline comments as well.
        If existing tests use any mocking or stubbing libraries, use the same libraries before writing your own test doubles.
        `,[Nh,_v],["chat-panel","editor"]),CRt=new Sv("simplify","Simplify the code","Simplify This",Xd.default`
        Provide a simplified version of the selected code above.
        Do not change the behavior of the code. 
        The code should still be readable and easy to understand. 
        Do not reply with the original code but only a simplified version. 
        Do only reply with one code snippet that contains the complete simplified code and explain what you have simplified after.`,[],["editor","chat-panel","inline"],Xd.default`
        Provide a simplified version of the selected code.
        Modify the selected code to make it simpler and easier to understand.
        Do not change the behavior of the code. 
        Removing empty lines is not a simplification.
        You must not omit any code that is necessary for the code to compile and run, for example by replacing lines with ... or similar.
        Do not reply with the original code but only a simplified version.`,!0),xRt=new Sv("fix","Fix problems and compile errors","Fix This",Xd.default`
        Fix the provided errors and problems. 
        Do not invent new problems.
        The fixed code should still be readable and easy to understand.
        If there are no problems provided do reply that you can't detect any problems and the user should describe more precisely what they want to be fixed. 
        Group problems if they are related and can be fixed by the same change. 
        Present a group as a single problem with a simple description that does not repeat the single problems but explains the whole group of problems in a few words.
        Explain each group of problems without repeating the detailed error message. 
        Show how the error can be fixed by providing a code snippet that displays the code before and after it has been fixed after each group. 
        Shorten fully qualified class names to the simple class name and full file paths to the file names only.
        When enumerating the groups, start with the word "Problem" followed by the number and a quick summary of the problem. Format this headline bold.
        At last provide a completely fixed version of the code if the fixes required multiple code changes.`,[NC],["editor","chat-panel","inline"],Xd.default`
        Fix the provided errors and problems. 
        Do not invent new problems.
        The fixed code should still be readable and easy to understand.
        If there are no problems provided do reply that you can't detect any problems and the user should describe more precisely what they want to be fixed.
        Do not attempt to fix problems that are not provided, like unbalanced brackets or parentheses that are not causing errors.
        Briefly explain the problems without repeating the detailed error message.`,!0),vRt=new Sv("explain","Explain how the code works","Explain This",Xd.default`
        Write an explanation for the selected code above as paragraphs of text. 
        Include excerpts of code snippets to underline your explanation. 
        Do not repeat the complete code.
        The explanation should be easy to understand for a developer who is familiar with the programming language used but not familiar with the code.`,[],["editor","chat-panel","inline"],Xd.default`
        Write an explanation for the code the user is selecting.
        Include excerpts of code snippets to underline your explanation. 
        Do not repeat the complete code.
        Keep the explanation brief and easy to understand for a developer who is familiar with the programming language used but not familiar with the code.`,!1),bRt=new Sv("doc","Document the current selection of code","Generate Docs",Xd.default`
        Write documentation for the selected code.
        The reply should be a codeblock containing the original selection with the documentation added as comments.
        Use the most appropriate documentation style for the programming language used (e.g. JSDoc for JavaScript, docstrings for Python etc.)`,[],["editor","chat-panel","inline"],Xd.default`
        Add documentation to the selected code.
        Modify the selected code by adding documentation as comments.
        You must only modify the selected code and nothing else.
        Use the most appropriate documentation style for the programming language used (e.g. JSDoc for JavaScript, docstrings for Python etc.).
        Place the comments before functions and methods, unless the language has a different convention (for example Python's docstring).`,!0),D0e=class{constructor(){this.id="feedback";this.description="Steps to provide feedback";this.shortDescription="Feedback";this.scopes=["chat-panel"]}static{o(this,"FeedbackPromptTemplate")}response(t){let r=N0e(t.conversation),n=Xd.default`
            You can provide direct feedback by pressing the thumbs up/down buttons on a single message. 
            In case you want to share more details, please click [here](https://gh.io/copilot-chat-jb-feedback) to share your feedback.
            `;return r?new ql(n+`

In order to help us understand your feedback better, you can include the following identifier in your feedback: by doing so, you are granting us permission to access the telemetry data associated with your feedback.
\`\`\`yaml
${t.conversation.id}/${r}
\`\`\``):new ql(n)}},ERt=new D0e,P0e=class{constructor(){this.id="help";this.description="Get help on how to use Copilot chat";this.shortDescription="Help";this.scopes=["chat-panel"]}static{o(this,"HelpPromptTemplate")}response(t){let r=F0e(t.ctx).filter(i=>i!=this),n=Xd.default`
            You can ask me general programming questions, or use one of the following commands to get help with a specific task:

            ${r.map(i=>`- \`/${i.id}\` - ${i.description}`).join(`
`)}

            To have a great conversation, ask me questions as if I was a real programmer:
            
            - **Show me the code** you want to talk about by having the files open and selecting the most important lines.
            - On top of files, **I take different parts of your IDE into consideration** when answering questions. This includes, but is not limited to, test results and failures, build and runtime logs, active Git repository as well as details of the open project.
            - **Make refinements** by asking me follow-up questions, adding clarifications, providing errors, etc.
            - **Review my suggested code** and tell me about issues or improvements, so I can iterate on it.
        `;return new ql(n)}},IRt=new P0e;function aR(){return[yRt,CRt,xRt,vRt,bRt,ERt,IRt,...ROe()]}o(aR,"getPromptTemplates");function F0e(e){let t=aR();return!eI(e)&&!Om(e)&&(t=t.filter(r=>!r.id.startsWith("debug."))),t}o(F0e,"getUserFacingPromptTemplates");var L0e=class{constructor(t,r){this.conversation=t;this.capabilities=r}static{o(this,"ConversationHolder")}},Gi=class{constructor(t){this.ctx=t;this.conversations=new In(100)}static{o(this,"Conversations")}create(t,{source:r,userLanguage:n,conversationId:i}={}){let s=new kH([],r??"panel",n,i);return this.conversations.set(s.id,new L0e(s,t)),s}destroy(t){this.conversations.delete(t)}async addTurn(t,r,n,i,s,a,l,c){let u=this.get(t);return r.request.references=n&&n.length>0?n:[],i&&(r.request.activeEditor=i),s&&(r.workspaceFolder=s),a&&a.length>0&&(r.workspaceFolders=a),l&&l.length>0&&(r.ignoredSkills=l.map(f=>({skillId:f}))),c&&(r.agent={agentSlug:c.agentSlug},r.confirmationResponse=c),await this.determineAndApplyAgent(u,r),await this.determineAndApplyTemplate(u,r),u.addTurn(r),r}async determineAndApplyAgent(t,r){if(t.source==="panel"&&an(r.request.message).trim().startsWith("@")){let[n,i]=this.extractKeywordAndQuestionFromRequest(an(r.request.message),"@");(await Ug(this.ctx)).find(l=>l.slug===n)&&(r.request.message=i,r.request.type="user",r.agent={agentSlug:n})}}async determineAndApplyTemplate(t,r){if(an(r.request.message).trim().startsWith("/")){let[n,i]=this.extractKeywordAndQuestionFromRequest(an(r.request.message),"/"),s=aR().find(a=>a.id===n);if(s){r.request.message=i,r.request.type="user",await this.determineAndApplyAgent(t,r);let a=s.instructions?s.instructions(this.ctx,r.request.message,t.source):i;r.template={templateId:n,userQuestion:r.request.message},r.request.message=a,r.request.type="template"}}}extractKeywordAndQuestionFromRequest(t,r){let[n,...i]=t.trim().split(" "),s=i.join(" ");return[n.replace(r,""),s]}deleteTurn(t,r){this.get(t).deleteTurn(r)}get(t){return this.getHolder(t).conversation}getCapabilities(t){return this.getHolder(t).capabilities}getSupportedSkills(t){let r=this.ctx.get(Xa).getDescriptors().filter(i=>i.type==="implicit").map(i=>i.id),n=this.getCapabilities(t).skills;return[...r,...n]}filterSupportedSkills(t,r){let n=this.getSupportedSkills(t);return r.filter(i=>n.includes(i))}getHolder(t){let r=this.conversations.get(t);if(!r)throw new Error(`Conversation with id ${t} does not exist`);return r}getAll(){let t=this.conversations.values();return Array.from(t).map(r=>r.conversation)}findByTurnId(t){for(let r of this.getAll()){let n=r.findTurn(t);if(n)return{conversation:r,turn:n}}}};d();function ZOe(e){return typeof e>"u"||e===null}o(ZOe,"isNothing");function TRt(e){return typeof e=="object"&&e!==null}o(TRt,"isObject");function wRt(e){return Array.isArray(e)?e:ZOe(e)?[]:[e]}o(wRt,"toArray");function _Rt(e,t){var r,n,i,s;if(t)for(s=Object.keys(t),r=0,n=s.length;r<n;r+=1)i=s[r],e[i]=t[i];return e}o(_Rt,"extend");function SRt(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}o(SRt,"repeat");function kRt(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}o(kRt,"isNegativeZero");var RRt=ZOe,BRt=TRt,DRt=wRt,PRt=SRt,FRt=kRt,NRt=_Rt,fl={isNothing:RRt,isObject:BRt,toArray:DRt,repeat:PRt,isNegativeZero:FRt,extend:NRt};function XOe(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}o(XOe,"formatError");function cR(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=XOe(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}o(cR,"YAMLException$1");cR.prototype=Object.create(Error.prototype);cR.prototype.constructor=cR;cR.prototype.toString=o(function(t){return this.name+": "+XOe(this,t)},"toString");var vu=cR;function Q0e(e,t,r,n,i){var s="",a="",l=Math.floor(i/2)-1;return n-t>l&&(s=" ... ",t=n-l+s.length),r-n>l&&(a=" ...",r=n+l-a.length),{str:s+e.slice(t,r).replace(/\t/g,"\u2192")+a,pos:n-t+s.length}}o(Q0e,"getLine");function M0e(e,t){return fl.repeat(" ",t-e.length)+e}o(M0e,"padStart");function LRt(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],s,a=-1;s=r.exec(e.buffer);)i.push(s.index),n.push(s.index+s[0].length),e.position<=s.index&&a<0&&(a=n.length-2);a<0&&(a=n.length-1);var l="",c,u,f=Math.min(e.line+t.linesAfter,i.length).toString().length,m=t.maxLength-(t.indent+f+3);for(c=1;c<=t.linesBefore&&!(a-c<0);c++)u=Q0e(e.buffer,n[a-c],i[a-c],e.position-(n[a]-n[a-c]),m),l=fl.repeat(" ",t.indent)+M0e((e.line-c+1).toString(),f)+" | "+u.str+`
`+l;for(u=Q0e(e.buffer,n[a],i[a],e.position,m),l+=fl.repeat(" ",t.indent)+M0e((e.line+1).toString(),f)+" | "+u.str+`
`,l+=fl.repeat("-",t.indent+f+3+u.pos)+`^
`,c=1;c<=t.linesAfter&&!(a+c>=i.length);c++)u=Q0e(e.buffer,n[a+c],i[a+c],e.position-(n[a]-n[a+c]),m),l+=fl.repeat(" ",t.indent)+M0e((e.line+c+1).toString(),f)+" | "+u.str+`
`;return l.replace(/\n$/,"")}o(LRt,"makeSnippet");var QRt=LRt,MRt=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],ORt=["scalar","sequence","mapping"];function URt(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}o(URt,"compileStyleAliases");function qRt(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(MRt.indexOf(r)===-1)throw new vu('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=URt(t.styleAliases||null),ORt.indexOf(this.kind)===-1)throw new vu('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}o(qRt,"Type$1");var Vc=qRt;function QOe(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(s,a){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=a)}),r[i]=n}),r}o(QOe,"compileList");function WRt(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(o(n,"collectType"),t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}o(WRt,"compileMap");function U0e(e){return this.extend(e)}o(U0e,"Schema$1");U0e.prototype.extend=o(function(t){var r=[],n=[];if(t instanceof Vc)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new vu("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof Vc))throw new vu("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new vu("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new vu("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof Vc))throw new vu("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(U0e.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=QOe(i,"implicit"),i.compiledExplicit=QOe(i,"explicit"),i.compiledTypeMap=WRt(i.compiledImplicit,i.compiledExplicit),i},"extend");var GRt=U0e,HRt=new Vc("tag:yaml.org,2002:str",{kind:"scalar",construct:o(function(e){return e!==null?e:""},"construct")}),jRt=new Vc("tag:yaml.org,2002:seq",{kind:"sequence",construct:o(function(e){return e!==null?e:[]},"construct")}),VRt=new Vc("tag:yaml.org,2002:map",{kind:"mapping",construct:o(function(e){return e!==null?e:{}},"construct")}),$Rt=new GRt({explicit:[HRt,jRt,VRt]});function zRt(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}o(zRt,"resolveYamlNull");function YRt(){return null}o(YRt,"constructYamlNull");function KRt(e){return e===null}o(KRt,"isNull");var JRt=new Vc("tag:yaml.org,2002:null",{kind:"scalar",resolve:zRt,construct:YRt,predicate:KRt,represent:{canonical:o(function(){return"~"},"canonical"),lowercase:o(function(){return"null"},"lowercase"),uppercase:o(function(){return"NULL"},"uppercase"),camelcase:o(function(){return"Null"},"camelcase"),empty:o(function(){return""},"empty")},defaultStyle:"lowercase"});function ZRt(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}o(ZRt,"resolveYamlBoolean");function XRt(e){return e==="true"||e==="True"||e==="TRUE"}o(XRt,"constructYamlBoolean");function eBt(e){return Object.prototype.toString.call(e)==="[object Boolean]"}o(eBt,"isBoolean");var tBt=new Vc("tag:yaml.org,2002:bool",{kind:"scalar",resolve:ZRt,construct:XRt,predicate:eBt,represent:{lowercase:o(function(e){return e?"true":"false"},"lowercase"),uppercase:o(function(e){return e?"TRUE":"FALSE"},"uppercase"),camelcase:o(function(e){return e?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function rBt(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}o(rBt,"isHexCode");function nBt(e){return 48<=e&&e<=55}o(nBt,"isOctCode");function iBt(e){return 48<=e&&e<=57}o(iBt,"isDecCode");function oBt(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!rBt(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!nBt(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!iBt(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}o(oBt,"resolveYamlInteger");function sBt(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}o(sBt,"constructYamlInteger");function aBt(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!fl.isNegativeZero(e)}o(aBt,"isInteger");var lBt=new Vc("tag:yaml.org,2002:int",{kind:"scalar",resolve:oBt,construct:sBt,predicate:aBt,represent:{binary:o(function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},"binary"),octal:o(function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},"octal"),decimal:o(function(e){return e.toString(10)},"decimal"),hexadecimal:o(function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),cBt=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function uBt(e){return!(e===null||!cBt.test(e)||e[e.length-1]==="_")}o(uBt,"resolveYamlFloat");function fBt(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}o(fBt,"constructYamlFloat");var dBt=/^[-+]?[0-9]+e/;function mBt(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(fl.isNegativeZero(e))return"-0.0";return r=e.toString(10),dBt.test(r)?r.replace("e",".e"):r}o(mBt,"representYamlFloat");function hBt(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||fl.isNegativeZero(e))}o(hBt,"isFloat");var pBt=new Vc("tag:yaml.org,2002:float",{kind:"scalar",resolve:uBt,construct:fBt,predicate:hBt,represent:mBt,defaultStyle:"lowercase"}),gBt=$Rt.extend({implicit:[JRt,tBt,lBt,pBt]}),ABt=gBt,eUe=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),tUe=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function yBt(e){return e===null?!1:eUe.exec(e)!==null||tUe.exec(e)!==null}o(yBt,"resolveYamlTimestamp");function CBt(e){var t,r,n,i,s,a,l,c=0,u=null,f,m,h;if(t=eUe.exec(e),t===null&&(t=tUe.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(s=+t[4],a=+t[5],l=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(f=+t[10],m=+(t[11]||0),u=(f*60+m)*6e4,t[9]==="-"&&(u=-u)),h=new Date(Date.UTC(r,n,i,s,a,l,c)),u&&h.setTime(h.getTime()-u),h}o(CBt,"constructYamlTimestamp");function xBt(e){return e.toISOString()}o(xBt,"representYamlTimestamp");var vBt=new Vc("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:yBt,construct:CBt,instanceOf:Date,represent:xBt});function bBt(e){return e==="<<"||e===null}o(bBt,"resolveYamlMerge");var EBt=new Vc("tag:yaml.org,2002:merge",{kind:"scalar",resolve:bBt}),j0e=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function IBt(e){if(e===null)return!1;var t,r,n=0,i=e.length,s=j0e;for(r=0;r<i;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}o(IBt,"resolveYamlBinary");function TBt(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,s=j0e,a=0,l=[];for(t=0;t<i;t++)t%4===0&&t&&(l.push(a>>16&255),l.push(a>>8&255),l.push(a&255)),a=a<<6|s.indexOf(n.charAt(t));return r=i%4*6,r===0?(l.push(a>>16&255),l.push(a>>8&255),l.push(a&255)):r===18?(l.push(a>>10&255),l.push(a>>2&255)):r===12&&l.push(a>>4&255),new Uint8Array(l)}o(TBt,"constructYamlBinary");function wBt(e){var t="",r=0,n,i,s=e.length,a=j0e;for(n=0;n<s;n++)n%3===0&&n&&(t+=a[r>>18&63],t+=a[r>>12&63],t+=a[r>>6&63],t+=a[r&63]),r=(r<<8)+e[n];return i=s%3,i===0?(t+=a[r>>18&63],t+=a[r>>12&63],t+=a[r>>6&63],t+=a[r&63]):i===2?(t+=a[r>>10&63],t+=a[r>>4&63],t+=a[r<<2&63],t+=a[64]):i===1&&(t+=a[r>>2&63],t+=a[r<<4&63],t+=a[64],t+=a[64]),t}o(wBt,"representYamlBinary");function _Bt(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}o(_Bt,"isBinary");var SBt=new Vc("tag:yaml.org,2002:binary",{kind:"scalar",resolve:IBt,construct:TBt,predicate:_Bt,represent:wBt}),kBt=Object.prototype.hasOwnProperty,RBt=Object.prototype.toString;function BBt(e){if(e===null)return!0;var t=[],r,n,i,s,a,l=e;for(r=0,n=l.length;r<n;r+=1){if(i=l[r],a=!1,RBt.call(i)!=="[object Object]")return!1;for(s in i)if(kBt.call(i,s))if(!a)a=!0;else return!1;if(!a)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}o(BBt,"resolveYamlOmap");function DBt(e){return e!==null?e:[]}o(DBt,"constructYamlOmap");var PBt=new Vc("tag:yaml.org,2002:omap",{kind:"sequence",resolve:BBt,construct:DBt}),FBt=Object.prototype.toString;function NBt(e){if(e===null)return!0;var t,r,n,i,s,a=e;for(s=new Array(a.length),t=0,r=a.length;t<r;t+=1){if(n=a[t],FBt.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[t]=[i[0],n[i[0]]]}return!0}o(NBt,"resolveYamlPairs");function LBt(e){if(e===null)return[];var t,r,n,i,s,a=e;for(s=new Array(a.length),t=0,r=a.length;t<r;t+=1)n=a[t],i=Object.keys(n),s[t]=[i[0],n[i[0]]];return s}o(LBt,"constructYamlPairs");var QBt=new Vc("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:NBt,construct:LBt}),MBt=Object.prototype.hasOwnProperty;function OBt(e){if(e===null)return!0;var t,r=e;for(t in r)if(MBt.call(r,t)&&r[t]!==null)return!1;return!0}o(OBt,"resolveYamlSet");function UBt(e){return e!==null?e:{}}o(UBt,"constructYamlSet");var qBt=new Vc("tag:yaml.org,2002:set",{kind:"mapping",resolve:OBt,construct:UBt}),rUe=ABt.extend({implicit:[vBt,EBt],explicit:[SBt,PBt,QBt,qBt]}),QC=Object.prototype.hasOwnProperty,HH=1,nUe=2,iUe=3,jH=4,O0e=1,WBt=2,MOe=3,GBt=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,HBt=/[\x85\u2028\u2029]/,jBt=/[,\[\]\{\}]/,oUe=/^(?:!|!!|![a-z\-]+!)$/i,sUe=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function OOe(e){return Object.prototype.toString.call(e)}o(OOe,"_class");function qg(e){return e===10||e===13}o(qg,"is_EOL");function Rv(e){return e===9||e===32}o(Rv,"is_WHITE_SPACE");function bu(e){return e===9||e===32||e===10||e===13}o(bu,"is_WS_OR_EOL");function I9(e){return e===44||e===91||e===93||e===123||e===125}o(I9,"is_FLOW_INDICATOR");function VBt(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}o(VBt,"fromHexCode");function $Bt(e){return e===120?2:e===117?4:e===85?8:0}o($Bt,"escapedHexLen");function zBt(e){return 48<=e&&e<=57?e-48:-1}o(zBt,"fromDecimalCode");function UOe(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}o(UOe,"simpleEscapeSequence");function YBt(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}o(YBt,"charFromCodepoint");var aUe=new Array(256),lUe=new Array(256);for(kv=0;kv<256;kv++)aUe[kv]=UOe(kv)?1:0,lUe[kv]=UOe(kv);var kv;function KBt(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||rUe,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}o(KBt,"State$1");function cUe(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=QRt(r),new vu(t,r)}o(cUe,"generateError");function tn(e,t){throw cUe(e,t)}o(tn,"throwError");function VH(e,t){e.onWarning&&e.onWarning.call(null,cUe(e,t))}o(VH,"throwWarning");var qOe={YAML:o(function(t,r,n){var i,s,a;t.version!==null&&tn(t,"duplication of %YAML directive"),n.length!==1&&tn(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&tn(t,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),a=parseInt(i[2],10),s!==1&&tn(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=a<2,a!==1&&a!==2&&VH(t,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:o(function(t,r,n){var i,s;n.length!==2&&tn(t,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],oUe.test(i)||tn(t,"ill-formed tag handle (first argument) of the TAG directive"),QC.call(t.tagMap,i)&&tn(t,'there is a previously declared suffix for "'+i+'" tag handle'),sUe.test(s)||tn(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{tn(t,"tag prefix is malformed: "+s)}t.tagMap[i]=s},"handleTagDirective")};function LC(e,t,r,n){var i,s,a,l;if(t<r){if(l=e.input.slice(t,r),n)for(i=0,s=l.length;i<s;i+=1)a=l.charCodeAt(i),a===9||32<=a&&a<=1114111||tn(e,"expected valid JSON character");else GBt.test(l)&&tn(e,"the stream contains non-printable characters");e.result+=l}}o(LC,"captureSegment");function WOe(e,t,r,n){var i,s,a,l;for(fl.isObject(r)||tn(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),a=0,l=i.length;a<l;a+=1)s=i[a],QC.call(t,s)||(t[s]=r[s],n[s]=!0)}o(WOe,"mergeMappings");function T9(e,t,r,n,i,s,a,l,c){var u,f;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),u=0,f=i.length;u<f;u+=1)Array.isArray(i[u])&&tn(e,"nested arrays are not supported inside keys"),typeof i=="object"&&OOe(i[u])==="[object Object]"&&(i[u]="[object Object]");if(typeof i=="object"&&OOe(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(u=0,f=s.length;u<f;u+=1)WOe(e,t,s[u],r);else WOe(e,t,s,r);else!e.json&&!QC.call(r,i)&&QC.call(t,i)&&(e.line=a||e.line,e.lineStart=l||e.lineStart,e.position=c||e.position,tn(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[i]=s,delete r[i];return t}o(T9,"storeMappingPair");function V0e(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):tn(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}o(V0e,"readLineBreak");function el(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;Rv(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(qg(i))for(V0e(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&VH(e,"deficient indentation"),n}o(el,"skipSeparationSpace");function YH(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||bu(r)))}o(YH,"testDocumentSeparator");function $0e(e,t){t===1?e.result+=" ":t>1&&(e.result+=fl.repeat(`
`,t-1))}o($0e,"writeFoldedLines");function JBt(e,t,r){var n,i,s,a,l,c,u,f,m=e.kind,h=e.result,p;if(p=e.input.charCodeAt(e.position),bu(p)||I9(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=e.input.charCodeAt(e.position+1),bu(i)||r&&I9(i)))return!1;for(e.kind="scalar",e.result="",s=a=e.position,l=!1;p!==0;){if(p===58){if(i=e.input.charCodeAt(e.position+1),bu(i)||r&&I9(i))break}else if(p===35){if(n=e.input.charCodeAt(e.position-1),bu(n))break}else{if(e.position===e.lineStart&&YH(e)||r&&I9(p))break;if(qg(p))if(c=e.line,u=e.lineStart,f=e.lineIndent,el(e,!1,-1),e.lineIndent>=t){l=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=a,e.line=c,e.lineStart=u,e.lineIndent=f;break}}l&&(LC(e,s,a,!1),$0e(e,e.line-c),s=a=e.position,l=!1),Rv(p)||(a=e.position+1),p=e.input.charCodeAt(++e.position)}return LC(e,s,a,!1),e.result?!0:(e.kind=m,e.result=h,!1)}o(JBt,"readPlainScalar");function ZBt(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(LC(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else qg(r)?(LC(e,n,i,!0),$0e(e,el(e,!1,t)),n=i=e.position):e.position===e.lineStart&&YH(e)?tn(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);tn(e,"unexpected end of the stream within a single quoted scalar")}o(ZBt,"readSingleQuotedScalar");function XBt(e,t){var r,n,i,s,a,l;if(l=e.input.charCodeAt(e.position),l!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(l=e.input.charCodeAt(e.position))!==0;){if(l===34)return LC(e,r,e.position,!0),e.position++,!0;if(l===92){if(LC(e,r,e.position,!0),l=e.input.charCodeAt(++e.position),qg(l))el(e,!1,t);else if(l<256&&aUe[l])e.result+=lUe[l],e.position++;else if((a=$Bt(l))>0){for(i=a,s=0;i>0;i--)l=e.input.charCodeAt(++e.position),(a=VBt(l))>=0?s=(s<<4)+a:tn(e,"expected hexadecimal character");e.result+=YBt(s),e.position++}else tn(e,"unknown escape sequence");r=n=e.position}else qg(l)?(LC(e,r,n,!0),$0e(e,el(e,!1,t)),r=n=e.position):e.position===e.lineStart&&YH(e)?tn(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}tn(e,"unexpected end of the stream within a double quoted scalar")}o(XBt,"readDoubleQuotedScalar");function eDt(e,t){var r=!0,n,i,s,a=e.tag,l,c=e.anchor,u,f,m,h,p,g=Object.create(null),x,v,E,b;if(b=e.input.charCodeAt(e.position),b===91)f=93,p=!1,l=[];else if(b===123)f=125,p=!0,l={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=l),b=e.input.charCodeAt(++e.position);b!==0;){if(el(e,!0,t),b=e.input.charCodeAt(e.position),b===f)return e.position++,e.tag=a,e.anchor=c,e.kind=p?"mapping":"sequence",e.result=l,!0;r?b===44&&tn(e,"expected the node content, but found ','"):tn(e,"missed comma between flow collection entries"),v=x=E=null,m=h=!1,b===63&&(u=e.input.charCodeAt(e.position+1),bu(u)&&(m=h=!0,e.position++,el(e,!0,t))),n=e.line,i=e.lineStart,s=e.position,w9(e,t,HH,!1,!0),v=e.tag,x=e.result,el(e,!0,t),b=e.input.charCodeAt(e.position),(h||e.line===n)&&b===58&&(m=!0,b=e.input.charCodeAt(++e.position),el(e,!0,t),w9(e,t,HH,!1,!0),E=e.result),p?T9(e,l,g,v,x,E,n,i,s):m?l.push(T9(e,null,g,v,x,E,n,i,s)):l.push(x),el(e,!0,t),b=e.input.charCodeAt(e.position),b===44?(r=!0,b=e.input.charCodeAt(++e.position)):r=!1}tn(e,"unexpected end of the stream within a flow collection")}o(eDt,"readFlowCollection");function tDt(e,t){var r,n,i=O0e,s=!1,a=!1,l=t,c=0,u=!1,f,m;if(m=e.input.charCodeAt(e.position),m===124)n=!1;else if(m===62)n=!0;else return!1;for(e.kind="scalar",e.result="";m!==0;)if(m=e.input.charCodeAt(++e.position),m===43||m===45)O0e===i?i=m===43?MOe:WBt:tn(e,"repeat of a chomping mode identifier");else if((f=zBt(m))>=0)f===0?tn(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?tn(e,"repeat of an indentation width identifier"):(l=t+f-1,a=!0);else break;if(Rv(m)){do m=e.input.charCodeAt(++e.position);while(Rv(m));if(m===35)do m=e.input.charCodeAt(++e.position);while(!qg(m)&&m!==0)}for(;m!==0;){for(V0e(e),e.lineIndent=0,m=e.input.charCodeAt(e.position);(!a||e.lineIndent<l)&&m===32;)e.lineIndent++,m=e.input.charCodeAt(++e.position);if(!a&&e.lineIndent>l&&(l=e.lineIndent),qg(m)){c++;continue}if(e.lineIndent<l){i===MOe?e.result+=fl.repeat(`
`,s?1+c:c):i===O0e&&s&&(e.result+=`
`);break}for(n?Rv(m)?(u=!0,e.result+=fl.repeat(`
`,s?1+c:c)):u?(u=!1,e.result+=fl.repeat(`
`,c+1)):c===0?s&&(e.result+=" "):e.result+=fl.repeat(`
`,c):e.result+=fl.repeat(`
`,s?1+c:c),s=!0,a=!0,c=0,r=e.position;!qg(m)&&m!==0;)m=e.input.charCodeAt(++e.position);LC(e,r,e.position,!1)}return!0}o(tDt,"readBlockScalar");function GOe(e,t){var r,n=e.tag,i=e.anchor,s=[],a,l=!1,c;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),c=e.input.charCodeAt(e.position);c!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,tn(e,"tab characters must not be used in indentation")),!(c!==45||(a=e.input.charCodeAt(e.position+1),!bu(a))));){if(l=!0,e.position++,el(e,!0,-1)&&e.lineIndent<=t){s.push(null),c=e.input.charCodeAt(e.position);continue}if(r=e.line,w9(e,t,iUe,!1,!0),s.push(e.result),el(e,!0,-1),c=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&c!==0)tn(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return l?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=s,!0):!1}o(GOe,"readBlockSequence");function rDt(e,t,r){var n,i,s,a,l,c,u=e.tag,f=e.anchor,m={},h=Object.create(null),p=null,g=null,x=null,v=!1,E=!1,b;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=m),b=e.input.charCodeAt(e.position);b!==0;){if(!v&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,tn(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),s=e.line,(b===63||b===58)&&bu(n))b===63?(v&&(T9(e,m,h,p,g,null,a,l,c),p=g=x=null),E=!0,v=!0,i=!0):v?(v=!1,i=!0):tn(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,b=n;else{if(a=e.line,l=e.lineStart,c=e.position,!w9(e,r,nUe,!1,!0))break;if(e.line===s){for(b=e.input.charCodeAt(e.position);Rv(b);)b=e.input.charCodeAt(++e.position);if(b===58)b=e.input.charCodeAt(++e.position),bu(b)||tn(e,"a whitespace character is expected after the key-value separator within a block mapping"),v&&(T9(e,m,h,p,g,null,a,l,c),p=g=x=null),E=!0,v=!1,i=!1,p=e.tag,g=e.result;else if(E)tn(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=u,e.anchor=f,!0}else if(E)tn(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=u,e.anchor=f,!0}if((e.line===s||e.lineIndent>t)&&(v&&(a=e.line,l=e.lineStart,c=e.position),w9(e,t,jH,!0,i)&&(v?g=e.result:x=e.result),v||(T9(e,m,h,p,g,x,a,l,c),p=g=x=null),el(e,!0,-1),b=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&b!==0)tn(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return v&&T9(e,m,h,p,g,null,a,l,c),E&&(e.tag=u,e.anchor=f,e.kind="mapping",e.result=m),E}o(rDt,"readBlockMapping");function nDt(e){var t,r=!1,n=!1,i,s,a;if(a=e.input.charCodeAt(e.position),a!==33)return!1;if(e.tag!==null&&tn(e,"duplication of a tag property"),a=e.input.charCodeAt(++e.position),a===60?(r=!0,a=e.input.charCodeAt(++e.position)):a===33?(n=!0,i="!!",a=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do a=e.input.charCodeAt(++e.position);while(a!==0&&a!==62);e.position<e.length?(s=e.input.slice(t,e.position),a=e.input.charCodeAt(++e.position)):tn(e,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!bu(a);)a===33&&(n?tn(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),oUe.test(i)||tn(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),a=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),jBt.test(s)&&tn(e,"tag suffix cannot contain flow indicator characters")}s&&!sUe.test(s)&&tn(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{tn(e,"tag name is malformed: "+s)}return r?e.tag=s:QC.call(e.tagMap,i)?e.tag=e.tagMap[i]+s:i==="!"?e.tag="!"+s:i==="!!"?e.tag="tag:yaml.org,2002:"+s:tn(e,'undeclared tag handle "'+i+'"'),!0}o(nDt,"readTagProperty");function iDt(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&tn(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!bu(r)&&!I9(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&tn(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}o(iDt,"readAnchorProperty");function oDt(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!bu(n)&&!I9(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&tn(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),QC.call(e.anchorMap,r)||tn(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],el(e,!0,-1),!0}o(oDt,"readAlias");function w9(e,t,r,n,i){var s,a,l,c=1,u=!1,f=!1,m,h,p,g,x,v;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=a=l=jH===r||iUe===r,n&&el(e,!0,-1)&&(u=!0,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)),c===1)for(;nDt(e)||iDt(e);)el(e,!0,-1)?(u=!0,l=s,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)):l=!1;if(l&&(l=u||i),(c===1||jH===r)&&(HH===r||nUe===r?x=t:x=t+1,v=e.position-e.lineStart,c===1?l&&(GOe(e,v)||rDt(e,v,x))||eDt(e,x)?f=!0:(a&&tDt(e,x)||ZBt(e,x)||XBt(e,x)?f=!0:oDt(e)?(f=!0,(e.tag!==null||e.anchor!==null)&&tn(e,"alias node should not have any properties")):JBt(e,x,HH===r)&&(f=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):c===0&&(f=l&&GOe(e,v))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&tn(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),m=0,h=e.implicitTypes.length;m<h;m+=1)if(g=e.implicitTypes[m],g.resolve(e.result)){e.result=g.construct(e.result),e.tag=g.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(QC.call(e.typeMap[e.kind||"fallback"],e.tag))g=e.typeMap[e.kind||"fallback"][e.tag];else for(g=null,p=e.typeMap.multi[e.kind||"fallback"],m=0,h=p.length;m<h;m+=1)if(e.tag.slice(0,p[m].tag.length)===p[m].tag){g=p[m];break}g||tn(e,"unknown tag !<"+e.tag+">"),e.result!==null&&g.kind!==e.kind&&tn(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+g.kind+'", not "'+e.kind+'"'),g.resolve(e.result,e.tag)?(e.result=g.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):tn(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||f}o(w9,"composeNode");function sDt(e){var t=e.position,r,n,i,s=!1,a;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(a=e.input.charCodeAt(e.position))!==0&&(el(e,!0,-1),a=e.input.charCodeAt(e.position),!(e.lineIndent>0||a!==37));){for(s=!0,a=e.input.charCodeAt(++e.position),r=e.position;a!==0&&!bu(a);)a=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&tn(e,"directive name must not be less than one character in length");a!==0;){for(;Rv(a);)a=e.input.charCodeAt(++e.position);if(a===35){do a=e.input.charCodeAt(++e.position);while(a!==0&&!qg(a));break}if(qg(a))break;for(r=e.position;a!==0&&!bu(a);)a=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}a!==0&&V0e(e),QC.call(qOe,n)?qOe[n](e,n,i):VH(e,'unknown document directive "'+n+'"')}if(el(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,el(e,!0,-1)):s&&tn(e,"directives end mark is expected"),w9(e,e.lineIndent-1,jH,!1,!0),el(e,!0,-1),e.checkLineBreaks&&HBt.test(e.input.slice(t,e.position))&&VH(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&YH(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,el(e,!0,-1));return}if(e.position<e.length-1)tn(e,"end of the stream or a document separator is expected");else return}o(sDt,"readDocument");function uUe(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new KBt(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,tn(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)sDt(r);return r.documents}o(uUe,"loadDocuments");function aDt(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=uUe(e,r);if(typeof t!="function")return n;for(var i=0,s=n.length;i<s;i+=1)t(n[i])}o(aDt,"loadAll$1");function lDt(e,t){var r=uUe(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new vu("expected a single document in the stream, but found more")}}o(lDt,"load$1");var cDt=aDt,uDt=lDt,fUe={loadAll:cDt,load:uDt},dUe=Object.prototype.toString,mUe=Object.prototype.hasOwnProperty,z0e=65279,fDt=9,uR=10,dDt=13,mDt=32,hDt=33,pDt=34,q0e=35,gDt=37,ADt=38,yDt=39,CDt=42,hUe=44,xDt=45,$H=58,vDt=61,bDt=62,EDt=63,IDt=64,pUe=91,gUe=93,TDt=96,AUe=123,wDt=124,yUe=125,$c={};$c[0]="\\0";$c[7]="\\a";$c[8]="\\b";$c[9]="\\t";$c[10]="\\n";$c[11]="\\v";$c[12]="\\f";$c[13]="\\r";$c[27]="\\e";$c[34]='\\"';$c[92]="\\\\";$c[133]="\\N";$c[160]="\\_";$c[8232]="\\L";$c[8233]="\\P";var _Dt=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],SDt=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function kDt(e,t){var r,n,i,s,a,l,c;if(t===null)return{};for(r={},n=Object.keys(t),i=0,s=n.length;i<s;i+=1)a=n[i],l=String(t[a]),a.slice(0,2)==="!!"&&(a="tag:yaml.org,2002:"+a.slice(2)),c=e.compiledTypeMap.fallback[a],c&&mUe.call(c.styleAliases,l)&&(l=c.styleAliases[l]),r[a]=l;return r}o(kDt,"compileStyleMap");function RDt(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new vu("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+fl.repeat("0",n-t.length)+t}o(RDt,"encodeHex");var BDt=1,fR=2;function DDt(e){this.schema=e.schema||rUe,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=fl.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=kDt(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?fR:BDt,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}o(DDt,"State");function HOe(e,t){for(var r=fl.repeat(" ",t),n=0,i=-1,s="",a,l=e.length;n<l;)i=e.indexOf(`
`,n),i===-1?(a=e.slice(n),n=l):(a=e.slice(n,i+1),n=i+1),a.length&&a!==`
`&&(s+=r),s+=a;return s}o(HOe,"indentString");function W0e(e,t){return`
`+fl.repeat(" ",e.indent*t)}o(W0e,"generateNextLine");function PDt(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}o(PDt,"testImplicitResolving");function zH(e){return e===mDt||e===fDt}o(zH,"isWhitespace");function dR(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==z0e||65536<=e&&e<=1114111}o(dR,"isPrintable");function jOe(e){return dR(e)&&e!==z0e&&e!==dDt&&e!==uR}o(jOe,"isNsCharOrWhitespace");function VOe(e,t,r){var n=jOe(e),i=n&&!zH(e);return(r?n:n&&e!==hUe&&e!==pUe&&e!==gUe&&e!==AUe&&e!==yUe)&&e!==q0e&&!(t===$H&&!i)||jOe(t)&&!zH(t)&&e===q0e||t===$H&&i}o(VOe,"isPlainSafe");function FDt(e){return dR(e)&&e!==z0e&&!zH(e)&&e!==xDt&&e!==EDt&&e!==$H&&e!==hUe&&e!==pUe&&e!==gUe&&e!==AUe&&e!==yUe&&e!==q0e&&e!==ADt&&e!==CDt&&e!==hDt&&e!==wDt&&e!==vDt&&e!==bDt&&e!==yDt&&e!==pDt&&e!==gDt&&e!==IDt&&e!==TDt}o(FDt,"isPlainSafeFirst");function NDt(e){return!zH(e)&&e!==$H}o(NDt,"isPlainSafeLast");function lR(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}o(lR,"codePointAt");function CUe(e){var t=/^\n* /;return t.test(e)}o(CUe,"needIndentIndicator");var xUe=1,G0e=2,vUe=3,bUe=4,E9=5;function LDt(e,t,r,n,i,s,a,l){var c,u=0,f=null,m=!1,h=!1,p=n!==-1,g=-1,x=FDt(lR(e,0))&&NDt(lR(e,e.length-1));if(t||a)for(c=0;c<e.length;u>=65536?c+=2:c++){if(u=lR(e,c),!dR(u))return E9;x=x&&VOe(u,f,l),f=u}else{for(c=0;c<e.length;u>=65536?c+=2:c++){if(u=lR(e,c),u===uR)m=!0,p&&(h=h||c-g-1>n&&e[g+1]!==" ",g=c);else if(!dR(u))return E9;x=x&&VOe(u,f,l),f=u}h=h||p&&c-g-1>n&&e[g+1]!==" "}return!m&&!h?x&&!a&&!i(e)?xUe:s===fR?E9:G0e:r>9&&CUe(e)?E9:a?s===fR?E9:G0e:h?bUe:vUe}o(LDt,"chooseScalarStyle");function QDt(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===fR?'""':"''";if(!e.noCompatMode&&(_Dt.indexOf(t)!==-1||SDt.test(t)))return e.quotingType===fR?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),a=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),l=n||e.flowLevel>-1&&r>=e.flowLevel;function c(u){return PDt(e,u)}switch(o(c,"testAmbiguity"),LDt(t,l,e.indent,a,c,e.quotingType,e.forceQuotes&&!n,i)){case xUe:return t;case G0e:return"'"+t.replace(/'/g,"''")+"'";case vUe:return"|"+$Oe(t,e.indent)+zOe(HOe(t,s));case bUe:return">"+$Oe(t,e.indent)+zOe(HOe(MDt(t,a),s));case E9:return'"'+ODt(t)+'"';default:throw new vu("impossible error: invalid scalar style")}}()}o(QDt,"writeScalar");function $Oe(e,t){var r=CUe(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),s=i?"+":n?"":"-";return r+s+`
`}o($Oe,"blockHeader");function zOe(e){return e[e.length-1]===`
`?e.slice(0,-1):e}o(zOe,"dropEndingNewline");function MDt(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var u=e.indexOf(`
`);return u=u!==-1?u:e.length,r.lastIndex=u,YOe(e.slice(0,u),t)}(),i=e[0]===`
`||e[0]===" ",s,a;a=r.exec(e);){var l=a[1],c=a[2];s=c[0]===" ",n+=l+(!i&&!s&&c!==""?`
`:"")+YOe(c,t),i=s}return n}o(MDt,"foldString");function YOe(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,s,a=0,l=0,c="";n=r.exec(e);)l=n.index,l-i>t&&(s=a>i?a:l,c+=`
`+e.slice(i,s),i=s+1),a=l;return c+=`
`,e.length-i>t&&a>i?c+=e.slice(i,a)+`
`+e.slice(a+1):c+=e.slice(i),c.slice(1)}o(YOe,"foldLine");function ODt(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=lR(e,i),n=$c[r],!n&&dR(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||RDt(r);return t}o(ODt,"escapeString");function UDt(e,t,r){var n="",i=e.tag,s,a,l;for(s=0,a=r.length;s<a;s+=1)l=r[s],e.replacer&&(l=e.replacer.call(r,String(s),l)),($A(e,t,l,!1,!1)||typeof l>"u"&&$A(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}o(UDt,"writeFlowSequence");function KOe(e,t,r,n){var i="",s=e.tag,a,l,c;for(a=0,l=r.length;a<l;a+=1)c=r[a],e.replacer&&(c=e.replacer.call(r,String(a),c)),($A(e,t+1,c,!0,!0,!1,!0)||typeof c>"u"&&$A(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=W0e(e,t)),e.dump&&uR===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=s,e.dump=i||"[]"}o(KOe,"writeBlockSequence");function qDt(e,t,r){var n="",i=e.tag,s=Object.keys(r),a,l,c,u,f;for(a=0,l=s.length;a<l;a+=1)f="",n!==""&&(f+=", "),e.condenseFlow&&(f+='"'),c=s[a],u=r[c],e.replacer&&(u=e.replacer.call(r,c,u)),$A(e,t,c,!1,!1)&&(e.dump.length>1024&&(f+="? "),f+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),$A(e,t,u,!1,!1)&&(f+=e.dump,n+=f));e.tag=i,e.dump="{"+n+"}"}o(qDt,"writeFlowMapping");function WDt(e,t,r,n){var i="",s=e.tag,a=Object.keys(r),l,c,u,f,m,h;if(e.sortKeys===!0)a.sort();else if(typeof e.sortKeys=="function")a.sort(e.sortKeys);else if(e.sortKeys)throw new vu("sortKeys must be a boolean or a function");for(l=0,c=a.length;l<c;l+=1)h="",(!n||i!=="")&&(h+=W0e(e,t)),u=a[l],f=r[u],e.replacer&&(f=e.replacer.call(r,u,f)),$A(e,t+1,u,!0,!0,!0)&&(m=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,m&&(e.dump&&uR===e.dump.charCodeAt(0)?h+="?":h+="? "),h+=e.dump,m&&(h+=W0e(e,t)),$A(e,t+1,f,!0,m)&&(e.dump&&uR===e.dump.charCodeAt(0)?h+=":":h+=": ",h+=e.dump,i+=h));e.tag=s,e.dump=i||"{}"}o(WDt,"writeBlockMapping");function JOe(e,t,r){var n,i,s,a,l,c;for(i=r?e.explicitTypes:e.implicitTypes,s=0,a=i.length;s<a;s+=1)if(l=i[s],(l.instanceOf||l.predicate)&&(!l.instanceOf||typeof t=="object"&&t instanceof l.instanceOf)&&(!l.predicate||l.predicate(t))){if(r?l.multi&&l.representName?e.tag=l.representName(t):e.tag=l.tag:e.tag="?",l.represent){if(c=e.styleMap[l.tag]||l.defaultStyle,dUe.call(l.represent)==="[object Function]")n=l.represent(t,c);else if(mUe.call(l.represent,c))n=l.represent[c](t,c);else throw new vu("!<"+l.tag+'> tag resolver accepts not "'+c+'" style');e.dump=n}return!0}return!1}o(JOe,"detectType");function $A(e,t,r,n,i,s,a){e.tag=null,e.dump=r,JOe(e,r,!1)||JOe(e,r,!0);var l=dUe.call(e.dump),c=n,u;n&&(n=e.flowLevel<0||e.flowLevel>t);var f=l==="[object Object]"||l==="[object Array]",m,h;if(f&&(m=e.duplicates.indexOf(r),h=m!==-1),(e.tag!==null&&e.tag!=="?"||h||e.indent!==2&&t>0)&&(i=!1),h&&e.usedDuplicates[m])e.dump="*ref_"+m;else{if(f&&h&&!e.usedDuplicates[m]&&(e.usedDuplicates[m]=!0),l==="[object Object]")n&&Object.keys(e.dump).length!==0?(WDt(e,t,e.dump,i),h&&(e.dump="&ref_"+m+e.dump)):(qDt(e,t,e.dump),h&&(e.dump="&ref_"+m+" "+e.dump));else if(l==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!a&&t>0?KOe(e,t-1,e.dump,i):KOe(e,t,e.dump,i),h&&(e.dump="&ref_"+m+e.dump)):(UDt(e,t,e.dump),h&&(e.dump="&ref_"+m+" "+e.dump));else if(l==="[object String]")e.tag!=="?"&&QDt(e,e.dump,t,s,c);else{if(l==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new vu("unacceptable kind of an object to dump "+l)}e.tag!==null&&e.tag!=="?"&&(u=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",e.dump=u+" "+e.dump)}return!0}o($A,"writeNode");function GDt(e,t){var r=[],n=[],i,s;for(H0e(e,r,n),i=0,s=n.length;i<s;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(s)}o(GDt,"getDuplicateReferences");function H0e(e,t,r){var n,i,s;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)H0e(e[i],t,r);else for(n=Object.keys(e),i=0,s=n.length;i<s;i+=1)H0e(e[n[i]],t,r)}o(H0e,"inspectNode");function HDt(e,t){t=t||{};var r=new DDt(t);r.noRefs||GDt(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),$A(r,0,n,!0,!0)?r.dump+`
`:""}o(HDt,"dump$1");var jDt=HDt,VDt={dump:jDt};function Y0e(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}o(Y0e,"renamed");var j3n=fUe.load,V3n=fUe.loadAll,K0e=VDt.dump;var $3n=Y0e("safeLoad","load"),z3n=Y0e("safeLoadAll","loadAll"),Y3n=Y0e("safeDump","dump");var Bv=et(Df());var J0e=class{constructor(){this.resolvedSkills={};this.resolutions=[]}static{o(this,"SkillDump")}},Wl=class{constructor(){this.dump=new In(25);this.promptsDump=new In(1)}static{o(this,"ConversationDumper")}addResolvedSkill(t,r,n){let i=this.getDump(t);i.resolvedSkills[r]=n}getResolvedSkill(t,r){return this.getDump(t).resolvedSkills[r]}addResolution(t,r){this.getDump(t).resolutions.push(r)}getDump(t){let r=this.dump.get(t);return r||(r=new J0e,this.dump.set(t,r)),r}addPrompt(t,r,n){let i=this.promptsDump.get(t);i===void 0&&(i=new Map,this.promptsDump.set(t,i)),i.set(n,r)}getLastTurnPrompts(){if(this.promptsDump===void 0)return;let t=this.promptsDump.values().next();if(!t.done)return t.value}};function EUe(e){let t=e.copy();return t.turns=t.turns.filter(r=>r.status!=="in-progress"&&(r.response===void 0||r.response?.type==="model")),t}o(EUe,"filterConversationTurns");function N0e(e){return EUe(e).getLastTurn()?.id}o(N0e,"getLastTurnId");async function BOe(e){let t=EUe(e.conversation),r=N0e(e.conversation);if(!r)return"Nothing to dump because no request has been sent to the model yet.";let i=e.ctx.get(Wl).getDump(r),s=YDt(i,t.turns);Jn.debug(e.ctx,`conversation.dump
`,`
`+s);let a=await KDt(i,e.ctx);return Bv.default`
        ${zDt(e.conversation,r)}
        ${$Dt(e.ctx)}

        The following code can be copied into a chat simulation \`yml\` file. This response has not polluted the conversation history and did not cause any model roundtrip.
        \`\`\`yaml
        ${s}
        \`\`\`${a?`
${a}`:""}
        `}o(BOe,"getConversationDump");function $Dt(e){let t=e.get(dn);return Bv.default`
        - IDE: \`${t.getEditorInfo().name} (${t.getEditorInfo().version})\`
        - Plugin: \`${t.getEditorPluginInfo().version}\`
    `}o($Dt,"getEditorInfoDumpMessage");function zDt(e,t){return Bv.default`
        Debug information for the last turn of the conversation.

        - ConversationId: \`${e.id}\`
        - MessageId: \`${t}\`
    `}o(zDt,"getInfoDumpMessage");async function DOe(e,t,r){let n=e.ctx.get(Xa),i="# Available skills",s=n.getDescriptors().filter(a=>e.ctx.get(Gi).getSupportedSkills(e.conversation.id).includes(a.id));if(r&&(s=s.filter(a=>a.id===r)),s.length===0)return`No skill with id ${r} available`;for(let a of s)i+=`
- ${a.id}`;e.turn.request.message&&an(e.turn.request.message).trim().length>0&&(i+=`

**User message**: ${an(e.turn.request.message)}`);for(let a of s){i+=`
## ${a.id}`,i+=Bv.default`
            \n\n
            **Description**
            
            ${a.description()}`;let l=n.getSkill(a.id),c=await l?.resolver(e).resolveSkill(e);if(c){i+=Bv.default`
                \n\n
                **Resolution**
                
                \`\`\`yaml
                ${K0e(c)}
                \`\`\``;let u=await l?.processor(e).processSkill(c,e);if(u){let f=typeof u=="string"?u:u.elide(1e3).getText();i+=Bv.default`
                    \n\n
                    **Processed value**
                    
                    ${f}`}else i+=`

**Unprocessable**`}else i+=`

**Unresolvable**`}return i}o(DOe,"getSkillsDump");function YDt(e,t){let r={state:{skills:e.resolvedSkills},turns:t.map((n,i)=>{let s={request:an(n.request.message)};return n.response&&(s.response=an(n.response.message)),s})};return K0e(r)}o(YDt,"toSimulationFormat");async function KDt(e,t){let r=e.resolutions.map(s=>s.files).flat(),n=r.filter((s,a)=>s&&r.indexOf(s)===a),i;for(let s of n)if(s&&s.status==="included"){i||(i=`The following files have been used:
`);let a=await t.get(Dn).getOrReadTextDocument(s),l;a.status==="valid"&&(l=a.document);let c=l?.getText();Jn.debug(t,`conversation.dump.file
`,c),i+=`
**${s.uri}**

\`\`\`${l?.detectedLanguageId}
${c}
\`\`\``}return i}o(KDt,"fileDump");d();function Z0e(e,t){let r=go(t.tokenizer),n=0;for(let i of e)n+=t.baseTokensPerMessage,i.role&&(n+=r.tokenize(i.role).length),i.name&&(n+=r.tokenize(i.name).length+t.baseTokensPerName),i.content&&(n+=r.tokenize(an(i.content)).length);return n+=t.baseTokensPerCompletion,n}o(Z0e,"countMessagesTokens");d();function IUe(e,t,r,n,i){let s=["You are an AI programming assistant.",'When asked for your name, you must respond with "GitHub Copilot".',"Follow the user's requirements carefully & to the letter.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal.","You can answer general programming questions and perform the following tasks:","* Ask a question about the files in your current workspace","* Explain how the code in your active editor works","* Make changes to existing code","* Review the selected code in your active editor","* Generate unit tests for the selected code","* Propose a fix for the problems in the selected code","* Scaffold code for a new file or project in a workspace","* Create a new Jupyter Notebook","* Ask questions about VS Code","* Generate query parameters for workspace search","* Ask how to do something in the terminal","* Explain what just happened in the terminal"].join(`
`),a=["The active document is the source code the user is looking at right now.","You have read access to the code in the active document, files the user has recently worked with and open tabs. You are able to retrieve, read and use this code to answer questions.","You cannot retrieve code that is outside of the current project.","You can only give one reply for each conversation turn."].join(`
`),l=t?`The user works in an IDE called ${t} which can be used to edit code, run and debug the user's application as well as executing tests.`:"",c=n?`The user is using ${n} as their operating system.`:"",u=i?`You use the ${i} large language model.`:"",f=r?`The user is logged in as ${r} on GitHub.`:"";return[s,c,u,f,l,a].filter(m=>m&&m!="").join(`
`)}o(IUe,"chatBasePrompt");d();d();d();d();d();var JDt=".github/copilot-instructions.md",ZDt=".github/git-commit-instructions.md",KH=class{static{o(this,"CustomInstructionsService")}static async _collectInstructionsFromFile(t,r,n,i,s,a){try{let l=Fo(r.uri,n),c=await t.getByUri(l);if(c.status!=="valid"||!c.document)return;let u=c.document.getText().trim();u&&s.push({kind:a,content:[{instruction:u,languageId:i}],reference:l})}catch{}}static async readFromWorkspaces(t,r,n={}){let i=[];if(!r.length)return i;let s=new Ag(t),a=r.flatMap(l=>{let c=[];return n.includeCodeGenerationInstructions!==!1&&c.push(this._collectInstructionsFromFile(s,l,JDt,n.languageId,i,0)),n.includeCommitMessageGenerationInstructions&&c.push(this._collectInstructionsFromFile(s,l,ZDt,void 0,i,0)),c});return await Promise.all(a),i}};var _9=class{static{o(this,"CustomInstruction")}static async getInstructions(t,r,n={}){try{let i=await KH.readFromWorkspaces(t,r,n);return this.processInstructions(i,n)}catch{return}}static processInstructions(t,r={}){if(!t||t.length===0)return;let n=[];for(let s of t){let a=this.createInstructionElement(s,r);a&&n.push(a)}return n.length===0?void 0:`${r.customIntroduction||"When generating code, please follow these user provided coding instructions. You can ignore an instruction if it contradicts a system message."}

<instructions>${n.join(`
`)}</instructions>`}static createInstructionElement(t,r={}){let n=[];for(let i of t.content)i.languageId?r.languageId&&i.languageId===r.languageId&&n.push(`For ${i.languageId} code: ${i.instruction}`):n.push(i.instruction);if(n.length!==0)return n.join(`
`)}};d();d();function TUe(e){let t=e.split(`
`),r=[],n=!1,i=[];for(let s of t)s.startsWith("```")?(n?(r.push([Zu(i.join(`
`)),1]),i=[],r.push([new tr([s]),1])):r.push([new tr([s]),1]),n=!n):n?i.push(s):r.push([new tr([s]),.8]);return n&&(r.push([Zu(i.join(`
`)),1]),r.push([new tr(["```"]),1])),new tr(r)}o(TUe,"fromMessage");function S9(e){let t=X0e(e),r=[];for(let n=0;n<t.length;n++){let i=t[n],s=wUe(i.request,n+1),a=i.response&&i.response?.type!=="meta"?wUe(i.response):"",l=s;a!==""&&(l+=`
`+a+(t.length>1&&n!==t.length-1?`
`:"")),r.push(TUe(l))}return r.length>0?new tr([[new tr(["Consider the following conversation history:"]),1],[FC(r,"inverseLinear"),1]]):null}o(S9,"fromHistory");var XDt=5;function X0e(e,t){return e.filter(n=>(n.status==="success"||n.status==="in-progress")&&an(n.request.message)!=""&&n.agent?.agentSlug===t).reverse().slice(0,XDt).reverse()}o(X0e,"filterTurns");function wUe(e,t=0){let r;switch(e.type){case"user":case"template":r="User";break;case"model":r="GitHub Copilot";break;default:r=e.type}let n=an(e.message).startsWith("```")?`
`:" ";return`${t>0?`${t}) `:""}${r}:${n}${an(e.message)}`}o(wUe,"formatTurnMessage");d();d();d();var ePt=4,eue={skillIds:[]},JH=class{constructor(t,r){this.ctx=t;this.chatFetcher=r}static{o(this,"MetaPromptFetcher")}async fetchPromptContext(t,r,n,i,s){let a=t.conversation.getLastTurn().request.message;if(r.length>0){let l=await this.ctx.get(ui).getBestChatModelConfig(ms("meta"),{tool_calls:!0}),c={promptType:"meta",supportedSkillDescriptors:r,modelConfiguration:l},u=await this.ctx.get(pc).toPrompt(t,c),f=i.extendedBy({messageSource:"chat.metaprompt"},{promptTokenLen:u.tokens}),m={modelConfiguration:l,messages:u.messages,uiKind:s,llmInteraction:t.toLlmInteraction()};if(u.toolConfig===void 0)throw new Error("No tool call configuration found in meta prompt.");m.tool_choice=u.toolConfig.tool_choice,m.tools=u.toolConfig.tools;let h=await this.chatFetcher.fetchResponse(m,n,f);return h.type!=="success"&&(Jr.error(this.ctx,"Failed to fetch prompt context, trying again..."),h=await this.chatFetcher.fetchResponse(m,n,f)),await t.ctx.get(Za).inspectFetchResult(h),this.handleResult(h,f,an(a),s,u.toolConfig)}else return eue}handleResult(t,r,n,i,s){if(t.type!=="success")return this.telemetryError(r,t),eue;let l;if(t.toolCalls&&t.toolCalls.length>0)l=s.extractArguments(t.toolCalls[0]).skillIds?.slice(0,ePt);else return Jr.error(this.ctx,"Missing tool call in meta prompt response"),eue;let c=r.extendedBy({uiKind:i,skillIds:l?.join(",")??""},{numTokens:t.numTokens+t.toolCalls[0].approxNumTokens}),u=c.extendedBy({messageText:n});return jt(this.ctx,`${X0(i)}.metaPrompt`,c,0),jt(this.ctx,`${X0(i)}.promptContext`,u,1),{skillIds:l??[]}}telemetryError(t,r){let n=t.extendedBy({resultType:r.type,reason:r.reason??""});jt(this.ctx,"conversation.promptContextError",n,1)}};d();d();d();var ZH=class{constructor(){this.languageId=["java","kotlin","scala","groovy"]}static{o(this,"JavaProjectMetadataLookup")}determineBuildTools(t){return[...t.buildTools]}determineApplicationFrameworks(t){let r=[];return me(t,r,"org.springframework.boot","Spring Boot"),me(t,r,"jakarta.jakartaee-api","Jakarta EE"),me(t,r,"javax:javaee-api","Java EE"),me(t,r,"org.apache.struts:struts2-core","Apache Struts"),me(t,r,"org.hibernate:hibernate-core","Hibernate"),me(t,r,"org.apache.wicket:wicket-core","Apache Wicket"),me(t,r,"javax.faces:jsf-api","JSF"),me(t,r,"org.grails:grails-core","Grails"),r}determineCoreLibraries(t){let r=[];return me(t,r,"com.google.guava","Google Guava"),me(t,r,"org.apache.commons:commons-lang3","Apache Commons Lang"),me(t,r,"org.apache.commons:commons-io","Apache Commons IO"),me(t,r,"joda-time:joda-time","Joda-Time"),me(t,r,"com.google.code.gson:gson","Google Gson"),me(t,r,"org.apache.commons:commons-math3","Apache Commons Math"),me(t,r,"org.apache.commons:commons-collections4","Apache Commons Collections"),me(t,r,"org.apache.commons:commons-net","Apache Commons Net"),me(t,r,"org.apache.poi:poi","Apache POI"),me(t,r,"com.fasterxml.jackson.core:jackson-databind","Jackson"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"org.junit.jupiter:junit-jupiter","JUnit"),me(t,r,"junit:junit","JUnit"),me(t,r,"org.testng:testng","TestNG"),me(t,r,"org.spockframework:spock-core","Spock"),me(t,r,"io.cucumber:cucumber-java","Cucumber"),me(t,r,"org.jboss.arquillian.junit:arquillian-junit-container","Arquillian"),r}determineTestingLibraries(t){let r=[];return me(t,r,"org.mockito","Mockito"),me(t,r,"org.assertj","AssertJ"),me(t,r,"org.hamcrest","Hamcrest"),me(t,r,"org.powermock","PowerMock"),me(t,r,"org.jmock","JMock"),me(t,r,"org.easymock","EasyMock"),me(t,r,"org.jmockit:jmockit","JMockit"),me(t,r,"com.github.tomakehurst:wiremock","WireMock"),me(t,r,"org.dbunit:dbunit","DBUnit"),me(t,r,"com.icegreen:greenmail","GreenMail"),me(t,r,"net.sourceforge.htmlunit:htmlunit","HtmlUnit"),me(t,r,"org.seleniumhq.selenium:selenium-java","Selenium"),me(t,r,"io.rest-assured:rest-assured","Rest-Assured"),me(t,r,"io.gatling.highcharts:gatling-charts-highcharts","Gatling"),me(t,r,"org.apache.jmeter:ApacheJMeter","JMeter"),r}},XH=class{constructor(){this.languageId=["javascript","javascriptreact","typescript","typescriptreact","vue"]}static{o(this,"JavaScriptProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"@types/node","Node.js"),me(t,r,"react-native","React Native"),r.find(n=>n.name==="React Native")||me(t,r,"react","React"),me(t,r,"angular","Angular"),me(t,r,"vue","Vue.js"),me(t,r,"ember","Ember.js"),me(t,r,"backbone","Backbone.js"),me(t,r,"meteor","Meteor"),me(t,r,"polymer","Polymer"),me(t,r,"aurelia","Aurelia"),me(t,r,"knockout","Knockout.js"),me(t,r,"dojo","Dojo Toolkit"),me(t,r,"mithril","Mithril.js"),me(t,r,"marionette","Marionette.js"),me(t,r,"marko","Marko.js"),me(t,r,"svelte","Svelte"),me(t,r,"hyperapp","Hyperapp"),me(t,r,"inferno","Inferno.js"),me(t,r,"preact","Preact"),me(t,r,"riot","Riot.js"),me(t,r,"moon","Moon.js"),me(t,r,"stencil","Stencil.js"),r}determineCoreLibraries(t){let r=[];return me(t,r,"lodash","Lodash"),me(t,r,"moment","Moment.js"),me(t,r,"axios","Axios"),me(t,r,"redux","Redux"),me(t,r,"recoil","Recoil"),me(t,r,"jquery","jQuery"),me(t,r,"d3","D3.js"),me(t,r,"underscore","Underscore.js"),me(t,r,"ramda","Ramda"),me(t,r,"immutable","Immutable.js"),me(t,r,"rxjs","RxJS"),me(t,r,"three","Three.js"),me(t,r,"socket.io","Socket.IO"),me(t,r,"express","Express.js"),me(t,r,"next","Next.js"),me(t,r,"puppeteer","Puppeteer"),me(t,r,"cheerio","Cheerio"),me(t,r,"nodemailer","Nodemailer"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"jest","Jest"),me(t,r,"mocha","Mocha"),me(t,r,"jasmine","Jasmine"),me(t,r,"ava","AVA"),me(t,r,"qunit","QUnit"),me(t,r,"tape","Tape"),r}determineTestingLibraries(t){let r=[];return me(t,r,"chai","Chai"),me(t,r,"sinon","Sinon"),me(t,r,"enzyme","Enzyme"),me(t,r,"protractor","Protractor"),me(t,r,"supertest","Supertest"),me(t,r,"nock","Nock"),me(t,r,"cypress","Cypress"),me(t,r,"@testing-library/react","React Testing Library"),r}},ej=class{constructor(){this.languageId="go"}static{o(this,"GoProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"github.com/gorilla/mux","Gorilla Mux"),me(t,r,"github.com/go-chi/chi","Chi"),me(t,r,"github.com/gin-gonic/gin","Gin"),me(t,r,"github.com/labstack/echo","Echo"),me(t,r,"github.com/revel/revel","Revel"),me(t,r,"github.com/astaxie/beego","Beego"),me(t,r,"github.com/go-martini/martini","Martini"),me(t,r,"github.com/gobuffalo/buffalo","Buffalo"),me(t,r,"github.com/goji/goji","Goji"),me(t,r,"github.com/hoisie/web","Web.go"),r}determineCoreLibraries(t){let r=[];return me(t,r,"net/http","net/http"),me(t,r,"fmt","fmt"),me(t,r,"io","io"),me(t,r,"time","time"),me(t,r,"math","math"),me(t,r,"strconv","strconv"),me(t,r,"strings","strings"),me(t,r,"sort","sort"),me(t,r,"encoding/json","encoding/json"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"github.com/onsi/ginkgo","ginkgo"),me(t,r,"github.com/onsi/gomega","gomega"),me(t,r,"github.com/stretchr/testify","testify"),me(t,r,"gopkg.in/check.v1","gocheck"),me(t,r,"github.com/franela/goblin","goblin"),me(t,r,"github.com/DATA-DOG/godog","godog"),me(t,r,"github.com/stesla/gospec","gospec"),me(t,r,"github.com/rjeczalik/gotest","gotest"),me(t,r,"github.com/smartystreets/goconvey","goconvey"),r}determineTestingLibraries(t){let r=[];return me(t,r,"github.com/stretchr/testify","Testify"),me(t,r,"github.com/smartystreets/goconvey","GoConvey"),me(t,r,"github.com/onsi/ginkgo","Ginkgo"),me(t,r,"github.com/golang/mock","GoMock"),me(t,r,"gopkg.in/check.v1","GoCheck"),me(t,r,"github.com/franela/goblin","Goblin"),me(t,r,"github.com/DATA-DOG/godog","GoDog"),me(t,r,"github.com/onsi/gomega","Gomega"),me(t,r,"github.com/stesla/gospec","GoSpec"),me(t,r,"github.com/rjeczalik/gotest","GoTest"),r}},tj=class{constructor(){this.languageId=["python","jupyter"]}static{o(this,"PythonProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"flask","Flask"),me(t,r,"django","Django"),me(t,r,"pyramid","Pyramid"),me(t,r,"tornado","Tornado"),me(t,r,"fastapi","FastAPI"),r}determineCoreLibraries(t){let r=[];return me(t,r,"requests","requests"),me(t,r,"numpy","numpy"),me(t,r,"pandas","pandas"),me(t,r,"scipy","scipy"),me(t,r,"matplotlib","matplotlib"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"pytest","Pytest"),me(t,r,"unittest","Unittest"),me(t,r,"doctest","Doctest"),me(t,r,"nose","Nose"),r}determineTestingLibraries(t){let r=[];return me(t,r,"mock","Mock"),me(t,r,"hypothesis","Hypothesis"),me(t,r,"behave","Behave"),me(t,r,"lettuce","Lettuce"),me(t,r,"testify","Testify"),me(t,r,"pyhamcrest","PyHamcrest"),r}},rj=class{constructor(){this.languageId=["php","blade"]}static{o(this,"PhpProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"laravel/framework","Laravel"),me(t,r,"symfony/symfony","Symfony"),me(t,r,"slim/slim","Slim"),me(t,r,"cakephp/cakephp","CakePHP"),me(t,r,"yiisoft/yii2","Yii"),me(t,r,"zendframework/zendframework","Zend Framework"),me(t,r,"phalcon/cphalcon","Phalcon"),me(t,r,"bcosca/fatfree","Fat-Free"),me(t,r,"fuel/fuel","FuelPHP"),me(t,r,"phpixie/framework","PHPixie"),r}determineCoreLibraries(t){let r=[];return me(t,r,"monolog/monolog","Monolog"),me(t,r,"vlucas/phpdotenv","PHP dotenv"),me(t,r,"symfony/console","Symfony Console"),me(t,r,"guzzlehttp/guzzle","GuzzleHttp"),me(t,r,"ramsey/uuid","Ramsey UUID"),me(t,r,"doctrine/orm","Doctrine ORM"),me(t,r,"php-di/php-di","PHP-DI"),me(t,r,"phpunit/php-timer","PHPUnit Timer"),me(t,r,"symfony/finder","Symfony Finder"),me(t,r,"symfony/yaml","Symfony Yaml"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"phpunit/phpunit","PHPUnit"),me(t,r,"behat/behat","Behat"),me(t,r,"phpspec/phpspec","PHPSpec"),me(t,r,"codeception/codeception","Codeception"),me(t,r,"atoum/atoum","Atoum"),me(t,r,"pestphp/pest","PestPHP"),me(t,r,"kahlan/kahlan","Kahlan"),me(t,r,"peridot-php/peridot","Peridot"),me(t,r,"phake/phake","Phake"),r}determineTestingLibraries(t){let r=[];return me(t,r,"mockery/mockery","Mockery"),me(t,r,"php-mock/php-mock","PHP-Mock"),me(t,r,"php-mock/php-mock-phpunit","PHP-Mock PHPUnit"),me(t,r,"padraic/mockery","Padraic Mockery"),me(t,r,"phpspec/prophecy","PHPSpec Prophecy"),me(t,r,"phpunit/php-invoker","PHPUnit Invoker"),me(t,r,"phpunit/php-token-stream","PHPUnit Token Stream"),me(t,r,"phpunit/php-code-coverage","PHPUnit Code Coverage"),me(t,r,"phpunit/php-timer","PHPUnit Timer"),me(t,r,"phpunit/php-text-template","PHPUnit Text Template"),r}},nj=class{constructor(){this.languageId="csharp"}static{o(this,"CSharpProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"Microsoft.NETCore.App",".NET Core"),me(t,r,"Microsoft.AspNetCore.App","ASP.NET Core"),r}determineCoreLibraries(t){let r=[];return me(t,r,"EntityFramework","Entity Framework"),me(t,r,"Newtonsoft.Json","Newtonsoft.Json"),me(t,r,"AutoMapper","AutoMapper"),me(t,r,"Serilog","Serilog"),me(t,r,"Dapper","Dapper"),me(t,r,"Polly","Polly"),me(t,r,"FluentValidation","FluentValidation"),me(t,r,"MediatR","MediatR"),me(t,r,"Hangfire","Hangfire"),me(t,r,"RabbitMQ.Client","RabbitMQ.Client"),me(t,r,"MassTransit","MassTransit"),me(t,r,"Microsoft.Extensions.Logging","Microsoft.Extensions.Logging"),me(t,r,"Microsoft.Extensions.DependencyInjection","Microsoft.Extensions.DependencyInjection"),me(t,r,"Microsoft.Extensions.Configuration","Microsoft.Extensions.Configuration"),me(t,r,"Microsoft.Extensions.Http","Microsoft.Extensions.Http"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"xunit","xUnit"),me(t,r,"NUnit","NUnit"),me(t,r,"SpecFlow","SpecFlow"),r}determineTestingLibraries(t){let r=[];return me(t,r,"Moq","Moq"),me(t,r,"FluentAssertions","FluentAssertions"),me(t,r,"Bogus","Bogus"),me(t,r,"RestSharp","RestSharp"),me(t,r,"Swashbuckle.AspNetCore","Swashbuckle.AspNetCore"),r}},ij=class{constructor(){this.languageId="dart"}static{o(this,"DartProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"flutter","Flutter"),me(t,r,"angular","AngularDart"),r}determineCoreLibraries(t){let r=[];return me(t,r,"dartx","dartx"),me(t,r,"provider","Provider"),me(t,r,"rxdart","RxDart"),me(t,r,"dio","Dio"),me(t,r,"json_serializable","json_serializable"),me(t,r,"freezed","Freezed"),me(t,r,"moor","Moor"),me(t,r,"hive","Hive"),me(t,r,"http","http"),me(t,r,"path","path"),me(t,r,"intl","intl"),me(t,r,"equatable","equatable"),me(t,r,"get_it","get_it"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"test","test"),me(t,r,"flutter_test","flutter_test"),r}determineTestingLibraries(t){let r=[];return me(t,r,"mockito","mockito"),me(t,r,"bloc_test","bloc_test"),r}},oj=class{constructor(){this.languageId="ruby"}static{o(this,"RubyProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"rails","Rails"),me(t,r,"sinatra","Sinatra"),me(t,r,"hanami","Hanami"),me(t,r,"grape","Grape"),me(t,r,"roda","Roda"),me(t,r,"padrino","Padrino"),me(t,r,"cuba","Cuba"),me(t,r,"ramaze","Ramaze"),me(t,r,"nyara","Nyara"),me(t,r,"rack","Rack"),r}determineCoreLibraries(t){let r=[];return me(t,r,"active_record","ActiveRecord"),me(t,r,"sequel","Sequel"),me(t,r,"rom","ROM"),me(t,r,"datamapper","DataMapper"),me(t,r,"mongoid","Mongoid"),me(t,r,"neo4j","Neo4j"),me(t,r,"redis","Redis"),me(t,r,"cassandra","Cassandra"),me(t,r,"couchrest","CouchRest"),me(t,r,"riak","Riak"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"rspec","RSpec"),me(t,r,"minitest","Minitest"),me(t,r,"cucumber","Cucumber"),me(t,r,"spinach","Spinach"),me(t,r,"turnip","Turnip"),me(t,r,"bacon","Bacon"),me(t,r,"shoulda","Shoulda"),me(t,r,"test-unit","Test::Unit"),me(t,r,"wrong","Wrong"),me(t,r,"contest","Contest"),r}determineTestingLibraries(t){let r=[];return me(t,r,"factory_bot","FactoryBot"),me(t,r,"faker","Faker"),me(t,r,"ffaker","FFaker"),me(t,r,"fabrication","Fabrication"),me(t,r,"machinist","Machinist"),me(t,r,"mocha","Mocha"),me(t,r,"flexmock","FlexMock"),me(t,r,"rr","RR"),me(t,r,"bourne","Bourne"),me(t,r,"not_a_mock","NotAMock"),r}},sj=class{constructor(){this.languageId="rust"}static{o(this,"RustProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"tokio","tokio"),me(t,r,"async-std","async-std"),me(t,r,"hyper","hyper"),me(t,r,"actix-web","actix-web"),me(t,r,"rocket","rocket"),r}determineCoreLibraries(t){let r=[];return me(t,r,"serde","serde"),me(t,r,"regex","regex"),me(t,r,"rand","rand"),me(t,r,"log","log"),me(t,r,"lazy_static","lazy_static"),me(t,r,"libc","libc"),me(t,r,"futures","futures"),me(t,r,"rayon","rayon"),me(t,r,"reqwest","reqwest"),me(t,r,"warp","warp"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"test-case","test-case"),me(t,r,"proptest","proptest"),me(t,r,"quickcheck","quickcheck"),r}determineTestingLibraries(t){let r=[];return me(t,r,"mockall","mockall"),me(t,r,"double","double"),me(t,r,"rstest","rstest"),me(t,r,"mockiato","mockiato"),me(t,r,"mock_derive","mock_derive"),me(t,r,"mocktopus","mocktopus"),me(t,r,"mockers","mockers"),me(t,r,"mock_it","mock_it"),r}},aj=class{constructor(){this.languageId=["c","cpp"]}static{o(this,"CProjectMetadataLookup")}determineBuildTools(t){return t.buildTools.filter(r=>["gcc","clang","make","cmake","autotools","ninja","meson"].includes(r.name))}determineApplicationFrameworks(t){return t.libraries.filter(r=>["libc","libuv","openssl","zlib","libevent","libcurl"].includes(r.name))}determineCoreLibraries(t){return t.libraries.filter(r=>["libpng","libjpeg","libxml2","sqlite","postgres","mysql"].includes(r.name))}determineTestingFrameworks(t){return t.libraries.filter(r=>["unity","criterion","cmocka","check","ctest","minunit"].includes(r.name))}determineTestingLibraries(t){return t.libraries.filter(r=>["cmock","fff","trompeloeil","fakeit"].includes(r.name))}};function me(e,t,r,n){let i=e.libraries.find(s=>s.name.toLowerCase().indexOf(r.toLowerCase())>-1);i&&t.push({name:n,version:i.version})}o(me,"addFromLibraries");var lj=class{constructor(t,r){this.languageId=t;this.delegates=r}static{o(this,"CompositeProjectMetadataLookup")}determineBuildTools(t){return this.delegates.map(r=>r.determineBuildTools(t)).flat()}determineApplicationFrameworks(t){return this.delegates.map(r=>r.determineApplicationFrameworks(t)).flat()}determineCoreLibraries(t){return this.delegates.map(r=>r.determineCoreLibraries(t)).flat()}determineTestingFrameworks(t){return this.delegates.map(r=>r.determineTestingFrameworks(t)).flat()}determineTestingLibraries(t){return this.delegates.map(r=>r.determineTestingLibraries(t)).flat()}};function SUe(e){return e.language.version?e.language.name+" "+e.language.version:e.language.name}o(SUe,"determineProgrammingLanguage");var _Ue=[new ZH,new XH,new ej,new tj,new rj,new nj,new ij,new oj,new sj,new aj];function kUe(e){let t=_Ue.find(r=>typeof r.languageId=="string"?r.languageId===e:Array.isArray(r.languageId)?r.languageId.includes(e):!1)??new lj(e,_Ue);return new tue(t)}o(kUe,"getMetadataLookup");var tue=class{constructor(t){this.delegate=t;this.languageId=t.languageId}static{o(this,"DistinctProjectMetadataLookup")}determineBuildTools(t){return this.deduplicateDependencies(this.delegate.determineBuildTools(t))}determineApplicationFrameworks(t){return this.deduplicateDependencies(this.delegate.determineApplicationFrameworks(t))}determineCoreLibraries(t){return this.deduplicateDependencies(this.delegate.determineCoreLibraries(t))}determineTestingFrameworks(t){return this.deduplicateDependencies(this.delegate.determineTestingFrameworks(t))}determineTestingLibraries(t){return this.deduplicateDependencies(this.delegate.determineTestingLibraries(t))}deduplicateDependencies(t){let r=[];return t.forEach(n=>{r.find(i=>i.name===n.name)||r.push(n)}),r}};var RUe=I.Object({name:I.String(),version:I.Optional(I.String())}),BUe=I.Object({language:I.Object({id:I.String(),name:I.String(),version:I.Optional(I.String())}),libraries:I.Array(RUe),buildTools:I.Array(RUe)}),rue=class{constructor(t){this.turnContext=t}static{o(this,"ProjectMetadataSkillProcessor")}value(){return 1}processSkill(t){let r=[];r.push([new tr([`The user is working on a project with the following characteristics:
`]),1]);let n=kUe(t.language.id);return this.addProgrammingLanguage(t,r),this.addBuildTools(t,r,n),this.addApplicationFramework(t,r,n),this.addCoreLibraries(t,r,n),this.addTestingFrameworks(t,r,n),this.addTestingLibraries(t,r,n),new tr(r)}addProgrammingLanguage(t,r){let n=SUe(t);this.turnContext.collectLabel(Wg,n),r.push([new tr([`- programming language: ${n}`]),1])}addBuildTools(t,r,n){this.addToPrompt(r,"- build tools:",n.determineBuildTools(t))}addApplicationFramework(t,r,n){this.addToPrompt(r,"- application frameworks:",n.determineApplicationFrameworks(t))}addCoreLibraries(t,r,n){this.addToPrompt(r,"- core libraries:",n.determineCoreLibraries(t))}addTestingFrameworks(t,r,n){this.addToPrompt(r,"- testing frameworks:",n.determineTestingFrameworks(t))}addTestingLibraries(t,r,n){this.addToPrompt(r,"- testing libraries:",n.determineTestingLibraries(t))}addToPrompt(t,r,n){if(n.length>0){n.forEach(s=>{this.turnContext.collectLabel(Wg,`${s.name}${s.version?" "+s.version:""}`)});let i=n.map(s=>`  - ${s.name}${s.version?" "+s.version:""}`).join(`
`);t.push([new tr([`${r}
${i}`]),1])}}},Wg="project-metadata",cj=class{constructor(t){this._resolver=t;this.id=Wg;this.type="explicit"}static{o(this,"ProjectMetadataSkill")}description(){return"The characteristics of the project the developer is working on (languages, frameworks)"}resolver(){return this._resolver}processor(t){return new rue(t)}};d();var DUe=et(require("path"));var nue=class{constructor(t){this.turnContext=t}static{o(this,"ReferencesSkillProcessor")}value(){return 1}async processSkill(t){let r=this.turnContext.ctx.get(Dn),n=[],i=this.filterIncludedFiles(t),s=(await this.toFileChunks(i,r)).filter(a=>a!==void 0).flat();if(s.length>0)return n.push([new tr(["The user wants you to consider the following referenced files when computing your answer."]),1]),n.push(...s),new tr(n)}filterIncludedFiles(t){return t.filter(r=>r.type==="file"&&!this.turnContext.isFileIncluded(r.uri))}async toFileChunks(t,r){return await Promise.all(t.map(async n=>{if(n.type==="file"&&n.uri)return await this.elideReferencedFiles(r,n)}))}async elideReferencedFiles(t,r){let n=await t.getOrReadTextDocument(r),i=gs(n);if(await this.turnContext.collectFile(fj,r.uri,i),n.status==="valid"){let s=t.getRelativePath(n.document);if(i==="included"){let a=new Qg(n.document,r.selection,r.visibleRange);return[[`Code excerpt from referenced file \`${s}\`:`,1],[a.fromAllCode({addLineNumbers:!1}),1]]}else if(i==="empty")return[[new tr([`The referenced file \`${s}\` is empty.`]),1]]}else if(n.status==="invalid")return[[new tr([`The referenced file \`${DUe.basename(r.uri)}\` is content excluded.`]),1]]}},iue=class{static{o(this,"ReferencesSkillResolver")}resolveSkill(t){if(t.turn.request.references&&t.turn.request.references.length>0)return t.turn.request.references}},fj="references",uj=class{constructor(){this.id=fj;this.type="implicit"}static{o(this,"ReferencesSkill")}description(){return"The code from the user's referenced files"}resolver(){return new iue}processor(t){return new nue(t)}};var Dv=o(()=>[Wg,Fh,fj,jc],"mandatorySkills"),dj=class{constructor(t,r){this.chatFetcher=r;this.metaPromptFetcher=new JH(t,this.chatFetcher)}static{o(this,"ConversationContextCollector")}async collectContext(t,r,n,i,s,a){let l=[];if(s){let c=s.requiredSkills?await s.requiredSkills(t.ctx):[];l.push(...c.filter(u=>!Dv().includes(u)))}else(await this.metaPromptFetcher.fetchPromptContext(t,await this.selectableSkillDescriptors(t.ctx,t.conversation,t.turn),r,n,i)).skillIds.reverse().forEach(u=>{!l.includes(u)&&!Dv().includes(u)&&l.push(u)});if(a){let c=await a.additionalSkills(t.ctx);l.push(...c.filter(u=>!Dv().includes(u)))}return l.push(...Dv()),l=l.filter(c=>!this.isIgnoredSkill(c,t.turn)),{skillIds:t.ctx.get(Gi).filterSupportedSkills(t.conversation.id,l)}}async selectableSkillDescriptors(t,r,n){let i=await this.getNonSelectableSkills(t),s=t.get(Gi).getSupportedSkills(r.id),a=t.get(Xa).getDescriptors(),l=[];for(let c of a){if(i.includes(c.id)||!s.includes(c.id))continue;(c.isAvailable?await c.isAvailable(t):!0)&&!this.isIgnoredSkill(c.id,n)&&l.push(c)}return l}async getNonSelectableSkills(t){let r=await Ug(t),n=(await Promise.all(r.map(i=>i.additionalSkills(t)))).flat();return[...Dv(),...n]}isIgnoredSkill(t,r){return r.ignoredSkills?.some(n=>n.skillId===t)}};d();d();var mj=class{constructor(t,r,n,i){this.ctx=t;this.conversation=r;this.turn=n;this.progress=i;this.rounds=[]}static{o(this,"AgentToolCalls")}getRound(t){return this.rounds.find(r=>r.roundId===t)}async start(t,r,n,i){let s=this.getRound(t);if(s||(s={roundId:t,reply:""},this.rounds.push(s)),s.toolCalls?.find(l=>l.id===r))Jr.error(this.ctx,`Tool call ${r} already exists for the round ${t} in conversation ${this.conversation.id} and turn ${this.turn.id}`);else{let l={id:r,name:n,progressMessage:i,status:"running"};s.toolCalls=[l],await this.progress.report(this.conversation,this.turn,{editAgentRounds:[s]})}}async finish(t,r){await this.update(t,r,n=>{n.status="completed"})}async cancel(t,r){await this.update(t,r,n=>{n.status="cancelled"})}async finishAll(t="completed"){let r=this.rounds.filter(n=>{let i=n.toolCalls?.filter(s=>s.status==="running").map(s=>(s.status=t,s));if(i&&i.length>0)return n.toolCalls=i,!0});r.length>0&&await this.progress.report(this.conversation,this.turn,{editAgentRounds:r})}async error(t,r,n){await this.update(t,r,i=>{i.status="error",i.error=n||"Unknown error"})}async update(t,r,n){let i=this.rounds.find(a=>a.roundId===t);i||(i={roundId:t,reply:""},this.rounds.push(i));let s=i.toolCalls?.find(a=>a.id===r);s?(n(s),await this.progress.report(this.conversation,this.turn,{editAgentRounds:[i]})):Jr.error(this.ctx,`Tool call ${r} not found for the agent round ${t} in conversation ${this.conversation.id} and turn ${this.turn.id}`)}};d();var hj=class{constructor(t,r,n,i){this.ctx=t;this.conversation=r;this.turn=n;this.progress=i;this.steps=[]}static{o(this,"Steps")}async start(t,r,n){let i=this.steps.find(s=>s.id===t);if(!i)i={id:t,title:r,description:n,status:"running"},this.steps.push(i),await this.progress.report(this.conversation,this.turn,{steps:[i]});else throw new Error(`Step with id "${t}" already started`)}async finish(t){await this.updateStep(t,r=>{r.status="completed"})}async cancel(t){await this.updateStep(t,r=>{r.status="cancelled"})}async finishAll(t="completed"){let r=this.steps.filter(n=>n.status==="running").map(n=>(n.status=t,n));r.length>0&&await this.progress.report(this.conversation,this.turn,{steps:r})}async error(t,r){return this.updateStep(t,n=>{n.status="failed",n.error={message:r||"Unknown error"}})}async updateStep(t,r){let n=this.steps.find(i=>i.id===t);n?(r(n),await this.progress.report(this.conversation,this.turn,{steps:[n]})):Jr.error(this.ctx,`Step ${t} not found for conversation ${this.conversation.id} and turn ${this.turn.id}`)}};d();var tPt="X-Initiator",rPt="X-Interaction-ID",nPt="X-Interaction-Type";var pj=class{static{o(this,"LlmInteractionInitiator")}static id(){throw new Error("Must be implemented by subclass")}},oue=class extends pj{static{o(this,"User")}static id(){return"user"}},sue=class extends pj{static{o(this,"Agent")}static id(){return"agent"}},aue=class{static{o(this,"GenericLlmInteraction")}constructor(t,r,n){this.initiator=t.id(),this.interactionType=r,this.interactionId=n}toCapiHeaders(){return{[tPt]:this.initiator,[rPt]:this.interactionId,[nPt]:this.interactionType.toString()}}},Eu=class e extends aue{static{o(this,"LlmInteraction")}static user(t,r){return new e(oue,t,r)}static agent(t,r){return new e(sue,t,r)}};var MC=class{constructor(t,r,n,i){this.ctx=t;this.conversation=r;this.turn=n;this.cancelationToken=i;this.skillResolver=new lue(this),this.steps=new hj(t,r,n,t.get(bs)),this.collector=new cue(r,n,t.get(bs)),this.agentToolCalls=new mj(t,r,n,t.get(bs))}static{o(this,"TurnContext")}toLlmInteraction(){return this.conversation.source==="inline"?Eu.user("conversation-inline",this.turn.telemetryId):this.agentToolCalls.rounds.length?Eu.agent("conversation-panel",this.turn.telemetryId):Eu.user("conversation-panel",this.turn.telemetryId)}async collectFile(t,r,n,i){let s={type:"file",collector:t,uri:r,status:n};i&&(s.range=i),await this.collector.collect(s)}collectLabel(t,r){this.collector.collect({type:"label",collector:t,label:r})}isFileIncluded(t){return this.collector.collectibles.some(r=>r.type==="file"&&r.status==="included"&&r.uri===t)}async info(t){await this.sendChatNotification(t,"info")}async warn(t){await this.sendChatNotification(t,"warning")}async sendChatNotification(t,r){await this.ctx.get(bs).report(this.conversation,this.turn,{notifications:[{severity:r,message:t}]})}},gj=class extends Error{constructor(r,n){super(`Cycle detected while resolving skills: ${n.join(" -> ")} -> ${r}`);this.skillId=r;this.skillStack=n}static{o(this,"CycleError")}},mR=class extends Error{static{o(this,"ConversationAbortError")}constructor(t){super(t)}},lue=class{constructor(t){this.turnContext=t;this.resolveStack=[]}static{o(this,"SkillResolver")}async resolve(t){if(this.turnContext.ctx.get(Gi).getSupportedSkills(this.turnContext.conversation.id).includes(t)){this.ensureNoCycle(t);let n=this.turnContext.ctx.get(Wl).getResolvedSkill(this.turnContext.turn.id,t);if(n)return this.resolveStack.pop(),n;let i=await this.newlyResolve(t);return this.resolveStack.pop(),i}}ensureNoCycle(t){if(this.resolveStack.includes(t))throw new gj(t,this.resolveStack);this.resolveStack.push(t)}async newlyResolve(t){let n=this.turnContext.ctx.get(Xa).getSkill(t);try{let i=await n?.resolver(this.turnContext).resolveSkill(this.turnContext);if(i)return this.turnContext.ctx.get(Wl).addResolvedSkill(this.turnContext.turn.id,t,i),i}catch(i){if(i instanceof gj||i instanceof mR)throw i;Jr.exception(this.turnContext.ctx,i,`Error while resolving skill ${t}`)}}},cue=class{constructor(t,r,n){this.conversation=t;this.turn=r;this.conversationProgress=n;this.collectibles=[]}static{o(this,"Collector")}async collect(t){this.collectibles.push(t),await this.reportCollectedFile(t)}async reportCollectedFile(t){t.type==="file"&&await this.conversationProgress.report(this.conversation,this.turn,{references:[{type:"file",uri:t.uri,status:t.status,range:t.range}]})}collectiblesForCollector(t){return this.collectibles.filter(r=>r.collector===t)}};async function PUe(e,t){let[r,n,i]=await iPt(e,t);return i.push(...aPt(e)),r.length>0||n.length>0?[new tr([[new tr(["Consider the additional context:"]),1],[FC(r,"inverseLinear"),.9],...n]),i]:[null,i]}o(PUe,"fromSkills");async function iPt(e,t){let r=[],n=[],i=[],s=[...e.turn.skills].reverse();for(let a of s){if(!await lPt(e,a.skillId,t?.languageId??""))continue;let[l,c]=await oPt(e,a.skillId);l&&(Dv().indexOf(a.skillId)===-1?n.push(l):i.push(l)),r.push(c)}return n.reverse(),i.reverse(),r.reverse(),[n,i,r]}o(iPt,"handleSkillsInReverse");async function oPt(e,t){let n=e.ctx.get(Xa).getSkill(t);try{let i=Date.now(),s=await e.skillResolver.resolve(t),a=Date.now()-i;if(s){let l=n?.processor(e),c=Date.now(),u=await l?.processSkill(s,e),f=Date.now()-c;return u?await sPt(e,n,l,u,a,f):[void 0,await yj(e,n,"unprocessable",void 0,a,f)]}else return[void 0,await yj(e,n,"unresolvable",void 0,a)]}catch(i){if(Jr.exception(e.ctx,i,`Error while resolving skill ${t}`),i instanceof mR)throw i;return[void 0,await yj(e,n,"failed")]}}o(oPt,"safelyProcessSkill");async function sPt(e,t,r,n,i,s){let a;return typeof n=="string"?a=new tr([[n,1]]):a=n,[[a,r?.value()||0],await yj(e,t,"resolved",a,i,s)]}o(sPt,"handleProcessedSkill");async function yj(e,t,r,n,i,s){let l=e.collector.collectiblesForCollector(t?.id??"unknown").filter(u=>u.type==="file"),c={skillId:t?.id??"unknown",resolution:r,files:l,resolutionTimeMs:i,processingTimeMs:s};if(n){let u=await e.ctx.get(ui).getBestChatModelConfig(ms("user")),f=n.elide(u.maxRequestTokens).getText();c.tokensPreEliding=go(u.tokenizer).tokenLength(f)}return e.ctx.get(Wl).addResolution(e.turn.id,c),c}o(yj,"determineResolution");function aPt(e){return e.turn.ignoredSkills.map(t=>({skillId:t.skillId,resolution:"ignored"}))}o(aPt,"handleIgnoredSkills");async function lPt(e,t,r){if(t!==Wg&&t!==Fh)return!0;let n=e.ctx.get(Cr),i=await n.updateExPValuesAndAssignments({languageId:r});return n.ideChatEnableProjectMetadata(i)?t===Wg:t===Fh}o(lPt,"includeSkill");var FUe=et(Df());var Pv=class{static{o(this,"AbstractUserPromptStrategy")}async elidableContent(t,r){let n=[],i=S9(t.conversation.turns.slice(0,-1));i!==null&&n.push([i,.6]);let[s,a]=await this.elidableSkills(t,r);return s!==null&&(i!==null&&n.push(["",.1]),n.push([s,.8])),[new tr(n),a]}async elidableSkills(t,r){return await PUe(t,r)}async promptContent(t,r,n){let i;t.turn.workspaceFolder&&(i=await _9.getInstructions(t.ctx,[t.turn.workspaceFolder],{includeCodeGenerationInstructions:!0,includeCommitMessageGenerationInstructions:!1}));let s=t.conversation.getLastTurn().request.message,a;i?typeof s=="string"?a=i+`

`+s:a=[{type:"text",text:i},...s]:a=s;let[l,c]=await this.elidableContent(t,n);return[[{role:"system",content:r},{role:"user",content:l},{role:"system",content:this.suffix(t)},{role:"user",content:a}],c]}},Cj=class extends Pv{static{o(this,"PanelUserPromptStrategy")}suffix(t){return FUe.default` 
            Use the above information, including the additional context and conversation history (if available) to answer the user's question below.
            Prioritize the context given in the user's question.
            When generating code, think step-by-step. Briefly explain the code and then output it in a single code block.
            When fixing problems and errors, provide a brief description first.
            When generating classes, use a separate code block for each class.
            Keep your answers short and impersonal.
            Use Markdown formatting in your answers.
            Escape special Markdown characters (like *, ~, -, _, etc.) with a backslash or backticks when using them in your answers.
            You must enclose file names and paths in single backticks. Never use single or double quotes for file names or paths.
            Make sure to include the programming language name at the start of every code block.
            Avoid wrapping the whole response in triple backticks.
            Only use triple backticks codeblocks for code.
            Do not repeat the user's code excerpt when answering.
            Do not prefix your answer with "GitHub Copilot".
            Do not start your answer with a programming language name.
            Do not include follow up questions or suggestions for next turns.
            Respond in the following locale: ${t.conversation.userLanguage}.
        `.trim()}};var NUe=et(Df());var xj=class extends Pv{static{o(this,"InlineUserPromptStrategy")}suffix(t){return NUe.default`
            Use the above information, including the additional context and conversation history (if available) to answer the user's question below.
            Prioritize the context given in the user's question.
            Keep your answers short and impersonal.
            Use Markdown formatting in your answers. 
            Escape special Markdown characters (like *, ~, -, _, etc.) with a backslash or backticks when using them in your answers.
            You must enclose file names and paths in single backticks. Never use single or double quotes for file names or paths.
            Make sure to include the programming language name at the start of every code block.
            Only use triple backticks codeblocks for code.
            Do not repeat the user's code excerpt when answering.
            Do not prefix your answer with "GitHub Copilot".
            Do not start your answer with a programming language name.
            Do not include follow up questions or suggestions for next turns.
            Respond in the following locale: ${t.conversation.userLanguage}.

            The user is editing an open file in their editor.
            The user's code is provided with line numbers prepended, for example: '1:code', starting at 1.
            The selected code line numbers are provided and are inclusive.

            If the user's question is about modifying the code in the editor, adhere to the following rules:

            To edit a range of the user's code, use the following format:
            - Generate a codeblock with the new code.
            - Prefix the codeblock with a markdown comment of the form <!-- replace lines start to end -->
            - Start and end are line numbers in the user's original code.
            - Start and end are inclusive.
            - Single line edits can be done by setting start and end to the same line number: <!-- replace lines X to X -->
            - The original code between the start and end will be replaced with the new code.
            - This format can be used to replace as well as add new code to the user's code.

            For example, to replace lines X to Y of the user's code, use the following format:
            <!-- replace lines X to Y -->
            \`\`\`language
            new code
            \`\`\`

            To delete a range of the user's code, use the following format:
            - Generate a codeblock with the original code.
            - Prefix the codeblock with a markdown comment of the form <!-- delete lines start to end -->
            - Start and end are line numbers in the user's original code.
            - Start and end are inclusive.
            - Single line deletions can be done by setting start and end to the same line number: <!-- delete lines X to X -->
            - The original code in the range will be deleted from the user's code.

            For example, to delete lines X to Y of the user's code, use the following format:
            <!-- delete lines X to Y -->
            \`\`\`language
            original code
            \`\`\`

            Remember:
            - Prefix comments must be placed directly above/after the code block respectively.
            - The first row of a codeblock must never be indented.
            - Code in codeblocks must not contain line numbers.
            - You must not return a codeblock containing the final code, but only individual codeblocks for each change.
        `.trim()}};d();var uue=et(Df());var vj=class{static{o(this,"MetaPromptStrategy")}elidableContent(t){let r=S9(t.turns.slice(0,-1)),n=[];return r!==null&&n.push([r,.6]),new tr(n)}suffix(t){if(t.promptType!=="meta")throw new Error("Invalid prompt options for strategy");if(!t.supportedSkillDescriptors)throw new Error("Supported skills must be provided for meta prompts");return this.buildMetaPrompt(t.supportedSkillDescriptors)}buildMetaPrompt(t){return uue.default`
            Your task is to provide a helpful answer to the user's question.
            To help you create that answer, you can resolve skills that give you more context.
            Each skill has a description and some example user questions to help you understand when the skill may be useful. 
            
            List of available skills:
            ${t.map(r=>`${this.skillToPrompt(r)}
`).join(`
`)}
        `.trim()}createFunctionArgumentSchema(t){let r=HDe(t.map(n=>n.id));return I.Object({skillIds:I.Array(r,{description:"The skill ids to resolve ranked from most to least useful"})})}toolConfig(t){if(t.promptType!=="meta")throw new Error("Invalid prompt options for strategy");return{tool_choice:{type:"function",function:{name:"resolveSkills"}},tools:[{type:"function",function:{name:"resolveSkills",description:"Resolves the skills by id to help answer the user question.",parameters:this.createFunctionArgumentSchema(t.supportedSkillDescriptors)}}],extractArguments(r){return{skillIds:sC(r).skillIds}}}}skillToPrompt(t){let r=t.description?t.description():t.id,n=`Skill Id: ${t.id}
Skill Description: ${r}`,i=t.examples?t.examples():[];return i.length>0&&(n+=`
Skill Examples:
${i.map(s=>`  - ${s}`).join(`
`)}`),n}promptContent(t,r,n){let i=t.conversation.getLastTurn().request.message,s=this.elidableContent(t.conversation);return[[{role:"system",content:r},{role:"user",content:s},{role:"system",content:this.suffix(n)},{role:"user",content:uue.default`
                    This is the user's question: 
                    ${an(i).trim()} 
                `.trim()}],[]]}};d();var LUe=et(Df());var bj=class{static{o(this,"SuggestionsPromptStrategy")}toolConfig(){return{tool_choice:{type:"function",function:{name:"showSuggestions"}},tools:[{type:"function",function:{name:"showSuggestions",description:"Show the computed suggestions to the user",parameters:I.Object({suggestedTitle:I.String({description:"The suggested title for the conversation"}),followUp:I.String({description:"The suggested follow-up question for the conversation"})})}}],extractArguments(t){let r=sC(t);return{suggestedTitle:r.suggestedTitle,followUp:r.followUp}}}}suffix(t){return LUe.default`
            Your task is to come up with two suggestions:

            1) Suggest a title for the current conversation based on the history of the conversation so far.
                - The title must be a short phrase that captures the essence of the conversation.
                - The title must be relevant to the conversation context.
                - The title must not be offensive or inappropriate.
                - The title must be in the following locale: ${t.conversation.userLanguage}.

            2) Write a short one-sentence question that the user can ask as a follow up to continue the current conversation.
                - The question must be phrased as a question asked by the user, not by Copilot.
                - The question must be relevant to the conversation context.
                - The question must not be offensive or inappropriate.
                - The question must not appear in the conversation history.
                - The question must not have already been answered.
                - The question must be in the following locale: ${t.conversation.userLanguage}.
        `.trim()}elidableContent(t){let r=S9(t.turns.slice()),n=[];return r!==null&&n.push([r,.6]),new tr(n)}promptContent(t,r,n){return[[{role:"system",content:r},{role:"user",content:this.elidableContent(t.conversation)},{role:"system",content:this.suffix(t)}],[]]}};d();var cPt=[{type:"function",function:{name:"queryWithKeywords",description:"Searches the workspace for synonyms and relevant keywords related to the original user query. These keywords could be used as file names, symbol names, abbreviations, or comments in the relevant code.",parameters:I.Object({keywords:I.Array(I.Object({keyword:I.String({description:"A keyword or phrase relevant to the original user query that a user could search to answer their question. Keywords are not generic and do not repeat."}),variations:I.Array(I.String(),{description:"An array of relevant variations of the keyword. Variations include synonyms and plural forms. Variations are not generic and do not repeat."})}))})}}],Ej=class extends Pv{static{o(this,"UserQuerySynonymsPromptStrategy")}suffix(){return`
You are a coding assistant that helps developers find relevant code in their workspace by providing a list of relevant keywords they can search for.
The user will provide you with potentially relevant information from the workspace. This information may be incomplete.

# Additional Rules

Think step by step:
1. Read the user's question to understand what they are asking about their workspace.
2. If there are pronouns in the question, such as 'it', 'that', 'this', try to understand what they refer to by looking at the rest of the question and the conversation history.
3. Output a list of up to 8 relevant keywords that the user could search to answer their question. These keywords could be used as file names, symbol names, abbreviations, or comments in the relevant code. Put the keywords most relevant to the question first. Do not include overly generic keywords. Do not repeat keywords.
4. For each keyword in the list of relevant keywords, output a list of relevant variations of the keyword if applicable. Consider synonyms and plural forms. Do not include overly generic variations. Do not repeat variations.

# Example

User: Where is the code for base64 encoding?

Response:

queryWithKeywords([
    { "keyword": "base64 encoding", "variations": ["base64 encoder", "base64 encode"] },
    { "keyword": "base64", "variations": ["base 64"] },
    { "keyword": "encode", "variations": ["encoding", "encoded", "encoder", "encoders"] }
]);
`.trim()}promptContent(t,r,n){if(n.promptType!=="synonyms")throw new Error("Invalid prompt options for user query strategy");let i=t.conversation.getLastTurn().request.message,s=[{role:"system",content:r},{role:"system",content:this.suffix()},{role:"user",content:i}];return Promise.resolve([s,[]])}toolConfig(t){if(t.promptType!=="synonyms")throw new Error("Invalid prompt options for user query strategy");return{tools:cPt,tool_choice:{type:"function",function:{name:"queryWithKeywords"}},extractArguments(r){let n=sC(r).keywords;if(!n||!Array.isArray(n))return{keywords:[]};let i=new Set;for(let s of n)if(!(!HQ(s,"keyword")||!s.keyword||typeof s.keyword!="string")&&(i.add(s.keyword.toLowerCase()),!(!HQ(s,"variations")||!s.variations||!Array.isArray(s.variations))))for(let a of s.variations)typeof a=="string"&&i.add(a.toLowerCase());return{keywords:Array.from(i)??[]}}}}};var fue=class{constructor(t,r,n){this.promptType=t;this.strategy=n;this.modelFamilies=Array.isArray(r)?r:[r]}static{o(this,"PromptStrategyDescriptor")}};function hR(e,t,r){return new fue(e,t,r)}o(hR,"descriptor");var QUe=[hR("user",ms("user"),()=>new Cj),hR("inline",ms("inline"),()=>new xj),hR("meta",ms("meta"),()=>new vj),hR("suggestions",ms("suggestions"),()=>new bj),hR("synonyms",ms("synonyms"),()=>new Ej)],Ij=class{static{o(this,"DefaultPromptStrategyFactory")}async createPromptStrategy(t,r,n){let i=QUe.find(s=>s.promptType===r&&s.modelFamilies.includes(n));if(!i)throw new Error(`No prompt strategy found for promptType: ${r} and modelFamily: ${n}`);return i.strategy(t)}get descriptors(){return QUe}};var OUe=require("console");var pc=class{constructor(t,r=new Ij){this.ctx=t;this.promptStrategyFactory=r}static{o(this,"ConversationPromptEngine")}async toPrompt(t,r){let n=await this.promptStrategyFactory.createPromptStrategy(this.ctx,r.promptType,r.modelConfiguration.modelFamily),[i,s]=await n.promptContent(t,await this.safetyPrompt(r.userSelectedModelName??r.modelConfiguration.uiName),r),[a,l]=this.elideChatMessages(i,r.modelConfiguration);return await this.ctx.get(Za).inspectPrompt({type:r.promptType,prompt:MUe(a),tokens:l}),this.ctx.get(Wl).addPrompt(t.turn.id,MUe(a),r.promptType),{messages:a,tokens:l,skillResolutions:s,toolConfig:n.toolConfig?.(r)}}elideChatMessages(t,r){let n=t.filter(l=>!(typeof l.content=="string"||Array.isArray(l.content)));(0,OUe.assert)(n.length==1,"Only one elidable message is supported right now.");let i=this.computeNonElidableTokens(t,r),s=r.maxRequestTokens-i,a=t.map(l=>typeof l.content=="string"||Array.isArray(l.content)?l:{role:l.role,content:uPt(l.content.elide(s).getText())}).filter(l=>l.content.length>0);return[a,Z0e(a,r)]}computeNonElidableTokens(t,r){let n=t.filter(i=>typeof i.content=="string");return n.push({role:"user",content:""}),Z0e(n,r)}async safetyPrompt(t){let r=await this.ctx.get(Ln).getSession(this.ctx),n=this.ctx.get(dn).getEditorInfo().readableName??this.ctx.get(dn).getEditorInfo().name,i=fPt(process.platform);return IUe(this.ctx,n,r?.login,i,t)}};function uPt(e){return e.trimStart().replace(/^\[\.\.\.\]\n?/,"")}o(uPt,"processResultOfElidableText");function MUe(e){return e.map(t=>an(t.content)).join(`

`)}o(MUe,"debugChatMessages");function fPt(e){switch(e){case"darwin":return"macOS";case"win32":return"Windows";case"linux":return"Linux";case"freebsd":return"FreeBSD";case"openbsd":return"OpenBSD";case"sunos":return"SunOS";case"aix":return"AIX";default:return}}o(fPt,"mapPlatformToOs");var Tj=class{constructor(t,r){this.ctx=t;this.chatFetcher=r}static{o(this,"TurnSuggestions")}async fetchRawSuggestions(t,r,n,i){let s=await this.ctx.get(ui).getBestChatModelConfig(ms("suggestions"),{tool_calls:!0}),a={promptType:"suggestions",modelConfiguration:s},l=await this.ctx.get(pc).toPrompt(t,a),c=i.extendedBy({messageSource:"chat.suggestions"},{promptTokenLen:l.tokens}),u={modelConfiguration:s,messages:l.messages,uiKind:n,llmInteraction:t.toLlmInteraction()};if(l.toolConfig===void 0)throw new Error("No tool call configuration found in suggestions prompt.");u.tool_choice=l.toolConfig.tool_choice,u.tools=l.toolConfig.tools;let f=await this.chatFetcher.fetchResponse(u,r,c);if(f.type!=="success"&&(Jr.error(this.ctx,"Failed to fetch suggestions, trying again..."),f=await this.chatFetcher.fetchResponse(u,r,c)),f.type==="success"){if(!f.toolCalls||f.toolCalls.length===0){Jr.error(this.ctx,"Missing tool call in suggestions response");return}let m=f.toolCalls[0],{followUp:h,suggestedTitle:p}=l.toolConfig.extractArguments(m);if(!h||!p){Jr.error(this.ctx,"Missing follow-up or suggested title in suggestions response");return}return{followUp:h.trim(),suggestedTitle:p.trim(),promptTokenLen:l.tokens,numTokens:f.numTokens+m.approxNumTokens}}else if(f.type==="successMultiple"){Jr.error(this.ctx,"successMultiple response is unexpected for suggestions");return}else if(f.type==="tool_calls"){Jr.error(this.ctx,"tool_calls response is unexpected for suggestions");return}else{Jr.error(this.ctx,`Failed to fetch suggestions due to reason: ${f.reason}`);return}}};var k9=class{constructor(t,r,n){this.turnContext=t;this.chatFetcher=r;this.computeSuggestions=n}static{o(this,"ChatFetchResultPostProcessor")}async postProcess(t,r,n,i,s,a,l,c){switch(Vbe(this.turnContext.ctx,l,a,t.type=="offTopic",t.requestId,c,s.extendedBy({},{fileCount:this.turnContext.ctx.get(ua).workspaceCount})),await this.turnContext.ctx.get(Za).inspectFetchResult(t),t.type){case"success":return await this.processSuccessfulFetchResult(n,t.numTokens,t.requestId,r,l,i,s,c);case"offTopic":return this.processOffTopicFetchResult(s,l,c);case"canceled":return this.turnContext.turn.status="cancelled",this.turnContext.turn.response={message:"Cancelled",type:"user"},{error:{message:an(this.turnContext.turn.response?.message??""),type:this.turnContext.turn.response?.type}};case"failed":return this.turnContext.turn.status="error",this.turnContext.turn.response={message:t.reason,type:"server"},{error:{message:F6.translateErrorMessage(t.code,t.reason),code:t.code}};case"filtered":return this.turnContext.turn.status="filtered",{error:{message:"Oops, your response got filtered. Vote down if you think this shouldn't have happened.",responseIsFiltered:!0}};case"length":return this.turnContext.turn.status="error",{error:{message:"Oops, the response got too long. Try to reformulate your question.",responseIsIncomplete:!0}};case"agentAuthRequired":return this.turnContext.turn.status="error",this.turnContext.turn.response={message:"Authorization required",type:"server"},{error:{message:"Authorization required",responseIsFiltered:!1}};case"no_choices":return this.turnContext.turn.status="error",this.turnContext.turn.response={message:"No choices returned",type:"server"},{error:{message:"Oops, no choices received from the server. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0}};case"no_finish_reason":return this.turnContext.turn.status="error",n&&n.length>0?this.turnContext.turn.response={message:n,type:"model",references:this.turnContext.turn.response?.references}:this.turnContext.turn.response={message:"No finish reason",type:"server"},{error:{message:"Oops, unexpected end of stream. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0}};case"model_not_supported":return this.turnContext.turn.status="error",this.turnContext.turn.response={message:"Model not supported",type:"server"},{error:{message:"Oops, the model is not supported. Please try again.",code:400,reason:"model_not_supported",responseIsFiltered:!1}};case"successMultiple":case"tool_calls":case"unknown":return this.turnContext.turn.status="error",{error:{message:"Unknown server side error occurred. Please try again.",responseIsFiltered:!1}}}}async processSuccessfulFetchResult(t,r,n,i,s,a,l,c){if(t&&t.length>0){a.markAsDisplayed(),l.markAsDisplayed(),this.turnContext.turn.status="success",this.turnContext.turn.response={message:t,type:"model",references:this.turnContext.turn.response?.references},$be(this.turnContext.ctx,this.turnContext.conversation,s,t,r,n,c,l);let u=this.computeSuggestions?await this.fetchSuggestions(i,s,a,c):void 0;if(u){let{followUp:f,suggestedTitle:m}=u;return{followup:f.message!==""?f:void 0,suggestedTitle:m!==""?m:void 0}}return{}}return this.turnContext.turn.status="error",this.turnContext.turn.response={message:"The model returned successful but did not contain any response text.",type:"meta"},{error:{message:an(this.turnContext.turn.response?.message??""),type:this.turnContext.turn.response?.type}}}async fetchSuggestions(t,r,n,i){let a=await new Tj(this.turnContext.ctx,this.chatFetcher).fetchRawSuggestions(this.turnContext,t,r,n);if(a===void 0)return;let l=this.enrichFollowup(a,r,n,i);return Jr.debug(this.turnContext.ctx,"Computed followup",l),Jr.debug(this.turnContext.ctx,"Computed suggested title",a.suggestedTitle),{followUp:l,suggestedTitle:a.suggestedTitle}}enrichFollowup(t,r,n,i){let s=n.extendedBy({messageSource:"chat.suggestions",suggestionId:Ir(),suggestion:"Follow-up from model"},{promptTokenLen:t.promptTokenLen,numTokens:t.numTokens});return Zbe(this.turnContext.ctx,r,s,i),{message:t.followUp,id:s.properties.suggestionId,type:s.properties.suggestion}}processOffTopicFetchResult(t,r,n){let i="Sorry, but I can only assist with programming related questions.";return this.turnContext.turn.response={message:i,type:"offtopic-detection"},this.turnContext.turn.status="off-topic",zbe(this.turnContext.ctx,this.turnContext.conversation,r,i,t.properties.messageId,n,t),{error:{message:i,responseIsFiltered:!0}}}};d();var wj=I.Union([I.String(),I.Number()]),Fv=I.Union([I.String(),I.Number()]),dPt=I.Union([I.Literal("included"),I.Literal("blocked"),I.Literal("notfound"),I.Literal("empty")]),_j=I.Object({uri:I.String(),position:I.Optional(xl)}),pR=I.Object({type:I.Literal("file"),uri:I.String(),visibleRange:I.Optional(Ca),selection:I.Optional(Ca),status:I.Optional(dPt),range:I.Optional(Ca)}),R9=I.Union([pR,qMe]),em=I.Union([I.Literal("panel"),I.Literal("inline")]),mPt=I.Union([I.Object({type:I.Literal("text"),text:I.String()}),I.Object({type:I.Literal("image_url"),imageUrl:I.Object({url:I.String(),detail:I.Optional(I.Union([I.Literal("low"),I.Literal("high")]))})})]),due=I.Union([I.String(),I.Array(mPt)]),UUe=I.Object({request:due,response:I.Optional(I.String()),agentSlug:I.Optional(I.String()),turnId:I.Optional(Fv)});function Sj(e){return typeof e=="string"?e:e.map(t=>t.type==="image_url"?{type:"image_url",image_url:{url:t.imageUrl.url,detail:t.imageUrl.detail}}:{type:"text",text:t.text})}o(Sj,"convertToMessageContent");function B9(e,t){if(typeof e=="string")return e+t;let r=e.map(n=>n.type==="text").lastIndexOf(!0);if(r>=0){let n=[...e],i=n[r];return n[r]={type:"text",text:i.text+t},n}return[...e,{type:"text",text:t}]}o(B9,"appendToMessage");var kj=I.Union([I.Literal("Ask"),I.Literal("Agent")]),hPt=I.Object({type:I.String(),description:I.String()}),qUe=I.Object({name:I.String(),description:I.String(),inputSchema:I.Optional(I.Object({type:I.String(),properties:I.Record(I.String(),hPt),required:I.Array(I.String())})),confirmationMessages:I.Optional(I.Object({title:I.String(),message:I.String()}))}),Rj=I.Object({uri:I.String(),name:I.String()});var mue="generate-response",Bj=class extends Error{constructor(r,n,i,s){super(r);this.authorizationUri=n;this.agentSlug=i;this.agentName=s}static{o(this,"RemoteAgentAuthorizationError")}},gR=class{constructor(t,r,n){this.agent=t;this.turnContext=r;this.chatFetcher=n;this.conversationProgress=r.ctx.get(bs),this.chatFetcher=this.chatFetcher??new ka(r.ctx),this.postProcessor=new k9(r,this.chatFetcher,!1),this.conversation=r.conversation,this.turn=r.turn}static{o(this,"RemoteAgentTurnProcessor")}async process(t,r,n,i){try{await this.processWithAgent(t,r,this.turnContext,i)}catch(s){Jr.error(this.turnContext.ctx,`Error processing turn ${this.turn.id}`,s);let a=s instanceof Error?s.message:String(s);this.turn.status="error",this.turn.response={message:a,type:"meta"},s instanceof Bj?await this.endProgress({unauthorized:{authorizationUri:s.authorizationUri,agentSlug:s.agentSlug,agentName:s.agentName}}):await this.endProgress({error:{message:a,responseIsIncomplete:!0}})}}async processWithAgent(t,r,n,i){await this.conversationProgress.begin(this.conversation,this.turn,t);let s=await a0(this.turnContext.ctx,this.turnContext,{languageId:i?.detectedLanguageId??""});if(r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let a=await this.buildAgentPrompt(n);if(!a)await this.endTurnWithResponse(`No prompt created for agent ${this.agent.id}`,"error");else{let l={type:"user",prompt:JSON.stringify(a.messages,null,2),tokens:a.tokens};await n.ctx.get(Za).inspectPrompt(l),await n.steps.start(mue,"Generating response");let c=this.augmentTelemetry(a,s,this.turn.template,i);if(r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let u=await this.fetchConversationResponse(n,a.messages,r,s.extendedBy({messageSource:"chat.user"},{promptTokenLen:a.tokens}),c,i);this.turn.status==="cancelled"&&this.turn.response?.type==="user"?await this.cancelProgress():(await this.finishGenerateResponseStep(u,n),await this.endProgress({error:u.error,followUp:u.followup,suggestedTitle:u.suggestedTitle,skillResolutions:a.skillResolutions}))}}async buildAgentPrompt(t){let r=this.createMessagesFromHistory(t),n=await this.computeCopilotReferences(t),i=this.getOrCreateAgentSessionId(t);return this.turn.agent&&(this.turn.agent.sessionId=i),this.turn.confirmationResponse?this.addConfirmationResponse(this.turn.confirmationResponse,r):r.push({role:"user",content:t.turn.request.message,copilot_references:n.length>0?n:void 0}),{messages:r,tokens:-1,skillResolutions:[]}}getOrCreateAgentSessionId(t){let r=this.turn.agent?.agentSlug;if(r){for(let n of t.conversation.turns)if(n.agent?.agentSlug===r&&n.agent.sessionId)return n.agent.sessionId}return Ir()}addConfirmationResponse(t,r){r.push({role:"user",content:"",copilot_confirmations:[t]})}createMessagesFromHistory(t){return X0e(t.conversation.turns.slice(0,-1),this.agent.slug).flatMap(r=>{let n=[];if(r.request&&n.push({role:"user",content:r.request.message}),r.response&&r.response.type==="model"){let i=UMe(r.response.references);n.push({role:"assistant",content:r.response.message,copilot_references:i.length>0?i:void 0})}return n})}async computeCopilotReferences(t){return await YMe(t)}async endTurnWithResponse(t,r){this.turn.response={type:"meta",message:t},this.turn.status=r,await this.conversationProgress.report(this.conversation,this.turn,{reply:t}),await this.endProgress()}async fetchConversationResponse(t,r,n,i,s,a){n.onCancellationRequested(async()=>{await this.cancelProgress()});let l=new RC((m,h,p,g,x)=>{let v=x?{...x,agentSlug:this.agent.slug}:void 0;this.conversationProgress.report(this.conversation,this.turn,{reply:m,annotations:h,references:p,notifications:g.map(E=>({message:E.message,severity:"warning"})),confirmationRequest:v}),this.turn.response?(this.turn.response.message=B9(this.turn.response.message,m),this.turn.response.references.push(...p)):this.turn.response={message:m,type:"model",references:p},this.turn.annotations.push(...h??[]),v&&(this.turn.confirmationRequest=v)}),c=await this.turnContext.ctx.get(Xr).getGitHubSession(),u={engineName:"agents",endpoint:this.agent.endpoint??this.agent.slug,messages:r,uiKind:"conversationPanel",intentParams:{intent:!0,intent_threshold:.7,intent_content:an(this.turn.request.message)},authToken:c?.accessToken,copilot_thread_id:this.turn.agent?.sessionId,llmInteraction:t.toLlmInteraction()},f=await this.chatFetcher.fetchResponse(u,n,i,(m,h)=>l.isFinishedAfter(m,h));return this.ensureAgentIsAuthorized(f),await this.postProcessor.postProcess(f,n,l.appliedText,i,s.extendedBy(this.addExtensibilityInfoTelemetry()),an(this.turn.request.message),"conversationPanel",a)}ensureAgentIsAuthorized(t){if(t.type==="agentAuthRequired")throw this.turnContext.turn.status="error",this.turnContext.turn.response={message:"Authorization required",type:"server"},new Bj("Authorization required",t.authUrl,this.agent.slug,this.agent.name)}augmentTelemetry(t,r,n,i){return g_(this.conversation,"conversationPanel",an(this.turn.request.message).length,t.tokens,n?.templateId,void 0,r,t.skillResolutions)}addExtensibilityInfoTelemetry(){return{extensibilityInfoJson:JSON.stringify({agent:this.agent.slug,outgoingReferences:this.turn.request.references?.map(t=>t.type)??[],incomingReferences:this.turn.response?.references?.map(t=>t.type)??[]})}}async finishGenerateResponseStep(t,r){t.error?await r.steps.error(mue,t.error.message):await r.steps.finish(mue)}async endProgress(t){await this.turnContext.steps.finishAll(),await this.conversationProgress.end(this.conversation,this.turn,t)}async cancelProgress(){await this.turnContext.steps.finishAll("cancelled"),await this.conversationProgress.cancel(this.conversation,this.turn)}};var AR=class{constructor(t,r,n,i,s,a){this.id=t;this.slug=r;this.name=n;this.description=i;this.avatarUrl=s;this.endpoint=a}static{o(this,"RemoteAgent")}additionalSkills(){return[]}turnProcessor(t){return new gR(this,t)}},Dj=class extends AR{static{o(this,"ExtensibilityPlatformAgent")}constructor(){super(0,"github","GitHub","Get answers grounded in web search, code search, and your enterprise's knowledge bases.","https://avatars.githubusercontent.com/u/9919?s=200&v=4","chat")}turnProcessor(t){return new gR(this,t)}};d();var pPt="github",Lh=class{static{o(this,"RemoteAgentRegistry")}},Pj=class extends Lh{constructor(r){super();this.ctx=r;this._agents=void 0;this._lastFetchTime=0}static{o(this,"CapiRemoteAgentRegistry")}async agents(){return this.shouldRefreshAgents()&&(this._agents=await this.fetchAgents()),this._agents!=null?this._agents.slice():[]}shouldRefreshAgents(){return!this._agents||!this._lastFetchTime?!0:this.isLastFetchOlderOneHour()}isLastFetchOlderOneHour(){return Date.now()-this._lastFetchTime>36e5}async fetchAgents(){let r=await A4(this.ctx,"/agents");return r.ok?(this._lastFetchTime=Date.now(),this.parseAgents(await r.text())):(Jn.error(this.ctx,"Failed to fetch agents from CAPI",{status:r.status,statusText:r.statusText}),[])}parseAgents(r){let n;try{n=JSON.parse(r).agents,Array.isArray(n)||Jn.error(this.ctx,"Expected 'agents' to be an array")}catch(i){return r.includes("access denied")||Jn.warn(this.ctx,"Invalid remote agent response:",r,i),[]}return n.filter(i=>i.slug!==pPt).map(i=>new AR(i.id,i.slug,i.name,i.description,i.avatar_url))}};var hue=class{constructor(){this.slug="project";this.name="Project";this.description="Ask about your project"}static{o(this,"ProjectAgent")}additionalSkills(){return[b9]}};async function Ug(e){let t=[];return t.push(new Dj),t.push(...await e.get(Lh).agents()),t.push(new hue),t}o(Ug,"getAgents");d();var WUe=et(Tl());async function Fj(e){let t=await e.get(Ln).checkAndUpdateStatus(e);if(t.status!=="OK")throw new WUe.ResponseError(rn.NoCopilotToken,`Not authenticated: ${t.status}`)}o(Fj,"verifyAuthenticated");function fo(e){return async(t,r,n)=>(await Fj(t),e(t,r,n))}o(fo,"ensureAuthenticated");var gPt=I.Object({});async function APt(e,t,r){return[(await Ug(e)).map(s=>({slug:s.slug,name:s.name,description:s.description,avatarUrl:s.avatarUrl})),null]}o(APt,"handleConversationAgentsChecked");var GUe=fo(at(gPt,APt));d();d();var yR=et(Tl());function yPt(e,t,r){let n=cn.createAndMarkAsIssued({languageId:String(t.detectedLanguageId),requestedDocumentVersion:String(r),actualDocumentVersion:String(t.version)});return jt(e,"getCompletions.docVersionMismatch",n)}o(yPt,"telemetryVersionMismatch");async function Qh(e,t,r){let i=e.get(Hr).getTextDocumentUnsafe(t);if(!i)throw new yR.ResponseError(rn.InvalidParams,`Document for URI could not be found: ${t.uri}`);await Fj(e);let s=await $4(e,t,i.getText());if(s.status==="invalid")throw e.get(Yi).setInactive(s.reason),new yR.ResponseError(rn.CopilotNotAvailable,s.reason);if(t.version!==void 0&&i.version!==t.version)throw r?.isCancellationRequested||(yPt(e,i,t.version),T0.debug(e,`Requested document version was ${t.version} but actual document version was ${i.version}.`)),new yR.ResponseError(rn.ContentModified,"Document Version Mismatch");return i}o(Qh,"getTextDocument");async function Gg(e,t,r){let n=t.textDocument??t.doc;if(!n){await Fj(e);return}try{return await Qh(e,n,r)}catch(i){if(i instanceof yR.ResponseError&&i.code===rn.CopilotNotAvailable)return;throw i}}o(Gg,"getTextDocumentIfAvailable");var CPt=I.Union([I.Literal("keyboard"),I.Literal("toolbar")]),xPt=I.Object({turnId:Fv,codeBlockIndex:I.Number(),source:CPt,copiedCharacters:I.Number(),totalCharacters:I.Number(),copiedText:I.String(),doc:I.Optional(_j),textDocument:I.Optional(V0),position:I.Optional(xl),conversationSource:I.Optional(em)});async function vPt(e,t,r){let n=await Gg(e,r,t),i={totalCharacters:r.totalCharacters,copiedCharacters:r.copiedCharacters},s=r.position??r.doc?.position;n&&s&&(i={...i,currentLine:s.line});let a=m5(r.conversationSource),l=await a0(e,e.get(Gi).findByTurnId(r.turnId),{languageId:n?.detectedLanguageId??""});return lf(e,n,{codeBlockIndex:r.codeBlockIndex.toString(),source:r.source,uiKind:a},i,`${X0(a)}.acceptedCopy`,l),["OK",null]}o(vPt,"handleConversationCodeCopyChecked");var HUe=at(xPt,vPt);d();var bPt=I.Union([I.Literal("keyboard"),I.Literal("toolbar"),I.Literal("diff")]),EPt=I.Object({turnId:Fv,source:bPt,codeBlockIndex:I.Number(),acceptedLength:I.Optional(I.Number()),totalCharacters:I.Number(),newFile:I.Optional(I.Boolean()),doc:I.Optional(_j),textDocument:I.Optional(V0),position:I.Optional(xl),conversationSource:I.Optional(em)});async function IPt(e,t,r){let n=await Gg(e,r,t),i={totalCharacters:r.totalCharacters,acceptedLength:r.acceptedLength??r.totalCharacters},s=r.position??r.doc?.position;n&&s&&(i={...i,insertionOffset:n.offsetAt(s),currentLine:s.line});let a=m5(r.conversationSource),l=await a0(e,e.get(Gi).findByTurnId(r.turnId),{languageId:n?.detectedLanguageId??""});return lf(e,n,{codeBlockIndex:r.codeBlockIndex.toString(),source:r.source,uiKind:a,compType:r.acceptedLength&&r.acceptedLength<r.totalCharacters?"partial":"full"},i,`${X0(a)}.acceptedInsert`,l),["OK",null]}o(IPt,"handleConversationCodeInsertChecked");var jUe=at(EPt,IPt);d();d();var Nj=I.Array(Ca);function Lj(e){if(e.textDocument?.uri)return{uri:e.textDocument.uri,selection:e.selection,visibleRange:e.visibleRanges?.[0]}}o(Lj,"resolveAsActiveEditor");d();var VUe=et(Tl());var Qj=new VUe.ProgressType,pue=class{constructor(t){this.progressToken=t}static{o(this,"WorkDoneProgressHandler")}async begin(t,r,n){await t.get(jr).connection.sendProgress(Qj,this.progressToken,{kind:"begin",title:`Conversation ${r.id} Turn ${n.id}`,conversationId:r.id,turnId:n.id,agentSlug:n.agent?.agentSlug})}async report(t,r,n,i){await t.get(jr).connection.sendProgress(Qj,this.progressToken,{kind:"report",conversationId:r.id,turnId:n.id,...i})}async end(t,r,n,i){await t.get(jr).connection.sendProgress(Qj,this.progressToken,{kind:"end",conversationId:r.id,turnId:n.id,...i})}async cancel(t,r,n,i){await t.get(jr).connection.sendProgress(Qj,this.progressToken,{kind:"end",conversationId:r.id,turnId:n.id,cancellationReason:"CancelledByUser",error:i})}};function D9(e){return new pue(e.workDoneToken)}o(D9,"createProgressHandler");d();d();d();var P9=class extends Error{static{o(this,"ToolCallCanceledError")}constructor(){super("Canceled"),this.name="Canceled"}};d();d();var $Ue="```",CR=String.raw`<!-- (?<mode>[\w-]+) lines? (?<start>\d+)(?: to (?<end>\d+))? -->`,TPt=String.raw`${$Ue}[\w]*?\n(?<codeblock>[\s\S]*?)\n${$Ue}`,wPt=new RegExp(CR+`
`+TPt,"gs"),gue=["replace","delete"];function Aue(e,t){let r=e.matchAll(wPt),n=Array.from(r),i=[];for(let s of n){let a=s.groups;if(!a||!gue.includes(a.mode))continue;let l=a.start?parseInt(a.start)-1:-1,c=a.end?parseInt(a.end)-1:l,f=a.codeblock.split(`
`),m=f[0].match(/^\s*/)?.[0]??"";f.forEach((x,v)=>{f[v]=x.slice(m.length)});let h={mode:a.mode,codeblock:f.join(`
`),start:l,end:c},p=yue([h],t);if(!p)continue;let g={text:p,uri:t.uri};i.push({...h,updatedDocument:g})}return i}o(Aue,"extractEditsFromTaggedCodeblocks");function yue(e,t){if(e.length===0)return;e.sort((n,i)=>n.start!==i.start?i.start-n.start:i.end-n.end);let r=t.getText().split(`
`);for(let n of e){let i=n.start,s=n.end,a=n.mode,l=n.codeblock.split(`
`);if(!(i<0||s<0||s<i)&&!(i>=r.length||s>=r.length)){if(a==="delete")r.splice(i,s-i+1);else if(a==="replace"){let c=r[i].match(/^\s*/)?.[0]??"";l.forEach((u,f)=>{l[f]=c+u}),r.splice(i,s-i+1,...l)}}}return r.join(`
`)}o(yue,"applyEditsToDocument");d();d();d();d();d();var Mj=class{static{o(this,"CodeBlock")}constructor(t,r,n){this.code=t,this.languageId=r,this.uri=n}render(){let t=y0(this.code);return[`${t}${this.languageId}`,`// ${D6} ${Mo(this.uri)}`,this.code,`${t}`]}};var zA=class{constructor(t,r,n=[]){this.textDocumentResult=t;this.range=r;this.descriptions=n;this.descriptions=n}static{o(this,"FileAttachment")}render(){if(this.textDocumentResult.status!=="valid")return[];let t=this.textDocumentResult.document,r=new Mj(t.getText(this.range),t.detectedLanguageId,t.uri),n=["<attachment>"];return n.push(...this.descriptions),n.push(...r.render()),n.push("</attachment>"),n}};var _Pt=new Vt("activeEditorPrompt");async function zUe(e,t){let r=[],n=e.turnContext.turn.request.activeEditor;if(n){if(t.isCancellationRequested)throw new Ml;let i=await e.textDocumentProvider.getByUri(n.uri);if(i.status==="valid")if(n.selection&&SPt(n.selection)){let s=new zA(i,n.selection,["User's active selection, this should be the main focus:",`Excerpt from ${Di(n.uri)}, lines ${n.selection.start.line+1} to ${n.selection.end.line+1}:`]);r.push(...s.render());let a=new zA(i,void 0,["User's active file for additional context:"]);r.push(...a.render())}else if(n.visibleRange){let s=new zA(i,n.visibleRange,["User's current visible code:",`Excerpt from ${Di(n.uri)}, lines ${n.visibleRange.start.line+1} to ${n.visibleRange.end.line+1}:`]);r.push(...s.render())}else{let s=new zA(i,void 0,["User's active file for additional context:"]);r.push(...s.render())}else _Pt.warn(e.context,`Failed to read file in active editor ${n.uri} with status ${i.status} and reason ${i.status==="notfound"?i.message:i.reason}`)}return r}o(zUe,"processActiveEditor");function SPt(e){return e.start.line!==e.end.line||e.start.character!==e.end.character}o(SPt,"notEmptySelection");var kPt=new Vt("fileReferencesPrompt");async function YUe(e,t){let r=e.turnContext.turn.request.references?.filter(a=>a.type==="file")||[];if(r.length===0&&!e.turnContext.turn.request.activeEditor)return[];let[n,i]=await Promise.all([Promise.all(r.map(async a=>{if(t.isCancellationRequested)throw new Ml;let l=[],c=await e.textDocumentProvider.getByUri(a.uri);if(c.status==="valid"){let u=new zA(c,void 0,[]);u&&l.push(...u.render())}else kPt.warn(e.context,`Failed to read file ${a.uri} with status ${c.status} and reason ${c.status==="notfound"?c.message:c.reason}`);return l})),zUe(e,t)]),s=n.flat();return s.length>0||i.length>0?["<attachments>",...s,...i,"</attachments>"]:[]}o(YUe,"processFileReferences");d();d();function KUe(e){return e.reduce((r,n)=>r+n.value.length,0)+Math.max(0,e.length-1)}o(KUe,"partsLength");async function ZUe(e,t=1/0,r){let n=JUe(0,e,t),i=t-KUe(n);for(;;){let s=!1,a=[];for(let l of n)if(l.type==="text")a.push(l);else if(l.type==="dir"){a.push({type:"text",uri:l.uri,value:l.value});let c=await l.getChildren();if(r?.isCancellationRequested)return RPt();let u=JUe(l.level+1,c,i-1);u.length&&(s=!0,i-=KUe(u)+1,a.push(...u))}if(n=a,!s)break}return{files:n.map(s=>s.uri).filter(s=>s!==void 0),tree:n.map(s=>s.value).join(`
`)}}o(ZUe,"visualFileTree");function JUe(e,t,r){let n="	".repeat(e),i=[],s=r;for(let a=0;a<t.length;++a){let l=t[a],c=n+l.name+(l.type===2?"/":"");if(c.length>s){let u=n+"...";for(;u.length>s&&i.length>0;)s+=i.pop().value.length+1;u.length<=s&&i.push({type:"text",uri:void 0,value:u});break}l.type===2?i.push({type:"dir",uri:l.uri,level:e,value:c,getChildren:l.getChildren}):i.push({type:"text",uri:l.uri,value:c}),s-=c.length,a!==t.length-1&&(s-=1)}return i}o(JUe,"toParts");var RPt=o(()=>({tree:"",files:[]}),"emptyTree");async function XUe(e,t,r,n){let i=await BPt(e,t,r,n);if(!i.length)return"";let s;if(i.length===1)s=i[0].tree.tree;else{s="";for(let{label:l,tree:c}of i){s+=`${l}/
`;for(let u of c.tree.split(`
`))s+=`	${u}
`}}let a=y0(s);return["I am working in a workspace that has the following structure:",a,s,a,"This view of the workspace structure may be truncated. You can use tools to collect more context if needed."].join(`
`)}o(XUe,"generateWorkspaceStructurePrompt");async function BPt(e,t,r,n){return t.length?Promise.all(t.map(async i=>{let s=i.name,a=await ZUe(await eqe(e,i.uri,r,n),r.maxLength/t.length,n);return{label:s,tree:a}})):[]}o(BPt,"generateWorkspaceStructure");async function eqe(e,t,r,n){if(n.isCancellationRequested)return[];let i;try{i=await e.get(Io).readDirectory(t)}catch{return[]}return n.isCancellationRequested?[]:(i.sort((s,a)=>s[1]===a[1]?s[0].localeCompare(a[0]):s[1]===2?1:-1),Promise.all(i.map(([s,a])=>{let l=Fo(t,s);return r.excludeDotFiles&&s.startsWith(".")||FPt(l)?null:a===2?{type:2,uri:l,name:s,getChildren:o(()=>eqe(e,l,r,n),"getChildren")}:{type:1,uri:l,name:s}})).then(s=>s.filter(a=>a!=null)))}o(eqe,"buildFileList");var DPt=["node_modules","venv","out","dist",".git",".yarn",".npm",".venv","foo.asar",".vscode-test"],PPt=[".ds_store","thumbs.db","package-lock.json","yarn.lock",".cache"];function FPt(e){return!!(PPt.includes(Di(e).toLowerCase())||Mo(e)?.toLowerCase()?.split(/[/\\]/g)?.some(r=>DPt.includes(r)))}o(FPt,"shouldAlwaysIgnoreFile");var Oj=class{constructor(t,r){this._toolsService=t;this.props=r;this.toolCalls=[];this.ctx=r.turnContext.ctx}static{o(this,"EditAgentPrompt")}async render(t){let r=[{role:"system",content:this.buildSystemMessage().join(`
`)},{role:"system",content:this.buildDefaultAgentPrompt().join(`
`)},{role:"user",content:(await this.buildUserPrompt(this.props.userMessage,t)).join(`
`)},...this.toolCalls];return this.toolCalls.length&&r.push({role:"user",content:"Above is the result of calling one or more tools. The user cannot see the results, so you should explain them to the user if referencing them in your answer. Continue from where you left off without repeating yourself."}),r}addToolCallModelResponse(t,r){this.toolCalls.push({role:"assistant",content:t,tool_calls:r})}addToolCallResult(t,r){let n="";switch(t.status){case"error":n="Tool call failed with error: ";break;case"cancelled":n="Tool call is cancelled with result: ";break;default:case"success":n=""}let i=n+PW(t.content);this.toolCalls.push({role:"tool",content:i,tool_call_id:r})}buildSystemMessage(){let t=[];return t.push("You are an AI programming assistant.",'When asked for your name, you must respond with "GitHub Copilot".',"Follow the user's requirements carefully & to the letter.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal."),t}buildDefaultAgentPrompt(){let t=this._toolsService.getToolMapForModel().get("get_errors")!==void 0,r=this._toolsService.getToolMapForModel().get("run_in_terminal")!==void 0,n=this._toolsService.getToolMapForModel().get("replace_string_in_file")!==void 0,i=this._toolsService.getToolMapForModel().get("update_user_preferences")!==void 0,s=[];return s.push("<instructions>"),s.push("You are a highly sophisticated automated coding agent with expert-level knowledge across many different programming languages and frameworks."),s.push("The user will ask a question, or ask you to perform a task, and it may require lots of research to answer correctly. There is a selection of tools that let you perform actions or retrieve helpful context to answer the user's question."),s.push("If you can infer the project type (languages, frameworks, and libraries) from the user's query or the context that you have, make sure to keep them in mind when making changes."),s.push("If the user wants you to implement a feature and they have not specified the files to edit, first break down the user's request into smaller concepts and think about the kinds of files you need to grasp each concept."),s.push("If you aren't sure which tool is relevant, you can call multiple tools. You can call tools repeatedly to take actions or gather as much context as needed until you have completed the task fully. Don't give up unless you are sure the request cannot be fulfilled with the tools you have. It's YOUR RESPONSIBILITY to make sure that you have done all you can to collect necessary context."),s.push("Prefer using the semantic_search tool to search for context unless you know the exact string or filename pattern you're searching for."),s.push("Don't make assumptions about the situation-gather context first, then perform the task or answer the question."),s.push("Think creatively and explore the workspace in order to make a complete fix."),s.push("Don't repeat yourself after a tool call, pick up where you left off."),s.push(`NEVER print out a codeblock with file changes unless the user asked for it. Use the insert_edit_into_file ${n?"or replace_string_in_file":""} tool instead.`),r&&s.push("NEVER print out a codeblock with a terminal command to run unless the user asked for it. Use the run_in_terminal tool instead."),s.push("You don't need to read a file if it's already provided in context."),s.push("</instructions>"),s.push("<toolUseInstructions>"),s.push("When using a tool, follow the json schema very carefully and make sure to include ALL required properties."),s.push("Always output valid JSON when using a tool."),s.push("If a tool exists to do a task, use the tool instead of asking the user to manually take an action."),s.push("If you say that you will take an action, then go ahead and use the tool to do it. No need to ask permission."),s.push("Never use multi_tool_use.parallel or any tool that does not exist. Use tools using the proper procedure, DO NOT write out a json codeblock with the tool inputs."),s.push("Never say the name of a tool to a user."),s.push(`For example, instead of saying that you'll use the run_in_terminal tool, say "I'll run the command in a terminal".`),s.push("If you think running multiple tools can answer the user's question, prefer calling them in parallel whenever possible, but do not call semantic_search in parallel."),s.push("If semantic_search returns the full contents of the text files in the workspace, you have all the workspace context."),r&&s.push("Don't call the run_in_terminal tool multiple times in parallel. Instead, run one command and wait for the output before running the next command."),i&&s.push("After you have performed the user's task, if the user corrected something you did, expressed a coding preference, or communicated a fact that you need to remember, use the update_user_preferences tool to save their preferences."),s.push("</toolUseInstructions>"),s.push("<editFileInstructions>"),n?(s.push("Before you edit an existing file, make sure you either already have it in the provided context, or read it with the read_file tool, so that you can make proper changes."),s.push("Use the replace_string_in_file tool to replace a string in a file, but only if you are sure that the string is unique enough to not cause any issues. You can use this tool multiple times per file."),s.push("Use the insert_edit_into_file tool to insert code into a file."),s.push("When editing files, group your changes by file."),s.push("NEVER show the changes to the user, just call the tool, and the edits will be applied and shown to the user."),s.push("NEVER print a codeblock that represents a change to a file, use insert_edit_into_file or replace_string_in_file instead."),s.push("For each file, give a short description of what needs to be changed, then use the replace_string_in_file or insert_edit_into_file tools. You can use any tool multiple times in a response, and you can keep writing text after using a tool.")):(s.push("Don't try to edit an existing file without reading it first, so you can make changes properly."),s.push("Use the insert_edit_into_file tool to edit files. When editing files, group your changes by file."),s.push("NEVER show the changes to the user, just call the tool, and the edits will be applied and shown to the user."),s.push(`NEVER print a codeblock that represents a change to a file, use insert_edit_into_file ${n?"or replace_string_in_file":""} instead.`),s.push(`For each file, give a short description of what needs to be changed, then use the ${n?"replace_string_in_file or":""} insert_edit_into_file tool. You can use any tool multiple times in a response, and you can keep writing text after using a tool.`)),s.push(`Follow best practices when editing files. If a popular external library exists to solve a problem, use it and properly install the package e.g. ${r?'with "npm install" or ':""}creating a "requirements.txt".`),t&&s.push("After editing a file, you MUST call get_errors to validate the change. Fix the errors if they are relevant to your change or the prompt, and remember to validate that they were actually fixed."),s.push("The insert_edit_into_file tool is very smart and can understand how to apply your edits to the user's files, you just need to provide minimal hints."),s.push("When you use the insert_edit_into_file tool, avoid repeating existing code, instead use comments to represent regions of unchanged code. The tool prefers that you are as concise as possible. For example:"),s.push(`// ${Ql}`),s.push("changed code"),s.push(`// ${Ql}`),s.push("changed code"),s.push(`// ${Ql}`),s.push(""),s.push("Here is an example of how you should format an edit to an existing Person class:"),s.push("class Person {"),s.push(`	// ${Ql}`),s.push("	age: number;"),s.push(`	// ${Ql}`),s.push("	getAge() {"),s.push("		return this.age;"),s.push("	}"),s.push("}"),s.push("</editFileInstructions>"),s}async buildUserPrompt(t,r){let n=this._toolsService.getToolMapForModel().get("replace_string_in_file")!==void 0,i=[],s=await YUe({turnContext:this.props.turnContext,textDocumentProvider:this.props.textDocumentProvider,context:this.ctx},r);return s.length>0&&i.push(...s),i.push("<context>"),i.push(`${this.getCurrentDate()}`),i.push(`${this.getUserOS()}`),i.push(`${this.getWorkspaceFoldersHint()}`),i.push(`${await this.getWorkspaceStructureHint(r)}`),i.push("</context>"),i.push("<reminder>"),i.push(`When using the insert_edit_into_file tool, avoid repeating existing code, instead use a line comment with \`${Ql}\` to represent regions of unchanged code.`),n&&i.push("When using the replace_string_in_file tool, include 3-5 lines of unchanged code before and after the string you want to replace, to make it unambiguous which part of the file should be edited."),i.push("</reminder>"),i.push("<prompt>"),i.push(t),i.push("</prompt>"),i}getWorkspaceFoldersHint(){return this.props.workspaceFolders&&this.props.workspaceFolders.length>0?`I am working in a workspace with the following folders:
${this.props.workspaceFolders.map(r=>` - ${Mo(r.uri)}`).join(`
`)}`:"There is no workspace currently open."}async getWorkspaceStructureHint(t){return this.props.workspaceFolders?await XUe(this.props.turnContext.ctx,this.props.workspaceFolders,{maxLength:2e3,excludeDotFiles:!0},t):""}getCurrentDate(){return`The current date is ${new Date().toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})}.`}getUserOS(){let t=process.platform;return`My current OS is: ${t==="win32"?"Windows":t==="darwin"?"macOS":t==="linux"?"Linux":"Unknown"}`}};var NPt=15,Uj=class e{constructor(t,r,n){this.turnContext=t;this.chatFetcher=r;this.modelConfiguration=n;this.toolCallRounds=[];this.conversationProgress=t.ctx.get(bs),this.conversation=t.conversation,this.turn=t.turn,this.toolsService=t.ctx.get(v0),this.prompt=new Oj(this.toolsService,{turnContext:this.turnContext,userMessage:an(this.turnContext.turn.request.message),workspaceFolders:this.turnContext.turn.workspaceFolders,textDocumentProvider:new Ag(this.turnContext.ctx)}),this.requestId=Ir()}static{o(this,"ToolCallingLoop")}static{this.NextToolCallId=Date.now()}async run(t){this.abortIfCanceled(t);let r=0,n;for(;;){if(t.isCancellationRequested)throw new Ml;if(n&&r++>=NPt)return;let i=await this.runOne(r,t);if(n={...i},this.toolCallRounds.push(i.round),!i.round.toolCalls.length||i.response.type!=="success"&&i.response.type!=="tool_calls")return}}async runOne(t,r){this.abortIfCanceled(r);let n=await this.prompt.render(r),i=[],s="",a=new RC((f,m,h,p)=>{let g=f.trim().match(CR)!==null;this.conversationProgress.report(this.conversation,this.turn,{annotations:m,references:h,hideText:g,notifications:p.map(x=>({severity:"warning",message:x.message})),editAgentRounds:[{roundId:t,reply:f}]}),this.turn.response?this.turn.response.message=B9(this.turn.response.message,f):this.turn.response={message:f,type:"model"},this.turn.annotations.push(...m??[]),s+=f});this.abortIfCanceled(r);let l=await this.turnContext.ctx.get(Cr).updateExPValuesAndAssignments();l.properties.requestId=this.requestId;let c=this.toolsService.getToolsForModel();this.abortIfCanceled(r);let u=await this.chatFetcher.fetchResponse({messages:n,modelConfiguration:this.modelConfiguration,uiKind:"conversationPanel",tools:this.getAvailableChatTools(c),intentParams:{intent:!0},llmInteraction:this.turnContext.toLlmInteraction()},r,l,(f,m)=>a.isFinishedAfter(f,m));if(u.type==="success")return{response:u,round:{response:u.value,toolInputRetry:0,toolCalls:i}};if(u.type==="tool_calls"){let f=u.toolCalls.map(m=>{if(!m.id){let h=`cls_${e.NextToolCallId++}`;m.id=h}return m});this.prompt.addToolCallModelResponse(s,f);for(let m of f){if(!m.id)throw new Error(`Tool call id is required but was not provided for function ${m.function.name}`);let h=this.findLanguageModelByName(c,m.function.name);if(h){let p=sC(m),g=this.toolsService.prepareInvocation(h.id,{input:p},r),x=!0,v=this.turnContext.turn.needToolCallConfirmation!==void 0?this.turnContext.turn.needToolCallConfirmation:!1;if(g.confirmationMessages&&v){let E=await this.toolsService.invokeToolConfirmation(this.turnContext,h.id,{title:g.confirmationMessages.title,message:g.confirmationMessages.message,input:p,roundId:t,toolCallId:m.id},r);switch(E.result){case"dismiss":throw new P9;case"accept":x=!0;break;default:throw new Error(`Invalid confirmation result ${E.result}`)}}if(x){this.abortIfCanceled(r),await this.turnContext.agentToolCalls.start(t,m.id,h.name,g.progressMessage||`Running ${h.displayName} tool`);let E=await this.toolsService.invokeTool(this.turnContext,h.id,{toolInvocationToken:m.id,input:p,roundId:t,toolCallId:m.id},r);this.prompt.addToolCallResult(E,m.id),this.abortIfCanceled(r),await this.turnContext.agentToolCalls.finish(t,m.id)}else{let E={content:JSON.stringify({message:"Tool invocation was dismissed by the user"})},b=new vo([new xo(E.content)],"cancelled");this.prompt.addToolCallResult(b,m.id)}}}return{response:u,round:{response:s,toolInputRetry:0,toolCalls:f.map(m=>({id:m.id,name:m.function.name,arguments:JSON.stringify(m.function.arguments)}))}}}return{response:u,round:{response:"",toolInputRetry:0,toolCalls:i}}}getAvailableChatTools(t){return t.map(r=>({type:"function",function:{name:r.nameForModel,description:r.description,parameters:r.inputSchema}}))}findLanguageModelByName(t,r){return t.find(n=>n.nameForModel===r)}getToolCallErrorPrefix(){}abortIfCanceled(t){if(t.isCancellationRequested)throw new Ml}};var qj=new Vt("agenticTurnProcessor"),Wj=class{constructor(t,r){this.turnContext=t;this.chatFetcher=r;this.conversationProgress=t.ctx.get(bs),this.chatFetcher=this.chatFetcher??new ka(t.ctx),this.conversation=t.conversation,this.turn=t.turn}static{o(this,"AgenticTurnProcessor")}async process(t,r,n,i,s){try{await this.processWithModelAndToolCall(t,r,this.turnContext,n,i,s)}catch(a){Jr.error(this.turnContext.ctx,`Error processing turn ${this.turn.id}`,a);let l=a instanceof Error?a.message:String(a);this.turn.status="error",this.turn.response={message:l,type:"meta"},await this.endProgress({error:{message:l,responseIsIncomplete:!0}})}}async processWithModelAndToolCall(t,r,n,i,s,a){if(!r.isCancellationRequested){await this.conversationProgress.begin(this.conversation,this.turn,t),r.onCancellationRequested(async()=>{qj.info(this.turnContext.ctx,`Cancellation requested for turn ${this.turn.id}`),this.turn.status="cancelled",await this.cancelProgress()});try{let l=await xh.getModelConfiguration(this.turnContext.ctx,"edits",a);await new Uj(this.turnContext,this.chatFetcher,l).run(r),await this.endProgress({})}catch(l){if(l instanceof P9)qj.info(this.turnContext.ctx,`Tool call canceled for turn ${this.turn.id}`,l),this.turn.status="cancelled",await this.cancelProgress();else if(l instanceof Ml)qj.info(this.turnContext.ctx,`Turn ${this.turn.id} was cancelled`,l),this.turn.status="cancelled",await this.cancelProgress();else throw qj.error(this.turnContext.ctx,`Error in processing turn ${this.turn.id}`,l),l}}}async endProgress(t){await this.turnContext.steps.finishAll(),await this.conversationProgress.end(this.conversation,this.turn,t)}async cancelProgress(){await this.turnContext.agentToolCalls.finishAll("cancelled"),await this.turnContext.steps.finishAll("cancelled"),await this.conversationProgress.cancel(this.conversation,this.turn)}};d();var Cue="collect-context",xue="generate-response",Gj=class{constructor(t,r,n){this.turnContext=t;this.strategy=r;this.chatFetcher=n;this.conversationProgress=t.ctx.get(bs),this.chatFetcher=this.chatFetcher??new ka(t.ctx),this.postProcessor=new k9(t,this.chatFetcher,r.computeSuggestions),this.conversation=t.conversation,this.turn=t.turn}static{o(this,"ModelTurnProcessor")}async process(t,r,n,i,s){try{await this.processWithModel(t,r,this.turnContext,n,i,s)}catch(a){Jr.error(this.turnContext.ctx,`Error processing turn ${this.turn.id}`,a);let l=a instanceof Error?a.message:String(a);this.turn.status="error",this.turn.response={message:l,type:"meta"},await this.endProgress({error:{message:l,responseIsIncomplete:!0}})}}async processWithModel(t,r,n,i,s,a){await this.conversationProgress.begin(this.conversation,this.turn,t);let l=await a0(this.turnContext.ctx,this.turnContext,{languageId:s?.detectedLanguageId??""});if(r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let c=aR().find(h=>h.id===this.turn.template?.templateId);if(c?.response){await this.handleTemplateResponse(c,this.turn.template.userQuestion,r);return}let u=(await Ug(this.turnContext.ctx)).find(h=>h.slug===this.turn.agent?.agentSlug);if(u){let h=await this.checkAgentPreconditions(u);if(h){await this.endProgress(h);return}}await n.steps.start(Cue,"Collecting context"),await this.collectContext(n,r,l,this.strategy.uiKind,c,u);let f=a?(await this.turnContext.ctx.get(ui).getBestChatModelConfig([a])).uiName:void 0,m=await this.strategy.buildConversationPrompt(n,s?.detectedLanguageId??"",void 0,f);if(!m)await n.steps.error(Cue,"Failed to collect context"),await this.endTurnWithResponse(this.strategy.earlyReturnResponse,"error");else{await n.steps.finish(Cue),await n.steps.start(xue,"Generating response");let h=this.augmentTelemetry(m,l,c,i,s);if(r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let p=await this.fetchConversationResponse(m.messages,r,l.extendedBy({messageSource:"chat.user"},{promptTokenLen:m.tokens}),h,s,a),g=await this.strategy.processResponse(this.turn);this.turn.status==="cancelled"&&this.turn.response?.type==="user"?await this.cancelProgress():(await this.finishGenerateResponseStep(p,n),await this.endProgress({error:p.error,followUp:p.followup,suggestedTitle:p.suggestedTitle,skillResolutions:m.skillResolutions,updatedDocuments:g}))}}async checkAgentPreconditions(t){try{let r=t.checkPreconditions?await t.checkPreconditions(this.turnContext.ctx,this.turn):void 0;if(r&&r.type==="authorizationRequired")return{unauthorized:{...r,agentName:t.name,agentSlug:t.slug}}}catch(r){Jr.error(this.turnContext.ctx,`Error checking preconditions for agent ${t.slug}`,r);let n=r instanceof Error?r.message:String(r);return this.turn.status="error",this.turn.response={message:n,type:"meta"},{error:{message:n,responseIsIncomplete:!0}}}}async endTurnWithResponse(t,r){this.turn.response={type:"meta",message:t},this.turn.status=r,await this.conversationProgress.report(this.conversation,this.turn,{reply:t}),await this.endProgress()}async handleTemplateResponse(t,r,n){if(!t.response)return;let i=await t.response(this.turnContext,r,n);this.turn.response={type:"meta",message:i.message},this.turn.status=i.error?.responseIsFiltered?"filtered":i.error?.responseIsIncomplete?"error":"success",i.error?.responseIsFiltered||i.error?.responseIsIncomplete?(await this.conversationProgress.report(this.conversation,this.turn,{reply:"Sure, I can definitely do that!",annotations:i.annotations,notifications:i.notifications,references:i.references}),await this.turnContext.steps.finishAll(),await this.endProgress({error:{message:i.message,code:i.error?.code||0,responseIsIncomplete:i.error?.responseIsIncomplete,responseIsFiltered:i.error?.responseIsFiltered}})):(await this.conversationProgress.report(this.conversation,this.turn,{reply:i.message,annotations:i.annotations,notifications:i.notifications,references:i.references,confirmationRequest:i.confirmationRequest}),await this.endProgress())}async collectContext(t,r,n,i,s,a){let c=await new dj(this.turnContext.ctx,this.chatFetcher).collectContext(t,r,n,i,s,a);return this.turn.skills=c.skillIds.map(u=>({skillId:u})),c}async fetchConversationResponse(t,r,n,i,s,a){r.onCancellationRequested(async()=>{await this.cancelProgress()});let l="",c=0,u=new RC((p,g,x,v)=>{let E=p.trim().match(CR)!==null;if(this.conversationProgress.report(this.conversation,this.turn,{reply:p,annotations:g,references:x,hideText:E,notifications:v.map(b=>({severity:"warning",message:b.message}))}),this.turn.response?this.turn.response.message=B9(this.turn.response.message,p):this.turn.response={message:p,type:"model"},this.turn.annotations.push(...g??[]),l+=p,this.strategy.currentDocument){let b=this.strategy.extractEditsFromResponse(l,this.strategy.currentDocument);b&&b.length>0&&(l="",this.conversationProgress.report(this.conversation,this.turn,{codeEdits:b}),c+=b.length)}}),f=await xh.getModelConfiguration(this.turnContext.ctx,"user",a);t=xh.transformMessages(t,f.modelFamily);let m={modelConfiguration:f,messages:t,uiKind:this.strategy.uiKind,intentParams:{intent:!0,intent_threshold:.7,intent_content:an(this.turn.request.message)},llmInteraction:this.turnContext.toLlmInteraction()},h=await this.chatFetcher.fetchResponse(m,r,n,(p,g)=>u.isFinishedAfter(p,g));return i=i.extendedBy(void 0,{numCodeEdits:c}),await this.postProcessor.postProcess(h,r,u.appliedText,n,i,an(this.turn.request.message),this.strategy.uiKind,s)}augmentTelemetry(t,r,n,i,s){let a;return i?(this.turn.request.type="follow-up",Ybe(this.turnContext.ctx,this.conversation,this.strategy.uiKind,an(this.turn.request.message),t.tokens,i.type,i.id,s,r),a=g_(this.conversation,this.strategy.uiKind,an(this.turn.request.message).length,t.tokens,i.type,i.id,r,t.skillResolutions)):a=g_(this.conversation,this.strategy.uiKind,an(this.turn.request.message).length,t.tokens,n?.id,void 0,r,t.skillResolutions),a}async finishGenerateResponseStep(t,r){t.error?await r.steps.error(xue,t.error.message):await r.steps.finish(xue)}async endProgress(t){await this.turnContext.steps.finishAll(),await this.conversationProgress.end(this.conversation,this.turn,t)}async cancelProgress(){await this.turnContext.steps.finishAll("cancelled"),await this.conversationProgress.cancel(this.conversation,this.turn)}};d();var Hj=class{constructor(t){this.ctx=t;this.earlyReturnResponse="Oops, an error has occurred. Please try again";this.uiKind="conversationPanel";this.computeSuggestions=!0}static{o(this,"PanelTurnProcessorStrategy")}processResponse(){return[]}async buildConversationPrompt(t,r,n,i){let s="user",a=await t.ctx.get(ui).getBestChatModelConfig(ms(s)),l={promptType:s,modelConfiguration:a,languageId:r,userSelectedModelName:i};return await this.ctx.get(pc).toPrompt(t,l)}extractEditsFromResponse(t,r){return[]}},jj=class{constructor(t){this.ctx=t;this.earlyReturnResponse="Please open a file and select code for the inline chat to be available";this.uiKind="conversationInline";this.computeSuggestions=!1}static{o(this,"InlineTurnProcessorStrategy")}async buildConversationPrompt(t,r,n){let i=await this.getCurrentEditorSkill(t);if(!i)return;let s=await this.getDocumentIfValid(i.uri);if(!s)return;let a=n?.producesCodeEdits===!1?"user":"inline",l=await t.ctx.get(ui).getBestChatModelConfig(ms(a)),c={promptType:a,modelConfiguration:l,languageId:r};return c.promptType==="inline"&&(this.currentDocument=s),await this.ctx.get(pc).toPrompt(t,c)}async processResponse(t){let r=[],n=an(t.response?.message??"");if(n&&t.status==="success"&&this.currentDocument){let i=await this.processInlineResponse(n,this.currentDocument);i&&r.push(i)}return r}async getCurrentEditorSkill(t){let r=await t.skillResolver.resolve(jc);if(r)return r}async getDocumentIfValid(t){let r=await this.ctx.get(Dn).getOrReadTextDocument({uri:t});if(r.status==="valid")return r.document}async processInlineResponse(t,r){let i=Aue(t,r).filter(a=>gue.includes(a.mode)),s=yue(i,r);if(s)return await this.ctx.get(Za).documentDiff({original:r.getText(),updated:s}),{uri:r.uri,text:s}}extractEditsFromResponse(t,r){return Aue(t,r)}};d();d();var tqe=et(Tl()),rqe=et(Jm());var w0=class{constructor(t,r,n){this.ctx=t;this.skillId=r;this.requestType=new tqe.ProtocolRequestType("conversation/context");this.typeCheck=ds.Compile(n)}static{o(this,"AgentSkillResolver")}async resolveSkill(t){let r=this.ctx.get(jr).connection,n={conversationId:t.conversation.id,turnId:t.turn.id,skillId:this.skillId},i;try{let s=await r.sendRequest(this.requestType,n),[a,l]=s;if(l){let c=new rqe.ResponseError(l.code,l.message,l.data);Jr.error(this.ctx,`ResponseError while resolving skill ${this.skillId}`,c);return}i=a}catch(s){Jr.error(this.ctx,`Error while resolving skill ${this.skillId}`,s);return}if(i!=null){if(!this.typeCheck.Check(i))throw new mc(this.typeCheck.Errors(i));return i}}};var vue=class{constructor(t,r,n="",i="",s=[],a=[]){this.progressToken=t;this.chunks=r;this.followUp=n;this.suggestedTitle=i;this.skills=s;this.references=a}static{o(this,"SyntheticTurn")}},YA=class{constructor(){this.turns=[]}static{o(this,"SyntheticTurns")}add(t,r,n="",i="",s=[],a=[]){let l=new vue(t,r,n,i,s,a);return this.turns.push(l),l}get(t){return this.turns.find(r=>r.progressToken===t)}},Vj=class{constructor(t,r){this.turnContext=t;this.syntheticTurn=r;this.conversationProgress=t.ctx.get(bs)}static{o(this,"SyntheticTurnProcessor")}async process(t,r){try{await this.processWithSyntheticTurns(this.syntheticTurn,t,r)}catch(n){Jr.error(this.turnContext.ctx,`Error processing turn ${this.turnContext.turn.id}`,n);let i=n.message;this.turnContext.turn.status="error",this.turnContext.turn.response={message:i,type:"meta"},await this.conversationProgress.end(this.turnContext.conversation,this.turnContext.turn,{error:{message:i,responseIsIncomplete:!0}})}}async processWithSyntheticTurns(t,r,n){await this.conversationProgress.begin(this.turnContext.conversation,this.turnContext.turn,r),await this.resolveSyntheticSkill(t,n),await this.processSyntheticChunks(t,n),await this.endSyntheticProgress(t,n),this.turnContext.turn.response={type:"model",message:t.chunks.join("")},this.turnContext.turn.status=n.isCancellationRequested?"cancelled":"success"}async resolveSyntheticSkill(t,r){let n=this.turnContext.ctx.get(Gi).getCapabilities(this.turnContext.conversation.id),i=t.skills.filter(s=>n.skills.includes(s));for(let s of i){let l=await new w0(this.turnContext.ctx,s,I.Object({value:I.String()})).resolveSkill(this.turnContext);l&&!r.isCancellationRequested&&await this.conversationProgress.report(this.turnContext.conversation,this.turnContext.turn,{reply:l.value})}}async processSyntheticChunks(t,r){for(let n of t.chunks)r.isCancellationRequested||(await this.conversationProgress.report(this.turnContext.conversation,this.turnContext.turn,{reply:n}),await z4(1))}async endSyntheticProgress(t,r){r.isCancellationRequested?await this.conversationProgress.cancel(this.turnContext.conversation,this.turnContext.turn):await this.conversationProgress.end(this.turnContext.conversation,this.turnContext.turn,{followUp:{message:t.followUp,type:"followup",id:Ir()},suggestedTitle:t.suggestedTitle,updatedDocuments:this.turnContext.conversation.source==="inline"?[{uri:"fakeUpdatedDoc.ts",text:"fake"}]:void 0})}};var KA=class{static{o(this,"TurnProcessorFactory")}async createProcessor(t,r,n){let i=t.ctx.get(YA).get(r);if(i)return new Vj(t,i);let a=(await Ug(t.ctx)).find(c=>c.slug===t.turn.agent?.agentSlug);if(a?.turnProcessor)return a.turnProcessor(t);let l;return t.conversation.source==="inline"?l=new jj(t.ctx):l=new Hj(t.ctx),t.turn.chatMode==="Agent"?new Wj(t):(n!==void 0&&(l.computeSuggestions=n),new Gj(t,l))}};d();var nqe=et(Tl());var F9=class{static{o(this,"WorkspaceFoldersValidator")}static validate(t){if(!t)return;let r=new Set;for(let n of t){if(r.has(n.uri))throw new nqe.ResponseError(rn.InvalidParams,`Duplicate workspace folder uri ${n.uri}`);r.add(n.uri)}}};d();function $j(e){if(e&&e.uri.length>0)return[{uri:e.uri,name:Di(e.uri)}]}o($j,"resolveAsWorkspaceFolders");d();d();var LPt=Object.freeze(function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}),Iu=class{constructor(t){this.tokens=[];this.handlers=[];this._isCancelled=!1;this.onCancellationRequested=o((t,r)=>this._isCancelled?LPt(t,r):(this.handlers.push(t.bind(r)),{dispose:o(()=>{},"dispose")}),"onCancellationRequested");this.tokens=t,this._isCancelled=t.some(r=>r.isCancellationRequested),t.forEach(r=>{r.onCancellationRequested(n=>this.cancel(n))})}static{o(this,"MergedToken")}cancel(t){this._isCancelled||(this._isCancelled=!0,this.handlers.forEach(r=>r(t)))}get isCancellationRequested(){return this.tokens.some(t=>t.isCancellationRequested)}};var _0=class{constructor(){this.tokens=new In(250)}static{o(this,"ProgressTokens")}add(t,r){let n=new Vn.CancellationTokenSource,i=new Iu([r,n.token]);return this.tokens.set(t.toString(),n),i}cancel(t){let r=this.tokens.get(t.toString());r&&(r.cancel(),this.tokens.delete(t.toString()))}};var QPt=I.Object({conversationId:I.Optional(wj),workDoneToken:I.Union([I.String(),I.Number()]),turns:I.Array(UUe,{minItems:1}),capabilities:I.Object({allSkills:I.Optional(I.Boolean()),skills:I.Array(I.String())}),doc:I.Optional(V0),textDocument:I.Optional(V0),selection:I.Optional(Ca),visibleRanges:I.Optional(Nj),computeSuggestions:I.Optional(I.Boolean()),references:I.Optional(I.Array(R9)),source:I.Optional(em),workspaceFolder:I.Optional(I.String()),workspaceFolders:I.Optional(I.Array(Rj)),ignoredSkills:I.Optional(I.Array(I.String())),userLanguage:I.Optional(I.String()),model:I.Optional(I.String()),chatMode:I.Optional(kj),needToolCallConfirmation:I.Optional(I.Boolean())});async function MPt(e,t,r){F9.validate(r.workspaceFolders);let n=await Gg(e,r,t);r.capabilities.allSkills&&(r.capabilities.skills=e.get(Xa).getDescriptors().map(f=>f.id));let i=e.get(Gi).create(r.capabilities,r);await OPt(e,i,r,n);let s=i.turns[i.turns.length-1],a=D9(r),l=e.get(_0).add(a.progressToken,t),c=new MC(e,i,s,l);return await(await e.get(KA).createProcessor(c,a.progressToken,r.computeSuggestions)).process(a,l,void 0,n,r.model),[{conversationId:i.id,turnId:s.id,agentSlug:s.agent?.agentSlug,modelFamily:r.model},null]}o(MPt,"handleConversationCreateChecked");async function OPt(e,t,r,n){for(let i of r.turns){let s=Sj(i.request),a=new BC({message:s,type:"user"},i.turnId);i.response&&(a.response={message:i.response,type:"model"}),i.agentSlug&&(a.agent={agentSlug:i.agentSlug}),a.chatMode=RH(r.chatMode),a.needToolCallConfirmation=r.needToolCallConfirmation;let l=r.workspaceFolder?{uri:r.workspaceFolder}:void 0,c=r.workspaceFolders&&r.workspaceFolders.length>0?r.workspaceFolders:$j(l),u=Lj({textDocument:n,selection:r.selection,visibleRanges:r.visibleRanges});await e.get(Gi).addTurn(t.id,a,r.references,u,l,c,r.ignoredSkills,void 0)}}o(OPt,"addTurns");var iqe=at(QPt,MPt);d();var UPt=I.Object({conversationId:I.String()});function qPt(e,t,r){return e.get(Gi).destroy(r.conversationId),["OK",null]}o(qPt,"handleConversationDestroyChecked");var oqe=fo(at(UPt,qPt));d();var WPt=I.Object({});function GPt(e,t,r){return[{path:e.get(dc).directory},null]}o(GPt,"handleConversationPersistenceChecked");var sqe=fo(at(WPt,GPt));d();d();var lqe=et(require("node:events"));var bue=class{static{o(this,"TokenPreconditionCheck")}async check(t){let r=await t.get(Ln).getSession(t),n=t.get(ea),i=n.fallbackAppId();return r&&r.githubAppId&&r.githubAppId!==i?{type:"token",status:"ok"}:{type:"token",status:"failed",githubAppId:n.githubAppId}}},Eue=class{static{o(this,"ChatEnabledPreconditionCheck")}async check(t){return{type:"chat_enabled",status:(await t.get(Xr).getToken()).envelope.chat_enabled?"ok":"failed"}}},HPt=[new bue,new Eue],aqe="onPreconditionsChanged",tm=class{constructor(t,r=HPt){this.ctx=t;this.checks=r;this.emitter=new lqe.default;js(t,async()=>{await this.check()})}static{o(this,"PreconditionsCheck")}check(t){return t&&(this.result=void 0),this.result===void 0&&(this.result=this.requestChecks()),this.result}async requestChecks(){let t=[];this.checks.length>0&&(t=await Promise.all(this.checks.map(i=>i.check(this.ctx))));let r=t.every(i=>i.status==="ok")?"ok":"failed",n={results:t,status:r};return this.emit(n),n}onChange(t){this.emitter.on(aqe,t)}emit(t){this.emitter.emit(aqe,t)}};var jPt=I.Object({forceCheck:I.Optional(I.Boolean())});async function VPt(e,t,r){let n=r.forceCheck??!1;return[await e.get(tm).check(n),null]}o(VPt,"handleConversationPreconditionsChecked");var cqe=fo(at(jPt,VPt));d();var $Pt=I.Object({turnId:I.String(),rating:I.Number(),doc:I.Optional(V0),textDocument:I.Optional(V0),source:I.Optional(em)});async function zPt(e,t,r){let n=await Gg(e,r,t),i=m5(r.source),s="unrated";r.rating>0?s="positive":r.rating<0&&(s="negative");let a=await a0(e,e.get(Gi).findByTurnId(r.turnId),{languageId:n?.detectedLanguageId??""});return lf(e,n,{rating:s,uiKind:i},{},`${X0(i)}.messageRating`,a),["OK",null]}o(zPt,"handleConversationRatingChecked");var uqe=at($Pt,zPt);d();d();var zj=class extends pC{static{o(this,"ClientLanguageModelTool")}constructor(t){super({...t,toolProvider:bg,type:"client"}),this.confirmationMessages=t.confirmationMessages}prepareInvocation(t,r){return{progressMessage:`Running ${this.name} tool`,confirmationMessages:this.confirmationMessages}}async invoke(t,r,n){let i={name:this.name,input:r.input,conversationId:t.conversation.id,turnId:t.turn.id,roundId:r.roundId,toolCallId:r.toolCallId};try{return await t.ctx.get(aC).invokeClientTool(t,i)}catch(s){throw new Error(`Failed to invoke client tool ${this.name}: ${String(s)}`)}}async invokeConfirmation(t,r,n){if(n.isCancellationRequested)throw new Ml;let i={name:this.name,title:r.title,message:r.message,input:r.input,conversationId:t.conversation.id,turnId:t.turn.id,roundId:r.roundId,toolCallId:r.toolCallId};try{return await t.ctx.get(gg).invokeClientToolConfirmation(t,i)}catch(s){throw new Error(`Failed to invoke client tool confirmation ${this.name}: ${String(s)}`)}}};var YPt=I.Object({tools:I.Array(qUe)});function KPt(e,t,r){return r.tools.forEach(n=>{e.get(v0).registerTool(new zj({name:n.name,description:n.description,inputSchema:n.inputSchema,confirmationMessages:n.confirmationMessages}))}),["OK",null]}o(KPt,"conversationRegisterToolsChecked");var fqe=fo(at(YPt,KPt));d();var JPt=I.Object({});function ZPt(e,t,r){return[F0e(e).map(i=>({id:i.id,description:i.description,shortDescription:i.shortDescription,scopes:i.scopes})),null]}o(ZPt,"handleConversationTemplatesChecked");var dqe=fo(at(JPt,ZPt));d();var XPt=I.Object({workDoneToken:I.Union([I.String(),I.Number()]),conversationId:wj,turnId:I.Optional(Fv),message:due,followUp:I.Optional(I.Object({id:I.String(),type:I.String()})),doc:I.Optional(V0),textDocument:I.Optional(V0),selection:I.Optional(Ca),visibleRanges:I.Optional(Nj),computeSuggestions:I.Optional(I.Boolean()),references:I.Optional(I.Array(R9)),workspaceFolder:I.Optional(I.String()),workspaceFolders:I.Optional(I.Array(Rj)),ignoredSkills:I.Optional(I.Array(I.String())),confirmationResponse:jDe,model:I.Optional(I.String()),chatMode:I.Optional(kj),needToolCallConfirmation:I.Optional(I.Boolean())});async function eFt(e,t,r){F9.validate(r.workspaceFolders);let n=await Gg(e,r,t),i=e.get(Gi),s=i.get(r.conversationId),a=Sj(r.message),l=new BC({message:a,type:"user"},r.turnId);l.chatMode=RH(r.chatMode),l.needToolCallConfirmation=r.needToolCallConfirmation;let c=r.workspaceFolder?{uri:r.workspaceFolder}:void 0,u=r.workspaceFolders&&r.workspaceFolders.length>0?r.workspaceFolders:$j(c),f=Lj({textDocument:n,selection:r.selection,visibleRanges:r.visibleRanges});l=await i.addTurn(s.id,l,r.references,f,c,u,r.ignoredSkills,r.confirmationResponse);let m=D9(r),h=e.get(_0).add(m.progressToken,t),p=new MC(e,s,l,h);return await(await e.get(KA).createProcessor(p,m.progressToken,r.computeSuggestions)).process(m,h,r.followUp,n,r.model),[{conversationId:s.id,turnId:l.id,agentSlug:l.agent?.agentSlug,modelFamily:r.model},null]}o(eFt,"handleConversationTurnChecked");var mqe=at(XPt,eFt);d();var tFt=I.Object({conversationId:I.String(),turnId:I.String(),source:I.Optional(em)});async function rFt(e,t,r){e.get(Gi).deleteTurn(r.conversationId,r.turnId);let i=m5(r.source),s=await a0(e,e.get(Gi).findByTurnId(r.turnId),{languageId:""});return lf(e,void 0,{messageId:r.turnId,uiKind:i,conversationId:r.conversationId},{},`${X0(i)}.messageDelete`,s),["OK",null]}o(rFt,"handleConversationTurnDeleteChecked");var hqe=fo(at(tFt,rFt));d();var nFt=I.Object({document:I.Object({uri:I.String(),text:I.String(),languageId:I.String(),version:I.Number()}),selection:I.Object({start:I.Object({line:I.Number(),character:I.Number()}),end:I.Object({line:I.Number(),character:I.Number()})})});function iFt(){return["You are a world-class software engineer and the author and maintainer of the discussed code. Your feedback prefectly combines detailed feedback and explanation of context.",'When asked for your name, you must respond with "GitHub Copilot".',"Follow the user's requirements carefully & to the letter.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal.","Use Markdown formatting in your answers.","Make sure to include the programming language name at the start of the Markdown code blocks.","Avoid wrapping the whole response in triple backticks.","The user works in an IDE called Visual Studio Code which has a concept for editors with open files, integrated unit test support, an output pane that shows the output of running the code as well as an integrated terminal.","The active document is the source code the user is looking at right now.","You can only give one reply for each conversation turn.","","Additional Rules","Think step by step:","1. Examine the provided code and any other context like user question, related errors, project details, class definitions, etc.","2. Provide feedback on the current selection on where it can be improved or introduces a problem.","2a. Avoid commenting on correct code.","2b. Avoid commenting on commented out code.","2c. Keep scoping rules in mind.","3. Reply with an enumerated list of feedback with source line number, filepath, kind (bug, performance, consistency, documentation, naming, readability, style, other), severity (low, medium, high), and feedback text.","3a. E.g.: 1. Line 357 in src/flow.js, bug, high severity: `i` is not incremented.","3b. E.g.: 2. Line 361 in src/arrays.js, documentation, low severity: Function `binarySearch` is not documented.","3c. E.g.: 3. Line 176 in src/vs/platform/actionWidget/browser/actionWidget.ts, consistency, medium severity: The color id `'background.actionBar'` is not consistent with the other color ids used. Use `'actionBar.background'` instead.","3d. E.g.: 4. Line 410 in src/search.js, documentation, medium severity: Returning `-1` when the target is not found is a common convention, but it should be documented.","3e. E.g.: 5. Line 51 in src/account.py, bug, high severity: The deposit method is not thread-safe. You should use a lock to ensure that the balance update is an atomic operation.","3f. E.g.: 6. Line 220 in src/account.py, readability, low severity: The withdraw method is very long and combines multipe logical steps, consider splitting it into multiple methods.","4. Try to sort the feedback by file and line number.",'5. When there is no feedback to provide, reply with "No feedback to provide."',"","Focus on being clear, helpful, and thorough.","Use developer-friendly terms and analogies in your explanations.","Provide clear and relevant examples when helpful."].join(`
`)}o(iFt,"buildSystemMessage");function oFt(e){let r=e.document.text.split(`
`).slice(e.selection.start.line,e.selection.end.line+1),n=e.selection.start.line+1,i=e.selection.end.line+1,s=r.map((a,l)=>{let c=e.selection.start.line+l+1;return`/* ${c>n&&c<i?"Selected ":""}Line ${c} */${a}`}).join(`
`);return["<currentChange>","Current selection with the selected lines labeled as such:","",`From the file: ${e.document.uri}`,`\`\`\`${e.document.languageId}/${e.document.uri}: FROM_LINE: ${n} - TO_LINE: ${i}`,s,"```","","</currentChange>"].join(`
`)}o(oFt,"buildUserMessage");function sFt(e,t){let r=[],n=e.text.split(`
`),i=/(\d+)\.\s*Line\s*(\d+)\s*in\s*([^,]+),\s*(\w+),\s*(\w+)\s*severity:\s*((?:[^`.\n]|`[^`]*`|\.(?=\s*[A-Z]))+)(?:\.|$)/gm,s;for(;(s=i.exec(t))!==null;){let[a,l,c,u,f,m,h]=s;if(!["bug","performance","consistency","documentation","naming","readability","style","other"].includes(f.toLowerCase()))continue;let p=parseInt(c)-1;if(p<0||p>=n.length)continue;let g=n[p],x=Math.max(g.search(/\S/),0),v=g.trimEnd().length,E={uri:e.uri,range:{start:{line:p,character:x},end:{line:p,character:v}},message:h.trim(),kind:f.toLowerCase(),severity:m.toLowerCase()};r.push(E)}return r}o(sFt,"parseReviewComments");async function aFt(e,t,r){if(!r.document.text)return[null,{code:rn.InvalidRequest,message:"Document text is required"}];if(!r.document.uri)return[null,{code:rn.InvalidRequest,message:"Document URI is required"}];if(!r.document.languageId)return[null,{code:rn.InvalidRequest,message:"Document language ID is required"}];let n=r.document.text.split(`
`);if(r.selection.start.line<0||r.selection.end.line>=n.length)return[null,{code:rn.InvalidRequest,message:"Invalid selection range"}];if(r.selection.start.line>r.selection.end.line)return[null,{code:rn.InvalidRequest,message:"Selection start line must be before end line"}];let i=e.get(ka),s=await e.get(ui).getBestChatModelConfig([mi.Gpt4]),a=[{role:"system",content:iFt()},{role:"user",content:oFt(r)}],l=await e.get(Cr).updateExPValuesAndAssignments(),c=await i.fetchResponse({modelConfiguration:s,messages:a,uiKind:"conversationPanel",intentParams:{intent:!0},llmInteraction:Eu.user("code-review",Ir())},t,l);if(c.type!=="success")return[null,{code:rn.InternalError,message:"Failed to generate code review"}];let u=sFt(r.document,c.value);return u.sort((f,m)=>f.range.start.line-m.range.start.line),[{comments:u},null]}o(aFt,"handleCopilotCodeReviewChecked");var pqe=fo(at(nFt,aFt));d();d();var OC=class{constructor(t,r,n,i,s){this.ctx=t;this.editConversation=r;this.currentTurn=n;this.partialResultToken=i;this.userSelectedModel=s;this.workingSetUriToPathMap=new Map;for(let a of n.workingSet)this.workingSetUriToPathMap.set(a.uri,wA.uriToPath(a.uri))}static{o(this,"EditTurnContext")}get editTurnId(){return this.currentTurn.id}get editConversationId(){return this.editConversation.id}mapToUriInWorkingSet(t){for(let[r,n]of this.workingSetUriToPathMap)if(n===t)return r}toLlmInteraction(){return Eu.user("conversation-edit-panel",this.editTurnId)}};d();async function Yj(e,t,r,n){let s=e.get(Ja).create("panel","en"),a=new uC({message:"",type:"user"},[]),l="file:///path/to/HelloWorld.java",c=new OC(e,s,a,n,mi.Gpt4o),u=e.get(uc);await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"edit-plan-generated",editDescription:`### [HelloWorld.java](${l})

Complete the \`main\` method to print "Hello, World!" to the console.`,uri:l}),await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"updated-code-generated",uri:l,partialText:`public class HelloWorld {
    public static void main(String[] args) {
        System.out.println("Hello, World!");
    }
}`,languageId:"java",markdownCodeFence:"```"});let f="file:///path/to/HelloWorld.py";await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"edit-plan-generated",editDescription:`### [HelloWorld.py](${f})

Complete the \`main\` method to print "Hello, World!" to the console.`,uri:f}),await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"updated-code-generating",uri:f,partialText:`def main():
`,languageId:"python",markdownCodeFence:"```"}),await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"updated-code-generating",uri:f,partialText:`    println("Hello, World!")
`,languageId:"python",markdownCodeFence:"```"}),await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"updated-code-generated",uri:f,partialText:"",languageId:"python",markdownCodeFence:"```"})}o(Yj,"streamMockedResult");d();var lFt=I.Object({enableMock:I.Boolean()}),Hg=class{constructor(){this.enableMock=!1}static{o(this,"CopilotEditsMockManager")}isMockEnabled(){return this.enableMock}setMockEnabled(t){this.enableMock=t}};function cFt(e,t,r){return e.get(Hg).setMockEnabled(r.enableMock),["OK",null]}o(cFt,"handleTestingSetCopilotEditsResponseChecked");var gqe=at(lFt,cFt);var uFt=I.Object({request:I.String(),response:I.Optional(I.String())}),fFt=I.Union([I.Literal("panel")]),dFt=I.Object({partialResultToken:I.Union([I.String(),I.Number()]),turns:I.Array(uFt,{minItems:1}),workingSet:I.Optional(I.Array(pR)),source:I.Optional(fFt),workspaceFolder:I.Optional(I.String()),userLanguage:I.Optional(I.String()),model:I.Optional(I.String())});function mFt(e,t){let r=e.create(t.source,t.userLanguage);for(let n of t.turns){let i=new uC({message:n.request,type:"user"},t.workingSet);n.response&&(i.response={message:n.response,type:"model"}),t.workspaceFolder&&(i.workspaceFolder=t.workspaceFolder),e.addTurn(r.id,i)}return r}o(mFt,"buildEditConversation");async function hFt(e,t,r){if(e.get(Hg).isMockEnabled())return await Yj(e,Ir(),Ir(),r.partialResultToken),[[],null];let n=mFt(e.get(Ja),r),i=n.getLastTurn(),s=new OC(e,n,i,r.partialResultToken,r.model),a=e.get(_0).add(r.partialResultToken,t);return[await e.get(_A).createOrContinueEditConversation(s,a),null]}o(hFt,"handleEditConversationCreateChecked");var Aqe=fo(at(dFt,hFt));d();var pFt=I.Object({editConversationId:I.String()});function gFt(e,t,r){return e.get(Ja).destroy(r.editConversationId),["OK",null]}o(gFt,"handleEditConversationDestroyChecked");var yqe=fo(at(pFt,gFt));d();var AFt=I.Object({partialResultToken:I.Union([I.String(),I.Number()]),editConversationId:I.String(),message:I.String(),workingSet:I.Optional(I.Array(pR)),workspaceFolder:I.Optional(I.String()),userLanguage:I.Optional(I.String()),model:I.Optional(I.String())});function yFt(e,t,r){let n=e.get(t),i=new uC({message:r.message,type:"user"},r.workingSet);return r.workspaceFolder&&(i.workspaceFolder=r.workspaceFolder),e.addTurn(n.id,i),n}o(yFt,"buildEditConversation");async function CFt(e,t,r){if(e.get(Hg).isMockEnabled())return await Yj(e,r.editConversationId,Ir(),r.partialResultToken),[[],null];let n=e.get(Ja),i=yFt(n,r.editConversationId,r),s=i.getLastTurn(),a=new OC(e,i,s,r.partialResultToken,r.model),l=e.get(_0).add(r.partialResultToken,t);return[await e.get(_A).createOrContinueEditConversation(a,l),null]}o(CFt,"handleEditConversationTurnChecked");var Cqe=fo(at(AFt,CFt));d();var xFt=I.Object({editConversationId:I.String(),editTurnId:I.String(),source:I.Optional(em)});async function vFt(e,t,r){e.get(Ja).deleteTurn(r.editConversationId,r.editTurnId);let i=await p_(e,r.editTurnId,r.editConversationId,{languageId:""});return lf(e,void 0,{messageId:r.editTurnId,uiKind:"editsPanel",conversationId:r.editConversationId},{},`${X0("editsPanel")}.copilotEditsMessageDelete`,i),["OK",null]}o(vFt,"handleEditConversationTurnDeleteChecked");var xqe=fo(at(xFt,vFt));d();var bFt=I.Object({});function EFt(e,t,r){return[e.get(Tg).getAllTools(),null]}o(EFt,"handleGetMCPToolsChecked");var vqe=at(bFt,EFt);d();var IFt=I.Object({});async function TFt(e,t,r){let n=await e.get(Xr).getToken();return[wFt(await e.get(Yu).getMetadata(),n),null]}o(TFt,"handleCopilotModelsChecked");function wFt(e,t){let r=t.getTokenValue("editor_preview_features")=="0",n=md.filterModelsWithEditorPreviewFeatures(e,r),i=[];return n.forEach(s=>{if(s.model_picker_enabled===!0){let a=[];s.capabilities.type==="chat"?(a.push("chat-panel"),a.push("edit-panel"),a.push("inline"),!Z5e.has(s.capabilities.family)&&s.capabilities.supports?.tool_calls&&(s.capabilities.limits?.max_prompt_tokens??!1)&&a.push("agent-panel"),i.push({modelFamily:s.capabilities.family,modelName:s.name,modelPolicy:s.policy,scopes:a,id:s.id,preview:s.preview??!1,isChatDefault:s.is_chat_default??!1,isChatFallback:s.is_chat_fallback??!1,capabilities:{supports:{vision:s.capabilities.supports?.vision??!1}},billing:s.billing?{isPremium:s.billing?.is_premium??!0,multiplier:s.billing?.multiplier??0}:void 0})):s.capabilities.type==="completion"?i.push({modelFamily:s.capabilities.family,modelName:s.name,modelPolicy:s.policy,scopes:["completion"],id:s.id,preview:s.preview??!1,isChatDefault:s.is_chat_default??!1,isChatFallback:s.is_chat_fallback??!1,capabilities:{supports:{vision:s.capabilities.supports?.vision??!1}},billing:s.billing?{isPremium:s.billing?.is_premium??!0,multiplier:s.billing?.multiplier??0}:void 0}):i.push({modelFamily:s.capabilities.family,modelName:s.name,modelPolicy:s.policy,scopes:a,id:s.id,preview:s.preview??!1,isChatDefault:s.is_chat_default??!1,isChatFallback:s.is_chat_fallback??!1,capabilities:{supports:{vision:s.capabilities.supports?.vision??!1}},billing:s.billing?{isPremium:s.billing?.is_premium??!0,multiplier:s.billing?.multiplier??0}:void 0})}}),i}o(wFt,"filterModels");var bqe=fo(at(IFt,TFt));d();var _Ft=I.Object({model:I.Optional(I.String()),status:I.Optional(I.String())});async function SFt(e,t,r){return r.model&&r.status==="enabled"?await e.get(Yu).acceptModelPolicy(r.model)?["OK",null]:[null,{code:rn.InternalError,message:"Failed to accept model policy"}]:[null,{code:rn.InvalidRequest,message:"Invalid model or status"}]}o(SFt,"handleCopilotModelsPolicyChecked");var Eqe=fo(at(_Ft,SFt));d();d();var JA=10;function Iqe(e,t){let r=t,n=e.lineAt(t.line);return n.isEmptyOrWhitespace||(r=n.range.end),r}o(Iqe,"panelPositionForDocument");d();var Iue=new Vt("solutions");async function*kFt(e){for await(let t of e){let r={...t};r.completionText=r.completionText.trimEnd(),yield r}}o(kFt,"trimChoices");var N9=class{constructor(t,r,n,i){this.textDocument=t;this.startPosition=r;this.cancellationToken=n;this.solutionCountTarget=i;this.targetPosition=Iqe(this.textDocument,this.startPosition)}static{o(this,"SolutionManager")}get savedTelemetryData(){return this._savedTelemetryData}set savedTelemetryData(t){this._savedTelemetryData=t}};function Kj(e){return e.replace(/\s+/g,"")}o(Kj,"normalizeCompletionText");async function RFt(e,t){let r=t.targetPosition,n=t.textDocument,i=Zy(e,n.uri),s=Ir(),a=cn.createAndMarkAsIssued({headerRequestId:s,languageId:n.detectedLanguageId,source:"open copilot"},{});t.savedTelemetryData=await e.get(Cr).updateExPValuesAndAssignments({uri:n.uri,languageId:n.detectedLanguageId},a);let l=await g8(e,n,r,t.savedTelemetryData);if(l.type==="copilotContentExclusion")return{status:"FinishedNormally"};if(l.type==="contextTooShort")return{status:"FinishedWithError",error:"Context too short"};if(l.type==="promptCancelled")return{status:"FinishedWithError",error:"Prompt cancelled"};if(l.type==="promptTimeout")return{status:"FinishedWithError",error:"Prompt timeout"};if(l.type==="promptError")return{status:"FinishedWithError",error:"Prompt error"};let c=l.prompt,u=l.trailingWs;u.length>0&&(t.startPosition=No.position(t.startPosition.line,t.startPosition.character-u.length));let f=t.cancellationToken;t.savedTelemetryData=t.savedTelemetryData.extendedBy({},{...lI(c),solutionCount:t.solutionCountTarget,promptEndPos:n.offsetAt(r)}),Iue.debug(e,"prompt:",c),jt(e,"solution.requested",t.savedTelemetryData);let m=e.get(Vm).forLanguage(e,n.detectedLanguageId,t.savedTelemetryData),h=Ju(n.detectedLanguageId),p=b_(n,r),g={stream:!0,extra:{language:n.detectedLanguageId,next_indent:p.next??0,prompt_tokens:c.prefixTokens??0,suffix_tokens:c.suffixTokens??0}};m==="parsing"&&!h&&(g.stop=[`

`,`\r
\r
`]);let x=Jy(e,t.savedTelemetryData),v={prompt:c,languageId:n.detectedLanguageId,repoInfo:i,ourRequestId:s,engineModelId:x.modelId,count:t.solutionCountTarget,uiKind:"synthesize",postOptions:g,requestLogProbs:!0,headers:x.headers},E;switch(m){case"server":E=o(()=>{},"finishedCb"),g.extra.force_indent=p.prev??-1,g.extra.trim_by_indentation=!0;break;case"parsingandserver":E=h?v_(e,n,t.startPosition,!1):()=>{},g.extra.force_indent=p.prev??-1,g.extra.trim_by_indentation=!0;break;case"parsing":default:E=h?v_(e,n,t.startPosition,!1):()=>{};break}let b=t.savedTelemetryData,_=await e.get(ru).fetchAndStreamCompletions(e,v,b.extendedBy(),E,f);if(_.type==="failed"||_.type==="canceled")return{status:"FinishedWithError",error:`${_.type}: ${_.reason}`};let R=_.choices;R=kFt(R),R=h_(R,G=>N_(e,n,r,G,!1,Iue));let P=h_(R,async G=>{let se=G.completionText;Iue.info(e,`Open Copilot completion: [${G.completionText}]`);let Ae=await dEe(e,n,r,G.completionText)??No.position(r.line,0),[re]=p8(n.getText(No.range(Ae,r)));se=re+se;let W=G.completionText;u.length>0&&W.startsWith(u)&&(W=W.substring(u.length));let q=G.meanLogProb,oe=q!==void 0?Math.exp(q):0,X=b.extendedBy({choiceIndex:G.choiceIndex.toString()});return{completionText:W,insertText:se,range:No.range(Ae,r),meanProb:oe,meanLogProb:q||0,requestId:G.requestId,choiceIndex:G.choiceIndex,telemetryData:X,copilotAnnotations:G.copilotAnnotations}});return wqe(f,P[Symbol.asyncIterator]())}o(RFt,"launchSolutions");async function Tqe(e,t){let r=await e;switch(r.status){case"Solution":await t.onSolution(r.solution),await Tqe(r.next,t);break;case"FinishedNormally":await t.onFinishedNormally();break;case"FinishedWithError":await t.onFinishedWithError(r.error);break}}o(Tqe,"reportSolutions");async function Jj(e,t,r){return e.get(Yi).withProgress(async()=>{let i=RFt(e,t);return await Tqe(i,r)})}o(Jj,"runSolutions");async function wqe(e,t){if(e.isCancellationRequested)return{status:"FinishedWithError",error:"Cancelled"};let r=await t.next();return r.done===!0?{status:"FinishedNormally"}:{status:"Solution",solution:r.value,next:wqe(e,t)}}o(wqe,"generateSolutionsStream");var Sqe=et(Iy()),vR=et(Tl());d();d();function Zj(e,t){let r=e.split(`
`),n=t,i=t,s=r[t.line],a=s.indexOf("%");a!==-1&&(s=s.substring(0,a)+s.substring(a+1),n={line:t.line,character:a});let l=s.indexOf("^");if(l!==-1){let c=s.indexOf("^",l+1);if(c===-1)throw new Error("Challenge document must contain zero or two ^ characters.");s=s.substring(0,l)+s.substring(l+1,c)+s.substring(c+1),n={line:t.line,character:t.character},i={line:t.line,character:t.character+c-l-1}}return{cursorLine:s,lines:r,start:n,end:i}}o(Zj,"parseChallengeDoc");var BFt=I.Object({text:I.String(),score:I.Number()}),DFt=I.Object({documents:I.Array(BFt),options:I.Optional(I.Object({}))});async function Xj(e,t,r){let n=Ir();for(let i=0;i<t.length&&i<10;i++){let{text:s,score:a}=t[i],{cursorLine:l,lines:c,start:u}=Zj(s,e),f=[l.slice(Math.min(u.character,e.character))].concat(c.slice(e.line+1)).join(`
`);r.offset=c.slice(0,e.line).reduce((m,h)=>m+h.length+1,0)+u.character,await r.onSolution({requestId:{headerRequestId:n,completionId:Ir(),created:0,serverExperiments:"",deploymentId:""},completionText:f,insertText:f,range:{start:e,end:e},meanProb:a,meanLogProb:-1,choiceIndex:i,telemetryData:Fp.createEmptyConfigForTesting()})}await r.onFinishedNormally()}o(Xj,"runTestSolutions");var Mh=class{constructor(t){this.documents=t}static{o(this,"ExternalTestingPanelCompletionDocuments")}};function PFt(e,t,r){return e.forceSet(Mh,new Mh(r.documents)),["OK",null]}o(PFt,"handleTestingSetPanelCompletionDocumentsChecked");var _qe=at(DFt,PFt);var kqe=RF.type;function FFt(e,t,r,n,i){let s=Kj(n.completionText),a=(0,Sqe.SHA256)(s).toString();return e.get(rs).set(a,{displayText:n.completionText,insertText:n.insertText,offset:r,uuid:a,range:n.range,uri:t.textDocument.uri,telemetry:n.telemetryData.extendedBy({},{rank:i-1}),index:n.choiceIndex,position:t.position,resultType:0,triggerCategory:"solution",copilotAnnotations:n.copilotAnnotations}),{range:n.range,insertText:n.insertText,command:{command:Gce,title:`Accept completion ${i}`,arguments:[a]}}}o(FFt,"makeCompletion");function wue(e,t){return`${e}/${t}`}o(wue,"progressMessage");var Tue=class{constructor(t,r,n){this.ctx=t;this.params=r;this.onCompletion=n;this.offset=0;this.count=0;this.items=new Map}static{o(this,"SolutionHandler")}get service(){return this.ctx.get(jr)}async onSolution(t){this.count+=1;let r=FFt(this.ctx,this.params,this.offset,t,this.items.size+1);this.items.has(r.command.arguments[0])||(this.items.set(r.command.arguments[0],r),await this.onCompletion(r)),this.params.workDoneToken!==void 0&&await this.service.connection.sendProgress(vR.WorkDoneProgress.type,this.params.workDoneToken,{kind:"report",message:wue(this.count,JA),percentage:Math.round(100*this.count/JA)})}onFinishedNormally(){return NFt(this.params.workDoneToken,this.service,this.count)}async onFinishedWithError(t){if(this.error=t,this.params.workDoneToken!==void 0)return this.service.connection.sendProgress(vR.WorkDoneProgress.type,this.params.workDoneToken,{kind:"end",message:`Error: ${t}`})}};async function NFt(e,t,r=0){e!==void 0&&await t.connection.sendProgress(vR.WorkDoneProgress.type,e,{kind:"end",message:wue(r,JA)})}o(NFt,"reportDone");var xR;async function LFt(e,t,r){let n=await Qh(e,r.textDocument,t),i=r.position;r.workDoneToken!==void 0&&await e.get(jr).connection.sendProgress(vR.WorkDoneProgress.type,r.workDoneToken,{kind:"begin",title:"GitHub Copilot Completions Panel",cancellable:!0,message:wue(0,JA),percentage:0});let s=[],a=o(f=>(s.push(f),Promise.resolve()),"onCompletion"),l=r.partialResultToken;l!==void 0&&(a=o(async f=>{await e.get(jr).connection.sendProgress(RF.partialResult,l,{items:[f]})},"onCompletion"));let c=new Tue(e,r,a),u=e.get(Mh);if(u.documents){let f=u.documents;await Xj(i,f,c)}else{c.offset=n.offsetAt(i);let f=new N9(n,i,t,JA);await Jj(e,f,c)}return c.error!==void 0?[null,{code:rn.InternalError,message:c.error}]:[{items:s},null]}o(LFt,"handleChecked");async function QFt(e,t,r){xR&&(xR.cancel(),xR.dispose()),xR=new Vn.CancellationTokenSource;let n=xR.token,i=new Iu([t,n]);try{return await LFt(e,i,r)}catch(s){if(n.isCancellationRequested&&!t.isCancellationRequested)return[null,{code:rn.ServerCancelled,message:"Request was superseded by a new request"}];throw s}}o(QFt,"handleCheckedWithAbort");var Rqe=at(Kye,QFt);d();d();d();function OFt(e){let t=e.get(On).getLoginReachabilityUrl(),r=e.get(On).getAPIUrl(),n=e.get(On).getLastKnownEndpointUrl("proxy","_ping"),i=e.get(On).getLastKnownEndpointUrl("api","_ping"),s=e.get(On).getLastKnownEndpointUrl("telemetry","_ping");function a(l){return new URL(l).host}return o(a,"label"),[{label:a(t),url:t},{label:a(r),url:r},{label:a(n),url:n},{label:a(i),url:i},{label:a(s),url:s}]}o(OFt,"urlsToCheck");async function Bqe(e){let t=OFt(e).map(async({label:r,url:n})=>{let{message:i,status:s}=await UFt(e,n);return{label:r,url:n,message:i,status:s}});return await Promise.all(t)}o(Bqe,"checkReachability");async function UFt(e,t){try{let r=await e.get(Or).fetch(t,{}),n=r.status>=200&&r.status<400?"reachable":"unreachable";return{message:`HTTP ${r.status}`+(r.statusText?` - ${r.statusText}`:""),status:n}}catch(r){return{message:String(r),status:"unreachable"}}}o(UFt,"determineReachability");var rm=et(require("os")),L9=et(require("tls"));async function Dqe(e){return{sections:[qFt(e),WFt(),await HFt(e),GFt(),jFt(e),await VFt(e)]}}o(Dqe,"collectDiagnostics");function Pqe(e){return e.sections.map($Ft).join(rm.EOL+rm.EOL)}o(Pqe,"formatDiagnosticsAsMarkdown");function qFt(e){return{name:"Copilot",items:{Version:h4(e),Build:ud(e),Editor:Ic(e)["Editor-Version"]}}}o(qFt,"collectCopilotSection");function WFt(){return{name:"Environment",items:{http_proxy:ZA("http_proxy"),https_proxy:ZA("https_proxy"),no_proxy:ZA("no_proxy"),SSL_CERT_FILE:ZA("SSL_CERT_FILE"),SSL_CERT_DIR:ZA("SSL_CERT_DIR"),OPENSSL_CONF:ZA("OPENSSL_CONF")}}}o(WFt,"collectEnvironmentSection");function GFt(){return{name:"Node setup",items:{"Number of root certificates":L9.rootCertificates.length,"Operating system":rm.type(),"Operating system version":rm.release(),"Operating system architecture":rm.arch(),NODE_OPTIONS:ZA("NODE_OPTIONS"),NODE_EXTRA_CA_CERTS:ZA("NODE_EXTRA_CA_CERTS"),NODE_TLS_REJECT_UNAUTHORIZED:ZA("NODE_TLS_REJECT_UNAUTHORIZED"),"tls default min version":L9.DEFAULT_MIN_VERSION,"tls default max version":L9.DEFAULT_MAX_VERSION}}}o(GFt,"collectNodeSection");async function HFt(e){let t={};try{let r=await e.get(Xr).getToken();t["Send Restricted Telemetry"]=r.getTokenValue("rt")==="1"?"enabled":"disabled",t.Chat=r.envelope?.chat_enabled?"enabled":void 0,t["Content exclusion"]=r.envelope?.copilotignore_enabled?"enabled":"unavailable"}catch{}return Object.keys(t).forEach(r=>t[r]===void 0&&delete t[r]),{name:"Feature Flags",items:t}}o(HFt,"collectFeatureFlagsSection");function jFt(e){let t=e.get(Or);return{name:"Network Configuration",items:{"Proxy host":t.proxySettings?.host,"Proxy port":t.proxySettings?.port,"Kerberos SPN":t.proxySettings?.kerberosServicePrincipal,"Reject unauthorized":t.rejectUnauthorized?"enabled":"disabled",Fetcher:t.name}}}o(jFt,"collectNetworkConfigSection");async function VFt(e){return{name:"Reachability",items:Object.fromEntries((await Bqe(e)).map(({label:r,status:n,message:i})=>[r,i]))}}o(VFt,"collectReachabilitySection");function ZA(e){let t=Object.keys(process.env).find(r=>r.toLowerCase()===e.toLowerCase());return t?process.env[t]:void 0}o(ZA,"findEnvironmentVariable");function $Ft(e){return`## ${e.name}`+rm.EOL+rm.EOL+Object.keys(e.items).filter(t=>t!=="name").map(t=>`- ${t}: ${e.items[t]??"n/a"}`).join(rm.EOL)}o($Ft,"formatSectionAsMarkdown");var zFt=I.Object({});async function YFt(e){return[{report:Pqe(await Dqe(e))},null]}o(YFt,"handleDiagnosticsChecked");var Fqe=at(zFt,YFt);d();d();d();d();function Nqe(e,t,r){function n(s,a,l){let c=new RegExp(`^(${a})+`,"g");return s.split(`
`).map(u=>{let f=u.replace(c,""),m=u.length-f.length;return l(m)+f}).join(`
`)}o(n,"replace");let i;if(e.tabSize===void 0||typeof e.tabSize=="string"?i=4:i=e.tabSize,e.insertSpaces===!1){let s=o(a=>n(a," ",l=>"	".repeat(Math.floor(l/i))+" ".repeat(l%i)),"r");t.displayText=s(t.displayText),t.completionText=s(t.completionText)}else if(e.insertSpaces===!0){let s=o(a=>n(a,"	",l=>" ".repeat(l*i)),"r");if(t.displayText=s(t.displayText),t.completionText=s(t.completionText),r){let a=o(l=>{if(l==="")return l;let c=l.split(`
`)[0],u=c.length-c.trimStart().length,f=u%i;if(f!==0&&u>0){let m=" ".repeat(f);return n(l,m,h=>" ".repeat((Math.floor(h/i)+1)*i))}else return l},"re");t.displayText=a(t.displayText),t.completionText=a(t.completionText)}}return t}o(Nqe,"normalizeIndentCharacter");function Lqe(e,t,r,n,i,s,a){let l=n.lineAt(i),c=t.map(u=>{let f=No.range(No.position(i.line,0),No.position(i.line,i.character+u.suffixCoverage)),m="";if(s&&(u.completion=Nqe(s,u.completion,l.isEmptyOrWhitespace)),l.isEmptyOrWhitespace&&(u.completion.displayNeedsWsOffset||u.completion.completionText.startsWith(l.text)))m=u.completion.completionText;else{let p=No.range(f.start,i);m=n.getText(p)+u.completion.displayText}return{uuid:Ir(),insertText:m,range:f,uri:n.uri,index:u.completion.completionIndex,telemetry:u.telemetry,displayText:u.completion.displayText,position:i,offset:n.offsetAt(i),resultType:r,copilotAnnotations:u.copilotAnnotations}});if(r===2&&a!==void 0){let u=c.find(f=>f.index===a);if(u){let f=c.filter(m=>m.index!==a);c=[u,...f]}}return c}o(Lqe,"completionsFromGhostTextResults");async function _ue(e,t,r,n,i={}){i={...i,positionBeforeApplyingEdits:r};let s=0;if(i.selectedCompletionInfo?.text){let h={range:i.selectedCompletionInfo.range,newText:i.selectedCompletionInfo.text};({textDocument:t,position:r}=wQ(t,h.range.end,[h])),s=r.character-h.range.end.character}let a=await gre(e,t,r,n,i);if(a.type!=="success")return a;let[l,c]=a.value;if(n?.isCancellationRequested)return{type:"canceled",reason:"after getGhostText",telemetryData:{telemetryBlob:a.telemetryBlob}};let u=$8e(e,t,r,c),f=Lqe(e,l,c,t,r,i.formattingOptions,u);if(f.length===0)return{type:"empty",reason:"no completions in final result",telemetryData:a.telemetryData};let m=f.map(h=>{let{start:p,end:g}=h.range,x=Vn.Range.create(p,Vn.Position.create(g.line,g.character-s));return{...h,range:x}});return{...a,value:m}}o(_ue,"getInlineCompletionsResult");async function eV(e,t,r,n,i={}){KFt(e,t,r);let s=await _ue(e,t,r,n,i);return sEe(e,s)}o(eV,"getInlineCompletions");function KFt(e,t,r){let n=t.getText({start:{line:Math.max(r.line-1,0),character:0},end:r}),i=t.getText({start:r,end:{line:Math.min(r.line+2,t.lineCount-1),character:t.lineCount-1>r.line?0:r.character}});zQ.debug(e,`Requesting for ${t.uri} at ${r.line}:${r.character}`,`between ${JSON.stringify(n)} and ${JSON.stringify(i)}.`)}o(KFt,"logCompletionLocation");var Wqe=et(Tl());d();var Qqe=require("crypto");var Q9=class{static{o(this,"LspClientContextProvider")}constructor(t,r,n){this.id=r,this.selector=n,this.resolver=new kue(t,this.id)}},kue=class{constructor(t,r){this.ctx=t;this.id=r;this.contextItems=[];this.update=!1}static{o(this,"LspClientContextResolver")}async resolve(t,r){let n=[];if(this.contextItems.length>0)n=this.contextItems;else if(this.update){let i=this.ctx.get(jr),s=(0,Qqe.randomUUID)(),a=i.connection.onProgress(_F.type,s,l=>{n.push(...l)});r.onCancellationRequested(()=>{a?.dispose()});try{let l=await i.connection.sendRequest(_F.type,{providerId:this.id,data:this.data,textDocument:{uri:t.documentContext.uri,languageId:t.documentContext.languageId,version:t.documentContext.version},position:t.documentContext.position,partialResultToken:s},r);n.push(...l)}finally{a?.dispose()}}return this.reset(),Promise.resolve(n)}setContextItems(t){this.contextItems=t}clearContextItems(){this.contextItems=[]}setUpdate(t){this.update=t}clearData(){this.data=void 0}reset(){this.clearContextItems(),this.clearData(),this.setUpdate(!1)}};function M9(e,t,r){try{let n=e.get(ll),i=new Map;n.providers.forEach(s=>{i.set(s.id,s)}),t.providers.forEach(s=>{let a=i.get(s.id);a&&a instanceof Q9&&a.resolver.setContextItems(s.contextItems)}),t.updating&&t.updating.length>0&&t.updating.forEach(s=>{let a=i.get(s);a&&a instanceof Q9&&(a.resolver.setUpdate(!0),a.resolver.data=r)})}catch(n){Jn.error(e,"Failed to set context items on context providers",n)}}o(M9,"setContextItems");var Sue={nocase:!0,matchBase:!0,nonegate:!0,dot:!0};async function Mqe(e,t,r){return t.map(i=>{try{if(typeof i=="string")return Ea(r.uri,i,Sue);if(typeof i=="object"){let s=!0;return"language"in i&&(s&&=r.languageId==(i.language||"")),"scheme"in i&&(s&&=Ea(r.uri,i.scheme||"",Sue)),"pattern"in i&&(s&&=Ea(r.uri,i.pattern||"",Sue)),s}}catch{return!1}return!1}).some(Boolean)?10:0}o(Mqe,"match");d();var JFt=I.Object({documents:I.Array(I.String()),basename:I.Optional(I.String()),options:I.Optional(I.Object({}))}),UC=class{constructor(t,r){this.documents=t;this.basename=r}static{o(this,"ExternalTestingCompletionDocuments")}};function ZFt(e,t,r){return e.forceSet(UC,new UC(r.documents,r.basename||"")),["OK",null]}o(ZFt,"handleTestingSetCompletionDocumentsChecked");var Oqe=new Vt("setCompletionDocuments"),qqe=at(JFt,ZFt);function tV(e,t,r,n){let i=e.get(UC);if(i.documents){let s=n?3:1;if(r&&i.basename&&i.basename.trim().length>0){Oqe.debug(e,`Returning filtered completions by basename ${i.basename}`);let a=XFt(i,r);return a&&a.length>0?Uqe(a,s,t):void 0}else return Oqe.debug(e,"Returning completions for all pre-set documents"),Uqe(i.documents,s,t)}}o(tV,"getTestCompletions");function Uqe(e,t,r){return e.slice(0,t).map(n=>{let{cursorLine:i,lines:s,start:a,end:l}=Zj(n,r);return{insertText:[i.slice(Math.min(a.character,r.character))].concat(s.slice(r.line+1)).join(`
`),range:{start:a,end:l}}})}o(Uqe,"sliceAndMapCompletions");function XFt(e,t){return e.basename===Di(t)?e.documents||[]:[]}o(XFt,"getFilteredDocs");var Gqe=I.Object({doc:I.Object({position:xl,insertSpaces:I.Optional(I.Boolean()),tabSize:I.Optional(I.Number()),uri:cw,version:I.Number()}),contextItems:I.Optional(cte)}),bR;async function Hqe(e,t,r,n){bR&&(bR.cancel(),bR.dispose()),bR=new Vn.CancellationTokenSource;let i=new Iu([t,bR.token]);r.contextItems&&M9(e,r.contextItems);let s=tV(e,r.doc.position,r.doc.uri,n);if(s)return[{completions:s.map(h=>({uuid:Ir(),text:h.insertText,displayText:h.insertText,position:r.doc.position,range:h.range,docVersion:r.doc.version}))},null];let a;try{a=await Qh(e,r.doc,i)}catch(m){if(!(m instanceof Wqe.ResponseError))throw m;switch(m.code){case rn.CopilotNotAvailable:case rn.ContentModified:return[{completions:[]},null]}throw m}let l=r.doc.position,c=await eV(e,a,l,i,{isCycling:n,formattingOptions:r.doc});if(!c)return[{completions:[]},null];let u=e.get(rs);for(let m of c)u.set(m.uuid,{...m,triggerCategory:"ghostText"});return[{completions:c.map(m=>({uuid:m.uuid,text:m.insertText,range:m.range,displayText:m.displayText,position:m.position,docVersion:a.version}))},null]}o(Hqe,"handleGetCompletionsHelper");var jqe=at(Gqe,(e,t,r)=>Hqe(e,t,r,!1)),Vqe=at(Gqe,(e,t,r)=>Hqe(e,t,r,!0));d();var $qe=et(Iy()),O9=et(Tl());var eNt=I.Object({doc:I.Object({position:xl,uri:cw,version:I.Number()}),panelId:I.String()});function tNt(e,t,r,n,i){let s=Kj(i.completionText),a=(0,$qe.SHA256)(s).toString();return e.get(rs).set(a,{displayText:i.insertText,insertText:i.completionText,offset:n,uuid:a,range:r,uri:t.doc.uri,telemetry:i.telemetryData,index:i.choiceIndex,position:r.end,resultType:0,triggerCategory:"solution",copilotAnnotations:i.copilotAnnotations}),{panelId:t.panelId,range:r,completionText:i.completionText,displayText:i.insertText,score:i.meanProb,solutionId:a}}o(tNt,"makeSolution");var Rue=class{constructor(t,r,n){this.ctx=t;this.params=r;this.range=n;this.offset=0}static{o(this,"SolutionHandler")}get service(){return this.ctx.get(jr)}onSolution(t){return this.service.connection.sendNotification(new O9.NotificationType("PanelSolution"),tNt(this.ctx,this.params,this.range,this.offset,t))}onFinishedNormally(){return zqe(this.params.panelId,this.service)}onFinishedWithError(t){return this.service.connection.sendNotification(new O9.NotificationType("PanelSolutionsDone"),{status:"Error",message:t,panelId:this.params.panelId})}};async function zqe(e,t){return t.connection.sendNotification(new O9.NotificationType("PanelSolutionsDone"),{status:"OK",panelId:e})}o(zqe,"reportDone");var ER;async function rNt(e,t,r){ER&&(ER.cancel(),ER.dispose()),ER=new Vn.CancellationTokenSource;let n=new Iu([t,ER.token]),i=r.doc.position,s=No.range(i,i),a=new Rue(e,r,s),l=e.get(Mh);if(l.documents){let c=l.documents;Xj(i,c,a)}else{let c;try{c=await Qh(e,r.doc,n)}catch(f){if(!(f instanceof O9.ResponseError))throw f;switch(f.code){case rn.CopilotNotAvailable:case rn.ContentModified:return nNt(e,r)}throw f}a.offset=c.offsetAt(i);let u=new N9(c,i,n,JA);Jj(e,u,a)}return[{solutionCountTarget:JA},null]}o(rNt,"handleGetPanelCompletionsChecked");async function nNt(e,t){return await zqe(t.panelId,e.get(jr)),[{solutionCountTarget:0},null]}o(nNt,"produceEmptySolutions");var Yqe=at(eNt,rNt);d();var iNt=I.Object({});function oNt(e,t,r){return[{version:e.get(Eo).getDisplayVersion(),buildType:ud(e),runtimeVersion:`node/${process.versions.node}`},null]}o(oNt,"handleGetVersionChecked");var Kqe=at(iNt,oNt);d();var sNt=I.Object({changes:I.Array(I.String()),userCommits:I.Array(I.String()),recentCommits:I.Array(I.String()),workspaceFolder:I.Optional(I.String()),userLanguage:I.Optional(I.String())});async function aNt(e,t){let r=["You are an AI programming assistant, helping a software developer to come up with the best git commit message for their code changes.","You excel in interpreting the purpose behind code changes to craft succinct, clear commit messages that adhere to the repository's guidelines.","","# First, think step-by-step:","1. Analyze the CODE CHANGES thoroughly to understand what's been modified.","2. Identify the purpose of the changes to answer the *why* for the commit messages, also considering the optionally provided RECENT USER COMMITS.","3. Review the provided RECENT REPOSITORY COMMITS to identify established commit message conventions. Focus on the format and style, ignoring commit-specific details like refs, tags, and authors.","4. Generate a thoughtful and succinct commit message for the given CODE CHANGES. It MUST follow the established writing conventions.","5. Remove any meta information like issue references, tags, or author names from the commit message. The developer will add them.","6. Now only show your message, wrapped with a single markdown ```text codeblock! Do not provide any explanations or details"];return t&&r.push(`
Current git branch name: ${t}`),e&&r.push(`
Respond in the following locale: ${e}`),r.join(`
`)}o(aNt,"buildSystemMessage");function lNt(e,t){let r=[];return e.userCommits.length>0&&r.push("# RECENT USER COMMITS (For reference only, do not copy!):",e.userCommits.map(n=>`- ${n}`).join(`
`),""),e.recentCommits.length>0&&r.push("# RECENT REPOSITORY COMMITS (For reference only, do not copy!):",e.recentCommits.map(n=>`- ${n}`).join(`
`),""),r.push("# CODE CHANGES:",e.changes.join(`
`),"","<reminder>","Now generate a commit message that describes the CODE CHANGES.","DO NOT COPY commits from RECENT COMMITS, but use them as reference for the commit style.","ONLY return a single markdown code block, NO OTHER PROSE!","```text","commit message goes here","```","</reminder>"),t&&r.push("<custom-instructions>",t,"</custom-instructions>"),r.join(`
`)}o(lNt,"buildUserMessage");async function cNt(e,t,r){if(r.changes.length===0)return[null,{code:rn.InvalidRequest,message:"No changes provided"}];let n=new ka(e),i=await e.get(ui).getBestChatModelConfig([mi.Gpt4oMini,mi.Gpt4o,mi.Gpt4]),s=[{uri:r.workspaceFolder?r.workspaceFolder:sl(process.cwd())}],a=await _9.getInstructions(e,s,{includeCodeGenerationInstructions:!1,includeCommitMessageGenerationInstructions:!0,customIntroduction:"When generating the commit message, please use the following custom instructions provided by the user."}),l=e.get(Gi),c=l.create({skills:[Mg]}),u=new BC({message:"",type:"user"});await l.addTurn(c.id,u);let f=D9({workDoneToken:Ir()});await e.get(bs).begin(c,u,f);let p=(await new MC(e,c,u,t).skillResolver.resolve(Mg))?.head?.name,g=[{role:"system",content:await aNt(r.userLanguage,p)},{role:"user",content:lNt(r,a)}],x=await e.get(Cr).updateExPValuesAndAssignments(),v=await n.fetchResponse({modelConfiguration:i,messages:g,uiKind:"conversationPanel",intentParams:{intent:!0},llmInteraction:Eu.user("git-commit",Ir())},t,x);if(v.type!=="success")return[null,{code:rn.InternalError,message:"Failed to generate commit message"}];let E=v.value.match(/```text\n([\s\S]*?)\n```/);return[{commitMessage:E?E[1].trim():v.value.trim()},null]}o(cNt,"handleGitCommitGenerateChecked");var Jqe=fo(at(sNt,cNt));d();var Xqe=NJ.type,IR;function Zqe(e){return{title:"Completion Accepted",command:Xk,arguments:[e]}}o(Zqe,"makeCommand");async function uNt(e,t,r){IR&&(IR.cancel(),IR.dispose());let n=r.context.triggerKind===1;IR=new Vn.CancellationTokenSource;let i=IR.token,s=new Iu([t,i]);r.contextItems&&M9(e,r.contextItems,r.data);let a=tV(e,r.position,r.textDocument.uri,n);if(a)return[{items:a.map(p=>({command:Zqe(Ir()),...p}))},null];let l=await Qh(e,r.textDocument,s),c=r.position,u=await eV(e,l,c,s,{isCycling:n,selectedCompletionInfo:r.context.selectedCompletionInfo,formattingOptions:r.formattingOptions,data:r.data});if(!u)return t.isCancellationRequested?[null,{code:rn.RequestCancelled,message:"Request was canceled"}]:i.isCancellationRequested?[null,{code:rn.ServerCancelled,message:"Request was superseded by a new request"}]:[{items:[]},null];let f=e.get(rs);for(let h of u)f.set(h.uuid,{...h,triggerCategory:"ghostText"});return[{items:u.map(h=>({command:Zqe(h.uuid),insertText:h.insertText,range:h.range}))},null]}o(uNt,"handleChecked");var eWe=at(rM,(e,t,r)=>uNt(e,t,r));d();var tWe=MJ.type,TR;async function dNt(e,t,r){TR&&(TR.cancel(),TR.dispose());let n=r.context.triggerKind===1;TR=new Vn.CancellationTokenSource;let i=TR.token,s=new Iu([t,i]);r.contextItems&&M9(e,r.contextItems);let a=await Qh(e,r.textDocument,s),l=await _ue(e,a,r.position,s,{promptOnly:!0,isCycling:n,selectedCompletionInfo:r.context.selectedCompletionInfo,formattingOptions:r.formattingOptions,data:r.data});if(l.type!=="promptOnly")throw new Error(`Unexpected result type ${l.type}`);return[{prompt:l.prompt},null]}o(dNt,"handleChecked");var rWe=at(rM,(e,t,r)=>dNt(e,t,r));d();d();function Bue(e){let t=e.indexOf("-----BEGIN CERTIFICATE-----")+27,r=e.indexOf("-----END CERTIFICATE-----"),n=30,i=e.substring(t,t+n)+"..."+e.substring(r-n,r-1);return U9(i)}o(Bue,"asReadableCert");function U9(e){return e.replace(/\s/g,"")}o(U9,"normalizeNewlines");var hNt=I.Object({});async function pNt(e){return[{certificates:(await e.get(Ka).getAllRootCAs()).map(U9)},null]}o(pNt,"handleListCertificatesChecked");var nWe=at(hNt,pNt);d();async function gNt(e,t,r){let n=e.get(Bh);if(r.textDocument.version===void 0)throw new Error("textDocument.version is undefined");let i=rc(r.textDocument.uri);e.get(Hp).onUserPositionChange(i,new Ao(r.position.line,r.position.character));let s=await n.handleNextEditRequest(i,r.textDocument.version,t);return s?[{edits:s.map(l=>({text:l.edit.text,textDocument:l.edit.textDocument,range:l.edit.range,command:{title:"Accept inline edit",command:Xk,arguments:[l.id]}}))},null]:[{edits:[]},null]}o(gNt,"handleChecked");var iWe=at(zye,gNt);d();var ANt=I.Object({uuid:I.String({minLength:1}),acceptedLength:I.Optional(I.Number({minimum:1}))});function yNt(e,t,r){let n=e.get(rs),i=n.get(r.uuid);if(i){n.delete(r.uuid);let s=CNt(r,i);lx(e,i.triggerCategory,i.insertText,i.offset,i.uri,i.telemetry,s,i.copilotAnnotations)}return["OK",null]}o(yNt,"notifyAcceptedChecked");function CNt(e,t){return e.acceptedLength===void 0?{compType:"full"}:e.acceptedLength<t.insertText.length?{compType:"partial",acceptedLength:e.acceptedLength}:{compType:"full"}}o(CNt,"getSuggestionStatus");var oWe=at(ANt,yNt);d();var xNt=I.Object({uuids:I.Array(I.String())});function vNt(e,t,r){let n=e.get(rs),i=r.uuids.flatMap(s=>n.get(s)??[]);if(i.length>0){let s=i[0];for(let l of r.uuids)n.delete(l);let a=i.map(l=>({completionText:l.displayText,completionTelemetryData:l.telemetry}));dO(e,"ghostText",s.offset,s.uri,a),e.get(f0).resetState()}return["OK",null]}o(vNt,"notifyRejectedChecked");var sWe=at(xNt,vNt);d();var bNt=I.Object({uuid:I.String({minLength:1})});function ENt(e,t,r){let i=e.get(rs).get(r.uuid);return i&&YQ(e,i.triggerCategory,i),["OK",null]}o(ENt,"notifyShownChecked");var aWe=at(bNt,ENt);d();var INt=bEe;function TNt(e,t,r){let n=e.get(ll),i={unregistered:[],registered:[]};return r.providers.forEach(s=>{try{let a=new Q9(e,s.id,s.selector);n.registerContextProvider(a),i.registered.push(s.id)}catch{i.unregistered.push(s.id)}}),[i,null]}o(TNt,"registerContextProviders");var lWe=at(INt,TNt);d();d();var cWe=require("net");function Due(e){return e.HTTPS_PROXY||e.https_proxy||e.HTTP_PROXY||e.http_proxy}o(Due,"getProxyFromEnvironment");function wNt(e){return e.NODE_TLS_REJECT_UNAUTHORIZED!=="0"}o(wNt,"getRejectUnauthorizedFromEnvironment");var uWe=I.Object({proxy:I.Optional(I.String()),proxyStrictSSL:I.Optional(I.Boolean()),proxyAuthorization:I.Optional(I.String()),proxyKerberosServicePrincipal:I.Optional(I.String())});function fWe(e){let r={proxy:Due(e),proxyStrictSSL:wNt(e)},n=e.GH_COPILOT_KERBEROS_SERVICE_PRINCIPAL??e.GITHUB_COPILOT_KERBEROS_SERVICE_PRINCIPAL??e.AGENT_KERBEROS_SERVICE_PRINCIPAL;return n&&(r.proxyKerberosServicePrincipal=n),r}o(fWe,"getHttpSettingsFromEnvironment");function wR(e){(0,cWe.isIPv6)(e)?e="https://["+e+"]":/:\/\//.test(e)||(e=`https://${e}`);let{hostname:t,port:r,username:n,password:i}=new URL(e);return{host:t,port:_Nt(r),proxyAuth:SNt(n,i)}}o(wR,"proxySettingFromUrl");function _Nt(e){if(!e)return 80;let t=Number(e);if(isNaN(t))throw new TypeError("Invalid proxy port");return t}o(_Nt,"parsePort");function SNt(e,t){return!e||!t?"":`${decodeURIComponent(e)}:${decodeURIComponent(t)}`}o(SNt,"getAuth");d();var Fue=I.Object({host:I.String(),port:I.Number(),username:I.Optional(I.String()),password:I.Optional(I.String()),rejectUnauthorized:I.Optional(I.Boolean())}),kNt=I.Object({uri:I.Optional(I.String())}),RNt=I.Object({showEditorCompletions:I.Optional(I.Boolean()),enableAutoCompletions:I.Optional(I.Boolean()),delayCompletions:I.Optional(I.Boolean()),filterCompletions:I.Optional(I.Boolean())}),mWe=I.Object({github:I.Optional(I.Object({copilot:I.Optional(I.Object({}))})),"github-enterprise":I.Optional(kNt),http:I.Optional(uWe),telemetry:I.Optional(I.Object({telemetryLevel:I.Optional(I.String())}))}),Nue=Object.keys(mWe.properties).filter(e=>e!=="github"),BNt=I.Intersect([mWe,RNt]),Lue=I.Object({url:I.Optional(I.String())}),DNt=I.Object({settings:I.Optional(I.Union([I.Object({}),I.Array(I.Unknown(),{maxItems:0})])),networkProxy:I.Optional(Fue),authProvider:I.Optional(Lue)}),dWe=ds.Compile(DNt),Pue=ds.Compile(BNt);async function hWe(e,t){if(!dWe.Check(t))throw new mc(dWe.Errors(t));let r=Array.isArray(t.settings)?{}:t.settings;r&&await Que(e,r),t.networkProxy!==void 0&&rV(e,t.networkProxy),t.authProvider&&e.get(On).updateBaseUrl(e,t.authProvider.url),await _R(e,r)}o(hWe,"notifyChangeConfiguration");async function Que(e,t){for(let i of Pue.Errors(t)){let s=i.path.split("/")?.[1];T0.warn(e,`Invalid ${i.path.slice(1).replace(/\//g,".")} setting:`,i.message),delete t[s]}if(!Pue.Check(t))throw new mc(Pue.Errors(t));let r=e.get(Bf);r.setConfig(St.ShowEditorCompletions,t.showEditorCompletions),r.setConfig(St.DelayCompletions,t.delayCompletions),r.setConfig(St.EnableAutoCompletions,t.enableAutoCompletions),r.setConfig(St.FilterCompletions,t.filterCompletions);let n=t["github-enterprise"];n&&e.get(On).updateBaseUrl(e,n.uri),t.http&&Mue(e,t.http),t.github?.copilot&&await PNt(e,t.github.copilot)}o(Que,"applySettingsToConfiguration");async function PNt(e,t){let r=e.get(Bf);for(let n of Object.values(St)){let i=y3e(t,n);r.setConfig(n,i)}t.mcp?await FNt(e,t.mcp):await NNt(e)}o(PNt,"applyCopilotConfiguration");function Mue(e,t){let r=e.get(Bf),n=e.get(Or);if(t.proxy===void 0&&(t=fWe(r.env)),n.rejectUnauthorized=t?.proxyStrictSSL,!t.proxy){n.proxySettings=void 0;return}try{n.proxySettings=wR(t.proxy),t.proxyAuthorization&&(n.proxySettings.proxyAuth=t.proxyAuthorization),t.proxyKerberosServicePrincipal&&(n.proxySettings.kerberosServicePrincipal=t.proxyKerberosServicePrincipal)}catch(i){if(!(i instanceof TypeError))throw i;T0.warn(e,"Invalid proxy URL",t.proxy,i),n.proxySettings=void 0}}o(Mue,"applyHttpConfiguration");function rV(e,t){if(!t){e.get(Or).proxySettings=void 0,e.get(Or).rejectUnauthorized=void 0;return}let r;t.username&&(t.password?r=t.username+":"+t.password:r=t.username),e.get(Or).proxySettings={host:t.host,port:t.port,proxyAuth:r},e.get(Or).rejectUnauthorized=t.rejectUnauthorized??!0}o(rV,"applyNetworkProxyConfiguration");async function FNt(e,t){try{let r=JSON.parse(t);await e.get(Tg).updateMCPServers(r)}catch(r){T0.error(e,"Failed to apply MCP configuration",r)}}o(FNt,"applyMCPConfiguration");async function NNt(e){await e.get(Tg).updateMCPServers({})}o(NNt,"removeMCPConfiguration");async function _R(e,t){if(!e.get(Ho).getCapabilities().redirectedTelemetry){let r=(t?.telemetry?.telemetryLevel??"all")==="all";await $y(e,"agent",r)}await e.get(Xr).primeToken()}o(_R,"initializePostConfigurationDependencies");var pWe=I.Object({name:I.String(),version:I.String(),readableName:I.Optional(I.String())}),LNt=I.Object({editorInfo:pWe,editorPluginInfo:pWe,editorConfiguration:I.Optional(I.Object({})),networkProxy:I.Optional(Fue),authProvider:I.Optional(Lue),redirectTelemetry:I.Optional(I.Boolean()),options:I.Optional(I.Object({}))});async function QNt(e,t,r){e.get(dn).setEditorAndPluginInfo(r.editorPluginInfo,r.editorInfo),rH(e,["setEditorInfo is deprecated. Use initializationOptions for editorInfo and editorPluginInfo","and workspace/didChangeConfiguration for editorConfiguration."]),r.editorConfiguration&&await Que(e,r.editorConfiguration);let n=e.get(Or),i=e.get(Bf).env,s=Due(i);if(r.editorInfo.name==="VisualStudio"){if(s)n.proxySettings=wR(s);else if(r.networkProxy){rV(e,r.networkProxy);let a=i.GH_COPILOT_KERBEROS_SERVICE_PRINCIPAL??i.GITHUB_COPILOT_KERBEROS_SERVICE_PRINCIPAL??i.AGENT_KERBEROS_SERVICE_PRINCIPAL;n.proxySettings&&a&&(n.proxySettings.kerberosServicePrincipal??=a)}}else r.networkProxy?rV(e,r.networkProxy):s&&(n.proxySettings=wR(s));return r.authProvider&&e.get(On).updateBaseUrl(e,r.authProvider.url),await _R(e,r.editorConfiguration),["OK",null]}o(QNt,"handleSetEditorInfoChecked");var gWe=at(LNt,QNt);d();var MNt=I.Object({options:I.Optional(I.Object({}))});async function ONt(e,t,r){let n=e.get(Ln).pendingSignIn?.status;if(n===void 0)return[null,{code:rn.InvalidRequest,message:"No pending sign in"}];let i;try{return i=await n,[i,null]}catch(s){return[null,{code:rn.DeviceFlowFailed,message:String(s)}]}finally{e.get(Ln).pendingSignIn=void 0}}o(ONt,"handleSignInConfirmChecked");var AWe=at(MNt,ONt);d();var UNt=I.Object({options:I.Optional(I.Object({})),githubAppId:I.Optional(I.String())});async function qNt(e,t,r){try{let n=await e.get(Ln).checkAndUpdateStatus(e,{githubAppId:r.githubAppId});if(n.status==="OK")return[{status:"AlreadySignedIn",user:n.user},null];let i=r.githubAppId??e.get(ea).findAppIdToAuthenticate(),s=await e.get(H4).getToken(e,i),a=s.waitForAuth.then(async l=>(e.get(ea).githubAppId=i,await e.get(Ln).setPersistedSession({...l,githubAppId:i}),await e.get(Ln).checkAndUpdateStatus(e,{freshSignIn:!0})));return e.get(Ln).pendingSignIn={verificationUri:s.verification_uri,status:a},[{status:"PromptUserDeviceFlow",userCode:s.user_code,verificationUri:s.verification_uri,expiresIn:s.expires_in,interval:s.interval,command:{command:hH,title:"Sign in with GitHub",arguments:[]}},null]}catch(n){if(!(n instanceof Ks))throw n;return[null,{code:rn.DeviceFlowFailed,message:n.message}]}}o(qNt,"handleSignInInitiateChecked");var Oue=at(UNt,qNt);d();var WNt=I.Object({githubToken:I.String({minLength:1}),user:I.String({minLength:1}),githubAppId:I.Optional(I.String({minLength:1}))});async function GNt(e,t,r){let n=r.githubToken,i=r.user,s=r.githubAppId;return await e.get(Ln).setPersistedSession({accessToken:n,login:i,githubAppId:s}),[await e.get(Ln).checkAndUpdateStatus(e),null]}o(GNt,"handleSignInWithGithubTokenChecked");var yWe=at(WNt,GNt);d();var HNt=I.Object({options:I.Optional(I.Object({}))});async function jNt(e,t,r){return await e.get(Ln).deleteAuthRecord(e),[await e.get(Ln).checkAndUpdateStatus(e),null]}o(jNt,"handleSignOutChecked");var CWe=at(HNt,jNt);d();var VNt=I.Object({});function $Nt(e,t,r){return Zxe(e),["OK",null]}o($Nt,"handleTelemetryAuthNotifyDismissedChecked");var xWe=at(VNt,$Nt);d();var zNt=I.Object({authSource:I.Union([I.Literal("toast"),I.Literal("goldbar"),I.Literal("menu")])});function YNt(e,t,r){return Jxe(e,r.authSource),["OK",null]}o(YNt,"handleTelemetryAuthNotifyShownChecked");var vWe=at(zNt,YNt);d();var KNt=I.Object({authType:I.Union([I.Literal("editorAuth"),I.Literal("deviceFlow")])});function JNt(e,t,r){return yQ(e,r.authType),["OK",null]}o(JNt,"handleTelemetryGitHubLoginSuccessChecked");var bWe=at(KNt,JNt);d();var ZNt=I.Object({authSource:I.Union([I.Literal("toast"),I.Literal("goldbar"),I.Literal("menu")]),authType:I.Union([I.Literal("editorAuth"),I.Literal("deviceFlow")])});function XNt(e,t,r){return AQ(e,r.authSource,r.authType),["OK",null]}o(XNt,"handleTelemetryNewGitHubLoginChecked");var EWe=at(ZNt,XNt);d();var eLt=I.Object({transaction:I.Optional(I.String()),stacktrace:I.Optional(I.String()),properties:I.Optional(I.Record(I.String(),I.String())),platform:I.Optional(I.String()),exception_detail:I.Optional(I.Array(I.Object({type:I.Optional(I.String()),value:I.Optional(I.String()),stacktrace:I.Optional(I.Array(I.Object({filename:I.Optional(I.String()),lineno:I.Optional(I.Union([I.String(),I.Integer()])),colno:I.Optional(I.Union([I.String(),I.Integer()])),function:I.Optional(I.String()),in_app:I.Optional(I.Boolean())})))})))}),Uue=class extends Error{constructor(r,n){super(r);this.code=n;this.name="AgentEditorError"}static{o(this,"AgentEditorError")}};function tLt(e,t,r){let n=e.get(Eo),i=e.get(dn).getEditorPluginInfo(),s=r.properties||{},a;r.platform&&r.exception_detail&&Pg.has(i.name)&&(a=Object.assign({rollup_id:"auto",context:WJ(e),sensitive_context:{},deployed_to:n.getBuildType(),platform:r.platform,exception_detail:r.exception_detail},Pg.get(i.name)),r.transaction&&(a.transaction=r.transaction),n.getBuildType()!=="dev"&&(a.release=`${a.app}@${i.version}`));let l=new Uue(r.stacktrace??"N/A",i.name);return l.stack=void 0,xa(e,l,void 0,s,a),["OK",null]}o(tLt,"handleTelemetryExceptionChecked");var IWe=at(eLt,tLt);d();d();d();d();d();d();var TWe=et(require("tls"));var nV=class{static{o(this,"RootCertificateConfigurator")}#e;constructor(t){this._certificateReader=t.get(Ka)}async enhanceProxySettings(t){let r=await this.getCertificates();return{...t,ca:r}}async getCertificates(){let t=await this._certificateReader.getAllRootCAs();if(t.length!==0)return t}async createSecureContext(){let t=await this._certificateReader.getAllRootCAs(),n=TWe.createSecureContext({_vscodeAdditionalCaCerts:t}),i=n.context;for(let s of t)i.addCACert(s);return{secureContext:n,certs:t}}async applyToRequestOptions(t){this.#e??=this.createSecureContext();let r=await this.#e;t.secureContext=r.secureContext,t.ca=r.certs,t.cert=r.certs}};d();var z9=et(UGe(),1),kQn={ALPN_HTTP2:z9.default.ALPN_HTTP2,ALPN_HTTP2C:z9.default.ALPN_HTTP2C,ALPN_HTTP1_1:z9.default.ALPN_HTTP1_1,ALPN_HTTP1_0:z9.default.ALPN_HTTP1_0},{fetch:RQn,context:qGe,reset:BQn,noCache:DQn,h1:PQn,keepAlive:FQn,h1NoCache:NQn,keepAliveNoCache:LQn,cacheStats:QQn,clearCache:MQn,offPush:OQn,onPush:UQn,createUrl:qQn,timeoutSignal:WQn,Body:GQn,Headers:WGe,Request:HQn,Response:jQn,AbortController:IV,AbortError:TV,AbortSignal:GGe,FetchBaseError:VQn,FetchError:$Qn,ALPN_HTTP2:zQn,ALPN_HTTP2C:YQn,ALPN_HTTP1_1:KQn,ALPN_HTTP1_0:JQn}=z9.default;var Y9=class extends Or{constructor(r){super();this.ctx=r;this.name="HelixFetcher";this.createSocketFactory=o((r,n)=>async i=>{i.rejectUnauthorized=n,i.timeout=r.connectionTimeoutInMs,await this.certificateConfigurator.applyToRequestOptions(i);let s=await this.certificateConfigurator.enhanceProxySettings(r);return await this.proxySocketFactory.createSocket(i,s)},"createSocketFactory");this.fetchApi=this.createFetchApi(r),this.certificateConfigurator=new nV(r),this.proxySocketFactory=r.get(pg)}static{o(this,"HelixFetcher")}set proxySettings(r){this._proxySettings=r,this.fetchApi=this.createFetchApi(this.ctx)}get proxySettings(){return this._proxySettings}set rejectUnauthorized(r){super.rejectUnauthorized=r,this.fetchApi=this.createFetchApi(this.ctx)}get rejectUnauthorized(){return super.rejectUnauthorized}createFetchApi(r){let n=r.get(Eo);return super.rejectUnauthorized===!1&&(process.env.NODE_TLS_REJECT_UNAUTHORIZED="0"),qGe({userAgent:`GithubCopilot/${n.getVersion()}`,socketFactory:this._proxySettings?this.createSocketFactory(this._proxySettings,super.rejectUnauthorized):void 0,rejectUnauthorized:super.rejectUnauthorized})}async fetch(r,n){let i=n.signal,s=!1;if(n.timeout){let u=this.makeAbortController();setTimeout(()=>{u.abort(),s=!0},n.timeout),n.signal?.addEventListener("abort",()=>u.abort()),n.signal?.aborted&&u.abort(),i=u.signal}let a={...n,body:n.body?n.body:n.json,signal:i};await this.certificateConfigurator.applyToRequestOptions(a);let l=await this.certificateConfigurator.getCertificates();this.fetchApi.setCA(l);let c=await this.fetchApi.fetch(r,a).catch(u=>{throw s?new LT(`Request to <${r}> timed out after ${n.timeout}ms`,u):u});return new Ty(c.status,c.statusText,c.headers,()=>c.text(),()=>c.body)}disconnectAll(){return this.fetchApi.reset()}makeAbortController(){return new IV}};d();d();var NR=require("fs");var K9=class extends Io{static{o(this,"LocalFileSystem")}async readFileString(t){return(await NR.promises.readFile(Il(t))).toString()}async stat(t){let{targetStat:r,lstat:n,stat:i}=await this.statWithLink(Il(t));return{ctime:r.ctimeMs,mtime:r.mtimeMs,size:r.size,type:this.getFileType(r,n,i)}}async readDirectory(t){let r=Il(t),n=await NR.promises.readdir(r,{withFileTypes:!0}),i=[];for(let s of n)i.push([s.name,s.isFile()?1:2]);return i}async statWithLink(t){let r=await NR.promises.lstat(t);if(r.isSymbolicLink())try{let n=await NR.promises.stat(t);return{lstat:r,stat:n,targetStat:n}}catch{}return{lstat:r,targetStat:r}}getFileType(t,r,n){let i=0;return t.isFile()&&(i=1),t.isDirectory()&&(i=2),r.isSymbolicLink()&&n&&(i|=64),i}};d();var wV=class extends Lh{constructor(r=[]){super();this._agents=r}static{o(this,"TestRemoteAgentRegistry")}agents(){return this._agents}};d();var _V=class extends Za{constructor(){super(...arguments);this.prompts=[];this.fetchResults=[];this.diffs=[]}static{o(this,"TestConversationInspector")}shouldInspect(){return!0}inspectPrompt(r){this.shouldInspect()&&this.prompts.push(r)}inspectFetchResult(r){this.shouldInspect()&&this.fetchResults.push(r)}documentDiff(r){this.shouldInspect()&&this.diffs.push(r)}};d();var Cfe=class extends Ka{constructor(r){super();this.certificates=r}static{o(this,"TestCertificateReader")}getAllRootCAs(){return this.certificates}},jGe=o(e=>new Cfe(e),"createTestCertificateReader");function bfe(e,t,r){let n=new xfe;n.set("x-github-request-id","1");for(let[i,s]of Object.entries(r||{}))n.set(i,s);return new Ty(e,"status text",n,()=>Promise.resolve(t??""),()=>null)}o(bfe,"createFakeResponse");function VGe(e,t,r){let n;return typeof t=="string"?n=t:n=JSON.stringify(t),bfe(e,n,Object.assign({"content-type":"application/json"},r))}o(VGe,"createFakeJsonResponse");var LR=class extends Or{constructor(){super(...arguments);this.name="FakeFetcher"}static{o(this,"FakeFetcher")}disconnectAll(){throw new Error("Method not implemented.")}makeAbortController(){return new vfe}};var SV=class extends LR{static{o(this,"NoFetchFetcher")}fetch(t,r){throw new Error("NoFetchFetcher does not support fetching")}};var xfe=class{constructor(){this.headers=new Map}static{o(this,"FakeHeaders")}append(t,r){this.headers.set(t.toLowerCase(),r)}delete(t){this.headers.delete(t.toLowerCase())}get(t){return this.headers.get(t.toLowerCase())??null}has(t){return this.headers.has(t.toLowerCase())}set(t,r){this.headers.set(t.toLowerCase(),r)}entries(){return this.headers.entries()}keys(){return this.headers.keys()}values(){return this.headers.values()}[Symbol.iterator](){return this.headers.entries()}},vfe=class{constructor(){this.signal={aborted:!1,addEventListener:o(()=>{},"addEventListener"),removeEventListener:o(()=>{},"removeEventListener")}}static{o(this,"FakeAbortController")}abort(){this.signal.aborted=!0}};d();function VMt(e){return{modelId:"gpt-3.5-turbo",modelFamily:e,uiName:"Test GPT",maxRequestTokens:6144,maxResponseTokens:2048,baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:"cl100k_base",isExperimental:!1,stream:!0,toolCalls:!0}}o(VMt,"fakeChatModelConfiguration");function $Mt(e){return{modelId:"embedding-test",modelFamily:e,maxBatchSize:1,maxTokens:50,tokenizer:"cl100k_base"}}o($Mt,"fakeEmbeddingModelConfiguration");var kV=class extends ui{static{o(this,"TestModelConfigurationProvider")}getBestChatModelConfig(t){let r=t[0];return Promise.resolve(VMt(r))}getFirstMatchingEmbeddingModelConfiguration(t){return Promise.resolve($Mt(t))}};d();var RV=class extends nc{constructor(){super(...arguments);this.openedUrls=[];this.opened=new VI}static{o(this,"TestUrlOpener")}open(r){return this.openedUrls.push(r),this.opened.resolve(),Promise.resolve()}},BV=class extends va{constructor(){super();this.sentMessages=[];this.warningPromises=[]}static{o(this,"TestNotificationSender")}performDismiss(){this.actionToPerform="DISMISS"}performAction(r){this.actionToPerform=r}showWarningMessage(r,...n){this.sentMessages.push(r);let i;if(this.actionToPerform)if(this.actionToPerform==="DISMISS")i=Promise.resolve(void 0);else{let s=n.find(a=>a.title===this.actionToPerform);i=s?Promise.resolve(s):Promise.resolve(void 0)}else i=n?Promise.resolve(n[0]):Promise.resolve(void 0);return this.warningPromises.push(i),i}async waitForWarningMessages(){await Promise.all(this.warningPromises)}};d();function $Ge(e,t,r,n){return V1.create(R5e(e),t,r,n,t)}o($Ge,"createTextDocument");var Efe=class extends Hr{constructor(r){super(r);this._openTextDocuments=[];this._notebookDocuments=new Map;this._workspaceFolders=[];this._focusSubscribers=[];this._changeSubscribers=[];this._openSubscribers=[];this._closeSubscribers=[];this.onDidFocusTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._focusSubscribers.push(s),{dispose:o(()=>{this._focusSubscribers=this._focusSubscribers.filter(a=>a!==s)},"dispose")}},"onDidFocusTextDocument");this.onDidChangeTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._changeSubscribers.push(s),{dispose:o(()=>{this._changeSubscribers=this._changeSubscribers.filter(a=>a!==s)},"dispose")}},"onDidChangeTextDocument");this.onDidOpenTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._openSubscribers.push(s),{dispose:o(()=>{this._openSubscribers=this._openSubscribers.filter(a=>a!==s)},"dispose")}},"onDidOpenTextDocument");this.onDidCloseTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._closeSubscribers.push(s),{dispose:o(()=>{this._closeSubscribers=this._closeSubscribers.filter(a=>a!==s)},"dispose")}},"onDidCloseTextDocument")}static{o(this,"SimpleTestTextDocumentManager")}init(r){this._workspaceFolders=r.map(n=>({uri:n.uri,name:n.name??Di(n.uri)}))}async readTextDocumentFromDisk(r){return super.readTextDocumentFromDisk(r)}getTextDocumentsUnsafe(){return this._openTextDocuments}setTextDocument(r,n,i){let s=$Ge(r,n,0,i);return this._openTextDocuments.push(s),s}updateTextDocument(r,n){let i=this._openTextDocuments.findIndex(a=>a.uri===r.toString());if(i<0)throw new Error("Document not found");let s=this._openTextDocuments[i];this._openTextDocuments[i]=$Ge(r,s.clientLanguageId,s.version+1,n)}setNotebookDocument(r,n){this._notebookDocuments.set(r.uri.replace(/#.*/,""),n)}findNotebook({uri:r}){return this._notebookDocuments.get(r.replace(/#.*/,""))}getWorkspaceFolders(){return this._workspaceFolders}emitEvent(r){switch(r.eventName){case"focus":this._focusSubscribers.forEach(n=>n(r.args));break;case"change":this._changeSubscribers.forEach(n=>n(r.args));break;case"open":this._openSubscribers.forEach(n=>n(r.args));break;case"close":this._closeSubscribers.forEach(n=>n(r.args));break}}},DV=class extends Efe{constructor(r){super(r);this.contents=new Map}static{o(this,"TestTextDocumentManager")}readTextDocumentFromDisk(r){return Promise.resolve(this.contents.get(r))}setDiskContents(r,n){this.contents.set(r,n)}};var Ife=class extends qa{static{o(this,"NullLog")}logIt(...t){}};function zMt(e){let t=new MI;return t.set(Mp,e),t.set(E4,e),t.set(Eo,new Eo),t.set(ld,new ld({debug:!1,verboseLogging:!1,testMode:!0,simulation:!1})),t.set(Ka,jGe([])),t.set(pg,zq(t)),t.set(vp,new vp),t.set(Wm,new YF),t.set(af,new af),t.set(Rp,new Rp),t.set(Dp,new Dp),t.set(Xl,new Xl(t,"tid=test",!0)),t.set(Ds,new Ds),t.set(va,new BV),t.set(nc,new RV),t.set(Np,new C8),t.set(qa,new Ife),t.set($0,new $0),t.set(_s,new _s("test-session","test-machine")),t.set(On,new N6(t)),t.set(zu,new zu),$y(t,"copilot-test",!0),t.set(Cr,new Cr(t)),t.set(rh,new rh),t.set(sf,new sf),t.set(Vm,new CI),t.set(Xr,new HC("tid=test")),t.set(Yi,new nN),t.set(Do,new Do),t.set(sh,aO(t)),t.set(f0,new f0),t.set(Dd,new Dd),t.set(aA,aA.default),t.set(Ef,new Ef),t.set(md,new md(t,!1)),t.set(ea,new ea),t.set(Dn,new Dn(t)),t.set(of,new CQ),t.set(_l,new _l),t.set(ll,tO(t,async(r,n,i)=>n.find(s=>s==="*")?1:n.find(s=>typeof s!="string"&&s.language===i.languageId)?10:0)),YMt(t),t.set(th,new th(t)),t.set(Ho,new Ho),t}o(zMt,"_createBaselineContext");function YMt(e){e.set(Gi,new Gi(e)),e.set(bs,new bs(e)),e.set(pc,new pc(e)),e.set(Xa,new Xa),e.set(Wl,new Wl),e.set(Za,new _V),e.set(tm,new tm(e,[])),e.set(ui,new kV),e.set(Lh,new wV),e.set(Lg,new Lg(e)),e.set(DC,new DC),e.set(ua,new ua(e)),e.set(hc,new hc),e.set(Pf,new Pf)}o(YMt,"registerConversation");function zGe(){let e=zMt(new E4(new xI,new Map));return e.set(Or,new SV),e.set(dn,new Tfe),e.set(Hr,new DV(e)),e.set(Io,new K9),e.set(Qc,new Qc(e)),e.set(Ja,new Ja(e)),e.set(uc,new Zq(e)),YG(e),e}o(zGe,"createLibTestingContext");var Tfe=class extends dn{constructor(r={name:"lib-tests-plugin",version:"2"},n={name:"lib-tests-editor",version:"1"},i=[{name:"lib-tests-related-plugin",version:"3"}]){super();this.editorPluginInfo=r;this.editorInfo=n;this.relatedPluginInfo=i}static{o(this,"LibTestsEditorInfo")}getEditorInfo(){return this.editorInfo}getEditorPluginInfo(){return this.editorPluginInfo}getRelatedPluginInfo(){return this.relatedPluginInfo}};var KGe=et(require("fs"));var YGe=`${process.env.HOME}/.copilot-testing-gh-token`,PV,FV;async function JGe(e){e.forceSet(Xr,new HC(await KMt()))}o(JGe,"setTestingCopilotTokenManager");var KMt=o(async()=>{if(process.env.GH_COPILOT_IDE_TOKEN)return process.env.GH_COPILOT_IDE_TOKEN;let e=process.env.GH_COPILOT_TOKEN??"";if(/=/.test(e))return e;if(FV)return FV;let t=e||process.env.GITHUB_COPILOT_TOKEN||await JMt(),r=zGe(),n=new Y9(r);return r.forceSet(Or,n),FV=eN(r,{accessToken:t}).then(i=>{if(i.kind==="success")return i.envelope.token;throw new Ks('Could not fetch testing Copilot token. Try running "npm run get_token" again?')}),FV},"getCopilotToken");async function JMt(){try{PV??=(await KGe.promises.readFile(YGe)).toString().trim()}catch{PV??=process.env.GITHUB_TOKEN??""}if(!PV)throw new Error(`Tests: either GH_COPILOT_IDE_TOKEN, GH_COPILOT_TOKEN, or GITHUB_TOKEN must be set, or there must be a GitHub token from an app with access to Copilot in ${YGe}. Run "npm run get_token" to get one.`);return PV}o(JMt,"getTestingGitHubToken");function ZGe(e){return new O1({token:`test token ${Ir()}`,refresh_in:0,expires_at:0,...e})}o(ZGe,"createTestCopilotToken");var wfe=class extends Xr{constructor(r){super();this.copilotToken=r;this.wasReset=!1;this.ghSession=XGe()}static{o(this,"FakeCopilotTokenManagerFromCopilotToken")}async getGitHubSession(){return Promise.resolve(this.ghSession)}getToken(){return Promise.resolve(this.copilotToken)}resetToken(){this.wasReset=!0}checkCopilotToken(){return Promise.resolve({status:"OK"})}},NV=class extends wfe{static{o(this,"TestCopilotTokenManager")}constructor(t){super(ZGe(t))}},HC=class extends NV{static{o(this,"FixedCopilotTokenManager")}constructor(t){super({token:t})}};function XGe(e={}){return{accessToken:Ir(),...e}}o(XGe,"testGitHubSession");var LV=class extends Ln{static{o(this,"NotAuthManager")}constructor(){super(null,null)}getPersistedAuthRecord(){return Promise.resolve(void 0)}checkAndUpdateStatus(){return Promise.resolve({status:"NotSignedIn"})}},J9=class extends Ln{constructor(r=new HC("tid=valid-copilot-token"),n=""){super(null,r);this.githubAppId=n}static{o(this,"AlwaysAuthManager")}getPersistedAuthRecord(){return Promise.resolve({user:"user",oauth_token:"",githubAppId:this.githubAppId})}};var ZMt=I.Object({options:I.Optional(I.Object({}))});async function XMt(e,t,r){return e.forceSet(Ln,new J9),e.get(Xr).resetToken(),e.get(Yi).forceNormal(),await new Promise(n=>setTimeout(n,0)),["OK",null]}o(XMt,"handleTestingAlwaysAuthChecked");var eHe=at(ZMt,XMt);d();var eOt=I.Object({messages:I.Array(I.Object({role:I.Enum(Ll),content:I.String(),name:I.Optional(I.String())})),modelFamily:I.Optional(I.Enum(mi)),stop:I.Optional(I.Array(I.String())),conversationOptions:I.Optional(I.Object({maxResponseTokens:I.Optional(I.Number()),temperature:I.Optional(I.Number())}))});async function tOt(e,t,r){let n=new ka(e),i=await e.get(ui).getBestChatModelConfig([r.modelFamily??mi.Gpt35turbo]),s=await p_(e,"","");return[await n.fetchResponse({modelConfiguration:i,messages:r.messages,uiKind:"conversationIntegrationTest",stop:r.stop,intentParams:{intent:!0},llmInteraction:Eu.user("test",Ir())},t,s),null]}o(tOt,"handleChatMLChecked");var tHe=fo(at(eOt,tOt));d();d();var rHe=require("crypto"),nHe=require("http"),iHe=require("stream"),oHe=require("util"),X9=et(Jm());var rOt=9e4,nOt=new X9.ProtocolRequestType("copilot/fetch"),iOt=new X9.ProtocolRequestType("copilot/fetchCancel"),oOt=new X9.ProgressType,sOt=new X9.ProtocolRequestType("copilot/fetchDisconnectAll"),jg=class extends Error{static{o(this,"EditorFetcherError")}constructor(t){super(t),this.name="EditorFetcherError"}},Z9=class extends Or{constructor(r){super();this.ctx=r;this.name="EditorFetcher";this.userAgent=`GithubCopilot/${r.get(Eo).getVersion()}`}static{o(this,"EditorFetcher")}disconnectAll(){return this.ctx.get(jr).connection.sendRequest(sOt,{})}makeAbortController(){return new IV}async fetch(r,n){n.headers||={},n.headers["user-agent"]=this.userAgent;let{signal:i}=n,s=this.ctx.get(jr).connection,a=(0,rHe.randomUUID)(),l=new Vn.CancellationTokenSource,c=new iHe.PassThrough,u=o(()=>{s.sendRequest(iOt,{workDoneToken:a})},"sendCancelRequest"),f=o(()=>{c.emit("error",new TV("EditorFetch request aborted")),c.end()},"destroyBodyStream");if(i){if(!(i instanceof GGe))throw new jg("EditorFetcher received unexpected abort signal");if(i.aborted)throw new TV("EditorFetcher signal aborted before fetch");i.addEventListener("abort",u)}s.onProgress(oOt,a,h=>{h.kind==="end"?(i?.removeEventListener("abort",u),i?.removeEventListener("abort",f),h.error&&c.emit("error",new jg(h.error)),c.end()):h.kind==="report"&&c.write(h.chunk)});let m=await new Promise((h,p)=>{let g=setTimeout(()=>{p(new jg("Request timed out from lsp server"))},n.timeout??rOt),x=o(()=>{p(new TV("EditorFetcher request aborted"))},"rejectIfAborted");i?.addEventListener("abort",x),s.sendRequest(nOt,lOt(r,a,n),l.token).then(h).catch(v=>{let E="EditorFetcher request failed";v&&typeof v=="object"&&"message"in v&&(E+=`: ${String(v.message)}`),v&&typeof v=="object"&&"data"in v&&(E+=`: ${(0,oHe.inspect)(v.data)}`),p(new jg(E))}).finally(()=>{i?.removeEventListener("abort",x),clearTimeout(g)})});if(!m.status)throw new jg("EditorFetcher received invalid response");return i?.addEventListener("abort",f),new Ty(m.status,nHe.STATUS_CODES[m.status]??"",new WGe(m.headers),()=>aOt(c),()=>c)}};function aOt(e){return new Promise((t,r)=>{let n="";e.on("error",r),e.on("end",()=>t(n)),e.on("data",i=>n+=String(i))})}o(aOt,"consumeStream");function lOt(e,t,r){let{timeout:n,method:i}=r,s=r.headers??{},a=r.json?JSON.stringify(r.json):r.body;return r.json&&(s["content-type"]="application/json"),{url:e,headers:s,body:a,timeout:n,method:i,workDoneToken:t}}o(lOt,"convertOptionsToParams");var cOt=I.Object({url:I.String(),headers:I.Optional(I.Record(I.String(),I.String())),body:I.Optional(I.String()),timeout:I.Optional(I.Number()),method:I.Optional(I.Union([I.Literal("GET"),I.Literal("POST")])),cancelBeforeRequest:I.Optional(I.Boolean()),cancelAfterRequest:I.Optional(I.Boolean()),cancelAfterFirstChunk:I.Optional(I.Boolean())});async function uOt(e,t,r){let n=new Z9(e),i=n.makeAbortController(),s=i.signal,{url:a,cancelBeforeRequest:l,cancelAfterRequest:c,cancelAfterFirstChunk:u,...f}=r;l&&i.abort();let m=n.fetch(a,{signal:s,...f});c&&i.abort();let h;try{h=await m}catch(x){return[{error:`Fetch stream error: ${x instanceof jg?x.message:String(x)}`},null]}let{status:p}=h,g=Object.fromEntries(Array.from(h.headers));try{if(u){let v=h.body();for await(let E of v){let b=E.toString();return i.abort(),[{status:p,headers:g,body:b},null]}}let x=await h.text();return[{status:p,headers:g,body:x},null]}catch(x){return[{error:`Fetch stream error: ${x instanceof jg?x.message:String(x)}`},null]}}o(uOt,"handleTestingFetchChecked");var sHe=at(cOt,uOt);d();var fOt=I.Object({});async function dOt(e,t,r){return await e.get(Do).flush(),["OK",null]}o(dOt,"handleTestingFlushPromiseQueueChecked");var aHe=at(fOt,dOt);d();var mOt=I.Object({filePath:I.String(),code:I.String(),offset:I.Number(),languageId:I.String(),timeout:I.Optional(I.Number()),waitForContext:I.Optional(I.Boolean())});async function hOt(e,t,r){try{await e.get(Dg).start();let n=e.get(Ev),i=r.timeout??1e3,s=Date.now(),a=[],l=!0;for(;l;)try{a=await n.indexClient.getContext(r.filePath,r.code,r.offset,r.languageId,t)}catch{}finally{l=(r.waitForContext??!1)&&a.length==0&&Date.now()-s<i}return[{initialized:!0,context:a},null]}catch{return[{initialized:!1,context:[]},null]}}o(hOt,"handleTestingGetContextChecked");var lHe=at(mOt,hOt);d();var pOt=I.Object({uri:I.String()});async function gOt(e,t,r){let i=await e.get(Hr).getTextDocument(r);return[{uri:r.uri,languageId:i?.clientLanguageId??"unknown",version:i?.version??-1,text:i?.getText()??""},null]}o(gOt,"handleGetDocumentChecked");var cHe=at(pOt,gOt);d();d();d();var QV=et(require("assert"));var n2=class{constructor(){this.events=[];this.errors=[]}static{o(this,"TelemetrySpy")}sendTelemetryEvent(t,r={},n={}){this.events.push({name:t,properties:r,measurements:n})}sendTelemetryErrorEvent(t,r={},n={},i){this.errors.push({name:t,properties:r,measurements:n,errorProps:i})}sendTelemetryException(t,r={},n={}){this.events.push({name:"error.exception",properties:{message:t.message,...r},measurements:n})}dispose(){return Promise.resolve()}get hasEvent(){return this.events.length>0}get hasError(){return this.errors.length>0}get exceptions(){return this.events.filter(t=>t.name==="error.exception")}get hasException(){return this.exceptions.length>0}get firstEvent(){return this.events[0]}get firstError(){return this.errors[0]}get firstException(){return this.exceptions[0]}eventsMatching(t){return this.events.filter(t)}eventByName(t){let r=this.events.filter(n=>n.name===t);return QV.strictEqual(r.length,1,`Expected exactly one event with name ${t}`),r[0]}errorsMatching(t){return this.errors.filter(t)}exceptionsMatching(t){return this.exceptions.filter(t)}assertHasProperty(t){QV.ok(this.eventsMatching(r=>r.name!=="ghostText.produced").every(r=>t(r.properties)))}};var e7=class extends Do{static{o(this,"TestPromiseQueue")}async awaitPromises(){await Promise.all(this.promises)}};var AOt=I.Object({});async function yOt(e,t,r){let n=e.get(Ds),i=n.getReporter(e),s=n.getRestrictedReporter(e);if(!(i instanceof n2)||!(s instanceof n2||s===void 0))return[null,{code:rn.InternalError,message:"Telemetry is not being captured. You must first call testing/setTelemetryCapture."}];let a=e.get(Do);return a instanceof e7&&await a.awaitPromises(),[{standard:{events:i.events,errors:i.errors},restricted:{events:s?.events||[],errors:s?.errors||[]}},null]}o(yOt,"handleTestingGetTelemetryChecked");var uHe=at(AOt,yOt);d();var COt=I.Object({options:I.Optional(I.Object({}))});async function xOt(e,t,r){e.forceSet(Ln,new LV),e.get(Xr).resetToken();try{await e.get(Xr).getToken()}catch{}return await new Promise(n=>setTimeout(n,0)),["OK",null]}o(xOt,"handleTestingNeverAuthChecked");var fHe=at(COt,xOt);d();d();var _fe=class extends LR{static{o(this,"ExpConfigFetcher")}constructor(t){super(),this.fullConfig={Features:[],Flights:{},Configs:[{Id:"vscode",Parameters:t.Parameters}],ParameterGroups:[],AssignmentContext:t.AssignmentContext}}fetch(t,r){return t.endsWith("telemetry")?Promise.resolve(VGe(200,this.fullConfig)):Promise.resolve(bfe(404,""))}},MV=class extends _fe{constructor(r,n){super(r);this.delegate=n}static{o(this,"ExpConfigFetcherWithDelegate")}fetch(r,n){return r.endsWith("telemetry")?super.fetch(r,n):this.delegate.fetch(r,n)}makeAbortController(){return this.delegate.makeAbortController()}};var vOt=I.Object({expFlags:I.Record(I.String(),I.Union([I.String(),I.Number(),I.Boolean()]))});function bOt(e,t,r){if(r.expFlags){let n={AssignmentContext:"assignmentcontext",Parameters:{...r.expFlags}};e.forceSet(Or,new MV(n,e.get(Or)))}return["OK",null]}o(bOt,"handleTestingOverrideExpFlagsChecked");var dHe=at(vOt,bOt);d();var EOt=I.Object({rules:Gee});function IOt(e,t,r){let n=e.get(Qc);return n?(n.setTestingRules(r.rules),["OK",null]):[null,{code:rn.InternalError,message:"Could not set content exclusion rules"}]}o(IOt,"handleTestingSetContentExclusionRulesChecked");var mHe=at(EOt,IOt);d();var TOt=I.Object({workDoneToken:I.Union([I.String(),I.Number()]),chunks:I.Array(I.String()),followUp:I.Optional(I.String()),suggestedTitle:I.Optional(I.String()),skills:I.Optional(I.Array(I.String())),references:I.Optional(I.Array(R9)),options:I.Optional(I.Object({}))});function wOt(e,t,r){return e.get(YA).add(r.workDoneToken,r.chunks,r.followUp,r.suggestedTitle,r.skills,r.references),["OK",null]}o(wOt,"handleTestingSetSyntheticTurnsChecked");var hHe=at(TOt,wOt);d();var _Ot=I.Object({telemetryCapture:I.Boolean()});async function SOt(e,t,r){return r.telemetryCapture?(await $y(e,"agent",!1),e.get(Ds).setReporter(new n2),e.get(Ds).setRestrictedReporter(new n2),e.forceSet(Do,new e7)):(await $y(e,"agent",!0),e.forceSet(Do,new Do)),["OK",null]}o(SOt,"handleTestingSetTelemetryCaptureChecked");var pHe=at(_Ot,SOt);d();var kOt=I.Object({});async function ROt(e,t,r){let n=e.get(va),i=e.get(qa);return await n.showWarningMessage("This is a test message",{title:"Some Action"}).then(a=>s(3,"response from message request",a?.title)).catch(a=>s(1,"error sending show message request",a)),["OK",null];function s(a,l,c){return i.logIt(e,a,"triggerShowMessage",`${l} (${String(c)})`)}o(s,"sendNotification")}o(ROt,"handleTriggerShowMessageChecked");var gHe=at(kOt,ROt);d();var BOt=I.Object({options:I.Optional(I.Object({})),githubAppId:I.Optional(I.String())});async function DOt(e,t,r){return await JGe(e),e.forceSet(Ln,new J9(e.get(Xr),r.githubAppId)),["OK",null]}o(DOt,"handleTestingUseTestingTokenChecked");var AHe=at(BOt,DOt);d();var POt=I.Object({});async function FOt(e,t,r){return await new y9().uninstall(e),["OK",null]}o(FOt,"handleUninstallChecked");var yHe=at(POt,FOt);d();var NOt=EEe;function LOt(e,t,r){let n=e.get(ll),i={unregistered:[],notUnregistered:[]};return r.providers.forEach(s=>{try{n.unregisterContextProvider(s.id),i.unregistered.push(s.id)}catch{i.notUnregistered.push(s.id)}}),[i,null]}o(LOt,"unregisterContextProviders");var CHe=at(NOt,LOt);d();var Sfe=et(require("os"));var QOt=I.Object({expectedCertificate:I.String()});async function MOt(e,t,r){let i=(await $q(e).getAllRootCAs()).map(U9),s=U9(r.expectedCertificate);return i.includes(s)?[{status:!0,message:"Certificate verified"},null]:[{status:!1,message:`expected certificate not found - Expected to find certificate ${Bue(s)}. Only found those installed on the system:${Sfe.EOL}${i.map(a=>"- "+Bue(a)).join(Sfe.EOL)}`},null]}o(MOt,"handleVerifyCertificateChecked");var xHe=at(QOt,MOt);d();var OOt=I.Object({});async function UOt(){return[{status:!!await new tk().load()},null]}o(UOt,"handleVerifyKerberosChecked");var vHe=at(OOt,UOt);d();var qOt=I.Object({source:I.String(),version:I.Number(),uri:I.String()});async function WOt(e,t,r){let i=await e.get(Hr).getTextDocument(r);return i?i.getText()!==r.source?[{status:!1,message:`Source mismatch: [State] ${i.getText()} !== [Request] ${r.source}`},null]:i.version!==r.version?[{status:!1,message:`Version mismatch: [State] ${i.version} !== [Request] ${r.version}`},null]:[{status:!0,message:""},null]:[{status:!1,message:`Document not found: <${r.uri}>`},null]}o(WOt,"handleVerifyStateChecked");var bHe=at(qOt,WOt);d();var GOt=I.Object({});function HOt(e,t,r){return[e.get(Hr).getWorkspaceFolders().map(i=>{let s=new URL(i.uri),a=decodeURIComponent(s.pathname);return{...i,path:a}}),null]}o(HOt,"handleVerifyWorkspaceStateChecked");var EHe=at(GOt,HOt);var qv=class{constructor(t){this.handlers=t}static{o(this,"MethodHandlers")}};function IHe(){let e=new Map;return e.set(Xqe.method,eWe),e.set(tWe.method,rWe),e.set("getCompletions",jqe),e.set("getCompletionsCycling",Vqe),e.set("getPanelCompletions",Yqe),e.set(kqe.method,Rqe),e.set("getVersion",Kqe),e.set("setEditorInfo",gWe),e.set("checkStatus",MMe),e.set("checkFileStatus",QMe),e.set("signInInitiate",Oue),e.set("signIn",Oue),e.set("signInConfirm",AWe),e.set("signInWithGithubToken",yWe),e.set("signOut",CWe),e.set("notifyShown",aWe),e.set("notifyAccepted",oWe),e.set("notifyRejected",sWe),e.set("telemetry/exception",IWe),e.set("telemetry/authNotifyDismissed",xWe),e.set("telemetry/authNotifyShown",vWe),e.set("telemetry/gitHubLoginSuccess",bWe),e.set("telemetry/newGitHubLogin",EWe),e.set("textDocument/copilotInlineEdit",iWe),e.set("testing/overrideExpFlags",dHe),e.set("testing/alwaysAuth",eHe),e.set("testing/neverAuth",fHe),e.set("testing/useTestingToken",AHe),e.set("testing/setCompletionDocuments",qqe),e.set("testing/setPanelCompletionDocuments",_qe),e.set("testing/triggerShowMessageRequest",gHe),e.set("testing/getTelemetry",uHe),e.set("testing/setTelemetryCapture",pHe),e.set("testing/flushPromiseQueue",aHe),e.set("testing/getDocument",cHe),e.set("testing/chatml",tHe),e.set("testing/setSyntheticTurns",hHe),e.set("testing/fetch",sHe),e.set("testing/setContentExclusionRules",mHe),e.set("testing/setCopilotEditsResponse",gqe),e.set("testing/getContext",lHe),e.set("uninstall",yHe),e.set("debug/diagnostics",Fqe),e.set("debug/listCertificates",nWe),e.set("debug/verifyState",bHe),e.set("debug/verifyCertificate",xHe),e.set("debug/verifyKerberos",vHe),e.set("debug/verifyWorkspaceState",EHe),e.set("context/registerProviders",lWe),e.set("context/unregisterProviders",CHe),e.set("conversation/preconditions",cqe),e.set("conversation/persistence",sqe),e.set("conversation/create",iqe),e.set("conversation/turn",mqe),e.set("conversation/turnDelete",hqe),e.set("conversation/destroy",oqe),e.set("conversation/rating",uqe),e.set("conversation/copyCode",HUe),e.set("conversation/insertCode",jUe),e.set("conversation/templates",dqe),e.set("conversation/agents",GUe),e.set("conversation/registerTools",fqe),e.set("copilot/models",bqe),e.set("copilot/setModelPolicy",Eqe),e.set("copilot/codeReview",pqe),e.set("git/commitGenerate",Jqe),e.set("editConversation/create",Aqe),e.set("editConversation/turn",Cqe),e.set("editConversation/turnDelete",xqe),e.set("editConversation/destroy",yqe),e.set("mcp/getTools",vqe),new qv(e)}o(IHe,"getAllMethods");d();d();d();var THe=et(Jm());var Vg=class{constructor(t){this.ctx=t}static{o(this,"AbstractNotification")}get type(){return new THe.NotificationType(this.name)}};var kfe=class extends Vg{constructor(){super(...arguments);this.name=BJ.method;this.params=Lye}static{o(this,"DidChangeAuthNotificationHandler")}handle(r){let n=this.ctx.get(Ln);r?.handle&&r?.accessToken?n.setTransientSession({accessToken:r.accessToken,login:r.handle,githubAppId:r.githubAppId}):n.setTransientSession(null)}},wHe=[kfe];d();var Rfe=class extends Vg{constructor(){super(...arguments);this.name=LJ.method;this.params=Hye}static{o(this,"DidShowCompletionNotificationHandler")}handle(r){let n=r.item.command.arguments[0],s=this.ctx.get(rs).get(n);s&&z8e(this.ctx,s)}},Bfe=class extends Vg{constructor(){super(...arguments);this.name=OJ.method;this.params=Yye}static{o(this,"DidShowInlineEditNotificationHandler")}async handle(r){let n=r.item.command.arguments[0];await this.ctx.get(Bh).handleShown(n)}},Dfe=class extends Vg{constructor(){super(...arguments);this.name=QJ.method;this.params=jye}static{o(this,"DidPartiallyAcceptCompletionNotificationHandler")}handle(r){let n=r.item.command.arguments[0],i=r.acceptedLength,s=this.ctx.get(rs),a=s.get(n);a&&(s.delete(n),i>=a.insertText.length?mO(this.ctx,a):Y8e(this.ctx,a,i))}},_He=[Rfe,Bfe,Dfe];d();var OV=class extends Vg{constructor(){super(...arguments);this.name="window/workDoneProgress/cancel";this.params=I.Object({token:I.Union([I.String(),I.Number()])})}static{o(this,"WorkDoneProgressCancelNotification")}handle(r){this.ctx.get(_0).cancel(r.token)}};var jOt=[...wHe,..._He,OV];function SHe(e,t){for(let r of jOt){let n=new r(e),i=ds.Compile(n.params);t.onNotification(n.type,Gu(e,async s=>{qA(s),i.Check(s)?await n.handle(s):T0.error(e,`Notification ${n.name}:`,new mc(i.Errors(s)))},`Notification ${n.name}`))}}o(SHe,"registerNotifications");d();var RHe=et(require("events")),UV=et(Tl());var kHe=new Vt("AgentTextDocumentConfiguration"),Pfe=class{constructor(t){this.ctx=t;this.emitter=new RHe.default}static{o(this,"AgentTextDocumentsConfiguration")}create(t,r,n,i){try{return V1.create(t,r,n,i)}catch(s){throw kHe.exception(this.ctx,s,".create"),s}}update(t,r,n){try{let i=[];for(let a of r)if(UV.TextDocumentContentChangeEvent.isIncremental(a)){let l={range:a.range,rangeOffset:t.offsetAt(a.range.start),rangeLength:t.offsetAt(a.range.end)-t.offsetAt(a.range.start),text:a.text};i.push(l)}let s={document:{uri:t.uri,version:n},contentChanges:i};return this.emitter.emit("change",s),V1.withChanges(t,r,n)}catch(i){throw kHe.exception(this.ctx,i,".update"),i}}},jC=class extends Hr{constructor(r){super(r);this._documents=new Map;this.workspaceFolders=[];this.onDidChangeTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._textDocumentConfiguration.emitter.on("change",s),{dispose:o(()=>{this._textDocumentConfiguration.emitter.removeListener("change",s)},"dispose")}},"onDidChangeTextDocument");this.onDidOpenTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._textDocumentConfiguration.emitter.on("open",s),{dispose:o(()=>{this._textDocumentConfiguration.emitter.removeListener("open",s)},"dispose")}},"onDidOpenTextDocument");this.onDidCloseTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._textDocumentConfiguration.emitter.on("close",s),{dispose:o(()=>{this._textDocumentConfiguration.emitter.removeListener("close",s)},"dispose")}},"onDidCloseTextDocument");this.onDidFocusTextDocument=o((r,n,i)=>this.connection.onNotification(FJ.type,s=>{let a=("textDocument"in s?s.textDocument:s)??{};r.call(n,"uri"in a?{document:a}:void 0)}),"onDidFocusTextDocument");this._textDocumentConfiguration=new Pfe(r),this._notebookDocuments=new UV.NotebookDocuments(this._textDocumentConfiguration)}static{o(this,"AgentTextDocumentManager")}get connection(){return this.ctx.get(jr).connection}init(r){this.connection.onDidOpenTextDocument(n=>{let i=n.textDocument,s=this._textDocumentConfiguration.create(i.uri,i.languageId,i.version,i.text);this._documents.set(rc(i.uri),s),this._textDocumentConfiguration.emitter.emit("open",{document:{...i,uri:s.uri}})}),this.connection.onDidChangeTextDocument(n=>{let i=n.textDocument,s=n.contentChanges,{version:a}=i;if(a==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let l=rc(i.uri),c=this._documents.get(l);c!==void 0&&(c=this._textDocumentConfiguration.update(c,s,a),this._documents.set(l,c))}),this.connection.onDidCloseTextDocument(n=>{let i=rc(n.textDocument.uri);this._documents.delete(i),this._textDocumentConfiguration.emitter.emit("close",{document:{uri:i}})}),this._notebookDocuments.listen(this.connection),this.workspaceFolders.length=0,this.workspaceFolders.push(...r)}didChangeWorkspaceFolders(r){r.added.forEach(n=>this.registerWorkspaceFolder(n)),r.removed.forEach(n=>this.unregisterWorkspaceFolder(n))}unregisterWorkspaceFolder(r){let n=this.workspaceFolders.findIndex(i=>i.uri===r.uri);n>=0&&this.workspaceFolders.splice(n,1)}registerWorkspaceFolder(r){this.workspaceFolders.push(r)}getTextDocumentsUnsafe(){return[...this._documents.values()]}getTextDocumentUnsafe(r){return this._documents.get(rc(r.uri))}getWorkspaceFolders(){return this.workspaceFolders}findNotebook(r){let n=this._notebookDocuments.findNotebookDocumentForCell(r.uri);if(n)return{getCells:o(()=>n.cells.map((i,s)=>this.wrapCell(i,s)).filter(i=>!!i),"getCells"),getCellFor:o(({uri:i})=>{let s=n.cells.findIndex(a=>a.document===i);return s!==-1?this.wrapCell(n.cells[s],s):void 0},"getCellFor")}}wrapCell(r,n){let i=this._notebookDocuments.getCellTextDocument(r);if(i)return{kind:r.kind,metadata:r.metadata??{},index:n,document:i}}};var BHe=ds.Compile(qye);function qA(e){if(e!==null){if(Array.isArray(e))for(let t=0;t<e.length;t++)e[t]=qA(e[t]);else if(typeof e=="object"){let t=e;for(let r in t)t[r]===null?delete t[r]:t[r]=qA(t[r])}return e}}o(qA,"purgeNulls");var jr=class{constructor(t,r){this.ctx=t;this.connection=r;this.initialized=!1;this.#i=this.ctx.get(qa)}static{o(this,"Service")}#e;#t;#i;get clientCapabilities(){return this.#t}listen(){let t=this.ctx,r=this.connection;r.onRequest(this.messageHandler.bind(this)),SHe(t,r);let n={name:"GitHub Copilot Language Server",version:t.get(Eo).getDisplayVersion(),nodeVersion:process.versions.node},i,s=o(async c=>{try{if(i&&c&&typeof c=="object"&&!("settings"in c)){let u=await r.workspace.getConfiguration(["github.copilot",...Nue].map(m=>({section:m}))),f={github:{copilot:u.shift()}};for(let m of Nue)f[m]=u.shift();c.settings=f}return hWe(t,qA(c))}catch(u){T0.exception(t,u,"didChangeConfiguration")}},"didChangeConfiguration");function a(c){try{t.get(jC).didChangeWorkspaceFolders(c),t.get(Ef).emit(c)}catch(u){T0.exception(t,u,"didChangeWorkspaceFolders")}}o(a,"didChangeWorkspaceFolders"),this.connection.onNotification("vs/didAddWorkspaceFolder",({name:c,uri:u})=>a({added:[{uri:u,name:c??u}],removed:[]})),this.connection.onNotification("vs/didRemoveWorkspaceFolder",({name:c,uri:u})=>a({added:[],removed:[{uri:u,name:c??u}]})),r.onInitialize(async c=>{if(this.initialized)throw new Error("initialize request sent after initialized notification");this.#t=c.capabilities;let u=c.capabilities.copilot,f=qA(c.initializationOptions);if(f){if(!BHe.Check(f))throw new mc(BHe.Errors(f));let g=f,x=t.get(dn);g.editorPluginInfo?x.setEditorAndPluginInfo({version:"unknown",...g.editorPluginInfo},g.editorInfo&&{version:"unknown",...g.editorInfo},g.relatedPluginInfo??[]):T0.warn(t,"editorInfo and editorPluginInfo will soon be required in initializationOptions. This will replace setEditorInfo."),g.copilotIntegrationId&&x.setCopilotIntegrationId(g.copilotIntegrationId),g.githubAppId&&(t.get(ea).githubAppId=g.githubAppId),g.copilotCapabilities&&(u=g.copilotCapabilities)}let m=c.capabilities.workspace?.workspaceFolders??!1;t.get(jC).init(c.workspaceFolders??[]),n8e(this.ctx),t.get(Ef).emit({added:c.workspaceFolders??[],removed:[]}),i=c.capabilities.workspace?.configuration,u&&(t.get(Ho).setCapabilities(u),"openURL"in u&&rH(t,["The openURL Copilot capability has been removed in favor of window/showDocument."]));let p=o(async()=>{this.initialized||(this.initialized=!0,T0.info(t,`${n.name} ${n.version} initialized`),m&&r.workspace.onDidChangeWorkspaceFolders(a),i?await s({}):await _R(t),this.installationTelemetryTimer=setTimeout(()=>{new y9().startup(t).catch(()=>{})},1e3),t.get(WA).emit(),await A8e(t))},"onInitialized");return r.onInitialized(Gu(t,p,"onInitialized")),t.get(Dh).init(),u?.token&&t.get(Ln).setTransientSession(null),u?.redirectedTelemetry&&await NMe(t),DHe.lt(process.versions.node,"20.8.0")&&T0.warn(t,`Node.js ${process.versions.node} support is deprecated. Please upgrade to Node.js 20.8 or newer.`),{capabilities:{textDocumentSync:{openClose:!0,change:qh.TextDocumentSyncKind.Incremental},notebookDocumentSync:{notebookSelector:[{notebook:"*"}]},workspace:{workspaceFolders:{supported:m,changeNotifications:m}},executeCommandProvider:{commands:SMe(t,r)},inlineCompletionProvider:{}},serverInfo:n}}),r.onShutdown(async()=>{await(this.#e??=this.deactivate())}),r.onExit(()=>void this.onExit()),r.onDidChangeConfiguration(Gu(t,s,"onDidChangeConfiguration")),r.listen();let l=new gH;this.ctx.forceSet(qa,l)}async messageHandler(t,r,n){let i=this.ctx.get(qv).handlers.get(t);if(!i)return new qh.ResponseError(rn.MethodNotFound,`Method not found: ${t}`);if(!this.initialized)return new qh.ResponseError(rn.ServerNotInitialized,"Agent service not initialized.");if(this.#e)return new qh.ResponseError(rn.InvalidRequest,"Agent service shut down.");if(t!=="setEditorInfo"&&!BMe(this.ctx.get(dn)))throw new qh.ResponseError(rn.ServerNotInitialized,"editorInfo and editorPluginInfo not set in initializationOptions");Array.isArray(r)&&(r=r[0]),qA(r);try{let[s,a]=await i(this.ctx,n,r);return a?new qh.ResponseError(a.code,a.message,a.data):s}catch(s){if(n.isCancellationRequested)return new qh.ResponseError(rn.RequestCancelled,"Request was canceled");if(s instanceof Ks)return new qh.ResponseError(rn.NoCopilotToken,`Not authenticated: ${s.message}`);throw s instanceof qh.ResponseError||T0.exception(this.ctx,s,`Request ${t}`),s}}async onExit(){try{this.ctx.get(Ih).dispose()}catch(t){T0.exception(this.ctx,t,"failed to dispose ripgrep process manager")}this.ctx.forceSet(qa,this.#i),await(this.#e??=this.deactivate())}async deactivate(){let t=this.ctx;clearTimeout(this.installationTelemetryTimer),vre(t),await Promise.race([new Promise(r=>setTimeout(r,100)),t.get(Do).flush()]),await Promise.race([new Promise(r=>setTimeout(r,1800)),t.get(Ds).deactivate()])}dispose(){clearTimeout(this.installationTelemetryTimer),this.connection.dispose()}},T0=new Vt("lsp");var qV=class e extends sx{constructor(r){super(r);this.reportedUnknownProviders=new Set}static{o(this,"AgentRelatedFilesProvider")}get service(){return this.context.get(jr)}static mapProviderNameToNeighboringFileType(r){let n="CSharpCopilotCompletionContextProvider",i="CSharpRoslynCompletionRelatedContextProvider",s="CppCopilotCompletionContextProvider",a="CppCopilotCompletionSemanticCodeContextProvider";switch(r){case n:return"related/csharp";case i:return"related/csharproslyn";case s:return"related/cpp";case a:return"related/cppsemanticcodecontext";default:return"related/other"}}convert(r){let n={entries:[],traits:r.traits};for(let i of r.entries){let s={type:e.mapProviderNameToNeighboringFileType(i.providerName),uris:i.uris};n.entries.push(s),s.type==="related/other"&&!this.reportedUnknownProviders.has(i.providerName)&&(this.reportedUnknownProviders.add(i.providerName),al.warn(this.context,`unknown providerName ${i.providerName}`))}return n}async getRelatedFilesResponse(r,n,i){al.debug(this.context,`Fetching related files for ${r.uri}`);let s=this.context.get(Ho).getCapabilities().related??!1;if(e.relatedCapabilityTelemetry(this.context,n,s),!s)return al.debug(this.context,"`copilot/related` not supported"),o8e;try{let a=await this.service.connection.sendRequest(UJ.type,{textDocument:{uri:r.uri},data:r.data,telemetry:{properties:n.properties,measurements:n.measurements}},i);return this.convert(a)}catch(a){al.exception(this.context,a,".copilotRelated");return}}static{this.telemetrySent=!1}static relatedCapabilityTelemetry(r,n,i){try{if(!i||e.telemetrySent)return;e.telemetrySent=!0,jt(r,"copilotRelated.hasRelatedCapability",n)}catch(s){al.exception(r,s,"copilotRelated")}}};d();var FHe=et(Tl());var PHe=new Vt("copilotTokenManager"),Ffe=class e extends dI{static{o(this,"AgentClientCopilotTokenManager")}static{this.RequestType=new FHe.ProtocolRequestType("copilot/token")}constructor(t){super(t)}async fetchCopilotTokenEnvelope(){let t=this.ctx.get(jr).connection;try{this.didChangeToken??=t.onNotification("copilot/didChangeToken",()=>{this.resetToken()});let r=await t.sendRequest(e.RequestType,{force:!1});if(!r?.envelope)throw PHe.debug(this.ctx,"Envelope missing from copilot/token response"),new fd({reason:"NotSignedIn",message:"Editor did not return a token"});let{accessToken:n,handle:i,githubAppId:s,envelope:a,tokenEndpoint:l}=r;PHe.debug(this.ctx,"Retrieved envelope from copilot/token");let c=new O1(a);if(c.isExpired())throw new Ks("Expired token in copilot/token response");if(i&&n)this.ctx.get(Ln).setTransientSession({accessToken:n,login:i,githubAppId:s},!1);else if(!await this.getGitHubSession())throw new fd({reason:"NotSignedIn"});return l!==void 0&&this.ctx.get(On).updateBaseUrlFromTokenEndpoint(this.ctx,l),fw(this.ctx,c),a}catch(r){throw r instanceof Error?new Ks(r.message,r):r}}},QR=class extends Xr{constructor(r,n=new dI(r)){super();this.ctx=r;this.fallback=n;this.client=new Ffe(r)}static{o(this,"AgentCopilotTokenManager")}canGetToken(){return this.ctx.get(Ho).getCapabilities().token??!1}getDelegate(){return this.canGetToken()?this.client:this.fallback}resetToken(r){this.getDelegate().resetToken(r)}async getToken(){return this.getDelegate().getToken()}async getGitHubSession(){return this.fallback.getGitHubSession()}};d();var VOt=new Vt("Public Code References"),WV=class extends of{static{o(this,"CLSCitationManager")}async handleIPCodeCitation(t,r){let n=r.location?.start.line!==void 0?r.location.start.line+1:"-",i=r.location?.start.character!==void 0?r.location.start.character+1:"-",s=(r.matchingText??"").replace(/[\r\n]/g," ");VOt.info(t,`Text found matching public code in ${r.inDocumentUri} [Ln ${n}, Col ${i}] near ${s}...:`+r.details.map((a,l)=>`
  ${l+1}) [${a.license}] ${a.url}`).join("")),!(r.version===void 0||r.location===void 0)&&t.get(Ho).getCapabilities().ipCodeCitation===!0&&await t.get(jr).connection.sendNotification(DJ.type,{uri:r.inDocumentUri,version:r.version,range:r.location,matchingText:r.matchingText??"",citations:r.details})}};d();d();function NHe(e){$Ot(e)}o(NHe,"activateExtensibilityPlatformFeature");function $Ot(e){e.set(Lh,new Pj(e)),e.set(Lg,new Lg(e))}o($Ot,"registerContextDependencies");d();var LHe=I.String(),Nfe=class{constructor(t){this.turnContext=t}static{o(this,"BuildLogsSkillProcessor")}value(){return .9}processSkill(t){return this.turnContext.collectLabel(HV,"build logs"),`The contents of the application build logs:
\`\`\`
${t}
\`\`\``}},HV="build-logs",GV=class extends Ul{static{o(this,"BuildLogsSkill")}constructor(t){super(HV,"The application build logs, which can be used to fix build or compilation errors.","Reading build logs",()=>t,r=>new Nfe(r))}};d();var zOt=I.Object({uri:I.String(),visibleRange:I.Optional(Ca),openedAt:I.Optional(I.String()),activeAt:I.Optional(I.String())}),QHe=I.Object({files:I.Array(zOt)}),YOt=3,Lfe=class{constructor(t){this.turnContext=t}static{o(this,"RecentFilesSkillProcessor")}value(){return .7}async processSkill(t){let r=await this.getDocuments(t);if(r.length>0){let n=this.toElidableDocs(r),i=FC(n,"inversePositional");return await this.preElideDocuments(i)}}async getDocuments(t){let r=this.sortFiles(t.files);r=this.filterIncludedDocs(r);let n=this.turnContext.ctx.get(Dn),i=[];for(let s of r){let a=await n.getOrReadTextDocument(s),l=gs(a);if(await this.turnContext.collectFile(VV,s.uri,l),a.status==="valid"&&l!=="empty"&&(i.push([a.document,s]),i.length===YOt))break}return i.reverse()}sortFiles(t){return t.sort((r,n)=>r.activeAt&&n.activeAt?new Date(r.activeAt).getTime()-new Date(n.activeAt).getTime():r.activeAt?-1:n.activeAt?1:0).reverse()}filterIncludedDocs(t){return t.filter(r=>!this.turnContext.isFileIncluded(r.uri))}toElidableDocs(t){return t.map(r=>{let[n,i]=r,s=this.turnContext.ctx.get(Dn).getRelativePath(n),a=new Qg(n,void 0,i.visibleRange);return new tr([[`Code excerpt from file \`${s}\`:`,1],[a.fromAllCode({addLineNumbers:!1}),.9]])})}async preElideDocuments(t){let r=(await this.turnContext.ctx.get(ui).getBestChatModelConfig(ms("user"))).maxRequestTokens,n=t.elide(Math.floor(r*.1)).getText();return new tr([n])}},VV="recent-files",jV=class extends Ul{static{o(this,"RecentFilesSkill")}constructor(t){super(VV,"Provides code examples helpful for creating, explaining, refactoring, or fixing code. It's based on the files the user has worked on in the editor.","Resolving recent files",()=>t,r=>new Lfe(r))}};d();var MHe=I.String(),Qfe=class{constructor(t){this.turnContext=t}static{o(this,"RuntimeLogsSkillProcessor")}value(){return .9}processSkill(t){return this.turnContext.collectLabel(zV,"runtime logs"),`The contents of the application runtime logs:
\`\`\`
${t}
\`\`\``}},zV="runtime-logs",$V=class extends Ul{static{o(this,"RuntimeLogsSkill")}constructor(t){super(zV,"The application runtime or debug logs, which are used to view output logs from the console. This is useful for debugging and troubleshooting runtime issues.","Reading runtime logs",()=>t,r=>new Qfe(r))}};d();var YV=et(Jm());var KV=class extends Za{constructor(r){super();this.ctx=r}static{o(this,"AgentConversationInspector")}shouldInspect(){return NF(this.ctx)}get connection(){if(this.shouldInspect())return this.ctx.get(jr).connection}async inspectPrompt(r){return this.connection?.sendNotification(new YV.NotificationType("conversation/inspectPrompt"),r)}async inspectFetchResult(r){return this.connection?.sendNotification(new YV.NotificationType("conversation/inspectFetchResult"),r)}async documentDiff(r){return this.connection?.sendNotification(new YV.NotificationType("conversation/documentDiff"),r)}};d();var OHe=et(Tl());var MR=class{constructor(t){this.ctx=t;this.notificationEndpoint="conversation/preconditionsNotification";t.get(tm).onChange(r=>{this.sendNotification(r)})}static{o(this,"PreconditionsNotifier")}sendNotification(t){return this.ctx.get(jr).connection.sendNotification(new OHe.NotificationType(this.notificationEndpoint),t)}};function UHe(e){KOt(e),JOt(e),NHe(e)}o(UHe,"activateConversationFeature");function KOt(e){e.set(Gi,new Gi(e)),e.set(Wl,new Wl),e.set(pc,new pc(e)),e.set(ui,new aW(e)),e.set(YA,new YA),e.set(bs,new bs(e)),e.set(tm,new tm(e)),e.set(MR,new MR(e)),e.set(Yu,new sN(e,new oN(e))),e.set(KA,new KA),e.set(DC,new DC),e.set(Za,new KV(e)),e.set(ua,new ua(e)),e.set(hc,new hc),e.set(Pf,new Pf)}o(KOt,"registerContextDependencies");function JOt(e){let t=new Xa;t.registerSkill(new LH(new NH(e))),t.registerSkill(new cj(new w0(e,Wg,BUe))),t.registerSkill(new MH(new w0(e,Fh,EOe))),t.registerSkill(new xH(new w0(e,jc,jMe))),t.registerSkill(new uj),t.registerSkill(new jV(new w0(e,VV,QHe))),t.registerSkill(new vH(new w0(e,Mg,$Me))),t.registerSkill(new UH(new w0(e,NC,POe))),t.registerSkill(new $V(new w0(e,zV,MHe))),t.registerSkill(new GV(new w0(e,HV,LHe))),t.registerSkill(new WH(new w0(e,Nh,FOe))),t.registerSkill(new GH(new w0(e,_v,LOe))),e.set(Xa,t)}o(JOt,"registerSkills");d();var qHe=et(ti());var JV=class extends uc{static{o(this,"AgentEditProgressReporter")}constructor(t){super(t)}async reportTurn(t,r){await this.ctx.get(jr).connection.sendProgress(new qHe.ProgressType,t.partialResultToken,[{editConversationId:t.editConversationId,editTurnId:t.editTurnId,...r}])}};d();var WHe=et(Tl()),GHe=et(Jm());var ZV=class extends gg{constructor(){super(...arguments);this.requestType=new WHe.ProtocolRequestType("conversation/invokeClientToolConfirmation");this.typeCheck=ds.Compile(wFe)}static{o(this,"AgentClientToolConfirmationInvoker")}async invokeClientToolConfirmation(r,n){let i=this.ctx.get(jr).connection,s;try{let a=await i.sendRequest(this.requestType,n),[l,c]=a;if(c){let u=new GHe.ResponseError(c.code,c.message,c.data);throw Jr.error(this.ctx,`ResponseError while invoking client tool confirmation ${n.name}`,u),new Error(`Failed to invoke client tool confirmation ${n.name}: ${c.message}`)}s=l}catch(a){throw new Error(`Failed to invoke client tool confirmation ${n.name}: ${String(a)}`)}if(s==null)throw new Error(`Failed to invoke client tool confirmation ${n.name}: No result returned`);if(!this.typeCheck.Check(s))throw new mc(this.typeCheck.Errors(s));return s}};d();var HHe=et(Tl()),jHe=et(Jm());var XV=class extends aC{constructor(){super(...arguments);this.requestType=new HHe.ProtocolRequestType("conversation/invokeClientTool");this.typeCheck=ds.Compile(TFe)}static{o(this,"AgentClientToolInvoker")}async invokeClientTool(r,n){let i=this.ctx.get(jr).connection,s;try{let a=await i.sendRequest(this.requestType,n),[l,c]=a;if(c){let u=new jHe.ResponseError(c.code,c.message,c.data);throw Jr.error(this.ctx,`ResponseError while invoking client tool ${n.name}`,u),new Error(`Failed to invoke client tool ${n.name}: ${c.message}`)}s=l}catch(a){throw new Error(`Failed to invoke client tool ${n.name}: ${String(a)}`)}if(s==null)throw new Error(`Failed to invoke client tool ${n.name}: No result returned`);if(!this.typeCheck.Check(s))throw new mc(this.typeCheck.Errors(s));return this.transformToToolResult(s)}transformToToolResult(r){let n=r.content.map(i=>typeof i.value=="string"?new xo(i.value):new V6(i.value));return new vo(n,r.status??"success")}};d();var Mfe=et(Jm());var ZOt={type:new Mfe.NotificationType("featureFlagsNotification")},XOt={type:new Mfe.NotificationType("copilot/didChangeFeatureFlags")},OR=class{constructor(t){this.ctx=t;js(t,r=>this.sendNotification(r))}static{o(this,"FeatureFlagsNotifier")}async sendNotification(t){let r=this.ctx,n=r.get(Cr),i=await n.updateExPValuesAndAssignments(),s=!1;t.envelope.chat_enabled&&(s=n.ideEnableCopilotEditsAgent(i));let a={},l=sre(r,i);l.length>0&&(a.ExpContextProviders=l);let c=new Map;eO(r,c,i);for(let[m,h]of c.entries())a[m]=h;let u=r.get(Ho),f=r.get(jr).connection;if(u.getCapabilities().didChangeFeatureFlags)await f.sendNotification(XOt.type,{envelope:{...t.envelope,token:void 0,expires_at:void 0,refresh_in:void 0,user_notification:void 0,limited_user_quotas:void 0,limited_user_reset_date:void 0,error_details:void 0,organization_list:void 0,enterprise_list:void 0,endpoints:void 0},activeExps:a,cea:s});else{let m={rt:t.getTokenValue("rt")==="1",sn:t.getTokenValue("sn")==="1",chat:t.envelope.chat_enabled??!1,ic:t.envelope.chat_enabled??!1,pc:!0,cea:s,ae:a};t.envelope.xcode_chat&&t.envelope.chat_enabled&&(m.xc=!0),await f.sendNotification(ZOt.type,m)}}};d();var e$=class extends Yi{constructor(r){super();this.ctx=r;this.notificationEndpoint="statusNotification"}static{o(this,"NotificationStatusReporter")}didChange(r){let n=r.kind;r.busy&&n!=="Error"&&(n="InProgress"),this.ctx.get(jr).connection.sendNotification(qJ.type,{busy:r.busy,kind:r.kind,status:n,message:r.message??""}),this.ctx.get(jr).connection.sendNotification("didChangeStatus",{busy:r.busy,kind:r.kind,message:r.message})}};d();var VHe=new K9;d();d();var eUt=new Vt("fetcher"),tUt="https://default.exp-tas.com/",t$=class extends Or{constructor(r,n,i,s){super();this.ctx=r;this.defaultFetcher=n;this.fallbackFetcher=i;this.onFallbackSuccess=s}static{o(this,"FallbackFetcher")}async fetch(r,n){try{return await this.defaultFetcher.fetch(r,n)}catch(i){if(Ec(i)||`${r}/`.startsWith(tUt))throw i;eUt.info(this.ctx,`Request to <${r}> failed, attempting fallback.`,i);let s=await this.fallbackFetcher.fetch(r,n);return this.onFallbackSuccess(),s}}set proxySettings(r){this.defaultFetcher.proxySettings=r}get proxySettings(){return this.defaultFetcher.proxySettings}get name(){return this.defaultFetcher.name}async disconnectAll(){return this.defaultFetcher.disconnectAll()}makeAbortController(){return this.defaultFetcher.makeAbortController()}};var $He=new Vt("fetcher"),r$=class extends Or{constructor(r,n=new Y9(r),i=new Z9(r)){super();this.ctx=r;this.helixFetcher=n;this.editorFetcher=i;this.currentFetcher=this.helixFetcher,this.fallbackFetcher=new t$(r,n,i,()=>{$He.info(this.ctx,"Fallback fetch succeeded, switching to editor fetcher."),this.currentFetcher=this.editorFetcher}),r.get(WA).once(()=>{this.updateFetcher()}),r.get(Bf).onConfigChange(St.FetchStrategy,a=>{this.fetchStrategy=a,this.updateFetcher()}),this.fetchStrategy=qn(r,St.FetchStrategy)}static{o(this,"AgentDelegatingFetcher")}get editorFetcherCapability(){return this.ctx.get(Ho).getCapabilities().fetch??!1}updateFetcher(){let r,n;if(!this.editorFetcherCapability)n="Using Helix fetcher, editor does not have fetch capability.",r=this.helixFetcher;else if(this.fetchStrategy==="client")n="Using editor fetcher, fetch strategy set to client.",r=this.editorFetcher;else if(this.fetchStrategy==="native")n="Using Helix fetcher, fetch strategy set to native.",r=this.helixFetcher;else{let i=qn(this.ctx,St.DebugUseEditorFetcher);i?.toString()==="true"?(n="Using editor fetcher, debug flag is enabled.",r=this.editorFetcher):i?.toString()==="false"?(n="Using Helix fetcher, debug flag is disabled.",r=this.helixFetcher):(n="Editor fetcher capability available, will fallback if needed.",r=this.fallbackFetcher)}this.currentFetcher!=r&&($He.debug(this.ctx,n),this.currentFetcher=r)}get name(){return this.currentFetcher.name}set proxySettings(r){this.helixFetcher.proxySettings=r}get proxySettings(){return this.helixFetcher.proxySettings}set rejectUnauthorized(r){super.rejectUnauthorized=r,this.helixFetcher.rejectUnauthorized=r}get rejectUnauthorized(){return super.rejectUnauthorized}fetch(r,n){return this.currentFetcher.fetch(r,n)}disconnectAll(){return this.currentFetcher.disconnectAll()}makeAbortController(){return this.currentFetcher.makeAbortController()}};d();var n$=class extends va{constructor(r){super();this.ctx=r}static{o(this,"ConnectionNotificationSender")}get connection(){return this.ctx.get(jr).connection}showWarningMessage(r,...n){return this.connection.window.showWarningMessage(r,...n)}};d();d();var zHe=et(require("crypto")),YHe=require("os");var rUt=new Set(["00:00:00:00:00:00","ff:ff:ff:ff:ff:ff","ac:de:48:00:11:22"]);function nUt(e){let t=e.replace(/-/g,":").toLowerCase();return!rUt.has(t)}o(nUt,"validateMacAddress");function iUt(){let e=(0,YHe.networkInterfaces)();for(let t in e){let r=e[t];if(r){for(let{mac:n}of r)if(nUt(n))return n}}throw new Error("Unable to retrieve mac address (unexpected format)")}o(iUt,"getMac");var Ofe;function oUt(){try{let e=iUt();return zHe.createHash("sha256").update(e,"utf8").digest("hex")}catch{return}}o(oUt,"getMacMachineId");function KHe(){return Ofe||(Ofe=oUt()||Ir()),Ofe}o(KHe,"getMachineId");var sUt=Ir()+Date.now(),JHe=new _s(sUt,KHe());d();d();var qR=et(require("node:process"),1),gje=require("node:buffer"),Jfe=et(require("node:path"),1),Aje=require("node:url"),yje=et(require("node:child_process"),1),Gv=et(require("node:fs/promises"),1);d();var Hfe=et(require("node:process"),1),eje=et(require("node:os"),1),tje=et(require("node:fs"),1);d();var ZHe=et(require("node:fs"),1);d();var qfe=et(require("node:fs"),1);var Ufe;function aUt(){try{return qfe.default.statSync("/.dockerenv"),!0}catch{return!1}}o(aUt,"hasDockerEnv");function lUt(){try{return qfe.default.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}o(lUt,"hasDockerCGroup");function Wfe(){return Ufe===void 0&&(Ufe=aUt()||lUt()),Ufe}o(Wfe,"isDocker");var Gfe,cUt=o(()=>{try{return ZHe.default.statSync("/run/.containerenv"),!0}catch{return!1}},"hasContainerEnv");function t7(){return Gfe===void 0&&(Gfe=cUt()||Wfe()),Gfe}o(t7,"isInsideContainer");var XHe=o(()=>{if(Hfe.default.platform!=="linux")return!1;if(eje.default.release().toLowerCase().includes("microsoft"))return!t7();try{return tje.default.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!t7():!1}catch{return!1}},"isWsl"),UR=Hfe.default.env.__IS_WSL_TEST__?XHe:XHe();d();function Wv(e,t,r){let n=o(i=>Object.defineProperty(e,t,{value:i,enumerable:!0,writable:!0}),"define");return Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){let i=r();return n(i),i},set(i){n(i)}}),e}o(Wv,"defineLazyProperty");d();var uje=require("node:util"),o$=et(require("node:process"),1),fje=require("node:child_process");d();var rje=require("node:util"),nje=et(require("node:process"),1),ije=require("node:child_process");var uUt=(0,rje.promisify)(ije.execFile);async function jfe(){if(nje.default.platform!=="darwin")throw new Error("macOS only");let{stdout:e}=await uUt("defaults",["read","com.apple.LaunchServices/com.apple.launchservices.secure","LSHandlers"]);return/LSHandlerRoleAll = "(?!-)(?<id>[^"]+?)";\s+?LSHandlerURLScheme = (?:http|https);/.exec(e)?.groups.id??"com.apple.Safari"}o(jfe,"defaultBrowserId");d();d();var oje=et(require("node:process"),1),sje=require("node:util"),Vfe=require("node:child_process");var fUt=(0,sje.promisify)(Vfe.execFile);async function aje(e,{humanReadableOutput:t=!0}={}){if(oje.default.platform!=="darwin")throw new Error("macOS only");let r=t?[]:["-ss"],{stdout:n}=await fUt("osascript",["-e",e,r]);return n.trim()}o(aje,"runAppleScript");async function $fe(e){return aje(`tell application "Finder" to set app_path to application file id "${e}" as string
tell application "System Events" to get value of property list item "CFBundleName" of property list file (app_path & ":Contents:Info.plist")`)}o($fe,"bundleName");d();var lje=require("node:util"),cje=require("node:child_process");var dUt=(0,lje.promisify)(cje.execFile),mUt={AppXq0fevzme2pys62n3e0fbqa7peapykr8v:{name:"Edge",id:"com.microsoft.edge.old"},MSEdgeDHTML:{name:"Edge",id:"com.microsoft.edge"},MSEdgeHTM:{name:"Edge",id:"com.microsoft.edge"},"IE.HTTP":{name:"Internet Explorer",id:"com.microsoft.ie"},FirefoxURL:{name:"Firefox",id:"org.mozilla.firefox"},ChromeHTML:{name:"Chrome",id:"com.google.chrome"},BraveHTML:{name:"Brave",id:"com.brave.Browser"},BraveBHTML:{name:"Brave Beta",id:"com.brave.Browser.beta"},BraveSSHTM:{name:"Brave Nightly",id:"com.brave.Browser.nightly"}},i$=class extends Error{static{o(this,"UnknownBrowserError")}};async function zfe(e=dUt){let{stdout:t}=await e("reg",["QUERY"," HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\Shell\\Associations\\UrlAssociations\\http\\UserChoice","/v","ProgId"]),r=/ProgId\s*REG_SZ\s*(?<id>\S+)/.exec(t);if(!r)throw new i$(`Cannot find Windows browser in stdout: ${JSON.stringify(t)}`);let{id:n}=r.groups,i=mUt[n];if(!i)throw new i$(`Unknown browser ID: ${n}`);return i}o(zfe,"defaultBrowser");var hUt=(0,uje.promisify)(fje.execFile),pUt=o(e=>e.toLowerCase().replaceAll(/(?:^|\s|-)\S/g,t=>t.toUpperCase()),"titleize");async function Yfe(){if(o$.default.platform==="darwin"){let e=await jfe();return{name:await $fe(e),id:e}}if(o$.default.platform==="linux"){let{stdout:e}=await hUt("xdg-mime",["query","default","x-scheme-handler/http"]),t=e.trim();return{name:pUt(t.replace(/.desktop$/,"").replace("-"," ")),id:t}}if(o$.default.platform==="win32")return zfe();throw new Error("Only macOS, Linux, and Windows are supported")}o(Yfe,"defaultBrowser");var Kfe=Jfe.default.dirname((0,Aje.fileURLToPath)(importMetaUrlShim)),dje=Jfe.default.join(Kfe,"xdg-open"),{platform:r7,arch:mje}=qR.default,gUt=(()=>{let e="/mnt/",t;return async function(){if(t)return t;let r="/etc/wsl.conf",n=!1;try{await Gv.default.access(r,Gv.constants.F_OK),n=!0}catch{}if(!n)return e;let i=await Gv.default.readFile(r,{encoding:"utf8"}),s=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(i);return s?(t=s.groups.mountPoint.trim(),t=t.endsWith("/")?t:`${t}/`,t):e}})(),hje=o(async(e,t)=>{let r;for(let n of e)try{return await t(n)}catch(i){r=i}throw r},"pTryEach"),s$=o(async e=>{if(e={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...e},Array.isArray(e.app))return hje(e.app,l=>s$({...e,app:l}));let{name:t,arguments:r=[]}=e.app??{};if(r=[...r],Array.isArray(t))return hje(t,l=>s$({...e,app:{name:l,arguments:r}}));if(t==="browser"||t==="browserPrivate"){let l={"com.google.chrome":"chrome","google-chrome.desktop":"chrome","org.mozilla.firefox":"firefox","firefox.desktop":"firefox","com.microsoft.msedge":"edge","com.microsoft.edge":"edge","com.microsoft.edgemac":"edge","microsoft-edge.desktop":"edge"},c={chrome:"--incognito",firefox:"--private-window",edge:"--inPrivate"},u=await Yfe();if(u.id in l){let f=l[u.id];return t==="browserPrivate"&&r.push(c[f]),s$({...e,app:{name:n7[f],arguments:r}})}throw new Error(`${u.name} is not supported as a default browser`)}let n,i=[],s={};if(r7==="darwin")n="open",e.wait&&i.push("--wait-apps"),e.background&&i.push("--background"),e.newInstance&&i.push("--new"),t&&i.push("-a",t);else if(r7==="win32"||UR&&!t7()&&!t){let l=await gUt();n=UR?`${l}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${qR.default.env.SYSTEMROOT||qR.default.env.windir||"C:\\Windows"}\\System32\\WindowsPowerShell\\v1.0\\powershell`,i.push("-NoProfile","-NonInteractive","-ExecutionPolicy","Bypass","-EncodedCommand"),UR||(s.windowsVerbatimArguments=!0);let c=["Start"];e.wait&&c.push("-Wait"),t?(c.push(`"\`"${t}\`""`),e.target&&r.push(e.target)):e.target&&c.push(`"${e.target}"`),r.length>0&&(r=r.map(u=>`"\`"${u}\`""`),c.push("-ArgumentList",r.join(","))),e.target=gje.Buffer.from(c.join(" "),"utf16le").toString("base64")}else{if(t)n=t;else{let l=!Kfe||Kfe==="/",c=!1;try{await Gv.default.access(dje,Gv.constants.X_OK),c=!0}catch{}n=qR.default.versions.electron??(r7==="android"||l||!c)?"xdg-open":dje}r.length>0&&i.push(...r),e.wait||(s.stdio="ignore",s.detached=!0)}r7==="darwin"&&r.length>0&&i.push("--args",...r),e.target&&i.push(e.target);let a=yje.default.spawn(n,i,s);return e.wait?new Promise((l,c)=>{a.once("error",c),a.once("close",u=>{if(!e.allowNonzeroExitCode&&u>0){c(new Error(`Exited with code ${u}`));return}l(a)})}):(a.unref(),a)},"baseOpen"),AUt=o((e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `target`");return s$({...t,target:e})},"open");function pje(e){if(typeof e=="string"||Array.isArray(e))return e;let{[mje]:t}=e;if(!t)throw new Error(`${mje} is not supported`);return t}o(pje,"detectArchBinary");function Zfe({[r7]:e},{wsl:t}){if(t&&UR)return pje(t);if(!e)throw new Error(`${r7} is not supported`);return pje(e)}o(Zfe,"detectPlatformBinary");var n7={};Wv(n7,"chrome",()=>Zfe({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}));Wv(n7,"firefox",()=>Zfe({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}));Wv(n7,"edge",()=>Zfe({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}));Wv(n7,"browser",()=>"browser");Wv(n7,"browserPrivate",()=>"browserPrivate");var a$=AUt;var l$=class extends nc{constructor(r,n=new Xfe){super();this.ctx=r;this.fallback=n}static{o(this,"AgentUrlOpener")}async open(r){let n=this.ctx.get(jr);if(!(n.clientCapabilities?.window?.showDocument?.support&&(await n.connection.window.showDocument({uri:r,external:!0})).success))return this.fallback.open(r)}},Xfe=class extends nc{static{o(this,"SpawnUrlOpener")}async open(t){await a$(t)}};d();d();var c$=class extends zG{static{o(this,"AgentWorkspaceWatcher")}async getWatchedFiles(){return(await this.ctx.get(Dh).getWatchedFiles({workspaceUri:this.workspaceFolder.uri,workspaceFolder:this.workspaceFolder,excludeGitignoredFiles:!0,excludeIDEIgnoredFiles:!0})).watchedFiles}startWatching(){if(this.status==="ready")return;this.ctx.get(Dh).onDidChangeWatchedFiles(this.onDidChangeWatchedFilesHandler.bind(this)),this.status="ready"}stopWatching(){this.status="stopped",this.ctx.get(Dh).offDidChangeWatchedFiles(this.onDidChangeWatchedFilesHandler.bind(this))}onDidChangeWatchedFilesHandler(t){if(t.workspaceFolder.uri!==this.workspaceFolder.uri)return;let n=t.created.filter(a=>!a.isRestricted&&!a.isUnknownFileExtension);if(n.length){let a=n.map(l=>l.document).filter(l=>l!==void 0);this.onFilesCreated(a)}let i=t.changed.filter(a=>!a.isRestricted&&!a.isUnknownFileExtension);if(i.length){let a=i.map(l=>l.document).filter(l=>l!==void 0);this.onFilesUpdated(a)}let s=t.deleted.filter(a=>!a.isRestricted&&!a.isUnknownFileExtension);s.length&&this.onFilesDeleted(s.map(a=>({uri:a.uri})))}};var u$=class extends Wc{static{o(this,"AgentWorkspaceWatcherProvider")}createWatcher(t){return new c$(this.ctx,t)}shouldStartWatching(t){return!!this.ctx.get(Ho).getCapabilities().watchedFiles&&(!this.hasWatcher(t)||this.getStatus(t)==="stopped")}};function Cje(e){let t=new Bf(process.env),r=GDe(t);r.set(Bf,t),r.set(WA,new WA),r.set(Or,new r$(r)),r.set(ka,new ka(r)),Mue(r,{});let n=bLe();r.set(dc,n);let i=new QR(r);r.set(Xr,i),r.set(QR,i);let s=new r_(r,n);r.set(r_,s),r.set(Ln,new Ln(s,i)),r.set(H4,new H4),r.set(_s,JHe),r.set(dn,new pH),r.set(qv,IHe()),r.set(rs,new rs),r.set(Io,VHe),r.set(sx,new qV(r)),r.set(Wc,new u$(r)),r.set(Dh,new Dh(r)),r.set(_l,new _l),r.set(ll,tO(r,Mqe)),YG(r),DLe(r),AEe(r),r.set(jr,new jr(r,e)),r.set(va,new n$(r)),r.set(nc,new l$(r)),r.set(Yi,new e$(r)),r.set(OR,new OR(r));let a=new jC(r);return r.set(Hr,a),r.set(jC,a),r.set(On,new N6(r)),r.set(Qc,new Qc(r)),UHe(r),nPe(r),r.set(_0,new _0),r.set(UC,new UC),r.set(Mh,new Mh),r.set(of,new WV),r.set(Hg,new Hg),r.set(Hp,new c8(r)),r.set(Bh,new Bh(r)),r.set(_A,new _A(r)),r.set(Ja,new Ja(r)),r.set(uc,new JV(r)),r.set(aC,new XV(r)),r.set(gg,new ZV(r)),r.set(v0,new v0(r)),r.set(FA,new FA(r)),r.set(Ih,new Ih(r)),r.set(Tg,new Tg(r)),r}o(Cje,"createLanguageServerContext");d();var ede=require("events"),WR=et(require("fs"));var d$=et(Tl());d();var vje=et(require("fs")),bje=et(require("http")),i7=et(require("path"));var f$=class{constructor(t,r){this.port=t;let n;this.server=bje.createServer((i,s)=>{if(i.headers.accept&&i.headers.accept=="text/event-stream")switch(s.writeHead(200,{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}),i.url){case"/stdin":r.on("read",l=>{xje(s,JSON.stringify(l))});return;case"/stdout":r.on("write",l=>{xje(s,JSON.stringify(l))});return;default:s.writeHead(404),s.end();return}s.writeHead(200,{"Content-Type":"text/html"});let a=__dirname;i7.basename(__dirname)!=="debug"&&(a=i7.dirname(__dirname)),n??=vje.readFileSync(i7.join(a,"dist","debugServer.html")).toString(),s.write(n),s.end()}),this.server.on("error",i=>{console.error(i)})}static{o(this,"DebugServer")}listen(){return this.server.listen(this.port),this}getPort(){return this.server.address().port}};function xje(e,t){e.write("data: "+t.toString().replace(/\n/g,`
data: `)+`

`)}o(xje,"writeData");var tde=class extends d$.AbstractMessageWriter{constructor(r,n){super();this.delegate=r;this.ev=n}static{o(this,"DebugMessageWriter")}async write(r){return this.ev.emit("write",r),this.delegate.write(r)}end(){this.ev.emit("end"),this.delegate.end()}},rde=class extends d$.AbstractMessageReader{constructor(r,n){super();this.delegate=r;this.ev=n}static{o(this,"DebugMessageReader")}listen(r){return this.delegate.listen(n=>{this.ev.emit("read",n),r(n)})}};async function Eje(e,t,r){let n,i=parseInt(e.GH_COPILOT_DEBUG_UI_PORT??e.GITHUB_COPILOT_DEBUG_UI_PORT);if(!isNaN(i)){n??=new ede.EventEmitter;let l=new f$(i,n).listen();i===0&&await a$(`http://localhost:${l.getPort()}`)}let s=e.GITHUB_COPILOT_RECORD??"",a;try{let l=Date.now().toString();s==="1"||s==="true"?a=WR.openSync(`stdio${l}.log`,"w"):s&&s!=="0"&&s!=="false"&&(a=WR.openSync(s.replaceAll("%s",l),"w"))}catch(l){console.error(l)}if(a){let l=o(c=>{a&&WR.appendFile(a,c,u=>{u&&(a=void 0,console.error(u))})},"log");n??=new ede.EventEmitter,n.on("read",c=>l(`<-- ${JSON.stringify(c)}
`)),n.on("write",c=>l(`--> ${JSON.stringify(c)}
`))}return n&&(t=new rde(t,n),r=new tde(r,n)),[t,r]}o(Eje,"wrapTransports");async function _je(){let e=Kxe(process.argv.slice(2)).version(new Eo().getDisplayVersion()).strict().option("debug",{type:"boolean",hidden:!0}).option("clientProcessId",{type:"string",hidden:!0}).option("stdio",{type:"boolean",describe:"Use stdio"});"pkg"in process||e.option("node-ipc",{type:"boolean",describe:"Use node IPC",conflicts:"stdio"});let t=await e.parse(),r,n;t["node-ipc"]?(r=new om.IPCMessageReader(process),n=new om.IPCMessageWriter(process)):t.stdio?(r=new om.StreamMessageReader(process.stdin),n=new om.StreamMessageWriter(process.stdout)):(console.error("error: required option '--stdio' not specified"),process.exit(1)),"pkg"in process&&process.platform!=="win32"&&(process.env.TMPDIR=await Ije.mkdtemp(Tje.default.tmpdir()+"/github-copilot-"));let i=(0,om.createConnection)(om.ProposedFeatures.all,...await Eje(process.env,r,n)),s=Cje(i);console=Z3e(s);let a=s.get(jr);r.onClose(()=>a.onExit()),process.on("SIGINT",()=>{a.onExit().finally(()=>process.exit(130)).catch(()=>{})}),process.on("SIGTERM",()=>{a.onExit().finally(()=>process.exit(143)).catch(()=>{})}),a.listen()}o(_je,"main");wje.isMainThread?require.main===module&&_je():K3e()&&J3e();0&&(module.exports={getTokenizer,getTokenizerAsync,main});
//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
/*! Bundled license information:

crypto-js/ripemd160.js:
  (** @preserve
  	(c) 2012 by Cédric Mesnil. All rights reserved.
  
  	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
  
  	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
  	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
  
  	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  	*)

crypto-js/mode-ctr-gladman.js:
  (** @preserve
   * Counter block mode compatible with  Dr Brian Gladman fileenc.c
   * derived from CryptoJS.mode.CTR
   * Jan Hruby jhruby.web@gmail.com
   *)

@microsoft/applicationinsights-common/dist/es5/applicationinsights-common.js:
  (*!
   * Application Insights JavaScript SDK - Common, 3.3.6
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.8 *)

@microsoft/applicationinsights-web-basic/dist/es5/applicationinsights-web-basic.js:
  (*!
   * Application Insights JavaScript Web SDK - Basic, 3.3.6
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.8 *)
  (*!
   * NevWare21 Solutions LLC - ts-async, 0.5.4
   * https://github.com/nevware21/ts-async
   * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.
   * Licensed under the MIT license.
   *)

git-url-parse/lib/index.js:
  (*!
   * buildToken
   * Builds OAuth token prefix (helper function)
   *
   * @name buildToken
   * @function
   * @param {GitUrl} obj The parsed Git url object.
   * @return {String} token prefix
   *)

undici/lib/web/fetch/body.js:
  (*! formdata-polyfill. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> *)

undici/lib/web/websocket/frame.js:
  (*! ws. MIT License. Einar Otto Stangvik <einaros@gmail.com> *)

@vscode/prompt-tsx/dist/base/util/vs/nls.js:
@vscode/prompt-tsx/dist/base/util/vs/common/platform.js:
@vscode/prompt-tsx/dist/base/util/vs/common/process.js:
@vscode/prompt-tsx/dist/base/util/vs/common/path.js:
@vscode/prompt-tsx/dist/base/util/vs/common/uri.js:
  (*!!! DO NOT modify, this file was COPIED from 'microsoft/vscode' *)

yargs-parser/build/lib/string-utils.js:
yargs-parser/build/lib/tokenize-arg-string.js:
yargs-parser/build/lib/yargs-parser-types.js:
yargs-parser/build/lib/yargs-parser.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/index.js:
  (**
   * @fileoverview Main entrypoint for libraries using yargs-parser in Node.js
   * CJS and ESM environments.
   *
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/
//# sourceMappingURL=main.js.map
