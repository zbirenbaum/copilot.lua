"use strict";var hGe=Object.create;var ab=Object.defineProperty;var lfe=Object.getOwnPropertyDescriptor;var pGe=Object.getOwnPropertyNames;var gGe=Object.getPrototypeOf,AGe=Object.prototype.hasOwnProperty;var sfe=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),afe=e=>{throw TypeError(e)};var o=(e,t)=>ab(e,"name",{value:t,configurable:!0});var yGe=(e,t)=>()=>(e&&(t=e(e=0)),t);var V=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Yg=(e,t)=>{for(var r in t)ab(e,r,{get:t[r],enumerable:!0})},cfe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of pGe(t))!AGe.call(e,i)&&i!==r&&ab(e,i,{get:()=>t[i],enumerable:!(n=lfe(t,i))||n.enumerable});return e};var tt=(e,t,r)=>(r=e!=null?hGe(gGe(e)):{},cfe(t||!e||!e.__esModule?ab(r,"default",{value:e,enumerable:!0}):r,e)),CGe=e=>cfe(ab({},"__esModule",{value:!0}),e),Au=(e,t,r,n)=>{for(var i=n>1?void 0:n?lfe(t,r):t,s=e.length-1,a;s>=0;s--)(a=e[s])&&(i=(n?a(t,r,i):a(i))||i);return n&&i&&ab(t,r,i),i},va=(e,t)=>(r,n)=>t(r,n,e);var g$=(e,t,r)=>{if(t!=null){typeof t!="object"&&typeof t!="function"&&afe("Object expected");var n,i;r&&(n=t[sfe("asyncDispose")]),n===void 0&&(n=t[sfe("dispose")],r&&(i=n)),typeof n!="function"&&afe("Object not disposable"),i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),e.push([r,n,t])}else r&&e.push([r]);return t},A$=(e,t,r)=>{var n=typeof SuppressedError=="function"?SuppressedError:function(a,l,c,u){return u=Error(c),u.name="SuppressedError",u.error=a,u.suppressed=l,u},i=a=>t=r?new n(a,t,"An error was suppressed during disposal"):(r=!0,a),s=a=>{for(;a=e.pop();)try{var l=a[1]&&a[1].call(a[2]);if(a[0])return Promise.resolve(l).then(s,c=>(i(c),s()))}catch(c){i(c)}if(r)throw t};return s()};var importMetaUrlShim,d=yGe(()=>{"use strict";importMetaUrlShim=typeof document>"u"?require("node:url").pathToFileURL(__filename).href:importMetaUrlShim});var ffe=V(y$=>{d();var ufe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");y$.encode=function(e){if(0<=e&&e<ufe.length)return ufe[e];throw new TypeError("Must be between 0 and 63: "+e)};y$.decode=function(e){var t=65,r=90,n=97,i=122,s=48,a=57,l=43,c=47,u=26,f=52;return t<=e&&e<=r?e-t:n<=e&&e<=i?e-n+u:s<=e&&e<=a?e-s+f:e==l?62:e==c?63:-1}});var E$=V(x$=>{d();var dfe=ffe(),C$=5,mfe=1<<C$,hfe=mfe-1,pfe=mfe;function xGe(e){return e<0?(-e<<1)+1:(e<<1)+0}o(xGe,"toVLQSigned");function EGe(e){var t=(e&1)===1,r=e>>1;return t?-r:r}o(EGe,"fromVLQSigned");x$.encode=o(function(t){var r="",n,i=xGe(t);do n=i&hfe,i>>>=C$,i>0&&(n|=pfe),r+=dfe.encode(n);while(i>0);return r},"base64VLQ_encode");x$.decode=o(function(t,r,n){var i=t.length,s=0,a=0,l,c;do{if(r>=i)throw new Error("Expected more digits in base 64 VLQ value.");if(c=dfe.decode(t.charCodeAt(r++)),c===-1)throw new Error("Invalid base64 digit: "+t.charAt(r-1));l=!!(c&pfe),c&=hfe,s=s+(c<<a),a+=C$}while(l);n.value=EGe(s),n.rest=r},"base64VLQ_decode")});var ub=V(f0=>{d();function bGe(e,t,r){if(t in e)return e[t];if(arguments.length===3)return r;throw new Error('"'+t+'" is a required argument.')}o(bGe,"getArg");f0.getArg=bGe;var gfe=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,vGe=/^data:.+\,.+$/;function b7(e){var t=e.match(gfe);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}o(b7,"urlParse");f0.urlParse=b7;function lb(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}o(lb,"urlGenerate");f0.urlGenerate=lb;function b$(e){var t=e,r=b7(e);if(r){if(!r.path)return e;t=r.path}for(var n=f0.isAbsolute(t),i=t.split(/\/+/),s,a=0,l=i.length-1;l>=0;l--)s=i[l],s==="."?i.splice(l,1):s===".."?a++:a>0&&(s===""?(i.splice(l+1,a),a=0):(i.splice(l,2),a--));return t=i.join("/"),t===""&&(t=n?"/":"."),r?(r.path=t,lb(r)):t}o(b$,"normalize");f0.normalize=b$;function Afe(e,t){e===""&&(e="."),t===""&&(t=".");var r=b7(t),n=b7(e);if(n&&(e=n.path||"/"),r&&!r.scheme)return n&&(r.scheme=n.scheme),lb(r);if(r||t.match(vGe))return t;if(n&&!n.host&&!n.path)return n.host=t,lb(n);var i=t.charAt(0)==="/"?t:b$(e.replace(/\/+$/,"")+"/"+t);return n?(n.path=i,lb(n)):i}o(Afe,"join");f0.join=Afe;f0.isAbsolute=function(e){return e.charAt(0)==="/"||gfe.test(e)};function IGe(e,t){e===""&&(e="."),e=e.replace(/\/$/,"");for(var r=0;t.indexOf(e+"/")!==0;){var n=e.lastIndexOf("/");if(n<0||(e=e.slice(0,n),e.match(/^([^\/]+:\/)?\/*$/)))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)}o(IGe,"relative");f0.relative=IGe;var yfe=function(){var e=Object.create(null);return!("__proto__"in e)}();function Cfe(e){return e}o(Cfe,"identity");function TGe(e){return xfe(e)?"$"+e:e}o(TGe,"toSetString");f0.toSetString=yfe?Cfe:TGe;function wGe(e){return xfe(e)?e.slice(1):e}o(wGe,"fromSetString");f0.fromSetString=yfe?Cfe:wGe;function xfe(e){if(!e)return!1;var t=e.length;if(t<9||e.charCodeAt(t-1)!==95||e.charCodeAt(t-2)!==95||e.charCodeAt(t-3)!==111||e.charCodeAt(t-4)!==116||e.charCodeAt(t-5)!==111||e.charCodeAt(t-6)!==114||e.charCodeAt(t-7)!==112||e.charCodeAt(t-8)!==95||e.charCodeAt(t-9)!==95)return!1;for(var r=t-10;r>=0;r--)if(e.charCodeAt(r)!==36)return!1;return!0}o(xfe,"isProtoString");function SGe(e,t,r){var n=cb(e.source,t.source);return n!==0||(n=e.originalLine-t.originalLine,n!==0)||(n=e.originalColumn-t.originalColumn,n!==0||r)||(n=e.generatedColumn-t.generatedColumn,n!==0)||(n=e.generatedLine-t.generatedLine,n!==0)?n:cb(e.name,t.name)}o(SGe,"compareByOriginalPositions");f0.compareByOriginalPositions=SGe;function _Ge(e,t,r){var n=e.generatedLine-t.generatedLine;return n!==0||(n=e.generatedColumn-t.generatedColumn,n!==0||r)||(n=cb(e.source,t.source),n!==0)||(n=e.originalLine-t.originalLine,n!==0)||(n=e.originalColumn-t.originalColumn,n!==0)?n:cb(e.name,t.name)}o(_Ge,"compareByGeneratedPositionsDeflated");f0.compareByGeneratedPositionsDeflated=_Ge;function cb(e,t){return e===t?0:e===null?1:t===null?-1:e>t?1:-1}o(cb,"strcmp");function kGe(e,t){var r=e.generatedLine-t.generatedLine;return r!==0||(r=e.generatedColumn-t.generatedColumn,r!==0)||(r=cb(e.source,t.source),r!==0)||(r=e.originalLine-t.originalLine,r!==0)||(r=e.originalColumn-t.originalColumn,r!==0)?r:cb(e.name,t.name)}o(kGe,"compareByGeneratedPositionsInflated");f0.compareByGeneratedPositionsInflated=kGe;function BGe(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))}o(BGe,"parseSourceMapInput");f0.parseSourceMapInput=BGe;function RGe(e,t,r){if(t=t||"",e&&(e[e.length-1]!=="/"&&t[0]!=="/"&&(e+="/"),t=e+t),r){var n=b7(r);if(!n)throw new Error("sourceMapURL could not be parsed");if(n.path){var i=n.path.lastIndexOf("/");i>=0&&(n.path=n.path.substring(0,i+1))}t=Afe(lb(n),t)}return b$(t)}o(RGe,"computeSourceURL");f0.computeSourceURL=RGe});var T$=V(Efe=>{d();var v$=ub(),I$=Object.prototype.hasOwnProperty,f3=typeof Map<"u";function Kg(){this._array=[],this._set=f3?new Map:Object.create(null)}o(Kg,"ArraySet");Kg.fromArray=o(function(t,r){for(var n=new Kg,i=0,s=t.length;i<s;i++)n.add(t[i],r);return n},"ArraySet_fromArray");Kg.prototype.size=o(function(){return f3?this._set.size:Object.getOwnPropertyNames(this._set).length},"ArraySet_size");Kg.prototype.add=o(function(t,r){var n=f3?t:v$.toSetString(t),i=f3?this.has(t):I$.call(this._set,n),s=this._array.length;(!i||r)&&this._array.push(t),i||(f3?this._set.set(t,s):this._set[n]=s)},"ArraySet_add");Kg.prototype.has=o(function(t){if(f3)return this._set.has(t);var r=v$.toSetString(t);return I$.call(this._set,r)},"ArraySet_has");Kg.prototype.indexOf=o(function(t){if(f3){var r=this._set.get(t);if(r>=0)return r}else{var n=v$.toSetString(t);if(I$.call(this._set,n))return this._set[n]}throw new Error('"'+t+'" is not in the set.')},"ArraySet_indexOf");Kg.prototype.at=o(function(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)},"ArraySet_at");Kg.prototype.toArray=o(function(){return this._array.slice()},"ArraySet_toArray");Efe.ArraySet=Kg});var Ife=V(vfe=>{d();var bfe=ub();function DGe(e,t){var r=e.generatedLine,n=t.generatedLine,i=e.generatedColumn,s=t.generatedColumn;return n>r||n==r&&s>=i||bfe.compareByGeneratedPositionsInflated(e,t)<=0}o(DGe,"generatedPositionAfter");function aR(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}o(aR,"MappingList");aR.prototype.unsortedForEach=o(function(t,r){this._array.forEach(t,r)},"MappingList_forEach");aR.prototype.add=o(function(t){DGe(this._last,t)?(this._last=t,this._array.push(t)):(this._sorted=!1,this._array.push(t))},"MappingList_add");aR.prototype.toArray=o(function(){return this._sorted||(this._array.sort(bfe.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},"MappingList_toArray");vfe.MappingList=aR});var w$=V(Tfe=>{d();var v7=E$(),Ia=ub(),lR=T$().ArraySet,PGe=Ife().MappingList;function Ff(e){e||(e={}),this._file=Ia.getArg(e,"file",null),this._sourceRoot=Ia.getArg(e,"sourceRoot",null),this._skipValidation=Ia.getArg(e,"skipValidation",!1),this._sources=new lR,this._names=new lR,this._mappings=new PGe,this._sourcesContents=null}o(Ff,"SourceMapGenerator");Ff.prototype._version=3;Ff.fromSourceMap=o(function(t){var r=t.sourceRoot,n=new Ff({file:t.file,sourceRoot:r});return t.eachMapping(function(i){var s={generated:{line:i.generatedLine,column:i.generatedColumn}};i.source!=null&&(s.source=i.source,r!=null&&(s.source=Ia.relative(r,s.source)),s.original={line:i.originalLine,column:i.originalColumn},i.name!=null&&(s.name=i.name)),n.addMapping(s)}),t.sources.forEach(function(i){var s=i;r!==null&&(s=Ia.relative(r,i)),n._sources.has(s)||n._sources.add(s);var a=t.sourceContentFor(i);a!=null&&n.setSourceContent(i,a)}),n},"SourceMapGenerator_fromSourceMap");Ff.prototype.addMapping=o(function(t){var r=Ia.getArg(t,"generated"),n=Ia.getArg(t,"original",null),i=Ia.getArg(t,"source",null),s=Ia.getArg(t,"name",null);this._skipValidation||this._validateMapping(r,n,i,s),i!=null&&(i=String(i),this._sources.has(i)||this._sources.add(i)),s!=null&&(s=String(s),this._names.has(s)||this._names.add(s)),this._mappings.add({generatedLine:r.line,generatedColumn:r.column,originalLine:n!=null&&n.line,originalColumn:n!=null&&n.column,source:i,name:s})},"SourceMapGenerator_addMapping");Ff.prototype.setSourceContent=o(function(t,r){var n=t;this._sourceRoot!=null&&(n=Ia.relative(this._sourceRoot,n)),r!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[Ia.toSetString(n)]=r):this._sourcesContents&&(delete this._sourcesContents[Ia.toSetString(n)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},"SourceMapGenerator_setSourceContent");Ff.prototype.applySourceMap=o(function(t,r,n){var i=r;if(r==null){if(t.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);i=t.file}var s=this._sourceRoot;s!=null&&(i=Ia.relative(s,i));var a=new lR,l=new lR;this._mappings.unsortedForEach(function(c){if(c.source===i&&c.originalLine!=null){var u=t.originalPositionFor({line:c.originalLine,column:c.originalColumn});u.source!=null&&(c.source=u.source,n!=null&&(c.source=Ia.join(n,c.source)),s!=null&&(c.source=Ia.relative(s,c.source)),c.originalLine=u.line,c.originalColumn=u.column,u.name!=null&&(c.name=u.name))}var f=c.source;f!=null&&!a.has(f)&&a.add(f);var m=c.name;m!=null&&!l.has(m)&&l.add(m)},this),this._sources=a,this._names=l,t.sources.forEach(function(c){var u=t.sourceContentFor(c);u!=null&&(n!=null&&(c=Ia.join(n,c)),s!=null&&(c=Ia.relative(s,c)),this.setSourceContent(c,u))},this)},"SourceMapGenerator_applySourceMap");Ff.prototype._validateMapping=o(function(t,r,n,i){if(r&&typeof r.line!="number"&&typeof r.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(t&&"line"in t&&"column"in t&&t.line>0&&t.column>=0&&!r&&!n&&!i)){if(t&&"line"in t&&"column"in t&&r&&"line"in r&&"column"in r&&t.line>0&&t.column>=0&&r.line>0&&r.column>=0&&n)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:t,source:n,original:r,name:i}))}},"SourceMapGenerator_validateMapping");Ff.prototype._serializeMappings=o(function(){for(var t=0,r=1,n=0,i=0,s=0,a=0,l="",c,u,f,m,h=this._mappings.toArray(),p=0,A=h.length;p<A;p++){if(u=h[p],c="",u.generatedLine!==r)for(t=0;u.generatedLine!==r;)c+=";",r++;else if(p>0){if(!Ia.compareByGeneratedPositionsInflated(u,h[p-1]))continue;c+=","}c+=v7.encode(u.generatedColumn-t),t=u.generatedColumn,u.source!=null&&(m=this._sources.indexOf(u.source),c+=v7.encode(m-a),a=m,c+=v7.encode(u.originalLine-1-i),i=u.originalLine-1,c+=v7.encode(u.originalColumn-n),n=u.originalColumn,u.name!=null&&(f=this._names.indexOf(u.name),c+=v7.encode(f-s),s=f)),l+=c}return l},"SourceMapGenerator_serializeMappings");Ff.prototype._generateSourcesContent=o(function(t,r){return t.map(function(n){if(!this._sourcesContents)return null;r!=null&&(n=Ia.relative(r,n));var i=Ia.toSetString(n);return Object.prototype.hasOwnProperty.call(this._sourcesContents,i)?this._sourcesContents[i]:null},this)},"SourceMapGenerator_generateSourcesContent");Ff.prototype.toJSON=o(function(){var t={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(t.file=this._file),this._sourceRoot!=null&&(t.sourceRoot=this._sourceRoot),this._sourcesContents&&(t.sourcesContent=this._generateSourcesContent(t.sources,t.sourceRoot)),t},"SourceMapGenerator_toJSON");Ff.prototype.toString=o(function(){return JSON.stringify(this.toJSON())},"SourceMapGenerator_toString");Tfe.SourceMapGenerator=Ff});var wfe=V(d3=>{d();d3.GREATEST_LOWER_BOUND=1;d3.LEAST_UPPER_BOUND=2;function S$(e,t,r,n,i,s){var a=Math.floor((t-e)/2)+e,l=i(r,n[a],!0);return l===0?a:l>0?t-a>1?S$(a,t,r,n,i,s):s==d3.LEAST_UPPER_BOUND?t<n.length?t:-1:a:a-e>1?S$(e,a,r,n,i,s):s==d3.LEAST_UPPER_BOUND?a:e<0?-1:e}o(S$,"recursiveSearch");d3.search=o(function(t,r,n,i){if(r.length===0)return-1;var s=S$(-1,r.length,t,r,n,i||d3.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&n(r[s],r[s-1],!0)===0;)--s;return s},"search")});var _fe=V(Sfe=>{d();function _$(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}o(_$,"swap");function FGe(e,t){return Math.round(e+Math.random()*(t-e))}o(FGe,"randomIntInRange");function k$(e,t,r,n){if(r<n){var i=FGe(r,n),s=r-1;_$(e,i,n);for(var a=e[n],l=r;l<n;l++)t(e[l],a)<=0&&(s+=1,_$(e,s,l));_$(e,s+1,l);var c=s+1;k$(e,t,r,c-1),k$(e,t,c+1,n)}}o(k$,"doQuickSort");Sfe.quickSort=function(e,t){k$(e,t,0,e.length-1)}});var Bfe=V(cR=>{d();var Pr=ub(),B$=wfe(),fb=T$().ArraySet,NGe=E$(),I7=_fe().quickSort;function Vo(e,t){var r=e;return typeof e=="string"&&(r=Pr.parseSourceMapInput(e)),r.sections!=null?new cm(r,t):new Ll(r,t)}o(Vo,"SourceMapConsumer");Vo.fromSourceMap=function(e,t){return Ll.fromSourceMap(e,t)};Vo.prototype._version=3;Vo.prototype.__generatedMappings=null;Object.defineProperty(Vo.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:o(function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings},"get")});Vo.prototype.__originalMappings=null;Object.defineProperty(Vo.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:o(function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings},"get")});Vo.prototype._charIsMappingSeparator=o(function(t,r){var n=t.charAt(r);return n===";"||n===","},"SourceMapConsumer_charIsMappingSeparator");Vo.prototype._parseMappings=o(function(t,r){throw new Error("Subclasses must implement _parseMappings")},"SourceMapConsumer_parseMappings");Vo.GENERATED_ORDER=1;Vo.ORIGINAL_ORDER=2;Vo.GREATEST_LOWER_BOUND=1;Vo.LEAST_UPPER_BOUND=2;Vo.prototype.eachMapping=o(function(t,r,n){var i=r||null,s=n||Vo.GENERATED_ORDER,a;switch(s){case Vo.GENERATED_ORDER:a=this._generatedMappings;break;case Vo.ORIGINAL_ORDER:a=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var l=this.sourceRoot;a.map(function(c){var u=c.source===null?null:this._sources.at(c.source);return u=Pr.computeSourceURL(l,u,this._sourceMapURL),{source:u,generatedLine:c.generatedLine,generatedColumn:c.generatedColumn,originalLine:c.originalLine,originalColumn:c.originalColumn,name:c.name===null?null:this._names.at(c.name)}},this).forEach(t,i)},"SourceMapConsumer_eachMapping");Vo.prototype.allGeneratedPositionsFor=o(function(t){var r=Pr.getArg(t,"line"),n={source:Pr.getArg(t,"source"),originalLine:r,originalColumn:Pr.getArg(t,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var i=[],s=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",Pr.compareByOriginalPositions,B$.LEAST_UPPER_BOUND);if(s>=0){var a=this._originalMappings[s];if(t.column===void 0)for(var l=a.originalLine;a&&a.originalLine===l;)i.push({line:Pr.getArg(a,"generatedLine",null),column:Pr.getArg(a,"generatedColumn",null),lastColumn:Pr.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s];else for(var c=a.originalColumn;a&&a.originalLine===r&&a.originalColumn==c;)i.push({line:Pr.getArg(a,"generatedLine",null),column:Pr.getArg(a,"generatedColumn",null),lastColumn:Pr.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s]}return i},"SourceMapConsumer_allGeneratedPositionsFor");cR.SourceMapConsumer=Vo;function Ll(e,t){var r=e;typeof e=="string"&&(r=Pr.parseSourceMapInput(e));var n=Pr.getArg(r,"version"),i=Pr.getArg(r,"sources"),s=Pr.getArg(r,"names",[]),a=Pr.getArg(r,"sourceRoot",null),l=Pr.getArg(r,"sourcesContent",null),c=Pr.getArg(r,"mappings"),u=Pr.getArg(r,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);a&&(a=Pr.normalize(a)),i=i.map(String).map(Pr.normalize).map(function(f){return a&&Pr.isAbsolute(a)&&Pr.isAbsolute(f)?Pr.relative(a,f):f}),this._names=fb.fromArray(s.map(String),!0),this._sources=fb.fromArray(i,!0),this._absoluteSources=this._sources.toArray().map(function(f){return Pr.computeSourceURL(a,f,t)}),this.sourceRoot=a,this.sourcesContent=l,this._mappings=c,this._sourceMapURL=t,this.file=u}o(Ll,"BasicSourceMapConsumer");Ll.prototype=Object.create(Vo.prototype);Ll.prototype.consumer=Vo;Ll.prototype._findSourceIndex=function(e){var t=e;if(this.sourceRoot!=null&&(t=Pr.relative(this.sourceRoot,t)),this._sources.has(t))return this._sources.indexOf(t);var r;for(r=0;r<this._absoluteSources.length;++r)if(this._absoluteSources[r]==e)return r;return-1};Ll.fromSourceMap=o(function(t,r){var n=Object.create(Ll.prototype),i=n._names=fb.fromArray(t._names.toArray(),!0),s=n._sources=fb.fromArray(t._sources.toArray(),!0);n.sourceRoot=t._sourceRoot,n.sourcesContent=t._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=t._file,n._sourceMapURL=r,n._absoluteSources=n._sources.toArray().map(function(p){return Pr.computeSourceURL(n.sourceRoot,p,r)});for(var a=t._mappings.toArray().slice(),l=n.__generatedMappings=[],c=n.__originalMappings=[],u=0,f=a.length;u<f;u++){var m=a[u],h=new kfe;h.generatedLine=m.generatedLine,h.generatedColumn=m.generatedColumn,m.source&&(h.source=s.indexOf(m.source),h.originalLine=m.originalLine,h.originalColumn=m.originalColumn,m.name&&(h.name=i.indexOf(m.name)),c.push(h)),l.push(h)}return I7(n.__originalMappings,Pr.compareByOriginalPositions),n},"SourceMapConsumer_fromSourceMap");Ll.prototype._version=3;Object.defineProperty(Ll.prototype,"sources",{get:o(function(){return this._absoluteSources.slice()},"get")});function kfe(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}o(kfe,"Mapping");Ll.prototype._parseMappings=o(function(t,r){for(var n=1,i=0,s=0,a=0,l=0,c=0,u=t.length,f=0,m={},h={},p=[],A=[],x,E,v,b,S;f<u;)if(t.charAt(f)===";")n++,f++,i=0;else if(t.charAt(f)===",")f++;else{for(x=new kfe,x.generatedLine=n,b=f;b<u&&!this._charIsMappingSeparator(t,b);b++);if(E=t.slice(f,b),v=m[E],v)f+=E.length;else{for(v=[];f<b;)NGe.decode(t,f,h),S=h.value,f=h.rest,v.push(S);if(v.length===2)throw new Error("Found a source, but no line and column");if(v.length===3)throw new Error("Found a source and line, but no column");m[E]=v}x.generatedColumn=i+v[0],i=x.generatedColumn,v.length>1&&(x.source=l+v[1],l+=v[1],x.originalLine=s+v[2],s=x.originalLine,x.originalLine+=1,x.originalColumn=a+v[3],a=x.originalColumn,v.length>4&&(x.name=c+v[4],c+=v[4])),A.push(x),typeof x.originalLine=="number"&&p.push(x)}I7(A,Pr.compareByGeneratedPositionsDeflated),this.__generatedMappings=A,I7(p,Pr.compareByOriginalPositions),this.__originalMappings=p},"SourceMapConsumer_parseMappings");Ll.prototype._findMapping=o(function(t,r,n,i,s,a){if(t[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+t[n]);if(t[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+t[i]);return B$.search(t,r,s,a)},"SourceMapConsumer_findMapping");Ll.prototype.computeColumnSpans=o(function(){for(var t=0;t<this._generatedMappings.length;++t){var r=this._generatedMappings[t];if(t+1<this._generatedMappings.length){var n=this._generatedMappings[t+1];if(r.generatedLine===n.generatedLine){r.lastGeneratedColumn=n.generatedColumn-1;continue}}r.lastGeneratedColumn=1/0}},"SourceMapConsumer_computeColumnSpans");Ll.prototype.originalPositionFor=o(function(t){var r={generatedLine:Pr.getArg(t,"line"),generatedColumn:Pr.getArg(t,"column")},n=this._findMapping(r,this._generatedMappings,"generatedLine","generatedColumn",Pr.compareByGeneratedPositionsDeflated,Pr.getArg(t,"bias",Vo.GREATEST_LOWER_BOUND));if(n>=0){var i=this._generatedMappings[n];if(i.generatedLine===r.generatedLine){var s=Pr.getArg(i,"source",null);s!==null&&(s=this._sources.at(s),s=Pr.computeSourceURL(this.sourceRoot,s,this._sourceMapURL));var a=Pr.getArg(i,"name",null);return a!==null&&(a=this._names.at(a)),{source:s,line:Pr.getArg(i,"originalLine",null),column:Pr.getArg(i,"originalColumn",null),name:a}}}return{source:null,line:null,column:null,name:null}},"SourceMapConsumer_originalPositionFor");Ll.prototype.hasContentsOfAllSources=o(function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(t){return t==null}):!1},"BasicSourceMapConsumer_hasContentsOfAllSources");Ll.prototype.sourceContentFor=o(function(t,r){if(!this.sourcesContent)return null;var n=this._findSourceIndex(t);if(n>=0)return this.sourcesContent[n];var i=t;this.sourceRoot!=null&&(i=Pr.relative(this.sourceRoot,i));var s;if(this.sourceRoot!=null&&(s=Pr.urlParse(this.sourceRoot))){var a=i.replace(/^file:\/\//,"");if(s.scheme=="file"&&this._sources.has(a))return this.sourcesContent[this._sources.indexOf(a)];if((!s.path||s.path=="/")&&this._sources.has("/"+i))return this.sourcesContent[this._sources.indexOf("/"+i)]}if(r)return null;throw new Error('"'+i+'" is not in the SourceMap.')},"SourceMapConsumer_sourceContentFor");Ll.prototype.generatedPositionFor=o(function(t){var r=Pr.getArg(t,"source");if(r=this._findSourceIndex(r),r<0)return{line:null,column:null,lastColumn:null};var n={source:r,originalLine:Pr.getArg(t,"line"),originalColumn:Pr.getArg(t,"column")},i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",Pr.compareByOriginalPositions,Pr.getArg(t,"bias",Vo.GREATEST_LOWER_BOUND));if(i>=0){var s=this._originalMappings[i];if(s.source===n.source)return{line:Pr.getArg(s,"generatedLine",null),column:Pr.getArg(s,"generatedColumn",null),lastColumn:Pr.getArg(s,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},"SourceMapConsumer_generatedPositionFor");cR.BasicSourceMapConsumer=Ll;function cm(e,t){var r=e;typeof e=="string"&&(r=Pr.parseSourceMapInput(e));var n=Pr.getArg(r,"version"),i=Pr.getArg(r,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new fb,this._names=new fb;var s={line:-1,column:0};this._sections=i.map(function(a){if(a.url)throw new Error("Support for url field in sections not implemented.");var l=Pr.getArg(a,"offset"),c=Pr.getArg(l,"line"),u=Pr.getArg(l,"column");if(c<s.line||c===s.line&&u<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");return s=l,{generatedOffset:{generatedLine:c+1,generatedColumn:u+1},consumer:new Vo(Pr.getArg(a,"map"),t)}})}o(cm,"IndexedSourceMapConsumer");cm.prototype=Object.create(Vo.prototype);cm.prototype.constructor=Vo;cm.prototype._version=3;Object.defineProperty(cm.prototype,"sources",{get:o(function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e},"get")});cm.prototype.originalPositionFor=o(function(t){var r={generatedLine:Pr.getArg(t,"line"),generatedColumn:Pr.getArg(t,"column")},n=B$.search(r,this._sections,function(s,a){var l=s.generatedLine-a.generatedOffset.generatedLine;return l||s.generatedColumn-a.generatedOffset.generatedColumn}),i=this._sections[n];return i?i.consumer.originalPositionFor({line:r.generatedLine-(i.generatedOffset.generatedLine-1),column:r.generatedColumn-(i.generatedOffset.generatedLine===r.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:t.bias}):{source:null,line:null,column:null,name:null}},"IndexedSourceMapConsumer_originalPositionFor");cm.prototype.hasContentsOfAllSources=o(function(){return this._sections.every(function(t){return t.consumer.hasContentsOfAllSources()})},"IndexedSourceMapConsumer_hasContentsOfAllSources");cm.prototype.sourceContentFor=o(function(t,r){for(var n=0;n<this._sections.length;n++){var i=this._sections[n],s=i.consumer.sourceContentFor(t,!0);if(s)return s}if(r)return null;throw new Error('"'+t+'" is not in the SourceMap.')},"IndexedSourceMapConsumer_sourceContentFor");cm.prototype.generatedPositionFor=o(function(t){for(var r=0;r<this._sections.length;r++){var n=this._sections[r];if(n.consumer._findSourceIndex(Pr.getArg(t,"source"))!==-1){var i=n.consumer.generatedPositionFor(t);if(i){var s={line:i.line+(n.generatedOffset.generatedLine-1),column:i.column+(n.generatedOffset.generatedLine===i.line?n.generatedOffset.generatedColumn-1:0)};return s}}}return{line:null,column:null}},"IndexedSourceMapConsumer_generatedPositionFor");cm.prototype._parseMappings=o(function(t,r){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var i=this._sections[n],s=i.consumer._generatedMappings,a=0;a<s.length;a++){var l=s[a],c=i.consumer._sources.at(l.source);c=Pr.computeSourceURL(i.consumer.sourceRoot,c,this._sourceMapURL),this._sources.add(c),c=this._sources.indexOf(c);var u=null;l.name&&(u=i.consumer._names.at(l.name),this._names.add(u),u=this._names.indexOf(u));var f={source:c,generatedLine:l.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:l.generatedColumn+(i.generatedOffset.generatedLine===l.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:l.originalLine,originalColumn:l.originalColumn,name:u};this.__generatedMappings.push(f),typeof f.originalLine=="number"&&this.__originalMappings.push(f)}I7(this.__generatedMappings,Pr.compareByGeneratedPositionsDeflated),I7(this.__originalMappings,Pr.compareByOriginalPositions)},"IndexedSourceMapConsumer_parseMappings");cR.IndexedSourceMapConsumer=cm});var Dfe=V(Rfe=>{d();var LGe=w$().SourceMapGenerator,uR=ub(),QGe=/(\r?\n)/,MGe=10,db="$$$isSourceNode$$$";function yu(e,t,r,n,i){this.children=[],this.sourceContents={},this.line=e??null,this.column=t??null,this.source=r??null,this.name=i??null,this[db]=!0,n!=null&&this.add(n)}o(yu,"SourceNode");yu.fromStringWithSourceMap=o(function(t,r,n){var i=new yu,s=t.split(QGe),a=0,l=o(function(){var h=A(),p=A()||"";return h+p;function A(){return a<s.length?s[a++]:void 0}},"shiftNextLine"),c=1,u=0,f=null;return r.eachMapping(function(h){if(f!==null)if(c<h.generatedLine)m(f,l()),c++,u=0;else{var p=s[a]||"",A=p.substr(0,h.generatedColumn-u);s[a]=p.substr(h.generatedColumn-u),u=h.generatedColumn,m(f,A),f=h;return}for(;c<h.generatedLine;)i.add(l()),c++;if(u<h.generatedColumn){var p=s[a]||"";i.add(p.substr(0,h.generatedColumn)),s[a]=p.substr(h.generatedColumn),u=h.generatedColumn}f=h},this),a<s.length&&(f&&m(f,l()),i.add(s.splice(a).join(""))),r.sources.forEach(function(h){var p=r.sourceContentFor(h);p!=null&&(n!=null&&(h=uR.join(n,h)),i.setSourceContent(h,p))}),i;function m(h,p){if(h===null||h.source===void 0)i.add(p);else{var A=n?uR.join(n,h.source):h.source;i.add(new yu(h.originalLine,h.originalColumn,A,p,h.name))}}o(m,"addMappingWithCode")},"SourceNode_fromStringWithSourceMap");yu.prototype.add=o(function(t){if(Array.isArray(t))t.forEach(function(r){this.add(r)},this);else if(t[db]||typeof t=="string")t&&this.children.push(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_add");yu.prototype.prepend=o(function(t){if(Array.isArray(t))for(var r=t.length-1;r>=0;r--)this.prepend(t[r]);else if(t[db]||typeof t=="string")this.children.unshift(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_prepend");yu.prototype.walk=o(function(t){for(var r,n=0,i=this.children.length;n<i;n++)r=this.children[n],r[db]?r.walk(t):r!==""&&t(r,{source:this.source,line:this.line,column:this.column,name:this.name})},"SourceNode_walk");yu.prototype.join=o(function(t){var r,n,i=this.children.length;if(i>0){for(r=[],n=0;n<i-1;n++)r.push(this.children[n]),r.push(t);r.push(this.children[n]),this.children=r}return this},"SourceNode_join");yu.prototype.replaceRight=o(function(t,r){var n=this.children[this.children.length-1];return n[db]?n.replaceRight(t,r):typeof n=="string"?this.children[this.children.length-1]=n.replace(t,r):this.children.push("".replace(t,r)),this},"SourceNode_replaceRight");yu.prototype.setSourceContent=o(function(t,r){this.sourceContents[uR.toSetString(t)]=r},"SourceNode_setSourceContent");yu.prototype.walkSourceContents=o(function(t){for(var r=0,n=this.children.length;r<n;r++)this.children[r][db]&&this.children[r].walkSourceContents(t);for(var i=Object.keys(this.sourceContents),r=0,n=i.length;r<n;r++)t(uR.fromSetString(i[r]),this.sourceContents[i[r]])},"SourceNode_walkSourceContents");yu.prototype.toString=o(function(){var t="";return this.walk(function(r){t+=r}),t},"SourceNode_toString");yu.prototype.toStringWithSourceMap=o(function(t){var r={code:"",line:1,column:0},n=new LGe(t),i=!1,s=null,a=null,l=null,c=null;return this.walk(function(u,f){r.code+=u,f.source!==null&&f.line!==null&&f.column!==null?((s!==f.source||a!==f.line||l!==f.column||c!==f.name)&&n.addMapping({source:f.source,original:{line:f.line,column:f.column},generated:{line:r.line,column:r.column},name:f.name}),s=f.source,a=f.line,l=f.column,c=f.name,i=!0):i&&(n.addMapping({generated:{line:r.line,column:r.column}}),s=null,i=!1);for(var m=0,h=u.length;m<h;m++)u.charCodeAt(m)===MGe?(r.line++,r.column=0,m+1===h?(s=null,i=!1):i&&n.addMapping({source:f.source,original:{line:f.line,column:f.column},generated:{line:r.line,column:r.column},name:f.name})):r.column++}),this.walkSourceContents(function(u,f){n.setSourceContent(u,f)}),{code:r.code,map:n}},"SourceNode_toStringWithSourceMap");Rfe.SourceNode=yu});var Pfe=V(fR=>{d();fR.SourceMapGenerator=w$().SourceMapGenerator;fR.SourceMapConsumer=Bfe().SourceMapConsumer;fR.SourceNode=Dfe().SourceNode});var Nfe=V((ZFt,Ffe)=>{d();var OGe=Object.prototype.toString,R$=typeof Buffer<"u"&&typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function UGe(e){return OGe.call(e).slice(8,-1)==="ArrayBuffer"}o(UGe,"isArrayBuffer");function qGe(e,t,r){t>>>=0;var n=e.byteLength-t;if(n<0)throw new RangeError("'offset' is out of bounds");if(r===void 0)r=n;else if(r>>>=0,r>n)throw new RangeError("'length' is out of bounds");return R$?Buffer.from(e.slice(t,t+r)):new Buffer(new Uint8Array(e.slice(t,t+r)))}o(qGe,"fromArrayBuffer");function WGe(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!Buffer.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return R$?Buffer.from(e,t):new Buffer(e,t)}o(WGe,"fromString");function GGe(e,t,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return UGe(e)?qGe(e,t,r):typeof e=="string"?WGe(e,t):R$?Buffer.from(e):new Buffer(e)}o(GGe,"bufferFrom");Ffe.exports=GGe});var Gfe=V((h3,N$)=>{d();var HGe=Pfe().SourceMapConsumer,D$=require("path"),ep;try{ep=require("fs"),(!ep.existsSync||!ep.readFileSync)&&(ep=null)}catch{}var VGe=Nfe();function Lfe(e,t){return e.require(t)}o(Lfe,"dynamicRequire");var Qfe=!1,Mfe=!1,P$=!1,T7="auto",m3={},w7={},jGe=/^data:application\/json[^,]+base64,/,V2=[],j2=[];function L$(){return T7==="browser"?!0:T7==="node"?!1:typeof window<"u"&&typeof XMLHttpRequest=="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}o(L$,"isInBrowser");function $Ge(){return typeof process=="object"&&process!==null&&typeof process.on=="function"}o($Ge,"hasGlobalProcessEventEmitter");function zGe(){return typeof process=="object"&&process!==null?process.version:""}o(zGe,"globalProcessVersion");function YGe(){if(typeof process=="object"&&process!==null)return process.stderr}o(YGe,"globalProcessStderr");function KGe(e){if(typeof process=="object"&&process!==null&&typeof process.exit=="function")return process.exit(e)}o(KGe,"globalProcessExit");function dR(e){return function(t){for(var r=0;r<e.length;r++){var n=e[r](t);if(n)return n}return null}}o(dR,"handlerExec");var Q$=dR(V2);V2.push(function(e){if(e=e.trim(),/^file:/.test(e)&&(e=e.replace(/file:\/\/\/(\w:)?/,function(n,i){return i?"":"/"})),e in m3)return m3[e];var t="";try{if(ep)ep.existsSync(e)&&(t=ep.readFileSync(e,"utf8"));else{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),r.readyState===4&&r.status===200&&(t=r.responseText)}}catch{}return m3[e]=t});function F$(e,t){if(!e)return t;var r=D$.dirname(e),n=/^\w+:\/\/[^\/]*/.exec(r),i=n?n[0]:"",s=r.slice(i.length);return i&&/^\/\w\:/.test(s)?(i+="/",i+D$.resolve(r.slice(i.length),t).replace(/\\/g,"/")):i+D$.resolve(r.slice(i.length),t)}o(F$,"supportRelativeURL");function JGe(e){var t;if(L$())try{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),t=r.readyState===4?r.responseText:null;var n=r.getResponseHeader("SourceMap")||r.getResponseHeader("X-SourceMap");if(n)return n}catch{}t=Q$(e);for(var i=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,s,a;a=i.exec(t);)s=a;return s?s[1]:null}o(JGe,"retrieveSourceMapURL");var M$=dR(j2);j2.push(function(e){var t=JGe(e);if(!t)return null;var r;if(jGe.test(t)){var n=t.slice(t.indexOf(",")+1);r=VGe(n,"base64").toString(),t=e}else t=F$(e,t),r=Q$(t);return r?{url:t,map:r}:null});function O$(e){var t=w7[e.source];if(!t){var r=M$(e.source);r?(t=w7[e.source]={url:r.url,map:new HGe(r.map)},t.map.sourcesContent&&t.map.sources.forEach(function(i,s){var a=t.map.sourcesContent[s];if(a){var l=F$(t.url,i);m3[l]=a}})):t=w7[e.source]={url:null,map:null}}if(t&&t.map&&typeof t.map.originalPositionFor=="function"){var n=t.map.originalPositionFor(e);if(n.source!==null)return n.source=F$(t.url,n.source),n}return e}o(O$,"mapSourcePosition");function Ufe(e){var t=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(e);if(t){var r=O$({source:t[2],line:+t[3],column:t[4]-1});return"eval at "+t[1]+" ("+r.source+":"+r.line+":"+(r.column+1)+")"}return t=/^eval at ([^(]+) \((.+)\)$/.exec(e),t?"eval at "+t[1]+" ("+Ufe(t[2])+")":e}o(Ufe,"mapEvalOrigin");function XGe(){var e,t="";if(this.isNative())t="native";else{e=this.getScriptNameOrSourceURL(),!e&&this.isEval()&&(t=this.getEvalOrigin(),t+=", "),e?t+=e:t+="<anonymous>";var r=this.getLineNumber();if(r!=null){t+=":"+r;var n=this.getColumnNumber();n&&(t+=":"+n)}}var i="",s=this.getFunctionName(),a=!0,l=this.isConstructor(),c=!(this.isToplevel()||l);if(c){var u=this.getTypeName();u==="[object Object]"&&(u="null");var f=this.getMethodName();s?(u&&s.indexOf(u)!=0&&(i+=u+"."),i+=s,f&&s.indexOf("."+f)!=s.length-f.length-1&&(i+=" [as "+f+"]")):i+=u+"."+(f||"<anonymous>")}else l?i+="new "+(s||"<anonymous>"):s?i+=s:(i+=t,a=!1);return a&&(i+=" ("+t+")"),i}o(XGe,"CallSiteToString");function Ofe(e){var t={};return Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(function(r){t[r]=/^(?:is|get)/.test(r)?function(){return e[r].call(e)}:e[r]}),t.toString=XGe,t}o(Ofe,"cloneCallSite");function qfe(e,t){if(t===void 0&&(t={nextPosition:null,curPosition:null}),e.isNative())return t.curPosition=null,e;var r=e.getFileName()||e.getScriptNameOrSourceURL();if(r){var n=e.getLineNumber(),i=e.getColumnNumber()-1,s=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,a=s.test(zGe())?0:62;n===1&&i>a&&!L$()&&!e.isEval()&&(i-=a);var l=O$({source:r,line:n,column:i});t.curPosition=l,e=Ofe(e);var c=e.getFunctionName;return e.getFunctionName=function(){return t.nextPosition==null?c():t.nextPosition.name||c()},e.getFileName=function(){return l.source},e.getLineNumber=function(){return l.line},e.getColumnNumber=function(){return l.column+1},e.getScriptNameOrSourceURL=function(){return l.source},e}var u=e.isEval()&&e.getEvalOrigin();return u&&(u=Ufe(u),e=Ofe(e),e.getEvalOrigin=function(){return u}),e}o(qfe,"wrapCallSite");function ZGe(e,t){P$&&(m3={},w7={});for(var r=e.name||"Error",n=e.message||"",i=r+": "+n,s={nextPosition:null,curPosition:null},a=[],l=t.length-1;l>=0;l--)a.push(`
    at `+qfe(t[l],s)),s.nextPosition=s.curPosition;return s.curPosition=s.nextPosition=null,i+a.reverse().join("")}o(ZGe,"prepareStackTrace");function Wfe(e){var t=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(e.stack);if(t){var r=t[1],n=+t[2],i=+t[3],s=m3[r];if(!s&&ep&&ep.existsSync(r))try{s=ep.readFileSync(r,"utf8")}catch{s=""}if(s){var a=s.split(/(?:\r\n|\r|\n)/)[n-1];if(a)return r+":"+n+`
`+a+`
`+new Array(i).join(" ")+"^"}}return null}o(Wfe,"getErrorSource");function eHe(e){var t=Wfe(e),r=YGe();r&&r._handle&&r._handle.setBlocking&&r._handle.setBlocking(!0),t&&(console.error(),console.error(t)),console.error(e.stack),KGe(1)}o(eHe,"printErrorAndExit");function tHe(){var e=process.emit;process.emit=function(t){if(t==="uncaughtException"){var r=arguments[1]&&arguments[1].stack,n=this.listeners(t).length>0;if(r&&!n)return eHe(arguments[1])}return e.apply(this,arguments)}}o(tHe,"shimEmitUncaughtException");var rHe=V2.slice(0),nHe=j2.slice(0);h3.wrapCallSite=qfe;h3.getErrorSource=Wfe;h3.mapSourcePosition=O$;h3.retrieveSourceMap=M$;h3.install=function(e){if(e=e||{},e.environment&&(T7=e.environment,["node","browser","auto"].indexOf(T7)===-1))throw new Error("environment "+T7+" was unknown. Available options are {auto, browser, node}");if(e.retrieveFile&&(e.overrideRetrieveFile&&(V2.length=0),V2.unshift(e.retrieveFile)),e.retrieveSourceMap&&(e.overrideRetrieveSourceMap&&(j2.length=0),j2.unshift(e.retrieveSourceMap)),e.hookRequire&&!L$()){var t=Lfe(N$,"module"),r=t.prototype._compile;r.__sourceMapSupport||(t.prototype._compile=function(s,a){return m3[a]=s,w7[a]=void 0,r.call(this,s,a)},t.prototype._compile.__sourceMapSupport=!0)}if(P$||(P$="emptyCacheBetweenOperations"in e?e.emptyCacheBetweenOperations:!1),Qfe||(Qfe=!0,Error.prepareStackTrace=ZGe),!Mfe){var n="handleUncaughtExceptions"in e?e.handleUncaughtExceptions:!0;try{var i=Lfe(N$,"worker_threads");i.isMainThread===!1&&(n=!1)}catch{}n&&$Ge()&&(Mfe=!0,tHe())}};h3.resetRetrieveHandlers=function(){V2.length=0,j2.length=0,V2=rHe.slice(0),j2=nHe.slice(0),M$=dR(j2),Q$=dR(V2)}});var U$=V(()=>{d();Gfe().install()});var xi=V((mR,Hfe)=>{d();(function(e,t){typeof mR=="object"?Hfe.exports=mR=t():typeof define=="function"&&define.amd?define([],t):e.CryptoJS=t()})(mR,function(){var e=e||function(t,r){var n;if(typeof window<"u"&&window.crypto&&(n=window.crypto),typeof self<"u"&&self.crypto&&(n=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(n=globalThis.crypto),!n&&typeof window<"u"&&window.msCrypto&&(n=window.msCrypto),!n&&typeof global<"u"&&global.crypto&&(n=global.crypto),!n&&typeof require=="function")try{n=require("crypto")}catch{}var i=o(function(){if(n){if(typeof n.getRandomValues=="function")try{return n.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof n.randomBytes=="function")try{return n.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},"cryptoSecureRandomInt"),s=Object.create||function(){function v(){}return o(v,"F"),function(b){var S;return v.prototype=b,S=new v,v.prototype=null,S}}(),a={},l=a.lib={},c=l.Base=function(){return{extend:o(function(v){var b=s(this);return v&&b.mixIn(v),(!b.hasOwnProperty("init")||this.init===b.init)&&(b.init=function(){b.$super.init.apply(this,arguments)}),b.init.prototype=b,b.$super=this,b},"extend"),create:o(function(){var v=this.extend();return v.init.apply(v,arguments),v},"create"),init:o(function(){},"init"),mixIn:o(function(v){for(var b in v)v.hasOwnProperty(b)&&(this[b]=v[b]);v.hasOwnProperty("toString")&&(this.toString=v.toString)},"mixIn"),clone:o(function(){return this.init.prototype.extend(this)},"clone")}}(),u=l.WordArray=c.extend({init:o(function(v,b){v=this.words=v||[],b!=r?this.sigBytes=b:this.sigBytes=v.length*4},"init"),toString:o(function(v){return(v||m).stringify(this)},"toString"),concat:o(function(v){var b=this.words,S=v.words,B=this.sigBytes,P=v.sigBytes;if(this.clamp(),B%4)for(var F=0;F<P;F++){var q=S[F>>>2]>>>24-F%4*8&255;b[B+F>>>2]|=q<<24-(B+F)%4*8}else for(var ne=0;ne<P;ne+=4)b[B+ne>>>2]=S[ne>>>2];return this.sigBytes+=P,this},"concat"),clamp:o(function(){var v=this.words,b=this.sigBytes;v[b>>>2]&=4294967295<<32-b%4*8,v.length=t.ceil(b/4)},"clamp"),clone:o(function(){var v=c.clone.call(this);return v.words=this.words.slice(0),v},"clone"),random:o(function(v){for(var b=[],S=0;S<v;S+=4)b.push(i());return new u.init(b,v)},"random")}),f=a.enc={},m=f.Hex={stringify:o(function(v){for(var b=v.words,S=v.sigBytes,B=[],P=0;P<S;P++){var F=b[P>>>2]>>>24-P%4*8&255;B.push((F>>>4).toString(16)),B.push((F&15).toString(16))}return B.join("")},"stringify"),parse:o(function(v){for(var b=v.length,S=[],B=0;B<b;B+=2)S[B>>>3]|=parseInt(v.substr(B,2),16)<<24-B%8*4;return new u.init(S,b/2)},"parse")},h=f.Latin1={stringify:o(function(v){for(var b=v.words,S=v.sigBytes,B=[],P=0;P<S;P++){var F=b[P>>>2]>>>24-P%4*8&255;B.push(String.fromCharCode(F))}return B.join("")},"stringify"),parse:o(function(v){for(var b=v.length,S=[],B=0;B<b;B++)S[B>>>2]|=(v.charCodeAt(B)&255)<<24-B%4*8;return new u.init(S,b)},"parse")},p=f.Utf8={stringify:o(function(v){try{return decodeURIComponent(escape(h.stringify(v)))}catch{throw new Error("Malformed UTF-8 data")}},"stringify"),parse:o(function(v){return h.parse(unescape(encodeURIComponent(v)))},"parse")},A=l.BufferedBlockAlgorithm=c.extend({reset:o(function(){this._data=new u.init,this._nDataBytes=0},"reset"),_append:o(function(v){typeof v=="string"&&(v=p.parse(v)),this._data.concat(v),this._nDataBytes+=v.sigBytes},"_append"),_process:o(function(v){var b,S=this._data,B=S.words,P=S.sigBytes,F=this.blockSize,q=F*4,ne=P/q;v?ne=t.ceil(ne):ne=t.max((ne|0)-this._minBufferSize,0);var ce=ne*F,Z=t.min(ce*4,P);if(ce){for(var G=0;G<ce;G+=F)this._doProcessBlock(B,G);b=B.splice(0,ce),S.sigBytes-=Z}return new u.init(b,Z)},"_process"),clone:o(function(){var v=c.clone.call(this);return v._data=this._data.clone(),v},"clone"),_minBufferSize:0}),x=l.Hasher=A.extend({cfg:c.extend(),init:o(function(v){this.cfg=this.cfg.extend(v),this.reset()},"init"),reset:o(function(){A.reset.call(this),this._doReset()},"reset"),update:o(function(v){return this._append(v),this._process(),this},"update"),finalize:o(function(v){v&&this._append(v);var b=this._doFinalize();return b},"finalize"),blockSize:512/32,_createHelper:o(function(v){return function(b,S){return new v.init(S).finalize(b)}},"_createHelper"),_createHmacHelper:o(function(v){return function(b,S){return new E.HMAC.init(v,S).finalize(b)}},"_createHmacHelper")}),E=a.algo={};return a}(Math);return e})});var _7=V((hR,Vfe)=>{d();(function(e,t){typeof hR=="object"?Vfe.exports=hR=t(xi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(hR,function(e){return function(t){var r=e,n=r.lib,i=n.Base,s=n.WordArray,a=r.x64={},l=a.Word=i.extend({init:o(function(u,f){this.high=u,this.low=f},"init")}),c=a.WordArray=i.extend({init:o(function(u,f){u=this.words=u||[],f!=t?this.sigBytes=f:this.sigBytes=u.length*8},"init"),toX32:o(function(){for(var u=this.words,f=u.length,m=[],h=0;h<f;h++){var p=u[h];m.push(p.high),m.push(p.low)}return s.create(m,this.sigBytes)},"toX32"),clone:o(function(){for(var u=i.clone.call(this),f=u.words=this.words.slice(0),m=f.length,h=0;h<m;h++)f[h]=f[h].clone();return u},"clone")})}(),e})});var $fe=V((pR,jfe)=>{d();(function(e,t){typeof pR=="object"?jfe.exports=pR=t(xi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(pR,function(e){return function(){if(typeof ArrayBuffer=="function"){var t=e,r=t.lib,n=r.WordArray,i=n.init,s=n.init=function(a){if(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),(a instanceof Int8Array||typeof Uint8ClampedArray<"u"&&a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array)&&(a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength)),a instanceof Uint8Array){for(var l=a.byteLength,c=[],u=0;u<l;u++)c[u>>>2]|=a[u]<<24-u%4*8;i.call(this,c,l)}else i.apply(this,arguments)};s.prototype=n}}(),e.lib.WordArray})});var Yfe=V((gR,zfe)=>{d();(function(e,t){typeof gR=="object"?zfe.exports=gR=t(xi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(gR,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,s=i.Utf16=i.Utf16BE={stringify:o(function(l){for(var c=l.words,u=l.sigBytes,f=[],m=0;m<u;m+=2){var h=c[m>>>2]>>>16-m%4*8&65535;f.push(String.fromCharCode(h))}return f.join("")},"stringify"),parse:o(function(l){for(var c=l.length,u=[],f=0;f<c;f++)u[f>>>1]|=l.charCodeAt(f)<<16-f%2*16;return n.create(u,c*2)},"parse")};i.Utf16LE={stringify:o(function(l){for(var c=l.words,u=l.sigBytes,f=[],m=0;m<u;m+=2){var h=a(c[m>>>2]>>>16-m%4*8&65535);f.push(String.fromCharCode(h))}return f.join("")},"stringify"),parse:o(function(l){for(var c=l.length,u=[],f=0;f<c;f++)u[f>>>1]|=a(l.charCodeAt(f)<<16-f%2*16);return n.create(u,c*2)},"parse")};function a(l){return l<<8&4278255360|l>>>8&16711935}o(a,"swapEndian")}(),e.enc.Utf16})});var $2=V((AR,Kfe)=>{d();(function(e,t){typeof AR=="object"?Kfe.exports=AR=t(xi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(AR,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,s=i.Base64={stringify:o(function(l){var c=l.words,u=l.sigBytes,f=this._map;l.clamp();for(var m=[],h=0;h<u;h+=3)for(var p=c[h>>>2]>>>24-h%4*8&255,A=c[h+1>>>2]>>>24-(h+1)%4*8&255,x=c[h+2>>>2]>>>24-(h+2)%4*8&255,E=p<<16|A<<8|x,v=0;v<4&&h+v*.75<u;v++)m.push(f.charAt(E>>>6*(3-v)&63));var b=f.charAt(64);if(b)for(;m.length%4;)m.push(b);return m.join("")},"stringify"),parse:o(function(l){var c=l.length,u=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var m=0;m<u.length;m++)f[u.charCodeAt(m)]=m}var h=u.charAt(64);if(h){var p=l.indexOf(h);p!==-1&&(c=p)}return a(l,c,f)},"parse"),_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,c,u){for(var f=[],m=0,h=0;h<c;h++)if(h%4){var p=u[l.charCodeAt(h-1)]<<h%4*2,A=u[l.charCodeAt(h)]>>>6-h%4*2,x=p|A;f[m>>>2]|=x<<24-m%4*8,m++}return n.create(f,m)}o(a,"parseLoop")}(),e.enc.Base64})});var Xfe=V((yR,Jfe)=>{d();(function(e,t){typeof yR=="object"?Jfe.exports=yR=t(xi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(yR,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,s=i.Base64url={stringify:o(function(l,c){c===void 0&&(c=!0);var u=l.words,f=l.sigBytes,m=c?this._safe_map:this._map;l.clamp();for(var h=[],p=0;p<f;p+=3)for(var A=u[p>>>2]>>>24-p%4*8&255,x=u[p+1>>>2]>>>24-(p+1)%4*8&255,E=u[p+2>>>2]>>>24-(p+2)%4*8&255,v=A<<16|x<<8|E,b=0;b<4&&p+b*.75<f;b++)h.push(m.charAt(v>>>6*(3-b)&63));var S=m.charAt(64);if(S)for(;h.length%4;)h.push(S);return h.join("")},"stringify"),parse:o(function(l,c){c===void 0&&(c=!0);var u=l.length,f=c?this._safe_map:this._map,m=this._reverseMap;if(!m){m=this._reverseMap=[];for(var h=0;h<f.length;h++)m[f.charCodeAt(h)]=h}var p=f.charAt(64);if(p){var A=l.indexOf(p);A!==-1&&(u=A)}return a(l,u,m)},"parse"),_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,c,u){for(var f=[],m=0,h=0;h<c;h++)if(h%4){var p=u[l.charCodeAt(h-1)]<<h%4*2,A=u[l.charCodeAt(h)]>>>6-h%4*2,x=p|A;f[m>>>2]|=x<<24-m%4*8,m++}return n.create(f,m)}o(a,"parseLoop")}(),e.enc.Base64url})});var z2=V((CR,Zfe)=>{d();(function(e,t){typeof CR=="object"?Zfe.exports=CR=t(xi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(CR,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.algo,l=[];(function(){for(var p=0;p<64;p++)l[p]=t.abs(t.sin(p+1))*4294967296|0})();var c=a.MD5=s.extend({_doReset:o(function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},"_doReset"),_doProcessBlock:o(function(p,A){for(var x=0;x<16;x++){var E=A+x,v=p[E];p[E]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360}var b=this._hash.words,S=p[A+0],B=p[A+1],P=p[A+2],F=p[A+3],q=p[A+4],ne=p[A+5],ce=p[A+6],Z=p[A+7],G=p[A+8],U=p[A+9],ie=p[A+10],J=p[A+11],H=p[A+12],M=p[A+13],j=p[A+14],X=p[A+15],ae=b[0],re=b[1],le=b[2],de=b[3];ae=u(ae,re,le,de,S,7,l[0]),de=u(de,ae,re,le,B,12,l[1]),le=u(le,de,ae,re,P,17,l[2]),re=u(re,le,de,ae,F,22,l[3]),ae=u(ae,re,le,de,q,7,l[4]),de=u(de,ae,re,le,ne,12,l[5]),le=u(le,de,ae,re,ce,17,l[6]),re=u(re,le,de,ae,Z,22,l[7]),ae=u(ae,re,le,de,G,7,l[8]),de=u(de,ae,re,le,U,12,l[9]),le=u(le,de,ae,re,ie,17,l[10]),re=u(re,le,de,ae,J,22,l[11]),ae=u(ae,re,le,de,H,7,l[12]),de=u(de,ae,re,le,M,12,l[13]),le=u(le,de,ae,re,j,17,l[14]),re=u(re,le,de,ae,X,22,l[15]),ae=f(ae,re,le,de,B,5,l[16]),de=f(de,ae,re,le,ce,9,l[17]),le=f(le,de,ae,re,J,14,l[18]),re=f(re,le,de,ae,S,20,l[19]),ae=f(ae,re,le,de,ne,5,l[20]),de=f(de,ae,re,le,ie,9,l[21]),le=f(le,de,ae,re,X,14,l[22]),re=f(re,le,de,ae,q,20,l[23]),ae=f(ae,re,le,de,U,5,l[24]),de=f(de,ae,re,le,j,9,l[25]),le=f(le,de,ae,re,F,14,l[26]),re=f(re,le,de,ae,G,20,l[27]),ae=f(ae,re,le,de,M,5,l[28]),de=f(de,ae,re,le,P,9,l[29]),le=f(le,de,ae,re,Z,14,l[30]),re=f(re,le,de,ae,H,20,l[31]),ae=m(ae,re,le,de,ne,4,l[32]),de=m(de,ae,re,le,G,11,l[33]),le=m(le,de,ae,re,J,16,l[34]),re=m(re,le,de,ae,j,23,l[35]),ae=m(ae,re,le,de,B,4,l[36]),de=m(de,ae,re,le,q,11,l[37]),le=m(le,de,ae,re,Z,16,l[38]),re=m(re,le,de,ae,ie,23,l[39]),ae=m(ae,re,le,de,M,4,l[40]),de=m(de,ae,re,le,S,11,l[41]),le=m(le,de,ae,re,F,16,l[42]),re=m(re,le,de,ae,ce,23,l[43]),ae=m(ae,re,le,de,U,4,l[44]),de=m(de,ae,re,le,H,11,l[45]),le=m(le,de,ae,re,X,16,l[46]),re=m(re,le,de,ae,P,23,l[47]),ae=h(ae,re,le,de,S,6,l[48]),de=h(de,ae,re,le,Z,10,l[49]),le=h(le,de,ae,re,j,15,l[50]),re=h(re,le,de,ae,ne,21,l[51]),ae=h(ae,re,le,de,H,6,l[52]),de=h(de,ae,re,le,F,10,l[53]),le=h(le,de,ae,re,ie,15,l[54]),re=h(re,le,de,ae,B,21,l[55]),ae=h(ae,re,le,de,G,6,l[56]),de=h(de,ae,re,le,X,10,l[57]),le=h(le,de,ae,re,ce,15,l[58]),re=h(re,le,de,ae,M,21,l[59]),ae=h(ae,re,le,de,q,6,l[60]),de=h(de,ae,re,le,J,10,l[61]),le=h(le,de,ae,re,P,15,l[62]),re=h(re,le,de,ae,U,21,l[63]),b[0]=b[0]+ae|0,b[1]=b[1]+re|0,b[2]=b[2]+le|0,b[3]=b[3]+de|0},"_doProcessBlock"),_doFinalize:o(function(){var p=this._data,A=p.words,x=this._nDataBytes*8,E=p.sigBytes*8;A[E>>>5]|=128<<24-E%32;var v=t.floor(x/4294967296),b=x;A[(E+64>>>9<<4)+15]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,A[(E+64>>>9<<4)+14]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,p.sigBytes=(A.length+1)*4,this._process();for(var S=this._hash,B=S.words,P=0;P<4;P++){var F=B[P];B[P]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360}return S},"_doFinalize"),clone:o(function(){var p=s.clone.call(this);return p._hash=this._hash.clone(),p},"clone")});function u(p,A,x,E,v,b,S){var B=p+(A&x|~A&E)+v+S;return(B<<b|B>>>32-b)+A}o(u,"FF");function f(p,A,x,E,v,b,S){var B=p+(A&E|x&~E)+v+S;return(B<<b|B>>>32-b)+A}o(f,"GG");function m(p,A,x,E,v,b,S){var B=p+(A^x^E)+v+S;return(B<<b|B>>>32-b)+A}o(m,"HH");function h(p,A,x,E,v,b,S){var B=p+(x^(A|~E))+v+S;return(B<<b|B>>>32-b)+A}o(h,"II"),r.MD5=s._createHelper(c),r.HmacMD5=s._createHmacHelper(c)}(Math),e.MD5})});var q$=V((xR,ede)=>{d();(function(e,t){typeof xR=="object"?ede.exports=xR=t(xi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(xR,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=r.Hasher,s=t.algo,a=[],l=s.SHA1=i.extend({_doReset:o(function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},"_doReset"),_doProcessBlock:o(function(c,u){for(var f=this._hash.words,m=f[0],h=f[1],p=f[2],A=f[3],x=f[4],E=0;E<80;E++){if(E<16)a[E]=c[u+E]|0;else{var v=a[E-3]^a[E-8]^a[E-14]^a[E-16];a[E]=v<<1|v>>>31}var b=(m<<5|m>>>27)+x+a[E];E<20?b+=(h&p|~h&A)+1518500249:E<40?b+=(h^p^A)+1859775393:E<60?b+=(h&p|h&A|p&A)-1894007588:b+=(h^p^A)-899497514,x=A,A=p,p=h<<30|h>>>2,h=m,m=b}f[0]=f[0]+m|0,f[1]=f[1]+h|0,f[2]=f[2]+p|0,f[3]=f[3]+A|0,f[4]=f[4]+x|0},"_doProcessBlock"),_doFinalize:o(function(){var c=this._data,u=c.words,f=this._nDataBytes*8,m=c.sigBytes*8;return u[m>>>5]|=128<<24-m%32,u[(m+64>>>9<<4)+14]=Math.floor(f/4294967296),u[(m+64>>>9<<4)+15]=f,c.sigBytes=u.length*4,this._process(),this._hash},"_doFinalize"),clone:o(function(){var c=i.clone.call(this);return c._hash=this._hash.clone(),c},"clone")});t.SHA1=i._createHelper(l),t.HmacSHA1=i._createHmacHelper(l)}(),e.SHA1})});var bR=V((ER,tde)=>{d();(function(e,t){typeof ER=="object"?tde.exports=ER=t(xi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(ER,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.algo,l=[],c=[];(function(){function m(x){for(var E=t.sqrt(x),v=2;v<=E;v++)if(!(x%v))return!1;return!0}o(m,"isPrime");function h(x){return(x-(x|0))*4294967296|0}o(h,"getFractionalBits");for(var p=2,A=0;A<64;)m(p)&&(A<8&&(l[A]=h(t.pow(p,1/2))),c[A]=h(t.pow(p,1/3)),A++),p++})();var u=[],f=a.SHA256=s.extend({_doReset:o(function(){this._hash=new i.init(l.slice(0))},"_doReset"),_doProcessBlock:o(function(m,h){for(var p=this._hash.words,A=p[0],x=p[1],E=p[2],v=p[3],b=p[4],S=p[5],B=p[6],P=p[7],F=0;F<64;F++){if(F<16)u[F]=m[h+F]|0;else{var q=u[F-15],ne=(q<<25|q>>>7)^(q<<14|q>>>18)^q>>>3,ce=u[F-2],Z=(ce<<15|ce>>>17)^(ce<<13|ce>>>19)^ce>>>10;u[F]=ne+u[F-7]+Z+u[F-16]}var G=b&S^~b&B,U=A&x^A&E^x&E,ie=(A<<30|A>>>2)^(A<<19|A>>>13)^(A<<10|A>>>22),J=(b<<26|b>>>6)^(b<<21|b>>>11)^(b<<7|b>>>25),H=P+J+G+c[F]+u[F],M=ie+U;P=B,B=S,S=b,b=v+H|0,v=E,E=x,x=A,A=H+M|0}p[0]=p[0]+A|0,p[1]=p[1]+x|0,p[2]=p[2]+E|0,p[3]=p[3]+v|0,p[4]=p[4]+b|0,p[5]=p[5]+S|0,p[6]=p[6]+B|0,p[7]=p[7]+P|0},"_doProcessBlock"),_doFinalize:o(function(){var m=this._data,h=m.words,p=this._nDataBytes*8,A=m.sigBytes*8;return h[A>>>5]|=128<<24-A%32,h[(A+64>>>9<<4)+14]=t.floor(p/4294967296),h[(A+64>>>9<<4)+15]=p,m.sigBytes=h.length*4,this._process(),this._hash},"_doFinalize"),clone:o(function(){var m=s.clone.call(this);return m._hash=this._hash.clone(),m},"clone")});r.SHA256=s._createHelper(f),r.HmacSHA256=s._createHmacHelper(f)}(Math),e.SHA256})});var nde=V((vR,rde)=>{d();(function(e,t,r){typeof vR=="object"?rde.exports=vR=t(xi(),bR()):typeof define=="function"&&define.amd?define(["./core","./sha256"],t):t(e.CryptoJS)})(vR,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.algo,s=i.SHA256,a=i.SHA224=s.extend({_doReset:o(function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},"_doReset"),_doFinalize:o(function(){var l=s._doFinalize.call(this);return l.sigBytes-=4,l},"_doFinalize")});t.SHA224=s._createHelper(a),t.HmacSHA224=s._createHmacHelper(a)}(),e.SHA224})});var W$=V((IR,ide)=>{d();(function(e,t,r){typeof IR=="object"?ide.exports=IR=t(xi(),_7()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(IR,function(e){return function(){var t=e,r=t.lib,n=r.Hasher,i=t.x64,s=i.Word,a=i.WordArray,l=t.algo;function c(){return s.create.apply(s,arguments)}o(c,"X64Word_create");var u=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],f=[];(function(){for(var h=0;h<80;h++)f[h]=c()})();var m=l.SHA512=n.extend({_doReset:o(function(){this._hash=new a.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},"_doReset"),_doProcessBlock:o(function(h,p){for(var A=this._hash.words,x=A[0],E=A[1],v=A[2],b=A[3],S=A[4],B=A[5],P=A[6],F=A[7],q=x.high,ne=x.low,ce=E.high,Z=E.low,G=v.high,U=v.low,ie=b.high,J=b.low,H=S.high,M=S.low,j=B.high,X=B.low,ae=P.high,re=P.low,le=F.high,de=F.low,Re=q,Ee=ne,Oe=ce,_e=Z,Je=G,ut=U,ot=ie,at=J,oe=H,Pe=M,Ae=j,We=X,z=ae,te=re,Ne=le,Se=de,Ce=0;Ce<80;Ce++){var Ue,Ve,Ze=f[Ce];if(Ce<16)Ve=Ze.high=h[p+Ce*2]|0,Ue=Ze.low=h[p+Ce*2+1]|0;else{var yt=f[Ce-15],Dt=yt.high,At=yt.low,Vt=(Dt>>>1|At<<31)^(Dt>>>8|At<<24)^Dt>>>7,$t=(At>>>1|Dt<<31)^(At>>>8|Dt<<24)^(At>>>7|Dt<<25),nr=f[Ce-2],ge=nr.high,Le=nr.low,Ke=(ge>>>19|Le<<13)^(ge<<3|Le>>>29)^ge>>>6,et=(Le>>>19|ge<<13)^(Le<<3|ge>>>29)^(Le>>>6|ge<<26),St=f[Ce-7],Et=St.high,Lt=St.low,Mt=f[Ce-16],Tt=Mt.high,_t=Mt.low;Ue=$t+Lt,Ve=Vt+Et+(Ue>>>0<$t>>>0?1:0),Ue=Ue+et,Ve=Ve+Ke+(Ue>>>0<et>>>0?1:0),Ue=Ue+_t,Ve=Ve+Tt+(Ue>>>0<_t>>>0?1:0),Ze.high=Ve,Ze.low=Ue}var wt=oe&Ae^~oe&z,Ut=Pe&We^~Pe&te,Wt=Re&Oe^Re&Je^Oe&Je,zt=Ee&_e^Ee&ut^_e&ut,lr=(Re>>>28|Ee<<4)^(Re<<30|Ee>>>2)^(Re<<25|Ee>>>7),hr=(Ee>>>28|Re<<4)^(Ee<<30|Re>>>2)^(Ee<<25|Re>>>7),or=(oe>>>14|Pe<<18)^(oe>>>18|Pe<<14)^(oe<<23|Pe>>>9),cr=(Pe>>>14|oe<<18)^(Pe>>>18|oe<<14)^(Pe<<23|oe>>>9),Zt=u[Ce],ur=Zt.high,ve=Zt.low,O=Se+cr,me=Ne+or+(O>>>0<Se>>>0?1:0),O=O+Ut,me=me+wt+(O>>>0<Ut>>>0?1:0),O=O+ve,me=me+ur+(O>>>0<ve>>>0?1:0),O=O+Ue,me=me+Ve+(O>>>0<Ue>>>0?1:0),ye=hr+zt,Y=lr+Wt+(ye>>>0<hr>>>0?1:0);Ne=z,Se=te,z=Ae,te=We,Ae=oe,We=Pe,Pe=at+O|0,oe=ot+me+(Pe>>>0<at>>>0?1:0)|0,ot=Je,at=ut,Je=Oe,ut=_e,Oe=Re,_e=Ee,Ee=O+ye|0,Re=me+Y+(Ee>>>0<O>>>0?1:0)|0}ne=x.low=ne+Ee,x.high=q+Re+(ne>>>0<Ee>>>0?1:0),Z=E.low=Z+_e,E.high=ce+Oe+(Z>>>0<_e>>>0?1:0),U=v.low=U+ut,v.high=G+Je+(U>>>0<ut>>>0?1:0),J=b.low=J+at,b.high=ie+ot+(J>>>0<at>>>0?1:0),M=S.low=M+Pe,S.high=H+oe+(M>>>0<Pe>>>0?1:0),X=B.low=X+We,B.high=j+Ae+(X>>>0<We>>>0?1:0),re=P.low=re+te,P.high=ae+z+(re>>>0<te>>>0?1:0),de=F.low=de+Se,F.high=le+Ne+(de>>>0<Se>>>0?1:0)},"_doProcessBlock"),_doFinalize:o(function(){var h=this._data,p=h.words,A=this._nDataBytes*8,x=h.sigBytes*8;p[x>>>5]|=128<<24-x%32,p[(x+128>>>10<<5)+30]=Math.floor(A/4294967296),p[(x+128>>>10<<5)+31]=A,h.sigBytes=p.length*4,this._process();var E=this._hash.toX32();return E},"_doFinalize"),clone:o(function(){var h=n.clone.call(this);return h._hash=this._hash.clone(),h},"clone"),blockSize:1024/32});t.SHA512=n._createHelper(m),t.HmacSHA512=n._createHmacHelper(m)}(),e.SHA512})});var sde=V((TR,ode)=>{d();(function(e,t,r){typeof TR=="object"?ode.exports=TR=t(xi(),_7(),W$()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],t):t(e.CryptoJS)})(TR,function(e){return function(){var t=e,r=t.x64,n=r.Word,i=r.WordArray,s=t.algo,a=s.SHA512,l=s.SHA384=a.extend({_doReset:o(function(){this._hash=new i.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},"_doReset"),_doFinalize:o(function(){var c=a._doFinalize.call(this);return c.sigBytes-=16,c},"_doFinalize")});t.SHA384=a._createHelper(l),t.HmacSHA384=a._createHmacHelper(l)}(),e.SHA384})});var lde=V((wR,ade)=>{d();(function(e,t,r){typeof wR=="object"?ade.exports=wR=t(xi(),_7()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(wR,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.x64,l=a.Word,c=r.algo,u=[],f=[],m=[];(function(){for(var A=1,x=0,E=0;E<24;E++){u[A+5*x]=(E+1)*(E+2)/2%64;var v=x%5,b=(2*A+3*x)%5;A=v,x=b}for(var A=0;A<5;A++)for(var x=0;x<5;x++)f[A+5*x]=x+(2*A+3*x)%5*5;for(var S=1,B=0;B<24;B++){for(var P=0,F=0,q=0;q<7;q++){if(S&1){var ne=(1<<q)-1;ne<32?F^=1<<ne:P^=1<<ne-32}S&128?S=S<<1^113:S<<=1}m[B]=l.create(P,F)}})();var h=[];(function(){for(var A=0;A<25;A++)h[A]=l.create()})();var p=c.SHA3=s.extend({cfg:s.cfg.extend({outputLength:512}),_doReset:o(function(){for(var A=this._state=[],x=0;x<25;x++)A[x]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},"_doReset"),_doProcessBlock:o(function(A,x){for(var E=this._state,v=this.blockSize/2,b=0;b<v;b++){var S=A[x+2*b],B=A[x+2*b+1];S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,B=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360;var P=E[b];P.high^=B,P.low^=S}for(var F=0;F<24;F++){for(var q=0;q<5;q++){for(var ne=0,ce=0,Z=0;Z<5;Z++){var P=E[q+5*Z];ne^=P.high,ce^=P.low}var G=h[q];G.high=ne,G.low=ce}for(var q=0;q<5;q++)for(var U=h[(q+4)%5],ie=h[(q+1)%5],J=ie.high,H=ie.low,ne=U.high^(J<<1|H>>>31),ce=U.low^(H<<1|J>>>31),Z=0;Z<5;Z++){var P=E[q+5*Z];P.high^=ne,P.low^=ce}for(var M=1;M<25;M++){var ne,ce,P=E[M],j=P.high,X=P.low,ae=u[M];ae<32?(ne=j<<ae|X>>>32-ae,ce=X<<ae|j>>>32-ae):(ne=X<<ae-32|j>>>64-ae,ce=j<<ae-32|X>>>64-ae);var re=h[f[M]];re.high=ne,re.low=ce}var le=h[0],de=E[0];le.high=de.high,le.low=de.low;for(var q=0;q<5;q++)for(var Z=0;Z<5;Z++){var M=q+5*Z,P=E[M],Re=h[M],Ee=h[(q+1)%5+5*Z],Oe=h[(q+2)%5+5*Z];P.high=Re.high^~Ee.high&Oe.high,P.low=Re.low^~Ee.low&Oe.low}var P=E[0],_e=m[F];P.high^=_e.high,P.low^=_e.low}},"_doProcessBlock"),_doFinalize:o(function(){var A=this._data,x=A.words,E=this._nDataBytes*8,v=A.sigBytes*8,b=this.blockSize*32;x[v>>>5]|=1<<24-v%32,x[(t.ceil((v+1)/b)*b>>>5)-1]|=128,A.sigBytes=x.length*4,this._process();for(var S=this._state,B=this.cfg.outputLength/8,P=B/8,F=[],q=0;q<P;q++){var ne=S[q],ce=ne.high,Z=ne.low;ce=(ce<<8|ce>>>24)&16711935|(ce<<24|ce>>>8)&4278255360,Z=(Z<<8|Z>>>24)&16711935|(Z<<24|Z>>>8)&4278255360,F.push(Z),F.push(ce)}return new i.init(F,B)},"_doFinalize"),clone:o(function(){for(var A=s.clone.call(this),x=A._state=this._state.slice(0),E=0;E<25;E++)x[E]=x[E].clone();return A},"clone")});r.SHA3=s._createHelper(p),r.HmacSHA3=s._createHmacHelper(p)}(Math),e.SHA3})});var ude=V((SR,cde)=>{d();(function(e,t){typeof SR=="object"?cde.exports=SR=t(xi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(SR,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.algo,l=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),m=i.create([0,1518500249,1859775393,2400959708,2840853838]),h=i.create([1352829926,1548603684,1836072691,2053994217,0]),p=a.RIPEMD160=s.extend({_doReset:o(function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},"_doReset"),_doProcessBlock:o(function(B,P){for(var F=0;F<16;F++){var q=P+F,ne=B[q];B[q]=(ne<<8|ne>>>24)&16711935|(ne<<24|ne>>>8)&4278255360}var ce=this._hash.words,Z=m.words,G=h.words,U=l.words,ie=c.words,J=u.words,H=f.words,M,j,X,ae,re,le,de,Re,Ee,Oe;le=M=ce[0],de=j=ce[1],Re=X=ce[2],Ee=ae=ce[3],Oe=re=ce[4];for(var _e,F=0;F<80;F+=1)_e=M+B[P+U[F]]|0,F<16?_e+=A(j,X,ae)+Z[0]:F<32?_e+=x(j,X,ae)+Z[1]:F<48?_e+=E(j,X,ae)+Z[2]:F<64?_e+=v(j,X,ae)+Z[3]:_e+=b(j,X,ae)+Z[4],_e=_e|0,_e=S(_e,J[F]),_e=_e+re|0,M=re,re=ae,ae=S(X,10),X=j,j=_e,_e=le+B[P+ie[F]]|0,F<16?_e+=b(de,Re,Ee)+G[0]:F<32?_e+=v(de,Re,Ee)+G[1]:F<48?_e+=E(de,Re,Ee)+G[2]:F<64?_e+=x(de,Re,Ee)+G[3]:_e+=A(de,Re,Ee)+G[4],_e=_e|0,_e=S(_e,H[F]),_e=_e+Oe|0,le=Oe,Oe=Ee,Ee=S(Re,10),Re=de,de=_e;_e=ce[1]+X+Ee|0,ce[1]=ce[2]+ae+Oe|0,ce[2]=ce[3]+re+le|0,ce[3]=ce[4]+M+de|0,ce[4]=ce[0]+j+Re|0,ce[0]=_e},"_doProcessBlock"),_doFinalize:o(function(){var B=this._data,P=B.words,F=this._nDataBytes*8,q=B.sigBytes*8;P[q>>>5]|=128<<24-q%32,P[(q+64>>>9<<4)+14]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360,B.sigBytes=(P.length+1)*4,this._process();for(var ne=this._hash,ce=ne.words,Z=0;Z<5;Z++){var G=ce[Z];ce[Z]=(G<<8|G>>>24)&16711935|(G<<24|G>>>8)&4278255360}return ne},"_doFinalize"),clone:o(function(){var B=s.clone.call(this);return B._hash=this._hash.clone(),B},"clone")});function A(B,P,F){return B^P^F}o(A,"f1");function x(B,P,F){return B&P|~B&F}o(x,"f2");function E(B,P,F){return(B|~P)^F}o(E,"f3");function v(B,P,F){return B&F|P&~F}o(v,"f4");function b(B,P,F){return B^(P|~F)}o(b,"f5");function S(B,P){return B<<P|B>>>32-P}o(S,"rotl"),r.RIPEMD160=s._createHelper(p),r.HmacRIPEMD160=s._createHmacHelper(p)}(Math),e.RIPEMD160})});var kR=V((_R,fde)=>{d();(function(e,t){typeof _R=="object"?fde.exports=_R=t(xi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(_R,function(e){(function(){var t=e,r=t.lib,n=r.Base,i=t.enc,s=i.Utf8,a=t.algo,l=a.HMAC=n.extend({init:o(function(c,u){c=this._hasher=new c.init,typeof u=="string"&&(u=s.parse(u));var f=c.blockSize,m=f*4;u.sigBytes>m&&(u=c.finalize(u)),u.clamp();for(var h=this._oKey=u.clone(),p=this._iKey=u.clone(),A=h.words,x=p.words,E=0;E<f;E++)A[E]^=1549556828,x[E]^=909522486;h.sigBytes=p.sigBytes=m,this.reset()},"init"),reset:o(function(){var c=this._hasher;c.reset(),c.update(this._iKey)},"reset"),update:o(function(c){return this._hasher.update(c),this},"update"),finalize:o(function(c){var u=this._hasher,f=u.finalize(c);u.reset();var m=u.finalize(this._oKey.clone().concat(f));return m},"finalize")})})()})});var mde=V((BR,dde)=>{d();(function(e,t,r){typeof BR=="object"?dde.exports=BR=t(xi(),bR(),kR()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],t):t(e.CryptoJS)})(BR,function(e){return function(){var t=e,r=t.lib,n=r.Base,i=r.WordArray,s=t.algo,a=s.SHA256,l=s.HMAC,c=s.PBKDF2=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:25e4}),init:o(function(u){this.cfg=this.cfg.extend(u)},"init"),compute:o(function(u,f){for(var m=this.cfg,h=l.create(m.hasher,u),p=i.create(),A=i.create([1]),x=p.words,E=A.words,v=m.keySize,b=m.iterations;x.length<v;){var S=h.update(f).finalize(A);h.reset();for(var B=S.words,P=B.length,F=S,q=1;q<b;q++){F=h.finalize(F),h.reset();for(var ne=F.words,ce=0;ce<P;ce++)B[ce]^=ne[ce]}p.concat(S),E[0]++}return p.sigBytes=v*4,p},"compute")});t.PBKDF2=function(u,f,m){return c.create(m).compute(u,f)}}(),e.PBKDF2})});var Jg=V((RR,hde)=>{d();(function(e,t,r){typeof RR=="object"?hde.exports=RR=t(xi(),q$(),kR()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],t):t(e.CryptoJS)})(RR,function(e){return function(){var t=e,r=t.lib,n=r.Base,i=r.WordArray,s=t.algo,a=s.MD5,l=s.EvpKDF=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:1}),init:o(function(c){this.cfg=this.cfg.extend(c)},"init"),compute:o(function(c,u){for(var f,m=this.cfg,h=m.hasher.create(),p=i.create(),A=p.words,x=m.keySize,E=m.iterations;A.length<x;){f&&h.update(f),f=h.update(c).finalize(u),h.reset();for(var v=1;v<E;v++)f=h.finalize(f),h.reset();p.concat(f)}return p.sigBytes=x*4,p},"compute")});t.EvpKDF=function(c,u,f){return l.create(f).compute(c,u)}}(),e.EvpKDF})});var $a=V((DR,pde)=>{d();(function(e,t,r){typeof DR=="object"?pde.exports=DR=t(xi(),Jg()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],t):t(e.CryptoJS)})(DR,function(e){e.lib.Cipher||function(t){var r=e,n=r.lib,i=n.Base,s=n.WordArray,a=n.BufferedBlockAlgorithm,l=r.enc,c=l.Utf8,u=l.Base64,f=r.algo,m=f.EvpKDF,h=n.Cipher=a.extend({cfg:i.extend(),createEncryptor:o(function(G,U){return this.create(this._ENC_XFORM_MODE,G,U)},"createEncryptor"),createDecryptor:o(function(G,U){return this.create(this._DEC_XFORM_MODE,G,U)},"createDecryptor"),init:o(function(G,U,ie){this.cfg=this.cfg.extend(ie),this._xformMode=G,this._key=U,this.reset()},"init"),reset:o(function(){a.reset.call(this),this._doReset()},"reset"),process:o(function(G){return this._append(G),this._process()},"process"),finalize:o(function(G){G&&this._append(G);var U=this._doFinalize();return U},"finalize"),keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function G(U){return typeof U=="string"?Z:q}return o(G,"selectCipherStrategy"),function(U){return{encrypt:o(function(ie,J,H){return G(J).encrypt(U,ie,J,H)},"encrypt"),decrypt:o(function(ie,J,H){return G(J).decrypt(U,ie,J,H)},"decrypt")}}}()}),p=n.StreamCipher=h.extend({_doFinalize:o(function(){var G=this._process(!0);return G},"_doFinalize"),blockSize:1}),A=r.mode={},x=n.BlockCipherMode=i.extend({createEncryptor:o(function(G,U){return this.Encryptor.create(G,U)},"createEncryptor"),createDecryptor:o(function(G,U){return this.Decryptor.create(G,U)},"createDecryptor"),init:o(function(G,U){this._cipher=G,this._iv=U},"init")}),E=A.CBC=function(){var G=x.extend();G.Encryptor=G.extend({processBlock:o(function(ie,J){var H=this._cipher,M=H.blockSize;U.call(this,ie,J,M),H.encryptBlock(ie,J),this._prevBlock=ie.slice(J,J+M)},"processBlock")}),G.Decryptor=G.extend({processBlock:o(function(ie,J){var H=this._cipher,M=H.blockSize,j=ie.slice(J,J+M);H.decryptBlock(ie,J),U.call(this,ie,J,M),this._prevBlock=j},"processBlock")});function U(ie,J,H){var M,j=this._iv;j?(M=j,this._iv=t):M=this._prevBlock;for(var X=0;X<H;X++)ie[J+X]^=M[X]}return o(U,"xorBlock"),G}(),v=r.pad={},b=v.Pkcs7={pad:o(function(G,U){for(var ie=U*4,J=ie-G.sigBytes%ie,H=J<<24|J<<16|J<<8|J,M=[],j=0;j<J;j+=4)M.push(H);var X=s.create(M,J);G.concat(X)},"pad"),unpad:o(function(G){var U=G.words[G.sigBytes-1>>>2]&255;G.sigBytes-=U},"unpad")},S=n.BlockCipher=h.extend({cfg:h.cfg.extend({mode:E,padding:b}),reset:o(function(){var G;h.reset.call(this);var U=this.cfg,ie=U.iv,J=U.mode;this._xformMode==this._ENC_XFORM_MODE?G=J.createEncryptor:(G=J.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==G?this._mode.init(this,ie&&ie.words):(this._mode=G.call(J,this,ie&&ie.words),this._mode.__creator=G)},"reset"),_doProcessBlock:o(function(G,U){this._mode.processBlock(G,U)},"_doProcessBlock"),_doFinalize:o(function(){var G,U=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(U.pad(this._data,this.blockSize),G=this._process(!0)):(G=this._process(!0),U.unpad(G)),G},"_doFinalize"),blockSize:128/32}),B=n.CipherParams=i.extend({init:o(function(G){this.mixIn(G)},"init"),toString:o(function(G){return(G||this.formatter).stringify(this)},"toString")}),P=r.format={},F=P.OpenSSL={stringify:o(function(G){var U,ie=G.ciphertext,J=G.salt;return J?U=s.create([1398893684,1701076831]).concat(J).concat(ie):U=ie,U.toString(u)},"stringify"),parse:o(function(G){var U,ie=u.parse(G),J=ie.words;return J[0]==1398893684&&J[1]==1701076831&&(U=s.create(J.slice(2,4)),J.splice(0,4),ie.sigBytes-=16),B.create({ciphertext:ie,salt:U})},"parse")},q=n.SerializableCipher=i.extend({cfg:i.extend({format:F}),encrypt:o(function(G,U,ie,J){J=this.cfg.extend(J);var H=G.createEncryptor(ie,J),M=H.finalize(U),j=H.cfg;return B.create({ciphertext:M,key:ie,iv:j.iv,algorithm:G,mode:j.mode,padding:j.padding,blockSize:G.blockSize,formatter:J.format})},"encrypt"),decrypt:o(function(G,U,ie,J){J=this.cfg.extend(J),U=this._parse(U,J.format);var H=G.createDecryptor(ie,J).finalize(U.ciphertext);return H},"decrypt"),_parse:o(function(G,U){return typeof G=="string"?U.parse(G,this):G},"_parse")}),ne=r.kdf={},ce=ne.OpenSSL={execute:o(function(G,U,ie,J,H){if(J||(J=s.random(64/8)),H)var M=m.create({keySize:U+ie,hasher:H}).compute(G,J);else var M=m.create({keySize:U+ie}).compute(G,J);var j=s.create(M.words.slice(U),ie*4);return M.sigBytes=U*4,B.create({key:M,iv:j,salt:J})},"execute")},Z=n.PasswordBasedCipher=q.extend({cfg:q.cfg.extend({kdf:ce}),encrypt:o(function(G,U,ie,J){J=this.cfg.extend(J);var H=J.kdf.execute(ie,G.keySize,G.ivSize,J.salt,J.hasher);J.iv=H.iv;var M=q.encrypt.call(this,G,U,H.key,J);return M.mixIn(H),M},"encrypt"),decrypt:o(function(G,U,ie,J){J=this.cfg.extend(J),U=this._parse(U,J.format);var H=J.kdf.execute(ie,G.keySize,G.ivSize,U.salt,J.hasher);J.iv=H.iv;var M=q.decrypt.call(this,G,U,H.key,J);return M},"decrypt")})}()})});var Ade=V((PR,gde)=>{d();(function(e,t,r){typeof PR=="object"?gde.exports=PR=t(xi(),$a()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(PR,function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();t.Encryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize;r.call(this,n,i,a,s),this._prevBlock=n.slice(i,i+a)},"processBlock")}),t.Decryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize,l=n.slice(i,i+a);r.call(this,n,i,a,s),this._prevBlock=l},"processBlock")});function r(n,i,s,a){var l,c=this._iv;c?(l=c.slice(0),this._iv=void 0):l=this._prevBlock,a.encryptBlock(l,0);for(var u=0;u<s;u++)n[i+u]^=l[u]}return o(r,"generateKeystreamAndEncrypt"),t}(),e.mode.CFB})});var Cde=V((FR,yde)=>{d();(function(e,t,r){typeof FR=="object"?yde.exports=FR=t(xi(),$a()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(FR,function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize,l=this._iv,c=this._counter;l&&(c=this._counter=l.slice(0),this._iv=void 0);var u=c.slice(0);s.encryptBlock(u,0),c[a-1]=c[a-1]+1|0;for(var f=0;f<a;f++)n[i+f]^=u[f]},"processBlock")});return t.Decryptor=r,t}(),e.mode.CTR})});var Ede=V((NR,xde)=>{d();(function(e,t,r){typeof NR=="object"?xde.exports=NR=t(xi(),$a()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(NR,function(e){return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function r(s){if((s>>24&255)===255){var a=s>>16&255,l=s>>8&255,c=s&255;a===255?(a=0,l===255?(l=0,c===255?c=0:++c):++l):++a,s=0,s+=a<<16,s+=l<<8,s+=c}else s+=1<<24;return s}o(r,"incWord");function n(s){return(s[0]=r(s[0]))===0&&(s[1]=r(s[1])),s}o(n,"incCounter");var i=t.Encryptor=t.extend({processBlock:o(function(s,a){var l=this._cipher,c=l.blockSize,u=this._iv,f=this._counter;u&&(f=this._counter=u.slice(0),this._iv=void 0),n(f);var m=f.slice(0);l.encryptBlock(m,0);for(var h=0;h<c;h++)s[a+h]^=m[h]},"processBlock")});return t.Decryptor=i,t}(),e.mode.CTRGladman})});var vde=V((LR,bde)=>{d();(function(e,t,r){typeof LR=="object"?bde.exports=LR=t(xi(),$a()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(LR,function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize,l=this._iv,c=this._keystream;l&&(c=this._keystream=l.slice(0),this._iv=void 0),s.encryptBlock(c,0);for(var u=0;u<a;u++)n[i+u]^=c[u]},"processBlock")});return t.Decryptor=r,t}(),e.mode.OFB})});var Tde=V((QR,Ide)=>{d();(function(e,t,r){typeof QR=="object"?Ide.exports=QR=t(xi(),$a()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(QR,function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:o(function(r,n){this._cipher.encryptBlock(r,n)},"processBlock")}),t.Decryptor=t.extend({processBlock:o(function(r,n){this._cipher.decryptBlock(r,n)},"processBlock")}),t}(),e.mode.ECB})});var Sde=V((MR,wde)=>{d();(function(e,t,r){typeof MR=="object"?wde.exports=MR=t(xi(),$a()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(MR,function(e){return e.pad.AnsiX923={pad:o(function(t,r){var n=t.sigBytes,i=r*4,s=i-n%i,a=n+s-1;t.clamp(),t.words[a>>>2]|=s<<24-a%4*8,t.sigBytes+=s},"pad"),unpad:o(function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r},"unpad")},e.pad.Ansix923})});var kde=V((OR,_de)=>{d();(function(e,t,r){typeof OR=="object"?_de.exports=OR=t(xi(),$a()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(OR,function(e){return e.pad.Iso10126={pad:o(function(t,r){var n=r*4,i=n-t.sigBytes%n;t.concat(e.lib.WordArray.random(i-1)).concat(e.lib.WordArray.create([i<<24],1))},"pad"),unpad:o(function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r},"unpad")},e.pad.Iso10126})});var Rde=V((UR,Bde)=>{d();(function(e,t,r){typeof UR=="object"?Bde.exports=UR=t(xi(),$a()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(UR,function(e){return e.pad.Iso97971={pad:o(function(t,r){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,r)},"pad"),unpad:o(function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--},"unpad")},e.pad.Iso97971})});var Pde=V((qR,Dde)=>{d();(function(e,t,r){typeof qR=="object"?Dde.exports=qR=t(xi(),$a()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(qR,function(e){return e.pad.ZeroPadding={pad:o(function(t,r){var n=r*4;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},"pad"),unpad:o(function(t){for(var r=t.words,n=t.sigBytes-1,n=t.sigBytes-1;n>=0;n--)if(r[n>>>2]>>>24-n%4*8&255){t.sigBytes=n+1;break}},"unpad")},e.pad.ZeroPadding})});var Nde=V((WR,Fde)=>{d();(function(e,t,r){typeof WR=="object"?Fde.exports=WR=t(xi(),$a()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(WR,function(e){return e.pad.NoPadding={pad:o(function(){},"pad"),unpad:o(function(){},"unpad")},e.pad.NoPadding})});var Qde=V((GR,Lde)=>{d();(function(e,t,r){typeof GR=="object"?Lde.exports=GR=t(xi(),$a()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(GR,function(e){return function(t){var r=e,n=r.lib,i=n.CipherParams,s=r.enc,a=s.Hex,l=r.format,c=l.Hex={stringify:o(function(u){return u.ciphertext.toString(a)},"stringify"),parse:o(function(u){var f=a.parse(u);return i.create({ciphertext:f})},"parse")}}(),e.format.Hex})});var Ode=V((HR,Mde)=>{d();(function(e,t,r){typeof HR=="object"?Mde.exports=HR=t(xi(),$2(),z2(),Jg(),$a()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(HR,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,i=t.algo,s=[],a=[],l=[],c=[],u=[],f=[],m=[],h=[],p=[],A=[];(function(){for(var v=[],b=0;b<256;b++)b<128?v[b]=b<<1:v[b]=b<<1^283;for(var S=0,B=0,b=0;b<256;b++){var P=B^B<<1^B<<2^B<<3^B<<4;P=P>>>8^P&255^99,s[S]=P,a[P]=S;var F=v[S],q=v[F],ne=v[q],ce=v[P]*257^P*16843008;l[S]=ce<<24|ce>>>8,c[S]=ce<<16|ce>>>16,u[S]=ce<<8|ce>>>24,f[S]=ce;var ce=ne*16843009^q*65537^F*257^S*16843008;m[P]=ce<<24|ce>>>8,h[P]=ce<<16|ce>>>16,p[P]=ce<<8|ce>>>24,A[P]=ce,S?(S=F^v[v[v[ne^F]]],B^=v[v[B]]):S=B=1}})();var x=[0,1,2,4,8,16,32,64,128,27,54],E=i.AES=n.extend({_doReset:o(function(){var v;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var b=this._keyPriorReset=this._key,S=b.words,B=b.sigBytes/4,P=this._nRounds=B+6,F=(P+1)*4,q=this._keySchedule=[],ne=0;ne<F;ne++)ne<B?q[ne]=S[ne]:(v=q[ne-1],ne%B?B>6&&ne%B==4&&(v=s[v>>>24]<<24|s[v>>>16&255]<<16|s[v>>>8&255]<<8|s[v&255]):(v=v<<8|v>>>24,v=s[v>>>24]<<24|s[v>>>16&255]<<16|s[v>>>8&255]<<8|s[v&255],v^=x[ne/B|0]<<24),q[ne]=q[ne-B]^v);for(var ce=this._invKeySchedule=[],Z=0;Z<F;Z++){var ne=F-Z;if(Z%4)var v=q[ne];else var v=q[ne-4];Z<4||ne<=4?ce[Z]=v:ce[Z]=m[s[v>>>24]]^h[s[v>>>16&255]]^p[s[v>>>8&255]]^A[s[v&255]]}}},"_doReset"),encryptBlock:o(function(v,b){this._doCryptBlock(v,b,this._keySchedule,l,c,u,f,s)},"encryptBlock"),decryptBlock:o(function(v,b){var S=v[b+1];v[b+1]=v[b+3],v[b+3]=S,this._doCryptBlock(v,b,this._invKeySchedule,m,h,p,A,a);var S=v[b+1];v[b+1]=v[b+3],v[b+3]=S},"decryptBlock"),_doCryptBlock:o(function(v,b,S,B,P,F,q,ne){for(var ce=this._nRounds,Z=v[b]^S[0],G=v[b+1]^S[1],U=v[b+2]^S[2],ie=v[b+3]^S[3],J=4,H=1;H<ce;H++){var M=B[Z>>>24]^P[G>>>16&255]^F[U>>>8&255]^q[ie&255]^S[J++],j=B[G>>>24]^P[U>>>16&255]^F[ie>>>8&255]^q[Z&255]^S[J++],X=B[U>>>24]^P[ie>>>16&255]^F[Z>>>8&255]^q[G&255]^S[J++],ae=B[ie>>>24]^P[Z>>>16&255]^F[G>>>8&255]^q[U&255]^S[J++];Z=M,G=j,U=X,ie=ae}var M=(ne[Z>>>24]<<24|ne[G>>>16&255]<<16|ne[U>>>8&255]<<8|ne[ie&255])^S[J++],j=(ne[G>>>24]<<24|ne[U>>>16&255]<<16|ne[ie>>>8&255]<<8|ne[Z&255])^S[J++],X=(ne[U>>>24]<<24|ne[ie>>>16&255]<<16|ne[Z>>>8&255]<<8|ne[G&255])^S[J++],ae=(ne[ie>>>24]<<24|ne[Z>>>16&255]<<16|ne[G>>>8&255]<<8|ne[U&255])^S[J++];v[b]=M,v[b+1]=j,v[b+2]=X,v[b+3]=ae},"_doCryptBlock"),keySize:256/32});t.AES=n._createHelper(E)}(),e.AES})});var qde=V((VR,Ude)=>{d();(function(e,t,r){typeof VR=="object"?Ude.exports=VR=t(xi(),$2(),z2(),Jg(),$a()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(VR,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=r.BlockCipher,s=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],m=s.DES=i.extend({_doReset:o(function(){for(var x=this._key,E=x.words,v=[],b=0;b<56;b++){var S=a[b]-1;v[b]=E[S>>>5]>>>31-S%32&1}for(var B=this._subKeys=[],P=0;P<16;P++){for(var F=B[P]=[],q=c[P],b=0;b<24;b++)F[b/6|0]|=v[(l[b]-1+q)%28]<<31-b%6,F[4+(b/6|0)]|=v[28+(l[b+24]-1+q)%28]<<31-b%6;F[0]=F[0]<<1|F[0]>>>31;for(var b=1;b<7;b++)F[b]=F[b]>>>(b-1)*4+3;F[7]=F[7]<<5|F[7]>>>27}for(var ne=this._invSubKeys=[],b=0;b<16;b++)ne[b]=B[15-b]},"_doReset"),encryptBlock:o(function(x,E){this._doCryptBlock(x,E,this._subKeys)},"encryptBlock"),decryptBlock:o(function(x,E){this._doCryptBlock(x,E,this._invSubKeys)},"decryptBlock"),_doCryptBlock:o(function(x,E,v){this._lBlock=x[E],this._rBlock=x[E+1],h.call(this,4,252645135),h.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),h.call(this,1,1431655765);for(var b=0;b<16;b++){for(var S=v[b],B=this._lBlock,P=this._rBlock,F=0,q=0;q<8;q++)F|=u[q][((P^S[q])&f[q])>>>0];this._lBlock=P,this._rBlock=B^F}var ne=this._lBlock;this._lBlock=this._rBlock,this._rBlock=ne,h.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),h.call(this,16,65535),h.call(this,4,252645135),x[E]=this._lBlock,x[E+1]=this._rBlock},"_doCryptBlock"),keySize:64/32,ivSize:64/32,blockSize:64/32});function h(x,E){var v=(this._lBlock>>>x^this._rBlock)&E;this._rBlock^=v,this._lBlock^=v<<x}o(h,"exchangeLR");function p(x,E){var v=(this._rBlock>>>x^this._lBlock)&E;this._lBlock^=v,this._rBlock^=v<<x}o(p,"exchangeRL"),t.DES=i._createHelper(m);var A=s.TripleDES=i.extend({_doReset:o(function(){var x=this._key,E=x.words;if(E.length!==2&&E.length!==4&&E.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var v=E.slice(0,2),b=E.length<4?E.slice(0,2):E.slice(2,4),S=E.length<6?E.slice(0,2):E.slice(4,6);this._des1=m.createEncryptor(n.create(v)),this._des2=m.createEncryptor(n.create(b)),this._des3=m.createEncryptor(n.create(S))},"_doReset"),encryptBlock:o(function(x,E){this._des1.encryptBlock(x,E),this._des2.decryptBlock(x,E),this._des3.encryptBlock(x,E)},"encryptBlock"),decryptBlock:o(function(x,E){this._des3.decryptBlock(x,E),this._des2.encryptBlock(x,E),this._des1.decryptBlock(x,E)},"decryptBlock"),keySize:192/32,ivSize:64/32,blockSize:64/32});t.TripleDES=i._createHelper(A)}(),e.TripleDES})});var Gde=V((jR,Wde)=>{d();(function(e,t,r){typeof jR=="object"?Wde.exports=jR=t(xi(),$2(),z2(),Jg(),$a()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(jR,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,s=i.RC4=n.extend({_doReset:o(function(){for(var c=this._key,u=c.words,f=c.sigBytes,m=this._S=[],h=0;h<256;h++)m[h]=h;for(var h=0,p=0;h<256;h++){var A=h%f,x=u[A>>>2]>>>24-A%4*8&255;p=(p+m[h]+x)%256;var E=m[h];m[h]=m[p],m[p]=E}this._i=this._j=0},"_doReset"),_doProcessBlock:o(function(c,u){c[u]^=a.call(this)},"_doProcessBlock"),keySize:256/32,ivSize:0});function a(){for(var c=this._S,u=this._i,f=this._j,m=0,h=0;h<4;h++){u=(u+1)%256,f=(f+c[u])%256;var p=c[u];c[u]=c[f],c[f]=p,m|=c[(c[u]+c[f])%256]<<24-h*8}return this._i=u,this._j=f,m}o(a,"generateKeystreamWord"),t.RC4=n._createHelper(s);var l=i.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:o(function(){s._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)a.call(this)},"_doReset")});t.RC4Drop=n._createHelper(l)}(),e.RC4})});var Vde=V(($R,Hde)=>{d();(function(e,t,r){typeof $R=="object"?Hde.exports=$R=t(xi(),$2(),z2(),Jg(),$a()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})($R,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,s=[],a=[],l=[],c=i.Rabbit=n.extend({_doReset:o(function(){for(var f=this._key.words,m=this.cfg.iv,h=0;h<4;h++)f[h]=(f[h]<<8|f[h]>>>24)&16711935|(f[h]<<24|f[h]>>>8)&4278255360;var p=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],A=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var h=0;h<4;h++)u.call(this);for(var h=0;h<8;h++)A[h]^=p[h+4&7];if(m){var x=m.words,E=x[0],v=x[1],b=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,S=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,B=b>>>16|S&4294901760,P=S<<16|b&65535;A[0]^=b,A[1]^=B,A[2]^=S,A[3]^=P,A[4]^=b,A[5]^=B,A[6]^=S,A[7]^=P;for(var h=0;h<4;h++)u.call(this)}},"_doReset"),_doProcessBlock:o(function(f,m){var h=this._X;u.call(this),s[0]=h[0]^h[5]>>>16^h[3]<<16,s[1]=h[2]^h[7]>>>16^h[5]<<16,s[2]=h[4]^h[1]>>>16^h[7]<<16,s[3]=h[6]^h[3]>>>16^h[1]<<16;for(var p=0;p<4;p++)s[p]=(s[p]<<8|s[p]>>>24)&16711935|(s[p]<<24|s[p]>>>8)&4278255360,f[m+p]^=s[p]},"_doProcessBlock"),blockSize:128/32,ivSize:64/32});function u(){for(var f=this._X,m=this._C,h=0;h<8;h++)a[h]=m[h];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<a[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<a[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<a[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<a[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<a[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<a[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<a[6]>>>0?1:0)|0,this._b=m[7]>>>0<a[7]>>>0?1:0;for(var h=0;h<8;h++){var p=f[h]+m[h],A=p&65535,x=p>>>16,E=((A*A>>>17)+A*x>>>15)+x*x,v=((p&4294901760)*p|0)+((p&65535)*p|0);l[h]=E^v}f[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,f[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,f[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,f[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,f[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,f[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,f[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,f[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}o(u,"nextState"),t.Rabbit=n._createHelper(c)}(),e.Rabbit})});var $de=V((zR,jde)=>{d();(function(e,t,r){typeof zR=="object"?jde.exports=zR=t(xi(),$2(),z2(),Jg(),$a()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(zR,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,s=[],a=[],l=[],c=i.RabbitLegacy=n.extend({_doReset:o(function(){var f=this._key.words,m=this.cfg.iv,h=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],p=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var A=0;A<4;A++)u.call(this);for(var A=0;A<8;A++)p[A]^=h[A+4&7];if(m){var x=m.words,E=x[0],v=x[1],b=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,S=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,B=b>>>16|S&4294901760,P=S<<16|b&65535;p[0]^=b,p[1]^=B,p[2]^=S,p[3]^=P,p[4]^=b,p[5]^=B,p[6]^=S,p[7]^=P;for(var A=0;A<4;A++)u.call(this)}},"_doReset"),_doProcessBlock:o(function(f,m){var h=this._X;u.call(this),s[0]=h[0]^h[5]>>>16^h[3]<<16,s[1]=h[2]^h[7]>>>16^h[5]<<16,s[2]=h[4]^h[1]>>>16^h[7]<<16,s[3]=h[6]^h[3]>>>16^h[1]<<16;for(var p=0;p<4;p++)s[p]=(s[p]<<8|s[p]>>>24)&16711935|(s[p]<<24|s[p]>>>8)&4278255360,f[m+p]^=s[p]},"_doProcessBlock"),blockSize:128/32,ivSize:64/32});function u(){for(var f=this._X,m=this._C,h=0;h<8;h++)a[h]=m[h];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<a[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<a[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<a[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<a[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<a[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<a[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<a[6]>>>0?1:0)|0,this._b=m[7]>>>0<a[7]>>>0?1:0;for(var h=0;h<8;h++){var p=f[h]+m[h],A=p&65535,x=p>>>16,E=((A*A>>>17)+A*x>>>15)+x*x,v=((p&4294901760)*p|0)+((p&65535)*p|0);l[h]=E^v}f[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,f[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,f[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,f[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,f[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,f[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,f[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,f[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}o(u,"nextState"),t.RabbitLegacy=n._createHelper(c)}(),e.RabbitLegacy})});var Yde=V((YR,zde)=>{d();(function(e,t,r){typeof YR=="object"?zde.exports=YR=t(xi(),$2(),z2(),Jg(),$a()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(YR,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,i=t.algo;let s=16,a=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function u(A,x){let E=x>>24&255,v=x>>16&255,b=x>>8&255,S=x&255,B=A.sbox[0][E]+A.sbox[1][v];return B=B^A.sbox[2][b],B=B+A.sbox[3][S],B}o(u,"F");function f(A,x,E){let v=x,b=E,S;for(let B=0;B<s;++B)v=v^A.pbox[B],b=u(A,v)^b,S=v,v=b,b=S;return S=v,v=b,b=S,b=b^A.pbox[s],v=v^A.pbox[s+1],{left:v,right:b}}o(f,"BlowFish_Encrypt");function m(A,x,E){let v=x,b=E,S;for(let B=s+1;B>1;--B)v=v^A.pbox[B],b=u(A,v)^b,S=v,v=b,b=S;return S=v,v=b,b=S,b=b^A.pbox[1],v=v^A.pbox[0],{left:v,right:b}}o(m,"BlowFish_Decrypt");function h(A,x,E){for(let P=0;P<4;P++){A.sbox[P]=[];for(let F=0;F<256;F++)A.sbox[P][F]=l[P][F]}let v=0;for(let P=0;P<s+2;P++)A.pbox[P]=a[P]^x[v],v++,v>=E&&(v=0);let b=0,S=0,B=0;for(let P=0;P<s+2;P+=2)B=f(A,b,S),b=B.left,S=B.right,A.pbox[P]=b,A.pbox[P+1]=S;for(let P=0;P<4;P++)for(let F=0;F<256;F+=2)B=f(A,b,S),b=B.left,S=B.right,A.sbox[P][F]=b,A.sbox[P][F+1]=S;return!0}o(h,"BlowFishInit");var p=i.Blowfish=n.extend({_doReset:o(function(){if(this._keyPriorReset!==this._key){var A=this._keyPriorReset=this._key,x=A.words,E=A.sigBytes/4;h(c,x,E)}},"_doReset"),encryptBlock:o(function(A,x){var E=f(c,A[x],A[x+1]);A[x]=E.left,A[x+1]=E.right},"encryptBlock"),decryptBlock:o(function(A,x){var E=m(c,A[x],A[x+1]);A[x]=E.left,A[x+1]=E.right},"decryptBlock"),blockSize:64/32,keySize:128/32,ivSize:64/32});t.Blowfish=n._createHelper(p)}(),e.Blowfish})});var Y2=V((KR,Kde)=>{d();(function(e,t,r){typeof KR=="object"?Kde.exports=KR=t(xi(),_7(),$fe(),Yfe(),$2(),Xfe(),z2(),q$(),bR(),nde(),W$(),sde(),lde(),ude(),kR(),mde(),Jg(),$a(),Ade(),Cde(),Ede(),vde(),Tde(),Sde(),kde(),Rde(),Pde(),Nde(),Qde(),Ode(),qde(),Gde(),Vde(),$de(),Yde()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],t):e.CryptoJS=t(e.CryptoJS)})(KR,function(e){return e})});var Nb=V(A0=>{"use strict";d();Object.defineProperty(A0,"__esModule",{value:!0});A0.stringArray=A0.array=A0.func=A0.error=A0.number=A0.string=A0.boolean=void 0;function Kze(e){return e===!0||e===!1}o(Kze,"boolean");A0.boolean=Kze;function dpe(e){return typeof e=="string"||e instanceof String}o(dpe,"string");A0.string=dpe;function Jze(e){return typeof e=="number"||e instanceof Number}o(Jze,"number");A0.number=Jze;function Xze(e){return e instanceof Error}o(Xze,"error");A0.error=Xze;function Zze(e){return typeof e=="function"}o(Zze,"func");A0.func=Zze;function mpe(e){return Array.isArray(e)}o(mpe,"array");A0.array=mpe;function eYe(e){return mpe(e)&&e.every(t=>dpe(t))}o(eYe,"stringArray");A0.stringArray=eYe});var Jz=V($r=>{"use strict";d();Object.defineProperty($r,"__esModule",{value:!0});$r.Message=$r.NotificationType9=$r.NotificationType8=$r.NotificationType7=$r.NotificationType6=$r.NotificationType5=$r.NotificationType4=$r.NotificationType3=$r.NotificationType2=$r.NotificationType1=$r.NotificationType0=$r.NotificationType=$r.RequestType9=$r.RequestType8=$r.RequestType7=$r.RequestType6=$r.RequestType5=$r.RequestType4=$r.RequestType3=$r.RequestType2=$r.RequestType1=$r.RequestType=$r.RequestType0=$r.AbstractMessageSignature=$r.ParameterStructures=$r.ResponseError=$r.ErrorCodes=void 0;var S3=Nb(),Sz;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3})(Sz||($r.ErrorCodes=Sz={}));var _z=class e extends Error{static{o(this,"ResponseError")}constructor(t,r,n){super(r),this.code=S3.number(t)?t:Sz.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,e.prototype)}toJson(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),t}};$r.ResponseError=_z;var _c=class e{static{o(this,"ParameterStructures")}constructor(t){this.kind=t}static is(t){return t===e.auto||t===e.byName||t===e.byPosition}toString(){return this.kind}};$r.ParameterStructures=_c;_c.auto=new _c("auto");_c.byPosition=new _c("byPosition");_c.byName=new _c("byName");var Ko=class{static{o(this,"AbstractMessageSignature")}constructor(t,r){this.method=t,this.numberOfParams=r}get parameterStructures(){return _c.auto}};$r.AbstractMessageSignature=Ko;var kz=class extends Ko{static{o(this,"RequestType0")}constructor(t){super(t,0)}};$r.RequestType0=kz;var Bz=class extends Ko{static{o(this,"RequestType")}constructor(t,r=_c.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};$r.RequestType=Bz;var Rz=class extends Ko{static{o(this,"RequestType1")}constructor(t,r=_c.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};$r.RequestType1=Rz;var Dz=class extends Ko{static{o(this,"RequestType2")}constructor(t){super(t,2)}};$r.RequestType2=Dz;var Pz=class extends Ko{static{o(this,"RequestType3")}constructor(t){super(t,3)}};$r.RequestType3=Pz;var Fz=class extends Ko{static{o(this,"RequestType4")}constructor(t){super(t,4)}};$r.RequestType4=Fz;var Nz=class extends Ko{static{o(this,"RequestType5")}constructor(t){super(t,5)}};$r.RequestType5=Nz;var Lz=class extends Ko{static{o(this,"RequestType6")}constructor(t){super(t,6)}};$r.RequestType6=Lz;var Qz=class extends Ko{static{o(this,"RequestType7")}constructor(t){super(t,7)}};$r.RequestType7=Qz;var Mz=class extends Ko{static{o(this,"RequestType8")}constructor(t){super(t,8)}};$r.RequestType8=Mz;var Oz=class extends Ko{static{o(this,"RequestType9")}constructor(t){super(t,9)}};$r.RequestType9=Oz;var Uz=class extends Ko{static{o(this,"NotificationType")}constructor(t,r=_c.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};$r.NotificationType=Uz;var qz=class extends Ko{static{o(this,"NotificationType0")}constructor(t){super(t,0)}};$r.NotificationType0=qz;var Wz=class extends Ko{static{o(this,"NotificationType1")}constructor(t,r=_c.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};$r.NotificationType1=Wz;var Gz=class extends Ko{static{o(this,"NotificationType2")}constructor(t){super(t,2)}};$r.NotificationType2=Gz;var Hz=class extends Ko{static{o(this,"NotificationType3")}constructor(t){super(t,3)}};$r.NotificationType3=Hz;var Vz=class extends Ko{static{o(this,"NotificationType4")}constructor(t){super(t,4)}};$r.NotificationType4=Vz;var jz=class extends Ko{static{o(this,"NotificationType5")}constructor(t){super(t,5)}};$r.NotificationType5=jz;var $z=class extends Ko{static{o(this,"NotificationType6")}constructor(t){super(t,6)}};$r.NotificationType6=$z;var zz=class extends Ko{static{o(this,"NotificationType7")}constructor(t){super(t,7)}};$r.NotificationType7=zz;var Yz=class extends Ko{static{o(this,"NotificationType8")}constructor(t){super(t,8)}};$r.NotificationType8=Yz;var Kz=class extends Ko{static{o(this,"NotificationType9")}constructor(t){super(t,9)}};$r.NotificationType9=Kz;var hpe;(function(e){function t(i){let s=i;return s&&S3.string(s.method)&&(S3.string(s.id)||S3.number(s.id))}o(t,"isRequest"),e.isRequest=t;function r(i){let s=i;return s&&S3.string(s.method)&&i.id===void 0}o(r,"isNotification"),e.isNotification=r;function n(i){let s=i;return s&&(s.result!==void 0||!!s.error)&&(S3.string(s.id)||S3.number(s.id)||s.id===null)}o(n,"isResponse"),e.isResponse=n})(hpe||($r.Message=hpe={}))});var Zz=V(o5=>{"use strict";d();var ppe;Object.defineProperty(o5,"__esModule",{value:!0});o5.LRUCache=o5.LinkedMap=o5.Touch=void 0;var y0;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(y0||(o5.Touch=y0={}));var TD=class{static{o(this,"LinkedMap")}constructor(){this[ppe]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(t){return this._map.has(t)}get(t,r=y0.None){let n=this._map.get(t);if(n)return r!==y0.None&&this.touch(n,r),n.value}set(t,r,n=y0.None){let i=this._map.get(t);if(i)i.value=r,n!==y0.None&&this.touch(i,n);else{switch(i={key:t,value:r,next:void 0,previous:void 0},n){case y0.None:this.addItemLast(i);break;case y0.First:this.addItemFirst(i);break;case y0.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let r=this._map.get(t);if(r)return this._map.delete(t),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._state,i=this._head;for(;i;){if(r?t.bind(r)(i.value,i.key,this):t(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:o(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.key,done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}values(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:o(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.value,done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}entries(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:o(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:[r.key,r.value],done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}[(ppe=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}t.next=void 0,t.previous=void 0,this._state++}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==y0.First&&r!==y0.Last)){if(r===y0.First){if(t===this._head)return;let n=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(r===y0.Last){if(t===this._tail)return;let n=t.next,i=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((r,n)=>{t.push([n,r])}),t}fromJSON(t){this.clear();for(let[r,n]of t)this.set(r,n)}};o5.LinkedMap=TD;var Xz=class extends TD{static{o(this,"LRUCache")}constructor(t,r=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,r=y0.AsNew){return super.get(t,r)}peek(t){return super.get(t,y0.None)}set(t,r){return super.set(t,r,y0.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};o5.LRUCache=Xz});var Ape=V(wD=>{"use strict";d();Object.defineProperty(wD,"__esModule",{value:!0});wD.Disposable=void 0;var gpe;(function(e){function t(r){return{dispose:r}}o(t,"create"),e.create=t})(gpe||(wD.Disposable=gpe={}))});var s5=V(rY=>{"use strict";d();Object.defineProperty(rY,"__esModule",{value:!0});var eY;function tY(){if(eY===void 0)throw new Error("No runtime abstraction layer installed");return eY}o(tY,"RAL");(function(e){function t(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");eY=r}o(t,"install"),e.install=t})(tY||(tY={}));rY.default=tY});var Qb=V(Lb=>{"use strict";d();Object.defineProperty(Lb,"__esModule",{value:!0});Lb.Emitter=Lb.Event=void 0;var tYe=s5(),ype;(function(e){let t={dispose(){}};e.None=function(){return t}})(ype||(Lb.Event=ype={}));var nY=class{static{o(this,"CallbackList")}add(t,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:o(()=>this.remove(t,r),"dispose")})}remove(t,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===t)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,a=n.length;s<a;s++)try{r.push(n[s].apply(i[s],t))}catch(l){(0,tYe.default)().console.error(l)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},SD=class e{static{o(this,"Emitter")}constructor(t){this._options=t}get event(){return this._event||(this._event=(t,r,n)=>{this._callbacks||(this._callbacks=new nY),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,r);let i={dispose:o(()=>{this._callbacks&&(this._callbacks.remove(t,r),i.dispose=e._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))},"dispose")};return Array.isArray(n)&&n.push(i),i}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Lb.Emitter=SD;SD._noop=function(){}});var BD=V(Mb=>{"use strict";d();Object.defineProperty(Mb,"__esModule",{value:!0});Mb.CancellationTokenSource=Mb.CancellationToken=void 0;var rYe=s5(),nYe=Nb(),iY=Qb(),_D;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:iY.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:iY.Event.None});function t(r){let n=r;return n&&(n===e.None||n===e.Cancelled||nYe.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}o(t,"is"),e.is=t})(_D||(Mb.CancellationToken=_D={}));var iYe=Object.freeze(function(e,t){let r=(0,rYe.default)().timer.setTimeout(e.bind(t),0);return{dispose(){r.dispose()}}}),kD=class{static{o(this,"MutableToken")}constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?iYe:(this._emitter||(this._emitter=new iY.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},oY=class{static{o(this,"CancellationTokenSource")}get token(){return this._token||(this._token=new kD),this._token}cancel(){this._token?this._token.cancel():this._token=_D.Cancelled}dispose(){this._token?this._token instanceof kD&&this._token.dispose():this._token=_D.None}};Mb.CancellationTokenSource=oY});var Cpe=V(Ob=>{"use strict";d();Object.defineProperty(Ob,"__esModule",{value:!0});Ob.SharedArrayReceiverStrategy=Ob.SharedArraySenderStrategy=void 0;var oYe=BD(),z7;(function(e){e.Continue=0,e.Cancelled=1})(z7||(z7={}));var sY=class{static{o(this,"SharedArraySenderStrategy")}constructor(){this.buffers=new Map}enableCancellation(t){if(t.id===null)return;let r=new SharedArrayBuffer(4),n=new Int32Array(r,0,1);n[0]=z7.Continue,this.buffers.set(t.id,r),t.$cancellationData=r}async sendCancellation(t,r){let n=this.buffers.get(r);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,z7.Cancelled)}cleanup(t){this.buffers.delete(t)}dispose(){this.buffers.clear()}};Ob.SharedArraySenderStrategy=sY;var aY=class{static{o(this,"SharedArrayBufferCancellationToken")}constructor(t){this.data=new Int32Array(t,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===z7.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},lY=class{static{o(this,"SharedArrayBufferCancellationTokenSource")}constructor(t){this.token=new aY(t)}cancel(){}dispose(){}},cY=class{static{o(this,"SharedArrayReceiverStrategy")}constructor(){this.kind="request"}createCancellationTokenSource(t){let r=t.$cancellationData;return r===void 0?new oYe.CancellationTokenSource:new lY(r)}};Ob.SharedArrayReceiverStrategy=cY});var fY=V(RD=>{"use strict";d();Object.defineProperty(RD,"__esModule",{value:!0});RD.Semaphore=void 0;var sYe=s5(),uY=class{static{o(this,"Semaphore")}constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((r,n)=>{this._waiting.push({thunk:t,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,sYe.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=t.thunk();r instanceof Promise?r.then(n=>{this._active--,t.resolve(n),this.runNext()},n=>{this._active--,t.reject(n),this.runNext()}):(this._active--,t.resolve(r),this.runNext())}catch(r){this._active--,t.reject(r),this.runNext()}}};RD.Semaphore=uY});var Epe=V(a5=>{"use strict";d();Object.defineProperty(a5,"__esModule",{value:!0});a5.ReadableStreamMessageReader=a5.AbstractMessageReader=a5.MessageReader=void 0;var mY=s5(),Ub=Nb(),dY=Qb(),aYe=fY(),xpe;(function(e){function t(r){let n=r;return n&&Ub.func(n.listen)&&Ub.func(n.dispose)&&Ub.func(n.onError)&&Ub.func(n.onClose)&&Ub.func(n.onPartialMessage)}o(t,"is"),e.is=t})(xpe||(a5.MessageReader=xpe={}));var DD=class{static{o(this,"AbstractMessageReader")}constructor(){this.errorEmitter=new dY.Emitter,this.closeEmitter=new dY.Emitter,this.partialMessageEmitter=new dY.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${Ub.string(t.message)?t.message:"unknown"}`)}};a5.AbstractMessageReader=DD;var hY;(function(e){function t(r){let n,i,s,a=new Map,l,c=new Map;if(r===void 0||typeof r=="string")n=r??"utf-8";else{if(n=r.charset??"utf-8",r.contentDecoder!==void 0&&(s=r.contentDecoder,a.set(s.name,s)),r.contentDecoders!==void 0)for(let u of r.contentDecoders)a.set(u.name,u);if(r.contentTypeDecoder!==void 0&&(l=r.contentTypeDecoder,c.set(l.name,l)),r.contentTypeDecoders!==void 0)for(let u of r.contentTypeDecoders)c.set(u.name,u)}return l===void 0&&(l=(0,mY.default)().applicationJson.decoder,c.set(l.name,l)),{charset:n,contentDecoder:s,contentDecoders:a,contentTypeDecoder:l,contentTypeDecoders:c}}o(t,"fromOptions"),e.fromOptions=t})(hY||(hY={}));var pY=class extends DD{static{o(this,"ReadableStreamMessageReader")}constructor(t,r){super(),this.readable=t,this.options=hY.fromOptions(r),this.buffer=(0,mY.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new aYe.Semaphore(1)}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(t){try{for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(n))}`));return}let s=parseInt(i);if(isNaN(s)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=s}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(r):r,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}catch(r){this.fireError(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,mY.default)().timer.setTimeout((t,r)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};a5.ReadableStreamMessageReader=pY});var wpe=V(l5=>{"use strict";d();Object.defineProperty(l5,"__esModule",{value:!0});l5.WriteableStreamMessageWriter=l5.AbstractMessageWriter=l5.MessageWriter=void 0;var bpe=s5(),Y7=Nb(),lYe=fY(),vpe=Qb(),cYe="Content-Length: ",Ipe=`\r
`,Tpe;(function(e){function t(r){let n=r;return n&&Y7.func(n.dispose)&&Y7.func(n.onClose)&&Y7.func(n.onError)&&Y7.func(n.write)}o(t,"is"),e.is=t})(Tpe||(l5.MessageWriter=Tpe={}));var PD=class{static{o(this,"AbstractMessageWriter")}constructor(){this.errorEmitter=new vpe.Emitter,this.closeEmitter=new vpe.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,r,n){this.errorEmitter.fire([this.asError(t),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${Y7.string(t.message)?t.message:"unknown"}`)}};l5.AbstractMessageWriter=PD;var gY;(function(e){function t(r){return r===void 0||typeof r=="string"?{charset:r??"utf-8",contentTypeEncoder:(0,bpe.default)().applicationJson.encoder}:{charset:r.charset??"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:r.contentTypeEncoder??(0,bpe.default)().applicationJson.encoder}}o(t,"fromOptions"),e.fromOptions=t})(gY||(gY={}));var AY=class extends PD{static{o(this,"WriteableStreamMessageWriter")}constructor(t,r){super(),this.writable=t,this.options=gY.fromOptions(r),this.errorCount=0,this.writeSemaphore=new lYe.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(cYe,n.byteLength.toString(),Ipe),i.push(Ipe),this.doWrite(t,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(t,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,t),Promise.reject(i)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){this.writable.end()}};l5.WriteableStreamMessageWriter=AY});var Spe=V(FD=>{"use strict";d();Object.defineProperty(FD,"__esModule",{value:!0});FD.AbstractMessageBuffer=void 0;var uYe=13,fYe=10,dYe=`\r
`,yY=class{static{o(this,"AbstractMessageBuffer")}constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){let r=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(t=!1){if(this._chunks.length===0)return;let r=0,n=0,i=0,s=0;e:for(;n<this._chunks.length;){let u=this._chunks[n];for(i=0;i<u.length;){switch(u[i]){case uYe:switch(r){case 0:r=1;break;case 2:r=3;break;default:r=0}break;case fYe:switch(r){case 1:r=2;break;case 3:r=4,i++;break e;default:r=0}break;default:r=0}i++}s+=u.byteLength,n++}if(r!==4)return;let a=this._read(s+i),l=new Map,c=this.toString(a,"ascii").split(dYe);if(c.length<2)return l;for(let u=0;u<c.length-2;u++){let f=c[u],m=f.indexOf(":");if(m===-1)throw new Error(`Message header must separate key and value using ':'
${f}`);let h=f.substr(0,m),p=f.substr(m+1).trim();l.set(t?h.toLowerCase():h,p)}return l}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(s)}if(this._chunks[0].byteLength>t){let s=this._chunks[0],a=this.asNative(s,t);return this._chunks[0]=s.slice(t),this._totalLength-=t,a}let r=this.allocNative(t),n=0,i=0;for(;t>0;){let s=this._chunks[i];if(s.byteLength>t){let a=s.slice(0,t);r.set(a,n),n+=t,this._chunks[i]=s.slice(t),this._totalLength-=t,t-=t}else r.set(s,n),n+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,t-=s.byteLength}return r}};FD.AbstractMessageBuffer=yY});var Dpe=V(Un=>{"use strict";d();Object.defineProperty(Un,"__esModule",{value:!0});Un.createMessageConnection=Un.ConnectionOptions=Un.MessageStrategy=Un.CancellationStrategy=Un.CancellationSenderStrategy=Un.CancellationReceiverStrategy=Un.RequestCancellationReceiverStrategy=Un.IdCancellationReceiverStrategy=Un.ConnectionStrategy=Un.ConnectionError=Un.ConnectionErrors=Un.LogTraceNotification=Un.SetTraceNotification=Un.TraceFormat=Un.TraceValues=Un.Trace=Un.NullLogger=Un.ProgressType=Un.ProgressToken=void 0;var _pe=s5(),Rs=Nb(),En=Jz(),kpe=Zz(),K7=Qb(),CY=BD(),Z7;(function(e){e.type=new En.NotificationType("$/cancelRequest")})(Z7||(Z7={}));var xY;(function(e){function t(r){return typeof r=="string"||typeof r=="number"}o(t,"is"),e.is=t})(xY||(Un.ProgressToken=xY={}));var J7;(function(e){e.type=new En.NotificationType("$/progress")})(J7||(J7={}));var EY=class{static{o(this,"ProgressType")}constructor(){}};Un.ProgressType=EY;var bY;(function(e){function t(r){return Rs.func(r)}o(t,"is"),e.is=t})(bY||(bY={}));Un.NullLogger=Object.freeze({error:o(()=>{},"error"),warn:o(()=>{},"warn"),info:o(()=>{},"info"),log:o(()=>{},"log")});var io;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"})(io||(Un.Trace=io={}));var Bpe;(function(e){e.Off="off",e.Messages="messages",e.Compact="compact",e.Verbose="verbose"})(Bpe||(Un.TraceValues=Bpe={}));(function(e){function t(n){if(!Rs.string(n))return e.Off;switch(n=n.toLowerCase(),n){case"off":return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose;default:return e.Off}}o(t,"fromString"),e.fromString=t;function r(n){switch(n){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}o(r,"toString"),e.toString=r})(io||(Un.Trace=io={}));var wu;(function(e){e.Text="text",e.JSON="json"})(wu||(Un.TraceFormat=wu={}));(function(e){function t(r){return Rs.string(r)?(r=r.toLowerCase(),r==="json"?e.JSON:e.Text):e.Text}o(t,"fromString"),e.fromString=t})(wu||(Un.TraceFormat=wu={}));var vY;(function(e){e.type=new En.NotificationType("$/setTrace")})(vY||(Un.SetTraceNotification=vY={}));var ND;(function(e){e.type=new En.NotificationType("$/logTrace")})(ND||(Un.LogTraceNotification=ND={}));var X7;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(X7||(Un.ConnectionErrors=X7={}));var qb=class e extends Error{static{o(this,"ConnectionError")}constructor(t,r){super(r),this.code=t,Object.setPrototypeOf(this,e.prototype)}};Un.ConnectionError=qb;var IY;(function(e){function t(r){let n=r;return n&&Rs.func(n.cancelUndispatched)}o(t,"is"),e.is=t})(IY||(Un.ConnectionStrategy=IY={}));var LD;(function(e){function t(r){let n=r;return n&&(n.kind===void 0||n.kind==="id")&&Rs.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Rs.func(n.dispose))}o(t,"is"),e.is=t})(LD||(Un.IdCancellationReceiverStrategy=LD={}));var TY;(function(e){function t(r){let n=r;return n&&n.kind==="request"&&Rs.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Rs.func(n.dispose))}o(t,"is"),e.is=t})(TY||(Un.RequestCancellationReceiverStrategy=TY={}));var QD;(function(e){e.Message=Object.freeze({createCancellationTokenSource(r){return new CY.CancellationTokenSource}});function t(r){return LD.is(r)||TY.is(r)}o(t,"is"),e.is=t})(QD||(Un.CancellationReceiverStrategy=QD={}));var MD;(function(e){e.Message=Object.freeze({sendCancellation(r,n){return r.sendNotification(Z7.type,{id:n})},cleanup(r){}});function t(r){let n=r;return n&&Rs.func(n.sendCancellation)&&Rs.func(n.cleanup)}o(t,"is"),e.is=t})(MD||(Un.CancellationSenderStrategy=MD={}));var OD;(function(e){e.Message=Object.freeze({receiver:QD.Message,sender:MD.Message});function t(r){let n=r;return n&&QD.is(n.receiver)&&MD.is(n.sender)}o(t,"is"),e.is=t})(OD||(Un.CancellationStrategy=OD={}));var UD;(function(e){function t(r){let n=r;return n&&Rs.func(n.handleMessage)}o(t,"is"),e.is=t})(UD||(Un.MessageStrategy=UD={}));var Rpe;(function(e){function t(r){let n=r;return n&&(OD.is(n.cancellationStrategy)||IY.is(n.connectionStrategy)||UD.is(n.messageStrategy))}o(t,"is"),e.is=t})(Rpe||(Un.ConnectionOptions=Rpe={}));var Em;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(Em||(Em={}));function mYe(e,t,r,n){let i=r!==void 0?r:Un.NullLogger,s=0,a=0,l=0,c="2.0",u,f=new Map,m,h=new Map,p=new Map,A,x=new kpe.LinkedMap,E=new Map,v=new Set,b=new Map,S=io.Off,B=wu.Text,P,F=Em.New,q=new K7.Emitter,ne=new K7.Emitter,ce=new K7.Emitter,Z=new K7.Emitter,G=new K7.Emitter,U=n&&n.cancellationStrategy?n.cancellationStrategy:OD.Message;function ie(ge){if(ge===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+ge.toString()}o(ie,"createRequestQueueKey");function J(ge){return ge===null?"res-unknown-"+(++l).toString():"res-"+ge.toString()}o(J,"createResponseQueueKey");function H(){return"not-"+(++a).toString()}o(H,"createNotificationQueueKey");function M(ge,Le){En.Message.isRequest(Le)?ge.set(ie(Le.id),Le):En.Message.isResponse(Le)?ge.set(J(Le.id),Le):ge.set(H(),Le)}o(M,"addMessageToQueue");function j(ge){}o(j,"cancelUndispatched");function X(){return F===Em.Listening}o(X,"isListening");function ae(){return F===Em.Closed}o(ae,"isClosed");function re(){return F===Em.Disposed}o(re,"isDisposed");function le(){(F===Em.New||F===Em.Listening)&&(F=Em.Closed,ne.fire(void 0))}o(le,"closeHandler");function de(ge){q.fire([ge,void 0,void 0])}o(de,"readErrorHandler");function Re(ge){q.fire(ge)}o(Re,"writeErrorHandler"),e.onClose(le),e.onError(de),t.onClose(le),t.onError(Re);function Ee(){A||x.size===0||(A=(0,_pe.default)().timer.setImmediate(()=>{A=void 0,_e()}))}o(Ee,"triggerMessageQueue");function Oe(ge){En.Message.isRequest(ge)?ut(ge):En.Message.isNotification(ge)?at(ge):En.Message.isResponse(ge)?ot(ge):oe(ge)}o(Oe,"handleMessage");function _e(){if(x.size===0)return;let ge=x.shift();try{let Le=n?.messageStrategy;UD.is(Le)?Le.handleMessage(ge,Oe):Oe(ge)}finally{Ee()}}o(_e,"processMessageQueue");let Je=o(ge=>{try{if(En.Message.isNotification(ge)&&ge.method===Z7.type.method){let Le=ge.params.id,Ke=ie(Le),et=x.get(Ke);if(En.Message.isRequest(et)){let Et=n?.connectionStrategy,Lt=Et&&Et.cancelUndispatched?Et.cancelUndispatched(et,j):void 0;if(Lt&&(Lt.error!==void 0||Lt.result!==void 0)){x.delete(Ke),b.delete(Le),Lt.id=et.id,z(Lt,ge.method,Date.now()),t.write(Lt).catch(()=>i.error("Sending response for canceled message failed."));return}}let St=b.get(Le);if(St!==void 0){St.cancel(),Ne(ge);return}else v.add(Le)}M(x,ge)}finally{Ee()}},"callback");function ut(ge){if(re())return;function Le(Tt,_t,wt){let Ut={jsonrpc:c,id:ge.id};Tt instanceof En.ResponseError?Ut.error=Tt.toJson():Ut.result=Tt===void 0?null:Tt,z(Ut,_t,wt),t.write(Ut).catch(()=>i.error("Sending response failed."))}o(Le,"reply");function Ke(Tt,_t,wt){let Ut={jsonrpc:c,id:ge.id,error:Tt.toJson()};z(Ut,_t,wt),t.write(Ut).catch(()=>i.error("Sending response failed."))}o(Ke,"replyError");function et(Tt,_t,wt){Tt===void 0&&(Tt=null);let Ut={jsonrpc:c,id:ge.id,result:Tt};z(Ut,_t,wt),t.write(Ut).catch(()=>i.error("Sending response failed."))}o(et,"replySuccess"),te(ge);let St=f.get(ge.method),Et,Lt;St&&(Et=St.type,Lt=St.handler);let Mt=Date.now();if(Lt||u){let Tt=ge.id??String(Date.now()),_t=LD.is(U.receiver)?U.receiver.createCancellationTokenSource(Tt):U.receiver.createCancellationTokenSource(ge);ge.id!==null&&v.has(ge.id)&&_t.cancel(),ge.id!==null&&b.set(Tt,_t);try{let wt;if(Lt)if(ge.params===void 0){if(Et!==void 0&&Et.numberOfParams!==0){Ke(new En.ResponseError(En.ErrorCodes.InvalidParams,`Request ${ge.method} defines ${Et.numberOfParams} params but received none.`),ge.method,Mt);return}wt=Lt(_t.token)}else if(Array.isArray(ge.params)){if(Et!==void 0&&Et.parameterStructures===En.ParameterStructures.byName){Ke(new En.ResponseError(En.ErrorCodes.InvalidParams,`Request ${ge.method} defines parameters by name but received parameters by position`),ge.method,Mt);return}wt=Lt(...ge.params,_t.token)}else{if(Et!==void 0&&Et.parameterStructures===En.ParameterStructures.byPosition){Ke(new En.ResponseError(En.ErrorCodes.InvalidParams,`Request ${ge.method} defines parameters by position but received parameters by name`),ge.method,Mt);return}wt=Lt(ge.params,_t.token)}else u&&(wt=u(ge.method,ge.params,_t.token));let Ut=wt;wt?Ut.then?Ut.then(Wt=>{b.delete(Tt),Le(Wt,ge.method,Mt)},Wt=>{b.delete(Tt),Wt instanceof En.ResponseError?Ke(Wt,ge.method,Mt):Wt&&Rs.string(Wt.message)?Ke(new En.ResponseError(En.ErrorCodes.InternalError,`Request ${ge.method} failed with message: ${Wt.message}`),ge.method,Mt):Ke(new En.ResponseError(En.ErrorCodes.InternalError,`Request ${ge.method} failed unexpectedly without providing any details.`),ge.method,Mt)}):(b.delete(Tt),Le(wt,ge.method,Mt)):(b.delete(Tt),et(wt,ge.method,Mt))}catch(wt){b.delete(Tt),wt instanceof En.ResponseError?Le(wt,ge.method,Mt):wt&&Rs.string(wt.message)?Ke(new En.ResponseError(En.ErrorCodes.InternalError,`Request ${ge.method} failed with message: ${wt.message}`),ge.method,Mt):Ke(new En.ResponseError(En.ErrorCodes.InternalError,`Request ${ge.method} failed unexpectedly without providing any details.`),ge.method,Mt)}}else Ke(new En.ResponseError(En.ErrorCodes.MethodNotFound,`Unhandled method ${ge.method}`),ge.method,Mt)}o(ut,"handleRequest");function ot(ge){if(!re())if(ge.id===null)ge.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(ge.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let Le=ge.id,Ke=E.get(Le);if(Se(ge,Ke),Ke!==void 0){E.delete(Le);try{if(ge.error){let et=ge.error;Ke.reject(new En.ResponseError(et.code,et.message,et.data))}else if(ge.result!==void 0)Ke.resolve(ge.result);else throw new Error("Should never happen.")}catch(et){et.message?i.error(`Response handler '${Ke.method}' failed with message: ${et.message}`):i.error(`Response handler '${Ke.method}' failed unexpectedly.`)}}}}o(ot,"handleResponse");function at(ge){if(re())return;let Le,Ke;if(ge.method===Z7.type.method){let et=ge.params.id;v.delete(et),Ne(ge);return}else{let et=h.get(ge.method);et&&(Ke=et.handler,Le=et.type)}if(Ke||m)try{if(Ne(ge),Ke)if(ge.params===void 0)Le!==void 0&&Le.numberOfParams!==0&&Le.parameterStructures!==En.ParameterStructures.byName&&i.error(`Notification ${ge.method} defines ${Le.numberOfParams} params but received none.`),Ke();else if(Array.isArray(ge.params)){let et=ge.params;ge.method===J7.type.method&&et.length===2&&xY.is(et[0])?Ke({token:et[0],value:et[1]}):(Le!==void 0&&(Le.parameterStructures===En.ParameterStructures.byName&&i.error(`Notification ${ge.method} defines parameters by name but received parameters by position`),Le.numberOfParams!==ge.params.length&&i.error(`Notification ${ge.method} defines ${Le.numberOfParams} params but received ${et.length} arguments`)),Ke(...et))}else Le!==void 0&&Le.parameterStructures===En.ParameterStructures.byPosition&&i.error(`Notification ${ge.method} defines parameters by position but received parameters by name`),Ke(ge.params);else m&&m(ge.method,ge.params)}catch(et){et.message?i.error(`Notification handler '${ge.method}' failed with message: ${et.message}`):i.error(`Notification handler '${ge.method}' failed unexpectedly.`)}else ce.fire(ge)}o(at,"handleNotification");function oe(ge){if(!ge){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(ge,null,4)}`);let Le=ge;if(Rs.string(Le.id)||Rs.number(Le.id)){let Ke=Le.id,et=E.get(Ke);et&&et.reject(new Error("The received response has neither a result nor an error property."))}}o(oe,"handleInvalidMessage");function Pe(ge){if(ge!=null)switch(S){case io.Verbose:return JSON.stringify(ge,null,4);case io.Compact:return JSON.stringify(ge);default:return}}o(Pe,"stringifyTrace");function Ae(ge){if(!(S===io.Off||!P))if(B===wu.Text){let Le;(S===io.Verbose||S===io.Compact)&&ge.params&&(Le=`Params: ${Pe(ge.params)}

`),P.log(`Sending request '${ge.method} - (${ge.id})'.`,Le)}else Ce("send-request",ge)}o(Ae,"traceSendingRequest");function We(ge){if(!(S===io.Off||!P))if(B===wu.Text){let Le;(S===io.Verbose||S===io.Compact)&&(ge.params?Le=`Params: ${Pe(ge.params)}

`:Le=`No parameters provided.

`),P.log(`Sending notification '${ge.method}'.`,Le)}else Ce("send-notification",ge)}o(We,"traceSendingNotification");function z(ge,Le,Ke){if(!(S===io.Off||!P))if(B===wu.Text){let et;(S===io.Verbose||S===io.Compact)&&(ge.error&&ge.error.data?et=`Error data: ${Pe(ge.error.data)}

`:ge.result?et=`Result: ${Pe(ge.result)}

`:ge.error===void 0&&(et=`No result returned.

`)),P.log(`Sending response '${Le} - (${ge.id})'. Processing request took ${Date.now()-Ke}ms`,et)}else Ce("send-response",ge)}o(z,"traceSendingResponse");function te(ge){if(!(S===io.Off||!P))if(B===wu.Text){let Le;(S===io.Verbose||S===io.Compact)&&ge.params&&(Le=`Params: ${Pe(ge.params)}

`),P.log(`Received request '${ge.method} - (${ge.id})'.`,Le)}else Ce("receive-request",ge)}o(te,"traceReceivedRequest");function Ne(ge){if(!(S===io.Off||!P||ge.method===ND.type.method))if(B===wu.Text){let Le;(S===io.Verbose||S===io.Compact)&&(ge.params?Le=`Params: ${Pe(ge.params)}

`:Le=`No parameters provided.

`),P.log(`Received notification '${ge.method}'.`,Le)}else Ce("receive-notification",ge)}o(Ne,"traceReceivedNotification");function Se(ge,Le){if(!(S===io.Off||!P))if(B===wu.Text){let Ke;if((S===io.Verbose||S===io.Compact)&&(ge.error&&ge.error.data?Ke=`Error data: ${Pe(ge.error.data)}

`:ge.result?Ke=`Result: ${Pe(ge.result)}

`:ge.error===void 0&&(Ke=`No result returned.

`)),Le){let et=ge.error?` Request failed: ${ge.error.message} (${ge.error.code}).`:"";P.log(`Received response '${Le.method} - (${ge.id})' in ${Date.now()-Le.timerStart}ms.${et}`,Ke)}else P.log(`Received response ${ge.id} without active response promise.`,Ke)}else Ce("receive-response",ge)}o(Se,"traceReceivedResponse");function Ce(ge,Le){if(!P||S===io.Off)return;let Ke={isLSPMessage:!0,type:ge,message:Le,timestamp:Date.now()};P.log(Ke)}o(Ce,"logLSPMessage");function Ue(){if(ae())throw new qb(X7.Closed,"Connection is closed.");if(re())throw new qb(X7.Disposed,"Connection is disposed.")}o(Ue,"throwIfClosedOrDisposed");function Ve(){if(X())throw new qb(X7.AlreadyListening,"Connection is already listening")}o(Ve,"throwIfListening");function Ze(){if(!X())throw new Error("Call listen() first.")}o(Ze,"throwIfNotListening");function yt(ge){return ge===void 0?null:ge}o(yt,"undefinedToNull");function Dt(ge){if(ge!==null)return ge}o(Dt,"nullToUndefined");function At(ge){return ge!=null&&!Array.isArray(ge)&&typeof ge=="object"}o(At,"isNamedParam");function Vt(ge,Le){switch(ge){case En.ParameterStructures.auto:return At(Le)?Dt(Le):[yt(Le)];case En.ParameterStructures.byName:if(!At(Le))throw new Error("Received parameters by name but param is not an object literal.");return Dt(Le);case En.ParameterStructures.byPosition:return[yt(Le)];default:throw new Error(`Unknown parameter structure ${ge.toString()}`)}}o(Vt,"computeSingleParam");function $t(ge,Le){let Ke,et=ge.numberOfParams;switch(et){case 0:Ke=void 0;break;case 1:Ke=Vt(ge.parameterStructures,Le[0]);break;default:Ke=[];for(let St=0;St<Le.length&&St<et;St++)Ke.push(yt(Le[St]));if(Le.length<et)for(let St=Le.length;St<et;St++)Ke.push(null);break}return Ke}o($t,"computeMessageParams");let nr={sendNotification:o((ge,...Le)=>{Ue();let Ke,et;if(Rs.string(ge)){Ke=ge;let Et=Le[0],Lt=0,Mt=En.ParameterStructures.auto;En.ParameterStructures.is(Et)&&(Lt=1,Mt=Et);let Tt=Le.length,_t=Tt-Lt;switch(_t){case 0:et=void 0;break;case 1:et=Vt(Mt,Le[Lt]);break;default:if(Mt===En.ParameterStructures.byName)throw new Error(`Received ${_t} parameters for 'by Name' notification parameter structure.`);et=Le.slice(Lt,Tt).map(wt=>yt(wt));break}}else{let Et=Le;Ke=ge.method,et=$t(ge,Et)}let St={jsonrpc:c,method:Ke,params:et};return We(St),t.write(St).catch(Et=>{throw i.error("Sending notification failed."),Et})},"sendNotification"),onNotification:o((ge,Le)=>{Ue();let Ke;return Rs.func(ge)?m=ge:Le&&(Rs.string(ge)?(Ke=ge,h.set(ge,{type:void 0,handler:Le})):(Ke=ge.method,h.set(ge.method,{type:ge,handler:Le}))),{dispose:o(()=>{Ke!==void 0?h.delete(Ke):m=void 0},"dispose")}},"onNotification"),onProgress:o((ge,Le,Ke)=>{if(p.has(Le))throw new Error(`Progress handler for token ${Le} already registered`);return p.set(Le,Ke),{dispose:o(()=>{p.delete(Le)},"dispose")}},"onProgress"),sendProgress:o((ge,Le,Ke)=>nr.sendNotification(J7.type,{token:Le,value:Ke}),"sendProgress"),onUnhandledProgress:Z.event,sendRequest:o((ge,...Le)=>{Ue(),Ze();let Ke,et,St;if(Rs.string(ge)){Ke=ge;let Tt=Le[0],_t=Le[Le.length-1],wt=0,Ut=En.ParameterStructures.auto;En.ParameterStructures.is(Tt)&&(wt=1,Ut=Tt);let Wt=Le.length;CY.CancellationToken.is(_t)&&(Wt=Wt-1,St=_t);let zt=Wt-wt;switch(zt){case 0:et=void 0;break;case 1:et=Vt(Ut,Le[wt]);break;default:if(Ut===En.ParameterStructures.byName)throw new Error(`Received ${zt} parameters for 'by Name' request parameter structure.`);et=Le.slice(wt,Wt).map(lr=>yt(lr));break}}else{let Tt=Le;Ke=ge.method,et=$t(ge,Tt);let _t=ge.numberOfParams;St=CY.CancellationToken.is(Tt[_t])?Tt[_t]:void 0}let Et=s++,Lt;St&&(Lt=St.onCancellationRequested(()=>{let Tt=U.sender.sendCancellation(nr,Et);return Tt===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${Et}`),Promise.resolve()):Tt.catch(()=>{i.log(`Sending cancellation messages for id ${Et} failed`)})}));let Mt={jsonrpc:c,id:Et,method:Ke,params:et};return Ae(Mt),typeof U.sender.enableCancellation=="function"&&U.sender.enableCancellation(Mt),new Promise(async(Tt,_t)=>{let wt=o(zt=>{Tt(zt),U.sender.cleanup(Et),Lt?.dispose()},"resolveWithCleanup"),Ut=o(zt=>{_t(zt),U.sender.cleanup(Et),Lt?.dispose()},"rejectWithCleanup"),Wt={method:Ke,timerStart:Date.now(),resolve:wt,reject:Ut};try{await t.write(Mt),E.set(Et,Wt)}catch(zt){throw i.error("Sending request failed."),Wt.reject(new En.ResponseError(En.ErrorCodes.MessageWriteError,zt.message?zt.message:"Unknown reason")),zt}})},"sendRequest"),onRequest:o((ge,Le)=>{Ue();let Ke=null;return bY.is(ge)?(Ke=void 0,u=ge):Rs.string(ge)?(Ke=null,Le!==void 0&&(Ke=ge,f.set(ge,{handler:Le,type:void 0}))):Le!==void 0&&(Ke=ge.method,f.set(ge.method,{type:ge,handler:Le})),{dispose:o(()=>{Ke!==null&&(Ke!==void 0?f.delete(Ke):u=void 0)},"dispose")}},"onRequest"),hasPendingResponse:o(()=>E.size>0,"hasPendingResponse"),trace:o(async(ge,Le,Ke)=>{let et=!1,St=wu.Text;Ke!==void 0&&(Rs.boolean(Ke)?et=Ke:(et=Ke.sendNotification||!1,St=Ke.traceFormat||wu.Text)),S=ge,B=St,S===io.Off?P=void 0:P=Le,et&&!ae()&&!re()&&await nr.sendNotification(vY.type,{value:io.toString(ge)})},"trace"),onError:q.event,onClose:ne.event,onUnhandledNotification:ce.event,onDispose:G.event,end:o(()=>{t.end()},"end"),dispose:o(()=>{if(re())return;F=Em.Disposed,G.fire(void 0);let ge=new En.ResponseError(En.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let Le of E.values())Le.reject(ge);E=new Map,b=new Map,v=new Set,x=new kpe.LinkedMap,Rs.func(t.dispose)&&t.dispose(),Rs.func(e.dispose)&&e.dispose()},"dispose"),listen:o(()=>{Ue(),Ve(),F=Em.Listening,e.listen(Je)},"listen"),inspect:o(()=>{(0,_pe.default)().console.log("inspect")},"inspect")};return nr.onNotification(ND.type,ge=>{if(S===io.Off||!P)return;let Le=S===io.Verbose||S===io.Compact;P.log(ge.message,Le?ge.verbose:void 0)}),nr.onNotification(J7.type,ge=>{let Le=p.get(ge.token);Le?Le(ge.value):Z.fire(ge)}),nr}o(mYe,"createMessageConnection");Un.createMessageConnection=mYe});var qD=V(pt=>{"use strict";d();Object.defineProperty(pt,"__esModule",{value:!0});pt.ProgressType=pt.ProgressToken=pt.createMessageConnection=pt.NullLogger=pt.ConnectionOptions=pt.ConnectionStrategy=pt.AbstractMessageBuffer=pt.WriteableStreamMessageWriter=pt.AbstractMessageWriter=pt.MessageWriter=pt.ReadableStreamMessageReader=pt.AbstractMessageReader=pt.MessageReader=pt.SharedArrayReceiverStrategy=pt.SharedArraySenderStrategy=pt.CancellationToken=pt.CancellationTokenSource=pt.Emitter=pt.Event=pt.Disposable=pt.LRUCache=pt.Touch=pt.LinkedMap=pt.ParameterStructures=pt.NotificationType9=pt.NotificationType8=pt.NotificationType7=pt.NotificationType6=pt.NotificationType5=pt.NotificationType4=pt.NotificationType3=pt.NotificationType2=pt.NotificationType1=pt.NotificationType0=pt.NotificationType=pt.ErrorCodes=pt.ResponseError=pt.RequestType9=pt.RequestType8=pt.RequestType7=pt.RequestType6=pt.RequestType5=pt.RequestType4=pt.RequestType3=pt.RequestType2=pt.RequestType1=pt.RequestType0=pt.RequestType=pt.Message=pt.RAL=void 0;pt.MessageStrategy=pt.CancellationStrategy=pt.CancellationSenderStrategy=pt.CancellationReceiverStrategy=pt.ConnectionError=pt.ConnectionErrors=pt.LogTraceNotification=pt.SetTraceNotification=pt.TraceFormat=pt.TraceValues=pt.Trace=void 0;var Lo=Jz();Object.defineProperty(pt,"Message",{enumerable:!0,get:o(function(){return Lo.Message},"get")});Object.defineProperty(pt,"RequestType",{enumerable:!0,get:o(function(){return Lo.RequestType},"get")});Object.defineProperty(pt,"RequestType0",{enumerable:!0,get:o(function(){return Lo.RequestType0},"get")});Object.defineProperty(pt,"RequestType1",{enumerable:!0,get:o(function(){return Lo.RequestType1},"get")});Object.defineProperty(pt,"RequestType2",{enumerable:!0,get:o(function(){return Lo.RequestType2},"get")});Object.defineProperty(pt,"RequestType3",{enumerable:!0,get:o(function(){return Lo.RequestType3},"get")});Object.defineProperty(pt,"RequestType4",{enumerable:!0,get:o(function(){return Lo.RequestType4},"get")});Object.defineProperty(pt,"RequestType5",{enumerable:!0,get:o(function(){return Lo.RequestType5},"get")});Object.defineProperty(pt,"RequestType6",{enumerable:!0,get:o(function(){return Lo.RequestType6},"get")});Object.defineProperty(pt,"RequestType7",{enumerable:!0,get:o(function(){return Lo.RequestType7},"get")});Object.defineProperty(pt,"RequestType8",{enumerable:!0,get:o(function(){return Lo.RequestType8},"get")});Object.defineProperty(pt,"RequestType9",{enumerable:!0,get:o(function(){return Lo.RequestType9},"get")});Object.defineProperty(pt,"ResponseError",{enumerable:!0,get:o(function(){return Lo.ResponseError},"get")});Object.defineProperty(pt,"ErrorCodes",{enumerable:!0,get:o(function(){return Lo.ErrorCodes},"get")});Object.defineProperty(pt,"NotificationType",{enumerable:!0,get:o(function(){return Lo.NotificationType},"get")});Object.defineProperty(pt,"NotificationType0",{enumerable:!0,get:o(function(){return Lo.NotificationType0},"get")});Object.defineProperty(pt,"NotificationType1",{enumerable:!0,get:o(function(){return Lo.NotificationType1},"get")});Object.defineProperty(pt,"NotificationType2",{enumerable:!0,get:o(function(){return Lo.NotificationType2},"get")});Object.defineProperty(pt,"NotificationType3",{enumerable:!0,get:o(function(){return Lo.NotificationType3},"get")});Object.defineProperty(pt,"NotificationType4",{enumerable:!0,get:o(function(){return Lo.NotificationType4},"get")});Object.defineProperty(pt,"NotificationType5",{enumerable:!0,get:o(function(){return Lo.NotificationType5},"get")});Object.defineProperty(pt,"NotificationType6",{enumerable:!0,get:o(function(){return Lo.NotificationType6},"get")});Object.defineProperty(pt,"NotificationType7",{enumerable:!0,get:o(function(){return Lo.NotificationType7},"get")});Object.defineProperty(pt,"NotificationType8",{enumerable:!0,get:o(function(){return Lo.NotificationType8},"get")});Object.defineProperty(pt,"NotificationType9",{enumerable:!0,get:o(function(){return Lo.NotificationType9},"get")});Object.defineProperty(pt,"ParameterStructures",{enumerable:!0,get:o(function(){return Lo.ParameterStructures},"get")});var wY=Zz();Object.defineProperty(pt,"LinkedMap",{enumerable:!0,get:o(function(){return wY.LinkedMap},"get")});Object.defineProperty(pt,"LRUCache",{enumerable:!0,get:o(function(){return wY.LRUCache},"get")});Object.defineProperty(pt,"Touch",{enumerable:!0,get:o(function(){return wY.Touch},"get")});var hYe=Ape();Object.defineProperty(pt,"Disposable",{enumerable:!0,get:o(function(){return hYe.Disposable},"get")});var Ppe=Qb();Object.defineProperty(pt,"Event",{enumerable:!0,get:o(function(){return Ppe.Event},"get")});Object.defineProperty(pt,"Emitter",{enumerable:!0,get:o(function(){return Ppe.Emitter},"get")});var Fpe=BD();Object.defineProperty(pt,"CancellationTokenSource",{enumerable:!0,get:o(function(){return Fpe.CancellationTokenSource},"get")});Object.defineProperty(pt,"CancellationToken",{enumerable:!0,get:o(function(){return Fpe.CancellationToken},"get")});var Npe=Cpe();Object.defineProperty(pt,"SharedArraySenderStrategy",{enumerable:!0,get:o(function(){return Npe.SharedArraySenderStrategy},"get")});Object.defineProperty(pt,"SharedArrayReceiverStrategy",{enumerable:!0,get:o(function(){return Npe.SharedArrayReceiverStrategy},"get")});var SY=Epe();Object.defineProperty(pt,"MessageReader",{enumerable:!0,get:o(function(){return SY.MessageReader},"get")});Object.defineProperty(pt,"AbstractMessageReader",{enumerable:!0,get:o(function(){return SY.AbstractMessageReader},"get")});Object.defineProperty(pt,"ReadableStreamMessageReader",{enumerable:!0,get:o(function(){return SY.ReadableStreamMessageReader},"get")});var _Y=wpe();Object.defineProperty(pt,"MessageWriter",{enumerable:!0,get:o(function(){return _Y.MessageWriter},"get")});Object.defineProperty(pt,"AbstractMessageWriter",{enumerable:!0,get:o(function(){return _Y.AbstractMessageWriter},"get")});Object.defineProperty(pt,"WriteableStreamMessageWriter",{enumerable:!0,get:o(function(){return _Y.WriteableStreamMessageWriter},"get")});var pYe=Spe();Object.defineProperty(pt,"AbstractMessageBuffer",{enumerable:!0,get:o(function(){return pYe.AbstractMessageBuffer},"get")});var Ol=Dpe();Object.defineProperty(pt,"ConnectionStrategy",{enumerable:!0,get:o(function(){return Ol.ConnectionStrategy},"get")});Object.defineProperty(pt,"ConnectionOptions",{enumerable:!0,get:o(function(){return Ol.ConnectionOptions},"get")});Object.defineProperty(pt,"NullLogger",{enumerable:!0,get:o(function(){return Ol.NullLogger},"get")});Object.defineProperty(pt,"createMessageConnection",{enumerable:!0,get:o(function(){return Ol.createMessageConnection},"get")});Object.defineProperty(pt,"ProgressToken",{enumerable:!0,get:o(function(){return Ol.ProgressToken},"get")});Object.defineProperty(pt,"ProgressType",{enumerable:!0,get:o(function(){return Ol.ProgressType},"get")});Object.defineProperty(pt,"Trace",{enumerable:!0,get:o(function(){return Ol.Trace},"get")});Object.defineProperty(pt,"TraceValues",{enumerable:!0,get:o(function(){return Ol.TraceValues},"get")});Object.defineProperty(pt,"TraceFormat",{enumerable:!0,get:o(function(){return Ol.TraceFormat},"get")});Object.defineProperty(pt,"SetTraceNotification",{enumerable:!0,get:o(function(){return Ol.SetTraceNotification},"get")});Object.defineProperty(pt,"LogTraceNotification",{enumerable:!0,get:o(function(){return Ol.LogTraceNotification},"get")});Object.defineProperty(pt,"ConnectionErrors",{enumerable:!0,get:o(function(){return Ol.ConnectionErrors},"get")});Object.defineProperty(pt,"ConnectionError",{enumerable:!0,get:o(function(){return Ol.ConnectionError},"get")});Object.defineProperty(pt,"CancellationReceiverStrategy",{enumerable:!0,get:o(function(){return Ol.CancellationReceiverStrategy},"get")});Object.defineProperty(pt,"CancellationSenderStrategy",{enumerable:!0,get:o(function(){return Ol.CancellationSenderStrategy},"get")});Object.defineProperty(pt,"CancellationStrategy",{enumerable:!0,get:o(function(){return Ol.CancellationStrategy},"get")});Object.defineProperty(pt,"MessageStrategy",{enumerable:!0,get:o(function(){return Ol.MessageStrategy},"get")});var gYe=s5();pt.RAL=gYe.default});var Mpe=V(DY=>{"use strict";d();Object.defineProperty(DY,"__esModule",{value:!0});var Lpe=require("util"),c1=qD(),WD=class e extends c1.AbstractMessageBuffer{static{o(this,"MessageBuffer")}constructor(t="utf-8"){super(t)}emptyBuffer(){return e.emptyBuffer}fromString(t,r){return Buffer.from(t,r)}toString(t,r){return t instanceof Buffer?t.toString(r):new Lpe.TextDecoder(r).decode(t)}asNative(t,r){return r===void 0?t instanceof Buffer?t:Buffer.from(t):t instanceof Buffer?t.slice(0,r):Buffer.from(t,0,r)}allocNative(t){return Buffer.allocUnsafe(t)}};WD.emptyBuffer=Buffer.allocUnsafe(0);var kY=class{static{o(this,"ReadableStreamWrapper")}constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),c1.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),c1.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),c1.Disposable.create(()=>this.stream.off("end",t))}onData(t){return this.stream.on("data",t),c1.Disposable.create(()=>this.stream.off("data",t))}},BY=class{static{o(this,"WritableStreamWrapper")}constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),c1.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),c1.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),c1.Disposable.create(()=>this.stream.off("end",t))}write(t,r){return new Promise((n,i)=>{let s=o(a=>{a==null?n():i(a)},"callback");typeof t=="string"?this.stream.write(t,r,s):this.stream.write(t,s)})}end(){this.stream.end()}},Qpe=Object.freeze({messageBuffer:Object.freeze({create:o(e=>new WD(e),"create")}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:o((e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(r){return Promise.reject(r)}},"encode")}),decoder:Object.freeze({name:"application/json",decode:o((e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new Lpe.TextDecoder(t.charset).decode(e)))}catch(r){return Promise.reject(r)}},"decode")})}),stream:Object.freeze({asReadableStream:o(e=>new kY(e),"asReadableStream"),asWritableStream:o(e=>new BY(e),"asWritableStream")}),console,timer:Object.freeze({setTimeout(e,t,...r){let n=setTimeout(e,t,...r);return{dispose:o(()=>clearTimeout(n),"dispose")}},setImmediate(e,...t){let r=setImmediate(e,...t);return{dispose:o(()=>clearImmediate(r),"dispose")}},setInterval(e,t,...r){let n=setInterval(e,t,...r);return{dispose:o(()=>clearInterval(n),"dispose")}}})});function RY(){return Qpe}o(RY,"RIL");(function(e){function t(){c1.RAL.install(Qpe)}o(t,"install"),e.install=t})(RY||(RY={}));DY.default=RY});var B3=V(Bi=>{"use strict";d();var AYe=Bi&&Bi.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),yYe=Bi&&Bi.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&AYe(t,e,r)};Object.defineProperty(Bi,"__esModule",{value:!0});Bi.createMessageConnection=Bi.createServerSocketTransport=Bi.createClientSocketTransport=Bi.createServerPipeTransport=Bi.createClientPipeTransport=Bi.generateRandomPipeName=Bi.StreamMessageWriter=Bi.StreamMessageReader=Bi.SocketMessageWriter=Bi.SocketMessageReader=Bi.PortMessageWriter=Bi.PortMessageReader=Bi.IPCMessageWriter=Bi.IPCMessageReader=void 0;var Wb=Mpe();Wb.default.install();var Ope=require("path"),CYe=require("os"),xYe=require("crypto"),VD=require("net"),Su=qD();yYe(qD(),Bi);var PY=class extends Su.AbstractMessageReader{static{o(this,"IPCMessageReader")}constructor(t){super(),this.process=t;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose())}listen(t){return this.process.on("message",t),Su.Disposable.create(()=>this.process.off("message",t))}};Bi.IPCMessageReader=PY;var FY=class extends Su.AbstractMessageWriter{static{o(this,"IPCMessageWriter")}constructor(t){super(),this.process=t,this.errorCount=0;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose)}write(t){try{return typeof this.process.send=="function"&&this.process.send(t,void 0,void 0,r=>{r?(this.errorCount++,this.handleError(r,t)):this.errorCount=0}),Promise.resolve()}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){}};Bi.IPCMessageWriter=FY;var NY=class extends Su.AbstractMessageReader{static{o(this,"PortMessageReader")}constructor(t){super(),this.onData=new Su.Emitter,t.on("close",()=>this.fireClose),t.on("error",r=>this.fireError(r)),t.on("message",r=>{this.onData.fire(r)})}listen(t){return this.onData.event(t)}};Bi.PortMessageReader=NY;var LY=class extends Su.AbstractMessageWriter{static{o(this,"PortMessageWriter")}constructor(t){super(),this.port=t,this.errorCount=0,t.on("close",()=>this.fireClose()),t.on("error",r=>this.fireError(r))}write(t){try{return this.port.postMessage(t),Promise.resolve()}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){}};Bi.PortMessageWriter=LY;var _3=class extends Su.ReadableStreamMessageReader{static{o(this,"SocketMessageReader")}constructor(t,r="utf-8"){super((0,Wb.default)().stream.asReadableStream(t),r)}};Bi.SocketMessageReader=_3;var k3=class extends Su.WriteableStreamMessageWriter{static{o(this,"SocketMessageWriter")}constructor(t,r){super((0,Wb.default)().stream.asWritableStream(t),r),this.socket=t}dispose(){super.dispose(),this.socket.destroy()}};Bi.SocketMessageWriter=k3;var GD=class extends Su.ReadableStreamMessageReader{static{o(this,"StreamMessageReader")}constructor(t,r){super((0,Wb.default)().stream.asReadableStream(t),r)}};Bi.StreamMessageReader=GD;var HD=class extends Su.WriteableStreamMessageWriter{static{o(this,"StreamMessageWriter")}constructor(t,r){super((0,Wb.default)().stream.asWritableStream(t),r)}};Bi.StreamMessageWriter=HD;var Upe=process.env.XDG_RUNTIME_DIR,EYe=new Map([["linux",107],["darwin",103]]);function bYe(){let e=(0,xYe.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;Upe?t=Ope.join(Upe,`vscode-ipc-${e}.sock`):t=Ope.join(CYe.tmpdir(),`vscode-${e}.sock`);let r=EYe.get(process.platform);return r!==void 0&&t.length>r&&(0,Wb.default)().console.warn(`WARNING: IPC handle "${t}" is longer than ${r} characters.`),t}o(bYe,"generateRandomPipeName");Bi.generateRandomPipeName=bYe;function vYe(e,t="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let a=(0,VD.createServer)(l=>{a.close(),r([new _3(l,t),new k3(l,t)])});a.on("error",s),a.listen(e,()=>{a.removeListener("error",s),i({onConnected:o(()=>n,"onConnected")})})})}o(vYe,"createClientPipeTransport");Bi.createClientPipeTransport=vYe;function IYe(e,t="utf-8"){let r=(0,VD.createConnection)(e);return[new _3(r,t),new k3(r,t)]}o(IYe,"createServerPipeTransport");Bi.createServerPipeTransport=IYe;function TYe(e,t="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let a=(0,VD.createServer)(l=>{a.close(),r([new _3(l,t),new k3(l,t)])});a.on("error",s),a.listen(e,"127.0.0.1",()=>{a.removeListener("error",s),i({onConnected:o(()=>n,"onConnected")})})})}o(TYe,"createClientSocketTransport");Bi.createClientSocketTransport=TYe;function wYe(e,t="utf-8"){let r=(0,VD.createConnection)(e,"127.0.0.1");return[new _3(r,t),new k3(r,t)]}o(wYe,"createServerSocketTransport");Bi.createServerSocketTransport=wYe;function SYe(e){let t=e;return t.read!==void 0&&t.addListener!==void 0}o(SYe,"isReadableStream");function _Ye(e){let t=e;return t.write!==void 0&&t.addListener!==void 0}o(_Ye,"isWritableStream");function kYe(e,t,r,n){r||(r=Su.NullLogger);let i=SYe(e)?new GD(e):e,s=_Ye(t)?new HD(t):t;return Su.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,Su.createMessageConnection)(i,s,r,n)}o(kYe,"createMessageConnection");Bi.createMessageConnection=kYe});var QY=V((QXt,qpe)=>{"use strict";d();qpe.exports=B3()});var $D=V((Wpe,jD)=>{d();(function(e){if(typeof jD=="object"&&typeof jD.exports=="object"){var t=e(require,Wpe);t!==void 0&&(jD.exports=t)}else typeof define=="function"&&define.amd&&define(["require","exports"],e)})(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextDocument=t.EOL=t.WorkspaceFolder=t.InlineCompletionContext=t.SelectedCompletionInfo=t.InlineCompletionTriggerKind=t.InlineCompletionList=t.InlineCompletionItem=t.StringValue=t.InlayHint=t.InlayHintLabelPart=t.InlayHintKind=t.InlineValueContext=t.InlineValueEvaluatableExpression=t.InlineValueVariableLookup=t.InlineValueText=t.SemanticTokens=t.SemanticTokenModifiers=t.SemanticTokenTypes=t.SelectionRange=t.DocumentLink=t.FormattingOptions=t.CodeLens=t.CodeAction=t.CodeActionContext=t.CodeActionTriggerKind=t.CodeActionKind=t.DocumentSymbol=t.WorkspaceSymbol=t.SymbolInformation=t.SymbolTag=t.SymbolKind=t.DocumentHighlight=t.DocumentHighlightKind=t.SignatureInformation=t.ParameterInformation=t.Hover=t.MarkedString=t.CompletionList=t.CompletionItem=t.CompletionItemLabelDetails=t.InsertTextMode=t.InsertReplaceEdit=t.CompletionItemTag=t.InsertTextFormat=t.CompletionItemKind=t.MarkupContent=t.MarkupKind=t.TextDocumentItem=t.OptionalVersionedTextDocumentIdentifier=t.VersionedTextDocumentIdentifier=t.TextDocumentIdentifier=t.WorkspaceChange=t.WorkspaceEdit=t.DeleteFile=t.RenameFile=t.CreateFile=t.TextDocumentEdit=t.AnnotatedTextEdit=t.ChangeAnnotationIdentifier=t.ChangeAnnotation=t.TextEdit=t.Command=t.Diagnostic=t.CodeDescription=t.DiagnosticTag=t.DiagnosticSeverity=t.DiagnosticRelatedInformation=t.FoldingRange=t.FoldingRangeKind=t.ColorPresentation=t.ColorInformation=t.Color=t.LocationLink=t.Location=t.Range=t.Position=t.uinteger=t.integer=t.URI=t.DocumentUri=void 0;var r;(function(O){function me(ye){return typeof ye=="string"}o(me,"is"),O.is=me})(r||(t.DocumentUri=r={}));var n;(function(O){function me(ye){return typeof ye=="string"}o(me,"is"),O.is=me})(n||(t.URI=n={}));var i;(function(O){O.MIN_VALUE=-2147483648,O.MAX_VALUE=2147483647;function me(ye){return typeof ye=="number"&&O.MIN_VALUE<=ye&&ye<=O.MAX_VALUE}o(me,"is"),O.is=me})(i||(t.integer=i={}));var s;(function(O){O.MIN_VALUE=0,O.MAX_VALUE=2147483647;function me(ye){return typeof ye=="number"&&O.MIN_VALUE<=ye&&ye<=O.MAX_VALUE}o(me,"is"),O.is=me})(s||(t.uinteger=s={}));var a;(function(O){function me(Y,L){return Y===Number.MAX_VALUE&&(Y=s.MAX_VALUE),L===Number.MAX_VALUE&&(L=s.MAX_VALUE),{line:Y,character:L}}o(me,"create"),O.create=me;function ye(Y){var L=Y;return ve.objectLiteral(L)&&ve.uinteger(L.line)&&ve.uinteger(L.character)}o(ye,"is"),O.is=ye})(a||(t.Position=a={}));var l;(function(O){function me(Y,L,Ie,Me){if(ve.uinteger(Y)&&ve.uinteger(L)&&ve.uinteger(Ie)&&ve.uinteger(Me))return{start:a.create(Y,L),end:a.create(Ie,Me)};if(a.is(Y)&&a.is(L))return{start:Y,end:L};throw new Error("Range#create called with invalid arguments[".concat(Y,", ").concat(L,", ").concat(Ie,", ").concat(Me,"]"))}o(me,"create"),O.create=me;function ye(Y){var L=Y;return ve.objectLiteral(L)&&a.is(L.start)&&a.is(L.end)}o(ye,"is"),O.is=ye})(l||(t.Range=l={}));var c;(function(O){function me(Y,L){return{uri:Y,range:L}}o(me,"create"),O.create=me;function ye(Y){var L=Y;return ve.objectLiteral(L)&&l.is(L.range)&&(ve.string(L.uri)||ve.undefined(L.uri))}o(ye,"is"),O.is=ye})(c||(t.Location=c={}));var u;(function(O){function me(Y,L,Ie,Me){return{targetUri:Y,targetRange:L,targetSelectionRange:Ie,originSelectionRange:Me}}o(me,"create"),O.create=me;function ye(Y){var L=Y;return ve.objectLiteral(L)&&l.is(L.targetRange)&&ve.string(L.targetUri)&&l.is(L.targetSelectionRange)&&(l.is(L.originSelectionRange)||ve.undefined(L.originSelectionRange))}o(ye,"is"),O.is=ye})(u||(t.LocationLink=u={}));var f;(function(O){function me(Y,L,Ie,Me){return{red:Y,green:L,blue:Ie,alpha:Me}}o(me,"create"),O.create=me;function ye(Y){var L=Y;return ve.objectLiteral(L)&&ve.numberRange(L.red,0,1)&&ve.numberRange(L.green,0,1)&&ve.numberRange(L.blue,0,1)&&ve.numberRange(L.alpha,0,1)}o(ye,"is"),O.is=ye})(f||(t.Color=f={}));var m;(function(O){function me(Y,L){return{range:Y,color:L}}o(me,"create"),O.create=me;function ye(Y){var L=Y;return ve.objectLiteral(L)&&l.is(L.range)&&f.is(L.color)}o(ye,"is"),O.is=ye})(m||(t.ColorInformation=m={}));var h;(function(O){function me(Y,L,Ie){return{label:Y,textEdit:L,additionalTextEdits:Ie}}o(me,"create"),O.create=me;function ye(Y){var L=Y;return ve.objectLiteral(L)&&ve.string(L.label)&&(ve.undefined(L.textEdit)||P.is(L))&&(ve.undefined(L.additionalTextEdits)||ve.typedArray(L.additionalTextEdits,P.is))}o(ye,"is"),O.is=ye})(h||(t.ColorPresentation=h={}));var p;(function(O){O.Comment="comment",O.Imports="imports",O.Region="region"})(p||(t.FoldingRangeKind=p={}));var A;(function(O){function me(Y,L,Ie,Me,Ct,qt){var Ft={startLine:Y,endLine:L};return ve.defined(Ie)&&(Ft.startCharacter=Ie),ve.defined(Me)&&(Ft.endCharacter=Me),ve.defined(Ct)&&(Ft.kind=Ct),ve.defined(qt)&&(Ft.collapsedText=qt),Ft}o(me,"create"),O.create=me;function ye(Y){var L=Y;return ve.objectLiteral(L)&&ve.uinteger(L.startLine)&&ve.uinteger(L.startLine)&&(ve.undefined(L.startCharacter)||ve.uinteger(L.startCharacter))&&(ve.undefined(L.endCharacter)||ve.uinteger(L.endCharacter))&&(ve.undefined(L.kind)||ve.string(L.kind))}o(ye,"is"),O.is=ye})(A||(t.FoldingRange=A={}));var x;(function(O){function me(Y,L){return{location:Y,message:L}}o(me,"create"),O.create=me;function ye(Y){var L=Y;return ve.defined(L)&&c.is(L.location)&&ve.string(L.message)}o(ye,"is"),O.is=ye})(x||(t.DiagnosticRelatedInformation=x={}));var E;(function(O){O.Error=1,O.Warning=2,O.Information=3,O.Hint=4})(E||(t.DiagnosticSeverity=E={}));var v;(function(O){O.Unnecessary=1,O.Deprecated=2})(v||(t.DiagnosticTag=v={}));var b;(function(O){function me(ye){var Y=ye;return ve.objectLiteral(Y)&&ve.string(Y.href)}o(me,"is"),O.is=me})(b||(t.CodeDescription=b={}));var S;(function(O){function me(Y,L,Ie,Me,Ct,qt){var Ft={range:Y,message:L};return ve.defined(Ie)&&(Ft.severity=Ie),ve.defined(Me)&&(Ft.code=Me),ve.defined(Ct)&&(Ft.source=Ct),ve.defined(qt)&&(Ft.relatedInformation=qt),Ft}o(me,"create"),O.create=me;function ye(Y){var L,Ie=Y;return ve.defined(Ie)&&l.is(Ie.range)&&ve.string(Ie.message)&&(ve.number(Ie.severity)||ve.undefined(Ie.severity))&&(ve.integer(Ie.code)||ve.string(Ie.code)||ve.undefined(Ie.code))&&(ve.undefined(Ie.codeDescription)||ve.string((L=Ie.codeDescription)===null||L===void 0?void 0:L.href))&&(ve.string(Ie.source)||ve.undefined(Ie.source))&&(ve.undefined(Ie.relatedInformation)||ve.typedArray(Ie.relatedInformation,x.is))}o(ye,"is"),O.is=ye})(S||(t.Diagnostic=S={}));var B;(function(O){function me(Y,L){for(var Ie=[],Me=2;Me<arguments.length;Me++)Ie[Me-2]=arguments[Me];var Ct={title:Y,command:L};return ve.defined(Ie)&&Ie.length>0&&(Ct.arguments=Ie),Ct}o(me,"create"),O.create=me;function ye(Y){var L=Y;return ve.defined(L)&&ve.string(L.title)&&ve.string(L.command)}o(ye,"is"),O.is=ye})(B||(t.Command=B={}));var P;(function(O){function me(Ie,Me){return{range:Ie,newText:Me}}o(me,"replace"),O.replace=me;function ye(Ie,Me){return{range:{start:Ie,end:Ie},newText:Me}}o(ye,"insert"),O.insert=ye;function Y(Ie){return{range:Ie,newText:""}}o(Y,"del"),O.del=Y;function L(Ie){var Me=Ie;return ve.objectLiteral(Me)&&ve.string(Me.newText)&&l.is(Me.range)}o(L,"is"),O.is=L})(P||(t.TextEdit=P={}));var F;(function(O){function me(Y,L,Ie){var Me={label:Y};return L!==void 0&&(Me.needsConfirmation=L),Ie!==void 0&&(Me.description=Ie),Me}o(me,"create"),O.create=me;function ye(Y){var L=Y;return ve.objectLiteral(L)&&ve.string(L.label)&&(ve.boolean(L.needsConfirmation)||L.needsConfirmation===void 0)&&(ve.string(L.description)||L.description===void 0)}o(ye,"is"),O.is=ye})(F||(t.ChangeAnnotation=F={}));var q;(function(O){function me(ye){var Y=ye;return ve.string(Y)}o(me,"is"),O.is=me})(q||(t.ChangeAnnotationIdentifier=q={}));var ne;(function(O){function me(Ie,Me,Ct){return{range:Ie,newText:Me,annotationId:Ct}}o(me,"replace"),O.replace=me;function ye(Ie,Me,Ct){return{range:{start:Ie,end:Ie},newText:Me,annotationId:Ct}}o(ye,"insert"),O.insert=ye;function Y(Ie,Me){return{range:Ie,newText:"",annotationId:Me}}o(Y,"del"),O.del=Y;function L(Ie){var Me=Ie;return P.is(Me)&&(F.is(Me.annotationId)||q.is(Me.annotationId))}o(L,"is"),O.is=L})(ne||(t.AnnotatedTextEdit=ne={}));var ce;(function(O){function me(Y,L){return{textDocument:Y,edits:L}}o(me,"create"),O.create=me;function ye(Y){var L=Y;return ve.defined(L)&&ae.is(L.textDocument)&&Array.isArray(L.edits)}o(ye,"is"),O.is=ye})(ce||(t.TextDocumentEdit=ce={}));var Z;(function(O){function me(Y,L,Ie){var Me={kind:"create",uri:Y};return L!==void 0&&(L.overwrite!==void 0||L.ignoreIfExists!==void 0)&&(Me.options=L),Ie!==void 0&&(Me.annotationId=Ie),Me}o(me,"create"),O.create=me;function ye(Y){var L=Y;return L&&L.kind==="create"&&ve.string(L.uri)&&(L.options===void 0||(L.options.overwrite===void 0||ve.boolean(L.options.overwrite))&&(L.options.ignoreIfExists===void 0||ve.boolean(L.options.ignoreIfExists)))&&(L.annotationId===void 0||q.is(L.annotationId))}o(ye,"is"),O.is=ye})(Z||(t.CreateFile=Z={}));var G;(function(O){function me(Y,L,Ie,Me){var Ct={kind:"rename",oldUri:Y,newUri:L};return Ie!==void 0&&(Ie.overwrite!==void 0||Ie.ignoreIfExists!==void 0)&&(Ct.options=Ie),Me!==void 0&&(Ct.annotationId=Me),Ct}o(me,"create"),O.create=me;function ye(Y){var L=Y;return L&&L.kind==="rename"&&ve.string(L.oldUri)&&ve.string(L.newUri)&&(L.options===void 0||(L.options.overwrite===void 0||ve.boolean(L.options.overwrite))&&(L.options.ignoreIfExists===void 0||ve.boolean(L.options.ignoreIfExists)))&&(L.annotationId===void 0||q.is(L.annotationId))}o(ye,"is"),O.is=ye})(G||(t.RenameFile=G={}));var U;(function(O){function me(Y,L,Ie){var Me={kind:"delete",uri:Y};return L!==void 0&&(L.recursive!==void 0||L.ignoreIfNotExists!==void 0)&&(Me.options=L),Ie!==void 0&&(Me.annotationId=Ie),Me}o(me,"create"),O.create=me;function ye(Y){var L=Y;return L&&L.kind==="delete"&&ve.string(L.uri)&&(L.options===void 0||(L.options.recursive===void 0||ve.boolean(L.options.recursive))&&(L.options.ignoreIfNotExists===void 0||ve.boolean(L.options.ignoreIfNotExists)))&&(L.annotationId===void 0||q.is(L.annotationId))}o(ye,"is"),O.is=ye})(U||(t.DeleteFile=U={}));var ie;(function(O){function me(ye){var Y=ye;return Y&&(Y.changes!==void 0||Y.documentChanges!==void 0)&&(Y.documentChanges===void 0||Y.documentChanges.every(function(L){return ve.string(L.kind)?Z.is(L)||G.is(L)||U.is(L):ce.is(L)}))}o(me,"is"),O.is=me})(ie||(t.WorkspaceEdit=ie={}));var J=function(){function O(me,ye){this.edits=me,this.changeAnnotations=ye}return o(O,"TextEditChangeImpl"),O.prototype.insert=function(me,ye,Y){var L,Ie;if(Y===void 0?L=P.insert(me,ye):q.is(Y)?(Ie=Y,L=ne.insert(me,ye,Y)):(this.assertChangeAnnotations(this.changeAnnotations),Ie=this.changeAnnotations.manage(Y),L=ne.insert(me,ye,Ie)),this.edits.push(L),Ie!==void 0)return Ie},O.prototype.replace=function(me,ye,Y){var L,Ie;if(Y===void 0?L=P.replace(me,ye):q.is(Y)?(Ie=Y,L=ne.replace(me,ye,Y)):(this.assertChangeAnnotations(this.changeAnnotations),Ie=this.changeAnnotations.manage(Y),L=ne.replace(me,ye,Ie)),this.edits.push(L),Ie!==void 0)return Ie},O.prototype.delete=function(me,ye){var Y,L;if(ye===void 0?Y=P.del(me):q.is(ye)?(L=ye,Y=ne.del(me,ye)):(this.assertChangeAnnotations(this.changeAnnotations),L=this.changeAnnotations.manage(ye),Y=ne.del(me,L)),this.edits.push(Y),L!==void 0)return L},O.prototype.add=function(me){this.edits.push(me)},O.prototype.all=function(){return this.edits},O.prototype.clear=function(){this.edits.splice(0,this.edits.length)},O.prototype.assertChangeAnnotations=function(me){if(me===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},O}(),H=function(){function O(me){this._annotations=me===void 0?Object.create(null):me,this._counter=0,this._size=0}return o(O,"ChangeAnnotations"),O.prototype.all=function(){return this._annotations},Object.defineProperty(O.prototype,"size",{get:o(function(){return this._size},"get"),enumerable:!1,configurable:!0}),O.prototype.manage=function(me,ye){var Y;if(q.is(me)?Y=me:(Y=this.nextId(),ye=me),this._annotations[Y]!==void 0)throw new Error("Id ".concat(Y," is already in use."));if(ye===void 0)throw new Error("No annotation provided for id ".concat(Y));return this._annotations[Y]=ye,this._size++,Y},O.prototype.nextId=function(){return this._counter++,this._counter.toString()},O}(),M=function(){function O(me){var ye=this;this._textEditChanges=Object.create(null),me!==void 0?(this._workspaceEdit=me,me.documentChanges?(this._changeAnnotations=new H(me.changeAnnotations),me.changeAnnotations=this._changeAnnotations.all(),me.documentChanges.forEach(function(Y){if(ce.is(Y)){var L=new J(Y.edits,ye._changeAnnotations);ye._textEditChanges[Y.textDocument.uri]=L}})):me.changes&&Object.keys(me.changes).forEach(function(Y){var L=new J(me.changes[Y]);ye._textEditChanges[Y]=L})):this._workspaceEdit={}}return o(O,"WorkspaceChange"),Object.defineProperty(O.prototype,"edit",{get:o(function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},"get"),enumerable:!1,configurable:!0}),O.prototype.getTextEditChange=function(me){if(ae.is(me)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var ye={uri:me.uri,version:me.version},Y=this._textEditChanges[ye.uri];if(!Y){var L=[],Ie={textDocument:ye,edits:L};this._workspaceEdit.documentChanges.push(Ie),Y=new J(L,this._changeAnnotations),this._textEditChanges[ye.uri]=Y}return Y}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var Y=this._textEditChanges[me];if(!Y){var L=[];this._workspaceEdit.changes[me]=L,Y=new J(L),this._textEditChanges[me]=Y}return Y}},O.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new H,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},O.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},O.prototype.createFile=function(me,ye,Y){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var L;F.is(ye)||q.is(ye)?L=ye:Y=ye;var Ie,Me;if(L===void 0?Ie=Z.create(me,Y):(Me=q.is(L)?L:this._changeAnnotations.manage(L),Ie=Z.create(me,Y,Me)),this._workspaceEdit.documentChanges.push(Ie),Me!==void 0)return Me},O.prototype.renameFile=function(me,ye,Y,L){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var Ie;F.is(Y)||q.is(Y)?Ie=Y:L=Y;var Me,Ct;if(Ie===void 0?Me=G.create(me,ye,L):(Ct=q.is(Ie)?Ie:this._changeAnnotations.manage(Ie),Me=G.create(me,ye,L,Ct)),this._workspaceEdit.documentChanges.push(Me),Ct!==void 0)return Ct},O.prototype.deleteFile=function(me,ye,Y){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var L;F.is(ye)||q.is(ye)?L=ye:Y=ye;var Ie,Me;if(L===void 0?Ie=U.create(me,Y):(Me=q.is(L)?L:this._changeAnnotations.manage(L),Ie=U.create(me,Y,Me)),this._workspaceEdit.documentChanges.push(Ie),Me!==void 0)return Me},O}();t.WorkspaceChange=M;var j;(function(O){function me(Y){return{uri:Y}}o(me,"create"),O.create=me;function ye(Y){var L=Y;return ve.defined(L)&&ve.string(L.uri)}o(ye,"is"),O.is=ye})(j||(t.TextDocumentIdentifier=j={}));var X;(function(O){function me(Y,L){return{uri:Y,version:L}}o(me,"create"),O.create=me;function ye(Y){var L=Y;return ve.defined(L)&&ve.string(L.uri)&&ve.integer(L.version)}o(ye,"is"),O.is=ye})(X||(t.VersionedTextDocumentIdentifier=X={}));var ae;(function(O){function me(Y,L){return{uri:Y,version:L}}o(me,"create"),O.create=me;function ye(Y){var L=Y;return ve.defined(L)&&ve.string(L.uri)&&(L.version===null||ve.integer(L.version))}o(ye,"is"),O.is=ye})(ae||(t.OptionalVersionedTextDocumentIdentifier=ae={}));var re;(function(O){function me(Y,L,Ie,Me){return{uri:Y,languageId:L,version:Ie,text:Me}}o(me,"create"),O.create=me;function ye(Y){var L=Y;return ve.defined(L)&&ve.string(L.uri)&&ve.string(L.languageId)&&ve.integer(L.version)&&ve.string(L.text)}o(ye,"is"),O.is=ye})(re||(t.TextDocumentItem=re={}));var le;(function(O){O.PlainText="plaintext",O.Markdown="markdown";function me(ye){var Y=ye;return Y===O.PlainText||Y===O.Markdown}o(me,"is"),O.is=me})(le||(t.MarkupKind=le={}));var de;(function(O){function me(ye){var Y=ye;return ve.objectLiteral(ye)&&le.is(Y.kind)&&ve.string(Y.value)}o(me,"is"),O.is=me})(de||(t.MarkupContent=de={}));var Re;(function(O){O.Text=1,O.Method=2,O.Function=3,O.Constructor=4,O.Field=5,O.Variable=6,O.Class=7,O.Interface=8,O.Module=9,O.Property=10,O.Unit=11,O.Value=12,O.Enum=13,O.Keyword=14,O.Snippet=15,O.Color=16,O.File=17,O.Reference=18,O.Folder=19,O.EnumMember=20,O.Constant=21,O.Struct=22,O.Event=23,O.Operator=24,O.TypeParameter=25})(Re||(t.CompletionItemKind=Re={}));var Ee;(function(O){O.PlainText=1,O.Snippet=2})(Ee||(t.InsertTextFormat=Ee={}));var Oe;(function(O){O.Deprecated=1})(Oe||(t.CompletionItemTag=Oe={}));var _e;(function(O){function me(Y,L,Ie){return{newText:Y,insert:L,replace:Ie}}o(me,"create"),O.create=me;function ye(Y){var L=Y;return L&&ve.string(L.newText)&&l.is(L.insert)&&l.is(L.replace)}o(ye,"is"),O.is=ye})(_e||(t.InsertReplaceEdit=_e={}));var Je;(function(O){O.asIs=1,O.adjustIndentation=2})(Je||(t.InsertTextMode=Je={}));var ut;(function(O){function me(ye){var Y=ye;return Y&&(ve.string(Y.detail)||Y.detail===void 0)&&(ve.string(Y.description)||Y.description===void 0)}o(me,"is"),O.is=me})(ut||(t.CompletionItemLabelDetails=ut={}));var ot;(function(O){function me(ye){return{label:ye}}o(me,"create"),O.create=me})(ot||(t.CompletionItem=ot={}));var at;(function(O){function me(ye,Y){return{items:ye||[],isIncomplete:!!Y}}o(me,"create"),O.create=me})(at||(t.CompletionList=at={}));var oe;(function(O){function me(Y){return Y.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}o(me,"fromPlainText"),O.fromPlainText=me;function ye(Y){var L=Y;return ve.string(L)||ve.objectLiteral(L)&&ve.string(L.language)&&ve.string(L.value)}o(ye,"is"),O.is=ye})(oe||(t.MarkedString=oe={}));var Pe;(function(O){function me(ye){var Y=ye;return!!Y&&ve.objectLiteral(Y)&&(de.is(Y.contents)||oe.is(Y.contents)||ve.typedArray(Y.contents,oe.is))&&(ye.range===void 0||l.is(ye.range))}o(me,"is"),O.is=me})(Pe||(t.Hover=Pe={}));var Ae;(function(O){function me(ye,Y){return Y?{label:ye,documentation:Y}:{label:ye}}o(me,"create"),O.create=me})(Ae||(t.ParameterInformation=Ae={}));var We;(function(O){function me(ye,Y){for(var L=[],Ie=2;Ie<arguments.length;Ie++)L[Ie-2]=arguments[Ie];var Me={label:ye};return ve.defined(Y)&&(Me.documentation=Y),ve.defined(L)?Me.parameters=L:Me.parameters=[],Me}o(me,"create"),O.create=me})(We||(t.SignatureInformation=We={}));var z;(function(O){O.Text=1,O.Read=2,O.Write=3})(z||(t.DocumentHighlightKind=z={}));var te;(function(O){function me(ye,Y){var L={range:ye};return ve.number(Y)&&(L.kind=Y),L}o(me,"create"),O.create=me})(te||(t.DocumentHighlight=te={}));var Ne;(function(O){O.File=1,O.Module=2,O.Namespace=3,O.Package=4,O.Class=5,O.Method=6,O.Property=7,O.Field=8,O.Constructor=9,O.Enum=10,O.Interface=11,O.Function=12,O.Variable=13,O.Constant=14,O.String=15,O.Number=16,O.Boolean=17,O.Array=18,O.Object=19,O.Key=20,O.Null=21,O.EnumMember=22,O.Struct=23,O.Event=24,O.Operator=25,O.TypeParameter=26})(Ne||(t.SymbolKind=Ne={}));var Se;(function(O){O.Deprecated=1})(Se||(t.SymbolTag=Se={}));var Ce;(function(O){function me(ye,Y,L,Ie,Me){var Ct={name:ye,kind:Y,location:{uri:Ie,range:L}};return Me&&(Ct.containerName=Me),Ct}o(me,"create"),O.create=me})(Ce||(t.SymbolInformation=Ce={}));var Ue;(function(O){function me(ye,Y,L,Ie){return Ie!==void 0?{name:ye,kind:Y,location:{uri:L,range:Ie}}:{name:ye,kind:Y,location:{uri:L}}}o(me,"create"),O.create=me})(Ue||(t.WorkspaceSymbol=Ue={}));var Ve;(function(O){function me(Y,L,Ie,Me,Ct,qt){var Ft={name:Y,detail:L,kind:Ie,range:Me,selectionRange:Ct};return qt!==void 0&&(Ft.children=qt),Ft}o(me,"create"),O.create=me;function ye(Y){var L=Y;return L&&ve.string(L.name)&&ve.number(L.kind)&&l.is(L.range)&&l.is(L.selectionRange)&&(L.detail===void 0||ve.string(L.detail))&&(L.deprecated===void 0||ve.boolean(L.deprecated))&&(L.children===void 0||Array.isArray(L.children))&&(L.tags===void 0||Array.isArray(L.tags))}o(ye,"is"),O.is=ye})(Ve||(t.DocumentSymbol=Ve={}));var Ze;(function(O){O.Empty="",O.QuickFix="quickfix",O.Refactor="refactor",O.RefactorExtract="refactor.extract",O.RefactorInline="refactor.inline",O.RefactorRewrite="refactor.rewrite",O.Source="source",O.SourceOrganizeImports="source.organizeImports",O.SourceFixAll="source.fixAll"})(Ze||(t.CodeActionKind=Ze={}));var yt;(function(O){O.Invoked=1,O.Automatic=2})(yt||(t.CodeActionTriggerKind=yt={}));var Dt;(function(O){function me(Y,L,Ie){var Me={diagnostics:Y};return L!=null&&(Me.only=L),Ie!=null&&(Me.triggerKind=Ie),Me}o(me,"create"),O.create=me;function ye(Y){var L=Y;return ve.defined(L)&&ve.typedArray(L.diagnostics,S.is)&&(L.only===void 0||ve.typedArray(L.only,ve.string))&&(L.triggerKind===void 0||L.triggerKind===yt.Invoked||L.triggerKind===yt.Automatic)}o(ye,"is"),O.is=ye})(Dt||(t.CodeActionContext=Dt={}));var At;(function(O){function me(Y,L,Ie){var Me={title:Y},Ct=!0;return typeof L=="string"?(Ct=!1,Me.kind=L):B.is(L)?Me.command=L:Me.edit=L,Ct&&Ie!==void 0&&(Me.kind=Ie),Me}o(me,"create"),O.create=me;function ye(Y){var L=Y;return L&&ve.string(L.title)&&(L.diagnostics===void 0||ve.typedArray(L.diagnostics,S.is))&&(L.kind===void 0||ve.string(L.kind))&&(L.edit!==void 0||L.command!==void 0)&&(L.command===void 0||B.is(L.command))&&(L.isPreferred===void 0||ve.boolean(L.isPreferred))&&(L.edit===void 0||ie.is(L.edit))}o(ye,"is"),O.is=ye})(At||(t.CodeAction=At={}));var Vt;(function(O){function me(Y,L){var Ie={range:Y};return ve.defined(L)&&(Ie.data=L),Ie}o(me,"create"),O.create=me;function ye(Y){var L=Y;return ve.defined(L)&&l.is(L.range)&&(ve.undefined(L.command)||B.is(L.command))}o(ye,"is"),O.is=ye})(Vt||(t.CodeLens=Vt={}));var $t;(function(O){function me(Y,L){return{tabSize:Y,insertSpaces:L}}o(me,"create"),O.create=me;function ye(Y){var L=Y;return ve.defined(L)&&ve.uinteger(L.tabSize)&&ve.boolean(L.insertSpaces)}o(ye,"is"),O.is=ye})($t||(t.FormattingOptions=$t={}));var nr;(function(O){function me(Y,L,Ie){return{range:Y,target:L,data:Ie}}o(me,"create"),O.create=me;function ye(Y){var L=Y;return ve.defined(L)&&l.is(L.range)&&(ve.undefined(L.target)||ve.string(L.target))}o(ye,"is"),O.is=ye})(nr||(t.DocumentLink=nr={}));var ge;(function(O){function me(Y,L){return{range:Y,parent:L}}o(me,"create"),O.create=me;function ye(Y){var L=Y;return ve.objectLiteral(L)&&l.is(L.range)&&(L.parent===void 0||O.is(L.parent))}o(ye,"is"),O.is=ye})(ge||(t.SelectionRange=ge={}));var Le;(function(O){O.namespace="namespace",O.type="type",O.class="class",O.enum="enum",O.interface="interface",O.struct="struct",O.typeParameter="typeParameter",O.parameter="parameter",O.variable="variable",O.property="property",O.enumMember="enumMember",O.event="event",O.function="function",O.method="method",O.macro="macro",O.keyword="keyword",O.modifier="modifier",O.comment="comment",O.string="string",O.number="number",O.regexp="regexp",O.operator="operator",O.decorator="decorator"})(Le||(t.SemanticTokenTypes=Le={}));var Ke;(function(O){O.declaration="declaration",O.definition="definition",O.readonly="readonly",O.static="static",O.deprecated="deprecated",O.abstract="abstract",O.async="async",O.modification="modification",O.documentation="documentation",O.defaultLibrary="defaultLibrary"})(Ke||(t.SemanticTokenModifiers=Ke={}));var et;(function(O){function me(ye){var Y=ye;return ve.objectLiteral(Y)&&(Y.resultId===void 0||typeof Y.resultId=="string")&&Array.isArray(Y.data)&&(Y.data.length===0||typeof Y.data[0]=="number")}o(me,"is"),O.is=me})(et||(t.SemanticTokens=et={}));var St;(function(O){function me(Y,L){return{range:Y,text:L}}o(me,"create"),O.create=me;function ye(Y){var L=Y;return L!=null&&l.is(L.range)&&ve.string(L.text)}o(ye,"is"),O.is=ye})(St||(t.InlineValueText=St={}));var Et;(function(O){function me(Y,L,Ie){return{range:Y,variableName:L,caseSensitiveLookup:Ie}}o(me,"create"),O.create=me;function ye(Y){var L=Y;return L!=null&&l.is(L.range)&&ve.boolean(L.caseSensitiveLookup)&&(ve.string(L.variableName)||L.variableName===void 0)}o(ye,"is"),O.is=ye})(Et||(t.InlineValueVariableLookup=Et={}));var Lt;(function(O){function me(Y,L){return{range:Y,expression:L}}o(me,"create"),O.create=me;function ye(Y){var L=Y;return L!=null&&l.is(L.range)&&(ve.string(L.expression)||L.expression===void 0)}o(ye,"is"),O.is=ye})(Lt||(t.InlineValueEvaluatableExpression=Lt={}));var Mt;(function(O){function me(Y,L){return{frameId:Y,stoppedLocation:L}}o(me,"create"),O.create=me;function ye(Y){var L=Y;return ve.defined(L)&&l.is(Y.stoppedLocation)}o(ye,"is"),O.is=ye})(Mt||(t.InlineValueContext=Mt={}));var Tt;(function(O){O.Type=1,O.Parameter=2;function me(ye){return ye===1||ye===2}o(me,"is"),O.is=me})(Tt||(t.InlayHintKind=Tt={}));var _t;(function(O){function me(Y){return{value:Y}}o(me,"create"),O.create=me;function ye(Y){var L=Y;return ve.objectLiteral(L)&&(L.tooltip===void 0||ve.string(L.tooltip)||de.is(L.tooltip))&&(L.location===void 0||c.is(L.location))&&(L.command===void 0||B.is(L.command))}o(ye,"is"),O.is=ye})(_t||(t.InlayHintLabelPart=_t={}));var wt;(function(O){function me(Y,L,Ie){var Me={position:Y,label:L};return Ie!==void 0&&(Me.kind=Ie),Me}o(me,"create"),O.create=me;function ye(Y){var L=Y;return ve.objectLiteral(L)&&a.is(L.position)&&(ve.string(L.label)||ve.typedArray(L.label,_t.is))&&(L.kind===void 0||Tt.is(L.kind))&&L.textEdits===void 0||ve.typedArray(L.textEdits,P.is)&&(L.tooltip===void 0||ve.string(L.tooltip)||de.is(L.tooltip))&&(L.paddingLeft===void 0||ve.boolean(L.paddingLeft))&&(L.paddingRight===void 0||ve.boolean(L.paddingRight))}o(ye,"is"),O.is=ye})(wt||(t.InlayHint=wt={}));var Ut;(function(O){function me(ye){return{kind:"snippet",value:ye}}o(me,"createSnippet"),O.createSnippet=me})(Ut||(t.StringValue=Ut={}));var Wt;(function(O){function me(ye,Y,L,Ie){return{insertText:ye,filterText:Y,range:L,command:Ie}}o(me,"create"),O.create=me})(Wt||(t.InlineCompletionItem=Wt={}));var zt;(function(O){function me(ye){return{items:ye}}o(me,"create"),O.create=me})(zt||(t.InlineCompletionList=zt={}));var lr;(function(O){O.Invoked=0,O.Automatic=1})(lr||(t.InlineCompletionTriggerKind=lr={}));var hr;(function(O){function me(ye,Y){return{range:ye,text:Y}}o(me,"create"),O.create=me})(hr||(t.SelectedCompletionInfo=hr={}));var or;(function(O){function me(ye,Y){return{triggerKind:ye,selectedCompletionInfo:Y}}o(me,"create"),O.create=me})(or||(t.InlineCompletionContext=or={}));var cr;(function(O){function me(ye){var Y=ye;return ve.objectLiteral(Y)&&n.is(Y.uri)&&ve.string(Y.name)}o(me,"is"),O.is=me})(cr||(t.WorkspaceFolder=cr={})),t.EOL=[`
`,`\r
`,"\r"];var Zt;(function(O){function me(Ie,Me,Ct,qt){return new ur(Ie,Me,Ct,qt)}o(me,"create"),O.create=me;function ye(Ie){var Me=Ie;return!!(ve.defined(Me)&&ve.string(Me.uri)&&(ve.undefined(Me.languageId)||ve.string(Me.languageId))&&ve.uinteger(Me.lineCount)&&ve.func(Me.getText)&&ve.func(Me.positionAt)&&ve.func(Me.offsetAt))}o(ye,"is"),O.is=ye;function Y(Ie,Me){for(var Ct=Ie.getText(),qt=L(Me,function(sr,Po){var Hd=sr.range.start.line-Po.range.start.line;return Hd===0?sr.range.start.character-Po.range.start.character:Hd}),Ft=Ct.length,tr=qt.length-1;tr>=0;tr--){var ir=qt[tr],Ot=Ie.offsetAt(ir.range.start),vt=Ie.offsetAt(ir.range.end);if(vt<=Ft)Ct=Ct.substring(0,Ot)+ir.newText+Ct.substring(vt,Ct.length);else throw new Error("Overlapping edit");Ft=Ot}return Ct}o(Y,"applyEdits"),O.applyEdits=Y;function L(Ie,Me){if(Ie.length<=1)return Ie;var Ct=Ie.length/2|0,qt=Ie.slice(0,Ct),Ft=Ie.slice(Ct);L(qt,Me),L(Ft,Me);for(var tr=0,ir=0,Ot=0;tr<qt.length&&ir<Ft.length;){var vt=Me(qt[tr],Ft[ir]);vt<=0?Ie[Ot++]=qt[tr++]:Ie[Ot++]=Ft[ir++]}for(;tr<qt.length;)Ie[Ot++]=qt[tr++];for(;ir<Ft.length;)Ie[Ot++]=Ft[ir++];return Ie}o(L,"mergeSort")})(Zt||(t.TextDocument=Zt={}));var ur=function(){function O(me,ye,Y,L){this._uri=me,this._languageId=ye,this._version=Y,this._content=L,this._lineOffsets=void 0}return o(O,"FullTextDocument"),Object.defineProperty(O.prototype,"uri",{get:o(function(){return this._uri},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"languageId",{get:o(function(){return this._languageId},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"version",{get:o(function(){return this._version},"get"),enumerable:!1,configurable:!0}),O.prototype.getText=function(me){if(me){var ye=this.offsetAt(me.start),Y=this.offsetAt(me.end);return this._content.substring(ye,Y)}return this._content},O.prototype.update=function(me,ye){this._content=me.text,this._version=ye,this._lineOffsets=void 0},O.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var me=[],ye=this._content,Y=!0,L=0;L<ye.length;L++){Y&&(me.push(L),Y=!1);var Ie=ye.charAt(L);Y=Ie==="\r"||Ie===`
`,Ie==="\r"&&L+1<ye.length&&ye.charAt(L+1)===`
`&&L++}Y&&ye.length>0&&me.push(ye.length),this._lineOffsets=me}return this._lineOffsets},O.prototype.positionAt=function(me){me=Math.max(Math.min(me,this._content.length),0);var ye=this.getLineOffsets(),Y=0,L=ye.length;if(L===0)return a.create(0,me);for(;Y<L;){var Ie=Math.floor((Y+L)/2);ye[Ie]>me?L=Ie:Y=Ie+1}var Me=Y-1;return a.create(Me,me-ye[Me])},O.prototype.offsetAt=function(me){var ye=this.getLineOffsets();if(me.line>=ye.length)return this._content.length;if(me.line<0)return 0;var Y=ye[me.line],L=me.line+1<ye.length?ye[me.line+1]:this._content.length;return Math.max(Math.min(Y+me.character,L),Y)},Object.defineProperty(O.prototype,"lineCount",{get:o(function(){return this.getLineOffsets().length},"get"),enumerable:!1,configurable:!0}),O}(),ve;(function(O){var me=Object.prototype.toString;function ye(vt){return typeof vt<"u"}o(ye,"defined"),O.defined=ye;function Y(vt){return typeof vt>"u"}o(Y,"undefined"),O.undefined=Y;function L(vt){return vt===!0||vt===!1}o(L,"boolean"),O.boolean=L;function Ie(vt){return me.call(vt)==="[object String]"}o(Ie,"string"),O.string=Ie;function Me(vt){return me.call(vt)==="[object Number]"}o(Me,"number"),O.number=Me;function Ct(vt,sr,Po){return me.call(vt)==="[object Number]"&&sr<=vt&&vt<=Po}o(Ct,"numberRange"),O.numberRange=Ct;function qt(vt){return me.call(vt)==="[object Number]"&&-2147483648<=vt&&vt<=2147483647}o(qt,"integer"),O.integer=qt;function Ft(vt){return me.call(vt)==="[object Number]"&&0<=vt&&vt<=2147483647}o(Ft,"uinteger"),O.uinteger=Ft;function tr(vt){return me.call(vt)==="[object Function]"}o(tr,"func"),O.func=tr;function ir(vt){return vt!==null&&typeof vt=="object"}o(ir,"objectLiteral"),O.objectLiteral=ir;function Ot(vt,sr){return Array.isArray(vt)&&vt.every(sr)}o(Ot,"typedArray"),O.typedArray=Ot})(ve||(ve={}))})});var gs=V(kc=>{"use strict";d();Object.defineProperty(kc,"__esModule",{value:!0});kc.ProtocolNotificationType=kc.ProtocolNotificationType0=kc.ProtocolRequestType=kc.ProtocolRequestType0=kc.RegistrationType=kc.MessageDirection=void 0;var Gb=B3(),Gpe;(function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"})(Gpe||(kc.MessageDirection=Gpe={}));var MY=class{static{o(this,"RegistrationType")}constructor(t){this.method=t}};kc.RegistrationType=MY;var OY=class extends Gb.RequestType0{static{o(this,"ProtocolRequestType0")}constructor(t){super(t)}};kc.ProtocolRequestType0=OY;var UY=class extends Gb.RequestType{static{o(this,"ProtocolRequestType")}constructor(t){super(t,Gb.ParameterStructures.byName)}};kc.ProtocolRequestType=UY;var qY=class extends Gb.NotificationType0{static{o(this,"ProtocolNotificationType0")}constructor(t){super(t)}};kc.ProtocolNotificationType0=qY;var WY=class extends Gb.NotificationType{static{o(this,"ProtocolNotificationType")}constructor(t){super(t,Gb.ParameterStructures.byName)}};kc.ProtocolNotificationType=WY});var zD=V(Sa=>{"use strict";d();Object.defineProperty(Sa,"__esModule",{value:!0});Sa.objectLiteral=Sa.typedArray=Sa.stringArray=Sa.array=Sa.func=Sa.error=Sa.number=Sa.string=Sa.boolean=void 0;function BYe(e){return e===!0||e===!1}o(BYe,"boolean");Sa.boolean=BYe;function Hpe(e){return typeof e=="string"||e instanceof String}o(Hpe,"string");Sa.string=Hpe;function RYe(e){return typeof e=="number"||e instanceof Number}o(RYe,"number");Sa.number=RYe;function DYe(e){return e instanceof Error}o(DYe,"error");Sa.error=DYe;function PYe(e){return typeof e=="function"}o(PYe,"func");Sa.func=PYe;function Vpe(e){return Array.isArray(e)}o(Vpe,"array");Sa.array=Vpe;function FYe(e){return Vpe(e)&&e.every(t=>Hpe(t))}o(FYe,"stringArray");Sa.stringArray=FYe;function NYe(e,t){return Array.isArray(e)&&e.every(t)}o(NYe,"typedArray");Sa.typedArray=NYe;function LYe(e){return e!==null&&typeof e=="object"}o(LYe,"objectLiteral");Sa.objectLiteral=LYe});var zpe=V(YD=>{"use strict";d();Object.defineProperty(YD,"__esModule",{value:!0});YD.ImplementationRequest=void 0;var jpe=gs(),$pe;(function(e){e.method="textDocument/implementation",e.messageDirection=jpe.MessageDirection.clientToServer,e.type=new jpe.ProtocolRequestType(e.method)})($pe||(YD.ImplementationRequest=$pe={}))});var Jpe=V(KD=>{"use strict";d();Object.defineProperty(KD,"__esModule",{value:!0});KD.TypeDefinitionRequest=void 0;var Ype=gs(),Kpe;(function(e){e.method="textDocument/typeDefinition",e.messageDirection=Ype.MessageDirection.clientToServer,e.type=new Ype.ProtocolRequestType(e.method)})(Kpe||(KD.TypeDefinitionRequest=Kpe={}))});var ege=V(Hb=>{"use strict";d();Object.defineProperty(Hb,"__esModule",{value:!0});Hb.DidChangeWorkspaceFoldersNotification=Hb.WorkspaceFoldersRequest=void 0;var JD=gs(),Xpe;(function(e){e.method="workspace/workspaceFolders",e.messageDirection=JD.MessageDirection.serverToClient,e.type=new JD.ProtocolRequestType0(e.method)})(Xpe||(Hb.WorkspaceFoldersRequest=Xpe={}));var Zpe;(function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=JD.MessageDirection.clientToServer,e.type=new JD.ProtocolNotificationType(e.method)})(Zpe||(Hb.DidChangeWorkspaceFoldersNotification=Zpe={}))});var nge=V(XD=>{"use strict";d();Object.defineProperty(XD,"__esModule",{value:!0});XD.ConfigurationRequest=void 0;var tge=gs(),rge;(function(e){e.method="workspace/configuration",e.messageDirection=tge.MessageDirection.serverToClient,e.type=new tge.ProtocolRequestType(e.method)})(rge||(XD.ConfigurationRequest=rge={}))});var sge=V(Vb=>{"use strict";d();Object.defineProperty(Vb,"__esModule",{value:!0});Vb.ColorPresentationRequest=Vb.DocumentColorRequest=void 0;var ZD=gs(),ige;(function(e){e.method="textDocument/documentColor",e.messageDirection=ZD.MessageDirection.clientToServer,e.type=new ZD.ProtocolRequestType(e.method)})(ige||(Vb.DocumentColorRequest=ige={}));var oge;(function(e){e.method="textDocument/colorPresentation",e.messageDirection=ZD.MessageDirection.clientToServer,e.type=new ZD.ProtocolRequestType(e.method)})(oge||(Vb.ColorPresentationRequest=oge={}))});var cge=V(jb=>{"use strict";d();Object.defineProperty(jb,"__esModule",{value:!0});jb.FoldingRangeRefreshRequest=jb.FoldingRangeRequest=void 0;var eP=gs(),age;(function(e){e.method="textDocument/foldingRange",e.messageDirection=eP.MessageDirection.clientToServer,e.type=new eP.ProtocolRequestType(e.method)})(age||(jb.FoldingRangeRequest=age={}));var lge;(function(e){e.method="workspace/foldingRange/refresh",e.messageDirection=eP.MessageDirection.serverToClient,e.type=new eP.ProtocolRequestType0(e.method)})(lge||(jb.FoldingRangeRefreshRequest=lge={}))});var dge=V(tP=>{"use strict";d();Object.defineProperty(tP,"__esModule",{value:!0});tP.DeclarationRequest=void 0;var uge=gs(),fge;(function(e){e.method="textDocument/declaration",e.messageDirection=uge.MessageDirection.clientToServer,e.type=new uge.ProtocolRequestType(e.method)})(fge||(tP.DeclarationRequest=fge={}))});var pge=V(rP=>{"use strict";d();Object.defineProperty(rP,"__esModule",{value:!0});rP.SelectionRangeRequest=void 0;var mge=gs(),hge;(function(e){e.method="textDocument/selectionRange",e.messageDirection=mge.MessageDirection.clientToServer,e.type=new mge.ProtocolRequestType(e.method)})(hge||(rP.SelectionRangeRequest=hge={}))});var Cge=V(c5=>{"use strict";d();Object.defineProperty(c5,"__esModule",{value:!0});c5.WorkDoneProgressCancelNotification=c5.WorkDoneProgressCreateRequest=c5.WorkDoneProgress=void 0;var QYe=B3(),nP=gs(),gge;(function(e){e.type=new QYe.ProgressType;function t(r){return r===e.type}o(t,"is"),e.is=t})(gge||(c5.WorkDoneProgress=gge={}));var Age;(function(e){e.method="window/workDoneProgress/create",e.messageDirection=nP.MessageDirection.serverToClient,e.type=new nP.ProtocolRequestType(e.method)})(Age||(c5.WorkDoneProgressCreateRequest=Age={}));var yge;(function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=nP.MessageDirection.clientToServer,e.type=new nP.ProtocolNotificationType(e.method)})(yge||(c5.WorkDoneProgressCancelNotification=yge={}))});var vge=V(u5=>{"use strict";d();Object.defineProperty(u5,"__esModule",{value:!0});u5.CallHierarchyOutgoingCallsRequest=u5.CallHierarchyIncomingCallsRequest=u5.CallHierarchyPrepareRequest=void 0;var $b=gs(),xge;(function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=$b.MessageDirection.clientToServer,e.type=new $b.ProtocolRequestType(e.method)})(xge||(u5.CallHierarchyPrepareRequest=xge={}));var Ege;(function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=$b.MessageDirection.clientToServer,e.type=new $b.ProtocolRequestType(e.method)})(Ege||(u5.CallHierarchyIncomingCallsRequest=Ege={}));var bge;(function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=$b.MessageDirection.clientToServer,e.type=new $b.ProtocolRequestType(e.method)})(bge||(u5.CallHierarchyOutgoingCallsRequest=bge={}))});var kge=V(Bc=>{"use strict";d();Object.defineProperty(Bc,"__esModule",{value:!0});Bc.SemanticTokensRefreshRequest=Bc.SemanticTokensRangeRequest=Bc.SemanticTokensDeltaRequest=Bc.SemanticTokensRequest=Bc.SemanticTokensRegistrationType=Bc.TokenFormat=void 0;var u1=gs(),Ige;(function(e){e.Relative="relative"})(Ige||(Bc.TokenFormat=Ige={}));var eT;(function(e){e.method="textDocument/semanticTokens",e.type=new u1.RegistrationType(e.method)})(eT||(Bc.SemanticTokensRegistrationType=eT={}));var Tge;(function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=u1.MessageDirection.clientToServer,e.type=new u1.ProtocolRequestType(e.method),e.registrationMethod=eT.method})(Tge||(Bc.SemanticTokensRequest=Tge={}));var wge;(function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=u1.MessageDirection.clientToServer,e.type=new u1.ProtocolRequestType(e.method),e.registrationMethod=eT.method})(wge||(Bc.SemanticTokensDeltaRequest=wge={}));var Sge;(function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=u1.MessageDirection.clientToServer,e.type=new u1.ProtocolRequestType(e.method),e.registrationMethod=eT.method})(Sge||(Bc.SemanticTokensRangeRequest=Sge={}));var _ge;(function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=u1.MessageDirection.serverToClient,e.type=new u1.ProtocolRequestType0(e.method)})(_ge||(Bc.SemanticTokensRefreshRequest=_ge={}))});var Dge=V(iP=>{"use strict";d();Object.defineProperty(iP,"__esModule",{value:!0});iP.ShowDocumentRequest=void 0;var Bge=gs(),Rge;(function(e){e.method="window/showDocument",e.messageDirection=Bge.MessageDirection.serverToClient,e.type=new Bge.ProtocolRequestType(e.method)})(Rge||(iP.ShowDocumentRequest=Rge={}))});var Nge=V(oP=>{"use strict";d();Object.defineProperty(oP,"__esModule",{value:!0});oP.LinkedEditingRangeRequest=void 0;var Pge=gs(),Fge;(function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=Pge.MessageDirection.clientToServer,e.type=new Pge.ProtocolRequestType(e.method)})(Fge||(oP.LinkedEditingRangeRequest=Fge={}))});var Gge=V(C0=>{"use strict";d();Object.defineProperty(C0,"__esModule",{value:!0});C0.WillDeleteFilesRequest=C0.DidDeleteFilesNotification=C0.DidRenameFilesNotification=C0.WillRenameFilesRequest=C0.DidCreateFilesNotification=C0.WillCreateFilesRequest=C0.FileOperationPatternKind=void 0;var Hf=gs(),Lge;(function(e){e.file="file",e.folder="folder"})(Lge||(C0.FileOperationPatternKind=Lge={}));var Qge;(function(e){e.method="workspace/willCreateFiles",e.messageDirection=Hf.MessageDirection.clientToServer,e.type=new Hf.ProtocolRequestType(e.method)})(Qge||(C0.WillCreateFilesRequest=Qge={}));var Mge;(function(e){e.method="workspace/didCreateFiles",e.messageDirection=Hf.MessageDirection.clientToServer,e.type=new Hf.ProtocolNotificationType(e.method)})(Mge||(C0.DidCreateFilesNotification=Mge={}));var Oge;(function(e){e.method="workspace/willRenameFiles",e.messageDirection=Hf.MessageDirection.clientToServer,e.type=new Hf.ProtocolRequestType(e.method)})(Oge||(C0.WillRenameFilesRequest=Oge={}));var Uge;(function(e){e.method="workspace/didRenameFiles",e.messageDirection=Hf.MessageDirection.clientToServer,e.type=new Hf.ProtocolNotificationType(e.method)})(Uge||(C0.DidRenameFilesNotification=Uge={}));var qge;(function(e){e.method="workspace/didDeleteFiles",e.messageDirection=Hf.MessageDirection.clientToServer,e.type=new Hf.ProtocolNotificationType(e.method)})(qge||(C0.DidDeleteFilesNotification=qge={}));var Wge;(function(e){e.method="workspace/willDeleteFiles",e.messageDirection=Hf.MessageDirection.clientToServer,e.type=new Hf.ProtocolRequestType(e.method)})(Wge||(C0.WillDeleteFilesRequest=Wge={}))});var zge=V(f5=>{"use strict";d();Object.defineProperty(f5,"__esModule",{value:!0});f5.MonikerRequest=f5.MonikerKind=f5.UniquenessLevel=void 0;var Hge=gs(),Vge;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(Vge||(f5.UniquenessLevel=Vge={}));var jge;(function(e){e.$import="import",e.$export="export",e.local="local"})(jge||(f5.MonikerKind=jge={}));var $ge;(function(e){e.method="textDocument/moniker",e.messageDirection=Hge.MessageDirection.clientToServer,e.type=new Hge.ProtocolRequestType(e.method)})($ge||(f5.MonikerRequest=$ge={}))});var Xge=V(d5=>{"use strict";d();Object.defineProperty(d5,"__esModule",{value:!0});d5.TypeHierarchySubtypesRequest=d5.TypeHierarchySupertypesRequest=d5.TypeHierarchyPrepareRequest=void 0;var zb=gs(),Yge;(function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=zb.MessageDirection.clientToServer,e.type=new zb.ProtocolRequestType(e.method)})(Yge||(d5.TypeHierarchyPrepareRequest=Yge={}));var Kge;(function(e){e.method="typeHierarchy/supertypes",e.messageDirection=zb.MessageDirection.clientToServer,e.type=new zb.ProtocolRequestType(e.method)})(Kge||(d5.TypeHierarchySupertypesRequest=Kge={}));var Jge;(function(e){e.method="typeHierarchy/subtypes",e.messageDirection=zb.MessageDirection.clientToServer,e.type=new zb.ProtocolRequestType(e.method)})(Jge||(d5.TypeHierarchySubtypesRequest=Jge={}))});var t1e=V(Yb=>{"use strict";d();Object.defineProperty(Yb,"__esModule",{value:!0});Yb.InlineValueRefreshRequest=Yb.InlineValueRequest=void 0;var sP=gs(),Zge;(function(e){e.method="textDocument/inlineValue",e.messageDirection=sP.MessageDirection.clientToServer,e.type=new sP.ProtocolRequestType(e.method)})(Zge||(Yb.InlineValueRequest=Zge={}));var e1e;(function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=sP.MessageDirection.serverToClient,e.type=new sP.ProtocolRequestType0(e.method)})(e1e||(Yb.InlineValueRefreshRequest=e1e={}))});var o1e=V(m5=>{"use strict";d();Object.defineProperty(m5,"__esModule",{value:!0});m5.InlayHintRefreshRequest=m5.InlayHintResolveRequest=m5.InlayHintRequest=void 0;var Kb=gs(),r1e;(function(e){e.method="textDocument/inlayHint",e.messageDirection=Kb.MessageDirection.clientToServer,e.type=new Kb.ProtocolRequestType(e.method)})(r1e||(m5.InlayHintRequest=r1e={}));var n1e;(function(e){e.method="inlayHint/resolve",e.messageDirection=Kb.MessageDirection.clientToServer,e.type=new Kb.ProtocolRequestType(e.method)})(n1e||(m5.InlayHintResolveRequest=n1e={}));var i1e;(function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=Kb.MessageDirection.serverToClient,e.type=new Kb.ProtocolRequestType0(e.method)})(i1e||(m5.InlayHintRefreshRequest=i1e={}))});var d1e=V(Vf=>{"use strict";d();Object.defineProperty(Vf,"__esModule",{value:!0});Vf.DiagnosticRefreshRequest=Vf.WorkspaceDiagnosticRequest=Vf.DocumentDiagnosticRequest=Vf.DocumentDiagnosticReportKind=Vf.DiagnosticServerCancellationData=void 0;var f1e=B3(),MYe=zD(),Jb=gs(),s1e;(function(e){function t(r){let n=r;return n&&MYe.boolean(n.retriggerRequest)}o(t,"is"),e.is=t})(s1e||(Vf.DiagnosticServerCancellationData=s1e={}));var a1e;(function(e){e.Full="full",e.Unchanged="unchanged"})(a1e||(Vf.DocumentDiagnosticReportKind=a1e={}));var l1e;(function(e){e.method="textDocument/diagnostic",e.messageDirection=Jb.MessageDirection.clientToServer,e.type=new Jb.ProtocolRequestType(e.method),e.partialResult=new f1e.ProgressType})(l1e||(Vf.DocumentDiagnosticRequest=l1e={}));var c1e;(function(e){e.method="workspace/diagnostic",e.messageDirection=Jb.MessageDirection.clientToServer,e.type=new Jb.ProtocolRequestType(e.method),e.partialResult=new f1e.ProgressType})(c1e||(Vf.WorkspaceDiagnosticRequest=c1e={}));var u1e;(function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=Jb.MessageDirection.serverToClient,e.type=new Jb.ProtocolRequestType0(e.method)})(u1e||(Vf.DiagnosticRefreshRequest=u1e={}))});var C1e=V(Us=>{"use strict";d();Object.defineProperty(Us,"__esModule",{value:!0});Us.DidCloseNotebookDocumentNotification=Us.DidSaveNotebookDocumentNotification=Us.DidChangeNotebookDocumentNotification=Us.NotebookCellArrayChange=Us.DidOpenNotebookDocumentNotification=Us.NotebookDocumentSyncRegistrationType=Us.NotebookDocument=Us.NotebookCell=Us.ExecutionSummary=Us.NotebookCellKind=void 0;var tT=$D(),bm=zD(),ap=gs(),GY;(function(e){e.Markup=1,e.Code=2;function t(r){return r===1||r===2}o(t,"is"),e.is=t})(GY||(Us.NotebookCellKind=GY={}));var HY;(function(e){function t(i,s){let a={executionOrder:i};return(s===!0||s===!1)&&(a.success=s),a}o(t,"create"),e.create=t;function r(i){let s=i;return bm.objectLiteral(s)&&tT.uinteger.is(s.executionOrder)&&(s.success===void 0||bm.boolean(s.success))}o(r,"is"),e.is=r;function n(i,s){return i===s?!0:i==null||s===null||s===void 0?!1:i.executionOrder===s.executionOrder&&i.success===s.success}o(n,"equals"),e.equals=n})(HY||(Us.ExecutionSummary=HY={}));var aP;(function(e){function t(s,a){return{kind:s,document:a}}o(t,"create"),e.create=t;function r(s){let a=s;return bm.objectLiteral(a)&&GY.is(a.kind)&&tT.DocumentUri.is(a.document)&&(a.metadata===void 0||bm.objectLiteral(a.metadata))}o(r,"is"),e.is=r;function n(s,a){let l=new Set;return s.document!==a.document&&l.add("document"),s.kind!==a.kind&&l.add("kind"),s.executionSummary!==a.executionSummary&&l.add("executionSummary"),(s.metadata!==void 0||a.metadata!==void 0)&&!i(s.metadata,a.metadata)&&l.add("metadata"),(s.executionSummary!==void 0||a.executionSummary!==void 0)&&!HY.equals(s.executionSummary,a.executionSummary)&&l.add("executionSummary"),l}o(n,"diff"),e.diff=n;function i(s,a){if(s===a)return!0;if(s==null||a===null||a===void 0||typeof s!=typeof a||typeof s!="object")return!1;let l=Array.isArray(s),c=Array.isArray(a);if(l!==c)return!1;if(l&&c){if(s.length!==a.length)return!1;for(let u=0;u<s.length;u++)if(!i(s[u],a[u]))return!1}if(bm.objectLiteral(s)&&bm.objectLiteral(a)){let u=Object.keys(s),f=Object.keys(a);if(u.length!==f.length||(u.sort(),f.sort(),!i(u,f)))return!1;for(let m=0;m<u.length;m++){let h=u[m];if(!i(s[h],a[h]))return!1}}return!0}o(i,"equalsMetadata")})(aP||(Us.NotebookCell=aP={}));var m1e;(function(e){function t(n,i,s,a){return{uri:n,notebookType:i,version:s,cells:a}}o(t,"create"),e.create=t;function r(n){let i=n;return bm.objectLiteral(i)&&bm.string(i.uri)&&tT.integer.is(i.version)&&bm.typedArray(i.cells,aP.is)}o(r,"is"),e.is=r})(m1e||(Us.NotebookDocument=m1e={}));var Xb;(function(e){e.method="notebookDocument/sync",e.messageDirection=ap.MessageDirection.clientToServer,e.type=new ap.RegistrationType(e.method)})(Xb||(Us.NotebookDocumentSyncRegistrationType=Xb={}));var h1e;(function(e){e.method="notebookDocument/didOpen",e.messageDirection=ap.MessageDirection.clientToServer,e.type=new ap.ProtocolNotificationType(e.method),e.registrationMethod=Xb.method})(h1e||(Us.DidOpenNotebookDocumentNotification=h1e={}));var p1e;(function(e){function t(n){let i=n;return bm.objectLiteral(i)&&tT.uinteger.is(i.start)&&tT.uinteger.is(i.deleteCount)&&(i.cells===void 0||bm.typedArray(i.cells,aP.is))}o(t,"is"),e.is=t;function r(n,i,s){let a={start:n,deleteCount:i};return s!==void 0&&(a.cells=s),a}o(r,"create"),e.create=r})(p1e||(Us.NotebookCellArrayChange=p1e={}));var g1e;(function(e){e.method="notebookDocument/didChange",e.messageDirection=ap.MessageDirection.clientToServer,e.type=new ap.ProtocolNotificationType(e.method),e.registrationMethod=Xb.method})(g1e||(Us.DidChangeNotebookDocumentNotification=g1e={}));var A1e;(function(e){e.method="notebookDocument/didSave",e.messageDirection=ap.MessageDirection.clientToServer,e.type=new ap.ProtocolNotificationType(e.method),e.registrationMethod=Xb.method})(A1e||(Us.DidSaveNotebookDocumentNotification=A1e={}));var y1e;(function(e){e.method="notebookDocument/didClose",e.messageDirection=ap.MessageDirection.clientToServer,e.type=new ap.ProtocolNotificationType(e.method),e.registrationMethod=Xb.method})(y1e||(Us.DidCloseNotebookDocumentNotification=y1e={}))});var b1e=V(lP=>{"use strict";d();Object.defineProperty(lP,"__esModule",{value:!0});lP.InlineCompletionRequest=void 0;var x1e=gs(),E1e;(function(e){e.method="textDocument/inlineCompletion",e.messageDirection=x1e.MessageDirection.clientToServer,e.type=new x1e.ProtocolRequestType(e.method)})(E1e||(lP.InlineCompletionRequest=E1e={}))});var NAe=V(be=>{"use strict";d();Object.defineProperty(be,"__esModule",{value:!0});be.WorkspaceSymbolRequest=be.CodeActionResolveRequest=be.CodeActionRequest=be.DocumentSymbolRequest=be.DocumentHighlightRequest=be.ReferencesRequest=be.DefinitionRequest=be.SignatureHelpRequest=be.SignatureHelpTriggerKind=be.HoverRequest=be.CompletionResolveRequest=be.CompletionRequest=be.CompletionTriggerKind=be.PublishDiagnosticsNotification=be.WatchKind=be.RelativePattern=be.FileChangeType=be.DidChangeWatchedFilesNotification=be.WillSaveTextDocumentWaitUntilRequest=be.WillSaveTextDocumentNotification=be.TextDocumentSaveReason=be.DidSaveTextDocumentNotification=be.DidCloseTextDocumentNotification=be.DidChangeTextDocumentNotification=be.TextDocumentContentChangeEvent=be.DidOpenTextDocumentNotification=be.TextDocumentSyncKind=be.TelemetryEventNotification=be.LogMessageNotification=be.ShowMessageRequest=be.ShowMessageNotification=be.MessageType=be.DidChangeConfigurationNotification=be.ExitNotification=be.ShutdownRequest=be.InitializedNotification=be.InitializeErrorCodes=be.InitializeRequest=be.WorkDoneProgressOptions=be.TextDocumentRegistrationOptions=be.StaticRegistrationOptions=be.PositionEncodingKind=be.FailureHandlingKind=be.ResourceOperationKind=be.UnregistrationRequest=be.RegistrationRequest=be.DocumentSelector=be.NotebookCellTextDocumentFilter=be.NotebookDocumentFilter=be.TextDocumentFilter=void 0;be.MonikerRequest=be.MonikerKind=be.UniquenessLevel=be.WillDeleteFilesRequest=be.DidDeleteFilesNotification=be.WillRenameFilesRequest=be.DidRenameFilesNotification=be.WillCreateFilesRequest=be.DidCreateFilesNotification=be.FileOperationPatternKind=be.LinkedEditingRangeRequest=be.ShowDocumentRequest=be.SemanticTokensRegistrationType=be.SemanticTokensRefreshRequest=be.SemanticTokensRangeRequest=be.SemanticTokensDeltaRequest=be.SemanticTokensRequest=be.TokenFormat=be.CallHierarchyPrepareRequest=be.CallHierarchyOutgoingCallsRequest=be.CallHierarchyIncomingCallsRequest=be.WorkDoneProgressCancelNotification=be.WorkDoneProgressCreateRequest=be.WorkDoneProgress=be.SelectionRangeRequest=be.DeclarationRequest=be.FoldingRangeRefreshRequest=be.FoldingRangeRequest=be.ColorPresentationRequest=be.DocumentColorRequest=be.ConfigurationRequest=be.DidChangeWorkspaceFoldersNotification=be.WorkspaceFoldersRequest=be.TypeDefinitionRequest=be.ImplementationRequest=be.ApplyWorkspaceEditRequest=be.ExecuteCommandRequest=be.PrepareRenameRequest=be.RenameRequest=be.PrepareSupportDefaultBehavior=be.DocumentOnTypeFormattingRequest=be.DocumentRangesFormattingRequest=be.DocumentRangeFormattingRequest=be.DocumentFormattingRequest=be.DocumentLinkResolveRequest=be.DocumentLinkRequest=be.CodeLensRefreshRequest=be.CodeLensResolveRequest=be.CodeLensRequest=be.WorkspaceSymbolResolveRequest=void 0;be.InlineCompletionRequest=be.DidCloseNotebookDocumentNotification=be.DidSaveNotebookDocumentNotification=be.DidChangeNotebookDocumentNotification=be.NotebookCellArrayChange=be.DidOpenNotebookDocumentNotification=be.NotebookDocumentSyncRegistrationType=be.NotebookDocument=be.NotebookCell=be.ExecutionSummary=be.NotebookCellKind=be.DiagnosticRefreshRequest=be.WorkspaceDiagnosticRequest=be.DocumentDiagnosticRequest=be.DocumentDiagnosticReportKind=be.DiagnosticServerCancellationData=be.InlayHintRefreshRequest=be.InlayHintResolveRequest=be.InlayHintRequest=be.InlineValueRefreshRequest=be.InlineValueRequest=be.TypeHierarchySupertypesRequest=be.TypeHierarchySubtypesRequest=be.TypeHierarchyPrepareRequest=void 0;var Kt=gs(),v1e=$D(),ll=zD(),OYe=zpe();Object.defineProperty(be,"ImplementationRequest",{enumerable:!0,get:o(function(){return OYe.ImplementationRequest},"get")});var UYe=Jpe();Object.defineProperty(be,"TypeDefinitionRequest",{enumerable:!0,get:o(function(){return UYe.TypeDefinitionRequest},"get")});var RAe=ege();Object.defineProperty(be,"WorkspaceFoldersRequest",{enumerable:!0,get:o(function(){return RAe.WorkspaceFoldersRequest},"get")});Object.defineProperty(be,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:o(function(){return RAe.DidChangeWorkspaceFoldersNotification},"get")});var qYe=nge();Object.defineProperty(be,"ConfigurationRequest",{enumerable:!0,get:o(function(){return qYe.ConfigurationRequest},"get")});var DAe=sge();Object.defineProperty(be,"DocumentColorRequest",{enumerable:!0,get:o(function(){return DAe.DocumentColorRequest},"get")});Object.defineProperty(be,"ColorPresentationRequest",{enumerable:!0,get:o(function(){return DAe.ColorPresentationRequest},"get")});var PAe=cge();Object.defineProperty(be,"FoldingRangeRequest",{enumerable:!0,get:o(function(){return PAe.FoldingRangeRequest},"get")});Object.defineProperty(be,"FoldingRangeRefreshRequest",{enumerable:!0,get:o(function(){return PAe.FoldingRangeRefreshRequest},"get")});var WYe=dge();Object.defineProperty(be,"DeclarationRequest",{enumerable:!0,get:o(function(){return WYe.DeclarationRequest},"get")});var GYe=pge();Object.defineProperty(be,"SelectionRangeRequest",{enumerable:!0,get:o(function(){return GYe.SelectionRangeRequest},"get")});var YY=Cge();Object.defineProperty(be,"WorkDoneProgress",{enumerable:!0,get:o(function(){return YY.WorkDoneProgress},"get")});Object.defineProperty(be,"WorkDoneProgressCreateRequest",{enumerable:!0,get:o(function(){return YY.WorkDoneProgressCreateRequest},"get")});Object.defineProperty(be,"WorkDoneProgressCancelNotification",{enumerable:!0,get:o(function(){return YY.WorkDoneProgressCancelNotification},"get")});var KY=vge();Object.defineProperty(be,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:o(function(){return KY.CallHierarchyIncomingCallsRequest},"get")});Object.defineProperty(be,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:o(function(){return KY.CallHierarchyOutgoingCallsRequest},"get")});Object.defineProperty(be,"CallHierarchyPrepareRequest",{enumerable:!0,get:o(function(){return KY.CallHierarchyPrepareRequest},"get")});var Zb=kge();Object.defineProperty(be,"TokenFormat",{enumerable:!0,get:o(function(){return Zb.TokenFormat},"get")});Object.defineProperty(be,"SemanticTokensRequest",{enumerable:!0,get:o(function(){return Zb.SemanticTokensRequest},"get")});Object.defineProperty(be,"SemanticTokensDeltaRequest",{enumerable:!0,get:o(function(){return Zb.SemanticTokensDeltaRequest},"get")});Object.defineProperty(be,"SemanticTokensRangeRequest",{enumerable:!0,get:o(function(){return Zb.SemanticTokensRangeRequest},"get")});Object.defineProperty(be,"SemanticTokensRefreshRequest",{enumerable:!0,get:o(function(){return Zb.SemanticTokensRefreshRequest},"get")});Object.defineProperty(be,"SemanticTokensRegistrationType",{enumerable:!0,get:o(function(){return Zb.SemanticTokensRegistrationType},"get")});var HYe=Dge();Object.defineProperty(be,"ShowDocumentRequest",{enumerable:!0,get:o(function(){return HYe.ShowDocumentRequest},"get")});var VYe=Nge();Object.defineProperty(be,"LinkedEditingRangeRequest",{enumerable:!0,get:o(function(){return VYe.LinkedEditingRangeRequest},"get")});var R3=Gge();Object.defineProperty(be,"FileOperationPatternKind",{enumerable:!0,get:o(function(){return R3.FileOperationPatternKind},"get")});Object.defineProperty(be,"DidCreateFilesNotification",{enumerable:!0,get:o(function(){return R3.DidCreateFilesNotification},"get")});Object.defineProperty(be,"WillCreateFilesRequest",{enumerable:!0,get:o(function(){return R3.WillCreateFilesRequest},"get")});Object.defineProperty(be,"DidRenameFilesNotification",{enumerable:!0,get:o(function(){return R3.DidRenameFilesNotification},"get")});Object.defineProperty(be,"WillRenameFilesRequest",{enumerable:!0,get:o(function(){return R3.WillRenameFilesRequest},"get")});Object.defineProperty(be,"DidDeleteFilesNotification",{enumerable:!0,get:o(function(){return R3.DidDeleteFilesNotification},"get")});Object.defineProperty(be,"WillDeleteFilesRequest",{enumerable:!0,get:o(function(){return R3.WillDeleteFilesRequest},"get")});var JY=zge();Object.defineProperty(be,"UniquenessLevel",{enumerable:!0,get:o(function(){return JY.UniquenessLevel},"get")});Object.defineProperty(be,"MonikerKind",{enumerable:!0,get:o(function(){return JY.MonikerKind},"get")});Object.defineProperty(be,"MonikerRequest",{enumerable:!0,get:o(function(){return JY.MonikerRequest},"get")});var XY=Xge();Object.defineProperty(be,"TypeHierarchyPrepareRequest",{enumerable:!0,get:o(function(){return XY.TypeHierarchyPrepareRequest},"get")});Object.defineProperty(be,"TypeHierarchySubtypesRequest",{enumerable:!0,get:o(function(){return XY.TypeHierarchySubtypesRequest},"get")});Object.defineProperty(be,"TypeHierarchySupertypesRequest",{enumerable:!0,get:o(function(){return XY.TypeHierarchySupertypesRequest},"get")});var FAe=t1e();Object.defineProperty(be,"InlineValueRequest",{enumerable:!0,get:o(function(){return FAe.InlineValueRequest},"get")});Object.defineProperty(be,"InlineValueRefreshRequest",{enumerable:!0,get:o(function(){return FAe.InlineValueRefreshRequest},"get")});var ZY=o1e();Object.defineProperty(be,"InlayHintRequest",{enumerable:!0,get:o(function(){return ZY.InlayHintRequest},"get")});Object.defineProperty(be,"InlayHintResolveRequest",{enumerable:!0,get:o(function(){return ZY.InlayHintResolveRequest},"get")});Object.defineProperty(be,"InlayHintRefreshRequest",{enumerable:!0,get:o(function(){return ZY.InlayHintRefreshRequest},"get")});var rT=d1e();Object.defineProperty(be,"DiagnosticServerCancellationData",{enumerable:!0,get:o(function(){return rT.DiagnosticServerCancellationData},"get")});Object.defineProperty(be,"DocumentDiagnosticReportKind",{enumerable:!0,get:o(function(){return rT.DocumentDiagnosticReportKind},"get")});Object.defineProperty(be,"DocumentDiagnosticRequest",{enumerable:!0,get:o(function(){return rT.DocumentDiagnosticRequest},"get")});Object.defineProperty(be,"WorkspaceDiagnosticRequest",{enumerable:!0,get:o(function(){return rT.WorkspaceDiagnosticRequest},"get")});Object.defineProperty(be,"DiagnosticRefreshRequest",{enumerable:!0,get:o(function(){return rT.DiagnosticRefreshRequest},"get")});var lp=C1e();Object.defineProperty(be,"NotebookCellKind",{enumerable:!0,get:o(function(){return lp.NotebookCellKind},"get")});Object.defineProperty(be,"ExecutionSummary",{enumerable:!0,get:o(function(){return lp.ExecutionSummary},"get")});Object.defineProperty(be,"NotebookCell",{enumerable:!0,get:o(function(){return lp.NotebookCell},"get")});Object.defineProperty(be,"NotebookDocument",{enumerable:!0,get:o(function(){return lp.NotebookDocument},"get")});Object.defineProperty(be,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:o(function(){return lp.NotebookDocumentSyncRegistrationType},"get")});Object.defineProperty(be,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:o(function(){return lp.DidOpenNotebookDocumentNotification},"get")});Object.defineProperty(be,"NotebookCellArrayChange",{enumerable:!0,get:o(function(){return lp.NotebookCellArrayChange},"get")});Object.defineProperty(be,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:o(function(){return lp.DidChangeNotebookDocumentNotification},"get")});Object.defineProperty(be,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:o(function(){return lp.DidSaveNotebookDocumentNotification},"get")});Object.defineProperty(be,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:o(function(){return lp.DidCloseNotebookDocumentNotification},"get")});var jYe=b1e();Object.defineProperty(be,"InlineCompletionRequest",{enumerable:!0,get:o(function(){return jYe.InlineCompletionRequest},"get")});var VY;(function(e){function t(r){let n=r;return ll.string(n)||ll.string(n.language)||ll.string(n.scheme)||ll.string(n.pattern)}o(t,"is"),e.is=t})(VY||(be.TextDocumentFilter=VY={}));var jY;(function(e){function t(r){let n=r;return ll.objectLiteral(n)&&(ll.string(n.notebookType)||ll.string(n.scheme)||ll.string(n.pattern))}o(t,"is"),e.is=t})(jY||(be.NotebookDocumentFilter=jY={}));var $Y;(function(e){function t(r){let n=r;return ll.objectLiteral(n)&&(ll.string(n.notebook)||jY.is(n.notebook))&&(n.language===void 0||ll.string(n.language))}o(t,"is"),e.is=t})($Y||(be.NotebookCellTextDocumentFilter=$Y={}));var zY;(function(e){function t(r){if(!Array.isArray(r))return!1;for(let n of r)if(!ll.string(n)&&!VY.is(n)&&!$Y.is(n))return!1;return!0}o(t,"is"),e.is=t})(zY||(be.DocumentSelector=zY={}));var I1e;(function(e){e.method="client/registerCapability",e.messageDirection=Kt.MessageDirection.serverToClient,e.type=new Kt.ProtocolRequestType(e.method)})(I1e||(be.RegistrationRequest=I1e={}));var T1e;(function(e){e.method="client/unregisterCapability",e.messageDirection=Kt.MessageDirection.serverToClient,e.type=new Kt.ProtocolRequestType(e.method)})(T1e||(be.UnregistrationRequest=T1e={}));var w1e;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(w1e||(be.ResourceOperationKind=w1e={}));var S1e;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(S1e||(be.FailureHandlingKind=S1e={}));var _1e;(function(e){e.UTF8="utf-8",e.UTF16="utf-16",e.UTF32="utf-32"})(_1e||(be.PositionEncodingKind=_1e={}));var k1e;(function(e){function t(r){let n=r;return n&&ll.string(n.id)&&n.id.length>0}o(t,"hasId"),e.hasId=t})(k1e||(be.StaticRegistrationOptions=k1e={}));var B1e;(function(e){function t(r){let n=r;return n&&(n.documentSelector===null||zY.is(n.documentSelector))}o(t,"is"),e.is=t})(B1e||(be.TextDocumentRegistrationOptions=B1e={}));var R1e;(function(e){function t(n){let i=n;return ll.objectLiteral(i)&&(i.workDoneProgress===void 0||ll.boolean(i.workDoneProgress))}o(t,"is"),e.is=t;function r(n){let i=n;return i&&ll.boolean(i.workDoneProgress)}o(r,"hasWorkDoneProgress"),e.hasWorkDoneProgress=r})(R1e||(be.WorkDoneProgressOptions=R1e={}));var D1e;(function(e){e.method="initialize",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(D1e||(be.InitializeRequest=D1e={}));var P1e;(function(e){e.unknownProtocolVersion=1})(P1e||(be.InitializeErrorCodes=P1e={}));var F1e;(function(e){e.method="initialized",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolNotificationType(e.method)})(F1e||(be.InitializedNotification=F1e={}));var N1e;(function(e){e.method="shutdown",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType0(e.method)})(N1e||(be.ShutdownRequest=N1e={}));var L1e;(function(e){e.method="exit",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolNotificationType0(e.method)})(L1e||(be.ExitNotification=L1e={}));var Q1e;(function(e){e.method="workspace/didChangeConfiguration",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolNotificationType(e.method)})(Q1e||(be.DidChangeConfigurationNotification=Q1e={}));var M1e;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4,e.Debug=5})(M1e||(be.MessageType=M1e={}));var O1e;(function(e){e.method="window/showMessage",e.messageDirection=Kt.MessageDirection.serverToClient,e.type=new Kt.ProtocolNotificationType(e.method)})(O1e||(be.ShowMessageNotification=O1e={}));var U1e;(function(e){e.method="window/showMessageRequest",e.messageDirection=Kt.MessageDirection.serverToClient,e.type=new Kt.ProtocolRequestType(e.method)})(U1e||(be.ShowMessageRequest=U1e={}));var q1e;(function(e){e.method="window/logMessage",e.messageDirection=Kt.MessageDirection.serverToClient,e.type=new Kt.ProtocolNotificationType(e.method)})(q1e||(be.LogMessageNotification=q1e={}));var W1e;(function(e){e.method="telemetry/event",e.messageDirection=Kt.MessageDirection.serverToClient,e.type=new Kt.ProtocolNotificationType(e.method)})(W1e||(be.TelemetryEventNotification=W1e={}));var G1e;(function(e){e.None=0,e.Full=1,e.Incremental=2})(G1e||(be.TextDocumentSyncKind=G1e={}));var H1e;(function(e){e.method="textDocument/didOpen",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolNotificationType(e.method)})(H1e||(be.DidOpenTextDocumentNotification=H1e={}));var V1e;(function(e){function t(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}o(t,"isIncremental"),e.isIncremental=t;function r(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}o(r,"isFull"),e.isFull=r})(V1e||(be.TextDocumentContentChangeEvent=V1e={}));var j1e;(function(e){e.method="textDocument/didChange",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolNotificationType(e.method)})(j1e||(be.DidChangeTextDocumentNotification=j1e={}));var $1e;(function(e){e.method="textDocument/didClose",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolNotificationType(e.method)})($1e||(be.DidCloseTextDocumentNotification=$1e={}));var z1e;(function(e){e.method="textDocument/didSave",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolNotificationType(e.method)})(z1e||(be.DidSaveTextDocumentNotification=z1e={}));var Y1e;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(Y1e||(be.TextDocumentSaveReason=Y1e={}));var K1e;(function(e){e.method="textDocument/willSave",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolNotificationType(e.method)})(K1e||(be.WillSaveTextDocumentNotification=K1e={}));var J1e;(function(e){e.method="textDocument/willSaveWaitUntil",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(J1e||(be.WillSaveTextDocumentWaitUntilRequest=J1e={}));var X1e;(function(e){e.method="workspace/didChangeWatchedFiles",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolNotificationType(e.method)})(X1e||(be.DidChangeWatchedFilesNotification=X1e={}));var Z1e;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(Z1e||(be.FileChangeType=Z1e={}));var eAe;(function(e){function t(r){let n=r;return ll.objectLiteral(n)&&(v1e.URI.is(n.baseUri)||v1e.WorkspaceFolder.is(n.baseUri))&&ll.string(n.pattern)}o(t,"is"),e.is=t})(eAe||(be.RelativePattern=eAe={}));var tAe;(function(e){e.Create=1,e.Change=2,e.Delete=4})(tAe||(be.WatchKind=tAe={}));var rAe;(function(e){e.method="textDocument/publishDiagnostics",e.messageDirection=Kt.MessageDirection.serverToClient,e.type=new Kt.ProtocolNotificationType(e.method)})(rAe||(be.PublishDiagnosticsNotification=rAe={}));var nAe;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(nAe||(be.CompletionTriggerKind=nAe={}));var iAe;(function(e){e.method="textDocument/completion",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(iAe||(be.CompletionRequest=iAe={}));var oAe;(function(e){e.method="completionItem/resolve",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(oAe||(be.CompletionResolveRequest=oAe={}));var sAe;(function(e){e.method="textDocument/hover",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(sAe||(be.HoverRequest=sAe={}));var aAe;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(aAe||(be.SignatureHelpTriggerKind=aAe={}));var lAe;(function(e){e.method="textDocument/signatureHelp",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(lAe||(be.SignatureHelpRequest=lAe={}));var cAe;(function(e){e.method="textDocument/definition",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(cAe||(be.DefinitionRequest=cAe={}));var uAe;(function(e){e.method="textDocument/references",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(uAe||(be.ReferencesRequest=uAe={}));var fAe;(function(e){e.method="textDocument/documentHighlight",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(fAe||(be.DocumentHighlightRequest=fAe={}));var dAe;(function(e){e.method="textDocument/documentSymbol",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(dAe||(be.DocumentSymbolRequest=dAe={}));var mAe;(function(e){e.method="textDocument/codeAction",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(mAe||(be.CodeActionRequest=mAe={}));var hAe;(function(e){e.method="codeAction/resolve",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(hAe||(be.CodeActionResolveRequest=hAe={}));var pAe;(function(e){e.method="workspace/symbol",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(pAe||(be.WorkspaceSymbolRequest=pAe={}));var gAe;(function(e){e.method="workspaceSymbol/resolve",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(gAe||(be.WorkspaceSymbolResolveRequest=gAe={}));var AAe;(function(e){e.method="textDocument/codeLens",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(AAe||(be.CodeLensRequest=AAe={}));var yAe;(function(e){e.method="codeLens/resolve",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(yAe||(be.CodeLensResolveRequest=yAe={}));var CAe;(function(e){e.method="workspace/codeLens/refresh",e.messageDirection=Kt.MessageDirection.serverToClient,e.type=new Kt.ProtocolRequestType0(e.method)})(CAe||(be.CodeLensRefreshRequest=CAe={}));var xAe;(function(e){e.method="textDocument/documentLink",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(xAe||(be.DocumentLinkRequest=xAe={}));var EAe;(function(e){e.method="documentLink/resolve",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(EAe||(be.DocumentLinkResolveRequest=EAe={}));var bAe;(function(e){e.method="textDocument/formatting",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(bAe||(be.DocumentFormattingRequest=bAe={}));var vAe;(function(e){e.method="textDocument/rangeFormatting",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(vAe||(be.DocumentRangeFormattingRequest=vAe={}));var IAe;(function(e){e.method="textDocument/rangesFormatting",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(IAe||(be.DocumentRangesFormattingRequest=IAe={}));var TAe;(function(e){e.method="textDocument/onTypeFormatting",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(TAe||(be.DocumentOnTypeFormattingRequest=TAe={}));var wAe;(function(e){e.Identifier=1})(wAe||(be.PrepareSupportDefaultBehavior=wAe={}));var SAe;(function(e){e.method="textDocument/rename",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(SAe||(be.RenameRequest=SAe={}));var _Ae;(function(e){e.method="textDocument/prepareRename",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(_Ae||(be.PrepareRenameRequest=_Ae={}));var kAe;(function(e){e.method="workspace/executeCommand",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(kAe||(be.ExecuteCommandRequest=kAe={}));var BAe;(function(e){e.method="workspace/applyEdit",e.messageDirection=Kt.MessageDirection.serverToClient,e.type=new Kt.ProtocolRequestType("workspace/applyEdit")})(BAe||(be.ApplyWorkspaceEditRequest=BAe={}))});var QAe=V(cP=>{"use strict";d();Object.defineProperty(cP,"__esModule",{value:!0});cP.createProtocolConnection=void 0;var LAe=B3();function $Ye(e,t,r,n){return LAe.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,LAe.createMessageConnection)(e,t,r,n)}o($Ye,"createProtocolConnection");cP.createProtocolConnection=$Ye});var OAe=V(Rc=>{"use strict";d();var zYe=Rc&&Rc.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),uP=Rc&&Rc.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&zYe(t,e,r)};Object.defineProperty(Rc,"__esModule",{value:!0});Rc.LSPErrorCodes=Rc.createProtocolConnection=void 0;uP(B3(),Rc);uP($D(),Rc);uP(gs(),Rc);uP(NAe(),Rc);var YYe=QAe();Object.defineProperty(Rc,"createProtocolConnection",{enumerable:!0,get:o(function(){return YYe.createProtocolConnection},"get")});var MAe;(function(e){e.lspReservedErrorRangeStart=-32899,e.RequestFailed=-32803,e.ServerCancelled=-32802,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800})(MAe||(Rc.LSPErrorCodes=MAe={}))});var Vn=V(cp=>{"use strict";d();var KYe=cp&&cp.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),UAe=cp&&cp.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&KYe(t,e,r)};Object.defineProperty(cp,"__esModule",{value:!0});cp.createProtocolConnection=void 0;var JYe=QY();UAe(QY(),cp);UAe(OAe(),cp);function XYe(e,t,r,n){return(0,JYe.createMessageConnection)(e,t,r,n)}o(XYe,"createProtocolConnection");cp.createProtocolConnection=XYe});var z2e=V((OP,$2e)=>{d();(function(e,t){typeof OP=="object"&&typeof $2e<"u"?t(OP):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(OP,function(e){"use strict";function t(w,k){return w||k}o(t,"_pureAssign");function r(w,k){return w[k]}o(r,"_pureRef");var n=void 0,i=null,s="",a="function",l="object",c="prototype",u="__proto__",f="undefined",m="constructor",h="Symbol",p="_polyfill",A="length",x="name",E="call",v="toString",b=t(Object),S=r(b,c),B=t(String),P=r(B,c),F=t(Math),q=t(Array),ne=r(q,c),ce=r(ne,"slice");function Z(w,k){try{return{v:w.apply(this,k)}}catch(R){return{e:R}}}o(Z,"safe");function G(w){return function(k){return typeof k===w}}o(G,"_createIs");function U(w){var k="[object "+w+"]";return function(R){return!!(R&&ie(R)===k)}}o(U,"_createObjIs");function ie(w){return S[v].call(w)}o(ie,"objToString");function J(w){return typeof w===f||w===f}o(J,"isUndefined");function H(w){return!j(w)}o(H,"isStrictUndefined");function M(w){return w===i||J(w)}o(M,"isNullOrUndefined");function j(w){return!!w||w!==n}o(j,"isDefined");var X=G("string"),ae=G(a);function re(w){return!w&&M(w)?!1:!!w&&typeof w===l}o(re,"isObject");var le=r(q,"isArray"),de=U("Error"),Re=r(b,"getOwnPropertyDescriptor");function Ee(w,k){return!!w&&S.hasOwnProperty[E](w,k)}o(Ee,"objHasOwnProperty");var Oe=t(r(b,"hasOwn"),_e);function _e(w,k){return Ee(w,k)||!!Re(w,k)}o(_e,"polyObjHasOwn");function Je(w,k,R){if(w&&re(w)){for(var Q in w)if(Oe(w,Q)&&k[E](R||w,Q,w[Q])===-1)break}}o(Je,"objForEachKey");var ut={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function ot(w){var k={};if(k[ut.c]=!0,k[ut.e]=!0,w.l){k.get=function(){return w.l.v};var R=Re(w.l,"v");R&&R.set&&(k.set=function(Q){w.l.v=Q})}return Je(w,function(Q,ue){k[ut[Q]]=H(ue)?k[ut[Q]]:ue}),k}o(ot,"_createProp");var at=r(b,"defineProperty");function oe(w,k,R){return at(w,k,ot(R))}o(oe,"objDefine");function Pe(w,k,R,Q,ue){var Te={};return Je(w,function(Be,He){Ae(Te,Be,k?He:Be),Ae(Te,He,R?He:Be)}),Q?Q(Te):Te}o(Pe,"_createKeyValueMap");function Ae(w,k,R,Q){at(w,k,{value:R,enumerable:!0,writable:!1})}o(Ae,"_assignMapValue");var We=t(B),z="[object Error]";function te(w,k){var R=s,Q=S[v][E](w);Q===z&&(w={stack:We(w.stack),message:We(w.message),name:We(w.name)});try{R=JSON.stringify(w,i,k?typeof k=="number"?k:4:n),R=(R?R.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):i)||We(w)}catch(ue){R=" - "+te(ue,k)}return Q+": "+R}o(te,"dumpObj");function Ne(w){throw new Error(w)}o(Ne,"throwError");function Se(w){throw new TypeError(w)}o(Se,"throwTypeError");var Ce=r(b,"freeze");function Ue(w){return w}o(Ue,"_doNothing");function Ve(w){return w[u]||i}o(Ve,"_getProto");var Ze=r(b,"assign"),yt=r(b,"keys"),Dt=t(Ce,Ue),At=t(r(b,"getPrototypeOf"),Ve);function Vt(w){return Pe(w,1,0,Dt)}o(Vt,"createEnum");function $t(w){var k={};return Je(w,function(R,Q){Ae(k,R,Q[1]),Ae(k,Q[0],Q[1])}),Dt(k)}o($t,"createSimpleMap");function nr(w){return $t(w)}o(nr,"createTypeMap");var ge="__tsUtils$gblCfg",Le;function Ke(){var w;return typeof globalThis!==f&&(w=globalThis),!w&&typeof self!==f&&(w=self),!w&&typeof window!==f&&(w=window),!w&&typeof global!==f&&(w=global),w}o(Ke,"_getGlobalValue");function et(){if(!Le){var w=Z(Ke).v||{};Le=w[ge]=w[ge]||{}}return Le}o(et,"_getGlobalConfig");var St=Et;function Et(w,k,R){var Q=k?k[w]:i;return function(ue){var Te=(ue?ue[w]:i)||Q;if(Te||R){var Be=arguments;return(Te||R).apply(ue,Te?ce[E](Be,1):Be)}Se('"'+We(w)+'" not defined for '+te(ue))}}o(Et,"_unwrapFunctionWithPoly");var Lt=r(F,"min"),Mt=r(F,"max"),Tt=St("slice",P),_t=St("substring",P),wt=Et("substr",P,Ut);function Ut(w,k,R){return M(w)&&Se("Invalid "+te(w)),R<0?s:(k=k||0,k<0&&(k=Mt(k+w[A],0)),J(R)?Tt(w,k):Tt(w,k,k+R))}o(Ut,"polyStrSubstr");function Wt(w,k){return _t(w,0,k)}o(Wt,"strLeft");var zt="_urid",lr;function hr(){if(!lr){var w=et();lr=w.gblSym=w.gblSym||{k:{},s:{}}}return lr}o(hr,"_globalSymbolRegistry");function or(w){var k={description:We(w),toString:o(function(){return h+"("+w+")"},"toString")};return k[p]=!0,k}o(or,"polyNewSymbol");function cr(w){var k=hr();if(!Oe(k.k,w)){var R=or(w),Q=yt(k.s).length;R[zt]=function(){return Q+"_"+R[v]()},k.k[w]=R,k.s[R[zt]()]=We(w)}return k.k[w]}o(cr,"polySymbolFor");var Zt;function ur(){Zt=et()}o(ur,"_initTestHooks");function ve(w){return at({toJSON:o(function(){return w},"toJSON")},"v",{value:w})}o(ve,"createCachedValue");var O="window",me;function ye(w,k){var R;return function(){return!Zt&&ur(),(!R||Zt.lzy)&&(R=ve(Z(w,k).v)),R.v}}o(ye,"_getGlobalInstFn");function Y(w){return!Zt&&ur(),(!me||w===!1||Zt.lzy)&&(me=ve(Z(Ke).v||i)),me.v}o(Y,"getGlobal");function L(w,k){var R;if(!me||k===!1?R=Y(k):R=me.v,R&&R[w])return R[w];if(w===O)try{return window}catch{}return i}o(L,"getInst");var Ie=ye(L,["document"]);function Me(){return!!Ct()}o(Me,"hasWindow");var Ct=ye(L,[O]);function qt(){return!!Ft()}o(qt,"hasNavigator");var Ft=ye(L,["navigator"]),tr,ir;function Ot(){return tr=ve(Z(L,[h]).v),tr}o(Ot,"_initSymbol");function vt(w){var k=(Zt.lzy?0:tr)||Ot();return k.v?k.v[w]:n}o(vt,"_getSymbolKey");function sr(w,k){!Zt&&ur();var R=(Zt.lzy?0:tr)||Ot();return R.v?R.v(w):k?i:or(w)}o(sr,"newSymbol");function Po(w){return!Zt&&ur(),ir=(Zt.lzy?0:ir)||ve(Z(vt,["for"]).v),(ir.v||cr)(w)}o(Po,"symbolFor");function Hd(w,k,R){return w.apply(k,R)}o(Hd,"fnApply");function tl(w,k,R){if(w)for(var Q=w[A]>>>0,ue=0;ue<Q&&!(ue in w&&k[E](R||w,w[ue],ue,w)===-1);ue++);}o(tl,"arrForEach");var Vd=St("indexOf",ne),Cf=St("map",ne),Qs=St("reduce",ne),bh=t(r(b,"create"),kA);function kA(w){if(!w)return{};var k=typeof w;k!==l&&k!==a&&Se("Prototype must be an Object or function: "+te(w));function R(){}return o(R,"tempFunc"),R[c]=w,new R}o(kA,"polyObjCreate");var Z6;function jd(w,k){var R=b.setPrototypeOf||function(Q,ue){var Te;!Z6&&(Z6=ve((Te={},Te[u]=[],Te instanceof Array))),Z6.v?Q[u]=ue:Je(ue,function(Be,He){return Q[Be]=He})};return R(w,k)}o(jd,"objSetPrototypeOf");function NV(w,k,R){Z(oe,[k,x,{v:w,c:!0,e:!1}]),k=jd(k,R);function Q(){this[m]=k,Z(oe,[this,x,{v:w,c:!0,e:!1}])}return o(Q,"__"),k[c]=R===i?bh(R):(Q[c]=R[c],new Q),k}o(NV,"_createCustomError");function vh(w,k){k&&(w[x]=k)}o(vh,"_setName");function LV(w,k,R){var Q=R||Error,ue=Q[c][x],Te=Error.captureStackTrace;return NV(w,function(){var Be=this,He=arguments;try{Z(vh,[Q,w]);var nt=Hd(Q,Be,ce[E](He))||Be;if(nt!==Be){var xt=At(Be);xt!==At(nt)&&jd(nt,xt)}return Te&&Te(nt,Be[m]),k&&k(nt,He),nt}finally{Z(vh,[Q,ue])}},Q)}o(LV,"createCustomError");function bg(){return(Date.now||e9)()}o(bg,"utcNow");function e9(){return new Date().getTime()}o(e9,"polyUtcNow");function Vx(w){return o(function(R){return M(R)&&Se("strTrim called ["+te(R)+"]"),R&&R.replace&&(R=R.replace(w,s)),R},"_doTrim")}o(Vx,"_createTrimFn");var QV=Vx(/^\s+|(?=\s)\s+$/g),s0=Et("trim",P,QV),Ih=r(F,"floor"),mC,vg,hC;function Th(w){if(!w||typeof w!==l)return!1;hC||(hC=Me()?Ct():!0);var k=!1;if(w!==hC){vg||(mC=Function[c][v],vg=mC[E](b));try{var R=At(w);k=!R,k||(Ee(R,m)&&(R=R[m]),k=!!(R&&typeof R===a&&mC[E](R)===vg))}catch{}}return k}o(Th,"isPlainObject");var jx;function pC(){return!Zt&&ur(),(!jx||Zt.lzy)&&(jx=ve(Z(L,["performance"]).v)),jx.v}o(pC,"getPerformance");var t9=r(F,"round"),BA=Et("endsWith",P,RA);function RA(w,k,R){X(w)||Se("'"+te(w)+"' is not a string");var Q=X(k)?k:We(k),ue=!J(R)&&R<w[A]?R:w[A];return _t(w,ue-Q[A],ue)===Q}o(RA,"polyStrEndsWith");var Gr=St("indexOf",P),L0="ref",Ig="unref",DA="hasRef",MV="enabled";function wh(w,k,R){var Q=!0,ue=w?k(i):i,Te;function Be(){return Q=!1,ue&&ue[Ig]&&ue[Ig](),Te}o(Be,"_unref");function He(){ue&&R(ue),ue=i}o(He,"_cancel");function nt(){return ue=k(ue),Q||Be(),Te}o(nt,"_refresh");function xt(Cr){!Cr&&ue&&He(),Cr&&!ue&&nt()}return o(xt,"_setEnabled"),Te={cancel:He,refresh:nt},Te[DA]=function(){return ue&&ue[DA]?ue[DA]():Q},Te[L0]=function(){return Q=!0,ue&&ue[L0]&&ue[L0](),Te},Te[Ig]=Be,Te=at(Te,MV,{get:o(function(){return!!ue},"get"),set:xt}),{h:Te,dn:o(function(){ue=i},"dn")}}o(wh,"_createTimerHandler");function OV(w,k,R){var Q=le(k),ue=Q?k.length:0,Te=(ue>0?k[0]:Q?n:k)||setTimeout,Be=(ue>1?k[1]:n)||clearTimeout,He=R[0];R[0]=function(){nt.dn(),Hd(He,n,ce[E](arguments))};var nt=wh(w,function(xt){if(xt){if(xt.refresh)return xt.refresh(),xt;Hd(Be,n,[xt])}return Hd(Te,n,R)},function(xt){Hd(Be,n,[xt])});return nt.h}o(OV,"_createTimeoutWith");function r9(w,k){return OV(!0,n,ce[E](arguments))}o(r9,"scheduleTimeout");var gC=Vt,UV=nr,AC="toLowerCase",ya="length",Sh="warnToConsole",yC="throwInternal",Sk="watch",qV="apply",Ri="push",Tg="splice",_h="logger",n9="cancel",CC="name",Q0="unload",_k="version",kk="loggingLevelConsole",i9="messageId",wg="message",o9="diagLog",Bk="userAgent",s9="split",PA="replace",kh="type",Rk="evtName",$x="traceFlags",a9="getAttribute",zx;function WV(w,k){zx||(zx=LV("AggregationError",function(Q,ue){ue[ya]>1&&(Q.errors=ue[1])}));var R=w||"One or more errors occurred.";throw tl(k,function(Q,ue){R+=`
`.concat(ue," > ").concat(te(Q))}),new zx(R,k||[])}o(WV,"throwAggregationError");var GV="function",Dk="object",HV="undefined",$d="prototype",Yx=Object,l9=Yx[$d];(Y()||{}).Symbol,(Y()||{}).Reflect;var Kx="hasOwnProperty",VV=o(function(w){for(var k,R=1,Q=arguments.length;R<Q;R++){k=arguments[R];for(var ue in k)l9[Kx].call(k,ue)&&(w[ue]=k[ue])}return w},"__objAssignFnImpl"),Jx=Ze||VV,Xx=o(function(w,k){return Xx=Yx.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,Q){R.__proto__=Q}||function(R,Q){for(var ue in Q)Q[Kx](ue)&&(R[ue]=Q[ue])},Xx(w,k)},"extendStaticsFn");function Bh(w,k){typeof k!==GV&&k!==null&&Se("Class extends value "+String(k)+" is not a constructor or null"),Xx(w,k);function R(){this.constructor=w}o(R,"__"),w[$d]=k===null?bh(k):(R[$d]=k[$d],new R)}o(Bh,"__extendsFn");var Zx,Sg="constructor",mc="prototype",hc="function",_g="_dynInstFuncs",FA="_isDynProxy",Rh="_dynClass",NA="_dynCls$",c9="_dynInstChk",kg=c9,LA="_dfOpts",u9="_unknown_",eE="__proto__",QA="_dyn"+eE,xC="__dynProto$Gbl",tE="_dynInstProto",MA="useBaseInst",OA="setInstFuncs",EC=Object,Bg=EC.getPrototypeOf,UA=EC.getOwnPropertyNames,f9=Y(),rE=f9[xC]||(f9[xC]={o:(Zx={},Zx[OA]=!0,Zx[MA]=!0,Zx),n:1e3});function qA(w){return w&&(w===EC[mc]||w===Array[mc])}o(qA,"_isObjectOrArrayPrototype");function WA(w){return qA(w)||w===Function[mc]}o(WA,"_isObjectArrayOrFunctionPrototype");function zd(w){var k;if(w){if(Bg)return Bg(w);var R=w[eE]||w[mc]||(w[Sg]?w[Sg][mc]:null);k=w[QA]||R,Ee(w,QA)||(delete w[tE],k=w[QA]=w[tE]||w[QA],w[tE]=R)}return k}o(zd,"_getObjProto");function xf(w,k){var R=[];if(UA)R=UA(w);else for(var Q in w)typeof Q=="string"&&Ee(w,Q)&&R.push(Q);if(R&&R.length>0)for(var ue=0;ue<R.length;ue++)k(R[ue])}o(xf,"_forEachProp");function GA(w,k,R){return k!==Sg&&typeof w[k]===hc&&(R||Ee(w,k))&&k!==eE&&k!==mc}o(GA,"_isDynamicCandidate");function HA(w){Se("DynamicProto: "+w)}o(HA,"_throwTypeError");function nE(w){var k=bh(null);return xf(w,function(R){!k[R]&&GA(w,R,!1)&&(k[R]=w[R])}),k}o(nE,"_getInstanceFuncs");function d9(w,k){for(var R=w.length-1;R>=0;R--)if(w[R]===k)return!0;return!1}o(d9,"_hasVisited");function m9(w,k,R,Q){function ue(nt,xt,Cr){var An=xt[Cr];if(An[FA]&&Q){var Rn=nt[_g]||{};Rn[kg]!==!1&&(An=(Rn[xt[Rh]]||{})[Cr]||An)}return function(){return An.apply(nt,arguments)}}o(ue,"_instFuncProxy");var Te=bh(null);xf(R,function(nt){Te[nt]=ue(k,R,nt)});for(var Be=zd(w),He=[];Be&&!WA(Be)&&!d9(He,Be);)xf(Be,function(nt){!Te[nt]&&GA(Be,nt,!Bg)&&(Te[nt]=ue(k,Be,nt))}),He.push(Be),Be=zd(Be);return Te}o(m9,"_getBaseFuncs");function jV(w,k,R,Q){var ue=null;if(w&&Ee(R,Rh)){var Te=w[_g]||bh(null);if(ue=(Te[R[Rh]]||bh(null))[k],ue||HA("Missing ["+k+"] "+hc),!ue[c9]&&Te[kg]!==!1){for(var Be=!Ee(w,k),He=zd(w),nt=[];Be&&He&&!WA(He)&&!d9(nt,He);){var xt=He[k];if(xt){Be=xt===Q;break}nt.push(He),He=zd(He)}try{Be&&(w[k]=ue),ue[c9]=1}catch{Te[kg]=!1}}}return ue}o(jV,"_getInstFunc");function $V(w,k,R){var Q=k[w];return Q===R&&(Q=zd(k)[w]),typeof Q!==hc&&HA("["+w+"] is not a "+hc),Q}o($V,"_getProtoFunc");function zV(w,k,R,Q,ue){function Te(nt,xt){var Cr=o(function(){var An=jV(this,xt,nt,Cr)||$V(xt,nt,Cr);return An.apply(this,arguments)},"dynProtoProxy");return Cr[FA]=1,Cr}if(o(Te,"_createDynamicPrototype"),!qA(w)){var Be=R[_g]=R[_g]||bh(null);if(!qA(Be)){var He=Be[k]=Be[k]||bh(null);Be[kg]!==!1&&(Be[kg]=!!ue),qA(He)||xf(R,function(nt){GA(R,nt,!1)&&R[nt]!==Q[nt]&&(He[nt]=R[nt],delete R[nt],(!Ee(w,nt)||w[nt]&&!w[nt][FA])&&(w[nt]=Te(w,nt)))})}}}o(zV,"_populatePrototype");function YV(w,k){if(Bg){for(var R=[],Q=zd(k);Q&&!WA(Q)&&!d9(R,Q);){if(Q===w)return!0;R.push(Q),Q=zd(Q)}return!1}return!0}o(YV,"_checkPrototype");function h9(w,k){return Ee(w,mc)?w.name||k||u9:((w||{})[Sg]||{}).name||k||u9}o(h9,"_getObjName");function bC(w,k,R,Q){Ee(w,mc)||HA("theClass is an invalid class definition.");var ue=w[mc];YV(ue,k)||HA("["+h9(w)+"] not in hierarchy of ["+h9(k)+"]");var Te=null;Ee(ue,Rh)?Te=ue[Rh]:(Te=NA+h9(w,"_")+"$"+rE.n,rE.n++,ue[Rh]=Te);var Be=bC[LA],He=!!Be[MA];He&&Q&&Q[MA]!==void 0&&(He=!!Q[MA]);var nt=nE(k),xt=m9(ue,k,nt,He);R(k,xt);var Cr=!!Bg&&!!Be[OA];Cr&&Q&&(Cr=!!Q[OA]),zV(ue,Te,k,nt,Cr!==!1)}o(bC,"dynamicProto"),bC[LA]=rE.o;var Rl=void 0,Ts="",Pk="Not dynamic - ",Fk=/-([a-z])/g,vC=/([^\w\d_$])/g,p9=/^(\d+[\w\d_$])/;function g9(w){return!M(w)}o(g9,"isNotNullOrUndefined");function iE(w){var k=w;return k&&X(k)&&(k=k[PA](Fk,function(R,Q){return Q.toUpperCase()}),k=k[PA](vC,"_"),k=k[PA](p9,function(R,Q){return"_"+Q})),k}o(iE,"normalizeJsName");function Nk(w,k){return w&&k?Gr(w,k)!==-1:!1}o(Nk,"strContains");function Yd(w){return w&&w.toISOString()||""}o(Yd,"toISOString");function Dh(w){return de(w)?w[CC]:Ts}o(Dh,"getExceptionName");function IC(w){return function(){function k(){var R=this;w&&Je(w,function(Q,ue){R[Q]=ue})}return o(k,"class_1"),k}()}o(IC,"createClassFromInterface");var Lk="console",oE="JSON",KV="crypto",Ph="msCrypto",VA="msie",Ln="trident/",jA=null,Rg=null,Kd=null;function sE(){return typeof console!==HV?console:L(Lk)}o(sE,"getConsole");function Di(){return!!(typeof JSON===Dk&&JSON||L(oE)!==null)}o(Di,"hasJSON");function $A(){return Di()?JSON||L(oE):null}o($A,"getJSON");function ea(){return L(KV)}o(ea,"getCrypto");function zA(){return L(Ph)}o(zA,"getMsCrypto");function TC(){var w=Ft();if(w&&(w[Bk]!==Rg||jA===null)){Rg=w[Bk];var k=(Rg||Ts)[AC]();jA=Nk(k,VA)||Nk(k,Ln)}return jA}o(TC,"isIE");function Fh(w){return(Kd===null||w===!1)&&(Kd=qt()&&!!Ft().sendBeacon),Kd}o(Fh,"isBeaconsSupported");function wC(w,k){if(w)for(var R=0;R<w[ya];R++){var Q=w[R];if(Q[CC]&&Q[CC]===k)return Q}return{}}o(wC,"_getNamedValue");function aE(w){var k=Ie();return k&&w?wC(k.querySelectorAll("meta"),w).content:null}o(aE,"findMetaTag");function Ef(w){var k,R=pC();if(R){var Q=R.getEntriesByType("navigation")||[];k=wC((Q[ya]>0?Q[0]:{}).serverTiming,w).description}return k}o(Ef,"findNamedServerTiming");var YA=4294967296,uu=4294967295,KA=123456789,Nh=987654321,rl=!1,JA=KA,bf=Nh;function Qk(w){w<0&&(w>>>=0),JA=KA+w&uu,bf=Nh-w&uu,rl=!0}o(Qk,"_mwcSeed");function Dg(){try{var w=bg()&2147483647;Qk((Math.random()*YA^w)+w)}catch{}}o(Dg,"_autoSeedMwc");function lE(w){return w>0?Ih(XA()/uu*(w+1))>>>0:0}o(lE,"randomValue");function XA(w){var k=0,R=ea()||zA();return R&&R.getRandomValues&&(k=R.getRandomValues(new Uint32Array(1))[0]&uu),k===0&&TC()&&(rl||Dg(),k=Mk()&uu),k===0&&(k=Ih(YA*Math.random()|0)),w||(k>>>=0),k}o(XA,"random32");function Mk(w){bf=36969*(bf&65535)+(bf>>16)&uu,JA=18e3*(JA&65535)+(JA>>16)&uu;var k=(bf<<16)+(JA&65535)>>>0&uu|0;return w||(k>>>=0),k}o(Mk,"mwcRandom32");function Pg(w){w===void 0&&(w=22);for(var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R=XA()>>>0,Q=0,ue=Ts;ue[ya]<w;)Q++,ue+=k.charAt(R&63),R>>>=6,Q===5&&(R=(XA()<<2&4294967295|R&3)>>>0,Q=0);return ue}o(Pg,"newId");var vf="3.3.6",cE="."+Pg(6),Fg=0;function If(w){return w.nodeType===1||w.nodeType===9||!+w.nodeType}o(If,"_canAcceptData");function uE(w,k){var R=k[w.id];if(!R){R={};try{If(k)&&oe(k,w.id,{e:!1,v:R})}catch{}}return R}o(uE,"_getCache");function Jd(w,k){return k===void 0&&(k=!1),iE(w+Fg+++(k?"."+vf:Ts)+cE)}o(Jd,"createUniqueNamespace");function Tf(w){var k={id:Jd("_aiData-"+(w||Ts)+"."+vf),accept:o(function(R){return If(R)},"accept"),get:o(function(R,Q,ue,Te){var Be=R[k.id];return Be?Be[iE(Q)]:(Te&&(Be=uE(k,R),Be[iE(Q)]=ue),ue)},"get"),kill:o(function(R,Q){if(R&&R[Q])try{delete R[Q]}catch{}},"kill")};return k}o(Tf,"createElmNodeData");function Lh(w){return w&&re(w)&&(w.isVal||w.fb||Oe(w,"v")||Oe(w,"mrg")||Oe(w,"ref")||w.set)}o(Lh,"_isConfigDefaults");function fE(w,k,R){var Q,ue=R.dfVal||j;if(k&&R.fb){var Te=R.fb;le(Te)||(Te=[Te]);for(var Be=0;Be<Te[ya];Be++){var He=Te[Be],nt=k[He];if(ue(nt)?Q=nt:w&&(nt=w.cfg[He],ue(nt)&&(Q=nt),w.set(w.cfg,We(He),nt)),ue(Q))break}}return!ue(Q)&&ue(R.v)&&(Q=R.v),Q}o(fE,"_getDefault");function Qh(w,k,R){var Q=R;if(R&&Lh(R)&&(Q=fE(w,k,R)),Q){Lh(Q)&&(Q=Qh(w,k,Q));var ue;le(Q)?(ue=[],ue[ya]=Q[ya]):Th(Q)&&(ue={}),ue&&(Je(Q,function(Te,Be){Be&&Lh(Be)&&(Be=Qh(w,k,Be)),ue[Te]=Be}),Q=ue)}return Q}o(Qh,"_resolveDefaultValue");function Mh(w,k,R,Q){var ue,Te,Be,He=Q,nt,xt,Cr,An;Lh(He)?(ue=He.isVal,Te=He.set,Cr=He.rdOnly,An=He.blkVal,nt=He.mrg,xt=He.ref,!xt&&J(xt)&&(xt=!!nt),Be=fE(w,k,He)):Be=Q,An&&w.blkVal(k,R);var Rn,br=!0,Br=k[R];(Br||!M(Br))&&(Rn=Br,br=!1,ue&&Rn!==Be&&!ue(Rn)&&(Rn=Be,br=!0),Te&&(Rn=Te(Rn,Be,k),br=Rn===Be)),br?Be?Rn=Qh(w,k,Be):Rn=Be:(Th(Rn)||le(Be))&&nt&&Be&&(Th(Be)||le(Be))&&Je(Be,function(kn,yn){Mh(w,Rn,kn,yn)}),w.set(k,R,Rn),xt&&w.ref(k,R),Cr&&w.rdOnly(k,R)}o(Mh,"_applyDefaultValue");var Dl=Po("[[ai_dynCfg_1]]"),A9=Po("[[ai_blkDynCfg_1]]"),SC=Po("[[ai_frcDynCfg_1]]");function y9(w){if(w){var k;if(le(w)?(k=[],k[ya]=w[ya]):Th(w)&&(k={}),k)return Je(w,function(R,Q){k[R]=y9(Q)}),k}return w}o(y9,"_cfgDeepCopy");function C9(w){if(w){var k=w[Dl]||w;if(k.cfg&&(k.cfg===w||k.cfg[Dl]===k))return k}return null}o(C9,"getDynamicConfigHandler");function ZA(w){if(w&&(Th(w)||le(w)))try{w[A9]=!0}catch{}return w}o(ZA,"blockDynamicConversion");function Oh(w,k,R){var Q=!1;return R&&!w[k.blkVal]&&(Q=R[SC],!Q&&!R[A9]&&(Q=Th(R)||le(R))),Q}o(Oh,"_canMakeDynamic");function fu(w){Se("InvalidAccess:"+w)}o(fu,"throwInvalidAccess");var Ok=["push","pop","shift","unshift","splice"],Xd=o(function(w,k,R,Q){w&&w[yC](3,108,"".concat(R," [").concat(k,"] failed - ")+te(Q))},"_throwDynamicError");function x9(w,k,R){le(k)&&tl(Ok,function(Q){var ue=k[Q];k[Q]=function(){for(var Te=[],Be=0;Be<arguments.length;Be++)Te[Be]=arguments[Be];var He=ue[qV](this,Te);return Ng(w,k,R,"Patching"),He}})}o(x9,"_patchArray");function Zd(w,k){var R=Re(w,k);return R&&R.get}o(Zd,"_getOwnPropGetter");function Uk(w,k,R,Q){var ue={n:R,h:[],trk:o(function(xt){xt&&xt.fn&&(Vd(ue.h,xt)===-1&&ue.h[Ri](xt),w.trk(xt,ue))},"trk"),clr:o(function(xt){var Cr=Vd(ue.h,xt);Cr!==-1&&ue.h[Tg](Cr,1)},"clr")},Te=!0,Be=!1;function He(){Te&&(Be=Be||Oh(He,w,Q),Q&&!Q[Dl]&&Be&&(Q=Ng(w,Q,R,"Converting")),Te=!1);var xt=w.act;return xt&&ue.trk(xt),Q}o(He,"_getProperty"),He[w.prop]={chng:o(function(){w.add(ue)},"chng")};function nt(xt){if(Q!==xt){He[w.ro]&&!w.upd&&fu("["+R+"] is read-only:"+te(k)),Te&&(Be=Be||Oh(He,w,Q),Te=!1);var Cr=Be&&He[w.rf];if(Be)if(Cr){Je(Q,function(Rn){Q[Rn]=xt?xt[Rn]:Rl});try{Je(xt,function(Rn,br){e2(w,Q,Rn,br)}),xt=Q}catch(Rn){Xd((w.hdlr||{})[_h],R,"Assigning",Rn),Be=!1}}else Q&&Q[Dl]&&Je(Q,function(Rn){var br=Zd(Q,Rn);if(br){var Br=br[w.prop];Br&&Br.chng()}});if(xt!==Q){var An=xt&&Oh(He,w,xt);!Cr&&An&&(xt=Ng(w,xt,R,"Converting")),Q=xt,Be=An}w.add(ue)}}o(nt,"_setProperty"),oe(k,ue.n,{g:He,s:nt})}o(Uk,"_createDynamicProperty");function e2(w,k,R,Q){if(k){var ue=Zd(k,R),Te=ue&&!!ue[w.prop];Te?k[R]=Q:Uk(w,k,R,Q)}return k}o(e2,"_setDynamicProperty");function E9(w,k,R,Q){if(k){var ue=Zd(k,R),Te=ue&&!!ue[w.prop],Be=Q&&Q[0],He=Q&&Q[1],nt=Q&&Q[2];if(!Te){if(nt)try{ZA(k)}catch(xt){Xd((w.hdlr||{})[_h],R,"Blocking",xt)}try{e2(w,k,R,k[R]),ue=Zd(k,R)}catch(xt){Xd((w.hdlr||{})[_h],R,"State",xt)}}Be&&(ue[w.rf]=Be),He&&(ue[w.ro]=He),nt&&(ue[w.blkVal]=!0)}return k}o(E9,"_setDynamicPropertyState");function Ng(w,k,R,Q){try{Je(k,function(ue,Te){e2(w,k,ue,Te)}),k[Dl]||(at(k,Dl,{get:o(function(){return w.hdlr},"get")}),x9(w,k,R))}catch(ue){Xd((w.hdlr||{})[_h],R,Q,ue)}return k}o(Ng,"_makeDynamicObject");var Lg="[[ai_",pc="]]";function qk(w){var k=sr(Lg+"get"+w.uid+pc),R=sr(Lg+"ro"+w.uid+pc),Q=sr(Lg+"rf"+w.uid+pc),ue=sr(Lg+"blkVal"+w.uid+pc),Te=sr(Lg+"dtl"+w.uid+pc),Be=null,He=null,nt;function xt(br,Br){var kn=nt.act;try{nt.act=br,br&&br[Te]&&(tl(br[Te],function(oi){oi.clr(br)}),br[Te]=[]),Br({cfg:w.cfg,set:w.set.bind(w),setDf:w.setDf.bind(w),ref:w.ref.bind(w),rdOnly:w.rdOnly.bind(w)})}catch(oi){var yn=w[_h];throw yn&&yn[yC](1,107,te(oi)),oi}finally{nt.act=kn||null}}o(xt,"_useHandler");function Cr(){if(Be){var br=Be;Be=null,He&&He[n9](),He=null;var Br=[];if(tl(br,function(kn){if(kn&&(kn[Te]&&(tl(kn[Te],function(yn){yn.clr(kn)}),kn[Te]=null),kn.fn))try{xt(kn,kn.fn)}catch(yn){Br[Ri](yn)}}),Be)try{Cr()}catch(kn){Br[Ri](kn)}Br[ya]>0&&WV("Watcher error(s): ",Br)}}o(Cr,"_notifyWatchers");function An(br){if(br&&br.h[ya]>0){Be||(Be=[]),He||(He=r9(function(){He=null,Cr()},0));for(var Br=0;Br<br.h[ya];Br++){var kn=br.h[Br];kn&&Vd(Be,kn)===-1&&Be[Ri](kn)}}}o(An,"_addWatcher");function Rn(br,Br){if(br){var kn=br[Te]=br[Te]||[];Vd(kn,Br)===-1&&kn[Ri](Br)}}return o(Rn,"_trackHandler"),nt={prop:k,ro:R,rf:Q,blkVal:ue,hdlr:w,add:An,notify:Cr,use:xt,trk:Rn},nt}o(qk,"_createState");function JV(w,k){var R={fn:k,rm:o(function(){R.fn=null,w=null,k=null},"rm")};return oe(R,"toJSON",{v:o(function(){return"WatcherHandler"+(R.fn?"":"[X]")},"v")}),w.use(R,k),R}o(JV,"_createAndUseHandler");function Wk(w,k,R){var Q=C9(k);if(Q)return Q;var ue=Jd("dyncfg",!0),Te=k&&R!==!1?k:y9(k),Be;function He(){Be.notify()}o(He,"_notifyWatchers");function nt(yn,oi,Vi){try{yn=e2(Be,yn,oi,Vi)}catch(Ci){Xd(w,oi,"Setting value",Ci)}return yn[oi]}o(nt,"_setValue");function xt(yn){return JV(Be,yn)}o(xt,"_watch");function Cr(yn,oi){Be.use(null,function(Vi){var Ci=Be.upd;try{J(oi)||(Be.upd=oi),yn(Vi)}finally{Be.upd=Ci}})}o(Cr,"_block");function An(yn,oi){var Vi;return E9(Be,yn,oi,(Vi={},Vi[0]=!0,Vi))[oi]}o(An,"_ref");function Rn(yn,oi){var Vi;return E9(Be,yn,oi,(Vi={},Vi[1]=!0,Vi))[oi]}o(Rn,"_rdOnly");function br(yn,oi){var Vi;return E9(Be,yn,oi,(Vi={},Vi[2]=!0,Vi))[oi]}o(br,"_blkPropValue");function Br(yn,oi){return oi&&Je(oi,function(Vi,Ci){Mh(kn,yn,Vi,Ci)}),yn}o(Br,"_applyDefaults");var kn={uid:null,cfg:Te,logger:w,notify:He,set:nt,setDf:Br,watch:xt,ref:An,rdOnly:Rn,blkVal:br,_block:Cr};return oe(kn,"uid",{c:!1,e:!1,w:!1,v:ue}),Be=qk(kn),Ng(Be,Te,"config","Creating"),kn}o(Wk,"_createDynamicHandler");function Gk(w,k){w?(w[Sh](k),w[yC](2,108,k)):fu(k)}o(Gk,"_logInvalidAccess");function _C(w,k,R,Q){var ue=Wk(R,w||{},Q);return k&&ue.setDf(ue.cfg,k),ue}o(_C,"createDynamicConfig");function Hk(w,k,R){var Q=w[Dl]||w;return Q.cfg&&(Q.cfg===w||Q.cfg[Dl]===Q)?Q[Sk](k):(Gk(R,Pk+te(w)),_C(w,null,R)[Sk](k))}o(Hk,"onConfigChange");var dE=null;function Vk(){var w=L("Microsoft");return w&&(dE=w.ApplicationInsights),dE}o(Vk,"_getExtensionNamespace");function XV(w){var k=dE;return!k&&w.disableDbgExt!==!0&&(k=dE||Vk()),k?k.ChromeDbgExt:null}o(XV,"getDebugExt");var t2,mE="warnToConsole",jk="AI (Internal): ",$k="AI: ",ZV="AITR_",ej={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},zk=(t2={},t2[0]=null,t2[1]="errorToConsole",t2[2]=mE,t2[3]="debugToConsole",t2);function Yk(w){return w?'"'+w[PA](/\"/g,Ts)+'"':Ts}o(Yk,"_sanitizeDiagnosticText");function hE(w,k){var R=sE();if(R){var Q="log";R[w]&&(Q=w),ae(R[Q])&&R[Q](k)}}o(hE,"_logToConsole");var pE=function(){function w(k,R,Q,ue){Q===void 0&&(Q=!1);var Te=this;Te[i9]=k,Te[wg]=(Q?$k:jk)+k;var Be=Ts;Di()&&(Be=$A().stringify(ue));var He=(R?" message:"+Yk(R):Ts)+(ue?" props:"+Yk(Be):Ts);Te[wg]+=He}return o(w,"_InternalLogMessage"),w.dataType="MessageData",w}();function tj(w,k){return(w||{})[_h]||new gE(k)}o(tj,"safeGetLogger");var gE=function(){function w(k){this.identifier="DiagnosticLogger",this.queue=[];var R=0,Q={},ue,Te,Be,He,nt;bC(w,this,function(xt){nt=An(k||{}),xt.consoleLoggingLevel=function(){return ue},xt[yC]=function(Br,kn,yn,oi,Vi){Vi===void 0&&(Vi=!1);var Ci=new pE(kn,yn,Vi,oi);if(He)throw te(Ci);var Ca=zk[Br]||mE;if(J(Ci[wg]))br("throw"+(Br===1?"Critical":"Warning"),Ci);else{if(Vi){var D2=+Ci[i9];!Q[D2]&&ue>=Br&&(xt[Ca](Ci[wg]),Q[D2]=!0)}else ue>=Br&&xt[Ca](Ci[wg]);Cr(Br,Ci)}},xt.debugToConsole=function(Br){hE("debug",Br),br("warning",Br)},xt[Sh]=function(Br){hE("warn",Br),br("warning",Br)},xt.errorToConsole=function(Br){hE("error",Br),br("error",Br)},xt.resetInternalMessageCount=function(){R=0,Q={}},xt.logInternalMessage=Cr,xt[Q0]=function(Br){nt&&nt.rm(),nt=null};function Cr(Br,kn){if(!Rn()){var yn=!0,oi=ZV+kn[i9];if(Q[oi]?yn=!1:Q[oi]=!0,yn&&(Br<=Te&&(xt.queue[Ri](kn),R++,br(Br===1?"error":"warn",kn)),R===Be)){var Vi="Internal events throttle limit per PageView reached for this app.",Ci=new pE(23,Vi,!1);xt.queue[Ri](Ci),Br===1?xt.errorToConsole(Vi):xt[Sh](Vi)}}}o(Cr,"_logInternalMessage");function An(Br){return Hk(_C(Br,ej,xt).cfg,function(kn){var yn=kn.cfg;ue=yn[kk],Te=yn.loggingLevelTelemetry,Be=yn.maxMessageLimit,He=yn.enableDebug})}o(An,"_setDefaultsFromConfig");function Rn(){return R>=Be}o(Rn,"_areInternalMessagesThrottled");function br(Br,kn){var yn=XV(k||{});yn&&yn[o9]&&yn[o9](Br,kn)}o(br,"_debugExtMsg")})}return o(w,"DiagnosticLogger"),w.__ieDyn=1,w}();function AE(w){return w||new gE}o(AE,"_getLogger");function M0(w,k,R,Q,ue,Te){Te===void 0&&(Te=!1),AE(w)[yC](k,R,Q,ue,Te)}o(M0,"_throwInternal");function yE(){for(var w=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],k=Ts,R,Q=0;Q<4;Q++)R=XA(),k+=w[R&15]+w[R>>4&15]+w[R>>8&15]+w[R>>12&15]+w[R>>16&15]+w[R>>20&15]+w[R>>24&15]+w[R>>28&15];var ue=w[8+(XA()&3)|0];return wt(k,0,8)+wt(k,9,4)+"4"+wt(k,13,3)+ue+wt(k,16,3)+wt(k,19,12)}o(yE,"generateW3CId");var r2=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,b9="00",gc="ff",ii="00000000000000000000000000000000",em="0000000000000000",ta=1;function du(w,k,R){return w&&w[ya]===k&&w!==R?!!w.match(/^[\da-f]*$/i):!1}o(du,"_isValid");function CE(w,k,R){return du(w,k)?w:R}o(CE,"_formatValue");function Qg(w){(isNaN(w)||w<0||w>255)&&(w=1);for(var k=w.toString(16);k[ya]<2;)k="0"+k;return k}o(Qg,"_formatFlags");function n2(w,k,R,Q){return{version:du(Q,2,gc)?Q:b9,traceId:i2(w)?w:yE(),spanId:o2(k)?k:Wt(yE(),16),traceFlags:R>=0&&R<=255?R:1}}o(n2,"createTraceParent");function Ac(w,k){if(!w||(le(w)&&(w=w[0]||""),!w||!X(w)||w[ya]>8192))return null;if(w.indexOf(",")!==-1){var R=w[s9](",");w=R[k>0&&R[ya]>k?k:0]}var Q=r2.exec(s0(w));return!Q||Q[1]===gc||Q[2]===ii||Q[3]===em?null:{version:(Q[1]||Ts)[AC](),traceId:(Q[2]||Ts)[AC](),spanId:(Q[3]||Ts)[AC](),traceFlags:parseInt(Q[4],16)}}o(Ac,"parseTraceParent");function i2(w){return du(w,32,ii)}o(i2,"isValidTraceId");function o2(w){return du(w,16,em)}o(o2,"isValidSpanId");function s2(w){return!(!w||!du(w[_k],2,gc)||!du(w.traceId,32,ii)||!du(w.spanId,16,em)||!du(Qg(w[$x]),2))}o(s2,"isValidTraceParent");function xE(w){return s2(w)?(w[$x]&ta)===ta:!1}o(xE,"isSampledFlag");function Mg(w){if(w){var k=Qg(w[$x]);du(k,2)||(k="01");var R=w[_k]||b9;return R!=="00"&&R!=="ff"&&(R=b9),"".concat(R.toLowerCase(),"-").concat(CE(w.traceId,32,ii).toLowerCase(),"-").concat(CE(w.spanId,16,em).toLowerCase(),"-").concat(k.toLowerCase())}return""}o(Mg,"formatTraceParent");function v9(w){var k="traceparent",R=Ac(aE(k),w);return R||(R=Ac(Ef(k),w)),R}o(v9,"findW3cTraceParent");function I9(w){var k=w.getElementsByTagName("script"),R=[];return tl(k,function(Q){var ue=Q[a9]("src");if(ue){var Te=Q[a9]("crossorigin"),Be=Q.hasAttribute("async")===!0,He=Q.hasAttribute("defer")===!0,nt=Q[a9]("referrerpolicy"),xt={url:ue};Te&&(xt.crossOrigin=Te),Be&&(xt.async=Be),He&&(xt.defer=He),nt&&(xt.referrerPolicy=nt),R[Ri](xt)}}),R}o(I9,"findAllScripts");var EE="on",kC="attachEvent",bE="addEventListener",vE="detachEvent",Kk="removeEventListener",T9="events";Jd("aiEvtPageHide"),Jd("aiEvtPageShow");var rj=/\.[\.]+/g,nj=/[\.]+$/,IE=1,a2=Tf("events"),nl=/^([^.]*)(?:\.(.+)|)/;function BC(w){return w&&w[PA]?w[PA](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,Ts):w}o(BC,"_normalizeNamespace");function Ha(w,k){if(k){var R=Ts;le(k)?(R=Ts,tl(k,function(ue){ue=BC(ue),ue&&(ue[0]!=="."&&(ue="."+ue),R+=ue)})):R=BC(k),R&&(R[0]!=="."&&(R="."+R),w=(w||Ts)+R)}var Q=nl.exec(w||Ts)||[];return{type:Q[1],ns:(Q[2]||Ts).replace(rj,".").replace(nj,Ts)[s9](".").sort().join(".")}}o(Ha,"_getEvtNamespace");function Uh(w,k,R){R===void 0&&(R=!0);var Q=a2.get(w,T9,{},R),ue=Q[k];return ue||(ue=Q[k]=[]),ue}o(Uh,"_getRegisteredEvents");function Jk(w,k,R,Q){w&&k&&k[kh]&&(w[Kk]?w[Kk](k[kh],R,Q):w[vE]&&w[vE](EE+k[kh],R))}o(Jk,"_doDetach");function ij(w,k,R,Q){var ue=!1;return w&&k&&k[kh]&&R&&(w[bE]?(w[bE](k[kh],R,Q),ue=!0):w[kC]&&(w[kC](EE+k[kh],R),ue=!0)),ue}o(ij,"_doAttach");function RC(w,k,R,Q){for(var ue=k[ya];ue--;){var Te=k[ue];Te&&(!R.ns||R.ns===Te[Rk].ns)&&(!Q||Q(Te))&&(Jk(w,Te[Rk],Te.handler,Te.capture),k[Tg](ue,1))}}o(RC,"_doUnregister");function w9(w,k,R){if(k[kh])RC(w,Uh(w,k[kh]),k,R);else{var Q=a2.get(w,T9,{});Je(Q,function(ue,Te){RC(w,Te,k,R)}),yt(Q)[ya]===0&&a2.kill(w,T9)}}o(w9,"_unregisterEvents");function oj(w,k){var R;return k?(le(k)?R=[w].concat(k):R=[w,k],R=Ha("xx",R).ns[s9](".")):R=w,R}o(oj,"mergeEvtNamespace");function S9(w,k,R,Q,ue){ue===void 0&&(ue=!1);var Te=!1;if(w)try{var Be=Ha(k,Q);if(Te=ij(w,Be,R,ue),Te&&a2.accept(w)){var He={guid:IE++,evtName:Be,handler:R,capture:ue};Uh(w,Be.type)[Ri](He)}}catch{}return Te}o(S9,"eventOn");function Xk(w,k,R,Q,ue){if(ue===void 0&&(ue=!1),w)try{var Te=Ha(k,Q),Be=!1;w9(w,Te,function(He){return Te.ns&&!R||He.handler===R?(Be=!0,!0):!1}),Be||Jk(w,Te,R,ue)}catch{}}o(Xk,"eventOff");var TE="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Zk="sampleRate",wE="ProcessLegacy",eB="http.method",_9="https://dc.services.visualstudio.com",DC="/v2/track",wf="not_specified",k9="iKey",tB=UV({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),qh="split",gn="length",l2="toLowerCase",Og="ingestionendpoint",Ug="toString",B9="removeItem",PC="message",c2="count",SE="preTriggerDate",R9="getUTCDate",_E="stringify",u2="pathname",qg="match",D9="correlationHeaderExcludePatterns",yc="name",f2="extensionConfig",Sf="properties",a0="measurements",d2="sizeInBytes",FC="typeName",m2="exceptions",NC="severityLevel",h2="problemGroup",O0="parsedStack",kE="hasFullStack",BE="assembly",mu="fileName",p2="line",Wh="aiDataContract",LC="duration";function P9(w,k,R){var Q=k[gn],ue=F9(w,k);if(ue[gn]!==Q){for(var Te=0,Be=ue;R[Be]!==void 0;)Te++,Be=_t(ue,0,147)+rB(Te);ue=Be}return ue}o(P9,"dataSanitizeKeyAndAddUniqueness");function F9(w,k){var R;return k&&(k=s0(We(k)),k[gn]>150&&(R=_t(k,0,150),M0(w,2,57,"name is too long.  It has been truncated to 150 characters.",{name:k},!0))),R||k}o(F9,"dataSanitizeKey");function Va(w,k,R){R===void 0&&(R=1024);var Q;return k&&(R=R||1024,k=s0(We(k)),k[gn]>R&&(Q=_t(k,0,R),M0(w,2,61,"string value is too long. It has been truncated to "+R+" characters.",{value:k},!0))),Q||k}o(Va,"dataSanitizeString");function _f(w,k){return L9(w,k,2048,66)}o(_f,"dataSanitizeUrl");function RE(w,k){var R;return k&&k[gn]>32768&&(R=_t(k,0,32768),M0(w,2,56,"message is too long, it has been truncated to 32768 characters.",{message:k},!0)),R||k}o(RE,"dataSanitizeMessage");function N9(w,k){var R;if(k){var Q=""+k;Q[gn]>32768&&(R=_t(Q,0,32768),M0(w,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:k},!0))}return R||k}o(N9,"dataSanitizeException");function tm(w,k){if(k){var R={};Je(k,function(Q,ue){if(re(ue)&&Di())try{ue=$A()[_E](ue)}catch(Te){M0(w,2,49,"custom property is not valid",{exception:Te},!0)}ue=Va(w,ue,8192),Q=P9(w,Q,R),R[Q]=ue}),k=R}return k}o(tm,"dataSanitizeProperties");function Cc(w,k){if(k){var R={};Je(k,function(Q,ue){Q=P9(w,Q,R),R[Q]=ue}),k=R}return k}o(Cc,"dataSanitizeMeasurements");function g2(w,k){return k&&L9(w,k,128,69)[Ug]()}o(g2,"dataSanitizeId");function L9(w,k,R,Q){var ue;return k&&(k=s0(We(k)),k[gn]>R&&(ue=_t(k,0,R),M0(w,2,Q,"input is too long, it has been truncated to "+R+" characters.",{data:k},!0))),ue||k}o(L9,"dataSanitizeInput");function rB(w){var k="00"+w;return wt(k,k[gn]-3)}o(rB,"dsPadNumber");var Q9=Ie()||{},nB=0,sj=[null,null,null,null,null];function A2(w){var k=nB,R=sj,Q=R[k];return Q9.createElement?R[k]||(Q=R[k]=Q9.createElement("a")):Q={host:oB(w,!0)},Q.href=w,k++,k>=R[gn]&&(k=0),nB=k,Q}o(A2,"urlParseUrl");function aj(w){var k,R=A2(w);return R&&(k=R.href),k}o(aj,"urlGetAbsoluteUrl");function lj(w){var k,R=A2(w);return R&&(k=R[u2]),k}o(lj,"urlGetPathName");function iB(w,k){return w?w.toUpperCase()+" "+k:k}o(iB,"urlGetCompleteUrl");function oB(w,k){var R=rm(w,k)||"";if(R){var Q=R[qg](/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(Q!=null&&Q[gn]>3&&X(Q[2])&&Q[2][gn]>0)return Q[2]+(Q[3]||"")}return R}o(oB,"urlParseHost");function rm(w,k){var R=null;if(w){var Q=w[qg](/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(Q!=null&&Q[gn]>2&&X(Q[2])&&Q[2][gn]>0&&(R=Q[2]||"",k&&Q[gn]>2)){var ue=(Q[1]||"")[l2](),Te=Q[3]||"";(ue==="http"&&Te===":80"||ue==="https"&&Te===":443")&&(Te=""),R+=Te}}return R}o(rm,"urlParseFullHost");var sB=[_9+DC,"https://breeze.aimon.applicationinsights.io"+DC,"https://dc-int.services.visualstudio.com"+DC],y2="cid-v1:";function aB(w){return Vd(sB,w[l2]())!==-1}o(aB,"isInternalApplicationInsightsEndpoint");function M9(w){y2=w}o(M9,"correlationIdSetPrefix");function O9(){return y2}o(O9,"correlationIdGetPrefix");function Gh(w,k,R){if(!k||w&&w.disableCorrelationHeaders)return!1;if(w&&w[D9]){for(var Q=0;Q<w.correlationHeaderExcludePatterns[gn];Q++)if(w[D9][Q].test(k))return!1}var ue=A2(k).host[l2]();if(ue&&(Gr(ue,":443")!==-1||Gr(ue,":80")!==-1)&&(ue=(rm(k,!0)||"")[l2]()),(!w||!w.enableCorsCorrelation)&&ue&&ue!==R)return!1;var Te=w&&w.correlationHeaderDomains;if(Te){var Be;if(tl(Te,function(xt){var Cr=new RegExp(xt.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));Be=Be||Cr.test(ue)}),!Be)return!1}var He=w&&w.correlationHeaderExcludedDomains;if(!He||He[gn]===0)return!0;for(var Q=0;Q<He[gn];Q++){var nt=new RegExp(He[Q].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(nt.test(ue))return!1}return ue&&ue[gn]>0}o(Gh,"correlationIdCanIncludeCorrelationHeader");function lB(w){if(w){var k=cB(w,tB[1]);if(k&&k!==y2)return k}}o(lB,"correlationIdGetCorrelationContext");function cB(w,k){if(w)for(var R=w[qh](","),Q=0;Q<R[gn];++Q){var ue=R[Q][qh]("=");if(ue[gn]===2&&ue[0]===k)return ue[1]}}o(cB,"correlationIdGetCorrelationContextValue");function uB(w,k,R,Q){var ue,Te=Q,Be=Q;if(k&&k[gn]>0){var He=A2(k);if(ue=He.host,!Te)if(He[u2]!=null){var nt=He.pathname[gn]===0?"/":He[u2];nt.charAt(0)!=="/"&&(nt="/"+nt),Be=He[u2],Te=Va(w,R?R+" "+nt:nt)}else Te=Va(w,k)}else ue=Q,Te=Q;return{target:ue,name:Te,data:Be}}o(uB,"AjaxHelperParseDependencyPath");function cj(){var w=pC();if(w&&w.now&&w.timing){var k=w.now()+w.timing.navigationStart;if(k>0)return k}return bg()}o(cj,"dateTimeUtilsNow");function uj(w,k){var R=null;return w!==0&&k!==0&&!M(w)&&!M(k)&&(R=k-w),R}o(uj,"dateTimeUtilsDuration");function U9(w,k){var R=w||{};return{getName:o(function(){return R[yc]},"getName"),setName:o(function(Q){k&&k.setName(Q),R[yc]=Q},"setName"),getTraceId:o(function(){return R.traceID},"getTraceId"),setTraceId:o(function(Q){k&&k.setTraceId(Q),i2(Q)&&(R.traceID=Q)},"setTraceId"),getSpanId:o(function(){return R.parentID},"getSpanId"),setSpanId:o(function(Q){k&&k.setSpanId(Q),o2(Q)&&(R.parentID=Q)},"setSpanId"),getTraceFlags:o(function(){return R.traceFlags},"getTraceFlags"),setTraceFlags:o(function(Q){k&&k.setTraceFlags(Q),R.traceFlags=Q},"setTraceFlags")}}o(U9,"createDistributedTraceContextFromTrace");var C2=gC({LocalStorage:0,SessionStorage:1}),fj=gC({AI:0,AI_AND_W3C:1,W3C:2}),QC=gC({Normal:1,Critical:2}),Hh=void 0,hu=void 0,fB="";function x2(){return DE()?E2(C2.LocalStorage):null}o(x2,"_getLocalStorageObject");function E2(w){try{if(M(Y()))return null;var k=new Date()[Ug](),R=L(w===C2.LocalStorage?"localStorage":"sessionStorage"),Q=fB+k;R.setItem(Q,k);var ue=R.getItem(Q)!==k;if(R[B9](Q),!ue)return R}catch{}return null}o(E2,"_getVerifiedStorageObject");function b2(){return nm()?E2(C2.SessionStorage):null}o(b2,"_getSessionStorageObject");function MC(){Hh=!1,hu=!1}o(MC,"utlDisableStorage");function OC(w){fB=w||""}o(OC,"utlSetStoragePrefix");function dj(){Hh=DE(!0),hu=nm(!0)}o(dj,"utlEnableStorage");function DE(w){return(w||Hh===void 0)&&(Hh=!!E2(C2.LocalStorage)),Hh}o(DE,"utlCanUseLocalStorage");function dB(w,k){var R=x2();if(R!==null)try{return R.getItem(k)}catch(Q){Hh=!1,M0(w,2,1,"Browser failed read of local storage. "+Dh(Q),{exception:te(Q)})}return null}o(dB,"utlGetLocalStorage");function mB(w,k,R){var Q=x2();if(Q!==null)try{return Q.setItem(k,R),!0}catch(ue){Hh=!1,M0(w,2,3,"Browser failed write to local storage. "+Dh(ue),{exception:te(ue)})}return!1}o(mB,"utlSetLocalStorage");function xc(w,k){var R=x2();if(R!==null)try{return R[B9](k),!0}catch(Q){Hh=!1,M0(w,2,5,"Browser failed removal of local storage item. "+Dh(Q),{exception:te(Q)})}return!1}o(xc,"utlRemoveStorage");function nm(w){return(w||hu===void 0)&&(hu=!!E2(C2.SessionStorage)),hu}o(nm,"utlCanUseSessionStorage");function v2(){var w=[];return nm()&&Je(L("sessionStorage"),function(k){w.push(k)}),w}o(v2,"utlGetSessionStorageKeys");function hB(w,k){var R=b2();if(R!==null)try{return R.getItem(k)}catch(Q){hu=!1,M0(w,2,2,"Browser failed read of session storage. "+Dh(Q),{exception:te(Q)})}return null}o(hB,"utlGetSessionStorage");function mj(w,k,R){var Q=b2();if(Q!==null)try{return Q.setItem(k,R),!0}catch(ue){hu=!1,M0(w,2,4,"Browser failed write to session storage. "+Dh(ue),{exception:te(ue)})}return!1}o(mj,"utlSetSessionStorage");function pB(w,k){var R=b2();if(R!==null)try{return R[B9](k),!0}catch(Q){hu=!1,M0(w,2,6,"Browser failed removal of session storage item. "+Dh(Q),{exception:te(Q)})}return!1}o(pB,"utlRemoveSessionStorage");var hj="appInsightsThrottle",pj=function(){function w(k,R){var Q=this,ue,Te,Be,He,nt,xt,Cr,An=!1,Rn=!1;Br(),Q._getDbgPlgTargets=function(){return[Cr]},Q.getConfig=function(){return Be},Q.canThrottle=function(Nt){var Lr=e7(Nt),tn=kn(Nt);return Vi(tn,ue,Lr)},Q.isTriggered=function(Nt){return DB(Nt)},Q.isReady=function(){return An},Q.flush=function(Nt){try{var Lr=PB(Nt);if(Lr&&Lr[gn]>0){var tn=Lr.slice(0);return Cr[Nt]=[],tl(tn,function(Eo){br(Eo.msgID,Eo[PC],Eo.severity,!1)}),!0}}catch{}return!1},Q.flushAll=function(){try{if(Cr){var Nt=!0;return Je(Cr,function(Lr){var tn=Q.flush(parseInt(Lr));Nt=Nt&&tn}),Nt}}catch{}return!1},Q.onReadyState=function(Nt,Lr){return Lr===void 0&&(Lr=!0),An=M(Nt)?!0:Nt,An&&Lr?Q.flushAll():null},Q.sendMessage=function(Nt,Lr,tn){return br(Nt,Lr,tn,!0)};function br(Nt,Lr,tn,Eo){if(An){var xa=Pj(Nt);if(!xa)return;var ws=kn(Nt),Ea=e7(Nt),Gg=Vi(ws,ue,Ea),Yh=!1,P2=0,FB=DB(Nt);try{Gg&&!FB?(P2=Lt(ws.limit.maxSendNumber,Ea[c2]+1),Ea[c2]=0,Yh=!0,nt[Nt]=!0,Ea[SE]=new Date):(nt[Nt]=Gg,Ea[c2]+=1);var NB=Ci(Nt);Z9(Te,NB,Ea);for(var jE=0;jE<P2;jE++)RB(Nt,Te,Lr,tn)}catch{}return{isThrottled:Yh,throttleNum:P2}}else if(Eo){var Fj=PB(Nt);Fj.push({msgID:Nt,message:Lr,severity:tn})}return null}o(br,"_flushMessage");function Br(){Te=tj(k),nt={},He={},Cr={},Be={},yn(109),xt=g9(R)?R:"",k.addUnloadHook(Hk(k.config,function(Nt){var Lr=Nt.cfg;ue=DE();var tn=Lr.throttleMgrCfg||{};Je(tn,function(Eo,xa){yn(parseInt(Eo),xa)})}))}o(Br,"_initConfig");function kn(Nt){return Be[Nt]||Be[109]}o(kn,"_getCfgByKey");function yn(Nt,Lr){var tn,Eo;try{var xa=Lr||{},ws={};ws.disabled=!!xa.disabled;var Ea=xa.interval||{};Rn=Ea?.daysOfMonth&&Ea?.daysOfMonth[gn]>0,ws.interval=oi(Ea);var Gg={samplingRate:((tn=xa.limit)===null||tn===void 0?void 0:tn.samplingRate)||100,maxSendNumber:((Eo=xa.limit)===null||Eo===void 0?void 0:Eo.maxSendNumber)||1};ws.limit=Gg,Be[Nt]=ws}catch{}}o(yn,"_setCfgByKey");function oi(Nt){Nt=Nt||{};var Lr=Nt?.monthInterval,tn=Nt?.dayInterval;return M(Lr)&&M(tn)&&(Nt.monthInterval=3,Rn||(Nt.daysOfMonth=[28],Rn=!0)),Nt={monthInterval:Nt?.monthInterval,dayInterval:Nt?.dayInterval,daysOfMonth:Nt?.daysOfMonth},Nt}o(oi,"_getIntervalConfig");function Vi(Nt,Lr,tn){if(Nt&&!Nt.disabled&&Lr&&g9(tn)){var Eo=$C(),xa=tn.date,ws=Nt.interval,Ea=1;if(ws?.monthInterval){var Gg=(Eo.getUTCFullYear()-xa.getUTCFullYear())*12+Eo.getUTCMonth()-xa.getUTCMonth();Ea=VE(ws.monthInterval,0,Gg)}var Yh=1;if(Rn)Yh=Vd(ws.daysOfMonth,Eo[R9]());else if(ws?.dayInterval){var P2=Ih((Eo.getTime()-xa.getTime())/864e5);Yh=VE(ws.dayInterval,0,P2)}return Ea>=0&&Yh>=0}return!1}o(Vi,"_canThrottle");function Ci(Nt,Lr){var tn=g9(Lr)?Lr:"";return Nt?hj+tn+"-"+Nt:null}o(Ci,"_getLocalStorageName");function Ca(Nt){try{if(Nt){var Lr=new Date;return Nt.getUTCFullYear()===Lr.getUTCFullYear()&&Nt.getUTCMonth()===Lr.getUTCMonth()&&Nt[R9]()===Lr[R9]()}}catch{}return!1}o(Ca,"_isTriggeredOnCurDate");function D2(Nt,Lr,tn){try{var Eo={date:$C(),count:0};if(Nt){var xa=JSON.parse(Nt),ws={date:$C(xa.date)||Eo.date,count:xa[c2]||Eo[c2],preTriggerDate:xa.preTriggerDate?$C(xa[SE]):void 0};return ws}else return Z9(Lr,tn,Eo),Eo}catch{}return null}o(D2,"_getLocalStorageObj");function $C(Nt){try{if(Nt){var Lr=new Date(Nt);if(!isNaN(Lr.getDate()))return Lr}else return new Date}catch{}return null}o($C,"_getThrottleDate");function Z9(Nt,Lr,tn){try{return mB(Nt,Lr,s0(JSON[_E](tn)))}catch{}return!1}o(Z9,"_resetLocalStorage");function VE(Nt,Lr,tn){return Nt<=0?1:tn>=Lr&&(tn-Lr)%Nt==0?Ih((tn-Lr)/Nt)+1:-1}o(VE,"_checkInterval");function RB(Nt,Lr,tn,Eo){M0(Lr,Eo||1,Nt,tn)}o(RB,"_sendMessage");function Pj(Nt){try{var Lr=kn(Nt);return lE(1e6)<=Lr.limit.samplingRate}catch{}return!1}o(Pj,"_canSampledIn");function e7(Nt){try{var Lr=He[Nt];if(!Lr){var tn=Ci(Nt,xt);Lr=D2(dB(Te,tn),Te,tn),He[Nt]=Lr}return He[Nt]}catch{}return null}o(e7,"_getLocalStorageObjByKey");function DB(Nt){var Lr=nt[Nt];if(M(Lr)){Lr=!1;var tn=e7(Nt);tn&&(Lr=Ca(tn[SE])),nt[Nt]=Lr}return nt[Nt]}o(DB,"_isTrigger");function PB(Nt){return Cr=Cr||{},M(Cr[Nt])&&(Cr[Nt]=[]),Cr[Nt]}o(PB,"_getQueueByKey")}return o(w,"ThrottleMgr"),w}(),q9=";",kf="=";function PE(w){if(!w)return{};var k=w[qh](q9),R=Qs(k,function(ue,Te){var Be=Te[qh](kf);if(Be[gn]===2){var He=Be[0][l2](),nt=Be[1];ue[He]=nt}return ue},{});if(yt(R)[gn]>0){if(R.endpointsuffix){var Q=R.location?R.location+".":"";R[Og]=R[Og]||"https://"+Q+"dc."+R.endpointsuffix}R[Og]=R[Og]||_9,BA(R[Og],"/")&&(R[Og]=R[Og].slice(0,-1))}return R}o(PE,"parseConnectionString");var FE={parse:PE},NE=function(){function w(k,R,Q){var ue=this,Te=this;Te.ver=1,Te.sampleRate=100,Te.tags={},Te[yc]=Va(k,Q)||wf,Te.data=R,Te.time=Yd(new Date),Te[Wh]={time:1,iKey:1,name:1,sampleRate:o(function(){return ue.sampleRate===100?4:1},"sampleRate"),tags:1,data:1}}return o(w,"Envelope"),w}(),gj=function(){function w(k,R,Q,ue){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var Te=this;Te.ver=2,Te[yc]=Va(k,R)||wf,Te[Sf]=tm(k,Q),Te[a0]=Cc(k,ue)}return o(w,"Event"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Event",w.dataType="EventData",w}(),Aj=58,gB=/^\s{0,50}(from\s|at\s|Line\s{1,5}\d{1,10}\s{1,5}of|\w{1,50}@\w{1,80}|[^\(\s\n]+:[0-9\?]+(?::[0-9\?]+)?)/,yj=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+):([0-9\?]+)\)?$/,I2=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+)\)?$/,AB=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\)\]]+)\)?$/,Cj=/(?:^|\(|\s{0,10}[\w\)]+\@)?([^\(\n\s\]\)]+)(?:\:([0-9]+)(?:\:([0-9]+))?)?\)?(?:,|$)/,xj=/([^\(\s\n]+):([0-9]+):([0-9]+)$/,Ej=/([^\(\s\n]+):([0-9]+)$/,yB="<no_method>",T2="error",U0="stack",UC="stackDetails",LE="errorSrc",qC="message",WC="description",W9=[{re:yj,len:5,m:1,fn:2,ln:3,col:4},{chk:QE,pre:Dr,re:I2,len:4,m:1,fn:2,ln:3},{re:AB,len:3,m:1,fn:2,hdl:H9},{re:Cj,len:2,fn:1,hdl:H9}];function Dr(w){return w.replace(/(\(anonymous\))/,"<anonymous>")}o(Dr,"_scrubAnonymous");function QE(w){return Gr(w,"[native")<0}o(QE,"_ignoreNative");function GC(w,k){var R=w;return R&&!X(R)&&(JSON&&JSON[_E]?(R=JSON[_E](w),k&&(!R||R==="{}")&&(ae(w[Ug])?R=w[Ug]():R=""+w)):R=""+w+" - (Missing JSON.stringify)"),R||""}o(GC,"_stringify");function Vh(w,k){var R=w;return w&&(R&&!X(R)&&(R=w[qC]||w[WC]||R),R&&!X(R)&&(R=GC(R,!0)),w.filename&&(R=R+" @"+(w.filename||"")+":"+(w.lineno||"?")+":"+(w.colno||"?"))),k&&k!=="String"&&k!=="Object"&&k!=="Error"&&Gr(R||"",k)===-1&&(R=k+": "+R),R||""}o(Vh,"_formatMessage");function CB(w){try{if(re(w))return"hasFullStack"in w&&"typeName"in w}catch{}return!1}o(CB,"_isExceptionDetailsInternal");function xB(w){try{if(re(w))return"ver"in w&&"exceptions"in w&&"properties"in w}catch{}return!1}o(xB,"_isExceptionInternal");function ME(w){return w&&w.src&&X(w.src)&&w.obj&&le(w.obj)}o(ME,"_isStackDetails");function im(w){var k=w||"";X(k)||(X(k[U0])?k=k[U0]:k=""+k);var R=k[qh](`
`);return{src:k,obj:R}}o(im,"_convertStackObj");function EB(w){for(var k=[],R=w[qh](`
`),Q=0;Q<R[gn];Q++){var ue=R[Q];R[Q+1]&&(ue+="@"+R[Q+1],Q++),k.push(ue)}return{src:w,obj:k}}o(EB,"_getOperaStack");function OE(w){var k=null;if(w)try{if(w[U0])k=im(w[U0]);else if(w[T2]&&w[T2][U0])k=im(w[T2][U0]);else if(w.exception&&w.exception[U0])k=im(w.exception[U0]);else if(ME(w))k=w;else if(ME(w[UC]))k=w[UC];else if(Ct()&&Ct().opera&&w[qC])k=EB(w[PC]);else if(w.reason&&w.reason[U0])k=im(w.reason[U0]);else if(X(w))k=im(w);else{var R=w[qC]||w[WC]||"";X(w[LE])&&(R&&(R+=`
`),R+=" from "+w[LE]),R&&(k=im(R))}}catch(Q){k=im(Q)}return k||{src:"",obj:null}}o(OE,"_getStackFromErrorObj");function bB(w){var k="";return w&&(w.obj?k=w.obj.join(`
`):k=w.src||""),k}o(bB,"_formatStackTrace");function UE(w){var k,R=w.obj;if(R&&R[gn]>0){k=[];var Q=0,ue=!1,Te=0;tl(R,function(kn){if(ue||bj(kn)){var yn=We(kn);ue=!0;var oi=vj(yn,Q);oi&&(Te+=oi[d2],k.push(oi),Q++)}});var Be=32*1024;if(Te>Be)for(var He=0,nt=k[gn]-1,xt=0,Cr=He,An=nt;He<nt;){var Rn=k[He][d2],br=k[nt][d2];if(xt+=Rn+br,xt>Be){var Br=An-Cr+1;k.splice(Cr,Br);break}Cr=He,An=nt,He++,nt--}}return k}o(UE,"_parseStack");function w2(w){var k="";if(w&&(k=w.typeName||w[yc]||"",!k))try{var R=/function (.{1,200})\(/,Q=R.exec(w.constructor[Ug]());k=Q&&Q[gn]>1?Q[1]:""}catch{}return k}o(w2,"_getErrorType");function qE(w){if(w)try{if(!X(w)){var k=w2(w),R=GC(w,!1);return(!R||R==="{}")&&(w[T2]&&(w=w[T2],k=w2(w)),R=GC(w,!0)),Gr(R,k)!==0&&k!=="String"?k+":"+R:R}}catch{}return""+(w||"")}o(qE,"_formatErrorCode");var Bf=function(){function w(k,R,Q,ue,Te,Be){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var He=this;He.ver=2,xB(R)?(He[m2]=R[m2]||[],He[Sf]=R[Sf],He[a0]=R[a0],R[NC]&&(He[NC]=R[NC]),R.id&&(He.id=R.id,R[Sf].id=R.id),R[h2]&&(He[h2]=R[h2]),M(R.isManual)||(He.isManual=R.isManual)):(Q||(Q={}),Be&&(Q.id=Be),He[m2]=[TB(k,R,Q)],He[Sf]=tm(k,Q),He[a0]=Cc(k,ue),Te&&(He[NC]=Te),Be&&(He.id=Be))}return o(w,"Exception"),w.CreateAutoException=function(k,R,Q,ue,Te,Be,He,nt){var xt=w2(Te||Be||k);return{message:Vh(k,xt),url:R,lineNumber:Q,columnNumber:ue,error:qE(Te||Be||k),evt:qE(Be||k),typeName:xt,stackDetails:OE(He||Te||Be),errorSrc:nt}},w.CreateFromInterface=function(k,R,Q,ue){var Te=R[m2]&&Cf(R[m2],function(He){return G9(k,He)}),Be=new w(k,Jx(Jx({},R),{exceptions:Te}),Q,ue);return Be},w.prototype.toInterface=function(){var k=this,R=k.exceptions,Q=k.properties,ue=k.measurements,Te=k.severityLevel,Be=k.problemGroup,He=k.id,nt=k.isManual,xt=R instanceof Array&&Cf(R,function(Cr){return Cr.toInterface()})||void 0;return{ver:"4.0",exceptions:xt,severityLevel:Te,properties:Q,measurements:ue,problemGroup:Be,id:He,isManual:nt}},w.CreateSimpleException=function(k,R,Q,ue,Te,Be){var He;return{exceptions:[(He={},He[kE]=!0,He.message=k,He.stack=Te,He.typeName=R,He)]}},w.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",w.dataType="ExceptionData",w.formatError=qE,w}(),vB=Dt({id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2});function IB(){var w=this,k=le(w[O0])&&Cf(w[O0],function(Q){return SB(Q)}),R={id:w.id,outerId:w.outerId,typeName:w[FC],message:w[PC],hasFullStack:w[kE],stack:w[U0],parsedStack:k||void 0};return R}o(IB,"_toInterface");function TB(w,k,R){var Q,ue,Te,Be,He,nt,xt,Cr;if(CB(k))Be=k[FC],He=k[PC],xt=k[U0],Cr=k[O0]||[],nt=k[kE];else{var An=k,Rn=An&&An.evt;de(An)||(An=An[T2]||Rn||An),Be=Va(w,w2(An))||wf,He=RE(w,Vh(k||An,Be))||wf;var br=k[UC]||OE(k);Cr=UE(br),le(Cr)&&Cf(Cr,function(Br){Br[BE]=Va(w,Br[BE]),Br[mu]=Va(w,Br[mu])}),xt=N9(w,bB(br)),nt=le(Cr)&&Cr[gn]>0,R&&(R[FC]=R[FC]||Be)}return Q={},Q[Wh]=vB,Q.id=ue,Q.outerId=Te,Q.typeName=Be,Q.message=He,Q[kE]=nt,Q.stack=xt,Q.parsedStack=Cr,Q.toInterface=IB,Q}o(TB,"_createExceptionDetails");function G9(w,k){var R=le(k[O0])&&Cf(k[O0],function(ue){return wB(ue)})||k[O0],Q=TB(w,Jx(Jx({},k),{parsedStack:R}));return Q}o(G9,"_createExDetailsFromInterface");function HC(w,k){var R=k[qg](xj);if(R&&R[gn]>=4)w[mu]=R[1],w[p2]=parseInt(R[2]);else{var Q=k[qg](Ej);Q&&Q[gn]>=3?(w[mu]=Q[1],w[p2]=parseInt(Q[2])):w[mu]=k}}o(HC,"_parseFilename");function H9(w,k,R){var Q=w[mu];k.fn&&R&&R[gn]>k.fn&&(k.ln&&R[gn]>k.ln?(Q=s0(R[k.fn]||""),w[p2]=parseInt(s0(R[k.ln]||""))||0):Q=s0(R[k.fn]||"")),Q&&HC(w,Q)}o(H9,"_handleFilename");function bj(w){var k=!1;if(w&&X(w)){var R=s0(w);R&&(k=gB.test(R))}return k}o(bj,"_isStackFrame");var V9=Dt({level:1,method:1,assembly:0,fileName:0,line:0});function vj(w,k){var R,Q;if(w&&X(w)&&s0(w)){Q=(R={},R[Wh]=V9,R.level=k,R.assembly=s0(w),R.method=yB,R.fileName="",R.line=0,R.sizeInBytes=0,R);for(var ue=0;ue<W9[gn];){var Te=W9[ue];if(Te.chk&&!Te.chk(w))break;Te.pre&&(w=Te.pre(w));var Be=w[qg](Te.re);if(Be&&Be[gn]>=Te.len){Te.m&&(Q.method=s0(Be[Te.m]||yB)),Te.hdl?Te.hdl(Q,Te,Be):Te.fn&&(Te.ln?(Q[mu]=s0(Be[Te.fn]||""),Q[p2]=parseInt(s0(Be[Te.ln]||""))||0):HC(Q,Be[Te.fn]||""));break}ue++}}return j9(Q)}o(vj,"_extractStackFrame");function wB(w){var k,R=(k={},k[Wh]=V9,k.level=w.level,k.method=w.method,k.assembly=w[BE],k.fileName=w[mu],k.line=w[p2],k.sizeInBytes=0,k);return j9(R)}o(wB,"_stackFrameFromInterface");function j9(w){var k=Aj;return w&&(k+=w.method[gn],k+=w.assembly[gn],k+=w.fileName[gn],k+=w.level.toString()[gn],k+=w.line.toString()[gn],w[d2]=k),w}o(j9,"_populateFrameSizeInBytes");function SB(w){return{level:w.level,method:w.method,assembly:w[BE],fileName:w[mu],line:w[p2]}}o(SB,"_parsedFrameToInterface");var _B=function(){function w(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return o(w,"DataPoint"),w}(),Ij=function(){function w(k,R,Q,ue,Te,Be,He,nt,xt){this.aiDataContract={ver:1,metrics:1,properties:0};var Cr=this;Cr.ver=2;var An=new _B;An[c2]=ue>0?ue:void 0,An.max=isNaN(Be)||Be===null?void 0:Be,An.min=isNaN(Te)||Te===null?void 0:Te,An[yc]=Va(k,R)||wf,An.value=Q,An.stdDev=isNaN(He)||He===null?void 0:He,Cr.metrics=[An],Cr[Sf]=tm(k,nt),Cr[a0]=Cc(k,xt)}return o(w,"Metric"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",w.dataType="MetricData",w}(),S2="";function Tj(w,k){return k===void 0&&(k=!1),w==null?k:w.toString()[l2]()==="true"}o(Tj,"stringToBoolOrDefault");function $9(w){(isNaN(w)||w<0)&&(w=0),w=t9(w);var k=S2+w%1e3,R=S2+Ih(w/1e3)%60,Q=S2+Ih(w/(1e3*60))%60,ue=S2+Ih(w/(1e3*60*60))%24,Te=Ih(w/(1e3*60*60*24));return k=k[gn]===1?"00"+k:k[gn]===2?"0"+k:k,R=R[gn]<2?"0"+R:R,Q=Q[gn]<2?"0"+Q:Q,ue=ue[gn]<2?"0"+ue:ue,(Te>0?Te+".":S2)+ue+":"+Q+":"+R+"."+k}o($9,"msToTimeSpan");function wj(w,k){var R=null;return tl(w,function(Q){if(Q.identifier===k)return R=Q,-1}),R}o(wj,"getExtensionByName");function jh(w,k,R,Q,ue){return!ue&&X(w)&&(w==="Script error."||w==="Script error")}o(jh,"isCrossOriginError");var Sj=function(){function w(k,R,Q,ue,Te,Be,He){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var nt=this;nt.ver=2,nt.id=g2(k,He),nt.url=_f(k,Q),nt[yc]=Va(k,R)||wf,isNaN(ue)||(nt[LC]=$9(ue)),nt[Sf]=tm(k,Te),nt[a0]=Cc(k,Be)}return o(w,"PageView"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",w.dataType="PageviewData",w}(),_2=function(){function w(k,R,Q,ue,Te,Be,He,nt,xt,Cr,An,Rn){xt===void 0&&(xt="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var br=this;br.ver=2,br.id=R,br[LC]=$9(Te),br.success=Be,br.resultCode=He+"",br.type=Va(k,xt);var Br=uB(k,Q,nt,ue);br.data=_f(k,ue)||Br.data,br.target=Va(k,Br.target),Cr&&(br.target="".concat(br.target," | ").concat(Cr)),br[yc]=Va(k,Br[yc]),br[Sf]=tm(k,An),br[a0]=Cc(k,Rn)}return o(w,"RemoteDependencyData"),w.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",w.dataType="RemoteDependencyData",w}(),z9=function(){function w(k,R,Q,ue,Te){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var Be=this;Be.ver=2,R=R||wf,Be[PC]=RE(k,R),Be[Sf]=tm(k,ue),Be[a0]=Cc(k,Te),Q&&(Be[NC]=Q)}return o(w,"Trace"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Message",w.dataType="MessageData",w}(),VC=function(){function w(k,R,Q,ue,Te,Be,He){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var nt=this;nt.ver=2,nt.url=_f(k,Q),nt[yc]=Va(k,R)||wf,nt[Sf]=tm(k,Te),nt[a0]=Cc(k,Be),He&&(nt.domProcessing=He.domProcessing,nt[LC]=He[LC],nt.networkConnect=He.networkConnect,nt.perfTotal=He.perfTotal,nt.receivedResponse=He.receivedResponse,nt.sentRequest=He.sentRequest)}return o(w,"PageViewPerformance"),w.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",w.dataType="PageviewPerformanceData",w}(),_j=function(){function w(k,R){this.aiDataContract={baseType:1,baseData:1},this.baseType=k,this.baseData=R}return o(w,"Data"),w}(),WE=gC({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),kj=function(){function w(){}return o(w,"ConfigurationManager"),w.getConfig=function(k,R,Q,ue){ue===void 0&&(ue=!1);var Te;return Q&&k[f2]&&k[f2][Q]&&!M(k[f2][Q][R])?Te=k[f2][Q][R]:Te=k[R],M(Te)?ue:Te},w}();function Rf(w){var k="ai."+w+".";return function(R){return k+R}}o(Rf,"_aiNameFunc");var k2=Rf("application"),ra=Rf("device"),GE=Rf("location"),B2=Rf("operation"),HE=Rf("session"),$h=Rf("user"),Wg=Rf("cloud"),jC=Rf("internal"),zh=function(w){Bh(k,w);function k(){return w.call(this)||this}return o(k,"ContextTagKeys"),k}(IC({applicationVersion:k2("ver"),applicationBuild:k2("build"),applicationTypeId:k2("typeId"),applicationId:k2("applicationId"),applicationLayer:k2("layer"),deviceId:ra("id"),deviceIp:ra("ip"),deviceLanguage:ra("language"),deviceLocale:ra("locale"),deviceModel:ra("model"),deviceFriendlyName:ra("friendlyName"),deviceNetwork:ra("network"),deviceNetworkName:ra("networkName"),deviceOEMName:ra("oemName"),deviceOS:ra("os"),deviceOSVersion:ra("osVersion"),deviceRoleInstance:ra("roleInstance"),deviceRoleName:ra("roleName"),deviceScreenResolution:ra("screenResolution"),deviceType:ra("type"),deviceMachineName:ra("machineName"),deviceVMName:ra("vmName"),deviceBrowser:ra("browser"),deviceBrowserVersion:ra("browserVersion"),locationIp:GE("ip"),locationCountry:GE("country"),locationProvince:GE("province"),locationCity:GE("city"),operationId:B2("id"),operationName:B2("name"),operationParentId:B2("parentId"),operationRootId:B2("rootId"),operationSyntheticSource:B2("syntheticSource"),operationCorrelationVector:B2("correlationVector"),sessionId:HE("id"),sessionIsFirst:HE("isFirst"),sessionIsNew:HE("isNew"),userAccountAcquisitionDate:$h("accountAcquisitionDate"),userAccountId:$h("accountId"),userAgent:$h("userAgent"),userId:$h("id"),userStoreRegion:$h("storeRegion"),userAuthUserId:$h("authUserId"),userAnonymousUserAcquisitionDate:$h("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:$h("authUserAcquisitionDate"),cloudName:Wg("name"),cloudRole:Wg("role"),cloudRoleVer:Wg("roleVer"),cloudRoleInstance:Wg("roleInstance"),cloudEnvironment:Wg("environment"),cloudLocation:Wg("location"),cloudDeploymentUnit:Wg("deploymentUnit"),internalNodeName:jC("nodeName"),internalSdkVersion:jC("sdkVersion"),internalAgentVersion:jC("agentVersion"),internalSnippet:jC("snippet"),internalSdkSrc:jC("sdkSrc")}));function Y9(w,k,R,Q,ue,Te){R=Va(Q,R)||wf,(M(w)||M(k)||M(R))&&Ne("Input doesn't contain all required fields");var Be="";w[k9]&&(Be=w[k9],delete w[k9]);var He={name:R,time:Yd(new Date),iKey:Be,ext:Te||{},tags:[],data:{},baseType:k,baseData:w};return M(ue)||Je(ue,function(nt,xt){He.data[nt]=xt}),He}o(Y9,"createTelemetryItem");var K9=function(){function w(){}return o(w,"TelemetryItemCreator"),w.create=Y9,w}(),Bj={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},Rj=new zh;function kB(w){var k=null;if(ae(Event))k=new Event(w);else{var R=Ie();R&&R.createEvent&&(k=R.createEvent("Event"),k.initEvent(w,!0,!0))}return k}o(kB,"createDomEvent");function J9(w,k){Xk(w,null,null,k)}o(J9,"_disableEvents");function BB(w){var k=Ie(),R=Ft(),Q=!1,ue=[],Te=1;R&&!M(R.onLine)&&!R.onLine&&(Te=2);var Be=0,He=Rn(),nt=oj(Jd("OfflineListener"),w);try{if(Cr(Ct())&&(Q=!0),k){var xt=k.body||k;xt.ononline&&Cr(xt)&&(Q=!0)}}catch{Q=!1}function Cr(Ci){var Ca=!1;return Ci&&(Ca=S9(Ci,"online",kn,nt),Ca&&S9(Ci,"offline",yn,nt)),Ca}o(Cr,"_enableEvents");function An(){return He}o(An,"_isOnline");function Rn(){return!(Be===2||Te===2)}o(Rn,"calCurrentState");function br(){var Ci=Rn();He!==Ci&&(He=Ci,tl(ue,function(Ca){var D2={isOnline:He,rState:Te,uState:Be};try{Ca(D2)}catch{}}))}o(br,"listnerNoticeCheck");function Br(Ci){Be=Ci,br()}o(Br,"setOnlineState");function kn(){Te=1,br()}o(kn,"_setOnline");function yn(){Te=2,br()}o(yn,"_setOffline");function oi(){var Ci=Ct();if(Ci&&Q){if(J9(Ci,nt),k){var Ca=k.body||k;J(Ca.ononline)||J9(Ca,nt)}Q=!1}}o(oi,"_unload");function Vi(Ci){return ue.push(Ci),{rm:o(function(){var Ca=ue.indexOf(Ci);if(Ca>-1)return ue.splice(Ca,1)},"rm")}}return o(Vi,"addListener"),{isOnline:An,isListening:o(function(){return Q},"isListening"),unload:oi,addListener:Vi,setOnlineState:Br}}o(BB,"createOfflineListener");var Dj="AppInsightsPropertiesPlugin",X9="AppInsightsChannelPlugin",R2="ApplicationInsightsAnalytics";e.AnalyticsPluginIdentifier=R2,e.BreezeChannelIdentifier=X9,e.ConfigurationManager=kj,e.ConnectionStringParser=FE,e.ContextTagKeys=zh,e.CtxTagKeys=Rj,e.DEFAULT_BREEZE_ENDPOINT=_9,e.DEFAULT_BREEZE_PATH=DC,e.Data=_j,e.DisabledPropertyName=TE,e.DistributedTracingModes=fj,e.Envelope=NE,e.Event=gj,e.EventPersistence=QC,e.Exception=Bf,e.Extensions=Bj,e.HttpMethod=eB,e.Metric=Ij,e.PageView=Sj,e.PageViewPerformance=VC,e.ProcessLegacy=wE,e.PropertiesPluginIdentifier=Dj,e.RemoteDependencyData=_2,e.RequestHeaders=tB,e.SampleRate=Zk,e.SeverityLevel=WE,e.TelemetryItemCreator=K9,e.ThrottleMgr=pj,e.Trace=z9,e.correlationIdCanIncludeCorrelationHeader=Gh,e.correlationIdGetCorrelationContext=lB,e.correlationIdGetCorrelationContextValue=cB,e.correlationIdGetPrefix=O9,e.correlationIdSetPrefix=M9,e.createDistributedTraceContextFromTrace=U9,e.createDomEvent=kB,e.createOfflineListener=BB,e.createTelemetryItem=Y9,e.createTraceParent=n2,e.dataSanitizeException=N9,e.dataSanitizeId=g2,e.dataSanitizeInput=L9,e.dataSanitizeKey=F9,e.dataSanitizeKeyAndAddUniqueness=P9,e.dataSanitizeMeasurements=Cc,e.dataSanitizeMessage=RE,e.dataSanitizeProperties=tm,e.dataSanitizeString=Va,e.dataSanitizeUrl=_f,e.dateTimeUtilsDuration=uj,e.dateTimeUtilsNow=cj,e.dsPadNumber=rB,e.findAllScripts=I9,e.findW3cTraceParent=v9,e.formatTraceParent=Mg,e.getExtensionByName=wj,e.isBeaconApiSupported=Fh,e.isCrossOriginError=jh,e.isInternalApplicationInsightsEndpoint=aB,e.isSampledFlag=xE,e.isValidSpanId=o2,e.isValidTraceId=i2,e.isValidTraceParent=s2,e.msToTimeSpan=$9,e.parseConnectionString=PE,e.parseTraceParent=Ac,e.strNotSpecified=wf,e.stringToBoolOrDefault=Tj,e.urlGetAbsoluteUrl=aj,e.urlGetCompleteUrl=iB,e.urlGetPathName=lj,e.urlParseFullHost=rm,e.urlParseHost=oB,e.urlParseUrl=A2,e.utlCanUseLocalStorage=DE,e.utlCanUseSessionStorage=nm,e.utlDisableStorage=MC,e.utlEnableStorage=dj,e.utlGetLocalStorage=dB,e.utlGetSessionStorage=hB,e.utlGetSessionStorageKeys=v2,e.utlRemoveSessionStorage=pB,e.utlRemoveStorage=xc,e.utlSetLocalStorage=mB,e.utlSetSessionStorage=mj,e.utlSetStoragePrefix=OC})});var K2e=V((UP,Y2e)=>{d();(function(e,t){typeof UP=="object"&&typeof Y2e<"u"?t(UP):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(UP,function(e){"use strict";function t(g,y){return g||y}o(t,"_pureAssign");function r(g,y){return g[y]}o(r,"_pureRef");var n=void 0,i=null,s="",a="function",l="object",c="prototype",u="__proto__",f="undefined",m="constructor",h="Symbol",p="_polyfill",A="length",x="name",E="call",v="toString",b=t(Object),S=r(b,c),B=t(String),P=r(B,c),F=t(Math),q=t(Array),ne=r(q,c),ce=r(ne,"slice");function Z(g,y){try{return{v:g.apply(this,y)}}catch(T){return{e:T}}}o(Z,"safe");function G(g,y){var T=Z(g);return T.e?y:T.v}o(G,"safeGet");var U;function ie(g){return function(y){return typeof y===g}}o(ie,"_createIs");function J(g){var y="[object "+g+"]";return function(T){return!!(T&&H(T)===y)}}o(J,"_createObjIs");function H(g){return S[v].call(g)}o(H,"objToString");function M(g){return typeof g===f||g===f}o(M,"isUndefined");function j(g){return!re(g)}o(j,"isStrictUndefined");function X(g){return g===i||M(g)}o(X,"isNullOrUndefined");function ae(g){return g===i||!re(g)}o(ae,"isStrictNullOrUndefined");function re(g){return!!g||g!==n}o(re,"isDefined");function le(g){return!U&&(U=["string","number","boolean",f,"symbol","bigint"]),g!==l&&U.indexOf(g)!==-1}o(le,"isPrimitiveType");var de=ie("string"),Re=ie(a);function Ee(g){return!g&&X(g)?!1:!!g&&typeof g===l}o(Ee,"isObject");var Oe=r(q,"isArray"),_e=J("Date"),Je=ie("number"),ut=ie("boolean"),ot=J("Error");function at(g){return!!(g&&g.then&&Re(g.then))}o(at,"isPromiseLike");function oe(g){return!(!g||G(function(){return!(g&&0+g)},!g))}o(oe,"isTruthy");var Pe=r(b,"getOwnPropertyDescriptor");function Ae(g,y){return!!g&&S.hasOwnProperty[E](g,y)}o(Ae,"objHasOwnProperty");var We=t(r(b,"hasOwn"),z);function z(g,y){return Ae(g,y)||!!Pe(g,y)}o(z,"polyObjHasOwn");function te(g,y,T){if(g&&Ee(g)){for(var _ in g)if(We(g,_)&&y[E](T||g,_,g[_])===-1)break}}o(te,"objForEachKey");var Ne={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function Se(g){var y={};if(y[Ne.c]=!0,y[Ne.e]=!0,g.l){y.get=function(){return g.l.v};var T=Pe(g.l,"v");T&&T.set&&(y.set=function(_){g.l.v=_})}return te(g,function(_,D){y[Ne[_]]=j(D)?y[Ne[_]]:D}),y}o(Se,"_createProp");var Ce=r(b,"defineProperty");function Ue(g,y,T){return Ce(g,y,Se(T))}o(Ue,"objDefine");function Ve(g,y,T,_,D){var N={};return te(g,function(W,se){Ze(N,W,y?se:W),Ze(N,se,T?se:W)}),_?_(N):N}o(Ve,"_createKeyValueMap");function Ze(g,y,T,_){Ce(g,y,{value:T,enumerable:!0,writable:!1})}o(Ze,"_assignMapValue");var yt=t(B),Dt="[object Error]";function At(g,y){var T=s,_=S[v][E](g);_===Dt&&(g={stack:yt(g.stack),message:yt(g.message),name:yt(g.name)});try{T=JSON.stringify(g,i,y?typeof y=="number"?y:4:n),T=(T?T.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):i)||yt(g)}catch(D){T=" - "+At(D,y)}return _+": "+T}o(At,"dumpObj");function Vt(g){throw new Error(g)}o(Vt,"throwError");function $t(g){throw new TypeError(g)}o($t,"throwTypeError");var nr=r(b,"freeze");function ge(g){return g}o(ge,"_doNothing");function Le(g){return g[u]||i}o(Le,"_getProto");var Ke=r(b,"assign"),et=r(b,"keys");function St(g){return nr&&te(g,function(y,T){(Oe(T)||Ee(T))&&St(T)}),Et(g)}o(St,"objDeepFreeze");var Et=t(nr,ge),Lt=t(r(b,"getPrototypeOf"),Le);function Mt(g){return Ve(g,1,0,Et)}o(Mt,"createEnum");function Tt(g){return Ve(g,0,0,Et)}o(Tt,"createEnumKeyMap");function _t(g){var y={};return te(g,function(T,_){Ze(y,T,_[1]),Ze(y,_[0],_[1])}),Et(y)}o(_t,"createSimpleMap");function wt(g){return _t(g)}o(wt,"createTypeMap");var Ut=Tt({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),Wt="__tsUtils$gblCfg",zt;function lr(){var g;return typeof globalThis!==f&&(g=globalThis),!g&&typeof self!==f&&(g=self),!g&&typeof window!==f&&(g=window),!g&&typeof global!==f&&(g=global),g}o(lr,"_getGlobalValue");function hr(){if(!zt){var g=Z(lr).v||{};zt=g[Wt]=g[Wt]||{}}return zt}o(hr,"_getGlobalConfig");var or=cr;function cr(g,y,T){var _=y?y[g]:i;return function(D){var N=(D?D[g]:i)||_;if(N||T){var W=arguments;return(N||T).apply(D,N?ce[E](W,1):W)}$t('"'+yt(g)+'" not defined for '+At(D))}}o(cr,"_unwrapFunctionWithPoly");function Zt(g){return function(y){return y[g]}}o(Zt,"_unwrapProp");var ur=r(F,"min"),ve=r(F,"max"),O=or("slice",P),me=or("substring",P),ye=cr("substr",P,Y);function Y(g,y,T){return X(g)&&$t("Invalid "+At(g)),T<0?s:(y=y||0,y<0&&(y=ve(y+g[A],0)),M(T)?O(g,y):O(g,y,y+T))}o(Y,"polyStrSubstr");function L(g,y){return me(g,0,y)}o(L,"strLeft");var Ie="_urid",Me;function Ct(){if(!Me){var g=hr();Me=g.gblSym=g.gblSym||{k:{},s:{}}}return Me}o(Ct,"_globalSymbolRegistry");var qt;function Ft(g){var y={description:yt(g),toString:o(function(){return h+"("+g+")"},"toString")};return y[p]=!0,y}o(Ft,"polyNewSymbol");function tr(g){var y=Ct();if(!We(y.k,g)){var T=Ft(g),_=et(y.s).length;T[Ie]=function(){return _+"_"+T[v]()},y.k[g]=T,y.s[T[Ie]()]=yt(g)}return y.k[g]}o(tr,"polySymbolFor");function ir(g){!qt&&(qt={});var y,T=Ut[g];return T&&(y=qt[T]=qt[T]||Ft(h+"."+T)),y}o(ir,"polyGetKnownSymbol");var Ot;function vt(){Ot=hr()}o(vt,"_initTestHooks");function sr(g){var y={};return!Ot&&vt(),y.b=Ot.lzy,Ce(y,"v",{configurable:!0,get:o(function(){var T=g();return Ot.lzy||Ce(y,"v",{value:T}),y.b=Ot.lzy,T},"get")}),y}o(sr,"getLazy");function Po(g){return Ce({toJSON:o(function(){return g},"toJSON")},"v",{value:g})}o(Po,"createCachedValue");var Hd="window",tl;function Vd(g,y){var T;return function(){return!Ot&&vt(),(!T||Ot.lzy)&&(T=Po(Z(g,y).v)),T.v}}o(Vd,"_getGlobalInstFn");function Cf(g){return!Ot&&vt(),(!tl||g===!1||Ot.lzy)&&(tl=Po(Z(lr).v||i)),tl.v}o(Cf,"getGlobal");function Qs(g,y){var T;if(!tl||y===!1?T=Cf(y):T=tl.v,T&&T[g])return T[g];if(g===Hd)try{return window}catch{}return i}o(Qs,"getInst");function bh(){return!!kA()}o(bh,"hasDocument");var kA=Vd(Qs,["document"]);function Z6(){return!!jd()}o(Z6,"hasWindow");var jd=Vd(Qs,[Hd]);function NV(){return!!vh()}o(NV,"hasNavigator");var vh=Vd(Qs,["navigator"]),LV=Vd(function(){return!!Z(function(){return process&&(process.versions||{}).node}).v}),bg,e9;function Vx(){return bg=Po(Z(Qs,[h]).v),bg}o(Vx,"_initSymbol");function QV(g){var y=(Ot.lzy?0:bg)||Vx();return y.v?y.v[g]:n}o(QV,"_getSymbolKey");function s0(){return!!Ih()}o(s0,"hasSymbol");function Ih(){return!Ot&&vt(),((Ot.lzy?0:bg)||Vx()).v}o(Ih,"getSymbol");function mC(g,y){var T=Ut[g];!Ot&&vt();var _=(Ot.lzy?0:bg)||Vx();return _.v?_.v[T||g]:y?n:ir(g)}o(mC,"getKnownSymbol");function vg(g,y){!Ot&&vt();var T=(Ot.lzy?0:bg)||Vx();return T.v?T.v(g):y?i:Ft(g)}o(vg,"newSymbol");function hC(g){return!Ot&&vt(),e9=(Ot.lzy?0:e9)||Po(Z(QV,["for"]).v),(e9.v||tr)(g)}o(hC,"symbolFor");function Th(g){return!!g&&Re(g.next)}o(Th,"isIterator");function jx(g){return!ae(g)&&Re(g[mC(3)])}o(jx,"isIterable");var pC;function t9(g,y,T){if(g&&(Th(g)||(!pC&&(pC=Po(mC(3))),g=g[pC.v]?g[pC.v]():i),Th(g))){var _=n,D=n;try{for(var N=0;!(D=g.next()).done&&y[E](T||g,D.value,N,g)!==-1;)N++}catch(W){_={e:W},g.throw&&(D=i,g.throw(_))}finally{try{D&&!D.done&&g.return&&g.return(D)}finally{if(_)throw _.e}}}}o(t9,"iterForOf");function BA(g,y,T){return g.apply(y,T)}o(BA,"fnApply");function RA(g,y){return!M(y)&&g&&(Oe(y)?BA(g.push,g,y):Th(y)||jx(y)?t9(y,function(T){g.push(T)}):g.push(y)),g}o(RA,"arrAppend");function Gr(g,y,T){if(g)for(var _=g[A]>>>0,D=0;D<_&&!(D in g&&y[E](T||g,g[D],D,g)===-1);D++);}o(Gr,"arrForEach");var L0=or("indexOf",ne),Ig=or("map",ne);function DA(g,y,T){return((g?g.slice:i)||ce).apply(g,ce[E](arguments,1))}o(DA,"arrSlice");var MV=or("reduce",ne),wh=t(r(b,"create"),OV);function OV(g){if(!g)return{};var y=typeof g;y!==l&&y!==a&&$t("Prototype must be an Object or function: "+At(g));function T(){}return o(T,"tempFunc"),T[c]=g,new T}o(OV,"polyObjCreate");var r9;function gC(g,y){var T=b.setPrototypeOf||function(_,D){var N;!r9&&(r9=Po((N={},N[u]=[],N instanceof Array))),r9.v?_[u]=D:te(D,function(W,se){return _[W]=se})};return T(g,y)}o(gC,"objSetPrototypeOf");function UV(g,y,T){Z(Ue,[y,x,{v:g,c:!0,e:!1}]),y=gC(y,T);function _(){this[m]=y,Z(Ue,[this,x,{v:g,c:!0,e:!1}])}return o(_,"__"),y[c]=T===i?wh(T):(_[c]=T[c],new _),y}o(UV,"_createCustomError");function AC(g,y){y&&(g[x]=y)}o(AC,"_setName");function ya(g,y,T){var _=T||Error,D=_[c][x],N=Error.captureStackTrace;return UV(g,function(){var W=this,se=arguments;try{Z(AC,[_,g]);var fe=BA(_,W,ce[E](se))||W;if(fe!==W){var xe=Lt(W);xe!==Lt(fe)&&gC(fe,xe)}return N&&N(fe,W[m]),y&&y(fe,se),fe}finally{Z(AC,[_,D])}},_)}o(ya,"createCustomError");function Sh(){return(Date.now||yC)()}o(Sh,"utcNow");function yC(){return new Date().getTime()}o(yC,"polyUtcNow");function Sk(g){return o(function(T){return X(T)&&$t("strTrim called ["+At(T)+"]"),T&&T.replace&&(T=T.replace(g,s)),T},"_doTrim")}o(Sk,"_createTrimFn");var qV=Sk(/^\s+|(?=\s)\s+$/g),Ri=cr("trim",P,qV),Tg=r(F,"floor"),_h,n9,CC;function Q0(g){if(!g||typeof g!==l)return!1;CC||(CC=Z6()?jd():!0);var y=!1;if(g!==CC){n9||(_h=Function[c][v],n9=_h[E](b));try{var T=Lt(g);y=!T,y||(Ae(T,m)&&(T=T[m]),y=!!(T&&typeof T===a&&_h[E](T)===n9))}catch{}}return y}o(Q0,"isPlainObject");function _k(g){return g.value&&$x(g),!0}o(_k,"_defaultDeepCopyHandler");var kk=[PA,$x,Rk,kh];function i9(g,y,T,_){var D;return Gr(g,function(N){if(N.k===y)return D=N,-1}),D||(D={k:y,v:y},g.push(D),_(D)),D.v}o(i9,"_getSetVisited");function wg(g,y,T,_){var D=T.handler,N=T.path?_?T.path.concat(_):T.path:[],W={handler:T.handler,src:T.src,path:N},se=typeof y,fe=!1,xe=y===i;xe||(y&&se===l?fe=Q0(y):xe=le(se));var ke={type:se,isPrim:xe,isPlain:fe,value:y,result:y,path:N,origin:T.src,copy:o(function(qe,Xe){return wg(g,qe,Xe?W:T,Xe)},"copy"),copyTo:o(function(qe,Xe){return o9(g,qe,Xe,W)},"copyTo")};return ke.isPrim?D&&D[E](T,ke)?ke.result:y:i9(g,y,N,function(qe){Ue(ke,"result",{g:o(function(){return qe.v},"g"),s:o(function(ze){qe.v=ze},"s")});for(var Xe=0,Ge=D;!(Ge||(Xe<kk.length?kk[Xe++]:_k))[E](T,ke);)Ge=i})}o(wg,"_deepCopy");function o9(g,y,T,_){if(!X(T))for(var D in T)y[D]=wg(g,T[D],_,D);return y}o(o9,"_copyProps");function Bk(g,y,T){var _={handler:T,src:y,path:[]};return o9([],g,y,_)}o(Bk,"objCopyProps");function s9(g,y){var T={handler:y,src:g};return wg([],g,T)}o(s9,"objDeepCopy");function PA(g){var y=g.value;if(Oe(y)){var T=g.result=[];return T.length=y.length,g.copyTo(T,y),!0}return!1}o(PA,"arrayDeepCopyHandler");function kh(g){var y=g.value;return _e(y)?(g.result=new Date(y.getTime()),!0):!1}o(kh,"dateDeepCopyHandler");function Rk(g){return g.type===a}o(Rk,"functionDeepCopyHandler");function $x(g){var y=g.value;if(y&&g.isPlain){var T=g.result={};return g.copyTo(T,y),!0}return!1}o($x,"plainObjDeepCopyHandler");function a9(g,y){return Gr(y,function(T){Bk(g,T)}),g}o(a9,"_doExtend");function zx(g,y,T,_,D,N,W){return a9(s9(g)||{},ce[E](arguments))}o(zx,"deepExtend");var WV=Zt(A),GV=r(F,"round"),Dk=cr("endsWith",P,HV);function HV(g,y,T){de(g)||$t("'"+At(g)+"' is not a string");var _=de(y)?y:yt(y),D=!M(T)&&T<g[A]?T:g[A];return me(g,D-_[A],D)===_}o(HV,"polyStrEndsWith");var $d=or("indexOf",P),Yx="ref",l9="unref",Kx="hasRef",VV="enabled";function Jx(g,y,T){var _=!0,D=g?y(i):i,N;function W(){return _=!1,D&&D[l9]&&D[l9](),N}o(W,"_unref");function se(){D&&T(D),D=i}o(se,"_cancel");function fe(){return D=y(D),_||W(),N}o(fe,"_refresh");function xe(ke){!ke&&D&&se(),ke&&!D&&fe()}return o(xe,"_setEnabled"),N={cancel:se,refresh:fe},N[Kx]=function(){return D&&D[Kx]?D[Kx]():_},N[Yx]=function(){return _=!0,D&&D[Yx]&&D[Yx](),N},N[l9]=W,N=Ce(N,VV,{get:o(function(){return!!D},"get"),set:xe}),{h:N,dn:o(function(){D=i},"dn")}}o(Jx,"_createTimerHandler");function Xx(g,y,T){var _=Oe(y),D=_?y.length:0,N=(D>0?y[0]:_?n:y)||setTimeout,W=(D>1?y[1]:n)||clearTimeout,se=T[0];T[0]=function(){fe.dn(),BA(se,n,ce[E](arguments))};var fe=Jx(g,function(xe){if(xe){if(xe.refresh)return xe.refresh(),xe;BA(W,n,[xe])}return BA(N,n,T)},function(xe){BA(W,n,[xe])});return fe.h}o(Xx,"_createTimeoutWith");function Bh(g,y){return Xx(!0,n,ce[E](arguments))}o(Bh,"scheduleTimeout");function Zx(g,y){return Xx(!1,n,ce[E](arguments))}o(Zx,"createTimeout");var Sg,mc="constructor",hc="prototype",_g="function",FA="_dynInstFuncs",Rh="_isDynProxy",NA="_dynClass",c9="_dynCls$",kg="_dynInstChk",LA=kg,u9="_dfOpts",eE="_unknown_",QA="__proto__",xC="_dyn"+QA,tE="__dynProto$Gbl",MA="_dynInstProto",OA="useBaseInst",EC="setInstFuncs",Bg=Object,UA=Bg.getPrototypeOf,f9=Bg.getOwnPropertyNames,rE=Cf(),qA=rE[tE]||(rE[tE]={o:(Sg={},Sg[EC]=!0,Sg[OA]=!0,Sg),n:1e3});function WA(g){return g&&(g===Bg[hc]||g===Array[hc])}o(WA,"_isObjectOrArrayPrototype");function zd(g){return WA(g)||g===Function[hc]}o(zd,"_isObjectArrayOrFunctionPrototype");function xf(g){var y;if(g){if(UA)return UA(g);var T=g[QA]||g[hc]||(g[mc]?g[mc][hc]:null);y=g[xC]||T,Ae(g,xC)||(delete g[MA],y=g[xC]=g[MA]||g[xC],g[MA]=T)}return y}o(xf,"_getObjProto");function GA(g,y){var T=[];if(f9)T=f9(g);else for(var _ in g)typeof _=="string"&&Ae(g,_)&&T.push(_);if(T&&T.length>0)for(var D=0;D<T.length;D++)y(T[D])}o(GA,"_forEachProp");function HA(g,y,T){return y!==mc&&typeof g[y]===_g&&(T||Ae(g,y))&&y!==QA&&y!==hc}o(HA,"_isDynamicCandidate");function nE(g){$t("DynamicProto: "+g)}o(nE,"_throwTypeError");function d9(g){var y=wh(null);return GA(g,function(T){!y[T]&&HA(g,T,!1)&&(y[T]=g[T])}),y}o(d9,"_getInstanceFuncs");function m9(g,y){for(var T=g.length-1;T>=0;T--)if(g[T]===y)return!0;return!1}o(m9,"_hasVisited");function jV(g,y,T,_){function D(fe,xe,ke){var qe=xe[ke];if(qe[Rh]&&_){var Xe=fe[FA]||{};Xe[LA]!==!1&&(qe=(Xe[xe[NA]]||{})[ke]||qe)}return function(){return qe.apply(fe,arguments)}}o(D,"_instFuncProxy");var N=wh(null);GA(T,function(fe){N[fe]=D(y,T,fe)});for(var W=xf(g),se=[];W&&!zd(W)&&!m9(se,W);)GA(W,function(fe){!N[fe]&&HA(W,fe,!UA)&&(N[fe]=D(y,W,fe))}),se.push(W),W=xf(W);return N}o(jV,"_getBaseFuncs");function $V(g,y,T,_){var D=null;if(g&&Ae(T,NA)){var N=g[FA]||wh(null);if(D=(N[T[NA]]||wh(null))[y],D||nE("Missing ["+y+"] "+_g),!D[kg]&&N[LA]!==!1){for(var W=!Ae(g,y),se=xf(g),fe=[];W&&se&&!zd(se)&&!m9(fe,se);){var xe=se[y];if(xe){W=xe===_;break}fe.push(se),se=xf(se)}try{W&&(g[y]=D),D[kg]=1}catch{N[LA]=!1}}}return D}o($V,"_getInstFunc");function zV(g,y,T){var _=y[g];return _===T&&(_=xf(y)[g]),typeof _!==_g&&nE("["+g+"] is not a "+_g),_}o(zV,"_getProtoFunc");function YV(g,y,T,_,D){function N(fe,xe){var ke=o(function(){var qe=$V(this,xe,fe,ke)||zV(xe,fe,ke);return qe.apply(this,arguments)},"dynProtoProxy");return ke[Rh]=1,ke}if(o(N,"_createDynamicPrototype"),!WA(g)){var W=T[FA]=T[FA]||wh(null);if(!WA(W)){var se=W[y]=W[y]||wh(null);W[LA]!==!1&&(W[LA]=!!D),WA(se)||GA(T,function(fe){HA(T,fe,!1)&&T[fe]!==_[fe]&&(se[fe]=T[fe],delete T[fe],(!Ae(g,fe)||g[fe]&&!g[fe][Rh])&&(g[fe]=N(g,fe)))})}}}o(YV,"_populatePrototype");function h9(g,y){if(UA){for(var T=[],_=xf(y);_&&!zd(_)&&!m9(T,_);){if(_===g)return!0;T.push(_),_=xf(_)}return!1}return!0}o(h9,"_checkPrototype");function bC(g,y){return Ae(g,hc)?g.name||y||eE:((g||{})[mc]||{}).name||y||eE}o(bC,"_getObjName");function Rl(g,y,T,_){Ae(g,hc)||nE("theClass is an invalid class definition.");var D=g[hc];h9(D,y)||nE("["+bC(g)+"] not in hierarchy of ["+bC(y)+"]");var N=null;Ae(D,NA)?N=D[NA]:(N=c9+bC(g,"_")+"$"+qA.n,qA.n++,D[NA]=N);var W=Rl[u9],se=!!W[OA];se&&_&&_[OA]!==void 0&&(se=!!_[OA]);var fe=d9(y),xe=jV(D,y,fe,se);T(y,xe);var ke=!!UA&&!!W[EC];ke&&_&&(ke=!!_[EC]),YV(D,N,y,fe,ke!==!1)}o(Rl,"dynamicProto"),Rl[u9]=qA.o;var Ts="function",Pk="object",Fk="undefined",vC="prototype",p9=Object,g9=p9[vC];(Cf()||{}).Symbol,(Cf()||{}).Reflect;var iE="hasOwnProperty",Nk=o(function(g){for(var y,T=1,_=arguments.length;T<_;T++){y=arguments[T];for(var D in y)g9[iE].call(y,D)&&(g[D]=y[D])}return g},"__objAssignFnImpl"),Yd=Ke||Nk,Dh=o(function(g,y){return Dh=p9.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,_){T.__proto__=_}||function(T,_){for(var D in _)_[iE](D)&&(T[D]=_[D])},Dh(g,y)},"extendStaticsFn");function IC(g,y){typeof y!==Ts&&y!==null&&$t("Class extends value "+String(y)+" is not a constructor or null"),Dh(g,y);function T(){this.constructor=g}o(T,"__"),g[vC]=y===null?wh(y):(T[vC]=y[vC],new T)}o(IC,"__extendsFn");function Lk(g,y){for(var T=0,_=y.length,D=g.length;T<_;T++,D++)g[D]=y[T];return g}o(Lk,"__spreadArrayFn");var oE=Mt,KV=wt,Ph=oE({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2}),VA="toLowerCase",Ln="length",jA="warnToConsole",Rg="throwInternal",Kd="watch",sE="apply",Di="push",$A="splice",ea="logger",zA="cancel",TC="initialize",Fh="identifier",wC="removeNotificationListener",aE="addNotificationListener",Ef="isInitialized",YA="value",uu="getNotifyMgr",KA="getPlugin",Nh="name",rl="processNext",JA="getProcessTelContext",bf="enabled",Qk="stopPollingInternalLogs",Dg="unload",lE="onComplete",XA="version",Mk="loggingLevelConsole",Pg="createNew",vf="teardown",cE="messageId",Fg="message",If="diagLog",uE="_doTeardown",Jd="update",Tf="getNext",Lh="setNextPlugin",fE="userAgent",Qh="split",Mh="replace",Dl="type",A9="evtName",SC="status",y9="getAllResponseHeaders",C9="isChildEvt",ZA="data",Oh="getCtx",fu="setCtx",Ok="itemsReceived",Xd="urlString",x9="headers",Zd="timeout",Uk="traceFlags",e2;function E9(g,y){e2||(e2=ya("AggregationError",function(_,D){D[Ln]>1&&(_.errors=D[1])}));var T=g||"One or more errors occurred.";throw Gr(y,function(_,D){T+=`
`.concat(D," > ").concat(At(_))}),new e2(T,y||[])}o(E9,"throwAggregationError");var Ng="Promise",Lg="rejected";function pc(g,y){return qk(g,function(T){return y?y({status:"fulfilled",rejected:!1,value:T}):T},function(T){return y?y({status:Lg,rejected:!0,reason:T}):T})}o(pc,"doAwaitResponse");function qk(g,y,T,_){var D=g;try{if(at(g))(y||T)&&(D=g.then(y,T));else try{y&&(D=y(g))}catch(N){if(T)D=T(N);else throw N}}finally{_&&JV(D,_)}return D}o(qk,"doAwait");function JV(g,y){var T=g;return y&&(at(g)?g.finally?T=g.finally(y):T=g.then(function(_){return y(),_},function(_){throw y(),_}):y()),T}o(JV,"doFinally");var Wk=["pending","resolving","resolved",Lg],Gk="dispatchEvent",_C;function Hk(g){var y;return g&&g.createEvent&&(y=g.createEvent("Event")),!!y&&y.initEvent}o(Hk,"_hasInitEventFn");function dE(g,y,T,_){var D=kA();!_C&&(_C=Po(!!Z(Hk,[D]).v));var N=_C.v?D.createEvent("Event"):_?new Event(y):{};if(T&&T(N),_C.v&&N.initEvent(y,!1,!0),N&&g[Gk])g[Gk](N);else{var W=g["on"+y];if(W)W(N);else{var se=Qs("console");se&&(se.error||se.log)(y,At(N))}}}o(dE,"emitEvent");var Vk="unhandledRejection",XV=Vk.toLowerCase(),t2=10,mE;function jk(g){return Re(g)?g.toString():At(g)}o(jk,"dumpFnObj");function $k(g,y,T){var _=DA(arguments,3),D=0,N=!1,W,se=[],fe=!1,xe=null,ke;function qe(fr,wr){try{fe=!0,xe&&xe.cancel(),xe=null;var Pn=g(function(ui,fi){se.push(function(){try{var ro=D===2?fr:wr,sn=M(ro)?W:Re(ro)?ro(W):ro;at(sn)?sn.then(ui,fi):ro?ui(sn):D===3?fi(sn):ui(sn)}catch(Or){fi(Or)}}),N&&ht()},_);return Pn}finally{}}o(qe,"_then");function Xe(fr){return qe(void 0,fr)}o(Xe,"_catch");function Ge(fr){var wr=fr,Pn=fr;return Re(fr)&&(wr=o(function(ui){return fr&&fr(),ui},"thenFinally"),Pn=o(function(ui){throw fr&&fr(),ui},"catchFinally")),qe(wr,Pn)}o(Ge,"_finally");function ze(){return Wk[D]}o(ze,"_strState");function ht(){if(se.length>0){var fr=se.slice();se=[],fe=!0,xe&&xe.cancel(),xe=null,y(fr)}}o(ht,"_processQueue");function lt(fr,wr){return function(Pn){if(D===wr){if(fr===2&&at(Pn)){D=1,Pn.then(lt(2,1),lt(3,1));return}D=fr,N=!0,W=Pn,ht(),!fe&&fr===3&&!xe&&(xe=Bh(It,t2))}}}o(lt,"_createSettleIfFn");function It(){if(!fe)if(fe=!0,LV())process.emit(Vk,W,ke);else{var fr=jd()||Cf();!mE&&(mE=Po(Z(Qs,[Ng+"RejectionEvent"]).v)),dE(fr,XV,function(wr){return Ue(wr,"promise",{g:o(function(){return ke},"g")}),wr.reason=W,wr},!!mE.v)}}o(It,"_notifyUnhandledRejection"),ke={then:qe,catch:Xe,finally:Ge},Ce(ke,"state",{get:ze}),s0()&&(ke[mC(11)]="IPromise");function jt(){return"IPromise "+ze()+(N?" - "+jk(W):"")}return o(jt,"_toString"),ke.toString=jt,o(function(){Re(T)||$t(Ng+": executor is not a function - "+jk(T));var wr=lt(3,0);try{T.call(ke,lt(2,0),wr)}catch(Pn){wr(Pn)}},"_initialize")(),ke}o($k,"_createPromise");function ZV(g){return function(y){var T=DA(arguments,1);return g(function(_,D){try{var N=[],W=1;t9(y,function(se,fe){se&&(W++,qk(se,function(xe){N[fe]=xe,--W===0&&_(N)},D))}),W--,W===0&&_(N)}catch(se){D(se)}},T)}}o(ZV,"_createAllPromise");function ej(g){return Po(function(y){var T=DA(arguments,1);return g(function(_,D){var N=[],W=1;function se(fe,xe){W++,pc(fe,function(ke){ke.rejected?N[xe]={status:Lg,reason:ke.reason}:N[xe]={status:"fulfilled",value:ke.value},--W===0&&_(N)})}o(se,"processItem");try{Oe(y)?Gr(y,se):jx(y)?t9(y,se):$t("Input is not an iterable"),W--,W===0&&_(N)}catch(fe){D(fe)}},T)})}o(ej,"_createAllSettledPromise");function zk(g){Gr(g,function(y){try{y()}catch{}})}o(zk,"syncItemProcessor");function Yk(g){var y=Je(g)?g:0;return function(T){Bh(function(){zk(T)},y)}}o(Yk,"timeoutItemProcessor");function hE(g,y){return $k(hE,Yk(y),g,y)}o(hE,"createAsyncPromise");var pE;function tj(g,y){!pE&&(pE=Po(Z(Qs,[Ng]).v||null));var T=pE.v;if(!T)return hE(g);Re(g)||$t(Ng+": executor is not a function - "+At(g));var _=0;function D(){return Wk[_]}o(D,"_strState");var N=new T(function(W,se){function fe(ke){_=2,W(ke)}o(fe,"_resolve");function xe(ke){_=3,se(ke)}o(xe,"_reject"),g(fe,xe)});return Ce(N,"state",{get:D}),N}o(tj,"createNativePromise");var gE;function AE(g){return $k(AE,zk,g)}o(AE,"createSyncPromise");function M0(g,y){return!gE&&(gE=ej(AE)),gE.v(g,y)}o(M0,"createSyncAllSettledPromise");var yE;function r2(g,y){return!yE&&(yE=Po(tj)),yE.v.call(this,g,y)}o(r2,"createPromise");var b9=ZV(r2),gc=void 0,ii="",em="channels",ta="core",du="createPerfMgr",CE="disabled",Qg="extensionConfig",n2="extensions",Ac="processTelemetry",i2="priority",o2="eventsSent",s2="eventsDiscarded",xE="eventsSendRequest",Mg="perfEvent",v9="offlineEventsStored",I9="offlineBatchSent",EE="offlineBatchDrop",kC="getPerfMgr",bE="domain",vE="path",Kk="Not dynamic - ",T9=/-([a-z])/g,rj=/([^\w\d_$])/g,nj=/^(\d+[\w\d_$])/;function IE(g){return!X(g)}o(IE,"isNotNullOrUndefined");function a2(g){var y=g;return y&&de(y)&&(y=y[Mh](T9,function(T,_){return _.toUpperCase()}),y=y[Mh](rj,"_"),y=y[Mh](nj,function(T,_){return"_"+_})),y}o(a2,"normalizeJsName");function nl(g,y){return g&&y?$d(g,y)!==-1:!1}o(nl,"strContains");function BC(g){return g&&g.toISOString()||""}o(BC,"toISOString");function Ha(g){return ot(g)?g[Nh]:ii}o(Ha,"getExceptionName");function Uh(g,y,T,_,D){var N=T;return g&&(N=g[y],N!==T&&(!D||D(N))&&(!_||_(T))&&(N=T,g[y]=N)),N}o(Uh,"setValue");function Jk(g,y,T){var _;return g?(_=g[y],!_&&X(_)&&(_=M(T)?{}:T,g[y]=_)):_=M(T)?{}:T,_}o(Jk,"getSetValue");function ij(g,y){var T=null,_=null;return Re(g)?T=g:_=g,function(){var D=arguments;if(T&&(_=T()),_)return _[y][sE](_,D)}}o(ij,"_createProxyFunction");function RC(g,y,T,_,D){g&&y&&T&&(D!==!1||M(g[y]))&&(g[y]=ij(T,_))}o(RC,"proxyFunctionAs");function w9(g,y,T,_){return g&&y&&Ee(g)&&Oe(T)&&Gr(T,function(D){de(D)&&RC(g,D,y,D,_)}),g}o(w9,"proxyFunctions");function oj(g){return function(){function y(){var T=this;g&&te(g,function(_,D){T[_]=D})}return o(y,"class_1"),y}()}o(oj,"createClassFromInterface");function S9(g){return g&&Ke&&(g=p9(Ke({},g))),g}o(S9,"optimizeObject");function Xk(g,y,T,_,D,N){var W=arguments,se=W[0]||{},fe=W[Ln],xe=!1,ke=1;for(fe>0&&ut(se)&&(xe=se,se=W[ke]||{},ke++),Ee(se)||(se={});ke<fe;ke++){var qe=W[ke],Xe=Oe(qe),Ge=Ee(qe);for(var ze in qe){var ht=Xe&&ze in qe||Ge&&We(qe,ze);if(ht){var lt=qe[ze],It=void 0;if(xe&&lt&&((It=Oe(lt))||Q0(lt))){var jt=se[ze];It?Oe(jt)||(jt=[]):Q0(jt)||(jt={}),lt=Xk(xe,jt,lt)}lt!==void 0&&(se[ze]=lt)}}}return se}o(Xk,"objExtend");function TE(g){try{return g.responseText}catch{}return null}o(TE,"getResponseText");function Zk(g,y){return g?"XDomainRequest,Response:"+TE(g)||"":y}o(Zk,"formatErrorMessageXdr");function wE(g,y){return g?"XMLHttpRequest,Status:"+g[SC]+",Response:"+TE(g)||g.response||"":y}o(wE,"formatErrorMessageXhr");function eB(g,y){return y&&(Je(y)?g=[y].concat(g):Oe(y)&&(g=y.concat(g))),g}o(eB,"prependTransports");var _9="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",DC="withCredentials",wf="timeout";function k9(g,y,T,_,D,N){_===void 0&&(_=!1),D===void 0&&(D=!1);function W(fe,xe,ke){try{fe[xe]=ke}catch{}}o(W,"_wrapSetXhrProp");var se=new XMLHttpRequest;return _&&W(se,_9,_),T&&W(se,DC,T),se.open(g,y,!D),T&&W(se,DC,T),!D&&N&&W(se,wf,N),se}o(k9,"openXhr");function tB(g){var y={};if(de(g)){var T=Ri(g)[Qh](/[\r\n]+/);Gr(T,function(_){if(_){var D=_.indexOf(": ");if(D!==-1){var N=Ri(_.substring(0,D))[VA](),W=Ri(_.substring(D+1));y[N]=W}else y[Ri(_)]=1}})}return y}o(tB,"convertAllHeadersToMap");function qh(g,y,T){if(!g[T]&&y&&y.getResponseHeader){var _=y.getResponseHeader(T);_&&(g[T]=Ri(_))}return g}o(qh,"_appendHeader");var gn="kill-duration",l2="kill-duration-seconds",Og="time-delta-millis";function Ug(g,y){var T={};return g[y9]?T=tB(g[y9]()):y&&(T=qh(T,g,Og),T=qh(T,g,gn),T=qh(T,g,l2)),T}o(Ug,"_getAllResponseHeaders");var B9="documentMode",PC="location",c2="console",SE="JSON",R9="crypto",_E="msCrypto",u2="msie",qg="trident/",D9="XMLHttpRequest",yc=null,f2=null,Sf=!1,a0=null,d2=null;function FC(g,y){var T=!1;if(g){try{if(T=y in g,!T){var _=g[vC];_&&(T=y in _)}}catch{}if(!T)try{var D=new g;T=!M(D[y])}catch{}}return T}o(FC,"_hasProperty");function m2(g){if(g&&Sf){var y=Qs("__mockLocation");if(y)return y}return typeof location===Pk&&location?location:Qs(PC)}o(m2,"getLocation");function NC(){return typeof console!==Fk?console:Qs(c2)}o(NC,"getConsole");function h2(){return!!(typeof JSON===Pk&&JSON||Qs(SE)!==null)}o(h2,"hasJSON");function O0(){return h2()?JSON||Qs(SE):null}o(O0,"getJSON");function kE(){return Qs(R9)}o(kE,"getCrypto");function BE(){return Qs(_E)}o(BE,"getMsCrypto");function mu(){var g=vh();if(g&&(g[fE]!==f2||yc===null)){f2=g[fE];var y=(f2||ii)[VA]();yc=nl(y,u2)||nl(y,qg)}return yc}o(mu,"isIE");function p2(g){if(g===void 0&&(g=null),!g){var y=vh()||{};g=y?(y.userAgent||ii)[VA]():ii}var T=(g||ii)[VA]();if(nl(T,u2)){var _=kA()||{};return ve(parseInt(T[Qh](u2)[1]),_[B9]||0)}else if(nl(T,qg)){var D=parseInt(T[Qh](qg)[1]);if(D)return D+4}return null}o(p2,"getIEVersion");function Wh(g){return(d2===null||g===!1)&&(d2=NV()&&!!vh().sendBeacon),d2}o(Wh,"isBeaconsSupported");function LC(g){var y=!1;try{y=!!Qs("fetch");var T=Qs("Request");y&&g&&T&&(y=FC(T,"keepalive"))}catch{}return y}o(LC,"isFetchSupported");function P9(){return a0===null&&(a0=typeof XDomainRequest!==Fk,a0&&F9()&&(a0=a0&&!FC(Qs(D9),"withCredentials"))),a0}o(P9,"useXDomainRequest");function F9(){var g=!1;try{var y=Qs(D9);g=!!y}catch{}return g}o(F9,"isXhrSupported");var Va=4294967296,_f=4294967295,RE=123456789,N9=987654321,tm=!1,Cc=RE,g2=N9;function L9(g){g<0&&(g>>>=0),Cc=RE+g&_f,g2=N9-g&_f,tm=!0}o(L9,"_mwcSeed");function rB(){try{var g=Sh()&2147483647;L9((Math.random()*Va^g)+g)}catch{}}o(rB,"_autoSeedMwc");function Q9(g){var y=0,T=kE()||BE();return T&&T.getRandomValues&&(y=T.getRandomValues(new Uint32Array(1))[0]&_f),y===0&&mu()&&(tm||rB(),y=nB()&_f),y===0&&(y=Tg(Va*Math.random()|0)),g||(y>>>=0),y}o(Q9,"random32");function nB(g){g2=36969*(g2&65535)+(g2>>16)&_f,Cc=18e3*(Cc&65535)+(Cc>>16)&_f;var y=(g2<<16)+(Cc&65535)>>>0&_f|0;return g||(y>>>=0),y}o(nB,"mwcRandom32");function sj(g){g===void 0&&(g=22);for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=Q9()>>>0,_=0,D=ii;D[Ln]<g;)_++,D+=y.charAt(T&63),T>>>=6,_===5&&(T=(Q9()<<2&4294967295|T&3)>>>0,_=0);return D}o(sj,"newId");var A2="3.3.6",aj="."+sj(6),lj=0;function iB(g){return g.nodeType===1||g.nodeType===9||!+g.nodeType}o(iB,"_canAcceptData");function oB(g,y){var T=y[g.id];if(!T){T={};try{iB(y)&&Ue(y,g.id,{e:!1,v:T})}catch{}}return T}o(oB,"_getCache");function rm(g,y){return y===void 0&&(y=!1),a2(g+lj+++(y?"."+A2:ii)+aj)}o(rm,"createUniqueNamespace");function sB(g){var y={id:rm("_aiData-"+(g||ii)+"."+A2),accept:o(function(T){return iB(T)},"accept"),get:o(function(T,_,D,N){var W=T[y.id];return W?W[a2(_)]:(N&&(W=oB(y,T),W[a2(_)]=D),D)},"get"),kill:o(function(T,_){if(T&&T[_])try{delete T[_]}catch{}},"kill")};return y}o(sB,"createElmNodeData");function y2(g){return g&&Ee(g)&&(g.isVal||g.fb||We(g,"v")||We(g,"mrg")||We(g,"ref")||g.set)}o(y2,"_isConfigDefaults");function aB(g,y,T){var _,D=T.dfVal||re;if(y&&T.fb){var N=T.fb;Oe(N)||(N=[N]);for(var W=0;W<N[Ln];W++){var se=N[W],fe=y[se];if(D(fe)?_=fe:g&&(fe=g.cfg[se],D(fe)&&(_=fe),g.set(g.cfg,yt(se),fe)),D(_))break}}return!D(_)&&D(T.v)&&(_=T.v),_}o(aB,"_getDefault");function M9(g,y,T){var _=T;if(T&&y2(T)&&(_=aB(g,y,T)),_){y2(_)&&(_=M9(g,y,_));var D;Oe(_)?(D=[],D[Ln]=_[Ln]):Q0(_)&&(D={}),D&&(te(_,function(N,W){W&&y2(W)&&(W=M9(g,y,W)),D[N]=W}),_=D)}return _}o(M9,"_resolveDefaultValue");function O9(g,y,T,_){var D,N,W,se=_,fe,xe,ke,qe;y2(se)?(D=se.isVal,N=se.set,ke=se.rdOnly,qe=se.blkVal,fe=se.mrg,xe=se.ref,!xe&&M(xe)&&(xe=!!fe),W=aB(g,y,se)):W=_,qe&&g.blkVal(y,T);var Xe,Ge=!0,ze=y[T];(ze||!X(ze))&&(Xe=ze,Ge=!1,D&&Xe!==W&&!D(Xe)&&(Xe=W,Ge=!0),N&&(Xe=N(Xe,W,y),Ge=Xe===W)),Ge?W?Xe=M9(g,y,W):Xe=W:(Q0(Xe)||Oe(W))&&fe&&W&&(Q0(W)||Oe(W))&&te(W,function(ht,lt){O9(g,Xe,ht,lt)}),g.set(y,T,Xe),xe&&g.ref(y,T),ke&&g.rdOnly(y,T)}o(O9,"_applyDefaultValue");var Gh=hC("[[ai_dynCfg_1]]"),lB=hC("[[ai_blkDynCfg_1]]"),cB=hC("[[ai_frcDynCfg_1]]");function uB(g){if(g){var y;if(Oe(g)?(y=[],y[Ln]=g[Ln]):Q0(g)&&(y={}),y)return te(g,function(T,_){y[T]=uB(_)}),y}return g}o(uB,"_cfgDeepCopy");function cj(g){if(g){var y=g[Gh]||g;if(y.cfg&&(y.cfg===g||y.cfg[Gh]===y))return y}return null}o(cj,"getDynamicConfigHandler");function uj(g){if(g&&(Q0(g)||Oe(g)))try{g[lB]=!0}catch{}return g}o(uj,"blockDynamicConversion");function U9(g,y,T){var _=!1;return T&&!g[y.blkVal]&&(_=T[cB],!_&&!T[lB]&&(_=Q0(T)||Oe(T))),_}o(U9,"_canMakeDynamic");function C2(g){$t("InvalidAccess:"+g)}o(C2,"throwInvalidAccess");var fj=["push","pop","shift","unshift","splice"],QC=o(function(g,y,T,_){g&&g[Rg](3,108,"".concat(T," [").concat(y,"] failed - ")+At(_))},"_throwDynamicError");function Hh(g,y,T){Oe(y)&&Gr(fj,function(_){var D=y[_];y[_]=function(){for(var N=[],W=0;W<arguments.length;W++)N[W]=arguments[W];var se=D[sE](this,N);return b2(g,y,T,"Patching"),se}})}o(Hh,"_patchArray");function hu(g,y){var T=Pe(g,y);return T&&T.get}o(hu,"_getOwnPropGetter");function fB(g,y,T,_){var D={n:T,h:[],trk:o(function(xe){xe&&xe.fn&&(L0(D.h,xe)===-1&&D.h[Di](xe),g.trk(xe,D))},"trk"),clr:o(function(xe){var ke=L0(D.h,xe);ke!==-1&&D.h[$A](ke,1)},"clr")},N=!0,W=!1;function se(){N&&(W=W||U9(se,g,_),_&&!_[Gh]&&W&&(_=b2(g,_,T,"Converting")),N=!1);var xe=g.act;return xe&&D.trk(xe),_}o(se,"_getProperty"),se[g.prop]={chng:o(function(){g.add(D)},"chng")};function fe(xe){if(_!==xe){se[g.ro]&&!g.upd&&C2("["+T+"] is read-only:"+At(y)),N&&(W=W||U9(se,g,_),N=!1);var ke=W&&se[g.rf];if(W)if(ke){te(_,function(Xe){_[Xe]=xe?xe[Xe]:gc});try{te(xe,function(Xe,Ge){x2(g,_,Xe,Ge)}),xe=_}catch(Xe){QC((g.hdlr||{})[ea],T,"Assigning",Xe),W=!1}}else _&&_[Gh]&&te(_,function(Xe){var Ge=hu(_,Xe);if(Ge){var ze=Ge[g.prop];ze&&ze.chng()}});if(xe!==_){var qe=xe&&U9(se,g,xe);!ke&&qe&&(xe=b2(g,xe,T,"Converting")),_=xe,W=qe}g.add(D)}}o(fe,"_setProperty"),Ue(y,D.n,{g:se,s:fe})}o(fB,"_createDynamicProperty");function x2(g,y,T,_){if(y){var D=hu(y,T),N=D&&!!D[g.prop];N?y[T]=_:fB(g,y,T,_)}return y}o(x2,"_setDynamicProperty");function E2(g,y,T,_){if(y){var D=hu(y,T),N=D&&!!D[g.prop],W=_&&_[0],se=_&&_[1],fe=_&&_[2];if(!N){if(fe)try{uj(y)}catch(xe){QC((g.hdlr||{})[ea],T,"Blocking",xe)}try{x2(g,y,T,y[T]),D=hu(y,T)}catch(xe){QC((g.hdlr||{})[ea],T,"State",xe)}}W&&(D[g.rf]=W),se&&(D[g.ro]=se),fe&&(D[g.blkVal]=!0)}return y}o(E2,"_setDynamicPropertyState");function b2(g,y,T,_){try{te(y,function(D,N){x2(g,y,D,N)}),y[Gh]||(Ce(y,Gh,{get:o(function(){return g.hdlr},"get")}),Hh(g,y,T))}catch(D){QC((g.hdlr||{})[ea],T,_,D)}return y}o(b2,"_makeDynamicObject");var MC="[[ai_",OC="]]";function dj(g){var y=vg(MC+"get"+g.uid+OC),T=vg(MC+"ro"+g.uid+OC),_=vg(MC+"rf"+g.uid+OC),D=vg(MC+"blkVal"+g.uid+OC),N=vg(MC+"dtl"+g.uid+OC),W=null,se=null,fe;function xe(Ge,ze){var ht=fe.act;try{fe.act=Ge,Ge&&Ge[N]&&(Gr(Ge[N],function(It){It.clr(Ge)}),Ge[N]=[]),ze({cfg:g.cfg,set:g.set.bind(g),setDf:g.setDf.bind(g),ref:g.ref.bind(g),rdOnly:g.rdOnly.bind(g)})}catch(It){var lt=g[ea];throw lt&&lt[Rg](1,107,At(It)),It}finally{fe.act=ht||null}}o(xe,"_useHandler");function ke(){if(W){var Ge=W;W=null,se&&se[zA](),se=null;var ze=[];if(Gr(Ge,function(ht){if(ht&&(ht[N]&&(Gr(ht[N],function(lt){lt.clr(ht)}),ht[N]=null),ht.fn))try{xe(ht,ht.fn)}catch(lt){ze[Di](lt)}}),W)try{ke()}catch(ht){ze[Di](ht)}ze[Ln]>0&&E9("Watcher error(s): ",ze)}}o(ke,"_notifyWatchers");function qe(Ge){if(Ge&&Ge.h[Ln]>0){W||(W=[]),se||(se=Bh(function(){se=null,ke()},0));for(var ze=0;ze<Ge.h[Ln];ze++){var ht=Ge.h[ze];ht&&L0(W,ht)===-1&&W[Di](ht)}}}o(qe,"_addWatcher");function Xe(Ge,ze){if(Ge){var ht=Ge[N]=Ge[N]||[];L0(ht,ze)===-1&&ht[Di](ze)}}return o(Xe,"_trackHandler"),fe={prop:y,ro:T,rf:_,blkVal:D,hdlr:g,add:qe,notify:ke,use:xe,trk:Xe},fe}o(dj,"_createState");function DE(g,y){var T={fn:y,rm:o(function(){T.fn=null,g=null,y=null},"rm")};return Ue(T,"toJSON",{v:o(function(){return"WatcherHandler"+(T.fn?"":"[X]")},"v")}),g.use(T,y),T}o(DE,"_createAndUseHandler");function dB(g,y,T){var _=cj(y);if(_)return _;var D=rm("dyncfg",!0),N=y&&T!==!1?y:uB(y),W;function se(){W.notify()}o(se,"_notifyWatchers");function fe(lt,It,jt){try{lt=x2(W,lt,It,jt)}catch(fr){QC(g,It,"Setting value",fr)}return lt[It]}o(fe,"_setValue");function xe(lt){return DE(W,lt)}o(xe,"_watch");function ke(lt,It){W.use(null,function(jt){var fr=W.upd;try{M(It)||(W.upd=It),lt(jt)}finally{W.upd=fr}})}o(ke,"_block");function qe(lt,It){var jt;return E2(W,lt,It,(jt={},jt[0]=!0,jt))[It]}o(qe,"_ref");function Xe(lt,It){var jt;return E2(W,lt,It,(jt={},jt[1]=!0,jt))[It]}o(Xe,"_rdOnly");function Ge(lt,It){var jt;return E2(W,lt,It,(jt={},jt[2]=!0,jt))[It]}o(Ge,"_blkPropValue");function ze(lt,It){return It&&te(It,function(jt,fr){O9(ht,lt,jt,fr)}),lt}o(ze,"_applyDefaults");var ht={uid:null,cfg:N,logger:g,notify:se,set:fe,setDf:ze,watch:xe,ref:qe,rdOnly:Xe,blkVal:Ge,_block:ke};return Ue(ht,"uid",{c:!1,e:!1,w:!1,v:D}),W=dj(ht),b2(W,N,"config","Creating"),ht}o(dB,"_createDynamicHandler");function mB(g,y){g?(g[jA](y),g[Rg](2,108,y)):C2(y)}o(mB,"_logInvalidAccess");function xc(g,y,T,_){var D=dB(T,g||{},_);return y&&D.setDf(D.cfg,y),D}o(xc,"createDynamicConfig");function nm(g,y,T){var _=g[Gh]||g;return _.cfg&&(_.cfg===g||_.cfg[Gh]===_)?_[Kd](y):(mB(T,Kk+At(g)),xc(g,null,T)[Kd](y))}o(nm,"onConfigChange");function v2(g,y){if(g&&g[Dg])return g[Dg](y)}o(v2,"runTargetUnload");function hB(g,y,T){var _;return T||(_=r2(function(D){T=D})),g&&WV(g)>0?pc(v2(g[0],y),function(){hB(DA(g,1),y,T)}):T(),_}o(hB,"doUnloadAll");var mj=500,pB="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";function hj(g,y,T){return!g&&X(g)?y:ut(g)?g:yt(g)[VA]()==="true"}o(hj,"_stringToBoolOrDefault");function pj(g){return{mrg:!0,v:g}}o(pj,"cfgDfMerge");function q9(g,y,T){return{fb:T,isVal:g,v:y}}o(q9,"cfgDfValidate");function kf(g,y){return{fb:y,set:hj,v:!!g}}o(kf,"cfgDfBoolean");var PE=[o2,s2,xE,Mg],FE=null,NE;function gj(g,y){return function(){var T=arguments,_=gB(y);if(_){var D=_.listener;D&&D[g]&&D[g][sE](D,T)}}}o(gj,"_listenerProxyFunc");function Aj(){var g=Qs("Microsoft");return g&&(FE=g.ApplicationInsights),FE}o(Aj,"_getExtensionNamespace");function gB(g){var y=FE;return!y&&g.disableDbgExt!==!0&&(y=FE||Aj()),y?y.ChromeDbgExt:null}o(gB,"getDebugExt");function yj(g){if(!NE){NE={};for(var y=0;y<PE[Ln];y++)NE[PE[y]]=gj(PE[y],g)}return NE}o(yj,"getDebugListener");var I2,AB="warnToConsole",Cj="AI (Internal): ",xj="AI: ",Ej="AITR_",yB={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},T2=(I2={},I2[0]=null,I2[1]="errorToConsole",I2[2]=AB,I2[3]="debugToConsole",I2);function U0(g){return g?'"'+g[Mh](/\"/g,ii)+'"':ii}o(U0,"_sanitizeDiagnosticText");function UC(g,y){var T=NC();if(T){var _="log";T[g]&&(_=g),Re(T[_])&&T[_](y)}}o(UC,"_logToConsole");var LE=function(){function g(y,T,_,D){_===void 0&&(_=!1);var N=this;N[cE]=y,N[Fg]=(_?xj:Cj)+y;var W=ii;h2()&&(W=O0().stringify(D));var se=(T?" message:"+U0(T):ii)+(D?" props:"+U0(W):ii);N[Fg]+=se}return o(g,"_InternalLogMessage"),g.dataType="MessageData",g}();function qC(g,y){return(g||{})[ea]||new WC(y)}o(qC,"safeGetLogger");var WC=function(){function g(y){this.identifier="DiagnosticLogger",this.queue=[];var T=0,_={},D,N,W,se,fe;Rl(g,this,function(xe){fe=qe(y||{}),xe.consoleLoggingLevel=function(){return D},xe[Rg]=function(ze,ht,lt,It,jt){jt===void 0&&(jt=!1);var fr=new LE(ht,lt,jt,It);if(se)throw At(fr);var wr=T2[ze]||AB;if(M(fr[Fg]))Ge("throw"+(ze===1?"Critical":"Warning"),fr);else{if(jt){var Pn=+fr[cE];!_[Pn]&&D>=ze&&(xe[wr](fr[Fg]),_[Pn]=!0)}else D>=ze&&xe[wr](fr[Fg]);ke(ze,fr)}},xe.debugToConsole=function(ze){UC("debug",ze),Ge("warning",ze)},xe[jA]=function(ze){UC("warn",ze),Ge("warning",ze)},xe.errorToConsole=function(ze){UC("error",ze),Ge("error",ze)},xe.resetInternalMessageCount=function(){T=0,_={}},xe.logInternalMessage=ke,xe[Dg]=function(ze){fe&&fe.rm(),fe=null};function ke(ze,ht){if(!Xe()){var lt=!0,It=Ej+ht[cE];if(_[It]?lt=!1:_[It]=!0,lt&&(ze<=N&&(xe.queue[Di](ht),T++,Ge(ze===1?"error":"warn",ht)),T===W)){var jt="Internal events throttle limit per PageView reached for this app.",fr=new LE(23,jt,!1);xe.queue[Di](fr),ze===1?xe.errorToConsole(jt):xe[jA](jt)}}}o(ke,"_logInternalMessage");function qe(ze){return nm(xc(ze,yB,xe).cfg,function(ht){var lt=ht.cfg;D=lt[Mk],N=lt.loggingLevelTelemetry,W=lt.maxMessageLimit,se=lt.enableDebug})}o(qe,"_setDefaultsFromConfig");function Xe(){return T>=W}o(Xe,"_areInternalMessagesThrottled");function Ge(ze,ht){var lt=gB(y||{});lt&&lt[If]&&lt[If](ze,ht)}o(Ge,"_debugExtMsg")})}return o(g,"DiagnosticLogger"),g.__ieDyn=1,g}();function W9(g){return g||new WC}o(W9,"_getLogger");function Dr(g,y,T,_,D,N){N===void 0&&(N=!1),W9(g)[Rg](y,T,_,D,N)}o(Dr,"_throwInternal");function QE(g,y){W9(g)[jA](y)}o(QE,"_warnToConsole");var GC,Vh,CB="toGMTString",xB="toUTCString",ME="cookie",im="expires",EB="isCookieUseDisabled",OE="disableCookiesUsage",bB="_ckMgr",UE=null,w2=null,qE=null,Bf,vB={},IB={},TB=(GC={cookieCfg:pj((Vh={},Vh[bE]={fb:"cookieDomain",dfVal:IE},Vh.path={fb:"cookiePath",dfVal:IE},Vh.enabled=gc,Vh.ignoreCookies=gc,Vh.blockedCookies=gc,Vh)),cookieDomain:gc,cookiePath:gc},GC[OE]=gc,GC);function G9(){!Bf&&(Bf=sr(function(){return kA()}))}o(G9,"_getDoc");function HC(g){return g?g.isEnabled():!0}o(HC,"_isMgrEnabled");function H9(g,y){return y&&g&&Oe(g.ignoreCookies)?L0(g.ignoreCookies,y)!==-1:!1}o(H9,"_isIgnoredCookie");function bj(g,y){return y&&g&&Oe(g.blockedCookies)&&L0(g.blockedCookies,y)!==-1?!0:H9(g,y)}o(bj,"_isBlockedCookie");function V9(g,y){var T=y[bf];if(X(T)){var _=void 0;M(g[EB])||(_=!g[EB]),M(g[OE])||(_=!g[OE]),T=_}return T}o(V9,"_isCfgEnabled");function vj(g,y){var T,_,D,N,W,se,fe,xe;g=xc(g||IB,null,y).cfg,N=nm(g,function(qe){qe.setDf(qe.cfg,TB),T=qe.ref(qe.cfg,"cookieCfg"),_=T[vE]||"/",D=T[bE],W=V9(g,T)!==!1,se=T.getCookie||Ij,fe=T.setCookie||S2,xe=T.delCookie||S2},y);var ke={isEnabled:o(function(){var qe=V9(g,T)!==!1&&W&&wB(y),Xe=IB[bB];return qe&&Xe&&ke!==Xe&&(qe=HC(Xe)),qe},"isEnabled"),setEnabled:o(function(qe){W=qe!==!1,T[bf]=qe},"setEnabled"),set:o(function(qe,Xe,Ge,ze,ht){var lt=!1;if(HC(ke)&&!bj(T,qe)){var It={},jt=Ri(Xe||ii),fr=$d(jt,";");if(fr!==-1&&(jt=Ri(L(Xe,fr)),It=j9(me(Xe,fr+1))),Uh(It,bE,ze||D,oe,M),!X(Ge)){var wr=mu();if(M(It[im])){var Pn=Sh(),ui=Pn+Ge*1e3;if(ui>0){var fi=new Date;fi.setTime(ui),Uh(It,im,SB(fi,wr?CB:xB)||SB(fi,wr?CB:xB)||ii,oe)}}wr||Uh(It,"max-age",ii+Ge,null,M)}var ro=m2();ro&&ro.protocol==="https:"&&(Uh(It,"secure",null,null,M),w2===null&&(w2=!Tj((vh()||{})[fE])),w2&&Uh(It,"SameSite","None",null,M)),Uh(It,vE,ht||_,null,M),fe(qe,_B(jt,It)),lt=!0}return lt},"set"),get:o(function(qe){var Xe=ii;return HC(ke)&&!H9(T,qe)&&(Xe=se(qe)),Xe},"get"),del:o(function(qe,Xe){var Ge=!1;return HC(ke)&&(Ge=ke.purge(qe,Xe)),Ge},"del"),purge:o(function(qe,Xe){var Ge,ze=!1;if(wB(y)){var ht=(Ge={},Ge[vE]=Xe||"/",Ge[im]="Thu, 01 Jan 1970 00:00:01 GMT",Ge);mu()||(ht["max-age"]="0"),xe(qe,_B(ii,ht)),ze=!0}return ze},"purge"),unload:o(function(qe){N&&N.rm(),N=null},"unload")};return ke[bB]=ke,ke}o(vj,"createCookieMgr");function wB(g){if(UE===null){UE=!1,!Bf&&G9();try{var y=Bf.v||{};UE=y[ME]!==void 0}catch(T){Dr(g,2,68,"Cannot access document.cookie - "+Ha(T),{exception:At(T)})}}return UE}o(wB,"areCookiesSupported");function j9(g){var y={};if(g&&g[Ln]){var T=Ri(g)[Qh](";");Gr(T,function(_){if(_=Ri(_||ii),_){var D=$d(_,"=");D===-1?y[_]=null:y[Ri(L(_,D))]=Ri(me(_,D+1))}})}return y}o(j9,"_extractParts");function SB(g,y){return Re(g[y])?g[y]():null}o(SB,"_formatDate");function _B(g,y){var T=g||ii;return te(y,function(_,D){T+="; "+_+(X(D)?ii:"="+D)}),T}o(_B,"_formatCookieValue");function Ij(g){var y=ii;if(!Bf&&G9(),Bf.v){var T=Bf.v[ME]||ii;qE!==T&&(vB=j9(T),qE=T),y=Ri(vB[g]||ii)}return y}o(Ij,"_getCookieValue");function S2(g,y){!Bf&&G9(),Bf.v&&(Bf.v[ME]=g+"="+y)}o(S2,"_setCookieValue");function Tj(g){return de(g)?!!(nl(g,"CPU iPhone OS 12")||nl(g,"iPad; CPU OS 12")||nl(g,"Macintosh; Intel Mac OS X 10_14")&&nl(g,"Version/")&&nl(g,"Safari")||nl(g,"Macintosh; Intel Mac OS X 10_14")&&Dk(g,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||nl(g,"Chrome/5")||nl(g,"Chrome/6")||nl(g,"UnrealEngine")&&!nl(g,"Chrome")||nl(g,"UCBrowser/12")||nl(g,"UCBrowser/11")):!1}o(Tj,"uaDisallowsSameSiteNone");var $9={perfEvtsSendAll:!1};function wj(g){g.h=null;var y=g.cb;g.cb=[],Gr(y,function(T){Z(T.fn,[T.arg])})}o(wj,"_runScheduledListeners");function jh(g,y,T,_){Gr(g,function(D){D&&D[y]&&(T?(T.cb[Di]({fn:_,arg:D}),T.h=T.h||Bh(wj,0,T)):Z(_,[D]))})}o(jh,"_runListeners");var Sj=function(){function g(y){this.listeners=[];var T,_,D=[],N={h:null,cb:[]},W=xc(y,$9);_=W[Kd](function(se){T=!!se.cfg.perfEvtsSendAll}),Rl(g,this,function(se){Ue(se,"listeners",{g:o(function(){return D},"g")}),se[aE]=function(fe){D[Di](fe)},se[wC]=function(fe){for(var xe=L0(D,fe);xe>-1;)D[$A](xe,1),xe=L0(D,fe)},se[o2]=function(fe){jh(D,o2,N,function(xe){xe[o2](fe)})},se[s2]=function(fe,xe){jh(D,s2,N,function(ke){ke[s2](fe,xe)})},se[xE]=function(fe,xe){jh(D,xE,xe?N:null,function(ke){ke[xE](fe,xe)})},se[Mg]=function(fe){fe&&(T||!fe[C9]())&&jh(D,Mg,null,function(xe){fe.isAsync?Bh(function(){return xe[Mg](fe)},0):xe[Mg](fe)})},se[v9]=function(fe){fe&&fe[Ln]&&jh(D,v9,N,function(xe){xe[v9](fe)})},se[I9]=function(fe){fe&&fe[ZA]&&jh(D,I9,N,function(xe){xe[I9](fe)})},se[EE]=function(fe,xe){if(fe>0){var ke=xe||0;jh(D,EE,N,function(qe){qe[EE](fe,ke)})}},se[Dg]=function(fe){var xe=o(function(){_&&_.rm(),_=null,D=[],N.h&&N.h[zA](),N.h=null,N.cb=[]},"_finishUnload"),ke;if(jh(D,"unload",null,function(qe){var Xe=qe[Dg](fe);Xe&&(ke||(ke=[]),ke[Di](Xe))}),ke)return r2(function(qe){return pc(b9(ke),function(){xe(),qe()})});xe()}})}return o(g,"NotificationManager"),g.__ieDyn=1,g}(),_2="ctx",z9="ParentContextKey",VC="ChildrenContextKey",_j=null,WE=function(){function g(y,T,_){var D=this;if(D.start=Sh(),D[Nh]=y,D.isAsync=_,D[C9]=function(){return!1},Re(T)){var N;Ue(D,"payload",{g:o(function(){return!N&&Re(T)&&(N=T(),T=null),N},"g")})}D[Oh]=function(W){return W?W===g[z9]||W===g[VC]?D[W]:(D[_2]||{})[W]:null},D[fu]=function(W,se){if(W)if(W===g[z9])D[W]||(D[C9]=function(){return!0}),D[W]=se;else if(W===g[VC])D[W]=se;else{var fe=D[_2]=D[_2]||{};fe[W]=se}},D.complete=function(){var W=0,se=D[Oh](g[VC]);if(Oe(se))for(var fe=0;fe<se[Ln];fe++){var xe=se[fe];xe&&(W+=xe.time)}D.time=Sh()-D.start,D.exTime=D.time-W,D.complete=function(){}}}return o(g,"PerfEvent"),g.ParentContextKey="parent",g.ChildrenContextKey="childEvts",g}(),kj=function(){function g(y){this.ctx={},Rl(g,this,function(T){T.create=function(_,D,N){return new WE(_,D,N)},T.fire=function(_){_&&(_.complete(),y&&Re(y[Mg])&&y[Mg](_))},T[fu]=function(_,D){if(_){var N=T[_2]=T[_2]||{};N[_]=D}},T[Oh]=function(_){return(T[_2]||{})[_]}})}return o(g,"PerfManager"),g.__ieDyn=1,g}(),Rf="CoreUtils.doPerf";function k2(g,y,T,_,D){if(g){var N=g;if(N[kC]&&(N=N[kC]()),N){var W=void 0,se=N[Oh](Rf);try{if(W=N.create(y(),_,D),W){if(se&&W[fu]&&(W[fu](WE[z9],se),se[Oh]&&se[fu])){var fe=se[Oh](WE[VC]);fe||(fe=[],se[fu](WE[VC],fe)),fe[Di](W)}return N[fu](Rf,W),T(W)}}catch(xe){W&&W[fu]&&W[fu]("exception",xe)}finally{W&&N.fire(W),N[fu](Rf,se)}}}return T()}o(k2,"doPerf");function ra(){return _j}o(ra,"getGblPerfMgr");var GE="00000000000000000000000000000000",B2="0000000000000000";function HE(g,y,T){return g&&g[Ln]===y&&g!==T?!!g.match(/^[\da-f]*$/i):!1}o(HE,"_isValid");function $h(g){return HE(g,32,GE)}o($h,"isValidTraceId");function Wg(g){return HE(g,16,B2)}o(Wg,"isValidSpanId");var jC=sB("plugin");function zh(g){return jC.get(g,"state",{},!0)}o(zh,"_getPluginState");function Y9(g,y){for(var T=[],_=null,D=g[Tf](),N;D;){var W=D[KA]();if(W){_&&_[Lh]&&W[Ac]&&_[Lh](W),N=zh(W);var se=!!N[Ef];W[Ef]&&(se=W[Ef]()),se||T[Di](W),_=W,D=D[Tf]()}}Gr(T,function(fe){var xe=g[ta]();fe[TC](g.getCfg(),xe,y,g[Tf]()),N=zh(fe),!fe[ta]&&!N[ta]&&(N[ta]=xe),N[Ef]=!0,delete N[vf]})}o(Y9,"initializePlugins");function K9(g){return g.sort(function(y,T){var _=0;if(T){var D=T[Ac];y[Ac]?_=D?y[i2]-T[i2]:1:D&&(_=-1)}else _=y?1:-1;return _})}o(K9,"sortPlugins");function Bj(g){var y={};return{getName:o(function(){return y[Nh]},"getName"),setName:o(function(T){g&&g.setName(T),y[Nh]=T},"setName"),getTraceId:o(function(){return y.traceId},"getTraceId"),setTraceId:o(function(T){g&&g.setTraceId(T),$h(T)&&(y.traceId=T)},"setTraceId"),getSpanId:o(function(){return y.spanId},"getSpanId"),setSpanId:o(function(T){g&&g.setSpanId(T),Wg(T)&&(y.spanId=T)},"setSpanId"),getTraceFlags:o(function(){return y[Uk]},"getTraceFlags"),setTraceFlags:o(function(T){g&&g.setTraceFlags(T),y[Uk]=T},"setTraceFlags")}}o(Bj,"createDistributedTraceContext");var Rj="TelemetryPluginChain",kB="_hasRun",J9="_getTelCtx",BB=0;function Dj(g,y,T){for(;g;){if(g[KA]()===T)return g;g=g[Tf]()}return R([T],y.config||{},y)}o(Dj,"_getNextProxyStart");function X9(g,y,T,_){var D=null,N=[];y||(y=xc({},null,T[ea])),_!==null&&(D=_?Dj(g,T,_):g);var W={_next:fe,ctx:{core:o(function(){return T},"core"),diagLog:o(function(){return qC(T,y.cfg)},"diagLog"),getCfg:o(function(){return y.cfg},"getCfg"),getExtCfg:ke,getConfig:qe,hasNext:o(function(){return!!D},"hasNext"),getNext:o(function(){return D},"getNext"),setNext:o(function(Ge){D=Ge},"setNext"),iterate:Xe,onComplete:se}};function se(Ge,ze){for(var ht=[],lt=2;lt<arguments.length;lt++)ht[lt-2]=arguments[lt];Ge&&N[Di]({func:Ge,self:M(ze)?W.ctx:ze,args:ht})}o(se,"_addOnComplete");function fe(){var Ge=D;if(D=Ge?Ge[Tf]():null,!Ge){var ze=N;ze&&ze[Ln]>0&&(Gr(ze,function(ht){try{ht.func.call(ht.self,ht.args)}catch(lt){Dr(T[ea],2,73,"Unexpected Exception during onComplete - "+At(lt))}}),N=[])}return Ge}o(fe,"_moveNext");function xe(Ge,ze){var ht=null,lt=y.cfg;if(lt&&Ge){var It=lt[Qg];!It&&ze&&(It={}),lt[Qg]=It,It=y.ref(lt,Qg),It&&(ht=It[Ge],!ht&&ze&&(ht={}),It[Ge]=ht,ht=y.ref(It,Ge))}return ht}o(xe,"_getExtCfg");function ke(Ge,ze){var ht=xe(Ge,!0);return ze&&te(ze,function(lt,It){if(X(ht[lt])){var jt=y.cfg[lt];(jt||!X(jt))&&(ht[lt]=jt)}O9(y,ht,lt,It)}),y.setDf(ht,ze)}o(ke,"_resolveExtCfg");function qe(Ge,ze,ht){ht===void 0&&(ht=!1);var lt,It=xe(Ge,!1),jt=y.cfg;return It&&(It[ze]||!X(It[ze]))?lt=It[ze]:(jt[ze]||!X(jt[ze]))&&(lt=jt[ze]),lt||!X(lt)?lt:ht}o(qe,"_getConfig");function Xe(Ge){for(var ze;ze=W._next();){var ht=ze[KA]();ht&&Ge(ht)}}return o(Xe,"_iterateChain"),W}o(X9,"_createInternalContext");function R2(g,y,T,_){var D=xc(y),N=X9(g,D,T,_),W=N.ctx;function se(xe){var ke=N._next();return ke&&ke[Ac](xe,W),!ke}o(se,"_processNext");function fe(xe,ke){return xe===void 0&&(xe=null),Oe(xe)&&(xe=R(xe,D.cfg,T,ke)),R2(xe||W[Tf](),D.cfg,T,ke)}return o(fe,"_createNew"),W[rl]=se,W[Pg]=fe,W}o(R2,"createProcessTelemetryContext");function w(g,y,T){var _=xc(y.config),D=X9(g,_,y,T),N=D.ctx;function W(fe){var xe=D._next();return xe&&xe[Dg](N,fe),!xe}o(W,"_processNext");function se(fe,xe){return fe===void 0&&(fe=null),Oe(fe)&&(fe=R(fe,_.cfg,y,xe)),w(fe||N[Tf](),y,xe)}return o(se,"_createNew"),N[rl]=W,N[Pg]=se,N}o(w,"createProcessTelemetryUnloadContext");function k(g,y,T){var _=xc(y.config),D=X9(g,_,y,T),N=D.ctx;function W(fe){return N.iterate(function(xe){Re(xe[Jd])&&xe[Jd](N,fe)})}o(W,"_processNext");function se(fe,xe){return fe===void 0&&(fe=null),Oe(fe)&&(fe=R(fe,_.cfg,y,xe)),k(fe||N[Tf](),y,xe)}return o(se,"_createNew"),N[rl]=W,N[Pg]=se,N}o(k,"createProcessTelemetryUpdateContext");function R(g,y,T,_){var D=null,N=!_;if(Oe(g)&&g[Ln]>0){var W=null;Gr(g,function(se){if(!N&&_===se&&(N=!0),N&&se&&Re(se[Ac])){var fe=Q(se,y,T);D||(D=fe),W&&W._setNext(fe),W=fe}})}return _&&!D?R([_],y,T):D}o(R,"createTelemetryProxyChain");function Q(g,y,T){var _=null,D=Re(g[Ac]),N=Re(g[Lh]),W;g?W=g[Fh]+"-"+g[i2]+"-"+BB++:W="Unknown-0-"+BB++;var se={getPlugin:o(function(){return g},"getPlugin"),getNext:o(function(){return _},"getNext"),processTelemetry:ke,unload:qe,update:Xe,_id:W,_setNext:o(function(Ge){_=Ge},"_setNext")};function fe(){var Ge;return g&&Re(g[J9])&&(Ge=g[J9]()),Ge||(Ge=R2(se,y,T)),Ge}o(fe,"_getTelCtx");function xe(Ge,ze,ht,lt,It){var jt=!1,fr=g?g[Fh]:Rj,wr=Ge[kB];return wr||(wr=Ge[kB]={}),Ge.setNext(_),g&&k2(Ge[ta](),function(){return fr+":"+ht},function(){wr[W]=!0;try{var Pn=_?_._id:ii;Pn&&(wr[Pn]=!1),jt=ze(Ge)}catch(fi){var ui=_?wr[_._id]:!0;ui&&(jt=!0),(!_||!ui)&&Dr(Ge[If](),1,73,"Plugin ["+fr+"] failed during "+ht+" - "+At(fi)+", run flags: "+At(wr))}},lt,It),jt}o(xe,"_processChain");function ke(Ge,ze){ze=ze||fe();function ht(lt){if(!g||!D)return!1;var It=zh(g);return It[vf]||It[CE]?!1:(N&&g[Lh](_),g[Ac](Ge,lt),!0)}o(ht,"_callProcessTelemetry"),xe(ze,ht,"processTelemetry",function(){return{item:Ge}},!Ge.sync)||ze[rl](Ge)}o(ke,"_processTelemetry");function qe(Ge,ze){function ht(){var lt=!1;if(g){var It=zh(g),jt=g[ta]||It[ta];g&&(!jt||jt===Ge.core())&&!It[vf]&&(It[ta]=null,It[vf]=!0,It[Ef]=!1,g[vf]&&g[vf](Ge,ze)===!0&&(lt=!0))}return lt}o(ht,"_callTeardown"),xe(Ge,ht,"unload",function(){},ze.isAsync)||Ge[rl](ze)}o(qe,"_unloadPlugin");function Xe(Ge,ze){function ht(){var lt=!1;if(g){var It=zh(g),jt=g[ta]||It[ta];g&&(!jt||jt===Ge.core())&&!It[vf]&&g[Jd]&&g[Jd](Ge,ze)===!0&&(lt=!0)}return lt}o(ht,"_callUpdate"),xe(Ge,ht,"update",function(){},!1)||Ge[rl](ze)}return o(Xe,"_updatePlugin"),Et(se)}o(Q,"createTelemetryPluginProxy");function ue(){var g=[];function y(_){_&&g[Di](_)}o(y,"_addHandler");function T(_,D){Gr(g,function(N){try{N(_,D)}catch(W){Dr(_[If](),2,73,"Unexpected error calling unload handler - "+At(W))}}),g=[]}return o(T,"_runHandlers"),{add:y,run:T}}o(ue,"createUnloadHandlerContainer");function Te(){var g=[];function y(_){var D=g;g=[],Gr(D,function(N){try{(N.rm||N.remove).call(N)}catch(W){Dr(_,2,73,"Unloading:"+At(W))}})}o(y,"_doUnload");function T(_){_&&RA(g,_)}return o(T,"_addHook"),{run:y,add:T}}o(Te,"createUnloadHookContainer");var Be,He="getPlugin",nt=(Be={},Be[Qg]={isVal:IE,v:{}},Be),xt=function(){function g(){var y=this,T,_,D,N,W;xe(),Rl(g,y,function(ke){ke[TC]=function(qe,Xe,Ge,ze){fe(qe,Xe,ze),T=!0},ke[vf]=function(qe,Xe){var Ge=ke[ta];if(!Ge||qe&&Ge!==qe[ta]())return;var ze,ht=!1,lt=qe||w(null,Ge,D&&D[He]?D[He]():D),It=Xe||{reason:0,isAsync:!1};function jt(){ht||(ht=!0,N.run(lt,Xe),W.run(lt[If]()),ze===!0&&lt[rl](It),xe())}return o(jt,"_unloadCallback"),!ke[uE]||ke[uE](lt,It,jt)!==!0?jt():ze=!0,ze},ke[Jd]=function(qe,Xe){var Ge=ke[ta];if(!Ge||qe&&Ge!==qe[ta]())return;var ze,ht=!1,lt=qe||k(null,Ge,D&&D[He]?D[He]():D),It=Xe||{reason:0};function jt(){ht||(ht=!0,fe(lt.getCfg(),lt.core(),lt[Tf]()))}return o(jt,"_updateCallback"),!ke._doUpdate||ke._doUpdate(lt,It,jt)!==!0?jt():ze=!0,ze},RC(ke,"_addUnloadCb",function(){return N},"add"),RC(ke,"_addHook",function(){return W},"add"),Ue(ke,"_unloadHooks",{g:o(function(){return W},"g")})}),y[If]=function(ke){return se(ke)[If]()},y[Ef]=function(){return T},y.setInitialized=function(ke){T=ke},y[Lh]=function(ke){D=ke},y[rl]=function(ke,qe){qe?qe[rl](ke):D&&Re(D[Ac])&&D[Ac](ke,null)},y._getTelCtx=se;function se(ke){ke===void 0&&(ke=null);var qe=ke;if(!qe){var Xe=_||R2(null,{},y[ta]);D&&D[He]?qe=Xe[Pg](null,D[He]):qe=Xe[Pg](null,D)}return qe}o(se,"_getTelCtx");function fe(ke,qe,Xe){xc(ke,nt,qC(qe)),!Xe&&qe&&(Xe=qe[JA]()[Tf]());var Ge=D;D&&D[He]&&(Ge=D[He]()),y[ta]=qe,_=R2(Xe,ke,qe,Ge)}o(fe,"_setDefaults");function xe(){T=!1,y[ta]=null,_=null,D=null,W=Te(),N=ue()}o(xe,"_initDefaults")}return o(g,"BaseTelemetryPlugin"),g.__ieDyn=1,g}();function Cr(g,y,T){var _={id:y,fn:T};RA(g,_);var D={remove:o(function(){Gr(g,function(N,W){if(N.id===_.id)return g[$A](W,1),-1})},"remove")};return D}o(Cr,"_addInitializer");function An(g,y,T){for(var _=!1,D=g[Ln],N=0;N<D;++N){var W=g[N];if(W)try{if(W.fn[sE](null,[y])===!1){_=!0;break}}catch(se){Dr(T,2,64,"Telemetry initializer failed: "+Ha(se),{exception:At(se)},!0)}}return!_}o(An,"_runInitializers");var Rn=function(g){IC(y,g);function y(){var T=g.call(this)||this;T.identifier="TelemetryInitializerPlugin",T.priority=199;var _,D;N(),Rl(y,T,function(W,se){W.addTelemetryInitializer=function(fe){return Cr(D,_++,fe)},W[Ac]=function(fe,xe){An(D,fe,xe?xe[If]():W[If]())&&W[rl](fe,xe)},W[uE]=function(){N()}});function N(){_=0,D=[]}return o(N,"_initDefaults"),T}return o(y,"TelemetryInitializerPlugin"),y.__ieDyn=1,y}(xt),br,Br="Plugins must provide initialize method",kn="_notificationManager",yn="SDK is still unloading...",oi="SDK is not initialized",Vi=100,Ci=5e4,Ca=St((br={cookieCfg:{}},br[n2]={rdOnly:!0,ref:!0,v:[]},br[em]={rdOnly:!0,ref:!0,v:[]},br[Qg]={ref:!0,v:{}},br[du]=gc,br.loggingLevelConsole=0,br.diagnosticLogInterval=gc,br));function D2(g,y){return new kj(y)}o(D2,"_createPerfManager");function $C(g,y,T){var _=[],D=[],N={};return Gr(T,function(W){(X(W)||X(W[TC]))&&Vt(Br);var se=W[i2],fe=W[Fh];W&&se&&(X(N[se])?N[se]=fe:QE(g,"Two extensions have same priority #"+se+" - "+N[se]+", "+fe)),!se||se<y?_[Di](W):D[Di](W)}),{core:_,channels:D}}o($C,"_validateExtensions");function Z9(g,y){var T=!1;return Gr(y,function(_){if(_===g)return T=!0,-1}),T}o(Z9,"_isPluginPresent");function VE(g,y,T,_){T&&te(T,function(D,N){_&&Q0(N)&&Q0(y[D])&&VE(g,y[D],N,_),_&&Q0(N)&&Q0(y[D])?VE(g,y[D],N,_):g.set(y,D,N)})}o(VE,"_deepMergeConfig");function RB(g,y){var T=null,_=-1;return Gr(g,function(D,N){if(D.w===y)return T=D,_=N,-1}),{i:_,l:T}}o(RB,"_findWatcher");function Pj(g,y){var T=RB(g,y).l;return T||(T={w:y,rm:o(function(){var _=RB(g,y);_.i!==-1&&g[$A](_.i,1)},"rm")},g[Di](T)),T}o(Pj,"_addDelayedCfgListener");function e7(g,y,T){Gr(y,function(_){var D=nm(g,_.w,T);delete _.w,_.rm=function(){D.rm()}})}o(e7,"_registerDelayedCfgListener");function DB(g,y,T,_){return y.add(g[Kd](function(D){var N=D.cfg.disableDbgExt;N===!0&&_&&(T[wC](_),_=null),T&&!_&&N!==!0&&(_=yj(D.cfg),T[aE](_))})),_}o(DB,"_initDebugListener");function PB(g){return Ue({rm:o(function(){g.rm()},"rm")},"toJSON",{v:o(function(){return"aicore::onCfgChange<"+JSON.stringify(g)+">"},"v")})}o(PB,"_createUnloadHook");var Nt=function(){function g(){var y,T,_,D,N,W,se,fe,xe,ke,qe,Xe,Ge,ze,ht,lt,It,jt,fr,wr,Pn,ui,fi,ro,sn,Or,di,us,To,Yt,Ur,ji;Rl(g,this,function(Pt){dt(),Pt._getDbgPlgTargets=function(){return[fi,D]},Pt[Ef]=function(){return T},Pt.activeStatus=function(){return Or},Pt._setPendingStatus=function(){Or=3},Pt[TC]=function(gt,Ir,vn,Qr){Ge&&Vt(yn),Pt[Ef]()&&Vt("Core cannot be initialized more than once"),y=xc(gt,Ca,vn||Pt[ea],!1),gt=y.cfg,Fl(y[Kd](function(ho){var Ho=ho.cfg,u0=Or===3;if(!u0){us=Ho.initInMemoMaxSize||Vi;var Ec=Ho.instrumentationKey,am=Ho.endpointUrl;if(X(Ec)){Pn=null,Or=Ph.INACTIVE;var lm="Please provide instrumentation key";T?(Dr(_,1,100,lm),Ss()):Vt(lm);return}var ib=[];if(at(Ec)?(ib[Di](Ec),Pn=null):Pn=Ec,at(am)?(ib[Di](am),di=null):di=am,ib[Ln]){To=!1,Or=3;var x7=IE(Ho.initTimeOut)?Ho.initTimeOut:Ci,f$=M0(ib);Bh(function(){To||Cn()},x7),pc(f$,function(G2){try{if(To)return;if(!G2.rejected){var H2=G2[YA];if(H2&&H2[Ln]){var nR=H2[0];if(Pn=nR&&nR[YA],H2[Ln]>1){var iR=H2[1];di=iR&&iR[YA]}}Pn&&(gt.instrumentationKey=Pn,gt.endpointUrl=di)}Cn()}catch{To||Cn()}})}else Cn();var ob=ho.ref(ho.cfg,Qg);te(ob,function(G2){ho.ref(ob,G2)})}})),N=Qr,fr=DB(y,jt,N&&Pt[uu](),fr),q2(),Pt[ea]=vn;var In=gt[n2];if(ke=[],ke[Di].apply(ke,Lk(Lk([],Ir,!1),In)),qe=gt[em],_s(null),(!Xe||Xe[Ln]===0)&&Vt("No "+em+" available"),qe&&qe[Ln]>1){var lo=Pt[KA]("TeeChannelController");(!lo||!lo.plugin)&&Dr(_,1,28,"TeeChannel required")}e7(gt,ui,_),ui=null,T=!0,Or===Ph.ACTIVE&&Ss()},Pt.getChannels=function(){var gt=[];return Xe&&Gr(Xe,function(Ir){gt[Di](Ir)}),Et(gt)},Pt.track=function(gt){k2(Pt[kC](),function(){return"AppInsightsCore:track"},function(){gt===null&&(ds(gt),Vt("Invalid telemetry item")),!gt[Nh]&&X(gt[Nh])&&(ds(gt),Vt("telemetry name required")),gt.iKey=gt.iKey||Pn,gt.time=gt.time||BC(new Date),gt.ver=gt.ver||"4.0",!Ge&&Pt[Ef]()&&Or===Ph.ACTIVE?ba()[rl](gt):Or!==Ph.INACTIVE&&D[Ln]<=us&&D[Di](gt)},function(){return{item:gt}},!gt.sync)},Pt[JA]=ba,Pt[uu]=function(){return N||(N=new Sj(y.cfg),Pt[kn]=N),N},Pt[aE]=function(gt){Pt.getNotifyMgr()[aE](gt)},Pt[wC]=function(gt){N&&N[wC](gt)},Pt.getCookieMgr=function(){return fe||(fe=vj(y.cfg,Pt[ea])),fe},Pt.setCookieMgr=function(gt){fe!==gt&&(v2(fe,!1),fe=gt)},Pt[kC]=function(){return W||se||ra()},Pt.setPerfMgr=function(gt){W=gt},Pt.eventCnt=function(){return D[Ln]},Pt.releaseQueue=function(){if(T&&D[Ln]>0){var gt=D;D=[],Or===2?Gr(gt,function(Ir){Ir.iKey=Ir.iKey||Pn,ba()[rl](Ir)}):Dr(_,2,20,"core init status is not active")}},Pt.pollInternalLogs=function(gt){return ht=gt||null,ji=!1,Yt&&Yt[zA](),no(!0)};function Cn(){To=!0,X(Pn)?(Or=Ph.INACTIVE,Dr(_,1,112,"ikey can't be resolved from promises")):Or=Ph.ACTIVE,Ss()}o(Cn,"_setStatus");function Ss(){T&&(Pt.releaseQueue(),Pt.pollInternalLogs())}o(Ss,"_releaseQueues");function no(gt){if((!Yt||!Yt[bf])&&!ji){var Ir=gt||_&&_.queue[Ln]>0;Ir&&(Ur||(Ur=!0,Fl(y[Kd](function(vn){var Qr=vn.cfg.diagnosticLogInterval;(!Qr||!(Qr>0))&&(Qr=1e4);var In=!1;Yt&&(In=Yt[bf],Yt[zA]()),Yt=Zx(U2,Qr),Yt.unref(),Yt[bf]=In}))),Yt[bf]=!0)}return Yt}o(no,"_startLogPoller"),Pt[Qk]=function(){ji=!0,Yt&&Yt[zA](),U2()},w9(Pt,function(){return ze},["addTelemetryInitializer"]),Pt[Dg]=function(gt,Ir,vn){gt===void 0&&(gt=!0),T||Vt(oi),Ge&&Vt(yn);var Qr={reason:50,isAsync:gt,flushComplete:!1},In;gt&&!Ir&&(In=r2(function(Ho){Ir=Ho}));var lo=w(Pf(),Pt);lo[lE](function(){jt.run(Pt[ea]),hB([fe,N,_],gt,function(){dt(),Ir&&Ir(Qr)})},Pt);function ho(Ho){Qr.flushComplete=Ho,Ge=!0,It.run(lo,Qr),Pt[Qk](),lo[rl](Qr)}return o(ho,"_doUnload"),U2(),om(gt,ho,6,vn),In},Pt[KA]=al,Pt.addPlugin=function(gt,Ir,vn,Qr){if(!gt){Qr&&Qr(!1),W2(Br);return}var In=al(gt[Fh]);if(In&&!Ir){Qr&&Qr(!1),W2("Plugin ["+gt[Fh]+"] is already loaded!");return}var lo={reason:16};function ho(Ec){ke[Di](gt),lo.added=[gt],_s(lo),Qr&&Qr(!0)}if(o(ho,"_addPlugin"),In){var Ho=[In.plugin],u0={reason:2,isAsync:!!vn};q0(Ho,u0,function(Ec){Ec?(lo.removed=Ho,lo.reason|=32,ho()):Qr&&Qr(!1)})}else ho()},Pt.updateCfg=function(gt,Ir){Ir===void 0&&(Ir=!0);var vn;if(Pt[Ef]()){vn={reason:1,cfg:y.cfg,oldCfg:zx({},y.cfg),newConfig:zx({},gt),merge:Ir},gt=vn.newConfig;var Qr=y.cfg;gt[n2]=Qr[n2],gt[em]=Qr[em]}y._block(function(In){var lo=In.cfg;VE(In,lo,gt,Ir),Ir||te(lo,function(ho){We(gt,ho)||In.set(lo,ho,gc)}),In.setDf(lo,Ca)},!0),y.notify(),vn&&sm(vn)},Pt.evtNamespace=function(){return lt},Pt.flush=om,Pt.getTraceCtx=function(gt){return wr||(wr=Bj()),wr},Pt.setTraceCtx=function(gt){wr=gt||null},Pt.addUnloadHook=Fl,RC(Pt,"addUnloadCb",function(){return It},"add"),Pt.onCfgChange=function(gt){var Ir;return T?Ir=nm(y.cfg,gt,Pt[ea]):Ir=Pj(ui,gt),PB(Ir)},Pt.getWParam=function(){return bh()||y.cfg.enableWParam?0:-1};function sl(){var gt={};ro=[];var Ir=o(function(vn){vn&&Gr(vn,function(Qr){if(Qr[Fh]&&Qr[XA]&&!gt[Qr.identifier]){var In=Qr[Fh]+"="+Qr[XA];ro[Di](In),gt[Qr.identifier]=Qr}})},"_addPluginVersions");Ir(Xe),qe&&Gr(qe,function(vn){Ir(vn)}),Ir(ke)}o(sl,"_setPluginVersions");function dt(){T=!1,y=xc({},Ca,Pt[ea]),y.cfg[Mk]=1,Ue(Pt,"config",{g:o(function(){return y.cfg},"g"),s:o(function(Ir){Pt.updateCfg(Ir,!1)},"s")}),Ue(Pt,"pluginVersionStringArr",{g:o(function(){return ro||sl(),ro},"g")}),Ue(Pt,"pluginVersionString",{g:o(function(){return sn||(ro||sl(),sn=ro.join(";")),sn||ii},"g")}),Ue(Pt,"logger",{g:o(function(){return _||(_=new WC(y.cfg),y[ea]=_),_},"g"),s:o(function(Ir){y[ea]=Ir,_!==Ir&&(v2(_,!1),_=Ir)},"s")}),Pt[ea]=new WC(y.cfg),fi=[];var gt=Pt.config[n2]||[];gt.splice(0,gt[Ln]),RA(gt,fi),ze=new Rn,D=[],v2(N,!1),N=null,W=null,se=null,v2(fe,!1),fe=null,xe=null,ke=[],qe=null,Xe=null,Ge=!1,ht=null,lt=rm("AIBaseCore",!0),It=ue(),wr=null,Pn=null,jt=Te(),ui=[],sn=null,ro=null,ji=!1,Yt=null,Ur=!1,Or=0,di=null,us=null,To=!1}o(dt,"_initDefaults");function ba(){var gt=R2(Pf(),y.cfg,Pt);return gt[lE](no),gt}o(ba,"_createTelCtx");function _s(gt){var Ir=$C(Pt[ea],mj,ke);xe=null,sn=null,ro=null,Xe=(qe||[])[0]||[],Xe=K9(RA(Xe,Ir[em]));var vn=RA(K9(Ir[ta]),Xe);fi=Et(vn);var Qr=Pt.config[n2]||[];Qr.splice(0,Qr[Ln]),RA(Qr,fi);var In=ba();Xe&&Xe[Ln]>0&&Y9(In[Pg](Xe),vn),Y9(In,vn),gt&&sm(gt)}o(_s,"_initPluginChain");function al(gt){var Ir=null,vn=null,Qr=[];return Gr(fi,function(In){if(In[Fh]===gt&&In!==ze)return vn=In,-1;In.getChannel&&Qr[Di](In)}),!vn&&Qr[Ln]>0&&Gr(Qr,function(In){if(vn=In.getChannel(gt),!vn)return-1}),vn&&(Ir={plugin:vn,setEnabled:o(function(In){zh(vn)[CE]=!In},"setEnabled"),isEnabled:o(function(){var In=zh(vn);return!In[vf]&&!In[CE]},"isEnabled"),remove:o(function(In,lo){In===void 0&&(In=!0);var ho=[vn],Ho={reason:1,isAsync:In};q0(ho,Ho,function(u0){u0&&_s({reason:32,removed:ho}),lo&&lo(u0)})},"remove")}),Ir}o(al,"_getPlugin");function Pf(){if(!xe){var gt=(fi||[]).slice();L0(gt,ze)===-1&&gt[Di](ze),xe=R(K9(gt),y.cfg,Pt)}return xe}o(Pf,"_getPluginChain");function q0(gt,Ir,vn){if(gt&&gt[Ln]>0){var Qr=R(gt,y.cfg,Pt),In=w(Qr,Pt);In[lE](function(){var lo=!1,ho=[];Gr(ke,function(u0,Ec){Z9(u0,gt)?lo=!0:ho[Di](u0)}),ke=ho,sn=null,ro=null;var Ho=[];qe&&(Gr(qe,function(u0,Ec){var am=[];Gr(u0,function(lm){Z9(lm,gt)?lo=!0:am[Di](lm)}),Ho[Di](am)}),qe=Ho),vn&&vn(lo),no()}),In[rl](Ir)}else vn(!1)}o(q0,"_removePlugins");function U2(){if(_&&_.queue){var gt=_.queue.slice(0);_.queue[Ln]=0,Gr(gt,function(Ir){var vn={name:ht||"InternalMessageId: "+Ir[cE],iKey:Pn,time:BC(new Date),baseType:LE.dataType,baseData:{message:Ir[Fg]}};Pt.track(vn)})}}o(U2,"_flushInternalLogs");function om(gt,Ir,vn,Qr){var In=1,lo=!1,ho=null;Qr=Qr||5e3;function Ho(){In--,lo&&In===0&&(ho&&ho[zA](),ho=null,Ir&&Ir(lo),Ir=null)}if(o(Ho,"doCallback"),Xe&&Xe[Ln]>0){var u0=ba()[Pg](Xe);u0.iterate(function(Ec){if(Ec.flush){In++;var am=!1;Ec.flush(gt,function(){am=!0,Ho()},vn)||am||(gt&&ho==null?ho=Bh(function(){ho=null,Ho()},Qr):Ho())}})}return lo=!0,Ho(),!0}o(om,"_flushChannels");function q2(){var gt;Fl(y[Kd](function(Ir){var vn=Ir.cfg.enablePerfMgr;if(vn){var Qr=Ir.cfg[du];(gt!==Qr||!gt)&&(Qr||(Qr=D2),Jk(Ir.cfg,du,Qr),gt=Qr,se=null),!W&&!se&&Re(Qr)&&(se=Qr(Pt,Pt[uu]()))}else se=null,gt=null}))}o(q2,"_initPerfManager");function sm(gt){var Ir=k(Pf(),Pt);Ir[lE](no),(!Pt._updateHook||Pt._updateHook(Ir,gt)!==!0)&&Ir[rl](gt)}o(sm,"_doUpdate");function W2(gt){var Ir=Pt[ea];Ir?(Dr(Ir,2,73,gt),no()):Vt(gt)}o(W2,"_logOrThrowError");function ds(gt){var Ir=Pt[uu]();Ir&&Ir[s2]([gt],2)}o(ds,"_notifyInvalidEvent");function Fl(gt){jt.add(gt)}o(Fl,"_addUnloadHook")})}return o(g,"AppInsightsCore"),g.__ieDyn=1,g}();function Lr(g,y){try{if(g&&g!==""){var T=O0().parse(g);if(T&&T[Ok]&&T[Ok]>=T.itemsAccepted&&T.itemsReceived-T.itemsAccepted===T.errors[Ln])return T}}catch(_){Dr(y,1,43,"Cannot parse the response. "+(_[Nh]||At(_)),{response:g})}return null}o(Lr,"parseResponse");var tn="",Eo="NoResponseBody",xa="&"+Eo+"=true",ws="POST",Ea=function(){function g(){var y=0,T,_,D,N,W,se,fe,xe,ke,qe,Xe,Ge,ze,ht;Rl(g,this,function(lt,It){var jt=!0;To(),lt[TC]=function(Yt,Ur){D=Ur,_&&Dr(D,1,28,"Sender is already initialized"),lt.SetConfig(Yt),_=!0},lt._getDbgPlgTargets=function(){return[_,N,se,T]},lt.SetConfig=function(Yt){try{if(W=Yt.senderOnCompleteCallBack||{},se=!!Yt.disableCredentials,fe=Yt.fetchCredentials,N=!!Yt.isOneDs,T=!!Yt.enableSendPromise,ke=!!Yt.disableXhr,qe=!!Yt.disableBeacon,Xe=!!Yt.disableBeaconSync,ht=Yt.timeWrapper,ze=!!Yt.addNoResponse,Ge=!!Yt.disableFetchKeepAlive,xe={sendPOST:Or},N||(jt=!1),se){var Ur=m2();Ur&&Ur.protocol&&Ur.protocol[VA]()==="file:"&&(jt=!1)}return!0}catch{}return!1},lt.getSyncFetchPayload=function(){return y},lt.getSenderInst=function(Yt,Ur){return Yt&&Yt[Ln]?ui(Yt,Ur):null},lt.getFallbackInst=function(){return xe},lt[uE]=function(Yt,Ur){To()};function fr(Yt,Ur){fi(Ur,200,{},Yt)}o(fr,"_onSuccess");function wr(Yt,Ur){Dr(D,2,26,"Failed to send telemetry.",{message:Yt}),fi(Ur,400,{})}o(wr,"_onError");function Pn(Yt){wr("No endpoint url is provided for the batch",Yt)}o(Pn,"_onNoPayloadUrl");function ui(Yt,Ur){for(var ji=0,Pt=null,Cn=0;Pt==null&&Cn<Yt[Ln];)ji=Yt[Cn],!ke&&ji===1?P9()?Pt=us:F9()&&(Pt=Or):ji===2&&LC(Ur)&&(!Ur||!Ge)?Pt=di:ji===3&&Wh()&&(Ur?!Xe:!qe)&&(Pt=sn),Cn++;return Pt?{_transport:ji,_isSync:Ur,sendPOST:Pt}:null}o(ui,"_getSenderInterface");function fi(Yt,Ur,ji,Pt){try{Yt&&Yt(Ur,ji,Pt)}catch{}}o(fi,"_doOnComplete");function ro(Yt,Ur){var ji=vh(),Pt=Yt[Xd];if(!Pt)return Pn(Ur),!0;Pt=Yt[Xd]+(ze?xa:tn);var Cn=Yt[ZA],Ss=N?Cn:new Blob([Cn],{type:"text/plain;charset=UTF-8"}),no=ji.sendBeacon(Pt,Ss);return no}o(ro,"_doBeaconSend");function sn(Yt,Ur,ji){var Pt=Yt[ZA];try{if(Pt)if(ro(Yt,Ur))fr(tn,Ur);else{var Cn=W&&W.beaconOnRetry;Cn&&Re(Cn)?Cn(Yt,Ur,ro):(xe&&xe.sendPOST(Yt,Ur,!0),Dr(D,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(Ss){N&&QE(D,"Failed to send telemetry using sendBeacon API. Ex:"+At(Ss)),fi(Ur,N?0:400,{},tn)}}o(sn,"_beaconSender");function Or(Yt,Ur,ji){var Pt,Cn,Ss,no=Yt[x9]||{};!ji&&T&&(Pt=r2(function(_s,al){Cn=_s,Ss=al})),N&&ji&&Yt.disableXhrSync&&(ji=!1);var sl=Yt[Xd];if(!sl){Pn(Ur),Cn&&Cn(!1);return}var dt=k9(ws,sl,jt,!0,ji,Yt[Zd]);N||dt.setRequestHeader("Content-type","application/json"),Gr(et(no),function(_s){dt.setRequestHeader(_s,no[_s])}),dt.onreadystatechange=function(){N||(ba(dt),dt.readyState===4&&Cn&&Cn(!0))},dt.onload=function(){N&&ba(dt)};function ba(_s){var al=W&&W.xhrOnComplete,Pf=al&&Re(al);if(Pf)al(_s,Ur,Yt);else{var q0=TE(_s);fi(Ur,_s[SC],Ug(_s,N),q0)}}return o(ba,"_doOnReadyFunc"),dt.onerror=function(_s){fi(Ur,N?dt[SC]:400,Ug(dt,N),N?tn:wE(dt)),Ss&&Ss(_s)},dt.ontimeout=function(){fi(Ur,N?dt[SC]:500,Ug(dt,N),N?tn:wE(dt)),Cn&&Cn(!1)},dt.send(Yt[ZA]),Pt}o(Or,"_xhrSender");function di(Yt,Ur,ji){var Pt,Cn=Yt[Xd],Ss=Yt[ZA],no=N?Ss:new Blob([Ss],{type:"application/json"}),sl,dt,ba,_s=new Headers,al=Ss[Ln],Pf=!1,q0=!1,U2=Yt[x9]||{},om=(Pt={method:ws,body:no},Pt[pB]=!0,Pt);Yt.headers&&et(Yt.headers)[Ln]>0&&(Gr(et(U2),function(ds){_s.append(ds,U2[ds])}),om[x9]=_s),fe?om.credentials=fe:jt&&N&&(om.credentials="include"),ji&&(om.keepalive=!0,y+=al,N?Yt._sendReason===2&&(Pf=!0,ze&&(Cn+=xa)):Pf=!0);var q2=new Request(Cn,om);try{q2[pB]=!0}catch{}if(!ji&&T&&(sl=r2(function(ds,Fl){dt=ds,ba=Fl})),!Cn){Pn(Ur),dt&&dt(!1);return}function sm(ds){fi(Ur,N?0:400,{},N?tn:ds)}o(sm,"_handleError");function W2(ds,Fl,gt){var Ir=ds[SC],vn=W.fetchOnComplete;vn&&Re(vn)?vn(ds,Ur,gt||tn,Fl):fi(Ur,Ir,{},gt||tn)}o(W2,"_onFetchComplete");try{pc(fetch(N?Cn:q2,N?om:null),function(ds){if(ji&&(y-=al,al=0),!q0)if(q0=!0,ds.rejected)sm(ds.reason&&ds.reason[Fg]),ba&&ba(ds.reason);else{var Fl=ds[YA];try{!N&&!Fl.ok?(sm(Fl.statusText),dt&&dt(!1)):N&&!Fl.body?(W2(Fl,null,tn),dt&&dt(!0)):pc(Fl.text(),function(gt){W2(Fl,Yt,gt[YA]),dt&&dt(!0)})}catch(gt){sm(At(gt)),ba&&ba(gt)}}})}catch(ds){q0||(sm(At(ds)),ba&&ba(ds))}return Pf&&!q0&&(q0=!0,fi(Ur,200,{}),dt&&dt(!0)),N&&!q0&&Yt[Zd]>0&&ht&&ht.set(function(){q0||(q0=!0,fi(Ur,500,{}),dt&&dt(!0))},Yt[Zd]),sl}o(di,"_doFetchSender");function us(Yt,Ur,ji){var Pt=jd(),Cn=new XDomainRequest,Ss=Yt[ZA];Cn.onload=function(){var _s=TE(Cn),al=W&&W.xdrOnComplete;al&&Re(al)?al(Cn,Ur,Yt):fi(Ur,200,{},_s)},Cn.onerror=function(){fi(Ur,400,{},N?tn:Zk(Cn))},Cn.ontimeout=function(){fi(Ur,500,{})},Cn.onprogress=function(){};var no=Pt&&Pt.location&&Pt.location.protocol||"",sl=Yt[Xd];if(!sl){Pn(Ur);return}if(!N&&sl.lastIndexOf(no,0)!==0){var dt="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";Dr(D,2,40,". "+dt),wr(dt,Ur);return}var ba=N?sl:sl[Mh](/^(https?:)/,"");Cn.open(ws,ba),Yt[Zd]&&(Cn[Zd]=Yt[Zd]),Cn.send(Ss),N&&ji?ht&&ht.set(function(){Cn.send(Ss)},0):Cn.send(Ss)}o(us,"_xdrSender");function To(){y=0,_=!1,T=!1,D=null,N=null,W=null,se=null,fe=null,xe=null,ke=!1,qe=!1,Xe=!1,Ge=!1,ze=!1,ht=null}o(To,"_initDefaults")})}return o(g,"SenderPostManager"),g.__ieDyn=1,g}(),Gg="on",Yh="attachEvent",P2="addEventListener",FB="detachEvent",NB="removeEventListener",jE="events";rm("aiEvtPageHide"),rm("aiEvtPageShow");var Fj=/\.[\.]+/g,aue=/[\.]+$/,Yqe=1,LB=sB("events"),Kqe=/^([^.]*)(?:\.(.+)|)/;function lue(g){return g&&g[Mh]?g[Mh](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,ii):g}o(lue,"_normalizeNamespace");function Nj(g,y){if(y){var T=ii;Oe(y)?(T=ii,Gr(y,function(D){D=lue(D),D&&(D[0]!=="."&&(D="."+D),T+=D)})):T=lue(y),T&&(T[0]!=="."&&(T="."+T),g=(g||ii)+T)}var _=Kqe.exec(g||ii)||[];return{type:_[1],ns:(_[2]||ii).replace(Fj,".").replace(aue,ii)[Qh](".").sort().join(".")}}o(Nj,"_getEvtNamespace");function cue(g,y,T){T===void 0&&(T=!0);var _=LB.get(g,jE,{},T),D=_[y];return D||(D=_[y]=[]),D}o(cue,"_getRegisteredEvents");function uue(g,y,T,_){g&&y&&y[Dl]&&(g[NB]?g[NB](y[Dl],T,_):g[FB]&&g[FB](Gg+y[Dl],T))}o(uue,"_doDetach");function Jqe(g,y,T,_){var D=!1;return g&&y&&y[Dl]&&T&&(g[P2]?(g[P2](y[Dl],T,_),D=!0):g[Yh]&&(g[Yh](Gg+y[Dl],T),D=!0)),D}o(Jqe,"_doAttach");function fue(g,y,T,_){for(var D=y[Ln];D--;){var N=y[D];N&&(!T.ns||T.ns===N[A9].ns)&&(!_||_(N))&&(uue(g,N[A9],N.handler,N.capture),y[$A](D,1))}}o(fue,"_doUnregister");function Xqe(g,y,T){if(y[Dl])fue(g,cue(g,y[Dl]),y,T);else{var _=LB.get(g,jE,{});te(_,function(D,N){fue(g,N,y,T)}),et(_)[Ln]===0&&LB.kill(g,jE)}}o(Xqe,"_unregisterEvents");function due(g,y){var T;return y?(Oe(y)?T=[g].concat(y):T=[g,y],T=Nj("xx",T).ns[Qh](".")):T=g,T}o(due,"mergeEvtNamespace");function mue(g,y,T,_,D){D===void 0&&(D=!1);var N=!1;if(g)try{var W=Nj(y,_);if(N=Jqe(g,W,T,D),N&&LB.accept(g)){var se={guid:Yqe++,evtName:W,handler:T,capture:D};cue(g,W.type)[Di](se)}}catch{}return N}o(mue,"eventOn");function Zqe(g,y,T,_,D){if(D===void 0&&(D=!1),g)try{var N=Nj(y,_),W=!1;Xqe(g,N,function(se){return N.ns&&!T||se.handler===T?(W=!0,!0):!1}),W||uue(g,N,T,D)}catch{}}o(Zqe,"eventOff");var hue="sampleRate",Lj="ProcessLegacy",pue="http.method",Qj="https://dc.services.visualstudio.com",$E="/v2/track",F2="not_specified",gue=KV({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),QB="split",ri="length",Mj="toLowerCase",zC="ingestionendpoint",t7="toString",Aue="removeItem",MB="message",eWe="count",Oj="stringify",Uj="pathname",r7="match",N2="name",Kh="properties",Hg="measurements",OB="sizeInBytes",UB="typeName",n7="exceptions",i7="severityLevel",qj="problemGroup",zE="parsedStack",qB="hasFullStack",WB="assembly",Vg="fileName",YE="line",GB="aiDataContract",HB="duration";function yue(g,y,T){var _=y[ri],D=tWe(g,y);if(D[ri]!==_){for(var N=0,W=D;T[W]!==void 0;)N++,W=me(D,0,147)+iWe(N);D=W}return D}o(yue,"dataSanitizeKeyAndAddUniqueness");function tWe(g,y){var T;return y&&(y=Ri(yt(y)),y[ri]>150&&(T=me(y,0,150),Dr(g,2,57,"name is too long.  It has been truncated to 150 characters.",{name:y},!0))),T||y}o(tWe,"dataSanitizeKey");function l0(g,y,T){T===void 0&&(T=1024);var _;return y&&(T=T||1024,y=Ri(yt(y)),y[ri]>T&&(_=me(y,0,T),Dr(g,2,61,"string value is too long. It has been truncated to "+T+" characters.",{value:y},!0))),_||y}o(l0,"dataSanitizeString");function Wj(g,y){return xue(g,y,2048,66)}o(Wj,"dataSanitizeUrl");function Cue(g,y){var T;return y&&y[ri]>32768&&(T=me(y,0,32768),Dr(g,2,56,"message is too long, it has been truncated to 32768 characters.",{message:y},!0)),T||y}o(Cue,"dataSanitizeMessage");function rWe(g,y){var T;if(y){var _=""+y;_[ri]>32768&&(T=me(_,0,32768),Dr(g,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:y},!0))}return T||y}o(rWe,"dataSanitizeException");function YC(g,y){if(y){var T={};te(y,function(_,D){if(Ee(D)&&h2())try{D=O0()[Oj](D)}catch(N){Dr(g,2,49,"custom property is not valid",{exception:N},!0)}D=l0(g,D,8192),_=yue(g,_,T),T[_]=D}),y=T}return y}o(YC,"dataSanitizeProperties");function KC(g,y){if(y){var T={};te(y,function(_,D){_=yue(g,_,T),T[_]=D}),y=T}return y}o(KC,"dataSanitizeMeasurements");function nWe(g,y){return y&&xue(g,y,128,69)[t7]()}o(nWe,"dataSanitizeId");function xue(g,y,T,_){var D;return y&&(y=Ri(yt(y)),y[ri]>T&&(D=me(y,0,T),Dr(g,2,_,"input is too long, it has been truncated to "+T+" characters.",{data:y},!0))),D||y}o(xue,"dataSanitizeInput");function iWe(g){var y="00"+g;return ye(y,y[ri]-3)}o(iWe,"dsPadNumber");var Eue=kA()||{},bue=0,oWe=[null,null,null,null,null];function sWe(g){var y=bue,T=oWe,_=T[y];return Eue.createElement?T[y]||(_=T[y]=Eue.createElement("a")):_={host:aWe(g,!0)},_.href=g,y++,y>=T[ri]&&(y=0),bue=y,_}o(sWe,"urlParseUrl");function aWe(g,y){var T=lWe(g,y)||"";if(T){var _=T[r7](/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(_!=null&&_[ri]>3&&de(_[2])&&_[2][ri]>0)return _[2]+(_[3]||"")}return T}o(aWe,"urlParseHost");function lWe(g,y){var T=null;if(g){var _=g[r7](/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(_!=null&&_[ri]>2&&de(_[2])&&_[2][ri]>0&&(T=_[2]||"",y&&_[ri]>2)){var D=(_[1]||"")[Mj](),N=_[3]||"";(D==="http"&&N===":80"||D==="https"&&N===":443")&&(N=""),T+=N}}return T}o(lWe,"urlParseFullHost");var cWe=[Qj+$E,"https://breeze.aimon.applicationinsights.io"+$E,"https://dc-int.services.visualstudio.com"+$E];function vue(g){return L0(cWe,g[Mj]())!==-1}o(vue,"isInternalApplicationInsightsEndpoint");function uWe(g,y,T,_){var D,N=_,W=_;if(y&&y[ri]>0){var se=sWe(y);if(D=se.host,!N)if(se[Uj]!=null){var fe=se.pathname[ri]===0?"/":se[Uj];fe.charAt(0)!=="/"&&(fe="/"+fe),W=se[Uj],N=l0(g,T?T+" "+fe:fe)}else N=l0(g,y)}else D=_,N=_;return{target:D,name:N,data:W}}o(uWe,"AjaxHelperParseDependencyPath");var Gj=oE({LocalStorage:0,SessionStorage:1}),KE=void 0,Iue="";function Tue(g){try{if(X(Cf()))return null;var y=new Date()[t7](),T=Qs(g===Gj.LocalStorage?"localStorage":"sessionStorage"),_=Iue+y;T.setItem(_,y);var D=T.getItem(_)!==y;if(T[Aue](_),!D)return T}catch{}return null}o(Tue,"_getVerifiedStorageObject");function Hj(){return wue()?Tue(Gj.SessionStorage):null}o(Hj,"_getSessionStorageObject");function fWe(g){Iue=g||""}o(fWe,"utlSetStoragePrefix");function wue(g){return(g||KE===void 0)&&(KE=!!Tue(Gj.SessionStorage)),KE}o(wue,"utlCanUseSessionStorage");function dWe(g,y){var T=Hj();if(T!==null)try{return T.getItem(y)}catch(_){KE=!1,Dr(g,2,2,"Browser failed read of session storage. "+Ha(_),{exception:At(_)})}return null}o(dWe,"utlGetSessionStorage");function mWe(g,y,T){var _=Hj();if(_!==null)try{return _.setItem(y,T),!0}catch(D){KE=!1,Dr(g,2,4,"Browser failed write to session storage. "+Ha(D),{exception:At(D)})}return!1}o(mWe,"utlSetSessionStorage");function hWe(g,y){var T=Hj();if(T!==null)try{return T[Aue](y),!0}catch(_){KE=!1,Dr(g,2,6,"Browser failed removal of session storage item. "+Ha(_),{exception:At(_)})}return!1}o(hWe,"utlRemoveSessionStorage");var pWe=";",gWe="=";function Vj(g){if(!g)return{};var y=g[QB](pWe),T=MV(y,function(D,N){var W=N[QB](gWe);if(W[ri]===2){var se=W[0][Mj](),fe=W[1];D[se]=fe}return D},{});if(et(T)[ri]>0){if(T.endpointsuffix){var _=T.location?T.location+".":"";T[zC]=T[zC]||"https://"+_+"dc."+T.endpointsuffix}T[zC]=T[zC]||Qj,Dk(T[zC],"/")&&(T[zC]=T[zC].slice(0,-1))}return T}o(Vj,"parseConnectionString");var AWe=function(){function g(y,T,_){var D=this,N=this;N.ver=1,N.sampleRate=100,N.tags={},N[N2]=l0(y,_)||F2,N.data=T,N.time=BC(new Date),N[GB]={time:1,iKey:1,name:1,sampleRate:o(function(){return D.sampleRate===100?4:1},"sampleRate"),tags:1,data:1}}return o(g,"Envelope"),g}(),JE=function(){function g(y,T,_,D){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var N=this;N.ver=2,N[N2]=l0(y,T)||F2,N[Kh]=YC(y,_),N[Hg]=KC(y,D)}return o(g,"Event"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Event",g.dataType="EventData",g}(),yWe=58,CWe=/^\s{0,50}(from\s|at\s|Line\s{1,5}\d{1,10}\s{1,5}of|\w{1,50}@\w{1,80}|[^\(\s\n]+:[0-9\?]+(?::[0-9\?]+)?)/,xWe=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+):([0-9\?]+)\)?$/,EWe=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+)\)?$/,bWe=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\)\]]+)\)?$/,vWe=/(?:^|\(|\s{0,10}[\w\)]+\@)?([^\(\n\s\]\)]+)(?:\:([0-9]+)(?:\:([0-9]+))?)?\)?(?:,|$)/,IWe=/([^\(\s\n]+):([0-9]+):([0-9]+)$/,TWe=/([^\(\s\n]+):([0-9]+)$/,Sue="<no_method>",XE="error",Df="stack",jj="stackDetails",_ue="errorSrc",$j="message",kue="description",Bue=[{re:xWe,len:5,m:1,fn:2,ln:3,col:4},{chk:SWe,pre:wWe,re:EWe,len:4,m:1,fn:2,ln:3},{re:bWe,len:3,m:1,fn:2,hdl:Lue},{re:vWe,len:2,fn:1,hdl:Lue}];function wWe(g){return g.replace(/(\(anonymous\))/,"<anonymous>")}o(wWe,"_scrubAnonymous");function SWe(g){return $d(g,"[native")<0}o(SWe,"_ignoreNative");function zj(g,y){var T=g;return T&&!de(T)&&(JSON&&JSON[Oj]?(T=JSON[Oj](g),y&&(!T||T==="{}")&&(Re(g[t7])?T=g[t7]():T=""+g)):T=""+g+" - (Missing JSON.stringify)"),T||""}o(zj,"_stringify");function Rue(g,y){var T=g;return g&&(T&&!de(T)&&(T=g[$j]||g[kue]||T),T&&!de(T)&&(T=zj(T,!0)),g.filename&&(T=T+" @"+(g.filename||"")+":"+(g.lineno||"?")+":"+(g.colno||"?"))),y&&y!=="String"&&y!=="Object"&&y!=="Error"&&$d(T||"",y)===-1&&(T=y+": "+T),T||""}o(Rue,"_formatMessage");function _We(g){try{if(Ee(g))return"hasFullStack"in g&&"typeName"in g}catch{}return!1}o(_We,"_isExceptionDetailsInternal");function kWe(g){try{if(Ee(g))return"ver"in g&&"exceptions"in g&&"properties"in g}catch{}return!1}o(kWe,"_isExceptionInternal");function Due(g){return g&&g.src&&de(g.src)&&g.obj&&Oe(g.obj)}o(Due,"_isStackDetails");function JC(g){var y=g||"";de(y)||(de(y[Df])?y=y[Df]:y=""+y);var T=y[QB](`
`);return{src:y,obj:T}}o(JC,"_convertStackObj");function BWe(g){for(var y=[],T=g[QB](`
`),_=0;_<T[ri];_++){var D=T[_];T[_+1]&&(D+="@"+T[_+1],_++),y.push(D)}return{src:g,obj:y}}o(BWe,"_getOperaStack");function Pue(g){var y=null;if(g)try{if(g[Df])y=JC(g[Df]);else if(g[XE]&&g[XE][Df])y=JC(g[XE][Df]);else if(g.exception&&g.exception[Df])y=JC(g.exception[Df]);else if(Due(g))y=g;else if(Due(g[jj]))y=g[jj];else if(jd()&&jd().opera&&g[$j])y=BWe(g[MB]);else if(g.reason&&g.reason[Df])y=JC(g.reason[Df]);else if(de(g))y=JC(g);else{var T=g[$j]||g[kue]||"";de(g[_ue])&&(T&&(T+=`
`),T+=" from "+g[_ue]),T&&(y=JC(T))}}catch(_){y=JC(_)}return y||{src:"",obj:null}}o(Pue,"_getStackFromErrorObj");function RWe(g){var y="";return g&&(g.obj?y=g.obj.join(`
`):y=g.src||""),y}o(RWe,"_formatStackTrace");function DWe(g){var y,T=g.obj;if(T&&T[ri]>0){y=[];var _=0,D=!1,N=0;Gr(T,function(ht){if(D||LWe(ht)){var lt=yt(ht);D=!0;var It=QWe(lt,_);It&&(N+=It[OB],y.push(It),_++)}});var W=32*1024;if(N>W)for(var se=0,fe=y[ri]-1,xe=0,ke=se,qe=fe;se<fe;){var Xe=y[se][OB],Ge=y[fe][OB];if(xe+=Xe+Ge,xe>W){var ze=qe-ke+1;y.splice(ke,ze);break}ke=se,qe=fe,se++,fe--}}return y}o(DWe,"_parseStack");function VB(g){var y="";if(g&&(y=g.typeName||g[N2]||"",!y))try{var T=/function (.{1,200})\(/,_=T.exec(g.constructor[t7]());y=_&&_[ri]>1?_[1]:""}catch{}return y}o(VB,"_getErrorType");function Yj(g){if(g)try{if(!de(g)){var y=VB(g),T=zj(g,!1);return(!T||T==="{}")&&(g[XE]&&(g=g[XE],y=VB(g)),T=zj(g,!0)),$d(T,y)!==0&&y!=="String"?y+":"+T:T}}catch{}return""+(g||"")}o(Yj,"_formatErrorCode");var jB=function(){function g(y,T,_,D,N,W){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var se=this;se.ver=2,kWe(T)?(se[n7]=T[n7]||[],se[Kh]=T[Kh],se[Hg]=T[Hg],T[i7]&&(se[i7]=T[i7]),T.id&&(se.id=T.id,T[Kh].id=T.id),T[qj]&&(se[qj]=T[qj]),X(T.isManual)||(se.isManual=T.isManual)):(_||(_={}),W&&(_.id=W),se[n7]=[Fue(y,T,_)],se[Kh]=YC(y,_),se[Hg]=KC(y,D),N&&(se[i7]=N),W&&(se.id=W))}return o(g,"Exception"),g.CreateAutoException=function(y,T,_,D,N,W,se,fe){var xe=VB(N||W||y);return{message:Rue(y,xe),url:T,lineNumber:_,columnNumber:D,error:Yj(N||W||y),evt:Yj(W||y),typeName:xe,stackDetails:Pue(se||N||W),errorSrc:fe}},g.CreateFromInterface=function(y,T,_,D){var N=T[n7]&&Ig(T[n7],function(se){return NWe(y,se)}),W=new g(y,Yd(Yd({},T),{exceptions:N}),_,D);return W},g.prototype.toInterface=function(){var y=this,T=y.exceptions,_=y.properties,D=y.measurements,N=y.severityLevel,W=y.problemGroup,se=y.id,fe=y.isManual,xe=T instanceof Array&&Ig(T,function(ke){return ke.toInterface()})||void 0;return{ver:"4.0",exceptions:xe,severityLevel:N,properties:_,measurements:D,problemGroup:W,id:se,isManual:fe}},g.CreateSimpleException=function(y,T,_,D,N,W){var se;return{exceptions:[(se={},se[qB]=!0,se.message=y,se.stack=N,se.typeName=T,se)]}},g.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",g.dataType="ExceptionData",g.formatError=Yj,g}(),PWe=Et({id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2});function FWe(){var g=this,y=Oe(g[zE])&&Ig(g[zE],function(_){return OWe(_)}),T={id:g.id,outerId:g.outerId,typeName:g[UB],message:g[MB],hasFullStack:g[qB],stack:g[Df],parsedStack:y||void 0};return T}o(FWe,"_toInterface");function Fue(g,y,T){var _,D,N,W,se,fe,xe,ke;if(_We(y))W=y[UB],se=y[MB],xe=y[Df],ke=y[zE]||[],fe=y[qB];else{var qe=y,Xe=qe&&qe.evt;ot(qe)||(qe=qe[XE]||Xe||qe),W=l0(g,VB(qe))||F2,se=Cue(g,Rue(y||qe,W))||F2;var Ge=y[jj]||Pue(y);ke=DWe(Ge),Oe(ke)&&Ig(ke,function(ze){ze[WB]=l0(g,ze[WB]),ze[Vg]=l0(g,ze[Vg])}),xe=rWe(g,RWe(Ge)),fe=Oe(ke)&&ke[ri]>0,T&&(T[UB]=T[UB]||W)}return _={},_[GB]=PWe,_.id=D,_.outerId=N,_.typeName=W,_.message=se,_[qB]=fe,_.stack=xe,_.parsedStack=ke,_.toInterface=FWe,_}o(Fue,"_createExceptionDetails");function NWe(g,y){var T=Oe(y[zE])&&Ig(y[zE],function(D){return MWe(D)})||y[zE],_=Fue(g,Yd(Yd({},y),{parsedStack:T}));return _}o(NWe,"_createExDetailsFromInterface");function Nue(g,y){var T=y[r7](IWe);if(T&&T[ri]>=4)g[Vg]=T[1],g[YE]=parseInt(T[2]);else{var _=y[r7](TWe);_&&_[ri]>=3?(g[Vg]=_[1],g[YE]=parseInt(_[2])):g[Vg]=y}}o(Nue,"_parseFilename");function Lue(g,y,T){var _=g[Vg];y.fn&&T&&T[ri]>y.fn&&(y.ln&&T[ri]>y.ln?(_=Ri(T[y.fn]||""),g[YE]=parseInt(Ri(T[y.ln]||""))||0):_=Ri(T[y.fn]||"")),_&&Nue(g,_)}o(Lue,"_handleFilename");function LWe(g){var y=!1;if(g&&de(g)){var T=Ri(g);T&&(y=CWe.test(T))}return y}o(LWe,"_isStackFrame");var Que=Et({level:1,method:1,assembly:0,fileName:0,line:0});function QWe(g,y){var T,_;if(g&&de(g)&&Ri(g)){_=(T={},T[GB]=Que,T.level=y,T.assembly=Ri(g),T.method=Sue,T.fileName="",T.line=0,T.sizeInBytes=0,T);for(var D=0;D<Bue[ri];){var N=Bue[D];if(N.chk&&!N.chk(g))break;N.pre&&(g=N.pre(g));var W=g[r7](N.re);if(W&&W[ri]>=N.len){N.m&&(_.method=Ri(W[N.m]||Sue)),N.hdl?N.hdl(_,N,W):N.fn&&(N.ln?(_[Vg]=Ri(W[N.fn]||""),_[YE]=parseInt(Ri(W[N.ln]||""))||0):Nue(_,W[N.fn]||""));break}D++}}return Mue(_)}o(QWe,"_extractStackFrame");function MWe(g){var y,T=(y={},y[GB]=Que,y.level=g.level,y.method=g.method,y.assembly=g[WB],y.fileName=g[Vg],y.line=g[YE],y.sizeInBytes=0,y);return Mue(T)}o(MWe,"_stackFrameFromInterface");function Mue(g){var y=yWe;return g&&(y+=g.method[ri],y+=g.assembly[ri],y+=g.fileName[ri],y+=g.level.toString()[ri],y+=g.line.toString()[ri],g[OB]=y),g}o(Mue,"_populateFrameSizeInBytes");function OWe(g){return{level:g.level,method:g.method,assembly:g[WB],fileName:g[Vg],line:g[YE]}}o(OWe,"_parsedFrameToInterface");var UWe=function(){function g(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return o(g,"DataPoint"),g}(),o7=function(){function g(y,T,_,D,N,W,se,fe,xe){this.aiDataContract={ver:1,metrics:1,properties:0};var ke=this;ke.ver=2;var qe=new UWe;qe[eWe]=D>0?D:void 0,qe.max=isNaN(W)||W===null?void 0:W,qe.min=isNaN(N)||N===null?void 0:N,qe[N2]=l0(y,T)||F2,qe.value=_,qe.stdDev=isNaN(se)||se===null?void 0:se,ke.metrics=[qe],ke[Kh]=YC(y,fe),ke[Hg]=KC(y,xe)}return o(g,"Metric"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",g.dataType="MetricData",g}(),s7="";function Oue(g){(isNaN(g)||g<0)&&(g=0),g=GV(g);var y=s7+g%1e3,T=s7+Tg(g/1e3)%60,_=s7+Tg(g/(1e3*60))%60,D=s7+Tg(g/(1e3*60*60))%24,N=Tg(g/(1e3*60*60*24));return y=y[ri]===1?"00"+y:y[ri]===2?"0"+y:y,T=T[ri]<2?"0"+T:T,_=_[ri]<2?"0"+_:_,D=D[ri]<2?"0"+D:D,(N>0?N+".":s7)+D+":"+_+":"+T+"."+y}o(Oue,"msToTimeSpan");var $B=function(){function g(y,T,_,D,N,W,se){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var fe=this;fe.ver=2,fe.id=nWe(y,se),fe.url=Wj(y,_),fe[N2]=l0(y,T)||F2,isNaN(D)||(fe[HB]=Oue(D)),fe[Kh]=YC(y,N),fe[Hg]=KC(y,W)}return o(g,"PageView"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",g.dataType="PageviewData",g}(),zB=function(){function g(y,T,_,D,N,W,se,fe,xe,ke,qe,Xe){xe===void 0&&(xe="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var Ge=this;Ge.ver=2,Ge.id=T,Ge[HB]=Oue(N),Ge.success=W,Ge.resultCode=se+"",Ge.type=l0(y,xe);var ze=uWe(y,_,fe,D);Ge.data=Wj(y,D)||ze.data,Ge.target=l0(y,ze.target),ke&&(Ge.target="".concat(Ge.target," | ").concat(ke)),Ge[N2]=l0(y,ze[N2]),Ge[Kh]=YC(y,qe),Ge[Hg]=KC(y,Xe)}return o(g,"RemoteDependencyData"),g.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",g.dataType="RemoteDependencyData",g}(),YB=function(){function g(y,T,_,D,N){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var W=this;W.ver=2,T=T||F2,W[MB]=Cue(y,T),W[Kh]=YC(y,D),W[Hg]=KC(y,N),_&&(W[i7]=_)}return o(g,"Trace"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Message",g.dataType="MessageData",g}(),KB=function(){function g(y,T,_,D,N,W,se){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var fe=this;fe.ver=2,fe.url=Wj(y,_),fe[N2]=l0(y,T)||F2,fe[Kh]=YC(y,N),fe[Hg]=KC(y,W),se&&(fe.domProcessing=se.domProcessing,fe[HB]=se[HB],fe.networkConnect=se.networkConnect,fe.perfTotal=se.perfTotal,fe.receivedResponse=se.receivedResponse,fe.sentRequest=se.sentRequest)}return o(g,"PageViewPerformance"),g.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",g.dataType="PageviewPerformanceData",g}(),XC=function(){function g(y,T){this.aiDataContract={baseType:1,baseData:1},this.baseType=y,this.baseData=T}return o(g,"Data"),g}(),qWe=oE({Verbose:0,Information:1,Warning:2,Error:3,Critical:4});function L2(g){var y="ai."+g+".";return function(T){return y+T}}o(L2,"_aiNameFunc");var a7=L2("application"),ja=L2("device"),JB=L2("location"),ZE=L2("operation"),Kj=L2("session"),Q2=L2("user"),ZC=L2("cloud"),l7=L2("internal"),Uue=function(g){IC(y,g);function y(){return g.call(this)||this}return o(y,"ContextTagKeys"),y}(oj({applicationVersion:a7("ver"),applicationBuild:a7("build"),applicationTypeId:a7("typeId"),applicationId:a7("applicationId"),applicationLayer:a7("layer"),deviceId:ja("id"),deviceIp:ja("ip"),deviceLanguage:ja("language"),deviceLocale:ja("locale"),deviceModel:ja("model"),deviceFriendlyName:ja("friendlyName"),deviceNetwork:ja("network"),deviceNetworkName:ja("networkName"),deviceOEMName:ja("oemName"),deviceOS:ja("os"),deviceOSVersion:ja("osVersion"),deviceRoleInstance:ja("roleInstance"),deviceRoleName:ja("roleName"),deviceScreenResolution:ja("screenResolution"),deviceType:ja("type"),deviceMachineName:ja("machineName"),deviceVMName:ja("vmName"),deviceBrowser:ja("browser"),deviceBrowserVersion:ja("browserVersion"),locationIp:JB("ip"),locationCountry:JB("country"),locationProvince:JB("province"),locationCity:JB("city"),operationId:ZE("id"),operationName:ZE("name"),operationParentId:ZE("parentId"),operationRootId:ZE("rootId"),operationSyntheticSource:ZE("syntheticSource"),operationCorrelationVector:ZE("correlationVector"),sessionId:Kj("id"),sessionIsFirst:Kj("isFirst"),sessionIsNew:Kj("isNew"),userAccountAcquisitionDate:Q2("accountAcquisitionDate"),userAccountId:Q2("accountId"),userAgent:Q2("userAgent"),userId:Q2("id"),userStoreRegion:Q2("storeRegion"),userAuthUserId:Q2("authUserId"),userAnonymousUserAcquisitionDate:Q2("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Q2("authUserAcquisitionDate"),cloudName:ZC("name"),cloudRole:ZC("role"),cloudRoleVer:ZC("roleVer"),cloudRoleInstance:ZC("roleInstance"),cloudEnvironment:ZC("environment"),cloudLocation:ZC("location"),cloudDeploymentUnit:ZC("deploymentUnit"),internalNodeName:l7("nodeName"),internalSdkVersion:l7("sdkVersion"),internalAgentVersion:l7("agentVersion"),internalSnippet:l7("snippet"),internalSdkSrc:l7("sdkSrc")})),il=new Uue;function que(g,y){Zqe(g,null,null,y)}o(que,"_disableEvents");function WWe(g){var y=kA(),T=vh(),_=!1,D=[],N=1;T&&!X(T.onLine)&&!T.onLine&&(N=2);var W=0,se=Xe(),fe=due(rm("OfflineListener"),g);try{if(ke(jd())&&(_=!0),y){var xe=y.body||y;xe.ononline&&ke(xe)&&(_=!0)}}catch{_=!1}function ke(fr){var wr=!1;return fr&&(wr=mue(fr,"online",ht,fe),wr&&mue(fr,"offline",lt,fe)),wr}o(ke,"_enableEvents");function qe(){return se}o(qe,"_isOnline");function Xe(){return!(W===2||N===2)}o(Xe,"calCurrentState");function Ge(){var fr=Xe();se!==fr&&(se=fr,Gr(D,function(wr){var Pn={isOnline:se,rState:N,uState:W};try{wr(Pn)}catch{}}))}o(Ge,"listnerNoticeCheck");function ze(fr){W=fr,Ge()}o(ze,"setOnlineState");function ht(){N=1,Ge()}o(ht,"_setOnline");function lt(){N=2,Ge()}o(lt,"_setOffline");function It(){var fr=jd();if(fr&&_){if(que(fr,fe),y){var wr=y.body||y;M(wr.ononline)||que(wr,fe)}_=!1}}o(It,"_unload");function jt(fr){return D.push(fr),{rm:o(function(){var wr=D.indexOf(fr);if(wr>-1)return D.splice(wr,1)},"rm")}}return o(jt,"addListener"),{isOnline:qe,isListening:o(function(){return _},"isListening"),unload:It,addListener:jt,setOnlineState:ze}}o(WWe,"createOfflineListener");var GWe="AppInsightsChannelPlugin",e3="duration",Pl="tags",Jj="deviceType",pu="data",jg="name",c7="traceID",si="length",u7="stringify",t3="measurements",Jh="dataType",r3="envelopeType",n3="toString",i3="enqueue",o3="count",$g="push",Xj="emitLineDelimitedJson",eb="clear",XB="markAsSent",f7="clearSent",Zj="bufferOverride",d7="BUFFER_KEY",M2="SENT_BUFFER_KEY",tb="concat",m7="MAX_BUFFER_SIZE",h7="triggerSend",c0="diagLog",e$="initialize",p7="_sender",g7="endpointUrl",A7="instrumentationKey",t$="customHeaders",Wue="maxBatchSizeInBytes",r$="onunloadDisableBeacon",n$="isBeaconApiDisabled",Gue="alwaysUseXhrOverride",Hue="enableSessionStorageBuffer",Xh="_buffer",Vue="onunloadDisableFetch",jue="disableSendBeaconSplit",ZB="getSenderInst",s3="_onError",i$="_onPartialSuccess",eR="_onSuccess",o$="itemsReceived",s$="itemsAccepted",a$="baseType",tR="sampleRate",HWe="getHashCodeScore",l$="baseType",cs="baseData",ol="properties",$ue="true";function na(g,y,T){return Uh(g,y,T,oe)}o(na,"_setValueIf");function VWe(g,y,T){var _=T[Pl]=T[Pl]||{},D=y.ext=y.ext||{},N=y[Pl]=y[Pl]||[],W=D.user;W&&(na(_,il.userAuthUserId,W.authId),na(_,il.userId,W.id||W.localId));var se=D.app;se&&na(_,il.sessionId,se.sesId);var fe=D.device;fe&&(na(_,il.deviceId,fe.id||fe.localId),na(_,il[Jj],fe.deviceClass),na(_,il.deviceIp,fe.ip),na(_,il.deviceModel,fe.model),na(_,il[Jj],fe[Jj]));var xe=y.ext.web;if(xe){na(_,il.deviceLanguage,xe.browserLang),na(_,il.deviceBrowserVersion,xe.browserVer),na(_,il.deviceBrowser,xe.browser);var ke=T[pu]=T[pu]||{},qe=ke[cs]=ke[cs]||{},Xe=qe[ol]=qe[ol]||{};na(Xe,"domain",xe.domain),na(Xe,"isManual",xe.isManual?$ue:null),na(Xe,"screenRes",xe.screenRes),na(Xe,"userConsent",xe.userConsent?$ue:null)}var Ge=D.os;Ge&&(na(_,il.deviceOS,Ge[jg]),na(_,il.deviceOSVersion,Ge.osVer));var ze=D.trace;ze&&(na(_,il.operationParentId,ze.parentID),na(_,il.operationName,l0(g,ze[jg])),na(_,il.operationId,ze[c7]));for(var ht={},lt=N[si]-1;lt>=0;lt--){var It=N[lt];te(It,function(fr,wr){ht[fr]=wr}),N.splice(lt,1)}te(N,function(fr,wr){ht[fr]=wr});var jt=Yd(Yd({},_),ht);jt[il.internalSdkVersion]||(jt[il.internalSdkVersion]=l0(g,"javascript:".concat(jWe.Version),64)),T[Pl]=S9(jt)}o(VWe,"_extractPartAExtensions");function O2(g,y,T){X(g)||te(g,function(_,D){Je(D)?T[_]=D:de(D)?y[_]=D:h2()&&(y[_]=O0()[u7](D))})}o(O2,"_extractPropsAndMeasurements");function a3(g,y){X(g)||te(g,function(T,_){g[T]=_||y})}o(a3,"_convertPropsUndefinedToCustomDefinedValue");function l3(g,y,T,_){var D=new AWe(g,_,y);na(D,"sampleRate",T[hue]),(T[cs]||{}).startTime&&(D.time=BC(T[cs].startTime)),D.iKey=T.iKey;var N=T.iKey.replace(/-/g,"");return D[jg]=D[jg].replace("{0}",N),VWe(g,T,D),T[Pl]=T[Pl]||[],S9(D)}o(l3,"_createEnvelope");function c3(g,y){X(y[cs])&&Dr(g,1,46,"telemetryItem.baseData cannot be null.")}o(c3,"EnvelopeCreatorInit");var jWe={Version:"3.3.6"};function $We(g,y,T){c3(g,y);var _=y[cs][t3]||{},D=y[cs][ol]||{};O2(y[pu],D,_),X(T)||a3(D,T);var N=y[cs];if(X(N))return QE(g,"Invalid input for dependency data"),null;var W=N[ol]&&N[ol][pue]?N[ol][pue]:"GET",se=new zB(g,N.id,N.target,N[jg],N[e3],N.success,N.responseCode,W,N.type,N.correlationContext,D,_),fe=new XC(zB[Jh],se);return l3(g,zB[r3],y,fe)}o($We,"DependencyEnvelopeCreator");function zue(g,y,T){c3(g,y);var _={},D={};y[l$]!==JE[Jh]&&(_.baseTypeSource=y[l$]),y[l$]===JE[Jh]?(_=y[cs][ol]||{},D=y[cs][t3]||{}):y[cs]&&O2(y[cs],_,D),O2(y[pu],_,D),X(T)||a3(_,T);var N=y[cs][jg],W=new JE(g,N,_,D),se=new XC(JE[Jh],W);return l3(g,JE[r3],y,se)}o(zue,"EventEnvelopeCreator");function zWe(g,y,T){c3(g,y);var _=y[cs][t3]||{},D=y[cs][ol]||{};O2(y[pu],D,_),X(T)||a3(D,T);var N=y[cs],W=jB.CreateFromInterface(g,N,D,_),se=new XC(jB[Jh],W);return l3(g,jB[r3],y,se)}o(zWe,"ExceptionEnvelopeCreator");function YWe(g,y,T){c3(g,y);var _=y[cs],D=_[ol]||{},N=_[t3]||{};O2(y[pu],D,N),X(T)||a3(D,T);var W=new o7(g,_[jg],_.average,_.sampleCount,_.min,_.max,_.stdDev,D,N),se=new XC(o7[Jh],W);return l3(g,o7[r3],y,se)}o(YWe,"MetricEnvelopeCreator");function KWe(g,y,T){c3(g,y);var _,D=y[cs];!X(D)&&!X(D[ol])&&!X(D[ol][e3])?(_=D[ol][e3],delete D[ol][e3]):!X(y[pu])&&!X(y[pu][e3])&&(_=y[pu][e3],delete y[pu][e3]);var N=y[cs],W;((y.ext||{}).trace||{})[c7]&&(W=y.ext.trace[c7]);var se=N.id||W,fe=N[jg],xe=N.uri,ke=N[ol]||{},qe=N[t3]||{};if(X(N.refUri)||(ke.refUri=N.refUri),X(N.pageType)||(ke.pageType=N.pageType),X(N.isLoggedIn)||(ke.isLoggedIn=N.isLoggedIn[n3]()),!X(N[ol])){var Xe=N[ol];te(Xe,function(ht,lt){ke[ht]=lt})}O2(y[pu],ke,qe),X(T)||a3(ke,T);var Ge=new $B(g,fe,xe,_,ke,qe,se),ze=new XC($B[Jh],Ge);return l3(g,$B[r3],y,ze)}o(KWe,"PageViewEnvelopeCreator");function JWe(g,y,T){c3(g,y);var _=y[cs],D=_[jg],N=_.uri||_.url,W=_[ol]||{},se=_[t3]||{};O2(y[pu],W,se),X(T)||a3(W,T);var fe=new KB(g,D,N,void 0,W,se,_),xe=new XC(KB[Jh],fe);return l3(g,KB[r3],y,xe)}o(JWe,"PageViewPerformanceEnvelopeCreator");function XWe(g,y,T){c3(g,y);var _=y[cs].message,D=y[cs].severityLevel,N=y[cs][ol]||{},W=y[cs][t3]||{};O2(y[pu],N,W),X(T)||a3(N,T);var se=new YB(g,_,D,N,W),fe=new XC(YB[Jh],se);return l3(g,YB[r3],y,fe)}o(XWe,"TraceEnvelopeCreator");var Yue=function(){function g(y,T){var _=[],D=!1,N=T.maxRetryCnt;this._get=function(){return _},this._set=function(W){return _=W,_},Rl(g,this,function(W){W[i3]=function(se){if(W[o3]()>=T.eventsLimitInMem){D||(Dr(y,2,105,"Maximum in-memory buffer size reached: "+W[o3](),!0),D=!0);return}se.cnt=se.cnt||0,!(!X(N)&&se.cnt>N)&&_[$g](se)},W[o3]=function(){return _[si]},W.size=function(){for(var se=_[si],fe=0;fe<_[si];fe++)se+=_[fe].item[si];return T[Xj]||(se+=2),se},W[eb]=function(){_=[],D=!1},W.getItems=function(){return _.slice(0)},W.batchPayloads=function(se){if(se&&se[si]>0){var fe=[];Gr(se,function(ke){fe[$g](ke.item)});var xe=T[Xj]?fe.join(`
`):"["+fe.join(",")+"]";return xe}return null},W.createNew=function(se,fe,xe){var ke=_.slice(0);se=se||y,fe=fe||{};var qe=xe?new Kue(se,fe):new c$(se,fe);return Gr(ke,function(Xe){qe[i3](Xe)}),qe}})}return o(g,"BaseSendBuffer"),g.__ieDyn=1,g}(),c$=function(g){IC(y,g);function y(T,_){var D=g.call(this,T,_)||this;return Rl(y,D,function(N,W){N[XB]=function(se){W[eb]()},N[f7]=function(se){}}),D}return o(y,"ArraySendBuffer"),y.__ieDyn=1,y}(Yue),ZWe=["AI_buffer","AI_sentBuffer"],Kue=function(g){IC(y,g);function y(_,D){var N=g.call(this,_,D)||this,W=!1,se=D?.namePrefix,fe=D[Zj]||{getItem:dWe,setItem:mWe},xe=fe.getItem,ke=fe.setItem,qe=D.maxRetryCnt;return Rl(y,N,function(Xe,Ge){var ze=wr(y[d7]),ht=wr(y[M2]),lt=fi(),It=ht[tb](lt),jt=Xe._set(ze[tb](It));jt[si]>y[m7]&&(jt[si]=y[m7]),ui(y[M2],[]),ui(y[d7],jt),Xe[i3]=function(sn){if(Xe[o3]()>=y[m7]){W||(Dr(_,2,67,"Maximum buffer size reached: "+Xe[o3](),!0),W=!0);return}sn.cnt=sn.cnt||0,!(!X(qe)&&sn.cnt>qe)&&(Ge[i3](sn),ui(y[d7],Xe._get()))},Xe[eb]=function(){Ge[eb](),ui(y[d7],Xe._get()),ui(y[M2],[]),W=!1},Xe[XB]=function(sn){ui(y[d7],Xe._set(fr(sn,Xe._get())));var Or=wr(y[M2]);Or instanceof Array&&sn instanceof Array&&(Or=Or[tb](sn),Or[si]>y[m7]&&(Dr(_,1,67,"Sent buffer reached its maximum size: "+Or[si],!0),Or[si]=y[m7]),ui(y[M2],Or))},Xe[f7]=function(sn){var Or=wr(y[M2]);Or=fr(sn,Or),ui(y[M2],Or)},Xe.createNew=function(sn,Or,di){di=!!di;var us=Xe._get().slice(0),To=wr(y[M2]).slice(0);sn=sn||_,Or=Or||{},Xe[eb]();var Yt=di?new y(sn,Or):new c$(sn,Or);return Gr(us,function(Ur){Yt[i3](Ur)}),di&&Yt[XB](To),Yt};function fr(sn,Or){var di=[],us=[];return Gr(sn,function(To){us[$g](To.item)}),Gr(Or,function(To){!Re(To)&&L0(us,To.item)===-1&&di[$g](To)}),di}o(fr,"_removePayloadsFromBuffer");function wr(sn){var Or=sn;return Or=se?se+"_"+Or:Or,Pn(Or)}o(wr,"_getBuffer");function Pn(sn){try{var Or=xe(_,sn);if(Or){var di=O0().parse(Or);if(de(di)&&(di=O0().parse(di)),di&&Oe(di))return di}}catch(us){Dr(_,1,42," storage key: "+sn+", "+Ha(us),{exception:At(us)})}return[]}o(Pn,"_getBufferBase");function ui(sn,Or){var di=sn;try{di=se?se+"_"+di:di;var us=JSON[u7](Or);ke(_,di,us)}catch(To){ke(_,di,JSON[u7]([])),Dr(_,2,41," storage key: "+di+", "+Ha(To)+". Buffer cleared",{exception:At(To)})}}o(ui,"_setBuffer");function fi(){var sn=[];try{return Gr(ZWe,function(Or){var di=ro(Or);if(sn=sn[tb](di),se){var us=se+"_"+Or,To=ro(us);sn=sn[tb](To)}}),sn}catch(Or){Dr(_,2,41,"Transfer events from previous buffers: "+Ha(Or)+". previous Buffer items can not be removed",{exception:At(Or)})}return[]}o(fi,"_getPreviousEvents");function ro(sn){try{var Or=Pn(sn),di=[];return Gr(Or,function(us){var To={item:us,cnt:0};di[$g](To)}),hWe(_,sn),di}catch{}return[]}o(ro,"_getItemsFromPreviousKey")}),N}o(y,"SessionStorageSendBuffer");var T;return T=y,y.VERSION="_1",y.BUFFER_KEY="AI_buffer"+T.VERSION,y.SENT_BUFFER_KEY="AI_sentBuffer"+T.VERSION,y.MAX_BUFFER_SIZE=2e3,y}(Yue),eGe=function(){function g(y){Rl(g,this,function(T){T.serialize=function(W){var se=_(W,"root");try{return O0()[u7](se)}catch(fe){Dr(y,1,48,fe&&Re(fe[n3])?fe[n3]():"Error serializing object",null,!0)}};function _(W,se){var fe="__aiCircularRefCheck",xe={};if(!W)return Dr(y,1,48,"cannot serialize object because it is null or undefined",{name:se},!0),xe;if(W[fe])return Dr(y,2,50,"Circular reference detected while serializing object",{name:se},!0),xe;if(!W.aiDataContract){if(se==="measurements")xe=N(W,"number",se);else if(se==="properties")xe=N(W,"string",se);else if(se==="tags")xe=N(W,"string",se);else if(Oe(W))xe=D(W,se);else{Dr(y,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:se},!0);try{O0()[u7](W),xe=W}catch(ke){Dr(y,1,48,ke&&Re(ke[n3])?ke[n3]():"Error serializing object",null,!0)}}return xe}return W[fe]=!0,te(W.aiDataContract,function(ke,qe){var Xe=Re(qe)?qe()&1:qe&1,Ge=Re(qe)?qe()&4:qe&4,ze=qe&2,ht=W[ke]!==void 0,lt=Ee(W[ke])&&W[ke]!==null;if(Xe&&!ht&&!ze)Dr(y,1,24,"Missing required field specification. The field is required but not present on source",{field:ke,name:se});else if(!Ge){var It=void 0;lt?ze?It=D(W[ke],ke):It=_(W[ke],ke):It=W[ke],It!==void 0&&(xe[ke]=It)}}),delete W[fe],xe}o(_,"_serializeObject");function D(W,se){var fe;if(W)if(!Oe(W))Dr(y,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:se},!0);else{fe=[];for(var xe=0;xe<W[si];xe++){var ke=W[xe],qe=_(ke,se+"["+xe+"]");fe[$g](qe)}}return fe}o(D,"_serializeArray");function N(W,se,fe){var xe;return W&&(xe={},te(W,function(ke,qe){if(se==="string")qe===void 0?xe[ke]="undefined":qe===null?xe[ke]="null":qe[n3]?xe[ke]=qe[n3]():xe[ke]="invalid field: toString() is not defined.";else if(se==="number")if(qe===void 0)xe[ke]="undefined";else if(qe===null)xe[ke]="null";else{var Xe=parseFloat(qe);xe[ke]=Xe}else xe[ke]="invalid field: "+fe+" is of unknown type.",Dr(y,1,xe[ke],null,!0)})),xe}o(N,"_serializeStringMap")})}return o(g,"Serializer"),g.__ieDyn=1,g}(),tGe=8,rGe=function(){function g(){}return o(g,"HashCodeScoreGenerator"),g.prototype.getHashCodeScore=function(y){var T=this.getHashCode(y)/g.INT_MAX_VALUE;return T*100},g.prototype.getHashCode=function(y){if(y==="")return 0;for(;y[si]<tGe;)y=y[tb](y);for(var T=5381,_=0;_<y[si];++_)T=(T<<5)+T+y.charCodeAt(_),T=T&T;return Math.abs(T)},g.INT_MAX_VALUE=2147483647,g}(),nGe=function(){function g(){var y=this,T=new rGe,_=new Uue;y.getSamplingScore=function(D){var N=0;return D[Pl]&&D[Pl][_.userId]?N=T.getHashCodeScore(D[Pl][_.userId]):D.ext&&D.ext.user&&D.ext.user.id?N=T[HWe](D.ext.user.id):D[Pl]&&D[Pl][_.operationId]?N=T.getHashCodeScore(D[Pl][_.operationId]):D.ext&&D.ext.telemetryTrace&&D.ext.telemetryTrace[c7]?N=T.getHashCodeScore(D.ext.telemetryTrace[c7]):N=Math.random()*100,N}}return o(g,"SamplingScoreGenerator"),g}(),iGe=function(){function g(y,T){this.INT_MAX_VALUE=2147483647;var _=T||qC(null);(y>100||y<0)&&(_.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:y},!0),y=100),this[tR]=y,this.samplingScoreGenerator=new nGe}return o(g,"Sample"),g.prototype.isSampledIn=function(y){var T=this[tR],_=!1;return T==null||T>=100||y.baseType===o7[Jh]?!0:(_=this.samplingScoreGenerator.getSamplingScore(y)<T,_)},g}(),Go,zg,Zh=void 0,Jue="",oGe=65e3;function Xue(g){try{return g.responseText}catch{}return null}o(Xue,"_getResponseText");function sGe(g){return g&&g.sendPOST}o(sGe,"isOverrideFn");var Zue=St((Go={endpointUrl:q9(oe,Qj+$E)},Go[Xj]=kf(),Go.maxBatchInterval=15e3,Go[Wue]=102400,Go.disableTelemetry=kf(),Go[Hue]=kf(!0),Go.isRetryDisabled=kf(),Go[n$]=kf(!0),Go[jue]=kf(!0),Go.disableXhr=kf(),Go[Vue]=kf(),Go[r$]=kf(),Go[A7]=Zh,Go.namePrefix=Zh,Go.samplingPercentage=q9(aGe,100),Go[t$]=Zh,Go.convertUndefined=Zh,Go.eventsLimitInMem=1e4,Go[Zj]=!1,Go.httpXHROverride={isVal:sGe,v:Zh},Go[Gue]=kf(),Go.transports=Zh,Go.retryCodes=Zh,Go.maxRetryCnt={isVal:Je,v:10},Go));function aGe(g){return!isNaN(g)&&g>0&&g<=100}o(aGe,"_chkSampling");var lGe=(zg={},zg[JE.dataType]=zue,zg[YB.dataType]=XWe,zg[$B.dataType]=KWe,zg[KB.dataType]=JWe,zg[jB.dataType]=zWe,zg[o7.dataType]=YWe,zg[zB.dataType]=$We,zg),efe=function(g){IC(y,g);function y(){var T=g.call(this)||this;T.priority=1001,T.identifier=GWe;var _,D,N,W,se,fe,xe,ke=0,qe,Xe,Ge,ze,ht,lt,It,jt,fr,wr,Pn,ui,fi,ro,sn,Or,di,us,To,Yt,Ur,ji,Pt,Cn,Ss,no,sl;return Rl(y,T,function(dt,ba){rfe(),dt.pause=function(){G2(),N=!0},dt.resume=function(){N&&(N=!1,D=null,ho(),ob())},dt.flush=function(je,bt,pr){if(je===void 0&&(je=!0),!N){G2();try{return dt[h7](je,null,pr||1)}catch(Fr){Dr(dt[c0](),1,22,"flush failed, telemetry will not be collected: "+Ha(Fr),{exception:At(Fr)})}}},dt.onunloadFlush=function(){if(!N)if(It||Yt)try{return dt[h7](!0,Ec,2)}catch(je){Dr(dt[c0](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+Ha(je),{exception:At(je)})}else dt.flush(!1)},dt.addHeader=function(je,bt){xe[je]=bt},dt[e$]=function(je,bt,pr,Fr){dt.isInitialized()&&Dr(dt[c0](),1,28,"Sender is already initialized"),ba[e$](je,bt,pr,Fr);var Tn=dt.identifier;se=new eGe(bt.logger),_=0,D=null,dt[p7]=null,fe=0;var ln=dt[c0]();Ge=due(rm("Sender"),bt.evtNamespace&&bt.evtNamespace()),Xe=WWe(Ge),dt._addHook(nm(je,function(Pi){var ia=Pi.cfg;ia.storagePrefix&&fWe(ia.storagePrefix);var gu=R2(null,ia,bt),Jn=gu.getExtCfg(Tn,Zue),nfe=Jn[g7];if(ze&&nfe===ze){var d$=ia[g7];d$&&d$!==nfe&&(Jn[g7]=d$)}at(Jn[A7])&&(Jn[A7]=ia[A7]),Ue(dt,"_senderConfig",{g:o(function(){return Jn},"g")}),ht!==Jn[g7]&&(ze=ht=Jn[g7]),bt.activeStatus()===Ph.PENDING?dt.pause():bt.activeStatus()===Ph.ACTIVE&&dt.resume(),wr&&wr!==Jn[t$]&&Gr(wr,function(Nl){delete xe[Nl.header]}),lt=Jn[Wue],It=(Jn[r$]===!1||Jn[n$]===!1)&&Wh(),jt=Jn[r$]===!1&&Wh(),fr=Jn[n$]===!1&&Wh(),Yt=Jn[Gue],Ur=!!Jn.disableXhr,sl=Jn.retryCodes;var m$=Jn[Zj],sb=!!Jn[Hue]&&(!!m$||wue()),ife=Jn.namePrefix,dGe=sb!==Or||sb&&us!==ife||sb&&di!==m$;if(dt[Xh]){if(dGe)try{dt[Xh]=dt[Xh].createNew(ln,Jn,sb)}catch(Nl){Dr(dt[c0](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+Ha(Nl),{exception:At(Nl)})}ho()}else dt[Xh]=sb?new Kue(ln,Jn):new c$(ln,Jn);us=ife,Or=sb,di=m$,ji=!Jn[Vue]&&LC(!0),Ss=!!Jn[jue],dt._sample=new iGe(Jn.samplingPercentage,ln),ui=Jn[A7],!at(ui)&&!tfe(ui,ia)&&Dr(ln,1,100,"Invalid Instrumentation key "+ui),wr=Jn[t$],de(ze)&&!vue(ze)&&wr&&wr[si]>0?Gr(wr,function(Nl){T.addHeader(Nl.header,Nl.value)}):wr=null,To=Jn.enableSendPromise;var ofe=al();no?no.SetConfig(ofe):(no=new Ea,no[e$](ofe,ln));var oR=Jn.httpXHROverride,sR=null,E7=null,mGe=eB([3,1,2],Jn.transports);sR=no&&no[ZB](mGe,!1);var h$=no&&no.getFallbackInst();Pt=o(function(Nl,u3){return Qr(h$,Nl,u3)},"_xhrSend"),Cn=o(function(Nl,u3){return Qr(h$,Nl,u3,!1)},"_fallbackSend"),sR=Yt?oR:sR||oR||h$,dt[p7]=function(Nl,u3){return Qr(sR,Nl,u3)},ji&&(qe=ib);var p$=eB([3,1],Jn.unloadTransports);ji||(p$=p$.filter(function(Nl){return Nl!==2})),E7=no&&no[ZB](p$,!0),E7=Yt?oR:E7||oR,(Yt||Jn.unloadTransports||!qe)&&E7&&(qe=o(function(Nl,u3){return Qr(E7,Nl,u3)},"_syncUnloadSender")),qe||(qe=Pt),Pn=Jn.disableTelemetry,fi=Jn.convertUndefined||Zh,ro=Jn.isRetryDisabled,sn=Jn.maxBatchInterval}))},dt.processTelemetry=function(je,bt){bt=dt._getTelCtx(bt);var pr=bt[c0]();try{var Fr=sm(je,pr);if(!Fr)return;var Tn=W2(je,pr);if(!Tn)return;var ln=se.serialize(Tn),Pi=dt[Xh];ho(ln);var ia={item:ln,cnt:0};Pi[i3](ia),ob()}catch(gu){Dr(pr,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+Ha(gu),{exception:At(gu)})}dt.processNext(je,bt)},dt.isCompletelyIdle=function(){return!N&&ke===0&&dt._buffer[o3]()===0},dt.getOfflineListener=function(){return Xe},dt._xhrReadyStateChange=function(je,bt,pr){if(!lm(bt))return Pf(je,bt,pr)},dt[h7]=function(je,bt,pr){je===void 0&&(je=!0);var Fr;if(!N)try{var Tn=dt[Xh];if(Pn)Tn[eb]();else if(Tn[o3]()>0){var ln=Tn.getItems();iR(pr||0,je),bt?Fr=bt.call(dt,ln,je):Fr=dt[p7](ln,je)}G2()}catch(ia){var Pi=p2();(!Pi||Pi>9)&&Dr(dt[c0](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+Ha(ia),{exception:At(ia)})}return Fr},dt.getOfflineSupport=function(){return{getUrl:o(function(){return ze},"getUrl"),createPayload:gt,serialize:ds,batch:Fl,shouldProcess:o(function(je){return!!sm(je)},"shouldProcess")}},dt._doTeardown=function(je,bt){dt.onunloadFlush(),v2(Xe,!1),rfe()},dt[s3]=function(je,bt,pr){if(!lm(je))return q0(je,bt)},dt[i$]=function(je,bt){if(!lm(je))return U2(je,bt)},dt[eR]=function(je,bt){if(!lm(je))return om(je)},dt._xdrOnLoad=function(je,bt){if(!lm(bt))return _s(je,bt)};function _s(je,bt){var pr=Xue(je);if(je&&(pr+""=="200"||pr===""))_=0,dt[eR](bt,0);else{var Fr=Lr(pr);Fr&&Fr[o$]&&Fr[o$]>Fr[s$]&&!ro?dt[i$](bt,Fr):dt[s3](bt,Zk(je))}}o(_s,"_xdrOnLoad");function al(){try{var je={xdrOnComplete:o(function(pr,Fr,Tn){var ln=q2(Tn);if(ln)return _s(pr,ln)},"xdrOnComplete"),fetchOnComplete:o(function(pr,Fr,Tn,ln){var Pi=q2(ln);if(Pi)return Ho(pr.status,Pi,pr.url,Pi[si],pr.statusText,Tn||"")},"fetchOnComplete"),xhrOnComplete:o(function(pr,Fr,Tn){var ln=q2(Tn);if(ln)return Pf(pr,ln,ln[si])},"xhrOnComplete"),beaconOnRetry:o(function(pr,Fr,Tn){return am(pr,Fr,Tn)},"beaconOnRetry")},bt={enableSendPromise:To,isOneDs:!1,disableCredentials:!1,disableXhr:Ur,disableBeacon:!fr,disableBeaconSync:!jt,senderOnCompleteCallBack:je};return bt}catch{}return null}o(al,"_getSendPostMgrConfig");function Pf(je,bt,pr){je.readyState===4&&Ho(je.status,bt,je.responseURL,pr,wE(je),Xue(je)||je.response)}o(Pf,"_xhrReadyStateChange");function q0(je,bt,pr){Dr(dt[c0](),2,26,"Failed to send telemetry.",{message:bt}),dt._buffer&&dt._buffer[f7](je)}o(q0,"_onError");function U2(je,bt){for(var pr=[],Fr=[],Tn=bt.errors.reverse(),ln=0,Pi=Tn;ln<Pi.length;ln++){var ia=Pi[ln],gu=je.splice(ia.index,1)[0];H2(ia.statusCode)?Fr[$g](gu):pr[$g](gu)}je[si]>0&&dt[eR](je,bt[s$]),pr[si]>0&&dt[s3](pr,wE(null,["partial success",bt[s$],"of",bt.itemsReceived].join(" "))),Fr[si]>0&&(x7(Fr),Dr(dt[c0](),2,40,"Partial success. Delivered: "+je[si]+", Failed: "+pr[si]+". Will retry to send "+Fr[si]+" our of "+bt[o$]+" items"))}o(U2,"_onPartialSuccess");function om(je,bt){dt._buffer&&dt._buffer[f7](je)}o(om,"_onSuccess");function q2(je){try{if(je){var bt=je,pr=bt.oriPayload;return pr&&pr[si]?pr:null}}catch{}return null}o(q2,"_getPayloadArr");function sm(je,bt){if(Pn)return!1;if(!je)return bt&&Dr(bt,1,7,"Cannot send empty telemetry"),!1;if(je.baseData&&!je[a$])return bt&&Dr(bt,1,70,"Cannot send telemetry without baseData and baseType"),!1;if(je[a$]||(je[a$]="EventData"),!dt[p7])return bt&&Dr(bt,1,28,"Sender was not initialized"),!1;if(Ir(je))je[hue]=dt._sample[tR];else return bt&&Dr(bt,2,33,"Telemetry item was sampled out and not sent",{SampleRate:dt._sample[tR]}),!1;return!0}o(sm,"_validate");function W2(je,bt){var pr=je.iKey||ui,Fr=y.constructEnvelope(je,pr,bt,fi);if(!Fr){Dr(bt,1,47,"Unable to create an AppInsights envelope");return}var Tn=!1;if(je[Pl]&&je[Pl][Lj]&&(Gr(je[Pl][Lj],function(ln){try{ln&&ln(Fr)===!1&&(Tn=!0,QE(bt,"Telemetry processor check returns false"))}catch(Pi){Dr(bt,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+Ha(Pi),{exception:At(Pi)},!0)}}),delete je[Pl][Lj]),!Tn)return Fr}o(W2,"_getEnvelope");function ds(je){var bt=Jue,pr=dt[c0]();try{var Fr=sm(je,pr),Tn=null;Fr&&(Tn=W2(je,pr)),Tn&&(bt=se.serialize(Tn))}catch{}return bt}o(ds,"_serialize");function Fl(je){var bt=Jue;return je&&je[si]&&(bt="["+je.join(",")+"]"),bt}o(Fl,"_batch");function gt(je){var bt=lo();return{urlString:ze,data:je,headers:bt}}o(gt,"_createPayload");function Ir(je){return dt._sample.isSampledIn(je)}o(Ir,"_isSampledIn");function vn(je,bt,pr,Fr){bt===200&&je?dt._onSuccess(je,je[si]):Fr&&dt[s3](je,Fr)}o(vn,"_getOnComplete");function Qr(je,bt,pr,Fr){Fr===void 0&&(Fr=!0);var Tn=o(function(ia,gu,Jn){return vn(bt,ia,gu,Jn)},"onComplete"),ln=In(bt),Pi=je&&je.sendPOST;return Pi&&ln?(Fr&&dt._buffer[XB](bt),Pi(ln,Tn,!pr)):null}o(Qr,"_doSend");function In(je){if(Oe(je)&&je[si]>0){var bt=dt[Xh].batchPayloads(je),pr=lo(),Fr={data:bt,urlString:ze,headers:pr,disableXhrSync:Ur,disableFetchKeepAlive:!ji,oriPayload:je};return Fr}return null}o(In,"_getPayload");function lo(){try{var je=xe||{};return vue(ze)&&(je[gue[6]]=gue[7]),je}catch{}return null}o(lo,"_getHeaders");function ho(je){var bt=je?je[si]:0;return dt[Xh].size()+bt>lt?((!Xe||Xe.isOnline())&&dt[h7](!0,null,10),!0):!1}o(ho,"_checkMaxSize");function Ho(je,bt,pr,Fr,Tn,ln){var Pi=null;if(dt._appId||(Pi=Lr(ln),Pi&&Pi.appId&&(dt._appId=Pi.appId)),(je<200||je>=300)&&je!==0){if((je===301||je===307||je===308)&&!u0(pr)){dt[s3](bt,Tn);return}if(Xe&&!Xe.isOnline()){if(!ro){var ia=10;x7(bt,ia),Dr(dt[c0](),2,40,". Offline - Response Code: ".concat(je,". Offline status: ").concat(!Xe.isOnline(),". Will retry to send ").concat(bt.length," items."))}return}!ro&&H2(je)?(x7(bt),Dr(dt[c0](),2,40,". Response code "+je+". Will retry to send "+bt[si]+" items.")):dt[s3](bt,Tn)}else u0(pr),je===206?(Pi||(Pi=Lr(ln)),Pi&&!ro?dt[i$](bt,Pi):dt[s3](bt,Tn)):(_=0,dt[eR](bt,Fr))}o(Ho,"_checkResponsStatus");function u0(je){return fe>=10?!1:!X(je)&&je!==""&&je!==ze?(ze=je,++fe,!0):!1}o(u0,"_checkAndUpdateEndPointUrl");function Ec(je,bt){if(qe)qe(je,!1);else{var pr=no&&no[ZB]([3],!0);return Qr(pr,je,bt)}}o(Ec,"_doUnloadSend");function am(je,bt,pr){var Fr=je,Tn=Fr&&Fr.oriPayload;if(Ss)Cn&&Cn(Tn,!0),Dr(dt[c0](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var ln=[],Pi=0;Pi<Tn[si];Pi++){var ia=Tn[Pi],gu=[ia],Jn=In(gu);pr(Jn,bt)?dt._onSuccess(gu,gu[si]):ln[$g](ia)}ln[si]>0&&(Cn&&Cn(ln,!0),Dr(dt[c0](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}o(am,"_onBeaconRetry");function lm(je){try{if(je&&je[si])return de(je[0])}catch{}return null}o(lm,"_isStringArr");function ib(je,bt){var pr=null;if(Oe(je)){for(var Fr=je[si],Tn=0;Tn<je[si];Tn++)Fr+=je[Tn].item[si];var ln=no.getSyncFetchPayload();ln+Fr<=oGe?pr=2:Wh()?pr=3:(pr=1,Dr(dt[c0](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."));var Pi=no&&no[ZB]([pr],!0);return Qr(Pi,je,bt)}return null}o(ib,"_fetchKeepAliveSender");function x7(je,bt){if(bt===void 0&&(bt=1),!(!je||je[si]===0)){var pr=dt[Xh];pr[f7](je),_++;for(var Fr=0,Tn=je;Fr<Tn.length;Fr++){var ln=Tn[Fr];ln.cnt=ln.cnt||0,ln.cnt++,pr[i3](ln)}f$(bt),ob()}}o(x7,"_resendPayload");function f$(je){var bt=10,pr;if(_<=1)pr=bt;else{var Fr=(Math.pow(2,_)-1)/2,Tn=Tg(Math.random()*Fr*bt)+1;Tn=je*Tn,pr=ve(ur(Tn,3600),bt)}var ln=Sh()+pr*1e3;D=ln}o(f$,"_setRetryTime");function ob(){if(!W&&!N){var je=D?ve(0,D-Sh()):0,bt=ve(sn,je);W=Bh(function(){W=null,dt[h7](!0,null,1)},bt)}}o(ob,"_setupTimer");function G2(){W&&W.cancel(),W=null,D=null}o(G2,"_clearScheduledTimer");function H2(je){return X(sl)?je===401||je===408||je===429||je===500||je===502||je===503||je===504:sl[si]&&sl.indexOf(je)>-1}o(H2,"_isRetriable");function nR(){var je="getNotifyMgr";return dt.core[je]?dt.core[je]():dt.core._notificationManager}o(nR,"_getNotifyMgr");function iR(je,bt){var pr=nR();if(pr&&pr.eventsSendRequest)try{pr.eventsSendRequest(je,bt)}catch(Fr){Dr(dt[c0](),1,74,"send request notification failed: "+Ha(Fr),{exception:At(Fr)})}}o(iR,"_notifySendRequest");function tfe(je,bt){var pr=bt.disableInstrumentationKeyValidation,Fr=X(pr)?!1:pr;if(Fr)return!0;var Tn="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",ln=new RegExp(Tn);return ln.test(je)}o(tfe,"_validateInstrumentationKey");function rfe(){dt[p7]=null,dt[Xh]=null,dt._appId=null,dt._sample=null,xe={},Xe=null,_=0,D=null,N=!1,W=null,se=null,fe=0,ke=0,qe=null,Ge=null,ze=null,ht=null,lt=0,It=!1,wr=null,Pn=!1,ui=null,fi=Zh,ro=!1,Or=null,us=Zh,Ur=!1,ji=!1,Ss=!1,Pt=null,Cn=null,no=null,Ue(dt,"_senderConfig",{g:o(function(){return Xk({},Zue)},"g")})}o(rfe,"_initDefaults")}),T}return o(y,"Sender"),y.constructEnvelope=function(T,_,D,N){var W;_!==T.iKey&&!X(_)?W=Yd(Yd({},T),{iKey:_}):W=T;var se=lGe[W.baseType]||zue;return se(D,W,N)},y}(xt),rb="instrumentationKey",rR="connectionString",y7="endpointUrl",C7="userOverrideEndpointUrl",nb,u$=void 0,cGe=(nb={diagnosticLogInterval:q9(uGe,1e4)},nb[rR]=u$,nb.endpointUrl=u$,nb[rb]=u$,nb.extensionConfig={},nb);function uGe(g){return g&&g>0}o(uGe,"_chkDiagLevel");var fGe=function(){function g(y){var T=new Nt,_;(X(y)||X(y[rb])&&X(y[rR]))&&Vt("Invalid input configuration"),Rl(g,this,function(N){Ue(N,"config",{g:o(function(){return _},"g")}),W(),N.initialize=W,N.track=D,w9(N,T,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange","getTraceCtx","updateCfg","addTelemetryInitializer"]);function W(){var se=xc(y||{},cGe);_=se.cfg,T.addUnloadHook(nm(se,function(){var fe=_[rR];if(at(fe)){var xe=AE(function(Ge,ze){pc(fe,function(ht){var lt=ht.value,It=_[rb];if(!ht.rejected&&lt){_[rR]=lt;var jt=Vj(lt);It=jt.instrumentationkey||It}Ge(It)})}),ke=AE(function(Ge,ze){pc(fe,function(ht){var lt=ht.value,It=_[y7];if(!ht.rejected&&lt){var jt=Vj(lt),fr=jt.ingestionendpoint;It=fr?fr+$E:It}Ge(It)})});_[rb]=xe,_[y7]=_[C7]||ke}if(de(fe)){var qe=Vj(fe),Xe=qe.ingestionendpoint;_[y7]=_[C7]?_[C7]:Xe+$E,_[rb]=qe.instrumentationkey||_[rb]}_[y7]=_[C7]?_[C7]:_[y7]})),T.initialize(_,[new efe])}o(W,"_initialize")});function D(N){N&&(N.baseData=N.baseData||{},N.baseType=N.baseType||"EventData"),T.track(N)}o(D,"_track")}return o(g,"ApplicationInsights"),g.__ieDyn=1,g}();e.AppInsightsCore=Nt,e.ApplicationInsights=fGe,e.Sender=efe,e.SeverityLevel=qWe,e.arrForEach=Gr,e.isNullOrUndefined=X,e.proxyFunctions=w9,e.throwError=Vt})});var OK=V((z0r,w5e)=>{"use strict";d();w5e.exports=o(function(t,r){r===!0&&(r=0);var n="";if(typeof t=="string")try{n=new URL(t).protocol}catch{}else t&&t.constructor===URL&&(n=t.protocol);var i=n.split(/\:|\+/).filter(Boolean);return typeof r=="number"?i[r]:i},"protocols")});var _5e=V((J0r,S5e)=>{"use strict";d();var ktt=OK();function Btt(e){var t={protocols:[],protocol:null,port:null,resource:"",host:"",user:"",password:"",pathname:"",hash:"",search:"",href:e,query:{},parse_failed:!1};try{var r=new URL(e);t.protocols=ktt(r),t.protocol=t.protocols[0],t.port=r.port,t.resource=r.hostname,t.host=r.host,t.user=r.username||"",t.password=r.password||"",t.pathname=r.pathname,t.hash=r.hash.slice(1),t.search=r.search.slice(1),t.href=r.href,t.query=Object.fromEntries(r.searchParams)}catch{t.protocols=["file"],t.protocol=t.protocols[0],t.port="",t.resource="",t.user="",t.pathname="",t.hash="",t.search="",t.href=e,t.query={},t.parse_failed=!0}return t}o(Btt,"parsePath");S5e.exports=Btt});var F5e=V((ecr,P5e)=>{"use strict";d();var Rtt=_5e();function Dtt(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}o(Dtt,"_interopDefaultLegacy");var Ptt=Dtt(Rtt);function Ftt(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=o(function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(t,i);return new s}return t.apply(this,arguments)},"a");r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:o(function(){return e[n]},"get")})}),r}o(Ftt,"getAugmentedNamespace");var B5e={},Ntt="text/plain",Ltt="us-ascii",k5e=o((e,t)=>t.some(r=>r instanceof RegExp?r.test(e):r===e),"testParameter"),Qtt=o((e,{stripHash:t})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!r)throw new Error(`Invalid URL: ${e}`);let{type:n,data:i,hash:s}=r.groups,a=n.split(";");s=t?"":s;let l=!1;a[a.length-1]==="base64"&&(a.pop(),l=!0);let c=(a.shift()||"").toLowerCase(),f=[...a.map(m=>{let[h,p=""]=m.split("=").map(A=>A.trim());return h==="charset"&&(p=p.toLowerCase(),p===Ltt)?"":`${h}${p?`=${p}`:""}`}).filter(Boolean)];return l&&f.push("base64"),(f.length>0||c&&c!==Ntt)&&f.unshift(c),`data:${f.join(";")},${l?i.trim():i}${s?`#${s}`:""}`},"normalizeDataURL");function Mtt(e,t){if(t={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...t},e=e.trim(),/^data:/i.test(e))return Qtt(e,t);if(/^view-source:/i.test(e))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=e.startsWith("//");!r&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let i=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&i.protocol==="https:"&&(i.protocol="http:"),t.forceHttps&&i.protocol==="http:"&&(i.protocol="https:"),t.stripAuthentication&&(i.username="",i.password=""),t.stripHash?i.hash="":t.stripTextFragment&&(i.hash=i.hash.replace(/#?:~:text.*?$/i,"")),i.pathname){let a=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,l=0,c="";for(;;){let f=a.exec(i.pathname);if(!f)break;let m=f[0],h=f.index,p=i.pathname.slice(l,h);c+=p.replace(/\/{2,}/g,"/"),c+=m,l=h+m.length}let u=i.pathname.slice(l,i.pathname.length);c+=u.replace(/\/{2,}/g,"/"),i.pathname=c}if(i.pathname)try{i.pathname=decodeURI(i.pathname)}catch{}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let a=i.pathname.split("/"),l=a[a.length-1];k5e(l,t.removeDirectoryIndex)&&(a=a.slice(0,-1),i.pathname=a.slice(1).join("/")+"/")}if(i.hostname&&(i.hostname=i.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(i.hostname)&&(i.hostname=i.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let a of[...i.searchParams.keys()])k5e(a,t.removeQueryParameters)&&i.searchParams.delete(a);if(t.removeQueryParameters===!0&&(i.search=""),t.sortQueryParameters){i.searchParams.sort();try{i.search=decodeURIComponent(i.search)}catch{}}t.removeTrailingSlash&&(i.pathname=i.pathname.replace(/\/$/,""));let s=e;return e=i.toString(),!t.removeSingleSlash&&i.pathname==="/"&&!s.endsWith("/")&&i.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||i.pathname==="/")&&i.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),r&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}o(Mtt,"normalizeUrl");var Ott=Object.freeze({__proto__:null,default:Mtt}),Utt=Ftt(Ott);Object.defineProperty(B5e,"__esModule",{value:!0});var qtt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wtt=Utt,Gtt=R5e(Wtt),Htt=Ptt.default,Vtt=R5e(Htt);function R5e(e){return e&&e.__esModule?e:{default:e}}o(R5e,"_interopRequireDefault");var D5e=o(function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=/^(?:([a-zA-Z_][a-zA-Z0-9_-]{0,31})@|https?:\/\/)([\w\.\-@]+)[\/:](([\~,\.\w,\-,\_,\/,\s]|%[0-9A-Fa-f]{2})+?(?:\.git|\/)?)$/,i=o(function(c){var u=new Error(c);throw u.subject_url=t,u},"throwErr");(typeof t!="string"||!t.trim())&&i("Invalid url."),t.length>e.MAX_INPUT_LENGTH&&i("Input exceeds maximum length. If needed, change the value of parseUrl.MAX_INPUT_LENGTH."),r&&((typeof r>"u"?"undefined":qtt(r))!=="object"&&(r={stripHash:!1}),t=(0,Gtt.default)(t,r));var s=(0,Vtt.default)(t);if(s.parse_failed){var a=s.href.match(n);a?(s.protocols=["ssh"],s.protocol="ssh",s.resource=a[2],s.host=a[2],s.user=a[1],s.pathname="/"+a[3],s.parse_failed=!1):i("URL parsing failed.")}return s},"parseUrl");D5e.MAX_INPUT_LENGTH=2048;var jtt=B5e.default=D5e;P5e.exports=jtt});var Q5e=V((ncr,L5e)=>{"use strict";d();var $tt=OK();function N5e(e){if(Array.isArray(e))return e.indexOf("ssh")!==-1||e.indexOf("rsync")!==-1;if(typeof e!="string")return!1;var t=$tt(e);if(e=e.substring(e.indexOf("://")+3),N5e(t))return!0;var r=new RegExp(".([a-zA-Z\\d]+):(\\d+)/");return!e.match(r)&&e.indexOf("@")<e.indexOf(":")}o(N5e,"isSsh");L5e.exports=N5e});var U5e=V((scr,O5e)=>{"use strict";d();var ztt=F5e(),M5e=Q5e();function Ytt(e){let t=ztt(e);return t.token="",t.password==="x-oauth-basic"?t.token=t.user:t.user==="x-token-auth"&&(t.token=t.password),M5e(t.protocols)||t.protocols.length===0&&M5e(e)?t.protocol="ssh":t.protocols.length?t.protocol=t.protocols[0]:(t.protocol="file",t.protocols=["file"]),t.href=t.href.replace(/\/$/,""),t}o(Ytt,"gitUp");O5e.exports=Ytt});var W5e=V((ccr,q5e)=>{"use strict";d();var Ktt=U5e();function UK(e,t){if(t=t||[],typeof e!="string")throw new Error("The url must be a string.");if(!t.every(function(b){return typeof b=="string"}))throw new Error("The refs should contain only strings");var r=/^([a-z\d-]{1,39})\/([-\.\w]{1,100})$/i;r.test(e)&&(e="https://github.com/"+e);var n=Ktt(e),i=n.resource.split("."),s=null;switch(n.toString=function(b){return UK.stringify(this,b)},n.source=i.length>2?i.slice(1-i.length).join("."):n.source=n.resource,n.git_suffix=/\.git$/.test(n.pathname),n.name=decodeURIComponent((n.pathname||n.href).replace(/(^\/)|(\/$)/g,"").replace(/\.git$/,"")),n.owner=decodeURIComponent(n.user),n.source){case"git.cloudforge.com":n.owner=n.user,n.organization=i[0],n.source="cloudforge.com";break;case"visualstudio.com":if(n.resource==="vs-ssh.visualstudio.com"){s=n.name.split("/"),s.length===4&&(n.organization=s[1],n.owner=s[2],n.name=s[3],n.full_name=s[2]+"/"+s[3]);break}else{s=n.name.split("/"),s.length===2?(n.owner=s[1],n.name=s[1],n.full_name="_git/"+n.name):s.length===3?(n.name=s[2],s[0]==="DefaultCollection"?(n.owner=s[2],n.organization=s[0],n.full_name=n.organization+"/_git/"+n.name):(n.owner=s[0],n.full_name=n.owner+"/_git/"+n.name)):s.length===4&&(n.organization=s[0],n.owner=s[1],n.name=s[3],n.full_name=n.organization+"/"+n.owner+"/_git/"+n.name);break}case"dev.azure.com":case"azure.com":if(n.resource==="ssh.dev.azure.com"){s=n.name.split("/"),s.length===4&&(n.organization=s[1],n.owner=s[2],n.name=s[3]);break}else{s=n.name.split("/"),s.length===5?(n.organization=s[0],n.owner=s[1],n.name=s[4],n.full_name="_git/"+n.name):s.length===3?(n.name=s[2],s[0]==="DefaultCollection"?(n.owner=s[2],n.organization=s[0],n.full_name=n.organization+"/_git/"+n.name):(n.owner=s[0],n.full_name=n.owner+"/_git/"+n.name)):s.length===4&&(n.organization=s[0],n.owner=s[1],n.name=s[3],n.full_name=n.organization+"/"+n.owner+"/_git/"+n.name),n.query&&n.query.path&&(n.filepath=n.query.path.replace(/^\/+/g,"")),n.query&&n.query.version&&(n.ref=n.query.version.replace(/^GB/,""));break}default:s=n.name.split("/");var a=s.length-1;if(s.length>=2){var l=s.indexOf("-",2),c=s.indexOf("blob",2),u=s.indexOf("tree",2),f=s.indexOf("commit",2),m=s.indexOf("issues",2),h=s.indexOf("src",2),p=s.indexOf("raw",2),A=s.indexOf("edit",2);a=l>0?l-1:c>0&&u>0?Math.min(c-1,u-1):c>0?c-1:m>0?m-1:u>0?u-1:f>0?f-1:h>0?h-1:p>0?p-1:A>0?A-1:a,n.owner=s.slice(0,a).join("/"),n.name=s[a],f&&m<0&&(n.commit=s[a+2])}n.ref="",n.filepathtype="",n.filepath="";var x=s.length>a&&s[a+1]==="-"?a+1:a;s.length>x+2&&["raw","src","blob","tree","edit"].indexOf(s[x+1])>=0&&(n.filepathtype=s[x+1],n.ref=s[x+2],s.length>x+3&&(n.filepath=s.slice(x+3).join("/"))),n.organization=n.owner;break}n.full_name||(n.full_name=n.owner,n.name&&(n.full_name&&(n.full_name+="/"),n.full_name+=n.name)),n.owner.startsWith("scm/")&&(n.source="bitbucket-server",n.owner=n.owner.replace("scm/",""),n.organization=n.owner,n.full_name=n.owner+"/"+n.name);var E=/(projects|users)\/(.*?)\/repos\/(.*?)((\/.*$)|$)/,v=E.exec(n.pathname);return v!=null&&(n.source="bitbucket-server",v[1]==="users"?n.owner="~"+v[2]:n.owner=v[2],n.organization=n.owner,n.name=v[3],s=v[4].split("/"),s.length>1&&(["raw","browse"].indexOf(s[1])>=0?(n.filepathtype=s[1],s.length>2&&(n.filepath=s.slice(2).join("/"))):s[1]==="commits"&&s.length>2&&(n.commit=s[2])),n.full_name=n.owner+"/"+n.name,n.query.at?n.ref=n.query.at:n.ref=""),t.length!==0&&n.ref&&(n.ref=Ztt(n.href,t)||n.ref,n.filepath=n.href.split(n.ref+"/")[1]),n}o(UK,"gitUrlParse");UK.stringify=function(e,t){t=t||(e.protocols&&e.protocols.length?e.protocols.join("+"):e.protocol);var r=e.port?":"+e.port:"",n=e.user||"git",i=e.git_suffix?".git":"";switch(t){case"ssh":return r?"ssh://"+n+"@"+e.resource+r+"/"+e.full_name+i:n+"@"+e.resource+":"+e.full_name+i;case"git+ssh":case"ssh+git":case"ftp":case"ftps":return t+"://"+n+"@"+e.resource+r+"/"+e.full_name+i;case"http":case"https":var s=e.token?Jtt(e):e.user&&(e.protocols.includes("http")||e.protocols.includes("https"))?e.user+"@":"";return t+"://"+s+e.resource+r+"/"+Xtt(e)+i;default:return e.href}};function Jtt(e){switch(e.source){case"bitbucket.org":return"x-token-auth:"+e.token+"@";default:return e.token+"@"}}o(Jtt,"buildToken");function Xtt(e){switch(e.source){case"bitbucket-server":return"scm/"+e.full_name;default:var t=e.full_name.split("/").map(function(r){return encodeURIComponent(r)}).join("/");return t}}o(Xtt,"buildPath");function Ztt(e,t){var r="";return t.forEach(function(n){e.includes(n)&&n.length>r.length&&(r=n)}),r}o(Ztt,"findLongestMatchingSubstring");q5e.exports=UK});var eye=V(gp=>{"use strict";d();Object.defineProperty(gp,"__esModule",{value:!0});gp.bytePairEncode=gp.BinaryMap=gp.binaryMapKey=void 0;var hrt=o((e,t,r)=>{let n=r-t,i=16777215>>>Math.max(0,(3-n)*8),s=(e[t+0]|e[t+1]<<8|e[t+2]<<16)&i,a=16777215>>>Math.min(31,Math.max(0,(6-n)*8)),l=(e[t+3]|e[t+4]<<8|e[t+5]<<16)&a;return s+16777216*l},"binaryMapKey");gp.binaryMapKey=hrt;var zK=class e{static{o(this,"BinaryMap")}constructor(){this.nested=new Map,this.final=new Map}get(t,r=0,n=t.length){let i=n<6+r,s=(0,gp.binaryMapKey)(t,r,n);return i?this.final.get(s):this.nested.get(s)?.get(t,6+r,n)}set(t,r){let n=(0,gp.binaryMapKey)(t,0,t.length);if(t.length<6){this.final.set(n,r);return}let s=this.nested.get(n);if(s instanceof e)s.set(t.subarray(6),r);else{let a=new e;a.set(t.subarray(6),r),this.nested.set(n,a)}}};gp.BinaryMap=zK;var pp=new Int32Array(128),$0=new Int32Array(128);function prt(e,t,r){if(r===1)return[t.get(e)];let n=2147483647,i=-1;for(;pp.length<r*2;)$0=new Int32Array($0.length*2),pp=new Int32Array(pp.length*2);for(let c=0;c<r-1;c++){let u=t.get(e,c,c+2)??2147483647;u<n&&(n=u,i=c),$0[c]=c,pp[c]=u}$0[r-1]=r-1,pp[r-1]=2147483647,$0[r]=r,pp[r]=2147483647;let s=r+1;function a(c,u=0){if(c+u+2<s){let f=t.get(e,$0[c],$0[c+u+2]);if(f!==void 0)return f}return 2147483647}for(o(a,"getRank");n!==2147483647;){pp[$0[i]]=a(i,1),i>0&&(pp[$0[i-1]]=a(i-1,1));for(let c=i+1;c<s-1;c++)$0[c]=$0[c+1];s--,i=-1,n=2147483647;for(let c=0;c<s-1;c++){let u=pp[$0[c]];pp[$0[c]]<n&&(n=u,i=c)}}let l=[];for(let c=0;c<s-1;c++)l.push(t.get(e,$0[c],$0[c+1]));return l}o(prt,"bytePairEncode");gp.bytePairEncode=prt});var tye=V(uF=>{"use strict";d();Object.defineProperty(uF,"__esModule",{value:!0});uF.makeTextEncoder=void 0;var YK=class{static{o(this,"UniversalTextEncoder")}constructor(){this.length=0,this.encoder=new TextEncoder}encode(t){let r=this.encoder.encode(t);return this.length=r.length,r}},KK=class{static{o(this,"NodeTextEncoder")}constructor(){this.buffer=Buffer.alloc(256),this.length=0}encode(t){for(;;){if(this.length=this.buffer.write(t,"utf8"),this.length<this.buffer.length-4)return this.buffer;this.buffer=Buffer.alloc(this.length*2),this.length=this.buffer.write(t)}}},grt=o(()=>typeof Buffer<"u"?new KK:new YK,"makeTextEncoder");uF.makeTextEncoder=grt});var rye=V(fF=>{"use strict";d();Object.defineProperty(fF,"__esModule",{value:!0});fF.LRUCache=void 0;var JK=class{static{o(this,"LRUCache")}constructor(t){this.size=t,this.nodes=new Map}get(t){let r=this.nodes.get(t);if(r)return this.moveToHead(r),r.value}set(t,r){let n=this.nodes.get(t);if(n)n.value=r,this.moveToHead(n);else{let i=new XK(t,r);this.nodes.set(t,i),this.addNode(i),this.nodes.size>this.size&&(this.nodes.delete(this.tail.key),this.removeNode(this.tail))}}moveToHead(t){this.removeNode(t),t.next=void 0,t.prev=void 0,this.addNode(t)}addNode(t){this.head&&(this.head.prev=t,t.next=this.head),this.tail||(this.tail=t),this.head=t}removeNode(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev}};fF.LRUCache=JK;var XK=class{static{o(this,"Node")}constructor(t,r){this.key=t,this.value=r}}});var eJ=V(mF=>{"use strict";d();Object.defineProperty(mF,"__esModule",{value:!0});mF.TikTokenizer=void 0;var Art=require("fs"),yrt=require("util"),dF=eye(),Crt=tye(),xrt=rye();function Ert(e){let t=new Map;try{let n=Art.readFileSync(e,"utf-8");return r(n),t}catch(n){throw new Error(`Failed to load from BPE encoder file stream: ${n}`)}function r(n){for(let i of n.split(/[\r\n]+/)){if(i.trim()==="")continue;let s=i.split(" ");if(s.length!==2)throw new Error("Invalid format in the BPE encoder file stream");let a=new Uint8Array(Buffer.from(s[0],"base64")),l=parseInt(s[1]);if(!isNaN(l))t.set(a,l);else throw new Error(`Can't parse ${s[1]} to integer`)}}o(r,"processBpeRanks")}o(Ert,"loadTikTokenBpe");function brt(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(brt,"escapeRegExp");var ZK=class{static{o(this,"TikTokenizer")}constructor(t,r,n,i=8192){this.textEncoder=(0,Crt.makeTextEncoder)(),this.textDecoder=new yrt.TextDecoder("utf-8"),this.cache=new xrt.LRUCache(i);let s=typeof t=="string"?Ert(t):t;this.init(s,r,n)}init(t,r,n){this.encoder=new dF.BinaryMap;for(let[i,s]of t)this.encoder.set(i,s);this.regex=new RegExp(n,"gu"),this.specialTokensRegex=new RegExp(Array.from(r.keys()).map(i=>brt(i)).join("|")),this.specialTokensEncoder=r,this.decoder=new Map;for(let[i,s]of t)this.decoder.set(s,i);if(t.size!==this.decoder.size)throw new Error("Encoder and decoder sizes do not match");this.specialTokensDecoder=new Map;for(let[i,s]of r)this.specialTokensDecoder.set(s,i)}findNextSpecialToken(t,r,n){let i=r,s=null;if(n&&this.specialTokensRegex)for(;s=t.slice(i).match(this.specialTokensRegex),!(!s||n&&n.includes(s[0]));)i+=s.index+1;let a=s?i+s.index:t.length;return[s,a]}encode(t,r){let n=[],i=0;for(;;){let s,a;if([s,a]=this.findNextSpecialToken(t,i,r),a>i&&this.encodeByIndex(t,n,i,a),s){if(i=i+this.encodeSpecialToken(n,s),i>=t.length)break}else break}return n}encodeSpecialToken(t,r){let n=this.specialTokensEncoder?.get(r[0]);return t.push(n),r.index+r[0].length}encodeByIndex(t,r,n,i){let s,a=t.substring(n,i);for(this.regex.lastIndex=0;s=this.regex.exec(a);){let l=this.cache.get(s[0]);if(l)for(let c of l)r.push(c);else{let c=this.textEncoder.encode(s[0]),u=this.encoder.get(c,0,this.textEncoder.length);if(u!==void 0)r.push(u),this.cache.set(s[0],[u]);else{let f=(0,dF.bytePairEncode)(c,this.encoder,this.textEncoder.length);for(let m of f)r.push(m);this.cache.set(s[0],f)}}}}encodeTrimSuffixByIndex(t,r,n,i,s,a,l){let c,u=t.substring(n,i);for(this.regex.lastIndex=0;c=this.regex.exec(u);){let f=c[0],m=this.cache.get(f);if(m)if(a+m.length<=s)a+=m.length,l+=f.length,r.push(...m);else{let h=s-a;a+=h,l+=f.length,r.push(...m.slice(0,h));break}else{let h=this.textEncoder.encode(f),p=this.encoder.get(h,0,h.length);if(p!==void 0)if(this.cache.set(f,[p]),a+1<=s)a++,l+=f.length,r.push(p);else break;else{let A=(0,dF.bytePairEncode)(h,this.encoder,this.textEncoder.length);if(this.cache.set(f,A),a+A.length<=s){a+=A.length,l+=f.length;for(let x of A)r.push(x)}else{let x=s-a;a+=x,l+=f.length;for(let E=0;E<x;E++)r.push(A[E]);break}}}if(a>=s)break}return{tokenCount:a,encodeLength:l}}encodeTrimSuffix(t,r,n){let i=[],s=0,a=0,l=0;for(;;){let u,f;if([u,f]=this.findNextSpecialToken(t,s,n),f>s){let{tokenCount:m,encodeLength:h}=this.encodeTrimSuffixByIndex(t,i,s,f,r,a,l);if(a=m,l=h,a>=r)break}if(u!==null){if(a++,a<=r&&(s=s+this.encodeSpecialToken(i,u),l+=u[0].length,s>=t.length)||a>=r)break}else break}let c=l===t.length?t:t.slice(0,l);return{tokenIds:i,text:c}}encodeTrimPrefix(t,r,n){let i=[],s=0,a=0,l=0,c=new Map;for(c.set(a,l);;){let h,p;if([h,p]=this.findNextSpecialToken(t,s,n),p>s){let A,x=t.substring(s,p);for(this.regex.lastIndex=0;A=this.regex.exec(x);){let E=A[0],v=this.cache.get(E);if(v)a+=v.length,l+=E.length,i.push(...v),c.set(a,l);else{let b=this.textEncoder.encode(E),S=this.encoder.get(b);if(S!==void 0)this.cache.set(E,[S]),a++,l+=E.length,i.push(S),c.set(a,l);else{let B=(0,dF.bytePairEncode)(b,this.encoder,this.textEncoder.length);this.cache.set(E,B),a+=B.length,l+=E.length;for(let P of B)i.push(P);c.set(a,l)}}}}if(h!==null){if(s=s+this.encodeSpecialToken(i,h),a++,l+=h[0].length,c.set(a,l),s>=t.length)break}else break}if(a<=r)return{tokenIds:i,text:t};let u=a-r,f=0,m=0;for(let[h,p]of c)if(h>=u){f=h,m=p;break}if(f>r){let h=this.encode(t,n),p=h.slice(h.length-r);return{tokenIds:p,text:this.decode(p)}}return{tokenIds:i.slice(f),text:t.slice(m)}}decode(t){let r=[];for(let n of t){let i=[],s=this.decoder?.get(n);if(s!==void 0)i=Array.from(s);else{let a=this.specialTokensDecoder?.get(n);if(a!==void 0){let l=this.textEncoder.encode(a);i=Array.from(l.subarray(0,this.textEncoder.length))}}r.push(...i)}return this.textDecoder.decode(new Uint8Array(r))}};mF.TikTokenizer=ZK});var dye=V(ka=>{"use strict";d();Object.defineProperty(ka,"__esModule",{value:!0});ka.createTokenizer=ka.createByEncoderName=ka.createByModelName=ka.getRegexByModel=ka.getRegexByEncoder=ka.getSpecialTokensByModel=ka.getSpecialTokensByEncoder=ka.MODEL_TO_ENCODING=void 0;var pF=require("fs"),tJ=require("path"),vrt=eJ(),Irt=new Map([["gpt-4o-","o200k_base"],["gpt-4-","cl100k_base"],["gpt-3.5-turbo-","cl100k_base"],["gpt-35-turbo-","cl100k_base"]]);ka.MODEL_TO_ENCODING=new Map([["gpt-4o","o200k_base"],["gpt-4","cl100k_base"],["gpt-3.5-turbo","cl100k_base"],["text-davinci-003","p50k_base"],["text-davinci-002","p50k_base"],["text-davinci-001","r50k_base"],["text-curie-001","r50k_base"],["text-babbage-001","r50k_base"],["text-ada-001","r50k_base"],["davinci","r50k_base"],["curie","r50k_base"],["babbage","r50k_base"],["ada","r50k_base"],["code-davinci-002","p50k_base"],["code-davinci-001","p50k_base"],["code-cushman-002","p50k_base"],["code-cushman-001","p50k_base"],["davinci-codex","p50k_base"],["cushman-codex","p50k_base"],["text-davinci-edit-001","p50k_edit"],["code-davinci-edit-001","p50k_edit"],["text-embedding-ada-002","cl100k_base"],["text-similarity-davinci-001","r50k_base"],["text-similarity-curie-001","r50k_base"],["text-similarity-babbage-001","r50k_base"],["text-similarity-ada-001","r50k_base"],["text-search-davinci-doc-001","r50k_base"],["text-search-curie-doc-001","r50k_base"],["text-search-babbage-doc-001","r50k_base"],["text-search-ada-doc-001","r50k_base"],["code-search-babbage-code-001","r50k_base"],["code-search-ada-code-001","r50k_base"],["gpt2","gpt2"]]);var hF="<|endoftext|>",nye="<|fim_prefix|>",iye="<|fim_middle|>",oye="<|fim_suffix|>",sye="<|endofprompt|>",ET="'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+",aye="(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+",Trt=[`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]*[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]+(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]+[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]*(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,"\\p{N}{1,3}"," ?[^\\s\\p{L}\\p{N}]+[\\r\\n/]*","\\s*[\\r\\n]+","\\s+(?!\\S)","\\s+"],lye=Trt.join("|");function rJ(e){let t="";if(ka.MODEL_TO_ENCODING.has(e))t=ka.MODEL_TO_ENCODING.get(e);else for(let[r,n]of Irt)if(e.startsWith(r)){t=n;break}return t}o(rJ,"getEncoderFromModelName");async function wrt(e,t){let r=await fetch(e);if(!r.ok)throw new Error(`Failed to fetch file from ${e}. Status code: ${r.status}`);let n=await r.text();pF.writeFileSync(t,n)}o(wrt,"fetchAndSaveFile");function nJ(e){let t=new Map([[hF,50256]]);switch(e){case"o200k_base":t=new Map([[hF,199999],[sye,200018]]);break;case"cl100k_base":t=new Map([[hF,100257],[nye,100258],[iye,100259],[oye,100260],[sye,100276]]);break;case"p50k_edit":t=new Map([[hF,50256],[nye,50281],[iye,50282],[oye,50283]]);break;default:break}return t}o(nJ,"getSpecialTokensByEncoder");ka.getSpecialTokensByEncoder=nJ;function Srt(e){let t=rJ(e);return nJ(t)}o(Srt,"getSpecialTokensByModel");ka.getSpecialTokensByModel=Srt;function cye(e){switch(e){case"o200k_base":return lye;case"cl100k_base":return aye;default:break}return ET}o(cye,"getRegexByEncoder");ka.getRegexByEncoder=cye;function _rt(e){let t=rJ(e);return cye(t)}o(_rt,"getRegexByModel");ka.getRegexByModel=_rt;async function krt(e,t=null){return uye(rJ(e),t)}o(krt,"createByModelName");ka.createByModelName=krt;async function uye(e,t=null){let r,n,i=nJ(e);switch(e){case"o200k_base":r=lye,n="https://openaipublic.blob.core.windows.net/encodings/o200k_base.tiktoken";break;case"cl100k_base":r=aye,n="https://openaipublic.blob.core.windows.net/encodings/cl100k_base.tiktoken";break;case"p50k_base":r=ET,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"p50k_edit":r=ET,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"r50k_base":r=ET,n="https://openaipublic.blob.core.windows.net/encodings/r50k_base.tiktoken";break;case"gpt2":r=ET,n="https://raw.githubusercontent.com/microsoft/Tokenizer/main/model/gpt2.tiktoken";break;default:throw new Error(`Doesn't support this encoder [${e}]`)}t!==null&&(i=new Map([...i,...t]));let s=tJ.basename(n),a=tJ.resolve(__dirname,"..","model");pF.existsSync(a)||pF.mkdirSync(a,{recursive:!0});let l=tJ.resolve(a,s);return pF.existsSync(l)||(console.log(`Downloading file from ${n}`),await wrt(n,l),console.log(`Saved file to ${l}`)),fye(l,i,r)}o(uye,"createByEncoderName");ka.createByEncoderName=uye;function fye(e,t,r,n=8192){return new vrt.TikTokenizer(e,t,r,n)}o(fye,"createTokenizer");ka.createTokenizer=fye});var mye=V(Ba=>{"use strict";d();Object.defineProperty(Ba,"__esModule",{value:!0});Ba.createTokenizer=Ba.createByEncoderName=Ba.createByModelName=Ba.getSpecialTokensByModel=Ba.getSpecialTokensByEncoder=Ba.getRegexByModel=Ba.getRegexByEncoder=Ba.MODEL_TO_ENCODING=Ba.TikTokenizer=void 0;var Brt=eJ();Object.defineProperty(Ba,"TikTokenizer",{enumerable:!0,get:o(function(){return Brt.TikTokenizer},"get")});var I5=dye();Object.defineProperty(Ba,"MODEL_TO_ENCODING",{enumerable:!0,get:o(function(){return I5.MODEL_TO_ENCODING},"get")});Object.defineProperty(Ba,"getRegexByEncoder",{enumerable:!0,get:o(function(){return I5.getRegexByEncoder},"get")});Object.defineProperty(Ba,"getRegexByModel",{enumerable:!0,get:o(function(){return I5.getRegexByModel},"get")});Object.defineProperty(Ba,"getSpecialTokensByEncoder",{enumerable:!0,get:o(function(){return I5.getSpecialTokensByEncoder},"get")});Object.defineProperty(Ba,"getSpecialTokensByModel",{enumerable:!0,get:o(function(){return I5.getSpecialTokensByModel},"get")});Object.defineProperty(Ba,"createByModelName",{enumerable:!0,get:o(function(){return I5.createByModelName},"get")});Object.defineProperty(Ba,"createByEncoderName",{enumerable:!0,get:o(function(){return I5.createByEncoderName},"get")});Object.defineProperty(Ba,"createTokenizer",{enumerable:!0,get:o(function(){return I5.createTokenizer},"get")})});var kye=V((exports,module)=>{d();var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;class Parser{static{o(this,"Parser")}constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=o((e,t)=>{throw t},"quit_"),ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(e){return Module.locateFile?Module.locateFile(e,scriptDirectory):scriptDirectory+e}o(locateFile,"locateFile");function logExceptionOnExit(e){e instanceof ExitStatus||err("exiting due to exception: "+e)}if(o(logExceptionOnExit,"logExceptionOnExit"),ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=require("path");scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=o((e,t)=>(e=isFileURI(e)?new URL(e):nodePath.normalize(e),fs.readFileSync(e,t?void 0:"utf8")),"read_"),readBinary=o(e=>{var t=read_(e,!0);return t.buffer||(t=new Uint8Array(t)),t},"readBinary"),readAsync=o((e,t,r)=>{e=isFileURI(e)?new URL(e):nodePath.normalize(e),fs.readFile(e,function(n,i){n?r(n):t(i.buffer)})},"readAsync"),process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=o((e,t)=>{if(keepRuntimeAlive())throw process.exitCode=e,t;logExceptionOnExit(t),process.exit(e)},"quit_"),Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=o(e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},"read_"),ENVIRONMENT_IS_WORKER&&(readBinary=o(e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)},"readBinary")),readAsync=o((e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{n.status==200||n.status==0&&n.response?t(n.response):r()},n.onerror=r,n.send(null)},"readAsync"),setWindowTitle=o(e=>document.title=e,"setWindowTitle"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(e,t,r){for(var n=t+r,i=t;e[i]&&!(i>=n);)++i;if(i-t>16&&e.buffer&&UTF8Decoder)return UTF8Decoder.decode(e.subarray(t,i));for(var s="";t<i;){var a=e[t++];if(128&a){var l=63&e[t++];if((224&a)!=192){var c=63&e[t++];if((a=(240&a)==224?(15&a)<<12|l<<6|c:(7&a)<<18|l<<12|c<<6|63&e[t++])<65536)s+=String.fromCharCode(a);else{var u=a-65536;s+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else s+=String.fromCharCode((31&a)<<6|l)}else s+=String.fromCharCode(a)}return s}o(UTF8ArrayToString,"UTF8ArrayToString");function UTF8ToString(e,t){return e?UTF8ArrayToString(HEAPU8,e,t):""}o(UTF8ToString,"UTF8ToString");function stringToUTF8Array(e,t,r,n){if(!(n>0))return 0;for(var i=r,s=r+n-1,a=0;a<e.length;++a){var l=e.charCodeAt(a);if(l>=55296&&l<=57343&&(l=65536+((1023&l)<<10)|1023&e.charCodeAt(++a)),l<=127){if(r>=s)break;t[r++]=l}else if(l<=2047){if(r+1>=s)break;t[r++]=192|l>>6,t[r++]=128|63&l}else if(l<=65535){if(r+2>=s)break;t[r++]=224|l>>12,t[r++]=128|l>>6&63,t[r++]=128|63&l}else{if(r+3>=s)break;t[r++]=240|l>>18,t[r++]=128|l>>12&63,t[r++]=128|l>>6&63,t[r++]=128|63&l}}return t[r]=0,r-i}o(stringToUTF8Array,"stringToUTF8Array");function stringToUTF8(e,t,r){return stringToUTF8Array(e,HEAPU8,t,r)}o(stringToUTF8,"stringToUTF8");function lengthBytesUTF8(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++r):t+=3}return t}o(lengthBytesUTF8,"lengthBytesUTF8");function updateGlobalBufferAndViews(e){buffer=e,Module.HEAP8=HEAP8=new Int8Array(e),Module.HEAP16=HEAP16=new Int16Array(e),Module.HEAP32=HEAP32=new Int32Array(e),Module.HEAPU8=HEAPU8=new Uint8Array(e),Module.HEAPU16=HEAPU16=new Uint16Array(e),Module.HEAPU32=HEAPU32=new Uint32Array(e),Module.HEAPF32=HEAPF32=new Float32Array(e),Module.HEAPF64=HEAPF64=new Float64Array(e)}o(updateGlobalBufferAndViews,"updateGlobalBufferAndViews");var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}o(keepRuntimeAlive,"keepRuntimeAlive");function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}o(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}o(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}o(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}o(postRun,"postRun");function addOnPreRun(e){__ATPRERUN__.unshift(e)}o(addOnPreRun,"addOnPreRun");function addOnInit(e){__ATINIT__.unshift(e)}o(addOnInit,"addOnInit");function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}o(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(e){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}o(addRunDependency,"addRunDependency");function removeRunDependency(e){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var t=dependenciesFulfilled;dependenciesFulfilled=null,t()}}o(removeRunDependency,"removeRunDependency");function abort(e){throw Module.onAbort&&Module.onAbort(e),err(e="Aborted("+e+")"),ABORT=!0,EXITSTATUS=1,e+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(e)}o(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(e){return e.startsWith(dataURIPrefix)}o(isDataURI,"isDataURI");function isFileURI(e){return e.startsWith("file://")}o(isFileURI,"isFileURI");function getBinary(e){try{if(e==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(e);throw"both async and sync fetching of the wasm failed"}catch(t){abort(t)}}o(getBinary,"getBinary");function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return e.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(e,t){readAsync(wasmBinaryFile,function(r){e(new Uint8Array(r))},t)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}o(getBinaryPromise,"getBinaryPromise");function createWasm(){var e={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function t(i,s){var a=i.exports;a=relocateExports(a,1024);var l=getDylinkMetadata(s);l.neededDynlibs&&(dynamicLibraries=l.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(a,"main"),Module.asm=a,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}o(t,"t");function r(i){t(i.instance,i.module)}o(r,"r");function n(i){return getBinaryPromise().then(function(s){return WebAssembly.instantiate(s,e)}).then(function(s){return s}).then(i,function(s){err("failed to asynchronously prepare wasm: "+s),abort(s)})}if(o(n,"_"),addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(e,t)}catch(i){return err("Module.instantiateWasm callback failed with error: "+i),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?n(r):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(i){return WebAssembly.instantiateStreaming(i,e).then(r,function(s){return err("wasm streaming compile failed: "+s),err("falling back to ArrayBuffer instantiation"),n(r)})}),{}}o(createWasm,"createWasm"),wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}o(ExitStatus,"ExitStatus");var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:o(function(e,t){var r=GOT[t];return r||(r=GOT[t]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(t)||(r.required=!0),r},"get")};function callRuntimeCallbacks(e){for(;e.length>0;)e.shift()(Module)}o(callRuntimeCallbacks,"callRuntimeCallbacks");function getDylinkMetadata(e){var t=0,r=0;function n(){for(var v=0,b=1;;){var S=e[t++];if(v+=(127&S)*b,b*=128,!(128&S))break}return v}o(n,"_");function i(){var v=n();return UTF8ArrayToString(e,(t+=v)-v,v)}o(i,"n");function s(v,b){if(v)throw new Error(b)}o(s,"s");var a="dylink.0";if(e instanceof WebAssembly.Module){var l=WebAssembly.Module.customSections(e,a);l.length===0&&(a="dylink",l=WebAssembly.Module.customSections(e,a)),s(l.length===0,"need dylink section"),r=(e=new Uint8Array(l[0])).length}else{s(new Uint32Array(new Uint8Array(e.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),s(e[8]!==0,"need the dylink section to be first"),t=9;var c=n();r=t+c,a=i()}var u={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(a=="dylink"){u.memorySize=n(),u.memoryAlign=n(),u.tableSize=n(),u.tableAlign=n();for(var f=n(),m=0;m<f;++m){var h=i();u.neededDynlibs.push(h)}}else for(s(a!=="dylink.0");t<r;){var p=e[t++],A=n();if(p===1)u.memorySize=n(),u.memoryAlign=n(),u.tableSize=n(),u.tableAlign=n();else if(p===2)for(f=n(),m=0;m<f;++m)h=i(),u.neededDynlibs.push(h);else if(p===3)for(var x=n();x--;){var E=i();256&n()&&u.tlsExports.add(E)}else if(p===4)for(x=n();x--;)i(),E=i(),(3&n())==1&&u.weakImports.add(E);else t+=A}return u}o(getDylinkMetadata,"getDylinkMetadata");function getValue(e,t="i8"){switch(t.endsWith("*")&&(t="*"),t){case"i1":case"i8":return HEAP8[e>>0];case"i16":return HEAP16[e>>1];case"i32":case"i64":return HEAP32[e>>2];case"float":return HEAPF32[e>>2];case"double":return HEAPF64[e>>3];case"*":return HEAPU32[e>>2];default:abort("invalid type for getValue: "+t)}return null}o(getValue,"getValue");function asmjsMangle(e){return e.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(e)?e:"_"+e}o(asmjsMangle,"asmjsMangle");function mergeLibSymbols(e,t){for(var r in e)if(e.hasOwnProperty(r)){asmLibraryArg.hasOwnProperty(r)||(asmLibraryArg[r]=e[r]);var n=asmjsMangle(r);Module.hasOwnProperty(n)||(Module[n]=e[r]),r=="__main_argc_argv"&&(Module._main=e[r])}}o(mergeLibSymbols,"mergeLibSymbols");var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(e,t,r){var n=Module["dynCall_"+e];return r&&r.length?n.apply(null,[t].concat(r)):n.call(null,t)}o(dynCallLegacy,"dynCallLegacy");var wasmTableMirror=[];function getWasmTableEntry(e){var t=wasmTableMirror[e];return t||(e>=wasmTableMirror.length&&(wasmTableMirror.length=e+1),wasmTableMirror[e]=t=wasmTable.get(e)),t}o(getWasmTableEntry,"getWasmTableEntry");function dynCall(e,t,r){return e.includes("j")?dynCallLegacy(e,t,r):getWasmTableEntry(t).apply(null,r)}o(dynCall,"dynCall");function createInvokeFunction(e){return function(){var t=stackSave();try{return dynCall(e,arguments[0],Array.prototype.slice.call(arguments,1))}catch(r){if(stackRestore(t),r!==r+0)throw r;_setThrew(1,0)}}}o(createInvokeFunction,"createInvokeFunction");var ___heap_base=78144;function zeroMemory(e,t){return HEAPU8.fill(0,e,e+t),e}o(zeroMemory,"zeroMemory");function getMemory(e){if(runtimeInitialized)return zeroMemory(_malloc(e),e);var t=___heap_base,r=t+e+15&-16;return ___heap_base=r,GOT.__heap_base.value=r,t}o(getMemory,"getMemory");function isInternalSym(e){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(e)}o(isInternalSym,"isInternalSym");function uleb128Encode(e,t){e<128?t.push(e):t.push(e%128|128,e>>7)}o(uleb128Encode,"uleb128Encode");function sigToWasmTypes(e){for(var t={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},r={parameters:[],results:e[0]=="v"?[]:[t[e[0]]]},n=1;n<e.length;++n)r.parameters.push(t[e[n]]),e[n]==="j"&&r.parameters.push("i32");return r}o(sigToWasmTypes,"sigToWasmTypes");function generateFuncType(e,t){var r=e.slice(0,1),n=e.slice(1),i={i:127,p:127,j:126,f:125,d:124};t.push(96),uleb128Encode(n.length,t);for(var s=0;s<n.length;++s)t.push(i[n[s]]);r=="v"?t.push(0):t.push(1,i[r])}o(generateFuncType,"generateFuncType");function convertJsFunctionToWasm(e,t){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(t),e);var r=[1];generateFuncType(t,r);var n=[0,97,115,109,1,0,0,0,1];uleb128Encode(r.length,n),n.push.apply(n,r),n.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var i=new WebAssembly.Module(new Uint8Array(n));return new WebAssembly.Instance(i,{e:{f:e}}).exports.f}o(convertJsFunctionToWasm,"convertJsFunctionToWasm");function updateTableMap(e,t){if(functionsInTableMap)for(var r=e;r<e+t;r++){var n=getWasmTableEntry(r);n&&functionsInTableMap.set(n,r)}}o(updateTableMap,"updateTableMap");var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(e){throw e instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":e}return wasmTable.length-1}o(getEmptyTableSlot,"getEmptyTableSlot");function setWasmTableEntry(e,t){wasmTable.set(e,t),wasmTableMirror[e]=wasmTable.get(e)}o(setWasmTableEntry,"setWasmTableEntry");function addFunction(e,t){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(e))return functionsInTableMap.get(e);var r=getEmptyTableSlot();try{setWasmTableEntry(r,e)}catch(n){if(!(n instanceof TypeError))throw n;setWasmTableEntry(r,convertJsFunctionToWasm(e,t))}return functionsInTableMap.set(e,r),r}o(addFunction,"addFunction");function updateGOT(e,t){for(var r in e)if(!isInternalSym(r)){var n=e[r];r.startsWith("orig$")&&(r=r.split("$")[1],t=!0),GOT[r]||(GOT[r]=new WebAssembly.Global({value:"i32",mutable:!0})),(t||GOT[r].value==0)&&(typeof n=="function"?GOT[r].value=addFunction(n):typeof n=="number"?GOT[r].value=n:err("unhandled export type for `"+r+"`: "+typeof n))}}o(updateGOT,"updateGOT");function relocateExports(e,t,r){var n={};for(var i in e){var s=e[i];typeof s=="object"&&(s=s.value),typeof s=="number"&&(s+=t),n[i]=s}return updateGOT(n,r),n}o(relocateExports,"relocateExports");function resolveGlobalSymbol(e,t){var r;return t&&(r=asmLibraryArg["orig$"+e]),r||(r=asmLibraryArg[e])&&r.stub&&(r=void 0),r||(r=Module[asmjsMangle(e)]),!r&&e.startsWith("invoke_")&&(r=createInvokeFunction(e.split("_")[1])),r}o(resolveGlobalSymbol,"resolveGlobalSymbol");function alignMemory(e,t){return Math.ceil(e/t)*t}o(alignMemory,"alignMemory");function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(e){var t=resolveGlobalSymbol(e,!1);return t||(t=moduleExports[e]),t}o(resolveSymbol,"resolveSymbol"),tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:o(function(e,t){switch(t){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(t in asmLibraryArg)return asmLibraryArg[t];var r;return t in e||(e[t]=function(){return r||(r=resolveSymbol(t)),r.apply(null,arguments)}),e[t]},"get")},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(o(addEmAsm,"addEmAsm"),updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(o(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(e){return postInstantiation(e.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return o(loadModule,"loadModule"),CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(e,t){return e.then(function(){return loadDynamicLibrary(t,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(e){loadDynamicLibrary(e,flags)}),loadModule())}o(loadWebAssemblyModule,"loadWebAssemblyModule");function loadDynamicLibrary(e,t,r){t=t||{global:!0,nodelete:!0};var n=LDSO.loadedLibsByName[e];if(n)return t.global&&!n.global&&(n.global=!0,n.module!=="loading"&&mergeLibSymbols(n.module,e)),t.nodelete&&n.refcount!==1/0&&(n.refcount=1/0),n.refcount++,r&&(LDSO.loadedLibsByHandle[r]=n),!t.loadAsync||Promise.resolve(!0);function i(l){if(t.fs&&t.fs.findObject(l)){var c=t.fs.readFile(l,{encoding:"binary"});return c instanceof Uint8Array||(c=new Uint8Array(c)),t.loadAsync?Promise.resolve(c):c}if(l=locateFile(l),t.loadAsync)return new Promise(function(u,f){readAsync(l,m=>u(new Uint8Array(m)),f)});if(!readBinary)throw new Error(l+": file not found, and synchronous loading of external files is not available");return readBinary(l)}o(i,"n");function s(){if(typeof preloadedWasm<"u"&&preloadedWasm[e]){var l=preloadedWasm[e];return t.loadAsync?Promise.resolve(l):l}return t.loadAsync?i(e).then(function(c){return loadWebAssemblyModule(c,t,r)}):loadWebAssemblyModule(i(e),t,r)}o(s,"s");function a(l){n.global&&mergeLibSymbols(l,e),n.module=l}return o(a,"a"),n={refcount:t.nodelete?1/0:1,name:e,module:"loading",global:t.global},LDSO.loadedLibsByName[e]=n,r&&(LDSO.loadedLibsByHandle[r]=n),t.loadAsync?s().then(function(l){return a(l),!0}):(a(s()),!0)}o(loadDynamicLibrary,"loadDynamicLibrary");function reportUndefinedSymbols(){for(var e in GOT)if(GOT[e].value==0){var t=resolveGlobalSymbol(e,!0);if(!t&&!GOT[e].required)continue;if(typeof t=="function")GOT[e].value=addFunction(t,t.sig);else{if(typeof t!="number")throw new Error("bad export type for `"+e+"`: "+typeof t);GOT[e].value=t}}}o(reportUndefinedSymbols,"reportUndefinedSymbols");function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce(function(e,t){return e.then(function(){return loadDynamicLibrary(t,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")})):reportUndefinedSymbols()}o(preloadDylibs,"preloadDylibs");function setValue(e,t,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":case"i8":HEAP8[e>>0]=t;break;case"i16":HEAP16[e>>1]=t;break;case"i32":HEAP32[e>>2]=t;break;case"i64":tempI64=[t>>>0,(tempDouble=t,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case"float":HEAPF32[e>>2]=t;break;case"double":HEAPF64[e>>3]=t;break;case"*":HEAPU32[e>>2]=t;break;default:abort("invalid type for setValue: "+r)}}o(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}o(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic");function _abort(){abort("")}o(_abort,"_abort");function _emscripten_date_now(){return Date.now()}o(_emscripten_date_now,"_emscripten_date_now");function _emscripten_memcpy_big(e,t,r){HEAPU8.copyWithin(e,t,t+r)}o(_emscripten_memcpy_big,"_emscripten_memcpy_big");function getHeapMax(){return 2147483648}o(getHeapMax,"getHeapMax");function emscripten_realloc_buffer(e){try{return wasmMemory.grow(e-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}o(emscripten_realloc_buffer,"emscripten_realloc_buffer");function _emscripten_resize_heap(e){var t=HEAPU8.length;e>>>=0;var r=getHeapMax();if(e>r)return!1;for(var n=1;n<=4;n*=2){var i=t*(1+.2/n);if(i=Math.min(i,e+100663296),emscripten_realloc_buffer(Math.min(r,(s=Math.max(e,i))+((a=65536)-s%a)%a)))return!0}var s,a;return!1}o(_emscripten_resize_heap,"_emscripten_resize_heap"),__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:o(function(e,t,r){if(PATH.isAbs(t))return t;var n;if(e===-100?n=FS.cwd():n=SYSCALLS.getStreamFromFD(e).path,t.length==0){if(!r)throw new FS.ErrnoError(44);return n}return PATH.join2(n,t)},"calculateAt"),doStat:o(function(e,t,r){try{var n=e(t)}catch(l){if(l&&l.node&&PATH.normalize(t)!==PATH.normalize(FS.getPath(l.node)))return-54;throw l}HEAP32[r>>2]=n.dev,HEAP32[r+8>>2]=n.ino,HEAP32[r+12>>2]=n.mode,HEAPU32[r+16>>2]=n.nlink,HEAP32[r+20>>2]=n.uid,HEAP32[r+24>>2]=n.gid,HEAP32[r+28>>2]=n.rdev,tempI64=[n.size>>>0,(tempDouble=n.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+40>>2]=tempI64[0],HEAP32[r+44>>2]=tempI64[1],HEAP32[r+48>>2]=4096,HEAP32[r+52>>2]=n.blocks;var i=n.atime.getTime(),s=n.mtime.getTime(),a=n.ctime.getTime();return tempI64=[Math.floor(i/1e3)>>>0,(tempDouble=Math.floor(i/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+56>>2]=tempI64[0],HEAP32[r+60>>2]=tempI64[1],HEAPU32[r+64>>2]=i%1e3*1e3,tempI64=[Math.floor(s/1e3)>>>0,(tempDouble=Math.floor(s/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+72>>2]=tempI64[0],HEAP32[r+76>>2]=tempI64[1],HEAPU32[r+80>>2]=s%1e3*1e3,tempI64=[Math.floor(a/1e3)>>>0,(tempDouble=Math.floor(a/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+88>>2]=tempI64[0],HEAP32[r+92>>2]=tempI64[1],HEAPU32[r+96>>2]=a%1e3*1e3,tempI64=[n.ino>>>0,(tempDouble=n.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+104>>2]=tempI64[0],HEAP32[r+108>>2]=tempI64[1],0},"doStat"),doMsync:o(function(e,t,r,n,i){if(!FS.isFile(t.node.mode))throw new FS.ErrnoError(43);if(2&n)return 0;var s=HEAPU8.slice(e,e+r);FS.msync(t,s,i,r,n)},"doMsync"),varargs:void 0,get:o(function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},"get"),getStr:o(function(e){return UTF8ToString(e)},"getStr"),getStreamFromFD:o(function(e){var t=FS.getStream(e);if(!t)throw new FS.ErrnoError(8);return t},"getStreamFromFD")};function _proc_exit(e){EXITSTATUS=e,keepRuntimeAlive()||(Module.onExit&&Module.onExit(e),ABORT=!0),quit_(e,new ExitStatus(e))}o(_proc_exit,"_proc_exit");function exitJS(e,t){EXITSTATUS=e,_proc_exit(e)}o(exitJS,"exitJS"),_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(e){try{var t=SYSCALLS.getStreamFromFD(e);return FS.close(t),0}catch(r){if(typeof FS>"u"||!(r instanceof FS.ErrnoError))throw r;return r.errno}}o(_fd_close,"_fd_close");function convertI32PairToI53Checked(e,t){return t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN}o(convertI32PairToI53Checked,"convertI32PairToI53Checked");function _fd_seek(e,t,r,n,i){try{var s=convertI32PairToI53Checked(t,r);if(isNaN(s))return 61;var a=SYSCALLS.getStreamFromFD(e);return FS.llseek(a,s,n),tempI64=[a.position>>>0,(tempDouble=a.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[i>>2]=tempI64[0],HEAP32[i+4>>2]=tempI64[1],a.getdents&&s===0&&n===0&&(a.getdents=null),0}catch(l){if(typeof FS>"u"||!(l instanceof FS.ErrnoError))throw l;return l.errno}}o(_fd_seek,"_fd_seek");function doWritev(e,t,r,n){for(var i=0,s=0;s<r;s++){var a=HEAPU32[t>>2],l=HEAPU32[t+4>>2];t+=8;var c=FS.write(e,HEAP8,a,l,n);if(c<0)return-1;i+=c,n!==void 0&&(n+=c)}return i}o(doWritev,"doWritev");function _fd_write(e,t,r,n){try{var i=doWritev(SYSCALLS.getStreamFromFD(e),t,r);return HEAPU32[n>>2]=i,0}catch(s){if(typeof FS>"u"||!(s instanceof FS.ErrnoError))throw s;return s.errno}}o(_fd_write,"_fd_write");function _tree_sitter_log_callback(e,t){if(currentLogCallback){let r=UTF8ToString(t);currentLogCallback(r,e!==0)}}o(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(e,t,r,n,i){var s=currentParseCallback(t,{row:r,column:n});typeof s=="string"?(setValue(i,s.length,"i32"),stringToUTF16(s,e,10240)):setValue(i,0,"i32")}o(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");function handleException(e){if(e instanceof ExitStatus||e=="unwind")return EXITSTATUS;quit_(1,e)}o(handleException,"handleException");function allocateUTF8OnStack(e){var t=lengthBytesUTF8(e)+1,r=stackAlloc(t);return stringToUTF8Array(e,HEAP8,r,t),r}o(allocateUTF8OnStack,"allocateUTF8OnStack");function stringToUTF16(e,t,r){if(r===void 0&&(r=2147483647),r<2)return 0;for(var n=t,i=(r-=2)<2*e.length?r/2:e.length,s=0;s<i;++s){var a=e.charCodeAt(s);HEAP16[t>>1]=a,t+=2}return HEAP16[t>>1]=0,t-n}o(stringToUTF16,"stringToUTF16");function AsciiToString(e){for(var t="";;){var r=HEAPU8[e++>>0];if(!r)return t;t+=String.fromCharCode(r)}}o(AsciiToString,"AsciiToString"),_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(e){var t=Module._main;if(t){(e=e||[]).unshift(thisProgram);var r=e.length,n=stackAlloc(4*(r+1)),i=n>>2;e.forEach(a=>{HEAP32[i++]=allocateUTF8OnStack(a)}),HEAP32[i]=0;try{var s=t(r,n);return exitJS(s,!0),s}catch(a){return handleException(a)}}}o(callMain,"callMain"),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=o(function e(){calledRun||run(),calledRun||(dependenciesFulfilled=e)},"e");var dylibsLoaded=!1;function run(e){function t(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(e),postRun()))}o(t,"t"),e=e||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),t()},1)):t()))}if(o(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;class ParserImpl{static{o(this,"ParserImpl")}static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(t){let r;if(t){if(t.constructor!==Language)throw new Error("Argument must be a Language");{r=t[0];let n=C._ts_language_version(r);if(n<MIN_COMPATIBLE_VERSION||VERSION<n)throw new Error(`Incompatible language version ${n}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else r=0,t=null;return this.language=t,C._ts_parser_set_language(this[0],r),this}getLanguage(){return this.language}parse(t,r,n){if(typeof t=="string")currentParseCallback=o((c,u,f)=>t.slice(c,f),"currentParseCallback");else{if(typeof t!="function")throw new Error("Argument must be a string or a function");currentParseCallback=t}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let i=0,s=0;if(n&&n.includedRanges){i=n.includedRanges.length,s=C._calloc(i,SIZE_OF_RANGE);let c=s;for(let u=0;u<i;u++)marshalRange(c,n.includedRanges[u]),c+=SIZE_OF_RANGE}let a=C._ts_parser_parse_wasm(this[0],this[1],r?r[0]:0,s,i);if(!a)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let l=new Tree(INTERNAL,a,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,l}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(t){C._ts_parser_set_timeout_micros(this[0],t)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(t){if(t){if(typeof t!="function")throw new Error("Logger callback must be a function")}else t=null;return this.logCallback=t,this}getLogger(){return this.logCallback}}class Tree{static{o(this,"Tree")}constructor(t,r,n,i){assertInternal(t),this[0]=r,this.language=n,this.textCallback=i}copy(){let t=C._ts_tree_copy(this[0]);return new Tree(INTERNAL,t,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(t){marshalEdit(t),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(t){if(t.constructor!==Tree)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],t[0]);let r=getValue(TRANSFER_BUFFER,"i32"),n=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),i=new Array(r);if(r>0){let s=n;for(let a=0;a<r;a++)i[a]=unmarshalRange(s),s+=SIZE_OF_RANGE;C._free(n)}return i}}class Node{static{o(this,"Node")}constructor(t,r){assertInternal(t),this.tree=r}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(t){return this.id===t.id}child(t){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],t),unmarshalNode(this.tree)}namedChild(t){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],t),unmarshalNode(this.tree)}childForFieldId(t){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],t),unmarshalNode(this.tree)}childForFieldName(t){let r=this.tree.language.fields.indexOf(t);if(r!==-1)return this.childForFieldId(r)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let t=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(t),t>0){let n=r;for(let i=0;i<t;i++)this._children[i]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let t=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(t),t>0){let n=r;for(let i=0;i<t;i++)this._namedChildren[i]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._namedChildren}descendantsOfType(t,r,n){Array.isArray(t)||(t=[t]),r||(r=ZERO_POINT),n||(n=ZERO_POINT);let i=[],s=this.tree.language.types;for(let f=0,m=s.length;f<m;f++)t.includes(s[f])&&i.push(f);let a=C._malloc(SIZE_OF_INT*i.length);for(let f=0,m=i.length;f<m;f++)setValue(a+f*SIZE_OF_INT,i[f],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],a,i.length,r.row,r.column,n.row,n.column);let l=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),u=new Array(l);if(l>0){let f=c;for(let m=0;m<l;m++)u[m]=unmarshalNode(this.tree,f),f+=SIZE_OF_NODE}return C._free(c),C._free(a),u}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(t,r=t){if(typeof t!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,t,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(t,r=t){if(typeof t!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,t,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(t,r=t){if(!isPoint(t)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,t),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(t,r=t){if(!isPoint(t)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,t),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let t=C._ts_node_to_string_wasm(this.tree[0]),r=AsciiToString(t);return C._free(t),r}}class TreeCursor{static{o(this,"TreeCursor")}constructor(t,r){assertInternal(t),this.tree=r,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(t){marshalNode(t),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let t=C._ts_tree_cursor_start_index_wasm(this.tree[0]),r=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,t,r)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}gotoNextSibling(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}gotoParent(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}}class Language{static{o(this,"Language")}constructor(t,r){assertInternal(t),this[0]=r,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let n=0,i=this.types.length;n<i;n++)C._ts_language_symbol_type(this[0],n)<2&&(this.types[n]=UTF8ToString(C._ts_language_symbol_name(this[0],n)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let n=0,i=this.fields.length;n<i;n++){let s=C._ts_language_field_name_for_id(this[0],n);this.fields[n]=s!==0?UTF8ToString(s):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(t){let r=this.fields.indexOf(t);return r!==-1?r:null}fieldNameForId(t){return this.fields[t]||null}idForNodeType(t,r){let n=lengthBytesUTF8(t),i=C._malloc(n+1);stringToUTF8(t,i,n+1);let s=C._ts_language_symbol_for_name(this[0],i,n,r);return C._free(i),s||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(t){let r=C._ts_language_symbol_name(this[0],t);return r?UTF8ToString(r):null}nodeTypeIsNamed(t){return!!C._ts_language_type_is_named_wasm(this[0],t)}nodeTypeIsVisible(t){return!!C._ts_language_type_is_visible_wasm(this[0],t)}query(t){let r=lengthBytesUTF8(t),n=C._malloc(r+1);stringToUTF8(t,n,r+1);let i=C._ts_query_new(this[0],n,r,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!i){let x=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),E=UTF8ToString(n,getValue(TRANSFER_BUFFER,"i32")).length,v=t.substr(E,100).split(`
`)[0],b,S=v.match(QUERY_WORD_REGEX)[0];switch(x){case 2:b=new RangeError(`Bad node name '${S}'`);break;case 3:b=new RangeError(`Bad field name '${S}'`);break;case 4:b=new RangeError(`Bad capture name @${S}`);break;case 5:b=new TypeError(`Bad pattern structure at offset ${E}: '${v}'...`),S="";break;default:b=new SyntaxError(`Bad syntax at offset ${E}: '${v}'...`),S=""}throw b.index=E,b.length=S.length,C._free(n),b}let s=C._ts_query_string_count(i),a=C._ts_query_capture_count(i),l=C._ts_query_pattern_count(i),c=new Array(a),u=new Array(s);for(let x=0;x<a;x++){let E=C._ts_query_capture_name_for_id(i,x,TRANSFER_BUFFER),v=getValue(TRANSFER_BUFFER,"i32");c[x]=UTF8ToString(E,v)}for(let x=0;x<s;x++){let E=C._ts_query_string_value_for_id(i,x,TRANSFER_BUFFER),v=getValue(TRANSFER_BUFFER,"i32");u[x]=UTF8ToString(E,v)}let f=new Array(l),m=new Array(l),h=new Array(l),p=new Array(l),A=new Array(l);for(let x=0;x<l;x++){let E=C._ts_query_predicates_for_pattern(i,x,TRANSFER_BUFFER),v=getValue(TRANSFER_BUFFER,"i32");p[x]=[],A[x]=[];let b=[],S=E;for(let B=0;B<v;B++){let P=getValue(S,"i32");S+=SIZE_OF_INT;let F=getValue(S,"i32");if(S+=SIZE_OF_INT,P===PREDICATE_STEP_TYPE_CAPTURE)b.push({type:"capture",name:c[F]});else if(P===PREDICATE_STEP_TYPE_STRING)b.push({type:"string",value:u[F]});else if(b.length>0){if(b[0].type!=="string")throw new Error("Predicates must begin with a literal value");let q=b[0].value,ne=!0;switch(q){case"not-eq?":ne=!1;case"eq?":if(b.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(b.length-1));if(b[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${b[1].value}"`);if(b[2].type==="capture"){let U=b[1].name,ie=b[2].name;A[x].push(function(J){let H,M;for(let j of J)j.name===U&&(H=j.node),j.name===ie&&(M=j.node);return H===void 0||M===void 0||H.text===M.text===ne})}else{let U=b[1].name,ie=b[2].value;A[x].push(function(J){for(let H of J)if(H.name===U)return H.node.text===ie===ne;return!0})}break;case"not-match?":ne=!1;case"match?":if(b.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${b.length-1}.`);if(b[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${b[1].value}".`);if(b[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${b[2].value}.`);let ce=b[1].name,Z=new RegExp(b[2].value);A[x].push(function(U){for(let ie of U)if(ie.name===ce)return Z.test(ie.node.text)===ne;return!0});break;case"set!":if(b.length<2||b.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${b.length-1}.`);if(b.some(U=>U.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');f[x]||(f[x]={}),f[x][b[1].value]=b[2]?b[2].value:null;break;case"is?":case"is-not?":if(b.length<2||b.length>3)throw new Error(`Wrong number of arguments to \`#${q}\` predicate. Expected 1 or 2. Got ${b.length-1}.`);if(b.some(U=>U.type!=="string"))throw new Error(`Arguments to \`#${q}\` predicate must be a strings.".`);let G=q==="is?"?m:h;G[x]||(G[x]={}),G[x][b[1].value]=b[2]?b[2].value:null;break;default:p[x].push({operator:q,operands:b.slice(1)})}b.length=0}}Object.freeze(f[x]),Object.freeze(m[x]),Object.freeze(h[x])}return C._free(n),new Query(INTERNAL,i,c,A,p,Object.freeze(f),Object.freeze(m),Object.freeze(h))}static load(t){let r;if(t instanceof Uint8Array)r=Promise.resolve(t);else{let i=t;if(typeof process<"u"&&process.versions&&process.versions.node){let s=require("fs");r=Promise.resolve(s.readFileSync(i))}else r=fetch(i).then(s=>s.arrayBuffer().then(a=>{if(s.ok)return new Uint8Array(a);{let l=new TextDecoder("utf-8").decode(a);throw new Error(`Language.load failed with status ${s.status}.

${l}`)}}))}let n=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return r.then(i=>n(i,{loadAsync:!0})).then(i=>{let s=Object.keys(i),a=s.find(c=>LANGUAGE_FUNCTION_REGEX.test(c)&&!c.includes("external_scanner_"));a||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(s,null,2)}`);let l=i[a]();return new Language(INTERNAL,l)})}}class Query{static{o(this,"Query")}constructor(t,r,n,i,s,a,l,c){assertInternal(t),this[0]=r,this.captureNames=n,this.textPredicates=i,this.predicates=s,this.setProperties=a,this.assertedProperties=l,this.refutedProperties=c,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(t,r,n,i){r||(r=ZERO_POINT),n||(n=ZERO_POINT),i||(i={});let s=i.matchLimit;if(s===void 0)s=0;else if(typeof s!="number")throw new Error("Arguments must be numbers");marshalNode(t),C._ts_query_matches_wasm(this[0],t.tree[0],r.row,r.column,n.row,n.column,s);let a=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),c=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),u=new Array(a);this.exceededMatchLimit=!!c;let f=0,m=l;for(let h=0;h<a;h++){let p=getValue(m,"i32");m+=SIZE_OF_INT;let A=getValue(m,"i32");m+=SIZE_OF_INT;let x=new Array(A);if(m=unmarshalCaptures(this,t.tree,m,x),this.textPredicates[p].every(E=>E(x))){u[f++]={pattern:p,captures:x};let E=this.setProperties[p];E&&(u[h].setProperties=E);let v=this.assertedProperties[p];v&&(u[h].assertedProperties=v);let b=this.refutedProperties[p];b&&(u[h].refutedProperties=b)}}return u.length=f,C._free(l),u}captures(t,r,n,i){r||(r=ZERO_POINT),n||(n=ZERO_POINT),i||(i={});let s=i.matchLimit;if(s===void 0)s=0;else if(typeof s!="number")throw new Error("Arguments must be numbers");marshalNode(t),C._ts_query_captures_wasm(this[0],t.tree[0],r.row,r.column,n.row,n.column,s);let a=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),c=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),u=[];this.exceededMatchLimit=!!c;let f=[],m=l;for(let h=0;h<a;h++){let p=getValue(m,"i32");m+=SIZE_OF_INT;let A=getValue(m,"i32");m+=SIZE_OF_INT;let x=getValue(m,"i32");if(m+=SIZE_OF_INT,f.length=A,m=unmarshalCaptures(this,t.tree,m,f),this.textPredicates[p].every(E=>E(f))){let E=f[x],v=this.setProperties[p];v&&(E.setProperties=v);let b=this.assertedProperties[p];b&&(E.assertedProperties=b);let S=this.refutedProperties[p];S&&(E.refutedProperties=S),u.push(E)}}return C._free(l),u}predicatesForPattern(t){return this.predicates[t]}didExceedMatchLimit(){return this.exceededMatchLimit}}function getText(e,t,r){let n=r-t,i=e.textCallback(t,null,r);for(t+=i.length;t<r;){let s=e.textCallback(t,null,r);if(!(s&&s.length>0))break;t+=s.length,i+=s}return t>r&&(i=i.slice(0,n)),i}o(getText,"getText");function unmarshalCaptures(e,t,r,n){for(let i=0,s=n.length;i<s;i++){let a=getValue(r,"i32"),l=unmarshalNode(t,r+=SIZE_OF_INT);r+=SIZE_OF_NODE,n[i]={name:e.captureNames[a],node:l}}return r}o(unmarshalCaptures,"unmarshalCaptures");function assertInternal(e){if(e!==INTERNAL)throw new Error("Illegal constructor")}o(assertInternal,"assertInternal");function isPoint(e){return e&&typeof e.row=="number"&&typeof e.column=="number"}o(isPoint,"isPoint");function marshalNode(e){let t=TRANSFER_BUFFER;setValue(t,e.id,"i32"),t+=SIZE_OF_INT,setValue(t,e.startIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.startPosition.row,"i32"),t+=SIZE_OF_INT,setValue(t,e.startPosition.column,"i32"),t+=SIZE_OF_INT,setValue(t,e[0],"i32")}o(marshalNode,"marshalNode");function unmarshalNode(e,t=TRANSFER_BUFFER){let r=getValue(t,"i32");if(r===0)return null;let n=getValue(t+=SIZE_OF_INT,"i32"),i=getValue(t+=SIZE_OF_INT,"i32"),s=getValue(t+=SIZE_OF_INT,"i32"),a=getValue(t+=SIZE_OF_INT,"i32"),l=new Node(INTERNAL,e);return l.id=r,l.startIndex=n,l.startPosition={row:i,column:s},l[0]=a,l}o(unmarshalNode,"unmarshalNode");function marshalTreeCursor(e,t=TRANSFER_BUFFER){setValue(t+0*SIZE_OF_INT,e[0],"i32"),setValue(t+1*SIZE_OF_INT,e[1],"i32"),setValue(t+2*SIZE_OF_INT,e[2],"i32")}o(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(e){e[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),e[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),e[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}o(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(e,t){setValue(e,t.row,"i32"),setValue(e+SIZE_OF_INT,t.column,"i32")}o(marshalPoint,"marshalPoint");function unmarshalPoint(e){return{row:getValue(e,"i32"),column:getValue(e+SIZE_OF_INT,"i32")}}o(unmarshalPoint,"unmarshalPoint");function marshalRange(e,t){marshalPoint(e,t.startPosition),marshalPoint(e+=SIZE_OF_POINT,t.endPosition),setValue(e+=SIZE_OF_POINT,t.startIndex,"i32"),setValue(e+=SIZE_OF_INT,t.endIndex,"i32"),e+=SIZE_OF_INT}o(marshalRange,"marshalRange");function unmarshalRange(e){let t={};return t.startPosition=unmarshalPoint(e),e+=SIZE_OF_POINT,t.endPosition=unmarshalPoint(e),e+=SIZE_OF_POINT,t.startIndex=getValue(e,"i32"),e+=SIZE_OF_INT,t.endIndex=getValue(e,"i32"),t}o(unmarshalRange,"unmarshalRange");function marshalEdit(e){let t=TRANSFER_BUFFER;marshalPoint(t,e.startPosition),t+=SIZE_OF_POINT,marshalPoint(t,e.oldEndPosition),t+=SIZE_OF_POINT,marshalPoint(t,e.newEndPosition),t+=SIZE_OF_POINT,setValue(t,e.startIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.oldEndIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.newEndIndex,"i32"),t+=SIZE_OF_INT}o(marshalEdit,"marshalEdit");for(let e of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(Parser.prototype,e,{value:ParserImpl.prototype[e],enumerable:!1,writable:!1});Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}}return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)});var jJ=V((a1r,dCe)=>{d();var VJ=require("fs"),cN=require("path"),QT=cN.join,yit=cN.dirname,uCe=VJ.accessSync&&function(e){try{VJ.accessSync(e)}catch{return!1}return!0}||VJ.existsSync||cN.existsSync,fCe={arrow:process.env.NODE_BINDINGS_ARROW||" \u2192 ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,nodePreGyp:"node-v"+process.versions.modules+"-"+process.platform+"-"+process.arch,version:process.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"],["module_root","compiled","platform","arch","bindings"]]};function Cit(e){typeof e=="string"?e={bindings:e}:e||(e={}),Object.keys(fCe).map(function(c){c in e||(e[c]=fCe[c])}),e.module_root||(e.module_root=xit(__filename)),cN.extname(e.bindings)!=".node"&&(e.bindings+=".node");for(var t=typeof __webpack_require__=="function"?__non_webpack_require__:require,r=[],n=0,i=e.try.length,s,a,l;n<i;n++){s=QT.apply(null,e.try[n].map(function(c){return e[c]||c})),r.push(s);try{return a=e.path?t.resolve(s):t(s),e.path||(a.path=s),a}catch(c){if(c.code!=="MODULE_NOT_FOUND"&&c.code!=="QUALIFIED_PATH_RESOLUTION_FAILED"&&!/not find/i.test(c.message))throw c}}throw l=new Error(`Could not locate the bindings file. Tried:
`+r.map(function(c){return e.arrow+c}).join(`
`)),l.tries=r,l}o(Cit,"bindings");dCe.exports=Cit;function xit(e){for(var t=yit(e),r;;){if(t==="."&&(t=process.cwd()),uCe(QT(t,"dist")))return QT(t,"dist");if(uCe(QT(t,"compiled")))return t;if(r===t)throw new Error('Could not find module root given file: "'+e+'". Do you have a `dist` or `compiled` directory? ');r=t,t=QT(t,"..")}}o(xit,"getRoot")});var hCe=V((u1r,mCe)=>{d();mCe.exports=jJ()("node_sqlite3.node")});var ACe=V(gCe=>{d();var Eit=require("util");function bit(e,t,r){let n=e[t];e[t]=function(){let i=new Error,s=e.constructor.name+"#"+t+"("+Array.prototype.slice.call(arguments).map(function(l){return Eit.inspect(l,!1,0)}).join(", ")+")";typeof r>"u"&&(r=-1),r<0&&(r+=arguments.length);let a=arguments[r];return typeof arguments[r]=="function"&&(arguments[r]=o(function(){let c=arguments[0];return c&&c.stack&&!c.__augmented&&(c.stack=pCe(c).join(`
`),c.stack+=`
--> in `+s,c.stack+=`
`+pCe(i).slice(1).join(`
`),c.__augmented=!0),a.apply(this,arguments)},"replacement")),n.apply(this,arguments)}}o(bit,"extendTrace");gCe.extendTrace=bit;function pCe(e){return e.stack.split(`
`).filter(function(t){return t.indexOf(__filename)<0})}o(pCe,"filter")});var ECe=V((CCe,xCe)=>{d();var vit=require("path"),td=hCe(),Bv=require("events").EventEmitter;xCe.exports=CCe=td;function Rv(e){return function(t){let r,n=Array.prototype.slice.call(arguments,1);if(typeof n[n.length-1]=="function"){let s=n[n.length-1];r=o(function(a){a&&s(a)},"errBack")}let i=new uN(this,t,r);return e.call(this,i,n)}}o(Rv,"normalizeMethod");function zJ(e,t){for(let r in t.prototype)e.prototype[r]=t.prototype[r]}o(zJ,"inherits");td.cached={Database:o(function(e,t,r){if(e===""||e===":memory:")return new z0(e,t,r);let n;if(e=vit.resolve(e),!td.cached.objects[e])n=td.cached.objects[e]=new z0(e,t,r);else{n=td.cached.objects[e];let s=typeof t=="number"?r:t;if(typeof s=="function"){let a=function(){s.call(n,null)};var i=a;o(a,"cb"),n.open?process.nextTick(a):n.once("open",a)}}return n},"Database"),objects:{}};var z0=td.Database,uN=td.Statement,$J=td.Backup;zJ(z0,Bv);zJ(uN,Bv);zJ($J,Bv);z0.prototype.prepare=Rv(function(e,t){return t.length?e.bind.apply(e,t):e});z0.prototype.run=Rv(function(e,t){return e.run.apply(e,t).finalize(),this});z0.prototype.get=Rv(function(e,t){return e.get.apply(e,t).finalize(),this});z0.prototype.all=Rv(function(e,t){return e.all.apply(e,t).finalize(),this});z0.prototype.each=Rv(function(e,t){return e.each.apply(e,t).finalize(),this});z0.prototype.map=Rv(function(e,t){return e.map.apply(e,t).finalize(),this});z0.prototype.backup=function(){let e;return arguments.length<=2?e=new $J(this,arguments[0],"main","main",!0,arguments[1]):e=new $J(this,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),e.retryErrors=[td.BUSY,td.LOCKED],e};uN.prototype.map=function(){let e=Array.prototype.slice.call(arguments),t=e.pop();return e.push(function(r,n){if(r)return t(r);let i={};if(n.length){let s=Object.keys(n[0]),a=s[0];if(s.length>2)for(let l=0;l<n.length;l++)i[n[l][a]]=n[l];else{let l=s[1];for(let c=0;c<n.length;c++)i[n[c][a]]=n[c][l]}}t(r,i)}),this.all.apply(this,e)};var yCe=!1,YJ=["trace","profile","change"];z0.prototype.addListener=z0.prototype.on=function(e){let t=Bv.prototype.addListener.apply(this,arguments);return YJ.indexOf(e)>=0&&this.configure(e,!0),t};z0.prototype.removeListener=function(e){let t=Bv.prototype.removeListener.apply(this,arguments);return YJ.indexOf(e)>=0&&!this._events[e]&&this.configure(e,!1),t};z0.prototype.removeAllListeners=function(e){let t=Bv.prototype.removeAllListeners.apply(this,arguments);return YJ.indexOf(e)>=0&&this.configure(e,!1),t};td.verbose=function(){if(!yCe){let e=ACe();["prepare","get","run","all","each","map","close","exec"].forEach(function(t){e.extendTrace(z0.prototype,t)}),["bind","get","run","all","each","map","reset","finalize"].forEach(function(t){e.extendTrace(uN.prototype,t)}),yCe=!0}return td}});var vN=V(Pa=>{"use strict";d();Object.defineProperty(Pa,"__esModule",{value:!0});Pa.thenable=Pa.typedArray=Pa.stringArray=Pa.array=Pa.func=Pa.error=Pa.number=Pa.string=Pa.boolean=void 0;function Tit(e){return e===!0||e===!1}o(Tit,"boolean");Pa.boolean=Tit;function wCe(e){return typeof e=="string"||e instanceof String}o(wCe,"string");Pa.string=wCe;function wit(e){return typeof e=="number"||e instanceof Number}o(wit,"number");Pa.number=wit;function Sit(e){return e instanceof Error}o(Sit,"error");Pa.error=Sit;function SCe(e){return typeof e=="function"}o(SCe,"func");Pa.func=SCe;function _Ce(e){return Array.isArray(e)}o(_Ce,"array");Pa.array=_Ce;function _it(e){return _Ce(e)&&e.every(t=>wCe(t))}o(_it,"stringArray");Pa.stringArray=_it;function kit(e,t){return Array.isArray(e)&&e.every(t)}o(kit,"typedArray");Pa.typedArray=kit;function Bit(e){return e&&SCe(e.then)}o(Bit,"thenable");Pa.thenable=Bit});var XJ=V(rd=>{"use strict";d();Object.defineProperty(rd,"__esModule",{value:!0});rd.generateUuid=rd.parse=rd.isUUID=rd.v4=rd.empty=void 0;var UT=class{static{o(this,"ValueUUID")}constructor(t){this._value=t}asHex(){return this._value}equals(t){return this.asHex()===t.asHex()}},qT=class e extends UT{static{o(this,"V4UUID")}static _oneOf(t){return t[Math.floor(t.length*Math.random())]}static _randomHex(){return e._oneOf(e._chars)}constructor(){super([e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),"-",e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),"-","4",e._randomHex(),e._randomHex(),e._randomHex(),"-",e._oneOf(e._timeHighBits),e._randomHex(),e._randomHex(),e._randomHex(),"-",e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex()].join(""))}};qT._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];qT._timeHighBits=["8","9","a","b"];rd.empty=new UT("00000000-0000-0000-0000-000000000000");function kCe(){return new qT}o(kCe,"v4");rd.v4=kCe;var Rit=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function BCe(e){return Rit.test(e)}o(BCe,"isUUID");rd.isUUID=BCe;function Dit(e){if(!BCe(e))throw new Error("invalid uuid");return new UT(e)}o(Dit,"parse");rd.parse=Dit;function Pit(){return kCe().asHex()}o(Pit,"generateUuid");rd.generateUuid=Pit});var RCe=V(B5=>{"use strict";d();Object.defineProperty(B5,"__esModule",{value:!0});B5.attachPartialResult=B5.ProgressFeature=B5.attachWorkDone=void 0;var k5=Vn(),Fit=XJ(),K3=class e{static{o(this,"WorkDoneProgressReporterImpl")}constructor(t,r){this._connection=t,this._token=r,e.Instances.set(this._token,this)}begin(t,r,n,i){let s={kind:"begin",title:t,percentage:r,message:n,cancellable:i};this._connection.sendProgress(k5.WorkDoneProgress.type,this._token,s)}report(t,r){let n={kind:"report"};typeof t=="number"?(n.percentage=t,r!==void 0&&(n.message=r)):n.message=t,this._connection.sendProgress(k5.WorkDoneProgress.type,this._token,n)}done(){e.Instances.delete(this._token),this._connection.sendProgress(k5.WorkDoneProgress.type,this._token,{kind:"end"})}};K3.Instances=new Map;var IN=class extends K3{static{o(this,"WorkDoneProgressServerReporterImpl")}constructor(t,r){super(t,r),this._source=new k5.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},WT=class{static{o(this,"NullProgressReporter")}constructor(){}begin(){}report(){}done(){}},TN=class extends WT{static{o(this,"NullProgressServerReporter")}constructor(){super(),this._source=new k5.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function Nit(e,t){if(t===void 0||t.workDoneToken===void 0)return new WT;let r=t.workDoneToken;return delete t.workDoneToken,new K3(e,r)}o(Nit,"attachWorkDone");B5.attachWorkDone=Nit;var Lit=o(e=>class extends e{constructor(){super(),this._progressSupported=!1}initialize(t){super.initialize(t),t?.window?.workDoneProgress===!0&&(this._progressSupported=!0,this.connection.onNotification(k5.WorkDoneProgressCancelNotification.type,r=>{let n=K3.Instances.get(r.token);(n instanceof IN||n instanceof TN)&&n.cancel()}))}attachWorkDoneProgress(t){return t===void 0?new WT:new K3(this.connection,t)}createWorkDoneProgress(){if(this._progressSupported){let t=(0,Fit.generateUuid)();return this.connection.sendRequest(k5.WorkDoneProgressCreateRequest.type,{token:t}).then(()=>new IN(this.connection,t))}else return Promise.resolve(new TN)}},"ProgressFeature");B5.ProgressFeature=Lit;var ZJ;(function(e){e.type=new k5.ProgressType})(ZJ||(ZJ={}));var eX=class{static{o(this,"ResultProgressReporterImpl")}constructor(t,r){this._connection=t,this._token=r}report(t){this._connection.sendProgress(ZJ.type,this._token,t)}};function Qit(e,t){if(t===void 0||t.partialResultToken===void 0)return;let r=t.partialResultToken;return delete t.partialResultToken,new eX(e,r)}o(Qit,"attachPartialResult");B5.attachPartialResult=Qit});var DCe=V(wN=>{"use strict";d();Object.defineProperty(wN,"__esModule",{value:!0});wN.ConfigurationFeature=void 0;var Mit=Vn(),Oit=vN(),Uit=o(e=>class extends e{getConfiguration(t){return t?Oit.string(t)?this._getConfiguration({section:t}):this._getConfiguration(t):this._getConfiguration({})}_getConfiguration(t){let r={items:Array.isArray(t)?t:[t]};return this.connection.sendRequest(Mit.ConfigurationRequest.type,r).then(n=>Array.isArray(n)?Array.isArray(t)?n:n[0]:Array.isArray(t)?[]:null)}},"ConfigurationFeature");wN.ConfigurationFeature=Uit});var PCe=V(_N=>{"use strict";d();Object.defineProperty(_N,"__esModule",{value:!0});_N.WorkspaceFoldersFeature=void 0;var SN=Vn(),qit=o(e=>class extends e{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(t){super.initialize(t);let r=t.workspace;r&&r.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new SN.Emitter,this.connection.onNotification(SN.DidChangeWorkspaceFoldersNotification.type,n=>{this._onDidChangeWorkspaceFolders.fire(n.event)}))}fillServerCapabilities(t){super.fillServerCapabilities(t);let r=t.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=r===!0||typeof r=="string"}getWorkspaceFolders(){return this.connection.sendRequest(SN.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(SN.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}},"WorkspaceFoldersFeature");_N.WorkspaceFoldersFeature=qit});var FCe=V(kN=>{"use strict";d();Object.defineProperty(kN,"__esModule",{value:!0});kN.CallHierarchyFeature=void 0;var tX=Vn(),Wit=o(e=>class extends e{get callHierarchy(){return{onPrepare:o(t=>this.connection.onRequest(tX.CallHierarchyPrepareRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0)),"onPrepare"),onIncomingCalls:o(t=>{let r=tX.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onIncomingCalls"),onOutgoingCalls:o(t=>{let r=tX.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onOutgoingCalls")}}},"CallHierarchyFeature");kN.CallHierarchyFeature=Wit});var nX=V(R5=>{"use strict";d();Object.defineProperty(R5,"__esModule",{value:!0});R5.SemanticTokensBuilder=R5.SemanticTokensDiff=R5.SemanticTokensFeature=void 0;var BN=Vn(),Git=o(e=>class extends e{get semanticTokens(){return{refresh:o(()=>this.connection.sendRequest(BN.SemanticTokensRefreshRequest.type),"refresh"),on:o(t=>{let r=BN.SemanticTokensRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"on"),onDelta:o(t=>{let r=BN.SemanticTokensDeltaRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onDelta"),onRange:o(t=>{let r=BN.SemanticTokensRangeRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onRange")}}},"SemanticTokensFeature");R5.SemanticTokensFeature=Git;var RN=class{static{o(this,"SemanticTokensDiff")}constructor(t,r){this.originalSequence=t,this.modifiedSequence=r}computeDiff(){let t=this.originalSequence.length,r=this.modifiedSequence.length,n=0;for(;n<r&&n<t&&this.originalSequence[n]===this.modifiedSequence[n];)n++;if(n<r&&n<t){let i=t-1,s=r-1;for(;i>=n&&s>=n&&this.originalSequence[i]===this.modifiedSequence[s];)i--,s--;(i<n||s<n)&&(i++,s++);let a=i-n+1,l=this.modifiedSequence.slice(n,s+1);return l.length===1&&l[0]===this.originalSequence[i]?[{start:n,deleteCount:a-1}]:[{start:n,deleteCount:a,data:l}]}else return n<r?[{start:n,deleteCount:0,data:this.modifiedSequence.slice(n)}]:n<t?[{start:n,deleteCount:t-n}]:[]}};R5.SemanticTokensDiff=RN;var rX=class{static{o(this,"SemanticTokensBuilder")}constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(t,r,n,i,s){let a=t,l=r;this._dataLen>0&&(a-=this._prevLine,a===0&&(l-=this._prevChar)),this._data[this._dataLen++]=a,this._data[this._dataLen++]=l,this._data[this._dataLen++]=n,this._data[this._dataLen++]=i,this._data[this._dataLen++]=s,this._prevLine=t,this._prevChar=r}get id(){return this._id.toString()}previousResult(t){this.id===t&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new RN(this._prevData,this._data).computeDiff()}:this.build()}};R5.SemanticTokensBuilder=rX});var NCe=V(DN=>{"use strict";d();Object.defineProperty(DN,"__esModule",{value:!0});DN.ShowDocumentFeature=void 0;var Hit=Vn(),Vit=o(e=>class extends e{showDocument(t){return this.connection.sendRequest(Hit.ShowDocumentRequest.type,t)}},"ShowDocumentFeature");DN.ShowDocumentFeature=Vit});var LCe=V(PN=>{"use strict";d();Object.defineProperty(PN,"__esModule",{value:!0});PN.FileOperationsFeature=void 0;var Pv=Vn(),jit=o(e=>class extends e{onDidCreateFiles(t){return this.connection.onNotification(Pv.DidCreateFilesNotification.type,r=>{t(r)})}onDidRenameFiles(t){return this.connection.onNotification(Pv.DidRenameFilesNotification.type,r=>{t(r)})}onDidDeleteFiles(t){return this.connection.onNotification(Pv.DidDeleteFilesNotification.type,r=>{t(r)})}onWillCreateFiles(t){return this.connection.onRequest(Pv.WillCreateFilesRequest.type,(r,n)=>t(r,n))}onWillRenameFiles(t){return this.connection.onRequest(Pv.WillRenameFilesRequest.type,(r,n)=>t(r,n))}onWillDeleteFiles(t){return this.connection.onRequest(Pv.WillDeleteFilesRequest.type,(r,n)=>t(r,n))}},"FileOperationsFeature");PN.FileOperationsFeature=jit});var QCe=V(FN=>{"use strict";d();Object.defineProperty(FN,"__esModule",{value:!0});FN.LinkedEditingRangeFeature=void 0;var $it=Vn(),zit=o(e=>class extends e{onLinkedEditingRange(t){return this.connection.onRequest($it.LinkedEditingRangeRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0))}},"LinkedEditingRangeFeature");FN.LinkedEditingRangeFeature=zit});var MCe=V(NN=>{"use strict";d();Object.defineProperty(NN,"__esModule",{value:!0});NN.TypeHierarchyFeature=void 0;var iX=Vn(),Yit=o(e=>class extends e{get typeHierarchy(){return{onPrepare:o(t=>this.connection.onRequest(iX.TypeHierarchyPrepareRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0)),"onPrepare"),onSupertypes:o(t=>{let r=iX.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onSupertypes"),onSubtypes:o(t=>{let r=iX.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onSubtypes")}}},"TypeHierarchyFeature");NN.TypeHierarchyFeature=Yit});var UCe=V(LN=>{"use strict";d();Object.defineProperty(LN,"__esModule",{value:!0});LN.InlineValueFeature=void 0;var OCe=Vn(),Kit=o(e=>class extends e{get inlineValue(){return{refresh:o(()=>this.connection.sendRequest(OCe.InlineValueRefreshRequest.type),"refresh"),on:o(t=>this.connection.onRequest(OCe.InlineValueRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r))),"on")}}},"InlineValueFeature");LN.InlineValueFeature=Kit});var WCe=V(QN=>{"use strict";d();Object.defineProperty(QN,"__esModule",{value:!0});QN.FoldingRangeFeature=void 0;var qCe=Vn(),Jit=o(e=>class extends e{get foldingRange(){return{refresh:o(()=>this.connection.sendRequest(qCe.FoldingRangeRefreshRequest.type),"refresh"),on:o(t=>{let r=qCe.FoldingRangeRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"on")}}},"FoldingRangeFeature");QN.FoldingRangeFeature=Jit});var GCe=V(MN=>{"use strict";d();Object.defineProperty(MN,"__esModule",{value:!0});MN.InlayHintFeature=void 0;var oX=Vn(),Xit=o(e=>class extends e{get inlayHint(){return{refresh:o(()=>this.connection.sendRequest(oX.InlayHintRefreshRequest.type),"refresh"),on:o(t=>this.connection.onRequest(oX.InlayHintRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r))),"on"),resolve:o(t=>this.connection.onRequest(oX.InlayHintResolveRequest.type,(r,n)=>t(r,n)),"resolve")}}},"InlayHintFeature");MN.InlayHintFeature=Xit});var HCe=V(ON=>{"use strict";d();Object.defineProperty(ON,"__esModule",{value:!0});ON.DiagnosticFeature=void 0;var GT=Vn(),Zit=o(e=>class extends e{get diagnostics(){return{refresh:o(()=>this.connection.sendRequest(GT.DiagnosticRefreshRequest.type),"refresh"),on:o(t=>this.connection.onRequest(GT.DocumentDiagnosticRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(GT.DocumentDiagnosticRequest.partialResult,r))),"on"),onWorkspace:o(t=>this.connection.onRequest(GT.WorkspaceDiagnosticRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(GT.WorkspaceDiagnosticRequest.partialResult,r))),"onWorkspace")}}},"DiagnosticFeature");ON.DiagnosticFeature=Zit});var aX=V(UN=>{"use strict";d();Object.defineProperty(UN,"__esModule",{value:!0});UN.TextDocuments=void 0;var J3=Vn(),sX=class{static{o(this,"TextDocuments")}constructor(t){this._configuration=t,this._syncedDocuments=new Map,this._onDidChangeContent=new J3.Emitter,this._onDidOpen=new J3.Emitter,this._onDidClose=new J3.Emitter,this._onDidSave=new J3.Emitter,this._onWillSave=new J3.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(t){this._willSaveWaitUntil=t}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(t){return this._syncedDocuments.get(t)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(t){t.__textDocumentSync=J3.TextDocumentSyncKind.Incremental;let r=[];return r.push(t.onDidOpenTextDocument(n=>{let i=n.textDocument,s=this._configuration.create(i.uri,i.languageId,i.version,i.text);this._syncedDocuments.set(i.uri,s);let a=Object.freeze({document:s});this._onDidOpen.fire(a),this._onDidChangeContent.fire(a)})),r.push(t.onDidChangeTextDocument(n=>{let i=n.textDocument,s=n.contentChanges;if(s.length===0)return;let{version:a}=i;if(a==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let l=this._syncedDocuments.get(i.uri);l!==void 0&&(l=this._configuration.update(l,s,a),this._syncedDocuments.set(i.uri,l),this._onDidChangeContent.fire(Object.freeze({document:l})))})),r.push(t.onDidCloseTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&(this._syncedDocuments.delete(n.textDocument.uri),this._onDidClose.fire(Object.freeze({document:i})))})),r.push(t.onWillSaveTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&this._onWillSave.fire(Object.freeze({document:i,reason:n.reason}))})),r.push(t.onWillSaveTextDocumentWaitUntil((n,i)=>{let s=this._syncedDocuments.get(n.textDocument.uri);return s!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:s,reason:n.reason}),i):[]})),r.push(t.onDidSaveTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&this._onDidSave.fire(Object.freeze({document:i}))})),J3.Disposable.create(()=>{r.forEach(n=>n.dispose())})}};UN.TextDocuments=sX});var cX=V(Fv=>{"use strict";d();Object.defineProperty(Fv,"__esModule",{value:!0});Fv.NotebookDocuments=Fv.NotebookSyncFeature=void 0;var nd=Vn(),VCe=aX(),eot=o(e=>class extends e{get synchronization(){return{onDidOpenNotebookDocument:o(t=>this.connection.onNotification(nd.DidOpenNotebookDocumentNotification.type,r=>{t(r)}),"onDidOpenNotebookDocument"),onDidChangeNotebookDocument:o(t=>this.connection.onNotification(nd.DidChangeNotebookDocumentNotification.type,r=>{t(r)}),"onDidChangeNotebookDocument"),onDidSaveNotebookDocument:o(t=>this.connection.onNotification(nd.DidSaveNotebookDocumentNotification.type,r=>{t(r)}),"onDidSaveNotebookDocument"),onDidCloseNotebookDocument:o(t=>this.connection.onNotification(nd.DidCloseNotebookDocumentNotification.type,r=>{t(r)}),"onDidCloseNotebookDocument")}}},"NotebookSyncFeature");Fv.NotebookSyncFeature=eot;var qN=class e{static{o(this,"CellTextDocumentConnection")}onDidOpenTextDocument(t){return this.openHandler=t,nd.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(t){this.openHandler&&this.openHandler(t)}onDidChangeTextDocument(t){return this.changeHandler=t,nd.Disposable.create(()=>{this.changeHandler=t})}changeTextDocument(t){this.changeHandler&&this.changeHandler(t)}onDidCloseTextDocument(t){return this.closeHandler=t,nd.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(t){this.closeHandler&&this.closeHandler(t)}onWillSaveTextDocument(){return e.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return e.NULL_DISPOSE}onDidSaveTextDocument(){return e.NULL_DISPOSE}};qN.NULL_DISPOSE=Object.freeze({dispose:o(()=>{},"dispose")});var lX=class{static{o(this,"NotebookDocuments")}constructor(t){t instanceof VCe.TextDocuments?this._cellTextDocuments=t:this._cellTextDocuments=new VCe.TextDocuments(t),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new nd.Emitter,this._onDidChange=new nd.Emitter,this._onDidSave=new nd.Emitter,this._onDidClose=new nd.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(t){return this._cellTextDocuments.get(t.document)}getNotebookDocument(t){return this.notebookDocuments.get(t)}getNotebookCell(t){let r=this.notebookCellMap.get(t);return r&&r[0]}findNotebookDocumentForCell(t){let r=typeof t=="string"?t:t.document,n=this.notebookCellMap.get(r);return n&&n[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(t){let r=new qN,n=[];return n.push(this.cellTextDocuments.listen(r)),n.push(t.notebooks.synchronization.onDidOpenNotebookDocument(i=>{this.notebookDocuments.set(i.notebookDocument.uri,i.notebookDocument);for(let s of i.cellTextDocuments)r.openTextDocument({textDocument:s});this.updateCellMap(i.notebookDocument),this._onDidOpen.fire(i.notebookDocument)})),n.push(t.notebooks.synchronization.onDidChangeNotebookDocument(i=>{let s=this.notebookDocuments.get(i.notebookDocument.uri);if(s===void 0)return;s.version=i.notebookDocument.version;let a=s.metadata,l=!1,c=i.change;c.metadata!==void 0&&(l=!0,s.metadata=c.metadata);let u=[],f=[],m=[],h=[];if(c.cells!==void 0){let v=c.cells;if(v.structure!==void 0){let b=v.structure.array;if(s.cells.splice(b.start,b.deleteCount,...b.cells!==void 0?b.cells:[]),v.structure.didOpen!==void 0)for(let S of v.structure.didOpen)r.openTextDocument({textDocument:S}),u.push(S.uri);if(v.structure.didClose)for(let S of v.structure.didClose)r.closeTextDocument({textDocument:S}),f.push(S.uri)}if(v.data!==void 0){let b=new Map(v.data.map(S=>[S.document,S]));for(let S=0;S<=s.cells.length;S++){let B=b.get(s.cells[S].document);if(B!==void 0){let P=s.cells.splice(S,1,B);if(m.push({old:P[0],new:B}),b.delete(B.document),b.size===0)break}}}if(v.textContent!==void 0)for(let b of v.textContent)r.changeTextDocument({textDocument:b.document,contentChanges:b.changes}),h.push(b.document.uri)}this.updateCellMap(s);let p={notebookDocument:s};l&&(p.metadata={old:a,new:s.metadata});let A=[];for(let v of u)A.push(this.getNotebookCell(v));let x=[];for(let v of f)x.push(this.getNotebookCell(v));let E=[];for(let v of h)E.push(this.getNotebookCell(v));(A.length>0||x.length>0||m.length>0||E.length>0)&&(p.cells={added:A,removed:x,changed:{data:m,textContent:E}}),(p.metadata!==void 0||p.cells!==void 0)&&this._onDidChange.fire(p)})),n.push(t.notebooks.synchronization.onDidSaveNotebookDocument(i=>{let s=this.notebookDocuments.get(i.notebookDocument.uri);s!==void 0&&this._onDidSave.fire(s)})),n.push(t.notebooks.synchronization.onDidCloseNotebookDocument(i=>{let s=this.notebookDocuments.get(i.notebookDocument.uri);if(s!==void 0){this._onDidClose.fire(s);for(let a of i.cellTextDocuments)r.closeTextDocument({textDocument:a});this.notebookDocuments.delete(i.notebookDocument.uri);for(let a of s.cells)this.notebookCellMap.delete(a.document)}})),nd.Disposable.create(()=>{n.forEach(i=>i.dispose())})}updateCellMap(t){for(let r of t.cells)this.notebookCellMap.set(r.document,[r,t])}};Fv.NotebookDocuments=lX});var jCe=V(WN=>{"use strict";d();Object.defineProperty(WN,"__esModule",{value:!0});WN.MonikerFeature=void 0;var tot=Vn(),rot=o(e=>class extends e{get moniker(){return{on:o(t=>{let r=tot.MonikerRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"on")}}},"MonikerFeature");WN.MonikerFeature=rot});var pX=V(eo=>{"use strict";d();Object.defineProperty(eo,"__esModule",{value:!0});eo.createConnection=eo.combineFeatures=eo.combineNotebooksFeatures=eo.combineLanguagesFeatures=eo.combineWorkspaceFeatures=eo.combineWindowFeatures=eo.combineClientFeatures=eo.combineTracerFeatures=eo.combineTelemetryFeatures=eo.combineConsoleFeatures=eo._NotebooksImpl=eo._LanguagesImpl=eo.BulkUnregistration=eo.BulkRegistration=eo.ErrorMessageTracker=void 0;var dr=Vn(),id=vN(),fX=XJ(),Mn=RCe(),not=DCe(),iot=PCe(),oot=FCe(),sot=nX(),aot=NCe(),lot=LCe(),cot=QCe(),uot=MCe(),fot=UCe(),dot=WCe(),mot=GCe(),hot=HCe(),pot=cX(),got=jCe();function uX(e){if(e!==null)return e}o(uX,"null2Undefined");var dX=class{static{o(this,"ErrorMessageTracker")}constructor(){this._messages=Object.create(null)}add(t){let r=this._messages[t];r||(r=0),r++,this._messages[t]=r}sendErrors(t){Object.keys(this._messages).forEach(r=>{t.window.showErrorMessage(r)})}};eo.ErrorMessageTracker=dX;var GN=class{static{o(this,"RemoteConsoleImpl")}constructor(){}rawAttach(t){this._rawConnection=t}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(t){}initialize(t){}error(t){this.send(dr.MessageType.Error,t)}warn(t){this.send(dr.MessageType.Warning,t)}info(t){this.send(dr.MessageType.Info,t)}log(t){this.send(dr.MessageType.Log,t)}debug(t){this.send(dr.MessageType.Debug,t)}send(t,r){this._rawConnection&&this._rawConnection.sendNotification(dr.LogMessageNotification.type,{type:t,message:r}).catch(()=>{(0,dr.RAL)().console.error("Sending log message failed")})}},mX=class{static{o(this,"_RemoteWindowImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}showErrorMessage(t,...r){let n={type:dr.MessageType.Error,message:t,actions:r};return this.connection.sendRequest(dr.ShowMessageRequest.type,n).then(uX)}showWarningMessage(t,...r){let n={type:dr.MessageType.Warning,message:t,actions:r};return this.connection.sendRequest(dr.ShowMessageRequest.type,n).then(uX)}showInformationMessage(t,...r){let n={type:dr.MessageType.Info,message:t,actions:r};return this.connection.sendRequest(dr.ShowMessageRequest.type,n).then(uX)}},$Ce=(0,aot.ShowDocumentFeature)((0,Mn.ProgressFeature)(mX)),zCe;(function(e){function t(){return new HN}o(t,"create"),e.create=t})(zCe||(eo.BulkRegistration=zCe={}));var HN=class{static{o(this,"BulkRegistrationImpl")}constructor(){this._registrations=[],this._registered=new Set}add(t,r){let n=id.string(t)?t:t.method;if(this._registered.has(n))throw new Error(`${n} is already added to this registration`);let i=fX.generateUuid();this._registrations.push({id:i,method:n,registerOptions:r||{}}),this._registered.add(n)}asRegistrationParams(){return{registrations:this._registrations}}},YCe;(function(e){function t(){return new HT(void 0,[])}o(t,"create"),e.create=t})(YCe||(eo.BulkUnregistration=YCe={}));var HT=class{static{o(this,"BulkUnregistrationImpl")}constructor(t,r){this._connection=t,this._unregistrations=new Map,r.forEach(n=>{this._unregistrations.set(n.method,n)})}get isAttached(){return!!this._connection}attach(t){this._connection=t}add(t){this._unregistrations.set(t.method,t)}dispose(){let t=[];for(let n of this._unregistrations.values())t.push(n);let r={unregisterations:t};this._connection.sendRequest(dr.UnregistrationRequest.type,r).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(t){let r=id.string(t)?t:t.method,n=this._unregistrations.get(r);if(!n)return!1;let i={unregisterations:[n]};return this._connection.sendRequest(dr.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(r)},s=>{this._connection.console.info(`Un-registering request handler for ${n.id} failed.`)}),!0}},VN=class{static{o(this,"RemoteClientImpl")}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}register(t,r,n){return t instanceof HN?this.registerMany(t):t instanceof HT?this.registerSingle1(t,r,n):this.registerSingle2(t,r)}registerSingle1(t,r,n){let i=id.string(r)?r:r.method,s=fX.generateUuid(),a={registrations:[{id:s,method:i,registerOptions:n||{}}]};return t.isAttached||t.attach(this.connection),this.connection.sendRequest(dr.RegistrationRequest.type,a).then(l=>(t.add({id:s,method:i}),t),l=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(l)))}registerSingle2(t,r){let n=id.string(t)?t:t.method,i=fX.generateUuid(),s={registrations:[{id:i,method:n,registerOptions:r||{}}]};return this.connection.sendRequest(dr.RegistrationRequest.type,s).then(a=>dr.Disposable.create(()=>{this.unregisterSingle(i,n).catch(()=>{this.connection.console.info(`Un-registering capability with id ${i} failed.`)})}),a=>(this.connection.console.info(`Registering request handler for ${n} failed.`),Promise.reject(a)))}unregisterSingle(t,r){let n={unregisterations:[{id:t,method:r}]};return this.connection.sendRequest(dr.UnregistrationRequest.type,n).catch(()=>{this.connection.console.info(`Un-registering request handler for ${t} failed.`)})}registerMany(t){let r=t.asRegistrationParams();return this.connection.sendRequest(dr.RegistrationRequest.type,r).then(()=>new HT(this._connection,r.registrations.map(n=>({id:n.id,method:n.method}))),n=>(this.connection.console.info("Bulk registration failed."),Promise.reject(n)))}},hX=class{static{o(this,"_RemoteWorkspaceImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}applyEdit(t){function r(i){return i&&!!i.edit}o(r,"isApplyWorkspaceEditParams");let n=r(t)?t:{edit:t};return this.connection.sendRequest(dr.ApplyWorkspaceEditRequest.type,n)}},KCe=(0,lot.FileOperationsFeature)((0,iot.WorkspaceFoldersFeature)((0,not.ConfigurationFeature)(hX))),jN=class{static{o(this,"TracerImpl")}constructor(){this._trace=dr.Trace.Off}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}set trace(t){this._trace=t}log(t,r){this._trace!==dr.Trace.Off&&this.connection.sendNotification(dr.LogTraceNotification.type,{message:t,verbose:this._trace===dr.Trace.Verbose?r:void 0}).catch(()=>{})}},$N=class{static{o(this,"TelemetryImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}logEvent(t){this.connection.sendNotification(dr.TelemetryEventNotification.type,t).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}},zN=class{static{o(this,"_LanguagesImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,Mn.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,r){return(0,Mn.attachPartialResult)(this.connection,r)}};eo._LanguagesImpl=zN;var JCe=(0,dot.FoldingRangeFeature)((0,got.MonikerFeature)((0,hot.DiagnosticFeature)((0,mot.InlayHintFeature)((0,fot.InlineValueFeature)((0,uot.TypeHierarchyFeature)((0,cot.LinkedEditingRangeFeature)((0,sot.SemanticTokensFeature)((0,oot.CallHierarchyFeature)(zN))))))))),YN=class{static{o(this,"_NotebooksImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,Mn.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,r){return(0,Mn.attachPartialResult)(this.connection,r)}};eo._NotebooksImpl=YN;var XCe=(0,pot.NotebookSyncFeature)(YN);function ZCe(e,t){return function(r){return t(e(r))}}o(ZCe,"combineConsoleFeatures");eo.combineConsoleFeatures=ZCe;function e3e(e,t){return function(r){return t(e(r))}}o(e3e,"combineTelemetryFeatures");eo.combineTelemetryFeatures=e3e;function t3e(e,t){return function(r){return t(e(r))}}o(t3e,"combineTracerFeatures");eo.combineTracerFeatures=t3e;function r3e(e,t){return function(r){return t(e(r))}}o(r3e,"combineClientFeatures");eo.combineClientFeatures=r3e;function n3e(e,t){return function(r){return t(e(r))}}o(n3e,"combineWindowFeatures");eo.combineWindowFeatures=n3e;function i3e(e,t){return function(r){return t(e(r))}}o(i3e,"combineWorkspaceFeatures");eo.combineWorkspaceFeatures=i3e;function o3e(e,t){return function(r){return t(e(r))}}o(o3e,"combineLanguagesFeatures");eo.combineLanguagesFeatures=o3e;function s3e(e,t){return function(r){return t(e(r))}}o(s3e,"combineNotebooksFeatures");eo.combineNotebooksFeatures=s3e;function Aot(e,t){function r(i,s,a){return i&&s?a(i,s):i||s}return o(r,"combine"),{__brand:"features",console:r(e.console,t.console,ZCe),tracer:r(e.tracer,t.tracer,t3e),telemetry:r(e.telemetry,t.telemetry,e3e),client:r(e.client,t.client,r3e),window:r(e.window,t.window,n3e),workspace:r(e.workspace,t.workspace,i3e),languages:r(e.languages,t.languages,o3e),notebooks:r(e.notebooks,t.notebooks,s3e)}}o(Aot,"combineFeatures");eo.combineFeatures=Aot;function yot(e,t,r){let n=r&&r.console?new(r.console(GN)):new GN,i=e(n);n.rawAttach(i);let s=r&&r.tracer?new(r.tracer(jN)):new jN,a=r&&r.telemetry?new(r.telemetry($N)):new $N,l=r&&r.client?new(r.client(VN)):new VN,c=r&&r.window?new(r.window($Ce)):new $Ce,u=r&&r.workspace?new(r.workspace(KCe)):new KCe,f=r&&r.languages?new(r.languages(JCe)):new JCe,m=r&&r.notebooks?new(r.notebooks(XCe)):new XCe,h=[n,s,a,l,c,u,f,m];function p(b){return b instanceof Promise?b:id.thenable(b)?new Promise((S,B)=>{b.then(P=>S(P),P=>B(P))}):Promise.resolve(b)}o(p,"asPromise");let A,x,E,v={listen:o(()=>i.listen(),"listen"),sendRequest:o((b,...S)=>i.sendRequest(id.string(b)?b:b.method,...S),"sendRequest"),onRequest:o((b,S)=>i.onRequest(b,S),"onRequest"),sendNotification:o((b,S)=>{let B=id.string(b)?b:b.method;return i.sendNotification(B,S)},"sendNotification"),onNotification:o((b,S)=>i.onNotification(b,S),"onNotification"),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:o(b=>(x=b,{dispose:o(()=>{x=void 0},"dispose")}),"onInitialize"),onInitialized:o(b=>i.onNotification(dr.InitializedNotification.type,b),"onInitialized"),onShutdown:o(b=>(A=b,{dispose:o(()=>{A=void 0},"dispose")}),"onShutdown"),onExit:o(b=>(E=b,{dispose:o(()=>{E=void 0},"dispose")}),"onExit"),get console(){return n},get telemetry(){return a},get tracer(){return s},get client(){return l},get window(){return c},get workspace(){return u},get languages(){return f},get notebooks(){return m},onDidChangeConfiguration:o(b=>i.onNotification(dr.DidChangeConfigurationNotification.type,b),"onDidChangeConfiguration"),onDidChangeWatchedFiles:o(b=>i.onNotification(dr.DidChangeWatchedFilesNotification.type,b),"onDidChangeWatchedFiles"),__textDocumentSync:void 0,onDidOpenTextDocument:o(b=>i.onNotification(dr.DidOpenTextDocumentNotification.type,b),"onDidOpenTextDocument"),onDidChangeTextDocument:o(b=>i.onNotification(dr.DidChangeTextDocumentNotification.type,b),"onDidChangeTextDocument"),onDidCloseTextDocument:o(b=>i.onNotification(dr.DidCloseTextDocumentNotification.type,b),"onDidCloseTextDocument"),onWillSaveTextDocument:o(b=>i.onNotification(dr.WillSaveTextDocumentNotification.type,b),"onWillSaveTextDocument"),onWillSaveTextDocumentWaitUntil:o(b=>i.onRequest(dr.WillSaveTextDocumentWaitUntilRequest.type,b),"onWillSaveTextDocumentWaitUntil"),onDidSaveTextDocument:o(b=>i.onNotification(dr.DidSaveTextDocumentNotification.type,b),"onDidSaveTextDocument"),sendDiagnostics:o(b=>i.sendNotification(dr.PublishDiagnosticsNotification.type,b),"sendDiagnostics"),onHover:o(b=>i.onRequest(dr.HoverRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),void 0)),"onHover"),onCompletion:o(b=>i.onRequest(dr.CompletionRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),(0,Mn.attachPartialResult)(i,S))),"onCompletion"),onCompletionResolve:o(b=>i.onRequest(dr.CompletionResolveRequest.type,b),"onCompletionResolve"),onSignatureHelp:o(b=>i.onRequest(dr.SignatureHelpRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),void 0)),"onSignatureHelp"),onDeclaration:o(b=>i.onRequest(dr.DeclarationRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),(0,Mn.attachPartialResult)(i,S))),"onDeclaration"),onDefinition:o(b=>i.onRequest(dr.DefinitionRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),(0,Mn.attachPartialResult)(i,S))),"onDefinition"),onTypeDefinition:o(b=>i.onRequest(dr.TypeDefinitionRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),(0,Mn.attachPartialResult)(i,S))),"onTypeDefinition"),onImplementation:o(b=>i.onRequest(dr.ImplementationRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),(0,Mn.attachPartialResult)(i,S))),"onImplementation"),onReferences:o(b=>i.onRequest(dr.ReferencesRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),(0,Mn.attachPartialResult)(i,S))),"onReferences"),onDocumentHighlight:o(b=>i.onRequest(dr.DocumentHighlightRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),(0,Mn.attachPartialResult)(i,S))),"onDocumentHighlight"),onDocumentSymbol:o(b=>i.onRequest(dr.DocumentSymbolRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),(0,Mn.attachPartialResult)(i,S))),"onDocumentSymbol"),onWorkspaceSymbol:o(b=>i.onRequest(dr.WorkspaceSymbolRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),(0,Mn.attachPartialResult)(i,S))),"onWorkspaceSymbol"),onWorkspaceSymbolResolve:o(b=>i.onRequest(dr.WorkspaceSymbolResolveRequest.type,b),"onWorkspaceSymbolResolve"),onCodeAction:o(b=>i.onRequest(dr.CodeActionRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),(0,Mn.attachPartialResult)(i,S))),"onCodeAction"),onCodeActionResolve:o(b=>i.onRequest(dr.CodeActionResolveRequest.type,(S,B)=>b(S,B)),"onCodeActionResolve"),onCodeLens:o(b=>i.onRequest(dr.CodeLensRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),(0,Mn.attachPartialResult)(i,S))),"onCodeLens"),onCodeLensResolve:o(b=>i.onRequest(dr.CodeLensResolveRequest.type,(S,B)=>b(S,B)),"onCodeLensResolve"),onDocumentFormatting:o(b=>i.onRequest(dr.DocumentFormattingRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),void 0)),"onDocumentFormatting"),onDocumentRangeFormatting:o(b=>i.onRequest(dr.DocumentRangeFormattingRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),void 0)),"onDocumentRangeFormatting"),onDocumentOnTypeFormatting:o(b=>i.onRequest(dr.DocumentOnTypeFormattingRequest.type,(S,B)=>b(S,B)),"onDocumentOnTypeFormatting"),onRenameRequest:o(b=>i.onRequest(dr.RenameRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),void 0)),"onRenameRequest"),onPrepareRename:o(b=>i.onRequest(dr.PrepareRenameRequest.type,(S,B)=>b(S,B)),"onPrepareRename"),onDocumentLinks:o(b=>i.onRequest(dr.DocumentLinkRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),(0,Mn.attachPartialResult)(i,S))),"onDocumentLinks"),onDocumentLinkResolve:o(b=>i.onRequest(dr.DocumentLinkResolveRequest.type,(S,B)=>b(S,B)),"onDocumentLinkResolve"),onDocumentColor:o(b=>i.onRequest(dr.DocumentColorRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),(0,Mn.attachPartialResult)(i,S))),"onDocumentColor"),onColorPresentation:o(b=>i.onRequest(dr.ColorPresentationRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),(0,Mn.attachPartialResult)(i,S))),"onColorPresentation"),onFoldingRanges:o(b=>i.onRequest(dr.FoldingRangeRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),(0,Mn.attachPartialResult)(i,S))),"onFoldingRanges"),onSelectionRanges:o(b=>i.onRequest(dr.SelectionRangeRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),(0,Mn.attachPartialResult)(i,S))),"onSelectionRanges"),onExecuteCommand:o(b=>i.onRequest(dr.ExecuteCommandRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),void 0)),"onExecuteCommand"),dispose:o(()=>i.dispose(),"dispose")};for(let b of h)b.attach(v);return i.onRequest(dr.InitializeRequest.type,b=>{t.initialize(b),id.string(b.trace)&&(s.trace=dr.Trace.fromString(b.trace));for(let S of h)S.initialize(b.capabilities);if(x){let S=x(b,new dr.CancellationTokenSource().token,(0,Mn.attachWorkDone)(i,b),void 0);return p(S).then(B=>{if(B instanceof dr.ResponseError)return B;let P=B;P||(P={capabilities:{}});let F=P.capabilities;F||(F={},P.capabilities=F),F.textDocumentSync===void 0||F.textDocumentSync===null?F.textDocumentSync=id.number(v.__textDocumentSync)?v.__textDocumentSync:dr.TextDocumentSyncKind.None:!id.number(F.textDocumentSync)&&!id.number(F.textDocumentSync.change)&&(F.textDocumentSync.change=id.number(v.__textDocumentSync)?v.__textDocumentSync:dr.TextDocumentSyncKind.None);for(let q of h)q.fillServerCapabilities(F);return P})}else{let S={capabilities:{textDocumentSync:dr.TextDocumentSyncKind.None}};for(let B of h)B.fillServerCapabilities(S.capabilities);return S}}),i.onRequest(dr.ShutdownRequest.type,()=>{if(t.shutdownReceived=!0,A)return A(new dr.CancellationTokenSource().token)}),i.onNotification(dr.ExitNotification.type,()=>{try{E&&E()}finally{t.shutdownReceived?t.exit(0):t.exit(1)}}),i.onNotification(dr.SetTraceNotification.type,b=>{s.trace=dr.Trace.fromString(b.value)}),v}o(yot,"createConnection");eo.createConnection=yot});var a3e=V(Mc=>{"use strict";d();Object.defineProperty(Mc,"__esModule",{value:!0});Mc.resolveModulePath=Mc.FileSystem=Mc.resolveGlobalYarnPath=Mc.resolveGlobalNodePath=Mc.resolve=Mc.uriToFilePath=void 0;var Cot=require("url"),Nm=require("path"),gX=require("fs"),xX=require("child_process");function xot(e){let t=Cot.parse(e);if(t.protocol!=="file:"||!t.path)return;let r=t.path.split("/");for(var n=0,i=r.length;n<i;n++)r[n]=decodeURIComponent(r[n]);if(process.platform==="win32"&&r.length>1){let s=r[0],a=r[1];s.length===0&&a.length>1&&a[1]===":"&&r.shift()}return Nm.normalize(r.join("/"))}o(xot,"uriToFilePath");Mc.uriToFilePath=xot;function AX(){return process.platform==="win32"}o(AX,"isWindows");function KN(e,t,r,n){let i="NODE_PATH",s=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((a,l)=>{let c=process.env,u=Object.create(null);Object.keys(c).forEach(f=>u[f]=c[f]),t&&gX.existsSync(t)&&(u[i]?u[i]=t+Nm.delimiter+u[i]:u[i]=t,n&&n(`NODE_PATH value is: ${u[i]}`)),u.ELECTRON_RUN_AS_NODE="1";try{let f=(0,xX.fork)("",[],{cwd:r,env:u,execArgv:["-e",s]});if(f.pid===void 0){l(new Error(`Starting process to resolve node module  ${e} failed`));return}f.on("error",h=>{l(h)}),f.on("message",h=>{h.c==="r"&&(f.send({c:"e"}),h.s?a(h.r):l(new Error(`Failed to resolve module: ${e}`)))});let m={c:"rs",a:e};f.send(m)}catch(f){l(f)}})}o(KN,"resolve");Mc.resolve=KN;function yX(e){let t="npm",r=Object.create(null);Object.keys(process.env).forEach(s=>r[s]=process.env[s]),r.NO_UPDATE_NOTIFIER="true";let n={encoding:"utf8",env:r};AX()&&(t="npm.cmd",n.shell=!0);let i=o(()=>{},"handler");try{process.on("SIGPIPE",i);let s=(0,xX.spawnSync)(t,["config","get","prefix"],n).stdout;if(!s){e&&e("'npm config get prefix' didn't return a value.");return}let a=s.trim();return e&&e(`'npm config get prefix' value is: ${a}`),a.length>0?AX()?Nm.join(a,"node_modules"):Nm.join(a,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",i)}}o(yX,"resolveGlobalNodePath");Mc.resolveGlobalNodePath=yX;function Eot(e){let t="yarn",r={encoding:"utf8"};AX()&&(t="yarn.cmd",r.shell=!0);let n=o(()=>{},"handler");try{process.on("SIGPIPE",n);let i=(0,xX.spawnSync)(t,["global","dir","--json"],r),s=i.stdout;if(!s){e&&(e("'yarn global dir' didn't return a value."),i.stderr&&e(i.stderr));return}let a=s.trim().split(/\r?\n/);for(let l of a)try{let c=JSON.parse(l);if(c.type==="log")return Nm.join(c.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",n)}}o(Eot,"resolveGlobalYarnPath");Mc.resolveGlobalYarnPath=Eot;var CX;(function(e){let t;function r(){return t!==void 0||(process.platform==="win32"?t=!1:t=!gX.existsSync(__filename.toUpperCase())||!gX.existsSync(__filename.toLowerCase())),t}o(r,"isCaseSensitive"),e.isCaseSensitive=r;function n(i,s){return r()?Nm.normalize(s).indexOf(Nm.normalize(i))===0:Nm.normalize(s).toLowerCase().indexOf(Nm.normalize(i).toLowerCase())===0}o(n,"isParent"),e.isParent=n})(CX||(Mc.FileSystem=CX={}));function bot(e,t,r,n){return r?(Nm.isAbsolute(r)||(r=Nm.join(e,r)),KN(t,r,r,n).then(i=>CX.isParent(r,i)?i:Promise.reject(new Error(`Failed to load ${t} from node path location.`))).then(void 0,i=>KN(t,yX(n),e,n))):KN(t,yX(n),e,n)}o(bot,"resolveModulePath");Mc.resolveModulePath=bot});var EX=V((w2r,l3e)=>{"use strict";d();l3e.exports=Vn()});var c3e=V(JN=>{"use strict";d();Object.defineProperty(JN,"__esModule",{value:!0});JN.InlineCompletionFeature=void 0;var vot=Vn(),Iot=o(e=>class extends e{get inlineCompletion(){return{on:o(t=>this.connection.onRequest(vot.InlineCompletionRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r))),"on")}}},"InlineCompletionFeature");JN.InlineCompletionFeature=Iot});var d3e=V(I0=>{"use strict";d();var Tot=I0&&I0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),f3e=I0&&I0.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Tot(t,e,r)};Object.defineProperty(I0,"__esModule",{value:!0});I0.ProposedFeatures=I0.NotebookDocuments=I0.TextDocuments=I0.SemanticTokensBuilder=void 0;var wot=nX();Object.defineProperty(I0,"SemanticTokensBuilder",{enumerable:!0,get:o(function(){return wot.SemanticTokensBuilder},"get")});var Sot=c3e();f3e(Vn(),I0);var _ot=aX();Object.defineProperty(I0,"TextDocuments",{enumerable:!0,get:o(function(){return _ot.TextDocuments},"get")});var kot=cX();Object.defineProperty(I0,"NotebookDocuments",{enumerable:!0,get:o(function(){return kot.NotebookDocuments},"get")});f3e(pX(),I0);var u3e;(function(e){e.all={__brand:"features",languages:Sot.InlineCompletionFeature}})(u3e||(I0.ProposedFeatures=u3e={}))});var T0=V(od=>{"use strict";d();var Bot=od&&od.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),g3e=od&&od.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Bot(t,e,r)};Object.defineProperty(od,"__esModule",{value:!0});od.createConnection=od.Files=void 0;var m3e=require("node:util"),bX=vN(),Rot=pX(),VT=a3e(),X3=EX();g3e(EX(),od);g3e(d3e(),od);var h3e;(function(e){e.uriToFilePath=VT.uriToFilePath,e.resolveGlobalNodePath=VT.resolveGlobalNodePath,e.resolveGlobalYarnPath=VT.resolveGlobalYarnPath,e.resolve=VT.resolve,e.resolveModulePath=VT.resolveModulePath})(h3e||(od.Files=h3e={}));var p3e;function XN(){if(p3e!==void 0)try{p3e.end()}catch{}}o(XN,"endProtocolConnection");var Nv=!1,A3e;function Dot(){let e="--clientProcessId";function t(r){try{let n=parseInt(r);isNaN(n)||(A3e=setInterval(()=>{try{process.kill(n,0)}catch{XN(),process.exit(Nv?0:1)}},3e3))}catch{}}o(t,"runTimer");for(let r=2;r<process.argv.length;r++){let n=process.argv[r];if(n===e&&r+1<process.argv.length){t(process.argv[r+1]);return}else{let i=n.split("=");i[0]===e&&t(i[1])}}}o(Dot,"setupExitTimer");Dot();var Pot={initialize:o(e=>{let t=e.processId;bX.number(t)&&A3e===void 0&&setInterval(()=>{try{process.kill(t,0)}catch{process.exit(Nv?0:1)}},3e3)},"initialize"),get shutdownReceived(){return Nv},set shutdownReceived(e){Nv=e},exit:o(e=>{XN(),process.exit(e)},"exit")};function Fot(e,t,r,n){let i,s,a,l;return e!==void 0&&e.__brand==="features"&&(i=e,e=t,t=r,r=n),X3.ConnectionStrategy.is(e)||X3.ConnectionOptions.is(e)?l=e:(s=e,a=t,l=r),Not(s,a,l,i)}o(Fot,"createConnection");od.createConnection=Fot;function Not(e,t,r,n){let i=!1;if(!e&&!t&&process.argv.length>2){let c,u,f=process.argv.slice(2);for(let m=0;m<f.length;m++){let h=f[m];if(h==="--node-ipc"){e=new X3.IPCMessageReader(process),t=new X3.IPCMessageWriter(process);break}else if(h==="--stdio"){i=!0,e=process.stdin,t=process.stdout;break}else if(h==="--socket"){c=parseInt(f[m+1]);break}else if(h==="--pipe"){u=f[m+1];break}else{var s=h.split("=");if(s[0]==="--socket"){c=parseInt(s[1]);break}else if(s[0]==="--pipe"){u=s[1];break}}}if(c){let m=(0,X3.createServerSocketTransport)(c);e=m[0],t=m[1]}else if(u){let m=(0,X3.createServerPipeTransport)(u);e=m[0],t=m[1]}}var a="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!e)throw new Error("Connection input stream is not set. "+a);if(!t)throw new Error("Connection output stream is not set. "+a);if(bX.func(e.read)&&bX.func(e.on)){let c=e;c.on("end",()=>{XN(),process.exit(Nv?0:1)}),c.on("close",()=>{XN(),process.exit(Nv?0:1)})}let l=o(c=>{let u=(0,X3.createProtocolConnection)(e,t,c,r);return i&&Lot(c),u},"connectionFactory");return(0,Rot.createConnection)(l,Pot,n)}o(Not,"_createConnection");function Lot(e){function t(n){return n.map(i=>typeof i=="string"?i:(0,m3e.inspect)(i)).join(" ")}o(t,"serialize");let r=new Map;console.assert=o(function(i,...s){if(!i)if(s.length===0)e.error("Assertion failed");else{let[a,...l]=s;e.error(`Assertion failed: ${a} ${t(l)}`)}},"assert"),console.count=o(function(i="default"){let s=String(i),a=r.get(s)??0;a+=1,r.set(s,a),e.log(`${s}: ${s}`)},"count"),console.countReset=o(function(i){i===void 0?r.clear():r.delete(String(i))},"countReset"),console.debug=o(function(...i){e.log(t(i))},"debug"),console.dir=o(function(i,s){e.log((0,m3e.inspect)(i,s))},"dir"),console.log=o(function(...i){e.log(t(i))},"log"),console.error=o(function(...i){e.error(t(i))},"error"),console.trace=o(function(...i){let s=new Error().stack.replace(/(.+\n){2}/,""),a="Trace";i.length!==0&&(a+=`: ${t(i)}`),e.log(`${a}
${s}`)},"trace"),console.warn=o(function(...i){e.warn(t(i))},"warn")}o(Lot,"patchConsole")});var xp=V((M2r,y3e)=>{"use strict";d();y3e.exports=T0()});var rEe=V((Lxr,tEe)=>{"use strict";d();tEe.exports=Zxe;function Zxe(e,t,r){e instanceof RegExp&&(e=Xxe(e,r)),t instanceof RegExp&&(t=Xxe(t,r));var n=eEe(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}o(Zxe,"balanced");function Xxe(e,t){var r=t.match(e);return r?r[0]:null}o(Xxe,"maybeMatch");Zxe.range=eEe;function eEe(e,t,r){var n,i,s,a,l,c=r.indexOf(e),u=r.indexOf(t,c+1),f=c;if(c>=0&&u>0){if(e===t)return[c,u];for(n=[],s=r.length;f>=0&&!l;)f==c?(n.push(f),c=r.indexOf(e,f+1)):n.length==1?l=[n.pop(),u]:(i=n.pop(),i<s&&(s=i,a=u),u=r.indexOf(t,f+1)),f=c<u&&c>=0?c:u;n.length&&(l=[s,a])}return l}o(eEe,"range")});var uEe=V((Oxr,cEe)=>{d();var nEe=rEe();cEe.exports=Lst;var iEe="\0SLASH"+Math.random()+"\0",oEe="\0OPEN"+Math.random()+"\0",bZ="\0CLOSE"+Math.random()+"\0",sEe="\0COMMA"+Math.random()+"\0",aEe="\0PERIOD"+Math.random()+"\0";function EZ(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}o(EZ,"numeric");function Fst(e){return e.split("\\\\").join(iEe).split("\\{").join(oEe).split("\\}").join(bZ).split("\\,").join(sEe).split("\\.").join(aEe)}o(Fst,"escapeBraces");function Nst(e){return e.split(iEe).join("\\").split(oEe).join("{").split(bZ).join("}").split(sEe).join(",").split(aEe).join(".")}o(Nst,"unescapeBraces");function lEe(e){if(!e)return[""];var t=[],r=nEe("{","}",e);if(!r)return e.split(",");var n=r.pre,i=r.body,s=r.post,a=n.split(",");a[a.length-1]+="{"+i+"}";var l=lEe(s);return s.length&&(a[a.length-1]+=l.shift(),a.push.apply(a,l)),t.push.apply(t,a),t}o(lEe,"parseCommaParts");function Lst(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),iw(Fst(e),!0).map(Nst)):[]}o(Lst,"expandTop");function Qst(e){return"{"+e+"}"}o(Qst,"embrace");function Mst(e){return/^-?0\d/.test(e)}o(Mst,"isPadded");function Ost(e,t){return e<=t}o(Ost,"lte");function Ust(e,t){return e>=t}o(Ust,"gte");function iw(e,t){var r=[],n=nEe("{","}",e);if(!n)return[e];var i=n.pre,s=n.post.length?iw(n.post,!1):[""];if(/\$$/.test(n.pre))for(var a=0;a<s.length;a++){var l=i+"{"+n.body+"}"+s[a];r.push(l)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),f=c||u,m=n.body.indexOf(",")>=0;if(!f&&!m)return n.post.match(/,.*\}/)?(e=n.pre+"{"+n.body+bZ+n.post,iw(e)):[e];var h;if(f)h=n.body.split(/\.\./);else if(h=lEe(n.body),h.length===1&&(h=iw(h[0],!1).map(Qst),h.length===1))return s.map(function(Z){return n.pre+h[0]+Z});var p;if(f){var A=EZ(h[0]),x=EZ(h[1]),E=Math.max(h[0].length,h[1].length),v=h.length==3?Math.abs(EZ(h[2])):1,b=Ost,S=x<A;S&&(v*=-1,b=Ust);var B=h.some(Mst);p=[];for(var P=A;b(P,x);P+=v){var F;if(u)F=String.fromCharCode(P),F==="\\"&&(F="");else if(F=String(P),B){var q=E-F.length;if(q>0){var ne=new Array(q+1).join("0");P<0?F="-"+ne+F.slice(1):F=ne+F}}p.push(F)}}else{p=[];for(var ce=0;ce<h.length;ce++)p.push.apply(p,iw(h[ce],!1))}for(var ce=0;ce<p.length;ce++)for(var a=0;a<s.length;a++){var l=i+p[ce]+s[a];(!t||f||l)&&r.push(l)}}return r}o(iw,"expand")});var nI=V(wp=>{"use strict";d();Object.defineProperty(wp,"__esModule",{value:!0});wp.BaseTokensPerName=wp.BaseTokensPerMessage=wp.BaseTokensPerCompletion=wp.ChatRole=void 0;var ebe;(function(e){e.System="system",e.User="user",e.Assistant="assistant",e.Function="function",e.Tool="tool"})(ebe||(wp.ChatRole=ebe={}));wp.BaseTokensPerCompletion=3;wp.BaseTokensPerMessage=3;wp.BaseTokensPerName=1});var tbe=V(qZ=>{"use strict";d();Object.defineProperty(qZ,"__esModule",{value:!0});qZ.once=Xat;function Xat(e){let t,r=!1,n=o((...i)=>(r||(t=e(...i),r=!0),t),"wrappedFunction");return n.clear=()=>{r=!1},n}o(Xat,"once")});var VZ=V(Sp=>{"use strict";d();Object.defineProperty(Sp,"__esModule",{value:!0});Sp.MaterializedChatMessageImage=Sp.MaterializedChatMessage=Sp.MaterializedChatMessageTextChunk=Sp.MaterializedContainer=void 0;var iI=tbe(),g4=nI(),G5=class e{static{o(this,"MaterializedContainer")}parent;id;name;priority;metadata;flags;children;keepWithId;constructor(t,r,n,i,s,a,l){if(this.parent=t,this.id=r,this.name=n,this.priority=i,this.metadata=a,this.flags=l,this.children=s(this),l&8){if(this.children.length!==2)throw new Error("Invalid number of children for EmptyAlternate flag");let[c,u]=this.children;u.isEmpty?this.children=[c]:this.children=[u]}}has(t){return!!(this.flags&t)}async tokenCount(t){let r=0;return await Promise.all(this.children.map(async n=>{let i=y4(n)?await n.tokenCount(t):await n.upperBoundTokenCount(t);r+=i})),r}async upperBoundTokenCount(t){let r=0;return await Promise.all(this.children.map(async n=>{let i=await n.upperBoundTokenCount(t);r+=i})),r}replaceNode(t,r){return abe(t,this.children,r)}allMetadata(){return sbe(this)}findById(t){return HZ(t,this)}get isEmpty(){return!this.children.some(t=>!t.isEmpty)}onChunksChange(){this.parent?.onChunksChange()}*toChatMessages(){for(let t of this.children)Zat(t),t instanceof e?yield*t.toChatMessages():!t.isEmpty&&t instanceof oI&&(yield t.toChatMessage())}removeLowestPriorityChild(){let t=[];return GZ(this,t),t}};Sp.MaterializedContainer=G5;var A4=class{static{o(this,"MaterializedChatMessageTextChunk")}parent;text;priority;metadata;lineBreakBefore;constructor(t,r,n,i=[],s){this.parent=t,this.text=r,this.priority=n,this.metadata=i,this.lineBreakBefore=s}upperBoundTokenCount(t){return this._upperBound(t)}_upperBound=(0,iI.once)(async t=>await t.tokenLength(this.text)+(this.lineBreakBefore!==0?1:0));get isEmpty(){return!/\S/.test(this.text)}};Sp.MaterializedChatMessageTextChunk=A4;var oI=class{static{o(this,"MaterializedChatMessage")}parent;id;role;name;toolCalls;toolCallId;priority;metadata;children;constructor(t,r,n,i,s,a,l,c,u){this.parent=t,this.id=r,this.role=n,this.name=i,this.toolCalls=s,this.toolCallId=a,this.priority=l,this.metadata=c,this.children=u(this)}async tokenCount(t){return this._tokenCount(t)}async upperBoundTokenCount(t){return this._upperBound(t)}get text(){return this._text()}get isEmpty(){return!this.toolCalls?.length&&!this.children.some(t=>!t.isEmpty)}replaceNode(t,r){let n=abe(t,this.children,r);return n&&this.onChunksChange(),n}removeLowestPriorityChild(){let t=[];return GZ(this,t),t}onChunksChange(){this._tokenCount.clear(),this._upperBound.clear(),this._text.clear(),this.parent?.onChunksChange()}findById(t){return HZ(t,this)}_tokenCount=(0,iI.once)(async t=>t.countMessageTokens(this.toChatMessage()));_upperBound=(0,iI.once)(async t=>{let r=await this._baseMessageTokenCount(t);return await Promise.all(this.children.map(async n=>{let i=await n.upperBoundTokenCount(t);r+=i})),r});_baseMessageTokenCount=(0,iI.once)(t=>t.countMessageTokens({...this.toChatMessage(),content:""}));_text=(0,iI.once)(()=>{let t=[];for(let{text:r,isTextSibling:n}of obe(this)){if(r instanceof Um){t.push(r);continue}if(r.lineBreakBefore===1||r.lineBreakBefore===2&&!n){let i=t[t.length-1];typeof i=="string"&&!i.endsWith(`
`)&&(t[t.length-1]=i+`
`)}typeof t[t.length-1]=="string"?t[t.length-1]+=r.text:t.push(r.text)}return t});toChatMessage(){let t=this.text.filter(r=>typeof r=="string").join("").trim();if(this.text.some(r=>r instanceof Um)){if(this.role!==g4.ChatRole.User)throw new Error("Only User messages can have images");let r=this.text.map(n=>{if(typeof n=="string")return{type:"text",text:n};if(n instanceof Um)return{type:"image_url",image_url:{url:lbe(n.src),detail:n.detail}};throw new Error("Unexpected element type")});return{role:g4.ChatRole.User,content:r}}if(this.role===g4.ChatRole.System)return{role:this.role,content:t,...this.name?{name:this.name}:{}};if(this.role===g4.ChatRole.Assistant){let r={role:this.role,content:t};return this.name&&(r.name=this.name),this.toolCalls?.length&&(r.tool_calls=this.toolCalls.map(n=>({function:n.function,id:n.id,type:n.type}))),r}else return this.role===g4.ChatRole.User?{role:this.role,content:t,...this.name?{name:this.name}:{}}:this.role===g4.ChatRole.Tool?{role:this.role,content:t,tool_call_id:this.toolCallId}:{role:this.role,content:t,name:this.name}}};Sp.MaterializedChatMessage=oI;var Um=class{static{o(this,"MaterializedChatMessageImage")}parent;id;src;priority;metadata;lineBreakBefore;detail;constructor(t,r,n,i,s=[],a,l){this.parent=t,this.id=r,this.src=n,this.priority=i,this.metadata=s,this.lineBreakBefore=a,this.detail=l}upperBoundTokenCount(t){return this._upperBound(t)}_upperBound=(0,iI.once)(async t=>await t.countMessageTokens({role:g4.ChatRole.User,content:[{type:"image_url",image_url:{url:lbe(this.src),detail:this.detail}}]}));isEmpty=!1};Sp.MaterializedChatMessageImage=Um;function y4(e){return!(e instanceof A4||e instanceof Um)}o(y4,"isContainerType");function Zat(e){if(!(e instanceof G5)&&!(e instanceof oI)&&!(e instanceof Um))throw new Error(`Cannot have a text node outside a ChatMessage. Text: "${e.text}"`)}o(Zat,"assertContainerOrChatMessage");function*obe(e,t=!1){for(let r of e.children)r instanceof A4?(yield{text:r,isTextSibling:t},t=!0):r instanceof Um?yield{text:r,isTextSibling:!1}:(r&&(yield*obe(r,t)),t=!1)}o(obe,"textChunks");function elt(e,t){let r;function n(i,s){if(i instanceof A4||i instanceof Um)(!r||i.priority<r.node.priority)&&(r={chain:s.slice(),node:i});else{s.push(i);for(let a of i.children)n(a,s);s.pop()}}if(o(n,"findLowestInTree"),n(e,[]),!r)throw new Error("No lowest priority node found");yw(r.node,t)}o(elt,"removeLowestPriorityLegacy");function GZ(e,t){let r;if(e instanceof G5&&e.has(1)){elt(e,t);return}let n=e.children.map((i,s)=>({chain:[e],index:s}));for(let i=0;i<n.length;i++){let{chain:s,index:a}=n[i],l=s[s.length-1].children[a];if(l instanceof G5&&l.has(4)){let c=[...s,l];n.splice(i+1,0,...l.children.map((u,f)=>({chain:c,index:f})))}else if(!r||l.priority<r.value.priority)r={chain:s,index:a,value:l};else if(l.priority===r.value.priority){r.lowestNested??=rbe(r.value);let c=rbe(l);c<r.lowestNested&&(r={chain:s,index:a,value:l,lowestNested:c})}}if(!r)throw new Error("No lowest priority node found");r.value instanceof A4||r.value instanceof Um||r.value instanceof G5&&r.value.has(2)||y4(r.value)&&!r.value.children.length?yw(r.value,t):GZ(r.value,t)}o(GZ,"removeLowestPriorityChild");function rbe(e){if(!y4(e))return-1;let t=Number.MAX_SAFE_INTEGER;for(let r of e.children)t=Math.min(t,r.priority);return t}o(rbe,"getLowestPriorityAmongChildren");function*sbe(e){yield*e.metadata;for(let t of e.children)y4(t)?yield*sbe(t):yield*t.metadata}o(sbe,"allMetadata");function abe(e,t,r){for(let n=0;n<t.length;n++){let i=t[n];if(y4(i)){if(i.id===e){let a=t[n];return r.parent=i.parent,t[n]=r,a}let s=i.replaceNode(e,r);if(s)return s}}}o(abe,"replaceNode");function*nbe(e){let t=[e];for(;t.length>0;){let r=t.pop();yield r,y4(r)&&t.push(...r.children)}}o(nbe,"forEachNode");function tlt(e){let t=e;for(;t.parent;)t=t.parent;return t}o(tlt,"getRoot");function ibe(e){return e instanceof G5&&e.keepWithId!==void 0}o(ibe,"isKeepWith");var WZ=new Set;function rlt(e,t){let r=new Set;for(let n of nbe(e))ibe(n)&&!WZ.has(n.keepWithId)&&r.add(n.keepWithId);if(r.size===0)return!1;for(let n of r)WZ.add(n);try{let n=tlt(e);for(let i of nbe(n))ibe(i)&&r.has(i.keepWithId)?yw(i,t):i instanceof oI&&i.toolCalls&&(i.toolCalls=nlt(i.toolCalls,s=>!(s.keepWith&&r.has(s.keepWith.id))),i.isEmpty&&yw(i,t))}finally{for(let n of r)WZ.delete(n)}}o(rlt,"removeOtherKeepWiths");function HZ(e,t){if(t.id===e)return t;for(let r of t.children)if(y4(r)){let n=HZ(e,r);if(n)return n}}o(HZ,"findNodeById");function yw(e,t){let r=e.parent;if(!r)return;let n=r.children.indexOf(e);n!==-1&&(r.children.splice(n,1),t.push(e),rlt(e,t),r.isEmpty?yw(r,t):r.onChunksChange())}o(yw,"removeNode");function lbe(e){let t={"/9j/":"image/jpeg",iVBOR:"image/png",R0lGOD:"image/gif",UklGR:"image/webp"};for(let r of Object.keys(t))if(e.startsWith(r))return`data:${t[r]};base64,${e}`;return e}o(lbe,"getEncodedBase64");function nlt(e,t){for(let r=0;r<e.length;r++){if(t(e[r]))continue;let n=e.slice(0,r);for(let i=r+1;i<e.length;i++)t(e[i])&&n.push(e[i]);return n}return e}o(nlt,"filterIfDifferent")});var ube=V(()=>{"use strict";d();function ilt(e,t,...r){return{ctor:e,props:t,children:r.flat()}}o(ilt,"_vscpp");function cbe(){throw new Error("This should not be invoked!")}o(cbe,"_vscppf");cbe.isFragment=!0;globalThis.vscpp=ilt;globalThis.vscppf=cbe});var $Z=V(fQ=>{"use strict";d();Object.defineProperty(fQ,"__esModule",{value:!0});fQ.PromptElement=void 0;ube();var jZ=class{static{o(this,"PromptElement")}props;get priority(){return this.props.priority??Number.MAX_SAFE_INTEGER}get insertLineBreakBefore(){return!0}constructor(t){this.props=t}};fQ.PromptElement=jZ});var iee=V(Ii=>{"use strict";d();Object.defineProperty(Ii,"__esModule",{value:!0});Ii.IfEmpty=Ii.AbstractKeepWith=Ii.TokenLimit=Ii.Expandable=Ii.Chunk=Ii.LegacyPrioritization=Ii.ToolResult=Ii.PrioritizedList=Ii.BaseImageMessage=Ii.TextChunk=Ii.ToolMessage=Ii.FunctionMessage=Ii.AssistantMessage=Ii.UserMessage=Ii.SystemMessage=Ii.BaseChatMessage=void 0;Ii.isChatMessagePromptElement=olt;Ii.useKeepWith=clt;var Cw=nI(),_p=$Z();function olt(e){return e instanceof dQ||e instanceof mQ||e instanceof hQ}o(olt,"isChatMessagePromptElement");var R1=class extends _p.PromptElement{static{o(this,"BaseChatMessage")}render(){return vscpp(vscppf,null,this.props.children)}};Ii.BaseChatMessage=R1;var dQ=class extends R1{static{o(this,"SystemMessage")}constructor(t){t.role=Cw.ChatRole.System,super(t)}};Ii.SystemMessage=dQ;var mQ=class extends R1{static{o(this,"UserMessage")}constructor(t){t.role=Cw.ChatRole.User,super(t)}};Ii.UserMessage=mQ;var hQ=class extends R1{static{o(this,"AssistantMessage")}constructor(t){t.role=Cw.ChatRole.Assistant,super(t)}};Ii.AssistantMessage=hQ;var slt=/\s+/g,zZ=class extends R1{static{o(this,"FunctionMessage")}constructor(t){t.role=Cw.ChatRole.Function,super(t)}};Ii.FunctionMessage=zZ;var YZ=class extends R1{static{o(this,"ToolMessage")}constructor(t){t.role=Cw.ChatRole.Tool,super(t)}};Ii.ToolMessage=YZ;var pQ=class extends _p.PromptElement{static{o(this,"TextChunk")}async prepare(t,r,n){let i=this.props.breakOnWhitespace?slt:this.props.breakOn;if(!i)return vscpp(vscppf,null,this.props.children);let s="",a=[];for(let c of this.props.children||[])if(c&&typeof c=="object"){if(typeof c.ctor!="string")throw new Error("TextChunk children must be text literals or intrinsic attributes.");c.ctor==="br"?s+=`
`:a.push(c)}else c!=null&&(s+=c);let l=await alt(t,i,s,n);return vscpp(vscppf,null,a,l)}render(t){return t}};Ii.TextChunk=pQ;async function alt(e,t,r,n){if(t instanceof RegExp){if(!t.global)throw new Error(`\`breakOn\` expression must have the global flag set (got ${t})`);t.lastIndex=0}let i="",s=-1;for(;s<r.length;){let a;typeof t=="string"?a=r.indexOf(t,s===-1?0:s+t.length):a=t.exec(r)?.index??-1,a===-1&&(a=r.length);let l=i+r.slice(Math.max(0,s),a);if(await e.countTokens(l,n)>e.tokenBudget)return i;i=l,s=a}return i}o(alt,"getTextContentBelowBudget");var KZ=class extends R1{static{o(this,"BaseImageMessage")}constructor(t){super(t)}};Ii.BaseImageMessage=KZ;var JZ=class extends _p.PromptElement{static{o(this,"PrioritizedList")}render(){let{children:t,priority:r=0,descending:n}=this.props;if(t)return vscpp(vscppf,null,t.map((i,s)=>{if(!i)return;let a=n?r-s:r-t.length+s;return typeof i!="object"?vscpp(pQ,{priority:a},i):(i.props??={},i.props.priority=a,i)}))}};Ii.PrioritizedList=JZ;var XZ=class extends _p.PromptElement{static{o(this,"ToolResult")}render(){return vscpp(vscppf,null,this.props.data.content.map(t=>{if(t&&typeof t.value=="string")return t.value;if(t&&t.value&&typeof t.value.node=="object")return vscpp("elementJSON",{data:t.value})}))}};Ii.ToolResult=XZ;var ZZ=class extends _p.PromptElement{static{o(this,"LegacyPrioritization")}render(){return vscpp(vscppf,null,this.props.children)}};Ii.LegacyPrioritization=ZZ;var eee=class extends _p.PromptElement{static{o(this,"Chunk")}render(){return vscpp(vscppf,null,this.props.children)}};Ii.Chunk=eee;var tee=class extends _p.PromptElement{static{o(this,"Expandable")}async render(t,r){return vscpp(vscppf,null,await this.props.value(r))}};Ii.Expandable=tee;var ree=class extends _p.PromptElement{static{o(this,"TokenLimit")}render(){return vscpp(vscppf,null,this.props.children)}};Ii.TokenLimit=ree;var gQ=class extends _p.PromptElement{static{o(this,"AbstractKeepWith")}};Ii.AbstractKeepWith=gQ;var llt=0;function clt(){let e=llt++;return class extends gQ{static{o(this,"KeepWith")}static id=e;id=e;render(){return vscpp(vscppf,null,this.props.children)}}}o(clt,"useKeepWith");var nee=class extends _p.PromptElement{static{o(this,"IfEmpty")}render(){return vscpp(vscppf,null,[this.props.alt,this.props.children])}};Ii.IfEmpty=nee});var dbe=V(xw=>{"use strict";d();Object.defineProperty(xw,"__esModule",{value:!0});xw.localize=ult;xw.localize2=flt;xw.getConfiguredDefaultLocale=dlt;function fbe(e,t){let r;return t.length===0?r=e:r=e.replace(/\{(\d+)\}/g,function(n,i){let s=i[0];return typeof t[s]<"u"?t[s]:n}),r}o(fbe,"_format");function ult(e,t,...r){return fbe(t,r)}o(ult,"localize");function flt(e,t,...r){let n=fbe(t,r);return{original:n,value:n}}o(flt,"localize2");function dlt(e){}o(dlt,"getConfiguredDefaultLocale")});var lee=V(Jt=>{"use strict";d();Object.defineProperty(Jt,"__esModule",{value:!0});Jt.isAndroid=Jt.isEdge=Jt.isSafari=Jt.isFirefox=Jt.isChrome=Jt.OS=Jt.setTimeout0=Jt.setTimeout0IsFaster=Jt.translationsConfigFile=Jt.platformLocale=Jt.locale=Jt.Language=Jt.language=Jt.userAgent=Jt.platform=Jt.isCI=Jt.isMobile=Jt.isIOS=Jt.webWorkerOrigin=Jt.isWebWorker=Jt.isWeb=Jt.isElectron=Jt.isNative=Jt.isLinuxSnap=Jt.isLinux=Jt.isMacintosh=Jt.isWindows=Jt.LANGUAGE_DEFAULT=void 0;Jt.PlatformToString=hlt;Jt.isLittleEndian=plt;Jt.isBigSurOrNewer=glt;var mbe=dbe();Jt.LANGUAGE_DEFAULT="en";var vw=!1,Iw=!1,bw=!1,Abe=!1,ybe=!1,see=!1,Cbe=!1,aee=!1,xbe=!1,Ebe=!1,Ew,AQ=Jt.LANGUAGE_DEFAULT,oee=Jt.LANGUAGE_DEFAULT,bbe,D1,P1=globalThis,$u;typeof P1.vscode<"u"&&typeof P1.vscode.process<"u"?$u=P1.vscode.process:typeof process<"u"&&($u=process);var vbe=typeof $u?.versions?.electron=="string",mlt=vbe&&$u?.type==="renderer";if(typeof $u=="object"){vw=$u.platform==="win32",Iw=$u.platform==="darwin",bw=$u.platform==="linux",Abe=bw&&!!$u.env.SNAP&&!!$u.env.SNAP_REVISION,Cbe=vbe,xbe=!!$u.env.CI||!!$u.env.BUILD_ARTIFACTSTAGINGDIRECTORY,Ew=Jt.LANGUAGE_DEFAULT,AQ=Jt.LANGUAGE_DEFAULT;let e=$u.env.VSCODE_NLS_CONFIG;if(e)try{let t=JSON.parse(e),r=t.availableLanguages["*"];Ew=t.locale,oee=t.osLocale,AQ=r||Jt.LANGUAGE_DEFAULT,bbe=t._translationsConfigFile}catch{}ybe=!0}else typeof navigator=="object"&&!mlt?(D1=navigator.userAgent,vw=D1.indexOf("Windows")>=0,Iw=D1.indexOf("Macintosh")>=0,aee=(D1.indexOf("Macintosh")>=0||D1.indexOf("iPad")>=0||D1.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,bw=D1.indexOf("Linux")>=0,Ebe=D1?.indexOf("Mobi")>=0,see=!0,Ew=mbe.getConfiguredDefaultLocale(mbe.localize({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"))||Jt.LANGUAGE_DEFAULT,AQ=Ew,oee=navigator.language):console.error("Unable to resolve platform.");function hlt(e){switch(e){case 0:return"Web";case 1:return"Mac";case 2:return"Linux";case 3:return"Windows"}}o(hlt,"PlatformToString");var yQ=0;Iw?yQ=1:vw?yQ=3:bw&&(yQ=2);Jt.isWindows=vw;Jt.isMacintosh=Iw;Jt.isLinux=bw;Jt.isLinuxSnap=Abe;Jt.isNative=ybe;Jt.isElectron=Cbe;Jt.isWeb=see;Jt.isWebWorker=see&&typeof P1.importScripts=="function";Jt.webWorkerOrigin=Jt.isWebWorker?P1.origin:void 0;Jt.isIOS=aee;Jt.isMobile=Ebe;Jt.isCI=xbe;Jt.platform=yQ;Jt.userAgent=D1;Jt.language=AQ;var hbe;(function(e){function t(){return Jt.language}o(t,"value"),e.value=t;function r(){return Jt.language.length===2?Jt.language==="en":Jt.language.length>=3?Jt.language[0]==="e"&&Jt.language[1]==="n"&&Jt.language[2]==="-":!1}o(r,"isDefaultVariant"),e.isDefaultVariant=r;function n(){return Jt.language==="en"}o(n,"isDefault"),e.isDefault=n})(hbe||(Jt.Language=hbe={}));Jt.locale=Ew;Jt.platformLocale=oee;Jt.translationsConfigFile=bbe;Jt.setTimeout0IsFaster=typeof P1.postMessage=="function"&&!P1.importScripts;Jt.setTimeout0=(()=>{if(Jt.setTimeout0IsFaster){let e=[];P1.addEventListener("message",r=>{if(r.data&&r.data.vscodeScheduleAsyncWork)for(let n=0,i=e.length;n<i;n++){let s=e[n];if(s.id===r.data.vscodeScheduleAsyncWork){e.splice(n,1),s.callback();return}}});let t=0;return r=>{let n=++t;e.push({id:n,callback:r}),P1.postMessage({vscodeScheduleAsyncWork:n},"*")}}return e=>setTimeout(e)})();Jt.OS=Iw||aee?2:vw?1:3;var pbe=!0,gbe=!1;function plt(){if(!gbe){gbe=!0;let e=new Uint8Array(2);e[0]=1,e[1]=2,pbe=new Uint16Array(e.buffer)[0]===513}return pbe}o(plt,"isLittleEndian");Jt.isChrome=!!(Jt.userAgent&&Jt.userAgent.indexOf("Chrome")>=0);Jt.isFirefox=!!(Jt.userAgent&&Jt.userAgent.indexOf("Firefox")>=0);Jt.isSafari=!!(!Jt.isChrome&&Jt.userAgent&&Jt.userAgent.indexOf("Safari")>=0);Jt.isEdge=!!(Jt.userAgent&&Jt.userAgent.indexOf("Edg/")>=0);Jt.isAndroid=!!(Jt.userAgent&&Jt.userAgent.indexOf("Android")>=0);function glt(e){return parseFloat(e)>=20}o(glt,"isBigSurOrNewer")});var Tbe=V(kp=>{"use strict";d();Object.defineProperty(kp,"__esModule",{value:!0});kp.arch=kp.platform=kp.env=kp.cwd=void 0;var Ibe=lee(),C4,cee=globalThis.vscode;if(typeof cee<"u"&&typeof cee.process<"u"){let e=cee.process;C4={get platform(){return e.platform},get arch(){return e.arch},get env(){return e.env},cwd(){return e.cwd()}}}else typeof process<"u"?C4={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:C4={get platform(){return Ibe.isWindows?"win32":Ibe.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};kp.cwd=C4.cwd;kp.env=C4.env;kp.platform=C4.platform;kp.arch=C4.arch});var Sbe=V(Er=>{"use strict";d();Object.defineProperty(Er,"__esModule",{value:!0});Er.delimiter=Er.sep=Er.toNamespacedPath=Er.parse=Er.format=Er.extname=Er.basename=Er.dirname=Er.relative=Er.resolve=Er.join=Er.isAbsolute=Er.normalize=Er.posix=Er.win32=void 0;var sI=Tbe(),Alt=65,ylt=97,Clt=90,xlt=122,j5=46,gl=47,Vc=92,H5=58,Elt=63,CQ=class extends Error{static{o(this,"ErrorInvalidArgType")}code;constructor(t,r,n){let i;typeof r=="string"&&r.indexOf("not ")===0?(i="must not be",r=r.replace(/^not /,"")):i="must be";let s=t.indexOf(".")!==-1?"property":"argument",a=`The "${t}" ${s} ${i} of type ${r}`;a+=`. Received type ${typeof n}`,super(a),this.code="ERR_INVALID_ARG_TYPE"}};function blt(e,t){if(e===null||typeof e!="object")throw new CQ(t,"Object",e)}o(blt,"validateObject");function $s(e,t){if(typeof e!="string")throw new CQ(t,"string",e)}o($s,"validateString");var jc=sI.platform==="win32";function jn(e){return e===gl||e===Vc}o(jn,"isPathSeparator");function uee(e){return e===gl}o(uee,"isPosixPathSeparator");function V5(e){return e>=Alt&&e<=Clt||e>=ylt&&e<=xlt}o(V5,"isWindowsDeviceRoot");function xQ(e,t,r,n){let i="",s=0,a=-1,l=0,c=0;for(let u=0;u<=e.length;++u){if(u<e.length)c=e.charCodeAt(u);else{if(n(c))break;c=gl}if(n(c)){if(!(a===u-1||l===1))if(l===2){if(i.length<2||s!==2||i.charCodeAt(i.length-1)!==j5||i.charCodeAt(i.length-2)!==j5){if(i.length>2){let f=i.lastIndexOf(r);f===-1?(i="",s=0):(i=i.slice(0,f),s=i.length-1-i.lastIndexOf(r)),a=u,l=0;continue}else if(i.length!==0){i="",s=0,a=u,l=0;continue}}t&&(i+=i.length>0?`${r}..`:"..",s=2)}else i.length>0?i+=`${r}${e.slice(a+1,u)}`:i=e.slice(a+1,u),s=u-a-1;a=u,l=0}else c===j5&&l!==-1?++l:l=-1}return i}o(xQ,"normalizeString");function wbe(e,t){blt(t,"pathObject");let r=t.dir||t.root,n=t.base||`${t.name||""}${t.ext||""}`;return r?r===t.root?`${r}${n}`:`${r}${e}${n}`:n}o(wbe,"_format");Er.win32={resolve(...e){let t="",r="",n=!1;for(let i=e.length-1;i>=-1;i--){let s;if(i>=0){if(s=e[i],$s(s,"path"),s.length===0)continue}else t.length===0?s=sI.cwd():(s=sI.env[`=${t}`]||sI.cwd(),(s===void 0||s.slice(0,2).toLowerCase()!==t.toLowerCase()&&s.charCodeAt(2)===Vc)&&(s=`${t}\\`));let a=s.length,l=0,c="",u=!1,f=s.charCodeAt(0);if(a===1)jn(f)&&(l=1,u=!0);else if(jn(f))if(u=!0,jn(s.charCodeAt(1))){let m=2,h=m;for(;m<a&&!jn(s.charCodeAt(m));)m++;if(m<a&&m!==h){let p=s.slice(h,m);for(h=m;m<a&&jn(s.charCodeAt(m));)m++;if(m<a&&m!==h){for(h=m;m<a&&!jn(s.charCodeAt(m));)m++;(m===a||m!==h)&&(c=`\\\\${p}\\${s.slice(h,m)}`,l=m)}}}else l=1;else V5(f)&&s.charCodeAt(1)===H5&&(c=s.slice(0,2),l=2,a>2&&jn(s.charCodeAt(2))&&(u=!0,l=3));if(c.length>0)if(t.length>0){if(c.toLowerCase()!==t.toLowerCase())continue}else t=c;if(n){if(t.length>0)break}else if(r=`${s.slice(l)}\\${r}`,n=u,u&&t.length>0)break}return r=xQ(r,!n,"\\",jn),n?`${t}\\${r}`:`${t}${r}`||"."},normalize(e){$s(e,"path");let t=e.length;if(t===0)return".";let r=0,n,i=!1,s=e.charCodeAt(0);if(t===1)return uee(s)?"\\":e;if(jn(s))if(i=!0,jn(e.charCodeAt(1))){let l=2,c=l;for(;l<t&&!jn(e.charCodeAt(l));)l++;if(l<t&&l!==c){let u=e.slice(c,l);for(c=l;l<t&&jn(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&!jn(e.charCodeAt(l));)l++;if(l===t)return`\\\\${u}\\${e.slice(c)}\\`;l!==c&&(n=`\\\\${u}\\${e.slice(c,l)}`,r=l)}}}else r=1;else V5(s)&&e.charCodeAt(1)===H5&&(n=e.slice(0,2),r=2,t>2&&jn(e.charCodeAt(2))&&(i=!0,r=3));let a=r<t?xQ(e.slice(r),!i,"\\",jn):"";return a.length===0&&!i&&(a="."),a.length>0&&jn(e.charCodeAt(t-1))&&(a+="\\"),n===void 0?i?`\\${a}`:a:i?`${n}\\${a}`:`${n}${a}`},isAbsolute(e){$s(e,"path");let t=e.length;if(t===0)return!1;let r=e.charCodeAt(0);return jn(r)||t>2&&V5(r)&&e.charCodeAt(1)===H5&&jn(e.charCodeAt(2))},join(...e){if(e.length===0)return".";let t,r;for(let s=0;s<e.length;++s){let a=e[s];$s(a,"path"),a.length>0&&(t===void 0?t=r=a:t+=`\\${a}`)}if(t===void 0)return".";let n=!0,i=0;if(typeof r=="string"&&jn(r.charCodeAt(0))){++i;let s=r.length;s>1&&jn(r.charCodeAt(1))&&(++i,s>2&&(jn(r.charCodeAt(2))?++i:n=!1))}if(n){for(;i<t.length&&jn(t.charCodeAt(i));)i++;i>=2&&(t=`\\${t.slice(i)}`)}return Er.win32.normalize(t)},relative(e,t){if($s(e,"from"),$s(t,"to"),e===t)return"";let r=Er.win32.resolve(e),n=Er.win32.resolve(t);if(r===n||(e=r.toLowerCase(),t=n.toLowerCase(),e===t))return"";let i=0;for(;i<e.length&&e.charCodeAt(i)===Vc;)i++;let s=e.length;for(;s-1>i&&e.charCodeAt(s-1)===Vc;)s--;let a=s-i,l=0;for(;l<t.length&&t.charCodeAt(l)===Vc;)l++;let c=t.length;for(;c-1>l&&t.charCodeAt(c-1)===Vc;)c--;let u=c-l,f=a<u?a:u,m=-1,h=0;for(;h<f;h++){let A=e.charCodeAt(i+h);if(A!==t.charCodeAt(l+h))break;A===Vc&&(m=h)}if(h!==f){if(m===-1)return n}else{if(u>f){if(t.charCodeAt(l+h)===Vc)return n.slice(l+h+1);if(h===2)return n.slice(l+h)}a>f&&(e.charCodeAt(i+h)===Vc?m=h:h===2&&(m=3)),m===-1&&(m=0)}let p="";for(h=i+m+1;h<=s;++h)(h===s||e.charCodeAt(h)===Vc)&&(p+=p.length===0?"..":"\\..");return l+=m,p.length>0?`${p}${n.slice(l,c)}`:(n.charCodeAt(l)===Vc&&++l,n.slice(l,c))},toNamespacedPath(e){if(typeof e!="string"||e.length===0)return e;let t=Er.win32.resolve(e);if(t.length<=2)return e;if(t.charCodeAt(0)===Vc){if(t.charCodeAt(1)===Vc){let r=t.charCodeAt(2);if(r!==Elt&&r!==j5)return`\\\\?\\UNC\\${t.slice(2)}`}}else if(V5(t.charCodeAt(0))&&t.charCodeAt(1)===H5&&t.charCodeAt(2)===Vc)return`\\\\?\\${t}`;return e},dirname(e){$s(e,"path");let t=e.length;if(t===0)return".";let r=-1,n=0,i=e.charCodeAt(0);if(t===1)return jn(i)?e:".";if(jn(i)){if(r=n=1,jn(e.charCodeAt(1))){let l=2,c=l;for(;l<t&&!jn(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&jn(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&!jn(e.charCodeAt(l));)l++;if(l===t)return e;l!==c&&(r=n=l+1)}}}}else V5(i)&&e.charCodeAt(1)===H5&&(r=t>2&&jn(e.charCodeAt(2))?3:2,n=r);let s=-1,a=!0;for(let l=t-1;l>=n;--l)if(jn(e.charCodeAt(l))){if(!a){s=l;break}}else a=!1;if(s===-1){if(r===-1)return".";s=r}return e.slice(0,s)},basename(e,t){t!==void 0&&$s(t,"ext"),$s(e,"path");let r=0,n=-1,i=!0,s;if(e.length>=2&&V5(e.charCodeAt(0))&&e.charCodeAt(1)===H5&&(r=2),t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,l=-1;for(s=e.length-1;s>=r;--s){let c=e.charCodeAt(s);if(jn(c)){if(!i){r=s+1;break}}else l===-1&&(i=!1,l=s+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(n=s):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}for(s=e.length-1;s>=r;--s)if(jn(e.charCodeAt(s))){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":e.slice(r,n)},extname(e){$s(e,"path");let t=0,r=-1,n=0,i=-1,s=!0,a=0;e.length>=2&&e.charCodeAt(1)===H5&&V5(e.charCodeAt(0))&&(t=n=2);for(let l=e.length-1;l>=t;--l){let c=e.charCodeAt(l);if(jn(c)){if(!s){n=l+1;break}continue}i===-1&&(s=!1,i=l+1),c===j5?r===-1?r=l:a!==1&&(a=1):r!==-1&&(a=-1)}return r===-1||i===-1||a===0||a===1&&r===i-1&&r===n+1?"":e.slice(r,i)},format:wbe.bind(null,"\\"),parse(e){$s(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.length,n=0,i=e.charCodeAt(0);if(r===1)return jn(i)?(t.root=t.dir=e,t):(t.base=t.name=e,t);if(jn(i)){if(n=1,jn(e.charCodeAt(1))){let m=2,h=m;for(;m<r&&!jn(e.charCodeAt(m));)m++;if(m<r&&m!==h){for(h=m;m<r&&jn(e.charCodeAt(m));)m++;if(m<r&&m!==h){for(h=m;m<r&&!jn(e.charCodeAt(m));)m++;m===r?n=m:m!==h&&(n=m+1)}}}}else if(V5(i)&&e.charCodeAt(1)===H5){if(r<=2)return t.root=t.dir=e,t;if(n=2,jn(e.charCodeAt(2))){if(r===3)return t.root=t.dir=e,t;n=3}}n>0&&(t.root=e.slice(0,n));let s=-1,a=n,l=-1,c=!0,u=e.length-1,f=0;for(;u>=n;--u){if(i=e.charCodeAt(u),jn(i)){if(!c){a=u+1;break}continue}l===-1&&(c=!1,l=u+1),i===j5?s===-1?s=u:f!==1&&(f=1):s!==-1&&(f=-1)}return l!==-1&&(s===-1||f===0||f===1&&s===l-1&&s===a+1?t.base=t.name=e.slice(a,l):(t.name=e.slice(a,s),t.base=e.slice(a,l),t.ext=e.slice(s,l))),a>0&&a!==n?t.dir=e.slice(0,a-1):t.dir=t.root,t},sep:"\\",delimiter:";",win32:null,posix:null};var vlt=(()=>{if(jc){let e=/\\/g;return()=>{let t=sI.cwd().replace(e,"/");return t.slice(t.indexOf("/"))}}return()=>sI.cwd()})();Er.posix={resolve(...e){let t="",r=!1;for(let n=e.length-1;n>=-1&&!r;n--){let i=n>=0?e[n]:vlt();$s(i,"path"),i.length!==0&&(t=`${i}/${t}`,r=i.charCodeAt(0)===gl)}return t=xQ(t,!r,"/",uee),r?`/${t}`:t.length>0?t:"."},normalize(e){if($s(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===gl,r=e.charCodeAt(e.length-1)===gl;return e=xQ(e,!t,"/",uee),e.length===0?t?"/":r?"./":".":(r&&(e+="/"),t?`/${e}`:e)},isAbsolute(e){return $s(e,"path"),e.length>0&&e.charCodeAt(0)===gl},join(...e){if(e.length===0)return".";let t;for(let r=0;r<e.length;++r){let n=e[r];$s(n,"path"),n.length>0&&(t===void 0?t=n:t+=`/${n}`)}return t===void 0?".":Er.posix.normalize(t)},relative(e,t){if($s(e,"from"),$s(t,"to"),e===t||(e=Er.posix.resolve(e),t=Er.posix.resolve(t),e===t))return"";let r=1,n=e.length,i=n-r,s=1,a=t.length-s,l=i<a?i:a,c=-1,u=0;for(;u<l;u++){let m=e.charCodeAt(r+u);if(m!==t.charCodeAt(s+u))break;m===gl&&(c=u)}if(u===l)if(a>l){if(t.charCodeAt(s+u)===gl)return t.slice(s+u+1);if(u===0)return t.slice(s+u)}else i>l&&(e.charCodeAt(r+u)===gl?c=u:u===0&&(c=0));let f="";for(u=r+c+1;u<=n;++u)(u===n||e.charCodeAt(u)===gl)&&(f+=f.length===0?"..":"/..");return`${f}${t.slice(s+c)}`},toNamespacedPath(e){return e},dirname(e){if($s(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===gl,r=-1,n=!0;for(let i=e.length-1;i>=1;--i)if(e.charCodeAt(i)===gl){if(!n){r=i;break}}else n=!1;return r===-1?t?"/":".":t&&r===1?"//":e.slice(0,r)},basename(e,t){t!==void 0&&$s(t,"ext"),$s(e,"path");let r=0,n=-1,i=!0,s;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,l=-1;for(s=e.length-1;s>=0;--s){let c=e.charCodeAt(s);if(c===gl){if(!i){r=s+1;break}}else l===-1&&(i=!1,l=s+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(n=s):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}for(s=e.length-1;s>=0;--s)if(e.charCodeAt(s)===gl){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":e.slice(r,n)},extname(e){$s(e,"path");let t=-1,r=0,n=-1,i=!0,s=0;for(let a=e.length-1;a>=0;--a){let l=e.charCodeAt(a);if(l===gl){if(!i){r=a+1;break}continue}n===-1&&(i=!1,n=a+1),l===j5?t===-1?t=a:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||n===-1||s===0||s===1&&t===n-1&&t===r+1?"":e.slice(t,n)},format:wbe.bind(null,"/"),parse(e){$s(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.charCodeAt(0)===gl,n;r?(t.root="/",n=1):n=0;let i=-1,s=0,a=-1,l=!0,c=e.length-1,u=0;for(;c>=n;--c){let f=e.charCodeAt(c);if(f===gl){if(!l){s=c+1;break}continue}a===-1&&(l=!1,a=c+1),f===j5?i===-1?i=c:u!==1&&(u=1):i!==-1&&(u=-1)}if(a!==-1){let f=s===0&&r?1:s;i===-1||u===0||u===1&&i===a-1&&i===s+1?t.base=t.name=e.slice(f,a):(t.name=e.slice(f,i),t.base=e.slice(f,a),t.ext=e.slice(i,a))}return s>0?t.dir=e.slice(0,s-1):r&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};Er.posix.win32=Er.win32.win32=Er.win32;Er.posix.posix=Er.win32.posix=Er.posix;Er.normalize=jc?Er.win32.normalize:Er.posix.normalize;Er.isAbsolute=jc?Er.win32.isAbsolute:Er.posix.isAbsolute;Er.join=jc?Er.win32.join:Er.posix.join;Er.resolve=jc?Er.win32.resolve:Er.posix.resolve;Er.relative=jc?Er.win32.relative:Er.posix.relative;Er.dirname=jc?Er.win32.dirname:Er.posix.dirname;Er.basename=jc?Er.win32.basename:Er.posix.basename;Er.extname=jc?Er.win32.extname:Er.posix.extname;Er.format=jc?Er.win32.format:Er.posix.format;Er.parse=jc?Er.win32.parse:Er.posix.parse;Er.toNamespacedPath=jc?Er.win32.toNamespacedPath:Er.posix.toNamespacedPath;Er.sep=jc?Er.win32.sep:Er.posix.sep;Er.delimiter=jc?Er.win32.delimiter:Er.posix.delimiter});var Fbe=V(aI=>{"use strict";d();Object.defineProperty(aI,"__esModule",{value:!0});aI.URI=void 0;aI.isUriComponents=Rlt;aI.uriToFsPath=IQ;var _be=Sbe(),bQ=lee(),Ilt=/^\w[\w\d+.-]*$/,Tlt=/^\//,wlt=/^\/\//;function Slt(e,t){if(!e.scheme&&t)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${e.authority}", path: "${e.path}", query: "${e.query}", fragment: "${e.fragment}"}`);if(e.scheme&&!Ilt.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path){if(e.authority){if(!Tlt.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(wlt.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}o(Slt,"_validateUri");function _lt(e,t){return!e&&!t?"file":e}o(_lt,"_schemeFix");function klt(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==qm&&(t=qm+t):t=qm;break}return t}o(klt,"_referenceResolution");var Bo="",qm="/",Blt=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,vQ=class e{static{o(this,"URI")}static isUri(t){return t instanceof e?!0:t?typeof t.authority=="string"&&typeof t.fragment=="string"&&typeof t.path=="string"&&typeof t.query=="string"&&typeof t.scheme=="string"&&typeof t.fsPath=="string"&&typeof t.with=="function"&&typeof t.toString=="function":!1}scheme;authority;path;query;fragment;constructor(t,r,n,i,s,a=!1){typeof t=="object"?(this.scheme=t.scheme||Bo,this.authority=t.authority||Bo,this.path=t.path||Bo,this.query=t.query||Bo,this.fragment=t.fragment||Bo):(this.scheme=_lt(t,a),this.authority=r||Bo,this.path=klt(this.scheme,n||Bo),this.query=i||Bo,this.fragment=s||Bo,Slt(this,a))}get fsPath(){return IQ(this,!1)}with(t){if(!t)return this;let{scheme:r,authority:n,path:i,query:s,fragment:a}=t;return r===void 0?r=this.scheme:r===null&&(r=Bo),n===void 0?n=this.authority:n===null&&(n=Bo),i===void 0?i=this.path:i===null&&(i=Bo),s===void 0?s=this.query:s===null&&(s=Bo),a===void 0?a=this.fragment:a===null&&(a=Bo),r===this.scheme&&n===this.authority&&i===this.path&&s===this.query&&a===this.fragment?this:new $5(r,n,i,s,a)}static parse(t,r=!1){let n=Blt.exec(t);return n?new $5(n[2]||Bo,EQ(n[4]||Bo),EQ(n[5]||Bo),EQ(n[7]||Bo),EQ(n[9]||Bo),r):new $5(Bo,Bo,Bo,Bo,Bo)}static file(t){let r=Bo;if(bQ.isWindows&&(t=t.replace(/\\/g,qm)),t[0]===qm&&t[1]===qm){let n=t.indexOf(qm,2);n===-1?(r=t.substring(2),t=qm):(r=t.substring(2,n),t=t.substring(n)||qm)}return new $5("file",r,t,Bo,Bo)}static from(t,r){return new $5(t.scheme,t.authority,t.path,t.query,t.fragment,r)}static joinPath(t,...r){if(!t.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let n;return bQ.isWindows&&t.scheme==="file"?n=e.file(_be.win32.join(IQ(t,!0),...r)).path:n=_be.posix.join(t.path,...r),t.with({path:n})}toString(t=!1){return fee(this,t)}toJSON(){return this}static revive(t){if(t){if(t instanceof e)return t;{let r=new $5(t);return r._formatted=t.external??null,r._fsPath=t._sep===Rbe?t.fsPath??null:null,r}}else return t}};aI.URI=vQ;function Rlt(e){return!e||typeof e!="object"?!1:typeof e.scheme=="string"&&(typeof e.authority=="string"||typeof e.authority>"u")&&(typeof e.path=="string"||typeof e.path>"u")&&(typeof e.query=="string"||typeof e.query>"u")&&(typeof e.fragment=="string"||typeof e.fragment>"u")}o(Rlt,"isUriComponents");var Rbe=bQ.isWindows?1:void 0,$5=class extends vQ{static{o(this,"Uri")}_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=IQ(this,!1)),this._fsPath}toString(t=!1){return t?fee(this,!0):(this._formatted||(this._formatted=fee(this,!1)),this._formatted)}toJSON(){let t={$mid:1};return this._fsPath&&(t.fsPath=this._fsPath,t._sep=Rbe),this._formatted&&(t.external=this._formatted),this.path&&(t.path=this.path),this.scheme&&(t.scheme=this.scheme),this.authority&&(t.authority=this.authority),this.query&&(t.query=this.query),this.fragment&&(t.fragment=this.fragment),t}},Dbe={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function kbe(e,t,r){let n,i=-1;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);if(a>=97&&a<=122||a>=65&&a<=90||a>=48&&a<=57||a===45||a===46||a===95||a===126||t&&a===47||r&&a===91||r&&a===93||r&&a===58)i!==-1&&(n+=encodeURIComponent(e.substring(i,s)),i=-1),n!==void 0&&(n+=e.charAt(s));else{n===void 0&&(n=e.substr(0,s));let l=Dbe[a];l!==void 0?(i!==-1&&(n+=encodeURIComponent(e.substring(i,s)),i=-1),n+=l):i===-1&&(i=s)}}return i!==-1&&(n+=encodeURIComponent(e.substring(i))),n!==void 0?n:e}o(kbe,"encodeURIComponentFast");function Dlt(e){let t;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n===35||n===63?(t===void 0&&(t=e.substr(0,r)),t+=Dbe[n]):t!==void 0&&(t+=e[r])}return t!==void 0?t:e}o(Dlt,"encodeURIComponentMinimal");function IQ(e,t){let r;return e.authority&&e.path.length>1&&e.scheme==="file"?r=`//${e.authority}${e.path}`:e.path.charCodeAt(0)===47&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&e.path.charCodeAt(2)===58?t?r=e.path.substr(1):r=e.path[1].toLowerCase()+e.path.substr(2):r=e.path,bQ.isWindows&&(r=r.replace(/\//g,"\\")),r}o(IQ,"uriToFsPath");function fee(e,t){let r=t?Dlt:kbe,n="",{scheme:i,authority:s,path:a,query:l,fragment:c}=e;if(i&&(n+=i,n+=":"),(s||i==="file")&&(n+=qm,n+=qm),s){let u=s.indexOf("@");if(u!==-1){let f=s.substr(0,u);s=s.substr(u+1),u=f.lastIndexOf(":"),u===-1?n+=r(f,!1,!1):(n+=r(f.substr(0,u),!1,!1),n+=":",n+=r(f.substr(u+1),!1,!0)),n+="@"}s=s.toLowerCase(),u=s.lastIndexOf(":"),u===-1?n+=r(s,!1,!0):(n+=r(s.substr(0,u),!1,!0),n+=s.substr(u))}if(a){if(a.length>=3&&a.charCodeAt(0)===47&&a.charCodeAt(2)===58){let u=a.charCodeAt(1);u>=65&&u<=90&&(a=`/${String.fromCharCode(u+32)}:${a.substr(3)}`)}else if(a.length>=2&&a.charCodeAt(1)===58){let u=a.charCodeAt(0);u>=65&&u<=90&&(a=`${String.fromCharCode(u+32)}:${a.substr(2)}`)}n+=r(a,!0,!1)}return l&&(n+="?",n+=r(l,!1,!1)),c&&(n+="#",n+=t?c:kbe(c,!1,!1)),n}o(fee,"_asFormatted");function Pbe(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substr(0,3)+Pbe(e.substr(3)):e}}o(Pbe,"decodeURIComponentGraceful");var Bbe=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function EQ(e){return e.match(Bbe)?e.replace(Bbe,t=>Pbe(t)):e}o(EQ,"percentDecode")});var hee=V(z5=>{"use strict";d();Object.defineProperty(z5,"__esModule",{value:!0});z5.PromptReference=z5.ChatResponseReferencePartStatusKind=z5.PromptMetadata=void 0;var Tw=Fbe(),dee=class{static{o(this,"PromptMetadata")}_marker;toString(){return Object.getPrototypeOf(this).constructor.name}};z5.PromptMetadata=dee;var Nbe;(function(e){e[e.Complete=1]="Complete",e[e.Partial=2]="Partial",e[e.Omitted=3]="Omitted"})(Nbe||(z5.ChatResponseReferencePartStatusKind=Nbe={}));var mee=class e{static{o(this,"PromptReference")}anchor;iconPath;options;static fromJSON(t){let r=o(n=>"scheme"in n?Tw.URI.from(n):{uri:Tw.URI.from(n.uri),range:n.range},"uriOrLocation");return new e("variableName"in t.anchor?{variableName:t.anchor.variableName,value:t.anchor.value&&r(t.anchor.value)}:r(t.anchor),t.iconPath&&("scheme"in t.iconPath?Tw.URI.from(t.iconPath):"light"in t.iconPath?{light:Tw.URI.from(t.iconPath.light),dark:Tw.URI.from(t.iconPath.dark)}:t.iconPath),t.options)}constructor(t,r,n){this.anchor=t,this.iconPath=r,this.options=n}toJSON(){return{anchor:this.anchor,iconPath:this.iconPath,options:this.options}}};z5.PromptReference=mee});var bee=V(lI=>{"use strict";d();Object.defineProperty(lI,"__esModule",{value:!0});lI.PromptRenderer=lI.MetadataMap=void 0;var TQ=VZ(),$l=iee(),Eee=hee(),Lbe;(function(e){e.empty={get:o(()=>{},"get"),getAll:o(()=>[],"getAll")}})(Lbe||(lI.MetadataMap=Lbe={}));var pee=class{static{o(this,"PromptRenderer")}_endpoint;_ctor;_props;_tokenizer;_usedContext=[];_ignoredFiles=[];_growables=[];_root=new SQ(null,0);_tokenLimits=[];tracer=void 0;constructor(t,r,n,i){this._endpoint=t,this._ctor=r,this._props=n,this._tokenizer=i}getIgnoredFiles(){return Array.from(new Set(this._ignoredFiles))}getUsedContext(){return this._usedContext}createElement(t){return new t.ctor(t.props)}async _processPromptPieces(t,r,n,i){let s=new Map;for(let[c,u]of r.entries()){if(Array.isArray(u.children)&&(u.props=u.props??{},u.props.children=u.children),!u.ctor)throw new Error("Invalid ChatMessage child! Child must be a TSX component that extends PromptElement.");let f=this.createElement(u),m;f instanceof $l.TokenLimit&&(m=u.props.max,this._tokenLimits.push({limit:m,id:u.node.id})),u.node.setObj(f);let h=u.props.flexGrow??1/0,p=s.get(h);p||(p=[],s.set(h,p)),p.push({element:u,promptElementInstance:f,tokenLimit:m})}if(s.size===0)return;let a=[...s.entries()].sort(([c],[u])=>u-c).map(([c,u])=>u),l=o(c=>{let u=0;for(let f=c+1;f<a.length;f++)for(let{element:m}of a[f]){if(!m.props.flexReserve)continue;let h=typeof m.props.flexReserve=="string"?Math.floor(t.remainingTokenBudget/Number(m.props.flexReserve.slice(1))):m.props.flexReserve;u+=h}return t.consume(u),u},"setReserved");for(let[c,u]of a.entries()){let f=l(c),m=0;for(let{element:E}of u)m+=E.props.flexBasis??1;let h=0,p=u.map(E=>{if(E.tokenLimit===void 0)return!1;let v=E.element.props.flexBasis??1,b=v/m;return Math.floor(t.remainingTokenBudget*b)<E.tokenLimit?!1:(m-=v,h+=E.tokenLimit,!0)}),A=u.map((E,v)=>{let b=(E.element.props.flexBasis??1)/m;return{tokenBudget:p[v]?E.tokenLimit:Math.floor((t.remainingTokenBudget-h)*b),endpoint:t.endpoint,countTokens:o((S,B)=>this._tokenizer.tokenLength(S,B),"countTokens")}});t.consume(-f),this.tracer?.addRenderEpoch?.({inNode:u[0].element.node.parent?.id,flexValue:u[0].element.props.flexGrow??0,tokenBudget:t.remainingTokenBudget,reservedTokens:f,elements:u.map((E,v)=>({id:E.element.node.id,tokenBudget:A[v].tokenBudget}))}),await Promise.all(u.map(async({element:E,promptElementInstance:v},b)=>{let S=await v.prepare?.(A[b],n,i);E.node.setState(S)}));let x=await Promise.all(u.map(async({element:E,promptElementInstance:v},b)=>{let S=A[b];return await v.render(E.node.getState(),S,n,i)}));for(let[E,{element:v,promptElementInstance:b}]of u.entries()){let S=A[E],B=x[E];if(!B)continue;let P=await this._processPromptRenderPiece(new x4(S.tokenBudget,this._endpoint),v,b,B,n,i);b instanceof $l.Expandable&&this._growables.push({initialConsume:P,elem:v.node}),t.consume(P)}}}async _processPromptRenderPiece(t,r,n,i,s,a){let l=Qbe(i),c=new x4(t.tokenBudget,this._endpoint),{tokensConsumed:u}=await Plt(this._tokenizer,r,n,l);return c.consume(u),await this._handlePromptChildren(r,l,c,s,a),c.consumed}async renderElementJSON(t){return await this._processPromptPieces(new x4(this._endpoint.modelMaxPromptTokens,this._endpoint),[{node:this._root,ctor:this._ctor,props:this._props,children:[]}],void 0,t),{node:this._root.toJSON()}}async render(t,r){await this._processPromptPieces(new x4(this._endpoint.modelMaxPromptTokens,this._endpoint),[{node:this._root,ctor:this._ctor,props:this._props,children:[]}],t,r);let{container:n,allMetadata:i,removed:s}=await this._getFinalElementTree(this._endpoint.modelMaxPromptTokens,r);this.tracer?.didMaterializeTree?.({budget:this._endpoint.modelMaxPromptTokens,renderedTree:{container:n,removed:s,budget:this._endpoint.modelMaxPromptTokens},tokenizer:this._tokenizer,renderTree:o(h=>this._getFinalElementTree(h,void 0).then(p=>({...p,budget:h})),"renderTree")});let a=[...n.toChatMessages()],l=await n.tokenCount(this._tokenizer),c=[...n.allMetadata()],u=new Set,f=c.map(h=>{if(!(h instanceof Bp))return;let p=h.reference,A="variableName"in p.anchor;if(A&&!u.has(p.anchor.variableName))return u.add(p.anchor.variableName),p;if(!A)return p}).filter(Cee),m=i.map(h=>{if(!(h instanceof Bp)||c.includes(h))return;let p=h.reference,A="variableName"in p.anchor;if(A&&!u.has(p.anchor.variableName))return u.add(p.anchor.variableName),p;if(!A)return p}).filter(Cee);return{metadata:{get:o(h=>c.find(p=>p instanceof h),"get"),getAll:o(h=>c.filter(p=>p instanceof h),"getAll")},messages:a,hasIgnoredFiles:this._ignoredFiles.length>0,tokenCount:l,references:f,omittedReferences:m}}async _getFinalElementTree(t,r){let n=this._root.materialize(),i=[...n.allMetadata()],s=[{limit:t,id:this._root.id},...this._tokenLimits],a=0;for(let l=s.length-1;l>=0;l--){let c=s[l];if(c.limit>t)continue;let u=n.findById(c.id);if(!u)continue;let f=await u.tokenCount(this._tokenizer);if(f<c.limit&&!await this._grow(u,f,c.limit,r))continue;let m=await u.tokenCount(this._tokenizer);for(;m>c.limit;){for(;m>c.limit;)for(let h of u.removeLowestPriorityChild()){a++;let p=h.upperBoundTokenCount(this._tokenizer);m-=typeof p=="number"?p:await p}m=await u.tokenCount(this._tokenizer)}}return{container:n,allMetadata:i,removed:a}}async _grow(t,r,n,i){if(!this._growables.length)return!1;for(let s of this._growables){if(!t.findById(s.elem.id))continue;let a=s.elem.getObj();if(!(a instanceof $l.Expandable))throw new Error("unreachable: expected growable");let l=new SQ(null,0,s.elem.id),c=new x4(n-r+s.initialConsume,this._endpoint),u=await this._processPromptRenderPiece(c,{node:l,ctor:this._ctor,props:{},children:[]},a,await a.render(void 0,{tokenBudget:c.tokenBudget,endpoint:this._endpoint,countTokens:o((h,p)=>this._tokenizer.tokenLength(h,p),"countTokens")}),void 0,i),f=l.materialize();if(!t.replaceNode(s.elem.id,f))throw new Error("unreachable: could not find old element to replace");if(r-=s.initialConsume,r+=u,r>=n)break}return!0}_handlePromptChildren(t,r,n,i,s){if(t.ctor===$l.TextChunk){this._handleExtrinsicTextChunkChildren(t.node,t.node,t.props,r);return}let a=[];for(let l of r){if(l.kind==="literal"){t.node.appendStringChild(l.value,t.props.priority??Number.MAX_SAFE_INTEGER);continue}if(l.kind==="intrinsic"){this._handleIntrinsic(t.node,l.name,{priority:t.props.priority??Number.MAX_SAFE_INTEGER,...l.props},wQ(l.children));continue}let c=t.node.createChild();a.push({node:c,ctor:l.ctor,props:l.props,children:l.children})}return this._processPromptPieces(n,a,i,s)}_handleIntrinsic(t,r,n,i,s){switch(r){case"meta":return this._handleIntrinsicMeta(t,n,i);case"br":return this._handleIntrinsicLineBreak(t,n,i,n.priority,s);case"usedContext":return this._handleIntrinsicUsedContext(t,n,i);case"references":return this._handleIntrinsicReferences(t,n,i);case"ignoredFiles":return this._handleIntrinsicIgnoredFiles(t,n,i);case"elementJSON":return this._handleIntrinsicElementJSON(t,n.data)}throw new Error(`Unknown intrinsic element ${r}!`)}_handleIntrinsicMeta(t,r,n){if(n.length>0)throw new Error("<meta /> must not have children!");r.local?t.addMetadata(r.value):this._root.addMetadata(r.value)}_handleIntrinsicLineBreak(t,r,n,i,s){if(n.length>0)throw new Error("<br /> must not have children!");t.appendLineBreak(i??Number.MAX_SAFE_INTEGER,s)}_handleIntrinsicElementJSON(t,r){let n=t.appendPieceJSON(r.node);if(this.tracer?.includeInEpoch)for(let i of n.elements())this.tracer.includeInEpoch({id:i.id,tokenBudget:0})}_handleIntrinsicUsedContext(t,r,n){if(n.length>0)throw new Error("<usedContext /> must not have children!");this._usedContext.push(...r.value)}_handleIntrinsicReferences(t,r,n){if(n.length>0)throw new Error("<reference /> must not have children!");for(let i of r.value)t.addMetadata(new Bp(i))}_handleIntrinsicIgnoredFiles(t,r,n){if(n.length>0)throw new Error("<ignoredFiles /> must not have children!");this._ignoredFiles.push(...r.value)}_handleExtrinsicTextChunkChildren(t,r,n,i){let s=[],a=[];for(let l of i){if(l.kind==="extrinsic")throw new Error("TextChunk cannot have extrinsic children!");if(l.kind==="literal"&&s.push(l.value),l.kind==="intrinsic")if(l.name==="br")s.push(`
`);else if(l.name==="references")for(let c of l.props.value)a.push(new Bp(c));else this._handleIntrinsic(t,l.name,l.props,wQ(l.children),r.childIndex)}t.appendStringChild(s.join(""),n?.priority??Number.MAX_SAFE_INTEGER,a,r.childIndex,!0)}};lI.PromptRenderer=pee;async function Plt(e,t,r,n){let i=0;(0,$l.isChatMessagePromptElement)(r)&&(i+=await e.countMessageTokens({role:t.props.role,content:"",...t.props.name?{name:t.props.name}:void 0,...t.props.toolCalls?{tool_calls:t.props.toolCalls}:void 0,...t.props.toolCallId?{tool_call_id:t.props.toolCallId}:void 0}));for(let s of n)s.kind==="literal"&&(i+=await e.tokenLength(s.value));return{tokensConsumed:i}}o(Plt,"computeTokensConsumedByLiterals");function Qbe(e,t=[]){return typeof e>"u"||typeof e=="boolean"?[]:(typeof e=="string"||typeof e=="number"?t.push(new yee(String(e))):Flt(e)?wQ(e.children,t):Nlt(e)?wQ(e,t):typeof e.ctor=="string"?t.push(new gee(e.ctor,e.props,e.children)):t.push(new Aee(e.ctor,e.props,e.children)),t)}o(Qbe,"flattenAndReduce");function wQ(e,t=[]){for(let r of e)Qbe(r,t);return t}o(wQ,"flattenAndReduceArr");var gee=class{static{o(this,"IntrinsicPromptPiece")}name;props;children;kind="intrinsic";constructor(t,r,n){this.name=t,this.props=r,this.children=n}},Aee=class{static{o(this,"ExtrinsicPromptPiece")}ctor;props;children;kind="extrinsic";constructor(t,r,n){this.ctor=t,this.props=r,this.children=n}},yee=class{static{o(this,"LiteralPromptPiece")}value;priority;kind="literal";constructor(t,r){this.value=t,this.priority=r}},x4=class{static{o(this,"PromptSizingContext")}tokenBudget;endpoint;_consumed=0;constructor(t,r){this.tokenBudget=t,this.endpoint=r}get consumed(){return this._consumed>this.tokenBudget?this.tokenBudget:this._consumed}get remainingTokenBudget(){return Math.max(0,this.tokenBudget-this._consumed)}consume(t){this._consumed+=t}},SQ=class e{static{o(this,"PromptTreeElement")}parent;childIndex;id;static _nextId=0;static fromJSON(t,r){let n=new e(null,t);switch(n._metadata=r.references?.map(i=>new Bp(Eee.PromptReference.fromJSON(i)))??[],n._children=r.children.map((i,s)=>{switch(i.type){case 1:return e.fromJSON(s,i);case 2:return ww.fromJSON(n,s,i);default:}}).filter(Cee),r.ctor){case 1:n._obj=new $l.BaseChatMessage(r.props);break;case 2:break;case 3:n._obj=new $l.BaseImageMessage(r.props);break;default:}return n}kind=1;_obj=null;_state=void 0;_children=[];_metadata=[];constructor(t=null,r,n=e._nextId++){this.parent=t,this.childIndex=r,this.id=n}setObj(t){this._obj=t}getObj(){return this._obj}setState(t){this._state=t}getState(){return this._state}createChild(){let t=new e(this,this._children.length);return this._children.push(t),t}appendPieceJSON(t){let r=e.fromJSON(this._children.length,t);return this._children.push(r),r}appendStringChild(t,r,n,i=this._children.length,s=!1){this._children.push(new ww(this,i,t,r,n,s))}appendLineBreak(t,r=this._children.length){this._children.push(new ww(this,r,`
`,t))}toJSON(){let t={type:1,ctor:2,children:this._children.slice().sort((r,n)=>r.childIndex-n.childIndex).map(r=>r.toJSON()),priority:this._obj?.props.priority,references:this._metadata.filter(r=>r instanceof Bp).map(r=>r.reference.toJSON())};if(this._obj instanceof $l.BaseChatMessage)t.ctor=1,t.props={role:this._obj.props.role,name:this._obj.props.name,priority:this._obj.props.priority,toolCalls:this._obj.props.toolCalls,toolCallId:this._obj.props.toolCallId};else if(this._obj instanceof $l.BaseImageMessage)return{...t,ctor:3,props:{src:this._obj.props.src,detail:this._obj.props.detail}};return t}materialize(t){if(this._children.sort((r,n)=>r.childIndex-n.childIndex),this._obj instanceof $l.BaseImageMessage)return new TQ.MaterializedChatMessageImage(t,1,this._obj.props.src,this._obj.props.priority??Number.MAX_SAFE_INTEGER,this._metadata,0,this._obj.props.detail??void 0);if(this._obj instanceof $l.BaseChatMessage){if(!this._obj.props.role)throw new Error("Invalid ChatMessage!");return new TQ.MaterializedChatMessage(t,this.id,this._obj.props.role,this._obj.props.name,this._obj instanceof $l.AssistantMessage?this._obj.props.toolCalls:void 0,this._obj instanceof $l.ToolMessage?this._obj.props.toolCallId:void 0,this._obj.props.priority??Number.MAX_SAFE_INTEGER,this._metadata,r=>this._children.map(n=>n.materialize(r)))}else{let r=0;this._obj instanceof $l.LegacyPrioritization&&(r|=1),this._obj instanceof $l.Chunk&&(r|=2),this._obj instanceof $l.IfEmpty&&(r|=8),this._obj?.props.passPriority&&(r|=4);let n=new TQ.MaterializedContainer(t,this.id,this._obj?.constructor.name,this._obj?.props.priority??(this._obj?.props.passPriority?0:Number.MAX_SAFE_INTEGER),i=>this._children.map(s=>s.materialize(i)),this._metadata,r);return this._obj instanceof $l.AbstractKeepWith&&(n.keepWithId=this._obj.id),n}}addMetadata(t){this._metadata.push(t)}*elements(){yield this;for(let t of this._children)t instanceof e&&(yield*t.elements())}},ww=class e{static{o(this,"PromptText")}parent;childIndex;text;priority;metadata;lineBreakBefore;static fromJSON(t,r,n){return new e(t,r,n.text,n.priority,n.references?.map(i=>new Bp(Eee.PromptReference.fromJSON(i))),n.lineBreakBefore)}kind=2;constructor(t,r,n,i,s,a=!1){this.parent=t,this.childIndex=r,this.text=n,this.priority=i,this.metadata=s,this.lineBreakBefore=a}collectLeafs(t){t.push(this)}materialize(t){let r=this.lineBreakBefore?1:this.childIndex===0?2:0;return new TQ.MaterializedChatMessageTextChunk(t,this.text,this.priority??Number.MAX_SAFE_INTEGER,this.metadata||[],r)}toJSON(){return{type:2,priority:this.priority,text:this.text,references:this.metadata?.filter(t=>t instanceof Bp).map(t=>t.reference.toJSON()),lineBreakBefore:this.lineBreakBefore}}};function Flt(e){return(typeof e.ctor=="function"&&e.ctor.isFragment)??!1}o(Flt,"isFragmentCtor");function Cee(e){return e!==void 0}o(Cee,"isDefined");var xee=class extends Eee.PromptMetadata{static{o(this,"InternalMetadata")}},Bp=class extends xee{static{o(this,"ReferenceMetadata")}reference;constructor(t){super(),this.reference=t}};function Nlt(e){return!!e&&typeof e[Symbol.iterator]=="function"}o(Nlt,"isIterable")});var Mbe=V(_Q=>{"use strict";d();Object.defineProperty(_Q,"__esModule",{value:!0});_Q.AnyTokenizer=void 0;var Sw=nI(),vee=class{static{o(this,"AnyTokenizer")}countTokens;constructor(t,r){if(this.countTokens=t,r!=="vscode")throw new Error("`mode` must be set to vscode when using vscode.LanguageModelChat as the tokenizer")}async tokenLength(t,r){return this.countTokens(t,r)}async countMessageTokens(t){let r=await Promise.resolve().then(()=>require("vscode"));return this.countTokens({role:this.toChatRole(t.role),content:[new r.LanguageModelTextPart(this.extractText(t))],name:"name"in t?t.name:void 0})}extractText(t){return t.content instanceof Array?t.content.map(r=>"text"in r?r.text:"").join(""):t.content}toChatRole(t){switch(t){case Sw.ChatRole.User:return 1;case Sw.ChatRole.Assistant:return 2;case Sw.ChatRole.System:return 1;case Sw.ChatRole.Function:return 1;case Sw.ChatRole.Tool:return 1}}};_Q.AnyTokenizer=vee});var Obe=V(cI=>{"use strict";d();Object.defineProperty(cI,"__esModule",{value:!0});cI.tracerCss=cI.tracerSrc=void 0;cI.tracerSrc='"use strict";(()=>{var $,m,se,Ue,w,re,le,q,X,G,K,Ae,D={},ce=[],Re=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,J=Array.isArray;function E(t,e){for(var n in e)t[n]=e[n];return t}function ue(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function l(t,e,n){var o,r,_,c={};for(_ in e)_=="key"?o=e[_]:_=="ref"?r=e[_]:c[_]=e[_];if(arguments.length>2&&(c.children=arguments.length>3?$.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(_ in t.defaultProps)c[_]===void 0&&(c[_]=t.defaultProps[_]);return R(t,c,o,r,null)}function R(t,e,n,o,r){var _={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r??++se,__i:-1,__u:0};return r==null&&m.vnode!=null&&m.vnode(_),_}function N(t){return t.children}function B(t,e){this.props=t,this.context=e}function I(t,e){if(e==null)return t.__?I(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?I(t):null}function de(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return de(t)}}function ie(t){(!t.__d&&(t.__d=!0)&&w.push(t)&&!O.__r++||re!==m.debounceRendering)&&((re=m.debounceRendering)||le)(O)}function O(){var t,e,n,o,r,_,c,a;for(w.sort(q);t=w.shift();)t.__d&&(e=w.length,o=void 0,_=(r=(n=t).__v).__e,c=[],a=[],n.__P&&((o=E({},r)).__v=r.__v+1,m.vnode&&m.vnode(o),Q(n.__P,o,r,n.__n,n.__P.namespaceURI,32&r.__u?[_]:null,c,_??I(r),!!(32&r.__u),a),o.__v=r.__v,o.__.__k[o.__i]=o,me(c,o,a),o.__e!=_&&de(o)),w.length>e&&w.sort(q));O.__r=0}function pe(t,e,n,o,r,_,c,a,u,s,p){var i,f,d,b,x,C=o&&o.__k||ce,h=e.length;for(n.__d=u,Be(n,e,C),u=n.__d,i=0;i<h;i++)(d=n.__k[i])!=null&&(f=d.__i===-1?D:C[d.__i]||D,d.__i=i,Q(t,d,f,r,_,c,a,u,s,p),b=d.__e,d.ref&&f.ref!=d.ref&&(f.ref&&Y(f.ref,null,d),p.push(d.ref,d.__c||b,d)),x==null&&b!=null&&(x=b),65536&d.__u||f.__k===d.__k?u=fe(d,u,t):typeof d.type=="function"&&d.__d!==void 0?u=d.__d:b&&(u=b.nextSibling),d.__d=void 0,d.__u&=-196609);n.__d=u,n.__e=x}function Be(t,e,n){var o,r,_,c,a,u=e.length,s=n.length,p=s,i=0;for(t.__k=[],o=0;o<u;o++)(r=e[o])!=null&&typeof r!="boolean"&&typeof r!="function"?(c=o+i,(r=t.__k[o]=typeof r=="string"||typeof r=="number"||typeof r=="bigint"||r.constructor==String?R(null,r,null,null,null):J(r)?R(N,{children:r},null,null,null):r.constructor===void 0&&r.__b>0?R(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r).__=t,r.__b=t.__b+1,_=null,(a=r.__i=Oe(r,n,c,p))!==-1&&(p--,(_=n[a])&&(_.__u|=131072)),_==null||_.__v===null?(a==-1&&i--,typeof r.type!="function"&&(r.__u|=65536)):a!==c&&(a==c-1?i--:a==c+1?i++:(a>c?i--:i++,r.__u|=65536))):r=t.__k[o]=null;if(p)for(o=0;o<s;o++)(_=n[o])!=null&&!(131072&_.__u)&&(_.__e==t.__d&&(t.__d=I(_)),he(_,_))}function fe(t,e,n){var o,r;if(typeof t.type=="function"){for(o=t.__k,r=0;o&&r<o.length;r++)o[r]&&(o[r].__=t,e=fe(o[r],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=I(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function Oe(t,e,n,o){var r=t.key,_=t.type,c=n-1,a=n+1,u=e[n];if(u===null||u&&r==u.key&&_===u.type&&!(131072&u.__u))return n;if(o>(u!=null&&!(131072&u.__u)?1:0))for(;c>=0||a<e.length;){if(c>=0){if((u=e[c])&&!(131072&u.__u)&&r==u.key&&_===u.type)return c;c--}if(a<e.length){if((u=e[a])&&!(131072&u.__u)&&r==u.key&&_===u.type)return a;a++}}return-1}function _e(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Re.test(e)?n:n+"px"}function A(t,e,n,o,r){var _;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(e in o)n&&e in n||_e(t.style,e,"");if(n)for(e in n)o&&n[e]===o[e]||_e(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")_=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+_]=n,n?o?n.u=o.u:(n.u=X,t.addEventListener(e,_?K:G,_)):t.removeEventListener(e,_?K:G,_);else{if(r=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function ae(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=X++;else if(e.t<n.u)return;return n(m.event?m.event(e):e)}}}function Q(t,e,n,o,r,_,c,a,u,s){var p,i,f,d,b,x,C,h,v,H,M,P,F,oe,z,j,k=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(u=!!(32&n.__u),_=[a=e.__e=n.__e]),(p=m.__b)&&p(e);e:if(typeof k=="function")try{if(h=e.props,v="prototype"in k&&k.prototype.render,H=(p=k.contextType)&&o[p.__c],M=p?H?H.props.value:p.__:o,n.__c?C=(i=e.__c=n.__c).__=i.__E:(v?e.__c=i=new k(h,M):(e.__c=i=new B(h,M),i.constructor=k,i.render=We),H&&H.sub(i),i.props=h,i.state||(i.state={}),i.context=M,i.__n=o,f=i.__d=!0,i.__h=[],i._sb=[]),v&&i.__s==null&&(i.__s=i.state),v&&k.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=E({},i.__s)),E(i.__s,k.getDerivedStateFromProps(h,i.__s))),d=i.props,b=i.state,i.__v=e,f)v&&k.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),v&&i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(v&&k.getDerivedStateFromProps==null&&h!==d&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(h,M),!i.__e&&(i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(h,i.__s,M)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(i.props=h,i.state=i.__s,i.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(U){U&&(U.__=e)}),P=0;P<i._sb.length;P++)i.__h.push(i._sb[P]);i._sb=[],i.__h.length&&c.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(h,i.__s,M),v&&i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(d,b,x)})}if(i.context=M,i.props=h,i.__P=t,i.__e=!1,F=m.__r,oe=0,v){for(i.state=i.__s,i.__d=!1,F&&F(e),p=i.render(i.props,i.state,i.context),z=0;z<i._sb.length;z++)i.__h.push(i._sb[z]);i._sb=[]}else do i.__d=!1,F&&F(e),p=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++oe<25);i.state=i.__s,i.getChildContext!=null&&(o=E(E({},o),i.getChildContext())),v&&!f&&i.getSnapshotBeforeUpdate!=null&&(x=i.getSnapshotBeforeUpdate(d,b)),pe(t,J(j=p!=null&&p.type===N&&p.key==null?p.props.children:p)?j:[j],e,n,o,r,_,c,a,u,s),i.base=e.__e,e.__u&=-161,i.__h.length&&c.push(i),C&&(i.__E=i.__=null)}catch(U){if(e.__v=null,u||_!=null){for(e.__u|=u?160:32;a&&a.nodeType===8&&a.nextSibling;)a=a.nextSibling;_[_.indexOf(a)]=null,e.__e=a}else e.__e=n.__e,e.__k=n.__k;m.__e(U,e,n)}else _==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=$e(n.__e,e,n,o,r,_,c,u,s);(p=m.diffed)&&p(e)}function me(t,e,n){e.__d=void 0;for(var o=0;o<n.length;o++)Y(n[o],n[++o],n[++o]);m.__c&&m.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(_){_.call(r)})}catch(_){m.__e(_,r.__v)}})}function $e(t,e,n,o,r,_,c,a,u){var s,p,i,f,d,b,x,C=n.props,h=e.props,v=e.type;if(v==="svg"?r="http://www.w3.org/2000/svg":v==="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),_!=null){for(s=0;s<_.length;s++)if((d=_[s])&&"setAttribute"in d==!!v&&(v?d.localName===v:d.nodeType===3)){t=d,_[s]=null;break}}if(t==null){if(v===null)return document.createTextNode(h);t=document.createElementNS(r,v,h.is&&h),a&&(m.__m&&m.__m(e,_),a=!1),_=null}if(v===null)C===h||a&&t.data===h||(t.data=h);else{if(_=_&&$.call(t.childNodes),C=n.props||D,!a&&_!=null)for(C={},s=0;s<t.attributes.length;s++)C[(d=t.attributes[s]).name]=d.value;for(s in C)if(d=C[s],s!="children"){if(s=="dangerouslySetInnerHTML")i=d;else if(!(s in h)){if(s=="value"&&"defaultValue"in h||s=="checked"&&"defaultChecked"in h)continue;A(t,s,null,d,r)}}for(s in h)d=h[s],s=="children"?f=d:s=="dangerouslySetInnerHTML"?p=d:s=="value"?b=d:s=="checked"?x=d:a&&typeof d!="function"||C[s]===d||A(t,s,d,C[s],r);if(p)a||i&&(p.__html===i.__html||p.__html===t.innerHTML)||(t.innerHTML=p.__html),e.__k=[];else if(i&&(t.innerHTML=""),pe(t,J(f)?f:[f],e,n,o,v==="foreignObject"?"http://www.w3.org/1999/xhtml":r,_,c,_?_[0]:n.__k&&I(n,0),a,u),_!=null)for(s=_.length;s--;)ue(_[s]);a||(s="value",v==="progress"&&b==null?t.removeAttribute("value"):b!==void 0&&(b!==t[s]||v==="progress"&&!b||v==="option"&&b!==C[s])&&A(t,s,b,C[s],r),s="checked",x!==void 0&&x!==t[s]&&A(t,s,x,C[s],r))}return t}function Y(t,e,n){try{if(typeof t=="function"){var o=typeof t.__u=="function";o&&t.__u(),o&&e==null||(t.__u=t(e))}else t.current=e}catch(r){m.__e(r,n)}}function he(t,e,n){var o,r;if(m.unmount&&m.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||Y(o,null,e)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(_){m.__e(_,e)}o.base=o.__P=null}if(o=t.__k)for(r=0;r<o.length;r++)o[r]&&he(o[r],e,n||typeof t.type!="function");n||ue(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function We(t,e,n){return this.constructor(t,n)}function ve(t,e,n){var o,r,_,c;m.__&&m.__(t,e),r=(o=typeof n=="function")?null:n&&n.__k||e.__k,_=[],c=[],Q(e,t=(!o&&n||e).__k=l(N,null,[t]),r||D,D,e.namespaceURI,!o&&n?[n]:r?null:e.firstChild?$.call(e.childNodes):null,_,!o&&n?n:r?r.__e:e.firstChild,o,c),me(_,t,c)}$=ce.slice,m={__e:function(t,e,n,o){for(var r,_,c;e=e.__;)if((r=e.__c)&&!r.__)try{if((_=r.constructor)&&_.getDerivedStateFromError!=null&&(r.setState(_.getDerivedStateFromError(t)),c=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(t,o||{}),c=r.__d),c)return r.__E=r}catch(a){t=a}throw t}},se=0,Ue=function(t){return t!=null&&t.constructor==null},B.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=E({},this.state),typeof t=="function"&&(t=t(E({},n),this.props)),t&&E(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),ie(this))},B.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ie(this))},B.prototype.render=N,w=[],le=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,q=function(t,e){return t.__v.__b-e.__v.__b},O.__r=0,X=0,G=ae(!1),K=ae(!0),Ae=0;var L,g,Z,ge,V=0,Ee=[],y=m,be=y.__b,ye=y.__r,Ce=y.diffed,xe=y.__c,ke=y.unmount,Te=y.__;function te(t,e){y.__h&&y.__h(g,t,V||e),V=0;var n=g.__H||(g.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function S(t){return V=1,Ve(Ne,t)}function Ve(t,e,n){var o=te(L++,2);if(o.t=t,!o.__c&&(o.__=[n?n(e):Ne(void 0,e),function(a){var u=o.__N?o.__N[0]:o.__[0],s=o.t(u,a);u!==s&&(o.__N=[s,o.__[1]],o.__c.setState({}))}],o.__c=g,!g.u)){var r=function(a,u,s){if(!o.__c.__H)return!0;var p=o.__c.__H.__.filter(function(f){return!!f.__c});if(p.every(function(f){return!f.__N}))return!_||_.call(this,a,u,s);var i=!1;return p.forEach(function(f){if(f.__N){var d=f.__[0];f.__=f.__N,f.__N=void 0,d!==f.__[0]&&(i=!0)}}),!(!i&&o.__c.props===a)&&(!_||_.call(this,a,u,s))};g.u=!0;var _=g.shouldComponentUpdate,c=g.componentWillUpdate;g.componentWillUpdate=function(a,u,s){if(this.__e){var p=_;_=void 0,r(a,u,s),_=p}c&&c.call(this,a,u,s)},g.shouldComponentUpdate=r}return o.__N||o.__}function Se(t,e){var n=te(L++,3);!y.__s&&Ie(n.__H,e)&&(n.__=t,n.i=e,g.__H.__h.push(n))}function we(t){return V=5,je(function(){return{current:t}},[])}function je(t,e){var n=te(L++,7);return Ie(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function qe(){for(var t;t=Ee.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(W),t.__H.__h.forEach(ee),t.__H.__h=[]}catch(e){t.__H.__h=[],y.__e(e,t.__v)}}y.__b=function(t){g=null,be&&be(t)},y.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Te&&Te(t,e)},y.__r=function(t){ye&&ye(t),L=0;var e=(g=t.__c).__H;e&&(Z===g?(e.__h=[],g.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(W),e.__h.forEach(ee),e.__h=[],L=0)),Z=g},y.diffed=function(t){Ce&&Ce(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Ee.push(e)!==1&&ge===y.requestAnimationFrame||((ge=y.requestAnimationFrame)||Ge)(qe)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),Z=g=null},y.__c=function(t,e){e.some(function(n){try{n.__h.forEach(W),n.__h=n.__h.filter(function(o){return!o.__||ee(o)})}catch(o){e.some(function(r){r.__h&&(r.__h=[])}),e=[],y.__e(o,n.__v)}}),xe&&xe(t,e)},y.unmount=function(t){ke&&ke(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{W(o)}catch(r){e=r}}),n.__H=void 0,e&&y.__e(e,n.__v))};var Me=typeof requestAnimationFrame=="function";function Ge(t){var e,n=function(){clearTimeout(o),Me&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(n,100);Me&&(e=requestAnimationFrame(n))}function W(t){var e=g,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),g=e}function ee(t){var e=g;t.__c=t.__(),g=e}function Ie(t,e){return!t||t.length!==e.length||e.some(function(n,o){return n!==t[o]})}function Ne(t,e){return typeof e=="function"?e(t):e}function He(t,e){let n=we(void 0),o=(...r)=>{n.current&&clearTimeout(n.current),n.current=window.setTimeout(()=>{t(...r)},e)};return Se(()=>()=>{n.current&&clearTimeout(n.current)},[]),o}var Ke=new Intl.NumberFormat("en-US"),T=({value:t})=>l(N,null,Ke.format(t));var ne=[{bg:"#c1e7ff",fg:"#000"},{bg:"#abd2ec",fg:"#000"},{bg:"#94bed9",fg:"#000"},{bg:"#7faac6",fg:"#000"},{bg:"#6996b3",fg:"#fff"},{bg:"#5383a1",fg:"#fff"},{bg:"#3d708f",fg:"#fff"},{bg:"#255e7e",fg:"#fff"}],Xe=({scoreBy:t,nodes:e,epoch:n})=>{if(e.length===0)return null;let o=t;if(t.field!=="tokens"){let r=e[0][t.field],_=e[0][t.field];for(let c=1;c<e.length;c++)r=Math.max(r,e[c][t.field]),_=Math.max(_,e[c][t.field]);o={field:t.field,max:r,min:_}}return l("div",{className:"node-children"},e.map((r,_)=>r.type===2?l(Je,{scoreBy:o,key:_,node:r}):l(Le,{scoreBy:o,key:_,node:r,epoch:n})))},Fe=({node:t})=>l("div",{className:"node-stats"},"Used Tokens: ",l(T,{value:t.tokens})," / ","Priority:"," ",t.priority===Number.MAX_SAFE_INTEGER?"MAX":l(T,{value:t.priority})),De=({scoreBy:t,node:e,children:n,...o})=>{let r=0;if(t.max!==t.min){let _=(e[t.field]-t.min)/(t.max-t.min);r=Math.round((ne.length-1)*_)}return l("div",{...o,className:`node ${o.className||""}`,style:{backgroundColor:ne[r].bg,color:ne[r].fg}},n)},Je=({scoreBy:t,node:e})=>l(De,{node:e,scoreBy:t,tabIndex:0,className:"node-text"},l(Fe,{node:e}),l("div",{className:"node-content"},e.value)),Le=({scoreBy:t,node:e,epoch:n})=>{let[o,r]=S(!1),_=EPOCHS.findIndex(i=>i.elements.some(f=>f.id===e.id));if(_===void 0)throw new Error(`epoch not found for ${e.id}`);let c=EPOCHS[_],a=EPOCHS.at(n),u=c.elements.find(i=>i.id===e.id).tokenBudget,s=e.type===1?e.name||e.role.slice(0,1).toUpperCase()+e.role.slice(1)+"Message":e.name,p=_===n?"new-in-epoch":n<_?"before-epoch":"";return l(De,{node:e,scoreBy:t,className:p},l(Fe,{node:e}),l("div",{className:"node-content node-toggler",onClick:()=>r(i=>!i)},l("span",null,a?.inNode===e.id?"\\u{1F3C3} ":"",`<${s}>`),l("span",{className:"indicator"},o?"[+]":"[-]")),n===_&&l("div",{className:"node-stats"},"Token Budget: ",l(T,{value:u})),a?.inNode===e.id&&l("div",{className:"node-stats"},"Rendering flexGrow=",a.flexValue,l("br",null),l("br",null),"Splitting"," ",a.reservedTokens?`${a.tokenBudget} - ${a.reservedTokens} (reserved) = `:"",l(T,{value:a.tokenBudget})," tokens among ",a.elements.length," ","elements"),!o&&l(Xe,{nodes:e.children,scoreBy:t,epoch:n}))},Pe=({scoreBy:t,node:e,epoch:n})=>{let o;return t==="tokens"?o={field:"tokens",max:e.tokens,min:0}:o={field:"priority",max:e.priority,min:e.priority},l(Le,{scoreBy:o,node:e,epoch:n})};var ze=({label:t,value:e,onChange:n,min:o,max:r})=>{let _=a=>{n(a.target.valueAsNumber)},c=`number-slider-${Math.random()}`;return l("div",{className:"controls-slider"},l("label",{htmlFor:c},t),l("input",{id:c,type:"range",min:o,max:r,value:e,onInput:_}),l("input",{type:"number",min:o,value:e,onInput:_,onChange:_}))},Qe=({scoreBy:t,onScoreByChange:e})=>{let n=o=>{let r=o.target.value;e(r)};return l("div",{className:"controls-scoreby"},"Visualize by",l("label",null,l("input",{type:"radio",name:"scoreBy",value:"tokens",checked:t==="tokens",onChange:n}),"Tokens"),l("label",null,l("input",{type:"radio",name:"scoreBy",value:"priority",checked:t==="priority",onChange:n}),"Priority"))},Ye=()=>{let[t,e]=S(DEFAULT_TOKENS),[n,o]=S(EPOCHS.length),[r,_]=S(DEFAULT_MODEL),[c,a]=S("tokens"),[u,s]=S("epoch"),p=He(async f=>{if(f===DEFAULT_TOKENS)return DEFAULT_MODEL;let b=await(await fetch(`${SERVER_ADDRESS}regen?n=${f}`)).json();_(b)},100),i=f=>{e(f),p(f),o(EPOCHS.length)};return l("div",{className:"app"},l("div",{className:"controls"},l("div",{className:"tabs"},l("div",{className:`tab ${u==="epoch"?"active":""}`,onClick:()=>s("epoch")},"View Order"),l("div",{className:`tab ${u==="tokens"?"active":""}`,onClick:()=>s("tokens")},"Change Token Budget")),l("div",{className:`tab-content ${u==="epoch"?"active":""}`},l(ze,{label:"Render Epoch",value:n,onChange:o,min:0,max:EPOCHS.length})),l("div",{className:`tab-content ${u==="tokens"?"active":""}`},l(ze,{label:"Token Budget",value:t,onChange:i,min:0,max:DEFAULT_TOKENS*2}))),l("div",{className:"control-description"},u==="tokens"?l("p",null,"Token changes here will prune elements and re-render Expandable ones, but the entire prompt is not being re-rendered"):l("p",null,"Changing the render epoch lets you see the order in which elements are rendered and how the token budget is allocated."),l("div",{className:"controls-stats"},l("span",null,"Used ",l(T,{value:r.container.tokens}),"/",l(T,{value:r.budget})," tokens"),l("span",null,"Removed ",l(T,{value:r.removed})," nodes"),l(Qe,{scoreBy:c,onScoreByChange:a}))),l(Pe,{node:r.container,scoreBy:c,epoch:n}))};ve(l(Ye,null),document.body);})();\n';cI.tracerCss=`body{font-family:-apple-system,BlinkMacSystemFont,Segoe WPC,Segoe UI,system-ui,Ubuntu,Droid Sans,sans-serif;background:#fff;margin:0}.render-pass{border-left:2px solid #ccc;&:hover{border-left-color:#000}}.literals li{white-space:pre;font-family:SF Mono,Monaco,Menlo,Consolas,Ubuntu Mono,Liberation Mono,DejaVu Sans Mono,Courier New,monospace}.render-flex,.render-element{padding-left:10px}.node{border:1px solid rgba(255,255,255,.5);margin:3px 10px;padding:3px 10px;border-radius:4px;width:fit-content;&.new-in-epoch{box-shadow:0 0 3px 2px red}&.before-epoch{pointer-events:none;filter:grayscale(1);color:#777!important;.node{color:#777!important}}&:last-child{margin-bottom:0}}.node-content{font-weight:700}.node-children{margin-left:20px;border-left:2px dashed rgba(255,255,255,.5);padding-left:10px}.node-toggler{cursor:pointer;display:flex;align-items:center;justify-content:space-between;.indicator{font-size:.7em}}.node-text{width:400px;&:focus,&:focus-within{outline:1px solid orange;.node-content{white-space:normal}}.node-content{font-weight:400;font-size:.8em;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}}.node-stats{font-family:SF Mono,Monaco,Menlo,Consolas,Ubuntu Mono,Liberation Mono,DejaVu Sans Mono,Courier New,monospace;font-size:.8em}.control-description{padding:10px;p{font-size:.9em;max-width:500px;margin-top:0}}.controls{display:flex;flex-direction:column;gap:10px;position:sticky;top:0;padding:10px;background:#fff;border-bottom:1px solid #ccc;z-index:1}.controls-slider{display:flex;align-items:center;gap:10px}.controls-stats{display:flex;gap:20px;list-style:none;padding:0;margin-top:0}.controls-scoreby{display:flex;gap:10px}.tabs{display:flex;border-bottom:1px solid #ccc;margin-bottom:10px}.tab{padding:10px;cursor:pointer;border:1px solid transparent;border-bottom:none}.tab.active{border-color:#ccc;border-bottom:1px solid #fff;background-color:#f9f9f9}.tab-content{display:none}.tab-content.active{display:block}
`});var Hbe=V(BQ=>{"use strict";d();Object.defineProperty(BQ,"__esModule",{value:!0});BQ.HTMLTracer=void 0;var Ube=Obe(),_w=VZ(),Iee=class{static{o(this,"HTMLTracer")}traceData;epochs=[];addRenderEpoch(t){this.epochs.push(t)}includeInEpoch(t){this.epochs[this.epochs.length-1].elements.push(t)}didMaterializeTree(t){this.traceData=t}async serveHTML(){return Tee.create({epochs:this.epochs,traceData:Wbe(this.traceData)})}serveRouter(t){return new kQ({baseAddress:t,epochs:this.epochs,traceData:Wbe(this.traceData)})}};BQ.HTMLTracer=Iee;var kQ=class{static{o(this,"RequestRouter")}opts;serverToken=crypto.randomUUID();constructor(t){this.opts=t}route(t,r){let n=t,i=r,s=new URL(n.url||"/","http://localhost"),a=`/${this.serverToken}`;switch(s.pathname){case a:case`${a}/`:this.onRoot(s,n,i);break;case`${a}/regen`:this.onRegen(s,n,i);break;default:return!1}return!0}get address(){return this.opts.baseAddress+"/"+this.serverToken}async getHTML(){let{traceData:t,epochs:r}=this.opts;return`<body>
			<style>${Ube.tracerCss}</style>
			<script>
				const DEFAULT_TOKENS = ${JSON.stringify(t.budget)};
				const EPOCHS = ${JSON.stringify(r)};
				const DEFAULT_MODEL = ${JSON.stringify(await qbe(t.tokenizer,t.renderedTree))};
				const SERVER_ADDRESS = ${JSON.stringify(this.opts.baseAddress+"/"+this.serverToken+"/")};
				${Ube.tracerSrc}
			</script>
		</body>`}async onRegen(t,r,n){let{traceData:i}=this.opts,s=Number(t.searchParams.get("n")||i.budget),a=await i.renderTree(s),l=await qbe(i.tokenizer,a),c=JSON.stringify(l);n.setHeader("Content-Type","application/json"),n.setHeader("Content-Length",Buffer.byteLength(c)),n.end(c)}onRoot(t,r,n){this.getHTML().then(i=>{n.setHeader("Content-Type","text/html"),n.setHeader("Content-Length",Buffer.byteLength(i)),n.end(i)})}},Tee=class e extends kQ{static{o(this,"RequestServer")}server;static async create(t){let{createServer:r}=await Promise.resolve().then(()=>require("http")),n=r((a,l)=>{try{s.route(a,l)||(l.statusCode=404,l.end("Not Found"))}catch(c){l.statusCode=500,l.end(String(c))}}),i=await new Promise((a,l)=>{n.listen(0,"127.0.0.1",()=>a(n.address().port)).on("error",l)}),s=new e({...t,baseAddress:`http://127.0.0.1:${i}`},n);return s}constructor(t,r){super(t),this.server=r}dispose(){this.server.closeAllConnections(),this.server.close()}};async function qbe(e,t){return{container:await Gbe(e,t.container,!1),removed:t.removed,budget:t.budget}}o(qbe,"serializeRenderData");async function Gbe(e,t,r){let n={metadata:t.metadata.map(Qlt),priority:t.priority};if(t instanceof _w.MaterializedChatMessageTextChunk)return{...n,type:2,value:t.text,tokens:await t.upperBoundTokenCount(e)};if(t instanceof _w.MaterializedChatMessageImage)return{...n,name:t.id.toString(),id:t.id,type:3,value:t.src,tokens:await t.upperBoundTokenCount(e)};{let i={...n,id:t.id,name:t.name,children:await Promise.all(t.children.map(s=>Gbe(e,s,r||t instanceof _w.MaterializedChatMessage))),tokens:r?await t.upperBoundTokenCount(e):await t.tokenCount(e)};if(t instanceof _w.MaterializedContainer)return{...i,type:0};if(t instanceof _w.MaterializedChatMessage){let s=t.text.filter(a=>typeof a=="string").join("").trim();return{...i,type:1,role:t.role,text:s}}}Llt(t)}o(Gbe,"serializeMaterialized");function Llt(e){throw new Error("unreachable")}o(Llt,"assertNever");function Qlt(e){return{name:e.constructor.name,value:JSON.stringify(e)}}o(Qlt,"serializeMetadata");var Wbe=o(e=>{if(e===void 0)throw new Error("Prompt must be rendered before calling HTMLTRacer.serveHTML");return e},"mustGet")});var jbe=V(wee=>{"use strict";d();Object.defineProperty(wee,"__esModule",{value:!0});wee.forEachNode=Vbe;function Vbe(e,t){if(t(e),e.type===1)for(let r of e.children)Vbe(r,t)}o(Vbe,"forEachNode")});var zbe=V($be=>{"use strict";d();Object.defineProperty($be,"__esModule",{value:!0})});var Kbe=V(Ybe=>{"use strict";d();Object.defineProperty(Ybe,"__esModule",{value:!0})});var Xbe=V(Jbe=>{"use strict";d();Object.defineProperty(Jbe,"__esModule",{value:!0})});var uI=V(_n=>{"use strict";d();var Mlt=_n&&_n.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),kw=_n&&_n.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Mlt(t,e,r)};Object.defineProperty(_n,"__esModule",{value:!0});_n.contentType=_n.PromptRenderer=_n.MetadataMap=_n.PromptElement=_n.useKeepWith=_n.ToolResult=_n.UserMessage=_n.ToolMessage=_n.TextChunk=_n.SystemMessage=_n.PrioritizedList=_n.LegacyPrioritization=_n.FunctionMessage=_n.Chunk=_n.AssistantMessage=_n.ChatRole=_n.JSONTree=void 0;_n.renderPrompt=Wlt;_n.renderElementJSON=Glt;_n.toVsCodeChatMessages=tve;var RQ=nI(),Zbe=bee(),Olt=Mbe();kw(Hbe(),_n);_n.JSONTree=jbe();var Ult=nI();Object.defineProperty(_n,"ChatRole",{enumerable:!0,get:o(function(){return Ult.ChatRole},"get")});kw(hee(),_n);kw(zbe(),_n);kw(Kbe(),_n);kw(Xbe(),_n);var Wm=iee();Object.defineProperty(_n,"AssistantMessage",{enumerable:!0,get:o(function(){return Wm.AssistantMessage},"get")});Object.defineProperty(_n,"Chunk",{enumerable:!0,get:o(function(){return Wm.Chunk},"get")});Object.defineProperty(_n,"FunctionMessage",{enumerable:!0,get:o(function(){return Wm.FunctionMessage},"get")});Object.defineProperty(_n,"LegacyPrioritization",{enumerable:!0,get:o(function(){return Wm.LegacyPrioritization},"get")});Object.defineProperty(_n,"PrioritizedList",{enumerable:!0,get:o(function(){return Wm.PrioritizedList},"get")});Object.defineProperty(_n,"SystemMessage",{enumerable:!0,get:o(function(){return Wm.SystemMessage},"get")});Object.defineProperty(_n,"TextChunk",{enumerable:!0,get:o(function(){return Wm.TextChunk},"get")});Object.defineProperty(_n,"ToolMessage",{enumerable:!0,get:o(function(){return Wm.ToolMessage},"get")});Object.defineProperty(_n,"UserMessage",{enumerable:!0,get:o(function(){return Wm.UserMessage},"get")});Object.defineProperty(_n,"ToolResult",{enumerable:!0,get:o(function(){return Wm.ToolResult},"get")});Object.defineProperty(_n,"useKeepWith",{enumerable:!0,get:o(function(){return Wm.useKeepWith},"get")});var qlt=$Z();Object.defineProperty(_n,"PromptElement",{enumerable:!0,get:o(function(){return qlt.PromptElement},"get")});var eve=bee();Object.defineProperty(_n,"MetadataMap",{enumerable:!0,get:o(function(){return eve.MetadataMap},"get")});Object.defineProperty(_n,"PromptRenderer",{enumerable:!0,get:o(function(){return eve.PromptRenderer},"get")});async function Wlt(e,t,r,n,i,s,a="vscode"){let l="countTokens"in n?new Olt.AnyTokenizer((x,E)=>n.countTokens(x,E),a):n,c=new Zbe.PromptRenderer(r,e,t,l),u=await c.render(i,s),{tokenCount:f,references:m,metadata:h}=u,p=u.messages,A=c.getUsedContext();return a==="vscode"&&(p=tve(p)),{messages:p,tokenCount:f,metadatas:h,metadata:h,usedContext:A,references:m}}o(Wlt,"renderPrompt");_n.contentType="application/vnd.codechat.prompt+json.1";function Glt(e,t,r,n){return new Zbe.PromptRenderer({modelMaxPromptTokens:r?.tokenBudget??Number.MAX_SAFE_INTEGER},e,t,{countMessageTokens(s){throw new Error("Tools may only return text, not messages.")},tokenLength(s,a){return Promise.resolve(r?.countTokens(s,a)??Promise.resolve(1))}}).renderElementJSON(n)}o(Glt,"renderElementJSON");function tve(e){let t=require("vscode");return e.map(r=>{switch(r.role){case RQ.ChatRole.Assistant:let n=t.LanguageModelChatMessage.Assistant(r.content,r.name);return r.tool_calls&&(n.content=[new t.LanguageModelTextPart(r.content),...r.tool_calls.map(i=>{let s;try{s=JSON.parse(i.function.arguments)}catch{throw new Error("Invalid JSON in tool call arguments for tool call: "+i.id)}return new t.LanguageModelToolCallPart(i.id,i.function.name,s)})]),n;case RQ.ChatRole.User:return t.LanguageModelChatMessage.User(r.content,r.name);case RQ.ChatRole.Function:{let i=t.LanguageModelChatMessage.User("");return i.content=[new t.LanguageModelToolResultPart(r.name,[new t.LanguageModelTextPart(r.content)])],i}case RQ.ChatRole.Tool:{let i=t.LanguageModelChatMessage.User("");return i.content=[new t.LanguageModelToolResultPart(r.tool_call_id,[new t.LanguageModelTextPart(r.content)])],i}default:throw new Error(`Converting chat message with role ${r.role} to VS Code chat message is not supported.`)}})}o(tve,"toVsCodeChatMessages")});var vs=V((CQr,u8e)=>{d();u8e.exports={kClose:Symbol("close"),kDestroy:Symbol("destroy"),kDispatch:Symbol("dispatch"),kUrl:Symbol("url"),kWriting:Symbol("writing"),kResuming:Symbol("resuming"),kQueue:Symbol("queue"),kConnect:Symbol("connect"),kConnecting:Symbol("connecting"),kKeepAliveDefaultTimeout:Symbol("default keep alive timeout"),kKeepAliveMaxTimeout:Symbol("max keep alive timeout"),kKeepAliveTimeoutThreshold:Symbol("keep alive timeout threshold"),kKeepAliveTimeoutValue:Symbol("keep alive timeout"),kKeepAlive:Symbol("keep alive"),kHeadersTimeout:Symbol("headers timeout"),kBodyTimeout:Symbol("body timeout"),kServerName:Symbol("server name"),kLocalAddress:Symbol("local address"),kHost:Symbol("host"),kNoRef:Symbol("no ref"),kBodyUsed:Symbol("used"),kBody:Symbol("abstracted request body"),kRunning:Symbol("running"),kBlocking:Symbol("blocking"),kPending:Symbol("pending"),kSize:Symbol("size"),kBusy:Symbol("busy"),kQueued:Symbol("queued"),kFree:Symbol("free"),kConnected:Symbol("connected"),kClosed:Symbol("closed"),kNeedDrain:Symbol("need drain"),kReset:Symbol("reset"),kDestroyed:Symbol.for("nodejs.stream.destroyed"),kResume:Symbol("resume"),kOnError:Symbol("on error"),kMaxHeadersSize:Symbol("max headers size"),kRunningIdx:Symbol("running index"),kPendingIdx:Symbol("pending index"),kError:Symbol("error"),kClients:Symbol("clients"),kClient:Symbol("client"),kParser:Symbol("parser"),kOnDestroyed:Symbol("destroy callbacks"),kPipelining:Symbol("pipelining"),kSocket:Symbol("socket"),kHostHeader:Symbol("host header"),kConnector:Symbol("connector"),kStrictContentLength:Symbol("strict content length"),kMaxRedirections:Symbol("maxRedirections"),kMaxRequests:Symbol("maxRequestsPerClient"),kProxy:Symbol("proxy agent options"),kCounter:Symbol("socket request counter"),kInterceptors:Symbol("dispatch interceptors"),kMaxResponseSize:Symbol("max response size"),kHTTP2Session:Symbol("http2Session"),kHTTP2SessionState:Symbol("http2Session state"),kRetryHandlerDefaultRetry:Symbol("retry agent default retry"),kConstruct:Symbol("constructable"),kListeners:Symbol("listeners"),kHTTPContext:Symbol("http context"),kMaxConcurrentStreams:Symbol("max concurrent streams"),kNoProxyAgent:Symbol("no proxy agent"),kHttpProxyAgent:Symbol("http proxy agent"),kHttpsProxyAgent:Symbol("https proxy agent")}});var so=V((EQr,f8e)=>{"use strict";d();var Fs=class extends Error{static{o(this,"UndiciError")}constructor(t){super(t),this.name="UndiciError",this.code="UND_ERR"}},Qte=class extends Fs{static{o(this,"ConnectTimeoutError")}constructor(t){super(t),this.name="ConnectTimeoutError",this.message=t||"Connect Timeout Error",this.code="UND_ERR_CONNECT_TIMEOUT"}},Mte=class extends Fs{static{o(this,"HeadersTimeoutError")}constructor(t){super(t),this.name="HeadersTimeoutError",this.message=t||"Headers Timeout Error",this.code="UND_ERR_HEADERS_TIMEOUT"}},Ote=class extends Fs{static{o(this,"HeadersOverflowError")}constructor(t){super(t),this.name="HeadersOverflowError",this.message=t||"Headers Overflow Error",this.code="UND_ERR_HEADERS_OVERFLOW"}},Ute=class extends Fs{static{o(this,"BodyTimeoutError")}constructor(t){super(t),this.name="BodyTimeoutError",this.message=t||"Body Timeout Error",this.code="UND_ERR_BODY_TIMEOUT"}},qte=class extends Fs{static{o(this,"ResponseStatusCodeError")}constructor(t,r,n,i){super(t),this.name="ResponseStatusCodeError",this.message=t||"Response Status Code Error",this.code="UND_ERR_RESPONSE_STATUS_CODE",this.body=i,this.status=r,this.statusCode=r,this.headers=n}},Wte=class extends Fs{static{o(this,"InvalidArgumentError")}constructor(t){super(t),this.name="InvalidArgumentError",this.message=t||"Invalid Argument Error",this.code="UND_ERR_INVALID_ARG"}},Gte=class extends Fs{static{o(this,"InvalidReturnValueError")}constructor(t){super(t),this.name="InvalidReturnValueError",this.message=t||"Invalid Return Value Error",this.code="UND_ERR_INVALID_RETURN_VALUE"}},WM=class extends Fs{static{o(this,"AbortError")}constructor(t){super(t),this.name="AbortError",this.message=t||"The operation was aborted"}},Hte=class extends WM{static{o(this,"RequestAbortedError")}constructor(t){super(t),this.name="AbortError",this.message=t||"Request aborted",this.code="UND_ERR_ABORTED"}},Vte=class extends Fs{static{o(this,"InformationalError")}constructor(t){super(t),this.name="InformationalError",this.message=t||"Request information",this.code="UND_ERR_INFO"}},jte=class extends Fs{static{o(this,"RequestContentLengthMismatchError")}constructor(t){super(t),this.name="RequestContentLengthMismatchError",this.message=t||"Request body length does not match content-length header",this.code="UND_ERR_REQ_CONTENT_LENGTH_MISMATCH"}},$te=class extends Fs{static{o(this,"ResponseContentLengthMismatchError")}constructor(t){super(t),this.name="ResponseContentLengthMismatchError",this.message=t||"Response body length does not match content-length header",this.code="UND_ERR_RES_CONTENT_LENGTH_MISMATCH"}},zte=class extends Fs{static{o(this,"ClientDestroyedError")}constructor(t){super(t),this.name="ClientDestroyedError",this.message=t||"The client is destroyed",this.code="UND_ERR_DESTROYED"}},Yte=class extends Fs{static{o(this,"ClientClosedError")}constructor(t){super(t),this.name="ClientClosedError",this.message=t||"The client is closed",this.code="UND_ERR_CLOSED"}},Kte=class extends Fs{static{o(this,"SocketError")}constructor(t,r){super(t),this.name="SocketError",this.message=t||"Socket error",this.code="UND_ERR_SOCKET",this.socket=r}},Jte=class extends Fs{static{o(this,"NotSupportedError")}constructor(t){super(t),this.name="NotSupportedError",this.message=t||"Not supported error",this.code="UND_ERR_NOT_SUPPORTED"}},Xte=class extends Fs{static{o(this,"BalancedPoolMissingUpstreamError")}constructor(t){super(t),this.name="MissingUpstreamError",this.message=t||"No upstream has been added to the BalancedPool",this.code="UND_ERR_BPL_MISSING_UPSTREAM"}},Zte=class extends Error{static{o(this,"HTTPParserError")}constructor(t,r,n){super(t),this.name="HTTPParserError",this.code=r?`HPE_${r}`:void 0,this.data=n?n.toString():void 0}},ere=class extends Fs{static{o(this,"ResponseExceededMaxSizeError")}constructor(t){super(t),this.name="ResponseExceededMaxSizeError",this.message=t||"Response content exceeded max size",this.code="UND_ERR_RES_EXCEEDED_MAX_SIZE"}},tre=class extends Fs{static{o(this,"RequestRetryError")}constructor(t,r,{headers:n,data:i}){super(t),this.name="RequestRetryError",this.message=t||"Request retry error",this.code="UND_ERR_REQ_RETRY",this.statusCode=r,this.data=i,this.headers=n}},rre=class extends Fs{static{o(this,"ResponseError")}constructor(t,r,{headers:n,data:i}){super(t),this.name="ResponseError",this.message=t||"Response error",this.code="UND_ERR_RESPONSE",this.statusCode=r,this.data=i,this.headers=n}},nre=class extends Fs{static{o(this,"SecureProxyConnectionError")}constructor(t,r,n){super(r,{cause:t,...n??{}}),this.name="SecureProxyConnectionError",this.message=r||"Secure Proxy Connection failed",this.code="UND_ERR_PRX_TLS",this.cause=t}};f8e.exports={AbortError:WM,HTTPParserError:Zte,UndiciError:Fs,HeadersTimeoutError:Mte,HeadersOverflowError:Ote,BodyTimeoutError:Ute,RequestContentLengthMismatchError:jte,ConnectTimeoutError:Qte,ResponseStatusCodeError:qte,InvalidArgumentError:Wte,InvalidReturnValueError:Gte,RequestAbortedError:Hte,ClientDestroyedError:zte,ClientClosedError:Yte,InformationalError:Vte,SocketError:Kte,NotSupportedError:Jte,ResponseContentLengthMismatchError:$te,BalancedPoolMissingUpstreamError:Xte,ResponseExceededMaxSizeError:ere,RequestRetryError:tre,ResponseError:rre,SecureProxyConnectionError:nre}});var HM=V((IQr,d8e)=>{"use strict";d();var GM={},ire=["Accept","Accept-Encoding","Accept-Language","Accept-Ranges","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Age","Allow","Alt-Svc","Alt-Used","Authorization","Cache-Control","Clear-Site-Data","Connection","Content-Disposition","Content-Encoding","Content-Language","Content-Length","Content-Location","Content-Range","Content-Security-Policy","Content-Security-Policy-Report-Only","Content-Type","Cookie","Cross-Origin-Embedder-Policy","Cross-Origin-Opener-Policy","Cross-Origin-Resource-Policy","Date","Device-Memory","Downlink","ECT","ETag","Expect","Expect-CT","Expires","Forwarded","From","Host","If-Match","If-Modified-Since","If-None-Match","If-Range","If-Unmodified-Since","Keep-Alive","Last-Modified","Link","Location","Max-Forwards","Origin","Permissions-Policy","Pragma","Proxy-Authenticate","Proxy-Authorization","RTT","Range","Referer","Referrer-Policy","Refresh","Retry-After","Sec-WebSocket-Accept","Sec-WebSocket-Extensions","Sec-WebSocket-Key","Sec-WebSocket-Protocol","Sec-WebSocket-Version","Server","Server-Timing","Service-Worker-Allowed","Service-Worker-Navigation-Preload","Set-Cookie","SourceMap","Strict-Transport-Security","Supports-Loading-Mode","TE","Timing-Allow-Origin","Trailer","Transfer-Encoding","Upgrade","Upgrade-Insecure-Requests","User-Agent","Vary","Via","WWW-Authenticate","X-Content-Type-Options","X-DNS-Prefetch-Control","X-Frame-Options","X-Permitted-Cross-Domain-Policies","X-Powered-By","X-Requested-With","X-XSS-Protection"];for(let e=0;e<ire.length;++e){let t=ire[e],r=t.toLowerCase();GM[t]=GM[r]=r}Object.setPrototypeOf(GM,null);d8e.exports={wellknownHeaderNames:ire,headerNameLowerCasedRecord:GM}});var g8e=V((wQr,p8e)=>{"use strict";d();var{wellknownHeaderNames:m8e,headerNameLowerCasedRecord:Eut}=HM(),ore=class e{static{o(this,"TstNode")}value=null;left=null;middle=null;right=null;code;constructor(t,r,n){if(n===void 0||n>=t.length)throw new TypeError("Unreachable");if((this.code=t.charCodeAt(n))>127)throw new TypeError("key must be ascii string");t.length!==++n?this.middle=new e(t,r,n):this.value=r}add(t,r){let n=t.length;if(n===0)throw new TypeError("Unreachable");let i=0,s=this;for(;;){let a=t.charCodeAt(i);if(a>127)throw new TypeError("key must be ascii string");if(s.code===a)if(n===++i){s.value=r;break}else if(s.middle!==null)s=s.middle;else{s.middle=new e(t,r,i);break}else if(s.code<a)if(s.left!==null)s=s.left;else{s.left=new e(t,r,i);break}else if(s.right!==null)s=s.right;else{s.right=new e(t,r,i);break}}}search(t){let r=t.length,n=0,i=this;for(;i!==null&&n<r;){let s=t[n];for(s<=90&&s>=65&&(s|=32);i!==null;){if(s===i.code){if(r===++n)return i;i=i.middle;break}i=i.code<s?i.left:i.right}}return null}},VM=class{static{o(this,"TernarySearchTree")}node=null;insert(t,r){this.node===null?this.node=new ore(t,r,0):this.node.add(t,r)}lookup(t){return this.node?.search(t)?.value??null}},h8e=new VM;for(let e=0;e<m8e.length;++e){let t=Eut[m8e[e]];h8e.insert(t,t)}p8e.exports={TernarySearchTree:VM,tree:h8e}});var ci=V((kQr,D8e)=>{"use strict";d();var qw=require("node:assert"),{kDestroyed:y8e,kBodyUsed:NI,kListeners:sre,kBody:A8e}=vs(),{IncomingMessage:but}=require("node:http"),zM=require("node:stream"),vut=require("node:net"),{Blob:Iut}=require("node:buffer"),Tut=require("node:util"),{stringify:wut}=require("node:querystring"),{EventEmitter:Sut}=require("node:events"),{InvalidArgumentError:Cl}=so(),{headerNameLowerCasedRecord:_ut}=HM(),{tree:C8e}=g8e(),[kut,But]=process.versions.node.split(".").map(e=>Number(e)),$M=class{static{o(this,"BodyAsyncIterable")}constructor(t){this[A8e]=t,this[NI]=!1}async*[Symbol.asyncIterator](){qw(!this[NI],"disturbed"),this[NI]=!0,yield*this[A8e]}};function Rut(e){return YM(e)?(I8e(e)===0&&e.on("data",function(){qw(!1)}),typeof e.readableDidRead!="boolean"&&(e[NI]=!1,Sut.prototype.on.call(e,"data",function(){this[NI]=!0})),e):e&&typeof e.pipeTo=="function"?new $M(e):e&&typeof e!="string"&&!ArrayBuffer.isView(e)&&v8e(e)?new $M(e):e}o(Rut,"wrapRequestBody");function Dut(){}o(Dut,"nop");function YM(e){return e&&typeof e=="object"&&typeof e.pipe=="function"&&typeof e.on=="function"}o(YM,"isStream");function x8e(e){if(e===null)return!1;if(e instanceof Iut)return!0;if(typeof e!="object")return!1;{let t=e[Symbol.toStringTag];return(t==="Blob"||t==="File")&&("stream"in e&&typeof e.stream=="function"||"arrayBuffer"in e&&typeof e.arrayBuffer=="function")}}o(x8e,"isBlobLike");function Put(e,t){if(e.includes("?")||e.includes("#"))throw new Error('Query params cannot be passed when url already contains "?" or "#".');let r=wut(t);return r&&(e+="?"+r),e}o(Put,"buildURL");function E8e(e){let t=parseInt(e,10);return t===Number(e)&&t>=0&&t<=65535}o(E8e,"isValidPort");function jM(e){return e!=null&&e[0]==="h"&&e[1]==="t"&&e[2]==="t"&&e[3]==="p"&&(e[4]===":"||e[4]==="s"&&e[5]===":")}o(jM,"isHttpOrHttpsPrefixed");function b8e(e){if(typeof e=="string"){if(e=new URL(e),!jM(e.origin||e.protocol))throw new Cl("Invalid URL protocol: the URL must start with `http:` or `https:`.");return e}if(!e||typeof e!="object")throw new Cl("Invalid URL: The URL argument must be a non-null object.");if(!(e instanceof URL)){if(e.port!=null&&e.port!==""&&E8e(e.port)===!1)throw new Cl("Invalid URL: port must be a valid integer or a string representation of an integer.");if(e.path!=null&&typeof e.path!="string")throw new Cl("Invalid URL path: the path must be a string or null/undefined.");if(e.pathname!=null&&typeof e.pathname!="string")throw new Cl("Invalid URL pathname: the pathname must be a string or null/undefined.");if(e.hostname!=null&&typeof e.hostname!="string")throw new Cl("Invalid URL hostname: the hostname must be a string or null/undefined.");if(e.origin!=null&&typeof e.origin!="string")throw new Cl("Invalid URL origin: the origin must be a string or null/undefined.");if(!jM(e.origin||e.protocol))throw new Cl("Invalid URL protocol: the URL must start with `http:` or `https:`.");let t=e.port!=null?e.port:e.protocol==="https:"?443:80,r=e.origin!=null?e.origin:`${e.protocol||""}//${e.hostname||""}:${t}`,n=e.path!=null?e.path:`${e.pathname||""}${e.search||""}`;return r[r.length-1]==="/"&&(r=r.slice(0,r.length-1)),n&&n[0]!=="/"&&(n=`/${n}`),new URL(`${r}${n}`)}if(!jM(e.origin||e.protocol))throw new Cl("Invalid URL protocol: the URL must start with `http:` or `https:`.");return e}o(b8e,"parseURL");function Fut(e){if(e=b8e(e),e.pathname!=="/"||e.search||e.hash)throw new Cl("invalid url");return e}o(Fut,"parseOrigin");function Nut(e){if(e[0]==="["){let r=e.indexOf("]");return qw(r!==-1),e.substring(1,r)}let t=e.indexOf(":");return t===-1?e:e.substring(0,t)}o(Nut,"getHostname");function Lut(e){if(!e)return null;qw(typeof e=="string");let t=Nut(e);return vut.isIP(t)?"":t}o(Lut,"getServerName");function Qut(e){return JSON.parse(JSON.stringify(e))}o(Qut,"deepClone");function Mut(e){return e!=null&&typeof e[Symbol.asyncIterator]=="function"}o(Mut,"isAsyncIterable");function v8e(e){return e!=null&&(typeof e[Symbol.iterator]=="function"||typeof e[Symbol.asyncIterator]=="function")}o(v8e,"isIterable");function I8e(e){if(e==null)return 0;if(YM(e)){let t=e._readableState;return t&&t.objectMode===!1&&t.ended===!0&&Number.isFinite(t.length)?t.length:null}else{if(x8e(e))return e.size!=null?e.size:null;if(S8e(e))return e.byteLength}return null}o(I8e,"bodyLength");function T8e(e){return e&&!!(e.destroyed||e[y8e]||zM.isDestroyed?.(e))}o(T8e,"isDestroyed");function Out(e,t){e==null||!YM(e)||T8e(e)||(typeof e.destroy=="function"?(Object.getPrototypeOf(e).constructor===but&&(e.socket=null),e.destroy(t)):t&&queueMicrotask(()=>{e.emit("error",t)}),e.destroyed!==!0&&(e[y8e]=!0))}o(Out,"destroy");var Uut=/timeout=(\d+)/;function qut(e){let t=e.toString().match(Uut);return t?parseInt(t[1],10)*1e3:null}o(qut,"parseKeepAliveTimeout");function w8e(e){return typeof e=="string"?_ut[e]??e.toLowerCase():C8e.lookup(e)??e.toString("latin1").toLowerCase()}o(w8e,"headerNameToString");function Wut(e){return C8e.lookup(e)??e.toString("latin1").toLowerCase()}o(Wut,"bufferToLowerCasedHeaderName");function Gut(e,t){t===void 0&&(t={});for(let r=0;r<e.length;r+=2){let n=w8e(e[r]),i=t[n];if(i)typeof i=="string"&&(i=[i],t[n]=i),i.push(e[r+1].toString("utf8"));else{let s=e[r+1];typeof s=="string"?t[n]=s:t[n]=Array.isArray(s)?s.map(a=>a.toString("utf8")):s.toString("utf8")}}return"content-length"in t&&"content-disposition"in t&&(t["content-disposition"]=Buffer.from(t["content-disposition"]).toString("latin1")),t}o(Gut,"parseHeaders");function Hut(e){let t=e.length,r=new Array(t),n=!1,i=-1,s,a,l=0;for(let c=0;c<e.length;c+=2)s=e[c],a=e[c+1],typeof s!="string"&&(s=s.toString()),typeof a!="string"&&(a=a.toString("utf8")),l=s.length,l===14&&s[7]==="-"&&(s==="content-length"||s.toLowerCase()==="content-length")?n=!0:l===19&&s[7]==="-"&&(s==="content-disposition"||s.toLowerCase()==="content-disposition")&&(i=c+1),r[c]=s,r[c+1]=a;return n&&i!==-1&&(r[i]=Buffer.from(r[i]).toString("latin1")),r}o(Hut,"parseRawHeaders");function S8e(e){return e instanceof Uint8Array||Buffer.isBuffer(e)}o(S8e,"isBuffer");function Vut(e,t,r){if(!e||typeof e!="object")throw new Cl("handler must be an object");if(typeof e.onConnect!="function")throw new Cl("invalid onConnect method");if(typeof e.onError!="function")throw new Cl("invalid onError method");if(typeof e.onBodySent!="function"&&e.onBodySent!==void 0)throw new Cl("invalid onBodySent method");if(r||t==="CONNECT"){if(typeof e.onUpgrade!="function")throw new Cl("invalid onUpgrade method")}else{if(typeof e.onHeaders!="function")throw new Cl("invalid onHeaders method");if(typeof e.onData!="function")throw new Cl("invalid onData method");if(typeof e.onComplete!="function")throw new Cl("invalid onComplete method")}}o(Vut,"validateHandler");function jut(e){return!!(e&&(zM.isDisturbed(e)||e[NI]))}o(jut,"isDisturbed");function $ut(e){return!!(e&&zM.isErrored(e))}o($ut,"isErrored");function zut(e){return!!(e&&zM.isReadable(e))}o(zut,"isReadable");function Yut(e){return{localAddress:e.localAddress,localPort:e.localPort,remoteAddress:e.remoteAddress,remotePort:e.remotePort,remoteFamily:e.remoteFamily,timeout:e.timeout,bytesWritten:e.bytesWritten,bytesRead:e.bytesRead}}o(Yut,"getSocketInfo");function Kut(e){let t;return new ReadableStream({async start(){t=e[Symbol.asyncIterator]()},async pull(r){let{done:n,value:i}=await t.next();if(n)queueMicrotask(()=>{r.close(),r.byobRequest?.respond(0)});else{let s=Buffer.isBuffer(i)?i:Buffer.from(i);s.byteLength&&r.enqueue(new Uint8Array(s))}return r.desiredSize>0},async cancel(r){await t.return()},type:"bytes"})}o(Kut,"ReadableStreamFrom");function Jut(e){return e&&typeof e=="object"&&typeof e.append=="function"&&typeof e.delete=="function"&&typeof e.get=="function"&&typeof e.getAll=="function"&&typeof e.has=="function"&&typeof e.set=="function"&&e[Symbol.toStringTag]==="FormData"}o(Jut,"isFormDataLike");function Xut(e,t){return"addEventListener"in e?(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)):(e.addListener("abort",t),()=>e.removeListener("abort",t))}o(Xut,"addAbortListener");var Zut=typeof String.prototype.toWellFormed=="function",eft=typeof String.prototype.isWellFormed=="function";function _8e(e){return Zut?`${e}`.toWellFormed():Tut.toUSVString(e)}o(_8e,"toUSVString");function tft(e){return eft?`${e}`.isWellFormed():_8e(e)===`${e}`}o(tft,"isUSVString");function k8e(e){switch(e){case 34:case 40:case 41:case 44:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 123:case 125:return!1;default:return e>=33&&e<=126}}o(k8e,"isTokenCharCode");function rft(e){if(e.length===0)return!1;for(let t=0;t<e.length;++t)if(!k8e(e.charCodeAt(t)))return!1;return!0}o(rft,"isValidHTTPToken");var nft=/[^\t\x20-\x7e\x80-\xff]/;function ift(e){return!nft.test(e)}o(ift,"isValidHeaderValue");function oft(e){if(e==null||e==="")return{start:0,end:null,size:null};let t=e?e.match(/^bytes (\d+)-(\d+)\/(\d+)?$/):null;return t?{start:parseInt(t[1]),end:t[2]?parseInt(t[2]):null,size:t[3]?parseInt(t[3]):null}:null}o(oft,"parseRangeHeader");function sft(e,t,r){return(e[sre]??=[]).push([t,r]),e.on(t,r),e}o(sft,"addListener");function aft(e){for(let[t,r]of e[sre]??[])e.removeListener(t,r);e[sre]=null}o(aft,"removeAllListeners");function lft(e,t,r){try{t.onError(r),qw(t.aborted)}catch(n){e.emit("error",n)}}o(lft,"errorRequest");var B8e=Object.create(null);B8e.enumerable=!0;var are={delete:"DELETE",DELETE:"DELETE",get:"GET",GET:"GET",head:"HEAD",HEAD:"HEAD",options:"OPTIONS",OPTIONS:"OPTIONS",post:"POST",POST:"POST",put:"PUT",PUT:"PUT"},R8e={...are,patch:"patch",PATCH:"PATCH"};Object.setPrototypeOf(are,null);Object.setPrototypeOf(R8e,null);D8e.exports={kEnumerableProperty:B8e,nop:Dut,isDisturbed:jut,isErrored:$ut,isReadable:zut,toUSVString:_8e,isUSVString:tft,isBlobLike:x8e,parseOrigin:Fut,parseURL:b8e,getServerName:Lut,isStream:YM,isIterable:v8e,isAsyncIterable:Mut,isDestroyed:T8e,headerNameToString:w8e,bufferToLowerCasedHeaderName:Wut,addListener:sft,removeAllListeners:aft,errorRequest:lft,parseRawHeaders:Hut,parseHeaders:Gut,parseKeepAliveTimeout:qut,destroy:Out,bodyLength:I8e,deepClone:Qut,ReadableStreamFrom:Kut,isBuffer:S8e,validateHandler:Vut,getSocketInfo:Yut,isFormDataLike:Jut,buildURL:Put,addAbortListener:Xut,isValidHTTPToken:rft,isValidHeaderValue:ift,isTokenCharCode:k8e,parseRangeHeader:oft,normalizedMethodRecordsBase:are,normalizedMethodRecords:R8e,isValidPort:E8e,isHttpOrHttpsPrefixed:jM,nodeMajor:kut,nodeMinor:But,safeHTTPMethods:["GET","HEAD","OPTIONS","TRACE"],wrapRequestBody:Rut}});var LI=V((DQr,F8e)=>{"use strict";d();var uo=require("node:diagnostics_channel"),cre=require("node:util"),KM=cre.debuglog("undici"),lre=cre.debuglog("fetch"),F4=cre.debuglog("websocket"),P8e=!1,cft={beforeConnect:uo.channel("undici:client:beforeConnect"),connected:uo.channel("undici:client:connected"),connectError:uo.channel("undici:client:connectError"),sendHeaders:uo.channel("undici:client:sendHeaders"),create:uo.channel("undici:request:create"),bodySent:uo.channel("undici:request:bodySent"),headers:uo.channel("undici:request:headers"),trailers:uo.channel("undici:request:trailers"),error:uo.channel("undici:request:error"),open:uo.channel("undici:websocket:open"),close:uo.channel("undici:websocket:close"),socketError:uo.channel("undici:websocket:socket_error"),ping:uo.channel("undici:websocket:ping"),pong:uo.channel("undici:websocket:pong")};if(KM.enabled||lre.enabled){let e=lre.enabled?lre:KM;uo.channel("undici:client:beforeConnect").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s}}=t;e("connecting to %s using %s%s",`${s}${i?`:${i}`:""}`,n,r)}),uo.channel("undici:client:connected").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s}}=t;e("connected to %s using %s%s",`${s}${i?`:${i}`:""}`,n,r)}),uo.channel("undici:client:connectError").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s},error:a}=t;e("connection to %s using %s%s errored - %s",`${s}${i?`:${i}`:""}`,n,r,a.message)}),uo.channel("undici:client:sendHeaders").subscribe(t=>{let{request:{method:r,path:n,origin:i}}=t;e("sending request to %s %s/%s",r,i,n)}),uo.channel("undici:request:headers").subscribe(t=>{let{request:{method:r,path:n,origin:i},response:{statusCode:s}}=t;e("received response to %s %s/%s - HTTP %d",r,i,n,s)}),uo.channel("undici:request:trailers").subscribe(t=>{let{request:{method:r,path:n,origin:i}}=t;e("trailers received from %s %s/%s",r,i,n)}),uo.channel("undici:request:error").subscribe(t=>{let{request:{method:r,path:n,origin:i},error:s}=t;e("request to %s %s/%s errored - %s",r,i,n,s.message)}),P8e=!0}if(F4.enabled){if(!P8e){let e=KM.enabled?KM:F4;uo.channel("undici:client:beforeConnect").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s}}=t;e("connecting to %s%s using %s%s",s,i?`:${i}`:"",n,r)}),uo.channel("undici:client:connected").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s}}=t;e("connected to %s%s using %s%s",s,i?`:${i}`:"",n,r)}),uo.channel("undici:client:connectError").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s},error:a}=t;e("connection to %s%s using %s%s errored - %s",s,i?`:${i}`:"",n,r,a.message)}),uo.channel("undici:client:sendHeaders").subscribe(t=>{let{request:{method:r,path:n,origin:i}}=t;e("sending request to %s %s/%s",r,i,n)})}uo.channel("undici:websocket:open").subscribe(e=>{let{address:{address:t,port:r}}=e;F4("connection opened %s%s",t,r?`:${r}`:"")}),uo.channel("undici:websocket:close").subscribe(e=>{let{websocket:t,code:r,reason:n}=e;F4("closed connection to %s - %s %s",t.url,r,n)}),uo.channel("undici:websocket:socket_error").subscribe(e=>{F4("connection errored - %s",e.message)}),uo.channel("undici:websocket:ping").subscribe(e=>{F4("ping received")}),uo.channel("undici:websocket:pong").subscribe(e=>{F4("pong received")})}F8e.exports={channels:cft}});var O8e=V((FQr,M8e)=>{"use strict";d();var{InvalidArgumentError:Ns,NotSupportedError:uft}=so(),H1=require("node:assert"),{isValidHTTPToken:Q8e,isValidHeaderValue:N8e,isStream:fft,destroy:dft,isBuffer:mft,isFormDataLike:hft,isIterable:pft,isBlobLike:gft,buildURL:Aft,validateHandler:yft,getServerName:Cft,normalizedMethodRecords:xft}=ci(),{channels:Mp}=LI(),{headerNameLowerCasedRecord:L8e}=HM(),Eft=/[^\u0021-\u00ff]/,yd=Symbol("handler"),ure=class{static{o(this,"Request")}constructor(t,{path:r,method:n,body:i,headers:s,query:a,idempotent:l,blocking:c,upgrade:u,headersTimeout:f,bodyTimeout:m,reset:h,throwOnError:p,expectContinue:A,servername:x},E){if(typeof r!="string")throw new Ns("path must be a string");if(r[0]!=="/"&&!(r.startsWith("http://")||r.startsWith("https://"))&&n!=="CONNECT")throw new Ns("path must be an absolute URL or start with a slash");if(Eft.test(r))throw new Ns("invalid request path");if(typeof n!="string")throw new Ns("method must be a string");if(xft[n]===void 0&&!Q8e(n))throw new Ns("invalid request method");if(u&&typeof u!="string")throw new Ns("upgrade must be a string");if(f!=null&&(!Number.isFinite(f)||f<0))throw new Ns("invalid headersTimeout");if(m!=null&&(!Number.isFinite(m)||m<0))throw new Ns("invalid bodyTimeout");if(h!=null&&typeof h!="boolean")throw new Ns("invalid reset");if(A!=null&&typeof A!="boolean")throw new Ns("invalid expectContinue");if(this.headersTimeout=f,this.bodyTimeout=m,this.throwOnError=p===!0,this.method=n,this.abort=null,i==null)this.body=null;else if(fft(i)){this.body=i;let v=this.body._readableState;(!v||!v.autoDestroy)&&(this.endHandler=o(function(){dft(this)},"autoDestroy"),this.body.on("end",this.endHandler)),this.errorHandler=b=>{this.abort?this.abort(b):this.error=b},this.body.on("error",this.errorHandler)}else if(mft(i))this.body=i.byteLength?i:null;else if(ArrayBuffer.isView(i))this.body=i.buffer.byteLength?Buffer.from(i.buffer,i.byteOffset,i.byteLength):null;else if(i instanceof ArrayBuffer)this.body=i.byteLength?Buffer.from(i):null;else if(typeof i=="string")this.body=i.length?Buffer.from(i):null;else if(hft(i)||pft(i)||gft(i))this.body=i;else throw new Ns("body must be a string, a Buffer, a Readable stream, an iterable, or an async iterable");if(this.completed=!1,this.aborted=!1,this.upgrade=u||null,this.path=a?Aft(r,a):r,this.origin=t,this.idempotent=l??(n==="HEAD"||n==="GET"),this.blocking=c??!1,this.reset=h??null,this.host=null,this.contentLength=null,this.contentType=null,this.headers=[],this.expectContinue=A??!1,Array.isArray(s)){if(s.length%2!==0)throw new Ns("headers array must be even");for(let v=0;v<s.length;v+=2)JM(this,s[v],s[v+1])}else if(s&&typeof s=="object")if(s[Symbol.iterator])for(let v of s){if(!Array.isArray(v)||v.length!==2)throw new Ns("headers must be in key-value pair format");JM(this,v[0],v[1])}else{let v=Object.keys(s);for(let b=0;b<v.length;++b)JM(this,v[b],s[v[b]])}else if(s!=null)throw new Ns("headers must be an object or an array");yft(E,n,u),this.servername=x||Cft(this.host),this[yd]=E,Mp.create.hasSubscribers&&Mp.create.publish({request:this})}onBodySent(t){if(this[yd].onBodySent)try{return this[yd].onBodySent(t)}catch(r){this.abort(r)}}onRequestSent(){if(Mp.bodySent.hasSubscribers&&Mp.bodySent.publish({request:this}),this[yd].onRequestSent)try{return this[yd].onRequestSent()}catch(t){this.abort(t)}}onConnect(t){if(H1(!this.aborted),H1(!this.completed),this.error)t(this.error);else return this.abort=t,this[yd].onConnect(t)}onResponseStarted(){return this[yd].onResponseStarted?.()}onHeaders(t,r,n,i){H1(!this.aborted),H1(!this.completed),Mp.headers.hasSubscribers&&Mp.headers.publish({request:this,response:{statusCode:t,headers:r,statusText:i}});try{return this[yd].onHeaders(t,r,n,i)}catch(s){this.abort(s)}}onData(t){H1(!this.aborted),H1(!this.completed);try{return this[yd].onData(t)}catch(r){return this.abort(r),!1}}onUpgrade(t,r,n){return H1(!this.aborted),H1(!this.completed),this[yd].onUpgrade(t,r,n)}onComplete(t){this.onFinally(),H1(!this.aborted),this.completed=!0,Mp.trailers.hasSubscribers&&Mp.trailers.publish({request:this,trailers:t});try{return this[yd].onComplete(t)}catch(r){this.onError(r)}}onError(t){if(this.onFinally(),Mp.error.hasSubscribers&&Mp.error.publish({request:this,error:t}),!this.aborted)return this.aborted=!0,this[yd].onError(t)}onFinally(){this.errorHandler&&(this.body.off("error",this.errorHandler),this.errorHandler=null),this.endHandler&&(this.body.off("end",this.endHandler),this.endHandler=null)}addHeader(t,r){return JM(this,t,r),this}};function JM(e,t,r){if(r&&typeof r=="object"&&!Array.isArray(r))throw new Ns(`invalid ${t} header`);if(r===void 0)return;let n=L8e[t];if(n===void 0&&(n=t.toLowerCase(),L8e[n]===void 0&&!Q8e(n)))throw new Ns("invalid header key");if(Array.isArray(r)){let i=[];for(let s=0;s<r.length;s++)if(typeof r[s]=="string"){if(!N8e(r[s]))throw new Ns(`invalid ${t} header`);i.push(r[s])}else if(r[s]===null)i.push("");else{if(typeof r[s]=="object")throw new Ns(`invalid ${t} header`);i.push(`${r[s]}`)}r=i}else if(typeof r=="string"){if(!N8e(r))throw new Ns(`invalid ${t} header`)}else r===null?r="":r=`${r}`;if(e.host===null&&n==="host"){if(typeof r!="string")throw new Ns("invalid host header");e.host=r}else if(e.contentLength===null&&n==="content-length"){if(e.contentLength=parseInt(r,10),!Number.isFinite(e.contentLength))throw new Ns("invalid content-length header")}else if(e.contentType===null&&n==="content-type")e.contentType=r,e.headers.push(t,r);else{if(n==="transfer-encoding"||n==="keep-alive"||n==="upgrade")throw new Ns(`invalid ${n} header`);if(n==="connection"){let i=typeof r=="string"?r.toLowerCase():null;if(i!=="close"&&i!=="keep-alive")throw new Ns("invalid connection header");i==="close"&&(e.reset=!0)}else{if(n==="expect")throw new uft("expect header not supported");e.headers.push(t,r)}}}o(JM,"processHeader");M8e.exports=ure});var Ww=V((QQr,U8e)=>{"use strict";d();var bft=require("node:events"),XM=class extends bft{static{o(this,"Dispatcher")}dispatch(){throw new Error("not implemented")}close(){throw new Error("not implemented")}destroy(){throw new Error("not implemented")}compose(...t){let r=Array.isArray(t[0])?t[0]:t,n=this.dispatch.bind(this);for(let i of r)if(i!=null){if(typeof i!="function")throw new TypeError(`invalid interceptor, expected function received ${typeof i}`);if(n=i(n),n==null||typeof n!="function"||n.length!==2)throw new TypeError("invalid interceptor")}return new fre(this,n)}},fre=class extends XM{static{o(this,"ComposedDispatcher")}#e=null;#t=null;constructor(t,r){super(),this.#e=t,this.#t=r}dispatch(...t){this.#t(...t)}close(...t){return this.#e.close(...t)}destroy(...t){return this.#e.destroy(...t)}};U8e.exports=XM});var UI=V((UQr,q8e)=>{"use strict";d();var vft=Ww(),{ClientDestroyedError:dre,ClientClosedError:Ift,InvalidArgumentError:QI}=so(),{kDestroy:Tft,kClose:wft,kClosed:Gw,kDestroyed:MI,kDispatch:mre,kInterceptors:N4}=vs(),V1=Symbol("onDestroyed"),OI=Symbol("onClosed"),ZM=Symbol("Intercepted Dispatch"),hre=class extends vft{static{o(this,"DispatcherBase")}constructor(){super(),this[MI]=!1,this[V1]=null,this[Gw]=!1,this[OI]=[]}get destroyed(){return this[MI]}get closed(){return this[Gw]}get interceptors(){return this[N4]}set interceptors(t){if(t){for(let r=t.length-1;r>=0;r--)if(typeof this[N4][r]!="function")throw new QI("interceptor must be an function")}this[N4]=t}close(t){if(t===void 0)return new Promise((n,i)=>{this.close((s,a)=>s?i(s):n(a))});if(typeof t!="function")throw new QI("invalid callback");if(this[MI]){queueMicrotask(()=>t(new dre,null));return}if(this[Gw]){this[OI]?this[OI].push(t):queueMicrotask(()=>t(null,null));return}this[Gw]=!0,this[OI].push(t);let r=o(()=>{let n=this[OI];this[OI]=null;for(let i=0;i<n.length;i++)n[i](null,null)},"onClosed");this[wft]().then(()=>this.destroy()).then(()=>{queueMicrotask(r)})}destroy(t,r){if(typeof t=="function"&&(r=t,t=null),r===void 0)return new Promise((i,s)=>{this.destroy(t,(a,l)=>a?s(a):i(l))});if(typeof r!="function")throw new QI("invalid callback");if(this[MI]){this[V1]?this[V1].push(r):queueMicrotask(()=>r(null,null));return}t||(t=new dre),this[MI]=!0,this[V1]=this[V1]||[],this[V1].push(r);let n=o(()=>{let i=this[V1];this[V1]=null;for(let s=0;s<i.length;s++)i[s](null,null)},"onDestroyed");this[Tft](t).then(()=>{queueMicrotask(n)})}[ZM](t,r){if(!this[N4]||this[N4].length===0)return this[ZM]=this[mre],this[mre](t,r);let n=this[mre].bind(this);for(let i=this[N4].length-1;i>=0;i--)n=this[N4][i](n);return this[ZM]=n,n(t,r)}dispatch(t,r){if(!r||typeof r!="object")throw new QI("handler must be an object");try{if(!t||typeof t!="object")throw new QI("opts must be an object.");if(this[MI]||this[V1])throw new dre;if(this[Gw])throw new Ift;return this[ZM](t,r)}catch(n){if(typeof r.onError!="function")throw new QI("invalid onError method");return r.onError(n),!1}}};q8e.exports=hre});var Ere=V((GQr,V8e)=>{"use strict";d();var qI=0,pre=1e3,gre=(pre>>1)-1,j1,Are=Symbol("kFastTimer"),$1=[],yre=-2,Cre=-1,G8e=0,W8e=1;function xre(){qI+=gre;let e=0,t=$1.length;for(;e<t;){let r=$1[e];r._state===G8e?(r._idleStart=qI-gre,r._state=W8e):r._state===W8e&&qI>=r._idleStart+r._idleTimeout&&(r._state=Cre,r._idleStart=-1,r._onTimeout(r._timerArg)),r._state===Cre?(r._state=yre,--t!==0&&($1[e]=$1[t])):++e}$1.length=t,$1.length!==0&&H8e()}o(xre,"onTick");function H8e(){j1?j1.refresh():(clearTimeout(j1),j1=setTimeout(xre,gre),j1.unref&&j1.unref())}o(H8e,"refreshTimeout");var eO=class{static{o(this,"FastTimer")}[Are]=!0;_state=yre;_idleTimeout=-1;_idleStart=-1;_onTimeout;_timerArg;constructor(t,r,n){this._onTimeout=t,this._idleTimeout=r,this._timerArg=n,this.refresh()}refresh(){this._state===yre&&$1.push(this),(!j1||$1.length===1)&&H8e(),this._state=G8e}clear(){this._state=Cre,this._idleStart=-1}};V8e.exports={setTimeout(e,t,r){return t<=pre?setTimeout(e,t,r):new eO(e,t,r)},clearTimeout(e){e[Are]?e.clear():clearTimeout(e)},setFastTimeout(e,t,r){return new eO(e,t,r)},clearFastTimeout(e){e.clear()},now(){return qI},tick(e=0){qI+=e-pre+1,xre(),xre()},reset(){qI=0,$1.length=0,clearTimeout(j1),j1=null},kFastTimer:Are}});var Hw=V((zQr,K8e)=>{"use strict";d();var Sft=require("node:net"),j8e=require("node:assert"),Y8e=ci(),{InvalidArgumentError:_ft,ConnectTimeoutError:kft}=so(),tO=Ere();function $8e(){}o($8e,"noop");var bre,vre;global.FinalizationRegistry&&!(process.env.NODE_V8_COVERAGE||process.env.UNDICI_NO_FG)?vre=class{static{o(this,"WeakSessionCache")}constructor(t){this._maxCachedSessions=t,this._sessionCache=new Map,this._sessionRegistry=new global.FinalizationRegistry(r=>{if(this._sessionCache.size<this._maxCachedSessions)return;let n=this._sessionCache.get(r);n!==void 0&&n.deref()===void 0&&this._sessionCache.delete(r)})}get(t){let r=this._sessionCache.get(t);return r?r.deref():null}set(t,r){this._maxCachedSessions!==0&&(this._sessionCache.set(t,new WeakRef(r)),this._sessionRegistry.register(r,t))}}:vre=class{static{o(this,"SimpleSessionCache")}constructor(t){this._maxCachedSessions=t,this._sessionCache=new Map}get(t){return this._sessionCache.get(t)}set(t,r){if(this._maxCachedSessions!==0){if(this._sessionCache.size>=this._maxCachedSessions){let{value:n}=this._sessionCache.keys().next();this._sessionCache.delete(n)}this._sessionCache.set(t,r)}}};function Bft({allowH2:e,maxCachedSessions:t,socketPath:r,timeout:n,session:i,...s}){if(t!=null&&(!Number.isInteger(t)||t<0))throw new _ft("maxCachedSessions must be a positive integer or zero");let a={path:r,...s},l=new vre(t??100);return n=n??1e4,e=e??!1,o(function({hostname:u,host:f,protocol:m,port:h,servername:p,localAddress:A,httpSocket:x},E){let v;if(m==="https:"){bre||(bre=require("node:tls")),p=p||a.servername||Y8e.getServerName(f)||null;let S=p||u;j8e(S);let B=i||l.get(S)||null;h=h||443,v=bre.connect({highWaterMark:16384,...a,servername:p,session:B,localAddress:A,ALPNProtocols:e?["http/1.1","h2"]:["http/1.1"],socket:x,port:h,host:u}),v.on("session",function(P){l.set(S,P)})}else j8e(!x,"httpSocket can only be sent on TLS update"),h=h||80,v=Sft.connect({highWaterMark:64*1024,...a,localAddress:A,port:h,host:u});if(a.keepAlive==null||a.keepAlive){let S=a.keepAliveInitialDelay===void 0?6e4:a.keepAliveInitialDelay;v.setKeepAlive(!0,S)}let b=Rft(new WeakRef(v),{timeout:n,hostname:u,port:h});return v.setNoDelay(!0).once(m==="https:"?"secureConnect":"connect",function(){if(queueMicrotask(b),E){let S=E;E=null,S(null,this)}}).on("error",function(S){if(queueMicrotask(b),E){let B=E;E=null,B(S)}}),v},"connect")}o(Bft,"buildConnector");var Rft=process.platform==="win32"?(e,t)=>{if(!t.timeout)return $8e;let r=null,n=null,i=tO.setFastTimeout(()=>{r=setImmediate(()=>{n=setImmediate(()=>z8e(e.deref(),t))})},t.timeout);return()=>{tO.clearFastTimeout(i),clearImmediate(r),clearImmediate(n)}}:(e,t)=>{if(!t.timeout)return $8e;let r=null,n=tO.setFastTimeout(()=>{r=setImmediate(()=>{z8e(e.deref(),t)})},t.timeout);return()=>{tO.clearFastTimeout(n),clearImmediate(r)}};function z8e(e,t){if(e==null)return;let r="Connect Timeout Error";Array.isArray(e.autoSelectFamilyAttemptedAddresses)?r+=` (attempted addresses: ${e.autoSelectFamilyAttemptedAddresses.join(", ")},`:r+=` (attempted address: ${t.hostname}:${t.port},`,r+=` timeout: ${t.timeout}ms)`,Y8e.destroy(e,new kft(r))}o(z8e,"onConnectTimeout");K8e.exports=Bft});var J8e=V(rO=>{"use strict";d();Object.defineProperty(rO,"__esModule",{value:!0});rO.enumToMap=void 0;function Dft(e){let t={};return Object.keys(e).forEach(r=>{let n=e[r];typeof n=="number"&&(t[r]=n)}),t}o(Dft,"enumToMap");rO.enumToMap=Dft});var X8e=V(er=>{"use strict";d();Object.defineProperty(er,"__esModule",{value:!0});er.SPECIAL_HEADERS=er.HEADER_STATE=er.MINOR=er.MAJOR=er.CONNECTION_TOKEN_CHARS=er.HEADER_CHARS=er.TOKEN=er.STRICT_TOKEN=er.HEX=er.URL_CHAR=er.STRICT_URL_CHAR=er.USERINFO_CHARS=er.MARK=er.ALPHANUM=er.NUM=er.HEX_MAP=er.NUM_MAP=er.ALPHA=er.FINISH=er.H_METHOD_MAP=er.METHOD_MAP=er.METHODS_RTSP=er.METHODS_ICE=er.METHODS_HTTP=er.METHODS=er.LENIENT_FLAGS=er.FLAGS=er.TYPE=er.ERROR=void 0;var Pft=J8e(),Fft;(function(e){e[e.OK=0]="OK",e[e.INTERNAL=1]="INTERNAL",e[e.STRICT=2]="STRICT",e[e.LF_EXPECTED=3]="LF_EXPECTED",e[e.UNEXPECTED_CONTENT_LENGTH=4]="UNEXPECTED_CONTENT_LENGTH",e[e.CLOSED_CONNECTION=5]="CLOSED_CONNECTION",e[e.INVALID_METHOD=6]="INVALID_METHOD",e[e.INVALID_URL=7]="INVALID_URL",e[e.INVALID_CONSTANT=8]="INVALID_CONSTANT",e[e.INVALID_VERSION=9]="INVALID_VERSION",e[e.INVALID_HEADER_TOKEN=10]="INVALID_HEADER_TOKEN",e[e.INVALID_CONTENT_LENGTH=11]="INVALID_CONTENT_LENGTH",e[e.INVALID_CHUNK_SIZE=12]="INVALID_CHUNK_SIZE",e[e.INVALID_STATUS=13]="INVALID_STATUS",e[e.INVALID_EOF_STATE=14]="INVALID_EOF_STATE",e[e.INVALID_TRANSFER_ENCODING=15]="INVALID_TRANSFER_ENCODING",e[e.CB_MESSAGE_BEGIN=16]="CB_MESSAGE_BEGIN",e[e.CB_HEADERS_COMPLETE=17]="CB_HEADERS_COMPLETE",e[e.CB_MESSAGE_COMPLETE=18]="CB_MESSAGE_COMPLETE",e[e.CB_CHUNK_HEADER=19]="CB_CHUNK_HEADER",e[e.CB_CHUNK_COMPLETE=20]="CB_CHUNK_COMPLETE",e[e.PAUSED=21]="PAUSED",e[e.PAUSED_UPGRADE=22]="PAUSED_UPGRADE",e[e.PAUSED_H2_UPGRADE=23]="PAUSED_H2_UPGRADE",e[e.USER=24]="USER"})(Fft=er.ERROR||(er.ERROR={}));var Nft;(function(e){e[e.BOTH=0]="BOTH",e[e.REQUEST=1]="REQUEST",e[e.RESPONSE=2]="RESPONSE"})(Nft=er.TYPE||(er.TYPE={}));var Lft;(function(e){e[e.CONNECTION_KEEP_ALIVE=1]="CONNECTION_KEEP_ALIVE",e[e.CONNECTION_CLOSE=2]="CONNECTION_CLOSE",e[e.CONNECTION_UPGRADE=4]="CONNECTION_UPGRADE",e[e.CHUNKED=8]="CHUNKED",e[e.UPGRADE=16]="UPGRADE",e[e.CONTENT_LENGTH=32]="CONTENT_LENGTH",e[e.SKIPBODY=64]="SKIPBODY",e[e.TRAILING=128]="TRAILING",e[e.TRANSFER_ENCODING=512]="TRANSFER_ENCODING"})(Lft=er.FLAGS||(er.FLAGS={}));var Qft;(function(e){e[e.HEADERS=1]="HEADERS",e[e.CHUNKED_LENGTH=2]="CHUNKED_LENGTH",e[e.KEEP_ALIVE=4]="KEEP_ALIVE"})(Qft=er.LENIENT_FLAGS||(er.LENIENT_FLAGS={}));var on;(function(e){e[e.DELETE=0]="DELETE",e[e.GET=1]="GET",e[e.HEAD=2]="HEAD",e[e.POST=3]="POST",e[e.PUT=4]="PUT",e[e.CONNECT=5]="CONNECT",e[e.OPTIONS=6]="OPTIONS",e[e.TRACE=7]="TRACE",e[e.COPY=8]="COPY",e[e.LOCK=9]="LOCK",e[e.MKCOL=10]="MKCOL",e[e.MOVE=11]="MOVE",e[e.PROPFIND=12]="PROPFIND",e[e.PROPPATCH=13]="PROPPATCH",e[e.SEARCH=14]="SEARCH",e[e.UNLOCK=15]="UNLOCK",e[e.BIND=16]="BIND",e[e.REBIND=17]="REBIND",e[e.UNBIND=18]="UNBIND",e[e.ACL=19]="ACL",e[e.REPORT=20]="REPORT",e[e.MKACTIVITY=21]="MKACTIVITY",e[e.CHECKOUT=22]="CHECKOUT",e[e.MERGE=23]="MERGE",e[e["M-SEARCH"]=24]="M-SEARCH",e[e.NOTIFY=25]="NOTIFY",e[e.SUBSCRIBE=26]="SUBSCRIBE",e[e.UNSUBSCRIBE=27]="UNSUBSCRIBE",e[e.PATCH=28]="PATCH",e[e.PURGE=29]="PURGE",e[e.MKCALENDAR=30]="MKCALENDAR",e[e.LINK=31]="LINK",e[e.UNLINK=32]="UNLINK",e[e.SOURCE=33]="SOURCE",e[e.PRI=34]="PRI",e[e.DESCRIBE=35]="DESCRIBE",e[e.ANNOUNCE=36]="ANNOUNCE",e[e.SETUP=37]="SETUP",e[e.PLAY=38]="PLAY",e[e.PAUSE=39]="PAUSE",e[e.TEARDOWN=40]="TEARDOWN",e[e.GET_PARAMETER=41]="GET_PARAMETER",e[e.SET_PARAMETER=42]="SET_PARAMETER",e[e.REDIRECT=43]="REDIRECT",e[e.RECORD=44]="RECORD",e[e.FLUSH=45]="FLUSH"})(on=er.METHODS||(er.METHODS={}));er.METHODS_HTTP=[on.DELETE,on.GET,on.HEAD,on.POST,on.PUT,on.CONNECT,on.OPTIONS,on.TRACE,on.COPY,on.LOCK,on.MKCOL,on.MOVE,on.PROPFIND,on.PROPPATCH,on.SEARCH,on.UNLOCK,on.BIND,on.REBIND,on.UNBIND,on.ACL,on.REPORT,on.MKACTIVITY,on.CHECKOUT,on.MERGE,on["M-SEARCH"],on.NOTIFY,on.SUBSCRIBE,on.UNSUBSCRIBE,on.PATCH,on.PURGE,on.MKCALENDAR,on.LINK,on.UNLINK,on.PRI,on.SOURCE];er.METHODS_ICE=[on.SOURCE];er.METHODS_RTSP=[on.OPTIONS,on.DESCRIBE,on.ANNOUNCE,on.SETUP,on.PLAY,on.PAUSE,on.TEARDOWN,on.GET_PARAMETER,on.SET_PARAMETER,on.REDIRECT,on.RECORD,on.FLUSH,on.GET,on.POST];er.METHOD_MAP=Pft.enumToMap(on);er.H_METHOD_MAP={};Object.keys(er.METHOD_MAP).forEach(e=>{/^H/.test(e)&&(er.H_METHOD_MAP[e]=er.METHOD_MAP[e])});var Mft;(function(e){e[e.SAFE=0]="SAFE",e[e.SAFE_WITH_CB=1]="SAFE_WITH_CB",e[e.UNSAFE=2]="UNSAFE"})(Mft=er.FINISH||(er.FINISH={}));er.ALPHA=[];for(let e=65;e<=90;e++)er.ALPHA.push(String.fromCharCode(e)),er.ALPHA.push(String.fromCharCode(e+32));er.NUM_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9};er.HEX_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};er.NUM=["0","1","2","3","4","5","6","7","8","9"];er.ALPHANUM=er.ALPHA.concat(er.NUM);er.MARK=["-","_",".","!","~","*","'","(",")"];er.USERINFO_CHARS=er.ALPHANUM.concat(er.MARK).concat(["%",";",":","&","=","+","$",","]);er.STRICT_URL_CHAR=["!",'"',"$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","@","[","\\","]","^","_","`","{","|","}","~"].concat(er.ALPHANUM);er.URL_CHAR=er.STRICT_URL_CHAR.concat(["	","\f"]);for(let e=128;e<=255;e++)er.URL_CHAR.push(e);er.HEX=er.NUM.concat(["a","b","c","d","e","f","A","B","C","D","E","F"]);er.STRICT_TOKEN=["!","#","$","%","&","'","*","+","-",".","^","_","`","|","~"].concat(er.ALPHANUM);er.TOKEN=er.STRICT_TOKEN.concat([" "]);er.HEADER_CHARS=["	"];for(let e=32;e<=255;e++)e!==127&&er.HEADER_CHARS.push(e);er.CONNECTION_TOKEN_CHARS=er.HEADER_CHARS.filter(e=>e!==44);er.MAJOR=er.NUM_MAP;er.MINOR=er.MAJOR;var WI;(function(e){e[e.GENERAL=0]="GENERAL",e[e.CONNECTION=1]="CONNECTION",e[e.CONTENT_LENGTH=2]="CONTENT_LENGTH",e[e.TRANSFER_ENCODING=3]="TRANSFER_ENCODING",e[e.UPGRADE=4]="UPGRADE",e[e.CONNECTION_KEEP_ALIVE=5]="CONNECTION_KEEP_ALIVE",e[e.CONNECTION_CLOSE=6]="CONNECTION_CLOSE",e[e.CONNECTION_UPGRADE=7]="CONNECTION_UPGRADE",e[e.TRANSFER_ENCODING_CHUNKED=8]="TRANSFER_ENCODING_CHUNKED"})(WI=er.HEADER_STATE||(er.HEADER_STATE={}));er.SPECIAL_HEADERS={connection:WI.CONNECTION,"content-length":WI.CONTENT_LENGTH,"proxy-connection":WI.CONNECTION,"transfer-encoding":WI.TRANSFER_ENCODING,upgrade:WI.UPGRADE}});var Ire=V((rMr,Z8e)=>{"use strict";d();var{Buffer:Oft}=require("node:buffer");Z8e.exports=Oft.from("AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAX8AYAJ/fwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAy0sBQYAAAIAAAAAAAACAQIAAgICAAADAAAAAAMDAwMBAQEBAQEBAQEAAAIAAAAEBQFwARISBQMBAAIGCAF/AUGA1AQLB9EFIgZtZW1vcnkCAAtfaW5pdGlhbGl6ZQAIGV9faW5kaXJlY3RfZnVuY3Rpb25fdGFibGUBAAtsbGh0dHBfaW5pdAAJGGxsaHR0cF9zaG91bGRfa2VlcF9hbGl2ZQAvDGxsaHR0cF9hbGxvYwALBm1hbGxvYwAxC2xsaHR0cF9mcmVlAAwEZnJlZQAMD2xsaHR0cF9nZXRfdHlwZQANFWxsaHR0cF9nZXRfaHR0cF9tYWpvcgAOFWxsaHR0cF9nZXRfaHR0cF9taW5vcgAPEWxsaHR0cF9nZXRfbWV0aG9kABAWbGxodHRwX2dldF9zdGF0dXNfY29kZQAREmxsaHR0cF9nZXRfdXBncmFkZQASDGxsaHR0cF9yZXNldAATDmxsaHR0cF9leGVjdXRlABQUbGxodHRwX3NldHRpbmdzX2luaXQAFQ1sbGh0dHBfZmluaXNoABYMbGxodHRwX3BhdXNlABcNbGxodHRwX3Jlc3VtZQAYG2xsaHR0cF9yZXN1bWVfYWZ0ZXJfdXBncmFkZQAZEGxsaHR0cF9nZXRfZXJybm8AGhdsbGh0dHBfZ2V0X2Vycm9yX3JlYXNvbgAbF2xsaHR0cF9zZXRfZXJyb3JfcmVhc29uABwUbGxodHRwX2dldF9lcnJvcl9wb3MAHRFsbGh0dHBfZXJybm9fbmFtZQAeEmxsaHR0cF9tZXRob2RfbmFtZQAfEmxsaHR0cF9zdGF0dXNfbmFtZQAgGmxsaHR0cF9zZXRfbGVuaWVudF9oZWFkZXJzACEhbGxodHRwX3NldF9sZW5pZW50X2NodW5rZWRfbGVuZ3RoACIdbGxodHRwX3NldF9sZW5pZW50X2tlZXBfYWxpdmUAIyRsbGh0dHBfc2V0X2xlbmllbnRfdHJhbnNmZXJfZW5jb2RpbmcAJBhsbGh0dHBfbWVzc2FnZV9uZWVkc19lb2YALgkXAQBBAQsRAQIDBAUKBgcrLSwqKSglJyYK07MCLBYAQYjQACgCAARAAAtBiNAAQQE2AgALFAAgABAwIAAgAjYCOCAAIAE6ACgLFAAgACAALwEyIAAtAC4gABAvEAALHgEBf0HAABAyIgEQMCABQYAINgI4IAEgADoAKCABC48MAQd/AkAgAEUNACAAQQhrIgEgAEEEaygCACIAQXhxIgRqIQUCQCAAQQFxDQAgAEEDcUUNASABIAEoAgAiAGsiAUGc0AAoAgBJDQEgACAEaiEEAkACQEGg0AAoAgAgAUcEQCAAQf8BTQRAIABBA3YhAyABKAIIIgAgASgCDCICRgRAQYzQAEGM0AAoAgBBfiADd3E2AgAMBQsgAiAANgIIIAAgAjYCDAwECyABKAIYIQYgASABKAIMIgBHBEAgACABKAIIIgI2AgggAiAANgIMDAMLIAFBFGoiAygCACICRQRAIAEoAhAiAkUNAiABQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFKAIEIgBBA3FBA0cNAiAFIABBfnE2AgRBlNAAIAQ2AgAgBSAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCABKAIcIgJBAnRBvNIAaiIDKAIAIAFGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgAUYbaiAANgIAIABFDQELIAAgBjYCGCABKAIQIgIEQCAAIAI2AhAgAiAANgIYCyABQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAFTw0AIAUoAgQiAEEBcUUNAAJAAkACQAJAIABBAnFFBEBBpNAAKAIAIAVGBEBBpNAAIAE2AgBBmNAAQZjQACgCACAEaiIANgIAIAEgAEEBcjYCBCABQaDQACgCAEcNBkGU0ABBADYCAEGg0ABBADYCAAwGC0Gg0AAoAgAgBUYEQEGg0AAgATYCAEGU0ABBlNAAKAIAIARqIgA2AgAgASAAQQFyNgIEIAAgAWogADYCAAwGCyAAQXhxIARqIQQgAEH/AU0EQCAAQQN2IQMgBSgCCCIAIAUoAgwiAkYEQEGM0ABBjNAAKAIAQX4gA3dxNgIADAULIAIgADYCCCAAIAI2AgwMBAsgBSgCGCEGIAUgBSgCDCIARwRAQZzQACgCABogACAFKAIIIgI2AgggAiAANgIMDAMLIAVBFGoiAygCACICRQRAIAUoAhAiAkUNAiAFQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFIABBfnE2AgQgASAEaiAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCAFKAIcIgJBAnRBvNIAaiIDKAIAIAVGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgBUYbaiAANgIAIABFDQELIAAgBjYCGCAFKAIQIgIEQCAAIAI2AhAgAiAANgIYCyAFQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAEaiAENgIAIAEgBEEBcjYCBCABQaDQACgCAEcNAEGU0AAgBDYCAAwBCyAEQf8BTQRAIARBeHFBtNAAaiEAAn9BjNAAKAIAIgJBASAEQQN2dCIDcUUEQEGM0AAgAiADcjYCACAADAELIAAoAggLIgIgATYCDCAAIAE2AgggASAANgIMIAEgAjYCCAwBC0EfIQIgBEH///8HTQRAIARBJiAEQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAgsgASACNgIcIAFCADcCECACQQJ0QbzSAGohAAJAQZDQACgCACIDQQEgAnQiB3FFBEAgACABNgIAQZDQACADIAdyNgIAIAEgADYCGCABIAE2AgggASABNgIMDAELIARBGSACQQF2a0EAIAJBH0cbdCECIAAoAgAhAAJAA0AgACIDKAIEQXhxIARGDQEgAkEddiEAIAJBAXQhAiADIABBBHFqQRBqIgcoAgAiAA0ACyAHIAE2AgAgASADNgIYIAEgATYCDCABIAE2AggMAQsgAygCCCIAIAE2AgwgAyABNgIIIAFBADYCGCABIAM2AgwgASAANgIIC0Gs0ABBrNAAKAIAQQFrIgBBfyAAGzYCAAsLBwAgAC0AKAsHACAALQAqCwcAIAAtACsLBwAgAC0AKQsHACAALwEyCwcAIAAtAC4LQAEEfyAAKAIYIQEgAC0ALSECIAAtACghAyAAKAI4IQQgABAwIAAgBDYCOCAAIAM6ACggACACOgAtIAAgATYCGAu74gECB38DfiABIAJqIQQCQCAAIgIoAgwiAA0AIAIoAgQEQCACIAE2AgQLIwBBEGsiCCQAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAIoAhwiA0EBaw7dAdoBAdkBAgMEBQYHCAkKCwwNDtgBDxDXARES1gETFBUWFxgZGhvgAd8BHB0e1QEfICEiIyQl1AEmJygpKiss0wHSAS0u0QHQAS8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRtsBR0hJSs8BzgFLzQFMzAFNTk9QUVJTVFVWV1hZWltcXV5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6e3x9fn+AAYEBggGDAYQBhQGGAYcBiAGJAYoBiwGMAY0BjgGPAZABkQGSAZMBlAGVAZYBlwGYAZkBmgGbAZwBnQGeAZ8BoAGhAaIBowGkAaUBpgGnAagBqQGqAasBrAGtAa4BrwGwAbEBsgGzAbQBtQG2AbcBywHKAbgByQG5AcgBugG7AbwBvQG+Ab8BwAHBAcIBwwHEAcUBxgEA3AELQQAMxgELQQ4MxQELQQ0MxAELQQ8MwwELQRAMwgELQRMMwQELQRQMwAELQRUMvwELQRYMvgELQRgMvQELQRkMvAELQRoMuwELQRsMugELQRwMuQELQR0MuAELQQgMtwELQR4MtgELQSAMtQELQR8MtAELQQcMswELQSEMsgELQSIMsQELQSMMsAELQSQMrwELQRIMrgELQREMrQELQSUMrAELQSYMqwELQScMqgELQSgMqQELQcMBDKgBC0EqDKcBC0ErDKYBC0EsDKUBC0EtDKQBC0EuDKMBC0EvDKIBC0HEAQyhAQtBMAygAQtBNAyfAQtBDAyeAQtBMQydAQtBMgycAQtBMwybAQtBOQyaAQtBNQyZAQtBxQEMmAELQQsMlwELQToMlgELQTYMlQELQQoMlAELQTcMkwELQTgMkgELQTwMkQELQTsMkAELQT0MjwELQQkMjgELQSkMjQELQT4MjAELQT8MiwELQcAADIoBC0HBAAyJAQtBwgAMiAELQcMADIcBC0HEAAyGAQtBxQAMhQELQcYADIQBC0EXDIMBC0HHAAyCAQtByAAMgQELQckADIABC0HKAAx/C0HLAAx+C0HNAAx9C0HMAAx8C0HOAAx7C0HPAAx6C0HQAAx5C0HRAAx4C0HSAAx3C0HTAAx2C0HUAAx1C0HWAAx0C0HVAAxzC0EGDHILQdcADHELQQUMcAtB2AAMbwtBBAxuC0HZAAxtC0HaAAxsC0HbAAxrC0HcAAxqC0EDDGkLQd0ADGgLQd4ADGcLQd8ADGYLQeEADGULQeAADGQLQeIADGMLQeMADGILQQIMYQtB5AAMYAtB5QAMXwtB5gAMXgtB5wAMXQtB6AAMXAtB6QAMWwtB6gAMWgtB6wAMWQtB7AAMWAtB7QAMVwtB7gAMVgtB7wAMVQtB8AAMVAtB8QAMUwtB8gAMUgtB8wAMUQtB9AAMUAtB9QAMTwtB9gAMTgtB9wAMTQtB+AAMTAtB+QAMSwtB+gAMSgtB+wAMSQtB/AAMSAtB/QAMRwtB/gAMRgtB/wAMRQtBgAEMRAtBgQEMQwtBggEMQgtBgwEMQQtBhAEMQAtBhQEMPwtBhgEMPgtBhwEMPQtBiAEMPAtBiQEMOwtBigEMOgtBiwEMOQtBjAEMOAtBjQEMNwtBjgEMNgtBjwEMNQtBkAEMNAtBkQEMMwtBkgEMMgtBkwEMMQtBlAEMMAtBlQEMLwtBlgEMLgtBlwEMLQtBmAEMLAtBmQEMKwtBmgEMKgtBmwEMKQtBnAEMKAtBnQEMJwtBngEMJgtBnwEMJQtBoAEMJAtBoQEMIwtBogEMIgtBowEMIQtBpAEMIAtBpQEMHwtBpgEMHgtBpwEMHQtBqAEMHAtBqQEMGwtBqgEMGgtBqwEMGQtBrAEMGAtBrQEMFwtBrgEMFgtBAQwVC0GvAQwUC0GwAQwTC0GxAQwSC0GzAQwRC0GyAQwQC0G0AQwPC0G1AQwOC0G2AQwNC0G3AQwMC0G4AQwLC0G5AQwKC0G6AQwJC0G7AQwIC0HGAQwHC0G8AQwGC0G9AQwFC0G+AQwEC0G/AQwDC0HAAQwCC0HCAQwBC0HBAQshAwNAAkACQAJAAkACQAJAAkACQAJAIAICfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAgJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAn8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCADDsYBAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHyAhIyUmKCorLC8wMTIzNDU2Nzk6Ozw9lANAQkRFRklLTk9QUVJTVFVWWFpbXF1eX2BhYmNkZWZnaGpsb3Bxc3V2eHl6e3x/gAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEBkgGTAZQBlQGWAZcBmAGZAZoBmwGcAZ0BngGfAaABoQGiAaMBpAGlAaYBpwGoAakBqgGrAawBrQGuAa8BsAGxAbIBswG0AbUBtgG3AbgBuQG6AbsBvAG9Ab4BvwHAAcEBwgHDAcQBxQHGAccByAHJAcsBzAHNAc4BzwGKA4kDiAOHA4QDgwOAA/sC+gL5AvgC9wL0AvMC8gLLAsECsALZAQsgASAERw3wAkHdASEDDLMDCyABIARHDcgBQcMBIQMMsgMLIAEgBEcNe0H3ACEDDLEDCyABIARHDXBB7wAhAwywAwsgASAERw1pQeoAIQMMrwMLIAEgBEcNZUHoACEDDK4DCyABIARHDWJB5gAhAwytAwsgASAERw0aQRghAwysAwsgASAERw0VQRIhAwyrAwsgASAERw1CQcUAIQMMqgMLIAEgBEcNNEE/IQMMqQMLIAEgBEcNMkE8IQMMqAMLIAEgBEcNK0ExIQMMpwMLIAItAC5BAUYNnwMMwQILQQAhAAJAAkACQCACLQAqRQ0AIAItACtFDQAgAi8BMCIDQQJxRQ0BDAILIAIvATAiA0EBcUUNAQtBASEAIAItAChBAUYNACACLwEyIgVB5ABrQeQASQ0AIAVBzAFGDQAgBUGwAkYNACADQcAAcQ0AQQAhACADQYgEcUGABEYNACADQShxQQBHIQALIAJBADsBMCACQQA6AC8gAEUN3wIgAkIANwMgDOACC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAARQ3MASAAQRVHDd0CIAJBBDYCHCACIAE2AhQgAkGwGDYCECACQRU2AgxBACEDDKQDCyABIARGBEBBBiEDDKQDCyABQQFqIQFBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAA3ZAgwcCyACQgA3AyBBEiEDDIkDCyABIARHDRZBHSEDDKEDCyABIARHBEAgAUEBaiEBQRAhAwyIAwtBByEDDKADCyACIAIpAyAiCiAEIAFrrSILfSIMQgAgCiAMWhs3AyAgCiALWA3UAkEIIQMMnwMLIAEgBEcEQCACQQk2AgggAiABNgIEQRQhAwyGAwtBCSEDDJ4DCyACKQMgQgBSDccBIAIgAi8BMEGAAXI7ATAMQgsgASAERw0/QdAAIQMMnAMLIAEgBEYEQEELIQMMnAMLIAFBAWohAUEAIQACQCACKAI4IgNFDQAgAygCUCIDRQ0AIAIgAxEAACEACyAADc8CDMYBC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ3GASAAQRVHDc0CIAJBCzYCHCACIAE2AhQgAkGCGTYCECACQRU2AgxBACEDDJoDC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ0MIABBFUcNygIgAkEaNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMmQMLQQAhAAJAIAIoAjgiA0UNACADKAJMIgNFDQAgAiADEQAAIQALIABFDcQBIABBFUcNxwIgAkELNgIcIAIgATYCFCACQZEXNgIQIAJBFTYCDEEAIQMMmAMLIAEgBEYEQEEPIQMMmAMLIAEtAAAiAEE7Rg0HIABBDUcNxAIgAUEBaiEBDMMBC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3DASAAQRVHDcICIAJBDzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJYDCwNAIAEtAABB8DVqLQAAIgBBAUcEQCAAQQJHDcECIAIoAgQhAEEAIQMgAkEANgIEIAIgACABQQFqIgEQLSIADcICDMUBCyAEIAFBAWoiAUcNAAtBEiEDDJUDC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3FASAAQRVHDb0CIAJBGzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJQDCyABIARGBEBBFiEDDJQDCyACQQo2AgggAiABNgIEQQAhAAJAIAIoAjgiA0UNACADKAJIIgNFDQAgAiADEQAAIQALIABFDcIBIABBFUcNuQIgAkEVNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMkwMLIAEgBEcEQANAIAEtAABB8DdqLQAAIgBBAkcEQAJAIABBAWsOBMQCvQIAvgK9AgsgAUEBaiEBQQghAwz8AgsgBCABQQFqIgFHDQALQRUhAwyTAwtBFSEDDJIDCwNAIAEtAABB8DlqLQAAIgBBAkcEQCAAQQFrDgTFArcCwwK4ArcCCyAEIAFBAWoiAUcNAAtBGCEDDJEDCyABIARHBEAgAkELNgIIIAIgATYCBEEHIQMM+AILQRkhAwyQAwsgAUEBaiEBDAILIAEgBEYEQEEaIQMMjwMLAkAgAS0AAEENaw4UtQG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwEAvwELQQAhAyACQQA2AhwgAkGvCzYCECACQQI2AgwgAiABQQFqNgIUDI4DCyABIARGBEBBGyEDDI4DCyABLQAAIgBBO0cEQCAAQQ1HDbECIAFBAWohAQy6AQsgAUEBaiEBC0EiIQMM8wILIAEgBEYEQEEcIQMMjAMLQgAhCgJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAS0AAEEwaw43wQLAAgABAgMEBQYH0AHQAdAB0AHQAdAB0AEICQoLDA3QAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdABDg8QERIT0AELQgIhCgzAAgtCAyEKDL8CC0IEIQoMvgILQgUhCgy9AgtCBiEKDLwCC0IHIQoMuwILQgghCgy6AgtCCSEKDLkCC0IKIQoMuAILQgshCgy3AgtCDCEKDLYCC0INIQoMtQILQg4hCgy0AgtCDyEKDLMCC0IKIQoMsgILQgshCgyxAgtCDCEKDLACC0INIQoMrwILQg4hCgyuAgtCDyEKDK0CC0IAIQoCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAEtAABBMGsON8ACvwIAAQIDBAUGB74CvgK+Ar4CvgK+Ar4CCAkKCwwNvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ag4PEBESE74CC0ICIQoMvwILQgMhCgy+AgtCBCEKDL0CC0IFIQoMvAILQgYhCgy7AgtCByEKDLoCC0IIIQoMuQILQgkhCgy4AgtCCiEKDLcCC0ILIQoMtgILQgwhCgy1AgtCDSEKDLQCC0IOIQoMswILQg8hCgyyAgtCCiEKDLECC0ILIQoMsAILQgwhCgyvAgtCDSEKDK4CC0IOIQoMrQILQg8hCgysAgsgAiACKQMgIgogBCABa60iC30iDEIAIAogDFobNwMgIAogC1gNpwJBHyEDDIkDCyABIARHBEAgAkEJNgIIIAIgATYCBEElIQMM8AILQSAhAwyIAwtBASEFIAIvATAiA0EIcUUEQCACKQMgQgBSIQULAkAgAi0ALgRAQQEhACACLQApQQVGDQEgA0HAAHFFIAVxRQ0BC0EAIQAgA0HAAHENAEECIQAgA0EIcQ0AIANBgARxBEACQCACLQAoQQFHDQAgAi0ALUEKcQ0AQQUhAAwCC0EEIQAMAQsgA0EgcUUEQAJAIAItAChBAUYNACACLwEyIgBB5ABrQeQASQ0AIABBzAFGDQAgAEGwAkYNAEEEIQAgA0EocUUNAiADQYgEcUGABEYNAgtBACEADAELQQBBAyACKQMgUBshAAsgAEEBaw4FvgIAsAEBpAKhAgtBESEDDO0CCyACQQE6AC8MhAMLIAEgBEcNnQJBJCEDDIQDCyABIARHDRxBxgAhAwyDAwtBACEAAkAgAigCOCIDRQ0AIAMoAkQiA0UNACACIAMRAAAhAAsgAEUNJyAAQRVHDZgCIAJB0AA2AhwgAiABNgIUIAJBkRg2AhAgAkEVNgIMQQAhAwyCAwsgASAERgRAQSghAwyCAwtBACEDIAJBADYCBCACQQw2AgggAiABIAEQKiIARQ2UAiACQSc2AhwgAiABNgIUIAIgADYCDAyBAwsgASAERgRAQSkhAwyBAwsgAS0AACIAQSBGDRMgAEEJRw2VAiABQQFqIQEMFAsgASAERwRAIAFBAWohAQwWC0EqIQMM/wILIAEgBEYEQEErIQMM/wILIAEtAAAiAEEJRyAAQSBHcQ2QAiACLQAsQQhHDd0CIAJBADoALAzdAgsgASAERgRAQSwhAwz+AgsgAS0AAEEKRw2OAiABQQFqIQEMsAELIAEgBEcNigJBLyEDDPwCCwNAIAEtAAAiAEEgRwRAIABBCmsOBIQCiAKIAoQChgILIAQgAUEBaiIBRw0AC0ExIQMM+wILQTIhAyABIARGDfoCIAIoAgAiACAEIAFraiEHIAEgAGtBA2ohBgJAA0AgAEHwO2otAAAgAS0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQEgAEEDRgRAQQYhAQziAgsgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAc2AgAM+wILIAJBADYCAAyGAgtBMyEDIAQgASIARg35AiAEIAFrIAIoAgAiAWohByAAIAFrQQhqIQYCQANAIAFB9DtqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBCEYEQEEFIQEM4QILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPoCCyACQQA2AgAgACEBDIUCC0E0IQMgBCABIgBGDfgCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgJAA0AgAUHQwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBBUYEQEEHIQEM4AILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPkCCyACQQA2AgAgACEBDIQCCyABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRg0JDIECCyAEIAFBAWoiAUcNAAtBMCEDDPgCC0EwIQMM9wILIAEgBEcEQANAIAEtAAAiAEEgRwRAIABBCmsOBP8B/gH+Af8B/gELIAQgAUEBaiIBRw0AC0E4IQMM9wILQTghAwz2AgsDQCABLQAAIgBBIEcgAEEJR3EN9gEgBCABQQFqIgFHDQALQTwhAwz1AgsDQCABLQAAIgBBIEcEQAJAIABBCmsOBPkBBAT5AQALIABBLEYN9QEMAwsgBCABQQFqIgFHDQALQT8hAwz0AgtBwAAhAyABIARGDfMCIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAEGAQGstAAAgAS0AAEEgckcNASAAQQZGDdsCIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPQCCyACQQA2AgALQTYhAwzZAgsgASAERgRAQcEAIQMM8gILIAJBDDYCCCACIAE2AgQgAi0ALEEBaw4E+wHuAewB6wHUAgsgAUEBaiEBDPoBCyABIARHBEADQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxIgBBCUYNACAAQSBGDQACQAJAAkACQCAAQeMAaw4TAAMDAwMDAwMBAwMDAwMDAwMDAgMLIAFBAWohAUExIQMM3AILIAFBAWohAUEyIQMM2wILIAFBAWohAUEzIQMM2gILDP4BCyAEIAFBAWoiAUcNAAtBNSEDDPACC0E1IQMM7wILIAEgBEcEQANAIAEtAABBgDxqLQAAQQFHDfcBIAQgAUEBaiIBRw0AC0E9IQMM7wILQT0hAwzuAgtBACEAAkAgAigCOCIDRQ0AIAMoAkAiA0UNACACIAMRAAAhAAsgAEUNASAAQRVHDeYBIAJBwgA2AhwgAiABNgIUIAJB4xg2AhAgAkEVNgIMQQAhAwztAgsgAUEBaiEBC0E8IQMM0gILIAEgBEYEQEHCACEDDOsCCwJAA0ACQCABLQAAQQlrDhgAAswCzALRAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAgDMAgsgBCABQQFqIgFHDQALQcIAIQMM6wILIAFBAWohASACLQAtQQFxRQ3+AQtBLCEDDNACCyABIARHDd4BQcQAIQMM6AILA0AgAS0AAEGQwABqLQAAQQFHDZwBIAQgAUEBaiIBRw0AC0HFACEDDOcCCyABLQAAIgBBIEYN/gEgAEE6Rw3AAiACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgAN3gEM3QELQccAIQMgBCABIgBGDeUCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFBkMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvwIgAUEFRg3CAiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzlAgtByAAhAyAEIAEiAEYN5AIgBCABayACKAIAIgFqIQcgACABa0EJaiEGA0AgAUGWwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw2+AkECIAFBCUYNwgIaIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOQCCyABIARGBEBByQAhAwzkAgsCQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxQe4Aaw4HAL8CvwK/Ar8CvwIBvwILIAFBAWohAUE+IQMMywILIAFBAWohAUE/IQMMygILQcoAIQMgBCABIgBGDeICIAQgAWsgAigCACIBaiEGIAAgAWtBAWohBwNAIAFBoMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvAIgAUEBRg2+AiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBjYCAAziAgtBywAhAyAEIAEiAEYN4QIgBCABayACKAIAIgFqIQcgACABa0EOaiEGA0AgAUGiwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw27AiABQQ5GDb4CIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOECC0HMACEDIAQgASIARg3gAiAEIAFrIAIoAgAiAWohByAAIAFrQQ9qIQYDQCABQcDCAGotAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDboCQQMgAUEPRg2+AhogAUEBaiEBIAQgAEEBaiIARw0ACyACIAc2AgAM4AILQc0AIQMgBCABIgBGDd8CIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFB0MIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNuQJBBCABQQVGDb0CGiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzfAgsgASAERgRAQc4AIQMM3wILAkACQAJAAkAgAS0AACIAQSByIAAgAEHBAGtB/wFxQRpJG0H/AXFB4wBrDhMAvAK8ArwCvAK8ArwCvAK8ArwCvAK8ArwCAbwCvAK8AgIDvAILIAFBAWohAUHBACEDDMgCCyABQQFqIQFBwgAhAwzHAgsgAUEBaiEBQcMAIQMMxgILIAFBAWohAUHEACEDDMUCCyABIARHBEAgAkENNgIIIAIgATYCBEHFACEDDMUCC0HPACEDDN0CCwJAAkAgAS0AAEEKaw4EAZABkAEAkAELIAFBAWohAQtBKCEDDMMCCyABIARGBEBB0QAhAwzcAgsgAS0AAEEgRw0AIAFBAWohASACLQAtQQFxRQ3QAQtBFyEDDMECCyABIARHDcsBQdIAIQMM2QILQdMAIQMgASAERg3YAiACKAIAIgAgBCABa2ohBiABIABrQQFqIQUDQCABLQAAIABB1sIAai0AAEcNxwEgAEEBRg3KASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBjYCAAzYAgsgASAERgRAQdUAIQMM2AILIAEtAABBCkcNwgEgAUEBaiEBDMoBCyABIARGBEBB1gAhAwzXAgsCQAJAIAEtAABBCmsOBADDAcMBAcMBCyABQQFqIQEMygELIAFBAWohAUHKACEDDL0CC0EAIQACQCACKAI4IgNFDQAgAygCPCIDRQ0AIAIgAxEAACEACyAADb8BQc0AIQMMvAILIAItAClBIkYNzwIMiQELIAQgASIFRgRAQdsAIQMM1AILQQAhAEEBIQFBASEGQQAhAwJAAn8CQAJAAkACQAJAAkACQCAFLQAAQTBrDgrFAcQBAAECAwQFBgjDAQtBAgwGC0EDDAULQQQMBAtBBQwDC0EGDAILQQcMAQtBCAshA0EAIQFBACEGDL0BC0EJIQNBASEAQQAhAUEAIQYMvAELIAEgBEYEQEHdACEDDNMCCyABLQAAQS5HDbgBIAFBAWohAQyIAQsgASAERw22AUHfACEDDNECCyABIARHBEAgAkEONgIIIAIgATYCBEHQACEDDLgCC0HgACEDDNACC0HhACEDIAEgBEYNzwIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGA0AgAS0AACAAQeLCAGotAABHDbEBIABBA0YNswEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMzwILQeIAIQMgASAERg3OAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYDQCABLQAAIABB5sIAai0AAEcNsAEgAEECRg2vASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAzOAgtB4wAhAyABIARGDc0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgNAIAEtAAAgAEHpwgBqLQAARw2vASAAQQNGDa0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADM0CCyABIARGBEBB5QAhAwzNAgsgAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANqgFB1gAhAwyzAgsgASAERwRAA0AgAS0AACIAQSBHBEACQAJAAkAgAEHIAGsOCwABswGzAbMBswGzAbMBswGzAQKzAQsgAUEBaiEBQdIAIQMMtwILIAFBAWohAUHTACEDDLYCCyABQQFqIQFB1AAhAwy1AgsgBCABQQFqIgFHDQALQeQAIQMMzAILQeQAIQMMywILA0AgAS0AAEHwwgBqLQAAIgBBAUcEQCAAQQJrDgOnAaYBpQGkAQsgBCABQQFqIgFHDQALQeYAIQMMygILIAFBAWogASAERw0CGkHnACEDDMkCCwNAIAEtAABB8MQAai0AACIAQQFHBEACQCAAQQJrDgSiAaEBoAEAnwELQdcAIQMMsQILIAQgAUEBaiIBRw0AC0HoACEDDMgCCyABIARGBEBB6QAhAwzIAgsCQCABLQAAIgBBCmsOGrcBmwGbAbQBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBpAGbAZsBAJkBCyABQQFqCyEBQQYhAwytAgsDQCABLQAAQfDGAGotAABBAUcNfSAEIAFBAWoiAUcNAAtB6gAhAwzFAgsgAUEBaiABIARHDQIaQesAIQMMxAILIAEgBEYEQEHsACEDDMQCCyABQQFqDAELIAEgBEYEQEHtACEDDMMCCyABQQFqCyEBQQQhAwyoAgsgASAERgRAQe4AIQMMwQILAkACQAJAIAEtAABB8MgAai0AAEEBaw4HkAGPAY4BAHwBAo0BCyABQQFqIQEMCwsgAUEBagyTAQtBACEDIAJBADYCHCACQZsSNgIQIAJBBzYCDCACIAFBAWo2AhQMwAILAkADQCABLQAAQfDIAGotAAAiAEEERwRAAkACQCAAQQFrDgeUAZMBkgGNAQAEAY0BC0HaACEDDKoCCyABQQFqIQFB3AAhAwypAgsgBCABQQFqIgFHDQALQe8AIQMMwAILIAFBAWoMkQELIAQgASIARgRAQfAAIQMMvwILIAAtAABBL0cNASAAQQFqIQEMBwsgBCABIgBGBEBB8QAhAwy+AgsgAC0AACIBQS9GBEAgAEEBaiEBQd0AIQMMpQILIAFBCmsiA0EWSw0AIAAhAUEBIAN0QYmAgAJxDfkBC0EAIQMgAkEANgIcIAIgADYCFCACQYwcNgIQIAJBBzYCDAy8AgsgASAERwRAIAFBAWohAUHeACEDDKMCC0HyACEDDLsCCyABIARGBEBB9AAhAwy7AgsCQCABLQAAQfDMAGotAABBAWsOA/cBcwCCAQtB4QAhAwyhAgsgASAERwRAA0AgAS0AAEHwygBqLQAAIgBBA0cEQAJAIABBAWsOAvkBAIUBC0HfACEDDKMCCyAEIAFBAWoiAUcNAAtB8wAhAwy6AgtB8wAhAwy5AgsgASAERwRAIAJBDzYCCCACIAE2AgRB4AAhAwygAgtB9QAhAwy4AgsgASAERgRAQfYAIQMMuAILIAJBDzYCCCACIAE2AgQLQQMhAwydAgsDQCABLQAAQSBHDY4CIAQgAUEBaiIBRw0AC0H3ACEDDLUCCyABIARGBEBB+AAhAwy1AgsgAS0AAEEgRw16IAFBAWohAQxbC0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAADXgMgAILIAEgBEYEQEH6ACEDDLMCCyABLQAAQcwARw10IAFBAWohAUETDHYLQfsAIQMgASAERg2xAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYDQCABLQAAIABB8M4Aai0AAEcNcyAAQQVGDXUgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMsQILIAEgBEYEQEH8ACEDDLECCwJAAkAgAS0AAEHDAGsODAB0dHR0dHR0dHR0AXQLIAFBAWohAUHmACEDDJgCCyABQQFqIQFB5wAhAwyXAgtB/QAhAyABIARGDa8CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDXIgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADLACCyACQQA2AgAgBkEBaiEBQRAMcwtB/gAhAyABIARGDa4CIAIoAgAiACAEIAFraiEFIAEgAGtBBWohBgJAA0AgAS0AACAAQfbOAGotAABHDXEgAEEFRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK8CCyACQQA2AgAgBkEBaiEBQRYMcgtB/wAhAyABIARGDa0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQfzOAGotAABHDXAgAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK4CCyACQQA2AgAgBkEBaiEBQQUMcQsgASAERgRAQYABIQMMrQILIAEtAABB2QBHDW4gAUEBaiEBQQgMcAsgASAERgRAQYEBIQMMrAILAkACQCABLQAAQc4Aaw4DAG8BbwsgAUEBaiEBQesAIQMMkwILIAFBAWohAUHsACEDDJICCyABIARGBEBBggEhAwyrAgsCQAJAIAEtAABByABrDggAbm5ubm5uAW4LIAFBAWohAUHqACEDDJICCyABQQFqIQFB7QAhAwyRAgtBgwEhAyABIARGDakCIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQYDPAGotAABHDWwgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKoCCyACQQA2AgAgBkEBaiEBQQAMbQtBhAEhAyABIARGDagCIAIoAgAiACAEIAFraiEFIAEgAGtBBGohBgJAA0AgAS0AACAAQYPPAGotAABHDWsgAEEERg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKkCCyACQQA2AgAgBkEBaiEBQSMMbAsgASAERgRAQYUBIQMMqAILAkACQCABLQAAQcwAaw4IAGtra2trawFrCyABQQFqIQFB7wAhAwyPAgsgAUEBaiEBQfAAIQMMjgILIAEgBEYEQEGGASEDDKcCCyABLQAAQcUARw1oIAFBAWohAQxgC0GHASEDIAEgBEYNpQIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABBiM8Aai0AAEcNaCAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpgILIAJBADYCACAGQQFqIQFBLQxpC0GIASEDIAEgBEYNpAIgAigCACIAIAQgAWtqIQUgASAAa0EIaiEGAkADQCABLQAAIABB0M8Aai0AAEcNZyAAQQhGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpQILIAJBADYCACAGQQFqIQFBKQxoCyABIARGBEBBiQEhAwykAgtBASABLQAAQd8ARw1nGiABQQFqIQEMXgtBigEhAyABIARGDaICIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgNAIAEtAAAgAEGMzwBqLQAARw1kIABBAUYN+gEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMogILQYsBIQMgASAERg2hAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGOzwBqLQAARw1kIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyiAgsgAkEANgIAIAZBAWohAUECDGULQYwBIQMgASAERg2gAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHwzwBqLQAARw1jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyhAgsgAkEANgIAIAZBAWohAUEfDGQLQY0BIQMgASAERg2fAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHyzwBqLQAARw1iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAygAgsgAkEANgIAIAZBAWohAUEJDGMLIAEgBEYEQEGOASEDDJ8CCwJAAkAgAS0AAEHJAGsOBwBiYmJiYgFiCyABQQFqIQFB+AAhAwyGAgsgAUEBaiEBQfkAIQMMhQILQY8BIQMgASAERg2dAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGRzwBqLQAARw1gIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyeAgsgAkEANgIAIAZBAWohAUEYDGELQZABIQMgASAERg2cAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGXzwBqLQAARw1fIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAydAgsgAkEANgIAIAZBAWohAUEXDGALQZEBIQMgASAERg2bAiACKAIAIgAgBCABa2ohBSABIABrQQZqIQYCQANAIAEtAAAgAEGazwBqLQAARw1eIABBBkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAycAgsgAkEANgIAIAZBAWohAUEVDF8LQZIBIQMgASAERg2aAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGhzwBqLQAARw1dIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAybAgsgAkEANgIAIAZBAWohAUEeDF4LIAEgBEYEQEGTASEDDJoCCyABLQAAQcwARw1bIAFBAWohAUEKDF0LIAEgBEYEQEGUASEDDJkCCwJAAkAgAS0AAEHBAGsODwBcXFxcXFxcXFxcXFxcAVwLIAFBAWohAUH+ACEDDIACCyABQQFqIQFB/wAhAwz/AQsgASAERgRAQZUBIQMMmAILAkACQCABLQAAQcEAaw4DAFsBWwsgAUEBaiEBQf0AIQMM/wELIAFBAWohAUGAASEDDP4BC0GWASEDIAEgBEYNlgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBp88Aai0AAEcNWSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlwILIAJBADYCACAGQQFqIQFBCwxaCyABIARGBEBBlwEhAwyWAgsCQAJAAkACQCABLQAAQS1rDiMAW1tbW1tbW1tbW1tbW1tbW1tbW1tbW1sBW1tbW1sCW1tbA1sLIAFBAWohAUH7ACEDDP8BCyABQQFqIQFB/AAhAwz+AQsgAUEBaiEBQYEBIQMM/QELIAFBAWohAUGCASEDDPwBC0GYASEDIAEgBEYNlAIgAigCACIAIAQgAWtqIQUgASAAa0EEaiEGAkADQCABLQAAIABBqc8Aai0AAEcNVyAAQQRGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlQILIAJBADYCACAGQQFqIQFBGQxYC0GZASEDIAEgBEYNkwIgAigCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABBrs8Aai0AAEcNViAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlAILIAJBADYCACAGQQFqIQFBBgxXC0GaASEDIAEgBEYNkgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBtM8Aai0AAEcNVSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkwILIAJBADYCACAGQQFqIQFBHAxWC0GbASEDIAEgBEYNkQIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBts8Aai0AAEcNVCAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkgILIAJBADYCACAGQQFqIQFBJwxVCyABIARGBEBBnAEhAwyRAgsCQAJAIAEtAABB1ABrDgIAAVQLIAFBAWohAUGGASEDDPgBCyABQQFqIQFBhwEhAwz3AQtBnQEhAyABIARGDY8CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbjPAGotAABHDVIgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADJACCyACQQA2AgAgBkEBaiEBQSYMUwtBngEhAyABIARGDY4CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbrPAGotAABHDVEgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI8CCyACQQA2AgAgBkEBaiEBQQMMUgtBnwEhAyABIARGDY0CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDVAgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI4CCyACQQA2AgAgBkEBaiEBQQwMUQtBoAEhAyABIARGDYwCIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQbzPAGotAABHDU8gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI0CCyACQQA2AgAgBkEBaiEBQQ0MUAsgASAERgRAQaEBIQMMjAILAkACQCABLQAAQcYAaw4LAE9PT09PT09PTwFPCyABQQFqIQFBiwEhAwzzAQsgAUEBaiEBQYwBIQMM8gELIAEgBEYEQEGiASEDDIsCCyABLQAAQdAARw1MIAFBAWohAQxGCyABIARGBEBBowEhAwyKAgsCQAJAIAEtAABByQBrDgcBTU1NTU0ATQsgAUEBaiEBQY4BIQMM8QELIAFBAWohAUEiDE0LQaQBIQMgASAERg2IAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHAzwBqLQAARw1LIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyJAgsgAkEANgIAIAZBAWohAUEdDEwLIAEgBEYEQEGlASEDDIgCCwJAAkAgAS0AAEHSAGsOAwBLAUsLIAFBAWohAUGQASEDDO8BCyABQQFqIQFBBAxLCyABIARGBEBBpgEhAwyHAgsCQAJAAkACQAJAIAEtAABBwQBrDhUATU1NTU1NTU1NTQFNTQJNTQNNTQRNCyABQQFqIQFBiAEhAwzxAQsgAUEBaiEBQYkBIQMM8AELIAFBAWohAUGKASEDDO8BCyABQQFqIQFBjwEhAwzuAQsgAUEBaiEBQZEBIQMM7QELQacBIQMgASAERg2FAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHtzwBqLQAARw1IIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyGAgsgAkEANgIAIAZBAWohAUERDEkLQagBIQMgASAERg2EAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHCzwBqLQAARw1HIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyFAgsgAkEANgIAIAZBAWohAUEsDEgLQakBIQMgASAERg2DAiACKAIAIgAgBCABa2ohBSABIABrQQRqIQYCQANAIAEtAAAgAEHFzwBqLQAARw1GIABBBEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyEAgsgAkEANgIAIAZBAWohAUErDEcLQaoBIQMgASAERg2CAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHKzwBqLQAARw1FIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyDAgsgAkEANgIAIAZBAWohAUEUDEYLIAEgBEYEQEGrASEDDIICCwJAAkACQAJAIAEtAABBwgBrDg8AAQJHR0dHR0dHR0dHRwNHCyABQQFqIQFBkwEhAwzrAQsgAUEBaiEBQZQBIQMM6gELIAFBAWohAUGVASEDDOkBCyABQQFqIQFBlgEhAwzoAQsgASAERgRAQawBIQMMgQILIAEtAABBxQBHDUIgAUEBaiEBDD0LQa0BIQMgASAERg3/ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHNzwBqLQAARw1CIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyAAgsgAkEANgIAIAZBAWohAUEODEMLIAEgBEYEQEGuASEDDP8BCyABLQAAQdAARw1AIAFBAWohAUElDEILQa8BIQMgASAERg39ASACKAIAIgAgBCABa2ohBSABIABrQQhqIQYCQANAIAEtAAAgAEHQzwBqLQAARw1AIABBCEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz+AQsgAkEANgIAIAZBAWohAUEqDEELIAEgBEYEQEGwASEDDP0BCwJAAkAgAS0AAEHVAGsOCwBAQEBAQEBAQEABQAsgAUEBaiEBQZoBIQMM5AELIAFBAWohAUGbASEDDOMBCyABIARGBEBBsQEhAwz8AQsCQAJAIAEtAABBwQBrDhQAPz8/Pz8/Pz8/Pz8/Pz8/Pz8/AT8LIAFBAWohAUGZASEDDOMBCyABQQFqIQFBnAEhAwziAQtBsgEhAyABIARGDfoBIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQdnPAGotAABHDT0gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPsBCyACQQA2AgAgBkEBaiEBQSEMPgtBswEhAyABIARGDfkBIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAS0AACAAQd3PAGotAABHDTwgAEEGRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPoBCyACQQA2AgAgBkEBaiEBQRoMPQsgASAERgRAQbQBIQMM+QELAkACQAJAIAEtAABBxQBrDhEAPT09PT09PT09AT09PT09Aj0LIAFBAWohAUGdASEDDOEBCyABQQFqIQFBngEhAwzgAQsgAUEBaiEBQZ8BIQMM3wELQbUBIQMgASAERg33ASACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEHkzwBqLQAARw06IABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz4AQsgAkEANgIAIAZBAWohAUEoDDsLQbYBIQMgASAERg32ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHqzwBqLQAARw05IABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz3AQsgAkEANgIAIAZBAWohAUEHDDoLIAEgBEYEQEG3ASEDDPYBCwJAAkAgAS0AAEHFAGsODgA5OTk5OTk5OTk5OTkBOQsgAUEBaiEBQaEBIQMM3QELIAFBAWohAUGiASEDDNwBC0G4ASEDIAEgBEYN9AEgAigCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB7c8Aai0AAEcNNyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9QELIAJBADYCACAGQQFqIQFBEgw4C0G5ASEDIAEgBEYN8wEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8M8Aai0AAEcNNiAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9AELIAJBADYCACAGQQFqIQFBIAw3C0G6ASEDIAEgBEYN8gEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8s8Aai0AAEcNNSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8wELIAJBADYCACAGQQFqIQFBDww2CyABIARGBEBBuwEhAwzyAQsCQAJAIAEtAABByQBrDgcANTU1NTUBNQsgAUEBaiEBQaUBIQMM2QELIAFBAWohAUGmASEDDNgBC0G8ASEDIAEgBEYN8AEgAigCACIAIAQgAWtqIQUgASAAa0EHaiEGAkADQCABLQAAIABB9M8Aai0AAEcNMyAAQQdGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8QELIAJBADYCACAGQQFqIQFBGww0CyABIARGBEBBvQEhAwzwAQsCQAJAAkAgAS0AAEHCAGsOEgA0NDQ0NDQ0NDQBNDQ0NDQ0AjQLIAFBAWohAUGkASEDDNgBCyABQQFqIQFBpwEhAwzXAQsgAUEBaiEBQagBIQMM1gELIAEgBEYEQEG+ASEDDO8BCyABLQAAQc4ARw0wIAFBAWohAQwsCyABIARGBEBBvwEhAwzuAQsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCABLQAAQcEAaw4VAAECAz8EBQY/Pz8HCAkKCz8MDQ4PPwsgAUEBaiEBQegAIQMM4wELIAFBAWohAUHpACEDDOIBCyABQQFqIQFB7gAhAwzhAQsgAUEBaiEBQfIAIQMM4AELIAFBAWohAUHzACEDDN8BCyABQQFqIQFB9gAhAwzeAQsgAUEBaiEBQfcAIQMM3QELIAFBAWohAUH6ACEDDNwBCyABQQFqIQFBgwEhAwzbAQsgAUEBaiEBQYQBIQMM2gELIAFBAWohAUGFASEDDNkBCyABQQFqIQFBkgEhAwzYAQsgAUEBaiEBQZgBIQMM1wELIAFBAWohAUGgASEDDNYBCyABQQFqIQFBowEhAwzVAQsgAUEBaiEBQaoBIQMM1AELIAEgBEcEQCACQRA2AgggAiABNgIEQasBIQMM1AELQcABIQMM7AELQQAhAAJAIAIoAjgiA0UNACADKAI0IgNFDQAgAiADEQAAIQALIABFDV4gAEEVRw0HIAJB0QA2AhwgAiABNgIUIAJBsBc2AhAgAkEVNgIMQQAhAwzrAQsgAUEBaiABIARHDQgaQcIBIQMM6gELA0ACQCABLQAAQQprDgQIAAALAAsgBCABQQFqIgFHDQALQcMBIQMM6QELIAEgBEcEQCACQRE2AgggAiABNgIEQQEhAwzQAQtBxAEhAwzoAQsgASAERgRAQcUBIQMM6AELAkACQCABLQAAQQprDgQBKCgAKAsgAUEBagwJCyABQQFqDAULIAEgBEYEQEHGASEDDOcBCwJAAkAgAS0AAEEKaw4XAQsLAQsLCwsLCwsLCwsLCwsLCwsLCwALCyABQQFqIQELQbABIQMMzQELIAEgBEYEQEHIASEDDOYBCyABLQAAQSBHDQkgAkEAOwEyIAFBAWohAUGzASEDDMwBCwNAIAEhAAJAIAEgBEcEQCABLQAAQTBrQf8BcSIDQQpJDQEMJwtBxwEhAwzmAQsCQCACLwEyIgFBmTNLDQAgAiABQQpsIgU7ATIgBUH+/wNxIANB//8Dc0sNACAAQQFqIQEgAiADIAVqIgM7ATIgA0H//wNxQegHSQ0BCwtBACEDIAJBADYCHCACQcEJNgIQIAJBDTYCDCACIABBAWo2AhQM5AELIAJBADYCHCACIAE2AhQgAkHwDDYCECACQRs2AgxBACEDDOMBCyACKAIEIQAgAkEANgIEIAIgACABECYiAA0BIAFBAWoLIQFBrQEhAwzIAQsgAkHBATYCHCACIAA2AgwgAiABQQFqNgIUQQAhAwzgAQsgAigCBCEAIAJBADYCBCACIAAgARAmIgANASABQQFqCyEBQa4BIQMMxQELIAJBwgE2AhwgAiAANgIMIAIgAUEBajYCFEEAIQMM3QELIAJBADYCHCACIAE2AhQgAkGXCzYCECACQQ02AgxBACEDDNwBCyACQQA2AhwgAiABNgIUIAJB4xA2AhAgAkEJNgIMQQAhAwzbAQsgAkECOgAoDKwBC0EAIQMgAkEANgIcIAJBrws2AhAgAkECNgIMIAIgAUEBajYCFAzZAQtBAiEDDL8BC0ENIQMMvgELQSYhAwy9AQtBFSEDDLwBC0EWIQMMuwELQRghAwy6AQtBHCEDDLkBC0EdIQMMuAELQSAhAwy3AQtBISEDDLYBC0EjIQMMtQELQcYAIQMMtAELQS4hAwyzAQtBPSEDDLIBC0HLACEDDLEBC0HOACEDDLABC0HYACEDDK8BC0HZACEDDK4BC0HbACEDDK0BC0HxACEDDKwBC0H0ACEDDKsBC0GNASEDDKoBC0GXASEDDKkBC0GpASEDDKgBC0GvASEDDKcBC0GxASEDDKYBCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB8Rs2AhAgAkEGNgIMDL0BCyACQQA2AgAgBkEBaiEBQSQLOgApIAIoAgQhACACQQA2AgQgAiAAIAEQJyIARQRAQeUAIQMMowELIAJB+QA2AhwgAiABNgIUIAIgADYCDEEAIQMMuwELIABBFUcEQCACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwy7AQsgAkH4ADYCHCACIAE2AhQgAkHKGDYCECACQRU2AgxBACEDDLoBCyACQQA2AhwgAiABNgIUIAJBjhs2AhAgAkEGNgIMQQAhAwy5AQsgAkEANgIcIAIgATYCFCACQf4RNgIQIAJBBzYCDEEAIQMMuAELIAJBADYCHCACIAE2AhQgAkGMHDYCECACQQc2AgxBACEDDLcBCyACQQA2AhwgAiABNgIUIAJBww82AhAgAkEHNgIMQQAhAwy2AQsgAkEANgIcIAIgATYCFCACQcMPNgIQIAJBBzYCDEEAIQMMtQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0RIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMtAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0gIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMswELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0iIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMsgELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0OIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMsQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0dIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMsAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0fIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMrwELIABBP0cNASABQQFqCyEBQQUhAwyUAQtBACEDIAJBADYCHCACIAE2AhQgAkH9EjYCECACQQc2AgwMrAELIAJBADYCHCACIAE2AhQgAkHcCDYCECACQQc2AgxBACEDDKsBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNByACQeUANgIcIAIgATYCFCACIAA2AgxBACEDDKoBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNFiACQdMANgIcIAIgATYCFCACIAA2AgxBACEDDKkBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNGCACQdIANgIcIAIgATYCFCACIAA2AgxBACEDDKgBCyACQQA2AhwgAiABNgIUIAJBxgo2AhAgAkEHNgIMQQAhAwynAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQMgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwymAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRIgAkHTADYCHCACIAE2AhQgAiAANgIMQQAhAwylAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRQgAkHSADYCHCACIAE2AhQgAiAANgIMQQAhAwykAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQAgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwyjAQtB1QAhAwyJAQsgAEEVRwRAIAJBADYCHCACIAE2AhQgAkG5DTYCECACQRo2AgxBACEDDKIBCyACQeQANgIcIAIgATYCFCACQeMXNgIQIAJBFTYCDEEAIQMMoQELIAJBADYCACAGQQFqIQEgAi0AKSIAQSNrQQtJDQQCQCAAQQZLDQBBASAAdEHKAHFFDQAMBQtBACEDIAJBADYCHCACIAE2AhQgAkH3CTYCECACQQg2AgwMoAELIAJBADYCACAGQQFqIQEgAi0AKUEhRg0DIAJBADYCHCACIAE2AhQgAkGbCjYCECACQQg2AgxBACEDDJ8BCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJBkDM2AhAgAkEINgIMDJ0BCyACQQA2AgAgBkEBaiEBIAItAClBI0kNACACQQA2AhwgAiABNgIUIAJB0wk2AhAgAkEINgIMQQAhAwycAQtB0QAhAwyCAQsgAS0AAEEwayIAQf8BcUEKSQRAIAIgADoAKiABQQFqIQFBzwAhAwyCAQsgAigCBCEAIAJBADYCBCACIAAgARAoIgBFDYYBIAJB3gA2AhwgAiABNgIUIAIgADYCDEEAIQMMmgELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ2GASACQdwANgIcIAIgATYCFCACIAA2AgxBACEDDJkBCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMhwELIAJB2gA2AhwgAiAFNgIUIAIgADYCDAyYAQtBACEBQQEhAwsgAiADOgArIAVBAWohAwJAAkACQCACLQAtQRBxDQACQAJAAkAgAi0AKg4DAQACBAsgBkUNAwwCCyAADQEMAgsgAUUNAQsgAigCBCEAIAJBADYCBCACIAAgAxAoIgBFBEAgAyEBDAILIAJB2AA2AhwgAiADNgIUIAIgADYCDEEAIQMMmAELIAIoAgQhACACQQA2AgQgAiAAIAMQKCIARQRAIAMhAQyHAQsgAkHZADYCHCACIAM2AhQgAiAANgIMQQAhAwyXAQtBzAAhAwx9CyAAQRVHBEAgAkEANgIcIAIgATYCFCACQZQNNgIQIAJBITYCDEEAIQMMlgELIAJB1wA2AhwgAiABNgIUIAJByRc2AhAgAkEVNgIMQQAhAwyVAQtBACEDIAJBADYCHCACIAE2AhQgAkGAETYCECACQQk2AgwMlAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0AIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMkwELQckAIQMMeQsgAkEANgIcIAIgATYCFCACQcEoNgIQIAJBBzYCDCACQQA2AgBBACEDDJEBCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAlIgBFDQAgAkHSADYCHCACIAE2AhQgAiAANgIMDJABC0HIACEDDHYLIAJBADYCACAFIQELIAJBgBI7ASogAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANAQtBxwAhAwxzCyAAQRVGBEAgAkHRADYCHCACIAE2AhQgAkHjFzYCECACQRU2AgxBACEDDIwBC0EAIQMgAkEANgIcIAIgATYCFCACQbkNNgIQIAJBGjYCDAyLAQtBACEDIAJBADYCHCACIAE2AhQgAkGgGTYCECACQR42AgwMigELIAEtAABBOkYEQCACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgBFDQEgAkHDADYCHCACIAA2AgwgAiABQQFqNgIUDIoBC0EAIQMgAkEANgIcIAIgATYCFCACQbERNgIQIAJBCjYCDAyJAQsgAUEBaiEBQTshAwxvCyACQcMANgIcIAIgADYCDCACIAFBAWo2AhQMhwELQQAhAyACQQA2AhwgAiABNgIUIAJB8A42AhAgAkEcNgIMDIYBCyACIAIvATBBEHI7ATAMZgsCQCACLwEwIgBBCHFFDQAgAi0AKEEBRw0AIAItAC1BCHFFDQMLIAIgAEH3+wNxQYAEcjsBMAwECyABIARHBEACQANAIAEtAABBMGsiAEH/AXFBCk8EQEE1IQMMbgsgAikDICIKQpmz5syZs+bMGVYNASACIApCCn4iCjcDICAKIACtQv8BgyILQn+FVg0BIAIgCiALfDcDICAEIAFBAWoiAUcNAAtBOSEDDIUBCyACKAIEIQBBACEDIAJBADYCBCACIAAgAUEBaiIBECoiAA0MDHcLQTkhAwyDAQsgAi0AMEEgcQ0GQcUBIQMMaQtBACEDIAJBADYCBCACIAEgARAqIgBFDQQgAkE6NgIcIAIgADYCDCACIAFBAWo2AhQMgQELIAItAChBAUcNACACLQAtQQhxRQ0BC0E3IQMMZgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIABEAgAkE7NgIcIAIgADYCDCACIAFBAWo2AhQMfwsgAUEBaiEBDG4LIAJBCDoALAwECyABQQFqIQEMbQtBACEDIAJBADYCHCACIAE2AhQgAkHkEjYCECACQQQ2AgwMewsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ1sIAJBNzYCHCACIAE2AhQgAiAANgIMDHoLIAIgAi8BMEEgcjsBMAtBMCEDDF8LIAJBNjYCHCACIAE2AhQgAiAANgIMDHcLIABBLEcNASABQQFqIQBBASEBAkACQAJAAkACQCACLQAsQQVrDgQDAQIEAAsgACEBDAQLQQIhAQwBC0EEIQELIAJBAToALCACIAIvATAgAXI7ATAgACEBDAELIAIgAi8BMEEIcjsBMCAAIQELQTkhAwxcCyACQQA6ACwLQTQhAwxaCyABIARGBEBBLSEDDHMLAkACQANAAkAgAS0AAEEKaw4EAgAAAwALIAQgAUEBaiIBRw0AC0EtIQMMdAsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ0CIAJBLDYCHCACIAE2AhQgAiAANgIMDHMLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAS0AAEENRgRAIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAi0ALUEBcQRAQcQBIQMMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIADQEMZQtBLyEDDFcLIAJBLjYCHCACIAE2AhQgAiAANgIMDG8LQQAhAyACQQA2AhwgAiABNgIUIAJB8BQ2AhAgAkEDNgIMDG4LQQEhAwJAAkACQAJAIAItACxBBWsOBAMBAgAECyACIAIvATBBCHI7ATAMAwtBAiEDDAELQQQhAwsgAkEBOgAsIAIgAi8BMCADcjsBMAtBKiEDDFMLQQAhAyACQQA2AhwgAiABNgIUIAJB4Q82AhAgAkEKNgIMDGsLQQEhAwJAAkACQAJAAkACQCACLQAsQQJrDgcFBAQDAQIABAsgAiACLwEwQQhyOwEwDAMLQQIhAwwBC0EEIQMLIAJBAToALCACIAIvATAgA3I7ATALQSshAwxSC0EAIQMgAkEANgIcIAIgATYCFCACQasSNgIQIAJBCzYCDAxqC0EAIQMgAkEANgIcIAIgATYCFCACQf0NNgIQIAJBHTYCDAxpCyABIARHBEADQCABLQAAQSBHDUggBCABQQFqIgFHDQALQSUhAwxpC0ElIQMMaAsgAi0ALUEBcQRAQcMBIQMMTwsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKSIABEAgAkEmNgIcIAIgADYCDCACIAFBAWo2AhQMaAsgAUEBaiEBDFwLIAFBAWohASACLwEwIgBBgAFxBEBBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAEUNBiAAQRVHDR8gAkEFNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMZwsCQCAAQaAEcUGgBEcNACACLQAtQQJxDQBBACEDIAJBADYCHCACIAE2AhQgAkGWEzYCECACQQQ2AgwMZwsgAgJ/IAIvATBBFHFBFEYEQEEBIAItAChBAUYNARogAi8BMkHlAEYMAQsgAi0AKUEFRgs6AC5BACEAAkAgAigCOCIDRQ0AIAMoAiQiA0UNACACIAMRAAAhAAsCQAJAAkACQAJAIAAOFgIBAAQEBAQEBAQEBAQEBAQEBAQEBAMECyACQQE6AC4LIAIgAi8BMEHAAHI7ATALQSchAwxPCyACQSM2AhwgAiABNgIUIAJBpRY2AhAgAkEVNgIMQQAhAwxnC0EAIQMgAkEANgIcIAIgATYCFCACQdULNgIQIAJBETYCDAxmC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAADQELQQ4hAwxLCyAAQRVGBEAgAkECNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMZAtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMYwtBACEDIAJBADYCHCACIAE2AhQgAkGqHDYCECACQQ82AgwMYgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEgCqdqIgEQKyIARQ0AIAJBBTYCHCACIAE2AhQgAiAANgIMDGELQQ8hAwxHC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxfC0IBIQoLIAFBAWohAQJAIAIpAyAiC0L//////////w9YBEAgAiALQgSGIAqENwMgDAELQQAhAyACQQA2AhwgAiABNgIUIAJBrQk2AhAgAkEMNgIMDF4LQSQhAwxEC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxcCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAsIgBFBEAgAUEBaiEBDFILIAJBFzYCHCACIAA2AgwgAiABQQFqNgIUDFsLIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQRY2AhwgAiAANgIMIAIgAUEBajYCFAxbC0EfIQMMQQtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQLSIARQRAIAFBAWohAQxQCyACQRQ2AhwgAiAANgIMIAIgAUEBajYCFAxYCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABEC0iAEUEQCABQQFqIQEMAQsgAkETNgIcIAIgADYCDCACIAFBAWo2AhQMWAtBHiEDDD4LQQAhAyACQQA2AhwgAiABNgIUIAJBxgw2AhAgAkEjNgIMDFYLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABEC0iAEUEQCABQQFqIQEMTgsgAkERNgIcIAIgADYCDCACIAFBAWo2AhQMVQsgAkEQNgIcIAIgATYCFCACIAA2AgwMVAtBACEDIAJBADYCHCACIAE2AhQgAkHGDDYCECACQSM2AgwMUwtBACEDIAJBADYCHCACIAE2AhQgAkHAFTYCECACQQI2AgwMUgsgAigCBCEAQQAhAyACQQA2AgQCQCACIAAgARAtIgBFBEAgAUEBaiEBDAELIAJBDjYCHCACIAA2AgwgAiABQQFqNgIUDFILQRshAww4C0EAIQMgAkEANgIcIAIgATYCFCACQcYMNgIQIAJBIzYCDAxQCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABECwiAEUEQCABQQFqIQEMAQsgAkENNgIcIAIgADYCDCACIAFBAWo2AhQMUAtBGiEDDDYLQQAhAyACQQA2AhwgAiABNgIUIAJBmg82AhAgAkEiNgIMDE4LIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQQw2AhwgAiAANgIMIAIgAUEBajYCFAxOC0EZIQMMNAtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMTAsgAEEVRwRAQQAhAyACQQA2AhwgAiABNgIUIAJBgww2AhAgAkETNgIMDEwLIAJBCjYCHCACIAE2AhQgAkHkFjYCECACQRU2AgxBACEDDEsLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABIAqnaiIBECsiAARAIAJBBzYCHCACIAE2AhQgAiAANgIMDEsLQRMhAwwxCyAAQRVHBEBBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMSgsgAkEeNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMSQtBACEAAkAgAigCOCIDRQ0AIAMoAiwiA0UNACACIAMRAAAhAAsgAEUNQSAAQRVGBEAgAkEDNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMSQtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMSAtBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMRwtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMRgsgAkEAOgAvIAItAC1BBHFFDT8LIAJBADoALyACQQE6ADRBACEDDCsLQQAhAyACQQA2AhwgAkHkETYCECACQQc2AgwgAiABQQFqNgIUDEMLAkADQAJAIAEtAABBCmsOBAACAgACCyAEIAFBAWoiAUcNAAtB3QEhAwxDCwJAAkAgAi0ANEEBRw0AQQAhAAJAIAIoAjgiA0UNACADKAJYIgNFDQAgAiADEQAAIQALIABFDQAgAEEVRw0BIAJB3AE2AhwgAiABNgIUIAJB1RY2AhAgAkEVNgIMQQAhAwxEC0HBASEDDCoLIAJBADYCHCACIAE2AhQgAkHpCzYCECACQR82AgxBACEDDEILAkACQCACLQAoQQFrDgIEAQALQcABIQMMKQtBuQEhAwwoCyACQQI6AC9BACEAAkAgAigCOCIDRQ0AIAMoAgAiA0UNACACIAMRAAAhAAsgAEUEQEHCASEDDCgLIABBFUcEQCACQQA2AhwgAiABNgIUIAJBpAw2AhAgAkEQNgIMQQAhAwxBCyACQdsBNgIcIAIgATYCFCACQfoWNgIQIAJBFTYCDEEAIQMMQAsgASAERgRAQdoBIQMMQAsgAS0AAEHIAEYNASACQQE6ACgLQawBIQMMJQtBvwEhAwwkCyABIARHBEAgAkEQNgIIIAIgATYCBEG+ASEDDCQLQdkBIQMMPAsgASAERgRAQdgBIQMMPAsgAS0AAEHIAEcNBCABQQFqIQFBvQEhAwwiCyABIARGBEBB1wEhAww7CwJAAkAgAS0AAEHFAGsOEAAFBQUFBQUFBQUFBQUFBQEFCyABQQFqIQFBuwEhAwwiCyABQQFqIQFBvAEhAwwhC0HWASEDIAEgBEYNOSACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGD0ABqLQAARw0DIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw6CyACKAIEIQAgAkIANwMAIAIgACAGQQFqIgEQJyIARQRAQcYBIQMMIQsgAkHVATYCHCACIAE2AhQgAiAANgIMQQAhAww5C0HUASEDIAEgBEYNOCACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGB0ABqLQAARw0CIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw5CyACQYEEOwEoIAIoAgQhACACQgA3AwAgAiAAIAZBAWoiARAnIgANAwwCCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB2Bs2AhAgAkEINgIMDDYLQboBIQMMHAsgAkHTATYCHCACIAE2AhQgAiAANgIMQQAhAww0C0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAARQ0AIABBFUYNASACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwwzC0HkACEDDBkLIAJB+AA2AhwgAiABNgIUIAJByhg2AhAgAkEVNgIMQQAhAwwxC0HSASEDIAQgASIARg0wIAQgAWsgAigCACIBaiEFIAAgAWtBBGohBgJAA0AgAC0AACABQfzPAGotAABHDQEgAUEERg0DIAFBAWohASAEIABBAWoiAEcNAAsgAiAFNgIADDELIAJBADYCHCACIAA2AhQgAkGQMzYCECACQQg2AgwgAkEANgIAQQAhAwwwCyABIARHBEAgAkEONgIIIAIgATYCBEG3ASEDDBcLQdEBIQMMLwsgAkEANgIAIAZBAWohAQtBuAEhAwwUCyABIARGBEBB0AEhAwwtCyABLQAAQTBrIgBB/wFxQQpJBEAgAiAAOgAqIAFBAWohAUG2ASEDDBQLIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0UIAJBzwE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAsgASAERgRAQc4BIQMMLAsCQCABLQAAQS5GBEAgAUEBaiEBDAELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0VIAJBzQE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAtBtQEhAwwSCyAEIAEiBUYEQEHMASEDDCsLQQAhAEEBIQFBASEGQQAhAwJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAIAUtAABBMGsOCgoJAAECAwQFBggLC0ECDAYLQQMMBQtBBAwEC0EFDAMLQQYMAgtBBwwBC0EICyEDQQAhAUEAIQYMAgtBCSEDQQEhAEEAIQFBACEGDAELQQAhAUEBIQMLIAIgAzoAKyAFQQFqIQMCQAJAIAItAC1BEHENAAJAAkACQCACLQAqDgMBAAIECyAGRQ0DDAILIAANAQwCCyABRQ0BCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMAwsgAkHJATYCHCACIAM2AhQgAiAANgIMQQAhAwwtCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMGAsgAkHKATYCHCACIAM2AhQgAiAANgIMQQAhAwwsCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMFgsgAkHLATYCHCACIAU2AhQgAiAANgIMDCsLQbQBIQMMEQtBACEAAkAgAigCOCIDRQ0AIAMoAjwiA0UNACACIAMRAAAhAAsCQCAABEAgAEEVRg0BIAJBADYCHCACIAE2AhQgAkGUDTYCECACQSE2AgxBACEDDCsLQbIBIQMMEQsgAkHIATYCHCACIAE2AhQgAkHJFzYCECACQRU2AgxBACEDDCkLIAJBADYCACAGQQFqIQFB9QAhAwwPCyACLQApQQVGBEBB4wAhAwwPC0HiACEDDA4LIAAhASACQQA2AgALIAJBADoALEEJIQMMDAsgAkEANgIAIAdBAWohAUHAACEDDAsLQQELOgAsIAJBADYCACAGQQFqIQELQSkhAwwIC0E4IQMMBwsCQCABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRw0DIAFBAWohAQwFCyAEIAFBAWoiAUcNAAtBPiEDDCELQT4hAwwgCwsgAkEAOgAsDAELQQshAwwEC0E6IQMMAwsgAUEBaiEBQS0hAwwCCyACIAE6ACwgAkEANgIAIAZBAWohAUEMIQMMAQsgAkEANgIAIAZBAWohAUEKIQMMAAsAC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwXC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwWC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwVC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwUC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwTC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwSC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwRC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwQC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwPC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwOC0EAIQMgAkEANgIcIAIgATYCFCACQcASNgIQIAJBCzYCDAwNC0EAIQMgAkEANgIcIAIgATYCFCACQZUJNgIQIAJBCzYCDAwMC0EAIQMgAkEANgIcIAIgATYCFCACQeEPNgIQIAJBCjYCDAwLC0EAIQMgAkEANgIcIAIgATYCFCACQfsPNgIQIAJBCjYCDAwKC0EAIQMgAkEANgIcIAIgATYCFCACQfEZNgIQIAJBAjYCDAwJC0EAIQMgAkEANgIcIAIgATYCFCACQcQUNgIQIAJBAjYCDAwIC0EAIQMgAkEANgIcIAIgATYCFCACQfIVNgIQIAJBAjYCDAwHCyACQQI2AhwgAiABNgIUIAJBnBo2AhAgAkEWNgIMQQAhAwwGC0EBIQMMBQtB1AAhAyABIARGDQQgCEEIaiEJIAIoAgAhBQJAAkAgASAERwRAIAVB2MIAaiEHIAQgBWogAWshACAFQX9zQQpqIgUgAWohBgNAIAEtAAAgBy0AAEcEQEECIQcMAwsgBUUEQEEAIQcgBiEBDAMLIAVBAWshBSAHQQFqIQcgBCABQQFqIgFHDQALIAAhBSAEIQELIAlBATYCACACIAU2AgAMAQsgAkEANgIAIAkgBzYCAAsgCSABNgIEIAgoAgwhACAIKAIIDgMBBAIACwALIAJBADYCHCACQbUaNgIQIAJBFzYCDCACIABBAWo2AhRBACEDDAILIAJBADYCHCACIAA2AhQgAkHKGjYCECACQQk2AgxBACEDDAELIAEgBEYEQEEiIQMMAQsgAkEJNgIIIAIgATYCBEEhIQMLIAhBEGokACADRQRAIAIoAgwhAAwBCyACIAM2AhxBACEAIAIoAgQiAUUNACACIAEgBCACKAIIEQEAIgFFDQAgAiAENgIUIAIgATYCDCABIQALIAALvgIBAn8gAEEAOgAAIABB3ABqIgFBAWtBADoAACAAQQA6AAIgAEEAOgABIAFBA2tBADoAACABQQJrQQA6AAAgAEEAOgADIAFBBGtBADoAAEEAIABrQQNxIgEgAGoiAEEANgIAQdwAIAFrQXxxIgIgAGoiAUEEa0EANgIAAkAgAkEJSQ0AIABBADYCCCAAQQA2AgQgAUEIa0EANgIAIAFBDGtBADYCACACQRlJDQAgAEEANgIYIABBADYCFCAAQQA2AhAgAEEANgIMIAFBEGtBADYCACABQRRrQQA2AgAgAUEYa0EANgIAIAFBHGtBADYCACACIABBBHFBGHIiAmsiAUEgSQ0AIAAgAmohAANAIABCADcDGCAAQgA3AxAgAEIANwMIIABCADcDACAAQSBqIQAgAUEgayIBQR9LDQALCwtWAQF/AkAgACgCDA0AAkACQAJAAkAgAC0ALw4DAQADAgsgACgCOCIBRQ0AIAEoAiwiAUUNACAAIAERAAAiAQ0DC0EADwsACyAAQcMWNgIQQQ4hAQsgAQsaACAAKAIMRQRAIABB0Rs2AhAgAEEVNgIMCwsUACAAKAIMQRVGBEAgAEEANgIMCwsUACAAKAIMQRZGBEAgAEEANgIMCwsHACAAKAIMCwcAIAAoAhALCQAgACABNgIQCwcAIAAoAhQLFwAgAEEkTwRAAAsgAEECdEGgM2ooAgALFwAgAEEuTwRAAAsgAEECdEGwNGooAgALvwkBAX9B6yghAQJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB5ABrDvQDY2IAAWFhYWFhYQIDBAVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhBgcICQoLDA0OD2FhYWFhEGFhYWFhYWFhYWFhEWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYRITFBUWFxgZGhthYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2YTc4OTphYWFhYWFhYTthYWE8YWFhYT0+P2FhYWFhYWFhQGFhQWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYUJDREVGR0hJSktMTU5PUFFSU2FhYWFhYWFhVFVWV1hZWlthXF1hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFeYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhX2BhC0HhJw8LQaQhDwtByywPC0H+MQ8LQcAkDwtBqyQPC0GNKA8LQeImDwtBgDAPC0G5Lw8LQdckDwtB7x8PC0HhHw8LQfofDwtB8iAPC0GoLw8LQa4yDwtBiDAPC0HsJw8LQYIiDwtBjh0PC0HQLg8LQcojDwtBxTIPC0HfHA8LQdIcDwtBxCAPC0HXIA8LQaIfDwtB7S4PC0GrMA8LQdQlDwtBzC4PC0H6Lg8LQfwrDwtB0jAPC0HxHQ8LQbsgDwtB9ysPC0GQMQ8LQdcxDwtBoi0PC0HUJw8LQeArDwtBnywPC0HrMQ8LQdUfDwtByjEPC0HeJQ8LQdQeDwtB9BwPC0GnMg8LQbEdDwtBoB0PC0G5MQ8LQbwwDwtBkiEPC0GzJg8LQeksDwtBrB4PC0HUKw8LQfcmDwtBgCYPC0GwIQ8LQf4eDwtBjSMPC0GJLQ8LQfciDwtBoDEPC0GuHw8LQcYlDwtB6B4PC0GTIg8LQcIvDwtBwx0PC0GLLA8LQeEdDwtBjS8PC0HqIQ8LQbQtDwtB0i8PC0HfMg8LQdIyDwtB8DAPC0GpIg8LQfkjDwtBmR4PC0G1LA8LQZswDwtBkjIPC0G2Kw8LQcIiDwtB+DIPC0GeJQ8LQdAiDwtBuh4PC0GBHg8LAAtB1iEhAQsgAQsWACAAIAAtAC1B/gFxIAFBAEdyOgAtCxkAIAAgAC0ALUH9AXEgAUEAR0EBdHI6AC0LGQAgACAALQAtQfsBcSABQQBHQQJ0cjoALQsZACAAIAAtAC1B9wFxIAFBAEdBA3RyOgAtCz4BAn8CQCAAKAI4IgNFDQAgAygCBCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBxhE2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCCCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9go2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCDCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7Ro2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCECIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlRA2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCFCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBqhs2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCGCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7RM2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCKCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9gg2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCHCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBwhk2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCICIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlBQ2AhBBGCEECyAEC1kBAn8CQCAALQAoQQFGDQAgAC8BMiIBQeQAa0HkAEkNACABQcwBRg0AIAFBsAJGDQAgAC8BMCIAQcAAcQ0AQQEhAiAAQYgEcUGABEYNACAAQShxRSECCyACC4wBAQJ/AkACQAJAIAAtACpFDQAgAC0AK0UNACAALwEwIgFBAnFFDQEMAgsgAC8BMCIBQQFxRQ0BC0EBIQIgAC0AKEEBRg0AIAAvATIiAEHkAGtB5ABJDQAgAEHMAUYNACAAQbACRg0AIAFBwABxDQBBACECIAFBiARxQYAERg0AIAFBKHFBAEchAgsgAgtXACAAQRhqQgA3AwAgAEIANwMAIABBOGpCADcDACAAQTBqQgA3AwAgAEEoakIANwMAIABBIGpCADcDACAAQRBqQgA3AwAgAEEIakIANwMAIABB3QE2AhwLBgAgABAyC5otAQt/IwBBEGsiCiQAQaTQACgCACIJRQRAQeTTACgCACIFRQRAQfDTAEJ/NwIAQejTAEKAgISAgIDAADcCAEHk0wAgCkEIakFwcUHYqtWqBXMiBTYCAEH40wBBADYCAEHI0wBBADYCAAtBzNMAQYDUBDYCAEGc0ABBgNQENgIAQbDQACAFNgIAQazQAEF/NgIAQdDTAEGArAM2AgADQCABQcjQAGogAUG80ABqIgI2AgAgAiABQbTQAGoiAzYCACABQcDQAGogAzYCACABQdDQAGogAUHE0ABqIgM2AgAgAyACNgIAIAFB2NAAaiABQczQAGoiAjYCACACIAM2AgAgAUHU0ABqIAI2AgAgAUEgaiIBQYACRw0AC0GM1ARBwasDNgIAQajQAEH00wAoAgA2AgBBmNAAQcCrAzYCAEGk0ABBiNQENgIAQcz/B0E4NgIAQYjUBCEJCwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB7AFNBEBBjNAAKAIAIgZBECAAQRNqQXBxIABBC0kbIgRBA3YiAHYiAUEDcQRAAkAgAUEBcSAAckEBcyICQQN0IgBBtNAAaiIBIABBvNAAaigCACIAKAIIIgNGBEBBjNAAIAZBfiACd3E2AgAMAQsgASADNgIIIAMgATYCDAsgAEEIaiEBIAAgAkEDdCICQQNyNgIEIAAgAmoiACAAKAIEQQFyNgIEDBELQZTQACgCACIIIARPDQEgAQRAAkBBAiAAdCICQQAgAmtyIAEgAHRxaCIAQQN0IgJBtNAAaiIBIAJBvNAAaigCACICKAIIIgNGBEBBjNAAIAZBfiAAd3EiBjYCAAwBCyABIAM2AgggAyABNgIMCyACIARBA3I2AgQgAEEDdCIAIARrIQUgACACaiAFNgIAIAIgBGoiBCAFQQFyNgIEIAgEQCAIQXhxQbTQAGohAEGg0AAoAgAhAwJ/QQEgCEEDdnQiASAGcUUEQEGM0AAgASAGcjYCACAADAELIAAoAggLIgEgAzYCDCAAIAM2AgggAyAANgIMIAMgATYCCAsgAkEIaiEBQaDQACAENgIAQZTQACAFNgIADBELQZDQACgCACILRQ0BIAtoQQJ0QbzSAGooAgAiACgCBEF4cSAEayEFIAAhAgNAAkAgAigCECIBRQRAIAJBFGooAgAiAUUNAQsgASgCBEF4cSAEayIDIAVJIQIgAyAFIAIbIQUgASAAIAIbIQAgASECDAELCyAAKAIYIQkgACgCDCIDIABHBEBBnNAAKAIAGiADIAAoAggiATYCCCABIAM2AgwMEAsgAEEUaiICKAIAIgFFBEAgACgCECIBRQ0DIABBEGohAgsDQCACIQcgASIDQRRqIgIoAgAiAQ0AIANBEGohAiADKAIQIgENAAsgB0EANgIADA8LQX8hBCAAQb9/Sw0AIABBE2oiAUFwcSEEQZDQACgCACIIRQ0AQQAgBGshBQJAAkACQAJ/QQAgBEGAAkkNABpBHyAEQf///wdLDQAaIARBJiABQQh2ZyIAa3ZBAXEgAEEBdGtBPmoLIgZBAnRBvNIAaigCACICRQRAQQAhAUEAIQMMAQtBACEBIARBGSAGQQF2a0EAIAZBH0cbdCEAQQAhAwNAAkAgAigCBEF4cSAEayIHIAVPDQAgAiEDIAciBQ0AQQAhBSACIQEMAwsgASACQRRqKAIAIgcgByACIABBHXZBBHFqQRBqKAIAIgJGGyABIAcbIQEgAEEBdCEAIAINAAsLIAEgA3JFBEBBACEDQQIgBnQiAEEAIABrciAIcSIARQ0DIABoQQJ0QbzSAGooAgAhAQsgAUUNAQsDQCABKAIEQXhxIARrIgIgBUkhACACIAUgABshBSABIAMgABshAyABKAIQIgAEfyAABSABQRRqKAIACyIBDQALCyADRQ0AIAVBlNAAKAIAIARrTw0AIAMoAhghByADIAMoAgwiAEcEQEGc0AAoAgAaIAAgAygCCCIBNgIIIAEgADYCDAwOCyADQRRqIgIoAgAiAUUEQCADKAIQIgFFDQMgA0EQaiECCwNAIAIhBiABIgBBFGoiAigCACIBDQAgAEEQaiECIAAoAhAiAQ0ACyAGQQA2AgAMDQtBlNAAKAIAIgMgBE8EQEGg0AAoAgAhAQJAIAMgBGsiAkEQTwRAIAEgBGoiACACQQFyNgIEIAEgA2ogAjYCACABIARBA3I2AgQMAQsgASADQQNyNgIEIAEgA2oiACAAKAIEQQFyNgIEQQAhAEEAIQILQZTQACACNgIAQaDQACAANgIAIAFBCGohAQwPC0GY0AAoAgAiAyAESwRAIAQgCWoiACADIARrIgFBAXI2AgRBpNAAIAA2AgBBmNAAIAE2AgAgCSAEQQNyNgIEIAlBCGohAQwPC0EAIQEgBAJ/QeTTACgCAARAQezTACgCAAwBC0Hw0wBCfzcCAEHo0wBCgICEgICAwAA3AgBB5NMAIApBDGpBcHFB2KrVqgVzNgIAQfjTAEEANgIAQcjTAEEANgIAQYCABAsiACAEQccAaiIFaiIGQQAgAGsiB3EiAk8EQEH80wBBMDYCAAwPCwJAQcTTACgCACIBRQ0AQbzTACgCACIIIAJqIQAgACABTSAAIAhLcQ0AQQAhAUH80wBBMDYCAAwPC0HI0wAtAABBBHENBAJAAkAgCQRAQczTACEBA0AgASgCACIAIAlNBEAgACABKAIEaiAJSw0DCyABKAIIIgENAAsLQQAQMyIAQX9GDQUgAiEGQejTACgCACIBQQFrIgMgAHEEQCACIABrIAAgA2pBACABa3FqIQYLIAQgBk8NBSAGQf7///8HSw0FQcTTACgCACIDBEBBvNMAKAIAIgcgBmohASABIAdNDQYgASADSw0GCyAGEDMiASAARw0BDAcLIAYgA2sgB3EiBkH+////B0sNBCAGEDMhACAAIAEoAgAgASgCBGpGDQMgACEBCwJAIAYgBEHIAGpPDQAgAUF/Rg0AQezTACgCACIAIAUgBmtqQQAgAGtxIgBB/v///wdLBEAgASEADAcLIAAQM0F/RwRAIAAgBmohBiABIQAMBwtBACAGaxAzGgwECyABIgBBf0cNBQwDC0EAIQMMDAtBACEADAoLIABBf0cNAgtByNMAQcjTACgCAEEEcjYCAAsgAkH+////B0sNASACEDMhAEEAEDMhASAAQX9GDQEgAUF/Rg0BIAAgAU8NASABIABrIgYgBEE4ak0NAQtBvNMAQbzTACgCACAGaiIBNgIAQcDTACgCACABSQRAQcDTACABNgIACwJAAkACQEGk0AAoAgAiAgRAQczTACEBA0AgACABKAIAIgMgASgCBCIFakYNAiABKAIIIgENAAsMAgtBnNAAKAIAIgFBAEcgACABT3FFBEBBnNAAIAA2AgALQQAhAUHQ0wAgBjYCAEHM0wAgADYCAEGs0ABBfzYCAEGw0ABB5NMAKAIANgIAQdjTAEEANgIAA0AgAUHI0ABqIAFBvNAAaiICNgIAIAIgAUG00ABqIgM2AgAgAUHA0ABqIAM2AgAgAUHQ0ABqIAFBxNAAaiIDNgIAIAMgAjYCACABQdjQAGogAUHM0ABqIgI2AgAgAiADNgIAIAFB1NAAaiACNgIAIAFBIGoiAUGAAkcNAAtBeCAAa0EPcSIBIABqIgIgBkE4ayIDIAFrIgFBAXI2AgRBqNAAQfTTACgCADYCAEGY0AAgATYCAEGk0AAgAjYCACAAIANqQTg2AgQMAgsgACACTQ0AIAIgA0kNACABKAIMQQhxDQBBeCACa0EPcSIAIAJqIgNBmNAAKAIAIAZqIgcgAGsiAEEBcjYCBCABIAUgBmo2AgRBqNAAQfTTACgCADYCAEGY0AAgADYCAEGk0AAgAzYCACACIAdqQTg2AgQMAQsgAEGc0AAoAgBJBEBBnNAAIAA2AgALIAAgBmohA0HM0wAhAQJAAkACQANAIAMgASgCAEcEQCABKAIIIgENAQwCCwsgAS0ADEEIcUUNAQtBzNMAIQEDQCABKAIAIgMgAk0EQCADIAEoAgRqIgUgAksNAwsgASgCCCEBDAALAAsgASAANgIAIAEgASgCBCAGajYCBCAAQXggAGtBD3FqIgkgBEEDcjYCBCADQXggA2tBD3FqIgYgBCAJaiIEayEBIAIgBkYEQEGk0AAgBDYCAEGY0ABBmNAAKAIAIAFqIgA2AgAgBCAAQQFyNgIEDAgLQaDQACgCACAGRgRAQaDQACAENgIAQZTQAEGU0AAoAgAgAWoiADYCACAEIABBAXI2AgQgACAEaiAANgIADAgLIAYoAgQiBUEDcUEBRw0GIAVBeHEhCCAFQf8BTQRAIAVBA3YhAyAGKAIIIgAgBigCDCICRgRAQYzQAEGM0AAoAgBBfiADd3E2AgAMBwsgAiAANgIIIAAgAjYCDAwGCyAGKAIYIQcgBiAGKAIMIgBHBEAgACAGKAIIIgI2AgggAiAANgIMDAULIAZBFGoiAigCACIFRQRAIAYoAhAiBUUNBCAGQRBqIQILA0AgAiEDIAUiAEEUaiICKAIAIgUNACAAQRBqIQIgACgCECIFDQALIANBADYCAAwEC0F4IABrQQ9xIgEgAGoiByAGQThrIgMgAWsiAUEBcjYCBCAAIANqQTg2AgQgAiAFQTcgBWtBD3FqQT9rIgMgAyACQRBqSRsiA0EjNgIEQajQAEH00wAoAgA2AgBBmNAAIAE2AgBBpNAAIAc2AgAgA0EQakHU0wApAgA3AgAgA0HM0wApAgA3AghB1NMAIANBCGo2AgBB0NMAIAY2AgBBzNMAIAA2AgBB2NMAQQA2AgAgA0EkaiEBA0AgAUEHNgIAIAUgAUEEaiIBSw0ACyACIANGDQAgAyADKAIEQX5xNgIEIAMgAyACayIFNgIAIAIgBUEBcjYCBCAFQf8BTQRAIAVBeHFBtNAAaiEAAn9BjNAAKAIAIgFBASAFQQN2dCIDcUUEQEGM0AAgASADcjYCACAADAELIAAoAggLIgEgAjYCDCAAIAI2AgggAiAANgIMIAIgATYCCAwBC0EfIQEgBUH///8HTQRAIAVBJiAFQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAQsgAiABNgIcIAJCADcCECABQQJ0QbzSAGohAEGQ0AAoAgAiA0EBIAF0IgZxRQRAIAAgAjYCAEGQ0AAgAyAGcjYCACACIAA2AhggAiACNgIIIAIgAjYCDAwBCyAFQRkgAUEBdmtBACABQR9HG3QhASAAKAIAIQMCQANAIAMiACgCBEF4cSAFRg0BIAFBHXYhAyABQQF0IQEgACADQQRxakEQaiIGKAIAIgMNAAsgBiACNgIAIAIgADYCGCACIAI2AgwgAiACNgIIDAELIAAoAggiASACNgIMIAAgAjYCCCACQQA2AhggAiAANgIMIAIgATYCCAtBmNAAKAIAIgEgBE0NAEGk0AAoAgAiACAEaiICIAEgBGsiAUEBcjYCBEGY0AAgATYCAEGk0AAgAjYCACAAIARBA3I2AgQgAEEIaiEBDAgLQQAhAUH80wBBMDYCAAwHC0EAIQALIAdFDQACQCAGKAIcIgJBAnRBvNIAaiIDKAIAIAZGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAdBEEEUIAcoAhAgBkYbaiAANgIAIABFDQELIAAgBzYCGCAGKAIQIgIEQCAAIAI2AhAgAiAANgIYCyAGQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAIaiEBIAYgCGoiBigCBCEFCyAGIAVBfnE2AgQgASAEaiABNgIAIAQgAUEBcjYCBCABQf8BTQRAIAFBeHFBtNAAaiEAAn9BjNAAKAIAIgJBASABQQN2dCIBcUUEQEGM0AAgASACcjYCACAADAELIAAoAggLIgEgBDYCDCAAIAQ2AgggBCAANgIMIAQgATYCCAwBC0EfIQUgAUH///8HTQRAIAFBJiABQQh2ZyIAa3ZBAXEgAEEBdGtBPmohBQsgBCAFNgIcIARCADcCECAFQQJ0QbzSAGohAEGQ0AAoAgAiAkEBIAV0IgNxRQRAIAAgBDYCAEGQ0AAgAiADcjYCACAEIAA2AhggBCAENgIIIAQgBDYCDAwBCyABQRkgBUEBdmtBACAFQR9HG3QhBSAAKAIAIQACQANAIAAiAigCBEF4cSABRg0BIAVBHXYhACAFQQF0IQUgAiAAQQRxakEQaiIDKAIAIgANAAsgAyAENgIAIAQgAjYCGCAEIAQ2AgwgBCAENgIIDAELIAIoAggiACAENgIMIAIgBDYCCCAEQQA2AhggBCACNgIMIAQgADYCCAsgCUEIaiEBDAILAkAgB0UNAAJAIAMoAhwiAUECdEG80gBqIgIoAgAgA0YEQCACIAA2AgAgAA0BQZDQACAIQX4gAXdxIgg2AgAMAgsgB0EQQRQgBygCECADRhtqIAA2AgAgAEUNAQsgACAHNgIYIAMoAhAiAQRAIAAgATYCECABIAA2AhgLIANBFGooAgAiAUUNACAAQRRqIAE2AgAgASAANgIYCwJAIAVBD00EQCADIAQgBWoiAEEDcjYCBCAAIANqIgAgACgCBEEBcjYCBAwBCyADIARqIgIgBUEBcjYCBCADIARBA3I2AgQgAiAFaiAFNgIAIAVB/wFNBEAgBUF4cUG00ABqIQACf0GM0AAoAgAiAUEBIAVBA3Z0IgVxRQRAQYzQACABIAVyNgIAIAAMAQsgACgCCAsiASACNgIMIAAgAjYCCCACIAA2AgwgAiABNgIIDAELQR8hASAFQf///wdNBEAgBUEmIAVBCHZnIgBrdkEBcSAAQQF0a0E+aiEBCyACIAE2AhwgAkIANwIQIAFBAnRBvNIAaiEAQQEgAXQiBCAIcUUEQCAAIAI2AgBBkNAAIAQgCHI2AgAgAiAANgIYIAIgAjYCCCACIAI2AgwMAQsgBUEZIAFBAXZrQQAgAUEfRxt0IQEgACgCACEEAkADQCAEIgAoAgRBeHEgBUYNASABQR12IQQgAUEBdCEBIAAgBEEEcWpBEGoiBigCACIEDQALIAYgAjYCACACIAA2AhggAiACNgIMIAIgAjYCCAwBCyAAKAIIIgEgAjYCDCAAIAI2AgggAkEANgIYIAIgADYCDCACIAE2AggLIANBCGohAQwBCwJAIAlFDQACQCAAKAIcIgFBAnRBvNIAaiICKAIAIABGBEAgAiADNgIAIAMNAUGQ0AAgC0F+IAF3cTYCAAwCCyAJQRBBFCAJKAIQIABGG2ogAzYCACADRQ0BCyADIAk2AhggACgCECIBBEAgAyABNgIQIAEgAzYCGAsgAEEUaigCACIBRQ0AIANBFGogATYCACABIAM2AhgLAkAgBUEPTQRAIAAgBCAFaiIBQQNyNgIEIAAgAWoiASABKAIEQQFyNgIEDAELIAAgBGoiByAFQQFyNgIEIAAgBEEDcjYCBCAFIAdqIAU2AgAgCARAIAhBeHFBtNAAaiEBQaDQACgCACEDAn9BASAIQQN2dCICIAZxRQRAQYzQACACIAZyNgIAIAEMAQsgASgCCAsiAiADNgIMIAEgAzYCCCADIAE2AgwgAyACNgIIC0Gg0AAgBzYCAEGU0AAgBTYCAAsgAEEIaiEBCyAKQRBqJAAgAQtDACAARQRAPwBBEHQPCwJAIABB//8DcQ0AIABBAEgNACAAQRB2QAAiAEF/RgRAQfzTAEEwNgIAQX8PCyAAQRB0DwsACwvcPyIAQYAICwkBAAAAAgAAAAMAQZQICwUEAAAABQBBpAgLCQYAAAAHAAAACABB3AgLii1JbnZhbGlkIGNoYXIgaW4gdXJsIHF1ZXJ5AFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fYm9keQBDb250ZW50LUxlbmd0aCBvdmVyZmxvdwBDaHVuayBzaXplIG92ZXJmbG93AFJlc3BvbnNlIG92ZXJmbG93AEludmFsaWQgbWV0aG9kIGZvciBIVFRQL3gueCByZXF1ZXN0AEludmFsaWQgbWV0aG9kIGZvciBSVFNQL3gueCByZXF1ZXN0AEV4cGVjdGVkIFNPVVJDRSBtZXRob2QgZm9yIElDRS94LnggcmVxdWVzdABJbnZhbGlkIGNoYXIgaW4gdXJsIGZyYWdtZW50IHN0YXJ0AEV4cGVjdGVkIGRvdABTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3N0YXR1cwBJbnZhbGlkIHJlc3BvbnNlIHN0YXR1cwBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zAFVzZXIgY2FsbGJhY2sgZXJyb3IAYG9uX3Jlc2V0YCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfaGVhZGVyYCBjYWxsYmFjayBlcnJvcgBgb25fbWVzc2FnZV9iZWdpbmAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3N0YXR1c19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3ZlcnNpb25fY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl91cmxfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX21lc3NhZ2VfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXRob2RfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfZmllbGRfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fbmFtZWAgY2FsbGJhY2sgZXJyb3IAVW5leHBlY3RlZCBjaGFyIGluIHVybCBzZXJ2ZXIASW52YWxpZCBoZWFkZXIgdmFsdWUgY2hhcgBJbnZhbGlkIGhlYWRlciBmaWVsZCBjaGFyAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdmVyc2lvbgBJbnZhbGlkIG1pbm9yIHZlcnNpb24ASW52YWxpZCBtYWpvciB2ZXJzaW9uAEV4cGVjdGVkIHNwYWNlIGFmdGVyIHZlcnNpb24ARXhwZWN0ZWQgQ1JMRiBhZnRlciB2ZXJzaW9uAEludmFsaWQgSFRUUCB2ZXJzaW9uAEludmFsaWQgaGVhZGVyIHRva2VuAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdXJsAEludmFsaWQgY2hhcmFjdGVycyBpbiB1cmwAVW5leHBlY3RlZCBzdGFydCBjaGFyIGluIHVybABEb3VibGUgQCBpbiB1cmwARW1wdHkgQ29udGVudC1MZW5ndGgASW52YWxpZCBjaGFyYWN0ZXIgaW4gQ29udGVudC1MZW5ndGgARHVwbGljYXRlIENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhciBpbiB1cmwgcGF0aABDb250ZW50LUxlbmd0aCBjYW4ndCBiZSBwcmVzZW50IHdpdGggVHJhbnNmZXItRW5jb2RpbmcASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgc2l6ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2hlYWRlcl92YWx1ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHZhbHVlAE1pc3NpbmcgZXhwZWN0ZWQgTEYgYWZ0ZXIgaGVhZGVyIHZhbHVlAEludmFsaWQgYFRyYW5zZmVyLUVuY29kaW5nYCBoZWFkZXIgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZSB2YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHF1b3RlZCB2YWx1ZQBQYXVzZWQgYnkgb25faGVhZGVyc19jb21wbGV0ZQBJbnZhbGlkIEVPRiBzdGF0ZQBvbl9yZXNldCBwYXVzZQBvbl9jaHVua19oZWFkZXIgcGF1c2UAb25fbWVzc2FnZV9iZWdpbiBwYXVzZQBvbl9jaHVua19leHRlbnNpb25fdmFsdWUgcGF1c2UAb25fc3RhdHVzX2NvbXBsZXRlIHBhdXNlAG9uX3ZlcnNpb25fY29tcGxldGUgcGF1c2UAb25fdXJsX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2NvbXBsZXRlIHBhdXNlAG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXNzYWdlX2NvbXBsZXRlIHBhdXNlAG9uX21ldGhvZF9jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfZmllbGRfY29tcGxldGUgcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUgcGF1c2UAVW5leHBlY3RlZCBzcGFjZSBhZnRlciBzdGFydCBsaW5lAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBuYW1lAFBhdXNlIG9uIENPTk5FQ1QvVXBncmFkZQBQYXVzZSBvbiBQUkkvVXBncmFkZQBFeHBlY3RlZCBIVFRQLzIgQ29ubmVjdGlvbiBQcmVmYWNlAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fbWV0aG9kAEV4cGVjdGVkIHNwYWNlIGFmdGVyIG1ldGhvZABTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2hlYWRlcl9maWVsZABQYXVzZWQASW52YWxpZCB3b3JkIGVuY291bnRlcmVkAEludmFsaWQgbWV0aG9kIGVuY291bnRlcmVkAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2NoZW1hAFJlcXVlc3QgaGFzIGludmFsaWQgYFRyYW5zZmVyLUVuY29kaW5nYABTV0lUQ0hfUFJPWFkAVVNFX1BST1hZAE1LQUNUSVZJVFkAVU5QUk9DRVNTQUJMRV9FTlRJVFkAQ09QWQBNT1ZFRF9QRVJNQU5FTlRMWQBUT09fRUFSTFkATk9USUZZAEZBSUxFRF9ERVBFTkRFTkNZAEJBRF9HQVRFV0FZAFBMQVkAUFVUAENIRUNLT1VUAEdBVEVXQVlfVElNRU9VVABSRVFVRVNUX1RJTUVPVVQATkVUV09SS19DT05ORUNUX1RJTUVPVVQAQ09OTkVDVElPTl9USU1FT1VUAExPR0lOX1RJTUVPVVQATkVUV09SS19SRUFEX1RJTUVPVVQAUE9TVABNSVNESVJFQ1RFRF9SRVFVRVNUAENMSUVOVF9DTE9TRURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX0xPQURfQkFMQU5DRURfUkVRVUVTVABCQURfUkVRVUVTVABIVFRQX1JFUVVFU1RfU0VOVF9UT19IVFRQU19QT1JUAFJFUE9SVABJTV9BX1RFQVBPVABSRVNFVF9DT05URU5UAE5PX0NPTlRFTlQAUEFSVElBTF9DT05URU5UAEhQRV9JTlZBTElEX0NPTlNUQU5UAEhQRV9DQl9SRVNFVABHRVQASFBFX1NUUklDVABDT05GTElDVABURU1QT1JBUllfUkVESVJFQ1QAUEVSTUFORU5UX1JFRElSRUNUAENPTk5FQ1QATVVMVElfU1RBVFVTAEhQRV9JTlZBTElEX1NUQVRVUwBUT09fTUFOWV9SRVFVRVNUUwBFQVJMWV9ISU5UUwBVTkFWQUlMQUJMRV9GT1JfTEVHQUxfUkVBU09OUwBPUFRJT05TAFNXSVRDSElOR19QUk9UT0NPTFMAVkFSSUFOVF9BTFNPX05FR09USUFURVMATVVMVElQTEVfQ0hPSUNFUwBJTlRFUk5BTF9TRVJWRVJfRVJST1IAV0VCX1NFUlZFUl9VTktOT1dOX0VSUk9SAFJBSUxHVU5fRVJST1IASURFTlRJVFlfUFJPVklERVJfQVVUSEVOVElDQVRJT05fRVJST1IAU1NMX0NFUlRJRklDQVRFX0VSUk9SAElOVkFMSURfWF9GT1JXQVJERURfRk9SAFNFVF9QQVJBTUVURVIAR0VUX1BBUkFNRVRFUgBIUEVfVVNFUgBTRUVfT1RIRVIASFBFX0NCX0NIVU5LX0hFQURFUgBNS0NBTEVOREFSAFNFVFVQAFdFQl9TRVJWRVJfSVNfRE9XTgBURUFSRE9XTgBIUEVfQ0xPU0VEX0NPTk5FQ1RJT04ASEVVUklTVElDX0VYUElSQVRJT04ARElTQ09OTkVDVEVEX09QRVJBVElPTgBOT05fQVVUSE9SSVRBVElWRV9JTkZPUk1BVElPTgBIUEVfSU5WQUxJRF9WRVJTSU9OAEhQRV9DQl9NRVNTQUdFX0JFR0lOAFNJVEVfSVNfRlJPWkVOAEhQRV9JTlZBTElEX0hFQURFUl9UT0tFTgBJTlZBTElEX1RPS0VOAEZPUkJJRERFTgBFTkhBTkNFX1lPVVJfQ0FMTQBIUEVfSU5WQUxJRF9VUkwAQkxPQ0tFRF9CWV9QQVJFTlRBTF9DT05UUk9MAE1LQ09MAEFDTABIUEVfSU5URVJOQUwAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRV9VTk9GRklDSUFMAEhQRV9PSwBVTkxJTksAVU5MT0NLAFBSSQBSRVRSWV9XSVRIAEhQRV9JTlZBTElEX0NPTlRFTlRfTEVOR1RIAEhQRV9VTkVYUEVDVEVEX0NPTlRFTlRfTEVOR1RIAEZMVVNIAFBST1BQQVRDSABNLVNFQVJDSABVUklfVE9PX0xPTkcAUFJPQ0VTU0lORwBNSVNDRUxMQU5FT1VTX1BFUlNJU1RFTlRfV0FSTklORwBNSVNDRUxMQU5FT1VTX1dBUk5JTkcASFBFX0lOVkFMSURfVFJBTlNGRVJfRU5DT0RJTkcARXhwZWN0ZWQgQ1JMRgBIUEVfSU5WQUxJRF9DSFVOS19TSVpFAE1PVkUAQ09OVElOVUUASFBFX0NCX1NUQVRVU19DT01QTEVURQBIUEVfQ0JfSEVBREVSU19DT01QTEVURQBIUEVfQ0JfVkVSU0lPTl9DT01QTEVURQBIUEVfQ0JfVVJMX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19DT01QTEVURQBIUEVfQ0JfSEVBREVSX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fVkFMVUVfQ09NUExFVEUASFBFX0NCX0NIVU5LX0VYVEVOU0lPTl9OQU1FX0NPTVBMRVRFAEhQRV9DQl9NRVNTQUdFX0NPTVBMRVRFAEhQRV9DQl9NRVRIT0RfQ09NUExFVEUASFBFX0NCX0hFQURFUl9GSUVMRF9DT01QTEVURQBERUxFVEUASFBFX0lOVkFMSURfRU9GX1NUQVRFAElOVkFMSURfU1NMX0NFUlRJRklDQVRFAFBBVVNFAE5PX1JFU1BPTlNFAFVOU1VQUE9SVEVEX01FRElBX1RZUEUAR09ORQBOT1RfQUNDRVBUQUJMRQBTRVJWSUNFX1VOQVZBSUxBQkxFAFJBTkdFX05PVF9TQVRJU0ZJQUJMRQBPUklHSU5fSVNfVU5SRUFDSEFCTEUAUkVTUE9OU0VfSVNfU1RBTEUAUFVSR0UATUVSR0UAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRQBSRVFVRVNUX0hFQURFUl9UT09fTEFSR0UAUEFZTE9BRF9UT09fTEFSR0UASU5TVUZGSUNJRU5UX1NUT1JBR0UASFBFX1BBVVNFRF9VUEdSQURFAEhQRV9QQVVTRURfSDJfVVBHUkFERQBTT1VSQ0UAQU5OT1VOQ0UAVFJBQ0UASFBFX1VORVhQRUNURURfU1BBQ0UAREVTQ1JJQkUAVU5TVUJTQ1JJQkUAUkVDT1JEAEhQRV9JTlZBTElEX01FVEhPRABOT1RfRk9VTkQAUFJPUEZJTkQAVU5CSU5EAFJFQklORABVTkFVVEhPUklaRUQATUVUSE9EX05PVF9BTExPV0VEAEhUVFBfVkVSU0lPTl9OT1RfU1VQUE9SVEVEAEFMUkVBRFlfUkVQT1JURUQAQUNDRVBURUQATk9UX0lNUExFTUVOVEVEAExPT1BfREVURUNURUQASFBFX0NSX0VYUEVDVEVEAEhQRV9MRl9FWFBFQ1RFRABDUkVBVEVEAElNX1VTRUQASFBFX1BBVVNFRABUSU1FT1VUX09DQ1VSRUQAUEFZTUVOVF9SRVFVSVJFRABQUkVDT05ESVRJT05fUkVRVUlSRUQAUFJPWFlfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATkVUV09SS19BVVRIRU5USUNBVElPTl9SRVFVSVJFRABMRU5HVEhfUkVRVUlSRUQAU1NMX0NFUlRJRklDQVRFX1JFUVVJUkVEAFVQR1JBREVfUkVRVUlSRUQAUEFHRV9FWFBJUkVEAFBSRUNPTkRJVElPTl9GQUlMRUQARVhQRUNUQVRJT05fRkFJTEVEAFJFVkFMSURBVElPTl9GQUlMRUQAU1NMX0hBTkRTSEFLRV9GQUlMRUQATE9DS0VEAFRSQU5TRk9STUFUSU9OX0FQUExJRUQATk9UX01PRElGSUVEAE5PVF9FWFRFTkRFRABCQU5EV0lEVEhfTElNSVRfRVhDRUVERUQAU0lURV9JU19PVkVSTE9BREVEAEhFQUQARXhwZWN0ZWQgSFRUUC8AAF4TAAAmEwAAMBAAAPAXAACdEwAAFRIAADkXAADwEgAAChAAAHUSAACtEgAAghMAAE8UAAB/EAAAoBUAACMUAACJEgAAixQAAE0VAADUEQAAzxQAABAYAADJFgAA3BYAAMERAADgFwAAuxQAAHQUAAB8FQAA5RQAAAgXAAAfEAAAZRUAAKMUAAAoFQAAAhUAAJkVAAAsEAAAixkAAE8PAADUDgAAahAAAM4QAAACFwAAiQ4AAG4TAAAcEwAAZhQAAFYXAADBEwAAzRMAAGwTAABoFwAAZhcAAF8XAAAiEwAAzg8AAGkOAADYDgAAYxYAAMsTAACqDgAAKBcAACYXAADFEwAAXRYAAOgRAABnEwAAZRMAAPIWAABzEwAAHRcAAPkWAADzEQAAzw4AAM4VAAAMEgAAsxEAAKURAABhEAAAMhcAALsTAEH5NQsBAQBBkDYL4AEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB/TcLAQEAQZE4C14CAwICAgICAAACAgACAgACAgICAgICAgICAAQAAAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAEH9OQsBAQBBkToLXgIAAgICAgIAAAICAAICAAICAgICAgICAgIAAwAEAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAQfA7Cw1sb3NlZWVwLWFsaXZlAEGJPAsBAQBBoDwL4AEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBBiT4LAQEAQaA+C+cBAQEBAQEBAQEBAQEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQFjaHVua2VkAEGwwAALXwEBAAEBAQEBAAABAQABAQABAQEBAQEBAQEBAAAAAAAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAEGQwgALIWVjdGlvbmVudC1sZW5ndGhvbnJveHktY29ubmVjdGlvbgBBwMIACy1yYW5zZmVyLWVuY29kaW5ncGdyYWRlDQoNCg0KU00NCg0KVFRQL0NFL1RTUC8AQfnCAAsFAQIAAQMAQZDDAAvgAQQBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAEH5xAALBQECAAEDAEGQxQAL4AEEAQEFAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+cYACwQBAAABAEGRxwAL3wEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAEH6yAALBAEAAAIAQZDJAAtfAwQAAAQEBAQEBAQEBAQEBQQEBAQEBAQEBAQEBAAEAAYHBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQAQfrKAAsEAQAAAQBBkMsACwEBAEGqywALQQIAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAEH6zAALBAEAAAEAQZDNAAsBAQBBms0ACwYCAAAAAAIAQbHNAAs6AwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBB8M4AC5YBTk9VTkNFRUNLT1VUTkVDVEVURUNSSUJFTFVTSEVURUFEU0VBUkNIUkdFQ1RJVklUWUxFTkRBUlZFT1RJRllQVElPTlNDSFNFQVlTVEFUQ0hHRU9SRElSRUNUT1JUUkNIUEFSQU1FVEVSVVJDRUJTQ1JJQkVBUkRPV05BQ0VJTkROS0NLVUJTQ1JJQkVIVFRQL0FEVFAv","base64")});var t6e=V((iMr,e6e)=>{"use strict";d();var{Buffer:Uft}=require("node:buffer");e6e.exports=Uft.from("AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAX8AYAJ/fwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAy0sBQYAAAIAAAAAAAACAQIAAgICAAADAAAAAAMDAwMBAQEBAQEBAQEAAAIAAAAEBQFwARISBQMBAAIGCAF/AUGA1AQLB9EFIgZtZW1vcnkCAAtfaW5pdGlhbGl6ZQAIGV9faW5kaXJlY3RfZnVuY3Rpb25fdGFibGUBAAtsbGh0dHBfaW5pdAAJGGxsaHR0cF9zaG91bGRfa2VlcF9hbGl2ZQAvDGxsaHR0cF9hbGxvYwALBm1hbGxvYwAxC2xsaHR0cF9mcmVlAAwEZnJlZQAMD2xsaHR0cF9nZXRfdHlwZQANFWxsaHR0cF9nZXRfaHR0cF9tYWpvcgAOFWxsaHR0cF9nZXRfaHR0cF9taW5vcgAPEWxsaHR0cF9nZXRfbWV0aG9kABAWbGxodHRwX2dldF9zdGF0dXNfY29kZQAREmxsaHR0cF9nZXRfdXBncmFkZQASDGxsaHR0cF9yZXNldAATDmxsaHR0cF9leGVjdXRlABQUbGxodHRwX3NldHRpbmdzX2luaXQAFQ1sbGh0dHBfZmluaXNoABYMbGxodHRwX3BhdXNlABcNbGxodHRwX3Jlc3VtZQAYG2xsaHR0cF9yZXN1bWVfYWZ0ZXJfdXBncmFkZQAZEGxsaHR0cF9nZXRfZXJybm8AGhdsbGh0dHBfZ2V0X2Vycm9yX3JlYXNvbgAbF2xsaHR0cF9zZXRfZXJyb3JfcmVhc29uABwUbGxodHRwX2dldF9lcnJvcl9wb3MAHRFsbGh0dHBfZXJybm9fbmFtZQAeEmxsaHR0cF9tZXRob2RfbmFtZQAfEmxsaHR0cF9zdGF0dXNfbmFtZQAgGmxsaHR0cF9zZXRfbGVuaWVudF9oZWFkZXJzACEhbGxodHRwX3NldF9sZW5pZW50X2NodW5rZWRfbGVuZ3RoACIdbGxodHRwX3NldF9sZW5pZW50X2tlZXBfYWxpdmUAIyRsbGh0dHBfc2V0X2xlbmllbnRfdHJhbnNmZXJfZW5jb2RpbmcAJBhsbGh0dHBfbWVzc2FnZV9uZWVkc19lb2YALgkXAQBBAQsRAQIDBAUKBgcrLSwqKSglJyYK77MCLBYAQYjQACgCAARAAAtBiNAAQQE2AgALFAAgABAwIAAgAjYCOCAAIAE6ACgLFAAgACAALwEyIAAtAC4gABAvEAALHgEBf0HAABAyIgEQMCABQYAINgI4IAEgADoAKCABC48MAQd/AkAgAEUNACAAQQhrIgEgAEEEaygCACIAQXhxIgRqIQUCQCAAQQFxDQAgAEEDcUUNASABIAEoAgAiAGsiAUGc0AAoAgBJDQEgACAEaiEEAkACQEGg0AAoAgAgAUcEQCAAQf8BTQRAIABBA3YhAyABKAIIIgAgASgCDCICRgRAQYzQAEGM0AAoAgBBfiADd3E2AgAMBQsgAiAANgIIIAAgAjYCDAwECyABKAIYIQYgASABKAIMIgBHBEAgACABKAIIIgI2AgggAiAANgIMDAMLIAFBFGoiAygCACICRQRAIAEoAhAiAkUNAiABQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFKAIEIgBBA3FBA0cNAiAFIABBfnE2AgRBlNAAIAQ2AgAgBSAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCABKAIcIgJBAnRBvNIAaiIDKAIAIAFGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgAUYbaiAANgIAIABFDQELIAAgBjYCGCABKAIQIgIEQCAAIAI2AhAgAiAANgIYCyABQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAFTw0AIAUoAgQiAEEBcUUNAAJAAkACQAJAIABBAnFFBEBBpNAAKAIAIAVGBEBBpNAAIAE2AgBBmNAAQZjQACgCACAEaiIANgIAIAEgAEEBcjYCBCABQaDQACgCAEcNBkGU0ABBADYCAEGg0ABBADYCAAwGC0Gg0AAoAgAgBUYEQEGg0AAgATYCAEGU0ABBlNAAKAIAIARqIgA2AgAgASAAQQFyNgIEIAAgAWogADYCAAwGCyAAQXhxIARqIQQgAEH/AU0EQCAAQQN2IQMgBSgCCCIAIAUoAgwiAkYEQEGM0ABBjNAAKAIAQX4gA3dxNgIADAULIAIgADYCCCAAIAI2AgwMBAsgBSgCGCEGIAUgBSgCDCIARwRAQZzQACgCABogACAFKAIIIgI2AgggAiAANgIMDAMLIAVBFGoiAygCACICRQRAIAUoAhAiAkUNAiAFQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFIABBfnE2AgQgASAEaiAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCAFKAIcIgJBAnRBvNIAaiIDKAIAIAVGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgBUYbaiAANgIAIABFDQELIAAgBjYCGCAFKAIQIgIEQCAAIAI2AhAgAiAANgIYCyAFQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAEaiAENgIAIAEgBEEBcjYCBCABQaDQACgCAEcNAEGU0AAgBDYCAAwBCyAEQf8BTQRAIARBeHFBtNAAaiEAAn9BjNAAKAIAIgJBASAEQQN2dCIDcUUEQEGM0AAgAiADcjYCACAADAELIAAoAggLIgIgATYCDCAAIAE2AgggASAANgIMIAEgAjYCCAwBC0EfIQIgBEH///8HTQRAIARBJiAEQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAgsgASACNgIcIAFCADcCECACQQJ0QbzSAGohAAJAQZDQACgCACIDQQEgAnQiB3FFBEAgACABNgIAQZDQACADIAdyNgIAIAEgADYCGCABIAE2AgggASABNgIMDAELIARBGSACQQF2a0EAIAJBH0cbdCECIAAoAgAhAAJAA0AgACIDKAIEQXhxIARGDQEgAkEddiEAIAJBAXQhAiADIABBBHFqQRBqIgcoAgAiAA0ACyAHIAE2AgAgASADNgIYIAEgATYCDCABIAE2AggMAQsgAygCCCIAIAE2AgwgAyABNgIIIAFBADYCGCABIAM2AgwgASAANgIIC0Gs0ABBrNAAKAIAQQFrIgBBfyAAGzYCAAsLBwAgAC0AKAsHACAALQAqCwcAIAAtACsLBwAgAC0AKQsHACAALwEyCwcAIAAtAC4LQAEEfyAAKAIYIQEgAC0ALSECIAAtACghAyAAKAI4IQQgABAwIAAgBDYCOCAAIAM6ACggACACOgAtIAAgATYCGAu74gECB38DfiABIAJqIQQCQCAAIgIoAgwiAA0AIAIoAgQEQCACIAE2AgQLIwBBEGsiCCQAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAIoAhwiA0EBaw7dAdoBAdkBAgMEBQYHCAkKCwwNDtgBDxDXARES1gETFBUWFxgZGhvgAd8BHB0e1QEfICEiIyQl1AEmJygpKiss0wHSAS0u0QHQAS8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRtsBR0hJSs8BzgFLzQFMzAFNTk9QUVJTVFVWV1hZWltcXV5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6e3x9fn+AAYEBggGDAYQBhQGGAYcBiAGJAYoBiwGMAY0BjgGPAZABkQGSAZMBlAGVAZYBlwGYAZkBmgGbAZwBnQGeAZ8BoAGhAaIBowGkAaUBpgGnAagBqQGqAasBrAGtAa4BrwGwAbEBsgGzAbQBtQG2AbcBywHKAbgByQG5AcgBugG7AbwBvQG+Ab8BwAHBAcIBwwHEAcUBxgEA3AELQQAMxgELQQ4MxQELQQ0MxAELQQ8MwwELQRAMwgELQRMMwQELQRQMwAELQRUMvwELQRYMvgELQRgMvQELQRkMvAELQRoMuwELQRsMugELQRwMuQELQR0MuAELQQgMtwELQR4MtgELQSAMtQELQR8MtAELQQcMswELQSEMsgELQSIMsQELQSMMsAELQSQMrwELQRIMrgELQREMrQELQSUMrAELQSYMqwELQScMqgELQSgMqQELQcMBDKgBC0EqDKcBC0ErDKYBC0EsDKUBC0EtDKQBC0EuDKMBC0EvDKIBC0HEAQyhAQtBMAygAQtBNAyfAQtBDAyeAQtBMQydAQtBMgycAQtBMwybAQtBOQyaAQtBNQyZAQtBxQEMmAELQQsMlwELQToMlgELQTYMlQELQQoMlAELQTcMkwELQTgMkgELQTwMkQELQTsMkAELQT0MjwELQQkMjgELQSkMjQELQT4MjAELQT8MiwELQcAADIoBC0HBAAyJAQtBwgAMiAELQcMADIcBC0HEAAyGAQtBxQAMhQELQcYADIQBC0EXDIMBC0HHAAyCAQtByAAMgQELQckADIABC0HKAAx/C0HLAAx+C0HNAAx9C0HMAAx8C0HOAAx7C0HPAAx6C0HQAAx5C0HRAAx4C0HSAAx3C0HTAAx2C0HUAAx1C0HWAAx0C0HVAAxzC0EGDHILQdcADHELQQUMcAtB2AAMbwtBBAxuC0HZAAxtC0HaAAxsC0HbAAxrC0HcAAxqC0EDDGkLQd0ADGgLQd4ADGcLQd8ADGYLQeEADGULQeAADGQLQeIADGMLQeMADGILQQIMYQtB5AAMYAtB5QAMXwtB5gAMXgtB5wAMXQtB6AAMXAtB6QAMWwtB6gAMWgtB6wAMWQtB7AAMWAtB7QAMVwtB7gAMVgtB7wAMVQtB8AAMVAtB8QAMUwtB8gAMUgtB8wAMUQtB9AAMUAtB9QAMTwtB9gAMTgtB9wAMTQtB+AAMTAtB+QAMSwtB+gAMSgtB+wAMSQtB/AAMSAtB/QAMRwtB/gAMRgtB/wAMRQtBgAEMRAtBgQEMQwtBggEMQgtBgwEMQQtBhAEMQAtBhQEMPwtBhgEMPgtBhwEMPQtBiAEMPAtBiQEMOwtBigEMOgtBiwEMOQtBjAEMOAtBjQEMNwtBjgEMNgtBjwEMNQtBkAEMNAtBkQEMMwtBkgEMMgtBkwEMMQtBlAEMMAtBlQEMLwtBlgEMLgtBlwEMLQtBmAEMLAtBmQEMKwtBmgEMKgtBmwEMKQtBnAEMKAtBnQEMJwtBngEMJgtBnwEMJQtBoAEMJAtBoQEMIwtBogEMIgtBowEMIQtBpAEMIAtBpQEMHwtBpgEMHgtBpwEMHQtBqAEMHAtBqQEMGwtBqgEMGgtBqwEMGQtBrAEMGAtBrQEMFwtBrgEMFgtBAQwVC0GvAQwUC0GwAQwTC0GxAQwSC0GzAQwRC0GyAQwQC0G0AQwPC0G1AQwOC0G2AQwNC0G3AQwMC0G4AQwLC0G5AQwKC0G6AQwJC0G7AQwIC0HGAQwHC0G8AQwGC0G9AQwFC0G+AQwEC0G/AQwDC0HAAQwCC0HCAQwBC0HBAQshAwNAAkACQAJAAkACQAJAAkACQAJAIAICfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAgJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAn8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCADDsYBAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHyAhIyUmKCorLC8wMTIzNDU2Nzk6Ozw9lANAQkRFRklLTk9QUVJTVFVWWFpbXF1eX2BhYmNkZWZnaGpsb3Bxc3V2eHl6e3x/gAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEBkgGTAZQBlQGWAZcBmAGZAZoBmwGcAZ0BngGfAaABoQGiAaMBpAGlAaYBpwGoAakBqgGrAawBrQGuAa8BsAGxAbIBswG0AbUBtgG3AbgBuQG6AbsBvAG9Ab4BvwHAAcEBwgHDAcQBxQHGAccByAHJAcsBzAHNAc4BzwGKA4kDiAOHA4QDgwOAA/sC+gL5AvgC9wL0AvMC8gLLAsECsALZAQsgASAERw3wAkHdASEDDLMDCyABIARHDcgBQcMBIQMMsgMLIAEgBEcNe0H3ACEDDLEDCyABIARHDXBB7wAhAwywAwsgASAERw1pQeoAIQMMrwMLIAEgBEcNZUHoACEDDK4DCyABIARHDWJB5gAhAwytAwsgASAERw0aQRghAwysAwsgASAERw0VQRIhAwyrAwsgASAERw1CQcUAIQMMqgMLIAEgBEcNNEE/IQMMqQMLIAEgBEcNMkE8IQMMqAMLIAEgBEcNK0ExIQMMpwMLIAItAC5BAUYNnwMMwQILQQAhAAJAAkACQCACLQAqRQ0AIAItACtFDQAgAi8BMCIDQQJxRQ0BDAILIAIvATAiA0EBcUUNAQtBASEAIAItAChBAUYNACACLwEyIgVB5ABrQeQASQ0AIAVBzAFGDQAgBUGwAkYNACADQcAAcQ0AQQAhACADQYgEcUGABEYNACADQShxQQBHIQALIAJBADsBMCACQQA6AC8gAEUN3wIgAkIANwMgDOACC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAARQ3MASAAQRVHDd0CIAJBBDYCHCACIAE2AhQgAkGwGDYCECACQRU2AgxBACEDDKQDCyABIARGBEBBBiEDDKQDCyABQQFqIQFBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAA3ZAgwcCyACQgA3AyBBEiEDDIkDCyABIARHDRZBHSEDDKEDCyABIARHBEAgAUEBaiEBQRAhAwyIAwtBByEDDKADCyACIAIpAyAiCiAEIAFrrSILfSIMQgAgCiAMWhs3AyAgCiALWA3UAkEIIQMMnwMLIAEgBEcEQCACQQk2AgggAiABNgIEQRQhAwyGAwtBCSEDDJ4DCyACKQMgQgBSDccBIAIgAi8BMEGAAXI7ATAMQgsgASAERw0/QdAAIQMMnAMLIAEgBEYEQEELIQMMnAMLIAFBAWohAUEAIQACQCACKAI4IgNFDQAgAygCUCIDRQ0AIAIgAxEAACEACyAADc8CDMYBC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ3GASAAQRVHDc0CIAJBCzYCHCACIAE2AhQgAkGCGTYCECACQRU2AgxBACEDDJoDC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ0MIABBFUcNygIgAkEaNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMmQMLQQAhAAJAIAIoAjgiA0UNACADKAJMIgNFDQAgAiADEQAAIQALIABFDcQBIABBFUcNxwIgAkELNgIcIAIgATYCFCACQZEXNgIQIAJBFTYCDEEAIQMMmAMLIAEgBEYEQEEPIQMMmAMLIAEtAAAiAEE7Rg0HIABBDUcNxAIgAUEBaiEBDMMBC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3DASAAQRVHDcICIAJBDzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJYDCwNAIAEtAABB8DVqLQAAIgBBAUcEQCAAQQJHDcECIAIoAgQhAEEAIQMgAkEANgIEIAIgACABQQFqIgEQLSIADcICDMUBCyAEIAFBAWoiAUcNAAtBEiEDDJUDC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3FASAAQRVHDb0CIAJBGzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJQDCyABIARGBEBBFiEDDJQDCyACQQo2AgggAiABNgIEQQAhAAJAIAIoAjgiA0UNACADKAJIIgNFDQAgAiADEQAAIQALIABFDcIBIABBFUcNuQIgAkEVNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMkwMLIAEgBEcEQANAIAEtAABB8DdqLQAAIgBBAkcEQAJAIABBAWsOBMQCvQIAvgK9AgsgAUEBaiEBQQghAwz8AgsgBCABQQFqIgFHDQALQRUhAwyTAwtBFSEDDJIDCwNAIAEtAABB8DlqLQAAIgBBAkcEQCAAQQFrDgTFArcCwwK4ArcCCyAEIAFBAWoiAUcNAAtBGCEDDJEDCyABIARHBEAgAkELNgIIIAIgATYCBEEHIQMM+AILQRkhAwyQAwsgAUEBaiEBDAILIAEgBEYEQEEaIQMMjwMLAkAgAS0AAEENaw4UtQG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwEAvwELQQAhAyACQQA2AhwgAkGvCzYCECACQQI2AgwgAiABQQFqNgIUDI4DCyABIARGBEBBGyEDDI4DCyABLQAAIgBBO0cEQCAAQQ1HDbECIAFBAWohAQy6AQsgAUEBaiEBC0EiIQMM8wILIAEgBEYEQEEcIQMMjAMLQgAhCgJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAS0AAEEwaw43wQLAAgABAgMEBQYH0AHQAdAB0AHQAdAB0AEICQoLDA3QAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdABDg8QERIT0AELQgIhCgzAAgtCAyEKDL8CC0IEIQoMvgILQgUhCgy9AgtCBiEKDLwCC0IHIQoMuwILQgghCgy6AgtCCSEKDLkCC0IKIQoMuAILQgshCgy3AgtCDCEKDLYCC0INIQoMtQILQg4hCgy0AgtCDyEKDLMCC0IKIQoMsgILQgshCgyxAgtCDCEKDLACC0INIQoMrwILQg4hCgyuAgtCDyEKDK0CC0IAIQoCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAEtAABBMGsON8ACvwIAAQIDBAUGB74CvgK+Ar4CvgK+Ar4CCAkKCwwNvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ag4PEBESE74CC0ICIQoMvwILQgMhCgy+AgtCBCEKDL0CC0IFIQoMvAILQgYhCgy7AgtCByEKDLoCC0IIIQoMuQILQgkhCgy4AgtCCiEKDLcCC0ILIQoMtgILQgwhCgy1AgtCDSEKDLQCC0IOIQoMswILQg8hCgyyAgtCCiEKDLECC0ILIQoMsAILQgwhCgyvAgtCDSEKDK4CC0IOIQoMrQILQg8hCgysAgsgAiACKQMgIgogBCABa60iC30iDEIAIAogDFobNwMgIAogC1gNpwJBHyEDDIkDCyABIARHBEAgAkEJNgIIIAIgATYCBEElIQMM8AILQSAhAwyIAwtBASEFIAIvATAiA0EIcUUEQCACKQMgQgBSIQULAkAgAi0ALgRAQQEhACACLQApQQVGDQEgA0HAAHFFIAVxRQ0BC0EAIQAgA0HAAHENAEECIQAgA0EIcQ0AIANBgARxBEACQCACLQAoQQFHDQAgAi0ALUEKcQ0AQQUhAAwCC0EEIQAMAQsgA0EgcUUEQAJAIAItAChBAUYNACACLwEyIgBB5ABrQeQASQ0AIABBzAFGDQAgAEGwAkYNAEEEIQAgA0EocUUNAiADQYgEcUGABEYNAgtBACEADAELQQBBAyACKQMgUBshAAsgAEEBaw4FvgIAsAEBpAKhAgtBESEDDO0CCyACQQE6AC8MhAMLIAEgBEcNnQJBJCEDDIQDCyABIARHDRxBxgAhAwyDAwtBACEAAkAgAigCOCIDRQ0AIAMoAkQiA0UNACACIAMRAAAhAAsgAEUNJyAAQRVHDZgCIAJB0AA2AhwgAiABNgIUIAJBkRg2AhAgAkEVNgIMQQAhAwyCAwsgASAERgRAQSghAwyCAwtBACEDIAJBADYCBCACQQw2AgggAiABIAEQKiIARQ2UAiACQSc2AhwgAiABNgIUIAIgADYCDAyBAwsgASAERgRAQSkhAwyBAwsgAS0AACIAQSBGDRMgAEEJRw2VAiABQQFqIQEMFAsgASAERwRAIAFBAWohAQwWC0EqIQMM/wILIAEgBEYEQEErIQMM/wILIAEtAAAiAEEJRyAAQSBHcQ2QAiACLQAsQQhHDd0CIAJBADoALAzdAgsgASAERgRAQSwhAwz+AgsgAS0AAEEKRw2OAiABQQFqIQEMsAELIAEgBEcNigJBLyEDDPwCCwNAIAEtAAAiAEEgRwRAIABBCmsOBIQCiAKIAoQChgILIAQgAUEBaiIBRw0AC0ExIQMM+wILQTIhAyABIARGDfoCIAIoAgAiACAEIAFraiEHIAEgAGtBA2ohBgJAA0AgAEHwO2otAAAgAS0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQEgAEEDRgRAQQYhAQziAgsgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAc2AgAM+wILIAJBADYCAAyGAgtBMyEDIAQgASIARg35AiAEIAFrIAIoAgAiAWohByAAIAFrQQhqIQYCQANAIAFB9DtqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBCEYEQEEFIQEM4QILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPoCCyACQQA2AgAgACEBDIUCC0E0IQMgBCABIgBGDfgCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgJAA0AgAUHQwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBBUYEQEEHIQEM4AILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPkCCyACQQA2AgAgACEBDIQCCyABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRg0JDIECCyAEIAFBAWoiAUcNAAtBMCEDDPgCC0EwIQMM9wILIAEgBEcEQANAIAEtAAAiAEEgRwRAIABBCmsOBP8B/gH+Af8B/gELIAQgAUEBaiIBRw0AC0E4IQMM9wILQTghAwz2AgsDQCABLQAAIgBBIEcgAEEJR3EN9gEgBCABQQFqIgFHDQALQTwhAwz1AgsDQCABLQAAIgBBIEcEQAJAIABBCmsOBPkBBAT5AQALIABBLEYN9QEMAwsgBCABQQFqIgFHDQALQT8hAwz0AgtBwAAhAyABIARGDfMCIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAEGAQGstAAAgAS0AAEEgckcNASAAQQZGDdsCIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPQCCyACQQA2AgALQTYhAwzZAgsgASAERgRAQcEAIQMM8gILIAJBDDYCCCACIAE2AgQgAi0ALEEBaw4E+wHuAewB6wHUAgsgAUEBaiEBDPoBCyABIARHBEADQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxIgBBCUYNACAAQSBGDQACQAJAAkACQCAAQeMAaw4TAAMDAwMDAwMBAwMDAwMDAwMDAgMLIAFBAWohAUExIQMM3AILIAFBAWohAUEyIQMM2wILIAFBAWohAUEzIQMM2gILDP4BCyAEIAFBAWoiAUcNAAtBNSEDDPACC0E1IQMM7wILIAEgBEcEQANAIAEtAABBgDxqLQAAQQFHDfcBIAQgAUEBaiIBRw0AC0E9IQMM7wILQT0hAwzuAgtBACEAAkAgAigCOCIDRQ0AIAMoAkAiA0UNACACIAMRAAAhAAsgAEUNASAAQRVHDeYBIAJBwgA2AhwgAiABNgIUIAJB4xg2AhAgAkEVNgIMQQAhAwztAgsgAUEBaiEBC0E8IQMM0gILIAEgBEYEQEHCACEDDOsCCwJAA0ACQCABLQAAQQlrDhgAAswCzALRAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAgDMAgsgBCABQQFqIgFHDQALQcIAIQMM6wILIAFBAWohASACLQAtQQFxRQ3+AQtBLCEDDNACCyABIARHDd4BQcQAIQMM6AILA0AgAS0AAEGQwABqLQAAQQFHDZwBIAQgAUEBaiIBRw0AC0HFACEDDOcCCyABLQAAIgBBIEYN/gEgAEE6Rw3AAiACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgAN3gEM3QELQccAIQMgBCABIgBGDeUCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFBkMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvwIgAUEFRg3CAiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzlAgtByAAhAyAEIAEiAEYN5AIgBCABayACKAIAIgFqIQcgACABa0EJaiEGA0AgAUGWwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw2+AkECIAFBCUYNwgIaIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOQCCyABIARGBEBByQAhAwzkAgsCQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxQe4Aaw4HAL8CvwK/Ar8CvwIBvwILIAFBAWohAUE+IQMMywILIAFBAWohAUE/IQMMygILQcoAIQMgBCABIgBGDeICIAQgAWsgAigCACIBaiEGIAAgAWtBAWohBwNAIAFBoMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvAIgAUEBRg2+AiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBjYCAAziAgtBywAhAyAEIAEiAEYN4QIgBCABayACKAIAIgFqIQcgACABa0EOaiEGA0AgAUGiwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw27AiABQQ5GDb4CIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOECC0HMACEDIAQgASIARg3gAiAEIAFrIAIoAgAiAWohByAAIAFrQQ9qIQYDQCABQcDCAGotAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDboCQQMgAUEPRg2+AhogAUEBaiEBIAQgAEEBaiIARw0ACyACIAc2AgAM4AILQc0AIQMgBCABIgBGDd8CIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFB0MIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNuQJBBCABQQVGDb0CGiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzfAgsgASAERgRAQc4AIQMM3wILAkACQAJAAkAgAS0AACIAQSByIAAgAEHBAGtB/wFxQRpJG0H/AXFB4wBrDhMAvAK8ArwCvAK8ArwCvAK8ArwCvAK8ArwCAbwCvAK8AgIDvAILIAFBAWohAUHBACEDDMgCCyABQQFqIQFBwgAhAwzHAgsgAUEBaiEBQcMAIQMMxgILIAFBAWohAUHEACEDDMUCCyABIARHBEAgAkENNgIIIAIgATYCBEHFACEDDMUCC0HPACEDDN0CCwJAAkAgAS0AAEEKaw4EAZABkAEAkAELIAFBAWohAQtBKCEDDMMCCyABIARGBEBB0QAhAwzcAgsgAS0AAEEgRw0AIAFBAWohASACLQAtQQFxRQ3QAQtBFyEDDMECCyABIARHDcsBQdIAIQMM2QILQdMAIQMgASAERg3YAiACKAIAIgAgBCABa2ohBiABIABrQQFqIQUDQCABLQAAIABB1sIAai0AAEcNxwEgAEEBRg3KASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBjYCAAzYAgsgASAERgRAQdUAIQMM2AILIAEtAABBCkcNwgEgAUEBaiEBDMoBCyABIARGBEBB1gAhAwzXAgsCQAJAIAEtAABBCmsOBADDAcMBAcMBCyABQQFqIQEMygELIAFBAWohAUHKACEDDL0CC0EAIQACQCACKAI4IgNFDQAgAygCPCIDRQ0AIAIgAxEAACEACyAADb8BQc0AIQMMvAILIAItAClBIkYNzwIMiQELIAQgASIFRgRAQdsAIQMM1AILQQAhAEEBIQFBASEGQQAhAwJAAn8CQAJAAkACQAJAAkACQCAFLQAAQTBrDgrFAcQBAAECAwQFBgjDAQtBAgwGC0EDDAULQQQMBAtBBQwDC0EGDAILQQcMAQtBCAshA0EAIQFBACEGDL0BC0EJIQNBASEAQQAhAUEAIQYMvAELIAEgBEYEQEHdACEDDNMCCyABLQAAQS5HDbgBIAFBAWohAQyIAQsgASAERw22AUHfACEDDNECCyABIARHBEAgAkEONgIIIAIgATYCBEHQACEDDLgCC0HgACEDDNACC0HhACEDIAEgBEYNzwIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGA0AgAS0AACAAQeLCAGotAABHDbEBIABBA0YNswEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMzwILQeIAIQMgASAERg3OAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYDQCABLQAAIABB5sIAai0AAEcNsAEgAEECRg2vASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAzOAgtB4wAhAyABIARGDc0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgNAIAEtAAAgAEHpwgBqLQAARw2vASAAQQNGDa0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADM0CCyABIARGBEBB5QAhAwzNAgsgAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANqgFB1gAhAwyzAgsgASAERwRAA0AgAS0AACIAQSBHBEACQAJAAkAgAEHIAGsOCwABswGzAbMBswGzAbMBswGzAQKzAQsgAUEBaiEBQdIAIQMMtwILIAFBAWohAUHTACEDDLYCCyABQQFqIQFB1AAhAwy1AgsgBCABQQFqIgFHDQALQeQAIQMMzAILQeQAIQMMywILA0AgAS0AAEHwwgBqLQAAIgBBAUcEQCAAQQJrDgOnAaYBpQGkAQsgBCABQQFqIgFHDQALQeYAIQMMygILIAFBAWogASAERw0CGkHnACEDDMkCCwNAIAEtAABB8MQAai0AACIAQQFHBEACQCAAQQJrDgSiAaEBoAEAnwELQdcAIQMMsQILIAQgAUEBaiIBRw0AC0HoACEDDMgCCyABIARGBEBB6QAhAwzIAgsCQCABLQAAIgBBCmsOGrcBmwGbAbQBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBpAGbAZsBAJkBCyABQQFqCyEBQQYhAwytAgsDQCABLQAAQfDGAGotAABBAUcNfSAEIAFBAWoiAUcNAAtB6gAhAwzFAgsgAUEBaiABIARHDQIaQesAIQMMxAILIAEgBEYEQEHsACEDDMQCCyABQQFqDAELIAEgBEYEQEHtACEDDMMCCyABQQFqCyEBQQQhAwyoAgsgASAERgRAQe4AIQMMwQILAkACQAJAIAEtAABB8MgAai0AAEEBaw4HkAGPAY4BAHwBAo0BCyABQQFqIQEMCwsgAUEBagyTAQtBACEDIAJBADYCHCACQZsSNgIQIAJBBzYCDCACIAFBAWo2AhQMwAILAkADQCABLQAAQfDIAGotAAAiAEEERwRAAkACQCAAQQFrDgeUAZMBkgGNAQAEAY0BC0HaACEDDKoCCyABQQFqIQFB3AAhAwypAgsgBCABQQFqIgFHDQALQe8AIQMMwAILIAFBAWoMkQELIAQgASIARgRAQfAAIQMMvwILIAAtAABBL0cNASAAQQFqIQEMBwsgBCABIgBGBEBB8QAhAwy+AgsgAC0AACIBQS9GBEAgAEEBaiEBQd0AIQMMpQILIAFBCmsiA0EWSw0AIAAhAUEBIAN0QYmAgAJxDfkBC0EAIQMgAkEANgIcIAIgADYCFCACQYwcNgIQIAJBBzYCDAy8AgsgASAERwRAIAFBAWohAUHeACEDDKMCC0HyACEDDLsCCyABIARGBEBB9AAhAwy7AgsCQCABLQAAQfDMAGotAABBAWsOA/cBcwCCAQtB4QAhAwyhAgsgASAERwRAA0AgAS0AAEHwygBqLQAAIgBBA0cEQAJAIABBAWsOAvkBAIUBC0HfACEDDKMCCyAEIAFBAWoiAUcNAAtB8wAhAwy6AgtB8wAhAwy5AgsgASAERwRAIAJBDzYCCCACIAE2AgRB4AAhAwygAgtB9QAhAwy4AgsgASAERgRAQfYAIQMMuAILIAJBDzYCCCACIAE2AgQLQQMhAwydAgsDQCABLQAAQSBHDY4CIAQgAUEBaiIBRw0AC0H3ACEDDLUCCyABIARGBEBB+AAhAwy1AgsgAS0AAEEgRw16IAFBAWohAQxbC0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAADXgMgAILIAEgBEYEQEH6ACEDDLMCCyABLQAAQcwARw10IAFBAWohAUETDHYLQfsAIQMgASAERg2xAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYDQCABLQAAIABB8M4Aai0AAEcNcyAAQQVGDXUgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMsQILIAEgBEYEQEH8ACEDDLECCwJAAkAgAS0AAEHDAGsODAB0dHR0dHR0dHR0AXQLIAFBAWohAUHmACEDDJgCCyABQQFqIQFB5wAhAwyXAgtB/QAhAyABIARGDa8CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDXIgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADLACCyACQQA2AgAgBkEBaiEBQRAMcwtB/gAhAyABIARGDa4CIAIoAgAiACAEIAFraiEFIAEgAGtBBWohBgJAA0AgAS0AACAAQfbOAGotAABHDXEgAEEFRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK8CCyACQQA2AgAgBkEBaiEBQRYMcgtB/wAhAyABIARGDa0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQfzOAGotAABHDXAgAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK4CCyACQQA2AgAgBkEBaiEBQQUMcQsgASAERgRAQYABIQMMrQILIAEtAABB2QBHDW4gAUEBaiEBQQgMcAsgASAERgRAQYEBIQMMrAILAkACQCABLQAAQc4Aaw4DAG8BbwsgAUEBaiEBQesAIQMMkwILIAFBAWohAUHsACEDDJICCyABIARGBEBBggEhAwyrAgsCQAJAIAEtAABByABrDggAbm5ubm5uAW4LIAFBAWohAUHqACEDDJICCyABQQFqIQFB7QAhAwyRAgtBgwEhAyABIARGDakCIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQYDPAGotAABHDWwgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKoCCyACQQA2AgAgBkEBaiEBQQAMbQtBhAEhAyABIARGDagCIAIoAgAiACAEIAFraiEFIAEgAGtBBGohBgJAA0AgAS0AACAAQYPPAGotAABHDWsgAEEERg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKkCCyACQQA2AgAgBkEBaiEBQSMMbAsgASAERgRAQYUBIQMMqAILAkACQCABLQAAQcwAaw4IAGtra2trawFrCyABQQFqIQFB7wAhAwyPAgsgAUEBaiEBQfAAIQMMjgILIAEgBEYEQEGGASEDDKcCCyABLQAAQcUARw1oIAFBAWohAQxgC0GHASEDIAEgBEYNpQIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABBiM8Aai0AAEcNaCAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpgILIAJBADYCACAGQQFqIQFBLQxpC0GIASEDIAEgBEYNpAIgAigCACIAIAQgAWtqIQUgASAAa0EIaiEGAkADQCABLQAAIABB0M8Aai0AAEcNZyAAQQhGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpQILIAJBADYCACAGQQFqIQFBKQxoCyABIARGBEBBiQEhAwykAgtBASABLQAAQd8ARw1nGiABQQFqIQEMXgtBigEhAyABIARGDaICIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgNAIAEtAAAgAEGMzwBqLQAARw1kIABBAUYN+gEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMogILQYsBIQMgASAERg2hAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGOzwBqLQAARw1kIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyiAgsgAkEANgIAIAZBAWohAUECDGULQYwBIQMgASAERg2gAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHwzwBqLQAARw1jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyhAgsgAkEANgIAIAZBAWohAUEfDGQLQY0BIQMgASAERg2fAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHyzwBqLQAARw1iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAygAgsgAkEANgIAIAZBAWohAUEJDGMLIAEgBEYEQEGOASEDDJ8CCwJAAkAgAS0AAEHJAGsOBwBiYmJiYgFiCyABQQFqIQFB+AAhAwyGAgsgAUEBaiEBQfkAIQMMhQILQY8BIQMgASAERg2dAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGRzwBqLQAARw1gIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyeAgsgAkEANgIAIAZBAWohAUEYDGELQZABIQMgASAERg2cAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGXzwBqLQAARw1fIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAydAgsgAkEANgIAIAZBAWohAUEXDGALQZEBIQMgASAERg2bAiACKAIAIgAgBCABa2ohBSABIABrQQZqIQYCQANAIAEtAAAgAEGazwBqLQAARw1eIABBBkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAycAgsgAkEANgIAIAZBAWohAUEVDF8LQZIBIQMgASAERg2aAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGhzwBqLQAARw1dIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAybAgsgAkEANgIAIAZBAWohAUEeDF4LIAEgBEYEQEGTASEDDJoCCyABLQAAQcwARw1bIAFBAWohAUEKDF0LIAEgBEYEQEGUASEDDJkCCwJAAkAgAS0AAEHBAGsODwBcXFxcXFxcXFxcXFxcAVwLIAFBAWohAUH+ACEDDIACCyABQQFqIQFB/wAhAwz/AQsgASAERgRAQZUBIQMMmAILAkACQCABLQAAQcEAaw4DAFsBWwsgAUEBaiEBQf0AIQMM/wELIAFBAWohAUGAASEDDP4BC0GWASEDIAEgBEYNlgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBp88Aai0AAEcNWSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlwILIAJBADYCACAGQQFqIQFBCwxaCyABIARGBEBBlwEhAwyWAgsCQAJAAkACQCABLQAAQS1rDiMAW1tbW1tbW1tbW1tbW1tbW1tbW1tbW1sBW1tbW1sCW1tbA1sLIAFBAWohAUH7ACEDDP8BCyABQQFqIQFB/AAhAwz+AQsgAUEBaiEBQYEBIQMM/QELIAFBAWohAUGCASEDDPwBC0GYASEDIAEgBEYNlAIgAigCACIAIAQgAWtqIQUgASAAa0EEaiEGAkADQCABLQAAIABBqc8Aai0AAEcNVyAAQQRGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlQILIAJBADYCACAGQQFqIQFBGQxYC0GZASEDIAEgBEYNkwIgAigCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABBrs8Aai0AAEcNViAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlAILIAJBADYCACAGQQFqIQFBBgxXC0GaASEDIAEgBEYNkgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBtM8Aai0AAEcNVSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkwILIAJBADYCACAGQQFqIQFBHAxWC0GbASEDIAEgBEYNkQIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBts8Aai0AAEcNVCAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkgILIAJBADYCACAGQQFqIQFBJwxVCyABIARGBEBBnAEhAwyRAgsCQAJAIAEtAABB1ABrDgIAAVQLIAFBAWohAUGGASEDDPgBCyABQQFqIQFBhwEhAwz3AQtBnQEhAyABIARGDY8CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbjPAGotAABHDVIgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADJACCyACQQA2AgAgBkEBaiEBQSYMUwtBngEhAyABIARGDY4CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbrPAGotAABHDVEgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI8CCyACQQA2AgAgBkEBaiEBQQMMUgtBnwEhAyABIARGDY0CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDVAgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI4CCyACQQA2AgAgBkEBaiEBQQwMUQtBoAEhAyABIARGDYwCIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQbzPAGotAABHDU8gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI0CCyACQQA2AgAgBkEBaiEBQQ0MUAsgASAERgRAQaEBIQMMjAILAkACQCABLQAAQcYAaw4LAE9PT09PT09PTwFPCyABQQFqIQFBiwEhAwzzAQsgAUEBaiEBQYwBIQMM8gELIAEgBEYEQEGiASEDDIsCCyABLQAAQdAARw1MIAFBAWohAQxGCyABIARGBEBBowEhAwyKAgsCQAJAIAEtAABByQBrDgcBTU1NTU0ATQsgAUEBaiEBQY4BIQMM8QELIAFBAWohAUEiDE0LQaQBIQMgASAERg2IAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHAzwBqLQAARw1LIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyJAgsgAkEANgIAIAZBAWohAUEdDEwLIAEgBEYEQEGlASEDDIgCCwJAAkAgAS0AAEHSAGsOAwBLAUsLIAFBAWohAUGQASEDDO8BCyABQQFqIQFBBAxLCyABIARGBEBBpgEhAwyHAgsCQAJAAkACQAJAIAEtAABBwQBrDhUATU1NTU1NTU1NTQFNTQJNTQNNTQRNCyABQQFqIQFBiAEhAwzxAQsgAUEBaiEBQYkBIQMM8AELIAFBAWohAUGKASEDDO8BCyABQQFqIQFBjwEhAwzuAQsgAUEBaiEBQZEBIQMM7QELQacBIQMgASAERg2FAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHtzwBqLQAARw1IIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyGAgsgAkEANgIAIAZBAWohAUERDEkLQagBIQMgASAERg2EAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHCzwBqLQAARw1HIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyFAgsgAkEANgIAIAZBAWohAUEsDEgLQakBIQMgASAERg2DAiACKAIAIgAgBCABa2ohBSABIABrQQRqIQYCQANAIAEtAAAgAEHFzwBqLQAARw1GIABBBEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyEAgsgAkEANgIAIAZBAWohAUErDEcLQaoBIQMgASAERg2CAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHKzwBqLQAARw1FIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyDAgsgAkEANgIAIAZBAWohAUEUDEYLIAEgBEYEQEGrASEDDIICCwJAAkACQAJAIAEtAABBwgBrDg8AAQJHR0dHR0dHR0dHRwNHCyABQQFqIQFBkwEhAwzrAQsgAUEBaiEBQZQBIQMM6gELIAFBAWohAUGVASEDDOkBCyABQQFqIQFBlgEhAwzoAQsgASAERgRAQawBIQMMgQILIAEtAABBxQBHDUIgAUEBaiEBDD0LQa0BIQMgASAERg3/ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHNzwBqLQAARw1CIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyAAgsgAkEANgIAIAZBAWohAUEODEMLIAEgBEYEQEGuASEDDP8BCyABLQAAQdAARw1AIAFBAWohAUElDEILQa8BIQMgASAERg39ASACKAIAIgAgBCABa2ohBSABIABrQQhqIQYCQANAIAEtAAAgAEHQzwBqLQAARw1AIABBCEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz+AQsgAkEANgIAIAZBAWohAUEqDEELIAEgBEYEQEGwASEDDP0BCwJAAkAgAS0AAEHVAGsOCwBAQEBAQEBAQEABQAsgAUEBaiEBQZoBIQMM5AELIAFBAWohAUGbASEDDOMBCyABIARGBEBBsQEhAwz8AQsCQAJAIAEtAABBwQBrDhQAPz8/Pz8/Pz8/Pz8/Pz8/Pz8/AT8LIAFBAWohAUGZASEDDOMBCyABQQFqIQFBnAEhAwziAQtBsgEhAyABIARGDfoBIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQdnPAGotAABHDT0gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPsBCyACQQA2AgAgBkEBaiEBQSEMPgtBswEhAyABIARGDfkBIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAS0AACAAQd3PAGotAABHDTwgAEEGRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPoBCyACQQA2AgAgBkEBaiEBQRoMPQsgASAERgRAQbQBIQMM+QELAkACQAJAIAEtAABBxQBrDhEAPT09PT09PT09AT09PT09Aj0LIAFBAWohAUGdASEDDOEBCyABQQFqIQFBngEhAwzgAQsgAUEBaiEBQZ8BIQMM3wELQbUBIQMgASAERg33ASACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEHkzwBqLQAARw06IABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz4AQsgAkEANgIAIAZBAWohAUEoDDsLQbYBIQMgASAERg32ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHqzwBqLQAARw05IABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz3AQsgAkEANgIAIAZBAWohAUEHDDoLIAEgBEYEQEG3ASEDDPYBCwJAAkAgAS0AAEHFAGsODgA5OTk5OTk5OTk5OTkBOQsgAUEBaiEBQaEBIQMM3QELIAFBAWohAUGiASEDDNwBC0G4ASEDIAEgBEYN9AEgAigCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB7c8Aai0AAEcNNyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9QELIAJBADYCACAGQQFqIQFBEgw4C0G5ASEDIAEgBEYN8wEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8M8Aai0AAEcNNiAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9AELIAJBADYCACAGQQFqIQFBIAw3C0G6ASEDIAEgBEYN8gEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8s8Aai0AAEcNNSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8wELIAJBADYCACAGQQFqIQFBDww2CyABIARGBEBBuwEhAwzyAQsCQAJAIAEtAABByQBrDgcANTU1NTUBNQsgAUEBaiEBQaUBIQMM2QELIAFBAWohAUGmASEDDNgBC0G8ASEDIAEgBEYN8AEgAigCACIAIAQgAWtqIQUgASAAa0EHaiEGAkADQCABLQAAIABB9M8Aai0AAEcNMyAAQQdGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8QELIAJBADYCACAGQQFqIQFBGww0CyABIARGBEBBvQEhAwzwAQsCQAJAAkAgAS0AAEHCAGsOEgA0NDQ0NDQ0NDQBNDQ0NDQ0AjQLIAFBAWohAUGkASEDDNgBCyABQQFqIQFBpwEhAwzXAQsgAUEBaiEBQagBIQMM1gELIAEgBEYEQEG+ASEDDO8BCyABLQAAQc4ARw0wIAFBAWohAQwsCyABIARGBEBBvwEhAwzuAQsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCABLQAAQcEAaw4VAAECAz8EBQY/Pz8HCAkKCz8MDQ4PPwsgAUEBaiEBQegAIQMM4wELIAFBAWohAUHpACEDDOIBCyABQQFqIQFB7gAhAwzhAQsgAUEBaiEBQfIAIQMM4AELIAFBAWohAUHzACEDDN8BCyABQQFqIQFB9gAhAwzeAQsgAUEBaiEBQfcAIQMM3QELIAFBAWohAUH6ACEDDNwBCyABQQFqIQFBgwEhAwzbAQsgAUEBaiEBQYQBIQMM2gELIAFBAWohAUGFASEDDNkBCyABQQFqIQFBkgEhAwzYAQsgAUEBaiEBQZgBIQMM1wELIAFBAWohAUGgASEDDNYBCyABQQFqIQFBowEhAwzVAQsgAUEBaiEBQaoBIQMM1AELIAEgBEcEQCACQRA2AgggAiABNgIEQasBIQMM1AELQcABIQMM7AELQQAhAAJAIAIoAjgiA0UNACADKAI0IgNFDQAgAiADEQAAIQALIABFDV4gAEEVRw0HIAJB0QA2AhwgAiABNgIUIAJBsBc2AhAgAkEVNgIMQQAhAwzrAQsgAUEBaiABIARHDQgaQcIBIQMM6gELA0ACQCABLQAAQQprDgQIAAALAAsgBCABQQFqIgFHDQALQcMBIQMM6QELIAEgBEcEQCACQRE2AgggAiABNgIEQQEhAwzQAQtBxAEhAwzoAQsgASAERgRAQcUBIQMM6AELAkACQCABLQAAQQprDgQBKCgAKAsgAUEBagwJCyABQQFqDAULIAEgBEYEQEHGASEDDOcBCwJAAkAgAS0AAEEKaw4XAQsLAQsLCwsLCwsLCwsLCwsLCwsLCwALCyABQQFqIQELQbABIQMMzQELIAEgBEYEQEHIASEDDOYBCyABLQAAQSBHDQkgAkEAOwEyIAFBAWohAUGzASEDDMwBCwNAIAEhAAJAIAEgBEcEQCABLQAAQTBrQf8BcSIDQQpJDQEMJwtBxwEhAwzmAQsCQCACLwEyIgFBmTNLDQAgAiABQQpsIgU7ATIgBUH+/wNxIANB//8Dc0sNACAAQQFqIQEgAiADIAVqIgM7ATIgA0H//wNxQegHSQ0BCwtBACEDIAJBADYCHCACQcEJNgIQIAJBDTYCDCACIABBAWo2AhQM5AELIAJBADYCHCACIAE2AhQgAkHwDDYCECACQRs2AgxBACEDDOMBCyACKAIEIQAgAkEANgIEIAIgACABECYiAA0BIAFBAWoLIQFBrQEhAwzIAQsgAkHBATYCHCACIAA2AgwgAiABQQFqNgIUQQAhAwzgAQsgAigCBCEAIAJBADYCBCACIAAgARAmIgANASABQQFqCyEBQa4BIQMMxQELIAJBwgE2AhwgAiAANgIMIAIgAUEBajYCFEEAIQMM3QELIAJBADYCHCACIAE2AhQgAkGXCzYCECACQQ02AgxBACEDDNwBCyACQQA2AhwgAiABNgIUIAJB4xA2AhAgAkEJNgIMQQAhAwzbAQsgAkECOgAoDKwBC0EAIQMgAkEANgIcIAJBrws2AhAgAkECNgIMIAIgAUEBajYCFAzZAQtBAiEDDL8BC0ENIQMMvgELQSYhAwy9AQtBFSEDDLwBC0EWIQMMuwELQRghAwy6AQtBHCEDDLkBC0EdIQMMuAELQSAhAwy3AQtBISEDDLYBC0EjIQMMtQELQcYAIQMMtAELQS4hAwyzAQtBPSEDDLIBC0HLACEDDLEBC0HOACEDDLABC0HYACEDDK8BC0HZACEDDK4BC0HbACEDDK0BC0HxACEDDKwBC0H0ACEDDKsBC0GNASEDDKoBC0GXASEDDKkBC0GpASEDDKgBC0GvASEDDKcBC0GxASEDDKYBCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB8Rs2AhAgAkEGNgIMDL0BCyACQQA2AgAgBkEBaiEBQSQLOgApIAIoAgQhACACQQA2AgQgAiAAIAEQJyIARQRAQeUAIQMMowELIAJB+QA2AhwgAiABNgIUIAIgADYCDEEAIQMMuwELIABBFUcEQCACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwy7AQsgAkH4ADYCHCACIAE2AhQgAkHKGDYCECACQRU2AgxBACEDDLoBCyACQQA2AhwgAiABNgIUIAJBjhs2AhAgAkEGNgIMQQAhAwy5AQsgAkEANgIcIAIgATYCFCACQf4RNgIQIAJBBzYCDEEAIQMMuAELIAJBADYCHCACIAE2AhQgAkGMHDYCECACQQc2AgxBACEDDLcBCyACQQA2AhwgAiABNgIUIAJBww82AhAgAkEHNgIMQQAhAwy2AQsgAkEANgIcIAIgATYCFCACQcMPNgIQIAJBBzYCDEEAIQMMtQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0RIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMtAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0gIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMswELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0iIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMsgELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0OIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMsQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0dIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMsAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0fIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMrwELIABBP0cNASABQQFqCyEBQQUhAwyUAQtBACEDIAJBADYCHCACIAE2AhQgAkH9EjYCECACQQc2AgwMrAELIAJBADYCHCACIAE2AhQgAkHcCDYCECACQQc2AgxBACEDDKsBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNByACQeUANgIcIAIgATYCFCACIAA2AgxBACEDDKoBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNFiACQdMANgIcIAIgATYCFCACIAA2AgxBACEDDKkBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNGCACQdIANgIcIAIgATYCFCACIAA2AgxBACEDDKgBCyACQQA2AhwgAiABNgIUIAJBxgo2AhAgAkEHNgIMQQAhAwynAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQMgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwymAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRIgAkHTADYCHCACIAE2AhQgAiAANgIMQQAhAwylAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRQgAkHSADYCHCACIAE2AhQgAiAANgIMQQAhAwykAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQAgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwyjAQtB1QAhAwyJAQsgAEEVRwRAIAJBADYCHCACIAE2AhQgAkG5DTYCECACQRo2AgxBACEDDKIBCyACQeQANgIcIAIgATYCFCACQeMXNgIQIAJBFTYCDEEAIQMMoQELIAJBADYCACAGQQFqIQEgAi0AKSIAQSNrQQtJDQQCQCAAQQZLDQBBASAAdEHKAHFFDQAMBQtBACEDIAJBADYCHCACIAE2AhQgAkH3CTYCECACQQg2AgwMoAELIAJBADYCACAGQQFqIQEgAi0AKUEhRg0DIAJBADYCHCACIAE2AhQgAkGbCjYCECACQQg2AgxBACEDDJ8BCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJBkDM2AhAgAkEINgIMDJ0BCyACQQA2AgAgBkEBaiEBIAItAClBI0kNACACQQA2AhwgAiABNgIUIAJB0wk2AhAgAkEINgIMQQAhAwycAQtB0QAhAwyCAQsgAS0AAEEwayIAQf8BcUEKSQRAIAIgADoAKiABQQFqIQFBzwAhAwyCAQsgAigCBCEAIAJBADYCBCACIAAgARAoIgBFDYYBIAJB3gA2AhwgAiABNgIUIAIgADYCDEEAIQMMmgELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ2GASACQdwANgIcIAIgATYCFCACIAA2AgxBACEDDJkBCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMhwELIAJB2gA2AhwgAiAFNgIUIAIgADYCDAyYAQtBACEBQQEhAwsgAiADOgArIAVBAWohAwJAAkACQCACLQAtQRBxDQACQAJAAkAgAi0AKg4DAQACBAsgBkUNAwwCCyAADQEMAgsgAUUNAQsgAigCBCEAIAJBADYCBCACIAAgAxAoIgBFBEAgAyEBDAILIAJB2AA2AhwgAiADNgIUIAIgADYCDEEAIQMMmAELIAIoAgQhACACQQA2AgQgAiAAIAMQKCIARQRAIAMhAQyHAQsgAkHZADYCHCACIAM2AhQgAiAANgIMQQAhAwyXAQtBzAAhAwx9CyAAQRVHBEAgAkEANgIcIAIgATYCFCACQZQNNgIQIAJBITYCDEEAIQMMlgELIAJB1wA2AhwgAiABNgIUIAJByRc2AhAgAkEVNgIMQQAhAwyVAQtBACEDIAJBADYCHCACIAE2AhQgAkGAETYCECACQQk2AgwMlAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0AIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMkwELQckAIQMMeQsgAkEANgIcIAIgATYCFCACQcEoNgIQIAJBBzYCDCACQQA2AgBBACEDDJEBCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAlIgBFDQAgAkHSADYCHCACIAE2AhQgAiAANgIMDJABC0HIACEDDHYLIAJBADYCACAFIQELIAJBgBI7ASogAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANAQtBxwAhAwxzCyAAQRVGBEAgAkHRADYCHCACIAE2AhQgAkHjFzYCECACQRU2AgxBACEDDIwBC0EAIQMgAkEANgIcIAIgATYCFCACQbkNNgIQIAJBGjYCDAyLAQtBACEDIAJBADYCHCACIAE2AhQgAkGgGTYCECACQR42AgwMigELIAEtAABBOkYEQCACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgBFDQEgAkHDADYCHCACIAA2AgwgAiABQQFqNgIUDIoBC0EAIQMgAkEANgIcIAIgATYCFCACQbERNgIQIAJBCjYCDAyJAQsgAUEBaiEBQTshAwxvCyACQcMANgIcIAIgADYCDCACIAFBAWo2AhQMhwELQQAhAyACQQA2AhwgAiABNgIUIAJB8A42AhAgAkEcNgIMDIYBCyACIAIvATBBEHI7ATAMZgsCQCACLwEwIgBBCHFFDQAgAi0AKEEBRw0AIAItAC1BCHFFDQMLIAIgAEH3+wNxQYAEcjsBMAwECyABIARHBEACQANAIAEtAABBMGsiAEH/AXFBCk8EQEE1IQMMbgsgAikDICIKQpmz5syZs+bMGVYNASACIApCCn4iCjcDICAKIACtQv8BgyILQn+FVg0BIAIgCiALfDcDICAEIAFBAWoiAUcNAAtBOSEDDIUBCyACKAIEIQBBACEDIAJBADYCBCACIAAgAUEBaiIBECoiAA0MDHcLQTkhAwyDAQsgAi0AMEEgcQ0GQcUBIQMMaQtBACEDIAJBADYCBCACIAEgARAqIgBFDQQgAkE6NgIcIAIgADYCDCACIAFBAWo2AhQMgQELIAItAChBAUcNACACLQAtQQhxRQ0BC0E3IQMMZgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIABEAgAkE7NgIcIAIgADYCDCACIAFBAWo2AhQMfwsgAUEBaiEBDG4LIAJBCDoALAwECyABQQFqIQEMbQtBACEDIAJBADYCHCACIAE2AhQgAkHkEjYCECACQQQ2AgwMewsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ1sIAJBNzYCHCACIAE2AhQgAiAANgIMDHoLIAIgAi8BMEEgcjsBMAtBMCEDDF8LIAJBNjYCHCACIAE2AhQgAiAANgIMDHcLIABBLEcNASABQQFqIQBBASEBAkACQAJAAkACQCACLQAsQQVrDgQDAQIEAAsgACEBDAQLQQIhAQwBC0EEIQELIAJBAToALCACIAIvATAgAXI7ATAgACEBDAELIAIgAi8BMEEIcjsBMCAAIQELQTkhAwxcCyACQQA6ACwLQTQhAwxaCyABIARGBEBBLSEDDHMLAkACQANAAkAgAS0AAEEKaw4EAgAAAwALIAQgAUEBaiIBRw0AC0EtIQMMdAsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ0CIAJBLDYCHCACIAE2AhQgAiAANgIMDHMLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAS0AAEENRgRAIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAi0ALUEBcQRAQcQBIQMMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIADQEMZQtBLyEDDFcLIAJBLjYCHCACIAE2AhQgAiAANgIMDG8LQQAhAyACQQA2AhwgAiABNgIUIAJB8BQ2AhAgAkEDNgIMDG4LQQEhAwJAAkACQAJAIAItACxBBWsOBAMBAgAECyACIAIvATBBCHI7ATAMAwtBAiEDDAELQQQhAwsgAkEBOgAsIAIgAi8BMCADcjsBMAtBKiEDDFMLQQAhAyACQQA2AhwgAiABNgIUIAJB4Q82AhAgAkEKNgIMDGsLQQEhAwJAAkACQAJAAkACQCACLQAsQQJrDgcFBAQDAQIABAsgAiACLwEwQQhyOwEwDAMLQQIhAwwBC0EEIQMLIAJBAToALCACIAIvATAgA3I7ATALQSshAwxSC0EAIQMgAkEANgIcIAIgATYCFCACQasSNgIQIAJBCzYCDAxqC0EAIQMgAkEANgIcIAIgATYCFCACQf0NNgIQIAJBHTYCDAxpCyABIARHBEADQCABLQAAQSBHDUggBCABQQFqIgFHDQALQSUhAwxpC0ElIQMMaAsgAi0ALUEBcQRAQcMBIQMMTwsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKSIABEAgAkEmNgIcIAIgADYCDCACIAFBAWo2AhQMaAsgAUEBaiEBDFwLIAFBAWohASACLwEwIgBBgAFxBEBBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAEUNBiAAQRVHDR8gAkEFNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMZwsCQCAAQaAEcUGgBEcNACACLQAtQQJxDQBBACEDIAJBADYCHCACIAE2AhQgAkGWEzYCECACQQQ2AgwMZwsgAgJ/IAIvATBBFHFBFEYEQEEBIAItAChBAUYNARogAi8BMkHlAEYMAQsgAi0AKUEFRgs6AC5BACEAAkAgAigCOCIDRQ0AIAMoAiQiA0UNACACIAMRAAAhAAsCQAJAAkACQAJAIAAOFgIBAAQEBAQEBAQEBAQEBAQEBAQEBAMECyACQQE6AC4LIAIgAi8BMEHAAHI7ATALQSchAwxPCyACQSM2AhwgAiABNgIUIAJBpRY2AhAgAkEVNgIMQQAhAwxnC0EAIQMgAkEANgIcIAIgATYCFCACQdULNgIQIAJBETYCDAxmC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAADQELQQ4hAwxLCyAAQRVGBEAgAkECNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMZAtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMYwtBACEDIAJBADYCHCACIAE2AhQgAkGqHDYCECACQQ82AgwMYgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEgCqdqIgEQKyIARQ0AIAJBBTYCHCACIAE2AhQgAiAANgIMDGELQQ8hAwxHC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxfC0IBIQoLIAFBAWohAQJAIAIpAyAiC0L//////////w9YBEAgAiALQgSGIAqENwMgDAELQQAhAyACQQA2AhwgAiABNgIUIAJBrQk2AhAgAkEMNgIMDF4LQSQhAwxEC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxcCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAsIgBFBEAgAUEBaiEBDFILIAJBFzYCHCACIAA2AgwgAiABQQFqNgIUDFsLIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQRY2AhwgAiAANgIMIAIgAUEBajYCFAxbC0EfIQMMQQtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQLSIARQRAIAFBAWohAQxQCyACQRQ2AhwgAiAANgIMIAIgAUEBajYCFAxYCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABEC0iAEUEQCABQQFqIQEMAQsgAkETNgIcIAIgADYCDCACIAFBAWo2AhQMWAtBHiEDDD4LQQAhAyACQQA2AhwgAiABNgIUIAJBxgw2AhAgAkEjNgIMDFYLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABEC0iAEUEQCABQQFqIQEMTgsgAkERNgIcIAIgADYCDCACIAFBAWo2AhQMVQsgAkEQNgIcIAIgATYCFCACIAA2AgwMVAtBACEDIAJBADYCHCACIAE2AhQgAkHGDDYCECACQSM2AgwMUwtBACEDIAJBADYCHCACIAE2AhQgAkHAFTYCECACQQI2AgwMUgsgAigCBCEAQQAhAyACQQA2AgQCQCACIAAgARAtIgBFBEAgAUEBaiEBDAELIAJBDjYCHCACIAA2AgwgAiABQQFqNgIUDFILQRshAww4C0EAIQMgAkEANgIcIAIgATYCFCACQcYMNgIQIAJBIzYCDAxQCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABECwiAEUEQCABQQFqIQEMAQsgAkENNgIcIAIgADYCDCACIAFBAWo2AhQMUAtBGiEDDDYLQQAhAyACQQA2AhwgAiABNgIUIAJBmg82AhAgAkEiNgIMDE4LIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQQw2AhwgAiAANgIMIAIgAUEBajYCFAxOC0EZIQMMNAtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMTAsgAEEVRwRAQQAhAyACQQA2AhwgAiABNgIUIAJBgww2AhAgAkETNgIMDEwLIAJBCjYCHCACIAE2AhQgAkHkFjYCECACQRU2AgxBACEDDEsLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABIAqnaiIBECsiAARAIAJBBzYCHCACIAE2AhQgAiAANgIMDEsLQRMhAwwxCyAAQRVHBEBBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMSgsgAkEeNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMSQtBACEAAkAgAigCOCIDRQ0AIAMoAiwiA0UNACACIAMRAAAhAAsgAEUNQSAAQRVGBEAgAkEDNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMSQtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMSAtBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMRwtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMRgsgAkEAOgAvIAItAC1BBHFFDT8LIAJBADoALyACQQE6ADRBACEDDCsLQQAhAyACQQA2AhwgAkHkETYCECACQQc2AgwgAiABQQFqNgIUDEMLAkADQAJAIAEtAABBCmsOBAACAgACCyAEIAFBAWoiAUcNAAtB3QEhAwxDCwJAAkAgAi0ANEEBRw0AQQAhAAJAIAIoAjgiA0UNACADKAJYIgNFDQAgAiADEQAAIQALIABFDQAgAEEVRw0BIAJB3AE2AhwgAiABNgIUIAJB1RY2AhAgAkEVNgIMQQAhAwxEC0HBASEDDCoLIAJBADYCHCACIAE2AhQgAkHpCzYCECACQR82AgxBACEDDEILAkACQCACLQAoQQFrDgIEAQALQcABIQMMKQtBuQEhAwwoCyACQQI6AC9BACEAAkAgAigCOCIDRQ0AIAMoAgAiA0UNACACIAMRAAAhAAsgAEUEQEHCASEDDCgLIABBFUcEQCACQQA2AhwgAiABNgIUIAJBpAw2AhAgAkEQNgIMQQAhAwxBCyACQdsBNgIcIAIgATYCFCACQfoWNgIQIAJBFTYCDEEAIQMMQAsgASAERgRAQdoBIQMMQAsgAS0AAEHIAEYNASACQQE6ACgLQawBIQMMJQtBvwEhAwwkCyABIARHBEAgAkEQNgIIIAIgATYCBEG+ASEDDCQLQdkBIQMMPAsgASAERgRAQdgBIQMMPAsgAS0AAEHIAEcNBCABQQFqIQFBvQEhAwwiCyABIARGBEBB1wEhAww7CwJAAkAgAS0AAEHFAGsOEAAFBQUFBQUFBQUFBQUFBQEFCyABQQFqIQFBuwEhAwwiCyABQQFqIQFBvAEhAwwhC0HWASEDIAEgBEYNOSACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGD0ABqLQAARw0DIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw6CyACKAIEIQAgAkIANwMAIAIgACAGQQFqIgEQJyIARQRAQcYBIQMMIQsgAkHVATYCHCACIAE2AhQgAiAANgIMQQAhAww5C0HUASEDIAEgBEYNOCACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGB0ABqLQAARw0CIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw5CyACQYEEOwEoIAIoAgQhACACQgA3AwAgAiAAIAZBAWoiARAnIgANAwwCCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB2Bs2AhAgAkEINgIMDDYLQboBIQMMHAsgAkHTATYCHCACIAE2AhQgAiAANgIMQQAhAww0C0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAARQ0AIABBFUYNASACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwwzC0HkACEDDBkLIAJB+AA2AhwgAiABNgIUIAJByhg2AhAgAkEVNgIMQQAhAwwxC0HSASEDIAQgASIARg0wIAQgAWsgAigCACIBaiEFIAAgAWtBBGohBgJAA0AgAC0AACABQfzPAGotAABHDQEgAUEERg0DIAFBAWohASAEIABBAWoiAEcNAAsgAiAFNgIADDELIAJBADYCHCACIAA2AhQgAkGQMzYCECACQQg2AgwgAkEANgIAQQAhAwwwCyABIARHBEAgAkEONgIIIAIgATYCBEG3ASEDDBcLQdEBIQMMLwsgAkEANgIAIAZBAWohAQtBuAEhAwwUCyABIARGBEBB0AEhAwwtCyABLQAAQTBrIgBB/wFxQQpJBEAgAiAAOgAqIAFBAWohAUG2ASEDDBQLIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0UIAJBzwE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAsgASAERgRAQc4BIQMMLAsCQCABLQAAQS5GBEAgAUEBaiEBDAELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0VIAJBzQE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAtBtQEhAwwSCyAEIAEiBUYEQEHMASEDDCsLQQAhAEEBIQFBASEGQQAhAwJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAIAUtAABBMGsOCgoJAAECAwQFBggLC0ECDAYLQQMMBQtBBAwEC0EFDAMLQQYMAgtBBwwBC0EICyEDQQAhAUEAIQYMAgtBCSEDQQEhAEEAIQFBACEGDAELQQAhAUEBIQMLIAIgAzoAKyAFQQFqIQMCQAJAIAItAC1BEHENAAJAAkACQCACLQAqDgMBAAIECyAGRQ0DDAILIAANAQwCCyABRQ0BCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMAwsgAkHJATYCHCACIAM2AhQgAiAANgIMQQAhAwwtCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMGAsgAkHKATYCHCACIAM2AhQgAiAANgIMQQAhAwwsCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMFgsgAkHLATYCHCACIAU2AhQgAiAANgIMDCsLQbQBIQMMEQtBACEAAkAgAigCOCIDRQ0AIAMoAjwiA0UNACACIAMRAAAhAAsCQCAABEAgAEEVRg0BIAJBADYCHCACIAE2AhQgAkGUDTYCECACQSE2AgxBACEDDCsLQbIBIQMMEQsgAkHIATYCHCACIAE2AhQgAkHJFzYCECACQRU2AgxBACEDDCkLIAJBADYCACAGQQFqIQFB9QAhAwwPCyACLQApQQVGBEBB4wAhAwwPC0HiACEDDA4LIAAhASACQQA2AgALIAJBADoALEEJIQMMDAsgAkEANgIAIAdBAWohAUHAACEDDAsLQQELOgAsIAJBADYCACAGQQFqIQELQSkhAwwIC0E4IQMMBwsCQCABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRw0DIAFBAWohAQwFCyAEIAFBAWoiAUcNAAtBPiEDDCELQT4hAwwgCwsgAkEAOgAsDAELQQshAwwEC0E6IQMMAwsgAUEBaiEBQS0hAwwCCyACIAE6ACwgAkEANgIAIAZBAWohAUEMIQMMAQsgAkEANgIAIAZBAWohAUEKIQMMAAsAC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwXC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwWC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwVC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwUC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwTC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwSC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwRC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwQC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwPC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwOC0EAIQMgAkEANgIcIAIgATYCFCACQcASNgIQIAJBCzYCDAwNC0EAIQMgAkEANgIcIAIgATYCFCACQZUJNgIQIAJBCzYCDAwMC0EAIQMgAkEANgIcIAIgATYCFCACQeEPNgIQIAJBCjYCDAwLC0EAIQMgAkEANgIcIAIgATYCFCACQfsPNgIQIAJBCjYCDAwKC0EAIQMgAkEANgIcIAIgATYCFCACQfEZNgIQIAJBAjYCDAwJC0EAIQMgAkEANgIcIAIgATYCFCACQcQUNgIQIAJBAjYCDAwIC0EAIQMgAkEANgIcIAIgATYCFCACQfIVNgIQIAJBAjYCDAwHCyACQQI2AhwgAiABNgIUIAJBnBo2AhAgAkEWNgIMQQAhAwwGC0EBIQMMBQtB1AAhAyABIARGDQQgCEEIaiEJIAIoAgAhBQJAAkAgASAERwRAIAVB2MIAaiEHIAQgBWogAWshACAFQX9zQQpqIgUgAWohBgNAIAEtAAAgBy0AAEcEQEECIQcMAwsgBUUEQEEAIQcgBiEBDAMLIAVBAWshBSAHQQFqIQcgBCABQQFqIgFHDQALIAAhBSAEIQELIAlBATYCACACIAU2AgAMAQsgAkEANgIAIAkgBzYCAAsgCSABNgIEIAgoAgwhACAIKAIIDgMBBAIACwALIAJBADYCHCACQbUaNgIQIAJBFzYCDCACIABBAWo2AhRBACEDDAILIAJBADYCHCACIAA2AhQgAkHKGjYCECACQQk2AgxBACEDDAELIAEgBEYEQEEiIQMMAQsgAkEJNgIIIAIgATYCBEEhIQMLIAhBEGokACADRQRAIAIoAgwhAAwBCyACIAM2AhxBACEAIAIoAgQiAUUNACACIAEgBCACKAIIEQEAIgFFDQAgAiAENgIUIAIgATYCDCABIQALIAALvgIBAn8gAEEAOgAAIABB3ABqIgFBAWtBADoAACAAQQA6AAIgAEEAOgABIAFBA2tBADoAACABQQJrQQA6AAAgAEEAOgADIAFBBGtBADoAAEEAIABrQQNxIgEgAGoiAEEANgIAQdwAIAFrQXxxIgIgAGoiAUEEa0EANgIAAkAgAkEJSQ0AIABBADYCCCAAQQA2AgQgAUEIa0EANgIAIAFBDGtBADYCACACQRlJDQAgAEEANgIYIABBADYCFCAAQQA2AhAgAEEANgIMIAFBEGtBADYCACABQRRrQQA2AgAgAUEYa0EANgIAIAFBHGtBADYCACACIABBBHFBGHIiAmsiAUEgSQ0AIAAgAmohAANAIABCADcDGCAAQgA3AxAgAEIANwMIIABCADcDACAAQSBqIQAgAUEgayIBQR9LDQALCwtWAQF/AkAgACgCDA0AAkACQAJAAkAgAC0ALw4DAQADAgsgACgCOCIBRQ0AIAEoAiwiAUUNACAAIAERAAAiAQ0DC0EADwsACyAAQcMWNgIQQQ4hAQsgAQsaACAAKAIMRQRAIABB0Rs2AhAgAEEVNgIMCwsUACAAKAIMQRVGBEAgAEEANgIMCwsUACAAKAIMQRZGBEAgAEEANgIMCwsHACAAKAIMCwcAIAAoAhALCQAgACABNgIQCwcAIAAoAhQLFwAgAEEkTwRAAAsgAEECdEGgM2ooAgALFwAgAEEuTwRAAAsgAEECdEGwNGooAgALvwkBAX9B6yghAQJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB5ABrDvQDY2IAAWFhYWFhYQIDBAVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhBgcICQoLDA0OD2FhYWFhEGFhYWFhYWFhYWFhEWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYRITFBUWFxgZGhthYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2YTc4OTphYWFhYWFhYTthYWE8YWFhYT0+P2FhYWFhYWFhQGFhQWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYUJDREVGR0hJSktMTU5PUFFSU2FhYWFhYWFhVFVWV1hZWlthXF1hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFeYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhX2BhC0HhJw8LQaQhDwtByywPC0H+MQ8LQcAkDwtBqyQPC0GNKA8LQeImDwtBgDAPC0G5Lw8LQdckDwtB7x8PC0HhHw8LQfofDwtB8iAPC0GoLw8LQa4yDwtBiDAPC0HsJw8LQYIiDwtBjh0PC0HQLg8LQcojDwtBxTIPC0HfHA8LQdIcDwtBxCAPC0HXIA8LQaIfDwtB7S4PC0GrMA8LQdQlDwtBzC4PC0H6Lg8LQfwrDwtB0jAPC0HxHQ8LQbsgDwtB9ysPC0GQMQ8LQdcxDwtBoi0PC0HUJw8LQeArDwtBnywPC0HrMQ8LQdUfDwtByjEPC0HeJQ8LQdQeDwtB9BwPC0GnMg8LQbEdDwtBoB0PC0G5MQ8LQbwwDwtBkiEPC0GzJg8LQeksDwtBrB4PC0HUKw8LQfcmDwtBgCYPC0GwIQ8LQf4eDwtBjSMPC0GJLQ8LQfciDwtBoDEPC0GuHw8LQcYlDwtB6B4PC0GTIg8LQcIvDwtBwx0PC0GLLA8LQeEdDwtBjS8PC0HqIQ8LQbQtDwtB0i8PC0HfMg8LQdIyDwtB8DAPC0GpIg8LQfkjDwtBmR4PC0G1LA8LQZswDwtBkjIPC0G2Kw8LQcIiDwtB+DIPC0GeJQ8LQdAiDwtBuh4PC0GBHg8LAAtB1iEhAQsgAQsWACAAIAAtAC1B/gFxIAFBAEdyOgAtCxkAIAAgAC0ALUH9AXEgAUEAR0EBdHI6AC0LGQAgACAALQAtQfsBcSABQQBHQQJ0cjoALQsZACAAIAAtAC1B9wFxIAFBAEdBA3RyOgAtCz4BAn8CQCAAKAI4IgNFDQAgAygCBCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBxhE2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCCCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9go2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCDCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7Ro2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCECIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlRA2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCFCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBqhs2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCGCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7RM2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCKCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9gg2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCHCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBwhk2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCICIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlBQ2AhBBGCEECyAEC1kBAn8CQCAALQAoQQFGDQAgAC8BMiIBQeQAa0HkAEkNACABQcwBRg0AIAFBsAJGDQAgAC8BMCIAQcAAcQ0AQQEhAiAAQYgEcUGABEYNACAAQShxRSECCyACC4wBAQJ/AkACQAJAIAAtACpFDQAgAC0AK0UNACAALwEwIgFBAnFFDQEMAgsgAC8BMCIBQQFxRQ0BC0EBIQIgAC0AKEEBRg0AIAAvATIiAEHkAGtB5ABJDQAgAEHMAUYNACAAQbACRg0AIAFBwABxDQBBACECIAFBiARxQYAERg0AIAFBKHFBAEchAgsgAgtzACAAQRBq/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAA/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAAQTBq/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAAQSBq/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAAQd0BNgIcCwYAIAAQMguaLQELfyMAQRBrIgokAEGk0AAoAgAiCUUEQEHk0wAoAgAiBUUEQEHw0wBCfzcCAEHo0wBCgICEgICAwAA3AgBB5NMAIApBCGpBcHFB2KrVqgVzIgU2AgBB+NMAQQA2AgBByNMAQQA2AgALQczTAEGA1AQ2AgBBnNAAQYDUBDYCAEGw0AAgBTYCAEGs0ABBfzYCAEHQ0wBBgKwDNgIAA0AgAUHI0ABqIAFBvNAAaiICNgIAIAIgAUG00ABqIgM2AgAgAUHA0ABqIAM2AgAgAUHQ0ABqIAFBxNAAaiIDNgIAIAMgAjYCACABQdjQAGogAUHM0ABqIgI2AgAgAiADNgIAIAFB1NAAaiACNgIAIAFBIGoiAUGAAkcNAAtBjNQEQcGrAzYCAEGo0ABB9NMAKAIANgIAQZjQAEHAqwM2AgBBpNAAQYjUBDYCAEHM/wdBODYCAEGI1AQhCQsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCAAQewBTQRAQYzQACgCACIGQRAgAEETakFwcSAAQQtJGyIEQQN2IgB2IgFBA3EEQAJAIAFBAXEgAHJBAXMiAkEDdCIAQbTQAGoiASAAQbzQAGooAgAiACgCCCIDRgRAQYzQACAGQX4gAndxNgIADAELIAEgAzYCCCADIAE2AgwLIABBCGohASAAIAJBA3QiAkEDcjYCBCAAIAJqIgAgACgCBEEBcjYCBAwRC0GU0AAoAgAiCCAETw0BIAEEQAJAQQIgAHQiAkEAIAJrciABIAB0cWgiAEEDdCICQbTQAGoiASACQbzQAGooAgAiAigCCCIDRgRAQYzQACAGQX4gAHdxIgY2AgAMAQsgASADNgIIIAMgATYCDAsgAiAEQQNyNgIEIABBA3QiACAEayEFIAAgAmogBTYCACACIARqIgQgBUEBcjYCBCAIBEAgCEF4cUG00ABqIQBBoNAAKAIAIQMCf0EBIAhBA3Z0IgEgBnFFBEBBjNAAIAEgBnI2AgAgAAwBCyAAKAIICyIBIAM2AgwgACADNgIIIAMgADYCDCADIAE2AggLIAJBCGohAUGg0AAgBDYCAEGU0AAgBTYCAAwRC0GQ0AAoAgAiC0UNASALaEECdEG80gBqKAIAIgAoAgRBeHEgBGshBSAAIQIDQAJAIAIoAhAiAUUEQCACQRRqKAIAIgFFDQELIAEoAgRBeHEgBGsiAyAFSSECIAMgBSACGyEFIAEgACACGyEAIAEhAgwBCwsgACgCGCEJIAAoAgwiAyAARwRAQZzQACgCABogAyAAKAIIIgE2AgggASADNgIMDBALIABBFGoiAigCACIBRQRAIAAoAhAiAUUNAyAAQRBqIQILA0AgAiEHIAEiA0EUaiICKAIAIgENACADQRBqIQIgAygCECIBDQALIAdBADYCAAwPC0F/IQQgAEG/f0sNACAAQRNqIgFBcHEhBEGQ0AAoAgAiCEUNAEEAIARrIQUCQAJAAkACf0EAIARBgAJJDQAaQR8gBEH///8HSw0AGiAEQSYgAUEIdmciAGt2QQFxIABBAXRrQT5qCyIGQQJ0QbzSAGooAgAiAkUEQEEAIQFBACEDDAELQQAhASAEQRkgBkEBdmtBACAGQR9HG3QhAEEAIQMDQAJAIAIoAgRBeHEgBGsiByAFTw0AIAIhAyAHIgUNAEEAIQUgAiEBDAMLIAEgAkEUaigCACIHIAcgAiAAQR12QQRxakEQaigCACICRhsgASAHGyEBIABBAXQhACACDQALCyABIANyRQRAQQAhA0ECIAZ0IgBBACAAa3IgCHEiAEUNAyAAaEECdEG80gBqKAIAIQELIAFFDQELA0AgASgCBEF4cSAEayICIAVJIQAgAiAFIAAbIQUgASADIAAbIQMgASgCECIABH8gAAUgAUEUaigCAAsiAQ0ACwsgA0UNACAFQZTQACgCACAEa08NACADKAIYIQcgAyADKAIMIgBHBEBBnNAAKAIAGiAAIAMoAggiATYCCCABIAA2AgwMDgsgA0EUaiICKAIAIgFFBEAgAygCECIBRQ0DIANBEGohAgsDQCACIQYgASIAQRRqIgIoAgAiAQ0AIABBEGohAiAAKAIQIgENAAsgBkEANgIADA0LQZTQACgCACIDIARPBEBBoNAAKAIAIQECQCADIARrIgJBEE8EQCABIARqIgAgAkEBcjYCBCABIANqIAI2AgAgASAEQQNyNgIEDAELIAEgA0EDcjYCBCABIANqIgAgACgCBEEBcjYCBEEAIQBBACECC0GU0AAgAjYCAEGg0AAgADYCACABQQhqIQEMDwtBmNAAKAIAIgMgBEsEQCAEIAlqIgAgAyAEayIBQQFyNgIEQaTQACAANgIAQZjQACABNgIAIAkgBEEDcjYCBCAJQQhqIQEMDwtBACEBIAQCf0Hk0wAoAgAEQEHs0wAoAgAMAQtB8NMAQn83AgBB6NMAQoCAhICAgMAANwIAQeTTACAKQQxqQXBxQdiq1aoFczYCAEH40wBBADYCAEHI0wBBADYCAEGAgAQLIgAgBEHHAGoiBWoiBkEAIABrIgdxIgJPBEBB/NMAQTA2AgAMDwsCQEHE0wAoAgAiAUUNAEG80wAoAgAiCCACaiEAIAAgAU0gACAIS3ENAEEAIQFB/NMAQTA2AgAMDwtByNMALQAAQQRxDQQCQAJAIAkEQEHM0wAhAQNAIAEoAgAiACAJTQRAIAAgASgCBGogCUsNAwsgASgCCCIBDQALC0EAEDMiAEF/Rg0FIAIhBkHo0wAoAgAiAUEBayIDIABxBEAgAiAAayAAIANqQQAgAWtxaiEGCyAEIAZPDQUgBkH+////B0sNBUHE0wAoAgAiAwRAQbzTACgCACIHIAZqIQEgASAHTQ0GIAEgA0sNBgsgBhAzIgEgAEcNAQwHCyAGIANrIAdxIgZB/v///wdLDQQgBhAzIQAgACABKAIAIAEoAgRqRg0DIAAhAQsCQCAGIARByABqTw0AIAFBf0YNAEHs0wAoAgAiACAFIAZrakEAIABrcSIAQf7///8HSwRAIAEhAAwHCyAAEDNBf0cEQCAAIAZqIQYgASEADAcLQQAgBmsQMxoMBAsgASIAQX9HDQUMAwtBACEDDAwLQQAhAAwKCyAAQX9HDQILQcjTAEHI0wAoAgBBBHI2AgALIAJB/v///wdLDQEgAhAzIQBBABAzIQEgAEF/Rg0BIAFBf0YNASAAIAFPDQEgASAAayIGIARBOGpNDQELQbzTAEG80wAoAgAgBmoiATYCAEHA0wAoAgAgAUkEQEHA0wAgATYCAAsCQAJAAkBBpNAAKAIAIgIEQEHM0wAhAQNAIAAgASgCACIDIAEoAgQiBWpGDQIgASgCCCIBDQALDAILQZzQACgCACIBQQBHIAAgAU9xRQRAQZzQACAANgIAC0EAIQFB0NMAIAY2AgBBzNMAIAA2AgBBrNAAQX82AgBBsNAAQeTTACgCADYCAEHY0wBBADYCAANAIAFByNAAaiABQbzQAGoiAjYCACACIAFBtNAAaiIDNgIAIAFBwNAAaiADNgIAIAFB0NAAaiABQcTQAGoiAzYCACADIAI2AgAgAUHY0ABqIAFBzNAAaiICNgIAIAIgAzYCACABQdTQAGogAjYCACABQSBqIgFBgAJHDQALQXggAGtBD3EiASAAaiICIAZBOGsiAyABayIBQQFyNgIEQajQAEH00wAoAgA2AgBBmNAAIAE2AgBBpNAAIAI2AgAgACADakE4NgIEDAILIAAgAk0NACACIANJDQAgASgCDEEIcQ0AQXggAmtBD3EiACACaiIDQZjQACgCACAGaiIHIABrIgBBAXI2AgQgASAFIAZqNgIEQajQAEH00wAoAgA2AgBBmNAAIAA2AgBBpNAAIAM2AgAgAiAHakE4NgIEDAELIABBnNAAKAIASQRAQZzQACAANgIACyAAIAZqIQNBzNMAIQECQAJAAkADQCADIAEoAgBHBEAgASgCCCIBDQEMAgsLIAEtAAxBCHFFDQELQczTACEBA0AgASgCACIDIAJNBEAgAyABKAIEaiIFIAJLDQMLIAEoAgghAQwACwALIAEgADYCACABIAEoAgQgBmo2AgQgAEF4IABrQQ9xaiIJIARBA3I2AgQgA0F4IANrQQ9xaiIGIAQgCWoiBGshASACIAZGBEBBpNAAIAQ2AgBBmNAAQZjQACgCACABaiIANgIAIAQgAEEBcjYCBAwIC0Gg0AAoAgAgBkYEQEGg0AAgBDYCAEGU0ABBlNAAKAIAIAFqIgA2AgAgBCAAQQFyNgIEIAAgBGogADYCAAwICyAGKAIEIgVBA3FBAUcNBiAFQXhxIQggBUH/AU0EQCAFQQN2IQMgBigCCCIAIAYoAgwiAkYEQEGM0ABBjNAAKAIAQX4gA3dxNgIADAcLIAIgADYCCCAAIAI2AgwMBgsgBigCGCEHIAYgBigCDCIARwRAIAAgBigCCCICNgIIIAIgADYCDAwFCyAGQRRqIgIoAgAiBUUEQCAGKAIQIgVFDQQgBkEQaiECCwNAIAIhAyAFIgBBFGoiAigCACIFDQAgAEEQaiECIAAoAhAiBQ0ACyADQQA2AgAMBAtBeCAAa0EPcSIBIABqIgcgBkE4ayIDIAFrIgFBAXI2AgQgACADakE4NgIEIAIgBUE3IAVrQQ9xakE/ayIDIAMgAkEQakkbIgNBIzYCBEGo0ABB9NMAKAIANgIAQZjQACABNgIAQaTQACAHNgIAIANBEGpB1NMAKQIANwIAIANBzNMAKQIANwIIQdTTACADQQhqNgIAQdDTACAGNgIAQczTACAANgIAQdjTAEEANgIAIANBJGohAQNAIAFBBzYCACAFIAFBBGoiAUsNAAsgAiADRg0AIAMgAygCBEF+cTYCBCADIAMgAmsiBTYCACACIAVBAXI2AgQgBUH/AU0EQCAFQXhxQbTQAGohAAJ/QYzQACgCACIBQQEgBUEDdnQiA3FFBEBBjNAAIAEgA3I2AgAgAAwBCyAAKAIICyIBIAI2AgwgACACNgIIIAIgADYCDCACIAE2AggMAQtBHyEBIAVB////B00EQCAFQSYgBUEIdmciAGt2QQFxIABBAXRrQT5qIQELIAIgATYCHCACQgA3AhAgAUECdEG80gBqIQBBkNAAKAIAIgNBASABdCIGcUUEQCAAIAI2AgBBkNAAIAMgBnI2AgAgAiAANgIYIAIgAjYCCCACIAI2AgwMAQsgBUEZIAFBAXZrQQAgAUEfRxt0IQEgACgCACEDAkADQCADIgAoAgRBeHEgBUYNASABQR12IQMgAUEBdCEBIAAgA0EEcWpBEGoiBigCACIDDQALIAYgAjYCACACIAA2AhggAiACNgIMIAIgAjYCCAwBCyAAKAIIIgEgAjYCDCAAIAI2AgggAkEANgIYIAIgADYCDCACIAE2AggLQZjQACgCACIBIARNDQBBpNAAKAIAIgAgBGoiAiABIARrIgFBAXI2AgRBmNAAIAE2AgBBpNAAIAI2AgAgACAEQQNyNgIEIABBCGohAQwIC0EAIQFB/NMAQTA2AgAMBwtBACEACyAHRQ0AAkAgBigCHCICQQJ0QbzSAGoiAygCACAGRgRAIAMgADYCACAADQFBkNAAQZDQACgCAEF+IAJ3cTYCAAwCCyAHQRBBFCAHKAIQIAZGG2ogADYCACAARQ0BCyAAIAc2AhggBigCECICBEAgACACNgIQIAIgADYCGAsgBkEUaigCACICRQ0AIABBFGogAjYCACACIAA2AhgLIAEgCGohASAGIAhqIgYoAgQhBQsgBiAFQX5xNgIEIAEgBGogATYCACAEIAFBAXI2AgQgAUH/AU0EQCABQXhxQbTQAGohAAJ/QYzQACgCACICQQEgAUEDdnQiAXFFBEBBjNAAIAEgAnI2AgAgAAwBCyAAKAIICyIBIAQ2AgwgACAENgIIIAQgADYCDCAEIAE2AggMAQtBHyEFIAFB////B00EQCABQSYgAUEIdmciAGt2QQFxIABBAXRrQT5qIQULIAQgBTYCHCAEQgA3AhAgBUECdEG80gBqIQBBkNAAKAIAIgJBASAFdCIDcUUEQCAAIAQ2AgBBkNAAIAIgA3I2AgAgBCAANgIYIAQgBDYCCCAEIAQ2AgwMAQsgAUEZIAVBAXZrQQAgBUEfRxt0IQUgACgCACEAAkADQCAAIgIoAgRBeHEgAUYNASAFQR12IQAgBUEBdCEFIAIgAEEEcWpBEGoiAygCACIADQALIAMgBDYCACAEIAI2AhggBCAENgIMIAQgBDYCCAwBCyACKAIIIgAgBDYCDCACIAQ2AgggBEEANgIYIAQgAjYCDCAEIAA2AggLIAlBCGohAQwCCwJAIAdFDQACQCADKAIcIgFBAnRBvNIAaiICKAIAIANGBEAgAiAANgIAIAANAUGQ0AAgCEF+IAF3cSIINgIADAILIAdBEEEUIAcoAhAgA0YbaiAANgIAIABFDQELIAAgBzYCGCADKAIQIgEEQCAAIAE2AhAgASAANgIYCyADQRRqKAIAIgFFDQAgAEEUaiABNgIAIAEgADYCGAsCQCAFQQ9NBEAgAyAEIAVqIgBBA3I2AgQgACADaiIAIAAoAgRBAXI2AgQMAQsgAyAEaiICIAVBAXI2AgQgAyAEQQNyNgIEIAIgBWogBTYCACAFQf8BTQRAIAVBeHFBtNAAaiEAAn9BjNAAKAIAIgFBASAFQQN2dCIFcUUEQEGM0AAgASAFcjYCACAADAELIAAoAggLIgEgAjYCDCAAIAI2AgggAiAANgIMIAIgATYCCAwBC0EfIQEgBUH///8HTQRAIAVBJiAFQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAQsgAiABNgIcIAJCADcCECABQQJ0QbzSAGohAEEBIAF0IgQgCHFFBEAgACACNgIAQZDQACAEIAhyNgIAIAIgADYCGCACIAI2AgggAiACNgIMDAELIAVBGSABQQF2a0EAIAFBH0cbdCEBIAAoAgAhBAJAA0AgBCIAKAIEQXhxIAVGDQEgAUEddiEEIAFBAXQhASAAIARBBHFqQRBqIgYoAgAiBA0ACyAGIAI2AgAgAiAANgIYIAIgAjYCDCACIAI2AggMAQsgACgCCCIBIAI2AgwgACACNgIIIAJBADYCGCACIAA2AgwgAiABNgIICyADQQhqIQEMAQsCQCAJRQ0AAkAgACgCHCIBQQJ0QbzSAGoiAigCACAARgRAIAIgAzYCACADDQFBkNAAIAtBfiABd3E2AgAMAgsgCUEQQRQgCSgCECAARhtqIAM2AgAgA0UNAQsgAyAJNgIYIAAoAhAiAQRAIAMgATYCECABIAM2AhgLIABBFGooAgAiAUUNACADQRRqIAE2AgAgASADNgIYCwJAIAVBD00EQCAAIAQgBWoiAUEDcjYCBCAAIAFqIgEgASgCBEEBcjYCBAwBCyAAIARqIgcgBUEBcjYCBCAAIARBA3I2AgQgBSAHaiAFNgIAIAgEQCAIQXhxQbTQAGohAUGg0AAoAgAhAwJ/QQEgCEEDdnQiAiAGcUUEQEGM0AAgAiAGcjYCACABDAELIAEoAggLIgIgAzYCDCABIAM2AgggAyABNgIMIAMgAjYCCAtBoNAAIAc2AgBBlNAAIAU2AgALIABBCGohAQsgCkEQaiQAIAELQwAgAEUEQD8AQRB0DwsCQCAAQf//A3ENACAAQQBIDQAgAEEQdkAAIgBBf0YEQEH80wBBMDYCAEF/DwsgAEEQdA8LAAsL3D8iAEGACAsJAQAAAAIAAAADAEGUCAsFBAAAAAUAQaQICwkGAAAABwAAAAgAQdwIC4otSW52YWxpZCBjaGFyIGluIHVybCBxdWVyeQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2JvZHkAQ29udGVudC1MZW5ndGggb3ZlcmZsb3cAQ2h1bmsgc2l6ZSBvdmVyZmxvdwBSZXNwb25zZSBvdmVyZmxvdwBJbnZhbGlkIG1ldGhvZCBmb3IgSFRUUC94LnggcmVxdWVzdABJbnZhbGlkIG1ldGhvZCBmb3IgUlRTUC94LnggcmVxdWVzdABFeHBlY3RlZCBTT1VSQ0UgbWV0aG9kIGZvciBJQ0UveC54IHJlcXVlc3QASW52YWxpZCBjaGFyIGluIHVybCBmcmFnbWVudCBzdGFydABFeHBlY3RlZCBkb3QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9zdGF0dXMASW52YWxpZCByZXNwb25zZSBzdGF0dXMASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucwBVc2VyIGNhbGxiYWNrIGVycm9yAGBvbl9yZXNldGAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2hlYWRlcmAgY2FsbGJhY2sgZXJyb3IAYG9uX21lc3NhZ2VfYmVnaW5gIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fdmFsdWVgIGNhbGxiYWNrIGVycm9yAGBvbl9zdGF0dXNfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl92ZXJzaW9uX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdXJsX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXNzYWdlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWV0aG9kX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX25hbWVgIGNhbGxiYWNrIGVycm9yAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2VydmVyAEludmFsaWQgaGVhZGVyIHZhbHVlIGNoYXIASW52YWxpZCBoZWFkZXIgZmllbGQgY2hhcgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3ZlcnNpb24ASW52YWxpZCBtaW5vciB2ZXJzaW9uAEludmFsaWQgbWFqb3IgdmVyc2lvbgBFeHBlY3RlZCBzcGFjZSBhZnRlciB2ZXJzaW9uAEV4cGVjdGVkIENSTEYgYWZ0ZXIgdmVyc2lvbgBJbnZhbGlkIEhUVFAgdmVyc2lvbgBJbnZhbGlkIGhlYWRlciB0b2tlbgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3VybABJbnZhbGlkIGNoYXJhY3RlcnMgaW4gdXJsAFVuZXhwZWN0ZWQgc3RhcnQgY2hhciBpbiB1cmwARG91YmxlIEAgaW4gdXJsAEVtcHR5IENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhcmFjdGVyIGluIENvbnRlbnQtTGVuZ3RoAER1cGxpY2F0ZSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXIgaW4gdXJsIHBhdGgAQ29udGVudC1MZW5ndGggY2FuJ3QgYmUgcHJlc2VudCB3aXRoIFRyYW5zZmVyLUVuY29kaW5nAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIHNpemUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfdmFsdWUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyB2YWx1ZQBNaXNzaW5nIGV4cGVjdGVkIExGIGFmdGVyIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AgaGVhZGVyIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGUgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZWQgdmFsdWUAUGF1c2VkIGJ5IG9uX2hlYWRlcnNfY29tcGxldGUASW52YWxpZCBFT0Ygc3RhdGUAb25fcmVzZXQgcGF1c2UAb25fY2h1bmtfaGVhZGVyIHBhdXNlAG9uX21lc3NhZ2VfYmVnaW4gcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlIHBhdXNlAG9uX3N0YXR1c19jb21wbGV0ZSBwYXVzZQBvbl92ZXJzaW9uX2NvbXBsZXRlIHBhdXNlAG9uX3VybF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGUgcGF1c2UAb25fbWVzc2FnZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXRob2RfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lIHBhdXNlAFVuZXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgc3RhcnQgbGluZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgbmFtZQBQYXVzZSBvbiBDT05ORUNUL1VwZ3JhZGUAUGF1c2Ugb24gUFJJL1VwZ3JhZGUARXhwZWN0ZWQgSFRUUC8yIENvbm5lY3Rpb24gUHJlZmFjZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX21ldGhvZABFeHBlY3RlZCBzcGFjZSBhZnRlciBtZXRob2QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfZmllbGQAUGF1c2VkAEludmFsaWQgd29yZCBlbmNvdW50ZXJlZABJbnZhbGlkIG1ldGhvZCBlbmNvdW50ZXJlZABVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNjaGVtYQBSZXF1ZXN0IGhhcyBpbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AAU1dJVENIX1BST1hZAFVTRV9QUk9YWQBNS0FDVElWSVRZAFVOUFJPQ0VTU0FCTEVfRU5USVRZAENPUFkATU9WRURfUEVSTUFORU5UTFkAVE9PX0VBUkxZAE5PVElGWQBGQUlMRURfREVQRU5ERU5DWQBCQURfR0FURVdBWQBQTEFZAFBVVABDSEVDS09VVABHQVRFV0FZX1RJTUVPVVQAUkVRVUVTVF9USU1FT1VUAE5FVFdPUktfQ09OTkVDVF9USU1FT1VUAENPTk5FQ1RJT05fVElNRU9VVABMT0dJTl9USU1FT1VUAE5FVFdPUktfUkVBRF9USU1FT1VUAFBPU1QATUlTRElSRUNURURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9MT0FEX0JBTEFOQ0VEX1JFUVVFU1QAQkFEX1JFUVVFU1QASFRUUF9SRVFVRVNUX1NFTlRfVE9fSFRUUFNfUE9SVABSRVBPUlQASU1fQV9URUFQT1QAUkVTRVRfQ09OVEVOVABOT19DT05URU5UAFBBUlRJQUxfQ09OVEVOVABIUEVfSU5WQUxJRF9DT05TVEFOVABIUEVfQ0JfUkVTRVQAR0VUAEhQRV9TVFJJQ1QAQ09ORkxJQ1QAVEVNUE9SQVJZX1JFRElSRUNUAFBFUk1BTkVOVF9SRURJUkVDVABDT05ORUNUAE1VTFRJX1NUQVRVUwBIUEVfSU5WQUxJRF9TVEFUVVMAVE9PX01BTllfUkVRVUVTVFMARUFSTFlfSElOVFMAVU5BVkFJTEFCTEVfRk9SX0xFR0FMX1JFQVNPTlMAT1BUSU9OUwBTV0lUQ0hJTkdfUFJPVE9DT0xTAFZBUklBTlRfQUxTT19ORUdPVElBVEVTAE1VTFRJUExFX0NIT0lDRVMASU5URVJOQUxfU0VSVkVSX0VSUk9SAFdFQl9TRVJWRVJfVU5LTk9XTl9FUlJPUgBSQUlMR1VOX0VSUk9SAElERU5USVRZX1BST1ZJREVSX0FVVEhFTlRJQ0FUSU9OX0VSUk9SAFNTTF9DRVJUSUZJQ0FURV9FUlJPUgBJTlZBTElEX1hfRk9SV0FSREVEX0ZPUgBTRVRfUEFSQU1FVEVSAEdFVF9QQVJBTUVURVIASFBFX1VTRVIAU0VFX09USEVSAEhQRV9DQl9DSFVOS19IRUFERVIATUtDQUxFTkRBUgBTRVRVUABXRUJfU0VSVkVSX0lTX0RPV04AVEVBUkRPV04ASFBFX0NMT1NFRF9DT05ORUNUSU9OAEhFVVJJU1RJQ19FWFBJUkFUSU9OAERJU0NPTk5FQ1RFRF9PUEVSQVRJT04ATk9OX0FVVEhPUklUQVRJVkVfSU5GT1JNQVRJT04ASFBFX0lOVkFMSURfVkVSU0lPTgBIUEVfQ0JfTUVTU0FHRV9CRUdJTgBTSVRFX0lTX0ZST1pFTgBIUEVfSU5WQUxJRF9IRUFERVJfVE9LRU4ASU5WQUxJRF9UT0tFTgBGT1JCSURERU4ARU5IQU5DRV9ZT1VSX0NBTE0ASFBFX0lOVkFMSURfVVJMAEJMT0NLRURfQllfUEFSRU5UQUxfQ09OVFJPTABNS0NPTABBQ0wASFBFX0lOVEVSTkFMAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0VfVU5PRkZJQ0lBTABIUEVfT0sAVU5MSU5LAFVOTE9DSwBQUkkAUkVUUllfV0lUSABIUEVfSU5WQUxJRF9DT05URU5UX0xFTkdUSABIUEVfVU5FWFBFQ1RFRF9DT05URU5UX0xFTkdUSABGTFVTSABQUk9QUEFUQ0gATS1TRUFSQ0gAVVJJX1RPT19MT05HAFBST0NFU1NJTkcATUlTQ0VMTEFORU9VU19QRVJTSVNURU5UX1dBUk5JTkcATUlTQ0VMTEFORU9VU19XQVJOSU5HAEhQRV9JTlZBTElEX1RSQU5TRkVSX0VOQ09ESU5HAEV4cGVjdGVkIENSTEYASFBFX0lOVkFMSURfQ0hVTktfU0laRQBNT1ZFAENPTlRJTlVFAEhQRV9DQl9TVEFUVVNfQ09NUExFVEUASFBFX0NCX0hFQURFUlNfQ09NUExFVEUASFBFX0NCX1ZFUlNJT05fQ09NUExFVEUASFBFX0NCX1VSTF9DT01QTEVURQBIUEVfQ0JfQ0hVTktfQ09NUExFVEUASFBFX0NCX0hFQURFUl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fTkFNRV9DT01QTEVURQBIUEVfQ0JfTUVTU0FHRV9DT01QTEVURQBIUEVfQ0JfTUVUSE9EX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfRklFTERfQ09NUExFVEUAREVMRVRFAEhQRV9JTlZBTElEX0VPRl9TVEFURQBJTlZBTElEX1NTTF9DRVJUSUZJQ0FURQBQQVVTRQBOT19SRVNQT05TRQBVTlNVUFBPUlRFRF9NRURJQV9UWVBFAEdPTkUATk9UX0FDQ0VQVEFCTEUAU0VSVklDRV9VTkFWQUlMQUJMRQBSQU5HRV9OT1RfU0FUSVNGSUFCTEUAT1JJR0lOX0lTX1VOUkVBQ0hBQkxFAFJFU1BPTlNFX0lTX1NUQUxFAFBVUkdFAE1FUkdFAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0UAUkVRVUVTVF9IRUFERVJfVE9PX0xBUkdFAFBBWUxPQURfVE9PX0xBUkdFAElOU1VGRklDSUVOVF9TVE9SQUdFAEhQRV9QQVVTRURfVVBHUkFERQBIUEVfUEFVU0VEX0gyX1VQR1JBREUAU09VUkNFAEFOTk9VTkNFAFRSQUNFAEhQRV9VTkVYUEVDVEVEX1NQQUNFAERFU0NSSUJFAFVOU1VCU0NSSUJFAFJFQ09SRABIUEVfSU5WQUxJRF9NRVRIT0QATk9UX0ZPVU5EAFBST1BGSU5EAFVOQklORABSRUJJTkQAVU5BVVRIT1JJWkVEAE1FVEhPRF9OT1RfQUxMT1dFRABIVFRQX1ZFUlNJT05fTk9UX1NVUFBPUlRFRABBTFJFQURZX1JFUE9SVEVEAEFDQ0VQVEVEAE5PVF9JTVBMRU1FTlRFRABMT09QX0RFVEVDVEVEAEhQRV9DUl9FWFBFQ1RFRABIUEVfTEZfRVhQRUNURUQAQ1JFQVRFRABJTV9VU0VEAEhQRV9QQVVTRUQAVElNRU9VVF9PQ0NVUkVEAFBBWU1FTlRfUkVRVUlSRUQAUFJFQ09ORElUSU9OX1JFUVVJUkVEAFBST1hZX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAE5FVFdPUktfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATEVOR1RIX1JFUVVJUkVEAFNTTF9DRVJUSUZJQ0FURV9SRVFVSVJFRABVUEdSQURFX1JFUVVJUkVEAFBBR0VfRVhQSVJFRABQUkVDT05ESVRJT05fRkFJTEVEAEVYUEVDVEFUSU9OX0ZBSUxFRABSRVZBTElEQVRJT05fRkFJTEVEAFNTTF9IQU5EU0hBS0VfRkFJTEVEAExPQ0tFRABUUkFOU0ZPUk1BVElPTl9BUFBMSUVEAE5PVF9NT0RJRklFRABOT1RfRVhURU5ERUQAQkFORFdJRFRIX0xJTUlUX0VYQ0VFREVEAFNJVEVfSVNfT1ZFUkxPQURFRABIRUFEAEV4cGVjdGVkIEhUVFAvAABeEwAAJhMAADAQAADwFwAAnRMAABUSAAA5FwAA8BIAAAoQAAB1EgAArRIAAIITAABPFAAAfxAAAKAVAAAjFAAAiRIAAIsUAABNFQAA1BEAAM8UAAAQGAAAyRYAANwWAADBEQAA4BcAALsUAAB0FAAAfBUAAOUUAAAIFwAAHxAAAGUVAACjFAAAKBUAAAIVAACZFQAALBAAAIsZAABPDwAA1A4AAGoQAADOEAAAAhcAAIkOAABuEwAAHBMAAGYUAABWFwAAwRMAAM0TAABsEwAAaBcAAGYXAABfFwAAIhMAAM4PAABpDgAA2A4AAGMWAADLEwAAqg4AACgXAAAmFwAAxRMAAF0WAADoEQAAZxMAAGUTAADyFgAAcxMAAB0XAAD5FgAA8xEAAM8OAADOFQAADBIAALMRAAClEQAAYRAAADIXAAC7EwBB+TULAQEAQZA2C+ABAQECAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQf03CwEBAEGROAteAgMCAgICAgAAAgIAAgIAAgICAgICAgICAgAEAAAAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAAIAAgBB/TkLAQEAQZE6C14CAAICAgICAAACAgACAgACAgICAgICAgICAAMABAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAEHwOwsNbG9zZWVlcC1hbGl2ZQBBiTwLAQEAQaA8C+ABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQYk+CwEBAEGgPgvnAQEBAQEBAQEBAQEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBY2h1bmtlZABBsMAAC18BAQABAQEBAQAAAQEAAQEAAQEBAQEBAQEBAQAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQBBkMIACyFlY3Rpb25lbnQtbGVuZ3Rob25yb3h5LWNvbm5lY3Rpb24AQcDCAAstcmFuc2Zlci1lbmNvZGluZ3BncmFkZQ0KDQoNClNNDQoNClRUUC9DRS9UU1AvAEH5wgALBQECAAEDAEGQwwAL4AEEAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+cQACwUBAgABAwBBkMUAC+ABBAEBBQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQfnGAAsEAQAAAQBBkccAC98BAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+sgACwQBAAACAEGQyQALXwMEAAAEBAQEBAQEBAQEBAUEBAQEBAQEBAQEBAQABAAGBwQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEAEH6ygALBAEAAAEAQZDLAAsBAQBBqssAC0ECAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBB+swACwQBAAABAEGQzQALAQEAQZrNAAsGAgAAAAACAEGxzQALOgMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAQfDOAAuWAU5PVU5DRUVDS09VVE5FQ1RFVEVDUklCRUxVU0hFVEVBRFNFQVJDSFJHRUNUSVZJVFlMRU5EQVJWRU9USUZZUFRJT05TQ0hTRUFZU1RBVENIR0VPUkRJUkVDVE9SVFJDSFBBUkFNRVRFUlVSQ0VCU0NSSUJFQVJET1dOQUNFSU5ETktDS1VCU0NSSUJFSFRUUC9BRFRQLw==","base64")});var Vw=V((sMr,c6e)=>{"use strict";d();var r6e=["GET","HEAD","POST"],qft=new Set(r6e),Wft=[101,204,205,304],n6e=[301,302,303,307,308],Gft=new Set(n6e),i6e=["1","7","9","11","13","15","17","19","20","21","22","23","25","37","42","43","53","69","77","79","87","95","101","102","103","104","109","110","111","113","115","117","119","123","135","137","139","143","161","179","389","427","465","512","513","514","515","526","530","531","532","540","548","554","556","563","587","601","636","989","990","993","995","1719","1720","1723","2049","3659","4045","4190","5060","5061","6000","6566","6665","6666","6667","6668","6669","6679","6697","10080"],Hft=new Set(i6e),o6e=["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"],Vft=new Set(o6e),jft=["follow","manual","error"],s6e=["GET","HEAD","OPTIONS","TRACE"],$ft=new Set(s6e),zft=["navigate","same-origin","no-cors","cors"],Yft=["omit","same-origin","include"],Kft=["default","no-store","reload","no-cache","force-cache","only-if-cached"],Jft=["content-encoding","content-language","content-location","content-type","content-length"],Xft=["half"],a6e=["CONNECT","TRACE","TRACK"],Zft=new Set(a6e),l6e=["audio","audioworklet","font","image","manifest","paintworklet","script","style","track","video","xslt",""],edt=new Set(l6e);c6e.exports={subresource:l6e,forbiddenMethods:a6e,requestBodyHeader:Jft,referrerPolicy:o6e,requestRedirect:jft,requestMode:zft,requestCredentials:Yft,requestCache:Kft,redirectStatus:n6e,corsSafeListedMethods:r6e,nullBodyStatus:Wft,safeMethods:s6e,badPorts:i6e,requestDuplex:Xft,subresourceSet:edt,badPortsSet:Hft,redirectStatusSet:Gft,corsSafeListedMethodsSet:qft,safeMethodsSet:$ft,forbiddenMethodsSet:Zft,referrerPolicySet:Vft}});var wre=V((lMr,u6e)=>{"use strict";d();var Tre=Symbol.for("undici.globalOrigin.1");function tdt(){return globalThis[Tre]}o(tdt,"getGlobalOrigin");function rdt(e){if(e===void 0){Object.defineProperty(globalThis,Tre,{value:void 0,writable:!0,enumerable:!1,configurable:!1});return}let t=new URL(e);if(t.protocol!=="http:"&&t.protocol!=="https:")throw new TypeError(`Only http & https urls are allowed, received ${t.protocol}`);Object.defineProperty(globalThis,Tre,{value:t,writable:!0,enumerable:!1,configurable:!1})}o(rdt,"setGlobalOrigin");u6e.exports={getGlobalOrigin:tdt,setGlobalOrigin:rdt}});var Kc=V((fMr,A6e)=>{"use strict";d();var iO=require("node:assert"),ndt=new TextEncoder,jw=/^[!#$%&'*+\-.^_|~A-Za-z0-9]+$/,idt=/[\u000A\u000D\u0009\u0020]/,odt=/[\u0009\u000A\u000C\u000D\u0020]/g,sdt=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function adt(e){iO(e.protocol==="data:");let t=m6e(e,!0);t=t.slice(5);let r={position:0},n=GI(",",t,r),i=n.length;if(n=mdt(n,!0,!0),r.position>=t.length)return"failure";r.position++;let s=t.slice(i+1),a=h6e(s);if(/;(\u0020){0,}base64$/i.test(n)){let c=g6e(a);if(a=cdt(c),a==="failure")return"failure";n=n.slice(0,-6),n=n.replace(/(\u0020)+$/,""),n=n.slice(0,-1)}n.startsWith(";")&&(n="text/plain"+n);let l=Sre(n);return l==="failure"&&(l=Sre("text/plain;charset=US-ASCII")),{mimeType:l,body:a}}o(adt,"dataURLProcessor");function m6e(e,t=!1){if(!t)return e.href;let r=e.href,n=e.hash.length,i=n===0?r:r.substring(0,r.length-n);return!n&&r.endsWith("#")?i.slice(0,-1):i}o(m6e,"URLSerializer");function oO(e,t,r){let n="";for(;r.position<t.length&&e(t[r.position]);)n+=t[r.position],r.position++;return n}o(oO,"collectASequenceOfCodePoints");function GI(e,t,r){let n=t.indexOf(e,r.position),i=r.position;return n===-1?(r.position=t.length,t.slice(i)):(r.position=n,t.slice(i,r.position))}o(GI,"collectASequenceOfCodePointsFast");function h6e(e){let t=ndt.encode(e);return ldt(t)}o(h6e,"stringPercentDecode");function f6e(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}o(f6e,"isHexCharByte");function d6e(e){return e>=48&&e<=57?e-48:(e&223)-55}o(d6e,"hexByteToNumber");function ldt(e){let t=e.length,r=new Uint8Array(t),n=0;for(let i=0;i<t;++i){let s=e[i];s!==37?r[n++]=s:s===37&&!(f6e(e[i+1])&&f6e(e[i+2]))?r[n++]=37:(r[n++]=d6e(e[i+1])<<4|d6e(e[i+2]),i+=2)}return t===n?r:r.subarray(0,n)}o(ldt,"percentDecode");function Sre(e){e=nO(e,!0,!0);let t={position:0},r=GI("/",e,t);if(r.length===0||!jw.test(r)||t.position>e.length)return"failure";t.position++;let n=GI(";",e,t);if(n=nO(n,!1,!0),n.length===0||!jw.test(n))return"failure";let i=r.toLowerCase(),s=n.toLowerCase(),a={type:i,subtype:s,parameters:new Map,essence:`${i}/${s}`};for(;t.position<e.length;){t.position++,oO(u=>idt.test(u),e,t);let l=oO(u=>u!==";"&&u!=="=",e,t);if(l=l.toLowerCase(),t.position<e.length){if(e[t.position]===";")continue;t.position++}if(t.position>e.length)break;let c=null;if(e[t.position]==='"')c=p6e(e,t,!0),GI(";",e,t);else if(c=GI(";",e,t),c=nO(c,!1,!0),c.length===0)continue;l.length!==0&&jw.test(l)&&(c.length===0||sdt.test(c))&&!a.parameters.has(l)&&a.parameters.set(l,c)}return a}o(Sre,"parseMIMEType");function cdt(e){e=e.replace(odt,"");let t=e.length;if(t%4===0&&e.charCodeAt(t-1)===61&&(--t,e.charCodeAt(t-1)===61&&--t),t%4===1||/[^+/0-9A-Za-z]/.test(e.length===t?e:e.substring(0,t)))return"failure";let r=Buffer.from(e,"base64");return new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}o(cdt,"forgivingBase64");function p6e(e,t,r){let n=t.position,i="";for(iO(e[t.position]==='"'),t.position++;i+=oO(a=>a!=='"'&&a!=="\\",e,t),!(t.position>=e.length);){let s=e[t.position];if(t.position++,s==="\\"){if(t.position>=e.length){i+="\\";break}i+=e[t.position],t.position++}else{iO(s==='"');break}}return r?i:e.slice(n,t.position)}o(p6e,"collectAnHTTPQuotedString");function udt(e){iO(e!=="failure");let{parameters:t,essence:r}=e,n=r;for(let[i,s]of t.entries())n+=";",n+=i,n+="=",jw.test(s)||(s=s.replace(/(\\|")/g,"\\$1"),s='"'+s,s+='"'),n+=s;return n}o(udt,"serializeAMimeType");function fdt(e){return e===13||e===10||e===9||e===32}o(fdt,"isHTTPWhiteSpace");function nO(e,t=!0,r=!0){return _re(e,t,r,fdt)}o(nO,"removeHTTPWhitespace");function ddt(e){return e===13||e===10||e===9||e===12||e===32}o(ddt,"isASCIIWhitespace");function mdt(e,t=!0,r=!0){return _re(e,t,r,ddt)}o(mdt,"removeASCIIWhitespace");function _re(e,t,r,n){let i=0,s=e.length-1;if(t)for(;i<e.length&&n(e.charCodeAt(i));)i++;if(r)for(;s>0&&n(e.charCodeAt(s));)s--;return i===0&&s===e.length-1?e:e.slice(i,s+1)}o(_re,"removeChars");function g6e(e){let t=e.length;if(65535>t)return String.fromCharCode.apply(null,e);let r="",n=0,i=65535;for(;n<t;)n+i>t&&(i=t-n),r+=String.fromCharCode.apply(null,e.subarray(n,n+=i));return r}o(g6e,"isomorphicDecode");function hdt(e){switch(e.essence){case"application/ecmascript":case"application/javascript":case"application/x-ecmascript":case"application/x-javascript":case"text/ecmascript":case"text/javascript":case"text/javascript1.0":case"text/javascript1.1":case"text/javascript1.2":case"text/javascript1.3":case"text/javascript1.4":case"text/javascript1.5":case"text/jscript":case"text/livescript":case"text/x-ecmascript":case"text/x-javascript":return"text/javascript";case"application/json":case"text/json":return"application/json";case"image/svg+xml":return"image/svg+xml";case"text/xml":case"application/xml":return"application/xml"}return e.subtype.endsWith("+json")?"application/json":e.subtype.endsWith("+xml")?"application/xml":""}o(hdt,"minimizeSupportedMimeType");A6e.exports={dataURLProcessor:adt,URLSerializer:m6e,collectASequenceOfCodePoints:oO,collectASequenceOfCodePointsFast:GI,stringPercentDecode:h6e,parseMIMEType:Sre,collectAnHTTPQuotedString:p6e,serializeAMimeType:udt,removeChars:_re,removeHTTPWhitespace:nO,minimizeSupportedMimeType:hdt,HTTP_TOKEN_CODEPOINTS:jw,isomorphicDecode:g6e}});var zl=V((hMr,y6e)=>{"use strict";d();var{types:Op,inspect:pdt}=require("node:util"),{markAsUncloneable:gdt}=require("node:worker_threads"),{toUSVString:Adt}=ci(),Ht={};Ht.converters={};Ht.util={};Ht.errors={};Ht.errors.exception=function(e){return new TypeError(`${e.header}: ${e.message}`)};Ht.errors.conversionFailed=function(e){let t=e.types.length===1?"":" one of",r=`${e.argument} could not be converted to${t}: ${e.types.join(", ")}.`;return Ht.errors.exception({header:e.prefix,message:r})};Ht.errors.invalidArgument=function(e){return Ht.errors.exception({header:e.prefix,message:`"${e.value}" is an invalid ${e.type}.`})};Ht.brandCheck=function(e,t,r){if(r?.strict!==!1){if(!(e instanceof t)){let n=new TypeError("Illegal invocation");throw n.code="ERR_INVALID_THIS",n}}else if(e?.[Symbol.toStringTag]!==t.prototype[Symbol.toStringTag]){let n=new TypeError("Illegal invocation");throw n.code="ERR_INVALID_THIS",n}};Ht.argumentLengthCheck=function({length:e},t,r){if(e<t)throw Ht.errors.exception({message:`${t} argument${t!==1?"s":""} required, but${e?" only":""} ${e} found.`,header:r})};Ht.illegalConstructor=function(){throw Ht.errors.exception({header:"TypeError",message:"Illegal constructor"})};Ht.util.Type=function(e){switch(typeof e){case"undefined":return"Undefined";case"boolean":return"Boolean";case"string":return"String";case"symbol":return"Symbol";case"number":return"Number";case"bigint":return"BigInt";case"function":case"object":return e===null?"Null":"Object"}};Ht.util.markAsUncloneable=gdt||(()=>{});Ht.util.ConvertToInt=function(e,t,r,n){let i,s;t===64?(i=Math.pow(2,53)-1,r==="unsigned"?s=0:s=Math.pow(-2,53)+1):r==="unsigned"?(s=0,i=Math.pow(2,t)-1):(s=Math.pow(-2,t)-1,i=Math.pow(2,t-1)-1);let a=Number(e);if(a===0&&(a=0),n?.enforceRange===!0){if(Number.isNaN(a)||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)throw Ht.errors.exception({header:"Integer conversion",message:`Could not convert ${Ht.util.Stringify(e)} to an integer.`});if(a=Ht.util.IntegerPart(a),a<s||a>i)throw Ht.errors.exception({header:"Integer conversion",message:`Value must be between ${s}-${i}, got ${a}.`});return a}return!Number.isNaN(a)&&n?.clamp===!0?(a=Math.min(Math.max(a,s),i),Math.floor(a)%2===0?a=Math.floor(a):a=Math.ceil(a),a):Number.isNaN(a)||a===0&&Object.is(0,a)||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY?0:(a=Ht.util.IntegerPart(a),a=a%Math.pow(2,t),r==="signed"&&a>=Math.pow(2,t)-1?a-Math.pow(2,t):a)};Ht.util.IntegerPart=function(e){let t=Math.floor(Math.abs(e));return e<0?-1*t:t};Ht.util.Stringify=function(e){switch(Ht.util.Type(e)){case"Symbol":return`Symbol(${e.description})`;case"Object":return pdt(e);case"String":return`"${e}"`;default:return`${e}`}};Ht.sequenceConverter=function(e){return(t,r,n,i)=>{if(Ht.util.Type(t)!=="Object")throw Ht.errors.exception({header:r,message:`${n} (${Ht.util.Stringify(t)}) is not iterable.`});let s=typeof i=="function"?i():t?.[Symbol.iterator]?.(),a=[],l=0;if(s===void 0||typeof s.next!="function")throw Ht.errors.exception({header:r,message:`${n} is not iterable.`});for(;;){let{done:c,value:u}=s.next();if(c)break;a.push(e(u,r,`${n}[${l++}]`))}return a}};Ht.recordConverter=function(e,t){return(r,n,i)=>{if(Ht.util.Type(r)!=="Object")throw Ht.errors.exception({header:n,message:`${i} ("${Ht.util.Type(r)}") is not an Object.`});let s={};if(!Op.isProxy(r)){let l=[...Object.getOwnPropertyNames(r),...Object.getOwnPropertySymbols(r)];for(let c of l){let u=e(c,n,i),f=t(r[c],n,i);s[u]=f}return s}let a=Reflect.ownKeys(r);for(let l of a)if(Reflect.getOwnPropertyDescriptor(r,l)?.enumerable){let u=e(l,n,i),f=t(r[l],n,i);s[u]=f}return s}};Ht.interfaceConverter=function(e){return(t,r,n,i)=>{if(i?.strict!==!1&&!(t instanceof e))throw Ht.errors.exception({header:r,message:`Expected ${n} ("${Ht.util.Stringify(t)}") to be an instance of ${e.name}.`});return t}};Ht.dictionaryConverter=function(e){return(t,r,n)=>{let i=Ht.util.Type(t),s={};if(i==="Null"||i==="Undefined")return s;if(i!=="Object")throw Ht.errors.exception({header:r,message:`Expected ${t} to be one of: Null, Undefined, Object.`});for(let a of e){let{key:l,defaultValue:c,required:u,converter:f}=a;if(u===!0&&!Object.hasOwn(t,l))throw Ht.errors.exception({header:r,message:`Missing required key "${l}".`});let m=t[l],h=Object.hasOwn(a,"defaultValue");if(h&&m!==null&&(m??=c()),u||h||m!==void 0){if(m=f(m,r,`${n}.${l}`),a.allowedValues&&!a.allowedValues.includes(m))throw Ht.errors.exception({header:r,message:`${m} is not an accepted type. Expected one of ${a.allowedValues.join(", ")}.`});s[l]=m}}return s}};Ht.nullableConverter=function(e){return(t,r,n)=>t===null?t:e(t,r,n)};Ht.converters.DOMString=function(e,t,r,n){if(e===null&&n?.legacyNullToEmptyString)return"";if(typeof e=="symbol")throw Ht.errors.exception({header:t,message:`${r} is a symbol, which cannot be converted to a DOMString.`});return String(e)};Ht.converters.ByteString=function(e,t,r){let n=Ht.converters.DOMString(e,t,r);for(let i=0;i<n.length;i++)if(n.charCodeAt(i)>255)throw new TypeError(`Cannot convert argument to a ByteString because the character at index ${i} has a value of ${n.charCodeAt(i)} which is greater than 255.`);return n};Ht.converters.USVString=Adt;Ht.converters.boolean=function(e){return!!e};Ht.converters.any=function(e){return e};Ht.converters["long long"]=function(e,t,r){return Ht.util.ConvertToInt(e,64,"signed",void 0,t,r)};Ht.converters["unsigned long long"]=function(e,t,r){return Ht.util.ConvertToInt(e,64,"unsigned",void 0,t,r)};Ht.converters["unsigned long"]=function(e,t,r){return Ht.util.ConvertToInt(e,32,"unsigned",void 0,t,r)};Ht.converters["unsigned short"]=function(e,t,r,n){return Ht.util.ConvertToInt(e,16,"unsigned",n,t,r)};Ht.converters.ArrayBuffer=function(e,t,r,n){if(Ht.util.Type(e)!=="Object"||!Op.isAnyArrayBuffer(e))throw Ht.errors.conversionFailed({prefix:t,argument:`${r} ("${Ht.util.Stringify(e)}")`,types:["ArrayBuffer"]});if(n?.allowShared===!1&&Op.isSharedArrayBuffer(e))throw Ht.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(e.resizable||e.growable)throw Ht.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return e};Ht.converters.TypedArray=function(e,t,r,n,i){if(Ht.util.Type(e)!=="Object"||!Op.isTypedArray(e)||e.constructor.name!==t.name)throw Ht.errors.conversionFailed({prefix:r,argument:`${n} ("${Ht.util.Stringify(e)}")`,types:[t.name]});if(i?.allowShared===!1&&Op.isSharedArrayBuffer(e.buffer))throw Ht.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(e.buffer.resizable||e.buffer.growable)throw Ht.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return e};Ht.converters.DataView=function(e,t,r,n){if(Ht.util.Type(e)!=="Object"||!Op.isDataView(e))throw Ht.errors.exception({header:t,message:`${r} is not a DataView.`});if(n?.allowShared===!1&&Op.isSharedArrayBuffer(e.buffer))throw Ht.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(e.buffer.resizable||e.buffer.growable)throw Ht.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return e};Ht.converters.BufferSource=function(e,t,r,n){if(Op.isAnyArrayBuffer(e))return Ht.converters.ArrayBuffer(e,t,r,{...n,allowShared:!1});if(Op.isTypedArray(e))return Ht.converters.TypedArray(e,e.constructor,t,r,{...n,allowShared:!1});if(Op.isDataView(e))return Ht.converters.DataView(e,t,r,{...n,allowShared:!1});throw Ht.errors.conversionFailed({prefix:t,argument:`${r} ("${Ht.util.Stringify(e)}")`,types:["BufferSource"]})};Ht.converters["sequence<ByteString>"]=Ht.sequenceConverter(Ht.converters.ByteString);Ht.converters["sequence<sequence<ByteString>>"]=Ht.sequenceConverter(Ht.converters["sequence<ByteString>"]);Ht.converters["record<ByteString, ByteString>"]=Ht.recordConverter(Ht.converters.ByteString,Ht.converters.ByteString);y6e.exports={webidl:Ht}});var Xu=V((gMr,D6e)=>{"use strict";d();var{Transform:ydt}=require("node:stream"),C6e=require("node:zlib"),{redirectStatusSet:Cdt,referrerPolicySet:xdt,badPortsSet:Edt}=Vw(),{getGlobalOrigin:x6e}=wre(),{collectASequenceOfCodePoints:L4,collectAnHTTPQuotedString:bdt,removeChars:vdt,parseMIMEType:Idt}=Kc(),{performance:Tdt}=require("node:perf_hooks"),{isBlobLike:wdt,ReadableStreamFrom:Sdt,isValidHTTPToken:E6e,normalizedMethodRecordsBase:_dt}=ci(),Q4=require("node:assert"),{isUint8Array:kdt}=require("node:util/types"),{webidl:$w}=zl(),b6e=[],aO;try{aO=require("node:crypto");let e=["sha256","sha384","sha512"];b6e=aO.getHashes().filter(t=>e.includes(t))}catch{}function v6e(e){let t=e.urlList,r=t.length;return r===0?null:t[r-1].toString()}o(v6e,"responseURL");function Bdt(e,t){if(!Cdt.has(e.status))return null;let r=e.headersList.get("location",!0);return r!==null&&T6e(r)&&(I6e(r)||(r=Rdt(r)),r=new URL(r,v6e(e))),r&&!r.hash&&(r.hash=t),r}o(Bdt,"responseLocationURL");function I6e(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r>126||r<32)return!1}return!0}o(I6e,"isValidEncodedURL");function Rdt(e){return Buffer.from(e,"binary").toString("utf8")}o(Rdt,"normalizeBinaryStringToUtf8");function Yw(e){return e.urlList[e.urlList.length-1]}o(Yw,"requestCurrentURL");function Ddt(e){let t=Yw(e);return B6e(t)&&Edt.has(t.port)?"blocked":"allowed"}o(Ddt,"requestBadPort");function Pdt(e){return e instanceof Error||e?.constructor?.name==="Error"||e?.constructor?.name==="DOMException"}o(Pdt,"isErrorLike");function Fdt(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(!(r===9||r>=32&&r<=126||r>=128&&r<=255))return!1}return!0}o(Fdt,"isValidReasonPhrase");var Ndt=E6e;function T6e(e){return(e[0]==="	"||e[0]===" "||e[e.length-1]==="	"||e[e.length-1]===" "||e.includes(`
`)||e.includes("\r")||e.includes("\0"))===!1}o(T6e,"isValidHeaderValue");function Ldt(e,t){let{headersList:r}=t,n=(r.get("referrer-policy",!0)??"").split(","),i="";if(n.length>0)for(let s=n.length;s!==0;s--){let a=n[s-1].trim();if(xdt.has(a)){i=a;break}}i!==""&&(e.referrerPolicy=i)}o(Ldt,"setRequestReferrerPolicyOnRedirect");function Qdt(){return"allowed"}o(Qdt,"crossOriginResourcePolicyCheck");function Mdt(){return"success"}o(Mdt,"corsCheck");function Odt(){return"success"}o(Odt,"TAOCheck");function Udt(e){let t=null;t=e.mode,e.headersList.set("sec-fetch-mode",t,!0)}o(Udt,"appendFetchMetadata");function qdt(e){let t=e.origin;if(!(t==="client"||t===void 0)){if(e.responseTainting==="cors"||e.mode==="websocket")e.headersList.append("origin",t,!0);else if(e.method!=="GET"&&e.method!=="HEAD"){switch(e.referrerPolicy){case"no-referrer":t=null;break;case"no-referrer-when-downgrade":case"strict-origin":case"strict-origin-when-cross-origin":e.origin&&Bre(e.origin)&&!Bre(Yw(e))&&(t=null);break;case"same-origin":lO(e,Yw(e))||(t=null);break;default:}e.headersList.append("origin",t,!0)}}}o(qdt,"appendRequestOriginHeader");function HI(e,t){return e}o(HI,"coarsenTime");function Wdt(e,t,r){return!e?.startTime||e.startTime<t?{domainLookupStartTime:t,domainLookupEndTime:t,connectionStartTime:t,connectionEndTime:t,secureConnectionStartTime:t,ALPNNegotiatedProtocol:e?.ALPNNegotiatedProtocol}:{domainLookupStartTime:HI(e.domainLookupStartTime,r),domainLookupEndTime:HI(e.domainLookupEndTime,r),connectionStartTime:HI(e.connectionStartTime,r),connectionEndTime:HI(e.connectionEndTime,r),secureConnectionStartTime:HI(e.secureConnectionStartTime,r),ALPNNegotiatedProtocol:e.ALPNNegotiatedProtocol}}o(Wdt,"clampAndCoarsenConnectionTimingInfo");function Gdt(e){return HI(Tdt.now(),e)}o(Gdt,"coarsenedSharedCurrentTime");function Hdt(e){return{startTime:e.startTime??0,redirectStartTime:0,redirectEndTime:0,postRedirectStartTime:e.startTime??0,finalServiceWorkerStartTime:0,finalNetworkResponseStartTime:0,finalNetworkRequestStartTime:0,endTime:0,encodedBodySize:0,decodedBodySize:0,finalConnectionTimingInfo:null}}o(Hdt,"createOpaqueTimingInfo");function w6e(){return{referrerPolicy:"strict-origin-when-cross-origin"}}o(w6e,"makePolicyContainer");function Vdt(e){return{referrerPolicy:e.referrerPolicy}}o(Vdt,"clonePolicyContainer");function jdt(e){let t=e.referrerPolicy;Q4(t);let r=null;if(e.referrer==="client"){let l=x6e();if(!l||l.origin==="null")return"no-referrer";r=new URL(l)}else e.referrer instanceof URL&&(r=e.referrer);let n=kre(r),i=kre(r,!0);n.toString().length>4096&&(n=i);let s=lO(e,n),a=zw(n)&&!zw(e.url);switch(t){case"origin":return i??kre(r,!0);case"unsafe-url":return n;case"same-origin":return s?i:"no-referrer";case"origin-when-cross-origin":return s?n:i;case"strict-origin-when-cross-origin":{let l=Yw(e);return lO(n,l)?n:zw(n)&&!zw(l)?"no-referrer":i}case"strict-origin":case"no-referrer-when-downgrade":default:return a?"no-referrer":i}}o(jdt,"determineRequestsReferrer");function kre(e,t){return Q4(e instanceof URL),e=new URL(e),e.protocol==="file:"||e.protocol==="about:"||e.protocol==="blank:"?"no-referrer":(e.username="",e.password="",e.hash="",t&&(e.pathname="",e.search=""),e)}o(kre,"stripURLForReferrer");function zw(e){if(!(e instanceof URL))return!1;if(e.href==="about:blank"||e.href==="about:srcdoc"||e.protocol==="data:"||e.protocol==="file:")return!0;return t(e.origin);function t(r){if(r==null||r==="null")return!1;let n=new URL(r);return!!(n.protocol==="https:"||n.protocol==="wss:"||/^127(?:\.[0-9]+){0,2}\.[0-9]+$|^\[(?:0*:)*?:?0*1\]$/.test(n.hostname)||n.hostname==="localhost"||n.hostname.includes("localhost.")||n.hostname.endsWith(".localhost"))}}o(zw,"isURLPotentiallyTrustworthy");function $dt(e,t){if(aO===void 0)return!0;let r=S6e(t);if(r==="no metadata"||r.length===0)return!0;let n=Ydt(r),i=Kdt(r,n);for(let s of i){let a=s.algo,l=s.hash,c=aO.createHash(a).update(e).digest("base64");if(c[c.length-1]==="="&&(c[c.length-2]==="="?c=c.slice(0,-2):c=c.slice(0,-1)),Jdt(c,l))return!0}return!1}o($dt,"bytesMatch");var zdt=/(?<algo>sha256|sha384|sha512)-((?<hash>[A-Za-z0-9+/]+|[A-Za-z0-9_-]+)={0,2}(?:\s|$)( +[!-~]*)?)?/i;function S6e(e){let t=[],r=!0;for(let n of e.split(" ")){r=!1;let i=zdt.exec(n);if(i===null||i.groups===void 0||i.groups.algo===void 0)continue;let s=i.groups.algo.toLowerCase();b6e.includes(s)&&t.push(i.groups)}return r===!0?"no metadata":t}o(S6e,"parseMetadata");function Ydt(e){let t=e[0].algo;if(t[3]==="5")return t;for(let r=1;r<e.length;++r){let n=e[r];if(n.algo[3]==="5"){t="sha512";break}else{if(t[3]==="3")continue;n.algo[3]==="3"&&(t="sha384")}}return t}o(Ydt,"getStrongestMetadata");function Kdt(e,t){if(e.length===1)return e;let r=0;for(let n=0;n<e.length;++n)e[n].algo===t&&(e[r++]=e[n]);return e.length=r,e}o(Kdt,"filterMetadataListByAlgorithm");function Jdt(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r]){if(e[r]==="+"&&t[r]==="-"||e[r]==="/"&&t[r]==="_")continue;return!1}return!0}o(Jdt,"compareBase64Mixed");function Xdt(e){}o(Xdt,"tryUpgradeRequestToAPotentiallyTrustworthyURL");function lO(e,t){return e.origin===t.origin&&e.origin==="null"||e.protocol===t.protocol&&e.hostname===t.hostname&&e.port===t.port}o(lO,"sameOrigin");function Zdt(){let e,t;return{promise:new Promise((n,i)=>{e=n,t=i}),resolve:e,reject:t}}o(Zdt,"createDeferredPromise");function emt(e){return e.controller.state==="aborted"}o(emt,"isAborted");function tmt(e){return e.controller.state==="aborted"||e.controller.state==="terminated"}o(tmt,"isCancelled");function rmt(e){return _dt[e.toLowerCase()]??e}o(rmt,"normalizeMethod");function nmt(e){let t=JSON.stringify(e);if(t===void 0)throw new TypeError("Value is not JSON serializable");return Q4(typeof t=="string"),t}o(nmt,"serializeJavascriptValueToJSONString");var imt=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));function _6e(e,t,r=0,n=1){class i{static{o(this,"FastIterableIterator")}#e;#t;#i;constructor(a,l){this.#e=a,this.#t=l,this.#i=0}next(){if(typeof this!="object"||this===null||!(#e in this))throw new TypeError(`'next' called on an object that does not implement interface ${e} Iterator.`);let a=this.#i,l=this.#e[t],c=l.length;if(a>=c)return{value:void 0,done:!0};let{[r]:u,[n]:f}=l[a];this.#i=a+1;let m;switch(this.#t){case"key":m=u;break;case"value":m=f;break;case"key+value":m=[u,f];break}return{value:m,done:!1}}}return delete i.prototype.constructor,Object.setPrototypeOf(i.prototype,imt),Object.defineProperties(i.prototype,{[Symbol.toStringTag]:{writable:!1,enumerable:!1,configurable:!0,value:`${e} Iterator`},next:{writable:!0,enumerable:!0,configurable:!0}}),function(s,a){return new i(s,a)}}o(_6e,"createIterator");function omt(e,t,r,n=0,i=1){let s=_6e(e,r,n,i),a={keys:{writable:!0,enumerable:!0,configurable:!0,value:o(function(){return $w.brandCheck(this,t),s(this,"key")},"keys")},values:{writable:!0,enumerable:!0,configurable:!0,value:o(function(){return $w.brandCheck(this,t),s(this,"value")},"values")},entries:{writable:!0,enumerable:!0,configurable:!0,value:o(function(){return $w.brandCheck(this,t),s(this,"key+value")},"entries")},forEach:{writable:!0,enumerable:!0,configurable:!0,value:o(function(c,u=globalThis){if($w.brandCheck(this,t),$w.argumentLengthCheck(arguments,1,`${e}.forEach`),typeof c!="function")throw new TypeError(`Failed to execute 'forEach' on '${e}': parameter 1 is not of type 'Function'.`);for(let{0:f,1:m}of s(this,"key+value"))c.call(u,m,f,this)},"forEach")}};return Object.defineProperties(t.prototype,{...a,[Symbol.iterator]:{writable:!0,enumerable:!1,configurable:!0,value:a.entries.value}})}o(omt,"iteratorMixin");async function smt(e,t,r){let n=t,i=r,s;try{s=e.stream.getReader()}catch(a){i(a);return}try{n(await k6e(s))}catch(a){i(a)}}o(smt,"fullyReadBody");function amt(e){return e instanceof ReadableStream||e[Symbol.toStringTag]==="ReadableStream"&&typeof e.tee=="function"}o(amt,"isReadableStreamLike");function lmt(e){try{e.close(),e.byobRequest?.respond(0)}catch(t){if(!t.message.includes("Controller is already closed")&&!t.message.includes("ReadableStream is already closed"))throw t}}o(lmt,"readableStreamClose");var cmt=/[^\x00-\xFF]/;function sO(e){return Q4(!cmt.test(e)),e}o(sO,"isomorphicEncode");async function k6e(e){let t=[],r=0;for(;;){let{done:n,value:i}=await e.read();if(n)return Buffer.concat(t,r);if(!kdt(i))throw new TypeError("Received non-Uint8Array chunk");t.push(i),r+=i.length}}o(k6e,"readAllBytes");function umt(e){Q4("protocol"in e);let t=e.protocol;return t==="about:"||t==="blob:"||t==="data:"}o(umt,"urlIsLocal");function Bre(e){return typeof e=="string"&&e[5]===":"&&e[0]==="h"&&e[1]==="t"&&e[2]==="t"&&e[3]==="p"&&e[4]==="s"||e.protocol==="https:"}o(Bre,"urlHasHttpsScheme");function B6e(e){Q4("protocol"in e);let t=e.protocol;return t==="http:"||t==="https:"}o(B6e,"urlIsHttpHttpsScheme");function fmt(e,t){let r=e;if(!r.startsWith("bytes"))return"failure";let n={position:5};if(t&&L4(c=>c==="	"||c===" ",r,n),r.charCodeAt(n.position)!==61)return"failure";n.position++,t&&L4(c=>c==="	"||c===" ",r,n);let i=L4(c=>{let u=c.charCodeAt(0);return u>=48&&u<=57},r,n),s=i.length?Number(i):null;if(t&&L4(c=>c==="	"||c===" ",r,n),r.charCodeAt(n.position)!==45)return"failure";n.position++,t&&L4(c=>c==="	"||c===" ",r,n);let a=L4(c=>{let u=c.charCodeAt(0);return u>=48&&u<=57},r,n),l=a.length?Number(a):null;return n.position<r.length||l===null&&s===null||s>l?"failure":{rangeStartValue:s,rangeEndValue:l}}o(fmt,"simpleRangeHeaderValue");function dmt(e,t,r){let n="bytes ";return n+=sO(`${e}`),n+="-",n+=sO(`${t}`),n+="/",n+=sO(`${r}`),n}o(dmt,"buildContentRange");var Rre=class extends ydt{static{o(this,"InflateStream")}#e;constructor(t){super(),this.#e=t}_transform(t,r,n){if(!this._inflateStream){if(t.length===0){n();return}this._inflateStream=(t[0]&15)===8?C6e.createInflate(this.#e):C6e.createInflateRaw(this.#e),this._inflateStream.on("data",this.push.bind(this)),this._inflateStream.on("end",()=>this.push(null)),this._inflateStream.on("error",i=>this.destroy(i))}this._inflateStream.write(t,r,n)}_final(t){this._inflateStream&&(this._inflateStream.end(),this._inflateStream=null),t()}};function mmt(e){return new Rre(e)}o(mmt,"createInflate");function hmt(e){let t=null,r=null,n=null,i=R6e("content-type",e);if(i===null)return"failure";for(let s of i){let a=Idt(s);a==="failure"||a.essence==="*/*"||(n=a,n.essence!==r?(t=null,n.parameters.has("charset")&&(t=n.parameters.get("charset")),r=n.essence):!n.parameters.has("charset")&&t!==null&&n.parameters.set("charset",t))}return n??"failure"}o(hmt,"extractMimeType");function pmt(e){let t=e,r={position:0},n=[],i="";for(;r.position<t.length;){if(i+=L4(s=>s!=='"'&&s!==",",t,r),r.position<t.length)if(t.charCodeAt(r.position)===34){if(i+=bdt(t,r),r.position<t.length)continue}else Q4(t.charCodeAt(r.position)===44),r.position++;i=vdt(i,!0,!0,s=>s===9||s===32),n.push(i),i=""}return n}o(pmt,"gettingDecodingSplitting");function R6e(e,t){let r=t.get(e,!0);return r===null?null:pmt(r)}o(R6e,"getDecodeSplit");var gmt=new TextDecoder;function Amt(e){return e.length===0?"":(e[0]===239&&e[1]===187&&e[2]===191&&(e=e.subarray(3)),gmt.decode(e))}o(Amt,"utf8DecodeBytes");var Dre=class{static{o(this,"EnvironmentSettingsObjectBase")}get baseUrl(){return x6e()}get origin(){return this.baseUrl?.origin}policyContainer=w6e()},Pre=class{static{o(this,"EnvironmentSettingsObject")}settingsObject=new Dre},ymt=new Pre;D6e.exports={isAborted:emt,isCancelled:tmt,isValidEncodedURL:I6e,createDeferredPromise:Zdt,ReadableStreamFrom:Sdt,tryUpgradeRequestToAPotentiallyTrustworthyURL:Xdt,clampAndCoarsenConnectionTimingInfo:Wdt,coarsenedSharedCurrentTime:Gdt,determineRequestsReferrer:jdt,makePolicyContainer:w6e,clonePolicyContainer:Vdt,appendFetchMetadata:Udt,appendRequestOriginHeader:qdt,TAOCheck:Odt,corsCheck:Mdt,crossOriginResourcePolicyCheck:Qdt,createOpaqueTimingInfo:Hdt,setRequestReferrerPolicyOnRedirect:Ldt,isValidHTTPToken:E6e,requestBadPort:Ddt,requestCurrentURL:Yw,responseURL:v6e,responseLocationURL:Bdt,isBlobLike:wdt,isURLPotentiallyTrustworthy:zw,isValidReasonPhrase:Fdt,sameOrigin:lO,normalizeMethod:rmt,serializeJavascriptValueToJSONString:nmt,iteratorMixin:omt,createIterator:_6e,isValidHeaderName:Ndt,isValidHeaderValue:T6e,isErrorLike:Pdt,fullyReadBody:smt,bytesMatch:$dt,isReadableStreamLike:amt,readableStreamClose:lmt,isomorphicEncode:sO,urlIsLocal:umt,urlHasHttpsScheme:Bre,urlIsHttpHttpsScheme:B6e,readAllBytes:k6e,simpleRangeHeaderValue:fmt,buildContentRange:dmt,parseMetadata:S6e,createInflate:mmt,extractMimeType:hmt,getDecodeSplit:R6e,utf8DecodeBytes:Amt,environmentSettingsObject:ymt}});var ly=V((CMr,P6e)=>{"use strict";d();P6e.exports={kUrl:Symbol("url"),kHeaders:Symbol("headers"),kSignal:Symbol("signal"),kState:Symbol("state"),kDispatcher:Symbol("dispatcher")}});var Nre=V((EMr,F6e)=>{"use strict";d();var{Blob:Cmt,File:xmt}=require("node:buffer"),{kState:z1}=ly(),{webidl:Up}=zl(),Fre=class e{static{o(this,"FileLike")}constructor(t,r,n={}){let i=r,s=n.type,a=n.lastModified??Date.now();this[z1]={blobLike:t,name:i,type:s,lastModified:a}}stream(...t){return Up.brandCheck(this,e),this[z1].blobLike.stream(...t)}arrayBuffer(...t){return Up.brandCheck(this,e),this[z1].blobLike.arrayBuffer(...t)}slice(...t){return Up.brandCheck(this,e),this[z1].blobLike.slice(...t)}text(...t){return Up.brandCheck(this,e),this[z1].blobLike.text(...t)}get size(){return Up.brandCheck(this,e),this[z1].blobLike.size}get type(){return Up.brandCheck(this,e),this[z1].blobLike.type}get name(){return Up.brandCheck(this,e),this[z1].name}get lastModified(){return Up.brandCheck(this,e),this[z1].lastModified}get[Symbol.toStringTag](){return"File"}};Up.converters.Blob=Up.interfaceConverter(Cmt);function Emt(e){return e instanceof xmt||e&&(typeof e.stream=="function"||typeof e.arrayBuffer=="function")&&e[Symbol.toStringTag]==="File"}o(Emt,"isFileLike");F6e.exports={FileLike:Fre,isFileLike:Emt}});var Jw=V((IMr,O6e)=>{"use strict";d();var{isBlobLike:cO,iteratorMixin:bmt}=Xu(),{kState:ec}=ly(),{kEnumerableProperty:VI}=ci(),{FileLike:N6e,isFileLike:vmt}=Nre(),{webidl:Oo}=zl(),{File:M6e}=require("node:buffer"),L6e=require("node:util"),Q6e=globalThis.File??M6e,Kw=class e{static{o(this,"FormData")}constructor(t){if(Oo.util.markAsUncloneable(this),t!==void 0)throw Oo.errors.conversionFailed({prefix:"FormData constructor",argument:"Argument 1",types:["undefined"]});this[ec]=[]}append(t,r,n=void 0){Oo.brandCheck(this,e);let i="FormData.append";if(Oo.argumentLengthCheck(arguments,2,i),arguments.length===3&&!cO(r))throw new TypeError("Failed to execute 'append' on 'FormData': parameter 2 is not of type 'Blob'");t=Oo.converters.USVString(t,i,"name"),r=cO(r)?Oo.converters.Blob(r,i,"value",{strict:!1}):Oo.converters.USVString(r,i,"value"),n=arguments.length===3?Oo.converters.USVString(n,i,"filename"):void 0;let s=Lre(t,r,n);this[ec].push(s)}delete(t){Oo.brandCheck(this,e);let r="FormData.delete";Oo.argumentLengthCheck(arguments,1,r),t=Oo.converters.USVString(t,r,"name"),this[ec]=this[ec].filter(n=>n.name!==t)}get(t){Oo.brandCheck(this,e);let r="FormData.get";Oo.argumentLengthCheck(arguments,1,r),t=Oo.converters.USVString(t,r,"name");let n=this[ec].findIndex(i=>i.name===t);return n===-1?null:this[ec][n].value}getAll(t){Oo.brandCheck(this,e);let r="FormData.getAll";return Oo.argumentLengthCheck(arguments,1,r),t=Oo.converters.USVString(t,r,"name"),this[ec].filter(n=>n.name===t).map(n=>n.value)}has(t){Oo.brandCheck(this,e);let r="FormData.has";return Oo.argumentLengthCheck(arguments,1,r),t=Oo.converters.USVString(t,r,"name"),this[ec].findIndex(n=>n.name===t)!==-1}set(t,r,n=void 0){Oo.brandCheck(this,e);let i="FormData.set";if(Oo.argumentLengthCheck(arguments,2,i),arguments.length===3&&!cO(r))throw new TypeError("Failed to execute 'set' on 'FormData': parameter 2 is not of type 'Blob'");t=Oo.converters.USVString(t,i,"name"),r=cO(r)?Oo.converters.Blob(r,i,"name",{strict:!1}):Oo.converters.USVString(r,i,"name"),n=arguments.length===3?Oo.converters.USVString(n,i,"name"):void 0;let s=Lre(t,r,n),a=this[ec].findIndex(l=>l.name===t);a!==-1?this[ec]=[...this[ec].slice(0,a),s,...this[ec].slice(a+1).filter(l=>l.name!==t)]:this[ec].push(s)}[L6e.inspect.custom](t,r){let n=this[ec].reduce((s,a)=>(s[a.name]?Array.isArray(s[a.name])?s[a.name].push(a.value):s[a.name]=[s[a.name],a.value]:s[a.name]=a.value,s),{__proto__:null});r.depth??=t,r.colors??=!0;let i=L6e.formatWithOptions(r,n);return`FormData ${i.slice(i.indexOf("]")+2)}`}};bmt("FormData",Kw,ec,"name","value");Object.defineProperties(Kw.prototype,{append:VI,delete:VI,get:VI,getAll:VI,has:VI,set:VI,[Symbol.toStringTag]:{value:"FormData",configurable:!0}});function Lre(e,t,r){if(typeof t!="string"){if(vmt(t)||(t=t instanceof Blob?new Q6e([t],"blob",{type:t.type}):new N6e(t,"blob",{type:t.type})),r!==void 0){let n={type:t.type,lastModified:t.lastModified};t=t instanceof M6e?new Q6e([t],r,n):new N6e(t,r,n)}}return{name:e,value:t}}o(Lre,"makeEntry");O6e.exports={FormData:Kw,makeEntry:Lre}});var V6e=V((SMr,H6e)=>{"use strict";d();var{isUSVString:U6e,bufferToLowerCasedHeaderName:Imt}=ci(),{utf8DecodeBytes:Tmt}=Xu(),{HTTP_TOKEN_CODEPOINTS:wmt,isomorphicDecode:q6e}=Kc(),{isFileLike:Smt}=Nre(),{makeEntry:_mt}=Jw(),uO=require("node:assert"),{File:kmt}=require("node:buffer"),Bmt=globalThis.File??kmt,Rmt=Buffer.from('form-data; name="'),W6e=Buffer.from("; filename"),Dmt=Buffer.from("--"),Pmt=Buffer.from(`--\r
`);function Fmt(e){for(let t=0;t<e.length;++t)if((e.charCodeAt(t)&-128)!==0)return!1;return!0}o(Fmt,"isAsciiString");function Nmt(e){let t=e.length;if(t<27||t>70)return!1;for(let r=0;r<t;++r){let n=e.charCodeAt(r);if(!(n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122||n===39||n===45||n===95))return!1}return!0}o(Nmt,"validateBoundary");function Lmt(e,t){uO(t!=="failure"&&t.essence==="multipart/form-data");let r=t.parameters.get("boundary");if(r===void 0)return"failure";let n=Buffer.from(`--${r}`,"utf8"),i=[],s={position:0};for(;e[s.position]===13&&e[s.position+1]===10;)s.position+=2;let a=e.length;for(;e[a-1]===10&&e[a-2]===13;)a-=2;for(a!==e.length&&(e=e.subarray(0,a));;){if(e.subarray(s.position,s.position+n.length).equals(n))s.position+=n.length;else return"failure";if(s.position===e.length-2&&fO(e,Dmt,s)||s.position===e.length-4&&fO(e,Pmt,s))return i;if(e[s.position]!==13||e[s.position+1]!==10)return"failure";s.position+=2;let l=Qmt(e,s);if(l==="failure")return"failure";let{name:c,filename:u,contentType:f,encoding:m}=l;s.position+=2;let h;{let A=e.indexOf(n.subarray(2),s.position);if(A===-1)return"failure";h=e.subarray(s.position,A-4),s.position+=h.length,m==="base64"&&(h=Buffer.from(h.toString(),"base64"))}if(e[s.position]!==13||e[s.position+1]!==10)return"failure";s.position+=2;let p;u!==null?(f??="text/plain",Fmt(f)||(f=""),p=new Bmt([h],u,{type:f})):p=Tmt(Buffer.from(h)),uO(U6e(c)),uO(typeof p=="string"&&U6e(p)||Smt(p)),i.push(_mt(c,p,u))}}o(Lmt,"multipartFormDataParser");function Qmt(e,t){let r=null,n=null,i=null,s=null;for(;;){if(e[t.position]===13&&e[t.position+1]===10)return r===null?"failure":{name:r,filename:n,contentType:i,encoding:s};let a=jI(l=>l!==10&&l!==13&&l!==58,e,t);if(a=Qre(a,!0,!0,l=>l===9||l===32),!wmt.test(a.toString())||e[t.position]!==58)return"failure";switch(t.position++,jI(l=>l===32||l===9,e,t),Imt(a)){case"content-disposition":{if(r=n=null,!fO(e,Rmt,t)||(t.position+=17,r=G6e(e,t),r===null))return"failure";if(fO(e,W6e,t)){let l=t.position+W6e.length;if(e[l]===42&&(t.position+=1,l+=1),e[l]!==61||e[l+1]!==34||(t.position+=12,n=G6e(e,t),n===null))return"failure"}break}case"content-type":{let l=jI(c=>c!==10&&c!==13,e,t);l=Qre(l,!1,!0,c=>c===9||c===32),i=q6e(l);break}case"content-transfer-encoding":{let l=jI(c=>c!==10&&c!==13,e,t);l=Qre(l,!1,!0,c=>c===9||c===32),s=q6e(l);break}default:jI(l=>l!==10&&l!==13,e,t)}if(e[t.position]!==13&&e[t.position+1]!==10)return"failure";t.position+=2}}o(Qmt,"parseMultipartFormDataHeaders");function G6e(e,t){uO(e[t.position-1]===34);let r=jI(n=>n!==10&&n!==13&&n!==34,e,t);return e[t.position]!==34?null:(t.position++,r=new TextDecoder().decode(r).replace(/%0A/ig,`
`).replace(/%0D/ig,"\r").replace(/%22/g,'"'),r)}o(G6e,"parseMultipartFormDataName");function jI(e,t,r){let n=r.position;for(;n<t.length&&e(t[n]);)++n;return t.subarray(r.position,r.position=n)}o(jI,"collectASequenceOfBytes");function Qre(e,t,r,n){let i=0,s=e.length-1;if(t)for(;i<e.length&&n(e[i]);)i++;if(r)for(;s>0&&n(e[s]);)s--;return i===0&&s===e.length-1?e:e.subarray(i,s+1)}o(Qre,"removeChars");function fO(e,t,r){if(e.length<t.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[r.position+n])return!1;return!0}o(fO,"bufferStartsWith");H6e.exports={multipartFormDataParser:Lmt,validateBoundary:Nmt}});var YI=V((BMr,Z6e)=>{"use strict";d();var Xw=ci(),{ReadableStreamFrom:Mmt,isBlobLike:j6e,isReadableStreamLike:Omt,readableStreamClose:Umt,createDeferredPromise:qmt,fullyReadBody:Wmt,extractMimeType:Gmt,utf8DecodeBytes:Y6e}=Xu(),{FormData:$6e}=Jw(),{kState:zI}=ly(),{webidl:Hmt}=zl(),{Blob:Vmt}=require("node:buffer"),Mre=require("node:assert"),{isErrored:K6e,isDisturbed:jmt}=require("node:stream"),{isArrayBuffer:$mt}=require("node:util/types"),{serializeAMimeType:zmt}=Kc(),{multipartFormDataParser:Ymt}=V6e(),Ore;try{let e=require("node:crypto");Ore=o(t=>e.randomInt(0,t),"random")}catch{Ore=o(e=>Math.floor(Math.random(e)),"random")}var dO=new TextEncoder;function Kmt(){}o(Kmt,"noop");var Ure=globalThis.FinalizationRegistry&&process.version.indexOf("v18")!==0,qre;Ure&&(qre=new FinalizationRegistry(e=>{let t=e.deref();t&&!t.locked&&!jmt(t)&&!K6e(t)&&t.cancel("Response object has been garbage collected").catch(Kmt)}));function J6e(e,t=!1){let r=null;e instanceof ReadableStream?r=e:j6e(e)?r=e.stream():r=new ReadableStream({async pull(c){let u=typeof i=="string"?dO.encode(i):i;u.byteLength&&c.enqueue(u),queueMicrotask(()=>Umt(c))},start(){},type:"bytes"}),Mre(Omt(r));let n=null,i=null,s=null,a=null;if(typeof e=="string")i=e,a="text/plain;charset=UTF-8";else if(e instanceof URLSearchParams)i=e.toString(),a="application/x-www-form-urlencoded;charset=UTF-8";else if($mt(e))i=new Uint8Array(e.slice());else if(ArrayBuffer.isView(e))i=new Uint8Array(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength));else if(Xw.isFormDataLike(e)){let c=`----formdata-undici-0${`${Ore(1e11)}`.padStart(11,"0")}`,u=`--${c}\r
Content-Disposition: form-data`;let f=o(E=>E.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),"escape"),m=o(E=>E.replace(/\r?\n|\r/g,`\r
`),"normalizeLinefeeds"),h=[],p=new Uint8Array([13,10]);s=0;let A=!1;for(let[E,v]of e)if(typeof v=="string"){let b=dO.encode(u+`; name="${f(m(E))}"\r
\r
${m(v)}\r
`);h.push(b),s+=b.byteLength}else{let b=dO.encode(`${u}; name="${f(m(E))}"`+(v.name?`; filename="${f(v.name)}"`:"")+`\r
Content-Type: ${v.type||"application/octet-stream"}\r
\r
`);h.push(b,v,p),typeof v.size=="number"?s+=b.byteLength+v.size+p.byteLength:A=!0}let x=dO.encode(`--${c}--`);h.push(x),s+=x.byteLength,A&&(s=null),i=e,n=o(async function*(){for(let E of h)E.stream?yield*E.stream():yield E},"action"),a=`multipart/form-data; boundary=${c}`}else if(j6e(e))i=e,s=e.size,e.type&&(a=e.type);else if(typeof e[Symbol.asyncIterator]=="function"){if(t)throw new TypeError("keepalive");if(Xw.isDisturbed(e)||e.locked)throw new TypeError("Response body object should not be disturbed or locked");r=e instanceof ReadableStream?e:Mmt(e)}if((typeof i=="string"||Xw.isBuffer(i))&&(s=Buffer.byteLength(i)),n!=null){let c;r=new ReadableStream({async start(){c=n(e)[Symbol.asyncIterator]()},async pull(u){let{value:f,done:m}=await c.next();if(m)queueMicrotask(()=>{u.close(),u.byobRequest?.respond(0)});else if(!K6e(r)){let h=new Uint8Array(f);h.byteLength&&u.enqueue(h)}return u.desiredSize>0},async cancel(u){await c.return()},type:"bytes"})}return[{stream:r,source:i,length:s},a]}o(J6e,"extractBody");function Jmt(e,t=!1){return e instanceof ReadableStream&&(Mre(!Xw.isDisturbed(e),"The body has already been consumed."),Mre(!e.locked,"The stream is locked.")),J6e(e,t)}o(Jmt,"safelyExtractBody");function Xmt(e,t){let[r,n]=t.stream.tee();return Ure&&qre.register(e,new WeakRef(r)),t.stream=r,{stream:n,length:t.length,source:t.source}}o(Xmt,"cloneBody");function Zmt(e){if(e.aborted)throw new DOMException("The operation was aborted.","AbortError")}o(Zmt,"throwIfAborted");function eht(e){return{blob(){return $I(this,r=>{let n=z6e(this);return n===null?n="":n&&(n=zmt(n)),new Vmt([r],{type:n})},e)},arrayBuffer(){return $I(this,r=>new Uint8Array(r).buffer,e)},text(){return $I(this,Y6e,e)},json(){return $I(this,rht,e)},formData(){return $I(this,r=>{let n=z6e(this);if(n!==null)switch(n.essence){case"multipart/form-data":{let i=Ymt(r,n);if(i==="failure")throw new TypeError("Failed to parse body as FormData.");let s=new $6e;return s[zI]=i,s}case"application/x-www-form-urlencoded":{let i=new URLSearchParams(r.toString()),s=new $6e;for(let[a,l]of i)s.append(a,l);return s}}throw new TypeError('Content-Type was not one of "multipart/form-data" or "application/x-www-form-urlencoded".')},e)},bytes(){return $I(this,r=>new Uint8Array(r),e)}}}o(eht,"bodyMixinMethods");function tht(e){Object.assign(e.prototype,eht(e))}o(tht,"mixinBody");async function $I(e,t,r){if(Hmt.brandCheck(e,r),X6e(e))throw new TypeError("Body is unusable: Body has already been read");Zmt(e[zI]);let n=qmt(),i=o(a=>n.reject(a),"errorSteps"),s=o(a=>{try{n.resolve(t(a))}catch(l){i(l)}},"successSteps");return e[zI].body==null?(s(Buffer.allocUnsafe(0)),n.promise):(await Wmt(e[zI].body,s,i),n.promise)}o($I,"consumeBody");function X6e(e){let t=e[zI].body;return t!=null&&(t.stream.locked||Xw.isDisturbed(t.stream))}o(X6e,"bodyUnusable");function rht(e){return JSON.parse(Y6e(e))}o(rht,"parseJSONFromBytes");function z6e(e){let t=e[zI].headersList,r=Gmt(t);return r==="failure"?null:r}o(z6e,"bodyMimeType");Z6e.exports={extractBody:J6e,safelyExtractBody:Jmt,cloneBody:Xmt,mixinBody:tht,streamRegistry:qre,hasFinalizationRegistry:Ure,bodyUnusable:X6e}});var u9e=V((PMr,c9e)=>{"use strict";d();var mn=require("node:assert"),Nn=ci(),{channels:e9e}=LI(),Wre=Ere(),{RequestContentLengthMismatchError:M4,ResponseContentLengthMismatchError:nht,RequestAbortedError:s9e,HeadersTimeoutError:iht,HeadersOverflowError:oht,SocketError:yO,InformationalError:KI,BodyTimeoutError:sht,HTTPParserError:aht,ResponseExceededMaxSizeError:lht}=so(),{kUrl:a9e,kReset:Jc,kClient:jre,kParser:Ks,kBlocking:tS,kRunning:S0,kPending:cht,kSize:t9e,kWriting:uy,kQueue:$m,kNoRef:Zw,kKeepAliveDefaultTimeout:uht,kHostHeader:fht,kPendingIdx:dht,kRunningIdx:Cd,kError:xd,kPipelining:gO,kSocket:JI,kKeepAliveTimeoutValue:CO,kMaxHeadersSize:Gre,kKeepAliveMaxTimeout:mht,kKeepAliveTimeoutThreshold:hht,kHeadersTimeout:pht,kBodyTimeout:ght,kStrictContentLength:$re,kMaxRequests:r9e,kCounter:Aht,kMaxResponseSize:yht,kOnError:Cht,kResume:cy,kHTTPContext:l9e}=vs(),qp=X8e(),xht=Buffer.alloc(0),mO=Buffer[Symbol.species],hO=Nn.addListener,Eht=Nn.removeAllListeners,Hre;async function bht(){let e=process.env.JEST_WORKER_ID?Ire():void 0,t;try{t=await WebAssembly.compile(t6e())}catch{t=await WebAssembly.compile(e||Ire())}return await WebAssembly.instantiate(t,{env:{wasm_on_url:o((r,n,i)=>0,"wasm_on_url"),wasm_on_status:o((r,n,i)=>{mn(Xa.ptr===r);let s=n-Gp+Wp.byteOffset;return Xa.onStatus(new mO(Wp.buffer,s,i))||0},"wasm_on_status"),wasm_on_message_begin:o(r=>(mn(Xa.ptr===r),Xa.onMessageBegin()||0),"wasm_on_message_begin"),wasm_on_header_field:o((r,n,i)=>{mn(Xa.ptr===r);let s=n-Gp+Wp.byteOffset;return Xa.onHeaderField(new mO(Wp.buffer,s,i))||0},"wasm_on_header_field"),wasm_on_header_value:o((r,n,i)=>{mn(Xa.ptr===r);let s=n-Gp+Wp.byteOffset;return Xa.onHeaderValue(new mO(Wp.buffer,s,i))||0},"wasm_on_header_value"),wasm_on_headers_complete:o((r,n,i,s)=>(mn(Xa.ptr===r),Xa.onHeadersComplete(n,!!i,!!s)||0),"wasm_on_headers_complete"),wasm_on_body:o((r,n,i)=>{mn(Xa.ptr===r);let s=n-Gp+Wp.byteOffset;return Xa.onBody(new mO(Wp.buffer,s,i))||0},"wasm_on_body"),wasm_on_message_complete:o(r=>(mn(Xa.ptr===r),Xa.onMessageComplete()||0),"wasm_on_message_complete")}})}o(bht,"lazyllhttp");var Vre=null,zre=bht();zre.catch();var Xa=null,Wp=null,pO=0,Gp=null,vht=0,eS=1,XI=2|eS,AO=4|eS,Yre=8|vht,Kre=class{static{o(this,"Parser")}constructor(t,r,{exports:n}){mn(Number.isFinite(t[Gre])&&t[Gre]>0),this.llhttp=n,this.ptr=this.llhttp.llhttp_alloc(qp.TYPE.RESPONSE),this.client=t,this.socket=r,this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.statusCode=null,this.statusText="",this.upgrade=!1,this.headers=[],this.headersSize=0,this.headersMaxSize=t[Gre],this.shouldKeepAlive=!1,this.paused=!1,this.resume=this.resume.bind(this),this.bytesRead=0,this.keepAlive="",this.contentLength="",this.connection="",this.maxResponseSize=t[yht]}setTimeout(t,r){t!==this.timeoutValue||r&eS^this.timeoutType&eS?(this.timeout&&(Wre.clearTimeout(this.timeout),this.timeout=null),t&&(r&eS?this.timeout=Wre.setFastTimeout(n9e,t,new WeakRef(this)):(this.timeout=setTimeout(n9e,t,new WeakRef(this)),this.timeout.unref())),this.timeoutValue=t):this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.timeoutType=r}resume(){this.socket.destroyed||!this.paused||(mn(this.ptr!=null),mn(Xa==null),this.llhttp.llhttp_resume(this.ptr),mn(this.timeoutType===AO),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.paused=!1,this.execute(this.socket.read()||xht),this.readMore())}readMore(){for(;!this.paused&&this.ptr;){let t=this.socket.read();if(t===null)break;this.execute(t)}}execute(t){mn(this.ptr!=null),mn(Xa==null),mn(!this.paused);let{socket:r,llhttp:n}=this;t.length>pO&&(Gp&&n.free(Gp),pO=Math.ceil(t.length/4096)*4096,Gp=n.malloc(pO)),new Uint8Array(n.memory.buffer,Gp,pO).set(t);try{let i;try{Wp=t,Xa=this,i=n.llhttp_execute(this.ptr,Gp,t.length)}catch(a){throw a}finally{Xa=null,Wp=null}let s=n.llhttp_get_error_pos(this.ptr)-Gp;if(i===qp.ERROR.PAUSED_UPGRADE)this.onUpgrade(t.slice(s));else if(i===qp.ERROR.PAUSED)this.paused=!0,r.unshift(t.slice(s));else if(i!==qp.ERROR.OK){let a=n.llhttp_get_error_reason(this.ptr),l="";if(a){let c=new Uint8Array(n.memory.buffer,a).indexOf(0);l="Response does not match the HTTP/1.1 protocol ("+Buffer.from(n.memory.buffer,a,c).toString()+")"}throw new aht(l,qp.ERROR[i],t.slice(s))}}catch(i){Nn.destroy(r,i)}}destroy(){mn(this.ptr!=null),mn(Xa==null),this.llhttp.llhttp_free(this.ptr),this.ptr=null,this.timeout&&Wre.clearTimeout(this.timeout),this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.paused=!1}onStatus(t){this.statusText=t.toString()}onMessageBegin(){let{socket:t,client:r}=this;if(t.destroyed)return-1;let n=r[$m][r[Cd]];if(!n)return-1;n.onResponseStarted()}onHeaderField(t){let r=this.headers.length;(r&1)===0?this.headers.push(t):this.headers[r-1]=Buffer.concat([this.headers[r-1],t]),this.trackHeader(t.length)}onHeaderValue(t){let r=this.headers.length;(r&1)===1?(this.headers.push(t),r+=1):this.headers[r-1]=Buffer.concat([this.headers[r-1],t]);let n=this.headers[r-2];if(n.length===10){let i=Nn.bufferToLowerCasedHeaderName(n);i==="keep-alive"?this.keepAlive+=t.toString():i==="connection"&&(this.connection+=t.toString())}else n.length===14&&Nn.bufferToLowerCasedHeaderName(n)==="content-length"&&(this.contentLength+=t.toString());this.trackHeader(t.length)}trackHeader(t){this.headersSize+=t,this.headersSize>=this.headersMaxSize&&Nn.destroy(this.socket,new oht)}onUpgrade(t){let{upgrade:r,client:n,socket:i,headers:s,statusCode:a}=this;mn(r),mn(n[JI]===i),mn(!i.destroyed),mn(!this.paused),mn((s.length&1)===0);let l=n[$m][n[Cd]];mn(l),mn(l.upgrade||l.method==="CONNECT"),this.statusCode=null,this.statusText="",this.shouldKeepAlive=null,this.headers=[],this.headersSize=0,i.unshift(t),i[Ks].destroy(),i[Ks]=null,i[jre]=null,i[xd]=null,Eht(i),n[JI]=null,n[l9e]=null,n[$m][n[Cd]++]=null,n.emit("disconnect",n[a9e],[n],new KI("upgrade"));try{l.onUpgrade(a,s,i)}catch(c){Nn.destroy(i,c)}n[cy]()}onHeadersComplete(t,r,n){let{client:i,socket:s,headers:a,statusText:l}=this;if(s.destroyed)return-1;let c=i[$m][i[Cd]];if(!c)return-1;if(mn(!this.upgrade),mn(this.statusCode<200),t===100)return Nn.destroy(s,new yO("bad response",Nn.getSocketInfo(s))),-1;if(r&&!c.upgrade)return Nn.destroy(s,new yO("bad upgrade",Nn.getSocketInfo(s))),-1;if(mn(this.timeoutType===XI),this.statusCode=t,this.shouldKeepAlive=n||c.method==="HEAD"&&!s[Jc]&&this.connection.toLowerCase()==="keep-alive",this.statusCode>=200){let f=c.bodyTimeout!=null?c.bodyTimeout:i[ght];this.setTimeout(f,AO)}else this.timeout&&this.timeout.refresh&&this.timeout.refresh();if(c.method==="CONNECT")return mn(i[S0]===1),this.upgrade=!0,2;if(r)return mn(i[S0]===1),this.upgrade=!0,2;if(mn((this.headers.length&1)===0),this.headers=[],this.headersSize=0,this.shouldKeepAlive&&i[gO]){let f=this.keepAlive?Nn.parseKeepAliveTimeout(this.keepAlive):null;if(f!=null){let m=Math.min(f-i[hht],i[mht]);m<=0?s[Jc]=!0:i[CO]=m}else i[CO]=i[uht]}else s[Jc]=!0;let u=c.onHeaders(t,a,this.resume,l)===!1;return c.aborted?-1:c.method==="HEAD"||t<200?1:(s[tS]&&(s[tS]=!1,i[cy]()),u?qp.ERROR.PAUSED:0)}onBody(t){let{client:r,socket:n,statusCode:i,maxResponseSize:s}=this;if(n.destroyed)return-1;let a=r[$m][r[Cd]];if(mn(a),mn(this.timeoutType===AO),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),mn(i>=200),s>-1&&this.bytesRead+t.length>s)return Nn.destroy(n,new lht),-1;if(this.bytesRead+=t.length,a.onData(t)===!1)return qp.ERROR.PAUSED}onMessageComplete(){let{client:t,socket:r,statusCode:n,upgrade:i,headers:s,contentLength:a,bytesRead:l,shouldKeepAlive:c}=this;if(r.destroyed&&(!n||c))return-1;if(i)return;mn(n>=100),mn((this.headers.length&1)===0);let u=t[$m][t[Cd]];if(mn(u),this.statusCode=null,this.statusText="",this.bytesRead=0,this.contentLength="",this.keepAlive="",this.connection="",this.headers=[],this.headersSize=0,!(n<200)){if(u.method!=="HEAD"&&a&&l!==parseInt(a,10))return Nn.destroy(r,new nht),-1;if(u.onComplete(s),t[$m][t[Cd]++]=null,r[uy])return mn(t[S0]===0),Nn.destroy(r,new KI("reset")),qp.ERROR.PAUSED;if(c){if(r[Jc]&&t[S0]===0)return Nn.destroy(r,new KI("reset")),qp.ERROR.PAUSED;t[gO]==null||t[gO]===1?setImmediate(()=>t[cy]()):t[cy]()}else return Nn.destroy(r,new KI("reset")),qp.ERROR.PAUSED}}};function n9e(e){let{socket:t,timeoutType:r,client:n,paused:i}=e.deref();r===XI?(!t[uy]||t.writableNeedDrain||n[S0]>1)&&(mn(!i,"cannot be paused while waiting for headers"),Nn.destroy(t,new iht)):r===AO?i||Nn.destroy(t,new sht):r===Yre&&(mn(n[S0]===0&&n[CO]),Nn.destroy(t,new KI("socket idle timeout")))}o(n9e,"onParserTimeout");async function Iht(e,t){e[JI]=t,Vre||(Vre=await zre,zre=null),t[Zw]=!1,t[uy]=!1,t[Jc]=!1,t[tS]=!1,t[Ks]=new Kre(e,t,Vre),hO(t,"error",function(n){mn(n.code!=="ERR_TLS_CERT_ALTNAME_INVALID");let i=this[Ks];if(n.code==="ECONNRESET"&&i.statusCode&&!i.shouldKeepAlive){i.onMessageComplete();return}this[xd]=n,this[jre][Cht](n)}),hO(t,"readable",function(){let n=this[Ks];n&&n.readMore()}),hO(t,"end",function(){let n=this[Ks];if(n.statusCode&&!n.shouldKeepAlive){n.onMessageComplete();return}Nn.destroy(this,new yO("other side closed",Nn.getSocketInfo(this)))}),hO(t,"close",function(){let n=this[jre],i=this[Ks];i&&(!this[xd]&&i.statusCode&&!i.shouldKeepAlive&&i.onMessageComplete(),this[Ks].destroy(),this[Ks]=null);let s=this[xd]||new yO("closed",Nn.getSocketInfo(this));if(n[JI]=null,n[l9e]=null,n.destroyed){mn(n[cht]===0);let a=n[$m].splice(n[Cd]);for(let l=0;l<a.length;l++){let c=a[l];Nn.errorRequest(n,c,s)}}else if(n[S0]>0&&s.code!=="UND_ERR_INFO"){let a=n[$m][n[Cd]];n[$m][n[Cd]++]=null,Nn.errorRequest(n,a,s)}n[dht]=n[Cd],mn(n[S0]===0),n.emit("disconnect",n[a9e],[n],s),n[cy]()});let r=!1;return t.on("close",()=>{r=!0}),{version:"h1",defaultPipelining:1,write(...n){return Sht(e,...n)},resume(){Tht(e)},destroy(n,i){r?queueMicrotask(i):t.destroy(n).on("close",i)},get destroyed(){return t.destroyed},busy(n){return!!(t[uy]||t[Jc]||t[tS]||n&&(e[S0]>0&&!n.idempotent||e[S0]>0&&(n.upgrade||n.method==="CONNECT")||e[S0]>0&&Nn.bodyLength(n.body)!==0&&(Nn.isStream(n.body)||Nn.isAsyncIterable(n.body)||Nn.isFormDataLike(n.body))))}}}o(Iht,"connectH1");function Tht(e){let t=e[JI];if(t&&!t.destroyed){if(e[t9e]===0?!t[Zw]&&t.unref&&(t.unref(),t[Zw]=!0):t[Zw]&&t.ref&&(t.ref(),t[Zw]=!1),e[t9e]===0)t[Ks].timeoutType!==Yre&&t[Ks].setTimeout(e[CO],Yre);else if(e[S0]>0&&t[Ks].statusCode<200&&t[Ks].timeoutType!==XI){let r=e[$m][e[Cd]],n=r.headersTimeout!=null?r.headersTimeout:e[pht];t[Ks].setTimeout(n,XI)}}}o(Tht,"resumeH1");function wht(e){return e!=="GET"&&e!=="HEAD"&&e!=="OPTIONS"&&e!=="TRACE"&&e!=="CONNECT"}o(wht,"shouldSendContentLength");function Sht(e,t){let{method:r,path:n,host:i,upgrade:s,blocking:a,reset:l}=t,{body:c,headers:u,contentLength:f}=t,m=r==="PUT"||r==="POST"||r==="PATCH"||r==="QUERY"||r==="PROPFIND"||r==="PROPPATCH";if(Nn.isFormDataLike(c)){Hre||(Hre=YI().extractBody);let[E,v]=Hre(c);t.contentType==null&&u.push("content-type",v),c=E.stream,f=E.length}else Nn.isBlobLike(c)&&t.contentType==null&&c.type&&u.push("content-type",c.type);c&&typeof c.read=="function"&&c.read(0);let h=Nn.bodyLength(c);if(f=h??f,f===null&&(f=t.contentLength),f===0&&!m&&(f=null),wht(r)&&f>0&&t.contentLength!==null&&t.contentLength!==f){if(e[$re])return Nn.errorRequest(e,t,new M4),!1;process.emitWarning(new M4)}let p=e[JI],A=o(E=>{t.aborted||t.completed||(Nn.errorRequest(e,t,E||new s9e),Nn.destroy(c),Nn.destroy(p,new KI("aborted")))},"abort");try{t.onConnect(A)}catch(E){Nn.errorRequest(e,t,E)}if(t.aborted)return!1;r==="HEAD"&&(p[Jc]=!0),(s||r==="CONNECT")&&(p[Jc]=!0),l!=null&&(p[Jc]=l),e[r9e]&&p[Aht]++>=e[r9e]&&(p[Jc]=!0),a&&(p[tS]=!0);let x=`${r} ${n} HTTP/1.1\r
`;if(typeof i=="string"?x+=`host: ${i}\r
`:x+=e[fht],s?x+=`connection: upgrade\r
upgrade: ${s}\r
`:e[gO]&&!p[Jc]?x+=`connection: keep-alive\r
`:x+=`connection: close\r
`,Array.isArray(u))for(let E=0;E<u.length;E+=2){let v=u[E+0],b=u[E+1];if(Array.isArray(b))for(let S=0;S<b.length;S++)x+=`${v}: ${b[S]}\r
`;else x+=`${v}: ${b}\r
`}return e9e.sendHeaders.hasSubscribers&&e9e.sendHeaders.publish({request:t,headers:x,socket:p}),!c||h===0?i9e(A,null,e,t,p,f,x,m):Nn.isBuffer(c)?i9e(A,c,e,t,p,f,x,m):Nn.isBlobLike(c)?typeof c.stream=="function"?o9e(A,c.stream(),e,t,p,f,x,m):kht(A,c,e,t,p,f,x,m):Nn.isStream(c)?_ht(A,c,e,t,p,f,x,m):Nn.isIterable(c)?o9e(A,c,e,t,p,f,x,m):mn(!1),!0}o(Sht,"writeH1");function _ht(e,t,r,n,i,s,a,l){mn(s!==0||r[S0]===0,"stream body cannot be pipelined");let c=!1,u=new xO({abort:e,socket:i,request:n,contentLength:s,client:r,expectsPayload:l,header:a}),f=o(function(A){if(!c)try{!u.write(A)&&this.pause&&this.pause()}catch(x){Nn.destroy(this,x)}},"onData"),m=o(function(){c||t.resume&&t.resume()},"onDrain"),h=o(function(){if(queueMicrotask(()=>{t.removeListener("error",p)}),!c){let A=new s9e;queueMicrotask(()=>p(A))}},"onClose"),p=o(function(A){if(!c){if(c=!0,mn(i.destroyed||i[uy]&&r[S0]<=1),i.off("drain",m).off("error",p),t.removeListener("data",f).removeListener("end",p).removeListener("close",h),!A)try{u.end()}catch(x){A=x}u.destroy(A),A&&(A.code!=="UND_ERR_INFO"||A.message!=="reset")?Nn.destroy(t,A):Nn.destroy(t)}},"onFinished");t.on("data",f).on("end",p).on("error",p).on("close",h),t.resume&&t.resume(),i.on("drain",m).on("error",p),t.errorEmitted??t.errored?setImmediate(()=>p(t.errored)):(t.endEmitted??t.readableEnded)&&setImmediate(()=>p(null)),(t.closeEmitted??t.closed)&&setImmediate(h)}o(_ht,"writeStream");function i9e(e,t,r,n,i,s,a,l){try{t?Nn.isBuffer(t)&&(mn(s===t.byteLength,"buffer body must have content length"),i.cork(),i.write(`${a}content-length: ${s}\r
\r
`,"latin1"),i.write(t),i.uncork(),n.onBodySent(t),!l&&n.reset!==!1&&(i[Jc]=!0)):s===0?i.write(`${a}content-length: 0\r
\r
`,"latin1"):(mn(s===null,"no body must not have content length"),i.write(`${a}\r
`,"latin1")),n.onRequestSent(),r[cy]()}catch(c){e(c)}}o(i9e,"writeBuffer");async function kht(e,t,r,n,i,s,a,l){mn(s===t.size,"blob body must have content length");try{if(s!=null&&s!==t.size)throw new M4;let c=Buffer.from(await t.arrayBuffer());i.cork(),i.write(`${a}content-length: ${s}\r
\r
`,"latin1"),i.write(c),i.uncork(),n.onBodySent(c),n.onRequestSent(),!l&&n.reset!==!1&&(i[Jc]=!0),r[cy]()}catch(c){e(c)}}o(kht,"writeBlob");async function o9e(e,t,r,n,i,s,a,l){mn(s!==0||r[S0]===0,"iterator body cannot be pipelined");let c=null;function u(){if(c){let h=c;c=null,h()}}o(u,"onDrain");let f=o(()=>new Promise((h,p)=>{mn(c===null),i[xd]?p(i[xd]):c=h}),"waitForDrain");i.on("close",u).on("drain",u);let m=new xO({abort:e,socket:i,request:n,contentLength:s,client:r,expectsPayload:l,header:a});try{for await(let h of t){if(i[xd])throw i[xd];m.write(h)||await f()}m.end()}catch(h){m.destroy(h)}finally{i.off("close",u).off("drain",u)}}o(o9e,"writeIterable");var xO=class{static{o(this,"AsyncWriter")}constructor({abort:t,socket:r,request:n,contentLength:i,client:s,expectsPayload:a,header:l}){this.socket=r,this.request=n,this.contentLength=i,this.client=s,this.bytesWritten=0,this.expectsPayload=a,this.header=l,this.abort=t,r[uy]=!0}write(t){let{socket:r,request:n,contentLength:i,client:s,bytesWritten:a,expectsPayload:l,header:c}=this;if(r[xd])throw r[xd];if(r.destroyed)return!1;let u=Buffer.byteLength(t);if(!u)return!0;if(i!==null&&a+u>i){if(s[$re])throw new M4;process.emitWarning(new M4)}r.cork(),a===0&&(!l&&n.reset!==!1&&(r[Jc]=!0),i===null?r.write(`${c}transfer-encoding: chunked\r
`,"latin1"):r.write(`${c}content-length: ${i}\r
\r
`,"latin1")),i===null&&r.write(`\r
${u.toString(16)}\r
`,"latin1"),this.bytesWritten+=u;let f=r.write(t);return r.uncork(),n.onBodySent(t),f||r[Ks].timeout&&r[Ks].timeoutType===XI&&r[Ks].timeout.refresh&&r[Ks].timeout.refresh(),f}end(){let{socket:t,contentLength:r,client:n,bytesWritten:i,expectsPayload:s,header:a,request:l}=this;if(l.onRequestSent(),t[uy]=!1,t[xd])throw t[xd];if(!t.destroyed){if(i===0?s?t.write(`${a}content-length: 0\r
\r
`,"latin1"):t.write(`${a}\r
`,"latin1"):r===null&&t.write(`\r
0\r
\r
`,"latin1"),r!==null&&i!==r){if(n[$re])throw new M4;process.emitWarning(new M4)}t[Ks].timeout&&t[Ks].timeoutType===XI&&t[Ks].timeout.refresh&&t[Ks].timeout.refresh(),n[cy]()}}destroy(t){let{socket:r,client:n,abort:i}=this;r[uy]=!1,t&&(mn(n[S0]<=1,"pipeline should only contain this request"),i(t))}};c9e.exports=Iht});var y9e=V((LMr,A9e)=>{"use strict";d();var Ed=require("node:assert"),{pipeline:Bht}=require("node:stream"),Ti=ci(),{RequestContentLengthMismatchError:Jre,RequestAbortedError:f9e,SocketError:rS,InformationalError:Xre}=so(),{kUrl:EO,kReset:vO,kClient:ZI,kRunning:IO,kPending:Rht,kQueue:fy,kPendingIdx:Zre,kRunningIdx:zm,kError:Km,kSocket:xl,kStrictContentLength:Dht,kOnError:ene,kMaxConcurrentStreams:g9e,kHTTP2Session:Ym,kResume:dy,kSize:Pht,kHTTPContext:Fht}=vs(),Y1=Symbol("open streams"),d9e,m9e=!1,bO;try{bO=require("node:http2")}catch{bO={constants:{}}}var{constants:{HTTP2_HEADER_AUTHORITY:Nht,HTTP2_HEADER_METHOD:Lht,HTTP2_HEADER_PATH:Qht,HTTP2_HEADER_SCHEME:Mht,HTTP2_HEADER_CONTENT_LENGTH:Oht,HTTP2_HEADER_EXPECT:Uht,HTTP2_HEADER_STATUS:qht}}=bO;function Wht(e){let t=[];for(let[r,n]of Object.entries(e))if(Array.isArray(n))for(let i of n)t.push(Buffer.from(r),Buffer.from(i));else t.push(Buffer.from(r),Buffer.from(n));return t}o(Wht,"parseH2Headers");async function Ght(e,t){e[xl]=t,m9e||(m9e=!0,process.emitWarning("H2 support is experimental, expect them to change at any time.",{code:"UNDICI-H2"}));let r=bO.connect(e[EO],{createConnection:o(()=>t,"createConnection"),peerMaxConcurrentStreams:e[g9e]});r[Y1]=0,r[ZI]=e,r[xl]=t,Ti.addListener(r,"error",Vht),Ti.addListener(r,"frameError",jht),Ti.addListener(r,"end",$ht),Ti.addListener(r,"goaway",zht),Ti.addListener(r,"close",function(){let{[ZI]:i}=this,{[xl]:s}=i,a=this[xl][Km]||this[Km]||new rS("closed",Ti.getSocketInfo(s));if(i[Ym]=null,i.destroyed){Ed(i[Rht]===0);let l=i[fy].splice(i[zm]);for(let c=0;c<l.length;c++){let u=l[c];Ti.errorRequest(i,u,a)}}}),r.unref(),e[Ym]=r,t[Ym]=r,Ti.addListener(t,"error",function(i){Ed(i.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),this[Km]=i,this[ZI][ene](i)}),Ti.addListener(t,"end",function(){Ti.destroy(this,new rS("other side closed",Ti.getSocketInfo(this)))}),Ti.addListener(t,"close",function(){let i=this[Km]||new rS("closed",Ti.getSocketInfo(this));e[xl]=null,this[Ym]!=null&&this[Ym].destroy(i),e[Zre]=e[zm],Ed(e[IO]===0),e.emit("disconnect",e[EO],[e],i),e[dy]()});let n=!1;return t.on("close",()=>{n=!0}),{version:"h2",defaultPipelining:1/0,write(...i){return Kht(e,...i)},resume(){Hht(e)},destroy(i,s){n?queueMicrotask(s):t.destroy(i).on("close",s)},get destroyed(){return t.destroyed},busy(){return!1}}}o(Ght,"connectH2");function Hht(e){let t=e[xl];t?.destroyed===!1&&(e[Pht]===0&&e[g9e]===0?(t.unref(),e[Ym].unref()):(t.ref(),e[Ym].ref()))}o(Hht,"resumeH2");function Vht(e){Ed(e.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),this[xl][Km]=e,this[ZI][ene](e)}o(Vht,"onHttp2SessionError");function jht(e,t,r){if(r===0){let n=new Xre(`HTTP/2: "frameError" received - type ${e}, code ${t}`);this[xl][Km]=n,this[ZI][ene](n)}}o(jht,"onHttp2FrameError");function $ht(){let e=new rS("other side closed",Ti.getSocketInfo(this[xl]));this.destroy(e),Ti.destroy(this[xl],e)}o($ht,"onHttp2SessionEnd");function zht(e){let t=this[Km]||new rS(`HTTP/2: "GOAWAY" frame received with code ${e}`,Ti.getSocketInfo(this)),r=this[ZI];if(r[xl]=null,r[Fht]=null,this[Ym]!=null&&(this[Ym].destroy(t),this[Ym]=null),Ti.destroy(this[xl],t),r[zm]<r[fy].length){let n=r[fy][r[zm]];r[fy][r[zm]++]=null,Ti.errorRequest(r,n,t),r[Zre]=r[zm]}Ed(r[IO]===0),r.emit("disconnect",r[EO],[r],t),r[dy]()}o(zht,"onHTTP2GoAway");function Yht(e){return e!=="GET"&&e!=="HEAD"&&e!=="OPTIONS"&&e!=="TRACE"&&e!=="CONNECT"}o(Yht,"shouldSendContentLength");function Kht(e,t){let r=e[Ym],{method:n,path:i,host:s,upgrade:a,expectContinue:l,signal:c,headers:u}=t,{body:f}=t;if(a)return Ti.errorRequest(e,t,new Error("Upgrade not supported for H2")),!1;let m={};for(let B=0;B<u.length;B+=2){let P=u[B+0],F=u[B+1];if(Array.isArray(F))for(let q=0;q<F.length;q++)m[P]?m[P]+=`,${F[q]}`:m[P]=F[q];else m[P]=F}let h,{hostname:p,port:A}=e[EO];m[Nht]=s||`${p}${A?`:${A}`:""}`,m[Lht]=n;let x=o(B=>{t.aborted||t.completed||(B=B||new f9e,Ti.errorRequest(e,t,B),h!=null&&Ti.destroy(h,B),Ti.destroy(f,B),e[fy][e[zm]++]=null,e[dy]())},"abort");try{t.onConnect(x)}catch(B){Ti.errorRequest(e,t,B)}if(t.aborted)return!1;if(n==="CONNECT")return r.ref(),h=r.request(m,{endStream:!1,signal:c}),h.id&&!h.pending?(t.onUpgrade(null,null,h),++r[Y1],e[fy][e[zm]++]=null):h.once("ready",()=>{t.onUpgrade(null,null,h),++r[Y1],e[fy][e[zm]++]=null}),h.once("close",()=>{r[Y1]-=1,r[Y1]===0&&r.unref()}),!0;m[Qht]=i,m[Mht]="https";let E=n==="PUT"||n==="POST"||n==="PATCH";f&&typeof f.read=="function"&&f.read(0);let v=Ti.bodyLength(f);if(Ti.isFormDataLike(f)){d9e??=YI().extractBody;let[B,P]=d9e(f);m["content-type"]=P,f=B.stream,v=B.length}if(v==null&&(v=t.contentLength),(v===0||!E)&&(v=null),Yht(n)&&v>0&&t.contentLength!=null&&t.contentLength!==v){if(e[Dht])return Ti.errorRequest(e,t,new Jre),!1;process.emitWarning(new Jre)}v!=null&&(Ed(f,"no body must not have content length"),m[Oht]=`${v}`),r.ref();let b=n==="GET"||n==="HEAD"||f===null;return l?(m[Uht]="100-continue",h=r.request(m,{endStream:b,signal:c}),h.once("continue",S)):(h=r.request(m,{endStream:b,signal:c}),S()),++r[Y1],h.once("response",B=>{let{[qht]:P,...F}=B;if(t.onResponseStarted(),t.aborted){let q=new f9e;Ti.errorRequest(e,t,q),Ti.destroy(h,q);return}t.onHeaders(Number(P),Wht(F),h.resume.bind(h),"")===!1&&h.pause(),h.on("data",q=>{t.onData(q)===!1&&h.pause()})}),h.once("end",()=>{(h.state?.state==null||h.state.state<6)&&t.onComplete([]),r[Y1]===0&&r.unref(),x(new Xre("HTTP/2: stream half-closed (remote)")),e[fy][e[zm]++]=null,e[Zre]=e[zm],e[dy]()}),h.once("close",()=>{r[Y1]-=1,r[Y1]===0&&r.unref()}),h.once("error",function(B){x(B)}),h.once("frameError",(B,P)=>{x(new Xre(`HTTP/2: "frameError" received - type ${B}, code ${P}`))}),!0;function S(){!f||v===0?h9e(x,h,null,e,t,e[xl],v,E):Ti.isBuffer(f)?h9e(x,h,f,e,t,e[xl],v,E):Ti.isBlobLike(f)?typeof f.stream=="function"?p9e(x,h,f.stream(),e,t,e[xl],v,E):Xht(x,h,f,e,t,e[xl],v,E):Ti.isStream(f)?Jht(x,e[xl],E,h,f,e,t,v):Ti.isIterable(f)?p9e(x,h,f,e,t,e[xl],v,E):Ed(!1)}o(S,"writeBodyH2")}o(Kht,"writeH2");function h9e(e,t,r,n,i,s,a,l){try{r!=null&&Ti.isBuffer(r)&&(Ed(a===r.byteLength,"buffer body must have content length"),t.cork(),t.write(r),t.uncork(),t.end(),i.onBodySent(r)),l||(s[vO]=!0),i.onRequestSent(),n[dy]()}catch(c){e(c)}}o(h9e,"writeBuffer");function Jht(e,t,r,n,i,s,a,l){Ed(l!==0||s[IO]===0,"stream body cannot be pipelined");let c=Bht(i,n,f=>{f?(Ti.destroy(c,f),e(f)):(Ti.removeAllListeners(c),a.onRequestSent(),r||(t[vO]=!0),s[dy]())});Ti.addListener(c,"data",u);function u(f){a.onBodySent(f)}o(u,"onPipeData")}o(Jht,"writeStream");async function Xht(e,t,r,n,i,s,a,l){Ed(a===r.size,"blob body must have content length");try{if(a!=null&&a!==r.size)throw new Jre;let c=Buffer.from(await r.arrayBuffer());t.cork(),t.write(c),t.uncork(),t.end(),i.onBodySent(c),i.onRequestSent(),l||(s[vO]=!0),n[dy]()}catch(c){e(c)}}o(Xht,"writeBlob");async function p9e(e,t,r,n,i,s,a,l){Ed(a!==0||n[IO]===0,"iterator body cannot be pipelined");let c=null;function u(){if(c){let m=c;c=null,m()}}o(u,"onDrain");let f=o(()=>new Promise((m,h)=>{Ed(c===null),s[Km]?h(s[Km]):c=m}),"waitForDrain");t.on("close",u).on("drain",u);try{for await(let m of r){if(s[Km])throw s[Km];let h=t.write(m);i.onBodySent(m),h||await f()}t.end(),i.onRequestSent(),l||(s[vO]=!0),n[dy]()}catch(m){e(m)}finally{t.off("close",u).off("drain",u)}}o(p9e,"writeIterable");A9e.exports=Ght});var wO=V((OMr,E9e)=>{"use strict";d();var Hp=ci(),{kBodyUsed:nS}=vs(),rne=require("node:assert"),{InvalidArgumentError:Zht}=so(),ept=require("node:events"),tpt=[300,301,302,303,307,308],C9e=Symbol("body"),TO=class{static{o(this,"BodyAsyncIterable")}constructor(t){this[C9e]=t,this[nS]=!1}async*[Symbol.asyncIterator](){rne(!this[nS],"disturbed"),this[nS]=!0,yield*this[C9e]}},tne=class{static{o(this,"RedirectHandler")}constructor(t,r,n,i){if(r!=null&&(!Number.isInteger(r)||r<0))throw new Zht("maxRedirections must be a positive number");Hp.validateHandler(i,n.method,n.upgrade),this.dispatch=t,this.location=null,this.abort=null,this.opts={...n,maxRedirections:0},this.maxRedirections=r,this.handler=i,this.history=[],this.redirectionLimitReached=!1,Hp.isStream(this.opts.body)?(Hp.bodyLength(this.opts.body)===0&&this.opts.body.on("data",function(){rne(!1)}),typeof this.opts.body.readableDidRead!="boolean"&&(this.opts.body[nS]=!1,ept.prototype.on.call(this.opts.body,"data",function(){this[nS]=!0}))):this.opts.body&&typeof this.opts.body.pipeTo=="function"?this.opts.body=new TO(this.opts.body):this.opts.body&&typeof this.opts.body!="string"&&!ArrayBuffer.isView(this.opts.body)&&Hp.isIterable(this.opts.body)&&(this.opts.body=new TO(this.opts.body))}onConnect(t){this.abort=t,this.handler.onConnect(t,{history:this.history})}onUpgrade(t,r,n){this.handler.onUpgrade(t,r,n)}onError(t){this.handler.onError(t)}onHeaders(t,r,n,i){if(this.location=this.history.length>=this.maxRedirections||Hp.isDisturbed(this.opts.body)?null:rpt(t,r),this.opts.throwOnMaxRedirect&&this.history.length>=this.maxRedirections){this.request&&this.request.abort(new Error("max redirects")),this.redirectionLimitReached=!0,this.abort(new Error("max redirects"));return}if(this.opts.origin&&this.history.push(new URL(this.opts.path,this.opts.origin)),!this.location)return this.handler.onHeaders(t,r,n,i);let{origin:s,pathname:a,search:l}=Hp.parseURL(new URL(this.location,this.opts.origin&&new URL(this.opts.path,this.opts.origin))),c=l?`${a}${l}`:a;this.opts.headers=npt(this.opts.headers,t===303,this.opts.origin!==s),this.opts.path=c,this.opts.origin=s,this.opts.maxRedirections=0,this.opts.query=null,t===303&&this.opts.method!=="HEAD"&&(this.opts.method="GET",this.opts.body=null)}onData(t){if(!this.location)return this.handler.onData(t)}onComplete(t){this.location?(this.location=null,this.abort=null,this.dispatch(this.opts,this)):this.handler.onComplete(t)}onBodySent(t){this.handler.onBodySent&&this.handler.onBodySent(t)}};function rpt(e,t){if(tpt.indexOf(e)===-1)return null;for(let r=0;r<t.length;r+=2)if(t[r].length===8&&Hp.headerNameToString(t[r])==="location")return t[r+1]}o(rpt,"parseLocation");function x9e(e,t,r){if(e.length===4)return Hp.headerNameToString(e)==="host";if(t&&Hp.headerNameToString(e).startsWith("content-"))return!0;if(r&&(e.length===13||e.length===6||e.length===19)){let n=Hp.headerNameToString(e);return n==="authorization"||n==="cookie"||n==="proxy-authorization"}return!1}o(x9e,"shouldRemoveHeader");function npt(e,t,r){let n=[];if(Array.isArray(e))for(let i=0;i<e.length;i+=2)x9e(e[i],t,r)||n.push(e[i],e[i+1]);else if(e&&typeof e=="object")for(let i of Object.keys(e))x9e(i,t,r)||n.push(i,e[i]);else rne(e==null,"headers must be an object or an array");return n}o(npt,"cleanRequestHeaders");E9e.exports=tne});var SO=V((WMr,b9e)=>{"use strict";d();var ipt=wO();function opt({maxRedirections:e}){return t=>o(function(n,i){let{maxRedirections:s=e}=n;if(!s)return t(n,i);let a=new ipt(t,s,n,i);return n={...n,maxRedirections:0},t(n,a)},"Intercept")}o(opt,"createRedirectInterceptor");b9e.exports=opt});var uS=V((VMr,D9e)=>{"use strict";d();var K1=require("node:assert"),_9e=require("node:net"),spt=require("node:http"),O4=ci(),{channels:e8}=LI(),apt=O8e(),lpt=UI(),{InvalidArgumentError:ha,InformationalError:cpt,ClientDestroyedError:upt}=so(),fpt=Hw(),{kUrl:Vp,kServerName:my,kClient:dpt,kBusy:nne,kConnect:mpt,kResuming:U4,kRunning:lS,kPending:cS,kSize:aS,kQueue:Jm,kConnected:hpt,kConnecting:t8,kNeedDrain:py,kKeepAliveDefaultTimeout:v9e,kHostHeader:ppt,kPendingIdx:Xm,kRunningIdx:J1,kError:gpt,kPipelining:_O,kKeepAliveTimeoutValue:Apt,kMaxHeadersSize:ypt,kKeepAliveMaxTimeout:Cpt,kKeepAliveTimeoutThreshold:xpt,kHeadersTimeout:Ept,kBodyTimeout:bpt,kStrictContentLength:vpt,kConnector:iS,kMaxRedirections:Ipt,kMaxRequests:ine,kCounter:Tpt,kClose:wpt,kDestroy:Spt,kDispatch:_pt,kInterceptors:I9e,kLocalAddress:oS,kMaxResponseSize:kpt,kOnError:Bpt,kHTTPContext:pa,kMaxConcurrentStreams:Rpt,kResume:sS}=vs(),Dpt=u9e(),Ppt=y9e(),T9e=!1,hy=Symbol("kClosedResolve"),w9e=o(()=>{},"noop");function k9e(e){return e[_O]??e[pa]?.defaultPipelining??1}o(k9e,"getPipelining");var one=class extends lpt{static{o(this,"Client")}constructor(t,{interceptors:r,maxHeaderSize:n,headersTimeout:i,socketTimeout:s,requestTimeout:a,connectTimeout:l,bodyTimeout:c,idleTimeout:u,keepAlive:f,keepAliveTimeout:m,maxKeepAliveTimeout:h,keepAliveMaxTimeout:p,keepAliveTimeoutThreshold:A,socketPath:x,pipelining:E,tls:v,strictContentLength:b,maxCachedSessions:S,maxRedirections:B,connect:P,maxRequestsPerClient:F,localAddress:q,maxResponseSize:ne,autoSelectFamily:ce,autoSelectFamilyAttemptTimeout:Z,maxConcurrentStreams:G,allowH2:U}={}){if(super(),f!==void 0)throw new ha("unsupported keepAlive, use pipelining=0 instead");if(s!==void 0)throw new ha("unsupported socketTimeout, use headersTimeout & bodyTimeout instead");if(a!==void 0)throw new ha("unsupported requestTimeout, use headersTimeout & bodyTimeout instead");if(u!==void 0)throw new ha("unsupported idleTimeout, use keepAliveTimeout instead");if(h!==void 0)throw new ha("unsupported maxKeepAliveTimeout, use keepAliveMaxTimeout instead");if(n!=null&&!Number.isFinite(n))throw new ha("invalid maxHeaderSize");if(x!=null&&typeof x!="string")throw new ha("invalid socketPath");if(l!=null&&(!Number.isFinite(l)||l<0))throw new ha("invalid connectTimeout");if(m!=null&&(!Number.isFinite(m)||m<=0))throw new ha("invalid keepAliveTimeout");if(p!=null&&(!Number.isFinite(p)||p<=0))throw new ha("invalid keepAliveMaxTimeout");if(A!=null&&!Number.isFinite(A))throw new ha("invalid keepAliveTimeoutThreshold");if(i!=null&&(!Number.isInteger(i)||i<0))throw new ha("headersTimeout must be a positive integer or zero");if(c!=null&&(!Number.isInteger(c)||c<0))throw new ha("bodyTimeout must be a positive integer or zero");if(P!=null&&typeof P!="function"&&typeof P!="object")throw new ha("connect must be a function or an object");if(B!=null&&(!Number.isInteger(B)||B<0))throw new ha("maxRedirections must be a positive number");if(F!=null&&(!Number.isInteger(F)||F<0))throw new ha("maxRequestsPerClient must be a positive number");if(q!=null&&(typeof q!="string"||_9e.isIP(q)===0))throw new ha("localAddress must be valid string IP address");if(ne!=null&&(!Number.isInteger(ne)||ne<-1))throw new ha("maxResponseSize must be a positive number");if(Z!=null&&(!Number.isInteger(Z)||Z<-1))throw new ha("autoSelectFamilyAttemptTimeout must be a positive number");if(U!=null&&typeof U!="boolean")throw new ha("allowH2 must be a valid boolean value");if(G!=null&&(typeof G!="number"||G<1))throw new ha("maxConcurrentStreams must be a positive integer, greater than 0");typeof P!="function"&&(P=fpt({...v,maxCachedSessions:S,allowH2:U,socketPath:x,timeout:l,...ce?{autoSelectFamily:ce,autoSelectFamilyAttemptTimeout:Z}:void 0,...P})),r?.Client&&Array.isArray(r.Client)?(this[I9e]=r.Client,T9e||(T9e=!0,process.emitWarning("Client.Options#interceptor is deprecated. Use Dispatcher#compose instead.",{code:"UNDICI-CLIENT-INTERCEPTOR-DEPRECATED"}))):this[I9e]=[Fpt({maxRedirections:B})],this[Vp]=O4.parseOrigin(t),this[iS]=P,this[_O]=E??1,this[ypt]=n||spt.maxHeaderSize,this[v9e]=m??4e3,this[Cpt]=p??6e5,this[xpt]=A??2e3,this[Apt]=this[v9e],this[my]=null,this[oS]=q??null,this[U4]=0,this[py]=0,this[ppt]=`host: ${this[Vp].hostname}${this[Vp].port?`:${this[Vp].port}`:""}\r
`,this[bpt]=c??3e5,this[Ept]=i??3e5,this[vpt]=b??!0,this[Ipt]=B,this[ine]=F,this[hy]=null,this[kpt]=ne>-1?ne:-1,this[Rpt]=G??100,this[pa]=null,this[Jm]=[],this[J1]=0,this[Xm]=0,this[sS]=ie=>sne(this,ie),this[Bpt]=ie=>B9e(this,ie)}get pipelining(){return this[_O]}set pipelining(t){this[_O]=t,this[sS](!0)}get[cS](){return this[Jm].length-this[Xm]}get[lS](){return this[Xm]-this[J1]}get[aS](){return this[Jm].length-this[J1]}get[hpt](){return!!this[pa]&&!this[t8]&&!this[pa].destroyed}get[nne](){return!!(this[pa]?.busy(null)||this[aS]>=(k9e(this)||1)||this[cS]>0)}[mpt](t){R9e(this),this.once("connect",t)}[_pt](t,r){let n=t.origin||this[Vp].origin,i=new apt(n,t,r);return this[Jm].push(i),this[U4]||(O4.bodyLength(i.body)==null&&O4.isIterable(i.body)?(this[U4]=1,queueMicrotask(()=>sne(this))):this[sS](!0)),this[U4]&&this[py]!==2&&this[nne]&&(this[py]=2),this[py]<2}async[wpt](){return new Promise(t=>{this[aS]?this[hy]=t:t(null)})}async[Spt](t){return new Promise(r=>{let n=this[Jm].splice(this[Xm]);for(let s=0;s<n.length;s++){let a=n[s];O4.errorRequest(this,a,t)}let i=o(()=>{this[hy]&&(this[hy](),this[hy]=null),r(null)},"callback");this[pa]?(this[pa].destroy(t,i),this[pa]=null):queueMicrotask(i),this[sS]()})}},Fpt=SO();function B9e(e,t){if(e[lS]===0&&t.code!=="UND_ERR_INFO"&&t.code!=="UND_ERR_SOCKET"){K1(e[Xm]===e[J1]);let r=e[Jm].splice(e[J1]);for(let n=0;n<r.length;n++){let i=r[n];O4.errorRequest(e,i,t)}K1(e[aS]===0)}}o(B9e,"onError");async function R9e(e){K1(!e[t8]),K1(!e[pa]);let{host:t,hostname:r,protocol:n,port:i}=e[Vp];if(r[0]==="["){let s=r.indexOf("]");K1(s!==-1);let a=r.substring(1,s);K1(_9e.isIP(a)),r=a}e[t8]=!0,e8.beforeConnect.hasSubscribers&&e8.beforeConnect.publish({connectParams:{host:t,hostname:r,protocol:n,port:i,version:e[pa]?.version,servername:e[my],localAddress:e[oS]},connector:e[iS]});try{let s=await new Promise((a,l)=>{e[iS]({host:t,hostname:r,protocol:n,port:i,servername:e[my],localAddress:e[oS]},(c,u)=>{c?l(c):a(u)})});if(e.destroyed){O4.destroy(s.on("error",w9e),new upt);return}K1(s);try{e[pa]=s.alpnProtocol==="h2"?await Ppt(e,s):await Dpt(e,s)}catch(a){throw s.destroy().on("error",w9e),a}e[t8]=!1,s[Tpt]=0,s[ine]=e[ine],s[dpt]=e,s[gpt]=null,e8.connected.hasSubscribers&&e8.connected.publish({connectParams:{host:t,hostname:r,protocol:n,port:i,version:e[pa]?.version,servername:e[my],localAddress:e[oS]},connector:e[iS],socket:s}),e.emit("connect",e[Vp],[e])}catch(s){if(e.destroyed)return;if(e[t8]=!1,e8.connectError.hasSubscribers&&e8.connectError.publish({connectParams:{host:t,hostname:r,protocol:n,port:i,version:e[pa]?.version,servername:e[my],localAddress:e[oS]},connector:e[iS],error:s}),s.code==="ERR_TLS_CERT_ALTNAME_INVALID")for(K1(e[lS]===0);e[cS]>0&&e[Jm][e[Xm]].servername===e[my];){let a=e[Jm][e[Xm]++];O4.errorRequest(e,a,s)}else B9e(e,s);e.emit("connectionError",e[Vp],[e],s)}e[sS]()}o(R9e,"connect");function S9e(e){e[py]=0,e.emit("drain",e[Vp],[e])}o(S9e,"emitDrain");function sne(e,t){e[U4]!==2&&(e[U4]=2,Npt(e,t),e[U4]=0,e[J1]>256&&(e[Jm].splice(0,e[J1]),e[Xm]-=e[J1],e[J1]=0))}o(sne,"resume");function Npt(e,t){for(;;){if(e.destroyed){K1(e[cS]===0);return}if(e[hy]&&!e[aS]){e[hy](),e[hy]=null;return}if(e[pa]&&e[pa].resume(),e[nne])e[py]=2;else if(e[py]===2){t?(e[py]=1,queueMicrotask(()=>S9e(e))):S9e(e);continue}if(e[cS]===0||e[lS]>=(k9e(e)||1))return;let r=e[Jm][e[Xm]];if(e[Vp].protocol==="https:"&&e[my]!==r.servername){if(e[lS]>0)return;e[my]=r.servername,e[pa]?.destroy(new cpt("servername changed"),()=>{e[pa]=null,sne(e)})}if(e[t8])return;if(!e[pa]){R9e(e);return}if(e[pa].destroyed||e[pa].busy(r))return;!r.aborted&&e[pa].write(r)?e[Xm]++:e[Jm].splice(e[Xm],1)}}o(Npt,"_resume");D9e.exports=one});var ane=V((YMr,P9e)=>{"use strict";d();var kO=class{static{o(this,"FixedCircularBuffer")}constructor(){this.bottom=0,this.top=0,this.list=new Array(2048),this.next=null}isEmpty(){return this.top===this.bottom}isFull(){return(this.top+1&2047)===this.bottom}push(t){this.list[this.top]=t,this.top=this.top+1&2047}shift(){let t=this.list[this.bottom];return t===void 0?null:(this.list[this.bottom]=void 0,this.bottom=this.bottom+1&2047,t)}};P9e.exports=class{static{o(this,"FixedQueue")}constructor(){this.head=this.tail=new kO}isEmpty(){return this.head.isEmpty()}push(t){this.head.isFull()&&(this.head=this.head.next=new kO),this.head.push(t)}shift(){let t=this.tail,r=t.shift();return t.isEmpty()&&t.next!==null&&(this.tail=t.next),r}}});var N9e=V((XMr,F9e)=>{d();var{kFree:Lpt,kConnected:Qpt,kPending:Mpt,kQueued:Opt,kRunning:Upt,kSize:qpt}=vs(),q4=Symbol("pool"),lne=class{static{o(this,"PoolStats")}constructor(t){this[q4]=t}get connected(){return this[q4][Qpt]}get free(){return this[q4][Lpt]}get pending(){return this[q4][Mpt]}get queued(){return this[q4][Opt]}get running(){return this[q4][Upt]}get size(){return this[q4][qpt]}};F9e.exports=lne});var hne=V((tOr,V9e)=>{"use strict";d();var Wpt=UI(),Gpt=ane(),{kConnected:cne,kSize:L9e,kRunning:Q9e,kPending:M9e,kQueued:fS,kBusy:Hpt,kFree:Vpt,kUrl:jpt,kClose:$pt,kDestroy:zpt,kDispatch:Ypt}=vs(),Kpt=N9e(),Xc=Symbol("clients"),tc=Symbol("needDrain"),dS=Symbol("queue"),une=Symbol("closed resolve"),fne=Symbol("onDrain"),O9e=Symbol("onConnect"),U9e=Symbol("onDisconnect"),q9e=Symbol("onConnectionError"),dne=Symbol("get dispatcher"),G9e=Symbol("add client"),H9e=Symbol("remove client"),W9e=Symbol("stats"),mne=class extends Wpt{static{o(this,"PoolBase")}constructor(){super(),this[dS]=new Gpt,this[Xc]=[],this[fS]=0;let t=this;this[fne]=o(function(n,i){let s=t[dS],a=!1;for(;!a;){let l=s.shift();if(!l)break;t[fS]--,a=!this.dispatch(l.opts,l.handler)}this[tc]=a,!this[tc]&&t[tc]&&(t[tc]=!1,t.emit("drain",n,[t,...i])),t[une]&&s.isEmpty()&&Promise.all(t[Xc].map(l=>l.close())).then(t[une])},"onDrain"),this[O9e]=(r,n)=>{t.emit("connect",r,[t,...n])},this[U9e]=(r,n,i)=>{t.emit("disconnect",r,[t,...n],i)},this[q9e]=(r,n,i)=>{t.emit("connectionError",r,[t,...n],i)},this[W9e]=new Kpt(this)}get[Hpt](){return this[tc]}get[cne](){return this[Xc].filter(t=>t[cne]).length}get[Vpt](){return this[Xc].filter(t=>t[cne]&&!t[tc]).length}get[M9e](){let t=this[fS];for(let{[M9e]:r}of this[Xc])t+=r;return t}get[Q9e](){let t=0;for(let{[Q9e]:r}of this[Xc])t+=r;return t}get[L9e](){let t=this[fS];for(let{[L9e]:r}of this[Xc])t+=r;return t}get stats(){return this[W9e]}async[$pt](){this[dS].isEmpty()?await Promise.all(this[Xc].map(t=>t.close())):await new Promise(t=>{this[une]=t})}async[zpt](t){for(;;){let r=this[dS].shift();if(!r)break;r.handler.onError(t)}await Promise.all(this[Xc].map(r=>r.destroy(t)))}[Ypt](t,r){let n=this[dne]();return n?n.dispatch(t,r)||(n[tc]=!0,this[tc]=!this[dne]()):(this[tc]=!0,this[dS].push({opts:t,handler:r}),this[fS]++),!this[tc]}[G9e](t){return t.on("drain",this[fne]).on("connect",this[O9e]).on("disconnect",this[U9e]).on("connectionError",this[q9e]),this[Xc].push(t),this[tc]&&queueMicrotask(()=>{this[tc]&&this[fne](t[jpt],[this,t])}),this}[H9e](t){t.close(()=>{let r=this[Xc].indexOf(t);r!==-1&&this[Xc].splice(r,1)}),this[tc]=this[Xc].some(r=>!r[tc]&&r.closed!==!0&&r.destroyed!==!0)}};V9e.exports={PoolBase:mne,kClients:Xc,kNeedDrain:tc,kAddClient:G9e,kRemoveClient:H9e,kGetDispatcher:dne}});var r8=V((iOr,K9e)=>{"use strict";d();var{PoolBase:Jpt,kClients:j9e,kNeedDrain:Xpt,kAddClient:Zpt,kGetDispatcher:egt}=hne(),tgt=uS(),{InvalidArgumentError:pne}=so(),$9e=ci(),{kUrl:z9e,kInterceptors:rgt}=vs(),ngt=Hw(),gne=Symbol("options"),Ane=Symbol("connections"),Y9e=Symbol("factory");function igt(e,t){return new tgt(e,t)}o(igt,"defaultFactory");var yne=class extends Jpt{static{o(this,"Pool")}constructor(t,{connections:r,factory:n=igt,connect:i,connectTimeout:s,tls:a,maxCachedSessions:l,socketPath:c,autoSelectFamily:u,autoSelectFamilyAttemptTimeout:f,allowH2:m,...h}={}){if(super(),r!=null&&(!Number.isFinite(r)||r<0))throw new pne("invalid connections");if(typeof n!="function")throw new pne("factory must be a function.");if(i!=null&&typeof i!="function"&&typeof i!="object")throw new pne("connect must be a function or an object");typeof i!="function"&&(i=ngt({...a,maxCachedSessions:l,allowH2:m,socketPath:c,timeout:s,...u?{autoSelectFamily:u,autoSelectFamilyAttemptTimeout:f}:void 0,...i})),this[rgt]=h.interceptors?.Pool&&Array.isArray(h.interceptors.Pool)?h.interceptors.Pool:[],this[Ane]=r||null,this[z9e]=$9e.parseOrigin(t),this[gne]={...$9e.deepClone(h),connect:i,allowH2:m},this[gne].interceptors=h.interceptors?{...h.interceptors}:void 0,this[Y9e]=n}[egt](){for(let t of this[j9e])if(!t[Xpt])return t;if(!this[Ane]||this[j9e].length<this[Ane]){let t=this[Y9e](this[z9e],this[gne]);return this[Zpt](t),t}}};K9e.exports=yne});var t7e=V((aOr,e7e)=>{"use strict";d();var{BalancedPoolMissingUpstreamError:ogt,InvalidArgumentError:sgt}=so(),{PoolBase:agt,kClients:_0,kNeedDrain:mS,kAddClient:lgt,kRemoveClient:cgt,kGetDispatcher:ugt}=hne(),fgt=r8(),{kUrl:Cne,kInterceptors:dgt}=vs(),{parseOrigin:J9e}=ci(),X9e=Symbol("factory"),BO=Symbol("options"),Z9e=Symbol("kGreatestCommonDivisor"),W4=Symbol("kCurrentWeight"),G4=Symbol("kIndex"),bd=Symbol("kWeight"),RO=Symbol("kMaxWeightPerServer"),DO=Symbol("kErrorPenalty");function mgt(e,t){if(e===0)return t;for(;t!==0;){let r=t;t=e%t,e=r}return e}o(mgt,"getGreatestCommonDivisor");function hgt(e,t){return new fgt(e,t)}o(hgt,"defaultFactory");var xne=class extends agt{static{o(this,"BalancedPool")}constructor(t=[],{factory:r=hgt,...n}={}){if(super(),this[BO]=n,this[G4]=-1,this[W4]=0,this[RO]=this[BO].maxWeightPerServer||100,this[DO]=this[BO].errorPenalty||15,Array.isArray(t)||(t=[t]),typeof r!="function")throw new sgt("factory must be a function.");this[dgt]=n.interceptors?.BalancedPool&&Array.isArray(n.interceptors.BalancedPool)?n.interceptors.BalancedPool:[],this[X9e]=r;for(let i of t)this.addUpstream(i);this._updateBalancedPoolStats()}addUpstream(t){let r=J9e(t).origin;if(this[_0].find(i=>i[Cne].origin===r&&i.closed!==!0&&i.destroyed!==!0))return this;let n=this[X9e](r,Object.assign({},this[BO]));this[lgt](n),n.on("connect",()=>{n[bd]=Math.min(this[RO],n[bd]+this[DO])}),n.on("connectionError",()=>{n[bd]=Math.max(1,n[bd]-this[DO]),this._updateBalancedPoolStats()}),n.on("disconnect",(...i)=>{let s=i[2];s&&s.code==="UND_ERR_SOCKET"&&(n[bd]=Math.max(1,n[bd]-this[DO]),this._updateBalancedPoolStats())});for(let i of this[_0])i[bd]=this[RO];return this._updateBalancedPoolStats(),this}_updateBalancedPoolStats(){let t=0;for(let r=0;r<this[_0].length;r++)t=mgt(this[_0][r][bd],t);this[Z9e]=t}removeUpstream(t){let r=J9e(t).origin,n=this[_0].find(i=>i[Cne].origin===r&&i.closed!==!0&&i.destroyed!==!0);return n&&this[cgt](n),this}get upstreams(){return this[_0].filter(t=>t.closed!==!0&&t.destroyed!==!0).map(t=>t[Cne].origin)}[ugt](){if(this[_0].length===0)throw new ogt;if(!this[_0].find(s=>!s[mS]&&s.closed!==!0&&s.destroyed!==!0)||this[_0].map(s=>s[mS]).reduce((s,a)=>s&&a,!0))return;let n=0,i=this[_0].findIndex(s=>!s[mS]);for(;n++<this[_0].length;){this[G4]=(this[G4]+1)%this[_0].length;let s=this[_0][this[G4]];if(s[bd]>this[_0][i][bd]&&!s[mS]&&(i=this[G4]),this[G4]===0&&(this[W4]=this[W4]-this[Z9e],this[W4]<=0&&(this[W4]=this[RO])),s[bd]>=this[W4]&&!s[mS])return s}return this[W4]=this[_0][i][bd],this[G4]=i,this[_0][i]}};e7e.exports=xne});var n8=V((uOr,l7e)=>{"use strict";d();var{InvalidArgumentError:PO}=so(),{kClients:gy,kRunning:r7e,kClose:pgt,kDestroy:ggt,kDispatch:Agt,kInterceptors:ygt}=vs(),Cgt=UI(),xgt=r8(),Egt=uS(),bgt=ci(),vgt=SO(),n7e=Symbol("onConnect"),i7e=Symbol("onDisconnect"),o7e=Symbol("onConnectionError"),Igt=Symbol("maxRedirections"),s7e=Symbol("onDrain"),a7e=Symbol("factory"),Ene=Symbol("options");function Tgt(e,t){return t&&t.connections===1?new Egt(e,t):new xgt(e,t)}o(Tgt,"defaultFactory");var bne=class extends Cgt{static{o(this,"Agent")}constructor({factory:t=Tgt,maxRedirections:r=0,connect:n,...i}={}){if(super(),typeof t!="function")throw new PO("factory must be a function.");if(n!=null&&typeof n!="function"&&typeof n!="object")throw new PO("connect must be a function or an object");if(!Number.isInteger(r)||r<0)throw new PO("maxRedirections must be a positive number");n&&typeof n!="function"&&(n={...n}),this[ygt]=i.interceptors?.Agent&&Array.isArray(i.interceptors.Agent)?i.interceptors.Agent:[vgt({maxRedirections:r})],this[Ene]={...bgt.deepClone(i),connect:n},this[Ene].interceptors=i.interceptors?{...i.interceptors}:void 0,this[Igt]=r,this[a7e]=t,this[gy]=new Map,this[s7e]=(s,a)=>{this.emit("drain",s,[this,...a])},this[n7e]=(s,a)=>{this.emit("connect",s,[this,...a])},this[i7e]=(s,a,l)=>{this.emit("disconnect",s,[this,...a],l)},this[o7e]=(s,a,l)=>{this.emit("connectionError",s,[this,...a],l)}}get[r7e](){let t=0;for(let r of this[gy].values())t+=r[r7e];return t}[Agt](t,r){let n;if(t.origin&&(typeof t.origin=="string"||t.origin instanceof URL))n=String(t.origin);else throw new PO("opts.origin must be a non-empty string or URL.");let i=this[gy].get(n);return i||(i=this[a7e](t.origin,this[Ene]).on("drain",this[s7e]).on("connect",this[n7e]).on("disconnect",this[i7e]).on("connectionError",this[o7e]),this[gy].set(n,i)),i.dispatch(t,r)}async[pgt](){let t=[];for(let r of this[gy].values())t.push(r.close());this[gy].clear(),await Promise.all(t)}async[ggt](t){let r=[];for(let n of this[gy].values())r.push(n.destroy(t));this[gy].clear(),await Promise.all(r)}};l7e.exports=bne});var Tne=V((mOr,d7e)=>{"use strict";d();var{kProxy:wgt,kClose:Sgt,kDestroy:_gt,kInterceptors:kgt}=vs(),{URL:hS}=require("node:url"),Bgt=n8(),Rgt=r8(),Dgt=UI(),{InvalidArgumentError:LO,RequestAbortedError:Pgt,SecureProxyConnectionError:Fgt}=so(),c7e=Hw(),FO=Symbol("proxy agent"),NO=Symbol("proxy client"),pS=Symbol("proxy headers"),vne=Symbol("request tls settings"),u7e=Symbol("proxy tls settings"),f7e=Symbol("connect endpoint function");function Ngt(e){return e==="https:"?443:80}o(Ngt,"defaultProtocolPort");function Lgt(e,t){return new Rgt(e,t)}o(Lgt,"defaultFactory");var Qgt=o(()=>{},"noop"),Ine=class extends Dgt{static{o(this,"ProxyAgent")}constructor(t){if(super(),!t||typeof t=="object"&&!(t instanceof hS)&&!t.uri)throw new LO("Proxy uri is mandatory");let{clientFactory:r=Lgt}=t;if(typeof r!="function")throw new LO("Proxy opts.clientFactory must be a function.");let n=this.#e(t),{href:i,origin:s,port:a,protocol:l,username:c,password:u,hostname:f}=n;if(this[wgt]={uri:i,protocol:l},this[kgt]=t.interceptors?.ProxyAgent&&Array.isArray(t.interceptors.ProxyAgent)?t.interceptors.ProxyAgent:[],this[vne]=t.requestTls,this[u7e]=t.proxyTls,this[pS]=t.headers||{},t.auth&&t.token)throw new LO("opts.auth cannot be used in combination with opts.token");t.auth?this[pS]["proxy-authorization"]=`Basic ${t.auth}`:t.token?this[pS]["proxy-authorization"]=t.token:c&&u&&(this[pS]["proxy-authorization"]=`Basic ${Buffer.from(`${decodeURIComponent(c)}:${decodeURIComponent(u)}`).toString("base64")}`);let m=c7e({...t.proxyTls});this[f7e]=c7e({...t.requestTls}),this[NO]=r(n,{connect:m}),this[FO]=new Bgt({...t,connect:o(async(h,p)=>{let A=h.host;h.port||(A+=`:${Ngt(h.protocol)}`);try{let{socket:x,statusCode:E}=await this[NO].connect({origin:s,port:a,path:A,signal:h.signal,headers:{...this[pS],host:h.host},servername:this[u7e]?.servername||f});if(E!==200&&(x.on("error",Qgt).destroy(),p(new Pgt(`Proxy response (${E}) !== 200 when HTTP Tunneling`))),h.protocol!=="https:"){p(null,x);return}let v;this[vne]?v=this[vne].servername:v=h.servername,this[f7e]({...h,servername:v,httpSocket:x},p)}catch(x){x.code==="ERR_TLS_CERT_ALTNAME_INVALID"?p(new Fgt(x)):p(x)}},"connect")})}dispatch(t,r){let n=Mgt(t.headers);if(Ogt(n),n&&!("host"in n)&&!("Host"in n)){let{host:i}=new hS(t.origin);n.host=i}return this[FO].dispatch({...t,headers:n},r)}#e(t){return typeof t=="string"?new hS(t):t instanceof hS?t:new hS(t.uri)}async[Sgt](){await this[FO].close(),await this[NO].close()}async[_gt](){await this[FO].destroy(),await this[NO].destroy()}};function Mgt(e){if(Array.isArray(e)){let t={};for(let r=0;r<e.length;r+=2)t[e[r]]=e[r+1];return t}return e}o(Mgt,"buildHeaders");function Ogt(e){if(e&&Object.keys(e).find(r=>r.toLowerCase()==="proxy-authorization"))throw new LO("Proxy-Authorization should be sent in ProxyAgent constructor")}o(Ogt,"throwIfProxyAuthIsSent");d7e.exports=Ine});var y7e=V((gOr,A7e)=>{"use strict";d();var Ugt=UI(),{kClose:qgt,kDestroy:Wgt,kClosed:m7e,kDestroyed:h7e,kDispatch:Ggt,kNoProxyAgent:gS,kHttpProxyAgent:Ay,kHttpsProxyAgent:H4}=vs(),p7e=Tne(),Hgt=n8(),Vgt={"http:":80,"https:":443},g7e=!1,wne=class extends Ugt{static{o(this,"EnvHttpProxyAgent")}#e=null;#t=null;#i=null;constructor(t={}){super(),this.#i=t,g7e||(g7e=!0,process.emitWarning("EnvHttpProxyAgent is experimental, expect them to change at any time.",{code:"UNDICI-EHPA"}));let{httpProxy:r,httpsProxy:n,noProxy:i,...s}=t;this[gS]=new Hgt(s);let a=r??process.env.http_proxy??process.env.HTTP_PROXY;a?this[Ay]=new p7e({...s,uri:a}):this[Ay]=this[gS];let l=n??process.env.https_proxy??process.env.HTTPS_PROXY;l?this[H4]=new p7e({...s,uri:l}):this[H4]=this[Ay],this.#o()}[Ggt](t,r){let n=new URL(t.origin);return this.#n(n).dispatch(t,r)}async[qgt](){await this[gS].close(),this[Ay][m7e]||await this[Ay].close(),this[H4][m7e]||await this[H4].close()}async[Wgt](t){await this[gS].destroy(t),this[Ay][h7e]||await this[Ay].destroy(t),this[H4][h7e]||await this[H4].destroy(t)}#n(t){let{protocol:r,host:n,port:i}=t;return n=n.replace(/:\d*$/,"").toLowerCase(),i=Number.parseInt(i,10)||Vgt[r]||0,this.#r(n,i)?r==="https:"?this[H4]:this[Ay]:this[gS]}#r(t,r){if(this.#s&&this.#o(),this.#t.length===0)return!0;if(this.#e==="*")return!1;for(let n=0;n<this.#t.length;n++){let i=this.#t[n];if(!(i.port&&i.port!==r)){if(/^[.*]/.test(i.hostname)){if(t.endsWith(i.hostname.replace(/^\*/,"")))return!1}else if(t===i.hostname)return!1}}return!0}#o(){let t=this.#i.noProxy??this.#a,r=t.split(/[,\s]/),n=[];for(let i=0;i<r.length;i++){let s=r[i];if(!s)continue;let a=s.match(/^(.+):(\d+)$/);n.push({hostname:(a?a[1]:s).toLowerCase(),port:a?Number.parseInt(a[2],10):0})}this.#e=t,this.#t=n}get#s(){return this.#i.noProxy!==void 0?!1:this.#e!==this.#a}get#a(){return process.env.no_proxy??process.env.NO_PROXY??""}};A7e.exports=wne});var QO=V((COr,b7e)=>{"use strict";d();var i8=require("node:assert"),{kRetryHandlerDefaultRetry:C7e}=vs(),{RequestRetryError:AS}=so(),{isDisturbed:x7e,parseHeaders:jgt,parseRangeHeader:E7e,wrapRequestBody:$gt}=ci();function zgt(e){let t=Date.now();return new Date(e).getTime()-t}o(zgt,"calculateRetryAfterHeader");var Sne=class e{static{o(this,"RetryHandler")}constructor(t,r){let{retryOptions:n,...i}=t,{retry:s,maxRetries:a,maxTimeout:l,minTimeout:c,timeoutFactor:u,methods:f,errorCodes:m,retryAfter:h,statusCodes:p}=n??{};this.dispatch=r.dispatch,this.handler=r.handler,this.opts={...i,body:$gt(t.body)},this.abort=null,this.aborted=!1,this.retryOpts={retry:s??e[C7e],retryAfter:h??!0,maxTimeout:l??30*1e3,minTimeout:c??500,timeoutFactor:u??2,maxRetries:a??5,methods:f??["GET","HEAD","OPTIONS","PUT","DELETE","TRACE"],statusCodes:p??[500,502,503,504,429],errorCodes:m??["ECONNRESET","ECONNREFUSED","ENOTFOUND","ENETDOWN","ENETUNREACH","EHOSTDOWN","EHOSTUNREACH","EPIPE","UND_ERR_SOCKET"]},this.retryCount=0,this.retryCountCheckpoint=0,this.start=0,this.end=null,this.etag=null,this.resume=null,this.handler.onConnect(A=>{this.aborted=!0,this.abort?this.abort(A):this.reason=A})}onRequestSent(){this.handler.onRequestSent&&this.handler.onRequestSent()}onUpgrade(t,r,n){this.handler.onUpgrade&&this.handler.onUpgrade(t,r,n)}onConnect(t){this.aborted?t(this.reason):this.abort=t}onBodySent(t){if(this.handler.onBodySent)return this.handler.onBodySent(t)}static[C7e](t,{state:r,opts:n},i){let{statusCode:s,code:a,headers:l}=t,{method:c,retryOptions:u}=n,{maxRetries:f,minTimeout:m,maxTimeout:h,timeoutFactor:p,statusCodes:A,errorCodes:x,methods:E}=u,{counter:v}=r;if(a&&a!=="UND_ERR_REQ_RETRY"&&!x.includes(a)){i(t);return}if(Array.isArray(E)&&!E.includes(c)){i(t);return}if(s!=null&&Array.isArray(A)&&!A.includes(s)){i(t);return}if(v>f){i(t);return}let b=l?.["retry-after"];b&&(b=Number(b),b=Number.isNaN(b)?zgt(b):b*1e3);let S=b>0?Math.min(b,h):Math.min(m*p**(v-1),h);setTimeout(()=>i(null),S)}onHeaders(t,r,n,i){let s=jgt(r);if(this.retryCount+=1,t>=300)return this.retryOpts.statusCodes.includes(t)===!1?this.handler.onHeaders(t,r,n,i):(this.abort(new AS("Request failed",t,{headers:s,data:{count:this.retryCount}})),!1);if(this.resume!=null){if(this.resume=null,t!==206&&(this.start>0||t!==200))return this.abort(new AS("server does not support the range header and the payload was partially consumed",t,{headers:s,data:{count:this.retryCount}})),!1;let l=E7e(s["content-range"]);if(!l)return this.abort(new AS("Content-Range mismatch",t,{headers:s,data:{count:this.retryCount}})),!1;if(this.etag!=null&&this.etag!==s.etag)return this.abort(new AS("ETag mismatch",t,{headers:s,data:{count:this.retryCount}})),!1;let{start:c,size:u,end:f=u-1}=l;return i8(this.start===c,"content-range mismatch"),i8(this.end==null||this.end===f,"content-range mismatch"),this.resume=n,!0}if(this.end==null){if(t===206){let l=E7e(s["content-range"]);if(l==null)return this.handler.onHeaders(t,r,n,i);let{start:c,size:u,end:f=u-1}=l;i8(c!=null&&Number.isFinite(c),"content-range mismatch"),i8(f!=null&&Number.isFinite(f),"invalid content-length"),this.start=c,this.end=f}if(this.end==null){let l=s["content-length"];this.end=l!=null?Number(l)-1:null}return i8(Number.isFinite(this.start)),i8(this.end==null||Number.isFinite(this.end),"invalid content-length"),this.resume=n,this.etag=s.etag!=null?s.etag:null,this.etag!=null&&this.etag.startsWith("W/")&&(this.etag=null),this.handler.onHeaders(t,r,n,i)}let a=new AS("Request failed",t,{headers:s,data:{count:this.retryCount}});return this.abort(a),!1}onData(t){return this.start+=t.length,this.handler.onData(t)}onComplete(t){return this.retryCount=0,this.handler.onComplete(t)}onError(t){if(this.aborted||x7e(this.opts.body))return this.handler.onError(t);this.retryCount-this.retryCountCheckpoint>0?this.retryCount=this.retryCountCheckpoint+(this.retryCount-this.retryCountCheckpoint):this.retryCount+=1,this.retryOpts.retry(t,{state:{counter:this.retryCount},opts:{retryOptions:this.retryOpts,...this.opts}},r.bind(this));function r(n){if(n!=null||this.aborted||x7e(this.opts.body))return this.handler.onError(n);if(this.start!==0){let i={range:`bytes=${this.start}-${this.end??""}`};this.etag!=null&&(i["if-match"]=this.etag),this.opts={...this.opts,headers:{...this.opts.headers,...i}}}try{this.retryCountCheckpoint=this.retryCount,this.dispatch(this.opts,this)}catch(i){this.handler.onError(i)}}o(r,"onRetry")}};b7e.exports=Sne});var I7e=V((bOr,v7e)=>{"use strict";d();var Ygt=Ww(),Kgt=QO(),_ne=class extends Ygt{static{o(this,"RetryAgent")}#e=null;#t=null;constructor(t,r={}){super(r),this.#e=t,this.#t=r}dispatch(t,r){let n=new Kgt({...t,retryOptions:this.#t},{dispatch:this.#e.dispatch.bind(this.#e),handler:r});return this.#e.dispatch(t,n)}close(){return this.#e.close()}destroy(){return this.#e.destroy()}};v7e.exports=_ne});var Fne=V((TOr,P7e)=>{"use strict";d();var k7e=require("node:assert"),{Readable:Jgt}=require("node:stream"),{RequestAbortedError:B7e,NotSupportedError:Xgt,InvalidArgumentError:Zgt,AbortError:kne}=so(),R7e=ci(),{ReadableStreamFrom:e1t}=ci(),Zu=Symbol("kConsume"),yS=Symbol("kReading"),yy=Symbol("kBody"),T7e=Symbol("kAbort"),D7e=Symbol("kContentType"),w7e=Symbol("kContentLength"),t1t=o(()=>{},"noop"),Bne=class extends Jgt{static{o(this,"BodyReadable")}constructor({resume:t,abort:r,contentType:n="",contentLength:i,highWaterMark:s=64*1024}){super({autoDestroy:!0,read:t,highWaterMark:s}),this._readableState.dataEmitted=!1,this[T7e]=r,this[Zu]=null,this[yy]=null,this[D7e]=n,this[w7e]=i,this[yS]=!1}destroy(t){return!t&&!this._readableState.endEmitted&&(t=new B7e),t&&this[T7e](),super.destroy(t)}_destroy(t,r){this[yS]?r(t):setImmediate(()=>{r(t)})}on(t,...r){return(t==="data"||t==="readable")&&(this[yS]=!0),super.on(t,...r)}addListener(t,...r){return this.on(t,...r)}off(t,...r){let n=super.off(t,...r);return(t==="data"||t==="readable")&&(this[yS]=this.listenerCount("data")>0||this.listenerCount("readable")>0),n}removeListener(t,...r){return this.off(t,...r)}push(t){return this[Zu]&&t!==null?(Dne(this[Zu],t),this[yS]?super.push(t):!0):super.push(t)}async text(){return CS(this,"text")}async json(){return CS(this,"json")}async blob(){return CS(this,"blob")}async bytes(){return CS(this,"bytes")}async arrayBuffer(){return CS(this,"arrayBuffer")}async formData(){throw new Xgt}get bodyUsed(){return R7e.isDisturbed(this)}get body(){return this[yy]||(this[yy]=e1t(this),this[Zu]&&(this[yy].getReader(),k7e(this[yy].locked))),this[yy]}async dump(t){let r=Number.isFinite(t?.limit)?t.limit:131072,n=t?.signal;if(n!=null&&(typeof n!="object"||!("aborted"in n)))throw new Zgt("signal must be an AbortSignal");return n?.throwIfAborted(),this._readableState.closeEmitted?null:await new Promise((i,s)=>{this[w7e]>r&&this.destroy(new kne);let a=o(()=>{this.destroy(n.reason??new kne)},"onAbort");n?.addEventListener("abort",a),this.on("close",function(){n?.removeEventListener("abort",a),n?.aborted?s(n.reason??new kne):i(null)}).on("error",t1t).on("data",function(l){r-=l.length,r<=0&&this.destroy()}).resume()})}};function r1t(e){return e[yy]&&e[yy].locked===!0||e[Zu]}o(r1t,"isLocked");function n1t(e){return R7e.isDisturbed(e)||r1t(e)}o(n1t,"isUnusable");async function CS(e,t){return k7e(!e[Zu]),new Promise((r,n)=>{if(n1t(e)){let i=e._readableState;i.destroyed&&i.closeEmitted===!1?e.on("error",s=>{n(s)}).on("close",()=>{n(new TypeError("unusable"))}):n(i.errored??new TypeError("unusable"))}else queueMicrotask(()=>{e[Zu]={type:t,stream:e,resolve:r,reject:n,length:0,body:[]},e.on("error",function(i){Pne(this[Zu],i)}).on("close",function(){this[Zu].body!==null&&Pne(this[Zu],new B7e)}),i1t(e[Zu])})})}o(CS,"consume");function i1t(e){if(e.body===null)return;let{_readableState:t}=e.stream;if(t.bufferIndex){let r=t.bufferIndex,n=t.buffer.length;for(let i=r;i<n;i++)Dne(e,t.buffer[i])}else for(let r of t.buffer)Dne(e,r);for(t.endEmitted?_7e(this[Zu]):e.stream.on("end",function(){_7e(this[Zu])}),e.stream.resume();e.stream.read()!=null;);}o(i1t,"consumeStart");function Rne(e,t){if(e.length===0||t===0)return"";let r=e.length===1?e[0]:Buffer.concat(e,t),n=r.length,i=n>2&&r[0]===239&&r[1]===187&&r[2]===191?3:0;return r.utf8Slice(i,n)}o(Rne,"chunksDecode");function S7e(e,t){if(e.length===0||t===0)return new Uint8Array(0);if(e.length===1)return new Uint8Array(e[0]);let r=new Uint8Array(Buffer.allocUnsafeSlow(t).buffer),n=0;for(let i=0;i<e.length;++i){let s=e[i];r.set(s,n),n+=s.length}return r}o(S7e,"chunksConcat");function _7e(e){let{type:t,body:r,resolve:n,stream:i,length:s}=e;try{t==="text"?n(Rne(r,s)):t==="json"?n(JSON.parse(Rne(r,s))):t==="arrayBuffer"?n(S7e(r,s).buffer):t==="blob"?n(new Blob(r,{type:i[D7e]})):t==="bytes"&&n(S7e(r,s)),Pne(e)}catch(a){i.destroy(a)}}o(_7e,"consumeEnd");function Dne(e,t){e.length+=t.length,e.body.push(t)}o(Dne,"consumePush");function Pne(e,t){e.body!==null&&(t?e.reject(t):e.resolve(),e.type=null,e.stream=null,e.resolve=null,e.reject=null,e.length=0,e.body=null)}o(Pne,"consumeFinish");P7e.exports={Readable:Bne,chunksDecode:Rne}});var Nne=V((_Or,M7e)=>{d();var o1t=require("node:assert"),{ResponseStatusCodeError:F7e}=so(),{chunksDecode:N7e}=Fne(),s1t=128*1024;async function a1t({callback:e,body:t,contentType:r,statusCode:n,statusMessage:i,headers:s}){o1t(t);let a=[],l=0;try{for await(let m of t)if(a.push(m),l+=m.length,l>s1t){a=[],l=0;break}}catch{a=[],l=0}let c=`Response status code ${n}${i?`: ${i}`:""}`;if(n===204||!r||!l){queueMicrotask(()=>e(new F7e(c,n,s)));return}let u=Error.stackTraceLimit;Error.stackTraceLimit=0;let f;try{L7e(r)?f=JSON.parse(N7e(a,l)):Q7e(r)&&(f=N7e(a,l))}catch{}finally{Error.stackTraceLimit=u}queueMicrotask(()=>e(new F7e(c,n,s,f)))}o(a1t,"getResolveErrorBodyCallback");var L7e=o(e=>e.length>15&&e[11]==="/"&&e[0]==="a"&&e[1]==="p"&&e[2]==="p"&&e[3]==="l"&&e[4]==="i"&&e[5]==="c"&&e[6]==="a"&&e[7]==="t"&&e[8]==="i"&&e[9]==="o"&&e[10]==="n"&&e[12]==="j"&&e[13]==="s"&&e[14]==="o"&&e[15]==="n","isContentTypeApplicationJson"),Q7e=o(e=>e.length>4&&e[4]==="/"&&e[0]==="t"&&e[1]==="e"&&e[2]==="x"&&e[3]==="t","isContentTypeText");M7e.exports={getResolveErrorBodyCallback:a1t,isContentTypeApplicationJson:L7e,isContentTypeText:Q7e}});var q7e=V((ROr,Lne)=>{"use strict";d();var l1t=require("node:assert"),{Readable:c1t}=Fne(),{InvalidArgumentError:o8,RequestAbortedError:O7e}=so(),ef=ci(),{getResolveErrorBodyCallback:u1t}=Nne(),{AsyncResource:f1t}=require("node:async_hooks"),MO=class extends f1t{static{o(this,"RequestHandler")}constructor(t,r){if(!t||typeof t!="object")throw new o8("invalid opts");let{signal:n,method:i,opaque:s,body:a,onInfo:l,responseHeaders:c,throwOnError:u,highWaterMark:f}=t;try{if(typeof r!="function")throw new o8("invalid callback");if(f&&(typeof f!="number"||f<0))throw new o8("invalid highWaterMark");if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new o8("signal must be an EventEmitter or EventTarget");if(i==="CONNECT")throw new o8("invalid method");if(l&&typeof l!="function")throw new o8("invalid onInfo callback");super("UNDICI_REQUEST")}catch(m){throw ef.isStream(a)&&ef.destroy(a.on("error",ef.nop),m),m}this.method=i,this.responseHeaders=c||null,this.opaque=s||null,this.callback=r,this.res=null,this.abort=null,this.body=a,this.trailers={},this.context=null,this.onInfo=l||null,this.throwOnError=u,this.highWaterMark=f,this.signal=n,this.reason=null,this.removeAbortListener=null,ef.isStream(a)&&a.on("error",m=>{this.onError(m)}),this.signal&&(this.signal.aborted?this.reason=this.signal.reason??new O7e:this.removeAbortListener=ef.addAbortListener(this.signal,()=>{this.reason=this.signal.reason??new O7e,this.res?ef.destroy(this.res.on("error",ef.nop),this.reason):this.abort&&this.abort(this.reason),this.removeAbortListener&&(this.res?.off("close",this.removeAbortListener),this.removeAbortListener(),this.removeAbortListener=null)}))}onConnect(t,r){if(this.reason){t(this.reason);return}l1t(this.callback),this.abort=t,this.context=r}onHeaders(t,r,n,i){let{callback:s,opaque:a,abort:l,context:c,responseHeaders:u,highWaterMark:f}=this,m=u==="raw"?ef.parseRawHeaders(r):ef.parseHeaders(r);if(t<200){this.onInfo&&this.onInfo({statusCode:t,headers:m});return}let h=u==="raw"?ef.parseHeaders(r):m,p=h["content-type"],A=h["content-length"],x=new c1t({resume:n,abort:l,contentType:p,contentLength:this.method!=="HEAD"&&A?Number(A):null,highWaterMark:f});this.removeAbortListener&&x.on("close",this.removeAbortListener),this.callback=null,this.res=x,s!==null&&(this.throwOnError&&t>=400?this.runInAsyncScope(u1t,null,{callback:s,body:x,contentType:p,statusCode:t,statusMessage:i,headers:m}):this.runInAsyncScope(s,null,null,{statusCode:t,headers:m,trailers:this.trailers,opaque:a,body:x,context:c}))}onData(t){return this.res.push(t)}onComplete(t){ef.parseHeaders(t,this.trailers),this.res.push(null)}onError(t){let{res:r,callback:n,body:i,opaque:s}=this;n&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(n,null,t,{opaque:s})})),r&&(this.res=null,queueMicrotask(()=>{ef.destroy(r,t)})),i&&(this.body=null,ef.destroy(i,t)),this.removeAbortListener&&(r?.off("close",this.removeAbortListener),this.removeAbortListener(),this.removeAbortListener=null)}};function U7e(e,t){if(t===void 0)return new Promise((r,n)=>{U7e.call(this,e,(i,s)=>i?n(i):r(s))});try{this.dispatch(e,new MO(e,t))}catch(r){if(typeof t!="function")throw r;let n=e?.opaque;queueMicrotask(()=>t(r,{opaque:n}))}}o(U7e,"request");Lne.exports=U7e;Lne.exports.RequestHandler=MO});var xS=V((FOr,H7e)=>{d();var{addAbortListener:d1t}=ci(),{RequestAbortedError:m1t}=so(),s8=Symbol("kListener"),jp=Symbol("kSignal");function W7e(e){e.abort?e.abort(e[jp]?.reason):e.reason=e[jp]?.reason??new m1t,G7e(e)}o(W7e,"abort");function h1t(e,t){if(e.reason=null,e[jp]=null,e[s8]=null,!!t){if(t.aborted){W7e(e);return}e[jp]=t,e[s8]=()=>{W7e(e)},d1t(e[jp],e[s8])}}o(h1t,"addSignal");function G7e(e){e[jp]&&("removeEventListener"in e[jp]?e[jp].removeEventListener("abort",e[s8]):e[jp].removeListener("abort",e[s8]),e[jp]=null,e[s8]=null)}o(G7e,"removeSignal");H7e.exports={addSignal:h1t,removeSignal:G7e}});var z7e=V((QOr,$7e)=>{"use strict";d();var p1t=require("node:assert"),{finished:g1t,PassThrough:A1t}=require("node:stream"),{InvalidArgumentError:a8,InvalidReturnValueError:y1t}=so(),Zm=ci(),{getResolveErrorBodyCallback:C1t}=Nne(),{AsyncResource:x1t}=require("node:async_hooks"),{addSignal:E1t,removeSignal:V7e}=xS(),Qne=class extends x1t{static{o(this,"StreamHandler")}constructor(t,r,n){if(!t||typeof t!="object")throw new a8("invalid opts");let{signal:i,method:s,opaque:a,body:l,onInfo:c,responseHeaders:u,throwOnError:f}=t;try{if(typeof n!="function")throw new a8("invalid callback");if(typeof r!="function")throw new a8("invalid factory");if(i&&typeof i.on!="function"&&typeof i.addEventListener!="function")throw new a8("signal must be an EventEmitter or EventTarget");if(s==="CONNECT")throw new a8("invalid method");if(c&&typeof c!="function")throw new a8("invalid onInfo callback");super("UNDICI_STREAM")}catch(m){throw Zm.isStream(l)&&Zm.destroy(l.on("error",Zm.nop),m),m}this.responseHeaders=u||null,this.opaque=a||null,this.factory=r,this.callback=n,this.res=null,this.abort=null,this.context=null,this.trailers=null,this.body=l,this.onInfo=c||null,this.throwOnError=f||!1,Zm.isStream(l)&&l.on("error",m=>{this.onError(m)}),E1t(this,i)}onConnect(t,r){if(this.reason){t(this.reason);return}p1t(this.callback),this.abort=t,this.context=r}onHeaders(t,r,n,i){let{factory:s,opaque:a,context:l,callback:c,responseHeaders:u}=this,f=u==="raw"?Zm.parseRawHeaders(r):Zm.parseHeaders(r);if(t<200){this.onInfo&&this.onInfo({statusCode:t,headers:f});return}this.factory=null;let m;if(this.throwOnError&&t>=400){let A=(u==="raw"?Zm.parseHeaders(r):f)["content-type"];m=new A1t,this.callback=null,this.runInAsyncScope(C1t,null,{callback:c,body:m,contentType:A,statusCode:t,statusMessage:i,headers:f})}else{if(s===null)return;if(m=this.runInAsyncScope(s,null,{statusCode:t,headers:f,opaque:a,context:l}),!m||typeof m.write!="function"||typeof m.end!="function"||typeof m.on!="function")throw new y1t("expected Writable");g1t(m,{readable:!1},p=>{let{callback:A,res:x,opaque:E,trailers:v,abort:b}=this;this.res=null,(p||!x.readable)&&Zm.destroy(x,p),this.callback=null,this.runInAsyncScope(A,null,p||null,{opaque:E,trailers:v}),p&&b()})}return m.on("drain",n),this.res=m,(m.writableNeedDrain!==void 0?m.writableNeedDrain:m._writableState?.needDrain)!==!0}onData(t){let{res:r}=this;return r?r.write(t):!0}onComplete(t){let{res:r}=this;V7e(this),r&&(this.trailers=Zm.parseHeaders(t),r.end())}onError(t){let{res:r,callback:n,opaque:i,body:s}=this;V7e(this),this.factory=null,r?(this.res=null,Zm.destroy(r,t)):n&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(n,null,t,{opaque:i})})),s&&(this.body=null,Zm.destroy(s,t))}};function j7e(e,t,r){if(r===void 0)return new Promise((n,i)=>{j7e.call(this,e,t,(s,a)=>s?i(s):n(a))});try{this.dispatch(e,new Qne(e,t,r))}catch(n){if(typeof r!="function")throw n;let i=e?.opaque;queueMicrotask(()=>r(n,{opaque:i}))}}o(j7e,"stream");$7e.exports=j7e});var X7e=V((UOr,J7e)=>{"use strict";d();var{Readable:K7e,Duplex:b1t,PassThrough:v1t}=require("node:stream"),{InvalidArgumentError:ES,InvalidReturnValueError:I1t,RequestAbortedError:Mne}=so(),vd=ci(),{AsyncResource:T1t}=require("node:async_hooks"),{addSignal:w1t,removeSignal:S1t}=xS(),Y7e=require("node:assert"),l8=Symbol("resume"),One=class extends K7e{static{o(this,"PipelineRequest")}constructor(){super({autoDestroy:!0}),this[l8]=null}_read(){let{[l8]:t}=this;t&&(this[l8]=null,t())}_destroy(t,r){this._read(),r(t)}},Une=class extends K7e{static{o(this,"PipelineResponse")}constructor(t){super({autoDestroy:!0}),this[l8]=t}_read(){this[l8]()}_destroy(t,r){!t&&!this._readableState.endEmitted&&(t=new Mne),r(t)}},qne=class extends T1t{static{o(this,"PipelineHandler")}constructor(t,r){if(!t||typeof t!="object")throw new ES("invalid opts");if(typeof r!="function")throw new ES("invalid handler");let{signal:n,method:i,opaque:s,onInfo:a,responseHeaders:l}=t;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new ES("signal must be an EventEmitter or EventTarget");if(i==="CONNECT")throw new ES("invalid method");if(a&&typeof a!="function")throw new ES("invalid onInfo callback");super("UNDICI_PIPELINE"),this.opaque=s||null,this.responseHeaders=l||null,this.handler=r,this.abort=null,this.context=null,this.onInfo=a||null,this.req=new One().on("error",vd.nop),this.ret=new b1t({readableObjectMode:t.objectMode,autoDestroy:!0,read:o(()=>{let{body:c}=this;c?.resume&&c.resume()},"read"),write:o((c,u,f)=>{let{req:m}=this;m.push(c,u)||m._readableState.destroyed?f():m[l8]=f},"write"),destroy:o((c,u)=>{let{body:f,req:m,res:h,ret:p,abort:A}=this;!c&&!p._readableState.endEmitted&&(c=new Mne),A&&c&&A(),vd.destroy(f,c),vd.destroy(m,c),vd.destroy(h,c),S1t(this),u(c)},"destroy")}).on("prefinish",()=>{let{req:c}=this;c.push(null)}),this.res=null,w1t(this,n)}onConnect(t,r){let{ret:n,res:i}=this;if(this.reason){t(this.reason);return}Y7e(!i,"pipeline cannot be retried"),Y7e(!n.destroyed),this.abort=t,this.context=r}onHeaders(t,r,n){let{opaque:i,handler:s,context:a}=this;if(t<200){if(this.onInfo){let c=this.responseHeaders==="raw"?vd.parseRawHeaders(r):vd.parseHeaders(r);this.onInfo({statusCode:t,headers:c})}return}this.res=new Une(n);let l;try{this.handler=null;let c=this.responseHeaders==="raw"?vd.parseRawHeaders(r):vd.parseHeaders(r);l=this.runInAsyncScope(s,null,{statusCode:t,headers:c,opaque:i,body:this.res,context:a})}catch(c){throw this.res.on("error",vd.nop),c}if(!l||typeof l.on!="function")throw new I1t("expected Readable");l.on("data",c=>{let{ret:u,body:f}=this;!u.push(c)&&f.pause&&f.pause()}).on("error",c=>{let{ret:u}=this;vd.destroy(u,c)}).on("end",()=>{let{ret:c}=this;c.push(null)}).on("close",()=>{let{ret:c}=this;c._readableState.ended||vd.destroy(c,new Mne)}),this.body=l}onData(t){let{res:r}=this;return r.push(t)}onComplete(t){let{res:r}=this;r.push(null)}onError(t){let{ret:r}=this;this.handler=null,vd.destroy(r,t)}};function _1t(e,t){try{let r=new qne(e,t);return this.dispatch({...e,body:r.req},r),r.ret}catch(r){return new v1t().destroy(r)}}o(_1t,"pipeline");J7e.exports=_1t});var iTe=V((GOr,nTe)=>{"use strict";d();var{InvalidArgumentError:Wne,SocketError:k1t}=so(),{AsyncResource:B1t}=require("node:async_hooks"),Z7e=ci(),{addSignal:R1t,removeSignal:eTe}=xS(),tTe=require("node:assert"),Gne=class extends B1t{static{o(this,"UpgradeHandler")}constructor(t,r){if(!t||typeof t!="object")throw new Wne("invalid opts");if(typeof r!="function")throw new Wne("invalid callback");let{signal:n,opaque:i,responseHeaders:s}=t;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new Wne("signal must be an EventEmitter or EventTarget");super("UNDICI_UPGRADE"),this.responseHeaders=s||null,this.opaque=i||null,this.callback=r,this.abort=null,this.context=null,R1t(this,n)}onConnect(t,r){if(this.reason){t(this.reason);return}tTe(this.callback),this.abort=t,this.context=null}onHeaders(){throw new k1t("bad upgrade",null)}onUpgrade(t,r,n){tTe(t===101);let{callback:i,opaque:s,context:a}=this;eTe(this),this.callback=null;let l=this.responseHeaders==="raw"?Z7e.parseRawHeaders(r):Z7e.parseHeaders(r);this.runInAsyncScope(i,null,null,{headers:l,socket:n,opaque:s,context:a})}onError(t){let{callback:r,opaque:n}=this;eTe(this),r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,t,{opaque:n})}))}};function rTe(e,t){if(t===void 0)return new Promise((r,n)=>{rTe.call(this,e,(i,s)=>i?n(i):r(s))});try{let r=new Gne(e,t);this.dispatch({...e,method:e.method||"GET",upgrade:e.protocol||"Websocket"},r)}catch(r){if(typeof t!="function")throw r;let n=e?.opaque;queueMicrotask(()=>t(r,{opaque:n}))}}o(rTe,"upgrade");nTe.exports=rTe});var cTe=V((jOr,lTe)=>{"use strict";d();var D1t=require("node:assert"),{AsyncResource:P1t}=require("node:async_hooks"),{InvalidArgumentError:Hne,SocketError:F1t}=so(),oTe=ci(),{addSignal:N1t,removeSignal:sTe}=xS(),Vne=class extends P1t{static{o(this,"ConnectHandler")}constructor(t,r){if(!t||typeof t!="object")throw new Hne("invalid opts");if(typeof r!="function")throw new Hne("invalid callback");let{signal:n,opaque:i,responseHeaders:s}=t;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new Hne("signal must be an EventEmitter or EventTarget");super("UNDICI_CONNECT"),this.opaque=i||null,this.responseHeaders=s||null,this.callback=r,this.abort=null,N1t(this,n)}onConnect(t,r){if(this.reason){t(this.reason);return}D1t(this.callback),this.abort=t,this.context=r}onHeaders(){throw new F1t("bad connect",null)}onUpgrade(t,r,n){let{callback:i,opaque:s,context:a}=this;sTe(this),this.callback=null;let l=r;l!=null&&(l=this.responseHeaders==="raw"?oTe.parseRawHeaders(r):oTe.parseHeaders(r)),this.runInAsyncScope(i,null,null,{statusCode:t,headers:l,socket:n,opaque:s,context:a})}onError(t){let{callback:r,opaque:n}=this;sTe(this),r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,t,{opaque:n})}))}};function aTe(e,t){if(t===void 0)return new Promise((r,n)=>{aTe.call(this,e,(i,s)=>i?n(i):r(s))});try{let r=new Vne(e,t);this.dispatch({...e,method:"CONNECT"},r)}catch(r){if(typeof t!="function")throw r;let n=e?.opaque;queueMicrotask(()=>t(r,{opaque:n}))}}o(aTe,"connect");lTe.exports=aTe});var uTe=V((YOr,c8)=>{"use strict";d();c8.exports.request=q7e();c8.exports.stream=z7e();c8.exports.pipeline=X7e();c8.exports.upgrade=iTe();c8.exports.connect=cTe()});var $ne=V((JOr,fTe)=>{"use strict";d();var{UndiciError:L1t}=so(),jne=class e extends L1t{static{o(this,"MockNotMatchedError")}constructor(t){super(t),Error.captureStackTrace(this,e),this.name="MockNotMatchedError",this.message=t||"The request does not match any registered mock dispatches",this.code="UND_MOCK_ERR_MOCK_NOT_MATCHED"}};fTe.exports={MockNotMatchedError:jne}});var u8=V((eUr,dTe)=>{"use strict";d();dTe.exports={kAgent:Symbol("agent"),kOptions:Symbol("options"),kFactory:Symbol("factory"),kDispatches:Symbol("dispatches"),kDispatchKey:Symbol("dispatch key"),kDefaultHeaders:Symbol("default headers"),kDefaultTrailers:Symbol("default trailers"),kContentLength:Symbol("content length"),kMockAgent:Symbol("mock agent"),kMockAgentSet:Symbol("mock agent set"),kMockAgentGet:Symbol("mock agent get"),kMockDispatch:Symbol("mock dispatch"),kClose:Symbol("close"),kOriginalClose:Symbol("original agent close"),kOrigin:Symbol("origin"),kIsMockActive:Symbol("is mock active"),kNetConnect:Symbol("net connect"),kGetNetConnect:Symbol("get net connect"),kConnected:Symbol("connected")}});var bS=V((rUr,vTe)=>{"use strict";d();var{MockNotMatchedError:V4}=$ne(),{kDispatches:OO,kMockAgent:Q1t,kOriginalDispatch:M1t,kOrigin:O1t,kGetNetConnect:U1t}=u8(),{buildURL:q1t}=ci(),{STATUS_CODES:W1t}=require("node:http"),{types:{isPromise:G1t}}=require("node:util");function X1(e,t){return typeof e=="string"?e===t:e instanceof RegExp?e.test(t):typeof e=="function"?e(t)===!0:!1}o(X1,"matchValue");function hTe(e){return Object.fromEntries(Object.entries(e).map(([t,r])=>[t.toLocaleLowerCase(),r]))}o(hTe,"lowerCaseEntries");function pTe(e,t){if(Array.isArray(e)){for(let r=0;r<e.length;r+=2)if(e[r].toLocaleLowerCase()===t.toLocaleLowerCase())return e[r+1];return}else return typeof e.get=="function"?e.get(t):hTe(e)[t.toLocaleLowerCase()]}o(pTe,"getHeaderByName");function Kne(e){let t=e.slice(),r=[];for(let n=0;n<t.length;n+=2)r.push([t[n],t[n+1]]);return Object.fromEntries(r)}o(Kne,"buildHeadersFromArray");function gTe(e,t){if(typeof e.headers=="function")return Array.isArray(t)&&(t=Kne(t)),e.headers(t?hTe(t):{});if(typeof e.headers>"u")return!0;if(typeof t!="object"||typeof e.headers!="object")return!1;for(let[r,n]of Object.entries(e.headers)){let i=pTe(t,r);if(!X1(n,i))return!1}return!0}o(gTe,"matchHeaders");function mTe(e){if(typeof e!="string")return e;let t=e.split("?");if(t.length!==2)return e;let r=new URLSearchParams(t.pop());return r.sort(),[...t,r.toString()].join("?")}o(mTe,"safeUrl");function H1t(e,{path:t,method:r,body:n,headers:i}){let s=X1(e.path,t),a=X1(e.method,r),l=typeof e.body<"u"?X1(e.body,n):!0,c=gTe(e,i);return s&&a&&l&&c}o(H1t,"matchKey");function ATe(e){return Buffer.isBuffer(e)||e instanceof Uint8Array||e instanceof ArrayBuffer?e:typeof e=="object"?JSON.stringify(e):e.toString()}o(ATe,"getResponseData");function yTe(e,t){let r=t.query?q1t(t.path,t.query):t.path,n=typeof r=="string"?mTe(r):r,i=e.filter(({consumed:s})=>!s).filter(({path:s})=>X1(mTe(s),n));if(i.length===0)throw new V4(`Mock dispatch not matched for path '${n}'`);if(i=i.filter(({method:s})=>X1(s,t.method)),i.length===0)throw new V4(`Mock dispatch not matched for method '${t.method}' on path '${n}'`);if(i=i.filter(({body:s})=>typeof s<"u"?X1(s,t.body):!0),i.length===0)throw new V4(`Mock dispatch not matched for body '${t.body}' on path '${n}'`);if(i=i.filter(s=>gTe(s,t.headers)),i.length===0){let s=typeof t.headers=="object"?JSON.stringify(t.headers):t.headers;throw new V4(`Mock dispatch not matched for headers '${s}' on path '${n}'`)}return i[0]}o(yTe,"getMockDispatch");function V1t(e,t,r){let n={timesInvoked:0,times:1,persist:!1,consumed:!1},i=typeof r=="function"?{callback:r}:{...r},s={...n,...t,pending:!0,data:{error:null,...i}};return e.push(s),s}o(V1t,"addMockDispatch");function zne(e,t){let r=e.findIndex(n=>n.consumed?H1t(n,t):!1);r!==-1&&e.splice(r,1)}o(zne,"deleteMockDispatch");function CTe(e){let{path:t,method:r,body:n,headers:i,query:s}=e;return{path:t,method:r,body:n,headers:i,query:s}}o(CTe,"buildKey");function Yne(e){let t=Object.keys(e),r=[];for(let n=0;n<t.length;++n){let i=t[n],s=e[i],a=Buffer.from(`${i}`);if(Array.isArray(s))for(let l=0;l<s.length;++l)r.push(a,Buffer.from(`${s[l]}`));else r.push(a,Buffer.from(`${s}`))}return r}o(Yne,"generateKeyValues");function xTe(e){return W1t[e]||"unknown"}o(xTe,"getStatusText");async function j1t(e){let t=[];for await(let r of e)t.push(r);return Buffer.concat(t).toString("utf8")}o(j1t,"getResponse");function ETe(e,t){let r=CTe(e),n=yTe(this[OO],r);n.timesInvoked++,n.data.callback&&(n.data={...n.data,...n.data.callback(e)});let{data:{statusCode:i,data:s,headers:a,trailers:l,error:c},delay:u,persist:f}=n,{timesInvoked:m,times:h}=n;if(n.consumed=!f&&m>=h,n.pending=m<h,c!==null)return zne(this[OO],r),t.onError(c),!0;typeof u=="number"&&u>0?setTimeout(()=>{p(this[OO])},u):p(this[OO]);function p(x,E=s){let v=Array.isArray(e.headers)?Kne(e.headers):e.headers,b=typeof E=="function"?E({...e,headers:v}):E;if(G1t(b)){b.then(F=>p(x,F));return}let S=ATe(b),B=Yne(a),P=Yne(l);t.onConnect?.(F=>t.onError(F),null),t.onHeaders?.(i,B,A,xTe(i)),t.onData?.(Buffer.from(S)),t.onComplete?.(P),zne(x,r)}o(p,"handleReply");function A(){}return o(A,"resume"),!0}o(ETe,"mockDispatch");function $1t(){let e=this[Q1t],t=this[O1t],r=this[M1t];return o(function(i,s){if(e.isMockActive)try{ETe.call(this,i,s)}catch(a){if(a instanceof V4){let l=e[U1t]();if(l===!1)throw new V4(`${a.message}: subsequent request to origin ${t} was not allowed (net.connect disabled)`);if(bTe(l,t))r.call(this,i,s);else throw new V4(`${a.message}: subsequent request to origin ${t} was not allowed (net.connect is not enabled for this origin)`)}else throw a}else r.call(this,i,s)},"dispatch")}o($1t,"buildMockDispatch");function bTe(e,t){let r=new URL(t);return e===!0?!0:!!(Array.isArray(e)&&e.some(n=>X1(n,r.host)))}o(bTe,"checkNetConnect");function z1t(e){if(e){let{agent:t,...r}=e;return r}}o(z1t,"buildMockOptions");vTe.exports={getResponseData:ATe,getMockDispatch:yTe,addMockDispatch:V1t,deleteMockDispatch:zne,buildKey:CTe,generateKeyValues:Yne,matchValue:X1,getResponse:j1t,getStatusText:xTe,mockDispatch:ETe,buildMockDispatch:$1t,checkNetConnect:bTe,buildMockOptions:z1t,getHeaderByName:pTe,buildHeadersFromArray:Kne}});var nie=V((oUr,rie)=>{"use strict";d();var{getResponseData:Y1t,buildKey:K1t,addMockDispatch:Jne}=bS(),{kDispatches:UO,kDispatchKey:qO,kDefaultHeaders:Xne,kDefaultTrailers:Zne,kContentLength:eie,kMockDispatch:WO}=u8(),{InvalidArgumentError:$p}=so(),{buildURL:J1t}=ci(),f8=class{static{o(this,"MockScope")}constructor(t){this[WO]=t}delay(t){if(typeof t!="number"||!Number.isInteger(t)||t<=0)throw new $p("waitInMs must be a valid integer > 0");return this[WO].delay=t,this}persist(){return this[WO].persist=!0,this}times(t){if(typeof t!="number"||!Number.isInteger(t)||t<=0)throw new $p("repeatTimes must be a valid integer > 0");return this[WO].times=t,this}},tie=class{static{o(this,"MockInterceptor")}constructor(t,r){if(typeof t!="object")throw new $p("opts must be an object");if(typeof t.path>"u")throw new $p("opts.path must be defined");if(typeof t.method>"u"&&(t.method="GET"),typeof t.path=="string")if(t.query)t.path=J1t(t.path,t.query);else{let n=new URL(t.path,"data://");t.path=n.pathname+n.search}typeof t.method=="string"&&(t.method=t.method.toUpperCase()),this[qO]=K1t(t),this[UO]=r,this[Xne]={},this[Zne]={},this[eie]=!1}createMockScopeDispatchData({statusCode:t,data:r,responseOptions:n}){let i=Y1t(r),s=this[eie]?{"content-length":i.length}:{},a={...this[Xne],...s,...n.headers},l={...this[Zne],...n.trailers};return{statusCode:t,data:r,headers:a,trailers:l}}validateReplyParameters(t){if(typeof t.statusCode>"u")throw new $p("statusCode must be defined");if(typeof t.responseOptions!="object"||t.responseOptions===null)throw new $p("responseOptions must be an object")}reply(t){if(typeof t=="function"){let s=o(l=>{let c=t(l);if(typeof c!="object"||c===null)throw new $p("reply options callback must return an object");let u={data:"",responseOptions:{},...c};return this.validateReplyParameters(u),{...this.createMockScopeDispatchData(u)}},"wrappedDefaultsCallback"),a=Jne(this[UO],this[qO],s);return new f8(a)}let r={statusCode:t,data:arguments[1]===void 0?"":arguments[1],responseOptions:arguments[2]===void 0?{}:arguments[2]};this.validateReplyParameters(r);let n=this.createMockScopeDispatchData(r),i=Jne(this[UO],this[qO],n);return new f8(i)}replyWithError(t){if(typeof t>"u")throw new $p("error must be defined");let r=Jne(this[UO],this[qO],{error:t});return new f8(r)}defaultReplyHeaders(t){if(typeof t>"u")throw new $p("headers must be defined");return this[Xne]=t,this}defaultReplyTrailers(t){if(typeof t>"u")throw new $p("trailers must be defined");return this[Zne]=t,this}replyContentLength(){return this[eie]=!0,this}};rie.exports.MockInterceptor=tie;rie.exports.MockScope=f8});var sie=V((lUr,BTe)=>{"use strict";d();var{promisify:X1t}=require("node:util"),Z1t=uS(),{buildMockDispatch:eAt}=bS(),{kDispatches:ITe,kMockAgent:TTe,kClose:wTe,kOriginalClose:STe,kOrigin:_Te,kOriginalDispatch:tAt,kConnected:iie}=u8(),{MockInterceptor:rAt}=nie(),kTe=vs(),{InvalidArgumentError:nAt}=so(),oie=class extends Z1t{static{o(this,"MockClient")}constructor(t,r){if(super(t,r),!r||!r.agent||typeof r.agent.dispatch!="function")throw new nAt("Argument opts.agent must implement Agent");this[TTe]=r.agent,this[_Te]=t,this[ITe]=[],this[iie]=1,this[tAt]=this.dispatch,this[STe]=this.close.bind(this),this.dispatch=eAt.call(this),this.close=this[wTe]}get[kTe.kConnected](){return this[iie]}intercept(t){return new rAt(t,this[ITe])}async[wTe](){await X1t(this[STe])(),this[iie]=0,this[TTe][kTe.kClients].delete(this[_Te])}};BTe.exports=oie});var cie=V((fUr,QTe)=>{"use strict";d();var{promisify:iAt}=require("node:util"),oAt=r8(),{buildMockDispatch:sAt}=bS(),{kDispatches:RTe,kMockAgent:DTe,kClose:PTe,kOriginalClose:FTe,kOrigin:NTe,kOriginalDispatch:aAt,kConnected:aie}=u8(),{MockInterceptor:lAt}=nie(),LTe=vs(),{InvalidArgumentError:cAt}=so(),lie=class extends oAt{static{o(this,"MockPool")}constructor(t,r){if(super(t,r),!r||!r.agent||typeof r.agent.dispatch!="function")throw new cAt("Argument opts.agent must implement Agent");this[DTe]=r.agent,this[NTe]=t,this[RTe]=[],this[aie]=1,this[aAt]=this.dispatch,this[FTe]=this.close.bind(this),this.dispatch=sAt.call(this),this.close=this[PTe]}get[LTe.kConnected](){return this[aie]}intercept(t){return new lAt(t,this[RTe])}async[PTe](){await iAt(this[FTe])(),this[aie]=0,this[DTe][LTe.kClients].delete(this[NTe])}};QTe.exports=lie});var OTe=V((pUr,MTe)=>{"use strict";d();var uAt={pronoun:"it",is:"is",was:"was",this:"this"},fAt={pronoun:"they",is:"are",was:"were",this:"these"};MTe.exports=class{static{o(this,"Pluralizer")}constructor(t,r){this.singular=t,this.plural=r}pluralize(t){let r=t===1,n=r?uAt:fAt,i=r?this.singular:this.plural;return{...n,count:t,noun:i}}}});var qTe=V((CUr,UTe)=>{"use strict";d();var{Transform:dAt}=require("node:stream"),{Console:mAt}=require("node:console"),hAt=process.versions.icu?"\u2705":"Y ",pAt=process.versions.icu?"\u274C":"N ";UTe.exports=class{static{o(this,"PendingInterceptorsFormatter")}constructor({disableColors:t}={}){this.transform=new dAt({transform(r,n,i){i(null,r)}}),this.logger=new mAt({stdout:this.transform,inspectOptions:{colors:!t&&!process.env.CI}})}format(t){let r=t.map(({method:n,path:i,data:{statusCode:s},persist:a,times:l,timesInvoked:c,origin:u})=>({Method:n,Origin:u,Path:i,"Status code":s,Persistent:a?hAt:pAt,Invocations:c,Remaining:a?1/0:l-c}));return this.logger.table(r),this.transform.read().toString()}}});var VTe=V((bUr,HTe)=>{"use strict";d();var{kClients:j4}=vs(),gAt=n8(),{kAgent:uie,kMockAgentSet:GO,kMockAgentGet:WTe,kDispatches:fie,kIsMockActive:HO,kNetConnect:$4,kGetNetConnect:AAt,kOptions:VO,kFactory:jO}=u8(),yAt=sie(),CAt=cie(),{matchValue:xAt,buildMockOptions:EAt}=bS(),{InvalidArgumentError:GTe,UndiciError:bAt}=so(),vAt=Ww(),IAt=OTe(),TAt=qTe(),die=class extends vAt{static{o(this,"MockAgent")}constructor(t){if(super(t),this[$4]=!0,this[HO]=!0,t?.agent&&typeof t.agent.dispatch!="function")throw new GTe("Argument opts.agent must implement Agent");let r=t?.agent?t.agent:new gAt(t);this[uie]=r,this[j4]=r[j4],this[VO]=EAt(t)}get(t){let r=this[WTe](t);return r||(r=this[jO](t),this[GO](t,r)),r}dispatch(t,r){return this.get(t.origin),this[uie].dispatch(t,r)}async close(){await this[uie].close(),this[j4].clear()}deactivate(){this[HO]=!1}activate(){this[HO]=!0}enableNetConnect(t){if(typeof t=="string"||typeof t=="function"||t instanceof RegExp)Array.isArray(this[$4])?this[$4].push(t):this[$4]=[t];else if(typeof t>"u")this[$4]=!0;else throw new GTe("Unsupported matcher. Must be one of String|Function|RegExp.")}disableNetConnect(){this[$4]=!1}get isMockActive(){return this[HO]}[GO](t,r){this[j4].set(t,r)}[jO](t){let r=Object.assign({agent:this},this[VO]);return this[VO]&&this[VO].connections===1?new yAt(t,r):new CAt(t,r)}[WTe](t){let r=this[j4].get(t);if(r)return r;if(typeof t!="string"){let n=this[jO]("http://localhost:9999");return this[GO](t,n),n}for(let[n,i]of Array.from(this[j4]))if(i&&typeof n!="string"&&xAt(n,t)){let s=this[jO](t);return this[GO](t,s),s[fie]=i[fie],s}}[AAt](){return this[$4]}pendingInterceptors(){let t=this[j4];return Array.from(t.entries()).flatMap(([r,n])=>n[fie].map(i=>({...i,origin:r}))).filter(({pending:r})=>r)}assertNoPendingInterceptors({pendingInterceptorsFormatter:t=new TAt}={}){let r=this.pendingInterceptors();if(r.length===0)return;let n=new IAt("interceptor","interceptors").pluralize(r.length);throw new bAt(`
${n.count} ${n.noun} ${n.is} pending:

${t.format(r)}
`.trim())}};HTe.exports=die});var $O=V((TUr,YTe)=>{"use strict";d();var jTe=Symbol.for("undici.globalDispatcher.1"),{InvalidArgumentError:wAt}=so(),SAt=n8();zTe()===void 0&&$Te(new SAt);function $Te(e){if(!e||typeof e.dispatch!="function")throw new wAt("Argument agent must implement Agent");Object.defineProperty(globalThis,jTe,{value:e,writable:!0,enumerable:!1,configurable:!1})}o($Te,"setGlobalDispatcher");function zTe(){return globalThis[jTe]}o(zTe,"getGlobalDispatcher");YTe.exports={setGlobalDispatcher:$Te,getGlobalDispatcher:zTe}});var zO=V((kUr,KTe)=>{"use strict";d();KTe.exports=class{static{o(this,"DecoratorHandler")}#e;constructor(t){if(typeof t!="object"||t===null)throw new TypeError("handler must be an object");this.#e=t}onConnect(...t){return this.#e.onConnect?.(...t)}onError(...t){return this.#e.onError?.(...t)}onUpgrade(...t){return this.#e.onUpgrade?.(...t)}onResponseStarted(...t){return this.#e.onResponseStarted?.(...t)}onHeaders(...t){return this.#e.onHeaders?.(...t)}onData(...t){return this.#e.onData?.(...t)}onComplete(...t){return this.#e.onComplete?.(...t)}onBodySent(...t){return this.#e.onBodySent?.(...t)}}});var XTe=V((DUr,JTe)=>{"use strict";d();var _At=wO();JTe.exports=e=>{let t=e?.maxRedirections;return r=>o(function(i,s){let{maxRedirections:a=t,...l}=i;if(!a)return r(i,s);let c=new _At(r,a,i,s);return r(l,c)},"redirectInterceptor")}});var ewe=V((NUr,ZTe)=>{"use strict";d();var kAt=QO();ZTe.exports=e=>t=>o(function(n,i){return t(n,new kAt({...n,retryOptions:{...e,...n.retryOptions}},{handler:i,dispatch:t}))},"retryInterceptor")});var rwe=V((MUr,twe)=>{"use strict";d();var BAt=ci(),{InvalidArgumentError:RAt,RequestAbortedError:DAt}=so(),PAt=zO(),mie=class extends PAt{static{o(this,"DumpHandler")}#e=1024*1024;#t=null;#i=!1;#n=!1;#r=0;#o=null;#s=null;constructor({maxSize:t},r){if(super(r),t!=null&&(!Number.isFinite(t)||t<1))throw new RAt("maxSize must be a number greater than 0");this.#e=t??this.#e,this.#s=r}onConnect(t){this.#t=t,this.#s.onConnect(this.#a.bind(this))}#a(t){this.#n=!0,this.#o=t}onHeaders(t,r,n,i){let a=BAt.parseHeaders(r)["content-length"];if(a!=null&&a>this.#e)throw new DAt(`Response size (${a}) larger than maxSize (${this.#e})`);return this.#n?!0:this.#s.onHeaders(t,r,n,i)}onError(t){this.#i||(t=this.#o??t,this.#s.onError(t))}onData(t){return this.#r=this.#r+t.length,this.#r>=this.#e&&(this.#i=!0,this.#n?this.#s.onError(this.#o):this.#s.onComplete([])),!0}onComplete(t){if(!this.#i){if(this.#n){this.#s.onError(this.reason);return}this.#s.onComplete(t)}}};function FAt({maxSize:e}={maxSize:1024*1024}){return t=>o(function(n,i){let{dumpMaxSize:s=e}=n,a=new mie({maxSize:s},i);return t(n,a)},"Intercept")}o(FAt,"createDumpInterceptor");twe.exports=FAt});var owe=V((qUr,iwe)=>{"use strict";d();var{isIP:NAt}=require("node:net"),{lookup:LAt}=require("node:dns"),QAt=zO(),{InvalidArgumentError:d8,InformationalError:MAt}=so(),nwe=Math.pow(2,31)-1,hie=class{static{o(this,"DNSInstance")}#e=0;#t=0;#i=new Map;dualStack=!0;affinity=null;lookup=null;pick=null;constructor(t){this.#e=t.maxTTL,this.#t=t.maxItems,this.dualStack=t.dualStack,this.affinity=t.affinity,this.lookup=t.lookup??this.#n,this.pick=t.pick??this.#r}get full(){return this.#i.size===this.#t}runLookup(t,r,n){let i=this.#i.get(t.hostname);if(i==null&&this.full){n(null,t.origin);return}let s={affinity:this.affinity,dualStack:this.dualStack,lookup:this.lookup,pick:this.pick,...r.dns,maxTTL:this.#e,maxItems:this.#t};if(i==null)this.lookup(t,s,(a,l)=>{if(a||l==null||l.length===0){n(a??new MAt("No DNS entries found"));return}this.setRecords(t,l);let c=this.#i.get(t.hostname),u=this.pick(t,c,s.affinity),f;typeof u.port=="number"?f=`:${u.port}`:t.port!==""?f=`:${t.port}`:f="",n(null,`${t.protocol}//${u.family===6?`[${u.address}]`:u.address}${f}`)});else{let a=this.pick(t,i,s.affinity);if(a==null){this.#i.delete(t.hostname),this.runLookup(t,r,n);return}let l;typeof a.port=="number"?l=`:${a.port}`:t.port!==""?l=`:${t.port}`:l="",n(null,`${t.protocol}//${a.family===6?`[${a.address}]`:a.address}${l}`)}}#n(t,r,n){LAt(t.hostname,{all:!0,family:this.dualStack===!1?this.affinity:0,order:"ipv4first"},(i,s)=>{if(i)return n(i);let a=new Map;for(let l of s)a.set(`${l.address}:${l.family}`,l);n(null,a.values())})}#r(t,r,n){let i=null,{records:s,offset:a}=r,l;if(this.dualStack?(n==null&&(a==null||a===nwe?(r.offset=0,n=4):(r.offset++,n=(r.offset&1)===1?6:4)),s[n]!=null&&s[n].ips.length>0?l=s[n]:l=s[n===4?6:4]):l=s[n],l==null||l.ips.length===0)return i;l.offset==null||l.offset===nwe?l.offset=0:l.offset++;let c=l.offset%l.ips.length;return i=l.ips[c]??null,i==null?i:Date.now()-i.timestamp>i.ttl?(l.ips.splice(c,1),this.pick(t,r,n)):i}setRecords(t,r){let n=Date.now(),i={records:{4:null,6:null}};for(let s of r){s.timestamp=n,typeof s.ttl=="number"?s.ttl=Math.min(s.ttl,this.#e):s.ttl=this.#e;let a=i.records[s.family]??{ips:[]};a.ips.push(s),i.records[s.family]=a}this.#i.set(t.hostname,i)}getHandler(t,r){return new pie(this,t,r)}},pie=class extends QAt{static{o(this,"DNSDispatchHandler")}#e=null;#t=null;#i=null;#n=null;#r=null;constructor(t,{origin:r,handler:n,dispatch:i},s){super(n),this.#r=r,this.#n=n,this.#t={...s},this.#e=t,this.#i=i}onError(t){switch(t.code){case"ETIMEDOUT":case"ECONNREFUSED":{if(this.#e.dualStack){this.#e.runLookup(this.#r,this.#t,(r,n)=>{if(r)return this.#n.onError(r);let i={...this.#t,origin:n};this.#i(i,this)});return}this.#n.onError(t);return}case"ENOTFOUND":this.#e.deleteRecord(this.#r);default:this.#n.onError(t);break}}};iwe.exports=e=>{if(e?.maxTTL!=null&&(typeof e?.maxTTL!="number"||e?.maxTTL<0))throw new d8("Invalid maxTTL. Must be a positive number");if(e?.maxItems!=null&&(typeof e?.maxItems!="number"||e?.maxItems<1))throw new d8("Invalid maxItems. Must be a positive number and greater than zero");if(e?.affinity!=null&&e?.affinity!==4&&e?.affinity!==6)throw new d8("Invalid affinity. Must be either 4 or 6");if(e?.dualStack!=null&&typeof e?.dualStack!="boolean")throw new d8("Invalid dualStack. Must be a boolean");if(e?.lookup!=null&&typeof e?.lookup!="function")throw new d8("Invalid lookup. Must be a function");if(e?.pick!=null&&typeof e?.pick!="function")throw new d8("Invalid pick. Must be a function");let t=e?.dualStack??!0,r;t?r=e?.affinity??null:r=e?.affinity??4;let n={maxTTL:e?.maxTTL??1e4,lookup:e?.lookup??null,pick:e?.pick??null,dualStack:t,affinity:r,maxItems:e?.maxItems??1/0},i=new hie(n);return s=>o(function(l,c){let u=l.origin.constructor===URL?l.origin:new URL(l.origin);return NAt(u.hostname)!==0?s(l,c):(i.runLookup(u,l,(f,m)=>{if(f)return c.onError(f);let h=null;h={...l,servername:u.hostname,origin:m,headers:{host:u.hostname,...l.headers}},s(h,i.getHandler({origin:u,dispatch:s,handler:c},l))}),!0)},"dnsInterceptor")}});var z4=V((HUr,dwe)=>{"use strict";d();var{kConstruct:OAt}=vs(),{kEnumerableProperty:m8}=ci(),{iteratorMixin:UAt,isValidHeaderName:vS,isValidHeaderValue:awe}=Xu(),{webidl:qi}=zl(),gie=require("node:assert"),YO=require("node:util"),La=Symbol("headers map"),tf=Symbol("headers map sorted");function swe(e){return e===10||e===13||e===9||e===32}o(swe,"isHTTPWhiteSpaceCharCode");function lwe(e){let t=0,r=e.length;for(;r>t&&swe(e.charCodeAt(r-1));)--r;for(;r>t&&swe(e.charCodeAt(t));)++t;return t===0&&r===e.length?e:e.substring(t,r)}o(lwe,"headerValueNormalize");function cwe(e,t){if(Array.isArray(t))for(let r=0;r<t.length;++r){let n=t[r];if(n.length!==2)throw qi.errors.exception({header:"Headers constructor",message:`expected name/value pair to be length 2, found ${n.length}.`});Aie(e,n[0],n[1])}else if(typeof t=="object"&&t!==null){let r=Object.keys(t);for(let n=0;n<r.length;++n)Aie(e,r[n],t[r[n]])}else throw qi.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})}o(cwe,"fill");function Aie(e,t,r){if(r=lwe(r),vS(t)){if(!awe(r))throw qi.errors.invalidArgument({prefix:"Headers.append",value:r,type:"header value"})}else throw qi.errors.invalidArgument({prefix:"Headers.append",value:t,type:"header name"});if(fwe(e)==="immutable")throw new TypeError("immutable");return yie(e).append(t,r,!1)}o(Aie,"appendHeader");function uwe(e,t){return e[0]<t[0]?-1:1}o(uwe,"compareHeaderName");var KO=class e{static{o(this,"HeadersList")}cookies=null;constructor(t){t instanceof e?(this[La]=new Map(t[La]),this[tf]=t[tf],this.cookies=t.cookies===null?null:[...t.cookies]):(this[La]=new Map(t),this[tf]=null)}contains(t,r){return this[La].has(r?t:t.toLowerCase())}clear(){this[La].clear(),this[tf]=null,this.cookies=null}append(t,r,n){this[tf]=null;let i=n?t:t.toLowerCase(),s=this[La].get(i);if(s){let a=i==="cookie"?"; ":", ";this[La].set(i,{name:s.name,value:`${s.value}${a}${r}`})}else this[La].set(i,{name:t,value:r});i==="set-cookie"&&(this.cookies??=[]).push(r)}set(t,r,n){this[tf]=null;let i=n?t:t.toLowerCase();i==="set-cookie"&&(this.cookies=[r]),this[La].set(i,{name:t,value:r})}delete(t,r){this[tf]=null,r||(t=t.toLowerCase()),t==="set-cookie"&&(this.cookies=null),this[La].delete(t)}get(t,r){return this[La].get(r?t:t.toLowerCase())?.value??null}*[Symbol.iterator](){for(let{0:t,1:{value:r}}of this[La])yield[t,r]}get entries(){let t={};if(this[La].size!==0)for(let{name:r,value:n}of this[La].values())t[r]=n;return t}rawValues(){return this[La].values()}get entriesList(){let t=[];if(this[La].size!==0)for(let{0:r,1:{name:n,value:i}}of this[La])if(r==="set-cookie")for(let s of this.cookies)t.push([n,s]);else t.push([n,i]);return t}toSortedArray(){let t=this[La].size,r=new Array(t);if(t<=32){if(t===0)return r;let n=this[La][Symbol.iterator](),i=n.next().value;r[0]=[i[0],i[1].value],gie(i[1].value!==null);for(let s=1,a=0,l=0,c=0,u=0,f,m;s<t;++s){for(m=n.next().value,f=r[s]=[m[0],m[1].value],gie(f[1]!==null),c=0,l=s;c<l;)u=c+(l-c>>1),r[u][0]<=f[0]?c=u+1:l=u;if(s!==u){for(a=s;a>c;)r[a]=r[--a];r[c]=f}}if(!n.next().done)throw new TypeError("Unreachable");return r}else{let n=0;for(let{0:i,1:{value:s}}of this[La])r[n++]=[i,s],gie(s!==null);return r.sort(uwe)}}},eh=class e{static{o(this,"Headers")}#e;#t;constructor(t=void 0){qi.util.markAsUncloneable(this),t!==OAt&&(this.#t=new KO,this.#e="none",t!==void 0&&(t=qi.converters.HeadersInit(t,"Headers contructor","init"),cwe(this,t)))}append(t,r){qi.brandCheck(this,e),qi.argumentLengthCheck(arguments,2,"Headers.append");let n="Headers.append";return t=qi.converters.ByteString(t,n,"name"),r=qi.converters.ByteString(r,n,"value"),Aie(this,t,r)}delete(t){if(qi.brandCheck(this,e),qi.argumentLengthCheck(arguments,1,"Headers.delete"),t=qi.converters.ByteString(t,"Headers.delete","name"),!vS(t))throw qi.errors.invalidArgument({prefix:"Headers.delete",value:t,type:"header name"});if(this.#e==="immutable")throw new TypeError("immutable");this.#t.contains(t,!1)&&this.#t.delete(t,!1)}get(t){qi.brandCheck(this,e),qi.argumentLengthCheck(arguments,1,"Headers.get");let r="Headers.get";if(t=qi.converters.ByteString(t,r,"name"),!vS(t))throw qi.errors.invalidArgument({prefix:r,value:t,type:"header name"});return this.#t.get(t,!1)}has(t){qi.brandCheck(this,e),qi.argumentLengthCheck(arguments,1,"Headers.has");let r="Headers.has";if(t=qi.converters.ByteString(t,r,"name"),!vS(t))throw qi.errors.invalidArgument({prefix:r,value:t,type:"header name"});return this.#t.contains(t,!1)}set(t,r){qi.brandCheck(this,e),qi.argumentLengthCheck(arguments,2,"Headers.set");let n="Headers.set";if(t=qi.converters.ByteString(t,n,"name"),r=qi.converters.ByteString(r,n,"value"),r=lwe(r),vS(t)){if(!awe(r))throw qi.errors.invalidArgument({prefix:n,value:r,type:"header value"})}else throw qi.errors.invalidArgument({prefix:n,value:t,type:"header name"});if(this.#e==="immutable")throw new TypeError("immutable");this.#t.set(t,r,!1)}getSetCookie(){qi.brandCheck(this,e);let t=this.#t.cookies;return t?[...t]:[]}get[tf](){if(this.#t[tf])return this.#t[tf];let t=[],r=this.#t.toSortedArray(),n=this.#t.cookies;if(n===null||n.length===1)return this.#t[tf]=r;for(let i=0;i<r.length;++i){let{0:s,1:a}=r[i];if(s==="set-cookie")for(let l=0;l<n.length;++l)t.push([s,n[l]]);else t.push([s,a])}return this.#t[tf]=t}[YO.inspect.custom](t,r){return r.depth??=t,`Headers ${YO.formatWithOptions(r,this.#t.entries)}`}static getHeadersGuard(t){return t.#e}static setHeadersGuard(t,r){t.#e=r}static getHeadersList(t){return t.#t}static setHeadersList(t,r){t.#t=r}},{getHeadersGuard:fwe,setHeadersGuard:qAt,getHeadersList:yie,setHeadersList:WAt}=eh;Reflect.deleteProperty(eh,"getHeadersGuard");Reflect.deleteProperty(eh,"setHeadersGuard");Reflect.deleteProperty(eh,"getHeadersList");Reflect.deleteProperty(eh,"setHeadersList");UAt("Headers",eh,tf,0,1);Object.defineProperties(eh.prototype,{append:m8,delete:m8,get:m8,has:m8,set:m8,getSetCookie:m8,[Symbol.toStringTag]:{value:"Headers",configurable:!0},[YO.inspect.custom]:{enumerable:!1}});qi.converters.HeadersInit=function(e,t,r){if(qi.util.Type(e)==="Object"){let n=Reflect.get(e,Symbol.iterator);if(!YO.types.isProxy(e)&&n===eh.prototype.entries)try{return yie(e).entriesList}catch{}return typeof n=="function"?qi.converters["sequence<sequence<ByteString>>"](e,t,r,n.bind(e)):qi.converters["record<ByteString, ByteString>"](e,t,r)}throw qi.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})};dwe.exports={fill:cwe,compareHeaderName:uwe,Headers:eh,HeadersList:KO,getHeadersGuard:fwe,setHeadersGuard:qAt,setHeadersList:WAt,getHeadersList:yie}});var TS=V(($Ur,bwe)=>{"use strict";d();var{Headers:ywe,HeadersList:mwe,fill:GAt,getHeadersGuard:HAt,setHeadersGuard:Cwe,setHeadersList:xwe}=z4(),{extractBody:hwe,cloneBody:VAt,mixinBody:jAt,hasFinalizationRegistry:$At,streamRegistry:zAt,bodyUnusable:YAt}=YI(),Cie=ci(),pwe=require("node:util"),{kEnumerableProperty:rf}=Cie,{isValidReasonPhrase:KAt,isCancelled:JAt,isAborted:XAt,isBlobLike:ZAt,serializeJavascriptValueToJSONString:e2t,isErrorLike:t2t,isomorphicEncode:r2t,environmentSettingsObject:n2t}=Xu(),{redirectStatusSet:i2t,nullBodyStatus:o2t}=Vw(),{kState:Js,kHeaders:Z1}=ly(),{webidl:Yn}=zl(),{FormData:s2t}=Jw(),{URLSerializer:gwe}=Kc(),{kConstruct:XO}=vs(),xie=require("node:assert"),{types:a2t}=require("node:util"),l2t=new TextEncoder("utf-8"),Y4=class e{static{o(this,"Response")}static error(){return IS(ZO(),"immutable")}static json(t,r={}){Yn.argumentLengthCheck(arguments,1,"Response.json"),r!==null&&(r=Yn.converters.ResponseInit(r));let n=l2t.encode(e2t(t)),i=hwe(n),s=IS(h8({}),"response");return Awe(s,r,{body:i[0],type:"application/json"}),s}static redirect(t,r=302){Yn.argumentLengthCheck(arguments,1,"Response.redirect"),t=Yn.converters.USVString(t),r=Yn.converters["unsigned short"](r);let n;try{n=new URL(t,n2t.settingsObject.baseUrl)}catch(a){throw new TypeError(`Failed to parse URL from ${t}`,{cause:a})}if(!i2t.has(r))throw new RangeError(`Invalid status code ${r}`);let i=IS(h8({}),"immutable");i[Js].status=r;let s=r2t(gwe(n));return i[Js].headersList.append("location",s,!0),i}constructor(t=null,r={}){if(Yn.util.markAsUncloneable(this),t===XO)return;t!==null&&(t=Yn.converters.BodyInit(t)),r=Yn.converters.ResponseInit(r),this[Js]=h8({}),this[Z1]=new ywe(XO),Cwe(this[Z1],"response"),xwe(this[Z1],this[Js].headersList);let n=null;if(t!=null){let[i,s]=hwe(t);n={body:i,type:s}}Awe(this,r,n)}get type(){return Yn.brandCheck(this,e),this[Js].type}get url(){Yn.brandCheck(this,e);let t=this[Js].urlList,r=t[t.length-1]??null;return r===null?"":gwe(r,!0)}get redirected(){return Yn.brandCheck(this,e),this[Js].urlList.length>1}get status(){return Yn.brandCheck(this,e),this[Js].status}get ok(){return Yn.brandCheck(this,e),this[Js].status>=200&&this[Js].status<=299}get statusText(){return Yn.brandCheck(this,e),this[Js].statusText}get headers(){return Yn.brandCheck(this,e),this[Z1]}get body(){return Yn.brandCheck(this,e),this[Js].body?this[Js].body.stream:null}get bodyUsed(){return Yn.brandCheck(this,e),!!this[Js].body&&Cie.isDisturbed(this[Js].body.stream)}clone(){if(Yn.brandCheck(this,e),YAt(this))throw Yn.errors.exception({header:"Response.clone",message:"Body has already been consumed."});let t=Eie(this[Js]);return IS(t,HAt(this[Z1]))}[pwe.inspect.custom](t,r){r.depth===null&&(r.depth=2),r.colors??=!0;let n={status:this.status,statusText:this.statusText,headers:this.headers,body:this.body,bodyUsed:this.bodyUsed,ok:this.ok,redirected:this.redirected,type:this.type,url:this.url};return`Response ${pwe.formatWithOptions(r,n)}`}};jAt(Y4);Object.defineProperties(Y4.prototype,{type:rf,url:rf,status:rf,ok:rf,redirected:rf,statusText:rf,headers:rf,clone:rf,body:rf,bodyUsed:rf,[Symbol.toStringTag]:{value:"Response",configurable:!0}});Object.defineProperties(Y4,{json:rf,redirect:rf,error:rf});function Eie(e){if(e.internalResponse)return Ewe(Eie(e.internalResponse),e.type);let t=h8({...e,body:null});return e.body!=null&&(t.body=VAt(t,e.body)),t}o(Eie,"cloneResponse");function h8(e){return{aborted:!1,rangeRequested:!1,timingAllowPassed:!1,requestIncludesCredentials:!1,type:"default",status:200,timingInfo:null,cacheState:"",statusText:"",...e,headersList:e?.headersList?new mwe(e?.headersList):new mwe,urlList:e?.urlList?[...e.urlList]:[]}}o(h8,"makeResponse");function ZO(e){let t=t2t(e);return h8({type:"error",status:0,error:t?e:new Error(e&&String(e)),aborted:e&&e.name==="AbortError"})}o(ZO,"makeNetworkError");function c2t(e){return e.type==="error"&&e.status===0}o(c2t,"isNetworkError");function JO(e,t){return t={internalResponse:e,...t},new Proxy(e,{get(r,n){return n in t?t[n]:r[n]},set(r,n,i){return xie(!(n in t)),r[n]=i,!0}})}o(JO,"makeFilteredResponse");function Ewe(e,t){if(t==="basic")return JO(e,{type:"basic",headersList:e.headersList});if(t==="cors")return JO(e,{type:"cors",headersList:e.headersList});if(t==="opaque")return JO(e,{type:"opaque",urlList:Object.freeze([]),status:0,statusText:"",body:null});if(t==="opaqueredirect")return JO(e,{type:"opaqueredirect",status:0,statusText:"",headersList:[],body:null});xie(!1)}o(Ewe,"filterResponse");function u2t(e,t=null){return xie(JAt(e)),XAt(e)?ZO(Object.assign(new DOMException("The operation was aborted.","AbortError"),{cause:t})):ZO(Object.assign(new DOMException("Request was cancelled."),{cause:t}))}o(u2t,"makeAppropriateNetworkError");function Awe(e,t,r){if(t.status!==null&&(t.status<200||t.status>599))throw new RangeError('init["status"] must be in the range of 200 to 599, inclusive.');if("statusText"in t&&t.statusText!=null&&!KAt(String(t.statusText)))throw new TypeError("Invalid statusText");if("status"in t&&t.status!=null&&(e[Js].status=t.status),"statusText"in t&&t.statusText!=null&&(e[Js].statusText=t.statusText),"headers"in t&&t.headers!=null&&GAt(e[Z1],t.headers),r){if(o2t.includes(e.status))throw Yn.errors.exception({header:"Response constructor",message:`Invalid response status code ${e.status}`});e[Js].body=r.body,r.type!=null&&!e[Js].headersList.contains("content-type",!0)&&e[Js].headersList.append("content-type",r.type,!0)}}o(Awe,"initializeResponse");function IS(e,t){let r=new Y4(XO);return r[Js]=e,r[Z1]=new ywe(XO),xwe(r[Z1],e.headersList),Cwe(r[Z1],t),$At&&e.body?.stream&&zAt.register(r,new WeakRef(e.body.stream)),r}o(IS,"fromInnerResponse");Yn.converters.ReadableStream=Yn.interfaceConverter(ReadableStream);Yn.converters.FormData=Yn.interfaceConverter(s2t);Yn.converters.URLSearchParams=Yn.interfaceConverter(URLSearchParams);Yn.converters.XMLHttpRequestBodyInit=function(e,t,r){return typeof e=="string"?Yn.converters.USVString(e,t,r):ZAt(e)?Yn.converters.Blob(e,t,r,{strict:!1}):ArrayBuffer.isView(e)||a2t.isArrayBuffer(e)?Yn.converters.BufferSource(e,t,r):Cie.isFormDataLike(e)?Yn.converters.FormData(e,t,r,{strict:!1}):e instanceof URLSearchParams?Yn.converters.URLSearchParams(e,t,r):Yn.converters.DOMString(e,t,r)};Yn.converters.BodyInit=function(e,t,r){return e instanceof ReadableStream?Yn.converters.ReadableStream(e,t,r):e?.[Symbol.asyncIterator]?e:Yn.converters.XMLHttpRequestBodyInit(e,t,r)};Yn.converters.ResponseInit=Yn.dictionaryConverter([{key:"status",converter:Yn.converters["unsigned short"],defaultValue:o(()=>200,"defaultValue")},{key:"statusText",converter:Yn.converters.ByteString,defaultValue:o(()=>"","defaultValue")},{key:"headers",converter:Yn.converters.HeadersInit}]);bwe.exports={isNetworkError:c2t,makeNetworkError:ZO,makeResponse:h8,makeAppropriateNetworkError:u2t,filterResponse:Ewe,Response:Y4,cloneResponse:Eie,fromInnerResponse:IS}});var wwe=V((KUr,Twe)=>{"use strict";d();var{kConnected:vwe,kSize:Iwe}=vs(),bie=class{static{o(this,"CompatWeakRef")}constructor(t){this.value=t}deref(){return this.value[vwe]===0&&this.value[Iwe]===0?void 0:this.value}},vie=class{static{o(this,"CompatFinalizer")}constructor(t){this.finalizer=t}register(t,r){t.on&&t.on("disconnect",()=>{t[vwe]===0&&t[Iwe]===0&&this.finalizer(r)})}unregister(t){}};Twe.exports=function(){return process.env.NODE_V8_COVERAGE&&process.version.startsWith("v18")?(process._rawDebug("Using compatibility WeakRef and FinalizationRegistry"),{WeakRef:bie,FinalizationRegistry:vie}):{WeakRef,FinalizationRegistry}}});var p8=V((ZUr,qwe)=>{"use strict";d();var{extractBody:f2t,mixinBody:d2t,cloneBody:m2t,bodyUnusable:Swe}=YI(),{Headers:Lwe,fill:h2t,HeadersList:nU,setHeadersGuard:Tie,getHeadersGuard:p2t,setHeadersList:Qwe,getHeadersList:_we}=z4(),{FinalizationRegistry:g2t}=wwe()(),tU=ci(),kwe=require("node:util"),{isValidHTTPToken:A2t,sameOrigin:Bwe,environmentSettingsObject:eU}=Xu(),{forbiddenMethodsSet:y2t,corsSafeListedMethodsSet:C2t,referrerPolicy:x2t,requestRedirect:E2t,requestMode:b2t,requestCredentials:v2t,requestCache:I2t,requestDuplex:T2t}=Vw(),{kEnumerableProperty:Qa,normalizedMethodRecordsBase:w2t,normalizedMethodRecords:S2t}=tU,{kHeaders:nf,kSignal:rU,kState:is,kDispatcher:Iie}=ly(),{webidl:hn}=zl(),{URLSerializer:_2t}=Kc(),{kConstruct:iU}=vs(),k2t=require("node:assert"),{getMaxListeners:Rwe,setMaxListeners:Dwe,getEventListeners:B2t,defaultMaxListeners:Pwe}=require("node:events"),R2t=Symbol("abortController"),Mwe=new g2t(({signal:e,abort:t})=>{e.removeEventListener("abort",t)}),oU=new WeakMap;function Fwe(e){return t;function t(){let r=e.deref();if(r!==void 0){Mwe.unregister(t),this.removeEventListener("abort",t),r.abort(this.reason);let n=oU.get(r.signal);if(n!==void 0){if(n.size!==0){for(let i of n){let s=i.deref();s!==void 0&&s.abort(this.reason)}n.clear()}oU.delete(r.signal)}}}}o(Fwe,"buildAbort");var Nwe=!1,Cy=class e{static{o(this,"Request")}constructor(t,r={}){if(hn.util.markAsUncloneable(this),t===iU)return;let n="Request constructor";hn.argumentLengthCheck(arguments,1,n),t=hn.converters.RequestInfo(t,n,"input"),r=hn.converters.RequestInit(r,n,"init");let i=null,s=null,a=eU.settingsObject.baseUrl,l=null;if(typeof t=="string"){this[Iie]=r.dispatcher;let v;try{v=new URL(t,a)}catch(b){throw new TypeError("Failed to parse URL from "+t,{cause:b})}if(v.username||v.password)throw new TypeError("Request cannot be constructed from a URL that includes credentials: "+t);i=sU({urlList:[v]}),s="cors"}else this[Iie]=r.dispatcher||t[Iie],k2t(t instanceof e),i=t[is],l=t[rU];let c=eU.settingsObject.origin,u="client";if(i.window?.constructor?.name==="EnvironmentSettingsObject"&&Bwe(i.window,c)&&(u=i.window),r.window!=null)throw new TypeError(`'window' option '${u}' must be null`);"window"in r&&(u="no-window"),i=sU({method:i.method,headersList:i.headersList,unsafeRequest:i.unsafeRequest,client:eU.settingsObject,window:u,priority:i.priority,origin:i.origin,referrer:i.referrer,referrerPolicy:i.referrerPolicy,mode:i.mode,credentials:i.credentials,cache:i.cache,redirect:i.redirect,integrity:i.integrity,keepalive:i.keepalive,reloadNavigation:i.reloadNavigation,historyNavigation:i.historyNavigation,urlList:[...i.urlList]});let f=Object.keys(r).length!==0;if(f&&(i.mode==="navigate"&&(i.mode="same-origin"),i.reloadNavigation=!1,i.historyNavigation=!1,i.origin="client",i.referrer="client",i.referrerPolicy="",i.url=i.urlList[i.urlList.length-1],i.urlList=[i.url]),r.referrer!==void 0){let v=r.referrer;if(v==="")i.referrer="no-referrer";else{let b;try{b=new URL(v,a)}catch(S){throw new TypeError(`Referrer "${v}" is not a valid URL.`,{cause:S})}b.protocol==="about:"&&b.hostname==="client"||c&&!Bwe(b,eU.settingsObject.baseUrl)?i.referrer="client":i.referrer=b}}r.referrerPolicy!==void 0&&(i.referrerPolicy=r.referrerPolicy);let m;if(r.mode!==void 0?m=r.mode:m=s,m==="navigate")throw hn.errors.exception({header:"Request constructor",message:"invalid request mode navigate."});if(m!=null&&(i.mode=m),r.credentials!==void 0&&(i.credentials=r.credentials),r.cache!==void 0&&(i.cache=r.cache),i.cache==="only-if-cached"&&i.mode!=="same-origin")throw new TypeError("'only-if-cached' can be set only with 'same-origin' mode");if(r.redirect!==void 0&&(i.redirect=r.redirect),r.integrity!=null&&(i.integrity=String(r.integrity)),r.keepalive!==void 0&&(i.keepalive=!!r.keepalive),r.method!==void 0){let v=r.method,b=S2t[v];if(b!==void 0)i.method=b;else{if(!A2t(v))throw new TypeError(`'${v}' is not a valid HTTP method.`);let S=v.toUpperCase();if(y2t.has(S))throw new TypeError(`'${v}' HTTP method is unsupported.`);v=w2t[S]??v,i.method=v}!Nwe&&i.method==="patch"&&(process.emitWarning("Using `patch` is highly likely to result in a `405 Method Not Allowed`. `PATCH` is much more likely to succeed.",{code:"UNDICI-FETCH-patch"}),Nwe=!0)}r.signal!==void 0&&(l=r.signal),this[is]=i;let h=new AbortController;if(this[rU]=h.signal,l!=null){if(!l||typeof l.aborted!="boolean"||typeof l.addEventListener!="function")throw new TypeError("Failed to construct 'Request': member signal is not of type AbortSignal.");if(l.aborted)h.abort(l.reason);else{this[R2t]=h;let v=new WeakRef(h),b=Fwe(v);try{(typeof Rwe=="function"&&Rwe(l)===Pwe||B2t(l,"abort").length>=Pwe)&&Dwe(1500,l)}catch{}tU.addAbortListener(l,b),Mwe.register(h,{signal:l,abort:b},b)}}if(this[nf]=new Lwe(iU),Qwe(this[nf],i.headersList),Tie(this[nf],"request"),m==="no-cors"){if(!C2t.has(i.method))throw new TypeError(`'${i.method} is unsupported in no-cors mode.`);Tie(this[nf],"request-no-cors")}if(f){let v=_we(this[nf]),b=r.headers!==void 0?r.headers:new nU(v);if(v.clear(),b instanceof nU){for(let{name:S,value:B}of b.rawValues())v.append(S,B,!1);v.cookies=b.cookies}else h2t(this[nf],b)}let p=t instanceof e?t[is].body:null;if((r.body!=null||p!=null)&&(i.method==="GET"||i.method==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body.");let A=null;if(r.body!=null){let[v,b]=f2t(r.body,i.keepalive);A=v,b&&!_we(this[nf]).contains("content-type",!0)&&this[nf].append("content-type",b)}let x=A??p;if(x!=null&&x.source==null){if(A!=null&&r.duplex==null)throw new TypeError("RequestInit: duplex option is required when sending a body.");if(i.mode!=="same-origin"&&i.mode!=="cors")throw new TypeError('If request is made from ReadableStream, mode should be "same-origin" or "cors"');i.useCORSPreflightFlag=!0}let E=x;if(A==null&&p!=null){if(Swe(t))throw new TypeError("Cannot construct a Request with a Request object that has already been used.");let v=new TransformStream;p.stream.pipeThrough(v),E={source:p.source,length:p.length,stream:v.readable}}this[is].body=E}get method(){return hn.brandCheck(this,e),this[is].method}get url(){return hn.brandCheck(this,e),_2t(this[is].url)}get headers(){return hn.brandCheck(this,e),this[nf]}get destination(){return hn.brandCheck(this,e),this[is].destination}get referrer(){return hn.brandCheck(this,e),this[is].referrer==="no-referrer"?"":this[is].referrer==="client"?"about:client":this[is].referrer.toString()}get referrerPolicy(){return hn.brandCheck(this,e),this[is].referrerPolicy}get mode(){return hn.brandCheck(this,e),this[is].mode}get credentials(){return this[is].credentials}get cache(){return hn.brandCheck(this,e),this[is].cache}get redirect(){return hn.brandCheck(this,e),this[is].redirect}get integrity(){return hn.brandCheck(this,e),this[is].integrity}get keepalive(){return hn.brandCheck(this,e),this[is].keepalive}get isReloadNavigation(){return hn.brandCheck(this,e),this[is].reloadNavigation}get isHistoryNavigation(){return hn.brandCheck(this,e),this[is].historyNavigation}get signal(){return hn.brandCheck(this,e),this[rU]}get body(){return hn.brandCheck(this,e),this[is].body?this[is].body.stream:null}get bodyUsed(){return hn.brandCheck(this,e),!!this[is].body&&tU.isDisturbed(this[is].body.stream)}get duplex(){return hn.brandCheck(this,e),"half"}clone(){if(hn.brandCheck(this,e),Swe(this))throw new TypeError("unusable");let t=Owe(this[is]),r=new AbortController;if(this.signal.aborted)r.abort(this.signal.reason);else{let n=oU.get(this.signal);n===void 0&&(n=new Set,oU.set(this.signal,n));let i=new WeakRef(r);n.add(i),tU.addAbortListener(r.signal,Fwe(i))}return Uwe(t,r.signal,p2t(this[nf]))}[kwe.inspect.custom](t,r){r.depth===null&&(r.depth=2),r.colors??=!0;let n={method:this.method,url:this.url,headers:this.headers,destination:this.destination,referrer:this.referrer,referrerPolicy:this.referrerPolicy,mode:this.mode,credentials:this.credentials,cache:this.cache,redirect:this.redirect,integrity:this.integrity,keepalive:this.keepalive,isReloadNavigation:this.isReloadNavigation,isHistoryNavigation:this.isHistoryNavigation,signal:this.signal};return`Request ${kwe.formatWithOptions(r,n)}`}};d2t(Cy);function sU(e){return{method:e.method??"GET",localURLsOnly:e.localURLsOnly??!1,unsafeRequest:e.unsafeRequest??!1,body:e.body??null,client:e.client??null,reservedClient:e.reservedClient??null,replacesClientId:e.replacesClientId??"",window:e.window??"client",keepalive:e.keepalive??!1,serviceWorkers:e.serviceWorkers??"all",initiator:e.initiator??"",destination:e.destination??"",priority:e.priority??null,origin:e.origin??"client",policyContainer:e.policyContainer??"client",referrer:e.referrer??"client",referrerPolicy:e.referrerPolicy??"",mode:e.mode??"no-cors",useCORSPreflightFlag:e.useCORSPreflightFlag??!1,credentials:e.credentials??"same-origin",useCredentials:e.useCredentials??!1,cache:e.cache??"default",redirect:e.redirect??"follow",integrity:e.integrity??"",cryptoGraphicsNonceMetadata:e.cryptoGraphicsNonceMetadata??"",parserMetadata:e.parserMetadata??"",reloadNavigation:e.reloadNavigation??!1,historyNavigation:e.historyNavigation??!1,userActivation:e.userActivation??!1,taintedOrigin:e.taintedOrigin??!1,redirectCount:e.redirectCount??0,responseTainting:e.responseTainting??"basic",preventNoCacheCacheControlHeaderModification:e.preventNoCacheCacheControlHeaderModification??!1,done:e.done??!1,timingAllowFailed:e.timingAllowFailed??!1,urlList:e.urlList,url:e.urlList[0],headersList:e.headersList?new nU(e.headersList):new nU}}o(sU,"makeRequest");function Owe(e){let t=sU({...e,body:null});return e.body!=null&&(t.body=m2t(t,e.body)),t}o(Owe,"cloneRequest");function Uwe(e,t,r){let n=new Cy(iU);return n[is]=e,n[rU]=t,n[nf]=new Lwe(iU),Qwe(n[nf],e.headersList),Tie(n[nf],r),n}o(Uwe,"fromInnerRequest");Object.defineProperties(Cy.prototype,{method:Qa,url:Qa,headers:Qa,redirect:Qa,clone:Qa,signal:Qa,duplex:Qa,destination:Qa,body:Qa,bodyUsed:Qa,isHistoryNavigation:Qa,isReloadNavigation:Qa,keepalive:Qa,integrity:Qa,cache:Qa,credentials:Qa,attribute:Qa,referrerPolicy:Qa,referrer:Qa,mode:Qa,[Symbol.toStringTag]:{value:"Request",configurable:!0}});hn.converters.Request=hn.interfaceConverter(Cy);hn.converters.RequestInfo=function(e,t,r){return typeof e=="string"?hn.converters.USVString(e,t,r):e instanceof Cy?hn.converters.Request(e,t,r):hn.converters.USVString(e,t,r)};hn.converters.AbortSignal=hn.interfaceConverter(AbortSignal);hn.converters.RequestInit=hn.dictionaryConverter([{key:"method",converter:hn.converters.ByteString},{key:"headers",converter:hn.converters.HeadersInit},{key:"body",converter:hn.nullableConverter(hn.converters.BodyInit)},{key:"referrer",converter:hn.converters.USVString},{key:"referrerPolicy",converter:hn.converters.DOMString,allowedValues:x2t},{key:"mode",converter:hn.converters.DOMString,allowedValues:b2t},{key:"credentials",converter:hn.converters.DOMString,allowedValues:v2t},{key:"cache",converter:hn.converters.DOMString,allowedValues:I2t},{key:"redirect",converter:hn.converters.DOMString,allowedValues:E2t},{key:"integrity",converter:hn.converters.DOMString},{key:"keepalive",converter:hn.converters.boolean},{key:"signal",converter:hn.nullableConverter(e=>hn.converters.AbortSignal(e,"RequestInit","signal",{strict:!1}))},{key:"window",converter:hn.converters.any},{key:"duplex",converter:hn.converters.DOMString,allowedValues:T2t},{key:"dispatcher",converter:hn.converters.any}]);qwe.exports={Request:Cy,makeRequest:sU,fromInnerRequest:Uwe,cloneRequest:Owe}});var SS=V((rqr,rSe)=>{"use strict";d();var{makeNetworkError:xo,makeAppropriateNetworkError:aU,filterResponse:wie,makeResponse:lU,fromInnerResponse:D2t}=TS(),{HeadersList:Wwe}=z4(),{Request:P2t,cloneRequest:F2t}=p8(),xy=require("node:zlib"),{bytesMatch:N2t,makePolicyContainer:L2t,clonePolicyContainer:Q2t,requestBadPort:M2t,TAOCheck:O2t,appendRequestOriginHeader:U2t,responseLocationURL:q2t,requestCurrentURL:zp,setRequestReferrerPolicyOnRedirect:W2t,tryUpgradeRequestToAPotentiallyTrustworthyURL:G2t,createOpaqueTimingInfo:Rie,appendFetchMetadata:H2t,corsCheck:V2t,crossOriginResourcePolicyCheck:j2t,determineRequestsReferrer:$2t,coarsenedSharedCurrentTime:wS,createDeferredPromise:z2t,isBlobLike:Y2t,sameOrigin:Bie,isCancelled:K4,isAborted:Gwe,isErrorLike:K2t,fullyReadBody:J2t,readableStreamClose:X2t,isomorphicEncode:cU,urlIsLocal:Z2t,urlIsHttpHttpsScheme:Die,urlHasHttpsScheme:e5t,clampAndCoarsenConnectionTimingInfo:t5t,simpleRangeHeaderValue:r5t,buildContentRange:n5t,createInflate:i5t,extractMimeType:o5t}=Xu(),{kState:$we,kDispatcher:s5t}=ly(),J4=require("node:assert"),{safelyExtractBody:Pie,extractBody:Hwe}=YI(),{redirectStatusSet:zwe,nullBodyStatus:Ywe,safeMethodsSet:a5t,requestBodyHeader:l5t,subresourceSet:c5t}=Vw(),u5t=require("node:events"),{Readable:f5t,pipeline:d5t,finished:m5t}=require("node:stream"),{addAbortListener:h5t,isErrored:p5t,isReadable:uU,bufferToLowerCasedHeaderName:Vwe}=ci(),{dataURLProcessor:g5t,serializeAMimeType:A5t,minimizeSupportedMimeType:y5t}=Kc(),{getGlobalDispatcher:C5t}=$O(),{webidl:x5t}=zl(),{STATUS_CODES:E5t}=require("node:http"),b5t=["GET","HEAD"],v5t=typeof __UNDICI_IS_NODE__<"u"||typeof esbuildDetection<"u"?"node":"undici",Sie,fU=class extends u5t{static{o(this,"Fetch")}constructor(t){super(),this.dispatcher=t,this.connection=null,this.dump=!1,this.state="ongoing"}terminate(t){this.state==="ongoing"&&(this.state="terminated",this.connection?.destroy(t),this.emit("terminated",t))}abort(t){this.state==="ongoing"&&(this.state="aborted",t||(t=new DOMException("The operation was aborted.","AbortError")),this.serializedAbortReason=t,this.connection?.destroy(t),this.emit("terminated",t))}};function I5t(e){Kwe(e,"fetch")}o(I5t,"handleFetchDone");function T5t(e,t=void 0){x5t.argumentLengthCheck(arguments,1,"globalThis.fetch");let r=z2t(),n;try{n=new P2t(e,t)}catch(f){return r.reject(f),r.promise}let i=n[$we];if(n.signal.aborted)return _ie(r,i,null,n.signal.reason),r.promise;i.client.globalObject?.constructor?.name==="ServiceWorkerGlobalScope"&&(i.serviceWorkers="none");let a=null,l=!1,c=null;return h5t(n.signal,()=>{l=!0,J4(c!=null),c.abort(n.signal.reason);let f=a?.deref();_ie(r,i,f,n.signal.reason)}),c=Xwe({request:i,processResponseEndOfBody:I5t,processResponse:o(f=>{if(!l){if(f.aborted){_ie(r,i,a,c.serializedAbortReason);return}if(f.type==="error"){r.reject(new TypeError("fetch failed",{cause:f.error}));return}a=new WeakRef(D2t(f,"immutable")),r.resolve(a.deref()),r=null}},"processResponse"),dispatcher:n[s5t]}),r.promise}o(T5t,"fetch");function Kwe(e,t="other"){if(e.type==="error"&&e.aborted||!e.urlList?.length)return;let r=e.urlList[0],n=e.timingInfo,i=e.cacheState;Die(r)&&n!==null&&(e.timingAllowPassed||(n=Rie({startTime:n.startTime}),i=""),n.endTime=wS(),e.timingInfo=n,Jwe(n,r.href,t,globalThis,i))}o(Kwe,"finalizeAndReportTiming");var Jwe=performance.markResourceTiming;function _ie(e,t,r,n){if(e&&e.reject(n),t.body!=null&&uU(t.body?.stream)&&t.body.stream.cancel(n).catch(s=>{if(s.code!=="ERR_INVALID_STATE")throw s}),r==null)return;let i=r[$we];i.body!=null&&uU(i.body?.stream)&&i.body.stream.cancel(n).catch(s=>{if(s.code!=="ERR_INVALID_STATE")throw s})}o(_ie,"abortFetch");function Xwe({request:e,processRequestBodyChunkLength:t,processRequestEndOfBody:r,processResponse:n,processResponseEndOfBody:i,processResponseConsumeBody:s,useParallelQueue:a=!1,dispatcher:l=C5t()}){J4(l);let c=null,u=!1;e.client!=null&&(c=e.client.globalObject,u=e.client.crossOriginIsolatedCapability);let f=wS(u),m=Rie({startTime:f}),h={controller:new fU(l),request:e,timingInfo:m,processRequestBodyChunkLength:t,processRequestEndOfBody:r,processResponse:n,processResponseConsumeBody:s,processResponseEndOfBody:i,taskDestination:c,crossOriginIsolatedCapability:u};return J4(!e.body||e.body.stream),e.window==="client"&&(e.window=e.client?.globalObject?.constructor?.name==="Window"?e.client:"no-window"),e.origin==="client"&&(e.origin=e.client.origin),e.policyContainer==="client"&&(e.client!=null?e.policyContainer=Q2t(e.client.policyContainer):e.policyContainer=L2t()),e.headersList.contains("accept",!0)||e.headersList.append("accept","*/*",!0),e.headersList.contains("accept-language",!0)||e.headersList.append("accept-language","*",!0),e.priority,c5t.has(e.destination),Zwe(h).catch(p=>{h.controller.terminate(p)}),h.controller}o(Xwe,"fetching");async function Zwe(e,t=!1){let r=e.request,n=null;if(r.localURLsOnly&&!Z2t(zp(r))&&(n=xo("local URLs only")),G2t(r),M2t(r)==="blocked"&&(n=xo("bad port")),r.referrerPolicy===""&&(r.referrerPolicy=r.policyContainer.referrerPolicy),r.referrer!=="no-referrer"&&(r.referrer=$2t(r)),n===null&&(n=await(async()=>{let s=zp(r);return Bie(s,r.url)&&r.responseTainting==="basic"||s.protocol==="data:"||r.mode==="navigate"||r.mode==="websocket"?(r.responseTainting="basic",await jwe(e)):r.mode==="same-origin"?xo('request mode cannot be "same-origin"'):r.mode==="no-cors"?r.redirect!=="follow"?xo('redirect mode cannot be "follow" for "no-cors" request'):(r.responseTainting="opaque",await jwe(e)):Die(zp(r))?(r.responseTainting="cors",await eSe(e)):xo("URL scheme must be a HTTP(S) scheme")})()),t)return n;n.status!==0&&!n.internalResponse&&(r.responseTainting,r.responseTainting==="basic"?n=wie(n,"basic"):r.responseTainting==="cors"?n=wie(n,"cors"):r.responseTainting==="opaque"?n=wie(n,"opaque"):J4(!1));let i=n.status===0?n:n.internalResponse;if(i.urlList.length===0&&i.urlList.push(...r.urlList),r.timingAllowFailed||(n.timingAllowPassed=!0),n.type==="opaque"&&i.status===206&&i.rangeRequested&&!r.headers.contains("range",!0)&&(n=i=xo()),n.status!==0&&(r.method==="HEAD"||r.method==="CONNECT"||Ywe.includes(i.status))&&(i.body=null,e.controller.dump=!0),r.integrity){let s=o(l=>kie(e,xo(l)),"processBodyError");if(r.responseTainting==="opaque"||n.body==null){s(n.error);return}let a=o(l=>{if(!N2t(l,r.integrity)){s("integrity mismatch");return}n.body=Pie(l)[0],kie(e,n)},"processBody");await J2t(n.body,a,s)}else kie(e,n)}o(Zwe,"mainFetch");function jwe(e){if(K4(e)&&e.request.redirectCount===0)return Promise.resolve(aU(e));let{request:t}=e,{protocol:r}=zp(t);switch(r){case"about:":return Promise.resolve(xo("about scheme is not supported"));case"blob:":{Sie||(Sie=require("node:buffer").resolveObjectURL);let n=zp(t);if(n.search.length!==0)return Promise.resolve(xo("NetworkError when attempting to fetch resource."));let i=Sie(n.toString());if(t.method!=="GET"||!Y2t(i))return Promise.resolve(xo("invalid method"));let s=lU(),a=i.size,l=cU(`${a}`),c=i.type;if(t.headersList.contains("range",!0)){s.rangeRequested=!0;let u=t.headersList.get("range",!0),f=r5t(u,!0);if(f==="failure")return Promise.resolve(xo("failed to fetch the data URL"));let{rangeStartValue:m,rangeEndValue:h}=f;if(m===null)m=a-h,h=m+h-1;else{if(m>=a)return Promise.resolve(xo("Range start is greater than the blob's size."));(h===null||h>=a)&&(h=a-1)}let p=i.slice(m,h,c),A=Hwe(p);s.body=A[0];let x=cU(`${p.size}`),E=n5t(m,h,a);s.status=206,s.statusText="Partial Content",s.headersList.set("content-length",x,!0),s.headersList.set("content-type",c,!0),s.headersList.set("content-range",E,!0)}else{let u=Hwe(i);s.statusText="OK",s.body=u[0],s.headersList.set("content-length",l,!0),s.headersList.set("content-type",c,!0)}return Promise.resolve(s)}case"data:":{let n=zp(t),i=g5t(n);if(i==="failure")return Promise.resolve(xo("failed to fetch the data URL"));let s=A5t(i.mimeType);return Promise.resolve(lU({statusText:"OK",headersList:[["content-type",{name:"Content-Type",value:s}]],body:Pie(i.body)[0]}))}case"file:":return Promise.resolve(xo("not implemented... yet..."));case"http:":case"https:":return eSe(e).catch(n=>xo(n));default:return Promise.resolve(xo("unknown scheme"))}}o(jwe,"schemeFetch");function w5t(e,t){e.request.done=!0,e.processResponseDone!=null&&queueMicrotask(()=>e.processResponseDone(t))}o(w5t,"finalizeResponse");function kie(e,t){let r=e.timingInfo,n=o(()=>{let s=Date.now();e.request.destination==="document"&&(e.controller.fullTimingInfo=r),e.controller.reportTimingSteps=()=>{if(e.request.url.protocol!=="https:")return;r.endTime=s;let l=t.cacheState,c=t.bodyInfo;t.timingAllowPassed||(r=Rie(r),l="");let u=0;if(e.request.mode!=="navigator"||!t.hasCrossOriginRedirects){u=t.status;let f=o5t(t.headersList);f!=="failure"&&(c.contentType=y5t(f))}e.request.initiatorType!=null&&Jwe(r,e.request.url.href,e.request.initiatorType,globalThis,l,c,u)};let a=o(()=>{e.request.done=!0,e.processResponseEndOfBody!=null&&queueMicrotask(()=>e.processResponseEndOfBody(t)),e.request.initiatorType!=null&&e.controller.reportTimingSteps()},"processResponseEndOfBodyTask");queueMicrotask(()=>a())},"processResponseEndOfBody");e.processResponse!=null&&queueMicrotask(()=>{e.processResponse(t),e.processResponse=null});let i=t.type==="error"?t:t.internalResponse??t;i.body==null?n():m5t(i.body.stream,()=>{n()})}o(kie,"fetchFinale");async function eSe(e){let t=e.request,r=null,n=null,i=e.timingInfo;if(t.serviceWorkers,r===null){if(t.redirect==="follow"&&(t.serviceWorkers="none"),n=r=await tSe(e),t.responseTainting==="cors"&&V2t(t,r)==="failure")return xo("cors failure");O2t(t,r)==="failure"&&(t.timingAllowFailed=!0)}return(t.responseTainting==="opaque"||r.type==="opaque")&&j2t(t.origin,t.client,t.destination,n)==="blocked"?xo("blocked"):(zwe.has(n.status)&&(t.redirect!=="manual"&&e.controller.connection.destroy(void 0,!1),t.redirect==="error"?r=xo("unexpected redirect"):t.redirect==="manual"?r=n:t.redirect==="follow"?r=await S5t(e,r):J4(!1)),r.timingInfo=i,r)}o(eSe,"httpFetch");function S5t(e,t){let r=e.request,n=t.internalResponse?t.internalResponse:t,i;try{if(i=q2t(n,zp(r).hash),i==null)return t}catch(a){return Promise.resolve(xo(a))}if(!Die(i))return Promise.resolve(xo("URL scheme must be a HTTP(S) scheme"));if(r.redirectCount===20)return Promise.resolve(xo("redirect count exceeded"));if(r.redirectCount+=1,r.mode==="cors"&&(i.username||i.password)&&!Bie(r,i))return Promise.resolve(xo('cross origin not allowed for request mode "cors"'));if(r.responseTainting==="cors"&&(i.username||i.password))return Promise.resolve(xo('URL cannot contain credentials for request mode "cors"'));if(n.status!==303&&r.body!=null&&r.body.source==null)return Promise.resolve(xo());if([301,302].includes(n.status)&&r.method==="POST"||n.status===303&&!b5t.includes(r.method)){r.method="GET",r.body=null;for(let a of l5t)r.headersList.delete(a)}Bie(zp(r),i)||(r.headersList.delete("authorization",!0),r.headersList.delete("proxy-authorization",!0),r.headersList.delete("cookie",!0),r.headersList.delete("host",!0)),r.body!=null&&(J4(r.body.source!=null),r.body=Pie(r.body.source)[0]);let s=e.timingInfo;return s.redirectEndTime=s.postRedirectStartTime=wS(e.crossOriginIsolatedCapability),s.redirectStartTime===0&&(s.redirectStartTime=s.startTime),r.urlList.push(i),W2t(r,n),Zwe(e,!0)}o(S5t,"httpRedirectFetch");async function tSe(e,t=!1,r=!1){let n=e.request,i=null,s=null,a=null,l=null,c=!1;n.window==="no-window"&&n.redirect==="error"?(i=e,s=n):(s=F2t(n),i={...e},i.request=s);let u=n.credentials==="include"||n.credentials==="same-origin"&&n.responseTainting==="basic",f=s.body?s.body.length:null,m=null;if(s.body==null&&["POST","PUT"].includes(s.method)&&(m="0"),f!=null&&(m=cU(`${f}`)),m!=null&&s.headersList.append("content-length",m,!0),f!=null&&s.keepalive,s.referrer instanceof URL&&s.headersList.append("referer",cU(s.referrer.href),!0),U2t(s),H2t(s),s.headersList.contains("user-agent",!0)||s.headersList.append("user-agent",v5t),s.cache==="default"&&(s.headersList.contains("if-modified-since",!0)||s.headersList.contains("if-none-match",!0)||s.headersList.contains("if-unmodified-since",!0)||s.headersList.contains("if-match",!0)||s.headersList.contains("if-range",!0))&&(s.cache="no-store"),s.cache==="no-cache"&&!s.preventNoCacheCacheControlHeaderModification&&!s.headersList.contains("cache-control",!0)&&s.headersList.append("cache-control","max-age=0",!0),(s.cache==="no-store"||s.cache==="reload")&&(s.headersList.contains("pragma",!0)||s.headersList.append("pragma","no-cache",!0),s.headersList.contains("cache-control",!0)||s.headersList.append("cache-control","no-cache",!0)),s.headersList.contains("range",!0)&&s.headersList.append("accept-encoding","identity",!0),s.headersList.contains("accept-encoding",!0)||(e5t(zp(s))?s.headersList.append("accept-encoding","br, gzip, deflate",!0):s.headersList.append("accept-encoding","gzip, deflate",!0)),s.headersList.delete("host",!0),l==null&&(s.cache="no-store"),s.cache!=="no-store"&&s.cache,a==null){if(s.cache==="only-if-cached")return xo("only if cached");let h=await _5t(i,u,r);!a5t.has(s.method)&&h.status>=200&&h.status<=399,c&&h.status,a==null&&(a=h)}if(a.urlList=[...s.urlList],s.headersList.contains("range",!0)&&(a.rangeRequested=!0),a.requestIncludesCredentials=u,a.status===407)return n.window==="no-window"?xo():K4(e)?aU(e):xo("proxy authentication required");if(a.status===421&&!r&&(n.body==null||n.body.source!=null)){if(K4(e))return aU(e);e.controller.connection.destroy(),a=await tSe(e,t,!0)}return a}o(tSe,"httpNetworkOrCacheFetch");async function _5t(e,t=!1,r=!1){J4(!e.controller.connection||e.controller.connection.destroyed),e.controller.connection={abort:null,destroyed:!1,destroy(A,x=!0){this.destroyed||(this.destroyed=!0,x&&this.abort?.(A??new DOMException("The operation was aborted.","AbortError")))}};let n=e.request,i=null,s=e.timingInfo;null==null&&(n.cache="no-store");let l=r?"yes":"no";n.mode;let c=null;if(n.body==null&&e.processRequestEndOfBody)queueMicrotask(()=>e.processRequestEndOfBody());else if(n.body!=null){let A=o(async function*(v){K4(e)||(yield v,e.processRequestBodyChunkLength?.(v.byteLength))},"processBodyChunk"),x=o(()=>{K4(e)||e.processRequestEndOfBody&&e.processRequestEndOfBody()},"processEndOfBody"),E=o(v=>{K4(e)||(v.name==="AbortError"?e.controller.abort():e.controller.terminate(v))},"processBodyError");c=async function*(){try{for await(let v of n.body.stream)yield*A(v);x()}catch(v){E(v)}}()}try{let{body:A,status:x,statusText:E,headersList:v,socket:b}=await p({body:c});if(b)i=lU({status:x,statusText:E,headersList:v,socket:b});else{let S=A[Symbol.asyncIterator]();e.controller.next=()=>S.next(),i=lU({status:x,statusText:E,headersList:v})}}catch(A){return A.name==="AbortError"?(e.controller.connection.destroy(),aU(e,A)):xo(A)}let u=o(async()=>{await e.controller.resume()},"pullAlgorithm"),f=o(A=>{K4(e)||e.controller.abort(A)},"cancelAlgorithm"),m=new ReadableStream({async start(A){e.controller.controller=A},async pull(A){await u(A)},async cancel(A){await f(A)},type:"bytes"});i.body={stream:m,source:null,length:null},e.controller.onAborted=h,e.controller.on("terminated",h),e.controller.resume=async()=>{for(;;){let A,x;try{let{done:v,value:b}=await e.controller.next();if(Gwe(e))break;A=v?void 0:b}catch(v){e.controller.ended&&!s.encodedBodySize?A=void 0:(A=v,x=!0)}if(A===void 0){X2t(e.controller.controller),w5t(e,i);return}if(s.decodedBodySize+=A?.byteLength??0,x){e.controller.terminate(A);return}let E=new Uint8Array(A);if(E.byteLength&&e.controller.controller.enqueue(E),p5t(m)){e.controller.terminate();return}if(e.controller.controller.desiredSize<=0)return}};function h(A){Gwe(e)?(i.aborted=!0,uU(m)&&e.controller.controller.error(e.controller.serializedAbortReason)):uU(m)&&e.controller.controller.error(new TypeError("terminated",{cause:K2t(A)?A:void 0})),e.controller.connection.destroy()}return o(h,"onAborted"),i;function p({body:A}){let x=zp(n),E=e.controller.dispatcher;return new Promise((v,b)=>E.dispatch({path:x.pathname+x.search,origin:x.origin,method:n.method,body:E.isMockActive?n.body&&(n.body.source||n.body.stream):A,headers:n.headersList.entries,maxRedirections:0,upgrade:n.mode==="websocket"?"websocket":void 0},{body:null,abort:null,onConnect(S){let{connection:B}=e.controller;s.finalConnectionTimingInfo=t5t(void 0,s.postRedirectStartTime,e.crossOriginIsolatedCapability),B.destroyed?S(new DOMException("The operation was aborted.","AbortError")):(e.controller.on("terminated",S),this.abort=B.abort=S),s.finalNetworkRequestStartTime=wS(e.crossOriginIsolatedCapability)},onResponseStarted(){s.finalNetworkResponseStartTime=wS(e.crossOriginIsolatedCapability)},onHeaders(S,B,P,F){if(S<200)return;let q=[],ne="",ce=new Wwe;for(let J=0;J<B.length;J+=2)ce.append(Vwe(B[J]),B[J+1].toString("latin1"),!0);let Z=ce.get("content-encoding",!0);Z&&(q=Z.toLowerCase().split(",").map(J=>J.trim())),ne=ce.get("location",!0),this.body=new f5t({read:P});let G=[],U=ne&&n.redirect==="follow"&&zwe.has(S);if(q.length!==0&&n.method!=="HEAD"&&n.method!=="CONNECT"&&!Ywe.includes(S)&&!U)for(let J=q.length-1;J>=0;--J){let H=q[J];if(H==="x-gzip"||H==="gzip")G.push(xy.createGunzip({flush:xy.constants.Z_SYNC_FLUSH,finishFlush:xy.constants.Z_SYNC_FLUSH}));else if(H==="deflate")G.push(i5t({flush:xy.constants.Z_SYNC_FLUSH,finishFlush:xy.constants.Z_SYNC_FLUSH}));else if(H==="br")G.push(xy.createBrotliDecompress({flush:xy.constants.BROTLI_OPERATION_FLUSH,finishFlush:xy.constants.BROTLI_OPERATION_FLUSH}));else{G.length=0;break}}let ie=this.onError.bind(this);return v({status:S,statusText:F,headersList:ce,body:G.length?d5t(this.body,...G,J=>{J&&this.onError(J)}).on("error",ie):this.body.on("error",ie)}),!0},onData(S){if(e.controller.dump)return;let B=S;return s.encodedBodySize+=B.byteLength,this.body.push(B)},onComplete(){this.abort&&e.controller.off("terminated",this.abort),e.controller.onAborted&&e.controller.off("terminated",e.controller.onAborted),e.controller.ended=!0,this.body.push(null)},onError(S){this.abort&&e.controller.off("terminated",this.abort),this.body?.destroy(S),e.controller.terminate(S),b(S)},onUpgrade(S,B,P){if(S!==101)return;let F=new Wwe;for(let q=0;q<B.length;q+=2)F.append(Vwe(B[q]),B[q+1].toString("latin1"),!0);return v({status:S,statusText:E5t[S],headersList:F,socket:P}),!0}}))}o(p,"dispatch")}o(_5t,"httpNetworkFetch");rSe.exports={fetch:T5t,Fetch:fU,fetching:Xwe,finalizeAndReportTiming:Kwe}});var Fie=V((oqr,nSe)=>{"use strict";d();nSe.exports={kState:Symbol("FileReader state"),kResult:Symbol("FileReader result"),kError:Symbol("FileReader error"),kLastProgressEventFired:Symbol("FileReader last progress event fired timestamp"),kEvents:Symbol("FileReader events"),kAborted:Symbol("FileReader aborted")}});var oSe=V((aqr,iSe)=>{"use strict";d();var{webidl:of}=zl(),dU=Symbol("ProgressEvent state"),Nie=class e extends Event{static{o(this,"ProgressEvent")}constructor(t,r={}){t=of.converters.DOMString(t,"ProgressEvent constructor","type"),r=of.converters.ProgressEventInit(r??{}),super(t,r),this[dU]={lengthComputable:r.lengthComputable,loaded:r.loaded,total:r.total}}get lengthComputable(){return of.brandCheck(this,e),this[dU].lengthComputable}get loaded(){return of.brandCheck(this,e),this[dU].loaded}get total(){return of.brandCheck(this,e),this[dU].total}};of.converters.ProgressEventInit=of.dictionaryConverter([{key:"lengthComputable",converter:of.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"loaded",converter:of.converters["unsigned long long"],defaultValue:o(()=>0,"defaultValue")},{key:"total",converter:of.converters["unsigned long long"],defaultValue:o(()=>0,"defaultValue")},{key:"bubbles",converter:of.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"cancelable",converter:of.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"composed",converter:of.converters.boolean,defaultValue:o(()=>!1,"defaultValue")}]);iSe.exports={ProgressEvent:Nie}});var aSe=V((uqr,sSe)=>{"use strict";d();function k5t(e){if(!e)return"failure";switch(e.trim().toLowerCase()){case"unicode-1-1-utf-8":case"unicode11utf8":case"unicode20utf8":case"utf-8":case"utf8":case"x-unicode20utf8":return"UTF-8";case"866":case"cp866":case"csibm866":case"ibm866":return"IBM866";case"csisolatin2":case"iso-8859-2":case"iso-ir-101":case"iso8859-2":case"iso88592":case"iso_8859-2":case"iso_8859-2:1987":case"l2":case"latin2":return"ISO-8859-2";case"csisolatin3":case"iso-8859-3":case"iso-ir-109":case"iso8859-3":case"iso88593":case"iso_8859-3":case"iso_8859-3:1988":case"l3":case"latin3":return"ISO-8859-3";case"csisolatin4":case"iso-8859-4":case"iso-ir-110":case"iso8859-4":case"iso88594":case"iso_8859-4":case"iso_8859-4:1988":case"l4":case"latin4":return"ISO-8859-4";case"csisolatincyrillic":case"cyrillic":case"iso-8859-5":case"iso-ir-144":case"iso8859-5":case"iso88595":case"iso_8859-5":case"iso_8859-5:1988":return"ISO-8859-5";case"arabic":case"asmo-708":case"csiso88596e":case"csiso88596i":case"csisolatinarabic":case"ecma-114":case"iso-8859-6":case"iso-8859-6-e":case"iso-8859-6-i":case"iso-ir-127":case"iso8859-6":case"iso88596":case"iso_8859-6":case"iso_8859-6:1987":return"ISO-8859-6";case"csisolatingreek":case"ecma-118":case"elot_928":case"greek":case"greek8":case"iso-8859-7":case"iso-ir-126":case"iso8859-7":case"iso88597":case"iso_8859-7":case"iso_8859-7:1987":case"sun_eu_greek":return"ISO-8859-7";case"csiso88598e":case"csisolatinhebrew":case"hebrew":case"iso-8859-8":case"iso-8859-8-e":case"iso-ir-138":case"iso8859-8":case"iso88598":case"iso_8859-8":case"iso_8859-8:1988":case"visual":return"ISO-8859-8";case"csiso88598i":case"iso-8859-8-i":case"logical":return"ISO-8859-8-I";case"csisolatin6":case"iso-8859-10":case"iso-ir-157":case"iso8859-10":case"iso885910":case"l6":case"latin6":return"ISO-8859-10";case"iso-8859-13":case"iso8859-13":case"iso885913":return"ISO-8859-13";case"iso-8859-14":case"iso8859-14":case"iso885914":return"ISO-8859-14";case"csisolatin9":case"iso-8859-15":case"iso8859-15":case"iso885915":case"iso_8859-15":case"l9":return"ISO-8859-15";case"iso-8859-16":return"ISO-8859-16";case"cskoi8r":case"koi":case"koi8":case"koi8-r":case"koi8_r":return"KOI8-R";case"koi8-ru":case"koi8-u":return"KOI8-U";case"csmacintosh":case"mac":case"macintosh":case"x-mac-roman":return"macintosh";case"iso-8859-11":case"iso8859-11":case"iso885911":case"tis-620":case"windows-874":return"windows-874";case"cp1250":case"windows-1250":case"x-cp1250":return"windows-1250";case"cp1251":case"windows-1251":case"x-cp1251":return"windows-1251";case"ansi_x3.4-1968":case"ascii":case"cp1252":case"cp819":case"csisolatin1":case"ibm819":case"iso-8859-1":case"iso-ir-100":case"iso8859-1":case"iso88591":case"iso_8859-1":case"iso_8859-1:1987":case"l1":case"latin1":case"us-ascii":case"windows-1252":case"x-cp1252":return"windows-1252";case"cp1253":case"windows-1253":case"x-cp1253":return"windows-1253";case"cp1254":case"csisolatin5":case"iso-8859-9":case"iso-ir-148":case"iso8859-9":case"iso88599":case"iso_8859-9":case"iso_8859-9:1989":case"l5":case"latin5":case"windows-1254":case"x-cp1254":return"windows-1254";case"cp1255":case"windows-1255":case"x-cp1255":return"windows-1255";case"cp1256":case"windows-1256":case"x-cp1256":return"windows-1256";case"cp1257":case"windows-1257":case"x-cp1257":return"windows-1257";case"cp1258":case"windows-1258":case"x-cp1258":return"windows-1258";case"x-mac-cyrillic":case"x-mac-ukrainian":return"x-mac-cyrillic";case"chinese":case"csgb2312":case"csiso58gb231280":case"gb2312":case"gb_2312":case"gb_2312-80":case"gbk":case"iso-ir-58":case"x-gbk":return"GBK";case"gb18030":return"gb18030";case"big5":case"big5-hkscs":case"cn-big5":case"csbig5":case"x-x-big5":return"Big5";case"cseucpkdfmtjapanese":case"euc-jp":case"x-euc-jp":return"EUC-JP";case"csiso2022jp":case"iso-2022-jp":return"ISO-2022-JP";case"csshiftjis":case"ms932":case"ms_kanji":case"shift-jis":case"shift_jis":case"sjis":case"windows-31j":case"x-sjis":return"Shift_JIS";case"cseuckr":case"csksc56011987":case"euc-kr":case"iso-ir-149":case"korean":case"ks_c_5601-1987":case"ks_c_5601-1989":case"ksc5601":case"ksc_5601":case"windows-949":return"EUC-KR";case"csiso2022kr":case"hz-gb-2312":case"iso-2022-cn":case"iso-2022-cn-ext":case"iso-2022-kr":case"replacement":return"replacement";case"unicodefffe":case"utf-16be":return"UTF-16BE";case"csunicode":case"iso-10646-ucs-2":case"ucs-2":case"unicode":case"unicodefeff":case"utf-16":case"utf-16le":return"UTF-16LE";case"x-user-defined":return"x-user-defined";default:return"failure"}}o(k5t,"getEncoding");sSe.exports={getEncoding:k5t}});var pSe=V((mqr,hSe)=>{"use strict";d();var{kState:g8,kError:Lie,kResult:lSe,kAborted:_S,kLastProgressEventFired:Qie}=Fie(),{ProgressEvent:B5t}=oSe(),{getEncoding:cSe}=aSe(),{serializeAMimeType:R5t,parseMIMEType:uSe}=Kc(),{types:D5t}=require("node:util"),{StringDecoder:fSe}=require("string_decoder"),{btoa:dSe}=require("node:buffer"),P5t={enumerable:!0,writable:!1,configurable:!1};function F5t(e,t,r,n){if(e[g8]==="loading")throw new DOMException("Invalid state","InvalidStateError");e[g8]="loading",e[lSe]=null,e[Lie]=null;let s=t.stream().getReader(),a=[],l=s.read(),c=!0;(async()=>{for(;!e[_S];)try{let{done:u,value:f}=await l;if(c&&!e[_S]&&queueMicrotask(()=>{Ey("loadstart",e)}),c=!1,!u&&D5t.isUint8Array(f))a.push(f),(e[Qie]===void 0||Date.now()-e[Qie]>=50)&&!e[_S]&&(e[Qie]=Date.now(),queueMicrotask(()=>{Ey("progress",e)})),l=s.read();else if(u){queueMicrotask(()=>{e[g8]="done";try{let m=N5t(a,r,t.type,n);if(e[_S])return;e[lSe]=m,Ey("load",e)}catch(m){e[Lie]=m,Ey("error",e)}e[g8]!=="loading"&&Ey("loadend",e)});break}}catch(u){if(e[_S])return;queueMicrotask(()=>{e[g8]="done",e[Lie]=u,Ey("error",e),e[g8]!=="loading"&&Ey("loadend",e)});break}})()}o(F5t,"readOperation");function Ey(e,t){let r=new B5t(e,{bubbles:!1,cancelable:!1});t.dispatchEvent(r)}o(Ey,"fireAProgressEvent");function N5t(e,t,r,n){switch(t){case"DataURL":{let i="data:",s=uSe(r||"application/octet-stream");s!=="failure"&&(i+=R5t(s)),i+=";base64,";let a=new fSe("latin1");for(let l of e)i+=dSe(a.write(l));return i+=dSe(a.end()),i}case"Text":{let i="failure";if(n&&(i=cSe(n)),i==="failure"&&r){let s=uSe(r);s!=="failure"&&(i=cSe(s.parameters.get("charset")))}return i==="failure"&&(i="UTF-8"),L5t(e,i)}case"ArrayBuffer":return mSe(e).buffer;case"BinaryString":{let i="",s=new fSe("latin1");for(let a of e)i+=s.write(a);return i+=s.end(),i}}}o(N5t,"packageData");function L5t(e,t){let r=mSe(e),n=Q5t(r),i=0;n!==null&&(t=n,i=n==="UTF-8"?3:2);let s=r.slice(i);return new TextDecoder(t).decode(s)}o(L5t,"decode");function Q5t(e){let[t,r,n]=e;return t===239&&r===187&&n===191?"UTF-8":t===254&&r===255?"UTF-16BE":t===255&&r===254?"UTF-16LE":null}o(Q5t,"BOMSniffing");function mSe(e){let t=e.reduce((n,i)=>n+i.byteLength,0),r=0;return e.reduce((n,i)=>(n.set(i,r),r+=i.byteLength,n),new Uint8Array(t))}o(mSe,"combineByteSequences");hSe.exports={staticPropertyDescriptors:P5t,readOperation:F5t,fireAProgressEvent:Ey}});var CSe=V((gqr,ySe)=>{"use strict";d();var{staticPropertyDescriptors:A8,readOperation:mU,fireAProgressEvent:gSe}=pSe(),{kState:X4,kError:ASe,kResult:hU,kEvents:ao,kAborted:M5t}=Fie(),{webidl:Io}=zl(),{kEnumerableProperty:Zc}=ci(),th=class e extends EventTarget{static{o(this,"FileReader")}constructor(){super(),this[X4]="empty",this[hU]=null,this[ASe]=null,this[ao]={loadend:null,error:null,abort:null,load:null,progress:null,loadstart:null}}readAsArrayBuffer(t){Io.brandCheck(this,e),Io.argumentLengthCheck(arguments,1,"FileReader.readAsArrayBuffer"),t=Io.converters.Blob(t,{strict:!1}),mU(this,t,"ArrayBuffer")}readAsBinaryString(t){Io.brandCheck(this,e),Io.argumentLengthCheck(arguments,1,"FileReader.readAsBinaryString"),t=Io.converters.Blob(t,{strict:!1}),mU(this,t,"BinaryString")}readAsText(t,r=void 0){Io.brandCheck(this,e),Io.argumentLengthCheck(arguments,1,"FileReader.readAsText"),t=Io.converters.Blob(t,{strict:!1}),r!==void 0&&(r=Io.converters.DOMString(r,"FileReader.readAsText","encoding")),mU(this,t,"Text",r)}readAsDataURL(t){Io.brandCheck(this,e),Io.argumentLengthCheck(arguments,1,"FileReader.readAsDataURL"),t=Io.converters.Blob(t,{strict:!1}),mU(this,t,"DataURL")}abort(){if(this[X4]==="empty"||this[X4]==="done"){this[hU]=null;return}this[X4]==="loading"&&(this[X4]="done",this[hU]=null),this[M5t]=!0,gSe("abort",this),this[X4]!=="loading"&&gSe("loadend",this)}get readyState(){switch(Io.brandCheck(this,e),this[X4]){case"empty":return this.EMPTY;case"loading":return this.LOADING;case"done":return this.DONE}}get result(){return Io.brandCheck(this,e),this[hU]}get error(){return Io.brandCheck(this,e),this[ASe]}get onloadend(){return Io.brandCheck(this,e),this[ao].loadend}set onloadend(t){Io.brandCheck(this,e),this[ao].loadend&&this.removeEventListener("loadend",this[ao].loadend),typeof t=="function"?(this[ao].loadend=t,this.addEventListener("loadend",t)):this[ao].loadend=null}get onerror(){return Io.brandCheck(this,e),this[ao].error}set onerror(t){Io.brandCheck(this,e),this[ao].error&&this.removeEventListener("error",this[ao].error),typeof t=="function"?(this[ao].error=t,this.addEventListener("error",t)):this[ao].error=null}get onloadstart(){return Io.brandCheck(this,e),this[ao].loadstart}set onloadstart(t){Io.brandCheck(this,e),this[ao].loadstart&&this.removeEventListener("loadstart",this[ao].loadstart),typeof t=="function"?(this[ao].loadstart=t,this.addEventListener("loadstart",t)):this[ao].loadstart=null}get onprogress(){return Io.brandCheck(this,e),this[ao].progress}set onprogress(t){Io.brandCheck(this,e),this[ao].progress&&this.removeEventListener("progress",this[ao].progress),typeof t=="function"?(this[ao].progress=t,this.addEventListener("progress",t)):this[ao].progress=null}get onload(){return Io.brandCheck(this,e),this[ao].load}set onload(t){Io.brandCheck(this,e),this[ao].load&&this.removeEventListener("load",this[ao].load),typeof t=="function"?(this[ao].load=t,this.addEventListener("load",t)):this[ao].load=null}get onabort(){return Io.brandCheck(this,e),this[ao].abort}set onabort(t){Io.brandCheck(this,e),this[ao].abort&&this.removeEventListener("abort",this[ao].abort),typeof t=="function"?(this[ao].abort=t,this.addEventListener("abort",t)):this[ao].abort=null}};th.EMPTY=th.prototype.EMPTY=0;th.LOADING=th.prototype.LOADING=1;th.DONE=th.prototype.DONE=2;Object.defineProperties(th.prototype,{EMPTY:A8,LOADING:A8,DONE:A8,readAsArrayBuffer:Zc,readAsBinaryString:Zc,readAsText:Zc,readAsDataURL:Zc,abort:Zc,readyState:Zc,result:Zc,error:Zc,onloadstart:Zc,onprogress:Zc,onload:Zc,onabort:Zc,onerror:Zc,onloadend:Zc,[Symbol.toStringTag]:{value:"FileReader",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(th,{EMPTY:A8,LOADING:A8,DONE:A8});ySe.exports={FileReader:th}});var pU=V((Cqr,xSe)=>{"use strict";d();xSe.exports={kConstruct:vs().kConstruct}});var vSe=V((Eqr,bSe)=>{"use strict";d();var O5t=require("node:assert"),{URLSerializer:ESe}=Kc(),{isValidHeaderName:U5t}=Xu();function q5t(e,t,r=!1){let n=ESe(e,r),i=ESe(t,r);return n===i}o(q5t,"urlEquals");function W5t(e){O5t(e!==null);let t=[];for(let r of e.split(","))r=r.trim(),U5t(r)&&t.push(r);return t}o(W5t,"getFieldValues");bSe.exports={urlEquals:q5t,getFieldValues:W5t}});var wSe=V((Iqr,TSe)=>{"use strict";d();var{kConstruct:G5t}=pU(),{urlEquals:H5t,getFieldValues:Mie}=vSe(),{kEnumerableProperty:Z4,isDisturbed:V5t}=ci(),{webidl:Jr}=zl(),{Response:j5t,cloneResponse:$5t,fromInnerResponse:z5t}=TS(),{Request:eA,fromInnerRequest:Y5t}=p8(),{kState:rh}=ly(),{fetching:K5t}=SS(),{urlIsHttpHttpsScheme:gU,createDeferredPromise:y8,readAllBytes:J5t}=Xu(),Oie=require("node:assert"),AU=class e{static{o(this,"Cache")}#e;constructor(){arguments[0]!==G5t&&Jr.illegalConstructor(),Jr.util.markAsUncloneable(this),this.#e=arguments[1]}async match(t,r={}){Jr.brandCheck(this,e);let n="Cache.match";Jr.argumentLengthCheck(arguments,1,n),t=Jr.converters.RequestInfo(t,n,"request"),r=Jr.converters.CacheQueryOptions(r,n,"options");let i=this.#r(t,r,1);if(i.length!==0)return i[0]}async matchAll(t=void 0,r={}){Jr.brandCheck(this,e);let n="Cache.matchAll";return t!==void 0&&(t=Jr.converters.RequestInfo(t,n,"request")),r=Jr.converters.CacheQueryOptions(r,n,"options"),this.#r(t,r)}async add(t){Jr.brandCheck(this,e);let r="Cache.add";Jr.argumentLengthCheck(arguments,1,r),t=Jr.converters.RequestInfo(t,r,"request");let n=[t];return await this.addAll(n)}async addAll(t){Jr.brandCheck(this,e);let r="Cache.addAll";Jr.argumentLengthCheck(arguments,1,r);let n=[],i=[];for(let h of t){if(h===void 0)throw Jr.errors.conversionFailed({prefix:r,argument:"Argument 1",types:["undefined is not allowed"]});if(h=Jr.converters.RequestInfo(h),typeof h=="string")continue;let p=h[rh];if(!gU(p.url)||p.method!=="GET")throw Jr.errors.exception({header:r,message:"Expected http/s scheme when method is not GET."})}let s=[];for(let h of t){let p=new eA(h)[rh];if(!gU(p.url))throw Jr.errors.exception({header:r,message:"Expected http/s scheme."});p.initiator="fetch",p.destination="subresource",i.push(p);let A=y8();s.push(K5t({request:p,processResponse(x){if(x.type==="error"||x.status===206||x.status<200||x.status>299)A.reject(Jr.errors.exception({header:"Cache.addAll",message:"Received an invalid status code or the request failed."}));else if(x.headersList.contains("vary")){let E=Mie(x.headersList.get("vary"));for(let v of E)if(v==="*"){A.reject(Jr.errors.exception({header:"Cache.addAll",message:"invalid vary field value"}));for(let b of s)b.abort();return}}},processResponseEndOfBody(x){if(x.aborted){A.reject(new DOMException("aborted","AbortError"));return}A.resolve(x)}})),n.push(A.promise)}let l=await Promise.all(n),c=[],u=0;for(let h of l){let p={type:"put",request:i[u],response:h};c.push(p),u++}let f=y8(),m=null;try{this.#t(c)}catch(h){m=h}return queueMicrotask(()=>{m===null?f.resolve(void 0):f.reject(m)}),f.promise}async put(t,r){Jr.brandCheck(this,e);let n="Cache.put";Jr.argumentLengthCheck(arguments,2,n),t=Jr.converters.RequestInfo(t,n,"request"),r=Jr.converters.Response(r,n,"response");let i=null;if(t instanceof eA?i=t[rh]:i=new eA(t)[rh],!gU(i.url)||i.method!=="GET")throw Jr.errors.exception({header:n,message:"Expected an http/s scheme when method is not GET"});let s=r[rh];if(s.status===206)throw Jr.errors.exception({header:n,message:"Got 206 status"});if(s.headersList.contains("vary")){let p=Mie(s.headersList.get("vary"));for(let A of p)if(A==="*")throw Jr.errors.exception({header:n,message:"Got * vary field value"})}if(s.body&&(V5t(s.body.stream)||s.body.stream.locked))throw Jr.errors.exception({header:n,message:"Response body is locked or disturbed"});let a=$5t(s),l=y8();if(s.body!=null){let A=s.body.stream.getReader();J5t(A).then(l.resolve,l.reject)}else l.resolve(void 0);let c=[],u={type:"put",request:i,response:a};c.push(u);let f=await l.promise;a.body!=null&&(a.body.source=f);let m=y8(),h=null;try{this.#t(c)}catch(p){h=p}return queueMicrotask(()=>{h===null?m.resolve():m.reject(h)}),m.promise}async delete(t,r={}){Jr.brandCheck(this,e);let n="Cache.delete";Jr.argumentLengthCheck(arguments,1,n),t=Jr.converters.RequestInfo(t,n,"request"),r=Jr.converters.CacheQueryOptions(r,n,"options");let i=null;if(t instanceof eA){if(i=t[rh],i.method!=="GET"&&!r.ignoreMethod)return!1}else Oie(typeof t=="string"),i=new eA(t)[rh];let s=[],a={type:"delete",request:i,options:r};s.push(a);let l=y8(),c=null,u;try{u=this.#t(s)}catch(f){c=f}return queueMicrotask(()=>{c===null?l.resolve(!!u?.length):l.reject(c)}),l.promise}async keys(t=void 0,r={}){Jr.brandCheck(this,e);let n="Cache.keys";t!==void 0&&(t=Jr.converters.RequestInfo(t,n,"request")),r=Jr.converters.CacheQueryOptions(r,n,"options");let i=null;if(t!==void 0)if(t instanceof eA){if(i=t[rh],i.method!=="GET"&&!r.ignoreMethod)return[]}else typeof t=="string"&&(i=new eA(t)[rh]);let s=y8(),a=[];if(t===void 0)for(let l of this.#e)a.push(l[0]);else{let l=this.#i(i,r);for(let c of l)a.push(c[0])}return queueMicrotask(()=>{let l=[];for(let c of a){let u=Y5t(c,new AbortController().signal,"immutable");l.push(u)}s.resolve(Object.freeze(l))}),s.promise}#t(t){let r=this.#e,n=[...r],i=[],s=[];try{for(let a of t){if(a.type!=="delete"&&a.type!=="put")throw Jr.errors.exception({header:"Cache.#batchCacheOperations",message:'operation type does not match "delete" or "put"'});if(a.type==="delete"&&a.response!=null)throw Jr.errors.exception({header:"Cache.#batchCacheOperations",message:"delete operation should not have an associated response"});if(this.#i(a.request,a.options,i).length)throw new DOMException("???","InvalidStateError");let l;if(a.type==="delete"){if(l=this.#i(a.request,a.options),l.length===0)return[];for(let c of l){let u=r.indexOf(c);Oie(u!==-1),r.splice(u,1)}}else if(a.type==="put"){if(a.response==null)throw Jr.errors.exception({header:"Cache.#batchCacheOperations",message:"put operation should have an associated response"});let c=a.request;if(!gU(c.url))throw Jr.errors.exception({header:"Cache.#batchCacheOperations",message:"expected http or https scheme"});if(c.method!=="GET")throw Jr.errors.exception({header:"Cache.#batchCacheOperations",message:"not get method"});if(a.options!=null)throw Jr.errors.exception({header:"Cache.#batchCacheOperations",message:"options must not be defined"});l=this.#i(a.request);for(let u of l){let f=r.indexOf(u);Oie(f!==-1),r.splice(f,1)}r.push([a.request,a.response]),i.push([a.request,a.response])}s.push([a.request,a.response])}return s}catch(a){throw this.#e.length=0,this.#e=n,a}}#i(t,r,n){let i=[],s=n??this.#e;for(let a of s){let[l,c]=a;this.#n(t,l,c,r)&&i.push(a)}return i}#n(t,r,n=null,i){let s=new URL(t.url),a=new URL(r.url);if(i?.ignoreSearch&&(a.search="",s.search=""),!H5t(s,a,!0))return!1;if(n==null||i?.ignoreVary||!n.headersList.contains("vary"))return!0;let l=Mie(n.headersList.get("vary"));for(let c of l){if(c==="*")return!1;let u=r.headersList.get(c),f=t.headersList.get(c);if(u!==f)return!1}return!0}#r(t,r,n=1/0){let i=null;if(t!==void 0)if(t instanceof eA){if(i=t[rh],i.method!=="GET"&&!r.ignoreMethod)return[]}else typeof t=="string"&&(i=new eA(t)[rh]);let s=[];if(t===void 0)for(let l of this.#e)s.push(l[1]);else{let l=this.#i(i,r);for(let c of l)s.push(c[1])}let a=[];for(let l of s){let c=z5t(l,"immutable");if(a.push(c.clone()),a.length>=n)break}return Object.freeze(a)}};Object.defineProperties(AU.prototype,{[Symbol.toStringTag]:{value:"Cache",configurable:!0},match:Z4,matchAll:Z4,add:Z4,addAll:Z4,put:Z4,delete:Z4,keys:Z4});var ISe=[{key:"ignoreSearch",converter:Jr.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"ignoreMethod",converter:Jr.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"ignoreVary",converter:Jr.converters.boolean,defaultValue:o(()=>!1,"defaultValue")}];Jr.converters.CacheQueryOptions=Jr.dictionaryConverter(ISe);Jr.converters.MultiCacheQueryOptions=Jr.dictionaryConverter([...ISe,{key:"cacheName",converter:Jr.converters.DOMString}]);Jr.converters.Response=Jr.interfaceConverter(j5t);Jr.converters["sequence<RequestInfo>"]=Jr.sequenceConverter(Jr.converters.RequestInfo);TSe.exports={Cache:AU}});var _Se=V((Sqr,SSe)=>{"use strict";d();var{kConstruct:kS}=pU(),{Cache:yU}=wSe(),{webidl:k0}=zl(),{kEnumerableProperty:BS}=ci(),CU=class e{static{o(this,"CacheStorage")}#e=new Map;constructor(){arguments[0]!==kS&&k0.illegalConstructor(),k0.util.markAsUncloneable(this)}async match(t,r={}){if(k0.brandCheck(this,e),k0.argumentLengthCheck(arguments,1,"CacheStorage.match"),t=k0.converters.RequestInfo(t),r=k0.converters.MultiCacheQueryOptions(r),r.cacheName!=null){if(this.#e.has(r.cacheName)){let n=this.#e.get(r.cacheName);return await new yU(kS,n).match(t,r)}}else for(let n of this.#e.values()){let s=await new yU(kS,n).match(t,r);if(s!==void 0)return s}}async has(t){k0.brandCheck(this,e);let r="CacheStorage.has";return k0.argumentLengthCheck(arguments,1,r),t=k0.converters.DOMString(t,r,"cacheName"),this.#e.has(t)}async open(t){k0.brandCheck(this,e);let r="CacheStorage.open";if(k0.argumentLengthCheck(arguments,1,r),t=k0.converters.DOMString(t,r,"cacheName"),this.#e.has(t)){let i=this.#e.get(t);return new yU(kS,i)}let n=[];return this.#e.set(t,n),new yU(kS,n)}async delete(t){k0.brandCheck(this,e);let r="CacheStorage.delete";return k0.argumentLengthCheck(arguments,1,r),t=k0.converters.DOMString(t,r,"cacheName"),this.#e.delete(t)}async keys(){return k0.brandCheck(this,e),[...this.#e.keys()]}};Object.defineProperties(CU.prototype,{[Symbol.toStringTag]:{value:"CacheStorage",configurable:!0},match:BS,has:BS,open:BS,delete:BS,keys:BS});SSe.exports={CacheStorage:CU}});var BSe=V((Bqr,kSe)=>{"use strict";d();kSe.exports={maxAttributeValueSize:1024,maxNameValuePairSize:4096}});var Uie=V((Dqr,NSe)=>{"use strict";d();function X5t(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r>=0&&r<=8||r>=10&&r<=31||r===127)return!0}return!1}o(X5t,"isCTLExcludingHtab");function RSe(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r<33||r>126||r===34||r===40||r===41||r===60||r===62||r===64||r===44||r===59||r===58||r===92||r===47||r===91||r===93||r===63||r===61||r===123||r===125)throw new Error("Invalid cookie name")}}o(RSe,"validateCookieName");function DSe(e){let t=e.length,r=0;if(e[0]==='"'){if(t===1||e[t-1]!=='"')throw new Error("Invalid cookie value");--t,++r}for(;r<t;){let n=e.charCodeAt(r++);if(n<33||n>126||n===34||n===44||n===59||n===92)throw new Error("Invalid cookie value")}}o(DSe,"validateCookieValue");function PSe(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r<32||r===127||r===59)throw new Error("Invalid cookie path")}}o(PSe,"validateCookiePath");function Z5t(e){if(e.startsWith("-")||e.endsWith(".")||e.endsWith("-"))throw new Error("Invalid cookie domain")}o(Z5t,"validateCookieDomain");var eyt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],tyt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],xU=Array(61).fill(0).map((e,t)=>t.toString().padStart(2,"0"));function FSe(e){return typeof e=="number"&&(e=new Date(e)),`${eyt[e.getUTCDay()]}, ${xU[e.getUTCDate()]} ${tyt[e.getUTCMonth()]} ${e.getUTCFullYear()} ${xU[e.getUTCHours()]}:${xU[e.getUTCMinutes()]}:${xU[e.getUTCSeconds()]} GMT`}o(FSe,"toIMFDate");function ryt(e){if(e<0)throw new Error("Invalid cookie max-age")}o(ryt,"validateCookieMaxAge");function nyt(e){if(e.name.length===0)return null;RSe(e.name),DSe(e.value);let t=[`${e.name}=${e.value}`];e.name.startsWith("__Secure-")&&(e.secure=!0),e.name.startsWith("__Host-")&&(e.secure=!0,e.domain=null,e.path="/"),e.secure&&t.push("Secure"),e.httpOnly&&t.push("HttpOnly"),typeof e.maxAge=="number"&&(ryt(e.maxAge),t.push(`Max-Age=${e.maxAge}`)),e.domain&&(Z5t(e.domain),t.push(`Domain=${e.domain}`)),e.path&&(PSe(e.path),t.push(`Path=${e.path}`)),e.expires&&e.expires.toString()!=="Invalid Date"&&t.push(`Expires=${FSe(e.expires)}`),e.sameSite&&t.push(`SameSite=${e.sameSite}`);for(let r of e.unparsed){if(!r.includes("="))throw new Error("Invalid unparsed");let[n,...i]=r.split("=");t.push(`${n.trim()}=${i.join("=")}`)}return t.join("; ")}o(nyt,"stringify");NSe.exports={isCTLExcludingHtab:X5t,validateCookieName:RSe,validateCookiePath:PSe,validateCookieValue:DSe,toIMFDate:FSe,stringify:nyt}});var QSe=V((Nqr,LSe)=>{"use strict";d();var{maxNameValuePairSize:iyt,maxAttributeValueSize:oyt}=BSe(),{isCTLExcludingHtab:syt}=Uie(),{collectASequenceOfCodePointsFast:EU}=Kc(),ayt=require("node:assert");function lyt(e){if(syt(e))return null;let t="",r="",n="",i="";if(e.includes(";")){let s={position:0};t=EU(";",e,s),r=e.slice(s.position)}else t=e;if(!t.includes("="))i=t;else{let s={position:0};n=EU("=",t,s),i=t.slice(s.position+1)}return n=n.trim(),i=i.trim(),n.length+i.length>iyt?null:{name:n,value:i,...C8(r)}}o(lyt,"parseSetCookie");function C8(e,t={}){if(e.length===0)return t;ayt(e[0]===";"),e=e.slice(1);let r="";e.includes(";")?(r=EU(";",e,{position:0}),e=e.slice(r.length)):(r=e,e="");let n="",i="";if(r.includes("=")){let a={position:0};n=EU("=",r,a),i=r.slice(a.position+1)}else n=r;if(n=n.trim(),i=i.trim(),i.length>oyt)return C8(e,t);let s=n.toLowerCase();if(s==="expires"){let a=new Date(i);t.expires=a}else if(s==="max-age"){let a=i.charCodeAt(0);if((a<48||a>57)&&i[0]!=="-"||!/^\d+$/.test(i))return C8(e,t);let l=Number(i);t.maxAge=l}else if(s==="domain"){let a=i;a[0]==="."&&(a=a.slice(1)),a=a.toLowerCase(),t.domain=a}else if(s==="path"){let a="";i.length===0||i[0]!=="/"?a="/":a=i,t.path=a}else if(s==="secure")t.secure=!0;else if(s==="httponly")t.httpOnly=!0;else if(s==="samesite"){let a="Default",l=i.toLowerCase();l.includes("none")&&(a="None"),l.includes("strict")&&(a="Strict"),l.includes("lax")&&(a="Lax"),t.sameSite=a}else t.unparsed??=[],t.unparsed.push(`${n}=${i}`);return C8(e,t)}o(C8,"parseUnparsedAttributes");LSe.exports={parseSetCookie:lyt,parseUnparsedAttributes:C8}});var USe=V((Mqr,OSe)=>{"use strict";d();var{parseSetCookie:cyt}=QSe(),{stringify:uyt}=Uie(),{webidl:wi}=zl(),{Headers:bU}=z4();function fyt(e){wi.argumentLengthCheck(arguments,1,"getCookies"),wi.brandCheck(e,bU,{strict:!1});let t=e.get("cookie"),r={};if(!t)return r;for(let n of t.split(";")){let[i,...s]=n.split("=");r[i.trim()]=s.join("=")}return r}o(fyt,"getCookies");function dyt(e,t,r){wi.brandCheck(e,bU,{strict:!1});let n="deleteCookie";wi.argumentLengthCheck(arguments,2,n),t=wi.converters.DOMString(t,n,"name"),r=wi.converters.DeleteCookieAttributes(r),MSe(e,{name:t,value:"",expires:new Date(0),...r})}o(dyt,"deleteCookie");function myt(e){wi.argumentLengthCheck(arguments,1,"getSetCookies"),wi.brandCheck(e,bU,{strict:!1});let t=e.getSetCookie();return t?t.map(r=>cyt(r)):[]}o(myt,"getSetCookies");function MSe(e,t){wi.argumentLengthCheck(arguments,2,"setCookie"),wi.brandCheck(e,bU,{strict:!1}),t=wi.converters.Cookie(t);let r=uyt(t);r&&e.append("Set-Cookie",r)}o(MSe,"setCookie");wi.converters.DeleteCookieAttributes=wi.dictionaryConverter([{converter:wi.nullableConverter(wi.converters.DOMString),key:"path",defaultValue:o(()=>null,"defaultValue")},{converter:wi.nullableConverter(wi.converters.DOMString),key:"domain",defaultValue:o(()=>null,"defaultValue")}]);wi.converters.Cookie=wi.dictionaryConverter([{converter:wi.converters.DOMString,key:"name"},{converter:wi.converters.DOMString,key:"value"},{converter:wi.nullableConverter(e=>typeof e=="number"?wi.converters["unsigned long long"](e):new Date(e)),key:"expires",defaultValue:o(()=>null,"defaultValue")},{converter:wi.nullableConverter(wi.converters["long long"]),key:"maxAge",defaultValue:o(()=>null,"defaultValue")},{converter:wi.nullableConverter(wi.converters.DOMString),key:"domain",defaultValue:o(()=>null,"defaultValue")},{converter:wi.nullableConverter(wi.converters.DOMString),key:"path",defaultValue:o(()=>null,"defaultValue")},{converter:wi.nullableConverter(wi.converters.boolean),key:"secure",defaultValue:o(()=>null,"defaultValue")},{converter:wi.nullableConverter(wi.converters.boolean),key:"httpOnly",defaultValue:o(()=>null,"defaultValue")},{converter:wi.converters.USVString,key:"sameSite",allowedValues:["Strict","Lax","None"]},{converter:wi.sequenceConverter(wi.converters.DOMString),key:"unparsed",defaultValue:o(()=>new Array(0),"defaultValue")}]);OSe.exports={getCookies:fyt,deleteCookie:dyt,getSetCookies:myt,setCookie:MSe}});var E8=V((qqr,WSe)=>{"use strict";d();var{webidl:zr}=zl(),{kEnumerableProperty:eu}=ci(),{kConstruct:qSe}=vs(),{MessagePort:hyt}=require("node:worker_threads"),x8=class e extends Event{static{o(this,"MessageEvent")}#e;constructor(t,r={}){if(t===qSe){super(arguments[1],arguments[2]),zr.util.markAsUncloneable(this);return}let n="MessageEvent constructor";zr.argumentLengthCheck(arguments,1,n),t=zr.converters.DOMString(t,n,"type"),r=zr.converters.MessageEventInit(r,n,"eventInitDict"),super(t,r),this.#e=r,zr.util.markAsUncloneable(this)}get data(){return zr.brandCheck(this,e),this.#e.data}get origin(){return zr.brandCheck(this,e),this.#e.origin}get lastEventId(){return zr.brandCheck(this,e),this.#e.lastEventId}get source(){return zr.brandCheck(this,e),this.#e.source}get ports(){return zr.brandCheck(this,e),Object.isFrozen(this.#e.ports)||Object.freeze(this.#e.ports),this.#e.ports}initMessageEvent(t,r=!1,n=!1,i=null,s="",a="",l=null,c=[]){return zr.brandCheck(this,e),zr.argumentLengthCheck(arguments,1,"MessageEvent.initMessageEvent"),new e(t,{bubbles:r,cancelable:n,data:i,origin:s,lastEventId:a,source:l,ports:c})}static createFastMessageEvent(t,r){let n=new e(qSe,t,r);return n.#e=r,n.#e.data??=null,n.#e.origin??="",n.#e.lastEventId??="",n.#e.source??=null,n.#e.ports??=[],n}},{createFastMessageEvent:pyt}=x8;delete x8.createFastMessageEvent;var vU=class e extends Event{static{o(this,"CloseEvent")}#e;constructor(t,r={}){let n="CloseEvent constructor";zr.argumentLengthCheck(arguments,1,n),t=zr.converters.DOMString(t,n,"type"),r=zr.converters.CloseEventInit(r),super(t,r),this.#e=r,zr.util.markAsUncloneable(this)}get wasClean(){return zr.brandCheck(this,e),this.#e.wasClean}get code(){return zr.brandCheck(this,e),this.#e.code}get reason(){return zr.brandCheck(this,e),this.#e.reason}},IU=class e extends Event{static{o(this,"ErrorEvent")}#e;constructor(t,r){let n="ErrorEvent constructor";zr.argumentLengthCheck(arguments,1,n),super(t,r),zr.util.markAsUncloneable(this),t=zr.converters.DOMString(t,n,"type"),r=zr.converters.ErrorEventInit(r??{}),this.#e=r}get message(){return zr.brandCheck(this,e),this.#e.message}get filename(){return zr.brandCheck(this,e),this.#e.filename}get lineno(){return zr.brandCheck(this,e),this.#e.lineno}get colno(){return zr.brandCheck(this,e),this.#e.colno}get error(){return zr.brandCheck(this,e),this.#e.error}};Object.defineProperties(x8.prototype,{[Symbol.toStringTag]:{value:"MessageEvent",configurable:!0},data:eu,origin:eu,lastEventId:eu,source:eu,ports:eu,initMessageEvent:eu});Object.defineProperties(vU.prototype,{[Symbol.toStringTag]:{value:"CloseEvent",configurable:!0},reason:eu,code:eu,wasClean:eu});Object.defineProperties(IU.prototype,{[Symbol.toStringTag]:{value:"ErrorEvent",configurable:!0},message:eu,filename:eu,lineno:eu,colno:eu,error:eu});zr.converters.MessagePort=zr.interfaceConverter(hyt);zr.converters["sequence<MessagePort>"]=zr.sequenceConverter(zr.converters.MessagePort);var qie=[{key:"bubbles",converter:zr.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"cancelable",converter:zr.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"composed",converter:zr.converters.boolean,defaultValue:o(()=>!1,"defaultValue")}];zr.converters.MessageEventInit=zr.dictionaryConverter([...qie,{key:"data",converter:zr.converters.any,defaultValue:o(()=>null,"defaultValue")},{key:"origin",converter:zr.converters.USVString,defaultValue:o(()=>"","defaultValue")},{key:"lastEventId",converter:zr.converters.DOMString,defaultValue:o(()=>"","defaultValue")},{key:"source",converter:zr.nullableConverter(zr.converters.MessagePort),defaultValue:o(()=>null,"defaultValue")},{key:"ports",converter:zr.converters["sequence<MessagePort>"],defaultValue:o(()=>new Array(0),"defaultValue")}]);zr.converters.CloseEventInit=zr.dictionaryConverter([...qie,{key:"wasClean",converter:zr.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"code",converter:zr.converters["unsigned short"],defaultValue:o(()=>0,"defaultValue")},{key:"reason",converter:zr.converters.USVString,defaultValue:o(()=>"","defaultValue")}]);zr.converters.ErrorEventInit=zr.dictionaryConverter([...qie,{key:"message",converter:zr.converters.DOMString,defaultValue:o(()=>"","defaultValue")},{key:"filename",converter:zr.converters.USVString,defaultValue:o(()=>"","defaultValue")},{key:"lineno",converter:zr.converters["unsigned long"],defaultValue:o(()=>0,"defaultValue")},{key:"colno",converter:zr.converters["unsigned long"],defaultValue:o(()=>0,"defaultValue")},{key:"error",converter:zr.converters.any}]);WSe.exports={MessageEvent:x8,CloseEvent:vU,ErrorEvent:IU,createFastMessageEvent:pyt}});var ex=V((Hqr,GSe)=>{"use strict";d();var gyt="258EAFA5-E914-47DA-95CA-C5AB0DC85B11",Ayt={enumerable:!0,writable:!1,configurable:!1},yyt={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},Cyt={NOT_SENT:0,PROCESSING:1,SENT:2},xyt={CONTINUATION:0,TEXT:1,BINARY:2,CLOSE:8,PING:9,PONG:10},Eyt=2**16-1,byt={INFO:0,PAYLOADLENGTH_16:2,PAYLOADLENGTH_64:3,READ_DATA:4},vyt=Buffer.allocUnsafe(0),Iyt={string:1,typedArray:2,arrayBuffer:3,blob:4};GSe.exports={uid:gyt,sentCloseFrameState:Cyt,staticPropertyDescriptors:Ayt,states:yyt,opcodes:xyt,maxUnsigned16Bit:Eyt,parserStates:byt,emptyBuffer:vyt,sendHints:Iyt}});var RS=V((jqr,HSe)=>{"use strict";d();HSe.exports={kWebSocketURL:Symbol("url"),kReadyState:Symbol("ready state"),kController:Symbol("controller"),kResponse:Symbol("response"),kBinaryType:Symbol("binary type"),kSentClose:Symbol("sent close"),kReceivedClose:Symbol("received close"),kByteParser:Symbol("byte parser")}});var NS=V((zqr,ZSe)=>{"use strict";d();var{kReadyState:DS,kController:Tyt,kResponse:wyt,kBinaryType:Syt,kWebSocketURL:_yt}=RS(),{states:PS,opcodes:by}=ex(),{ErrorEvent:kyt,createFastMessageEvent:Byt}=E8(),{isUtf8:Ryt}=require("node:buffer"),{collectASequenceOfCodePointsFast:Dyt,removeHTTPWhitespace:VSe}=Kc();function Pyt(e){return e[DS]===PS.CONNECTING}o(Pyt,"isConnecting");function Fyt(e){return e[DS]===PS.OPEN}o(Fyt,"isEstablished");function Nyt(e){return e[DS]===PS.CLOSING}o(Nyt,"isClosing");function Lyt(e){return e[DS]===PS.CLOSED}o(Lyt,"isClosed");function Wie(e,t,r=(i,s)=>new Event(i,s),n={}){let i=r(e,n);t.dispatchEvent(i)}o(Wie,"fireEvent");function Qyt(e,t,r){if(e[DS]!==PS.OPEN)return;let n;if(t===by.TEXT)try{n=XSe(r)}catch{$Se(e,"Received invalid UTF-8 in text frame.");return}else t===by.BINARY&&(e[Syt]==="blob"?n=new Blob([r]):n=Myt(r));Wie("message",e,Byt,{origin:e[_yt].origin,data:n})}o(Qyt,"websocketMessageReceived");function Myt(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}o(Myt,"toArrayBuffer");function Oyt(e){if(e.length===0)return!1;for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r<33||r>126||r===34||r===40||r===41||r===44||r===47||r===58||r===59||r===60||r===61||r===62||r===63||r===64||r===91||r===92||r===93||r===123||r===125)return!1}return!0}o(Oyt,"isValidSubprotocol");function Uyt(e){return e>=1e3&&e<1015?e!==1004&&e!==1005&&e!==1006:e>=3e3&&e<=4999}o(Uyt,"isValidStatusCode");function $Se(e,t){let{[Tyt]:r,[wyt]:n}=e;r.abort(),n?.socket&&!n.socket.destroyed&&n.socket.destroy(),t&&Wie("error",e,(i,s)=>new kyt(i,s),{error:new Error(t),message:t})}o($Se,"failWebsocketConnection");function zSe(e){return e===by.CLOSE||e===by.PING||e===by.PONG}o(zSe,"isControlFrame");function YSe(e){return e===by.CONTINUATION}o(YSe,"isContinuationFrame");function KSe(e){return e===by.TEXT||e===by.BINARY}o(KSe,"isTextBinaryFrame");function qyt(e){return KSe(e)||YSe(e)||zSe(e)}o(qyt,"isValidOpcode");function Wyt(e){let t={position:0},r=new Map;for(;t.position<e.length;){let n=Dyt(";",e,t),[i,s=""]=n.split("=");r.set(VSe(i,!0,!1),VSe(s,!1,!0)),t.position++}return r}o(Wyt,"parseExtensions");function Gyt(e){for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);if(r<48||r>57)return!1}return!0}o(Gyt,"isValidClientWindowBits");var JSe=typeof process.versions.icu=="string",jSe=JSe?new TextDecoder("utf-8",{fatal:!0}):void 0,XSe=JSe?jSe.decode.bind(jSe):function(e){if(Ryt(e))return e.toString("utf-8");throw new TypeError("Invalid utf-8 received.")};ZSe.exports={isConnecting:Pyt,isEstablished:Fyt,isClosing:Nyt,isClosed:Lyt,fireEvent:Wie,isValidSubprotocol:Oyt,isValidStatusCode:Uyt,failWebsocketConnection:$Se,websocketMessageReceived:Qyt,utf8Decode:XSe,isControlFrame:zSe,isContinuationFrame:YSe,isTextBinaryFrame:KSe,isValidOpcode:qyt,parseExtensions:Wyt,isValidClientWindowBits:Gyt}});var wU=V((Jqr,e_e)=>{"use strict";d();var{maxUnsigned16Bit:Hyt}=ex(),TU=16386,Gie,LS=null,b8=TU;try{Gie=require("node:crypto")}catch{Gie={randomFillSync:o(function(t,r,n){for(let i=0;i<t.length;++i)t[i]=Math.random()*255|0;return t},"randomFillSync")}}function Vyt(){return b8===TU&&(b8=0,Gie.randomFillSync(LS??=Buffer.allocUnsafe(TU),0,TU)),[LS[b8++],LS[b8++],LS[b8++],LS[b8++]]}o(Vyt,"generateMask");var Hie=class{static{o(this,"WebsocketFrameSend")}constructor(t){this.frameData=t}createFrame(t){let r=this.frameData,n=Vyt(),i=r?.byteLength??0,s=i,a=6;i>Hyt?(a+=8,s=127):i>125&&(a+=2,s=126);let l=Buffer.allocUnsafe(i+a);l[0]=l[1]=0,l[0]|=128,l[0]=(l[0]&240)+t;l[a-4]=n[0],l[a-3]=n[1],l[a-2]=n[2],l[a-1]=n[3],l[1]=s,s===126?l.writeUInt16BE(i,2):s===127&&(l[2]=l[3]=0,l.writeUIntBE(i,4,6)),l[1]|=128;for(let c=0;c<i;++c)l[a+c]=r[c]^n[c&3];return l}};e_e.exports={WebsocketFrameSend:Hie}});var jie=V((eWr,a_e)=>{"use strict";d();var{uid:jyt,states:QS,sentCloseFrameState:SU,emptyBuffer:$yt,opcodes:zyt}=ex(),{kReadyState:MS,kSentClose:_U,kByteParser:r_e,kReceivedClose:t_e,kResponse:n_e}=RS(),{fireEvent:Yyt,failWebsocketConnection:vy,isClosing:Kyt,isClosed:Jyt,isEstablished:Xyt,parseExtensions:Zyt}=NS(),{channels:v8}=LI(),{CloseEvent:eCt}=E8(),{makeRequest:tCt}=p8(),{fetching:rCt}=SS(),{Headers:nCt,getHeadersList:iCt}=z4(),{getDecodeSplit:oCt}=Xu(),{WebsocketFrameSend:sCt}=wU(),Vie;try{Vie=require("node:crypto")}catch{}function aCt(e,t,r,n,i,s){let a=e;a.protocol=e.protocol==="ws:"?"http:":"https:";let l=tCt({urlList:[a],client:r,serviceWorkers:"none",referrer:"no-referrer",mode:"websocket",credentials:"include",cache:"no-store",redirect:"error"});if(s.headers){let m=iCt(new nCt(s.headers));l.headersList=m}let c=Vie.randomBytes(16).toString("base64");l.headersList.append("sec-websocket-key",c),l.headersList.append("sec-websocket-version","13");for(let m of t)l.headersList.append("sec-websocket-protocol",m);return l.headersList.append("sec-websocket-extensions","permessage-deflate; client_max_window_bits"),rCt({request:l,useParallelQueue:!0,dispatcher:s.dispatcher,processResponse(m){if(m.type==="error"||m.status!==101){vy(n,"Received network error or non-101 status code.");return}if(t.length!==0&&!m.headersList.get("Sec-WebSocket-Protocol")){vy(n,"Server did not respond with sent protocols.");return}if(m.headersList.get("Upgrade")?.toLowerCase()!=="websocket"){vy(n,'Server did not set Upgrade header to "websocket".');return}if(m.headersList.get("Connection")?.toLowerCase()!=="upgrade"){vy(n,'Server did not set Connection header to "upgrade".');return}let h=m.headersList.get("Sec-WebSocket-Accept"),p=Vie.createHash("sha1").update(c+jyt).digest("base64");if(h!==p){vy(n,"Incorrect hash received in Sec-WebSocket-Accept header.");return}let A=m.headersList.get("Sec-WebSocket-Extensions"),x;if(A!==null&&(x=Zyt(A),!x.has("permessage-deflate"))){vy(n,"Sec-WebSocket-Extensions header does not match.");return}let E=m.headersList.get("Sec-WebSocket-Protocol");if(E!==null&&!oCt("sec-websocket-protocol",l.headersList).includes(E)){vy(n,"Protocol was not set in the opening handshake.");return}m.socket.on("data",i_e),m.socket.on("close",o_e),m.socket.on("error",s_e),v8.open.hasSubscribers&&v8.open.publish({address:m.socket.address(),protocol:E,extensions:A}),i(m,x)}})}o(aCt,"establishWebSocketConnection");function lCt(e,t,r,n){if(!(Kyt(e)||Jyt(e)))if(!Xyt(e))vy(e,"Connection was closed before it was established."),e[MS]=QS.CLOSING;else if(e[_U]===SU.NOT_SENT){e[_U]=SU.PROCESSING;let i=new sCt;t!==void 0&&r===void 0?(i.frameData=Buffer.allocUnsafe(2),i.frameData.writeUInt16BE(t,0)):t!==void 0&&r!==void 0?(i.frameData=Buffer.allocUnsafe(2+n),i.frameData.writeUInt16BE(t,0),i.frameData.write(r,2,"utf-8")):i.frameData=$yt,e[n_e].socket.write(i.createFrame(zyt.CLOSE)),e[_U]=SU.SENT,e[MS]=QS.CLOSING}else e[MS]=QS.CLOSING}o(lCt,"closeWebSocketConnection");function i_e(e){this.ws[r_e].write(e)||this.pause()}o(i_e,"onSocketData");function o_e(){let{ws:e}=this,{[n_e]:t}=e;t.socket.off("data",i_e),t.socket.off("close",o_e),t.socket.off("error",s_e);let r=e[_U]===SU.SENT&&e[t_e],n=1005,i="",s=e[r_e].closingInfo;s&&!s.error?(n=s.code??1005,i=s.reason):e[t_e]||(n=1006),e[MS]=QS.CLOSED,Yyt("close",e,(a,l)=>new eCt(a,l),{wasClean:r,code:n,reason:i}),v8.close.hasSubscribers&&v8.close.publish({websocket:e,code:n,reason:i})}o(o_e,"onSocketClose");function s_e(e){let{ws:t}=this;t[MS]=QS.CLOSING,v8.socketError.hasSubscribers&&v8.socketError.publish(e),this.destroy()}o(s_e,"onSocketError");a_e.exports={establishWebSocketConnection:aCt,closeWebSocketConnection:lCt}});var c_e=V((nWr,l_e)=>{"use strict";d();var{createInflateRaw:cCt,Z_DEFAULT_WINDOWBITS:uCt}=require("node:zlib"),{isValidClientWindowBits:fCt}=NS(),dCt=Buffer.from([0,0,255,255]),kU=Symbol("kBuffer"),BU=Symbol("kLength"),$ie=class{static{o(this,"PerMessageDeflate")}#e;#t={};constructor(t){this.#t.serverNoContextTakeover=t.has("server_no_context_takeover"),this.#t.serverMaxWindowBits=t.get("server_max_window_bits")}decompress(t,r,n){if(!this.#e){let i=uCt;if(this.#t.serverMaxWindowBits){if(!fCt(this.#t.serverMaxWindowBits)){n(new Error("Invalid server_max_window_bits"));return}i=Number.parseInt(this.#t.serverMaxWindowBits)}this.#e=cCt({windowBits:i}),this.#e[kU]=[],this.#e[BU]=0,this.#e.on("data",s=>{this.#e[kU].push(s),this.#e[BU]+=s.length}),this.#e.on("error",s=>{this.#e=null,n(s)})}this.#e.write(t),r&&this.#e.write(dCt),this.#e.flush(()=>{let i=Buffer.concat(this.#e[kU],this.#e[BU]);this.#e[kU].length=0,this.#e[BU]=0,n(null,i)})}};l_e.exports={PerMessageDeflate:$ie}});var x_e=V((sWr,C_e)=>{"use strict";d();var{Writable:mCt}=require("node:stream"),hCt=require("node:assert"),{parserStates:tu,opcodes:I8,states:pCt,emptyBuffer:u_e,sentCloseFrameState:f_e}=ex(),{kReadyState:gCt,kSentClose:d_e,kResponse:m_e,kReceivedClose:h_e}=RS(),{channels:RU}=LI(),{isValidStatusCode:ACt,isValidOpcode:yCt,failWebsocketConnection:Id,websocketMessageReceived:p_e,utf8Decode:CCt,isControlFrame:g_e,isTextBinaryFrame:zie,isContinuationFrame:xCt}=NS(),{WebsocketFrameSend:A_e}=wU(),{closeWebSocketConnection:y_e}=jie(),{PerMessageDeflate:ECt}=c_e(),Yie=class extends mCt{static{o(this,"ByteParser")}#e=[];#t=0;#i=!1;#n=tu.INFO;#r={};#o=[];#s;constructor(t,r){super(),this.ws=t,this.#s=r??new Map,this.#s.has("permessage-deflate")&&this.#s.set("permessage-deflate",new ECt(r))}_write(t,r,n){this.#e.push(t),this.#t+=t.length,this.#i=!0,this.run(n)}run(t){for(;this.#i;)if(this.#n===tu.INFO){if(this.#t<2)return t();let r=this.consume(2),n=(r[0]&128)!==0,i=r[0]&15,s=(r[1]&128)===128,a=!n&&i!==I8.CONTINUATION,l=r[1]&127,c=r[0]&64,u=r[0]&32,f=r[0]&16;if(!yCt(i))return Id(this.ws,"Invalid opcode received"),t();if(s)return Id(this.ws,"Frame cannot be masked"),t();if(c!==0&&!this.#s.has("permessage-deflate")){Id(this.ws,"Expected RSV1 to be clear.");return}if(u!==0||f!==0){Id(this.ws,"RSV1, RSV2, RSV3 must be clear");return}if(a&&!zie(i)){Id(this.ws,"Invalid frame type was fragmented.");return}if(zie(i)&&this.#o.length>0){Id(this.ws,"Expected continuation frame");return}if(this.#r.fragmented&&a){Id(this.ws,"Fragmented frame exceeded 125 bytes.");return}if((l>125||a)&&g_e(i)){Id(this.ws,"Control frame either too large or fragmented");return}if(xCt(i)&&this.#o.length===0&&!this.#r.compressed){Id(this.ws,"Unexpected continuation frame");return}l<=125?(this.#r.payloadLength=l,this.#n=tu.READ_DATA):l===126?this.#n=tu.PAYLOADLENGTH_16:l===127&&(this.#n=tu.PAYLOADLENGTH_64),zie(i)&&(this.#r.binaryType=i,this.#r.compressed=c!==0),this.#r.opcode=i,this.#r.masked=s,this.#r.fin=n,this.#r.fragmented=a}else if(this.#n===tu.PAYLOADLENGTH_16){if(this.#t<2)return t();let r=this.consume(2);this.#r.payloadLength=r.readUInt16BE(0),this.#n=tu.READ_DATA}else if(this.#n===tu.PAYLOADLENGTH_64){if(this.#t<8)return t();let r=this.consume(8),n=r.readUInt32BE(0);if(n>2**31-1){Id(this.ws,"Received payload length > 2^31 bytes.");return}let i=r.readUInt32BE(4);this.#r.payloadLength=(n<<8)+i,this.#n=tu.READ_DATA}else if(this.#n===tu.READ_DATA){if(this.#t<this.#r.payloadLength)return t();let r=this.consume(this.#r.payloadLength);if(g_e(this.#r.opcode))this.#i=this.parseControlFrame(r),this.#n=tu.INFO;else if(this.#r.compressed){this.#s.get("permessage-deflate").decompress(r,this.#r.fin,(n,i)=>{if(n){y_e(this.ws,1007,n.message,n.message.length);return}if(this.#o.push(i),!this.#r.fin){this.#n=tu.INFO,this.#i=!0,this.run(t);return}p_e(this.ws,this.#r.binaryType,Buffer.concat(this.#o)),this.#i=!0,this.#n=tu.INFO,this.#o.length=0,this.run(t)}),this.#i=!1;break}else{if(this.#o.push(r),!this.#r.fragmented&&this.#r.fin){let n=Buffer.concat(this.#o);p_e(this.ws,this.#r.binaryType,n),this.#o.length=0}this.#n=tu.INFO}}}consume(t){if(t>this.#t)throw new Error("Called consume() before buffers satiated.");if(t===0)return u_e;if(this.#e[0].length===t)return this.#t-=this.#e[0].length,this.#e.shift();let r=Buffer.allocUnsafe(t),n=0;for(;n!==t;){let i=this.#e[0],{length:s}=i;if(s+n===t){r.set(this.#e.shift(),n);break}else if(s+n>t){r.set(i.subarray(0,t-n),n),this.#e[0]=i.subarray(t-n);break}else r.set(this.#e.shift(),n),n+=i.length}return this.#t-=t,r}parseCloseBody(t){hCt(t.length!==1);let r;if(t.length>=2&&(r=t.readUInt16BE(0)),r!==void 0&&!ACt(r))return{code:1002,reason:"Invalid status code",error:!0};let n=t.subarray(2);n[0]===239&&n[1]===187&&n[2]===191&&(n=n.subarray(3));try{n=CCt(n)}catch{return{code:1007,reason:"Invalid UTF-8",error:!0}}return{code:r,reason:n,error:!1}}parseControlFrame(t){let{opcode:r,payloadLength:n}=this.#r;if(r===I8.CLOSE){if(n===1)return Id(this.ws,"Received close frame with a 1-byte body."),!1;if(this.#r.closeInfo=this.parseCloseBody(t),this.#r.closeInfo.error){let{code:i,reason:s}=this.#r.closeInfo;return y_e(this.ws,i,s,s.length),Id(this.ws,s),!1}if(this.ws[d_e]!==f_e.SENT){let i=u_e;this.#r.closeInfo.code&&(i=Buffer.allocUnsafe(2),i.writeUInt16BE(this.#r.closeInfo.code,0));let s=new A_e(i);this.ws[m_e].socket.write(s.createFrame(I8.CLOSE),a=>{a||(this.ws[d_e]=f_e.SENT)})}return this.ws[gCt]=pCt.CLOSING,this.ws[h_e]=!0,!1}else if(r===I8.PING){if(!this.ws[h_e]){let i=new A_e(t);this.ws[m_e].socket.write(i.createFrame(I8.PONG)),RU.ping.hasSubscribers&&RU.ping.publish({payload:t})}}else r===I8.PONG&&RU.pong.hasSubscribers&&RU.pong.publish({payload:t});return!0}get closingInfo(){return this.#r.closeInfo}};C_e.exports={ByteParser:Yie}});var T_e=V((cWr,I_e)=>{"use strict";d();var{WebsocketFrameSend:bCt}=wU(),{opcodes:E_e,sendHints:T8}=ex(),vCt=ane(),b_e=Buffer[Symbol.species],Kie=class{static{o(this,"SendQueue")}#e=new vCt;#t=!1;#i;constructor(t){this.#i=t}add(t,r,n){if(n!==T8.blob){let s=v_e(t,n);if(!this.#t)this.#i.write(s,r);else{let a={promise:null,callback:r,frame:s};this.#e.push(a)}return}let i={promise:t.arrayBuffer().then(s=>{i.promise=null,i.frame=v_e(s,n)}),callback:r,frame:null};this.#e.push(i),this.#t||this.#n()}async#n(){this.#t=!0;let t=this.#e;for(;!t.isEmpty();){let r=t.shift();r.promise!==null&&await r.promise,this.#i.write(r.frame,r.callback),r.callback=r.frame=null}this.#t=!1}};function v_e(e,t){return new bCt(ICt(e,t)).createFrame(t===T8.string?E_e.TEXT:E_e.BINARY)}o(v_e,"createFrame");function ICt(e,t){switch(t){case T8.string:return Buffer.from(e);case T8.arrayBuffer:case T8.blob:return new b_e(e);case T8.typedArray:return new b_e(e.buffer,e.byteOffset,e.byteLength)}}o(ICt,"toBuffer");I_e.exports={SendQueue:Kie}});var F_e=V((dWr,P_e)=>{"use strict";d();var{webidl:Bn}=zl(),{URLSerializer:TCt}=Kc(),{environmentSettingsObject:w_e}=Xu(),{staticPropertyDescriptors:Iy,states:OS,sentCloseFrameState:wCt,sendHints:DU}=ex(),{kWebSocketURL:S_e,kReadyState:Jie,kController:SCt,kBinaryType:PU,kResponse:__e,kSentClose:_Ct,kByteParser:kCt}=RS(),{isConnecting:BCt,isEstablished:RCt,isClosing:DCt,isValidSubprotocol:PCt,fireEvent:k_e}=NS(),{establishWebSocketConnection:FCt,closeWebSocketConnection:B_e}=jie(),{ByteParser:NCt}=x_e(),{kEnumerableProperty:Td,isBlobLike:R_e}=ci(),{getGlobalDispatcher:LCt}=$O(),{types:D_e}=require("node:util"),{ErrorEvent:QCt,CloseEvent:MCt}=E8(),{SendQueue:OCt}=T_e(),sf=class e extends EventTarget{static{o(this,"WebSocket")}#e={open:null,error:null,close:null,message:null};#t=0;#i="";#n="";#r;constructor(t,r=[]){super(),Bn.util.markAsUncloneable(this);let n="WebSocket constructor";Bn.argumentLengthCheck(arguments,1,n);let i=Bn.converters["DOMString or sequence<DOMString> or WebSocketInit"](r,n,"options");t=Bn.converters.USVString(t,n,"url"),r=i.protocols;let s=w_e.settingsObject.baseUrl,a;try{a=new URL(t,s)}catch(c){throw new DOMException(c,"SyntaxError")}if(a.protocol==="http:"?a.protocol="ws:":a.protocol==="https:"&&(a.protocol="wss:"),a.protocol!=="ws:"&&a.protocol!=="wss:")throw new DOMException(`Expected a ws: or wss: protocol, got ${a.protocol}`,"SyntaxError");if(a.hash||a.href.endsWith("#"))throw new DOMException("Got fragment","SyntaxError");if(typeof r=="string"&&(r=[r]),r.length!==new Set(r.map(c=>c.toLowerCase())).size)throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");if(r.length>0&&!r.every(c=>PCt(c)))throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");this[S_e]=new URL(a.href);let l=w_e.settingsObject;this[SCt]=FCt(a,r,l,this,(c,u)=>this.#o(c,u),i),this[Jie]=e.CONNECTING,this[_Ct]=wCt.NOT_SENT,this[PU]="blob"}close(t=void 0,r=void 0){Bn.brandCheck(this,e);let n="WebSocket.close";if(t!==void 0&&(t=Bn.converters["unsigned short"](t,n,"code",{clamp:!0})),r!==void 0&&(r=Bn.converters.USVString(r,n,"reason")),t!==void 0&&t!==1e3&&(t<3e3||t>4999))throw new DOMException("invalid code","InvalidAccessError");let i=0;if(r!==void 0&&(i=Buffer.byteLength(r),i>123))throw new DOMException(`Reason must be less than 123 bytes; received ${i}`,"SyntaxError");B_e(this,t,r,i)}send(t){Bn.brandCheck(this,e);let r="WebSocket.send";if(Bn.argumentLengthCheck(arguments,1,r),t=Bn.converters.WebSocketSendData(t,r,"data"),BCt(this))throw new DOMException("Sent before connected.","InvalidStateError");if(!(!RCt(this)||DCt(this)))if(typeof t=="string"){let n=Buffer.byteLength(t);this.#t+=n,this.#r.add(t,()=>{this.#t-=n},DU.string)}else D_e.isArrayBuffer(t)?(this.#t+=t.byteLength,this.#r.add(t,()=>{this.#t-=t.byteLength},DU.arrayBuffer)):ArrayBuffer.isView(t)?(this.#t+=t.byteLength,this.#r.add(t,()=>{this.#t-=t.byteLength},DU.typedArray)):R_e(t)&&(this.#t+=t.size,this.#r.add(t,()=>{this.#t-=t.size},DU.blob))}get readyState(){return Bn.brandCheck(this,e),this[Jie]}get bufferedAmount(){return Bn.brandCheck(this,e),this.#t}get url(){return Bn.brandCheck(this,e),TCt(this[S_e])}get extensions(){return Bn.brandCheck(this,e),this.#n}get protocol(){return Bn.brandCheck(this,e),this.#i}get onopen(){return Bn.brandCheck(this,e),this.#e.open}set onopen(t){Bn.brandCheck(this,e),this.#e.open&&this.removeEventListener("open",this.#e.open),typeof t=="function"?(this.#e.open=t,this.addEventListener("open",t)):this.#e.open=null}get onerror(){return Bn.brandCheck(this,e),this.#e.error}set onerror(t){Bn.brandCheck(this,e),this.#e.error&&this.removeEventListener("error",this.#e.error),typeof t=="function"?(this.#e.error=t,this.addEventListener("error",t)):this.#e.error=null}get onclose(){return Bn.brandCheck(this,e),this.#e.close}set onclose(t){Bn.brandCheck(this,e),this.#e.close&&this.removeEventListener("close",this.#e.close),typeof t=="function"?(this.#e.close=t,this.addEventListener("close",t)):this.#e.close=null}get onmessage(){return Bn.brandCheck(this,e),this.#e.message}set onmessage(t){Bn.brandCheck(this,e),this.#e.message&&this.removeEventListener("message",this.#e.message),typeof t=="function"?(this.#e.message=t,this.addEventListener("message",t)):this.#e.message=null}get binaryType(){return Bn.brandCheck(this,e),this[PU]}set binaryType(t){Bn.brandCheck(this,e),t!=="blob"&&t!=="arraybuffer"?this[PU]="blob":this[PU]=t}#o(t,r){this[__e]=t;let n=new NCt(this,r);n.on("drain",UCt),n.on("error",qCt.bind(this)),t.socket.ws=this,this[kCt]=n,this.#r=new OCt(t.socket),this[Jie]=OS.OPEN;let i=t.headersList.get("sec-websocket-extensions");i!==null&&(this.#n=i);let s=t.headersList.get("sec-websocket-protocol");s!==null&&(this.#i=s),k_e("open",this)}};sf.CONNECTING=sf.prototype.CONNECTING=OS.CONNECTING;sf.OPEN=sf.prototype.OPEN=OS.OPEN;sf.CLOSING=sf.prototype.CLOSING=OS.CLOSING;sf.CLOSED=sf.prototype.CLOSED=OS.CLOSED;Object.defineProperties(sf.prototype,{CONNECTING:Iy,OPEN:Iy,CLOSING:Iy,CLOSED:Iy,url:Td,readyState:Td,bufferedAmount:Td,onopen:Td,onerror:Td,onclose:Td,close:Td,onmessage:Td,binaryType:Td,send:Td,extensions:Td,protocol:Td,[Symbol.toStringTag]:{value:"WebSocket",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(sf,{CONNECTING:Iy,OPEN:Iy,CLOSING:Iy,CLOSED:Iy});Bn.converters["sequence<DOMString>"]=Bn.sequenceConverter(Bn.converters.DOMString);Bn.converters["DOMString or sequence<DOMString>"]=function(e,t,r){return Bn.util.Type(e)==="Object"&&Symbol.iterator in e?Bn.converters["sequence<DOMString>"](e):Bn.converters.DOMString(e,t,r)};Bn.converters.WebSocketInit=Bn.dictionaryConverter([{key:"protocols",converter:Bn.converters["DOMString or sequence<DOMString>"],defaultValue:o(()=>new Array(0),"defaultValue")},{key:"dispatcher",converter:Bn.converters.any,defaultValue:o(()=>LCt(),"defaultValue")},{key:"headers",converter:Bn.nullableConverter(Bn.converters.HeadersInit)}]);Bn.converters["DOMString or sequence<DOMString> or WebSocketInit"]=function(e){return Bn.util.Type(e)==="Object"&&!(Symbol.iterator in e)?Bn.converters.WebSocketInit(e):{protocols:Bn.converters["DOMString or sequence<DOMString>"](e)}};Bn.converters.WebSocketSendData=function(e){if(Bn.util.Type(e)==="Object"){if(R_e(e))return Bn.converters.Blob(e,{strict:!1});if(ArrayBuffer.isView(e)||D_e.isArrayBuffer(e))return Bn.converters.BufferSource(e)}return Bn.converters.USVString(e)};function UCt(){this.ws[__e].socket.resume()}o(UCt,"onParserDrain");function qCt(e){let t,r;e instanceof MCt?(t=e.reason,r=e.code):t=e.message,k_e("error",this,()=>new QCt("error",{error:e,message:t})),B_e(this,r)}o(qCt,"onParserError");P_e.exports={WebSocket:sf}});var Xie=V((pWr,N_e)=>{"use strict";d();function WCt(e){return e.indexOf("\0")===-1}o(WCt,"isValidLastEventId");function GCt(e){if(e.length===0)return!1;for(let t=0;t<e.length;t++)if(e.charCodeAt(t)<48||e.charCodeAt(t)>57)return!1;return!0}o(GCt,"isASCIINumber");function HCt(e){return new Promise(t=>{setTimeout(t,e).unref()})}o(HCt,"delay");N_e.exports={isValidLastEventId:WCt,isASCIINumber:GCt,delay:HCt}});var O_e=V((yWr,M_e)=>{"use strict";d();var{Transform:VCt}=require("node:stream"),{isASCIINumber:L_e,isValidLastEventId:Q_e}=Xie(),tA=[239,187,191],Zie=10,FU=13,jCt=58,$Ct=32,eoe=class extends VCt{static{o(this,"EventSourceStream")}state=null;checkBOM=!0;crlfCheck=!1;eventEndCheck=!1;buffer=null;pos=0;event={data:void 0,event:void 0,id:void 0,retry:void 0};constructor(t={}){t.readableObjectMode=!0,super(t),this.state=t.eventSourceSettings||{},t.push&&(this.push=t.push)}_transform(t,r,n){if(t.length===0){n();return}if(this.buffer?this.buffer=Buffer.concat([this.buffer,t]):this.buffer=t,this.checkBOM)switch(this.buffer.length){case 1:if(this.buffer[0]===tA[0]){n();return}this.checkBOM=!1,n();return;case 2:if(this.buffer[0]===tA[0]&&this.buffer[1]===tA[1]){n();return}this.checkBOM=!1;break;case 3:if(this.buffer[0]===tA[0]&&this.buffer[1]===tA[1]&&this.buffer[2]===tA[2]){this.buffer=Buffer.alloc(0),this.checkBOM=!1,n();return}this.checkBOM=!1;break;default:this.buffer[0]===tA[0]&&this.buffer[1]===tA[1]&&this.buffer[2]===tA[2]&&(this.buffer=this.buffer.subarray(3)),this.checkBOM=!1;break}for(;this.pos<this.buffer.length;){if(this.eventEndCheck){if(this.crlfCheck){if(this.buffer[this.pos]===Zie){this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.crlfCheck=!1;continue}this.crlfCheck=!1}if(this.buffer[this.pos]===Zie||this.buffer[this.pos]===FU){this.buffer[this.pos]===FU&&(this.crlfCheck=!0),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,(this.event.data!==void 0||this.event.event||this.event.id||this.event.retry)&&this.processEvent(this.event),this.clearEvent();continue}this.eventEndCheck=!1;continue}if(this.buffer[this.pos]===Zie||this.buffer[this.pos]===FU){this.buffer[this.pos]===FU&&(this.crlfCheck=!0),this.parseLine(this.buffer.subarray(0,this.pos),this.event),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.eventEndCheck=!0;continue}this.pos++}n()}parseLine(t,r){if(t.length===0)return;let n=t.indexOf(jCt);if(n===0)return;let i="",s="";if(n!==-1){i=t.subarray(0,n).toString("utf8");let a=n+1;t[a]===$Ct&&++a,s=t.subarray(a).toString("utf8")}else i=t.toString("utf8"),s="";switch(i){case"data":r[i]===void 0?r[i]=s:r[i]+=`
${s}`;break;case"retry":L_e(s)&&(r[i]=s);break;case"id":Q_e(s)&&(r[i]=s);break;case"event":s.length>0&&(r[i]=s);break}}processEvent(t){t.retry&&L_e(t.retry)&&(this.state.reconnectionTime=parseInt(t.retry,10)),t.id&&Q_e(t.id)&&(this.state.lastEventId=t.id),t.data!==void 0&&this.push({type:t.event||"message",options:{data:t.data,lastEventId:this.state.lastEventId,origin:this.state.origin}})}clearEvent(){this.event={data:void 0,event:void 0,id:void 0,retry:void 0}}};M_e.exports={EventSourceStream:eoe}});var $_e=V((EWr,j_e)=>{"use strict";d();var{pipeline:zCt}=require("node:stream"),{fetching:YCt}=SS(),{makeRequest:KCt}=p8(),{webidl:rA}=zl(),{EventSourceStream:JCt}=O_e(),{parseMIMEType:XCt}=Kc(),{createFastMessageEvent:ZCt}=E8(),{isNetworkError:U_e}=TS(),{delay:e3t}=Xie(),{kEnumerableProperty:tx}=ci(),{environmentSettingsObject:q_e}=Xu(),W_e=!1,G_e=3e3,US=0,H_e=1,qS=2,t3t="anonymous",r3t="use-credentials",w8=class e extends EventTarget{static{o(this,"EventSource")}#e={open:null,error:null,message:null};#t=null;#i=!1;#n=US;#r=null;#o=null;#s;#a;constructor(t,r={}){super(),rA.util.markAsUncloneable(this);let n="EventSource constructor";rA.argumentLengthCheck(arguments,1,n),W_e||(W_e=!0,process.emitWarning("EventSource is experimental, expect them to change at any time.",{code:"UNDICI-ES"})),t=rA.converters.USVString(t,n,"url"),r=rA.converters.EventSourceInitDict(r,n,"eventSourceInitDict"),this.#s=r.dispatcher,this.#a={lastEventId:"",reconnectionTime:G_e};let i=q_e,s;try{s=new URL(t,i.settingsObject.baseUrl),this.#a.origin=s.origin}catch(c){throw new DOMException(c,"SyntaxError")}this.#t=s.href;let a=t3t;r.withCredentials&&(a=r3t,this.#i=!0);let l={redirect:"follow",keepalive:!0,mode:"cors",credentials:a==="anonymous"?"same-origin":"omit",referrer:"no-referrer"};l.client=q_e.settingsObject,l.headersList=[["accept",{name:"accept",value:"text/event-stream"}]],l.cache="no-store",l.initiator="other",l.urlList=[new URL(this.#t)],this.#r=KCt(l),this.#l()}get readyState(){return this.#n}get url(){return this.#t}get withCredentials(){return this.#i}#l(){if(this.#n===qS)return;this.#n=US;let t={request:this.#r,dispatcher:this.#s},r=o(n=>{U_e(n)&&(this.dispatchEvent(new Event("error")),this.close()),this.#c()},"processEventSourceEndOfBody");t.processResponseEndOfBody=r,t.processResponse=n=>{if(U_e(n))if(n.aborted){this.close(),this.dispatchEvent(new Event("error"));return}else{this.#c();return}let i=n.headersList.get("content-type",!0),s=i!==null?XCt(i):"failure",a=s!=="failure"&&s.essence==="text/event-stream";if(n.status!==200||a===!1){this.close(),this.dispatchEvent(new Event("error"));return}this.#n=H_e,this.dispatchEvent(new Event("open")),this.#a.origin=n.urlList[n.urlList.length-1].origin;let l=new JCt({eventSourceSettings:this.#a,push:o(c=>{this.dispatchEvent(ZCt(c.type,c.options))},"push")});zCt(n.body.stream,l,c=>{c?.aborted===!1&&(this.close(),this.dispatchEvent(new Event("error")))})},this.#o=YCt(t)}async#c(){this.#n!==qS&&(this.#n=US,this.dispatchEvent(new Event("error")),await e3t(this.#a.reconnectionTime),this.#n===US&&(this.#a.lastEventId.length&&this.#r.headersList.set("last-event-id",this.#a.lastEventId,!0),this.#l()))}close(){rA.brandCheck(this,e),this.#n!==qS&&(this.#n=qS,this.#o.abort(),this.#r=null)}get onopen(){return this.#e.open}set onopen(t){this.#e.open&&this.removeEventListener("open",this.#e.open),typeof t=="function"?(this.#e.open=t,this.addEventListener("open",t)):this.#e.open=null}get onmessage(){return this.#e.message}set onmessage(t){this.#e.message&&this.removeEventListener("message",this.#e.message),typeof t=="function"?(this.#e.message=t,this.addEventListener("message",t)):this.#e.message=null}get onerror(){return this.#e.error}set onerror(t){this.#e.error&&this.removeEventListener("error",this.#e.error),typeof t=="function"?(this.#e.error=t,this.addEventListener("error",t)):this.#e.error=null}},V_e={CONNECTING:{__proto__:null,configurable:!1,enumerable:!0,value:US,writable:!1},OPEN:{__proto__:null,configurable:!1,enumerable:!0,value:H_e,writable:!1},CLOSED:{__proto__:null,configurable:!1,enumerable:!0,value:qS,writable:!1}};Object.defineProperties(w8,V_e);Object.defineProperties(w8.prototype,V_e);Object.defineProperties(w8.prototype,{close:tx,onerror:tx,onmessage:tx,onopen:tx,readyState:tx,url:tx,withCredentials:tx});rA.converters.EventSourceInitDict=rA.dictionaryConverter([{key:"withCredentials",converter:rA.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"dispatcher",converter:rA.converters.any}]);j_e.exports={EventSource:w8,defaultReconnectionTime:G_e}});var J_e=V((IWr,bn)=>{"use strict";d();var n3t=uS(),z_e=Ww(),i3t=r8(),o3t=t7e(),s3t=n8(),a3t=Tne(),l3t=y7e(),c3t=I7e(),Y_e=so(),LU=ci(),{InvalidArgumentError:NU}=Y_e,S8=uTe(),u3t=Hw(),f3t=sie(),d3t=VTe(),m3t=cie(),h3t=$ne(),p3t=QO(),{getGlobalDispatcher:K_e,setGlobalDispatcher:g3t}=$O(),A3t=zO(),y3t=wO(),C3t=SO();Object.assign(z_e.prototype,S8);bn.exports.Dispatcher=z_e;bn.exports.Client=n3t;bn.exports.Pool=i3t;bn.exports.BalancedPool=o3t;bn.exports.Agent=s3t;bn.exports.ProxyAgent=a3t;bn.exports.EnvHttpProxyAgent=l3t;bn.exports.RetryAgent=c3t;bn.exports.RetryHandler=p3t;bn.exports.DecoratorHandler=A3t;bn.exports.RedirectHandler=y3t;bn.exports.createRedirectInterceptor=C3t;bn.exports.interceptors={redirect:XTe(),retry:ewe(),dump:rwe(),dns:owe()};bn.exports.buildConnector=u3t;bn.exports.errors=Y_e;bn.exports.util={parseHeaders:LU.parseHeaders,headerNameToString:LU.headerNameToString};function WS(e){return(t,r,n)=>{if(typeof r=="function"&&(n=r,r=null),!t||typeof t!="string"&&typeof t!="object"&&!(t instanceof URL))throw new NU("invalid url");if(r!=null&&typeof r!="object")throw new NU("invalid opts");if(r&&r.path!=null){if(typeof r.path!="string")throw new NU("invalid opts.path");let a=r.path;r.path.startsWith("/")||(a=`/${a}`),t=new URL(LU.parseOrigin(t).origin+a)}else r||(r=typeof t=="object"?t:{}),t=LU.parseURL(t);let{agent:i,dispatcher:s=K_e()}=r;if(i)throw new NU("unsupported opts.agent. Did you mean opts.client?");return e.call(s,{...r,origin:t.origin,path:t.search?`${t.pathname}${t.search}`:t.pathname,method:r.method||(r.body?"PUT":"GET")},n)}}o(WS,"makeDispatcher");bn.exports.setGlobalDispatcher=g3t;bn.exports.getGlobalDispatcher=K_e;var x3t=SS().fetch;bn.exports.fetch=o(async function(t,r=void 0){try{return await x3t(t,r)}catch(n){throw n&&typeof n=="object"&&Error.captureStackTrace(n),n}},"fetch");bn.exports.Headers=z4().Headers;bn.exports.Response=TS().Response;bn.exports.Request=p8().Request;bn.exports.FormData=Jw().FormData;bn.exports.File=globalThis.File??require("node:buffer").File;bn.exports.FileReader=CSe().FileReader;var{setGlobalOrigin:E3t,getGlobalOrigin:b3t}=wre();bn.exports.setGlobalOrigin=E3t;bn.exports.getGlobalOrigin=b3t;var{CacheStorage:v3t}=_Se(),{kConstruct:I3t}=pU();bn.exports.caches=new v3t(I3t);var{deleteCookie:T3t,getCookies:w3t,getSetCookies:S3t,setCookie:_3t}=USe();bn.exports.deleteCookie=T3t;bn.exports.getCookies=w3t;bn.exports.getSetCookies=S3t;bn.exports.setCookie=_3t;var{parseMIMEType:k3t,serializeAMimeType:B3t}=Kc();bn.exports.parseMIMEType=k3t;bn.exports.serializeAMimeType=B3t;var{CloseEvent:R3t,ErrorEvent:D3t,MessageEvent:P3t}=E8();bn.exports.WebSocket=F_e().WebSocket;bn.exports.CloseEvent=R3t;bn.exports.ErrorEvent=D3t;bn.exports.MessageEvent=P3t;bn.exports.request=WS(S8.request);bn.exports.stream=WS(S8.stream);bn.exports.pipeline=WS(S8.pipeline);bn.exports.connect=WS(S8.connect);bn.exports.upgrade=WS(S8.upgrade);bn.exports.MockClient=f3t;bn.exports.MockPool=m3t;bn.exports.MockAgent=d3t;bn.exports.mockErrors=h3t;var{EventSource:F3t}=$_e();bn.exports.EventSource=F3t});var ei=V((SWr,X_e)=>{d();X_e.exports={options:{usePureJavaScript:!1}}});var tke=V((kWr,eke)=>{d();var toe={};eke.exports=toe;var Z_e={};toe.encode=function(e,t,r){if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(e instanceof Uint8Array))n=N3t(e,t);else{var i=0,s=t.length,a=t.charAt(0),l=[0];for(i=0;i<e.length;++i){for(var c=0,u=e[i];c<l.length;++c)u+=l[c]<<8,l[c]=u%s,u=u/s|0;for(;u>0;)l.push(u%s),u=u/s|0}for(i=0;e[i]===0&&i<e.length-1;++i)n+=a;for(i=l.length-1;i>=0;--i)n+=t[l[i]]}if(r){var f=new RegExp(".{1,"+r+"}","g");n=n.match(f).join(`\r
`)}return n};toe.decode=function(e,t){if(typeof e!="string")throw new TypeError('"input" must be a string.');if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');var r=Z_e[t];if(!r){r=Z_e[t]=[];for(var n=0;n<t.length;++n)r[t.charCodeAt(n)]=n}e=e.replace(/\s/g,"");for(var i=t.length,s=t.charAt(0),a=[0],n=0;n<e.length;n++){var l=r[e.charCodeAt(n)];if(l===void 0)return;for(var c=0,u=l;c<a.length;++c)u+=a[c]*i,a[c]=u&255,u>>=8;for(;u>0;)a.push(u&255),u>>=8}for(var f=0;e[f]===s&&f<e.length-1;++f)a.push(0);return typeof Buffer<"u"?Buffer.from(a.reverse()):new Uint8Array(a.reverse())};function N3t(e,t){var r=0,n=t.length,i=t.charAt(0),s=[0];for(r=0;r<e.length();++r){for(var a=0,l=e.at(r);a<s.length;++a)l+=s[a]<<8,s[a]=l%n,l=l/n|0;for(;l>0;)s.push(l%n),l=l/n|0}var c="";for(r=0;e.at(r)===0&&r<e.length()-1;++r)c+=i;for(r=s.length-1;r>=0;--r)c+=t[s[r]];return c}o(N3t,"_encodeWithByteBuffer")});var Ji=V((DWr,oke)=>{d();var rke=ei(),nke=tke(),Fe=oke.exports=rke.util=rke.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){Fe.nextTick=process.nextTick,typeof setImmediate=="function"?Fe.setImmediate=setImmediate:Fe.setImmediate=Fe.nextTick;return}if(typeof setImmediate=="function"){Fe.setImmediate=function(){return setImmediate.apply(void 0,arguments)},Fe.nextTick=function(l){return setImmediate(l)};return}if(Fe.setImmediate=function(l){setTimeout(l,0)},typeof window<"u"&&typeof window.postMessage=="function"){let l=function(c){if(c.source===window&&c.data===e){c.stopPropagation();var u=t.slice();t.length=0,u.forEach(function(f){f()})}};var a=l;o(l,"handler");var e="forge.setImmediate",t=[];Fe.setImmediate=function(c){t.push(c),t.length===1&&window.postMessage(e,"*")},window.addEventListener("message",l,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,i=document.createElement("div"),t=[];new MutationObserver(function(){var c=t.slice();t.length=0,c.forEach(function(u){u()})}).observe(i,{attributes:!0});var s=Fe.setImmediate;Fe.setImmediate=function(c){Date.now()-r>15?(r=Date.now(),s(c)):(t.push(c),t.length===1&&i.setAttribute("a",n=!n))}}Fe.nextTick=Fe.setImmediate})();Fe.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;Fe.globalScope=function(){return Fe.isNodejs?global:typeof self>"u"?window:self}();Fe.isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};Fe.isArrayBuffer=function(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer};Fe.isArrayBufferView=function(e){return e&&Fe.isArrayBuffer(e.buffer)&&e.byteLength!==void 0};function GS(e){if(!(e===8||e===16||e===24||e===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}o(GS,"_checkBitsParam");Fe.ByteBuffer=roe;function roe(e){if(this.data="",this.read=0,typeof e=="string")this.data=e;else if(Fe.isArrayBuffer(e)||Fe.isArrayBufferView(e))if(typeof Buffer<"u"&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch{for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof roe||typeof e=="object"&&typeof e.data=="string"&&typeof e.read=="number")&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}o(roe,"ByteStringBuffer");Fe.ByteStringBuffer=roe;var L3t=4096;Fe.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>L3t&&(this.data.substr(0,1),this._constructedStringLength=0)};Fe.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};Fe.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};Fe.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))};Fe.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this};Fe.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this};Fe.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(Fe.encodeUtf8(e))};Fe.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};Fe.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};Fe.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};Fe.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255))};Fe.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))};Fe.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))};Fe.ByteStringBuffer.prototype.putInt=function(e,t){GS(t);var r="";do t-=8,r+=String.fromCharCode(e>>t&255);while(t>0);return this.putBytes(r)};Fe.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)};Fe.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())};Fe.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};Fe.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e};Fe.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e};Fe.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e};Fe.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e};Fe.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e};Fe.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e};Fe.ByteStringBuffer.prototype.getInt=function(e){GS(e);var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),e-=8;while(e>0);return t};Fe.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};Fe.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};Fe.ByteStringBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};Fe.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)};Fe.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this};Fe.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};Fe.ByteStringBuffer.prototype.copy=function(){var e=Fe.createBuffer(this.data);return e.read=this.read,e};Fe.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};Fe.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};Fe.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this};Fe.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e};Fe.ByteStringBuffer.prototype.toString=function(){return Fe.decodeUtf8(this.bytes())};function Q3t(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=Fe.isArrayBuffer(e),n=Fe.isArrayBufferView(e);if(r||n){r?this.data=new DataView(e):this.data=new DataView(e.buffer,e.byteOffset,e.byteLength),this.write="writeOffset"in t?t.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,e!=null&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)}o(Q3t,"DataBuffer");Fe.DataBuffer=Q3t;Fe.DataBuffer.prototype.length=function(){return this.write-this.read};Fe.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};Fe.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this};Fe.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this};Fe.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this};Fe.DataBuffer.prototype.putBytes=function(e,t){if(Fe.isArrayBufferView(e)){var r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(Fe.isArrayBuffer(e)){var r=new Uint8Array(e);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(e instanceof Fe.DataBuffer||typeof e=="object"&&typeof e.read=="number"&&typeof e.write=="number"&&Fe.isArrayBufferView(e.data)){var r=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(r.byteLength);var i=new Uint8Array(e.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(e instanceof Fe.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary",typeof e=="string"){var s;if(t==="hex")return this.accommodate(Math.ceil(e.length/2)),s=new Uint8Array(this.data.buffer,this.write),this.write+=Fe.binary.hex.decode(e,s,this.write),this;if(t==="base64")return this.accommodate(Math.ceil(e.length/4)*3),s=new Uint8Array(this.data.buffer,this.write),this.write+=Fe.binary.base64.decode(e,s,this.write),this;if(t==="utf8"&&(e=Fe.encodeUtf8(e),t="binary"),t==="binary"||t==="raw")return this.accommodate(e.length),s=new Uint8Array(this.data.buffer,this.write),this.write+=Fe.binary.raw.decode(s),this;if(t==="utf16")return this.accommodate(e.length*2),s=new Uint16Array(this.data.buffer,this.write),this.write+=Fe.text.utf16.encode(s),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)};Fe.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this};Fe.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")};Fe.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this};Fe.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this};Fe.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this};Fe.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this};Fe.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this};Fe.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this};Fe.DataBuffer.prototype.putInt=function(e,t){GS(t),this.accommodate(t/8);do t-=8,this.data.setInt8(this.write++,e>>t&255);while(t>0);return this};Fe.DataBuffer.prototype.putSignedInt=function(e,t){return GS(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)};Fe.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};Fe.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e};Fe.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e};Fe.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e};Fe.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e};Fe.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e};Fe.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e};Fe.DataBuffer.prototype.getInt=function(e){GS(e);var t=0;do t=(t<<8)+this.data.getInt8(this.read++),e-=8;while(e>0);return t};Fe.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};Fe.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};Fe.DataBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};Fe.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)};Fe.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this};Fe.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};Fe.DataBuffer.prototype.copy=function(){return new Fe.DataBuffer(this)};Fe.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this};Fe.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};Fe.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this};Fe.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e};Fe.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if(e=e||"utf8",e==="binary"||e==="raw")return Fe.binary.raw.encode(t);if(e==="hex")return Fe.binary.hex.encode(t);if(e==="base64")return Fe.binary.base64.encode(t);if(e==="utf8")return Fe.text.utf8.decode(t);if(e==="utf16")return Fe.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)};Fe.createBuffer=function(e,t){return t=t||"raw",e!==void 0&&t==="utf8"&&(e=Fe.encodeUtf8(e)),new Fe.ByteBuffer(e)};Fe.fillString=function(e,t){for(var r="";t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return r};Fe.xorBytes=function(e,t,r){for(var n="",i="",s="",a=0,l=0;r>0;--r,++a)i=e.charCodeAt(a)^t.charCodeAt(a),l>=10&&(n+=s,s="",l=0),s+=String.fromCharCode(i),++l;return n+=s,n};Fe.hexToBytes=function(e){var t="",r=0;for(e.length&!0&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t};Fe.bytesToHex=function(e){return Fe.createBuffer(e).toHex()};Fe.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};var Ty="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",wy=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],ike="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Fe.encode64=function(e,t){for(var r="",n="",i,s,a,l=0;l<e.length;)i=e.charCodeAt(l++),s=e.charCodeAt(l++),a=e.charCodeAt(l++),r+=Ty.charAt(i>>2),r+=Ty.charAt((i&3)<<4|s>>4),isNaN(s)?r+="==":(r+=Ty.charAt((s&15)<<2|a>>6),r+=isNaN(a)?"=":Ty.charAt(a&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};Fe.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t="",r,n,i,s,a=0;a<e.length;)r=wy[e.charCodeAt(a++)-43],n=wy[e.charCodeAt(a++)-43],i=wy[e.charCodeAt(a++)-43],s=wy[e.charCodeAt(a++)-43],t+=String.fromCharCode(r<<2|n>>4),i!==64&&(t+=String.fromCharCode((n&15)<<4|i>>2),s!==64&&(t+=String.fromCharCode((i&3)<<6|s)));return t};Fe.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};Fe.decodeUtf8=function(e){return decodeURIComponent(escape(e))};Fe.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:nke.encode,decode:nke.decode}};Fe.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)};Fe.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,s=0;s<e.length;++s)n[i++]=e.charCodeAt(s);return t?i-r:n};Fe.binary.hex.encode=Fe.bytesToHex;Fe.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2))),r=r||0;var i=0,s=r;for(e.length&1&&(i=1,n[s++]=parseInt(e[0],16));i<e.length;i+=2)n[s++]=parseInt(e.substr(i,2),16);return t?s-r:n};Fe.binary.base64.encode=function(e,t){for(var r="",n="",i,s,a,l=0;l<e.byteLength;)i=e[l++],s=e[l++],a=e[l++],r+=Ty.charAt(i>>2),r+=Ty.charAt((i&3)<<4|s>>4),isNaN(s)?r+="==":(r+=Ty.charAt((s&15)<<2|a>>6),r+=isNaN(a)?"=":Ty.charAt(a&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};Fe.binary.base64.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/4)*3)),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,s,a,l,c=0,u=r;c<e.length;)i=wy[e.charCodeAt(c++)-43],s=wy[e.charCodeAt(c++)-43],a=wy[e.charCodeAt(c++)-43],l=wy[e.charCodeAt(c++)-43],n[u++]=i<<2|s>>4,a!==64&&(n[u++]=(s&15)<<4|a>>2,l!==64&&(n[u++]=(a&3)<<6|l));return t?u-r:n.subarray(0,u)};Fe.binary.base58.encode=function(e,t){return Fe.binary.baseN.encode(e,ike,t)};Fe.binary.base58.decode=function(e,t){return Fe.binary.baseN.decode(e,ike,t)};Fe.text={utf8:{},utf16:{}};Fe.text.utf8.encode=function(e,t,r){e=Fe.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,s=0;s<e.length;++s)n[i++]=e.charCodeAt(s);return t?i-r:n};Fe.text.utf8.decode=function(e){return Fe.decodeUtf8(String.fromCharCode.apply(null,e))};Fe.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var s=r,a=r,l=0;l<e.length;++l)i[a++]=e.charCodeAt(l),s+=2;return t?s-r:n};Fe.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))};Fe.deflate=function(e,t,r){if(t=Fe.decode64(e.deflate(Fe.encode64(t)).rval),r){var n=2,i=t.charCodeAt(1);i&32&&(n=6),t=t.substring(n,t.length-4)}return t};Fe.inflate=function(e,t,r){var n=e.inflate(Fe.encode64(t)).rval;return n===null?null:Fe.decode64(n)};var noe=o(function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(r===null?n=e.removeItem(t):(r=Fe.encode64(JSON.stringify(r)),n=e.setItem(t,r)),typeof n<"u"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},"_setStorageObject"),ioe=o(function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(Fe.decode64(r))),r},"_getStorageObject"),M3t=o(function(e,t,r,n){var i=ioe(e,t);i===null&&(i={}),i[r]=n,noe(e,t,i)},"_setItem"),O3t=o(function(e,t,r){var n=ioe(e,t);return n!==null&&(n=r in n?n[r]:null),n},"_getItem"),U3t=o(function(e,t,r){var n=ioe(e,t);if(n!==null&&r in n){delete n[r];var i=!0;for(var s in n){i=!1;break}i&&(n=null),noe(e,t,n)}},"_removeItem"),q3t=o(function(e,t){noe(e,t,null)},"_clearItems"),QU=o(function(e,t,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var i,s=!1,a=null;for(var l in r){i=r[l];try{if(i==="flash"||i==="both"){if(t[0]===null)throw new Error("Flash local storage not available.");n=e.apply(this,t),s=i==="flash"}(i==="web"||i==="both")&&(t[0]=localStorage,n=e.apply(this,t),s=!0)}catch(c){a=c}if(s)break}if(!s)throw a;return n},"_callStorageFunction");Fe.setItem=function(e,t,r,n,i){QU(M3t,arguments,i)};Fe.getItem=function(e,t,r,n){return QU(O3t,arguments,n)};Fe.removeItem=function(e,t,r,n){QU(U3t,arguments,n)};Fe.clearItems=function(e,t,r){QU(q3t,arguments,r)};Fe.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};Fe.format=function(e){for(var t=/%./g,r,n,i=0,s=[],a=0;r=t.exec(e);){n=e.substring(a,t.lastIndex-2),n.length>0&&s.push(n),a=t.lastIndex;var l=r[0][1];switch(l){case"s":case"o":i<arguments.length?s.push(arguments[i+++1]):s.push("<?>");break;case"%":s.push("%");break;default:s.push("<%"+l+"?>")}}return s.push(e.substring(a)),s.join("")};Fe.formatNumber=function(e,t,r,n){var i=e,s=isNaN(t=Math.abs(t))?2:t,a=r===void 0?",":r,l=n===void 0?".":n,c=i<0?"-":"",u=parseInt(i=Math.abs(+i||0).toFixed(s),10)+"",f=u.length>3?u.length%3:0;return c+(f?u.substr(0,f)+l:"")+u.substr(f).replace(/(\d{3})(?=\d)/g,"$1"+l)+(s?a+Math.abs(i-u).toFixed(s).slice(2):"")};Fe.formatSize=function(e){return e>=1073741824?e=Fe.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?e=Fe.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?e=Fe.formatNumber(e/1024,0)+" KiB":e=Fe.formatNumber(e,0)+" bytes",e};Fe.bytesFromIP=function(e){return e.indexOf(".")!==-1?Fe.bytesFromIPv4(e):e.indexOf(":")!==-1?Fe.bytesFromIPv6(e):null};Fe.bytesFromIPv4=function(e){if(e=e.split("."),e.length!==4)return null;for(var t=Fe.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()};Fe.bytesFromIPv6=function(e){var t=0;e=e.split(":").filter(function(a){return a.length===0&&++t,!0});for(var r=(8-e.length+t)*2,n=Fe.createBuffer(),i=0;i<8;++i){if(!e[i]||e[i].length===0){n.fillWithByte(0,r),r=0;continue}var s=Fe.hexToBytes(e[i]);s.length<2&&n.putByte(0),n.putBytes(s)}return n.getBytes()};Fe.bytesToIP=function(e){return e.length===4?Fe.bytesToIPv4(e):e.length===16?Fe.bytesToIPv6(e):null};Fe.bytesToIPv4=function(e){if(e.length!==4)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")};Fe.bytesToIPv6=function(e){if(e.length!==16)return null;for(var t=[],r=[],n=0,i=0;i<e.length;i+=2){for(var s=Fe.bytesToHex(e[i]+e[i+1]);s[0]==="0"&&s!=="0";)s=s.substr(1);if(s==="0"){var a=r[r.length-1],l=t.length;!a||l!==a.end+1?r.push({start:l,end:l}):(a.end=l,a.end-a.start>r[n].end-r[n].start&&(n=r.length-1))}t.push(s)}if(r.length>0){var c=r[n];c.end-c.start>0&&(t.splice(c.start,c.end-c.start+1,""),c.start===0&&t.unshift(""),c.end===7&&t.push(""))}return t.join(":")};Fe.estimateCores=function(e,t){if(typeof e=="function"&&(t=e,e={}),e=e||{},"cores"in Fe&&!e.update)return t(null,Fe.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return Fe.cores=navigator.hardwareConcurrency,t(null,Fe.cores);if(typeof Worker>"u")return Fe.cores=1,t(null,Fe.cores);if(typeof Blob>"u")return Fe.cores=2,t(null,Fe.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(a){for(var l=Date.now(),c=l+4;Date.now()<c;);self.postMessage({st:l,et:c})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(a,l,c){if(l===0){var u=Math.floor(a.reduce(function(f,m){return f+m},0)/a.length);return Fe.cores=Math.max(1,u),URL.revokeObjectURL(r),t(null,Fe.cores)}i(c,function(f,m){a.push(s(c,m)),n(a,l-1,c)})}o(n,"sample");function i(a,l){for(var c=[],u=[],f=0;f<a;++f){var m=new Worker(r);m.addEventListener("message",function(h){if(u.push(h.data),u.length===a){for(var p=0;p<a;++p)c[p].terminate();l(null,u)}}),c.push(m)}for(var f=0;f<a;++f)c[f].postMessage(f)}o(i,"map");function s(a,l){for(var c=[],u=0;u<a;++u)for(var f=l[u],m=c[u]=[],h=0;h<a;++h)if(u!==h){var p=l[h];(f.st>p.st&&f.st<p.et||p.st>f.st&&p.st<f.et)&&m.push(h)}return c.reduce(function(A,x){return Math.max(A,x.length)},0)}o(s,"reduce")}});var MU=V((NWr,ske)=>{d();var El=ei();Ji();ske.exports=El.cipher=El.cipher||{};El.cipher.algorithms=El.cipher.algorithms||{};El.cipher.createCipher=function(e,t){var r=e;if(typeof r=="string"&&(r=El.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new El.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})};El.cipher.createDecipher=function(e,t){var r=e;if(typeof r=="string"&&(r=El.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new El.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})};El.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),El.cipher.algorithms[e]=t};El.cipher.getAlgorithm=function(e){return e=e.toUpperCase(),e in El.cipher.algorithms?El.cipher.algorithms[e]:null};var ooe=El.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};ooe.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=El.util.createBuffer(),this.output=e.output||El.util.createBuffer(),this.mode.start(t)};ooe.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};ooe.prototype.finish=function(e){e&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return e(this.blockSize,r,!1)},this.mode.unpad=function(r){return e(this.blockSize,r,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,t))}});var aoe=V((QWr,ake)=>{d();var bl=ei();Ji();bl.cipher=bl.cipher||{};var gi=ake.exports=bl.cipher.modes=bl.cipher.modes||{};gi.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};gi.ecb.prototype.start=function(e){};gi.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};gi.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};gi.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};gi.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};gi.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};gi.cbc.prototype.start=function(e){if(e.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in e)this._iv=OU(e.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};gi.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock};gi.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};gi.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};gi.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};gi.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=bl.util.createBuffer(),this._partialBytes=0};gi.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=OU(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};gi.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32()^this._outBlock[i],t.putInt32(this._inBlock[i]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(s>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};gi.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32(),t.putInt32(this._inBlock[i]^this._outBlock[i]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(s>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};gi.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=bl.util.createBuffer(),this._partialBytes=0};gi.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=OU(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};gi.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(e.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};gi.ofb.prototype.decrypt=gi.ofb.prototype.encrypt;gi.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=bl.util.createBuffer(),this._partialBytes=0};gi.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=OU(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};gi.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}UU(this._inBlock)};gi.ctr.prototype.decrypt=gi.ctr.prototype.encrypt;gi.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=bl.util.createBuffer(),this._partialBytes=0,this._R=3774873600};gi.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t=bl.util.createBuffer(e.iv);this._cipherLength=0;var r;if("additionalData"in e?r=bl.util.createBuffer(e.additionalData):r=bl.util.createBuffer(),"tagLength"in e?this._tagLength=e.tagLength:this._tagLength=128,this._tag=null,e.decrypt&&(this._tag=bl.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=t.length();if(n===12)this._j0=[t.getInt32(),t.getInt32(),t.getInt32(),1];else{for(this._j0=[0,0,0,0];t.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(soe(n*8)))}this._inBlock=this._j0.slice(0),UU(this._inBlock),this._partialBytes=0,r=bl.util.createBuffer(r),this._aDataLength=soe(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};gi.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^=e.getInt32());this._cipherLength+=this.blockSize}else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s<=0||r){if(r){var a=n%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),UU(this._inBlock)};gi.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),UU(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};gi.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=bl.util.createBuffer();var n=this._aDataLength.concat(soe(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var s=0;s<this._ints;++s)this.tag.putInt32(this._s[s]^i[s]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};gi.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),i=0;i<128;++i){var s=e[i/32|0]&1<<31-i%32;s&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};gi.gcm.prototype.pow=function(e,t){for(var r=e[3]&1,n=3;n>0;--n)t[n]=e[n]>>>1|(e[n-1]&1)<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)};gi.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=e[n]>>>(7-r%8)*4&15,s=this._m[r][i];t[0]^=s[0],t[1]^=s[1],t[2]^=s[2],t[3]^=s[3]}return t};gi.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)};gi.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,i=16*r,s=new Array(i),a=0;a<i;++a){var l=[0,0,0,0],c=a/n|0,u=(n-1-a%n)*t;l[c]=1<<t-1<<u,s[a]=this.generateSubHashTable(this.multiply(l,e),t)}return s};gi.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,i=new Array(r);i[n]=e.slice(0);for(var s=n>>>1;s>0;)this.pow(i[2*s],i[s]=[]),s>>=1;for(s=2;s<n;){for(var a=1;a<s;++a){var l=i[s],c=i[a];i[s+a]=[l[0]^c[0],l[1]^c[1],l[2]^c[2],l[3]^c[3]]}s*=2}for(i[0]=[0,0,0,0],s=n+1;s<r;++s){var u=i[s^n];i[s]=[e[0]^u[0],e[1]^u[1],e[2]^u[2],e[3]^u[3]]}return i};function OU(e,t){if(typeof e=="string"&&(e=bl.util.createBuffer(e)),bl.util.isArray(e)&&e.length>4){var r=e;e=bl.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!bl.util.isArray(e)){for(var i=[],s=t/4,n=0;n<s;++n)i.push(e.getInt32());e=i}return e}o(OU,"transformIV");function UU(e){e[e.length-1]=e[e.length-1]+1&4294967295}o(UU,"inc32");function soe(e){return[e/4294967296|0,e&4294967295]}o(soe,"from64To32")});var Sy=V((UWr,fke)=>{d();var Uo=ei();MU();aoe();Ji();fke.exports=Uo.aes=Uo.aes||{};Uo.aes.startEncrypting=function(e,t,r,n){var i=qU({key:e,output:r,decrypt:!1,mode:n});return i.start(t),i};Uo.aes.createEncryptionCipher=function(e,t){return qU({key:e,output:null,decrypt:!1,mode:t})};Uo.aes.startDecrypting=function(e,t,r,n){var i=qU({key:e,output:r,decrypt:!0,mode:n});return i.start(t),i};Uo.aes.createDecryptionCipher=function(e,t){return qU({key:e,output:null,decrypt:!0,mode:t})};Uo.aes.Algorithm=function(e,t){uoe||cke();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:o(function(n,i){return coe(r._w,n,i,!1)},"encrypt"),decrypt:o(function(n,i){return coe(r._w,n,i,!0)},"decrypt")}}),r._init=!1};Uo.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t=e.key,r;if(typeof t=="string"&&(t.length===16||t.length===24||t.length===32))t=Uo.util.createBuffer(t);else if(Uo.util.isArray(t)&&(t.length===16||t.length===24||t.length===32)){r=t,t=Uo.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(!Uo.util.isArray(t)){r=t,t=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)t.push(r.getInt32())}}if(!Uo.util.isArray(t)||!(t.length===4||t.length===6||t.length===8))throw new Error("Invalid key parameter.");var s=this.mode.name,a=["CFB","OFB","CTR","GCM"].indexOf(s)!==-1;this._w=uke(t,e.decrypt&&!a),this._init=!0}};Uo.aes._expandKey=function(e,t){return uoe||cke(),uke(e,t)};Uo.aes._updateBlock=coe;k8("AES-ECB",Uo.cipher.modes.ecb);k8("AES-CBC",Uo.cipher.modes.cbc);k8("AES-CFB",Uo.cipher.modes.cfb);k8("AES-OFB",Uo.cipher.modes.ofb);k8("AES-CTR",Uo.cipher.modes.ctr);k8("AES-GCM",Uo.cipher.modes.gcm);function k8(e,t){var r=o(function(){return new Uo.aes.Algorithm(e,t)},"factory");Uo.cipher.registerAlgorithm(e,r)}o(k8,"registerAlgorithm");var uoe=!1,_8=4,rc,loe,lke,rx,nh;function cke(){uoe=!0,lke=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;rc=new Array(256),loe=new Array(256),rx=new Array(4),nh=new Array(4);for(var t=0;t<4;++t)rx[t]=new Array(256),nh[t]=new Array(256);for(var r=0,n=0,i,s,a,l,c,u,f,t=0;t<256;++t){l=n^n<<1^n<<2^n<<3^n<<4,l=l>>8^l&255^99,rc[r]=l,loe[l]=r,c=e[l],i=e[r],s=e[i],a=e[s],u=c<<24^l<<16^l<<8^(l^c),f=(i^s^a)<<24^(r^a)<<16^(r^s^a)<<8^(r^i^a);for(var m=0;m<4;++m)rx[m][r]=u,nh[m][l]=f,u=u<<24|u>>>8,f=f<<24|f>>>8;r===0?r=n=1:(r=i^e[e[e[i^a]]],n^=e[e[n]])}}o(cke,"initialize");function uke(e,t){for(var r=e.slice(0),n,i=1,s=r.length,a=s+6+1,l=_8*a,c=s;c<l;++c)n=r[c-1],c%s===0?(n=rc[n>>>16&255]<<24^rc[n>>>8&255]<<16^rc[n&255]<<8^rc[n>>>24]^lke[i]<<24,i++):s>6&&c%s===4&&(n=rc[n>>>24]<<24^rc[n>>>16&255]<<16^rc[n>>>8&255]<<8^rc[n&255]),r[c]=r[c-s]^n;if(t){var u,f=nh[0],m=nh[1],h=nh[2],p=nh[3],A=r.slice(0);l=r.length;for(var c=0,x=l-_8;c<l;c+=_8,x-=_8)if(c===0||c===l-_8)A[c]=r[x],A[c+1]=r[x+3],A[c+2]=r[x+2],A[c+3]=r[x+1];else for(var E=0;E<_8;++E)u=r[x+E],A[c+(3&-E)]=f[rc[u>>>24]]^m[rc[u>>>16&255]]^h[rc[u>>>8&255]]^p[rc[u&255]];r=A}return r}o(uke,"_expandKey");function coe(e,t,r,n){var i=e.length/4-1,s,a,l,c,u;n?(s=nh[0],a=nh[1],l=nh[2],c=nh[3],u=loe):(s=rx[0],a=rx[1],l=rx[2],c=rx[3],u=rc);var f,m,h,p,A,x,E;f=t[0]^e[0],m=t[n?3:1]^e[1],h=t[2]^e[2],p=t[n?1:3]^e[3];for(var v=3,b=1;b<i;++b)A=s[f>>>24]^a[m>>>16&255]^l[h>>>8&255]^c[p&255]^e[++v],x=s[m>>>24]^a[h>>>16&255]^l[p>>>8&255]^c[f&255]^e[++v],E=s[h>>>24]^a[p>>>16&255]^l[f>>>8&255]^c[m&255]^e[++v],p=s[p>>>24]^a[f>>>16&255]^l[m>>>8&255]^c[h&255]^e[++v],f=A,m=x,h=E;r[0]=u[f>>>24]<<24^u[m>>>16&255]<<16^u[h>>>8&255]<<8^u[p&255]^e[++v],r[n?3:1]=u[m>>>24]<<24^u[h>>>16&255]<<16^u[p>>>8&255]<<8^u[f&255]^e[++v],r[2]=u[h>>>24]<<24^u[p>>>16&255]<<16^u[f>>>8&255]<<8^u[m&255]^e[++v],r[n?1:3]=u[p>>>24]<<24^u[f>>>16&255]<<16^u[m>>>8&255]<<8^u[h&255]^e[++v]}o(coe,"_updateBlock");function qU(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="AES-"+t,n;e.decrypt?n=Uo.cipher.createDecipher(r,e.key):n=Uo.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(s,a){var l=null;a instanceof Uo.util.ByteBuffer&&(l=a,a={}),a=a||{},a.output=l,a.iv=s,i.call(n,a)},n}o(qU,"_createCipher")});var _y=V((GWr,dke)=>{d();var HS=ei();HS.pki=HS.pki||{};var foe=dke.exports=HS.pki.oids=HS.oids=HS.oids||{};function Qt(e,t){foe[e]=t,foe[t]=e}o(Qt,"_IN");function fo(e,t){foe[e]=t}o(fo,"_I_");Qt("1.2.840.113549.1.1.1","rsaEncryption");Qt("1.2.840.113549.1.1.4","md5WithRSAEncryption");Qt("1.2.840.113549.1.1.5","sha1WithRSAEncryption");Qt("1.2.840.113549.1.1.7","RSAES-OAEP");Qt("1.2.840.113549.1.1.8","mgf1");Qt("1.2.840.113549.1.1.9","pSpecified");Qt("1.2.840.113549.1.1.10","RSASSA-PSS");Qt("1.2.840.113549.1.1.11","sha256WithRSAEncryption");Qt("1.2.840.113549.1.1.12","sha384WithRSAEncryption");Qt("1.2.840.113549.1.1.13","sha512WithRSAEncryption");Qt("1.3.101.112","EdDSA25519");Qt("1.2.840.10040.4.3","dsa-with-sha1");Qt("1.3.14.3.2.7","desCBC");Qt("1.3.14.3.2.26","sha1");Qt("1.3.14.3.2.29","sha1WithRSASignature");Qt("2.16.840.1.101.3.4.2.1","sha256");Qt("2.16.840.1.101.3.4.2.2","sha384");Qt("2.16.840.1.101.3.4.2.3","sha512");Qt("2.16.840.1.101.3.4.2.4","sha224");Qt("2.16.840.1.101.3.4.2.5","sha512-224");Qt("2.16.840.1.101.3.4.2.6","sha512-256");Qt("1.2.840.113549.2.2","md2");Qt("1.2.840.113549.2.5","md5");Qt("1.2.840.113549.1.7.1","data");Qt("1.2.840.113549.1.7.2","signedData");Qt("1.2.840.113549.1.7.3","envelopedData");Qt("1.2.840.113549.1.7.4","signedAndEnvelopedData");Qt("1.2.840.113549.1.7.5","digestedData");Qt("1.2.840.113549.1.7.6","encryptedData");Qt("1.2.840.113549.1.9.1","emailAddress");Qt("1.2.840.113549.1.9.2","unstructuredName");Qt("1.2.840.113549.1.9.3","contentType");Qt("1.2.840.113549.1.9.4","messageDigest");Qt("1.2.840.113549.1.9.5","signingTime");Qt("1.2.840.113549.1.9.6","counterSignature");Qt("1.2.840.113549.1.9.7","challengePassword");Qt("1.2.840.113549.1.9.8","unstructuredAddress");Qt("1.2.840.113549.1.9.14","extensionRequest");Qt("1.2.840.113549.1.9.20","friendlyName");Qt("1.2.840.113549.1.9.21","localKeyId");Qt("1.2.840.113549.1.9.22.1","x509Certificate");Qt("1.2.840.113549.1.12.10.1.1","keyBag");Qt("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");Qt("1.2.840.113549.1.12.10.1.3","certBag");Qt("1.2.840.113549.1.12.10.1.4","crlBag");Qt("1.2.840.113549.1.12.10.1.5","secretBag");Qt("1.2.840.113549.1.12.10.1.6","safeContentsBag");Qt("1.2.840.113549.1.5.13","pkcs5PBES2");Qt("1.2.840.113549.1.5.12","pkcs5PBKDF2");Qt("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");Qt("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");Qt("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");Qt("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");Qt("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");Qt("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");Qt("1.2.840.113549.2.7","hmacWithSHA1");Qt("1.2.840.113549.2.8","hmacWithSHA224");Qt("1.2.840.113549.2.9","hmacWithSHA256");Qt("1.2.840.113549.2.10","hmacWithSHA384");Qt("1.2.840.113549.2.11","hmacWithSHA512");Qt("1.2.840.113549.3.7","des-EDE3-CBC");Qt("2.16.840.1.101.3.4.1.2","aes128-CBC");Qt("2.16.840.1.101.3.4.1.22","aes192-CBC");Qt("2.16.840.1.101.3.4.1.42","aes256-CBC");Qt("2.5.4.3","commonName");Qt("2.5.4.4","surname");Qt("2.5.4.5","serialNumber");Qt("2.5.4.6","countryName");Qt("2.5.4.7","localityName");Qt("2.5.4.8","stateOrProvinceName");Qt("2.5.4.9","streetAddress");Qt("2.5.4.10","organizationName");Qt("2.5.4.11","organizationalUnitName");Qt("2.5.4.12","title");Qt("2.5.4.13","description");Qt("2.5.4.15","businessCategory");Qt("2.5.4.17","postalCode");Qt("2.5.4.42","givenName");Qt("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");Qt("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");Qt("2.16.840.1.113730.1.1","nsCertType");Qt("2.16.840.1.113730.1.13","nsComment");fo("2.5.29.1","authorityKeyIdentifier");fo("2.5.29.2","keyAttributes");fo("2.5.29.3","certificatePolicies");fo("2.5.29.4","keyUsageRestriction");fo("2.5.29.5","policyMapping");fo("2.5.29.6","subtreesConstraint");fo("2.5.29.7","subjectAltName");fo("2.5.29.8","issuerAltName");fo("2.5.29.9","subjectDirectoryAttributes");fo("2.5.29.10","basicConstraints");fo("2.5.29.11","nameConstraints");fo("2.5.29.12","policyConstraints");fo("2.5.29.13","basicConstraints");Qt("2.5.29.14","subjectKeyIdentifier");Qt("2.5.29.15","keyUsage");fo("2.5.29.16","privateKeyUsagePeriod");Qt("2.5.29.17","subjectAltName");Qt("2.5.29.18","issuerAltName");Qt("2.5.29.19","basicConstraints");fo("2.5.29.20","cRLNumber");fo("2.5.29.21","cRLReason");fo("2.5.29.22","expirationDate");fo("2.5.29.23","instructionCode");fo("2.5.29.24","invalidityDate");fo("2.5.29.25","cRLDistributionPoints");fo("2.5.29.26","issuingDistributionPoint");fo("2.5.29.27","deltaCRLIndicator");fo("2.5.29.28","issuingDistributionPoint");fo("2.5.29.29","certificateIssuer");fo("2.5.29.30","nameConstraints");Qt("2.5.29.31","cRLDistributionPoints");Qt("2.5.29.32","certificatePolicies");fo("2.5.29.33","policyMappings");fo("2.5.29.34","policyConstraints");Qt("2.5.29.35","authorityKeyIdentifier");fo("2.5.29.36","policyConstraints");Qt("2.5.29.37","extKeyUsage");fo("2.5.29.46","freshestCRL");fo("2.5.29.54","inhibitAnyPolicy");Qt("1.3.6.1.4.1.11129.2.4.2","timestampList");Qt("1.3.6.1.5.5.7.1.1","authorityInfoAccess");Qt("1.3.6.1.5.5.7.3.1","serverAuth");Qt("1.3.6.1.5.5.7.3.2","clientAuth");Qt("1.3.6.1.5.5.7.3.3","codeSigning");Qt("1.3.6.1.5.5.7.3.4","emailProtection");Qt("1.3.6.1.5.5.7.3.8","timeStamping")});var ih=V((jWr,hke)=>{d();var os=ei();Ji();_y();var yr=hke.exports=os.asn1=os.asn1||{};yr.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};yr.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};yr.create=function(e,t,r,n,i){if(os.util.isArray(n)){for(var s=[],a=0;a<n.length;++a)n[a]!==void 0&&s.push(n[a]);n=s}var l={tagClass:e,type:t,constructed:r,composed:r||os.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(l.bitStringContents=i.bitStringContents,l.original=yr.copy(l)),l};yr.copy=function(e,t){var r;if(os.util.isArray(e)){r=[];for(var n=0;n<e.length;++n)r.push(yr.copy(e[n],t));return r}return typeof e=="string"?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:yr.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)};yr.equals=function(e,t,r){if(os.util.isArray(e)){if(!os.util.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!yr.equals(e[n],t[n]))return!1;return!0}if(typeof e!=typeof t)return!1;if(typeof e=="string")return e===t;var i=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&yr.equals(e.value,t.value);return r&&r.includeBitStringContents&&(i=i&&e.bitStringContents===t.bitStringContents),i};yr.getBerValueLength=function(e){var t=e.getByte();if(t!==128){var r,n=t&128;return n?r=e.getInt((t&127)<<3):r=t,r}};function VS(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}o(VS,"_checkBufferLength");var W3t=o(function(e,t){var r=e.getByte();if(t--,r!==128){var n,i=r&128;if(!i)n=r;else{var s=r&127;VS(e,t,s),n=e.getInt(s<<3)}if(n<0)throw new Error("Negative length: "+n);return n}},"_getValueLength");yr.fromDer=function(e,t){t===void 0&&(t={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof t=="boolean"&&(t={strict:t,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"parseAllBytes"in t||(t.parseAllBytes=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),typeof e=="string"&&(e=os.util.createBuffer(e));var r=e.length(),n=WU(e,e.length(),0,t);if(t.parseAllBytes&&e.length()!==0){var i=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw i.byteCount=r,i.remaining=e.length(),i}return n};function WU(e,t,r,n){var i;VS(e,t,2);var s=e.getByte();t--;var a=s&192,l=s&31;i=e.length();var c=W3t(e,t);if(t-=i-e.length(),c!==void 0&&c>t){if(n.strict){var u=new Error("Too few bytes to read ASN.1 value.");throw u.available=e.length(),u.remaining=t,u.requested=c,u}c=t}var f,m,h=(s&32)===32;if(h)if(f=[],c===void 0)for(;;){if(VS(e,t,2),e.bytes(2)==="\0\0"){e.getBytes(2),t-=2;break}i=e.length(),f.push(WU(e,t,r+1,n)),t-=i-e.length()}else for(;c>0;)i=e.length(),f.push(WU(e,c,r+1,n)),t-=i-e.length(),c-=i-e.length();if(f===void 0&&a===yr.Class.UNIVERSAL&&l===yr.Type.BITSTRING&&(m=e.bytes(c)),f===void 0&&n.decodeBitStrings&&a===yr.Class.UNIVERSAL&&l===yr.Type.BITSTRING&&c>1){var p=e.read,A=t,x=0;if(l===yr.Type.BITSTRING&&(VS(e,t,1),x=e.getByte(),t--),x===0)try{i=e.length();var E={strict:!0,decodeBitStrings:!0},v=WU(e,t,r+1,E),b=i-e.length();t-=b,l==yr.Type.BITSTRING&&b++;var S=v.tagClass;b===c&&(S===yr.Class.UNIVERSAL||S===yr.Class.CONTEXT_SPECIFIC)&&(f=[v])}catch{}f===void 0&&(e.read=p,t=A)}if(f===void 0){if(c===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");c=t}if(l===yr.Type.BMPSTRING)for(f="";c>0;c-=2)VS(e,t,2),f+=String.fromCharCode(e.getInt16()),t-=2;else f=e.getBytes(c),t-=c}var B=m===void 0?null:{bitStringContents:m};return yr.create(a,l,h,f,B)}o(WU,"_fromDer");yr.toDer=function(e){var t=os.util.createBuffer(),r=e.tagClass|e.type,n=os.util.createBuffer(),i=!1;if("bitStringContents"in e&&(i=!0,e.original&&(i=yr.equals(e,e.original))),i)n.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:n.putByte(0);for(var s=0;s<e.value.length;++s)e.value[s]!==void 0&&n.putBuffer(yr.toDer(e.value[s]))}else if(e.type===yr.Type.BMPSTRING)for(var s=0;s<e.value.length;++s)n.putInt16(e.value.charCodeAt(s));else e.type===yr.Type.INTEGER&&e.value.length>1&&(e.value.charCodeAt(0)===0&&(e.value.charCodeAt(1)&128)===0||e.value.charCodeAt(0)===255&&(e.value.charCodeAt(1)&128)===128)?n.putBytes(e.value.substr(1)):n.putBytes(e.value);if(t.putByte(r),n.length()<=127)t.putByte(n.length()&127);else{var a=n.length(),l="";do l+=String.fromCharCode(a&255),a=a>>>8;while(a>0);t.putByte(l.length|128);for(var s=l.length-1;s>=0;--s)t.putByte(l.charCodeAt(s))}return t.putBuffer(n),t};yr.oidToDer=function(e){var t=e.split("."),r=os.util.createBuffer();r.putByte(40*parseInt(t[0],10)+parseInt(t[1],10));for(var n,i,s,a,l=2;l<t.length;++l){n=!0,i=[],s=parseInt(t[l],10);do a=s&127,s=s>>>7,n||(a|=128),i.push(a),n=!1;while(s>0);for(var c=i.length-1;c>=0;--c)r.putByte(i[c])}return r};yr.derToOid=function(e){var t;typeof e=="string"&&(e=os.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var n=0;e.length()>0;)r=e.getByte(),n=n<<7,r&128?n+=r&127:(t+="."+(n+r),n=0);return t};yr.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,i=parseInt(e.substr(4,2),10),s=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),l=0;if(e.length>11){var c=e.charAt(10),u=10;c!=="+"&&c!=="-"&&(l=parseInt(e.substr(10,2),10),u+=2)}if(t.setUTCFullYear(r,n,i),t.setUTCHours(s,a,l,0),u&&(c=e.charAt(u),c==="+"||c==="-")){var f=parseInt(e.substr(u+1,2),10),m=parseInt(e.substr(u+4,2),10),h=f*60+m;h*=6e4,c==="+"?t.setTime(+t-h):t.setTime(+t+h)}return t};yr.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,i=parseInt(e.substr(6,2),10),s=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),l=parseInt(e.substr(12,2),10),c=0,u=0,f=!1;e.charAt(e.length-1)==="Z"&&(f=!0);var m=e.length-5,h=e.charAt(m);if(h==="+"||h==="-"){var p=parseInt(e.substr(m+1,2),10),A=parseInt(e.substr(m+4,2),10);u=p*60+A,u*=6e4,h==="+"&&(u*=-1),f=!0}return e.charAt(14)==="."&&(c=parseFloat(e.substr(14),10)*1e3),f?(t.setUTCFullYear(r,n,i),t.setUTCHours(s,a,l,c),t.setTime(+t+u)):(t.setFullYear(r,n,i),t.setHours(s,a,l,c)),t};yr.dateToUtcTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};yr.dateToGeneralizedTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};yr.integerToDer=function(e){var t=os.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r};yr.derToInteger=function(e){typeof e=="string"&&(e=os.util.createBuffer(e));var t=e.length()*8;if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)};yr.validate=function(e,t,r,n){var i=!1;if((e.tagClass===t.tagClass||typeof t.tagClass>"u")&&(e.type===t.type||typeof t.type>"u"))if(e.constructed===t.constructed||typeof t.constructed>"u"){if(i=!0,t.value&&os.util.isArray(t.value))for(var s=0,a=0;i&&a<t.value.length;++a)i=t.value[a].optional||!1,e.value[s]&&(i=yr.validate(e.value[s],t.value[a],r,n),i?++s:t.value[a].optional&&(i=!0)),!i&&n&&n.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(i&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)){var l;if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{var c=e.bitStringContents.charCodeAt(0);if(c!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}}else n&&n.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');else n&&(e.tagClass!==t.tagClass&&n.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&n.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));return i};var mke=/[^\\u0000-\\u00ff]/;yr.prettyPrint=function(e,t,r){var n="";t=t||0,r=r||2,t>0&&(n+=`
`);for(var i="",s=0;s<t*r;++s)i+=" ";switch(n+=i+"Tag: ",e.tagClass){case yr.Class.UNIVERSAL:n+="Universal:";break;case yr.Class.APPLICATION:n+="Application:";break;case yr.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case yr.Class.PRIVATE:n+="Private:";break}if(e.tagClass===yr.Class.UNIVERSAL)switch(n+=e.type,e.type){case yr.Type.NONE:n+=" (None)";break;case yr.Type.BOOLEAN:n+=" (Boolean)";break;case yr.Type.INTEGER:n+=" (Integer)";break;case yr.Type.BITSTRING:n+=" (Bit string)";break;case yr.Type.OCTETSTRING:n+=" (Octet string)";break;case yr.Type.NULL:n+=" (Null)";break;case yr.Type.OID:n+=" (Object Identifier)";break;case yr.Type.ODESC:n+=" (Object Descriptor)";break;case yr.Type.EXTERNAL:n+=" (External or Instance of)";break;case yr.Type.REAL:n+=" (Real)";break;case yr.Type.ENUMERATED:n+=" (Enumerated)";break;case yr.Type.EMBEDDED:n+=" (Embedded PDV)";break;case yr.Type.UTF8:n+=" (UTF8)";break;case yr.Type.ROID:n+=" (Relative Object Identifier)";break;case yr.Type.SEQUENCE:n+=" (Sequence)";break;case yr.Type.SET:n+=" (Set)";break;case yr.Type.PRINTABLESTRING:n+=" (Printable String)";break;case yr.Type.IA5String:n+=" (IA5String (ASCII))";break;case yr.Type.UTCTIME:n+=" (UTC time)";break;case yr.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case yr.Type.BMPSTRING:n+=" (BMP String)";break}else n+=e.type;if(n+=`
`,n+=i+"Constructed: "+e.constructed+`
`,e.composed){for(var a=0,l="",s=0;s<e.value.length;++s)e.value[s]!==void 0&&(a+=1,l+=yr.prettyPrint(e.value[s],t+1,r),s+1<e.value.length&&(l+=","));n+=i+"Sub values: "+a+l}else{if(n+=i+"Value: ",e.type===yr.Type.OID){var c=yr.derToOid(e.value);n+=c,os.pki&&os.pki.oids&&c in os.pki.oids&&(n+=" ("+os.pki.oids[c]+") ")}if(e.type===yr.Type.INTEGER)try{n+=yr.derToInteger(e.value)}catch{n+="0x"+os.util.bytesToHex(e.value)}else if(e.type===yr.Type.BITSTRING){if(e.value.length>1?n+="0x"+os.util.bytesToHex(e.value.slice(1)):n+="(none)",e.value.length>0){var u=e.value.charCodeAt(0);u==1?n+=" (1 unused bit shown)":u>1&&(n+=" ("+u+" unused bits shown)")}}else if(e.type===yr.Type.OCTETSTRING)mke.test(e.value)||(n+="("+e.value+") "),n+="0x"+os.util.bytesToHex(e.value);else if(e.type===yr.Type.UTF8)try{n+=os.util.decodeUtf8(e.value)}catch(f){if(f.message==="URI malformed")n+="0x"+os.util.bytesToHex(e.value)+" (malformed UTF8)";else throw f}else e.type===yr.Type.PRINTABLESTRING||e.type===yr.Type.IA5String?n+=e.value:mke.test(e.value)?n+="0x"+os.util.bytesToHex(e.value):e.value.length===0?n+="[null]":n+=e.value}return n}});var Yp=V((YWr,pke)=>{d();var GU=ei();pke.exports=GU.md=GU.md||{};GU.md.algorithms=GU.md.algorithms||{}});var B8=V((JWr,gke)=>{d();var nA=ei();Yp();Ji();var G3t=gke.exports=nA.hmac=nA.hmac||{};G3t.create=function(){var e=null,t=null,r=null,n=null,i={};return i.start=function(s,a){if(s!==null)if(typeof s=="string")if(s=s.toLowerCase(),s in nA.md.algorithms)t=nA.md.algorithms[s].create();else throw new Error('Unknown hash algorithm "'+s+'"');else t=s;if(a===null)a=e;else{if(typeof a=="string")a=nA.util.createBuffer(a);else if(nA.util.isArray(a)){var l=a;a=nA.util.createBuffer();for(var c=0;c<l.length;++c)a.putByte(l[c])}var u=a.length();u>t.blockLength&&(t.start(),t.update(a.bytes()),a=t.digest()),r=nA.util.createBuffer(),n=nA.util.createBuffer(),u=a.length();for(var c=0;c<u;++c){var l=a.at(c);r.putByte(54^l),n.putByte(92^l)}if(u<t.blockLength)for(var l=t.blockLength-u,c=0;c<l;++c)r.putByte(54),n.putByte(92);e=a,r=r.bytes(),n=n.bytes()}t.start(),t.update(r)},i.update=function(s){t.update(s)},i.getMac=function(){var s=t.digest().bytes();return t.start(),t.update(n),t.update(s),t.digest()},i.digest=i.getMac,i}});var VU=V((ZWr,xke)=>{d();var Kp=ei();Yp();Ji();var yke=xke.exports=Kp.md5=Kp.md5||{};Kp.md.md5=Kp.md.algorithms.md5=yke;yke.create=function(){Cke||H3t();var e=null,t=Kp.util.createBuffer(),r=new Array(16),n={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return t=Kp.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=Kp.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=a[1],a[1]=a[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),Ake(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=Kp.util.createBuffer();i.putBytes(t.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=s&n.blockLength-1;i.putBytes(doe.substr(0,n.blockLength-a));for(var l,c=0,u=n.fullMessageLength.length-1;u>=0;--u)l=n.fullMessageLength[u]*8+c,c=l/4294967296>>>0,i.putInt32Le(l>>>0);var f={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};Ake(f,r,i);var m=Kp.util.createBuffer();return m.putInt32Le(f.h0),m.putInt32Le(f.h1),m.putInt32Le(f.h2),m.putInt32Le(f.h3),m},n};var doe=null,HU=null,jS=null,R8=null,Cke=!1;function H3t(){doe="\x80",doe+=Kp.util.fillString("\0",64),HU=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],jS=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],R8=new Array(64);for(var e=0;e<64;++e)R8[e]=Math.floor(Math.abs(Math.sin(e+1))*4294967296);Cke=!0}o(H3t,"_init");function Ake(e,t,r){for(var n,i,s,a,l,c,u,f,m=r.length();m>=64;){for(i=e.h0,s=e.h1,a=e.h2,l=e.h3,f=0;f<16;++f)t[f]=r.getInt32Le(),c=l^s&(a^l),n=i+c+R8[f]+t[f],u=jS[f],i=l,l=a,a=s,s+=n<<u|n>>>32-u;for(;f<32;++f)c=a^l&(s^a),n=i+c+R8[f]+t[HU[f]],u=jS[f],i=l,l=a,a=s,s+=n<<u|n>>>32-u;for(;f<48;++f)c=s^a^l,n=i+c+R8[f]+t[HU[f]],u=jS[f],i=l,l=a,a=s,s+=n<<u|n>>>32-u;for(;f<64;++f)c=a^(s|~l),n=i+c+R8[f]+t[HU[f]],u=jS[f],i=l,l=a,a=s,s+=n<<u|n>>>32-u;e.h0=e.h0+i|0,e.h1=e.h1+s|0,e.h2=e.h2+a|0,e.h3=e.h3+l|0,m-=64}}o(Ake,"_update")});var nx=V((rGr,bke)=>{d();var $U=ei();Ji();var Eke=bke.exports=$U.pem=$U.pem||{};Eke.encode=function(e,t){t=t||{};var r="-----BEGIN "+e.type+`-----\r
`,n;if(e.procType&&(n={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]},r+=jU(n)),e.contentDomain&&(n={name:"Content-Domain",values:[e.contentDomain]},r+=jU(n)),e.dekInfo&&(n={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&n.values.push(e.dekInfo.parameters),r+=jU(n)),e.headers)for(var i=0;i<e.headers.length;++i)r+=jU(e.headers[i]);return e.procType&&(r+=`\r
`),r+=$U.util.encode64(e.body,t.maxline||64)+`\r
`,r+="-----END "+e.type+`-----\r
`,r};Eke.decode=function(e){for(var t=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,s;s=r.exec(e),!!s;){var a=s[1];a==="NEW CERTIFICATE REQUEST"&&(a="CERTIFICATE REQUEST");var l={type:a,procType:null,contentDomain:null,dekInfo:null,headers:[],body:$U.util.decode64(s[3])};if(t.push(l),!!s[2]){for(var c=s[2].split(i),u=0;s&&u<c.length;){for(var f=c[u].replace(/\s+$/,""),m=u+1;m<c.length;++m){var h=c[m];if(!/\s/.test(h[0]))break;f+=h,u=m}if(s=f.match(n),s){for(var p={name:s[1],values:[]},A=s[2].split(","),x=0;x<A.length;++x)p.values.push(V3t(A[x]));if(l.procType)if(!l.contentDomain&&p.name==="Content-Domain")l.contentDomain=A[0]||"";else if(!l.dekInfo&&p.name==="DEK-Info"){if(p.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');l.dekInfo={algorithm:A[0],parameters:A[1]||null}}else l.headers.push(p);else{if(p.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(p.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');l.procType={version:A[0],type:A[1]}}}++u}if(l.procType==="ENCRYPTED"&&!l.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(t.length===0)throw new Error("Invalid PEM formatted message.");return t};function jU(e){for(var t=e.name+": ",r=[],n=o(function(c,u){return" "+u},"insertSpace"),i=0;i<e.values.length;++i)r.push(e.values[i].replace(/^(\S+\r\n)/,n));t+=r.join(",")+`\r
`;for(var s=0,a=-1,i=0;i<t.length;++i,++s)if(s>65&&a!==-1){var l=t[a];l===","?(++a,t=t.substr(0,a)+`\r
 `+t.substr(a)):t=t.substr(0,a)+`\r
`+l+t.substr(a+1),s=i-a-1,a=-1,++i}else(t[i]===" "||t[i]==="	"||t[i]===",")&&(a=i);return t}o(jU,"foldHeader");function V3t(e){return e.replace(/^\s+/,"")}o(V3t,"ltrim")});var $S=V((oGr,Ike)=>{d();var Is=ei();MU();aoe();Ji();Ike.exports=Is.des=Is.des||{};Is.des.startEncrypting=function(e,t,r,n){var i=zU({key:e,output:r,decrypt:!1,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};Is.des.createEncryptionCipher=function(e,t){return zU({key:e,output:null,decrypt:!1,mode:t})};Is.des.startDecrypting=function(e,t,r,n){var i=zU({key:e,output:r,decrypt:!0,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};Is.des.createDecryptionCipher=function(e,t){return zU({key:e,output:null,decrypt:!0,mode:t})};Is.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:o(function(n,i){return vke(r._keys,n,i,!1)},"encrypt"),decrypt:o(function(n,i){return vke(r._keys,n,i,!0)},"decrypt")}}),r._init=!1};Is.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=Is.util.createBuffer(e.key);if(this.name.indexOf("3DES")===0&&t.length()!==24)throw new Error("Invalid Triple-DES key size: "+t.length()*8);this._keys=e4t(t),this._init=!0}};Jp("DES-ECB",Is.cipher.modes.ecb);Jp("DES-CBC",Is.cipher.modes.cbc);Jp("DES-CFB",Is.cipher.modes.cfb);Jp("DES-OFB",Is.cipher.modes.ofb);Jp("DES-CTR",Is.cipher.modes.ctr);Jp("3DES-ECB",Is.cipher.modes.ecb);Jp("3DES-CBC",Is.cipher.modes.cbc);Jp("3DES-CFB",Is.cipher.modes.cfb);Jp("3DES-OFB",Is.cipher.modes.ofb);Jp("3DES-CTR",Is.cipher.modes.ctr);function Jp(e,t){var r=o(function(){return new Is.des.Algorithm(e,t)},"factory");Is.cipher.registerAlgorithm(e,r)}o(Jp,"registerAlgorithm");var j3t=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],$3t=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],z3t=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],Y3t=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],K3t=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],J3t=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],X3t=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],Z3t=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function e4t(e){for(var t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],s=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],l=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],f=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],m=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],h=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],p=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],A=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],x=e.length()>8?3:1,E=[],v=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],b=0,S,B=0;B<x;B++){var P=e.getInt32(),F=e.getInt32();S=(P>>>4^F)&252645135,F^=S,P^=S<<4,S=(F>>>-16^P)&65535,P^=S,F^=S<<-16,S=(P>>>2^F)&858993459,F^=S,P^=S<<2,S=(F>>>-16^P)&65535,P^=S,F^=S<<-16,S=(P>>>1^F)&1431655765,F^=S,P^=S<<1,S=(F>>>8^P)&16711935,P^=S,F^=S<<8,S=(P>>>1^F)&1431655765,F^=S,P^=S<<1,S=P<<8|F>>>20&240,P=F<<24|F<<8&16711680|F>>>8&65280|F>>>24&240,F=S;for(var q=0;q<v.length;++q){v[q]?(P=P<<2|P>>>26,F=F<<2|F>>>26):(P=P<<1|P>>>27,F=F<<1|F>>>27),P&=-15,F&=-15;var ne=t[P>>>28]|r[P>>>24&15]|n[P>>>20&15]|i[P>>>16&15]|s[P>>>12&15]|a[P>>>8&15]|l[P>>>4&15],ce=c[F>>>28]|u[F>>>24&15]|f[F>>>20&15]|m[F>>>16&15]|h[F>>>12&15]|p[F>>>8&15]|A[F>>>4&15];S=(ce>>>16^ne)&65535,E[b++]=ne^S,E[b++]=ce^S<<16}}return E}o(e4t,"_createKeys");function vke(e,t,r,n){var i=e.length===32?3:9,s;i===3?s=n?[30,-2,-2]:[0,32,2]:s=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var a,l=t[0],c=t[1];a=(l>>>4^c)&252645135,c^=a,l^=a<<4,a=(l>>>16^c)&65535,c^=a,l^=a<<16,a=(c>>>2^l)&858993459,l^=a,c^=a<<2,a=(c>>>8^l)&16711935,l^=a,c^=a<<8,a=(l>>>1^c)&1431655765,c^=a,l^=a<<1,l=l<<1|l>>>31,c=c<<1|c>>>31;for(var u=0;u<i;u+=3){for(var f=s[u+1],m=s[u+2],h=s[u];h!=f;h+=m){var p=c^e[h],A=(c>>>4|c<<28)^e[h+1];a=l,l=c,c=a^($3t[p>>>24&63]|Y3t[p>>>16&63]|J3t[p>>>8&63]|Z3t[p&63]|j3t[A>>>24&63]|z3t[A>>>16&63]|K3t[A>>>8&63]|X3t[A&63])}a=l,l=c,c=a}l=l>>>1|l<<31,c=c>>>1|c<<31,a=(l>>>1^c)&1431655765,c^=a,l^=a<<1,a=(c>>>8^l)&16711935,l^=a,c^=a<<8,a=(c>>>2^l)&858993459,l^=a,c^=a<<2,a=(l>>>16^c)&65535,c^=a,l^=a<<16,a=(l>>>4^c)&252645135,c^=a,l^=a<<4,r[0]=l,r[1]=c}o(vke,"_updateBlock");function zU(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="DES-"+t,n;e.decrypt?n=Is.cipher.createDecipher(r,e.key):n=Is.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(s,a){var l=null;a instanceof Is.util.ByteBuffer&&(l=a,a={}),a=a||{},a.output=l,a.iv=s,i.call(n,a)},n}o(zU,"_createCipher")});var YU=V((lGr,Tke)=>{d();var nc=ei();B8();Yp();Ji();var t4t=nc.pkcs5=nc.pkcs5||{},iA;nc.util.isNodejs&&!nc.options.usePureJavaScript&&(iA=require("crypto"));Tke.exports=nc.pbkdf2=t4t.pbkdf2=function(e,t,r,n,i,s){if(typeof i=="function"&&(s=i,i=null),nc.util.isNodejs&&!nc.options.usePureJavaScript&&iA.pbkdf2&&(i===null||typeof i!="object")&&(iA.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),s?iA.pbkdf2Sync.length===4?iA.pbkdf2(e,t,r,n,function(S,B){if(S)return s(S);s(null,B.toString("binary"))}):iA.pbkdf2(e,t,r,n,i,function(S,B){if(S)return s(S);s(null,B.toString("binary"))}):iA.pbkdf2Sync.length===4?iA.pbkdf2Sync(e,t,r,n).toString("binary"):iA.pbkdf2Sync(e,t,r,n,i).toString("binary");if((typeof i>"u"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in nc.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=nc.md[i].create()}var a=i.digestLength;if(n>4294967295*a){var l=new Error("Derived key is too long.");if(s)return s(l);throw l}var c=Math.ceil(n/a),u=n-(c-1)*a,f=nc.hmac.create();f.start(i,e);var m="",h,p,A;if(!s){for(var x=1;x<=c;++x){f.start(null,null),f.update(t),f.update(nc.util.int32ToBytes(x)),h=A=f.digest().getBytes();for(var E=2;E<=r;++E)f.start(null,null),f.update(A),p=f.digest().getBytes(),h=nc.util.xorBytes(h,p,a),A=p;m+=x<c?h:h.substr(0,u)}return m}var x=1,E;function v(){if(x>c)return s(null,m);f.start(null,null),f.update(t),f.update(nc.util.int32ToBytes(x)),h=A=f.digest().getBytes(),E=2,b()}o(v,"outer");function b(){if(E<=r)return f.start(null,null),f.update(A),p=f.digest().getBytes(),h=nc.util.xorBytes(h,p,a),A=p,++E,nc.util.setImmediate(b);m+=x<c?h:h.substr(0,u),++x,v()}o(b,"inner"),v()}});var hoe=V((fGr,Bke)=>{d();var Xp=ei();Yp();Ji();var Ske=Bke.exports=Xp.sha256=Xp.sha256||{};Xp.md.sha256=Xp.md.algorithms.sha256=Ske;Ske.create=function(){_ke||r4t();var e=null,t=Xp.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return t=Xp.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=Xp.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=a[1],a[1]=a[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),wke(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=Xp.util.createBuffer();i.putBytes(t.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=s&n.blockLength-1;i.putBytes(moe.substr(0,n.blockLength-a));for(var l,c,u=n.fullMessageLength[0]*8,f=0;f<n.fullMessageLength.length-1;++f)l=n.fullMessageLength[f+1]*8,c=l/4294967296>>>0,u+=c,i.putInt32(u>>>0),u=l>>>0;i.putInt32(u);var m={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};wke(m,r,i);var h=Xp.util.createBuffer();return h.putInt32(m.h0),h.putInt32(m.h1),h.putInt32(m.h2),h.putInt32(m.h3),h.putInt32(m.h4),h.putInt32(m.h5),h.putInt32(m.h6),h.putInt32(m.h7),h},n};var moe=null,_ke=!1,kke=null;function r4t(){moe="\x80",moe+=Xp.util.fillString("\0",64),kke=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],_ke=!0}o(r4t,"_init");function wke(e,t,r){for(var n,i,s,a,l,c,u,f,m,h,p,A,x,E,v,b=r.length();b>=64;){for(u=0;u<16;++u)t[u]=r.getInt32();for(;u<64;++u)n=t[u-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=t[u-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[u]=n+t[u-7]+i+t[u-16]|0;for(f=e.h0,m=e.h1,h=e.h2,p=e.h3,A=e.h4,x=e.h5,E=e.h6,v=e.h7,u=0;u<64;++u)a=(A>>>6|A<<26)^(A>>>11|A<<21)^(A>>>25|A<<7),l=E^A&(x^E),s=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),c=f&m|h&(f^m),n=v+a+l+kke[u]+t[u],i=s+c,v=E,E=x,x=A,A=p+n>>>0,p=h,h=m,m=f,f=n+i>>>0;e.h0=e.h0+f|0,e.h1=e.h1+m|0,e.h2=e.h2+h|0,e.h3=e.h3+p|0,e.h4=e.h4+A|0,e.h5=e.h5+x|0,e.h6=e.h6+E|0,e.h7=e.h7+v|0,b-=64}}o(wke,"_update")});var poe=V((hGr,Rke)=>{d();var Zp=ei();Ji();var KU=null;Zp.util.isNodejs&&!Zp.options.usePureJavaScript&&!process.versions["node-webkit"]&&(KU=require("crypto"));var n4t=Rke.exports=Zp.prng=Zp.prng||{};n4t.create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();t.pools=n,t.pool=0,t.generate=function(u,f){if(!f)return t.generateSync(u);var m=t.plugin.cipher,h=t.plugin.increment,p=t.plugin.formatKey,A=t.plugin.formatSeed,x=Zp.util.createBuffer();t.key=null,E();function E(v){if(v)return f(v);if(x.length()>=u)return f(null,x.getBytes(u));if(t.generated>1048575&&(t.key=null),t.key===null)return Zp.util.nextTick(function(){s(E)});var b=m(t.key,t.seed);t.generated+=b.length,x.putBytes(b),t.key=p(m(t.key,h(t.seed))),t.seed=A(m(t.key,t.seed)),Zp.util.setImmediate(E)}o(E,"generate")},t.generateSync=function(u){var f=t.plugin.cipher,m=t.plugin.increment,h=t.plugin.formatKey,p=t.plugin.formatSeed;t.key=null;for(var A=Zp.util.createBuffer();A.length()<u;){t.generated>1048575&&(t.key=null),t.key===null&&a();var x=f(t.key,t.seed);t.generated+=x.length,A.putBytes(x),t.key=h(f(t.key,m(t.seed))),t.seed=p(f(t.key,t.seed))}return A.getBytes(u)};function s(u){if(t.pools[0].messageLength>=32)return l(),u();var f=32-t.pools[0].messageLength<<5;t.seedFile(f,function(m,h){if(m)return u(m);t.collect(h),l(),u()})}o(s,"_reseed");function a(){if(t.pools[0].messageLength>=32)return l();var u=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(u)),l()}o(a,"_reseedSync");function l(){t.reseeds=t.reseeds===4294967295?0:t.reseeds+1;var u=t.plugin.md.create();u.update(t.keyBytes);for(var f=1,m=0;m<32;++m)t.reseeds%f===0&&(u.update(t.pools[m].digest().getBytes()),t.pools[m].start()),f=f<<1;t.keyBytes=u.digest().getBytes(),u.start(),u.update(t.keyBytes);var h=u.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(h),t.generated=0}o(l,"_seed");function c(u){var f=null,m=Zp.util.globalScope,h=m.crypto||m.msCrypto;h&&h.getRandomValues&&(f=o(function(P){return h.getRandomValues(P)},"getRandomValues"));var p=Zp.util.createBuffer();if(f)for(;p.length()<u;){var A=Math.max(1,Math.min(u-p.length(),65536)/4),x=new Uint32Array(Math.floor(A));try{f(x);for(var E=0;E<x.length;++E)p.putInt32(x[E])}catch(P){if(!(typeof QuotaExceededError<"u"&&P instanceof QuotaExceededError))throw P}}if(p.length()<u)for(var v,b,S,B=Math.floor(Math.random()*65536);p.length()<u;){b=16807*(B&65535),v=16807*(B>>16),b+=(v&32767)<<16,b+=v>>15,b=(b&2147483647)+(b>>31),B=b&4294967295;for(var E=0;E<3;++E)S=B>>>(E<<3),S^=Math.floor(Math.random()*256),p.putByte(S&255)}return p.getBytes(u)}return o(c,"defaultSeedFile"),KU?(t.seedFile=function(u,f){KU.randomBytes(u,function(m,h){if(m)return f(m);f(null,h.toString())})},t.seedFileSync=function(u){return KU.randomBytes(u).toString()}):(t.seedFile=function(u,f){try{f(null,c(u))}catch(m){f(m)}},t.seedFileSync=c),t.collect=function(u){for(var f=u.length,m=0;m<f;++m)t.pools[t.pool].update(u.substr(m,1)),t.pool=t.pool===31?0:t.pool+1},t.collectInt=function(u,f){for(var m="",h=0;h<f;h+=8)m+=String.fromCharCode(u>>h&255);t.collect(m)},t.registerWorker=function(u){if(u===self)t.seedFile=function(m,h){function p(A){var x=A.data;x.forge&&x.forge.prng&&(self.removeEventListener("message",p),h(x.forge.prng.err,x.forge.prng.bytes))}o(p,"listener"),self.addEventListener("message",p),self.postMessage({forge:{prng:{needed:m}}})};else{var f=o(function(m){var h=m.data;h.forge&&h.forge.prng&&t.seedFile(h.forge.prng.needed,function(p,A){u.postMessage({forge:{prng:{err:p,bytes:A}}})})},"listener");u.addEventListener("message",f)}},t}});var wd=V((AGr,goe)=>{d();var vl=ei();Sy();hoe();poe();Ji();(function(){if(vl.random&&vl.random.getBytes){goe.exports=vl.random;return}(function(e){var t={},r=new Array(4),n=vl.util.createBuffer();t.formatKey=function(m){var h=vl.util.createBuffer(m);return m=new Array(4),m[0]=h.getInt32(),m[1]=h.getInt32(),m[2]=h.getInt32(),m[3]=h.getInt32(),vl.aes._expandKey(m,!1)},t.formatSeed=function(m){var h=vl.util.createBuffer(m);return m=new Array(4),m[0]=h.getInt32(),m[1]=h.getInt32(),m[2]=h.getInt32(),m[3]=h.getInt32(),m},t.cipher=function(m,h){return vl.aes._updateBlock(m,h,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},t.increment=function(m){return++m[3],m},t.md=vl.md.sha256;function i(){var m=vl.prng.create(t);return m.getBytes=function(h,p){return m.generate(h,p)},m.getBytesSync=function(h){return m.generate(h)},m}o(i,"spawnPrng");var s=i(),a=null,l=vl.util.globalScope,c=l.crypto||l.msCrypto;if(c&&c.getRandomValues&&(a=o(function(m){return c.getRandomValues(m)},"getRandomValues")),vl.options.usePureJavaScript||!vl.util.isNodejs&&!a){if(typeof window>"u"||window.document,s.collectInt(+new Date,32),typeof navigator<"u"){var u="";for(var f in navigator)try{typeof navigator[f]=="string"&&(u+=navigator[f])}catch{}s.collect(u),u=null}e&&(e().mousemove(function(m){s.collectInt(m.clientX,16),s.collectInt(m.clientY,16)}),e().keypress(function(m){s.collectInt(m.charCode,8)}))}if(!vl.random)vl.random=s;else for(var f in s)vl.random[f]=s[f];vl.random.createInstance=i,goe.exports=vl.random})(typeof jQuery<"u"?jQuery:null)})()});var yoe=V((xGr,Fke)=>{d();var ru=ei();Ji();var Aoe=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],Dke=[1,2,3,5],i4t=o(function(e,t){return e<<t&65535|(e&65535)>>16-t},"rol"),o4t=o(function(e,t){return(e&65535)>>t|e<<16-t&65535},"ror");Fke.exports=ru.rc2=ru.rc2||{};ru.rc2.expandKey=function(e,t){typeof e=="string"&&(e=ru.util.createBuffer(e)),t=t||128;var r=e,n=e.length(),i=t,s=Math.ceil(i/8),a=255>>(i&7),l;for(l=n;l<128;l++)r.putByte(Aoe[r.at(l-1)+r.at(l-n)&255]);for(r.setAt(128-s,Aoe[r.at(128-s)&a]),l=127-s;l>=0;l--)r.setAt(l,Aoe[r.at(l+1)^r.at(l+s)]);return r};var Pke=o(function(e,t,r){var n=!1,i=null,s=null,a=null,l,c,u,f,m=[];for(e=ru.rc2.expandKey(e,t),u=0;u<64;u++)m.push(e.getInt16Le());r?(l=o(function(A){for(u=0;u<4;u++)A[u]+=m[f]+(A[(u+3)%4]&A[(u+2)%4])+(~A[(u+3)%4]&A[(u+1)%4]),A[u]=i4t(A[u],Dke[u]),f++},"mixRound"),c=o(function(A){for(u=0;u<4;u++)A[u]+=m[A[(u+3)%4]&63]},"mashRound")):(l=o(function(A){for(u=3;u>=0;u--)A[u]=o4t(A[u],Dke[u]),A[u]-=m[f]+(A[(u+3)%4]&A[(u+2)%4])+(~A[(u+3)%4]&A[(u+1)%4]),f--},"mixRound"),c=o(function(A){for(u=3;u>=0;u--)A[u]-=m[A[(u+3)%4]&63]},"mashRound"));var h=o(function(A){var x=[];for(u=0;u<4;u++){var E=i.getInt16Le();a!==null&&(r?E^=a.getInt16Le():a.putInt16Le(E)),x.push(E&65535)}f=r?0:63;for(var v=0;v<A.length;v++)for(var b=0;b<A[v][0];b++)A[v][1](x);for(u=0;u<4;u++)a!==null&&(r?a.putInt16Le(x[u]):x[u]^=a.getInt16Le()),s.putInt16Le(x[u])},"runPlan"),p=null;return p={start:o(function(A,x){A&&typeof A=="string"&&(A=ru.util.createBuffer(A)),n=!1,i=ru.util.createBuffer(),s=x||new ru.util.createBuffer,a=A,p.output=s},"start"),update:o(function(A){for(n||i.putBuffer(A);i.length()>=8;)h([[5,l],[1,c],[6,l],[1,c],[5,l]])},"update"),finish:o(function(A){var x=!0;if(r)if(A)x=A(8,i,!r);else{var E=i.length()===8?8:8-i.length();i.fillWithByte(E,E)}if(x&&(n=!0,p.update()),!r&&(x=i.length()===0,x))if(A)x=A(8,s,!r);else{var v=s.length(),b=s.at(v-1);b>v?x=!1:s.truncate(b)}return x},"finish")},p},"createCipher");ru.rc2.startEncrypting=function(e,t,r){var n=ru.rc2.createEncryptionCipher(e,128);return n.start(t,r),n};ru.rc2.createEncryptionCipher=function(e,t){return Pke(e,t,!0)};ru.rc2.startDecrypting=function(e,t,r){var n=ru.rc2.createDecryptionCipher(e,128);return n.start(t,r),n};ru.rc2.createDecryptionCipher=function(e,t){return Pke(e,t,!1)}});var YS=V((vGr,Wke)=>{d();var Coe=ei();Wke.exports=Coe.jsbn=Coe.jsbn||{};var oA,s4t=0xdeadbeefcafe,Nke=(s4t&16777215)==15715070;function Bt(e,t,r){this.data=[],e!=null&&(typeof e=="number"?this.fromNumber(e,t,r):t==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,t))}o(Bt,"BigInteger");Coe.jsbn.BigInteger=Bt;function Xi(){return new Bt(null)}o(Xi,"nbi");function a4t(e,t,r,n,i,s){for(;--s>=0;){var a=t*this.data[e++]+r.data[n]+i;i=Math.floor(a/67108864),r.data[n++]=a&67108863}return i}o(a4t,"am1");function l4t(e,t,r,n,i,s){for(var a=t&32767,l=t>>15;--s>=0;){var c=this.data[e]&32767,u=this.data[e++]>>15,f=l*c+u*a;c=a*c+((f&32767)<<15)+r.data[n]+(i&1073741823),i=(c>>>30)+(f>>>15)+l*u+(i>>>30),r.data[n++]=c&1073741823}return i}o(l4t,"am2");function Lke(e,t,r,n,i,s){for(var a=t&16383,l=t>>14;--s>=0;){var c=this.data[e]&16383,u=this.data[e++]>>14,f=l*c+u*a;c=a*c+((f&16383)<<14)+r.data[n]+i,i=(c>>28)+(f>>14)+l*u,r.data[n++]=c&268435455}return i}o(Lke,"am3");typeof navigator>"u"?(Bt.prototype.am=Lke,oA=28):Nke&&navigator.appName=="Microsoft Internet Explorer"?(Bt.prototype.am=l4t,oA=30):Nke&&navigator.appName!="Netscape"?(Bt.prototype.am=a4t,oA=26):(Bt.prototype.am=Lke,oA=28);Bt.prototype.DB=oA;Bt.prototype.DM=(1<<oA)-1;Bt.prototype.DV=1<<oA;var xoe=52;Bt.prototype.FV=Math.pow(2,xoe);Bt.prototype.F1=xoe-oA;Bt.prototype.F2=2*oA-xoe;var c4t="0123456789abcdefghijklmnopqrstuvwxyz",JU=new Array,D8,Sd;D8=48;for(Sd=0;Sd<=9;++Sd)JU[D8++]=Sd;D8=97;for(Sd=10;Sd<36;++Sd)JU[D8++]=Sd;D8=65;for(Sd=10;Sd<36;++Sd)JU[D8++]=Sd;function Qke(e){return c4t.charAt(e)}o(Qke,"int2char");function Mke(e,t){var r=JU[e.charCodeAt(t)];return r??-1}o(Mke,"intAt");function u4t(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s}o(u4t,"bnpCopyTo");function f4t(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0}o(f4t,"bnpFromInt");function ky(e){var t=Xi();return t.fromInt(e),t}o(ky,"nbv");function d4t(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==256)r=8;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else{this.fromRadix(e,t);return}this.t=0,this.s=0;for(var n=e.length,i=!1,s=0;--n>=0;){var a=r==8?e[n]&255:Mke(e,n);if(a<0){e.charAt(n)=="-"&&(i=!0);continue}i=!1,s==0?this.data[this.t++]=a:s+r>this.DB?(this.data[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this.data[this.t++]=a>>this.DB-s):this.data[this.t-1]|=a<<s,s+=r,s>=this.DB&&(s-=this.DB)}r==8&&(e[0]&128)!=0&&(this.s=-1,s>0&&(this.data[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&Bt.ZERO.subTo(this,this)}o(d4t,"bnpFromString");function m4t(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t}o(m4t,"bnpClamp");function h4t(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var r=(1<<t)-1,n,i=!1,s="",a=this.t,l=this.DB-a*this.DB%t;if(a-- >0)for(l<this.DB&&(n=this.data[a]>>l)>0&&(i=!0,s=Qke(n));a>=0;)l<t?(n=(this.data[a]&(1<<l)-1)<<t-l,n|=this.data[--a]>>(l+=this.DB-t)):(n=this.data[a]>>(l-=t)&r,l<=0&&(l+=this.DB,--a)),n>0&&(i=!0),i&&(s+=Qke(n));return i?s:"0"}o(h4t,"bnToString");function p4t(){var e=Xi();return Bt.ZERO.subTo(this,e),e}o(p4t,"bnNegate");function g4t(){return this.s<0?this.negate():this}o(g4t,"bnAbs");function A4t(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this.data[r]-e.data[r])!=0)return t;return 0}o(A4t,"bnCompareTo");function XU(e){var t=1,r;return(r=e>>>16)!=0&&(e=r,t+=16),(r=e>>8)!=0&&(e=r,t+=8),(r=e>>4)!=0&&(e=r,t+=4),(r=e>>2)!=0&&(e=r,t+=2),(r=e>>1)!=0&&(e=r,t+=1),t}o(XU,"nbits");function y4t(){return this.t<=0?0:this.DB*(this.t-1)+XU(this.data[this.t-1]^this.s&this.DM)}o(y4t,"bnBitLength");function C4t(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s}o(C4t,"bnpDLShiftTo");function x4t(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s}o(x4t,"bnpDRShiftTo");function E4t(e,t){var r=e%this.DB,n=this.DB-r,i=(1<<n)-1,s=Math.floor(e/this.DB),a=this.s<<r&this.DM,l;for(l=this.t-1;l>=0;--l)t.data[l+s+1]=this.data[l]>>n|a,a=(this.data[l]&i)<<r;for(l=s-1;l>=0;--l)t.data[l]=0;t.data[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()}o(E4t,"bnpLShiftTo");function b4t(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,i=this.DB-n,s=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var a=r+1;a<this.t;++a)t.data[a-r-1]|=(this.data[a]&s)<<i,t.data[a-r]=this.data[a]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&s)<<i),t.t=this.t-r,t.clamp()}o(b4t,"bnpRShiftTo");function v4t(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()}o(v4t,"bnpSubTo");function I4t(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t.data[i]=0;for(i=0;i<n.t;++i)t.data[i+r.t]=r.am(0,n.data[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&Bt.ZERO.subTo(t,t)}o(I4t,"bnpMultiplyTo");function T4t(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()}o(T4t,"bnpSquareTo");function w4t(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){t?.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=Xi());var s=Xi(),a=this.s,l=e.s,c=this.DB-XU(n.data[n.t-1]);c>0?(n.lShiftTo(c,s),i.lShiftTo(c,r)):(n.copyTo(s),i.copyTo(r));var u=s.t,f=s.data[u-1];if(f!=0){var m=f*(1<<this.F1)+(u>1?s.data[u-2]>>this.F2:0),h=this.FV/m,p=(1<<this.F1)/m,A=1<<this.F2,x=r.t,E=x-u,v=t??Xi();for(s.dlShiftTo(E,v),r.compareTo(v)>=0&&(r.data[r.t++]=1,r.subTo(v,r)),Bt.ONE.dlShiftTo(u,v),v.subTo(s,s);s.t<u;)s.data[s.t++]=0;for(;--E>=0;){var b=r.data[--x]==f?this.DM:Math.floor(r.data[x]*h+(r.data[x-1]+A)*p);if((r.data[x]+=s.am(0,b,r,E,0,u))<b)for(s.dlShiftTo(E,v),r.subTo(v,r);r.data[x]<--b;)r.subTo(v,r)}t!=null&&(r.drShiftTo(u,t),a!=l&&Bt.ZERO.subTo(t,t)),r.t=u,r.clamp(),c>0&&r.rShiftTo(c,r),a<0&&Bt.ZERO.subTo(r,r)}}}o(w4t,"bnpDivRemTo");function S4t(e){var t=Xi();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(Bt.ZERO)>0&&e.subTo(t,t),t}o(S4t,"bnMod");function ix(e){this.m=e}o(ix,"Classic");function _4t(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}o(_4t,"cConvert");function k4t(e){return e}o(k4t,"cRevert");function B4t(e){e.divRemTo(this.m,null,e)}o(B4t,"cReduce");function R4t(e,t,r){e.multiplyTo(t,r),this.reduce(r)}o(R4t,"cMulTo");function D4t(e,t){e.squareTo(t),this.reduce(t)}o(D4t,"cSqrTo");ix.prototype.convert=_4t;ix.prototype.revert=k4t;ix.prototype.reduce=B4t;ix.prototype.mulTo=R4t;ix.prototype.sqrTo=D4t;function P4t(){if(this.t<1)return 0;var e=this.data[0];if((e&1)==0)return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}o(P4t,"bnpInvDigit");function ox(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}o(ox,"Montgomery");function F4t(e){var t=Xi();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(Bt.ZERO)>0&&this.m.subTo(t,t),t}o(F4t,"montConvert");function N4t(e){var t=Xi();return e.copyTo(t),this.reduce(t),t}o(N4t,"montRevert");function L4t(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e.data[t]&32767,n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}o(L4t,"montReduce");function Q4t(e,t){e.squareTo(t),this.reduce(t)}o(Q4t,"montSqrTo");function M4t(e,t,r){e.multiplyTo(t,r),this.reduce(r)}o(M4t,"montMulTo");ox.prototype.convert=F4t;ox.prototype.revert=N4t;ox.prototype.reduce=L4t;ox.prototype.mulTo=M4t;ox.prototype.sqrTo=Q4t;function O4t(){return(this.t>0?this.data[0]&1:this.s)==0}o(O4t,"bnpIsEven");function U4t(e,t){if(e>4294967295||e<1)return Bt.ONE;var r=Xi(),n=Xi(),i=t.convert(this),s=XU(e)-1;for(i.copyTo(r);--s>=0;)if(t.sqrTo(r,n),(e&1<<s)>0)t.mulTo(n,i,r);else{var a=r;r=n,n=a}return t.revert(r)}o(U4t,"bnpExp");function q4t(e,t){var r;return e<256||t.isEven()?r=new ix(t):r=new ox(t),this.exp(e,r)}o(q4t,"bnModPowInt");Bt.prototype.copyTo=u4t;Bt.prototype.fromInt=f4t;Bt.prototype.fromString=d4t;Bt.prototype.clamp=m4t;Bt.prototype.dlShiftTo=C4t;Bt.prototype.drShiftTo=x4t;Bt.prototype.lShiftTo=E4t;Bt.prototype.rShiftTo=b4t;Bt.prototype.subTo=v4t;Bt.prototype.multiplyTo=I4t;Bt.prototype.squareTo=T4t;Bt.prototype.divRemTo=w4t;Bt.prototype.invDigit=P4t;Bt.prototype.isEven=O4t;Bt.prototype.exp=U4t;Bt.prototype.toString=h4t;Bt.prototype.negate=p4t;Bt.prototype.abs=g4t;Bt.prototype.compareTo=A4t;Bt.prototype.bitLength=y4t;Bt.prototype.mod=S4t;Bt.prototype.modPowInt=q4t;Bt.ZERO=ky(0);Bt.ONE=ky(1);function W4t(){var e=Xi();return this.copyTo(e),e}o(W4t,"bnClone");function G4t(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}o(G4t,"bnIntValue");function H4t(){return this.t==0?this.s:this.data[0]<<24>>24}o(H4t,"bnByteValue");function V4t(){return this.t==0?this.s:this.data[0]<<16>>16}o(V4t,"bnShortValue");function j4t(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}o(j4t,"bnpChunkSize");function $4t(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}o($4t,"bnSigNum");function z4t(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=ky(r),i=Xi(),s=Xi(),a="";for(this.divRemTo(n,i,s);i.signum()>0;)a=(r+s.intValue()).toString(e).substr(1)+a,i.divRemTo(n,i,s);return s.intValue().toString(e)+a}o(z4t,"bnpToRadix");function Y4t(e,t){this.fromInt(0),t==null&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,s=0,a=0,l=0;l<e.length;++l){var c=Mke(e,l);if(c<0){e.charAt(l)=="-"&&this.signum()==0&&(i=!0);continue}a=t*a+c,++s>=r&&(this.dMultiply(n),this.dAddOffset(a,0),s=0,a=0)}s>0&&(this.dMultiply(Math.pow(t,s)),this.dAddOffset(a,0)),i&&Bt.ZERO.subTo(this,this)}o(Y4t,"bnpFromRadix");function K4t(e,t,r){if(typeof t=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(Bt.ONE.shiftLeft(e-1),Eoe,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(Bt.ONE.shiftLeft(e-1),this);else{var n=new Array,i=e&7;n.length=(e>>3)+1,t.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}o(K4t,"bnpFromNumber");function J4t(){var e=this.t,t=new Array;t[0]=this.s;var r=this.DB-e*this.DB%8,n,i=0;if(e-- >0)for(r<this.DB&&(n=this.data[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this.data[e]&(1<<r)-1)<<8-r,n|=this.data[--e]>>(r+=this.DB-8)):(n=this.data[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),(n&128)!=0&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t}o(J4t,"bnToByteArray");function X4t(e){return this.compareTo(e)==0}o(X4t,"bnEquals");function Z4t(e){return this.compareTo(e)<0?this:e}o(Z4t,"bnMin");function ext(e){return this.compareTo(e)>0?this:e}o(ext,"bnMax");function txt(e,t,r){var n,i,s=Math.min(e.t,this.t);for(n=0;n<s;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(i=e.s&this.DM,n=s;n<this.t;++n)r.data[n]=t(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=s;n<e.t;++n)r.data[n]=t(i,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()}o(txt,"bnpBitwiseTo");function rxt(e,t){return e&t}o(rxt,"op_and");function nxt(e){var t=Xi();return this.bitwiseTo(e,rxt,t),t}o(nxt,"bnAnd");function Eoe(e,t){return e|t}o(Eoe,"op_or");function ixt(e){var t=Xi();return this.bitwiseTo(e,Eoe,t),t}o(ixt,"bnOr");function Oke(e,t){return e^t}o(Oke,"op_xor");function oxt(e){var t=Xi();return this.bitwiseTo(e,Oke,t),t}o(oxt,"bnXor");function Uke(e,t){return e&~t}o(Uke,"op_andnot");function sxt(e){var t=Xi();return this.bitwiseTo(e,Uke,t),t}o(sxt,"bnAndNot");function axt(){for(var e=Xi(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e}o(axt,"bnNot");function lxt(e){var t=Xi();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}o(lxt,"bnShiftLeft");function cxt(e){var t=Xi();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}o(cxt,"bnShiftRight");function uxt(e){if(e==0)return-1;var t=0;return(e&65535)==0&&(e>>=16,t+=16),(e&255)==0&&(e>>=8,t+=8),(e&15)==0&&(e>>=4,t+=4),(e&3)==0&&(e>>=2,t+=2),(e&1)==0&&++t,t}o(uxt,"lbit");function fxt(){for(var e=0;e<this.t;++e)if(this.data[e]!=0)return e*this.DB+uxt(this.data[e]);return this.s<0?this.t*this.DB:-1}o(fxt,"bnGetLowestSetBit");function dxt(e){for(var t=0;e!=0;)e&=e-1,++t;return t}o(dxt,"cbit");function mxt(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=dxt(this.data[r]^t);return e}o(mxt,"bnBitCount");function hxt(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this.data[t]&1<<e%this.DB)!=0}o(hxt,"bnTestBit");function pxt(e,t){var r=Bt.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r}o(pxt,"bnpChangeBit");function gxt(e){return this.changeBit(e,Eoe)}o(gxt,"bnSetBit");function Axt(e){return this.changeBit(e,Uke)}o(Axt,"bnClearBit");function yxt(e){return this.changeBit(e,Oke)}o(yxt,"bnFlipBit");function Cxt(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()}o(Cxt,"bnpAddTo");function xxt(e){var t=Xi();return this.addTo(e,t),t}o(xxt,"bnAdd");function Ext(e){var t=Xi();return this.subTo(e,t),t}o(Ext,"bnSubtract");function bxt(e){var t=Xi();return this.multiplyTo(e,t),t}o(bxt,"bnMultiply");function vxt(e){var t=Xi();return this.divRemTo(e,t,null),t}o(vxt,"bnDivide");function Ixt(e){var t=Xi();return this.divRemTo(e,null,t),t}o(Ixt,"bnRemainder");function Txt(e){var t=Xi(),r=Xi();return this.divRemTo(e,t,r),new Array(t,r)}o(Txt,"bnDivideAndRemainder");function wxt(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}o(wxt,"bnpDMultiply");function Sxt(e,t){if(e!=0){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}}o(Sxt,"bnpDAddOffset");function zS(){}o(zS,"NullExp");function qke(e){return e}o(qke,"nNop");function _xt(e,t,r){e.multiplyTo(t,r)}o(_xt,"nMulTo");function kxt(e,t){e.squareTo(t)}o(kxt,"nSqrTo");zS.prototype.convert=qke;zS.prototype.revert=qke;zS.prototype.mulTo=_xt;zS.prototype.sqrTo=kxt;function Bxt(e){return this.exp(e,new zS)}o(Bxt,"bnPow");function Rxt(e,t,r){var n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,e.data[n],r,n,0,this.t);for(i=Math.min(e.t,t);n<i;++n)this.am(0,e.data[n],r,n,0,t-n);r.clamp()}o(Rxt,"bnpMultiplyLowerTo");function Dxt(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)}o(Dxt,"bnpMultiplyUpperTo");function P8(e){this.r2=Xi(),this.q3=Xi(),Bt.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}o(P8,"Barrett");function Pxt(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=Xi();return e.copyTo(t),this.reduce(t),t}o(Pxt,"barrettConvert");function Fxt(e){return e}o(Fxt,"barrettRevert");function Nxt(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}o(Nxt,"barrettReduce");function Lxt(e,t){e.squareTo(t),this.reduce(t)}o(Lxt,"barrettSqrTo");function Qxt(e,t,r){e.multiplyTo(t,r),this.reduce(r)}o(Qxt,"barrettMulTo");P8.prototype.convert=Pxt;P8.prototype.revert=Fxt;P8.prototype.reduce=Nxt;P8.prototype.mulTo=Qxt;P8.prototype.sqrTo=Lxt;function Mxt(e,t){var r=e.bitLength(),n,i=ky(1),s;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?s=new ix(t):t.isEven()?s=new P8(t):s=new ox(t);var a=new Array,l=3,c=n-1,u=(1<<n)-1;if(a[1]=s.convert(this),n>1){var f=Xi();for(s.sqrTo(a[1],f);l<=u;)a[l]=Xi(),s.mulTo(f,a[l-2],a[l]),l+=2}var m=e.t-1,h,p=!0,A=Xi(),x;for(r=XU(e.data[m])-1;m>=0;){for(r>=c?h=e.data[m]>>r-c&u:(h=(e.data[m]&(1<<r+1)-1)<<c-r,m>0&&(h|=e.data[m-1]>>this.DB+r-c)),l=n;(h&1)==0;)h>>=1,--l;if((r-=l)<0&&(r+=this.DB,--m),p)a[h].copyTo(i),p=!1;else{for(;l>1;)s.sqrTo(i,A),s.sqrTo(A,i),l-=2;l>0?s.sqrTo(i,A):(x=i,i=A,A=x),s.mulTo(A,a[h],i)}for(;m>=0&&(e.data[m]&1<<r)==0;)s.sqrTo(i,A),x=i,i=A,A=x,--r<0&&(r=this.DB-1,--m)}return s.revert(i)}o(Mxt,"bnModPow");function Oxt(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return t;for(i<s&&(s=i),s>0&&(t.rShiftTo(s,t),r.rShiftTo(s,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r}o(Oxt,"bnGCD");function Uxt(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(t==0)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r}o(Uxt,"bnpModInt");function qxt(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return Bt.ZERO;for(var r=e.clone(),n=this.clone(),i=ky(1),s=ky(0),a=ky(0),l=ky(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),t?((!i.isEven()||!s.isEven())&&(i.addTo(this,i),s.subTo(e,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);for(;n.isEven();)n.rShiftTo(1,n),t?((!a.isEven()||!l.isEven())&&(a.addTo(this,a),l.subTo(e,l)),a.rShiftTo(1,a)):l.isEven()||l.subTo(e,l),l.rShiftTo(1,l);r.compareTo(n)>=0?(r.subTo(n,r),t&&i.subTo(a,i),s.subTo(l,s)):(n.subTo(r,n),t&&a.subTo(i,a),l.subTo(s,l))}if(n.compareTo(Bt.ONE)!=0)return Bt.ZERO;if(l.compareTo(e)>=0)return l.subtract(e);if(l.signum()<0)l.addTo(e,l);else return l;return l.signum()<0?l.add(e):l}o(qxt,"bnModInverse");var oh=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],Wxt=(1<<26)/oh[oh.length-1];function Gxt(e){var t,r=this.abs();if(r.t==1&&r.data[0]<=oh[oh.length-1]){for(t=0;t<oh.length;++t)if(r.data[0]==oh[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<oh.length;){for(var n=oh[t],i=t+1;i<oh.length&&n<Wxt;)n*=oh[i++];for(n=r.modInt(n);t<i;)if(n%oh[t++]==0)return!1}return r.millerRabin(e)}o(Gxt,"bnIsProbablePrime");function Hxt(e){var t=this.subtract(Bt.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n=t.shiftRight(r),i=Vxt(),s,a=0;a<e;++a){do s=new Bt(this.bitLength(),i);while(s.compareTo(Bt.ONE)<=0||s.compareTo(t)>=0);var l=s.modPow(n,this);if(l.compareTo(Bt.ONE)!=0&&l.compareTo(t)!=0){for(var c=1;c++<r&&l.compareTo(t)!=0;)if(l=l.modPowInt(2,this),l.compareTo(Bt.ONE)==0)return!1;if(l.compareTo(t)!=0)return!1}}return!0}o(Hxt,"bnpMillerRabin");function Vxt(){return{nextBytes:o(function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(Math.random()*256)},"nextBytes")}}o(Vxt,"bnGetPrng");Bt.prototype.chunkSize=j4t;Bt.prototype.toRadix=z4t;Bt.prototype.fromRadix=Y4t;Bt.prototype.fromNumber=K4t;Bt.prototype.bitwiseTo=txt;Bt.prototype.changeBit=pxt;Bt.prototype.addTo=Cxt;Bt.prototype.dMultiply=wxt;Bt.prototype.dAddOffset=Sxt;Bt.prototype.multiplyLowerTo=Rxt;Bt.prototype.multiplyUpperTo=Dxt;Bt.prototype.modInt=Uxt;Bt.prototype.millerRabin=Hxt;Bt.prototype.clone=W4t;Bt.prototype.intValue=G4t;Bt.prototype.byteValue=H4t;Bt.prototype.shortValue=V4t;Bt.prototype.signum=$4t;Bt.prototype.toByteArray=J4t;Bt.prototype.equals=X4t;Bt.prototype.min=Z4t;Bt.prototype.max=ext;Bt.prototype.and=nxt;Bt.prototype.or=ixt;Bt.prototype.xor=oxt;Bt.prototype.andNot=sxt;Bt.prototype.not=axt;Bt.prototype.shiftLeft=lxt;Bt.prototype.shiftRight=cxt;Bt.prototype.getLowestSetBit=fxt;Bt.prototype.bitCount=mxt;Bt.prototype.testBit=hxt;Bt.prototype.setBit=gxt;Bt.prototype.clearBit=Axt;Bt.prototype.flipBit=yxt;Bt.prototype.add=xxt;Bt.prototype.subtract=Ext;Bt.prototype.multiply=bxt;Bt.prototype.divide=vxt;Bt.prototype.remainder=Ixt;Bt.prototype.divideAndRemainder=Txt;Bt.prototype.modPow=Mxt;Bt.prototype.modInverse=qxt;Bt.prototype.pow=Bxt;Bt.prototype.gcd=Oxt;Bt.prototype.isProbablePrime=Gxt});var F8=V((wGr,jke)=>{d();var eg=ei();Yp();Ji();var Hke=jke.exports=eg.sha1=eg.sha1||{};eg.md.sha1=eg.md.algorithms.sha1=Hke;Hke.create=function(){Vke||jxt();var e=null,t=eg.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return t=eg.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=eg.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=a[1],a[1]=a[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),Gke(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=eg.util.createBuffer();i.putBytes(t.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=s&n.blockLength-1;i.putBytes(boe.substr(0,n.blockLength-a));for(var l,c,u=n.fullMessageLength[0]*8,f=0;f<n.fullMessageLength.length-1;++f)l=n.fullMessageLength[f+1]*8,c=l/4294967296>>>0,u+=c,i.putInt32(u>>>0),u=l>>>0;i.putInt32(u);var m={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};Gke(m,r,i);var h=eg.util.createBuffer();return h.putInt32(m.h0),h.putInt32(m.h1),h.putInt32(m.h2),h.putInt32(m.h3),h.putInt32(m.h4),h},n};var boe=null,Vke=!1;function jxt(){boe="\x80",boe+=eg.util.fillString("\0",64),Vke=!0}o(jxt,"_init");function Gke(e,t,r){for(var n,i,s,a,l,c,u,f,m=r.length();m>=64;){for(i=e.h0,s=e.h1,a=e.h2,l=e.h3,c=e.h4,f=0;f<16;++f)n=r.getInt32(),t[f]=n,u=l^s&(a^l),n=(i<<5|i>>>27)+u+c+1518500249+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<20;++f)n=t[f-3]^t[f-8]^t[f-14]^t[f-16],n=n<<1|n>>>31,t[f]=n,u=l^s&(a^l),n=(i<<5|i>>>27)+u+c+1518500249+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<32;++f)n=t[f-3]^t[f-8]^t[f-14]^t[f-16],n=n<<1|n>>>31,t[f]=n,u=s^a^l,n=(i<<5|i>>>27)+u+c+1859775393+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<40;++f)n=t[f-6]^t[f-16]^t[f-28]^t[f-32],n=n<<2|n>>>30,t[f]=n,u=s^a^l,n=(i<<5|i>>>27)+u+c+1859775393+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<60;++f)n=t[f-6]^t[f-16]^t[f-28]^t[f-32],n=n<<2|n>>>30,t[f]=n,u=s&a|l&(s^a),n=(i<<5|i>>>27)+u+c+2400959708+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<80;++f)n=t[f-6]^t[f-16]^t[f-28]^t[f-32],n=n<<2|n>>>30,t[f]=n,u=s^a^l,n=(i<<5|i>>>27)+u+c+3395469782+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+s|0,e.h2=e.h2+a|0,e.h3=e.h3+l|0,e.h4=e.h4+c|0,m-=64}}o(Gke,"_update")});var voe=V((kGr,zke)=>{d();var tg=ei();Ji();wd();F8();var $ke=zke.exports=tg.pkcs1=tg.pkcs1||{};$ke.encode_rsa_oaep=function(e,t,r){var n,i,s,a;typeof r=="string"?(n=r,i=arguments[3]||void 0,s=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md)),s?s.start():s=tg.md.sha1.create(),a||(a=s);var l=Math.ceil(e.n.bitLength()/8),c=l-2*s.digestLength-2;if(t.length>c){var u=new Error("RSAES-OAEP input message length is too long.");throw u.length=t.length,u.maxLength=c,u}n||(n=""),s.update(n,"raw");for(var f=s.digest(),m="",h=c-t.length,p=0;p<h;p++)m+="\0";var A=f.getBytes()+m+""+t;if(!i)i=tg.random.getBytes(s.digestLength);else if(i.length!==s.digestLength){var u=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw u.seedLength=i.length,u.digestLength=s.digestLength,u}var x=ZU(i,l-s.digestLength-1,a),E=tg.util.xorBytes(A,x,A.length),v=ZU(E,s.digestLength,a),b=tg.util.xorBytes(i,v,i.length);return"\0"+b+E};$ke.decode_rsa_oaep=function(e,t,r){var n,i,s;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md));var a=Math.ceil(e.n.bitLength()/8);if(t.length!==a){var E=new Error("RSAES-OAEP encoded message length is invalid.");throw E.length=t.length,E.expectedLength=a,E}if(i===void 0?i=tg.md.sha1.create():i.start(),s||(s=i),a<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var l=i.digest().getBytes(),c=t.charAt(0),u=t.substring(1,i.digestLength+1),f=t.substring(1+i.digestLength),m=ZU(f,i.digestLength,s),h=tg.util.xorBytes(u,m,u.length),p=ZU(h,a-i.digestLength-1,s),A=tg.util.xorBytes(f,p,f.length),x=A.substring(0,i.digestLength),E=c!=="\0",v=0;v<i.digestLength;++v)E|=l.charAt(v)!==x.charAt(v);for(var b=1,S=i.digestLength,B=i.digestLength;B<A.length;B++){var P=A.charCodeAt(B),F=P&1^1,q=b?65534:0;E|=P&q,b=b&F,S+=b}if(E||A.charCodeAt(S)!==1)throw new Error("Invalid RSAES-OAEP padding.");return A.substring(S+1)};function ZU(e,t,r){r||(r=tg.md.sha1.create());for(var n="",i=Math.ceil(t/r.digestLength),s=0;s<i;++s){var a=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255);r.start(),r.update(e+a),n+=r.digest().getBytes()}return n.substring(0,t)}o(ZU,"rsa_mgf1")});var Toe=V((DGr,Ioe)=>{d();var By=ei();Ji();YS();wd();(function(){if(By.prime){Ioe.exports=By.prime;return}var e=Ioe.exports=By.prime=By.prime||{},t=By.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new t(null);n.fromInt(30);var i=o(function(m,h){return m|h},"op_or");e.generateProbablePrime=function(m,h,p){typeof h=="function"&&(p=h,h={}),h=h||{};var A=h.algorithm||"PRIMEINC";typeof A=="string"&&(A={name:A}),A.options=A.options||{};var x=h.prng||By.random,E={nextBytes:o(function(v){for(var b=x.getBytesSync(v.length),S=0;S<v.length;++S)v[S]=b.charCodeAt(S)},"nextBytes")};if(A.name==="PRIMEINC")return s(m,E,A.options,p);throw new Error("Invalid prime generation algorithm: "+A.name)};function s(m,h,p,A){return"workers"in p?c(m,h,p,A):a(m,h,p,A)}o(s,"primeincFindPrime");function a(m,h,p,A){var x=u(m,h),E=0,v=f(x.bitLength());"millerRabinTests"in p&&(v=p.millerRabinTests);var b=10;"maxBlockTime"in p&&(b=p.maxBlockTime),l(x,m,h,E,v,b,A)}o(a,"primeincFindPrimeWithoutWorkers");function l(m,h,p,A,x,E,v){var b=+new Date;do{if(m.bitLength()>h&&(m=u(h,p)),m.isProbablePrime(x))return v(null,m);m.dAddOffset(r[A++%8],0)}while(E<0||+new Date-b<E);By.util.setImmediate(function(){l(m,h,p,A,x,E,v)})}o(l,"_primeinc");function c(m,h,p,A){if(typeof Worker>"u")return a(m,h,p,A);var x=u(m,h),E=p.workers,v=p.workLoad||100,b=v*30/8,S=p.workerScript||"forge/prime.worker.js";if(E===-1)return By.util.estimateCores(function(P,F){P&&(F=2),E=F-1,B()});B();function B(){E=Math.max(1,E);for(var P=[],F=0;F<E;++F)P[F]=new Worker(S);for(var q=E,F=0;F<E;++F)P[F].addEventListener("message",ce);var ne=!1;function ce(Z){if(!ne){--q;var G=Z.data;if(G.found){for(var U=0;U<P.length;++U)P[U].terminate();return ne=!0,A(null,new t(G.prime,16))}x.bitLength()>m&&(x=u(m,h));var ie=x.toString(16);Z.target.postMessage({hex:ie,workLoad:v}),x.dAddOffset(b,0)}}o(ce,"workerMessage")}o(B,"generate")}o(c,"primeincFindPrimeWithWorkers");function u(m,h){var p=new t(m,h),A=m-1;return p.testBit(A)||p.bitwiseTo(t.ONE.shiftLeft(A),i,p),p.dAddOffset(31-p.mod(n).byteValue(),0),p}o(u,"generateRandom");function f(m){return m<=100?27:m<=150?18:m<=200?15:m<=250?12:m<=300?9:m<=350?8:m<=400?7:m<=500?6:m<=600?5:m<=800?4:m<=1250?3:2}o(f,"getMillerRabinTests")})()});var KS=V((NGr,tBe)=>{d();var Xr=ei();ih();YS();_y();voe();Toe();wd();Ji();typeof Wi>"u"&&(Wi=Xr.jsbn.BigInteger);var Wi,woe=Xr.util.isNodejs?require("crypto"):null,$e=Xr.asn1,_d=Xr.util;Xr.pki=Xr.pki||{};tBe.exports=Xr.pki.rsa=Xr.rsa=Xr.rsa||{};var Wn=Xr.pki,$xt=[6,4,2,4,2,4,6,2],zxt={name:"PrivateKeyInfo",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:$e.Class.UNIVERSAL,type:$e.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:$e.Class.UNIVERSAL,type:$e.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},Yxt={name:"RSAPrivateKey",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},Kxt={name:"RSAPublicKey",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},Jxt=Xr.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:$e.Class.UNIVERSAL,type:$e.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:$e.Class.UNIVERSAL,type:$e.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},Xxt={name:"DigestInfo",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:$e.Class.UNIVERSAL,type:$e.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:$e.Class.UNIVERSAL,type:$e.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:$e.Class.UNIVERSAL,type:$e.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},Zxt=o(function(e){var t;if(e.algorithm in Wn.oids)t=Wn.oids[e.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}var n=$e.oidToDer(t).getBytes(),i=$e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[]),s=$e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[]);s.value.push($e.create($e.Class.UNIVERSAL,$e.Type.OID,!1,n)),s.value.push($e.create($e.Class.UNIVERSAL,$e.Type.NULL,!1,""));var a=$e.create($e.Class.UNIVERSAL,$e.Type.OCTETSTRING,!1,e.digest().getBytes());return i.value.push(s),i.value.push(a),$e.toDer(i).getBytes()},"emsaPkcs1v15encode"),Zke=o(function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);t.dP||(t.dP=t.d.mod(t.p.subtract(Wi.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(Wi.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));var n;do n=new Wi(Xr.util.bytesToHex(Xr.random.getBytes(t.n.bitLength()/8)),16);while(n.compareTo(t.n)>=0||!n.gcd(t.n).equals(Wi.ONE));e=e.multiply(n.modPow(t.e,t.n)).mod(t.n);for(var i=e.mod(t.p).modPow(t.dP,t.p),s=e.mod(t.q).modPow(t.dQ,t.q);i.compareTo(s)<0;)i=i.add(t.p);var a=i.subtract(s).multiply(t.qInv).mod(t.p).multiply(t.q).add(s);return a=a.multiply(n.modInverse(t.n)).mod(t.n),a},"_modPow");Wn.rsa.encrypt=function(e,t,r){var n=r,i,s=Math.ceil(t.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=eBe(e,t,r)):(i=Xr.util.createBuffer(),i.putBytes(e));for(var a=new Wi(i.toHex(),16),l=Zke(a,t,n),c=l.toString(16),u=Xr.util.createBuffer(),f=s-Math.ceil(c.length/2);f>0;)u.putByte(0),--f;return u.putBytes(Xr.util.hexToBytes(c)),u.getBytes()};Wn.rsa.decrypt=function(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8);if(e.length!==i){var s=new Error("Encrypted message length is invalid.");throw s.length=e.length,s.expected=i,s}var a=new Wi(Xr.util.createBuffer(e).toHex(),16);if(a.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var l=Zke(a,t,r),c=l.toString(16),u=Xr.util.createBuffer(),f=i-Math.ceil(c.length/2);f>0;)u.putByte(0),--f;return u.putBytes(Xr.util.hexToBytes(c)),n!==!1?eq(u.getBytes(),t,r):u.getBytes()};Wn.rsa.createKeyPairGenerationState=function(e,t,r){typeof e=="string"&&(e=parseInt(e,10)),e=e||2048,r=r||{};var n=r.prng||Xr.random,i={nextBytes:o(function(l){for(var c=n.getBytesSync(l.length),u=0;u<l.length;++u)l[u]=c.charCodeAt(u)},"nextBytes")},s=r.algorithm||"PRIMEINC",a;if(s==="PRIMEINC")a={algorithm:s,state:0,bits:e,rng:i,eInt:t||65537,e:new Wi(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null},a.e.fromInt(a.eInt);else throw new Error("Invalid key generation algorithm: "+s);return a};Wn.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new Wi(null);r.fromInt(30);for(var n=0,i=o(function(m,h){return m|h},"op_or"),s=+new Date,a,l=0;e.keys===null&&(t<=0||l<t);){if(e.state===0){var c=e.p===null?e.pBits:e.qBits,u=c-1;e.pqState===0?(e.num=new Wi(c,e.rng),e.num.testBit(u)||e.num.bitwiseTo(Wi.ONE.shiftLeft(u),i,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),n=0,++e.pqState):e.pqState===1?e.num.bitLength()>c?e.pqState=0:e.num.isProbablePrime(tEt(e.num.bitLength()))?++e.pqState:e.num.dAddOffset($xt[n++%8],0):e.pqState===2?e.pqState=e.num.subtract(Wi.ONE).gcd(e.e).compareTo(Wi.ONE)===0?3:0:e.pqState===3&&(e.pqState=0,e.p===null?e.p=e.num:e.q=e.num,e.p!==null&&e.q!==null&&++e.state,e.num=null)}else if(e.state===1)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(e.state===2)e.p1=e.p.subtract(Wi.ONE),e.q1=e.q.subtract(Wi.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(e.state===3)e.phi.gcd(e.e).compareTo(Wi.ONE)===0?++e.state:(e.p=null,e.q=null,e.state=0);else if(e.state===4)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(e.state===5){var f=e.e.modInverse(e.phi);e.keys={privateKey:Wn.rsa.setPrivateKey(e.n,e.e,f,e.p,e.q,f.mod(e.p1),f.mod(e.q1),e.q.modInverse(e.p)),publicKey:Wn.rsa.setPublicKey(e.n,e.e)}}a=+new Date,l+=a-s,s=a}return e.keys!==null};Wn.rsa.generateKeyPair=function(e,t,r,n){if(arguments.length===1?typeof e=="object"?(r=e,e=void 0):typeof e=="function"&&(n=e,e=void 0):arguments.length===2?typeof e=="number"?typeof t=="function"?(n=t,t=void 0):typeof t!="number"&&(r=t,t=void 0):(r=e,n=t,e=void 0,t=void 0):arguments.length===3&&(typeof t=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=t,t=void 0)),r=r||{},e===void 0&&(e=r.bits||2048),t===void 0&&(t=r.e||65537),!Xr.options.usePureJavaScript&&!r.prng&&e>=256&&e<=16384&&(t===65537||t===3)){if(n){if(Yke("generateKeyPair"))return woe.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(l,c,u){if(l)return n(l);n(null,{privateKey:Wn.privateKeyFromPem(u),publicKey:Wn.publicKeyFromPem(c)})});if(Kke("generateKey")&&Kke("exportKey"))return _d.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:Xke(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(l){return _d.globalScope.crypto.subtle.exportKey("pkcs8",l.privateKey)}).then(void 0,function(l){n(l)}).then(function(l){if(l){var c=Wn.privateKeyFromAsn1($e.fromDer(Xr.util.createBuffer(l)));n(null,{privateKey:c,publicKey:Wn.setRsaPublicKey(c.n,c.e)})}});if(Jke("generateKey")&&Jke("exportKey")){var i=_d.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:Xke(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(l){var c=l.target.result,u=_d.globalScope.msCrypto.subtle.exportKey("pkcs8",c.privateKey);u.oncomplete=function(f){var m=f.target.result,h=Wn.privateKeyFromAsn1($e.fromDer(Xr.util.createBuffer(m)));n(null,{privateKey:h,publicKey:Wn.setRsaPublicKey(h.n,h.e)})},u.onerror=function(f){n(f)}},i.onerror=function(l){n(l)};return}}else if(Yke("generateKeyPairSync")){var s=woe.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:Wn.privateKeyFromPem(s.privateKey),publicKey:Wn.publicKeyFromPem(s.publicKey)}}}var a=Wn.rsa.createKeyPairGenerationState(e,t,r);if(!n)return Wn.rsa.stepKeyPairGenerationState(a,0),a.keys;eEt(a,r,n)};Wn.setRsaPublicKey=Wn.rsa.setPublicKey=function(e,t){var r={n:e,e:t};return r.encrypt=function(n,i,s){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:o(function(l,c,u){return eBe(l,c,2).getBytes()},"encode")};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:o(function(l,c){return Xr.pkcs1.encode_rsa_oaep(c,l,s)},"encode")};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:o(function(l){return l},"encode")};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var a=i.encode(n,r,!0);return Wn.rsa.encrypt(a,r,!0)},r.verify=function(n,i,s,a){typeof s=="string"?s=s.toUpperCase():s===void 0&&(s="RSASSA-PKCS1-V1_5"),a===void 0&&(a={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in a||(a._parseAllDigestBytes=!0),s==="RSASSA-PKCS1-V1_5"?s={verify:o(function(c,u){u=eq(u,r,!0);var f=$e.fromDer(u,{parseAllBytes:a._parseAllDigestBytes}),m={},h=[];if(!$e.validate(f,Xxt,m,h)){var p=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw p.errors=h,p}var A=$e.derToOid(m.algorithmIdentifier);if(!(A===Xr.oids.md2||A===Xr.oids.md5||A===Xr.oids.sha1||A===Xr.oids.sha224||A===Xr.oids.sha256||A===Xr.oids.sha384||A===Xr.oids.sha512||A===Xr.oids["sha512-224"]||A===Xr.oids["sha512-256"])){var p=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw p.oid=A,p}if((A===Xr.oids.md2||A===Xr.oids.md5)&&!("parameters"in m))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return c===m.digest},"verify")}:(s==="NONE"||s==="NULL"||s===null)&&(s={verify:o(function(c,u){return u=eq(u,r,!0),c===u},"verify")});var l=Wn.rsa.decrypt(i,r,!0,!1);return s.verify(n,l,r.n.bitLength())},r};Wn.setRsaPrivateKey=Wn.rsa.setPrivateKey=function(e,t,r,n,i,s,a,l){var c={n:e,e:t,d:r,p:n,q:i,dP:s,dQ:a,qInv:l};return c.decrypt=function(u,f,m){typeof f=="string"?f=f.toUpperCase():f===void 0&&(f="RSAES-PKCS1-V1_5");var h=Wn.rsa.decrypt(u,c,!1,!1);if(f==="RSAES-PKCS1-V1_5")f={decode:eq};else if(f==="RSA-OAEP"||f==="RSAES-OAEP")f={decode:o(function(p,A){return Xr.pkcs1.decode_rsa_oaep(A,p,m)},"decode")};else if(["RAW","NONE","NULL",null].indexOf(f)!==-1)f={decode:o(function(p){return p},"decode")};else throw new Error('Unsupported encryption scheme: "'+f+'".');return f.decode(h,c,!1)},c.sign=function(u,f){var m=!1;typeof f=="string"&&(f=f.toUpperCase()),f===void 0||f==="RSASSA-PKCS1-V1_5"?(f={encode:Zxt},m=1):(f==="NONE"||f==="NULL"||f===null)&&(f={encode:o(function(){return u},"encode")},m=1);var h=f.encode(u,c.n.bitLength());return Wn.rsa.encrypt(h,c,m)},c};Wn.wrapRsaPrivateKey=function(e){return $e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,$e.integerToDer(0).getBytes()),$e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[$e.create($e.Class.UNIVERSAL,$e.Type.OID,!1,$e.oidToDer(Wn.oids.rsaEncryption).getBytes()),$e.create($e.Class.UNIVERSAL,$e.Type.NULL,!1,"")]),$e.create($e.Class.UNIVERSAL,$e.Type.OCTETSTRING,!1,$e.toDer(e).getBytes())])};Wn.privateKeyFromAsn1=function(e){var t={},r=[];if($e.validate(e,zxt,t,r)&&(e=$e.fromDer(Xr.util.createBuffer(t.privateKey))),t={},r=[],!$e.validate(e,Yxt,t,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,s,a,l,c,u,f,m;return i=Xr.util.createBuffer(t.privateKeyModulus).toHex(),s=Xr.util.createBuffer(t.privateKeyPublicExponent).toHex(),a=Xr.util.createBuffer(t.privateKeyPrivateExponent).toHex(),l=Xr.util.createBuffer(t.privateKeyPrime1).toHex(),c=Xr.util.createBuffer(t.privateKeyPrime2).toHex(),u=Xr.util.createBuffer(t.privateKeyExponent1).toHex(),f=Xr.util.createBuffer(t.privateKeyExponent2).toHex(),m=Xr.util.createBuffer(t.privateKeyCoefficient).toHex(),Wn.setRsaPrivateKey(new Wi(i,16),new Wi(s,16),new Wi(a,16),new Wi(l,16),new Wi(c,16),new Wi(u,16),new Wi(f,16),new Wi(m,16))};Wn.privateKeyToAsn1=Wn.privateKeyToRSAPrivateKey=function(e){return $e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,$e.integerToDer(0).getBytes()),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,rg(e.n)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,rg(e.e)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,rg(e.d)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,rg(e.p)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,rg(e.q)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,rg(e.dP)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,rg(e.dQ)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,rg(e.qInv))])};Wn.publicKeyFromAsn1=function(e){var t={},r=[];if($e.validate(e,Jxt,t,r)){var n=$e.derToOid(t.publicKeyOid);if(n!==Wn.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}e=t.rsaPublicKey}if(r=[],!$e.validate(e,Kxt,t,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var s=Xr.util.createBuffer(t.publicKeyModulus).toHex(),a=Xr.util.createBuffer(t.publicKeyExponent).toHex();return Wn.setRsaPublicKey(new Wi(s,16),new Wi(a,16))};Wn.publicKeyToAsn1=Wn.publicKeyToSubjectPublicKeyInfo=function(e){return $e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[$e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[$e.create($e.Class.UNIVERSAL,$e.Type.OID,!1,$e.oidToDer(Wn.oids.rsaEncryption).getBytes()),$e.create($e.Class.UNIVERSAL,$e.Type.NULL,!1,"")]),$e.create($e.Class.UNIVERSAL,$e.Type.BITSTRING,!1,[Wn.publicKeyToRSAPublicKey(e)])])};Wn.publicKeyToRSAPublicKey=function(e){return $e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,rg(e.n)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,rg(e.e))])};function eBe(e,t,r){var n=Xr.util.createBuffer(),i=Math.ceil(t.n.bitLength()/8);if(e.length>i-11){var s=new Error("Message is too long for PKCS#1 v1.5 padding.");throw s.length=e.length,s.max=i-11,s}n.putByte(0),n.putByte(r);var a=i-3-e.length,l;if(r===0||r===1){l=r===0?0:255;for(var c=0;c<a;++c)n.putByte(l)}else for(;a>0;){for(var u=0,f=Xr.random.getBytes(a),c=0;c<a;++c)l=f.charCodeAt(c),l===0?++u:n.putByte(l);a=u}return n.putByte(0),n.putBytes(e),n}o(eBe,"_encodePkcs1_v1_5");function eq(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8),s=Xr.util.createBuffer(e),a=s.getByte(),l=s.getByte();if(a!==0||r&&l!==0&&l!==1||!r&&l!=2||r&&l===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var c=0;if(l===0){c=i-3-n;for(var u=0;u<c;++u)if(s.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(l===1)for(c=0;s.length()>1;){if(s.getByte()!==255){--s.read;break}++c}else if(l===2)for(c=0;s.length()>1;){if(s.getByte()===0){--s.read;break}++c}var f=s.getByte();if(f!==0||c!==i-3-s.length())throw new Error("Encryption block is invalid.");return s.getBytes()}o(eq,"_decodePkcs1_v1_5");function eEt(e,t,r){typeof t=="function"&&(r=t,t={}),t=t||{};var n={algorithm:{name:t.algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};"prng"in t&&(n.prng=t.prng),i();function i(){s(e.pBits,function(l,c){if(l)return r(l);if(e.p=c,e.q!==null)return a(l,e.q);s(e.qBits,a)})}o(i,"generate");function s(l,c){Xr.prime.generateProbablePrime(l,n,c)}o(s,"getPrime");function a(l,c){if(l)return r(l);if(e.q=c,e.p.compareTo(e.q)<0){var u=e.p;e.p=e.q,e.q=u}if(e.p.subtract(Wi.ONE).gcd(e.e).compareTo(Wi.ONE)!==0){e.p=null,i();return}if(e.q.subtract(Wi.ONE).gcd(e.e).compareTo(Wi.ONE)!==0){e.q=null,s(e.qBits,a);return}if(e.p1=e.p.subtract(Wi.ONE),e.q1=e.q.subtract(Wi.ONE),e.phi=e.p1.multiply(e.q1),e.phi.gcd(e.e).compareTo(Wi.ONE)!==0){e.p=e.q=null,i();return}if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits){e.q=null,s(e.qBits,a);return}var f=e.e.modInverse(e.phi);e.keys={privateKey:Wn.rsa.setPrivateKey(e.n,e.e,f,e.p,e.q,f.mod(e.p1),f.mod(e.q1),e.q.modInverse(e.p)),publicKey:Wn.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}o(a,"finish")}o(eEt,"_generateKeyPair");function rg(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=Xr.util.hexToBytes(t);return r.length>1&&(r.charCodeAt(0)===0&&(r.charCodeAt(1)&128)===0||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}o(rg,"_bnToBytes");function tEt(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}o(tEt,"_getMillerRabinTests");function Yke(e){return Xr.util.isNodejs&&typeof woe[e]=="function"}o(Yke,"_detectNodeCrypto");function Kke(e){return typeof _d.globalScope<"u"&&typeof _d.globalScope.crypto=="object"&&typeof _d.globalScope.crypto.subtle=="object"&&typeof _d.globalScope.crypto.subtle[e]=="function"}o(Kke,"_detectSubtleCrypto");function Jke(e){return typeof _d.globalScope<"u"&&typeof _d.globalScope.msCrypto=="object"&&typeof _d.globalScope.msCrypto.subtle=="object"&&typeof _d.globalScope.msCrypto.subtle[e]=="function"}o(Jke,"_detectSubtleMsCrypto");function Xke(e){for(var t=Xr.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}o(Xke,"_intToUint8Array")});var Soe=V((MGr,sBe)=>{d();var vr=ei();Sy();ih();$S();Yp();_y();YU();nx();wd();yoe();KS();Ji();typeof rBe>"u"&&(rBe=vr.jsbn.BigInteger);var rBe,mt=vr.asn1,Kn=vr.pki=vr.pki||{};sBe.exports=Kn.pbe=vr.pbe=vr.pbe||{};var sx=Kn.oids,rEt={name:"EncryptedPrivateKeyInfo",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},nEt={name:"PBES2Algorithms",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:mt.Class.UNIVERSAL,type:mt.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:mt.Class.UNIVERSAL,type:mt.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},iEt={name:"pkcs-12PbeParams",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:mt.Class.UNIVERSAL,type:mt.Type.INTEGER,constructed:!1,capture:"iterations"}]};Kn.encryptPrivateKeyInfo=function(e,t,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=vr.random.getBytesSync(r.saltSize),i=r.count,s=mt.integerToDer(i),a,l,c;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var u,f,m;switch(r.algorithm){case"aes128":a=16,u=16,f=sx["aes128-CBC"],m=vr.aes.createEncryptionCipher;break;case"aes192":a=24,u=16,f=sx["aes192-CBC"],m=vr.aes.createEncryptionCipher;break;case"aes256":a=32,u=16,f=sx["aes256-CBC"],m=vr.aes.createEncryptionCipher;break;case"des":a=8,u=8,f=sx.desCBC,m=vr.des.createEncryptionCipher;break;default:var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var p="hmacWith"+r.prfAlgorithm.toUpperCase(),A=oBe(p),x=vr.pkcs5.pbkdf2(t,n,i,a,A),E=vr.random.getBytesSync(u),v=m(x);v.start(E),v.update(mt.toDer(e)),v.finish(),c=v.output.getBytes();var b=oEt(n,s,a,p);l=mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.OID,!1,mt.oidToDer(sx.pkcs5PBES2).getBytes()),mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.OID,!1,mt.oidToDer(sx.pkcs5PBKDF2).getBytes()),b]),mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.OID,!1,mt.oidToDer(f).getBytes()),mt.create(mt.Class.UNIVERSAL,mt.Type.OCTETSTRING,!1,E)])])])}else if(r.algorithm==="3des"){a=24;var S=new vr.util.ByteBuffer(n),x=Kn.pbe.generatePkcs12Key(t,S,1,i,a),E=Kn.pbe.generatePkcs12Key(t,S,2,i,a),v=vr.des.createEncryptionCipher(x);v.start(E),v.update(mt.toDer(e)),v.finish(),c=v.output.getBytes(),l=mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.OID,!1,mt.oidToDer(sx["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.OCTETSTRING,!1,n),mt.create(mt.Class.UNIVERSAL,mt.Type.INTEGER,!1,s.getBytes())])])}else{var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var B=mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[l,mt.create(mt.Class.UNIVERSAL,mt.Type.OCTETSTRING,!1,c)]);return B};Kn.decryptPrivateKeyInfo=function(e,t){var r=null,n={},i=[];if(!mt.validate(e,rEt,n,i)){var s=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var a=mt.derToOid(n.encryptionOid),l=Kn.pbe.getCipher(a,n.encryptionParams,t),c=vr.util.createBuffer(n.encryptedData);return l.update(c),l.finish()&&(r=mt.fromDer(l.output)),r};Kn.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:mt.toDer(e).getBytes()};return vr.pem.encode(r,{maxline:t})};Kn.encryptedPrivateKeyFromPem=function(e){var t=vr.pem.decode(e)[0];if(t.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return mt.fromDer(t.body)};Kn.encryptRsaPrivateKey=function(e,t,r){if(r=r||{},!r.legacy){var n=Kn.wrapRsaPrivateKey(Kn.privateKeyToAsn1(e));return n=Kn.encryptPrivateKeyInfo(n,t,r),Kn.encryptedPrivateKeyToPem(n)}var i,s,a,l;switch(r.algorithm){case"aes128":i="AES-128-CBC",a=16,s=vr.random.getBytesSync(16),l=vr.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",a=24,s=vr.random.getBytesSync(16),l=vr.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",a=32,s=vr.random.getBytesSync(16),l=vr.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",a=24,s=vr.random.getBytesSync(8),l=vr.des.createEncryptionCipher;break;case"des":i="DES-CBC",a=8,s=vr.random.getBytesSync(8),l=vr.des.createEncryptionCipher;break;default:var c=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw c.algorithm=r.algorithm,c}var u=vr.pbe.opensslDeriveBytes(t,s.substr(0,8),a),f=l(u);f.start(s),f.update(mt.toDer(Kn.privateKeyToAsn1(e))),f.finish();var m={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:vr.util.bytesToHex(s).toUpperCase()},body:f.output.getBytes()};return vr.pem.encode(m)};Kn.decryptRsaPrivateKey=function(e,t){var r=null,n=vr.pem.decode(e)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var s,a;switch(n.dekInfo.algorithm){case"DES-CBC":s=8,a=vr.des.createDecryptionCipher;break;case"DES-EDE3-CBC":s=24,a=vr.des.createDecryptionCipher;break;case"AES-128-CBC":s=16,a=vr.aes.createDecryptionCipher;break;case"AES-192-CBC":s=24,a=vr.aes.createDecryptionCipher;break;case"AES-256-CBC":s=32,a=vr.aes.createDecryptionCipher;break;case"RC2-40-CBC":s=5,a=o(function(m){return vr.rc2.createDecryptionCipher(m,40)},"cipherFn");break;case"RC2-64-CBC":s=8,a=o(function(m){return vr.rc2.createDecryptionCipher(m,64)},"cipherFn");break;case"RC2-128-CBC":s=16,a=o(function(m){return vr.rc2.createDecryptionCipher(m,128)},"cipherFn");break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var l=vr.util.hexToBytes(n.dekInfo.parameters),c=vr.pbe.opensslDeriveBytes(t,l.substr(0,8),s),u=a(c);if(u.start(l),u.update(vr.util.createBuffer(n.body)),u.finish())r=u.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=Kn.decryptPrivateKeyInfo(mt.fromDer(r),t):r=mt.fromDer(r),r!==null&&(r=Kn.privateKeyFromAsn1(r)),r};Kn.pbe.generatePkcs12Key=function(e,t,r,n,i,s){var a,l;if(typeof s>"u"||s===null){if(!("sha1"in vr.md))throw new Error('"sha1" hash algorithm unavailable.');s=vr.md.sha1.create()}var c=s.digestLength,u=s.blockLength,f=new vr.util.ByteBuffer,m=new vr.util.ByteBuffer;if(e!=null){for(l=0;l<e.length;l++)m.putInt16(e.charCodeAt(l));m.putInt16(0)}var h=m.length(),p=t.length(),A=new vr.util.ByteBuffer;A.fillWithByte(r,u);var x=u*Math.ceil(p/u),E=new vr.util.ByteBuffer;for(l=0;l<x;l++)E.putByte(t.at(l%p));var v=u*Math.ceil(h/u),b=new vr.util.ByteBuffer;for(l=0;l<v;l++)b.putByte(m.at(l%h));var S=E;S.putBuffer(b);for(var B=Math.ceil(i/c),P=1;P<=B;P++){var F=new vr.util.ByteBuffer;F.putBytes(A.bytes()),F.putBytes(S.bytes());for(var q=0;q<n;q++)s.start(),s.update(F.getBytes()),F=s.digest();var ne=new vr.util.ByteBuffer;for(l=0;l<u;l++)ne.putByte(F.at(l%c));var ce=Math.ceil(p/u)+Math.ceil(h/u),Z=new vr.util.ByteBuffer;for(a=0;a<ce;a++){var G=new vr.util.ByteBuffer(S.getBytes(u)),U=511;for(l=ne.length()-1;l>=0;l--)U=U>>8,U+=ne.at(l)+G.at(l),G.setAt(l,U&255);Z.putBuffer(G)}S=Z,f.putBuffer(F)}return f.truncate(f.length()-i),f};Kn.pbe.getCipher=function(e,t,r){switch(e){case Kn.oids.pkcs5PBES2:return Kn.pbe.getCipherForPBES2(e,t,r);case Kn.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case Kn.oids["pbewithSHAAnd40BitRC2-CBC"]:return Kn.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};Kn.pbe.getCipherForPBES2=function(e,t,r){var n={},i=[];if(!mt.validate(t,nEt,n,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}if(e=mt.derToOid(n.kdfOid),e!==Kn.oids.pkcs5PBKDF2){var s=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw s.oid=e,s.supportedOids=["pkcs5PBKDF2"],s}if(e=mt.derToOid(n.encOid),e!==Kn.oids["aes128-CBC"]&&e!==Kn.oids["aes192-CBC"]&&e!==Kn.oids["aes256-CBC"]&&e!==Kn.oids["des-EDE3-CBC"]&&e!==Kn.oids.desCBC){var s=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw s.oid=e,s.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],s}var a=n.kdfSalt,l=vr.util.createBuffer(n.kdfIterationCount);l=l.getInt(l.length()<<3);var c,u;switch(Kn.oids[e]){case"aes128-CBC":c=16,u=vr.aes.createDecryptionCipher;break;case"aes192-CBC":c=24,u=vr.aes.createDecryptionCipher;break;case"aes256-CBC":c=32,u=vr.aes.createDecryptionCipher;break;case"des-EDE3-CBC":c=24,u=vr.des.createDecryptionCipher;break;case"desCBC":c=8,u=vr.des.createDecryptionCipher;break}var f=iBe(n.prfOid),m=vr.pkcs5.pbkdf2(r,a,l,c,f),h=n.encIv,p=u(m);return p.start(h),p};Kn.pbe.getCipherForPKCS12PBE=function(e,t,r){var n={},i=[];if(!mt.validate(t,iEt,n,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var a=vr.util.createBuffer(n.salt),l=vr.util.createBuffer(n.iterations);l=l.getInt(l.length()<<3);var c,u,f;switch(e){case Kn.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:c=24,u=8,f=vr.des.startDecrypting;break;case Kn.oids["pbewithSHAAnd40BitRC2-CBC"]:c=5,u=8,f=o(function(x,E){var v=vr.rc2.createDecryptionCipher(x,40);return v.start(E,null),v},"cipherFn");break;default:var s=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw s.oid=e,s}var m=iBe(n.prfOid),h=Kn.pbe.generatePkcs12Key(r,a,1,l,c,m);m.start();var p=Kn.pbe.generatePkcs12Key(r,a,2,l,u,m);return f(h,p)};Kn.pbe.opensslDeriveBytes=function(e,t,r,n){if(typeof n>"u"||n===null){if(!("md5"in vr.md))throw new Error('"md5" hash algorithm unavailable.');n=vr.md.md5.create()}t===null&&(t="");for(var i=[nBe(n,e+t)],s=16,a=1;s<r;++a,s+=16)i.push(nBe(n,i[a-1]+e+t));return i.join("").substr(0,r)};function nBe(e,t){return e.start().update(t).digest().getBytes()}o(nBe,"hash");function iBe(e){var t;if(!e)t="hmacWithSHA1";else if(t=Kn.oids[mt.derToOid(e)],!t){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return oBe(t)}o(iBe,"prfOidToMessageDigest");function oBe(e){var t=vr.md;switch(e){case"hmacWithSHA224":t=vr.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}o(oBe,"prfAlgorithmToMessageDigest");function oEt(e,t,r,n){var i=mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.OCTETSTRING,!1,e),mt.create(mt.Class.UNIVERSAL,mt.Type.INTEGER,!1,t.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(mt.create(mt.Class.UNIVERSAL,mt.Type.INTEGER,!1,vr.util.hexToBytes(r.toString(16))),mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.OID,!1,mt.oidToDer(Kn.oids[n]).getBytes()),mt.create(mt.Class.UNIVERSAL,mt.Type.NULL,!1,"")])),i}o(oEt,"createPbkdf2Params")});var _oe=V((qGr,cBe)=>{d();var N8=ei();ih();Ji();var xr=N8.asn1,L8=cBe.exports=N8.pkcs7asn1=N8.pkcs7asn1||{};N8.pkcs7=N8.pkcs7||{};N8.pkcs7.asn1=L8;var aBe={name:"ContentInfo",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:xr.Class.UNIVERSAL,type:xr.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:xr.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};L8.contentInfoValidator=aBe;var lBe={name:"EncryptedContentInfo",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:xr.Class.UNIVERSAL,type:xr.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:xr.Class.UNIVERSAL,type:xr.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:xr.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:xr.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};L8.envelopedDataValidator={name:"EnvelopedData",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:xr.Class.UNIVERSAL,type:xr.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(lBe)};L8.encryptedDataValidator={name:"EncryptedData",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:xr.Class.UNIVERSAL,type:xr.Type.INTEGER,constructed:!1,capture:"version"}].concat(lBe)};var sEt={name:"SignerInfo",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:xr.Class.UNIVERSAL,type:xr.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:xr.Class.UNIVERSAL,type:xr.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:xr.Class.UNIVERSAL,type:xr.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:xr.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:xr.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:xr.Class.UNIVERSAL,type:xr.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:xr.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};L8.signedDataValidator={name:"SignedData",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:xr.Class.UNIVERSAL,type:xr.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},aBe,{name:"SignedData.Certificates",tagClass:xr.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:xr.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SET,capture:"signerInfos",optional:!0,value:[sEt]}]};L8.recipientInfoValidator={name:"RecipientInfo",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:xr.Class.UNIVERSAL,type:xr.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:xr.Class.UNIVERSAL,type:xr.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:xr.Class.UNIVERSAL,type:xr.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:xr.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:xr.Class.UNIVERSAL,type:xr.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}});var koe=V((GGr,uBe)=>{d();var ax=ei();Ji();ax.mgf=ax.mgf||{};var aEt=uBe.exports=ax.mgf.mgf1=ax.mgf1=ax.mgf1||{};aEt.create=function(e){var t={generate:o(function(r,n){for(var i=new ax.util.ByteBuffer,s=Math.ceil(n/e.digestLength),a=0;a<s;a++){var l=new ax.util.ByteBuffer;l.putInt32(a),e.start(),e.update(r+l.getBytes()),i.putBuffer(e.digest())}return i.truncate(i.length()-n),i.getBytes()},"generate")};return t}});var dBe=V((jGr,fBe)=>{d();var tq=ei();koe();fBe.exports=tq.mgf=tq.mgf||{};tq.mgf.mgf1=tq.mgf1});var rq=V((zGr,mBe)=>{d();var lx=ei();wd();Ji();var lEt=mBe.exports=lx.pss=lx.pss||{};lEt.create=function(e){arguments.length===3&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t=e.md,r=e.mgf,n=t.digestLength,i=e.salt||null;typeof i=="string"&&(i=lx.util.createBuffer(i));var s;if("saltLength"in e)s=e.saltLength;else if(i!==null)s=i.length();else throw new Error("Salt length not specified or specific salt not given.");if(i!==null&&i.length()!==s)throw new Error("Given salt length does not match length of given salt.");var a=e.prng||lx.random,l={};return l.encode=function(c,u){var f,m=u-1,h=Math.ceil(m/8),p=c.digest().getBytes();if(h<n+s+2)throw new Error("Message is too long to encrypt.");var A;i===null?A=a.getBytesSync(s):A=i.bytes();var x=new lx.util.ByteBuffer;x.fillWithByte(0,8),x.putBytes(p),x.putBytes(A),t.start(),t.update(x.getBytes());var E=t.digest().getBytes(),v=new lx.util.ByteBuffer;v.fillWithByte(0,h-s-n-2),v.putByte(1),v.putBytes(A);var b=v.getBytes(),S=h-n-1,B=r.generate(E,S),P="";for(f=0;f<S;f++)P+=String.fromCharCode(b.charCodeAt(f)^B.charCodeAt(f));var F=65280>>8*h-m&255;return P=String.fromCharCode(P.charCodeAt(0)&~F)+P.substr(1),P+E+"\xBC"},l.verify=function(c,u,f){var m,h=f-1,p=Math.ceil(h/8);if(u=u.substr(-p),p<n+s+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(u.charCodeAt(p-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var A=p-n-1,x=u.substr(0,A),E=u.substr(A,n),v=65280>>8*p-h&255;if((x.charCodeAt(0)&v)!==0)throw new Error("Bits beyond keysize not zero as expected.");var b=r.generate(E,A),S="";for(m=0;m<A;m++)S+=String.fromCharCode(x.charCodeAt(m)^b.charCodeAt(m));S=String.fromCharCode(S.charCodeAt(0)&~v)+S.substr(1);var B=p-n-s-2;for(m=0;m<B;m++)if(S.charCodeAt(m)!==0)throw new Error("Leftmost octets not zero as expected");if(S.charCodeAt(B)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var P=S.substr(-s),F=new lx.util.ByteBuffer;F.fillWithByte(0,8),F.putBytes(c),F.putBytes(P),t.start(),t.update(F.getBytes());var q=t.digest().getBytes();return E===q},l}});var oq=V((KGr,yBe)=>{d();var Zr=ei();Sy();ih();$S();Yp();dBe();_y();nx();rq();KS();Ji();var $=Zr.asn1,rr=yBe.exports=Zr.pki=Zr.pki||{},Gi=rr.oids,Xs={};Xs.CN=Gi.commonName;Xs.commonName="CN";Xs.C=Gi.countryName;Xs.countryName="C";Xs.L=Gi.localityName;Xs.localityName="L";Xs.ST=Gi.stateOrProvinceName;Xs.stateOrProvinceName="ST";Xs.O=Gi.organizationName;Xs.organizationName="O";Xs.OU=Gi.organizationalUnitName;Xs.organizationalUnitName="OU";Xs.E=Gi.emailAddress;Xs.emailAddress="E";var pBe=Zr.pki.rsa.publicKeyValidator,cEt={name:"Certificate",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:$.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:$.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:$.Class.UNIVERSAL,type:$.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:$.Class.UNIVERSAL,type:$.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:$.Class.UNIVERSAL,type:$.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:$.Class.UNIVERSAL,type:$.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},pBe,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:$.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:$.Class.UNIVERSAL,type:$.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:$.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:$.Class.UNIVERSAL,type:$.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:$.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:$.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:$.Class.UNIVERSAL,type:$.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},uEt={name:"rsapss",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:$.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:$.Class.UNIVERSAL,type:$.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:$.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:$.Class.UNIVERSAL,type:$.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:$.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:$.Class.UNIVERSAL,type:$.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:$.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:$.Class.UNIVERSAL,type:$.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},fEt={name:"CertificationRequestInfo",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},pBe,{name:"CertificationRequestInfo.attributes",tagClass:$.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:$.Class.UNIVERSAL,type:$.Type.SET,constructed:!0}]}]}]},dEt={name:"CertificationRequest",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[fEt,{name:"CertificationRequest.signatureAlgorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:$.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:$.Class.UNIVERSAL,type:$.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};rr.RDNAttributesAsArray=function(e,t){for(var r=[],n,i,s,a=0;a<e.value.length;++a){n=e.value[a];for(var l=0;l<n.value.length;++l)s={},i=n.value[l],s.type=$.derToOid(i.value[0].value),s.value=i.value[1].value,s.valueTagClass=i.value[1].type,s.type in Gi&&(s.name=Gi[s.type],s.name in Xs&&(s.shortName=Xs[s.name])),t&&(t.update(s.type),t.update(s.value)),r.push(s)}return r};rr.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],i=$.derToOid(n.value[0].value),s=n.value[1].value,a=0;a<s.length;++a){var l={};if(l.type=i,l.value=s[a].value,l.valueTagClass=s[a].type,l.type in Gi&&(l.name=Gi[l.type],l.name in Xs&&(l.shortName=Xs[l.name])),l.type===Gi.extensionRequest){l.extensions=[];for(var c=0;c<l.value.length;++c)l.extensions.push(rr.certificateExtensionFromAsn1(l.value[c]))}t.push(l)}return t};function Ry(e,t){typeof t=="string"&&(t={shortName:t});for(var r=null,n,i=0;r===null&&i<e.attributes.length;++i)n=e.attributes[i],(t.type&&t.type===n.type||t.name&&t.name===n.name||t.shortName&&t.shortName===n.shortName)&&(r=n);return r}o(Ry,"_getAttribute");var nq=o(function(e,t,r){var n={};if(e!==Gi["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:Gi.sha1},mgf:{algorithmOid:Gi.mgf1,hash:{algorithmOid:Gi.sha1}},saltLength:20});var i={},s=[];if(!$.validate(t,uEt,i,s)){var a=new Error("Cannot read RSASSA-PSS parameter block.");throw a.errors=s,a}return i.hashOid!==void 0&&(n.hash=n.hash||{},n.hash.algorithmOid=$.derToOid(i.hashOid)),i.maskGenOid!==void 0&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=$.derToOid(i.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=$.derToOid(i.maskGenHashOid)),i.saltLength!==void 0&&(n.saltLength=i.saltLength.charCodeAt(0)),n},"_readSignatureParameters"),iq=o(function(e){switch(Gi[e.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return Zr.md.sha1.create();case"md5WithRSAEncryption":return Zr.md.md5.create();case"sha256WithRSAEncryption":return Zr.md.sha256.create();case"sha384WithRSAEncryption":return Zr.md.sha384.create();case"sha512WithRSAEncryption":return Zr.md.sha512.create();case"RSASSA-PSS":return Zr.md.sha256.create();default:var t=new Error("Could not compute "+e.type+" digest. Unknown signature OID.");throw t.signatureOid=e.signatureOid,t}},"_createSignatureDigest"),gBe=o(function(e){var t=e.certificate,r;switch(t.signatureOid){case Gi.sha1WithRSAEncryption:case Gi.sha1WithRSASignature:break;case Gi["RSASSA-PSS"]:var n,i;if(n=Gi[t.signatureParameters.mgf.hash.algorithmOid],n===void 0||Zr.md[n]===void 0){var s=new Error("Unsupported MGF hash function.");throw s.oid=t.signatureParameters.mgf.hash.algorithmOid,s.name=n,s}if(i=Gi[t.signatureParameters.mgf.algorithmOid],i===void 0||Zr.mgf[i]===void 0){var s=new Error("Unsupported MGF function.");throw s.oid=t.signatureParameters.mgf.algorithmOid,s.name=i,s}if(i=Zr.mgf[i].create(Zr.md[n].create()),n=Gi[t.signatureParameters.hash.algorithmOid],n===void 0||Zr.md[n]===void 0){var s=new Error("Unsupported RSASSA-PSS hash function.");throw s.oid=t.signatureParameters.hash.algorithmOid,s.name=n,s}r=Zr.pss.create(Zr.md[n].create(),i,t.signatureParameters.saltLength);break}return t.publicKey.verify(e.md.digest().getBytes(),e.signature,r)},"_verifySignature");rr.certificateFromPem=function(e,t,r){var n=Zr.pem.decode(e)[0];if(n.type!=="CERTIFICATE"&&n.type!=="X509 CERTIFICATE"&&n.type!=="TRUSTED CERTIFICATE"){var i=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var s=$.fromDer(n.body,r);return rr.certificateFromAsn1(s,t)};rr.certificateToPem=function(e,t){var r={type:"CERTIFICATE",body:$.toDer(rr.certificateToAsn1(e)).getBytes()};return Zr.pem.encode(r,{maxline:t})};rr.publicKeyFromPem=function(e){var t=Zr.pem.decode(e)[0];if(t.type!=="PUBLIC KEY"&&t.type!=="RSA PUBLIC KEY"){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=$.fromDer(t.body);return rr.publicKeyFromAsn1(n)};rr.publicKeyToPem=function(e,t){var r={type:"PUBLIC KEY",body:$.toDer(rr.publicKeyToAsn1(e)).getBytes()};return Zr.pem.encode(r,{maxline:t})};rr.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:"RSA PUBLIC KEY",body:$.toDer(rr.publicKeyToRSAPublicKey(e)).getBytes()};return Zr.pem.encode(r,{maxline:t})};rr.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||Zr.md.sha1.create(),n=t.type||"RSAPublicKey",i;switch(n){case"RSAPublicKey":i=$.toDer(rr.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":i=$.toDer(rr.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}r.start(),r.update(i);var s=r.digest();if(t.encoding==="hex"){var a=s.toHex();return t.delimiter?a.match(/.{2}/g).join(t.delimiter):a}else{if(t.encoding==="binary")return s.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return s};rr.certificationRequestFromPem=function(e,t,r){var n=Zr.pem.decode(e)[0];if(n.type!=="CERTIFICATE REQUEST"){var i=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var s=$.fromDer(n.body,r);return rr.certificationRequestFromAsn1(s,t)};rr.certificationRequestToPem=function(e,t){var r={type:"CERTIFICATE REQUEST",body:$.toDer(rr.certificationRequestToAsn1(e)).getBytes()};return Zr.pem.encode(r,{maxline:t})};rr.createCertificate=function(){var e={};return e.version=2,e.serialNumber="00",e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return Ry(e.issuer,t)},e.issuer.addField=function(t){kd([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return Ry(e.subject,t)},e.subject.addField=function(t){kd([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){kd(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){kd(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)ABe(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){typeof t=="string"&&(t={name:t});for(var r=null,n,i=0;r===null&&i<e.extensions.length;++i)n=e.extensions[i],(t.id&&n.id===t.id||t.name&&n.name===t.name)&&(r=n);return r},e.sign=function(t,r){e.md=r||Zr.md.sha1.create();var n=Gi[e.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw i.algorithm=e.md.algorithm,i}e.signatureOid=e.siginfo.algorithmOid=n,e.tbsCertificate=rr.getTBSCertificate(e);var s=$.toDer(e.tbsCertificate);e.md.update(s.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var n=t.issuer,i=e.subject,s=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw s.expectedIssuer=i.attributes,s.actualIssuer=n.attributes,s}var a=t.md;if(a===null){a=iq({signatureOid:t.signatureOid,type:"certificate"});var l=t.tbsCertificate||rr.getTBSCertificate(t),c=$.toDer(l);a.update(c.getBytes())}return a!==null&&(r=gBe({certificate:e,md:a,signature:t.signature})),r},e.isIssuer=function(t){var r=!1,n=e.issuer,i=t.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){r=!0;for(var s,a,l=0;r&&l<n.attributes.length;++l)s=n.attributes[l],a=i.attributes[l],(s.type!==a.type||s.value!==a.value)&&(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return rr.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=Gi.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var n=e.extensions[r];if(n.id===t){var i=e.generateSubjectKeyIdentifier().getBytes();return Zr.util.hexToBytes(n.subjectKeyIdentifier)===i}}return!1},e};rr.certificateFromAsn1=function(e,t){var r={},n=[];if(!$.validate(e,cEt,r,n)){var i=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw i.errors=n,i}var s=$.derToOid(r.publicKeyOid);if(s!==rr.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=rr.createCertificate();a.version=r.certVersion?r.certVersion.charCodeAt(0):0;var l=Zr.util.createBuffer(r.certSerialNumber);a.serialNumber=l.toHex(),a.signatureOid=Zr.asn1.derToOid(r.certSignatureOid),a.signatureParameters=nq(a.signatureOid,r.certSignatureParams,!0),a.siginfo.algorithmOid=Zr.asn1.derToOid(r.certinfoSignatureOid),a.siginfo.parameters=nq(a.siginfo.algorithmOid,r.certinfoSignatureParams,!1),a.signature=r.certSignature;var c=[];if(r.certValidity1UTCTime!==void 0&&c.push($.utcTimeToDate(r.certValidity1UTCTime)),r.certValidity2GeneralizedTime!==void 0&&c.push($.generalizedTimeToDate(r.certValidity2GeneralizedTime)),r.certValidity3UTCTime!==void 0&&c.push($.utcTimeToDate(r.certValidity3UTCTime)),r.certValidity4GeneralizedTime!==void 0&&c.push($.generalizedTimeToDate(r.certValidity4GeneralizedTime)),c.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(c.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(a.validity.notBefore=c[0],a.validity.notAfter=c[1],a.tbsCertificate=r.tbsCertificate,t){a.md=iq({signatureOid:a.signatureOid,type:"certificate"});var u=$.toDer(a.tbsCertificate);a.md.update(u.getBytes())}var f=Zr.md.sha1.create(),m=$.toDer(r.certIssuer);f.update(m.getBytes()),a.issuer.getField=function(A){return Ry(a.issuer,A)},a.issuer.addField=function(A){kd([A]),a.issuer.attributes.push(A)},a.issuer.attributes=rr.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(a.issuer.uniqueId=r.certIssuerUniqueId),a.issuer.hash=f.digest().toHex();var h=Zr.md.sha1.create(),p=$.toDer(r.certSubject);return h.update(p.getBytes()),a.subject.getField=function(A){return Ry(a.subject,A)},a.subject.addField=function(A){kd([A]),a.subject.attributes.push(A)},a.subject.attributes=rr.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(a.subject.uniqueId=r.certSubjectUniqueId),a.subject.hash=h.digest().toHex(),r.certExtensions?a.extensions=rr.certificateExtensionsFromAsn1(r.certExtensions):a.extensions=[],a.publicKey=rr.publicKeyFromAsn1(r.subjectPublicKeyInfo),a};rr.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var n=e.value[r],i=0;i<n.value.length;++i)t.push(rr.certificateExtensionFromAsn1(n.value[i]));return t};rr.certificateExtensionFromAsn1=function(e){var t={};if(t.id=$.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===$.Type.BOOLEAN?(t.critical=e.value[1].value.charCodeAt(0)!==0,t.value=e.value[2].value):t.value=e.value[1].value,t.id in Gi){if(t.name=Gi[t.id],t.name==="keyUsage"){var r=$.fromDer(t.value),n=0,i=0;r.value.length>1&&(n=r.value.charCodeAt(1),i=r.value.length>2?r.value.charCodeAt(2):0),t.digitalSignature=(n&128)===128,t.nonRepudiation=(n&64)===64,t.keyEncipherment=(n&32)===32,t.dataEncipherment=(n&16)===16,t.keyAgreement=(n&8)===8,t.keyCertSign=(n&4)===4,t.cRLSign=(n&2)===2,t.encipherOnly=(n&1)===1,t.decipherOnly=(i&128)===128}else if(t.name==="basicConstraints"){var r=$.fromDer(t.value);r.value.length>0&&r.value[0].type===$.Type.BOOLEAN?t.cA=r.value[0].value.charCodeAt(0)!==0:t.cA=!1;var s=null;r.value.length>0&&r.value[0].type===$.Type.INTEGER?s=r.value[0].value:r.value.length>1&&(s=r.value[1].value),s!==null&&(t.pathLenConstraint=$.derToInteger(s))}else if(t.name==="extKeyUsage")for(var r=$.fromDer(t.value),a=0;a<r.value.length;++a){var l=$.derToOid(r.value[a].value);l in Gi?t[Gi[l]]=!0:t[l]=!0}else if(t.name==="nsCertType"){var r=$.fromDer(t.value),n=0;r.value.length>1&&(n=r.value.charCodeAt(1)),t.client=(n&128)===128,t.server=(n&64)===64,t.email=(n&32)===32,t.objsign=(n&16)===16,t.reserved=(n&8)===8,t.sslCA=(n&4)===4,t.emailCA=(n&2)===2,t.objCA=(n&1)===1}else if(t.name==="subjectAltName"||t.name==="issuerAltName"){t.altNames=[];for(var c,r=$.fromDer(t.value),u=0;u<r.value.length;++u){c=r.value[u];var f={type:c.type,value:c.value};switch(t.altNames.push(f),c.type){case 1:case 2:case 6:break;case 7:f.ip=Zr.util.bytesToIP(c.value);break;case 8:f.oid=$.derToOid(c.value);break;default:}}}else if(t.name==="subjectKeyIdentifier"){var r=$.fromDer(t.value);t.subjectKeyIdentifier=Zr.util.bytesToHex(r.value)}}return t};rr.certificationRequestFromAsn1=function(e,t){var r={},n=[];if(!$.validate(e,dEt,r,n)){var i=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw i.errors=n,i}var s=$.derToOid(r.publicKeyOid);if(s!==rr.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=rr.createCertificationRequest();if(a.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,a.signatureOid=Zr.asn1.derToOid(r.csrSignatureOid),a.signatureParameters=nq(a.signatureOid,r.csrSignatureParams,!0),a.siginfo.algorithmOid=Zr.asn1.derToOid(r.csrSignatureOid),a.siginfo.parameters=nq(a.siginfo.algorithmOid,r.csrSignatureParams,!1),a.signature=r.csrSignature,a.certificationRequestInfo=r.certificationRequestInfo,t){a.md=iq({signatureOid:a.signatureOid,type:"certification request"});var l=$.toDer(a.certificationRequestInfo);a.md.update(l.getBytes())}var c=Zr.md.sha1.create();return a.subject.getField=function(u){return Ry(a.subject,u)},a.subject.addField=function(u){kd([u]),a.subject.attributes.push(u)},a.subject.attributes=rr.RDNAttributesAsArray(r.certificationRequestInfoSubject,c),a.subject.hash=c.digest().toHex(),a.publicKey=rr.publicKeyFromAsn1(r.subjectPublicKeyInfo),a.getAttribute=function(u){return Ry(a,u)},a.addAttribute=function(u){kd([u]),a.attributes.push(u)},a.attributes=rr.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),a};rr.createCertificationRequest=function(){var e={};return e.version=0,e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return Ry(e.subject,t)},e.subject.addField=function(t){kd([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return Ry(e,t)},e.addAttribute=function(t){kd([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){kd(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){kd(t),e.attributes=t},e.sign=function(t,r){e.md=r||Zr.md.sha1.create();var n=Gi[e.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw i.algorithm=e.md.algorithm,i}e.signatureOid=e.siginfo.algorithmOid=n,e.certificationRequestInfo=rr.getCertificationRequestInfo(e);var s=$.toDer(e.certificationRequestInfo);e.md.update(s.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(r===null){r=iq({signatureOid:e.signatureOid,type:"certification request"});var n=e.certificationRequestInfo||rr.getCertificationRequestInfo(e),i=$.toDer(n);r.update(i.getBytes())}return r!==null&&(t=gBe({certificate:e,md:r,signature:e.signature})),t},e};function Q8(e){for(var t=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]),r,n,i=e.attributes,s=0;s<i.length;++s){r=i[s];var a=r.value,l=$.Type.PRINTABLESTRING;"valueTagClass"in r&&(l=r.valueTagClass,l===$.Type.UTF8&&(a=Zr.util.encodeUtf8(a))),n=$.create($.Class.UNIVERSAL,$.Type.SET,!0,[$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(r.type).getBytes()),$.create($.Class.UNIVERSAL,l,!1,a)])]),t.value.push(n)}return t}o(Q8,"_dnToAsn1");function kd(e){for(var t,r=0;r<e.length;++r){if(t=e[r],typeof t.name>"u"&&(t.type&&t.type in rr.oids?t.name=rr.oids[t.type]:t.shortName&&t.shortName in Xs&&(t.name=rr.oids[Xs[t.shortName]])),typeof t.type>"u")if(t.name&&t.name in rr.oids)t.type=rr.oids[t.name];else{var n=new Error("Attribute type not specified.");throw n.attribute=t,n}if(typeof t.shortName>"u"&&t.name&&t.name in Xs&&(t.shortName=Xs[t.name]),t.type===Gi.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=$.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var i=0;i<t.extensions.length;++i)t.value.push(rr.certificateExtensionToAsn1(ABe(t.extensions[i])))}if(typeof t.value>"u"){var n=new Error("Attribute value not specified.");throw n.attribute=t,n}}}o(kd,"_fillMissingFields");function ABe(e,t){if(t=t||{},typeof e.name>"u"&&e.id&&e.id in rr.oids&&(e.name=rr.oids[e.id]),typeof e.id>"u")if(e.name&&e.name in rr.oids)e.id=rr.oids[e.name];else{var r=new Error("Extension ID not specified.");throw r.extension=e,r}if(typeof e.value<"u")return e;if(e.name==="keyUsage"){var n=0,i=0,s=0;e.digitalSignature&&(i|=128,n=7),e.nonRepudiation&&(i|=64,n=6),e.keyEncipherment&&(i|=32,n=5),e.dataEncipherment&&(i|=16,n=4),e.keyAgreement&&(i|=8,n=3),e.keyCertSign&&(i|=4,n=2),e.cRLSign&&(i|=2,n=1),e.encipherOnly&&(i|=1,n=0),e.decipherOnly&&(s|=128,n=7);var a=String.fromCharCode(n);s!==0?a+=String.fromCharCode(i)+String.fromCharCode(s):i!==0&&(a+=String.fromCharCode(i)),e.value=$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,a)}else if(e.name==="basicConstraints")e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push($.create($.Class.UNIVERSAL,$.Type.BOOLEAN,!1,"\xFF")),"pathLenConstraint"in e&&e.value.value.push($.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(e.pathLenConstraint).getBytes()));else if(e.name==="extKeyUsage"){e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);var l=e.value.value;for(var c in e)e[c]===!0&&(c in Gi?l.push($.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(Gi[c]).getBytes())):c.indexOf(".")!==-1&&l.push($.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(c).getBytes())))}else if(e.name==="nsCertType"){var n=0,i=0;e.client&&(i|=128,n=7),e.server&&(i|=64,n=6),e.email&&(i|=32,n=5),e.objsign&&(i|=16,n=4),e.reserved&&(i|=8,n=3),e.sslCA&&(i|=4,n=2),e.emailCA&&(i|=2,n=1),e.objCA&&(i|=1,n=0);var a=String.fromCharCode(n);i!==0&&(a+=String.fromCharCode(i)),e.value=$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,a)}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);for(var u,f=0;f<e.altNames.length;++f){u=e.altNames[f];var a=u.value;if(u.type===7&&u.ip){if(a=Zr.util.bytesFromIP(u.ip),a===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else u.type===8&&(u.oid?a=$.oidToDer($.oidToDer(u.oid)):a=$.oidToDer(a));e.value.value.push($.create($.Class.CONTEXT_SPECIFIC,u.type,!1,a))}}else if(e.name==="nsComment"&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=$.create($.Class.UNIVERSAL,$.Type.IA5STRING,!1,e.comment)}else if(e.name==="subjectKeyIdentifier"&&t.cert){var m=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=m.toHex(),e.value=$.create($.Class.UNIVERSAL,$.Type.OCTETSTRING,!1,m.getBytes())}else if(e.name==="authorityKeyIdentifier"&&t.cert){e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);var l=e.value.value;if(e.keyIdentifier){var h=e.keyIdentifier===!0?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;l.push($.create($.Class.CONTEXT_SPECIFIC,0,!1,h))}if(e.authorityCertIssuer){var p=[$.create($.Class.CONTEXT_SPECIFIC,4,!0,[Q8(e.authorityCertIssuer===!0?t.cert.issuer:e.authorityCertIssuer)])];l.push($.create($.Class.CONTEXT_SPECIFIC,1,!0,p))}if(e.serialNumber){var A=Zr.util.hexToBytes(e.serialNumber===!0?t.cert.serialNumber:e.serialNumber);l.push($.create($.Class.CONTEXT_SPECIFIC,2,!1,A))}}else if(e.name==="cRLDistributionPoints"){e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);for(var l=e.value.value,x=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]),E=$.create($.Class.CONTEXT_SPECIFIC,0,!0,[]),u,f=0;f<e.altNames.length;++f){u=e.altNames[f];var a=u.value;if(u.type===7&&u.ip){if(a=Zr.util.bytesFromIP(u.ip),a===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else u.type===8&&(u.oid?a=$.oidToDer($.oidToDer(u.oid)):a=$.oidToDer(a));E.value.push($.create($.Class.CONTEXT_SPECIFIC,u.type,!1,a))}x.value.push($.create($.Class.CONTEXT_SPECIFIC,0,!0,[E])),l.push(x)}if(typeof e.value>"u"){var r=new Error("Extension value not specified.");throw r.extension=e,r}return e}o(ABe,"_fillMissingExtensionFields");function Boe(e,t){switch(e){case Gi["RSASSA-PSS"]:var r=[];return t.hash.algorithmOid!==void 0&&r.push($.create($.Class.CONTEXT_SPECIFIC,0,!0,[$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(t.hash.algorithmOid).getBytes()),$.create($.Class.UNIVERSAL,$.Type.NULL,!1,"")])])),t.mgf.algorithmOid!==void 0&&r.push($.create($.Class.CONTEXT_SPECIFIC,1,!0,[$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(t.mgf.algorithmOid).getBytes()),$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(t.mgf.hash.algorithmOid).getBytes()),$.create($.Class.UNIVERSAL,$.Type.NULL,!1,"")])])])),t.saltLength!==void 0&&r.push($.create($.Class.CONTEXT_SPECIFIC,2,!0,[$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(t.saltLength).getBytes())])),$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,r);default:return $.create($.Class.UNIVERSAL,$.Type.NULL,!1,"")}}o(Boe,"_signatureParametersToAsn1");function mEt(e){var t=$.create($.Class.CONTEXT_SPECIFIC,0,!0,[]);if(e.attributes.length===0)return t;for(var r=e.attributes,n=0;n<r.length;++n){var i=r[n],s=i.value,a=$.Type.UTF8;"valueTagClass"in i&&(a=i.valueTagClass),a===$.Type.UTF8&&(s=Zr.util.encodeUtf8(s));var l=!1;"valueConstructed"in i&&(l=i.valueConstructed);var c=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(i.type).getBytes()),$.create($.Class.UNIVERSAL,$.Type.SET,!0,[$.create($.Class.UNIVERSAL,a,l,s)])]);t.value.push(c)}return t}o(mEt,"_CRIAttributesToAsn1");var hEt=new Date("1950-01-01T00:00:00Z"),pEt=new Date("2050-01-01T00:00:00Z");function hBe(e){return e>=hEt&&e<pEt?$.create($.Class.UNIVERSAL,$.Type.UTCTIME,!1,$.dateToUtcTime(e)):$.create($.Class.UNIVERSAL,$.Type.GENERALIZEDTIME,!1,$.dateToGeneralizedTime(e))}o(hBe,"_dateToAsn1");rr.getTBSCertificate=function(e){var t=hBe(e.validity.notBefore),r=hBe(e.validity.notAfter),n=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.CONTEXT_SPECIFIC,0,!0,[$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(e.version).getBytes())]),$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,Zr.util.hexToBytes(e.serialNumber)),$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(e.siginfo.algorithmOid).getBytes()),Boe(e.siginfo.algorithmOid,e.siginfo.parameters)]),Q8(e.issuer),$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[t,r]),Q8(e.subject),rr.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&n.value.push($.create($.Class.CONTEXT_SPECIFIC,1,!0,[$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,"\0"+e.issuer.uniqueId)])),e.subject.uniqueId&&n.value.push($.create($.Class.CONTEXT_SPECIFIC,2,!0,[$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,"\0"+e.subject.uniqueId)])),e.extensions.length>0&&n.value.push(rr.certificateExtensionsToAsn1(e.extensions)),n};rr.getCertificationRequestInfo=function(e){var t=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(e.version).getBytes()),Q8(e.subject),rr.publicKeyToAsn1(e.publicKey),mEt(e)]);return t};rr.distinguishedNameToAsn1=function(e){return Q8(e)};rr.certificateToAsn1=function(e){var t=e.tbsCertificate||rr.getTBSCertificate(e);return $.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[t,$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(e.signatureOid).getBytes()),Boe(e.signatureOid,e.signatureParameters)]),$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,"\0"+e.signature)])};rr.certificateExtensionsToAsn1=function(e){var t=$.create($.Class.CONTEXT_SPECIFIC,3,!0,[]),r=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n=0;n<e.length;++n)r.value.push(rr.certificateExtensionToAsn1(e[n]));return t};rr.certificateExtensionToAsn1=function(e){var t=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);t.value.push($.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(e.id).getBytes())),e.critical&&t.value.push($.create($.Class.UNIVERSAL,$.Type.BOOLEAN,!1,"\xFF"));var r=e.value;return typeof e.value!="string"&&(r=$.toDer(r).getBytes()),t.value.push($.create($.Class.UNIVERSAL,$.Type.OCTETSTRING,!1,r)),t};rr.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||rr.getCertificationRequestInfo(e);return $.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[t,$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(e.signatureOid).getBytes()),Boe(e.signatureOid,e.signatureParameters)]),$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,"\0"+e.signature)])};rr.createCaStore=function(e){var t={certs:{}};t.getIssuer=function(a){var l=r(a.issuer);return l},t.addCertificate=function(a){if(typeof a=="string"&&(a=Zr.pki.certificateFromPem(a)),n(a.subject),!t.hasCertificate(a))if(a.subject.hash in t.certs){var l=t.certs[a.subject.hash];Zr.util.isArray(l)||(l=[l]),l.push(a),t.certs[a.subject.hash]=l}else t.certs[a.subject.hash]=a},t.hasCertificate=function(a){typeof a=="string"&&(a=Zr.pki.certificateFromPem(a));var l=r(a.subject);if(!l)return!1;Zr.util.isArray(l)||(l=[l]);for(var c=$.toDer(rr.certificateToAsn1(a)).getBytes(),u=0;u<l.length;++u){var f=$.toDer(rr.certificateToAsn1(l[u])).getBytes();if(c===f)return!0}return!1},t.listAllCertificates=function(){var a=[];for(var l in t.certs)if(t.certs.hasOwnProperty(l)){var c=t.certs[l];if(!Zr.util.isArray(c))a.push(c);else for(var u=0;u<c.length;++u)a.push(c[u])}return a},t.removeCertificate=function(a){var l;if(typeof a=="string"&&(a=Zr.pki.certificateFromPem(a)),n(a.subject),!t.hasCertificate(a))return null;var c=r(a.subject);if(!Zr.util.isArray(c))return l=t.certs[a.subject.hash],delete t.certs[a.subject.hash],l;for(var u=$.toDer(rr.certificateToAsn1(a)).getBytes(),f=0;f<c.length;++f){var m=$.toDer(rr.certificateToAsn1(c[f])).getBytes();u===m&&(l=c[f],c.splice(f,1))}return c.length===0&&delete t.certs[a.subject.hash],l};function r(a){return n(a),t.certs[a.hash]||null}o(r,"getBySubject");function n(a){if(!a.hash){var l=Zr.md.sha1.create();a.attributes=rr.RDNAttributesAsArray(Q8(a),l),a.hash=l.digest().toHex()}}if(o(n,"ensureSubjectHasHash"),e)for(var i=0;i<e.length;++i){var s=e[i];t.addCertificate(s)}return t};rr.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};rr.verifyCertificateChain=function(e,t,r){typeof r=="function"&&(r={verify:r}),r=r||{},t=t.slice(0);var n=t.slice(0),i=r.validityCheckDate;typeof i>"u"&&(i=new Date);var s=!0,a=null,l=0;do{var c=t.shift(),u=null,f=!1;if(i&&(i<c.validity.notBefore||i>c.validity.notAfter)&&(a={message:"Certificate is not valid yet or has expired.",error:rr.certificateError.certificate_expired,notBefore:c.validity.notBefore,notAfter:c.validity.notAfter,now:i}),a===null){if(u=t[0]||e.getIssuer(c),u===null&&c.isIssuer(c)&&(f=!0,u=c),u){var m=u;Zr.util.isArray(m)||(m=[m]);for(var h=!1;!h&&m.length>0;){u=m.shift();try{h=u.verify(c)}catch{}}h||(a={message:"Certificate signature is invalid.",error:rr.certificateError.bad_certificate})}a===null&&(!u||f)&&!e.hasCertificate(c)&&(a={message:"Certificate is not trusted.",error:rr.certificateError.unknown_ca})}if(a===null&&u&&!c.isIssuer(u)&&(a={message:"Certificate issuer is invalid.",error:rr.certificateError.bad_certificate}),a===null)for(var p={keyUsage:!0,basicConstraints:!0},A=0;a===null&&A<c.extensions.length;++A){var x=c.extensions[A];x.critical&&!(x.name in p)&&(a={message:"Certificate has an unsupported critical extension.",error:rr.certificateError.unsupported_certificate})}if(a===null&&(!s||t.length===0&&(!u||f))){var E=c.getExtension("basicConstraints"),v=c.getExtension("keyUsage");if(v!==null&&(!v.keyCertSign||E===null)&&(a={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:rr.certificateError.bad_certificate}),a===null&&E!==null&&!E.cA&&(a={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:rr.certificateError.bad_certificate}),a===null&&v!==null&&"pathLenConstraint"in E){var b=l-1;b>E.pathLenConstraint&&(a={message:"Certificate basicConstraints pathLenConstraint violated.",error:rr.certificateError.bad_certificate})}}var S=a===null?!0:a.error,B=r.verify?r.verify(S,l,n):S;if(B===!0)a=null;else throw S===!0&&(a={message:"The application rejected the certificate.",error:rr.certificateError.bad_certificate}),(B||B===0)&&(typeof B=="object"&&!Zr.util.isArray(B)?(B.message&&(a.message=B.message),B.error&&(a.error=B.error)):typeof B=="string"&&(a.error=B)),a;s=!1,++l}while(t.length>0);return!0}});var Doe=V((ZGr,xBe)=>{d();var qo=ei();ih();B8();_y();_oe();Soe();wd();KS();F8();Ji();oq();var we=qo.asn1,Ai=qo.pki,XS=xBe.exports=qo.pkcs12=qo.pkcs12||{},CBe={name:"ContentInfo",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:we.Class.UNIVERSAL,type:we.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:we.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},gEt={name:"PFX",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:we.Class.UNIVERSAL,type:we.Type.INTEGER,constructed:!1,capture:"version"},CBe,{name:"PFX.macData",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:we.Class.UNIVERSAL,type:we.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:we.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:we.Class.UNIVERSAL,type:we.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:we.Class.UNIVERSAL,type:we.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:we.Class.UNIVERSAL,type:we.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},AEt={name:"SafeBag",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:we.Class.UNIVERSAL,type:we.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:we.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:we.Class.UNIVERSAL,type:we.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},yEt={name:"Attribute",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:we.Class.UNIVERSAL,type:we.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:we.Class.UNIVERSAL,type:we.Type.SET,constructed:!0,capture:"values"}]},CEt={name:"CertBag",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:we.Class.UNIVERSAL,type:we.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:we.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:we.Class.UNIVERSAL,type:we.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function JS(e,t,r,n){for(var i=[],s=0;s<e.length;s++)for(var a=0;a<e[s].safeBags.length;a++){var l=e[s].safeBags[a];if(!(n!==void 0&&l.type!==n)){if(t===null){i.push(l);continue}l.attributes[t]!==void 0&&l.attributes[t].indexOf(r)>=0&&i.push(l)}}return i}o(JS,"_getBagsByAttribute");XS.pkcs12FromAsn1=function(e,t,r){typeof t=="string"?(r=t,t=!0):t===void 0&&(t=!0);var n={},i=[];if(!we.validate(e,gEt,n,i)){var s=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw s.errors=s,s}var a={version:n.version.charCodeAt(0),safeContents:[],getBags:o(function(E){var v={},b;return"localKeyId"in E?b=E.localKeyId:"localKeyIdHex"in E&&(b=qo.util.hexToBytes(E.localKeyIdHex)),b===void 0&&!("friendlyName"in E)&&"bagType"in E&&(v[E.bagType]=JS(a.safeContents,null,null,E.bagType)),b!==void 0&&(v.localKeyId=JS(a.safeContents,"localKeyId",b,E.bagType)),"friendlyName"in E&&(v.friendlyName=JS(a.safeContents,"friendlyName",E.friendlyName,E.bagType)),v},"getBags"),getBagsByFriendlyName:o(function(E,v){return JS(a.safeContents,"friendlyName",E,v)},"getBagsByFriendlyName"),getBagsByLocalKeyId:o(function(E,v){return JS(a.safeContents,"localKeyId",E,v)},"getBagsByLocalKeyId")};if(n.version.charCodeAt(0)!==3){var s=new Error("PKCS#12 PFX of version other than 3 not supported.");throw s.version=n.version.charCodeAt(0),s}if(we.derToOid(n.contentType)!==Ai.oids.data){var s=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw s.oid=we.derToOid(n.contentType),s}var l=n.content.value[0];if(l.tagClass!==we.Class.UNIVERSAL||l.type!==we.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(l=Roe(l),n.mac){var c=null,u=0,f=we.derToOid(n.macAlgorithm);switch(f){case Ai.oids.sha1:c=qo.md.sha1.create(),u=20;break;case Ai.oids.sha256:c=qo.md.sha256.create(),u=32;break;case Ai.oids.sha384:c=qo.md.sha384.create(),u=48;break;case Ai.oids.sha512:c=qo.md.sha512.create(),u=64;break;case Ai.oids.md5:c=qo.md.md5.create(),u=16;break}if(c===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+f);var m=new qo.util.ByteBuffer(n.macSalt),h="macIterations"in n?parseInt(qo.util.bytesToHex(n.macIterations),16):1,p=XS.generateKey(r,m,3,h,u,c),A=qo.hmac.create();A.start(c,p),A.update(l.value);var x=A.getMac();if(x.getBytes()!==n.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return xEt(a,l.value,t,r),a};function Roe(e){if(e.composed||e.constructed){for(var t=qo.util.createBuffer(),r=0;r<e.value.length;++r)t.putBytes(e.value[r].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}o(Roe,"_decodePkcs7Data");function xEt(e,t,r,n){if(t=we.fromDer(t,r),t.tagClass!==we.Class.UNIVERSAL||t.type!==we.Type.SEQUENCE||t.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var i=0;i<t.value.length;i++){var s=t.value[i],a={},l=[];if(!we.validate(s,CBe,a,l)){var c=new Error("Cannot read ContentInfo.");throw c.errors=l,c}var u={encrypted:!1},f=null,m=a.content.value[0];switch(we.derToOid(a.contentType)){case Ai.oids.data:if(m.tagClass!==we.Class.UNIVERSAL||m.type!==we.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");f=Roe(m).value;break;case Ai.oids.encryptedData:f=EEt(m,n),u.encrypted=!0;break;default:var c=new Error("Unsupported PKCS#12 contentType.");throw c.contentType=we.derToOid(a.contentType),c}u.safeBags=bEt(f,r,n),e.safeContents.push(u)}}o(xEt,"_decodeAuthenticatedSafe");function EEt(e,t){var r={},n=[];if(!we.validate(e,qo.pkcs7.asn1.encryptedDataValidator,r,n)){var i=new Error("Cannot read EncryptedContentInfo.");throw i.errors=n,i}var s=we.derToOid(r.contentType);if(s!==Ai.oids.data){var i=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw i.oid=s,i}s=we.derToOid(r.encAlgorithm);var a=Ai.pbe.getCipher(s,r.encParameter,t),l=Roe(r.encryptedContentAsn1),c=qo.util.createBuffer(l.value);if(a.update(c),!a.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return a.output.getBytes()}o(EEt,"_decryptSafeContents");function bEt(e,t,r){if(!t&&e.length===0)return[];if(e=we.fromDer(e,t),e.tagClass!==we.Class.UNIVERSAL||e.type!==we.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],i=0;i<e.value.length;i++){var s=e.value[i],a={},l=[];if(!we.validate(s,AEt,a,l)){var c=new Error("Cannot read SafeBag.");throw c.errors=l,c}var u={type:we.derToOid(a.bagId),attributes:vEt(a.bagAttributes)};n.push(u);var f,m,h=a.bagValue.value[0];switch(u.type){case Ai.oids.pkcs8ShroudedKeyBag:if(h=Ai.decryptPrivateKeyInfo(h,r),h===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case Ai.oids.keyBag:try{u.key=Ai.privateKeyFromAsn1(h)}catch{u.key=null,u.asn1=h}continue;case Ai.oids.certBag:f=CEt,m=o(function(){if(we.derToOid(a.certId)!==Ai.oids.x509Certificate){var A=new Error("Unsupported certificate type, only X.509 supported.");throw A.oid=we.derToOid(a.certId),A}var x=we.fromDer(a.cert,t);try{u.cert=Ai.certificateFromAsn1(x,!0)}catch{u.cert=null,u.asn1=x}},"decoder");break;default:var c=new Error("Unsupported PKCS#12 SafeBag type.");throw c.oid=u.type,c}if(f!==void 0&&!we.validate(h,f,a,l)){var c=new Error("Cannot read PKCS#12 "+f.name);throw c.errors=l,c}m()}return n}o(bEt,"_decodeSafeContents");function vEt(e){var t={};if(e!==void 0)for(var r=0;r<e.length;++r){var n={},i=[];if(!we.validate(e[r],yEt,n,i)){var s=new Error("Cannot read PKCS#12 BagAttribute.");throw s.errors=i,s}var a=we.derToOid(n.oid);if(Ai.oids[a]!==void 0){t[Ai.oids[a]]=[];for(var l=0;l<n.values.length;++l)t[Ai.oids[a]].push(n.values[l].value)}}return t}o(vEt,"_decodeBagAttributes");XS.toPkcs12Asn1=function(e,t,r,n){n=n||{},n.saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var i=n.localKeyId,s;if(i!==null)i=qo.util.hexToBytes(i);else if(n.generateLocalKeyId)if(t){var a=qo.util.isArray(t)?t[0]:t;typeof a=="string"&&(a=Ai.certificateFromPem(a));var l=qo.md.sha1.create();l.update(we.toDer(Ai.certificateToAsn1(a)).getBytes()),i=l.digest().getBytes()}else i=qo.random.getBytes(20);var c=[];i!==null&&c.push(we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(Ai.oids.localKeyId).getBytes()),we.create(we.Class.UNIVERSAL,we.Type.SET,!0,[we.create(we.Class.UNIVERSAL,we.Type.OCTETSTRING,!1,i)])])),"friendlyName"in n&&c.push(we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(Ai.oids.friendlyName).getBytes()),we.create(we.Class.UNIVERSAL,we.Type.SET,!0,[we.create(we.Class.UNIVERSAL,we.Type.BMPSTRING,!1,n.friendlyName)])])),c.length>0&&(s=we.create(we.Class.UNIVERSAL,we.Type.SET,!0,c));var u=[],f=[];t!==null&&(qo.util.isArray(t)?f=t:f=[t]);for(var m=[],h=0;h<f.length;++h){t=f[h],typeof t=="string"&&(t=Ai.certificateFromPem(t));var p=h===0?s:void 0,A=Ai.certificateToAsn1(t),x=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(Ai.oids.certBag).getBytes()),we.create(we.Class.CONTEXT_SPECIFIC,0,!0,[we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(Ai.oids.x509Certificate).getBytes()),we.create(we.Class.CONTEXT_SPECIFIC,0,!0,[we.create(we.Class.UNIVERSAL,we.Type.OCTETSTRING,!1,we.toDer(A).getBytes())])])]),p]);m.push(x)}if(m.length>0){var E=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,m),v=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(Ai.oids.data).getBytes()),we.create(we.Class.CONTEXT_SPECIFIC,0,!0,[we.create(we.Class.UNIVERSAL,we.Type.OCTETSTRING,!1,we.toDer(E).getBytes())])]);u.push(v)}var b=null;if(e!==null){var S=Ai.wrapRsaPrivateKey(Ai.privateKeyToAsn1(e));r===null?b=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(Ai.oids.keyBag).getBytes()),we.create(we.Class.CONTEXT_SPECIFIC,0,!0,[S]),s]):b=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(Ai.oids.pkcs8ShroudedKeyBag).getBytes()),we.create(we.Class.CONTEXT_SPECIFIC,0,!0,[Ai.encryptPrivateKeyInfo(S,r,n)]),s]);var B=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[b]),P=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(Ai.oids.data).getBytes()),we.create(we.Class.CONTEXT_SPECIFIC,0,!0,[we.create(we.Class.UNIVERSAL,we.Type.OCTETSTRING,!1,we.toDer(B).getBytes())])]);u.push(P)}var F=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,u),q;if(n.useMac){var l=qo.md.sha1.create(),ne=new qo.util.ByteBuffer(qo.random.getBytes(n.saltSize)),ce=n.count,e=XS.generateKey(r,ne,3,ce,20),Z=qo.hmac.create();Z.start(l,e),Z.update(we.toDer(F).getBytes());var G=Z.getMac();q=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(Ai.oids.sha1).getBytes()),we.create(we.Class.UNIVERSAL,we.Type.NULL,!1,"")]),we.create(we.Class.UNIVERSAL,we.Type.OCTETSTRING,!1,G.getBytes())]),we.create(we.Class.UNIVERSAL,we.Type.OCTETSTRING,!1,ne.getBytes()),we.create(we.Class.UNIVERSAL,we.Type.INTEGER,!1,we.integerToDer(ce).getBytes())])}return we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.INTEGER,!1,we.integerToDer(3).getBytes()),we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(Ai.oids.data).getBytes()),we.create(we.Class.CONTEXT_SPECIFIC,0,!0,[we.create(we.Class.UNIVERSAL,we.Type.OCTETSTRING,!1,we.toDer(F).getBytes())])]),q])};XS.generateKey=qo.pbe.generatePkcs12Key});var Foe=V((rHr,EBe)=>{d();var Dy=ei();ih();_y();Soe();nx();YU();Doe();rq();KS();Ji();oq();var Poe=Dy.asn1,M8=EBe.exports=Dy.pki=Dy.pki||{};M8.pemToDer=function(e){var t=Dy.pem.decode(e)[0];if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return Dy.util.createBuffer(t.body)};M8.privateKeyFromPem=function(e){var t=Dy.pem.decode(e)[0];if(t.type!=="PRIVATE KEY"&&t.type!=="RSA PRIVATE KEY"){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=Poe.fromDer(t.body);return M8.privateKeyFromAsn1(n)};M8.privateKeyToPem=function(e,t){var r={type:"RSA PRIVATE KEY",body:Poe.toDer(M8.privateKeyToAsn1(e)).getBytes()};return Dy.pem.encode(r,{maxline:t})};M8.privateKeyInfoToPem=function(e,t){var r={type:"PRIVATE KEY",body:Poe.toDer(e).getBytes()};return Dy.pem.encode(r,{maxline:t})}});var Uoe=V((iHr,kBe)=>{d();var Rt=ei();ih();B8();VU();nx();Foe();wd();F8();Ji();var cq=o(function(e,t,r,n){var i=Rt.util.createBuffer(),s=e.length>>1,a=s+(e.length&1),l=e.substr(0,a),c=e.substr(s,a),u=Rt.util.createBuffer(),f=Rt.hmac.create();r=t+r;var m=Math.ceil(n/16),h=Math.ceil(n/20);f.start("MD5",l);var p=Rt.util.createBuffer();u.putBytes(r);for(var A=0;A<m;++A)f.start(null,null),f.update(u.getBytes()),u.putBuffer(f.digest()),f.start(null,null),f.update(u.bytes()+r),p.putBuffer(f.digest());f.start("SHA1",c);var x=Rt.util.createBuffer();u.clear(),u.putBytes(r);for(var A=0;A<h;++A)f.start(null,null),f.update(u.getBytes()),u.putBuffer(f.digest()),f.start(null,null),f.update(u.bytes()+r),x.putBuffer(f.digest());return i.putBytes(Rt.util.xorBytes(p.getBytes(),x.getBytes(),n)),i},"prf_TLS1"),IEt=o(function(e,t,r){var n=Rt.hmac.create();n.start("SHA1",e);var i=Rt.util.createBuffer();return i.putInt32(t[0]),i.putInt32(t[1]),i.putByte(r.type),i.putByte(r.version.major),i.putByte(r.version.minor),i.putInt16(r.length),i.putBytes(r.fragment.bytes()),n.update(i.getBytes()),n.digest().getBytes()},"hmac_sha1"),TEt=o(function(e,t,r){var n=!1;try{var i=e.deflate(t.fragment.getBytes());t.fragment=Rt.util.createBuffer(i),t.length=i.length,n=!0}catch{}return n},"deflate"),wEt=o(function(e,t,r){var n=!1;try{var i=e.inflate(t.fragment.getBytes());t.fragment=Rt.util.createBuffer(i),t.length=i.length,n=!0}catch{}return n},"inflate"),af=o(function(e,t){var r=0;switch(t){case 1:r=e.getByte();break;case 2:r=e.getInt16();break;case 3:r=e.getInt24();break;case 4:r=e.getInt32();break}return Rt.util.createBuffer(e.getBytes(r))},"readVector"),Bd=o(function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},"writeVector"),ee={};ee.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}};ee.SupportedVersions=[ee.Versions.TLS_1_1,ee.Versions.TLS_1_0];ee.Version=ee.SupportedVersions[0];ee.MaxFragment=15360;ee.ConnectionEnd={server:0,client:1};ee.PRFAlgorithm={tls_prf_sha256:0};ee.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};ee.CipherType={stream:0,block:1,aead:2};ee.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};ee.CompressionMethod={none:0,deflate:1};ee.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};ee.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};ee.Alert={};ee.Alert.Level={warning:1,fatal:2};ee.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};ee.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};ee.CipherSuites={};ee.getCipherSuite=function(e){var t=null;for(var r in ee.CipherSuites){var n=ee.CipherSuites[r];if(n.id[0]===e.charCodeAt(0)&&n.id[1]===e.charCodeAt(1)){t=n;break}}return t};ee.handleUnexpected=function(e,t){var r=!e.open&&e.entity===ee.ConnectionEnd.client;r||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.unexpected_message}})};ee.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&(ee.queue(e,ee.createAlert(e,{level:ee.Alert.Level.warning,description:ee.Alert.Description.no_renegotiation})),ee.flush(e)),e.process()};ee.parseHelloMessage=function(e,t,r){var n=null,i=e.entity===ee.ConnectionEnd.client;if(r<38)e.error(e,{message:i?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.illegal_parameter}});else{var s=t.fragment,a=s.length();if(n={version:{major:s.getByte(),minor:s.getByte()},random:Rt.util.createBuffer(s.getBytes(32)),session_id:af(s,1),extensions:[]},i?(n.cipher_suite=s.getBytes(2),n.compression_method=s.getByte()):(n.cipher_suites=af(s,2),n.compression_methods=af(s,1)),a=r-(a-s.length()),a>0){for(var l=af(s,2);l.length()>0;)n.extensions.push({type:[l.getByte(),l.getByte()],data:af(l,2)});if(!i)for(var c=0;c<n.extensions.length;++c){var u=n.extensions[c];if(u.type[0]===0&&u.type[1]===0)for(var f=af(u.data,2);f.length()>0;){var m=f.getByte();if(m!==0)break;e.session.extensions.server_name.serverNameList.push(af(f,2).getBytes())}}}if(e.session.version&&(n.version.major!==e.session.version.major||n.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.protocol_version}});if(i)e.session.cipherSuite=ee.getCipherSuite(n.cipher_suite);else for(var h=Rt.util.createBuffer(n.cipher_suites.bytes());h.length()>0&&(e.session.cipherSuite=ee.getCipherSuite(h.getBytes(2)),e.session.cipherSuite===null););if(e.session.cipherSuite===null)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.handshake_failure},cipherSuite:Rt.util.bytesToHex(n.cipher_suite)});i?e.session.compressionMethod=n.compression_method:e.session.compressionMethod=ee.CompressionMethod.none}return n};ee.createSecurityParameters=function(e,t){var r=e.entity===ee.ConnectionEnd.client,n=t.random.bytes(),i=r?e.session.sp.client_random:n,s=r?n:ee.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:ee.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:s}};ee.handleServerHello=function(e,t,r){var n=ee.parseHelloMessage(e,t,r);if(!e.fail){if(n.version.minor<=e.version.minor)e.version.minor=n.version.minor;else return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.protocol_version}});e.session.version=e.version;var i=n.session_id.bytes();i.length>0&&i===e.session.id?(e.expect=IBe,e.session.resuming=!0,e.session.sp.server_random=n.random.bytes()):(e.expect=_Et,e.session.resuming=!1,ee.createSecurityParameters(e,n)),e.session.id=i,e.process()}};ee.handleClientHello=function(e,t,r){var n=ee.parseHelloMessage(e,t,r);if(!e.fail){var i=n.session_id.bytes(),s=null;if(e.sessionCache&&(s=e.sessionCache.getSession(i),s===null?i="":(s.version.major!==n.version.major||s.version.minor>n.version.minor)&&(s=null,i="")),i.length===0&&(i=Rt.random.getBytes(32)),e.session.id=i,e.session.clientHelloVersion=n.version,e.session.sp={},s)e.version=e.session.version=s.version,e.session.sp=s.sp;else{for(var a,l=1;l<ee.SupportedVersions.length&&(a=ee.SupportedVersions[l],!(a.minor<=n.version.minor));++l);e.version={major:a.major,minor:a.minor},e.session.version=e.version}s!==null?(e.expect=Moe,e.session.resuming=!0,e.session.sp.client_random=n.random.bytes()):(e.expect=e.verifyClient!==!1?NEt:Qoe,e.session.resuming=!1,ee.createSecurityParameters(e,n)),e.open=!0,ee.queue(e,ee.createRecord(e,{type:ee.ContentType.handshake,data:ee.createServerHello(e)})),e.session.resuming?(ee.queue(e,ee.createRecord(e,{type:ee.ContentType.change_cipher_spec,data:ee.createChangeCipherSpec()})),e.state.pending=ee.createConnectionState(e),e.state.current.write=e.state.pending.write,ee.queue(e,ee.createRecord(e,{type:ee.ContentType.handshake,data:ee.createFinished(e)}))):(ee.queue(e,ee.createRecord(e,{type:ee.ContentType.handshake,data:ee.createCertificate(e)})),e.fail||(ee.queue(e,ee.createRecord(e,{type:ee.ContentType.handshake,data:ee.createServerKeyExchange(e)})),e.verifyClient!==!1&&ee.queue(e,ee.createRecord(e,{type:ee.ContentType.handshake,data:ee.createCertificateRequest(e)})),ee.queue(e,ee.createRecord(e,{type:ee.ContentType.handshake,data:ee.createServerHelloDone(e)})))),ee.flush(e),e.process()}};ee.handleCertificate=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_list:af(n,3)},s,a,l=[];try{for(;i.certificate_list.length()>0;)s=af(i.certificate_list,3),a=Rt.asn1.fromDer(s),s=Rt.pki.certificateFromAsn1(a,!0),l.push(s)}catch(u){return e.error(e,{message:"Could not parse certificate list.",cause:u,send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.bad_certificate}})}var c=e.entity===ee.ConnectionEnd.client;(c||e.verifyClient===!0)&&l.length===0?e.error(e,{message:c?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.illegal_parameter}}):l.length===0?e.expect=c?bBe:Qoe:(c?e.session.serverCertificate=l[0]:e.session.clientCertificate=l[0],ee.verifyCertificateChain(e,l)&&(e.expect=c?bBe:Qoe)),e.process()};ee.handleServerKeyExchange=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.unsupported_certificate}});e.expect=kEt,e.process()};ee.handleClientKeyExchange=function(e,t,r){if(r<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.unsupported_certificate}});var n=t.fragment,i={enc_pre_master_secret:af(n,2).getBytes()},s=null;if(e.getPrivateKey)try{s=e.getPrivateKey(e,e.session.serverCertificate),s=Rt.pki.privateKeyFromPem(s)}catch(c){e.error(e,{message:"Could not get private key.",cause:c,send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.internal_error}})}if(s===null)return e.error(e,{message:"No private key set.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.internal_error}});try{var a=e.session.sp;a.pre_master_secret=s.decrypt(i.enc_pre_master_secret);var l=e.session.clientHelloVersion;if(l.major!==a.pre_master_secret.charCodeAt(0)||l.minor!==a.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{a.pre_master_secret=Rt.random.getBytes(48)}e.expect=Moe,e.session.clientCertificate!==null&&(e.expect=LEt),e.process()};ee.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_types:af(n,1),certificate_authorities:af(n,2)};e.session.certificateRequest=i,e.expect=BEt,e.process()};ee.handleCertificateVerify=function(e,t,r){if(r<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.illegal_parameter}});var n=t.fragment;n.read-=4;var i=n.bytes();n.read+=4;var s={signature:af(n,2).getBytes()},a=Rt.util.createBuffer();a.putBuffer(e.session.md5.digest()),a.putBuffer(e.session.sha1.digest()),a=a.getBytes();try{var l=e.session.clientCertificate;if(!l.publicKey.verify(a,s.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(i),e.session.sha1.update(i)}catch{return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.handshake_failure}})}e.expect=Moe,e.process()};ee.handleServerHelloDone=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.record_overflow}});if(e.serverCertificate===null){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.insufficient_security}},i=0,s=e.verify(e,n.alert.description,i,[]);if(s!==!0)return(s||s===0)&&(typeof s=="object"&&!Rt.util.isArray(s)?(s.message&&(n.message=s.message),s.alert&&(n.alert.description=s.alert)):typeof s=="number"&&(n.alert.description=s)),e.error(e,n)}e.session.certificateRequest!==null&&(t=ee.createRecord(e,{type:ee.ContentType.handshake,data:ee.createCertificate(e)}),ee.queue(e,t)),t=ee.createRecord(e,{type:ee.ContentType.handshake,data:ee.createClientKeyExchange(e)}),ee.queue(e,t),e.expect=PEt;var a=o(function(l,c){l.session.certificateRequest!==null&&l.session.clientCertificate!==null&&ee.queue(l,ee.createRecord(l,{type:ee.ContentType.handshake,data:ee.createCertificateVerify(l,c)})),ee.queue(l,ee.createRecord(l,{type:ee.ContentType.change_cipher_spec,data:ee.createChangeCipherSpec()})),l.state.pending=ee.createConnectionState(l),l.state.current.write=l.state.pending.write,ee.queue(l,ee.createRecord(l,{type:ee.ContentType.handshake,data:ee.createFinished(l)})),l.expect=IBe,ee.flush(l),l.process()},"callback");if(e.session.certificateRequest===null||e.session.clientCertificate===null)return a(e,null);ee.getClientSignature(e,a)};ee.handleChangeCipherSpec=function(e,t){if(t.fragment.getByte()!==1)return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.illegal_parameter}});var r=e.entity===ee.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=ee.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?REt:QEt,e.process()};ee.handleFinished=function(e,t,r){var n=t.fragment;n.read-=4;var i=n.bytes();n.read+=4;var s=t.fragment.getBytes();n=Rt.util.createBuffer(),n.putBuffer(e.session.md5.digest()),n.putBuffer(e.session.sha1.digest());var a=e.entity===ee.ConnectionEnd.client,l=a?"server finished":"client finished",c=e.session.sp,u=12,f=cq;if(n=f(c.master_secret,l,n.getBytes(),u),n.getBytes()!==s)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.decrypt_error}});e.session.md5.update(i),e.session.sha1.update(i),(e.session.resuming&&a||!e.session.resuming&&!a)&&(ee.queue(e,ee.createRecord(e,{type:ee.ContentType.change_cipher_spec,data:ee.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,ee.queue(e,ee.createRecord(e,{type:ee.ContentType.handshake,data:ee.createFinished(e)}))),e.expect=a?DEt:MEt,e.handshaking=!1,++e.handshakes,e.peerCertificate=a?e.session.serverCertificate:e.session.clientCertificate,ee.flush(e),e.isConnected=!0,e.connected(e),e.process()};ee.handleAlert=function(e,t){var r=t.fragment,n={level:r.getByte(),description:r.getByte()},i;switch(n.description){case ee.Alert.Description.close_notify:i="Connection closed.";break;case ee.Alert.Description.unexpected_message:i="Unexpected message.";break;case ee.Alert.Description.bad_record_mac:i="Bad record MAC.";break;case ee.Alert.Description.decryption_failed:i="Decryption failed.";break;case ee.Alert.Description.record_overflow:i="Record overflow.";break;case ee.Alert.Description.decompression_failure:i="Decompression failed.";break;case ee.Alert.Description.handshake_failure:i="Handshake failure.";break;case ee.Alert.Description.bad_certificate:i="Bad certificate.";break;case ee.Alert.Description.unsupported_certificate:i="Unsupported certificate.";break;case ee.Alert.Description.certificate_revoked:i="Certificate revoked.";break;case ee.Alert.Description.certificate_expired:i="Certificate expired.";break;case ee.Alert.Description.certificate_unknown:i="Certificate unknown.";break;case ee.Alert.Description.illegal_parameter:i="Illegal parameter.";break;case ee.Alert.Description.unknown_ca:i="Unknown certificate authority.";break;case ee.Alert.Description.access_denied:i="Access denied.";break;case ee.Alert.Description.decode_error:i="Decode error.";break;case ee.Alert.Description.decrypt_error:i="Decrypt error.";break;case ee.Alert.Description.export_restriction:i="Export restriction.";break;case ee.Alert.Description.protocol_version:i="Unsupported protocol version.";break;case ee.Alert.Description.insufficient_security:i="Insufficient security.";break;case ee.Alert.Description.internal_error:i="Internal error.";break;case ee.Alert.Description.user_canceled:i="User canceled.";break;case ee.Alert.Description.no_renegotiation:i="Renegotiation not supported.";break;default:i="Unknown error.";break}if(n.description===ee.Alert.Description.close_notify)return e.close();e.error(e,{message:i,send:!1,origin:e.entity===ee.ConnectionEnd.client?"server":"client",alert:n}),e.process()};ee.handleHandshake=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt24();if(i>r.length())return e.fragmented=t,t.fragment=Rt.util.createBuffer(),r.read-=4,e.process();e.fragmented=null,r.read-=4;var s=r.bytes(i+4);r.read+=4,n in lq[e.entity][e.expect]?(e.entity===ee.ConnectionEnd.server&&!e.open&&!e.fail&&(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:Rt.md.md5.create(),sha1:Rt.md.sha1.create()}),n!==ee.HandshakeType.hello_request&&n!==ee.HandshakeType.certificate_verify&&n!==ee.HandshakeType.finished&&(e.session.md5.update(s),e.session.sha1.update(s)),lq[e.entity][e.expect][n](e,t,i)):ee.handleUnexpected(e,t)};ee.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()};ee.handleHeartbeat=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt16(),s=r.getBytes(i);if(n===ee.HeartbeatMessageType.heartbeat_request){if(e.handshaking||i>s.length)return e.process();ee.queue(e,ee.createRecord(e,{type:ee.ContentType.heartbeat,data:ee.createHeartbeat(ee.HeartbeatMessageType.heartbeat_response,s)})),ee.flush(e)}else if(n===ee.HeartbeatMessageType.heartbeat_response){if(s!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,Rt.util.createBuffer(s))}e.process()};var SEt=0,_Et=1,bBe=2,kEt=3,BEt=4,IBe=5,REt=6,DEt=7,PEt=8,FEt=0,NEt=1,Qoe=2,LEt=3,Moe=4,QEt=5,MEt=6,K=ee.handleUnexpected,TBe=ee.handleChangeCipherSpec,Yl=ee.handleAlert,ic=ee.handleHandshake,wBe=ee.handleApplicationData,Kl=ee.handleHeartbeat,Ooe=[];Ooe[ee.ConnectionEnd.client]=[[K,Yl,ic,K,Kl],[K,Yl,ic,K,Kl],[K,Yl,ic,K,Kl],[K,Yl,ic,K,Kl],[K,Yl,ic,K,Kl],[TBe,Yl,K,K,Kl],[K,Yl,ic,K,Kl],[K,Yl,ic,wBe,Kl],[K,Yl,ic,K,Kl]];Ooe[ee.ConnectionEnd.server]=[[K,Yl,ic,K,Kl],[K,Yl,ic,K,Kl],[K,Yl,ic,K,Kl],[K,Yl,ic,K,Kl],[TBe,Yl,K,K,Kl],[K,Yl,ic,K,Kl],[K,Yl,ic,wBe,Kl],[K,Yl,ic,K,Kl]];var Py=ee.handleHelloRequest,OEt=ee.handleServerHello,SBe=ee.handleCertificate,vBe=ee.handleServerKeyExchange,Noe=ee.handleCertificateRequest,sq=ee.handleServerHelloDone,_Be=ee.handleFinished,lq=[];lq[ee.ConnectionEnd.client]=[[K,K,OEt,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K],[Py,K,K,K,K,K,K,K,K,K,K,SBe,vBe,Noe,sq,K,K,K,K,K,K],[Py,K,K,K,K,K,K,K,K,K,K,K,vBe,Noe,sq,K,K,K,K,K,K],[Py,K,K,K,K,K,K,K,K,K,K,K,K,Noe,sq,K,K,K,K,K,K],[Py,K,K,K,K,K,K,K,K,K,K,K,K,K,sq,K,K,K,K,K,K],[Py,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K],[Py,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,_Be],[Py,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K],[Py,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K]];var UEt=ee.handleClientHello,qEt=ee.handleClientKeyExchange,WEt=ee.handleCertificateVerify;lq[ee.ConnectionEnd.server]=[[K,UEt,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K],[K,K,K,K,K,K,K,K,K,K,K,SBe,K,K,K,K,K,K,K,K,K],[K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,qEt,K,K,K,K],[K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,WEt,K,K,K,K,K],[K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K],[K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,_Be],[K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K],[K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K]];ee.generateKeys=function(e,t){var r=cq,n=t.client_random+t.server_random;e.session.resuming||(t.master_secret=r(t.pre_master_secret,"master secret",n,48).bytes(),t.pre_master_secret=null),n=t.server_random+t.client_random;var i=2*t.mac_key_length+2*t.enc_key_length,s=e.version.major===ee.Versions.TLS_1_0.major&&e.version.minor===ee.Versions.TLS_1_0.minor;s&&(i+=2*t.fixed_iv_length);var a=r(t.master_secret,"key expansion",n,i),l={client_write_MAC_key:a.getBytes(t.mac_key_length),server_write_MAC_key:a.getBytes(t.mac_key_length),client_write_key:a.getBytes(t.enc_key_length),server_write_key:a.getBytes(t.enc_key_length)};return s&&(l.client_write_IV=a.getBytes(t.fixed_iv_length),l.server_write_IV=a.getBytes(t.fixed_iv_length)),l};ee.createConnectionState=function(e){var t=e.entity===ee.ConnectionEnd.client,r=o(function(){var s={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:o(function(a){return!0},"cipherFunction"),compressionState:null,compressFunction:o(function(a){return!0},"compressFunction"),updateSequenceNumber:o(function(){s.sequenceNumber[1]===4294967295?(s.sequenceNumber[1]=0,++s.sequenceNumber[0]):++s.sequenceNumber[1]},"updateSequenceNumber")};return s},"createMode"),n={read:r(),write:r()};if(n.read.update=function(s,a){return n.read.cipherFunction(a,n.read)?n.read.compressFunction(s,a,n.read)||s.error(s,{message:"Could not decompress record.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.decompression_failure}}):s.error(s,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.bad_record_mac}}),!s.fail},n.write.update=function(s,a){return n.write.compressFunction(s,a,n.write)?n.write.cipherFunction(a,n.write)||s.error(s,{message:"Could not encrypt record.",send:!1,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.internal_error}}):s.error(s,{message:"Could not compress record.",send:!1,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.internal_error}}),!s.fail},e.session){var i=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(i),i.keys=ee.generateKeys(e,i),n.read.macKey=t?i.keys.server_write_MAC_key:i.keys.client_write_MAC_key,n.write.macKey=t?i.keys.client_write_MAC_key:i.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(n,e,i),i.compression_algorithm){case ee.CompressionMethod.none:break;case ee.CompressionMethod.deflate:n.read.compressFunction=wEt,n.write.compressFunction=TEt;break;default:throw new Error("Unsupported compression algorithm.")}}return n};ee.createRandom=function(){var e=new Date,t=+e+e.getTimezoneOffset()*6e4,r=Rt.util.createBuffer();return r.putInt32(t),r.putBytes(Rt.random.getBytes(28)),r};ee.createRecord=function(e,t){if(!t.data)return null;var r={type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data};return r};ee.createAlert=function(e,t){var r=Rt.util.createBuffer();return r.putByte(t.level),r.putByte(t.description),ee.createRecord(e,{type:ee.ContentType.alert,data:r})};ee.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=Rt.util.createBuffer(),r=0;r<e.cipherSuites.length;++r){var n=e.cipherSuites[r];t.putByte(n.id[0]),t.putByte(n.id[1])}var i=t.length(),s=Rt.util.createBuffer();s.putByte(ee.CompressionMethod.none);var a=s.length(),l=Rt.util.createBuffer();if(e.virtualHost){var c=Rt.util.createBuffer();c.putByte(0),c.putByte(0);var u=Rt.util.createBuffer();u.putByte(0),Bd(u,2,Rt.util.createBuffer(e.virtualHost));var f=Rt.util.createBuffer();Bd(f,2,u),Bd(c,2,f),l.putBuffer(c)}var m=l.length();m>0&&(m+=2);var h=e.session.id,p=h.length+1+2+4+28+2+i+1+a+m,A=Rt.util.createBuffer();return A.putByte(ee.HandshakeType.client_hello),A.putInt24(p),A.putByte(e.version.major),A.putByte(e.version.minor),A.putBytes(e.session.sp.client_random),Bd(A,1,Rt.util.createBuffer(h)),Bd(A,2,t),Bd(A,1,s),m>0&&Bd(A,2,l),A};ee.createServerHello=function(e){var t=e.session.id,r=t.length+1+2+4+28+2+1,n=Rt.util.createBuffer();return n.putByte(ee.HandshakeType.server_hello),n.putInt24(r),n.putByte(e.version.major),n.putByte(e.version.minor),n.putBytes(e.session.sp.server_random),Bd(n,1,Rt.util.createBuffer(t)),n.putByte(e.session.cipherSuite.id[0]),n.putByte(e.session.cipherSuite.id[1]),n.putByte(e.session.compressionMethod),n};ee.createCertificate=function(e){var t=e.entity===ee.ConnectionEnd.client,r=null;if(e.getCertificate){var n;t?n=e.session.certificateRequest:n=e.session.extensions.server_name.serverNameList,r=e.getCertificate(e,n)}var i=Rt.util.createBuffer();if(r!==null)try{Rt.util.isArray(r)||(r=[r]);for(var s=null,a=0;a<r.length;++a){var l=Rt.pem.decode(r[a])[0];if(l.type!=="CERTIFICATE"&&l.type!=="X509 CERTIFICATE"&&l.type!=="TRUSTED CERTIFICATE"){var c=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw c.headerType=l.type,c}if(l.procType&&l.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var u=Rt.util.createBuffer(l.body);s===null&&(s=Rt.asn1.fromDer(u.bytes(),!1));var f=Rt.util.createBuffer();Bd(f,3,u),i.putBuffer(f)}r=Rt.pki.certificateFromAsn1(s),t?e.session.clientCertificate=r:e.session.serverCertificate=r}catch(p){return e.error(e,{message:"Could not send certificate list.",cause:p,send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.bad_certificate}})}var m=3+i.length(),h=Rt.util.createBuffer();return h.putByte(ee.HandshakeType.certificate),h.putInt24(m),Bd(h,3,i),h};ee.createClientKeyExchange=function(e){var t=Rt.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(Rt.random.getBytes(46));var r=e.session.sp;r.pre_master_secret=t.getBytes();var n=e.session.serverCertificate.publicKey;t=n.encrypt(r.pre_master_secret);var i=t.length+2,s=Rt.util.createBuffer();return s.putByte(ee.HandshakeType.client_key_exchange),s.putInt24(i),s.putInt16(t.length),s.putBytes(t),s};ee.createServerKeyExchange=function(e){var t=0,r=Rt.util.createBuffer();return t>0&&(r.putByte(ee.HandshakeType.server_key_exchange),r.putInt24(t)),r};ee.getClientSignature=function(e,t){var r=Rt.util.createBuffer();r.putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest()),r=r.getBytes(),e.getSignature=e.getSignature||function(n,i,s){var a=null;if(n.getPrivateKey)try{a=n.getPrivateKey(n,n.session.clientCertificate),a=Rt.pki.privateKeyFromPem(a)}catch(l){n.error(n,{message:"Could not get private key.",cause:l,send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.internal_error}})}a===null?n.error(n,{message:"No private key set.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.internal_error}}):i=a.sign(i,null),s(n,i)},e.getSignature(e,r,t)};ee.createCertificateVerify=function(e,t){var r=t.length+2,n=Rt.util.createBuffer();return n.putByte(ee.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(t.length),n.putBytes(t),n};ee.createCertificateRequest=function(e){var t=Rt.util.createBuffer();t.putByte(1);var r=Rt.util.createBuffer();for(var n in e.caStore.certs){var i=e.caStore.certs[n],s=Rt.pki.distinguishedNameToAsn1(i.subject),a=Rt.asn1.toDer(s);r.putInt16(a.length()),r.putBuffer(a)}var l=1+t.length()+2+r.length(),c=Rt.util.createBuffer();return c.putByte(ee.HandshakeType.certificate_request),c.putInt24(l),Bd(c,1,t),Bd(c,2,r),c};ee.createServerHelloDone=function(e){var t=Rt.util.createBuffer();return t.putByte(ee.HandshakeType.server_hello_done),t.putInt24(0),t};ee.createChangeCipherSpec=function(){var e=Rt.util.createBuffer();return e.putByte(1),e};ee.createFinished=function(e){var t=Rt.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var r=e.entity===ee.ConnectionEnd.client,n=e.session.sp,i=12,s=cq,a=r?"client finished":"server finished";t=s(n.master_secret,a,t.getBytes(),i);var l=Rt.util.createBuffer();return l.putByte(ee.HandshakeType.finished),l.putInt24(t.length()),l.putBuffer(t),l};ee.createHeartbeat=function(e,t,r){typeof r>"u"&&(r=t.length);var n=Rt.util.createBuffer();n.putByte(e),n.putInt16(r),n.putBytes(t);var i=n.length(),s=Math.max(16,i-r-3);return n.putBytes(Rt.random.getBytes(s)),n};ee.queue=function(e,t){if(t&&!(t.fragment.length()===0&&(t.type===ee.ContentType.handshake||t.type===ee.ContentType.alert||t.type===ee.ContentType.change_cipher_spec))){if(t.type===ee.ContentType.handshake){var r=t.fragment.bytes();e.session.md5.update(r),e.session.sha1.update(r),r=null}var n;if(t.fragment.length()<=ee.MaxFragment)n=[t];else{n=[];for(var i=t.fragment.bytes();i.length>ee.MaxFragment;)n.push(ee.createRecord(e,{type:t.type,data:Rt.util.createBuffer(i.slice(0,ee.MaxFragment))})),i=i.slice(ee.MaxFragment);i.length>0&&n.push(ee.createRecord(e,{type:t.type,data:Rt.util.createBuffer(i)}))}for(var s=0;s<n.length&&!e.fail;++s){var a=n[s],l=e.state.current.write;l.update(e,a)&&e.records.push(a)}}};ee.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var Loe=o(function(e){switch(e){case!0:return!0;case Rt.pki.certificateError.bad_certificate:return ee.Alert.Description.bad_certificate;case Rt.pki.certificateError.unsupported_certificate:return ee.Alert.Description.unsupported_certificate;case Rt.pki.certificateError.certificate_revoked:return ee.Alert.Description.certificate_revoked;case Rt.pki.certificateError.certificate_expired:return ee.Alert.Description.certificate_expired;case Rt.pki.certificateError.certificate_unknown:return ee.Alert.Description.certificate_unknown;case Rt.pki.certificateError.unknown_ca:return ee.Alert.Description.unknown_ca;default:return ee.Alert.Description.bad_certificate}},"_certErrorToAlertDesc"),GEt=o(function(e){switch(e){case!0:return!0;case ee.Alert.Description.bad_certificate:return Rt.pki.certificateError.bad_certificate;case ee.Alert.Description.unsupported_certificate:return Rt.pki.certificateError.unsupported_certificate;case ee.Alert.Description.certificate_revoked:return Rt.pki.certificateError.certificate_revoked;case ee.Alert.Description.certificate_expired:return Rt.pki.certificateError.certificate_expired;case ee.Alert.Description.certificate_unknown:return Rt.pki.certificateError.certificate_unknown;case ee.Alert.Description.unknown_ca:return Rt.pki.certificateError.unknown_ca;default:return Rt.pki.certificateError.bad_certificate}},"_alertDescToCertError");ee.verifyCertificateChain=function(e,t){try{var r={};for(var n in e.verifyOptions)r[n]=e.verifyOptions[n];r.verify=function(s,a,l){var c=Loe(s),u=e.verify(e,s,a,l);if(u!==!0){if(typeof u=="object"&&!Rt.util.isArray(u)){var f=new Error("The application rejected the certificate.");throw f.send=!0,f.alert={level:ee.Alert.Level.fatal,description:ee.Alert.Description.bad_certificate},u.message&&(f.message=u.message),u.alert&&(f.alert.description=u.alert),f}u!==s&&(u=GEt(u))}return u},Rt.pki.verifyCertificateChain(e.caStore,t,r)}catch(s){var i=s;(typeof i!="object"||Rt.util.isArray(i))&&(i={send:!0,alert:{level:ee.Alert.Level.fatal,description:Loe(s)}}),"send"in i||(i.send=!0),"alert"in i||(i.alert={level:ee.Alert.Level.fatal,description:Loe(i.error)}),e.error(e,i)}return!e.fail};ee.createSessionCache=function(e,t){var r=null;if(e&&e.getSession&&e.setSession&&e.order)r=e;else{r={},r.cache=e||{},r.capacity=Math.max(t||100,1),r.order=[];for(var n in e)r.order.length<=t?r.order.push(n):delete e[n];r.getSession=function(i){var s=null,a=null;if(i?a=Rt.util.bytesToHex(i):r.order.length>0&&(a=r.order[0]),a!==null&&a in r.cache){s=r.cache[a],delete r.cache[a];for(var l in r.order)if(r.order[l]===a){r.order.splice(l,1);break}}return s},r.setSession=function(i,s){if(r.order.length===r.capacity){var a=r.order.shift();delete r.cache[a]}var a=Rt.util.bytesToHex(i);r.order.push(a),r.cache[a]=s}}return r};ee.createConnection=function(e){var t=null;e.caStore?Rt.util.isArray(e.caStore)?t=Rt.pki.createCaStore(e.caStore):t=e.caStore:t=Rt.pki.createCaStore();var r=e.cipherSuites||null;if(r===null){r=[];for(var n in ee.CipherSuites)r.push(ee.CipherSuites[n])}var i=e.server?ee.ConnectionEnd.server:ee.ConnectionEnd.client,s=e.sessionCache?ee.createSessionCache(e.sessionCache):null,a={version:{major:ee.Version.major,minor:ee.Version.minor},entity:i,sessionId:e.sessionId,caStore:t,sessionCache:s,cipherSuites:r,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(f,m,h,p){return m},verifyOptions:e.verifyOptions||{},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:Rt.util.createBuffer(),tlsData:Rt.util.createBuffer(),data:Rt.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:o(function(f,m){m.origin=m.origin||(f.entity===ee.ConnectionEnd.client?"client":"server"),m.send&&(ee.queue(f,ee.createAlert(f,m.alert)),ee.flush(f));var h=m.fatal!==!1;h&&(f.fail=!0),e.error(f,m),h&&f.close(!1)},"error"),deflate:e.deflate||null,inflate:e.inflate||null};a.reset=function(f){a.version={major:ee.Version.major,minor:ee.Version.minor},a.record=null,a.session=null,a.peerCertificate=null,a.state={pending:null,current:null},a.expect=a.entity===ee.ConnectionEnd.client?SEt:FEt,a.fragmented=null,a.records=[],a.open=!1,a.handshakes=0,a.handshaking=!1,a.isConnected=!1,a.fail=!(f||typeof f>"u"),a.input.clear(),a.tlsData.clear(),a.data.clear(),a.state.current=ee.createConnectionState(a)},a.reset();var l=o(function(f,m){var h=m.type-ee.ContentType.change_cipher_spec,p=Ooe[f.entity][f.expect];h in p?p[h](f,m):ee.handleUnexpected(f,m)},"_update"),c=o(function(f){var m=0,h=f.input,p=h.length();if(p<5)m=5-p;else{f.record={type:h.getByte(),version:{major:h.getByte(),minor:h.getByte()},length:h.getInt16(),fragment:Rt.util.createBuffer(),ready:!1};var A=f.record.version.major===f.version.major;A&&f.session&&f.session.version&&(A=f.record.version.minor===f.version.minor),A||f.error(f,{message:"Incompatible TLS version.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.protocol_version}})}return m},"_readRecordHeader"),u=o(function(f){var m=0,h=f.input,p=h.length();if(p<f.record.length)m=f.record.length-p;else{f.record.fragment.putBytes(h.getBytes(f.record.length)),h.compact();var A=f.state.current.read;A.update(f,f.record)&&(f.fragmented!==null&&(f.fragmented.type===f.record.type?(f.fragmented.fragment.putBuffer(f.record.fragment),f.record=f.fragmented):f.error(f,{message:"Invalid fragmented record.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.unexpected_message}})),f.record.ready=!0)}return m},"_readRecord");return a.handshake=function(f){if(a.entity!==ee.ConnectionEnd.client)a.error(a,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(a.handshaking)a.error(a,{message:"Handshake already in progress.",fatal:!1});else{a.fail&&!a.open&&a.handshakes===0&&(a.fail=!1),a.handshaking=!0,f=f||"";var m=null;f.length>0&&(a.sessionCache&&(m=a.sessionCache.getSession(f)),m===null&&(f="")),f.length===0&&a.sessionCache&&(m=a.sessionCache.getSession(),m!==null&&(f=m.id)),a.session={id:f,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:Rt.md.md5.create(),sha1:Rt.md.sha1.create()},m&&(a.version=m.version,a.session.sp=m.sp),a.session.sp.client_random=ee.createRandom().getBytes(),a.open=!0,ee.queue(a,ee.createRecord(a,{type:ee.ContentType.handshake,data:ee.createClientHello(a)})),ee.flush(a)}},a.process=function(f){var m=0;return f&&a.input.putBytes(f),a.fail||(a.record!==null&&a.record.ready&&a.record.fragment.isEmpty()&&(a.record=null),a.record===null&&(m=c(a)),!a.fail&&a.record!==null&&!a.record.ready&&(m=u(a)),!a.fail&&a.record!==null&&a.record.ready&&l(a,a.record)),m},a.prepare=function(f){return ee.queue(a,ee.createRecord(a,{type:ee.ContentType.application_data,data:Rt.util.createBuffer(f)})),ee.flush(a)},a.prepareHeartbeatRequest=function(f,m){return f instanceof Rt.util.ByteBuffer&&(f=f.bytes()),typeof m>"u"&&(m=f.length),a.expectedHeartbeatPayload=f,ee.queue(a,ee.createRecord(a,{type:ee.ContentType.heartbeat,data:ee.createHeartbeat(ee.HeartbeatMessageType.heartbeat_request,f,m)})),ee.flush(a)},a.close=function(f){if(!a.fail&&a.sessionCache&&a.session){var m={id:a.session.id,version:a.session.version,sp:a.session.sp};m.sp.keys=null,a.sessionCache.setSession(m.id,m)}a.open&&(a.open=!1,a.input.clear(),(a.isConnected||a.handshaking)&&(a.isConnected=a.handshaking=!1,ee.queue(a,ee.createAlert(a,{level:ee.Alert.Level.warning,description:ee.Alert.Description.close_notify})),ee.flush(a)),a.closed(a)),a.reset(f)},a};kBe.exports=Rt.tls=Rt.tls||{};for(aq in ee)typeof ee[aq]!="function"&&(Rt.tls[aq]=ee[aq]);var aq;Rt.tls.prf_tls1=cq;Rt.tls.hmac_sha1=IEt;Rt.tls.createSessionCache=ee.createSessionCache;Rt.tls.createConnection=ee.createConnection});var DBe=V((aHr,RBe)=>{d();var Fy=ei();Sy();Uoe();var Rd=RBe.exports=Fy.tls;Rd.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:o(function(e){e.bulk_cipher_algorithm=Rd.BulkCipherAlgorithm.aes,e.cipher_type=Rd.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=Rd.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},"initSecurityParameters"),initConnectionState:BBe};Rd.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:o(function(e){e.bulk_cipher_algorithm=Rd.BulkCipherAlgorithm.aes,e.cipher_type=Rd.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=Rd.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},"initSecurityParameters"),initConnectionState:BBe};function BBe(e,t,r){var n=t.entity===Fy.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:Fy.cipher.createDecipher("AES-CBC",n?r.keys.server_write_key:r.keys.client_write_key),iv:n?r.keys.server_write_IV:r.keys.client_write_IV},e.write.cipherState={init:!1,cipher:Fy.cipher.createCipher("AES-CBC",n?r.keys.client_write_key:r.keys.server_write_key),iv:n?r.keys.client_write_IV:r.keys.server_write_IV},e.read.cipherFunction=$Et,e.write.cipherFunction=HEt,e.read.macLength=e.write.macLength=r.mac_length,e.read.macFunction=e.write.macFunction=Rd.hmac_sha1}o(BBe,"initConnectionState");function HEt(e,t){var r=!1,n=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(n),t.updateSequenceNumber();var i;e.version.minor===Rd.Versions.TLS_1_0.minor?i=t.cipherState.init?null:t.cipherState.iv:i=Fy.random.getBytesSync(16),t.cipherState.init=!0;var s=t.cipherState.cipher;return s.start({iv:i}),e.version.minor>=Rd.Versions.TLS_1_1.minor&&s.output.putBytes(i),s.update(e.fragment),s.finish(VEt)&&(e.fragment=s.output,e.length=e.fragment.length(),r=!0),r}o(HEt,"encrypt_aes_cbc_sha1");function VEt(e,t,r){if(!r){var n=e-t.length()%e;t.fillWithByte(n-1,n)}return!0}o(VEt,"encrypt_aes_cbc_sha1_padding");function jEt(e,t,r){var n=!0;if(r){for(var i=t.length(),s=t.last(),a=i-1-s;a<i-1;++a)n=n&&t.at(a)==s;n&&t.truncate(s+1)}return n}o(jEt,"decrypt_aes_cbc_sha1_padding");function $Et(e,t){var r=!1,n;e.version.minor===Rd.Versions.TLS_1_0.minor?n=t.cipherState.init?null:t.cipherState.iv:n=e.fragment.getBytes(16),t.cipherState.init=!0;var i=t.cipherState.cipher;i.start({iv:n}),i.update(e.fragment),r=i.finish(jEt);var s=t.macLength,a=Fy.random.getBytesSync(s),l=i.output.length();l>=s?(e.fragment=i.output.getBytes(l-s),a=i.output.getBytes(s)):e.fragment=i.output.getBytes(),e.fragment=Fy.util.createBuffer(e.fragment),e.length=e.fragment.length();var c=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),r=zEt(t.macKey,a,c)&&r,r}o($Et,"decrypt_aes_cbc_sha1");function zEt(e,t,r){var n=Fy.hmac.create();return n.start("SHA1",e),n.update(t),t=n.digest().getBytes(),n.start(null,null),n.update(r),r=n.digest().getBytes(),t===r}o(zEt,"compareMacs")});var Goe=V((uHr,LBe)=>{d();var ss=ei();Yp();Ji();var ZS=LBe.exports=ss.sha512=ss.sha512||{};ss.md.sha512=ss.md.algorithms.sha512=ZS;var FBe=ss.sha384=ss.sha512.sha384=ss.sha512.sha384||{};FBe.create=function(){return ZS.create("SHA-384")};ss.md.sha384=ss.md.algorithms.sha384=FBe;ss.sha512.sha256=ss.sha512.sha256||{create:o(function(){return ZS.create("SHA-512/256")},"create")};ss.md["sha512/256"]=ss.md.algorithms["sha512/256"]=ss.sha512.sha256;ss.sha512.sha224=ss.sha512.sha224||{create:o(function(){return ZS.create("SHA-512/224")},"create")};ss.md["sha512/224"]=ss.md.algorithms["sha512/224"]=ss.sha512.sha224;ZS.create=function(e){if(NBe||YEt(),typeof e>"u"&&(e="SHA-512"),!(e in cx))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=cx[e],r=null,n=ss.util.createBuffer(),i=new Array(80),s=0;s<80;++s)i[s]=new Array(2);var a=64;switch(e){case"SHA-384":a=48;break;case"SHA-512/256":a=32;break;case"SHA-512/224":a=28;break}var l={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:a,messageLength:0,fullMessageLength:null,messageLengthSize:16};return l.start=function(){l.messageLength=0,l.fullMessageLength=l.messageLength128=[];for(var c=l.messageLengthSize/4,u=0;u<c;++u)l.fullMessageLength.push(0);n=ss.util.createBuffer(),r=new Array(t.length);for(var u=0;u<t.length;++u)r[u]=t[u].slice(0);return l},l.start(),l.update=function(c,u){u==="utf8"&&(c=ss.util.encodeUtf8(c));var f=c.length;l.messageLength+=f,f=[f/4294967296>>>0,f>>>0];for(var m=l.fullMessageLength.length-1;m>=0;--m)l.fullMessageLength[m]+=f[1],f[1]=f[0]+(l.fullMessageLength[m]/4294967296>>>0),l.fullMessageLength[m]=l.fullMessageLength[m]>>>0,f[0]=f[1]/4294967296>>>0;return n.putBytes(c),PBe(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),l},l.digest=function(){var c=ss.util.createBuffer();c.putBytes(n.bytes());var u=l.fullMessageLength[l.fullMessageLength.length-1]+l.messageLengthSize,f=u&l.blockLength-1;c.putBytes(qoe.substr(0,l.blockLength-f));for(var m,h,p=l.fullMessageLength[0]*8,A=0;A<l.fullMessageLength.length-1;++A)m=l.fullMessageLength[A+1]*8,h=m/4294967296>>>0,p+=h,c.putInt32(p>>>0),p=m>>>0;c.putInt32(p);for(var x=new Array(r.length),A=0;A<r.length;++A)x[A]=r[A].slice(0);PBe(x,i,c);var E=ss.util.createBuffer(),v;e==="SHA-512"?v=x.length:e==="SHA-384"?v=x.length-2:v=x.length-4;for(var A=0;A<v;++A)E.putInt32(x[A][0]),(A!==v-1||e!=="SHA-512/224")&&E.putInt32(x[A][1]);return E},l};var qoe=null,NBe=!1,Woe=null,cx=null;function YEt(){qoe="\x80",qoe+=ss.util.fillString("\0",128),Woe=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],cx={},cx["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],cx["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],cx["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],cx["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],NBe=!0}o(YEt,"_init");function PBe(e,t,r){for(var n,i,s,a,l,c,u,f,m,h,p,A,x,E,v,b,S,B,P,F,q,ne,ce,Z,G,U,ie,J,H,M,j,X,ae,re,le,de=r.length();de>=128;){for(H=0;H<16;++H)t[H][0]=r.getInt32()>>>0,t[H][1]=r.getInt32()>>>0;for(;H<80;++H)X=t[H-2],M=X[0],j=X[1],n=((M>>>19|j<<13)^(j>>>29|M<<3)^M>>>6)>>>0,i=((M<<13|j>>>19)^(j<<3|M>>>29)^(M<<26|j>>>6))>>>0,re=t[H-15],M=re[0],j=re[1],s=((M>>>1|j<<31)^(M>>>8|j<<24)^M>>>7)>>>0,a=((M<<31|j>>>1)^(M<<24|j>>>8)^(M<<25|j>>>7))>>>0,ae=t[H-7],le=t[H-16],j=i+ae[1]+a+le[1],t[H][0]=n+ae[0]+s+le[0]+(j/4294967296>>>0)>>>0,t[H][1]=j>>>0;for(x=e[0][0],E=e[0][1],v=e[1][0],b=e[1][1],S=e[2][0],B=e[2][1],P=e[3][0],F=e[3][1],q=e[4][0],ne=e[4][1],ce=e[5][0],Z=e[5][1],G=e[6][0],U=e[6][1],ie=e[7][0],J=e[7][1],H=0;H<80;++H)u=((q>>>14|ne<<18)^(q>>>18|ne<<14)^(ne>>>9|q<<23))>>>0,f=((q<<18|ne>>>14)^(q<<14|ne>>>18)^(ne<<23|q>>>9))>>>0,m=(G^q&(ce^G))>>>0,h=(U^ne&(Z^U))>>>0,l=((x>>>28|E<<4)^(E>>>2|x<<30)^(E>>>7|x<<25))>>>0,c=((x<<4|E>>>28)^(E<<30|x>>>2)^(E<<25|x>>>7))>>>0,p=(x&v|S&(x^v))>>>0,A=(E&b|B&(E^b))>>>0,j=J+f+h+Woe[H][1]+t[H][1],n=ie+u+m+Woe[H][0]+t[H][0]+(j/4294967296>>>0)>>>0,i=j>>>0,j=c+A,s=l+p+(j/4294967296>>>0)>>>0,a=j>>>0,ie=G,J=U,G=ce,U=Z,ce=q,Z=ne,j=F+i,q=P+n+(j/4294967296>>>0)>>>0,ne=j>>>0,P=S,F=B,S=v,B=b,v=x,b=E,j=i+a,x=n+s+(j/4294967296>>>0)>>>0,E=j>>>0;j=e[0][1]+E,e[0][0]=e[0][0]+x+(j/4294967296>>>0)>>>0,e[0][1]=j>>>0,j=e[1][1]+b,e[1][0]=e[1][0]+v+(j/4294967296>>>0)>>>0,e[1][1]=j>>>0,j=e[2][1]+B,e[2][0]=e[2][0]+S+(j/4294967296>>>0)>>>0,e[2][1]=j>>>0,j=e[3][1]+F,e[3][0]=e[3][0]+P+(j/4294967296>>>0)>>>0,e[3][1]=j>>>0,j=e[4][1]+ne,e[4][0]=e[4][0]+q+(j/4294967296>>>0)>>>0,e[4][1]=j>>>0,j=e[5][1]+Z,e[5][0]=e[5][0]+ce+(j/4294967296>>>0)>>>0,e[5][1]=j>>>0,j=e[6][1]+U,e[6][0]=e[6][0]+G+(j/4294967296>>>0)>>>0,e[6][1]=j>>>0,j=e[7][1]+J,e[7][0]=e[7][0]+ie+(j/4294967296>>>0)>>>0,e[7][1]=j>>>0,de-=128}}o(PBe,"_update")});var QBe=V(Hoe=>{d();var KEt=ei();ih();var Il=KEt.asn1;Hoe.privateKeyValidator={name:"PrivateKeyInfo",tagClass:Il.Class.UNIVERSAL,type:Il.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:Il.Class.UNIVERSAL,type:Il.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:Il.Class.UNIVERSAL,type:Il.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Il.Class.UNIVERSAL,type:Il.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:Il.Class.UNIVERSAL,type:Il.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};Hoe.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:Il.Class.UNIVERSAL,type:Il.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:Il.Class.UNIVERSAL,type:Il.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Il.Class.UNIVERSAL,type:Il.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:Il.Class.UNIVERSAL,type:Il.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}});var KBe=V((pHr,YBe)=>{d();var Jl=ei();YS();wd();Goe();Ji();var GBe=QBe(),JEt=GBe.publicKeyValidator,XEt=GBe.privateKeyValidator;typeof MBe>"u"&&(MBe=Jl.jsbn.BigInteger);var MBe,$oe=Jl.util.ByteBuffer,nu=typeof Buffer>"u"?Uint8Array:Buffer;Jl.pki=Jl.pki||{};YBe.exports=Jl.pki.ed25519=Jl.ed25519=Jl.ed25519||{};var yi=Jl.ed25519;yi.constants={};yi.constants.PUBLIC_KEY_BYTE_LENGTH=32;yi.constants.PRIVATE_KEY_BYTE_LENGTH=64;yi.constants.SEED_BYTE_LENGTH=32;yi.constants.SIGN_BYTE_LENGTH=64;yi.constants.HASH_BYTE_LENGTH=64;yi.generateKeyPair=function(e){e=e||{};var t=e.seed;if(t===void 0)t=Jl.random.getBytesSync(yi.constants.SEED_BYTE_LENGTH);else if(typeof t=="string"){if(t.length!==yi.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+yi.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=sA({message:t,encoding:"binary"});for(var r=new nu(yi.constants.PUBLIC_KEY_BYTE_LENGTH),n=new nu(yi.constants.PRIVATE_KEY_BYTE_LENGTH),i=0;i<32;++i)n[i]=t[i];return rbt(r,n),{publicKey:r,privateKey:n}};yi.privateKeyFromAsn1=function(e){var t={},r=[],n=Jl.asn1.validate(e,XEt,t,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var s=Jl.asn1.derToOid(t.privateKeyOid),a=Jl.oids.EdDSA25519;if(s!==a)throw new Error('Invalid OID "'+s+'"; OID must be "'+a+'".');var l=t.privateKey,c=sA({message:Jl.asn1.fromDer(l).value,encoding:"binary"});return{privateKeyBytes:c}};yi.publicKeyFromAsn1=function(e){var t={},r=[],n=Jl.asn1.validate(e,JEt,t,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var s=Jl.asn1.derToOid(t.publicKeyOid),a=Jl.oids.EdDSA25519;if(s!==a)throw new Error('Invalid OID "'+s+'"; OID must be "'+a+'".');var l=t.ed25519PublicKey;if(l.length!==yi.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return sA({message:l,encoding:"binary"})};yi.publicKeyFromPrivateKey=function(e){e=e||{};var t=sA({message:e.privateKey,encoding:"binary"});if(t.length!==yi.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+yi.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new nu(yi.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=t[32+n];return r};yi.sign=function(e){e=e||{};var t=sA(e),r=sA({message:e.privateKey,encoding:"binary"});if(r.length===yi.constants.SEED_BYTE_LENGTH){var n=yi.generateKeyPair({seed:r});r=n.privateKey}else if(r.length!==yi.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+yi.constants.SEED_BYTE_LENGTH+" or "+yi.constants.PRIVATE_KEY_BYTE_LENGTH);var i=new nu(yi.constants.SIGN_BYTE_LENGTH+t.length);nbt(i,t,t.length,r);for(var s=new nu(yi.constants.SIGN_BYTE_LENGTH),a=0;a<s.length;++a)s[a]=i[a];return s};yi.verify=function(e){e=e||{};var t=sA(e);if(e.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=sA({message:e.signature,encoding:"binary"});if(r.length!==yi.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+yi.constants.SIGN_BYTE_LENGTH);var n=sA({message:e.publicKey,encoding:"binary"});if(n.length!==yi.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+yi.constants.PUBLIC_KEY_BYTE_LENGTH);var i=new nu(yi.constants.SIGN_BYTE_LENGTH+t.length),s=new nu(yi.constants.SIGN_BYTE_LENGTH+t.length),a;for(a=0;a<yi.constants.SIGN_BYTE_LENGTH;++a)i[a]=r[a];for(a=0;a<t.length;++a)i[a+yi.constants.SIGN_BYTE_LENGTH]=t[a];return ibt(s,i,i.length,n)>=0};function sA(e){var t=e.message;if(t instanceof Uint8Array||t instanceof nu)return t;var r=e.encoding;if(t===void 0)if(e.md)t=e.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof t=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.from(t,r);t=new $oe(t,r)}else if(!(t instanceof $oe))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new nu(t.length()),i=0;i<n.length;++i)n[i]=t.at(i);return n}o(sA,"messageToNativeBuffer");var zoe=pn(),uq=pn([1]),ZEt=pn([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),ebt=pn([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),OBe=pn([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),UBe=pn([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),Voe=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),tbt=pn([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function e_(e,t){var r=Jl.md.sha512.create(),n=new $oe(e);r.update(n.getBytes(t),"binary");var i=r.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(i,"binary");for(var s=new nu(yi.constants.HASH_BYTE_LENGTH),a=0;a<64;++a)s[a]=i.charCodeAt(a);return s}o(e_,"sha512");function rbt(e,t){var r=[pn(),pn(),pn(),pn()],n,i=e_(t,32);for(i[0]&=248,i[31]&=127,i[31]|=64,Xoe(r,i),Joe(e,r),n=0;n<32;++n)t[n+32]=e[n];return 0}o(rbt,"crypto_sign_keypair");function nbt(e,t,r,n){var i,s,a=new Float64Array(64),l=[pn(),pn(),pn(),pn()],c=e_(n,32);c[0]&=248,c[31]&=127,c[31]|=64;var u=r+64;for(i=0;i<r;++i)e[64+i]=t[i];for(i=0;i<32;++i)e[32+i]=c[32+i];var f=e_(e.subarray(32),r+32);for(Yoe(f),Xoe(l,f),Joe(e,l),i=32;i<64;++i)e[i]=n[i];var m=e_(e,r+64);for(Yoe(m),i=32;i<64;++i)a[i]=0;for(i=0;i<32;++i)a[i]=f[i];for(i=0;i<32;++i)for(s=0;s<32;s++)a[i+s]+=m[i]*c[s];return HBe(e.subarray(32),a),u}o(nbt,"crypto_sign");function ibt(e,t,r,n){var i,s,a=new nu(32),l=[pn(),pn(),pn(),pn()],c=[pn(),pn(),pn(),pn()];if(s=-1,r<64||obt(c,n))return-1;for(i=0;i<r;++i)e[i]=t[i];for(i=0;i<32;++i)e[i+32]=n[i];var u=e_(e,r);if(Yoe(u),$Be(l,c,u),Xoe(c,t.subarray(32)),Koe(l,c),Joe(a,l),r-=64,VBe(t,0,a,0)){for(i=0;i<r;++i)e[i]=0;return-1}for(i=0;i<r;++i)e[i]=t[i+64];return s=r,s}o(ibt,"crypto_sign_open");function HBe(e,t){var r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)t[i]+=r-16*t[n]*Voe[i-(n-32)],r=t[i]+128>>8,t[i]-=r*256;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;++i)t[i]+=r-(t[31]>>4)*Voe[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;++i)t[i]-=r*Voe[i];for(n=0;n<32;++n)t[n+1]+=t[n]>>8,e[n]=t[n]&255}o(HBe,"modL");function Yoe(e){for(var t=new Float64Array(64),r=0;r<64;++r)t[r]=e[r],e[r]=0;HBe(e,t)}o(Yoe,"reduce");function Koe(e,t){var r=pn(),n=pn(),i=pn(),s=pn(),a=pn(),l=pn(),c=pn(),u=pn(),f=pn();U8(r,e[1],e[0]),U8(f,t[1],t[0]),Do(r,r,f),O8(n,e[0],e[1]),O8(f,t[0],t[1]),Do(n,n,f),Do(i,e[3],t[3]),Do(i,i,ebt),Do(s,e[2],t[2]),O8(s,s,s),U8(a,n,r),U8(l,s,i),O8(c,s,i),O8(u,n,r),Do(e[0],a,l),Do(e[1],u,c),Do(e[2],c,l),Do(e[3],a,u)}o(Koe,"add");function qBe(e,t,r){for(var n=0;n<4;++n)zBe(e[n],t[n],r)}o(qBe,"cswap");function Joe(e,t){var r=pn(),n=pn(),i=pn();cbt(i,t[2]),Do(r,t[0],i),Do(n,t[1],i),fq(e,n),e[31]^=jBe(r)<<7}o(Joe,"pack");function fq(e,t){var r,n,i,s=pn(),a=pn();for(r=0;r<16;++r)a[r]=t[r];for(joe(a),joe(a),joe(a),n=0;n<2;++n){for(s[0]=a[0]-65517,r=1;r<15;++r)s[r]=a[r]-65535-(s[r-1]>>16&1),s[r-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),i=s[15]>>16&1,s[14]&=65535,zBe(a,s,1-i)}for(r=0;r<16;r++)e[2*r]=a[r]&255,e[2*r+1]=a[r]>>8}o(fq,"pack25519");function obt(e,t){var r=pn(),n=pn(),i=pn(),s=pn(),a=pn(),l=pn(),c=pn();return Ny(e[2],uq),sbt(e[1],t),ux(i,e[1]),Do(s,i,ZEt),U8(i,i,e[2]),O8(s,e[2],s),ux(a,s),ux(l,a),Do(c,l,a),Do(r,c,i),Do(r,r,s),abt(r,r),Do(r,r,i),Do(r,r,s),Do(r,r,s),Do(e[0],r,s),ux(n,e[0]),Do(n,n,s),WBe(n,i)&&Do(e[0],e[0],tbt),ux(n,e[0]),Do(n,n,s),WBe(n,i)?-1:(jBe(e[0])===t[31]>>7&&U8(e[0],zoe,e[0]),Do(e[3],e[0],e[1]),0)}o(obt,"unpackneg");function sbt(e,t){var r;for(r=0;r<16;++r)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}o(sbt,"unpack25519");function abt(e,t){var r=pn(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=250;n>=0;--n)ux(r,r),n!==1&&Do(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}o(abt,"pow2523");function WBe(e,t){var r=new nu(32),n=new nu(32);return fq(r,e),fq(n,t),VBe(r,0,n,0)}o(WBe,"neq25519");function VBe(e,t,r,n){return lbt(e,t,r,n,32)}o(VBe,"crypto_verify_32");function lbt(e,t,r,n,i){var s,a=0;for(s=0;s<i;++s)a|=e[t+s]^r[n+s];return(1&a-1>>>8)-1}o(lbt,"vn");function jBe(e){var t=new nu(32);return fq(t,e),t[0]&1}o(jBe,"par25519");function $Be(e,t,r){var n,i;for(Ny(e[0],zoe),Ny(e[1],uq),Ny(e[2],uq),Ny(e[3],zoe),i=255;i>=0;--i)n=r[i/8|0]>>(i&7)&1,qBe(e,t,n),Koe(t,e),Koe(e,e),qBe(e,t,n)}o($Be,"scalarmult");function Xoe(e,t){var r=[pn(),pn(),pn(),pn()];Ny(r[0],OBe),Ny(r[1],UBe),Ny(r[2],uq),Do(r[3],OBe,UBe),$Be(e,r,t)}o(Xoe,"scalarbase");function Ny(e,t){var r;for(r=0;r<16;r++)e[r]=t[r]|0}o(Ny,"set25519");function cbt(e,t){var r=pn(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=253;n>=0;--n)ux(r,r),n!==2&&n!==4&&Do(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}o(cbt,"inv25519");function joe(e){var t,r,n=1;for(t=0;t<16;++t)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-n*65536;e[0]+=n-1+37*(n-1)}o(joe,"car25519");function zBe(e,t,r){for(var n,i=~(r-1),s=0;s<16;++s)n=i&(e[s]^t[s]),e[s]^=n,t[s]^=n}o(zBe,"sel25519");function pn(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;++t)r[t]=e[t];return r}o(pn,"gf");function O8(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]+r[n]}o(O8,"A");function U8(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]-r[n]}o(U8,"Z");function ux(e,t){Do(e,t,t)}o(ux,"S");function Do(e,t,r){var n,i,s=0,a=0,l=0,c=0,u=0,f=0,m=0,h=0,p=0,A=0,x=0,E=0,v=0,b=0,S=0,B=0,P=0,F=0,q=0,ne=0,ce=0,Z=0,G=0,U=0,ie=0,J=0,H=0,M=0,j=0,X=0,ae=0,re=r[0],le=r[1],de=r[2],Re=r[3],Ee=r[4],Oe=r[5],_e=r[6],Je=r[7],ut=r[8],ot=r[9],at=r[10],oe=r[11],Pe=r[12],Ae=r[13],We=r[14],z=r[15];n=t[0],s+=n*re,a+=n*le,l+=n*de,c+=n*Re,u+=n*Ee,f+=n*Oe,m+=n*_e,h+=n*Je,p+=n*ut,A+=n*ot,x+=n*at,E+=n*oe,v+=n*Pe,b+=n*Ae,S+=n*We,B+=n*z,n=t[1],a+=n*re,l+=n*le,c+=n*de,u+=n*Re,f+=n*Ee,m+=n*Oe,h+=n*_e,p+=n*Je,A+=n*ut,x+=n*ot,E+=n*at,v+=n*oe,b+=n*Pe,S+=n*Ae,B+=n*We,P+=n*z,n=t[2],l+=n*re,c+=n*le,u+=n*de,f+=n*Re,m+=n*Ee,h+=n*Oe,p+=n*_e,A+=n*Je,x+=n*ut,E+=n*ot,v+=n*at,b+=n*oe,S+=n*Pe,B+=n*Ae,P+=n*We,F+=n*z,n=t[3],c+=n*re,u+=n*le,f+=n*de,m+=n*Re,h+=n*Ee,p+=n*Oe,A+=n*_e,x+=n*Je,E+=n*ut,v+=n*ot,b+=n*at,S+=n*oe,B+=n*Pe,P+=n*Ae,F+=n*We,q+=n*z,n=t[4],u+=n*re,f+=n*le,m+=n*de,h+=n*Re,p+=n*Ee,A+=n*Oe,x+=n*_e,E+=n*Je,v+=n*ut,b+=n*ot,S+=n*at,B+=n*oe,P+=n*Pe,F+=n*Ae,q+=n*We,ne+=n*z,n=t[5],f+=n*re,m+=n*le,h+=n*de,p+=n*Re,A+=n*Ee,x+=n*Oe,E+=n*_e,v+=n*Je,b+=n*ut,S+=n*ot,B+=n*at,P+=n*oe,F+=n*Pe,q+=n*Ae,ne+=n*We,ce+=n*z,n=t[6],m+=n*re,h+=n*le,p+=n*de,A+=n*Re,x+=n*Ee,E+=n*Oe,v+=n*_e,b+=n*Je,S+=n*ut,B+=n*ot,P+=n*at,F+=n*oe,q+=n*Pe,ne+=n*Ae,ce+=n*We,Z+=n*z,n=t[7],h+=n*re,p+=n*le,A+=n*de,x+=n*Re,E+=n*Ee,v+=n*Oe,b+=n*_e,S+=n*Je,B+=n*ut,P+=n*ot,F+=n*at,q+=n*oe,ne+=n*Pe,ce+=n*Ae,Z+=n*We,G+=n*z,n=t[8],p+=n*re,A+=n*le,x+=n*de,E+=n*Re,v+=n*Ee,b+=n*Oe,S+=n*_e,B+=n*Je,P+=n*ut,F+=n*ot,q+=n*at,ne+=n*oe,ce+=n*Pe,Z+=n*Ae,G+=n*We,U+=n*z,n=t[9],A+=n*re,x+=n*le,E+=n*de,v+=n*Re,b+=n*Ee,S+=n*Oe,B+=n*_e,P+=n*Je,F+=n*ut,q+=n*ot,ne+=n*at,ce+=n*oe,Z+=n*Pe,G+=n*Ae,U+=n*We,ie+=n*z,n=t[10],x+=n*re,E+=n*le,v+=n*de,b+=n*Re,S+=n*Ee,B+=n*Oe,P+=n*_e,F+=n*Je,q+=n*ut,ne+=n*ot,ce+=n*at,Z+=n*oe,G+=n*Pe,U+=n*Ae,ie+=n*We,J+=n*z,n=t[11],E+=n*re,v+=n*le,b+=n*de,S+=n*Re,B+=n*Ee,P+=n*Oe,F+=n*_e,q+=n*Je,ne+=n*ut,ce+=n*ot,Z+=n*at,G+=n*oe,U+=n*Pe,ie+=n*Ae,J+=n*We,H+=n*z,n=t[12],v+=n*re,b+=n*le,S+=n*de,B+=n*Re,P+=n*Ee,F+=n*Oe,q+=n*_e,ne+=n*Je,ce+=n*ut,Z+=n*ot,G+=n*at,U+=n*oe,ie+=n*Pe,J+=n*Ae,H+=n*We,M+=n*z,n=t[13],b+=n*re,S+=n*le,B+=n*de,P+=n*Re,F+=n*Ee,q+=n*Oe,ne+=n*_e,ce+=n*Je,Z+=n*ut,G+=n*ot,U+=n*at,ie+=n*oe,J+=n*Pe,H+=n*Ae,M+=n*We,j+=n*z,n=t[14],S+=n*re,B+=n*le,P+=n*de,F+=n*Re,q+=n*Ee,ne+=n*Oe,ce+=n*_e,Z+=n*Je,G+=n*ut,U+=n*ot,ie+=n*at,J+=n*oe,H+=n*Pe,M+=n*Ae,j+=n*We,X+=n*z,n=t[15],B+=n*re,P+=n*le,F+=n*de,q+=n*Re,ne+=n*Ee,ce+=n*Oe,Z+=n*_e,G+=n*Je,U+=n*ut,ie+=n*ot,J+=n*at,H+=n*oe,M+=n*Pe,j+=n*Ae,X+=n*We,ae+=n*z,s+=38*P,a+=38*F,l+=38*q,c+=38*ne,u+=38*ce,f+=38*Z,m+=38*G,h+=38*U,p+=38*ie,A+=38*J,x+=38*H,E+=38*M,v+=38*j,b+=38*X,S+=38*ae,i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=b+i+65535,i=Math.floor(n/65536),b=n-i*65536,n=S+i+65535,i=Math.floor(n/65536),S=n-i*65536,n=B+i+65535,i=Math.floor(n/65536),B=n-i*65536,s+=i-1+37*(i-1),i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=b+i+65535,i=Math.floor(n/65536),b=n-i*65536,n=S+i+65535,i=Math.floor(n/65536),S=n-i*65536,n=B+i+65535,i=Math.floor(n/65536),B=n-i*65536,s+=i-1+37*(i-1),e[0]=s,e[1]=a,e[2]=l,e[3]=c,e[4]=u,e[5]=f,e[6]=m,e[7]=h,e[8]=p,e[9]=A,e[10]=x,e[11]=E,e[12]=v,e[13]=b,e[14]=S,e[15]=B}o(Do,"M")});var eRe=V((yHr,ZBe)=>{d();var lf=ei();Ji();wd();YS();ZBe.exports=lf.kem=lf.kem||{};var JBe=lf.jsbn.BigInteger;lf.kem.rsa={};lf.kem.rsa.create=function(e,t){t=t||{};var r=t.prng||lf.random,n={};return n.encrypt=function(i,s){var a=Math.ceil(i.n.bitLength()/8),l;do l=new JBe(lf.util.bytesToHex(r.getBytesSync(a)),16).mod(i.n);while(l.compareTo(JBe.ONE)<=0);l=lf.util.hexToBytes(l.toString(16));var c=a-l.length;c>0&&(l=lf.util.fillString("\0",c)+l);var u=i.encrypt(l,"NONE"),f=e.generate(l,s);return{encapsulation:u,key:f}},n.decrypt=function(i,s,a){var l=i.decrypt(s,"NONE");return e.generate(l,a)},n};lf.kem.kdf1=function(e,t){XBe(this,e,0,t||e.digestLength)};lf.kem.kdf2=function(e,t){XBe(this,e,1,t||e.digestLength)};function XBe(e,t,r,n){e.generate=function(i,s){for(var a=new lf.util.ByteBuffer,l=Math.ceil(s/n)+r,c=new lf.util.ByteBuffer,u=r;u<l;++u){c.putInt32(u),t.start(),t.update(i+c.getBytes());var f=t.digest();a.putBytes(f.getBytes(n))}return a.truncate(a.length()-s),a.getBytes()}}o(XBe,"_createKDF")});var iRe=V((EHr,nRe)=>{d();var Si=ei();Ji();nRe.exports=Si.log=Si.log||{};Si.log.levels=["none","error","warning","info","debug","verbose","max"];var dq={},tse=[],r_=null;Si.log.LEVEL_LOCKED=2;Si.log.NO_LEVEL_CHECK=4;Si.log.INTERPOLATE=8;for(ng=0;ng<Si.log.levels.length;++ng)Zoe=Si.log.levels[ng],dq[Zoe]={index:ng,name:Zoe.toUpperCase()};var Zoe,ng;Si.log.logMessage=function(e){for(var t=dq[e.level].index,r=0;r<tse.length;++r){var n=tse[r];if(n.flags&Si.log.NO_LEVEL_CHECK)n.f(e);else{var i=dq[n.level].index;t<=i&&n.f(n,e)}}};Si.log.prepareStandard=function(e){"standard"in e||(e.standard=dq[e.level].name+" ["+e.category+"] "+e.message)};Si.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]),e.full=Si.util.format.apply(this,t)}};Si.log.prepareStandardFull=function(e){"standardFull"in e||(Si.log.prepareStandard(e),e.standardFull=e.standard)};for(ese=["error","warning","info","debug","verbose"],ng=0;ng<ese.length;++ng)(function(t){Si.log[t]=function(r,n){var i=Array.prototype.slice.call(arguments).slice(2),s={timestamp:new Date,level:t,category:r,message:n,arguments:i};Si.log.logMessage(s)}})(ese[ng]);var ese,ng;Si.log.makeLogger=function(e){var t={flags:0,f:e};return Si.log.setLevel(t,"none"),t};Si.log.setLevel=function(e,t){var r=!1;if(e&&!(e.flags&Si.log.LEVEL_LOCKED))for(var n=0;n<Si.log.levels.length;++n){var i=Si.log.levels[n];if(t==i){e.level=t,r=!0;break}}return r};Si.log.lock=function(e,t){typeof t>"u"||t?e.flags|=Si.log.LEVEL_LOCKED:e.flags&=~Si.log.LEVEL_LOCKED};Si.log.addLogger=function(e){tse.push(e)};typeof console<"u"&&"log"in console?(console.error&&console.warn&&console.info&&console.debug?(tRe={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},n_=o(function(e,t){Si.log.prepareStandard(t);var r=tRe[t.level],n=[t.standard];n=n.concat(t.arguments.slice()),r.apply(console,n)},"f"),q8=Si.log.makeLogger(n_)):(n_=o(function(t,r){Si.log.prepareStandardFull(r),console.log(r.standardFull)},"f"),q8=Si.log.makeLogger(n_)),Si.log.setLevel(q8,"debug"),Si.log.addLogger(q8),r_=q8):console={log:o(function(){},"log")};var q8,tRe,n_;r_!==null&&typeof window<"u"&&window.location&&(t_=new URL(window.location.href).searchParams,t_.has("console.level")&&Si.log.setLevel(r_,t_.get("console.level").slice(-1)[0]),t_.has("console.lock")&&(rRe=t_.get("console.lock").slice(-1)[0],rRe=="true"&&Si.log.lock(r_)));var t_,rRe;Si.log.consoleLogger=r_});var sRe=V((IHr,oRe)=>{d();oRe.exports=Yp();VU();F8();hoe();Goe()});var cRe=V((wHr,lRe)=>{d();var mr=ei();Sy();ih();$S();_y();nx();_oe();wd();Ji();oq();var De=mr.asn1,oc=lRe.exports=mr.pkcs7=mr.pkcs7||{};oc.messageFromPem=function(e){var t=mr.pem.decode(e)[0];if(t.type!=="PKCS7"){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var n=De.fromDer(t.body);return oc.messageFromAsn1(n)};oc.messageToPem=function(e,t){var r={type:"PKCS7",body:De.toDer(e.toAsn1()).getBytes()};return mr.pem.encode(r,{maxline:t})};oc.messageFromAsn1=function(e){var t={},r=[];if(!De.validate(e,oc.asn1.contentInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw n.errors=r,n}var i=De.derToOid(t.contentType),s;switch(i){case mr.pki.oids.envelopedData:s=oc.createEnvelopedData();break;case mr.pki.oids.encryptedData:s=oc.createEncryptedData();break;case mr.pki.oids.signedData:s=oc.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+i+" is not (yet) supported.")}return s.fromAsn1(t.content.value[0]),s};oc.createSignedData=function(){var e=null;return e={type:mr.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:o(function(n){if(nse(e,n,oc.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var i=e.rawCapture.certificates.value,s=0;s<i.length;++s)e.certificates.push(mr.pki.certificateFromAsn1(i[s]))},"fromAsn1"),toAsn1:o(function(){e.contentInfo||e.sign();for(var n=[],i=0;i<e.certificates.length;++i)n.push(mr.pki.certificateToAsn1(e.certificates[i]));var s=[],a=De.create(De.Class.CONTEXT_SPECIFIC,0,!0,[De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.INTEGER,!1,De.integerToDer(e.version).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return n.length>0&&a.value[0].value.push(De.create(De.Class.CONTEXT_SPECIFIC,0,!0,n)),s.length>0&&a.value[0].value.push(De.create(De.Class.CONTEXT_SPECIFIC,1,!0,s)),a.value[0].value.push(De.create(De.Class.UNIVERSAL,De.Type.SET,!0,e.signerInfos)),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.type).getBytes()),a])},"toAsn1"),addSigner:o(function(n){var i=n.issuer,s=n.serialNumber;if(n.certificate){var a=n.certificate;typeof a=="string"&&(a=mr.pki.certificateFromPem(a)),i=a.issuer.attributes,s=a.serialNumber}var l=n.key;if(!l)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof l=="string"&&(l=mr.pki.privateKeyFromPem(l));var c=n.digestAlgorithm||mr.pki.oids.sha1;switch(c){case mr.pki.oids.sha1:case mr.pki.oids.sha256:case mr.pki.oids.sha384:case mr.pki.oids.sha512:case mr.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+c)}var u=n.authenticatedAttributes||[];if(u.length>0){for(var f=!1,m=!1,h=0;h<u.length;++h){var p=u[h];if(!f&&p.type===mr.pki.oids.contentType){if(f=!0,m)break;continue}if(!m&&p.type===mr.pki.oids.messageDigest){if(m=!0,f)break;continue}}if(!f||!m)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:l,version:1,issuer:i,serialNumber:s,digestAlgorithm:c,signatureAlgorithm:mr.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:u,unauthenticatedAttributes:[]})},"addSigner"),sign:o(function(n){if(n=n||{},(typeof e.content!="object"||e.contentInfo===null)&&(e.contentInfo=De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(mr.pki.oids.data).getBytes())]),"content"in e)){var i;e.content instanceof mr.util.ByteBuffer?i=e.content.bytes():typeof e.content=="string"&&(i=mr.util.encodeUtf8(e.content)),n.detached?e.detachedContent=De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,i):e.contentInfo.value.push(De.create(De.Class.CONTEXT_SPECIFIC,0,!0,[De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,i)]))}if(e.signers.length!==0){var s=t();r(s)}},"sign"),verify:o(function(){throw new Error("PKCS#7 signature verification not yet implemented.")},"verify"),addCertificate:o(function(n){typeof n=="string"&&(n=mr.pki.certificateFromPem(n)),e.certificates.push(n)},"addCertificate"),addCertificateRevokationList:o(function(n){throw new Error("PKCS#7 CRL support not yet implemented.")},"addCertificateRevokationList")},e;function t(){for(var n={},i=0;i<e.signers.length;++i){var s=e.signers[i],a=s.digestAlgorithm;a in n||(n[a]=mr.md[mr.pki.oids[a]].create()),s.authenticatedAttributes.length===0?s.md=n[a]:s.md=mr.md[mr.pki.oids[a]].create()}e.digestAlgorithmIdentifiers=[];for(var a in n)e.digestAlgorithmIdentifiers.push(De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(a).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.NULL,!1,"")]));return n}o(t,"addDigestAlgorithmIds");function r(n){var i;if(e.detachedContent?i=e.detachedContent:(i=e.contentInfo.value[1],i=i.value[0]),!i)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var s=De.derToOid(e.contentInfo.value[0].value),a=De.toDer(i);a.getByte(),De.getBerValueLength(a),a=a.getBytes();for(var l in n)n[l].start().update(a);for(var c=new Date,u=0;u<e.signers.length;++u){var f=e.signers[u];if(f.authenticatedAttributes.length===0){if(s!==mr.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{f.authenticatedAttributesAsn1=De.create(De.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var m=De.create(De.Class.UNIVERSAL,De.Type.SET,!0,[]),h=0;h<f.authenticatedAttributes.length;++h){var p=f.authenticatedAttributes[h];p.type===mr.pki.oids.messageDigest?p.value=n[f.digestAlgorithm].digest():p.type===mr.pki.oids.signingTime&&(p.value||(p.value=c)),m.value.push(rse(p)),f.authenticatedAttributesAsn1.value.push(rse(p))}a=De.toDer(m).getBytes(),f.md.start().update(a)}f.signature=f.key.sign(f.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=pbt(e.signers)}o(r,"addSignerInfos")};oc.createEncryptedData=function(){var e=null;return e={type:mr.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:mr.pki.oids["aes256-CBC"]},fromAsn1:o(function(t){nse(e,t,oc.asn1.encryptedDataValidator)},"fromAsn1"),decrypt:o(function(t){t!==void 0&&(e.encryptedContent.key=t),aRe(e)},"decrypt")},e};oc.createEnvelopedData=function(){var e=null;return e={type:mr.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:mr.pki.oids["aes256-CBC"]},fromAsn1:o(function(t){var r=nse(e,t,oc.asn1.envelopedDataValidator);e.recipients=dbt(r.recipientInfos.value)},"fromAsn1"),toAsn1:o(function(){return De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.type).getBytes()),De.create(De.Class.CONTEXT_SPECIFIC,0,!0,[De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.INTEGER,!1,De.integerToDer(e.version).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.SET,!0,mbt(e.recipients)),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,gbt(e.encryptedContent))])])])},"toAsn1"),findRecipient:o(function(t){for(var r=t.issuer.attributes,n=0;n<e.recipients.length;++n){var i=e.recipients[n],s=i.issuer;if(i.serialNumber===t.serialNumber&&s.length===r.length){for(var a=!0,l=0;l<r.length;++l)if(s[l].type!==r[l].type||s[l].value!==r[l].value){a=!1;break}if(a)return i}}return null},"findRecipient"),decrypt:o(function(t,r){if(e.encryptedContent.key===void 0&&t!==void 0&&r!==void 0)switch(t.encryptedContent.algorithm){case mr.pki.oids.rsaEncryption:case mr.pki.oids.desCBC:var n=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=mr.util.createBuffer(n);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}aRe(e)},"decrypt"),addRecipient:o(function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:mr.pki.oids.rsaEncryption,key:t.publicKey}})},"addRecipient"),encrypt:o(function(t,r){if(e.encryptedContent.content===void 0){r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key;var n,i,s;switch(r){case mr.pki.oids["aes128-CBC"]:n=16,i=16,s=mr.aes.createEncryptionCipher;break;case mr.pki.oids["aes192-CBC"]:n=24,i=16,s=mr.aes.createEncryptionCipher;break;case mr.pki.oids["aes256-CBC"]:n=32,i=16,s=mr.aes.createEncryptionCipher;break;case mr.pki.oids["des-EDE3-CBC"]:n=24,i=8,s=mr.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(t===void 0)t=mr.util.createBuffer(mr.random.getBytes(n));else if(t.length()!=n)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+n+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=mr.util.createBuffer(mr.random.getBytes(i));var a=s(t);if(a.start(e.encryptedContent.parameter.copy()),a.update(e.content),!a.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=a.output}for(var l=0;l<e.recipients.length;++l){var c=e.recipients[l];if(c.encryptedContent.content===void 0)switch(c.encryptedContent.algorithm){case mr.pki.oids.rsaEncryption:c.encryptedContent.content=c.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+c.encryptedContent.algorithm)}}},"encrypt")},e};function ubt(e){var t={},r=[];if(!De.validate(e,oc.asn1.recipientInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw n.errors=r,n}return{version:t.version.charCodeAt(0),issuer:mr.pki.RDNAttributesAsArray(t.issuer),serialNumber:mr.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:De.derToOid(t.encAlgorithm),parameter:t.encParameter?t.encParameter.value:void 0,content:t.encKey}}}o(ubt,"_recipientFromAsn1");function fbt(e){return De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.INTEGER,!1,De.integerToDer(e.version).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[mr.pki.distinguishedNameToAsn1({attributes:e.issuer}),De.create(De.Class.UNIVERSAL,De.Type.INTEGER,!1,mr.util.hexToBytes(e.serialNumber))]),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.encryptedContent.algorithm).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.NULL,!1,"")]),De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,e.encryptedContent.content)])}o(fbt,"_recipientToAsn1");function dbt(e){for(var t=[],r=0;r<e.length;++r)t.push(ubt(e[r]));return t}o(dbt,"_recipientsFromAsn1");function mbt(e){for(var t=[],r=0;r<e.length;++r)t.push(fbt(e[r]));return t}o(mbt,"_recipientsToAsn1");function hbt(e){var t=De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.INTEGER,!1,De.integerToDer(e.version).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[mr.pki.distinguishedNameToAsn1({attributes:e.issuer}),De.create(De.Class.UNIVERSAL,De.Type.INTEGER,!1,mr.util.hexToBytes(e.serialNumber))]),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.digestAlgorithm).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.signatureAlgorithm).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.NULL,!1,"")])),t.value.push(De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var r=De.create(De.Class.CONTEXT_SPECIFIC,1,!0,[]),n=0;n<e.unauthenticatedAttributes.length;++n){var i=e.unauthenticatedAttributes[n];r.values.push(rse(i))}t.value.push(r)}return t}o(hbt,"_signerToAsn1");function pbt(e){for(var t=[],r=0;r<e.length;++r)t.push(hbt(e[r]));return t}o(pbt,"_signersToAsn1");function rse(e){var t;if(e.type===mr.pki.oids.contentType)t=De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.value).getBytes());else if(e.type===mr.pki.oids.messageDigest)t=De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===mr.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),n=new Date("2050-01-01T00:00:00Z"),i=e.value;if(typeof i=="string"){var s=Date.parse(i);isNaN(s)?i.length===13?i=De.utcTimeToDate(i):i=De.generalizedTimeToDate(i):i=new Date(s)}i>=r&&i<n?t=De.create(De.Class.UNIVERSAL,De.Type.UTCTIME,!1,De.dateToUtcTime(i)):t=De.create(De.Class.UNIVERSAL,De.Type.GENERALIZEDTIME,!1,De.dateToGeneralizedTime(i))}return De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.type).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.SET,!0,[t])])}o(rse,"_attributeToAsn1");function gbt(e){return[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(mr.pki.oids.data).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.algorithm).getBytes()),e.parameter?De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,e.parameter.getBytes()):void 0]),De.create(De.Class.CONTEXT_SPECIFIC,0,!0,[De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,e.content.getBytes())])]}o(gbt,"_encryptedContentToAsn1");function nse(e,t,r){var n={},i=[];if(!De.validate(t,r,n,i)){var s=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw s.errors=s,s}var a=De.derToOid(n.contentType);if(a!==mr.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(n.encryptedContent){var l="";if(mr.util.isArray(n.encryptedContent))for(var c=0;c<n.encryptedContent.length;++c){if(n.encryptedContent[c].type!==De.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");l+=n.encryptedContent[c].value}else l=n.encryptedContent;e.encryptedContent={algorithm:De.derToOid(n.encAlgorithm),parameter:mr.util.createBuffer(n.encParameter.value),content:mr.util.createBuffer(l)}}if(n.content){var l="";if(mr.util.isArray(n.content))for(var c=0;c<n.content.length;++c){if(n.content[c].type!==De.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");l+=n.content[c].value}else l=n.content;e.content=mr.util.createBuffer(l)}return e.version=n.version.charCodeAt(0),e.rawCapture=n,n}o(nse,"_fromAsn1");function aRe(e){if(e.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(e.content===void 0){var t;switch(e.encryptedContent.algorithm){case mr.pki.oids["aes128-CBC"]:case mr.pki.oids["aes192-CBC"]:case mr.pki.oids["aes256-CBC"]:t=mr.aes.createDecryptionCipher(e.encryptedContent.key);break;case mr.pki.oids.desCBC:case mr.pki.oids["des-EDE3-CBC"]:t=mr.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}o(aRe,"_decryptContent")});var fRe=V((kHr,uRe)=>{d();var Ma=ei();Sy();B8();VU();F8();Ji();var hq=uRe.exports=Ma.ssh=Ma.ssh||{};hq.privateKeyToPutty=function(e,t,r){r=r||"",t=t||"";var n="ssh-rsa",i=t===""?"none":"aes256-cbc",s="PuTTY-User-Key-File-2: "+n+`\r
`;s+="Encryption: "+i+`\r
`,s+="Comment: "+r+`\r
`;var a=Ma.util.createBuffer();W8(a,n),ig(a,e.e),ig(a,e.n);var l=Ma.util.encode64(a.bytes(),64),c=Math.floor(l.length/66)+1;s+="Public-Lines: "+c+`\r
`,s+=l;var u=Ma.util.createBuffer();ig(u,e.d),ig(u,e.p),ig(u,e.q),ig(u,e.qInv);var f;if(!t)f=Ma.util.encode64(u.bytes(),64);else{var m=u.length()+16-1;m-=m%16;var h=mq(u.bytes());h.truncate(h.length()-m+u.length()),u.putBuffer(h);var p=Ma.util.createBuffer();p.putBuffer(mq("\0\0\0\0",t)),p.putBuffer(mq("\0\0\0",t));var A=Ma.aes.createEncryptionCipher(p.truncate(8),"CBC");A.start(Ma.util.createBuffer().fillWithByte(0,16)),A.update(u.copy()),A.finish();var x=A.output;x.truncate(16),f=Ma.util.encode64(x.bytes(),64)}c=Math.floor(f.length/66)+1,s+=`\r
Private-Lines: `+c+`\r
`,s+=f;var E=mq("putty-private-key-file-mac-key",t),v=Ma.util.createBuffer();W8(v,n),W8(v,i),W8(v,r),v.putInt32(a.length()),v.putBuffer(a),v.putInt32(u.length()),v.putBuffer(u);var b=Ma.hmac.create();return b.start("sha1",E),b.update(v.bytes()),s+=`\r
Private-MAC: `+b.digest().toHex()+`\r
`,s};hq.publicKeyToOpenSSH=function(e,t){var r="ssh-rsa";t=t||"";var n=Ma.util.createBuffer();return W8(n,r),ig(n,e.e),ig(n,e.n),r+" "+Ma.util.encode64(n.bytes())+" "+t};hq.privateKeyToOpenSSH=function(e,t){return t?Ma.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):Ma.pki.privateKeyToPem(e)};hq.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||Ma.md.md5.create(),n="ssh-rsa",i=Ma.util.createBuffer();W8(i,n),ig(i,e.e),ig(i,e.n),r.start(),r.update(i.getBytes());var s=r.digest();if(t.encoding==="hex"){var a=s.toHex();return t.delimiter?a.match(/.{2}/g).join(t.delimiter):a}else{if(t.encoding==="binary")return s.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return s};function ig(e,t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var n=Ma.util.hexToBytes(r);e.putInt32(n.length),e.putBytes(n)}o(ig,"_addBigIntegerToBuffer");function W8(e,t){e.putInt32(t.length),e.putString(t)}o(W8,"_addStringToBuffer");function mq(){for(var e=Ma.md.sha1.create(),t=arguments.length,r=0;r<t;++r)e.update(arguments[r]);return e.digest()}o(mq,"_sha1")});var mRe=V((DHr,dRe)=>{d();dRe.exports=ei();Sy();DBe();ih();MU();$S();KBe();B8();eRe();iRe();sRe();koe();YU();nx();voe();Doe();cRe();Foe();Toe();poe();rq();wd();yoe();fRe();Uoe();Ji()});var gRe=V(fx=>{"use strict";d();Object.defineProperty(fx,"__esModule",{value:!0});fx.convert=fx.Format=void 0;var i_=mRe(),Ly;(function(e){e.der="der",e.pem="pem",e.txt="txt",e.asn1="asn1",e.x509="x509",e.fingerprint="fingerprint"})(Ly=fx.Format||(fx.Format={}));function hRe(e){var t=i_.pki.pemToDer(e),r=i_.asn1,n=r.fromDer(t.data.toString("binary")).value[0].value,i=n[0],s=i.tagClass===r.Class.CONTEXT_SPECIFIC&&i.type===0&&i.constructed,a=n.slice(s);return{serial:a[0],issuer:a[2],valid:a[3],subject:a[4]}}o(hRe,"myASN");function Abt(e){var t=hRe(e),r=t.subject.value.map(function(i){return i.value[0].value[1].value}).join("/"),n=t.valid.value.map(function(i){return i.value}).join(" - ");return["Subject	".concat(r),"Valid	".concat(n),String(e)].join(`
`)}o(Abt,"txtFormat");function pRe(e,t){switch(t){case Ly.der:return i_.pki.pemToDer(e);case Ly.pem:return e;case Ly.txt:return Abt(e);case Ly.asn1:return hRe(e);case Ly.fingerprint:var r=i_.md.sha1.create(),n=pRe(e,Ly.der);return r.update(n.getBytes()),r.digest().toHex();case Ly.x509:return i_.pki.certificateFromPem(e);default:throw new Error("unknown format ".concat(t))}}o(pRe,"convert");fx.convert=pRe});var bRe=V(iu=>{"use strict";d();var Qy=iu&&iu.__assign||function(){return Qy=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Qy.apply(this,arguments)},pq=iu&&iu.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))};Object.defineProperty(iu,"__esModule",{value:!0});iu.convert=iu.Format=iu.addToGlobalAgent=iu.get=void 0;var ise=require("https"),ybt=require("tls"),ARe=require("child_process"),yRe=J_e(),aA=gRe();Object.defineProperty(iu,"Format",{enumerable:!0,get:o(function(){return aA.Format},"get")});Object.defineProperty(iu,"convert",{enumerable:!0,get:o(function(){return aA.convert},"get")});var CRe=process.platform==="darwin",xRe=ise.globalAgent,Aq={keychain:"all",unique:!0,excludeBundled:!0,format:aA.Format.pem};function ERe(e){if(e===void 0&&(e=Aq),!CRe)return[];e=Qy(Qy({},Aq),e);var t=/(?=-----BEGIN\sCERTIFICATE-----)/g,r=["find-certificate","-a","-p"],n=[];if(e.keychain==="all"||e.keychain==="SystemRootCertificates"){var i="/System/Library/Keychains/SystemRootCertificates.keychain",s=(0,ARe.spawnSync)("/usr/bin/security",r.concat(i)).stdout.toString().split(t).map(function(u){return u.trim()});n=pq(pq([],n,!0),s,!0)}if(e.keychain==="all"||e.keychain==="current"){var a=(0,ARe.spawnSync)("/usr/bin/security",r).stdout.toString().split(t).map(function(u){return u.trim()});n=pq(pq([],n,!0),a,!0)}if(e.unique||e.excludeBundled){var l=n.map(function(u){return(0,aA.convert)(u,aA.Format.fingerprint)}),c=e.excludeBundled?ybt.rootCertificates.map(function(u){return(0,aA.convert)(u,aA.Format.fingerprint)}):[];n=n.filter(function(u,f){var m=l[f];return!(e.unique&&f!==l.indexOf(m)||e.excludeBundled&&c.includes(m))})}return n.map(function(u){return(0,aA.convert)(u,e.format)})}o(ERe,"get");iu.get=ERe;var gq=xRe.options.ca,Cbt=o(function(e){if(e===void 0&&(e=Aq),!!CRe){var t;Array.isArray(gq)?t=Array.from(gq):t=typeof gq<"u"?[gq]:[],ERe(Qy(Qy(Qy({},Aq),e),{format:aA.Format.pem,excludeBundled:!1})).forEach(function(r){return t.push(r)}),xRe.options.ca=t,ise.Agent=function(r){return function(n){var i=typeof n<"u"?Qy({},n):{};return typeof i.ca>"u"&&(i.ca=t),r.call(this,i)}}(ise.Agent),(0,yRe.setGlobalDispatcher)(new yRe.Agent({connect:{ca:t}}))}},"addToGlobalAgent");iu.addToGlobalAgent=Cbt});var vRe=V((UHr,ose)=>{d();function xbt(){let{X509Certificate:e}=require("crypto"),{join:t}=require("path");var r=typeof __webpack_require__=="function"?__non_webpack_require__:require;let n=r(t(__dirname,"crypt32.node")),i=[],s=new n.Crypt32;try{let a;for(;a=s.next();){let l=new e(a);i.push(l.toString())}}finally{s.done()}return Array.from(new Set(i))}o(xbt,"all");process.platform!=="win32"?ose.exports.all=()=>[]:ose.exports.all=xbt});var DRe=V(($Hr,RRe)=>{"use strict";d();function BRe(e,t,r){let n=t[r];if(e==null&&n.required===!1)return;if(e==null)throw new TypeError(`Required parameter \`${n.name}\` missing`);let i=typeof e;if(n.type&&i!==n.type){if(n.required===!1&&t.slice(r).some(s=>s.type===i))return!1;throw new TypeError(`Invalid type for parameter \`${n.name}\`, expected \`${n.type}\` but found \`${typeof e}\``)}return!0}o(BRe,"validateParameter");function bbt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}o(bbt,"hasOwnProperty");function vbt(e,t){return function(){let r=Array.prototype.slice.call(arguments),n=[];for(let s=0,a=0;s<t.length;++s,++a){let l=t[s],c=r[a];bbt(l,"default")&&c==null&&(c=l.default),l.type==="object"&&l.default!=null&&(c=Object.assign({},l.default,c)),l.name==="options"&&(typeof c=="function"||c==null)&&(c={}),BRe(c,t,s)?n.push(c):a--}if(typeof arguments[arguments.length-1]!="function")return new Promise((s,a)=>{n.push((l,c)=>{if(l)return a(l);s(c)}),e.apply(this,n)});e.apply(this,n)}}o(vbt,"defineOperation");RRe.exports={defineOperation:vbt,validateParameter:BRe}});var hse=V((KHr,NRe)=>{"use strict";d();var V8=jJ()("kerberos"),H8=V8.KerberosClient,PRe=V8.KerberosServer,My=DRe().defineOperation,Ibt=1,Tbt=2,wbt=4,Sbt=8,_bt=16,kbt=32,Bbt=64,Rbt=128,Dbt=256,FRe=0,Pbt=9,Fbt=6;H8.prototype.step=My(H8.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);H8.prototype.wrap=My(H8.prototype.wrap,[{name:"challenge",type:"string"},{name:"options",type:"object"},{name:"callback",type:"function",required:!1}]);H8.prototype.unwrap=My(H8.prototype.unwrap,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);PRe.prototype.step=My(PRe.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);var Nbt=My(V8.checkPassword,[{name:"username",type:"string"},{name:"password",type:"string"},{name:"service",type:"string"},{name:"defaultRealm",type:"string",required:!1},{name:"callback",type:"function",required:!1}]),Lbt=My(V8.principalDetails,[{name:"service",type:"string"},{name:"hostname",type:"string"},{name:"callback",type:"function",required:!1}]),Qbt=My(V8.initializeClient,[{name:"service",type:"string"},{name:"options",type:"object",default:{mechOID:FRe}},{name:"callback",type:"function",required:!1}]),Mbt=My(V8.initializeServer,[{name:"service",type:"string"},{name:"callback",type:"function",required:!1}]);NRe.exports={initializeClient:Qbt,initializeServer:Mbt,principalDetails:Lbt,checkPassword:Nbt,GSS_C_DELEG_FLAG:Ibt,GSS_C_MUTUAL_FLAG:Tbt,GSS_C_REPLAY_FLAG:wbt,GSS_C_SEQUENCE_FLAG:Sbt,GSS_C_CONF_FLAG:_bt,GSS_C_INTEG_FLAG:kbt,GSS_C_ANON_FLAG:Bbt,GSS_C_PROT_READY_FLAG:Rbt,GSS_C_TRANS_FLAG:Dbt,GSS_C_NO_OID:FRe,GSS_MECH_OID_KRB5:Pbt,GSS_MECH_OID_SPNEGO:Fbt}});var LRe=V((XHr,Obt)=>{Obt.exports={name:"kerberos",version:"2.2.0",description:"Kerberos library for Node.js",main:"lib/index.js",files:["lib","src","binding.gyp","HISTORY.md","README.md"],repository:{type:"git",url:"https://github.com/mongodb-js/kerberos.git"},keywords:["kerberos","security","authentication"],author:{name:"The MongoDB NodeJS Team",email:"dbx-node@mongodb.com"},bugs:{url:"https://jira.mongodb.org/projects/NODE/issues/"},dependencies:{bindings:"^1.5.0","node-addon-api":"^6.1.0","prebuild-install":"^7.1.2"},devDependencies:{"@types/node":"^22.2.0",chai:"^4.4.1","chai-string":"^1.5.0",chalk:"^4.1.2","clang-format":"^1.8.0","dmd-clear":"^0.1.2",eslint:"^9.9.0","eslint-config-prettier":"^9.1.0","eslint-plugin-prettier":"^5.2.1","jsdoc-to-markdown":"^8.0.3",mocha:"^10.7.3",mongodb:"^6.8.0","node-gyp":"^10.1.0",prebuild:"^13.0.0",prettier:"^3.3.3",request:"^2.88.2"},overrides:{prebuild:{"node-gyp":"$node-gyp"}},scripts:{install:"prebuild-install --runtime napi || node-gyp rebuild","format-cxx":"clang-format -i 'src/**/*'","format-js":"ESLINT_USE_FLAT_CONFIG=false eslint lib test --fix","check:lint":"ESLINT_USE_FLAT_CONFIG=false eslint lib test",precommit:"check-clang-format",docs:"jsdoc2md --template etc/README.hbs --plugin dmd-clear --files lib/kerberos.js > README.md",test:"mocha test",prebuild:"prebuild --runtime napi --strip --verbose --all"},engines:{node:">=12.9.0"},binary:{napi_versions:[4]},license:"Apache-2.0",readmeFilename:"README.md"}});var MRe=V((ZHr,QRe)=>{"use strict";d();var Ubt=require("dns"),qbt=hse(),pse=class{static{o(this,"MongoAuthProcess")}constructor(t,r,n,i){i=i||{},this.host=t,this.port=r,this.serviceName=n||i.gssapiServiceName||"mongodb",this.canonicalizeHostName=typeof i.gssapiCanonicalizeHostName=="boolean"?i.gssapiCanonicalizeHostName:!1,this._transition=Wbt(this),this.retries=10}init(t,r,n){let i=this;this.username=t,this.password=r;function s(a,l,c){if(!a)return c();Ubt.resolveCname(l,(u,f)=>{if(u)return c(u);Array.isArray(f)&&f.length>0&&(i.host=f[0]),c()})}o(s,"performGssapiCanonicalizeHostName"),s(this.canonicalizeHostName,this.host,a=>{if(a)return n(a);let l={};r!=null&&Object.assign(l,{user:t,password:r});let c=process.platform==="win32"?`${this.serviceName}/${this.host}`:`${this.serviceName}@${this.host}`;qbt.initializeClient(c,l,(u,f)=>{if(u)return n(u,null);i.client=f,n(null,f)})})}transition(t,r){if(this._transition==null)return r(new Error("Transition finished"));this._transition(t,r)}};function Wbt(e){return(t,r)=>{e.client.step("",(n,i)=>{if(n)return r(n);e._transition=Gbt(e),r(null,i)})}}o(Wbt,"firstTransition");function Gbt(e){return(t,r)=>{e.client.step(t,(n,i)=>{if(n&&e.retries===0)return r(n);if(n)return e.retries=e.retries-1,e.transition(t,r);e._transition=Hbt(e),r(null,i||"")})}}o(Gbt,"secondTransition");function Hbt(e){return(t,r)=>{e.client.unwrap(t,(n,i)=>{if(n)return r(n,!1);e.client.wrap(i,{user:e.username},(s,a)=>{if(s)return r(s,!1);e._transition=Vbt(e),r(null,a)})})}}o(Hbt,"thirdTransition");function Vbt(e){return(t,r)=>{e._transition=null,r(null,!0)}}o(Vbt,"fourthTransition");QRe.exports={MongoAuthProcess:pse}});var URe=V((rVr,o_)=>{"use strict";d();var ORe=hse();o_.exports=ORe;o_.exports.Kerberos=ORe;o_.exports.version=LRe().version;o_.exports.processes={MongoAuthProcess:MRe().MongoAuthProcess}});var R_=V((kan,uPe)=>{d();var bIt="2.0.0",vIt=Number.MAX_SAFE_INTEGER||9007199254740991,IIt=16,TIt=250,wIt=["major","premajor","minor","preminor","patch","prepatch","prerelease"];uPe.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:IIt,MAX_SAFE_BUILD_LENGTH:TIt,MAX_SAFE_INTEGER:vIt,RELEASE_TYPES:wIt,SEMVER_SPEC_VERSION:bIt,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var D_=V((Ran,fPe)=>{d();var SIt=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};fPe.exports=SIt});var m6=V((ug,dPe)=>{d();var{MAX_SAFE_COMPONENT_LENGTH:Iae,MAX_SAFE_BUILD_LENGTH:_It,MAX_LENGTH:kIt}=R_(),BIt=D_();ug=dPe.exports={};var RIt=ug.re=[],DIt=ug.safeRe=[],Sr=ug.src=[],PIt=ug.safeSrc=[],_r=ug.t={},FIt=0,Tae="[a-zA-Z0-9-]",NIt=[["\\s",1],["\\d",kIt],[Tae,_It]],LIt=o(e=>{for(let[t,r]of NIt)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},"makeSafeRegex"),Gn=o((e,t,r)=>{let n=LIt(t),i=FIt++;BIt(e,i,t),_r[e]=i,Sr[i]=t,PIt[i]=n,RIt[i]=new RegExp(t,r?"g":void 0),DIt[i]=new RegExp(n,r?"g":void 0)},"createToken");Gn("NUMERICIDENTIFIER","0|[1-9]\\d*");Gn("NUMERICIDENTIFIERLOOSE","\\d+");Gn("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Tae}*`);Gn("MAINVERSION",`(${Sr[_r.NUMERICIDENTIFIER]})\\.(${Sr[_r.NUMERICIDENTIFIER]})\\.(${Sr[_r.NUMERICIDENTIFIER]})`);Gn("MAINVERSIONLOOSE",`(${Sr[_r.NUMERICIDENTIFIERLOOSE]})\\.(${Sr[_r.NUMERICIDENTIFIERLOOSE]})\\.(${Sr[_r.NUMERICIDENTIFIERLOOSE]})`);Gn("PRERELEASEIDENTIFIER",`(?:${Sr[_r.NUMERICIDENTIFIER]}|${Sr[_r.NONNUMERICIDENTIFIER]})`);Gn("PRERELEASEIDENTIFIERLOOSE",`(?:${Sr[_r.NUMERICIDENTIFIERLOOSE]}|${Sr[_r.NONNUMERICIDENTIFIER]})`);Gn("PRERELEASE",`(?:-(${Sr[_r.PRERELEASEIDENTIFIER]}(?:\\.${Sr[_r.PRERELEASEIDENTIFIER]})*))`);Gn("PRERELEASELOOSE",`(?:-?(${Sr[_r.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Sr[_r.PRERELEASEIDENTIFIERLOOSE]})*))`);Gn("BUILDIDENTIFIER",`${Tae}+`);Gn("BUILD",`(?:\\+(${Sr[_r.BUILDIDENTIFIER]}(?:\\.${Sr[_r.BUILDIDENTIFIER]})*))`);Gn("FULLPLAIN",`v?${Sr[_r.MAINVERSION]}${Sr[_r.PRERELEASE]}?${Sr[_r.BUILD]}?`);Gn("FULL",`^${Sr[_r.FULLPLAIN]}$`);Gn("LOOSEPLAIN",`[v=\\s]*${Sr[_r.MAINVERSIONLOOSE]}${Sr[_r.PRERELEASELOOSE]}?${Sr[_r.BUILD]}?`);Gn("LOOSE",`^${Sr[_r.LOOSEPLAIN]}$`);Gn("GTLT","((?:<|>)?=?)");Gn("XRANGEIDENTIFIERLOOSE",`${Sr[_r.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Gn("XRANGEIDENTIFIER",`${Sr[_r.NUMERICIDENTIFIER]}|x|X|\\*`);Gn("XRANGEPLAIN",`[v=\\s]*(${Sr[_r.XRANGEIDENTIFIER]})(?:\\.(${Sr[_r.XRANGEIDENTIFIER]})(?:\\.(${Sr[_r.XRANGEIDENTIFIER]})(?:${Sr[_r.PRERELEASE]})?${Sr[_r.BUILD]}?)?)?`);Gn("XRANGEPLAINLOOSE",`[v=\\s]*(${Sr[_r.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Sr[_r.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Sr[_r.XRANGEIDENTIFIERLOOSE]})(?:${Sr[_r.PRERELEASELOOSE]})?${Sr[_r.BUILD]}?)?)?`);Gn("XRANGE",`^${Sr[_r.GTLT]}\\s*${Sr[_r.XRANGEPLAIN]}$`);Gn("XRANGELOOSE",`^${Sr[_r.GTLT]}\\s*${Sr[_r.XRANGEPLAINLOOSE]}$`);Gn("COERCEPLAIN",`(^|[^\\d])(\\d{1,${Iae}})(?:\\.(\\d{1,${Iae}}))?(?:\\.(\\d{1,${Iae}}))?`);Gn("COERCE",`${Sr[_r.COERCEPLAIN]}(?:$|[^\\d])`);Gn("COERCEFULL",Sr[_r.COERCEPLAIN]+`(?:${Sr[_r.PRERELEASE]})?(?:${Sr[_r.BUILD]})?(?:$|[^\\d])`);Gn("COERCERTL",Sr[_r.COERCE],!0);Gn("COERCERTLFULL",Sr[_r.COERCEFULL],!0);Gn("LONETILDE","(?:~>?)");Gn("TILDETRIM",`(\\s*)${Sr[_r.LONETILDE]}\\s+`,!0);ug.tildeTrimReplace="$1~";Gn("TILDE",`^${Sr[_r.LONETILDE]}${Sr[_r.XRANGEPLAIN]}$`);Gn("TILDELOOSE",`^${Sr[_r.LONETILDE]}${Sr[_r.XRANGEPLAINLOOSE]}$`);Gn("LONECARET","(?:\\^)");Gn("CARETTRIM",`(\\s*)${Sr[_r.LONECARET]}\\s+`,!0);ug.caretTrimReplace="$1^";Gn("CARET",`^${Sr[_r.LONECARET]}${Sr[_r.XRANGEPLAIN]}$`);Gn("CARETLOOSE",`^${Sr[_r.LONECARET]}${Sr[_r.XRANGEPLAINLOOSE]}$`);Gn("COMPARATORLOOSE",`^${Sr[_r.GTLT]}\\s*(${Sr[_r.LOOSEPLAIN]})$|^$`);Gn("COMPARATOR",`^${Sr[_r.GTLT]}\\s*(${Sr[_r.FULLPLAIN]})$|^$`);Gn("COMPARATORTRIM",`(\\s*)${Sr[_r.GTLT]}\\s*(${Sr[_r.LOOSEPLAIN]}|${Sr[_r.XRANGEPLAIN]})`,!0);ug.comparatorTrimReplace="$1$2$3";Gn("HYPHENRANGE",`^\\s*(${Sr[_r.XRANGEPLAIN]})\\s+-\\s+(${Sr[_r.XRANGEPLAIN]})\\s*$`);Gn("HYPHENRANGELOOSE",`^\\s*(${Sr[_r.XRANGEPLAINLOOSE]})\\s+-\\s+(${Sr[_r.XRANGEPLAINLOOSE]})\\s*$`);Gn("STAR","(<|>)?=?\\s*\\*");Gn("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Gn("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var DW=V((Nan,mPe)=>{d();var QIt=Object.freeze({loose:!0}),MIt=Object.freeze({}),OIt=o(e=>e?typeof e!="object"?QIt:e:MIt,"parseOptions");mPe.exports=OIt});var wae=V((Man,gPe)=>{d();var hPe=/^[0-9]+$/,pPe=o((e,t)=>{let r=hPe.test(e),n=hPe.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},"compareIdentifiers"),UIt=o((e,t)=>pPe(t,e),"rcompareIdentifiers");gPe.exports={compareIdentifiers:pPe,rcompareIdentifiers:UIt}});var D0=V((qan,xPe)=>{d();var PW=D_(),{MAX_LENGTH:APe,MAX_SAFE_INTEGER:FW}=R_(),{safeRe:yPe,safeSrc:CPe,t:NW}=m6(),qIt=DW(),{compareIdentifiers:h6}=wae(),Sae=class e{static{o(this,"SemVer")}constructor(t,r){if(r=qIt(r),t instanceof e){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>APe)throw new TypeError(`version is longer than ${APe} characters`);PW("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=t.trim().match(r.loose?yPe[NW.LOOSE]:yPe[NW.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>FW||this.major<0)throw new TypeError("Invalid major version");if(this.minor>FW||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>FW||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<FW)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(PW("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if(typeof t=="string"&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof e||(t=new e(t,this.options)),h6(this.major,t.major)||h6(this.minor,t.minor)||h6(this.patch,t.patch)}comparePre(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=t.prerelease[r];if(PW("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return h6(n,i)}while(++r)}compareBuild(t){t instanceof e||(t=new e(t,this.options));let r=0;do{let n=this.build[r],i=t.build[r];if(PW("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return h6(n,i)}while(++r)}inc(t,r,n){if(t.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let i=new RegExp(`^${this.options.loose?CPe[NW.PRERELEASELOOSE]:CPe[NW.PRERELEASE]}$`),s=`-${r}`.match(i);if(!s||s[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),h6(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};xPe.exports=Sae});var Tx=V((Han,bPe)=>{d();var EPe=D0(),WIt=o((e,t,r=!1)=>{if(e instanceof EPe)return e;try{return new EPe(e,t)}catch(n){if(!r)return null;throw n}},"parse");bPe.exports=WIt});var IPe=V(($an,vPe)=>{d();var GIt=Tx(),HIt=o((e,t)=>{let r=GIt(e,t);return r?r.version:null},"valid");vPe.exports=HIt});var wPe=V((Kan,TPe)=>{d();var VIt=Tx(),jIt=o((e,t)=>{let r=VIt(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},"clean");TPe.exports=jIt});var kPe=V((Zan,_Pe)=>{d();var SPe=D0(),$It=o((e,t,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new SPe(e instanceof SPe?e.version:e,r).inc(t,n,i).version}catch{return null}},"inc");_Pe.exports=$It});var DPe=V((rln,RPe)=>{d();var BPe=Tx(),zIt=o((e,t)=>{let r=BPe(e,null,!0),n=BPe(t,null,!0),i=r.compare(n);if(i===0)return null;let s=i>0,a=s?r:n,l=s?n:r,c=!!a.prerelease.length;if(!!l.prerelease.length&&!c){if(!l.patch&&!l.minor)return"major";if(l.compareMain(a)===0)return l.minor&&!l.patch?"minor":"patch"}let f=c?"pre":"";return r.major!==n.major?f+"major":r.minor!==n.minor?f+"minor":r.patch!==n.patch?f+"patch":"prerelease"},"diff");RPe.exports=zIt});var FPe=V((oln,PPe)=>{d();var YIt=D0(),KIt=o((e,t)=>new YIt(e,t).major,"major");PPe.exports=KIt});var LPe=V((lln,NPe)=>{d();var JIt=D0(),XIt=o((e,t)=>new JIt(e,t).minor,"minor");NPe.exports=XIt});var MPe=V((fln,QPe)=>{d();var ZIt=D0(),e8t=o((e,t)=>new ZIt(e,t).patch,"patch");QPe.exports=e8t});var UPe=V((hln,OPe)=>{d();var t8t=Tx(),r8t=o((e,t)=>{let r=t8t(e,t);return r&&r.prerelease.length?r.prerelease:null},"prerelease");OPe.exports=r8t});var Nd=V((Aln,WPe)=>{d();var qPe=D0(),n8t=o((e,t,r)=>new qPe(e,r).compare(new qPe(t,r)),"compare");WPe.exports=n8t});var HPe=V((xln,GPe)=>{d();var i8t=Nd(),o8t=o((e,t,r)=>i8t(t,e,r),"rcompare");GPe.exports=o8t});var jPe=V((vln,VPe)=>{d();var s8t=Nd(),a8t=o((e,t)=>s8t(e,t,!0),"compareLoose");VPe.exports=a8t});var LW=V((wln,zPe)=>{d();var $Pe=D0(),l8t=o((e,t,r)=>{let n=new $Pe(e,r),i=new $Pe(t,r);return n.compare(i)||n.compareBuild(i)},"compareBuild");zPe.exports=l8t});var KPe=V((kln,YPe)=>{d();var c8t=LW(),u8t=o((e,t)=>e.sort((r,n)=>c8t(r,n,t)),"sort");YPe.exports=u8t});var XPe=V((Dln,JPe)=>{d();var f8t=LW(),d8t=o((e,t)=>e.sort((r,n)=>f8t(n,r,t)),"rsort");JPe.exports=d8t});var P_=V((Nln,ZPe)=>{d();var m8t=Nd(),h8t=o((e,t,r)=>m8t(e,t,r)>0,"gt");ZPe.exports=h8t});var QW=V((Mln,eFe)=>{d();var p8t=Nd(),g8t=o((e,t,r)=>p8t(e,t,r)<0,"lt");eFe.exports=g8t});var _ae=V((qln,tFe)=>{d();var A8t=Nd(),y8t=o((e,t,r)=>A8t(e,t,r)===0,"eq");tFe.exports=y8t});var kae=V((Hln,rFe)=>{d();var C8t=Nd(),x8t=o((e,t,r)=>C8t(e,t,r)!==0,"neq");rFe.exports=x8t});var MW=V(($ln,nFe)=>{d();var E8t=Nd(),b8t=o((e,t,r)=>E8t(e,t,r)>=0,"gte");nFe.exports=b8t});var OW=V((Kln,iFe)=>{d();var v8t=Nd(),I8t=o((e,t,r)=>v8t(e,t,r)<=0,"lte");iFe.exports=I8t});var Bae=V((Zln,oFe)=>{d();var T8t=_ae(),w8t=kae(),S8t=P_(),_8t=MW(),k8t=QW(),B8t=OW(),R8t=o((e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return T8t(e,r,n);case"!=":return w8t(e,r,n);case">":return S8t(e,r,n);case">=":return _8t(e,r,n);case"<":return k8t(e,r,n);case"<=":return B8t(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}},"cmp");oFe.exports=R8t});var aFe=V((r0n,sFe)=>{d();var D8t=D0(),P8t=Tx(),{safeRe:UW,t:qW}=m6(),F8t=o((e,t)=>{if(e instanceof D8t)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?UW[qW.COERCEFULL]:UW[qW.COERCE]);else{let c=t.includePrerelease?UW[qW.COERCERTLFULL]:UW[qW.COERCERTL],u;for(;(u=c.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||u.index+u[0].length!==r.index+r[0].length)&&(r=u),c.lastIndex=u.index+u[1].length+u[2].length;c.lastIndex=-1}if(r===null)return null;let n=r[2],i=r[3]||"0",s=r[4]||"0",a=t.includePrerelease&&r[5]?`-${r[5]}`:"",l=t.includePrerelease&&r[6]?`+${r[6]}`:"";return P8t(`${n}.${i}.${s}${a}${l}`,t)},"coerce");sFe.exports=F8t});var cFe=V((o0n,lFe)=>{d();var Rae=class{static{o(this,"LRUCache")}constructor(){this.max=1e3,this.map=new Map}get(t){let r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(t,r)}return this}};lFe.exports=Rae});var Ld=V((l0n,mFe)=>{d();var N8t=/\s+/g,Dae=class e{static{o(this,"Range")}constructor(t,r){if(r=Q8t(r),t instanceof e)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new e(t.raw,r);if(t instanceof Pae)return this.raw=t.value,this.set=[[t]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t.trim().replace(N8t," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!fFe(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&H8t(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let t=0;t<this.set.length;t++){t>0&&(this.formatted+="||");let r=this.set[t];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(t){let n=((this.options.includePrerelease&&W8t)|(this.options.loose&&G8t))+":"+t,i=uFe.get(n);if(i)return i;let s=this.options.loose,a=s?su[ac.HYPHENRANGELOOSE]:su[ac.HYPHENRANGE];t=t.replace(a,e6t(this.options.includePrerelease)),as("hyphen replace",t),t=t.replace(su[ac.COMPARATORTRIM],O8t),as("comparator trim",t),t=t.replace(su[ac.TILDETRIM],U8t),as("tilde trim",t),t=t.replace(su[ac.CARETTRIM],q8t),as("caret trim",t);let l=t.split(" ").map(m=>V8t(m,this.options)).join(" ").split(/\s+/).map(m=>Z8t(m,this.options));s&&(l=l.filter(m=>(as("loose invalid filter",m,this.options),!!m.match(su[ac.COMPARATORLOOSE])))),as("range list",l);let c=new Map,u=l.map(m=>new Pae(m,this.options));for(let m of u){if(fFe(m))return[m];c.set(m.value,m)}c.size>1&&c.has("")&&c.delete("");let f=[...c.values()];return uFe.set(n,f),f}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some(n=>dFe(n,r)&&t.set.some(i=>dFe(i,r)&&n.every(s=>i.every(a=>s.intersects(a,r)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new M8t(t,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(t6t(this.set[r],t,this.options))return!0;return!1}};mFe.exports=Dae;var L8t=cFe(),uFe=new L8t,Q8t=DW(),Pae=F_(),as=D_(),M8t=D0(),{safeRe:su,t:ac,comparatorTrimReplace:O8t,tildeTrimReplace:U8t,caretTrimReplace:q8t}=m6(),{FLAG_INCLUDE_PRERELEASE:W8t,FLAG_LOOSE:G8t}=R_(),fFe=o(e=>e.value==="<0.0.0-0","isNullSet"),H8t=o(e=>e.value==="","isAny"),dFe=o((e,t)=>{let r=!0,n=e.slice(),i=n.pop();for(;r&&n.length;)r=n.every(s=>i.intersects(s,t)),i=n.pop();return r},"isSatisfiable"),V8t=o((e,t)=>(as("comp",e,t),e=z8t(e,t),as("caret",e),e=j8t(e,t),as("tildes",e),e=K8t(e,t),as("xrange",e),e=X8t(e,t),as("stars",e),e),"parseComparator"),lc=o(e=>!e||e.toLowerCase()==="x"||e==="*","isX"),j8t=o((e,t)=>e.trim().split(/\s+/).map(r=>$8t(r,t)).join(" "),"replaceTildes"),$8t=o((e,t)=>{let r=t.loose?su[ac.TILDELOOSE]:su[ac.TILDE];return e.replace(r,(n,i,s,a,l)=>{as("tilde",e,n,i,s,a,l);let c;return lc(i)?c="":lc(s)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:lc(a)?c=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:l?(as("replaceTilde pr",l),c=`>=${i}.${s}.${a}-${l} <${i}.${+s+1}.0-0`):c=`>=${i}.${s}.${a} <${i}.${+s+1}.0-0`,as("tilde return",c),c})},"replaceTilde"),z8t=o((e,t)=>e.trim().split(/\s+/).map(r=>Y8t(r,t)).join(" "),"replaceCarets"),Y8t=o((e,t)=>{as("caret",e,t);let r=t.loose?su[ac.CARETLOOSE]:su[ac.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(i,s,a,l,c)=>{as("caret",e,i,s,a,l,c);let u;return lc(s)?u="":lc(a)?u=`>=${s}.0.0${n} <${+s+1}.0.0-0`:lc(l)?s==="0"?u=`>=${s}.${a}.0${n} <${s}.${+a+1}.0-0`:u=`>=${s}.${a}.0${n} <${+s+1}.0.0-0`:c?(as("replaceCaret pr",c),s==="0"?a==="0"?u=`>=${s}.${a}.${l}-${c} <${s}.${a}.${+l+1}-0`:u=`>=${s}.${a}.${l}-${c} <${s}.${+a+1}.0-0`:u=`>=${s}.${a}.${l}-${c} <${+s+1}.0.0-0`):(as("no pr"),s==="0"?a==="0"?u=`>=${s}.${a}.${l}${n} <${s}.${a}.${+l+1}-0`:u=`>=${s}.${a}.${l}${n} <${s}.${+a+1}.0-0`:u=`>=${s}.${a}.${l} <${+s+1}.0.0-0`),as("caret return",u),u})},"replaceCaret"),K8t=o((e,t)=>(as("replaceXRanges",e,t),e.split(/\s+/).map(r=>J8t(r,t)).join(" ")),"replaceXRanges"),J8t=o((e,t)=>{e=e.trim();let r=t.loose?su[ac.XRANGELOOSE]:su[ac.XRANGE];return e.replace(r,(n,i,s,a,l,c)=>{as("xRange",e,n,i,s,a,l,c);let u=lc(s),f=u||lc(a),m=f||lc(l),h=m;return i==="="&&h&&(i=""),c=t.includePrerelease?"-0":"",u?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&h?(f&&(a=0),l=0,i===">"?(i=">=",f?(s=+s+1,a=0,l=0):(a=+a+1,l=0)):i==="<="&&(i="<",f?s=+s+1:a=+a+1),i==="<"&&(c="-0"),n=`${i+s}.${a}.${l}${c}`):f?n=`>=${s}.0.0${c} <${+s+1}.0.0-0`:m&&(n=`>=${s}.${a}.0${c} <${s}.${+a+1}.0-0`),as("xRange return",n),n})},"replaceXRange"),X8t=o((e,t)=>(as("replaceStars",e,t),e.trim().replace(su[ac.STAR],"")),"replaceStars"),Z8t=o((e,t)=>(as("replaceGTE0",e,t),e.trim().replace(su[t.includePrerelease?ac.GTE0PRE:ac.GTE0],"")),"replaceGTE0"),e6t=o(e=>(t,r,n,i,s,a,l,c,u,f,m,h)=>(lc(n)?r="":lc(i)?r=`>=${n}.0.0${e?"-0":""}`:lc(s)?r=`>=${n}.${i}.0${e?"-0":""}`:a?r=`>=${r}`:r=`>=${r}${e?"-0":""}`,lc(u)?c="":lc(f)?c=`<${+u+1}.0.0-0`:lc(m)?c=`<${u}.${+f+1}.0-0`:h?c=`<=${u}.${f}.${m}-${h}`:e?c=`<${u}.${f}.${+m+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),"hyphenReplace"),t6t=o((e,t,r)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let n=0;n<e.length;n++)if(as(e[n].semver),e[n].semver!==Pae.ANY&&e[n].semver.prerelease.length>0){let i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0},"testSet")});var F_=V((f0n,CFe)=>{d();var N_=Symbol("SemVer ANY"),Lae=class e{static{o(this,"Comparator")}static get ANY(){return N_}constructor(t,r){if(r=hFe(r),t instanceof e){if(t.loose===!!r.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),Nae("comparator",t,r),this.options=r,this.loose=!!r.loose,this.parse(t),this.semver===N_?this.value="":this.value=this.operator+this.semver.version,Nae("comp",this)}parse(t){let r=this.options.loose?pFe[gFe.COMPARATORLOOSE]:pFe[gFe.COMPARATOR],n=t.match(r);if(!n)throw new TypeError(`Invalid comparator: ${t}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new AFe(n[2],this.options.loose):this.semver=N_}toString(){return this.value}test(t){if(Nae("Comparator.test",t,this.options.loose),this.semver===N_||t===N_)return!0;if(typeof t=="string")try{t=new AFe(t,this.options)}catch{return!1}return Fae(t,this.operator,this.semver,this.options)}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new yFe(t.value,r).test(this.value):t.operator===""?t.value===""?!0:new yFe(this.value,r).test(t.semver):(r=hFe(r),r.includePrerelease&&(this.value==="<0.0.0-0"||t.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&t.operator.startsWith(">")||this.operator.startsWith("<")&&t.operator.startsWith("<")||this.semver.version===t.semver.version&&this.operator.includes("=")&&t.operator.includes("=")||Fae(this.semver,"<",t.semver,r)&&this.operator.startsWith(">")&&t.operator.startsWith("<")||Fae(this.semver,">",t.semver,r)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}};CFe.exports=Lae;var hFe=DW(),{safeRe:pFe,t:gFe}=m6(),Fae=Bae(),Nae=D_(),AFe=D0(),yFe=Ld()});var L_=V((h0n,xFe)=>{d();var r6t=Ld(),n6t=o((e,t,r)=>{try{t=new r6t(t,r)}catch{return!1}return t.test(e)},"satisfies");xFe.exports=n6t});var bFe=V((A0n,EFe)=>{d();var i6t=Ld(),o6t=o((e,t)=>new i6t(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" ")),"toComparators");EFe.exports=o6t});var IFe=V((x0n,vFe)=>{d();var s6t=D0(),a6t=Ld(),l6t=o((e,t,r)=>{let n=null,i=null,s=null;try{s=new a6t(t,r)}catch{return null}return e.forEach(a=>{s.test(a)&&(!n||i.compare(a)===-1)&&(n=a,i=new s6t(n,r))}),n},"maxSatisfying");vFe.exports=l6t});var wFe=V((v0n,TFe)=>{d();var c6t=D0(),u6t=Ld(),f6t=o((e,t,r)=>{let n=null,i=null,s=null;try{s=new u6t(t,r)}catch{return null}return e.forEach(a=>{s.test(a)&&(!n||i.compare(a)===1)&&(n=a,i=new c6t(n,r))}),n},"minSatisfying");TFe.exports=f6t});var kFe=V((w0n,_Fe)=>{d();var Qae=D0(),d6t=Ld(),SFe=P_(),m6t=o((e,t)=>{e=new d6t(e,t);let r=new Qae("0.0.0");if(e.test(r)||(r=new Qae("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){let i=e.set[n],s=null;i.forEach(a=>{let l=new Qae(a.semver.version);switch(a.operator){case">":l.prerelease.length===0?l.patch++:l.prerelease.push(0),l.raw=l.format();case"":case">=":(!s||SFe(l,s))&&(s=l);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),s&&(!r||SFe(r,s))&&(r=s)}return r&&e.test(r)?r:null},"minVersion");_Fe.exports=m6t});var RFe=V((k0n,BFe)=>{d();var h6t=Ld(),p6t=o((e,t)=>{try{return new h6t(e,t).range||"*"}catch{return null}},"validRange");BFe.exports=p6t});var WW=V((D0n,NFe)=>{d();var g6t=D0(),FFe=F_(),{ANY:A6t}=FFe,y6t=Ld(),C6t=L_(),DFe=P_(),PFe=QW(),x6t=OW(),E6t=MW(),b6t=o((e,t,r,n)=>{e=new g6t(e,n),t=new y6t(t,n);let i,s,a,l,c;switch(r){case">":i=DFe,s=x6t,a=PFe,l=">",c=">=";break;case"<":i=PFe,s=E6t,a=DFe,l="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(C6t(e,t,n))return!1;for(let u=0;u<t.set.length;++u){let f=t.set[u],m=null,h=null;if(f.forEach(p=>{p.semver===A6t&&(p=new FFe(">=0.0.0")),m=m||p,h=h||p,i(p.semver,m.semver,n)?m=p:a(p.semver,h.semver,n)&&(h=p)}),m.operator===l||m.operator===c||(!h.operator||h.operator===l)&&s(e,h.semver))return!1;if(h.operator===c&&a(e,h.semver))return!1}return!0},"outside");NFe.exports=b6t});var QFe=V((N0n,LFe)=>{d();var v6t=WW(),I6t=o((e,t,r)=>v6t(e,t,">",r),"gtr");LFe.exports=I6t});var OFe=V((M0n,MFe)=>{d();var T6t=WW(),w6t=o((e,t,r)=>T6t(e,t,"<",r),"ltr");MFe.exports=w6t});var WFe=V((q0n,qFe)=>{d();var UFe=Ld(),S6t=o((e,t,r)=>(e=new UFe(e,r),t=new UFe(t,r),e.intersects(t,r)),"intersects");qFe.exports=S6t});var HFe=V((H0n,GFe)=>{d();var _6t=L_(),k6t=Nd();GFe.exports=(e,t,r)=>{let n=[],i=null,s=null,a=e.sort((f,m)=>k6t(f,m,r));for(let f of a)_6t(f,t,r)?(s=f,i||(i=f)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);let l=[];for(let[f,m]of n)f===m?l.push(f):!m&&f===a[0]?l.push("*"):m?f===a[0]?l.push(`<=${m}`):l.push(`${f} - ${m}`):l.push(`>=${f}`);let c=l.join(" || "),u=typeof t.raw=="string"?t.raw:String(t);return c.length<u.length?c:t}});var KFe=V((j0n,YFe)=>{d();var VFe=Ld(),Oae=F_(),{ANY:Mae}=Oae,Q_=L_(),Uae=Nd(),B6t=o((e,t,r={})=>{if(e===t)return!0;e=new VFe(e,r),t=new VFe(t,r);let n=!1;e:for(let i of e.set){for(let s of t.set){let a=D6t(i,s,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},"subset"),R6t=[new Oae(">=0.0.0-0")],jFe=[new Oae(">=0.0.0")],D6t=o((e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===Mae){if(t.length===1&&t[0].semver===Mae)return!0;r.includePrerelease?e=R6t:e=jFe}if(t.length===1&&t[0].semver===Mae){if(r.includePrerelease)return!0;t=jFe}let n=new Set,i,s;for(let p of e)p.operator===">"||p.operator===">="?i=$Fe(i,p,r):p.operator==="<"||p.operator==="<="?s=zFe(s,p,r):n.add(p.semver);if(n.size>1)return null;let a;if(i&&s){if(a=Uae(i.semver,s.semver,r),a>0)return null;if(a===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let p of n){if(i&&!Q_(p,String(i),r)||s&&!Q_(p,String(s),r))return null;for(let A of t)if(!Q_(p,String(A),r))return!1;return!0}let l,c,u,f,m=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,h=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;m&&m.prerelease.length===1&&s.operator==="<"&&m.prerelease[0]===0&&(m=!1);for(let p of t){if(f=f||p.operator===">"||p.operator===">=",u=u||p.operator==="<"||p.operator==="<=",i){if(h&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===h.major&&p.semver.minor===h.minor&&p.semver.patch===h.patch&&(h=!1),p.operator===">"||p.operator===">="){if(l=$Fe(i,p,r),l===p&&l!==i)return!1}else if(i.operator===">="&&!Q_(i.semver,String(p),r))return!1}if(s){if(m&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===m.major&&p.semver.minor===m.minor&&p.semver.patch===m.patch&&(m=!1),p.operator==="<"||p.operator==="<="){if(c=zFe(s,p,r),c===p&&c!==s)return!1}else if(s.operator==="<="&&!Q_(s.semver,String(p),r))return!1}if(!p.operator&&(s||i)&&a!==0)return!1}return!(i&&u&&!s&&a!==0||s&&f&&!i&&a!==0||h||m)},"simpleSubset"),$Fe=o((e,t,r)=>{if(!e)return t;let n=Uae(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},"higherGT"),zFe=o((e,t,r)=>{if(!e)return t;let n=Uae(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e},"lowerLT");YFe.exports=B6t});var Wae=V((Y0n,ZFe)=>{d();var qae=m6(),JFe=R_(),P6t=D0(),XFe=wae(),F6t=Tx(),N6t=IPe(),L6t=wPe(),Q6t=kPe(),M6t=DPe(),O6t=FPe(),U6t=LPe(),q6t=MPe(),W6t=UPe(),G6t=Nd(),H6t=HPe(),V6t=jPe(),j6t=LW(),$6t=KPe(),z6t=XPe(),Y6t=P_(),K6t=QW(),J6t=_ae(),X6t=kae(),Z6t=MW(),e9t=OW(),t9t=Bae(),r9t=aFe(),n9t=F_(),i9t=Ld(),o9t=L_(),s9t=bFe(),a9t=IFe(),l9t=wFe(),c9t=kFe(),u9t=RFe(),f9t=WW(),d9t=QFe(),m9t=OFe(),h9t=WFe(),p9t=HFe(),g9t=KFe();ZFe.exports={parse:F6t,valid:N6t,clean:L6t,inc:Q6t,diff:M6t,major:O6t,minor:U6t,patch:q6t,prerelease:W6t,compare:G6t,rcompare:H6t,compareLoose:V6t,compareBuild:j6t,sort:$6t,rsort:z6t,gt:Y6t,lt:K6t,eq:J6t,neq:X6t,gte:Z6t,lte:e9t,cmp:t9t,coerce:r9t,Comparator:n9t,Range:i9t,satisfies:o9t,toComparators:s9t,maxSatisfying:a9t,minSatisfying:l9t,minVersion:c9t,validRange:u9t,outside:f9t,gtr:d9t,ltr:m9t,intersects:h9t,simplifyRange:p9t,subset:g9t,SemVer:P6t,re:qae.re,src:qae.src,tokens:qae.t,SEMVER_SPEC_VERSION:JFe.SEMVER_SPEC_VERSION,RELEASE_TYPES:JFe.RELEASE_TYPES,compareIdentifiers:XFe.compareIdentifiers,rcompareIdentifiers:XFe.rcompareIdentifiers}});var hf=V(U_=>{"use strict";d();Object.defineProperty(U_,"__esModule",{value:!0});U_.dedent=void 0;function CNe(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Array.from(typeof e=="string"?[e]:e);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var i=n.reduce(function(l,c){var u=c.match(/\n([\t ]+|(?!\s).)/g);return u?l.concat(u.map(function(f){var m,h;return(h=(m=f.match(/[\t ]/g))===null||m===void 0?void 0:m.length)!==null&&h!==void 0?h:0})):l},[]);if(i.length){var s=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");n=n.map(function(l){return l.replace(s,`
`)})}n[0]=n[0].replace(/^\r?\n/,"");var a=n[0];return t.forEach(function(l,c){var u=a.match(/(?:^|\n)( *)$/),f=u?u[1]:"",m=l;typeof l=="string"&&l.includes(`
`)&&(m=String(l).split(`
`).map(function(h,p){return p===0?h:""+f+h}).join(`
`)),a+=m+n[c+1]}),a}o(CNe,"dedent");U_.dedent=CNe;U_.default=CNe});var SNe=V(tle=>{"use strict";d();Object.defineProperty(tle,"__esModule",{value:!0});tle.workerFile=`
const { parentPort } = require('worker_threads')

parentPort.on('message', async worker => {
  const response = {
    error: null,
    data: null
  }

  try {
    eval(worker)
    // __executor__ is defined in worker
    response.data = await __executor__()
    parentPort.postMessage(response)
  } catch (err) {
    response.data = null
    response.error = {
      message: err.message,
      stack: err.stack
    }

    try {
      parentPort.postMessage(response)
    } catch (err) {
      console.error(err)
    }
  }
})
`});var PNe=V(nle=>{"use strict";d();Object.defineProperty(nle,"__esModule",{value:!0});var _Ne=require("worker_threads"),N9t=require("v8"),L9t=require("os"),kNe=SNe(),JW="ready",BNe="spawning",Q9t="busy",XW="off",RNe=L9t.cpus().length,DNe=process.version.replace("v","").split("."),M9t=parseInt(DNe[0]),O9t=parseInt(DNe[1]),rle=class{static{o(this,"WorkerPool")}constructor(){this.maxWorkers=RNe,this.taskQueue=[],this.workers=[]}resurrect(t){let r=new _Ne.Worker(kNe.workerFile,{eval:!0});t.status=BNe,t.worker=r,r.once("online",()=>process.nextTick(()=>{t.status=JW,r.removeAllListeners(),this.tick()})),r.once("error",n=>{console.error(n),t.status=XW,r.removeAllListeners(),this.tick()})}tick(){if(this.workers.filter(({status:c})=>c===XW).forEach(c=>this.resurrect(c)),this.taskQueue.length===0)return;let t;for(let c=0;c<this.workers.length;c++)if(this.workers[c].status===JW){t=this.workers[c];break}if(typeof t>"u")return;let r=this.taskQueue.shift();t.status=Q9t;let{worker:n}=t,{handler:i,config:s,resolve:a,reject:l}=r;try{let c="";for(let h in s.ctx){if(!s.ctx.hasOwnProperty(h))continue;let p;switch(typeof s.ctx[h]){case"string":p=`'${s.ctx[h]}'`;break;case"object":p=JSON.stringify(s.ctx[h]);break;default:p=s.ctx[h]}c+=`let ${h} = ${p}
`}let u=N9t.serialize(s.data),f=JSON.stringify(u),m=`
      async function __executor__() {
        const v8 = require('v8')
        ${c}
        const dataParsed = JSON.parse('${f}')
        const dataBuffer = Buffer.from(dataParsed.data)
        const dataDeserialized = v8.deserialize(dataBuffer)
        return await (${i.toString()})(dataDeserialized)
      }
      `;n.once("message",h=>{if(this.free(n),typeof h.error>"u"||h.error===null)return a(h.data);let p=new Error(h.error.message);p.stack=h.error.stack,l(p)}),n.once("error",h=>{t.status=XW,l(h),this.tick()}),n.postMessage(m)}catch(c){this.free(n),l(c)}}enqueue({handler:t,config:r,resolve:n,reject:i}){this.taskQueue.push({handler:t,config:r,resolve:n,reject:i}),this.tick()}free(t){for(let r=0;r<this.workers.length;r++)if(t.threadId===this.workers[r].worker.threadId){this.workers[r].status=JW,this.workers[r].worker.removeAllListeners(),this.tick();break}}setup(t={}){return this.maxWorkers=t.maxWorkers>0?t.maxWorkers:RNe,this.maxWorkers>10&&console.warn(`Worker pool has more than 10 workers.
You should also increase the Max Listeners of Node.js (https://nodejs.org/docs/latest/api/events.html#events_emitter_setmaxlisteners_n)
Otherwise, limit them with start({maxWorkers: 10})`),new Promise((r,n)=>{let i=0,s=0;for(let a=0;a<this.maxWorkers;a++){let l=new _Ne.Worker(kNe.workerFile,{eval:!0});this.workers.push({status:BNe,worker:l}),l.once("online",(c=>()=>{process.nextTick(()=>{this.workers[c].status=JW,this.workers[c].worker.removeAllListeners(),i++,i>0&&i+s===this.maxWorkers&&r()})})(a)),l.once("error",(c=>u=>{this.workers[c].status=XW,this.workers[c].worker.removeAllListeners(),s++,s===this.maxWorkers&&n(u)})(a))}})}async teardown(){if(M9t>=12&&O9t>=5){let t=[];for(let{worker:r}of this.workers)t.push(r.terminate());await Promise.all(t),this.workers=[]}else await new Promise(r=>{let n=0;for(let i=0;i<this.workers.length;i++)this.workers[i].worker.terminate(()=>{n++,n===this.workers.length&&(this.workers=[],r())})})}};nle.default=new rle});var ZW=V(Sx=>{"use strict";d();var U9t=Sx&&Sx.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sx,"__esModule",{value:!0});var q_=U9t(PNe()),q9t=`job needs a function.
Try with:
> job(() => {...}, config)`,W9t=`job needs an object as ctx.
Try with:
> job(() => {...}, {ctx: {...}})`;function G9t(e,t={ctx:{},data:{}}){return new Promise((r,n)=>{if(typeof e!="function")return n(new Error(q9t));if(t.ctx=t.ctx||{},t.data=t.data||{},typeof t.ctx!="object")return n(new Error(W9t));q_.default.enqueue({handler:e,config:t,resolve:r,reject:n})})}o(G9t,"job");Sx.job=G9t;Sx.stop=q_.default.teardown.bind(q_.default);Sx.start=q_.default.setup.bind(q_.default)});var JNe=V(_x=>{"use strict";d();var hg=_x&&_x.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},mle=_x&&_x.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},yA,tC;Object.defineProperty(_x,"__esModule",{value:!0});var hle=class{static{o(this,"AwaitLock")}constructor(){yA.set(this,!1),tC.set(this,new Set)}get acquired(){return hg(this,yA,"f")}acquireAsync({timeout:t}={}){if(!hg(this,yA,"f"))return mle(this,yA,!0,"f"),Promise.resolve();if(t==null)return new Promise(i=>{hg(this,tC,"f").add(i)});let r,n;return Promise.race([new Promise(i=>{r=o(()=>{clearTimeout(n),i()},"resolver"),hg(this,tC,"f").add(r)}),new Promise((i,s)=>{n=setTimeout(()=>{hg(this,tC,"f").delete(r),s(new Error("Timed out waiting for lock"))},t)})])}tryAcquire(){return hg(this,yA,"f")?!1:(mle(this,yA,!0,"f"),!0)}release(){if(!hg(this,yA,"f"))throw new Error("Cannot release an unacquired lock");if(hg(this,tC,"f").size>0){let[t]=hg(this,tC,"f");hg(this,tC,"f").delete(t),t()}else mle(this,yA,!1,"f")}};_x.default=hle;yA=new WeakMap,tC=new WeakMap});var KMe=V((MSn,YMe)=>{d();var Q6=1e3,M6=Q6*60,O6=M6*60,Lx=O6*24,oBt=Lx*7,sBt=Lx*365.25;YMe.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return aBt(e);if(r==="number"&&isFinite(e))return t.long?cBt(e):lBt(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function aBt(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*sBt;case"weeks":case"week":case"w":return r*oBt;case"days":case"day":case"d":return r*Lx;case"hours":case"hour":case"hrs":case"hr":case"h":return r*O6;case"minutes":case"minute":case"mins":case"min":case"m":return r*M6;case"seconds":case"second":case"secs":case"sec":case"s":return r*Q6;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}o(aBt,"parse");function lBt(e){var t=Math.abs(e);return t>=Lx?Math.round(e/Lx)+"d":t>=O6?Math.round(e/O6)+"h":t>=M6?Math.round(e/M6)+"m":t>=Q6?Math.round(e/Q6)+"s":e+"ms"}o(lBt,"fmtShort");function cBt(e){var t=Math.abs(e);return t>=Lx?SH(e,t,Lx,"day"):t>=O6?SH(e,t,O6,"hour"):t>=M6?SH(e,t,M6,"minute"):t>=Q6?SH(e,t,Q6,"second"):e+" ms"}o(cBt,"fmtLong");function SH(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}o(SH,"plural")});var j0e=V((qSn,JMe)=>{d();function uBt(e){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=a,r.humanize=KMe(),r.destroy=u,Object.keys(e).forEach(f=>{r[f]=e[f]}),r.names=[],r.skips=[],r.formatters={};function t(f){let m=0;for(let h=0;h<f.length;h++)m=(m<<5)-m+f.charCodeAt(h),m|=0;return r.colors[Math.abs(m)%r.colors.length]}o(t,"selectColor"),r.selectColor=t;function r(f){let m,h=null,p,A;function x(...E){if(!x.enabled)return;let v=x,b=Number(new Date),S=b-(m||b);v.diff=S,v.prev=m,v.curr=b,m=b,E[0]=r.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");let B=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,(F,q)=>{if(F==="%%")return"%";B++;let ne=r.formatters[q];if(typeof ne=="function"){let ce=E[B];F=ne.call(v,ce),E.splice(B,1),B--}return F}),r.formatArgs.call(v,E),(v.log||r.log).apply(v,E)}return o(x,"debug"),x.namespace=f,x.useColors=r.useColors(),x.color=r.selectColor(f),x.extend=n,x.destroy=r.destroy,Object.defineProperty(x,"enabled",{enumerable:!0,configurable:!1,get:o(()=>h!==null?h:(p!==r.namespaces&&(p=r.namespaces,A=r.enabled(f)),A),"get"),set:o(E=>{h=E},"set")}),typeof r.init=="function"&&r.init(x),x}o(r,"createDebug");function n(f,m){let h=r(this.namespace+(typeof m>"u"?":":m)+f);return h.log=this.log,h}o(n,"extend");function i(f){r.save(f),r.namespaces=f,r.names=[],r.skips=[];let m,h=(typeof f=="string"?f:"").split(/[\s,]+/),p=h.length;for(m=0;m<p;m++)h[m]&&(f=h[m].replace(/\*/g,".*?"),f[0]==="-"?r.skips.push(new RegExp("^"+f.slice(1)+"$")):r.names.push(new RegExp("^"+f+"$")))}o(i,"enable");function s(){let f=[...r.names.map(l),...r.skips.map(l).map(m=>"-"+m)].join(",");return r.enable(""),f}o(s,"disable");function a(f){if(f[f.length-1]==="*")return!0;let m,h;for(m=0,h=r.skips.length;m<h;m++)if(r.skips[m].test(f))return!1;for(m=0,h=r.names.length;m<h;m++)if(r.names[m].test(f))return!0;return!1}o(a,"enabled");function l(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}o(l,"toNamespace");function c(f){return f instanceof Error?f.stack||f.message:f}o(c,"coerce");function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o(u,"destroy"),r.enable(r.load()),r}o(uBt,"setup");JMe.exports=uBt});var XMe=V((yf,_H)=>{d();yf.formatArgs=dBt;yf.save=mBt;yf.load=hBt;yf.useColors=fBt;yf.storage=pBt();yf.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();yf.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function fBt(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}o(fBt,"useColors");function dBt(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+_H.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),e.splice(n,0,t)}o(dBt,"formatArgs");yf.log=console.debug||console.log||(()=>{});function mBt(e){try{e?yf.storage.setItem("debug",e):yf.storage.removeItem("debug")}catch{}}o(mBt,"save");function hBt(){let e;try{e=yf.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}o(hBt,"load");function pBt(){try{return localStorage}catch{}}o(pBt,"localstorage");_H.exports=j0e()(yf);var{formatters:gBt}=_H.exports;gBt.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var eOe=V((jSn,ZMe)=>{"use strict";d();ZMe.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1||n<i)}});var nOe=V((zSn,rOe)=>{"use strict";d();var ABt=require("os"),tOe=require("tty"),qd=eOe(),{env:Bl}=process,lC;qd("no-color")||qd("no-colors")||qd("color=false")||qd("color=never")?lC=0:(qd("color")||qd("colors")||qd("color=true")||qd("color=always"))&&(lC=1);"FORCE_COLOR"in Bl&&(Bl.FORCE_COLOR==="true"?lC=1:Bl.FORCE_COLOR==="false"?lC=0:lC=Bl.FORCE_COLOR.length===0?1:Math.min(parseInt(Bl.FORCE_COLOR,10),3));function $0e(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}o($0e,"translateLevel");function z0e(e,t){if(lC===0)return 0;if(qd("color=16m")||qd("color=full")||qd("color=truecolor"))return 3;if(qd("color=256"))return 2;if(e&&!t&&lC===void 0)return 0;let r=lC||0;if(Bl.TERM==="dumb")return r;if(process.platform==="win32"){let n=ABt.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in Bl)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in Bl)||Bl.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in Bl)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Bl.TEAMCITY_VERSION)?1:0;if(Bl.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Bl){let n=parseInt((Bl.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Bl.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Bl.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Bl.TERM)||"COLORTERM"in Bl?1:r}o(z0e,"supportsColor");function yBt(e){let t=z0e(e,e&&e.isTTY);return $0e(t)}o(yBt,"getSupportLevel");rOe.exports={supportsColor:yBt,stdout:$0e(z0e(!0,tOe.isatty(1))),stderr:$0e(z0e(!0,tOe.isatty(2)))}});var oOe=V((o0,BH)=>{d();var CBt=require("tty"),kH=require("util");o0.init=wBt;o0.log=vBt;o0.formatArgs=EBt;o0.save=IBt;o0.load=TBt;o0.useColors=xBt;o0.destroy=kH.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");o0.colors=[6,2,3,4,5,1];try{let e=nOe();e&&(e.stderr||e).level>=2&&(o0.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}o0.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function xBt(){return"colors"in o0.inspectOpts?!!o0.inspectOpts.colors:CBt.isatty(process.stderr.fd)}o(xBt,"useColors");function EBt(e){let{namespace:t,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${t} \x1B[0m`;e[0]=s+e[0].split(`
`).join(`
`+s),e.push(i+"m+"+BH.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=bBt()+t+" "+e[0]}o(EBt,"formatArgs");function bBt(){return o0.inspectOpts.hideDate?"":new Date().toISOString()+" "}o(bBt,"getDate");function vBt(...e){return process.stderr.write(kH.format(...e)+`
`)}o(vBt,"log");function IBt(e){e?process.env.DEBUG=e:delete process.env.DEBUG}o(IBt,"save");function TBt(){return process.env.DEBUG}o(TBt,"load");function wBt(e){e.inspectOpts={};let t=Object.keys(o0.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=o0.inspectOpts[t[r]]}o(wBt,"init");BH.exports=j0e()(o0);var{formatters:iOe}=BH.exports;iOe.o=function(e){return this.inspectOpts.colors=this.useColors,kH.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};iOe.O=function(e){return this.inspectOpts.colors=this.useColors,kH.inspect(e,this.inspectOpts)}});var Qx=V((ZSn,Y0e)=>{d();typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Y0e.exports=XMe():Y0e.exports=oOe()});var tce=V((n_n,cOe)=>{d();var mk=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,SBt=typeof AbortController=="function",RH=SBt?AbortController:class{static{o(this,"AbortController")}constructor(){this.signal=new sOe}abort(){this.signal.dispatchEvent("abort")}},_Bt=typeof AbortSignal=="function",kBt=typeof RH.AbortSignal=="function",sOe=_Bt?AbortSignal:kBt?RH.AbortController:class{static{o(this,"AbortSignal")}constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(t){if(t==="abort"){this.aborted=!0;let r={type:t,target:this};this.onabort(r),this._listeners.forEach(n=>n(r),this)}}onabort(){}addEventListener(t,r){t==="abort"&&this._listeners.push(r)}removeEventListener(t,r){t==="abort"&&(this._listeners=this._listeners.filter(n=>n!==r))}},Z0e=new Set,K0e=o((e,t)=>{let r=`LRU_CACHE_OPTION_${e}`;DH(r)&&ece(r,`${e} option`,`options.${t}`,q6)},"deprecatedOption"),J0e=o((e,t)=>{let r=`LRU_CACHE_METHOD_${e}`;if(DH(r)){let{prototype:n}=q6,{get:i}=Object.getOwnPropertyDescriptor(n,e);ece(r,`${e} method`,`cache.${t}()`,i)}},"deprecatedMethod"),BBt=o((e,t)=>{let r=`LRU_CACHE_PROPERTY_${e}`;if(DH(r)){let{prototype:n}=q6,{get:i}=Object.getOwnPropertyDescriptor(n,e);ece(r,`${e} property`,`cache.${t}`,i)}},"deprecatedProperty"),aOe=o((...e)=>{typeof process=="object"&&process&&typeof process.emitWarning=="function"?process.emitWarning(...e):console.error(...e)},"emitWarning"),DH=o(e=>!Z0e.has(e),"shouldWarn"),ece=o((e,t,r,n)=>{Z0e.add(e);let i=`The ${t} is deprecated. Please use ${r} instead.`;aOe(i,"DeprecationWarning",e,n)},"warn"),Mx=o(e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),"isPosInt"),lOe=o(e=>Mx(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?U6:null:null,"getUintArray"),U6=class extends Array{static{o(this,"ZeroArray")}constructor(t){super(t),this.fill(0)}},X0e=class{static{o(this,"Stack")}constructor(t){if(t===0)return[];let r=lOe(t);this.heap=new r(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}},q6=class e{static{o(this,"LRUCache")}constructor(t={}){let{max:r=0,ttl:n,ttlResolution:i=1,ttlAutopurge:s,updateAgeOnGet:a,updateAgeOnHas:l,allowStale:c,dispose:u,disposeAfter:f,noDisposeOnSet:m,noUpdateTTL:h,maxSize:p=0,sizeCalculation:A,fetchMethod:x,fetchContext:E,noDeleteOnFetchRejection:v,noDeleteOnStaleGet:b}=t,{length:S,maxAge:B,stale:P}=t instanceof e?{}:t;if(r!==0&&!Mx(r))throw new TypeError("max option must be a nonnegative integer");let F=r?lOe(r):Array;if(!F)throw new Error("invalid max value: "+r);if(this.max=r,this.maxSize=p,this.sizeCalculation=A||S,this.sizeCalculation){if(!this.maxSize)throw new TypeError("cannot set sizeCalculation without setting maxSize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=x||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=E,!this.fetchMethod&&E!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(r).fill(null),this.valList=new Array(r).fill(null),this.next=new F(r),this.prev=new F(r),this.head=0,this.tail=0,this.free=new X0e(r),this.initialFill=1,this.size=0,typeof u=="function"&&(this.dispose=u),typeof f=="function"?(this.disposeAfter=f,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!m,this.noUpdateTTL=!!h,this.noDeleteOnFetchRejection=!!v,this.maxSize!==0){if(!Mx(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!c||!!P,this.noDeleteOnStaleGet=!!b,this.updateAgeOnGet=!!a,this.updateAgeOnHas=!!l,this.ttlResolution=Mx(i)||i===0?i:1,this.ttlAutopurge=!!s,this.ttl=n||B||0,this.ttl){if(!Mx(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){let q="LRU_CACHE_UNBOUNDED";DH(q)&&(Z0e.add(q),aOe("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",q,e))}P&&K0e("stale","allowStale"),B&&K0e("maxAge","ttl"),S&&K0e("length","sizeCalculation")}getRemainingTTL(t){return this.has(t,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new U6(this.max),this.starts=new U6(this.max),this.setItemTTL=(n,i,s=mk.now())=>{if(this.starts[n]=i!==0?s:0,this.ttls[n]=i,i!==0&&this.ttlAutopurge){let a=setTimeout(()=>{this.isStale(n)&&this.delete(this.keyList[n])},i+1);a.unref&&a.unref()}},this.updateItemAge=n=>{this.starts[n]=this.ttls[n]!==0?mk.now():0};let t=0,r=o(()=>{let n=mk.now();if(this.ttlResolution>0){t=n;let i=setTimeout(()=>t=0,this.ttlResolution);i.unref&&i.unref()}return n},"getNow");this.getRemainingTTL=n=>{let i=this.keyMap.get(n);return i===void 0?0:this.ttls[i]===0||this.starts[i]===0?1/0:this.starts[i]+this.ttls[i]-(t||r())},this.isStale=n=>this.ttls[n]!==0&&this.starts[n]!==0&&(t||r())-this.starts[n]>this.ttls[n]}updateItemAge(t){}setItemTTL(t,r,n){}isStale(t){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new U6(this.max),this.removeItemSize=t=>{this.calculatedSize-=this.sizes[t],this.sizes[t]=0},this.requireSize=(t,r,n,i)=>{if(!Mx(n))if(i){if(typeof i!="function")throw new TypeError("sizeCalculation must be a function");if(n=i(r,t),!Mx(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer)");return n},this.addItemSize=(t,r)=>{this.sizes[t]=r;let n=this.maxSize-this.sizes[t];for(;this.calculatedSize>n;)this.evict(!0);this.calculatedSize+=this.sizes[t]}}removeItemSize(t){}addItemSize(t,r){}requireSize(t,r,n,i){if(n||i)throw new TypeError("cannot set size without setting maxSize on cache")}*indexes({allowStale:t=this.allowStale}={}){if(this.size)for(let r=this.tail;!(!this.isValidIndex(r)||((t||!this.isStale(r))&&(yield r),r===this.head));)r=this.prev[r]}*rindexes({allowStale:t=this.allowStale}={}){if(this.size)for(let r=this.head;!(!this.isValidIndex(r)||((t||!this.isStale(r))&&(yield r),r===this.tail));)r=this.next[r]}isValidIndex(t){return this.keyMap.get(this.keyList[t])===t}*entries(){for(let t of this.indexes())yield[this.keyList[t],this.valList[t]]}*rentries(){for(let t of this.rindexes())yield[this.keyList[t],this.valList[t]]}*keys(){for(let t of this.indexes())yield this.keyList[t]}*rkeys(){for(let t of this.rindexes())yield this.keyList[t]}*values(){for(let t of this.indexes())yield this.valList[t]}*rvalues(){for(let t of this.rindexes())yield this.valList[t]}[Symbol.iterator](){return this.entries()}find(t,r={}){for(let n of this.indexes())if(t(this.valList[n],this.keyList[n],this))return this.get(this.keyList[n],r)}forEach(t,r=this){for(let n of this.indexes())t.call(r,this.valList[n],this.keyList[n],this)}rforEach(t,r=this){for(let n of this.rindexes())t.call(r,this.valList[n],this.keyList[n],this)}get prune(){return J0e("prune","purgeStale"),this.purgeStale}purgeStale(){let t=!1;for(let r of this.rindexes({allowStale:!0}))this.isStale(r)&&(this.delete(this.keyList[r]),t=!0);return t}dump(){let t=[];for(let r of this.indexes({allowStale:!0})){let n=this.keyList[r],i=this.valList[r],a={value:this.isBackgroundFetch(i)?i.__staleWhileFetching:i};if(this.ttls){a.ttl=this.ttls[r];let l=mk.now()-this.starts[r];a.start=Math.floor(Date.now()-l)}this.sizes&&(a.size=this.sizes[r]),t.unshift([n,a])}return t}load(t){this.clear();for(let[r,n]of t){if(n.start){let i=Date.now()-n.start;n.start=mk.now()-i}this.set(r,n.value,n)}}dispose(t,r,n){}set(t,r,{ttl:n=this.ttl,start:i,noDisposeOnSet:s=this.noDisposeOnSet,size:a=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL}={}){if(a=this.requireSize(t,r,a,l),this.maxSize&&a>this.maxSize)return this;let u=this.size===0?void 0:this.keyMap.get(t);if(u===void 0)u=this.newIndex(),this.keyList[u]=t,this.valList[u]=r,this.keyMap.set(t,u),this.next[this.tail]=u,this.prev[u]=this.tail,this.tail=u,this.size++,this.addItemSize(u,a),c=!1;else{let f=this.valList[u];r!==f&&(this.isBackgroundFetch(f)?f.__abortController.abort():s||(this.dispose(f,t,"set"),this.disposeAfter&&this.disposed.push([f,t,"set"])),this.removeItemSize(u),this.valList[u]=r,this.addItemSize(u,a)),this.moveToTail(u)}if(n!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),c||this.setItemTTL(u,n,i),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){let t=this.valList[this.head];return this.evict(!0),t}}evict(t){let r=this.head,n=this.keyList[r],i=this.valList[r];return this.isBackgroundFetch(i)?i.__abortController.abort():(this.dispose(i,n,"evict"),this.disposeAfter&&this.disposed.push([i,n,"evict"])),this.removeItemSize(r),t&&(this.keyList[r]=null,this.valList[r]=null,this.free.push(r)),this.head=this.next[r],this.keyMap.delete(n),this.size--,r}has(t,{updateAgeOnHas:r=this.updateAgeOnHas}={}){let n=this.keyMap.get(t);return n!==void 0&&!this.isStale(n)?(r&&this.updateItemAge(n),!0):!1}peek(t,{allowStale:r=this.allowStale}={}){let n=this.keyMap.get(t);if(n!==void 0&&(r||!this.isStale(n))){let i=this.valList[n];return this.isBackgroundFetch(i)?i.__staleWhileFetching:i}}backgroundFetch(t,r,n,i){let s=r===void 0?void 0:this.valList[r];if(this.isBackgroundFetch(s))return s;let a=new RH,l={signal:a.signal,options:n,context:i},c=o(h=>(a.signal.aborted||this.set(t,h,l.options),h),"cb"),u=o(h=>{if(this.valList[r]===m&&(!n.noDeleteOnFetchRejection||m.__staleWhileFetching===void 0?this.delete(t):this.valList[r]=m.__staleWhileFetching),m.__returned===m)throw h},"eb"),f=o(h=>h(this.fetchMethod(t,s,l)),"pcall"),m=new Promise(f).then(c,u);return m.__abortController=a,m.__staleWhileFetching=s,m.__returned=null,r===void 0?(this.set(t,m,l.options),r=this.keyMap.get(t)):this.valList[r]=m,m}isBackgroundFetch(t){return t&&typeof t=="object"&&typeof t.then=="function"&&Object.prototype.hasOwnProperty.call(t,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(t,"__returned")&&(t.__returned===t||t.__returned===null)}async fetch(t,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:s=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:f=this.noDeleteOnFetchRejection,fetchContext:m=this.fetchContext,forceRefresh:h=!1}={}){if(!this.fetchMethod)return this.get(t,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i});let p={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,ttl:s,noDisposeOnSet:a,size:l,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:f},A=this.keyMap.get(t);if(A===void 0){let x=this.backgroundFetch(t,A,p,m);return x.__returned=x}else{let x=this.valList[A];if(this.isBackgroundFetch(x))return r&&x.__staleWhileFetching!==void 0?x.__staleWhileFetching:x.__returned=x;if(!h&&!this.isStale(A))return this.moveToTail(A),n&&this.updateItemAge(A),x;let E=this.backgroundFetch(t,A,p,m);return r&&E.__staleWhileFetching!==void 0?E.__staleWhileFetching:E.__returned=E}}get(t,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet}={}){let s=this.keyMap.get(t);if(s!==void 0){let a=this.valList[s],l=this.isBackgroundFetch(a);return this.isStale(s)?l?r?a.__staleWhileFetching:void 0:(i||this.delete(t),r?a:void 0):l?void 0:(this.moveToTail(s),n&&this.updateItemAge(s),a)}}connect(t,r){this.prev[r]=t,this.next[t]=r}moveToTail(t){t!==this.tail&&(t===this.head?this.head=this.next[t]:this.connect(this.prev[t],this.next[t]),this.connect(this.tail,t),this.tail=t)}get del(){return J0e("del","delete"),this.delete}delete(t){let r=!1;if(this.size!==0){let n=this.keyMap.get(t);if(n!==void 0)if(r=!0,this.size===1)this.clear();else{this.removeItemSize(n);let i=this.valList[n];this.isBackgroundFetch(i)?i.__abortController.abort():(this.dispose(i,t,"delete"),this.disposeAfter&&this.disposed.push([i,t,"delete"])),this.keyMap.delete(t),this.keyList[n]=null,this.valList[n]=null,n===this.tail?this.tail=this.prev[n]:n===this.head?this.head=this.next[n]:(this.next[this.prev[n]]=this.next[n],this.prev[this.next[n]]=this.prev[n]),this.size--,this.free.push(n)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return r}clear(){for(let t of this.rindexes({allowStale:!0})){let r=this.valList[t];if(this.isBackgroundFetch(r))r.__abortController.abort();else{let n=this.keyList[t];this.dispose(r,n,"delete"),this.disposeAfter&&this.disposed.push([r,n,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return J0e("reset","clear"),this.clear}get length(){return BBt("length","size"),this.size}static get AbortController(){return RH}static get AbortSignal(){return sOe}};cOe.exports=q6});var ice=V((s_n,uOe)=>{"use strict";d();var hk=class extends Error{static{o(this,"FetchBaseError")}constructor(t,r,n){super(t),this.type=r,this._name=n}get name(){return this._name}get[Symbol.toStringTag](){return this._name}},rce=class extends hk{static{o(this,"FetchError")}constructor(t,r,n){super(t,r,"FetchError"),n&&(this.code=n.code,this.errno=n.errno,this.erroredSysCall=n.syscall)}},nce=class extends hk{static{o(this,"AbortError")}constructor(t,r="aborted"){super(t,r,"AbortError")}};uOe.exports={FetchBaseError:hk,FetchError:rce,AbortError:nce}});var IA=V((c_n,dOe)=>{"use strict";d();var{constants:{MAX_LENGTH:RBt}}=require("buffer"),{pipeline:PH,PassThrough:DBt}=require("stream"),{promisify:PBt}=require("util"),{createGunzip:FBt,createInflate:NBt,createBrotliDecompress:LBt,constants:{Z_SYNC_FLUSH:fOe}}=require("zlib"),QBt=Qx()("helix-fetch:utils"),MBt=PBt(PH),OBt=o((e,t)=>e===204||e===304||+t["content-length"]==0?!1:/^\s*(?:(x-)?deflate|(x-)?gzip|br)\s*$/.test(t["content-encoding"]),"canDecode"),UBt=o((e,t,r,n)=>{if(!OBt(e,t))return r;let i=o(s=>{s&&(QBt(`encountered error while decoding stream: ${s}`),n(s))},"cb");switch(t["content-encoding"].trim()){case"gzip":case"x-gzip":return PH(r,FBt({flush:fOe,finishFlush:fOe}),i);case"deflate":case"x-deflate":return PH(r,NBt(),i);case"br":return PH(r,LBt(),i);default:return r}},"decodeStream"),qBt=o(e=>{if(!e||typeof e!="object"||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},"isPlainObject"),FH=o((e,t)=>{if(Buffer.isBuffer(e))return e.length;switch(typeof e){case"string":return e.length*2;case"boolean":return 4;case"number":return 8;case"symbol":return Symbol.keyFor(e)?Symbol.keyFor(e).length*2:(e.toString().length-8)*2;case"object":return Array.isArray(e)?WBt(e,t):GBt(e,t);default:return 0}},"calcSize"),WBt=o((e,t)=>(t.add(e),e.map(r=>t.has(r)?0:FH(r,t)).reduce((r,n)=>r+n,0)),"calcArraySize"),GBt=o((e,t)=>{if(e==null)return 0;t.add(e);let r=0,n=[];for(let i in e)n.push(i);return n.push(...Object.getOwnPropertySymbols(e)),n.forEach(i=>{if(r+=FH(i,t),typeof e[i]=="object"&&e[i]!==null){if(t.has(e[i]))return;t.add(e[i])}r+=FH(e[i],t)}),r},"calcObjectSize"),HBt=o(e=>FH(e,new WeakSet),"sizeof"),VBt=o(async e=>{let t=new DBt,r=0,n=[];return t.on("data",i=>{if(r+i.length>RBt)throw new Error("Buffer.constants.MAX_SIZE exceeded");n.push(i),r+=i.length}),await MBt(e,t),Buffer.concat(n,r)},"streamToBuffer");dOe.exports={decodeStream:UBt,isPlainObject:qBt,sizeof:HBt,streamToBuffer:VBt}});var LH=V((d_n,gOe)=>{"use strict";d();var{PassThrough:mOe,Readable:TA}=require("stream"),{types:{isAnyArrayBuffer:pOe}}=require("util"),{FetchError:jBt,FetchBaseError:$Bt}=ice(),{streamToBuffer:zBt}=IA(),YBt=Buffer.alloc(0),Wd=Symbol("Body internals"),KBt=o(e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),"toArrayBuffer"),hOe=o(async e=>{if(e[Wd].disturbed)throw new TypeError("Already read");if(e[Wd].error)throw new TypeError(`Stream had error: ${e[Wd].error.message}`);e[Wd].disturbed=!0;let{stream:t}=e[Wd];return t===null?YBt:zBt(t)},"consume"),NH=class{static{o(this,"Body")}constructor(t){let r;t==null?r=null:t instanceof URLSearchParams?r=TA.from(t.toString()):t instanceof TA?r=t:Buffer.isBuffer(t)?r=TA.from(t):pOe(t)?r=TA.from(Buffer.from(t)):typeof t=="string"||t instanceof String?r=TA.from(t):r=TA.from(String(t)),this[Wd]={stream:r,disturbed:!1,error:null},t instanceof TA&&r.on("error",n=>{let i=n instanceof $Bt?n:new jBt(`Invalid response body while trying to fetch ${this.url}: ${n.message}`,"system",n);this[Wd].error=i})}get body(){return this[Wd].stream}get bodyUsed(){return this[Wd].disturbed}async buffer(){return hOe(this)}async arrayBuffer(){return KBt(await this.buffer())}async text(){return(await hOe(this)).toString()}async json(){return JSON.parse(await this.text())}};Object.defineProperties(NH.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});var JBt=o(e=>{if(e[Wd].disturbed)throw new TypeError("Cannot clone: already read");let{stream:t}=e[Wd],r=t;if(t instanceof TA){r=new mOe;let n=new mOe;t.pipe(r),t.pipe(n),e[Wd].stream=n}return r},"cloneStream"),XBt=o(e=>e===null?null:typeof e=="string"?"text/plain; charset=utf-8":e instanceof URLSearchParams?"application/x-www-form-urlencoded; charset=utf-8":Buffer.isBuffer(e)||pOe(e)||e instanceof TA?null:"text/plain; charset=utf-8","guessContentType");gOe.exports={Body:NH,cloneStream:JBt,guessContentType:XBt}});var W6=V((p_n,xOe)=>{"use strict";d();var{validateHeaderName:AOe,validateHeaderValue:yOe}=require("http"),{isPlainObject:ZBt}=IA(),wA=Symbol("Headers internals"),pk=o(e=>{let t=typeof e!="string"?String(e):e;if(typeof AOe=="function")AOe(t);else if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(t)){let r=new TypeError(`Header name must be a valid HTTP token [${t}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}return t.toLowerCase()},"normalizeName"),COe=o((e,t)=>{let r=typeof e!="string"?String(e):e;if(typeof yOe=="function")yOe(t,r);else if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let n=new TypeError(`Invalid character in header content ["${t}"]`);throw Object.defineProperty(n,"code",{value:"ERR_INVALID_CHAR"}),n}return r},"normalizeValue"),QH=class e{static{o(this,"Headers")}constructor(t={}){if(this[wA]={map:new Map},t instanceof e)t.forEach((r,n)=>{this.append(n,r)});else if(Array.isArray(t))t.forEach(([r,n])=>{this.append(r,n)});else if(ZBt(t))for(let[r,n]of Object.entries(t))this.append(r,n)}set(t,r){this[wA].map.set(pk(t),COe(r,t))}has(t){return this[wA].map.has(pk(t))}get(t){let r=this[wA].map.get(pk(t));return r===void 0?null:r}append(t,r){let n=pk(t),i=COe(r,t),s=this[wA].map.get(n);this[wA].map.set(n,s?`${s}, ${i}`:i)}delete(t){this[wA].map.delete(pk(t))}forEach(t,r){for(let n of this.keys())t.call(r,this.get(n),n)}keys(){return Array.from(this[wA].map.keys()).sort()}*values(){for(let t of this.keys())yield this.get(t)}*entries(){for(let t of this.keys())yield[t,this.get(t)]}[Symbol.iterator](){return this.entries()}get[Symbol.toStringTag](){return this.constructor.name}plain(){return Object.fromEntries(this[wA].map)}};Object.defineProperties(QH.prototype,["append","delete","entries","forEach","get","has","keys","set","values"].reduce((e,t)=>(e[t]={enumerable:!0},e),{}));xOe.exports={Headers:QH}});var oce=V((y_n,EOe)=>{"use strict";d();var{EventEmitter:eRt}=require("events"),Ch=Symbol("AbortSignal internals"),G6=class{static{o(this,"AbortSignal")}constructor(){this[Ch]={eventEmitter:new eRt,onabort:null,aborted:!1}}get aborted(){return this[Ch].aborted}get onabort(){return this[Ch].onabort}set onabort(t){this[Ch].onabort=t}get[Symbol.toStringTag](){return this.constructor.name}removeEventListener(t,r){this[Ch].eventEmitter.removeListener(t,r)}addEventListener(t,r){this[Ch].eventEmitter.on(t,r)}dispatchEvent(t){let r={type:t,target:this},n=`on${t}`;typeof this[Ch][n]=="function"&&this[n](r),this[Ch].eventEmitter.emit(t,r)}fire(){this[Ch].aborted=!0,this.dispatchEvent("abort")}};Object.defineProperties(G6.prototype,{addEventListener:{enumerable:!0},removeEventListener:{enumerable:!0},dispatchEvent:{enumerable:!0},aborted:{enumerable:!0},onabort:{enumerable:!0}});var OH=class extends G6{static{o(this,"TimeoutSignal")}constructor(t){if(!Number.isInteger(t))throw new TypeError(`Expected an integer, got ${typeof t}`);super(),this[Ch].timerId=setTimeout(()=>{this.fire()},t)}clear(){clearTimeout(this[Ch].timerId)}};Object.defineProperties(OH.prototype,{clear:{enumerable:!0}});var MH=Symbol("AbortController internals"),UH=class{static{o(this,"AbortController")}constructor(){this[MH]={signal:new G6}}get signal(){return this[MH].signal}get[Symbol.toStringTag](){return this.constructor.name}abort(){this[MH].signal.aborted||this[MH].signal.fire()}};Object.defineProperties(UH.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});EOe.exports={AbortController:UH,AbortSignal:G6,TimeoutSignal:OH}});var gk=V((E_n,IOe)=>{"use strict";d();var{randomBytes:tRt}=require("crypto"),{Readable:rRt}=require("stream"),ace=o(e=>typeof e=="object"&&["arrayBuffer","stream","text","slice","constructor"].map(t=>typeof e[t]).filter(t=>t!=="function").length===0&&typeof e.type=="string"&&typeof e.size=="number"&&/^(Blob|File)$/.test(e[Symbol.toStringTag]),"isBlob"),nRt=o(e=>e!=null&&typeof e=="object"&&["append","delete","get","getAll","has","set","keys","values","entries","constructor"].map(t=>typeof e[t]).filter(t=>t!=="function").length===0&&e[Symbol.toStringTag]==="FormData","isFormData"),bOe=o(e=>`--${e}--\r
\r
`,"getFooter"),vOe=o((e,t,r)=>{let n="";return n+=`--${e}\r
`,n+=`Content-Disposition: form-data; name="${t}"`,ace(r)&&(n+=`; filename="${r.name}"\r
`,n+=`Content-Type: ${r.type||"application/octet-stream"}`),`${n}\r
\r
`},"getHeader");async function*iRt(e,t){for(let[r,n]of e)yield vOe(t,r,n),ace(n)?yield*n.stream():yield n,yield`\r
`;yield bOe(t)}o(iRt,"formDataIterator");var oRt=o((e,t)=>{let r=0;for(let[n,i]of e)r+=Buffer.byteLength(vOe(t,n,i)),r+=ace(i)?i.size:Buffer.byteLength(String(i)),r+=Buffer.byteLength(`\r
`);return r+=Buffer.byteLength(bOe(t)),r},"getFormDataLength"),sce=class{static{o(this,"FormDataSerializer")}constructor(t){this.fd=t,this.boundary=tRt(8).toString("hex")}length(){return typeof this._length>"u"&&(this._length=oRt(this.fd,this.boundary)),this._length}contentType(){return`multipart/form-data; boundary=${this.boundary}`}stream(){return rRt.from(iRt(this.fd,this.boundary))}};IOe.exports={isFormData:nRt,FormDataSerializer:sce}});var wOe=V((I_n,TOe)=>{"use strict";d();var{AbortSignal:sRt}=oce(),{Body:aRt,cloneStream:lRt,guessContentType:cRt}=LH(),{Headers:uRt}=W6(),{isPlainObject:fRt}=IA(),{isFormData:dRt,FormDataSerializer:mRt}=gk(),hRt=20,cC=Symbol("Request internals"),qH=class e extends aRt{static{o(this,"Request")}constructor(t,r={}){let n=t instanceof e?t:null,i=n?new URL(n.url):new URL(t),s=r.method||n&&n.method||"GET";if(s=s.toUpperCase(),(r.body!=null||n&&n.body!==null)&&["GET","HEAD"].includes(s))throw new TypeError("Request with GET/HEAD method cannot have body");let a=r.body||(n&&n.body?lRt(n):null),l=new uRt(r.headers||n&&n.headers||{});if(dRt(a)&&!l.has("content-type")){let m=new mRt(a);a=m.stream(),l.set("content-type",m.contentType()),!l.has("transfer-encoding")&&!l.has("content-length")&&l.set("content-length",m.length())}if(!l.has("content-type"))if(fRt(a))a=JSON.stringify(a),l.set("content-type","application/json");else{let m=cRt(a);m&&l.set("content-type",m)}super(a);let c=n?n.signal:null;if("signal"in r&&(c=r.signal),c&&!(c instanceof sRt))throw new TypeError("signal needs to be an instance of AbortSignal");let u=r.redirect||n&&n.redirect||"follow";if(!["follow","error","manual"].includes(u))throw new TypeError(`'${u}' is not a valid redirect option`);let f=r.cache||n&&n.cache||"default";if(!["default","no-store","reload","no-cache","force-cache","only-if-cached"].includes(f))throw new TypeError(`'${f}' is not a valid cache option`);this[cC]={init:{...r},method:s,redirect:u,cache:f,headers:l,parsedURL:i,signal:c},r.follow===void 0?!n||n.follow===void 0?this.follow=hRt:this.follow=n.follow:this.follow=r.follow,this.counter=r.counter||n&&n.counter||0,r.compress===void 0?!n||n.compress===void 0?this.compress=!0:this.compress=n.compress:this.compress=r.compress,r.decode===void 0?!n||n.decode===void 0?this.decode=!0:this.decode=n.decode:this.decode=r.decode}get method(){return this[cC].method}get url(){return this[cC].parsedURL.toString()}get headers(){return this[cC].headers}get redirect(){return this[cC].redirect}get cache(){return this[cC].cache}get signal(){return this[cC].signal}clone(){return new e(this)}get init(){return this[cC].init}get[Symbol.toStringTag](){return this.constructor.name}};Object.defineProperties(qH.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},cache:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}});TOe.exports={Request:qH}});var lce=V((S_n,SOe)=>{"use strict";d();var{Body:pRt,cloneStream:gRt,guessContentType:ARt}=LH(),{Headers:yRt}=W6(),{isPlainObject:CRt}=IA(),{isFormData:xRt,FormDataSerializer:ERt}=gk(),xh=Symbol("Response internals"),WH=class e extends pRt{static{o(this,"Response")}constructor(t=null,r={}){let n=new yRt(r.headers),i=t;if(xRt(i)&&!n.has("content-type")){let s=new ERt(i);i=s.stream(),n.set("content-type",s.contentType()),!n.has("transfer-encoding")&&!n.has("content-length")&&n.set("content-length",s.length())}if(i!==null&&!n.has("content-type"))if(CRt(i))i=JSON.stringify(i),n.set("content-type","application/json");else{let s=ARt(i);s&&n.set("content-type",s)}super(i),this[xh]={url:r.url,status:r.status||200,statusText:r.statusText||"",headers:n,httpVersion:r.httpVersion,decoded:r.decoded,counter:r.counter}}get url(){return this[xh].url||""}get status(){return this[xh].status}get statusText(){return this[xh].statusText}get ok(){return this[xh].status>=200&&this[xh].status<300}get redirected(){return this[xh].counter>0}get headers(){return this[xh].headers}get httpVersion(){return this[xh].httpVersion}get decoded(){return this[xh].decoded}static redirect(t,r=302){if(![301,302,303,307,308].includes(r))throw new RangeError("Invalid status code");return new e(null,{headers:{location:new URL(t).toString()},status:r})}clone(){if(this.bodyUsed)throw new TypeError("Cannot clone: already read");return new e(gRt(this),{...this[xh]})}get[Symbol.toStringTag](){return this.constructor.name}};Object.defineProperties(WH.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});SOe.exports={Response:WH}});var kOe=V((R_n,_Oe)=>{"use strict";d();var bRt=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),vRt=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),IRt=new Set([500,502,503,504]),TRt={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},wRt={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function Ox(e){let t=parseInt(e,10);return isFinite(t)?t:0}o(Ox,"toNumberOrZero");function SRt(e){return e?IRt.has(e.status):!0}o(SRt,"isErrorResponse");function cce(e){let t={};if(!e)return t;let r=e.trim().split(/,/);for(let n of r){let[i,s]=n.split(/=/,2);t[i.trim()]=s===void 0?!0:s.trim().replace(/^"|"$/g,"")}return t}o(cce,"parseCacheControl");function _Rt(e){let t=[];for(let r in e){let n=e[r];t.push(n===!0?r:r+"="+n)}if(t.length)return t.join(", ")}o(_Rt,"formatCacheControl");_Oe.exports=class{static{o(this,"CachePolicy")}constructor(t,r,{shared:n,cacheHeuristic:i,immutableMinTimeToLive:s,ignoreCargoCult:a,_fromObject:l}={}){if(l){this._fromObject(l);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(t),this._responseTime=this.now(),this._isShared=n!==!1,this._cacheHeuristic=i!==void 0?i:.1,this._immutableMinTtl=s!==void 0?s:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=cce(r.headers["cache-control"]),this._method="method"in t?t.method:"GET",this._url=t.url,this._host=t.headers.host,this._noAuthorization=!t.headers.authorization,this._reqHeaders=r.headers.vary?t.headers:null,this._reqcc=cce(t.headers["cache-control"]),a&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":_Rt(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&vRt.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||bRt.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(t){if(!t||!t.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(t){this._assertRequestHasHeaders(t);let r=cce(t.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(t.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(t,!1)}_requestMatches(t,r){return(!this._url||this._url===t.url)&&this._host===t.headers.host&&(!t.method||this._method===t.method||r&&t.method==="HEAD")&&this._varyMatches(t)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(t){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let n of r)if(t.headers[n]!==this._reqHeaders[n])return!1;return!0}_copyWithoutHopByHopHeaders(t){let r={};for(let n in t)TRt[n]||(r[n]=t[n]);if(t.connection){let n=t.connection.trim().split(/\s*,\s*/);for(let i of n)delete r[i]}if(r.warning){let n=r.warning.split(/,/).filter(i=>!/^\s*1[0-9][0-9]/.test(i));n.length?r.warning=n.join(",").trim():delete r.warning}return r}responseHeaders(){let t=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(t.warning=(t.warning?`${t.warning}, `:"")+'113 - "rfc7234 5.5.4"'),t.age=`${Math.round(r)}`,t.date=new Date(this.now()).toUTCString(),t}date(){let t=Date.parse(this._resHeaders.date);return isFinite(t)?t:this._responseTime}age(){let t=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return t+r}_ageValue(){return Ox(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return Ox(this._rescc["s-maxage"])}if(this._rescc["max-age"])return Ox(this._rescc["max-age"]);let t=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let n=Date.parse(this._resHeaders.expires);return Number.isNaN(n)||n<r?0:Math.max(t,(n-r)/1e3)}if(this._resHeaders["last-modified"]){let n=Date.parse(this._resHeaders["last-modified"]);if(isFinite(n)&&r>n)return Math.max(t,(r-n)/1e3*this._cacheHeuristic)}return t}timeToLive(){let t=this.maxAge()-this.age(),r=t+Ox(this._rescc["stale-if-error"]),n=t+Ox(this._rescc["stale-while-revalidate"]);return Math.max(0,t,r,n)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+Ox(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+Ox(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(t){return new this(void 0,void 0,{_fromObject:t})}_fromObject(t){if(this._responseTime)throw Error("Reinitialized");if(!t||t.v!==1)throw Error("Invalid serialization");this._responseTime=t.t,this._isShared=t.sh,this._cacheHeuristic=t.ch,this._immutableMinTtl=t.imm!==void 0?t.imm:24*3600*1e3,this._status=t.st,this._resHeaders=t.resh,this._rescc=t.rescc,this._method=t.m,this._url=t.u,this._host=t.h,this._noAuthorization=t.a,this._reqHeaders=t.reqh,this._reqcc=t.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(t){this._assertRequestHasHeaders(t);let r=this._copyWithoutHopByHopHeaders(t.headers);if(delete r["if-range"],!this._requestMatches(t,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let i=r["if-none-match"].split(/,/).filter(s=>!/^\s*W\//.test(s));i.length?r["if-none-match"]=i.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(t,r){if(this._assertRequestHasHeaders(t),this._useStaleIfError()&&SRt(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let n=!1;if(r.status!==void 0&&r.status!=304?n=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?n=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?n=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?n=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(n=!0),!n)return{policy:new this.constructor(t,r),modified:r.status!=304,matches:!1};let i={};for(let a in this._resHeaders)i[a]=a in r.headers&&!wRt[a]?r.headers[a]:this._resHeaders[a];let s=Object.assign({},r,{status:this._status,method:this._method,headers:i});return{policy:new this.constructor(t,s,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}});var POe=V((F_n,DOe)=>{"use strict";d();var kRt=kOe(),{Headers:BRt}=W6(),BOe=o(e=>({url:e.url,method:e.method,headers:e.headers.plain()}),"convertRequest"),ROe=o(e=>({status:e.status,headers:e.headers.plain()}),"convertResponse"),uce=class{static{o(this,"CachePolicyWrapper")}constructor(t,r,n){this.policy=new kRt(BOe(t),ROe(r),n)}storable(){return this.policy.storable()}satisfiesWithoutRevalidation(t){return this.policy.satisfiesWithoutRevalidation(BOe(t))}responseHeaders(t){return new BRt(this.policy.responseHeaders(ROe(t)))}timeToLive(){return this.policy.timeToLive()}};DOe.exports=uce});var LOe=V((Q_n,NOe)=>{"use strict";d();var{Readable:RRt}=require("stream"),{Headers:FOe}=W6(),{Response:DRt}=lce(),uC=Symbol("CacheableResponse internals"),PRt=o(e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),"toArrayBuffer"),fce=class e extends DRt{static{o(this,"CacheableResponse")}constructor(t,r){super(t,r);let n=new FOe(r.headers);this[uC]={headers:n,bufferedBody:t}}get headers(){return this[uC].headers}set headers(t){if(t instanceof FOe)this[uC].headers=t;else throw new TypeError("instance of Headers expected")}get body(){return RRt.from(this[uC].bufferedBody)}get bodyUsed(){return!1}async buffer(){return this[uC].bufferedBody}async arrayBuffer(){return PRt(this[uC].bufferedBody)}async text(){return this[uC].bufferedBody.toString()}async json(){return JSON.parse(await this.text())}clone(){let{url:t,status:r,statusText:n,headers:i,httpVersion:s,decoded:a,counter:l}=this;return new e(this[uC].bufferedBody,{url:t,status:r,statusText:n,headers:i,httpVersion:s,decoded:a,counter:l})}get[Symbol.toStringTag](){return this.constructor.name}},FRt=o(async e=>{let t=await e.buffer(),{url:r,status:n,statusText:i,headers:s,httpVersion:a,decoded:l,counter:c}=e;return new fce(t,{url:r,status:n,statusText:i,headers:s,httpVersion:a,decoded:l,counter:c})},"cacheableResponse");NOe.exports={cacheableResponse:FRt}});var GH=V((U_n,QOe)=>{"use strict";d();var dce=class extends Error{static{o(this,"RequestAbortedError")}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};QOe.exports={RequestAbortedError:dce}});var WOe=V((G_n,qOe)=>{"use strict";d();var OOe=require("http"),UOe=require("https"),{Readable:NRt}=require("stream"),SA=Qx()("helix-fetch:h1"),{RequestAbortedError:MOe}=GH(),{decodeStream:LRt}=IA(),QRt=o((e,t)=>{let{h1:r,options:{h1:n,rejectUnauthorized:i}}=e;return t==="https:"?r.httpsAgent?r.httpsAgent:n||typeof i=="boolean"?(r.httpsAgent=new UOe.Agent(typeof i=="boolean"?{...n||{},rejectUnauthorized:i}:n),r.httpsAgent):void 0:r.httpAgent?r.httpAgent:n?(r.httpAgent=new OOe.Agent(n),r.httpAgent):void 0},"getAgent"),MRt=o(e=>{e.h1={}},"setupContext"),ORt=o(async({h1:e})=>{e.httpAgent&&(SA("resetContext: destroying httpAgent"),e.httpAgent.destroy(),delete e.httpAgent),e.httpsAgent&&(SA("resetContext: destroying httpsAgent"),e.httpsAgent.destroy(),delete e.httpsAgent)},"resetContext"),URt=o((e,t,r)=>{let{statusCode:n,statusMessage:i,httpVersion:s,httpVersionMajor:a,httpVersionMinor:l,headers:c}=e,u=t?LRt(n,c,e,r):e;return{statusCode:n,statusText:i,httpVersion:s,httpVersionMajor:a,httpVersionMinor:l,headers:c,readable:u,decoded:!!(t&&u!==e)}},"createResponse"),qRt=o(async(e,t,r)=>{let{request:n}=t.protocol==="https:"?UOe:OOe,i=QRt(e,t.protocol),s={...r,agent:i},{socket:a,body:l}=s;return a&&(delete s.socket,a.assigned||(a.assigned=!0,i?s.agent=new Proxy(i,{get:o((c,u)=>u==="createConnection"&&!a.inUse?(f,m)=>{SA(`agent reusing socket #${a.id} (${a.servername})`),a.inUse=!0,m(null,a)}:c[u],"get")}):s.createConnection=(c,u)=>{SA(`reusing socket #${a.id} (${a.servername})`),a.inUse=!0,u(null,a)})),new Promise((c,u)=>{SA(`${s.method} ${t.href}`);let f,{signal:m}=s,h=o(()=>{m.removeEventListener("abort",h),a&&!a.inUse&&(SA(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),u(new MOe),f&&f.abort()},"onAbortSignal");if(m){if(m.aborted){u(new MOe);return}m.addEventListener("abort",h)}f=n(t,s),f.once("response",p=>{m&&m.removeEventListener("abort",h),a&&!a.inUse&&(SA(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),c(URt(p,s.decode,u))}),f.once("error",p=>{m&&m.removeEventListener("abort",h),a&&!a.inUse&&(SA(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),f.aborted||(SA(`${s.method} ${t.href} failed with: ${p.message}`),f.abort(),u(p))}),l instanceof NRt?l.pipe(f):(l&&f.write(l),f.end())})},"h1Request");qOe.exports={request:qRt,setupContext:MRt,resetContext:ORt}});var jOe=V((j_n,VOe)=>{"use strict";d();var{connect:WRt,constants:GRt}=require("http2"),{Readable:HRt}=require("stream"),ls=Qx()("helix-fetch:h2"),{RequestAbortedError:GOe}=GH(),{decodeStream:VRt}=IA(),{NGHTTP2_CANCEL:Ak}=GRt,jRt=5*60*1e3,$Rt=5e3,zRt=o(e=>{e.h2={sessionCache:{}}},"setupContext"),YRt=o(async({h2:e})=>Promise.all(Object.values(e.sessionCache).map(t=>new Promise(r=>{t.on("close",r),ls(`resetContext: destroying session (socket #${t.socket&&t.socket.id}, ${t.socket&&t.socket.servername})`),t.destroy()}))),"resetContext"),HOe=o((e,t,r,n=()=>{})=>{let i={...e},s=i[":status"];delete i[":status"];let a=r?VRt(s,e,t,n):t;return{statusCode:s,statusText:"",httpVersion:"2.0",httpVersionMajor:2,httpVersionMinor:0,headers:i,readable:a,decoded:!!(r&&a!==t)}},"createResponse"),KRt=o((e,t,r,n,i,s)=>{let{options:{h2:{pushPromiseHandler:a,pushHandler:l,pushedStreamIdleTimeout:c=$Rt}}}=e,u=i[":path"],f=`${t}${u}`;ls(`received PUSH_PROMISE: ${f}, stream #${n.id}, headers: ${JSON.stringify(i)}, flags: ${s}`),a&&a(f,i,o(()=>{n.close(Ak)},"rejectPush")),n.on("push",(m,h)=>{ls(`received push headers for ${t}${u}, stream #${n.id}, headers: ${JSON.stringify(m)}, flags: ${h}`),n.setTimeout(c,()=>{ls(`closing pushed stream #${n.id} after ${c} ms of inactivity`),n.close(Ak)}),l&&l(f,i,HOe(m,n,r))}),n.on("aborted",()=>{ls(`pushed stream #${n.id} aborted`)}),n.on("error",m=>{ls(`pushed stream #${n.id} encountered error: ${m}`)}),n.on("frameError",(m,h,p)=>{ls(`pushed stream #${n.id} encountered frameError: type: ${m}, code: ${h}, id: ${p}`)})},"handlePush"),JRt=o(async(e,t,r)=>{let{origin:n,pathname:i,search:s,hash:a}=t,l=`${i}${s}${a}`,{options:{h2:c={}},h2:{sessionCache:u}}=e,{idleSessionTimeout:f=jRt,pushPromiseHandler:m,pushHandler:h}=c,p={...r},{method:A,headers:x,socket:E,body:v,decode:b}=p;return E&&delete p.socket,x.host&&(x[":authority"]=x.host,delete x.host),new Promise((S,B)=>{let P=u[n];if(!P||P.closed||P.destroyed){let Z=!(e.options.rejectUnauthorized===!1||c.rejectUnauthorized===!1),G={...c,rejectUnauthorized:Z};E&&!E.inUse&&(G.createConnection=()=>(ls(`reusing socket #${E.id} (${E.servername})`),E.inUse=!0,E)),P=WRt(n,{...G,settings:{enablePush:!!(m||h)}}),P.setMaxListeners(1e3),P.setTimeout(f,()=>{ls(`closing session ${n} after ${f} ms of inactivity`),P.close()}),P.once("connect",()=>{ls(`session ${n} established`),ls(`caching session ${n}`),u[n]=P}),P.on("localSettings",ie=>{ls(`session ${n} localSettings: ${JSON.stringify(ie)}`)}),P.on("remoteSettings",ie=>{ls(`session ${n} remoteSettings: ${JSON.stringify(ie)}`)}),P.once("close",()=>{ls(`session ${n} closed`),u[n]===P&&(ls(`discarding cached session ${n}`),delete u[n])}),P.once("error",ie=>{ls(`session ${n} encountered error: ${ie}`),u[n]===P&&(ls(`discarding cached session ${n}`),delete u[n])}),P.on("frameError",(ie,J,H)=>{ls(`session ${n} encountered frameError: type: ${ie}, code: ${J}, id: ${H}`)}),P.once("goaway",(ie,J,H)=>{ls(`session ${n} received GOAWAY frame: errorCode: ${ie}, lastStreamID: ${J}, opaqueData: ${H?H.toString():void 0}`)}),P.on("stream",(ie,J,H)=>{KRt(e,n,b,ie,J,H)})}else E&&E.id!==P.socket.id&&!E.inUse&&(ls(`discarding redundant socket used for ALPN: #${E.id} ${E.servername}`),E.destroy());ls(`${A} ${t.host}${l}`);let F,{signal:q}=p,ne=o(()=>{q.removeEventListener("abort",ne),B(new GOe),F&&F.close(Ak)},"onAbortSignal");if(q){if(q.aborted){B(new GOe);return}q.addEventListener("abort",ne)}let ce=o(Z=>{ls(`session ${n} encountered error during ${p.method} ${t.href}: ${Z}`),B(Z)},"onSessionError");P.once("error",ce),F=P.request({":method":A,":path":l,...x}),F.once("response",Z=>{P.off("error",ce),q&&q.removeEventListener("abort",ne),S(HOe(Z,F,p.decode,B))}),F.once("error",Z=>{P.off("error",ce),q&&q.removeEventListener("abort",ne),F.rstCode!==Ak&&(ls(`${p.method} ${t.href} failed with: ${Z.message}`),F.close(Ak),B(Z))}),F.once("frameError",(Z,G,U)=>{P.off("error",ce),ls(`encountered frameError during ${p.method} ${t.href}: type: ${Z}, code: ${G}, id: ${U}`)}),F.on("push",(Z,G)=>{ls(`received 'push' event: headers: ${JSON.stringify(Z)}, flags: ${G}`)}),v instanceof HRt?v.pipe(F):(v&&F.write(v),F.end())})},"request");VOe.exports={request:JRt,setupContext:zRt,resetContext:YRt}});var zOe=V((Y_n,$Oe)=>{"use strict";d();var{EventEmitter:XRt}=require("events"),ZRt=o(()=>{let e={},t=new XRt;return t.setMaxListeners(0),{acquire:o(r=>new Promise(n=>{if(!e[r]){e[r]=!0,n();return}let i=o(s=>{e[r]||(e[r]=!0,t.removeListener(r,i),n(s))},"tryAcquire");t.on(r,i)}),"acquire"),release:o((r,n)=>{Reflect.deleteProperty(e,r),setImmediate(()=>t.emit(r,n))},"release")}},"lock");$Oe.exports=ZRt});var YOe=V((X_n,eDt)=>{eDt.exports={name:"@adobe/helix-fetch",version:"3.1.1",description:"Light-weight Fetch implementation transparently supporting both HTTP/1(.1) and HTTP/2",main:"src/index.js",scripts:{test:"nyc mocha",lint:"./node_modules/.bin/eslint .","semantic-release":"semantic-release"},mocha:{timeout:"5000",recursive:"true",reporter:"mocha-multi-reporters","reporter-options":"configFile=.mocha-multi.json"},engines:{node:">=12.0"},types:"src/index.d.ts",exports:{import:"./src/index.mjs",require:"./src/index.js"},repository:{type:"git",url:"https://github.com/adobe/helix-fetch"},author:"",license:"Apache-2.0",bugs:{url:"https://github.com/adobe/helix-fetch/issues"},homepage:"https://github.com/adobe/helix-fetch#readme",keywords:["fetch","whatwg","Fetch API","http","https","http2","h2","promise","async","request","RFC 7234","7234","caching","cache"],dependencies:{debug:"4.3.4","http-cache-semantics":"^4.1.1","lru-cache":"7.13.1"},devDependencies:{"@adobe/eslint-config-helix":"1.3.2","@semantic-release/changelog":"6.0.1","@semantic-release/git":"10.0.1",chai:"4.3.6","chai-as-promised":"7.1.1","chai-bytes":"0.1.2","chai-iterator":"3.0.2",eslint:"8.21.0","eslint-plugin-header":"3.1.1","eslint-plugin-import":"2.26.0","formdata-node":"4.3.3","lint-staged":"13.0.3",mocha:"10.0.0","mocha-multi-reporters":"1.5.1",nock:"13.2.9",nyc:"15.1.0","parse-cache-control":"1.0.1",pem:"1.14.6",proxy:"^1.0.2","semantic-release":"19.0.3",sinon:"14.0.0","stream-buffers":"3.0.2",tunnel:"^0.0.6"},"lint-staged":{"*.js":"eslint"},config:{commitizen:{path:"node_modules/cz-conventional-changelog"},ghooks:{"pre-commit":"npx lint-staged"}}}});var eUe=V((Z_n,ZOe)=>{"use strict";d();var{Readable:tDt}=require("stream"),rDt=require("tls"),{types:{isAnyArrayBuffer:nDt}}=require("util"),iDt=tce(),mce=Qx()("helix-fetch:core"),{RequestAbortedError:HH}=GH(),hce=WOe(),VH=jOe(),oDt=zOe(),{isPlainObject:sDt}=IA(),{isFormData:aDt,FormDataSerializer:lDt}=gk(),{version:cDt}=YOe(),pce="h2",gce="h2c",Ace="http/1.0",Ux="http/1.1",uDt=100,fDt=60*60*1e3,dDt=[pce,Ux,Ace],mDt=`helix-fetch/${cDt}`,hDt={method:"GET",compress:!0,decode:!0},KOe=0,JOe=oDt(),XOe=o((e,t)=>new Promise((r,n)=>{let{signal:i}=t,s,a=o(()=>{i.removeEventListener("abort",a);let u=new HH;n(u),s&&s.destroy(u)},"onAbortSignal");if(i){if(i.aborted){n(new HH);return}i.addEventListener("abort",a)}let l=+e.port||443,c=o(u=>{i&&i.removeEventListener("abort",a),u instanceof HH||(mce(`connecting to ${e.hostname}:${l} failed with: ${u.message}`),n(u))},"onError");s=rDt.connect(l,e.hostname,t),s.once("secureConnect",()=>{i&&i.removeEventListener("abort",a),s.off("error",c),KOe+=1,s.id=KOe,s.secureConnecting=!1,mce(`established TLS connection: #${s.id} (${s.servername})`),r(s)}),s.once("error",c)}),"connectTLS"),pDt=o(async(e,t)=>{let r=await JOe.acquire(e.origin);try{return r||(r=await XOe(e,t)),r}finally{JOe.release(e.origin,r)}},"connect"),gDt=o(async(e,t,r)=>{let n=`${t.protocol}//${t.host}`,i=e.alpnCache.get(n);if(i)return{protocol:i};switch(t.protocol){case"http:":return i=Ux,e.alpnCache.set(n,i),{protocol:i};case"http2:":return i=gce,e.alpnCache.set(n,i),{protocol:i};case"https:":break;default:throw new TypeError(`unsupported protocol: ${t.protocol}`)}let{options:{rejectUnauthorized:s,h1:a={},h2:l={}}}=e,c=!(s===!1||a.rejectUnauthorized===!1||l.rejectUnauthorized===!1),u={servername:t.hostname,ALPNProtocols:e.alpnProtocols,signal:r,rejectUnauthorized:c};e.options.ca&&(u.ca=e.options.ca);let f=await pDt(t,u);return i=f.alpnProtocol,i||(i=Ux),e.alpnCache.set(n,i),{protocol:i,socket:f}},"determineProtocol"),ADt=o(e=>{let t={};return Object.keys(e).forEach(r=>{t[r.toLowerCase()]=e[r]}),t},"sanitizeHeaders"),yDt=o(async(e,t,r,n)=>{let i=t.protocol==="https:",s;t.port?s=t.port:i?s=443:s=80;let a={...r,host:t.host,hostname:t.hostname,port:s},l=await e(a);if(i){let u={...a,ALPNProtocols:n};u.socket=l,u.servername=a.host;let f=await XOe(t,u);return{protocol:f.alpnProtocol||Ux,socket:f}}return{protocol:l.alpnProtocol||Ux,socket:l}},"getProtocolAndSocketFromFactory"),CDt=o(async(e,t,r)=>{let n=new URL(t),i={...hDt,...r||{}};typeof i.method=="string"&&(i.method=i.method.toUpperCase()),i.headers=ADt(i.headers||{}),i.headers.host===void 0&&(i.headers.host=n.host),e.userAgent&&i.headers["user-agent"]===void 0&&(i.headers["user-agent"]=e.userAgent);let s;if(i.body instanceof URLSearchParams)s="application/x-www-form-urlencoded; charset=utf-8",i.body=i.body.toString();else if(aDt(i.body)){let u=new lDt(i.body);s=u.contentType(),i.body=u.stream(),i.headers["transfer-encoding"]===void 0&&i.headers["content-length"]===void 0&&(i.headers["content-length"]=String(u.length()))}else typeof i.body=="string"||i.body instanceof String?s="text/plain; charset=utf-8":sDt(i.body)?(i.body=JSON.stringify(i.body),s="application/json"):nDt(i.body)&&(i.body=Buffer.from(i.body));i.headers["content-type"]===void 0&&s!==void 0&&(i.headers["content-type"]=s),i.body!=null&&(i.body instanceof tDt||(!(typeof i.body=="string"||i.body instanceof String)&&!Buffer.isBuffer(i.body)&&(i.body=String(i.body)),i.headers["transfer-encoding"]===void 0&&i.headers["content-length"]===void 0&&(i.headers["content-length"]=String(Buffer.isBuffer(i.body)?i.body.length:Buffer.byteLength(i.body,"utf-8"))))),i.headers.accept===void 0&&(i.headers.accept="*/*"),i.body==null&&["POST","PUT"].includes(i.method)&&(i.headers["content-length"]="0"),i.compress&&i.headers["accept-encoding"]===void 0&&(i.headers["accept-encoding"]="gzip,deflate,br");let{signal:a}=i,{protocol:l,socket:c=null}=e.socketFactory?await yDt(e.socketFactory,n,i,e.alpnProtocols):await gDt(e,n,a);switch(mce(`${n.host} -> ${l}`),l){case pce:try{return await VH.request(e,n,c?{...i,socket:c}:i)}catch(u){let{code:f,message:m}=u;throw f==="ERR_HTTP2_ERROR"&&m==="Protocol error"&&e.alpnCache.delete(`${n.protocol}//${n.host}`),u}case gce:return VH.request(e,new URL(`http://${n.host}${n.pathname}${n.hash}${n.search}`),c?{...i,socket:c}:i);case Ace:case Ux:return hce.request(e,n,c?{...i,socket:c}:i);default:throw new TypeError(`unsupported protocol: ${l}`)}},"request"),xDt=o(async e=>(e.alpnCache.clear(),Promise.all([hce.resetContext(e),VH.resetContext(e)])),"resetContext"),EDt=o(e=>{let{options:{alpnProtocols:t=dDt,alpnCacheTTL:r=fDt,alpnCacheSize:n=uDt,userAgent:i=mDt,socketFactory:s}}=e;e.alpnProtocols=t,e.alpnCache=new iDt({max:n,ttl:r}),e.userAgent=i,e.socketFactory=s,hce.setupContext(e),VH.setupContext(e)},"setupContext");ZOe.exports={request:CDt,setupContext:EDt,resetContext:xDt,RequestAbortedError:HH,ALPN_HTTP2:pce,ALPN_HTTP2C:gce,ALPN_HTTP1_1:Ux,ALPN_HTTP1_0:Ace}});var rUe=V((rkn,tUe)=>{"use strict";d();var bDt=Qx()("helix-fetch:core"),{request:vDt,setupContext:IDt,resetContext:TDt,RequestAbortedError:wDt,ALPN_HTTP2:SDt,ALPN_HTTP2C:_Dt,ALPN_HTTP1_1:kDt,ALPN_HTTP1_0:BDt}=eUe(),yce=class e{static{o(this,"RequestContext")}constructor(t){this.options={...t||{}},IDt(this)}api(){return{request:o(async(t,r)=>this.request(t,r),"request"),context:o((t={})=>new e(t).api(),"context"),setCA:o(t=>this.setCA(t),"setCA"),reset:o(async()=>this.reset(),"reset"),RequestAbortedError:wDt,ALPN_HTTP2:SDt,ALPN_HTTP2C:_Dt,ALPN_HTTP1_1:kDt,ALPN_HTTP1_0:BDt}}async request(t,r){return vDt(this,t,r)}setCA(t){this.options.ca=t}async reset(){return bDt("resetting context"),TDt(this)}};tUe.exports=new yce().api()});var aUe=V((okn,sUe)=>{"use strict";d();var{EventEmitter:RDt}=require("events"),{Readable:yk}=require("stream"),Cce=Qx()("helix-fetch"),DDt=tce(),{Body:PDt}=LH(),{Headers:vce}=W6(),{Request:qx}=wOe(),{Response:Ece}=lce(),{FetchBaseError:FDt,FetchError:Ck,AbortError:jH}=ice(),{AbortController:NDt,AbortSignal:LDt,TimeoutSignal:QDt}=oce(),MDt=POe(),{cacheableResponse:ODt}=LOe(),{sizeof:UDt}=IA(),{isFormData:qDt}=gk(),{context:WDt,RequestAbortedError:GDt}=rUe(),nUe=["GET","HEAD"],HDt=500,VDt=100*1024*1024,xce="push",iUe=o(async(e,t,r)=>{let{request:n}=e.context,i=t instanceof qx&&typeof r>"u"?t:new qx(t,r),{method:s,body:a,signal:l,compress:c,decode:u,follow:f,redirect:m,init:{body:h}}=i,p;if(l&&l.aborted){let P=new jH("The operation was aborted.");throw i.init.body instanceof yk&&i.init.body.destroy(P),P}try{p=await n(i.url,{...r,method:s,headers:i.headers.plain(),body:h&&!(h instanceof yk)&&!qDt(h)?h:a,compress:c,decode:u,follow:f,redirect:m,signal:l})}catch(P){throw h instanceof yk&&h.destroy(P),P instanceof TypeError?P:P instanceof GDt?new jH("The operation was aborted."):new Ck(P.message,"system",P)}let A=o(()=>{l.removeEventListener("abort",A);let P=new jH("The operation was aborted.");i.init.body instanceof yk&&i.init.body.destroy(P),p.readable.emit("error",P)},"abortHandler");l&&l.addEventListener("abort",A);let{statusCode:x,statusText:E,httpVersion:v,headers:b,readable:S,decoded:B}=p;if([301,302,303,307,308].includes(x)){let{location:P}=b,F=P==null?null:new URL(P,i.url);switch(i.redirect){case"manual":break;case"error":throw l&&l.removeEventListener("abort",A),new Ck(`uri requested responds with a redirect, redirect mode is set to 'error': ${i.url}`,"no-redirect");case"follow":{if(F===null)break;if(i.counter>=i.follow)throw l&&l.removeEventListener("abort",A),new Ck(`maximum redirect reached at: ${i.url}`,"max-redirect");let q={headers:new vce(i.headers),follow:i.follow,compress:i.compress,decode:i.decode,counter:i.counter+1,method:i.method,body:i.body,signal:i.signal};if(x!==303&&i.body&&i.init.body instanceof yk)throw l&&l.removeEventListener("abort",A),new Ck("Cannot follow redirect with body being a readable stream","unsupported-redirect");return(x===303||(x===301||x===302)&&i.method==="POST")&&(q.method="GET",q.body=void 0,q.headers.delete("content-length")),l&&l.removeEventListener("abort",A),iUe(e,new qx(F,q))}default:}}return l&&(S.once("end",()=>{l.removeEventListener("abort",A)}),S.once("error",()=>{l.removeEventListener("abort",A)})),new Ece(S,{url:i.url,status:x,statusText:E,headers:b,httpVersion:v,decoded:B,counter:i.counter})},"fetch"),oUe=o(async(e,t,r)=>{if(e.options.maxCacheSize===0||!nUe.includes(t.method))return r;let n=new MDt(t,r,{shared:!1});if(n.storable()){let i=await ODt(r);return e.cache.set(t.url,{policy:n,response:i},n.timeToLive()),i}else return r},"cacheResponse"),jDt=o(async(e,t,r)=>{let n=new qx(t,r);if(e.options.maxCacheSize!==0&&nUe.includes(n.method)&&!["no-store","reload"].includes(n.cache)){let{policy:a,response:l}=e.cache.get(n.url)||{};if(a&&a.satisfiesWithoutRevalidation(n)){l.headers=new vce(a.responseHeaders(l));let c=l.clone();return c.fromCache=!0,c}}let s=await iUe(e,n);return n.cache!=="no-store"?oUe(e,n,s):s},"cachingFetch"),$Dt=o((e,t={})=>{let r=new URL(e);if(typeof t!="object"||Array.isArray(t))throw new TypeError("qs: object expected");return Object.entries(t).forEach(([n,i])=>{Array.isArray(i)?i.forEach(s=>r.searchParams.append(n,s)):r.searchParams.append(n,i)}),r.href},"createUrl"),zDt=o(e=>new QDt(e),"timeoutSignal"),bce=class e{static{o(this,"FetchContext")}constructor(t){this.options={...t};let{maxCacheSize:r}=this.options,n=typeof r=="number"&&r>=0?r:VDt,i=HDt;n===0&&(n=1,i=1);let s=o(({response:l},c)=>UDt(l),"sizeCalculation");this.cache=new DDt({max:i,maxSize:n,sizeCalculation:s}),this.eventEmitter=new RDt,this.options.h2=this.options.h2||{},typeof this.options.h2.enablePush>"u"&&(this.options.h2.enablePush=!0);let{enablePush:a}=this.options.h2;a&&(this.options.h2.pushPromiseHandler=(l,c,u)=>{let f={...c};Object.keys(f).filter(m=>m.startsWith(":")).forEach(m=>delete f[m]),this.pushPromiseHandler(l,f,u)},this.options.h2.pushHandler=(l,c,u)=>{let f={...c};Object.keys(f).filter(v=>v.startsWith(":")).forEach(v=>delete f[v]);let{statusCode:m,statusText:h,httpVersion:p,headers:A,readable:x,decoded:E}=u;this.pushHandler(l,f,new Ece(x,{url:l,status:m,statusText:h,headers:A,httpVersion:p,decoded:E}))}),this.context=WDt(this.options)}api(){return{fetch:o(async(t,r)=>this.fetch(t,r),"fetch"),Body:PDt,Headers:vce,Request:qx,Response:Ece,AbortController:NDt,AbortSignal:LDt,FetchBaseError:FDt,FetchError:Ck,AbortError:jH,context:o((t={})=>new e(t).api(),"context"),setCA:o(t=>this.setCA(t),"setCA"),noCache:o((t={})=>new e({...t,maxCacheSize:0}).api(),"noCache"),h1:o((t={})=>new e({...t,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),"h1"),keepAlive:o((t={})=>new e({...t,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),"keepAlive"),h1NoCache:o((t={})=>new e({...t,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),"h1NoCache"),keepAliveNoCache:o((t={})=>new e({...t,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),"keepAliveNoCache"),reset:o(async()=>this.context.reset(),"reset"),onPush:o(t=>this.onPush(t),"onPush"),offPush:o(t=>this.offPush(t),"offPush"),createUrl:$Dt,timeoutSignal:zDt,clearCache:o(()=>this.clearCache(),"clearCache"),cacheStats:o(()=>this.cacheStats(),"cacheStats"),ALPN_HTTP2:this.context.ALPN_HTTP2,ALPN_HTTP2C:this.context.ALPN_HTTP2C,ALPN_HTTP1_1:this.context.ALPN_HTTP1_1,ALPN_HTTP1_0:this.context.ALPN_HTTP1_0}}async fetch(t,r){return jDt(this,t,r)}setCA(t){this.options.ca=t,this.context.setCA(t)}onPush(t){return this.eventEmitter.on(xce,t)}offPush(t){return this.eventEmitter.off(xce,t)}clearCache(){this.cache.clear()}cacheStats(){return{size:this.cache.calculatedSize,count:this.cache.size}}pushPromiseHandler(t,r,n){Cce(`received server push promise: ${t}, headers: ${JSON.stringify(r)}`);let i=new qx(t,{headers:r}),{policy:s}=this.cache.get(t)||{};s&&s.satisfiesWithoutRevalidation(i)&&(Cce(`already cached, reject push promise: ${t}, headers: ${JSON.stringify(r)}`),n())}async pushHandler(t,r,n){Cce(`caching resource pushed by server: ${t}, reqHeaders: ${JSON.stringify(r)}, status: ${n.status}, respHeaders: ${JSON.stringify(n.headers)}`);let i=await oUe(this,new qx(t,{headers:r}),n);this.eventEmitter.emit(xce,t,i)}};sUe.exports=new bce().api()});var cUe=V((lkn,lUe)=>{"use strict";d();lUe.exports=aUe()});var CFt={};Yg(CFt,{getTokenizer:()=>Ki,main:()=>zqe});module.exports=CGe(CFt);d();var gVn=tt(U$());d();d();var S7="github.copilot";d();d();var tp=class{static{o(this,"Clock")}now(){return new Date}};d();var JR=tt(Y2());function G$(e){return(0,JR.SHA256)(JR.enc.Utf16.parse(e.prefix+e.suffix)).toString()}o(G$,"keyForPrompt");var xn=class{constructor(t=10){this.valueMap=new Map;this.lruKeys=[];this.sizeLimit=t}static{o(this,"LRUCacheMap")}set(t,r){let n;return this.valueMap.has(t)?n=t:this.lruKeys.length>=this.sizeLimit&&(n=this.lruKeys[0]),n!==void 0&&this.delete(n),this.valueMap.set(t,r),this.touchKeyInLRU(t),this}get(t){if(this.valueMap.has(t)){let r=this.valueMap.get(t);return this.touchKeyInLRU(t),r}}delete(t){return this.has(t)?this.deleteKey(t):!1}clear(){this.valueMap.clear(),this.lruKeys=[]}get size(){return this.valueMap.size}keys(){return this.lruKeys.slice().values()}values(){return new Map(this.valueMap).values()}entries(){return new Map(this.valueMap).entries()}[Symbol.iterator](){return this.entries()}has(t){return this.valueMap.has(t)}forEach(t,r){new Map(this.valueMap).forEach(t,r)}get[Symbol.toStringTag](){return"LRUCacheMap"}peek(t){return this.valueMap.get(t)}deleteKey(t){let r=!1;return this.removeKeyFromLRU(t),this.valueMap.get(t)!==void 0&&(r=this.valueMap.delete(t)),r}removeKeyFromLRU(t){let r=this.lruKeys.indexOf(t);r!==-1&&this.lruKeys.splice(r,1)}touchKeyInLRU(t){this.removeKeyFromLRU(t),this.lruKeys.push(t)}};d();d();d();d();var Ms=class extends Error{static{o(this,"CopilotAuthError")}constructor(t,r){super(t,{cause:r}),this.name="CopilotAuthError"}};d();var Nf="X-Copilot-RelatedPluginVersion-",k7=(M=>(M.Market="X-MSEdge-Market",M.CorpNet="X-FD-Corpnet",M.Build="X-VSCode-Build",M.ApplicationVersion="X-VSCode-AppVersion",M.TargetPopulation="X-VSCode-TargetPopulation",M.ClientId="X-MSEdge-ClientId",M.ExtensionName="X-VSCode-ExtensionName",M.ExtensionVersion="X-VSCode-ExtensionVersion",M.ExtensionRelease="X-VSCode-ExtensionRelease",M.Language="X-VSCode-Language",M.CopilotClientTimeBucket="X-Copilot-ClientTimeBucket",M.CopilotEngine="X-Copilot-Engine",M.CopilotOverrideEngine="X-Copilot-OverrideEngine",M.CopilotRepository="X-Copilot-Repository",M.CopilotFileType="X-Copilot-FileType",M.CopilotUserKind="X-Copilot-UserKind",M.CopilotDogfood="X-Copilot-Dogfood",M.CopilotCustomModel="X-Copilot-CustomModel",M.CopilotOrgs="X-Copilot-Orgs",M.CopilotCustomModelNames="X-Copilot-CustomModelNames",M.CopilotTrackingId="X-Copilot-CopilotTrackingId",M.CopilotClientVersion="X-Copilot-ClientVersion",M.CopilotRelatedPluginVersionCppTools=Nf+"msvscodecpptools",M.CopilotRelatedPluginVersionCMakeTools=Nf+"msvscodecmaketools",M.CopilotRelatedPluginVersionMakefileTools=Nf+"msvscodemakefiletools",M.CopilotRelatedPluginVersionCSharpDevKit=Nf+"msdotnettoolscsdevkit",M.CopilotRelatedPluginVersionPython=Nf+"mspythonpython",M.CopilotRelatedPluginVersionPylance=Nf+"mspythonvscodepylance",M.CopilotRelatedPluginVersionJavaPack=Nf+"vscjavavscodejavapack",M.CopilotRelatedPluginVersionTypescript=Nf+"vscodetypescriptlanguagefeatures",M.CopilotRelatedPluginVersionTypescriptNext=Nf+"msvscodevscodetypescriptnext",M.CopilotRelatedPluginVersionCSharp=Nf+"msdotnettoolscsharp",M))(k7||{});var iHe={"X-Copilot-ClientTimeBucket":"timeBucket","X-Copilot-OverrideEngine":"engine","X-Copilot-Repository":"repo","X-Copilot-FileType":"fileType","X-Copilot-UserKind":"userKind"},p3=class e{constructor(t){this.filters=t;for(let[r,n]of Object.entries(this.filters))n===""&&delete this.filters[r]}static{o(this,"FilterSettings")}extends(t){for(let[r,n]of Object.entries(t.filters))if(this.filters[r]!==n)return!1;return!0}addToTelemetry(t){for(let[r,n]of Object.entries(this.filters)){let i=iHe[r];i!==void 0&&(t.properties[i]=n)}}stringify(){let t=Object.keys(this.filters);return t.sort(),t.map(r=>`${r}:${this.filters[r]}`).join(";")}toHeaders(){return{...this.filters}}withChange(t,r){return new e({...this.filters,[t]:r})}};d();var Jde=tt(require("util")),Xde=require("util");var Nr=class{static{o(this,"Fetcher")}#e;set rejectUnauthorized(t){this.#e=t}get rejectUnauthorized(){return this.#e}},B7=class extends Error{static{o(this,"HttpTimeoutError")}constructor(t,r){super(t,{cause:r}),this.name="HttpTimeoutError"}};function bc(e){return!e||typeof e!="object"?!1:e instanceof B7||"name"in e&&e.name==="AbortError"||"code"in e&&e.code==="ABORT_ERR"}o(bc,"isAbortError");var mb=class extends SyntaxError{constructor(r,n){super(r);this.code=n;this.name="JsonParseError"}static{o(this,"JsonParseError")}},g3=class extends Error{static{o(this,"FetchResponseError")}constructor(t){super(`HTTP ${t.status} ${t.statusText}`),this.name="FetchResponseError",this.code=`HTTP${t.status}`}},oHe=new Set(["ECONNABORTED","ECONNRESET","EHOSTUNREACH","ENETUNREACH","ENOTCONN","ENOTFOUND","ETIMEDOUT","ERR_HTTP2_STREAM_ERROR","ERR_SSL_BAD_DECRYPT","ERR_SSL_DECRYPTION_FAILED_OR_BAD_RECORD_MAC","ERR_SSL_INVALID_LIBRARY_(0)","ERR_SSL_SSLV3_ALERT_BAD_RECORD_MAC","ERR_SSL_WRONG_VERSION_NUMBER","ERR_STREAM_PREMATURE_CLOSE","ERR_TLS_CERT_ALTNAME_INVALID"]);function R7(e,t=!0){return e instanceof Error?t&&"cause"in e&&R7(e.cause,!1)?!0:e.name==="EditorFetcherError"||e.name==="FetchError"||e instanceof mb||e instanceof g3||e?.message?.startsWith("net::")||oHe.has(e.code??""):!1}o(R7,"isNetworkError");var K2=class{constructor(t,r,n,i,s){this.status=t;this.statusText=r;this.headers=n;this.getText=i;this.getBody=s;this.ok=this.status>=200&&this.status<300;this.clientError=this.status>=400&&this.status<500}static{o(this,"Response")}async text(){return this.getText()}async json(){let t=await this.text(),r=this.headers.get("content-type");if(!r||!r.includes("json"))throw new mb(`Response content-type is ${r??"missing"} (status=${this.status})`,`ContentType=${r}`);try{return JSON.parse(t)}catch(n){if(n instanceof SyntaxError){let i=n.message.match(/^(.*?) in JSON at position (\d+)(?: \(line \d+ column \d+\))?$/);if(i&&parseInt(i[2],10)==t.length||n.message==="Unexpected end of JSON input"){let s=new Xde.TextEncoder().encode(t).length,a=this.headers.get("content-length");throw a===null?new mb(`Response body truncated: actualLength=${s}`,"Truncated"):new mb(`Response body truncated: actualLength=${s}, headerLength=${a}`,"Truncated")}}throw n}}body(){return this.getBody()}};function A3(e,t,r,n,i,s,a,l,c){let u={...l,Authorization:Jde.format("Bearer %s",r),"X-Request-Id":i,"Openai-Organization":"github-copilot","VScode-SessionId":e.get(ms).sessionId,"VScode-MachineId":e.get(ms).machineId,...d0(e)};n&&(u["OpenAI-Intent"]=n);let f={method:"POST",headers:u,json:s,timeout:c},m=e.get(Nr);if(a){let p=m.makeAbortController();a.onCancellationRequested(()=>{Gt(e,"networking.cancelRequest",rn.createAndMarkAsIssued({headerRequestId:i})),p.abort()}),f.signal=p.signal}return m.fetch(t,f).catch(p=>{if(sHe(p))return Gt(e,"networking.disconnectAll"),m.disconnectAll().then(()=>m.fetch(t,f));throw p})}o(A3,"postRequest");function sHe(e){return e instanceof Error?e.message=="ERR_HTTP2_GOAWAY_SESSION"?!0:"code"in e?e.code=="ECONNRESET"||e.code=="ETIMEDOUT"||e.code=="ERR_HTTP2_INVALID_SESSION":!1:!1}o(sHe,"isInterruptedNetworkError");d();d();d();d();d();d();d();var m0={};Yg(m0,{HasPropertyKey:()=>XR,IsArray:()=>oa,IsAsyncIterator:()=>H$,IsBigInt:()=>D7,IsBoolean:()=>Xg,IsDate:()=>y3,IsFunction:()=>V$,IsIterator:()=>j$,IsNull:()=>$$,IsNumber:()=>Cu,IsObject:()=>po,IsRegExp:()=>P7,IsString:()=>wo,IsSymbol:()=>z$,IsUint8Array:()=>Zg,IsUndefined:()=>sa});d();function XR(e,t){return t in e}o(XR,"HasPropertyKey");function H$(e){return po(e)&&!oa(e)&&!Zg(e)&&Symbol.asyncIterator in e}o(H$,"IsAsyncIterator");function oa(e){return Array.isArray(e)}o(oa,"IsArray");function D7(e){return typeof e=="bigint"}o(D7,"IsBigInt");function Xg(e){return typeof e=="boolean"}o(Xg,"IsBoolean");function y3(e){return e instanceof globalThis.Date}o(y3,"IsDate");function V$(e){return typeof e=="function"}o(V$,"IsFunction");function j$(e){return po(e)&&!oa(e)&&!Zg(e)&&Symbol.iterator in e}o(j$,"IsIterator");function $$(e){return e===null}o($$,"IsNull");function Cu(e){return typeof e=="number"}o(Cu,"IsNumber");function po(e){return typeof e=="object"&&e!==null}o(po,"IsObject");function P7(e){return e instanceof globalThis.RegExp}o(P7,"IsRegExp");function wo(e){return typeof e=="string"}o(wo,"IsString");function z$(e){return typeof e=="symbol"}o(z$,"IsSymbol");function Zg(e){return e instanceof globalThis.Uint8Array}o(Zg,"IsUint8Array");function sa(e){return e===void 0}o(sa,"IsUndefined");function aHe(e){return e.map(t=>ZR(t))}o(aHe,"ArrayType");function lHe(e){return new Date(e.getTime())}o(lHe,"DateType");function cHe(e){return new Uint8Array(e)}o(cHe,"Uint8ArrayType");function uHe(e){return new RegExp(e.source,e.flags)}o(uHe,"RegExpType");function fHe(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=ZR(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=ZR(e[r]);return t}o(fHe,"ObjectType");function ZR(e){return oa(e)?aHe(e):y3(e)?lHe(e):Zg(e)?cHe(e):P7(e)?uHe(e):po(e)?fHe(e):e}o(ZR,"Visit");function jo(e){return ZR(e)}o(jo,"Clone");function hb(e,t){return t===void 0?jo(e):jo({...t,...e})}o(hb,"CloneType");d();d();d();function eD(e){return Xn(e)&&globalThis.Symbol.asyncIterator in e}o(eD,"IsAsyncIterator");function tD(e){return Xn(e)&&globalThis.Symbol.iterator in e}o(tD,"IsIterator");function Y$(e){return Xn(e)&&(globalThis.Object.getPrototypeOf(e)===Object.prototype||globalThis.Object.getPrototypeOf(e)===null)}o(Y$,"IsStandardObject");function rD(e){return e instanceof globalThis.Promise}o(rD,"IsPromise");function W0(e){return e instanceof Date&&globalThis.Number.isFinite(e.getTime())}o(W0,"IsDate");function Zde(e){return e instanceof globalThis.Map}o(Zde,"IsMap");function eme(e){return e instanceof globalThis.Set}o(eme,"IsSet");function Lf(e){return globalThis.ArrayBuffer.isView(e)}o(Lf,"IsTypedArray");function pb(e){return e instanceof globalThis.Uint8Array}o(pb,"IsUint8Array");function cn(e,t){return t in e}o(cn,"HasPropertyKey");function Xn(e){return e!==null&&typeof e=="object"}o(Xn,"IsObject");function un(e){return globalThis.Array.isArray(e)&&!globalThis.ArrayBuffer.isView(e)}o(un,"IsArray");function $o(e){return e===void 0}o($o,"IsUndefined");function e1(e){return e===null}o(e1,"IsNull");function rp(e){return typeof e=="boolean"}o(rp,"IsBoolean");function Hr(e){return typeof e=="number"}o(Hr,"IsNumber");function nD(e){return globalThis.Number.isInteger(e)}o(nD,"IsInteger");function Ql(e){return typeof e=="bigint"}o(Ql,"IsBigInt");function _i(e){return typeof e=="string"}o(_i,"IsString");function J2(e){return typeof e=="function"}o(J2,"IsFunction");function t1(e){return typeof e=="symbol"}o(t1,"IsSymbol");function xu(e){return Ql(e)||rp(e)||e1(e)||Hr(e)||_i(e)||t1(e)||$o(e)}o(xu,"IsValueType");var Fo;(function(e){e.InstanceMode="default",e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1;function t(a,l){return e.ExactOptionalPropertyTypes?l in a:a[l]!==void 0}o(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){let l=Xn(a);return e.AllowArrayObject?l:l&&!un(a)}o(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return r(a)&&!(a instanceof Date)&&!(a instanceof Uint8Array)}o(n,"IsRecordLike"),e.IsRecordLike=n;function i(a){return e.AllowNaN?Hr(a):Number.isFinite(a)}o(i,"IsNumberLike"),e.IsNumberLike=i;function s(a){let l=$o(a);return e.AllowNullVoid?l||a===null:l}o(s,"IsVoidLike"),e.IsVoidLike=s})(Fo||(Fo={}));d();function dHe(e){return globalThis.Object.freeze(e).map(t=>F7(t))}o(dHe,"ImmutableArray");function mHe(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=F7(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=F7(e[r]);return globalThis.Object.freeze(t)}o(mHe,"ImmutableObject");function F7(e){return oa(e)?dHe(e):y3(e)?e:Zg(e)?e:P7(e)?e:po(e)?mHe(e):e}o(F7,"Immutable");function ct(e,t){let r=t!==void 0?{...t,...e}:e;switch(Fo.InstanceMode){case"freeze":return F7(r);case"clone":return jo(r);default:return r}}o(ct,"CreateType");d();var fn=class extends Error{static{o(this,"TypeBoxError")}constructor(t){super(t)}};d();d();d();var hs=Symbol.for("TypeBox.Transform"),um=Symbol.for("TypeBox.Readonly"),Ml=Symbol.for("TypeBox.Optional"),Qf=Symbol.for("TypeBox.Hint"),it=Symbol.for("TypeBox.Kind");function gb(e){return po(e)&&e[um]==="Readonly"}o(gb,"IsReadonly");function vc(e){return po(e)&&e[Ml]==="Optional"}o(vc,"IsOptional");function K$(e){return Ei(e,"Any")}o(K$,"IsAny");function J$(e){return Ei(e,"Argument")}o(J$,"IsArgument");function fm(e){return Ei(e,"Array")}o(fm,"IsArray");function C3(e){return Ei(e,"AsyncIterator")}o(C3,"IsAsyncIterator");function x3(e){return Ei(e,"BigInt")}o(x3,"IsBigInt");function r1(e){return Ei(e,"Boolean")}o(r1,"IsBoolean");function dm(e){return Ei(e,"Computed")}o(dm,"IsComputed");function mm(e){return Ei(e,"Constructor")}o(mm,"IsConstructor");function hHe(e){return Ei(e,"Date")}o(hHe,"IsDate");function hm(e){return Ei(e,"Function")}o(hm,"IsFunction");function pm(e){return Ei(e,"Integer")}o(pm,"IsInteger");function ks(e){return Ei(e,"Intersect")}o(ks,"IsIntersect");function E3(e){return Ei(e,"Iterator")}o(E3,"IsIterator");function Ei(e,t){return po(e)&&it in e&&e[it]===t}o(Ei,"IsKindOf");function iD(e){return Xg(e)||Cu(e)||wo(e)}o(iD,"IsLiteralValue");function Eu(e){return Ei(e,"Literal")}o(Eu,"IsLiteral");function bu(e){return Ei(e,"MappedKey")}o(bu,"IsMappedKey");function zo(e){return Ei(e,"MappedResult")}o(zo,"IsMappedResult");function X2(e){return Ei(e,"Never")}o(X2,"IsNever");function pHe(e){return Ei(e,"Not")}o(pHe,"IsNot");function N7(e){return Ei(e,"Null")}o(N7,"IsNull");function gm(e){return Ei(e,"Number")}o(gm,"IsNumber");function aa(e){return Ei(e,"Object")}o(aa,"IsObject");function b3(e){return Ei(e,"Promise")}o(b3,"IsPromise");function v3(e){return Ei(e,"Record")}o(v3,"IsRecord");function Os(e){return Ei(e,"Ref")}o(Os,"IsRef");function X$(e){return Ei(e,"RegExp")}o(X$,"IsRegExp");function n1(e){return Ei(e,"String")}o(n1,"IsString");function L7(e){return Ei(e,"Symbol")}o(L7,"IsSymbol");function vu(e){return Ei(e,"TemplateLiteral")}o(vu,"IsTemplateLiteral");function gHe(e){return Ei(e,"This")}o(gHe,"IsThis");function $i(e){return po(e)&&hs in e}o($i,"IsTransform");function Iu(e){return Ei(e,"Tuple")}o(Iu,"IsTuple");function i1(e){return Ei(e,"Undefined")}o(i1,"IsUndefined");function ki(e){return Ei(e,"Union")}o(ki,"IsUnion");function AHe(e){return Ei(e,"Uint8Array")}o(AHe,"IsUint8Array");function yHe(e){return Ei(e,"Unknown")}o(yHe,"IsUnknown");function CHe(e){return Ei(e,"Unsafe")}o(CHe,"IsUnsafe");function xHe(e){return Ei(e,"Void")}o(xHe,"IsVoid");function Z2(e){return po(e)&&it in e&&wo(e[it])}o(Z2,"IsKind");function ps(e){return K$(e)||J$(e)||fm(e)||r1(e)||x3(e)||C3(e)||dm(e)||mm(e)||hHe(e)||hm(e)||pm(e)||ks(e)||E3(e)||Eu(e)||bu(e)||zo(e)||X2(e)||pHe(e)||N7(e)||gm(e)||aa(e)||b3(e)||v3(e)||Os(e)||X$(e)||n1(e)||L7(e)||vu(e)||gHe(e)||Iu(e)||i1(e)||ki(e)||AHe(e)||yHe(e)||CHe(e)||xHe(e)||Z2(e)}o(ps,"IsSchema");var Qe={};Yg(Qe,{IsAny:()=>ime,IsArgument:()=>ome,IsArray:()=>sme,IsAsyncIterator:()=>ame,IsBigInt:()=>lme,IsBoolean:()=>cme,IsComputed:()=>ume,IsConstructor:()=>fme,IsDate:()=>dme,IsFunction:()=>mme,IsImport:()=>wHe,IsInteger:()=>hme,IsIntersect:()=>pme,IsIterator:()=>gme,IsKind:()=>Wme,IsKindOf:()=>ai,IsLiteral:()=>M7,IsLiteralBoolean:()=>SHe,IsLiteralNumber:()=>yme,IsLiteralString:()=>Ame,IsLiteralValue:()=>Cme,IsMappedKey:()=>xme,IsMappedResult:()=>Eme,IsNever:()=>bme,IsNot:()=>vme,IsNull:()=>Ime,IsNumber:()=>Tme,IsObject:()=>wme,IsOptional:()=>THe,IsPromise:()=>Sme,IsProperties:()=>oD,IsReadonly:()=>IHe,IsRecord:()=>_me,IsRecursive:()=>_He,IsRef:()=>kme,IsRegExp:()=>Bme,IsSchema:()=>Yo,IsString:()=>Rme,IsSymbol:()=>Dme,IsTemplateLiteral:()=>Pme,IsThis:()=>Fme,IsTransform:()=>Nme,IsTuple:()=>Lme,IsUint8Array:()=>Mme,IsUndefined:()=>Qme,IsUnion:()=>rz,IsUnionLiteral:()=>kHe,IsUnknown:()=>Ome,IsUnsafe:()=>Ume,IsVoid:()=>qme,TypeGuardUnknownTypeError:()=>Z$});d();var Z$=class extends fn{static{o(this,"TypeGuardUnknownTypeError")}},EHe=["Argument","Any","Array","AsyncIterator","BigInt","Boolean","Computed","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function tme(e){try{return new RegExp(e),!0}catch{return!1}}o(tme,"IsPattern");function ez(e){if(!wo(e))return!1;for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);if(r>=7&&r<=13||r===27||r===127)return!1}return!0}o(ez,"IsControlCharacterFree");function rme(e){return tz(e)||Yo(e)}o(rme,"IsAdditionalProperties");function Q7(e){return sa(e)||D7(e)}o(Q7,"IsOptionalBigInt");function So(e){return sa(e)||Cu(e)}o(So,"IsOptionalNumber");function tz(e){return sa(e)||Xg(e)}o(tz,"IsOptionalBoolean");function go(e){return sa(e)||wo(e)}o(go,"IsOptionalString");function bHe(e){return sa(e)||wo(e)&&ez(e)&&tme(e)}o(bHe,"IsOptionalPattern");function vHe(e){return sa(e)||wo(e)&&ez(e)}o(vHe,"IsOptionalFormat");function nme(e){return sa(e)||Yo(e)}o(nme,"IsOptionalSchema");function IHe(e){return po(e)&&e[um]==="Readonly"}o(IHe,"IsReadonly");function THe(e){return po(e)&&e[Ml]==="Optional"}o(THe,"IsOptional");function ime(e){return ai(e,"Any")&&go(e.$id)}o(ime,"IsAny");function ome(e){return ai(e,"Argument")&&Cu(e.index)}o(ome,"IsArgument");function sme(e){return ai(e,"Array")&&e.type==="array"&&go(e.$id)&&Yo(e.items)&&So(e.minItems)&&So(e.maxItems)&&tz(e.uniqueItems)&&nme(e.contains)&&So(e.minContains)&&So(e.maxContains)}o(sme,"IsArray");function ame(e){return ai(e,"AsyncIterator")&&e.type==="AsyncIterator"&&go(e.$id)&&Yo(e.items)}o(ame,"IsAsyncIterator");function lme(e){return ai(e,"BigInt")&&e.type==="bigint"&&go(e.$id)&&Q7(e.exclusiveMaximum)&&Q7(e.exclusiveMinimum)&&Q7(e.maximum)&&Q7(e.minimum)&&Q7(e.multipleOf)}o(lme,"IsBigInt");function cme(e){return ai(e,"Boolean")&&e.type==="boolean"&&go(e.$id)}o(cme,"IsBoolean");function ume(e){return ai(e,"Computed")&&wo(e.target)&&oa(e.parameters)&&e.parameters.every(t=>Yo(t))}o(ume,"IsComputed");function fme(e){return ai(e,"Constructor")&&e.type==="Constructor"&&go(e.$id)&&oa(e.parameters)&&e.parameters.every(t=>Yo(t))&&Yo(e.returns)}o(fme,"IsConstructor");function dme(e){return ai(e,"Date")&&e.type==="Date"&&go(e.$id)&&So(e.exclusiveMaximumTimestamp)&&So(e.exclusiveMinimumTimestamp)&&So(e.maximumTimestamp)&&So(e.minimumTimestamp)&&So(e.multipleOfTimestamp)}o(dme,"IsDate");function mme(e){return ai(e,"Function")&&e.type==="Function"&&go(e.$id)&&oa(e.parameters)&&e.parameters.every(t=>Yo(t))&&Yo(e.returns)}o(mme,"IsFunction");function wHe(e){return ai(e,"Import")&&XR(e,"$defs")&&po(e.$defs)&&oD(e.$defs)&&XR(e,"$ref")&&wo(e.$ref)&&e.$ref in e.$defs}o(wHe,"IsImport");function hme(e){return ai(e,"Integer")&&e.type==="integer"&&go(e.$id)&&So(e.exclusiveMaximum)&&So(e.exclusiveMinimum)&&So(e.maximum)&&So(e.minimum)&&So(e.multipleOf)}o(hme,"IsInteger");function oD(e){return po(e)&&Object.entries(e).every(([t,r])=>ez(t)&&Yo(r))}o(oD,"IsProperties");function pme(e){return ai(e,"Intersect")&&!(wo(e.type)&&e.type!=="object")&&oa(e.allOf)&&e.allOf.every(t=>Yo(t)&&!Nme(t))&&go(e.type)&&(tz(e.unevaluatedProperties)||nme(e.unevaluatedProperties))&&go(e.$id)}o(pme,"IsIntersect");function gme(e){return ai(e,"Iterator")&&e.type==="Iterator"&&go(e.$id)&&Yo(e.items)}o(gme,"IsIterator");function ai(e,t){return po(e)&&it in e&&e[it]===t}o(ai,"IsKindOf");function Ame(e){return M7(e)&&wo(e.const)}o(Ame,"IsLiteralString");function yme(e){return M7(e)&&Cu(e.const)}o(yme,"IsLiteralNumber");function SHe(e){return M7(e)&&Xg(e.const)}o(SHe,"IsLiteralBoolean");function M7(e){return ai(e,"Literal")&&go(e.$id)&&Cme(e.const)}o(M7,"IsLiteral");function Cme(e){return Xg(e)||Cu(e)||wo(e)}o(Cme,"IsLiteralValue");function xme(e){return ai(e,"MappedKey")&&oa(e.keys)&&e.keys.every(t=>Cu(t)||wo(t))}o(xme,"IsMappedKey");function Eme(e){return ai(e,"MappedResult")&&oD(e.properties)}o(Eme,"IsMappedResult");function bme(e){return ai(e,"Never")&&po(e.not)&&Object.getOwnPropertyNames(e.not).length===0}o(bme,"IsNever");function vme(e){return ai(e,"Not")&&Yo(e.not)}o(vme,"IsNot");function Ime(e){return ai(e,"Null")&&e.type==="null"&&go(e.$id)}o(Ime,"IsNull");function Tme(e){return ai(e,"Number")&&e.type==="number"&&go(e.$id)&&So(e.exclusiveMaximum)&&So(e.exclusiveMinimum)&&So(e.maximum)&&So(e.minimum)&&So(e.multipleOf)}o(Tme,"IsNumber");function wme(e){return ai(e,"Object")&&e.type==="object"&&go(e.$id)&&oD(e.properties)&&rme(e.additionalProperties)&&So(e.minProperties)&&So(e.maxProperties)}o(wme,"IsObject");function Sme(e){return ai(e,"Promise")&&e.type==="Promise"&&go(e.$id)&&Yo(e.item)}o(Sme,"IsPromise");function _me(e){return ai(e,"Record")&&e.type==="object"&&go(e.$id)&&rme(e.additionalProperties)&&po(e.patternProperties)&&(t=>{let r=Object.getOwnPropertyNames(t.patternProperties);return r.length===1&&tme(r[0])&&po(t.patternProperties)&&Yo(t.patternProperties[r[0]])})(e)}o(_me,"IsRecord");function _He(e){return po(e)&&Qf in e&&e[Qf]==="Recursive"}o(_He,"IsRecursive");function kme(e){return ai(e,"Ref")&&go(e.$id)&&wo(e.$ref)}o(kme,"IsRef");function Bme(e){return ai(e,"RegExp")&&go(e.$id)&&wo(e.source)&&wo(e.flags)&&So(e.maxLength)&&So(e.minLength)}o(Bme,"IsRegExp");function Rme(e){return ai(e,"String")&&e.type==="string"&&go(e.$id)&&So(e.minLength)&&So(e.maxLength)&&bHe(e.pattern)&&vHe(e.format)}o(Rme,"IsString");function Dme(e){return ai(e,"Symbol")&&e.type==="symbol"&&go(e.$id)}o(Dme,"IsSymbol");function Pme(e){return ai(e,"TemplateLiteral")&&e.type==="string"&&wo(e.pattern)&&e.pattern[0]==="^"&&e.pattern[e.pattern.length-1]==="$"}o(Pme,"IsTemplateLiteral");function Fme(e){return ai(e,"This")&&go(e.$id)&&wo(e.$ref)}o(Fme,"IsThis");function Nme(e){return po(e)&&hs in e}o(Nme,"IsTransform");function Lme(e){return ai(e,"Tuple")&&e.type==="array"&&go(e.$id)&&Cu(e.minItems)&&Cu(e.maxItems)&&e.minItems===e.maxItems&&(sa(e.items)&&sa(e.additionalItems)&&e.minItems===0||oa(e.items)&&e.items.every(t=>Yo(t)))}o(Lme,"IsTuple");function Qme(e){return ai(e,"Undefined")&&e.type==="undefined"&&go(e.$id)}o(Qme,"IsUndefined");function kHe(e){return rz(e)&&e.anyOf.every(t=>Ame(t)||yme(t))}o(kHe,"IsUnionLiteral");function rz(e){return ai(e,"Union")&&go(e.$id)&&po(e)&&oa(e.anyOf)&&e.anyOf.every(t=>Yo(t))}o(rz,"IsUnion");function Mme(e){return ai(e,"Uint8Array")&&e.type==="Uint8Array"&&go(e.$id)&&So(e.minByteLength)&&So(e.maxByteLength)}o(Mme,"IsUint8Array");function Ome(e){return ai(e,"Unknown")&&go(e.$id)}o(Ome,"IsUnknown");function Ume(e){return ai(e,"Unsafe")}o(Ume,"IsUnsafe");function qme(e){return ai(e,"Void")&&e.type==="void"&&go(e.$id)}o(qme,"IsVoid");function Wme(e){return po(e)&&it in e&&wo(e[it])&&!EHe.includes(e[it])}o(Wme,"IsKind");function Yo(e){return po(e)&&(ime(e)||ome(e)||sme(e)||cme(e)||lme(e)||ame(e)||ume(e)||fme(e)||dme(e)||mme(e)||hme(e)||pme(e)||gme(e)||M7(e)||xme(e)||Eme(e)||bme(e)||vme(e)||Ime(e)||Tme(e)||wme(e)||Sme(e)||_me(e)||kme(e)||Bme(e)||Rme(e)||Dme(e)||Pme(e)||Fme(e)||Lme(e)||Qme(e)||rz(e)||Mme(e)||Ome(e)||Ume(e)||qme(e)||Wme(e))}o(Yo,"IsSchema");d();var nz="(true|false)",O7="(0|[1-9][0-9]*)",iz="(.*)",BHe="(?!.*)",kQt=`^${nz}$`,np=`^${O7}$`,ip=`^${iz}$`,Gme=`^${BHe}$`;d();var Am={};Yg(Am,{Clear:()=>DHe,Delete:()=>PHe,Entries:()=>RHe,Get:()=>LHe,Has:()=>FHe,Set:()=>NHe});d();var Ab=new Map;function RHe(){return new Map(Ab)}o(RHe,"Entries");function DHe(){return Ab.clear()}o(DHe,"Clear");function PHe(e){return Ab.delete(e)}o(PHe,"Delete");function FHe(e){return Ab.has(e)}o(FHe,"Has");function NHe(e,t){Ab.set(e,t)}o(NHe,"Set");function LHe(e){return Ab.get(e)}o(LHe,"Get");var G0={};Yg(G0,{Clear:()=>MHe,Delete:()=>OHe,Entries:()=>QHe,Get:()=>WHe,Has:()=>UHe,Set:()=>qHe});d();var yb=new Map;function QHe(){return new Map(yb)}o(QHe,"Entries");function MHe(){return yb.clear()}o(MHe,"Clear");function OHe(e){return yb.delete(e)}o(OHe,"Delete");function UHe(e){return yb.has(e)}o(UHe,"Has");function qHe(e,t){yb.set(e,t)}o(qHe,"Set");function WHe(e){return yb.get(e)}o(WHe,"Get");d();function Hme(e,t){return e.includes(t)}o(Hme,"SetIncludes");function Vme(e){return[...new Set(e)]}o(Vme,"SetDistinct");function GHe(e,t){return e.filter(r=>t.includes(r))}o(GHe,"SetIntersect");function HHe(e,t){return e.reduce((r,n)=>GHe(r,n),t)}o(HHe,"SetIntersectManyResolve");function jme(e){return e.length===1?e[0]:e.length>1?HHe(e.slice(1),e[0]):[]}o(jme,"SetIntersectMany");function $me(e){let t=[];for(let r of e)t.push(...r);return t}o($me,"SetUnionMany");d();function e5(e){return ct({[it]:"Any"},e)}o(e5,"Any");d();function Cb(e,t){return ct({[it]:"Array",type:"array",items:e},t)}o(Cb,"Array");d();function zme(e){return ct({[it]:"Argument",index:e})}o(zme,"Argument");d();function xb(e,t){return ct({[it]:"AsyncIterator",type:"AsyncIterator",items:e},t)}o(xb,"AsyncIterator");d();d();function No(e,t,r){return ct({[it]:"Computed",target:e,parameters:t},r)}o(No,"Computed");d();d();function VHe(e,t){let{[t]:r,...n}=e;return n}o(VHe,"DiscardKey");function Bs(e,t){return t.reduce((r,n)=>VHe(r,n),e)}o(Bs,"Discard");d();function Hn(e){return ct({[it]:"Never",not:{}},e)}o(Hn,"Never");d();d();function Fi(e){return ct({[it]:"MappedResult",properties:e})}o(Fi,"MappedResult");d();d();function Eb(e,t,r){return ct({[it]:"Constructor",type:"Constructor",parameters:e,returns:t},r)}o(Eb,"Constructor");d();function op(e,t,r){return ct({[it]:"Function",type:"Function",parameters:e,returns:t},r)}o(op,"Function");d();d();d();d();function U7(e,t){return ct({[it]:"Union",anyOf:e},t)}o(U7,"UnionCreate");function jHe(e){return e.some(t=>vc(t))}o(jHe,"IsUnionOptional");function Yme(e){return e.map(t=>vc(t)?$He(t):t)}o(Yme,"RemoveOptionalFromRest");function $He(e){return Bs(e,[Ml])}o($He,"RemoveOptionalFromType");function zHe(e,t){return jHe(e)?h0(U7(Yme(e),t)):U7(Yme(e),t)}o(zHe,"ResolveUnion");function sp(e,t){return e.length===1?ct(e[0],t):e.length===0?Hn(t):zHe(e,t)}o(sp,"UnionEvaluated");d();function zi(e,t){return e.length===0?Hn(t):e.length===1?ct(e[0],t):U7(e,t)}o(zi,"Union");d();d();d();var sD=class extends fn{static{o(this,"TemplateLiteralParserError")}};function YHe(e){return e.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}o(YHe,"Unescape");function oz(e,t,r){return e[t]===r&&e.charCodeAt(t-1)!==92}o(oz,"IsNonEscaped");function s1(e,t){return oz(e,t,"(")}o(s1,"IsOpenParen");function q7(e,t){return oz(e,t,")")}o(q7,"IsCloseParen");function Kme(e,t){return oz(e,t,"|")}o(Kme,"IsSeparator");function KHe(e){if(!(s1(e,0)&&q7(e,e.length-1)))return!1;let t=0;for(let r=0;r<e.length;r++)if(s1(e,r)&&(t+=1),q7(e,r)&&(t-=1),t===0&&r!==e.length-1)return!1;return!0}o(KHe,"IsGroup");function JHe(e){return e.slice(1,e.length-1)}o(JHe,"InGroup");function XHe(e){let t=0;for(let r=0;r<e.length;r++)if(s1(e,r)&&(t+=1),q7(e,r)&&(t-=1),Kme(e,r)&&t===0)return!0;return!1}o(XHe,"IsPrecedenceOr");function ZHe(e){for(let t=0;t<e.length;t++)if(s1(e,t))return!0;return!1}o(ZHe,"IsPrecedenceAnd");function eVe(e){let[t,r]=[0,0],n=[];for(let s=0;s<e.length;s++)if(s1(e,s)&&(t+=1),q7(e,s)&&(t-=1),Kme(e,s)&&t===0){let a=e.slice(r,s);a.length>0&&n.push(bb(a)),r=s+1}let i=e.slice(r);return i.length>0&&n.push(bb(i)),n.length===0?{type:"const",const:""}:n.length===1?n[0]:{type:"or",expr:n}}o(eVe,"Or");function tVe(e){function t(i,s){if(!s1(i,s))throw new sD("TemplateLiteralParser: Index must point to open parens");let a=0;for(let l=s;l<i.length;l++)if(s1(i,l)&&(a+=1),q7(i,l)&&(a-=1),a===0)return[s,l];throw new sD("TemplateLiteralParser: Unclosed group parens in expression")}o(t,"Group");function r(i,s){for(let a=s;a<i.length;a++)if(s1(i,a))return[s,a];return[s,i.length]}o(r,"Range");let n=[];for(let i=0;i<e.length;i++)if(s1(e,i)){let[s,a]=t(e,i),l=e.slice(s,a+1);n.push(bb(l)),i=a}else{let[s,a]=r(e,i),l=e.slice(s,a);l.length>0&&n.push(bb(l)),i=a-1}return n.length===0?{type:"const",const:""}:n.length===1?n[0]:{type:"and",expr:n}}o(tVe,"And");function bb(e){return KHe(e)?bb(JHe(e)):XHe(e)?eVe(e):ZHe(e)?tVe(e):{type:"const",const:YHe(e)}}o(bb,"TemplateLiteralParse");function vb(e){return bb(e.slice(1,e.length-1))}o(vb,"TemplateLiteralParseExact");var sz=class extends fn{static{o(this,"TemplateLiteralFiniteError")}};function rVe(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="0"&&e.expr[1].type==="const"&&e.expr[1].const==="[1-9][0-9]*"}o(rVe,"IsNumberExpression");function nVe(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="true"&&e.expr[1].type==="const"&&e.expr[1].const==="false"}o(nVe,"IsBooleanExpression");function iVe(e){return e.type==="const"&&e.const===".*"}o(iVe,"IsStringExpression");function I3(e){return rVe(e)||iVe(e)?!1:nVe(e)?!0:e.type==="and"?e.expr.every(t=>I3(t)):e.type==="or"?e.expr.every(t=>I3(t)):e.type==="const"?!0:(()=>{throw new sz("Unknown expression type")})()}o(I3,"IsTemplateLiteralExpressionFinite");function aD(e){let t=vb(e.pattern);return I3(t)}o(aD,"IsTemplateLiteralFinite");d();var az=class extends fn{static{o(this,"TemplateLiteralGenerateError")}};function*Jme(e){if(e.length===1)return yield*e[0];for(let t of e[0])for(let r of Jme(e.slice(1)))yield`${t}${r}`}o(Jme,"GenerateReduce");function*oVe(e){return yield*Jme(e.expr.map(t=>[...W7(t)]))}o(oVe,"GenerateAnd");function*sVe(e){for(let t of e.expr)yield*W7(t)}o(sVe,"GenerateOr");function*aVe(e){return yield e.const}o(aVe,"GenerateConst");function*W7(e){return e.type==="and"?yield*oVe(e):e.type==="or"?yield*sVe(e):e.type==="const"?yield*aVe(e):(()=>{throw new az("Unknown expression")})()}o(W7,"TemplateLiteralExpressionGenerate");function Ib(e){let t=vb(e.pattern);return I3(t)?[...W7(t)]:[]}o(Ib,"TemplateLiteralGenerate");d();d();function bi(e,t){return ct({[it]:"Literal",const:e,type:typeof e},t)}o(bi,"Literal");d();function lD(e){return ct({[it]:"Boolean",type:"boolean"},e)}o(lD,"Boolean");d();function Tb(e){return ct({[it]:"BigInt",type:"bigint"},e)}o(Tb,"BigInt");d();function Mf(e){return ct({[it]:"Number",type:"number"},e)}o(Mf,"Number");d();function H0(e){return ct({[it]:"String",type:"string"},e)}o(H0,"String");function*lVe(e){let t=e.trim().replace(/"|'/g,"");return t==="boolean"?yield lD():t==="number"?yield Mf():t==="bigint"?yield Tb():t==="string"?yield H0():yield(()=>{let r=t.split("|").map(n=>bi(n.trim()));return r.length===0?Hn():r.length===1?r[0]:sp(r)})()}o(lVe,"FromUnion");function*cVe(e){if(e[1]!=="{"){let t=bi("$"),r=lz(e.slice(1));return yield*[t,...r]}for(let t=2;t<e.length;t++)if(e[t]==="}"){let r=lVe(e.slice(2,t)),n=lz(e.slice(t+1));return yield*[...r,...n]}yield bi(e)}o(cVe,"FromTerminal");function*lz(e){for(let t=0;t<e.length;t++)if(e[t]==="$"){let r=bi(e.slice(0,t)),n=cVe(e.slice(t));return yield*[r,...n]}yield bi(e)}o(lz,"FromSyntax");function Xme(e){return[...lz(e)]}o(Xme,"TemplateLiteralSyntax");d();var cz=class extends fn{static{o(this,"TemplateLiteralPatternError")}};function uVe(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(uVe,"Escape");function Zme(e,t){return vu(e)?e.pattern.slice(1,e.pattern.length-1):ki(e)?`(${e.anyOf.map(r=>Zme(r,t)).join("|")})`:gm(e)?`${t}${O7}`:pm(e)?`${t}${O7}`:x3(e)?`${t}${O7}`:n1(e)?`${t}${iz}`:Eu(e)?`${t}${uVe(e.const.toString())}`:r1(e)?`${t}${nz}`:(()=>{throw new cz(`Unexpected Kind '${e[it]}'`)})()}o(Zme,"Visit");function uz(e){return`^${e.map(t=>Zme(t,"")).join("")}$`}o(uz,"TemplateLiteralPattern");d();function T3(e){let r=Ib(e).map(n=>bi(n));return sp(r)}o(T3,"TemplateLiteralToUnion");d();function cD(e,t){let r=wo(e)?uz(Xme(e)):uz(e);return ct({[it]:"TemplateLiteral",type:"string",pattern:r},t)}o(cD,"TemplateLiteral");function fVe(e){return Ib(e).map(r=>r.toString())}o(fVe,"FromTemplateLiteral");function dVe(e){let t=[];for(let r of e)t.push(...Ic(r));return t}o(dVe,"FromUnion");function mVe(e){return[e.toString()]}o(mVe,"FromLiteral");function Ic(e){return[...new Set(vu(e)?fVe(e):ki(e)?dVe(e.anyOf):Eu(e)?mVe(e.const):gm(e)?["[number]"]:pm(e)?["[number]"]:[])]}o(Ic,"IndexPropertyKeys");d();function hVe(e,t,r){let n={};for(let i of Object.getOwnPropertyNames(t))n[i]=t5(e,Ic(t[i]),r);return n}o(hVe,"FromProperties");function pVe(e,t,r){return hVe(e,t.properties,r)}o(pVe,"FromMappedResult");function ehe(e,t,r){let n=pVe(e,t,r);return Fi(n)}o(ehe,"IndexFromMappedResult");function rhe(e,t){return e.map(r=>nhe(r,t))}o(rhe,"FromRest");function gVe(e){return e.filter(t=>!X2(t))}o(gVe,"FromIntersectRest");function AVe(e,t){return uD(gVe(rhe(e,t)))}o(AVe,"FromIntersect");function yVe(e){return e.some(t=>X2(t))?[]:e}o(yVe,"FromUnionRest");function CVe(e,t){return sp(yVe(rhe(e,t)))}o(CVe,"FromUnion");function xVe(e,t){return t in e?e[t]:t==="[number]"?sp(e):Hn()}o(xVe,"FromTuple");function EVe(e,t){return t==="[number]"?e:Hn()}o(EVe,"FromArray");function bVe(e,t){return t in e?e[t]:Hn()}o(bVe,"FromProperty");function nhe(e,t){return ks(e)?AVe(e.allOf,t):ki(e)?CVe(e.anyOf,t):Iu(e)?xVe(e.items??[],t):fm(e)?EVe(e.items,t):aa(e)?bVe(e.properties,t):Hn()}o(nhe,"IndexFromPropertyKey");function G7(e,t){return t.map(r=>nhe(e,r))}o(G7,"IndexFromPropertyKeys");function the(e,t){return sp(G7(e,t))}o(the,"FromSchema");function t5(e,t,r){if(Os(e)||Os(t)){let n="Index types using Ref parameters require both Type and Key to be of TSchema";if(!ps(e)||!ps(t))throw new fn(n);return No("Index",[e,t])}return zo(t)?ehe(e,t,r):bu(t)?ihe(e,t,r):ct(ps(t)?the(e,Ic(t)):the(e,t),r)}o(t5,"Index");function vVe(e,t,r){return{[t]:t5(e,[t],jo(r))}}o(vVe,"MappedIndexPropertyKey");function IVe(e,t,r){return t.reduce((n,i)=>({...n,...vVe(e,i,r)}),{})}o(IVe,"MappedIndexPropertyKeys");function TVe(e,t,r){return IVe(e,t.keys,r)}o(TVe,"MappedIndexProperties");function ihe(e,t,r){let n=TVe(e,t,r);return Fi(n)}o(ihe,"IndexFromMappedKey");d();function wb(e,t){return ct({[it]:"Iterator",type:"Iterator",items:e},t)}o(wb,"Iterator");d();function wVe(e){let t=[];for(let r in e)vc(e[r])||t.push(r);return t}o(wVe,"RequiredKeys");function SVe(e,t){let r=wVe(e),n=r.length>0?{[it]:"Object",type:"object",properties:e,required:r}:{[it]:"Object",type:"object",properties:e};return ct(n,t)}o(SVe,"_Object");var Yi=SVe;d();function fD(e,t){return ct({[it]:"Promise",type:"Promise",item:e},t)}o(fD,"Promise");d();d();function _Ve(e){return ct(Bs(e,[um]))}o(_Ve,"RemoveReadonly");function kVe(e){return ct({...e,[um]:"Readonly"})}o(kVe,"AddReadonly");function BVe(e,t){return t===!1?_Ve(e):kVe(e)}o(BVe,"ReadonlyWithFlag");function Tc(e,t){let r=t??!0;return zo(e)?ohe(e,r):BVe(e,r)}o(Tc,"Readonly");function RVe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=Tc(e[n],t);return r}o(RVe,"FromProperties");function DVe(e,t){return RVe(e.properties,t)}o(DVe,"FromMappedResult");function ohe(e,t){let r=DVe(e,t);return Fi(r)}o(ohe,"ReadonlyFromMappedResult");d();function Of(e,t){return ct(e.length>0?{[it]:"Tuple",type:"array",items:e,additionalItems:!1,minItems:e.length,maxItems:e.length}:{[it]:"Tuple",type:"array",minItems:e.length,maxItems:e.length},t)}o(Of,"Tuple");function she(e,t){return e in t?Uf(e,t[e]):Fi(t)}o(she,"FromMappedResult");function PVe(e){return{[e]:bi(e)}}o(PVe,"MappedKeyToKnownMappedResultProperties");function FVe(e){let t={};for(let r of e)t[r]=bi(r);return t}o(FVe,"MappedKeyToUnknownMappedResultProperties");function NVe(e,t){return Hme(t,e)?PVe(e):FVe(t)}o(NVe,"MappedKeyToMappedResultProperties");function LVe(e,t){let r=NVe(e,t);return she(e,r)}o(LVe,"FromMappedKey");function H7(e,t){return t.map(r=>Uf(e,r))}o(H7,"FromRest");function QVe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=Uf(e,t[n]);return r}o(QVe,"FromProperties");function Uf(e,t){let r={...t};return vc(t)?h0(Uf(e,Bs(t,[Ml]))):gb(t)?Tc(Uf(e,Bs(t,[um]))):zo(t)?she(e,t.properties):bu(t)?LVe(e,t.keys):mm(t)?Eb(H7(e,t.parameters),Uf(e,t.returns),r):hm(t)?op(H7(e,t.parameters),Uf(e,t.returns),r):C3(t)?xb(Uf(e,t.items),r):E3(t)?wb(Uf(e,t.items),r):ks(t)?p0(H7(e,t.allOf),r):ki(t)?zi(H7(e,t.anyOf),r):Iu(t)?Of(H7(e,t.items??[]),r):aa(t)?Yi(QVe(e,t.properties),r):fm(t)?Cb(Uf(e,t.items),r):b3(t)?fD(Uf(e,t.item),r):t}o(Uf,"FromSchemaType");function MVe(e,t){let r={};for(let n of e)r[n]=Uf(n,t);return r}o(MVe,"MappedFunctionReturnType");function ahe(e,t,r){let n=ps(e)?Ic(e):e,i=t({[it]:"MappedKey",keys:n}),s=MVe(n,i);return Yi(s,r)}o(ahe,"Mapped");d();function OVe(e){return ct(Bs(e,[Ml]))}o(OVe,"RemoveOptional");function UVe(e){return ct({...e,[Ml]:"Optional"})}o(UVe,"AddOptional");function qVe(e,t){return t===!1?OVe(e):UVe(e)}o(qVe,"OptionalWithFlag");function h0(e,t){let r=t??!0;return zo(e)?lhe(e,r):qVe(e,r)}o(h0,"Optional");function WVe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=h0(e[n],t);return r}o(WVe,"FromProperties");function GVe(e,t){return WVe(e.properties,t)}o(GVe,"FromMappedResult");function lhe(e,t){let r=GVe(e,t);return Fi(r)}o(lhe,"OptionalFromMappedResult");d();function V7(e,t={}){let r=e.every(i=>aa(i)),n=ps(t.unevaluatedProperties)?{unevaluatedProperties:t.unevaluatedProperties}:{};return ct(t.unevaluatedProperties===!1||ps(t.unevaluatedProperties)||r?{...n,[it]:"Intersect",type:"object",allOf:e}:{...n,[it]:"Intersect",allOf:e},t)}o(V7,"IntersectCreate");function HVe(e){return e.every(t=>vc(t))}o(HVe,"IsIntersectOptional");function VVe(e){return Bs(e,[Ml])}o(VVe,"RemoveOptionalFromType");function che(e){return e.map(t=>vc(t)?VVe(t):t)}o(che,"RemoveOptionalFromRest");function jVe(e,t){return HVe(e)?h0(V7(che(e),t)):V7(che(e),t)}o(jVe,"ResolveIntersect");function uD(e,t={}){if(e.length===1)return ct(e[0],t);if(e.length===0)return Hn(t);if(e.some(r=>$i(r)))throw new Error("Cannot intersect transform types");return jVe(e,t)}o(uD,"IntersectEvaluated");d();function p0(e,t){if(e.length===1)return ct(e[0],t);if(e.length===0)return Hn(t);if(e.some(r=>$i(r)))throw new Error("Cannot intersect transform types");return V7(e,t)}o(p0,"Intersect");d();function qf(...e){let[t,r]=typeof e[0]=="string"?[e[0],e[1]]:[e[0].$id,e[1]];if(typeof t!="string")throw new fn("Ref: $ref must be a string");return ct({[it]:"Ref",$ref:t},r)}o(qf,"Ref");function $Ve(e,t){return No("Awaited",[No(e,t)])}o($Ve,"FromComputed");function zVe(e){return No("Awaited",[qf(e)])}o(zVe,"FromRef");function YVe(e){return p0(uhe(e))}o(YVe,"FromIntersect");function KVe(e){return zi(uhe(e))}o(KVe,"FromUnion");function JVe(e){return Sb(e)}o(JVe,"FromPromise");function uhe(e){return e.map(t=>Sb(t))}o(uhe,"FromRest");function Sb(e,t){return ct(dm(e)?$Ve(e.target,e.parameters):ks(e)?YVe(e.allOf):ki(e)?KVe(e.anyOf):b3(e)?JVe(e.item):Os(e)?zVe(e.$ref):e,t)}o(Sb,"Awaited");d();d();d();d();function fhe(e){let t=[];for(let r of e)t.push(wc(r));return t}o(fhe,"FromRest");function XVe(e){let t=fhe(e);return $me(t)}o(XVe,"FromIntersect");function ZVe(e){let t=fhe(e);return jme(t)}o(ZVe,"FromUnion");function eje(e){return e.map((t,r)=>r.toString())}o(eje,"FromTuple");function tje(e){return["[number]"]}o(tje,"FromArray");function rje(e){return globalThis.Object.getOwnPropertyNames(e)}o(rje,"FromProperties");function nje(e){return fz?globalThis.Object.getOwnPropertyNames(e).map(r=>r[0]==="^"&&r[r.length-1]==="$"?r.slice(1,r.length-1):r):[]}o(nje,"FromPatternProperties");function wc(e){return ks(e)?XVe(e.allOf):ki(e)?ZVe(e.anyOf):Iu(e)?eje(e.items??[]):fm(e)?tje(e.items):aa(e)?rje(e.properties):v3(e)?nje(e.patternProperties):[]}o(wc,"KeyOfPropertyKeys");var fz=!1;function a1(e){fz=!0;let t=wc(e);return fz=!1,`^(${t.map(n=>`(${n})`).join("|")})$`}o(a1,"KeyOfPattern");function ije(e,t){return No("KeyOf",[No(e,t)])}o(ije,"FromComputed");function oje(e){return No("KeyOf",[qf(e)])}o(oje,"FromRef");function sje(e,t){let r=wc(e),n=aje(r),i=sp(n);return ct(i,t)}o(sje,"KeyOfFromType");function aje(e){return e.map(t=>t==="[number]"?Mf():bi(t))}o(aje,"KeyOfPropertyKeysToRest");function _b(e,t){return dm(e)?ije(e.target,e.parameters):Os(e)?oje(e.$ref):zo(e)?dhe(e,t):sje(e,t)}o(_b,"KeyOf");function lje(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=_b(e[n],jo(t));return r}o(lje,"FromProperties");function cje(e,t){return lje(e.properties,t)}o(cje,"FromMappedResult");function dhe(e,t){let r=cje(e,t);return Fi(r)}o(dhe,"KeyOfFromMappedResult");d();function dD(e){let t=wc(e),r=G7(e,t);return t.map((n,i)=>[t[i],r[i]])}o(dD,"KeyOfPropertyEntries");function uje(e){let t=[];for(let r of e)t.push(...wc(r));return Vme(t)}o(uje,"CompositeKeys");function fje(e){return e.filter(t=>!X2(t))}o(fje,"FilterNever");function dje(e,t){let r=[];for(let n of e)r.push(...G7(n,[t]));return fje(r)}o(dje,"CompositeProperty");function mje(e,t){let r={};for(let n of t)r[n]=uD(dje(e,n));return r}o(mje,"CompositeProperties");function mhe(e,t){let r=uje(e),n=mje(e,r);return Yi(n,t)}o(mhe,"Composite");d();d();function mD(e){return ct({[it]:"Date",type:"Date"},e)}o(mD,"Date");d();function hD(e){return ct({[it]:"Null",type:"null"},e)}o(hD,"Null");d();function pD(e){return ct({[it]:"Symbol",type:"symbol"},e)}o(pD,"Symbol");d();function gD(e){return ct({[it]:"Undefined",type:"undefined"},e)}o(gD,"Undefined");d();function AD(e){return ct({[it]:"Uint8Array",type:"Uint8Array"},e)}o(AD,"Uint8Array");d();function ym(e){return ct({[it]:"Unknown"},e)}o(ym,"Unknown");function hje(e){return e.map(t=>dz(t,!1))}o(hje,"FromArray");function pje(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=Tc(dz(e[r],!1));return t}o(pje,"FromProperties");function yD(e,t){return t===!0?e:Tc(e)}o(yD,"ConditionalReadonly");function dz(e,t){return H$(e)?yD(e5(),t):j$(e)?yD(e5(),t):oa(e)?Tc(Of(hje(e))):Zg(e)?AD():y3(e)?mD():po(e)?yD(Yi(pje(e)),t):V$(e)?yD(op([],ym()),t):sa(e)?gD():$$(e)?hD():z$(e)?pD():D7(e)?Tb():Cu(e)?bi(e):Xg(e)?bi(e):wo(e)?bi(e):Yi({})}o(dz,"FromValue");function hhe(e,t){return ct(dz(e,!0),t)}o(hhe,"Const");d();function phe(e,t){return mm(e)?Of(e.parameters,t):Hn(t)}o(phe,"ConstructorParameters");d();function ghe(e,t){if(sa(e))throw new Error("Enum undefined or empty");let r=globalThis.Object.getOwnPropertyNames(e).filter(s=>isNaN(s)).map(s=>e[s]),i=[...new Set(r)].map(s=>bi(s));return zi(i,{...t,[Qf]:"Enum"})}o(ghe,"Enum");d();d();d();var hz=class extends fn{static{o(this,"ExtendsResolverError")}},ft;(function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"})(ft||(ft={}));function Wf(e){return e===ft.False?e:ft.True}o(Wf,"IntoBooleanResult");function kb(e){throw new hz(e)}o(kb,"Throw");function Ta(e){return Qe.IsNever(e)||Qe.IsIntersect(e)||Qe.IsUnion(e)||Qe.IsUnknown(e)||Qe.IsAny(e)}o(Ta,"IsStructuralRight");function wa(e,t){return Qe.IsNever(t)?vhe(e,t):Qe.IsIntersect(t)?CD(e,t):Qe.IsUnion(t)?yz(e,t):Qe.IsUnknown(t)?She(e,t):Qe.IsAny(t)?Az(e,t):kb("StructuralRight")}o(wa,"StructuralRight");function Az(e,t){return ft.True}o(Az,"FromAnyRight");function gje(e,t){return Qe.IsIntersect(t)?CD(e,t):Qe.IsUnion(t)&&t.anyOf.some(r=>Qe.IsAny(r)||Qe.IsUnknown(r))?ft.True:Qe.IsUnion(t)?ft.Union:Qe.IsUnknown(t)||Qe.IsAny(t)?ft.True:ft.Union}o(gje,"FromAny");function Aje(e,t){return Qe.IsUnknown(e)?ft.False:Qe.IsAny(e)?ft.Union:Qe.IsNever(e)?ft.True:ft.False}o(Aje,"FromArrayRight");function yje(e,t){return Qe.IsObject(t)&&xD(t)?ft.True:Ta(t)?wa(e,t):Qe.IsArray(t)?Wf(Ao(e.items,t.items)):ft.False}o(yje,"FromArray");function Cje(e,t){return Ta(t)?wa(e,t):Qe.IsAsyncIterator(t)?Wf(Ao(e.items,t.items)):ft.False}o(Cje,"FromAsyncIterator");function xje(e,t){return Ta(t)?wa(e,t):Qe.IsObject(t)?g0(e,t):Qe.IsRecord(t)?Gf(e,t):Qe.IsBigInt(t)?ft.True:ft.False}o(xje,"FromBigInt");function Ehe(e,t){return Qe.IsLiteralBoolean(e)||Qe.IsBoolean(e)?ft.True:ft.False}o(Ehe,"FromBooleanRight");function Eje(e,t){return Ta(t)?wa(e,t):Qe.IsObject(t)?g0(e,t):Qe.IsRecord(t)?Gf(e,t):Qe.IsBoolean(t)?ft.True:ft.False}o(Eje,"FromBoolean");function bje(e,t){return Ta(t)?wa(e,t):Qe.IsObject(t)?g0(e,t):Qe.IsConstructor(t)?e.parameters.length>t.parameters.length?ft.False:e.parameters.every((r,n)=>Wf(Ao(t.parameters[n],r))===ft.True)?Wf(Ao(e.returns,t.returns)):ft.False:ft.False}o(bje,"FromConstructor");function vje(e,t){return Ta(t)?wa(e,t):Qe.IsObject(t)?g0(e,t):Qe.IsRecord(t)?Gf(e,t):Qe.IsDate(t)?ft.True:ft.False}o(vje,"FromDate");function Ije(e,t){return Ta(t)?wa(e,t):Qe.IsObject(t)?g0(e,t):Qe.IsFunction(t)?e.parameters.length>t.parameters.length?ft.False:e.parameters.every((r,n)=>Wf(Ao(t.parameters[n],r))===ft.True)?Wf(Ao(e.returns,t.returns)):ft.False:ft.False}o(Ije,"FromFunction");function bhe(e,t){return Qe.IsLiteral(e)&&m0.IsNumber(e.const)||Qe.IsNumber(e)||Qe.IsInteger(e)?ft.True:ft.False}o(bhe,"FromIntegerRight");function Tje(e,t){return Qe.IsInteger(t)||Qe.IsNumber(t)?ft.True:Ta(t)?wa(e,t):Qe.IsObject(t)?g0(e,t):Qe.IsRecord(t)?Gf(e,t):ft.False}o(Tje,"FromInteger");function CD(e,t){return t.allOf.every(r=>Ao(e,r)===ft.True)?ft.True:ft.False}o(CD,"FromIntersectRight");function wje(e,t){return e.allOf.some(r=>Ao(r,t)===ft.True)?ft.True:ft.False}o(wje,"FromIntersect");function Sje(e,t){return Ta(t)?wa(e,t):Qe.IsIterator(t)?Wf(Ao(e.items,t.items)):ft.False}o(Sje,"FromIterator");function _je(e,t){return Qe.IsLiteral(t)&&t.const===e.const?ft.True:Ta(t)?wa(e,t):Qe.IsObject(t)?g0(e,t):Qe.IsRecord(t)?Gf(e,t):Qe.IsString(t)?whe(e,t):Qe.IsNumber(t)?Ihe(e,t):Qe.IsInteger(t)?bhe(e,t):Qe.IsBoolean(t)?Ehe(e,t):ft.False}o(_je,"FromLiteral");function vhe(e,t){return ft.False}o(vhe,"FromNeverRight");function kje(e,t){return ft.True}o(kje,"FromNever");function Ahe(e){let[t,r]=[e,0];for(;Qe.IsNot(t);)t=t.not,r+=1;return r%2===0?t:ym()}o(Ahe,"UnwrapTNot");function Bje(e,t){return Qe.IsNot(e)?Ao(Ahe(e),t):Qe.IsNot(t)?Ao(e,Ahe(t)):kb("Invalid fallthrough for Not")}o(Bje,"FromNot");function Rje(e,t){return Ta(t)?wa(e,t):Qe.IsObject(t)?g0(e,t):Qe.IsRecord(t)?Gf(e,t):Qe.IsNull(t)?ft.True:ft.False}o(Rje,"FromNull");function Ihe(e,t){return Qe.IsLiteralNumber(e)||Qe.IsNumber(e)||Qe.IsInteger(e)?ft.True:ft.False}o(Ihe,"FromNumberRight");function Dje(e,t){return Ta(t)?wa(e,t):Qe.IsObject(t)?g0(e,t):Qe.IsRecord(t)?Gf(e,t):Qe.IsInteger(t)||Qe.IsNumber(t)?ft.True:ft.False}o(Dje,"FromNumber");function Sc(e,t){return Object.getOwnPropertyNames(e.properties).length===t}o(Sc,"IsObjectPropertyCount");function yhe(e){return xD(e)}o(yhe,"IsObjectStringLike");function Che(e){return Sc(e,0)||Sc(e,1)&&"description"in e.properties&&Qe.IsUnion(e.properties.description)&&e.properties.description.anyOf.length===2&&(Qe.IsString(e.properties.description.anyOf[0])&&Qe.IsUndefined(e.properties.description.anyOf[1])||Qe.IsString(e.properties.description.anyOf[1])&&Qe.IsUndefined(e.properties.description.anyOf[0]))}o(Che,"IsObjectSymbolLike");function mz(e){return Sc(e,0)}o(mz,"IsObjectNumberLike");function xhe(e){return Sc(e,0)}o(xhe,"IsObjectBooleanLike");function Pje(e){return Sc(e,0)}o(Pje,"IsObjectBigIntLike");function Fje(e){return Sc(e,0)}o(Fje,"IsObjectDateLike");function Nje(e){return xD(e)}o(Nje,"IsObjectUint8ArrayLike");function Lje(e){let t=Mf();return Sc(e,0)||Sc(e,1)&&"length"in e.properties&&Wf(Ao(e.properties.length,t))===ft.True}o(Lje,"IsObjectFunctionLike");function Qje(e){return Sc(e,0)}o(Qje,"IsObjectConstructorLike");function xD(e){let t=Mf();return Sc(e,0)||Sc(e,1)&&"length"in e.properties&&Wf(Ao(e.properties.length,t))===ft.True}o(xD,"IsObjectArrayLike");function Mje(e){let t=op([e5()],e5());return Sc(e,0)||Sc(e,1)&&"then"in e.properties&&Wf(Ao(e.properties.then,t))===ft.True}o(Mje,"IsObjectPromiseLike");function The(e,t){return Ao(e,t)===ft.False||Qe.IsOptional(e)&&!Qe.IsOptional(t)?ft.False:ft.True}o(The,"Property");function g0(e,t){return Qe.IsUnknown(e)?ft.False:Qe.IsAny(e)?ft.Union:Qe.IsNever(e)||Qe.IsLiteralString(e)&&yhe(t)||Qe.IsLiteralNumber(e)&&mz(t)||Qe.IsLiteralBoolean(e)&&xhe(t)||Qe.IsSymbol(e)&&Che(t)||Qe.IsBigInt(e)&&Pje(t)||Qe.IsString(e)&&yhe(t)||Qe.IsSymbol(e)&&Che(t)||Qe.IsNumber(e)&&mz(t)||Qe.IsInteger(e)&&mz(t)||Qe.IsBoolean(e)&&xhe(t)||Qe.IsUint8Array(e)&&Nje(t)||Qe.IsDate(e)&&Fje(t)||Qe.IsConstructor(e)&&Qje(t)||Qe.IsFunction(e)&&Lje(t)?ft.True:Qe.IsRecord(e)&&Qe.IsString(pz(e))?t[Qf]==="Record"?ft.True:ft.False:Qe.IsRecord(e)&&Qe.IsNumber(pz(e))?Sc(t,0)?ft.True:ft.False:ft.False}o(g0,"FromObjectRight");function Oje(e,t){return Ta(t)?wa(e,t):Qe.IsRecord(t)?Gf(e,t):Qe.IsObject(t)?(()=>{for(let r of Object.getOwnPropertyNames(t.properties)){if(!(r in e.properties)&&!Qe.IsOptional(t.properties[r]))return ft.False;if(Qe.IsOptional(t.properties[r]))return ft.True;if(The(e.properties[r],t.properties[r])===ft.False)return ft.False}return ft.True})():ft.False}o(Oje,"FromObject");function Uje(e,t){return Ta(t)?wa(e,t):Qe.IsObject(t)&&Mje(t)?ft.True:Qe.IsPromise(t)?Wf(Ao(e.item,t.item)):ft.False}o(Uje,"FromPromise");function pz(e){return np in e.patternProperties?Mf():ip in e.patternProperties?H0():kb("Unknown record key pattern")}o(pz,"RecordKey");function gz(e){return np in e.patternProperties?e.patternProperties[np]:ip in e.patternProperties?e.patternProperties[ip]:kb("Unable to get record value schema")}o(gz,"RecordValue");function Gf(e,t){let[r,n]=[pz(t),gz(t)];return Qe.IsLiteralString(e)&&Qe.IsNumber(r)&&Wf(Ao(e,n))===ft.True?ft.True:Qe.IsUint8Array(e)&&Qe.IsNumber(r)||Qe.IsString(e)&&Qe.IsNumber(r)||Qe.IsArray(e)&&Qe.IsNumber(r)?Ao(e,n):Qe.IsObject(e)?(()=>{for(let i of Object.getOwnPropertyNames(e.properties))if(The(n,e.properties[i])===ft.False)return ft.False;return ft.True})():ft.False}o(Gf,"FromRecordRight");function qje(e,t){return Ta(t)?wa(e,t):Qe.IsObject(t)?g0(e,t):Qe.IsRecord(t)?Ao(gz(e),gz(t)):ft.False}o(qje,"FromRecord");function Wje(e,t){let r=Qe.IsRegExp(e)?H0():e,n=Qe.IsRegExp(t)?H0():t;return Ao(r,n)}o(Wje,"FromRegExp");function whe(e,t){return Qe.IsLiteral(e)&&m0.IsString(e.const)||Qe.IsString(e)?ft.True:ft.False}o(whe,"FromStringRight");function Gje(e,t){return Ta(t)?wa(e,t):Qe.IsObject(t)?g0(e,t):Qe.IsRecord(t)?Gf(e,t):Qe.IsString(t)?ft.True:ft.False}o(Gje,"FromString");function Hje(e,t){return Ta(t)?wa(e,t):Qe.IsObject(t)?g0(e,t):Qe.IsRecord(t)?Gf(e,t):Qe.IsSymbol(t)?ft.True:ft.False}o(Hje,"FromSymbol");function Vje(e,t){return Qe.IsTemplateLiteral(e)?Ao(T3(e),t):Qe.IsTemplateLiteral(t)?Ao(e,T3(t)):kb("Invalid fallthrough for TemplateLiteral")}o(Vje,"FromTemplateLiteral");function jje(e,t){return Qe.IsArray(t)&&e.items!==void 0&&e.items.every(r=>Ao(r,t.items)===ft.True)}o(jje,"IsArrayOfTuple");function $je(e,t){return Qe.IsNever(e)?ft.True:Qe.IsUnknown(e)?ft.False:Qe.IsAny(e)?ft.Union:ft.False}o($je,"FromTupleRight");function zje(e,t){return Ta(t)?wa(e,t):Qe.IsObject(t)&&xD(t)||Qe.IsArray(t)&&jje(e,t)?ft.True:Qe.IsTuple(t)?m0.IsUndefined(e.items)&&!m0.IsUndefined(t.items)||!m0.IsUndefined(e.items)&&m0.IsUndefined(t.items)?ft.False:m0.IsUndefined(e.items)&&!m0.IsUndefined(t.items)||e.items.every((r,n)=>Ao(r,t.items[n])===ft.True)?ft.True:ft.False:ft.False}o(zje,"FromTuple");function Yje(e,t){return Ta(t)?wa(e,t):Qe.IsObject(t)?g0(e,t):Qe.IsRecord(t)?Gf(e,t):Qe.IsUint8Array(t)?ft.True:ft.False}o(Yje,"FromUint8Array");function Kje(e,t){return Ta(t)?wa(e,t):Qe.IsObject(t)?g0(e,t):Qe.IsRecord(t)?Gf(e,t):Qe.IsVoid(t)?Zje(e,t):Qe.IsUndefined(t)?ft.True:ft.False}o(Kje,"FromUndefined");function yz(e,t){return t.anyOf.some(r=>Ao(e,r)===ft.True)?ft.True:ft.False}o(yz,"FromUnionRight");function Jje(e,t){return e.anyOf.every(r=>Ao(r,t)===ft.True)?ft.True:ft.False}o(Jje,"FromUnion");function She(e,t){return ft.True}o(She,"FromUnknownRight");function Xje(e,t){return Qe.IsNever(t)?vhe(e,t):Qe.IsIntersect(t)?CD(e,t):Qe.IsUnion(t)?yz(e,t):Qe.IsAny(t)?Az(e,t):Qe.IsString(t)?whe(e,t):Qe.IsNumber(t)?Ihe(e,t):Qe.IsInteger(t)?bhe(e,t):Qe.IsBoolean(t)?Ehe(e,t):Qe.IsArray(t)?Aje(e,t):Qe.IsTuple(t)?$je(e,t):Qe.IsObject(t)?g0(e,t):Qe.IsUnknown(t)?ft.True:ft.False}o(Xje,"FromUnknown");function Zje(e,t){return Qe.IsUndefined(e)||Qe.IsUndefined(e)?ft.True:ft.False}o(Zje,"FromVoidRight");function e$e(e,t){return Qe.IsIntersect(t)?CD(e,t):Qe.IsUnion(t)?yz(e,t):Qe.IsUnknown(t)?She(e,t):Qe.IsAny(t)?Az(e,t):Qe.IsObject(t)?g0(e,t):Qe.IsVoid(t)?ft.True:ft.False}o(e$e,"FromVoid");function Ao(e,t){return Qe.IsTemplateLiteral(e)||Qe.IsTemplateLiteral(t)?Vje(e,t):Qe.IsRegExp(e)||Qe.IsRegExp(t)?Wje(e,t):Qe.IsNot(e)||Qe.IsNot(t)?Bje(e,t):Qe.IsAny(e)?gje(e,t):Qe.IsArray(e)?yje(e,t):Qe.IsBigInt(e)?xje(e,t):Qe.IsBoolean(e)?Eje(e,t):Qe.IsAsyncIterator(e)?Cje(e,t):Qe.IsConstructor(e)?bje(e,t):Qe.IsDate(e)?vje(e,t):Qe.IsFunction(e)?Ije(e,t):Qe.IsInteger(e)?Tje(e,t):Qe.IsIntersect(e)?wje(e,t):Qe.IsIterator(e)?Sje(e,t):Qe.IsLiteral(e)?_je(e,t):Qe.IsNever(e)?kje(e,t):Qe.IsNull(e)?Rje(e,t):Qe.IsNumber(e)?Dje(e,t):Qe.IsObject(e)?Oje(e,t):Qe.IsRecord(e)?qje(e,t):Qe.IsString(e)?Gje(e,t):Qe.IsSymbol(e)?Hje(e,t):Qe.IsTuple(e)?zje(e,t):Qe.IsPromise(e)?Uje(e,t):Qe.IsUint8Array(e)?Yje(e,t):Qe.IsUndefined(e)?Kje(e,t):Qe.IsUnion(e)?Jje(e,t):Qe.IsUnknown(e)?Xje(e,t):Qe.IsVoid(e)?e$e(e,t):kb(`Unknown left type operand '${e[it]}'`)}o(Ao,"Visit");function r5(e,t){return Ao(e,t)}o(r5,"ExtendsCheck");d();d();d();function t$e(e,t,r,n,i){let s={};for(let a of globalThis.Object.getOwnPropertyNames(e))s[a]=Bb(e[a],t,r,n,jo(i));return s}o(t$e,"FromProperties");function r$e(e,t,r,n,i){return t$e(e.properties,t,r,n,i)}o(r$e,"FromMappedResult");function _he(e,t,r,n,i){let s=r$e(e,t,r,n,i);return Fi(s)}o(_he,"ExtendsFromMappedResult");function n$e(e,t,r,n){let i=r5(e,t);return i===ft.Union?zi([r,n]):i===ft.True?r:n}o(n$e,"ExtendsResolve");function Bb(e,t,r,n,i){return zo(e)?_he(e,t,r,n,i):bu(e)?ct(khe(e,t,r,n,i)):ct(n$e(e,t,r,n),i)}o(Bb,"Extends");function i$e(e,t,r,n,i){return{[e]:Bb(bi(e),t,r,n,jo(i))}}o(i$e,"FromPropertyKey");function o$e(e,t,r,n,i){return e.reduce((s,a)=>({...s,...i$e(a,t,r,n,i)}),{})}o(o$e,"FromPropertyKeys");function s$e(e,t,r,n,i){return o$e(e.keys,t,r,n,i)}o(s$e,"FromMappedKey");function khe(e,t,r,n,i){let s=s$e(e,t,r,n,i);return Fi(s)}o(khe,"ExtendsFromMappedKey");d();function a$e(e){return e.allOf.every(t=>l1(t))}o(a$e,"Intersect");function l$e(e){return e.anyOf.some(t=>l1(t))}o(l$e,"Union");function c$e(e){return!l1(e.not)}o(c$e,"Not");function l1(e){return e[it]==="Intersect"?a$e(e):e[it]==="Union"?l$e(e):e[it]==="Not"?c$e(e):e[it]==="Undefined"}o(l1,"ExtendsUndefinedCheck");d();function Bhe(e,t){return Rb(T3(e),t)}o(Bhe,"ExcludeFromTemplateLiteral");function u$e(e,t){let r=e.filter(n=>r5(n,t)===ft.False);return r.length===1?r[0]:zi(r)}o(u$e,"ExcludeRest");function Rb(e,t,r={}){return vu(e)?ct(Bhe(e,t),r):zo(e)?ct(Rhe(e,t),r):ct(ki(e)?u$e(e.anyOf,t):r5(e,t)!==ft.False?Hn():e,r)}o(Rb,"Exclude");function f$e(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=Rb(e[n],t);return r}o(f$e,"FromProperties");function d$e(e,t){return f$e(e.properties,t)}o(d$e,"FromMappedResult");function Rhe(e,t){let r=d$e(e,t);return Fi(r)}o(Rhe,"ExcludeFromMappedResult");d();d();d();function Dhe(e,t){return Db(T3(e),t)}o(Dhe,"ExtractFromTemplateLiteral");function m$e(e,t){let r=e.filter(n=>r5(n,t)!==ft.False);return r.length===1?r[0]:zi(r)}o(m$e,"ExtractRest");function Db(e,t,r){return vu(e)?ct(Dhe(e,t),r):zo(e)?ct(Phe(e,t),r):ct(ki(e)?m$e(e.anyOf,t):r5(e,t)!==ft.False?e:Hn(),r)}o(Db,"Extract");function h$e(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=Db(e[n],t);return r}o(h$e,"FromProperties");function p$e(e,t){return h$e(e.properties,t)}o(p$e,"FromMappedResult");function Phe(e,t){let r=p$e(e,t);return Fi(r)}o(Phe,"ExtractFromMappedResult");d();function Fhe(e,t){return mm(e)?ct(e.returns,t):Hn(t)}o(Fhe,"InstanceType");d();d();function ED(e){return Tc(h0(e))}o(ED,"ReadonlyOptional");d();function w3(e,t,r){return ct({[it]:"Record",type:"object",patternProperties:{[e]:t}},r)}o(w3,"RecordCreateFromPattern");function Cz(e,t,r){let n={};for(let i of e)n[i]=t;return Yi(n,{...r,[Qf]:"Record"})}o(Cz,"RecordCreateFromKeys");function g$e(e,t,r){return aD(e)?Cz(Ic(e),t,r):w3(e.pattern,t,r)}o(g$e,"FromTemplateLiteralKey");function A$e(e,t,r){return Cz(Ic(zi(e)),t,r)}o(A$e,"FromUnionKey");function y$e(e,t,r){return Cz([e.toString()],t,r)}o(y$e,"FromLiteralKey");function C$e(e,t,r){return w3(e.source,t,r)}o(C$e,"FromRegExpKey");function x$e(e,t,r){let n=sa(e.pattern)?ip:e.pattern;return w3(n,t,r)}o(x$e,"FromStringKey");function E$e(e,t,r){return w3(ip,t,r)}o(E$e,"FromAnyKey");function b$e(e,t,r){return w3(Gme,t,r)}o(b$e,"FromNeverKey");function v$e(e,t,r){return Yi({true:t,false:t},r)}o(v$e,"FromBooleanKey");function I$e(e,t,r){return w3(np,t,r)}o(I$e,"FromIntegerKey");function T$e(e,t,r){return w3(np,t,r)}o(T$e,"FromNumberKey");function bD(e,t,r={}){return ki(e)?A$e(e.anyOf,t,r):vu(e)?g$e(e,t,r):Eu(e)?y$e(e.const,t,r):r1(e)?v$e(e,t,r):pm(e)?I$e(e,t,r):gm(e)?T$e(e,t,r):X$(e)?C$e(e,t,r):n1(e)?x$e(e,t,r):K$(e)?E$e(e,t,r):X2(e)?b$e(e,t,r):Hn(r)}o(bD,"Record");function vD(e){return globalThis.Object.getOwnPropertyNames(e.patternProperties)[0]}o(vD,"RecordPattern");function Nhe(e){let t=vD(e);return t===ip?H0():t===np?Mf():H0({pattern:t})}o(Nhe,"RecordKey");function ID(e){return e.patternProperties[vD(e)]}o(ID,"RecordValue");function w$e(e,t){return t.parameters=j7(e,t.parameters),t.returns=Cm(e,t.returns),t}o(w$e,"FromConstructor");function S$e(e,t){return t.parameters=j7(e,t.parameters),t.returns=Cm(e,t.returns),t}o(S$e,"FromFunction");function _$e(e,t){return t.allOf=j7(e,t.allOf),t}o(_$e,"FromIntersect");function k$e(e,t){return t.anyOf=j7(e,t.anyOf),t}o(k$e,"FromUnion");function B$e(e,t){return sa(t.items)||(t.items=j7(e,t.items)),t}o(B$e,"FromTuple");function R$e(e,t){return t.items=Cm(e,t.items),t}o(R$e,"FromArray");function D$e(e,t){return t.items=Cm(e,t.items),t}o(D$e,"FromAsyncIterator");function P$e(e,t){return t.items=Cm(e,t.items),t}o(P$e,"FromIterator");function F$e(e,t){return t.item=Cm(e,t.item),t}o(F$e,"FromPromise");function N$e(e,t){let r=O$e(e,t.properties);return{...t,...Yi(r)}}o(N$e,"FromObject");function L$e(e,t){let r=Cm(e,Nhe(t)),n=Cm(e,ID(t)),i=bD(r,n);return{...t,...i}}o(L$e,"FromRecord");function Q$e(e,t){return t.index in e?e[t.index]:ym()}o(Q$e,"FromArgument");function M$e(e,t){let r=gb(t),n=vc(t),i=Cm(e,t);return r&&n?ED(i):r&&!n?Tc(i):!r&&n?h0(i):i}o(M$e,"FromProperty");function O$e(e,t){return globalThis.Object.getOwnPropertyNames(t).reduce((r,n)=>({...r,[n]:M$e(e,t[n])}),{})}o(O$e,"FromProperties");function j7(e,t){return t.map(r=>Cm(e,r))}o(j7,"FromTypes");function Cm(e,t){return mm(t)?w$e(e,t):hm(t)?S$e(e,t):ks(t)?_$e(e,t):ki(t)?k$e(e,t):Iu(t)?B$e(e,t):fm(t)?R$e(e,t):C3(t)?D$e(e,t):E3(t)?P$e(e,t):b3(t)?F$e(e,t):aa(t)?N$e(e,t):v3(t)?L$e(e,t):J$(t)?Q$e(e,t):t}o(Cm,"FromType");function Lhe(e,t){return Cm(t,hb(e))}o(Lhe,"Instantiate");d();function Qhe(e){return ct({[it]:"Integer",type:"integer"},e)}o(Qhe,"Integer");d();d();d();function U$e(e,t,r){return{[e]:xm(bi(e),t,jo(r))}}o(U$e,"MappedIntrinsicPropertyKey");function q$e(e,t,r){return e.reduce((i,s)=>({...i,...U$e(s,t,r)}),{})}o(q$e,"MappedIntrinsicPropertyKeys");function W$e(e,t,r){return q$e(e.keys,t,r)}o(W$e,"MappedIntrinsicProperties");function Mhe(e,t,r){let n=W$e(e,t,r);return Fi(n)}o(Mhe,"IntrinsicFromMappedKey");function G$e(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toLowerCase(),r].join("")}o(G$e,"ApplyUncapitalize");function H$e(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toUpperCase(),r].join("")}o(H$e,"ApplyCapitalize");function V$e(e){return e.toUpperCase()}o(V$e,"ApplyUppercase");function j$e(e){return e.toLowerCase()}o(j$e,"ApplyLowercase");function $$e(e,t,r){let n=vb(e.pattern);if(!I3(n))return{...e,pattern:Ohe(e.pattern,t)};let a=[...W7(n)].map(u=>bi(u)),l=Uhe(a,t),c=zi(l);return cD([c],r)}o($$e,"FromTemplateLiteral");function Ohe(e,t){return typeof e=="string"?t==="Uncapitalize"?G$e(e):t==="Capitalize"?H$e(e):t==="Uppercase"?V$e(e):t==="Lowercase"?j$e(e):e:e.toString()}o(Ohe,"FromLiteralValue");function Uhe(e,t){return e.map(r=>xm(r,t))}o(Uhe,"FromRest");function xm(e,t,r={}){return bu(e)?Mhe(e,t,r):vu(e)?$$e(e,t,r):ki(e)?zi(Uhe(e.anyOf,t),r):Eu(e)?bi(Ohe(e.const,t),r):ct(e,r)}o(xm,"Intrinsic");function qhe(e,t={}){return xm(e,"Capitalize",t)}o(qhe,"Capitalize");d();function Whe(e,t={}){return xm(e,"Lowercase",t)}o(Whe,"Lowercase");d();function Ghe(e,t={}){return xm(e,"Uncapitalize",t)}o(Ghe,"Uncapitalize");d();function Hhe(e,t={}){return xm(e,"Uppercase",t)}o(Hhe,"Uppercase");d();d();d();d();d();function z$e(e,t,r){let n={};for(let i of globalThis.Object.getOwnPropertyNames(e))n[i]=n5(e[i],t,jo(r));return n}o(z$e,"FromProperties");function Y$e(e,t,r){return z$e(e.properties,t,r)}o(Y$e,"FromMappedResult");function Vhe(e,t,r){let n=Y$e(e,t,r);return Fi(n)}o(Vhe,"OmitFromMappedResult");function K$e(e,t){return e.map(r=>xz(r,t))}o(K$e,"FromIntersect");function J$e(e,t){return e.map(r=>xz(r,t))}o(J$e,"FromUnion");function X$e(e,t){let{[t]:r,...n}=e;return n}o(X$e,"FromProperty");function Z$e(e,t){return t.reduce((r,n)=>X$e(r,n),e)}o(Z$e,"FromProperties");function eze(e,t){let r=Bs(e,[hs,"$id","required","properties"]),n=Z$e(e.properties,t);return Yi(n,r)}o(eze,"FromObject");function tze(e){let t=e.reduce((r,n)=>iD(n)?[...r,bi(n)]:r,[]);return zi(t)}o(tze,"UnionFromPropertyKeys");function xz(e,t){return ks(e)?p0(K$e(e.allOf,t)):ki(e)?zi(J$e(e.anyOf,t)):aa(e)?eze(e,t):Yi({})}o(xz,"OmitResolve");function n5(e,t,r){let n=oa(t)?tze(t):t,i=ps(t)?Ic(t):t,s=Os(e),a=Os(t);return zo(e)?Vhe(e,i,r):bu(t)?jhe(e,t,r):s&&a?No("Omit",[e,n],r):!s&&a?No("Omit",[e,n],r):s&&!a?No("Omit",[e,n],r):ct({...xz(e,i),...r})}o(n5,"Omit");function rze(e,t,r){return{[t]:n5(e,[t],jo(r))}}o(rze,"FromPropertyKey");function nze(e,t,r){return t.reduce((n,i)=>({...n,...rze(e,i,r)}),{})}o(nze,"FromPropertyKeys");function ize(e,t,r){return nze(e,t.keys,r)}o(ize,"FromMappedKey");function jhe(e,t,r){let n=ize(e,t,r);return Fi(n)}o(jhe,"OmitFromMappedKey");d();d();d();function oze(e,t,r){let n={};for(let i of globalThis.Object.getOwnPropertyNames(e))n[i]=i5(e[i],t,jo(r));return n}o(oze,"FromProperties");function sze(e,t,r){return oze(e.properties,t,r)}o(sze,"FromMappedResult");function $he(e,t,r){let n=sze(e,t,r);return Fi(n)}o($he,"PickFromMappedResult");function aze(e,t){return e.map(r=>Ez(r,t))}o(aze,"FromIntersect");function lze(e,t){return e.map(r=>Ez(r,t))}o(lze,"FromUnion");function cze(e,t){let r={};for(let n of t)n in e&&(r[n]=e[n]);return r}o(cze,"FromProperties");function uze(e,t){let r=Bs(e,[hs,"$id","required","properties"]),n=cze(e.properties,t);return Yi(n,r)}o(uze,"FromObject");function fze(e){let t=e.reduce((r,n)=>iD(n)?[...r,bi(n)]:r,[]);return zi(t)}o(fze,"UnionFromPropertyKeys");function Ez(e,t){return ks(e)?p0(aze(e.allOf,t)):ki(e)?zi(lze(e.anyOf,t)):aa(e)?uze(e,t):Yi({})}o(Ez,"PickResolve");function i5(e,t,r){let n=oa(t)?fze(t):t,i=ps(t)?Ic(t):t,s=Os(e),a=Os(t);return zo(e)?$he(e,i,r):bu(t)?zhe(e,t,r):s&&a?No("Pick",[e,n],r):!s&&a?No("Pick",[e,n],r):s&&!a?No("Pick",[e,n],r):ct({...Ez(e,i),...r})}o(i5,"Pick");function dze(e,t,r){return{[t]:i5(e,[t],jo(r))}}o(dze,"FromPropertyKey");function mze(e,t,r){return t.reduce((n,i)=>({...n,...dze(e,i,r)}),{})}o(mze,"FromPropertyKeys");function hze(e,t,r){return mze(e,t.keys,r)}o(hze,"FromMappedKey");function zhe(e,t,r){let n=hze(e,t,r);return Fi(n)}o(zhe,"PickFromMappedKey");d();d();function pze(e,t){return No("Partial",[No(e,t)])}o(pze,"FromComputed");function gze(e){return No("Partial",[qf(e)])}o(gze,"FromRef");function Aze(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=h0(e[r]);return t}o(Aze,"FromProperties");function yze(e){let t=Bs(e,[hs,"$id","required","properties"]),r=Aze(e.properties);return Yi(r,t)}o(yze,"FromObject");function Yhe(e){return e.map(t=>Khe(t))}o(Yhe,"FromRest");function Khe(e){return dm(e)?pze(e.target,e.parameters):Os(e)?gze(e.$ref):ks(e)?p0(Yhe(e.allOf)):ki(e)?zi(Yhe(e.anyOf)):aa(e)?yze(e):x3(e)||r1(e)||pm(e)||Eu(e)||N7(e)||gm(e)||n1(e)||L7(e)||i1(e)?e:Yi({})}o(Khe,"PartialResolve");function Pb(e,t){return zo(e)?Jhe(e,t):ct({...Khe(e),...t})}o(Pb,"Partial");function Cze(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=Pb(e[n],jo(t));return r}o(Cze,"FromProperties");function xze(e,t){return Cze(e.properties,t)}o(xze,"FromMappedResult");function Jhe(e,t){let r=xze(e,t);return Fi(r)}o(Jhe,"PartialFromMappedResult");d();d();function Eze(e,t){return No("Required",[No(e,t)])}o(Eze,"FromComputed");function bze(e){return No("Required",[qf(e)])}o(bze,"FromRef");function vze(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=Bs(e[r],[Ml]);return t}o(vze,"FromProperties");function Ize(e){let t=Bs(e,[hs,"$id","required","properties"]),r=vze(e.properties);return Yi(r,t)}o(Ize,"FromObject");function Xhe(e){return e.map(t=>Zhe(t))}o(Xhe,"FromRest");function Zhe(e){return dm(e)?Eze(e.target,e.parameters):Os(e)?bze(e.$ref):ks(e)?p0(Xhe(e.allOf)):ki(e)?zi(Xhe(e.anyOf)):aa(e)?Ize(e):x3(e)||r1(e)||pm(e)||Eu(e)||N7(e)||gm(e)||n1(e)||L7(e)||i1(e)?e:Yi({})}o(Zhe,"RequiredResolve");function Fb(e,t){return zo(e)?epe(e,t):ct({...Zhe(e),...t})}o(Fb,"Required");function Tze(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=Fb(e[n],t);return r}o(Tze,"FromProperties");function wze(e,t){return Tze(e.properties,t)}o(wze,"FromMappedResult");function epe(e,t){let r=wze(e,t);return Fi(r)}o(epe,"RequiredFromMappedResult");function Sze(e,t){return t.map(r=>Os(r)?bz(e,r.$ref):Tu(e,r))}o(Sze,"DereferenceParameters");function bz(e,t){return t in e?Os(e[t])?bz(e,e[t].$ref):Tu(e,e[t]):Hn()}o(bz,"Dereference");function _ze(e){return Sb(e[0])}o(_ze,"FromAwaited");function kze(e){return t5(e[0],e[1])}o(kze,"FromIndex");function Bze(e){return _b(e[0])}o(Bze,"FromKeyOf");function Rze(e){return Pb(e[0])}o(Rze,"FromPartial");function Dze(e){return n5(e[0],e[1])}o(Dze,"FromOmit");function Pze(e){return i5(e[0],e[1])}o(Pze,"FromPick");function Fze(e){return Fb(e[0])}o(Fze,"FromRequired");function Nze(e,t,r){let n=Sze(e,r);return t==="Awaited"?_ze(n):t==="Index"?kze(n):t==="KeyOf"?Bze(n):t==="Partial"?Rze(n):t==="Omit"?Dze(n):t==="Pick"?Pze(n):t==="Required"?Fze(n):Hn()}o(Nze,"FromComputed");function Lze(e,t){return Cb(Tu(e,t))}o(Lze,"FromArray");function Qze(e,t){return xb(Tu(e,t))}o(Qze,"FromAsyncIterator");function Mze(e,t,r){return Eb($7(e,t),Tu(e,r))}o(Mze,"FromConstructor");function Oze(e,t,r){return op($7(e,t),Tu(e,r))}o(Oze,"FromFunction");function Uze(e,t){return p0($7(e,t))}o(Uze,"FromIntersect");function qze(e,t){return wb(Tu(e,t))}o(qze,"FromIterator");function Wze(e,t){return Yi(globalThis.Object.keys(t).reduce((r,n)=>({...r,[n]:Tu(e,t[n])}),{}))}o(Wze,"FromObject");function Gze(e,t){let[r,n]=[Tu(e,ID(t)),vD(t)],i=hb(t);return i.patternProperties[n]=r,i}o(Gze,"FromRecord");function Hze(e,t){return Os(t)?{...bz(e,t.$ref),[hs]:t[hs]}:t}o(Hze,"FromTransform");function Vze(e,t){return Of($7(e,t))}o(Vze,"FromTuple");function jze(e,t){return zi($7(e,t))}o(jze,"FromUnion");function $7(e,t){return t.map(r=>Tu(e,r))}o($7,"FromTypes");function Tu(e,t){return vc(t)?ct(Tu(e,Bs(t,[Ml])),t):gb(t)?ct(Tu(e,Bs(t,[um])),t):$i(t)?ct(Hze(e,t),t):fm(t)?ct(Lze(e,t.items),t):C3(t)?ct(Qze(e,t.items),t):dm(t)?ct(Nze(e,t.target,t.parameters)):mm(t)?ct(Mze(e,t.parameters,t.returns),t):hm(t)?ct(Oze(e,t.parameters,t.returns),t):ks(t)?ct(Uze(e,t.allOf),t):E3(t)?ct(qze(e,t.items),t):aa(t)?ct(Wze(e,t.properties),t):v3(t)?ct(Gze(e,t)):Iu(t)?ct(Vze(e,t.items||[]),t):ki(t)?ct(jze(e,t.anyOf),t):t}o(Tu,"FromType");function $ze(e,t){return t in e?Tu(e,e[t]):Hn()}o($ze,"ComputeType");function tpe(e){return globalThis.Object.getOwnPropertyNames(e).reduce((t,r)=>({...t,[r]:$ze(e,r)}),{})}o(tpe,"ComputeModuleProperties");var vz=class{static{o(this,"TModule")}constructor(t){let r=tpe(t),n=this.WithIdentifiers(r);this.$defs=n}Import(t,r){let n={...this.$defs,[t]:ct(this.$defs[t],r)};return ct({[it]:"Import",$defs:n,$ref:t})}WithIdentifiers(t){return globalThis.Object.getOwnPropertyNames(t).reduce((r,n)=>({...r,[n]:{...t[n],$id:n}}),{})}};function rpe(e){return new vz(e)}o(rpe,"Module");d();function npe(e,t){return ct({[it]:"Not",not:e},t)}o(npe,"Not");d();function ipe(e,t){return hm(e)?Of(e.parameters,t):Hn()}o(ipe,"Parameters");d();var zze=0;function ope(e,t={}){sa(t.$id)&&(t.$id=`T${zze++}`);let r=hb(e({[it]:"This",$ref:`${t.$id}`}));return r.$id=t.$id,ct({[Qf]:"Recursive",...r},t)}o(ope,"Recursive");d();function spe(e,t){let r=wo(e)?new globalThis.RegExp(e):e;return ct({[it]:"RegExp",type:"RegExp",source:r.source,flags:r.flags},t)}o(spe,"RegExp");d();function Yze(e){return ks(e)?e.allOf:ki(e)?e.anyOf:Iu(e)?e.items??[]:[]}o(Yze,"RestResolve");function ape(e){return Yze(e)}o(ape,"Rest");d();function lpe(e,t){return hm(e)?ct(e.returns,t):Hn(t)}o(lpe,"ReturnType");d();var Iz=class{static{o(this,"TransformDecodeBuilder")}constructor(t){this.schema=t}Decode(t){return new Tz(this.schema,t)}},Tz=class{static{o(this,"TransformEncodeBuilder")}constructor(t,r){this.schema=t,this.decode=r}EncodeTransform(t,r){let s={Encode:o(a=>r[hs].Encode(t(a)),"Encode"),Decode:o(a=>this.decode(r[hs].Decode(a)),"Decode")};return{...r,[hs]:s}}EncodeSchema(t,r){let n={Decode:this.decode,Encode:t};return{...r,[hs]:n}}Encode(t){return $i(this.schema)?this.EncodeTransform(t,this.schema):this.EncodeSchema(t,this.schema)}};function cpe(e){return new Iz(e)}o(cpe,"Transform");d();function upe(e={}){return ct({[it]:e[it]??"Unsafe"},e)}o(upe,"Unsafe");d();function fpe(e){return ct({[it]:"Void",type:"void"},e)}o(fpe,"Void");d();var wz={};Yg(wz,{Any:()=>e5,Argument:()=>zme,Array:()=>Cb,AsyncIterator:()=>xb,Awaited:()=>Sb,BigInt:()=>Tb,Boolean:()=>lD,Capitalize:()=>qhe,Composite:()=>mhe,Const:()=>hhe,Constructor:()=>Eb,ConstructorParameters:()=>phe,Date:()=>mD,Enum:()=>ghe,Exclude:()=>Rb,Extends:()=>Bb,Extract:()=>Db,Function:()=>op,Index:()=>t5,InstanceType:()=>Fhe,Instantiate:()=>Lhe,Integer:()=>Qhe,Intersect:()=>p0,Iterator:()=>wb,KeyOf:()=>_b,Literal:()=>bi,Lowercase:()=>Whe,Mapped:()=>ahe,Module:()=>rpe,Never:()=>Hn,Not:()=>npe,Null:()=>hD,Number:()=>Mf,Object:()=>Yi,Omit:()=>n5,Optional:()=>h0,Parameters:()=>ipe,Partial:()=>Pb,Pick:()=>i5,Promise:()=>fD,Readonly:()=>Tc,ReadonlyOptional:()=>ED,Record:()=>bD,Recursive:()=>ope,Ref:()=>qf,RegExp:()=>spe,Required:()=>Fb,Rest:()=>ape,ReturnType:()=>lpe,String:()=>H0,Symbol:()=>pD,TemplateLiteral:()=>cD,Transform:()=>cpe,Tuple:()=>Of,Uint8Array:()=>AD,Uncapitalize:()=>Ghe,Undefined:()=>gD,Union:()=>zi,Unknown:()=>ym,Unsafe:()=>upe,Uppercase:()=>Hhe,Void:()=>fpe});d();var I=wz;var qAe=tt(Vn()),WAe=I.Object({accessToken:I.Optional(I.String({minLength:1})),handle:I.Optional(I.String({minLength:1})),githubAppId:I.Optional(I.String({minLength:1}))}),eK;(r=>(r.method="github/didChangeAuth",r.type=new qAe.ProtocolNotificationType(r.method)))(eK||={});d();var GAe=tt(Vn()),tK;(r=>(r.method="copilot/ipCodeCitation",r.type=new GAe.NotificationType(r.method)))(tK||={});d();var HAe=tt(Vn()),fP;(r=>(r.method="context/update",r.type=new HAe.ProtocolRequestType(r.method)))(fP||={});d();d();var h5="Cancelled";d();var qn=tt(Vn()),nT=I.String(),Dc=I.Object({uri:nT}),D3=I.Intersect([Dc,I.Object({version:I.Optional(I.Integer())})]),uer=I.Required(D3),cl=I.Object({line:I.Integer({minimum:0}),character:I.Integer({minimum:0})}),V0=I.Object({start:cl,end:cl}),rK=I.Union([I.Integer(),I.String()]),fer=I.Object({isCancellationRequested:I.Boolean(),onCancellationRequested:I.Any()});d();var VAe=tt(Vn()),nK;(r=>(r.method="textDocument/didFocus",r.type=new VAe.ProtocolNotificationType(r.method)))(nK||={});d();var ZYe=I.Object({fetch:I.Boolean(),ipCodeCitation:I.Boolean(),redirectedTelemetry:I.Boolean(),related:I.Boolean(),token:I.Boolean(),watchedFiles:I.Boolean()}),eKe=I.Object({name:I.String(),version:I.String(),readableName:I.Optional(I.String())}),jAe=I.Object({name:I.String(),version:I.Optional(I.String()),readableName:I.Optional(I.String())}),$Ae=I.Object({editorInfo:I.Optional(jAe),editorPluginInfo:I.Optional(jAe),relatedPluginInfo:I.Optional(I.Array(eKe)),copilotIntegrationId:I.Optional(I.String()),copilotCapabilities:I.Optional(I.Partial(ZYe)),githubAppId:I.Optional(I.String())});d();var iT=tt(Vn());var dP=(r=>(r[r.Invoked=1]="Invoked",r[r.Automatic=2]="Automatic",r))(dP||{}),tKe=I.Enum(dP),rKe=I.Object({triggerKind:tKe,selectedCompletionInfo:I.Optional(I.Object({text:I.String(),range:V0,tooltipSignature:I.Optional(I.String())}))}),zAe=I.Object({textDocument:D3,position:cl,formattingOptions:I.Optional(I.Object({tabSize:I.Optional(I.Union([I.Integer({minimum:1}),I.String()])),insertSpaces:I.Optional(I.Union([I.Boolean(),I.String()]))})),context:rKe,data:I.Optional(I.Unknown())}),iK;(r=>(r.method="textDocument/inlineCompletion",r.type=new iT.ProtocolRequestType(r.method)))(iK||={});var YAe=I.Object({command:I.Object({arguments:I.Tuple([I.String({minLength:1})])})}),KAe=I.Object({item:YAe}),oK;(r=>(r.method="textDocument/didShowCompletion",r.type=new iT.ProtocolNotificationType(r.method)))(oK||={});var JAe=I.Object({item:YAe,acceptedLength:I.Integer({minimum:1})}),sK;(r=>(r.method="textDocument/didPartiallyAcceptCompletion",r.type=new iT.ProtocolNotificationType(r.method)))(sK||={});d();var XAe=tt(Vn()),aK;(r=>(r.method="textDocument/inlineCompletionPrompt",r.type=new XAe.ProtocolRequestType(r.method)))(aK||={});d();var ZAe=tt(Vn()),e2e=I.Object({textDocument:D3,position:cl}),nKe=I.Object({command:I.Object({arguments:I.Tuple([I.String({minLength:1})])})}),t2e=I.Object({item:nKe}),lK;(r=>(r.method="textDocument/didShowInlineEdit",r.type=new ZAe.ProtocolNotificationType(r.method)))(lK||={});d();var mP=tt(Vn());var r2e=I.Object({textDocument:D3,position:cl,partialResultToken:I.Optional(rK),workDoneToken:I.Optional(rK)}),hP;(n=>(n.method="textDocument/copilotPanelCompletion",n.type=new mP.ProtocolRequestType(n.method),n.partialResult=new mP.ProgressType))(hP||={});d();var n2e=tt(Vn()),cK;(r=>(r.method="copilot/related",r.type=new n2e.ProtocolRequestType(r.method)))(cK||={});d();var i2e=tt(Vn()),uK;(r=>(r.method="statusNotification",r.type=new i2e.ProtocolNotificationType(r.method)))(uK||={});var o2e=tt(require("events"));var pP="CopilotToken",up=class{static{o(this,"CopilotTokenNotifier")}#e=new o2e.default;#t;constructor(){this.#e.setMaxListeners(20)}emitToken(t){if(t.token!==this.#t?.token)return this.#t=t,this.#e.emit(pP,t)}onToken(t){return this.#e.on(pP,t),qn.Disposable.create(()=>this.#e.off(pP,t))}};function za(e,t){let r=_u(e,t,`event.${pP}`);return e.get(up).onToken(r)}o(za,"onCopilotToken");function oT(e,t){return e.get(up).emitToken(t)}o(oT,"emitCopilotToken");var Ul=class{static{o(this,"TelemetryUserConfig")}constructor(t,r,n,i){this.trackingId=r,this.optedIn=n??!1,this.ftFlag=i??"",this.setupUpdateOnToken(t)}setupUpdateOnToken(t){za(t,r=>{let n=r.getTokenValue("rt")==="1",i=r.getTokenValue("ft")??"",s=r.getTokenValue("tid"),a=r.organization_list,l=r.enterprise_list,c=r.getTokenValue("sku");s!==void 0&&(this.trackingId=s,this.organizationsList=a?.toString(),this.enterpriseList=l?.toString(),this.sku=c,this.optedIn=n,this.ftFlag=i)})}};var gP=tt(Y2()),AP=tt(require("os"));var iKe=/^(\s+at)?(.*?)(@|\s\(|\s)([^(\n]+?)(:\d+)?(:\d+)?(\)?)$/;function oKe(e){let t={type:e.name,value:e.message},r=e.stack?.replace(/^.*?:\d+\n.*\n *\^?\n\n/,"");if(r?.startsWith(e.toString()+`
`)){t.stacktrace=[];for(let n of r.slice(e.toString().length+1).split(/\n/).reverse()){let i=n.match(iKe),s={filename:"",function:""};i&&(s.function=i[2]?.trim()?.replace(/^[^.]{1,2}(\.|$)/,"_$1")??s.function,s.filename=(i[4]?.trim()??s.filename).replace(/^\.\/dist\//,"/github-copilot/dist/"),i[5]&&i[5]!==":0"&&(s.lineno=i[5].slice(1)),i[6]&&i[5]!==":0"&&(s.colno=i[6].slice(1)),s.in_app=!/[[<:]|(?:^|\/)node_modules\//.test(s.filename)),t.stacktrace.push(s)}}return t}o(oKe,"buildExceptionDetail");function fK(e,t){let r=e.get(an),n=r.getEditorInfo(),i=e.get(Ul),s={"#editor":n.devName??n.name,"#editor_version":fp({name:n.devName??n.name,version:n.version}),"#plugin":r.getEditorPluginInfo().name,"#plugin_version":fp(r.getEditorPluginInfo()),"#session_id":e.get(ms).sessionId,"#machine_id":e.get(ms).machineId,"#architecture":AP.arch(),"#os_platform":AP.platform(),...t};return i.trackingId&&(s.user=i.trackingId,s["#tracking_id"]=i.trackingId),s}o(fK,"buildContext");function s2e(e,t){let r=e.get(co),n=e.get(an).getEditorInfo(),i={app:"copilot-client",rollup_id:"auto",platform:"node",release:r.getBuildType()!=="dev"?`copilot-client@${r.getVersion()}`:void 0,deployed_to:r.getBuildType(),catalog_service:n.name==="vscode"?"CopilotCompletionsVSCode":"CopilotLanguageServer",context:fK(e,{"#node_version":process.versions.node}),sensitive_context:{}},s=[];i.exception_detail=[];let a=0,l=t;for(;l instanceof Error&&a<10;){let u=oKe(l);i.exception_detail.unshift(u),s.unshift([l,u]),a+=1,l=l.cause}let c=[];for(let[u,f]of s)if(f.stacktrace&&f.stacktrace.length>0){c.push(`${f.type}: ${u.code??""}`);let m=[...f.stacktrace].reverse();for(let h of m)if(h.filename?.startsWith("/github-copilot/"))return i;for(let h of m)if(h.in_app){c.push(`${h.filename?.replace(/^\.\//,"")}:${h.lineno}:${h.colno}`);break}c.push(`${m[0].filename?.replace(/^\.\//,"")}`)}else return i;return i.exception_detail.length>0&&(i.rollup_id=(0,gP.SHA256)(gP.enc.Utf16.parse(c.join(`
`))).toString()),i}o(s2e,"buildPayload");d();var sT=class{static{o(this,"FailingTelemetryReporter")}sendTelemetryEvent(t,r,n){throw new Error("Telemetry disabled")}sendTelemetryErrorEvent(t,r,n,i){throw new Error("Telemetry disabled")}dispose(){return Promise.resolve()}hackOptOutListener(){}};d();var dp=class{constructor(t=5){this.perTenMinutes=t;this.cache=new xn}static{o(this,"ExceptionRateLimiter")}isThrottled(t){let r=Date.now(),n=this.cache.get(t)||new Array(this.perTenMinutes).fill(0);return r-n[0]<6e5?!0:(n.push(r),n.shift(),this.cache.set(t,n),!1)}};d();var jf=class e{constructor(t){this.flags=t}static{o(this,"RuntimeMode")}static fromEnvironment(t,r=process.argv,n=process.env){return new e({debug:c2e(r,n),verboseLogging:aKe(r,n),testMode:t,simulation:sKe(n)})}};function vm(e){return e.get(jf).flags.testMode}o(vm,"isRunningInTest");function ev(e){return vm(e)}o(ev,"shouldFailForDebugPurposes");function aT(e){return e.get(jf).flags.debug}o(aT,"isDebugEnabled");function l2e(e){return e.get(jf).flags.verboseLogging}o(l2e,"isVerboseLoggingEnabled");function c2e(e,t){return e.includes("--debug")||dK(t,"DEBUG")}o(c2e,"determineDebugFlag");function sKe(e){return dK(e,"SIMULATION")}o(sKe,"determineSimulationFlag");function CP(e){return e.get(jf).flags.simulation}o(CP,"isRunningInSimulation");function aKe(e,t){return t.COPILOT_AGENT_VERBOSE==="1"||t.COPILOT_AGENT_VERBOSE?.toLowerCase()==="true"||dK(t,"VERBOSE")||c2e(e,t)}o(aKe,"determineVerboseLoggingEnabled");function dK(e,t){for(let r of["GH_COPILOT_","GITHUB_COPILOT_"]){let n=e[`${r}${t}`];if(n)return n==="1"||n?.toLowerCase()==="true"}return!1}o(dK,"determineEnvFlagEnabled");d();var yo=class{constructor(){this.promises=new Set}static{o(this,"PromiseQueue")}register(t){this.promises.add(t),t.finally(()=>this.promises.delete(t))}async flush(){await Promise.allSettled(this.promises)}};d();var d2e=require("os"),m2e=tt(require("path"));function lT(e){return e.replace(/(file:\/\/)([^\s<>]+)/gi,"$1[redacted]").replace(/(^|[\s|:=(<'"`])((?:\/(?=[^/])|\\|[a-zA-Z]:[\\/])[^\s:)>'"`]+)/g,"$1[redacted]")}o(lT,"redactPaths");var lKe=new Set(["Maximum call stack size exceeded","Set maximum size exceeded","Invalid arguments"]),cKe=[/^[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}.]+ is not a function[ \w]*$/u,/^Cannot read properties of undefined \(reading '[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}]+'\)$/u];function hK(e){if(lKe.has(e))return e;for(let t of cKe)if(t.test(e))return e;return lT(e).replace(/\bDNS:(?:\*\.)?[\w.-]+/gi,"DNS:[redacted]")}o(hK,"redactMessage");function xP(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(xP,"escapeForRegExp");var uKe=new RegExp("(?<=^|[\\s|(\"'`]|file://)"+xP((0,d2e.homedir)())+"(?=$|[\\\\/:\"'`])","gi");function mK(e){return e.replace(uKe,"~")}o(mK,"redactHomeDir");var h2e="[\\\\/]?([^:)]*)(?=:\\d)",u2e=new RegExp(xP(m2e.sep),"g"),f2e=new RegExp(xP(__dirname.replace(/[\\/]lib[\\/]src[\\/]util$|[\\/]dist$/,""))+h2e,"gi");function pK(e,t,r=!1,n=[]){let i=new Error(t(e));i.name=e.name,typeof e.syscall=="string"&&(i.syscall=e.syscall),typeof e.code=="string"&&(i.code=e.code),typeof e.errno=="number"&&(i.errno=e.errno),i.stack=void 0;let s=e.stack?.replace(/^.*?:\d+\n.*\n *\^?\n\n/,""),a;for(let l of[e.toString(),`${e.name}: ${e.message}`])if(s?.startsWith(l+`
`)){a=s.slice(l.length+1).split(/\n/);break}if(a){i.stack=i.toString();for(let l of a)if(f2e.test(l))i.stack+=`
${lT(l.replace(f2e,(c,u)=>"./"+u.replace(u2e,"/")))}`;else if(/[ (]node:|[ (]wasm:\/\/wasm\/| \(<anonymous>\)$/.test(l))i.stack+=`
${lT(l)}`;else{let c=!1;for(let{prefix:u,path:f}of n){let m=new RegExp(xP(f.replace(/[\\/]$/,""))+h2e,"gi");if(m.test(l)){i.stack+=`
${lT(l.replace(m,(h,p)=>u+p.replace(u2e,"/")))}`,c=!0;break}}if(c)continue;r?i.stack+=`
${mK(l)}`:i.stack+=`
    at [redacted]:0:0`}}else r&&s&&(i.stack=mK(s));return e.cause instanceof Error&&(i.cause=pK(e.cause,t,r,n)),i}o(pK,"cloneError");function p2e(e){let t=e.message;return typeof e.path=="string"&&e.path.length>0&&(t=t.replaceAll(e.path,"<path>")),t}o(p2e,"errorMessageWithoutPath");function g2e(e,t){return pK(e,o(function(n){return mK(p2e(n))},"prepareMessage"),!0,t)}o(g2e,"prepareErrorForRestrictedTelemetry");function gK(e,t,r=!1){return pK(e,o(function(i){if(r)return hK(p2e(i));let s="[redacted]";return typeof i.code=="string"&&(s=i.code+" "+s),typeof i.syscall=="string"?s=lT(i.syscall)+" "+s:"erroredSysCall"in i&&typeof i.erroredSysCall=="string"&&(s=i.erroredSysCall+" "+s),s},"prepareMessage"),!1,t)}o(gK,"redactError");d();d();function fKe(e){switch(e.errorType){case rt.ArrayContains:return"Expected array to contain at least one matching value";case rt.ArrayMaxContains:return`Expected array to contain no more than ${e.schema.maxContains} matching values`;case rt.ArrayMinContains:return`Expected array to contain at least ${e.schema.minContains} matching values`;case rt.ArrayMaxItems:return`Expected array length to be less or equal to ${e.schema.maxItems}`;case rt.ArrayMinItems:return`Expected array length to be greater or equal to ${e.schema.minItems}`;case rt.ArrayUniqueItems:return"Expected array elements to be unique";case rt.Array:return"Expected array";case rt.AsyncIterator:return"Expected AsyncIterator";case rt.BigIntExclusiveMaximum:return`Expected bigint to be less than ${e.schema.exclusiveMaximum}`;case rt.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${e.schema.exclusiveMinimum}`;case rt.BigIntMaximum:return`Expected bigint to be less or equal to ${e.schema.maximum}`;case rt.BigIntMinimum:return`Expected bigint to be greater or equal to ${e.schema.minimum}`;case rt.BigIntMultipleOf:return`Expected bigint to be a multiple of ${e.schema.multipleOf}`;case rt.BigInt:return"Expected bigint";case rt.Boolean:return"Expected boolean";case rt.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${e.schema.exclusiveMinimumTimestamp}`;case rt.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${e.schema.exclusiveMaximumTimestamp}`;case rt.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${e.schema.minimumTimestamp}`;case rt.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${e.schema.maximumTimestamp}`;case rt.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${e.schema.multipleOfTimestamp}`;case rt.Date:return"Expected Date";case rt.Function:return"Expected function";case rt.IntegerExclusiveMaximum:return`Expected integer to be less than ${e.schema.exclusiveMaximum}`;case rt.IntegerExclusiveMinimum:return`Expected integer to be greater than ${e.schema.exclusiveMinimum}`;case rt.IntegerMaximum:return`Expected integer to be less or equal to ${e.schema.maximum}`;case rt.IntegerMinimum:return`Expected integer to be greater or equal to ${e.schema.minimum}`;case rt.IntegerMultipleOf:return`Expected integer to be a multiple of ${e.schema.multipleOf}`;case rt.Integer:return"Expected integer";case rt.IntersectUnevaluatedProperties:return"Unexpected property";case rt.Intersect:return"Expected all values to match";case rt.Iterator:return"Expected Iterator";case rt.Literal:return`Expected ${typeof e.schema.const=="string"?`'${e.schema.const}'`:e.schema.const}`;case rt.Never:return"Never";case rt.Not:return"Value should not match";case rt.Null:return"Expected null";case rt.NumberExclusiveMaximum:return`Expected number to be less than ${e.schema.exclusiveMaximum}`;case rt.NumberExclusiveMinimum:return`Expected number to be greater than ${e.schema.exclusiveMinimum}`;case rt.NumberMaximum:return`Expected number to be less or equal to ${e.schema.maximum}`;case rt.NumberMinimum:return`Expected number to be greater or equal to ${e.schema.minimum}`;case rt.NumberMultipleOf:return`Expected number to be a multiple of ${e.schema.multipleOf}`;case rt.Number:return"Expected number";case rt.Object:return"Expected object";case rt.ObjectAdditionalProperties:return"Unexpected property";case rt.ObjectMaxProperties:return`Expected object to have no more than ${e.schema.maxProperties} properties`;case rt.ObjectMinProperties:return`Expected object to have at least ${e.schema.minProperties} properties`;case rt.ObjectRequiredProperty:return"Expected required property";case rt.Promise:return"Expected Promise";case rt.RegExp:return"Expected string to match regular expression";case rt.StringFormatUnknown:return`Unknown format '${e.schema.format}'`;case rt.StringFormat:return`Expected string to match '${e.schema.format}' format`;case rt.StringMaxLength:return`Expected string length less or equal to ${e.schema.maxLength}`;case rt.StringMinLength:return`Expected string length greater or equal to ${e.schema.minLength}`;case rt.StringPattern:return`Expected string to match '${e.schema.pattern}'`;case rt.String:return"Expected string";case rt.Symbol:return"Expected symbol";case rt.TupleLength:return`Expected tuple to have ${e.schema.maxItems||0} elements`;case rt.Tuple:return"Expected tuple";case rt.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${e.schema.maxByteLength}`;case rt.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${e.schema.minByteLength}`;case rt.Uint8Array:return"Expected Uint8Array";case rt.Undefined:return"Expected undefined";case rt.Union:return"Expected union value";case rt.Void:return"Expected void";case rt.Kind:return`Expected kind '${e.schema[it]}'`;default:return"Unknown error type"}}o(fKe,"DefaultErrorFunction");var dKe=fKe;function A2e(){return dKe}o(A2e,"GetErrorFunction");d();var AK=class extends fn{static{o(this,"TypeDereferenceError")}constructor(t){super(`Unable to dereference schema with $id '${t.$ref}'`),this.schema=t}};function mKe(e,t){let r=t.find(n=>n.$id===e.$ref);if(r===void 0)throw new AK(e);return Ni(r,t)}o(mKe,"Resolve");function ul(e,t){return!_i(e.$id)||t.some(r=>r.$id===e.$id)||t.push(e),t}o(ul,"Pushref");function Ni(e,t){return e[it]==="This"||e[it]==="Ref"?mKe(e,t):e}o(Ni,"Deref");d();var yK=class extends fn{static{o(this,"ValueHashError")}constructor(t){super("Unable to hash value"),this.value=t}},ku;(function(e){e[e.Undefined=0]="Undefined",e[e.Null=1]="Null",e[e.Boolean=2]="Boolean",e[e.Number=3]="Number",e[e.String=4]="String",e[e.Object=5]="Object",e[e.Array=6]="Array",e[e.Date=7]="Date",e[e.Uint8Array=8]="Uint8Array",e[e.Symbol=9]="Symbol",e[e.BigInt=10]="BigInt"})(ku||(ku={}));var tv=BigInt("14695981039346656037"),[hKe,pKe]=[BigInt("1099511628211"),BigInt("18446744073709551616")],gKe=Array.from({length:256}).map((e,t)=>BigInt(t)),y2e=new Float64Array(1),C2e=new DataView(y2e.buffer),x2e=new Uint8Array(y2e.buffer);function*AKe(e){let t=e===0?1:Math.ceil(Math.floor(Math.log2(e)+1)/8);for(let r=0;r<t;r++)yield e>>8*(t-1-r)&255}o(AKe,"NumberToBytes");function yKe(e){x0(ku.Array);for(let t of e)rv(t)}o(yKe,"ArrayType");function CKe(e){x0(ku.Boolean),x0(e?1:0)}o(CKe,"BooleanType");function xKe(e){x0(ku.BigInt),C2e.setBigInt64(0,e);for(let t of x2e)x0(t)}o(xKe,"BigIntType");function EKe(e){x0(ku.Date),rv(e.getTime())}o(EKe,"DateType");function bKe(e){x0(ku.Null)}o(bKe,"NullType");function vKe(e){x0(ku.Number),C2e.setFloat64(0,e);for(let t of x2e)x0(t)}o(vKe,"NumberType");function IKe(e){x0(ku.Object);for(let t of globalThis.Object.getOwnPropertyNames(e).sort())rv(t),rv(e[t])}o(IKe,"ObjectType");function TKe(e){x0(ku.String);for(let t=0;t<e.length;t++)for(let r of AKe(e.charCodeAt(t)))x0(r)}o(TKe,"StringType");function wKe(e){x0(ku.Symbol),rv(e.description)}o(wKe,"SymbolType");function SKe(e){x0(ku.Uint8Array);for(let t=0;t<e.length;t++)x0(e[t])}o(SKe,"Uint8ArrayType");function _Ke(e){return x0(ku.Undefined)}o(_Ke,"UndefinedType");function rv(e){if(un(e))return yKe(e);if(rp(e))return CKe(e);if(Ql(e))return xKe(e);if(W0(e))return EKe(e);if(e1(e))return bKe(e);if(Hr(e))return vKe(e);if(Xn(e))return IKe(e);if(_i(e))return TKe(e);if(t1(e))return wKe(e);if(pb(e))return SKe(e);if($o(e))return _Ke(e);throw new yK(e)}o(rv,"Visit");function x0(e){tv=tv^gKe[e],tv=tv*hKe%pKe}o(x0,"FNV1A64");function p5(e){return tv=BigInt("14695981039346656037"),rv(e),tv}o(p5,"Hash");d();var CK=class extends fn{static{o(this,"ValueCheckUnknownTypeError")}constructor(t){super("Unknown type"),this.schema=t}};function kKe(e){return e[it]==="Any"||e[it]==="Unknown"}o(kKe,"IsAnyOrUnknown");function mi(e){return e!==void 0}o(mi,"IsDefined");function BKe(e,t,r){return!0}o(BKe,"FromAny");function RKe(e,t,r){return!0}o(RKe,"FromArgument");function DKe(e,t,r){if(!un(r)||mi(e.minItems)&&!(r.length>=e.minItems)||mi(e.maxItems)&&!(r.length<=e.maxItems)||!r.every(s=>fl(e.items,t,s))||e.uniqueItems===!0&&!function(){let s=new Set;for(let a of r){let l=p5(a);if(s.has(l))return!1;s.add(l)}return!0}())return!1;if(!(mi(e.contains)||Hr(e.minContains)||Hr(e.maxContains)))return!0;let n=mi(e.contains)?e.contains:Hn(),i=r.reduce((s,a)=>fl(n,t,a)?s+1:s,0);return!(i===0||Hr(e.minContains)&&i<e.minContains||Hr(e.maxContains)&&i>e.maxContains)}o(DKe,"FromArray");function PKe(e,t,r){return eD(r)}o(PKe,"FromAsyncIterator");function FKe(e,t,r){return!(!Ql(r)||mi(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||mi(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||mi(e.maximum)&&!(r<=e.maximum)||mi(e.minimum)&&!(r>=e.minimum)||mi(e.multipleOf)&&r%e.multipleOf!==BigInt(0))}o(FKe,"FromBigInt");function NKe(e,t,r){return rp(r)}o(NKe,"FromBoolean");function LKe(e,t,r){return fl(e.returns,t,r.prototype)}o(LKe,"FromConstructor");function QKe(e,t,r){return!(!W0(r)||mi(e.exclusiveMaximumTimestamp)&&!(r.getTime()<e.exclusiveMaximumTimestamp)||mi(e.exclusiveMinimumTimestamp)&&!(r.getTime()>e.exclusiveMinimumTimestamp)||mi(e.maximumTimestamp)&&!(r.getTime()<=e.maximumTimestamp)||mi(e.minimumTimestamp)&&!(r.getTime()>=e.minimumTimestamp)||mi(e.multipleOfTimestamp)&&r.getTime()%e.multipleOfTimestamp!==0)}o(QKe,"FromDate");function MKe(e,t,r){return J2(r)}o(MKe,"FromFunction");function OKe(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return fl(i,[...t,...n],r)}o(OKe,"FromImport");function UKe(e,t,r){return!(!nD(r)||mi(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||mi(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||mi(e.maximum)&&!(r<=e.maximum)||mi(e.minimum)&&!(r>=e.minimum)||mi(e.multipleOf)&&r%e.multipleOf!==0)}o(UKe,"FromInteger");function qKe(e,t,r){let n=e.allOf.every(i=>fl(i,t,r));if(e.unevaluatedProperties===!1){let i=new RegExp(a1(e)),s=Object.getOwnPropertyNames(r).every(a=>i.test(a));return n&&s}else if(ps(e.unevaluatedProperties)){let i=new RegExp(a1(e)),s=Object.getOwnPropertyNames(r).every(a=>i.test(a)||fl(e.unevaluatedProperties,t,r[a]));return n&&s}else return n}o(qKe,"FromIntersect");function WKe(e,t,r){return tD(r)}o(WKe,"FromIterator");function GKe(e,t,r){return r===e.const}o(GKe,"FromLiteral");function HKe(e,t,r){return!1}o(HKe,"FromNever");function VKe(e,t,r){return!fl(e.not,t,r)}o(VKe,"FromNot");function jKe(e,t,r){return e1(r)}o(jKe,"FromNull");function $Ke(e,t,r){return!(!Fo.IsNumberLike(r)||mi(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||mi(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||mi(e.minimum)&&!(r>=e.minimum)||mi(e.maximum)&&!(r<=e.maximum)||mi(e.multipleOf)&&r%e.multipleOf!==0)}o($Ke,"FromNumber");function zKe(e,t,r){if(!Fo.IsObjectLike(r)||mi(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||mi(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let n=Object.getOwnPropertyNames(e.properties);for(let i of n){let s=e.properties[i];if(e.required&&e.required.includes(i)){if(!fl(s,t,r[i])||(l1(s)||kKe(s))&&!(i in r))return!1}else if(Fo.IsExactOptionalProperty(r,i)&&!fl(s,t,r[i]))return!1}if(e.additionalProperties===!1){let i=Object.getOwnPropertyNames(r);return e.required&&e.required.length===n.length&&i.length===n.length?!0:i.every(s=>n.includes(s))}else return typeof e.additionalProperties=="object"?Object.getOwnPropertyNames(r).every(s=>n.includes(s)||fl(e.additionalProperties,t,r[s])):!0}o(zKe,"FromObject");function YKe(e,t,r){return rD(r)}o(YKe,"FromPromise");function KKe(e,t,r){if(!Fo.IsRecordLike(r)||mi(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||mi(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let[n,i]=Object.entries(e.patternProperties)[0],s=new RegExp(n),a=Object.entries(r).every(([u,f])=>s.test(u)?fl(i,t,f):!0),l=typeof e.additionalProperties=="object"?Object.entries(r).every(([u,f])=>s.test(u)?!0:fl(e.additionalProperties,t,f)):!0,c=e.additionalProperties===!1?Object.getOwnPropertyNames(r).every(u=>s.test(u)):!0;return a&&l&&c}o(KKe,"FromRecord");function JKe(e,t,r){return fl(Ni(e,t),t,r)}o(JKe,"FromRef");function XKe(e,t,r){let n=new RegExp(e.source,e.flags);return mi(e.minLength)&&!(r.length>=e.minLength)||mi(e.maxLength)&&!(r.length<=e.maxLength)?!1:n.test(r)}o(XKe,"FromRegExp");function ZKe(e,t,r){return!_i(r)||mi(e.minLength)&&!(r.length>=e.minLength)||mi(e.maxLength)&&!(r.length<=e.maxLength)||mi(e.pattern)&&!new RegExp(e.pattern).test(r)?!1:mi(e.format)?Am.Has(e.format)?Am.Get(e.format)(r):!1:!0}o(ZKe,"FromString");function eJe(e,t,r){return t1(r)}o(eJe,"FromSymbol");function tJe(e,t,r){return _i(r)&&new RegExp(e.pattern).test(r)}o(tJe,"FromTemplateLiteral");function rJe(e,t,r){return fl(Ni(e,t),t,r)}o(rJe,"FromThis");function nJe(e,t,r){if(!un(r)||e.items===void 0&&r.length!==0||r.length!==e.maxItems)return!1;if(!e.items)return!0;for(let n=0;n<e.items.length;n++)if(!fl(e.items[n],t,r[n]))return!1;return!0}o(nJe,"FromTuple");function iJe(e,t,r){return $o(r)}o(iJe,"FromUndefined");function oJe(e,t,r){return e.anyOf.some(n=>fl(n,t,r))}o(oJe,"FromUnion");function sJe(e,t,r){return!(!pb(r)||mi(e.maxByteLength)&&!(r.length<=e.maxByteLength)||mi(e.minByteLength)&&!(r.length>=e.minByteLength))}o(sJe,"FromUint8Array");function aJe(e,t,r){return!0}o(aJe,"FromUnknown");function lJe(e,t,r){return Fo.IsVoidLike(r)}o(lJe,"FromVoid");function cJe(e,t,r){return G0.Has(e[it])?G0.Get(e[it])(e,r):!1}o(cJe,"FromKind");function fl(e,t,r){let n=mi(e.$id)?ul(e,t):t,i=e;switch(i[it]){case"Any":return BKe(i,n,r);case"Argument":return RKe(i,n,r);case"Array":return DKe(i,n,r);case"AsyncIterator":return PKe(i,n,r);case"BigInt":return FKe(i,n,r);case"Boolean":return NKe(i,n,r);case"Constructor":return LKe(i,n,r);case"Date":return QKe(i,n,r);case"Function":return MKe(i,n,r);case"Import":return OKe(i,n,r);case"Integer":return UKe(i,n,r);case"Intersect":return qKe(i,n,r);case"Iterator":return WKe(i,n,r);case"Literal":return GKe(i,n,r);case"Never":return HKe(i,n,r);case"Not":return VKe(i,n,r);case"Null":return jKe(i,n,r);case"Number":return $Ke(i,n,r);case"Object":return zKe(i,n,r);case"Promise":return YKe(i,n,r);case"Record":return KKe(i,n,r);case"Ref":return JKe(i,n,r);case"RegExp":return XKe(i,n,r);case"String":return ZKe(i,n,r);case"Symbol":return eJe(i,n,r);case"TemplateLiteral":return tJe(i,n,r);case"This":return rJe(i,n,r);case"Tuple":return nJe(i,n,r);case"Undefined":return iJe(i,n,r);case"Union":return oJe(i,n,r);case"Uint8Array":return sJe(i,n,r);case"Unknown":return aJe(i,n,r);case"Void":return lJe(i,n,r);default:if(!G0.Has(i[it]))throw new CK(i);return cJe(i,n,r)}}o(fl,"Visit");function ni(...e){return e.length===3?fl(e[0],e[1],e[2]):fl(e[0],[],e[1])}o(ni,"Check");var rt;(function(e){e[e.ArrayContains=0]="ArrayContains",e[e.ArrayMaxContains=1]="ArrayMaxContains",e[e.ArrayMaxItems=2]="ArrayMaxItems",e[e.ArrayMinContains=3]="ArrayMinContains",e[e.ArrayMinItems=4]="ArrayMinItems",e[e.ArrayUniqueItems=5]="ArrayUniqueItems",e[e.Array=6]="Array",e[e.AsyncIterator=7]="AsyncIterator",e[e.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",e[e.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",e[e.BigIntMaximum=10]="BigIntMaximum",e[e.BigIntMinimum=11]="BigIntMinimum",e[e.BigIntMultipleOf=12]="BigIntMultipleOf",e[e.BigInt=13]="BigInt",e[e.Boolean=14]="Boolean",e[e.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",e[e.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",e[e.DateMaximumTimestamp=17]="DateMaximumTimestamp",e[e.DateMinimumTimestamp=18]="DateMinimumTimestamp",e[e.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",e[e.Date=20]="Date",e[e.Function=21]="Function",e[e.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",e[e.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",e[e.IntegerMaximum=24]="IntegerMaximum",e[e.IntegerMinimum=25]="IntegerMinimum",e[e.IntegerMultipleOf=26]="IntegerMultipleOf",e[e.Integer=27]="Integer",e[e.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",e[e.Intersect=29]="Intersect",e[e.Iterator=30]="Iterator",e[e.Kind=31]="Kind",e[e.Literal=32]="Literal",e[e.Never=33]="Never",e[e.Not=34]="Not",e[e.Null=35]="Null",e[e.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",e[e.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",e[e.NumberMaximum=38]="NumberMaximum",e[e.NumberMinimum=39]="NumberMinimum",e[e.NumberMultipleOf=40]="NumberMultipleOf",e[e.Number=41]="Number",e[e.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",e[e.ObjectMaxProperties=43]="ObjectMaxProperties",e[e.ObjectMinProperties=44]="ObjectMinProperties",e[e.ObjectRequiredProperty=45]="ObjectRequiredProperty",e[e.Object=46]="Object",e[e.Promise=47]="Promise",e[e.RegExp=48]="RegExp",e[e.StringFormatUnknown=49]="StringFormatUnknown",e[e.StringFormat=50]="StringFormat",e[e.StringMaxLength=51]="StringMaxLength",e[e.StringMinLength=52]="StringMinLength",e[e.StringPattern=53]="StringPattern",e[e.String=54]="String",e[e.Symbol=55]="Symbol",e[e.TupleLength=56]="TupleLength",e[e.Tuple=57]="Tuple",e[e.Uint8ArrayMaxByteLength=58]="Uint8ArrayMaxByteLength",e[e.Uint8ArrayMinByteLength=59]="Uint8ArrayMinByteLength",e[e.Uint8Array=60]="Uint8Array",e[e.Undefined=61]="Undefined",e[e.Union=62]="Union",e[e.Void=63]="Void"})(rt||(rt={}));var xK=class extends fn{static{o(this,"ValueErrorsUnknownTypeError")}constructor(t){super("Unknown type"),this.schema=t}};function f1(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}o(f1,"EscapeKey");function hi(e){return e!==void 0}o(hi,"IsDefined");var g5=class{static{o(this,"ValueErrorIterator")}constructor(t){this.iterator=t}[Symbol.iterator](){return this.iterator}First(){let t=this.iterator.next();return t.done?void 0:t.value}};function gr(e,t,r,n,i=[]){return{type:e,schema:t,path:r,value:n,message:A2e()({errorType:e,path:r,schema:t,value:n,errors:i}),errors:i}}o(gr,"Create");function*uJe(e,t,r,n){}o(uJe,"FromAny");function*fJe(e,t,r,n){}o(fJe,"FromArgument");function*dJe(e,t,r,n){if(!un(n))return yield gr(rt.Array,e,r,n);hi(e.minItems)&&!(n.length>=e.minItems)&&(yield gr(rt.ArrayMinItems,e,r,n)),hi(e.maxItems)&&!(n.length<=e.maxItems)&&(yield gr(rt.ArrayMaxItems,e,r,n));for(let a=0;a<n.length;a++)yield*dl(e.items,t,`${r}/${a}`,n[a]);if(e.uniqueItems===!0&&!function(){let a=new Set;for(let l of n){let c=p5(l);if(a.has(c))return!1;a.add(c)}return!0}()&&(yield gr(rt.ArrayUniqueItems,e,r,n)),!(hi(e.contains)||hi(e.minContains)||hi(e.maxContains)))return;let i=hi(e.contains)?e.contains:Hn(),s=n.reduce((a,l,c)=>dl(i,t,`${r}${c}`,l).next().done===!0?a+1:a,0);s===0&&(yield gr(rt.ArrayContains,e,r,n)),Hr(e.minContains)&&s<e.minContains&&(yield gr(rt.ArrayMinContains,e,r,n)),Hr(e.maxContains)&&s>e.maxContains&&(yield gr(rt.ArrayMaxContains,e,r,n))}o(dJe,"FromArray");function*mJe(e,t,r,n){eD(n)||(yield gr(rt.AsyncIterator,e,r,n))}o(mJe,"FromAsyncIterator");function*hJe(e,t,r,n){if(!Ql(n))return yield gr(rt.BigInt,e,r,n);hi(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield gr(rt.BigIntExclusiveMaximum,e,r,n)),hi(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield gr(rt.BigIntExclusiveMinimum,e,r,n)),hi(e.maximum)&&!(n<=e.maximum)&&(yield gr(rt.BigIntMaximum,e,r,n)),hi(e.minimum)&&!(n>=e.minimum)&&(yield gr(rt.BigIntMinimum,e,r,n)),hi(e.multipleOf)&&n%e.multipleOf!==BigInt(0)&&(yield gr(rt.BigIntMultipleOf,e,r,n))}o(hJe,"FromBigInt");function*pJe(e,t,r,n){rp(n)||(yield gr(rt.Boolean,e,r,n))}o(pJe,"FromBoolean");function*gJe(e,t,r,n){yield*dl(e.returns,t,r,n.prototype)}o(gJe,"FromConstructor");function*AJe(e,t,r,n){if(!W0(n))return yield gr(rt.Date,e,r,n);hi(e.exclusiveMaximumTimestamp)&&!(n.getTime()<e.exclusiveMaximumTimestamp)&&(yield gr(rt.DateExclusiveMaximumTimestamp,e,r,n)),hi(e.exclusiveMinimumTimestamp)&&!(n.getTime()>e.exclusiveMinimumTimestamp)&&(yield gr(rt.DateExclusiveMinimumTimestamp,e,r,n)),hi(e.maximumTimestamp)&&!(n.getTime()<=e.maximumTimestamp)&&(yield gr(rt.DateMaximumTimestamp,e,r,n)),hi(e.minimumTimestamp)&&!(n.getTime()>=e.minimumTimestamp)&&(yield gr(rt.DateMinimumTimestamp,e,r,n)),hi(e.multipleOfTimestamp)&&n.getTime()%e.multipleOfTimestamp!==0&&(yield gr(rt.DateMultipleOfTimestamp,e,r,n))}o(AJe,"FromDate");function*yJe(e,t,r,n){J2(n)||(yield gr(rt.Function,e,r,n))}o(yJe,"FromFunction");function*CJe(e,t,r,n){let i=globalThis.Object.values(e.$defs),s=e.$defs[e.$ref];yield*dl(s,[...t,...i],r,n)}o(CJe,"FromImport");function*xJe(e,t,r,n){if(!nD(n))return yield gr(rt.Integer,e,r,n);hi(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield gr(rt.IntegerExclusiveMaximum,e,r,n)),hi(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield gr(rt.IntegerExclusiveMinimum,e,r,n)),hi(e.maximum)&&!(n<=e.maximum)&&(yield gr(rt.IntegerMaximum,e,r,n)),hi(e.minimum)&&!(n>=e.minimum)&&(yield gr(rt.IntegerMinimum,e,r,n)),hi(e.multipleOf)&&n%e.multipleOf!==0&&(yield gr(rt.IntegerMultipleOf,e,r,n))}o(xJe,"FromInteger");function*EJe(e,t,r,n){let i=!1;for(let s of e.allOf)for(let a of dl(s,t,r,n))i=!0,yield a;if(i)return yield gr(rt.Intersect,e,r,n);if(e.unevaluatedProperties===!1){let s=new RegExp(a1(e));for(let a of Object.getOwnPropertyNames(n))s.test(a)||(yield gr(rt.IntersectUnevaluatedProperties,e,`${r}/${a}`,n))}if(typeof e.unevaluatedProperties=="object"){let s=new RegExp(a1(e));for(let a of Object.getOwnPropertyNames(n))if(!s.test(a)){let l=dl(e.unevaluatedProperties,t,`${r}/${a}`,n[a]).next();l.done||(yield l.value)}}}o(EJe,"FromIntersect");function*bJe(e,t,r,n){tD(n)||(yield gr(rt.Iterator,e,r,n))}o(bJe,"FromIterator");function*vJe(e,t,r,n){n!==e.const&&(yield gr(rt.Literal,e,r,n))}o(vJe,"FromLiteral");function*IJe(e,t,r,n){yield gr(rt.Never,e,r,n)}o(IJe,"FromNever");function*TJe(e,t,r,n){dl(e.not,t,r,n).next().done===!0&&(yield gr(rt.Not,e,r,n))}o(TJe,"FromNot");function*wJe(e,t,r,n){e1(n)||(yield gr(rt.Null,e,r,n))}o(wJe,"FromNull");function*SJe(e,t,r,n){if(!Fo.IsNumberLike(n))return yield gr(rt.Number,e,r,n);hi(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield gr(rt.NumberExclusiveMaximum,e,r,n)),hi(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield gr(rt.NumberExclusiveMinimum,e,r,n)),hi(e.maximum)&&!(n<=e.maximum)&&(yield gr(rt.NumberMaximum,e,r,n)),hi(e.minimum)&&!(n>=e.minimum)&&(yield gr(rt.NumberMinimum,e,r,n)),hi(e.multipleOf)&&n%e.multipleOf!==0&&(yield gr(rt.NumberMultipleOf,e,r,n))}o(SJe,"FromNumber");function*_Je(e,t,r,n){if(!Fo.IsObjectLike(n))return yield gr(rt.Object,e,r,n);hi(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield gr(rt.ObjectMinProperties,e,r,n)),hi(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield gr(rt.ObjectMaxProperties,e,r,n));let i=Array.isArray(e.required)?e.required:[],s=Object.getOwnPropertyNames(e.properties),a=Object.getOwnPropertyNames(n);for(let l of i)a.includes(l)||(yield gr(rt.ObjectRequiredProperty,e.properties[l],`${r}/${f1(l)}`,void 0));if(e.additionalProperties===!1)for(let l of a)s.includes(l)||(yield gr(rt.ObjectAdditionalProperties,e,`${r}/${f1(l)}`,n[l]));if(typeof e.additionalProperties=="object")for(let l of a)s.includes(l)||(yield*dl(e.additionalProperties,t,`${r}/${f1(l)}`,n[l]));for(let l of s){let c=e.properties[l];e.required&&e.required.includes(l)?(yield*dl(c,t,`${r}/${f1(l)}`,n[l]),l1(e)&&!(l in n)&&(yield gr(rt.ObjectRequiredProperty,c,`${r}/${f1(l)}`,void 0))):Fo.IsExactOptionalProperty(n,l)&&(yield*dl(c,t,`${r}/${f1(l)}`,n[l]))}}o(_Je,"FromObject");function*kJe(e,t,r,n){rD(n)||(yield gr(rt.Promise,e,r,n))}o(kJe,"FromPromise");function*BJe(e,t,r,n){if(!Fo.IsRecordLike(n))return yield gr(rt.Object,e,r,n);hi(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield gr(rt.ObjectMinProperties,e,r,n)),hi(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield gr(rt.ObjectMaxProperties,e,r,n));let[i,s]=Object.entries(e.patternProperties)[0],a=new RegExp(i);for(let[l,c]of Object.entries(n))a.test(l)&&(yield*dl(s,t,`${r}/${f1(l)}`,c));if(typeof e.additionalProperties=="object")for(let[l,c]of Object.entries(n))a.test(l)||(yield*dl(e.additionalProperties,t,`${r}/${f1(l)}`,c));if(e.additionalProperties===!1){for(let[l,c]of Object.entries(n))if(!a.test(l))return yield gr(rt.ObjectAdditionalProperties,e,`${r}/${f1(l)}`,c)}}o(BJe,"FromRecord");function*RJe(e,t,r,n){yield*dl(Ni(e,t),t,r,n)}o(RJe,"FromRef");function*DJe(e,t,r,n){if(!_i(n))return yield gr(rt.String,e,r,n);if(hi(e.minLength)&&!(n.length>=e.minLength)&&(yield gr(rt.StringMinLength,e,r,n)),hi(e.maxLength)&&!(n.length<=e.maxLength)&&(yield gr(rt.StringMaxLength,e,r,n)),!new RegExp(e.source,e.flags).test(n))return yield gr(rt.RegExp,e,r,n)}o(DJe,"FromRegExp");function*PJe(e,t,r,n){if(!_i(n))return yield gr(rt.String,e,r,n);hi(e.minLength)&&!(n.length>=e.minLength)&&(yield gr(rt.StringMinLength,e,r,n)),hi(e.maxLength)&&!(n.length<=e.maxLength)&&(yield gr(rt.StringMaxLength,e,r,n)),_i(e.pattern)&&(new RegExp(e.pattern).test(n)||(yield gr(rt.StringPattern,e,r,n))),_i(e.format)&&(Am.Has(e.format)?Am.Get(e.format)(n)||(yield gr(rt.StringFormat,e,r,n)):yield gr(rt.StringFormatUnknown,e,r,n))}o(PJe,"FromString");function*FJe(e,t,r,n){t1(n)||(yield gr(rt.Symbol,e,r,n))}o(FJe,"FromSymbol");function*NJe(e,t,r,n){if(!_i(n))return yield gr(rt.String,e,r,n);new RegExp(e.pattern).test(n)||(yield gr(rt.StringPattern,e,r,n))}o(NJe,"FromTemplateLiteral");function*LJe(e,t,r,n){yield*dl(Ni(e,t),t,r,n)}o(LJe,"FromThis");function*QJe(e,t,r,n){if(!un(n))return yield gr(rt.Tuple,e,r,n);if(e.items===void 0&&n.length!==0)return yield gr(rt.TupleLength,e,r,n);if(n.length!==e.maxItems)return yield gr(rt.TupleLength,e,r,n);if(e.items)for(let i=0;i<e.items.length;i++)yield*dl(e.items[i],t,`${r}/${i}`,n[i])}o(QJe,"FromTuple");function*MJe(e,t,r,n){$o(n)||(yield gr(rt.Undefined,e,r,n))}o(MJe,"FromUndefined");function*OJe(e,t,r,n){if(ni(e,t,n))return;let i=e.anyOf.map(s=>new g5(dl(s,t,r,n)));yield gr(rt.Union,e,r,n,i)}o(OJe,"FromUnion");function*UJe(e,t,r,n){if(!pb(n))return yield gr(rt.Uint8Array,e,r,n);hi(e.maxByteLength)&&!(n.length<=e.maxByteLength)&&(yield gr(rt.Uint8ArrayMaxByteLength,e,r,n)),hi(e.minByteLength)&&!(n.length>=e.minByteLength)&&(yield gr(rt.Uint8ArrayMinByteLength,e,r,n))}o(UJe,"FromUint8Array");function*qJe(e,t,r,n){}o(qJe,"FromUnknown");function*WJe(e,t,r,n){Fo.IsVoidLike(n)||(yield gr(rt.Void,e,r,n))}o(WJe,"FromVoid");function*GJe(e,t,r,n){G0.Get(e[it])(e,n)||(yield gr(rt.Kind,e,r,n))}o(GJe,"FromKind");function*dl(e,t,r,n){let i=hi(e.$id)?[...t,e]:t,s=e;switch(s[it]){case"Any":return yield*uJe(s,i,r,n);case"Argument":return yield*fJe(s,i,r,n);case"Array":return yield*dJe(s,i,r,n);case"AsyncIterator":return yield*mJe(s,i,r,n);case"BigInt":return yield*hJe(s,i,r,n);case"Boolean":return yield*pJe(s,i,r,n);case"Constructor":return yield*gJe(s,i,r,n);case"Date":return yield*AJe(s,i,r,n);case"Function":return yield*yJe(s,i,r,n);case"Import":return yield*CJe(s,i,r,n);case"Integer":return yield*xJe(s,i,r,n);case"Intersect":return yield*EJe(s,i,r,n);case"Iterator":return yield*bJe(s,i,r,n);case"Literal":return yield*vJe(s,i,r,n);case"Never":return yield*IJe(s,i,r,n);case"Not":return yield*TJe(s,i,r,n);case"Null":return yield*wJe(s,i,r,n);case"Number":return yield*SJe(s,i,r,n);case"Object":return yield*_Je(s,i,r,n);case"Promise":return yield*kJe(s,i,r,n);case"Record":return yield*BJe(s,i,r,n);case"Ref":return yield*RJe(s,i,r,n);case"RegExp":return yield*DJe(s,i,r,n);case"String":return yield*PJe(s,i,r,n);case"Symbol":return yield*FJe(s,i,r,n);case"TemplateLiteral":return yield*NJe(s,i,r,n);case"This":return yield*LJe(s,i,r,n);case"Tuple":return yield*QJe(s,i,r,n);case"Undefined":return yield*MJe(s,i,r,n);case"Union":return yield*OJe(s,i,r,n);case"Uint8Array":return yield*UJe(s,i,r,n);case"Unknown":return yield*qJe(s,i,r,n);case"Void":return yield*WJe(s,i,r,n);default:if(!G0.Has(s[it]))throw new xK(e);return yield*GJe(s,i,r,n)}}o(dl,"Visit");function mp(...e){let t=e.length===3?dl(e[0],e[1],"",e[2]):dl(e[0],[],"",e[1]);return new g5(t)}o(mp,"Errors");d();d();var nv=class extends fn{static{o(this,"TransformDecodeCheckError")}constructor(t,r,n){super("Unable to decode value as it does not match the expected schema"),this.schema=t,this.value=r,this.error=n}},EK=class extends fn{static{o(this,"TransformDecodeError")}constructor(t,r,n,i){super(i instanceof Error?i.message:"Unknown error"),this.schema=t,this.path=r,this.value=n,this.error=i}};function As(e,t,r){try{return $i(e)?e[hs].Decode(r):r}catch(n){throw new EK(e,t,r,n)}}o(As,"Default");function HJe(e,t,r,n){return un(n)?As(e,r,n.map((i,s)=>Im(e.items,t,`${r}/${s}`,i))):As(e,r,n)}o(HJe,"FromArray");function VJe(e,t,r,n){if(!Xn(n)||xu(n))return As(e,r,n);let i=dD(e),s=i.map(f=>f[0]),a={...n};for(let[f,m]of i)f in a&&(a[f]=Im(m,t,`${r}/${f}`,a[f]));if(!$i(e.unevaluatedProperties))return As(e,r,a);let l=Object.getOwnPropertyNames(a),c=e.unevaluatedProperties,u={...a};for(let f of l)s.includes(f)||(u[f]=As(c,`${r}/${f}`,u[f]));return As(e,r,u)}o(VJe,"FromIntersect");function jJe(e,t,r,n){let i=globalThis.Object.values(e.$defs),s=e.$defs[e.$ref],a=Im(s,[...t,...i],r,n);return As(e,r,a)}o(jJe,"FromImport");function $Je(e,t,r,n){return As(e,r,Im(e.not,t,r,n))}o($Je,"FromNot");function zJe(e,t,r,n){if(!Xn(n))return As(e,r,n);let i=wc(e),s={...n};for(let u of i)cn(s,u)&&($o(s[u])&&(!i1(e.properties[u])||Fo.IsExactOptionalProperty(s,u))||(s[u]=Im(e.properties[u],t,`${r}/${u}`,s[u])));if(!ps(e.additionalProperties))return As(e,r,s);let a=Object.getOwnPropertyNames(s),l=e.additionalProperties,c={...s};for(let u of a)i.includes(u)||(c[u]=As(l,`${r}/${u}`,c[u]));return As(e,r,c)}o(zJe,"FromObject");function YJe(e,t,r,n){if(!Xn(n))return As(e,r,n);let i=Object.getOwnPropertyNames(e.patternProperties)[0],s=new RegExp(i),a={...n};for(let f of Object.getOwnPropertyNames(n))s.test(f)&&(a[f]=Im(e.patternProperties[i],t,`${r}/${f}`,a[f]));if(!ps(e.additionalProperties))return As(e,r,a);let l=Object.getOwnPropertyNames(a),c=e.additionalProperties,u={...a};for(let f of l)s.test(f)||(u[f]=As(c,`${r}/${f}`,u[f]));return As(e,r,u)}o(YJe,"FromRecord");function KJe(e,t,r,n){let i=Ni(e,t);return As(e,r,Im(i,t,r,n))}o(KJe,"FromRef");function JJe(e,t,r,n){let i=Ni(e,t);return As(e,r,Im(i,t,r,n))}o(JJe,"FromThis");function XJe(e,t,r,n){return un(n)&&un(e.items)?As(e,r,e.items.map((i,s)=>Im(i,t,`${r}/${s}`,n[s]))):As(e,r,n)}o(XJe,"FromTuple");function ZJe(e,t,r,n){for(let i of e.anyOf){if(!ni(i,t,n))continue;let s=Im(i,t,r,n);return As(e,r,s)}return As(e,r,n)}o(ZJe,"FromUnion");function Im(e,t,r,n){let i=ul(e,t),s=e;switch(e[it]){case"Array":return HJe(s,i,r,n);case"Import":return jJe(s,i,r,n);case"Intersect":return VJe(s,i,r,n);case"Not":return $Je(s,i,r,n);case"Object":return zJe(s,i,r,n);case"Record":return YJe(s,i,r,n);case"Ref":return KJe(s,i,r,n);case"Symbol":return As(s,r,n);case"This":return JJe(s,i,r,n);case"Tuple":return XJe(s,i,r,n);case"Union":return ZJe(s,i,r,n);default:return As(s,r,n)}}o(Im,"Visit");function iv(e,t,r){return Im(e,t,"",r)}o(iv,"TransformDecode");d();var ov=class extends fn{static{o(this,"TransformEncodeCheckError")}constructor(t,r,n){super("The encoded value does not match the expected schema"),this.schema=t,this.value=r,this.error=n}},bK=class extends fn{static{o(this,"TransformEncodeError")}constructor(t,r,n,i){super(`${i instanceof Error?i.message:"Unknown error"}`),this.schema=t,this.path=r,this.value=n,this.error=i}};function ql(e,t,r){try{return $i(e)?e[hs].Encode(r):r}catch(n){throw new bK(e,t,r,n)}}o(ql,"Default");function eXe(e,t,r,n){let i=ql(e,r,n);return un(i)?i.map((s,a)=>Tm(e.items,t,`${r}/${a}`,s)):i}o(eXe,"FromArray");function tXe(e,t,r,n){let i=globalThis.Object.values(e.$defs),s=e.$defs[e.$ref],a=ql(e,r,n);return Tm(s,[...t,...i],r,a)}o(tXe,"FromImport");function rXe(e,t,r,n){let i=ql(e,r,n);if(!Xn(n)||xu(n))return i;let s=dD(e),a=s.map(m=>m[0]),l={...i};for(let[m,h]of s)m in l&&(l[m]=Tm(h,t,`${r}/${m}`,l[m]));if(!$i(e.unevaluatedProperties))return l;let c=Object.getOwnPropertyNames(l),u=e.unevaluatedProperties,f={...l};for(let m of c)a.includes(m)||(f[m]=ql(u,`${r}/${m}`,f[m]));return f}o(rXe,"FromIntersect");function nXe(e,t,r,n){return ql(e.not,r,ql(e,r,n))}o(nXe,"FromNot");function iXe(e,t,r,n){let i=ql(e,r,n);if(!Xn(i))return i;let s=wc(e),a={...i};for(let f of s)cn(a,f)&&($o(a[f])&&(!i1(e.properties[f])||Fo.IsExactOptionalProperty(a,f))||(a[f]=Tm(e.properties[f],t,`${r}/${f}`,a[f])));if(!ps(e.additionalProperties))return a;let l=Object.getOwnPropertyNames(a),c=e.additionalProperties,u={...a};for(let f of l)s.includes(f)||(u[f]=ql(c,`${r}/${f}`,u[f]));return u}o(iXe,"FromObject");function oXe(e,t,r,n){let i=ql(e,r,n);if(!Xn(n))return i;let s=Object.getOwnPropertyNames(e.patternProperties)[0],a=new RegExp(s),l={...i};for(let m of Object.getOwnPropertyNames(n))a.test(m)&&(l[m]=Tm(e.patternProperties[s],t,`${r}/${m}`,l[m]));if(!ps(e.additionalProperties))return l;let c=Object.getOwnPropertyNames(l),u=e.additionalProperties,f={...l};for(let m of c)a.test(m)||(f[m]=ql(u,`${r}/${m}`,f[m]));return f}o(oXe,"FromRecord");function sXe(e,t,r,n){let i=Ni(e,t),s=Tm(i,t,r,n);return ql(e,r,s)}o(sXe,"FromRef");function aXe(e,t,r,n){let i=Ni(e,t),s=Tm(i,t,r,n);return ql(e,r,s)}o(aXe,"FromThis");function lXe(e,t,r,n){let i=ql(e,r,n);return un(e.items)?e.items.map((s,a)=>Tm(s,t,`${r}/${a}`,i[a])):[]}o(lXe,"FromTuple");function cXe(e,t,r,n){for(let i of e.anyOf){if(!ni(i,t,n))continue;let s=Tm(i,t,r,n);return ql(e,r,s)}for(let i of e.anyOf){let s=Tm(i,t,r,n);if(ni(e,t,s))return ql(e,r,s)}return ql(e,r,n)}o(cXe,"FromUnion");function Tm(e,t,r,n){let i=ul(e,t),s=e;switch(e[it]){case"Array":return eXe(s,i,r,n);case"Import":return tXe(s,i,r,n);case"Intersect":return rXe(s,i,r,n);case"Not":return nXe(s,i,r,n);case"Object":return iXe(s,i,r,n);case"Record":return oXe(s,i,r,n);case"Ref":return sXe(s,i,r,n);case"This":return aXe(s,i,r,n);case"Tuple":return lXe(s,i,r,n);case"Union":return cXe(s,i,r,n);default:return ql(s,r,n)}}o(Tm,"Visit");function sv(e,t,r){return Tm(e,t,"",r)}o(sv,"TransformEncode");d();function uXe(e,t){return $i(e)||Ya(e.items,t)}o(uXe,"FromArray");function fXe(e,t){return $i(e)||Ya(e.items,t)}o(fXe,"FromAsyncIterator");function dXe(e,t){return $i(e)||Ya(e.returns,t)||e.parameters.some(r=>Ya(r,t))}o(dXe,"FromConstructor");function mXe(e,t){return $i(e)||Ya(e.returns,t)||e.parameters.some(r=>Ya(r,t))}o(mXe,"FromFunction");function hXe(e,t){return $i(e)||$i(e.unevaluatedProperties)||e.allOf.some(r=>Ya(r,t))}o(hXe,"FromIntersect");function pXe(e,t){let r=globalThis.Object.getOwnPropertyNames(e.$defs).reduce((i,s)=>[...i,e.$defs[s]],[]),n=e.$defs[e.$ref];return $i(e)||Ya(n,[...r,...t])}o(pXe,"FromImport");function gXe(e,t){return $i(e)||Ya(e.items,t)}o(gXe,"FromIterator");function AXe(e,t){return $i(e)||Ya(e.not,t)}o(AXe,"FromNot");function yXe(e,t){return $i(e)||Object.values(e.properties).some(r=>Ya(r,t))||ps(e.additionalProperties)&&Ya(e.additionalProperties,t)}o(yXe,"FromObject");function CXe(e,t){return $i(e)||Ya(e.item,t)}o(CXe,"FromPromise");function xXe(e,t){let r=Object.getOwnPropertyNames(e.patternProperties)[0],n=e.patternProperties[r];return $i(e)||Ya(n,t)||ps(e.additionalProperties)&&$i(e.additionalProperties)}o(xXe,"FromRecord");function EXe(e,t){return $i(e)?!0:Ya(Ni(e,t),t)}o(EXe,"FromRef");function bXe(e,t){return $i(e)?!0:Ya(Ni(e,t),t)}o(bXe,"FromThis");function vXe(e,t){return $i(e)||!$o(e.items)&&e.items.some(r=>Ya(r,t))}o(vXe,"FromTuple");function IXe(e,t){return $i(e)||e.anyOf.some(r=>Ya(r,t))}o(IXe,"FromUnion");function Ya(e,t){let r=ul(e,t),n=e;if(e.$id&&vK.has(e.$id))return!1;switch(e.$id&&vK.add(e.$id),e[it]){case"Array":return uXe(n,r);case"AsyncIterator":return fXe(n,r);case"Constructor":return dXe(n,r);case"Function":return mXe(n,r);case"Import":return pXe(n,r);case"Intersect":return hXe(n,r);case"Iterator":return gXe(n,r);case"Not":return AXe(n,r);case"Object":return yXe(n,r);case"Promise":return CXe(n,r);case"Record":return xXe(n,r);case"Ref":return EXe(n,r);case"This":return bXe(n,r);case"Tuple":return vXe(n,r);case"Union":return IXe(n,r);default:return $i(e)}}o(Ya,"Visit");var vK=new Set;function d1(e,t){return vK.clear(),Ya(e,t)}o(d1,"HasTransform");var IK=class{static{o(this,"TypeCheck")}constructor(t,r,n,i){this.schema=t,this.references=r,this.checkFunc=n,this.code=i,this.hasTransform=d1(t,r)}Code(){return this.code}Schema(){return this.schema}References(){return this.references}Errors(t){return mp(this.schema,this.references,t)}Check(t){return this.checkFunc(t)}Decode(t){if(!this.checkFunc(t))throw new nv(this.schema,t,this.Errors(t).First());return this.hasTransform?iv(this.schema,this.references,t):t}Encode(t){let r=this.hasTransform?sv(this.schema,this.references,t):t;if(!this.checkFunc(r))throw new ov(this.schema,t,this.Errors(t).First());return r}},m1;(function(e){function t(s){return s===36}o(t,"DollarSign"),e.DollarSign=t;function r(s){return s===95}o(r,"IsUnderscore"),e.IsUnderscore=r;function n(s){return s>=65&&s<=90||s>=97&&s<=122}o(n,"IsAlpha"),e.IsAlpha=n;function i(s){return s>=48&&s<=57}o(i,"IsNumeric"),e.IsNumeric=i})(m1||(m1={}));var EP;(function(e){function t(s){return s.length===0?!1:m1.IsNumeric(s.charCodeAt(0))}o(t,"IsFirstCharacterNumeric");function r(s){if(t(s))return!1;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);if(!(m1.IsAlpha(l)||m1.IsNumeric(l)||m1.DollarSign(l)||m1.IsUnderscore(l)))return!1}return!0}o(r,"IsAccessor");function n(s){return s.replace(/'/g,"\\'")}o(n,"EscapeHyphen");function i(s,a){return r(a)?`${s}.${a}`:`${s}['${n(a)}']`}o(i,"Encode"),e.Encode=i})(EP||(EP={}));var TK;(function(e){function t(r){let n=[];for(let i=0;i<r.length;i++){let s=r.charCodeAt(i);m1.IsNumeric(s)||m1.IsAlpha(s)?n.push(r.charAt(i)):n.push(`_${s}_`)}return n.join("").replace(/__/g,"_")}o(t,"Encode"),e.Encode=t})(TK||(TK={}));var wK;(function(e){function t(r){return r.replace(/'/g,"\\'")}o(t,"Escape"),e.Escape=t})(wK||(wK={}));var SK=class extends fn{static{o(this,"TypeCompilerUnknownTypeError")}constructor(t){super("Unknown type"),this.schema=t}},bP=class extends fn{static{o(this,"TypeCompilerTypeGuardError")}constructor(t){super("Preflight validation check failed to guard for the given schema"),this.schema=t}},P3;(function(e){function t(a,l,c){return Fo.ExactOptionalPropertyTypes?`('${l}' in ${a} ? ${c} : true)`:`(${EP.Encode(a,l)} !== undefined ? ${c} : true)`}o(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){return Fo.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null)`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}))`}o(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return Fo.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}) && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`}o(n,"IsRecordLike"),e.IsRecordLike=n;function i(a){return Fo.AllowNaN?`typeof ${a} === 'number'`:`Number.isFinite(${a})`}o(i,"IsNumberLike"),e.IsNumberLike=i;function s(a){return Fo.AllowNullVoid?`(${a} === undefined || ${a} === null)`:`${a} === undefined`}o(s,"IsVoidLike"),e.IsVoidLike=s})(P3||(P3={}));var Ds;(function(e){function t(oe){return oe[it]==="Any"||oe[it]==="Unknown"}o(t,"IsAnyOrUnknown");function*r(oe,Pe,Ae){yield"true"}o(r,"FromAny");function*n(oe,Pe,Ae){yield"true"}o(n,"FromArgument");function*i(oe,Pe,Ae){yield`Array.isArray(${Ae})`;let[We,z]=[_e("value","any"),_e("acc","number")];Hr(oe.maxItems)&&(yield`${Ae}.length <= ${oe.maxItems}`),Hr(oe.minItems)&&(yield`${Ae}.length >= ${oe.minItems}`);let te=de(oe.items,Pe,"value");if(yield`${Ae}.every((${We}) => ${te})`,Yo(oe.contains)||Hr(oe.minContains)||Hr(oe.maxContains)){let Ne=Yo(oe.contains)?oe.contains:Hn(),Se=de(Ne,Pe,"value"),Ce=Hr(oe.minContains)?[`(count >= ${oe.minContains})`]:[],Ue=Hr(oe.maxContains)?[`(count <= ${oe.maxContains})`]:[],Ve=`const count = value.reduce((${z}, ${We}) => ${Se} ? acc + 1 : acc, 0)`,Ze=["(count > 0)",...Ce,...Ue].join(" && ");yield`((${We}) => { ${Ve}; return ${Ze}})(${Ae})`}oe.uniqueItems===!0&&(yield`((${We}) => { const set = new Set(); for(const element of value) { const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true } )(${Ae})`)}o(i,"FromArray");function*s(oe,Pe,Ae){yield`(typeof value === 'object' && Symbol.asyncIterator in ${Ae})`}o(s,"FromAsyncIterator");function*a(oe,Pe,Ae){yield`(typeof ${Ae} === 'bigint')`,Ql(oe.exclusiveMaximum)&&(yield`${Ae} < BigInt(${oe.exclusiveMaximum})`),Ql(oe.exclusiveMinimum)&&(yield`${Ae} > BigInt(${oe.exclusiveMinimum})`),Ql(oe.maximum)&&(yield`${Ae} <= BigInt(${oe.maximum})`),Ql(oe.minimum)&&(yield`${Ae} >= BigInt(${oe.minimum})`),Ql(oe.multipleOf)&&(yield`(${Ae} % BigInt(${oe.multipleOf})) === 0`)}o(a,"FromBigInt");function*l(oe,Pe,Ae){yield`(typeof ${Ae} === 'boolean')`}o(l,"FromBoolean");function*c(oe,Pe,Ae){yield*re(oe.returns,Pe,`${Ae}.prototype`)}o(c,"FromConstructor");function*u(oe,Pe,Ae){yield`(${Ae} instanceof Date) && Number.isFinite(${Ae}.getTime())`,Hr(oe.exclusiveMaximumTimestamp)&&(yield`${Ae}.getTime() < ${oe.exclusiveMaximumTimestamp}`),Hr(oe.exclusiveMinimumTimestamp)&&(yield`${Ae}.getTime() > ${oe.exclusiveMinimumTimestamp}`),Hr(oe.maximumTimestamp)&&(yield`${Ae}.getTime() <= ${oe.maximumTimestamp}`),Hr(oe.minimumTimestamp)&&(yield`${Ae}.getTime() >= ${oe.minimumTimestamp}`),Hr(oe.multipleOfTimestamp)&&(yield`(${Ae}.getTime() % ${oe.multipleOfTimestamp}) === 0`)}o(u,"FromDate");function*f(oe,Pe,Ae){yield`(typeof ${Ae} === 'function')`}o(f,"FromFunction");function*m(oe,Pe,Ae){let We=globalThis.Object.getOwnPropertyNames(oe.$defs).reduce((z,te)=>[...z,oe.$defs[te]],[]);yield*re(qf(oe.$ref),[...Pe,...We],Ae)}o(m,"FromImport");function*h(oe,Pe,Ae){yield`Number.isInteger(${Ae})`,Hr(oe.exclusiveMaximum)&&(yield`${Ae} < ${oe.exclusiveMaximum}`),Hr(oe.exclusiveMinimum)&&(yield`${Ae} > ${oe.exclusiveMinimum}`),Hr(oe.maximum)&&(yield`${Ae} <= ${oe.maximum}`),Hr(oe.minimum)&&(yield`${Ae} >= ${oe.minimum}`),Hr(oe.multipleOf)&&(yield`(${Ae} % ${oe.multipleOf}) === 0`)}o(h,"FromInteger");function*p(oe,Pe,Ae){let We=oe.allOf.map(z=>de(z,Pe,Ae)).join(" && ");if(oe.unevaluatedProperties===!1){let z=Ee(`${new RegExp(a1(oe))};`),te=`Object.getOwnPropertyNames(${Ae}).every(key => ${z}.test(key))`;yield`(${We} && ${te})`}else if(Yo(oe.unevaluatedProperties)){let z=Ee(`${new RegExp(a1(oe))};`),te=`Object.getOwnPropertyNames(${Ae}).every(key => ${z}.test(key) || ${de(oe.unevaluatedProperties,Pe,`${Ae}[key]`)})`;yield`(${We} && ${te})`}else yield`(${We})`}o(p,"FromIntersect");function*A(oe,Pe,Ae){yield`(typeof value === 'object' && Symbol.iterator in ${Ae})`}o(A,"FromIterator");function*x(oe,Pe,Ae){typeof oe.const=="number"||typeof oe.const=="boolean"?yield`(${Ae} === ${oe.const})`:yield`(${Ae} === '${wK.Escape(oe.const)}')`}o(x,"FromLiteral");function*E(oe,Pe,Ae){yield"false"}o(E,"FromNever");function*v(oe,Pe,Ae){yield`(!${de(oe.not,Pe,Ae)})`}o(v,"FromNot");function*b(oe,Pe,Ae){yield`(${Ae} === null)`}o(b,"FromNull");function*S(oe,Pe,Ae){yield P3.IsNumberLike(Ae),Hr(oe.exclusiveMaximum)&&(yield`${Ae} < ${oe.exclusiveMaximum}`),Hr(oe.exclusiveMinimum)&&(yield`${Ae} > ${oe.exclusiveMinimum}`),Hr(oe.maximum)&&(yield`${Ae} <= ${oe.maximum}`),Hr(oe.minimum)&&(yield`${Ae} >= ${oe.minimum}`),Hr(oe.multipleOf)&&(yield`(${Ae} % ${oe.multipleOf}) === 0`)}o(S,"FromNumber");function*B(oe,Pe,Ae){yield P3.IsObjectLike(Ae),Hr(oe.minProperties)&&(yield`Object.getOwnPropertyNames(${Ae}).length >= ${oe.minProperties}`),Hr(oe.maxProperties)&&(yield`Object.getOwnPropertyNames(${Ae}).length <= ${oe.maxProperties}`);let We=Object.getOwnPropertyNames(oe.properties);for(let z of We){let te=EP.Encode(Ae,z),Ne=oe.properties[z];if(oe.required&&oe.required.includes(z))yield*re(Ne,Pe,te),(l1(Ne)||t(Ne))&&(yield`('${z}' in ${Ae})`);else{let Se=de(Ne,Pe,te);yield P3.IsExactOptionalProperty(Ae,z,Se)}}if(oe.additionalProperties===!1)if(oe.required&&oe.required.length===We.length)yield`Object.getOwnPropertyNames(${Ae}).length === ${We.length}`;else{let z=`[${We.map(te=>`'${te}'`).join(", ")}]`;yield`Object.getOwnPropertyNames(${Ae}).every(key => ${z}.includes(key))`}if(typeof oe.additionalProperties=="object"){let z=de(oe.additionalProperties,Pe,`${Ae}[key]`),te=`[${We.map(Ne=>`'${Ne}'`).join(", ")}]`;yield`(Object.getOwnPropertyNames(${Ae}).every(key => ${te}.includes(key) || ${z}))`}}o(B,"FromObject");function*P(oe,Pe,Ae){yield`${Ae} instanceof Promise`}o(P,"FromPromise");function*F(oe,Pe,Ae){yield P3.IsRecordLike(Ae),Hr(oe.minProperties)&&(yield`Object.getOwnPropertyNames(${Ae}).length >= ${oe.minProperties}`),Hr(oe.maxProperties)&&(yield`Object.getOwnPropertyNames(${Ae}).length <= ${oe.maxProperties}`);let[We,z]=Object.entries(oe.patternProperties)[0],te=Ee(`${new RegExp(We)}`),Ne=de(z,Pe,"value"),Se=Yo(oe.additionalProperties)?de(oe.additionalProperties,Pe,Ae):oe.additionalProperties===!1?"false":"true",Ce=`(${te}.test(key) ? ${Ne} : ${Se})`;yield`(Object.entries(${Ae}).every(([key, value]) => ${Ce}))`}o(F,"FromRecord");function*q(oe,Pe,Ae){let We=Ni(oe,Pe);if(le.functions.has(oe.$ref))return yield`${Re(oe.$ref)}(${Ae})`;yield*re(We,Pe,Ae)}o(q,"FromRef");function*ne(oe,Pe,Ae){let We=Ee(`${new RegExp(oe.source,oe.flags)};`);yield`(typeof ${Ae} === 'string')`,Hr(oe.maxLength)&&(yield`${Ae}.length <= ${oe.maxLength}`),Hr(oe.minLength)&&(yield`${Ae}.length >= ${oe.minLength}`),yield`${We}.test(${Ae})`}o(ne,"FromRegExp");function*ce(oe,Pe,Ae){yield`(typeof ${Ae} === 'string')`,Hr(oe.maxLength)&&(yield`${Ae}.length <= ${oe.maxLength}`),Hr(oe.minLength)&&(yield`${Ae}.length >= ${oe.minLength}`),oe.pattern!==void 0&&(yield`${Ee(`${new RegExp(oe.pattern)};`)}.test(${Ae})`),oe.format!==void 0&&(yield`format('${oe.format}', ${Ae})`)}o(ce,"FromString");function*Z(oe,Pe,Ae){yield`(typeof ${Ae} === 'symbol')`}o(Z,"FromSymbol");function*G(oe,Pe,Ae){yield`(typeof ${Ae} === 'string')`,yield`${Ee(`${new RegExp(oe.pattern)};`)}.test(${Ae})`}o(G,"FromTemplateLiteral");function*U(oe,Pe,Ae){yield`${Re(oe.$ref)}(${Ae})`}o(U,"FromThis");function*ie(oe,Pe,Ae){if(yield`Array.isArray(${Ae})`,oe.items===void 0)return yield`${Ae}.length === 0`;yield`(${Ae}.length === ${oe.maxItems})`;for(let We=0;We<oe.items.length;We++)yield`${de(oe.items[We],Pe,`${Ae}[${We}]`)}`}o(ie,"FromTuple");function*J(oe,Pe,Ae){yield`${Ae} === undefined`}o(J,"FromUndefined");function*H(oe,Pe,Ae){yield`(${oe.anyOf.map(z=>de(z,Pe,Ae)).join(" || ")})`}o(H,"FromUnion");function*M(oe,Pe,Ae){yield`${Ae} instanceof Uint8Array`,Hr(oe.maxByteLength)&&(yield`(${Ae}.length <= ${oe.maxByteLength})`),Hr(oe.minByteLength)&&(yield`(${Ae}.length >= ${oe.minByteLength})`)}o(M,"FromUint8Array");function*j(oe,Pe,Ae){yield"true"}o(j,"FromUnknown");function*X(oe,Pe,Ae){yield P3.IsVoidLike(Ae)}o(X,"FromVoid");function*ae(oe,Pe,Ae){let We=le.instances.size;le.instances.set(We,oe),yield`kind('${oe[it]}', ${We}, ${Ae})`}o(ae,"FromKind");function*re(oe,Pe,Ae,We=!0){let z=_i(oe.$id)?[...Pe,oe]:Pe,te=oe;if(We&&_i(oe.$id)){let Ne=Re(oe.$id);if(le.functions.has(Ne))return yield`${Ne}(${Ae})`;{le.functions.set(Ne,"<deferred>");let Se=Oe(Ne,oe,Pe,"value",!1);return le.functions.set(Ne,Se),yield`${Ne}(${Ae})`}}switch(te[it]){case"Any":return yield*r(te,z,Ae);case"Argument":return yield*n(te,z,Ae);case"Array":return yield*i(te,z,Ae);case"AsyncIterator":return yield*s(te,z,Ae);case"BigInt":return yield*a(te,z,Ae);case"Boolean":return yield*l(te,z,Ae);case"Constructor":return yield*c(te,z,Ae);case"Date":return yield*u(te,z,Ae);case"Function":return yield*f(te,z,Ae);case"Import":return yield*m(te,z,Ae);case"Integer":return yield*h(te,z,Ae);case"Intersect":return yield*p(te,z,Ae);case"Iterator":return yield*A(te,z,Ae);case"Literal":return yield*x(te,z,Ae);case"Never":return yield*E(te,z,Ae);case"Not":return yield*v(te,z,Ae);case"Null":return yield*b(te,z,Ae);case"Number":return yield*S(te,z,Ae);case"Object":return yield*B(te,z,Ae);case"Promise":return yield*P(te,z,Ae);case"Record":return yield*F(te,z,Ae);case"Ref":return yield*q(te,z,Ae);case"RegExp":return yield*ne(te,z,Ae);case"String":return yield*ce(te,z,Ae);case"Symbol":return yield*Z(te,z,Ae);case"TemplateLiteral":return yield*G(te,z,Ae);case"This":return yield*U(te,z,Ae);case"Tuple":return yield*ie(te,z,Ae);case"Undefined":return yield*J(te,z,Ae);case"Union":return yield*H(te,z,Ae);case"Uint8Array":return yield*M(te,z,Ae);case"Unknown":return yield*j(te,z,Ae);case"Void":return yield*X(te,z,Ae);default:if(!G0.Has(te[it]))throw new SK(oe);return yield*ae(te,z,Ae)}}o(re,"Visit");let le={language:"javascript",functions:new Map,variables:new Map,instances:new Map};function de(oe,Pe,Ae,We=!0){return`(${[...re(oe,Pe,Ae,We)].join(" && ")})`}o(de,"CreateExpression");function Re(oe){return`check_${TK.Encode(oe)}`}o(Re,"CreateFunctionName");function Ee(oe){let Pe=`local_${le.variables.size}`;return le.variables.set(Pe,`const ${Pe} = ${oe}`),Pe}o(Ee,"CreateVariable");function Oe(oe,Pe,Ae,We,z=!0){let[te,Ne]=[`
`,Ve=>"".padStart(Ve," ")],Se=_e("value","any"),Ce=Je("boolean"),Ue=[...re(Pe,Ae,We,z)].map(Ve=>`${Ne(4)}${Ve}`).join(` &&${te}`);return`function ${oe}(${Se})${Ce} {${te}${Ne(2)}return (${te}${Ue}${te}${Ne(2)})
}`}o(Oe,"CreateFunction");function _e(oe,Pe){let Ae=le.language==="typescript"?`: ${Pe}`:"";return`${oe}${Ae}`}o(_e,"CreateParameter");function Je(oe){return le.language==="typescript"?`: ${oe}`:""}o(Je,"CreateReturns");function ut(oe,Pe,Ae){let We=Oe("check",oe,Pe,"value"),z=_e("value","any"),te=Je("boolean"),Ne=[...le.functions.values()],Se=[...le.variables.values()],Ce=_i(oe.$id)?`return function check(${z})${te} {
  return ${Re(oe.$id)}(value)
}`:`return ${We}`;return[...Se,...Ne,Ce].join(`
`)}o(ut,"Build");function ot(...oe){let Pe={language:"javascript"},[Ae,We,z]=oe.length===2&&un(oe[1])?[oe[0],oe[1],Pe]:oe.length===2&&!un(oe[1])?[oe[0],[],oe[1]]:oe.length===3?[oe[0],oe[1],oe[2]]:oe.length===1?[oe[0],[],Pe]:[null,[],Pe];if(le.language=z.language,le.variables.clear(),le.functions.clear(),le.instances.clear(),!Yo(Ae))throw new bP(Ae);for(let te of We)if(!Yo(te))throw new bP(te);return ut(Ae,We,z)}o(ot,"Code"),e.Code=ot;function at(oe,Pe=[]){let Ae=ot(oe,Pe,{language:"javascript"}),We=globalThis.Function("kind","format","hash",Ae),z=new Map(le.instances);function te(Ue,Ve,Ze){if(!G0.Has(Ue)||!z.has(Ve))return!1;let yt=G0.Get(Ue),Dt=z.get(Ve);return yt(Dt,Ze)}o(te,"typeRegistryFunction");function Ne(Ue,Ve){return Am.Has(Ue)?Am.Get(Ue)(Ve):!1}o(Ne,"formatRegistryFunction");function Se(Ue){return p5(Ue)}o(Se,"hashFunction");let Ce=We(te,Ne,Se);return new IK(oe,Pe,Ce,Ae)}o(at,"Compile"),e.Compile=at})(Ds||(Ds={}));var TP=tt(Y2());d();d();var Wl=[];for(let e=0;e<256;++e)Wl.push((e+256).toString(16).slice(1));function E2e(e,t=0){return(Wl[e[t+0]]+Wl[e[t+1]]+Wl[e[t+2]]+Wl[e[t+3]]+"-"+Wl[e[t+4]]+Wl[e[t+5]]+"-"+Wl[e[t+6]]+Wl[e[t+7]]+"-"+Wl[e[t+8]]+Wl[e[t+9]]+"-"+Wl[e[t+10]]+Wl[e[t+11]]+Wl[e[t+12]]+Wl[e[t+13]]+Wl[e[t+14]]+Wl[e[t+15]]).toLowerCase()}o(E2e,"unsafeStringify");d();var b2e=require("crypto");var IP=new Uint8Array(256),vP=IP.length;function _K(){return vP>IP.length-16&&((0,b2e.randomFillSync)(IP),vP=0),IP.slice(vP,vP+=16)}o(_K,"rng");d();d();var v2e=require("crypto"),kK={randomUUID:v2e.randomUUID};function TXe(e,t,r){if(kK.randomUUID&&!t&&!e)return kK.randomUUID();e=e||{};let n=e.random??e.rng?.()??_K();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){if(r=r||0,r<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let i=0;i<16;++i)t[r+i]=n[i];return t}return E2e(n)}o(TXe,"v4");var Tr=TXe;var wP=tt(Vn());function av(e){return e===1}o(av,"isRestricted");var wXe=["engine.prompt","engine.completion","ghostText.capturedAfterAccepted","ghostText.capturedAfterRejected"],cT=8192,SXe=21;var ys=class{static{o(this,"TelemetryReporters")}getReporter(t,r=0){return av(r)?this.getRestrictedReporter(t):this.reporter}getRestrictedReporter(t){if(SP(t))return this.reporterRestricted;if(ev(t))return new sT}getFTReporter(t){if(T2e(t))return this.reporterFT;if(ev(t))return new sT}setReporter(t){this.reporter=t}setRestrictedReporter(t){this.reporterRestricted=t}setFTReporter(t){this.reporterFT=t}async deactivate(){let t=Promise.resolve();this.reporter&&(t=this.reporter.dispose(),this.reporter=void 0);let r=Promise.resolve();this.reporterRestricted&&(r=this.reporterRestricted.dispose(),this.reporterRestricted=void 0);let n=Promise.resolve();this.reporterFT&&(n=this.reporterFT.dispose(),this.reporterFT=void 0),await Promise.all([t,r,n])}},_Xe=I.Object({},{additionalProperties:I.String()}),kXe=I.Object({meanLogProb:I.Optional(I.Number()),meanAlternativeLogProb:I.Optional(I.Number())},{additionalProperties:I.Number()}),BXe=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function RXe(e){return BXe.has(e.code??"")||e.name==="RangeError"&&e.message==="WebAssembly.Memory(): could not allocate memory"}o(RXe,"isOomError");function DXe(e){return R7(e)?"network":RXe(e)||e.code==="EMFILE"||e.code==="ENFILE"||e.syscall==="uv_cwd"&&(e.code==="ENOENT"||e.code=="EIO")||e.code==="CopilotPromptLoadFailure"||`${e.code}`.startsWith("CopilotPromptWorkerExit")?"local":"exception"}o(DXe,"getErrorType");var rn=class e{static{o(this,"TelemetryData")}static{this.validateTelemetryProperties=Ds.Compile(_Xe)}static{this.validateTelemetryMeasurements=Ds.Compile(kXe)}static{this.keysExemptedFromSanitization=["abexp.assignmentcontext","VSCode.ABExp.Features"]}constructor(t,r,n){this.properties=t,this.measurements=r,this.issuedTime=n}static createAndMarkAsIssued(t,r){return new e(t||{},r||{},qs())}extendedBy(t,r){let n={...this.properties,...t},i={...this.measurements,...r},s=new e(n,i,this.issuedTime);return s.displayedTime=this.displayedTime,s}markAsDisplayed(){this.displayedTime===void 0&&(this.displayedTime=qs())}async extendWithExpTelemetry(t){let{filters:r,exp:n}=await t.get(ar).getFallbackExpAndFilters();n.addToTelemetry(this),r.addToTelemetry(this)}extendWithEditorAgnosticFields(t){this.properties.editor_version=fp(t.get(an).getEditorInfo()),this.properties.editor_plugin_version=fp(t.get(an).getEditorPluginInfo());let r=t.get(ms);this.properties.client_machineid=r.machineId,this.properties.client_sessionid=r.sessionId,this.properties.copilot_version=`copilot/${N3(t)}`,this.properties.runtime_version=`node/${process.versions.node}`;let n=t.get(an);this.properties.common_extname=n.getEditorPluginInfo().name,this.properties.common_extversion=n.getEditorPluginInfo().version,this.properties.common_vscodeversion=fp(n.getEditorInfo());let i=t.get(Nr);this.properties.fetcher=i.name;let s=i.proxySettings;this.properties.proxy_enabled=s?"true":"false",this.properties.proxy_auth=s?.proxyAuth?"true":"false",this.properties.proxy_kerberos_spn=s?.kerberosServicePrincipal?"true":"false",this.properties.reject_unauthorized=i.rejectUnauthorized?"true":"false"}extendWithConfigProperties(t){let r=B2e(t);r["copilot.build"]=R2e(t),r["copilot.buildType"]=zf(t),this.properties={...this.properties,...r}}extendWithRequestId(t){let r={completionId:t.completionId,created:t.created.toString(),headerRequestId:t.headerRequestId,serverExperiments:t.serverExperiments,deploymentId:t.deploymentId};this.properties={...this.properties,...r}}static{this.keysToRemoveFromStandardTelemetryHack=["gitRepoHost","gitRepoName","gitRepoOwner","gitRepoUrl","gitRepoPath","repo","request_option_nwo","userKind"]}static maybeRemoveRepoInfoFromPropertiesHack(t,r){if(av(t))return r;let n={};for(let i in r)e.keysToRemoveFromStandardTelemetryHack.includes(i)||(n[i]=r[i]);return n}sanitizeKeys(){this.properties=e.sanitizeKeys(this.properties),this.measurements=e.sanitizeKeys(this.measurements);for(let t in this.measurements)isNaN(this.measurements[t])&&delete this.measurements[t]}multiplexProperties(){this.properties=e.multiplexProperties(this.properties)}static sanitizeKeys(t){t=t||{};let r={};for(let n in t){let i=e.keysExemptedFromSanitization.includes(n)?n:n.replace(/\./g,"_");r[i]=t[n]}return r}static multiplexProperties(t){let r={...t};for(let n in t){let i=t[n],s=i?.length??0;if(s>cT){let a=0,l=0;for(;s>0&&l<SXe;){l+=1;let c=n;l>1&&(c=n+"_"+(l<10?"0":"")+l);let u=a+cT;s<cT&&(u=a+s),r[c]=i.slice(a,u),s-=cT,a+=cT}}}return r}updateMeasurements(t){let r=t-this.issuedTime;if(this.measurements.timeSinceIssuedMs=r,this.displayedTime!==void 0){let n=t-this.displayedTime;this.measurements.timeSinceDisplayedMs=n}this.measurements.current_time===void 0&&(this.measurements.current_time=NXe(t))}validateData(t,r){let n;if(e.validateTelemetryProperties.Check(this.properties)||(n={problem:"properties",error:JSON.stringify([...e.validateTelemetryProperties.Errors(this.properties)])}),!e.validateTelemetryMeasurements.Check(this.measurements)){let i=JSON.stringify([...e.validateTelemetryMeasurements.Errors(this.measurements)]);n===void 0?n={problem:"measurements",error:i}:(n.problem="both",n.error+=`; ${i}`)}if(n===void 0)return!0;if(ev(t))throw new Error(`Invalid telemetry data: ${n.problem} ${n.error} properties=${JSON.stringify(this.properties)} measurements=${JSON.stringify(this.measurements)}`);return F3(t,"invalidTelemetryData",e.createAndMarkAsIssued({properties:JSON.stringify(this.properties),measurements:JSON.stringify(this.measurements),problem:n.problem,validationError:n.error}),r),av(r)&&F3(t,"invalidTelemetryData_in_secure",e.createAndMarkAsIssued({problem:n.problem,requestId:this.properties.requestId??"unknown"}),0),!1}async makeReadyForSending(t,r,n,i){this.extendWithConfigProperties(t),this.extendWithEditorAgnosticFields(t),this.sanitizeKeys(),this.multiplexProperties(),n==="IncludeExp"&&await this.extendWithExpTelemetry(t),this.updateMeasurements(i),this.validateData(t,r)||(this.properties.telemetry_failed_validation="true"),Object.assign(this.properties,w2e(t))}},h1=class e extends rn{static{o(this,"TelemetryWithExp")}constructor(t,r,n,i){super(t,r,n),this.filtersAndExp=i}extendedBy(t,r){let n={...this.properties,...t},i={...this.measurements,...r},s=new e(n,i,this.issuedTime,this.filtersAndExp);return s.displayedTime=this.displayedTime,s}async extendWithExpTelemetry(t){this.filtersAndExp.exp.addToTelemetry(this),this.filtersAndExp.filters.addToTelemetry(this)}static createEmptyConfigForTesting(){return new e({},{},0,{filters:new p3({}),exp:$f.createEmptyConfig()})}};function uT(e,t,r,n){e.get(ys).getReporter(e,t)?.sendTelemetryEvent(r,rn.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(uT,"sendTelemetryEvent");function PXe(e,t,r,n){e.get(ys).getReporter(e,t)?.sendTelemetryErrorEvent(r,rn.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(PXe,"sendTelemetryErrorEvent");function FXe(e,t,r,n){e.get(ys).getFTReporter(e)?.sendTelemetryEvent(r,rn.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(FXe,"sendFTTelemetryEvent");function lv(e){return e.isFimEnabled?{promptPrefixCharLen:e.prefix.length,promptSuffixCharLen:e.suffix.length}:{promptCharLen:e.prefix.length}}o(lv,"telemetrizePromptLength");function qs(){return performance.now()}o(qs,"now");function NXe(e){return Math.floor(e/1e3)}o(NXe,"nowSeconds");function SP(e){return e.get(Ul).optedIn}o(SP,"shouldSendRestricted");function T2e(e){return e.get(Ul).ftFlag!==""}o(T2e,"shouldSendFinetuningTelemetry");function Gt(e,t,r,n){return e.get(yo).register(LXe(e,t,qs(),r?.extendedBy(),n))}o(Gt,"telemetry");async function LXe(e,t,r,n,i=0){let s=n||rn.createAndMarkAsIssued({},{});await s.makeReadyForSending(e,i??!1,"IncludeExp",r),(!av(i)||SP(e))&&uT(e,i,t,s),av(i)&&wXe.includes(t)&&T2e(e)&&FXe(e,i,t,s)}o(LXe,"_telemetry");function _P(e,t){return e.get(yo).register(QXe(e,t,qs()))}o(_P,"telemetryExpProblem");async function QXe(e,t,r){let n="expProblem",i=rn.createAndMarkAsIssued(t,{});await i.makeReadyForSending(e,0,"SkipExp",r),uT(e,0,n,i)}o(QXe,"_telemetryExpProblem");function cv(e,t,r,n){return e.get(yo).register(MXe(e,t,r,n))}o(cv,"telemetryRaw");async function MXe(e,t,r,n){let i={...r,...w2e(e)};uT(e,0,t,{properties:i,measurements:n})}o(MXe,"_telemetryRaw");function w2e(e){let t=e.get(an),r={unique_id:Tr(),common_extname:t.getEditorPluginInfo().name,common_extversion:t.getEditorPluginInfo().version,common_vscodeversion:fp(t.getEditorInfo())},n=e.get(Ul);return n.trackingId&&(r.copilot_trackingId=n.trackingId),n.organizationsList&&(r.organizations_list=n.organizationsList),n.enterpriseList&&(r.enterprise_list=n.enterpriseList),n.sku&&(r.sku=n.sku),r}o(w2e,"createRequiredProperties");var BK=class extends Error{static{o(this,"CopilotNonError")}constructor(t){let r;try{r=JSON.stringify(t)}catch{r=String(t)}super(r),this.name="CopilotNonError",this.code=(0,TP.SHA256)(TP.enc.Utf16.parse(this.message)).toString().slice(0,16)}};function Qo(e,t,r,n,i){return e.get(yo).register(S2e(e,t,qs(),r,{...n},i))}o(Qo,"telemetryException");async function S2e(e,t,r,n,i,s){let a;if(t instanceof Error){if(a=t,a.name==="Canceled"&&a.message==="Canceled"||a.name==="CodeExpectedError"||a instanceof Ms||a instanceof wP.ConnectionError||a instanceof wP.ResponseError)return}else{if(a=new BK(t),t&&typeof t=="object"&&t.name==="ExitStatus")return;if(a.stack?.startsWith(`${a}
`)){let x=a.stack.slice(`${a}
`.length).split(`
`);/^\s*(?:at )?(?:\w+\.)*_telemetryException\b/.test(x[0]??"")&&x.shift(),/^\s*(?:at )?(?:\w+\.)*telemetryException\b/.test(x[0]??"")&&x.shift(),a.stack=`${a}
${x.join(`
`)}`}}let l=e.get(an).getEditorInfo(),c;l.root&&(c=[{prefix:`${l.name}:`,path:l.root}]);let u=gK(a,c),f=SP(e),m=DXe(a),h=m==="exception",p=rn.createAndMarkAsIssued({origin:n??"",type:a.name,code:`${a.code??""}`,reason:u.stack||u.toString(),message:u.message,...i});if(await p.makeReadyForSending(e,0,"IncludeExp",r),s?.exception_detail)for(let x of s.exception_detail)x.value&&(f?x.value=hK(x.value):x.value="[redacted]");if(s??=s2e(e,gK(a,c,f)),s.context={...s.context,"copilot_event.unique_id":p.properties.unique_id,"#restricted_telemetry":f?"true":"false"},n&&(s.context["#origin"]=n,s.transaction=n),s.rollup_id!=="auto"&&(p.properties.errno=s.rollup_id),s.created_at=new Date(p.issuedTime).toISOString(),f){let x=g2e(a,c),E=rn.createAndMarkAsIssued({origin:n??"",type:a.name,code:`${a.code??""}`,reason:x.stack||x.toString(),message:x.message,...i});s.rollup_id!=="auto"&&(E.properties.errno=s.rollup_id),await E.makeReadyForSending(e,1,"IncludeExp",r),E.properties.unique_id=p.properties.unique_id,p.properties.restricted_unique_id=E.properties.unique_id,uT(e,1,`error.${m}`,E)}let A=s.rollup_id==="auto"?a.stack??"":s.rollup_id;h&&!e.get(dp).isThrottled(A)&&(p.properties.failbot_payload=JSON.stringify(s)),uT(e,0,`error.${m}`,p)}o(S2e,"_telemetryException");function _u(e,t,r,n){let i=o(async(...s)=>{try{await t(...s)}catch(a){await S2e(e,a,qs(),r,n)}},"wrapped");return(...s)=>e.get(yo).register(i(...s))}o(_u,"telemetryCatch");function F3(e,t,r,n){return e.get(yo).register(OXe(e,t,qs(),r?.extendedBy(),n))}o(F3,"telemetryError");async function OXe(e,t,r,n,i=0){if(av(i)&&!SP(e))return;let s=n||rn.createAndMarkAsIssued({},{});await s.makeReadyForSending(e,i,"IncludeExp",r),PXe(e,i,t,s)}o(OXe,"_telemetryError");function _2e(e,t,r,n,i){let s=rn.createAndMarkAsIssued({completionTextJson:JSON.stringify(t),choiceIndex:i.toString()});if(r.logprobs)for(let[a,l]of Object.entries(r.logprobs))s.properties["logprobs_"+a]=JSON.stringify(l)??"unset";return s.extendWithRequestId(n),Gt(e,"engine.completion",s,1)}o(_2e,"logEngineCompletion");function k2e(e,t,r){let n;t.isFimEnabled?n={promptPrefixJson:JSON.stringify(t.prefix),promptSuffixJson:JSON.stringify(t.suffix),promptElementRanges:JSON.stringify(t.promptElementRanges)}:n={promptJson:JSON.stringify(t.prefix),promptElementRanges:JSON.stringify(t.promptElementRanges)};let i=r.extendedBy(n);return Gt(e,"engine.prompt",i,1)}o(k2e,"logEnginePrompt");var $f=class e{static{o(this,"ExpConfig")}constructor(t,r,n){this.variables=t,this.assignmentContext=r,this.features=n}static createFallbackConfig(t,r){return _P(t,{reason:r}),this.createEmptyConfig()}static createEmptyConfig(){return new e({},"","")}addToTelemetry(t){t.properties["VSCode.ABExp.Features"]=this.features,t.properties["abexp.assignmentcontext"]=this.assignmentContext}};d();d();d();var F2e=require("os"),BP=require("path");d();var D2e;(()=>{"use strict";var e={975:G=>{function U(H){if(typeof H!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(H))}o(U,"e");function ie(H,M){for(var j,X="",ae=0,re=-1,le=0,de=0;de<=H.length;++de){if(de<H.length)j=H.charCodeAt(de);else{if(j===47)break;j=47}if(j===47){if(!(re===de-1||le===1))if(re!==de-1&&le===2){if(X.length<2||ae!==2||X.charCodeAt(X.length-1)!==46||X.charCodeAt(X.length-2)!==46){if(X.length>2){var Re=X.lastIndexOf("/");if(Re!==X.length-1){Re===-1?(X="",ae=0):ae=(X=X.slice(0,Re)).length-1-X.lastIndexOf("/"),re=de,le=0;continue}}else if(X.length===2||X.length===1){X="",ae=0,re=de,le=0;continue}}M&&(X.length>0?X+="/..":X="..",ae=2)}else X.length>0?X+="/"+H.slice(re+1,de):X=H.slice(re+1,de),ae=de-re-1;re=de,le=0}else j===46&&le!==-1?++le:le=-1}return X}o(ie,"r");var J={resolve:o(function(){for(var H,M="",j=!1,X=arguments.length-1;X>=-1&&!j;X--){var ae;X>=0?ae=arguments[X]:(H===void 0&&(H=process.cwd()),ae=H),U(ae),ae.length!==0&&(M=ae+"/"+M,j=ae.charCodeAt(0)===47)}return M=ie(M,!j),j?M.length>0?"/"+M:"/":M.length>0?M:"."},"resolve"),normalize:o(function(H){if(U(H),H.length===0)return".";var M=H.charCodeAt(0)===47,j=H.charCodeAt(H.length-1)===47;return(H=ie(H,!M)).length!==0||M||(H="."),H.length>0&&j&&(H+="/"),M?"/"+H:H},"normalize"),isAbsolute:o(function(H){return U(H),H.length>0&&H.charCodeAt(0)===47},"isAbsolute"),join:o(function(){if(arguments.length===0)return".";for(var H,M=0;M<arguments.length;++M){var j=arguments[M];U(j),j.length>0&&(H===void 0?H=j:H+="/"+j)}return H===void 0?".":J.normalize(H)},"join"),relative:o(function(H,M){if(U(H),U(M),H===M||(H=J.resolve(H))===(M=J.resolve(M)))return"";for(var j=1;j<H.length&&H.charCodeAt(j)===47;++j);for(var X=H.length,ae=X-j,re=1;re<M.length&&M.charCodeAt(re)===47;++re);for(var le=M.length-re,de=ae<le?ae:le,Re=-1,Ee=0;Ee<=de;++Ee){if(Ee===de){if(le>de){if(M.charCodeAt(re+Ee)===47)return M.slice(re+Ee+1);if(Ee===0)return M.slice(re+Ee)}else ae>de&&(H.charCodeAt(j+Ee)===47?Re=Ee:Ee===0&&(Re=0));break}var Oe=H.charCodeAt(j+Ee);if(Oe!==M.charCodeAt(re+Ee))break;Oe===47&&(Re=Ee)}var _e="";for(Ee=j+Re+1;Ee<=X;++Ee)Ee!==X&&H.charCodeAt(Ee)!==47||(_e.length===0?_e+="..":_e+="/..");return _e.length>0?_e+M.slice(re+Re):(re+=Re,M.charCodeAt(re)===47&&++re,M.slice(re))},"relative"),_makeLong:o(function(H){return H},"_makeLong"),dirname:o(function(H){if(U(H),H.length===0)return".";for(var M=H.charCodeAt(0),j=M===47,X=-1,ae=!0,re=H.length-1;re>=1;--re)if((M=H.charCodeAt(re))===47){if(!ae){X=re;break}}else ae=!1;return X===-1?j?"/":".":j&&X===1?"//":H.slice(0,X)},"dirname"),basename:o(function(H,M){if(M!==void 0&&typeof M!="string")throw new TypeError('"ext" argument must be a string');U(H);var j,X=0,ae=-1,re=!0;if(M!==void 0&&M.length>0&&M.length<=H.length){if(M.length===H.length&&M===H)return"";var le=M.length-1,de=-1;for(j=H.length-1;j>=0;--j){var Re=H.charCodeAt(j);if(Re===47){if(!re){X=j+1;break}}else de===-1&&(re=!1,de=j+1),le>=0&&(Re===M.charCodeAt(le)?--le==-1&&(ae=j):(le=-1,ae=de))}return X===ae?ae=de:ae===-1&&(ae=H.length),H.slice(X,ae)}for(j=H.length-1;j>=0;--j)if(H.charCodeAt(j)===47){if(!re){X=j+1;break}}else ae===-1&&(re=!1,ae=j+1);return ae===-1?"":H.slice(X,ae)},"basename"),extname:o(function(H){U(H);for(var M=-1,j=0,X=-1,ae=!0,re=0,le=H.length-1;le>=0;--le){var de=H.charCodeAt(le);if(de!==47)X===-1&&(ae=!1,X=le+1),de===46?M===-1?M=le:re!==1&&(re=1):M!==-1&&(re=-1);else if(!ae){j=le+1;break}}return M===-1||X===-1||re===0||re===1&&M===X-1&&M===j+1?"":H.slice(M,X)},"extname"),format:o(function(H){if(H===null||typeof H!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof H);return function(M,j){var X=j.dir||j.root,ae=j.base||(j.name||"")+(j.ext||"");return X?X===j.root?X+ae:X+"/"+ae:ae}(0,H)},"format"),parse:o(function(H){U(H);var M={root:"",dir:"",base:"",ext:"",name:""};if(H.length===0)return M;var j,X=H.charCodeAt(0),ae=X===47;ae?(M.root="/",j=1):j=0;for(var re=-1,le=0,de=-1,Re=!0,Ee=H.length-1,Oe=0;Ee>=j;--Ee)if((X=H.charCodeAt(Ee))!==47)de===-1&&(Re=!1,de=Ee+1),X===46?re===-1?re=Ee:Oe!==1&&(Oe=1):re!==-1&&(Oe=-1);else if(!Re){le=Ee+1;break}return re===-1||de===-1||Oe===0||Oe===1&&re===de-1&&re===le+1?de!==-1&&(M.base=M.name=le===0&&ae?H.slice(1,de):H.slice(le,de)):(le===0&&ae?(M.name=H.slice(1,re),M.base=H.slice(1,de)):(M.name=H.slice(le,re),M.base=H.slice(le,de)),M.ext=H.slice(re,de)),le>0?M.dir=H.slice(0,le-1):ae&&(M.dir="/"),M},"parse"),sep:"/",delimiter:":",win32:null,posix:null};J.posix=J,G.exports=J}},t={};function r(G){var U=t[G];if(U!==void 0)return U.exports;var ie=t[G]={exports:{}};return e[G](ie,ie.exports,r),ie.exports}o(r,"r"),r.d=(G,U)=>{for(var ie in U)r.o(U,ie)&&!r.o(G,ie)&&Object.defineProperty(G,ie,{enumerable:!0,get:U[ie]})},r.o=(G,U)=>Object.prototype.hasOwnProperty.call(G,U),r.r=G=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(G,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(G,"__esModule",{value:!0})};var n={};let i;r.r(n),r.d(n,{URI:o(()=>h,"URI"),Utils:o(()=>Z,"Utils")}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);let s=/^\w[\w\d+.-]*$/,a=/^\//,l=/^\/\//;function c(G,U){if(!G.scheme&&U)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${G.authority}", path: "${G.path}", query: "${G.query}", fragment: "${G.fragment}"}`);if(G.scheme&&!s.test(G.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(G.path){if(G.authority){if(!a.test(G.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(l.test(G.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}o(c,"a");let u="",f="/",m=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class h{static{o(this,"l")}static isUri(U){return U instanceof h||!!U&&typeof U.authority=="string"&&typeof U.fragment=="string"&&typeof U.path=="string"&&typeof U.query=="string"&&typeof U.scheme=="string"&&typeof U.fsPath=="string"&&typeof U.with=="function"&&typeof U.toString=="function"}scheme;authority;path;query;fragment;constructor(U,ie,J,H,M,j=!1){typeof U=="object"?(this.scheme=U.scheme||u,this.authority=U.authority||u,this.path=U.path||u,this.query=U.query||u,this.fragment=U.fragment||u):(this.scheme=function(X,ae){return X||ae?X:"file"}(U,j),this.authority=ie||u,this.path=function(X,ae){switch(X){case"https":case"http":case"file":ae?ae[0]!==f&&(ae=f+ae):ae=f}return ae}(this.scheme,J||u),this.query=H||u,this.fragment=M||u,c(this,j))}get fsPath(){return b(this,!1)}with(U){if(!U)return this;let{scheme:ie,authority:J,path:H,query:M,fragment:j}=U;return ie===void 0?ie=this.scheme:ie===null&&(ie=u),J===void 0?J=this.authority:J===null&&(J=u),H===void 0?H=this.path:H===null&&(H=u),M===void 0?M=this.query:M===null&&(M=u),j===void 0?j=this.fragment:j===null&&(j=u),ie===this.scheme&&J===this.authority&&H===this.path&&M===this.query&&j===this.fragment?this:new A(ie,J,H,M,j)}static parse(U,ie=!1){let J=m.exec(U);return J?new A(J[2]||u,F(J[4]||u),F(J[5]||u),F(J[7]||u),F(J[9]||u),ie):new A(u,u,u,u,u)}static file(U){let ie=u;if(i&&(U=U.replace(/\\/g,f)),U[0]===f&&U[1]===f){let J=U.indexOf(f,2);J===-1?(ie=U.substring(2),U=f):(ie=U.substring(2,J),U=U.substring(J)||f)}return new A("file",ie,U,u,u)}static from(U){let ie=new A(U.scheme,U.authority,U.path,U.query,U.fragment);return c(ie,!0),ie}toString(U=!1){return S(this,U)}toJSON(){return this}static revive(U){if(U){if(U instanceof h)return U;{let ie=new A(U);return ie._formatted=U.external,ie._fsPath=U._sep===p?U.fsPath:null,ie}}return U}}let p=i?1:void 0;class A extends h{static{o(this,"d")}_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=b(this,!1)),this._fsPath}toString(U=!1){return U?S(this,!0):(this._formatted||(this._formatted=S(this,!1)),this._formatted)}toJSON(){let U={$mid:1};return this._fsPath&&(U.fsPath=this._fsPath,U._sep=p),this._formatted&&(U.external=this._formatted),this.path&&(U.path=this.path),this.scheme&&(U.scheme=this.scheme),this.authority&&(U.authority=this.authority),this.query&&(U.query=this.query),this.fragment&&(U.fragment=this.fragment),U}}let x={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function E(G,U,ie){let J,H=-1;for(let M=0;M<G.length;M++){let j=G.charCodeAt(M);if(j>=97&&j<=122||j>=65&&j<=90||j>=48&&j<=57||j===45||j===46||j===95||j===126||U&&j===47||ie&&j===91||ie&&j===93||ie&&j===58)H!==-1&&(J+=encodeURIComponent(G.substring(H,M)),H=-1),J!==void 0&&(J+=G.charAt(M));else{J===void 0&&(J=G.substr(0,M));let X=x[j];X!==void 0?(H!==-1&&(J+=encodeURIComponent(G.substring(H,M)),H=-1),J+=X):H===-1&&(H=M)}}return H!==-1&&(J+=encodeURIComponent(G.substring(H))),J!==void 0?J:G}o(E,"m");function v(G){let U;for(let ie=0;ie<G.length;ie++){let J=G.charCodeAt(ie);J===35||J===63?(U===void 0&&(U=G.substr(0,ie)),U+=x[J]):U!==void 0&&(U+=G[ie])}return U!==void 0?U:G}o(v,"y");function b(G,U){let ie;return ie=G.authority&&G.path.length>1&&G.scheme==="file"?`//${G.authority}${G.path}`:G.path.charCodeAt(0)===47&&(G.path.charCodeAt(1)>=65&&G.path.charCodeAt(1)<=90||G.path.charCodeAt(1)>=97&&G.path.charCodeAt(1)<=122)&&G.path.charCodeAt(2)===58?U?G.path.substr(1):G.path[1].toLowerCase()+G.path.substr(2):G.path,i&&(ie=ie.replace(/\//g,"\\")),ie}o(b,"v");function S(G,U){let ie=U?v:E,J="",{scheme:H,authority:M,path:j,query:X,fragment:ae}=G;if(H&&(J+=H,J+=":"),(M||H==="file")&&(J+=f,J+=f),M){let re=M.indexOf("@");if(re!==-1){let le=M.substr(0,re);M=M.substr(re+1),re=le.lastIndexOf(":"),re===-1?J+=ie(le,!1,!1):(J+=ie(le.substr(0,re),!1,!1),J+=":",J+=ie(le.substr(re+1),!1,!0)),J+="@"}M=M.toLowerCase(),re=M.lastIndexOf(":"),re===-1?J+=ie(M,!1,!0):(J+=ie(M.substr(0,re),!1,!0),J+=M.substr(re))}if(j){if(j.length>=3&&j.charCodeAt(0)===47&&j.charCodeAt(2)===58){let re=j.charCodeAt(1);re>=65&&re<=90&&(j=`/${String.fromCharCode(re+32)}:${j.substr(3)}`)}else if(j.length>=2&&j.charCodeAt(1)===58){let re=j.charCodeAt(0);re>=65&&re<=90&&(j=`${String.fromCharCode(re+32)}:${j.substr(2)}`)}J+=ie(j,!0,!1)}return X&&(J+="?",J+=ie(X,!1,!1)),ae&&(J+="#",J+=U?ae:E(ae,!1,!1)),J}o(S,"b");function B(G){try{return decodeURIComponent(G)}catch{return G.length>3?G.substr(0,3)+B(G.substr(3)):G}}o(B,"C");let P=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function F(G){return G.match(P)?G.replace(P,U=>B(U)):G}o(F,"w");var q=r(975);let ne=q.posix||q,ce="/";var Z;(function(G){G.joinPath=function(U,...ie){return U.with({path:ne.join(U.path,...ie)})},G.resolvePath=function(U,...ie){let J=U.path,H=!1;J[0]!==ce&&(J=ce+J,H=!0);let M=ne.resolve(J,...ie);return H&&M[0]===ce&&!U.authority&&(M=M.substring(1)),U.with({path:M})},G.dirname=function(U){if(U.path.length===0||U.path===ce)return U;let ie=ne.dirname(U.path);return ie.length===1&&ie.charCodeAt(0)===46&&(ie=""),U.with({path:ie})},G.basename=function(U){return ne.basename(U.path)},G.extname=function(U){return ne.extname(U.path)}})(Z||(Z={})),D2e=n})();var{URI:A5,Utils:kP}=D2e;function N2e(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substring(0,3)+N2e(e.substring(3)):e}}o(N2e,"decodeURIComponentGraceful");var P2e=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function RK(e){return e.match(P2e)?e.replace(P2e,t=>N2e(t)):e}o(RK,"percentDecode");function Gl(e){if(/^[A-Za-z][A-Za-z0-9+.-]+:/.test(e))throw new Error("Path must not contain a scheme");if(!e)throw new Error("Path must not be empty");return A5.file(e).toString()}o(Gl,"makeFsUri");function uv(e){if(typeof e!="string"&&(e=e.uri),/^[A-Za-z]:\\/.test(e))throw new Error(`Could not parse <${e}>: Windows-style path`);try{let t=e.match(/^(?:([^:/?#]+?:)?\/\/)(\/\/.*)$/);return t?A5.parse(t[1]+t[2],!0):A5.parse(e,!0)}catch(t){throw new Error(`Could not parse <${e}>`,{cause:t})}}o(uv,"parseUri");function L2e(e){return uv(e),e}o(L2e,"validateUri");function Hl(e){try{return uv(e).toString()}catch{return e}}o(Hl,"normalizeUri");var Q2e=new Set(["file","notebook","vscode-notebook","vscode-notebook-cell"]);function Yf(e){let t=uv(e);if(!Q2e.has(t.scheme))throw new Error(`Unsupported scheme: ${t.scheme}`);if((0,F2e.platform)()==="win32"){let r=t.path;return t.authority?r=`//${t.authority}${t.path}`:/^\/[A-Za-z]:/.test(r)&&(r=r.substring(1)),(0,BP.normalize)(r)}else{if(t.authority)throw new Error("Unsupported remote file path");return t.path}}o(Yf,"fsPath");function Ws(e){try{return Yf(e)}catch{return}}o(Ws,"getFsPath");function M2e(e){let t=Ws(e);if(t)return A5.file(t).toString()}o(M2e,"getFsUri");function L3(e,...t){let r,n=Ws(e);return n?r=Gl((0,BP.resolve)(n,...t)):r=kP.resolvePath(uv(e),...t.map(i=>O2e(i))).toString(),typeof e=="string"?r:{uri:r}}o(L3,"resolveFilePath");function Jo(e,...t){let r=kP.joinPath(uv(e),...t.map(O2e)).toString();return typeof e=="string"?r:{uri:r}}o(Jo,"joinPath");function O2e(e){return UXe(e)?e.replaceAll("\\","/"):e}o(O2e,"pathToURIPath");function UXe(e){return/^[^/\\]*\\/.test(e)}o(UXe,"isWinPath");function _o(e){return RK((typeof e=="string"?e:e.uri).replace(/[#?].*$/,"").replace(/\/$/,"").replace(/^.*[/:]/,""))}o(_o,"basename");function Bu(e){let t=kP.dirname(uv(e)),r;return Q2e.has(t.scheme)&&t.scheme!=="file"?r=t.with({scheme:"file",fragment:""}).toString():r=t.toString(),typeof e=="string"?r:{uri:r}}o(Bu,"dirname");var Dn=class{static{o(this,"NetworkConfiguration")}},RP={api:"https://api.githubcopilot.com",proxy:"https://copilot-proxy.githubusercontent.com",telemetry:"https://copilot-telemetry.githubusercontent.com","origin-tracker":"https://origin-tracker.githubusercontent.com"};function DK(e,t,r){if(r&&vm(e)){for(let n of r){let i=Qn(e,n);if(i)return i}return}for(let n of t){let i=Qn(e,n);if(i)return i}}o(DK,"urlConfigOverride");function qXe(e,t){switch(t){case"api":return DK(e,[kt.DebugOverrideCapiUrl,kt.DebugOverrideCapiUrlLegacy],[kt.DebugTestOverrideCapiUrl,kt.DebugTestOverrideCapiUrlLegacy]);case"proxy":return DK(e,[kt.DebugOverrideProxyUrl,kt.DebugOverrideProxyUrlLegacy],[kt.DebugTestOverrideProxyUrl,kt.DebugTestOverrideProxyUrlLegacy]);case"origin-tracker":if(!DP(e))return DK(e,[kt.DebugSnippyOverrideUrl])}}o(qXe,"getEndpointOverrideUrl");function fv(e,t,r,...n){let i=qXe(e,r)??(t.envelope.endpoints??RP)[r];return Jo(i,...n)}o(fv,"getEndpointUrl");var wm=class{static{o(this,"ExpConfigMaker")}},fT=class extends wm{constructor(r="",n={}){super();this.overrideTASUrl=r;this.defaultFilters=n}static{o(this,"ExpConfigFromTAS")}async fetchExperiments(r,n){let i=r.get(Nr),s=Object.keys(n).length===0?this.defaultFilters:n,a=this.overrideTASUrl.length===0?r.get(Dn).getExperimentationUrl():this.overrideTASUrl,l;try{l=await i.fetch(a,{method:"GET",headers:s,timeout:5e3})}catch(m){return $f.createFallbackConfig(r,`Error fetching ExP config: ${String(m)}`)}if(!l.ok)return $f.createFallbackConfig(r,`ExP responded with ${l.status}`);let c;try{c=await l.json()}catch(m){if(m instanceof SyntaxError)return Qo(r,m,"fetchExperiments"),$f.createFallbackConfig(r,"ExP responded with invalid JSON");throw m}let u=c.Configs.find(m=>m.Id==="vscode")??{Id:"vscode",Parameters:{}},f=Object.entries(u.Parameters).map(([m,h])=>m+(h?"":"cf"));return new $f(u.Parameters,c.AssignmentContext,f.join(";"))}},PP=class extends wm{static{o(this,"ExpConfigNone")}async fetchExperiments(t,r){return $f.createEmptyConfig()}};d();d();var FP=class{constructor(t){this.prefix=t}static{o(this,"GranularityImplementation")}getCurrentAndUpComingValues(t){let r=this.getValue(t),n=this.getUpcomingValues(t);return[r,n]}},PK=class extends FP{static{o(this,"ConstantGranularity")}getValue(t){return this.prefix}getUpcomingValues(t){return[]}},U2e=o(e=>new PK(e),"DEFAULT_GRANULARITY"),NP=class extends FP{constructor(r,n=.5,i=new Date().setUTCHours(0,0,0,0)){super(r);this.prefix=r;this.fetchBeforeFactor=n;this.anchor=i}static{o(this,"TimeBucketGranularity")}setTimePeriod(r){isNaN(r)?this.timePeriodLengthMs=void 0:this.timePeriodLengthMs=r}setByCallBuckets(r){isNaN(r)?this.numByCallBuckets=void 0:this.numByCallBuckets=r}getValue(r){return this.prefix+this.getTimePeriodBucketString(r)+(this.numByCallBuckets?this.timeHash(r):"")}getTimePeriodBucketString(r){return this.timePeriodLengthMs?this.dateToTimePartString(r):""}getUpcomingValues(r){let n=[],i=this.getUpcomingTimePeriodBucketStrings(r),s=this.getUpcomingByCallBucketStrings();for(let a of i)for(let l of s)n.push(this.prefix+a+l);return n}getUpcomingTimePeriodBucketStrings(r){if(this.timePeriodLengthMs===void 0)return[""];if((r.getTime()-this.anchor)%this.timePeriodLengthMs<this.fetchBeforeFactor*this.timePeriodLengthMs)return[this.getTimePeriodBucketString(r)];{let n=new Date(r.getTime()+this.timePeriodLengthMs);return[this.getTimePeriodBucketString(r),this.getTimePeriodBucketString(n)]}}getUpcomingByCallBucketStrings(){return this.numByCallBuckets===void 0?[""]:Array.from(Array(this.numByCallBuckets).keys()).map(r=>r.toString())}timeHash(r){return this.numByCallBuckets==null?0:7883*(r.getTime()%this.numByCallBuckets)%this.numByCallBuckets}dateToTimePartString(r){return this.timePeriodLengthMs==null?"":Math.floor((r.getTime()-this.anchor)/this.timePeriodLengthMs).toString()}};var q2e="X-Copilot-ClientTimeBucket",LP=class{constructor(t,r){this.specs=new Map;this.prefix=t,this.clock=r,this.defaultGranularity=U2e(t)}static{o(this,"GranularityDirectory")}selectGranularity(t){for(let[r,n]of this.specs.entries())if(t.extends(r))return n;return this.defaultGranularity}update(t,r,n){if(r=r>1?r:NaN,n=n>0?n:NaN,isNaN(r)&&isNaN(n))this.specs.delete(t);else{let i=new NP(this.prefix);isNaN(r)||i.setByCallBuckets(r),isNaN(n)||i.setTimePeriod(n*3600*1e3),this.specs.set(t,i)}}extendFilters(t){let r=this.selectGranularity(t),[n,i]=r.getCurrentAndUpComingValues(this.clock.now());return{newFilterSettings:t.withChange(q2e,n),otherFilterSettingsToPrefetch:i.map(s=>t.withChange(q2e,s))}}};d();d();d();d();d();d();function QP(e){return["a5db0bcaae94032fe715fb34a5e4bce2","7184f66dfcee98cb5f08a1cb936d5225","4535c7beffc844b46bb1ed4aa04d759a"].find(r=>e.includes(r))}o(QP,"findKnownOrg");d();d();var Q3=(i=>(i[i.DEBUG=4]="DEBUG",i[i.INFO=3]="INFO",i[i.WARN=2]="WARN",i[i.ERROR=1]="ERROR",i))(Q3||{}),_a=class{static{o(this,"LogTarget")}},hp=class{static{o(this,"TelemetryLogSender")}},Ar=class{constructor(t){this.category=t}static{o(this,"Logger")}log(t,r,...n){t.get(_a).logIt(t,r,this.category,...n)}debug(t,...r){this.log(t,4,...r)}info(t,...r){this.log(t,3,...r)}warn(t,...r){this.log(t,2,...r)}error(t,...r){t.get(hp).sendError(t,this.category,...r),this.errorWithoutTelemetry(t,...r)}errorWithoutTelemetry(t,...r){this.log(t,1,...r)}exception(t,r,n){if(r instanceof Error&&r.name==="Canceled"&&r.message==="Canceled")return;let i=n;n.startsWith(".")&&(i=n.substring(1),n=`${this.category}${n}`),t.get(hp).sendException(t,r,n);let s=r instanceof Error?r:new Error(`Non-error thrown: ${String(r)}`);this.log(t,1,`${i}:`,s)}},Zn=new Ar("default");d();var ml=class{static{o(this,"NotificationSender")}async showWarningMessageOnlyOnce(t,r,...n){return this.showWarningMessage(r,...n)}};d();var Vl=class{static{o(this,"UrlOpener")}};var WXe=["UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_SIGNATURE_FAILURE"],W2e="Your proxy connection requires a trusted certificate. Please make sure the proxy certificate and any issuers are configured correctly and trusted by your operating system.",G2e="https://gh.io/copilot-network-errors",Pc=class{constructor(){this.notifiedErrorCodes=[]}static{o(this,"UserErrorNotifier")}notifyUser(t,r){if(!(r instanceof Error))return;let n=r;n.code&&WXe.includes(n.code)&&!this.didNotifyBefore(n.code)&&(this.notifiedErrorCodes.push(n.code),this.displayCertificateErrorNotification(t,n))}async displayCertificateErrorNotification(t,r){new Ar("certificates").error(t,`${W2e} Please visit ${G2e} to learn more. Original cause:`,r);let n={title:"Learn more"};return t.get(ml).showWarningMessage(W2e,n).then(i=>{if(i?.title===n.title)return t.get(Vl).open(G2e)})}didNotifyBefore(t){return this.notifiedErrorCodes.indexOf(t)!==-1}};var Ru=new Ar("auth"),j2e=60;function H2e(){return Math.floor(Date.now()/1e3)}o(H2e,"nowSeconds");async function MP(e,t){let r=rn.createAndMarkAsIssued({},{});Gt(e,"auth.new_login");let n=await GXe(e,t),i=await n.json(),s=i.user_notification;if(V2e(e,s,t),n.clientError&&!n.headers.get("x-github-request-id")&&Ru.error(e,`HTTP ${n.status} response does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`),n.status===401){let c="Failed to get copilot token due to 401 status. Please sign out and try again.";return Ru.info(e,c),F3(e,"auth.unknown_401",r),{kind:"failure",reason:"HTTP401",message:c,envelope:i}}if(!n.ok||!i.token){Ru.info(e,`Invalid copilot token: missing token: ${n.status} ${n.statusText}`),F3(e,"auth.invalid_token",r.extendedBy({status:n.status.toString(),status_text:n.statusText}));let c=i.error_details;return c?.notification_id!=="not_signed_up"&&V2e(e,c,t),{kind:"failure",reason:"NotAuthorized",message:"User not authorized",envelope:i,...c}}let a=i.expires_at;i.expires_at=H2e()+i.refresh_in+j2e;let l=new p1(i);return oT(e,l),Gt(e,"auth.new_token",r.extendedBy({},{adjusted_expires_at:i.expires_at,expires_at:a,current_time:H2e()})),{kind:"success",envelope:i}}o(MP,"authFromGitHubToken");async function GXe(e,t){let r=e.get(Dn).getTokenUrl(t);try{return await e.get(Nr).fetch(r,{headers:{Authorization:`token ${t.token}`,...d0(e)},timeout:12e4})}catch(n){throw e.get(Pc).notifyUser(e,n),n}}o(GXe,"fetchCopilotToken");function V2e(e,t,r){t&&e.get(ml).showWarningMessageOnlyOnce(t.notification_id,t.message,{title:t.title},{title:"Dismiss"}).then(async n=>{let i=n?.title===t.title,s=i||n?.title==="Dismiss";if(i){let a=e.get(an).getEditorPluginInfo(),l=t.url.replace("{EDITOR}",encodeURIComponent(a.name+"_"+a.version));await e.get(Vl).open(l)}t.notification_id&&s&&await HXe(e,t.notification_id,r)}).catch(n=>{Ru.exception(e,n,"copilotToken.notification")})}o(V2e,"notifyUser");async function HXe(e,t,r){let n=e.get(Dn).getNotificationUrl(r),i=await e.get(Nr).fetch(n,{headers:{Authorization:`token ${r.token}`,...d0(e)},method:"POST",body:JSON.stringify({notification_id:t})});(!i||!i.ok)&&Ru.error(e,`Failed to send notification result to GitHub: ${i?.status} ${i?.statusText}`)}o(HXe,"sendNotificationResultToGitHub");var p1=class{constructor(t){this.envelope=t;this.token=t.token,this.organization_list=t.organization_list,this.enterprise_list=t.enterprise_list,this.tokenMap=this.parseToken(this.token)}static{o(this,"CopilotToken")}needsRefresh(){return(this.envelope.expires_at-j2e)*1e3<Date.now()}isExpired(){return this.envelope.expires_at*1e3<Date.now()}get hasKnownOrg(){return QP(this.organization_list||[])!==void 0}parseToken(t){let r=new Map,i=(t??"").split(":")[0].split(";");for(let s of i){let[a,l]=s.split("=");r.set(a,l)}return r}getTokenValue(t){return this.tokenMap.get(t)}};d();d();d();var J2e=tt(z2e()),X2e=tt(K2e()),Du=tt(require("os"));var dv=class{constructor(t,r,n,i=!1){this.ctx=t;this.namespace=r;this.includeAuthorizationHeader=i;this.onCopilotToken=o(t=>{this.token=t;let r=t.getTokenValue("tid");r!==void 0&&(this.tags["ai.user.id"]=r)},"onCopilotToken");this.xhrOverride={sendPOST:o((t,r)=>{if(typeof t.data!="string")throw new Error(`AppInsightsReporter only supports string payloads, received ${typeof t.data}`);let n=t.headers??{};n["Content-Type"]="application/json",this.includeAuthorizationHeader&&this.token&&(n.Authorization=`Bearer ${this.token.token}`);let i={method:"POST",headers:n,body:t.data};this.ctx.get(Nr).fetch(t.urlString,i).then(s=>s.text().then(a=>{r(s.status,Object.fromEntries(s.headers),a)})).catch(s=>{Zn.errorWithoutTelemetry(this.ctx,"Error sending telemetry",s),r(0,{})})},"sendPOST")};this.client=new X2e.ApplicationInsights({instrumentationKey:n,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0,endpointUrl:t.get(Dn).getTelemetryUrl(),extensionConfig:{[J2e.BreezeChannelIdentifier]:{alwaysUseXhrOverride:!0,httpXHROverride:this.xhrOverride}}}),this.tags=VXe(t),this.commonProperties=jXe(t),this.#e=za(t,this.onCopilotToken)}static{o(this,"AppInsightsReporter")}#e;sendTelemetryEvent(t,r,n){r={...r,...this.commonProperties};let i=this.qualifyEventName(t);this.client.track({name:i,tags:this.tags,data:{...r,...n},baseType:"EventData",baseData:{name:i,properties:r,measurements:n}})}sendTelemetryErrorEvent(t,r,n){this.sendTelemetryEvent(this.qualifyEventName(t),r,n)}async dispose(){this.#e.dispose(),await this.client.unload(!0,void 0,200)}qualifyEventName(t){return t.startsWith(this.namespace)?t:`${this.namespace}/${t}`}};function VXe(e){let t={},r=e.get(ms);t["ai.session.id"]=r.sessionId;let n=e.get(Ul);return n.trackingId&&(t["ai.user.id"]=n.trackingId),t["ai.cloud.roleInstance"]="REDACTED",t["ai.device.osVersion"]=`${Du.type()} ${Du.release()}`,t["ai.device.osArchitecture"]=Du.arch(),t["ai.device.osPlatform"]=Du.platform(),t["ai.cloud.role"]="Web",t["ai.application.ver"]=e.get(co).getVersion(),t}o(VXe,"getTags");function jXe(e){let t={};t.common_os=Du.platform(),t.common_platformversion=Du.release(),t.common_arch=Du.arch(),t.common_cpu=Array.from(new Set(Du.cpus().map(n=>n.model))).join();let r=e.get(ms);return t.common_vscodemachineid=r.machineId,t.common_vscodesessionid=r.sessionId,t.common_uikind=r.uiKind,t.common_remotename=r.remoteName,t.common_isnewappinstall="",t}o(jXe,"getCommonProperties");var Z2e="7d7048df-6dd0-4048-bb23-b716c1461f8f",e5e="3fdd7f28-937a-48c8-9a21-ba337db23bd1",$Xe="f0000000-0000-0000-0000-000000000000",Pu=class{constructor(){this._initialized=!1}static{o(this,"TelemetryInitialization")}get isInitialized(){return this._initialized}get isEnabled(){return this._enabled??!1}async initialize(t,r,n){let i=t.get(ys).deactivate();if(this._namespace=r,this._enabled=n,this._initialized=!0,n){let s=t.get(ys);s.setReporter(new dv(t,r,Z2e)),s.setRestrictedReporter(new dv(t,r,e5e)),s.setFTReporter(new dv(t,r,$Xe,!0))}await i}reInitialize(t){return this._initialized?this.initialize(t,this._namespace,this._enabled):Promise.reject(new Error("Cannot re-initialize telemetry that has not been initialized."))}};function y5(e,t,r){return e.get(Pu).initialize(e,t,r)}o(y5,"setupTelemetryReporters");var wn=class{constructor(t,r){this.authPersistence=t;this._copilotTokenManager=r;this.pendingSignIn=void 0}static{o(this,"AuthManager")}#e;getCopilotTokenManager(){return this._copilotTokenManager}async checkAndUpdateStatus(t,r){let n=r?.localChecksOnly??!1,i=t5e(process.env);return i===void 0&&(i=await this.getAuthRecord(r?.githubAppId)),i===void 0?(this._copilotTokenManager.resetToken(),await this._copilotTokenManager.primeToken(),{status:"NotSignedIn"}):n?{status:"MaybeOK",user:i.user}:(r?.forceRefresh&&this._copilotTokenManager.resetToken(),{status:await this.getTokenWithSignUpLimited(t,i,r?.freshSignIn??!1),user:i.user})}async getAuthRecord(t){if(this.#e!==null)return this.#e??this.getPersistedAuthRecord(t)}async getTokenWithSignUpLimited(t,r,n){try{await this._copilotTokenManager.getToken()}catch(i){if(i instanceof Kf)return n&&i.result.envelope?.can_signup_for_limited&&await this.signUpLimited(t,r)?this.getTokenWithSignUpLimited(t,r,!1):i.result.reason==="HTTP401"?"NotSignedIn":i.result.reason;throw i}return"OK"}async getPersistedAuthRecord(t){return await this.authPersistence.getAuthRecord(t)}async getGitHubToken(t){let r=t5e(process.env)??await this.getAuthRecord();if(r===void 0)return;let n={token:r.oauth_token};return r.dev_override&&zf(t)==="dev"&&(n.devOverride={copilotTokenUrl:r.dev_override.copilot_token_url,notificationUrl:r.dev_override.notification_url,contentRestrictionsUrl:r.dev_override.content_restrictions_url}),n}async signUpLimited(t,r){let n=t.get(Dn).getSignUpLimitedUrl();try{return(await(await t.get(Nr).fetch(n,{headers:{Authorization:`token ${r.oauth_token}`,...d0(t)},method:"POST",body:JSON.stringify({restricted_telemetry:t.get(Pu).isEnabled?"enabled":"disabled",public_code_suggestions:"enabled"})})).json())?.subscribed||!1}catch(i){return Ru.exception(t,i,"signUpLimited failed"),!1}}async setAuthRecord(t,r){await this.authPersistence.saveAuthRecord(r),this._copilotTokenManager.resetToken()}setTransientAuthRecord(t,r,n=!0){this.#e=r,n&&this._copilotTokenManager.resetToken()}async deleteAuthRecord(t){await this.authPersistence.deleteAuthRecord(),!this.#e&&(this._copilotTokenManager.resetToken(),await this._copilotTokenManager.primeToken())}};function t5e(e){if(e.GH_COPILOT_TOKEN&&!/=/.test(e.GH_COPILOT_TOKEN))return{user:"<environment-variable-user>",oauth_token:e.GH_COPILOT_TOKEN};if(e.GITHUB_COPILOT_TOKEN)return{user:"<environment-variable-user>",oauth_token:e.GITHUB_COPILOT_TOKEN};if(e.CODESPACES==="true"&&e.GITHUB_TOKEN)return{user:e.GITHUB_USER||"<codespaces-user>",oauth_token:e.GITHUB_TOKEN}}o(t5e,"getAuthRecordFromEnv");d();var Li=class{static{o(this,"StatusReporter")}#e=0;#t="Normal";#i;#n;#r=!0;get busy(){return this.#e>0}withProgress(t){return this.#t==="Warning"&&this.forceNormal(),this.#e++===0&&this.#o(),t().finally(()=>{--this.#e===0&&this.#o()})}forceStatus(t,r,n){this.#t===t&&this.#i===r&&!n&&!this.#n&&!this.#r||(this.#t=t,this.#i=r,this.#n=n,this.#r=!1,this.#o())}forceNormal(){this.#t!=="Inactive"&&this.forceStatus("Normal")}setError(t,r){this.forceStatus("Error",t,r)}setWarning(t){this.#t!=="Error"&&this.forceStatus("Warning",t)}setInactive(t){this.#t==="Error"||this.#t==="Warning"||this.forceStatus("Inactive",t)}clearInactive(){this.#t==="Inactive"&&this.forceStatus("Normal")}#o(){let t={kind:this.#t,message:this.#i,busy:this.busy,command:this.#n};this.didChange(t)}},qP=class extends Li{static{o(this,"NoOpStatusReporter")}didChange(){}};var qr=class{static{o(this,"CopilotTokenManager")}constructor(){}async getGitHubToken(){return(await this.getGitHubSession())?.token}primeToken(){try{return this.getToken().then(()=>{},()=>{})}catch{return Promise.resolve()}}},Kf=class extends Ms{constructor(r){super(r.message??"");this.result=r}static{o(this,"TokenResultError")}},WP=class extends qr{constructor(r){super();this.ctx=r;this.token=void 0;this.tokenPromise=void 0}static{o(this,"CopilotTokenManagerFromGitHubTokenBase")}async fetchCopilotTokenEnvelope(){let r=await this.getGitHubSession();if(!r)throw new Kf({reason:"NotSignedIn"});if(!r?.token)throw new Kf({reason:"HTTP401"});let n=await MP(this.ctx,r);if(n.kind==="failure"){if(n.message)throw new Kf(n);let i=new Error(`Unexpected error getting Copilot token: ${n.reason}`);throw i.code=`CopilotToken.${n.reason}`,i}return n.envelope}async getToken(){if(!this.tokenPromise&&(!this.token||this.token?.needsRefresh())){let r=this.fetchCopilotTokenEnvelope().then(n=>{let i=new p1(n);return this.tokenPromise!==r?i:(this.token=i,this.tokenPromise=void 0,this.ctx.get(Li).forceNormal(),this.token)},n=>{if(this.tokenPromise!==r)throw n;this.tokenPromise=void 0;let i=this.ctx.get(Li);if(n instanceof Kf)switch(n.result.reason){case"NotSignedIn":i.setError("You are not signed into GitHub.",{command:"github.copilot.signIn",title:"Sign In"});break;case"HTTP401":i.setError("Your GitHub token is invalid. Try signing in again.");break;case"NotAuthorized":i.setError(n.message||"No access to Copilot found.");break}else i.setWarning(String(n));throw n});this.tokenPromise=r}return this.token&&!this.token.isExpired()?this.token:await this.tokenPromise}resetToken(r){r!==void 0?(Gt(this.ctx,"auth.reset_token_"+r),Ru.debug(this.ctx,`Resetting copilot token on HTTP error ${r}`)):Ru.debug(this.ctx,"Resetting copilot token"),this.token=void 0,this.tokenPromise=void 0}},mv=class extends WP{static{o(this,"CopilotTokenManagerFromAuthManager")}async getGitHubSession(){return await this.ctx.get(wn).getGitHubToken(this.ctx)}};function zXe(e){let t=e.getCopilotIntegrationId();if(t)return t;switch(e.getEditorPluginInfo().name){case"copilot-intellij":return"jetbrains-chat";case"copilot":case"copilot-vs":return;default:return"jetbrains-chat"}}o(zXe,"getIntegrationId");function C5(e){let t={...d0(e),"X-GitHub-Api-Version":"2025-01-21"},r=zXe(e.get(an));return r&&(t["Copilot-Integration-Id"]=r),t}o(C5,"getCapiHeaders");function hv(e,t,...r){return fv(e,t,"api",...r)}o(hv,"getCapiUrl");async function M3(e,t){let r=await e.get(qr).getToken(),n=hv(e,r,t),i={Authorization:`Bearer ${r.token}`,...C5(e)};return await e.get(Nr).fetch(new URL(n).href,{method:"GET",headers:i})}o(M3,"fetchCapiUrl");async function r5e(e,t,r){let n=await e.get(qr).getToken(),i=hv(e,n,t),s={Authorization:`Bearer ${n.token}`,...C5(e)};return await e.get(Nr).fetch(new URL(i).href,{method:"POST",headers:s,body:r})}o(r5e,"postCapiUrl");d();var n5e=10*60*1e3,Qi={Gpt35turbo:"gpt-3.5-turbo",Gpt4:"gpt-4",Gpt4turbo:"gpt-4-turbo",Gpt4o:"gpt-4o",Gpt4oMini:"gpt-4o-mini",O1Mini:"o1-mini",O1Ga:"o1-ga",Claude35Sonnet:"claude-3.5-sonnet",O3Mini:"o3-mini",Gemini20Flash:"gemini-2.0-flash",Claude37Sonnet:"claude-3.7-sonnet",Claude37SonnetThought:"claude-3.7-sonnet-thought",Gpt45:"gpt-4.5",Unknown:"unknown"};function Xo(e){switch(e){case"edits":case"user":case"inline":return[Qi.Gpt4o,Qi.Gpt4turbo,Qi.Gpt4,Qi.O1Mini,Qi.O1Ga,Qi.Claude35Sonnet,Qi.O3Mini,Qi.Gemini20Flash,Qi.Claude37Sonnet,Qi.Claude37SonnetThought,Qi.Gpt45];case"meta":case"suggestions":case"synonyms":return[Qi.Gpt4oMini,Qi.Gpt35turbo]}}o(Xo,"getSupportedModelFamiliesForPrompt");var VP={textEmbedding3Small:"text-embedding-3-small"},YXe=I.Object({type:I.Union([I.Literal("chat"),I.Literal("embeddings"),I.Literal("completion")]),tokenizer:I.String(),family:I.String(),object:I.String(),supports:I.Optional(I.Object({tool_calls:I.Optional(I.Boolean()),parallel_tool_calls:I.Optional(I.Boolean()),streaming:I.Optional(I.Boolean()),vision:I.Optional(I.Boolean())})),limits:I.Optional(I.Object({max_inputs:I.Optional(I.Number()),max_prompt_tokens:I.Optional(I.Number()),max_output_tokens:I.Optional(I.Number()),max_context_window_tokens:I.Optional(I.Number())}))}),KXe=I.Object({id:I.String(),name:I.String(),version:I.String(),model_picker_enabled:I.Boolean(),capabilities:YXe,object:I.String(),preview:I.Optional(I.Boolean()),isExperimental:I.Optional(I.Boolean()),policy:I.Optional(I.Object({state:I.String(),terms:I.String()}))}),i5e=I.Object({data:I.Array(KXe)}),Fu=class{static{o(this,"ModelMetadataProvider")}},GP=class extends Fu{constructor(r){super();this.ctx=r;this._metadata=[];this._lastFetchTime=0}static{o(this,"CapiModelMetadataProvider")}async getMetadata(){return this.shouldRefreshModels()&&await this.fetchMetadata(),this._metadata.slice()}async fetchMetadata(){let r=await M3(this.ctx,"/models");if(r.status<200||r.status>=300){if(r.status===429&&this._metadata.length>0){Zn.error(this.ctx,"Rate limited while fetching models from CAPI",{status:r.status,statusText:r.statusText});return}throw Zn.error(this.ctx,"Failed to fetch models from CAPI",{status:r.status,statusText:r.statusText}),new g3(r)}await this.processModels(r)}async fetchModel(r){let n=await M3(this.ctx,`/models/${r}`);if(!n.ok){Zn.error(this.ctx,`Failed to fetch model ${r} from CAPI`,{status:n.status,statusText:n.statusText});return}return await n.json()}async acceptModelPolicy(r){return(await r5e(this.ctx,`/models/${r}/policy`,JSON.stringify({status:"enabled"}))).ok?(await this.fetchMetadata(),!0):!1}async processModels(r){try{let n=await r.json();this._metadata=n.data,this._lastFetchTime=Date.now()}catch(n){Zn.error(this.ctx,"Failed to parse models from CAPI",{error:n})}}shouldRefreshModels(){return this._metadata.length===0||!this._lastFetchTime?!0:this.isLastFetchOlderTenMinutes()}isLastFetchOlderTenMinutes(){return Date.now()-this._lastFetchTime>n5e}},HP=class extends Fu{constructor(r,n){super();this.ctx=r;this.delegate=n;this._exp_models_cache=new Map}static{o(this,"ExpModelMetadataProvider")}async getMetadata(){let r=this.ctx.get(ar),n=await r.updateExPValuesAndAssignments(),i=r.ideChatExpModelIds(n),s=[];if(i){let a=i?.split(",");for(let l of a){let c=await this.fetchModel(l.trim());c!==void 0&&(c.isExperimental=!0,s.push(c))}}return s.concat(await this.delegate.getMetadata())}async fetchModel(r){let n=this._exp_models_cache.get(r);if(n){let[s,a]=n;if(Date.now()-a<n5e)return s}let i=await this.delegate.fetchModel(r);if(i)return this._exp_models_cache.set(r,[i,Date.now()]),i}async acceptModelPolicy(r){return await this.delegate.acceptModelPolicy(r)}};d();function o5e(e){let t=Qn(e,kt.UserSelectedCompletionModel);return typeof t=="string"&&t.length>0?t:null}o(o5e,"getUserSelectedModelConfiguration");d();d();var JXe=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},a5e=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},FK,jP,l5e,NK=class extends fn{static{o(this,"AssertError")}constructor(t){let r=t.First();super(r===void 0?"Invalid Value":r.message),FK.add(this),jP.set(this,void 0),JXe(this,jP,t,"f"),this.error=r}Errors(){return new g5(a5e(this,FK,"m",l5e).call(this))}};jP=new WeakMap,FK=new WeakSet,l5e=o(function*(){this.error&&(yield this.error),yield*a5e(this,jP,"f")},"_AssertError_Iterator");function s5e(e,t,r){if(!ni(e,t,r))throw new NK(mp(e,t,r))}o(s5e,"AssertValue");function $P(...e){return e.length===3?s5e(e[0],e[1],e[2]):s5e(e[0],[],e[1])}o($P,"Assert");d();d();d();function XXe(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=Mi(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=Mi(e[r]);return t}o(XXe,"FromObject");function ZXe(e){return e.map(t=>Mi(t))}o(ZXe,"FromArray");function eZe(e){return e.slice()}o(eZe,"FromTypedArray");function tZe(e){return new Map(Mi([...e.entries()]))}o(tZe,"FromMap");function rZe(e){return new Set(Mi([...e.entries()]))}o(rZe,"FromSet");function nZe(e){return new Date(e.toISOString())}o(nZe,"FromDate");function Mi(e){if(un(e))return ZXe(e);if(W0(e))return nZe(e);if(Lf(e))return eZe(e);if(Zde(e))return tZe(e);if(eme(e))return rZe(e);if(Xn(e))return XXe(e);if(xu(e))return e;throw new Error("ValueClone: Unable to clone value")}o(Mi,"Clone");var Nu=class extends fn{static{o(this,"ValueCreateError")}constructor(t,r){super(r),this.schema=t}};function Oi(e){return J2(e)?e():Mi(e)}o(Oi,"FromDefault");function iZe(e,t){return cn(e,"default")?Oi(e.default):{}}o(iZe,"FromAny");function oZe(e,t){return{}}o(oZe,"FromArgument");function sZe(e,t){if(e.uniqueItems===!0&&!cn(e,"default"))throw new Nu(e,"Array with the uniqueItems constraint requires a default value");if("contains"in e&&!cn(e,"default"))throw new Nu(e,"Array with the contains constraint requires a default value");return"default"in e?Oi(e.default):e.minItems!==void 0?Array.from({length:e.minItems}).map(r=>Fc(e.items,t)):[]}o(sZe,"FromArray");function aZe(e,t){return cn(e,"default")?Oi(e.default):async function*(){}()}o(aZe,"FromAsyncIterator");function lZe(e,t){return cn(e,"default")?Oi(e.default):BigInt(0)}o(lZe,"FromBigInt");function cZe(e,t){return cn(e,"default")?Oi(e.default):!1}o(cZe,"FromBoolean");function uZe(e,t){if(cn(e,"default"))return Oi(e.default);{let r=Fc(e.returns,t);return typeof r=="object"&&!Array.isArray(r)?class{constructor(){for(let[n,i]of Object.entries(r)){let s=this;s[n]=i}}}:class{}}}o(uZe,"FromConstructor");function fZe(e,t){return cn(e,"default")?Oi(e.default):e.minimumTimestamp!==void 0?new Date(e.minimumTimestamp):new Date}o(fZe,"FromDate");function dZe(e,t){return cn(e,"default")?Oi(e.default):()=>Fc(e.returns,t)}o(dZe,"FromFunction");function mZe(e,t){let r=globalThis.Object.values(e.$defs),n=e.$defs[e.$ref];return Fc(n,[...t,...r])}o(mZe,"FromImport");function hZe(e,t){return cn(e,"default")?Oi(e.default):e.minimum!==void 0?e.minimum:0}o(hZe,"FromInteger");function pZe(e,t){if(cn(e,"default"))return Oi(e.default);{let r=e.allOf.reduce((n,i)=>{let s=Fc(i,t);return typeof s=="object"?{...n,...s}:s},{});if(!ni(e,t,r))throw new Nu(e,"Intersect produced invalid value. Consider using a default value.");return r}}o(pZe,"FromIntersect");function gZe(e,t){return cn(e,"default")?Oi(e.default):function*(){}()}o(gZe,"FromIterator");function AZe(e,t){return cn(e,"default")?Oi(e.default):e.const}o(AZe,"FromLiteral");function yZe(e,t){if(cn(e,"default"))return Oi(e.default);throw new Nu(e,"Never types cannot be created. Consider using a default value.")}o(yZe,"FromNever");function CZe(e,t){if(cn(e,"default"))return Oi(e.default);throw new Nu(e,"Not types must have a default value")}o(CZe,"FromNot");function xZe(e,t){return cn(e,"default")?Oi(e.default):null}o(xZe,"FromNull");function EZe(e,t){return cn(e,"default")?Oi(e.default):e.minimum!==void 0?e.minimum:0}o(EZe,"FromNumber");function bZe(e,t){if(cn(e,"default"))return Oi(e.default);{let r=new Set(e.required),n={};for(let[i,s]of Object.entries(e.properties))r.has(i)&&(n[i]=Fc(s,t));return n}}o(bZe,"FromObject");function vZe(e,t){return cn(e,"default")?Oi(e.default):Promise.resolve(Fc(e.item,t))}o(vZe,"FromPromise");function IZe(e,t){let[r,n]=Object.entries(e.patternProperties)[0];if(cn(e,"default"))return Oi(e.default);if(r===ip||r===np)return{};{let i=r.slice(1,r.length-1).split("|"),s={};for(let a of i)s[a]=Fc(n,t);return s}}o(IZe,"FromRecord");function TZe(e,t){return cn(e,"default")?Oi(e.default):Fc(Ni(e,t),t)}o(TZe,"FromRef");function wZe(e,t){if(cn(e,"default"))return Oi(e.default);throw new Nu(e,"RegExp types cannot be created. Consider using a default value.")}o(wZe,"FromRegExp");function SZe(e,t){if(e.pattern!==void 0){if(cn(e,"default"))return Oi(e.default);throw new Nu(e,"String types with patterns must specify a default value")}else if(e.format!==void 0){if(cn(e,"default"))return Oi(e.default);throw new Nu(e,"String types with formats must specify a default value")}else return cn(e,"default")?Oi(e.default):e.minLength!==void 0?Array.from({length:e.minLength}).map(()=>" ").join(""):""}o(SZe,"FromString");function _Ze(e,t){return cn(e,"default")?Oi(e.default):"value"in e?Symbol.for(e.value):Symbol()}o(_Ze,"FromSymbol");function kZe(e,t){if(cn(e,"default"))return Oi(e.default);if(!aD(e))throw new Nu(e,"Can only create template literals that produce a finite variants. Consider using a default value.");return Ib(e)[0]}o(kZe,"FromTemplateLiteral");function BZe(e,t){if(c5e++>MZe)throw new Nu(e,"Cannot create recursive type as it appears possibly infinite. Consider using a default.");return cn(e,"default")?Oi(e.default):Fc(Ni(e,t),t)}o(BZe,"FromThis");function RZe(e,t){return cn(e,"default")?Oi(e.default):e.items===void 0?[]:Array.from({length:e.minItems}).map((r,n)=>Fc(e.items[n],t))}o(RZe,"FromTuple");function DZe(e,t){if(cn(e,"default"))return Oi(e.default)}o(DZe,"FromUndefined");function PZe(e,t){if(cn(e,"default"))return Oi(e.default);if(e.anyOf.length===0)throw new Error("ValueCreate.Union: Cannot create Union with zero variants");return Fc(e.anyOf[0],t)}o(PZe,"FromUnion");function FZe(e,t){return cn(e,"default")?Oi(e.default):e.minByteLength!==void 0?new Uint8Array(e.minByteLength):new Uint8Array(0)}o(FZe,"FromUint8Array");function NZe(e,t){return cn(e,"default")?Oi(e.default):{}}o(NZe,"FromUnknown");function LZe(e,t){if(cn(e,"default"))return Oi(e.default)}o(LZe,"FromVoid");function QZe(e,t){if(cn(e,"default"))return Oi(e.default);throw new Error("User defined types must specify a default value")}o(QZe,"FromKind");function Fc(e,t){let r=ul(e,t),n=e;switch(n[it]){case"Any":return iZe(n,r);case"Argument":return oZe(n,r);case"Array":return sZe(n,r);case"AsyncIterator":return aZe(n,r);case"BigInt":return lZe(n,r);case"Boolean":return cZe(n,r);case"Constructor":return uZe(n,r);case"Date":return fZe(n,r);case"Function":return dZe(n,r);case"Import":return mZe(n,r);case"Integer":return hZe(n,r);case"Intersect":return pZe(n,r);case"Iterator":return gZe(n,r);case"Literal":return AZe(n,r);case"Never":return yZe(n,r);case"Not":return CZe(n,r);case"Null":return xZe(n,r);case"Number":return EZe(n,r);case"Object":return bZe(n,r);case"Promise":return vZe(n,r);case"Record":return IZe(n,r);case"Ref":return TZe(n,r);case"RegExp":return wZe(n,r);case"String":return SZe(n,r);case"Symbol":return _Ze(n,r);case"TemplateLiteral":return kZe(n,r);case"This":return BZe(n,r);case"Tuple":return RZe(n,r);case"Undefined":return DZe(n,r);case"Union":return PZe(n,r);case"Uint8Array":return FZe(n,r);case"Unknown":return NZe(n,r);case"Void":return LZe(n,r);default:if(!G0.Has(n[it]))throw new Nu(n,"Unknown type");return QZe(n,r)}}o(Fc,"Visit");var MZe=512,c5e=0;function Jf(...e){return c5e=0,e.length===2?Fc(e[0],e[1]):Fc(e[0],[])}o(Jf,"Create");var zP=class extends fn{static{o(this,"ValueCastError")}constructor(t,r){super(r),this.schema=t}};function OZe(e,t,r){if(e[it]==="Object"&&typeof r=="object"&&!e1(r)){let n=e,i=Object.getOwnPropertyNames(r),s=Object.entries(n.properties),[a,l]=[1/s.length,s.length];return s.reduce((c,[u,f])=>{let m=f[it]==="Literal"&&f.const===r[u]?l:0,h=ni(f,t,r[u])?a:0,p=i.includes(u)?a:0;return c+(m+h+p)},0)}else return ni(e,t,r)?1:0}o(OZe,"ScoreUnion");function UZe(e,t,r){let n=e.anyOf.map(a=>Ni(a,t)),[i,s]=[n[0],0];for(let a of n){let l=OZe(a,t,r);l>s&&(i=a,s=l)}return i}o(UZe,"SelectUnion");function qZe(e,t,r){if("default"in e)return typeof r=="function"?e.default:Mi(e.default);{let n=UZe(e,t,r);return dT(n,t,r)}}o(qZe,"CastUnion");function WZe(e,t,r){return ni(e,t,r)?Mi(r):Jf(e,t)}o(WZe,"DefaultClone");function GZe(e,t,r){return ni(e,t,r)?r:Jf(e,t)}o(GZe,"Default");function HZe(e,t,r){if(ni(e,t,r))return Mi(r);let n=un(r)?Mi(r):Jf(e,t),i=Hr(e.minItems)&&n.length<e.minItems?[...n,...Array.from({length:e.minItems-n.length},()=>null)]:n,a=(Hr(e.maxItems)&&i.length>e.maxItems?i.slice(0,e.maxItems):i).map(c=>Sm(e.items,t,c));if(e.uniqueItems!==!0)return a;let l=[...new Set(a)];if(!ni(e,t,l))throw new zP(e,"Array cast produced invalid data due to uniqueItems constraint");return l}o(HZe,"FromArray");function VZe(e,t,r){if(ni(e,t,r))return Jf(e,t);let n=new Set(e.returns.required||[]),i=o(function(){},"result");for(let[s,a]of Object.entries(e.returns.properties))!n.has(s)&&r.prototype[s]===void 0||(i.prototype[s]=Sm(a,t,r.prototype[s]));return i}o(VZe,"FromConstructor");function jZe(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return Sm(i,[...t,...n],r)}o(jZe,"FromImport");function $Ze(e,t,r){let n=Jf(e,t),i=Xn(n)&&Xn(r)?{...n,...r}:r;return ni(e,t,i)?i:Jf(e,t)}o($Ze,"FromIntersect");function zZe(e,t,r){throw new zP(e,"Never types cannot be cast")}o(zZe,"FromNever");function YZe(e,t,r){if(ni(e,t,r))return r;if(r===null||typeof r!="object")return Jf(e,t);let n=new Set(e.required||[]),i={};for(let[s,a]of Object.entries(e.properties))!n.has(s)&&r[s]===void 0||(i[s]=Sm(a,t,r[s]));if(typeof e.additionalProperties=="object"){let s=Object.getOwnPropertyNames(e.properties);for(let a of Object.getOwnPropertyNames(r))s.includes(a)||(i[a]=Sm(e.additionalProperties,t,r[a]))}return i}o(YZe,"FromObject");function KZe(e,t,r){if(ni(e,t,r))return Mi(r);if(r===null||typeof r!="object"||Array.isArray(r)||r instanceof Date)return Jf(e,t);let n=Object.getOwnPropertyNames(e.patternProperties)[0],i=e.patternProperties[n],s={};for(let[a,l]of Object.entries(r))s[a]=Sm(i,t,l);return s}o(KZe,"FromRecord");function JZe(e,t,r){return Sm(Ni(e,t),t,r)}o(JZe,"FromRef");function XZe(e,t,r){return Sm(Ni(e,t),t,r)}o(XZe,"FromThis");function ZZe(e,t,r){return ni(e,t,r)?Mi(r):un(r)?e.items===void 0?[]:e.items.map((n,i)=>Sm(n,t,r[i])):Jf(e,t)}o(ZZe,"FromTuple");function eet(e,t,r){return ni(e,t,r)?Mi(r):qZe(e,t,r)}o(eet,"FromUnion");function Sm(e,t,r){let n=_i(e.$id)?ul(e,t):t,i=e;switch(e[it]){case"Array":return HZe(i,n,r);case"Constructor":return VZe(i,n,r);case"Import":return jZe(i,n,r);case"Intersect":return $Ze(i,n,r);case"Never":return zZe(i,n,r);case"Object":return YZe(i,n,r);case"Record":return KZe(i,n,r);case"Ref":return JZe(i,n,r);case"This":return XZe(i,n,r);case"Tuple":return ZZe(i,n,r);case"Union":return eet(i,n,r);case"Date":case"Symbol":case"Uint8Array":return WZe(e,t,r);default:return GZe(i,n,r)}}o(Sm,"Visit");function dT(...e){return e.length===3?Sm(e[0],e[1],e[2]):Sm(e[0],[],e[1])}o(dT,"Cast");d();function tet(e){return Z2(e)&&e[it]!=="Unsafe"}o(tet,"IsCheckable");function ret(e,t,r){return un(r)?r.map(n=>Nc(e.items,t,n)):r}o(ret,"FromArray");function net(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return Nc(i,[...t,...n],r)}o(net,"FromImport");function iet(e,t,r){let n=e.unevaluatedProperties,s=e.allOf.map(l=>Nc(l,t,Mi(r))).reduce((l,c)=>Xn(c)?{...l,...c}:c,{});if(!Xn(r)||!Xn(s)||!Z2(n))return s;let a=wc(e);for(let l of Object.getOwnPropertyNames(r))a.includes(l)||ni(n,t,r[l])&&(s[l]=Nc(n,t,r[l]));return s}o(iet,"FromIntersect");function oet(e,t,r){if(!Xn(r)||un(r))return r;let n=e.additionalProperties;for(let i of Object.getOwnPropertyNames(r)){if(cn(e.properties,i)){r[i]=Nc(e.properties[i],t,r[i]);continue}if(Z2(n)&&ni(n,t,r[i])){r[i]=Nc(n,t,r[i]);continue}delete r[i]}return r}o(oet,"FromObject");function set(e,t,r){if(!Xn(r))return r;let n=e.additionalProperties,i=Object.getOwnPropertyNames(r),[s,a]=Object.entries(e.patternProperties)[0],l=new RegExp(s);for(let c of i){if(l.test(c)){r[c]=Nc(a,t,r[c]);continue}if(Z2(n)&&ni(n,t,r[c])){r[c]=Nc(n,t,r[c]);continue}delete r[c]}return r}o(set,"FromRecord");function aet(e,t,r){return Nc(Ni(e,t),t,r)}o(aet,"FromRef");function cet(e,t,r){return Nc(Ni(e,t),t,r)}o(cet,"FromThis");function uet(e,t,r){if(!un(r))return r;if($o(e.items))return[];let n=Math.min(r.length,e.items.length);for(let i=0;i<n;i++)r[i]=Nc(e.items[i],t,r[i]);return r.length>n?r.slice(0,n):r}o(uet,"FromTuple");function fet(e,t,r){for(let n of e.anyOf)if(tet(n)&&ni(n,t,r))return Nc(n,t,r);return r}o(fet,"FromUnion");function Nc(e,t,r){let n=_i(e.$id)?ul(e,t):t,i=e;switch(i[it]){case"Array":return ret(i,n,r);case"Import":return net(i,n,r);case"Intersect":return iet(i,n,r);case"Object":return oet(i,n,r);case"Record":return set(i,n,r);case"Ref":return aet(i,n,r);case"This":return cet(i,n,r);case"Tuple":return uet(i,n,r);case"Union":return fet(i,n,r);default:return r}}o(Nc,"Visit");function YP(...e){return e.length===3?Nc(e[0],e[1],e[2]):Nc(e[0],[],e[1])}o(YP,"Clean");d();function KP(e){return _i(e)&&!isNaN(e)&&!isNaN(parseFloat(e))}o(KP,"IsStringNumeric");function det(e){return Ql(e)||rp(e)||Hr(e)}o(det,"IsValueToString");function mT(e){return e===!0||Hr(e)&&e===1||Ql(e)&&e===BigInt("1")||_i(e)&&(e.toLowerCase()==="true"||e==="1")}o(mT,"IsValueTrue");function hT(e){return e===!1||Hr(e)&&(e===0||Object.is(e,-0))||Ql(e)&&e===BigInt("0")||_i(e)&&(e.toLowerCase()==="false"||e==="0"||e==="-0")}o(hT,"IsValueFalse");function met(e){return _i(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}o(met,"IsTimeStringWithTimeZone");function het(e){return _i(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}o(het,"IsTimeStringWithoutTimeZone");function pet(e){return _i(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}o(pet,"IsDateTimeStringWithTimeZone");function get(e){return _i(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}o(get,"IsDateTimeStringWithoutTimeZone");function Aet(e){return _i(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\d$/i.test(e)}o(Aet,"IsDateString");function yet(e,t){let r=f5e(e);return r===t?r:e}o(yet,"TryConvertLiteralString");function Cet(e,t){let r=d5e(e);return r===t?r:e}o(Cet,"TryConvertLiteralNumber");function xet(e,t){let r=u5e(e);return r===t?r:e}o(xet,"TryConvertLiteralBoolean");function Eet(e,t){return _i(e.const)?yet(t,e.const):Hr(e.const)?Cet(t,e.const):rp(e.const)?xet(t,e.const):t}o(Eet,"TryConvertLiteral");function u5e(e){return mT(e)?!0:hT(e)?!1:e}o(u5e,"TryConvertBoolean");function bet(e){let t=o(r=>r.split(".")[0],"truncateInteger");return KP(e)?BigInt(t(e)):Hr(e)?BigInt(Math.trunc(e)):hT(e)?BigInt(0):mT(e)?BigInt(1):e}o(bet,"TryConvertBigInt");function f5e(e){return t1(e)&&e.description!==void 0?e.description.toString():det(e)?e.toString():e}o(f5e,"TryConvertString");function d5e(e){return KP(e)?parseFloat(e):mT(e)?1:hT(e)?0:e}o(d5e,"TryConvertNumber");function vet(e){return KP(e)?parseInt(e):Hr(e)?Math.trunc(e):mT(e)?1:hT(e)?0:e}o(vet,"TryConvertInteger");function Iet(e){return _i(e)&&e.toLowerCase()==="null"?null:e}o(Iet,"TryConvertNull");function Tet(e){return _i(e)&&e==="undefined"?void 0:e}o(Tet,"TryConvertUndefined");function wet(e){return W0(e)?e:Hr(e)?new Date(e):mT(e)?new Date(1):hT(e)?new Date(0):KP(e)?new Date(parseInt(e)):het(e)?new Date(`1970-01-01T${e}.000Z`):met(e)?new Date(`1970-01-01T${e}`):get(e)?new Date(`${e}.000Z`):pet(e)?new Date(e):Aet(e)?new Date(`${e}T00:00:00.000Z`):e}o(wet,"TryConvertDate");function _et(e,t,r){return(un(r)?r:[r]).map(i=>_m(e.items,t,i))}o(_et,"FromArray");function ket(e,t,r){return bet(r)}o(ket,"FromBigInt");function Bet(e,t,r){return u5e(r)}o(Bet,"FromBoolean");function Ret(e,t,r){return wet(r)}o(Ret,"FromDate");function Det(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return _m(i,[...t,...n],r)}o(Det,"FromImport");function Pet(e,t,r){return vet(r)}o(Pet,"FromInteger");function Fet(e,t,r){return e.allOf.reduce((n,i)=>_m(i,t,n),r)}o(Fet,"FromIntersect");function Net(e,t,r){return Eet(e,r)}o(Net,"FromLiteral");function Let(e,t,r){return Iet(r)}o(Let,"FromNull");function Qet(e,t,r){return d5e(r)}o(Qet,"FromNumber");function Met(e,t,r){if(!Xn(r))return r;for(let n of Object.getOwnPropertyNames(e.properties))cn(r,n)&&(r[n]=_m(e.properties[n],t,r[n]));return r}o(Met,"FromObject");function Oet(e,t,r){if(!Xn(r))return r;let i=Object.getOwnPropertyNames(e.patternProperties)[0],s=e.patternProperties[i];for(let[a,l]of Object.entries(r))r[a]=_m(s,t,l);return r}o(Oet,"FromRecord");function Uet(e,t,r){return _m(Ni(e,t),t,r)}o(Uet,"FromRef");function qet(e,t,r){return f5e(r)}o(qet,"FromString");function Wet(e,t,r){return _i(r)||Hr(r)?Symbol(r):r}o(Wet,"FromSymbol");function Get(e,t,r){return _m(Ni(e,t),t,r)}o(Get,"FromThis");function Het(e,t,r){return un(r)&&!$o(e.items)?r.map((i,s)=>s<e.items.length?_m(e.items[s],t,i):i):r}o(Het,"FromTuple");function Vet(e,t,r){return Tet(r)}o(Vet,"FromUndefined");function jet(e,t,r){for(let n of e.anyOf){let i=_m(n,t,Mi(r));if(ni(n,t,i))return i}return r}o(jet,"FromUnion");function _m(e,t,r){let n=ul(e,t),i=e;switch(e[it]){case"Array":return _et(i,n,r);case"BigInt":return ket(i,n,r);case"Boolean":return Bet(i,n,r);case"Date":return Ret(i,n,r);case"Import":return Det(i,n,r);case"Integer":return Pet(i,n,r);case"Intersect":return Fet(i,n,r);case"Literal":return Net(i,n,r);case"Null":return Let(i,n,r);case"Number":return Qet(i,n,r);case"Object":return Met(i,n,r);case"Record":return Oet(i,n,r);case"Ref":return Uet(i,n,r);case"String":return qet(i,n,r);case"Symbol":return Wet(i,n,r);case"This":return Get(i,n,r);case"Tuple":return Het(i,n,r);case"Undefined":return Vet(i,n,r);case"Union":return jet(i,n,r);default:return r}}o(_m,"Visit");function JP(...e){return e.length===3?_m(e[0],e[1],e[2]):_m(e[0],[],e[1])}o(JP,"Convert");d();function m5e(...e){let[t,r,n]=e.length===3?[e[0],e[1],e[2]]:[e[0],[],e[1]];if(!ni(t,r,n))throw new nv(t,n,mp(t,r,n).First());return d1(t,r)?iv(t,r,n):n}o(m5e,"Decode");d();function g1(e,t){let r=cn(e,"default")?e.default:void 0,n=J2(r)?r():Mi(r);return $o(t)?n:Xn(t)&&Xn(n)?Object.assign(n,t):t}o(g1,"ValueOrDefault");function LK(e){return Z2(e)&&"default"in e}o(LK,"HasDefaultProperty");function $et(e,t,r){if(un(r)){for(let i=0;i<r.length;i++)r[i]=j0(e.items,t,r[i]);return r}let n=g1(e,r);if(!un(n))return n;for(let i=0;i<n.length;i++)n[i]=j0(e.items,t,n[i]);return n}o($et,"FromArray");function zet(e,t,r){return W0(r)?r:g1(e,r)}o(zet,"FromDate");function Yet(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return j0(i,[...t,...n],r)}o(Yet,"FromImport");function Ket(e,t,r){let n=g1(e,r);return e.allOf.reduce((i,s)=>{let a=j0(s,t,n);return Xn(a)?{...i,...a}:a},{})}o(Ket,"FromIntersect");function Jet(e,t,r){let n=g1(e,r);if(!Xn(n))return n;let i=Object.getOwnPropertyNames(e.properties);for(let s of i){let a=j0(e.properties[s],t,n[s]);$o(a)||(n[s]=j0(e.properties[s],t,n[s]))}if(!LK(e.additionalProperties))return n;for(let s of Object.getOwnPropertyNames(n))i.includes(s)||(n[s]=j0(e.additionalProperties,t,n[s]));return n}o(Jet,"FromObject");function Xet(e,t,r){let n=g1(e,r);if(!Xn(n))return n;let i=e.additionalProperties,[s,a]=Object.entries(e.patternProperties)[0],l=new RegExp(s);for(let c of Object.getOwnPropertyNames(n))l.test(c)&&LK(a)&&(n[c]=j0(a,t,n[c]));if(!LK(i))return n;for(let c of Object.getOwnPropertyNames(n))l.test(c)||(n[c]=j0(i,t,n[c]));return n}o(Xet,"FromRecord");function Zet(e,t,r){return j0(Ni(e,t),t,g1(e,r))}o(Zet,"FromRef");function ett(e,t,r){return j0(Ni(e,t),t,r)}o(ett,"FromThis");function ttt(e,t,r){let n=g1(e,r);if(!un(n)||$o(e.items))return n;let[i,s]=[e.items,Math.max(e.items.length,n.length)];for(let a=0;a<s;a++)a<i.length&&(n[a]=j0(i[a],t,n[a]));return n}o(ttt,"FromTuple");function rtt(e,t,r){let n=g1(e,r);for(let i of e.anyOf){let s=j0(i,t,Mi(n));if(ni(i,t,s))return s}return n}o(rtt,"FromUnion");function j0(e,t,r){let n=ul(e,t),i=e;switch(i[it]){case"Array":return $et(i,n,r);case"Date":return zet(i,n,r);case"Import":return Yet(i,n,r);case"Intersect":return Ket(i,n,r);case"Object":return Jet(i,n,r);case"Record":return Xet(i,n,r);case"Ref":return Zet(i,n,r);case"This":return ett(i,n,r);case"Tuple":return ttt(i,n,r);case"Union":return rtt(i,n,r);default:return g1(i,r)}}o(j0,"Visit");function XP(...e){return e.length===3?j0(e[0],e[1],e[2]):j0(e[0],[],e[1])}o(XP,"Default");d();d();var km={};Yg(km,{Delete:()=>itt,Format:()=>pT,Get:()=>stt,Has:()=>ott,Set:()=>ntt,ValuePointerRootDeleteError:()=>eF,ValuePointerRootSetError:()=>ZP});d();var ZP=class extends fn{static{o(this,"ValuePointerRootSetError")}constructor(t,r,n){super("Cannot set root value"),this.value=t,this.path=r,this.update=n}},eF=class extends fn{static{o(this,"ValuePointerRootDeleteError")}constructor(t,r){super("Cannot delete root value"),this.value=t,this.path=r}};function h5e(e){return e.indexOf("~")===-1?e:e.replace(/~1/g,"/").replace(/~0/g,"~")}o(h5e,"Escape");function*pT(e){if(e==="")return;let[t,r]=[0,0];for(let n=0;n<e.length;n++)e.charAt(n)==="/"?(n===0||(r=n,yield h5e(e.slice(t,r))),t=n+1):r=n;yield h5e(e.slice(t))}o(pT,"Format");function ntt(e,t,r){if(t==="")throw new ZP(e,t,r);let[n,i,s]=[null,e,""];for(let a of pT(t))i[a]===void 0&&(i[a]={}),n=i,i=i[a],s=a;n[s]=r}o(ntt,"Set");function itt(e,t){if(t==="")throw new eF(e,t);let[r,n,i]=[null,e,""];for(let s of pT(t)){if(n[s]===void 0||n[s]===null)return;r=n,n=n[s],i=s}if(Array.isArray(r)){let s=parseInt(i);r.splice(s,1)}else delete r[i]}o(itt,"Delete");function ott(e,t){if(t==="")return!0;let[r,n,i]=[null,e,""];for(let s of pT(t)){if(n[s]===void 0)return!1;r=n,n=n[s],i=s}return Object.getOwnPropertyNames(r).includes(i)}o(ott,"Has");function stt(e,t){if(t==="")return e;let r=e;for(let n of pT(t)){if(r[n]===void 0)return;r=r[n]}return r}o(stt,"Get");d();function att(e,t){if(!Xn(t))return!1;let r=[...Object.keys(e),...Object.getOwnPropertySymbols(e)],n=[...Object.keys(t),...Object.getOwnPropertySymbols(t)];return r.length!==n.length?!1:r.every(i=>O3(e[i],t[i]))}o(att,"ObjectType");function ltt(e,t){return W0(t)&&e.getTime()===t.getTime()}o(ltt,"DateType");function ctt(e,t){return!un(t)||e.length!==t.length?!1:e.every((r,n)=>O3(r,t[n]))}o(ctt,"ArrayType");function utt(e,t){return!Lf(t)||e.length!==t.length||Object.getPrototypeOf(e).constructor.name!==Object.getPrototypeOf(t).constructor.name?!1:e.every((r,n)=>O3(r,t[n]))}o(utt,"TypedArrayType");function ftt(e,t){return e===t}o(ftt,"ValueType");function O3(e,t){if(W0(e))return ltt(e,t);if(Lf(e))return utt(e,t);if(un(e))return ctt(e,t);if(Xn(e))return att(e,t);if(xu(e))return ftt(e,t);throw new Error("ValueEquals: Unable to compare value")}o(O3,"Equal");var dtt=Yi({type:bi("insert"),path:H0(),value:ym()}),mtt=Yi({type:bi("update"),path:H0(),value:ym()}),htt=Yi({type:bi("delete"),path:H0()}),g5e=zi([dtt,mtt,htt]),tF=class extends fn{static{o(this,"ValueDiffError")}constructor(t,r){super(r),this.value=t}};function rF(e,t){return{type:"update",path:e,value:t}}o(rF,"CreateUpdate");function A5e(e,t){return{type:"insert",path:e,value:t}}o(A5e,"CreateInsert");function y5e(e){return{type:"delete",path:e}}o(y5e,"CreateDelete");function p5e(e){if(globalThis.Object.getOwnPropertySymbols(e).length>0)throw new tF(e,"Cannot diff objects with symbols")}o(p5e,"AssertDiffable");function*ptt(e,t,r){if(p5e(t),p5e(r),!Y$(r))return yield rF(e,r);let n=globalThis.Object.getOwnPropertyNames(t),i=globalThis.Object.getOwnPropertyNames(r);for(let s of i)cn(t,s)||(yield A5e(`${e}/${s}`,r[s]));for(let s of n)cn(r,s)&&(O3(t,r)||(yield*nF(`${e}/${s}`,t[s],r[s])));for(let s of n)cn(r,s)||(yield y5e(`${e}/${s}`))}o(ptt,"ObjectType");function*gtt(e,t,r){if(!un(r))return yield rF(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*nF(`${e}/${n}`,t[n],r[n]);for(let n=0;n<r.length;n++)n<t.length||(yield A5e(`${e}/${n}`,r[n]));for(let n=t.length-1;n>=0;n--)n<r.length||(yield y5e(`${e}/${n}`))}o(gtt,"ArrayType");function*Att(e,t,r){if(!Lf(r)||t.length!==r.length||globalThis.Object.getPrototypeOf(t).constructor.name!==globalThis.Object.getPrototypeOf(r).constructor.name)return yield rF(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*nF(`${e}/${n}`,t[n],r[n])}o(Att,"TypedArrayType");function*ytt(e,t,r){t!==r&&(yield rF(e,r))}o(ytt,"ValueType");function*nF(e,t,r){if(Y$(t))return yield*ptt(e,t,r);if(un(t))return yield*gtt(e,t,r);if(Lf(t))return yield*Att(e,t,r);if(xu(t))return yield*ytt(e,t,r);throw new tF(t,"Unable to diff value")}o(nF,"Visit");function C5e(e,t){return[...nF("",e,t)]}o(C5e,"Diff");function Ctt(e){return e.length>0&&e[0].path===""&&e[0].type==="update"}o(Ctt,"IsRootUpdate");function xtt(e){return e.length===0}o(xtt,"IsIdentity");function x5e(e,t){if(Ctt(t))return Mi(t[0].value);if(xtt(t))return Mi(e);let r=Mi(e);for(let n of t)switch(n.type){case"insert":{km.Set(r,n.path,n.value);break}case"update":{km.Set(r,n.path,n.value);break}case"delete":{km.Delete(r,n.path);break}}return r}o(x5e,"Patch");d();function E5e(...e){let[t,r,n]=e.length===3?[e[0],e[1],e[2]]:[e[0],[],e[1]],i=d1(t,r)?sv(t,r,n):n;if(!ni(t,r,i))throw new ov(t,i,mp(t,r,i).First());return i}o(E5e,"Encode");d();function iF(e){return Xn(e)&&!un(e)}o(iF,"IsStandardObject");var oF=class extends fn{static{o(this,"ValueMutateError")}constructor(t){super(t)}};function Ett(e,t,r,n){if(!iF(r))km.Set(e,t,Mi(n));else{let i=Object.getOwnPropertyNames(r),s=Object.getOwnPropertyNames(n);for(let a of i)s.includes(a)||delete r[a];for(let a of s)i.includes(a)||(r[a]=null);for(let a of s)QK(e,`${t}/${a}`,r[a],n[a])}}o(Ett,"ObjectType");function btt(e,t,r,n){if(!un(r))km.Set(e,t,Mi(n));else{for(let i=0;i<n.length;i++)QK(e,`${t}/${i}`,r[i],n[i]);r.splice(n.length)}}o(btt,"ArrayType");function vtt(e,t,r,n){if(Lf(r)&&r.length===n.length)for(let i=0;i<r.length;i++)r[i]=n[i];else km.Set(e,t,Mi(n))}o(vtt,"TypedArrayType");function Itt(e,t,r,n){r!==n&&km.Set(e,t,n)}o(Itt,"ValueType");function QK(e,t,r,n){if(un(n))return btt(e,t,r,n);if(Lf(n))return vtt(e,t,r,n);if(iF(n))return Ett(e,t,r,n);if(xu(n))return Itt(e,t,r,n)}o(QK,"Visit");function b5e(e){return Lf(e)||xu(e)}o(b5e,"IsNonMutableValue");function Ttt(e,t){return iF(e)&&un(t)||un(e)&&iF(t)}o(Ttt,"IsMismatchedValue");function v5e(e,t){if(b5e(e)||b5e(t))throw new oF("Only object and array types can be mutated at the root level");if(Ttt(e,t))throw new oF("Cannot assign due type mismatch of assignable values");QK(e,"",e,t)}o(v5e,"Mutate");d();var sF=class extends fn{static{o(this,"ParseError")}constructor(t){super(t)}},MK;(function(e){let t=new Map([["Assert",(s,a,l)=>($P(s,a,l),l)],["Cast",(s,a,l)=>dT(s,a,l)],["Clean",(s,a,l)=>YP(s,a,l)],["Clone",(s,a,l)=>Mi(l)],["Convert",(s,a,l)=>JP(s,a,l)],["Decode",(s,a,l)=>d1(s,a)?iv(s,a,l):l],["Default",(s,a,l)=>XP(s,a,l)],["Encode",(s,a,l)=>d1(s,a)?sv(s,a,l):l]]);function r(s){t.delete(s)}o(r,"Delete"),e.Delete=r;function n(s,a){t.set(s,a)}o(n,"Set"),e.Set=n;function i(s){return t.get(s)}o(i,"Get"),e.Get=i})(MK||(MK={}));var I5e=["Clone","Clean","Default","Convert","Assert","Decode"];function wtt(e,t,r,n){return e.reduce((i,s)=>{let a=MK.Get(s);if($o(a))throw new sF(`Unable to find Parse operation '${s}'`);return a(t,r,i)},n)}o(wtt,"ParseValue");function T5e(...e){let[t,r,n,i]=e.length===4?[e[0],e[1],e[2],e[3]]:e.length===3?un(e[0])?[e[0],e[1],[],e[2]]:[I5e,e[0],e[1],e[2]]:e.length===2?[I5e,e[0],[],e[1]]:(()=>{throw new sF("Invalid Arguments")})();return wtt(t,r,n,i)}o(T5e,"Parse");d();var x5={};Yg(x5,{Assert:()=>$P,Cast:()=>dT,Check:()=>ni,Clean:()=>YP,Clone:()=>Mi,Convert:()=>JP,Create:()=>Jf,Decode:()=>m5e,Default:()=>XP,Diff:()=>C5e,Edit:()=>g5e,Encode:()=>E5e,Equal:()=>O3,Errors:()=>mp,Hash:()=>p5,Mutate:()=>v5e,Parse:()=>T5e,Patch:()=>x5e,ValueErrorIterator:()=>g5});d();var Stt={capabilities:{family:"gpt-3.5-turbo",object:"model_capabilities",supports:{streaming:!0},tokenizer:"cl100k_base",type:"completion"},id:"copilot-codex",model_picker_enabled:!0,name:"GPT-3.5 Turbo",object:"model",preview:!1,version:"copilot-codex"},_tt="gpt-4o-copilot",Xf=class e{constructor(t,r=!0){this._ctx=t;this.onModelsFetchedCallbacks=[];this.fetchedModelData=[];this.customModels=[];this.editorPreviewFeaturesDisabled=!1;r&&za(this._ctx,n=>this.refreshAvailableModels(n))}static{o(this,"AvailableModelsManager")}async refreshAvailableModels(t){await this.refreshModels(t);for(let r of this.onModelsFetchedCallbacks)r()}addHandler(t){this.onModelsFetchedCallbacks.push(t)}getDefaultModelId(){if(this.fetchedModelData){let t=e.filterCompletionModels(this.fetchedModelData,this.editorPreviewFeaturesDisabled)[0];if(t)return t.id}return _tt}parseModelsResponse(t){try{return x5.Parse(i5e,t)}catch(r){Zn.exception(this._ctx,r,"Failed to parse /models response from CAPI");return}}async refreshModels(t){let r=await this.fetchModels(t);r&&(this.fetchedModelData=r)}async fetchModels(t){return this.customModels=t.getTokenValue("cml")?.split(",")??[],this.editorPreviewFeaturesDisabled=t.getTokenValue("editor_preview_features")=="0",t.getTokenValue("fcv1")=="1"?Promise.resolve([Stt]):await this.fetch()}async fetch(){let t=await M3(this._ctx,"/models");return t.ok?this.parseModelsResponse(await t.json())?.data??[]:(Zn.error(this._ctx,"Failed to fetch models from CAPI",{status:t.status,statusText:t.statusText}),null)}getGenericCompletionModels(){let t=e.filterCompletionModels(this.fetchedModelData,this.editorPreviewFeaturesDisabled);return e.mapCompletionModels(t)}static filterCompletionModels(t,r){return t.filter(n=>n.capabilities.type==="completion").filter(n=>!r||n.preview===!1||n.preview===void 0)}static mapCompletionModels(t){return t.map(r=>({modelId:r.id,label:r.name,preview:!!r.preview}))}getCurrentModelRequestInfo(t=void 0){let r=this.getDefaultModelId(),n=o5e(this._ctx);if(n){let l=this.getGenericCompletionModels().map(c=>c.modelId);l.includes(n)||(l.length>0&&Zn.error(this._ctx,`User selected model ${n} is not in the list of generic models: ${l.join(", ")}, falling back to default model.`),n=null),r===n&&(n=null)}let i=Qn(this._ctx,kt.DebugOverrideEngine)||Qn(this._ctx,kt.DebugOverrideEngineLegacy);if(i)return new E5(i,"override");let s=t?this._ctx.get(ar).customEngine(t):"",a=t?this._ctx.get(ar).customEngineTargetEngine(t):void 0;return n?s&&a&&n===a?new E5(s,"exp"):new E5(n,"modelpicker"):s?new E5(s,"exp"):this.customModels.length>0?new E5(this.customModels[0],"custommodel"):new E5(r,"default")}},E5=class{constructor(t,r){this.modelId=t;this.modelChoiceSource=r}static{o(this,"ModelRequestInfo")}get headers(){return{}}};function b5(e,t=void 0){let r=e.get(Xf).getCurrentModelRequestInfo(t);return{headers:r.headers,modelId:r.modelId,engineChoiceSource:r.modelChoiceSource}}o(b5,"getEngineRequestInfo");d();d();var gT=require("fs");var ko=class{static{o(this,"FileSystem")}},pv=class extends ko{static{o(this,"LocalFileSystem")}async readFileString(t){return(await gT.promises.readFile(Yf(t))).toString()}async stat(t){let{targetStat:r,lstat:n,stat:i}=await this.statWithLink(Yf(t));return{ctime:r.ctimeMs,mtime:r.mtimeMs,size:r.size,type:this.getFileType(r,n,i)}}async readDirectory(t){let r=Yf(t),n=await gT.promises.readdir(r,{withFileTypes:!0}),i=[];for(let s of n)i.push([s.name,s.isFile()?1:2]);return i}async statWithLink(t){let r=await gT.promises.lstat(t);if(r.isSymbolicLink())try{let n=await gT.promises.stat(t);return{lstat:r,stat:n,targetStat:n}}catch{}return{lstat:r,targetStat:r}}getFileType(t,r,n){let i=0;return t.isFile()&&(i=1),t.isDirectory()&&(i=2),r.isSymbolicLink()&&n&&(i|=64),i}};var G5e=tt(W5e());function H5e(e){return e!==void 0&&e!==0}o(H5e,"isRepoInfo");async function V5e(e){let r=(await e.get(qr).getToken()).organization_list??[];return QP(r)??""}o(V5e,"getUserKind");async function AT(e,t){return(await e.get(qr).getToken()).getTokenValue(t)??""}o(AT,"getTokenKeyValue");function j5e(e){if(e===void 0||e===0)return"";let t=A1(e);if(t==="github/github")return t;let r=ert(e)?.toLowerCase();return r!==void 0?r:""}o(j5e,"getDogFood");function A1(e){if(e!==void 0&&e!==0&&e.hostname==="github.com")return e.owner+"/"+e.repo}o(A1,"tryGetGitHubNWO");function ert(e){if(e!==void 0&&e!==0&&(e.hostname.endsWith("azure.com")||e.hostname.endsWith("visualstudio.com")))return e.owner+"/"+e.repo}o(ert,"tryGetADONWO");function v5(e,t){let r=Bu(t);return trt(e,r)}o(v5,"extractRepoInfoInBackground");var trt=ort(rrt,1e4);async function rrt(e,t){let r=M2e(t);if(!r)return;let n=await nrt(e,r);if(!n)return;let i=e.get(ko),s=Jo(n,".git","config"),a;try{a=await i.readFileString(s)}catch{return}let l=irt(a)??"",c=WK(l),u={uri:n};return c===void 0?{baseFolder:u,url:l,hostname:"",owner:"",repo:"",pathname:""}:{baseFolder:u,url:l,...c}}o(rrt,"extractRepoInfo");function WK(e){let t;try{if(t=(0,G5e.default)(e),t.resource==""||t.owner==""||t.name==""||t.pathname=="")return}catch{return}return{hostname:t.resource,owner:t.owner,repo:t.name,pathname:t.pathname}}o(WK,"parseRepoUrl");async function nrt(e,t){let r=t+"_add_to_make_longer",n=e.get(ko);for(;t!=="file:///"&&t.length<r.length;){let i=Jo(t,".git","config"),s=!1;try{await n.stat(i),s=!0}catch{s=!1}if(s)return t;r=t,t=Bu(t)}}o(nrt,"getRepoBaseUri");function irt(e){let t=/^\s*\[\s*remote\s+"((\\\\|\\"|[^\\"])+)"/,r=/^\s*\[remote.([^"\s]+)/,n=/^\s*url\s*=\s*([^\s#;]+)/,i=/^\s*\[/,s,a,l=!1;for(let c of e.split(`
`))if(l&&s!==void 0){if(s+=c,c.endsWith("\\"))s=s.substring(0,s.length-1);else if(l=!1,a==="origin")return s}else{let u=c.match(t)??c.match(r);if(u)a=u[1];else if(c.match(i))a=void 0;else{if(s&&a!=="origin")continue;{let f=c.match(n);if(f){if(s=f[1],s.endsWith("\\"))s=s.substring(0,s.length-1),l=!0;else if(a==="origin")return s}}}}return s}o(irt,"getRepoUrlFromConfigText");var qK=class{static{o(this,"CompletedComputation")}constructor(t){this.result=t}};function ort(e,t){let r=new xn(t),n=new Set;return(i,...s)=>{let a=JSON.stringify(s),l=r.get(a);if(l)return l.result;if(n.has(a))return 0;let c=e(i,...s);return n.add(a),c.then(u=>{r.set(a,new qK(u)),n.delete(a)}),0}}o(ort,"computeInBackgroundAndMemoize");d();var zF=tt(require("path")),zye=require("worker_threads");d();d();d();d();d();d();d();function GK(e,t,r){return{type:"virtual",indentation:e,subs:t,label:r}}o(GK,"virtualNode");function $5e(e,t,r,n,i){if(r==="")throw new Error("Cannot create a line node with an empty source line");return{type:"line",indentation:e,lineNumber:t,sourceLine:r,subs:n,label:i}}o($5e,"lineNode");function HK(e){return{type:"blank",lineNumber:e,subs:[]}}o(HK,"blankNode");function aF(e){return{type:"top",indentation:-1,subs:e??[]}}o(aF,"topNode");function jl(e){return e.type==="blank"}o(jl,"isBlank");function U3(e){return e.type==="line"}o(U3,"isLine");function q3(e){return e.type==="virtual"}o(q3,"isVirtual");d();function z5e(e,t){return E0(e,r=>{r.label=r.label?t(r.label)?void 0:r.label:void 0},"bottomUp"),e}o(z5e,"clearLabelsIf");function W3(e,t){switch(e.type){case"line":case"virtual":{let r=e.subs.map(n=>W3(n,t));return{...e,subs:r,label:e.label?t(e.label):void 0}}case"blank":return{...e,label:e.label?t(e.label):void 0};case"top":return{...e,subs:e.subs.map(r=>W3(r,t)),label:e.label?t(e.label):void 0}}}o(W3,"mapLabels");function E0(e,t,r){function n(i){r==="topDown"&&t(i),i.subs.forEach(s=>{n(s)}),r==="bottomUp"&&t(i)}o(n,"_visit"),n(e)}o(E0,"visitTree");function VK(e,t,r,n){let i=t;function s(a){i=r(a,i)}return o(s,"visitor"),E0(e,s,n),i}o(VK,"foldTree");function lF(e,t,r){let n=o(s=>{if(r!==void 0&&r(s))return s;{let a=s.subs.map(n).filter(l=>l!==void 0);return s.subs=a,t(s)}},"rebuild"),i=n(e);return i!==void 0?i:aF()}o(lF,"rebuildTree");d();function art(e){let t=e.split(`
`),r=t.map(u=>u.match(/^\s*/)[0].length),n=t.map(u=>u.trimLeft());function i(u){let[f,m]=s(u+1,r[u]);return[$5e(r[u],u,n[u],f),m]}o(i,"parseNode");function s(u,f){let m,h=[],p=u,A;for(;p<n.length&&(n[p]===""||r[p]>f);)if(n[p]==="")A===void 0&&(A=p),p+=1;else{if(A!==void 0){for(let x=A;x<p;x++)h.push(HK(x));A=void 0}[m,p]=i(p),h.push(m)}return A!==void 0&&(p=A),[h,p]}o(s,"parseSubs");let[a,l]=s(0,-1),c=l;for(;c<n.length&&n[c]==="";)a.push(HK(c)),c+=1;if(c<n.length)throw new Error(`Parsing did not go to end of file. Ended at ${c} out of ${n.length}`);return aF(a)}o(art,"parseRaw");function yT(e,t){function r(n){if(U3(n)){let i=t.find(s=>s.matches(n.sourceLine));i&&(n.label=i.label)}}o(r,"visitor"),E0(e,r,"bottomUp")}o(yT,"labelLines");function cF(e){function t(r){if(q3(r)&&r.label===void 0){let n=r.subs.filter(i=>!jl(i));n.length===1&&(r.label=n[0].label)}}o(t,"visitor"),E0(e,t,"bottomUp")}o(cF,"labelVirtualInherited");function CT(e){return Object.keys(e).map(t=>{let r;return e[t].test?r=o(n=>e[t].test(n),"matches"):r=e[t],{matches:r,label:t}})}o(CT,"buildLabelRules");function jK(e){let r=lF(e,o(function(n){if(n.subs.length===0||n.subs.findIndex(a=>a.label==="closer"||a.label==="opener")===-1)return n;let i=[],s;for(let a=0;a<n.subs.length;a++){let l=n.subs[a],c=n.subs[a-1];if(l.label==="opener"&&c!==void 0&&U3(c))c.subs.push(l),l.subs.forEach(u=>c.subs.push(u)),l.subs=[];else if(l.label==="closer"&&s!==void 0&&(U3(l)||q3(l))&&l.indentation>=s.indentation){let u=i.length-1;for(;u>0&&jl(i[u]);)u-=1;if(s.subs.push(...i.splice(u+1)),l.subs.length>0){let f=s.subs.findIndex(A=>A.label!=="newVirtual"),m=s.subs.slice(0,f),h=s.subs.slice(f),p=h.length>0?[GK(l.indentation,h,"newVirtual")]:[];s.subs=[...m,...p,l]}else s.subs.push(l)}else i.push(l),jl(l)||(s=l)}return n.subs=i,n},"rebuilder"));return z5e(e,n=>n==="newVirtual"),r}o(jK,"combineClosersAndOpeners");function Y5e(e,t=jl,r){return lF(e,o(function(i){if(i.subs.length<=1)return i;let s=[],a=[],l,c=!1;function u(f=!1){if(l!==void 0&&(s.length>0||!f)){let m=GK(l,a,r);s.push(m)}else a.forEach(m=>s.push(m))}o(u,"flushBlockIntoNewSubs");for(let f=0;f<i.subs.length;f++){let m=i.subs[f],h=t(m);!h&&c&&(u(),a=[]),c=h,a.push(m),jl(m)||(l=l??m.indentation)}return u(!0),i.subs=s,i},"rebuilder"))}o(Y5e,"groupBlocks");function G3(e){return lF(e,o(function(r){return q3(r)&&r.label===void 0&&r.subs.length<=1?r.subs.length===0?void 0:r.subs[0]:(r.subs.length===1&&q3(r.subs[0])&&r.subs[0].label===void 0&&(r.subs=r.subs[0].subs),r)},"rebuilder"))}o(G3,"flattenVirtual");var lrt={opener:/^[[({]/,closer:/^[\])}]/},crt=CT(lrt),K5e={};function $K(e,t){K5e[e]=t}o($K,"registerLanguageSpecificParser");function xT(e,t){let r=art(e),n=K5e[t??""];return n?n(r):(yT(r,crt),jK(r))}o(xT,"parseTree");var urt={package:/^package /,import:/^import /,class:/\bclass /,interface:/\binterface /,javadoc:/^\/\*\*/,comment_multi:/^\/\*[^*]/,comment_single:/^\/\//,annotation:/^@/,opener:/^[[({]/,closer:/^[\])}]/},frt=CT(urt);function J5e(e){let t=e;return yT(t,frt),t=jK(t),t=G3(t),cF(t),E0(t,r=>{if(r.label==="class"||r.label==="interface")for(let n of r.subs)!jl(n)&&(n.label===void 0||n.label==="annotation")&&(n.label="member")},"bottomUp"),t}o(J5e,"processJava");d();var drt={heading:/^# /,subheading:/^## /,subsubheading:/### /},mrt=CT(drt);function X5e(e){let t=e;if(yT(t,mrt),jl(t))return t;function r(s){if(s.label==="heading")return 1;if(s.label==="subheading")return 2;if(s.label==="subsubheading")return 3}o(r,"headingLevel");let n=[t],i=[...t.subs];t.subs=[];for(let s of i){let a=r(s);if(a===void 0||jl(s))n[n.length-1].subs.push(s);else{for(;n.length<a;)n.push(n[n.length-1]);for(n[a-1].subs.push(s),n[a]=s;n.length>a+1;)n.pop()}}return t=Y5e(t),t=G3(t),cF(t),t}o(X5e,"processMarkdown");d();function Z5e(e){return" ".repeat(e.indentation)+e.sourceLine+`
`}o(Z5e,"deparseLine");$K("markdown",X5e);$K("java",J5e);d();d();d();var y1=class extends Error{constructor(r,n){super(r,{cause:n});this.code="CopilotPromptLoadFailure"}static{o(this,"CopilotPromptLoadFailure")}};var gv=tt(mye()),pye=require("fs"),gye=require("path");var hye=new Map;function Ki(e="cl100k_base"){let t=hye.get(e);return t!==void 0||(e==="mock"?t=new oJ:e==="approximate"?t=new sJ:t=new iJ(e),hye.set(e,t)),t}o(Ki,"getTokenizer");function Rrt(e){if(!e.endsWith(".tiktoken.noindex"))throw new Error("File does not end with .tiktoken.noindex");let t=(0,pye.readFileSync)(e,"utf-8"),r=new Map;for(let n of t.split(`
`)){if(!n)continue;let i=Buffer.from(n,"base64");r.set(i,r.size)}return r}o(Rrt,"parseTikTokenNoIndex");var iJ=class{static{o(this,"TTokenizer")}constructor(t){try{this._tokenizer=(0,gv.createTokenizer)(Rrt((0,gye.join)(__dirname,`./resources/${t}.tiktoken.noindex`)),(0,gv.getSpecialTokensByEncoder)(t),(0,gv.getRegexByEncoder)(t),32768)}catch(r){throw r instanceof Error?new y1("Could not load tokenizer",r):r}}tokenize(t){return this._tokenizer.encode(t)}detokenize(t){return this._tokenizer.decode(t)}tokenLength(t){return this.tokenize(t).length}tokenizeStrings(t){return this.tokenize(t).map(n=>this.detokenize([n]))}takeLastTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=4,i=1,s=Math.min(t.length,r*n),a=t.slice(-s),l=this.tokenize(a);for(;l.length<r+2&&s<t.length;)s=Math.min(t.length,s+r*i),a=t.slice(-s),l=this.tokenize(a);return l.length<r?{text:t,tokens:l}:(l=l.slice(-r),{text:this.detokenize(l),tokens:l})}takeFirstTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=4,i=1,s=Math.min(t.length,r*n),a=t.slice(0,s),l=this.tokenize(a);for(;l.length<r+2&&s<t.length;)s=Math.min(t.length,s+r*i),a=t.slice(0,s),l=this.tokenize(a);return l.length<r?{text:t,tokens:l}:(l=l.slice(0,r),{text:this.detokenize(l),tokens:l})}takeLastLinesTokens(t,r){let{text:n}=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let i=n.indexOf(`
`);return n.substring(i+1)}},oJ=class{constructor(){this.hash=o(t=>{let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);r=(r<<5)-r+i,r&=r&65535}return r},"hash")}static{o(this,"MockTokenizer")}tokenize(t){return this.tokenizeStrings(t).map(this.hash)}detokenize(t){return t.map(r=>r.toString()).join(" ")}tokenizeStrings(t){return t.split(/\b/)}tokenLength(t){return this.tokenizeStrings(t).length}takeLastTokens(t,r){let n=this.tokenizeStrings(t).slice(-r);return{text:n.join(""),tokens:n.map(this.hash)}}takeFirstTokens(t,r){let n=this.tokenizeStrings(t).slice(0,r);return{text:n.join(""),tokens:n.map(this.hash)}}takeLastLinesTokens(t,r){let{text:n}=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let i=n.indexOf(`
`);return n.substring(i+1)}},sJ=class{static{o(this,"ApproximateTokenizer")}tokenize(t){throw new Error("Not implemented")}detokenize(t){throw new Error("Not implemented")}tokenizeStrings(t){throw new Error("Not implemented")}tokenLength(t){return Math.ceil(t.length/4)}takeLastTokens(t,r){throw new Error("Not implemented")}takeFirstTokens(t,r){throw new Error("Not implemented")}takeLastLinesTokens(t,r){throw new Error("Not implemented")}};var Drt={worthUp:.9,worthSibling:.88,worthDown:.8};function aJ(e,t,r=Ki(),n=Drt){let i=W3(e,s=>s?1:void 0);return E0(i,s=>{if(jl(s))return;let a=s.subs.reduce((l,c)=>Math.max(l,c.label??0),0);s.label=Math.max(s.label??0,a*n.worthUp)},"bottomUp"),E0(i,s=>{if(jl(s))return;let a=s.subs.map(u=>u.label??0),l=[...a];for(let u=0;u<a.length;u++)a[u]!==0&&(l=l.map((f,m)=>Math.max(f,Math.pow(n.worthSibling,Math.abs(u-m))*a[u])));let c=s.label;c!==void 0&&(l=l.map(u=>Math.max(u,n.worthDown*c))),s.subs.forEach((u,f)=>u.label=l[f])},"topDown"),Prt(i,t,r)}o(aJ,"fromTreeWithFocussedLines");function Prt(e,t,r=Ki()){let n=VK(e,[],(i,s)=>((i.type==="line"||i.type==="blank")&&s.push(i.type==="line"?[Z5e(i).trimEnd(),i.label??0]:["",i.label??0]),s),"topDown");return new Xt(n,t,r)}o(Prt,"fromTreeWithValuedLines");function Lu(e,t=!0,r=!0,n,i=Ki()){let s=typeof e=="string"?xT(e):xT(e.source,e.languageId);G3(s);let a=W3(s,l=>t&&l!=="closer");return E0(a,l=>{l.label===void 0&&(l.label=t&&l.label!==!1)},"topDown"),t&&E0(a,l=>{if(l.label){let c=!1;for(let u of[...l.subs].reverse())u.label&&!c?c=!0:u.label=!1}else for(let c of l.subs)c.label=!1;l.subs.length>0&&(l.label=!1)},"topDown"),r&&E0(a,l=>{l.label||=(U3(l)||jl(l))&&l.lineNumber==0},"topDown"),aJ(a,n,i)}o(Lu,"elidableTextForSourceCode");d();var bT=class e{constructor(t,r,n,i="strict",s){this.text=t;this._value=r;this._cost=n;this.metadata=s;if(t.includes(`
`)&&i!=="none")throw new Error("LineWithValueAndCost: text contains newline");if(r<0&&i!=="none")throw new Error("LineWithValueAndCost: value is negative");if(n<0&&i!=="none")throw new Error("LineWithValueAndCost: cost is negative");if(i=="strict"&&r>1)throw new Error("Value should normally be between 0 and 1 -- set validation to `loose` to ignore this error")}static{o(this,"LineWithValueAndCost")}get value(){return this._value}get cost(){return this._cost}adjustValue(t){return this._value*=t,this}recost(t=r=>Ki().tokenLength(r+`
`)){return this._cost=t(this.text),this}copy(){return new e(this.text,this.value,this.cost,"none",this.metadata)}};var Xt=class e{constructor(t,r,n=Ki()){this.metadata=r;this.tokenizer=n;this.lines=[];let i=[];for(let s of t){let a=Array.isArray(s)?s[1]:1,l=Array.isArray(s)?s[0]:s;typeof l=="string"?l.split(`
`).forEach(c=>i.push(new bT(c,a,n.tokenLength(c+`
`),"strict",this.metadata))):l instanceof e?l.lines.forEach(c=>i.push(c.copy().adjustValue(a))):"source"in l&&"languageId"in l&&Lu(l).lines.forEach(c=>i.push(c.copy().adjustValue(a)))}this.lines=i}static{o(this,"ElidableText")}adjust(t){this.lines.forEach(r=>r.adjustValue(t))}recost(t=r=>Ki().tokenLength(r+`
`)){this.lines.forEach(r=>r.recost(t))}elide(t,r="[...]",n=!0,i="removeLeastDesirable",s=this.tokenizer){let a=this.lines.map(l=>l.copy());return Frt(a,t,r,n,i,s)}};function Frt(e,t,r,n,i,s){if(s.tokenLength(r+`
`)>t)throw new Error("maxTokens must be larger than the ellipsis length");i==="removeLeastBangForBuck"&&e.forEach(m=>m.adjustValue(1/m.cost));let a=e.reduce((m,h)=>Math.max(m,h.value),0)+1,l=e.reduce((m,h)=>Math.max(m,h.text.length),0)+1,c=r.trim(),u=e.reduce((m,h)=>m+h.cost,0),f=e.length+1;for(;u>t&&f-->=-1;){let m=e.reduce((b,S)=>S.value<b.value?S:b),h=e.indexOf(m),p=e.slice(0,h+1).reverse().find(b=>b.text.trim()!=="")??{text:""},A=n?Math.min(p.text.match(/^\s*/)?.[0].length??0,e[h-1]?.text.trim()===c?e[h-1]?.text.match(/^\s*/)?.[0].length??0:l,e[h+1]?.text.trim()===c?e[h+1]?.text.match(/^\s*/)?.[0].length??0:l):0,x=" ".repeat(A)+r,E=new bT(x,a,s.tokenLength(x+`
`),"loose",m.metadata);e.splice(h,1,E),e[h+1]?.text.trim()===c&&e.splice(h+1,1),e[h-1]?.text.trim()===c&&e.splice(h-1,1);let v=e.reduce((b,S)=>b+S.cost,0);v>=u&&e.every(b=>b.value===a)&&(n=!1),u=v}if(f<0)throw new Error("Infinite loop in ElidableText.makePrompt: Defensive counter < 0 in ElidableText.makePrompt with end text");return{getText:o(()=>e.map(m=>m.text).join(`
`),"getText"),getLines:o(()=>e,"getLines")}}o(Frt,"elide");d();d();function Bm(){}o(Bm,"Diff");Bm.prototype={diff:o(function(t,r){var n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=i.callback;typeof i=="function"&&(s=i,i={});var a=this;function l(B){return B=a.postProcess(B,i),s?(setTimeout(function(){s(B)},0),!0):B}o(l,"done"),t=this.castInput(t,i),r=this.castInput(r,i),t=this.removeEmpty(this.tokenize(t,i)),r=this.removeEmpty(this.tokenize(r,i));var c=r.length,u=t.length,f=1,m=c+u;i.maxEditLength!=null&&(m=Math.min(m,i.maxEditLength));var h=(n=i.timeout)!==null&&n!==void 0?n:1/0,p=Date.now()+h,A=[{oldPos:-1,lastComponent:void 0}],x=this.extractCommon(A[0],r,t,0,i);if(A[0].oldPos+1>=u&&x+1>=c)return l(Aye(a,A[0].lastComponent,r,t,a.useLongestToken));var E=-1/0,v=1/0;function b(){for(var B=Math.max(E,-f);B<=Math.min(v,f);B+=2){var P=void 0,F=A[B-1],q=A[B+1];F&&(A[B-1]=void 0);var ne=!1;if(q){var ce=q.oldPos-B;ne=q&&0<=ce&&ce<c}var Z=F&&F.oldPos+1<u;if(!ne&&!Z){A[B]=void 0;continue}if(!Z||ne&&F.oldPos<q.oldPos?P=a.addToPath(q,!0,!1,0,i):P=a.addToPath(F,!1,!0,1,i),x=a.extractCommon(P,r,t,B,i),P.oldPos+1>=u&&x+1>=c)return l(Aye(a,P.lastComponent,r,t,a.useLongestToken));A[B]=P,P.oldPos+1>=u&&(v=Math.min(v,B-1)),x+1>=c&&(E=Math.max(E,B+1))}f++}if(o(b,"execEditLength"),s)o(function B(){setTimeout(function(){if(f>m||Date.now()>p)return s();b()||B()},0)},"exec")();else for(;f<=m&&Date.now()<=p;){var S=b();if(S)return S}},"diff"),addToPath:o(function(t,r,n,i,s){var a=t.lastComponent;return a&&!s.oneChangePerToken&&a.added===r&&a.removed===n?{oldPos:t.oldPos+i,lastComponent:{count:a.count+1,added:r,removed:n,previousComponent:a.previousComponent}}:{oldPos:t.oldPos+i,lastComponent:{count:1,added:r,removed:n,previousComponent:a}}},"addToPath"),extractCommon:o(function(t,r,n,i,s){for(var a=r.length,l=n.length,c=t.oldPos,u=c-i,f=0;u+1<a&&c+1<l&&this.equals(n[c+1],r[u+1],s);)u++,c++,f++,s.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return f&&!s.oneChangePerToken&&(t.lastComponent={count:f,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=c,u},"extractCommon"),equals:o(function(t,r,n){return n.comparator?n.comparator(t,r):t===r||n.ignoreCase&&t.toLowerCase()===r.toLowerCase()},"equals"),removeEmpty:o(function(t){for(var r=[],n=0;n<t.length;n++)t[n]&&r.push(t[n]);return r},"removeEmpty"),castInput:o(function(t){return t},"castInput"),tokenize:o(function(t){return Array.from(t)},"tokenize"),join:o(function(t){return t.join("")},"join"),postProcess:o(function(t){return t},"postProcess")};function Aye(e,t,r,n,i){for(var s=[],a;t;)s.push(t),a=t.previousComponent,delete t.previousComponent,t=a;s.reverse();for(var l=0,c=s.length,u=0,f=0;l<c;l++){var m=s[l];if(m.removed)m.value=e.join(n.slice(f,f+m.count)),f+=m.count;else{if(!m.added&&i){var h=r.slice(u,u+m.count);h=h.map(function(p,A){var x=n[f+A];return x.length>p.length?x:p}),m.value=e.join(h)}else m.value=e.join(r.slice(u,u+m.count));u+=m.count,m.added||(f+=m.count)}}return s}o(Aye,"buildValues");var Ifr=new Bm;function yye(e,t){var r;for(r=0;r<e.length&&r<t.length;r++)if(e[r]!=t[r])return e.slice(0,r);return e.slice(0,r)}o(yye,"longestCommonPrefix");function Cye(e,t){var r;if(!e||!t||e[e.length-1]!=t[t.length-1])return"";for(r=0;r<e.length&&r<t.length;r++)if(e[e.length-(r+1)]!=t[t.length-(r+1)])return e.slice(-r);return e.slice(-r)}o(Cye,"longestCommonSuffix");function lJ(e,t,r){if(e.slice(0,t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't start with prefix ").concat(JSON.stringify(t),"; this is a bug"));return r+e.slice(t.length)}o(lJ,"replacePrefix");function cJ(e,t,r){if(!t)return e+r;if(e.slice(-t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't end with suffix ").concat(JSON.stringify(t),"; this is a bug"));return e.slice(0,-t.length)+r}o(cJ,"replaceSuffix");function vT(e,t){return lJ(e,t,"")}o(vT,"removePrefix");function gF(e,t){return cJ(e,t,"")}o(gF,"removeSuffix");function xye(e,t){return t.slice(0,Nrt(e,t))}o(xye,"maximumOverlap");function Nrt(e,t){var r=0;e.length>t.length&&(r=e.length-t.length);var n=t.length;e.length<t.length&&(n=e.length);var i=Array(n),s=0;i[0]=0;for(var a=1;a<n;a++){for(t[a]==t[s]?i[a]=i[s]:i[a]=s;s>0&&t[a]!=t[s];)s=i[s];t[a]==t[s]&&s++}s=0;for(var l=r;l<e.length;l++){for(;s>0&&e[l]!=t[s];)s=i[s];e[l]==t[s]&&s++}return s}o(Nrt,"overlapCount");var AF="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",Lrt=new RegExp("[".concat(AF,"]+|\\s+|[^").concat(AF,"]"),"ug"),yF=new Bm;yF.equals=function(e,t,r){return r.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e.trim()===t.trim()};yF.tokenize=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r;if(t.intlSegmenter){if(t.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');r=Array.from(t.intlSegmenter.segment(e),function(s){return s.segment})}else r=e.match(Lrt)||[];var n=[],i=null;return r.forEach(function(s){/\s/.test(s)?i==null?n.push(s):n.push(n.pop()+s):/\s/.test(i)?n[n.length-1]==i?n.push(n.pop()+s):n.push(i+s):n.push(s),i=s}),n};yF.join=function(e){return e.map(function(t,r){return r==0?t:t.replace(/^\s+/,"")}).join("")};yF.postProcess=function(e,t){if(!e||t.oneChangePerToken)return e;var r=null,n=null,i=null;return e.forEach(function(s){s.added?n=s:s.removed?i=s:((n||i)&&Eye(r,i,n,s),r=s,n=null,i=null)}),(n||i)&&Eye(r,i,n,null),e};function Eye(e,t,r,n){if(t&&r){var i=t.value.match(/^\s*/)[0],s=t.value.match(/\s*$/)[0],a=r.value.match(/^\s*/)[0],l=r.value.match(/\s*$/)[0];if(e){var c=yye(i,a);e.value=cJ(e.value,a,c),t.value=vT(t.value,c),r.value=vT(r.value,c)}if(n){var u=Cye(s,l);n.value=lJ(n.value,l,u),t.value=gF(t.value,u),r.value=gF(r.value,u)}}else if(r)e&&(r.value=r.value.replace(/^\s*/,"")),n&&(n.value=n.value.replace(/^\s*/,""));else if(e&&n){var f=n.value.match(/^\s*/)[0],m=t.value.match(/^\s*/)[0],h=t.value.match(/\s*$/)[0],p=yye(f,m);t.value=vT(t.value,p);var A=Cye(vT(f,p),h);t.value=gF(t.value,A),n.value=lJ(n.value,f,A),e.value=cJ(e.value,f,f.slice(0,f.length-A.length))}else if(n){var x=n.value.match(/^\s*/)[0],E=t.value.match(/\s*$/)[0],v=xye(E,x);t.value=gF(t.value,v)}else if(e){var b=e.value.match(/\s*$/)[0],S=t.value.match(/^\s*/)[0],B=xye(b,S);t.value=vT(t.value,B)}}o(Eye,"dedupeWhitespaceInChangeObjects");var Qrt=new Bm;Qrt.tokenize=function(e){var t=new RegExp("(\\r?\\n)|[".concat(AF,"]+|[^\\S\\n\\r]+|[^").concat(AF,"]"),"ug");return e.match(t)||[]};var mJ=new Bm;mJ.tokenize=function(e,t){t.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var r=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var i=0;i<n.length;i++){var s=n[i];i%2&&!t.newlineIsToken?r[r.length-1]+=s:r.push(s)}return r};mJ.equals=function(e,t,r){return r.ignoreWhitespace?((!r.newlineIsToken||!e.includes(`
`))&&(e=e.trim()),(!r.newlineIsToken||!t.includes(`
`))&&(t=t.trim())):r.ignoreNewlineAtEof&&!r.newlineIsToken&&(e.endsWith(`
`)&&(e=e.slice(0,-1)),t.endsWith(`
`)&&(t=t.slice(0,-1))),Bm.prototype.equals.call(this,e,t,r)};var Mrt=new Bm;Mrt.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var Ort=new Bm;Ort.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function uJ(e){"@babel/helpers - typeof";return uJ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uJ(e)}o(uJ,"_typeof");var IT=new Bm;IT.useLongestToken=!0;IT.tokenize=mJ.tokenize;IT.castInput=function(e,t){var r=t.undefinedReplacement,n=t.stringifyReplacer,i=n===void 0?function(s,a){return typeof a>"u"?r:a}:n;return typeof e=="string"?e:JSON.stringify(fJ(e,null,null,i),i,"  ")};IT.equals=function(e,t,r){return Bm.prototype.equals.call(IT,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"),r)};function fJ(e,t,r,n,i){t=t||[],r=r||[],n&&(e=n(i,e));var s;for(s=0;s<t.length;s+=1)if(t[s]===e)return r[s];var a;if(Object.prototype.toString.call(e)==="[object Array]"){for(t.push(e),a=new Array(e.length),r.push(a),s=0;s<e.length;s+=1)a[s]=fJ(e[s],t,r,n,i);return t.pop(),r.pop(),a}if(e&&e.toJSON&&(e=e.toJSON()),uJ(e)==="object"&&e!==null){t.push(e),a={},r.push(a);var l=[],c;for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&l.push(c);for(l.sort(),s=0;s<l.length;s+=1)c=l[s],a[c]=fJ(e[c],t,r,n,c);t.pop(),r.pop()}else a=e;return a}o(fJ,"canonicalize");var dJ=new Bm;dJ.tokenize=function(e){return e.slice()};dJ.join=dJ.removeEmpty=function(e){return e};d();var T5={abap:{lineComment:{start:'"',end:""},markdownLanguageIds:["abap","sap-abap"]},aspdotnet:{lineComment:{start:"<%--",end:"--%>"}},bat:{lineComment:{start:"REM",end:""}},bibtex:{lineComment:{start:"%",end:""},markdownLanguageIds:["bibtex"]},blade:{lineComment:{start:"#",end:""}},BluespecSystemVerilog:{lineComment:{start:"//",end:""}},c:{lineComment:{start:"//",end:""},markdownLanguageIds:["c","h"]},clojure:{lineComment:{start:";",end:""},markdownLanguageIds:["clojure","clj"]},coffeescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["coffeescript","coffee","cson","iced"]},cpp:{lineComment:{start:"//",end:""},markdownLanguageIds:["cpp","hpp","cc","hh","c++","h++","cxx","hxx"]},csharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["csharp","cs"]},css:{lineComment:{start:"/*",end:"*/"}},cuda:{lineComment:{start:"//",end:""}},dart:{lineComment:{start:"//",end:""}},dockerfile:{lineComment:{start:"#",end:""},markdownLanguageIds:["dockerfile","docker"]},dotenv:{lineComment:{start:"#",end:""}},elixir:{lineComment:{start:"#",end:""}},erb:{lineComment:{start:"<%#",end:"%>"}},erlang:{lineComment:{start:"%",end:""},markdownLanguageIds:["erlang","erl"]},fsharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["fsharp","fs","fsx","fsi","fsscript"]},go:{lineComment:{start:"//",end:""},markdownLanguageIds:["go","golang"]},graphql:{lineComment:{start:"#",end:""}},groovy:{lineComment:{start:"//",end:""}},haml:{lineComment:{start:"-#",end:""}},handlebars:{lineComment:{start:"{{!",end:"}}"},markdownLanguageIds:["handlebars","hbs","html.hbs","html.handlebars"]},haskell:{lineComment:{start:"--",end:""},markdownLanguageIds:["haskell","hs"]},hlsl:{lineComment:{start:"//",end:""}},html:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["html","xhtml"]},ini:{lineComment:{start:";",end:""}},java:{lineComment:{start:"//",end:""},markdownLanguageIds:["java","jsp"]},javascript:{lineComment:{start:"//",end:""},markdownLanguageIds:["javascript","js"]},javascriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},jsonc:{lineComment:{start:"//",end:""}},jsx:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},julia:{lineComment:{start:"#",end:""},markdownLanguageIds:["julia","jl"]},kotlin:{lineComment:{start:"//",end:""},markdownLanguageIds:["kotlin","kt"]},latex:{lineComment:{start:"%",end:""},markdownLanguageIds:["tex"]},legend:{lineComment:{start:"//",end:""}},less:{lineComment:{start:"//",end:""}},lua:{lineComment:{start:"--",end:""},markdownLanguageIds:["lua","pluto"]},makefile:{lineComment:{start:"#",end:""},markdownLanguageIds:["makefile","mk","mak","make"]},markdown:{lineComment:{start:"[]: #",end:""},markdownLanguageIds:["markdown","md","mkdown","mkd"]},"objective-c":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec","mm","objc","obj-c"]},"objective-cpp":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec++","objc+"]},perl:{lineComment:{start:"#",end:""},markdownLanguageIds:["perl","pl","pm"]},php:{lineComment:{start:"//",end:""}},powershell:{lineComment:{start:"#",end:""},markdownLanguageIds:["powershell","ps","ps1"]},pug:{lineComment:{start:"//",end:""}},python:{lineComment:{start:"#",end:""},markdownLanguageIds:["python","py","gyp"]},ql:{lineComment:{start:"//",end:""}},r:{lineComment:{start:"#",end:""}},razor:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["cshtml","razor","razor-cshtml"]},ruby:{lineComment:{start:"#",end:""},markdownLanguageIds:["ruby","rb","gemspec","podspec","thor","irb"]},rust:{lineComment:{start:"//",end:""},markdownLanguageIds:["rust","rs"]},sass:{lineComment:{start:"//",end:""}},scala:{lineComment:{start:"//",end:""}},scss:{lineComment:{start:"//",end:""}},shellscript:{lineComment:{start:"#",end:""},markdownLanguageIds:["bash","sh","zsh"]},slang:{lineComment:{start:"//",end:""}},slim:{lineComment:{start:"/",end:""}},solidity:{lineComment:{start:"//",end:""},markdownLanguageIds:["solidity","sol"]},sql:{lineComment:{start:"--",end:""}},stylus:{lineComment:{start:"//",end:""}},svelte:{lineComment:{start:"<!--",end:"-->"}},swift:{lineComment:{start:"//",end:""}},systemverilog:{lineComment:{start:"//",end:""}},terraform:{lineComment:{start:"#",end:""}},tex:{lineComment:{start:"%",end:""}},typescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["typescript","ts"]},typescriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["tsx"]},vb:{lineComment:{start:"'",end:""},markdownLanguageIds:["vb","vbscript"]},verilog:{lineComment:{start:"//",end:""}},"vue-html":{lineComment:{start:"<!--",end:"-->"}},vue:{lineComment:{start:"//",end:""}},xml:{lineComment:{start:"<!--",end:"-->"}},xsl:{lineComment:{start:"<!--",end:"-->"}},yaml:{lineComment:{start:"#",end:""},markdownLanguageIds:["yaml","yml"]}},hJ={};for(let[e,t]of Object.entries(T5))if(t.markdownLanguageIds)for(let r of t.markdownLanguageIds)hJ[r]=e;else hJ[e]=e;function Iye(e){return hJ[e]}o(Iye,"mdCodeBlockLangToLanguageId");var Tye={start:"//",end:""},qrt=["php","plaintext"],bye={html:"<!DOCTYPE html>",python:"#!/usr/bin/env python3",ruby:"#!/usr/bin/env ruby",shellscript:"#!/bin/sh",yaml:"# YAML data"};function Wrt({source:e}){return e.startsWith("#!")||e.startsWith("<!DOCTYPE")}o(Wrt,"hasLanguageMarker");function CF(e,t){let r=T5[t]?T5[t].lineComment:Tye;if(r){let n=r.end==""?"":" "+r.end;return`${r.start} ${e}${n}`}return""}o(CF,"comment");function Grt(e,t){let r=T5[t]?T5[t].lineComment:Tye;if(!r)return e;let n=e,i=`${r.start} `;if(n.startsWith(i)&&(n=n.substring(i.length)),r.end&&r.end!==""){let s=` ${r.end}`;n.endsWith(s)&&(n=n.substring(0,n.length-s.length))}return n}o(Grt,"uncomment");function wye(e,t){if(e==="")return"";let r=e.endsWith(`
`),i=(r?e.slice(0,-1):e).split(`
`).map(s=>Grt(s,t)).join(`
`);return r?i+`
`:i}o(wye,"uncommentBlockAsSingles");function Gs(e,t){if(e==="")return"";let r=e.endsWith(`
`),i=(r?e.slice(0,-1):e).split(`
`).map(s=>CF(s,t)).join(`
`);return r?i+`
`:i}o(Gs,"commentBlockAsSingles");function xF(e){let{languageId:t}=e;return qrt.indexOf(t)===-1&&!Wrt(e)?t in bye?bye[t]:CF(`Language: ${t}`,t):""}o(xF,"getLanguageMarker");function EF(e){return e.relativePath?CF(`Path: ${e.relativePath}`,e.languageId):""}o(EF,"getPathMarker");function b0(e){return e===""||e.endsWith(`
`)?e:e+`
`}o(b0,"newLineEnded");function Sye(e){return vye(typeof e=="string"?e:"plaintext")}o(Sye,"getLanguage");function vye(e){return T5[e]!==void 0?{languageId:e,...T5[e]}:{languageId:e,lineComment:{start:"//",end:""}}}o(vye,"_getLanguage");d();d();d();d();d();d();d();d();var Hrt={tokenizerName:"cl100k_base"};function Vrt(e){return{...Hrt,...e}}o(Vrt,"cursorContextOptions");function Av(e,t={}){let r=Vrt(t),n=Ki(r.tokenizerName);if(r.maxLineCount!==void 0&&r.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(r.maxTokenLength!==void 0&&r.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(r.maxLineCount===0||r.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:r.tokenizerName};let i=e.source.slice(0,e.offset);return r.maxLineCount!==void 0&&(i=i.split(`
`).slice(-r.maxLineCount).join(`
`)),r.maxTokenLength!==void 0&&(i=n.takeLastLinesTokens(i,r.maxTokenLength)),{context:i,lineCount:i.split(`
`).length,tokenLength:n.tokenLength(i),tokenizerName:r.tokenizerName}}o(Av,"getCursorContext");d();var pJ=class{constructor(t){this.keys=[];this.cache={};this.size=t}static{o(this,"FifoCache")}put(t,r){if(this.cache[t]=r,this.keys.length>this.size){this.keys.push(t);let n=this.keys.shift()??"";delete this.cache[n]}}get(t){return this.cache[t]}};var gJ=class{static{o(this,"Tokenizer")}constructor(t){this.stopsForLanguage=Yrt.get(t.languageId)??zrt}tokenize(t){return new Set(jrt(t).filter(r=>!this.stopsForLanguage.has(r)))}},_ye=new pJ(20),yv=class{static{o(this,"WindowedMatcher")}constructor(t){this.referenceDoc=t,this.tokenizer=new gJ(t)}get referenceTokens(){return this.createReferenceTokens()}async createReferenceTokens(){return this.referenceTokensCache??=this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(t,r="descending"){return r=="ascending"?t.sort((n,i)=>n.score>i.score?1:-1):r=="descending"?t.sort((n,i)=>n.score>i.score?-1:1):t}async retrieveAllSnippets(t,r="descending"){let n=[];if(t.source.length===0||(await this.referenceTokens).size===0)return n;let i=t.source.split(`
`),s=this.id()+":"+t.source,a=_ye.get(s)??[],l=a.length==0,c=l?i.map(u=>this.tokenizer.tokenize(u),this.tokenizer):[];for(let[u,[f,m]]of this.getWindowsDelineations(i).entries()){if(l){let A=new Set;c.slice(f,m).forEach(x=>x.forEach(E=>A.add(E),A)),a.push(A)}let h=a[u],p=this.similarityScore(h,await this.referenceTokens);if(n.length&&f>0&&n[n.length-1].endLine>f){n[n.length-1].score<p&&(n[n.length-1].score=p,n[n.length-1].startLine=f,n[n.length-1].endLine=m);continue}n.push({score:p,startLine:f,endLine:m})}return l&&_ye.put(s,a),this.sortScoredSnippets(n,r)}findMatches(t,r){return this.findBestMatch(t,r)}async findBestMatch(t,r){if(t.source.length===0||(await this.referenceTokens).size===0)return[];let n=t.source.split(`
`),i=await this.retrieveAllSnippets(t,"descending");if(i.length===0)return[];let s=[];for(let a=0;a<i.length&&a<r;a++)if(i[a].score!==0){let l=n.slice(i[a].startLine,i[a].endLine).join(`
`);s.push({snippet:l,semantics:"snippet",provider:"similar-files",...i[a]})}return s}};function jrt(e){return e.split(/[^a-zA-Z0-9]/).filter(t=>t.length>0)}o(jrt,"splitIntoWords");var $rt=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),zrt=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...$rt]),Yrt=new Map([]);d();function vF(e,t){let r=[],n=t.length;if(n==0)return[];if(n<e)return[[0,n]];for(let i=0;i<n-e+1;i++)r.push([i,i+e]);return r}o(vF,"getBasicWindowDelineations");var IF=class e extends yv{static{o(this,"FixedWindowSizeJaccardMatcher")}constructor(t,r){super(t),this.windowLength=r}static{this.FACTORY=o(t=>({to:o(r=>new e(r,t),"to")}),"FACTORY")}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return vF(this.windowLength,t)}_getCursorContextInfo(t){return Av(t,{maxLineCount:this.windowLength})}similarityScore(t,r){return Krt(t,r)}};function Krt(e,t){let r=new Set;return e.forEach(n=>{t.has(n)&&r.add(n)}),r.size/(e.size+t.size-r.size)}o(Krt,"computeScore");d();d();var Bye=require("fs"),TF=tt(require("path")),wF=tt(kye());var yJ={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby",csharp:"c_sharp",java:"java"};function Qu(e){return e in yJ&&e!=="csharp"&&e!=="java"}o(Qu,"isSupportedLanguageId");function SF(e){if(!(e in yJ))throw new Error(`Unrecognized language: ${e}`);return yJ[e]}o(SF,"languageIdToWasmLanguage");var AJ=new Map;async function Jrt(e){let t,r=TF.default.resolve(TF.default.extname(__filename)!==".ts"?__dirname:TF.default.resolve(__dirname,"../../dist"),`tree-sitter-${e}.wasm`);try{t=await Bye.promises.readFile(r)}catch(n){throw n instanceof Error&&"code"in n&&typeof n.code=="string"&&n.name==="Error"?new y1(`Could not load tree-sitter-${e}.wasm`,n):n}return wF.default.Language.load(t)}o(Jrt,"loadWasmLanguage");function Xrt(e){let t=SF(e);if(!AJ.has(t)){let r=Jrt(t);AJ.set(t,r)}return AJ.get(t)}o(Xrt,"getLanguage");var CJ=class extends Error{static{o(this,"WrappedError")}constructor(t,r){super(t,{cause:r})}};async function C1(e,t){await wF.default.init();let r;try{r=new wF.default}catch(s){throw s&&typeof s=="object"&&"message"in s&&typeof s.message=="string"&&s.message.includes("table index is out of bounds")?new CJ(`Could not init Parse for language <${e}>`,s):s}let n=await Xrt(e);r.setLanguage(n);let i=r.parse(t);return r.delete(),i}o(C1,"parseTreeSitter");function Rye(e){switch(SF(e)){case"python":return null;case"javascript":case"typescript":case"tsx":case"go":case"c_sharp":case"java":return"}";case"ruby":return"end"}}o(Rye,"getBlockCloseToken");function Zrt(e,t){let r=[];for(let n of e){if(!n[1]){let i=t.tree.getLanguage();n[1]=i.query(n[0])}r.push(...n[1].matches(t))}return r}o(Zrt,"innerQuery");var ent=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];function Dye(e){return Zrt([ent],e).length==1}o(Dye,"queryPythonIsDocstring");var _F=class e extends yv{static{o(this,"BlockTokenSubsetMatcher")}constructor(t,r){super(t),this.windowLength=r}static{this.FACTORY=o(t=>({to:o(r=>new e(r,t),"to")}),"FACTORY")}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return vF(this.windowLength,t)}_getCursorContextInfo(t){return Av(t,{maxLineCount:this.windowLength})}get referenceTokens(){return this.createReferenceTokensForLanguage()}async createReferenceTokensForLanguage(){return this.referenceTokensCache?this.referenceTokensCache:(this.referenceTokensCache=e.syntaxAwareSupportsLanguage(this.referenceDoc.languageId)?await this.syntaxAwareReferenceTokens():await super.referenceTokens,this.referenceTokensCache)}async syntaxAwareReferenceTokens(){let t=(await this.getEnclosingMemberStart(this.referenceDoc.source,this.referenceDoc.offset))?.startIndex,r=this.referenceDoc.offset,n=t?this.referenceDoc.source.slice(t,r):Av(this.referenceDoc,{maxLineCount:this.windowLength}).context;return this.tokenizer.tokenize(n)}static syntaxAwareSupportsLanguage(t){switch(t){case"csharp":return!0;default:return!1}}similarityScore(t,r){return tnt(t,r)}async getEnclosingMemberStart(t,r){let n;try{n=await C1(this.referenceDoc.languageId,t);let i=n.rootNode.namedDescendantForIndex(r);for(;i&&!(e.isMember(i)||e.isBlock(i));)i=i.parent??void 0;return i}finally{n?.delete()}}static isMember(t){switch(t?.type){case"method_declaration":case"property_declaration":case"field_declaration":case"constructor_declaration":return!0;default:return!1}}static isBlock(t){switch(t?.type){case"class_declaration":case"struct_declaration":case"record_declaration":case"enum_declaration":case"interface_declaration":return!0;default:return!1}}};function tnt(e,t){let r=new Set;return t.forEach(n=>{e.has(n)&&r.add(n)}),r.size}o(tnt,"computeScore");var rnt=0,nnt=60,int=4,ont=1,snt=20,ant=1e4,kF={snippetLength:nnt,threshold:rnt,maxTopSnippets:int,maxCharPerFile:ant,maxNumberOfFiles:snt,maxSnippetsPerFile:ont,useSubsetMatching:!1};var xv={snippetLength:60,threshold:0,maxTopSnippets:16,maxCharPerFile:1e5,maxNumberOfFiles:200,maxSnippetsPerFile:4};function lnt(e,t){return(t.useSubsetMatching?_F.FACTORY(t.snippetLength):IF.FACTORY(t.snippetLength)).to(e)}o(lnt,"getMatcher");async function BF(e,t,r){let n=lnt(e,r);return r.maxTopSnippets===0?[]:(await t.filter(s=>s.source.length<r.maxCharPerFile&&s.source.length>0).slice(0,r.maxNumberOfFiles).reduce(async(s,a)=>(await s).concat((await n.findMatches(a,r.maxSnippetsPerFile)).map(l=>({relativePath:a.relativePath,...l}))),Promise.resolve([]))).filter(s=>s.score&&s.snippet&&s.score>r.threshold).sort((s,a)=>s.score-a.score).slice(-r.maxTopSnippets)}o(BF,"getSimilarSnippets");d();d();function Pye(e,t,r){if(!r)throw new Error("targetTokenBudget must be specified for the truncateFirstLinesFirst summarizer");let n=t.text.split(`
`);for(let E=0;E<n.length-1;E++)n[E]+=`
`;let i=[];n.forEach((E,v)=>{E===`
`&&i.length>0&&!i[i.length-1].endsWith(`

`)?i[i.length-1]+=`
`:i.push(E)});let s=i.map(E=>e.tokenLength(E)),a=1,l=0;for(;a<=s.length;a++){let E=s.at(-a);if(E){if(E+l>r){a--;break}l+=E}}let u=i.slice(-a).join(""),f=e.tokenLength(u),h=i.slice(0,-a).join(""),p=e.tokenLength(h),A={id:t.id,kind:t.kind,text:u,tokens:f,score:t.score},x={id:t.id,kind:t.kind,text:h,tokens:p,score:t.score};return{summarizedElement:A,removedMaterial:x}}o(Pye,"truncateFirstLinesFirst");var RF=class{static{o(this,"SnippetTextProcessor")}constructor(t="default"){switch(t){case"default":default:this.kindToFunctionMap=new Map([["BeforeCursor",Pye]])}}isSummarizationAvailable(t){return this.kindToFunctionMap.has(t)}summarize(t,r,n){return this.kindToFunctionMap.get(r.kind)(t,r,n)}};d();var unt=/(\.|->|::)\w+$/;function Fye(e,t){let r=`Use ${e}`;return Gs(r,t)}o(Fye,"announceTooltipSignatureSnippet");function Nye(e){let t=e.source.substring(0,e.offset);return unt.test(t)}o(Nye,"endsWithAttributesOrMethod");function Lye(e,t){let r=e.lastIndexOf(`
`)+1,n=e.substring(0,r),i=e.substring(r);return t.snippet=t.snippet+i,[n,t]}o(Lye,"transferLastLineToTooltipSignature");var Qye={text:"",tokens:[]};var wT=500,Ev=8192-wT,xJ=4,fnt=150,ST=10,DF=15;var TT=class{constructor(t,r){this.maxPromptLength=Ev;this.lineEnding="unix";this.tokenizerName="cl100k_base";this.suffixPercent=15;this.suffixMatchThreshold=ST;this.promptOrderListPreset="default";this.promptPriorityPreset="default";this.snippetTextProcessingPreset="default";if(Object.assign(this,t),this.suffixPercent<0||this.suffixPercent>100)throw new Error(`suffixPercent must be between 0 and 100, but was ${this.suffixPercent}`);if(this.suffixMatchThreshold<0||this.suffixMatchThreshold>100)throw new Error(`suffixMatchThreshold must be at between 0 and 100, but was ${this.suffixMatchThreshold}`);r==="cpp"?(this.similarFilesOptions??=xv,this.numberOfSnippets??=xv.maxTopSnippets):(this.similarFilesOptions??=kF,this.numberOfSnippets??=xJ)}static{o(this,"PromptOptions")}},dnt={javascriptreact:"javascript",jsx:"javascript",typescriptreact:"typescript",jade:"pug",cshtml:"razor",c:"cpp"};function Ra(e){return e=e.toLowerCase(),dnt[e]??e}o(Ra,"normalizeLanguageId");async function Mye(e,t={},r=[]){let n=new TT(t,e.languageId),i=Ki(n.tokenizerName),s=new RF(n.snippetTextProcessingPreset),a=new _T(n.promptOrderListPreset),l=new PF(n.promptPriorityPreset),{source:c,offset:u}=e;if(u<0||u>c.length)throw new Error(`Offset ${u} is out of range.`);e.languageId=Ra(e.languageId);let f=new NF(i,n.lineEnding,a,s,l),m=r.find(B=>B.provider==="path"),h=r.find(B=>B.provider==="language"),p=r.find(B=>B.provider==="trait"),A=r.find(B=>B.provider==="tooltip-signature");m!==void 0&&m.snippet.length>0?(f.append(m.snippet,"PathMarker"),h&&f.extMarkUnused({text:h.snippet,kind:"LanguageMarker",tokens:i.tokenLength(h.snippet),id:NaN,score:NaN})):h&&f.append(h.snippet,"LanguageMarker"),p!=null&&f.append(p.snippet,"Traits"),r=r.filter(B=>B.provider!=="language"&&B.provider!=="path"&&B.provider!=="tooltip-signature"&&B.provider!=="trait");function x(){Oye(r,e.languageId,i,l,n.numberOfSnippets).forEach(P=>{let F=FF(P.provider);f.append(P.announcedSnippet,F,P.tokens,P.score)})}o(x,"addSnippetsNow"),x();let E=c.substring(0,u);A!==void 0&&i.tokenLength(A.snippet)<=fnt?([E,A]=Lye(E,A),f.append(A.snippet,"TooltipSignature")):A!==void 0&&f.extMarkUnused({text:A.snippet,kind:"TooltipSignature",tokens:i.tokenLength(A.snippet),id:NaN,score:NaN}),f.append(E,"BeforeCursor");let v=c.slice(u),{promptInfo:b,newCachedSuffix:S}=f.fulfill(v,n,Qye);return Qye=S,b}o(Mye,"getPrompt");d();function LF(e,t){if(e.length===0||t.length===0)return{score:e.length+t.length};let r=Array.from({length:e.length}).map(()=>Array.from({length:t.length}).map(()=>0));for(let n=0;n<e.length;n++)r[n][0]=n;for(let n=0;n<t.length;n++)r[0][n]=n;for(let n=0;n<t.length;n++)for(let i=0;i<e.length;i++)r[i][n]=Math.min((i==0?n:r[i-1][n])+1,(n==0?i:r[i][n-1])+1,(i==0||n==0?Math.max(i,n):r[i-1][n-1])+(e[i]==t[n]?0:1));return{score:r[e.length-1][t.length-1]}}o(LF,"findEditDistanceScore");var w5=50,EJ=5,bv=class{constructor(){this.used=new Map;this.unused=new Map}static{o(this,"PromptBackground")}add(t){for(let[r,n]of t.used)this.used.set(r,n);for(let[r,n]of t.unused)this.unused.set(r,n)}markUsed(t){this.IsSnippet(t)&&this.used.set(t.id,this.convert(t))}undoMarkUsed(t){this.IsSnippet(t)&&this.used.delete(t.id)}markUnused(t){this.IsSnippet(t)&&this.unused.set(t.id,this.convert(t))}convert(t){return{score:t.score.toFixed(4),length:t.text.length}}IsSnippet(t){return t.kind=="SimilarFile"||t.kind=="TooltipSignature"}},vv=class{constructor(){this.used=new Map;this.unused=new Map;this.usedCounts=new Map;this.unusedCounts=new Map}static{o(this,"PromptChoices")}toJSON(){return{used:Object.fromEntries(this.used),unused:Object.fromEntries(this.unused),usedCounts:Object.fromEntries(this.usedCounts),unusedCounts:Object.fromEntries(this.unusedCounts)}}add(t){for(let[r,n]of t.used)this.used.set(r,(this.used.get(r)||0)+n);for(let[r,n]of t.unused)this.unused.set(r,(this.unused.get(r)||0)+n);for(let[r,n]of t.usedCounts)this.usedCounts.set(r,(this.usedCounts.get(r)||0)+n);for(let[r,n]of t.unusedCounts)this.unusedCounts.set(r,(this.unusedCounts.get(r)||0)+n)}markUsed(t){this.used.set(t.kind,(this.used.get(t.kind)||0)+t.tokens),t.kind=="BeforeCursor"?this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)+t.text.split(`
`).length):this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)+1)}undoMarkUsed(t){this.used.set(t.kind,(this.used.get(t.kind)||0)-t.tokens),t.kind=="BeforeCursor"?this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)-t.text.split(`
`).length):this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)-1)}markUnused(t){this.unused.set(t.kind,(this.unused.get(t.kind)||0)+t.tokens),t.kind=="BeforeCursor"?this.unusedCounts.set(t.kind,(this.unusedCounts.get(t.kind)||0)+t.text.split(`
`).length):this.unusedCounts.set(t.kind,(this.unusedCounts.get(t.kind)||0)+1)}},_T=class{static{o(this,"PromptOrderList")}constructor(t="default"){this._rankedList=["LanguageMarker","PathMarker","Traits","CodeSnippet","SimilarFile","BeforeCursor","TooltipSignature"]}get rankedList(){return this._rankedList}sortElements(t){return t.sort((r,n)=>{let i=this._rankedList.indexOf(r.kind),s=this._rankedList.indexOf(n.kind);if(i===-1||s===-1)throw new Error(`Invalid element kind: ${r.kind} or ${n.kind}, not found in prompt element ordering list`);return i===s?r.id-n.id:i-s})}},PF=class extends _T{static{o(this,"PromptPriorityList")}constructor(t="default"){switch(super(),t){case"office-exp":this._rankedList=["PathMarker","TooltipSignature","BeforeCursor","CodeSnippet","SimilarFile","LanguageMarker","Traits"];break;default:this._rankedList=["TooltipSignature","BeforeCursor","CodeSnippet","SimilarFile","PathMarker","LanguageMarker","Traits"]}}sortElements(t){return t.sort((r,n)=>{let i=this._rankedList.indexOf(r.kind),s=this._rankedList.indexOf(n.kind);if(i===-1||s===-1)throw new Error(`Invalid element kind: ${r.kind} or ${n.kind}, not found in snippet provider priority list`);return i===s?n.id-r.id:i-s})}};function FF(e){switch(e){case"similar-files":return"SimilarFile";case"path":return"PathMarker";case"language":return"LanguageMarker";case"tooltip-signature":return"TooltipSignature";case"trait":return"Traits";case"code":return"CodeSnippet";default:throw new Error(`Unknown snippet provider type ${e}`)}}o(FF,"kindForSnippetProviderType");var QF=class{constructor(t){this.ranges=new Array;let r=0,n;for(let i of t)i.text.length!==0&&(n==="BeforeCursor"&&i.kind==="BeforeCursor"?this.ranges[this.ranges.length-1].end+=i.text.length:this.ranges.push({kind:i.kind,start:r,end:r+i.text.length}),n=i.kind,r+=i.text.length)}static{o(this,"PromptElementRanges")}},NF=class{constructor(t,r,n,i,s){this.tokenizer=t;this.lineEndingOption=r;this.orderingList=n;this.snippetTextProcessor=i;this.priorityList=s;this.content=[];this.basePromptBackground=new bv;this.baseTallyOfChoices=new vv}static{o(this,"PromptWishlist")}extMarkUnused(t){this.basePromptBackground.markUnused(t),this.baseTallyOfChoices.markUnused(t)}getContent(){return[...this.content]}convertLineEndings(t){return this.lineEndingOption==="unix"&&(t=t.replace(/\r\n?/g,`
`)),t}maxPrefixTokenLength(){return this.content.reduce((t,r)=>t+=r.tokens,0)}append(t,r,n=this.tokenizer.tokenLength(t),i=NaN){t=this.convertLineEndings(t);let s=this.content.length;return this.content.push({id:s,text:t,kind:r,tokens:n,score:i}),s}fulfillPrefix(t){let r=new bv;r.add(this.basePromptBackground);let n=new vv;n.add(this.baseTallyOfChoices);function i(A){r.markUsed(A),n.markUsed(A)}o(i,"markUsed");function s(A){r.undoMarkUsed(A),n.undoMarkUsed(A)}o(s,"undoMarkUsed");function a(A){r.markUnused(A),n.markUnused(A)}o(a,"markUnused"),this.priorityList.sortElements(this.content);let l,c=[],u=t;this.content.forEach(A=>{if(u>0||l===void 0){let x=A.tokens;if(u>=x)u-=x,i(A),c.push(A);else if(A.kind==="BeforeCursor"&&u>0){let{summarizedElement:E,removedMaterial:v}=this.snippetTextProcessor.summarize(this.tokenizer,A,u);A=E,x=A.tokens,u-=x,A.text.length>0&&i(A),v.text.length>0&&a(v),c.push(A)}else l===void 0?l=A:a(A)}else a(A)}),this.orderingList.sortElements(c);let f=c.reduce((A,x)=>A+x.text,""),m=this.tokenizer.tokenLength(f);for(;m>t;){this.priorityList.sortElements(c);let A=c.pop();A&&(s(A),a(A),l!==void 0&&a(l),l=void 0),this.orderingList.sortElements(c),f=c.reduce((x,E)=>x+E.text,""),m=this.tokenizer.tokenLength(f)}let h=[...c];if(l!==void 0){h.push(l),this.orderingList.sortElements(h);let A=h.reduce((E,v)=>E+v.text,""),x=this.tokenizer.tokenLength(A);if(x<=t){i(l);let E=new QF(h);return{prefix:A,suffix:"",prefixLength:x,suffixLength:0,promptChoices:n,promptBackground:r,promptElementRanges:E}}else a(l)}let p=new QF(c);return{prefix:f,suffix:"",prefixLength:m,suffixLength:0,promptChoices:n,promptBackground:r,promptElementRanges:p}}fulfill(t,r,n){if(r.suffixPercent===0||t.length===0)return{promptInfo:this.fulfillPrefix(r.maxPromptLength),newCachedSuffix:n};let i=r.maxPromptLength-EJ,s=Math.floor(i*(100-r.suffixPercent)/100),a=i-s,l=t.replace(/^.*/,"").trimStart();if(i>w5&&a<w5)throw new Error(`Suffix budget is smaller than MAX_EDIT_DISTANCE_LENGTH: ${a} < ${w5}
`);let c=this.tokenizer.takeFirstTokens(l,w5),u=!1;c.tokens.length>0&&r.suffixMatchThreshold>0&&100*LF(c.tokens,n.tokens.slice(0,w5))?.score<r.suffixMatchThreshold*c.tokens.length&&(u=!0);let f;if(u)s=i-n.tokens.length,f=n;else{let h=this.maxPrefixTokenLength(),p=this.tokenizer.tokenLength(l);h<s?(s=h,a=i-s):p<a&&(s=i-p,a=p),f=this.tokenizer.takeFirstTokens(l,a)}let m=this.fulfillPrefix(s);return m.suffix=f.text,m.suffixLength=f.tokens.length,{promptInfo:m,newCachedSuffix:f}}};var mnt={function:"function",snippet:"snippet",snippets:"snippets",variable:"variable",parameter:"parameter",method:"method",class:"class",module:"module",alias:"alias","enum member":"enum member",interface:"interface"};function bJ(e,t){let r=mnt[e.semantics],n=["snippets"].includes(e.semantics)?"these":"this",s=(e.relativePath?`Compare ${n} ${r} from ${e.relativePath}:`:`Compare ${n} ${r}:`)+`
`+e.snippet;return s.endsWith(`
`)||(s+=`
`),Gs(s,t)}o(bJ,"announceSnippet");function Uye(e){e.sort((t,r)=>r.score-t.score)}o(Uye,"sortSnippetsDescending");function hnt(e,t,r){if(t==0)return[];let n=e.map(s=>({...s,kind:FF(s.provider)})),i=[];return r.rankedList.forEach(s=>{let a=n.filter(({kind:l})=>l===s);Uye(a),i.push(...a)}),i.slice(0,t)}o(hnt,"selectSnippets");function Oye(e,t,r,n,i){let a=hnt(e,i,n).map(l=>{let c=bJ(l,t),u=r.tokenLength(c);return{announcedSnippet:c,provider:l.provider,score:l.score,tokens:u,relativePath:l.relativePath}}).filter(l=>l.tokens>0);return Uye(a),a.reverse(),a}o(Oye,"processSnippetsForWishlist");d();var x1=class extends Error{static{o(this,"ProviderTimeoutError")}constructor(t){super(t),this.name="ProviderTimeoutError"}},Lc=class{static{o(this,"SnippetProvider")}constructor(t){this.api=t}getSnippets(t,r){return new Promise((n,i)=>{r.aborted&&i(new H3(this.type,new x1("provider aborted"))),r.addEventListener("abort",()=>{i(new H3(this.type,new x1(`max runtime exceeded: ${vJ} ms`)))},{once:!0});let s=performance.now();this.buildSnippets(t).then(a=>{let l=performance.now();n({snippets:a,providerType:this.type,runtime:l-s})}).catch(a=>{i(new H3(this.type,a))})})}};var MF=class extends Lc{constructor(){super(...arguments);this.type="code"}static{o(this,"CodeSnippetProvider")}async buildSnippets(r){if(r.codeSnippets===void 0||r.codeSnippets.length===0)return[];let{codeSnippets:n}=r,i=new Map;for(let a of n){let l=a.relativePath??a.snippet.uri,c=i.get(l);c===void 0&&(c=[],i.set(l,c)),c.push(a)}let s=[];return i.forEach((a,l)=>{let c=a.map(u=>u.snippet.value).join(`
---
`);s.push({provider:this.type,semantics:a.length>1?"snippets":"snippet",snippet:b0(c),relativePath:l,startLine:0,endLine:0,score:Math.max(...a.map(u=>u.snippet.importance??0))})}),s}};d();var OF=class extends Lc{constructor(){super(...arguments);this.type="language"}static{o(this,"LanguageSnippetProvider")}async buildSnippets(r){let{currentFile:n}=r;return n.languageId=Ra(n.languageId),[{provider:this.type,semantics:"snippet",snippet:b0(xF(n)),relativePath:n.relativePath,startLine:0,endLine:0,score:0}]}};d();var UF=class extends Lc{constructor(){super(...arguments);this.type="path"}static{o(this,"PathSnippetProvider")}async buildSnippets(r){let{currentFile:n}=r;return n.languageId=Ra(n.languageId),[{provider:this.type,semantics:"snippet",snippet:b0(EF(n)),relativePath:n.relativePath,startLine:0,endLine:0,score:0}]}};d();var qF=class extends Lc{constructor(){super(...arguments);this.type="similar-files"}static{o(this,"SimilarFilesProvider")}async buildSnippets(r){let{currentFile:n,similarFiles:i,options:s}=r;return s&&i&&i.length?await this.api.getSimilarSnippets(n,i,s.similarFilesOptions):[]}};d();var WF=class extends Lc{constructor(){super(...arguments);this.type="tooltip-signature"}static{o(this,"TooltipSignatureSnippetProvider")}async buildSnippets(r){let{currentFile:n,tooltipSignature:i}=r,s=[];return n.languageId=Ra(n.languageId),i&&Nye(n)&&s.push({provider:this.type,semantics:"snippet",snippet:b0(Fye(i,n.languageId)),relativePath:n.relativePath,startLine:0,endLine:0,score:0}),s}};d();var GF=class extends Lc{constructor(){super(...arguments);this.type="trait"}static{o(this,"TraitProvider")}async buildSnippets(r){if(r.traits.length===0)return[];let{currentFile:n}=r;return n.languageId=Ra(n.languageId),[{provider:this.type,semantics:"snippet",snippet:Gs(`Consider this related information:
`+r.traits.map(i=>i.kind==="string"?b0(i.value):b0(`${i.name}: ${i.value}`)).join(""),n.languageId),relativePath:n.relativePath,startLine:0,endLine:0,score:0}]}};d();var HF=tt(require("path")),yp=require("worker_threads");function pnt(e){return new Promise(t=>{setTimeout(()=>t(`delay: ${e}`),e)})}o(pnt,"sleep");var qye=["getSimilarSnippets","sleep"],IJ=class{constructor(){this.nextHandlerId=0;this.handlers=new Map;this.fns=new Map;this.getSimilarSnippets=BF;this.sleep=pnt;!yp.isMainThread&&yp.workerData?.port&&(U$(),process.cwd=()=>yp.workerData.cwd,this.configureWorkerResponse(yp.workerData.port))}static{o(this,"WorkerProxy")}initWorker(){let{port1:t,port2:r}=new yp.MessageChannel;this.port=t,this.worker=new yp.Worker(HF.default.resolve(HF.default.extname(__filename)!==".ts"?__dirname:HF.default.resolve(__dirname,"../../dist"),"workerProxy.js"),{workerData:{port:r,cwd:process.cwd()},transferList:[r]}),this.port.on("message",n=>this.handleMessage(n)),this.port.on("error",n=>this.handleError(n))}startThreading(){if(this.worker)throw new Error("Worker thread already initialized.");this.proxyFunctions(),this.initWorker()}stopThreading(){this.worker&&(this.worker.terminate(),this.worker.removeAllListeners(),this.worker=void 0,this.unproxyFunctions(),this.handlers.clear())}proxyFunctions(){for(let t of qye)this.fns.set(t,this[t]),this.proxy(t)}unproxyFunctions(){for(let t of qye){let r=this.fns.get(t);if(r)this[t]=r;else throw new Error(`Unproxy function not found: ${t}`)}}configureWorkerResponse(t){this.port=t,this.port.on("message",r=>void this.onMessage(r))}async onMessage({id:t,fn:r,args:n}){let i=this[r];if(!i)throw new Error(`Function not found: ${r}`);try{let s=await i.apply(this,n);this.port.postMessage({id:t,res:s})}catch(s){if(!(s instanceof Error))throw s;typeof s.code=="string"?this.port.postMessage({id:t,err:s,code:s.code}):this.port.postMessage({id:t,err:s})}}handleMessage({id:t,err:r,code:n,res:i}){let s=this.handlers.get(t);s&&(this.handlers.delete(t),r?(r.code=n,s.reject(r)):s.resolve(i))}handleError(t){let r;if(t instanceof Error){r=t,r.code==="MODULE_NOT_FOUND"&&r.message?.endsWith("workerProxy.js'")&&(r=new y1("Failed to load workerProxy.js"));let n=new Error().stack;r.stack&&n?.match(/^Error\n/)&&(r.stack+=n.replace(/^Error/,""))}else t&&typeof t=="object"&&"name"in t&&t.name==="ExitStatus"&&"status"in t&&typeof t.status=="number"?(r=new Error(`workerProxy.js exited with status ${t.status}`),r.code=`CopilotPromptWorkerExit${t.status}`):r=new Error(`Non-error thrown: ${JSON.stringify(t)}`);for(let n of this.handlers.values())n.reject(r);throw r}proxy(t){this[t]=function(...r){let n=this.nextHandlerId++;return new Promise((i,s)=>{this.handlers.set(n,{resolve:i,reject:s}),this.port?.postMessage({id:n,fn:t,args:r})})}}},VF=new IJ;var vJ=300,gnt=[OF,UF,qF,WF,GF,MF],H3=class extends Error{constructor(r,n){super();this.providerType=r;this.error=n}static{o(this,"ProviderError")}};function Wye(e){return e.status==="fulfilled"}o(Wye,"isFulfilledResult");function Ant(e){return e.status==="rejected"}o(Ant,"isRejectedResult");function TJ(e){return e.filter(Wye).flatMap(t=>t.value.snippets)}o(TJ,"providersSnippets");function wJ(e){return e.filter(Ant).flatMap(t=>t.reason)}o(wJ,"providersErrors");function SJ(e){let t={},r={};return e.forEach(n=>{Wye(n)?(t[n.value.providerType]=Math.round(n.value.runtime),r[n.value.providerType]=!1):ynt(n.reason)&&(r[n.reason.providerType]=!0,t[n.reason.providerType]=0)}),{runtimes:t,timeouts:r}}o(SJ,"providersPerformance");function ynt(e){return e!==null&&typeof e=="object"&&"error"in e&&e.error instanceof x1}o(ynt,"isProviderTimeout");var Rm=class{constructor(t=gnt){this.startThreading=o(()=>VF.startThreading(),"startThreading");this.stopThreading=o(()=>VF.stopThreading(),"stopThreading");this.providers=t.map(r=>new r(VF))}static{o(this,"SnippetOrchestrator")}async getSnippets(t){let r=AbortSignal.timeout(vJ),n=this.providers.map(i=>i.getSnippets(t,r));return Promise.allSettled?Promise.allSettled(n):Cnt(n)}};function Cnt(e){return Promise.all(e.map(t=>t.then(xnt,Ent)))}o(Cnt,"allSettledBackup");function xnt(e){return{status:"fulfilled",value:e}}o(xnt,"createPromiseFulfilledResult");function Ent(e){return{status:"rejected",reason:e}}o(Ent,"createPromiseRejectedResult");d();var jF=class{constructor(t,r,n){this.languageId=t;this.nodeMatch=r;this.nodeTypesWithBlockOrStmtChild=n}static{o(this,"BaseBlockParser")}async getNodeMatchAtPosition(t,r,n){let i=await C1(this.languageId,t);try{let a=i.rootNode.descendantForIndex(r);for(;a;){let l=this.nodeMatch[a.type];if(l){if(!this.nodeTypesWithBlockOrStmtChild.has(a.type))break;let c=this.nodeTypesWithBlockOrStmtChild.get(a.type);if((c==""?a.namedChildren[0]:a.childForFieldName(c))?.type==l)break}a=a.parent}return a?n(a):void 0}finally{i.delete()}}getNextBlockAtPosition(t,r,n){return this.getNodeMatchAtPosition(t,r,i=>{let s=i.children.reverse().find(a=>a.type==this.nodeMatch[i.type]);if(s){if(this.languageId=="python"&&s.parent){let a=s.parent.type==":"?s.parent.parent:s.parent,l=a?.nextSibling;for(;l&&l.type=="comment";){let c=l.startPosition.row==s.endPosition.row&&l.startPosition.column>=s.endPosition.column,u=l.startPosition.row>a.endPosition.row&&l.startPosition.column>a.startPosition.column;if(c||u)s=l,l=l.nextSibling;else break}}if(!(s.endIndex>=s.tree.rootNode.endIndex-1&&(s.hasError()||s.parent.hasError())))return n(s)}})}async isBlockBodyFinished(t,r,n){let i=(t+r).trimEnd(),s=await this.getNextBlockAtPosition(i,n,a=>a.endIndex);if(s!==void 0&&s<i.length){let a=s-t.length;return a>0?a:void 0}}getNodeStart(t,r){let n=t.trimEnd();return this.getNodeMatchAtPosition(n,r,i=>i.startIndex)}},$F=class extends jF{constructor(r,n,i,s,a){super(r,s,a);this.blockEmptyMatch=n;this.lineMatch=i}static{o(this,"RegexBasedBlockParser")}isBlockStart(r){return this.lineMatch.test(r.trimStart())}async isBlockBodyEmpty(r,n){let i=await this.getNextBlockAtPosition(r,n,s=>{s.startIndex<n&&(n=s.startIndex);let a=r.substring(n,s.endIndex).trim();return a==""||a.replace(/\s/g,"")==this.blockEmptyMatch});return i===void 0||i}async isEmptyBlockStart(r,n){return n=Hye(r,n),this.isBlockStart(bnt(r,n))&&this.isBlockBodyEmpty(r,n)}};function bnt(e,t){let r=e.lastIndexOf(`
`,t-1),n=e.indexOf(`
`,t);return n<0&&(n=e.length),e.slice(r+1,n)}o(bnt,"getLineAtOffset");function Hye(e,t){let r=t;for(;r>0&&/\s/.test(e.charAt(r-1));)r--;return r}o(Hye,"rewindToNearestNonWs");function Gye(e,t){let r=e.startIndex,n=e.startIndex-e.startPosition.column,i=t.substring(n,r);if(/^\s*$/.test(i))return i}o(Gye,"indent");function vnt(e,t,r){if(t.startPosition.row<=e.startPosition.row)return!1;let n=Gye(e,r),i=Gye(t,r);return n!==void 0&&i!==void 0&&n.startsWith(i)}o(vnt,"outdented");var S5=class extends jF{constructor(r,n,i,s,a,l,c){super(r,n,i);this.startKeywords=s;this.blockNodeType=a;this.emptyStatementType=l;this.curlyBraceLanguage=c}static{o(this,"TreeSitterBasedBlockParser")}isBlockEmpty(r,n){let i=r.text.trim();return this.curlyBraceLanguage&&(i.startsWith("{")&&(i=i.slice(1)),i.endsWith("}")&&(i=i.slice(0,-1)),i=i.trim()),!!(i.length==0||this.languageId=="python"&&(r.parent?.type=="class_definition"||r.parent?.type=="function_definition")&&r.children.length==1&&Dye(r.parent))}async isEmptyBlockStart(r,n){if(n>r.length)throw new RangeError("Invalid offset");for(let s=n;s<r.length&&r.charAt(s)!=`
`;s++)if(/\S/.test(r.charAt(s)))return!1;n=Hye(r,n);let i=await C1(this.languageId,r);try{let s=i.rootNode.descendantForIndex(n-1);if(s==null||this.curlyBraceLanguage&&s.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&s.parent&&s.parent.type=="object"&&s.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let f=s;for(;f.parent;){if(f.type=="function_signature"||f.type=="method_signature"){let m=s.nextSibling;return m&&f.hasError()&&vnt(f,m,r)?!0:!f.children.find(p=>p.type==";")&&f.endIndex<=n}f=f.parent}}let a=null,l=null,c=null,u=s;for(;u!=null;){if(u.type==this.blockNodeType){l=u;break}if(this.nodeMatch[u.type]){c=u;break}if(u.type=="ERROR"){a=u;break}u=u.parent}if(l!=null){if(!l.parent||!this.nodeMatch[l.parent.type])return!1;if(this.languageId=="python"){let f=l.previousSibling;if(f!=null&&f.hasError()&&(f.text.startsWith('"""')||f.text.startsWith("'''")))return!0}return this.isBlockEmpty(l,n)}if(a!=null){if(a.previousSibling?.type=="module"||a.previousSibling?.type=="internal_module"||a.previousSibling?.type=="def")return!0;let f=[...a.children].reverse(),m=f.find(p=>this.startKeywords.includes(p.type)),h=f.find(p=>p.type==this.blockNodeType);if(m){switch(this.languageId){case"python":{m.type=="try"&&s.type=="identifier"&&s.text.length>4&&(h=f.find(x=>x.hasError())?.children.find(x=>x.type=="block"));let p,A=0;for(let x of a.children){if(x.type==":"&&A==0){p=x;break}x.type=="("&&(A+=1),x.type==")"&&(A-=1)}if(p&&m.endIndex<=p.startIndex&&p.nextSibling){if(m.type=="def"){let x=p.nextSibling;if(x.type=='"'||x.type=="'"||x.type=="ERROR"&&(x.text=='"""'||x.text=="'''"))return!0}return!1}break}case"javascript":{let p=f.find(E=>E.type=="formal_parameters");if(m.type=="class"&&p)return!0;let A=f.find(E=>E.type=="{");if(A&&A.startIndex>m.endIndex&&A.nextSibling!=null||f.find(E=>E.type=="do")&&m.type=="while"||m.type=="=>"&&m.nextSibling&&m.nextSibling.type!="{")return!1;break}case"typescript":{let p=f.find(x=>x.type=="{");if(p&&p.startIndex>m.endIndex&&p.nextSibling!=null||f.find(x=>x.type=="do")&&m.type=="while"||m.type=="=>"&&m.nextSibling&&m.nextSibling.type!="{")return!1;break}}return h&&h.startIndex>m.endIndex?this.isBlockEmpty(h,n):!0}}if(c!=null){let f=this.nodeMatch[c.type],m=c.children.slice().reverse().find(h=>h.type==f);if(m)return this.isBlockEmpty(m,n);if(this.nodeTypesWithBlockOrStmtChild.has(c.type)){let h=this.nodeTypesWithBlockOrStmtChild.get(c.type),p=h==""?c.children[0]:c.childForFieldName(h);if(p&&p.type!=this.blockNodeType&&p.type!=this.emptyStatementType)return!1}return!0}return!1}finally{i.delete()}}},Int={python:new S5("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new S5("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new S5("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new S5("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new $F("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new $F("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map),c_sharp:new S5("csharp",{},new Map([]),[],"block",null,!0),java:new S5("java",{},new Map([]),[],"block",null,!0)};function _J(e){if(!Qu(e))throw new Error(`Language ${e} is not supported`);return Int[SF(e)]}o(_J,"getBlockParser");async function Vye(e,t,r){return Qu(e)?_J(e).isEmptyBlockStart(t,r):!1}o(Vye,"isEmptyBlockStart");async function jye(e,t,r,n){if(Qu(e))return _J(e).isBlockBodyFinished(t,r,n)}o(jye,"isBlockBodyFinished");async function $ye(e,t,r){if(Qu(e))return _J(e).getNodeStart(t,r)}o($ye,"getNodeStart");function kJ(e,t){return new zye.Worker(zF.default.resolve(zF.default.extname(__filename)!==".ts"?__dirname:zF.default.resolve(__dirname,"../../dist"),e),{workerData:t})}o(kJ,"createWorker");var BJ=class{constructor(t){this.ctx=t;this.cache=new xn(200)}static{o(this,"FilterSettingsToExpConfigs")}async fetchExpConfig(t){let r=this.cache.get(t.stringify());return r||(r=new RJ(()=>this.ctx.get(wm).fetchExperiments(this.ctx,t.toHeaders()),1e3*60*60),this.cache.set(t.stringify(),r)),r.run()}getCachedExpConfig(t){return this.cache.get(t.stringify())?.value()}},RJ=class{constructor(t,r=1/0){this.producer=t;this.expirationMs=r}static{o(this,"Task")}async run(){return this.promise===void 0&&(this.promise=this.producer(),this.storeResult(this.promise).then(()=>{this.expirationMs<1/0&&this.promise!==void 0&&setTimeout(()=>this.promise=void 0,this.expirationMs)})),this.promise}async storeResult(t){try{this.result=await t}finally{this.result===void 0&&(this.promise=void 0)}}value(){return this.result}};function Snt(e){return"uri"in e}o(Snt,"isCompletionsFiltersInfo");var ar=class e{constructor(t){this.ctx=t;this.staticFilters={};this.dynamicFilters={};this.dynamicFilterGroups=[];this.upcomingDynamicFilters={};this.assignments=new BJ(this.ctx)}static{o(this,"Features")}static{this.upcomingDynamicFilterCheckDelayMs=20}static{this.upcomingTimeBucketMinutes=5+Math.floor(Math.random()*11)}registerStaticFilters(t){Object.assign(this.staticFilters,t)}registerDynamicFilter(t,r){this.dynamicFilters[t]=r}registerDynamicFilterGroup(t){this.dynamicFilterGroups.push(t)}getDynamicFilterValues(){let t={};for(let r of this.dynamicFilterGroups)Object.assign(t,r());for(let[r,n]of Object.entries(this.dynamicFilters))t[r]=n();return t}registerUpcomingDynamicFilter(t,r){this.upcomingDynamicFilters[t]=r}async updateExPValuesAndAssignments(t,r=rn.createAndMarkAsIssued()){if(r instanceof h1)throw new Error("updateExPValuesAndAssignments should not be called with TelemetryWithExp");let n=t&&Snt(t)?v5(this.ctx,t.uri):void 0,i=A1(n)??"",s=j5e(n)??"",a=t?.languageId??"",l=b5(this.ctx).modelId,c=await V5e(this.ctx),u=await AT(this.ctx,"ft"),f=await AT(this.ctx,"ol"),m=await AT(this.ctx,"cml"),h=await AT(this.ctx,"tid"),p={"X-Copilot-Repository":i,"X-Copilot-FileType":a,"X-Copilot-UserKind":c,"X-Copilot-Dogfood":s,"X-Copilot-Engine":l,"X-Copilot-CustomModel":u,"X-Copilot-Orgs":f,"X-Copilot-CustomModelNames":m,"X-Copilot-CopilotTrackingId":h},A=this.getGranularityDirectory(),x=this.makeFilterSettings(p),E=A.extendFilters(x),v=await this.getExpConfig(E.newFilterSettings);A.update(x,+(v.variables.copilotbycallbuckets??NaN),+(v.variables.copilottimeperiodsizeinh??NaN));let b=A.extendFilters(x),S=b.newFilterSettings,B=await this.getExpConfig(S),P=new Promise(F=>setTimeout(F,e.upcomingDynamicFilterCheckDelayMs));for(let F of b.otherFilterSettingsToPrefetch)P=P.then(async()=>{await new Promise(q=>setTimeout(q,e.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(F)});return this.prepareForUpcomingFilters(S),new h1(r.properties,r.measurements,r.issuedTime,{filters:S,exp:B})}getGranularityDirectory(){if(!this.granularityDirectory){let t=this.ctx.get(ms).machineId;this.granularityDirectory=new LP(t,this.ctx.get(tp))}return this.granularityDirectory}makeFilterSettings(t){return new p3({...this.staticFilters,...this.getDynamicFilterValues(),...t})}async getExpConfig(t){try{return this.assignments.fetchExpConfig(t)}catch(r){return $f.createFallbackConfig(this.ctx,`Error fetching ExP config: ${String(r)}`)}}async prepareForUpcomingFilters(t){if(!(new Date().getMinutes()<60-e.upcomingTimeBucketMinutes))for(let[r,n]of Object.entries(this.upcomingDynamicFilters))await new Promise(i=>setTimeout(i,e.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(t.withChange(r,n()))}stringify(){let t=this.assignments.getCachedExpConfig(new p3({}));return JSON.stringify(t?.variables??{})}async getFallbackExpAndFilters(){let t=this.makeFilterSettings({}),r=await this.getExpConfig(t);return{filters:t,exp:r}}disableLogProb(t){return t.filtersAndExp.exp.variables.copilotdisablelogprob??!0}overrideBlockMode(t){return t.filtersAndExp.exp.variables.copilotoverrideblockmode||void 0}overrideNumGhostCompletions(t){return t.filtersAndExp.exp.variables.copilotoverridednumghostcompletions}customEngine(t){return t.filtersAndExp.exp.variables.copilotcustomengine??""}customEngineTargetEngine(t){return t.filtersAndExp.exp.variables.copilotcustomenginetargetengine}suffixPercent(t){return t.filtersAndExp.exp.variables.CopilotSuffixPercent??DF}suffixMatchThreshold(t){return t.filtersAndExp.exp.variables.copilotsuffixmatchthreshold??ST}cppHeadersShutdownSwitch(t){return t.filtersAndExp.exp.variables.copilotcppheadersshutdownswitch??!1}relatedFilesVSCodeCSharp(t){return t.filtersAndExp.exp.variables.copilotrelatedfilesvscodecsharp??!1}relatedFilesVSCodeTypeScript(t){return t.filtersAndExp.exp.variables.copilotrelatedfilesvscodetypescript??!1}cppIncludeTraits(t){let r=t.filtersAndExp.exp.variables.copilotcppIncludeTraits;if(r)return r.split(",")}cppMsvcCompilerArgumentFilter(t){return t.filtersAndExp.exp.variables.copilotcppMsvcCompilerArgumentFilter}cppClangCompilerArgumentFilter(t){return t.filtersAndExp.exp.variables.copilotcppClangCompilerArgumentFilter}cppGccCompilerArgumentFilter(t){return t.filtersAndExp.exp.variables.copilotcppGccCompilerArgumentFilter}cppCompilerArgumentDirectAskMap(t){return t.filtersAndExp.exp.variables.copilotcppCompilerArgumentDirectAskMap}relatedFilesVSCode(t){return t.filtersAndExp.exp.variables.copilotrelatedfilesvscode??!1}excludeOpenTabFilesCSharp(t){return t.filtersAndExp.exp.variables.copilotexcludeopentabfilescsharp??!1}excludeOpenTabFilesCpp(t){return t.filtersAndExp.exp.variables.copilotexcludeopentabfilescpp??!1}excludeOpenTabFilesTypeScript(t){return t.filtersAndExp.exp.variables.copilotexcludeopentabfilestypescript??!1}fallbackToOpenTabFilesWithNoRelatedFiles(t){return t.filtersAndExp.exp.variables.copilotfallbacktoopentabfiles??!1}contextProviders(t){let r=t.filtersAndExp.exp.variables.copilotcontextproviders??"";return r?r.split(",").map(n=>n.trim()):[]}includeNeighboringFiles(t){return t.filtersAndExp.exp.variables.copilotincludeneighboringfiles??!1}maxPromptCompletionTokens(t){return t.filtersAndExp.exp.variables.maxpromptcompletionTokens??Ev+wT}promptOrderListPreset(t){let r=t.filtersAndExp.exp.variables.copilotpromptorderlistpreset;return"default"}promptPriorityPreset(t){switch(t.filtersAndExp.exp.variables.copilotpromptprioritypreset){case"office-exp":return"office-exp";default:return"default"}}promptComponentsEnabled(t){return t.filtersAndExp.exp.variables.copilotpromptcomponents??!1}ideChatMaxRequestTokens(t){return t.filtersAndExp.exp.variables.idechatmaxrequesttokens??-1}ideChatExpModelIds(t){return t.filtersAndExp.exp.variables.idechatexpmodelids??""}ideChatEnableProjectMetadata(t){return t.filtersAndExp.exp.variables.idechatenableprojectmetadata??!1}ideEnableCopilotEditsAgent(t){return t.filtersAndExp.exp.variables.ideenablecopiloteditsagent??!1}recentEditsInPrompt(t){return t.filtersAndExp.exp.variables.copilotrecenteditsinprompt??!1}recentEditsEditCount(t){return t.filtersAndExp.exp.variables.copilotrecenteditseditcount??5}recentEditsMaxFiles(t){return t.filtersAndExp.exp.variables.copilotrecenteditsmaxfiles??5}recentEditsContextLines(t){return t.filtersAndExp.exp.variables.copilotrecenteditscontextlines??3}recentEditsRemoveDeletedLines(t){return t.filtersAndExp.exp.variables.copilotrecenteditsremovedeletedlines??!1}recentEditsMaxLinesBetweenEdits(t){return t.filtersAndExp.exp.variables.copilotrecenteditsmaxlinesbetweenedits??100}recentEditsActiveDocDistanceLimitFromCursor(t){return t.filtersAndExp.exp.variables.copilotrecenteditsactivedocdistancelimitfromcursor??100}triggerCompletionAfterAccept(t){return t.filtersAndExp.exp.variables.copilottriggercompletionafteraccept}enableAsyncCompletions(t){return t.filtersAndExp.exp.variables.copilotasynccompletions??!1}enableSpeculativeRequests(t){return t.filtersAndExp.exp.variables.copilotspeculativerequests??!1}cppCodeSnippetsFeatures(t){return t.filtersAndExp.exp.variables.copilotcppcodesnippetsFeatureNames}cppCodeSnippetsTimeBudgetFactor(t){return t.filtersAndExp.exp.variables.copilotcppcodesnippetsTimeBudgetFactor}cppCodeSnippetsMaxDistanceToCaret(t){return t.filtersAndExp.exp.variables.copilotcppcodesnippetsMaxDistanceToCaret}disableContextualFilter(t){return t.filtersAndExp.exp.variables.copilotdisablecontextualfilter??!1}vscodeDebounceThreshold(t){return t.filtersAndExp.exp.variables.copilotvscodedebouncethreshold}enableElectronFetcher(t){return t.filtersAndExp.exp.variables.copilotelectronfetcher??!1}asyncCompletionsTimeout(t){return t.filtersAndExp.exp.variables.copilotasynccompletionstimeout??100}enablePromptContextProxyField(t){return t.filtersAndExp.exp.variables.copilotenablepromptcontextproxyfield??!1}enableProgressiveReveal(t){return t.filtersAndExp.exp.variables.copilotprogressivereveal??!1}enablePrefixCompletionsCache(t){return t.filtersAndExp.exp.variables.copilotprefixcompletionscache??!1}};var DJ={};Yg(DJ,{activationEvents:()=>$nt,badges:()=>jnt,bugs:()=>Mnt,build:()=>Dnt,buildType:()=>Pnt,categories:()=>Hnt,contributes:()=>PJ,default:()=>eit,dependencies:()=>Xnt,description:()=>Bnt,devDependencies:()=>Jnt,displayName:()=>knt,enabledApiProposals:()=>Ynt,engines:()=>Gnt,extensionPack:()=>Wnt,homepage:()=>Lnt,icon:()=>Unt,keywords:()=>Vnt,license:()=>Qnt,main:()=>znt,name:()=>_nt,overrides:()=>Znt,preview:()=>Nnt,pricing:()=>qnt,publisher:()=>Fnt,qna:()=>Ont,scripts:()=>Knt,version:()=>Rnt});var _nt="copilot",knt="GitHub Copilot",Bnt="Your AI pair programmer",Rnt="1.304.0",Dnt="1514",Pnt="prod",Fnt="GitHub",Nnt=!1,Lnt="https://github.com/features/copilot?editor=vscode",Qnt="https://docs.github.com/en/site-policy/github-terms/github-terms-for-additional-products-and-features",Mnt={url:"https://github.com/microsoft/vscode-copilot-release/issues"},Ont="https://github.com/github-community/community/discussions/categories/copilot",Unt="assets/Copilot-App-Icon.png",qnt="Trial",Wnt=["GitHub.copilot-chat"],Gnt={vscode:"^1.98.0",node:">=20.0.0",npm:">=9.0.0"},Hnt=["AI","Chat","Programming Languages","Machine Learning"],Vnt=["ai","openai","codex","pilot","snippets","documentation","autocomplete","intellisense","refactor","javascript","python","typescript","php","go","golang","ruby","c++","c#","java","kotlin","co-pilot"],jnt=[{url:"https://img.shields.io/badge/GitHub%20Copilot-Subscription%20Required-orange",href:"https://github.com/github-copilot/signup?editor=vscode",description:"Sign up for GitHub Copilot"},{url:"https://img.shields.io/github/stars/github/copilot-docs?style=social",href:"https://github.com/github/copilot-docs",description:"Star Copilot on GitHub"},{url:"https://img.shields.io/youtube/channel/views/UC7c3Kb6jYCRj4JOHHZTxKsQ?style=social",href:"https://www.youtube.com/@GitHub/search?query=copilot",description:"Check out GitHub on Youtube"},{url:"https://img.shields.io/twitter/follow/github?style=social",href:"https://twitter.com/github",description:"Follow GitHub on Twitter"}],$nt=["onStartupFinished"],znt="./dist/extension",Ynt=["inlineCompletionsAdditions"],PJ={commands:[{command:"github.copilot.toggleStatusMenu",title:"Open Status Menu",category:"GitHub Copilot"},{command:"github.copilot.signIn",title:"Sign In",category:"GitHub Copilot",enablement:"!github.copilot.activated"},{command:"github.copilot.acceptCursorPanelSolution",title:"Accept Panel Suggestion at the Cursor",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.previousPanelSolution",title:"Navigate to the Previous Panel Suggestion",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.nextPanelSolution",title:"Navigate to the Next Panel Suggestion",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.generate",title:"Open Completions Panel",enablement:"github.copilot.activated",category:"GitHub Copilot"},{command:"github.copilot.completions.disable",title:"Disable Completions",enablement:"github.copilot.activated && config.editor.inlineSuggest.enabled && github.copilot.completions.enabled",category:"GitHub Copilot"},{command:"github.copilot.completions.enable",title:"Enable Completions",enablement:"github.copilot.activated && !(config.editor.inlineSuggest.enabled && github.copilot.completions.enabled)",category:"GitHub Copilot"},{command:"github.copilot.completions.toggle",title:"Toggle (Enable/Disable) Completions",enablement:"github.copilot.activated",category:"GitHub Copilot"},{command:"github.copilot.sendFeedback",title:"Send Feedback",category:"GitHub Copilot"},{command:"github.copilot.collectDiagnostics",title:"Collect Diagnostics",category:"GitHub Copilot"},{command:"github.copilot.openLogs",title:"Open Logs",category:"GitHub Copilot"},{command:"github.copilot.openModelPicker",title:"Change Completions Model",category:"GitHub Copilot"},{command:"github.copilot.sendCompletionFeedback",title:"Send Copilot Completion Feedback",category:"GitHub Copilot"}],keybindings:[{command:"github.copilot.generate",key:"ctrl+enter",mac:"ctrl+enter",when:"editorTextFocus && !commentEditorFocused"},{command:"github.copilot.acceptCursorPanelSolution",key:"ctrl+/",mac:"ctrl+/",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.previousPanelSolution",key:"alt+[",mac:"alt+[",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.nextPanelSolution",key:"alt+]",mac:"alt+]",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"editor.action.inlineSuggest.trigger",key:"alt+\\",when:"editorTextFocus && !editorHasSelection && !inlineSuggestionsVisible"}],configuration:[{title:"GitHub Copilot",properties:{"github.copilot.selectedCompletionModel":{type:"string",default:"",markdownDescription:'The currently selected completion model ID. To select from a list of available models, use the __"Change Completion Model"__ command or open the model picker from the Copilot menu. The value must be a valid model ID. An empty value indicates that the default model will be used.'},"github.copilot.advanced":{type:"object",title:"Advanced Settings",properties:{authProvider:{type:"string",enum:["github","github-enterprise"],enumDescriptions:["GitHub.com","GitHub Enterprise"],default:"github",description:"The GitHub identity to use for Copilot"},authPermissions:{type:"string",enum:["default","minimal"],markdownEnumDescriptions:["Default (recommended) - The default permissions enable the best that Copilot has to offer including, but not limited to, faster repo indexing and the power of the `@github` agent.","Minimal - The minimal permissions required for Copilot functionality."],default:"default",markdownDescription:"Controls what kind of permissions are asked for when signing in to Copilot. The options are\n* `default` - (strongly recommended) The default permissions enable the best that Copilot has to offer including, but not limited to, faster repo indexing and the power of the `@github` agent.\n* `minimal` - The minimal permissions are the least that Copilot needs to function. Some features may behave slower or not at all."},useLanguageServer:{type:"boolean",default:!1,description:"Experimental: Use language server"},"debug.overrideEngine":{type:"string",default:"",description:"Override engine name"},"debug.overrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy full URL"},"debug.testOverrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy URL when running tests"},"debug.overrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API full URL"},"debug.testOverrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API URL when running tests"},"debug.filterLogCategories":{type:"array",default:[],deprecationMessage:"Set overrideLogLevels.* to ERROR to filter out unwanted categories.",description:"Show only log categories listed in this setting. If an array is empty, show all loggers"}}},"github.copilot.enable":{type:"object",scope:"window",default:{"*":!0,plaintext:!1,markdown:!1,scminput:!1},additionalProperties:{type:"boolean"},markdownDescription:"Enable or disable Copilot completions for specified [languages](https://code.visualstudio.com/docs/languages/identifiers)"},"github.copilot.inlineSuggest.enable":{type:"boolean",default:!0,deprecationMessage:"This setting has no effect. Please use github.copilot.enable instead.",description:"Show inline suggestions"},"github.copilot.editor.enableAutoCompletions":{type:"boolean",scope:"language-overridable",default:!0,deprecationMessage:"This setting is deprecated. Please use github.copilot.enable instead.",description:"Automatically show inline completions"}}}],configurationDefaults:{"editor.tokenColorCustomizations":{"[*Light*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#000"}}]},"[*Dark*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#fff"}}]}}},languages:[{id:"code-referencing"}],grammars:[{language:"code-referencing",scopeName:"text.ref",path:"./syntaxes/ref.tmGrammar.json"}],iconFonts:[{id:"copilot-font",src:[{path:"assets/copilot.woff",format:"woff"}]}]},Knt={build:"tsx esbuild.ts",clean:"./script/build/clean.sh",compress:"tsx ./script/compressTokenizer.ts","forbid-sources-content:extension":"node script/forbid-sources-content.js --extension",generate_languages:"tsx script/generateLanguages.ts && prettier --write lib/src/language/generatedLanguages.ts",get_token:"tsx script/getToken.ts",lint:'run-p --aggregate-output "lint:*"',"lint:deps":"depcruise -c .dependency-cruiser.js .","lint:eslint":"eslint -f visualstudio --quiet --cache .","lint:prettier":"prettier --check . 2>&1","lint:types":"tsc --noEmit && tsc --noEmit -p extension/src/copilotPanel/webview",prebuild:"npm install",pretest:"npm run build","pretest:headless":"npm run build","pretest:extension":"npm run build","pretest:lsp-client":"npm run build","pretest:lib-e2e":"npm run build",prewatch:"npm run build","prewatch:esbuild":"npm run build",start:"npm run watch",test:'npm-run-all "test:extension --ignore-scripts" "test:headless --ignore-scripts" lint',"test:headless":'npm-run-all test:lib test:agent "test:lib-e2e --ignore-scripts" test:prompt "test:lsp-client --ignore-scripts" lint',"test:agent":'mocha "agent/src/**/*.test.{ts,tsx}"',"test:extension":"tsx extension/test/runTest.ts","test:lib":'mocha "lib/src/**/*.test.{ts,tsx}"',"test:lib-e2e":'mocha "lib/e2e/src/**/*.test.{ts,tsx}" --exclude "lib/e2e/src/prompt/**/*.test.ts"',"test:lib-e2e-no-ci":'mocha "lib/e2e/no-ci/**/*.test.{ts,tsx}"',"test:lib-prompt-e2e":'mocha "lib/e2e/src/prompt/prompt.test.ts"',"test:lib-prompt-e2e-perf":"INCLUDE_PERFORMANCE=true npm run test:lib-prompt-e2e","test:lsp-client":'mocha "lsp-client/test/*.test.{ts,tsx}"',"test:prompt":"npm -C prompt run test","vscode-dts":"vscode-dts dev && mv vscode.proposed.*.ts extension/src","vscode:prepublish":'run-s "build --ignore-scripts" forbid-sources-content:extension',"vscode:uninstall":"node dist/extensionUninstalled.js",vsix:"vsce package --allow-missing-repository",watch:'run-p "watch:esbuild --ignore-scripts" "watch:types -- --preserveWatchOutput"',"watch:esbuild":"tsx esbuild.ts --watch","watch:types":"tsc --noEmit --watch"},Jnt={"@datadog/datadog-ci":"^3.4.0","@github/prettier-config":"0.0.6","@limegrass/eslint-plugin-import-alias":"^1.5.0","@parcel/watcher":"^2.5.1","@types/benchmark":"^2.1.5","@types/crypto-js":"^4.2.2","@types/diff":"^7.0.2","@types/git-url-parse":"^16.0.0","@types/js-yaml":"^4.0.6","@types/kerberos":"^1.1.2","@types/mocha":"^10.0.10","@types/node":"~20.8.0","@types/semver":"^7.7.0","@types/sinon":"^17.0.4","@types/uuid":"^10.0.0","@types/vscode":"1.98.0","@types/yargs":"^17.0.24","@vscode/test-electron":"^2.5.2","@vscode/vsce":"^3.3.2","@yao-pkg/pkg":"^6.4.0",benchmark:"^2.1.4",boxen:"^8.0.1",chalk:"^5.4.1","dependency-cruiser":"^16.10.0",electron:"^28.1.4",esbuild:"^0.25.2","esbuild-plugin-copy":"^2.1.1",eslint:"^9.24.0","eslint-formatter-visualstudio":"^8.40.0","eslint-plugin-mocha":"^10.5.0",fantasticon:"^3.0.0",glob:"^11.0.1",globals:"^16.0.0","js-yaml":"^4.1.0",mocha:"^11.1.0","mocha-junit-reporter":"^2.2.1","mocha-multi-reporters":"^1.5.1","npm-run-all":"^4.1.5",prettier:"^3.5.3","prettier-plugin-organize-imports":"^4.1.0",proxy:"^2.1.1",sinon:"^20.0.0","ts-dedent":"^2.2.0","ts-node":"^10.9.1","tsconfig-paths":"^4.2.0",tsx:"^4.19.3",typescript:"^5.8.3","typescript-eslint":"^8.30.1","vscode-dts":"^0.3.3"},Xnt={"@adobe/helix-fetch":"github:devm33/helix-fetch#1088e599270f36632703f138d88c2100cbe468db","@github/memoize":"1.1.5","@microsoft/1ds-post-js":"^4.3.6","@microsoft/applicationinsights-web-basic":"^3.3.6","@microsoft/tiktokenizer":"^1.0.9","@sinclair/typebox":"^0.34.33","@types/vscode-webview":"^1.57.4","@vscode/codicons":"^0.0.36","@vscode/prompt-tsx":"0.3.0-alpha.21","@vscode/webview-ui-toolkit":"^1.3.1","await-lock":"^2.2.2","crypto-js":"^4.2.0",diff:"^7.0.0",dldr:"^0.0.10","get-stream":"^6.0.1","git-url-parse":"^16.0.3",kerberos:"^2.2.0","mac-ca":"^3.1.1",microjob:"^0.7.0",minimatch:"^9.0.3",open:"^10.1.0",semver:"^7.7.1",shiki:"~1.15.0","source-map-support":"^0.5.21",sqlite3:"^5.1.7",uuid:"^11.1.0","vscode-languageclient":"^9.0.0","vscode-languageserver":"^9.0.0","vscode-languageserver-protocol":"^3.17","vscode-languageserver-textdocument":"~1.0.11","vscode-uri":"^3.1.0","web-tree-sitter":"^0.20.8","windows-ca-certs":"^0.1.0",yargs:"^17.7.2"},Znt={fsevents:"<0",bindings:"npm:bundled-bindings@^1.5.0"},eit={name:_nt,displayName:knt,description:Bnt,version:Rnt,build:Dnt,buildType:Pnt,publisher:Fnt,preview:Nnt,homepage:Lnt,license:Qnt,bugs:Mnt,qna:Ont,icon:Unt,pricing:qnt,extensionPack:Wnt,engines:Gnt,categories:Hnt,keywords:Vnt,badges:jnt,activationEvents:$nt,main:znt,enabledApiProposals:Ynt,contributes:PJ,scripts:Knt,devDependencies:Jnt,dependencies:Xnt,overrides:Znt};var kt={Enable:"enable",UserSelectedCompletionModel:"selectedCompletionModel",ShowEditorCompletions:"editor.showEditorCompletions",EnableAutoCompletions:"editor.enableAutoCompletions",DelayCompletions:"editor.delayCompletions",FilterCompletions:"editor.filterCompletions",FetchStrategy:"fetchStrategy",RelatedFilesVSCodeCSharp:"advanced.relatedFilesVSCodeCSharp",RelatedFilesVSCodeTypeScript:"advanced.relatedFilesVSCodeTypeScript",RelatedFilesVSCode:"advanced.relatedFilesVSCode",ExcludeOpenTabFilesCSharp:"advanced.excludeOpenTabFilesCSharp",ExcludeOpenTabFilesCpp:"advanced.excludeOpenTabFilesCpp",ExcludeOpenTabFilesTypeScript:"advanced.excludeOpenTabFilesTypeScript",FallbackToOpenTabFilesWithNoRelatedFiles:"advanced.fallbackToOpenTabFilesWithNoRelatedFiles",ContextProviders:"advanced.contextProviders",DebugOverrideLogLevels:"advanced.debug.overrideLogLevels",DebugFilterLogCategories:"advanced.debug.filterLogCategories",DebugSnippyOverrideUrl:"advanced.debug.codeRefOverrideUrl",DebugUseElectronFetcher:"advanced.debug.useElectronFetcher",DebugUseEditorFetcher:"advanced.debug.useEditorFetcher",UseSubsetMatching:"advanced.useSubsetMatching",EnablePromptComponents:"advanced.enablePromptComponents",ContextProviderTimeBudget:"advanced.contextProviderTimeBudget",DebugOverrideCapiUrl:"internal.capiUrl",DebugOverrideCapiUrlLegacy:"advanced.debug.overrideCapiUrl",DebugTestOverrideCapiUrl:"internal.capiTestUrl",DebugTestOverrideCapiUrlLegacy:"advanced.debug.testOverrideCapiUrl",DebugOverrideProxyUrl:"internal.completionsUrl",DebugOverrideProxyUrlLegacy:"advanced.debug.overrideProxyUrl",DebugTestOverrideProxyUrl:"internal.completionsTestUrl",DebugTestOverrideProxyUrlLegacy:"advanced.debug.testOverrideProxyUrl",DebugOverrideEngine:"internal.completionModel",DebugOverrideEngineLegacy:"advanced.debug.overrideEngine",UseAsyncCompletions:"internal.useAsyncCompletions",EnableSpeculativeRequests:"internal.enableSpeculativeRequests",EnablePrefixCache:"internal.enablePrefixCache",AlwaysRequestMultiline:"internal.alwaysRequestMultiline",TrimCompletionsAggressively:"internal.trimCompletionsAggressively",VSCodeDebounceThreshold:"internal.vscodeDebounceThreshold",RecentEditsInPrompt:"internal.recentEditsInPrompt",RecentEditsEditCount:"internal.recentEditsEditCount",RecentEditsMaxFiles:"internal.recentEditsMaxFiles",RecentEditsContextLines:"internal.recentEditsContextLines",RecentEditsRemoveDeletedLines:"internal.recentEditsRemoveDeletedLines",RecentEditsMaxLinesBetweenEdits:"internal.recentEditsMaxLinesBetweenEdits",RecentEditsActiveDocDistanceLimitFromCursor:"internal.recentEditsActiveDocDistanceLimitFromCursor",IncludeNeighboringFiles:"internal.includeNeighboringFiles",DebugOverrideCppHeadersShutdownSwitch:"internal.cppHeadersShutdownSwitch"};function Jye(e){return["parsing","parsingandserver","moremultiline"].includes(e)}o(Jye,"shouldDoParsingTrimming");function Xye(e){return["server","parsingandserver"].includes(e)}o(Xye,"shouldDoServerTrimming");var Dm=class{static{o(this,"BlockModeConfig")}},Tv=class extends Dm{static{o(this,"ConfigBlockModeConfig")}forLanguage(t,r,n){let i=t.get(ar).overrideBlockMode(n);if(i)return Yye(i,r);let s=t.get(ar).enableProgressiveReveal(n);return Qn(t,kt.AlwaysRequestMultiline)??s?Yye("moremultiline",r):r=="ruby"?"parsing":Qu(r)?"parsingandserver":"server"}};function tit(e){return["parsing","parsingandserver","moremultiline"].includes(e)}o(tit,"blockModeRequiresTreeSitter");function Yye(e,t){return tit(e)&&!Qu(t)?"server":e}o(Yye,"toApplicableBlockMode");var Cp=class{static{o(this,"ConfigProvider")}},wv=class extends Cp{static{o(this,"DefaultsOnlyConfigProvider")}getConfig(t){return nit(t)}getOptionalConfig(t){return iit(t)}dumpForTelemetry(){return{}}},V3=class extends Cp{constructor(r,n){super();this.baseConfigProvider=r;this.overrides=n}static{o(this,"InMemoryConfigProvider")}getOptionalOverride(r){return this.overrides.get(r)}getConfig(r){return this.getOptionalOverride(r)??this.baseConfigProvider.getConfig(r)}getOptionalConfig(r){return this.getOptionalOverride(r)??this.baseConfigProvider.getOptionalConfig(r)}setConfig(r,n){n!==void 0?this.overrides.set(r,n):this.overrides.delete(r)}dumpForTelemetry(){let r=this.baseConfigProvider.dumpForTelemetry();for(let n of[kt.ShowEditorCompletions,kt.EnableAutoCompletions,kt.DelayCompletions,kt.FilterCompletions]){let i=this.overrides.get(n);i!==void 0&&(r[n]=JSON.stringify(i))}return r}};function rit(e){return e?.type==="object"&&"properties"in e}o(rit,"isContributesObject");function Zye(e,t){let r=e,n=[];for(let i of t.split(".")){let s=[...n,i].join(".");r&&typeof r=="object"&&s in r?(r=r[s],n.length=0):n.push(i)}if(!(r===void 0||n.length>0))return r}o(Zye,"getConfigKeyRecursively");function nit(e){if(Iv.has(e))return Iv.get(e);throw new Error(`Missing config default value: ${S7}.${e}`)}o(nit,"getConfigDefaultForKey");function iit(e){return Iv.get(e)}o(iit,"getOptionalConfigDefaultForKey");var Iv=new Map([[kt.DebugOverrideCppHeadersShutdownSwitch,!1],[kt.RelatedFilesVSCodeCSharp,!1],[kt.RelatedFilesVSCodeTypeScript,!1],[kt.RelatedFilesVSCode,!1],[kt.ExcludeOpenTabFilesCSharp,!1],[kt.ExcludeOpenTabFilesCpp,!1],[kt.ExcludeOpenTabFilesTypeScript,!1],[kt.FallbackToOpenTabFilesWithNoRelatedFiles,!1],[kt.IncludeNeighboringFiles,!1],[kt.ContextProviders,[]],[kt.DebugUseEditorFetcher,null],[kt.DebugUseElectronFetcher,null],[kt.DebugOverrideLogLevels,{}],[kt.DebugSnippyOverrideUrl,""],[kt.FetchStrategy,"auto"],[kt.UseSubsetMatching,null],[kt.EnablePromptComponents,!1],[kt.ContextProviderTimeBudget,150],[kt.DebugOverrideCapiUrl,""],[kt.DebugTestOverrideCapiUrl,""],[kt.DebugOverrideProxyUrl,""],[kt.DebugTestOverrideProxyUrl,""],[kt.DebugOverrideEngine,""],[kt.UseAsyncCompletions,void 0],[kt.EnableSpeculativeRequests,void 0],[kt.EnablePrefixCache,void 0],[kt.AlwaysRequestMultiline,void 0],[kt.TrimCompletionsAggressively,void 0],[kt.VSCodeDebounceThreshold,void 0],[kt.RecentEditsInPrompt,void 0],[kt.RecentEditsEditCount,void 0],[kt.RecentEditsMaxFiles,void 0],[kt.RecentEditsContextLines,void 0],[kt.RecentEditsRemoveDeletedLines,void 0],[kt.RecentEditsMaxLinesBetweenEdits,void 0],[kt.RecentEditsActiveDocDistanceLimitFromCursor,void 0],[kt.ShowEditorCompletions,void 0],[kt.DelayCompletions,void 0],[kt.FilterCompletions,void 0]]);for(let e of Object.values(kt)){let t=PJ.configuration[0],r=[],n=`${S7}.${e}`.split(".");for(;n.length>0;){r.push(n.shift());let i=t.properties[r.join(".")];if(rit(i))r.length=0,t=i;else if(n.length==0&&i?.default!==void 0){if(Iv.has(e))throw new Error(`Duplicate config default value ${S7}.${e}`);Iv.set(e,i.default)}}if(!Iv.has(e))throw new Error(`Missing config default value ${S7}.${e}`)}function Qn(e,t){return e.get(Cp).getConfig(t)}o(Qn,"getConfig");function B2e(e){return e.get(Cp).dumpForTelemetry()}o(B2e,"dumpForTelemetry");var co=class{constructor(){this.packageJson=DJ}static{o(this,"BuildInfo")}isPreRelease(){return this.getBuildType()==="nightly"}isProduction(){return this.getBuildType()!=="dev"}getBuildType(){return this.packageJson.buildType}getVersion(){return this.packageJson.version}getDisplayVersion(){return this.getBuildType()==="dev"?`${this.getVersion()}-dev`:this.getVersion()}getBuild(){return this.packageJson.build}getName(){return this.packageJson.name}};function DP(e){return e.get(co).isProduction()}o(DP,"isProduction");function zf(e){return e.get(co).getBuildType()}o(zf,"getBuildType");function R2e(e){return e.get(co).getBuild()}o(R2e,"getBuild");function N3(e){return e.get(co).getVersion()}o(N3,"getVersion");var ms=class{constructor(t,r,n="none",i="desktop"){this.sessionId=t;this.machineId=r;this.remoteName=n;this.uiKind=i}static{o(this,"EditorSession")}};function fp({name:e,version:t}){return`${e}/${t}`}o(fp,"formatNameAndVersion");var an=class{static{o(this,"EditorAndPluginInfo")}getCopilotIntegrationId(){}},oit="2024-12-15";function d0(e){let t=e.get(an);return{"X-GitHub-Api-Version":oit,"Editor-Version":fp(t.getEditorInfo()),"Editor-Plugin-Version":fp(t.getEditorPluginInfo()),"Copilot-Language-Server-Version":N3(e)}}o(d0,"editorVersionHeaders");var Kye="Iv1.b507a08c87ecfe98",Hs=class{static{o(this,"GitHubAppInfo")}findAppIdToAuthenticate(){return this.githubAppId??Kye}fallbackAppId(){return Kye}};d();d();d();var j3={abap:{extensions:[".abap"]},aspdotnet:{extensions:[".asax",".ascx",".ashx",".asmx",".aspx",".axd"]},bat:{extensions:[".bat",".cmd"]},bibtex:{extensions:[".bib",".bibtex"]},blade:{extensions:[".blade",".blade.php"]},BluespecSystemVerilog:{extensions:[".bsv"]},c:{extensions:[".c",".cats",".h",".h.in",".idc"]},csharp:{extensions:[".cake",".cs",".cs.pp",".csx",".linq"]},cpp:{extensions:[".c++",".cc",".cp",".cpp",".cppm",".cxx",".h",".h++",".hh",".hpp",".hxx",".idl",".inc",".inl",".ino",".ipp",".ixx",".rc",".re",".tcc",".tpp",".txx",".i"]},cobol:{extensions:[".cbl",".ccp",".cob",".cobol",".cpy"]},css:{extensions:[".css",".wxss"]},clojure:{extensions:[".bb",".boot",".cl2",".clj",".cljc",".cljs",".cljs.hl",".cljscm",".cljx",".edn",".hic"],filenames:["riemann.config"]},ql:{extensions:[".ql",".qll"]},coffeescript:{extensions:["._coffee",".cake",".cjsx",".coffee",".iced"],filenames:["Cakefile"]},cuda:{extensions:[".cu",".cuh"]},dart:{extensions:[".dart"]},dockerfile:{extensions:[".containerfile",".dockerfile"],filenames:["Containerfile","Dockerfile"]},dotenv:{extensions:[".env"],filenames:[".env",".env.ci",".env.dev",".env.development",".env.development.local",".env.example",".env.local",".env.prod",".env.production",".env.sample",".env.staging",".env.test",".env.testing"]},html:{extensions:[".ect",".ejs",".ejs.t",".jst",".hta",".htm",".html",".html.hl",".html5",".inc",".jsp",".njk",".tpl",".twig",".wxml",".xht",".xhtml",".phtml",".liquid"]},elixir:{extensions:[".ex",".exs"],filenames:["mix.lock"]},erlang:{extensions:[".app",".app.src",".erl",".es",".escript",".hrl",".xrl",".yrl"],filenames:["Emakefile","rebar.config","rebar.config.lock","rebar.lock"]},fsharp:{extensions:[".fs",".fsi",".fsx"]},go:{extensions:[".go"]},groovy:{extensions:[".gradle",".groovy",".grt",".gtpl",".gvy",".jenkinsfile"],filenames:["Jenkinsfile","Jenkinsfile"]},graphql:{extensions:[".gql",".graphql",".graphqls"]},terraform:{extensions:[".hcl",".nomad",".tf",".tfvars",".workflow"]},hlsl:{extensions:[".cginc",".fx",".fxh",".hlsl",".hlsli"]},erb:{extensions:[".erb",".erb.deface",".rhtml"]},razor:{extensions:[".cshtml",".razor"]},haml:{extensions:[".haml",".haml.deface"]},handlebars:{extensions:[".handlebars",".hbs"]},haskell:{extensions:[".hs",".hs-boot",".hsc"]},ini:{extensions:[".cfg",".cnf",".dof",".ini",".lektorproject",".prefs",".pro",".properties",".url"],filenames:[".buckconfig",".coveragerc",".flake8",".pylintrc","HOSTS","buildozer.spec","hosts","pylintrc","vlcrc"]},json:{extensions:[".4DForm",".4DProject",".JSON-tmLanguage",".avsc",".geojson",".gltf",".har",".ice",".json",".json.example",".jsonl",".mcmeta",".sarif",".tact",".tfstate",".tfstate.backup",".topojson",".webapp",".webmanifest",".yy",".yyp"],filenames:[".all-contributorsrc",".arcconfig",".auto-changelog",".c8rc",".htmlhintrc",".imgbotconfig",".nycrc",".tern-config",".tern-project",".watchmanconfig","MODULE.bazel.lock","Package.resolved","Pipfile.lock","bun.lock","composer.lock","deno.lock","flake.lock","mcmod.info"]},jsonc:{extensions:[".code-snippets",".code-workspace",".jsonc",".sublime-build",".sublime-color-scheme",".sublime-commands",".sublime-completions",".sublime-keymap",".sublime-macro",".sublime-menu",".sublime-mousemap",".sublime-project",".sublime-settings",".sublime-theme",".sublime-workspace",".sublime_metrics",".sublime_session"],filenames:[".babelrc",".devcontainer.json",".eslintrc.json",".jscsrc",".jshintrc",".jslintrc",".swcrc","api-extractor.json","argv.json","devcontainer.json","extensions.json","jsconfig.json","keybindings.json","language-configuration.json","launch.json","profiles.json","settings.json","tasks.json","tsconfig.json","tslint.json"]},java:{extensions:[".jav",".java",".jsh"]},javascript:{extensions:["._js",".bones",".cjs",".es",".es6",".frag",".gs",".jake",".javascript",".js",".jsb",".jscad",".jsfl",".jslib",".jsm",".jspre",".jss",".mjs",".njs",".pac",".sjs",".ssjs",".xsjs",".xsjslib"],filenames:["Jakefile"]},julia:{extensions:[".jl"]},kotlin:{extensions:[".kt",".ktm",".kts"]},less:{extensions:[".less"]},lua:{extensions:[".fcgi",".lua",".luau",".nse",".p8",".pd_lua",".rbxs",".rockspec",".wlua"],filenames:[".luacheckrc"]},makefile:{extensions:[".d",".mak",".make",".makefile",".mk",".mkfile"],filenames:["BSDmakefile","GNUmakefile","Kbuild","Makefile","Makefile.am","Makefile.boot","Makefile.frag","Makefile.in","Makefile.inc","Makefile.wat","makefile","makefile.sco","mkfile"]},markdown:{extensions:[".livemd",".markdown",".md",".mdown",".mdwn",".mdx",".mkd",".mkdn",".mkdown",".ronn",".scd",".workbook"],filenames:["contents.lr"]},"objective-c":{extensions:[".h",".m"]},"objective-cpp":{extensions:[".mm"]},php:{extensions:[".aw",".ctp",".fcgi",".inc",".install",".module",".php",".php3",".php4",".php5",".phps",".phpt",".theme"],filenames:[".php",".php_cs",".php_cs.dist","Phakefile"]},perl:{extensions:[".al",".cgi",".fcgi",".perl",".ph",".pl",".plx",".pm",".psgi",".t"],filenames:[".latexmkrc","Makefile.PL","Rexfile","ack","cpanfile","latexmkrc"]},powershell:{extensions:[".ps1",".psd1",".psm1"]},pug:{extensions:[".jade",".pug"]},python:{extensions:[".cgi",".codon",".fcgi",".gyp",".gypi",".lmi",".py",".py3",".pyde",".pyi",".pyp",".pyt",".pyw",".rpy",".sage",".spec",".tac",".wsgi",".xpy"],filenames:[".gclient","DEPS","SConscript","SConstruct","wscript"]},r:{extensions:[".r",".rd",".rsx"],filenames:[".Rprofile","expr-dist"]},ruby:{extensions:[".builder",".eye",".fcgi",".gemspec",".god",".jbuilder",".mspec",".pluginspec",".podspec",".prawn",".rabl",".rake",".rb",".rbi",".rbuild",".rbw",".rbx",".ru",".ruby",".spec",".thor",".watchr"],filenames:[".irbrc",".pryrc",".simplecov","Appraisals","Berksfile","Brewfile","Buildfile","Capfile","Dangerfile","Deliverfile","Fastfile","Gemfile","Guardfile","Jarfile","Mavenfile","Podfile","Puppetfile","Rakefile","Snapfile","Steepfile","Thorfile","Vagrantfile","buildfile"]},rust:{extensions:[".rs",".rs.in"]},scss:{extensions:[".scss"]},sql:{extensions:[".cql",".ddl",".inc",".mysql",".prc",".sql",".tab",".udf",".viw"]},sass:{extensions:[".sass"]},scala:{extensions:[".kojo",".sbt",".sc",".scala"]},shellscript:{extensions:[".bash",".bats",".cgi",".command",".fcgi",".fish",".ksh",".sh",".sh.in",".tmux",".tool",".trigger",".zsh",".zsh-theme"],filenames:[".bash_aliases",".bash_functions",".bash_history",".bash_logout",".bash_profile",".bashrc",".cshrc",".envrc",".flaskenv",".kshrc",".login",".profile",".tmux.conf",".zlogin",".zlogout",".zprofile",".zshenv",".zshrc","9fs","PKGBUILD","bash_aliases","bash_logout","bash_profile","bashrc","cshrc","gradlew","kshrc","login","man","profile","tmux.conf","zlogin","zlogout","zprofile","zshenv","zshrc"]},slang:{extensions:[".fxc",".hlsl",".s",".slang",".slangh",".usf",".ush",".vfx"]},slim:{extensions:[".slim"]},solidity:{extensions:[".sol"]},stylus:{extensions:[".styl"]},svelte:{extensions:[".svelte"]},swift:{extensions:[".swift"]},systemverilog:{extensions:[".sv",".svh",".vh"]},typescriptreact:{extensions:[".tsx"]},latex:{extensions:[".aux",".bbx",".cbx",".cls",".dtx",".ins",".lbx",".ltx",".mkii",".mkiv",".mkvi",".sty",".tex",".toc"]},typescript:{extensions:[".cts",".mts",".ts"]},verilog:{extensions:[".v",".veo"]},vim:{extensions:[".vba",".vim",".vimrc",".vmb"],filenames:[".exrc",".gvimrc",".nvimrc",".vimrc","_vimrc","gvimrc","nvimrc","vimrc"]},vb:{extensions:[".vb",".vbhtml",".Dsr",".bas",".cls",".ctl",".frm",".vbs"]},vue:{extensions:[".nvue",".vue"]},xml:{extensions:[".adml",".admx",".ant",".axaml",".axml",".builds",".ccproj",".ccxml",".clixml",".cproject",".cscfg",".csdef",".csl",".csproj",".ct",".depproj",".dita",".ditamap",".ditaval",".dll.config",".dotsettings",".filters",".fsproj",".fxml",".glade",".gml",".gmx",".gpx",".grxml",".gst",".hzp",".iml",".ivy",".jelly",".jsproj",".kml",".launch",".mdpolicy",".mjml",".mod",".mojo",".mxml",".natvis",".ncl",".ndproj",".nproj",".nuspec",".odd",".osm",".pkgproj",".plist",".pluginspec",".proj",".props",".ps1xml",".psc1",".pt",".pubxml",".qhelp",".rdf",".res",".resx",".rss",".sch",".scxml",".sfproj",".shproj",".srdf",".storyboard",".sublime-snippet",".svg",".sw",".targets",".tml",".typ",".ui",".urdf",".ux",".vbproj",".vcxproj",".vsixmanifest",".vssettings",".vstemplate",".vxml",".wixproj",".workflow",".wsdl",".wsf",".wxi",".wxl",".wxs",".x3d",".xacro",".xaml",".xib",".xlf",".xliff",".xmi",".xml",".xml.dist",".xmp",".xproj",".xsd",".xspec",".xul",".zcml"],filenames:[".classpath",".cproject",".project","App.config","NuGet.config","Settings.StyleCop","Web.Debug.config","Web.Release.config","Web.config","packages.config"]},xsl:{extensions:[".xsl",".xslt"]},yaml:{extensions:[".mir",".reek",".rviz",".sublime-syntax",".syntax",".yaml",".yaml-tmlanguage",".yaml.sed",".yml",".yml.mysql"],filenames:[".clang-format",".clang-tidy",".clangd",".gemrc","CITATION.cff","glide.lock","pixi.lock","yarn.lock"]},javascriptreact:{extensions:[".jsx"]},legend:{extensions:[".pure"]}};d();d();var eCe=[".ejs",".erb",".haml",".hbs",".j2",".jinja",".jinja2",".liquid",".mustache",".njk",".php",".pug",".slim",".webc"],tCe={".php":[".blade"]},kT=Object.keys(j3).flatMap(e=>j3[e].extensions);var FJ=tt(require("node:path"));var _v=class{constructor(t,r,n){this.languageId=t;this.isGuess=r;this.fileExtension=n}static{o(this,"Language")}},BT=class{static{o(this,"LanguageDetection")}},NJ=new Map,Sv=new Map;for(let[e,{extensions:t,filenames:r}]of Object.entries(j3)){for(let n of t)NJ.set(n,[...NJ.get(n)??[],e]);for(let n of r??[])Sv.set(n,[...Sv.get(n)??[],e])}var LJ=class extends BT{static{o(this,"FilenameAndExensionLanguageDetection")}detectLanguage(t){let r=_o(t.uri),n=FJ.extname(r).toLowerCase(),i=this.extensionWithoutTemplateLanguage(r,n),s=this.detectLanguageId(r,i),a=this.computeFullyQualifiedExtension(n,i);return s?new _v(s.languageId,s.isGuess,a):new _v(t.languageId,!0,a)}extensionWithoutTemplateLanguage(t,r){if(eCe.includes(r)){let n=t.substring(0,t.lastIndexOf(".")),i=FJ.extname(n).toLowerCase();if(i.length>0&&kT.includes(i)&&this.isExtensionValidForTemplateLanguage(r,i))return i}return r}isExtensionValidForTemplateLanguage(t,r){let n=tCe[t];return!n||n.includes(r)}detectLanguageId(t,r){if(Sv.has(t))return{languageId:Sv.get(t)[0],isGuess:!1};let n=NJ.get(r)??[];if(n.length>0)return{languageId:n[0],isGuess:n.length>1};for(;t.includes(".");)if(t=t.replace(/\.[^.]*$/,""),Sv.has(t))return{languageId:Sv.get(t)[0],isGuess:!1}}computeFullyQualifiedExtension(t,r){return t!==r?r+t:t}},QJ=class extends BT{constructor(r){super();this.delegate=r}static{o(this,"GroupingLanguageDetection")}detectLanguage(r){let n=this.delegate.detectLanguage(r),i=n.languageId;return i==="c"||i==="cpp"?new _v("cpp",n.isGuess,n.fileExtension):n}},MJ=class extends BT{constructor(r){super();this.delegate=r}static{o(this,"ClientProvidedLanguageDetection")}detectLanguage(r){return r.uri.startsWith("untitled:")||r.uri.startsWith("vscode-notebook-cell:")?new _v(r.languageId,!0,""):this.delegate.detectLanguage(r)}},sit=new QJ(new MJ(new LJ));function YF({uri:e,languageId:t}){let r=sit.detectLanguage({uri:e,languageId:"UNKNOWN"});return r.languageId==="UNKNOWN"?t:r.languageId}o(YF,"detectLanguage");d();d();d();d();function E1(e){if(e.isCancellationRequested)throw new KF}o(E1,"throwIfCancellationRequested");function RT(e){return e instanceof KF?!0:e instanceof Error&&e.name===OJ&&e.message===OJ}o(RT,"isCancellationError");var KF=class extends Error{static{o(this,"CancellationError")}constructor(){super(OJ),this.name=this.message}},OJ="Canceled",JF=class{constructor(){this.items=[]}static{o(this,"Stack")}push(t){this.items.push(t)}pop(){return this.items.pop()}peek(){return this.items[this.items.length-1]}tryPeek(){return this.items.length>0}toArray(){return this.items}};function $3(e){switch(e){case 0:case 2:case 7:case 8:case 11:case 12:case 13:case 14:return!0;default:return!1}}o($3,"isTypeDefinition");var Zf=class e{static{o(this,"TextRange")}static{this.empty=new e(0,0)}constructor(t,r){this.start=t,this.length=r}static fromBounds(t,r){return new e(t,r-t)}get end(){return this.start+this.length}contains(t){return this.start<=t&&this.end>=t}containsRange(t){return this.start<=t.start&&this.end>=t.end}equals(t){return this.start===t.start&&this.length===t.length}getText(t){return t.slice(this.start,this.end)}getTextWithIndentation(t,r){let n=[],i=this.start;for(i=nCe(t,t.length,i),rCe(n,r);i<this.end;)t[i]!=="\r"&&t[i]!==`
`?n.push(t[i++]):t[i]==="\r"&&i<t.length&&t[i+1]!==`
`||t[i]===`
`?(n.push(`
`),i=nCe(t,t.length,++i),rCe(n,r)):i++;return n.join("")}};function rCe(e,t){for(let r=0;r<t;r++)e.push(" ")}o(rCe,"appendIndent");function nCe(e,t,r){for(;r<t&&(e[r]===" "||e[r]==="	");)r++;return r}o(nCe,"consumeIndent");var kv=class{constructor(t,r,n,i,s,a,l,c,u){this.fileName=t;this.fullyQualifiedName=r;this.unqualifiedName=n;this.commentRange=i;this.nameRange=s;this.bodyRange=a;this.extentRange=l;this.kind=c;this.refKind=u;if(t.indexOf("\\")!==-1)throw new Error("fileName must be normalized to use forward slashes as path separators")}static{o(this,"SymbolRange")}equals(t){return this.fileName===t.fileName&&this.fullyQualifiedName===t.fullyQualifiedName&&this.unqualifiedName===t.unqualifiedName&&this.commentRange.equals(t.commentRange)&&this.nameRange.equals(t.nameRange)&&this.bodyRange.equals(t.bodyRange)&&this.extentRange.equals(t.extentRange)&&this.kind===t.kind&&this.refKind===t.refKind}},Pm=class e{constructor(){this.queriesCache=new Map}static{o(this,"SymbolExtractorBase")}async executeQuery(t,r,n){let i;try{i=await C1(this.languageId,r);let s=i.getLanguage(),l=this.getOrCreateQuery(s,n).matches(i.rootNode),c=new JF,u=[];for(let f of l){let m=this.createSymbolRange(c,t,r,f.captures);m&&u.push(m)}return u}finally{i?.delete()}}getOrCreateQuery(t,r){let n=this.queriesCache.get(r);return n||(n=t.query(r),this.queriesCache.set(r,n)),n}createSymbolRange(t,r,n,i){let s=0,a=0,l=0,c=0,u=0,f=0,m=0,h=0,p=null,A=null;for(let v=0;v<i.length;v++){let b=i[v].name;b==="name"?(u=i[v].node.startIndex,f=i[v].node.endIndex):b==="reference"?(u=i[v].node.startIndex,f=i[v].node.endIndex,l=i[v].node.startIndex,c=i[v].node.endIndex,p=b):b==="body"?(m=i[v].node.startIndex,h=i[v].node.endIndex):b==="comment"?(s=s===0?i[v].node.startIndex:Math.min(s,i[v].node.startIndex),a=Math.max(a,i[v].node.endIndex)):b==="receiver"?A=Zf.fromBounds(i[v].node.startIndex,i[v].node.endIndex).getText(n):(l=i[v].node.startIndex,c=i[v].node.endIndex,p=b)}p==="definition.module.filescoped"&&(h=n.length,c=h);let x=Zf.fromBounds(l,c),E=l>0||c>0||u>0||f>0?new kv(r,"","",Zf.fromBounds(s,a),Zf.fromBounds(u,f),Zf.fromBounds(m,h),x,e.kindFromString(p),0):null;if(E){e.updateScopesForSymbol(t,E);let v=E.nameRange.getText(n),b=this.createNameFromScopes(n,t.toArray());return b=A?`${A}.${b}`:b,new kv(r,b,v.substring(v.lastIndexOf(".")+1),E.commentRange,E.nameRange,E.bodyRange,E.extentRange,E.kind,0)}return null}static updateScopesForSymbol(t,r){for(;t.tryPeek()&&!t.peek()?.extentRange.containsRange(r.extentRange);)t.pop();t.push(r)}static kindFromString(t){switch(t){case"definition.class":return 0;case"definition.constant":return 1;case"definition.enum_variant":return 3;case"definition.enum":return 2;case"definition.field":return 4;case"definition.function":return 5;case"definition.implementation":return 6;case"definition.interface":return 7;case"definition.macro":return 8;case"definition.method":return 9;case"definition.module":case"definition.module.filescoped":return 10;case"definition.struct":return 11;case"definition.trait":return 12;case"definition.type":return 13;case"definition.union":return 14;case"reference":return 16;default:throw new Error("NotSupportedException")}}};var XF=class extends Pm{static{o(this,"GoSymbolExtractor")}get languageId(){return"go"}extractSymbols(t,r){return this.executeQuery(t,r,ait)}createNameFromScopes(t,r){return r.map(n=>n.nameRange.getText(t)).join(".")}},ZF=class extends Pm{static{o(this,"GoReferenceExtractor")}get languageId(){return"go"}createNameFromScopes(t,r){return r.length>0?r[r.length-1].nameRange.getText(t):""}extractReferences(t,r){return this.executeQuery(t,r,lit)}async extractLocalReferences(t,r,n){let i=await this.executeQuery(t,r,cit),s=i.filter(c=>c.kind!==9),a=i.filter(c=>c.kind===9&&c.extentRange.containsRange(n)),l=[];for(let c of a)l.push(...s.filter(u=>c.extentRange.containsRange(u.extentRange)));return l}},ait=`
(
    ((comment)* @comment)
    .
    (type_declaration (type_spec name: (_) @name type: (struct_type (field_declaration_list) @body))) @definition.struct
)

(
    ((comment)* @comment)
    .
    (type_declaration (type_spec name: (_) @name type: (interface_type (_)) @body)) @definition.interface
)

(
    ((comment)* @comment)
    .
    (method_declaration receiver: (parameter_list (parameter_declaration type: [(type_identifier) @receiver (pointer_type (type_identifier) @receiver)] )) name: (_) @name body: (_) @body) @definition.method
)

(
    ((comment)* @comment)
    .
    (method_elem name: (_) @name) @definition.method
)

(
    ((comment)* @comment)
    .
    (function_declaration name: (_) @name) @definition.method
)

(
    ((comment)* @comment)
    .
    (field_declaration name: (_) @name) @definition.field
)
`,lit=`
(call_expression function: (_) @name) @reference

(type_identifier) @reference
`,cit=`
(call_expression function: (_) @name) @reference

(type_identifier) @reference
`;d();var eN=class extends Pm{static{o(this,"JavaSymbolExtractor")}get languageId(){return"java"}extractSymbols(t,r){return this.executeQuery(t,r,uit)}createNameFromScopes(t,r){return r.map(n=>n.nameRange.getText(t)).join(".")}},tN=class extends Pm{static{o(this,"JavaReferenceExtractor")}get languageId(){return"java"}createNameFromScopes(t,r){return r.length>0?r[r.length-1].nameRange.getText(t):""}extractReferences(t,r){return this.executeQuery(t,r,fit)}async extractLocalReferences(t,r,n){let i=await this.executeQuery(t,r,dit),s=i.filter(c=>c.kind!==9),a=i.filter(c=>c.kind===9&&c.extentRange.containsRange(n)),l=[];for(let c of a)l.push(...s.filter(u=>c.extentRange.containsRange(u.extentRange)));return l}},uit=`
(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (class_declaration name: (identifier) @name body: (class_body) @body) @definition.class
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (constructor_declaration name: (identifier) @name body: (constructor_body) @body) @definition.method
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (method_declaration name: (identifier) @name body: (block)? @body) @definition.method
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (interface_declaration name: (identifier) @name body: (interface_body) @body) @definition.interface
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (field_declaration declarator: (variable_declarator name: (identifier) @name)) @definition.field
)

(
    [
        ((line_comment)* @comment)
        ((block_comment)* @comment)
    ]
    .
    (enum_declaration name: (_) @name body: (_) @body) @definition.enum
)

(
    [
        ((line_comment)* @comment)
        ((block_comment)* @comment)
    ]
    .
    (enum_constant name: (identifier) @name) @definition.enum_variant
)
`,fit=`
(method_invocation 
  name: (identifier) @name
) @reference

(type_identifier) @reference
`,dit=`
(method_invocation 
  name: (identifier) @name
) @reference

(type_identifier) @reference
`;d();var mit=new Set(["int","str","float","bool","list","dict","tuple","set"]),rN=class extends Pm{static{o(this,"PythonSymbolExtractor")}get languageId(){return"python"}extractSymbols(t,r){return this.executeQuery(t,r,hit)}createNameFromScopes(t,r){return r.map(n=>n.nameRange.getText(t)).join(".")}},nN=class extends Pm{static{o(this,"PythonReferenceExtractor")}get languageId(){return"python"}createNameFromScopes(t,r){return r.length>0?r[r.length-1].nameRange.getText(t):""}async extractReferences(t,r){return(await this.executeQuery(t,r,pit)).filter(i=>!mit.has(i.unqualifiedName))}async extractLocalReferences(t,r,n){let i=await this.executeQuery(t,r,git),s=i.filter(c=>c.kind!==9),a=i.filter(c=>c.kind===9&&c.extentRange.containsRange(n)),l=[];for(let c of a)l.push(...s.filter(u=>c.extentRange.containsRange(u.extentRange)));return l}},hit=`
(
    ((comment)* @comment)
    .
    (class_definition name: (_) @name body: (_) @body) @definition.class
)

(
    ((comment)* @comment)
    .
    (function_definition name: (_) @name body: (_) @body) @definition.method
)
`,pit=`
(call function: (_) @name) @reference

(type [  
    (identifier)* @name  
    (_ (identifier) @name)* 
]) @reference

(class_definition superclasses: (argument_list (identifier) @name)) @reference
`,git=`
(call function: (_) @name) @reference

(type [  
    (identifier)* @name  
    (_ (identifier) @name)* 
])  @reference

(class_definition superclasses: (argument_list (identifier) @name)) @reference
`;var iN=[{symbolExtractor:new eN,referenceExtractor:new tN,languageId:"java"},{symbolExtractor:new XF,referenceExtractor:new ZF,languageId:"go"},{symbolExtractor:new rN,referenceExtractor:new nN,languageId:"python"}];function oCe(e){let t=YF({uri:e});if(t&&iN.some(r=>t===r.languageId))return t}o(oCe,"getSupportedLanguageIdForFallbackProvider");var sCe=iN.map(e=>e.referenceExtractor),oN=iN.map(e=>e.symbolExtractor),UJ=iN.map(e=>j3[e.languageId].extensions).flat();d();d();var aCe=require("fs");async function lCe(e,t,r,n,i){let s=new Map,a=0;for(let m of e){let h=m.node.fileName.toLowerCase(),p=s.get(h);p?p.symbols.push(m):s.set(h,{symbols:[m],topRank:a}),a++}if(s.delete(r.toLowerCase()),s.size===0)return[];let l=t,c=t/Math.min(4,s.size),u=[],f=Array.from(s.keys());f.sort((m,h)=>{let p=s.get(m).topRank,A=s.get(h).topRank;return p-A});for(let m of f){let h=s.get(m).symbols;if(h.length===0)continue;let p=h[0].node.fileName,A=h.reduce((x,E)=>x+E.node.extentRange.length,0);for(let x of h){if(l<=5)return u;E1(i);let E=x.node.extentRange.length/A,v=Math.min(l,E*c),b=(await Ait([x])).elide(v).getText();l-=n.tokenLength(b),u.push({uri:p,value:b})}}return u}o(lCe,"symbolRangesToCodeSnippets");async function Ait(e){if(e.length===0)return new Xt([]);let t=e[0].node.fileName,r=[],n="";try{let i=Ws(t);i&&(n=(await aCe.promises.readFile(i)).toString())}catch{}for(let i of e)cCe(i,n).forEach(s=>r.push(s));return new Xt(r)}o(Ait,"sameFileSymbolRangeToElidableText");function cCe(e,t){let n=[],i=e.node,s=t.substring(qJ(t,i.commentRange.start),i.commentRange.end);n.push([WJ(s),1-3e-4]);let a=qJ(t,i.bodyRange.start),l=qJ(t,i.extentRange.start),c=i.bodyRange.length===0?t.substring(l,i.extentRange.end):t.substring(i.commentRange.length===0?l:i.commentRange.end,a);if($3(i.kind)&&(c="BEGIN "+c.trimStart()),n.push([WJ(c),1-1e-4]),e.children.length>0)for(let u of e.children)n.push(...cCe(u,t));else{let u=1-($3(e.node.kind)?3e-4:4e-4),f=t.substring(a,i.bodyRange.end);n.push([WJ(f),u])}return $3(i.kind)&&n.push(["END "+c.substring(6),1-1e-4]),n.filter(u=>u[0].length>0)}o(cCe,"prepareForElidableText");function qJ(e,t){for(;t-1>=0&&(e[t-1]==="	"||e[t-1]===" ");)t--;return t}o(qJ,"shiftLeftToNearestLineEndingOrAlphanumeric");function WJ(e){let t=0;for(;t<e.length&&(e[t]==="\r"||e[t]===`
`);)t++;let r=e.length-1;for(;r>=0&&(e[r]==="\r"||e[r]===`
`||e[r]===" "||e[r]==="	");)r--;return e.substring(t,r+1)}o(WJ,"trimLineEndingsAndTrailingWhitespace");var GJ=class{constructor(t,r){this.referenceExtractors=new Map;this.index=t;for(let n of r)this.referenceExtractors.set(n.languageId,n)}static{o(this,"ContextRetrievalStrategy")}},DT=class extends GJ{static{o(this,"UnqualifiedNameRetrievalStrategy")}constructor(t,r,n,i){super(t,r),this.caseSensitive=n,this.typesOnly=i}async getContextAtPositionAsync(t,r,n,i,s){let a=this.referenceExtractors.get(i);if(!a)return[];E1(s);let l=await a.extractReferences(t,r);E1(s);let c=Array.from(l);c.sort((h,p)=>this.compareSymbolRangesByProximityToCaret(h,p,n));let u=[],f=new Set,m=await this.findDefinitionsViaUnqualifiedNames(c,s);this.typesOnly&&(m=m.filter(h=>$3(h.kind)));for(let h of m)f.has(JSON.stringify(h))||(f.add(JSON.stringify(h)),u.push(await this.makeSymbolRangeNodeFromDefinition(h,s)));return u}async findDefinitionsViaUnqualifiedNames(t,r){let n=Array.from(new Set(t.map(f=>f.unqualifiedName))),i=!this.caseSensitive,s=await this.index.findPotentialDefinitionsAsync(n,i,r),a=o(f=>i?f.toLowerCase():f,"lowercaseIfCaseInsensitive"),l=o(f=>a(f.unqualifiedName),"getSymbolKey"),c=new Map;for(let f of s){let m=l(f),h=c.get(m)??[];c.set(m,[...h,f])}let u=[];for(let f of n){let m=c.get(a(f));!m||m.length>20||u.push(...m)}return u}async makeSymbolRangeNodeFromDefinition(t,r){if(E1(r),$3(t.kind)){let n=await this.index.findSymbolsByFullyQualifiedNamePrefix(t.fileName,t.fullyQualifiedName+".",r),i=await Promise.all(n.map(s=>this.makeSymbolRangeNodeFromDefinition(s,r)));return{node:t,children:i}}else return{node:t,children:[]}}compareSymbolRangesByProximityToCaret(t,r,n){let i=t.extentRange.end<=n,s=r.extentRange.end<=n;if(i&&!s)return-1;if(!i&&s)return 1;let a=Math.abs(t.extentRange.start-n),l=Math.abs(r.extentRange.start-n);return a-l}},sN=class{constructor(t,r){this.strategies=new Map;this.strategies.set("go",new DT(t,r,!0,!0)),this.strategies.set("java",new DT(t,r,!0,!0)),this.strategies.set("python",new DT(t,r,!0,!1))}static{o(this,"SyntaxAwareContextRetrieval")}async getStringifiedContextAtPositionAsync(t,r,n,i,s,a){let l=await this.getContextAtPositionAsync(t,r,n,i,a);E1(a);let c=Ki();return lCe(l,s,t,c,a)}async getContextAtPositionAsync(t,r,n,i,s){return this.strategies.has(i)?this.strategies.get(i).getContextAtPositionAsync(t,r,n,i,s):[]}};d();d();d();d();var z3={Id:"id"},Mu={FilePath:"filePath",LastWriteTimeUtc:"lastWriteTimeUtc"},vi={DocumentId:"documentId",FullyQualifiedName:"fullyQualifiedName",UnqualifiedName:"unqualifiedName",CommentStart:"commentStart",CommentLength:"commentLength",NameStart:"nameStart",NameLength:"nameLength",BodyStart:"bodyStart",BodyLength:"bodyLength",ExtentStart:"extentStart",ExtentLength:"extentLength",SymbolKind:"symbolKind",RefKind:"refKind"};d();d();var aN=class{constructor(t,r,n){this.tableName=t;this.createOptimizations=r;this.extraCreateDeclarations=n;this.primaryKey=new HJ(z3.Id)}static{o(this,"SQLTableQueryGenerator")}createTableQueries(){return this.createTableString??=this.generateCreateTableString(),[this.createTableString,...this.createOptimizations]}generateCreateTableString(){let t=this.fields.map(r=>r.initColumnString());return this.extraCreateDeclarations&&t.push(this.extraCreateDeclarations),t.push(),[`CREATE TABLE IF NOT EXISTS ${this.tableName} (`,`    ${this.primaryKey.initColumnString()},`,`    ${t.join(`,
`)}`,")"].join(`
`)}insertQuery(t,r){this.cachedInsertQueryStrings??=this.generateInsertQueryStrings();let n=[this.cachedInsertQueryStrings.prefix,Array(r).fill(this.cachedInsertQueryStrings.valuesTemplate).join(`,
`)];return t&&n.push("ON CONFLICT DO NOTHING"),n.join(`
`)}generateInsertQueryStrings(){return{prefix:`INSERT INTO ${this.tableName} (${this.fields.map(t=>t.name).join(", ")})
VALUES`,valuesTemplate:`(${Array(this.fields.length).fill("?").join(", ")})`}}},PT=class e extends aN{constructor(){super(e.tableName,[`CREATE UNIQUE INDEX IF NOT EXISTS 'IX_Document_FilePath' ON '${e.tableName}' ('${Mu.FilePath}');`]);this.fields=[new LT(Mu.FilePath,{notNull:!0,collate:!0,noCase:!0,unique:!0}),new Qc(Mu.LastWriteTimeUtc,{notNull:!0})]}static{o(this,"DocumentQueryGenerator")}static{this.tableName="Document"}},FT=class e extends aN{constructor(){super(e.tableName,[`CREATE INDEX IF NOT EXISTS 'IX_Symbol_DocumentId' ON '${e.tableName}' ('${vi.DocumentId}', '${vi.ExtentStart}', '${vi.ExtentLength}');`,`CREATE INDEX IF NOT EXISTS 'IX_Symbol_UnqualifiedName' ON '${e.tableName}' ('${vi.UnqualifiedName}');`],`FOREIGN KEY(${vi.DocumentId}) REFERENCES Document(${z3.Id}) ON DELETE CASCADE`);this.fields=[new Qc(vi.DocumentId),new LT(vi.FullyQualifiedName,{notNull:!0}),new LT(vi.UnqualifiedName,{notNull:!0}),new Qc(vi.CommentStart,{notNull:!0}),new Qc(vi.CommentLength,{notNull:!0}),new Qc(vi.NameStart,{notNull:!0}),new Qc(vi.NameLength,{notNull:!0}),new Qc(vi.BodyStart,{notNull:!0}),new Qc(vi.BodyLength,{notNull:!0}),new Qc(vi.ExtentStart,{notNull:!0}),new Qc(vi.ExtentLength,{notNull:!0}),new Qc(vi.SymbolKind,{notNull:!0}),new Qc(vi.RefKind,{notNull:!0})]}static{o(this,"SymbolQueryGenerator")}static{this.tableName="Symbol"}},NT=class{constructor(t,r){this.name=t;this.notNull=r?.notNull??!1}static{o(this,"SQLField")}},LT=class extends NT{static{o(this,"StringColumn")}constructor(t,r){super(t,{notNull:r?.notNull}),this.collate=r?.collate??!1,this.noCase=r?.noCase??!1,this.unique=r?.unique??!1}initColumnString(){let t=this.collate?"COLLATE":void 0,r=this.noCase?"NOCASE":void 0,n=this.notNull?"NOT NULL":void 0,i=this.unique?"UNIQUE":void 0,s=[t,r,n,i].filter(a=>a).join(" ");return`'${this.name}' VARCHAR(500) ${s}`}},Qc=class extends NT{static{o(this,"NumberColumn")}initColumnString(){return`'${this.name}' INTEGER${this.notNull?" NOT NULL":""}`}},HJ=class extends NT{static{o(this,"NumberPrimaryKeyColumn")}initColumnString(){return`'${this.name}' INTEGER PRIMARY KEY AUTOINCREMENT${this.notNull?" NOT NULL":""}`}};var lN=class{static{o(this,"SQLTable")}constructor(t){this.queryGenerator=this.createQueryGenerator(),this.init=this.doInit(t)}async doInit(t){let r=await t;if(r)return await this.create(r),r}async create(t){let r=o(i=>new Promise((s,a)=>{t.run(i,l=>{l?a(l):s()})}),"runQuery"),n=this.queryGenerator.createTableQueries();for(let i of n)await r(i)}async insert(t,r){let n=await this.init;n&&await new Promise((i,s)=>{let a=this.queryGenerator.insertQuery(r,t.length);n.run(a,t.map(l=>Object.values(l)).flat(),function(l){l?s(l):i(this)})})}async getAllRows(){let t=await this.init;return t?ed(t,`SELECT * FROM ${this.queryGenerator.tableName}`,[]):[]}async deleteRow(t){let r=await this.init;if(r)return ed(r,`DELETE FROM ${this.queryGenerator.tableName} WHERE ${z3.Id} = ?`,[t])}},b1=class e extends lN{static{o(this,"DocumentTable")}static{this.tableName=PT.tableName}createQueryGenerator(){return new PT}async updateTimestamp(t,r){let n=await this.init;n&&await ed(n,`UPDATE ${e.tableName} SET ${Mu.LastWriteTimeUtc} = ? WHERE ${Mu.FilePath} = ?`,[r,t])}async deleteAllWithPath(t){let r=await this.init;r&&await ed(r,`DELETE FROM ${e.tableName} WHERE ${Mu.FilePath} = ?`,[t])}async getDocumentByFilePath(t){let r=await this.init;return r?ed(r,`SELECT * FROM ${this.queryGenerator.tableName} WHERE ${Mu.FilePath} = ?`,[t]):[]}},Da=class e extends lN{static{o(this,"SymbolTable")}static{this.tableName=FT.tableName}createQueryGenerator(){return new FT}async clearAllSymbolsFromDocument(t){let r=await this.init;if(r)return ed(r,`DELETE FROM ${e.tableName} WHERE ${vi.DocumentId} = ?`,[t])}};async function ed(e,t,r){return new Promise((n,i)=>e.all(t,r,(s,a)=>{s&&i(s),n(a)}))}o(ed,"runPromisifiedDBQuery");var fN=class{constructor(t){this.databaseFileName=t;this.innerJoinStatement=`INNER JOIN ${b1.tableName} ON ${Da.tableName}.${vi.DocumentId} = ${b1.tableName}.${z3.Id}`;this.db=this.initDb(t),this.documentTable=new b1(this.db),this.symbolTable=new Da(this.db)}static{o(this,"DocumentSymbolDatabase")}async initDb(t){let r;try{r=await Promise.resolve().then(()=>tt(ECe()))}catch(i){console.error("Error loading sqlite3 module:",i);return}let n;try{n=await new Promise((i,s)=>{let a=new r.default.Database(t,l=>{l?s(l):i(a)})})}catch(i){console.error("Error initializing database:",i);return}return await ed(n,"pragma journal_mode=wal",[]),await ed(n,"pragma synchronous=normal",[]),await ed(n,"pragma optimize=0x10002",[]),await ed(n,"pragma foreign_keys = ON",[]),n}async close(){let t=await this.db;if(t)return await this.documentTable.init,await this.symbolTable.init,new Promise((r,n)=>{t.close(i=>i?n(i):r())})}async querySymbolsFuzzilyUsingUnqualifiedName(t,r){return await this.query([`SELECT * FROM ${Da.tableName}`,this.innerJoinStatement,`WHERE ${vi.UnqualifiedName} BETWEEN ? AND (? || '~')`,`ORDER BY ${vi.UnqualifiedName}`,"LIMIT ?"].join(`
`),[t,t,r])}async querySymbolsUsingUnqualifiedNames(t,r){let n=t.map(()=>"?").join(", "),i=r?"COLLATE NOCASE ":"";return await this.query([`SELECT * FROM ${Da.tableName}`,this.innerJoinStatement,`WHERE ${vi.UnqualifiedName} ${i}IN (${n})`].join(`
`),t)}async querySymbolsUsingFullyQualifiedName(t){return this.query([`SELECT * FROM ${Da.tableName}`,this.innerJoinStatement,`WHERE ${vi.FullyQualifiedName} = ?`].join(`
`),[t])}async querySymbolsContainingPosition(t,r){return this.query([`SELECT * FROM ${Da.tableName}`,this.innerJoinStatement,`WHERE ${b1.tableName}.${Mu.FilePath} = ? AND ${Da.tableName}.${vi.ExtentStart} <= ? AND (${Da.tableName}.${vi.ExtentStart} + ${Da.tableName}.${vi.ExtentLength}) >= ?`].join(`
`),[t,r,r])}async querySymbolsContainedByRange(t,r,n){return this.query([`SELECT * FROM ${Da.tableName}`,this.innerJoinStatement,`WHERE ${b1.tableName}.${Mu.FilePath} = ? AND ${Da.tableName}.${vi.ExtentStart} >= ? AND (${Da.tableName}.${vi.ExtentStart} + ${Da.tableName}.${vi.ExtentLength}) <= ?`,`ORDER BY ${Da.tableName}.${vi.ExtentStart}`].join(`
`),[t,r,n])}async querySymbolsByQualifiedNamePrefix(t,r){return this.query([`SELECT * FROM ${Da.tableName}`,this.innerJoinStatement,`WHERE ${b1.tableName}.${Mu.FilePath} = ? AND ${Da.tableName}.${vi.FullyQualifiedName} LIKE ?`,`ORDER BY ${Da.tableName}.${vi.ExtentStart}`].join(`
`),[t,`${r}%`])}async insertSymbols(t){return await this.symbolTable.insert(t,!1)}async insertDocument(t,r,n=!1){return await this.documentTable.insert([{filePath:t,lastWriteTimeUtc:r}],n)}async clearAllSymbolsFromDocument(t){return this.symbolTable.clearAllSymbolsFromDocument(t)}async updateDocumentTimestamp(t,r){return this.documentTable.updateTimestamp(t,r)}async deleteAllDocumentsWithPath(t){return this.documentTable.deleteAllWithPath(t)}async getAllDocuments(){return this.documentTable.getAllRows()}getDocument(t){return this.documentTable.getDocumentByFilePath(t)}async query(t,r){let n=await this.db;return n?(await this.documentTable.init,await this.symbolTable.init,ed(n,t,r)):[]}};var dN=class{static{o(this,"SQLStorageReaderWriter")}constructor(t){this.database=new fN(t)}async close(){await this.database.close()}async insertOrReplaceDocumentSymbolsAsync(t,r,n){let i=await this.getOrCreateDocumentAsync(t,r);await this.database.clearAllSymbolsFromDocument(i.id),n.length>0&&await this.database.insertSymbols(n.map(s=>({documentId:i.id,fullyQualifiedName:s.fullyQualifiedName,unqualifiedName:s.unqualifiedName,commentStart:s.commentRange.start,commentLength:s.commentRange.length,nameStart:s.nameRange.start,nameLength:s.nameRange.length,bodyStart:s.bodyRange.start,bodyLength:s.bodyRange.length,extentStart:s.extentRange.start,extentLength:s.extentRange.length,symbolKind:s.kind,refKind:s.refKind}))),await this.database.updateDocumentTimestamp(t,r)}async addDocumentsAsync(t){for(let r of t)r=r.toLowerCase(),await this.database.insertDocument(r,Date.now(),!0)}async deleteDocumentAsync(t){return await this.database.deleteAllDocumentsWithPath(t.toLowerCase())}async updateDocumentTimestampAsync(t,r){return await this.database.updateDocumentTimestamp(t.toLowerCase(),r)}async fuzzyMatchSymbolsAsync(t,r){return Dv(await this.database.querySymbolsFuzzilyUsingUnqualifiedName(t,r))}async findPotentialDefinitionsAsync(t,r,n){let i=[],a=0;for(;a<t.length;){let l=t.slice(a,a+500);a+=500;let c=await this.database.querySymbolsUsingUnqualifiedNames(l,r);i.push(...c),E1(n)}return Dv(i)}async getDefinitionsAsync(t){return Dv(await this.database.querySymbolsUsingFullyQualifiedName(t))}async findSymbolsContainingPositionAsync(t,r){let n=await this.database.querySymbolsContainingPosition(t.toLowerCase(),r);return Dv(n)}async findSymbolsContainedByRangeAsync(t,r,n){return Dv(await this.database.querySymbolsContainedByRange(t.toLowerCase(),r,n))}async findSymbolsByFullyQualifiedNamePrefix(t,r){return Dv(await this.database.querySymbolsByQualifiedNamePrefix(t.toLowerCase(),r))}async getDocumentsAsync(){return this.database.getAllDocuments()}async getDocumentAsync(t){let r=await this.database.getDocument(t);if(r?.at(0))return r[0]}async getOrCreateDocumentAsync(t,r){let n=await this.database.getDocument(t);if(n?.at(0))return n[0];await this.database.insertDocument(t,r,!0);let i=await this.database.getDocument(t);if(!i)throw Error("Unable to insert document");return i[0]}};function Dv(e){return e.map(t=>new kv(t.filePath,t.fullyQualifiedName,t.unqualifiedName,new Zf(t.commentStart,t.commentLength),new Zf(t.nameStart,t.nameLength),new Zf(t.bodyStart,t.bodyLength),new Zf(t.extentStart,t.extentLength),t.symbolKind,t.refKind))}o(Dv,"symbolsToSymbolRanges");var hN=tt(require("fs/promises"));var mN=class{static{o(this,"Index")}constructor(t,r){this.storage=new dN(t),this.symbolExtractors=r}dispose(){return this.storage.close()}get reader(){return this.storage}async indexFile(t,r){let n=Ws(t);if(!n)throw Error(`Cannot resolve a readable file path from ${t}`);let i;try{i=await hN.stat(n)}catch{await this.storage.deleteDocumentAsync(t);return}let s=i.mtimeMs,a=await this.storage.getDocumentAsync(t);if(a&&a.lastWriteTimeUtc>=s)return;let l=this.symbolExtractors.find(f=>f.languageId==r);if(!l)return;let c=(await hN.readFile(n)).toString(),u=await l.extractSymbols(t,c);await this.storage.insertOrReplaceDocumentSymbolsAsync(t,s,u)}async getDocumentFilePaths(){return(await this.storage.getDocumentsAsync()).map(r=>r.filePath)}};d();function KJ(e){let t=e;return typeof t?.cwd=="string"&&Array.isArray(t?.indexWorkspaceRoots)&&t.indexWorkspaceRoots.every(r=>Iit(r))}o(KJ,"isIndexWorkerData");var MT=class{static{o(this,"IndexNotification")}constructor(t){this.operation=t}},_5=class extends MT{constructor(r,n){super(n);this.id=r;this.id=r}static{o(this,"IndexRequest")}},pN=class extends MT{constructor(r){super(v0.Cancel);this.messageIdToCancel=r}static{o(this,"CancellationNotification")}},v0={CreateIndex:"createIndex",AddOrInvalidated:"addOrInvalidated",GetContext:"getContext",Exit:"exit",Response:"response",RemoveIndex:"removeIndex",Cancel:"cancel",GetAllDocumentsInWorkspace:"getAllDocumentsInWorkspace"},gN=class extends _5{constructor(r,n,i){super(r,v0.CreateIndex);this.baseWorkspaceFolderUri=n;this.databaseFilePath=i}static{o(this,"CreateIndexRequest")}},AN=class extends _5{constructor(r,n){super(r,v0.RemoveIndex);this.baseWorkspaceFolderUri=n}static{o(this,"RemoveIndexRequest")}},yN=class extends _5{constructor(r,n,i){super(r,v0.AddOrInvalidated);this.fileUri=n;this.languageId=i}static{o(this,"AddOrInvalidatedRequest")}},CN=class extends _5{constructor(r,n){super(r,v0.GetAllDocumentsInWorkspace);this.baseWorkspaceFolderUri=n}static{o(this,"GetAllDocumentsRequest")}},xN=class extends _5{constructor(r,n,i,s,a){super(r,v0.GetContext);this.fileUri=n;this.code=i;this.offset=s;this.languageId=a}static{o(this,"GetContextRequest")}},EN=class extends _5{static{o(this,"ExitRequest")}constructor(t){super(t,v0.Exit)}},Fm=class extends MT{constructor(r,n,i){super(v0.Response);this.id=r;this.error=n;this.data=i;n&&"code"in n&&typeof n.code=="string"&&(this.code=n.code)}static{o(this,"ResponseMessage")}};function Iit(e){return"databaseFilePath"in e&&"rootPath"in e}o(Iit,"isIndexableWorkspaceFolder");var bCe=tt(Vn()),Y3=require("worker_threads");var bN=class{static{o(this,"IndexInfo")}constructor(t){this.index=new mN(t,oN),this.contextRetreival=new sN(this.index.reader,sCe)}},JJ=class e{constructor(t,r){this.indices=new Map;this.cancellationTokens=new Map;for(let n of r){let i=Yf(n.rootPath);this.indices.set(i,new bN(n.databaseFilePath))}this.port=t,this.port.on("message",n=>void this.dispatchMessage(n,this.indices,this.cancellationTokens))}static{o(this,"IndexWorker")}async dispatchMessage(t,r,n){try{let i=new bCe.CancellationTokenSource;n.set(t.id,i);let s;switch(t.operation){case v0.AddOrInvalidated:s=await e.dispatchAddOrInvalidate(t,r,i.token);break;case v0.GetContext:s=await e.dispatchGetContext(t,r,i.token);break;case v0.Cancel:n.get(t.id)?.cancel(),s=new Fm(t.id,void 0,void 0);break;case v0.Exit:s=await this.dispatchExit(t,r,i.token);break;case v0.CreateIndex:s=await e.dispatchCreateIndex(t,r,i.token);break;case v0.RemoveIndex:s=await e.dispatchRemoveIndex(t,r,i.token);break;case v0.GetAllDocumentsInWorkspace:s=await e.GetAllDocumentsInWorkspaceRequest(t,r,i.token);break;default:this.port?.postMessage(new Error(`Unknown operation: ${t.operation}`))}s&&this.port?.postMessage(s),n.get(t.id)?.dispose(),n.delete(t.id)}catch(i){if(!(i instanceof Error))throw i;this.port?.postMessage(new Fm(t.id,i,void 0))}}static async GetAllDocumentsInWorkspaceRequest(t,r,n){let i=Yf(t.baseWorkspaceFolderUri),s,a;return r.has(i)?a=await r.get(i).index.getDocumentFilePaths():s=new Error(`Index not found for ${t.baseWorkspaceFolderUri}`),new Fm(t.id,s,a)}static async dispatchAddOrInvalidate(t,r,n){let i=Yf(t.fileUri),s=e.getIndexInfo(i,r)?.index,a;return s?await s.indexFile(t.fileUri,t.languageId):a=new Error(`Index not found for ${t.fileUri}`),new Fm(t.id,a,void 0)}static async dispatchGetContext(t,r,n){let i=Yf(t.fileUri),s=e.getIndexInfo(i,r)?.contextRetreival,a,l;return s?l=await s.getStringifiedContextAtPositionAsync(t.fileUri,t.code,t.offset,t.languageId,8e3,n):a=new Error(`ContextRetrieval not found for ${t.fileUri}`),new Fm(t.id,a,l)}async dispatchExit(t,r,n){for(let i of r.values())await i.index.dispose();r.clear(),this.port?.postMessage(new Fm(t.id,void 0,void 0)),this.port?.close()}static async dispatchCreateIndex(t,r,n){let i=Yf(t.baseWorkspaceFolderUri);return r.has(i)||r.set(i,new bN(t.databaseFilePath)),new Fm(t.id,void 0,void 0)}static async dispatchRemoveIndex(t,r,n){let i=Yf(t.baseWorkspaceFolderUri);if(r.has(i)){let s=r.get(i);s&&await s.index.dispose(),r.delete(i)}return new Fm(t.id,void 0,void 0)}static getIndexInfo(t,r){for(let[n,i]of r)if(t.startsWith(n))return i}};function vCe(){return KJ(Y3.workerData)}o(vCe,"isIndexWorker");function ICe(){let e=Y3.parentPort;if(!e)throw new Error("This must be run a worker thread.");if(!KJ(Y3.workerData))throw new Error("Worker data must provide a valid database path.");let t=Y3.workerData.cwd;process.cwd=()=>t,new JJ(e,Y3.workerData.indexWorkspaceRoots)}o(ICe,"runIndexWorker");d();var OT=tt(require("util"));function TCe(e){let t=new console.Console(process.stderr,process.stderr);function r(n,...i){if(zf(e)==="dev")return e.get(_a).logIt(e,n,"console",...i)}return o(r,"logIt"),t.debug=(...n)=>r(4,...n),t.info=(...n)=>r(3,...n),t.warn=(...n)=>r(2,...n),t.error=(...n)=>r(1,...n),t.assert=(n,...i)=>{n||(i.length===0?r(2,"Assertion failed"):r(2,"Assertion failed:",OT.format(...i)))},t.dir=(n,i)=>r(4,OT.inspect(n,i)),t.log=t.debug.bind(t),t.trace=(...n)=>{let i=new Error(OT.format(...n));i.name="Trace",t.log(i)},t}o(TCe,"createConsole");var Vqe=tt(require("fs/promises")),jqe=tt(require("os")),Gd=tt(xp()),$qe=require("worker_threads");d();d();var sL=require("assert");d();d();var Qot={right:Wot,center:Got},Mot=0,ZN=1,Oot=2,eL=3,vX=class{static{o(this,"UI")}constructor(t){var r;this.width=t.width,this.wrap=(r=t.wrap)!==null&&r!==void 0?r:!0,this.rows=[]}span(...t){let r=this.div(...t);r.span=!0}resetOutput(){this.rows=[]}div(...t){if(t.length===0&&this.div(""),this.wrap&&this.shouldApplyLayoutDSL(...t)&&typeof t[0]=="string")return this.applyLayoutDSL(t[0]);let r=t.map(n=>typeof n=="string"?this.colFromString(n):n);return this.rows.push(r),r}shouldApplyLayoutDSL(...t){return t.length===1&&typeof t[0]=="string"&&/[\t\n]/.test(t[0])}applyLayoutDSL(t){let r=t.split(`
`).map(i=>i.split("	")),n=0;return r.forEach(i=>{i.length>1&&Ou.stringWidth(i[0])>n&&(n=Math.min(Math.floor(this.width*.5),Ou.stringWidth(i[0])))}),r.forEach(i=>{this.div(...i.map((s,a)=>({text:s.trim(),padding:this.measurePadding(s),width:a===0&&i.length>1?n:void 0})))}),this.rows[this.rows.length-1]}colFromString(t){return{text:t,padding:this.measurePadding(t)}}measurePadding(t){let r=Ou.stripAnsi(t);return[0,r.match(/\s*$/)[0].length,0,r.match(/^\s*/)[0].length]}toString(){let t=[];return this.rows.forEach(r=>{this.rowToString(r,t)}),t.filter(r=>!r.hidden).map(r=>r.text).join(`
`)}rowToString(t,r){return this.rasterize(t).forEach((n,i)=>{let s="";n.forEach((a,l)=>{let{width:c}=t[l],u=this.negatePadding(t[l]),f=a;if(u>Ou.stringWidth(a)&&(f+=" ".repeat(u-Ou.stringWidth(a))),t[l].align&&t[l].align!=="left"&&this.wrap){let h=Qot[t[l].align];f=h(f,u),Ou.stringWidth(f)<u&&(f+=" ".repeat((c||0)-Ou.stringWidth(f)-1))}let m=t[l].padding||[0,0,0,0];m[eL]&&(s+=" ".repeat(m[eL])),s+=C3e(t[l],f,"| "),s+=f,s+=C3e(t[l],f," |"),m[ZN]&&(s+=" ".repeat(m[ZN])),i===0&&r.length>0&&(s=this.renderInline(s,r[r.length-1]))}),r.push({text:s.replace(/ +$/,""),span:t.span})}),r}renderInline(t,r){let n=t.match(/^ */),i=n?n[0].length:0,s=r.text,a=Ou.stringWidth(s.trimRight());return r.span?this.wrap?i<a?t:(r.hidden=!0,s.trimRight()+" ".repeat(i-a)+t.trimLeft()):(r.hidden=!0,s+t):t}rasterize(t){let r=[],n=this.columnWidths(t),i;return t.forEach((s,a)=>{s.width=n[a],this.wrap?i=Ou.wrap(s.text,this.negatePadding(s),{hard:!0}).split(`
`):i=s.text.split(`
`),s.border&&(i.unshift("."+"-".repeat(this.negatePadding(s)+2)+"."),i.push("'"+"-".repeat(this.negatePadding(s)+2)+"'")),s.padding&&(i.unshift(...new Array(s.padding[Mot]||0).fill("")),i.push(...new Array(s.padding[Oot]||0).fill(""))),i.forEach((l,c)=>{r[c]||r.push([]);let u=r[c];for(let f=0;f<a;f++)u[f]===void 0&&u.push("");u.push(l)})}),r}negatePadding(t){let r=t.width||0;return t.padding&&(r-=(t.padding[eL]||0)+(t.padding[ZN]||0)),t.border&&(r-=4),r}columnWidths(t){if(!this.wrap)return t.map(a=>a.width||Ou.stringWidth(a.text));let r=t.length,n=this.width,i=t.map(a=>{if(a.width)return r--,n-=a.width,a.width}),s=r?Math.floor(n/r):0;return i.map((a,l)=>a===void 0?Math.max(s,Uot(t[l])):a)}};function C3e(e,t,r){return e.border?/[.']-+[.']/.test(t)?"":t.trim().length!==0?r:"  ":""}o(C3e,"addBorder");function Uot(e){let t=e.padding||[],r=1+(t[eL]||0)+(t[ZN]||0);return e.border?r+4:r}o(Uot,"_minWidth");function qot(){return typeof process=="object"&&process.stdout&&process.stdout.columns?process.stdout.columns:80}o(qot,"getWindowWidth");function Wot(e,t){e=e.trim();let r=Ou.stringWidth(e);return r<t?" ".repeat(t-r)+e:e}o(Wot,"alignRight");function Got(e,t){e=e.trim();let r=Ou.stringWidth(e);return r>=t?e:" ".repeat(t-r>>1)+e}o(Got,"alignCenter");var Ou;function x3e(e,t){return Ou=t,new vX({width:e?.width||qot(),wrap:e?.wrap})}o(x3e,"cliui");d();var E3e=new RegExp("\x1B(?:\\[(?:\\d+[ABCDEFGJKSTm]|\\d+;\\d+[Hfm]|\\d+;\\d+;\\d+m|6n|s|u|\\?25[lh])|\\w)","g");function IX(e){return e.replace(E3e,"")}o(IX,"stripAnsi");function b3e(e,t){let[r,n]=e.match(E3e)||["",""];e=IX(e);let i="";for(let s=0;s<e.length;s++)s!==0&&s%t===0&&(i+=`
`),i+=e.charAt(s);return r&&n&&(i=`${r}${i}${n}`),i}o(b3e,"wrap");function TX(e){return x3e(e,{stringWidth:o(t=>[...t].length,"stringWidth"),stripAnsi:IX,wrap:b3e})}o(TX,"ui");d();var Lv=require("path"),tL=require("fs");function wX(e,t){let r=(0,Lv.resolve)(".",e),n;for((0,tL.statSync)(r).isDirectory()||(r=(0,Lv.dirname)(r));;){if(n=t(r,(0,tL.readdirSync)(r)),n)return(0,Lv.resolve)(r,n);if(r=(0,Lv.dirname)(n=r),n===r)break}}o(wX,"default");var M3e=require("util"),O3e=require("fs"),U3e=require("url");d();var S3e=require("util"),oL=require("path");d();function Z3(e){if(e!==e.toLowerCase()&&e!==e.toUpperCase()||(e=e.toLowerCase()),e.indexOf("-")===-1&&e.indexOf("_")===-1)return e;{let r="",n=!1,i=e.match(/^-+/);for(let s=i?i[0].length:0;s<e.length;s++){let a=e.charAt(s);n&&(n=!1,a=a.toUpperCase()),s!==0&&(a==="-"||a==="_")?n=!0:a!=="-"&&a!=="_"&&(r+=a)}return r}}o(Z3,"camelCase");function rL(e,t){let r=e.toLowerCase();t=t||"-";let n="";for(let i=0;i<e.length;i++){let s=r.charAt(i),a=e.charAt(i);s!==a&&i>0?n+=`${t}${r.charAt(i)}`:n+=a}return n}o(rL,"decamelize");function nL(e){return e==null?!1:typeof e=="number"||/^0x[0-9a-f]+$/i.test(e)?!0:/^0[^.]/.test(e)?!1:/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e)}o(nL,"looksLikeNumber");d();d();function v3e(e){if(Array.isArray(e))return e.map(a=>typeof a!="string"?a+"":a);e=e.trim();let t=0,r=null,n=null,i=null,s=[];for(let a=0;a<e.length;a++){if(r=n,n=e.charAt(a),n===" "&&!i){r!==" "&&t++;continue}n===i?i=null:(n==="'"||n==='"')&&!i&&(i=n),s[t]||(s[t]=""),s[t]+=n}return s}o(v3e,"tokenizeArgString");d();var sd;(function(e){e.BOOLEAN="boolean",e.STRING="string",e.NUMBER="number",e.ARRAY="array"})(sd||(sd={}));var v1,iL=class{static{o(this,"YargsParser")}constructor(t){v1=t}parse(t,r){let n=Object.assign({alias:void 0,array:void 0,boolean:void 0,config:void 0,configObjects:void 0,configuration:void 0,coerce:void 0,count:void 0,default:void 0,envPrefix:void 0,narg:void 0,normalize:void 0,string:void 0,number:void 0,__:void 0,key:void 0},r),i=v3e(t),s=typeof t=="string",a=Hot(Object.assign(Object.create(null),n.alias)),l=Object.assign({"boolean-negation":!0,"camel-case-expansion":!0,"combine-arrays":!1,"dot-notation":!0,"duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"greedy-arrays":!0,"halt-at-non-option":!1,"nargs-eats-options":!1,"negation-prefix":"no-","parse-numbers":!0,"parse-positional-numbers":!0,"populate--":!1,"set-placeholder-key":!1,"short-option-groups":!0,"strip-aliased":!1,"strip-dashed":!1,"unknown-options-as-args":!1},n.configuration),c=Object.assign(Object.create(null),n.default),u=n.configObjects||[],f=n.envPrefix,m=l["populate--"],h=m?"--":"_",p=Object.create(null),A=Object.create(null),x=n.__||v1.format,E={aliases:Object.create(null),arrays:Object.create(null),bools:Object.create(null),strings:Object.create(null),numbers:Object.create(null),counts:Object.create(null),normalize:Object.create(null),configs:Object.create(null),nargs:Object.create(null),coercions:Object.create(null),keys:[]},v=/^-([0-9]+(\.[0-9]+)?|\.[0-9]+)$/,b=new RegExp("^--"+l["negation-prefix"]+"(.+)");[].concat(n.array||[]).filter(Boolean).forEach(function(z){let te=typeof z=="object"?z.key:z,Ne=Object.keys(z).map(function(Se){return{boolean:"bools",string:"strings",number:"numbers"}[Se]}).filter(Boolean).pop();Ne&&(E[Ne][te]=!0),E.arrays[te]=!0,E.keys.push(te)}),[].concat(n.boolean||[]).filter(Boolean).forEach(function(z){E.bools[z]=!0,E.keys.push(z)}),[].concat(n.string||[]).filter(Boolean).forEach(function(z){E.strings[z]=!0,E.keys.push(z)}),[].concat(n.number||[]).filter(Boolean).forEach(function(z){E.numbers[z]=!0,E.keys.push(z)}),[].concat(n.count||[]).filter(Boolean).forEach(function(z){E.counts[z]=!0,E.keys.push(z)}),[].concat(n.normalize||[]).filter(Boolean).forEach(function(z){E.normalize[z]=!0,E.keys.push(z)}),typeof n.narg=="object"&&Object.entries(n.narg).forEach(([z,te])=>{typeof te=="number"&&(E.nargs[z]=te,E.keys.push(z))}),typeof n.coerce=="object"&&Object.entries(n.coerce).forEach(([z,te])=>{typeof te=="function"&&(E.coercions[z]=te,E.keys.push(z))}),typeof n.config<"u"&&(Array.isArray(n.config)||typeof n.config=="string"?[].concat(n.config).filter(Boolean).forEach(function(z){E.configs[z]=!0}):typeof n.config=="object"&&Object.entries(n.config).forEach(([z,te])=>{(typeof te=="boolean"||typeof te=="function")&&(E.configs[z]=te)})),Re(n.key,a,n.default,E.arrays),Object.keys(c).forEach(function(z){(E.aliases[z]||[]).forEach(function(te){c[te]=c[z]})});let S=null;We();let B=[],P=Object.assign(Object.create(null),{_:[]}),F={};for(let z=0;z<i.length;z++){let te=i[z],Ne=te.replace(/^-{3,}/,"---"),Se,Ce,Ue,Ve,Ze,yt;if(te!=="--"&&/^-/.test(te)&&ut(te))q(te);else if(Ne.match(/^---+(=|$)/)){q(te);continue}else if(te.match(/^--.+=/)||!l["short-option-groups"]&&te.match(/^-.+=/))Ve=te.match(/^--?([^=]+)=([\s\S]*)$/),Ve!==null&&Array.isArray(Ve)&&Ve.length>=3&&(Ee(Ve[1],E.arrays)?z=ce(z,Ve[1],i,Ve[2]):Ee(Ve[1],E.nargs)!==!1?z=ne(z,Ve[1],i,Ve[2]):Z(Ve[1],Ve[2],!0));else if(te.match(b)&&l["boolean-negation"])Ve=te.match(b),Ve!==null&&Array.isArray(Ve)&&Ve.length>=2&&(Ce=Ve[1],Z(Ce,Ee(Ce,E.arrays)?[!1]:!1));else if(te.match(/^--.+/)||!l["short-option-groups"]&&te.match(/^-[^-]+/))Ve=te.match(/^--?(.+)/),Ve!==null&&Array.isArray(Ve)&&Ve.length>=2&&(Ce=Ve[1],Ee(Ce,E.arrays)?z=ce(z,Ce,i):Ee(Ce,E.nargs)!==!1?z=ne(z,Ce,i):(Ze=i[z+1],Ze!==void 0&&(!Ze.match(/^-/)||Ze.match(v))&&!Ee(Ce,E.bools)&&!Ee(Ce,E.counts)||/^(true|false)$/.test(Ze)?(Z(Ce,Ze),z++):Z(Ce,at(Ce))));else if(te.match(/^-.\..+=/))Ve=te.match(/^-([^=]+)=([\s\S]*)$/),Ve!==null&&Array.isArray(Ve)&&Ve.length>=3&&Z(Ve[1],Ve[2]);else if(te.match(/^-.\..+/)&&!te.match(v))Ze=i[z+1],Ve=te.match(/^-(.\..+)/),Ve!==null&&Array.isArray(Ve)&&Ve.length>=2&&(Ce=Ve[1],Ze!==void 0&&!Ze.match(/^-/)&&!Ee(Ce,E.bools)&&!Ee(Ce,E.counts)?(Z(Ce,Ze),z++):Z(Ce,at(Ce)));else if(te.match(/^-[^-]+/)&&!te.match(v)){Ue=te.slice(1,-1).split(""),Se=!1;for(let Dt=0;Dt<Ue.length;Dt++){if(Ze=te.slice(Dt+2),Ue[Dt+1]&&Ue[Dt+1]==="="){yt=te.slice(Dt+3),Ce=Ue[Dt],Ee(Ce,E.arrays)?z=ce(z,Ce,i,yt):Ee(Ce,E.nargs)!==!1?z=ne(z,Ce,i,yt):Z(Ce,yt),Se=!0;break}if(Ze==="-"){Z(Ue[Dt],Ze);continue}if(/[A-Za-z]/.test(Ue[Dt])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(Ze)&&Ee(Ze,E.bools)===!1){Z(Ue[Dt],Ze),Se=!0;break}if(Ue[Dt+1]&&Ue[Dt+1].match(/\W/)){Z(Ue[Dt],Ze),Se=!0;break}else Z(Ue[Dt],at(Ue[Dt]))}Ce=te.slice(-1)[0],!Se&&Ce!=="-"&&(Ee(Ce,E.arrays)?z=ce(z,Ce,i):Ee(Ce,E.nargs)!==!1?z=ne(z,Ce,i):(Ze=i[z+1],Ze!==void 0&&(!/^(-|--)[^-]/.test(Ze)||Ze.match(v))&&!Ee(Ce,E.bools)&&!Ee(Ce,E.counts)||/^(true|false)$/.test(Ze)?(Z(Ce,Ze),z++):Z(Ce,at(Ce))))}else if(te.match(/^-[0-9]$/)&&te.match(v)&&Ee(te.slice(1),E.bools))Ce=te.slice(1),Z(Ce,at(Ce));else if(te==="--"){B=i.slice(z+1);break}else if(l["halt-at-non-option"]){B=i.slice(z);break}else q(te)}j(P,!0),j(P,!1),J(P),M(),re(P,E.aliases,c,!0),X(P),l["set-placeholder-key"]&&ae(P),Object.keys(E.counts).forEach(function(z){le(P,z.split("."))||Z(z,0)}),m&&B.length&&(P[h]=[]),B.forEach(function(z){P[h].push(z)}),l["camel-case-expansion"]&&l["strip-dashed"]&&Object.keys(P).filter(z=>z!=="--"&&z.includes("-")).forEach(z=>{delete P[z]}),l["strip-aliased"]&&[].concat(...Object.keys(a).map(z=>a[z])).forEach(z=>{l["camel-case-expansion"]&&z.includes("-")&&delete P[z.split(".").map(te=>Z3(te)).join(".")],delete P[z]});function q(z){let te=ie("_",z);(typeof te=="string"||typeof te=="number")&&P._.push(te)}o(q,"pushPositional");function ne(z,te,Ne,Se){let Ce,Ue=Ee(te,E.nargs);if(Ue=typeof Ue!="number"||isNaN(Ue)?1:Ue,Ue===0)return Ae(Se)||(S=Error(x("Argument unexpected for: %s",te))),Z(te,at(te)),z;let Ve=Ae(Se)?0:1;if(l["nargs-eats-options"])Ne.length-(z+1)+Ve<Ue&&(S=Error(x("Not enough arguments following: %s",te))),Ve=Ue;else{for(Ce=z+1;Ce<Ne.length&&(!Ne[Ce].match(/^-[^0-9]/)||Ne[Ce].match(v)||ut(Ne[Ce]));Ce++)Ve++;Ve<Ue&&(S=Error(x("Not enough arguments following: %s",te)))}let Ze=Math.min(Ve,Ue);for(!Ae(Se)&&Ze>0&&(Z(te,Se),Ze--),Ce=z+1;Ce<Ze+z+1;Ce++)Z(te,Ne[Ce]);return z+Ze}o(ne,"eatNargs");function ce(z,te,Ne,Se){let Ce=[],Ue=Se||Ne[z+1],Ve=Ee(te,E.nargs);if(Ee(te,E.bools)&&!/^(true|false)$/.test(Ue))Ce.push(!0);else if(Ae(Ue)||Ae(Se)&&/^-/.test(Ue)&&!v.test(Ue)&&!ut(Ue)){if(c[te]!==void 0){let Ze=c[te];Ce=Array.isArray(Ze)?Ze:[Ze]}}else{Ae(Se)||Ce.push(U(te,Se,!0));for(let Ze=z+1;Ze<Ne.length&&!(!l["greedy-arrays"]&&Ce.length>0||Ve&&typeof Ve=="number"&&Ce.length>=Ve||(Ue=Ne[Ze],/^-/.test(Ue)&&!v.test(Ue)&&!ut(Ue)));Ze++)z=Ze,Ce.push(U(te,Ue,s))}return typeof Ve=="number"&&(Ve&&Ce.length<Ve||isNaN(Ve)&&Ce.length===0)&&(S=Error(x("Not enough arguments following: %s",te))),Z(te,Ce),z}o(ce,"eatArray");function Z(z,te,Ne=s){if(/-/.test(z)&&l["camel-case-expansion"]){let Ue=z.split(".").map(function(Ve){return Z3(Ve)}).join(".");G(z,Ue)}let Se=U(z,te,Ne),Ce=z.split(".");de(P,Ce,Se),E.aliases[z]&&E.aliases[z].forEach(function(Ue){let Ve=Ue.split(".");de(P,Ve,Se)}),Ce.length>1&&l["dot-notation"]&&(E.aliases[Ce[0]]||[]).forEach(function(Ue){let Ve=Ue.split("."),Ze=[].concat(Ce);Ze.shift(),Ve=Ve.concat(Ze),(E.aliases[z]||[]).includes(Ve.join("."))||de(P,Ve,Se)}),Ee(z,E.normalize)&&!Ee(z,E.arrays)&&[z].concat(E.aliases[z]||[]).forEach(function(Ve){Object.defineProperty(F,Ve,{enumerable:!0,get(){return te},set(Ze){te=typeof Ze=="string"?v1.normalize(Ze):Ze}})})}o(Z,"setArg");function G(z,te){E.aliases[z]&&E.aliases[z].length||(E.aliases[z]=[te],p[te]=!0),E.aliases[te]&&E.aliases[te].length||G(te,z)}o(G,"addNewAlias");function U(z,te,Ne){Ne&&(te=Vot(te)),(Ee(z,E.bools)||Ee(z,E.counts))&&typeof te=="string"&&(te=te==="true");let Se=Array.isArray(te)?te.map(function(Ce){return ie(z,Ce)}):ie(z,te);return Ee(z,E.counts)&&(Ae(Se)||typeof Se=="boolean")&&(Se=SX()),Ee(z,E.normalize)&&Ee(z,E.arrays)&&(Array.isArray(te)?Se=te.map(Ce=>v1.normalize(Ce)):Se=v1.normalize(te)),Se}o(U,"processValue");function ie(z,te){return!l["parse-positional-numbers"]&&z==="_"||!Ee(z,E.strings)&&!Ee(z,E.bools)&&!Array.isArray(te)&&(nL(te)&&l["parse-numbers"]&&Number.isSafeInteger(Math.floor(parseFloat(`${te}`)))||!Ae(te)&&Ee(z,E.numbers))&&(te=Number(te)),te}o(ie,"maybeCoerceNumber");function J(z){let te=Object.create(null);re(te,E.aliases,c),Object.keys(E.configs).forEach(function(Ne){let Se=z[Ne]||te[Ne];if(Se)try{let Ce=null,Ue=v1.resolve(v1.cwd(),Se),Ve=E.configs[Ne];if(typeof Ve=="function"){try{Ce=Ve(Ue)}catch(Ze){Ce=Ze}if(Ce instanceof Error){S=Ce;return}}else Ce=v1.require(Ue);H(Ce)}catch(Ce){Ce.name==="PermissionDenied"?S=Ce:z[Ne]&&(S=Error(x("Invalid JSON config file: %s",Se)))}})}o(J,"setConfig");function H(z,te){Object.keys(z).forEach(function(Ne){let Se=z[Ne],Ce=te?te+"."+Ne:Ne;typeof Se=="object"&&Se!==null&&!Array.isArray(Se)&&l["dot-notation"]?H(Se,Ce):(!le(P,Ce.split("."))||Ee(Ce,E.arrays)&&l["combine-arrays"])&&Z(Ce,Se)})}o(H,"setConfigObject");function M(){typeof u<"u"&&u.forEach(function(z){H(z)})}o(M,"setConfigObjects");function j(z,te){if(typeof f>"u")return;let Ne=typeof f=="string"?f:"",Se=v1.env();Object.keys(Se).forEach(function(Ce){if(Ne===""||Ce.lastIndexOf(Ne,0)===0){let Ue=Ce.split("__").map(function(Ve,Ze){return Ze===0&&(Ve=Ve.substring(Ne.length)),Z3(Ve)});(te&&E.configs[Ue.join(".")]||!te)&&!le(z,Ue)&&Z(Ue.join("."),Se[Ce])}})}o(j,"applyEnvVars");function X(z){let te,Ne=new Set;Object.keys(z).forEach(function(Se){if(!Ne.has(Se)&&(te=Ee(Se,E.coercions),typeof te=="function"))try{let Ce=ie(Se,te(z[Se]));[].concat(E.aliases[Se]||[],Se).forEach(Ue=>{Ne.add(Ue),z[Ue]=Ce})}catch(Ce){S=Ce}})}o(X,"applyCoercions");function ae(z){return E.keys.forEach(te=>{~te.indexOf(".")||typeof z[te]>"u"&&(z[te]=void 0)}),z}o(ae,"setPlaceholderKeys");function re(z,te,Ne,Se=!1){Object.keys(Ne).forEach(function(Ce){le(z,Ce.split("."))||(de(z,Ce.split("."),Ne[Ce]),Se&&(A[Ce]=!0),(te[Ce]||[]).forEach(function(Ue){le(z,Ue.split("."))||de(z,Ue.split("."),Ne[Ce])}))})}o(re,"applyDefaultsAndAliases");function le(z,te){let Ne=z;l["dot-notation"]||(te=[te.join(".")]),te.slice(0,-1).forEach(function(Ce){Ne=Ne[Ce]||{}});let Se=te[te.length-1];return typeof Ne!="object"?!1:Se in Ne}o(le,"hasKey");function de(z,te,Ne){let Se=z;l["dot-notation"]||(te=[te.join(".")]),te.slice(0,-1).forEach(function(yt){yt=I3e(yt),typeof Se=="object"&&Se[yt]===void 0&&(Se[yt]={}),typeof Se[yt]!="object"||Array.isArray(Se[yt])?(Array.isArray(Se[yt])?Se[yt].push({}):Se[yt]=[Se[yt],{}],Se=Se[yt][Se[yt].length-1]):Se=Se[yt]});let Ce=I3e(te[te.length-1]),Ue=Ee(te.join("."),E.arrays),Ve=Array.isArray(Ne),Ze=l["duplicate-arguments-array"];!Ze&&Ee(Ce,E.nargs)&&(Ze=!0,(!Ae(Se[Ce])&&E.nargs[Ce]===1||Array.isArray(Se[Ce])&&Se[Ce].length===E.nargs[Ce])&&(Se[Ce]=void 0)),Ne===SX()?Se[Ce]=SX(Se[Ce]):Array.isArray(Se[Ce])?Ze&&Ue&&Ve?Se[Ce]=l["flatten-duplicate-arrays"]?Se[Ce].concat(Ne):(Array.isArray(Se[Ce][0])?Se[Ce]:[Se[Ce]]).concat([Ne]):!Ze&&!!Ue==!!Ve?Se[Ce]=Ne:Se[Ce]=Se[Ce].concat([Ne]):Se[Ce]===void 0&&Ue?Se[Ce]=Ve?Ne:[Ne]:Ze&&!(Se[Ce]===void 0||Ee(Ce,E.counts)||Ee(Ce,E.bools))?Se[Ce]=[Se[Ce],Ne]:Se[Ce]=Ne}o(de,"setKey");function Re(...z){z.forEach(function(te){Object.keys(te||{}).forEach(function(Ne){E.aliases[Ne]||(E.aliases[Ne]=[].concat(a[Ne]||[]),E.aliases[Ne].concat(Ne).forEach(function(Se){if(/-/.test(Se)&&l["camel-case-expansion"]){let Ce=Z3(Se);Ce!==Ne&&E.aliases[Ne].indexOf(Ce)===-1&&(E.aliases[Ne].push(Ce),p[Ce]=!0)}}),E.aliases[Ne].concat(Ne).forEach(function(Se){if(Se.length>1&&/[A-Z]/.test(Se)&&l["camel-case-expansion"]){let Ce=rL(Se,"-");Ce!==Ne&&E.aliases[Ne].indexOf(Ce)===-1&&(E.aliases[Ne].push(Ce),p[Ce]=!0)}}),E.aliases[Ne].forEach(function(Se){E.aliases[Se]=[Ne].concat(E.aliases[Ne].filter(function(Ce){return Se!==Ce}))}))})})}o(Re,"extendAliases");function Ee(z,te){let Ne=[].concat(E.aliases[z]||[],z),Se=Object.keys(te),Ce=Ne.find(Ue=>Se.includes(Ue));return Ce?te[Ce]:!1}o(Ee,"checkAllAliases");function Oe(z){let te=Object.keys(E);return[].concat(te.map(Se=>E[Se])).some(function(Se){return Array.isArray(Se)?Se.includes(z):Se[z]})}o(Oe,"hasAnyFlag");function _e(z,...te){return[].concat(...te).some(function(Se){let Ce=z.match(Se);return Ce&&Oe(Ce[1])})}o(_e,"hasFlagsMatching");function Je(z){if(z.match(v)||!z.match(/^-[^-]+/))return!1;let te=!0,Ne,Se=z.slice(1).split("");for(let Ce=0;Ce<Se.length;Ce++){if(Ne=z.slice(Ce+2),!Oe(Se[Ce])){te=!1;break}if(Se[Ce+1]&&Se[Ce+1]==="="||Ne==="-"||/[A-Za-z]/.test(Se[Ce])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(Ne)||Se[Ce+1]&&Se[Ce+1].match(/\W/))break}return te}o(Je,"hasAllShortFlags");function ut(z){return l["unknown-options-as-args"]&&ot(z)}o(ut,"isUnknownOptionAsArg");function ot(z){return z=z.replace(/^-{3,}/,"--"),z.match(v)||Je(z)?!1:!_e(z,/^-+([^=]+?)=[\s\S]*$/,b,/^-+([^=]+?)$/,/^-+([^=]+?)-$/,/^-+([^=]+?\d+)$/,/^-+([^=]+?)\W+.*$/)}o(ot,"isUnknownOption");function at(z){return!Ee(z,E.bools)&&!Ee(z,E.counts)&&`${z}`in c?c[z]:oe(Pe(z))}o(at,"defaultValue");function oe(z){return{[sd.BOOLEAN]:!0,[sd.STRING]:"",[sd.NUMBER]:void 0,[sd.ARRAY]:[]}[z]}o(oe,"defaultForType");function Pe(z){let te=sd.BOOLEAN;return Ee(z,E.strings)?te=sd.STRING:Ee(z,E.numbers)?te=sd.NUMBER:Ee(z,E.bools)?te=sd.BOOLEAN:Ee(z,E.arrays)&&(te=sd.ARRAY),te}o(Pe,"guessType");function Ae(z){return z===void 0}o(Ae,"isUndefined");function We(){Object.keys(E.counts).find(z=>Ee(z,E.arrays)?(S=Error(x("Invalid configuration: %s, opts.count excludes opts.array.",z)),!0):Ee(z,E.nargs)?(S=Error(x("Invalid configuration: %s, opts.count excludes opts.narg.",z)),!0):!1)}return o(We,"checkConfiguration"),{aliases:Object.assign({},E.aliases),argv:Object.assign(F,P),configuration:l,defaulted:Object.assign({},A),error:S,newAliases:Object.assign({},p)}}};function Hot(e){let t=[],r=Object.create(null),n=!0;for(Object.keys(e).forEach(function(i){t.push([].concat(e[i],i))});n;){n=!1;for(let i=0;i<t.length;i++)for(let s=i+1;s<t.length;s++)if(t[i].filter(function(l){return t[s].indexOf(l)!==-1}).length){t[i]=t[i].concat(t[s]),t.splice(s,1),n=!0;break}}return t.forEach(function(i){i=i.filter(function(a,l,c){return c.indexOf(a)===l});let s=i.pop();s!==void 0&&typeof s=="string"&&(r[s]=i)}),r}o(Hot,"combineAliases");function SX(e){return e!==void 0?e+1:1}o(SX,"increment");function I3e(e){return e==="__proto__"?"___proto___":e}o(I3e,"sanitizeKey");function Vot(e){return typeof e=="string"&&(e[0]==="'"||e[0]==='"')&&e[e.length-1]===e[0]?e.substring(1,e.length-1):e}o(Vot,"stripQuotes");var _3e=require("fs");var _X,kX,BX,T3e=process&&process.env&&process.env.YARGS_MIN_NODE_VERSION?Number(process.env.YARGS_MIN_NODE_VERSION):12,w3e=(kX=(_X=process==null?void 0:process.versions)===null||_X===void 0?void 0:_X.node)!==null&&kX!==void 0?kX:(BX=process==null?void 0:process.version)===null||BX===void 0?void 0:BX.slice(1);if(w3e&&Number(w3e.match(/^([^.]+)/)[1])<T3e)throw Error(`yargs parser supports a minimum Node.js version of ${T3e}. Read our version support policy: https://github.com/yargs/yargs-parser#supported-nodejs-versions`);var jot=process?process.env:{},k3e=new iL({cwd:process.cwd,env:o(()=>jot,"env"),format:S3e.format,normalize:oL.normalize,resolve:oL.resolve,require:o(e=>{if(typeof require<"u")return require(e);if(e.match(/\.json$/))return JSON.parse((0,_3e.readFileSync)(e,"utf8"));throw Error("only .json config files are supported in ESM")},"require")}),jT=o(function(t,r){return k3e.parse(t.slice(),r).argv},"Parser");jT.detailed=function(e,t){return k3e.parse(e.slice(),t)};jT.camelCase=Z3;jT.decamelize=rL;jT.looksLikeNumber=nL;var B3e=jT;var Qm=require("path");d();function $ot(){return zot()?0:1}o($ot,"getProcessArgvBinIndex");function zot(){return Yot()&&!process.defaultApp}o(zot,"isBundledElectronApp");function Yot(){return!!process.versions.electron}o(Yot,"isElectronApp");function R3e(){return process.argv[$ot()]}o(R3e,"getProcessArgvBin");d();var Zo=class e extends Error{static{o(this,"YError")}constructor(t){super(t||"yargs error"),this.name="YError",Error.captureStackTrace&&Error.captureStackTrace(this,e)}};d();d();var Qv=require("fs"),D3e=require("util"),P3e=require("path");var F3e={fs:{readFileSync:Qv.readFileSync,writeFile:Qv.writeFile},format:D3e.format,resolve:P3e.resolve,exists:o(e=>{try{return(0,Qv.statSync)(e).isFile()}catch{return!1}},"exists")};d();var Lm,RX=class{static{o(this,"Y18N")}constructor(t){t=t||{},this.directory=t.directory||"./locales",this.updateFiles=typeof t.updateFiles=="boolean"?t.updateFiles:!0,this.locale=t.locale||"en",this.fallbackToLanguage=typeof t.fallbackToLanguage=="boolean"?t.fallbackToLanguage:!0,this.cache=Object.create(null),this.writeQueue=[]}__(...t){if(typeof arguments[0]!="string")return this._taggedLiteral(arguments[0],...arguments);let r=t.shift(),n=o(function(){},"cb");return typeof t[t.length-1]=="function"&&(n=t.pop()),n=n||function(){},this.cache[this.locale]||this._readLocaleFile(),!this.cache[this.locale][r]&&this.updateFiles?(this.cache[this.locale][r]=r,this._enqueueWrite({directory:this.directory,locale:this.locale,cb:n})):n(),Lm.format.apply(Lm.format,[this.cache[this.locale][r]||r].concat(t))}__n(){let t=Array.prototype.slice.call(arguments),r=t.shift(),n=t.shift(),i=t.shift(),s=o(function(){},"cb");typeof t[t.length-1]=="function"&&(s=t.pop()),this.cache[this.locale]||this._readLocaleFile();let a=i===1?r:n;this.cache[this.locale][r]&&(a=this.cache[this.locale][r][i===1?"one":"other"]),!this.cache[this.locale][r]&&this.updateFiles?(this.cache[this.locale][r]={one:r,other:n},this._enqueueWrite({directory:this.directory,locale:this.locale,cb:s})):s();let l=[a];return~a.indexOf("%d")&&l.push(i),Lm.format.apply(Lm.format,l.concat(t))}setLocale(t){this.locale=t}getLocale(){return this.locale}updateLocale(t){this.cache[this.locale]||this._readLocaleFile();for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(this.cache[this.locale][r]=t[r])}_taggedLiteral(t,...r){let n="";return t.forEach(function(i,s){let a=r[s+1];n+=i,typeof a<"u"&&(n+="%s")}),this.__.apply(this,[n].concat([].slice.call(r,1)))}_enqueueWrite(t){this.writeQueue.push(t),this.writeQueue.length===1&&this._processWriteQueue()}_processWriteQueue(){let t=this,r=this.writeQueue[0],n=r.directory,i=r.locale,s=r.cb,a=this._resolveLocaleFile(n,i),l=JSON.stringify(this.cache[i],null,2);Lm.fs.writeFile(a,l,"utf-8",function(c){t.writeQueue.shift(),t.writeQueue.length>0&&t._processWriteQueue(),s(c)})}_readLocaleFile(){let t={},r=this._resolveLocaleFile(this.directory,this.locale);try{Lm.fs.readFileSync&&(t=JSON.parse(Lm.fs.readFileSync(r,"utf-8")))}catch(n){if(n instanceof SyntaxError&&(n.message="syntax error in "+r),n.code==="ENOENT")t={};else throw n}this.cache[this.locale]=t}_resolveLocaleFile(t,r){let n=Lm.resolve(t,"./",r+".json");if(this.fallbackToLanguage&&!this._fileExistsSync(n)&&~r.lastIndexOf("_")){let i=Lm.resolve(t,"./",r.split("_")[0]+".json");this._fileExistsSync(i)&&(n=i)}return n}_fileExistsSync(t){return Lm.exists(t)}};function N3e(e,t){Lm=t;let r=new RX(e);return{__:r.__.bind(r),__n:r.__n.bind(r),setLocale:r.setLocale.bind(r),getLocale:r.getLocale.bind(r),updateLocale:r.updateLocale.bind(r),locale:r.locale}}o(N3e,"y18n");var Kot=o(e=>N3e(e,F3e),"y18n"),L3e=Kot;var Jot="require is not supported by ESM",Q3e="loading a directory of commands is not supported yet for ESM",$T;try{$T=(0,U3e.fileURLToPath)(importMetaUrlShim)}catch{$T=process.cwd()}var Xot=$T.substring(0,$T.lastIndexOf("node_modules")),q3e={assert:{notStrictEqual:sL.notStrictEqual,strictEqual:sL.strictEqual},cliui:TX,findUp:wX,getEnv:o(e=>process.env[e],"getEnv"),inspect:M3e.inspect,getCallerFile:o(()=>{throw new Zo(Q3e)},"getCallerFile"),getProcessArgvBin:R3e,mainFilename:Xot||process.cwd(),Parser:B3e,path:{basename:Qm.basename,dirname:Qm.dirname,extname:Qm.extname,relative:Qm.relative,resolve:Qm.resolve},process:{argv:o(()=>process.argv,"argv"),cwd:process.cwd,emitWarning:o((e,t)=>process.emitWarning(e,t),"emitWarning"),execPath:o(()=>process.execPath,"execPath"),exit:process.exit,nextTick:process.nextTick,stdColumns:typeof process.stdout.columns<"u"?process.stdout.columns:null},readFileSync:O3e.readFileSync,require:o(()=>{throw new Zo(Jot)},"require"),requireDirectory:o(()=>{throw new Zo(Q3e)},"requireDirectory"),stringWidth:o(e=>[...e].length,"stringWidth"),y18n:L3e({directory:(0,Qm.resolve)($T,"../../../locales"),updateFiles:!1})};d();d();d();function Y0(e,t,r,n){r.assert.notStrictEqual(e,t,n)}o(Y0,"assertNotStrictEqual");function DX(e,t){t.assert.strictEqual(typeof e,"string")}o(DX,"assertSingleKey");function Mv(e){return Object.keys(e)}o(Mv,"objectKeys");d();function es(e){return!!e&&!!e.then&&typeof e.then=="function"}o(es,"isPromise");d();d();d();function D5(e){let r=e.replace(/\s{2,}/g," ").split(/\s+(?![^[]*]|[^<]*>)/),n=/\.*[\][<>]/g,i=r.shift();if(!i)throw new Error(`No command found in: ${e}`);let s={cmd:i.replace(n,""),demanded:[],optional:[]};return r.forEach((a,l)=>{let c=!1;a=a.replace(/\s/g,""),/\.+[\]>]/.test(a)&&l===r.length-1&&(c=!0),/^\[/.test(a)?s.optional.push({cmd:a.replace(n,"").split("|"),variadic:c}):s.demanded.push({cmd:a.replace(n,"").split("|"),variadic:c})}),s}o(D5,"parseCommand");var Zot=["first","second","third","fourth","fifth","sixth"];function kr(e,t,r){function n(){return typeof e=="object"?[{demanded:[],optional:[]},e,t]:[D5(`cmd ${e}`),t,r]}o(n,"parseArgs");try{let i=0,[s,a,l]=n(),c=[].slice.call(a);for(;c.length&&c[c.length-1]===void 0;)c.pop();let u=l||c.length;if(u<s.demanded.length)throw new Zo(`Not enough arguments provided. Expected ${s.demanded.length} but received ${c.length}.`);let f=s.demanded.length+s.optional.length;if(u>f)throw new Zo(`Too many arguments provided. Expected max ${f} but received ${u}.`);s.demanded.forEach(m=>{let h=c.shift(),p=W3e(h);m.cmd.filter(x=>x===p||x==="*").length===0&&G3e(p,m.cmd,i),i+=1}),s.optional.forEach(m=>{if(c.length===0)return;let h=c.shift(),p=W3e(h);m.cmd.filter(x=>x===p||x==="*").length===0&&G3e(p,m.cmd,i),i+=1})}catch(i){console.warn(i.stack)}}o(kr,"argsert");function W3e(e){return Array.isArray(e)?"array":e===null?"null":typeof e}o(W3e,"guessType");function G3e(e,t,r){throw new Zo(`Invalid ${Zot[r]||"manyith"} argument. Expected ${t.join(" or ")} but received ${e}.`)}o(G3e,"argumentTypeError");var aL=class{static{o(this,"GlobalMiddleware")}constructor(t){this.globalMiddleware=[],this.frozens=[],this.yargs=t}addMiddleware(t,r,n=!0,i=!1){if(kr("<array|function> [boolean] [boolean] [boolean]",[t,r,n],arguments.length),Array.isArray(t)){for(let s=0;s<t.length;s++){if(typeof t[s]!="function")throw Error("middleware must be a function");let a=t[s];a.applyBeforeValidation=r,a.global=n}Array.prototype.push.apply(this.globalMiddleware,t)}else if(typeof t=="function"){let s=t;s.applyBeforeValidation=r,s.global=n,s.mutates=i,this.globalMiddleware.push(t)}return this.yargs}addCoerceMiddleware(t,r){let n=this.yargs.getAliases();return this.globalMiddleware=this.globalMiddleware.filter(i=>{let s=[...n[r]||[],r];return i.option?!s.includes(i.option):!0}),t.option=r,this.addMiddleware(t,!0,!0,!0)}getMiddleware(){return this.globalMiddleware}freeze(){this.frozens.push([...this.globalMiddleware])}unfreeze(){let t=this.frozens.pop();t!==void 0&&(this.globalMiddleware=t)}reset(){this.globalMiddleware=this.globalMiddleware.filter(t=>t.global)}};function H3e(e){return e?e.map(t=>(t.applyBeforeValidation=!1,t)):[]}o(H3e,"commandMiddlewareFactory");function e4(e,t,r,n){return r.reduce((i,s)=>{if(s.applyBeforeValidation!==n)return i;if(s.mutates){if(s.applied)return i;s.applied=!0}if(es(i))return i.then(a=>Promise.all([a,s(a,t)])).then(([a,l])=>Object.assign(a,l));{let a=s(i,t);return es(a)?a.then(l=>Object.assign(i,l)):Object.assign(i,a)}},e)}o(e4,"applyMiddleware");d();function t4(e,t,r=n=>{throw n}){try{let n=est(e)?e():e;return es(n)?n.then(i=>t(i)):t(n)}catch(n){return r(n)}}o(t4,"maybeAsyncResult");function est(e){return typeof e=="function"}o(est,"isFunction");d();function PX(e){if(typeof require>"u")return null;for(let t=0,r=Object.keys(require.cache),n;t<r.length;t++)if(n=require.cache[r[t]],n.exports===e)return n;return null}o(PX,"whichModule");var Ov=/(^\*)|(^\$0)/,FX=class{static{o(this,"CommandInstance")}constructor(t,r,n,i){this.requireCache=new Set,this.handlers={},this.aliasMap={},this.frozens=[],this.shim=i,this.usage=t,this.globalMiddleware=n,this.validation=r}addDirectory(t,r,n,i){i=i||{},typeof i.recurse!="boolean"&&(i.recurse=!1),Array.isArray(i.extensions)||(i.extensions=["js"]);let s=typeof i.visit=="function"?i.visit:a=>a;i.visit=(a,l,c)=>{let u=s(a,l,c);if(u){if(this.requireCache.has(l))return u;this.requireCache.add(l),this.addHandler(u)}return u},this.shim.requireDirectory({require:r,filename:n},t,i)}addHandler(t,r,n,i,s,a){let l=[],c=H3e(s);if(i=i||(()=>{}),Array.isArray(t))if(tst(t))[t,...l]=t;else for(let u of t)this.addHandler(u);else if(nst(t)){let u=Array.isArray(t.command)||typeof t.command=="string"?t.command:this.moduleName(t);t.aliases&&(u=[].concat(u).concat(t.aliases)),this.addHandler(u,this.extractDesc(t),t.builder,t.handler,t.middlewares,t.deprecated);return}else if(V3e(n)){this.addHandler([t].concat(l),r,n.builder,n.handler,n.middlewares,n.deprecated);return}if(typeof t=="string"){let u=D5(t);l=l.map(h=>D5(h).cmd);let f=!1,m=[u.cmd].concat(l).filter(h=>Ov.test(h)?(f=!0,!1):!0);m.length===0&&f&&m.push("$0"),f&&(u.cmd=m[0],l=m.slice(1),t=t.replace(Ov,u.cmd)),l.forEach(h=>{this.aliasMap[h]=u.cmd}),r!==!1&&this.usage.command(t,r,f,l,a),this.handlers[u.cmd]={original:t,description:r,handler:i,builder:n||{},middlewares:c,deprecated:a,demanded:u.demanded,optional:u.optional},f&&(this.defaultCommand=this.handlers[u.cmd])}}getCommandHandlers(){return this.handlers}getCommands(){return Object.keys(this.handlers).concat(Object.keys(this.aliasMap))}hasDefaultCommand(){return!!this.defaultCommand}runCommand(t,r,n,i,s,a){let l=this.handlers[t]||this.handlers[this.aliasMap[t]]||this.defaultCommand,c=r.getInternalMethods().getContext(),u=c.commands.slice(),f=!t;t&&(c.commands.push(t),c.fullCommands.push(l.original));let m=this.applyBuilderUpdateUsageAndParse(f,l,r,n.aliases,u,i,s,a);return es(m)?m.then(h=>this.applyMiddlewareAndGetResult(f,l,h.innerArgv,c,s,h.aliases,r)):this.applyMiddlewareAndGetResult(f,l,m.innerArgv,c,s,m.aliases,r)}applyBuilderUpdateUsageAndParse(t,r,n,i,s,a,l,c){let u=r.builder,f=n;if(lL(u)){n.getInternalMethods().getUsageInstance().freeze();let m=u(n.getInternalMethods().reset(i),c);if(es(m))return m.then(h=>(f=$3e(h)?h:n,this.parseAndUpdateUsage(t,r,f,s,a,l)))}else rst(u)&&(n.getInternalMethods().getUsageInstance().freeze(),f=n.getInternalMethods().reset(i),Object.keys(r.builder).forEach(m=>{f.option(m,u[m])}));return this.parseAndUpdateUsage(t,r,f,s,a,l)}parseAndUpdateUsage(t,r,n,i,s,a){t&&n.getInternalMethods().getUsageInstance().unfreeze(!0),this.shouldUpdateUsage(n)&&n.getInternalMethods().getUsageInstance().usage(this.usageFromParentCommandsCommandHandler(i,r),r.description);let l=n.getInternalMethods().runYargsParserAndExecuteCommands(null,void 0,!0,s,a);return es(l)?l.then(c=>({aliases:n.parsed.aliases,innerArgv:c})):{aliases:n.parsed.aliases,innerArgv:l}}shouldUpdateUsage(t){return!t.getInternalMethods().getUsageInstance().getUsageDisabled()&&t.getInternalMethods().getUsageInstance().getUsage().length===0}usageFromParentCommandsCommandHandler(t,r){let n=Ov.test(r.original)?r.original.replace(Ov,"").trim():r.original,i=t.filter(s=>!Ov.test(s));return i.push(n),`$0 ${i.join(" ")}`}handleValidationAndGetResult(t,r,n,i,s,a,l,c){if(!a.getInternalMethods().getHasOutput()){let u=a.getInternalMethods().runValidation(s,c,a.parsed.error,t);n=t4(n,f=>(u(f),f))}if(r.handler&&!a.getInternalMethods().getHasOutput()){a.getInternalMethods().setHasOutput();let u=!!a.getOptions().configuration["populate--"];a.getInternalMethods().postProcess(n,u,!1,!1),n=e4(n,a,l,!1),n=t4(n,f=>{let m=r.handler(f);return es(m)?m.then(()=>f):f}),t||a.getInternalMethods().getUsageInstance().cacheHelpMessage(),es(n)&&!a.getInternalMethods().hasParseCallback()&&n.catch(f=>{try{a.getInternalMethods().getUsageInstance().fail(null,f)}catch{}})}return t||(i.commands.pop(),i.fullCommands.pop()),n}applyMiddlewareAndGetResult(t,r,n,i,s,a,l){let c={};if(s)return n;l.getInternalMethods().getHasOutput()||(c=this.populatePositionals(r,n,i,l));let u=this.globalMiddleware.getMiddleware().slice(0).concat(r.middlewares),f=e4(n,l,u,!0);return es(f)?f.then(m=>this.handleValidationAndGetResult(t,r,m,i,a,l,u,c)):this.handleValidationAndGetResult(t,r,f,i,a,l,u,c)}populatePositionals(t,r,n,i){r._=r._.slice(n.commands.length);let s=t.demanded.slice(0),a=t.optional.slice(0),l={};for(this.validation.positionalCount(s.length,r._.length);s.length;){let c=s.shift();this.populatePositional(c,r,l)}for(;a.length;){let c=a.shift();this.populatePositional(c,r,l)}return r._=n.commands.concat(r._.map(c=>""+c)),this.postProcessPositionals(r,l,this.cmdToParseOptions(t.original),i),l}populatePositional(t,r,n){let i=t.cmd[0];t.variadic?n[i]=r._.splice(0).map(String):r._.length&&(n[i]=[String(r._.shift())])}cmdToParseOptions(t){let r={array:[],default:{},alias:{},demand:{}},n=D5(t);return n.demanded.forEach(i=>{let[s,...a]=i.cmd;i.variadic&&(r.array.push(s),r.default[s]=[]),r.alias[s]=a,r.demand[s]=!0}),n.optional.forEach(i=>{let[s,...a]=i.cmd;i.variadic&&(r.array.push(s),r.default[s]=[]),r.alias[s]=a}),r}postProcessPositionals(t,r,n,i){let s=Object.assign({},i.getOptions());s.default=Object.assign(n.default,s.default);for(let u of Object.keys(n.alias))s.alias[u]=(s.alias[u]||[]).concat(n.alias[u]);s.array=s.array.concat(n.array),s.config={};let a=[];if(Object.keys(r).forEach(u=>{r[u].map(f=>{s.configuration["unknown-options-as-args"]&&(s.key[u]=!0),a.push(`--${u}`),a.push(f)})}),!a.length)return;let l=Object.assign({},s.configuration,{"populate--":!1}),c=this.shim.Parser.detailed(a,Object.assign({},s,{configuration:l}));if(c.error)i.getInternalMethods().getUsageInstance().fail(c.error.message,c.error);else{let u=Object.keys(r);Object.keys(r).forEach(f=>{u.push(...c.aliases[f])}),Object.keys(c.argv).forEach(f=>{u.includes(f)&&(r[f]||(r[f]=c.argv[f]),!this.isInConfigs(i,f)&&!this.isDefaulted(i,f)&&Object.prototype.hasOwnProperty.call(t,f)&&Object.prototype.hasOwnProperty.call(c.argv,f)&&(Array.isArray(t[f])||Array.isArray(c.argv[f]))?t[f]=[].concat(t[f],c.argv[f]):t[f]=c.argv[f])})}}isDefaulted(t,r){let{default:n}=t.getOptions();return Object.prototype.hasOwnProperty.call(n,r)||Object.prototype.hasOwnProperty.call(n,this.shim.Parser.camelCase(r))}isInConfigs(t,r){let{configObjects:n}=t.getOptions();return n.some(i=>Object.prototype.hasOwnProperty.call(i,r))||n.some(i=>Object.prototype.hasOwnProperty.call(i,this.shim.Parser.camelCase(r)))}runDefaultBuilderOn(t){if(!this.defaultCommand)return;if(this.shouldUpdateUsage(t)){let n=Ov.test(this.defaultCommand.original)?this.defaultCommand.original:this.defaultCommand.original.replace(/^[^[\]<>]*/,"$0 ");t.getInternalMethods().getUsageInstance().usage(n,this.defaultCommand.description)}let r=this.defaultCommand.builder;if(lL(r))return r(t,!0);V3e(r)||Object.keys(r).forEach(n=>{t.option(n,r[n])})}moduleName(t){let r=PX(t);if(!r)throw new Error(`No command name given for module: ${this.shim.inspect(t)}`);return this.commandFromFilename(r.filename)}commandFromFilename(t){return this.shim.path.basename(t,this.shim.path.extname(t))}extractDesc({describe:t,description:r,desc:n}){for(let i of[t,r,n]){if(typeof i=="string"||i===!1)return i;Y0(i,!0,this.shim)}return!1}freeze(){this.frozens.push({handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand})}unfreeze(){let t=this.frozens.pop();Y0(t,void 0,this.shim),{handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand}=t}reset(){return this.handlers={},this.aliasMap={},this.defaultCommand=void 0,this.requireCache=new Set,this}};function j3e(e,t,r,n){return new FX(e,t,r,n)}o(j3e,"command");function V3e(e){return typeof e=="object"&&!!e.builder&&typeof e.handler=="function"}o(V3e,"isCommandBuilderDefinition");function tst(e){return e.every(t=>typeof t=="string")}o(tst,"isCommandAndAliases");function lL(e){return typeof e=="function"}o(lL,"isCommandBuilderCallback");function rst(e){return typeof e=="object"}o(rst,"isCommandBuilderOptionDefinitions");function nst(e){return typeof e=="object"&&!Array.isArray(e)}o(nst,"isCommandHandlerDefinition");d();d();function P5(e={},t=()=>!0){let r={};return Mv(e).forEach(n=>{t(n,e[n])&&(r[n]=e[n])}),r}o(P5,"objFilter");d();function F5(e){typeof process>"u"||[process.stdout,process.stderr].forEach(t=>{let r=t;r._handle&&r.isTTY&&typeof r._handle.setBlocking=="function"&&r._handle.setBlocking(e)})}o(F5,"setBlocking");function ist(e){return typeof e=="boolean"}o(ist,"isBoolean");function Y3e(e,t){let r=t.y18n.__,n={},i=[];n.failFn=o(function(U){i.push(U)},"failFn");let s=null,a=null,l=!0;n.showHelpOnFail=o(function(U=!0,ie){let[J,H]=typeof U=="string"?[!0,U]:[U,ie];return e.getInternalMethods().isGlobalContext()&&(a=H),s=H,l=J,n},"showHelpOnFailFn");let c=!1;n.fail=o(function(U,ie){let J=e.getInternalMethods().getLoggerInstance();if(i.length)for(let H=i.length-1;H>=0;--H){let M=i[H];if(ist(M)){if(ie)throw ie;if(U)throw Error(U)}else M(U,ie,n)}else{if(e.getExitProcess()&&F5(!0),!c){c=!0,l&&(e.showHelp("error"),J.error()),(U||ie)&&J.error(U||ie);let H=s||a;H&&((U||ie)&&J.error(""),J.error(H))}if(ie=ie||new Zo(U),e.getExitProcess())return e.exit(1);if(e.getInternalMethods().hasParseCallback())return e.exit(1,ie);throw ie}},"fail");let u=[],f=!1;n.usage=(G,U)=>G===null?(f=!0,u=[],n):(f=!1,u.push([G,U||""]),n),n.getUsage=()=>u,n.getUsageDisabled=()=>f,n.getPositionalGroupName=()=>r("Positionals:");let m=[];n.example=(G,U)=>{m.push([G,U||""])};let h=[];n.command=o(function(U,ie,J,H,M=!1){J&&(h=h.map(j=>(j[2]=!1,j))),h.push([U,ie||"",J,H,M])},"command"),n.getCommands=()=>h;let p={};n.describe=o(function(U,ie){Array.isArray(U)?U.forEach(J=>{n.describe(J,ie)}):typeof U=="object"?Object.keys(U).forEach(J=>{n.describe(J,U[J])}):p[U]=ie},"describe"),n.getDescriptions=()=>p;let A=[];n.epilog=G=>{A.push(G)};let x=!1,E;n.wrap=G=>{x=!0,E=G},n.getWrap=()=>t.getEnv("YARGS_DISABLE_WRAP")?null:(x||(E=ne(),x=!0),E);let v="__yargsString__:";n.deferY18nLookup=G=>v+G,n.help=o(function(){if(B)return B;S();let U=e.customScriptName?e.$0:t.path.basename(e.$0),ie=e.getDemandedOptions(),J=e.getDemandedCommands(),H=e.getDeprecatedOptions(),M=e.getGroups(),j=e.getOptions(),X=[];X=X.concat(Object.keys(p)),X=X.concat(Object.keys(ie)),X=X.concat(Object.keys(J)),X=X.concat(Object.keys(j.default)),X=X.filter(F),X=Object.keys(X.reduce((_e,Je)=>(Je!=="_"&&(_e[Je]=!0),_e),{}));let ae=n.getWrap(),re=t.cliui({width:ae,wrap:!!ae});if(!f){if(u.length)u.forEach(_e=>{re.div({text:`${_e[0].replace(/\$0/g,U)}`}),_e[1]&&re.div({text:`${_e[1]}`,padding:[1,0,0,0]})}),re.div();else if(h.length){let _e=null;J._?_e=`${U} <${r("command")}>
`:_e=`${U} [${r("command")}]
`,re.div(`${_e}`)}}if(h.length>1||h.length===1&&!h[0][2]){re.div(r("Commands:"));let _e=e.getInternalMethods().getContext(),Je=_e.commands.length?`${_e.commands.join(" ")} `:"";e.getInternalMethods().getParserConfiguration()["sort-commands"]===!0&&(h=h.sort((ot,at)=>ot[0].localeCompare(at[0])));let ut=U?`${U} `:"";h.forEach(ot=>{let at=`${ut}${Je}${ot[0].replace(/^\$0 ?/,"")}`;re.span({text:at,padding:[0,2,0,2],width:b(h,ae,`${U}${Je}`)+4},{text:ot[1]});let oe=[];ot[2]&&oe.push(`[${r("default")}]`),ot[3]&&ot[3].length&&oe.push(`[${r("aliases:")} ${ot[3].join(", ")}]`),ot[4]&&(typeof ot[4]=="string"?oe.push(`[${r("deprecated: %s",ot[4])}]`):oe.push(`[${r("deprecated")}]`)),oe.length?re.div({text:oe.join(" "),padding:[0,0,0,2],align:"right"}):re.div()}),re.div()}let le=(Object.keys(j.alias)||[]).concat(Object.keys(e.parsed.newAliases)||[]);X=X.filter(_e=>!e.parsed.newAliases[_e]&&le.every(Je=>(j.alias[Je]||[]).indexOf(_e)===-1));let de=r("Options:");M[de]||(M[de]=[]),P(X,j.alias,M,de);let Re=o(_e=>/^--/.test(cL(_e)),"isLongSwitch"),Ee=Object.keys(M).filter(_e=>M[_e].length>0).map(_e=>{let Je=M[_e].filter(F).map(ut=>{if(le.includes(ut))return ut;for(let ot=0,at;(at=le[ot])!==void 0;ot++)if((j.alias[at]||[]).includes(ut))return at;return ut});return{groupName:_e,normalizedKeys:Je}}).filter(({normalizedKeys:_e})=>_e.length>0).map(({groupName:_e,normalizedKeys:Je})=>{let ut=Je.reduce((ot,at)=>(ot[at]=[at].concat(j.alias[at]||[]).map(oe=>_e===n.getPositionalGroupName()?oe:(/^[0-9]$/.test(oe)?j.boolean.includes(at)?"-":"--":oe.length>1?"--":"-")+oe).sort((oe,Pe)=>Re(oe)===Re(Pe)?0:Re(oe)?1:-1).join(", "),ot),{});return{groupName:_e,normalizedKeys:Je,switches:ut}});if(Ee.filter(({groupName:_e})=>_e!==n.getPositionalGroupName()).some(({normalizedKeys:_e,switches:Je})=>!_e.every(ut=>Re(Je[ut])))&&Ee.filter(({groupName:_e})=>_e!==n.getPositionalGroupName()).forEach(({normalizedKeys:_e,switches:Je})=>{_e.forEach(ut=>{Re(Je[ut])&&(Je[ut]=ost(Je[ut],4))})}),Ee.forEach(({groupName:_e,normalizedKeys:Je,switches:ut})=>{re.div(_e),Je.forEach(ot=>{let at=ut[ot],oe=p[ot]||"",Pe=null;oe.includes(v)&&(oe=r(oe.substring(v.length))),j.boolean.includes(ot)&&(Pe=`[${r("boolean")}]`),j.count.includes(ot)&&(Pe=`[${r("count")}]`),j.string.includes(ot)&&(Pe=`[${r("string")}]`),j.normalize.includes(ot)&&(Pe=`[${r("string")}]`),j.array.includes(ot)&&(Pe=`[${r("array")}]`),j.number.includes(ot)&&(Pe=`[${r("number")}]`);let Ae=o(te=>typeof te=="string"?`[${r("deprecated: %s",te)}]`:`[${r("deprecated")}]`,"deprecatedExtra"),We=[ot in H?Ae(H[ot]):null,Pe,ot in ie?`[${r("required")}]`:null,j.choices&&j.choices[ot]?`[${r("choices:")} ${n.stringifiedValues(j.choices[ot])}]`:null,q(j.default[ot],j.defaultDescription[ot])].filter(Boolean).join(" ");re.span({text:cL(at),padding:[0,2,0,2+z3e(at)],width:b(ut,ae)+4},oe);let z=e.getInternalMethods().getUsageConfiguration()["hide-types"]===!0;We&&!z?re.div({text:We,padding:[0,0,0,2],align:"right"}):re.div()}),re.div()}),m.length&&(re.div(r("Examples:")),m.forEach(_e=>{_e[0]=_e[0].replace(/\$0/g,U)}),m.forEach(_e=>{_e[1]===""?re.div({text:_e[0],padding:[0,2,0,2]}):re.div({text:_e[0],padding:[0,2,0,2],width:b(m,ae)+4},{text:_e[1]})}),re.div()),A.length>0){let _e=A.map(Je=>Je.replace(/\$0/g,U)).join(`
`);re.div(`${_e}
`)}return re.toString().replace(/\s*$/,"")},"help");function b(G,U,ie){let J=0;return Array.isArray(G)||(G=Object.values(G).map(H=>[H])),G.forEach(H=>{J=Math.max(t.stringWidth(ie?`${ie} ${cL(H[0])}`:cL(H[0]))+z3e(H[0]),J)}),U&&(J=Math.min(J,parseInt((U*.5).toString(),10))),J}o(b,"maxWidth");function S(){let G=e.getDemandedOptions(),U=e.getOptions();(Object.keys(U.alias)||[]).forEach(ie=>{U.alias[ie].forEach(J=>{p[J]&&n.describe(ie,p[J]),J in G&&e.demandOption(ie,G[J]),U.boolean.includes(J)&&e.boolean(ie),U.count.includes(J)&&e.count(ie),U.string.includes(J)&&e.string(ie),U.normalize.includes(J)&&e.normalize(ie),U.array.includes(J)&&e.array(ie),U.number.includes(J)&&e.number(ie)})})}o(S,"normalizeAliases");let B;n.cacheHelpMessage=function(){B=this.help()},n.clearCachedHelpMessage=function(){B=void 0},n.hasCachedHelpMessage=function(){return!!B};function P(G,U,ie,J){let H=[],M=null;return Object.keys(ie).forEach(j=>{H=H.concat(ie[j])}),G.forEach(j=>{M=[j].concat(U[j]),M.some(X=>H.indexOf(X)!==-1)||ie[J].push(j)}),H}o(P,"addUngroupedKeys");function F(G){return e.getOptions().hiddenOptions.indexOf(G)<0||e.parsed.argv[e.getOptions().showHiddenOpt]}o(F,"filterHiddenOptions"),n.showHelp=G=>{let U=e.getInternalMethods().getLoggerInstance();G||(G="error"),(typeof G=="function"?G:U[G])(n.help())},n.functionDescription=G=>["(",G.name?t.Parser.decamelize(G.name,"-"):r("generated-value"),")"].join(""),n.stringifiedValues=o(function(U,ie){let J="",H=ie||", ",M=[].concat(U);return!U||!M.length||M.forEach(j=>{J.length&&(J+=H),J+=JSON.stringify(j)}),J},"stringifiedValues");function q(G,U){let ie=`[${r("default:")} `;if(G===void 0&&!U)return null;if(U)ie+=U;else switch(typeof G){case"string":ie+=`"${G}"`;break;case"object":ie+=JSON.stringify(G);break;default:ie+=G}return`${ie}]`}o(q,"defaultString");function ne(){return t.process.stdColumns?Math.min(80,t.process.stdColumns):80}o(ne,"windowWidth");let ce=null;n.version=G=>{ce=G},n.showVersion=G=>{let U=e.getInternalMethods().getLoggerInstance();G||(G="error"),(typeof G=="function"?G:U[G])(ce)},n.reset=o(function(U){return s=null,c=!1,u=[],f=!1,A=[],m=[],h=[],p=P5(p,ie=>!U[ie]),n},"reset");let Z=[];return n.freeze=o(function(){Z.push({failMessage:s,failureOutput:c,usages:u,usageDisabled:f,epilogs:A,examples:m,commands:h,descriptions:p})},"freeze"),n.unfreeze=o(function(U=!1){let ie=Z.pop();ie&&(U?(p={...ie.descriptions,...p},h=[...ie.commands,...h],u=[...ie.usages,...u],m=[...ie.examples,...m],A=[...ie.epilogs,...A]):{failMessage:s,failureOutput:c,usages:u,usageDisabled:f,epilogs:A,examples:m,commands:h,descriptions:p}=ie)},"unfreeze"),n}o(Y3e,"usage");function NX(e){return typeof e=="object"}o(NX,"isIndentedText");function ost(e,t){return NX(e)?{text:e.text,indentation:e.indentation+t}:{text:e,indentation:t}}o(ost,"addIndentation");function z3e(e){return NX(e)?e.indentation:0}o(z3e,"getIndentation");function cL(e){return NX(e)?e.text:e}o(cL,"getText");d();d();var K3e=`###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.bashrc
#    or {{app_path}} {{completion_command}} >> ~/.bash_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
    local cur_word args type_list

    cur_word="\${COMP_WORDS[COMP_CWORD]}"
    args=("\${COMP_WORDS[@]}")

    # ask yargs to generate completions.
    type_list=$({{app_path}} --get-yargs-completions "\${args[@]}")

    COMPREPLY=( $(compgen -W "\${type_list}" -- \${cur_word}) )

    # if no match was found, fall back to filename completion
    if [ \${#COMPREPLY[@]} -eq 0 ]; then
      COMPREPLY=()
    fi

    return 0
}
complete -o bashdefault -o default -F _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`,J3e=`#compdef {{app_name}}
###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.zshrc
#    or {{app_path}} {{completion_command}} >> ~/.zprofile on OSX.
#
_{{app_name}}_yargs_completions()
{
  local reply
  local si=$IFS
  IFS=$'
' reply=($(COMP_CWORD="$((CURRENT-1))" COMP_LINE="$BUFFER" COMP_POINT="$CURSOR" {{app_path}} --get-yargs-completions "\${words[@]}"))
  IFS=$si
  _describe 'values' reply
}
compdef _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`;var LX=class{static{o(this,"Completion")}constructor(t,r,n,i){var s,a,l;this.yargs=t,this.usage=r,this.command=n,this.shim=i,this.completionKey="get-yargs-completions",this.aliases=null,this.customCompletionFunction=null,this.indexAfterLastReset=0,this.zshShell=(l=((s=this.shim.getEnv("SHELL"))===null||s===void 0?void 0:s.includes("zsh"))||((a=this.shim.getEnv("ZSH_NAME"))===null||a===void 0?void 0:a.includes("zsh")))!==null&&l!==void 0?l:!1}defaultCompletion(t,r,n,i){let s=this.command.getCommandHandlers();for(let l=0,c=t.length;l<c;++l)if(s[t[l]]&&s[t[l]].builder){let u=s[t[l]].builder;if(lL(u)){this.indexAfterLastReset=l+1;let f=this.yargs.getInternalMethods().reset();return u(f,!0),f.argv}}let a=[];this.commandCompletions(a,t,n),this.optionCompletions(a,t,r,n),this.choicesFromOptionsCompletions(a,t,r,n),this.choicesFromPositionalsCompletions(a,t,r,n),i(null,a)}commandCompletions(t,r,n){let i=this.yargs.getInternalMethods().getContext().commands;!n.match(/^-/)&&i[i.length-1]!==n&&!this.previousArgHasChoices(r)&&this.usage.getCommands().forEach(s=>{let a=D5(s[0]).cmd;if(r.indexOf(a)===-1)if(!this.zshShell)t.push(a);else{let l=s[1]||"";t.push(a.replace(/:/g,"\\:")+":"+l)}})}optionCompletions(t,r,n,i){if((i.match(/^-/)||i===""&&t.length===0)&&!this.previousArgHasChoices(r)){let s=this.yargs.getOptions(),a=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[];Object.keys(s.key).forEach(l=>{let c=!!s.configuration["boolean-negation"]&&s.boolean.includes(l);!a.includes(l)&&!s.hiddenOptions.includes(l)&&!this.argsContainKey(r,l,c)&&this.completeOptionKey(l,t,i,c&&!!s.default[l])})}}choicesFromOptionsCompletions(t,r,n,i){if(this.previousArgHasChoices(r)){let s=this.getPreviousArgChoices(r);s&&s.length>0&&t.push(...s.map(a=>a.replace(/:/g,"\\:")))}}choicesFromPositionalsCompletions(t,r,n,i){if(i===""&&t.length>0&&this.previousArgHasChoices(r))return;let s=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[],a=Math.max(this.indexAfterLastReset,this.yargs.getInternalMethods().getContext().commands.length+1),l=s[n._.length-a-1];if(!l)return;let c=this.yargs.getOptions().choices[l]||[];for(let u of c)u.startsWith(i)&&t.push(u.replace(/:/g,"\\:"))}getPreviousArgChoices(t){if(t.length<1)return;let r=t[t.length-1],n="";if(!r.startsWith("-")&&t.length>1&&(n=r,r=t[t.length-2]),!r.startsWith("-"))return;let i=r.replace(/^-+/,""),s=this.yargs.getOptions(),a=[i,...this.yargs.getAliases()[i]||[]],l;for(let c of a)if(Object.prototype.hasOwnProperty.call(s.key,c)&&Array.isArray(s.choices[c])){l=s.choices[c];break}if(l)return l.filter(c=>!n||c.startsWith(n))}previousArgHasChoices(t){let r=this.getPreviousArgChoices(t);return r!==void 0&&r.length>0}argsContainKey(t,r,n){let i=o(s=>t.indexOf((/^[^0-9]$/.test(s)?"-":"--")+s)!==-1,"argsContains");if(i(r)||n&&i(`no-${r}`))return!0;if(this.aliases){for(let s of this.aliases[r])if(i(s))return!0}return!1}completeOptionKey(t,r,n,i){var s,a,l,c;let u=t;if(this.zshShell){let p=this.usage.getDescriptions(),A=(a=(s=this===null||this===void 0?void 0:this.aliases)===null||s===void 0?void 0:s[t])===null||a===void 0?void 0:a.find(v=>{let b=p[v];return typeof b=="string"&&b.length>0}),x=A?p[A]:void 0,E=(c=(l=p[t])!==null&&l!==void 0?l:x)!==null&&c!==void 0?c:"";u=`${t.replace(/:/g,"\\:")}:${E.replace("__yargsString__:","").replace(/(\r\n|\n|\r)/gm," ")}`}let f=o(p=>/^--/.test(p),"startsByTwoDashes"),m=o(p=>/^[^0-9]$/.test(p),"isShortOption"),h=!f(n)&&m(t)?"-":"--";r.push(h+u),i&&r.push(h+"no-"+u)}customCompletion(t,r,n,i){if(Y0(this.customCompletionFunction,null,this.shim),ast(this.customCompletionFunction)){let s=this.customCompletionFunction(n,r);return es(s)?s.then(a=>{this.shim.process.nextTick(()=>{i(null,a)})}).catch(a=>{this.shim.process.nextTick(()=>{i(a,void 0)})}):i(null,s)}else return lst(this.customCompletionFunction)?this.customCompletionFunction(n,r,(s=i)=>this.defaultCompletion(t,r,n,s),s=>{i(null,s)}):this.customCompletionFunction(n,r,s=>{i(null,s)})}getCompletion(t,r){let n=t.length?t[t.length-1]:"",i=this.yargs.parse(t,!0),s=this.customCompletionFunction?a=>this.customCompletion(t,a,n,r):a=>this.defaultCompletion(t,a,n,r);return es(i)?i.then(s):s(i)}generateCompletionScript(t,r){let n=this.zshShell?J3e:K3e,i=this.shim.path.basename(t);return t.match(/\.js$/)&&(t=`./${t}`),n=n.replace(/{{app_name}}/g,i),n=n.replace(/{{completion_command}}/g,r),n.replace(/{{app_path}}/g,t)}registerFunction(t){this.customCompletionFunction=t}setParsed(t){this.aliases=t.aliases}};function X3e(e,t,r,n){return new LX(e,t,r,n)}o(X3e,"completion");function ast(e){return e.length<3}o(ast,"isSyncCompletionFunction");function lst(e){return e.length>3}o(lst,"isFallbackCompletionFunction");d();d();function Z3e(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;let r=[],n;for(n=0;n<=t.length;n++)r[n]=[n];let i;for(i=0;i<=e.length;i++)r[0][i]=i;for(n=1;n<=t.length;n++)for(i=1;i<=e.length;i++)t.charAt(n-1)===e.charAt(i-1)?r[n][i]=r[n-1][i-1]:n>1&&i>1&&t.charAt(n-2)===e.charAt(i-1)&&t.charAt(n-1)===e.charAt(i-2)?r[n][i]=r[n-2][i-2]+1:r[n][i]=Math.min(r[n-1][i-1]+1,Math.min(r[n][i-1]+1,r[n-1][i]+1));return r[t.length][e.length]}o(Z3e,"levenshtein");var e4e=["$0","--","_"];function t4e(e,t,r){let n=r.y18n.__,i=r.y18n.__n,s={};s.nonOptionCount=o(function(m){let h=e.getDemandedCommands(),A=m._.length+(m["--"]?m["--"].length:0)-e.getInternalMethods().getContext().commands.length;h._&&(A<h._.min||A>h._.max)&&(A<h._.min?h._.minMsg!==void 0?t.fail(h._.minMsg?h._.minMsg.replace(/\$0/g,A.toString()).replace(/\$1/,h._.min.toString()):null):t.fail(i("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",A,A.toString(),h._.min.toString())):A>h._.max&&(h._.maxMsg!==void 0?t.fail(h._.maxMsg?h._.maxMsg.replace(/\$0/g,A.toString()).replace(/\$1/,h._.max.toString()):null):t.fail(i("Too many non-option arguments: got %s, maximum of %s","Too many non-option arguments: got %s, maximum of %s",A,A.toString(),h._.max.toString()))))},"nonOptionCount"),s.positionalCount=o(function(m,h){h<m&&t.fail(i("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",h,h+"",m+""))},"positionalCount"),s.requiredArguments=o(function(m,h){let p=null;for(let A of Object.keys(h))(!Object.prototype.hasOwnProperty.call(m,A)||typeof m[A]>"u")&&(p=p||{},p[A]=h[A]);if(p){let A=[];for(let E of Object.keys(p)){let v=p[E];v&&A.indexOf(v)<0&&A.push(v)}let x=A.length?`
${A.join(`
`)}`:"";t.fail(i("Missing required argument: %s","Missing required arguments: %s",Object.keys(p).length,Object.keys(p).join(", ")+x))}},"requiredArguments"),s.unknownArguments=o(function(m,h,p,A,x=!0){var E;let v=e.getInternalMethods().getCommandInstance().getCommands(),b=[],S=e.getInternalMethods().getContext();if(Object.keys(m).forEach(B=>{!e4e.includes(B)&&!Object.prototype.hasOwnProperty.call(p,B)&&!Object.prototype.hasOwnProperty.call(e.getInternalMethods().getParseContext(),B)&&!s.isValidAndSomeAliasIsNotNew(B,h)&&b.push(B)}),x&&(S.commands.length>0||v.length>0||A)&&m._.slice(S.commands.length).forEach(B=>{v.includes(""+B)||b.push(""+B)}),x){let P=((E=e.getDemandedCommands()._)===null||E===void 0?void 0:E.max)||0,F=S.commands.length+P;F<m._.length&&m._.slice(F).forEach(q=>{q=String(q),!S.commands.includes(q)&&!b.includes(q)&&b.push(q)})}b.length&&t.fail(i("Unknown argument: %s","Unknown arguments: %s",b.length,b.map(B=>B.trim()?B:`"${B}"`).join(", ")))},"unknownArguments"),s.unknownCommands=o(function(m){let h=e.getInternalMethods().getCommandInstance().getCommands(),p=[],A=e.getInternalMethods().getContext();return(A.commands.length>0||h.length>0)&&m._.slice(A.commands.length).forEach(x=>{h.includes(""+x)||p.push(""+x)}),p.length>0?(t.fail(i("Unknown command: %s","Unknown commands: %s",p.length,p.join(", "))),!0):!1},"unknownCommands"),s.isValidAndSomeAliasIsNotNew=o(function(m,h){if(!Object.prototype.hasOwnProperty.call(h,m))return!1;let p=e.parsed.newAliases;return[m,...h[m]].some(A=>!Object.prototype.hasOwnProperty.call(p,A)||!p[m])},"isValidAndSomeAliasIsNotNew"),s.limitedChoices=o(function(m){let h=e.getOptions(),p={};if(!Object.keys(h.choices).length)return;Object.keys(m).forEach(E=>{e4e.indexOf(E)===-1&&Object.prototype.hasOwnProperty.call(h.choices,E)&&[].concat(m[E]).forEach(v=>{h.choices[E].indexOf(v)===-1&&v!==void 0&&(p[E]=(p[E]||[]).concat(v))})});let A=Object.keys(p);if(!A.length)return;let x=n("Invalid values:");A.forEach(E=>{x+=`
  ${n("Argument: %s, Given: %s, Choices: %s",E,t.stringifiedValues(p[E]),t.stringifiedValues(h.choices[E]))}`}),t.fail(x)},"limitedChoices");let a={};s.implies=o(function(m,h){kr("<string|object> [array|number|string]",[m,h],arguments.length),typeof m=="object"?Object.keys(m).forEach(p=>{s.implies(p,m[p])}):(e.global(m),a[m]||(a[m]=[]),Array.isArray(h)?h.forEach(p=>s.implies(m,p)):(Y0(h,void 0,r),a[m].push(h)))},"implies"),s.getImplied=o(function(){return a},"getImplied");function l(f,m){let h=Number(m);return m=isNaN(h)?m:h,typeof m=="number"?m=f._.length>=m:m.match(/^--no-.+/)?(m=m.match(/^--no-(.+)/)[1],m=!Object.prototype.hasOwnProperty.call(f,m)):m=Object.prototype.hasOwnProperty.call(f,m),m}o(l,"keyExists"),s.implications=o(function(m){let h=[];if(Object.keys(a).forEach(p=>{let A=p;(a[p]||[]).forEach(x=>{let E=A,v=x;E=l(m,E),x=l(m,x),E&&!x&&h.push(` ${A} -> ${v}`)})}),h.length){let p=`${n("Implications failed:")}
`;h.forEach(A=>{p+=A}),t.fail(p)}},"implications");let c={};s.conflicts=o(function(m,h){kr("<string|object> [array|string]",[m,h],arguments.length),typeof m=="object"?Object.keys(m).forEach(p=>{s.conflicts(p,m[p])}):(e.global(m),c[m]||(c[m]=[]),Array.isArray(h)?h.forEach(p=>s.conflicts(m,p)):c[m].push(h))},"conflicts"),s.getConflicting=()=>c,s.conflicting=o(function(m){Object.keys(m).forEach(h=>{c[h]&&c[h].forEach(p=>{p&&m[h]!==void 0&&m[p]!==void 0&&t.fail(n("Arguments %s and %s are mutually exclusive",h,p))})}),e.getInternalMethods().getParserConfiguration()["strip-dashed"]&&Object.keys(c).forEach(h=>{c[h].forEach(p=>{p&&m[r.Parser.camelCase(h)]!==void 0&&m[r.Parser.camelCase(p)]!==void 0&&t.fail(n("Arguments %s and %s are mutually exclusive",h,p))})})},"conflictingFn"),s.recommendCommands=o(function(m,h){h=h.sort((E,v)=>v.length-E.length);let A=null,x=1/0;for(let E=0,v;(v=h[E])!==void 0;E++){let b=Z3e(m,v);b<=3&&b<x&&(x=b,A=v)}A&&t.fail(n("Did you mean %s?",A))},"recommendCommands"),s.reset=o(function(m){return a=P5(a,h=>!m[h]),c=P5(c,h=>!m[h]),s},"reset");let u=[];return s.freeze=o(function(){u.push({implied:a,conflicting:c})},"freeze"),s.unfreeze=o(function(){let m=u.pop();Y0(m,void 0,r),{implied:a,conflicting:c}=m},"unfreeze"),s}o(t4e,"validation");d();var QX=[],zT;function uL(e,t,r,n){zT=n;let i={};if(Object.prototype.hasOwnProperty.call(e,"extends")){if(typeof e.extends!="string")return i;let s=/\.json|\..*rc$/.test(e.extends),a=null;if(s)a=ust(t,e.extends);else try{a=require.resolve(e.extends)}catch{return e}cst(a),QX.push(a),i=s?JSON.parse(zT.readFileSync(a,"utf8")):require(e.extends),delete e.extends,i=uL(i,zT.path.dirname(a),r,zT)}return QX=[],r?r4e(i,e):Object.assign({},i,e)}o(uL,"applyExtends");function cst(e){if(QX.indexOf(e)>-1)throw new Zo(`Circular extended configurations: '${e}'.`)}o(cst,"checkForCircularExtends");function ust(e,t){return zT.path.resolve(e,t)}o(ust,"getPathToDefaultConfig");function r4e(e,t){let r={};function n(i){return i&&typeof i=="object"&&!Array.isArray(i)}o(n,"isObject"),Object.assign(r,e);for(let i of Object.keys(t))n(t[i])&&n(r[i])?r[i]=r4e(e[i],t[i]):r[i]=t[i];return r}o(r4e,"mergeDeep");var Rr=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},pe=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},la,r4,YT,ad,Uu,fL,N5,n4,dL,ld,mL,cd,Ep,qu,ud,hL,Uv,hl,Wr,pL,gL,Wu,i4,qv,o4,L5,AL,Sn,s4,a4,l4,Fn,yL,bp,Vs;function b4e(e){return(t=[],r=e.process.cwd(),n)=>{let i=new zX(t,r,n,e);return Object.defineProperty(i,"argv",{get:o(()=>i.parse(),"get"),enumerable:!0}),i.help(),i.version(),i}}o(b4e,"YargsFactory");var n4e=Symbol("copyDoubleDash"),i4e=Symbol("copyDoubleDash"),MX=Symbol("deleteFromParserHintObject"),o4e=Symbol("emitWarning"),s4e=Symbol("freeze"),a4e=Symbol("getDollarZero"),c4=Symbol("getParserConfiguration"),l4e=Symbol("getUsageConfiguration"),OX=Symbol("guessLocale"),c4e=Symbol("guessVersion"),u4e=Symbol("parsePositionalNumbers"),UX=Symbol("pkgUp"),Q5=Symbol("populateParserHintArray"),Wv=Symbol("populateParserHintSingleValueDictionary"),qX=Symbol("populateParserHintArrayDictionary"),WX=Symbol("populateParserHintDictionary"),GX=Symbol("sanitizeKey"),HX=Symbol("setKey"),VX=Symbol("unfreeze"),f4e=Symbol("validateAsync"),d4e=Symbol("getCommandInstance"),m4e=Symbol("getContext"),h4e=Symbol("getHasOutput"),p4e=Symbol("getLoggerInstance"),g4e=Symbol("getParseContext"),A4e=Symbol("getUsageInstance"),y4e=Symbol("getValidationInstance"),CL=Symbol("hasParseCallback"),C4e=Symbol("isGlobalContext"),u4=Symbol("postProcess"),x4e=Symbol("rebase"),jX=Symbol("reset"),KT=Symbol("runYargsParserAndExecuteCommands"),$X=Symbol("runValidation"),E4e=Symbol("setHasOutput"),f4=Symbol("kTrackManuallySetKeys"),zX=class{static{o(this,"YargsInstance")}constructor(t=[],r,n,i){this.customScriptName=!1,this.parsed=!1,la.set(this,void 0),r4.set(this,void 0),YT.set(this,{commands:[],fullCommands:[]}),ad.set(this,null),Uu.set(this,null),fL.set(this,"show-hidden"),N5.set(this,null),n4.set(this,!0),dL.set(this,{}),ld.set(this,!0),mL.set(this,[]),cd.set(this,void 0),Ep.set(this,{}),qu.set(this,!1),ud.set(this,null),hL.set(this,!0),Uv.set(this,void 0),hl.set(this,""),Wr.set(this,void 0),pL.set(this,void 0),gL.set(this,{}),Wu.set(this,null),i4.set(this,null),qv.set(this,{}),o4.set(this,{}),L5.set(this,void 0),AL.set(this,!1),Sn.set(this,void 0),s4.set(this,!1),a4.set(this,!1),l4.set(this,!1),Fn.set(this,void 0),yL.set(this,{}),bp.set(this,null),Vs.set(this,void 0),Rr(this,Sn,i,"f"),Rr(this,L5,t,"f"),Rr(this,r4,r,"f"),Rr(this,pL,n,"f"),Rr(this,cd,new aL(this),"f"),this.$0=this[a4e](),this[jX](),Rr(this,la,pe(this,la,"f"),"f"),Rr(this,Fn,pe(this,Fn,"f"),"f"),Rr(this,Vs,pe(this,Vs,"f"),"f"),Rr(this,Wr,pe(this,Wr,"f"),"f"),pe(this,Wr,"f").showHiddenOpt=pe(this,fL,"f"),Rr(this,Uv,this[i4e](),"f")}addHelpOpt(t,r){let n="help";return kr("[string|boolean] [string]",[t,r],arguments.length),pe(this,ud,"f")&&(this[MX](pe(this,ud,"f")),Rr(this,ud,null,"f")),t===!1&&r===void 0?this:(Rr(this,ud,typeof t=="string"?t:n,"f"),this.boolean(pe(this,ud,"f")),this.describe(pe(this,ud,"f"),r||pe(this,Fn,"f").deferY18nLookup("Show help")),this)}help(t,r){return this.addHelpOpt(t,r)}addShowHiddenOpt(t,r){if(kr("[string|boolean] [string]",[t,r],arguments.length),t===!1&&r===void 0)return this;let n=typeof t=="string"?t:pe(this,fL,"f");return this.boolean(n),this.describe(n,r||pe(this,Fn,"f").deferY18nLookup("Show hidden options")),pe(this,Wr,"f").showHiddenOpt=n,this}showHidden(t,r){return this.addShowHiddenOpt(t,r)}alias(t,r){return kr("<object|string|array> [string|array]",[t,r],arguments.length),this[qX](this.alias.bind(this),"alias",t,r),this}array(t){return kr("<array|string>",[t],arguments.length),this[Q5]("array",t),this[f4](t),this}boolean(t){return kr("<array|string>",[t],arguments.length),this[Q5]("boolean",t),this[f4](t),this}check(t,r){return kr("<function> [boolean]",[t,r],arguments.length),this.middleware((n,i)=>t4(()=>t(n,i.getOptions()),s=>(s?(typeof s=="string"||s instanceof Error)&&pe(this,Fn,"f").fail(s.toString(),s):pe(this,Fn,"f").fail(pe(this,Sn,"f").y18n.__("Argument check failed: %s",t.toString())),n),s=>(pe(this,Fn,"f").fail(s.message?s.message:s.toString(),s),n)),!1,r),this}choices(t,r){return kr("<object|string|array> [string|array]",[t,r],arguments.length),this[qX](this.choices.bind(this),"choices",t,r),this}coerce(t,r){if(kr("<object|string|array> [function]",[t,r],arguments.length),Array.isArray(t)){if(!r)throw new Zo("coerce callback must be provided");for(let n of t)this.coerce(n,r);return this}else if(typeof t=="object"){for(let n of Object.keys(t))this.coerce(n,t[n]);return this}if(!r)throw new Zo("coerce callback must be provided");return pe(this,Wr,"f").key[t]=!0,pe(this,cd,"f").addCoerceMiddleware((n,i)=>{let s;return Object.prototype.hasOwnProperty.call(n,t)?t4(()=>(s=i.getAliases(),r(n[t])),l=>{n[t]=l;let c=i.getInternalMethods().getParserConfiguration()["strip-aliased"];if(s[t]&&c!==!0)for(let u of s[t])n[u]=l;return n},l=>{throw new Zo(l.message)}):n},t),this}conflicts(t,r){return kr("<string|object> [string|array]",[t,r],arguments.length),pe(this,Vs,"f").conflicts(t,r),this}config(t="config",r,n){return kr("[object|string] [string|function] [function]",[t,r,n],arguments.length),typeof t=="object"&&!Array.isArray(t)?(t=uL(t,pe(this,r4,"f"),this[c4]()["deep-merge-config"]||!1,pe(this,Sn,"f")),pe(this,Wr,"f").configObjects=(pe(this,Wr,"f").configObjects||[]).concat(t),this):(typeof r=="function"&&(n=r,r=void 0),this.describe(t,r||pe(this,Fn,"f").deferY18nLookup("Path to JSON config file")),(Array.isArray(t)?t:[t]).forEach(i=>{pe(this,Wr,"f").config[i]=n||!0}),this)}completion(t,r,n){return kr("[string] [string|boolean|function] [function]",[t,r,n],arguments.length),typeof r=="function"&&(n=r,r=void 0),Rr(this,Uu,t||pe(this,Uu,"f")||"completion","f"),!r&&r!==!1&&(r="generate completion script"),this.command(pe(this,Uu,"f"),r),n&&pe(this,ad,"f").registerFunction(n),this}command(t,r,n,i,s,a){return kr("<string|array|object> [string|boolean] [function|object] [function] [array] [boolean|string]",[t,r,n,i,s,a],arguments.length),pe(this,la,"f").addHandler(t,r,n,i,s,a),this}commands(t,r,n,i,s,a){return this.command(t,r,n,i,s,a)}commandDir(t,r){kr("<string> [object]",[t,r],arguments.length);let n=pe(this,pL,"f")||pe(this,Sn,"f").require;return pe(this,la,"f").addDirectory(t,n,pe(this,Sn,"f").getCallerFile(),r),this}count(t){return kr("<array|string>",[t],arguments.length),this[Q5]("count",t),this[f4](t),this}default(t,r,n){return kr("<object|string|array> [*] [string]",[t,r,n],arguments.length),n&&(DX(t,pe(this,Sn,"f")),pe(this,Wr,"f").defaultDescription[t]=n),typeof r=="function"&&(DX(t,pe(this,Sn,"f")),pe(this,Wr,"f").defaultDescription[t]||(pe(this,Wr,"f").defaultDescription[t]=pe(this,Fn,"f").functionDescription(r)),r=r.call()),this[Wv](this.default.bind(this),"default",t,r),this}defaults(t,r,n){return this.default(t,r,n)}demandCommand(t=1,r,n,i){return kr("[number] [number|string] [string|null|undefined] [string|null|undefined]",[t,r,n,i],arguments.length),typeof r!="number"&&(n=r,r=1/0),this.global("_",!1),pe(this,Wr,"f").demandedCommands._={min:t,max:r,minMsg:n,maxMsg:i},this}demand(t,r,n){return Array.isArray(r)?(r.forEach(i=>{Y0(n,!0,pe(this,Sn,"f")),this.demandOption(i,n)}),r=1/0):typeof r!="number"&&(n=r,r=1/0),typeof t=="number"?(Y0(n,!0,pe(this,Sn,"f")),this.demandCommand(t,r,n,n)):Array.isArray(t)?t.forEach(i=>{Y0(n,!0,pe(this,Sn,"f")),this.demandOption(i,n)}):typeof n=="string"?this.demandOption(t,n):(n===!0||typeof n>"u")&&this.demandOption(t),this}demandOption(t,r){return kr("<object|string|array> [string]",[t,r],arguments.length),this[Wv](this.demandOption.bind(this),"demandedOptions",t,r),this}deprecateOption(t,r){return kr("<string> [string|boolean]",[t,r],arguments.length),pe(this,Wr,"f").deprecatedOptions[t]=r,this}describe(t,r){return kr("<object|string|array> [string]",[t,r],arguments.length),this[HX](t,!0),pe(this,Fn,"f").describe(t,r),this}detectLocale(t){return kr("<boolean>",[t],arguments.length),Rr(this,n4,t,"f"),this}env(t){return kr("[string|boolean]",[t],arguments.length),t===!1?delete pe(this,Wr,"f").envPrefix:pe(this,Wr,"f").envPrefix=t||"",this}epilogue(t){return kr("<string>",[t],arguments.length),pe(this,Fn,"f").epilog(t),this}epilog(t){return this.epilogue(t)}example(t,r){return kr("<string|array> [string]",[t,r],arguments.length),Array.isArray(t)?t.forEach(n=>this.example(...n)):pe(this,Fn,"f").example(t,r),this}exit(t,r){Rr(this,qu,!0,"f"),Rr(this,N5,r,"f"),pe(this,ld,"f")&&pe(this,Sn,"f").process.exit(t)}exitProcess(t=!0){return kr("[boolean]",[t],arguments.length),Rr(this,ld,t,"f"),this}fail(t){if(kr("<function|boolean>",[t],arguments.length),typeof t=="boolean"&&t!==!1)throw new Zo("Invalid first argument. Expected function or boolean 'false'");return pe(this,Fn,"f").failFn(t),this}getAliases(){return this.parsed?this.parsed.aliases:{}}async getCompletion(t,r){return kr("<array> [function]",[t,r],arguments.length),r?pe(this,ad,"f").getCompletion(t,r):new Promise((n,i)=>{pe(this,ad,"f").getCompletion(t,(s,a)=>{s?i(s):n(a)})})}getDemandedOptions(){return kr([],0),pe(this,Wr,"f").demandedOptions}getDemandedCommands(){return kr([],0),pe(this,Wr,"f").demandedCommands}getDeprecatedOptions(){return kr([],0),pe(this,Wr,"f").deprecatedOptions}getDetectLocale(){return pe(this,n4,"f")}getExitProcess(){return pe(this,ld,"f")}getGroups(){return Object.assign({},pe(this,Ep,"f"),pe(this,o4,"f"))}getHelp(){if(Rr(this,qu,!0,"f"),!pe(this,Fn,"f").hasCachedHelpMessage()){if(!this.parsed){let r=this[KT](pe(this,L5,"f"),void 0,void 0,0,!0);if(es(r))return r.then(()=>pe(this,Fn,"f").help())}let t=pe(this,la,"f").runDefaultBuilderOn(this);if(es(t))return t.then(()=>pe(this,Fn,"f").help())}return Promise.resolve(pe(this,Fn,"f").help())}getOptions(){return pe(this,Wr,"f")}getStrict(){return pe(this,s4,"f")}getStrictCommands(){return pe(this,a4,"f")}getStrictOptions(){return pe(this,l4,"f")}global(t,r){return kr("<string|array> [boolean]",[t,r],arguments.length),t=[].concat(t),r!==!1?pe(this,Wr,"f").local=pe(this,Wr,"f").local.filter(n=>t.indexOf(n)===-1):t.forEach(n=>{pe(this,Wr,"f").local.includes(n)||pe(this,Wr,"f").local.push(n)}),this}group(t,r){kr("<string|array> <string>",[t,r],arguments.length);let n=pe(this,o4,"f")[r]||pe(this,Ep,"f")[r];pe(this,o4,"f")[r]&&delete pe(this,o4,"f")[r];let i={};return pe(this,Ep,"f")[r]=(n||[]).concat(t).filter(s=>i[s]?!1:i[s]=!0),this}hide(t){return kr("<string>",[t],arguments.length),pe(this,Wr,"f").hiddenOptions.push(t),this}implies(t,r){return kr("<string|object> [number|string|array]",[t,r],arguments.length),pe(this,Vs,"f").implies(t,r),this}locale(t){return kr("[string]",[t],arguments.length),t===void 0?(this[OX](),pe(this,Sn,"f").y18n.getLocale()):(Rr(this,n4,!1,"f"),pe(this,Sn,"f").y18n.setLocale(t),this)}middleware(t,r,n){return pe(this,cd,"f").addMiddleware(t,!!r,n)}nargs(t,r){return kr("<string|object|array> [number]",[t,r],arguments.length),this[Wv](this.nargs.bind(this),"narg",t,r),this}normalize(t){return kr("<array|string>",[t],arguments.length),this[Q5]("normalize",t),this}number(t){return kr("<array|string>",[t],arguments.length),this[Q5]("number",t),this[f4](t),this}option(t,r){if(kr("<string|object> [object]",[t,r],arguments.length),typeof t=="object")Object.keys(t).forEach(n=>{this.options(n,t[n])});else{typeof r!="object"&&(r={}),this[f4](t),pe(this,bp,"f")&&(t==="version"||r?.alias==="version")&&this[o4e](['"version" is a reserved word.',"Please do one of the following:",'- Disable version with `yargs.version(false)` if using "version" as an option',"- Use the built-in `yargs.version` method instead (if applicable)","- Use a different option key","https://yargs.js.org/docs/#api-reference-version"].join(`
`),void 0,"versionWarning"),pe(this,Wr,"f").key[t]=!0,r.alias&&this.alias(t,r.alias);let n=r.deprecate||r.deprecated;n&&this.deprecateOption(t,n);let i=r.demand||r.required||r.require;i&&this.demand(t,i),r.demandOption&&this.demandOption(t,typeof r.demandOption=="string"?r.demandOption:void 0),r.conflicts&&this.conflicts(t,r.conflicts),"default"in r&&this.default(t,r.default),r.implies!==void 0&&this.implies(t,r.implies),r.nargs!==void 0&&this.nargs(t,r.nargs),r.config&&this.config(t,r.configParser),r.normalize&&this.normalize(t),r.choices&&this.choices(t,r.choices),r.coerce&&this.coerce(t,r.coerce),r.group&&this.group(t,r.group),(r.boolean||r.type==="boolean")&&(this.boolean(t),r.alias&&this.boolean(r.alias)),(r.array||r.type==="array")&&(this.array(t),r.alias&&this.array(r.alias)),(r.number||r.type==="number")&&(this.number(t),r.alias&&this.number(r.alias)),(r.string||r.type==="string")&&(this.string(t),r.alias&&this.string(r.alias)),(r.count||r.type==="count")&&this.count(t),typeof r.global=="boolean"&&this.global(t,r.global),r.defaultDescription&&(pe(this,Wr,"f").defaultDescription[t]=r.defaultDescription),r.skipValidation&&this.skipValidation(t);let s=r.describe||r.description||r.desc,a=pe(this,Fn,"f").getDescriptions();(!Object.prototype.hasOwnProperty.call(a,t)||typeof s=="string")&&this.describe(t,s),r.hidden&&this.hide(t),r.requiresArg&&this.requiresArg(t)}return this}options(t,r){return this.option(t,r)}parse(t,r,n){kr("[string|array] [function|boolean|object] [function]",[t,r,n],arguments.length),this[s4e](),typeof t>"u"&&(t=pe(this,L5,"f")),typeof r=="object"&&(Rr(this,i4,r,"f"),r=n),typeof r=="function"&&(Rr(this,Wu,r,"f"),r=!1),r||Rr(this,L5,t,"f"),pe(this,Wu,"f")&&Rr(this,ld,!1,"f");let i=this[KT](t,!!r),s=this.parsed;return pe(this,ad,"f").setParsed(this.parsed),es(i)?i.then(a=>(pe(this,Wu,"f")&&pe(this,Wu,"f").call(this,pe(this,N5,"f"),a,pe(this,hl,"f")),a)).catch(a=>{throw pe(this,Wu,"f")&&pe(this,Wu,"f")(a,this.parsed.argv,pe(this,hl,"f")),a}).finally(()=>{this[VX](),this.parsed=s}):(pe(this,Wu,"f")&&pe(this,Wu,"f").call(this,pe(this,N5,"f"),i,pe(this,hl,"f")),this[VX](),this.parsed=s,i)}parseAsync(t,r,n){let i=this.parse(t,r,n);return es(i)?i:Promise.resolve(i)}parseSync(t,r,n){let i=this.parse(t,r,n);if(es(i))throw new Zo(".parseSync() must not be used with asynchronous builders, handlers, or middleware");return i}parserConfiguration(t){return kr("<object>",[t],arguments.length),Rr(this,gL,t,"f"),this}pkgConf(t,r){kr("<string> [string]",[t,r],arguments.length);let n=null,i=this[UX](r||pe(this,r4,"f"));return i[t]&&typeof i[t]=="object"&&(n=uL(i[t],r||pe(this,r4,"f"),this[c4]()["deep-merge-config"]||!1,pe(this,Sn,"f")),pe(this,Wr,"f").configObjects=(pe(this,Wr,"f").configObjects||[]).concat(n)),this}positional(t,r){kr("<string> <object>",[t,r],arguments.length);let n=["default","defaultDescription","implies","normalize","choices","conflicts","coerce","type","describe","desc","description","alias"];r=P5(r,(a,l)=>a==="type"&&!["string","number","boolean"].includes(l)?!1:n.includes(a));let i=pe(this,YT,"f").fullCommands[pe(this,YT,"f").fullCommands.length-1],s=i?pe(this,la,"f").cmdToParseOptions(i):{array:[],alias:{},default:{},demand:{}};return Mv(s).forEach(a=>{let l=s[a];Array.isArray(l)?l.indexOf(t)!==-1&&(r[a]=!0):l[t]&&!(a in r)&&(r[a]=l[t])}),this.group(t,pe(this,Fn,"f").getPositionalGroupName()),this.option(t,r)}recommendCommands(t=!0){return kr("[boolean]",[t],arguments.length),Rr(this,AL,t,"f"),this}required(t,r,n){return this.demand(t,r,n)}require(t,r,n){return this.demand(t,r,n)}requiresArg(t){return kr("<array|string|object> [number]",[t],arguments.length),typeof t=="string"&&pe(this,Wr,"f").narg[t]?this:(this[Wv](this.requiresArg.bind(this),"narg",t,NaN),this)}showCompletionScript(t,r){return kr("[string] [string]",[t,r],arguments.length),t=t||this.$0,pe(this,Uv,"f").log(pe(this,ad,"f").generateCompletionScript(t,r||pe(this,Uu,"f")||"completion")),this}showHelp(t){if(kr("[string|function]",[t],arguments.length),Rr(this,qu,!0,"f"),!pe(this,Fn,"f").hasCachedHelpMessage()){if(!this.parsed){let n=this[KT](pe(this,L5,"f"),void 0,void 0,0,!0);if(es(n))return n.then(()=>{pe(this,Fn,"f").showHelp(t)}),this}let r=pe(this,la,"f").runDefaultBuilderOn(this);if(es(r))return r.then(()=>{pe(this,Fn,"f").showHelp(t)}),this}return pe(this,Fn,"f").showHelp(t),this}scriptName(t){return this.customScriptName=!0,this.$0=t,this}showHelpOnFail(t,r){return kr("[boolean|string] [string]",[t,r],arguments.length),pe(this,Fn,"f").showHelpOnFail(t,r),this}showVersion(t){return kr("[string|function]",[t],arguments.length),pe(this,Fn,"f").showVersion(t),this}skipValidation(t){return kr("<array|string>",[t],arguments.length),this[Q5]("skipValidation",t),this}strict(t){return kr("[boolean]",[t],arguments.length),Rr(this,s4,t!==!1,"f"),this}strictCommands(t){return kr("[boolean]",[t],arguments.length),Rr(this,a4,t!==!1,"f"),this}strictOptions(t){return kr("[boolean]",[t],arguments.length),Rr(this,l4,t!==!1,"f"),this}string(t){return kr("<array|string>",[t],arguments.length),this[Q5]("string",t),this[f4](t),this}terminalWidth(){return kr([],0),pe(this,Sn,"f").process.stdColumns}updateLocale(t){return this.updateStrings(t)}updateStrings(t){return kr("<object>",[t],arguments.length),Rr(this,n4,!1,"f"),pe(this,Sn,"f").y18n.updateLocale(t),this}usage(t,r,n,i){if(kr("<string|null|undefined> [string|boolean] [function|object] [function]",[t,r,n,i],arguments.length),r!==void 0){if(Y0(t,null,pe(this,Sn,"f")),(t||"").match(/^\$0( |$)/))return this.command(t,r,n,i);throw new Zo(".usage() description must start with $0 if being used as alias for .command()")}else return pe(this,Fn,"f").usage(t),this}usageConfiguration(t){return kr("<object>",[t],arguments.length),Rr(this,yL,t,"f"),this}version(t,r,n){let i="version";if(kr("[boolean|string] [string] [string]",[t,r,n],arguments.length),pe(this,bp,"f")&&(this[MX](pe(this,bp,"f")),pe(this,Fn,"f").version(void 0),Rr(this,bp,null,"f")),arguments.length===0)n=this[c4e](),t=i;else if(arguments.length===1){if(t===!1)return this;n=t,t=i}else arguments.length===2&&(n=r,r=void 0);return Rr(this,bp,typeof t=="string"?t:i,"f"),r=r||pe(this,Fn,"f").deferY18nLookup("Show version number"),pe(this,Fn,"f").version(n||void 0),this.boolean(pe(this,bp,"f")),this.describe(pe(this,bp,"f"),r),this}wrap(t){return kr("<number|null|undefined>",[t],arguments.length),pe(this,Fn,"f").wrap(t),this}[(la=new WeakMap,r4=new WeakMap,YT=new WeakMap,ad=new WeakMap,Uu=new WeakMap,fL=new WeakMap,N5=new WeakMap,n4=new WeakMap,dL=new WeakMap,ld=new WeakMap,mL=new WeakMap,cd=new WeakMap,Ep=new WeakMap,qu=new WeakMap,ud=new WeakMap,hL=new WeakMap,Uv=new WeakMap,hl=new WeakMap,Wr=new WeakMap,pL=new WeakMap,gL=new WeakMap,Wu=new WeakMap,i4=new WeakMap,qv=new WeakMap,o4=new WeakMap,L5=new WeakMap,AL=new WeakMap,Sn=new WeakMap,s4=new WeakMap,a4=new WeakMap,l4=new WeakMap,Fn=new WeakMap,yL=new WeakMap,bp=new WeakMap,Vs=new WeakMap,n4e)](t){if(!t._||!t["--"])return t;t._.push.apply(t._,t["--"]);try{delete t["--"]}catch{}return t}[i4e](){return{log:o((...t)=>{this[CL]()||console.log(...t),Rr(this,qu,!0,"f"),pe(this,hl,"f").length&&Rr(this,hl,pe(this,hl,"f")+`
`,"f"),Rr(this,hl,pe(this,hl,"f")+t.join(" "),"f")},"log"),error:o((...t)=>{this[CL]()||console.error(...t),Rr(this,qu,!0,"f"),pe(this,hl,"f").length&&Rr(this,hl,pe(this,hl,"f")+`
`,"f"),Rr(this,hl,pe(this,hl,"f")+t.join(" "),"f")},"error")}}[MX](t){Mv(pe(this,Wr,"f")).forEach(r=>{if((i=>i==="configObjects")(r))return;let n=pe(this,Wr,"f")[r];Array.isArray(n)?n.includes(t)&&n.splice(n.indexOf(t),1):typeof n=="object"&&delete n[t]}),delete pe(this,Fn,"f").getDescriptions()[t]}[o4e](t,r,n){pe(this,dL,"f")[n]||(pe(this,Sn,"f").process.emitWarning(t,r),pe(this,dL,"f")[n]=!0)}[s4e](){pe(this,mL,"f").push({options:pe(this,Wr,"f"),configObjects:pe(this,Wr,"f").configObjects.slice(0),exitProcess:pe(this,ld,"f"),groups:pe(this,Ep,"f"),strict:pe(this,s4,"f"),strictCommands:pe(this,a4,"f"),strictOptions:pe(this,l4,"f"),completionCommand:pe(this,Uu,"f"),output:pe(this,hl,"f"),exitError:pe(this,N5,"f"),hasOutput:pe(this,qu,"f"),parsed:this.parsed,parseFn:pe(this,Wu,"f"),parseContext:pe(this,i4,"f")}),pe(this,Fn,"f").freeze(),pe(this,Vs,"f").freeze(),pe(this,la,"f").freeze(),pe(this,cd,"f").freeze()}[a4e](){let t="",r;return/\b(node|iojs|electron)(\.exe)?$/.test(pe(this,Sn,"f").process.argv()[0])?r=pe(this,Sn,"f").process.argv().slice(1,2):r=pe(this,Sn,"f").process.argv().slice(0,1),t=r.map(n=>{let i=this[x4e](pe(this,r4,"f"),n);return n.match(/^(\/|([a-zA-Z]:)?\\)/)&&i.length<n.length?i:n}).join(" ").trim(),pe(this,Sn,"f").getEnv("_")&&pe(this,Sn,"f").getProcessArgvBin()===pe(this,Sn,"f").getEnv("_")&&(t=pe(this,Sn,"f").getEnv("_").replace(`${pe(this,Sn,"f").path.dirname(pe(this,Sn,"f").process.execPath())}/`,"")),t}[c4](){return pe(this,gL,"f")}[l4e](){return pe(this,yL,"f")}[OX](){if(!pe(this,n4,"f"))return;let t=pe(this,Sn,"f").getEnv("LC_ALL")||pe(this,Sn,"f").getEnv("LC_MESSAGES")||pe(this,Sn,"f").getEnv("LANG")||pe(this,Sn,"f").getEnv("LANGUAGE")||"en_US";this.locale(t.replace(/[.:].*/,""))}[c4e](){return this[UX]().version||"unknown"}[u4e](t){let r=t["--"]?t["--"]:t._;for(let n=0,i;(i=r[n])!==void 0;n++)pe(this,Sn,"f").Parser.looksLikeNumber(i)&&Number.isSafeInteger(Math.floor(parseFloat(`${i}`)))&&(r[n]=Number(i));return t}[UX](t){let r=t||"*";if(pe(this,qv,"f")[r])return pe(this,qv,"f")[r];let n={};try{let i=t||pe(this,Sn,"f").mainFilename;!t&&pe(this,Sn,"f").path.extname(i)&&(i=pe(this,Sn,"f").path.dirname(i));let s=pe(this,Sn,"f").findUp(i,(a,l)=>{if(l.includes("package.json"))return"package.json"});Y0(s,void 0,pe(this,Sn,"f")),n=JSON.parse(pe(this,Sn,"f").readFileSync(s,"utf8"))}catch{}return pe(this,qv,"f")[r]=n||{},pe(this,qv,"f")[r]}[Q5](t,r){r=[].concat(r),r.forEach(n=>{n=this[GX](n),pe(this,Wr,"f")[t].push(n)})}[Wv](t,r,n,i){this[WX](t,r,n,i,(s,a,l)=>{pe(this,Wr,"f")[s][a]=l})}[qX](t,r,n,i){this[WX](t,r,n,i,(s,a,l)=>{pe(this,Wr,"f")[s][a]=(pe(this,Wr,"f")[s][a]||[]).concat(l)})}[WX](t,r,n,i,s){if(Array.isArray(n))n.forEach(a=>{t(a,i)});else if((a=>typeof a=="object")(n))for(let a of Mv(n))t(a,n[a]);else s(r,this[GX](n),i)}[GX](t){return t==="__proto__"?"___proto___":t}[HX](t,r){return this[Wv](this[HX].bind(this),"key",t,r),this}[VX](){var t,r,n,i,s,a,l,c,u,f,m,h;let p=pe(this,mL,"f").pop();Y0(p,void 0,pe(this,Sn,"f"));let A;t=this,r=this,n=this,i=this,s=this,a=this,l=this,c=this,u=this,f=this,m=this,h=this,{options:{set value(x){Rr(t,Wr,x,"f")}}.value,configObjects:A,exitProcess:{set value(x){Rr(r,ld,x,"f")}}.value,groups:{set value(x){Rr(n,Ep,x,"f")}}.value,output:{set value(x){Rr(i,hl,x,"f")}}.value,exitError:{set value(x){Rr(s,N5,x,"f")}}.value,hasOutput:{set value(x){Rr(a,qu,x,"f")}}.value,parsed:this.parsed,strict:{set value(x){Rr(l,s4,x,"f")}}.value,strictCommands:{set value(x){Rr(c,a4,x,"f")}}.value,strictOptions:{set value(x){Rr(u,l4,x,"f")}}.value,completionCommand:{set value(x){Rr(f,Uu,x,"f")}}.value,parseFn:{set value(x){Rr(m,Wu,x,"f")}}.value,parseContext:{set value(x){Rr(h,i4,x,"f")}}.value}=p,pe(this,Wr,"f").configObjects=A,pe(this,Fn,"f").unfreeze(),pe(this,Vs,"f").unfreeze(),pe(this,la,"f").unfreeze(),pe(this,cd,"f").unfreeze()}[f4e](t,r){return t4(r,n=>(t(n),n))}getInternalMethods(){return{getCommandInstance:this[d4e].bind(this),getContext:this[m4e].bind(this),getHasOutput:this[h4e].bind(this),getLoggerInstance:this[p4e].bind(this),getParseContext:this[g4e].bind(this),getParserConfiguration:this[c4].bind(this),getUsageConfiguration:this[l4e].bind(this),getUsageInstance:this[A4e].bind(this),getValidationInstance:this[y4e].bind(this),hasParseCallback:this[CL].bind(this),isGlobalContext:this[C4e].bind(this),postProcess:this[u4].bind(this),reset:this[jX].bind(this),runValidation:this[$X].bind(this),runYargsParserAndExecuteCommands:this[KT].bind(this),setHasOutput:this[E4e].bind(this)}}[d4e](){return pe(this,la,"f")}[m4e](){return pe(this,YT,"f")}[h4e](){return pe(this,qu,"f")}[p4e](){return pe(this,Uv,"f")}[g4e](){return pe(this,i4,"f")||{}}[A4e](){return pe(this,Fn,"f")}[y4e](){return pe(this,Vs,"f")}[CL](){return!!pe(this,Wu,"f")}[C4e](){return pe(this,hL,"f")}[u4](t,r,n,i){return n||es(t)||(r||(t=this[n4e](t)),(this[c4]()["parse-positional-numbers"]||this[c4]()["parse-positional-numbers"]===void 0)&&(t=this[u4e](t)),i&&(t=e4(t,this,pe(this,cd,"f").getMiddleware(),!1))),t}[jX](t={}){Rr(this,Wr,pe(this,Wr,"f")||{},"f");let r={};r.local=pe(this,Wr,"f").local||[],r.configObjects=pe(this,Wr,"f").configObjects||[];let n={};r.local.forEach(a=>{n[a]=!0,(t[a]||[]).forEach(l=>{n[l]=!0})}),Object.assign(pe(this,o4,"f"),Object.keys(pe(this,Ep,"f")).reduce((a,l)=>{let c=pe(this,Ep,"f")[l].filter(u=>!(u in n));return c.length>0&&(a[l]=c),a},{})),Rr(this,Ep,{},"f");let i=["array","boolean","string","skipValidation","count","normalize","number","hiddenOptions"],s=["narg","key","alias","default","defaultDescription","config","choices","demandedOptions","demandedCommands","deprecatedOptions"];return i.forEach(a=>{r[a]=(pe(this,Wr,"f")[a]||[]).filter(l=>!n[l])}),s.forEach(a=>{r[a]=P5(pe(this,Wr,"f")[a],l=>!n[l])}),r.envPrefix=pe(this,Wr,"f").envPrefix,Rr(this,Wr,r,"f"),Rr(this,Fn,pe(this,Fn,"f")?pe(this,Fn,"f").reset(n):Y3e(this,pe(this,Sn,"f")),"f"),Rr(this,Vs,pe(this,Vs,"f")?pe(this,Vs,"f").reset(n):t4e(this,pe(this,Fn,"f"),pe(this,Sn,"f")),"f"),Rr(this,la,pe(this,la,"f")?pe(this,la,"f").reset():j3e(pe(this,Fn,"f"),pe(this,Vs,"f"),pe(this,cd,"f"),pe(this,Sn,"f")),"f"),pe(this,ad,"f")||Rr(this,ad,X3e(this,pe(this,Fn,"f"),pe(this,la,"f"),pe(this,Sn,"f")),"f"),pe(this,cd,"f").reset(),Rr(this,Uu,null,"f"),Rr(this,hl,"","f"),Rr(this,N5,null,"f"),Rr(this,qu,!1,"f"),this.parsed=!1,this}[x4e](t,r){return pe(this,Sn,"f").path.relative(t,r)}[KT](t,r,n,i=0,s=!1){let a=!!n||s;t=t||pe(this,L5,"f"),pe(this,Wr,"f").__=pe(this,Sn,"f").y18n.__,pe(this,Wr,"f").configuration=this[c4]();let l=!!pe(this,Wr,"f").configuration["populate--"],c=Object.assign({},pe(this,Wr,"f").configuration,{"populate--":!0}),u=pe(this,Sn,"f").Parser.detailed(t,Object.assign({},pe(this,Wr,"f"),{configuration:{"parse-positional-numbers":!1,...c}})),f=Object.assign(u.argv,pe(this,i4,"f")),m,h=u.aliases,p=!1,A=!1;Object.keys(f).forEach(x=>{x===pe(this,ud,"f")&&f[x]?p=!0:x===pe(this,bp,"f")&&f[x]&&(A=!0)}),f.$0=this.$0,this.parsed=u,i===0&&pe(this,Fn,"f").clearCachedHelpMessage();try{if(this[OX](),r)return this[u4](f,l,!!n,!1);pe(this,ud,"f")&&[pe(this,ud,"f")].concat(h[pe(this,ud,"f")]||[]).filter(S=>S.length>1).includes(""+f._[f._.length-1])&&(f._.pop(),p=!0),Rr(this,hL,!1,"f");let x=pe(this,la,"f").getCommands(),E=pe(this,ad,"f").completionKey in f,v=p||E||s;if(f._.length){if(x.length){let b;for(let S=i||0,B;f._[S]!==void 0;S++)if(B=String(f._[S]),x.includes(B)&&B!==pe(this,Uu,"f")){let P=pe(this,la,"f").runCommand(B,this,u,S+1,s,p||A||s);return this[u4](P,l,!!n,!1)}else if(!b&&B!==pe(this,Uu,"f")){b=B;break}!pe(this,la,"f").hasDefaultCommand()&&pe(this,AL,"f")&&b&&!v&&pe(this,Vs,"f").recommendCommands(b,x)}pe(this,Uu,"f")&&f._.includes(pe(this,Uu,"f"))&&!E&&(pe(this,ld,"f")&&F5(!0),this.showCompletionScript(),this.exit(0))}if(pe(this,la,"f").hasDefaultCommand()&&!v){let b=pe(this,la,"f").runCommand(null,this,u,0,s,p||A||s);return this[u4](b,l,!!n,!1)}if(E){pe(this,ld,"f")&&F5(!0),t=[].concat(t);let b=t.slice(t.indexOf(`--${pe(this,ad,"f").completionKey}`)+1);return pe(this,ad,"f").getCompletion(b,(S,B)=>{if(S)throw new Zo(S.message);(B||[]).forEach(P=>{pe(this,Uv,"f").log(P)}),this.exit(0)}),this[u4](f,!l,!!n,!1)}if(pe(this,qu,"f")||(p?(pe(this,ld,"f")&&F5(!0),a=!0,this.showHelp("log"),this.exit(0)):A&&(pe(this,ld,"f")&&F5(!0),a=!0,pe(this,Fn,"f").showVersion("log"),this.exit(0))),!a&&pe(this,Wr,"f").skipValidation.length>0&&(a=Object.keys(f).some(b=>pe(this,Wr,"f").skipValidation.indexOf(b)>=0&&f[b]===!0)),!a){if(u.error)throw new Zo(u.error.message);if(!E){let b=this[$X](h,{},u.error);n||(m=e4(f,this,pe(this,cd,"f").getMiddleware(),!0)),m=this[f4e](b,m??f),es(m)&&!n&&(m=m.then(()=>e4(f,this,pe(this,cd,"f").getMiddleware(),!1)))}}}catch(x){if(x instanceof Zo)pe(this,Fn,"f").fail(x.message,x);else throw x}return this[u4](m??f,l,!!n,!0)}[$X](t,r,n,i){let s={...this.getDemandedOptions()};return a=>{if(n)throw new Zo(n.message);pe(this,Vs,"f").nonOptionCount(a),pe(this,Vs,"f").requiredArguments(a,s);let l=!1;pe(this,a4,"f")&&(l=pe(this,Vs,"f").unknownCommands(a)),pe(this,s4,"f")&&!l?pe(this,Vs,"f").unknownArguments(a,t,r,!!i):pe(this,l4,"f")&&pe(this,Vs,"f").unknownArguments(a,t,{},!1,!1),pe(this,Vs,"f").limitedChoices(a),pe(this,Vs,"f").implications(a),pe(this,Vs,"f").conflicting(a)}}[E4e](){Rr(this,qu,!0,"f")}[f4](t){if(typeof t=="string")pe(this,Wr,"f").key[t]=!0;else for(let r of t)pe(this,Wr,"f").key[r]=!0}};function $3e(e){return!!e&&typeof e.getInternalMethods=="function"}o($3e,"isYargsInstance");var fst=b4e(q3e),v4e=fst;d();d();var JT="apps",YX="hosts",XT=class{constructor(t,r){this.ctx=t;this.persistenceManager=r}static{o(this,"AuthPersistence")}async getAuthRecord(t){let r=await this.persistenceManager.read(JT,this.authRecordKey(this.ctx,t));return!t&&!r&&(r=await this.persistenceManager.read(JT,this.authRecordKey(this.ctx,this.ctx.get(Hs).fallbackAppId()))),r||await this.legacyAuthRecordMaybe()}async legacyAuthRecordMaybe(){let t=await this.persistenceManager.read(YX,this.legacyAuthRecordKey(this.ctx));if(t){let r=this.ctx.get(Hs).fallbackAppId();return{...t,githubAppId:r}}}async saveAuthRecord(t){let r=this.ctx.get(Hs).findAppIdToAuthenticate();await this.persistenceManager.update(JT,this.authRecordKey(this.ctx,t.githubAppId),t);let n=this.ctx.get(Hs).fallbackAppId();r===n&&await this.persistenceManager.delete(YX,this.legacyAuthRecordKey(this.ctx))}async deleteAuthRecord(){let t=await this.getAuthRecord();if(t){let r=this.ctx.get(Hs).fallbackAppId();t.githubAppId===r&&await this.persistenceManager.delete(YX,this.legacyAuthRecordKey(this.ctx)),await this.persistenceManager.delete(JT,this.authRecordKey(this.ctx)),await this.persistenceManager.delete(JT,this.authRecordKey(this.ctx,r))}}authRecordKey(t,r){let n=t.get(Dn).getAuthAuthority(),i=r??t.get(Hs).findAppIdToAuthenticate();return`${n}:${i}`}legacyAuthRecordKey(t){return t.get(Dn).getAuthAuthority()}};d();d();var xL={AuthNotifyShown:"auth.auth_notify_shown",AuthNotifyDismissed:"auth.auth_notify_dismissed",NewGitHubLogin:"auth.new_github_login",GitHubLoginSuccess:"auth.github_login_success"};function I4e(e,t){let r=rn.createAndMarkAsIssued({authSource:t});return Gt(e,xL.AuthNotifyShown,r)}o(I4e,"telemetryAuthNotifyShown");function T4e(e){return Gt(e,xL.AuthNotifyDismissed)}o(T4e,"telemetryAuthNotifyDismissed");function EL(e,t,r){let n=rn.createAndMarkAsIssued({authSource:t,authType:r});return Gt(e,xL.NewGitHubLogin,n)}o(EL,"telemetryNewGitHubLogin");function bL(e,t){let r=rn.createAndMarkAsIssued({authType:t});return Gt(e,xL.GitHubLoginSuccess,r)}o(bL,"telemetryGitHubLoginSuccess");async function dst(e,t){EL(e,"unknown","deviceFlow");let r={method:"POST",headers:{Accept:"application/json",...d0(e)},json:{client_id:t},timeout:30*1e3},n;try{n=await e.get(Nr).fetch(e.get(Dn).getDeviceFlowStartUrl(),r)}catch(i){throw i instanceof Error&&R7(i)?new Ms(`Could not log in with device flow on ${e.get(Dn).getAuthAuthority()}: ${i.message}`):i}if(!n.ok)throw new Ms(`Could not log in with device flow on ${e.get(Dn).getAuthAuthority()}: HTTP ${n.status}`);return await n.json()}o(dst,"requestDeviceFlowStage1");async function mst(e,t,r){let n={method:"POST",headers:{Accept:"application/json",...d0(e)},json:{client_id:r,device_code:t,grant_type:"urn:ietf:params:oauth:grant-type:device_code"},timeout:3e4};return await(await e.get(Nr).fetch(e.get(Dn).getDeviceFlowCompletionUrl(),n)).json()}o(mst,"requestDeviceFlowStage2");async function hst(e,t){return bL(e,"deviceFlow"),await(await e.get(Nr).fetch(e.get(Dn).getUserInfoUrl(),{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}})).json()}o(hst,"requestUserInfo");var d4=class{static{o(this,"GitHubDeviceFlow")}async getToken(t,r){try{return await this.getTokenUnguarded(t,r)}catch(n){throw t.get(Pc).notifyUser(t,n),n}}async getTokenUnguarded(t,r){let n=await dst(t,r),i=(async()=>{let s=n.expires_in,a;for(;s>0;){let l=await mst(t,n.device_code,r);if(s-=n.interval,await new Promise(c=>setTimeout(c,1e3*n.interval)),a=l.access_token,a)return{user:(await hst(t,a)).login,oauth_token:a}}throw new Ms("Timed out waiting for login to complete")})();return{...n,waitForAuth:i}}};d();var Gu=class{static{o(this,"CitationManager")}},vL=class extends Gu{static{o(this,"NoOpCitationManager")}async handleIPCodeCitation(t,r){}};d();d();var pst={fetch:!1,ipCodeCitation:!1,redirectedTelemetry:!1,related:!1,token:!1,watchedFiles:!1},ts=class{constructor(){this.capabilities={...pst}}static{o(this,"CopilotCapabilitiesProvider")}setCapabilities(t){let r;for(r in t){let n=t[r];n!==void 0&&(this.capabilities[r]=n)}}getCapabilities(){return this.capabilities}};d();var Gv=class{constructor(){this.instances=new Map}static{o(this,"Context")}get(t){let r=this.tryGet(t);if(r)return r;throw new Error(`No instance of ${t.name} has been registered.`)}tryGet(t){let r=this.instances.get(t);if(r)return r}set(t,r){if(this.tryGet(t))throw new Error(`An instance of ${t.name} has already been registered. Use forceSet() if you're sure it's a good idea.`);this.assertIsInstance(t,r),this.instances.set(t,r)}forceSet(t,r){this.assertIsInstance(t,r),this.instances.set(t,r)}assertIsInstance(t,r){if(!(r instanceof t)){let n=JSON.stringify(r);throw new Error(`The instance you're trying to register for ${t.name} is not an instance of it (${n}).`)}}};d();d();var IL=class extends Error{static{o(this,"FetchSpeculationCanceledException")}constructor(t){super(t),this.name="FetchSpeculationCanceledException"}};d();var Hv=class extends Error{static{o(this,"FetchSpeculationFailedException")}constructor(t){super(t),this.name="FetchSpeculationFailedException"}};d();d();async function*I1(e,t){for await(let r of e)yield t(r)}o(I1,"asyncIterableMap");async function*w4e(e,t){for await(let r of e)await t(r)&&(yield r)}o(w4e,"asyncIterableFilter");async function*ZT(e,t){for await(let r of e){let n=await t(r);n!==void 0&&(yield n)}}o(ZT,"asyncIterableMapFilter");async function*S4e(...e){for(let t of e)yield*t}o(S4e,"asyncIterableConcat");d();async function Ka(e,t,r,n){let i=rn.createAndMarkAsIssued({messageId:t,conversationId:r});return await e.get(ar).updateExPValuesAndAssignments(n,i)}o(Ka,"createTelemetryWithExpWithId");function ew(e,t,r,n,i,s,a,l){let c=e.turns[e.turns.length-1].skills.map(m=>m.skillId).sort(),u={source:"user",turnIndex:(e.turns.length-1).toString(),uiKind:t,skillIds:c.join(",")},f={promptTokenLen:n,messageCharLen:r};return i&&(u.suggestion=i),s&&(u.suggestionId=s),l.length>0&&(u.skillResolutionsJson=JSON.stringify(gst(l))),a=a.extendedBy(u,f),a}o(ew,"extendUserMessageTelemetryData");function gst(e){return e.map(t=>({skillId:t.skillId,resolution:t.resolution,fileStatus:t.files?.map(r=>r.status),tokensPreEliding:t.tokensPreEliding??0,resolutionTimeMs:t.resolutionTimeMs??0,processingTimeMs:t.processingTimeMs??0}))}o(gst,"mapSkillResolutionsForTelemetry");function _4e(e,t,r,n,i,s,a){return n!=null&&(a=a.extendedBy({offTopic:n.toString()})),TL(e,s,t,r,{uiKind:t,headerRequestId:i},{},a).properties.messageId}o(_4e,"createUserMessageTelemetryData");function k4e(e,t,r,n,i,s,a,l){let c=yst(n);return TL(e,a,r,n,{source:"model",turnIndex:(t.turns.length-1).toString(),headerRequestId:s,uiKind:r,codeBlockLanguages:JSON.stringify({...c})},{messageCharLen:n.length,numCodeBlocks:c.length,numTokens:i},l).properties.messageId}o(k4e,"createModelMessageTelemetryData");function B4e(e,t,r,n,i,s,a){TL(e,s,r,n,{source:"offTopic",turnIndex:t.turns.length.toString(),userMessageId:i,uiKind:r},{messageCharLen:n.length},a)}o(B4e,"createOffTopicMessageTelemetryData");function R4e(e,t,r,n,i,s,a,l,c){let u=TL(e,l,r,n,{source:"suggestion",suggestion:s,turnIndex:(t.turns.length-1).toString(),uiKind:r,suggestionId:a},{promptTokenLen:i,messageCharLen:n.length},c);return Ast(e,r,s,u.properties.messageId,u.properties.conversationId,a,c,l),u.properties.messageId}o(R4e,"createSuggestionMessageTelemetryData");var D4e={synonymTimeMs:0,rankingTimeMs:0,chunkCount:0,localSnippetCount:0,embeddingsTimeMs:0,rerankingTimeMs:0};async function P4e(e,t,r){let n=await Ka(e.ctx,e.turn.id,e.conversation.id),i=e.conversation.source==="inline"?"conversationInline":"conversationPanel";Hu(e.ctx,void 0,{conversationId:e.conversation.id,turnIndex:(e.conversation.turns.length-1).toString(),userMessageId:e.turn.id,provider:t,uiKind:i},r,"index.codesearch",n)}o(P4e,"telemetryIndexCodesearch");function TL(e,t,r,n,i,s,a){let l=a??rn.createAndMarkAsIssued(),c={messageText:n,...i};if(!("messageId"in i)&&!("messageId"in l.properties)){let h=Tr();i.messageId=h,c.messageId=h}t&&(i.languageId=t.detectedLanguageId,s.documentLength=t.getText().length,s.documentLineCount=t.lineCount);let u=l.extendedBy(i,s),f=l.extendedBy(c),m=Oc(r);return Gt(e,`${m}.message`,u),Gt(e,`${m}.messageText`,f,1),u}o(TL,"telemetryMessage");function F4e(e,t,r,n){Hu(e,n,{uiKind:t},{},"conversation.suggestionShown",r)}o(F4e,"createSuggestionShownTelemetryData");function Ast(e,t,r,n,i,s,a,l){Hu(e,l,{suggestion:r,messageId:n,conversationId:i,suggestionId:s,uiKind:t},{},"conversation.suggestionSelected",a)}o(Ast,"createSuggestionSelectedTelemetryData");function Hu(e,t,r,n,i,s){let a=s??rn.createAndMarkAsIssued();t&&(r.languageId=t.detectedLanguageId,n.documentLength=t.getText().length,n.documentLineCount=t.lineCount);let l=a.extendedBy(r,n);return Gt(e,i,l),l}o(Hu,"telemetryUserAction");function jv(e,t,r){let n=r.extendedBy({messagesJson:JSON.stringify(t)});return Gt(e,"engine.messages",n,1)}o(jv,"logEngineMessages");function Oc(e){switch(e){case"editsPanel":return"copilotEditsPanel";case"conversationInline":return"inlineConversation";case"conversationPanel":default:return"conversation"}}o(Oc,"telemetryPrefixForUiKind");function yst(e){let t=e.split(`
`),r=[],n=[];for(let i=0;i<t.length;i++){let s=t[i];s.startsWith("```")&&(n.length>0&&s==="```"?r.push(n.pop()):n.length===0&&n.push(s.substring(3)))}return r}o(yst,"getCodeBlocks");function N4e(e){return e=="conversationInline"?"conversation-inline":"conversation-panel"}o(N4e,"uiKindToIntent");function M5(e){return e==="inline"?"conversationInline":"conversationPanel"}o(M5,"conversationSourceToUiKind");d();function L4e(e,t,r,n,i,s,a){return _2e(e,t,r,i,n),{completionText:t,meanLogProb:Cst(e,r),meanAlternativeLogProb:xst(e,r),choiceIndex:n,requestId:i,blockFinished:s,tokens:r.tokens,numTokens:r.tokens.length,telemetryData:a,copilotAnnotations:r.copilot_annotations,clientCompletionId:Tr(),finishReason:r.finish_reason}}o(L4e,"convertToAPIChoice");function Cst(e,t){if(t?.logprobs?.token_logprobs)try{let r=0,n=0,i=50;for(let s=0;s<t.logprobs.token_logprobs.length-1&&i>0;s++,i--)r+=t.logprobs.token_logprobs[s],n+=1;return n>0?r/n:void 0}catch(r){Zn.exception(e,r,"Error calculating mean prob")}}o(Cst,"calculateMeanLogProb");function xst(e,t){if(t?.logprobs?.top_logprobs)try{let r=0,n=0,i=50;for(let s=0;s<t.logprobs.token_logprobs.length-1&&i>0;s++,i--){let a={...t.logprobs.top_logprobs[s]};delete a[t.logprobs.tokens[s]],r+=Math.max(...Object.values(a)),n+=1}return n>0?r/n:void 0}catch(r){Zn.exception(e,r,"Error calculating mean prob")}}o(xst,"calculateMeanAlternativeLogProb");function $v(e,t){return vm(e)||t<=1?0:t<10?.2:t<20?.4:.8}o($v,"getTemperatureForSamples");var Est={markdown:[`


`],python:[`
def `,`
class `,`
if `,`

#`]};function Q4e(e,t){return Est[t??""]??[`


`,"\n```"]}o(Q4e,"getStops");function wL(e){return 1}o(wL,"getTopP");function SL(e){return wT}o(SL,"getMaxSolutionTokens");d();var Wc=new Ar("streamChoices"),KX=class{constructor(){this.logprobs=[];this.top_logprobs=[];this.text=[];this.tokens=[];this.text_offset=[];this.copilot_annotations=new ZX;this.tool_calls=[];this.function_call=new XX;this.copilot_references=[]}static{o(this,"APIJsonDataStreaming")}append(t){if(t.text&&this.text.push(t.text),t.delta?.content&&t.delta.role!=="function"&&this.text.push(t.delta.content),t.logprobs&&(this.tokens.push(t.logprobs.tokens??[]),this.text_offset.push(t.logprobs.text_offset??[]),this.logprobs.push(t.logprobs.token_logprobs??[]),this.top_logprobs.push(t.logprobs.top_logprobs??[])),t.copilot_annotations&&this.copilot_annotations.update(t.copilot_annotations),t.delta?.copilot_annotations&&this.copilot_annotations.update(t.delta.copilot_annotations),t.delta?.tool_calls&&t.delta.tool_calls.length>0)for(let r of t.delta.tool_calls){let n=r.index;this.tool_calls[n]||(this.tool_calls[n]=new JX),this.tool_calls[n].update(r)}t.delta?.function_call&&this.function_call.update(t.delta.function_call),t?.finish_reason&&(this.finish_reason=t.finish_reason)}};function bst(e){let t=e.split(`
`),r=t.pop();return[t.filter(n=>n!=""),r]}o(bst,"splitChunk");var JX=class{constructor(){this.arguments=[]}static{o(this,"StreamingToolCall")}update(t){t.function.name&&(this.name=t.function.name),this.arguments.push(t.function.arguments)}},XX=class{constructor(){this.arguments=[]}static{o(this,"StreamingFunctionCall")}update(t){t.name&&(this.name=t.name),this.arguments.push(t.arguments)}},ZX=class{constructor(){this.current={}}static{o(this,"StreamCopilotAnnotations")}update(t){Object.entries(t).forEach(([r,n])=>{n.forEach(i=>this.update_namespace(r,i))})}update_namespace(t,r){this.current[t]||(this.current[t]=[]);let n=this.current[t],i=n.findIndex(s=>s.id===r.id);i>=0?n[i]=r:n.push(r)}for(t){return this.current[t]??[]}},U5=class e{constructor(t,r,n,i,s,a,l){this.ctx=t;this.expectedNumChoices=r;this.response=n;this.body=i;this.telemetryData=s;this.dropCompletionReasons=a;this.cancellationToken=l;this.requestId=O5(this.response);this.stats=new eZ(this.expectedNumChoices);this.solutions={}}static{o(this,"SSEProcessor")}static create(t,r,n,i,s,a){let l=n.body();return l.setEncoding("utf8"),new e(t,r,n,l,i,s??[],a)}async*processSSE(t=async()=>{}){try{yield*this.processSSEInner(t)}finally{this.cancel(),Wc.info(this.ctx,`request done: headerRequestId: [${this.requestId.headerRequestId}] model deployment ID: [${this.requestId.deploymentId}]`),Wc.debug(this.ctx,"request stats:",this.stats)}}async*processSSEInner(t){let r="",n=null,i,s;e:for await(let a of this.body){if(this.maybeCancel("after awaiting body chunk"))return;Wc.debug(this.ctx,"chunk",a.toString());let[l,c]=bst(r+a.toString());r=c;for(let u of l){let f=u.slice(5).trim();if(f=="[DONE]"){yield*this.finishSolutions(n,i,s);return}n=null;let m;try{m=JSON.parse(f)}catch{Wc.error(this.ctx,"Error parsing JSON stream data",u);continue}if(m.copilot_confirmation&&vst(m.copilot_confirmation)&&await t("",{text:"",requestId:this.requestId,copilotConfirmation:m.copilot_confirmation}),m.copilot_references&&await t("",{text:"",requestId:this.requestId,copilotReferences:m.copilot_references}),m.choices===void 0){!m.copilot_references&&!m.copilot_confirmation&&(m.error!==void 0?Wc.error(this.ctx,"Error in response:",m.error.message):Wc.error(this.ctx,"Unexpected response with no choices or error: "+f)),m.copilot_errors&&await t("",{text:"",requestId:this.requestId,copilotErrors:m.copilot_errors});continue}if(this.requestId.created==0&&(this.requestId=O5(this.response,m),this.requestId.created===0&&m.choices?.length&&Wc.error(this.ctx,'Request id invalid, should have "completionId" and "created":',this.requestId)),i===void 0&&m.model&&(i=m.model),s===void 0&&m.usage&&(s=m.usage),this.allSolutionsDone()){r="";break e}for(let h=0;h<m.choices?.length;h++){let p=m.choices[h];Wc.debug(this.ctx,"choice",p),this.stats.add(p.index),p.index in this.solutions||(this.solutions[p.index]=new KX);let A=this.solutions[p.index];if(A==null)continue;A.append(p);let x,E=p.text?.indexOf(`
`)>-1||p.delta?.content?.indexOf(`
`)>-1;if(p.finish_reason||E){let S=A.text.join("");if(x=await t(S,{text:S,requestId:this.requestId,annotations:A.copilot_annotations,copilotReferences:A.copilot_references}),this.maybeCancel("after awaiting finishedCb"))return}if(p.finish_reason&&A.function_call.name!==void 0){n=p.finish_reason;continue}if(!(p.finish_reason||x!==void 0))continue;let b=p.finish_reason??"client-trimmed";if(Gt(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:b,engineName:i??"",engineChoiceSource:b5(this.ctx,this.telemetryData).engineChoiceSource})),this.dropCompletionReasons.includes(p.finish_reason)?this.solutions[p.index]=null:(this.stats.markYielded(p.index),yield{solution:A,finishOffset:x,reason:p.finish_reason,requestId:this.requestId,index:p.index,model:i,usage:s}),this.maybeCancel("after yielding finished choice"))return;this.solutions[p.index]=null}}}for(let[a,l]of Object.entries(this.solutions)){let c=Number(a);if(l!=null&&(Gt(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:"Iteration Done",engineName:i??""})),this.stats.markYielded(c),yield{solution:l,finishOffset:void 0,reason:"Iteration Done",requestId:this.requestId,index:c,model:i,usage:s},this.maybeCancel("after yielding after iteration done")))return}if(r.length>0)try{let a=JSON.parse(r);a.error!==void 0&&Wc.error(this.ctx,`Error in response: ${a.error.message}`,a.error)}catch{Wc.error(this.ctx,`Error parsing extraData: ${r}`)}}async*finishSolutions(t,r,n){for(let[i,s]of Object.entries(this.solutions)){let a=Number(i);if(s!=null&&(this.stats.markYielded(a),Gt(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:t??"DONE",engineName:r??""})),yield{solution:s,finishOffset:void 0,reason:t??"DONE",requestId:this.requestId,index:a,model:r,usage:n},this.maybeCancel("after yielding on DONE")))return}}maybeCancel(t){return this.cancellationToken?.isCancellationRequested?(Wc.debug(this.ctx,"Cancelled: "+t),this.cancel(),!0):!1}cancel(){this.body.destroy()}allSolutionsDone(){let t=Object.values(this.solutions);return t.length==this.expectedNumChoices&&t.every(r=>r==null)}};function _L(e,t,r){let n=t.solution.text.join(""),i=!1;t.finishOffset!==void 0&&(Wc.debug(e,`solution ${t.index}: early finish at offset ${t.finishOffset}`),n=n.substring(0,t.finishOffset),i=!0),Wc.info(e,`solution ${t.index} returned. finish reason: [${t.reason}]`),Wc.debug(e,`solution ${t.index} details: finishOffset: [${t.finishOffset}] completionId: [{${t.requestId.completionId}}] created: [{${t.requestId.created}}]`);let s=rZ(t.solution);return L4e(e,n,s,t.index,t.requestId,i,r)}o(_L,"prepareSolutionForReturn");function rZ(e){let t=e.text.join(""),r=Ist(e),n=Tst(e),i=e.copilot_annotations.current,s={text:t,tokens:e.text,tool_calls:r,function_call:n,copilot_annotations:i,finish_reason:e.finish_reason??"stop"};if(e.logprobs.length===0)return s;let a=e.logprobs.reduce((f,m)=>f.concat(m),[]),l=e.top_logprobs.reduce((f,m)=>f.concat(m),[]),c=e.text_offset.reduce((f,m)=>f.concat(m),[]),u=e.tokens.reduce((f,m)=>f.concat(m),[]);return{...s,logprobs:{token_logprobs:a,top_logprobs:l,text_offset:c,tokens:u}}}o(rZ,"convertToAPIJsonData");function vst(e){return typeof e.title=="string"&&typeof e.message=="string"&&!!e.confirmation}o(vst,"isCopilotConfirmation");function Ist(e){let t=[];for(let r of e.tool_calls)if(r.name){let n=r.arguments.length>0?JSON.parse(r.arguments.join("")):{};t.push({type:"function",function:{name:r.name,arguments:n},approxNumTokens:r.arguments.length+1})}return t}o(Ist,"extractToolCalls");function Tst(e){if(e.function_call.name){let t=e.function_call.arguments.length>0?JSON.parse(e.function_call.arguments.join("")):{};return{name:e.function_call.name,arguments:t}}}o(Tst,"extractFunctionCall");var eZ=class{constructor(t){this.choices=new Map;for(let r=0;r<t;r++)this.choices.set(r,new tZ)}static{o(this,"ChunkStats")}add(t){this.choices.get(t).increment()}markYielded(t){this.choices.get(t).markYielded()}toString(){return Array.from(this.choices.entries()).map(([t,r])=>`${t}: ${r.yieldedTokens} -> ${r.seenTokens}`).join(", ")}},tZ=class{constructor(){this.yieldedTokens=-1;this.seenTokens=0}static{o(this,"ChoiceStats")}increment(){this.seenTokens++}markYielded(){this.yieldedTokens=this.seenTokens}};d();function kL(e,t){return e!==null&&typeof e=="object"&&t in e}o(kL,"hasKey");function K0(e,t){return kL(e,t)?e[t]:void 0}o(K0,"getKey");var O4e=tt(Vn());var Ps=new Ar("fetchCompletions");function O5(e,t){return{headerRequestId:e.headers.get("x-request-id")||"",completionId:t&&t.id?t.id:"",created:t&&t.created?t.created:0,serverExperiments:e.headers.get("X-Copilot-Experiment")||"",deploymentId:e.headers.get("azureml-model-deployment")||""}}o(O5,"getRequestId");function zv(e){let t=e.headers.get("openai-processing-ms");return t?parseInt(t,10):0}o(zv,"getProcessingTime");function U4e(e){switch(e){case"ghostText":return"copilot-ghost";case"synthesize":return"copilot-panel"}}o(U4e,"uiKindToIntent");var qc=class{static{o(this,"OpenAIFetcher")}};function wst(e,t,r,n){return fv(e,t,"proxy","v1/engines",r,n)}o(wst,"getProxyEngineUrl");async function M4e(e,t,r,n,i,s,a,l,c,u,f){let m=e.get(Li),h=wst(e,a,r,n),p=c.extendedBy({endpoint:n,engineName:r,uiKind:l},lv(t));for(let[E,v]of Object.entries(s))E=="prompt"||E=="suffix"||E=="context"||(p.properties[`request.option.${E}`]=JSON.stringify(v)??"undefined");p.properties.headerRequestId=i,Gt(e,"request.sent",p);let A=qs(),x=U4e(l);return A3(e,h,a.token,x,i,s,u,f).then(E=>{let v=O5(E,void 0);p.extendWithRequestId(v);let b=qs()-A;return p.measurements.totalTimeMs=b,Ps.info(e,`request.response: [${h}] took ${b} ms`),Ps.debug(e,"request.response properties",p.properties),Ps.debug(e,"request.response measurements",p.measurements),Ps.debug(e,"prompt:",t),Gt(e,"request.response",p),E}).catch(E=>{if(bc(E))throw Gt(e,"request.cancel",p),E;m.setWarning(K0(E,"message")??"");let v=p.extendedBy({error:"Network exception"});Gt(e,"request.shownWarning",v),p.properties.message=String(K0(E,"name")??""),p.properties.code=String(K0(E,"code")??""),p.properties.errno=String(K0(E,"errno")??""),p.properties.type=String(K0(E,"type")??"");let b=qs()-A;throw p.measurements.totalTimeMs=b,Ps.debug(e,`request.response: [${h}] took ${b} ms`),Ps.debug(e,"request.error properties",p.properties),Ps.debug(e,"request.error measurements",p.measurements),Gt(e,"request.error",p),E}).finally(()=>{k2e(e,t,p)})}o(M4e,"fetchWithInstrumentation");async function Sst(e,t,r,n,i,s,a,l,c,u){let f=c.extendedBy({endpoint:"chat/completions",engineModelId:r,uiKind:l});for(let[A,x]of Object.entries(s))A!=="messages"&&(f.properties[`request.option.${A}`]=JSON.stringify(x)??"undefined");f.properties.headerRequestId=i,Gt(e,"request.sent",f);let m=qs(),h=U4e(l),p={...C5(e)};try{let A=await A3(e,n,a.token,h,i,s,u,p),x=O5(A,void 0);f.extendWithRequestId(x);let E=qs()-m;return f.measurements.totalTimeMs=E,Ps.info(e,`request.response: [${n}] took ${E} ms`),Ps.debug(e,"request.response properties",f.properties),Ps.debug(e,"request.response measurements",f.measurements),Ps.debug(e,"messages:",JSON.stringify(t)),Gt(e,"request.response",f),A}catch(A){if(bc(A))throw Gt(e,"request.cancel",f),A;let x=f.extendedBy({error:"Network exception"});Gt(e,"request.shownWarning",x),f.properties.message=String(K0(A,"name")??""),f.properties.code=String(K0(A,"code")??""),f.properties.errno=String(K0(A,"errno")??""),f.properties.type=String(K0(A,"type")??"");let E=qs()-m;throw f.measurements.totalTimeMs=E,Ps.debug(e,`request.response: [${n}] took ${E} ms`),Ps.debug(e,"request.error properties",f.properties),Ps.debug(e,"request.error measurements",f.measurements),Gt(e,"request.error",f),A}finally{jv(e,t,f)}}o(Sst,"fetchChatWithInstrumentation");function nZ(e){return w4e(e,async t=>t.completionText.trim().length>0)}o(nZ,"postProcessChoices");var _st="github.copilot.completions.quotaExceeded",tw=class extends qc{static{o(this,"LiveOpenAIFetcher")}#e;async fetchAndStreamCompletions(t,r,n,i,s){if(this.#e)return{type:"canceled",reason:this.#e};let a=t.get(Li),l="completions",c=await t.get(qr).getToken(),u=await this.fetchWithParameters(t,l,r,c,n,s);if(u==="not-sent")return{type:"canceled",reason:"before fetch request"};if(s?.isCancellationRequested){let p=u.body();try{p.destroy()}catch(A){Ps.exception(t,A,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(u.status!==200){let p=this.createTelemetryData(l,t,r);return this.handleError(t,a,p,u,c)}let m=U5.create(t,r.count,u,n,[],s).processSSE(i),h=I1(m,async p=>_L(t,p,n));return{type:"success",choices:nZ(h),getProcessingTime:o(()=>zv(u),"getProcessingTime")}}async fetchAndStreamChat(t,r,n,i,s,a,l){if(this.#e)return{type:"canceled",reason:this.#e};let c="https://copilot-proxy.githubusercontent.com/chat/completions",u={id:"copilot-nes-v",name:"proxy-4o-mini"},f={messages:r,model:u.id,stream:!0},m=n.extendedBy({endpoint:c,model:u.name}),h=t.get(Li),p=await t.get(qr).getToken(),A=await Sst(t,r,u.id,c,s,f,p,i,m,l);if(l?.isCancellationRequested){let b=A.body();try{b.destroy()}catch(S){Ps.exception(t,S,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(A.status!==200){let b=rn.createAndMarkAsIssued({endpoint:c,engineName:u.name,uiKind:i,headerRequestId:s});return this.handleError(t,h,b,A,p)}let E=U5.create(t,1,A,m,[],O4e.CancellationToken.None).processSSE(),v=I1(E,async b=>_L(t,b,n));return{type:"success",choices:nZ(v),getProcessingTime:o(()=>zv(A),"getProcessingTime")}}async fetchAndStreamSpeculation(t,r,n,i,s){if(this.#e)return{type:"canceled",reason:this.#e};let a=t.get(Li),l="speculation",c=await t.get(qr).getToken(),u={prompt:{prefix:r.prompt,suffix:"",isFimEnabled:!1,promptElementRanges:[]},postOptions:{speculation:r.speculation,temperature:r.temperature,stream:r.stream,stop:r.stops??[]},languageId:"",count:0,repoInfo:void 0,ourRequestId:Tr(),engineModelId:r.engineModelId,uiKind:r.uiKind,headers:r.headers},f=await this.fetchSpeculationWithParameters(t,l,u,c,n,s);if(f==="not-sent")return{type:"canceled",reason:"before fetch request"};if(s?.isCancellationRequested){let A=f.body();try{A.destroy()}catch(x){Ps.exception(t,x,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(f.status!==200){let A=this.createTelemetryData(l,t,u);return this.handleError(t,a,A,f,c)}let h=U5.create(t,1,f,n,[],s).processSSE(i),p=I1(h,async A=>_L(t,A,n));return{type:"success",choices:nZ(p),getProcessingTime:o(()=>zv(f),"getProcessingTime")}}createTelemetryData(t,r,n){return rn.createAndMarkAsIssued({endpoint:t,engineName:n.engineModelId,uiKind:n.uiKind,headerRequestId:n.ourRequestId})}async fetchSpeculationWithParameters(t,r,n,i,s,a){let l={prompt:n.prompt.prefix};return n.postOptions&&Object.assign(l,n.postOptions),await new Promise((u,f)=>{setImmediate(u)}),a?.isCancellationRequested?"not-sent":await M4e(t,n.prompt,n.engineModelId,r,n.ourRequestId,l,i,n.uiKind,s,a,n.headers)}async fetchWithParameters(t,r,n,i,s,a){let l=t.get(ar).disableLogProb(s),c=t.get(ar).enablePromptContextProxyField(s),u={prompt:c?n.prompt.prefixWithoutContext??"":n.prompt.prefix,suffix:n.prompt.suffix,max_tokens:SL(t),temperature:$v(t,n.count),top_p:wL(t),n:n.count,stop:Q4e(t,n.languageId)};(n.requestLogProbs||!l)&&(u.logprobs=2);let f=A1(n.repoInfo);return f!==void 0&&(u.nwo=f),n.postOptions&&Object.assign(u,n.postOptions),c&&n.prompt.context&&(u.extra?u.extra.context=n.prompt.context:u.extra={language:n.languageId,prompt_tokens:n.prompt.prefixTokens??0,suffix_tokens:n.prompt.suffixTokens??0,context:n.prompt.context}),await new Promise((h,p)=>{setImmediate(h)}),a?.isCancellationRequested?"not-sent":await M4e(t,n.prompt,n.engineModelId,r,n.ourRequestId,u,i,n.uiKind,s,a,n.headers)}async handleError(t,r,n,i,s){let a=await i.text();if(i.status===402){this.#e="monthly free code completions exhausted",r.setError("Completions limit reached",{command:_st,title:"Learn More"});let c=za(t,u=>{this.#e=void 0,(u.envelope.limited_user_quotas?.completions??1)>0&&(r.forceNormal(),c.dispose())});return{type:"failed",reason:this.#e}}if(i.status===466)return r.setError(a),Ps.info(t,a),{type:"failed",reason:`client not supported: ${a}`};if(i.clientError&&!i.headers.get("x-github-request-id")){let l=`Last response was a ${i.status} error and does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`;Ps.error(t,l),r.setWarning(l),n.properties.error=`Response status was ${i.status} with no x-github-request-id header`}else i.clientError?(Ps.warn(t,`Response status was ${i.status}:`,a),r.setWarning(`Last response was a ${i.status} error: ${a}`),n.properties.error=`Response status was ${i.status}: ${a}`):(r.setWarning(`Last response was a ${i.status} error`),n.properties.error=`Response status was ${i.status}`);return n.properties.status=String(i.status),Gt(t,"request.shownWarning",n),i.status===401||i.status===403?(t.get(qr).resetToken(i.status),{type:"failed",reason:`token expired or invalid: ${i.status}`}):i.status===429?(setTimeout(()=>{this.#e=void 0},10*1e3),this.#e="rate limited",Ps.warn(t,"Rate limited by server. Denying completions for the next 10 seconds."),{type:"failed",reason:this.#e}):i.status===499?(Ps.info(t,"Cancelled by server"),{type:"failed",reason:"canceled by server"}):(Ps.error(t,"Unhandled status from server:",i.status,a),{type:"failed",reason:`unhandled status from server: ${i.status} ${a}`})}};var w4r=I.Object({prompt:I.String(),speculation:I.String(),languageId:I.String(),stops:I.Array(I.String())}),m4=class{static{o(this,"SpeculationFetcher")}constructor(t){this.ctx=t}async fetchSpeculation(t,r){let i={prompt:t.prompt,speculation:t.speculation,engineModelId:"copilot-centralus-h100",uiKind:"editsPanel",temperature:0,stream:!0,stops:t.stops},s=await this.ctx.get(ar).updateExPValuesAndAssignments(),a=await this.ctx.get(qc).fetchAndStreamSpeculation(this.ctx,i,s,async(l,c)=>{},r);switch(a.type){case"success":return a;case"canceled":throw new IL(a.reason);case"failed":throw new Hv(a.reason)}}};d();d();d();var BL=class e{static{o(this,"FullTextDocument")}constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){for(let n of t)if(e.isIncremental(n)){let i=G4e(n.range),s=this.offsetAt(i.start),a=this.offsetAt(i.end);this._content=this._content.substring(0,s)+n.text+this._content.substring(a,this._content.length);let l=Math.max(i.start.line,0),c=Math.max(i.end.line,0),u=this._lineOffsets,f=q4e(n.text,!1,s);if(c-l===f.length)for(let h=0,p=f.length;h<p;h++)u[h+l+1]=f[h];else f.length<1e4?u.splice(l+1,c-l,...f):this._lineOffsets=u=u.slice(0,l+1).concat(f,u.slice(c+1));let m=n.text.length-(a-s);if(m!==0)for(let h=l+1+f.length,p=u.length;h<p;h++)u[h]=u[h]+m}else if(e.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=q4e(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return{line:0,character:t};for(;n<i;){let a=Math.floor((n+i)/2);r[a]>t?i=a:n=a+1}let s=n-1;return t=this.ensureBeforeEOL(t,r[s]),{line:s,character:t-r[s]}}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line];if(t.character<=0)return n;let i=t.line+1<r.length?r[t.line+1]:this._content.length,s=Math.min(n+t.character,i);return this.ensureBeforeEOL(s,n)}ensureBeforeEOL(t,r){for(;t>r&&W4e(this._content.charCodeAt(t-1));)t--;return t}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}},q5;(function(e){function t(i,s,a,l){return new BL(i,s,a,l)}o(t,"create"),e.create=t;function r(i,s,a){if(i instanceof BL)return i.update(s,a),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}o(r,"update"),e.update=r;function n(i,s){let a=i.getText(),l=iZ(s.map(kst),(f,m)=>{let h=f.range.start.line-m.range.start.line;return h===0?f.range.start.character-m.range.start.character:h}),c=0,u=[];for(let f of l){let m=i.offsetAt(f.range.start);if(m<c)throw new Error("Overlapping edit");m>c&&u.push(a.substring(c,m)),f.newText.length&&u.push(f.newText),c=i.offsetAt(f.range.end)}return u.push(a.substr(c)),u.join("")}o(n,"applyEdits"),e.applyEdits=n})(q5||(q5={}));function iZ(e,t){if(e.length<=1)return e;let r=e.length/2|0,n=e.slice(0,r),i=e.slice(r);iZ(n,t),iZ(i,t);let s=0,a=0,l=0;for(;s<n.length&&a<i.length;)t(n[s],i[a])<=0?e[l++]=n[s++]:e[l++]=i[a++];for(;s<n.length;)e[l++]=n[s++];for(;a<i.length;)e[l++]=i[a++];return e}o(iZ,"mergeSort");function q4e(e,t,r=0){let n=t?[r]:[];for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);W4e(s)&&(s===13&&i+1<e.length&&e.charCodeAt(i+1)===10&&i++,n.push(r+i+1))}return n}o(q4e,"computeLineOffsets");function W4e(e){return e===13||e===10}o(W4e,"isEOL");function G4e(e){let t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}o(G4e,"getWellformedRange");function kst(e){let t=G4e(e.range);return t!==e.range?{newText:e.newText,range:t}:e}o(kst,"getWellformedEdit");d();var H4e;(function(e){function t(r){return typeof r=="string"}o(t,"is"),e.is=t})(H4e||(H4e={}));var oZ;(function(e){function t(r){return typeof r=="string"}o(t,"is"),e.is=t})(oZ||(oZ={}));var V4e;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}o(t,"is"),e.is=t})(V4e||(V4e={}));var RL;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}o(t,"is"),e.is=t})(RL||(RL={}));var w0;(function(e){function t(n,i){return n===Number.MAX_VALUE&&(n=RL.MAX_VALUE),i===Number.MAX_VALUE&&(i=RL.MAX_VALUE),{line:n,character:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Ye.uinteger(i.line)&&Ye.uinteger(i.character)}o(r,"is"),e.is=r})(w0||(w0={}));var Mo;(function(e){function t(n,i,s,a){if(Ye.uinteger(n)&&Ye.uinteger(i)&&Ye.uinteger(s)&&Ye.uinteger(a))return{start:w0.create(n,i),end:w0.create(s,a)};if(w0.is(n)&&w0.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${s}, ${a}]`)}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&w0.is(i.start)&&w0.is(i.end)}o(r,"is"),e.is=r})(Mo||(Mo={}));var DL;(function(e){function t(n,i){return{uri:n,range:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Mo.is(i.range)&&(Ye.string(i.uri)||Ye.undefined(i.uri))}o(r,"is"),e.is=r})(DL||(DL={}));var j4e;(function(e){function t(n,i,s,a){return{targetUri:n,targetRange:i,targetSelectionRange:s,originSelectionRange:a}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Mo.is(i.targetRange)&&Ye.string(i.targetUri)&&Mo.is(i.targetSelectionRange)&&(Mo.is(i.originSelectionRange)||Ye.undefined(i.originSelectionRange))}o(r,"is"),e.is=r})(j4e||(j4e={}));var sZ;(function(e){function t(n,i,s,a){return{red:n,green:i,blue:s,alpha:a}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Ye.numberRange(i.red,0,1)&&Ye.numberRange(i.green,0,1)&&Ye.numberRange(i.blue,0,1)&&Ye.numberRange(i.alpha,0,1)}o(r,"is"),e.is=r})(sZ||(sZ={}));var $4e;(function(e){function t(n,i){return{range:n,color:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Mo.is(i.range)&&sZ.is(i.color)}o(r,"is"),e.is=r})($4e||($4e={}));var z4e;(function(e){function t(n,i,s){return{label:n,textEdit:i,additionalTextEdits:s}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Ye.string(i.label)&&(Ye.undefined(i.textEdit)||Kv.is(i))&&(Ye.undefined(i.additionalTextEdits)||Ye.typedArray(i.additionalTextEdits,Kv.is))}o(r,"is"),e.is=r})(z4e||(z4e={}));var Y4e;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(Y4e||(Y4e={}));var K4e;(function(e){function t(n,i,s,a,l,c){let u={startLine:n,endLine:i};return Ye.defined(s)&&(u.startCharacter=s),Ye.defined(a)&&(u.endCharacter=a),Ye.defined(l)&&(u.kind=l),Ye.defined(c)&&(u.collapsedText=c),u}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Ye.uinteger(i.startLine)&&Ye.uinteger(i.startLine)&&(Ye.undefined(i.startCharacter)||Ye.uinteger(i.startCharacter))&&(Ye.undefined(i.endCharacter)||Ye.uinteger(i.endCharacter))&&(Ye.undefined(i.kind)||Ye.string(i.kind))}o(r,"is"),e.is=r})(K4e||(K4e={}));var aZ;(function(e){function t(n,i){return{location:n,message:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&DL.is(i.location)&&Ye.string(i.message)}o(r,"is"),e.is=r})(aZ||(aZ={}));var J4e;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(J4e||(J4e={}));var X4e;(function(e){e.Unnecessary=1,e.Deprecated=2})(X4e||(X4e={}));var Z4e;(function(e){function t(r){let n=r;return Ye.objectLiteral(n)&&Ye.string(n.href)}o(t,"is"),e.is=t})(Z4e||(Z4e={}));var PL;(function(e){function t(n,i,s,a,l,c){let u={range:n,message:i};return Ye.defined(s)&&(u.severity=s),Ye.defined(a)&&(u.code=a),Ye.defined(l)&&(u.source=l),Ye.defined(c)&&(u.relatedInformation=c),u}o(t,"create"),e.create=t;function r(n){var i;let s=n;return Ye.defined(s)&&Mo.is(s.range)&&Ye.string(s.message)&&(Ye.number(s.severity)||Ye.undefined(s.severity))&&(Ye.integer(s.code)||Ye.string(s.code)||Ye.undefined(s.code))&&(Ye.undefined(s.codeDescription)||Ye.string((i=s.codeDescription)===null||i===void 0?void 0:i.href))&&(Ye.string(s.source)||Ye.undefined(s.source))&&(Ye.undefined(s.relatedInformation)||Ye.typedArray(s.relatedInformation,aZ.is))}o(r,"is"),e.is=r})(PL||(PL={}));var Yv;(function(e){function t(n,i,...s){let a={title:n,command:i};return Ye.defined(s)&&s.length>0&&(a.arguments=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Ye.string(i.title)&&Ye.string(i.command)}o(r,"is"),e.is=r})(Yv||(Yv={}));var Kv;(function(e){function t(s,a){return{range:s,newText:a}}o(t,"replace"),e.replace=t;function r(s,a){return{range:{start:s,end:s},newText:a}}o(r,"insert"),e.insert=r;function n(s){return{range:s,newText:""}}o(n,"del"),e.del=n;function i(s){let a=s;return Ye.objectLiteral(a)&&Ye.string(a.newText)&&Mo.is(a.range)}o(i,"is"),e.is=i})(Kv||(Kv={}));var lZ;(function(e){function t(n,i,s){let a={label:n};return i!==void 0&&(a.needsConfirmation=i),s!==void 0&&(a.description=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Ye.string(i.label)&&(Ye.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(Ye.string(i.description)||i.description===void 0)}o(r,"is"),e.is=r})(lZ||(lZ={}));var Jv;(function(e){function t(r){let n=r;return Ye.string(n)}o(t,"is"),e.is=t})(Jv||(Jv={}));var exe;(function(e){function t(s,a,l){return{range:s,newText:a,annotationId:l}}o(t,"replace"),e.replace=t;function r(s,a,l){return{range:{start:s,end:s},newText:a,annotationId:l}}o(r,"insert"),e.insert=r;function n(s,a){return{range:s,newText:"",annotationId:a}}o(n,"del"),e.del=n;function i(s){let a=s;return Kv.is(a)&&(lZ.is(a.annotationId)||Jv.is(a.annotationId))}o(i,"is"),e.is=i})(exe||(exe={}));var cZ;(function(e){function t(n,i){return{textDocument:n,edits:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&hZ.is(i.textDocument)&&Array.isArray(i.edits)}o(r,"is"),e.is=r})(cZ||(cZ={}));var uZ;(function(e){function t(n,i,s){let a={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(a.options=i),s!==void 0&&(a.annotationId=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="create"&&Ye.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||Ye.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||Ye.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Jv.is(i.annotationId))}o(r,"is"),e.is=r})(uZ||(uZ={}));var fZ;(function(e){function t(n,i,s,a){let l={kind:"rename",oldUri:n,newUri:i};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(l.options=s),a!==void 0&&(l.annotationId=a),l}o(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="rename"&&Ye.string(i.oldUri)&&Ye.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||Ye.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||Ye.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Jv.is(i.annotationId))}o(r,"is"),e.is=r})(fZ||(fZ={}));var dZ;(function(e){function t(n,i,s){let a={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(a.options=i),s!==void 0&&(a.annotationId=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="delete"&&Ye.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||Ye.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||Ye.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||Jv.is(i.annotationId))}o(r,"is"),e.is=r})(dZ||(dZ={}));var mZ;(function(e){function t(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>Ye.string(i.kind)?uZ.is(i)||fZ.is(i)||dZ.is(i):cZ.is(i)))}o(t,"is"),e.is=t})(mZ||(mZ={}));var txe;(function(e){function t(n){return{uri:n}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Ye.string(i.uri)}o(r,"is"),e.is=r})(txe||(txe={}));var rxe;(function(e){function t(n,i){return{uri:n,version:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Ye.string(i.uri)&&Ye.integer(i.version)}o(r,"is"),e.is=r})(rxe||(rxe={}));var hZ;(function(e){function t(n,i){return{uri:n,version:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Ye.string(i.uri)&&(i.version===null||Ye.integer(i.version))}o(r,"is"),e.is=r})(hZ||(hZ={}));var nxe;(function(e){function t(n,i,s,a){return{uri:n,languageId:i,version:s,text:a}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Ye.string(i.uri)&&Ye.string(i.languageId)&&Ye.integer(i.version)&&Ye.string(i.text)}o(r,"is"),e.is=r})(nxe||(nxe={}));var pZ;(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(r){let n=r;return n===e.PlainText||n===e.Markdown}o(t,"is"),e.is=t})(pZ||(pZ={}));var rw;(function(e){function t(r){let n=r;return Ye.objectLiteral(r)&&pZ.is(n.kind)&&Ye.string(n.value)}o(t,"is"),e.is=t})(rw||(rw={}));var ixe;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(ixe||(ixe={}));var oxe;(function(e){e.PlainText=1,e.Snippet=2})(oxe||(oxe={}));var sxe;(function(e){e.Deprecated=1})(sxe||(sxe={}));var axe;(function(e){function t(n,i,s){return{newText:n,insert:i,replace:s}}o(t,"create"),e.create=t;function r(n){let i=n;return i&&Ye.string(i.newText)&&Mo.is(i.insert)&&Mo.is(i.replace)}o(r,"is"),e.is=r})(axe||(axe={}));var lxe;(function(e){e.asIs=1,e.adjustIndentation=2})(lxe||(lxe={}));var cxe;(function(e){function t(r){let n=r;return n&&(Ye.string(n.detail)||n.detail===void 0)&&(Ye.string(n.description)||n.description===void 0)}o(t,"is"),e.is=t})(cxe||(cxe={}));var uxe;(function(e){function t(r){return{label:r}}o(t,"create"),e.create=t})(uxe||(uxe={}));var fxe;(function(e){function t(r,n){return{items:r||[],isIncomplete:!!n}}o(t,"create"),e.create=t})(fxe||(fxe={}));var FL;(function(e){function t(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}o(t,"fromPlainText"),e.fromPlainText=t;function r(n){let i=n;return Ye.string(i)||Ye.objectLiteral(i)&&Ye.string(i.language)&&Ye.string(i.value)}o(r,"is"),e.is=r})(FL||(FL={}));var dxe;(function(e){function t(r){let n=r;return!!n&&Ye.objectLiteral(n)&&(rw.is(n.contents)||FL.is(n.contents)||Ye.typedArray(n.contents,FL.is))&&(r.range===void 0||Mo.is(r.range))}o(t,"is"),e.is=t})(dxe||(dxe={}));var mxe;(function(e){function t(r,n){return n?{label:r,documentation:n}:{label:r}}o(t,"create"),e.create=t})(mxe||(mxe={}));var hxe;(function(e){function t(r,n,...i){let s={label:r};return Ye.defined(n)&&(s.documentation=n),Ye.defined(i)?s.parameters=i:s.parameters=[],s}o(t,"create"),e.create=t})(hxe||(hxe={}));var pxe;(function(e){e.Text=1,e.Read=2,e.Write=3})(pxe||(pxe={}));var gxe;(function(e){function t(r,n){let i={range:r};return Ye.number(n)&&(i.kind=n),i}o(t,"create"),e.create=t})(gxe||(gxe={}));var Axe;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(Axe||(Axe={}));var yxe;(function(e){e.Deprecated=1})(yxe||(yxe={}));var Cxe;(function(e){function t(r,n,i,s,a){let l={name:r,kind:n,location:{uri:s,range:i}};return a&&(l.containerName=a),l}o(t,"create"),e.create=t})(Cxe||(Cxe={}));var xxe;(function(e){function t(r,n,i,s){return s!==void 0?{name:r,kind:n,location:{uri:i,range:s}}:{name:r,kind:n,location:{uri:i}}}o(t,"create"),e.create=t})(xxe||(xxe={}));var Exe;(function(e){function t(n,i,s,a,l,c){let u={name:n,detail:i,kind:s,range:a,selectionRange:l};return c!==void 0&&(u.children=c),u}o(t,"create"),e.create=t;function r(n){let i=n;return i&&Ye.string(i.name)&&Ye.number(i.kind)&&Mo.is(i.range)&&Mo.is(i.selectionRange)&&(i.detail===void 0||Ye.string(i.detail))&&(i.deprecated===void 0||Ye.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}o(r,"is"),e.is=r})(Exe||(Exe={}));var bxe;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(bxe||(bxe={}));var NL;(function(e){e.Invoked=1,e.Automatic=2})(NL||(NL={}));var vxe;(function(e){function t(n,i,s){let a={diagnostics:n};return i!=null&&(a.only=i),s!=null&&(a.triggerKind=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Ye.typedArray(i.diagnostics,PL.is)&&(i.only===void 0||Ye.typedArray(i.only,Ye.string))&&(i.triggerKind===void 0||i.triggerKind===NL.Invoked||i.triggerKind===NL.Automatic)}o(r,"is"),e.is=r})(vxe||(vxe={}));var Ixe;(function(e){function t(n,i,s){let a={title:n},l=!0;return typeof i=="string"?(l=!1,a.kind=i):Yv.is(i)?a.command=i:a.edit=i,l&&s!==void 0&&(a.kind=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return i&&Ye.string(i.title)&&(i.diagnostics===void 0||Ye.typedArray(i.diagnostics,PL.is))&&(i.kind===void 0||Ye.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||Yv.is(i.command))&&(i.isPreferred===void 0||Ye.boolean(i.isPreferred))&&(i.edit===void 0||mZ.is(i.edit))}o(r,"is"),e.is=r})(Ixe||(Ixe={}));var Txe;(function(e){function t(n,i){let s={range:n};return Ye.defined(i)&&(s.data=i),s}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Mo.is(i.range)&&(Ye.undefined(i.command)||Yv.is(i.command))}o(r,"is"),e.is=r})(Txe||(Txe={}));var wxe;(function(e){function t(n,i){return{tabSize:n,insertSpaces:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Ye.uinteger(i.tabSize)&&Ye.boolean(i.insertSpaces)}o(r,"is"),e.is=r})(wxe||(wxe={}));var Sxe;(function(e){function t(n,i,s){return{range:n,target:i,data:s}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Mo.is(i.range)&&(Ye.undefined(i.target)||Ye.string(i.target))}o(r,"is"),e.is=r})(Sxe||(Sxe={}));var _xe;(function(e){function t(n,i){return{range:n,parent:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Mo.is(i.range)&&(i.parent===void 0||e.is(i.parent))}o(r,"is"),e.is=r})(_xe||(_xe={}));var kxe;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(kxe||(kxe={}));var Bxe;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(Bxe||(Bxe={}));var Rxe;(function(e){function t(r){let n=r;return Ye.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}o(t,"is"),e.is=t})(Rxe||(Rxe={}));var Dxe;(function(e){function t(n,i){return{range:n,text:i}}o(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&Mo.is(i.range)&&Ye.string(i.text)}o(r,"is"),e.is=r})(Dxe||(Dxe={}));var Pxe;(function(e){function t(n,i,s){return{range:n,variableName:i,caseSensitiveLookup:s}}o(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&Mo.is(i.range)&&Ye.boolean(i.caseSensitiveLookup)&&(Ye.string(i.variableName)||i.variableName===void 0)}o(r,"is"),e.is=r})(Pxe||(Pxe={}));var Fxe;(function(e){function t(n,i){return{range:n,expression:i}}o(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&Mo.is(i.range)&&(Ye.string(i.expression)||i.expression===void 0)}o(r,"is"),e.is=r})(Fxe||(Fxe={}));var Nxe;(function(e){function t(n,i){return{frameId:n,stoppedLocation:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Mo.is(n.stoppedLocation)}o(r,"is"),e.is=r})(Nxe||(Nxe={}));var gZ;(function(e){e.Type=1,e.Parameter=2;function t(r){return r===1||r===2}o(t,"is"),e.is=t})(gZ||(gZ={}));var AZ;(function(e){function t(n){return{value:n}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&(i.tooltip===void 0||Ye.string(i.tooltip)||rw.is(i.tooltip))&&(i.location===void 0||DL.is(i.location))&&(i.command===void 0||Yv.is(i.command))}o(r,"is"),e.is=r})(AZ||(AZ={}));var Lxe;(function(e){function t(n,i,s){let a={position:n,label:i};return s!==void 0&&(a.kind=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&w0.is(i.position)&&(Ye.string(i.label)||Ye.typedArray(i.label,AZ.is))&&(i.kind===void 0||gZ.is(i.kind))&&i.textEdits===void 0||Ye.typedArray(i.textEdits,Kv.is)&&(i.tooltip===void 0||Ye.string(i.tooltip)||rw.is(i.tooltip))&&(i.paddingLeft===void 0||Ye.boolean(i.paddingLeft))&&(i.paddingRight===void 0||Ye.boolean(i.paddingRight))}o(r,"is"),e.is=r})(Lxe||(Lxe={}));var Qxe;(function(e){function t(r){return{kind:"snippet",value:r}}o(t,"createSnippet"),e.createSnippet=t})(Qxe||(Qxe={}));var Mxe;(function(e){function t(r,n,i,s){return{insertText:r,filterText:n,range:i,command:s}}o(t,"create"),e.create=t})(Mxe||(Mxe={}));var Oxe;(function(e){function t(r){return{items:r}}o(t,"create"),e.create=t})(Oxe||(Oxe={}));var Uxe;(function(e){e.Invoked=0,e.Automatic=1})(Uxe||(Uxe={}));var qxe;(function(e){function t(r,n){return{range:r,text:n}}o(t,"create"),e.create=t})(qxe||(qxe={}));var Wxe;(function(e){function t(r,n){return{triggerKind:r,selectedCompletionInfo:n}}o(t,"create"),e.create=t})(Wxe||(Wxe={}));var Gxe;(function(e){function t(r){let n=r;return Ye.objectLiteral(n)&&oZ.is(n.uri)&&Ye.string(n.name)}o(t,"is"),e.is=t})(Gxe||(Gxe={}));var Hxe;(function(e){function t(s,a,l,c){return new yZ(s,a,l,c)}o(t,"create"),e.create=t;function r(s){let a=s;return!!(Ye.defined(a)&&Ye.string(a.uri)&&(Ye.undefined(a.languageId)||Ye.string(a.languageId))&&Ye.uinteger(a.lineCount)&&Ye.func(a.getText)&&Ye.func(a.positionAt)&&Ye.func(a.offsetAt))}o(r,"is"),e.is=r;function n(s,a){let l=s.getText(),c=i(a,(f,m)=>{let h=f.range.start.line-m.range.start.line;return h===0?f.range.start.character-m.range.start.character:h}),u=l.length;for(let f=c.length-1;f>=0;f--){let m=c[f],h=s.offsetAt(m.range.start),p=s.offsetAt(m.range.end);if(p<=u)l=l.substring(0,h)+m.newText+l.substring(p,l.length);else throw new Error("Overlapping edit");u=h}return l}o(n,"applyEdits"),e.applyEdits=n;function i(s,a){if(s.length<=1)return s;let l=s.length/2|0,c=s.slice(0,l),u=s.slice(l);i(c,a),i(u,a);let f=0,m=0,h=0;for(;f<c.length&&m<u.length;)a(c[f],u[m])<=0?s[h++]=c[f++]:s[h++]=u[m++];for(;f<c.length;)s[h++]=c[f++];for(;m<u.length;)s[h++]=u[m++];return s}o(i,"mergeSort")})(Hxe||(Hxe={}));var yZ=class{static{o(this,"FullTextDocument")}constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){this._content=t.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],r=this._content,n=!0;for(let i=0;i<r.length;i++){n&&(t.push(i),n=!1);let s=r.charAt(i);n=s==="\r"||s===`
`,s==="\r"&&i+1<r.length&&r.charAt(i+1)===`
`&&i++}n&&r.length>0&&t.push(r.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return w0.create(0,t);for(;n<i;){let a=Math.floor((n+i)/2);r[a]>t?i=a:n=a+1}let s=n-1;return w0.create(s,t-r[s])}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],i=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,i),n)}get lineCount(){return this.getLineOffsets().length}},Ye;(function(e){let t=Object.prototype.toString;function r(p){return typeof p<"u"}o(r,"defined"),e.defined=r;function n(p){return typeof p>"u"}o(n,"undefined"),e.undefined=n;function i(p){return p===!0||p===!1}o(i,"boolean"),e.boolean=i;function s(p){return t.call(p)==="[object String]"}o(s,"string"),e.string=s;function a(p){return t.call(p)==="[object Number]"}o(a,"number"),e.number=a;function l(p,A,x){return t.call(p)==="[object Number]"&&A<=p&&p<=x}o(l,"numberRange"),e.numberRange=l;function c(p){return t.call(p)==="[object Number]"&&-2147483648<=p&&p<=2147483647}o(c,"integer"),e.integer=c;function u(p){return t.call(p)==="[object Number]"&&0<=p&&p<=2147483647}o(u,"uinteger"),e.uinteger=u;function f(p){return t.call(p)==="[object Function]"}o(f,"func"),e.func=f;function m(p){return p!==null&&typeof p=="object"}o(m,"objectLiteral"),e.objectLiteral=m;function h(p,A){return Array.isArray(p)&&p.every(A)}o(h,"typedArray"),e.typedArray=h})(Ye||(Ye={}));var Co=class{static{o(this,"LocationFactory")}static{this.range=Mo.create.bind(Mo)}static{this.position=w0.create.bind(w0)}};function Xv({textDocument:e,position:t},r){let n=e.offsetAt(t);for(let{range:i,newText:s}of r){let a=e.getText(i),l=e.offsetAt(i.end);e=e.applyEdits([{range:i,newText:s}]),!(n<e.offsetAt(i.start))&&(n<l&&(n=l),n+=s.length-a.length)}return{textDocument:e,position:e.positionAt(n)}}o(Xv,"applyEdits");function LL(e,t,r){return Xv({textDocument:e,position:t},r)}o(LL,"applyEditsWithPosition");var T1=class e{constructor(t,r,n,i=[]){this.uri=t;this._textDocument=r;this.detectedLanguageId=n;this.appliedEdits=i}static{o(this,"CopilotTextDocument")}static withChanges(t,r,n){let i=q5.create(t.clientUri,t.clientLanguageId,n,t.getText());return q5.update(i,r,n),new e(t.uri,i,t.detectedLanguageId)}applyEdits(t){let r=q5.create(this.clientUri,this.clientLanguageId,this.version,this.getText());return q5.update(r,t.map(n=>({text:n.newText,range:n.range})),this.version),new e(this.uri,r,this.detectedLanguageId,[...this.appliedEdits,...t])}static create(t,r,n,i,s=YF({uri:t,languageId:r})){return new e(Hl(t),q5.create(t,r,n,i),s)}get clientUri(){return this._textDocument.uri}get clientLanguageId(){return this._textDocument.languageId}get languageId(){return this._textDocument.languageId}get version(){return this._textDocument.version}get lineCount(){return this._textDocument.lineCount}getText(t){return this._textDocument.getText(t)}positionAt(t){return this._textDocument.positionAt(t)}offsetAt(t){return this._textDocument.offsetAt(t)}lineAt(t){let r=typeof t=="number"?t:t.line;if(r<0||r>=this.lineCount)throw new RangeError("Illegal value for lineNumber");let n=Mo.create(r,0,r+1,0),i=this.getText(n).replace(/\r\n$|\r$|\n$/g,""),s=Mo.create(w0.create(r,0),w0.create(r,i.length)),a=i.trim().length===0;return{text:i,range:s,isEmptyOrWhitespace:a}}};d();d();d();d();var nw={isBlocked:!1,reason:"VALID_FILE"},QL={isBlocked:!1,reason:"NO_MATCHING_POLICY"},Vxe={isBlocked:!0,reason:"POLICY_ERROR",message:"Copilot is disabled because we could not fetch the repository policy"},h4={all:"all",repo:"repo"},w1=new Ar("contentExclusion");d();d();var ML=class{static{o(this,"PolicyEvaluator")}};d();d();d();var jxe=require("child_process");var Bst=new Ar("repository"),Zv=class e{constructor(){this.data={}}static{o(this,"GitConfigData")}getKeys(){return Object.keys(this.data)}getEntries(){return Object.entries(this.data)}get(t){let r=this.getAll(t);return r?r[r.length-1]:void 0}getAll(t){return this.data[this.normalizeKey(t)]}add(t,r){t in this.data||(this.data[t]=[]),this.data[t].push(r)}getSectionValues(t,r){let n=`${t}.`.toLowerCase(),i=`.${r}`.toLowerCase();return Object.keys(this.data).filter(s=>s.startsWith(n)&&s.endsWith(i)).map(s=>s.slice(n.length,-i.length))}concat(t){return this.getEntries().concat(t.getEntries()).reduce((r,[n,i])=>(i.forEach(s=>r.add(n,s)),r),new e)}normalizeKey(t){let r=t.split(".");return r[0]=r[0].toLowerCase(),r[r.length-1]=r[r.length-1].toLowerCase(),r.join(".")}},vp=class{static{o(this,"GitConfigLoader")}},OL=class extends vp{static{o(this,"GitCLIConfigLoader")}runCommand(t,r,n){return new Promise((i,s)=>{(0,jxe.execFile)(r,n,{cwd:t},(a,l)=>{a?s(a):i(l)})})}async tryRunCommand(t,r,n,i){try{return await this.runCommand(r,n,i)}catch(s){Bst.info(t,`Failed to run command '${n}' in ${r}:`,s);return}}async getConfig(t,r){let n=Ws(r);if(n===void 0)return;let i=await this.tryRunCommand(t,n,"git",["-c","safe.directory=*","config","--list","--null",...this.extraArgs()]);return i?this.extractConfig(i):void 0}extractConfig(t){let r=new Zv;for(let n of t.split("\0").filter(i=>i)){let i=n.split(`
`,1)[0],s=n.slice(i.length+1);r.add(i,s)}return r}extraArgs(){return[]}},UL=class extends vp{constructor(r){super();this.loaders=r}static{o(this,"GitFallbackConfigLoader")}async getConfig(r,n){for(let i of this.loaders){let s=await i.getConfig(r,n);if(s)return s}}};d();var $xe=require("os");var qL=class{constructor(t){this.url=t;this.isUrl()?this.parseUrl():this.tryParseSSHString()||(this._scheme="file")}static{o(this,"GitRemoteUrl")}get scheme(){return this._scheme}get authority(){return this._authority}get hostname(){return this._hostname}get path(){return this._path}isInvalid(){return this._error!==void 0}isRemote(){return this.scheme!=="file"&&this.hostname!==void 0}isGitHub(){return this.isRemote()&&/(?:^|\.)(?:github\.com|ghe\.com)$/i.test(this.hostname??"")}isADO(){return this.isRemote()&&/(?:^|\.)(?:visualstudio\.com|azure\.com)$/i.test(this.hostname??"")}getUrlForApi(){if(!this.isRemote())return null;if(this.isUrl()&&!this.isInvalid())return A5.from({scheme:this.scheme,authority:this.authority.replace(/^[^@]+@/,""),path:this.path}).toString();if(this.scheme=="ssh"&&this.isADO()){let t=this.url.indexOf(":");return this.url.substring(0,t+1)+this.path}return this.url}isUrl(){return/[A-Za-z0-9][A-Za-z0-9]+:\/\//.test(this.url)}parseUrl(){let t;try{t=A5.parse(this.url)}catch(r){this._error=r;return}this._scheme=t.scheme,this.setAuthority(t.authority),this.setPath(t.path)}setAuthority(t){this._authority=t;let r=t.replace(/^[^@]+@/,"").replace(/:\d*$/,"");r&&(this._hostname=r)}tryParseSSHString(){let t=/^(?<host>[^:/\\[]*(?:\[[^/\\\]]*\])?):/.exec(this.url);if(t&&((0,$xe.platform)()!=="win32"||(t.groups?.host?.length??0)>1)){let r=t.groups?.host??"";return this._scheme="ssh",this.setAuthority(r),this.setPath(this.url.substring(r.length+1)),!0}return!1}setPath(t){if(this.isADO())try{this._path=decodeURIComponent(t);return}catch{}this._path=t}};var WL=class{static{o(this,"GitRemoteResolver")}async resolveRemote(t,r){let n=await t.get(vp).getConfig(t,r);if(!n)return;let i=this.getRemotes(n),s=i.filter(a=>a.url.isGitHub());if(s.length)return s.find(a=>a.name==="origin")?.url??s[0].url;if(i.length)return i.find(a=>a.name==="origin")?.url??i[0].url}getRemotes(t){let r=this.getInsteadOfRules(t);return t.getSectionValues("remote","url").map(n=>({name:n,url:new qL(this.applyInsteadOfRules(r,t.get(`remote.${n}.url`)??""))})).filter(n=>n.url.isRemote())}applyInsteadOfRules(t,r){for(let n of t)if(r.startsWith(n.insteadOf))return n.base+r.slice(n.insteadOf.length);return r}getInsteadOfRules(t){return t.getSectionValues("url","insteadof").map(r=>({base:r,insteadOf:t.get(`url.${r}.insteadof`)})).sort((r,n)=>n.base.length-r.base.length)}};var Dst=100,CZ=class{constructor(t,r){this.baseFolder=t;this.remote=r;this.setNWO()}static{o(this,"GitRepository")}get tenant(){return this._tenant}get owner(){return this._owner}get name(){return this._name}get adoOrganization(){return this._adoOrganization}isGitHub(){return this.remote?.isGitHub()??!1}isADO(){return this.remote?.isADO()??!1}setNWO(){let t=this.remote?.path?.replace(/^\//,"").split("/");if(this.isGitHub()){this._owner=t?.[0],this._name=t?.[1]?.replace(/\.git$/,"");let r=/^(?<tenant>[^.]+)\.ghe\.com$/.exec(this.remote?.hostname??"");r&&(this._tenant=r.groups?.tenant)}else if(this.isADO()&&t?.length===4){if(this.remote?.scheme==="ssh"){this._adoOrganization=t?.[1],this._owner=t?.[2],this._name=t?.[3];return}let r=/(?:(?<org>[^.]+)\.)?visualstudio\.com$/.exec(this.remote?.hostname??"");r?(this._adoOrganization=r.groups?.org,this._owner=t?.[1],this._name=t?.[3]):(this._adoOrganization=t?.[0],this._owner=t?.[1],this._name=t?.[3])}}},S1=class e{constructor(t){this.ctx=t;this.remoteResolver=new WL;this.cache=new xn(Dst)}static{o(this,"RepositoryManager")}async getRepo({uri:t}){let r,n=[];do{if(this.cache.has(t.toString())){let s=this.cache.get(t);return this.updateCache(n,s),s}n.push(t.toString());let i=await this.tryGetRepoForFolder(t);if(i)return this.updateCache(n,i),i;r=t,t=Bu(t)}while(t!==r);this.updateCache(n,void 0)}updateCache(t,r){t.forEach(n=>this.cache.set(n,r))}async tryGetRepoForFolder(t){return await this.isBaseRepoFolder(t)?new CZ(typeof t=="string"?{uri:t}:t,await this.repoUrl(t)):void 0}async isBaseRepoFolder(t){return await e.getRepoConfigLocation(this.ctx,t)!==void 0}async repoUrl(t){return await this.remoteResolver.resolveRemote(this.ctx,t)}static async getRepoConfigLocation(t,r){try{let n=t.get(ko),i=Jo(r,".git");if((await n.stat(i)).type&1)return await this.getConfigLocationForGitfile(n,r,i);let a=Jo(i,"config");return await n.stat(a),a}catch{return}}static async getConfigLocationForGitfile(t,r,n){let s=(await t.readFileString(n)).match(/^gitdir:\s+(.+)$/m);if(!s)return;let a=L3(r,s[1]),l=Jo(a,"config");if(await this.tryStat(t,l)!==void 0)return l;let c=Jo(a,"config.worktree");if(await this.tryStat(t,c)!==void 0)return c;let u=Jo(a,"commondir");a=L3(a,(await t.readFileString(u)).trimEnd());let f=Jo(a,"config");return await t.stat(f),f}static async tryStat(t,r){try{return await t.stat(r)}catch{return}}};d();var zxe=o((e,t)=>{if(x5.Check(e,t))return t;let r=`Typebox schema validation failed:
${[...x5.Errors(e,t)].map(n=>`${n.path} ${n.message}`).join(`
`)}`;throw new Error(r)},"assertShape");d();d();d();var GL=new WeakMap;function HL(e,t){if(e==null||typeof e!="object")return String(e);let r,n="",i=0,s=Object.prototype.toString.call(e);if(s!=="[object RegExp]"&&s!=="[object Date]"&&GL.has(e))return GL.get(e);switch(GL.set(e,"~"+ ++t),s){case"[object Set]":r=Array.from(e);case"[object Array]":for(r||(r=e),n+="a";i<r.length;n+=HL(r[i++],t));break;case"[object Object]":for(n+="o",r=Object.keys(e).sort();i<r.length;n+=r[i]+HL(e[r[i++]],t));break;case"[object Map]":for(n+="o",r=Array.from(e.keys()).sort();i<r.length;n+=r[i]+HL(e.get(r[i++]),t));break;case"[object Date]":return"d"+ +e;case"[object RegExp]":return"r"+e.source+e.flags;default:throw new Error(`Unsupported value ${e}`)}return GL.set(e,n),n}o(HL,"t");function VL(e){return HL(e,0)}o(VL,"r");var xZ=new WeakMap;function Yxe(e,t,r=VL(t)){let n,i,s=xZ.get(e);s||(xZ.set(e,s=[[],i=[],n=[]]),queueMicrotask(function(){let u,f=0;function m(h){for(;u=n[f++];u.r(h));}o(m,"o"),xZ.delete(e),e(i).then(function(h){if(h.length!==n.length)return m(new Error("loader value length mismatch"));for(;u=h[f++],f<=h.length;u instanceof Error?n[f-1].r(u):n[f-1].s(u));},m)}));let a=s[0].indexOf(r);if(~a)return s[2][a].p;let l=s[0].push(r)-1,c=s[2][l]={};return s[1][l]=t,c.p=new Promise(function(u,f){c.s=u,c.r=f})}o(Yxe,"n");var Kxe=new WeakMap;function Pst(e,t,r,n=VL(r)){if(t||(t=Kxe.get(e)),t||Kxe.set(e,t=new Map),t.has(n))return Promise.resolve(t.get(n));let i=Yxe(e,r,n);return t.set(n,i),i.catch(()=>t.delete(n)),i}o(Pst,"n");function Jxe(e,t){return function(r,n){return Pst(e,t,r,n)}}o(Jxe,"o");d();var yEe=tt(uEe(),1);d();var ow=o(e=>{if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},"assertValidPattern");d();d();var qst={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},sw=o(e=>e.replace(/[[\]\\-]/g,"\\$&"),"braceEscape"),Wst=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regexpEscape"),fEe=o(e=>e.join(""),"rangesToString"),dEe=o((e,t)=>{let r=t;if(e.charAt(r)!=="[")throw new Error("not in a brace expression");let n=[],i=[],s=r+1,a=!1,l=!1,c=!1,u=!1,f=r,m="";e:for(;s<e.length;){let x=e.charAt(s);if((x==="!"||x==="^")&&s===r+1){u=!0,s++;continue}if(x==="]"&&a&&!c){f=s+1;break}if(a=!0,x==="\\"&&!c){c=!0,s++;continue}if(x==="["&&!c){for(let[E,[v,b,S]]of Object.entries(qst))if(e.startsWith(E,s)){if(m)return["$.",!1,e.length-r,!0];s+=E.length,S?i.push(v):n.push(v),l=l||b;continue e}}if(c=!1,m){x>m?n.push(sw(m)+"-"+sw(x)):x===m&&n.push(sw(x)),m="",s++;continue}if(e.startsWith("-]",s+1)){n.push(sw(x+"-")),s+=2;continue}if(e.startsWith("-",s+1)){m=x,s+=2;continue}n.push(sw(x)),s++}if(f<s)return["",!1,0,!1];if(!n.length&&!i.length)return["$.",!1,e.length-r,!0];if(i.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!u){let x=n[0].length===2?n[0].slice(-1):n[0];return[Wst(x),!1,f-r,!1]}let h="["+(u?"^":"")+fEe(n)+"]",p="["+(u?"":"^")+fEe(i)+"]";return[n.length&&i.length?"("+h+"|"+p+")":n.length?h:p,l,f-r,!0]},"parseClass");d();var W5=o((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),"unescape");var Gst=new Set(["!","?","+","*","@"]),mEe=o(e=>Gst.has(e),"isExtglobType"),Hst="(?!(?:^|/)\\.\\.?(?:$|/))",jL="(?!\\.)",Vst=new Set(["[","."]),jst=new Set(["..","."]),$st=new Set("().*{}+?[]^$\\!"),zst=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),vZ="[^/]",hEe=vZ+"*?",pEe=vZ+"+?",eI=class e{static{o(this,"AST")}type;#e;#t;#i=!1;#n=[];#r;#o;#s;#a=!1;#l;#c;#f=!1;constructor(t,r,n={}){this.type=t,t&&(this.#t=!0),this.#r=r,this.#e=this.#r?this.#r.#e:this,this.#l=this.#e===this?n:this.#e.#l,this.#s=this.#e===this?[]:this.#e.#s,t==="!"&&!this.#e.#a&&this.#s.push(this),this.#o=this.#r?this.#r.#n.length:0}get hasMagic(){if(this.#t!==void 0)return this.#t;for(let t of this.#n)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#t=!0;return this.#t}toString(){return this.#c!==void 0?this.#c:this.type?this.#c=this.type+"("+this.#n.map(t=>String(t)).join("|")+")":this.#c=this.#n.map(t=>String(t)).join("")}#m(){if(this!==this.#e)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let t;for(;t=this.#s.pop();){if(t.type!=="!")continue;let r=t,n=r.#r;for(;n;){for(let i=r.#o+1;!n.type&&i<n.#n.length;i++)for(let s of t.#n){if(typeof s=="string")throw new Error("string part in extglob AST??");s.copyIn(n.#n[i])}r=n,n=r.#r}}return this}push(...t){for(let r of t)if(r!==""){if(typeof r!="string"&&!(r instanceof e&&r.#r===this))throw new Error("invalid part: "+r);this.#n.push(r)}}toJSON(){let t=this.type===null?this.#n.slice().map(r=>typeof r=="string"?r:r.toJSON()):[this.type,...this.#n.map(r=>r.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#e||this.#e.#a&&this.#r?.type==="!")&&t.push({}),t}isStart(){if(this.#e===this)return!0;if(!this.#r?.isStart())return!1;if(this.#o===0)return!0;let t=this.#r;for(let r=0;r<this.#o;r++){let n=t.#n[r];if(!(n instanceof e&&n.type==="!"))return!1}return!0}isEnd(){if(this.#e===this||this.#r?.type==="!")return!0;if(!this.#r?.isEnd())return!1;if(!this.type)return this.#r?.isEnd();let t=this.#r?this.#r.#n.length:0;return this.#o===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){let r=new e(this.type,t);for(let n of this.#n)r.copyIn(n);return r}static#u(t,r,n,i){let s=!1,a=!1,l=-1,c=!1;if(r.type===null){let p=n,A="";for(;p<t.length;){let x=t.charAt(p++);if(s||x==="\\"){s=!s,A+=x;continue}if(a){p===l+1?(x==="^"||x==="!")&&(c=!0):x==="]"&&!(p===l+2&&c)&&(a=!1),A+=x;continue}else if(x==="["){a=!0,l=p,c=!1,A+=x;continue}if(!i.noext&&mEe(x)&&t.charAt(p)==="("){r.push(A),A="";let E=new e(x,r);p=e.#u(t,E,p,i),r.push(E);continue}A+=x}return r.push(A),p}let u=n+1,f=new e(null,r),m=[],h="";for(;u<t.length;){let p=t.charAt(u++);if(s||p==="\\"){s=!s,h+=p;continue}if(a){u===l+1?(p==="^"||p==="!")&&(c=!0):p==="]"&&!(u===l+2&&c)&&(a=!1),h+=p;continue}else if(p==="["){a=!0,l=u,c=!1,h+=p;continue}if(mEe(p)&&t.charAt(u)==="("){f.push(h),h="";let A=new e(p,f);f.push(A),u=e.#u(t,A,u,i);continue}if(p==="|"){f.push(h),h="",m.push(f),f=new e(null,r);continue}if(p===")")return h===""&&r.#n.length===0&&(r.#f=!0),f.push(h),h="",r.push(...m,f),u;h+=p}return r.type=null,r.#t=void 0,r.#n=[t.substring(n-1)],u}static fromGlob(t,r={}){let n=new e(null,void 0,r);return e.#u(t,n,0,r),n}toMMPattern(){if(this!==this.#e)return this.#e.toMMPattern();let t=this.toString(),[r,n,i,s]=this.toRegExpSource();if(!(i||this.#t||this.#l.nocase&&!this.#l.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return n;let l=(this.#l.nocase?"i":"")+(s?"u":"");return Object.assign(new RegExp(`^${r}$`,l),{_src:r,_glob:t})}get options(){return this.#l}toRegExpSource(t){let r=t??!!this.#l.dot;if(this.#e===this&&this.#m(),!this.type){let c=this.isStart()&&this.isEnd(),u=this.#n.map(p=>{let[A,x,E,v]=typeof p=="string"?e.#h(p,this.#t,c):p.toRegExpSource(t);return this.#t=this.#t||E,this.#i=this.#i||v,A}).join(""),f="";if(this.isStart()&&typeof this.#n[0]=="string"&&!(this.#n.length===1&&jst.has(this.#n[0]))){let A=Vst,x=r&&A.has(u.charAt(0))||u.startsWith("\\.")&&A.has(u.charAt(2))||u.startsWith("\\.\\.")&&A.has(u.charAt(4)),E=!r&&!t&&A.has(u.charAt(0));f=x?Hst:E?jL:""}let m="";return this.isEnd()&&this.#e.#a&&this.#r?.type==="!"&&(m="(?:$|\\/)"),[f+u+m,W5(u),this.#t=!!this.#t,this.#i]}let n=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:",s=this.#d(r);if(this.isStart()&&this.isEnd()&&!s&&this.type!=="!"){let c=this.toString();return this.#n=[c],this.type=null,this.#t=void 0,[c,W5(this.toString()),!1,!1]}let a=!n||t||r||!jL?"":this.#d(!0);a===s&&(a=""),a&&(s=`(?:${s})(?:${a})*?`);let l="";if(this.type==="!"&&this.#f)l=(this.isStart()&&!r?jL:"")+pEe;else{let c=this.type==="!"?"))"+(this.isStart()&&!r&&!t?jL:"")+hEe+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&a?")":this.type==="*"&&a?")?":`)${this.type}`;l=i+s+c}return[l,W5(s),this.#t=!!this.#t,this.#i]}#d(t){return this.#n.map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[n,i,s,a]=r.toRegExpSource(t);return this.#i=this.#i||a,n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")}static#h(t,r,n=!1){let i=!1,s="",a=!1;for(let l=0;l<t.length;l++){let c=t.charAt(l);if(i){i=!1,s+=($st.has(c)?"\\":"")+c;continue}if(c==="\\"){l===t.length-1?s+="\\\\":i=!0;continue}if(c==="["){let[u,f,m,h]=dEe(t,l);if(m){s+=u,a=a||f,l+=m-1,r=r||h;continue}}if(c==="*"){n&&t==="*"?s+=pEe:s+=hEe,r=!0;continue}if(c==="?"){s+=vZ,r=!0;continue}s+=zst(c)}return[s,W5(t),!!r,a]}};d();var IZ=o((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&"),"escape");var ca=o((e,t,r={})=>(ow(t),!r.nocomment&&t.charAt(0)==="#"?!1:new tI(t,r).match(e)),"minimatch"),Yst=/^\*+([^+@!?\*\[\(]*)$/,Kst=o(e=>t=>!t.startsWith(".")&&t.endsWith(e),"starDotExtTest"),Jst=o(e=>t=>t.endsWith(e),"starDotExtTestDot"),Xst=o(e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),"starDotExtTestNocase"),Zst=o(e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),"starDotExtTestNocaseDot"),eat=/^\*+\.\*+$/,tat=o(e=>!e.startsWith(".")&&e.includes("."),"starDotStarTest"),rat=o(e=>e!=="."&&e!==".."&&e.includes("."),"starDotStarTestDot"),nat=/^\.\*+$/,iat=o(e=>e!=="."&&e!==".."&&e.startsWith("."),"dotStarTest"),oat=/^\*+$/,sat=o(e=>e.length!==0&&!e.startsWith("."),"starTest"),aat=o(e=>e.length!==0&&e!=="."&&e!=="..","starTestDot"),lat=/^\?+([^+@!?\*\[\(]*)?$/,cat=o(([e,t=""])=>{let r=CEe([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocase"),uat=o(([e,t=""])=>{let r=xEe([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocaseDot"),fat=o(([e,t=""])=>{let r=xEe([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTestDot"),dat=o(([e,t=""])=>{let r=CEe([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTest"),CEe=o(([e])=>{let t=e.length;return r=>r.length===t&&!r.startsWith(".")},"qmarksTestNoExt"),xEe=o(([e])=>{let t=e.length;return r=>r.length===t&&r!=="."&&r!==".."},"qmarksTestNoExtDot"),EEe=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",gEe={win32:{sep:"\\"},posix:{sep:"/"}},mat=EEe==="win32"?gEe.win32.sep:gEe.posix.sep;ca.sep=mat;var dd=Symbol("globstar **");ca.GLOBSTAR=dd;var hat="[^/]",pat=hat+"*?",gat="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Aat="(?:(?!(?:\\/|^)\\.).)*?",yat=o((e,t={})=>r=>ca(r,e,t),"filter");ca.filter=yat;var fd=o((e,t={})=>Object.assign({},e,t),"ext"),Cat=o(e=>{if(!e||typeof e!="object"||!Object.keys(e).length)return ca;let t=ca;return Object.assign(o((n,i,s={})=>t(n,i,fd(e,s)),"m"),{Minimatch:class extends t.Minimatch{static{o(this,"Minimatch")}constructor(i,s={}){super(i,fd(e,s))}static defaults(i){return t.defaults(fd(e,i)).Minimatch}},AST:class extends t.AST{static{o(this,"AST")}constructor(i,s,a={}){super(i,s,fd(e,a))}static fromGlob(i,s={}){return t.AST.fromGlob(i,fd(e,s))}},unescape:o((n,i={})=>t.unescape(n,fd(e,i)),"unescape"),escape:o((n,i={})=>t.escape(n,fd(e,i)),"escape"),filter:o((n,i={})=>t.filter(n,fd(e,i)),"filter"),defaults:o(n=>t.defaults(fd(e,n)),"defaults"),makeRe:o((n,i={})=>t.makeRe(n,fd(e,i)),"makeRe"),braceExpand:o((n,i={})=>t.braceExpand(n,fd(e,i)),"braceExpand"),match:o((n,i,s={})=>t.match(n,i,fd(e,s)),"match"),sep:t.sep,GLOBSTAR:dd})},"defaults");ca.defaults=Cat;var bEe=o((e,t={})=>(ow(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:(0,yEe.default)(e)),"braceExpand");ca.braceExpand=bEe;var xat=o((e,t={})=>new tI(e,t).makeRe(),"makeRe");ca.makeRe=xat;var Eat=o((e,t,r={})=>{let n=new tI(t,r);return e=e.filter(i=>n.match(i)),n.options.nonull&&!e.length&&e.push(t),e},"match");ca.match=Eat;var AEe=/[?*]|[+@!]\(.*?\)|\[|\]/,bat=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),tI=class{static{o(this,"Minimatch")}options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t,r={}){ow(t),r=r||{},this.options=r,this.pattern=t,this.platform=r.platform||EEe,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let t of this.set)for(let r of t)if(typeof r!="string")return!0;return!1}debug(...t){}make(){let t=this.pattern,r=this.options;if(!r.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...s)=>console.error(...s)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(s=>this.slashSplit(s));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let i=this.globParts.map((s,a,l)=>{if(this.isWindows&&this.windowsNoMagicRoot){let c=s[0]===""&&s[1]===""&&(s[2]==="?"||!AEe.test(s[2]))&&!AEe.test(s[3]),u=/^[a-z]:/i.test(s[0]);if(c)return[...s.slice(0,4),...s.slice(4).map(f=>this.parse(f))];if(u)return[s[0],...s.slice(1).map(f=>this.parse(f))]}return s.map(c=>this.parse(c))});if(this.debug(this.pattern,i),this.set=i.filter(s=>s.indexOf(!1)===-1),this.isWindows)for(let s=0;s<this.set.length;s++){let a=this.set[s];a[0]===""&&a[1]===""&&this.globParts[s][2]==="?"&&typeof a[3]=="string"&&/^[a-z]:$/i.test(a[3])&&(a[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let n=0;n<t.length;n++)for(let i=0;i<t[n].length;i++)t[n][i]==="**"&&(t[n][i]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):r>=1?t=this.levelOneOptimize(t):t=this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let i=n;for(;r[i+1]==="**";)i++;i!==n&&r.splice(n,i-n)}return r})}levelOneOptimize(t){return t.map(r=>(r=r.reduce((n,i)=>{let s=n[n.length-1];return i==="**"&&s==="**"?n:i===".."&&s&&s!==".."&&s!=="."&&s!=="**"?(n.pop(),n):(n.push(i),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let i=1;i<t.length-1;i++){let s=t[i];i===1&&s===""&&t[0]===""||(s==="."||s==="")&&(r=!0,t.splice(i,1),i--)}t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")&&(r=!0,t.pop())}let n=0;for(;(n=t.indexOf("..",n+1))!==-1;){let i=t[n-1];i&&i!=="."&&i!==".."&&i!=="**"&&(r=!0,t.splice(n-1,2),n-=2)}}while(r);return t.length===0?[""]:t}firstPhasePreProcess(t){let r=!1;do{r=!1;for(let n of t){let i=-1;for(;(i=n.indexOf("**",i+1))!==-1;){let a=i;for(;n[a+1]==="**";)a++;a>i&&n.splice(i+1,a-i);let l=n[i+1],c=n[i+2],u=n[i+3];if(l!==".."||!c||c==="."||c===".."||!u||u==="."||u==="..")continue;r=!0,n.splice(i,1);let f=n.slice(0);f[i]="**",t.push(f),i--}if(!this.preserveMultipleSlashes){for(let a=1;a<n.length-1;a++){let l=n[a];a===1&&l===""&&n[0]===""||(l==="."||l==="")&&(r=!0,n.splice(a,1),a--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let s=0;for(;(s=n.indexOf("..",s+1))!==-1;){let a=n[s-1];if(a&&a!=="."&&a!==".."&&a!=="**"){r=!0;let c=s===1&&n[s+1]==="**"?["."]:[];n.splice(s-1,2,...c),n.length===0&&n.push(""),s-=2}}}}while(r);return t}secondPhasePreProcess(t){for(let r=0;r<t.length-1;r++)for(let n=r+1;n<t.length;n++){let i=this.partsMatch(t[r],t[n],!this.preserveMultipleSlashes);if(i){t[r]=[],t[n]=i;break}}return t.filter(r=>r.length)}partsMatch(t,r,n=!1){let i=0,s=0,a=[],l="";for(;i<t.length&&s<r.length;)if(t[i]===r[s])a.push(l==="b"?r[s]:t[i]),i++,s++;else if(n&&t[i]==="**"&&r[s]===t[i+1])a.push(t[i]),i++;else if(n&&r[s]==="**"&&t[i]===r[s+1])a.push(r[s]),s++;else if(t[i]==="*"&&r[s]&&(this.options.dot||!r[s].startsWith("."))&&r[s]!=="**"){if(l==="b")return!1;l="a",a.push(t[i]),i++,s++}else if(r[s]==="*"&&t[i]&&(this.options.dot||!t[i].startsWith("."))&&t[i]!=="**"){if(l==="a")return!1;l="b",a.push(r[s]),i++,s++}else return!1;return t.length===r.length&&a}parseNegate(){if(this.nonegate)return;let t=this.pattern,r=!1,n=0;for(let i=0;i<t.length&&t.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=t.slice(n)),this.negate=r}matchOne(t,r,n=!1){let i=this.options;if(this.isWindows){let x=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),E=!x&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),v=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),b=!v&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),S=E?3:x?0:void 0,B=b?3:v?0:void 0;if(typeof S=="number"&&typeof B=="number"){let[P,F]=[t[S],r[B]];P.toLowerCase()===F.toLowerCase()&&(r[B]=P,B>S?r=r.slice(B):S>B&&(t=t.slice(S)))}}let{optimizationLevel:s=1}=this.options;s>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:r}),this.debug("matchOne",t.length,r.length);for(var a=0,l=0,c=t.length,u=r.length;a<c&&l<u;a++,l++){this.debug("matchOne loop");var f=r[l],m=t[a];if(this.debug(r,f,m),f===!1)return!1;if(f===dd){this.debug("GLOBSTAR",[r,f,m]);var h=a,p=l+1;if(p===u){for(this.debug("** at the end");a<c;a++)if(t[a]==="."||t[a]===".."||!i.dot&&t[a].charAt(0)===".")return!1;return!0}for(;h<c;){var A=t[h];if(this.debug(`
globstar while`,t,h,r,p,A),this.matchOne(t.slice(h),r.slice(p),n))return this.debug("globstar found match!",h,c,A),!0;if(A==="."||A===".."||!i.dot&&A.charAt(0)==="."){this.debug("dot detected!",t,h,r,p);break}this.debug("globstar swallow a segment, and continue"),h++}return!!(n&&(this.debug(`
>>> no match, partial?`,t,h,r,p),h===c))}let x;if(typeof f=="string"?(x=m===f,this.debug("string match",f,m,x)):(x=f.test(m),this.debug("pattern match",f,m,x)),!x)return!1}if(a===c&&l===u)return!0;if(a===c)return n;if(l===u)return a===c-1&&t[a]==="";throw new Error("wtf?")}braceExpand(){return bEe(this.pattern,this.options)}parse(t){ow(t);let r=this.options;if(t==="**")return dd;if(t==="")return"";let n,i=null;(n=t.match(oat))?i=r.dot?aat:sat:(n=t.match(Yst))?i=(r.nocase?r.dot?Zst:Xst:r.dot?Jst:Kst)(n[1]):(n=t.match(lat))?i=(r.nocase?r.dot?uat:cat:r.dot?fat:dat)(n):(n=t.match(eat))?i=r.dot?rat:tat:(n=t.match(nat))&&(i=iat);let s=eI.fromGlob(t,this.options).toMMPattern();return i&&typeof s=="object"&&Reflect.defineProperty(s,"test",{value:i}),s}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?pat:r.dot?gat:Aat,i=new Set(r.nocase?["i"]:[]),s=t.map(c=>{let u=c.map(f=>{if(f instanceof RegExp)for(let m of f.flags.split(""))i.add(m);return typeof f=="string"?bat(f):f===dd?dd:f._src});return u.forEach((f,m)=>{let h=u[m+1],p=u[m-1];f!==dd||p===dd||(p===void 0?h!==void 0&&h!==dd?u[m+1]="(?:\\/|"+n+"\\/)?"+h:u[m]=n:h===void 0?u[m-1]=p+"(?:\\/|"+n+")?":h!==dd&&(u[m-1]=p+"(?:\\/|\\/"+n+"\\/)"+h,u[m+1]=dd))}),u.filter(f=>f!==dd).join("/")}).join("|"),[a,l]=t.length>1?["(?:",")"]:["",""];s="^"+a+s+l+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,r=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;let n=this.options;this.isWindows&&(t=t.split("\\").join("/"));let i=this.slashSplit(t);this.debug(this.pattern,"split",i);let s=this.set;this.debug(this.pattern,"set",s);let a=i[i.length-1];if(!a)for(let l=i.length-2;!a&&l>=0;l--)a=i[l];for(let l=0;l<s.length;l++){let c=s[l],u=i;if(n.matchBase&&c.length===1&&(u=[a]),this.matchOne(u,c,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(t){return ca.defaults(t).Minimatch}};ca.AST=eI;ca.Minimatch=tI;ca.escape=IZ;ca.unescape=W5;var TZ="contentExclusion",$L=class extends ML{static{o(this,"CopilotContentExclusion")}#e;#t=new xn(1e4);#i=new xn(200);constructor(t){super(),this.#e=t}async evaluate(t,r){try{t=L3(t).toString();let n=await this.getGitRepo({uri:t}),i=await this.#n(n?.url??h4.all);if(!i)return QL;let s=n?.baseFolder?.uri??"file://",a=await this.evaluateFilePathRules(t,s,i);if(a.isBlocked)return a;let l=await this.evaluateTextBasedRules(t,i,r);if(l.isBlocked)return l}catch(n){return w1.exception(this.#e,n,`${TZ}.evaluate`),Vxe}return nw}async evaluateFilePathRules(t,r,n){let i=t;if(this.#t.has(i))return this.#t.get(i);let s=nw,a,l=RK(t.replace(r,""));e:for(let c of n)for(let u of c.paths)if(ca(l,u,{nocase:!0,matchBase:!0,nonegate:!0,dot:!0})){s=wZ(c,"FILE_BLOCKED_PATH"),a=u;break e}return w1.debug(this.#e,`Evaluated path-based exclusion rules for <${t}>`,{result:s,baseUri:r,fileName:l,matchingPattern:a}),this.#t.set(i,s),s}async evaluateTextBasedRules(t,r,n){let i=r.filter(l=>l.ifAnyMatch),s=r.filter(l=>l.ifNoneMatch);if(!n||i.length===0&&s.length===0)return nw;let a=await this.evaluateFileContent(i,s,n);return w1.debug(this.#e,`Evaluated text-based exclusion rules for <${t}>`,{result:a}),a}async evaluateFileContent(t,r,n){for(let i of t)if(i.ifAnyMatch&&i.ifAnyMatch.length>0&&i.ifAnyMatch.map(a=>vEe(a)).some(a=>a.test(n)))return wZ(i,"FILE_BLOCKED_TEXT_BASED");for(let i of r)if(i.ifNoneMatch&&i.ifNoneMatch.length>0&&!i.ifNoneMatch.map(a=>vEe(a)).some(a=>a.test(n)))return wZ(i,"FILE_BLOCKED_TEXT_BASED");return nw}async refresh(){try{let t=[...this.#i.keys()];this.reset(),await Promise.all(t.map(r=>this.#o(r)))}catch(t){Qo(this.#e,t,`${TZ}.refresh`)}}reset(){this.#i.clear(),this.#t.clear()}async#n(t){if(this.#r?.length)return this.#r;let r=await this.#o(t.toLowerCase());if(r.length!==0)return r}#r;setTestingRules(t){this.#r=t}#o=Jxe(async t=>{let r=await this.#e.get(qr).getGitHubSession();if(!r)throw new Ms("No token found");let n=this.#e.get(Dn).getContentRestrictionsUrl(r),i=new URL(n),s=t.includes(h4.all);t.filter(u=>u!==h4.all).length>0&&i.searchParams.set("repos",t.filter(u=>u!==h4.all).join(",")),i.searchParams.set("scope",s?h4.all:h4.repo);let l=await this.#e.get(Nr).fetch(i.href,{method:"GET",headers:{Authorization:`token ${r.token}`}}),c=await l.json();if(!l.ok){if(l.status===404)return Array.from(t,()=>[]);throw this.#s("fetch.error",{message:c.message}),new g3(l)}return this.#s("fetch.success"),zxe(wat,c).map(u=>u.rules)},this.#i);async getGitRepo(t){let n=await this.#e.get(S1).getRepo(Bu(t));if(!n||!n?.remote)return;let i=n.remote.getUrlForApi();if(i)return{baseFolder:n.baseFolder,url:i}}#s(t,r,n){Gt(this.#e,`${TZ}.${t}`,rn.createAndMarkAsIssued(r,n))}};function vEe(e){if(!e.startsWith("/")&&!e.endsWith("/"))return new RegExp(e);let t=e.slice(1,e.lastIndexOf("/")),r=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,r)}o(vEe,"stringToRegex");function wZ(e,t){return{isBlocked:!0,message:`Your ${e.source.type.toLowerCase()} '${e.source.name}' has disabled Copilot for this file`,reason:t}}o(wZ,"fileBlockedEvaluationResult");var vat=I.Object({name:I.String(),type:I.String()}),Iat=I.Object({paths:I.Array(I.String()),ifNoneMatch:I.Optional(I.Array(I.String())),ifAnyMatch:I.Optional(I.Array(I.String())),source:vat}),SZ=I.Array(Iat),Tat=I.Object({rules:SZ,last_updated_at:I.String(),scope:I.String()}),wat=I.Array(Tat);var pl=class{constructor(t){this.ctx=t;this.#e=!1;this.#t=new $L(this.ctx);this.evaluateResultCache=new Map;this.onDidChangeActiveTextEditor=o(async t=>{if(!this.#e)return;if(!t){this.updateStatusIcon(!1);return}let r=await this.ctx.get(Vr).getTextDocumentValidation(t.document),n=r.status==="invalid",i=r.status==="invalid"?r.reason:void 0;this.updateStatusIcon(n,i)},"onDidChangeActiveTextEditor");this.ctx.get(Vr).onDidFocusTextDocument(this.onDidChangeActiveTextEditor),za(this.ctx,r=>{this.#e=r.envelope.copilotignore_enabled??!1,this.evaluateResultCache.clear(),this.#t.refresh()})}static{o(this,"CopilotContentExclusionManager")}#e;#t;get enabled(){return this.#e}async evaluate(t,r,n){let i=Ws(t)!==void 0;if(i||w1.debug(this.ctx,`Unsupported file URI <${t}>`),!this.#e||!i)return{isBlocked:!1};let s=[],a=o(async(u,f)=>{let m=Date.now(),h=await f.evaluate(t,r),p=Date.now();return s.push({key:u,result:h,elapsedMs:p-m}),h},"track"),c=(await Promise.all([a("contentExclusion.evaluate",this.#t)])).find(u=>u?.isBlocked)??{isBlocked:!1};try{for(let u of s)this.#i(u.key,t,u.result,u.elapsedMs)}catch(u){w1.error(this.ctx,"Error tracking telemetry",u)}return n==="UPDATE"&&this.updateStatusIcon(c.isBlocked,c.message),c}updateStatusIcon(t,r){this.#e&&(t?this.ctx.get(Li).setInactive(r??"Copilot is disabled"):this.ctx.get(Li).clearInactive())}#i(t,r,n,i){let s=r+t;if(this.evaluateResultCache.get(s)===n.reason)return!1;if(this.evaluateResultCache.set(s,n.reason??"UNKNOWN"),n.reason===QL.reason)return w1.debug(this.ctx,`[${t}] No matching policy for this repository. uri: ${r}`),!1;let l={isBlocked:n.isBlocked?"true":"false",reason:n.reason??"UNKNOWN"},c={elapsedMs:i};return Gt(this.ctx,t,rn.createAndMarkAsIssued(l,c)),Gt(this.ctx,t,rn.createAndMarkAsIssued({...l,path:r},c),1),w1.debug(this.ctx,`[${t}] ${r}`,n),!0}setTestingRules(t){this.#t.setTestingRules(t)}set __contentExclusions(t){this.#t=t}get __contentExclusions(){return this.#t}};async function p4(e,t,r){let n=await e.get(pl).evaluate(t.uri,r);return n.isBlocked?{status:"invalid",reason:n.message??"Document is blocked by repository policy"}:{status:"valid"}}o(p4,"isDocumentValid");var Vr=class{constructor(t){this.ctx=t}static{o(this,"TextDocumentManager")}async textDocuments(){let t=this.getOpenTextDocuments(),r=[];for(let n of t)(await p4(this.ctx,n,n.getText())).status==="valid"&&r.push(n);return r}getTextDocumentUnsafe(t){return this.getOpenTextDocument(t)}getOpenTextDocument(t){let r=Hl(t.uri);return this.getOpenTextDocuments().find(n=>n.uri==r)}async getTextDocument(t){return this.getOpenTextDocumentWithValidation(t).then(r=>{if(r.status==="valid")return r.document})}validateTextDocument(t,r){return p4(this.ctx,t,r)}async getTextDocumentValidation(t){try{let r=this.getOpenTextDocument(t)?.getText()??await this.readTextDocumentFromDisk(t.uri);return r===void 0?this.notFoundResult(t):this.validateTextDocument(t,r)}catch{return this.notFoundResult(t)}}async getOpenTextDocumentWithValidation(t){let r=this.getTextDocumentUnsafe(t);if(!r)return this.notFoundResult(t);let n=await this.validateTextDocument(t,r.getText());return n.status==="valid"?{status:"valid",document:r}:n}notFoundResult({uri:t}){return{status:"notfound",message:`Document for URI could not be found: ${t}`}}async readTextDocumentFromDisk(t){try{if((await this.ctx.get(ko).stat(t)).size>5*1024*1024)return}catch{return}return await this.ctx.get(ko).readFileString(t)}getWorkspaceFolder(t){let r=Hl(t.uri);return this.getWorkspaceFolders().find(n=>r.startsWith(Hl(n.uri)))}getRelativePath(t){if(t.uri.startsWith("untitled:"))return;let r=Hl(t.uri);for(let n of this.getWorkspaceFolders()){let i=Hl(n.uri).replace(/[#?].*/,"").replace(/\/?$/,"/");if(r.startsWith(i))return r.slice(i.length)}return _o(r)}};function rs(e){switch(e.status){case"valid":return e.document.getText().trim().length===0?"empty":"included";case"invalid":return"blocked";case"notfound":return"notfound"}}o(rs,"statusFromTextDocumentResult");var dn=class{constructor(t){this.ctx=t}static{o(this,"FileReader")}getRelativePath(t){return this.ctx.get(Vr).getRelativePath(t)??_o(t.uri)}getOrReadTextDocument(t){return this.readFile(t.uri)}getOrReadTextDocumentWithFakeClientProperties(t){return this.readFile(t.uri)}async readFile(t){let n=await this.ctx.get(Vr).getOpenTextDocumentWithValidation({uri:t});if(n.status!=="notfound")return n;try{if(await this.getFileSizeMB(t)>1)return{status:"notfound",message:"File too large"};let s=await this.doReadFile(t),a=await p4(this.ctx,{uri:t},s);return a.status==="valid"?{status:"valid",document:T1.create(t,"UNKNOWN",-1,s)}:a}catch{return{status:"notfound",message:"File not found"}}}async doReadFile(t){return await this.ctx.get(ko).readFileString(t)}async getFileSizeMB(t){return(await this.ctx.get(ko).stat(t)).size/1024/1024}};d();d();var rI=class{constructor(){this.resolve=o(()=>{},"resolve");this.reject=o(()=>{},"reject");this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}static{o(this,"Deferred")}};function zL(e,t=void 0){return new Promise(r=>setTimeout(()=>r(t),e))}o(zL,"delay");d();var _Z=class{constructor(){this.observers=new Set}static{o(this,"Subject")}subscribe(t){return this.observers.add(t),()=>this.observers.delete(t)}next(t){for(let r of this.observers)r.next(t)}error(t){for(let r of this.observers)r.error?.(t)}complete(){for(let t of this.observers)t.complete?.()}},YL=class extends _Z{static{o(this,"ReplaySubject")}subscribe(t){let r=super.subscribe(t);return this._value!==void 0&&t.next(this._value),r}next(t){this._value=t,super.next(t)}};var Mm=class{constructor(t){this.ctx=t;this.#e=!1;this.#t=new Ar("AsyncCompletionManager");this.requests=new xn(100);this.mostRecentRequestId="";za(t,r=>{this.#e=r.hasKnownOrg})}static{o(this,"AsyncCompletionManager")}#e;#t;clear(){this.requests.clear()}isEnabled(t){let r=Qn(this.ctx,kt.UseAsyncCompletions);return this.#e&&typeof r=="boolean"?r:this.ctx.get(ar).enableAsyncCompletions(t)}shouldWaitForAsyncCompletions(t,r){for(let[n,i]of this.requests)if(kZ(t,r,i))return!0;return!1}updateCompletion(t,r){let n=this.requests.get(t);n!==void 0&&(n.partialCompletionText=r,n.subject.next(n))}queueCompletionRequest(t,r,n,i,s){this.#t.debug(this.ctx,`[${t}] Queueing async completion request:`,r.substring(r.lastIndexOf(`
`)+1));let a=new YL;return this.requests.set(t,{state:2,cancellationTokenSource:i,headerRequestId:t,prefix:r,prompt:n,subject:a}),s.then(l=>{if(this.requests.delete(t),l.type!=="success"){this.#t.debug(this.ctx,`[${t}] Request failed with`,l.reason),a.error(l.reason);return}let c={cancellationTokenSource:i,headerRequestId:t,prefix:r,prompt:n,subject:a,choice:l.value[0],result:l,state:0,allChoicesPromise:l.value[1]};this.requests.set(t,c),a.next(c),a.complete()}).catch(l=>{this.#t.error(this.ctx,`[${t}] Request errored with`,l),this.requests.delete(t),a.error(l)})}getFirstMatchingRequestWithTimeout(t,r,n,i,s){let a=this.ctx.get(ar).asyncCompletionsTimeout(s);return a<0?(this.#t.debug(this.ctx,`[${t}] Waiting for completions without timeout`),this.getFirstMatchingRequest(t,r,n,i)):(this.#t.debug(this.ctx,`[${t}] Waiting for completions with timeout of ${a}ms`),Promise.race([this.getFirstMatchingRequest(t,r,n,i),new Promise(l=>setTimeout(()=>l(null),a))]).then(l=>{if(l===null){this.#t.debug(this.ctx,`[${t}] Timed out waiting for completion`);return}return l}))}async getFirstMatchingRequest(t,r,n,i){i||(this.mostRecentRequestId=t);let s=!1,a=new rI,l=new Map,c=o(f=>()=>{let m=l.get(f);m!==void 0&&(m(),l.delete(f),!s&&l.size===0&&(s=!0,this.#t.debug(this.ctx,`[${t}] No matching completions found`),a.resolve(void 0)))},"finishRequest"),u=o(f=>{if(kZ(r,n,f)){if(f.state===0){let m=r.substring(f.prefix.length),{completionText:h}=f.choice;if(!h.startsWith(m)||h.length<=m.length){c(f.headerRequestId)();return}h=h.substring(m.length),f.choice.telemetryData.measurements.foundOffset=m.length,this.#t.debug(this.ctx,`[${t}] Found completion at offset ${m.length}: ${JSON.stringify(h)}`),a.resolve([{...f.choice,completionText:h},f.allChoicesPromise]),s=!0}}else this.cancelRequest(t,f),c(f.headerRequestId)()},"next");for(let[f,m]of this.requests)kZ(r,n,m)?l.set(f,m.subject.subscribe({next:u,error:c(f),complete:c(f)})):this.cancelRequest(t,m);return a.promise.finally(()=>{for(let f of l.values())f()})}cancelRequest(t,r){t===this.mostRecentRequestId&&r.state!==0&&(this.#t.debug(this.ctx,`[${t}] Cancelling request: ${r.headerRequestId}`),r.cancellationTokenSource.cancel(),this.requests.delete(r.headerRequestId))}};function kZ(e,t,r){if(r.prompt.suffix!==t.suffix||!e.startsWith(r.prefix))return!1;let n=e.substring(r.prefix.length);return r.state===0?r.choice.completionText.startsWith(n)&&r.choice.completionText.trimEnd().length>n.length:r.partialCompletionText===void 0?!0:r.partialCompletionText.startsWith(n)}o(kZ,"isCandidate");d();d();var lw=class{constructor(t){this.maxSize=t;this.root=new aw;this.leafNodes=new Set}static{o(this,"LRURadixTrie")}set(t,r){let{node:n,remainingKey:i}=this.findClosestNode(t);if(i.length>0){for(let[a,l]of n.children)if(i.startsWith(a)){let c=a.slice(0,i.length),u=new aw;n.removeChild(a),n.addChild(c,u),u.addChild(a.slice(c.length),l),n=u,i=i.slice(c.length);break}let s=new aw;n.addChild(i,s),n=s}n.value=r,this.leafNodes.add(n),this.leafNodes.size>this.maxSize&&this.evictLeastRecentlyUsed()}findAll(t){return this.findClosestNode(t).stack.map(({node:r,remainingKey:n})=>r.value!==void 0?{remainingKey:n,value:r.value}:void 0).filter(r=>r!==void 0)}delete(t){let{node:r,remainingKey:n}=this.findClosestNode(t);n.length>0||this.deleteNode(r)}findClosestNode(t){let r=!0,n=this.root,i=[{node:n,remainingKey:t}];for(;t.length>0&&r;){r=!1;for(let[s,a]of n.children)if(t.startsWith(s)){t=t.slice(s.length),i.unshift({node:a,remainingKey:t}),n=a,r=!0;break}}return{node:n,remainingKey:t,stack:i}}deleteNode(t){if(t.value=void 0,this.leafNodes.delete(t),t.parent===void 0||t.childCount>1)return;let{node:r,edge:n}=t.parent;if(t.childCount===1){let[s,a]=Array.from(t.children)[0];t.removeChild(s),r.removeChild(n),r.addChild(n+s,a);return}if(r.removeChild(n),r.parent===void 0)return;let i=r.parent;if(r.value===void 0&&r.childCount===1){let[s,a]=Array.from(r.children)[0],l=i.edge+s;r.removeChild(s),i.node.removeChild(i.edge),i.node.addChild(l,a)}}evictLeastRecentlyUsed(){let t=this.findLeastRecentlyUsed();t&&this.deleteNode(t)}findLeastRecentlyUsed(){let t;for(let r of this.leafNodes)(t===void 0||r.touched<t.touched)&&(t=r);return t}},aw=class{constructor(){this._children=new Map;this._touched=performance.now()}static{o(this,"LRURadixNode")}get children(){return this._children.entries()}get childCount(){return this._children.size}addChild(t,r){this._children.set(t,r),r.parent={node:this,edge:t}}removeChild(t){let r=this._children.get(t);r&&(r.parent=void 0),this._children.delete(t)}get value(){return this.touch(),this._value}set value(t){this.touch(),this._value=t}get touched(){return this._touched}touch(){this._touched=performance.now()}};var Vu=class{static{o(this,"CompletionsCache")}constructor(){this._cache=new xn(100)}get(t){return this._cache.get(t)}set(t,r){this._cache.set(t,r)}clear(){this._cache.clear()}},Om=class{constructor(){this.cache=new lw(100)}static{o(this,"PrefixCompletionsCache")}findAll(t){return this.cache.findAll(t).flatMap(({remainingKey:r,value:n})=>n.choices.filter(i=>i.completionText.startsWith(r)&&i.completionText.length>r.length).map(i=>({...i,completionText:i.completionText.slice(r.length),telemetryData:i.telemetryData.extendedBy({},{foundOffset:r.length})})))}append(t,r){let n=this.cache.findAll(t);if(n.length>0&&n[0].remainingKey===""){let i=n[0].value.choices;this.cache.set(t,{choices:[...i,...r]})}else this.cache.set(t,{choices:r})}clear(){this.cache=new lw(100)}};d();d();var BZ={javascript:1,typescript:2,typescriptreact:3,python:4,vue:5,php:6,dart:7,javascriptreact:8,go:9,css:10,cpp:11,html:12,scss:13,markdown:14,csharp:15,java:16,json:17,rust:18,ruby:19,c:20},Gc={" ":1,"!":2,'"':3,"#":4,$:5,"%":6,"&":7,"'":8,"(":9,")":10,"*":11,"+":12,",":13,"-":14,".":15,"/":16,0:17,1:18,2:19,3:20,4:21,5:22,6:23,7:24,8:25,9:26,":":27,";":28,"<":29,"=":30,">":31,"?":32,"@":33,A:34,B:35,C:36,D:37,E:38,F:39,G:40,H:41,I:42,J:43,K:44,L:45,M:46,N:47,O:48,P:49,Q:50,R:51,S:52,T:53,U:54,V:55,W:56,X:57,Y:58,Z:59,"[":60,"\\":61,"]":62,"^":63,_:64,"`":65,a:66,b:67,c:68,d:69,e:70,f:71,g:72,h:73,i:74,j:75,k:76,l:77,m:78,n:79,o:80,p:81,q:82,r:83,s:84,t:85,u:86,v:87,w:88,x:89,y:90,z:91,"{":92,"|":93,"}":94,"~":95};d();function IEe(e){let t;e[0]>1e-35?e[29]>1e-35?e[138]>1e-35?t=.49496579646815353:t=.47546580490346646:e[30]>1e-35?t=.4456371992737078:e[4]>3.238486181444842?e[135]>1e-35?t=.2645576817782658:e[46]>1e-35?t=.20251922126765812:t=.37359143313367105:e[7]>.9662372103242399?t=.44975631109230374:t=.4067133376207218:e[7]>.960816451500545?e[29]>1e-35?e[4]>1.7005986908310777?t=.4240336839258693:t=.35414085998710754:e[4]>3.238486181444842?t=.353882328354817:e[100]>1e-35?t=.48783079865293355:e[30]>1e-35?t=.419904106522537:t=.38599249795612806:e[4]>3.6242520361853052?e[29]>1e-35?e[7]>.5086748127709895?t=.37522628419389664:t=.3359393805000766:e[30]>1e-35?t=.3685210833144829:e[135]>1e-35?t=.22140958666091123:e[134]>1e-35?t=.38379851487275685:e[46]>1e-35?t=.1926283522107934:t=.3098162447812857:e[46]>1e-35?t=.22698331991181095:e[4]>1.4978661367769956?e[30]>1e-35?e[4]>2.138333059508028?t=.39709448374768985:t=.34711865383837703:e[134]>1e-35?t=.40608455346469957:e[135]>1e-35?t=.3084120164848763:e[48]>1e-35?t=.24193590696691425:e[51]>1e-35?t=.2087938690163009:e[4]>3.1984648276080736?t=.3529508564858481:t=.3698795818909763:t=.30210240039979064;let r;e[0]>1e-35?e[2]>2.4414009612931857?e[2]>3.676220550121792?e[7]>.9246495578512688?r=.0570428673081833:r=.019779482100154476:e[7]>.9705672697050661?r=.1023948532887641:r=.06265430080550045:e[29]>1e-35?e[5]>4.658699722134796?e[2]>1.2424533248940002?r=.12784241430585772:r=.15126156743993927:e[8]>1e-35?e[2]>.8958797346140276?r=.10624230855386699:r=-.1699142543394302:r=.10290106276456985:e[5]>3.5694334999727624?r=.09368877801612557:r=.1552615744687782:e[2]>3.3842466058243152?e[4]>3.5694334999727624?e[29]>1e-35?e[7]>.7022798213723723?r=.02282408308012389:r=-.032610792718175546:r=-.04405498437523181:e[46]>1e-35?r=-.14475563528583885:e[7]>.9159108669154322?r=.02539215399728953:e[134]>1e-35?r=.04720629593220485:e[4]>1.8688348091416842?r=-.00150052748656963:r=-.04528409340753242:e[5]>3.5694334999727624?e[4]>3.6505739029280164?e[29]>1e-35?r=.050909089229765704:e[39]>1e-35?r=-.08747827386821926:e[46]>1e-35?r=-.11300671054986217:r=-.002669293928522137:e[46]>1e-35?r=-.07873653229849684:e[39]>1e-35?r=-.06389470798465265:e[2]>.8958797346140276?e[47]>1e-35?r=-.07102696386827136:e[4]>1.8688348091416842?r=.04567768852273886:r=.016429189359442275:r=.024223384872688037:e[7]>.9569480028661056?r=.12458720561596202:r=-.006224718391409129;let n;e[29]>1e-35?e[2]>2.602003343538398?e[2]>4.166635176627655?e[7]>.8375851232899904?n=.027219239366992384:n=-.023288925509443156:e[7]>.5866799179067689?n=.05780689652787357:n=.019914206435185725:e[2]>1.2424533248940002?e[7]>.9246495578512688?n=.1091540005913688:n=.08430043254349175:e[6]>4.832297822126891?e[125]>1e-35?n=.029350728374412424:n=.1327178977041336:e[8]>1e-35?e[7]>.9793410316570949?n=-.10742256752042179:n=.10128035205992136:n=.08719230025231978:e[5]>3.772694874805912?e[39]>1e-35?n=-.07712063687837625:e[46]>1e-35?n=-.09987046122905541:e[2]>3.6242520361853052?e[134]>1e-35?n=.0549278412468898:e[155]>1e-35?n=.0628934857241284:e[47]>1e-35?n=-.14605662411148382:e[48]>1e-35?n=-.1460221669882455:n=.002073957868392086:e[2]>1e-35?e[47]>1e-35?n=-.0769198367034467:e[155]>1e-35?n=.0769122902449957:e[134]>1e-35?n=.06856131328753592:e[152]>1e-35?n=.07081107422282688:e[51]>1e-35?n=-.11095669360187602:e[91]>1e-35?n=-.08136006552659215:e[48]>1e-35?n=-.07180356044417698:e[18]>1e-35?n=-.029572927306223313:e[50]>1e-35?n=-.11419309779400831:n=.03331652781327257:n=.0015747823792064454:e[7]>.9662372103242399?n=.1203598683210537:n=.011240838199712565;let i;e[0]>1e-35?e[2]>2.4414009612931857?e[1]>1e-35?e[2]>4.03420147928485?i=.03823654007072966:e[7]>.9033253454895247?i=.09329944316059466:i=.06705865009439997:e[134]>1e-35?i=.06865805795066232:e[30]>1e-35?i=.05189058132179502:e[217]>1e-35?i=.044913757044379055:i=-.05078929160105722:e[1]>1e-35?e[6]>5.161920636569023?e[2]>1.4978661367769956?i=.10652732380394028:i=.13307829460294332:e[7]>.985694415330804?i=.06936133858882627:i=.11090193559908544:e[30]>1e-35?i=.10406540623634791:i=.03985408831881549:e[1]>1e-35?e[2]>3.772694874805912?e[29]>1e-35?e[7]>.7316379010844482?i=.012897973304512032:i=-.028068579877067623:i=.024577017676752924:e[5]>3.417592293073651?e[22]>1e-35?i=-.023871063947594612:e[7]>.8255520169851381?i=.0513970804870914:e[153]>1e-35?i=.0032035784177419503:i=.038713568639820416:e[7]>.9527510849235538?i=.10975706910869304:i=-.009433959232316078:e[38]>1e-35?i=.05195298239886214:e[30]>1e-35?i=.02476336300816124:e[2]>2.524928003624769?e[217]>1e-35?i=.0135414448190362:e[135]>1e-35?i=-.14660288310803915:i=-.07298980826531443:e[135]>1e-35?i=-.11136111748165503:e[123]>1e-35?i=-.1489448617480049:e[46]>1e-35?i=-.0922792773195811:i=-.024587716086845016;let s;e[0]>1e-35?e[2]>2.249904835165133?e[1]>1e-35?e[2]>3.540854293052788?e[3]>2.249904835165133?s=.0590142410559562:e[7]>.6376007852429183?s=.043799948513989724:s=-4018626768373957e-20:s=.0790082705503403:e[38]>1e-35?s=.06581244939148062:e[30]>1e-35?s=.04874874335011108:s=-.03908081910821116:e[3]>2.602003343538398?e[1]>1e-35?s=.0902076086329385:e[30]>1e-35?s=.10143876154366023:s=.021304615514737626:e[2]>1.4978661367769956?s=.10248710197602005:e[8]>1e-35?e[125]>1e-35?s=-.1652240484643952:s=.09695355914385996:s=.12574960258243387:e[1]>1e-35?e[2]>3.8815106545092593?e[3]>2.249904835165133?s=.030411053020370282:e[7]>.8375851232899904?s=.01347947217941036:s=-.02329004077119854:e[7]>.9480659774309611?e[22]>1e-35?s=-.021734552060979462:e[100]>1e-35?s=.12154672718218543:e[3]>1e-35?s=.0467045097539336:s=.07133232987671506:e[4]>2.012675845367575?e[4]>3.9219243190762363?s=.018631928508103857:s=.04026129961424531:s=-.0060403819170799225:e[38]>1e-35?s=.04740678443866351:e[30]>1e-35?s=.022411595432555845:e[2]>2.970085626360216?e[121]>1e-35?s=.016385457091892035:s=-.07115043890873148:e[4]>3.417592293073651?s=-.04057726754591634:e[29]>1e-35?s=-.10601923621749415:s=-.013474385705240824;let a;e[3]>1e-35?e[3]>3.481121732133104?e[30]>1e-35?a=.03419190074885174:e[39]>1e-35?a=-.07596248521514803:e[142]>1e-35?a=-.09906305142951233:e[143]>1e-35?a=-.11544208927241095:e[134]>1e-35?a=.03231677158309109:e[217]>1e-35?a=.04584520241402839:a=-.014587374070287719:e[30]>1e-35?e[141]>1e-35?a=-.05022127515891476:e[6]>3.540854293052788?a=.046006786519929344:e[3]>2.3502401828962087?a=.03746852485580482:a=.11887634683908754:e[142]>1e-35?a=-.0715680845257123:e[134]>1e-35?a=.05310603374316432:e[39]>1e-35?a=-.05301061369502469:e[143]>1e-35?a=-.06806923450459589:e[21]>1e-35?a=-.054617004299251364:e[113]>1e-35?e[6]>3.795426061844291?a=.03901365322581413:a=.11833310693969545:e[141]>1e-35?a=-.039041289505442084:e[3]>3.0677824455408698?a=.010823236602311471:e[29]>1e-35?a=-.062100944449970996:e[58]>1e-35?a=-.04585181543113668:e[99]>1e-35?a=.053796582993543764:e[100]>1e-35?e[6]>3.676220550121792?a=.02800134029424525:a=.12622387863644666:e[98]>1e-35?a=.06289940430905602:a=.023655750883710656:e[138]>1e-35?a=.09902929683374195:e[6]>5.161920636569023?a=.07160940969782595:e[141]>1e-35?a=.11975693334861698:a=.03480602671098732;let l;e[0]>1e-35?e[2]>2.4414009612931857?e[1]>1e-35?e[2]>4.600145018061341?l=.02024868069387139:e[2]>3.1984648276080736?l=.048682024362267456:l=.07158946327961134:e[134]>1e-35?l=.05360858064017479:e[30]>1e-35?l=.03969788038954029:e[39]>1e-35?l=-.1339275468398512:l=-.03340699462411555:e[1]>1e-35?e[2]>1.2424533248940002?l=.09338368602561321:e[5]>4.5379471377116305?l=.11818377094705468:l=.02406138301472482:e[30]>1e-35?l=.08786833398626331:l=.031294938606502315:e[1]>1e-35?e[2]>2.970085626360216?e[29]>1e-35?e[2]>4.923617305492666?l=-.0247806554659429:l=.00415615978158072:e[4]>2.138333059508028?e[4]>3.6505739029280164?l=-.0025888569756007704:l=.033556460788819964:l=-.011238496891848667:e[5]>3.5694334999727624?e[4]>2.012675845367575?e[2]>.8958797346140276?l=.03964701920383755:l=.024902380380505313:e[141]>1e-35?l=-.07221122170573789:l=.009221806859728395:e[2]>.8958797346140276?l=.09633850035166669:l=.007323280248710229:e[134]>1e-35?l=.038330704525669945:e[30]>1e-35?l=.01660549386778516:e[2]>2.524928003624769?e[217]>1e-35?l=.008967266036665084:e[29]>1e-35?l=-.12693911437262784:l=-.05779560753585583:e[29]>1e-35?l=-.0908743155940788:e[4]>3.314020688089767?l=-.030882471980034343:l=-.010429019903489632;let c;e[0]>1e-35?e[2]>2.138333059508028?e[1]>1e-35?e[2]>3.4498615536424366?e[3]>2.249904835165133?c=.04956831432894648:e[2]>5.223051249395764?c=-.010305811579773205:c=.027491320728082233:c=.06656735137915168:e[38]>1e-35?c=.05309749470598965:e[30]>1e-35?c=.03843762763805799:c=-.030980078724697425:e[3]>1e-35?e[1]>1e-35?c=.08089335516186445:c=.04120452858949669:e[6]>4.832297822126891?e[2]>.8958797346140276?c=.10006865536846919:c=.11917243570572485:e[8]>1e-35?e[2]>.8958797346140276?c=.06704577104028654:c=-.1454046740476985:e[219]>1e-35?c=-.13678871665753098:c=.07859247859374968:e[1]>1e-35?e[2]>3.314020688089767?e[3]>2.249904835165133?c=.024623237775190106:e[2]>4.73179313355342?c=-.02080435685185878:c=.0026175118278487855:e[6]>3.417592293073651?e[22]>1e-35?c=-.025465692791530083:e[45]>1e-35?c=-.044807460105408044:e[8]>1e-35?c=.008766235663186964:c=.032712521408248645:e[3]>2.602003343538398?c=-.0056332432294706036:e[6]>2.524928003624769?c=.09592889105245415:c=-.013339150198983546:e[38]>1e-35?c=.03563564253379704:e[30]>1e-35?c=.014870517098142924:e[2]>2.970085626360216?c=-.054537994223319376:e[219]>1e-35?c=-.13242819761683536:e[39]>1e-35?c=-.0910629106840573:c=-.01970485337755703;let u;e[0]>1e-35?e[2]>2.012675845367575?e[1]>1e-35?e[2]>3.4498615536424366?e[7]>.9246495578512688?u=.04812308497880073:e[29]>1e-35?u=.0005380021336956461:u=.03361690381564229:e[5]>3.5694334999727624?u=.05947219194425965:u=.11024468105183681:e[134]>1e-35?u=.04905351957215242:e[138]>1e-35?u=.05554447267811877:u=-.021863233324542066:e[29]>1e-35?e[5]>4.855921334140645?e[2]>.8958797346140276?u=.09590438270550732:u=.11498869480105023:u=.04093609484315685:u=.06588820186431316:e[1]>1e-35?e[2]>2.970085626360216?e[29]>1e-35?e[7]>.41763374498947375?u=.0043146758499583255:u=-.03443798345003191:e[58]>1e-35?u=-.08355523706358281:u=.017928058505534663:e[5]>3.5694334999727624?e[22]>1e-35?u=-.02209335592785362:e[2]>.8958797346140276?u=.03223396066919647:u=.0170789547385017:e[7]>.9546729796082215?e[2]>.8958797346140276?u=.09545837551902411:u=.008923660539643153:u=-.012322532316048181:e[134]>1e-35?u=.03182502017906531:e[138]>1e-35?e[29]>1e-35?u=-.06617589040350445:u=.040440282181288686:e[2]>2.802901033147999?u=-.043412758816960974:e[219]>1e-35?u=-.11700143817568372:e[48]>1e-35?u=-.11379636451926181:e[49]>1e-35?u=-.14202838670262277:e[39]>1e-35?u=-.08160450909782378:u=-.013448620144296253;let f;e[1]>1e-35?e[2]>2.602003343538398?e[3]>2.249904835165133?e[4]>3.6505739029280164?f=.004170792297448336:f=.0368033867902024:e[7]>.8333442551332461?e[2]>4.677480030793064?f=.009136341105716223:f=.03568813371096505:e[7]>.22301866079069904?e[2]>5.1209788959100075?f=-.02365589472388456:f=.00919157417627931:f=-.0379399276194825:e[3]>1e-35?e[5]>3.5694334999727624?e[2]>.8958797346140276?e[22]>1e-35?f=-.019258819649469603:f=.03709105125649261:f=.016860660630369267:e[3]>2.602003343538398?f=-.00991261350028801:e[7]>.9626084674797213?f=.11517814309711256:f=-.009719045525281071:e[2]>1.2424533248940002?e[7]>.7316379010844482?f=.07097600019370685:f=.04586465946843457:e[6]>4.783307617946789?f=.09722756919612678:e[8]>1e-35?e[7]>.9793410316570949?f=-.11805054859481241:f=.07110946491407406:f=.05402719662002902:e[134]>1e-35?f=.03393227005537922:e[30]>1e-35?f=.023661319650909306:e[2]>2.970085626360216?e[121]>1e-35?f=.031049210793405797:e[135]>1e-35?f=-.10837216222444626:e[219]>1e-35?f=-.14640457784236915:f=-.03965818070110935:e[121]>1e-35?f=.039992710146502054:e[143]>1e-35?f=-.09311937611688731:e[46]>1e-35?f=-.07559392834101462:e[219]>1e-35?f=-.09895720087616466:e[135]>1e-35?f=-.07586062007425573:f=-.011775153504486295;let m;e[1]>1e-35?e[3]>1e-35?e[141]>1e-35?m=-.03681630636575175:e[22]>1e-35?m=-.024594313135047084:e[7]>.9626084674797213?e[6]>3.676220550121792?m=.03355559026428929:e[3]>2.602003343538398?m=.012516956280523336:m=.1113827943542528:e[3]>2.3502401828962087?e[39]>1e-35?m=-.03483153469277968:e[29]>1e-35?m=-.06012725416594425:m=.03180949281577552:e[3]>1.2424533248940002?m=.007572391854701212:m=-.04833059473573461:e[7]>.5866799179067689?e[138]>1e-35?m=.084956566507563:e[7]>.9407436463973539?e[6]>5.161920636569023?m=.07174368742657447:e[7]>.9793410316570949?m=.024186357466630726:m=.07739671408330714:m=.048429456456843774:e[6]>5.078289090109146?e[138]>1e-35?m=.07555203090037793:m=.033181836695182196:m=-.02197298038836975:e[38]>1e-35?m=.031334580210504996:e[30]>1e-35?m=.021270582199851534:e[121]>1e-35?m=.0329970846397004:e[42]>1e-35?m=.04064092183581017:e[135]>1e-35?m=-.08440485061890712:e[219]>1e-35?m=-.10638369254266776:e[143]>1e-35?m=-.09755269717731242:e[144]>1e-35?m=-.1173397395002877:e[51]>1e-35?m=-.1288517354356988:e[49]>1e-35?m=-.13923283846721088:e[91]>1e-35?m=-.1224188861275682:e[3]>3.156774023138548?m=-.02477169567121223:m=-.006917307470148426;let h;e[2]>2.802901033147999?e[7]>.9159108669154322?e[3]>3.314020688089767?h=-.0010700017432373199:e[2]>4.832297822126891?h=.009582861728698568:h=.029780100164495754:e[30]>1e-35?e[210]>1e-35?h=-.028942339056712313:h=.020599853201598167:e[3]>3.540854293052788?h=-.030156164189210577:e[2]>4.620046665062766?e[3]>1.8688348091416842?h=-.00103151911027294:e[217]>1e-35?h=.005930672148987754:h=-.03586108945255643:h=.004417350848115493:e[3]>1e-35?e[2]>.8958797346140276?e[5]>3.5694334999727624?e[3]>3.6242520361853052?e[30]>1e-35?h=.02388317653477103:h=-.0034021644637823034:e[125]>1e-35?h=-.059034648546006076:e[18]>1e-35?h=-.02514305472376584:e[46]>1e-35?h=-.05290744310611087:e[21]>1e-35?h=-.03750702516022783:e[39]>1e-35?h=-.031092446888446753:h=.028272541588979773:e[7]>.9676186228082213?e[3]>2.602003343538398?h=-.009169247394016047:h=.11347856526033356:h=-.00310251177264949:e[2]>1e-35?h=.00844340216096322:h=-.00894414829369423:e[2]>1.4978661367769956?e[7]>.6223082132708274?e[6]>3.0677824455408698?h=.04885293193722139:h=.10736598620828455:h=.026545392586289893:e[6]>4.938058177869999?e[2]>.8958797346140276?h=.07355143458077283:h=.09420954595651049:e[8]>1e-35?e[2]>.8958797346140276?h=.07966619891180966:h=-.10471235843714122:h=.04867207725748343;let p;e[1]>1e-35?e[3]>1e-35?e[5]>3.5694334999727624?e[3]>2.249904835165133?e[22]>1e-35?p=-.0262424908256809:e[8]>1e-35?p=.001637419319408071:e[155]>1e-35?p=.053444838794586114:e[99]>1e-35?p=.05039717103923269:p=.02448689278350471:e[141]>1e-35?p=-.05723199469388615:p=.005411562031545046:e[7]>.9626084674797213?e[3]>2.602003343538398?p=.00980665121101267:p=.10420505846679201:p=-.001639851950872336:e[7]>.26911173821332884?e[138]>1e-35?p=.07591724033622518:e[7]>.9275861021112151?e[5]>5.173316863805991?p=.06276466446882598:e[194]>1e-35?p=-.1330802382498368:e[5]>3.156774023138548?e[8]>1e-35?p=-.027034262965141144:p=.03949417085855365:p=.08851962788853085:e[9]>1e-35?p=.05379608621573637:p=.032253635727649325:e[138]>1e-35?p=.058048925881989615:p=.005620237500451222:e[134]>1e-35?p=.02734220426041116:e[30]>1e-35?p=.017746745665275825:e[142]>1e-35?p=-.07814745820732061:e[143]>1e-35?p=-.08860968498533135:e[14]>1e-35?p=.01954819512523945:e[42]>1e-35?p=.03333354798081121:e[147]>1e-35?p=-.11642554317575503:e[49]>1e-35?p=-.12425086420883341:e[146]>1e-35?p=-.12996952774815626:e[3]>3.817651943129708?p=-.03275661606585881:p=-.014860694091417102;let A;e[1]>1e-35?e[2]>2.524928003624769?e[3]>2.249904835165133?e[3]>3.725620842493839?A=-.000906155627647317:e[24]>1e-35?A=.0785324151067157:e[154]>1e-35?A=-.058309500036909157:A=.026762512119806844:e[7]>.26911173821332884?e[2]>4.505334588423558?A=-.010584135839537876:A=.013982545022862853:A=-.03208712711019827:e[3]>1e-35?e[2]>.8958797346140276?e[5]>3.5694334999727624?A=.026401003398891884:e[3]>2.602003343538398?A=-.008168418058515686:e[7]>.9662372103242399?A=.10626422692131453:A=-.01031637351522216:A=.010358942714602982:e[2]>1.2424533248940002?e[2]>2.012675845367575?A=.0312811686023135:A=.05423507965224627:e[6]>4.832297822126891?A=.08479742987484738:e[8]>1e-35?e[7]>.9793410316570949?A=-.09338070882722671:A=.058145805002919916:A=.04227449937397909:e[38]>1e-35?A=.025289091019879376:e[2]>3.1132683346437333?e[3]>.8958797346140276?e[46]>1e-35?A=-.09114331684757576:e[135]>1e-35?A=-.07948190608487016:e[48]>1e-35?A=-.12911151777601662:e[143]>1e-35?A=-.09735205976374478:A=-.017192402584465798:A=-.08661537827420282:e[217]>1e-35?A=.033425023239885124:e[14]>1e-35?A=.02729990952110066:e[48]>1e-35?A=-.09098188061865646:e[46]>1e-35?A=-.05848458618550134:e[91]>1e-35?A=-.10969774095556883:A=-.0068971807474334365;let x;e[1]>1e-35?e[3]>1e-35?e[3]>1.2424533248940002?e[125]>1e-35?x=-.06150017523108556:e[39]>1e-35?x=-.03350257370473994:e[22]>1e-35?x=-.02193617429266551:e[8]>1e-35?x=7274245146620154e-20:e[6]>3.676220550121792?e[4]>2.3502401828962087?x=.026702786904914785:x=.00851181280021978:e[4]>2.673553765358735?x=.010358811529123666:e[6]>2.802901033147999?x=.08891517935366504:x=.023114323891227237:x=-.02875694375159779:e[4]>1.7005986908310777?e[138]>1e-35?x=.06720372648635974:e[6]>5.427147823217923?e[9]>1e-35?x=.0544777682515472:x=.037060547607205986:e[6]>1e-35?x=.022016394753027843:x=-.1559604133821172:e[6]>3.540854293052788?x=-.009372509268454739:x=-.24388295956457617:e[38]>1e-35?x=.023012278764368795:e[138]>1e-35?x=.03564423186175008:e[30]>1e-35?x=.008093643695090883:e[217]>1e-35?x=.028810461962454004:e[135]>1e-35?x=-.07120877224354143:e[46]>1e-35?x=-.06546454537408128:e[144]>1e-35?x=-.09534262423492412:e[143]>1e-35?x=-.0770344566882831:e[29]>1e-35?x=-.06285371287531509:e[14]>1e-35?x=.02073120300153793:e[123]>1e-35?x=-.09016320513643451:e[51]>1e-35?x=-.10496442920973255:e[3]>3.1132683346437333?x=-.019949599427836494:x=-.0019060085544902166;let E;e[0]>1e-35?e[2]>1.8688348091416842?e[2]>3.1984648276080736?e[1]>1e-35?e[3]>2.249904835165133?E=.03174009468268253:e[2]>5.363634090365639?E=-.019608371322822362:E=.012560836552403976:E=-.006925466014569184:e[1]>1e-35?E=.047796055675515446:E=.014363935217773802:e[6]>5.391349638084432?e[2]>.8958797346140276?e[3]>1e-35?E=.05193425865217324:E=.07891754708034264:E=.09859506024630252:e[8]>1e-35?e[5]>4.424828703319957?E=.0288226384042998:E=-.09397342098461306:e[4]>.8958797346140276?E=.06181532763949055:e[3]>1e-35?E=.0661728888522049:E=-.18938681666136592:e[2]>3.6242520361853052?e[30]>1e-35?E=.005754128097002715:e[4]>1.7005986908310777?e[1]>1e-35?e[3]>1.8688348091416842?E=.003940381852503271:E=-.01767544594631589:e[134]>1e-35?E=.005683243725945637:E=-.033167818200618454:E=-.049739953036904844:e[1]>1e-35?e[5]>3.417592293073651?e[3]>2.249904835165133?e[3]>4.051747139190486?E=-.013281167238314323:E=.016971087295600894:E=-.0032296953806057044:e[8]>1e-35?e[3]>1e-35?E=-.09772932329003692:E=.10215199291158968:e[3]>1e-35?E=.04042124133857408:e[4]>1.7005986908310777?E=-.03780917296974188:E=-.29617407728303585:e[3]>1.2424533248940002?e[134]>1e-35?E=.019695468056761475:E=-.008073287117671947:E=-.07196945037292647;let v;e[0]>1e-35?e[3]>1e-35?e[30]>1e-35?v=.04565870990720628:e[4]>3.481121732133104?v=-.0010242035152053465:e[46]>1e-35?v=-.06735757101078846:v=.028047085557873476:e[4]>.8958797346140276?v=.061451212522936484:v=-.008994471708946133:e[4]>3.8815106545092593?v=-.015862290359637304:e[4]>1.2424533248940002?e[156]>1e-35?v=-.0353203284829365:e[135]>1e-35?v=-.029955239188290975:e[153]>1e-35?v=-.024262881593313065:e[21]>1e-35?v=-.04039396048201336:e[155]>1e-35?v=.031605649750965394:e[46]>1e-35?v=-.0412690351363074:e[18]>1e-35?v=-.02516534034859168:e[51]>1e-35?v=-.09383050740007202:e[219]>1e-35?e[30]>1e-35?v=.05781620337941066:v=-.031029108058883783:e[54]>1e-35?v=-.1312103962175427:e[14]>1e-35?v=.029309503966067275:e[52]>1e-35?v=-.12376041877584809:e[49]>1e-35?v=-.08405476403385437:e[129]>1e-35?v=-.07017699310303659:e[3]>3.238486181444842?v=.0005864979938663785:e[90]>1e-35?v=-.19027994988708324:e[4]>2.4414009612931857?v=.013036973814688194:e[141]>1e-35?v=-.05866284827055356:e[196]>1e-35?e[3]>1.2424533248940002?e[3]>1.4978661367769956?v=.021738540839636195:v=.10410506831002041:v=-.25590968590756463:v=.0023982515170817725:v=-.04143304307857132;let b;e[0]>1e-35?e[2]>1.8688348091416842?e[2]>3.417592293073651?e[2]>5.335128436483344?b=-.011443269019739626:e[1]>1e-35?b=.015228192424880932:b=-.005492858431736962:e[1]>1e-35?e[5]>3.5694334999727624?b=.03605247912942737:b=.08439131345296227:b=.009650676995478455:e[5]>5.096808314315481?e[2]>.8958797346140276?e[29]>1e-35?b=.07077360688836766:b=.044754385330663386:b=.09313294724999382:e[8]>1e-35?e[2]>.8958797346140276?b=.04214845406094496:b=-.10283747682230321:e[4]>.8958797346140276?b=.05232959789940822:e[2]>.8958797346140276?b=.00730829946441921:b=-.23825070451282065:e[7]>.9358314658959646?e[5]>3.417592293073651?e[8]>1e-35?b=-.013117301012430346:b=.010418379595902224:e[19]>1e-35?b=-.07514668047310291:b=.05032486941219513:e[29]>1e-35?e[1]>1e-35?e[7]>.14547530463198097?e[4]>2.138333059508028?b=-.009576060406554683:b=-.04582944318062007:b=-.04685159067258116:b=-.07022291581850879:e[1]>1e-35?e[4]>2.3502401828962087?e[4]>3.8815106545092593?b=-.008313873320272646:e[140]>1e-35?b=-.029352675967497712:e[37]>1e-35?b=-.09937923794037767:b=.015967772276156707:b=-.009857373135428817:e[38]>1e-35?b=.011345159604794278:e[2]>2.4414009612931857?e[30]>1e-35?b=.001522017389940959:b=-.026992183902105407:b=-.006358778971076675;let S;e[0]>1e-35?e[2]>1.8688348091416842?e[2]>2.970085626360216?e[7]>.8649016459419877?S=.018617011644318126:e[29]>1e-35?e[2]>4.832297822126891?S=-.03407648259949232:S=-.0036502511604675977:e[4]>3.540854293052788?S=-.00934040898683245:S=.010922739771398862:e[7]>.9676186228082213?S=.05137169375874399:S=.02682190004807807:e[29]>1e-35?e[2]>.8958797346140276?S=.065076078729683:e[8]>1e-35?e[7]>.9750059495478345?e[7]>.996914501566243?S=.08915557171019604:S=-.06286636147644172:S=.0902247220475161:e[4]>.8958797346140276?S=.09051085461905525:e[9]>1e-35?S=-.19701197524821418:S=.005536577088671752:e[30]>1e-35?S=.0682573098268795:S=.031380692115494484:e[2]>4.151008904875603?e[155]>1e-35?S=.026867659395235544:e[7]>.5866799179067689?S=-.008345671861059714:S=-.02185200164340811:e[7]>.9626084674797213?e[22]>1e-35?S=-.024341883095402903:e[141]>1e-35?e[29]>1e-35?S=.08888912525147288:S=-.040584195806350004:S=.014817521849450843:e[4]>1.7005986908310777?e[4]>3.9219243190762363?S=-.01259238316205765:e[156]>1e-35?S=-.03305969547622109:e[50]>1e-35?S=-.10133912689920138:e[155]>1e-35?S=.025358210175047153:e[55]>1e-35?S=-.14645261489281414:e[9]>1e-35?S=.012035823488806215:S=.0010743871783232305:S=-.030440082321355873;let B;e[0]>1e-35?e[1]>1e-35?e[7]>.30853255358841714?e[4]>.8958797346140276?e[138]>1e-35?B=.0708169212387357:e[7]>.9974623466432676?B=.06323909894881967:B=.04463133906529934:B=-.006876640569960593:e[4]>2.138333059508028?B=.02983313061920756:B=-.012849740499321841:e[138]>1e-35?B=.05170725384597862:e[134]>1e-35?B=.03407970940934425:e[32]>1e-35?B=.04641257566344885:e[217]>1e-35?B=.04726549849359106:e[152]>1e-35?B=.04284855498215312:B=-.018635981778740818:e[7]>.9358314658959646?e[1]>1e-35?B=.013495195381145214:B=-.0017562536904350947:e[153]>1e-35?B=-.035450683955968364:e[135]>1e-35?B=-.033677490938511655:e[1]>1e-35?e[156]>1e-35?B=-.03492338371344172:e[4]>2.012675845367575?e[8]>1e-35?B=-.012478407554855247:e[58]>1e-35?B=-.06588308463544146:B=.01024668455910621:B=-.017964352445712636:e[138]>1e-35?B=.023509519134334668:e[134]>1e-35?B=.009985116251562821:e[219]>1e-35?B=-.08089904073615993:e[144]>1e-35?B=-.08668450969211726:e[146]>1e-35?B=-.11193950701534479:e[91]>1e-35?B=-.09510832561737878:e[47]>1e-35?B=-.06671901650698997:e[145]>1e-35?B=-.10185972302071798:e[142]>1e-35?B=-.050979038763275586:B=-.008318124414257324;let P;e[2]>2.4414009612931857?e[7]>.5866799179067689?e[1]>1e-35?e[2]>5.059420419187638?P=-.004966114458456121:e[3]>1.4978661367769956?e[6]>3.9219243190762363?P=.016160825033090097:e[4]>2.673553765358735?P=-.008119911797705546:e[7]>.9676186228082213?P=.10191214482603793:P=.010406721157764452:e[4]>2.602003343538398?P=.011963972867583182:e[209]>1e-35?e[24]>1e-35?P=-.4633165603515741:P=-.027241411195905924:P=-.01021341522779383:e[3]>.8958797346140276?e[39]>1e-35?P=-.07106669495723826:P=-.003949154414882924:P=-.06434150131915288:e[3]>1.7005986908310777?e[1]>1e-35?P=.005050893558647285:P=-.01649483548684653:e[217]>1e-35?P=.0027009145619870485:e[7]>.16413460456379095?P=-.021492035902356262:P=-.04956173856083012:e[3]>1e-35?e[2]>.8958797346140276?e[4]>3.314020688089767?P=.004614615289098078:e[125]>1e-35?P=-.053838919278819175:e[141]>1e-35?P=-.031232660335016666:e[7]>.9676186228082213?P=.031522536832188655:P=.016369948821613637:P=-.001970208279177045:e[2]>1.2424533248940002?e[7]>.8045995506441456?e[6]>3.0677824455408698?P=.035653122678366796:P=.09668798382116887:P=.017192957672541906:e[6]>5.427147823217923?e[2]>.8958797346140276?P=.05167603828162103:P=.07201242912898732:e[4]>.8958797346140276?e[6]>4.3882378946731615?P=.04079789432551034:P=-.00477197753110532:P=-.1330224689055222;let F;e[0]>1e-35?e[1]>1e-35?e[6]>5.519456907163478?e[3]>1e-35?F=.025938224253040522:e[7]>.9480659774309611?F=.06369970668749851:F=.04567224211157202:e[8]>1e-35?F=-.03272937728465352:e[7]>.8002228006195066?e[219]>1e-35?F=-.06304921759586735:F=.04293432033794005:F=.0034607309539607385:e[30]>1e-35?F=.03333728636724803:e[134]>1e-35?F=.03171739664928598:e[32]>1e-35?F=.04247521237473512:e[217]>1e-35?F=.04515237436183519:e[138]>1e-35?F=.043674672816657406:F=-.021495642896979555:e[153]>1e-35?e[7]>.7405695827634472?F=-.005353425538700483:F=-.03818743916821677:e[1]>1e-35?e[156]>1e-35?F=-.026937004040991603:e[9]>1e-35?F=.01687211330975012:e[129]>1e-35?F=-.06344334253531962:e[5]>3.276966702012906?e[3]>2.4414009612931857?e[3]>4.3882378946731615?F=-.029787052855333836:e[140]>1e-35?F=-.0315337765152156:F=.01010125865272709:F=-.003643087951301554:e[3]>1.8688348091416842?F=-.009293469974765106:e[7]>.9407436463973539?e[19]>1e-35?F=-.10837629052758145:F=.08012552652666853:F=-.03240188731353479:e[3]>.8958797346140276?e[138]>1e-35?F=.028089541906112948:e[134]>1e-35?F=.011775653029555359:e[54]>1e-35?F=-.1329256322319015:F=-.010520589644656487:F=-.058476715353390545;let q;e[0]>1e-35?e[2]>1.7005986908310777?e[2]>2.970085626360216?e[3]>1.4978661367769956?e[1]>1e-35?q=.015966021866473425:q=-.004942501766182043:e[7]>.7646034107159144?q=.0008922354520049755:q=-.02377096637770522:e[1]>1e-35?q=.03185471115279236:q=.009030463601278762:e[6]>5.033695261903033?e[2]>.8958797346140276?e[3]>1e-35?q=.03583918176912262:q=.05978765203310842:e[3]>1.4978661367769956?q=.04363706154403441:q=.08596238935719265:e[8]>1e-35?e[4]>3.676220550121792?q=-.14139420543234502:e[6]>4.135134555718313?q=.06641653507737781:q=-.08482961471233386:e[219]>1e-35?q=-.08432601495298837:q=.036383288293587494:e[2]>4.212100162283537?e[4]>4.06899022722607?q=-.027653216441781994:e[4]>1.2424533248940002?q=-.0074990353344818825:q=-.047274115298751654:e[3]>4.350257124271638?q=-.021535524001034215:e[7]>.9626084674797213?e[6]>3.314020688089767?q=.008343192891130257:e[3]>2.602003343538398?q=-.029175290449111352:e[19]>1e-35?q=-.0982821612709299:q=.07967468666491928:e[3]>2.012675845367575?e[1]>1e-35?e[141]>1e-35?q=-.050000478457880464:e[99]>1e-35?q=.03066844761711629:q=.00757148708610041:e[14]>1e-35?q=.030325269400598688:e[138]>1e-35?q=.029925649226634522:q=-.005865781126590595:e[7]>.14547530463198097?q=-.006746433384005582:q=-.03419211369300411;let ne;e[7]>.8453853180651066?e[9]>1e-35?e[204]>1e-35?e[5]>3.979637980058199?ne=.03492440471960614:ne=.10640952227810228:ne=.024674544399570984:e[21]>1e-35?ne=-.03056548710005192:e[24]>1e-35?ne=.04417102228084844:e[18]>1e-35?e[5]>3.417592293073651?ne=-.01915628728670732:ne=.08218968786016527:e[22]>1e-35?ne=-.015022557207326592:e[7]>.9941118339384912?ne=.024199625103362956:e[135]>1e-35?ne=-.01204089678887213:e[5]>3.156774023138548?e[14]>1e-35?ne=.03343354440638259:e[144]>1e-35?ne=-.06832894943893354:ne=.0114980261254499:e[12]>1e-35?e[100]>1e-35?ne=.09915326976032354:ne=-.011405707270850872:ne=.05400113313957842:e[138]>1e-35?ne=.029070115198082648:e[7]>.11348809759407426?e[9]>1e-35?ne=.0124381999772114:e[14]>1e-35?ne=.021548670539672424:e[152]>1e-35?ne=.02386756199239544:e[155]>1e-35?ne=.024879667358339554:e[217]>1e-35?ne=.014495299809094343:e[17]>1e-35?ne=.023665548251738264:e[21]>1e-35?ne=-.04352613176288253:e[142]>1e-35?ne=-.041479100066479035:e[47]>1e-35?ne=-.054730987834988636:e[135]>1e-35?ne=-.02041552814087628:e[12]>1e-35?ne=.00599257601351913:e[19]>1e-35?ne=.017289098956116435:ne=-.005346146967029123:ne=-.015035114021856248;let ce;e[2]>2.524928003624769?e[39]>1e-35?ce=-.054727205204329936:e[2]>5.1209788959100075?e[3]>1.7005986908310777?ce=-.006846267565269392:e[5]>6.826002629905951?ce=-.031164989612379426:ce=-.002741497453668024:e[91]>1e-35?ce=-.09671408062751485:e[4]>1.4978661367769956?e[1]>1e-35?e[3]>2.249904835165133?ce=.01457038163563883:e[7]>.1998775237752378?ce=.0022386178156093236:ce=-.023878153904868322:e[138]>1e-35?ce=.02577301491883366:e[134]>1e-35?ce=.012196636151923639:ce=-.011620066788940737:ce=-.02547345266933859:e[3]>1e-35?e[2]>1e-35?e[1]>1e-35?e[125]>1e-35?ce=-.054140900037670386:e[5]>3.5694334999727624?ce=.011956526123643832:e[3]>2.602003343538398?ce=-.02114925328017154:e[7]>.9662372103242399?ce=.08782010508103752:ce=-.017223208918198857:e[138]>1e-35?ce=.03552967765214556:e[134]>1e-35?ce=.02029988465200251:ce=-.0027071098830831453:ce=-.010563423003945922:e[2]>1.2424533248940002?e[1]>1e-35?e[5]>3.156774023138548?ce=.020789754957971127:e[8]>1e-35?ce=.09676607622337308:ce=-.13431522143386382:ce=-.04328684841078818:e[6]>5.427147823217923?e[2]>.8958797346140276?ce=.04286558286931383:ce=.0632450248289209:e[4]>.8958797346140276?e[8]>1e-35?e[4]>3.676220550121792?ce=-.12134536828900527:ce=-.0021406313647826976:ce=.02703554321037796:ce=-.10987991092748431;let Z;e[3]>3.238486181444842?e[30]>1e-35?Z=.009506310623811853:e[39]>1e-35?Z=-.0390989997202559:e[187]>1e-35?Z=-.07249802958837052:e[46]>1e-35?Z=-.05080833699879983:e[143]>1e-35?Z=-.06014247774751084:e[219]>1e-35?Z=-.05179602905357869:e[6]>6.1537953943602615?e[15]>1e-35?Z=-.025022238573512268:Z=.0011147676050071987:Z=-.013840284878987585:e[7]>.9626084674797213?e[5]>3.417592293073651?e[3]>1e-35?e[6]>3.9219243190762363?Z=.008593726678003006:Z=.05272960047875293:e[5]>4.424828703319957?Z=.03164186747443643:Z=-.019512539098210834:e[3]>2.602003343538398?Z=-.0016290671598964486:e[3]>1.2424533248940002?e[8]>1e-35?Z=-.1920669264002081:Z=.09024848315677546:e[8]>1e-35?Z=.06434775905745808:e[44]>1e-35?Z=.11389595321585716:Z=-.036695137521575945:e[6]>4.987019604243537?e[141]>1e-35?Z=-.03813401544172915:e[138]>1e-35?Z=.029859363038130183:e[58]>1e-35?Z=-.06135288076045784:e[39]>1e-35?Z=-.04609789446034826:e[7]>.14547530463198097?e[11]>1e-35?Z=.0007666746170242386:e[129]>1e-35?Z=-.04984156530077896:e[18]>1e-35?Z=-.01554744241744757:e[10]>1e-35?e[219]>1e-35?Z=-.043774129950223145:Z=.0062051346459236715:Z=.014331149613197688:Z=-.004868728135790881:Z=-.009310258638274059;let G;e[0]>1e-35?e[2]>1.7005986908310777?e[2]>3.817651943129708?e[3]>1.8688348091416842?G=.0015603015891380355:G=-.018128739944024166:e[5]>3.5694334999727624?e[6]>5.427147823217923?G=.017445711714402918:G=-.006013735620008879:e[3]>1.2424533248940002?G=.08568755276415789:e[4]>2.602003343538398?G=.03195371214541369:e[6]>2.970085626360216?G=-.3506562612672139:G=-.038898555979475155:e[6]>5.391349638084432?e[2]>.8958797346140276?G=.04755052122467952:e[3]>1.4978661367769956?G=.03861414711908666:G=.08185303441168128:e[8]>1e-35?e[5]>4.424828703319957?G=.016473058697350277:G=-.08025494910794358:e[219]>1e-35?G=-.06606152909975703:G=.033955083083682974:e[153]>1e-35?G=-.022769519242142378:e[155]>1e-35?G=.021917770434351808:e[3]>4.051747139190486?G=-.016298405734735375:e[4]>1.2424533248940002?e[156]>1e-35?G=-.023334559703496013:e[91]>1e-35?G=-.07354920004445119:e[21]>1e-35?G=-.03472005783841508:e[9]>1e-35?G=.0088614848397155:e[152]>1e-35?G=.01650058356046536:e[50]>1e-35?G=-.08689386936995537:e[219]>1e-35?G=-.025293957964644554:e[22]>1e-35?G=-.02911571993589908:e[52]>1e-35?G=-.10060771324188006:e[151]>1e-35?G=-.11187645020980451:e[49]>1e-35?G=-.07269389735370566:G=.00010096962399904588:G=-.0308050484468705;let U;e[0]>1e-35?e[2]>1.7005986908310777?e[2]>3.1132683346437333?e[2]>5.589117819455554?U=-.01634394676179118:e[135]>1e-35?U=-.025978770194490092:U=.003478202132522329:e[5]>3.772694874805912?e[6]>5.55101783490842?U=.0201238113260563:U=-.003889163967162744:U=.0619995705843029:e[6]>5.391349638084432?e[2]>.8958797346140276?U=.04441301244720888:U=.07580163057048642:e[5]>4.424828703319957?U=.030400021609279876:e[135]>1e-35?e[6]>4.03420147928485?U=-.1614949959350695:U=.011868201115510678:e[144]>1e-35?U=-.24480189212017833:U=.00743113235503554:e[135]>1e-35?U=-.02500550080046047:e[155]>1e-35?U=.019914668189284807:e[14]>1e-35?U=.016272311078771865:e[2]>4.436734027666816?U=-.010942143677155697:e[152]>1e-35?U=.01655515192923104:e[5]>3.276966702012906?e[208]>1e-35?U=.01544696196221499:e[209]>1e-35?U=.011686634595667988:e[204]>1e-35?U=.012948259428096241:e[54]>1e-35?U=-.0987840586310838:e[17]>1e-35?U=.019642065140602974:e[9]>1e-35?U=.002408217148588979:e[129]>1e-35?U=-.051760999013377655:e[53]>1e-35?U=-.12326801905337725:e[156]>1e-35?U=-.027148214121600067:U=-.00591946140033722:e[141]>1e-35?U=.08076229481403298:e[100]>1e-35?U=.09029873540689846:U=.004633440115146894;let ie;e[1]>1e-35?e[4]>2.138333059508028?e[9]>1e-35?e[7]>.9738681190948303?e[4]>2.249904835165133?ie=.0335386338744903:ie=.08871810783567416:ie=.019225035967642936:e[7]>.5866799179067689?e[44]>1e-35?ie=-.028577747938027556:e[22]>1e-35?ie=-.017080349342057245:e[123]>1e-35?ie=-.06459630434555787:ie=.01496396100048332:e[7]>.04507521918085865?ie=.0037545927605624665:ie=-.024364818555823085:e[7]>.3301972011875425?e[4]>.8958797346140276?ie=.003955118988355861:ie=-.024852972286710795:e[210]>1e-35?ie=-.06918033561606161:ie=-.016436360434421187:e[219]>1e-35?ie=-.07074619361594191:e[14]>1e-35?ie=.02288621182895308:e[30]>1e-35?ie=.009951065285890723:e[4]>3.0677824455408698?e[48]>1e-35?ie=-.08645289278185848:e[18]>1e-35?ie=-.07128859518483391:e[46]>1e-35?ie=-.059012415377229614:e[51]>1e-35?ie=-.09897820075751956:e[143]>1e-35?ie=-.0658809793369211:e[39]>1e-35?ie=-.05072244120975425:e[145]>1e-35?ie=-.1041573357946847:e[21]>1e-35?ie=-.07265724033978356:e[121]>1e-35?ie=.032340406020414894:e[150]>1e-35?ie=-.12780465144045577:e[50]>1e-35?ie=-.10084067045905792:ie=-.008282579596590931:e[31]>1e-35?ie=.09475423612489574:e[134]>1e-35?ie=.016436600209473996:ie=-.0032052350949025154;let J;e[0]>1e-35?e[1]>1e-35?e[6]>5.980149988077803?e[3]>1e-35?J=.016868562767356994:e[7]>.9480659774309611?J=.0490126593301439:J=.03183712887814021:e[4]>.8958797346140276?e[8]>1e-35?J=-.018344689935240077:e[7]>.5762123732244849?J=.027823839417468396:J=.0022237549483396734:J=-.049221463486990365:e[30]>1e-35?J=.024881540664409785:e[4]>3.0677824455408698?J=-.012956173562801246:J=.010844244442972509:e[153]>1e-35?J=-.021011529883710918:e[135]>1e-35?J=-.022862755771243214:e[91]>1e-35?J=-.06523564179230792:e[3]>4.3372693810700085?J=-.01836396186345982:e[4]>1.2424533248940002?e[14]>1e-35?J=.018063557788938384:e[1]>1e-35?e[58]>1e-35?J=-.05666864992513037:e[37]>1e-35?J=-.09859173931566362:e[140]>1e-35?J=-.026368697925604742:e[139]>1e-35?J=-.06458698835998881:e[3]>2.4414009612931857?e[8]>1e-35?J=-.012750470980894203:e[128]>1e-35?J=-.06062526587440112:J=.011637315217958607:e[7]>.9569480028661056?e[6]>3.314020688089767?e[6]>8.256477558772088?J=-.01867324944649552:J=.013333709765106694:e[19]>1e-35?J=-.0862336521704207:J=.06263843669460754:J=-.005209374987876728:e[29]>1e-35?J=-.05314556259108334:e[144]>1e-35?J=-.06747511467043471:J=-.0032459743896180644:J=-.025647852465095045;let H;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>2.802901033147999?e[153]>1e-35?H=-.028446025186518367:e[135]>1e-35?H=-.030498458478750823:e[4]>1.4978661367769956?H=.0028332406263713176:H=-.029966327008991617:H=.018714561890725637:e[6]>5.033695261903033?e[2]>.8958797346140276?H=.041738631496127304:H=.0701395739744944:e[7]>.9811887196001154?e[28]>1e-35?e[194]>1e-35?H=-.6270617037879163:H=-.14198370205598315:H=-.008029082191082339:H=.03966126215239892:e[153]>1e-35?H=-.018792731305353614:e[135]>1e-35?H=-.020500053366640306:e[156]>1e-35?e[11]>1e-35?H=-.05063175110475535:H=-.0120172710473678:e[147]>1e-35?H=-.06181360325166399:e[7]>.06275229375044648?e[52]>1e-35?H=-.09381845963236321:e[4]>4.424828703319957?H=-.015836182358134197:e[4]>1.2424533248940002?e[48]>1e-35?H=-.047387335727107405:e[50]>1e-35?H=-.07061356901704502:e[151]>1e-35?H=-.09680213548388712:e[46]>1e-35?H=-.028970851669790916:e[123]>1e-35?H=-.035197840867969954:e[49]>1e-35?H=-.06299268464836878:e[149]>1e-35?H=-.10197175263174806:e[58]>1e-35?H=-.03908263666673043:e[22]>1e-35?H=-.021903737116021876:e[2]>.8958797346140276?H=.005307704388235018:H=-.0020984759645931708:H=-.021935509998616008:H=-.01887705116018838;let M;e[2]>2.4414009612931857?e[2]>4.749261159734808?e[219]>1e-35?M=-.0427111578574511:e[153]>1e-35?M=-.030189831687705213:e[135]>1e-35?M=-.03512251542671204:M=-.005813108237155817:e[39]>1e-35?M=-.03612853474204475:e[91]>1e-35?M=-.07347487395456895:e[142]>1e-35?M=-.04314124434818331:e[21]>1e-35?M=-.03933135423264962:e[29]>1e-35?e[6]>4.3882378946731615?e[1]>1e-35?M=-.0015250307417007892:M=-.0490054084929899:e[209]>1e-35?M=-.19107169934362123:M=-.032434842765588306:e[18]>1e-35?M=-.04413318629193353:e[5]>3.772694874805912?M=.004026864766696988:e[7]>.9705672697050661?e[4]>2.602003343538398?M=-.0184663870129198:M=.08888448773905216:M=-.0040785146358560806:e[29]>1e-35?e[2]>1.2424533248940002?e[1]>1e-35?e[5]>3.156774023138548?M=.012676257607559291:e[4]>2.012675845367575?M=.07794141958502514:M=-.23905004122480836:M=-.03904279404529968:e[6]>5.818597045157784?e[1]>1e-35?M=.04439337662833094:M=-.009601154125838422:e[28]>1e-35?e[7]>.9926276364955392?e[156]>1e-35?M=.08495906118788314:e[153]>1e-35?M=.09808912606252018:M=-.41470362752984724:M=.024659633328041372:e[6]>4.3882378946731615?M=.02348696158531392:M=-.011219631635525798:e[2]>.8958797346140276?M=.00764827947682953:M=-.002636723662133651;let j;e[0]>1e-35?e[138]>1e-35?j=.04040206743401164:e[7]>.47159631571429605?e[39]>1e-35?j=-.04204265697956852:e[18]>1e-35?j=-.02345608311313191:e[46]>1e-35?j=-.07250113205332377:e[47]>1e-35?j=-.06901706560471924:e[123]>1e-35?j=-.02471508138476658:e[91]>1e-35?j=-.08527667683257537:e[6]>5.519456907163478?e[7]>.9811887196001154?j=.033642311398086024:j=.019968221974742344:e[6]>3.540854293052788?e[28]>1e-35?e[7]>.9914949911911836?j=-.17171139407761582:j=.033182911468765224:j=.0060896749985828915:e[7]>.9626084674797213?j=.050178751374534494:j=-.008697473314227091:e[6]>5.957131031247307?j=.008840008772752947:j=-.00839587224544437:e[57]>1e-35?j=-.11000065936717814:e[187]>1e-35?j=-.039919217528968265:e[135]>1e-35?j=-.01777859479698383:e[7]>.841541958453746?e[6]>8.681774988134558?j=-.006645633391127337:j=.005363553180866138:e[7]>.06275229375044648?e[141]>1e-35?j=-.028575934798358252:e[147]>1e-35?j=-.06523418671938815:e[53]>1e-35?j=-.12439699935111644:e[47]>1e-35?j=-.04201034294282216:e[21]>1e-35?j=-.029998534764449716:e[11]>1e-35?j=-.008349262144218515:e[10]>1e-35?e[152]>1e-35?j=.03211843381827455:j=-.009616753935387912:j=.001507728277179471:j=-.018453367252451447;let X;e[2]>2.4414009612931857?e[155]>1e-35?X=.02097415247337288:e[2]>5.1209788959100075?e[219]>1e-35?X=-.04107586321461544:e[153]>1e-35?X=-.030708779452328257:X=-.008547089256234949:e[24]>1e-35?e[113]>1e-35?X=.10372474211849725:X=.010871474495452506:e[46]>1e-35?X=-.048875079231930615:e[152]>1e-35?X=.0169028183837229:e[91]>1e-35?X=-.06545106192484919:e[7]>.5395500104437768?e[21]>1e-35?X=-.03634133884877529:e[123]>1e-35?X=-.04524486315275367:X=.0007726000210664368:e[153]>1e-35?X=-.026631444280113794:X=-.005897540198114922:e[29]>1e-35?e[2]>1.2424533248940002?e[141]>1e-35?X=.06938494238244022:e[1]>1e-35?e[4]>2.602003343538398?e[7]>.21160651352969054?X=.016731168841731828:X=-.009280453313693341:X=-.006549806005743951:X=-.035447929694275064:e[8]>1e-35?X=-.0032912467465369953:e[4]>1.2424533248940002?e[1]>1e-35?e[2]>.8958797346140276?X=.024369266212637037:e[138]>1e-35?X=.06205121318768558:X=.03811769435016647:X=-.009452348851889555:X=-.025248141993897872:e[2]>1e-35?e[57]>1e-35?X=-.12191990737301042:e[4]>3.3842466058243152?X=.00020591213976092076:e[141]>1e-35?X=-.03252260939244301:e[186]>1e-35?X=-.13818838492678748:X=.009368844137034227:X=-.007973426105216213;let ae;e[2]>2.3502401828962087?e[14]>1e-35?ae=.015015656987761437:e[30]>1e-35?e[210]>1e-35?e[7]>.6876768869498817?ae=.00543900892248828:ae=-.04253496769494065:e[141]>1e-35?ae=-.052958350924390156:e[140]>1e-35?ae=-.10364099832282586:ae=.010452960405207413:e[24]>1e-35?e[113]>1e-35?ae=.09898709072741292:e[209]>1e-35?e[7]>.9821472231924556?ae=-.26615665549082984:ae=.09636256138859388:ae=.01708542025496261:e[217]>1e-35?ae=.008049408683788317:e[21]>1e-35?ae=-.04590265539954756:e[90]>1e-35?ae=-.13784770816769107:e[142]>1e-35?ae=-.04628126597884301:e[47]>1e-35?ae=-.05827975565933709:e[135]>1e-35?ae=-.0223224900840969:e[18]>1e-35?ae=-.03220713396184497:e[91]>1e-35?ae=-.06447405488640102:e[58]>1e-35?ae=-.05284544446869763:e[48]>1e-35?ae=-.06649148594881385:e[123]>1e-35?ae=-.04383701454842744:e[7]>.07815070294696584?e[52]>1e-35?ae=-.11846610284210293:e[50]>1e-35?ae=-.08907531725085399:e[156]>1e-35?ae=-.018270336483319834:e[150]>1e-35?ae=-.1090721461891663:e[151]>1e-35?ae=-.12157322199183473:ae=-.001565820654257863:ae=-.02380240397829804:e[7]>.7957410883753849?ae=.01267070049428537:e[9]>1e-35?ae=.012970301396505988:ae=.0031136826722851885;let re;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>3.817651943129708?e[29]>1e-35?re=-.01811927921170173:re=-.0007182192063435364:e[30]>1e-35?re=.024303187146750442:e[1]>1e-35?re=.011106265465270054:e[134]>1e-35?re=.029835980521591587:re=-.011058553872914158:e[29]>1e-35?e[4]>.8958797346140276?e[2]>.8958797346140276?re=.038081831260496:e[7]>.9761943980359399?e[7]>.9974623466432676?re=.0678338591810893:re=.02371719224774027:re=.0682898584583309:re=-.023148464063014726:e[30]>1e-35?re=.04610988679672867:re=.003060113702583105:e[29]>1e-35?e[2]>.8958797346140276?e[4]>2.4414009612931857?e[7]>.9587163092581167?re=.01081564552001606:re=-.006807357600587744:re=-.02409609521595022:re=-.033329165496176885:e[4]>4.051747139190486?re=-.01130115168237245:e[129]>1e-35?re=-.04589370141507604:e[21]>1e-35?re=-.029442074982620643:e[14]>1e-35?re=.016895124578179443:e[186]>1e-35?re=-.11907557430036886:e[1]>1e-35?e[139]>1e-35?re=-.06194447560538838:e[133]>1e-35?re=-.0758465323292204:e[58]>1e-35?re=-.04330766372695393:e[138]>1e-35?re=-.04155491116231014:e[156]>1e-35?re=-.04841608169206507:e[44]>1e-35?re=-.01948221703985556:re=.006580878599054945:e[217]>1e-35?re=.022433802380447482:re=-.00412091757515532;let le;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>2.970085626360216?e[153]>1e-35?le=-.024502725801264887:e[2]>5.589117819455554?le=-.01230190569981064:le=.0013078979950003464:e[1]>1e-35?le=.016172143068823742:le=.0006345060509537773:e[2]>.8958797346140276?le=.030005982109869073:e[7]>.9811887196001154?e[7]>.9983480540068196?le=.0671951915420627:e[4]>.8958797346140276?e[204]>1e-35?e[4]>2.4414009612931857?le=.044068636573383585:le=-.6634026033584294:e[28]>1e-35?e[194]>1e-35?le=-.3139210817530322:le=-.030502668897116853:le=.02841326513237545:le=-.12080826254458728:le=.05983169094937563:e[25]>1e-35?le=-.03468266531519899:e[17]>1e-35?le=.018557285805987474:e[91]>1e-35?le=-.051420462987159146:e[153]>1e-35?e[24]>1e-35?le=.04301006671297924:e[57]>1e-35?le=-.09748386515224282:e[7]>.43956365248689394?le=-.00756781004151352:le=-.03008603678955382:e[40]>1e-35?le=-.06712212199178254:e[9]>1e-35?e[99]>1e-35?le=.02709638137622776:le=.00311232737924217:e[219]>1e-35?le=-.021650545703290135:e[129]>1e-35?le=-.04139534817677377:e[4]>4.482986592105174?le=-.01666373169408667:e[7]>.14547530463198097?e[28]>1e-35?le=.0203181446326991:e[24]>1e-35?le=.019321702534414745:le=-.0013149142637674523:le=-.010572437649803333;let de;e[1]>1e-35?e[99]>1e-35?de=.024922390516579074:e[7]>.6223082132708274?e[5]>8.674624195715621?de=-.0013697481432616754:e[8]>1e-35?e[5]>3.0201273556387074?e[5]>4.855921334140645?de=-.0034268395365245545:de=-.034186463672076346:e[29]>1e-35?de=.07759914281958613:de=-.07773573805144608:e[22]>1e-35?de=-.0175879419801366:e[7]>.9626084674797213?de=.016773359142537643:de=.008028381804196754:e[133]>1e-35?de=-.0535216100744091:de=-.0005000628423357899:e[38]>1e-35?e[14]>1e-35?de=.05090247458630403:de=.007750826606170666:e[30]>1e-35?de=.007698939719746262:e[121]>1e-35?de=.02303487268261317:e[56]>1e-35?de=.04301822779572479:e[219]>1e-35?de=-.061056125991793546:e[49]>1e-35?de=-.08519783826666813:e[54]>1e-35?de=-.11098408863832084:e[51]>1e-35?de=-.07495147940928196:e[52]>1e-35?de=-.10268521021357209:e[143]>1e-35?de=-.050337621945760906:e[50]>1e-35?de=-.08215637358309871:e[135]>1e-35?de=-.037923453156281546:e[29]>1e-35?de=-.03275476659364492:e[118]>1e-35?de=-.05655325181162936:e[46]>1e-35?de=-.03579874818682071:e[55]>1e-35?de=-.10858775815345066:e[98]>1e-35?de=-.02949179817285505:e[91]>1e-35?de=-.06114394873657414:de=-.0024381269826722327;let Re;e[0]>1e-35?e[138]>1e-35?Re=.03188433658945665:e[6]>5.957131031247307?e[29]>1e-35?Re=.02161439640262312:e[46]>1e-35?Re=-.05856082884648366:Re=.00579188508436574:e[5]>3.417592293073651?Re=-.0023781291067078423:e[6]>2.524928003624769?e[29]>1e-35?Re=-.009165058612451055:Re=.06060298049441096:Re=-.024654633200924148:e[29]>1e-35?e[141]>1e-35?Re=.047057536167451744:e[5]>7.751690325550034?Re=-.014630738159823437:e[6]>1e-35?Re=-.0022830386545257364:Re=-.1244934159203967:e[141]>1e-35?Re=-.03108265181870111:e[151]>1e-35?Re=-.0899976208431091:e[53]>1e-35?Re=-.10125439914522794:e[57]>1e-35?Re=-.08285049636367613:e[48]>1e-35?Re=-.04071723813859757:e[147]>1e-35?Re=-.05043191744833317:e[49]>1e-35?Re=-.05480244282058292:e[52]>1e-35?Re=-.07341553831872409:e[91]>1e-35?Re=-.04164336745260387:e[50]>1e-35?Re=-.05943962674275153:e[40]>1e-35?Re=-.054773037913883875:e[129]>1e-35?Re=-.03640370706396673:e[54]>1e-35?Re=-.07483146938849299:e[22]>1e-35?Re=-.02027834075472462:e[186]>1e-35?Re=-.08116240011202293:e[143]>1e-35?Re=-.028437692949603324:e[21]>1e-35?Re=-.02421670339700474:e[46]>1e-35?Re=-.02303808594532841:Re=.0030552215125396933;let Ee;e[0]>1e-35?e[1]>1e-35?e[4]>2.138333059508028?e[9]>1e-35?Ee=.02933727780739186:e[6]>4.722943345003718?e[7]>.9246495578512688?Ee=.024680404379144982:Ee=.012015730636539185:e[113]>1e-35?Ee=.09112392780348796:e[135]>1e-35?e[7]>.990877425524446?Ee=-.11617284449593282:Ee=-.005246041787488675:Ee=-.011069319481086321:e[90]>1e-35?Ee=-.2763006993902732:e[7]>.9546729796082215?e[6]>3.0677824455408698?Ee=.009233858920042097:Ee=.08920751503262825:Ee=-.008824102277148265:e[138]>1e-35?Ee=.02736126919460762:e[4]>2.917405368531303?e[30]>1e-35?Ee=.013112272135200274:e[217]>1e-35?Ee=.035799930603658235:Ee=-.015618218537266096:Ee=.010656981322113845:e[14]>1e-35?Ee=.01147191978691208:e[17]>1e-35?Ee=.016681596753170068:e[135]>1e-35?Ee=-.017396147137824756:e[4]>1.8688348091416842?e[4]>4.03420147928485?Ee=-.008863534867945834:e[31]>1e-35?Ee=.05416038384474034:e[113]>1e-35?Ee=.012656827040897288:e[204]>1e-35?Ee=.011410879858785482:e[208]>1e-35?e[1]>1e-35?Ee=.02085606775425661:Ee=-.008618410086291444:e[53]>1e-35?Ee=-.09674487817291225:e[155]>1e-35?Ee=.010841012663281826:Ee=-.0027234799964982103:e[100]>1e-35?e[6]>4.226807104886684?Ee=-.02684998739505702:Ee=.09196076999373319:Ee=-.014557367931257406;let Oe;e[1]>1e-35?e[4]>2.4414009612931857?e[140]>1e-35?Oe=-.020508725755139606:e[9]>1e-35?Oe=.014160204295049248:e[37]>1e-35?Oe=-.06190233326923697:e[6]>1e-35?Oe=.005164496028342236:Oe=-.11389189550910446:e[141]>1e-35?Oe=-.04125881484049697:e[186]>1e-35?Oe=-.17160163910476212:e[29]>1e-35?e[6]>3.676220550121792?Oe=-.010283419868136159:e[7]>.9626084674797213?Oe=-.1716178372310524:Oe=-.008856137283327148:e[28]>1e-35?Oe=.05315666786902214:e[129]>1e-35?Oe=-.04136913767615559:e[7]>.9705672697050661?e[6]>3.540854293052788?Oe=.00751812285476753:e[8]>1e-35?Oe=-.11960098941111366:Oe=.06631760098044483:e[210]>1e-35?e[30]>1e-35?Oe=-.05338190010412709:Oe=.017275201286894953:e[30]>1e-35?Oe=.014424216946760394:e[99]>1e-35?Oe=.027062693955934525:Oe=-.006762492910108134:e[219]>1e-35?Oe=-.0534489198792768:e[138]>1e-35?Oe=.017328465617667224:e[4]>2.970085626360216?e[144]>1e-35?Oe=-.0662951231725991:e[143]>1e-35?Oe=-.04739088646917139:e[145]>1e-35?Oe=-.07635546796992515:e[14]>1e-35?Oe=.012433708195861912:e[217]>1e-35?Oe=.021046036228368578:e[51]>1e-35?Oe=-.07024391932712475:Oe=-.007585229386863768:e[127]>1e-35?Oe=.0788172427657374:Oe=.0036475442240054556;let _e;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>2.802901033147999?e[153]>1e-35?_e=-.02488671343402725:e[135]>1e-35?_e=-.026342401137212534:e[4]>1.4978661367769956?_e=-.0002120610158998857:_e=-.02619014803287452:e[5]>3.772694874805912?_e=.00791871819482647:_e=.05245006986819034:e[5]>5.431533816254341?e[2]>.8958797346140276?_e=.026755493155023333:_e=.05657996196424821:e[5]>4.424828703319957?e[28]>1e-35?_e=-.12833948112036647:_e=.02009706276124955:e[135]>1e-35?_e=-.1062651205805238:_e=-.014392542658357654:e[156]>1e-35?e[11]>1e-35?_e=-.0426876288098691:_e=-.009210886749467585:e[25]>1e-35?_e=-.029685120249418873:e[153]>1e-35?e[24]>1e-35?_e=.039675921298659045:_e=-.01470247025894634:e[135]>1e-35?_e=-.013162475027411236:e[2]>1e-35?e[22]>1e-35?_e=-.01924589513592333:e[21]>1e-35?_e=-.02301719200164619:e[5]>8.75754777636908?e[4]>2.602003343538398?_e=-.0007468484638490539:_e=-.0158247553028744:e[1]>1e-35?e[99]>1e-35?_e=.024493682002973784:e[42]>1e-35?_e=-.07469088345156226:e[45]>1e-35?_e=-.03838380763638677:e[114]>1e-35?_e=.02409327545276692:e[154]>1e-35?_e=-.038977286951036944:e[208]>1e-35?_e=.021915882358345885:_e=.003839964304606302:_e=-.0014382346596150915:_e=-.008713493537728363;let Je;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>4.119004124609202?e[3]>1.2424533248940002?Je=-.0017308950709495397:Je=-.020269742816377157:e[5]>3.5694334999727624?e[6]>6.468474521450064?Je=.007854184286630537:Je=-.005163758444496073:e[3]>1.2424533248940002?e[12]>1e-35?Je=-.009039854020477722:Je=.08762320620103459:e[194]>1e-35?Je=-.3433922378591172:e[24]>1e-35?Je=-.2523113760729937:Je=-.000461371156912453:e[5]>5.692045796563381?e[3]>1.4978661367769956?Je=.007177758561499448:e[2]>.8958797346140276?Je=.03195343200682438:Je=.059909349900388334:e[5]>4.424828703319957?e[28]>1e-35?Je=-.10695282804536732:Je=.019125081292682575:e[135]>1e-35?Je=-.09257011968677195:Je=-.012855523323410875:e[14]>1e-35?Je=.010052176448775013:e[152]>1e-35?Je=.011482760058014926:e[156]>1e-35?Je=-.017677609761538152:e[24]>1e-35?Je=.01670301885059328:e[39]>1e-35?Je=-.02425844450882272:e[12]>1e-35?e[3]>1.2424533248940002?e[6]>5.980149988077803?Je=.01117036123239103:e[3]>1.4978661367769956?Je=-.005154239762347923:Je=.06349844063391799:Je=-.011876368966362884:e[4]>3.772694874805912?Je=-.010120762110714197:e[5]>3.276966702012906?e[4]>2.4414009612931857?e[4]>3.1132683346437333?Je=-.0035902728428789336:Je=.003411450739155564:e[5]>8.17933999189099?Je=-.018866709049095685:Je=-.0038747233097564068:Je=.024379138339081993;let ut;e[7]>.5866799179067689?e[11]>1e-35?e[217]>1e-35?ut=.01816196279626246:ut=-.008720340174685528:e[14]>1e-35?ut=.017422275374961747:e[3]>2.802901033147999?e[6]>6.0026509725338455?e[18]>1e-35?ut=-.035421013136394335:e[219]>1e-35?ut=-.03997357699142973:e[3]>4.993822430271426?ut=-.03250278247092862:ut=.004080430247607075:ut=-.010055330454519094:e[5]>9.345963324807864?ut=-.008136951493137817:e[90]>1e-35?ut=-.16414188828180187:e[45]>1e-35?ut=-.0395103723535772:e[17]>1e-35?e[6]>3.314020688089767?ut=.03144428117941763:ut=-.12305809642153893:e[5]>3.417592293073651?ut=.006863569747629234:e[7]>.9626084674797213?e[204]>1e-35?ut=.08986402088848823:e[100]>1e-35?ut=.09658177526577977:e[141]>1e-35?ut=.06795495668113817:e[28]>1e-35?e[3]>1e-35?ut=.10311172778826272:ut=-.12367638872784459:e[209]>1e-35?ut=.06796205879581844:e[6]>3.0677824455408698?e[3]>2.012675845367575?ut=-.1815028770626217:ut=-.027600842388305583:ut=.013979123567456554:ut=-.003475039039176338:e[6]>4.3882378946731615?e[3]>3.6242520361853052?ut=-.008151073332139989:e[3]>2.4414009612931857?e[48]>1e-35?ut=-.05732062477153205:ut=.0038104987226822806:e[7]>.14547530463198097?ut=-.0015360108147469411:ut=-.014797616303672155:e[3]>.8958797346140276?ut=-.010446976011382926:ut=-.039018423658353285;let ot;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>4.620046665062766?e[3]>1.8688348091416842?ot=-.0031733808376565214:ot=-.019463570735432378:ot=.0032566959999593536:e[5]>5.692045796563381?e[3]>1.4978661367769956?ot=.006472511895453073:e[2]>.8958797346140276?ot=.029439910335277677:ot=.05703290277034656:e[219]>1e-35?ot=-.06489530937321614:e[5]>4.424828703319957?ot=.017756995160153607:e[125]>1e-35?ot=-.13863131633711023:ot=-.011337464460106939:e[29]>1e-35?e[2]>.8958797346140276?e[3]>1e-35?ot=-.04822012795561216:e[125]>1e-35?ot=.06083023155995546:e[141]>1e-35?ot=.04503531231698771:e[5]>7.751690325550034?ot=-.008826435995092507:ot=.0004769856196102064:e[5]>5.895778350950796?ot=-.03439788269853701:ot=.0012862199645308793:e[141]>1e-35?e[3]>3.0677824455408698?ot=.0046610227653059695:ot=-.04504560149384845:e[3]>4.3372693810700085?ot=-.011924612526365003:e[151]>1e-35?ot=-.07909878419302184:e[40]>1e-35?ot=-.04837106565429512:e[52]>1e-35?ot=-.06478730352567258:e[18]>1e-35?e[46]>1e-35?ot=.060888920864590634:e[5]>3.5694334999727624?ot=-.02601024872439008:ot=.07960150564774994:e[46]>1e-35?ot=-.027213119561154103:e[51]>1e-35?ot=-.054081846676903716:e[54]>1e-35?ot=-.07375359621246233:e[50]>1e-35?ot=-.0570341640965886:ot=.0021129818482267812;let at;e[2]>2.861792550976191?e[11]>1e-35?e[58]>1e-35?at=-.09222476830824185:e[156]>1e-35?at=-.044357001480428:at=-.009033627105152873:e[8]>1e-35?e[5]>7.429817490674132?at=-.007435399919321396:at=-.025630334739367253:e[155]>1e-35?at=.02064199664419035:e[5]>8.75754777636908?e[2]>4.119004124609202?at=-.012759040985224594:at=-.0009375109950390992:e[21]>1e-35?at=-.028664595543047417:e[187]>1e-35?at=-.03837361994986333:e[22]>1e-35?at=-.027274995074267547:e[14]>1e-35?at=.016392245342055616:e[17]>1e-35?at=.022509678093313362:e[28]>1e-35?at=.025145343126000193:e[39]>1e-35?at=-.02939647868188604:at=.00042395552644239256:e[29]>1e-35?e[2]>2.012675845367575?at=-.0030925701821976686:e[5]>6.0390628155997765?e[2]>.8958797346140276?at=.010736817315927911:at=.02426980448005241:e[28]>1e-35?e[194]>1e-35?at=-.3070569158934055:e[196]>1e-35?at=-.5506885961570867:at=-.033353293982668515:at=.006553036790621832:e[2]>1.2424533248940002?e[5]>3.5694334999727624?e[155]>1e-35?at=.02102370525016274:at=.003409533559556135:e[204]>1e-35?at=.08873962123163927:e[24]>1e-35?at=.10555359938821945:e[28]>1e-35?at=.09719645392539251:e[196]>1e-35?at=.08224623369607056:at=-.020134405544960793:at=-.0015937623030202052;let oe;e[0]>1e-35?e[2]>1.8688348091416842?e[3]>1.4978661367769956?e[3]>3.540854293052788?oe=-.0076758153562413375:e[18]>1e-35?oe=-.04295196457825341:e[51]>1e-35?oe=-.13248011320062422:oe=.008952360414023641:e[7]>.987306237235768?oe=.006439776900137331:oe=-.012660562195035134:e[3]>2.861792550976191?e[30]>1e-35?oe=.026757175255811883:oe=-.01062556784320532:e[2]>.8958797346140276?oe=.02114926571950188:e[8]>1e-35?e[7]>.9738681190948303?e[7]>.996914501566243?oe=.039844832378913425:oe=-.06690456482695102:oe=.05010759067838343:e[7]>.9901971344332651?e[204]>1e-35?e[7]>.9945060383544003?oe=.03772632631184001:oe=-.28522617893050056:e[28]>1e-35?oe=-.060992612788434375:oe=.03341245674945403:oe=.051288950777861456:e[8]>1e-35?oe=-.010769283931178146:e[29]>1e-35?e[2]>.8958797346140276?e[1]>1e-35?e[7]>.98482287934795?oe=.009069204772381522:oe=-.004081394384581673:oe=-.03594060084257492:e[7]>.9216401592048815?oe=-.00442206228805168:oe=-.03576891499137606:e[55]>1e-35?oe=-.08223884312902127:e[57]>1e-35?oe=-.0742535346669798:e[149]>1e-35?oe=-.07940704728071792:e[39]>1e-35?oe=-.017161105634171125:e[49]>1e-35?oe=-.04763279499691125:e[139]>1e-35?oe=-.027192821855546695:e[10]>1e-35?oe=-.0036316338579956914:oe=.0026484338648234077;let Pe;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>5.527441013321604?Pe=-.012306712525171806:e[7]>.26911173821332884?e[18]>1e-35?Pe=-.027850707388722303:e[91]>1e-35?Pe=-.07216882827488169:e[2]>2.740319461670996?e[3]>1.4978661367769956?Pe=.005596837686865309:Pe=-.0059429747278747225:Pe=.009524033665726878:Pe=-.0077898166249992535:e[6]>5.912149824839399?e[3]>1.4978661367769956?e[30]>1e-35?Pe=.032201880996274065:Pe=-.009587971174292791:e[2]>.8958797346140276?Pe=.02761965407835318:Pe=.05238312639482409:e[7]>.990877425524446?e[28]>1e-35?e[156]>1e-35?Pe=.08220352701195494:Pe=-.16200772313735304:e[135]>1e-35?e[6]>4.310776603370241?Pe=-.03126230621131264:Pe=-.15437767199900418:e[219]>1e-35?e[2]>.8958797346140276?Pe=.018944713961164792:e[3]>1e-35?Pe=.06629929139668997:Pe=-.16790799717043633:e[192]>1e-35?Pe=-.3320398525405097:Pe=.009790162291004705:e[125]>1e-35?Pe=-.0996239956884951:Pe=.017982806591038288:e[25]>1e-35?Pe=-.02642518530716432:e[6]>9.286096980078398?e[3]>2.740319461670996?Pe=-.0027582177390145703:Pe=-.02047492290459601:e[17]>1e-35?Pe=.01622159988588393:e[7]>.5866799179067689?Pe=.0012556670436606133:e[3]>2.3502401828962087?e[3]>3.314020688089767?Pe=-.00567335909535631:Pe=.0036605424249172938:e[7]>.085616240166877?Pe=-.00662352094724046:Pe=-.024196995936398374;let Ae;e[0]>1e-35?e[2]>1.2424533248940002?e[2]>2.802901033147999?e[3]>1.8688348091416842?e[4]>3.6242520361853052?Ae=-.008283589876968955:Ae=.005263882290960596:e[7]>.9662372103242399?Ae=.0028703212438091555:Ae=-.014488335095453487:e[5]>3.5694334999727624?Ae=.006182444666070272:Ae=.04834325475124454:e[5]>5.821564412917691?e[3]>1.4978661367769956?Ae=.006862035478899274:e[2]>1e-35?Ae=.03694434517261685:Ae=.06818308291563471:e[8]>1e-35?e[4]>3.979637980058199?Ae=-.14792403668068005:e[5]>4.297262267176281?Ae=.04085199387960594:Ae=-.08112459203056922:e[7]>.990877425524446?e[204]>1e-35?e[4]>2.4414009612931857?Ae=.040094872099644886:Ae=-.37432021591644105:e[128]>1e-35?e[17]>1e-35?Ae=.11216772098992614:Ae=-.39517539261887863:Ae=-.006202508512715542:Ae=.031730389306944315:e[8]>1e-35?e[5]>3.156774023138548?Ae=-.011787620507206525:e[3]>1.2424533248940002?Ae=-.0681989521208321:Ae=.06597717957453096:e[2]>1e-35?e[25]>1e-35?Ae=-.024543929344106336:e[5]>8.193814844759492?e[4]>2.602003343538398?e[2]>5.167634984480833?Ae=-.00996811570890536:Ae=.001134417943860963:Ae=-.013004815776467261:e[1]>1e-35?e[22]>1e-35?Ae=-.019057324908699217:e[141]>1e-35?Ae=-.026707851278989517:Ae=.005608056403567553:Ae=-.0017699070677530831:e[3]>1.4978661367769956?Ae=-.005457163739006659:Ae=-.02994467745413277;let We;e[11]>1e-35?e[154]>1e-35?We=-.07640004589975245:e[153]>1e-35?We=-.027921183286970398:e[156]>1e-35?We=-.02508900369371103:e[47]>1e-35?We=-.09621039139423637:e[46]>1e-35?We=-.05890206826599292:We=-.0018521707885188695:e[7]>.1998775237752378?e[39]>1e-35?We=-.02026563108381904:e[91]>1e-35?We=-.03979999802398471:e[14]>1e-35?e[134]>1e-35?We=.044705853812635206:We=.01112016315736189:e[24]>1e-35?e[6]>3.417592293073651?We=.01585670681557334:We=.0820229237073549:e[9]>1e-35?e[204]>1e-35?e[6]>3.9219243190762363?We=.01475544028693712:e[30]>1e-35?We=.10219265831102325:We=-.0567832116465987:e[154]>1e-35?We=-.04682869193620295:We=.0058147572533605784:e[123]>1e-35?We=-.04011640490395746:e[17]>1e-35?e[6]>3.314020688089767?We=.016472642951500794:We=-.10372235311156908:e[19]>1e-35?We=.013619887374131652:e[28]>1e-35?e[6]>3.1984648276080736?e[6]>5.5816130673839615?We=.021404525777064917:We=-.022090537029637168:We=.07927547222505857:e[129]>1e-35?We=-.0315112950229846:e[90]>1e-35?We=-.08016175793969123:e[60]>1e-35?We=-.044255594885932:e[150]>1e-35?We=-.0643645650066138:We=18071436579202054e-21:e[6]>6.132312266239896?We=.00017227075512669227:We=-.010904669702571911;let z;e[0]>1e-35?e[1]>1e-35?e[7]>.30853255358841714?e[154]>1e-35?z=-.053460642910797676:z=.009652079082741289:z=-.0017676195976280011:e[134]>1e-35?z=.01746182064829904:e[32]>1e-35?z=.033149881191962445:e[138]>1e-35?z=.02149173543949675:e[37]>1e-35?z=.028519159270523897:e[152]>1e-35?z=.023352031441951773:e[217]>1e-35?z=.02290558132732214:z=-.01850975101703459:e[152]>1e-35?z=.010488854074509982:e[155]>1e-35?e[12]>1e-35?z=.027490522294963154:z=.002575743497494008:e[131]>1e-35?z=-.07138027268500055:e[57]>1e-35?z=-.06658662137088783:e[28]>1e-35?z=.015141080652315508:e[55]>1e-35?z=-.07156337757427284:e[204]>1e-35?z=.008085415901726045:e[99]>1e-35?e[1]>1e-35?z=.01803019280250009:z=-.012275416064615064:e[113]>1e-35?z=.007680714218522011:e[102]>1e-35?z=.01923593781092882:e[38]>1e-35?z=.00598208846998872:e[112]>1e-35?z=.00895148693111358:e[217]>1e-35?z=.004322676779141819:e[114]>1e-35?e[1]>1e-35?z=.019173900241286065:e[18]>1e-35?z=-.1302545616586715:z=-.012219608237225175:e[89]>1e-35?z=.019080595932083305:e[95]>1e-35?z=.009182530113836561:z=-.006531048204768366;let te;e[2]>4.135134555718313?e[47]>1e-35?te=-.06057129526622943:e[5]>6.805168536739806?e[3]>2.4414009612931857?e[1]>1e-35?e[32]>1e-35?te=-.09672976728291365:e[217]>1e-35?te=-.09138286775903748:e[114]>1e-35?te=.034435801312936894:te=.003550781249532139:e[56]>1e-35?te=.06582022232543998:e[144]>1e-35?te=-.08601101006110747:te=-.006766914059699758:e[217]>1e-35?te=.001822103802069182:te=-.013646878234832634:e[8]>1e-35?te=-.02495807137678248:e[1]>1e-35?te=.009517017217557915:te=-.007488737506950444:e[6]>6.1537953943602615?e[140]>1e-35?te=-.013180308369805589:e[51]>1e-35?te=-.0496089337787575:e[15]>1e-35?e[30]>1e-35?te=.017032153502995334:te=-.01330098154550191:e[10]>1e-35?e[56]>1e-35?te=.04713518460375107:te=-.0016223104582873055:e[131]>1e-35?te=-.07291331059881433:e[27]>1e-35?te=-.015619378359486803:te=.006051005570772542:e[3]>3.1132683346437333?e[8]>1e-35?te=-.02945681137428643:te=-.00725026522062693:e[6]>1e-35?e[3]>1.2424533248940002?te=.0035081297381004684:e[194]>1e-35?e[5]>3.772694874805912?te=-.03142097937872678:te=-.17253564001853064:e[5]>3.156774023138548?te=-.004860170522962415:e[12]>1e-35?te=-.04169370739781986:te=.05886396855048806:te=-.10415236736977414;let Ne;e[2]>2.3502401828962087?e[11]>1e-35?e[58]>1e-35?Ne=-.07548370555339029:Ne=-.009060327134219393:e[21]>1e-35?Ne=-.02536204329245056:e[155]>1e-35?Ne=.01626198918750622:e[142]>1e-35?Ne=-.029262265693304763:e[4]>1.8688348091416842?e[48]>1e-35?Ne=-.0522966414357639:e[47]>1e-35?Ne=-.03867213359133592:e[149]>1e-35?Ne=-.10392339919606915:e[135]>1e-35?Ne=-.010541433982611018:e[51]>1e-35?Ne=-.06273170107556418:e[54]>1e-35?Ne=-.08769404750229767:e[18]>1e-35?e[1]>1e-35?Ne=.0022966362330231133:e[31]>1e-35?Ne=.19571528454816625:Ne=-.04919246049942885:e[50]>1e-35?Ne=-.06766114512966344:e[7]>.9793410316570949?Ne=.00837983401462093:Ne=.0007986280224776339:e[186]>1e-35?Ne=-.16446174535054356:e[62]>1e-35?Ne=.06508947502037822:Ne=-.010260699234562241:e[6]>5.486867329823672?e[140]>1e-35?Ne=-.01589822136096899:e[125]>1e-35?Ne=-.025465846683560996:e[190]>1e-35?Ne=-.03671457167643481:e[91]>1e-35?Ne=-.03821691103237143:e[57]>1e-35?Ne=-.07502589184745939:e[50]>1e-35?Ne=-.05395522531288487:Ne=.005241788285288346:e[4]>3.1132683346437333?Ne=-.008741587825172916:e[12]>1e-35?e[100]>1e-35?Ne=.06608964318040904:Ne=-.012827641806975033:Ne=.004744161815471635;let Se;e[4]>.8958797346140276?e[2]>5.4049245766661995?e[5]>6.0051201133541365?Se=-.008352440702113342:Se=.00818161196788124:e[123]>1e-35?Se=-.02387242845183433:e[190]>1e-35?Se=-.03574127589374163:e[152]>1e-35?Se=.01262147105943106:e[11]>1e-35?e[58]>1e-35?Se=-.05955906348417553:Se=-.003717083835106387:e[6]>6.0026509725338455?e[15]>1e-35?e[30]>1e-35?Se=.023589988800048537:Se=-.01290090410411923:e[38]>1e-35?Se=.015295369946508892:e[1]>1e-35?e[4]>2.740319461670996?e[22]>1e-35?Se=-.01614208413608714:e[42]>1e-35?Se=-.05454658382875832:Se=.008894057269932708:e[141]>1e-35?Se=-.029660896741885025:Se=.0007918628584206305:e[12]>1e-35?Se=.010735865892076339:e[218]>1e-35?Se=.06499398466334683:e[29]>1e-35?Se=-.02987220407530282:e[118]>1e-35?Se=-.05994319680494358:Se=-.0022119035344297464:e[113]>1e-35?e[24]>1e-35?Se=.09992180359591052:Se=.003953091072683087:e[204]>1e-35?e[4]>2.249904835165133?Se=.0012737346185997833:e[5]>3.979637980058199?Se=.012350990163327259:e[29]>1e-35?Se=-.4173182186315585:Se=.09483857671510697:Se=-.0034771114722081282:e[19]>1e-35?Se=.04818172610227253:e[158]>1e-35?Se=.09085872490042819:e[123]>1e-35?Se=.046170414156546824:Se=-.030833991141721785;let Ce;e[0]>1e-35?e[2]>1.2424533248940002?e[2]>2.138333059508028?e[3]>1.4978661367769956?e[3]>4.197173680708697?Ce=-.015067858446918237:e[5]>3.979637980058199?Ce=.0025493966284458503:e[24]>1e-35?Ce=.10170949517680355:e[3]>2.3502401828962087?Ce=-.010182198776560389:e[7]>.9662372103242399?Ce=.0855616171705204:Ce=-.0044290837387121786:e[7]>.992067132663463?Ce=.006950766900495411:Ce=-.011703657118613042:e[3]>3.314020688089767?Ce=-.007590151825214328:Ce=.011931088318037653:e[5]>4.424828703319957?e[3]>1.4978661367769956?Ce=.003895993078605918:e[2]>1e-35?e[5]>5.859359688974663?Ce=.03311360926528595:e[7]>.9936484368123463?e[28]>1e-35?Ce=-.1296383065201116:e[18]>1e-35?Ce=-.2304238024287801:Ce=-.0007035160942990814:Ce=.03872938637191365:Ce=.05931958562003542:e[204]>1e-35?e[7]>.9926276364955392?Ce=-.2503820824196552:Ce=.01514980593659256:e[135]>1e-35?e[7]>.990877425524446?Ce=-.12146435764173391:Ce=.03579230653026111:e[125]>1e-35?Ce=-.11990587076136816:Ce=-.0017264106529335022:e[2]>.8958797346140276?e[3]>4.878999622893762?Ce=-.028006872909888104:e[17]>1e-35?Ce=.015327119563713427:e[14]>1e-35?Ce=.008966123864441086:e[24]>1e-35?Ce=.014884319812071584:Ce=-.0008180929266082377:e[29]>1e-35?e[5]>5.895778350950796?Ce=-.02927173520516398:Ce=.004256706136162408:Ce=-.0030692852485265805;let Ue;e[39]>1e-35?Ue=-.019116728566000912:e[152]>1e-35?Ue=.011159312353677259:e[52]>1e-35?Ue=-.06556505864685434:e[7]>.14547530463198097?e[187]>1e-35?Ue=-.02203060071288757:e[48]>1e-35?Ue=-.03406851575382452:e[10]>1e-35?e[219]>1e-35?Ue=-.026242020752538932:Ue=-.0026163734864036088:e[21]>1e-35?Ue=-.016803181860075653:e[8]>1e-35?e[5]>3.0201273556387074?e[6]>4.722943345003718?e[125]>1e-35?Ue=-.07907862980413462:Ue=-.0024968534057976956:e[141]>1e-35?Ue=.01751368963010255:Ue=-.035334686232177996:e[3]>1e-35?Ue=-.049727650261844114:Ue=.06649006602788514:e[51]>1e-35?Ue=-.047051279496267896:e[58]>1e-35?e[19]>1e-35?Ue=.06794814379814933:Ue=-.033933057704283995:e[6]>8.681774988134558?Ue=-.001906867260604815:e[3]>3.3842466058243152?e[23]>1e-35?Ue=.029126145919054786:e[12]>1e-35?e[59]>1e-35?Ue=.06547842372312768:Ue=.005706402727440608:e[89]>1e-35?Ue=.05238448470974841:Ue=-.003970577798047124:e[141]>1e-35?e[3]>1e-35?Ue=-.02994666941636212:Ue=.029175297065511276:e[139]>1e-35?Ue=-.03926804943552878:e[7]>.9626084674797213?Ue=.010270060885238803:e[6]>4.5379471377116305?Ue=.0051640733904868355:Ue=-.006326617548806485:e[3]>2.3502401828962087?Ue=-.001064039369711557:Ue=-.015232776877478657;let Ve;e[4]>.8958797346140276?e[0]>1e-35?e[3]>3.540854293052788?e[138]>1e-35?Ve=.020620751195117866:Ve=-.007657642824282572:e[9]>1e-35?Ve=.013255738783000171:e[123]>1e-35?Ve=-.04553588467808997:e[14]>1e-35?Ve=.020257942633657516:e[17]>1e-35?Ve=.02379466680602821:e[7]>.26911173821332884?Ve=.004563013176326579:Ve=-.006044878247080096:e[208]>1e-35?e[1]>1e-35?Ve=.016583051243963785:Ve=-.005473696128326885:e[53]>1e-35?Ve=-.07392011100318682:e[3]>4.840234496705036?Ve=-.022277334024938686:e[49]>1e-35?Ve=-.04140311782670083:e[40]>1e-35?Ve=-.041278341040658334:e[156]>1e-35?Ve=-.01087788432462589:e[8]>1e-35?e[141]>1e-35?Ve=.032404890147508435:Ve=-.008762958389316138:e[153]>1e-35?e[18]>1e-35?Ve=.03064796696780178:e[19]>1e-35?Ve=.025912082684934896:e[7]>.9033253454895247?Ve=.00010665286308939541:Ve=-.019390651252802232:e[133]>1e-35?Ve=-.013215417920201165:e[35]>1e-35?Ve=-.07409193965805899:e[16]>1e-35?Ve=.010595288788401727:Ve=.0004445963442680354:e[19]>1e-35?Ve=.043800560164078434:e[62]>1e-35?Ve=.08440762960688118:e[123]>1e-35?Ve=.04196062757398021:e[44]>1e-35?e[7]>.9880960409521241?Ve=-.14025705728324367:Ve=.07605327900446729:Ve=-.030453882536033008;let Ze;e[14]>1e-35?e[134]>1e-35?Ze=.03807815059641535:Ze=.007895137847547357:e[39]>1e-35?Ze=-.019172673927560828:e[138]>1e-35?Ze=.009207480510332959:e[152]>1e-35?e[10]>1e-35?Ze=.029310247627617716:Ze=.006422126177312616:e[3]>3.5114340430413216?e[155]>1e-35?Ze=.02869511059037871:e[137]>1e-35?Ze=.048763707543632046:e[218]>1e-35?Ze=.0393143924208134:Ze=-.0065205942363783:e[4]>2.4414009612931857?e[113]>1e-35?Ze=.016047178137914484:e[35]>1e-35?Ze=-.09486179869071369:e[118]>1e-35?Ze=-.032706818831570415:e[0]>1e-35?Ze=.004733859562945298:Ze=-4345884264792552e-20:e[29]>1e-35?e[204]>1e-35?e[4]>2.3502401828962087?Ze=-.23804773582311067:Ze=.0015066742334155967:e[194]>1e-35?e[4]>1.7005986908310777?Ze=-.013296404682101122:Ze=-.14340192620927933:e[196]>1e-35?Ze=-.17446678790111786:Ze=-.01140535620661492:e[141]>1e-35?Ze=-.03362328403627273:e[99]>1e-35?Ze=.02082592497315901:e[196]>1e-35?Ze=.02125156827172031:e[204]>1e-35?Ze=.018738441981476887:e[194]>1e-35?Ze=.022230335367621302:e[114]>1e-35?Ze=.017460982004618885:e[210]>1e-35?e[11]>1e-35?Ze=-.07421933796695453:Ze=-.02600449772874995:e[62]>1e-35?Ze=.0435295764572802:Ze=-.0036358741919687645;let yt;e[2]>4.749261159734808?e[5]>6.826002629905951?e[29]>1e-35?yt=-.012866931871530748:e[47]>1e-35?yt=-.06511122680099479:yt=-.0033152297369715466:e[1]>1e-35?yt=.00634942519508748:yt=-.008516826211528918:e[6]>6.1537953943602615?e[11]>1e-35?e[121]>1e-35?e[1]>1e-35?yt=-.06214080664476329:yt=.037029947625630194:e[47]>1e-35?yt=-.08203414630098728:yt=-.0044122376347199765:e[15]>1e-35?e[30]>1e-35?yt=.012452689013210465:yt=-.011970977023212193:e[10]>1e-35?e[152]>1e-35?yt=.02888624440861723:yt=-.0026872248277927456:e[27]>1e-35?yt=-.01471521834054285:e[21]>1e-35?yt=-.014970363019863132:e[13]>1e-35?yt=-.0057151868439017945:e[38]>1e-35?yt=.01633003881478886:yt=.005850603591179588:e[113]>1e-35?e[5]>3.979637980058199?yt=.006600693642185256:e[6]>3.1984648276080736?yt=.07576534772024612:yt=-.013028252220942527:e[204]>1e-35?e[9]>1e-35?e[6]>3.9219243190762363?yt=.01266221511189265:e[29]>1e-35?yt=-.20167612409830682:yt=.09361829582187109:yt=.0016303497789744046:e[6]>4.310776603370241?yt=-.0015960016142716584:e[141]>1e-35?e[2]>2.249904835165133?e[6]>2.970085626360216?yt=-.05054316446311788:yt=.06528096075929847:e[29]>1e-35?yt=.07763431964140277:yt=-.017239135292908336:yt=-.011068823413100247;let Dt;e[91]>1e-35?Dt=-.03524202222673902:e[55]>1e-35?Dt=-.07505808762820981:e[47]>1e-35?Dt=-.026314216162986376:e[49]>1e-35?Dt=-.045488810456426665:e[54]>1e-35?Dt=-.06424779605129435:e[0]>1e-35?e[39]>1e-35?Dt=-.03267263134559766:e[46]>1e-35?Dt=-.049285436356671077:e[51]>1e-35?Dt=-.09277060040547602:e[4]>.8958797346140276?e[123]>1e-35?Dt=-.027164727231258436:e[7]>.4232249052377311?e[14]>1e-35?Dt=.021561483416797714:e[9]>1e-35?e[58]>1e-35?Dt=-.08387877475105178:Dt=.014404401501386124:Dt=.004694473365260974:Dt=-.0001897538693116325:Dt=-.017140588284242805:e[5]>9.119594757170685?e[3]>2.740319461670996?Dt=-.0007153953072197825:Dt=-.010378474356201449:e[8]>1e-35?e[5]>3.276966702012906?e[125]>1e-35?Dt=-.06966241558514917:e[4]>4.82429765145367?Dt=-.05703428861212874:Dt=-.007549683006633188:e[3]>1.2424533248940002?Dt=-.05340556429257431:Dt=.0524214727387076:e[22]>1e-35?Dt=-.012756524179901607:e[186]>1e-35?Dt=-.06578146880564559:e[208]>1e-35?Dt=.011189277267677045:e[11]>1e-35?e[58]>1e-35?Dt=-.05051984734793551:e[3]>1.2424533248940002?Dt=-.0002576217567062796:e[134]>1e-35?Dt=-.07452351335236179:Dt=-.010366062496356129:e[94]>1e-35?Dt=-.04206673603732986:Dt=.0017654268359667174;let At;e[2]>2.3502401828962087?e[28]>1e-35?At=.018743416209068924:e[142]>1e-35?At=-.027628078748284907:e[4]>1.7005986908310777?e[123]>1e-35?At=-.039485087567133176:e[48]>1e-35?At=-.04707407726639779:e[49]>1e-35?At=-.0644727439161007:e[47]>1e-35?At=-.03586301268310228:e[52]>1e-35?At=-.08213761833929575:e[60]>1e-35?At=-.036939376764301805:e[22]>1e-35?At=-.02264827779335228:e[153]>1e-35?e[24]>1e-35?At=.03651632275248908:At=-.010403215174169965:e[18]>1e-35?e[31]>1e-35?At=.17011943799802248:At=-.024083374989820074:e[147]>1e-35?At=-.05792387046048145:e[39]>1e-35?At=-.019000152117179:e[54]>1e-35?At=-.09256681585621543:e[50]>1e-35?At=-.06535283940797192:e[187]>1e-35?At=-.023020538580498528:e[149]>1e-35?At=-.09670391878996044:e[8]>1e-35?e[6]>5.865049616265698?At=.0007122257672540384:At=-.024203929126070334:e[55]>1e-35?At=-.10687519344783902:e[21]>1e-35?At=-.019836359134795922:At=.0028141634686288143:e[153]>1e-35?At=-.044827592367532504:At=-.009894012855110334:e[140]>1e-35?e[18]>1e-35?At=.060584003745668275:At=-.015006980258423744:e[6]>5.161920636569023?e[125]>1e-35?At=-.021624709427283298:At=.0035264081894521636:At=-.0030260520850755417;let Vt;e[57]>1e-35?Vt=-.06665941268716478:e[2]>5.4049245766661995?Vt=-.0048763725607228565:e[17]>1e-35?Vt=.012937023835595996:e[91]>1e-35?Vt=-.032642493399923284:e[40]>1e-35?Vt=-.04355571234278559:e[14]>1e-35?e[217]>1e-35?Vt=-.030555708374197955:Vt=.010895997063478696:e[1]>1e-35?e[99]>1e-35?Vt=.016029829045206837:e[114]>1e-35?Vt=.017475123428921584:e[139]>1e-35?Vt=-.042037981483985604:e[210]>1e-35?e[29]>1e-35?Vt=.015395913258454092:Vt=-.024779051599098958:e[90]>1e-35?Vt=-.09436512907953146:e[25]>1e-35?Vt=-.0385103760507401:e[113]>1e-35?Vt=.014955995782471:e[208]>1e-35?Vt=.01363101947809469:Vt=.0004708078358576994:e[29]>1e-35?Vt=-.02567148566035587:e[217]>1e-35?Vt=.017896286118860596:e[118]>1e-35?Vt=-.04366196842115269:e[144]>1e-35?Vt=-.04332564222613586:e[54]>1e-35?Vt=-.08095356842154083:e[31]>1e-35?e[15]>1e-35?Vt=-.12797365603832508:Vt=.05407709367007049:e[56]>1e-35?Vt=.030874690971051524:e[148]>1e-35?Vt=-.06664437092250396:e[50]>1e-35?Vt=-.05710031053092695:e[114]>1e-35?e[18]>1e-35?Vt=-.12348764088627251:Vt=-.014081947133593207:e[147]>1e-35?Vt=-.044629298717173554:Vt=-.000742893245658901;let $t;e[138]>1e-35?$t=.008266725465725232:e[1]>1e-35?e[37]>1e-35?$t=-.06288072801700428:e[114]>1e-35?$t=.01701875404216428:e[128]>1e-35?$t=-.022207708344996902:e[113]>1e-35?e[24]>1e-35?$t=.08078133512323216:$t=.010126216487392538:e[11]>1e-35?e[58]>1e-35?$t=-.0542116306120395:$t=-.004962440421854299:e[155]>1e-35?e[30]>1e-35?$t=.02107443326718807:$t=-.01069225359959257:$t=.0009105709984003484:e[218]>1e-35?$t=.05160355321154702:e[134]>1e-35?$t=.006114948378400552:e[121]>1e-35?$t=.016106484014031797:e[89]>1e-35?$t=.01912348851711998:e[56]>1e-35?$t=.029777849606436514:e[157]>1e-35?$t=.04060172642469715:e[31]>1e-35?$t=.040190765597096945:e[115]>1e-35?$t=.038285461163007885:e[144]>1e-35?$t=-.04397941351839926:e[53]>1e-35?$t=-.09153555712989248:e[34]>1e-35?$t=.05063635650139542:e[145]>1e-35?$t=-.05531793235403996:e[18]>1e-35?e[142]>1e-35?$t=.050915836711889595:$t=-.038668153033606156:e[142]>1e-35?$t=-.03161888799270195:e[21]>1e-35?$t=-.039152400008548416:e[147]>1e-35?$t=-.06369054146375448:e[146]>1e-35?$t=-.06687062048733548:e[143]>1e-35?$t=-.0374398909044375:$t=-.004075281311375503;let nr;e[19]>1e-35?nr=.011138060439416179:e[7]>.054053454943712505?e[17]>1e-35?e[30]>1e-35?nr=.031458353209402545:nr=.006712963530887799:e[135]>1e-35?nr=-.008268741342836259:e[60]>1e-35?nr=-.026373116795568554:e[7]>.8375851232899904?e[3]>2.602003343538398?e[6]>4.832297822126891?nr=.001164103411669833:e[8]>1e-35?nr=-.04419920795209664:nr=-.007580602414427876:e[6]>3.417592293073651?e[6]>8.80963889693121?nr=-.00653283113371423:e[8]>1e-35?e[125]>1e-35?nr=-.10156793652811894:nr=-.004200534838133274:e[18]>1e-35?nr=-.01192673279840267:nr=.007421951916920296:e[7]>.9626084674797213?e[29]>1e-35?e[6]>2.970085626360216?nr=-.0032059430383565256:nr=.05159315082197918:e[8]>1e-35?nr=-.0890031715943104:e[22]>1e-35?nr=-.16814104441488775:e[12]>1e-35?e[100]>1e-35?nr=.1021284677424052:nr=-.13655977142603173:nr=.09393254504800182:nr=-.0008030674521708154:e[153]>1e-35?e[18]>1e-35?nr=.028570793527563892:nr=-.01146507406243734:e[125]>1e-35?e[3]>1e-35?nr=-.04344386283066575:nr=.049543778722220704:e[47]>1e-35?nr=-.025602694767462936:nr=41633336342102227e-21:e[3]>2.3502401828962087?e[3]>3.3497501700808394?nr=-.018924000087166926:nr=.005374758944061522:e[14]>1e-35?nr=.02825013192303339:nr=-.028367959366723622;let ge;e[190]>1e-35?ge=-.033259392758942484:e[4]>2.4414009612931857?e[123]>1e-35?ge=-.030965448877928344:e[150]>1e-35?ge=-.05353588365501967:e[53]>1e-35?ge=-.07322459471644706:e[0]>1e-35?e[6]>6.9012339353508745?ge=.007566110700214329:e[4]>3.0677824455408698?e[7]>.5242163672259389?e[8]>1e-35?e[6]>4.722943345003718?ge=-.00508197369229565:e[4]>3.5694334999727624?ge=-.09566908841488272:ge=-.009799018561370653:e[29]>1e-35?ge=.01134634874419129:ge=-.008480456528154491:ge=-.010775036248093376:ge=.006611525544742429:e[23]>1e-35?ge=.01761735039511882:e[19]>1e-35?ge=.01278442042249664:ge=-.0002242132003162585:e[186]>1e-35?ge=-.1282956565830828:e[99]>1e-35?ge=.018493666625505303:e[141]>1e-35?ge=-.026024552608676074:e[29]>1e-35?e[5]>3.5694334999727624?e[217]>1e-35?ge=.010089877008871859:e[7]>.9569480028661056?ge=-.0021891593882122327:ge=-.019455050281455402:e[7]>.960816451500545?ge=-.13777176433158442:ge=.02722608122697913:e[28]>1e-35?e[194]>1e-35?ge=.09549833737461155:ge=.012447932823540411:e[129]>1e-35?e[26]>1e-35?ge=.147381625399948:ge=-.03418523266130075:e[7]>.26911173821332884?ge=.0014660191124088442:e[217]>1e-35?ge=-.08282397562490618:e[210]>1e-35?ge=-.0386848317545183:ge=-.001892646396528824;let Le;e[57]>1e-35?Le=-.059790543460520464:e[55]>1e-35?Le=-.06524069243313577:e[3]>4.283562780082224?e[37]>1e-35?Le=-.054605342954169904:Le=-.006343751747681404:e[17]>1e-35?Le=.011961708215735271:e[40]>1e-35?Le=-.04296088601962452:e[6]>1e-35?e[24]>1e-35?e[113]>1e-35?e[6]>4.460127707454046?Le=-.026498922218692673:Le=.10501477027016158:e[6]>4.03420147928485?Le=.012792216148037112:e[7]>.9830997303909479?Le=-.2271005546552327:Le=-.008348690537914538:e[9]>1e-35?e[153]>1e-35?e[7]>.20588252599634785?Le=-.004842123367456505:Le=-.03575275485660392:e[99]>1e-35?e[1]>1e-35?Le=.032397176999597294:Le=-.0033271937210452387:e[204]>1e-35?Le=.02154799118278769:Le=.0034498877728340095:e[28]>1e-35?e[6]>3.0677824455408698?e[6]>5.5816130673839615?Le=.01602715871650751:e[7]>.9901971344332651?e[194]>1e-35?Le=-.21161676626091178:e[127]>1e-35?Le=-.4024450297968636:Le=-.030976570087232314:Le=.0031980605341801454:Le=.07943810970798848:e[135]>1e-35?Le=-.00869354055420051:e[123]>1e-35?Le=-.022241787113206086:e[62]>1e-35?Le=.037165483434744594:e[7]>.04507521918085865?e[21]>1e-35?Le=-.013433718654288605:e[155]>1e-35?Le=.00919342834132915:Le=-.0002729025327531227:Le=-.012537468897218136:Le=-.07894994665155514;let Ke;e[4]>.8958797346140276?e[14]>1e-35?Ke=.007800140351631253:e[138]>1e-35?Ke=.007294945388686309:e[1]>1e-35?e[32]>1e-35?e[28]>1e-35?Ke=.09462192942805535:Ke=-.06376046128949985:e[37]>1e-35?Ke=-.06442220885770956:e[140]>1e-35?e[30]>1e-35?Ke=-.09261012186873348:Ke=-.015294712278584928:e[98]>1e-35?Ke=.019329173498247088:e[58]>1e-35?Ke=-.026405515460271967:e[5]>8.608586615680721?e[4]>2.602003343538398?Ke=6125118307170923e-20:Ke=-.009497787119169794:e[40]>1e-35?Ke=-.05491317248554455:e[7]>.30853255358841714?Ke=.003951848833690266:Ke=-.0021827028977256715:e[219]>1e-35?Ke=-.03918852409108207:e[98]>1e-35?Ke=-.025490621458423603:e[218]>1e-35?Ke=.04685239586600909:e[4]>2.970085626360216?e[152]>1e-35?Ke=.019288400231624092:e[132]>1e-35?Ke=.04845025214421127:e[157]>1e-35?Ke=.03681235344369351:e[18]>1e-35?Ke=-.034132162265456074:e[48]>1e-35?Ke=-.04861483835690636:e[142]>1e-35?Ke=-.031057400959951156:e[148]>1e-35?Ke=-.06903688486009983:Ke=-.004426858558248682:e[31]>1e-35?Ke=.06983425899920179:Ke=.002335587968443938:e[19]>1e-35?Ke=.04178364096434334:e[123]>1e-35?Ke=.03954255208630935:e[62]>1e-35?Ke=.07169067239737285:Ke=-.022094630155173406;let et;e[190]>1e-35?et=-.029705030481716018:e[2]>2.4414009612931857?e[125]>1e-35?e[3]>1e-35?et=-.052080713549693486:et=.015237248725743169:e[49]>1e-35?et=-.05738028956460733:e[28]>1e-35?et=.015629889576502864:e[14]>1e-35?et=.007178838639724632:e[217]>1e-35?et=.006873744757442591:e[3]>.8958797346140276?et=-.0009297977761919447:e[4]>2.740319461670996?et=-.0032588616048005344:e[209]>1e-35?et=-.09352716353634213:et=-.015820890219545396:e[0]>1e-35?e[2]>.8958797346140276?e[30]>1e-35?et=.019248760742983276:e[3]>2.861792550976191?e[6]>8.372051799062541?et=.011687619771455333:et=-.014380012538782239:et=.007119108038702808:e[5]>4.424828703319957?e[3]>2.249904835165133?et=-.004571416888569663:e[4]>.8958797346140276?e[2]>1e-35?et=.03291298609827498:et=.056149641245301286:e[6]>5.66469358412419?et=.03259771207074825:et=-.09357704176112766:e[135]>1e-35?e[4]>3.1132683346437333?e[4]>3.276966702012906?et=-.061655392996083594:et=-.32745698278768204:et=.05791789791717941:et=-.018505458368810124:e[2]>1.2424533248940002?et=.0026761409362875913:e[3]>1e-35?e[30]>1e-35?e[210]>1e-35?et=-.039544237504098204:et=-.00840469876565937:e[138]>1e-35?et=-.03964217397514852:et=-4311139741723525e-22:e[5]>6.136645972583987?et=-.022772355719852342:et=.00817231129409795;let St;e[91]>1e-35?St=-.028069212077752072:e[2]>5.1209788959100075?e[25]>1e-35?e[4]>3.314020688089767?St=-.07374751231467579:St=-.012603466600012023:St=-.003323309316995181:e[0]>1e-35?e[2]>1.2424533248940002?e[11]>1e-35?St=-.008138434386494645:e[2]>1.8688348091416842?e[18]>1e-35?St=-.021752576521312197:e[142]>1e-35?St=-.03703704004008216:e[21]>1e-35?St=-.031901873695323615:St=.0007949433315561949:e[156]>1e-35?St=.04622194605125366:St=.007164185384903575:e[156]>1e-35?St=.05649230717257425:e[192]>1e-35?St=-.14560972428612223:e[144]>1e-35?St=-.0847860756426489:e[4]>.8958797346140276?e[2]>.8958797346140276?St=.009443385055723438:e[9]>1e-35?St=.0384706300742172:e[7]>.9738681190948303?e[7]>.9983480540068196?St=.03566002120217884:e[125]>1e-35?St=-.08601531943220733:e[28]>1e-35?St=-.07136595081940608:St=.005430826378707227:St=.026279964393698674:e[2]>.8958797346140276?St=.025916235406054845:St=-.05093685243097706:e[2]>.8958797346140276?e[4]>2.4414009612931857?e[22]>1e-35?St=-.018458649485324576:e[123]>1e-35?St=-.027048533130577097:e[9]>1e-35?St=.005768627348361876:St=.0011976274380886302:e[196]>1e-35?St=.024074476840894424:St=-.0040891042038809855:e[156]>1e-35?St=-.03722816735059365:St=-.004021663177778795;let Et;e[57]>1e-35?Et=-.054174378986311306:e[55]>1e-35?Et=-.05937408126377534:e[35]>1e-35?Et=-.06355743050048665:e[52]>1e-35?Et=-.049028563645544726:e[10]>1e-35?e[152]>1e-35?Et=.023779508772836917:e[217]>1e-35?Et=.00760039749111183:Et=-.005758267779536595:e[6]>1e-35?e[50]>1e-35?Et=-.03899686693288482:e[53]>1e-35?Et=-.06158372699069763:e[19]>1e-35?Et=.009506113370718208:e[154]>1e-35?Et=-.021220440237800273:e[129]>1e-35?e[26]>1e-35?Et=.12643307498280917:Et=-.02322694568396696:e[49]>1e-35?Et=-.03489161935560748:e[173]>1e-35?Et=-.041310484369004336:e[116]>1e-35?Et=-.026931019221510855:e[150]>1e-35?Et=-.04336081700276943:e[46]>1e-35?Et=-.01503021840754708:e[21]>1e-35?Et=-.011723313966476847:e[187]>1e-35?e[30]>1e-35?Et=.029035482597327224:Et=-.020238143126606493:e[22]>1e-35?Et=-.0092659038594408:e[6]>8.954867306462836?Et=-.002270298325316596:e[25]>1e-35?e[1]>1e-35?e[152]>1e-35?Et=.025059955137215612:Et=-.058962720741665454:Et=4061285457160542e-20:e[7]>.787025207541384?Et=.0045073893285534905:e[156]>1e-35?Et=-.00956127321029558:e[153]>1e-35?Et=-.006428735642845697:Et=.0020065887307204903:Et=-.07142994726664682;let Lt;e[190]>1e-35?Lt=-.026482483927372538:e[11]>1e-35?e[153]>1e-35?Lt=-.019448665116575673:e[46]>1e-35?Lt=-.046207503035123526:e[143]>1e-35?Lt=-.060693025841649276:e[125]>1e-35?Lt=-.0635615784828548:Lt=-.0020226769939179086:e[10]>1e-35?e[152]>1e-35?Lt=.021657999498329004:e[217]>1e-35?Lt=.006867901248533881:e[186]>1e-35?Lt=-.17526174685635476:e[7]>.3736576099860928?e[125]>1e-35?Lt=-.06860813037660739:Lt=-.0030373931794416857:e[153]>1e-35?Lt=-.036659407900460406:Lt=-.009138716679401575:e[8]>1e-35?e[141]>1e-35?Lt=.022488528656368925:Lt=-.004824813956579289:e[155]>1e-35?e[29]>1e-35?Lt=-.0923825728762917:Lt=.013279779321478072:e[13]>1e-35?e[29]>1e-35?Lt=-.02015430689927317:Lt=-.0014075476679032272:e[21]>1e-35?Lt=-.010052866682366596:e[15]>1e-35?e[127]>1e-35?Lt=-.11613127921904604:Lt=-.004425492436566155:e[61]>1e-35?Lt=-.04761391619756717:e[38]>1e-35?Lt=.010790742168686546:e[138]>1e-35?e[25]>1e-35?Lt=-.03936956646884221:Lt=.012187893435100131:e[18]>1e-35?e[46]>1e-35?Lt=.052404637972043124:e[29]>1e-35?e[219]>1e-35?Lt=-.026128288926960785:Lt=.01402455905339408:Lt=-.018095204676971146:Lt=.002238241111198228;let Mt;e[3]>4.993822430271426?Mt=-.021704560089024494:e[39]>1e-35?Mt=-.012978601337522922:e[57]>1e-35?Mt=-.04850734344953324:e[190]>1e-35?Mt=-.02323817835232452:e[55]>1e-35?Mt=-.054265924680079236:e[144]>1e-35?Mt=-.020797331827991154:e[52]>1e-35?Mt=-.04407078296749134:e[50]>1e-35?Mt=-.03531075513550682:e[14]>1e-35?e[217]>1e-35?Mt=-.02603818360896512:Mt=.00845420085528292:e[90]>1e-35?e[3]>3.5114340430413216?Mt=.010289606334961197:Mt=-.10259966877314837:e[139]>1e-35?Mt=-.01903913128660918:e[17]>1e-35?e[30]>1e-35?Mt=.027295226228104732:e[38]>1e-35?Mt=.036847447575421244:e[3]>2.861792550976191?Mt=-.016454620470329126:Mt=.010475083165212631:e[19]>1e-35?Mt=.008675111927467:e[40]>1e-35?Mt=-.036362054443170776:e[9]>1e-35?Mt=.0031294075955568394:e[123]>1e-35?Mt=-.02131953072683769:e[24]>1e-35?e[113]>1e-35?e[3]>2.602003343538398?Mt=-.005045224468848018:e[3]>2.3502401828962087?Mt=.1006727710215487:Mt=-.21606952724358763:e[209]>1e-35?Mt=-.07903381656359819:Mt=.0099843967860757:e[28]>1e-35?Mt=.009909672751437115:e[155]>1e-35?e[3]>3.941534675652877?Mt=.04961274235179155:Mt=.005113567009198253:e[158]>1e-35?Mt=.031566828492110836:Mt=-.0012534895812835874;let Tt;e[4]>2.4414009612931857?e[123]>1e-35?Tt=-.022743199998420272:e[47]>1e-35?Tt=-.02199867034393067:e[3]>3.238486181444842?e[155]>1e-35?Tt=.015256601991879549:e[23]>1e-35?Tt=.01997791344831838:e[97]>1e-35?Tt=.024977281654938052:e[218]>1e-35?Tt=.031730655567930977:e[32]>1e-35?e[1]>1e-35?Tt=-.05855958691798028:Tt=-.009630189044251312:e[195]>1e-35?Tt=-.009842090802252708:e[125]>1e-35?Tt=-.030084333742373532:Tt=-.0009935375527704107:e[135]>1e-35?Tt=-.006040875366017567:e[43]>1e-35?Tt=-.03616920022546756:e[44]>1e-35?Tt=-.014787601622259254:e[0]>1e-35?Tt=.005949240867095038:Tt=.0018435357767462809:e[141]>1e-35?e[3]>1e-35?Tt=-.030610116678182732:Tt=.01960307197844505:e[3]>1.2424533248940002?e[101]>1e-35?Tt=-.04366907994393087:e[28]>1e-35?e[194]>1e-35?Tt=.0927536258129216:Tt=.00806369969474508:e[198]>1e-35?Tt=.03402296877725087:Tt=-.00033907517363096143:e[194]>1e-35?e[19]>1e-35?Tt=-.16957712930341856:e[28]>1e-35?Tt=-.2078243840685859:Tt=-.01982072284112783:e[134]>1e-35?Tt=-.059093837808976674:e[155]>1e-35?Tt=-.11429749518431415:e[1]>1e-35?e[123]>1e-35?Tt=.04159085402090426:Tt=-.0053579302271092874:Tt=-.038428527597709254;let _t;e[2]>2.249904835165133?e[53]>1e-35?_t=-.09149569302330776:e[142]>1e-35?_t=-.020143603866796752:e[29]>1e-35?e[1]>1e-35?e[4]>2.740319461670996?e[0]>1e-35?_t=-.005838073295705989:_t=.0025448179376697196:e[217]>1e-35?_t=.010391363152324442:e[6]>3.9219243190762363?e[7]>.9546729796082215?_t=.00016709708501075782:_t=-.019274537854809464:e[7]>.9717523368299734?e[2]>4.848108675189105?_t=.0038332904395533517:e[141]>1e-35?e[6]>3.0677824455408698?_t=-.12592300140122323:_t=-1.2073741246841418:_t=-.17682453022795175:_t=-.004373737265888883:_t=-.032810714691009164:e[18]>1e-35?_t=-.024280045660709612:e[156]>1e-35?_t=-.023509654115095334:e[1]>1e-35?e[141]>1e-35?_t=-.032438707623116556:e[32]>1e-35?_t=-.061272201063817755:_t=.004415514992097752:_t=-.0017176659108089432:e[0]>1e-35?e[6]>6.288787065535392?e[2]>.8958797346140276?_t=.008680085548304642:e[29]>1e-35?_t=.03767506445697859:_t=-.0007537359215762705:e[4]>.8958797346140276?_t=.0002799056937607271:_t=-.039667032027283916:e[2]>1.2424533248940002?_t=.002506908961838236:e[29]>1e-35?e[7]>.950335336459789?_t=.0027367426972748597:_t=-.021265206402010337:e[30]>1e-35?e[210]>1e-35?_t=-.03496264625173957:_t=-.007705718616493613:e[138]>1e-35?_t=-.035840689909527164:_t=.0006855012949462712;let wt;e[2]>5.418317700738354?e[5]>6.0051201133541365?e[156]>1e-35?wt=-.024776046248283234:wt=-.004761578172448051:e[8]>1e-35?wt=-.025343070913887773:wt=.012224469039913016:e[150]>1e-35?wt=-.04079051452350429:e[10]>1e-35?e[152]>1e-35?wt=.019743419118584654:e[186]>1e-35?wt=-.15575093795294756:e[217]>1e-35?wt=.0056968023991711995:wt=-.004356449942923164:e[5]>6.0051201133541365?e[125]>1e-35?wt=-.01597803134795572:e[151]>1e-35?wt=-.05058454115923059:e[50]>1e-35?wt=-.03619853041443809:e[49]>1e-35?wt=-.03261722685392842:e[24]>1e-35?wt=.011909155984778505:e[2]>2.012675845367575?wt=.0004933624031973823:e[219]>1e-35?wt=.015579421213152617:wt=.002812703494519415:e[113]>1e-35?e[24]>1e-35?wt=.09675188599473092:wt=.0008025077587732017:e[204]>1e-35?e[9]>1e-35?e[5]>3.772694874805912?wt=.02609533140492082:e[29]>1e-35?wt=-.21256031284758028:wt=.09442590919716193:wt=-.004086903422513798:e[24]>1e-35?e[5]>3.979637980058199?wt=-.011071875945121415:e[209]>1e-35?wt=-.19367443751378252:wt=-.04414838576908475:e[178]>1e-35?wt=-.06538606241685795:e[100]>1e-35?e[5]>3.772694874805912?wt=-.01294941588968201:e[5]>2.673553765358735?wt=.08150000027300734:wt=-.08989919051554107:wt=-.0032151101072856354;let Ut;e[35]>1e-35?Ut=-.05704221149718709:e[91]>1e-35?Ut=-.023832002943165256:e[102]>1e-35?Ut=.015441451551750014:e[3]>4.993822430271426?Ut=-.020159490027748073:e[4]>2.3502401828962087?e[144]>1e-35?Ut=-.022873219553742163:e[22]>1e-35?Ut=-.01287591196884623:e[47]>1e-35?e[18]>1e-35?Ut=.07657102696661595:Ut=-.0243921910773003:e[150]>1e-35?Ut=-.043982850497096056:e[138]>1e-35?e[25]>1e-35?Ut=-.03740348349716821:Ut=.008237493112057112:e[49]>1e-35?Ut=-.03254806921800082:e[53]>1e-35?Ut=-.057370285686186163:e[3]>4.085941003063911?e[37]>1e-35?Ut=-.04084726667137505:e[155]>1e-35?Ut=.0323666619020495:Ut=-.0038866525930422893:e[118]>1e-35?e[18]>1e-35?Ut=-.0975422096275863:Ut=-.014038224866250074:e[136]>1e-35?Ut=-.03199938604211209:Ut=.0014268928516615767:e[99]>1e-35?Ut=.018668567929263327:e[5]>7.334002872979111?e[156]>1e-35?Ut=-.05380541629812827:e[210]>1e-35?e[30]>1e-35?Ut=-.047112416583853595:Ut=.00900546030963941:e[208]>1e-35?Ut=.02334424121914086:e[158]>1e-35?Ut=.04595592178250823:Ut=-.006709820970668842:e[204]>1e-35?e[5]>3.772694874805912?Ut=.009489783712825852:e[3]>2.249904835165133?Ut=.09999429949553015:Ut=-.03961464289941561:Ut=-.001190853283470586;let Wt;e[39]>1e-35?Wt=-.011391872842603505:e[190]>1e-35?Wt=-.021093147889461955:e[51]>1e-35?e[18]>1e-35?Wt=.08723256651643213:Wt=-.04233732133209843:e[19]>1e-35?Wt=.008078856044745801:e[4]>.8958797346140276?e[60]>1e-35?Wt=-.022165860715145688:e[129]>1e-35?e[3]>3.314020688089767?Wt=.019990677612126993:Wt=-.035520772730423776:e[153]>1e-35?e[2]>.8958797346140276?Wt=-.006946377120973384:e[0]>1e-35?e[8]>1e-35?e[5]>5.692045796563381?Wt=.04230611914121616:Wt=-.1152833284663223:Wt=.03987788751961305:Wt=-.02748865099804465:e[46]>1e-35?e[18]>1e-35?Wt=.047655531405650486:Wt=-.022707509947190632:e[18]>1e-35?e[3]>.8958797346140276?e[31]>1e-35?Wt=.1425984397283696:e[143]>1e-35?Wt=.05597721538261218:Wt=-.02117927246804007:Wt=.011077153043550766:e[143]>1e-35?Wt=-.0158979963012007:e[187]>1e-35?e[30]>1e-35?Wt=.02515771028113912:Wt=-.019084229614362958:e[49]>1e-35?e[1]>1e-35?Wt=.014623537050735559:Wt=-.05320125987679328:e[58]>1e-35?e[3]>3.1132683346437333?Wt=.021421346835282216:Wt=-.03287702034784505:e[16]>1e-35?Wt=.008645735809593434:e[3]>4.993822430271426?Wt=-.01889537207927676:Wt=.00131546333396141:e[153]>1e-35?Wt=-.09822789507794744:Wt=-.010292962989428067;let zt;e[11]>1e-35?e[156]>1e-35?e[4]>3.1132683346437333?zt=-.009153166060719259:zt=-.035386636811765286:e[58]>1e-35?zt=-.03881024236774208:e[153]>1e-35?e[7]>.12645023619128054?zt=-.01286680669029116:zt=-.0573874491021103:e[3]>3.276966702012906?e[38]>1e-35?zt=-.03084033316462023:zt=-.00517175216868761:e[195]>1e-35?zt=.01773824295809578:e[131]>1e-35?zt=-.17828043850421407:zt=.0005554487984838318:e[7]>.14547530463198097?e[105]>1e-35?zt=-.018589129226123456:e[116]>1e-35?zt=-.0227108777687536:e[24]>1e-35?zt=.009520152980411787:e[135]>1e-35?zt=-.004364970908897872:e[0]>1e-35?e[18]>1e-35?zt=-.015737703364129243:zt=.003711277180349787:e[12]>1e-35?e[4]>3.540854293052788?e[155]>1e-35?zt=.04655165952772795:zt=.009321761971665682:e[210]>1e-35?zt=.018839890489201528:e[129]>1e-35?zt=-.03111680952187252:zt=.0002649813454447912:e[23]>1e-35?zt=.014110539528977999:e[109]>1e-35?zt=.014168740682742625:zt=-.0008607565404007093:e[3]>2.3502401828962087?e[9]>1e-35?e[4]>3.3842466058243152?zt=-.004252607769147212:zt=.02017003996344357:e[16]>1e-35?zt=.01594899805169211:zt=-.006372071796745688:e[12]>1e-35?zt=-.0251011457777017:e[121]>1e-35?zt=-.07822588279288774:zt=-.005026529762858;let lr;e[7]>.8375851232899904?e[155]>1e-35?e[3]>1.2424533248940002?lr=.014982109981371684:lr=-.08302064203662592:e[3]>2.602003343538398?e[125]>1e-35?lr=-.02862612402789537:lr=-.0004831913476108919:e[42]>1e-35?lr=-.08030278175390543:e[90]>1e-35?lr=-.11931838045625616:lr=.003328726909052652:e[125]>1e-35?e[3]>1e-35?lr=-.03347653784336098:lr=.0381767649776156:e[3]>2.4414009612931857?e[3]>3.1132683346437333?e[137]>1e-35?lr=.04078434374172937:e[130]>1e-35?lr=.04811471469938318:e[152]>1e-35?lr=.012079515899716571:e[23]>1e-35?lr=.017817807971301534:e[122]>1e-35?lr=.049338146544587284:e[115]>1e-35?lr=.026905923036994708:e[10]>1e-35?lr=-.008135082370740723:e[89]>1e-35?lr=.023584069012120446:e[95]>1e-35?lr=.013988944683250695:lr=-.002584756192745314:e[139]>1e-35?lr=-.04454469703180858:e[99]>1e-35?e[3]>2.524928003624769?lr=.010620580427538877:lr=.047779724434429495:e[131]>1e-35?lr=-.08155143867377633:lr=.0031488702256745843:e[7]>.06275229375044648?e[99]>1e-35?lr=.016956254821045937:e[90]>1e-35?lr=-.11685880917620971:e[210]>1e-35?e[11]>1e-35?lr=-.040607887814632475:lr=-.006287900824728332:lr=-.0018997472673294537:e[14]>1e-35?lr=.02358706984105576:lr=-.01737075534918072;let hr;e[6]>1e-35?e[2]>5.4049245766661995?e[5]>6.441743353550561?e[29]>1e-35?e[4]>2.673553765358735?hr=-.007517267159018327:hr=-.02379463821120899:hr=-.0026543290628044274:e[8]>1e-35?hr=-.022865480180725452:hr=.009005117181880752:e[6]>5.161920636569023?e[0]>1e-35?e[2]>.8958797346140276?e[2]>2.012675845367575?e[3]>2.3502401828962087?hr=.0021573820428423146:hr=-.0046125093600082965:e[3]>3.314020688089767?hr=-.005566488595229649:e[6]>6.288787065535392?hr=.012796965207082116:hr=-.0023971957228440767:e[3]>2.249904835165133?e[2]>1e-35?hr=-.0003832411399288501:e[1]>1e-35?hr=-.03148874544425103:hr=-.3158553329522586:e[2]>1e-35?hr=.025981575700247922:hr=.052944809618023905:e[6]>8.681774988134558?e[3]>2.970085626360216?hr=-.0005280655103032829:hr=-.009402467452152188:e[2]>.8958797346140276?hr=.0018798828715775142:e[3]>1.7005986908310777?hr=-.0002583719758369029:hr=-.014467497542301198:e[128]>1e-35?hr=-.03075061856353219:e[3]>3.0201273556387074?e[8]>1e-35?hr=-.03107874404542307:hr=-.0063178690978266385:e[113]>1e-35?e[24]>1e-35?hr=.10168122236339333:hr=.0027676566086997536:e[100]>1e-35?e[3]>1.4978661367769956?hr=-.019182725682091863:e[3]>1.2424533248940002?hr=.10007959215270637:hr=-.049901874168813753:e[12]>1e-35?hr=-.008354674563617942:hr=.000556773623388255:hr=-.06338083699889271;let or;e[14]>1e-35?e[5]>7.841296344941067?e[217]>1e-35?or=-.03452197748259044:e[141]>1e-35?or=-.05526745933972476:or=.003096257901065188:or=.013468654879205778:e[90]>1e-35?or=-.04633994478668718:e[7]>.04507521918085865?e[39]>1e-35?or=-.011427282692256308:e[188]>1e-35?or=-.11824461537515621:e[17]>1e-35?e[5]>3.276966702012906?or=.009014346731620665:or=-.10784986305366669:e[102]>1e-35?or=.014356846380168074:e[109]>1e-35?or=.0100955463134877:e[31]>1e-35?or=.025672511171270042:e[127]>1e-35?or=-.10904631172619624:e[19]>1e-35?or=.007015456473363717:e[60]>1e-35?or=-.02409044800892067:e[217]>1e-35?e[7]>.9914949911911836?or=.02334115299069277:e[1]>1e-35?or=-29013080593250377e-21:or=.014307421165143329:e[1]>1e-35?e[42]>1e-35?or=-.06673983904970003:e[37]>1e-35?or=-.05636396687178933:e[32]>1e-35?or=-.042854874962508754:e[140]>1e-35?or=-.014546243613252019:e[119]>1e-35?or=.02592806792359847:or=.0008331579108247542:e[12]>1e-35?or=.004348565717870661:e[195]>1e-35?or=-.016064193157584304:e[210]>1e-35?or=-.01896835246692864:e[122]>1e-35?or=.06415669138405272:e[219]>1e-35?or=-.03191239858069586:or=-.0022170295258555585:or=-.00965022020696389;let cr;e[55]>1e-35?cr=-.04649484416236924:e[6]>1e-35?e[35]>1e-35?cr=-.04814595674860986:e[173]>1e-35?cr=-.030965289355370126:e[190]>1e-35?cr=-.01892908615035444:e[50]>1e-35?cr=-.03023310323845746:e[14]>1e-35?e[134]>1e-35?cr=.029102388421738776:e[217]>1e-35?cr=-.021829759931582565:cr=.005209049556942947:e[90]>1e-35?e[3]>3.276966702012906?cr=.007482519637019732:e[28]>1e-35?cr=.08823476156200263:cr=-.1134870648564767:e[17]>1e-35?e[5]>3.156774023138548?e[3]>2.861792550976191?e[134]>1e-35?cr=.037573808092493166:cr=-.008120569804875069:cr=.015185866424900767:cr=-.10150107137017012:e[39]>1e-35?cr=-.011108691883331833:e[4]>2.4414009612931857?e[123]>1e-35?cr=-.019406534412652932:e[22]>1e-35?cr=-.011646225036274034:e[118]>1e-35?e[1]>1e-35?cr=.007977856608752276:cr=-.038946271309380914:cr=.0009257226566265858:e[101]>1e-35?e[6]>5.769881059461895?cr=-.06484570063989317:cr=.016294764421436982:e[29]>1e-35?e[204]>1e-35?e[5]>5.859359688974663?cr=.036329398743295674:cr=-.20474934656494398:e[4]>1.7005986908310777?cr=-.0005630875641286038:e[5]>3.5694334999727624?e[19]>1e-35?cr=.03322386202318951:cr=-.01687696637036405:cr=-.10533305728771972:cr=-.0004901077590279651:cr=-.05758869249681345;let Zt;e[57]>1e-35?Zt=-.043478488738181505:e[53]>1e-35?Zt=-.05188532777589009:e[11]>1e-35?e[156]>1e-35?Zt=-.01733439245316815:e[58]>1e-35?Zt=-.03508850349398082:e[134]>1e-35?e[38]>1e-35?e[3]>3.156774023138548?Zt=-.02641618586067251:Zt=.0053883499998111746:Zt=-.04111067521339709:e[46]>1e-35?Zt=-.03960880739147387:e[56]>1e-35?Zt=.02833430038101972:e[3]>4.548585836935273?Zt=-.028156779064728323:Zt=-.0006287807275955149:e[105]>1e-35?Zt=-.018589321466431944:e[187]>1e-35?e[30]>1e-35?Zt=.021938681282791916:Zt=-.016917430307970042:e[7]>.015258684697466883?e[132]>1e-35?Zt=.026815659384164206:e[204]>1e-35?e[7]>.992067132663463?Zt=-.010565408217521758:e[7]>.9738681190948303?e[9]>1e-35?e[30]>1e-35?Zt=.09345774314045512:Zt=-.003460687191126055:Zt=.009778848673591349:Zt=.006207652194161698:e[134]>1e-35?e[14]>1e-35?Zt=.026940863472122597:Zt=.004032635910042969:e[16]>1e-35?e[156]>1e-35?Zt=-.014571620220052964:e[219]>1e-35?Zt=.03394257525872151:e[189]>1e-35?Zt=-.16441255476933125:Zt=.006890416623408193:e[7]>.5866799179067689?e[156]>1e-35?e[9]>1e-35?Zt=-.002374233797129139:Zt=.015343494638416642:Zt=.0007085956801478842:Zt=-.0014226167854637043:Zt=-.014931890774210171;let ur;e[52]>1e-35?ur=-.040552145534119004:e[88]>1e-35?ur=-.11616238297789526:e[147]>1e-35?e[21]>1e-35?ur=.08405882357263977:ur=-.028120036866471673:e[89]>1e-35?ur=.013417411709807947:e[138]>1e-35?e[25]>1e-35?ur=-.03104795267483152:e[8]>1e-35?ur=-.013793892541819341:ur=.007067793368543704:e[3]>4.212100162283537?e[37]>1e-35?ur=-.04169781427571004:e[59]>1e-35?ur=.039366779099462186:e[190]>1e-35?ur=-.0746572875957972:ur=-.0046665287028623895:e[31]>1e-35?e[3]>3.3497501700808394?ur=-.015043885860062665:ur=.04427790295514171:e[127]>1e-35?ur=-.09222397003880911:e[188]>1e-35?ur=-.11791399942046604:e[116]>1e-35?ur=-.022670774074606673:e[21]>1e-35?e[118]>1e-35?ur=-.08590814127371893:ur=-.009079159755287763:e[10]>1e-35?e[153]>1e-35?e[7]>.12025037553499339?ur=-.010834658570263708:ur=-.06942979142484561:e[59]>1e-35?ur=-.0368654965105411:e[186]>1e-35?ur=-.13585047638050318:ur=-.001475385731000911:e[11]>1e-35?e[47]>1e-35?ur=-.07021793045868131:e[58]>1e-35?ur=-.03264322466138671:e[153]>1e-35?e[7]>.4982752029697964?ur=-.000719771928860618:ur=-.02550581685370434:ur=-.001300530189452872:e[216]>1e-35?ur=-.04553949138490546:ur=.0013445292966782988;let ve;e[152]>1e-35?ve=.005642349825665321:e[108]>1e-35?e[1]>1e-35?ve=.012759171568581189:ve=-.0015650437871311187:e[102]>1e-35?ve=.012533880283367552:e[10]>1e-35?e[4]>1.4978661367769956?e[7]>.9888588760569341?ve=.007453521083396632:ve=-.0036225862281260785:e[3]>.8958797346140276?ve=-.0027177080775155366:e[5]>5.782284349061034?ve=-.04454373321655838:ve=.021964247026786614:e[11]>1e-35?e[47]>1e-35?ve=-.06196070580382676:e[121]>1e-35?e[1]>1e-35?ve=-.06122312462911518:e[7]>.3847172300624272?ve=.03518239795956787:e[3]>2.4414009612931857?ve=.006811972713764457:ve=-.0933556055347465:e[5]>4.938058177869999?ve=-.004012086267764631:ve=.01930669434547199:e[5]>6.0051201133541365?e[27]>1e-35?ve=-.012304580143719986:ve=.0013650712455989071:e[3]>2.802901033147999?ve=-.0083470520183599:e[7]>.5811983411966435?e[7]>.990877425524446?e[219]>1e-35?e[3]>1e-35?ve=.06211865200552023:e[17]>1e-35?ve=.06775644666502018:ve=-.06866304616688222:e[217]>1e-35?ve=.059656960273077646:ve=-.004328630560280456:e[204]>1e-35?e[4]>2.249904835165133?ve=.006371564018556469:e[3]>2.138333059508028?ve=.09486061534469152:ve=-.09409330595635478:e[4]>2.602003343538398?ve=.011308844028341723:e[100]>1e-35?ve=.0439316487073224:ve=-.003403233436702135:ve=-.00960652384005499;let O;e[144]>1e-35?e[18]>1e-35?O=.07197995497453837:e[1]>1e-35?O=-.001274320993832369:O=-.040032546534329444:e[52]>1e-35?e[18]>1e-35?O=.09098124993319018:O=-.04537404774072243:e[40]>1e-35?O=-.02515534903180516:e[53]>1e-35?O=-.04736675675905027:e[178]>1e-35?O=-.021374380471858013:e[55]>1e-35?O=-.04240162360893064:e[51]>1e-35?e[18]>1e-35?O=.07999652271774131:O=-.036649228565504045:e[109]>1e-35?O=.009067075019741765:e[54]>1e-35?e[1]>1e-35?O=.019160818735605257:O=-.05967997790089002:e[35]>1e-35?O=-.043420689526233285:e[173]>1e-35?O=-.027561163630755333:e[190]>1e-35?O=-.016370101115869642:e[14]>1e-35?e[217]>1e-35?O=-.019735056448517897:e[141]>1e-35?O=-.028090004807030017:O=.006865378253320941:e[139]>1e-35?e[1]>1e-35?O=-.032389864623829076:O=.005458607214221278:e[60]>1e-35?O=-.019089857559617188:e[153]>1e-35?e[18]>1e-35?O=.015189336996079859:e[19]>1e-35?O=.013745154147527805:e[1]>1e-35?O=-.005284271350108698:O=-.0374184512092477:e[18]>1e-35?e[99]>1e-35?O=-.0595395395199616:e[100]>1e-35?O=-.09991342902311327:O=-.0042488091801234805:O=.0006682804828197052;let me;e[46]>1e-35?me=-.012191380765172536:e[88]>1e-35?me=-.10266216005056819:e[91]>1e-35?me=-.018445844031974568:e[50]>1e-35?me=-.027431707051961525:e[144]>1e-35?e[7]>.9945060383544003?me=.03614842925379388:me=-.02095650990295711:e[4]>2.4414009612931857?e[123]>1e-35?e[3]>3.0201273556387074?me=-.01053451990903616:me=-.05114195197878968:e[16]>1e-35?me=.007316468830803533:e[9]>1e-35?me=.003316750172048933:me=860911526134492e-20:e[141]>1e-35?e[3]>1e-35?me=-.02547358042212171:me=.019472890771357998:e[186]>1e-35?me=-.09288424685816356:e[41]>1e-35?me=-.1310231930206974:e[42]>1e-35?me=-.056216247465863484:e[29]>1e-35?e[5]>3.5694334999727624?e[134]>1e-35?me=-.054747915129536466:e[1]>1e-35?e[131]>1e-35?me=-.16815706432319097:me=-.002818043413853223:me=-.041951940639575136:e[7]>.960816451500545?e[219]>1e-35?me=.10052885656939581:me=-.11599835225683999:me=.029922858316313545:e[101]>1e-35?e[5]>7.429817490674132?me=-.06576516230122952:me=-.0008540865426696243:e[210]>1e-35?e[114]>1e-35?me=.013062456952379193:e[7]>.7267616382562012?me=.0022613700798703854:me=-.03938763940013096:e[59]>1e-35?e[12]>1e-35?me=.008501036224046256:me=-.06542467236134167:me=.002585754319607976;let ye;e[28]>1e-35?ye=.008779900390406317:e[7]>.9880960409521241?e[8]>1e-35?ye=-.008991654120695218:e[3]>1e-35?e[140]>1e-35?ye=-.02731072195122447:ye=.002008744895602654:e[217]>1e-35?ye=.02359361264236281:ye=.007024522001417586:e[2]>2.138333059508028?e[3]>2.4414009612931857?e[125]>1e-35?ye=-.04199133736767654:e[47]>1e-35?ye=-.027561033349225085:e[3]>4.085941003063911?e[12]>1e-35?ye=.007807873722550442:e[152]>1e-35?ye=.030689318204494505:e[137]>1e-35?ye=.06699720359975746:ye=-.010441301216813357:e[118]>1e-35?ye=-.03153852460438172:e[48]>1e-35?ye=-.03440026517387997:ye=.0015296602873888215:e[0]>1e-35?e[2]>6.607325405747152?ye=-.027110120892630915:e[153]>1e-35?ye=-.017016088064422574:ye=-.005723165911539293:e[187]>1e-35?ye=-.031718114891806884:ye=-.0005272212291525389:e[0]>1e-35?e[2]>.8958797346140276?e[46]>1e-35?ye=-.09171631422683799:ye=.003327268948098216:e[3]>2.3502401828962087?e[125]>1e-35?ye=-.5887915327321841:e[2]>1e-35?ye=-.006637502258168407:ye=-.08424468641004934:e[125]>1e-35?ye=-.06617256968162606:ye=.028846174454930092:e[2]>1.2424533248940002?e[15]>1e-35?ye=-.016616715415331784:ye=.002680237807803091:e[3]>1e-35?ye=-.0012589163812412535:ye=-.015154395987664649;let Y;e[6]>9.286096980078398?e[4]>2.970085626360216?Y=-.001155963563974424:Y=-.011949331884445141:e[6]>6.3071868642287745?e[2]>5.150393035655617?Y=-.0033183579364470086:e[11]>1e-35?Y=-.0018887492076874403:e[169]>1e-35?Y=-.09486398911649394:Y=.0025252552927441433:e[4]>3.0677824455408698?e[7]>.09963982551990838?e[141]>1e-35?e[6]>3.314020688089767?Y=.012137569190879735:Y=.09584425242224671:e[8]>1e-35?e[7]>.987306237235768?e[2]>.8958797346140276?Y=-.020817404206469048:Y=-.06464699261956137:Y=-.008121005894366425:Y=-.002273798477153842:e[4]>3.5114340430413216?Y=-.024199637055494112:Y=-.0044500308011184275:e[12]>1e-35?Y=-.00483411782477681:e[5]>3.156774023138548?e[8]>1e-35?e[5]>3.772694874805912?e[6]>3.795426061844291?Y=.0013628724281773107:Y=-.04205266437322089:e[141]>1e-35?e[4]>2.861792550976191?e[5]>3.417592293073651?Y=-.15445392240959782:e[2]>2.970085626360216?Y=-.5683130345409004:Y=-1.2639522532467855:Y=-.12861577169349267:Y=-.08527127841498366:e[4]>2.4414009612931857?e[7]>.29163353806150266?Y=.003881870206848933:Y=.01474849027472377:e[18]>1e-35?e[219]>1e-35?Y=-.07387984252991263:Y=-.013089382916580447:Y=-.0008129634296833813:e[3]>2.3502401828962087?e[2]>3.1132683346437333?Y=.019943967048858428:Y=-.04278248600927625:e[17]>1e-35?Y=-.11809979934412335:Y=.03777084692378827;let L;e[57]>1e-35?L=-.03805766278012468:e[6]>9.286096980078398?e[2]>3.725620842493839?L=-.010152097691926694:L=-.000726856757223527:e[25]>1e-35?e[4]>2.917405368531303?e[6]>4.226807104886684?e[5]>8.866229029069968?L=.016965184252348844:L=-.027524673351863413:L=-.09999982742666325:e[219]>1e-35?L=-.11642840619184194:e[6]>3.1984648276080736?L=.02202934385365115:L=-.0758508504188626:e[17]>1e-35?e[5]>3.276966702012906?e[3]>2.861792550976191?e[38]>1e-35?L=.03529859841404316:L=-.005442656204983076:L=.013832633319757828:L=-.07099090377505678:e[40]>1e-35?e[12]>1e-35?L=.020780509349314687:L=-.0412229778697227:e[178]>1e-35?e[6]>4.832297822126891?L=-.012751356404573045:L=-.07365946414911166:e[6]>1e-35?e[91]>1e-35?L=-.018973855754862178:e[31]>1e-35?e[3]>3.3497501700808394?L=-.019342018507399077:L=.04336755184633714:e[52]>1e-35?L=-.034601279556920723:e[53]>1e-35?L=-.04570921257037347:e[4]>2.4414009612931857?e[22]>1e-35?L=-.009909029766665835:e[88]>1e-35?L=-.13759996623650647:L=.0010774168904012999:e[90]>1e-35?L=-.09942790916464699:e[5]>8.17933999189099?L=-.006237804261380787:e[154]>1e-35?L=-.02869365685254793:e[41]>1e-35?L=-.11951308633255478:L=.0005720279396045617:L=-.05091927304878396;let Ie;e[2]>8.18910569469239?Ie=-.011281718118735835:e[2]>8.136957041085973?Ie=.007639929297282146:e[2]>6.178980383851587?Ie=-.006867711027875817:e[6]>4.5379471377116305?e[125]>1e-35?e[3]>1e-35?Ie=-.026657037414316055:Ie=.03822052894720058:e[89]>1e-35?Ie=.01442240494610187:Ie=.0005482931472826037:e[3]>2.970085626360216?e[8]>1e-35?Ie=-.04157937378268839:e[25]>1e-35?Ie=-.07438346384769444:Ie=-.007688780027797844:e[113]>1e-35?e[24]>1e-35?Ie=.10208422768618285:Ie=-.0025376848550412623:e[24]>1e-35?e[209]>1e-35?e[7]>.9738681190948303?Ie=-.18081467351794253:Ie=.06403272706376394:Ie=-.006045919721112658:e[100]>1e-35?e[3]>1.4978661367769956?Ie=-.034372452343283254:e[3]>1.2424533248940002?Ie=.10087241747333926:Ie=-.06270133551905664:e[12]>1e-35?e[209]>1e-35?Ie=.02872327658284419:Ie=-.012940407270969699:e[5]>3.276966702012906?e[8]>1e-35?Ie=-.02165149142042258:e[3]>2.249904835165133?Ie=.011522668417532612:Ie=-.005129494488342788:e[3]>2.3502401828962087?e[2]>3.1132683346437333?Ie=.018894357520732635:Ie=-.03443967069634786:e[19]>1e-35?e[0]>1e-35?Ie=.0868126244943877:e[2]>1.4978661367769956?e[194]>1e-35?Ie=-.16834554324370338:Ie=.08799302490518951:Ie=.007907573815540844:e[17]>1e-35?Ie=-.07843101628051594:Ie=.04322926522720053;let Me;e[7]>.987306237235768?e[8]>1e-35?e[5]>6.285066127789834?Me=6536595256810364e-20:e[153]>1e-35?Me=-.07687008855803332:Me=-.015088524832702519:e[18]>1e-35?Me=-.012556097563484098:e[217]>1e-35?e[5]>8.28387302567733?Me=-.004574660978375117:Me=.02566519458840368:Me=.003837771337656032:e[28]>1e-35?e[194]>1e-35?e[29]>1e-35?e[5]>3.979637980058199?Me=.04675774128546983:Me=-.16922871147253024:e[5]>5.821564412917691?Me=.017788548280824237:Me=.101599048954043:e[5]>4.424828703319957?Me=.009470487487627452:Me=-.046977132290520585:e[95]>1e-35?Me=.008579165333164537:e[204]>1e-35?e[7]>.9782662069407232?e[9]>1e-35?Me=.0717824359443052:Me=.01776258010455891:Me=.003970948558978321:e[208]>1e-35?e[1]>1e-35?Me=.012428835257375037:e[18]>1e-35?Me=-.08152843296689005:Me=-.0059907248803252305:e[109]>1e-35?Me=.008117980905290326:e[89]>1e-35?e[1]>1e-35?Me=-.08097766993639294:Me=.014258345453663996:e[62]>1e-35?Me=.025185598552042956:e[213]>1e-35?Me=.01261362855232781:e[138]>1e-35?e[1]>1e-35?e[29]>1e-35?Me=.004355449069502461:Me=-.03327693117307522:e[29]>1e-35?Me=-.024228224306581475:e[5]>5.244385543610066?Me=.01690188327986934:Me=-.02426164440751183:Me=-.0016932467092565535;let Ct;e[116]>1e-35?Ct=-.018106356667092538:e[24]>1e-35?e[113]>1e-35?e[5]>4.658699722134796?Ct=-.0289267666661116:Ct=.10225466717059267:e[5]>3.979637980058199?Ct=.007715497036238576:e[209]>1e-35?Ct=-.1596622066794057:Ct=-.02153459011172981:e[46]>1e-35?e[18]>1e-35?Ct=.044010040060630896:Ct=-.018791912393741998:e[39]>1e-35?Ct=-.008648992983623099:e[3]>4.993822430271426?Ct=-.01442291433054286:e[158]>1e-35?Ct=.023944934429097977:e[21]>1e-35?Ct=-.008731676115726167:e[51]>1e-35?e[18]>1e-35?Ct=.07015276907667169:Ct=-.03981801316250594:e[152]>1e-35?e[12]>1e-35?e[7]>.9811887196001154?Ct=.025342984951627335:e[56]>1e-35?Ct=-.039652717595259894:Ct=-.003499774006708361:e[4]>3.676220550121792?Ct=.026612369959601385:e[0]>1e-35?e[2]>2.012675845367575?Ct=.012259156005894655:Ct=.04466570041636591:Ct=.002369030228609974:e[50]>1e-35?Ct=-.02625338435100237:e[198]>1e-35?e[5]>3.156774023138548?e[4]>2.602003343538398?Ct=.004706524615587467:Ct=.03172381727140614:Ct=-.08877100979833137:e[19]>1e-35?e[156]>1e-35?Ct=.047690620764284854:Ct=.004980692597287184:e[188]>1e-35?Ct=-.10330323519600788:e[108]>1e-35?Ct=.006389080836282864:e[217]>1e-35?Ct=.0034861135133741716:Ct=-.0005184951270632008;let qt;e[150]>1e-35?qt=-.03083355660591381:e[6]>8.681774988134558?e[0]>1e-35?qt=.0032708551521722813:e[3]>2.970085626360216?qt=-.0008773771112515323:qt=-.008194765714031488:e[1]>1e-35?e[42]>1e-35?qt=-.0544661644610188:e[114]>1e-35?qt=.014743200719322279:e[25]>1e-35?qt=-.03415156332118204:e[121]>1e-35?e[0]>1e-35?qt=-.012241568524042012:qt=-.08332027167107449:e[119]>1e-35?qt=.02487058944439717:e[210]>1e-35?e[4]>2.602003343538398?qt=.003409540133128587:e[7]>.985694415330804?qt=.014360134818665793:qt=-.029939754177999198:e[140]>1e-35?e[30]>1e-35?qt=-.07017324311241228:qt=-.00954038893956995:e[32]>1e-35?qt=-.0321895511220355:qt=.0018389054792352236:e[3]>.8958797346140276?e[138]>1e-35?qt=.014210083256713822:e[3]>2.970085626360216?e[56]>1e-35?qt=.03179391063657913:e[132]>1e-35?qt=.044860161753142676:e[122]>1e-35?qt=.056053352587009365:e[44]>1e-35?qt=.011126140459263092:e[217]>1e-35?qt=.015177735064648389:e[30]>1e-35?qt=.00292550151642784:e[0]>1e-35?qt=-.01370614277688821:qt=-.00467240699644943:e[30]>1e-35?e[17]>1e-35?qt=.06455607454604466:qt=-.018525791968354337:e[127]>1e-35?qt=.058525937257934674:qt=.004550050432870272:qt=-.024273015893662056;let Ft;e[57]>1e-35?Ft=-.03433295479723807:e[35]>1e-35?Ft=-.039185287251387806:e[2]>8.18910569469239?Ft=-.01005594457537474:e[2]>8.136957041085973?Ft=.006899889609485921:e[2]>5.6542404955442525?e[156]>1e-35?Ft=-.021428903659715646:Ft=-.003794036359277691:e[6]>4.3882378946731615?e[125]>1e-35?Ft=-.012625422706971806:e[0]>1e-35?e[2]>.8958797346140276?e[32]>1e-35?Ft=.024078606665492636:e[6]>6.9309832857755405?e[2]>2.012675845367575?Ft=.00015676395930232578:Ft=.008324926956588046:Ft=-.0031526636810443134:e[156]>1e-35?Ft=.053603289446623514:e[6]>5.912149824839399?Ft=.022861200347258755:e[128]>1e-35?e[9]>1e-35?Ft=-.44322676747225076:Ft=-.07989645752877887:Ft=.005736631305989689:e[6]>9.286096980078398?Ft=-.005302861539231229:e[133]>1e-35?Ft=-.011410750972764748:e[2]>1e-35?e[139]>1e-35?Ft=-.01695599188677891:e[12]>1e-35?e[129]>1e-35?Ft=-.029257180272820173:e[106]>1e-35?Ft=.03593102425808264:e[59]>1e-35?Ft=.03336711951593411:e[114]>1e-35?Ft=.021293721644930708:Ft=.0031644417228525465:e[140]>1e-35?e[2]>2.802901033147999?Ft=.005338088459754211:Ft=-.018863893195455395:e[59]>1e-35?e[20]>1e-35?Ft=-.2145461556048109:Ft=-.013833058686928565:Ft=.0010745795613665528:Ft=-.003974960846380726:Ft=-.004018386137909663;let tr;e[55]>1e-35?tr=-.038436881673730244:e[49]>1e-35?e[1]>1e-35?tr=.013340924551504776:tr=-.04038081752369706:e[135]>1e-35?e[17]>1e-35?tr=.02160784630817418:e[6]>4.722943345003718?e[2]>3.9981586158983733?tr=-.012347824466576033:tr=-.000545766507983511:e[4]>3.0201273556387074?e[2]>1e-35?tr=-.0252070573488502:tr=-.13173630032620282:tr=.009893647988200364:e[6]>1e-35?e[73]>1e-35?tr=-.05384174968342247:e[52]>1e-35?e[1]>1e-35?tr=.02326718288961822:tr=-.04799167043714381:e[7]>.8453853180651066?e[4]>3.481121732133104?e[12]>1e-35?e[59]>1e-35?tr=.061286381265316374:e[3]>3.481121732133104?tr=.005424469650470853:e[6]>4.310776603370241?tr=.014609485744972962:tr=.06126754321077295:e[156]>1e-35?e[2]>8.898092196194755?tr=-.2427431056579565:tr=.018014774163852717:tr=.0018695162213364096:e[61]>1e-35?tr=-.07802947082997094:e[45]>1e-35?tr=-.024426413301391545:e[140]>1e-35?e[4]>.8958797346140276?tr=-.021126260874271455:e[6]>4.03420147928485?tr=-.08415757514826445:e[3]>1e-35?tr=.10708927158160722:tr=-.24178647896179492:tr=.0008522369825914582:e[218]>1e-35?tr=.02373187641553724:e[57]>1e-35?tr=-.04729470896114382:e[6]>4.135134555718313?tr=-.00014270136560779048:tr=-.007024429214918294:tr=-.08338039048086893;let ir;e[72]>1e-35?ir=.056415744834310104:e[102]>1e-35?ir=.010312560108512227:e[109]>1e-35?ir=.007457767681676636:e[208]>1e-35?e[4]>3.0677824455408698?e[18]>1e-35?ir=-.06595581480202953:ir=.0010087955639505731:ir=.010976237400105874:e[4]>2.4414009612931857?e[123]>1e-35?e[2]>4.5900436644025815?ir=-.05474288807524913:ir=-.010369052951168002:e[47]>1e-35?e[18]>1e-35?ir=.06670108938458437:e[20]>1e-35?ir=.08555144132474565:ir=-.021968528557862133:e[48]>1e-35?e[18]>1e-35?ir=.06392608504748652:ir=-.02321056177872842:e[54]>1e-35?ir=-.03592967725793262:e[6]>5.519456907163478?ir=.0008682946366782881:e[133]>1e-35?ir=-.029370515479889298:e[4]>3.0201273556387074?ir=-.004567764283497172:e[12]>1e-35?ir=-.008355751724201374:e[113]>1e-35?ir=.04158028065835193:ir=.005544170962219649:e[141]>1e-35?ir=-.01706283616408152:e[186]>1e-35?ir=-.08075713781164345:e[196]>1e-35?e[4]>2.012675845367575?ir=-.004591551989937031:e[4]>.8958797346140276?e[18]>1e-35?ir=-.1239344826496822:ir=.026355647530608275:ir=-.07955511774996737:e[41]>1e-35?ir=-.10181506412232362:e[42]>1e-35?ir=-.0453542732395041:e[116]>1e-35?ir=-.040407946567398226:e[158]>1e-35?ir=.027239009428531448:ir=-.002118967070037752;let Ot;e[174]>1e-35?Ot=-.02339144841300339:e[173]>1e-35?Ot=-.02466576607302462:e[60]>1e-35?Ot=-.014400177078045:e[187]>1e-35?Ot=-.009580909976967153:e[6]>8.681774988134558?Ot=-.0018832004566674773:e[1]>1e-35?e[42]>1e-35?e[10]>1e-35?Ot=-.13287881120130746:Ot=-.03759084751116859:e[25]>1e-35?Ot=-.029737667621816583:e[119]>1e-35?Ot=.022639692376110337:e[98]>1e-35?Ot=.014991063146855506:e[195]>1e-35?e[6]>3.417592293073651?Ot=.008961268500787772:Ot=-.023240187732927162:e[61]>1e-35?e[7]>.428769371249852?Ot=-.08413653233956772:Ot=.0010489731231787087:e[140]>1e-35?e[3]>.8958797346140276?e[5]>4.855921334140645?e[44]>1e-35?Ot=-.009299863216357543:Ot=-.0613782065666655:Ot=-.06705655672927394:e[5]>3.772694874805912?Ot=.0008635593500817348:Ot=.08361268069705163:Ot=.001087642897550713:e[98]>1e-35?Ot=-.021712258264119783:e[3]>.8958797346140276?e[105]>1e-35?Ot=-.039681509263849626:e[195]>1e-35?e[18]>1e-35?Ot=-.07079074829049314:Ot=-.008109353986158243:e[210]>1e-35?e[18]>1e-35?Ot=-.10610285355896108:Ot=-.009292320249100847:e[157]>1e-35?Ot=.03507595269407085:e[97]>1e-35?Ot=.0249669535461336:e[48]>1e-35?Ot=-.027595291123779366:Ot=.0011643902717306173:Ot=-.0211420439263067;let vt;e[138]>1e-35?e[1]>1e-35?e[42]>1e-35?e[3]>3.5114340430413216?vt=-.022448598781455772:vt=-.07031164685918086:e[2]>1e-35?e[2]>2.740319461670996?vt=.00894455632762117:vt=-.003454709734759444:e[0]>1e-35?vt=.060858110677215166:vt=-.03435493609374257:e[3]>2.602003343538398?e[2]>.8958797346140276?vt=.0168978378983998:vt=-.009237748165804088:vt=-.016931758267026403:e[3]>4.424828703319957?vt=-.005659352703826067:e[24]>1e-35?e[113]>1e-35?e[6]>4.460127707454046?vt=-.023722482692479133:vt=.10064484300766507:e[6]>4.03420147928485?vt=.007526717802235146:e[209]>1e-35?e[4]>2.970085626360216?vt=.11711852031495243:vt=-.15067622815741855:vt=-.011085192149895408:e[108]>1e-35?vt=.0059255171206349135:e[19]>1e-35?e[156]>1e-35?vt=.04454460743043898:e[37]>1e-35?vt=-.14161163738926447:e[4]>1.4978661367769956?e[4]>1.7005986908310777?e[217]>1e-35?vt=-.020705364221039385:vt=.006460529078997639:e[0]>1e-35?e[98]>1e-35?vt=.10347448218504114:vt=-.04090123141769794:e[6]>5.636572136251498?vt=-.001212671493834005:e[2]>1.8688348091416842?vt=-.15821279618670178:vt=-.03563734739460456:vt=.027924859655082585:e[57]>1e-35?vt=-.03743904649648422:e[35]>1e-35?vt=-.0414066369468363:e[46]>1e-35?vt=-.011240341460759123:vt=-.0003091959047563666;let sr;e[14]>1e-35?e[5]>7.841296344941067?e[141]>1e-35?sr=-.04382809259971909:e[217]>1e-35?e[4]>3.417592293073651?sr=-.05008164665262682:sr=.0007032387608254502:e[190]>1e-35?sr=-.19371592847895003:sr=.0017489801221668277:e[129]>1e-35?sr=-.24591656603456258:sr=.011026730387591234:e[72]>1e-35?sr=.05658163433406649:e[90]>1e-35?e[4]>3.5114340430413216?sr=.017141361021852975:e[28]>1e-35?sr=.07243997319099477:sr=-.08677988948169385:e[138]>1e-35?sr=.0038201430289573884:e[23]>1e-35?e[4]>2.917405368531303?sr=.014990462643385919:sr=-.013592080985068531:e[217]>1e-35?e[4]>1.8688348091416842?sr=.0022421195021632245:e[4]>1.2424533248940002?sr=.03891295508085918:e[4]>.8958797346140276?sr=-.08902318396862074:sr=.02476911275463073:e[2]>3.1132683346437333?e[29]>1e-35?e[19]>1e-35?sr=.023731839695418987:e[5]>7.366761104104307?e[4]>3.417592293073651?e[6]>6.633975895571033?e[8]>1e-35?sr=.016171629088047517:e[134]>1e-35?sr=.03196373735768742:sr=-.006820341969572339:sr=-.02712238491085242:sr=-.016309188486296804:sr=-.0019386576944297078:e[156]>1e-35?sr=-.03079416196682616:e[123]>1e-35?sr=-.020888866054988395:e[4]>3.238486181444842?sr=-.0027078359220281674:e[141]>1e-35?sr=-.029581214969996845:sr=.002299670778244013:sr=.0001804027795430786;let Po=Sat(t+r+n+i+s+a+l+c+u+f+m+h+p+A+x+E+v+b+S+B+P+F+q+ne+ce+Z+G+U+ie+J+H+M+j+X+ae+re+le+de+Re+Ee+Oe+_e+Je+ut+ot+at+oe+Pe+Ae+We+z+te+Ne+Se+Ce+Ue+Ve+Ze+yt+Dt+At+Vt+$t+nr+ge+Le+Ke+et+St+Et+Lt+Mt+Tt+_t+wt+Ut+Wt+zt+lr+hr+or+cr+Zt+ur+ve+O+me+ye+Y+L+Ie+Me+Ct+qt+Ft+tr+ir+Ot+vt+sr);return[1-Po,Po]}o(IEe,"treeScore");function Sat(e){if(e<0){let t=Math.exp(e);return t/(1+t)}return 1/(1+Math.exp(-e))}o(Sat,"sigmoid");var ju=class{static{o(this,"ContextualFilterManager")}constructor(){this.previousLabel=0,this.previousLabelTimestamp=Date.now()-3600,this.probabilityAccept=0}};function TEe(e){let t=e.split(`
`);return t[t.length-1].length}o(TEe,"getLastLineLength");function wEe(e,t,r){let n=e.get(ju),i=n.previousLabel,s=0;"afterCursorWhitespace"in t.properties&&t.properties.afterCursorWhitespace==="true"&&(s=1);let a=(Date.now()-n.previousLabelTimestamp)/1e3,l=Math.log(1+a),c=0,u=0,f=r.prefix;if(f){c=Math.log(1+TEe(f));let B=f.slice(-1);Gc[B]!==void 0&&(u=Gc[B])}let m=0,h=0,p=f.trimEnd();if(p){m=Math.log(1+TEe(p));let B=p.slice(-1);Gc[B]!==void 0&&(h=Gc[B])}let A=0;if("documentLength"in t.measurements){let B=t.measurements.documentLength;A=Math.log(1+B)}let x=0;if("promptEndPos"in t.measurements){let B=t.measurements.promptEndPos;x=Math.log(1+B)}let E=0;if("promptEndPos"in t.measurements&&"documentLength"in t.measurements){let B=t.measurements.documentLength;E=(t.measurements.promptEndPos+.5)/(1+B)}let v=0;BZ[t.properties.languageId]!==void 0&&(v=BZ[t.properties.languageId]);let b=0,S=new Array(221).fill(0);return S[0]=i,S[1]=s,S[2]=l,S[3]=c,S[4]=m,S[5]=A,S[6]=x,S[7]=E,S[8+v]=1,S[29+u]=1,S[125+h]=1,b=IEe(S)[1],e.get(ju).probabilityAccept=b,b}o(wEe,"contextualFilterScore");d();d();d();d();var dw=class{constructor(t){this.node=t;this.children=[];this.collapsed=!1}static{o(this,"StatementNode")}addChild(t){t.parent=this,t.nextSibling=void 0,this.children.length>0&&(this.children[this.children.length-1].nextSibling=t),this.children.push(t)}childrenFinished(){}containsStatement(t){return this.node.startIndex<=t.node.startIndex&&this.node.endIndex>=t.node.endIndex}statementAt(t){if(this.node.startIndex>t||this.node.endIndex<t)return;let r;return this.children.find(n=>(r=n.statementAt(t),r!==void 0)),r??this}collapse(){this.children.length=0,this.collapsed=!0}get description(){return`${this.node.type} ([${this.node.startPosition.row},${this.node.startPosition.column}]..[${this.node.endPosition.row},${this.node.endPosition.column}]): ${JSON.stringify(this.node.text.length>33?this.node.text.substring(0,15)+"..."+this.node.text.slice(-15):this.node.text)}`}dump(t="",r=""){let n=[`${t}${this.description}`];return this.children.forEach(i=>{n.push(i.dump(`${r}+- `,i.nextSibling===void 0?`${r}   `:`${r}|  `))}),n.join(`
`)}dumpPath(t="",r="",n=!1){if(this.parent){let i=this.parent.dumpPath(t,r,!0),s=i.length-i.lastIndexOf(`
`)-1-r.length,a=" ".repeat(s),l=n?`
${r}${a}+- `:"";return i+this.description+l}else{let i=n?`
${r}+- `:"";return t+this.description+i}}},_1=class{constructor(t,r,n,i){this.languageId=t;this.text=r;this.startOffset=n;this.endOffset=i;this.statements=[]}static{o(this,"StatementTree")}static isSupported(t){return cw.languageIds.has(t)||uw.languageIds.has(t)||fw.languageIds.has(t)}static create(t,r,n,i){if(cw.languageIds.has(t))return new cw(t,r,n,i);if(uw.languageIds.has(t))return new uw(t,r,n,i);if(fw.languageIds.has(t))return new fw(t,r,n,i);throw new Error(`Unsupported languageId: ${t}`)}[Symbol.dispose](){this.tree&&(this.tree.delete(),this.tree=void 0)}clear(){this.statements.length=0}statementAt(t){let r;return this.statements.find(n=>(r=n.statementAt(t),r!==void 0)),r}async build(){let t=[];this.clear();let r=await this.parse();this.getStatementQuery(r).captures(r.rootNode,this.offsetToPosition(this.startOffset),this.offsetToPosition(this.endOffset)).forEach(i=>{let s=this.createNode(i.node);for(;t.length>0&&!t[0].containsStatement(s);)t.shift()?.childrenFinished();t.length>0?t[0].addChild(s):this.addStatement(s),t.unshift(s)}),t.forEach(i=>i.childrenFinished())}addStatement(t){t.parent=void 0,t.nextSibling=void 0,this.statements.length>0&&(this.statements[this.statements.length-1].nextSibling=t),this.statements.push(t)}async parse(){return this.tree||(this.tree=await C1(this.languageId,this.text)),this.tree}getStatementQuery(t){return this.getQuery(t.getLanguage(),this.getStatementQueryText())}getQuery(t,r){return t.query(r)}offsetToPosition(t){let r=this.text.slice(0,t).split(`
`),n=r.length-1,i=r[r.length-1].length;return{row:n,column:i}}dump(t=""){let r=[];return this.statements.forEach((n,i)=>{let s=`[${i}]`,a=" ".repeat(s.length);r.push(n.dump(`${t} ${s} `,`${t} ${a} `))}),r.join(`
`)}},RZ=class e extends dw{static{o(this,"JSStatementNode")}static{this.compoundTypeNames=new Set(["function_declaration","generator_function_declaration","class_declaration","statement_block","if_statement","switch_statement","for_statement","for_in_statement","while_statement","do_statement","try_statement","with_statement","labeled_statement","method_definition","interface_declaration"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"||this.node.startPosition.row!==this.node.endPosition.row?!1:this.children.length===1&&this.children[0].node.type!=="statement_block"||this.children.length===2&&this.node.childForFieldName("else")!==null&&this.children[0].node.type!=="statement_block"&&this.children[1].node.type!=="statement_block"}},cw=class extends _1{static{o(this,"JSStatementTree")}static{this.languageIds=new Set(["javascript","javascriptreact","jsx","typescript","typescriptreact"])}createNode(t){return new RZ(t)}getStatementQueryText(){return`[
            (export_statement)
            (import_statement)
            (debugger_statement)
            (expression_statement)
            (declaration)
            (statement_block)
            (if_statement)
            (switch_statement)
            (for_statement)
            (for_in_statement)
            (while_statement)
            (do_statement)
            (try_statement)
            (with_statement)
            (break_statement)
            (continue_statement)
            (return_statement)
            (throw_statement)
            (empty_statement)
            (labeled_statement)
            (method_definition)
            (public_field_definition)
        ] @statement`}},DZ=class e extends dw{static{o(this,"PyStatementNode")}static{this.compoundTypeNames=new Set(["if_statement","for_statement","while_statement","try_statement","with_statement","function_definition","class_definition","decorated_definition","match_statement","block"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"?!1:this.node.startPosition.row===this.node.endPosition.row}},uw=class extends _1{static{o(this,"PyStatementTree")}static{this.languageIds=new Set(["python"])}createNode(t){return new DZ(t)}getStatementQueryText(){return`[
            (future_import_statement)
            (import_statement)
            (import_from_statement)
            (print_statement)
            (assert_statement)
            (expression_statement)
            (return_statement)
            (delete_statement)
            (raise_statement)
            (pass_statement)
            (break_statement)
            (continue_statement)
            (global_statement)
            (nonlocal_statement)
            (exec_statement)
            (if_statement)
            (for_statement)
            (while_statement)
            (try_statement)
            (with_statement)
            (function_definition)
            (class_definition)
            (decorated_definition)
            (match_statement)
            (block)
        ] @statement`}},PZ=class e extends dw{static{o(this,"GoStatementNode")}static{this.compoundTypeNames=new Set(["function_declaration","method_declaration","if_statement","for_statement","expression_switch_statement","type_switch_statement","select_statement","block"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}},fw=class extends _1{static{o(this,"GoStatementTree")}static{this.languageIds=new Set(["go"])}createNode(t){return new PZ(t)}getStatementQueryText(){return`[
            (package_clause)
            (function_declaration)
            (method_declaration)
            (import_declaration)
            (_statement)
            (block)
        ] @statement`}};var k1=class{constructor(t,r,n){this.languageId=t;this.prefix=r;this.completion=n}static{o(this,"BlockTrimmer")}static isSupported(t){return _1.isSupported(t)}async withParsedStatementTree(t){var n=[];try{let r=g$(n,_1.create(this.languageId,this.prefix+this.completion,this.prefix.length,this.prefix.length+this.completion.length));await r.build();return await t(r)}catch(i){var s=i,a=!0}finally{A$(n,s,a)}}trimmedCompletion(t){return t===void 0?this.completion:this.completion.substring(0,t)}getStatementAtCursor(t){return t.statementAt(Math.max(this.prefix.length-1,0))??t.statements[0]}getContainingBlockOffset(t){let r;if(t&&this.isCompoundStatement(t))r=t;else if(t){let n=t.parent;for(;n&&!this.isCompoundStatement(n);)n=n.parent;r=n}if(r){let n=this.asCompletionOffset(r.node.endIndex);if(n&&this.completion.substring(n).trim()!=="")return n}}hasNonStatementContentAfter(t){if(!t||!t.nextSibling)return!1;let r=this.asCompletionOffset(t.node.endIndex),n=this.asCompletionOffset(t.nextSibling.node.startIndex);return this.completion.substring(Math.max(0,r??0),Math.max(0,n??0)).trim()!==""}asCompletionOffset(t){return t===void 0?void 0:t-this.prefix.length}isCompoundStatement(t){return t.isCompoundStatementType||t.children.length>0}},KL=class extends k1{constructor(r,n,i,s=10){super(r,n,i);this.lineLimit=s;let a=[...this.completion.matchAll(/\n/g)];a.length>=this.lineLimit&&this.lineLimit>0?this.offsetLimit=a[this.lineLimit-1].index:this.offsetLimit=void 0}static{o(this,"VerboseBlockTrimmer")}async getCompletionTrimOffset(){return await this.withParsedStatementTree(async r=>{let n=this.getStatementAtCursor(r),i=this.getContainingBlockOffset(n);return this.isWithinLimit(i)||(i=this.trimToBlankLine(i)),this.isWithinLimit(i)||(i=this.trimToStatement(n,i)),i})}isWithinLimit(r){return this.offsetLimit===void 0||r!==void 0&&r<=this.offsetLimit}trimToBlankLine(r){let n=[...this.trimmedCompletion(r).matchAll(/\r?\n\s*\r?\n/g)].reverse();for(;n.length>0&&!this.isWithinLimit(r);)r=n.pop().index;return r}trimToStatement(r,n){let i=this.prefix.length,s=this.prefix.length+(this.offsetLimit??this.completion.length),a=r,l=r?.nextSibling;for(;l&&l.node.endIndex<=s&&!this.hasNonStatementContentAfter(a);)a=l,l=l.nextSibling;return a&&a===r&&a.node.endIndex<=i&&(a=l),a&&a.node.endIndex>s?this.trimToStatement(a.children[0],this.asCompletionOffset(a.node.endIndex)):this.asCompletionOffset(a?.node?.endIndex)??n}},JL=class extends k1{constructor(r,n,i,s=3,a=7){super(r,n,i);this.lineLimit=s;this.lookAhead=a;let l=[...this.completion.matchAll(/\n/g)],c=this.lineLimit+this.lookAhead;l.length>=this.lineLimit&&this.lineLimit>0&&(this.limitOffset=l[this.lineLimit-1].index),l.length>=c&&c>0&&(this.lookAheadOffset=l[c-1].index)}static{o(this,"TerseBlockTrimmer")}async getCompletionTrimOffset(){return await this.withParsedStatementTree(async r=>{let n=r.statementAt(this.stmtStartPos()),i=this.getContainingBlockOffset(n);return i=this.trimAtFirstBlankLine(i),n&&(i=this.trimAtStatementChange(n,i)),this.limitOffset&&this.lookAheadOffset&&(i===void 0||i>this.lookAheadOffset)?this.limitOffset:i})}stmtStartPos(){let r=this.completion.match(/\S/);return r&&r.index!==void 0?this.prefix.length+r.index:Math.max(this.prefix.length-1,0)}trimAtFirstBlankLine(r){let n=[...this.trimmedCompletion(r).matchAll(/\r?\n\s*\r?\n/g)];for(;n.length>0&&(r===void 0||r>n[0].index);){let i=n.shift();if(this.completion.substring(0,i.index).trim()!=="")return i.index}return r}trimAtStatementChange(r,n){let i=this.prefix.length,s=this.prefix.length+(n??this.completion.length);if(r.node.endIndex>i&&this.isCompoundStatement(r))return r.nextSibling&&r.node.endIndex<s?this.asCompletionOffset(r.node.endIndex):n;let a=r,l=r.nextSibling;for(;l&&l.node.endIndex<=s&&!this.hasNonStatementContentAfter(a)&&!this.isCompoundStatement(l);)a=l,l=l.nextSibling;return l&&a.node.endIndex>i&&a.node.endIndex<s?this.asCompletionOffset(a.node.endIndex):n}};async function SEe(e,t){var l=[];try{let r=e.getText();let n=e.offsetAt(t);let i=g$(l,_1.create(e.detectedLanguageId,r,0,r.length));await i.build();let s=i.statementAt(n);if(!s)return"non-block";if(!s.isCompoundStatementType&&s.children.length===0)return s.parent&&!s.nextSibling&&s.node.endPosition.row<=t.line?"block-end":s.parent?"mid-block":"non-block";if(s.children.length===0)return"empty-block";let a=s.children[s.children.length-1];if(n<a.node.startIndex)return"mid-block";return"block-end"}catch(c){var u=c,f=!0}finally{A$(l,u,f)}}o(SEe,"getBlockPositionType");d();d();function _Ee(e){let t;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>427.50000000000006?e[9]>13.500000000000002?e[121]>1e-35?t=-.3793786744885956:e[149]>1e-35?t=-.34717430705356905:t=-.26126834451035963:t=-.2431318366096852:e[5]>888.5000000000001?t=-.20600463586387135:t=-.2568037008471491:e[308]>1e-35?t=-.2363064824497454:e[8]>370.50000000000006?t=-.37470755210284723:t=-.321978453730494:e[3]>24.500000000000004?e[23]>1e-35?e[131]>1e-35?t=-.26259136509758885:t=-.3096719634039438:e[4]>30.500000000000004?e[9]>18.500000000000004?t=-.34254903852890883:e[2]>98.50000000000001?t=-.41585250791146294:t=-.3673574858887241:e[9]>6.500000000000001?t=-.31688079287876225:e[31]>1e-35?t=-.29110977864003823:e[308]>1e-35?t=-.3201411739040839:t=-.36874023066055506:e[8]>691.5000000000001?e[82]>1e-35?t=-.41318393149040566:e[133]>1e-35?t=-.3741272613525161:e[32]>1e-35?t=-.4112378041027121:e[227]>1e-35?t=-.37726615155719356:e[10]>3.5000000000000004?t=-.3164502293560397:t=-.2930071546509045:e[9]>13.500000000000002?t=-.277366858539218:e[308]>1e-35?e[4]>10.500000000000002?t=-.30975610686807187:e[4]>1.5000000000000002?t=-.2549142136728043:t=-.3271325650785176:e[127]>1e-35?e[0]>1937.5000000000002?t=-.2533046188098832:t=-.325520883579:t=-.331628896481776;let r;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>546.5000000000001?e[9]>13.500000000000002?r=.031231253521808708:r=.05380836288014532:e[5]>423.00000000000006?e[8]>114.50000000000001?r=.06751619128429062:r=.09625089153176467:r=.027268163053989804:e[308]>1e-35?r=.060174483556283756:r=-.049062854038919135:e[3]>24.500000000000004?e[23]>1e-35?e[4]>63.50000000000001?r=-.03969241799174589:r=.01086816842550381:e[31]>1e-35?r=-.003284694817583201:e[9]>6.500000000000001?e[4]>30.500000000000004?r=-.04224490699947552:r=-.011834162944360616:e[308]>1e-35?e[32]>1e-35?r=-.13448447971850278:r=-.019569456707046823:e[19]>1e-35?e[9]>1.5000000000000002?r=-.07256260662659254:e[4]>60.50000000000001?r=-.08227503453609311:r=-.020596416747563847:r=-.07396549241564149:e[8]>691.5000000000001?e[82]>1e-35?r=-.10046536995362734:e[133]>1e-35?r=-.06407649822752297:e[225]>1e-35?r=.08035785003303324:e[92]>1e-35?r=.018901360933204676:e[20]>1e-35?r=.05252546973665552:e[8]>2592.5000000000005?r=-.040543705016462955:r=-.011236043818320725:e[9]>17.500000000000004?r=.025560632674895334:e[308]>1e-35?e[0]>1847.5000000000002?r=.03527165701669741:r=-.0071847350825815035:e[127]>1e-35?r=.024373016379595405:e[9]>2.5000000000000004?r=-.0035090719709448288:r=-.03514829488063766;let n;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>546.5000000000001?n=.03848674861536988:e[5]>423.00000000000006?e[8]>114.50000000000001?e[9]>56.50000000000001?n=-.003764520033319488:n=.06570817919969299:e[4]>61.50000000000001?n=.028346156293069538:n=.0908154644362606:n=.02445594243234816:e[308]>1e-35?e[8]>65.50000000000001?n=.0019305229020073053:n=.09279357295883772:n=-.04458984161917124:e[3]>24.500000000000004?e[23]>1e-35?n=.0027405390271277013:e[4]>29.500000000000004?e[52]>1e-35?n=.044727478132905285:e[115]>1e-35?n=.10245804828855934:e[9]>17.500000000000004?n=-.03353173647469207:e[2]>98.50000000000001?n=-.10048106638102179:n=-.05484231104348874:e[31]>1e-35?n=.016807537467116516:e[9]>6.500000000000001?n=-.012113620535295137:e[4]>8.500000000000002?e[308]>1e-35?n=-.01882594250504289:n=-.05585658862796076:n=.04279591277938338:e[8]>691.5000000000001?e[82]>1e-35?n=-.09262278043707878:e[133]>1e-35?n=-.058454257768893625:e[32]>1e-35?n=-.09769348447126434:e[25]>1e-35?n=-.0725430043727677:e[122]>1e-35?n=-.10047841601578077:n=-.00580671054458958:e[9]>13.500000000000002?n=.021399199032818294:e[308]>1e-35?e[4]>10.500000000000002?n=-.0076376731757173515:n=.03394923033036848:e[127]>1e-35?n=.02070489091204209:n=-.02290162726126496;let i;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>892.5000000000001?e[9]>21.500000000000004?i=.010230295672324606:i=.038540509248742805:e[8]>125.50000000000001?e[1]>49.50000000000001?i=.03086356292895467:i=.057128750867458604:e[5]>888.5000000000001?i=.07861602941396924:i=.030523262699070908:e[308]>1e-35?i=.048236117667577356:e[8]>370.50000000000006?i=-.05642125069212264:i=-.007232836777168195:e[3]>24.500000000000004?e[23]>1e-35?e[131]>1e-35?i=.03640661467213915:i=-.005889820723907028:e[31]>1e-35?i=-.0009007166998276938:e[9]>6.500000000000001?i=-.022590340093882378:e[308]>1e-35?e[32]>1e-35?i=-.1215445089091064:i=-.01435612266219722:e[19]>1e-35?e[9]>1.5000000000000002?i=-.061555513040777825:e[4]>60.50000000000001?i=-.07053475504569347:i=-.013733369453963092:i=-.06302097189114152:e[227]>1e-35?i=-.05820440333190048:e[8]>683.5000000000001?e[82]>1e-35?i=-.08466979526809346:e[10]>24.500000000000004?i=-.017092159721119944:e[92]>1e-35?i=.03592901452463749:i=-.00359310519524756:e[5]>1809.5000000000002?e[243]>1e-35?i=-.03963116207386097:e[118]>1e-35?i=-.09483996283536394:e[217]>1e-35?i=-.03394542089519989:e[242]>1e-35?i=-.07985899422287938:i=.019706602160656964:e[9]>12.500000000000002?i=.014072998937735146:i=-.021156294523894684;let s;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>892.5000000000001?e[9]>21.500000000000004?s=.009197756540516563:s=.03458896869535166:e[5]>5082.500000000001?s=.08265545468131008:e[131]>1e-35?s=.0740738432473315:s=.045159136632942756:e[8]>319.50000000000006?s=-.04653401534465376:e[7]>3.5000000000000004?e[0]>1230.5000000000002?e[0]>2579.5000000000005?s=-.011400839766681709:s=.11149800187510031:s=-.08683250977599462:s=.08355310136724753:e[4]>23.500000000000004?e[23]>1e-35?e[131]>1e-35?s=.040389083779932555:s=-.009887614274108602:e[52]>1e-35?s=.03705353499757327:e[9]>6.500000000000001?s=-.025401260429257562:e[2]>98.50000000000001?s=-.09237673187534504:s=-.04298556869281803:e[222]>1e-35?s=-.045221965895986184:e[8]>691.5000000000001?e[133]>1e-35?s=-.05435318330148897:e[128]>1e-35?s=-.08672907303184191:e[227]>1e-35?s=-.05568304584186561:e[122]>1e-35?s=-.09623059693538563:e[225]>1e-35?s=.07558331642202279:e[82]>1e-35?s=-.07360566227233566:s=-.005646164647395919:e[242]>1e-35?s=-.08203758341228108:e[9]>13.500000000000002?s=.018726123829696042:e[308]>1e-35?e[4]>10.500000000000002?s=-.011153942154062704:s=.03132858912391067:e[127]>1e-35?s=.021455228822345174:e[23]>1e-35?s=.01959966745346997:s=-.021764790177579325;let a;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>284.50000000000006?e[121]>1e-35?e[18]>1e-35?a=.07547602514276922:a=-.08529678832140396:a=.030314822344598043:e[5]>888.5000000000001?e[4]>61.50000000000001?a=.011143589009415464:a=.0654700456802118:a=.021794712646632755:e[308]>1e-35?a=.04231872551095028:a=-.034381999950549455:e[4]>23.500000000000004?e[23]>1e-35?e[4]>63.50000000000001?a=-.03678981254332261:a=.010518160384496255:e[8]>825.5000000000001?a=-.04506534842082387:e[9]>38.50000000000001?a=.01004983052203438:a=-.030580958620701027:e[39]>1e-35?a=-.12802435021505382:e[8]>691.5000000000001?e[23]>1e-35?e[203]>1e-35?e[4]>6.500000000000001?a=.030426957004611704:a=-.0726407693060581:a=.017395521646964375:e[4]>7.500000000000001?e[0]>93.50000000000001?e[9]>7.500000000000001?a=-.008024349629981291:e[31]>1e-35?a=.01296539930850471:e[308]>1e-35?a=-.012855016509024084:a=-.04564527976851505:a=-.15681420504058596:e[10]>4.500000000000001?e[243]>1e-35?a=-.1012064426380198:a=-.0062808850924854194:a=.030706323726162416:e[9]>13.500000000000002?a=.017081636133736405:e[308]>1e-35?e[4]>10.500000000000002?a=-.009306613091760644:e[4]>1.5000000000000002?a=.03655523200850989:a=-.02671654212893341:e[127]>1e-35?a=.019261510468604387:a=-.017627818570628936;let l;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>892.5000000000001?e[308]>1e-35?l=.036100405995889276:l=.011709313297015793:e[0]>119.50000000000001?e[8]>125.50000000000001?l=.03622542297472574:l=.05595579157301536:l=-.02234751038146796:e[8]>319.50000000000006?l=-.040132029478400735:e[7]>3.5000000000000004?e[0]>1230.5000000000002?e[0]>2579.5000000000005?l=-.009306153573847916:l=.10058509567064988:l=-.0785668890966017:e[9]>28.500000000000004?l=-.04781977604130416:l=.09753292614937459:e[4]>23.500000000000004?e[131]>1e-35?l=.02372493254975127:e[148]>1e-35?l=.028103095989516644:e[4]>58.50000000000001?e[10]>1e-35?l=-.05000852203469597:l=.02922366846119705:e[23]>1e-35?l=-.0026335076988151292:l=-.03073993752935585:e[222]>1e-35?l=-.03867374428185713:e[32]>1e-35?l=-.07220729365053084:e[39]>1e-35?l=-.11624524614351733:e[8]>691.5000000000001?e[133]>1e-35?l=-.04836360271198036:e[8]>4968.500000000001?l=-.10873681915578029:e[149]>1e-35?l=-.11847484033769298:e[122]>1e-35?l=-.08916172460307559:e[82]>1e-35?l=-.06774726602152634:l=-.0033469147714351327:e[126]>1e-35?l=-.09474445392080015:e[8]>131.50000000000003?e[118]>1e-35?l=-.09002547031023511:l=.015475385187009489:e[25]>1e-35?l=-.08175501232759151:l=-.000429679055394914;let c;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>546.5000000000001?c=.021942996005324917:c=.042349138084484074:e[308]>1e-35?c=.036507270845732874:c=-.028981850556764995:e[3]>24.500000000000004?e[23]>1e-35?c=.00210930790963475:e[31]>1e-35?c=.006825358293027163:e[9]>6.500000000000001?c=-.013772084269062394:e[308]>1e-35?c=-.008307929099892574:e[19]>1e-35?c=-.027706313312904487:c=-.04891108984170914:e[134]>1e-35?c=-.0605730733844732:e[25]>1e-35?c=-.05347926493253117:e[227]>1e-35?c=-.049415829249003666:e[32]>1e-35?c=-.06807799662179595:e[308]>1e-35?e[4]>10.500000000000002?e[2]>13.500000000000002?c=-.00016302718260794637:c=-.10247095758122947:e[210]>1e-35?c=-.022149002072787024:e[95]>1e-35?c=.15222631630626304:c=.027393884520465712:e[9]>7.500000000000001?e[225]>1e-35?c=.13483346577752245:e[3]>9.500000000000002?e[243]>1e-35?c=-.045352728133789516:e[8]>683.5000000000001?c=.00474372227519902:c=.02635476098707525:e[92]>1e-35?c=.05659380819933452:e[105]>1e-35?c=.07431443210341222:e[186]>1e-35?c=.0915821133384904:c=-.016414750130401053:e[127]>1e-35?c=.011824693641866162:e[23]>1e-35?c=.0228468674288774:e[284]>1e-35?c=.06606936863302432:c=-.02872463273902358;let u;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>125.50000000000001?e[288]>1e-35?u=-.019844363904157558:e[1]>50.50000000000001?e[131]>1e-35?u=.044961338592245194:u=.003659599513761676:e[121]>1e-35?u=-.04057103630479994:u=.03158560697078578:e[0]>421.50000000000006?e[4]>61.50000000000001?u=-.0003708603406529278:u=.05331312264472391:u=.0006575958601218936:e[8]>319.50000000000006?u=-.034654694051901545:e[7]>3.5000000000000004?e[0]>1230.5000000000002?e[0]>2579.5000000000005?u=-.0076053515916517005:u=.09116695486305336:u=-.07137458699162028:u=.06633130654035282:e[4]>29.500000000000004?e[23]>1e-35?e[4]>63.50000000000001?u=-.0308520802187302:u=.013156423968295541:e[115]>1e-35?u=.11581171687488252:e[52]>1e-35?e[10]>22.500000000000004?u=.12264179915175587:u=-.021905727233873535:e[8]>799.5000000000001?u=-.04181869575935412:u=-.023695901673350575:e[222]>1e-35?u=-.034612899265371776:e[8]>691.5000000000001?e[9]>98.50000000000001?u=-.06892116536821917:e[149]>1e-35?u=-.11194586444154514:e[133]>1e-35?u=-.04269583234000504:e[128]>1e-35?u=-.0644631966969502:e[8]>4968.500000000001?u=-.09650726096330133:u=-.004219129180139438:e[126]>1e-35?u=-.08038306745347751:e[5]>1809.5000000000002?u=.009265335288169993:e[9]>2.5000000000000004?u=.006447645462117438:u=-.021047132609551503;let f;e[13]>1e-35?e[3]>1.5000000000000002?e[9]>21.500000000000004?e[121]>1e-35?f=-.08436540015142402:e[8]>1861.5000000000002?f=-.01621425699342421:f=.01878613821895428:f=.031052879158242532:e[8]>319.50000000000006?f=-.031536619360997865:e[7]>3.5000000000000004?f=-.004510586962343298:f=.0596524941011746:e[4]>18.500000000000004?e[23]>1e-35?f=.004757490541310808:e[9]>6.500000000000001?f=-.008842393772207996:e[31]>1e-35?f=.0010536183837006993:e[308]>1e-35?f=-.008145882815435419:e[2]>98.50000000000001?f=-.08404937622173021:e[276]>1e-35?f=.0020072791321856663:e[19]>1e-35?f=-.023031820639490178:f=-.04553314326377875:e[8]>2134.5000000000005?f=-.02244583113572251:e[134]>1e-35?f=-.05592137394753121:e[308]>1e-35?e[49]>1e-35?f=.09989109704064947:e[4]>10.500000000000002?e[2]>13.500000000000002?f=-.00447733056482096:f=-.10191061664873849:f=.021765308380331864:e[9]>7.500000000000001?e[118]>1e-35?f=-.07570059131536411:e[243]>1e-35?f=-.040983393346598646:e[3]>9.500000000000002?f=.014763759061483812:e[92]>1e-35?f=.05136368898963024:f=-.008162398981149495:e[127]>1e-35?f=.013999119696708346:e[23]>1e-35?e[20]>1e-35?f=.14138985500120907:f=.008668274102844162:e[284]>1e-35?f=.06356484011042893:f=-.024781304572706303;let m;e[13]>1e-35?e[3]>8.500000000000002?e[8]>892.5000000000001?e[0]>384.50000000000006?m=.014387526569215037:e[8]>2266.5000000000005?m=-.1397298649743087:m=.007953931014097788:e[0]>119.50000000000001?e[4]>61.50000000000001?m=.0029819092211896296:e[218]>1e-35?m=.08450459375645737:m=.031646488019280654:m=-.03544960151460596:e[9]>9.500000000000002?m=-.026002317735915183:e[7]>1.5000000000000002?m=.005074258810794793:m=.0745247650477651:e[4]>29.500000000000004?e[131]>1e-35?m=.023269218675640847:e[148]>1e-35?m=.03812942399144545:e[115]>1e-35?m=.10512283476967227:m=-.02607307479736138:e[227]>1e-35?m=-.036576708299046294:e[101]>1e-35?m=.027948683650881864:e[149]>1e-35?m=-.08195628451594297:e[50]>1e-35?m=-.16997544922278504:e[8]>691.5000000000001?e[9]>101.50000000000001?m=-.06860333850762075:e[225]>1e-35?m=.06066641950951723:e[10]>22.500000000000004?e[1]>29.500000000000004?e[127]>1e-35?m=.028599705845427533:m=-.010746719511640914:e[0]>4877.500000000001?m=-.07251187886096228:m=-.021299712241446785:e[118]>1e-35?m=-.11902023760964736:m=15874469526809387e-21:e[8]>267.50000000000006?m=.01317292185402293:e[148]>1e-35?e[9]>20.500000000000004?m=.09614842415142123:m=.006049073167176467:e[189]>1e-35?m=.05562696451900713:m=-.006257541923837303;let h;e[13]>1e-35?e[9]>14.500000000000002?e[2]>11.500000000000002?e[1]>71.50000000000001?e[8]>1252.5000000000002?h=-.10069846585436666:h=-.010577995535809317:e[146]>1e-35?h=-.008877238274428668:e[280]>1e-35?h=.10076055897012692:e[6]>70.50000000000001?h=-.020603523042565547:e[7]>1.5000000000000002?h=.02819095420813202:h=-.1223354167911277:h=-.025073583348334844:e[8]>416.50000000000006?h=.01718560189149466:e[230]>1e-35?h=.12281803224342265:h=.03281276971308565:e[4]>14.500000000000002?e[23]>1e-35?e[21]>1e-35?h=-.13070568109867683:e[4]>63.50000000000001?h=-.027221825262496814:h=.01530862490082352:e[9]>6.500000000000001?e[5]>4320.500000000001?e[2]>31.500000000000004?h=-.00605574271293711:h=.04739407327741249:h=-.012537528620315956:e[31]>1e-35?e[20]>1e-35?h=.1252215087035768:h=.003905888677601057:e[52]>1e-35?h=.045466299731038815:e[2]>100.50000000000001?h=-.07815624550168065:e[308]>1e-35?h=-.007715815250508057:e[276]>1e-35?e[9]>1.5000000000000002?h=-.03538265083203445:e[18]>1e-35?h=.1591211669800727:h=.015151475408241136:e[8]>557.5000000000001?h=-.04225569725456342:h=-.022455546324243267:e[308]>1e-35?h=.01325441736085826:e[197]>1e-35?h=.03752194600682512:e[225]>1e-35?h=.06583712394533976:h=-.005205289866839043;let p;e[13]>1e-35?e[9]>21.500000000000004?e[2]>12.500000000000002?p=.010264022580774884:p=-.02335958814489217:e[8]>416.50000000000006?e[3]>4.500000000000001?e[295]>1e-35?p=-.0936747137352166:e[0]>384.50000000000006?p=.019846244507320695:p=-.0751102554077272:p=-.026885329334203723:e[0]>966.5000000000001?e[10]>48.50000000000001?p=.11654906890054273:p=.0346250587613322:e[4]>39.50000000000001?p=-.08568002378645614:e[9]>16.500000000000004?p=-.12010535752923689:p=.021321923389033808:e[4]>14.500000000000002?e[23]>1e-35?e[21]>1e-35?p=-.12056431231412057:e[131]>1e-35?p=.03652965550568472:p=.002563006128791669:e[9]>6.500000000000001?e[30]>1e-35?p=-.10141481732178981:p=-.003936457893178248:e[31]>1e-35?p=.008215898756249477:e[52]>1e-35?e[0]>4188.500000000001?p=.12972828769588213:p=-.003137412232297087:e[2]>100.50000000000001?p=-.0730872929087944:e[308]>1e-35?p=-.006958622747243333:e[35]>1e-35?e[0]>3707.5000000000005?p=.07934620723812878:p=-.018598568353702116:p=-.030635505446410763:e[128]>1e-35?p=-.06962290453843294:e[84]>1e-35?p=-.15290337844960322:e[308]>1e-35?e[8]>2543.5000000000005?p=-.034938657503885584:p=.016339322898966915:e[197]>1e-35?p=.03358907965870046:e[18]>1e-35?p=-.01754013791515288:p=-.0004944586067698557;let A;e[13]>1e-35?e[308]>1e-35?e[210]>1e-35?A=.005888790687820524:A=.0429676533834978:e[2]>7.500000000000001?e[0]>119.50000000000001?e[6]>79.50000000000001?A=-.0224319889201976:e[212]>1e-35?A=.06249587051783863:e[8]>963.5000000000001?e[8]>1156.5000000000002?A=.010357273289123324:A=-.029749145161304082:e[218]>1e-35?A=.06449336340743606:A=.018047654539345502:A=-.07350502390293116:A=-.019594829995832414:e[4]>39.50000000000001?A=-.019338083179859314:e[39]>1e-35?A=-.10427066919173111:e[222]>1e-35?e[0]>612.5000000000001?A=-.019197415255018464:A=-.0836562507048181:e[149]>1e-35?A=-.07679624472577429:e[32]>1e-35?A=-.05097506748590604:e[191]>1e-35?A=.04670476485250936:e[30]>1e-35?A=-.05313073892148652:e[8]>691.5000000000001?e[23]>1e-35?e[203]>1e-35?e[4]>8.500000000000002?A=.03930363008271334:A=-.06029171685615689:A=.016203086182431294:e[4]>7.500000000000001?A=-.013824248237085224:e[10]>4.500000000000001?e[94]>1e-35?A=-.09817668643367765:e[10]>40.50000000000001?A=-.023558078753593125:A=.0065113494780482326:e[8]>809.5000000000001?e[297]>1e-35?A=-.1352063548573715:A=.058203900441270634:A=-.035243959159285736:e[10]>59.50000000000001?e[1]>43.50000000000001?A=-.012552876807800442:A=.05991247777734298:A=.0035893102109330177;let x;e[13]>1e-35?e[9]>21.500000000000004?e[145]>1e-35?x=.03507251990078782:e[2]>14.500000000000002?x=.004905698363309292:e[8]>2421.5000000000005?x=-.10306119951984316:x=-.018951037816654928:e[8]>416.50000000000006?e[3]>4.500000000000001?e[295]>1e-35?x=-.08503171085833393:x=.015130974593044409:x=-.024425267075198206:x=.02624054905103126:e[4]>19.500000000000004?e[131]>1e-35?x=.02100191580704534:e[32]>1e-35?e[8]>2302.5000000000005?x=.09908783187786288:x=-.06920877329925636:e[8]>241.50000000000003?x=-.016756131804203496:e[9]>33.50000000000001?x=.04903179955263626:e[217]>1e-35?x=-.047416847619291644:x=-.0017200891991431119:e[39]>1e-35?x=-.10389927604977028:e[134]>1e-35?x=-.050480365434872866:e[178]>1e-35?x=-.05167855791556937:e[8]>2134.5000000000005?x=-.01663197335585307:e[242]>1e-35?x=-.05361323756615453:e[118]>1e-35?x=-.05299780866211368:e[10]>24.500000000000004?e[10]>55.50000000000001?e[8]>764.5000000000001?x=-.0016544848369620534:x=.04494144460483587:x=-.009283616456736156:e[121]>1e-35?e[0]>4463.500000000001?x=.051166688553608355:x=-.06623908820705383:e[84]>1e-35?x=-.12990936092409747:e[306]>1e-35?x=-.07020596855118943:e[49]>1e-35?x=.06272964802556856:e[192]>1e-35?x=.06540204627162581:x=.008277910531592885;let E;e[13]>1e-35?e[308]>1e-35?e[210]>1e-35?E=.003325460510319164:E=.037153108286272905:e[2]>12.500000000000002?e[1]>124.50000000000001?E=-.09880713344892134:e[7]>60.50000000000001?e[10]>71.50000000000001?E=.0697359767152808:e[230]>1e-35?E=.06513506845651572:E=-.02826625276613455:e[5]>246.50000000000003?e[8]>95.50000000000001?E=.013616385013146277:E=.04171540100223404:E=-.04360396575094823:e[212]>1e-35?E=.025945477945627522:E=-.019793208261535442:e[4]>39.50000000000001?e[25]>1e-35?E=-.07856453318384411:E=-.014803893522351739:e[39]>1e-35?E=-.09185452630751932:e[149]>1e-35?E=-.07122426086157027:e[134]>1e-35?E=-.04231052091434186:e[227]>1e-35?E=-.029815824273994197:e[50]>1e-35?E=-.15736496271211153:e[222]>1e-35?E=-.02360285356956629:e[128]>1e-35?E=-.03922080193836443:e[136]>1e-35?E=-.07219685327698587:e[10]>24.500000000000004?e[1]>8.500000000000002?E=-.0029736170756835783:E=-.06482902102259112:e[84]>1e-35?E=-.11340924635708383:e[94]>1e-35?E=-.03635703457792193:e[118]>1e-35?E=-.058181913914186034:e[126]>1e-35?E=-.062030576241517366:e[116]>1e-35?E=-.045086301850604006:e[25]>1e-35?E=-.031665223656767286:e[203]>1e-35?E=-.009444685731407691:E=.0112265153772187;let v;e[13]>1e-35?e[1]>64.50000000000001?e[9]>14.500000000000002?e[9]>54.50000000000001?v=.022717227245241684:v=-.049700413274686266:v=.007175776918589741:e[5]>50.50000000000001?e[8]>61.50000000000001?e[21]>1e-35?v=-.07927556792063156:e[3]>8.500000000000002?e[4]>23.500000000000004?e[281]>1e-35?v=-.12263724050601095:v=.0070743478891288035:e[288]>1e-35?v=-.050439138582109:v=.0255701593657891:v=-.005812703740580558:e[6]>49.50000000000001?v=-.008542694147899113:v=.035147383686665:v=-.0960461939274094:e[32]>1e-35?v=-.04555453745517765:e[222]>1e-35?e[0]>612.5000000000001?v=-.01800870272656664:v=-.07817304234604389:e[30]>1e-35?v=-.05227061750368981:e[25]>1e-35?e[0]>4449.500000000001?e[217]>1e-35?v=.08778416018479411:v=-.026563982720830256:v=-.05296139548112329:e[50]>1e-35?v=-.14926464875852247:e[8]>779.5000000000001?e[133]>1e-35?v=-.036572140520852024:e[183]>1e-35?v=-.10766853736801459:v=-.003966794968701808:e[217]>1e-35?e[5]>5237.500000000001?v=.09513215942486053:v=-.03641865277445567:e[10]>59.50000000000001?v=.03177172388687933:e[39]>1e-35?v=-.10234241303898953:e[243]>1e-35?v=-.02966738115984321:e[190]>1e-35?v=-.04312785336449181:e[118]>1e-35?v=-.05808521194081524:v=.006720381600740378;let b;e[308]>1e-35?e[5]>423.00000000000006?e[133]>1e-35?b=-.046284053681928526:e[210]>1e-35?b=49778070699847876e-21:e[13]>1e-35?b=.03328070054739309:e[128]>1e-35?b=-.054790214922938896:e[126]>1e-35?b=-.08524792218532945:b=.014414055975542446:e[1]>38.50000000000001?b=-.07287851335872973:b=.005263371501687163:e[9]>7.500000000000001?e[21]>1e-35?e[10]>4.500000000000001?b=-.12459748864088374:b=-.004626323021331593:e[298]>1e-35?e[4]>64.50000000000001?b=.13044981041138526:e[9]>71.50000000000001?b=-.056068402282406865:e[9]>12.500000000000002?b=.038957722962512764:b=-.04598815982492169:e[8]>691.5000000000001?e[126]>1e-35?b=-.0852126122372075:e[225]>1e-35?b=.10082066771689505:e[1]>161.50000000000003?b=-.11609832500613824:e[3]>8.500000000000002?e[8]>1685.5000000000002?b=-.010835400874777133:b=.004607419973807752:b=-.016989075258564062:b=.009205417251698097:e[23]>1e-35?e[20]>1e-35?b=.10184317139657878:e[0]>5724.500000000001?b=-.1163666496650542:e[1]>106.50000000000001?b=.1303850608190687:e[129]>1e-35?b=.10745031509534769:b=.006166901738036226:e[31]>1e-35?b=.010177092833155127:e[13]>1e-35?e[0]>213.50000000000003?b=.005004582564506611:b=-.10481581731668346:e[19]>1e-35?b=-.009850706427306281:b=-.02608226348051303;let S;e[13]>1e-35?e[1]>64.50000000000001?e[2]>4.500000000000001?S=-.0024117174588695603:S=-.058339700513831916:e[212]>1e-35?e[0]>2215.5000000000005?e[8]>847.5000000000001?e[10]>21.500000000000004?e[1]>39.50000000000001?S=.04575380761203418:S=-.10025595041353463:e[15]>1e-35?S=.17705790384964004:S=.0073813837628615014:S=.07676373681392407:S=-.027167992693885996:e[3]>11.500000000000002?e[280]>1e-35?S=.07078572910026419:e[4]>23.500000000000004?S=.005513918674164821:S=.0206586476926392:e[0]>5269.500000000001?S=.07706773525822633:S=-.010233826953776122:e[148]>1e-35?e[8]>1622.5000000000002?S=-.03204783603215824:S=.027405418223981973:e[4]>14.500000000000002?e[131]>1e-35?e[9]>1.5000000000000002?e[0]>5026.500000000001?S=-.0930246911392012:S=.011173087289703683:e[3]>24.500000000000004?S=.03281421918878597:S=.12449335091369843:e[204]>1e-35?S=.06634531187326123:S=-.011522999669353388:e[92]>1e-35?e[10]>42.50000000000001?S=-.041196758517013515:e[4]>7.500000000000001?S=-2942718111029724e-20:e[4]>6.500000000000001?S=.11953909558532852:S=.03188615019450534:e[122]>1e-35?S=-.0616037324662157:e[101]>1e-35?S=.027230889593349412:e[8]>4968.500000000001?S=-.1113986516540856:e[3]>2.5000000000000004?S=-.002045140426885727:e[129]>1e-35?S=.12641163374304432:S=.014909826232873194;let B;e[308]>1e-35?e[0]>7277.500000000001?B=-.09337446795435:e[5]>423.00000000000006?e[133]>1e-35?B=-.040884836258675006:e[210]>1e-35?B=-.0003719413278428804:e[13]>1e-35?B=.030287610160818174:B=.011174130013595384:e[1]>38.50000000000001?B=-.0662442170185784:B=.004332185707008564:e[9]>7.500000000000001?e[145]>1e-35?e[285]>1e-35?B=-.08092286307197555:B=.029866363328584986:e[21]>1e-35?e[10]>4.500000000000001?B=-.1155211149523894:B=-.0032903546638958538:e[149]>1e-35?B=-.03632198993199768:e[3]>9.500000000000002?e[8]>999.5000000000001?B=-.003507023626534306:e[128]>1e-35?e[4]>13.500000000000002?e[0]>3459.5000000000005?B=-.025416927789760076:B=.02777568919793122:B=-.10310351509769732:B=.013549608903688785:e[186]>1e-35?B=.08513865847420551:B=-.009306721292510369:e[31]>1e-35?B=.009780833952582307:e[23]>1e-35?B=.011143773934157629:e[210]>1e-35?B=.025354797285173356:e[17]>1e-35?e[10]>3.5000000000000004?B=-.04846287537743046:B=-.014647271080376757:e[2]>5.500000000000001?e[7]>57.50000000000001?B=-.034224938681445764:e[8]>1641.5000000000002?B=-.027298372075800673:e[191]>1e-35?e[10]>18.500000000000004?B=-.027950103994861836:B=.14575930827829034:B=-.007124740389354946:e[10]>22.500000000000004?B=.013173304107866726:B=-.11119620042551365;let P;e[131]>1e-35?P=.01892225243240137:e[308]>1e-35?e[5]>691.5000000000001?e[133]>1e-35?P=-.037118314390013646:e[1]>51.50000000000001?e[5]>3749.5000000000005?e[8]>58.50000000000001?P=-.022305242912035072:P=.024792895826340516:P=.013666137278072166:e[88]>1e-35?e[10]>27.500000000000004?P=.2080083584805785:P=.04247197078083379:e[10]>40.50000000000001?e[18]>1e-35?e[1]>27.500000000000004?P=.060783227455868206:P=-.056904865557409035:P=-.03278952553107572:e[192]>1e-35?P=.13117402617043625:P=.01647119888257836:P=-.01825870445636398:e[9]>6.500000000000001?e[298]>1e-35?P=.026536210945939682:e[8]>691.5000000000001?e[126]>1e-35?P=-.07927319604548912:e[10]>3.5000000000000004?e[21]>1e-35?P=-.11083976837572328:e[146]>1e-35?P=-.03359294484446772:P=-.0042815953591236475:e[190]>1e-35?P=-.09264239592903775:e[10]>1e-35?P=.022282638485105657:P=-.0205994057928458:e[5]>4918.500000000001?P=.03430715695199153:e[243]>1e-35?e[2]>57.50000000000001?P=.08935072241972036:P=-.03781647876237494:P=.0062655753179671515:e[31]>1e-35?P=.008603500300349887:e[230]>1e-35?P=.03350056932774173:e[23]>1e-35?e[241]>1e-35?P=.10277555508503314:P=.0017901817172993888:e[2]>98.50000000000001?P=-.05920081229672715:P=-.015722173275739208;let F;e[13]>1e-35?e[118]>1e-35?F=.07957905150112207:e[1]>125.50000000000001?F=-.0662620579858685:e[145]>1e-35?F=.029682040828779843:e[19]>1e-35?e[6]>15.500000000000002?F=-.0009597832580977798:F=-.081474760755753:e[212]>1e-35?F=.03637001492325179:F=.006912305498963309:e[32]>1e-35?F=-.03919900630910754:e[134]>1e-35?F=-.036225295529777886:e[4]>4.500000000000001?e[5]>384.50000000000006?e[204]>1e-35?F=.06671440854602108:e[136]>1e-35?F=-.07577364230133474:e[148]>1e-35?e[4]>7.500000000000001?F=.026430947016830915:F=-.04075501264495112:e[9]>93.50000000000001?F=-.04353169430417609:e[50]>1e-35?F=-.1411224537622882:e[17]>1e-35?e[49]>1e-35?F=.068392679163672:e[10]>1.5000000000000002?F=-.0209659792007492:F=-.0004393235559249831:e[133]>1e-35?e[9]>64.50000000000001?F=.07254524592323175:F=-.0319087835282534:F=.00037444813327793425:F=-.025138768151370408:e[243]>1e-35?F=-.050010891710502096:e[94]>1e-35?F=-.0817513550778599:e[122]>1e-35?F=-.061038875809822285:e[19]>1e-35?e[8]>1085.5000000000002?F=-.008408408775061623:e[2]>5.500000000000001?e[218]>1e-35?F=.1454877641381946:F=.053787998331240316:e[9]>33.50000000000001?F=.08602629796680285:F=-.03895127455803038:F=.008830878042315722;let q;e[131]>1e-35?q=.01687979707990516:e[8]>2915.5000000000005?e[297]>1e-35?q=.07473600489975568:e[0]>93.50000000000001?q=-.021596848506011502:q=-.13840802327735696:e[230]>1e-35?e[4]>6.500000000000001?e[0]>4977.500000000001?q=.10264284346448256:q=.031042487183181262:q=-.016653982936827776:e[4]>60.50000000000001?e[10]>75.50000000000001?q=.04226403420647408:e[10]>1e-35?e[0]>4733.500000000001?q=.006271403149804702:q=-.030013637555715046:e[0]>4449.500000000001?q=-.06556876058654929:q=.06437994816903034:e[32]>1e-35?q=-.043814577251655815:e[308]>1e-35?e[0]>7277.500000000001?q=-.09349726304052086:e[210]>1e-35?q=-.0035960132209098003:e[5]>691.5000000000001?e[133]>1e-35?q=-.029188394315052574:q=.017219308333820193:q=-.017378928852189585:e[9]>6.500000000000001?e[0]>2653.5000000000005?e[149]>1e-35?q=-.04428555753857688:q=.0001456106867817353:e[5]>213.50000000000003?q=.01740292726636365:q=-.011361718115556464:e[7]>4.500000000000001?e[0]>316.50000000000006?e[19]>1e-35?e[10]>54.50000000000001?q=.03410288911259329:e[121]>1e-35?q=-.06056527462120627:e[8]>2592.5000000000005?q=.12166808844363577:e[191]>1e-35?q=.11669879218998758:q=-.001664858391716235:q=-.01262927450503166:q=-.04506589951879664:e[227]>1e-35?q=-.08548904959752329:q=.02156080776537726;let ne;e[306]>1e-35?e[149]>1e-35?ne=-.1389218965136736:ne=-.032218642644416894:e[13]>1e-35?ne=.006465035217331847:e[50]>1e-35?ne=-.1381687930130022:e[179]>1e-35?ne=-.13112784985951215:e[148]>1e-35?e[8]>1726.5000000000002?ne=-.03262719498763048:ne=.023342916702125613:e[191]>1e-35?ne=.030005484947580197:e[4]>4.500000000000001?e[204]>1e-35?ne=.047767773119269434:e[136]>1e-35?e[0]>1937.5000000000002?ne=-.09989343595668776:ne=.06533942033334243:e[15]>1e-35?e[9]>86.50000000000001?ne=-.10577989354150097:e[8]>668.5000000000001?e[126]>1e-35?ne=-.09165257825246746:e[9]>32.50000000000001?ne=.02484870392366004:ne=-.008499493096971395:e[8]>24.500000000000004?ne=.02459679192828244:ne=-.010527978013140512:e[25]>1e-35?e[217]>1e-35?ne=.0015644546318714849:ne=-.06579524865022705:ne=-.0060233890975120614:e[122]>1e-35?e[1]>36.50000000000001?ne=.03331853632960164:ne=-.09482264761126993:e[19]>1e-35?e[8]>1430.5000000000002?ne=-.019091477207111116:ne=.037878468575478504:e[94]>1e-35?ne=-.08013082284576584:e[4]>2.5000000000000004?e[186]>1e-35?ne=.16919658785098224:e[243]>1e-35?ne=-.06580584936754524:ne=.01567555159935563:e[129]>1e-35?ne=.06721746994993226:e[10]>32.50000000000001?ne=-.046394462507797975:ne=-.006436180519584767;let ce;e[131]>1e-35?ce=.015039096856208693:e[8]>779.5000000000001?e[145]>1e-35?ce=.019122095523977856:e[298]>1e-35?ce=.023828936462317443:e[1]>23.500000000000004?e[5]>384.50000000000006?e[7]>59.50000000000001?ce=-.026094309429557913:e[204]>1e-35?ce=.09163404305658318:e[1]>27.500000000000004?e[149]>1e-35?e[6]>34.50000000000001?ce=.012643810980689466:ce=-.07884161741497837:ce=-.0025267379810891104:e[2]>43.50000000000001?e[0]>2860.5000000000005?ce=.04493082949897325:ce=.18046359750455776:e[7]>18.500000000000004?ce=-.018667348656891496:ce=.02584325784698236:ce=-.045696524897545915:e[0]>3321.5000000000005?e[201]>1e-35?ce=.04749240016989375:ce=-.0333334578246718:e[5]>3276.5000000000005?ce=.11330554740098908:e[7]>94.50000000000001?ce=.1296600395033268:ce=-.003576436308940934:e[15]>1e-35?e[183]>1e-35?ce=-.13787130789142835:e[0]>1847.5000000000002?ce=.017915229729920556:e[10]>23.500000000000004?e[10]>31.500000000000004?e[6]>7.500000000000001?ce=.028856848462727104:ce=-.11197632885851168:ce=.08169801342016791:e[1]>22.500000000000004?ce=-.021052888644970163:ce=.019048604298876753:e[7]>4.500000000000001?ce=-.002603328695276418:e[7]>1.5000000000000002?e[2]>5.500000000000001?ce=.03432638833359197:ce=-.0036767863082454973:e[1]>48.50000000000001?ce=.03087375270128195:e[2]>3.5000000000000004?ce=-.04219917149740248:ce=.018818493993207935;let Z;e[306]>1e-35?Z=-.04076858123502297:e[13]>1e-35?e[1]>67.50000000000001?e[9]>14.500000000000002?e[9]>53.50000000000001?e[8]>1971.5000000000002?Z=-.09091897542577475:Z=.04042943082645558:e[218]>1e-35?Z=.056254985867151:Z=-.053848117950183044:Z=.003881630017086845:e[5]>5152.500000000001?e[8]>857.5000000000001?e[6]>28.500000000000004?Z=.021581808008986944:Z=-.05639286496176611:Z=.052838875036198954:e[5]>50.50000000000001?e[5]>4082.5000000000005?e[17]>1e-35?Z=.023061479860228728:e[145]>1e-35?e[9]>10.500000000000002?Z=.023885302967553288:Z=.1617794086125622:e[212]>1e-35?Z=.04504545345658806:e[3]>17.500000000000004?e[4]>45.50000000000001?Z=-.03948072448245435:e[1]>47.50000000000001?e[9]>18.500000000000004?Z=.01894935813286188:Z=-.06449356357429188:Z=.012297239104320094:e[1]>26.500000000000004?e[8]>33.50000000000001?Z=-.034718828212885515:Z=.0898976288814321:e[1]>17.500000000000004?Z=-.15440137451988326:Z=-.03864183216821465:Z=.009988507307006308:Z=-.08540311947043305:e[50]>1e-35?Z=-.13323659732101975:e[134]>1e-35?Z=-.031820386486894385:e[32]>1e-35?e[8]>2302.5000000000005?Z=.08082476177379844:Z=-.041665761903645876:e[179]>1e-35?Z=-.12405023987936657:e[39]>1e-35?Z=-.06247416524997478:e[138]>1e-35?Z=-.10724031753676487:Z=-.0005423122305122404;let G;e[308]>1e-35?G=.006160742906729798:e[190]>1e-35?e[0]>2461.5000000000005?e[10]>22.500000000000004?G=.023223358334607133:G=-.04383410185346742:G=-.08542395045055405:e[297]>1e-35?e[8]>51.50000000000001?e[1]>13.500000000000002?G=.023406489302867494:G=-.085521220804058:G=-.02921899554854833:e[298]>1e-35?e[9]>12.500000000000002?G=.028120059780969632:G=-.04211009474298743:e[294]>1e-35?G=-.05040415676618239:e[86]>1e-35?e[1]>36.50000000000001?G=-.0993035220737934:G=-.0005384930611060366:e[230]>1e-35?e[4]>6.500000000000001?G=.029770210551187937:G=-.016272917551655715:e[4]>60.50000000000001?e[280]>1e-35?G=.06421359317599738:G=-.01963732469244167:e[218]>1e-35?e[3]>3.5000000000000004?G=.024368404612215164:G=-.04045232374803373:e[131]>1e-35?G=.017372701982485795:e[120]>1e-35?G=.08812710275150198:e[18]>1e-35?e[90]>1e-35?G=.18451364351180236:e[7]>33.50000000000001?G=-.03850813130183531:e[195]>1e-35?G=.06966114053446336:e[3]>16.500000000000004?G=-.0012869181693341211:e[0]>4242.500000000001?G=-.054625548611291035:G=-.014431095117473881:e[5]>4558.500000000001?e[8]>1.5000000000000002?G=.006302103427145562:G=.13967622319898698:e[121]>1e-35?G=-.038798585213145644:e[5]>4544.500000000001?G=-.08050498033009466:G=-.002986974112681435;let U;e[0]>384.50000000000006?e[2]>101.50000000000001?e[1]>16.500000000000004?U=-.03461119351456781:U=.05659026566680352:e[306]>1e-35?e[2]>14.500000000000002?e[149]>1e-35?U=-.12404435523286539:U=-.0034376913880382956:U=-.09821622245095822:e[131]>1e-35?e[9]>1.5000000000000002?U=.0037507103585310234:U=.03610387965829944:e[8]>999.5000000000001?e[9]>137.50000000000003?U=-.11985021663179699:e[0]>1847.5000000000002?e[126]>1e-35?U=-.04832024079663151:e[37]>1e-35?U=-.037103393468366934:U=-.004248086592531705:e[8]>3084.0000000000005?e[9]>43.50000000000001?U=.032539071163832034:e[5]>1643.5000000000002?U=.036408625378035665:e[0]>1500.5000000000002?U=-.1346358322854993:U=-.027586559522081014:e[3]>1e-35?e[190]>1e-35?U=-.1133991164577881:e[9]>52.50000000000001?U=-.024478640359723122:U=.03673777861098756:U=-.1037451237591819:e[230]>1e-35?e[9]>48.50000000000001?e[10]>20.500000000000004?U=.002583438691776944:U=.10773520810108106:e[9]>12.500000000000002?e[1]>16.500000000000004?U=-.02141222346712401:U=.06392462314316179:e[4]>12.500000000000002?U=.08700122294434816:e[8]>267.50000000000006?U=.056923170082743224:U=-.07716309825583327:e[32]>1e-35?U=-.03961343943752142:U=.002674914122888783:e[1]>42.50000000000001?U=-.05217539654421676:e[145]>1e-35?U=.09553630282946368:U=-.009424791262477729;let ie;e[183]>1e-35?ie=-.05753337139158443:e[308]>1e-35?ie=.00562436671450989:e[9]>7.500000000000001?e[21]>1e-35?e[10]>8.500000000000002?ie=-.10477869875380448:ie=-.0070301869937306055:e[3]>9.500000000000002?e[8]>1765.5000000000002?e[0]>4571.500000000001?ie=-.12526505173232894:e[10]>1e-35?e[9]>71.50000000000001?ie=-.04442302951713574:ie=.00012409888451734224:ie=-.092199119633697:e[225]>1e-35?ie=.13773072450201831:e[0]>2882.5000000000005?ie=.0028540012229920533:e[298]>1e-35?ie=.07134486044361629:ie=.014297412329837425:e[145]>1e-35?ie=.05608385321902638:e[92]>1e-35?ie=.038298413603926135:e[107]>1e-35?e[2]>6.500000000000001?ie=-.0039957800609801315:ie=.0776927564241081:e[203]>1e-35?ie=-.05502900859432093:e[105]>1e-35?ie=.06062892720841595:ie=-.009574839629252128:e[31]>1e-35?ie=.009488858841144216:e[23]>1e-35?e[20]>1e-35?ie=.08818126313644752:e[8]>161.50000000000003?ie=.014353968957885408:ie=-.022240738532827903:e[210]>1e-35?ie=.024648862719806694:e[2]>5.500000000000001?e[4]>4.500000000000001?e[17]>1e-35?e[10]>16.500000000000004?ie=-.043902062079383485:ie=-.014741559220396223:ie=-.00934935734853194:e[6]>32.50000000000001?ie=.1514593126307404:ie=.010771222510801532:e[10]>22.500000000000004?ie=.01412495209334078:ie=-.08576940379502533;let J;e[0]>384.50000000000006?e[84]>1e-35?J=-.06647690967306838:e[2]>101.50000000000001?J=-.024451334501552457:e[306]>1e-35?J=-.034517188927733505:e[131]>1e-35?e[9]>1.5000000000000002?J=.0031858381443673127:J=.032574927024450646:e[204]>1e-35?e[1]>62.50000000000001?J=-.08601340441214533:e[1]>29.500000000000004?J=.10487598629539963:e[8]>597.5000000000001?J=-.0786529133673238:J=.08689436600511559:e[8]>779.5000000000001?e[10]>2.5000000000000004?e[9]>100.50000000000001?J=-.04883600353740688:e[126]>1e-35?J=-.03794042763348827:J=-.003358871967539988:e[210]>1e-35?J=.054991356498447566:e[6]>19.500000000000004?J=-.007418396981635549:J=.018032606049498613:e[18]>1e-35?e[7]>35.50000000000001?e[2]>44.50000000000001?J=-.02143003429501711:J=-.09016000554055564:e[1]>19.500000000000004?e[1]>42.50000000000001?e[8]>17.500000000000004?J=-.006636355416244082:J=-.06483095743431454:e[4]>21.500000000000004?J=-.028975965946833545:J=.022012264796522657:J=-.06653648243193663:e[5]>4593.500000000001?J=.01753551428088607:e[217]>1e-35?J=-.028864824937700297:e[94]>1e-35?J=-.04885192273020658:e[279]>1e-35?J=.08105715462329498:e[121]>1e-35?J=-.04576676034750651:J=.004795141324949362:e[1]>42.50000000000001?J=-.047446619702809195:e[145]>1e-35?J=.08400495571952321:J=-.00854528836489364;let H;e[294]>1e-35?H=-.042529778074638265:e[266]>1e-35?H=-.1180276669679798:e[134]>1e-35?H=-.026818144353279623:e[183]>1e-35?H=-.05120747503479363:e[227]>1e-35?e[8]>1641.5000000000002?H=-.07265906898294434:e[4]>12.500000000000002?e[17]>1e-35?H=-.027516137530797014:e[0]>4331.500000000001?e[1]>64.50000000000001?H=-.03049646619610203:e[1]>50.50000000000001?H=.20634590755061122:H=.06956378103625731:e[0]>3770.5000000000005?H=-.07946414366134913:e[19]>1e-35?H=.17083312065604694:e[2]>21.500000000000004?H=-.02327981978127724:H=.129717297518715:e[145]>1e-35?H=.006891245076133524:H=-.0789123467863741:e[3]>99.50000000000001?H=-.02022281202803071:e[302]>1e-35?e[10]>47.50000000000001?H=.06447639919732716:H=-.05457561977645972:e[306]>1e-35?H=-.029995903305383882:e[191]>1e-35?H=.030596508110850414:e[242]>1e-35?H=-.024085578702020216:e[8]>3198.5000000000005?e[297]>1e-35?H=.09518584795377832:H=-.018197744600833596:e[13]>1e-35?H=.006751790086127549:e[148]>1e-35?H=.01904174573618417:e[99]>1e-35?H=.025287735102561926:e[4]>14.500000000000002?H=-.004364337681643273:e[1]>15.500000000000002?e[35]>1e-35?H=-.09467943982430241:e[243]>1e-35?H=-.02521824751996268:H=.005437570718352172:H=-.022476214821960674;let M;e[0]>384.50000000000006?e[84]>1e-35?M=-.06088131453064195:e[147]>1e-35?M=-.05332792965930566:e[135]>1e-35?e[9]>32.50000000000001?M=.04219361472548491:M=-.07227529211725771:e[10]>4.500000000000001?e[21]>1e-35?M=-.0787279848043689:e[17]>1e-35?e[3]>18.500000000000004?e[188]>1e-35?M=-.054347604504400286:e[0]>3544.5000000000005?e[0]>5850.500000000001?M=-.11431764534511478:M=.013549717238356157:M=-.020987333767091276:e[6]>2.5000000000000004?M=-.02914877855133127:M=.08483464900160231:e[8]>58.50000000000001?e[183]>1e-35?M=-.10087072787978416:e[37]>1e-35?M=-.030467397753331196:e[229]>1e-35?M=-.1017559811057469:e[4]>20.500000000000004?M=-.00413177742240167:e[20]>1e-35?M=.05213315982685969:M=.0037921635866823133:e[8]>51.50000000000001?M=.07327913092421544:e[6]>49.50000000000001?M=-.03457694284156811:e[6]>18.500000000000004?e[7]>17.500000000000004?M=.02744420891894289:M=.11288946357194463:M=.003482908820966248:e[18]>1e-35?e[1]>20.500000000000004?e[7]>4.500000000000001?M=-.012329314369909049:M=.026816658655600168:M=-.0872405354618811:M=.007872673500247845:e[1]>42.50000000000001?M=-.04309044198258254:e[145]>1e-35?M=.07572529147860785:e[7]>5.500000000000001?M=-.013837187093264945:e[1]>17.500000000000004?M=.04208698439539668:M=-.06284346769019863;let j;e[294]>1e-35?j=-.0384794324818203:e[266]>1e-35?j=-.1087205883821061:e[32]>1e-35?e[8]>2302.5000000000005?j=.07432960094940501:j=-.035248735855751855:e[134]>1e-35?j=-.02456191365284949:e[121]>1e-35?e[0]>4720.500000000001?e[1]>39.50000000000001?j=-.01706896375068821:j=.08212247914968074:e[2]>59.50000000000001?j=-.09546478958824225:e[6]>53.50000000000001?j=.12317082897575611:e[1]>56.50000000000001?e[4]>7.500000000000001?e[0]>3560.5000000000005?j=.02816463285971267:j=.15449139016588445:j=-.10199787406123524:j=-.038068684323297096:e[223]>1e-35?e[8]>668.5000000000001?j=-.13924786681478077:j=-.0072772442570213335:e[39]>1e-35?j=-.05392786531177836:e[0]>93.50000000000001?e[40]>1e-35?j=-.054059371343144036:e[306]>1e-35?e[2]>14.500000000000002?e[149]>1e-35?j=-.11174465335620831:j=.00013144040097180107:j=-.08493919336681105:e[42]>1e-35?j=-.11078582572836196:e[84]>1e-35?e[4]>17.500000000000004?j=-.015540659878839153:j=-.14442609417300142:e[21]>1e-35?j=-.025251979447574083:j=.0023698372645272847:e[18]>1e-35?j=.07269739695712212:e[8]>2592.5000000000005?j=-.1460388776448558:e[9]>30.500000000000004?e[1]>23.500000000000004?j=-.01835130329646532:e[9]>45.50000000000001?j=.02023047454629885:j=.16469378262221102:j=-.042975030085836426;let X;e[8]>2915.5000000000005?e[297]>1e-35?X=.06257393915394144:e[0]>93.50000000000001?e[4]>1.5000000000000002?X=-.01034964686484714:X=-.07357437440667927:X=-.11987794734779106:e[298]>1e-35?e[8]>81.50000000000001?e[0]>3370.5000000000005?e[8]>155.50000000000003?e[8]>660.5000000000001?e[8]>2134.5000000000005?X=-.09476398869062203:e[9]>72.50000000000001?X=-.0757383854264379:X=.02806542779508718:X=-.05147742568418084:X=.10212721564444344:X=.0518263760642861:X=-.08743405377022222:e[189]>1e-35?e[0]>5269.500000000001?X=-.10669213185972036:X=.027050434286384796:e[302]>1e-35?X=-.0407832394672723:e[116]>1e-35?e[10]>38.50000000000001?X=.06354599160071946:e[1]>67.50000000000001?X=.05317447949011187:X=-.059138165935307165:e[212]>1e-35?e[19]>1e-35?X=-.09369289448773599:e[0]>2215.5000000000005?X=.04077965380363924:e[0]>807.5000000000001?X=-.0591771776458298:X=.057315736906679376:e[308]>1e-35?e[1]>52.50000000000001?e[5]>3749.5000000000005?X=-.016323380219241672:X=.007291062979527741:e[210]>1e-35?e[8]>1641.5000000000002?X=.03720704290087811:X=-.008730548158766654:e[4]>80.50000000000001?X=-.05346644687473197:X=.014596824736762107:e[218]>1e-35?e[3]>3.5000000000000004?X=.019984510398089086:X=-.03917825025861855:e[9]>170.50000000000003?X=-.09759719821334525:X=-.0023586682752856298;let ae;e[183]>1e-35?e[17]>1e-35?ae=.030100940443356424:e[10]>1.5000000000000002?ae=-.10861112216742408:ae=.017680668976453255:e[227]>1e-35?e[17]>1e-35?e[2]>16.500000000000004?ae=-.032062878390325456:ae=-.10808232631806887:e[8]>1641.5000000000002?ae=-.06147013392655731:e[4]>12.500000000000002?ae=.03324767551088266:e[145]>1e-35?ae=.028851633810612017:ae=-.054871239091792784:e[134]>1e-35?ae=-.023813968121342108:e[266]>1e-35?ae=-.10037039667146351:e[222]>1e-35?e[0]>612.5000000000001?e[10]>1e-35?e[8]>1939.5000000000002?ae=-.055566877553100726:e[2]>24.500000000000004?e[8]>182.50000000000003?e[10]>43.50000000000001?e[10]>55.50000000000001?ae=-.025350325484720576:ae=.1579024598549572:e[9]>2.5000000000000004?e[0]>3746.5000000000005?ae=.056817276537534815:ae=-.07674158463557636:ae=-.06335553143454145:e[1]>56.50000000000001?ae=.16390494217299284:ae=-.0027330160430847177:e[10]>36.50000000000001?e[8]>1067.5000000000002?ae=.041717597065890205:ae=-.10357913492269129:e[10]>29.500000000000004?ae=.1365512866715726:ae=.020600048310575665:ae=.09708785634773187:ae=-.060427658852305666:e[126]>1e-35?e[10]>32.50000000000001?e[6]>24.500000000000004?e[8]>1146.5000000000002?ae=-.03146213719547347:ae=.11784024316238083:ae=-.050940520532045355:ae=-.047988344143075616:e[191]>1e-35?ae=.028764654731460032:ae=.0011911575567860023;let re;e[294]>1e-35?e[10]>50.50000000000001?re=-.11630092297244568:e[0]>2432.5000000000005?e[0]>4199.500000000001?re=-.05103908560370243:re=.05002066201169583:re=-.09976646725732496:e[32]>1e-35?e[0]>4242.500000000001?re=-.0648838712201258:e[5]>3721.5000000000005?e[9]>4.500000000000001?re=.127983140816313:re=-.05436534163636867:re=-.024514536544596455:e[121]>1e-35?e[0]>4449.500000000001?e[4]>9.500000000000002?re=-.009504203657088933:e[8]>819.5000000000001?re=.18689664822602375:re=.03635576744011826:re=-.029862411809998525:e[223]>1e-35?re=-.06474496692999487:e[86]>1e-35?e[8]>65.50000000000001?e[1]>46.50000000000001?re=-.09405026597863717:e[0]>4153.500000000001?re=.053577663326799765:re=-.05062127873995668:re=.06512222894425874:e[39]>1e-35?re=-.04985311717827547:e[51]>1e-35?re=-.04541229517934797:e[178]>1e-35?e[2]>25.500000000000004?e[2]>30.500000000000004?e[0]>2151.5000000000005?re=-.02860634573675884:re=.08863753005590103:re=.11158892111063744:e[0]>655.5000000000001?re=-.031005736641654926:re=-.1439827004505974:e[222]>1e-35?e[1]>11.500000000000002?e[0]>612.5000000000001?re=-.00843386136334982:re=-.05273594615999777:re=.1060183822015004:e[126]>1e-35?e[10]>32.50000000000001?e[8]>719.5000000000001?re=-.015774115523598486:re=.10147367091236065:re=-.048307000563071016:re=.002118376117677254;let le;e[8]>1014.5000000000001?e[9]>137.50000000000003?le=-.10279096288817871:e[0]>93.50000000000001?e[8]>1067.5000000000002?e[227]>1e-35?le=-.03544332389470493:e[285]>1e-35?e[9]>64.50000000000001?le=.07211107542565391:le=-.041556776020476104:e[145]>1e-35?e[1]>66.50000000000001?le=-.0751486415451188:e[1]>59.50000000000001?le=.13459005084554104:le=.024184371850147466:e[0]>3072.5000000000005?e[95]>1e-35?le=.06715575425741895:le=-.005895690393702183:e[8]>2915.5000000000005?le=-.010205039411753762:e[9]>33.50000000000001?e[9]>47.50000000000001?le=-.00029068886245881074:le=.0613467393188786:e[148]>1e-35?le=-.06074463294936236:e[3]>1.5000000000000002?e[5]>1849.5000000000002?e[1]>15.500000000000002?le=.003887223773199377:le=-.08553893131979015:le=.025654192706396767:le=-.05651733979610658:le=-.02039913645229667:e[2]>7.500000000000001?le=-.1058450646728524:le=.02267192191610376:e[1]>120.50000000000001?e[2]>60.50000000000001?le=-.12304707569000428:e[1]>132.50000000000003?e[6]>41.50000000000001?le=.1283258201586378:le=-.01718135372229775:le=-.07702452408491414:e[125]>1e-35?le=-.0804612900572707:e[178]>1e-35?e[0]>4533.500000000001?le=.04273051857848212:le=-.04533122948101463:e[2]>196.50000000000003?le=-.10543331044088727:e[94]>1e-35?e[5]>4532.500000000001?le=.0231032972703664:le=-.04807386814498683:le=.002729435991332102;let de;e[179]>1e-35?de=-.08065315471211375:e[183]>1e-35?e[17]>1e-35?de=.026484626664041125:e[10]>1.5000000000000002?de=-.10187000872941615:de=.015274190652133752:e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?de=.09574540795390041:de=-.06454986703691233:de=-.11411849349353141:e[266]>1e-35?de=-.09281838517322076:e[32]>1e-35?e[8]>2302.5000000000005?de=.06685250330182936:e[4]>67.50000000000001?e[2]>97.50000000000001?de=-.04403391373512386:de=.1132928075412222:e[2]>47.50000000000001?de=-.09700191391838056:de=-.02147184357182825:e[10]>4.500000000000001?e[21]>1e-35?de=-.0735617817957859:e[17]>1e-35?e[3]>18.500000000000004?de=-.001668912999010927:de=-.02363511102970245:e[8]>58.50000000000001?de=-.00035213368294640616:e[3]>17.500000000000004?e[2]>28.500000000000004?e[10]>23.500000000000004?e[1]>38.50000000000001?de=.0911011436534449:e[1]>28.500000000000004?de=-.07192390493729035:de=.06913818091291246:de=-.012312625373699222:de=.06784496312307986:de=-167756936027735e-19:e[18]>1e-35?e[8]>302.50000000000006?de=.0026564453057705273:de=-.025425772389361445:e[122]>1e-35?de=-.12046786388602149:e[0]>3183.5000000000005?de=.01162092842804907:e[91]>1e-35?de=.07000265526928563:e[1]>22.500000000000004?e[0]>576.5000000000001?de=-.0001647792543020228:de=-.023664538532907665:de=.01609078206180752;let Re;e[294]>1e-35?e[1]>26.500000000000004?e[0]>4141.500000000001?Re=-.051473645433684705:e[0]>3030.5000000000005?e[1]>51.50000000000001?Re=-.017696526862422682:Re=.1450050954613223:Re=-.05406930069823832:Re=-.08308700260259043:e[120]>1e-35?Re=.058316269489189415:e[297]>1e-35?e[94]>1e-35?Re=-.07425512495167255:e[8]>51.50000000000001?e[1]>13.500000000000002?e[1]>33.50000000000001?e[19]>1e-35?e[0]>4498.500000000001?Re=.038431826961746934:Re=-.05937462906539856:e[9]>65.50000000000001?Re=.10814845712507865:e[4]>9.500000000000002?e[2]>22.500000000000004?e[1]>39.50000000000001?e[1]>44.50000000000001?e[10]>44.50000000000001?Re=.12297945639231944:e[0]>3796.5000000000005?e[4]>26.500000000000004?Re=-.09579030954062734:Re=.025064711572811746:Re=.02579440518821548:Re=.1044440128091862:Re=-.058348633139536844:Re=.07766788227934436:Re=-.01021229539092708:e[2]>2.5000000000000004?e[10]>29.500000000000004?e[0]>3770.5000000000005?e[0]>4438.500000000001?Re=.07463684068207214:Re=.18244269035484484:e[6]>39.50000000000001?Re=-.06050050067471004:Re=.05787759066913493:Re=.010783225857972171:Re=.1674891243602606:e[4]>9.500000000000002?Re=-.004814132027475892:Re=-.14543299413454813:Re=-.02935093398687923:e[116]>1e-35?e[9]>2.5000000000000004?e[8]>1218.5000000000002?Re=-.07634466313617769:Re=.0287825335169114:Re=-.06894721943300268:Re=-.00023988459059521937;let Ee;e[131]>1e-35?e[1]>93.50000000000001?Ee=-.05706887458825395:e[2]>1.5000000000000002?Ee=.011446637886629108:Ee=-.10616119878749211:e[230]>1e-35?e[4]>6.500000000000001?e[0]>4977.500000000001?Ee=.08424281276381033:e[3]>17.500000000000004?e[20]>1e-35?Ee=.11146885439601915:e[8]>61.50000000000001?e[0]>3530.5000000000005?e[9]>48.50000000000001?e[9]>61.50000000000001?Ee=.026278724448495064:Ee=.17053138400480508:e[0]>4463.500000000001?Ee=-.06482289890096041:Ee=.03026516489536295:Ee=-.031785170717683144:Ee=.1312690622980455:e[13]>1e-35?Ee=.14336922540461444:Ee=.03523850945454039:Ee=-.015407465968975714:e[39]>1e-35?Ee=-.054809635385158186:e[32]>1e-35?e[0]>4242.500000000001?Ee=-.0659975068798723:Ee=-.008386582621403979:e[4]>60.50000000000001?e[10]>75.50000000000001?e[3]>107.50000000000001?Ee=-.04225314193574262:e[3]>70.50000000000001?e[1]>29.500000000000004?Ee=.057409156184759516:Ee=.2024322059866388:Ee=-.030670938454461245:e[10]>1e-35?e[0]>4733.500000000001?Ee=.010648654146284154:e[308]>1e-35?Ee=.008728141696325391:e[4]>64.50000000000001?e[298]>1e-35?Ee=.12364025998551711:Ee=-.02247495081065243:e[1]>22.500000000000004?Ee=-.0726295464624251:Ee=.03481895086048152:e[0]>4331.500000000001?Ee=-.04775443357020673:Ee=.07172377425057568:e[2]>89.50000000000001?Ee=-.11782645274716962:Ee=.00010092665257989378;let Oe;e[147]>1e-35?Oe=-.041560228567115574:e[302]>1e-35?e[10]>47.50000000000001?Oe=.062292114082780084:e[10]>5.500000000000001?e[7]>22.500000000000004?Oe=-.016101990375700172:e[0]>2579.5000000000005?Oe=-.13045089661551845:Oe=-.02874367814784938:Oe=.025835149631944995:e[167]>1e-35?e[0]>3928.5000000000005?Oe=.17084176915326055:Oe=-.019195947948312853:e[222]>1e-35?e[30]>1e-35?e[1]>36.50000000000001?e[8]>45.50000000000001?e[8]>578.5000000000001?e[1]>67.50000000000001?Oe=.10591712319944074:Oe=-.024082167264285:Oe=.16497698867036126:Oe=-.04985066326861431:e[0]>1937.5000000000002?e[2]>16.500000000000004?Oe=-.021012910475524206:Oe=-.13058422554298485:e[0]>1102.5000000000002?Oe=.10955864175201457:Oe=-.03566689354348996:e[1]>11.500000000000002?Oe=-.02093884208606101:Oe=.09107244766183857:e[126]>1e-35?e[10]>32.50000000000001?e[8]>719.5000000000001?Oe=-.013861861436128482:Oe=.09756849802202777:e[224]>1e-35?e[1]>51.50000000000001?Oe=.10163873449625677:Oe=-.02779270277623805:e[1]>26.500000000000004?Oe=-.08035058228527389:Oe=.0005719695099064484:e[191]>1e-35?e[9]>9.500000000000002?Oe=-.007028075523033826:Oe=.0489470913925288:e[1]>61.50000000000001?e[132]>1e-35?Oe=.11230846723576784:e[0]>350.50000000000006?e[2]>1.5000000000000002?Oe=-.0032075580718124892:Oe=-.04442829143298883:Oe=-.06597073245775804:Oe=.0015594090939337751;let _e;e[223]>1e-35?e[8]>668.5000000000001?_e=-.12803889879260094:_e=.002171373740016862:e[121]>1e-35?e[0]>4720.500000000001?e[217]>1e-35?_e=.08967966612917375:e[1]>39.50000000000001?_e=-.059791671514498074:_e=.05648934961902822:e[2]>59.50000000000001?_e=-.08633234097449628:e[6]>53.50000000000001?_e=.11140345067444689:e[1]>56.50000000000001?e[4]>7.500000000000001?e[0]>3560.5000000000005?_e=.025606129643140924:_e=.13835395886271978:_e=-.09361630641448024:e[4]>7.500000000000001?e[1]>26.500000000000004?e[1]>49.50000000000001?_e=-.09975506556937946:e[10]>36.50000000000001?_e=-.09427724661655643:e[10]>24.500000000000004?_e=.07329330653410447:_e=-.02271182965807972:_e=-.09767874967639482:e[6]>13.500000000000002?e[10]>23.500000000000004?_e=-.05082091374050816:_e=.1687114435254966:e[0]>2314.5000000000005?_e=-.06422664016383926:_e=.0636688376664789:e[298]>1e-35?e[9]>12.500000000000002?e[133]>1e-35?_e=-.06857762517406195:e[9]>71.50000000000001?e[0]>4188.500000000001?_e=-.1274167728754332:_e=.01308079126447365:e[4]>73.50000000000001?_e=.13854015371106546:e[4]>48.50000000000001?_e=-.03684255740123261:e[6]>45.50000000000001?_e=.10329912215813097:e[10]>77.50000000000001?_e=-.08630788656925215:_e=.031022006843800853:e[1]>25.500000000000004?_e=-.08278381528048026:_e=.06664374548141594:e[84]>1e-35?_e=-.05624227409079396:_e=.00012184182357340415;let Je;e[179]>1e-35?Je=-.07443348719246982:e[40]>1e-35?e[0]>1937.5000000000002?Je=-.07595415373151816:Je=.054065040429292326:e[134]>1e-35?e[11]>1e-35?e[2]>13.500000000000002?e[0]>1187.5000000000002?Je=.022822510448266862:Je=.17491569312933697:Je=-.058362287133533565:e[2]>2.5000000000000004?Je=-.03633895806364428:Je=.06397808186120692:e[8]>4968.500000000001?e[1]>31.500000000000004?Je=-.07294848747514579:Je=.025053613105805606:e[230]>1e-35?e[4]>6.500000000000001?e[107]>1e-35?Je=-.07009535282685533:e[8]>2640.0000000000005?Je=-.051761240111316276:e[131]>1e-35?Je=-.06245774419231631:Je=.03495606662854905:Je=-.013863522184803188:e[131]>1e-35?e[1]>93.50000000000001?e[1]>105.50000000000001?Je=.0015036626973581122:Je=-.12505706794835883:e[1]>48.50000000000001?e[276]>1e-35?Je=.10435171369790015:e[0]>5026.500000000001?e[0]>5308.500000000001?Je=.022343994371919224:Je=-.14087991797693533:e[8]>1323.5000000000002?e[10]>49.50000000000001?Je=.07724450228328664:e[0]>3853.5000000000005?Je=-.15671707454435677:e[10]>28.500000000000004?Je=-.10179090671841723:Je=.014878216919760927:Je=.03967665658164865:e[8]>2696.5000000000005?e[15]>1e-35?Je=.14054154485273487:Je=.01821247272493051:e[2]>5.500000000000001?e[2]>100.50000000000001?Je=-.08632985141410315:Je=.005524157938954954:Je=-.08802502622523681:Je=-.0004649168897260341;let ut;e[86]>1e-35?e[8]>65.50000000000001?e[1]>32.50000000000001?e[4]>16.500000000000004?ut=-.007458687464321174:ut=-.09444966249102484:e[1]>23.500000000000004?ut=.08564129697360716:ut=-.07105002902845851:ut=.05688756955238231:e[294]>1e-35?e[10]>50.50000000000001?ut=-.10326216566705966:e[1]>26.500000000000004?ut=.0050539832484585365:ut=-.07080395606126953:e[306]>1e-35?e[149]>1e-35?ut=-.10399433201474328:e[2]>14.500000000000002?e[9]>6.500000000000001?ut=.05783632021087773:e[10]>17.500000000000004?ut=-.06720598671764105:e[1]>47.50000000000001?ut=.097495825172558:ut=-.013372242800584872:ut=-.06463226787713715:e[42]>1e-35?ut=-.0885725817597767:e[204]>1e-35?e[1]>62.50000000000001?ut=-.07496598696848249:e[1]>29.500000000000004?e[8]>446.50000000000006?ut=.11051270080118503:ut=.027719462817590454:e[8]>597.5000000000001?ut=-.08441503592016869:ut=.05534229430302502:e[223]>1e-35?e[8]>668.5000000000001?ut=-.12190088985091102:ut=-.0067442838156576345:e[148]>1e-35?e[9]>79.50000000000001?ut=.09225972475904022:e[2]>10.500000000000002?e[1]>102.50000000000001?ut=.11805676536334647:e[8]>1726.5000000000002?e[9]>10.500000000000002?ut=.016585157185448045:ut=-.11032043771149425:ut=.01586986028570486:e[8]>388.50000000000006?ut=-.10592413013261853:ut=.04930703248769364:e[13]>1e-35?ut=.003621937787920821:ut=-.0013786331198611841;let ot;e[145]>1e-35?e[1]>32.50000000000001?e[1]>38.50000000000001?e[10]>55.50000000000001?e[1]>54.50000000000001?ot=.009769895322846493:ot=-.10620052926943656:e[9]>19.500000000000004?ot=.03781202525403449:e[9]>14.500000000000002?ot=-.11485785321365344:e[9]>6.500000000000001?ot=.07677177833073881:e[0]>4342.500000000001?ot=-.07079285609687631:e[49]>1e-35?ot=.06156814809246001:ot=-.014788509042554625:ot=-.032659201618470655:e[5]>5207.500000000001?ot=-.09013500825185713:e[3]>10.500000000000002?e[8]>1787.5000000000002?ot=-.03094160322187924:e[1]>29.500000000000004?ot=.09474646043921069:ot=.023445783928231618:ot=.09342846694174194:e[0]>533.5000000000001?e[204]>1e-35?e[1]>62.50000000000001?ot=-.07164443768784848:e[1]>29.500000000000004?ot=.089473622509272:e[8]>597.5000000000001?ot=-.08155349903101317:ot=.07098423265024251:e[8]>691.5000000000001?e[5]>2252.5000000000005?ot=-.004003900679358653:e[190]>1e-35?ot=-.09236113461485262:e[8]>3198.5000000000005?ot=-.0124130160451179:ot=.018453070064009328:e[15]>1e-35?ot=.012013209112857824:e[7]>4.500000000000001?e[7]>5.500000000000001?ot=-.0009580759587680961:ot=-.03227283036698222:ot=.01369287669536875:e[1]>50.50000000000001?ot=-.04213060332500437:e[35]>1e-35?ot=-.11508095777767471:e[190]>1e-35?ot=-.08611884672400155:e[297]>1e-35?ot=.05723551879433584:ot=-.004829340082311461;let at;e[183]>1e-35?at=-.037994150023203555:e[227]>1e-35?e[17]>1e-35?e[3]>20.500000000000004?e[10]>36.50000000000001?at=-.11753465135886734:at=-.007515490299047085:at=-.08576941990777916:e[8]>1641.5000000000002?e[10]>37.50000000000001?at=-.12371142493530439:e[1]>36.50000000000001?at=.032189417575190435:at=-.10339125953022954:e[3]>32.50000000000001?e[4]>27.500000000000004?e[1]>59.50000000000001?at=-.0784518658439288:e[2]>54.50000000000001?at=.12477882322370665:at=.000313468482399738:at=.12261955132611434:e[8]>81.50000000000001?e[23]>1e-35?at=.04969252946760318:e[8]>511.50000000000006?e[8]>1146.5000000000002?at=.0353146070135579:at=-.06327619611098285:at=.02813577701641991:at=-.12354390728506215:e[34]>1e-35?at=-.07664408516055397:e[3]>99.50000000000001?e[1]>16.500000000000004?e[1]>26.500000000000004?at=-.01245803535276381:at=-.07169472553475001:e[1]>11.500000000000002?at=.12989984824561698:at=-.01201544398886606:e[6]>91.50000000000001?e[1]>22.500000000000004?at=.010390226893521422:e[10]>14.500000000000002?at=.16790888126487719:at=.010614982228955577:e[4]>79.50000000000001?e[9]>44.50000000000001?e[0]>3853.5000000000005?at=-.043398307129729134:at=.09963544907820426:e[9]>30.500000000000004?at=-.13540713124984502:e[9]>17.500000000000004?at=.0509435850590757:at=-.04761897852404613:e[4]>78.50000000000001?at=.09197086656470652:at=.0006771050176682337;let oe;e[122]>1e-35?e[6]>36.50000000000001?oe=.05686884451670743:oe=-.05334759543084309:e[266]>1e-35?oe=-.08603579519816038:e[157]>1e-35?oe=-.06736746113382097:e[302]>1e-35?e[0]>2579.5000000000005?oe=-.0499592651503952:e[0]>725.5000000000001?oe=.11780353905132664:oe=-.05232097173108943:e[147]>1e-35?e[1]>53.50000000000001?oe=-.11398297342629615:e[0]>2604.5000000000005?e[0]>3629.5000000000005?oe=-.03190157229022304:oe=.07985197845805492:oe=-.0763078988943886:e[4]>41.50000000000001?e[280]>1e-35?oe=.05162933940904835:e[11]>1e-35?e[0]>460.50000000000006?oe=-.027174047777029083:oe=.057117284879796476:e[3]>43.50000000000001?oe=-.0016147040913107311:oe=-.05856597304613519:e[2]>45.50000000000001?e[0]>4663.500000000001?e[18]>1e-35?oe=-.04779247091640426:e[10]>25.500000000000004?e[9]>22.500000000000004?e[22]>1e-35?oe=-.01466076988151239:oe=.13375695925484857:oe=-.04885873081899647:e[0]>5566.500000000001?oe=.11086813028591343:e[8]>992.5000000000001?oe=-.07622304217072383:oe=.04316019272026325:e[10]>12.500000000000002?e[9]>36.50000000000001?e[9]>45.50000000000001?oe=.03285858361708423:oe=-.12354858211764992:oe=.0672788301823281:e[15]>1e-35?oe=.08658836986585006:oe=-.02741484278509758:e[290]>1e-35?oe=-.08161310335133287:e[135]>1e-35?oe=-.04824156054814152:oe=.0009156904299554183;let Pe;e[3]>7.500000000000001?Pe=.0006791852818377787:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?Pe=.03642374718166293:Pe=.16379973756366603:Pe=-.03946685266127979:e[186]>1e-35?Pe=.07618896623420895:e[96]>1e-35?Pe=.0680272261319657:e[107]>1e-35?e[1]>48.50000000000001?Pe=-.022822371600847505:Pe=.0501405836324949:e[203]>1e-35?e[1]>77.50000000000001?Pe=.044416424920571296:Pe=-.0648450593196238:e[5]>3921.5000000000005?e[1]>110.50000000000001?Pe=-.11110466767595227:e[9]>5.500000000000001?e[9]>52.50000000000001?e[1]>50.50000000000001?Pe=.1061937286809567:e[7]>54.50000000000001?Pe=.11487507743121311:e[8]>819.5000000000001?Pe=-.07181278009001418:e[10]>25.500000000000004?Pe=.13499019430369633:e[1]>31.500000000000004?Pe=.09032979489780704:Pe=-.12754166393372374:e[9]>37.50000000000001?Pe=-.05093963635361407:Pe=-.005026651151683848:e[9]>2.5000000000000004?Pe=.07619735785573735:Pe=.012363301341532136:e[26]>1e-35?Pe=-.10685800454968203:e[8]>125.50000000000001?e[8]>446.50000000000006?e[0]>3842.5000000000005?Pe=-.08783796894105043:e[282]>1e-35?e[1]>47.50000000000001?e[9]>40.50000000000001?Pe=-.10764172927882483:Pe=.01890760098464703:Pe=.06573095405846417:e[8]>634.5000000000001?Pe=-.00783575973273707:Pe=-.050612689680229306:e[1]>22.500000000000004?Pe=-.0016842490401359626:Pe=.0738227088444087:Pe=-.02663970950432175;let Ae;e[31]>1e-35?e[8]>17.500000000000004?Ae=.013678038624884814:e[1]>35.50000000000001?e[1]>51.50000000000001?Ae=.007191286124908192:Ae=-.09347881647636902:e[10]>1.5000000000000002?Ae=.07938758708008091:Ae=-.008702935600305113:e[224]>1e-35?e[149]>1e-35?e[13]>1e-35?Ae=.12321804057595996:Ae=-.018281109320672437:e[23]>1e-35?e[4]>62.50000000000001?Ae=-.04644244754790671:Ae=.024546310702263208:e[8]>862.5000000000001?e[0]>3429.5000000000005?e[4]>9.500000000000002?e[52]>1e-35?Ae=.0706108609273337:e[2]>40.50000000000001?Ae=-.028046629962303716:Ae=-.06497613993109329:Ae=.01076489668586676:e[1]>33.50000000000001?e[0]>966.5000000000001?e[2]>14.500000000000002?e[1]>38.50000000000001?Ae=-.03056331974267756:Ae=-.11886389712497057:Ae=.053364962175658184:e[8]>2233.5000000000005?Ae=-.0448152521157682:Ae=.1508651602190868:e[2]>33.50000000000001?e[0]>2882.5000000000005?e[0]>3183.5000000000005?Ae=.03818796510453344:Ae=.23673992112982362:Ae=.02858814226507374:e[10]>44.50000000000001?Ae=-.1125863771551199:Ae=.009129996952394916:e[1]>7.500000000000001?Ae=-.004374525302461639:Ae=-.07858519434925451:e[149]>1e-35?e[6]>23.500000000000004?Ae=.0005231594491642136:e[0]>4053.5000000000005?e[8]>660.5000000000001?Ae=-.13677189943034931:e[10]>2.5000000000000004?Ae=.039591891437078086:Ae=-.09312596849507347:Ae=-.02423172142089822:Ae=.0009836986075266283;let We;e[189]>1e-35?e[0]>5269.500000000001?We=-.103183298350443:e[2]>51.50000000000001?We=.09784373530929913:e[10]>26.500000000000004?e[8]>764.5000000000001?We=-.05186168947388339:We=.0496996365539082:e[10]>23.500000000000004?We=.1404445738719:e[93]>1e-35?We=.0027146310074558505:e[5]>3821.5000000000005?We=.002153033152069652:e[4]>2.5000000000000004?We=.007663539551317215:We=.13902616832015402:e[298]>1e-35?e[8]>81.50000000000001?e[4]>64.50000000000001?We=.11498405722487515:e[2]>23.500000000000004?e[0]>2815.5000000000005?e[2]>44.50000000000001?e[4]>42.50000000000001?We=-.021479467709980358:We=.09336868994327292:e[1]>22.500000000000004?e[15]>1e-35?We=.021660293256233334:We=-.0927396152303864:We=.0665074081601698:e[0]>1550.5000000000002?We=.08972407105958534:We=-.0380796411182682:e[6]>13.500000000000002?e[10]>2.5000000000000004?We=.06761927942466854:We=-.015762168112653286:e[17]>1e-35?We=.10311304131145381:We=-.017672785252336027:We=-.08629805732772755:e[1]>24.500000000000004?e[138]>1e-35?We=-.10638321435298535:We=.0007073011744385905:e[18]>1e-35?We=-.027056185501334325:e[145]>1e-35?We=.023191199677450886:e[9]>33.50000000000001?e[201]>1e-35?We=.09762140519655171:e[9]>110.50000000000001?We=-.06581942957595835:e[6]>54.50000000000001?We=.04959634035251596:We=.0022616298654554207:We=-.007437620924990854;let z;e[179]>1e-35?z=-.06961998209988884:e[167]>1e-35?e[0]>3928.5000000000005?z=.1470294450403005:z=-.01671476793947083:e[187]>1e-35?e[6]>13.500000000000002?e[4]>30.500000000000004?e[13]>1e-35?z=.07448480853603114:e[0]>1012.5000000000001?e[5]>2883.5000000000005?e[0]>3682.5000000000005?e[5]>4031.5000000000005?e[23]>1e-35?z=.07965955447707423:e[10]>10.500000000000002?z=-.09236156404262426:z=.03396273196231458:z=-.13246465021467432:z=.07092822261735353:z=-.08753829085942:z=.09409024840640956:e[1]>40.50000000000001?e[8]>984.5000000000001?e[8]>1514.5000000000002?e[8]>2134.5000000000005?z=.004705878789890202:z=.13775378964952867:z=-.04770928980587811:e[10]>29.500000000000004?z=.011221519891071544:e[0]>3853.5000000000005?z=.06365381191628273:z=.15506252245336827:e[1]>37.50000000000001?z=-.07254777021042061:z=.026514587757252385:e[308]>1e-35?z=.04115804816617256:e[10]>26.500000000000004?z=.02077721353011946:e[5]>3548.5000000000005?z=-.1280907116663952:z=-.021974774274438:e[306]>1e-35?z=-.02700446558079895:e[297]>1e-35?e[212]>1e-35?z=.07794139136748461:e[7]>5.500000000000001?e[19]>1e-35?z=-.005710865560475598:e[94]>1e-35?z=-.06751507982853555:z=.027250040757588703:e[9]>52.50000000000001?z=.07060357924595577:z=-.030297760713011795:z=-.0006005400085266517;let te;e[113]>1e-35?te=-.07311041707507712:e[40]>1e-35?e[0]>1937.5000000000002?te=-.06996356565314456:te=.04780211300352931:e[10]>52.50000000000001?e[49]>1e-35?te=-.08317707559926495:e[21]>1e-35?te=-.0817284654645976:e[15]>1e-35?e[2]>3.5000000000000004?te=-.010538203005984922:te=.08454819465349446:e[9]>124.50000000000001?te=.09015659250299132:e[7]>15.500000000000002?e[5]>5732.500000000001?te=-.08542251249346582:e[9]>50.50000000000001?te=-.023428882537657472:te=.010042500833979073:te=.020697210754240154:e[10]>28.500000000000004?e[5]>423.00000000000006?e[148]>1e-35?te=.03006025206979096:e[9]>108.50000000000001?te=-.09153851322499747:e[145]>1e-35?e[5]>4814.500000000001?e[2]>38.50000000000001?te=.04222035773042132:te=-.09078149053947535:e[8]>568.5000000000001?e[1]>64.50000000000001?te=-.07209095448054853:te=.028065954981903313:te=.08714651929917122:te=-.006678820669279169:e[10]>40.50000000000001?te=.006982396294941626:te=-.07889649792011418:e[94]>1e-35?e[4]>30.500000000000004?te=-.09351114982645548:e[4]>3.5000000000000004?te=-.004837550129223451:te=-.08324141237464677:e[303]>1e-35?te=.10703037493990825:e[9]>156.50000000000003?te=-.10803018621648303:e[116]>1e-35?te=-.03208302566598311:e[212]>1e-35?e[243]>1e-35?te=.10261721665006701:te=.018994509090668264:te=.0011244262442038839;let Ne;e[86]>1e-35?e[8]>65.50000000000001?e[1]>46.50000000000001?Ne=-.08404263465005328:e[0]>3682.5000000000005?Ne=.041259223920298876:e[1]>29.500000000000004?Ne=-.09541257493441671:Ne=.001482192721625409:Ne=.051541427372951004:e[3]>7.500000000000001?e[157]>1e-35?Ne=-.08268996098437432:e[230]>1e-35?Ne=.015749498159959817:e[4]>7.500000000000001?e[3]>11.500000000000002?Ne=-913218977737457e-19:e[4]>10.500000000000002?Ne=-.056334165674005156:e[127]>1e-35?Ne=-.0784634021824036:e[2]>9.500000000000002?e[1]>62.50000000000001?Ne=-.04231200150318989:e[10]>42.50000000000001?Ne=.10182973257894812:Ne=.015934763950068445:Ne=-.03130938805859397:e[92]>1e-35?e[4]>6.500000000000001?e[1]>51.50000000000001?e[9]>19.500000000000004?Ne=-.041117068322885315:Ne=.1167767830037126:Ne=.13611206992387337:e[10]>41.50000000000001?Ne=-.07120286010564107:Ne=.022032788063345417:e[8]>1.5000000000000002?e[1]>51.50000000000001?e[9]>72.50000000000001?Ne=-.07702290997669524:e[198]>1e-35?Ne=.08776558554437136:Ne=-.008290740324975692:e[2]>32.50000000000001?Ne=.07198457624219955:Ne=.005463113714361629:Ne=.09414099512900526:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?Ne=.03295785445437507:Ne=.15140250150674536:Ne=-.035613213948910254:e[186]>1e-35?Ne=.06849425535860769:e[96]>1e-35?Ne=.06028225812727254:Ne=-.007582543288662308;let Se;e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?Se=.08396556264106572:Se=-.0562516995099192:Se=-.10593011018789432:e[183]>1e-35?e[15]>1e-35?Se=-.09705176473553752:e[7]>18.500000000000004?e[2]>37.50000000000001?Se=.0052017514017035915:Se=-.11194119432743639:Se=.03724337696163019:e[227]>1e-35?e[17]>1e-35?e[2]>16.500000000000004?Se=-.025692451287403446:Se=-.09511862672123193:e[8]>1661.5000000000002?e[10]>37.50000000000001?Se=-.11892250746801664:e[10]>22.500000000000004?Se=.07548493166973796:Se=-.05973048107712209:e[4]>12.500000000000002?e[0]>4319.500000000001?e[10]>4.500000000000001?e[10]>37.50000000000001?Se=.13750699058082427:e[18]>1e-35?Se=.06535408879552801:Se=-.054118179035040674:Se=.1344282838979622:e[0]>3982.5000000000005?Se=-.10409582202467015:e[19]>1e-35?Se=.12672850705810795:e[8]>587.5000000000001?e[1]>35.50000000000001?Se=.012705935670766466:Se=.14149359442527545:Se=-.047977876173706004:e[20]>1e-35?Se=.057945228080337946:e[0]>3642.5000000000005?Se=-.008726535792122467:Se=-.08424769891378858:e[34]>1e-35?Se=-.0699329538228602:e[134]>1e-35?e[11]>1e-35?e[4]>15.500000000000002?e[0]>1187.5000000000002?Se=.01196849566739346:Se=.1614642278429876:Se=-.043022338150701625:e[3]>5.500000000000001?Se=-.03907848255033881:Se=.018280601026175593:Se=.0006654540402589085;let Ce;e[31]>1e-35?e[2]>58.50000000000001?e[9]>1.5000000000000002?Ce=-.01386103677247845:Ce=.11386694333005128:e[4]>27.500000000000004?Ce=-.021862617610091336:e[2]>31.500000000000004?Ce=.0828858469030438:Ce=.006483353475830127:e[224]>1e-35?e[149]>1e-35?e[13]>1e-35?Ce=.11303635767048735:Ce=-.01645525128352694:e[23]>1e-35?e[4]>62.50000000000001?Ce=-.04238798044549342:Ce=.022091190130494303:e[5]>5082.500000000001?Ce=-.04287166152163786:e[8]>862.5000000000001?e[19]>1e-35?Ce=.000660344696244351:e[4]>9.500000000000002?e[0]>1277.5000000000002?Ce=-.04291104140431434:e[17]>1e-35?Ce=.11256797532342613:Ce=-.017206916368289193:Ce=.026482035265709743:e[1]>8.500000000000002?e[11]>1e-35?Ce=.04060606971664621:e[0]>4733.500000000001?e[8]>214.50000000000003?e[5]>4814.500000000001?Ce=.03581712466863222:Ce=.14770264307668884:e[8]>73.50000000000001?Ce=-.13093289429740068:Ce=.042461737442702936:e[52]>1e-35?Ce=.0501831919044939:Ce=-.010450249720465756:Ce=-.0753365425372656:e[149]>1e-35?e[6]>23.500000000000004?Ce=.0005381332165438493:Ce=-.04549431717503909:e[133]>1e-35?e[2]>5.500000000000001?e[8]>698.5000000000001?e[282]>1e-35?Ce=.04849637311285226:Ce=-.036671377119808564:e[0]>421.50000000000006?Ce=.00020968499911058945:Ce=.11636422423182405:Ce=-.12687837788222575:Ce=.0012774367867215346;let Ue;e[120]>1e-35?Ue=.04776057572434719:e[229]>1e-35?e[0]>2952.5000000000005?e[0]>3904.5000000000005?Ue=-.042799574885345304:Ue=.07412430171193245:Ue=-.11248270469336048:e[193]>1e-35?Ue=-.060694220820603384:e[121]>1e-35?e[217]>1e-35?e[0]>4449.500000000001?e[4]>8.500000000000002?Ue=.028911612178122104:Ue=.12326369727728437:e[0]>4091.5000000000005?Ue=-.09370267064141052:e[0]>3519.5000000000005?e[8]>668.5000000000001?Ue=.1159839898100149:Ue=-.01924880886585737:e[8]>501.50000000000006?e[10]>16.500000000000004?Ue=-.0216343737351583:Ue=-.1220272260878369:e[2]>18.500000000000004?Ue=.09152924475072398:e[8]>55.50000000000001?Ue=.039508716651005665:Ue=-.11714436880423203:e[18]>1e-35?e[9]>2.5000000000000004?Ue=.06793009902674053:Ue=-.024060578029812988:e[4]>2.5000000000000004?e[2]>16.500000000000004?e[4]>11.500000000000002?Ue=-.04391068849624096:Ue=.04009967593394672:e[8]>1085.5000000000002?Ue=-.024773826356034825:Ue=-.13919707884246582:Ue=.06659278075192335:e[223]>1e-35?e[8]>668.5000000000001?Ue=-.11567917501901476:Ue=-.006813640337684114:e[3]>7.500000000000001?Ue=.0010671269682548076:e[7]>3.5000000000000004?e[1]>33.50000000000001?e[0]>1597.5000000000002?e[10]>1.5000000000000002?Ue=-.001754586408351048:Ue=-.055422422450722056:Ue=-.06090032532532226:e[0]>5269.500000000001?Ue=.11787981735983527:Ue=-.00198119768540783:Ue=.00210412924303036;let Ve;e[294]>1e-35?e[10]>50.50000000000001?Ve=-.09738558653332406:e[0]>2432.5000000000005?e[0]>4533.500000000001?Ve=-.06063239096209816:Ve=.03317022411417386:Ve=-.08607562321324262:e[120]>1e-35?e[4]>18.500000000000004?Ve=-.013608609329298802:Ve=.09078000157330264:e[99]>1e-35?Ve=.014828708581964632:e[10]>52.50000000000001?e[49]>1e-35?Ve=-.07536137260189814:Ve=.006253266595455118:e[10]>28.500000000000004?Ve=-.006106041147592768:e[9]>156.50000000000003?Ve=-.11828932797811101:e[94]>1e-35?Ve=-.02566078479505714:e[303]>1e-35?Ve=.09544850289775349:e[15]>1e-35?e[224]>1e-35?e[4]>56.50000000000001?Ve=-.08401252789168523:e[5]>4244.500000000001?Ve=.026372887658499107:e[1]>16.500000000000004?Ve=-.027836756345634026:Ve=.09205362097909099:Ve=.00934612788718244:e[203]>1e-35?Ve=-.016371658366767253:e[7]>26.500000000000004?e[0]>966.5000000000001?e[1]>38.50000000000001?e[146]>1e-35?e[9]>21.500000000000004?Ve=-.09580979052540028:e[1]>50.50000000000001?Ve=-.06402211827281554:Ve=.08342858760095972:e[2]>36.50000000000001?Ve=.008114897658204584:e[92]>1e-35?Ve=.09541587072672864:Ve=-.022342147210555434:Ve=-.01660492519175128:Ve=.014721622240945446:e[4]>25.500000000000004?e[11]>1e-35?Ve=.15846731118501817:Ve=.039498507912023195:e[245]>1e-35?Ve=.07008718676813333:Ve=.0019806389728814727;let Ze;e[32]>1e-35?e[8]>90.50000000000001?e[4]>67.50000000000001?e[0]>4188.500000000001?Ze=-.01192072916082109:Ze=.13888590840802637:e[1]>16.500000000000004?e[8]>2302.5000000000005?Ze=.06874032717466054:e[4]>40.50000000000001?Ze=-.07752510020707537:e[1]>76.50000000000001?Ze=-.09944032260703917:e[8]>1381.5000000000002?Ze=-.054466635810800745:e[1]>32.50000000000001?Ze=.05974084520839573:Ze=-.0384718740755954:Ze=-.11374190719134032:e[0]>2151.5000000000005?Ze=-.13703645155803298:Ze=.004833344758654556:e[297]>1e-35?e[212]>1e-35?Ze=.06954747264544993:e[7]>9.500000000000002?e[19]>1e-35?e[1]>30.500000000000004?e[0]>4242.500000000001?Ze=.013539805885738608:Ze=-.0692740641801559:e[0]>2653.5000000000005?e[10]>57.50000000000001?Ze=.09941880179344399:Ze=-.01608127391210995:Ze=.08025226531247417:e[9]>67.50000000000001?Ze=.13525448212444113:e[6]>61.50000000000001?Ze=-.05511099182158894:e[94]>1e-35?Ze=-.06821509831783572:e[128]>1e-35?Ze=.11361314817714643:Ze=.030160785008575566:e[1]>13.500000000000002?e[8]>17.500000000000004?e[16]>1e-35?Ze=-.09954181329804547:e[197]>1e-35?Ze=.10102833149755386:e[188]>1e-35?Ze=.05584490988313965:e[9]>49.50000000000001?e[4]>5.500000000000001?Ze=-.03781554214742005:Ze=.09927933385592314:Ze=-.020006000056720083:Ze=-.10520473615957895:Ze=-.12006990846253787:Ze=-.00026111570975317574;let yt;e[8]>2830.5000000000005?e[1]>31.500000000000004?e[9]>32.50000000000001?e[5]>1234.5000000000002?e[0]>1725.5000000000002?e[7]>14.500000000000002?e[2]>38.50000000000001?yt=-.019188245509744628:yt=-.13354864350075848:e[0]>2461.5000000000005?yt=.051885477468354396:yt=-.0833581968852119:yt=.08233441701532287:yt=-.10865584951212362:e[8]>2992.5000000000005?e[10]>49.50000000000001?e[10]>56.50000000000001?e[1]>45.50000000000001?e[0]>2041.5000000000002?yt=.09926337893072812:yt=-.027753610497327715:e[0]>1972.5000000000002?yt=-.09780045823152517:yt=.032380915168504935:yt=.11502632261226381:e[17]>1e-35?yt=-.06094965899579662:e[10]>40.50000000000001?yt=-.07500475582440802:yt=.006499832113084677:e[10]>4.500000000000001?e[4]>10.500000000000002?yt=-.09584538995220808:yt=-.00908705814304442:yt=.03203281520813893:e[10]>49.50000000000001?yt=-.03146271513986384:e[2]>63.50000000000001?yt=.13172001315536286:e[224]>1e-35?yt=.08945777550527927:e[0]>2282.5000000000005?e[4]>4.500000000000001?yt=.09521549382082259:yt=-.04414925613522197:e[0]>1847.5000000000002?yt=-.09118580379557353:yt=.009206744918282364:e[178]>1e-35?e[2]>25.500000000000004?e[1]>31.500000000000004?yt=.03525144509943896:yt=-.053340750721609057:e[0]>1057.5000000000002?e[10]>2.5000000000000004?yt=-.04766112322938157:e[2]>10.500000000000002?yt=.0728516504357201:yt=-.05049625965272536:yt=-.10868663055825774:yt=.0005382613419948969;let Dt;e[147]>1e-35?e[1]>53.50000000000001?Dt=-.10615739288764095:e[0]>2604.5000000000005?e[0]>3629.5000000000005?Dt=-.030504020655417463:Dt=.07102458639110094:Dt=-.07058131985243714:e[302]>1e-35?e[10]>47.50000000000001?Dt=.055304563442710876:e[1]>53.50000000000001?Dt=.033723409577443623:e[8]>175.50000000000003?e[0]>2628.5000000000005?e[9]>40.50000000000001?Dt=-.1568835288372895:Dt=-.0279829124400056:Dt=.04493843959601833:Dt=-.11637042729644327:e[191]>1e-35?e[282]>1e-35?Dt=-.054133834303687026:e[9]>48.50000000000001?Dt=.11263810289007213:e[9]>9.500000000000002?Dt=-.02202034562838259:e[4]>45.50000000000001?Dt=-.03410927569045158:Dt=.04381615166534081:e[242]>1e-35?e[0]>3615.5000000000005?e[3]>19.500000000000004?e[1]>56.50000000000001?e[4]>28.500000000000004?Dt=-.029687297407295893:Dt=.10673602850001934:e[4]>42.50000000000001?Dt=.0036275562945108117:Dt=-.0760789221330622:Dt=-.10385623431741903:e[2]>34.50000000000001?e[2]>44.50000000000001?e[4]>51.50000000000001?Dt=.08274426793676076:Dt=-.07076234425516396:Dt=.13890177606150175:Dt=-.019863286503635686:e[53]>1e-35?e[18]>1e-35?Dt=-.09250637750836187:Dt=-.0031531727902009026:e[2]>107.50000000000001?e[4]>91.50000000000001?e[1]>16.500000000000004?Dt=-.01897867921812603:Dt=.04890781705365262:Dt=-.11569892307597907:e[2]>106.50000000000001?Dt=.09032697440623969:Dt=.00047935919155035045;let At;e[115]>1e-35?At=.05338335681275557:e[242]>1e-35?e[0]>3615.5000000000005?e[4]>42.50000000000001?e[4]>75.50000000000001?At=-.10131179514695865:e[8]>938.5000000000001?At=.10203729808015481:At=-.015357944186835289:e[1]>56.50000000000001?e[2]>22.500000000000004?At=.03574015165562999:At=-.07763042506449493:At=-.0813323116215548:e[2]>34.50000000000001?e[2]>44.50000000000001?e[4]>51.50000000000001?At=.0665706259130275:At=-.06586817559309924:At=.11925564412287476:At=-.014170019267143326:e[1]>124.50000000000001?e[2]>30.500000000000004?e[8]>533.5000000000001?e[4]>41.50000000000001?e[8]>977.5000000000001?At=.046017146627455346:At=-.08623321630086885:e[8]>1765.5000000000002?At=-.017990564319859934:e[10]>25.500000000000004?e[10]>48.50000000000001?At=.11143827902215087:At=-.01817808730473413:At=.16980985030210127:At=-.09357806298740017:e[10]>7.500000000000001?e[10]>54.50000000000001?At=.010168994879727824:At=-.09099594488792513:e[9]>1.5000000000000002?At=.0533459678147928:At=-.06886854808370108:e[99]>1e-35?e[17]>1e-35?e[9]>22.500000000000004?At=-.062346959148773695:e[1]>47.50000000000001?At=-.0021578343835599316:e[2]>27.500000000000004?At=.19567373210166172:At=.07851555379116423:e[18]>1e-35?At=.03711549097804649:e[8]>359.50000000000006?At=.012492346746905587:e[4]>20.500000000000004?At=.047511695735697544:At=-.07999269063948773:At=6802045404471004e-20;let Vt;e[222]>1e-35?e[0]>612.5000000000001?e[10]>1e-35?e[8]>2167.5000000000005?e[4]>25.500000000000004?Vt=.0011484728213539738:Vt=-.0936582904650763:e[2]>25.500000000000004?e[8]>182.50000000000003?e[10]>22.500000000000004?e[0]>5026.500000000001?Vt=-.09828874964938798:e[8]>1586.5000000000002?Vt=.13726397438080162:e[4]>48.50000000000001?e[2]>63.50000000000001?Vt=.011938269926919522:Vt=.17541983715953954:e[19]>1e-35?Vt=.023002786011088672:Vt=-.06221461272461431:e[9]>2.5000000000000004?e[0]>3818.5000000000005?Vt=.06508934844183291:Vt=-.10168553534835639:Vt=-.07755626499024171:e[2]>51.50000000000001?e[4]>65.50000000000001?Vt=.021140806225203937:Vt=-.1167833342453639:e[2]>33.50000000000001?Vt=.13163585734056618:Vt=-.00203273890889717:e[10]>36.50000000000001?e[8]>1067.5000000000002?Vt=.06314479201263888:Vt=-.09639088327091713:e[10]>29.500000000000004?Vt=.09225469303582386:e[0]>3129.5000000000005?e[0]>4091.5000000000005?e[0]>4354.500000000001?Vt=40577156464836036e-21:Vt=.12322387121810757:Vt=-.03697224045046014:e[1]>22.500000000000004?Vt=.016474835887320276:Vt=.16919298733903063:Vt=.07633203630214054:Vt=-.047438037934250644:e[30]>1e-35?e[224]>1e-35?e[1]>52.50000000000001?Vt=.14150493354700563:Vt=-.01831155354975749:e[1]>28.500000000000004?Vt=-.07952557178685365:e[10]>28.500000000000004?Vt=.0665695554984927:Vt=-.053640139319277094:Vt=.0004754840665898665;let $t;e[76]>1e-35?$t=-.06814884255939921:e[179]>1e-35?$t=-.06325743795510681:e[122]>1e-35?e[6]>36.50000000000001?$t=.05052338063261613:e[8]>626.5000000000001?e[1]>38.50000000000001?$t=.004193658608848433:$t=-.1066968975983452:e[8]>302.50000000000006?$t=.05476730110440451:$t=-.06382970920394895:e[218]>1e-35?e[2]>3.5000000000000004?e[6]>13.500000000000002?e[2]>19.500000000000004?e[0]>3200.5000000000005?e[4]>91.50000000000001?$t=-.12156071809840739:e[9]>21.500000000000004?e[5]>3883.5000000000005?e[8]>919.5000000000001?e[8]>1085.5000000000002?$t=.013555772109446666:$t=-.09856116699770784:$t=.0284329611813383:e[2]>52.50000000000001?$t=.04008708444763762:e[9]>29.500000000000004?$t=-.1289599546008197:$t=-.018566534248335896:e[8]>747.5000000000001?$t=.02236484980076122:$t=.1148871655157582:e[8]>3084.0000000000005?$t=-.05573875952902531:e[10]>17.500000000000004?e[2]>51.50000000000001?$t=.03164751204281298:$t=.11752140436184891:e[9]>42.50000000000001?$t=-.07180559595410106:e[22]>1e-35?$t=.09325040416256854:$t=-.016041122807939914:$t=-.02765708954618808:e[1]>30.500000000000004?e[1]>66.50000000000001?$t=-.010718250133458515:$t=.09818827994853763:$t=.010180038981174032:$t=-.039472162599295535:e[9]>170.50000000000003?$t=-.08536729235976731:e[189]>1e-35?e[0]>5269.500000000001?$t=-.08674788057474031:$t=.02077653508548371:$t=-.0003536561382007414;let nr;e[86]>1e-35?e[10]>6.500000000000001?e[0]>4376.500000000001?nr=.018337297491457794:nr=-.05926206443180149:nr=.024026520855881126:e[288]>1e-35?e[184]>1e-35?nr=.10747078482128616:e[126]>1e-35?nr=-.10550625192391357:e[7]>71.50000000000001?nr=-.07698346027863572:e[8]>302.50000000000006?e[6]>49.50000000000001?e[4]>47.50000000000001?e[1]>38.50000000000001?e[15]>1e-35?nr=.1317396472229434:nr=-.025035791351328947:nr=-.0728334305864372:e[8]>963.5000000000001?nr=.023642201723096064:nr=.183010326734258:e[128]>1e-35?nr=.04228920135648387:e[2]>34.50000000000001?e[15]>1e-35?nr=.002801782941492993:e[3]>40.50000000000001?e[4]>39.50000000000001?nr=-.1088876900335281:nr=.02758317023002635:nr=-.11886771300807207:e[9]>59.50000000000001?e[1]>33.50000000000001?nr=-.01928020117446408:nr=.10193718474139135:e[1]>48.50000000000001?e[4]>9.500000000000002?e[8]>932.5000000000001?nr=.07893723375925096:nr=-.009878929627026153:e[10]>2.5000000000000004?e[9]>20.500000000000004?nr=-.10301657587280551:nr=.005787463140224318:nr=.07421364314695046:e[0]>2840.5000000000005?e[10]>29.500000000000004?nr=-.019296977889522397:nr=-.07274529751752634:e[1]>30.500000000000004?nr=-.050368901143148286:nr=.029630869489466655:e[2]>6.500000000000001?e[4]>9.500000000000002?nr=.0015332402792773946:nr=.09930153676749967:nr=-.06370844564357069:nr=.00042272155209927616;let ge;e[71]>1e-35?e[4]>17.500000000000004?ge=.12586844370423247:ge=-.006791999603126354:e[222]>1e-35?e[1]>10.500000000000002?e[30]>1e-35?e[1]>36.50000000000001?e[9]>1.5000000000000002?e[10]>25.500000000000004?ge=-.08474891624263797:e[8]>125.50000000000001?ge=.08125086980439704:ge=-.04082085238068532:e[0]>3863.5000000000005?ge=.020481535807469208:ge=.14810819386202126:e[0]>1937.5000000000002?e[2]>16.500000000000004?ge=-.019110200161573936:ge=-.12387719685855114:e[0]>1102.5000000000002?ge=.08376595701957407:ge=-.031821919580524834:e[9]>4.500000000000001?ge=-.08116383486497568:e[7]>8.500000000000002?e[2]>24.500000000000004?ge=-.02154820850475448:e[0]>3863.5000000000005?e[8]>902.5000000000001?ge=.1349841206807871:ge=.011864053595560297:e[1]>41.50000000000001?ge=-.08203662486612544:e[2]>18.500000000000004?ge=-.009541865642346947:ge=.08345043168501759:e[2]>10.500000000000002?ge=-.09585031818030947:ge=.019432330487099865:ge=.08399259524715129:e[30]>1e-35?e[224]>1e-35?e[1]>52.50000000000001?ge=.11951517733981365:ge=-.016651014735738538:e[1]>28.500000000000004?ge=-.07410922545030711:e[10]>28.500000000000004?ge=.05886430683844788:ge=-.04929626605117184:e[191]>1e-35?e[9]>9.500000000000002?e[9]>48.50000000000001?ge=.04802269879144705:ge=-.026208212831796737:e[4]>45.50000000000001?ge=-.03227476944664786:ge=.05124575625622705:ge=.00020506696916003137;let Le;e[116]>1e-35?e[9]>2.5000000000000004?e[9]>17.500000000000004?Le=-.03042091758483443:e[10]>14.500000000000002?Le=.09816619204768777:Le=.01332124067720947:e[8]>8.500000000000002?e[4]>15.500000000000002?Le=-.02381165060401718:Le=-.10950361804974783:Le=.03538211665111128:e[212]>1e-35?e[19]>1e-35?Le=-.09940014650006174:e[0]>2215.5000000000005?e[5]>5056.500000000001?e[3]>5.500000000000001?e[10]>25.500000000000004?Le=-.06371052144380579:Le=.0835500621252692:Le=-.10408255929333915:e[1]>74.50000000000001?Le=.13208968122712403:e[1]>64.50000000000001?Le=-.04778844603644965:e[8]>51.50000000000001?e[8]>201.50000000000003?e[8]>660.5000000000001?e[6]>4.500000000000001?e[9]>5.500000000000001?e[1]>29.500000000000004?e[0]>3830.5000000000005?Le=.09922816902423433:Le=.016366955328796718:Le=.1592412560903584:e[1]>39.50000000000001?Le=.05409467990258923:Le=-.08260633210459611:Le=-.06307205775247567:e[9]>36.50000000000001?Le=.040253940015648144:Le=.14202568969471283:Le=-.028761848341594044:Le=.08994073058773508:e[0]>807.5000000000001?Le=-.043427848826323195:Le=.04573516446846493:e[20]>1e-35?e[188]>1e-35?Le=-.0758877731600639:e[23]>1e-35?Le=.05913923322043199:e[8]>155.50000000000003?e[128]>1e-35?Le=.08124700978741987:Le=.013296063087086852:e[7]>5.500000000000001?Le=-.01640196088612987:Le=-.12685498840146067:Le=-.0004940792382459551;let Ke;e[1]>24.500000000000004?e[103]>1e-35?e[8]>61.50000000000001?e[17]>1e-35?Ke=-.05584993681929434:e[9]>27.500000000000004?e[0]>3916.5000000000005?Ke=.08513773825688947:Ke=-.1184664832315282:Ke=.05676963535893477:Ke=.14263843210340613:Ke=.0005795003292924202:e[18]>1e-35?e[0]>5453.500000000001?e[1]>11.500000000000002?Ke=-.10669720555606924:Ke=.029016613003137307:e[2]>46.50000000000001?e[10]>9.500000000000002?Ke=.0664744575868955:Ke=-.08469256188890871:Ke=-.026746678040592144:e[281]>1e-35?Ke=-.07408427239006925:e[145]>1e-35?e[4]>6.500000000000001?e[9]>16.500000000000004?e[4]>18.500000000000004?Ke=.012131807587207655:Ke=-.12776015795398743:Ke=.04320472481083551:Ke=.08390980661550446:e[10]>227.50000000000003?Ke=-.09771783809101153:e[10]>130.50000000000003?Ke=.11175201938704937:e[8]>779.5000000000001?e[5]>3325.5000000000005?e[128]>1e-35?Ke=-.07610698254064358:e[8]>902.5000000000001?Ke=-.03136381213599649:e[131]>1e-35?Ke=.0704821739127936:e[224]>1e-35?Ke=-.056961477774953785:e[10]>30.500000000000004?e[9]>43.50000000000001?Ke=.10431473040024908:e[8]>841.5000000000001?Ke=.07304745320500514:Ke=-.038011541882439825:Ke=-.01679746695007364:e[0]>3129.5000000000005?Ke=.05589952587431965:e[210]>1e-35?Ke=.06227198085800842:Ke=-.0011341890997947812:e[8]>740.5000000000001?Ke=.04817300084412584:Ke=-.000577001010789238;let et;e[187]>1e-35?e[6]>12.500000000000002?e[10]>8.500000000000002?e[10]>16.500000000000004?e[8]>234.50000000000003?e[4]>43.50000000000001?e[0]>4476.500000000001?et=-.10504730480402079:e[5]>3341.5000000000005?et=.11087894671081754:et=-.0406668834674614:et=.03308382165616109:e[8]>104.50000000000001?et=-.10431436764549162:et=.0073928337244891455:e[4]>34.50000000000001?et=-.10571751512748416:et=-.006081128814142983:e[13]>1e-35?et=.1299673566095023:e[4]>60.50000000000001?et=-.06587492443829139:e[0]>2604.5000000000005?e[3]>19.500000000000004?et=.04857126072645073:et=-.03431365358104773:e[4]>16.500000000000004?et=.04101865986596709:et=.16480274980378218:e[10]>26.500000000000004?et=.03673978504199255:e[10]>9.500000000000002?et=-.10996402743800027:e[308]>1e-35?et=.0553693735082498:et=-.041600136235644125:e[306]>1e-35?e[8]>1156.5000000000002?e[4]>14.500000000000002?e[10]>21.500000000000004?et=.010902983761213922:et=.1325118659895645:et=-.064362945508595:e[1]>66.50000000000001?et=.033416767779331176:et=-.054080316225040496:e[42]>1e-35?et=-.07762364337810815:e[10]>1089.5000000000002?et=-.08465599849125216:e[31]>1e-35?e[8]>30.500000000000004?et=.012788520036013586:e[1]>32.50000000000001?e[1]>51.50000000000001?et=.0220102041325908:et=-.06516708740003069:et=.012833498905748267:e[224]>1e-35?et=-.007038418272997865:et=.00037666304316290967;let St;e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?St=.07554189644995735:St=-.052089349455904946:St=-.10148206848169845:e[113]>1e-35?St=-.06666678653225779:e[39]>1e-35?e[9]>3.5000000000000004?e[0]>3670.5000000000005?St=.07172653627995676:St=-.07602959317610998:St=-.08790686271287523:e[229]>1e-35?e[0]>2952.5000000000005?e[0]>3904.5000000000005?St=-.0399322883690891:St=.06523495517476098:St=-.10358715295743802:e[193]>1e-35?St=-.05551414334329124:e[134]>1e-35?e[11]>1e-35?e[2]>13.500000000000002?e[10]>1.5000000000000002?St=.015928764772252406:St=.1341513061552287:St=-.04975001987586173:e[10]>2.5000000000000004?e[3]>5.500000000000001?e[9]>2.5000000000000004?e[8]>310.50000000000006?St=-.033592997607280156:St=-.12432458028446665:e[1]>32.50000000000001?e[217]>1e-35?St=-.08402551858097379:St=.017401984506038796:e[1]>25.500000000000004?St=.13337205393591278:St=-.01160208350090984:St=.06708317942315471:e[8]>227.50000000000003?St=-.08486943882418681:St=-.013970104864235007:e[8]>4968.500000000001?e[1]>31.500000000000004?e[9]>4.500000000000001?St=-.10496268177586783:St=-.020921489532370493:St=.02629915927247642:e[7]>20.500000000000004?e[8]>251.50000000000003?e[115]>1e-35?St=.11639296062157028:St=-.004275784356569115:e[32]>1e-35?St=-.07297384970166025:St=.006026841626381599:St=.002034611134960428;let Et;e[248]>1e-35?Et=.06091438745093315:e[0]>384.50000000000006?e[204]>1e-35?e[1]>62.50000000000001?Et=-.06455513326540585:e[1]>29.500000000000004?Et=.07718474591552532:e[4]>7.500000000000001?Et=.040139336931404826:Et=-.09685734690563386:Et=.00015327283570347363:e[9]>88.50000000000001?Et=.10079017954199324:e[1]>47.50000000000001?e[2]>20.500000000000004?e[2]>27.500000000000004?Et=-.04077257804338707:Et=.0739963982640615:e[9]>1.5000000000000002?e[17]>1e-35?Et=.03778141591008941:Et=-.06459919920634845:Et=-.11193190957880604:e[7]>6.500000000000001?e[11]>1e-35?e[18]>1e-35?Et=.14063930759326346:e[0]>179.50000000000003?Et=.07287482250668585:e[8]>1180.5000000000002?Et=-.14419393112726253:e[10]>28.500000000000004?Et=-.07993142770099469:e[17]>1e-35?Et=-.04702595410391655:e[7]>21.500000000000004?e[2]>26.500000000000004?Et=.05527969663610186:Et=-.10824385941441346:e[3]>11.500000000000002?Et=.12358502961047915:Et=-.017509147119622873:e[0]>74.50000000000001?Et=-.014907705458730486:e[8]>95.50000000000001?Et=-.02225118168342062:Et=-.1222374623708485:e[8]>1.5000000000000002?e[8]>950.5000000000001?Et=.06946188930925638:e[3]>6.500000000000001?e[10]>2.5000000000000004?e[19]>1e-35?Et=.04962819555610421:Et=-.07213577821855309:Et=.09139529824708481:e[19]>1e-35?Et=.013439401088345224:Et=-.049274647207292056:Et=.10531673719686951;let Lt;e[40]>1e-35?e[0]>1937.5000000000002?Lt=-.06421671152073961:Lt=.04235421241226177:e[294]>1e-35?e[10]>50.50000000000001?Lt=-.09100102290316286:e[0]>3030.5000000000005?e[0]>4177.500000000001?Lt=-.03520420769287065:e[8]>1085.5000000000002?Lt=-.019817352506127633:Lt=.11444439424520964:Lt=-.06854631664538167:e[120]>1e-35?e[4]>18.500000000000004?Lt=-.010490117519863269:Lt=.08104430117757461:e[121]>1e-35?e[243]>1e-35?Lt=.16408304891242204:e[217]>1e-35?e[0]>4449.500000000001?Lt=.06619344145920268:e[0]>4091.5000000000005?Lt=-.08813353450871053:e[0]>3519.5000000000005?e[8]>668.5000000000001?Lt=.10016091391222309:Lt=-.017407607199427293:e[8]>501.50000000000006?e[10]>16.500000000000004?Lt=-.019511460451434884:Lt=-.11643672465055221:e[2]>18.500000000000004?Lt=.07848228087333317:e[8]>55.50000000000001?Lt=.032583027899956235:Lt=-.11209832692153521:e[11]>1e-35?Lt=.027482174104412567:e[10]>1.5000000000000002?e[6]>26.500000000000004?e[4]>19.500000000000004?e[9]>31.500000000000004?Lt=-.09996887746328006:e[9]>2.5000000000000004?Lt=.02157682011863397:Lt=-.05247727848991843:Lt=.07409150201483244:e[1]>38.50000000000001?Lt=-.11378466075449625:e[224]>1e-35?Lt=-.10741749127732923:e[1]>26.500000000000004?Lt=.07343136534146562:Lt=-.07013573628594773:e[25]>1e-35?Lt=-.04626669734164317:Lt=.05518333197956482:Lt=.00032434010867555516;let Mt;e[183]>1e-35?e[10]>1.5000000000000002?e[17]>1e-35?Mt=.026313251010808853:Mt=-.08997339150292381:Mt=.025062509535227952:e[227]>1e-35?e[1]>6.500000000000001?e[2]>9.500000000000002?e[210]>1e-35?Mt=.08071107515789745:e[23]>1e-35?e[1]>75.50000000000001?Mt=.0905155504503746:e[8]>1049.5000000000002?Mt=-.062312558183394054:e[8]>719.5000000000001?Mt=.09583836191410239:e[0]>3719.5000000000005?Mt=-.0778097309430818:Mt=.04012012419054895:e[4]>12.500000000000002?e[8]>1496.5000000000002?e[10]>42.50000000000001?Mt=-.12920865648544927:e[0]>2699.5000000000005?Mt=-.07086587879041864:Mt=.022614182502461846:e[4]>15.500000000000002?e[8]>55.50000000000001?e[1]>60.50000000000001?e[8]>652.5000000000001?Mt=-.11377786322600797:Mt=-.009486325820117998:e[1]>55.50000000000001?Mt=.12430248795958142:e[0]>2952.5000000000005?e[0]>4331.500000000001?e[1]>38.50000000000001?Mt=-.07938291201004219:e[2]>36.50000000000001?Mt=.01520046732530246:Mt=.13649854049662832:Mt=-.07145015938528873:e[8]>407.50000000000006?Mt=-.00350257360822279:Mt=.11332047082193297:Mt=-.10060624458629897:Mt=.05429496612497562:e[8]>1446.5000000000002?Mt=.006073419197482838:Mt=-.08718676350883998:Mt=-.11532497988252638:Mt=.10766270463068293:e[34]>1e-35?Mt=-.06345912440611544:e[131]>1e-35?e[9]>1.5000000000000002?Mt=-.0004109812623829506:Mt=.021601073497455662:Mt=-7343540098965853e-20;let Tt;e[298]>1e-35?e[9]>12.500000000000002?e[133]>1e-35?Tt=-.06107663265515864:e[9]>70.50000000000001?e[10]>37.50000000000001?Tt=.05995640200798119:e[0]>3443.5000000000005?Tt=-.14698883458733583:Tt=-.030039164579240187:e[189]>1e-35?Tt=-.06086763220538141:e[1]>86.50000000000001?Tt=-.05096727866142538:e[4]>64.50000000000001?Tt=.11240554253834577:e[4]>45.50000000000001?Tt=-.030279760168394117:e[6]>45.50000000000001?Tt=.10161088917815142:e[10]>77.50000000000001?Tt=-.0792333078055653:e[7]>23.500000000000004?e[0]>2882.5000000000005?Tt=-.06672020005240323:Tt=.08831457502630258:e[8]>2592.5000000000005?Tt=-.052617701047376654:e[10]>29.500000000000004?Tt=.08499327690298047:e[2]>12.500000000000002?e[9]>41.50000000000001?Tt=.12880460816709416:e[9]>25.500000000000004?e[4]>11.500000000000002?Tt=-.064099222705728:Tt=.044332487521538365:e[0]>2882.5000000000005?Tt=.031099546885005065:Tt=.12938467051623853:e[0]>4221.500000000001?Tt=-.0928676413498701:e[9]>30.500000000000004?Tt=-.05781824812803708:Tt=.07561268901778094:e[8]>711.5000000000001?e[2]>22.500000000000004?Tt=-.06648105454098469:Tt=.05985487552383097:Tt=-.13070190291919334:e[116]>1e-35?e[10]>38.50000000000001?Tt=.05282385499619401:e[1]>66.50000000000001?Tt=.048802929108006314:e[2]>4.500000000000001?e[0]>4593.500000000001?Tt=.027885690791379255:Tt=-.08407126408362446:Tt=.014432924125571093:Tt=-9903435845205118e-20;let _t;e[76]>1e-35?_t=-.06307875292162934:e[21]>1e-35?e[7]>10.500000000000002?e[10]>4.500000000000001?e[8]>944.5000000000001?e[0]>3655.5000000000005?_t=.013633653464240465:_t=-.10164319411983509:_t=-.1228424374328996:e[1]>26.500000000000004?e[2]>28.500000000000004?_t=.00632864847804078:_t=-.08393000368134668:_t=.07870508617440916:e[284]>1e-35?_t=.1092302727710421:_t=-.0025505047582483234:e[248]>1e-35?_t=.07101822393621864:e[274]>1e-35?_t=-.06621099406425579:e[1]>26.500000000000004?e[1]>28.500000000000004?_t=.0003077044909372931:e[10]>2.5000000000000004?e[0]>3770.5000000000005?_t=.025081789181021243:_t=-.014813325803582618:e[9]>33.50000000000001?_t=-.033466921233840194:e[3]>12.500000000000002?e[23]>1e-35?_t=.11926990418060353:_t=.01852125513565268:_t=.0975367595927343:e[5]>3325.5000000000005?e[8]>892.5000000000001?e[133]>1e-35?_t=-.1178464984373743:e[283]>1e-35?_t=.043370859226927405:e[5]>4320.500000000001?_t=-.01103141226366587:e[8]>1104.5000000000002?_t=-.023053423988095886:_t=-.0734238953804657:e[6]>18.500000000000004?e[8]>85.50000000000001?_t=.000579145585864887:_t=.03389152834202143:e[128]>1e-35?_t=-.14527722052568462:e[210]>1e-35?_t=-.08915971541902741:e[7]>9.500000000000002?_t=-.03307314577076116:e[18]>1e-35?_t=-.05521712302023565:_t=.009315605032770029:_t=.0036332551852289933;let wt;e[0]>689.5000000000001?e[5]>768.5000000000001?e[20]>1e-35?e[5]>4368.500000000001?wt=-.07583539600416284:e[188]>1e-35?wt=-.07042659515500142:e[23]>1e-35?e[0]>3807.5000000000005?wt=-.011038193049597113:wt=.08154028164397753:e[1]>85.50000000000001?wt=.10259361975201933:wt=.011640408330521594:wt=-.00023319159023748508:e[92]>1e-35?wt=.13771692859530546:wt=.022860029819654806:e[1]>22.500000000000004?e[1]>24.500000000000004?e[2]>96.50000000000001?wt=.09967230141007705:e[30]>1e-35?wt=-.08888529037551285:wt=-.008615931385397808:e[10]>5.500000000000001?e[4]>36.50000000000001?wt=.08284665960761373:wt=-.029292565021289504:e[7]>7.500000000000001?wt=-.09945093355204493:wt=-.008381393701708593:e[20]>1e-35?wt=-.04218678460370465:e[10]>6.500000000000001?e[9]>2.5000000000000004?e[1]>13.500000000000002?e[8]>143.50000000000003?e[4]>7.500000000000001?e[2]>36.50000000000001?wt=.07585582641438211:e[8]>284.50000000000006?wt=-.029387993239886723:wt=.07716738177321587:e[1]>18.500000000000004?wt=.026745348497993746:wt=.1427429617069753:e[9]>16.500000000000004?e[9]>33.50000000000001?wt=.02337306890530338:wt=-.10390355904767366:wt=.07390521199638532:wt=-.06788247515155237:wt=-.04201446383470994:e[2]>25.500000000000004?e[2]>29.500000000000004?e[8]>227.50000000000003?wt=-.06360325615644084:wt=.04342192339836601:wt=-.10598779152030145:wt=.05253384605768211;let Ut;e[3]>7.500000000000001?e[157]>1e-35?Ut=-.07514182877923786:Ut=.000636205502279271:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?Ut=.028692053800951845:Ut=.14081686716133598:Ut=-.03316566526940354:e[186]>1e-35?e[0]>2653.5000000000005?Ut=.0037139292567243084:Ut=.12662311031652707:e[107]>1e-35?e[0]>612.5000000000001?Ut=.01202688580305612:Ut=.0993509141454483:e[203]>1e-35?e[1]>77.50000000000001?Ut=.043935495082738626:Ut=-.05639305759669704:e[247]>1e-35?Ut=-.06770766046891649:e[105]>1e-35?e[19]>1e-35?Ut=.10331836202616368:Ut=.0006926658459781341:e[96]>1e-35?Ut=.05361846065599475:e[127]>1e-35?e[0]>2723.5000000000005?e[1]>54.50000000000001?Ut=-.0741403257305367:Ut=.022900127535540854:e[7]>3.5000000000000004?Ut=.038110741403836294:Ut=.14618649985842758:e[5]>3921.5000000000005?e[1]>110.50000000000001?Ut=-.09552842289807008:e[1]>27.500000000000004?Ut=.012505935885798007:Ut=-.020509603428689526:e[282]>1e-35?e[9]>45.50000000000001?e[6]>5.500000000000001?Ut=-.1046104767723845:Ut=.031388606992301074:e[8]>114.50000000000001?e[9]>17.500000000000004?e[9]>22.500000000000004?e[1]>32.50000000000001?Ut=.023466328488582572:Ut=.11730925774586994:Ut=-.04771965631104874:Ut=.17059689880751394:Ut=-.08181850955999449:e[26]>1e-35?Ut=-.12727482696678769:Ut=-.014343123272734182;let Wt;e[147]>1e-35?e[1]>53.50000000000001?Wt=-.0993064321015924:e[0]>2604.5000000000005?e[0]>3629.5000000000005?Wt=-.02763546051134888:Wt=.06423344777499343:Wt=-.064606430904295:e[302]>1e-35?e[10]>2.5000000000000004?e[10]>47.50000000000001?Wt=.049825139823021586:e[7]>22.500000000000004?Wt=-.01131680751379858:e[0]>2579.5000000000005?Wt=-.10673674485369694:Wt=-.015387212937189957:Wt=.04347325151148724:e[179]>1e-35?Wt=-.05788885608624092:e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?Wt=.0650355590939066:Wt=-.0473332870892226:Wt=-.09699315983340703:e[288]>1e-35?e[88]>1e-35?Wt=.11139543329789044:e[126]>1e-35?Wt=-.09726928633696198:e[8]>149.50000000000003?e[9]>46.50000000000001?e[4]>1.5000000000000002?e[8]>1861.5000000000002?Wt=.06370903833231022:e[10]>29.500000000000004?Wt=.03415223859607161:e[10]>3.5000000000000004?Wt=-.07415518117873297:Wt=-.0014119203473324082:Wt=.12617652343819508:e[9]>41.50000000000001?Wt=-.10311145857176976:e[8]>2757.5000000000005?Wt=-.08106484219011428:e[7]>71.50000000000001?Wt=-.09783384432091176:e[1]>88.50000000000001?Wt=.06249739709782831:e[3]>9.500000000000002?e[5]>1601.5000000000002?Wt=-.008884084501608536:Wt=.061339437777743616:Wt=-.042490992675121846:e[2]>6.500000000000001?e[3]>10.500000000000002?Wt=.01526664064166223:Wt=.13534828515415498:Wt=-.06985484465894776:Wt=.0005758961943178744;let zt;e[86]>1e-35?e[1]>23.500000000000004?e[1]>29.500000000000004?e[4]>16.500000000000004?e[2]>31.500000000000004?zt=-.029152732370514342:zt=.07173628916139178:e[1]>36.50000000000001?zt=-.08859111297255318:zt=.0018030071815630785:zt=.13652461563759322:zt=-.07550137680349367:e[10]>52.50000000000001?e[49]>1e-35?zt=-.07145140450454163:e[21]>1e-35?zt=-.07422841663493233:zt=.006289319702780104:e[10]>40.50000000000001?e[9]>59.50000000000001?e[19]>1e-35?e[13]>1e-35?zt=.11864240653986852:e[3]>33.50000000000001?zt=-.08821209591953476:zt=.05706392280054726:zt=-.03600088051578915:e[18]>1e-35?e[1]>24.500000000000004?zt=.01953613016837112:zt=-.059781039130025006:e[148]>1e-35?zt=.052668447861325476:e[3]>30.500000000000004?e[9]>49.50000000000001?zt=.07207826841738371:e[202]>1e-35?zt=.08163917539410503:zt=-.01319846363832958:e[9]>35.50000000000001?e[5]>4134.500000000001?e[10]>44.50000000000001?zt=-.06858280496900336:zt=-.1781828899516648:zt=-.04024620133969553:e[9]>10.500000000000002?e[1]>22.500000000000004?e[1]>37.50000000000001?zt=.018232649414147116:zt=-.04419781124222661:zt=.05145485182416554:e[1]>23.500000000000004?e[0]>655.5000000000001?e[5]>4901.500000000001?e[10]>45.50000000000001?zt=.11452368095776105:zt=-.036496437259924026:zt=-.040445338739465486:zt=.0816572651001145:zt=-.08968914517368663:zt=.0002826343082585516;let lr;e[189]>1e-35?e[0]>5269.500000000001?lr=-.08839493050459957:e[10]>85.50000000000001?lr=.10046908365702462:e[8]>2592.5000000000005?lr=-.09632233975926387:e[8]>2000.5000000000002?lr=.10282992953871627:e[8]>1266.5000000000002?e[9]>34.50000000000001?lr=.035504970430426296:e[1]>31.500000000000004?lr=-.1133764813142531:lr=-.01138280942244812:e[8]>1125.5000000000002?lr=.09800530246229806:lr=.016170419267589393:e[218]>1e-35?e[9]>99.50000000000001?e[9]>101.50000000000001?e[9]>124.50000000000001?lr=.07316772160107896:lr=-.059095014819051765:lr=.17859437315769733:e[2]>1.5000000000000002?e[9]>86.50000000000001?lr=-.09150209066166894:e[8]>3084.0000000000005?lr=-.05443972593168094:e[1]>65.50000000000001?e[10]>11.500000000000002?e[9]>33.50000000000001?lr=-.04449234460408263:lr=.05568837973347338:lr=-.12362324875024472:e[1]>41.50000000000001?e[10]>12.500000000000002?e[8]>1336.5000000000002?lr=.12741077850267066:lr=.007372371864985329:e[2]>39.50000000000001?lr=.02295917234617787:lr=.14966532083907075:e[1]>39.50000000000001?lr=-.06685557815340279:e[10]>22.500000000000004?e[2]>52.50000000000001?lr=-.02511861881285652:e[1]>27.500000000000004?lr=.08683660011672288:lr=.02956214835267301:e[9]>15.500000000000002?lr=-.016538805462996232:lr=.04352738094981517:lr=-.05561856645643868:e[9]>170.50000000000003?lr=-.07996752635874248:e[179]>1e-35?lr=-.09065975936933919:lr=-.00042817975060427177;let hr;e[39]>1e-35?e[4]>25.500000000000004?hr=.03443173196222934:hr=-.06554248341270724:e[32]>1e-35?e[8]>90.50000000000001?e[4]>67.50000000000001?e[4]>86.50000000000001?hr=-.0013415395759330318:hr=.12950978489563347:e[1]>22.500000000000004?e[10]>19.500000000000004?e[4]>30.500000000000004?e[9]>41.50000000000001?hr=.002297618040307216:hr=-.12522800128774994:e[4]>8.500000000000002?e[8]>1075.5000000000002?hr=-.015297257305397608:hr=.09651828834062742:hr=-.06636003334371929:e[10]>11.500000000000002?hr=.17631616138309397:e[0]>1639.5000000000002?hr=3804386478092585e-20:hr=-.09099296398683193:hr=-.06874415876172972:e[0]>2151.5000000000005?hr=-.1311264883406766:hr=.00809052010141122:e[253]>1e-35?hr=-.06338558211939296:e[178]>1e-35?e[2]>25.500000000000004?e[2]>30.500000000000004?e[0]>2151.5000000000005?e[10]>10.500000000000002?e[0]>3615.5000000000005?hr=.045038497754638605:hr=-.07770167665661752:hr=-.08596294280650517:hr=.08538655727027213:hr=.09829076418590559:e[1]>39.50000000000001?e[9]>1.5000000000000002?hr=.054627956617973275:e[1]>61.50000000000001?hr=-.11994465088415499:e[4]>8.500000000000002?hr=.06676200239406452:hr=-.027503148069376867:e[8]>676.5000000000001?hr=-.10363964928357075:e[4]>8.500000000000002?hr=-.07589816227175682:hr=.034664436544646814:e[1]>159.50000000000003?e[6]>25.500000000000004?hr=.009093153189012338:hr=-.06119765876605404:hr=.0004668642103528348;let or;e[223]>1e-35?e[1]>31.500000000000004?e[8]>711.5000000000001?or=-.10100794502567233:or=.08000205636470442:or=-.11945419826856896:e[113]>1e-35?or=-.06105445938688056:e[167]>1e-35?e[0]>3928.5000000000005?or=.1224302423880318:or=-.01875566982911468:e[222]>1e-35?e[1]>8.500000000000002?e[1]>24.500000000000004?e[4]>3.5000000000000004?e[0]>725.5000000000001?e[0]>1682.5000000000002?e[0]>2860.5000000000005?or=.0019277012166729114:e[1]>28.500000000000004?or=-.054445821715687494:or=.045645722976713245:e[30]>1e-35?or=.13402660155331655:or=.008921176001777645:or=-.058547426505451076:or=.08841202222426625:e[1]>22.500000000000004?e[10]>9.500000000000002?or=-.13526418192218206:or=-.03266013432583145:e[1]>20.500000000000004?e[4]>27.500000000000004?or=.0007263224246135398:or=.12450043268647056:e[1]>17.500000000000004?e[9]>1.5000000000000002?or=-.11575657261278308:or=-.01530376565862095:e[4]>13.500000000000002?e[4]>22.500000000000004?or=-.01995960178292952:or=.11216586049153021:or=-.10050961087149474:or=.08848063368485726:e[30]>1e-35?e[224]>1e-35?e[1]>52.50000000000001?or=.10303451081526649:or=-.01375730267020699:e[1]>28.500000000000004?e[2]>20.500000000000004?or=-.043799548968209395:or=-.12451444314954115:e[4]>12.500000000000002?or=-.03838117361958468:or=.06504990789767144:e[57]>1e-35?or=.06890006938293915:or=.0003914274695562949;let cr;e[53]>1e-35?e[4]>11.500000000000002?e[8]>617.5000000000001?e[2]>41.50000000000001?cr=.004271749009686975:cr=-.10523878297127605:cr=.04633982158107851:cr=-.10349713975483057:e[183]>1e-35?e[15]>1e-35?cr=-.08655730561951676:e[8]>919.5000000000001?cr=-.0676453705610183:e[7]>18.500000000000004?cr=-.027787974193650575:cr=.08012784576991301:e[227]>1e-35?e[1]>6.500000000000001?e[3]>8.500000000000002?e[210]>1e-35?cr=.07185850683316512:e[8]>201.50000000000003?e[8]>348.50000000000006?e[23]>1e-35?e[8]>1049.5000000000002?cr=-.03473877164537313:e[8]>719.5000000000001?cr=.10471053866934404:cr=.008236107678382981:e[4]>57.50000000000001?cr=.09412219478825269:e[10]>66.50000000000001?cr=-.13884338641811986:e[10]>19.500000000000004?e[10]>22.500000000000004?e[0]>2490.5000000000005?cr=-.040681323751002293:cr=.06374650297561021:cr=.12884615227401788:e[10]>5.500000000000001?cr=-.0887517295786972:e[8]>597.5000000000001?e[18]>1e-35?cr=-.05474068967150784:cr=.03744700650806603:cr=-.07846396348680855:e[1]>42.50000000000001?cr=.018972315810821302:cr=.10953621007604744:e[5]>4439.500000000001?cr=.010999776705494586:e[1]>40.50000000000001?cr=-.12394200059775967:e[10]>2.5000000000000004?cr=.013528093962849453:cr=-.09222088417048682:cr=-.12662967149701485:cr=.09327296405849603:e[3]>99.50000000000001?cr=-.013581954439986752:cr=.0005526498251862075;let Zt;e[187]>1e-35?e[243]>1e-35?Zt=-.08392792551692502:e[10]>68.50000000000001?Zt=.07871769409454053:e[10]>8.500000000000002?e[10]>16.500000000000004?e[2]>17.500000000000004?e[3]>31.500000000000004?e[91]>1e-35?e[10]>21.500000000000004?e[10]>33.50000000000001?e[10]>48.50000000000001?Zt=-.0825306209711224:Zt=.049559996084532945:Zt=-.1064938580886302:Zt=.03353240732240275:Zt=.045985370399163464:e[1]>42.50000000000001?e[4]>20.500000000000004?Zt=.16966001471529374:e[1]>57.50000000000001?Zt=-.005772777673676247:Zt=.09383677041525058:e[8]>747.5000000000001?Zt=.054068175469351235:Zt=-.049968216310277036:e[8]>753.5000000000001?Zt=-.0679383555784074:e[4]>8.500000000000002?Zt=-.059757341189735386:Zt=.05701083682780414:Zt=-.052497281448921164:e[6]>12.500000000000002?e[8]>969.5000000000001?e[4]>23.500000000000004?Zt=.05820296128730006:Zt=-.1063042385102475:e[1]>49.50000000000001?e[8]>302.50000000000006?Zt=.15340611616954566:Zt=.04385036188666874:e[0]>4449.500000000001?Zt=-.02110897605541555:e[1]>24.500000000000004?e[2]>17.500000000000004?Zt=.004840354641006495:Zt=.09967827580276283:Zt=.11605363537391578:e[9]>19.500000000000004?Zt=-.0735831692725717:Zt=.019973331823355176:e[306]>1e-35?e[149]>1e-35?Zt=-.08968948874343531:e[8]>1094.5000000000002?e[10]>15.500000000000002?Zt=-.02442182361342386:Zt=.10334853004243093:Zt=-.030431948680167104:Zt=-956078595250818e-19;let ur;e[294]>1e-35?e[1]>26.500000000000004?e[0]>4078.5000000000005?ur=-.040232505718244854:e[0]>3030.5000000000005?ur=.0634109586813073:ur=-.04043617034245621:ur=-.06385323610738443:e[120]>1e-35?e[4]>18.500000000000004?ur=-.007859096946435131:ur=.07282728486115758:e[229]>1e-35?e[0]>2952.5000000000005?e[17]>1e-35?ur=.05515771679628051:ur=-.04214471312668263:ur=-.09589322222261765:e[193]>1e-35?ur=-.05056345906812831:e[121]>1e-35?e[243]>1e-35?ur=.14857706653119385:e[4]>9.500000000000002?e[1]>26.500000000000004?e[2]>59.50000000000001?ur=-.08152604001147906:e[11]>1e-35?ur=.09132936522356462:e[15]>1e-35?e[4]>23.500000000000004?ur=.13100930780107503:e[10]>25.500000000000004?ur=.05921074710011526:ur=-.07226005736695183:e[0]>3304.5000000000005?e[0]>3707.5000000000005?e[0]>4053.5000000000005?ur=.0009447118243153454:ur=-.09820565036865991:ur=.057146909749745546:e[0]>2115.5000000000005?ur=-.12331216726611678:ur=.007281983677694285:e[2]>56.50000000000001?ur=.012310154675612615:ur=-.08873665774670461:e[6]>25.500000000000004?ur=.134708740821879:e[9]>5.500000000000001?ur=-.0805901581148979:e[224]>1e-35?ur=-.063684477784257:e[7]>2.5000000000000004?e[19]>1e-35?ur=.10842593386554122:e[2]>13.500000000000002?ur=.06466798320378395:ur=-.08578130788886655:ur=-.03590892078300114:ur=.0003499894043880708;let ve;e[134]>1e-35?e[6]>50.50000000000001?e[0]>3601.5000000000005?ve=.10839808814624702:ve=-.028043875308180352:e[7]>30.500000000000004?e[8]>932.5000000000001?ve=-.007478368069393829:ve=-.09066751344326617:e[0]>3588.5000000000005?e[5]>4748.500000000001?ve=.04035247751736232:e[0]>4255.500000000001?ve=-.1310865624507367:e[0]>4004.5000000000005?ve=.06647367311982634:ve=-.08339693352955757:e[4]>10.500000000000002?e[1]>34.50000000000001?ve=-.011618902907510411:ve=.1114646660406691:e[10]>2.5000000000000004?e[0]>3072.5000000000005?ve=.09356028223727986:ve=-.03811765057032162:ve=-.09456215497345526:e[280]>1e-35?e[7]>70.50000000000001?ve=.10322956436499003:e[2]>22.500000000000004?e[1]>83.50000000000001?ve=.1146142460964847:e[1]>62.50000000000001?ve=-.09679869865322362:e[9]>71.50000000000001?ve=-.07377580769927583:e[4]>19.500000000000004?e[0]>4571.500000000001?ve=-.039046426387852974:ve=.04558778688367152:ve=.11220830937352602:e[7]>5.500000000000001?e[9]>17.500000000000004?e[8]>1067.5000000000002?ve=.03261697816211156:e[15]>1e-35?ve=.02586252542264368:e[2]>14.500000000000002?ve=-.016420452667484604:ve=-.1011799626006976:ve=-.13787471318963773:e[6]>4.500000000000001?e[8]>427.50000000000006?e[10]>36.50000000000001?ve=.010193588102560583:ve=.11748729525930773:ve=-.04468162226743652:ve=-.028365274393617957:e[71]>1e-35?ve=.05115139346588793:ve=-.0001510425316936658;let O;e[298]>1e-35?e[8]>81.50000000000001?e[8]>119.50000000000001?e[4]>64.50000000000001?O=.09072192054181037:e[9]>72.50000000000001?e[8]>1094.5000000000002?O=.020637047900190317:O=-.1017300802134141:e[1]>23.500000000000004?e[9]>12.500000000000002?e[0]>2815.5000000000005?e[0]>3183.5000000000005?e[3]>23.500000000000004?e[3]>45.50000000000001?e[4]>48.50000000000001?O=-.04632587527094407:O=.08603684785510396:O=-.05101401015448496:O=.025466432054358498:O=-.07897811963329214:e[6]>13.500000000000002?e[10]>26.500000000000004?O=.020385355430046367:O=.12032592051335252:O=-.012387370292173013:e[2]>23.500000000000004?O=-.12568545484492677:O=-.022261190943521976:e[8]>634.5000000000001?e[8]>857.5000000000001?O=.043528764484784536:O=.14352071657196003:O=-.009332833816977268:O=.11186782227735846:O=-.0737365712425554:e[136]>1e-35?e[0]>1937.5000000000002?O=-.05649104643152564:O=.03884200719305747:e[42]>1e-35?O=-.07191700385792335:e[116]>1e-35?e[9]>2.5000000000000004?e[9]>17.500000000000004?O=-.04103416502526736:O=.04881823954656287:e[4]>15.500000000000002?O=.009342724662897898:e[0]>3969.5000000000005?O=-.025637309961309498:O=-.12574492012987865:e[212]>1e-35?e[19]>1e-35?O=-.08185697075265091:e[0]>2215.5000000000005?O=.030063975892297354:e[0]>807.5000000000001?O=-.03924325550733229:O=.0415330999189793:O=-.00024374664461674863;let me;e[3]>7.500000000000001?me=.0005117490419655908:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?me=.025798416259686565:me=.13251610353146012:me=-.029900559552677654:e[1]>81.50000000000001?e[1]>110.50000000000001?e[0]>4242.500000000001?me=-.11098564237775424:me=25960925309712775e-21:e[0]>4177.500000000001?e[9]>35.50000000000001?me=.15347826616466054:e[3]>4.500000000000001?me=.10379320730958941:me=-.008896303020010654:e[0]>3415.5000000000005?e[0]>3830.5000000000005?me=.03159791088468647:me=-.10612873364104258:me=.05059856107348746:e[133]>1e-35?e[2]>5.500000000000001?me=-.02335760775001469:me=-.1379386577903324:e[1]>62.50000000000001?e[3]>2.5000000000000004?me=-.011164334474672973:me=-.06594044410501655:e[207]>1e-35?me=-.1014214372326535:e[8]>3.5000000000000004?e[107]>1e-35?e[2]>6.500000000000001?me=-.01725821503981916:me=.05594086838700241:e[203]>1e-35?e[1]>44.50000000000001?e[1]>51.50000000000001?me=-.04226531631656534:me=-.14409800530171432:me=-.03245576341206398:e[8]>4214.500000000001?me=.0895409165534886:e[247]>1e-35?me=-.06506383629143335:e[118]>1e-35?me=-.07214270121257443:e[8]>546.5000000000001?me=-.004385020865473831:me=.009321812545248529:e[0]>1639.5000000000002?e[13]>1e-35?me=.046278501133958524:me=-.030835570926968044:e[0]>493.50000000000006?me=-.12794504651610425:me=.009415039807550776;let ye;e[304]>1e-35?ye=-.04717777269217453:e[76]>1e-35?ye=-.05813439142128324:e[1]>59.50000000000001?e[0]>350.50000000000006?e[53]>1e-35?ye=-.09648224457374217:e[132]>1e-35?ye=.07089308107910267:e[0]>2248.5000000000005?e[5]>2525.5000000000005?e[9]>1.5000000000000002?e[114]>1e-35?ye=-.08595213071749083:e[9]>14.500000000000002?e[9]>33.50000000000001?e[285]>1e-35?ye=.10838431695638147:e[230]>1e-35?ye=.06458713915750626:e[0]>3219.5000000000005?e[3]>23.500000000000004?e[9]>69.50000000000001?ye=.050071316251979:ye=-.006356941111525215:e[6]>8.500000000000002?ye=-.0384814076434817:e[1]>73.50000000000001?e[0]>3746.5000000000005?ye=.10217402850540398:ye=-.048840949025349197:ye=-.03668313197909846:e[7]>39.50000000000001?ye=-.0562642841496003:e[10]>2.5000000000000004?ye=.09749777369987417:ye=-.04848223121417616:e[0]>5453.500000000001?ye=.08316648226133942:ye=-.0261979698267618:e[212]>1e-35?ye=.09565573198318654:e[5]>4814.500000000001?e[8]>963.5000000000001?e[8]>1514.5000000000002?ye=.04837009746506856:ye=-.09184360565631328:ye=.0032411047845613606:e[0]>4733.500000000001?ye=.0977378556864798:ye=.010776545559325588:ye=-.012483310473120218:ye=-.049284121449103935:ye=.011962641341789565:e[1]>67.50000000000001?e[1]>77.50000000000001?ye=-.08380361910948711:ye=.07375088778585813:ye=-.1084864186071348:ye=.0007819503469605476;let Y;e[7]>17.500000000000004?e[115]>1e-35?Y=.08741852531696623:e[167]>1e-35?Y=.10078975495600809:Y=-.0018324767784017562:e[290]>1e-35?Y=-.0850089851255888:e[74]>1e-35?e[10]>16.500000000000004?Y=.1379733311640402:Y=-.0038500648529631075:e[6]>29.500000000000004?e[8]>876.5000000000001?e[0]>3129.5000000000005?e[9]>5.500000000000001?e[8]>1765.5000000000002?Y=-.09360083033774169:Y=.061471353193188374:e[10]>11.500000000000002?e[10]>31.500000000000004?Y=-.015599362579530679:e[0]>4593.500000000001?Y=-.12029549262691491:Y=-.018917032256501397:Y=.04632831686576592:Y=.06892347785444271:e[4]>8.500000000000002?e[10]>33.50000000000001?Y=-.05894883236412263:Y=.05213944998315824:Y=.12621779223564986:e[243]>1e-35?e[6]>16.500000000000004?e[0]>4141.500000000001?e[0]>5850.500000000001?Y=.07577412405680808:Y=-.053144737214742235:e[1]>29.500000000000004?e[9]>16.500000000000004?Y=-.0277076900736147:e[1]>65.50000000000001?Y=-.023587471585763506:Y=.10184896592433082:Y=-.057699270527916825:Y=-.041191811945739454:e[114]>1e-35?e[2]>23.500000000000004?Y=.06566902102799584:e[10]>25.500000000000004?Y=-.07033633753181047:Y=-.01599120398351932:e[242]>1e-35?e[0]>2402.5000000000005?Y=-.08108035861059537:Y=.04184690010531078:e[35]>1e-35?e[0]>2904.5000000000005?Y=-.12431182772561139:Y=.01886235886984271:Y=.0025579594894418116;let L;e[8]>2915.5000000000005?e[101]>1e-35?L=.08648323956719083:e[0]>93.50000000000001?e[196]>1e-35?L=-.09509320772734361:e[4]>1.5000000000000002?e[5]>1106.5000000000002?e[5]>1191.5000000000002?e[283]>1e-35?L=-.11268313808648661:e[10]>12.500000000000002?e[131]>1e-35?L=.0687641681341721:e[10]>102.50000000000001?L=-.09667920080214842:e[4]>15.500000000000002?e[8]>2992.5000000000005?e[1]>24.500000000000004?e[1]>71.50000000000001?L=-.06762578396473291:e[10]>65.50000000000001?L=-.05226727783610509:e[282]>1e-35?L=.09911438410640917:e[19]>1e-35?L=.06915156336429933:L=-.006565637886508241:L=-.08344300251849307:L=-.0928863907927501:e[1]>60.50000000000001?e[2]>17.500000000000004?L=.19428463865406298:L=.016073883020956765:e[13]>1e-35?L=.06864077097923665:L=-.01388867527034731:e[0]>1847.5000000000002?L=.004655280608161356:e[1]>40.50000000000001?L=.031406054057765996:L=.12798062439212832:L=.09859670536264255:e[10]>2.5000000000000004?e[9]>68.50000000000001?L=.08821759640665892:e[9]>32.50000000000001?e[8]>3960.0000000000005?e[1]>31.500000000000004?L=-.0706095614785733:L=.04227164041372561:L=-.1056906923176064:e[2]>8.500000000000002?e[19]>1e-35?L=-.07139533369873902:L=.008952586782921625:L=.06086212582180936:L=-.0816938490403437:L=-.051224901945956025:L=-.10525399124186095:L=.000270924147208224;let Ie;e[122]>1e-35?e[0]>2461.5000000000005?e[2]>36.50000000000001?Ie=.029186512383291244:e[7]>1.5000000000000002?Ie=-.14984127276725573:e[1]>40.50000000000001?Ie=.032757060730648144:Ie=-.07675575422749602:e[6]>8.500000000000002?Ie=.10599766037117893:Ie=-.0541423394552156:e[1]>24.500000000000004?e[103]>1e-35?e[8]>61.50000000000001?e[17]>1e-35?Ie=-.051394622947855385:Ie=.03237141302699347:Ie=.12526173027943244:Ie=.000579473126472788:e[18]>1e-35?e[3]>4.500000000000001?e[3]>6.500000000000001?e[0]>5453.500000000001?Ie=-.07383912482657777:e[0]>5147.500000000001?Ie=.07008813937042091:e[10]>38.50000000000001?Ie=-.06779203808365307:Ie=-.013782769999524498:Ie=.0880038869117715:Ie=-.12846294176070952:e[281]>1e-35?Ie=-.06810806903850834:e[10]>227.50000000000003?Ie=-.08937977001661111:e[10]>130.50000000000003?Ie=.10538920632708033:e[145]>1e-35?e[4]>6.500000000000001?e[9]>16.500000000000004?e[4]>18.500000000000004?Ie=.011036530162093841:Ie=-.11500797478569702:Ie=.03702229366129399:Ie=.07242026683784307:e[189]>1e-35?Ie=.03331407112090286:e[9]>33.50000000000001?e[201]>1e-35?Ie=.08979610115743614:e[7]>57.50000000000001?e[1]>20.500000000000004?Ie=-.02608892716555304:Ie=.09609599320761308:e[9]>105.50000000000001?Ie=-.06848127135991534:Ie=.0023675721254089715:e[86]>1e-35?Ie=-.11049635625500497:Ie=-.004847764219432233;let Me;e[125]>1e-35?e[0]>3969.5000000000005?Me=-.09462233499115416:Me=.05235324508465096:e[17]>1e-35?e[49]>1e-35?e[10]>19.500000000000004?Me=-.030700661288166148:Me=.0870883677166864:e[10]>3.5000000000000004?e[3]>18.500000000000004?e[0]>3544.5000000000005?e[188]>1e-35?e[9]>7.500000000000001?Me=.03149547314036763:Me=-.08166208257451366:e[0]>5850.500000000001?Me=-.10228136324773157:e[102]>1e-35?Me=-.10572585290676295:e[8]>726.5000000000001?e[5]>3657.5000000000005?Me=.01782894842128785:e[13]>1e-35?Me=.002680190260979968:Me=.1773965720476949:e[2]>72.50000000000001?Me=.09090831938627947:e[1]>59.50000000000001?Me=-.12297206702816128:e[0]>4977.500000000001?Me=.09899015653118268:Me=-.022207141540838887:e[4]>32.50000000000001?e[1]>34.50000000000001?Me=-.0675900954187773:Me=.012336403425364092:Me=-.0017002325391924573:e[6]>7.500000000000001?e[1]>17.500000000000004?Me=-.02671721777458802:Me=-.09242452991958029:e[284]>1e-35?Me=-.08585691288582491:Me=.013332890564324447:e[4]>14.500000000000002?Me=-.005245022074799553:e[23]>1e-35?Me=-.020036720167235768:e[1]>29.500000000000004?e[114]>1e-35?Me=-.09289852307936758:e[116]>1e-35?Me=-.09686573010015055:e[8]>804.5000000000001?Me=.03812547148215318:Me=.005162744968176633:e[9]>43.50000000000001?Me=-.059246106396159376:Me=.050370113808135275:Me=.000794041852811028;let Ct;e[3]>7.500000000000001?Ct=.0004981426543104341:e[9]>114.50000000000001?Ct=.05666010099424601:e[129]>1e-35?e[6]>3.5000000000000004?Ct=-.019061766497948867:Ct=.07193491146561211:e[186]>1e-35?e[0]>2653.5000000000005?Ct=-.006044199577160493:Ct=.1147136801028133:e[6]>85.50000000000001?e[8]>847.5000000000001?Ct=.11486607015912494:e[9]>16.500000000000004?Ct=-.08686820858087294:Ct=.06119632492911875:e[127]>1e-35?e[0]>2723.5000000000005?e[0]>3682.5000000000005?e[1]>38.50000000000001?Ct=-.022230207980026437:Ct=.1056683690528792:Ct=-.05859530800943035:Ct=.06970608927597141:e[7]>3.5000000000000004?e[105]>1e-35?Ct=.08073568184886762:e[107]>1e-35?e[2]>6.500000000000001?Ct=-.05177544573528314:Ct=.05370469772149028:e[1]>35.50000000000001?e[0]>4106.500000000001?e[9]>46.50000000000001?e[0]>4633.500000000001?Ct=.15159657923771555:Ct=-.0060542654587671055:e[9]>5.500000000000001?Ct=-.042808028205051786:e[1]>48.50000000000001?Ct=-.010449538258110742:Ct=.10026907521968294:Ct=-.04249349329714756:e[9]>42.50000000000001?e[1]>19.500000000000004?e[8]>852.5000000000001?Ct=-.02272452389409874:Ct=-.11202691218244319:e[5]>1809.5000000000002?Ct=-.04460413584255906:Ct=.08196329474205256:e[10]>69.50000000000001?Ct=.10221481166238167:Ct=.0004063052701699382:e[243]>1e-35?Ct=-.07563941678849846:e[18]>1e-35?Ct=.02563513231103432:Ct=-.004740081147303786;let qt;e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?qt=.057446442918106:qt=-.04404018270156349:qt=-.09282976714550464:e[0]>384.50000000000006?e[204]>1e-35?e[1]>62.50000000000001?qt=-.05930486238817954:e[1]>29.500000000000004?qt=.06955866121256543:e[8]>597.5000000000001?qt=-.06538593556505168:qt=.06212512595497445:qt=.00021102929959182257:e[9]>90.50000000000001?qt=.0958061289119631:e[102]>1e-35?qt=.07172059675638813:e[1]>47.50000000000001?qt=-.03879798603977766:e[297]>1e-35?qt=.054948234271956144:e[282]>1e-35?e[2]>6.500000000000001?qt=.003805910996312012:qt=.09304295674749524:e[11]>1e-35?e[18]>1e-35?qt=.11252376801858695:e[288]>1e-35?qt=-.10293901912180432:qt=.014669268837893872:e[1]>42.50000000000001?qt=-.05988274123836837:e[145]>1e-35?qt=.06142784665288495:e[3]>1.5000000000000002?e[4]>4.500000000000001?e[1]>21.500000000000004?e[1]>27.500000000000004?e[9]>24.500000000000004?qt=.038791154988529926:e[10]>22.500000000000004?e[2]>19.500000000000004?qt=-.03366718308159971:qt=.11936550608549797:e[1]>31.500000000000004?qt=-.07454716789539667:qt=.027859650621164217:e[10]>10.500000000000002?qt=-.11806374092321247:qt=-.03506042229223101:qt=-.0007080765837654515:e[10]>6.500000000000001?qt=-.028077713664996503:e[2]>7.500000000000001?qt=.15803724124216814:qt=.0351381284833169:qt=-.07877953381054767;let Ft;e[131]>1e-35?e[282]>1e-35?e[4]>23.500000000000004?Ft=.14144941521975005:Ft=.0007727806714190652:e[9]>1.5000000000000002?e[8]>2134.5000000000005?e[2]>34.50000000000001?Ft=.10514088112381886:e[7]>18.500000000000004?Ft=-.10370643555956745:Ft=.04093594315421388:e[6]>15.500000000000002?e[4]>9.500000000000002?e[10]>27.500000000000004?e[10]>71.50000000000001?Ft=-.0508129468802936:e[224]>1e-35?Ft=-.037816066368733595:e[10]>43.50000000000001?Ft=.07793408602607932:Ft=.017646166646099453:e[9]>3.5000000000000004?e[9]>29.500000000000004?e[17]>1e-35?Ft=.036972453794202324:Ft=-.08727431092411866:e[8]>427.50000000000006?e[8]>1278.5000000000002?Ft=.09475302525132188:Ft=-.03580104945898193:Ft=.08349488283861875:e[10]>3.5000000000000004?e[0]>1847.5000000000002?e[0]>4280.500000000001?e[2]>27.500000000000004?Ft=-.1282448778804823:Ft=-.014395808269207212:Ft=-.008940927190750592:Ft=-.1459118815453748:e[0]>4897.500000000001?Ft=-.09733068457286576:e[1]>57.50000000000001?Ft=.06575271409540207:Ft=-.019556422817450115:Ft=-.10623959222984136:e[18]>1e-35?Ft=.11280940901275241:e[8]>319.50000000000006?e[2]>6.500000000000001?Ft=.008125645893104896:Ft=-.11084368630465868:Ft=.0584398731508786:e[0]>350.50000000000006?e[3]>83.50000000000001?Ft=-.05854904579626861:e[4]>5.500000000000001?Ft=.02985784951394175:Ft=-.03247600140149334:Ft=-.11152899295304973:Ft=-.00035424577714215764;let tr;e[32]>1e-35?e[17]>1e-35?e[8]>359.50000000000006?e[8]>804.5000000000001?tr=-.06563670567578264:tr=.067656954313663:tr=-.10388217548685377:e[8]>2302.5000000000005?tr=.07190621943790435:e[4]>67.50000000000001?tr=.060020507643618604:e[4]>38.50000000000001?tr=-.08707253184321638:e[2]>11.500000000000002?e[2]>16.500000000000004?e[1]>31.500000000000004?e[1]>59.50000000000001?tr=-.06568134366461277:e[8]>1075.5000000000002?tr=-.004768057709758692:tr=.11785959165999467:tr=-.05080221682879267:tr=.14814206127494542:tr=-.07241946332311736:e[253]>1e-35?tr=-.058893562861261274:e[4]>61.50000000000001?e[283]>1e-35?e[10]>23.500000000000004?tr=-.02471195342450034:tr=.11866056464409412:e[10]>44.50000000000001?e[1]>16.500000000000004?e[8]>2640.0000000000005?tr=-.10741850739482771:tr=.010051635824944:tr=.12502069436017124:e[8]>1971.5000000000002?e[1]>23.500000000000004?e[308]>1e-35?tr=.10511236013756364:e[10]>10.500000000000002?e[1]>53.50000000000001?tr=-.08992396138178163:tr=.010944365997007212:tr=.06221307021813793:tr=.1286024087559141:e[127]>1e-35?tr=.06568148624531012:e[10]>40.50000000000001?tr=-.07567979134643352:e[5]>5647.500000000001?tr=.07594672895572069:tr=-.018158016446439187:e[6]>55.50000000000001?tr=.009293422430111872:e[4]>45.50000000000001?tr=-.017749818406964022:e[2]>46.50000000000001?tr=.01714136511113982:tr=-724762291423549e-19;let ir;e[1]>24.500000000000004?e[103]>1e-35?e[8]>48.50000000000001?e[17]>1e-35?ir=-.048689215588703864:e[9]>27.500000000000004?e[0]>3916.5000000000005?ir=.07084726276890757:ir=-.11232323677722932:ir=.04812773089510436:ir=.11757502216780046:e[5]>1464.5000000000002?e[5]>1505.5000000000002?e[167]>1e-35?ir=.07470606002425358:e[1]>53.50000000000001?e[132]>1e-35?ir=.0879462816013881:ir=-.002966662093626573:e[306]>1e-35?ir=-.04588085188342676:ir=.0031910005157084823:e[3]>10.500000000000002?e[10]>20.500000000000004?ir=-.006600332774461143:ir=.1272481351557754:ir=-.09030973597154808:e[284]>1e-35?e[1]>38.50000000000001?e[10]>2.5000000000000004?ir=.011884312066620044:ir=.11678751052403374:e[4]>8.500000000000002?ir=.03627129613273813:ir=-.12132783497902287:ir=-.006784372643244717:e[18]>1e-35?e[3]>4.500000000000001?e[3]>6.500000000000001?e[0]>5453.500000000001?ir=-.06830131718398992:e[0]>5147.500000000001?ir=.062360406249609306:e[4]>4.500000000000001?ir=-.013162203864592055:ir=-.07153029184927609:ir=.07628618062271557:ir=-.12085065687320373:e[190]>1e-35?ir=-.045816889524231186:e[137]>1e-35?ir=-.07956001795911584:e[199]>1e-35?e[0]>3853.5000000000005?ir=.025895337822752502:ir=-.06503949350616421:e[10]>227.50000000000003?ir=-.09989456525790491:e[10]>130.50000000000003?ir=.08616651057030683:ir=.0001234981796706021;let Ot;e[8]>1014.5000000000001?e[9]>137.50000000000003?Ot=-.08778879924617534:e[8]>1022.5000000000001?e[285]>1e-35?e[9]>64.50000000000001?Ot=.04955806187281689:e[0]>3670.5000000000005?e[10]>32.50000000000001?Ot=-.141732381961068:Ot=-.0317152307496497:Ot=-.02074638849097191:e[0]>93.50000000000001?e[0]>3072.5000000000005?e[10]>100.50000000000001?e[4]>24.500000000000004?e[8]>1336.5000000000002?Ot=.12191801556691254:Ot=-.0003444689085397977:Ot=.005739668504631604:e[146]>1e-35?e[308]>1e-35?Ot=.015237524791728777:e[6]>61.50000000000001?e[4]>63.50000000000001?Ot=-.05676033995381961:Ot=.10933961076803381:e[4]>26.500000000000004?Ot=-.11667582544549814:e[8]>1765.5000000000002?Ot=.032174455312047705:Ot=-.0755016390126608:e[293]>1e-35?Ot=-.08234885407658332:e[9]>41.50000000000001?e[0]>3830.5000000000005?Ot=.026571311956824436:e[15]>1e-35?Ot=.06175459479851121:Ot=-.018778084411148754:e[9]>40.50000000000001?Ot=-.09420232889965811:Ot=-.004578248021263184:e[2]>1.5000000000000002?Ot=.005453714644971445:Ot=-.03907138175699279:Ot=-.055296364182154736:e[23]>1e-35?Ot=.036555134842143476:e[0]>4188.500000000001?e[6]>29.500000000000004?Ot=-.09358146510580179:Ot=.060524657996178094:Ot=-.11245101144669545:e[125]>1e-35?e[9]>1.5000000000000002?Ot=-.12698331085931538:Ot=.006059605604079918:e[2]>196.50000000000003?Ot=-.09451315810804783:Ot=.0011390147031687425;let vt;e[8]>2830.5000000000005?e[1]>31.500000000000004?e[9]>32.50000000000001?e[5]>1234.5000000000002?e[8]>3794.5000000000005?vt=.05517359070460923:vt=-.04758751221404857:vt=-.09482078194138792:e[8]>2992.5000000000005?e[1]>101.50000000000001?vt=.1040436595565776:e[9]>21.500000000000004?vt=.04032250517675179:e[107]>1e-35?vt=.05978752253058374:e[210]>1e-35?e[4]>37.50000000000001?vt=.1192453009230486:e[1]>51.50000000000001?vt=.0443376336292195:vt=-.07967674833321865:e[5]>2117.5000000000005?e[9]>10.500000000000002?vt=-.10025078607591283:e[0]>2882.5000000000005?e[18]>1e-35?vt=-.08999822408398037:vt=.017533219253893447:e[9]>1.5000000000000002?e[4]>12.500000000000002?vt=-.061850439226075:vt=.08849196353361093:vt=.10536348167793089:e[92]>1e-35?vt=.04894947712119185:e[9]>16.500000000000004?vt=.05900227903883853:e[9]>5.500000000000001?vt=-.11946594348916476:vt=-.03652096348071964:e[1]>41.50000000000001?vt=-.07411603110840567:vt=-.00021033247574340914:e[10]>22.500000000000004?e[9]>68.50000000000001?vt=.08493634342741495:e[11]>1e-35?vt=-.10899097825564363:vt=-.006156708838964173:e[8]>3198.5000000000005?e[2]>41.50000000000001?vt=.08356655906359918:e[7]>25.500000000000004?vt=-.09475076526194888:e[10]>5.500000000000001?vt=-.01999406228763778:vt=.06696212545889428:e[6]>20.500000000000004?vt=.14713592661393468:vt=.0459917279002218:vt=.00027445928493734093;let sr;e[223]>1e-35?e[1]>31.500000000000004?e[8]>634.5000000000001?sr=-.06904501553217077:sr=.05696231672035904:sr=-.1124703178077813:e[99]>1e-35?e[1]>89.50000000000001?sr=-.05074261170009721:e[1]>57.50000000000001?e[8]>969.5000000000001?sr=-.011419256378538392:e[0]>3830.5000000000005?sr=.140315841503076:sr=.02403434913963024:e[1]>31.500000000000004?e[8]>65.50000000000001?e[2]>10.500000000000002?sr=-.04027822909411164:sr=.03176085103667189:sr=.06779515865838849:e[4]>15.500000000000002?sr=.0762878389015175:e[8]>175.50000000000003?e[0]>3030.5000000000005?e[8]>1041.5000000000002?sr=.06124039747298539:sr=-.04312732764434027:sr=.09161522761808062:sr=-.09663512235460074:e[280]>1e-35?e[6]>45.50000000000001?e[1]>46.50000000000001?sr=.11211681010488772:e[13]>1e-35?sr=.06725735814960367:sr=-.046744031455827846:e[10]>44.50000000000001?e[0]>3400.5000000000005?e[0]>4004.5000000000005?e[2]>22.500000000000004?sr=.11743605068905603:sr=-.011309033539148687:sr=-.07896094707523052:sr=.12862714793172117:e[10]>1.5000000000000002?e[8]>455.50000000000006?e[0]>4706.500000000001?sr=-.09218756798869711:e[10]>19.500000000000004?e[0]>1894.5000000000002?e[0]>3719.5000000000005?sr=.02836295848998302:sr=.12210680366745175:sr=-.058302317470509096:e[5]>4144.500000000001?sr=.06123341960495106:sr=-.03840046906926525:sr=-.05221474543453495:sr=.03988215485860711:sr=-.00033074684693083496;let Po=_at(t+r+n+i+s+a+l+c+u+f+m+h+p+A+x+E+v+b+S+B+P+F+q+ne+ce+Z+G+U+ie+J+H+M+j+X+ae+re+le+de+Re+Ee+Oe+_e+Je+ut+ot+at+oe+Pe+Ae+We+z+te+Ne+Se+Ce+Ue+Ve+Ze+yt+Dt+At+Vt+$t+nr+ge+Le+Ke+et+St+Et+Lt+Mt+Tt+_t+wt+Ut+Wt+zt+lr+hr+or+cr+Zt+ur+ve+O+me+ye+Y+L+Ie+Me+Ct+qt+Ft+tr+ir+Ot+vt+sr);return[1-Po,Po]}o(_Ee,"multilineModelPredict");function _at(e){if(e<0){let t=Math.exp(e);return t/(1+t)}return 1/(1+Math.exp(-e))}o(_at,"sigmoid");var kat={javascript:["//"],typescript:["//"],typescriptreact:["//"],javascriptreact:["//"],vue:["//","-->"],php:["//","#"],dart:["//"],go:["//"],cpp:["//"],scss:["//"],csharp:["//"],java:["//"],c:["//"],rust:["//"],python:["#"],markdown:["#","-->"],css:["*/"]},kEe={javascript:1,javascriptreact:2,typescript:3,typescriptreact:4,python:5,go:6,ruby:7};function BEe(e,t,r,n=!0){let i=e.split(`
`);if(n&&(i=i.filter(l=>l.trim().length>0)),Math.abs(t)>i.length||t>=i.length)return!1;t<0&&(t=i.length+t);let s=i[t];return(kat[r]??[]).some(l=>s.includes(l))}o(BEe,"hasComment");var XL=class{static{o(this,"PromptFeatures")}constructor(t,r){let[n,i]=this.firstAndLast(t),s=this.firstAndLast(t.trimEnd());this.language=r,this.length=t.length,this.firstLineLength=n.length,this.lastLineLength=i.length,this.lastLineRstripLength=i.trimEnd().length,this.lastLineStripLength=i.trim().length,this.rstripLength=t.trimEnd().length,this.stripLength=t.trim().length,this.rstripLastLineLength=s[1].length,this.rstripLastLineStripLength=s[1].trim().length,this.secondToLastLineHasComment=BEe(t,-2,r),this.rstripSecondToLastLineHasComment=BEe(t.trimEnd(),-2,r),this.prefixEndsWithNewline=t.endsWith(`
`),this.lastChar=t.slice(-1),this.rstripLastChar=t.trimEnd().slice(-1),this.firstChar=t[0],this.lstripFirstChar=t.trimStart().slice(0,1)}firstAndLast(t){let r=t.split(`
`),n=r.length,i=r[0],s=r[n-1];return s==""&&n>1&&(s=r[n-2]),[i,s]}},FZ=class{static{o(this,"MultilineModelFeatures")}constructor(t,r,n){this.language=n,this.prefixFeatures=new XL(t,n),this.suffixFeatures=new XL(r,n)}constructFeatures(){let t=new Array(14).fill(0);t[0]=this.prefixFeatures.length,t[1]=this.prefixFeatures.firstLineLength,t[2]=this.prefixFeatures.lastLineLength,t[3]=this.prefixFeatures.lastLineRstripLength,t[4]=this.prefixFeatures.lastLineStripLength,t[5]=this.prefixFeatures.rstripLength,t[6]=this.prefixFeatures.rstripLastLineLength,t[7]=this.prefixFeatures.rstripLastLineStripLength,t[8]=this.suffixFeatures.length,t[9]=this.suffixFeatures.firstLineLength,t[10]=this.suffixFeatures.lastLineLength,t[11]=this.prefixFeatures.secondToLastLineHasComment?1:0,t[12]=this.prefixFeatures.rstripSecondToLastLineHasComment?1:0,t[13]=this.prefixFeatures.prefixEndsWithNewline?1:0;let r=new Array(Object.keys(kEe).length+1).fill(0);r[kEe[this.language]??0]=1;let n=new Array(Object.keys(Gc).length+1).fill(0);n[Gc[this.prefixFeatures.lastChar]??0]=1;let i=new Array(Object.keys(Gc).length+1).fill(0);i[Gc[this.prefixFeatures.rstripLastChar]??0]=1;let s=new Array(Object.keys(Gc).length+1).fill(0);s[Gc[this.suffixFeatures.firstChar]??0]=1;let a=new Array(Object.keys(Gc).length+1).fill(0);return a[Gc[this.suffixFeatures.lstripFirstChar]??0]=1,t.concat(r,n,i,s,a)}};function Bat(e,t){return new FZ(e.prefix,e.suffix,t)}o(Bat,"constructMultilineFeatures");function REe(e,t){let r=Bat(e,t).constructFeatures();return _Ee(r)[1]}o(REe,"requestMultilineScore");d();var ZL=new Ar("getCompletions");function eQ(e,t,r){r.telemetry.markAsDisplayed(),r.telemetry.properties.reason=mw(r.resultType),Gt(e,`${t}.shown`,r.telemetry)}o(eQ,"telemetryShown");function DEe(e,t,r){let n=t+".accepted",i=e.get(ju);i.previousLabel=1,i.previousLabelTimestamp=Date.now(),Gt(e,n,r)}o(DEe,"telemetryAccepted");function PEe(e,t,r){let n=t+".rejected",i=e.get(ju);i.previousLabel=0,i.previousLabelTimestamp=Date.now(),Gt(e,n,r)}o(PEe,"telemetryRejected");function Ip(e,t={}){return{...t,telemetryBlob:e}}o(Ip,"mkCanceledResultTelemetry");function Cs(e){let t={headerRequestId:e.properties.headerRequestId,copilot_trackingId:e.properties.copilot_trackingId};return e.properties.sku!==void 0&&(t.sku=e.properties.sku),e.properties.opportunityId!==void 0&&(t.opportunityId=e.properties.opportunityId),e.properties.organizations_list!==void 0&&(t.organizations_list=e.properties.organizations_list),e.properties.enterprise_list!==void 0&&(t.enterprise_list=e.properties.enterprise_list),e.properties.clientCompletionId!==void 0&&(t.clientCompletionId=e.properties.clientCompletionId),t["abexp.assignmentcontext"]=e.filtersAndExp.exp.assignmentContext,t}o(Cs,"mkBasicResultTelemetry");function FEe(e,t){if(t.type!=="promptOnly"){if(t.type==="success"){let r=qs()-t.telemetryBlob.issuedTime,n=mw(t.resultType),i=JSON.stringify(t.performanceMetrics),s={...t.telemetryData,reason:n,performanceMetrics:i},{foundOffset:a}=t.telemetryBlob.measurements,l=t.performanceMetrics?.map(([c,u])=>`
${u.toFixed(2)}	${c}`).join("")??"";return ZL.debug(e,`ghostText produced from ${n} in ${Math.round(r)}ms with foundOffset ${a}${l}`),cv(e,"ghostText.produced",s,{timeToProduceMs:r,foundOffset:a}),t.value}if(ZL.debug(e,"No ghostText produced -- "+t.type+": "+t.reason),t.type==="canceled"){Gt(e,"ghostText.canceled",t.telemetryData.telemetryBlob.extendedBy({reason:t.reason,cancelledNetworkRequest:t.telemetryData.cancelledNetworkRequest?"true":"false"}));return}cv(e,`ghostText.${t.type}`,{...t.telemetryData,reason:t.reason},{})}}o(FEe,"handleGhostTextResultTelemetry");function mw(e){switch(e){case 0:return"network";case 1:return"cache";case 3:return"cycling";case 2:return"typingAsSuggested";case 4:return"async"}}o(mw,"resultTypeToString");d();d();var Rat=["isEmptyBlockStart","isBlockBodyFinished","getNodeStart"],Dat=["isSupportedLanguageId","getBlockCloseToken","getPrompt"],vvr=[...Rat,...Dat];var Tp={isEmptyBlockStart:Vye,isBlockBodyFinished:jye,isSupportedLanguageId:Qu,getBlockCloseToken:Rye,getNodeStart:$ye,getPrompt:Mye};function rQ(e,t){return Tp.isEmptyBlockStart(e.detectedLanguageId,e.getText(),e.offsetAt(t))}o(rQ,"isEmptyBlockStart");var Dvr=new Ar("parseBlock");function pw(e,t,r,n){let i=t.getText(Co.range(Co.position(0,0),r))+(n?`
`:""),s=t.offsetAt(r)+(n?1:0),a=t.detectedLanguageId;return l=>Tp.isBlockBodyFinished(a,i,l,s)}o(pw,"parsingBlockFinished");async function NEe(e,t,r,n){let s=t.getText(Co.range(Co.position(0,0),r))+n,a=await Tp.getNodeStart(t.detectedLanguageId,s,t.offsetAt(r));if(a)return t.positionAt(a)}o(NEe,"getNodeStart");var Pat=["\\{","\\}","\\[","\\]","\\(","\\)"].concat(["then","else","elseif","elif","catch","finally","fi","done","end","loop","until","where","when"].map(e=>e+"\\b")),Fat=new RegExp(`^(${Pat.join("|")})`);function Nat(e){return Fat.test(e.trimLeft().toLowerCase())}o(Nat,"isContinuationLine");function tQ(e){let t=/^(\s*)([^]*)$/.exec(e);if(t&&t[2]&&t[2].length>0)return t[1].length}o(tQ,"indentationOfLine");function gw(e,t){let r=e.getText(),n=e.offsetAt(t);return NZ(r,n,e.detectedLanguageId)}o(gw,"contextIndentation");function NZ(e,t,r){let n=e.slice(0,t).split(`
`),i=e.slice(t).split(`
`);function s(f,m,h){let p=m,A,x;for(;A===void 0&&p>=0&&p<f.length;)A=tQ(f[p]),x=p,p+=h;if(r==="python"&&h===-1){p++;let E=f[p].trim();if(E.endsWith('"""')){if(!(E.startsWith('"""')&&E!=='"""'))for(p--;p>=0&&!f[p].trim().startsWith('"""');)p--;if(p>=0)for(A=void 0,p--;A===void 0&&p>=0;)A=tQ(f[p]),x=p,p--}}return[A,x]}o(s,"seekNonBlank");let[a,l]=s(n,n.length-1,-1),c=(()=>{if(!(a===void 0||l===void 0))for(let f=l-1;f>=0;f--){let m=tQ(n[f]);if(m!==void 0&&m<a)return m}})(),[u]=s(i,1,1);return{prev:c,current:a??0,next:u}}o(NZ,"contextIndentationFromText");var Lat=!1;function Qat(e,t,r){let n=e.split(`
`),i=r!==void 0,s=r?.split(`
`).pop(),a=0;if(i&&s?.trim()!=""&&n[0].trim()!==""&&a++,!i&&Lat&&n[0].trim()===""&&a++,i||a++,n.length===a)return"continue";let l=Math.max(t.current,t.next??0);for(let c=a;c<n.length;c++){let u=n[c];c==0&&s!==void 0&&(u=s+u);let f=tQ(u);if(f!==void 0&&(f<l||f===l&&!Nat(u)))return n.slice(0,c).join(`
`).length}return"continue"}o(Qat,"completionCutOrContinue");function LEe(e,t){return async r=>{let n=Qat(r,e,t);return n==="continue"?void 0:n}}o(LEe,"indentationBlockFinished");d();d();d();function QEe(e,t){return{...xv,useSubsetMatching:LZ(e,t)}}o(QEe,"getCppSimilarFilesOptions");function MEe(e){return xv.maxTopSnippets}o(MEe,"getCppNumberOfSnippets");var Mat=new Map([["cpp",QEe]]);function nQ(e,t,r){let n=Mat.get(r);return n?n(e,t):{...kF,useSubsetMatching:LZ(e,t)}}o(nQ,"getSimilarFilesOptions");var Oat=new Map([["cpp",MEe]]);function OEe(e,t){let r=Oat.get(t);return r?r(e):xJ}o(OEe,"getNumberOfSnippets");function LZ(e,t){return(t.filtersAndExp.exp.variables.copilotsubsetmatching||Qn(e,kt.UseSubsetMatching))??!1}o(LZ,"useSubsetMatching");d();d();var Uat=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function qat(e){return Uat.has(e.code??"")||e.name==="RangeError"&&e.message==="WebAssembly.Memory(): could not allocate memory"}o(qat,"isOomError");function iQ(e,t,r,n=Zn){if(!bc(t)){if(t instanceof Error){let i=t;qat(i)?e.get(Li).setWarning("Out of memory"):i.code==="EMFILE"||i.code==="ENFILE"?e.get(Li).setWarning("Too many open files"):i.code==="CopilotPromptLoadFailure"?e.get(Li).setWarning("Corrupted Copilot installation"):`${i.code}`.startsWith("CopilotPromptWorkerExit")?e.get(Li).setWarning("Worker unexpectedly exited"):i.syscall==="uv_cwd"&&i.code==="ENOENT"&&e.get(Li).setWarning("Current working directory does not exist")}n.exception(e,t,r)}}o(iQ,"handleException");function UEe(e){process.addListener("uncaughtException",r=>{iQ(e,r,"uncaughtException")});let t=!1;process.addListener("unhandledRejection",r=>{if(!t)try{t=!0,iQ(e,r,"unhandledRejection")}finally{t=!1}})}o(UEe,"registerDefaultHandlers");d();d();d();var Fa=class{constructor(){this._prompt_lib_expectations=new Map;this._prompt_components_expectations=new Map;this._lastResolution=new Map;this._statistics=new Map}static{o(this,"ContextProviderStatistics")}addPromptLibExpectations(t,r){let n=this._prompt_lib_expectations.get(t)??[];this._prompt_lib_expectations.set(t,[...n,...r])}addPromptComponentsExpectations(t,r){let n=this._prompt_components_expectations.get(t)??[];this._prompt_components_expectations.set(t,[...n,...r])}clearExpectations(){this._prompt_lib_expectations.clear(),this._prompt_components_expectations.clear()}setLastResolution(t,r){this._lastResolution.set(t,r)}get(t){return this._statistics.get(t)}pop(t){let r=this._statistics.get(t);if(r)return this._statistics.delete(t),r}computeMatchWithPrompt(t){try{for(let[r,n]of this._prompt_lib_expectations){if(n.length===0)continue;let i=this._lastResolution.get(r)??"none";if(i==="none"||i==="error"){this._statistics.set(r,{usage:"none",resolution:i});continue}let s=0,a=!1;for(let u of n){if(u==oQ){a=!0;continue}t.includes(u)&&s++}let l=s/n.length,c;a?c=l===0?"none_content_excluded":"partial_content_excluded":c=l===1?"full":l===0?"none":"partial",this._statistics.set(r,{usage:c,resolution:i})}}finally{this.clearExpectations(),this._lastResolution.clear()}}computeMatch(t){try{for(let[r,n]of this._prompt_components_expectations){if(n.length===0)continue;let i=this._lastResolution.get(r)??"none";if(i==="none"||i==="error"){this._statistics.set(r,{usage:"none",resolution:i});continue}let s=[],a=!1;for(let[f,m]of n){let h={id:f.id,type:f.type};if(f.origin&&(h.origin=f.origin),m==="content_excluded"){a=!0,s.push({...h,usage:"none_content_excluded"});continue}let p=t.find(A=>A.source===f);p===void 0?s.push({...h,usage:"error"}):s.push({...h,usage:p.expectedTokens>0&&p.expectedTokens===p.actualTokens?"full":p.actualTokens>0?"partial":"none",expectedTokens:p.expectedTokens,actualTokens:p.actualTokens})}let c=s.reduce((f,m)=>m.usage==="full"?f+1:m.usage==="partial"?f+.5:f,0)/n.length,u;a?u=c===0?"none_content_excluded":"partial_content_excluded":u=c===1?"full":c===0?"none":"partial",this._statistics.set(r,{resolution:i,usage:u,usageDetails:s})}}finally{this.clearExpectations(),this._lastResolution.clear()}}};function qEe(e){return e.map(t=>{if(!(t.source===void 0||t.expectedTokens===void 0||t.actualTokens===void 0))return{source:t.source,expectedTokens:t.expectedTokens,actualTokens:t.actualTokens}}).filter(t=>t!==void 0)}o(qEe,"componentStatisticsToPromptMatcher");d();var WEe=I.Object({importance:I.Optional(I.Integer({minimum:0,maximum:100})),id:I.Optional(I.String()),origin:I.Optional(I.Union([I.Literal("request"),I.Literal("update")]))}),GEe=I.Intersect([I.Object({name:I.String(),value:I.String()}),WEe]),HEe=I.Intersect([I.Object({uri:I.String(),value:I.String(),additionalUris:I.Optional(I.Array(I.String()))}),WEe]),Wat=[GEe,HEe],Gat=I.Union(Wat),Hat=new Map([["Trait",Ds.Compile(GEe)],["CodeSnippet",Ds.Compile(HEe)]]),Vat=o(e=>e,"ensureTypesAreEqual");Vat(!0);var jat=I.Object({contextItems:I.Array(Gat)}),$at=I.Object({selector:I.Array(I.Union([I.String(),I.Object({language:I.Optional(I.String()),scheme:I.Optional(I.String()),pattern:I.Optional(I.String())})]))}),QZ=I.Object({id:I.String()}),zat=I.Intersect([QZ,$at]),Yat=I.Intersect([QZ,jat]),VEe=I.Object({providers:I.Array(zat)}),jEe=I.Object({providers:I.Array(QZ)}),MZ=I.Object({providers:I.Array(Yat),updating:I.Optional(I.Array(I.String()))}),sQ=I.Intersect([zAe,I.Object({contextItems:I.Optional(MZ)})]);function aQ(e,t){return e.map(r=>{let n=r.data.filter(i=>i.type===t);return n.length>0?{...r,data:n}:void 0}).filter(r=>r!==void 0)}o(aQ,"filterContextItemsByType");function $Ee(e){let t=[],r=0;return e.forEach(n=>{let i=!1;for(let[s,a]of Hat.entries())if(a.Check(n)){t.push({...n,type:s}),i=!0;break}i||r++}),[t,r]}o($Ee,"filterSupportedContextItems");function Kat(e){return e.length>0&&e.replaceAll(/[^a-zA-Z0-9-]/g,"").length===e.length}o(Kat,"validateContextItemId");function zEe(e,t){let r=new Set,n=[];for(let i of t){let s=i.id??Tr();if(!Kat(s)){let a=Tr();Zn.error(e,`Invalid context item ID ${s}, replacing with ${a}`),s=a}if(r.has(s)){let a=Tr();Zn.error(e,`Duplicate context item ID ${s}, replacing with ${a}`),s=a}r.add(s),n.push({...i,id:s})}return n}o(zEe,"addOrValidateContextItemsIDs");var oQ="content_excluded";async function lQ(e,t,r){let n=aQ(t,"CodeSnippet");if(n.length===0)return[];let i=new Set,s=n.flatMap(u=>u.data.map(f=>(i.add(f.uri),f.additionalUris?.forEach(m=>i.add(m)),{providerId:u.providerId,data:f}))),a=e.get(Vr),l=new Map;await Promise.all(Array.from(i).map(async u=>{l.set(u,await a.getTextDocumentValidation({uri:u}))}));let c=e.get(Fa);return s.filter(u=>{let m=[u.data.uri,...u.data.additionalUris??[]].every(h=>l.get(h)?.status==="valid");return m?(c.addPromptLibExpectations(u.providerId,[Gs(u.data.value,Ra(r))]),c.addPromptComponentsExpectations(u.providerId,[[u.data,"included"]])):(c.addPromptLibExpectations(u.providerId,[oQ]),c.addPromptComponentsExpectations(u.providerId,[[u.data,oQ]])),m}).map(u=>u.data)}o(lQ,"getCodeSnippetsFromContextItems");function cQ(e,t){let r=e.get(Vr);return t.map(n=>({snippet:n,relativePath:r.getRelativePath(n)}))}o(cQ,"addRelativePathToCodeSnippets");d();function js(e){if(e.children)return Array.isArray(e.children)?e.children.join(""):e.children}o(js,"Text");function YEe(e){return e.children}o(YEe,"Chunk");d();function On(e,t,r){let n=[];Array.isArray(t.children)?n=t.children:t.children&&(n=[t.children]);let i={...t,children:n};return r&&(i.key=r),{type:e,props:i}}o(On,"functionComponentFunction");function B1(e){return{type:"f",children:e}}o(B1,"fragmentFunction");B1.isFragmentFunction=!0;var KEe=o((e,t)=>{let[r,n]=t.useState(),[i,s]=t.useState();if(t.useData(Hc,f=>{f.codeSnippets!==r&&n(f.codeSnippets),f.document.uri!==i?.uri&&s(f.document)}),!r||r.length===0||!i)return;let a=Ra(i.detectedLanguageId),l=cQ(e.ctx,r),c=new Map;for(let f of l){let m=f.relativePath??f.snippet.uri,h=c.get(m);h===void 0&&(h=[],c.set(m,h)),h.push(f)}let u=[];for(let[f,m]of c.entries()){let h=m.filter(p=>p.snippet.value.length>0);h.length>0&&u.push({chunkElements:h.map(p=>p.snippet),importance:Math.max(...h.map(p=>p.snippet.importance??0)),uri:f})}if(u.length!==0)return u.sort((f,m)=>m.importance-f.importance),u.reverse(),u.map(f=>{let m=[];return m.push(On(js,{children:Gs(`Compare ${f.chunkElements.length>1?"these snippets":"this snippet"} from ${f.uri}:`,a)})),f.chunkElements.forEach((h,p)=>{m.push(On(js,{source:h,children:Gs(h.value,a)},h.id)),f.chunkElements.length>1&&p<f.chunkElements.length-1&&m.push(On(js,{children:Gs("---",a)}))}),On(YEe,{children:m})})},"CodeSnippets");d();d();function Jat(e){let t=e*4,r=e*.1;return Math.floor(t+r)}o(Jat,"approximateMaxCharacters");function Aw(e,t){let[r,n]=t.useState(),[i,s]=t.useState(),[a,l]=t.useState(0),[c,u]=t.useState();t.useData(Hc,m=>{let h=m.document;(m.document.uri!==r?.uri||h.getText()!==r?.getText())&&n(h),m.position!==i&&s(m.position),m.suffixMatchThreshold!==c&&u(m.suffixMatchThreshold),m.maxPromptTokens!==a&&l(m.maxPromptTokens)});let f=Jat(a);return On(B1,{children:[On(OZ,{document:r,position:i,maxCharacters:f}),On(UZ,{document:r,position:i,suffixMatchThreshold:c,maxCharacters:f})]})}o(Aw,"CurrentFile");function OZ(e){if(e.document===void 0||e.position===void 0)return On(js,{});let t=e.document.getText({start:{line:0,character:0},end:e.position});return t.length>e.maxCharacters&&(t=t.slice(-e.maxCharacters)),On(js,{children:t})}o(OZ,"BeforeCursor");function UZ(e,t){let[r,n]=t.useState("");if(e.document===void 0||e.position===void 0)return On(js,{});let i=e.document.getText({start:e.position,end:{line:Number.MAX_VALUE,character:Number.MAX_VALUE}});i.length>e.maxCharacters&&(i=i.slice(0,e.maxCharacters));let s=i.replace(/^.*/,"").trimStart();if(s==="")return On(js,{});if(r===s)return On(js,{children:r});let a=s;if(r!==""){let l=Ki(),c=l.takeFirstTokens(s,w5);c.tokens.length>0&&100*LF(c.tokens,l.takeFirstTokens(r,w5).tokens)?.score<(e.suffixMatchThreshold??ST)*c.tokens.length&&(a=r)}return a!==r&&n(a),On(js,{children:a})}o(UZ,"AfterCursor");d();var uQ=class{constructor(t){this.tokenizer=t}static{o(this,"WishlistElision")}elide(t,r,n,i=0){if(r<=0)throw new Error("Prefix limit must be greater than 0");let s=n??{componentPath:"",value:"",weight:1,nodeStatistics:{},type:"suffix"},[a,l]=this.preparePrefixBlocks(t),{elidedSuffix:c,adjustedPrefixTokenLimit:u}=this.elideSuffix(s,i,r,l),f=this.elidePrefix(a,u,l);return[c,...f]}preparePrefixBlocks(t){let r=0,n=new Set;return[t.map((s,a)=>{let l=this.tokenizer.tokenLength(s.value);r+=l;let c=s.componentPath;if(n.has(c))throw new Error(`Duplicate component path in prefix blocks: ${c}`);return n.add(c),{...s,tokens:l,markedForRemoval:!1,originalIndex:a}}),r]}elideSuffix(t,r,n,i){let s=t.value;if(s.length===0||r<=0)return{elidedSuffix:{...t,tokens:0,elidedValue:"",elidedTokens:0},adjustedPrefixTokenLimit:n+Math.max(0,r)};i<n&&(r=r+(n-i),n=i);let a=this.tokenizer.takeFirstTokens(s,r);return{elidedSuffix:{...t,value:s,tokens:this.tokenizer.tokenLength(s),elidedValue:a.text,elidedTokens:a.tokens.length},adjustedPrefixTokenLimit:n+Math.max(0,r-a.tokens.length)}}elidePrefix(t,r,n){let i=this.removeLowWeightPrefixBlocks(t,r,n),s=i.filter(u=>!u.markedForRemoval).flatMap(u=>u.value.split(/([^\n]*\n+)/).map(m=>({line:m,componentPath:u.componentPath}))).filter(u=>u.line!=="");if(s.length===0)return[];let[a,l]=this.trimPrefixLinesToFit(s,r),c=l;return i.map(u=>{if(u.markedForRemoval)return c+u.tokens<=r&&!u.chunk?(c+=u.tokens,{...u,elidedValue:u.value,elidedTokens:u.tokens}):{...u,elidedValue:"",elidedTokens:0};let f=a.filter(h=>h.componentPath===u.componentPath&&h.line!=="").map(h=>h.line).join(""),m=u.tokens;return f!==u.value&&(m=f!==""?this.tokenizer.tokenLength(f):0),{...u,elidedValue:f,elidedTokens:m}})}removeLowWeightPrefixBlocks(t,r,n){let i=n;t.sort((s,a)=>s.weight-a.weight);for(let s of t){if(i<=r)break;if(s.weight!==1&&!(s.chunk&&s.markedForRemoval))if(s.chunk)for(let a of t)a.chunk===s.chunk&&!a.markedForRemoval&&(a.markedForRemoval=!0,i-=a.tokens);else s.markedForRemoval=!0,i-=s.tokens}return t.sort((s,a)=>s.originalIndex-a.originalIndex).map(s=>{let{originalIndex:a,...l}=s;return l})}trimPrefixLinesToFit(t,r){let n=0,i=[];for(let s=t.length-1;s>=0;s--){let a=t[s],l=a.line,c=this.tokenizer.tokenLength(l);if(n+c<=r)i.unshift(a),n+=c;else break}if(i.length===0){let s=t[t.length-1];if(s&&s.line.length>0){let l=this.tokenizer.takeLastTokens(s.line,r);return i.push({line:l.text,componentPath:s.componentPath}),[i,l.tokens.length]}let a=`Cannot fit prefix within limit of ${r} tokens`;throw new Error(a)}return[i,n]}};function JEe(e){return e.map(t=>t.elidedValue).join("")}o(JEe,"makePrompt");function XEe(e){return e.filter(t=>t.type==="prefix").map(t=>t.elidedValue).join("")}o(XEe,"makePrefixPrompt");function ZEe(e,t){return e.filter(r=>r.type==="context").map(r=>wye(r.elidedValue,t)).join("").trim()}o(ZEe,"makeContextPrompt");d();var rve=tt(uI());var DQ=class{constructor(t){this.snapshot=t}static{o(this,"SnapshotWalker")}walkSnapshot(t){this.walkSnapshotNode(this.snapshot,void 0,t,1,void 0,void 0)}walkSnapshotNode(t,r,n,i,s,a){let l=t.props?.weight??1,u=(typeof l=="number"?Math.max(0,Math.min(1,l)):1)*i,m=t.name===rve.Chunk.name?t:s,h=t.props?.source??a;if(n(t,r,u,m,h))for(let A of t.children??[])this.walkSnapshotNode(A,t,n,u,m,h)}};var PQ=class{constructor(){this.renderId=0}static{o(this,"CompletionsPromptRenderer")}render(t,r,n){let i=this.renderId++,s=performance.now();try{if(n?.isCancellationRequested)return{status:"cancelled"};let a=r.delimiter??"",l=r.tokenizer??Ki(),{prefixBlocks:c,suffixBlock:u,componentStatistics:f}=this.processSnapshot(t,a),{prefixTokenLimit:m,suffixTokenLimit:h}=this.getPromptLimits(u,r),p=performance.now(),A=new uQ(l),[x,...E]=A.elide(c,m,u,h),v=performance.now(),b=JEe(E),S=XEe(E),B=ZEe(E,r.languageId),P=x.elidedValue,F=E.reduce((ne,ce)=>ne+ce.elidedTokens,0),q=F+x.elidedTokens;return f.push(...Hlt([...E,x])),{prefix:b,prefixTokens:F,suffix:P,suffixTokens:x.elidedTokens,prefixWithoutContext:S,context:B,tokens:q,status:"ok",metadata:{actualTokens:q,renderId:i,elisionTimeMs:v-p,renderTimeMs:performance.now()-s,componentStatistics:f,updateDataTimeMs:f.reduce((ne,ce)=>ne+(ce.updateDataTimeMs??0),0),status:"ok"}}}catch(a){return{status:"error",error:a}}}getPromptLimits(t,r){let n=t?.value??"",i=r.promptTokenLimit,s=r.suffixPercent;if(n.length==0||s==0)return{prefixTokenLimit:i,suffixTokenLimit:0};i=n.length>0?i-EJ:i;let a=Math.ceil(i*(s/100));return{prefixTokenLimit:i-a,suffixTokenLimit:a}}processSnapshot(t,r){let n=[],i=[],s=[],a=!1,l=!1,c=!1;if(new DQ(t).walkSnapshot((m,h,p,A,x)=>{if(m===t||(m.name===Aw.name?a=!0:m.name===OZ.name?l=!0:m.name===UZ.name&&(c=!0),m.statistics.updateDataTimeMs&&m.statistics.updateDataTimeMs>0&&s.push({componentPath:m.path,updateDataTimeMs:m.statistics.updateDataTimeMs}),m.value===void 0||m.value===""))return!0;if(c)i.push({value:m.value,type:"suffix",weight:p,componentPath:m.path,nodeStatistics:m.statistics,chunk:A?A.path:void 0,source:x});else{let E=m.value.endsWith(r)?m.value:m.value+r,v=l?m.value:E;n.push({type:l?"prefix":"context",value:v,weight:p,componentPath:m.path,nodeStatistics:m.statistics,chunk:A?A.path:void 0,source:x})}return!0}),!a)throw new Error(`Node of type ${Aw.name} not found`);if(i.length>1)throw new Error("Only one suffix is allowed");let f=i[0];return{prefixBlocks:n,suffixBlock:f,componentStatistics:s}}};function Hlt(e){return e.map(t=>{let r={componentPath:t.componentPath};return t.tokens!==0&&(r.expectedTokens=t.tokens,r.actualTokens=t.elidedTokens),t.nodeStatistics.updateDataTimeMs!==void 0&&(r.updateDataTimeMs=t.nodeStatistics.updateDataTimeMs),t.source&&(r.source=t.source),r})}o(Hlt,"computeComponentStatistics");d();var nve=o((e,t)=>{let[r,n]=t.useState();if(t.useData(Hc,i=>{n(i.telemetryData)}),r&&e.by(e.ctx,r))return e.children},"Gated");d();var ive=o((e,t)=>{let[r,n]=t.useState();if(t.useData(Hc,i=>{i.document.uri!==r?.uri&&n(i.document)}),r){let i=e.ctx.get(Vr),s=i.getRelativePath(r),a={uri:r.uri,source:r.getText(),relativePath:s,languageId:r.detectedLanguageId},l=i.findNotebook(r);return a.relativePath&&!l?On(Vlt,{docInfo:a}):On(jlt,{docInfo:a})}},"DocumentMarker"),Vlt=o(e=>On(js,{children:EF(e.docInfo)}),"PathMarker"),jlt=o(e=>On(js,{children:xF(e.docInfo)}),"LanguageMarker");d();d();d();d();d();var See=class{static{o(this,"ErrorHandler")}constructor(){this.listeners=[],this.unexpectedErrorHandler=function(t){setTimeout(()=>{throw t.stack?FQ.isErrorNoTelemetry(t)?new FQ(t.message+`

`+t.stack):new Error(t.message+`

`+t.stack):t},0)}}addListener(t){return this.listeners.push(t),()=>{this._removeListener(t)}}emit(t){this.listeners.forEach(r=>{r(t)})}_removeListener(t){this.listeners.splice(this.listeners.indexOf(t),1)}setUnexpectedErrorHandler(t){this.unexpectedErrorHandler=t}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(t){this.unexpectedErrorHandler(t),this.emit(t)}onUnexpectedExternalError(t){this.unexpectedErrorHandler(t)}},ove=new See;function E4(e){ove.onUnexpectedError(e)}o(E4,"onBugIndicatingError");function fI(e){$lt(e)||ove.onUnexpectedError(e)}o(fI,"onUnexpectedError");var _ee="Canceled";function $lt(e){return e instanceof Rp?!0:e instanceof Error&&e.name===_ee&&e.message===_ee}o($lt,"isCancellationError");var Rp=class extends Error{static{o(this,"CancellationError")}constructor(){super(_ee),this.name=this.message}};function Bw(e){return e?new Error(`Illegal argument: ${e}`):new Error("Illegal argument")}o(Bw,"illegalArgument");function sve(e){return e?new Error(`Illegal state: ${e}`):new Error("Illegal state")}o(sve,"illegalState");var FQ=class e extends Error{static{o(this,"ErrorNoTelemetry")}constructor(t){super(t),this.name="CodeExpectedError"}static fromError(t){if(t instanceof e)return t;let r=new e;return r.message=t.message,r.stack=t.stack,r}static isErrorNoTelemetry(t){return t.name==="CodeExpectedError"}},pi=class e extends Error{static{o(this,"BugIndicatingError")}constructor(t){super(t||"An unexpected bug occurred."),Object.setPrototypeOf(this,e.prototype)}};function NQ(e,t="Unreachable"){throw new Error(t)}o(NQ,"assertNever");function $c(e,t="unexpected state"){if(!e)throw new pi(`Assertion Failed: ${t}`)}o($c,"assert");function Y5(e){if(!e()){debugger;e(),fI(new pi("Assertion Failed"))}}o(Y5,"assertFn");function LQ(e,t){let r=0;for(;r<e.length-1;){let n=e[r],i=e[r+1];if(!t(n,i))return!1;r++}return!0}o(LQ,"checkAdjacentItems");d();d();d();function kee(e,t){let r=Gm(e,t);return r===-1?void 0:e[r]}o(kee,"findLastMonotonous");function Gm(e,t,r=0,n=e.length){let i=r,s=n;for(;i<s;){let a=Math.floor((i+s)/2);t(e[a])?i=a+1:s=a}return i-1}o(Gm,"findLastIdxMonotonous");function dI(e,t,r=0,n=e.length){let i=r,s=n;for(;i<s;){let a=Math.floor((i+s)/2);t(e[a])?s=a:i=a+1}return i}o(dI,"findFirstIdxMonotonousOrArrLen");var ave=class e{constructor(t){this._array=t;this._findLastMonotonousLastIdx=0}static{o(this,"MonotonousArray")}static{this.assertInvariants=!1}findLastMonotonous(t){if(e.assertInvariants){if(this._prevFindLastPredicate){for(let n of this._array)if(this._prevFindLastPredicate(n)&&!t(n))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=t}let r=Gm(this._array,t,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=r+1,r===-1?void 0:this._array[r]}};function Bee(e,t,r=(n,i)=>n===i){if(e===t)return!0;if(!e||!t||e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(!r(e[n],t[n]))return!1;return!0}o(Bee,"equals");function*cve(e,t){let r,n;for(let i of e)n!==void 0&&t(n,i)?r.push(i):(r&&(yield r),r=[i]),n=i;r&&(yield r)}o(cve,"groupAdjacentBy");function uve(e){return e.filter(t=>!!t)}o(uve,"coalesce");var fve;(l=>{function e(c){return c<0}l.isLessThan=e,o(e,"isLessThan");function t(c){return c<=0}l.isLessThanOrEqual=t,o(t,"isLessThanOrEqual");function r(c){return c>0}l.isGreaterThan=r,o(r,"isGreaterThan");function n(c){return c===0}l.isNeitherLessOrGreaterThan=n,o(n,"isNeitherLessOrGreaterThan"),l.greaterThan=1,l.lessThan=-1,l.neitherLessOrGreaterThan=0})(fve||={});function K5(e,t){return(r,n)=>t(e(r),e(n))}o(K5,"compareBy");var J5=o((e,t)=>e-t,"numberComparator");var QQ=class{constructor(t){this.items=t;this.firstIdx=0;this.lastIdx=this.items.length-1}static{o(this,"ArrayQueue")}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(t){let r=this.firstIdx;for(;r<this.items.length&&t(this.items[r]);)r++;let n=r===this.firstIdx?null:this.items.slice(this.firstIdx,r);return this.firstIdx=r,n}takeFromEndWhile(t){let r=this.lastIdx;for(;r>=0&&t(this.items[r]);)r--;let n=r===this.lastIdx?null:this.items.slice(r+1,this.lastIdx+1);return this.lastIdx=r,n}peek(){if(this.length!==0)return this.items[this.firstIdx]}peekLast(){if(this.length!==0)return this.items[this.lastIdx]}dequeue(){let t=this.items[this.firstIdx];return this.firstIdx++,t}removeLast(){let t=this.items[this.lastIdx];return this.lastIdx--,t}takeCount(t){let r=this.items.slice(this.firstIdx,this.firstIdx+t);return this.firstIdx+=t,r}},lve=class e{constructor(t){this.iterate=t}static{o(this,"CallbackIterable")}static{this.empty=new e(t=>{})}forEach(t){this.iterate(r=>(t(r),!0))}toArray(){let t=[];return this.iterate(r=>(t.push(r),!0)),t}filter(t){return new e(r=>this.iterate(n=>t(n)?r(n):!0))}map(t){return new e(r=>this.iterate(n=>r(t(n))))}some(t){let r=!1;return this.iterate(n=>(r=t(n),!r)),r}findFirst(t){let r;return this.iterate(n=>t(n)?(r=n,!1):!0),r}findLast(t){let r;return this.iterate(n=>(t(n)&&(r=n),!0)),r}findLastMaxBy(t){let r,n=!0;return this.iterate(i=>((n||fve.isGreaterThan(t(i,r)))&&(n=!1,r=i),!0)),r}};d();function pve(e,t){let r=Object.create(null);for(let n of e){let i=t(n),s=r[i];s||(s=r[i]=[]),s.push(n)}return r}o(pve,"groupBy");var mve,hve,dve=class{constructor(t,r){this.toKey=r;this._map=new Map;this[mve]="SetWithKey";for(let n of t)this.add(n)}static{o(this,"SetWithKey")}get size(){return this._map.size}add(t){let r=this.toKey(t);return this._map.set(r,t),this}delete(t){return this._map.delete(this.toKey(t))}has(t){return this._map.has(this.toKey(t))}*entries(){for(let t of this._map.values())yield[t,t]}keys(){return this.values()}*values(){for(let t of this._map.values())yield t}clear(){this._map.clear()}forEach(t,r){this._map.forEach(n=>t.call(r,n,n,this))}[(hve=Symbol.iterator,mve=Symbol.toStringTag,hve)](){return this.values()}};d();function Ree(e,t){let r=this,n=!1,i;return function(){if(n)return i;if(n=!0,t)try{i=e.apply(r,arguments)}finally{t()}else i=e.apply(r,arguments);return i}}o(Ree,"createSingleCallFunction");d();var Dee;(S=>{function e(B){return B&&typeof B=="object"&&typeof B[Symbol.iterator]=="function"}S.is=e,o(e,"is");let t=Object.freeze([]);function r(){return t}S.empty=r,o(r,"empty");function*n(B){yield B}S.single=n,o(n,"single");function i(B){return e(B)?B:n(B)}S.wrap=i,o(i,"wrap");function s(B){return B||t}S.from=s,o(s,"from");function*a(B){for(let P=B.length-1;P>=0;P--)yield B[P]}S.reverse=a,o(a,"reverse");function l(B){return!B||B[Symbol.iterator]().next().done===!0}S.isEmpty=l,o(l,"isEmpty");function c(B){return B[Symbol.iterator]().next().value}S.first=c,o(c,"first");function u(B,P){let F=0;for(let q of B)if(P(q,F++))return!0;return!1}S.some=u,o(u,"some");function f(B,P){for(let F of B)if(P(F))return F}S.find=f,o(f,"find");function*m(B,P){for(let F of B)P(F)&&(yield F)}S.filter=m,o(m,"filter");function*h(B,P){let F=0;for(let q of B)yield P(q,F++)}S.map=h,o(h,"map");function*p(B,P){let F=0;for(let q of B)yield*P(q,F++)}S.flatMap=p,o(p,"flatMap");function*A(...B){for(let P of B)yield*P}S.concat=A,o(A,"concat");function x(B,P,F){let q=F;for(let ne of B)q=P(q,ne);return q}S.reduce=x,o(x,"reduce");function*E(B,P,F=B.length){for(P<-B.length&&(P=0),P<0&&(P+=B.length),F<0?F+=B.length:F>B.length&&(F=B.length);P<F;P++)yield B[P]}S.slice=E,o(E,"slice");function v(B,P=Number.POSITIVE_INFINITY){let F=[];if(P===0)return[F,B];let q=B[Symbol.iterator]();for(let ne=0;ne<P;ne++){let ce=q.next();if(ce.done)return[F,S.empty()];F.push(ce.value)}return[F,{[Symbol.iterator](){return q}}]}S.consume=v,o(v,"consume");async function b(B){let P=[];for await(let F of B)P.push(F);return Promise.resolve(P)}S.asyncToArray=b,o(b,"asyncToArray")})(Dee||={});d();var Pee=class{constructor(t,r){this.uri=t;this.value=r}static{o(this,"ResourceMapEntry")}};function Ylt(e){return Array.isArray(e)}o(Ylt,"isEntries");var Ave,MQ=class e{constructor(t,r){this[Ave]="ResourceMap";if(t instanceof e)this.map=new Map(t.map),this.toKey=r??e.defaultToKey;else if(Ylt(t)){this.map=new Map,this.toKey=r??e.defaultToKey;for(let[n,i]of t)this.set(n,i)}else this.map=new Map,this.toKey=t??e.defaultToKey}static{o(this,"ResourceMap")}static{this.defaultToKey=o(t=>t.toString(),"defaultToKey")}set(t,r){return this.map.set(this.toKey(t),new Pee(t,r)),this}get(t){return this.map.get(this.toKey(t))?.value}has(t){return this.map.has(this.toKey(t))}get size(){return this.map.size}clear(){this.map.clear()}delete(t){return this.map.delete(this.toKey(t))}forEach(t,r){typeof r<"u"&&(t=t.bind(r));for(let[n,i]of this.map)t(i.value,i.uri,this)}*values(){for(let t of this.map.values())yield t.value}*keys(){for(let t of this.map.values())yield t.uri}*entries(){for(let t of this.map.values())yield[t.uri,t.value]}*[(Ave=Symbol.toStringTag,Symbol.iterator)](){for(let[,t]of this.map)yield[t.uri,t.value]}},yve,gve=class{constructor(t,r){this[yve]="ResourceSet";!t||typeof t=="function"?this._map=new MQ(t):(this._map=new MQ(r),t.forEach(this.add,this))}static{o(this,"ResourceSet")}get size(){return this._map.size}add(t){return this._map.set(t,t),this}clear(){this._map.clear()}delete(t){return this._map.delete(t)}forEach(t,r){this._map.forEach((n,i)=>t.call(r,i,i,this))}has(t){return this._map.has(t)}entries(){return this._map.entries()}keys(){return this._map.keys()}values(){return this._map.keys()}[(yve=Symbol.toStringTag,Symbol.iterator)](){return this.keys()}};var Cve,Fee=class{constructor(){this[Cve]="LinkedMap";this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}static{o(this,"LinkedMap")}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(t){return this._map.has(t)}get(t,r=0){let n=this._map.get(t);if(n)return r!==0&&this.touch(n,r),n.value}set(t,r,n=0){let i=this._map.get(t);if(i)i.value=r,n!==0&&this.touch(i,n);else{switch(i={key:t,value:r,next:void 0,previous:void 0},n){case 0:this.addItemLast(i);break;case 1:this.addItemFirst(i);break;case 2:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let r=this._map.get(t);if(r)return this._map.delete(t),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._state,i=this._head;for(;i;){if(r?t.bind(r)(i.value,i.key,this):t(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.key,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}values(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.value,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}entries(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:[n.key,n.value],done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}[(Cve=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}trimNew(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._tail,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.previous,n--;this._tail=r,this._size=n,r&&(r.next=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}t.next=void 0,t.previous=void 0,this._state++}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==1&&r!==2)){if(r===1){if(t===this._head)return;let n=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(r===2){if(t===this._tail)return;let n=t.next,i=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((r,n)=>{t.push([n,r])}),t}fromJSON(t){this.clear();for(let[r,n]of t)this.set(r,n)}},Nee=class extends Fee{static{o(this,"Cache")}constructor(t,r=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,r=2){return super.get(t,r)}peek(t){return super.get(t,0)}set(t,r){return super.set(t,r,2),this}checkTrim(){this.size>this._limit&&this.trim(Math.round(this._limit*this._ratio))}},OQ=class extends Nee{static{o(this,"LRUCache")}constructor(t,r=1){super(t,r)}trim(t){this.trimOld(t)}set(t,r){return super.set(t,r),this.checkTrim(),this}};var UQ=class{constructor(){this.map=new Map}static{o(this,"SetMap")}add(t,r){let n=this.map.get(t);n||(n=new Set,this.map.set(t,n)),n.add(r)}delete(t,r){let n=this.map.get(t);n&&(n.delete(r),n.size===0&&this.map.delete(t))}forEach(t,r){let n=this.map.get(t);n&&n.forEach(r)}get(t){let r=this.map.get(t);return r||new Set}};var Klt=!1,mI=null;var xve=class e{constructor(){this.livingDisposables=new Map}static{o(this,"DisposableTracker")}static{this.idx=0}getDisposableData(t){let r=this.livingDisposables.get(t);return r||(r={parent:null,source:null,isSingleton:!1,value:t,idx:e.idx++},this.livingDisposables.set(t,r)),r}trackDisposable(t){let r=this.getDisposableData(t);r.source||(r.source=new Error().stack)}setParent(t,r){let n=this.getDisposableData(t);n.parent=r}markAsDisposed(t){this.livingDisposables.delete(t)}markAsSingleton(t){this.getDisposableData(t).isSingleton=!0}getRootParent(t,r){let n=r.get(t);if(n)return n;let i=t.parent?this.getRootParent(this.getDisposableData(t.parent),r):t;return r.set(t,i),i}getTrackedDisposables(){let t=new Map;return[...this.livingDisposables.entries()].filter(([,n])=>n.source!==null&&!this.getRootParent(n,t).isSingleton).flatMap(([n])=>n)}computeLeakingDisposables(t=10,r){let n;if(r)n=r;else{let c=new Map,u=[...this.livingDisposables.values()].filter(m=>m.source!==null&&!this.getRootParent(m,c).isSingleton);if(u.length===0)return;let f=new Set(u.map(m=>m.value));if(n=u.filter(m=>!(m.parent&&f.has(m.parent))),n.length===0)throw new Error("There are cyclic diposable chains!")}if(!n)return;function i(c){function u(m,h){for(;m.length>0&&h.some(p=>typeof p=="string"?p===m[0]:m[0].match(p));)m.shift()}o(u,"removePrefix");let f=c.source.split(`
`).map(m=>m.trim().replace("at ","")).filter(m=>m!=="");return u(f,["Error",/^trackDisposable \(.*\)$/,/^DisposableTracker.trackDisposable \(.*\)$/]),f.reverse()}o(i,"getStackTracePath");let s=new UQ;for(let c of n){let u=i(c);for(let f=0;f<=u.length;f++)s.add(u.slice(0,f).join(`
`),c)}n.sort(K5(c=>c.idx,J5));let a="",l=0;for(let c of n.slice(0,t)){l++;let u=i(c),f=[];for(let m=0;m<u.length;m++){let h=u[m];h=`(shared with ${s.get(u.slice(0,m+1).join(`
`)).size}/${n.length} leaks) at ${h}`;let A=s.get(u.slice(0,m).join(`
`)),x=pve([...A].map(E=>i(E)[m]),E=>E);delete x[u[m]];for(let[E,v]of Object.entries(x))f.unshift(`    - stacktraces of ${v.length} other leaks continue with ${E}`);f.unshift(h)}a+=`


==================== Leaking disposable ${l}/${n.length}: ${c.value.constructor.name} ====================
${f.join(`
`)}
============================================================

`}return n.length>t&&(a+=`


... and ${n.length-t} more leaking disposables

`),{leaks:n,details:a}}};function Jlt(e){mI=e}o(Jlt,"setDisposableTracker");if(Klt){let e="__is_disposable_tracked__";Jlt(new class{trackDisposable(t){let r=new Error("Potentially leaked disposable").stack;setTimeout(()=>{t[e]||console.log(r)},3e3)}setParent(t,r){if(t&&t!==ua.None)try{t[e]=!0}catch{}}markAsDisposed(t){if(t&&t!==ua.None)try{t[e]=!0}catch{}}markAsSingleton(t){}})}function hI(e){return mI?.trackDisposable(e),e}o(hI,"trackDisposable");function pI(e){mI?.markAsDisposed(e)}o(pI,"markAsDisposed");function Lee(e,t){mI?.setParent(e,t)}o(Lee,"setParentOfDisposable");function Xlt(e,t){if(mI)for(let r of e)mI.setParent(r,t)}o(Xlt,"setParentOfDisposables");function Eve(e){return typeof e=="object"&&e!==null&&typeof e.dispose=="function"&&e.dispose.length===0}o(Eve,"isDisposable");function qQ(e){if(Dee.is(e)){let t=[];for(let r of e)if(r)try{r.dispose()}catch(n){t.push(n)}if(t.length===1)throw t[0];if(t.length>1)throw new AggregateError(t,"Encountered errors while disposing of store");return Array.isArray(e)?[]:e}else if(e)return e.dispose(),e}o(qQ,"dispose");function bve(...e){let t=fa(()=>qQ(e));return Xlt(e,t),t}o(bve,"combinedDisposable");function fa(e){let t=hI({dispose:Ree(()=>{pI(t),e()})});return t}o(fa,"toDisposable");var J0=class e{constructor(){this._toDispose=new Set;this._isDisposed=!1;hI(this)}static{o(this,"DisposableStore")}static{this.DISABLE_DISPOSED_WARNING=!1}dispose(){this._isDisposed||(pI(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{qQ(this._toDispose)}finally{this._toDispose.clear()}}add(t){if(!t)return t;if(t===this)throw new Error("Cannot register a disposable on itself!");return Lee(t,this),this._isDisposed?e.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(t),t}delete(t){if(t){if(t===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(t),t.dispose()}}deleteAndLeak(t){t&&this._toDispose.has(t)&&(this._toDispose.delete(t),Lee(t,null))}},ua=class{constructor(){this._store=new J0;hI(this),Lee(this._store,this)}static{o(this,"Disposable")}static{this.None=Object.freeze({dispose(){}})}dispose(){pI(this),this._store.dispose()}_register(t){if(t===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(t)}};d();d();d();d();d();var F1=o((e,t)=>e===t,"strictEquals");d();d();var vve=class e{static{o(this,"Node")}static{this.Undefined=new e(void 0)}constructor(t){this.element=t,this.next=e.Undefined,this.prev=e.Undefined}};d();var Zlt=globalThis.performance&&typeof globalThis.performance.now=="function",WQ=class e{static{o(this,"StopWatch")}static create(t){return new e(t)}constructor(t){this._now=Zlt&&t===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}};var Ive=!1,e0t=!1,b4;(J=>{J.None=o(()=>ua.None,"None");function t(H){if(e0t){let{onDidAddListener:M}=H,j=Rw.create(),X=0;H.onDidAddListener=()=>{++X===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),j.print()),M?.()}}}o(t,"_addLeakageTraceLogic");function r(H,M){return p(H,()=>{},0,void 0,!0,void 0,M)}J.defer=r,o(r,"defer");function n(H){return(M,j=null,X)=>{let ae=!1,re;return re=H(le=>{if(!ae)return re?re.dispose():ae=!0,M.call(j,le)},null,X),ae&&re.dispose(),re}}J.once=n,o(n,"once");function i(H,M){return J.once(J.filter(H,M))}J.onceIf=i,o(i,"onceIf");function s(H,M,j){return m((X,ae=null,re)=>H(le=>X.call(ae,M(le)),null,re),j)}J.map=s,o(s,"map");function a(H,M,j){return m((X,ae=null,re)=>H(le=>{M(le),X.call(ae,le)},null,re),j)}J.forEach=a,o(a,"forEach");function l(H,M,j){return m((X,ae=null,re)=>H(le=>M(le)&&X.call(ae,le),null,re),j)}J.filter=l,o(l,"filter");function c(H){return H}J.signal=c,o(c,"signal");function u(...H){return(M,j=null,X)=>{let ae=bve(...H.map(re=>re(le=>M.call(j,le))));return h(ae,X)}}J.any=u,o(u,"any");function f(H,M,j,X){let ae=j;return s(H,re=>(ae=M(ae,re),ae),X)}J.reduce=f,o(f,"reduce");function m(H,M){let j,X={onWillAddFirstListener(){j=H(ae.fire,ae)},onDidRemoveLastListener(){j?.dispose()}};M||t(X);let ae=new zu(X);return M?.add(ae),ae.event}o(m,"snapshot");function h(H,M){return M instanceof Array?M.push(H):M&&M.add(H),H}o(h,"addAndReturnDisposable");function p(H,M,j=100,X=!1,ae=!1,re,le){let de,Re,Ee,Oe=0,_e,Je={leakWarningThreshold:re,onWillAddFirstListener(){de=H(ot=>{Oe++,Re=M(Re,ot),X&&!Ee&&(ut.fire(Re),Re=void 0),_e=o(()=>{let at=Re;Re=void 0,Ee=void 0,(!X||Oe>1)&&ut.fire(at),Oe=0},"doFire"),typeof j=="number"?(clearTimeout(Ee),Ee=setTimeout(_e,j)):Ee===void 0&&(Ee=0,queueMicrotask(_e))})},onWillRemoveListener(){ae&&Oe>0&&_e?.()},onDidRemoveLastListener(){_e=void 0,de.dispose()}};le||t(Je);let ut=new zu(Je);return le?.add(ut),ut.event}J.debounce=p,o(p,"debounce");function A(H,M=0,j){return J.debounce(H,(X,ae)=>X?(X.push(ae),X):[ae],M,void 0,!0,void 0,j)}J.accumulate=A,o(A,"accumulate");function x(H,M=(X,ae)=>X===ae,j){let X=!0,ae;return l(H,re=>{let le=X||!M(re,ae);return X=!1,ae=re,le},j)}J.latch=x,o(x,"latch");function E(H,M,j){return[J.filter(H,M,j),J.filter(H,X=>!M(X),j)]}J.split=E,o(E,"split");function v(H,M=!1,j=[],X){let ae=j.slice(),re=H(Re=>{ae?ae.push(Re):de.fire(Re)});X&&X.add(re);let le=o(()=>{ae?.forEach(Re=>de.fire(Re)),ae=null},"flush"),de=new zu({onWillAddFirstListener(){re||(re=H(Re=>de.fire(Re)),X&&X.add(re))},onDidAddFirstListener(){ae&&(M?setTimeout(le):le())},onDidRemoveLastListener(){re&&re.dispose(),re=null}});return X&&X.add(de),de.event}J.buffer=v,o(v,"buffer");function b(H,M){return o((X,ae,re)=>{let le=M(new B);return H(function(de){let Re=le.evaluate(de);Re!==S&&X.call(ae,Re)},void 0,re)},"fn")}J.chain=b,o(b,"chain");let S=Symbol("HaltChainable");class B{constructor(){this.steps=[]}static{o(this,"ChainableSynthesis")}map(M){return this.steps.push(M),this}forEach(M){return this.steps.push(j=>(M(j),j)),this}filter(M){return this.steps.push(j=>M(j)?j:S),this}reduce(M,j){let X=j;return this.steps.push(ae=>(X=M(X,ae),X)),this}latch(M=(j,X)=>j===X){let j=!0,X;return this.steps.push(ae=>{let re=j||!M(ae,X);return j=!1,X=ae,re?ae:S}),this}evaluate(M){for(let j of this.steps)if(M=j(M),M===S)break;return M}}function P(H,M,j=X=>X){let X=o((...de)=>le.fire(j(...de)),"fn"),ae=o(()=>H.on(M,X),"onFirstListenerAdd"),re=o(()=>H.removeListener(M,X),"onLastListenerRemove"),le=new zu({onWillAddFirstListener:ae,onDidRemoveLastListener:re});return le.event}J.fromNodeEventEmitter=P,o(P,"fromNodeEventEmitter");function F(H,M,j=X=>X){let X=o((...de)=>le.fire(j(...de)),"fn"),ae=o(()=>H.addEventListener(M,X),"onFirstListenerAdd"),re=o(()=>H.removeEventListener(M,X),"onLastListenerRemove"),le=new zu({onWillAddFirstListener:ae,onDidRemoveLastListener:re});return le.event}J.fromDOMEventEmitter=F,o(F,"fromDOMEventEmitter");function q(H,M){return new Promise(j=>n(H)(j,null,M))}J.toPromise=q,o(q,"toPromise");function ne(H){let M=new zu;return H.then(j=>{M.fire(j)},()=>{M.fire(void 0)}).finally(()=>{M.dispose()}),M.event}J.fromPromise=ne,o(ne,"fromPromise");function ce(H,M){return H(j=>M.fire(j))}J.forward=ce,o(ce,"forward");function Z(H,M,j){return M(j),H(X=>M(X))}J.runAndSubscribe=Z,o(Z,"runAndSubscribe");class G{constructor(M,j){this._observable=M;this._counter=0;this._hasChanged=!1;let X={onWillAddFirstListener:o(()=>{M.addObserver(this),this._observable.reportChanges()},"onWillAddFirstListener"),onDidRemoveLastListener:o(()=>{M.removeObserver(this)},"onDidRemoveLastListener")};j||t(X),this.emitter=new zu(X),j&&j.add(this.emitter)}static{o(this,"EmitterObserver")}beginUpdate(M){this._counter++}handlePossibleChange(M){}handleChange(M,j){this._hasChanged=!0}endUpdate(M){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function U(H,M){return new G(H,M).emitter.event}J.fromObservable=U,o(U,"fromObservable");function ie(H){return(M,j,X)=>{let ae=0,re=!1,le={beginUpdate(){ae++},endUpdate(){ae--,ae===0&&(H.reportChanges(),re&&(re=!1,M.call(j)))},handlePossibleChange(){},handleChange(){re=!0}};H.addObserver(le),H.reportChanges();let de={dispose(){H.removeObserver(le)}};return X instanceof J0?X.add(de):Array.isArray(X)&&X.push(de),de}}J.fromObservableLight=ie,o(ie,"fromObservableLight")})(b4||={});var Qee=class e{constructor(t){this.listenerCount=0;this.invocationCount=0;this.elapsedOverall=0;this.durations=[];this.name=`${t}_${e._idPool++}`,e.all.add(this)}static{o(this,"EventProfiling")}static{this.all=new Set}static{this._idPool=0}start(t){this._stopWatch=new WQ,this.listenerCount=t}stop(){if(this._stopWatch){let t=this._stopWatch.elapsed();this.durations.push(t),this.elapsedOverall+=t,this.invocationCount+=1,this._stopWatch=void 0}}},Tve=-1;var Mee=class e{constructor(t,r,n=(e._idPool++).toString(16).padStart(3,"0")){this._errorHandler=t;this.threshold=r;this.name=n;this._warnCountdown=0}static{o(this,"LeakageMonitor")}static{this._idPool=1}dispose(){this._stacks?.clear()}check(t,r){let n=this.threshold;if(n<=0||r<n)return;this._stacks||(this._stacks=new Map);let i=this._stacks.get(t.value)||0;if(this._stacks.set(t.value,i+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=n*.5;let[s,a]=this.getMostFrequentStack(),l=`[${this.name}] potential listener LEAK detected, having ${r} listeners already. MOST frequent listener (${a}):`;console.warn(l),console.warn(s);let c=new Oee(l,s);this._errorHandler(c)}return()=>{let s=this._stacks.get(t.value)||0;this._stacks.set(t.value,s-1)}}getMostFrequentStack(){if(!this._stacks)return;let t,r=0;for(let[n,i]of this._stacks)(!t||r<i)&&(t=[n,i],r=i);return t}},Rw=class e{constructor(t){this.value=t}static{o(this,"Stacktrace")}static create(){let t=new Error;return new e(t.stack??"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},Oee=class extends Error{static{o(this,"ListenerLeakError")}constructor(t,r){super(t),this.name="ListenerLeakError",this.stack=r}},Uee=class extends Error{static{o(this,"ListenerRefusalError")}constructor(t,r){super(t),this.name="ListenerRefusalError",this.stack=r}},t0t=0,gI=class{constructor(t){this.value=t;this.id=t0t++}static{o(this,"UniqueContainer")}},r0t=2,n0t=o((e,t)=>{if(e instanceof gI)t(e);else for(let r=0;r<e.length;r++){let n=e[r];n&&t(n)}},"forEachListener"),zu=class{constructor(t){this._size=0;this._options=t,this._leakageMon=Tve>0||this._options?.leakWarningThreshold?new Mee(t?.onListenerError??fI,this._options?.leakWarningThreshold??Tve):void 0,this._perfMon=this._options?._profName?new Qee(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}static{o(this,"Emitter")}dispose(){if(!this._disposed){if(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners){if(Ive){let t=this._listeners;queueMicrotask(()=>{n0t(t,r=>r.stack?.print())})}this._listeners=void 0,this._size=0}this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose()}}get event(){return this._event??=(t,r,n)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){let c=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(c);let u=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],f=new Uee(`${c}. HINT: Stack shows most frequent listener (${u[1]}-times)`,u[0]);return(this._options?.onListenerError||fI)(f),ua.None}if(this._disposed)return ua.None;r&&(t=t.bind(r));let i=new gI(t),s,a;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(i.stack=Rw.create(),s=this._leakageMon.check(i.stack,this._size+1)),Ive&&(i.stack=a??Rw.create()),this._listeners?this._listeners instanceof gI?(this._deliveryQueue??=new qee,this._listeners=[this._listeners,i]):this._listeners.push(i):(this._options?.onWillAddFirstListener?.(this),this._listeners=i,this._options?.onDidAddFirstListener?.(this)),this._options?.onDidAddListener?.(this),this._size++;let l=fa(()=>{s?.(),this._removeListener(i)});return n instanceof J0?n.add(l):Array.isArray(n)&&n.push(l),l},this._event}_removeListener(t){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(this._size===1){this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),this._size=0;return}let r=this._listeners,n=r.indexOf(t);if(n===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,r[n]=void 0;let i=this._deliveryQueue.current===this;if(this._size*r0t<=r.length){let s=0;for(let a=0;a<r.length;a++)r[a]?r[s++]=r[a]:i&&s<this._deliveryQueue.end&&(this._deliveryQueue.end--,s<this._deliveryQueue.i&&this._deliveryQueue.i--);r.length=s}}_deliver(t,r){if(!t)return;let n=this._options?.onListenerError||fI;if(!n){t.value(r);return}try{t.value(r)}catch(i){n(i)}}_deliverQueue(t){let r=t.current._listeners;for(;t.i<t.end;)this._deliver(r[t.i++],t.value);t.reset()}fire(t){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof gI)this._deliver(this._listeners,t);else{let r=this._deliveryQueue;r.enqueue(this,t,this._listeners.length),this._deliverQueue(r)}this._perfMon?.stop()}hasListeners(){return this._size>0}};var qee=class{constructor(){this.i=-1;this.end=0}static{o(this,"EventDeliveryQueuePrivate")}enqueue(t,r,n){this.i=0,this.end=n,this.current=t,this.value=r}reset(){this.i=this.end,this.current=void 0,this.value=void 0}};d();var X0=class{constructor(t,r,n){this.owner=t;this.debugNameSource=r;this.referenceFn=n}static{o(this,"DebugNameData")}getDebugName(t){return kve(t,this)}},wve=new Map,Wee=new WeakMap;function kve(e,t){let r=Wee.get(e);if(r)return r;let n=i0t(e,t);if(n){let i=wve.get(n)??0;i++,wve.set(n,i);let s=i===1?n:`${n}#${i}`;return Wee.set(e,s),s}}o(kve,"getDebugName");function i0t(e,t){let r=Wee.get(e);if(r)return r;let n=t.owner?s0t(t.owner)+".":"",i,s=t.debugNameSource;if(s!==void 0)if(typeof s=="function"){if(i=s(),i!==void 0)return n+i}else return n+s;let a=t.referenceFn;if(a!==void 0&&(i=GQ(a),i!==void 0))return n+i;if(t.owner!==void 0){let l=o0t(t.owner,e);if(l!==void 0)return n+l}}o(i0t,"computeDebugName");function o0t(e,t){for(let r in e)if(e[r]===t)return r}o(o0t,"findKey");var Sve=new Map,_ve=new WeakMap;function s0t(e){let t=_ve.get(e);if(t)return t;let r=a0t(e),n=Sve.get(r)??0;n++,Sve.set(r,n);let i=n===1?r:`${r}#${n}`;return _ve.set(e,i),i}o(s0t,"formatOwner");function a0t(e){let t=e.constructor;return t?t.name:"Object"}o(a0t,"getClassName");function GQ(e){let t=e.toString(),n=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(t);return(n?n[1]:void 0)?.trim()}o(GQ,"getFunctionName");d();var v4;function VQ(e){v4?v4 instanceof HQ?v4.loggers.push(e):v4=new HQ([v4,e]):v4=e}o(VQ,"addLogger");function xs(){return v4}o(xs,"getLogger");var Gee;function Bve(e){Gee=e}o(Bve,"setLogObservableFn");function Rve(e){Gee&&Gee(e)}o(Rve,"logObservable");var HQ=class{constructor(t){this.loggers=t}static{o(this,"ComposedLogger")}handleObservableCreated(t){for(let r of this.loggers)r.handleObservableCreated(t)}handleOnListenerCountChanged(t,r){for(let n of this.loggers)n.handleOnListenerCountChanged(t,r)}handleObservableUpdated(t,r){for(let n of this.loggers)n.handleObservableUpdated(t,r)}handleAutorunCreated(t){for(let r of this.loggers)r.handleAutorunCreated(t)}handleAutorunDisposed(t){for(let r of this.loggers)r.handleAutorunDisposed(t)}handleAutorunDependencyChanged(t,r,n){for(let i of this.loggers)i.handleAutorunDependencyChanged(t,r,n)}handleAutorunStarted(t){for(let r of this.loggers)r.handleAutorunStarted(t)}handleAutorunFinished(t){for(let r of this.loggers)r.handleAutorunFinished(t)}handleDerivedDependencyChanged(t,r,n){for(let i of this.loggers)i.handleDerivedDependencyChanged(t,r,n)}handleDerivedCleared(t){for(let r of this.loggers)r.handleDerivedCleared(t)}handleBeginTransaction(t){for(let r of this.loggers)r.handleBeginTransaction(t)}handleEndTransaction(t){for(let r of this.loggers)r.handleEndTransaction(t)}};var Dve;function Pve(e){Dve=e}o(Pve,"_setRecomputeInitiallyAndOnChange");var Fve;function Nve(e){Fve=e}o(Nve,"_setKeepObserved");var Hee;function Lve(e){Hee=e}o(Lve,"_setDerivedOpts");var jQ=class{static{o(this,"ConvenientObservable")}get TChange(){return null}reportChanges(){this.get()}read(t){return t?t.readObservable(this):this.get()}map(t,r){let n=r===void 0?void 0:t,i=r===void 0?t:r;return Hee({owner:n,debugName:o(()=>{let s=GQ(i);if(s!==void 0)return s;let l=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(i.toString());if(l)return`${this.debugName}.${l[2]}`;if(!n)return`${this.debugName} (mapped)`},"debugName"),debugReferenceFn:i},s=>i(this.read(s),s))}flatten(){return Hee({owner:void 0,debugName:o(()=>`${this.debugName} (flattened)`,"debugName")},t=>this.read(t).read(t))}recomputeInitiallyAndOnChange(t,r){return t.add(Dve(this,r)),this}keepObserved(t){return t.add(Fve(this)),this}get debugValue(){return this.get()}},X5=class extends jQ{constructor(){super();this.observers=new Set;xs()?.handleObservableCreated(this)}static{o(this,"BaseObservable")}addObserver(r){let n=this.observers.size;this.observers.add(r),n===0&&this.onFirstObserverAdded(),n!==this.observers.size&&xs()?.handleOnListenerCountChanged(this,this.observers.size)}removeObserver(r){let n=this.observers.delete(r);n&&this.observers.size===0&&this.onLastObserverRemoved(),n&&xs()?.handleOnListenerCountChanged(this,this.observers.size)}onFirstObserverAdded(){}onLastObserverRemoved(){}log(){let r=!!xs();return Rve(this),r||xs()?.handleObservableCreated(this),this}};function zQ(e,t){let r=new AI(e,t);try{e(r)}finally{r.finish()}}o(zQ,"transaction");function Vee(e,t,r){e?t(e):zQ(t,r)}o(Vee,"subtransaction");var AI=class{constructor(t,r){this._fn=t;this._getDebugName=r;this.updatingObservers=[];xs()?.handleBeginTransaction(this)}static{o(this,"TransactionImpl")}getDebugName(){return this._getDebugName?this._getDebugName():GQ(this._fn)}updateObserver(t,r){this.updatingObservers.push({observer:t,observable:r}),t.beginUpdate(r)}finish(){let t=this.updatingObservers;for(let r=0;r<t.length;r++){let{observer:n,observable:i}=t[r];n.endUpdate(i)}this.updatingObservers=null,xs()?.handleEndTransaction(this)}};function Hm(e,t){let r;return typeof e=="string"?r=new X0(void 0,e,void 0):r=new X0(e,void 0,void 0),new $Q(r,t,F1)}o(Hm,"observableValue");var $Q=class extends X5{constructor(r,n,i){super();this._debugNameData=r;this._equalityComparator=i;this._value=n,xs()?.handleObservableUpdated(this,{hadValue:!1,newValue:n,change:void 0,didChange:!0,oldValue:void 0})}static{o(this,"ObservableValue")}get debugName(){return this._debugNameData.getDebugName(this)??"ObservableValue"}get(){return this._value}set(r,n,i){if(i===void 0&&this._equalityComparator(this._value,r))return;let s;n||(n=s=new AI(()=>{},()=>`Setting ${this.debugName}`));try{let a=this._value;this._setValue(r),xs()?.handleObservableUpdated(this,{oldValue:a,newValue:r,change:i,didChange:!0,hadValue:!0});for(let l of this.observers)n.updateObserver(l,this),l.handleChange(this,i)}finally{s&&s.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(r){this._value=r}};d();d();function I4(e){return new yI(new X0(void 0,void 0,e),e,void 0,void 0)}o(I4,"autorun");function jee(e,t){return new yI(new X0(e.owner,e.debugName,e.debugReferenceFn??t),t,void 0,void 0)}o(jee,"autorunOpts");function YQ(e,t){return new yI(new X0(e.owner,e.debugName,e.debugReferenceFn??t),t,e.createEmptyChangeSummary,e.handleChange)}o(YQ,"autorunHandleChanges");function $ee(e,t){let r=new J0,n=YQ({owner:e.owner,debugName:e.debugName,debugReferenceFn:e.debugReferenceFn??t,createEmptyChangeSummary:e.createEmptyChangeSummary,handleChange:e.handleChange},(i,s)=>{r.clear(),t(i,s,r)});return fa(()=>{n.dispose(),r.dispose()})}o($ee,"autorunWithStoreHandleChanges");function zee(e){let t=new J0,r=jee({owner:void 0,debugName:void 0,debugReferenceFn:e},n=>{t.clear(),e(n,t)});return fa(()=>{r.dispose(),t.dispose()})}o(zee,"autorunWithStore");var yI=class{constructor(t,r,n,i){this._debugNameData=t;this._runFn=r;this.createChangeSummary=n;this._handleChange=i;this.state=2;this.updateCount=0;this.disposed=!1;this.dependencies=new Set;this.dependenciesToBeRemoved=new Set;this._isRunning=!1;this.changeSummary=this.createChangeSummary?.(),xs()?.handleAutorunCreated(this),this._runIfNeeded(),hI(this)}static{o(this,"AutorunObserver")}get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}dispose(){this.disposed=!0;for(let t of this.dependencies)t.removeObserver(this);this.dependencies.clear(),xs()?.handleAutorunDisposed(this),pI(this)}_runIfNeeded(){if(this.state===3)return;let t=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=t,this.state=3;try{if(!this.disposed){xs()?.handleAutorunStarted(this);let r=this.changeSummary;try{this.changeSummary=this.createChangeSummary?.(),this._isRunning=!0,this._runFn(this,r)}catch(n){E4(n)}finally{this._isRunning=!1}}}finally{this.disposed||xs()?.handleAutorunFinished(this);for(let r of this.dependenciesToBeRemoved)r.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(t){this.state===3&&(this.state=1),this.updateCount++}endUpdate(t){try{if(this.updateCount===1)do{if(this.state===1){this.state=3;for(let r of this.dependencies)if(r.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3)}finally{this.updateCount--}Y5(()=>this.updateCount>=0)}handlePossibleChange(t){this.state===3&&this._isDependency(t)&&(this.state=1)}handleChange(t,r){if(this._isDependency(t)){xs()?.handleAutorunDependencyChanged(this,t,r);try{(this._handleChange?this._handleChange({changedObservable:t,change:r,didChange:o(i=>i===t,"didChange")},this.changeSummary):!0)&&(this.state=2)}catch(n){E4(n)}}}_isDependency(t){return this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)}readObservable(t){if(!this._isRunning)throw new pi("The reader object cannot be used outside its compute function!");if(this.disposed)return t.get();t.addObserver(this);let r=t.get();return this.dependencies.add(t),this.dependenciesToBeRemoved.delete(t),r}};(t=>t.Observer=yI)(I4||={});d();function KQ(e,t){return new T4(new X0(e.owner,e.debugName,e.debugReferenceFn),t,void 0,void 0,e.onLastObserverRemoved,e.equalsFn??F1)}o(KQ,"derivedOpts");Lve(KQ);var T4=class extends X5{constructor(r,n,i,s,a=void 0,l){super();this._debugNameData=r;this._computeFn=n;this.createChangeSummary=i;this._handleChange=s;this._handleLastObserverRemoved=a;this._equalityComparator=l;this.state=0;this.value=void 0;this.updateCount=0;this.dependencies=new Set;this.dependenciesToBeRemoved=new Set;this.changeSummary=void 0;this._isUpdating=!1;this._isComputing=!1;this._removedObserverToCallEndUpdateOn=null;this._isReaderValid=!1;this.changeSummary=this.createChangeSummary?.()}static{o(this,"Derived")}get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}onLastObserverRemoved(){this.state=0,this.value=void 0,xs()?.handleDerivedCleared(this);for(let r of this.dependencies)r.removeObserver(this);this.dependencies.clear(),this._handleLastObserverRemoved?.()}get(){if(this._isComputing,this.observers.size===0){let n;try{this._isReaderValid=!0,n=this._computeFn(this,this.createChangeSummary?.())}finally{this._isReaderValid=!1}return this.onLastObserverRemoved(),n}else{do{if(this.state===1){for(let n of this.dependencies)if(n.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){if(this.state===3)return;let r=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=r;let n=this.state!==0,i=this.value;this.state=3;let s=!1;this._isComputing=!0;try{let a=this.changeSummary;this.changeSummary=this.createChangeSummary?.();try{this._isReaderValid=!0,this.value=this._computeFn(this,a)}finally{this._isReaderValid=!1;for(let l of this.dependenciesToBeRemoved)l.removeObserver(this);this.dependenciesToBeRemoved.clear()}s=n&&!this._equalityComparator(i,this.value),xs()?.handleObservableUpdated(this,{oldValue:i,newValue:this.value,change:void 0,didChange:s,hadValue:n})}catch(a){E4(a)}if(this._isComputing=!1,s)for(let a of this.observers)a.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(r){if(this._isUpdating)throw new pi("Cyclic deriveds are not supported yet!");this.updateCount++,this._isUpdating=!0;try{let n=this.updateCount===1;if(this.state===3&&(this.state=1,!n))for(let i of this.observers)i.handlePossibleChange(this);if(n)for(let i of this.observers)i.beginUpdate(this)}finally{this._isUpdating=!1}}endUpdate(r){if(this.updateCount--,this.updateCount===0){let n=[...this.observers];for(let i of n)i.endUpdate(this);if(this._removedObserverToCallEndUpdateOn){let i=[...this._removedObserverToCallEndUpdateOn];this._removedObserverToCallEndUpdateOn=null;for(let s of i)s.endUpdate(this)}}Y5(()=>this.updateCount>=0)}handlePossibleChange(r){if(this.state===3&&this.dependencies.has(r)&&!this.dependenciesToBeRemoved.has(r)){this.state=1;for(let n of this.observers)n.handlePossibleChange(this)}}handleChange(r,n){if(this.dependencies.has(r)&&!this.dependenciesToBeRemoved.has(r)){xs()?.handleDerivedDependencyChanged(this,r,n);let i=!1;try{i=this._handleChange?this._handleChange({changedObservable:r,change:n,didChange:o(a=>a===r,"didChange")},this.changeSummary):!0}catch(a){E4(a)}let s=this.state===3;if(i&&(this.state===1||s)&&(this.state=2,s))for(let a of this.observers)a.handlePossibleChange(this)}}readObservable(r){if(!this._isReaderValid)throw new pi("The reader object cannot be used outside its compute function!");r.addObserver(this);let n=r.get();return this.dependencies.add(r),this.dependenciesToBeRemoved.delete(r),n}addObserver(r){let n=!this.observers.has(r)&&this.updateCount>0;super.addObserver(r),n&&(this._removedObserverToCallEndUpdateOn&&this._removedObserverToCallEndUpdateOn.has(r)?this._removedObserverToCallEndUpdateOn.delete(r):r.beginUpdate(this))}removeObserver(r){this.observers.has(r)&&this.updateCount>0&&(this._removedObserverToCallEndUpdateOn||(this._removedObserverToCallEndUpdateOn=new Set),this._removedObserverToCallEndUpdateOn.add(r)),super.removeObserver(r)}};d();d();function Yee(...e){let t,r,n;return e.length===3?[t,r,n]=e:[r,n]=e,new Z5(new X0(t,void 0,n),r,n,()=>Z5.globalTransaction,F1)}o(Yee,"observableFromEvent");var Z5=class extends X5{constructor(r,n,i,s,a){super();this._debugNameData=r;this.event=n;this._getValue=i;this._getTransaction=s;this._equalityComparator=a;this.hasValue=!1;this.handleEvent=o(r=>{let n=this._getValue(r),i=this.value,s=!this.hasValue||!this._equalityComparator(i,n),a=!1;s&&(this.value=n,this.hasValue&&(a=!0,Vee(this._getTransaction(),l=>{xs()?.handleObservableUpdated(this,{oldValue:i,newValue:n,change:void 0,didChange:s,hadValue:this.hasValue});for(let c of this.observers)l.updateObserver(c,this),c.handleChange(this,void 0)},()=>{let l=this.getDebugName();return"Event fired"+(l?`: ${l}`:"")})),this.hasValue=!0),a||xs()?.handleObservableUpdated(this,{oldValue:i,newValue:n,change:void 0,didChange:s,hadValue:this.hasValue})},"handleEvent")}static{o(this,"FromEventObservable")}getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){let r=this.getDebugName();return"From Event"+(r?`: ${r}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}};(r=>{r.Observer=Z5;function t(n,i){let s=!1;Z5.globalTransaction===void 0&&(Z5.globalTransaction=n,s=!0);try{i()}finally{s&&(Z5.globalTransaction=void 0)}}r.batchEventsGlobally=t,o(t,"batchEventsGlobally")})(Yee||={});function Mve(e){let t=new JQ(!1,void 0);return e.addObserver(t),fa(()=>{e.removeObserver(t)})}o(Mve,"keepObserved");Nve(Mve);function Ove(e,t){let r=new JQ(!0,t);return e.addObserver(r),t?t(e.get()):e.reportChanges(),fa(()=>{e.removeObserver(r)})}o(Ove,"recomputeInitiallyAndOnChange");Pve(Ove);var JQ=class{constructor(t,r){this._forceRecompute=t;this._handleValue=r;this._counter=0}static{o(this,"KeepAliveObserver")}beginUpdate(t){this._counter++}endUpdate(t){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(t.get()):t.reportChanges())}handlePossibleChange(t){}handleChange(t,r){}};function N1(e,t,r,n){let i=new XQ(r,n);return KQ({debugReferenceFn:r,owner:e,onLastObserverRemoved:o(()=>{i.dispose(),i=new XQ(r)},"onLastObserverRemoved")},a=>(i.setItems(t.read(a)),i.getItems()))}o(N1,"mapObservableArrayCached");var XQ=class{constructor(t,r){this._map=t;this._keySelector=r;this._cache=new Map;this._items=[]}static{o(this,"ArrayMap")}dispose(){this._cache.forEach(t=>t.store.dispose()),this._cache.clear()}setItems(t){let r=[],n=new Set(this._cache.keys());for(let i of t){let s=this._keySelector?this._keySelector(i):i,a=this._cache.get(s);if(a)n.delete(s);else{let l=new J0;a={out:this._map(i,l),store:l},this._cache.set(s,a)}r.push(a.out)}for(let i of n)this._cache.get(i).store.dispose(),this._cache.delete(i);this._items=r}getItems(){return this._items}};function Kee(e,t){let r;return $ee({createEmptyChangeSummary:o(()=>({deltas:[],didChange:!1}),"createEmptyChangeSummary"),handleChange:o((n,i)=>{if(n.didChange(e)){let s=n.change;s!==void 0&&i.deltas.push(s),i.didChange=!0}return!0},"handleChange")},(n,i)=>{let s=e.read(n),a=r;i.didChange&&(r=s,t(s,a,i.deltas))})}o(Kee,"runOnChange");d();d();d();var Uve=Object.freeze(function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}),ZQ;(n=>{function e(i){return i===n.None||i===n.Cancelled||i instanceof CI?!0:!i||typeof i!="object"?!1:typeof i.isCancellationRequested=="boolean"&&typeof i.onCancellationRequested=="function"}n.isCancellationToken=e,o(e,"isCancellationToken"),n.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:b4.None}),n.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Uve})})(ZQ||={});var CI=class{constructor(){this._isCancelled=!1;this._emitter=null}static{o(this,"MutableToken")}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Uve:(this._emitter||(this._emitter=new zu),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}},L1=class{constructor(t){this._token=void 0;this._parentListener=void 0;this._parentListener=t&&t.onCancellationRequested(this.cancel,this)}static{o(this,"CancellationTokenSource")}get token(){return this._token||(this._token=new CI),this._token}cancel(){this._token?this._token instanceof CI&&this._token.cancel():this._token=ZQ.Cancelled}dispose(t=!1){t&&this.cancel(),this._parentListener?.dispose(),this._token?this._token instanceof CI&&this._token.dispose():this._token=ZQ.None}};d();var eM;function qve(e){eM||(eM=new Pw,VQ(eM)),eM.addFilteredObj(e)}o(qve,"logObservableToConsole");var Pw=class{constructor(){this.indentation=0;this.changedObservablesSets=new WeakMap}static{o(this,"ConsoleObservableLogger")}addFilteredObj(t){this._filteredObjects||(this._filteredObjects=new Set),this._filteredObjects.add(t)}_isIncluded(t){return this._filteredObjects?.has(t)??!0}textToConsoleArgs(t){return l0t([xI(f0t("|  ",this.indentation)),t])}formatInfo(t){return t.hadValue?t.didChange?[xI(" "),md(Dw(t.oldValue,70),{color:"red",strikeThrough:!0}),xI(" "),md(Dw(t.newValue,60),{color:"green"})]:[xI(" (unchanged)")]:[xI(" "),md(Dw(t.newValue,60),{color:"green"}),xI(" (initial)")]}handleObservableCreated(t){if(t instanceof T4){let r=t;if(this.changedObservablesSets.set(r,new Set),!1){let i=[];r.__debugUpdating=i;let s=r.beginUpdate;r.beginUpdate=l=>(i.push(l),s.apply(r,[l]));let a=r.endUpdate;r.endUpdate=l=>{let c=i.indexOf(l);return c===-1&&console.error("endUpdate called without beginUpdate",r.debugName,l.debugName),i.splice(c,1),a.apply(r,[l])}}}}handleOnListenerCountChanged(t,r){}handleObservableUpdated(t,r){if(this._isIncluded(t)){if(t instanceof T4){this._handleDerivedRecomputed(t,r);return}console.log(...this.textToConsoleArgs([EI("observable value changed"),md(t.debugName,{color:"BlueViolet"}),...this.formatInfo(r)]))}}formatChanges(t){if(t.size!==0)return md(" (changed deps: "+[...t].map(r=>r.debugName).join(", ")+")",{color:"gray"})}handleDerivedDependencyChanged(t,r,n){this._isIncluded(t)&&this.changedObservablesSets.get(t)?.add(r)}_handleDerivedRecomputed(t,r){if(!this._isIncluded(t))return;let n=this.changedObservablesSets.get(t);n&&(console.log(...this.textToConsoleArgs([EI("derived recomputed"),md(t.debugName,{color:"BlueViolet"}),...this.formatInfo(r),this.formatChanges(n),{data:[{fn:t._debugNameData.referenceFn??t._computeFn}]}])),n.clear())}handleDerivedCleared(t){this._isIncluded(t)&&console.log(...this.textToConsoleArgs([EI("derived cleared"),md(t.debugName,{color:"BlueViolet"})]))}handleFromEventObservableTriggered(t,r){this._isIncluded(t)&&console.log(...this.textToConsoleArgs([EI("observable from event triggered"),md(t.debugName,{color:"BlueViolet"}),...this.formatInfo(r),{data:[{fn:t._getValue}]}]))}handleAutorunCreated(t){this._isIncluded(t)&&this.changedObservablesSets.set(t,new Set)}handleAutorunDisposed(t){}handleAutorunDependencyChanged(t,r,n){this._isIncluded(t)&&this.changedObservablesSets.get(t).add(r)}handleAutorunStarted(t){let r=this.changedObservablesSets.get(t);r&&(this._isIncluded(t)&&console.log(...this.textToConsoleArgs([EI("autorun"),md(t.debugName,{color:"BlueViolet"}),this.formatChanges(r),{data:[{fn:t._debugNameData.referenceFn??t._runFn}]}])),r.clear(),this.indentation++)}handleAutorunFinished(t){this.indentation--}handleBeginTransaction(t){let r=t.getDebugName();r===void 0&&(r=""),this._isIncluded(t)&&console.log(...this.textToConsoleArgs([EI("transaction"),md(r,{color:"BlueViolet"}),{data:[{fn:t._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}};function l0t(e){let t=new Array,r=[],n="";function i(a){if("length"in a)for(let l of a)l&&i(l);else"text"in a?(n+=`%c${a.text}`,t.push(a.style),a.data&&r.push(...a.data)):"data"in a&&r.push(...a.data)}o(i,"process"),i(e);let s=[n,...t];return s.push(...r),s}o(l0t,"consoleTextToArgs");function xI(e){return md(e,{color:"black"})}o(xI,"normalText");function EI(e){return md(d0t(`${e}: `,10),{color:"black",bold:!0})}o(EI,"formatKind");function md(e,t={color:"black"}){function r(i){return Object.entries(i).reduce((s,[a,l])=>`${s}${a}:${l};`,"")}o(r,"objToCss");let n={color:t.color};return t.strikeThrough&&(n["text-decoration"]="line-through"),t.bold&&(n["font-weight"]="bold"),{text:e,style:r(n)}}o(md,"styled");function Dw(e,t){switch(typeof e){case"number":return""+e;case"string":return e.length+2<=t?`"${e}"`:`"${e.substr(0,t-7)}"+...`;case"boolean":return e?"true":"false";case"undefined":return"undefined";case"object":return e===null?"null":Array.isArray(e)?c0t(e,t):u0t(e,t);case"symbol":return e.toString();case"function":return`[[Function${e.name?" "+e.name:""}]]`;default:return""+e}}o(Dw,"formatValue");function c0t(e,t){let r="[ ",n=!0;for(let i of e){if(n||(r+=", "),r.length-5>t){r+="...";break}n=!1,r+=`${Dw(i,t-r.length)}`}return r+=" ]",r}o(c0t,"formatArray");function u0t(e,t){if(typeof e.toString=="function"&&e.toString!==Object.prototype.toString){let i=e.toString();return i.length<=t?i:i.substring(0,t-3)+"..."}let r="{ ",n=!0;for(let[i,s]of Object.entries(e)){if(n||(r+=", "),r.length-5>t){r+="...";break}n=!1,r+=`${i}: ${Dw(s,t-r.length)}`}return r+=" }",r}o(u0t,"formatObject");function f0t(e,t){let r="";for(let n=1;n<=t;n++)r+=e;return r}o(f0t,"repeat");function d0t(e,t){for(;e.length<t;)e+=" ";return e}o(d0t,"padStr");Bve(qve);var m0t=!1;m0t&&VQ(new Pw);d();var w4;(r=>{r.PlainText="plaintext";function t(n){return n}r.create=t,o(t,"create")})(w4||={});d();d();d();function Wve(e){return e}o(Wve,"identity");var tM=class{constructor(t,r){this.lastCache=void 0;this.lastArgKey=void 0;typeof t=="function"?(this._fn=t,this._computeKey=Wve):(this._fn=r,this._computeKey=t.getCacheKey)}static{o(this,"LRUCachedFunction")}get(t){let r=this._computeKey(t);return this.lastArgKey!==r&&(this.lastArgKey=r,this.lastCache=this._fn(t)),this.lastCache}},Q1=class{constructor(t,r){this._map=new Map;this._map2=new Map;typeof t=="function"?(this._fn=t,this._computeKey=Wve):(this._fn=r,this._computeKey=t.getCacheKey)}static{o(this,"CachedFunction")}get cachedValues(){return this._map}get(t){let r=this._computeKey(t);if(this._map2.has(r))return this._map2.get(r);let n=this._fn(t);return this._map.set(t,n),this._map2.set(r,n),n}};d();d();var Dp=class{constructor(t){this.executor=t;this._didRun=!1}static{o(this,"Lazy")}get hasValue(){return this._didRun}get value(){if(!this._didRun)try{this._value=this.executor()}catch(t){this._error=t}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}};d();function S4(e){return e<0?0:e>4294967295?4294967295:e|0}o(S4,"toUint32");function Xee(e){return e.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}o(Xee,"escapeRegExpCharacters");function ey(e){return e.split(/\r\n|\r|\n/)}o(ey,"splitLines");function jve(e,t){let r=Math.min(e.length,t.length),n;for(n=0;n<r;n++)if(e.charCodeAt(n)!==t.charCodeAt(n))return n;return r}o(jve,"commonPrefixLength");function rM(e,t){let r=Math.min(e.length,t.length),n,i=e.length-1,s=t.length-1;for(n=0;n<r;n++)if(e.charCodeAt(i-n)!==t.charCodeAt(s-n))return n;return r}o(rM,"commonSuffixLength");var p0t=/^[\t\n\r\x20-\x7E]*$/;function Zee(e){return p0t.test(e)}o(Zee,"isBasicASCII");var pSr=String.fromCharCode(65279);var Gve=class e{static{o(this,"GraphemeBreakTree")}static{this._INSTANCE=null}static getInstance(){return e._INSTANCE||(e._INSTANCE=new e),e._INSTANCE}constructor(){this._data=g0t()}getGraphemeBreakType(t){if(t<32)return t===10?3:t===13?2:4;if(t<127)return 0;let r=this._data,n=r.length/3,i=1;for(;i<=n;)if(t<r[3*i])i=2*i;else if(t>r[3*i+1])i=2*i+1;else return r[3*i+2];return 0}};function g0t(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}o(g0t,"getGraphemeBreakRawData");var Hve=class e{constructor(t){this.confusableDictionary=t}static{o(this,"AmbiguousCharacters")}static{this.ambiguousCharacterData=new Dp(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'))}static{this.cache=new tM({getCacheKey:JSON.stringify},t=>{function r(f){let m=new Map;for(let h=0;h<f.length;h+=2)m.set(f[h],f[h+1]);return m}o(r,"arrayToMap");function n(f,m){let h=new Map(f);for(let[p,A]of m)h.set(p,A);return h}o(n,"mergeMaps");function i(f,m){if(!f)return m;let h=new Map;for(let[p,A]of f)m.has(p)&&h.set(p,A);return h}o(i,"intersectMaps");let s=this.ambiguousCharacterData.value,a=t.filter(f=>!f.startsWith("_")&&f in s);a.length===0&&(a=["_default"]);let l;for(let f of a){let m=r(s[f]);l=i(l,m)}let c=r(s._common),u=n(c,l);return new e(u)})}static getInstance(t){return e.cache.get(Array.from(t))}static{this._locales=new Dp(()=>Object.keys(e.ambiguousCharacterData.value).filter(t=>!t.startsWith("_")))}static getLocales(){return e._locales.value}isAmbiguous(t){return this.confusableDictionary.has(t)}containsAmbiguousCharacter(t){for(let r=0;r<t.length;r++){let n=t.codePointAt(r);if(typeof n=="number"&&this.isAmbiguous(n))return!0}return!1}getPrimaryConfusable(t){return this.confusableDictionary.get(t)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}},Vve=class e{static{o(this,"InvisibleCharacters")}static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static{this._data=void 0}static getData(){return this._data||(this._data=new Set(e.getRawData())),this._data}static isInvisibleCharacter(t){return e.getData().has(t)}static containsInvisibleCharacter(t){for(let r=0;r<t.length;r++){let n=t.codePointAt(r);if(typeof n=="number"&&e.isInvisibleCharacter(n))return!0}return!1}static get codePoints(){return e.getData()}};d();var Mr=class e{constructor(t,r){this.start=t;this.endExclusive=r;if(t>r)throw new pi(`Invalid range: ${this.toString()}`)}static{o(this,"OffsetRange")}static fromTo(t,r){return new e(t,r)}static addRange(t,r){let n=0;for(;n<r.length&&r[n].endExclusive<t.start;)n++;let i=n;for(;i<r.length&&r[i].start<=t.endExclusive;)i++;if(n===i)r.splice(n,0,t);else{let s=Math.min(t.start,r[n].start),a=Math.max(t.endExclusive,r[i-1].endExclusive);r.splice(n,i-n,new e(s,a))}}static tryCreate(t,r){if(!(t>r))return new e(t,r)}static ofLength(t){return new e(0,t)}static ofStartAndLength(t,r){return new e(t,t+r)}static emptyAt(t){return new e(t,t)}get isEmpty(){return this.start===this.endExclusive}delta(t){return new e(this.start+t,this.endExclusive+t)}deltaStart(t){return new e(this.start+t,this.endExclusive)}deltaEnd(t){return new e(this.start,this.endExclusive+t)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}equals(t){return this.start===t.start&&this.endExclusive===t.endExclusive}containsRange(t){return this.start<=t.start&&t.endExclusive<=this.endExclusive}contains(t){return this.start<=t&&t<this.endExclusive}join(t){return new e(Math.min(this.start,t.start),Math.max(this.endExclusive,t.endExclusive))}intersect(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);if(r<=n)return new e(r,n)}intersectionLength(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);return Math.max(0,n-r)}intersects(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);return r<n}intersectsOrTouches(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);return r<=n}isBefore(t){return this.endExclusive<=t.start}isAfter(t){return this.start>=t.endExclusive}slice(t){return t.slice(this.start,this.endExclusive)}substring(t){return t.substring(this.start,this.endExclusive)}clip(t){if(this.isEmpty)throw new pi(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,t))}clipCyclic(t){if(this.isEmpty)throw new pi(`Invalid clipping range: ${this.toString()}`);return t<this.start?this.endExclusive-(this.start-t)%this.length:t>=this.endExclusive?this.start+(t-this.start)%this.length:t}map(t){let r=[];for(let n=this.start;n<this.endExclusive;n++)r.push(t(n));return r}forEach(t){for(let r=this.start;r<this.endExclusive;r++)t(r)}};d();var oo=class e{static{o(this,"Position")}constructor(t,r){this.lineNumber=t,this.column=r}with(t=this.lineNumber,r=this.column){return t===this.lineNumber&&r===this.column?this:new e(t,r)}delta(t=0,r=0){return this.with(this.lineNumber+t,this.column+r)}equals(t){return e.equals(this,t)}static equals(t,r){return!t&&!r?!0:!!t&&!!r&&t.lineNumber===r.lineNumber&&t.column===r.column}isBefore(t){return e.isBefore(this,t)}static isBefore(t,r){return t.lineNumber<r.lineNumber?!0:r.lineNumber<t.lineNumber?!1:t.column<r.column}isBeforeOrEqual(t){return e.isBeforeOrEqual(this,t)}static isBeforeOrEqual(t,r){return t.lineNumber<r.lineNumber?!0:r.lineNumber<t.lineNumber?!1:t.column<=r.column}static compare(t,r){let n=t.lineNumber|0,i=r.lineNumber|0;if(n===i){let s=t.column|0,a=r.column|0;return s-a}return n-i}clone(){return new e(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(t){return new e(t.lineNumber,t.column)}static isIPosition(t){return t&&typeof t.lineNumber=="number"&&typeof t.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}};d();var li=class e{static{o(this,"Range")}constructor(t,r,n,i){t>n||t===n&&r>i?(this.startLineNumber=n,this.startColumn=i,this.endLineNumber=t,this.endColumn=r):(this.startLineNumber=t,this.startColumn=r,this.endLineNumber=n,this.endColumn=i)}isEmpty(){return e.isEmpty(this)}static isEmpty(t){return t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn}containsPosition(t){return e.containsPosition(this,t)}static containsPosition(t,r){return!(r.lineNumber<t.startLineNumber||r.lineNumber>t.endLineNumber||r.lineNumber===t.startLineNumber&&r.column<t.startColumn||r.lineNumber===t.endLineNumber&&r.column>t.endColumn)}static strictContainsPosition(t,r){return!(r.lineNumber<t.startLineNumber||r.lineNumber>t.endLineNumber||r.lineNumber===t.startLineNumber&&r.column<=t.startColumn||r.lineNumber===t.endLineNumber&&r.column>=t.endColumn)}containsRange(t){return e.containsRange(this,t)}static containsRange(t,r){return!(r.startLineNumber<t.startLineNumber||r.endLineNumber<t.startLineNumber||r.startLineNumber>t.endLineNumber||r.endLineNumber>t.endLineNumber||r.startLineNumber===t.startLineNumber&&r.startColumn<t.startColumn||r.endLineNumber===t.endLineNumber&&r.endColumn>t.endColumn)}strictContainsRange(t){return e.strictContainsRange(this,t)}static strictContainsRange(t,r){return!(r.startLineNumber<t.startLineNumber||r.endLineNumber<t.startLineNumber||r.startLineNumber>t.endLineNumber||r.endLineNumber>t.endLineNumber||r.startLineNumber===t.startLineNumber&&r.startColumn<=t.startColumn||r.endLineNumber===t.endLineNumber&&r.endColumn>=t.endColumn)}plusRange(t){return e.plusRange(this,t)}static plusRange(t,r){let n,i,s,a;return r.startLineNumber<t.startLineNumber?(n=r.startLineNumber,i=r.startColumn):r.startLineNumber===t.startLineNumber?(n=r.startLineNumber,i=Math.min(r.startColumn,t.startColumn)):(n=t.startLineNumber,i=t.startColumn),r.endLineNumber>t.endLineNumber?(s=r.endLineNumber,a=r.endColumn):r.endLineNumber===t.endLineNumber?(s=r.endLineNumber,a=Math.max(r.endColumn,t.endColumn)):(s=t.endLineNumber,a=t.endColumn),new e(n,i,s,a)}intersectRanges(t){return e.intersectRanges(this,t)}static intersectRanges(t,r){let n=t.startLineNumber,i=t.startColumn,s=t.endLineNumber,a=t.endColumn,l=r.startLineNumber,c=r.startColumn,u=r.endLineNumber,f=r.endColumn;return n<l?(n=l,i=c):n===l&&(i=Math.max(i,c)),s>u?(s=u,a=f):s===u&&(a=Math.min(a,f)),n>s||n===s&&i>a?null:new e(n,i,s,a)}equalsRange(t){return e.equalsRange(this,t)}static equalsRange(t,r){return!t&&!r?!0:!!t&&!!r&&t.startLineNumber===r.startLineNumber&&t.startColumn===r.startColumn&&t.endLineNumber===r.endLineNumber&&t.endColumn===r.endColumn}getEndPosition(){return e.getEndPosition(this)}static getEndPosition(t){return new oo(t.endLineNumber,t.endColumn)}getStartPosition(){return e.getStartPosition(this)}static getStartPosition(t){return new oo(t.startLineNumber,t.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(t,r){return new e(this.startLineNumber,this.startColumn,t,r)}setStartPosition(t,r){return new e(t,r,this.endLineNumber,this.endColumn)}collapseToStart(){return e.collapseToStart(this)}static collapseToStart(t){return new e(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn)}collapseToEnd(){return e.collapseToEnd(this)}static collapseToEnd(t){return new e(t.endLineNumber,t.endColumn,t.endLineNumber,t.endColumn)}delta(t){return new e(this.startLineNumber+t,this.startColumn,this.endLineNumber+t,this.endColumn)}isSingleLine(){return this.startLineNumber===this.endLineNumber}static fromPositions(t,r=t){return new e(t.lineNumber,t.column,r.lineNumber,r.column)}static lift(t){return t?new e(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):null}static isIRange(t){return t&&typeof t.startLineNumber=="number"&&typeof t.startColumn=="number"&&typeof t.endLineNumber=="number"&&typeof t.endColumn=="number"}static areIntersectingOrTouching(t,r){return!(t.endLineNumber<r.startLineNumber||t.endLineNumber===r.startLineNumber&&t.endColumn<r.startColumn||r.endLineNumber<t.startLineNumber||r.endLineNumber===t.startLineNumber&&r.endColumn<t.startColumn)}static areIntersecting(t,r){return!(t.endLineNumber<r.startLineNumber||t.endLineNumber===r.startLineNumber&&t.endColumn<=r.startColumn||r.endLineNumber<t.startLineNumber||r.endLineNumber===t.startLineNumber&&r.endColumn<=t.startColumn)}static compareRangesUsingStarts(t,r){if(t&&r){let s=t.startLineNumber|0,a=r.startLineNumber|0;if(s===a){let l=t.startColumn|0,c=r.startColumn|0;if(l===c){let u=t.endLineNumber|0,f=r.endLineNumber|0;if(u===f){let m=t.endColumn|0,h=r.endColumn|0;return m-h}return u-f}return l-c}return s-a}return(t?1:0)-(r?1:0)}static compareRangesUsingEnds(t,r){return t.endLineNumber===r.endLineNumber?t.endColumn===r.endColumn?t.startLineNumber===r.startLineNumber?t.startColumn-r.startColumn:t.startLineNumber-r.startLineNumber:t.endColumn-r.endColumn:t.endLineNumber-r.endLineNumber}static spansMultipleLines(t){return t.endLineNumber>t.startLineNumber}toJSON(){return this}};d();d();var $n=class e{static{o(this,"LineRange")}static fromRange(t){return new e(t.startLineNumber,t.endLineNumber)}static fromRangeInclusive(t){return new e(t.startLineNumber,t.endLineNumber+1)}static subtract(t,r){return r?t.startLineNumber<r.startLineNumber&&r.endLineNumberExclusive<t.endLineNumberExclusive?[new e(t.startLineNumber,r.startLineNumber),new e(r.endLineNumberExclusive,t.endLineNumberExclusive)]:r.startLineNumber<=t.startLineNumber&&t.endLineNumberExclusive<=r.endLineNumberExclusive?[]:r.endLineNumberExclusive<t.endLineNumberExclusive?[new e(Math.max(r.endLineNumberExclusive,t.startLineNumber),t.endLineNumberExclusive)]:[new e(t.startLineNumber,Math.min(r.startLineNumber,t.endLineNumberExclusive))]:[t]}static joinMany(t){if(t.length===0)return[];let r=new nM(t[0].slice());for(let n=1;n<t.length;n++)r=r.getUnion(new nM(t[n].slice()));return r.ranges}static join(t){if(t.length===0)throw new pi("lineRanges cannot be empty");let r=t[0].startLineNumber,n=t[0].endLineNumberExclusive;for(let i=1;i<t.length;i++)r=Math.min(r,t[i].startLineNumber),n=Math.max(n,t[i].endLineNumberExclusive);return new e(r,n)}static ofLength(t,r){return new e(t,t+r)}static deserialize(t){return new e(t[0],t[1])}constructor(t,r){if(t>r)throw new pi(`startLineNumber ${t} cannot be after endLineNumberExclusive ${r}`);this.startLineNumber=t,this.endLineNumberExclusive=r}contains(t){return this.startLineNumber<=t&&t<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(t){return new e(this.startLineNumber+t,this.endLineNumberExclusive+t)}deltaLength(t){return new e(this.startLineNumber,this.endLineNumberExclusive+t)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(t){return new e(Math.min(this.startLineNumber,t.startLineNumber),Math.max(this.endLineNumberExclusive,t.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(t){let r=Math.max(this.startLineNumber,t.startLineNumber),n=Math.min(this.endLineNumberExclusive,t.endLineNumberExclusive);if(r<=n)return new e(r,n)}intersectsStrict(t){return this.startLineNumber<t.endLineNumberExclusive&&t.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(t){return this.startLineNumber<=t.endLineNumberExclusive&&t.startLineNumber<=this.endLineNumberExclusive}equals(t){return this.startLineNumber===t.startLineNumber&&this.endLineNumberExclusive===t.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new li(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new li(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(t){let r=[];for(let n=this.startLineNumber;n<this.endLineNumberExclusive;n++)r.push(t(n));return r}forEach(t){for(let r=this.startLineNumber;r<this.endLineNumberExclusive;r++)t(r)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(t){return this.startLineNumber<=t&&t<this.endLineNumberExclusive}toOffsetRange(){return new Mr(this.startLineNumber-1,this.endLineNumberExclusive-1)}distanceToRange(t){return this.endLineNumberExclusive<=t.startLineNumber?t.startLineNumber-this.endLineNumberExclusive:t.endLineNumberExclusive<=this.startLineNumber?this.startLineNumber-t.endLineNumberExclusive:0}distanceToLine(t){return this.contains(t)?0:t<this.startLineNumber?this.startLineNumber-t:t-this.endLineNumberExclusive}addMargin(t,r){return new e(this.startLineNumber-t,this.endLineNumberExclusive+r)}},nM=class e{constructor(t=[]){this._normalizedRanges=t}static{o(this,"LineRangeSet")}get ranges(){return this._normalizedRanges}addRange(t){if(t.length===0)return;let r=dI(this._normalizedRanges,i=>i.endLineNumberExclusive>=t.startLineNumber),n=Gm(this._normalizedRanges,i=>i.startLineNumber<=t.endLineNumberExclusive)+1;if(r===n)this._normalizedRanges.splice(r,0,t);else if(r===n-1){let i=this._normalizedRanges[r];this._normalizedRanges[r]=i.join(t)}else{let i=this._normalizedRanges[r].join(this._normalizedRanges[n-1]).join(t);this._normalizedRanges.splice(r,n-r,i)}}contains(t){let r=kee(this._normalizedRanges,n=>n.startLineNumber<=t);return!!r&&r.endLineNumberExclusive>t}intersects(t){let r=kee(this._normalizedRanges,n=>n.startLineNumber<t.endLineNumberExclusive);return!!r&&r.endLineNumberExclusive>t.startLineNumber}getUnion(t){if(this._normalizedRanges.length===0)return t;if(t._normalizedRanges.length===0)return this;let r=[],n=0,i=0,s=null;for(;n<this._normalizedRanges.length||i<t._normalizedRanges.length;){let a=null;if(n<this._normalizedRanges.length&&i<t._normalizedRanges.length){let l=this._normalizedRanges[n],c=t._normalizedRanges[i];l.startLineNumber<c.startLineNumber?(a=l,n++):(a=c,i++)}else n<this._normalizedRanges.length?(a=this._normalizedRanges[n],n++):(a=t._normalizedRanges[i],i++);s===null?s=a:s.endLineNumberExclusive>=a.startLineNumber?s=new $n(s.startLineNumber,Math.max(s.endLineNumberExclusive,a.endLineNumberExclusive)):(r.push(s),s=a)}return s!==null&&r.push(s),new e(r)}subtractFrom(t){let r=dI(this._normalizedRanges,a=>a.endLineNumberExclusive>=t.startLineNumber),n=Gm(this._normalizedRanges,a=>a.startLineNumber<=t.endLineNumberExclusive)+1;if(r===n)return new e([t]);let i=[],s=t.startLineNumber;for(let a=r;a<n;a++){let l=this._normalizedRanges[a];l.startLineNumber>s&&i.push(new $n(s,l.startLineNumber)),s=l.endLineNumberExclusive}return s<t.endLineNumberExclusive&&i.push(new $n(s,t.endLineNumberExclusive)),new e(i)}toString(){return this._normalizedRanges.map(t=>t.toString()).join(", ")}getIntersection(t){let r=[],n=0,i=0;for(;n<this._normalizedRanges.length&&i<t._normalizedRanges.length;){let s=this._normalizedRanges[n],a=t._normalizedRanges[i],l=s.intersect(a);l&&!l.isEmpty&&r.push(l),s.endLineNumberExclusive<a.endLineNumberExclusive?n++:i++}return new e(r)}getWithDelta(t){return new e(this._normalizedRanges.map(r=>r.delta(t)))}};var Yu=class e{constructor(t,r){this.lineCount=t;this.columnCount=r}static{o(this,"TextLength")}static{this.zero=new e(0,0)}static lengthDiffNonNegative(t,r){return r.isLessThan(t)?e.zero:t.lineCount===r.lineCount?new e(0,r.columnCount-t.columnCount):new e(r.lineCount-t.lineCount,r.columnCount)}static betweenPositions(t,r){return t.lineNumber===r.lineNumber?new e(0,r.column-t.column):new e(r.lineNumber-t.lineNumber,r.column-1)}static fromPosition(t){return new e(t.lineNumber-1,t.column-1)}static ofRange(t){return e.betweenPositions(t.getStartPosition(),t.getEndPosition())}static ofText(t){let r=0,n=0;for(let i of t)i===`
`?(r++,n=0):n++;return new e(r,n)}isZero(){return this.lineCount===0&&this.columnCount===0}isLessThan(t){return this.lineCount!==t.lineCount?this.lineCount<t.lineCount:this.columnCount<t.columnCount}isGreaterThan(t){return this.lineCount!==t.lineCount?this.lineCount>t.lineCount:this.columnCount>t.columnCount}isGreaterThanOrEqualTo(t){return this.lineCount!==t.lineCount?this.lineCount>t.lineCount:this.columnCount>=t.columnCount}equals(t){return this.lineCount===t.lineCount&&this.columnCount===t.columnCount}compare(t){return this.lineCount!==t.lineCount?this.lineCount-t.lineCount:this.columnCount-t.columnCount}add(t){return t.lineCount===0?new e(this.lineCount,this.columnCount+t.columnCount):new e(this.lineCount+t.lineCount,t.columnCount)}createRange(t){return this.lineCount===0?new li(t.lineNumber,t.column,t.lineNumber,t.column+this.columnCount):new li(t.lineNumber,t.column,t.lineNumber+this.lineCount,this.columnCount+1)}toRange(){return new li(1,1,this.lineCount+1,this.columnCount+1)}toLineRange(){return $n.ofLength(1,this.lineCount)}addToPosition(t){return this.lineCount===0?new oo(t.lineNumber,t.column+this.columnCount):new oo(t.lineNumber+this.lineCount,this.columnCount+1)}addToRange(t){return li.fromPositions(this.addToPosition(t.getStartPosition()),this.addToPosition(t.getEndPosition()))}toString(){return`${this.lineCount},${this.columnCount}`}};var Al=class e{constructor(t){this.value=t}static{o(this,"StringValue")}apply(t){return new e(t.apply(this.value))}equals(t){return this.value===t.value}getTransformer(){return this._transformer||(this._transformer=new ete(this.value)),this._transformer}getValueOfRange(t){return this.getTransformer().getOffsetRange(t).substring(this.value)}getLines(){return ey(this.value)}getLineAt(t){return this.getLines()[t-1]}toString(){return this.value}getTextLength(){return this.getTransformer().textLength}},ete=class{constructor(t){this.text=t;this.lineStartOffsetByLineIdx=[],this.lineEndOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let r=0;r<t.length;r++)t.charAt(r)===`
`&&(this.lineStartOffsetByLineIdx.push(r+1),r>0&&t.charAt(r-1)==="\r"?this.lineEndOffsetByLineIdx.push(r-1):this.lineEndOffsetByLineIdx.push(r));this.lineEndOffsetByLineIdx.push(t.length)}static{o(this,"PositionOffsetTransformer")}getOffset(t){return this.lineStartOffsetByLineIdx[t.lineNumber-1]+t.column-1}getOffsetRange(t){return new Mr(this.getOffset(t.getStartPosition()),this.getOffset(t.getEndPosition()))}getPosition(t){let r=Gm(this.lineStartOffsetByLineIdx,s=>s<=t),n=r+1,i=t-this.lineStartOffsetByLineIdx[r]+1;return new oo(n,i)}getRange(t){return li.fromPositions(this.getPosition(t.start),this.getPosition(t.endExclusive))}getTextLength(t){return Yu.ofRange(this.getRange(t))}get textLength(){let t=this.lineStartOffsetByLineIdx.length-1;return new Yu(t,this.text.length-this.lineStartOffsetByLineIdx[t])}getLineLength(t){return this.lineEndOffsetByLineIdx[t-1]-this.lineStartOffsetByLineIdx[t-1]}};var Pp=class{static{o(this,"ObservableWorkspace")}getFirstOpenDocument(){return this.openDocuments.get()[0]}getDocument(t){return this.openDocuments.get().find(r=>r.id===t)}};var iM=class extends ua{constructor(r,n,i,s,a,l){super();this.id=r;this.workspaceRoot=l;this.value=Hm(this,n),this.selection=Hm(this,i),this.languageId=Hm(this,s),this._register(fa(a))}static{o(this,"MutableObservableDocument")}applyEdit(r,n=void 0){let i=this.value.get().apply(r);this.value.set(i,n,r)}updateSelection(r,n=void 0){this.selection.set(r,n)}};var lIe=tt(Vn());d();d();d();d();var sM=!1,aM=!1,oM=!1,A0t=!1,y0t=!1,$ve=!1,C0t=!1,x0t=!1,E0t=!1,b0t=!1;var M1,O1=globalThis,hd;typeof O1.vscode<"u"&&typeof O1.vscode.process<"u"?hd=O1.vscode.process:typeof process<"u"&&typeof process?.versions?.node=="string"&&(hd=process);var zve=typeof hd?.versions?.electron=="string",v0t=zve&&hd?.type==="renderer";typeof hd=="object"?(sM=hd.platform==="win32",aM=hd.platform==="darwin",oM=hd.platform==="linux",A0t=oM&&!!hd.env.SNAP&&!!hd.env.SNAP_REVISION,C0t=zve,E0t=!!hd.env.CI||!!hd.env.BUILD_ARTIFACTSTAGINGDIRECTORY,y0t=!0):typeof navigator=="object"&&!v0t?(M1=navigator.userAgent,sM=M1.indexOf("Windows")>=0,aM=M1.indexOf("Macintosh")>=0,x0t=(M1.indexOf("Macintosh")>=0||M1.indexOf("iPad")>=0||M1.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,oM=M1.indexOf("Linux")>=0,b0t=M1?.indexOf("Mobi")>=0,$ve=!0):console.error("Unable to resolve platform.");var tte=0;aM?tte=1:sM?tte=3:oM&&(tte=2);var _4=sM,Yve=aM;var I0t=$ve&&typeof O1.importScripts=="function",f_r=I0t?O1.origin:void 0;var Fp=M1;var T0t=typeof O1.postMessage=="function"&&!O1.importScripts,d_r=(()=>{if(T0t){let e=[];O1.addEventListener("message",r=>{if(r.data&&r.data.vscodeScheduleAsyncWork)for(let n=0,i=e.length;n<i;n++){let s=e[n];if(s.id===r.data.vscodeScheduleAsyncWork){e.splice(n,1),s.callback();return}}});let t=0;return r=>{let n=++t;e.push({id:n,callback:r}),O1.postMessage({vscodeScheduleAsyncWork:n},"*")}}return e=>setTimeout(e)})();var w0t=!!(Fp&&Fp.indexOf("Chrome")>=0),m_r=!!(Fp&&Fp.indexOf("Firefox")>=0),h_r=!!(!w0t&&Fp&&Fp.indexOf("Safari")>=0),p_r=!!(Fp&&Fp.indexOf("Edg/")>=0),g_r=!!(Fp&&Fp.indexOf("Android")>=0);var k4,rte=globalThis.vscode;if(typeof rte<"u"&&typeof rte.process<"u"){let e=rte.process;k4={get platform(){return e.platform},get arch(){return e.arch},get env(){return e.env},cwd(){return e.cwd()}}}else typeof process<"u"&&typeof process?.versions?.node=="string"?k4={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:k4={get platform(){return _4?"win32":Yve?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};var Fw=k4.cwd,Kve=k4.env,Jve=k4.platform,b_r=k4.arch;var _0t=65,k0t=97,B0t=90,R0t=122,ny=46,yl=47,zc=92,ty=58,D0t=63,lM=class extends Error{static{o(this,"ErrorInvalidArgType")}constructor(t,r,n){let i;typeof r=="string"&&r.indexOf("not ")===0?(i="must not be",r=r.replace(/^not /,"")):i="must be";let s=t.indexOf(".")!==-1?"property":"argument",a=`The "${t}" ${s} ${i} of type ${r}`;a+=`. Received type ${typeof n}`,super(a),this.code="ERR_INVALID_ARG_TYPE"}};function P0t(e,t){if(e===null||typeof e!="object")throw new lM(t,"Object",e)}o(P0t,"validateObject");function zs(e,t){if(typeof e!="string")throw new lM(t,"string",e)}o(zs,"validateString");var Yc=Jve==="win32";function zn(e){return e===yl||e===zc}o(zn,"isPathSeparator");function nte(e){return e===yl}o(nte,"isPosixPathSeparator");function ry(e){return e>=_0t&&e<=B0t||e>=k0t&&e<=R0t}o(ry,"isWindowsDeviceRoot");function cM(e,t,r,n){let i="",s=0,a=-1,l=0,c=0;for(let u=0;u<=e.length;++u){if(u<e.length)c=e.charCodeAt(u);else{if(n(c))break;c=yl}if(n(c)){if(!(a===u-1||l===1))if(l===2){if(i.length<2||s!==2||i.charCodeAt(i.length-1)!==ny||i.charCodeAt(i.length-2)!==ny){if(i.length>2){let f=i.lastIndexOf(r);f===-1?(i="",s=0):(i=i.slice(0,f),s=i.length-1-i.lastIndexOf(r)),a=u,l=0;continue}else if(i.length!==0){i="",s=0,a=u,l=0;continue}}t&&(i+=i.length>0?`${r}..`:"..",s=2)}else i.length>0?i+=`${r}${e.slice(a+1,u)}`:i=e.slice(a+1,u),s=u-a-1;a=u,l=0}else c===ny&&l!==-1?++l:l=-1}return i}o(cM,"normalizeString");function F0t(e){return e?`${e[0]==="."?"":"."}${e}`:""}o(F0t,"formatExt");function Xve(e,t){P0t(t,"pathObject");let r=t.dir||t.root,n=t.base||`${t.name||""}${F0t(t.ext)}`;return r?r===t.root?`${r}${n}`:`${r}${e}${n}`:n}o(Xve,"_format");var Ys={resolve(...e){let t="",r="",n=!1;for(let i=e.length-1;i>=-1;i--){let s;if(i>=0){if(s=e[i],zs(s,`paths[${i}]`),s.length===0)continue}else t.length===0?s=Fw():(s=Kve[`=${t}`]||Fw(),(s===void 0||s.slice(0,2).toLowerCase()!==t.toLowerCase()&&s.charCodeAt(2)===zc)&&(s=`${t}\\`));let a=s.length,l=0,c="",u=!1,f=s.charCodeAt(0);if(a===1)zn(f)&&(l=1,u=!0);else if(zn(f))if(u=!0,zn(s.charCodeAt(1))){let m=2,h=m;for(;m<a&&!zn(s.charCodeAt(m));)m++;if(m<a&&m!==h){let p=s.slice(h,m);for(h=m;m<a&&zn(s.charCodeAt(m));)m++;if(m<a&&m!==h){for(h=m;m<a&&!zn(s.charCodeAt(m));)m++;(m===a||m!==h)&&(c=`\\\\${p}\\${s.slice(h,m)}`,l=m)}}}else l=1;else ry(f)&&s.charCodeAt(1)===ty&&(c=s.slice(0,2),l=2,a>2&&zn(s.charCodeAt(2))&&(u=!0,l=3));if(c.length>0)if(t.length>0){if(c.toLowerCase()!==t.toLowerCase())continue}else t=c;if(n){if(t.length>0)break}else if(r=`${s.slice(l)}\\${r}`,n=u,u&&t.length>0)break}return r=cM(r,!n,"\\",zn),n?`${t}\\${r}`:`${t}${r}`||"."},normalize(e){zs(e,"path");let t=e.length;if(t===0)return".";let r=0,n,i=!1,s=e.charCodeAt(0);if(t===1)return nte(s)?"\\":e;if(zn(s))if(i=!0,zn(e.charCodeAt(1))){let l=2,c=l;for(;l<t&&!zn(e.charCodeAt(l));)l++;if(l<t&&l!==c){let u=e.slice(c,l);for(c=l;l<t&&zn(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&!zn(e.charCodeAt(l));)l++;if(l===t)return`\\\\${u}\\${e.slice(c)}\\`;l!==c&&(n=`\\\\${u}\\${e.slice(c,l)}`,r=l)}}}else r=1;else ry(s)&&e.charCodeAt(1)===ty&&(n=e.slice(0,2),r=2,t>2&&zn(e.charCodeAt(2))&&(i=!0,r=3));let a=r<t?cM(e.slice(r),!i,"\\",zn):"";return a.length===0&&!i&&(a="."),a.length>0&&zn(e.charCodeAt(t-1))&&(a+="\\"),n===void 0?i?`\\${a}`:a:i?`${n}\\${a}`:`${n}${a}`},isAbsolute(e){zs(e,"path");let t=e.length;if(t===0)return!1;let r=e.charCodeAt(0);return zn(r)||t>2&&ry(r)&&e.charCodeAt(1)===ty&&zn(e.charCodeAt(2))},join(...e){if(e.length===0)return".";let t,r;for(let s=0;s<e.length;++s){let a=e[s];zs(a,"path"),a.length>0&&(t===void 0?t=r=a:t+=`\\${a}`)}if(t===void 0)return".";let n=!0,i=0;if(typeof r=="string"&&zn(r.charCodeAt(0))){++i;let s=r.length;s>1&&zn(r.charCodeAt(1))&&(++i,s>2&&(zn(r.charCodeAt(2))?++i:n=!1))}if(n){for(;i<t.length&&zn(t.charCodeAt(i));)i++;i>=2&&(t=`\\${t.slice(i)}`)}return Ys.normalize(t)},relative(e,t){if(zs(e,"from"),zs(t,"to"),e===t)return"";let r=Ys.resolve(e),n=Ys.resolve(t);if(r===n||(e=r.toLowerCase(),t=n.toLowerCase(),e===t))return"";let i=0;for(;i<e.length&&e.charCodeAt(i)===zc;)i++;let s=e.length;for(;s-1>i&&e.charCodeAt(s-1)===zc;)s--;let a=s-i,l=0;for(;l<t.length&&t.charCodeAt(l)===zc;)l++;let c=t.length;for(;c-1>l&&t.charCodeAt(c-1)===zc;)c--;let u=c-l,f=a<u?a:u,m=-1,h=0;for(;h<f;h++){let A=e.charCodeAt(i+h);if(A!==t.charCodeAt(l+h))break;A===zc&&(m=h)}if(h!==f){if(m===-1)return n}else{if(u>f){if(t.charCodeAt(l+h)===zc)return n.slice(l+h+1);if(h===2)return n.slice(l+h)}a>f&&(e.charCodeAt(i+h)===zc?m=h:h===2&&(m=3)),m===-1&&(m=0)}let p="";for(h=i+m+1;h<=s;++h)(h===s||e.charCodeAt(h)===zc)&&(p+=p.length===0?"..":"\\..");return l+=m,p.length>0?`${p}${n.slice(l,c)}`:(n.charCodeAt(l)===zc&&++l,n.slice(l,c))},toNamespacedPath(e){if(typeof e!="string"||e.length===0)return e;let t=Ys.resolve(e);if(t.length<=2)return e;if(t.charCodeAt(0)===zc){if(t.charCodeAt(1)===zc){let r=t.charCodeAt(2);if(r!==D0t&&r!==ny)return`\\\\?\\UNC\\${t.slice(2)}`}}else if(ry(t.charCodeAt(0))&&t.charCodeAt(1)===ty&&t.charCodeAt(2)===zc)return`\\\\?\\${t}`;return e},dirname(e){zs(e,"path");let t=e.length;if(t===0)return".";let r=-1,n=0,i=e.charCodeAt(0);if(t===1)return zn(i)?e:".";if(zn(i)){if(r=n=1,zn(e.charCodeAt(1))){let l=2,c=l;for(;l<t&&!zn(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&zn(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&!zn(e.charCodeAt(l));)l++;if(l===t)return e;l!==c&&(r=n=l+1)}}}}else ry(i)&&e.charCodeAt(1)===ty&&(r=t>2&&zn(e.charCodeAt(2))?3:2,n=r);let s=-1,a=!0;for(let l=t-1;l>=n;--l)if(zn(e.charCodeAt(l))){if(!a){s=l;break}}else a=!1;if(s===-1){if(r===-1)return".";s=r}return e.slice(0,s)},basename(e,t){t!==void 0&&zs(t,"suffix"),zs(e,"path");let r=0,n=-1,i=!0,s;if(e.length>=2&&ry(e.charCodeAt(0))&&e.charCodeAt(1)===ty&&(r=2),t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,l=-1;for(s=e.length-1;s>=r;--s){let c=e.charCodeAt(s);if(zn(c)){if(!i){r=s+1;break}}else l===-1&&(i=!1,l=s+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(n=s):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}for(s=e.length-1;s>=r;--s)if(zn(e.charCodeAt(s))){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":e.slice(r,n)},extname(e){zs(e,"path");let t=0,r=-1,n=0,i=-1,s=!0,a=0;e.length>=2&&e.charCodeAt(1)===ty&&ry(e.charCodeAt(0))&&(t=n=2);for(let l=e.length-1;l>=t;--l){let c=e.charCodeAt(l);if(zn(c)){if(!s){n=l+1;break}continue}i===-1&&(s=!1,i=l+1),c===ny?r===-1?r=l:a!==1&&(a=1):r!==-1&&(a=-1)}return r===-1||i===-1||a===0||a===1&&r===i-1&&r===n+1?"":e.slice(r,i)},format:Xve.bind(null,"\\"),parse(e){zs(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.length,n=0,i=e.charCodeAt(0);if(r===1)return zn(i)?(t.root=t.dir=e,t):(t.base=t.name=e,t);if(zn(i)){if(n=1,zn(e.charCodeAt(1))){let m=2,h=m;for(;m<r&&!zn(e.charCodeAt(m));)m++;if(m<r&&m!==h){for(h=m;m<r&&zn(e.charCodeAt(m));)m++;if(m<r&&m!==h){for(h=m;m<r&&!zn(e.charCodeAt(m));)m++;m===r?n=m:m!==h&&(n=m+1)}}}}else if(ry(i)&&e.charCodeAt(1)===ty){if(r<=2)return t.root=t.dir=e,t;if(n=2,zn(e.charCodeAt(2))){if(r===3)return t.root=t.dir=e,t;n=3}}n>0&&(t.root=e.slice(0,n));let s=-1,a=n,l=-1,c=!0,u=e.length-1,f=0;for(;u>=n;--u){if(i=e.charCodeAt(u),zn(i)){if(!c){a=u+1;break}continue}l===-1&&(c=!1,l=u+1),i===ny?s===-1?s=u:f!==1&&(f=1):s!==-1&&(f=-1)}return l!==-1&&(s===-1||f===0||f===1&&s===l-1&&s===a+1?t.base=t.name=e.slice(a,l):(t.name=e.slice(a,s),t.base=e.slice(a,l),t.ext=e.slice(s,l))),a>0&&a!==n?t.dir=e.slice(0,a-1):t.dir=t.root,t},sep:"\\",delimiter:";",win32:null,posix:null},N0t=(()=>{if(Yc){let e=/\\/g;return()=>{let t=Fw().replace(e,"/");return t.slice(t.indexOf("/"))}}return()=>Fw()})(),da={resolve(...e){let t="",r=!1;for(let n=e.length-1;n>=-1&&!r;n--){let i=n>=0?e[n]:N0t();zs(i,`paths[${n}]`),i.length!==0&&(t=`${i}/${t}`,r=i.charCodeAt(0)===yl)}return t=cM(t,!r,"/",nte),r?`/${t}`:t.length>0?t:"."},normalize(e){if(zs(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===yl,r=e.charCodeAt(e.length-1)===yl;return e=cM(e,!t,"/",nte),e.length===0?t?"/":r?"./":".":(r&&(e+="/"),t?`/${e}`:e)},isAbsolute(e){return zs(e,"path"),e.length>0&&e.charCodeAt(0)===yl},join(...e){if(e.length===0)return".";let t;for(let r=0;r<e.length;++r){let n=e[r];zs(n,"path"),n.length>0&&(t===void 0?t=n:t+=`/${n}`)}return t===void 0?".":da.normalize(t)},relative(e,t){if(zs(e,"from"),zs(t,"to"),e===t||(e=da.resolve(e),t=da.resolve(t),e===t))return"";let r=1,n=e.length,i=n-r,s=1,a=t.length-s,l=i<a?i:a,c=-1,u=0;for(;u<l;u++){let m=e.charCodeAt(r+u);if(m!==t.charCodeAt(s+u))break;m===yl&&(c=u)}if(u===l)if(a>l){if(t.charCodeAt(s+u)===yl)return t.slice(s+u+1);if(u===0)return t.slice(s+u)}else i>l&&(e.charCodeAt(r+u)===yl?c=u:u===0&&(c=0));let f="";for(u=r+c+1;u<=n;++u)(u===n||e.charCodeAt(u)===yl)&&(f+=f.length===0?"..":"/..");return`${f}${t.slice(s+c)}`},toNamespacedPath(e){return e},dirname(e){if(zs(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===yl,r=-1,n=!0;for(let i=e.length-1;i>=1;--i)if(e.charCodeAt(i)===yl){if(!n){r=i;break}}else n=!1;return r===-1?t?"/":".":t&&r===1?"//":e.slice(0,r)},basename(e,t){t!==void 0&&zs(t,"ext"),zs(e,"path");let r=0,n=-1,i=!0,s;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,l=-1;for(s=e.length-1;s>=0;--s){let c=e.charCodeAt(s);if(c===yl){if(!i){r=s+1;break}}else l===-1&&(i=!1,l=s+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(n=s):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}for(s=e.length-1;s>=0;--s)if(e.charCodeAt(s)===yl){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":e.slice(r,n)},extname(e){zs(e,"path");let t=-1,r=0,n=-1,i=!0,s=0;for(let a=e.length-1;a>=0;--a){let l=e.charCodeAt(a);if(l===yl){if(!i){r=a+1;break}continue}n===-1&&(i=!1,n=a+1),l===ny?t===-1?t=a:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||n===-1||s===0||s===1&&t===n-1&&t===r+1?"":e.slice(t,n)},format:Xve.bind(null,"/"),parse(e){zs(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.charCodeAt(0)===yl,n;r?(t.root="/",n=1):n=0;let i=-1,s=0,a=-1,l=!0,c=e.length-1,u=0;for(;c>=n;--c){let f=e.charCodeAt(c);if(f===yl){if(!l){s=c+1;break}continue}a===-1&&(l=!1,a=c+1),f===ny?i===-1?i=c:u!==1&&(u=1):i!==-1&&(u=-1)}if(a!==-1){let f=s===0&&r?1:s;i===-1||u===0||u===1&&i===a-1&&i===s+1?t.base=t.name=e.slice(f,a):(t.name=e.slice(f,i),t.base=e.slice(f,a),t.ext=e.slice(i,a))}return s>0?t.dir=e.slice(0,s-1):r&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};da.win32=Ys.win32=Ys;da.posix=Ys.posix=da;var I_r=Yc?Ys.normalize:da.normalize,T_r=Yc?Ys.isAbsolute:da.isAbsolute,w_r=Yc?Ys.join:da.join,S_r=Yc?Ys.resolve:da.resolve,__r=Yc?Ys.relative:da.relative,k_r=Yc?Ys.dirname:da.dirname,Zve=Yc?Ys.basename:da.basename,eIe=Yc?Ys.extname:da.extname,B_r=Yc?Ys.format:da.format,R_r=Yc?Ys.parse:da.parse,D_r=Yc?Ys.toNamespacedPath:da.toNamespacedPath,P_r=Yc?Ys.sep:da.sep,F_r=Yc?Ys.delimiter:da.delimiter;d();d();var Q0t=/^\w[\w\d+.-]*$/,M0t=/^\//,O0t=/^\/\//;function U0t(e,t){if(!e.scheme&&t)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${e.authority}", path: "${e.path}", query: "${e.query}", fragment: "${e.fragment}"}`);if(e.scheme&&!Q0t.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path){if(e.authority){if(!M0t.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(O0t.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}o(U0t,"_validateUri");function q0t(e,t){return!e&&!t?"file":e}o(q0t,"_schemeFix");function W0t(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==Vm&&(t=Vm+t):t=Vm;break}return t}o(W0t,"_referenceResolution");var Ro="",Vm="/",G0t=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,oy=class e{static{o(this,"URI")}static isUri(t){return t instanceof e?!0:t?typeof t.authority=="string"&&typeof t.fragment=="string"&&typeof t.path=="string"&&typeof t.query=="string"&&typeof t.scheme=="string"&&typeof t.fsPath=="string"&&typeof t.with=="function"&&typeof t.toString=="function":!1}constructor(t,r,n,i,s,a=!1){typeof t=="object"?(this.scheme=t.scheme||Ro,this.authority=t.authority||Ro,this.path=t.path||Ro,this.query=t.query||Ro,this.fragment=t.fragment||Ro):(this.scheme=q0t(t,a),this.authority=r||Ro,this.path=W0t(this.scheme,n||Ro),this.query=i||Ro,this.fragment=s||Ro,U0t(this,a))}get fsPath(){return ite(this,!1)}with(t){if(!t)return this;let{scheme:r,authority:n,path:i,query:s,fragment:a}=t;return r===void 0?r=this.scheme:r===null&&(r=Ro),n===void 0?n=this.authority:n===null&&(n=Ro),i===void 0?i=this.path:i===null&&(i=Ro),s===void 0?s=this.query:s===null&&(s=Ro),a===void 0?a=this.fragment:a===null&&(a=Ro),r===this.scheme&&n===this.authority&&i===this.path&&s===this.query&&a===this.fragment?this:new iy(r,n,i,s,a)}static parse(t,r=!1){let n=G0t.exec(t);return n?new iy(n[2]||Ro,uM(n[4]||Ro),uM(n[5]||Ro),uM(n[7]||Ro),uM(n[9]||Ro),r):new iy(Ro,Ro,Ro,Ro,Ro)}static file(t){let r=Ro;if(_4&&(t=t.replace(/\\/g,Vm)),t[0]===Vm&&t[1]===Vm){let n=t.indexOf(Vm,2);n===-1?(r=t.substring(2),t=Vm):(r=t.substring(2,n),t=t.substring(n)||Vm)}return new iy("file",r,t,Ro,Ro)}static from(t,r){return new iy(t.scheme,t.authority,t.path,t.query,t.fragment,r)}static joinPath(t,...r){if(!t.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let n;return _4&&t.scheme==="file"?n=e.file(Ys.join(ite(t,!0),...r)).path:n=da.join(t.path,...r),t.with({path:n})}toString(t=!1){return ote(this,t)}toJSON(){return this}static revive(t){if(t){if(t instanceof e)return t;{let r=new iy(t);return r._formatted=t.external??null,r._fsPath=t._sep===nIe?t.fsPath??null:null,r}}else return t}[Symbol.for("debug.description")](){return`URI(${this.toString()})`}};var nIe=_4?1:void 0,iy=class extends oy{constructor(){super(...arguments);this._formatted=null;this._fsPath=null}static{o(this,"Uri")}get fsPath(){return this._fsPath||(this._fsPath=ite(this,!1)),this._fsPath}toString(r=!1){return r?ote(this,!0):(this._formatted||(this._formatted=ote(this,!1)),this._formatted)}toJSON(){let r={$mid:1};return this._fsPath&&(r.fsPath=this._fsPath,r._sep=nIe),this._formatted&&(r.external=this._formatted),this.path&&(r.path=this.path),this.scheme&&(r.scheme=this.scheme),this.authority&&(r.authority=this.authority),this.query&&(r.query=this.query),this.fragment&&(r.fragment=this.fragment),r}},iIe={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function tIe(e,t,r){let n,i=-1;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);if(a>=97&&a<=122||a>=65&&a<=90||a>=48&&a<=57||a===45||a===46||a===95||a===126||t&&a===47||r&&a===91||r&&a===93||r&&a===58)i!==-1&&(n+=encodeURIComponent(e.substring(i,s)),i=-1),n!==void 0&&(n+=e.charAt(s));else{n===void 0&&(n=e.substr(0,s));let l=iIe[a];l!==void 0?(i!==-1&&(n+=encodeURIComponent(e.substring(i,s)),i=-1),n+=l):i===-1&&(i=s)}}return i!==-1&&(n+=encodeURIComponent(e.substring(i))),n!==void 0?n:e}o(tIe,"encodeURIComponentFast");function H0t(e){let t;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n===35||n===63?(t===void 0&&(t=e.substr(0,r)),t+=iIe[n]):t!==void 0&&(t+=e[r])}return t!==void 0?t:e}o(H0t,"encodeURIComponentMinimal");function ite(e,t){let r;return e.authority&&e.path.length>1&&e.scheme==="file"?r=`//${e.authority}${e.path}`:e.path.charCodeAt(0)===47&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&e.path.charCodeAt(2)===58?t?r=e.path.substr(1):r=e.path[1].toLowerCase()+e.path.substr(2):r=e.path,_4&&(r=r.replace(/\//g,"\\")),r}o(ite,"uriToFsPath");function ote(e,t){let r=t?H0t:tIe,n="",{scheme:i,authority:s,path:a,query:l,fragment:c}=e;if(i&&(n+=i,n+=":"),(s||i==="file")&&(n+=Vm,n+=Vm),s){let u=s.indexOf("@");if(u!==-1){let f=s.substr(0,u);s=s.substr(u+1),u=f.lastIndexOf(":"),u===-1?n+=r(f,!1,!1):(n+=r(f.substr(0,u),!1,!1),n+=":",n+=r(f.substr(u+1),!1,!0)),n+="@"}s=s.toLowerCase(),u=s.lastIndexOf(":"),u===-1?n+=r(s,!1,!0):(n+=r(s.substr(0,u),!1,!0),n+=s.substr(u))}if(a){if(a.length>=3&&a.charCodeAt(0)===47&&a.charCodeAt(2)===58){let u=a.charCodeAt(1);u>=65&&u<=90&&(a=`/${String.fromCharCode(u+32)}:${a.substr(3)}`)}else if(a.length>=2&&a.charCodeAt(1)===58){let u=a.charCodeAt(0);u>=65&&u<=90&&(a=`${String.fromCharCode(u+32)}:${a.substr(2)}`)}n+=r(a,!0,!1)}return l&&(n+="?",n+=r(l,!1,!1)),c&&(n+="#",n+=t?c:tIe(c,!1,!1)),n}o(ote,"_asFormatted");function oIe(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substr(0,3)+oIe(e.substr(3)):e}}o(oIe,"decodeURIComponentGraceful");var rIe=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function uM(e){return e.match(rIe)?e.replace(rIe,t=>oIe(t)):e}o(uM,"percentDecode");var pd=class e{constructor(t){this.uri=t;this._uri=oy.parse(Hl(this.uri))}static{o(this,"DocumentId")}static{this._cache=new Q1({getCacheKey:JSON.stringify},t=>new e(t.uri))}static create(t){return e._cache.get({uri:t})}get path(){return this._uri.path}get fragment(){return this._uri.fragment}toString(){return this.uri}get baseName(){return Zve(this.uri)}get extension(){return eIe(this.uri)}toUri(){return this._uri}};function ste(e){return pd.create(e)}o(ste,"createDocumentId");d();d();var gd=class e{constructor(t){this.edits=t;let r=-1;for(let n of t){if(!(n.replaceRange.start>=r))throw new pi(`Edits must be disjoint and sorted. Found ${n} after ${r}`);r=n.replaceRange.endExclusive}}static{o(this,"OffsetEdit")}static{this.empty=new e([])}static fromJson(t){return new e(t.map(Na.fromJson))}static from(t){let r=t.map(i=>new Na(Mr.ofStartAndLength(i.rangeOffset,i.rangeLength),i.text));return r.reverse(),new e(r)}static single(t,r){return new e([new Na(t,r)])}normalize(){let t=[],r;for(let n of this.edits)n.newText.length===0&&n.replaceRange.length===0||(r&&r.replaceRange.endExclusive===n.replaceRange.start?r=new Na(r.replaceRange.join(n.replaceRange),r.newText+n.newText):(r&&t.push(r),r=n));return r&&t.push(r),new e(t)}normalizeEOL(t){return new e(this.edits.map(r=>r.normalizeEOL(t)))}isNoop(t){return this.edits.every(r=>r.isNoop(t))}toString(){return`[${this.edits.map(r=>r.toString()).join(", ")}]`}apply(t){let r=[],n=0;for(let i of this.edits)r.push(t.substring(n,i.replaceRange.start)),r.push(i.newText),n=i.replaceRange.endExclusive;return r.push(t.substring(n)),r.join("")}compose(t){return V0t(this,t)}inverse(t){let r=[],n=0;for(let i of this.edits)r.push(new Na(Mr.ofStartAndLength(i.replaceRange.start+n,i.newText.length),t.substring(i.replaceRange.start,i.replaceRange.endExclusive))),n+=i.newText.length-i.replaceRange.length;return new e(r)}getNewTextRanges(){let t=[],r=0;for(let n of this.edits)t.push(Mr.ofStartAndLength(n.replaceRange.start+r,n.newText.length)),r+=n.newText.length-n.replaceRange.length;return t}get isEmpty(){return this.edits.length===0}tryRebase(t){let r=[],n=0,i=0,s=0;for(;i<this.edits.length||n<t.edits.length;){let a=t.edits[n],l=this.edits[i];if(l)a?l.replaceRange.intersects(a.replaceRange)?i++:l.replaceRange.start<a.replaceRange.start?(r.push(new Na(l.replaceRange.delta(s),l.newText)),i++):(n++,s+=a.newText.length-a.replaceRange.length):(r.push(new Na(l.replaceRange.delta(s),l.newText)),i++);else break}return new e(r)}removeCommonSuffixPrefix(t){let r=[];for(let n of this.edits){let i=n.removeCommonSuffixPrefix(t);i.isEmpty||r.push(i)}return new e(r)}applyToOffset(t){let r=0;for(let n of this.edits)if(n.replaceRange.start<=t){if(t<n.replaceRange.endExclusive)return n.replaceRange.start+r;r+=n.newText.length-n.replaceRange.length}else break;return t+r}applyToOffsetRange(t){return new Mr(this.applyToOffset(t.start),this.applyToOffset(t.endExclusive))}applyToOffsetOrUndefined(t){let r=0;for(let n of this.edits)if(n.replaceRange.start<=t){if(t<n.replaceRange.endExclusive)return;r+=n.newText.length-n.replaceRange.length}else break;return t+r}applyToOffsetRangeOrUndefined(t){let r=this.applyToOffsetOrUndefined(t.start);if(r===void 0)return;let n=this.applyToOffsetOrUndefined(t.endExclusive);if(n!==void 0)return new Mr(r,n)}applyInverseToOffset(t){let r=0;for(let n of this.edits){let i=n.newText.length;if(n.replaceRange.start<=t-r){if(t-r<n.replaceRange.start+i)return n.replaceRange.start;r+=i-n.replaceRange.length}else break}return t-r}},Na=class e{constructor(t,r){this.replaceRange=t;this.newText=r}static{o(this,"SingleOffsetEdit")}static delete(t){return new e(t,"")}static fromJson(t){return new e(Mr.ofStartAndLength(t.pos,t.len),t.txt)}toString(){return`${this.replaceRange} -> "${this.newText}"`}removeCommonSuffixPrefix(t){let r=t.substring(this.replaceRange.start,this.replaceRange.endExclusive),n=jve(r,this.newText),i=Math.min(r.length-n,this.newText.length-n,rM(r,this.newText)),s=new Mr(this.replaceRange.start+n,this.replaceRange.endExclusive-i),a=this.newText.substring(n,this.newText.length-i);return new e(s,a)}normalizeEOL(t){let r=this.newText.replace(/\r\n|\n/g,t);return new e(this.replaceRange,r)}isNoop(t){return this.newText===t.substring(this.replaceRange.start,this.replaceRange.endExclusive)}get isEmpty(){return this.newText.length===0&&this.replaceRange.length===0}};function V0t(e,t){if(e=e.normalize(),t=t.normalize(),e.isEmpty)return t;if(t.isEmpty)return e;let r=[...e.edits],n=[],i=0;for(let s of t.edits){for(;;){let u=r[0];if(!u||u.replaceRange.start+i+u.newText.length>=s.replaceRange.start)break;r.shift(),n.push(u),i+=u.newText.length-u.replaceRange.length}let a=i,l,c;for(;;){let u=r[0];if(!u||u.replaceRange.start+i>s.replaceRange.endExclusive)break;l||(l=u),c=u,r.shift(),i+=u.newText.length-u.replaceRange.length}if(!l)n.push(new Na(s.replaceRange.delta(-i),s.newText));else{let u="",f=s.replaceRange.start-(l.replaceRange.start+a);f>0&&(u=l.newText.slice(0,f));let m=c.replaceRange.endExclusive+i-s.replaceRange.endExclusive;if(m>0){let A=new Na(Mr.ofStartAndLength(c.replaceRange.endExclusive,0),c.newText.slice(-m));r.unshift(A),i-=A.newText.length-A.replaceRange.length}let h=u+s.newText,p=new Mr(Math.min(l.replaceRange.start,s.replaceRange.start-a),s.replaceRange.endExclusive-i);n.push(new Na(p,h))}}for(;;){let s=r.shift();if(!s)break;n.push(s)}return new gd(n).normalize()}o(V0t,"joinEdits");d();d();var sIe=-1;function bI(){return sIe!==-1?sIe:Date.now()}o(bI,"now");function aIe(e,t){return e.endLineNumberExclusive<=t.startLineNumber?t.startLineNumber-e.endLineNumberExclusive:t.endLineNumberExclusive<=e.startLineNumber?e.startLineNumber-t.endLineNumberExclusive:0}o(aIe,"lineRangeDistance");d();var vI=class e{constructor(t){this.edits=t}static{o(this,"TextEdit")}static fromEdit(t,r){let n=t.edits.map(i=>new U1(r.getTransformer().getRange(i.range),i.newText));return new e(n)}toEdit(t){let r=this.edits.map(n=>Es.replace(t.getTransformer().getOffsetRange(n.range),n.newText));return ns.create(r)}mapEdits(t){return new e(this.edits.map(t))}},U1=class e{constructor(t,r){this.range=t;this.newText=r}static{o(this,"SingleTextEdit")}static joinEdits(t,r){if(t.length===0)throw new pi;if(t.length===1)return t[0];let n=t[0].range.getStartPosition(),i=t[t.length-1].range.getEndPosition(),s="";for(let a=0;a<t.length;a++){let l=t[a];if(s+=l.newText,a<t.length-1){let c=t[a+1],u=li.fromPositions(l.range.getEndPosition(),c.range.getStartPosition()),f=r.getValueOfRange(u);s+=f}}return new e(li.fromPositions(n,i),s)}static fromSingleEdit(t,r){return new e(r.getTransformer().getRange(t.range),t.newText)}extendToCoverRange(t,r){if(this.range.containsRange(t))return this;let n=this.range.plusRange(t),i=r.getValueOfRange(li.fromPositions(n.getStartPosition(),this.range.getStartPosition())),s=r.getValueOfRange(li.fromPositions(this.range.getEndPosition(),n.getEndPosition())),a=i+this.newText+s;return new e(n,a)}extendToFullLine(t){let r=new li(this.range.startLineNumber,1,this.range.endLineNumber,t.getTransformer().getLineLength(this.range.endLineNumber)+1);return this.extendToCoverRange(r,t)}toSingleEdit(t){let n=t.getTransformer().getOffsetRange(this.range);return Es.replace(n,this.newText)}};var bs=class e{constructor(t){this.edits=t;$c(LQ(t,(r,n)=>r.lineRange.endLineNumberExclusive<=n.lineRange.startLineNumber))}static{o(this,"LineEdit")}static{this.empty=new e([])}static deserialize(t){return new e(t.map(r=>q1.deserialize(r)))}static fromEdit(t){let r=vI.fromEdit(t.edit,t.base);return e.fromTextEdit(r,t.base)}static fromTextEdit(t,r){let n=t.edits,i=[],s=[];for(let a=0;a<n.length;a++){let l=n[a],c=a+1<n.length?n[a+1]:void 0;if(s.push(l),c&&c.range.startLineNumber===l.range.endLineNumber)continue;let u=U1.joinEdits(s,r);s.length=0;let f=q1.fromSingleTextEdit(u,r);i.push(f)}return new e(i)}static createFromUnsorted(t){let r=t.slice();return r.sort(K5(n=>n.lineRange.startLineNumber,J5)),new e(r)}isEmpty(){return this.edits.length===0}toEdit(t){let r=[];for(let n of this.edits){let i=n.toSingleEdit(t);r.push(i)}return ns.create(r)}toString(){return this.edits.map(t=>t.toString()).join(",")}serialize(){return this.edits.map(t=>t.serialize())}getNewLineRanges(){let t=[],r=0;for(let n of this.edits)t.push($n.ofLength(n.lineRange.startLineNumber+r,n.newLines.length)),r+=n.newLines.length-n.lineRange.length;return t}mapLineNumber(t){let r=0;for(let n of this.edits){if(n.lineRange.endLineNumberExclusive>t)break;r+=n.newLines.length-n.lineRange.length}return t+r}mapLineRange(t){return new $n(this.mapLineNumber(t.startLineNumber),this.mapLineNumber(t.endLineNumberExclusive))}mapBackLineRange(t,r){return this.inverse(r).mapLineRange(t)}touches(t){return this.edits.some(r=>t.edits.some(n=>r.lineRange.intersect(n.lineRange)))}rebase(t){return new e(this.edits.map(r=>new q1(t.mapLineRange(r.lineRange),r.newLines)))}humanReadablePatch(t){let r=[];function n(l,c,u,f){let m=u==="unmodified"?" ":u==="deleted"?"-":"+";f===void 0&&(f="[[[[[ WARNING: LINE DOES NOT EXIST ]]]]]");let h=l===-1?"   ":l.toString().padStart(3," "),p=c===-1?"   ":c.toString().padStart(3," ");r.push(`${m} ${h} ${p} ${f}`)}o(n,"pushLine");function i(){r.push("---")}o(i,"pushSeperator");let s=0,a=!0;for(let l of cve(this.edits,(c,u)=>aIe(c.lineRange,u.lineRange)<=5)){a?a=!1:i();let c=l[0].lineRange.startLineNumber-2;for(let u of l){for(let h=Math.max(1,c);h<u.lineRange.startLineNumber;h++)n(h,h+s,"unmodified",t[h-1]);let f=u.lineRange,m=u.newLines;for(let h of f.mapToLineArray(p=>p)){let p=t[h-1];n(h,-1,"deleted",p)}for(let h=0;h<m.length;h++){let p=m[h];n(-1,f.startLineNumber+s+h,"added",p)}c=f.endLineNumberExclusive,s+=u.newLines.length-u.lineRange.length}for(let u=c;u<=Math.min(c+2,t.length);u++)n(u,u+s,"unmodified",t[u-1])}return r.join(`
`)}apply(t){let r=[],n=0;for(let i of this.edits){for(;n<i.lineRange.startLineNumber-1;)r.push(t[n]),n++;for(let s of i.newLines)r.push(s);n=i.lineRange.endLineNumberExclusive-1}for(;n<t.length;)r.push(t[n]),n++;return r}inverse(t){let r=this.getNewLineRanges();return new e(this.edits.map((n,i)=>new q1(r[i],t.slice(n.lineRange.startLineNumber-1,n.lineRange.endLineNumberExclusive-1))))}},q1=class e{constructor(t,r){this.lineRange=t;this.newLines=r}static{o(this,"SingleLineEdit")}static deserialize(t){return new e($n.ofLength(t[0],t[1]-t[0]),t[2])}static fromSingleTextEdit(t,r){let n=ey(t.newText),i=t.range.startLineNumber,s=r.getValueOfRange(li.fromPositions(new oo(t.range.startLineNumber,1),t.range.getStartPosition()));n[0]=s+n[0];let a=t.range.endLineNumber+1,l=r.getTransformer().getLineLength(t.range.endLineNumber)+1,c=r.getValueOfRange(li.fromPositions(t.range.getEndPosition(),new oo(t.range.endLineNumber,l)));n[n.length-1]=n[n.length-1]+c;let u=t.range.startColumn===r.getTransformer().getLineLength(t.range.startLineNumber)+1,f=t.range.endColumn===1;return u&&n[0].length===s.length&&(i++,n.shift()),n.length>0&&i<a&&f&&n[n.length-1].length===c.length&&(a--,n.pop()),new e(new $n(i,a),n)}toLineEdit(){return new bs([this])}toSingleTextEdit(t){if(this.newLines.length===0){let r=t.getTransformer().textLength;if(this.lineRange.endLineNumberExclusive===r.lineCount+2){let n;if(this.lineRange.startLineNumber>1){let s=this.lineRange.startLineNumber-1,a=t.getTransformer().getLineLength(s)+1;n=new oo(s,a)}else n=new oo(1,1);let i=r.addToPosition(new oo(1,1));return new U1(li.fromPositions(n,i),"")}else return new U1(new li(this.lineRange.startLineNumber,1,this.lineRange.endLineNumberExclusive,1),"")}else if(this.lineRange.isEmpty){let r,n,i,s=this.lineRange.startLineNumber;return s===t.getTransformer().textLength.lineCount+2?(r=s-1,n=t.getTransformer().getLineLength(r)+1,i=this.newLines.map(a=>`
`+a).join("")):(r=s,n=1,i=this.newLines.map(a=>a+`
`).join("")),new U1(li.fromPositions(new oo(r,n)),i)}else{let r=this.lineRange.endLineNumberExclusive-1,n=t.getTransformer().getLineLength(r)+1,i=new li(this.lineRange.startLineNumber,1,r,n),s=this.newLines.join(`
`);return new U1(i,s)}}toSingleEdit(t){let r=this.toSingleTextEdit(t),n=t.getTransformer().getOffsetRange(r.range);return Es.replace(n,r.newText)}toString(){return`${this.lineRange}->${JSON.stringify(this.newLines)}`}serialize(){return[this.lineRange.startLineNumber,this.lineRange.endLineNumberExclusive,this.newLines]}removeCommonSuffixPrefixLines(t){let r=this.lineRange.startLineNumber,n=this.lineRange.endLineNumberExclusive,i=0;for(;r<n&&i<this.newLines.length&&this.newLines[i]===t.getLineAt(r);)r++,i++;let s=0;for(;r<n&&s+i<this.newLines.length&&this.newLines[this.newLines.length-1-s]===t.getLineAt(n-1);)n--,s++;return i===0&&s===0?this:new e(new $n(r,n),this.newLines.slice(i,this.newLines.length-s))}},j0t;(t=>{function e(r){return Array.isArray(r)&&r.length===3&&typeof r[0]=="number"&&typeof r[1]=="number"&&Array.isArray(r[2])&&r[2].every(n=>typeof n=="string")}t.is=e,o(e,"is")})(j0t||={});var Np=class e{constructor(t,r){this.base=t;this.edit=r}static{o(this,"RootedLineEdit")}static fromEdit(t){let r=bs.fromEdit(t);return new e(t.base,r)}toString(){return this.edit.humanReadablePatch(this.base.getLines())}toEdit(){return this.edit.toEdit(this.base)}toRootedEdit(){return new Ku(this.base,this.toEdit())}getEditedState(){let t=this.base.getLines();return this.edit.apply(t)}removeCommonSuffixPrefixLines(){let t=o(n=>!n.lineRange.isEmpty||n.newLines.length>0,"isNotEmptyEdit"),r=this.edit.edits.map(n=>n.removeCommonSuffixPrefixLines(this.base)).filter(n=>t(n));return new e(this.base,new bs(r))}};var ns=class e{constructor(t){this.edits=t;$c(LQ(t,(r,n)=>r.range.endExclusive<=n.range.start))}static{o(this,"Edit")}static deserialize(t){return new e(t.map(r=>Es.deserialize(r)))}static{this.empty=new e([])}static create(t){return new e(t)}static single(t){return new e([t])}static replace(t,r){return new e([Es.replace(t,r)])}static insert(t,r){return new e([Es.insert(t,r)])}static fromOffsetEdit(t){return new e(t.edits.map(r=>Es.replace(r.replaceRange,r.newText)))}static compose(t){let r;for(let n of t)r===void 0?r=n:r=r.compose(n);return r??e.empty}static trySwap(t,r){let n=t.inverse((a,l)=>" ".repeat(l-a)),i=r.tryRebase(n);if(!i)return;let s=t.tryRebase(i);if(s)return{e1:i,e2:s}}toOffsetEdit(){return new gd(this.edits.map(t=>new Na(t.range,t.newText)))}compose(t){return $0t(this,t)}getNewRanges(){return this.toOffsetEdit().getNewTextRanges()}apply(t){let r="",n=0;for(let i of this.edits)r+=t.substring(n,i.range.start),r+=i.newText,n=i.range.endExclusive;return r+=t.substring(n),r}normalize(){let t=[],r;for(let n of this.edits)if(!(n.newText.length===0&&n.range.length===0))if(r&&r.range.endExclusive===n.range.start){let i=r.data?.merge(n.data)??void 0;r=Es.replaceWithData(r.range.join(n.range),r.newText+n.newText,i)}else r&&t.push(r),r=n;return r&&t.push(r),new e(t)}normalizeOnSource(t){let r=this.apply(t),i=Es.replace(Mr.ofLength(t.length),r).removeCommonSuffixAndPrefix(t);return i.isNeutral()?e.empty:i.toEdit()}toString(){return this.edits.map(t=>t.toString()).join("")}decompose(t){if(t===void 0){let i=[],s=0;for(let a of this.edits)i.push(Es.replaceWithData(Mr.ofStartAndLength(a.range.start+s,a.range.length),a.newText,a.data)),s+=a.newText.length-a.range.length;return new fM(i)}if(this.edits.length!==t.arrayLength)throw Bw(`Number of edits ${this.edits.length} does not match ${t.arrayLength}`);let r=[],n=this.edits.slice();for(let i=0;i<this.edits.length;++i){let s=t.mapIndexBack(i),a=n[s];r.push(a);for(let l=s;l<n.length;++l){let c=a.newText.length-a.range.length,u=n[l];n[l]=Es.replaceWithData(Mr.ofStartAndLength(u.range.start+c,u.range.length),u.newText,u.data)}}return new fM(r)}getRange(){if(this.edits.length!==0)return this.edits[0].range.join(this.edits[this.edits.length-1].range)}isEmpty(){return this.edits.length===0}applyInverseToOffsetRange(t){let r=this.toOffsetEdit(),n=r.applyInverseToOffset(t.start),i=r.applyInverseToOffset(t.endExclusive);return new Mr(n,i)}serialize(){return this.edits.map(t=>t.serialize())}equals(t){if(this.edits.length!==t.edits.length)return!1;for(let r=0;r<this.edits.length;++r)if(!this.edits[r].equals(t.edits[r]))return!1;return!0}inverse(t){let r=[],n=0;for(let i of this.edits)r.push(Es.replace(Mr.ofStartAndLength(i.range.start+n,i.newText.length),t(i.range.start,i.range.endExclusive))),n+=i.newText.length-i.range.length;return new e(r)}inverseOnString(t){return this.inverse((r,n)=>t.substring(r,n))}mapData(t){return e.create(this.edits.map(r=>r.mapData(t)))}tryRebase(t){let r=[],n=0,i=0,s=0;for(;i<this.edits.length||n<t.edits.length;){let a=t.edits[n],l=this.edits[i];if(l)if(!a)r.push(Es.replace(l.range.delta(s),l.newText)),i++;else{if(l.range.intersectsOrTouches(a.range))return;l.range.start<a.range.start?(r.push(Es.replace(l.range.delta(s),l.newText)),i++):(n++,s+=a.newText.length-a.range.length)}else break}return new e(r)}};function $0t(e,t){if(e=e.normalize(),t=t.normalize(),e.isEmpty())return t;if(t.isEmpty())return e;let r=[...e.edits],n=[],i=0;for(let s of t.edits){for(;;){let u=r[0];if(!u||u.range.start+i+u.newText.length>=s.range.start)break;r.shift(),n.push(u),i+=u.newText.length-u.range.length}let a=i,l,c;for(;;){let u=r[0];if(!u||u.range.start+i>s.range.endExclusive)break;l||(l=u),c=u,r.shift(),i+=u.newText.length-u.range.length}if(!l)n.push(Es.replaceWithData(s.range.delta(-i),s.newText,s.data));else{let u=s.range.start-a-l.range.start;u>0&&n.push(Es.replaceWithData(Mr.emptyAt(l.range.start),l.newText.slice(0,u),l.data));let f=c.range.endExclusive+i-s.range.endExclusive;if(f>0){let h=Es.replaceWithData(Mr.emptyAt(c.range.endExclusive),c.newText.slice(-f),c.data);r.unshift(h),i-=h.newText.length-h.range.length}let m=new Mr(Math.min(l.range.start,s.range.start-a),s.range.endExclusive-i);n.push(Es.replaceWithData(m,s.newText,s.data))}}for(;;){let s=r.shift();if(!s)break;n.push(s)}return ns.create(n).normalize()}o($0t,"joinEdits");var Es=class e{constructor(t,r,n){this.range=t;this.newText=r;this.data=n}static{o(this,"SingleEdit")}static deserialize(t){return new e(new Mr(t[0],t[1]),t[2],void 0)}static replace(t,r){return new e(t,r,void 0)}static insert(t,r){return new e(new Mr(t,t),r,void 0)}static delete(t){return new e(t,"",void 0)}static replaceWithData(t,r,n){return new e(t,r,n)}static insertWithData(t,r,n){return new e(new Mr(t,t),r,n)}static deleteWithData(t,r){return new e(t,"",r)}static fromSingleOffsetEdit(t){return new e(t.replaceRange,t.newText,void 0)}toString(){return`${this.range}->${JSON.stringify(this.newText)}`}serialize(){return[this.range.start,this.range.endExclusive,this.newText]}toEdit(){return ns.create([this])}equals(t){return this.range.equals(t.range)&&this.newText===t.newText}removeCommonSuffixAndPrefix(t){return this.removeCommonSuffix(t).removeCommonPrefix(t)}removeCommonPrefix(t){let r=this.range.substring(t),n=z0t(r,this.newText);return n===0?this:e.replaceWithData(this.range.deltaStart(n),this.newText.substring(n),this.data)}removeCommonSuffix(t){let r=this.range.substring(t),n=Y0t(r,this.newText);return n===0?this:e.replaceWithData(this.range.deltaEnd(-n),this.newText.substring(0,this.newText.length-n),this.data)}isNeutral(){return this.newText.length===0&&this.range.length===0}mapData(t){return new e(this.range,this.newText,t(this.data))}};function z0t(e,t){let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];)r++;return r}o(z0t,"commonPrefixLength");function Y0t(e,t){let r=0;for(;r<e.length&&r<t.length&&e[e.length-1-r]===t[t.length-1-r];)r++;return r}o(Y0t,"commonSuffixLength");var Ku=class e{constructor(t,r){this.base=t;this.edit=r}static{o(this,"RootedEdit")}getEditedState(){return this.base.apply(this.edit)}rebase(t){return Y5(()=>null.base.equals(this.base.apply(t))),Y5(()=>null.base.apply(null.edit).equals(this.base.apply(t).apply(this.edit))),null}toString(){return Np.fromEdit(this).toString()}normalize(){return new e(this.base,this.edit.normalizeOnSource(this.base.value))}equals(t){return this.base.equals(t.base)&&this.edit.equals(t.edit)}},fM=class e{constructor(t){this.edits=t}static{o(this,"SingleEdits")}static{this.empty=new e([])}compose(){return ns.compose(this.edits.map(t=>t.toEdit()))}apply(t){return this.compose().apply(t)}isEmpty(){return this.edits.length===0}toEdits(){return new Lp(this.edits.map(t=>t.toEdit()))}},Lp=class e{constructor(t){this.edits=t}static{o(this,"Edits")}static{this.empty=new e([])}static single(t){return new e([t])}compose(){return ns.compose(this.edits)}add(t){return new e([...this.edits,t])}apply(t){return this.compose().apply(t)}isEmpty(){return this.edits.length===0}swap(t){let r=t,n=[];for(let i of this.edits){let s=ns.trySwap(r,i);if(!s)return;n.push(s.e1),r=s.e2}return{edits:new e(n),editLast:r}}mapData(t){return new e(this.edits.map(r=>r.mapData(t)))}serialize(){return this.edits.map(t=>t.serialize())}static deserialize(t){return new e(t.map(r=>ns.deserialize(r)))}toHumanReadablePatch(t){let r=t,n=[];for(let i of this.edits){let s=bs.fromEdit(new Ku(r,i));n.push(s.humanReadablePatch(r.getLines())),r=r.apply(i)}return n.join(`
---
`)}};d();var II=class extends Pp{constructor(r,n=!1){super();this._openDocuments=Hm(this,[]);this.openDocuments=this._openDocuments;this._documents=new Map;this._started=!1;this.ctx=r,this._started=!1,n||this.start()}static{o(this,"ObservableLspWorkspace")}start(){if(this._started)return;this._started=!0;let r=this.ctx.get(Vr);for(let n of r.getOpenTextDocuments())n&&this.addLspDocument(n.uri,n);r.onDidOpenTextDocument(async n=>{this.addLspDocument(n.document.uri,n.document)}),r.onDidCloseTextDocument(async n=>{this.removeClosedLspDocument(n.document.uri)}),r.onDidChangeTextDocument(async n=>{this.onDidChangeLspDocument(n.document.uri,n.contentChanges,n.document)})}addLspDocument(r,n){let i=pd.create(r);return this.addDocument({id:i,initialValue:n.getText(),languageId:w4.create(n.clientLanguageId)},void 0)}onDidChangeLspDocument(r,n,i){if(i===void 0)throw new Error("Not implemented: LspDocumentManager.onDidChangeLspDocument with undefined baseDoc");let s=pd.create(r),a=this._documents.get(s);a&&a.applyLspContentChanges(n,i)}onUserPositionChange(r,n){let i=pd.create(r),s=this._documents.get(i);s&&s.updateSelectionFromLspPosition(n)}removeClosedLspDocument(r){let n=pd.create(r);this._documents.get(n)?.dispose()}addDocument(r,n=void 0){let i=this._documents.get(r.id);if(i)return i;let s=new ate(r.id,new Al(r.initialValue??""),[],r.languageId??w4.PlainText,()=>{this._documents.delete(r.id);let a=this._openDocuments.get(),l=a.filter(c=>c.id!==s.id);l.length!==a.length&&this._openDocuments.set(l,n,{added:[],removed:[s]})},r.workspaceRoot);return this._documents.set(r.id,s),this._openDocuments.set([...this._openDocuments.get(),s],n,{added:[s],removed:[]}),s}getDocument(r){return this._documents.get(r)}clear(){this._openDocuments.set([],void 0,{added:[],removed:this._openDocuments.get()});for(let r of this._documents.values())r.dispose();this._documents.clear()}getWorkspaceRoot(r){return this._documents.get(r)?.workspaceRoot}},ate=class extends iM{static{o(this,"MutableObservableLspDocument")}constructor(t,r,n,i,s,a){super(t,r,n,i,s,a)}applyLspContentChanges(t,r){let n=this.editFromLspContentChanges(t);this.applyEdit(n.compose(),void 0)}updateSelectionFromLspPosition(t){let r=this.value.get().getTransformer().getOffset(new oo(t.lineNumber+1,t.column+1));this.updateSelection([new Mr(r,r)])}editFromLspContentChanges(t){return new Lp(t.map(n=>this.editFromLspContentChange(n)))}editFromLspContentChange(t){if(lIe.TextDocumentContentChangeEvent.isIncremental(t)){let r=this.value.get().getTransformer(),n=r.getOffset(new oo(t.range.start.line+1,t.range.start.character+1)),i=r.getOffset(new oo(t.range.end.line+1,t.range.end.character+1));return ns.replace(new Mr(n,i),t.text)}throw new Error("Full replacement edits are not supported")}};d();d();function cIe(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)&&!(e instanceof RegExp)&&!(e instanceof Date)}o(cIe,"isObject");function dM(e,t){if(!e)throw new Error(t?`Unexpected type, expected '${t}'`:"Unexpected type")}o(dM,"assertType");d();d();d();var B4=0;function mM(e){return e===0}o(mM,"lengthIsZero");var Ju=2**26;function TI(e,t){return e*Ju+t}o(TI,"toLength");function W1(e){let t=e,r=Math.floor(t/Ju),n=t-r*Ju;return new Yu(r,n)}o(W1,"lengthToObj");function Nw(e,t){let r=e+t;return t>=Ju&&(r=r-e%Ju),r}o(Nw,"lengthAdd");function uIe(e,t){return e.reduce((r,n)=>Nw(r,t(n)),B4)}o(uIe,"sumLengths");function lte(e,t){return e===t}o(lte,"lengthEquals");function Lw(e,t){let r=e,n=t;if(n-r<=0)return B4;let s=Math.floor(r/Ju),a=Math.floor(n/Ju),l=n-a*Ju;if(s===a){let c=r-s*Ju;return TI(0,l-c)}else return TI(a-s,l)}o(Lw,"lengthDiffNonNegative");function fIe(e,t){let r=e,n=Math.floor(r/Ju),i=r-n*Ju,s=t,a=Math.floor(s/Ju),l=s-a*Ju;return new li(n+1,i+1,a+1,l+1)}o(fIe,"lengthsToRange");d();var wI=class{constructor(t,r,n){this.startOffset=t;this.endOffset=r;this.newLength=n}static{o(this,"TextEditInfo")}toString(){return`[${W1(this.startOffset)}...${W1(this.endOffset)}) -> ${W1(this.newLength)}`}};function mIe(e,t){if(e.length===0)return t;if(t.length===0)return e;let r=new QQ(dIe(e)),n=dIe(t);n.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let i=r.dequeue();function s(u){if(u===void 0){let m=r.takeWhile(h=>!0)||[];return i&&m.unshift(i),m}let f=[];for(;i&&!mM(u);){let[m,h]=i.splitAt(u);f.push(m),u=Lw(m.lengthAfter,u),i=h??r.dequeue()}return mM(u)||f.push(new Qw(!1,u,u)),f}o(s,"nextS0ToS1MapWithS1LengthOf");let a=[];function l(u,f,m){if(a.length>0&&lte(a[a.length-1].endOffset,u)){let h=a[a.length-1];a[a.length-1]=new wI(h.startOffset,f,Nw(h.newLength,m))}else a.push({startOffset:u,endOffset:f,newLength:m})}o(l,"pushEdit");let c=B4;for(let u of n){let f=s(u.lengthBefore);if(u.modified){let m=uIe(f,p=>p.lengthBefore),h=Nw(c,m);l(c,h,u.lengthAfter),c=h}else for(let m of f){let h=c;c=Nw(c,m.lengthBefore),m.modified&&l(h,c,m.lengthAfter)}}return a}o(mIe,"combineTextEditInfos");var Qw=class e{constructor(t,r,n){this.modified=t;this.lengthBefore=r;this.lengthAfter=n}static{o(this,"LengthMapping")}splitAt(t){let r=Lw(t,this.lengthAfter);return lte(r,B4)?[this,void 0]:this.modified?[new e(this.modified,this.lengthBefore,t),new e(this.modified,B4,r)]:[new e(this.modified,t,t),new e(this.modified,r,r)]}toString(){return`${this.modified?"M":"U"}:${W1(this.lengthBefore)} -> ${W1(this.lengthAfter)}`}};function dIe(e){let t=[],r=B4;for(let n of e){let i=Lw(r,n.startOffset);mM(i)||t.push(new Qw(!1,i,i));let s=Lw(n.startOffset,n.endOffset);t.push(new Qw(!0,s,n.newLength)),r=n.endOffset}return t}o(dIe,"toLengthMapping");var Mw=class e{constructor(t){this.edits=t}static{o(this,"TextLengthEdit")}static{this.empty=new e([])}static fromTextEdit(t){let r=t.edits.map(n=>new hM(n.range,Yu.ofText(n.newText)));return new e(r)}static _fromTextEditInfo(t){let r=t.map(n=>{let i=W1(n.newLength);return new hM(fIe(n.startOffset,n.endOffset),new Yu(i.lineCount,i.columnCount))});return new e(r)}_toTextEditInfo(){return this.edits.map(t=>new wI(TI(t.range.startLineNumber-1,t.range.startColumn-1),TI(t.range.endLineNumber-1,t.range.endColumn-1),TI(t.newLength.lineCount,t.newLength.columnCount)))}compose(t){let r=this._toTextEditInfo(),n=t._toTextEditInfo(),i=mIe(r,n);return e._fromTextEditInfo(i)}getRange(){if(this.edits.length!==0)return li.fromPositions(this.edits[0].range.getStartPosition(),this.edits.at(-1).range.getEndPosition())}toString(){return`[${this.edits.join(", ")}]`}},hM=class{constructor(t,r){this.range=t;this.newLength=r}static{o(this,"SingleTextEditLength")}toString(){return`{ range: ${this.range}, newLength: ${this.newLength} }`}};d();function SI(e,t,r){let n=new Map(Object.entries(t).map(([i,s])=>[s,i]));return YQ({owner:e,createEmptyChangeSummary:o(()=>({}),"createEmptyChangeSummary"),handleChange:o((i,s)=>{let a=n.get(i.changedObservable);return s[a]===void 0&&(s[a]={value:void 0,changes:[]}),s[a].changes.push(i.change),!0},"handleChange")},(i,s)=>{for(let[a,l]of Object.entries(t)){let c=l.read(i);s[a]===void 0&&(s[a]={value:c,changes:[]}),s[a].value=c}r(s)})}o(SI,"autorunWithChanges");d();var pM=class{constructor(t){this.documents=t;$c(t.length>0)}static{o(this,"HistoryContext")}getMostRecentDocument(){return this.documents.at(-1)}getDocument(t){return this.documents.find(r=>r.docId===t)}getDocumentAndIdx(t){let r=this.documents.findIndex(n=>n.docId.uri===t.uri);if(r!==-1)return{doc:this.documents[r],idx:r}}},gM=class{constructor(t,r,n,i,s){this.docId=t;this.languageId=r;this.base=n;this.lastEdits=i;this.lastSelection=s;this.lastEdit=new Ku(this.base,this.lastEdits.compose())}static{o(this,"DocumentHistory")}};d();var AM=class extends ua{constructor(){super();this.branch=Hm("branchName",void 0);this._register(zee((r,n)=>{this.init(n)}))}static{o(this,"ObservableGitStub")}async init(r){}};var _I=class extends ua{constructor(r,n=!1){super();this._documentState=new Map;this._lastDocuments=new ute(50);this.workspace=r,this._lastGitCheckout=void 0,this._started=!1,n||this.start()}static{o(this,"NesHistoryContextProvider")}start(){if(this._started)return;this._started=!0;let r=new AM;this._register(I4(n=>{n.readObservable(r.branch)!==void 0&&(this._lastGitCheckout=bI(),this._documentState.forEach(s=>s.applyAllEdits()))})),N1(this,this.workspace.openDocuments,(n,i)=>{let s=n.selection.get().at(0),a=new cte(n.id,n.value.get().value,n.languageId.get(),s);this._documentState.set(a.docId,a),s&&this._lastDocuments.push(a),i.add(SI(this,{value:n.value,selection:n.selection,languageId:n.languageId},l=>{l.languageId.changes.length>0&&(a.languageId=l.languageId.value);let c=this._isAwaitingGitCheckoutCooldown();for(let u of l.value.changes)this._lastDocuments.push(a),a.handleEdit(u,c);l.selection.changes.length>0&&(a.handleSelection(l.selection.value.at(0)),this._lastDocuments.push(a))})),i.add(fa(()=>{let l=this._documentState.get(n.id);l&&this._lastDocuments.remove(l),this._documentState.delete(n.id)}))},n=>n.id).recomputeInitiallyAndOnChange(this._store)}getHistoryContext(r,n=5,i=100){let s=this._documentState.get(r);if(!s||!this._lastDocuments.has(s))return;let a=[],l=!1;for(let c of this._lastDocuments.getItemsReversed()){let u=c.getRecentEdit(n,i);if(u!==void 0&&(u.editCount===0&&l||(c.docId===r&&(l=!0),a.push(u.history),n-=u.editCount,n<=0)))break}if(a.reverse(),!!a.some(c=>c.docId===r))return new pM(a)}_isAwaitingGitCheckoutCooldown(){if(!this._lastGitCheckout)return!1;let r=bI()-this._lastGitCheckout<2*1e3;return r||(this._lastGitCheckout=void 0),r}getRecentDocumentUris(){return this._lastDocuments.getItems().map(r=>r.docId.uri)}},cte=class e{constructor(t,r,n,i){this.docId=t;this.languageId=n;this._edits=[];this._isUserDocument=!1;this._baseValue=new Al(r),this._currentValue=this._baseValue,this.handleSelection(i)}static{o(this,"DocumentState")}static{this.MAX_EDITED_LINES_PER_EDIT=10}static{this.MAX_EDITED_CHARS_PER_EDIT=5e3}getSelection(){return this._selection}handleSelection(t){t&&(this._isUserDocument=!0),this._selection=t}handleEdit(t,r){if(t.isEmpty())return;this._currentValue=this._currentValue.apply(t);let n=vI.fromEdit(t,this._currentValue),i=Mw.fromTextEdit(n);if(r){this._baseValue=this._currentValue,this._edits=[];return}function s(l){return yM(l.edits,c=>c.newText.length)}o(s,"editInsertSize");let a=this._edits.at(-1);a&&s(a.edit)<200&&K0t(t,a.edit)?(a.edit=a.edit.compose(t),a.textLengthEdit=a.textLengthEdit.compose(i),a.instant=bI(),a.edit.isEmpty()&&this._edits.pop()):this._edits.push({edit:t,textLengthEdit:i,instant:bI()})}getRecentEdit(t,r){if(!this._isUserDocument)return;let{editCount:n}=this._applyStaleEdits(t,r),i=new Lp(this._edits.map(s=>s.edit));return{history:new gM(this.docId,this.languageId,this._baseValue,i,this._selection),editCount:n}}applyAllEdits(){this._baseValue=this._currentValue,this._edits=[]}_applyStaleEdits(t,r){let n=this._currentValue,i=ns.empty,s=Mw.empty,a,l=0,c=ns.empty;for(a=this._edits.length-1;a>=0;a--){let u=this._edits[a];if(bI()-u.instant>10*60*1e3)break;let f=u.textLengthEdit.compose(s),m=f.getRange();dM(m,"we only compose non-empty Edits");let h=m.endLineNumber-m.startLineNumber;if(r>0&&h>r)break;let p=yM(u.textLengthEdit.edits,P=>P.range.endLineNumber-P.range.startLineNumber+P.newLength.lineCount);if(p>e.MAX_EDITED_LINES_PER_EDIT||yM(u.edit.edits,P=>P.newText.length)>e.MAX_EDITED_CHARS_PER_EDIT||yM(u.edit.edits,P=>P.range.length)>e.MAX_EDITED_CHARS_PER_EDIT)break;if(a===this._edits.length-1)c=u.edit;else{let P=ns.trySwap(u.edit,c);if(P)c=P.e1;else{if(p>=2)break;c=u.edit.compose(c)}}let E=u.edit.inverseOnString(n.value);n=n.apply(E);let v=u.edit.compose(i),b=bs.fromEdit(new Ku(n,v)),B=new Np(n,b).removeCommonSuffixPrefixLines().edit.edits.length;if(B>t)break;l=B,i=v,s=f}for(let u=0;u<=a;u++){let f=this._edits[u];this._baseValue=this._baseValue.apply(f.edit)}return this._edits=this._edits.slice(a+1),{editCount:l}}toString(){return new Lp(this._edits.map(t=>t.edit)).toHumanReadablePatch(this._baseValue)}};function yM(e,t){let r=0;for(let n of e)r+=t(n);return r}o(yM,"sum");function K0t(e,t){let r=t.getNewRanges();return e.edits.every(n=>J0t(n.range,r))}o(K0t,"editExtends");function J0t(e,t){return t.some(r=>e.start===r.endExclusive||e.endExclusive===r.start)}o(J0t,"doesTouch");var ute=class{constructor(t){this.maxSize=t;this._arr=[]}static{o(this,"FifoSet")}push(t){let r=this._arr.indexOf(t);r!==-1?this._arr.splice(r,1):this._arr.length>=this.maxSize&&this._arr.shift(),this._arr.push(t)}remove(t){let r=this._arr.indexOf(t);r!==-1&&this._arr.splice(r,1)}getItems(){return this._arr}getItemsReversed(){let t=[...this._arr];return t.reverse(),t}has(t){return this._arr.indexOf(t)!==-1}};d();function hIe(e,t,r){return e.get(fte).safeStartIfApplicable(t,r)}o(hIe,"startRecentEditsPromptFeatureIfApplicable");var fte=class{static{o(this,"RecentEditsPromptFeatureLifecycle")}};function X0t(e,t,r){return Qn(e,kt.RecentEditsInPrompt)??t.recentEditsInPrompt(r)}o(X0t,"isRecentEditsActive");var gIe=o((e,t)=>{let r=e.get(ar);return X0t(e,r,t)},"recentEditsPredicate");function pIe(e,t){return Math.abs(e-t)}o(pIe,"lineDistance");function Z0t(e,t,r=0,n=!1,i=!1,s,a){let l=[];if(i&&(s===void 0||a===void 0))throw new Error("cursorLine and distanceLimitFromCursor are required when filterByCursorLine is true");for(let c of e.edits){let u=c.lineRange.startLineNumber-1,f=c.lineRange.endLineNumberExclusive-1,m=t.slice(u,f),h=c.newLines;if(i&&(pIe(u,s)<=a||pIe(f,s)<=a))continue;let p=m.filter(v=>v.trim().length>0),A=h.filter(v=>v.trim().length>0);if(p.length===0&&A.length===0||n&&A.length===0||p.join("").trim()===A.join("").trim())continue;let x=Math.max(0,u-r),E=Math.min(t.length,f+r);l.push(`@@ -${u+1},${m.length} +${u+1},${h.length} @@`);for(let v=x;v<u;v++)l.push(` ${t[v]}`);n||l.push(...m.map(v=>`-${v}`)),l.push(...h.map(v=>`+${v}`));for(let v=f;v<E;v++)l.push(` ${t[v]}`)}return l}o(Z0t,"summarizeEditsAsUnifiedDiff");var AIe=o((e,t)=>{let[r,n]=t.useState();return t.useData(Hc,i=>{if(!i.document)return;let s=i.telemetryData,a=e.ctx.get(ar);hIe(e.ctx,s,a);let l=Qn(e.ctx,kt.RecentEditsMaxFiles)??a.recentEditsMaxFiles(s),c=Qn(e.ctx,kt.RecentEditsEditCount)??a.recentEditsEditCount(s),u=Qn(e.ctx,kt.RecentEditsContextLines)??a.recentEditsContextLines(s),f=Qn(e.ctx,kt.RecentEditsRemoveDeletedLines)??a.recentEditsRemoveDeletedLines(s),m=Qn(e.ctx,kt.RecentEditsMaxLinesBetweenEdits)??a.recentEditsMaxLinesBetweenEdits(s),h=Qn(e.ctx,kt.RecentEditsActiveDocDistanceLimitFromCursor)??a.recentEditsActiveDocDistanceLimitFromCursor(s),p=e.ctx.get(_I),A=e.ctx.get(II),x=e.ctx.get(Vr),E=x.getOpenTextDocuments(),v={};for(let ne of E)v[ne.uri]=ne;let b=p.getRecentDocumentUris(),S=[],B=0;for(let ne of b){if(B>=l)break;let ce=v[ne];if(!ce)continue;A.onUserPositionChange(ce.uri,new oo(0,0));let G=p.getHistoryContext(ste(ce.uri),c,m)?.getDocument(ste(ce.uri)),U=G?.base.getLines();if(G&&U){let ie=G.lastEdit,J=bs.fromEdit(ie),H=ce.uri===i.document?.uri?0:u,M=ce.uri===i.document?.uri,j=M?i.position.line:void 0,X=Z0t(J,U,H,f,M,j,h);if(X.length>0){let ae={value:X.join(`
`),uri:x.getRelativePath(ce)??ce.uri};S.push(ae),B++}}}let P=S;if(!P||P.length===0){n(void 0);return}let F=Ra(i.document.detectedLanguageId),q=b0("These are recently edited files in unified diff format:");for(let ne of P)q+=b0(`File: ${ne.uri}`),q+=b0(ne.value);q+=b0("End of recent edits"),q=Gs(q,F),n(q)}),r?On(js,{children:r}):void 0},"RecentEdits");d();d();async function CM(e,t){let r=aQ(t,"Trait");for(let i of r)ect(e,i.data,i.providerId);return r.flatMap(i=>i.data).sort((i,s)=>(i.importance??0)-(s.importance??0))}o(CM,"getTraitsFromContextItems");function ect(e,t,r){let n=e.get(Fa);t.forEach(i=>{n.addPromptLibExpectations(r,[i.value]),n.addPromptComponentsExpectations(r,[[i,"included"]])})}o(ect,"setupExpectationsForTraits");function yIe(e){return e.map(t=>({...t,includeInPrompt:!0}))}o(yIe,"convertTraitsToRelatedFileTraits");function xM(e){return e.promptTextOverride?{kind:"string",value:e.promptTextOverride}:{kind:"name-value",name:e.name,value:e.value}}o(xM,"addKindToRelatedFileTrait");d();d();d();var dte=new xn;function CIe(e){return[...e].sort((t,r)=>{let n=dte.get(t.uri)??0;return(dte.get(r.uri)??0)-n})}o(CIe,"sortByAccessTimes");var xIe=o(e=>e.get(Vr).onDidFocusTextDocument(t=>{t&&dte.set(t.document.uri.toString(),Date.now())}),"registerDocumentTracker");var EM=class{constructor(t){this.docManager=t}static{o(this,"OpenTabFiles")}async truncateDocs(t,r,n,i){let s=new Map,a=0;for(let l of t)if(!(a+l.getText().length>Qp.MAX_NEIGHBOR_AGGREGATE_LENGTH)&&(l.uri.startsWith("file:")&&r.startsWith("file:")&&l.uri!==r&&bM(n,l.detectedLanguageId)&&(s.set(l.uri.toString(),{uri:l.uri.toString(),relativePath:this.docManager.getRelativePath(l),source:l.getText()}),a+=l.getText().length),s.size>=i))break;return s}async getNeighborFiles(t,r,n){let i=new Map,s=new Map;return i=await this.truncateDocs(CIe(await this.docManager.textDocuments()),t,r,n),s.set("opentabs",Array.from(i.keys()).map(a=>a.toString())),{docs:i,neighborSource:s}}};d();d();function EIe(e,t,r){return async function(...n){return await Promise.race([e.apply(this,n),new Promise(i=>{setTimeout(i,t,r)})])}}o(EIe,"shortCircuit");d();function rct(...e){return JSON.stringify(e,(t,r)=>typeof r=="object"?r:String(r))}o(rct,"defaultHash");function mte(e,t={}){let{hash:r=rct,cache:n=new Map}=t;return function(...i){let s=r.apply(this,i);if(n.has(s))return n.get(s);let a=e.apply(this,i);return a instanceof Promise&&(a=a.catch(l=>{throw n.delete(s),l})),n.set(s,a),a}}o(mte,"memoize");var bIe={entries:[],traits:[]},vM={entries:new Map,traits:[]},hte=class extends xn{constructor(r,n=2*60*1e3){super(r);this.defaultEvictionTimeMs=n;this._cacheTimestamps=new Map}static{o(this,"LRUExpirationCacheMap")}bumpRetryCount(r){let n=this._cacheTimestamps.get(r);return n?++n.retryCount:(this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),0)}has(r){return this.isValid(r)?super.has(r):(this.deleteExpiredEntry(r),!1)}get(r){let n=super.get(r);if(this.isValid(r))return n;this.deleteExpiredEntry(r)}set(r,n){let i=super.set(r,n);return this.isValid(r)||this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),i}clear(){super.clear(),this._cacheTimestamps.clear()}isValid(r){let n=this._cacheTimestamps.get(r);return n!==void 0&&Date.now()-n.timestamp<this.defaultEvictionTimeMs}deleteExpiredEntry(r){this._cacheTimestamps.has(r)&&this._cacheTimestamps.delete(r),super.deleteKey(r)}},Ja=new Ar("relatedFiles"),nct=1e3,IM=class extends Error{static{o(this,"RelatedFilesProviderFailure")}constructor(){super("The provider failed providing the list of relatedFiles")}},R4=class e{constructor(t){this.context=t}static{o(this,"RelatedFilesProvider")}async getRelatedFiles(t,r,n){let i=await this.getRelatedFilesResponse(t,r,n);if(i===null)return null;let s={entries:new Map,traits:i.traits??[]};for(let a of i.entries){let l=s.entries.get(a.type);l||(l=new Map,s.entries.set(a.type,l));for(let c of a.uris)try{Ja.debug(this.context,`Processing ${c}`);let u=await this.getFileContent(c);if(!u||u.length==0){Ja.debug(this.context,`Skip ${c} due to empty content or loading issue.`);continue}if(await this.isContentExcluded(c,u)){Ja.debug(this.context,`Skip ${c} due content exclusion.`);continue}u=e.dropBOM(u),l.set(c,u)}catch(u){Ja.warn(this.context,u)}}return s}async getFileContent(t){try{return this.context.get(ko).readFileString(t)}catch(r){Ja.debug(this.context,r)}}async isContentExcluded(t,r){try{return(await this.context.get(pl).evaluate(t,r)).isBlocked}catch(n){Ja.exception(this.context,n,"isContentExcluded")}return!0}static dropBOM(t){return t.charCodeAt(0)===65279?t.slice(1):t}},ict=3,vIe=new hte(nct);async function IIe(e,t,r,n,i){let s=Date.now(),a;try{a=await i.getRelatedFiles(t,r,n)}catch(c){Ja.exception(e,c,".getRelatedFiles"),a=null}a===null&&(vIe.bumpRetryCount(t.uri)>=ict?a=vM:a=null);let l=Date.now()-s;if(Ja.debug(e,a!==null?`Fetched ${[...a.entries.values()].map(c=>c.size).reduce((c,u)=>c+u,0)} related files for '${t.uri}' in ${l}ms.`:`Failing fetching files for '${t.uri}' in ${l}ms.`),a===null)throw new IM;return a}o(IIe,"getRelatedFiles");var pte=mte(IIe,{cache:vIe,hash:o((e,t,r,n,i)=>`${t.uri}`,"hash")});pte=EIe(pte,200,vM);async function TIe(e,t,r,n,i,s=!1){let a=e.get(R4),l=vM;try{let c={uri:t.uri,clientLanguageId:t.clientLanguageId,data:i};l=s?await IIe(e,c,r,n,a):await pte(e,c,r,n,a)}catch(c){l=vM,c instanceof IM&&Gt(e,"getRelatedFilesList",r)}return sct(e,l.traits,t,r),Ja.debug(e,l!=null?`Fetched following traits ${l.traits.map(c=>`{${c.name} : ${c.value}}`).join("")} for '${t.uri}'`:`Failing fecthing traits for '${t.uri}'.`),l}o(TIe,"getRelatedFilesAndTraits");var oct=new Map([["TargetFrameworks","targetFrameworks"],["LanguageVersion","languageVersion"]]);function sct(e,t,r,n){if(t.length>0){let i={};i.detectedLanguageId=r.detectedLanguageId,i.languageId=r.clientLanguageId;for(let a of t){let l=oct.get(a.name);l&&(i[l]=a.value)}let s=n.extendedBy(i,{});return Gt(e,"related.traits",s)}}o(sct,"ReportTraitsTelemetry");function bM(e,t){return Ra(e)===Ra(t)}o(bM,"considerNeighborFile");var Qp=class e{static{o(this,"NeighborSource")}static{this.MAX_NEIGHBOR_AGGREGATE_LENGTH=2e5}static{this.MAX_NEIGHBOR_FILES=20}static{this.EXCLUDED_NEIGHBORS=["node_modules","dist","site-packages"]}static defaultEmptyResult(){return{docs:new Map,neighborSource:new Map,traits:[]}}static reset(){e.instance=void 0}static async getNeighborFilesAndTraits(t,r,n,i,s,a,l){let c=t.get(Vr);e.instance===void 0&&(e.instance=new EM(c));let u=pct(t,n,i),f=mct(t,i),m=!u||f?{...await e.instance.getNeighborFiles(r,n,e.MAX_NEIGHBOR_FILES),traits:[]}:e.defaultEmptyResult(),h=await c.getTextDocument({uri:r});if(!h)return Ja.debug(t,"neighborFiles.getNeighborFilesAndTraits",`Failed to get the related files: failed to get the document ${r}`),m;let p=c.getWorkspaceFolder(h);if(!p)return Ja.debug(t,"neighborFiles.getNeighborFilesAndTraits",`Failed to get the related files: ${r} is not under the workspace folder`),m;let A=await TIe(t,h,i,s,a,l);if(A.entries.size===0)return Ja.debug(t,"neighborFiles.getNeighborFilesAndTraits",`0 related files found for ${r}`),m.traits.push(...A.traits),m;let x=u?e.defaultEmptyResult():m;return A.entries.forEach((E,v)=>{let b=[];E.forEach((S,B)=>{let P=e.getRelativePath(B,p.uri);if(!P||x.docs.has(B))return;let F={relativePath:P,uri:B,source:S};b.unshift(F),x.docs.set(B,F)}),b.length>0&&x.neighborSource.set(v,b.map(S=>S.uri.toString()))}),x.traits.push(...A.traits),x}static basename(t){return decodeURIComponent(t.replace(/[#?].*$/,"").replace(/^.*[/:]/,""))}static getRelativePath(t,r){let n=r.toString().replace(/[#?].*/,"").replace(/\/?$/,"/");return t.toString().startsWith(n)?t.toString().slice(n.length):e.basename(t)}},act=["cpp","c"],lct=["typescript","javascript","typescriptreact","javascriptreact"],cct=["csharp"];function uct(e,t){return e.get(ar).excludeOpenTabFilesCSharp(t)||Qn(e,kt.ExcludeOpenTabFilesCSharp)}o(uct,"isExcludeOpenTabFilesCSharpActive");function fct(e,t){return e.get(ar).excludeOpenTabFilesCpp(t)||Qn(e,kt.ExcludeOpenTabFilesCpp)}o(fct,"isExcludeOpenTabFilesCppActive");function dct(e,t){return e.get(ar).excludeOpenTabFilesTypeScript(t)||Qn(e,kt.ExcludeOpenTabFilesTypeScript)}o(dct,"isExcludeOpenTabFilesTypeScriptActive");function mct(e,t){return e.get(ar).fallbackToOpenTabFilesWithNoRelatedFiles(t)||Qn(e,kt.FallbackToOpenTabFilesWithNoRelatedFiles)}o(mct,"isFallbackToOpenTabFilesActive");var hct=new Map([...act.map(e=>[e,fct]),...lct.map(e=>[e,dct]),...cct.map(e=>[e,uct])]);function pct(e,t,r){let n=hct.get(t);return n?n(e,r):!1}o(pct,"isExcludeOpenTabFilesActive");function TM(e,t){return e.get(ar).includeNeighboringFiles(t)||Qn(e,kt.IncludeNeighboringFiles)}o(TM,"isIncludeNeighborFilesActive");var wIe=o((e,t)=>{let[r,n]=t.useState(),[i,s]=t.useState([]),[a,l]=t.useState();t.useData(Hc,async m=>{m.document.uri!==r?.uri&&s([]),n(m.document);let h=m.turnOffSimilarFiles?Qp.defaultEmptyResult():await Qp.getNeighborFilesAndTraits(e.ctx,m.document.uri,m.document.detectedLanguageId,m.telemetryData,m.cancellationToken,m.data),p=await c(m.telemetryData,m.document,m,h);s(p);let A=h.traits.filter(x=>x.includeInPrompt).map(xM);l(f(A,m.document))});async function c(m,h,p,A){let x=Ow(e.ctx,m,h.detectedLanguageId);return(await u(x,m,h,p,A)).filter(v=>v.snippet.length>0).sort((v,b)=>v.score-b.score).map(v=>({text:bJ(v,h.detectedLanguageId),score:v.score}))}o(c,"produceSimilarFiles");async function u(m,h,p,A,x){let E=m.similarFilesOptions||nQ(e.ctx,h,p.detectedLanguageId),b=e.ctx.get(Vr).getRelativePath(p),S={uri:p.uri,source:p.getText(),offset:p.offsetAt(A.position),relativePath:b,languageId:p.detectedLanguageId};return await BF(S,Array.from(x.docs.values()),E)}o(u,"findSimilarSnippets");function f(m,h){if(m.length>0&&h!==void 0)return Gs(`Consider this related information:
`+m.map(p=>p.kind==="string"?p.value:`${p.name}: ${p.value}`).join(`
`),h.detectedLanguageId)}return o(f,"produceTraitsText"),On(B1,{children:[a!==void 0?On(js,{children:a}):void 0,...i.map((m,h)=>On(gct,{text:m.text}))]})},"SimilarFiles"),gct=o((e,t)=>On(js,{children:e.text}),"SimilarFile");d();var SIe=o((e,t)=>{let[r,n]=t.useState(),[i,s]=t.useState();if(t.useData(Hc,a=>{a.traits!==r&&n(a.traits);let l=Ra(a.document.detectedLanguageId);l!==i&&s(l)}),!(!r||r.length===0||!i))return On(B1,{children:[On(js,{children:Gs(`Consider this related information:
`,i)}),...r.map(a=>On(js,{source:a,children:Gs(`${a.name}: ${a.value}`,i)},a.id))]})},"Traits");d();d();var Act="CppCodeSnippetsEnabledFeatures",yct="CppCodeSnippetsTimeBudgetFactor",Cct="CppCodeSnippetsMaxDistanceToCaret";function wM(e,t,r){try{let n=e.get(ar).cppCodeSnippetsFeatures(r);if(n){t.set(Act,n);let i=e.get(ar).cppCodeSnippetsTimeBudgetFactor(r);i&&t.set(yct,i);let s=e.get(ar).cppCodeSnippetsMaxDistanceToCaret(r);s&&t.set(Cct,s)}}catch(n){return Zn.debug(e,`Failed to get the active C++ Code Snippets experiments for the Context Provider API: ${n}`),!1}return!0}o(wM,"fillInCppActiveExperiments");var _Ie=tt(Vn());var ma=class{static{o(this,"ContextProviderRegistry")}},gte=class extends ma{constructor(r,n){super();this.ctx=r;this.match=n;this._providers=[]}static{o(this,"CoreContextProviderRegistry")}registerContextProvider(r){if(r.id.includes(",")||r.id.includes("*"))throw new Error(`A context provider id cannot contain a comma or an asterisk. The id ${r.id} is invalid.`);if(this._providers.find(n=>n.id===r.id))throw new Error(`A context provider with id ${r.id} has already been registered`);this._providers.push(r)}unregisterContextProvider(r){this._providers=this._providers.filter(n=>n.id!==r)}get providers(){return this._providers.slice()}async resolveAllProviders(r,n,i,s){if(i?.isCancellationRequested)return Zn.debug(this.ctx,"Resolving context providers cancelled"),[];let a=new Map;wM(this.ctx,a,n);let l=[];if(this._providers.length===0)return l;let c=await this.matchProviders(r,n),u=c.filter(p=>p[1]>0);if(c.filter(p=>p[1]<=0).forEach(([p,A])=>{let x={providerId:p.id,matchScore:A,resolution:"none",resolutionTimeMs:0,data:[]};l.push(x)}),u.length===0)return l;if(i?.isCancellationRequested)return Zn.debug(this.ctx,"Resolving context providers cancelled"),[];let m=aT(this.ctx)&&!CP(this.ctx)?0:Qn(this.ctx,kt.ContextProviderTimeBudget),h=u.length>0?m/u.length:m;for(let[p,A]of u){let x={completionId:BIe(n),documentContext:r,activeExperiments:a,timeBudget:h,data:s},E=this.ctx.get(Fa).pop(p.id);E&&(x.previousUsageStatistics=E);let v=new _Ie.CancellationTokenSource;i?.onCancellationRequested(G=>{v.cancel()});let b=performance.now(),S=p.resolver.resolve(x,v.token),[B,P]=await xct(this.ctx,S,x,p,v),F=performance.now();this.ctx.get(Fa).setLastResolution(p.id,P);let[q,ne]=$Ee(B);ne&&Zn.error(this.ctx,`Dropped ${ne} context items from ${p.id} due to invalid schema`);let ce=zEe(this.ctx,q),Z={providerId:p.id,matchScore:A,resolution:P,resolutionTimeMs:F-b,data:ce};l.push(Z)}return l.sort((p,A)=>A.matchScore-p.matchScore)}async matchProviders(r,n){let i=kI(this.ctx,n),s=i.length===1&&i[0]==="*";return await Promise.all(this._providers.map(async l=>{if(!s&&!i.includes(l.id))return[l,0];let c=await this.match(this.ctx,l.selector,r);return[l,c]}))}},Ate=class extends ma{constructor(r){super();this.delegate=r;this._cachedContextItems=new xn(5)}static{o(this,"CachedContextProviderRegistry")}registerContextProvider(r){this.delegate.registerContextProvider(r)}unregisterContextProvider(r){this.delegate.unregisterContextProvider(r)}get providers(){return this.delegate.providers}async resolveAllProviders(r,n,i,s){let a=BIe(n),l=this._cachedContextItems.get(a);if(a&&l&&l.length>0)return l;let c=await this.delegate.resolveAllProviders(r,n,i,s);return c.length>0&&a&&this._cachedContextItems.set(a,c),c}};function kIe(e){return e>0?zL(e,null):new Promise(()=>{})}o(kIe,"nullTimeout");async function xct(e,t,r,n,i){let s=[],a;return t instanceof Promise?[s,a]=await Ect(e,t,r,n,i):[s,a]=await bct(e,t,r,n,i),[s,a]}o(xct,"extractDataFromPendingContextItem");async function Ect(e,t,r,n,i){let s=[],a,l=kIe(r.timeBudget);try{let c=await Promise.race([t,l]);c===null?(a="none",i.cancel(),Zn.info(e,`Context provider ${n.id} exceeded time budget of ${r.timeBudget}ms`)):(a="full",Array.isArray(c)?s.push(...c):s.push(c))}catch(c){return RT(c)||Zn.error(e,`Error resolving context from ${n.id}: `,c),i.cancel(),[[],"error"]}return[s,a]}o(Ect,"handlePromiseContextItem");async function bct(e,t,r,n,i){let s=[],a,l=kIe(r.timeBudget),c=(async()=>{for await(let u of t)s.push(u);return s})();try{await Promise.race([c,l])===null?(a=s.length>0?"partial":"none",i.cancel(),Zn.info(e,`Context provider ${n.id} exceeded time budget of ${r.timeBudget}ms`)):a="full"}catch(u){return RT(u)||Zn.error(e,`Error resolving context from ${n.id}: `,u),i.cancel(),[[],"error"]}return[s,a]}o(bct,"handleAsyncIteratorContextItem");function SM(e,t){return new Ate(new gte(e,t))}o(SM,"getContextProviderRegistry");function _M(e,t){let r=e.get(Fa);return t.map(i=>{let{providerId:s,resolution:a,resolutionTimeMs:l,matchScore:c,data:u}=i,f=r.get(s),m=f?.usage??"none";(c<=0||a==="none"||a==="error")&&(m="none");let h={providerId:s,resolution:a,resolutionTimeMs:l,usage:m,usageDetails:f?.usageDetails,matched:c>0,numResolvedItems:u.length},p=f?.usageDetails!==void 0?f?.usageDetails.filter(x=>x.usage==="full"||x.usage==="partial"||x.usage==="partial_content_excluded").length:void 0,A=f?.usageDetails!==void 0?f?.usageDetails.filter(x=>x.usage==="partial"||x.usage==="partial_content_excluded").length:void 0;return p!==void 0&&(h.numUsedItems=p),A!==void 0&&(h.numPartiallyUsedItems=A),h})}o(_M,"telemetrizeContextItems");function BIe(e){return e.properties.headerRequestId}o(BIe,"extractCompletionId");function kM(e){return e.matchScore>0&&e.resolution!=="error"}o(kM,"matchContextItems");function kI(e,t){if(aT(e))return["*"];let r=e.get(ar).contextProviders(t),n=Qn(e,kt.ContextProviders)??[];return r.length===1&&r[0]==="*"||n.length===1&&n[0]==="*"?["*"]:Array.from(new Set([...r,...n]))}o(kI,"getExpContextProviders");function BI(e,t){return kI(e,t).length>0}o(BI,"useContextProviderAPI");d();d();d();var BM=class{constructor(t){this.states=t;this.currentIndex=0;this.stateChanged=!1}static{o(this,"UseState")}useState(t){let r=this.currentIndex;if(this.states[r]===void 0){let i=typeof t=="function"?t():t;this.states[r]=i}let n=o(i=>{let s=typeof i=="function"?i(this.states[r]):i;this.states[r]=s,this.stateChanged=!0},"setState");return this.currentIndex++,[this.states[r],n]}hasChanged(){return this.stateChanged}},RM=class{constructor(t){this.measureUpdateTime=t;this.consumers=[]}static{o(this,"UseData")}useData(t,r){this.consumers.push(n=>{if(t(n))return r(n)})}async updateData(t){if(this.consumers.length>0){let r=performance.now();for(let n of this.consumers)await n(t);this.measureUpdateTime(performance.now()-r)}}};var DM=class{constructor(t){this.lifecycleData=new Map;this.vTree=this.virtualizeElement(t,"$",0)}static{o(this,"VirtualPromptReconciler")}reconcile(t){if(!this.vTree)throw new Error("No tree to reconcile, make sure to pass a valid prompt");return t?.isCancellationRequested?this.vTree:(this.vTree=this.reconcileNode(this.vTree,"$",0,t),this.vTree)}reconcileNode(t,r,n,i){if(!t.children&&!t.lifecycle)return t;let s=t;if(t.lifecycle?.isRemountRequired()){let l=this.collectChildPaths(t);s=this.virtualizeElement(t.component,r,n);let c=this.collectChildPaths(s);this.cleanupState(l,c)}else if(t.children){let l=[];for(let c=0;c<t.children.length;c++){let u=t.children[c];if(u){let f=this.reconcileNode(u,t.path,c,i);f!==void 0&&l.push(f)}}s.children=l}return s}virtualizeElement(t,r,n){if(!(typeof t>"u")){if(typeof t=="string"||typeof t=="number")return{name:typeof t,path:`${r}[${n}]`,props:{value:t},component:t};if(vct(t.type)){let i=t.type(t.props.children),s=r!=="$"?`[${n}]`:"",a=`${r}${s}.${i.type}`,l=i.children.map((c,u)=>this.virtualizeElement(c,a,u));return this.ensureUniqueKeys(l),{name:i.type,path:a,children:l.flat().filter(c=>c!==void 0),component:t}}return this.virtualizeFunctionComponent(r,n,t,t.type)}}virtualizeFunctionComponent(t,r,n,i){let s=n.props.key?`["${n.props.key}"]`:`[${r}]`,a=`${t}${s}.${i.name}`,l=new Cte(this.getOrCreateLifecycleData(a)),c=i(n.props,l),m=(Array.isArray(c)?c:[c]).map((h,p)=>this.virtualizeElement(h,a,p)).flat().filter(h=>h!==void 0);return this.ensureUniqueKeys(m),{name:i.name,path:a,props:n.props,children:m,component:n,lifecycle:l}}ensureUniqueKeys(t){let r=new Map;for(let i of t){if(!i)continue;let s=i.props?.key;s&&r.set(s,(r.get(s)||0)+1)}let n=Array.from(r.entries()).filter(([i,s])=>s>1).map(([i])=>i);if(n.length>0)throw new Error(`Duplicate keys found: ${n.join(", ")}`)}collectChildPaths(t){let r=[];if(t?.children)for(let n of t.children)n&&(r.push(n.path),r.push(...this.collectChildPaths(n)));return r}cleanupState(t,r){for(let n of t)r.includes(n)||this.lifecycleData.delete(n)}getOrCreateLifecycleData(t){return this.lifecycleData.has(t)||this.lifecycleData.set(t,new yte([])),this.lifecycleData.get(t)}createPipe(){return{pump:o(async t=>{await this.pumpData(t)},"pump")}}async pumpData(t){if(!this.vTree)throw new Error("No tree to pump data into. Pumping data before initializing?");await this.recursivelyPumpData(t,this.vTree)}async recursivelyPumpData(t,r){if(!r)throw new Error("Can't pump data into undefined node.");await r.lifecycle?.dataHook.updateData(t);for(let n of r.children||[])await this.recursivelyPumpData(t,n)}},yte=class{static{o(this,"PromptElementLifecycleData")}constructor(t){this.state=t,this._updateTimeMs=0}getUpdateTimeMsAndReset(){let t=this._updateTimeMs;return this._updateTimeMs=0,t}},Cte=class{constructor(t){this.lifecycleData=t;this.stateHook=new BM(t.state),this.dataHook=new RM(r=>{t._updateTimeMs=r})}static{o(this,"PromptElementLifecycle")}useState(t){return this.stateHook.useState(t)}useData(t,r){this.dataHook.useData(t,r)}isRemountRequired(){return this.stateHook.hasChanged()}};function vct(e){return typeof e=="function"&&"isFragmentFunction"in e}o(vct,"isFragmentFunction");var PM=class{static{o(this,"VirtualPrompt")}constructor(t){this.reconciler=new DM(t)}snapshotNode(t,r){if(!t)return;if(r?.isCancellationRequested)return"cancelled";let n=[];for(let i of t.children??[]){let s=this.snapshotNode(i,r);if(s==="cancelled")return"cancelled";s!==void 0&&n.push(s)}return{value:t.props?.value?.toString(),name:t.name,path:t.path,props:t.props,children:n,statistics:{updateDataTimeMs:t.lifecycle?.lifecycleData.getUpdateTimeMsAndReset()}}}snapshot(t){try{let r=this.reconciler.reconcile(t);if(t?.isCancellationRequested)return{snapshot:void 0,status:"cancelled"};if(!r)throw new Error("Invalid virtual prompt tree");let n=this.snapshotNode(r,t);return n==="cancelled"||t?.isCancellationRequested?{snapshot:void 0,status:"cancelled"}:{snapshot:n,status:"ok"}}catch(r){return{snapshot:void 0,status:"error",error:r}}}createPipe(){return this.reconciler.createPipe()}};var jm=class{static{o(this,"CompletionsPromptFactory")}};function FM(e,t){return new xte(new Ete(new bte(e,t)))}o(FM,"createCompletionsPromptFactory");var xte=class extends jm{constructor(r){super();this.delegate=r}static{o(this,"SequentialCompletionsPromptFactory")}prompt(r,n){return this.lastPromise=this.promptAsync(r,n),this.lastPromise}async promptAsync(r,n){if(await this.lastPromise,n?.isCancellationRequested)return RI;try{return await this.delegate.prompt(r,n)}catch{return wte}}},Tct=1200,Ete=class extends jm{constructor(r){super();this.delegate=r}static{o(this,"TimeoutHandlingCompletionsPromptFactory")}async prompt(r,n){let i=new qn.CancellationTokenSource,s=i.token;return n?.onCancellationRequested(()=>{i.cancel()}),await Promise.race([this.delegate.prompt(r,s),new Promise(a=>{setTimeout(()=>{i.cancel(),a(PIe)},Tct)})])}};function Hc(e){if(!e||typeof e!="object")return!1;let t=e;return!(!t.document||!t.position||t.position.line===void 0||t.position.character===void 0||!t.telemetryData)}o(Hc,"isCompletionRequestData");var bte=class extends jm{constructor(r,n){super();this.ctx=r;this.renderer=new PQ;this.virtualPrompt=n}static{o(this,"ComponentsCompletionsPromptFactory")}async prompt(r,n){try{return await this.createPromptUnsafe(r,n)}catch(i){return this.errorPrompt(i)}}async createPromptUnsafe({textDocument:r,position:n,telemetryData:i,promptOpts:s},a){let{maxPromptLength:l,suffixPercent:c,suffixMatchThreshold:u}=Ow(this.ctx,i,r.detectedLanguageId),f=await this.failFastPrompt(r,n,c??0,a);if(f)return f;let{virtualPrompt:m,pipe:h}=this.getOrCreateVirtualPrompt(),p=performance.now(),{traits:A,codeSnippets:x,turnOffSimilarFiles:E,resolvedContextItems:v}=await this.resolveContext(r,n,i,a,s);if(await this.updateComponentData(h,r,n,A,x,i,E,l??Ev,a,s,u),a?.isCancellationRequested)return RI;let b=m.snapshot(a),S=b.status;if(S==="cancelled")return RI;if(S==="error")return this.errorPrompt(b.error);let B=this.renderer.render(b.snapshot,{delimiter:`
`,tokenizer:Ki(),promptTokenLimit:l??Ev,suffixPercent:c??DF,languageId:r.detectedLanguageId},a);if(B.status==="cancelled")return RI;if(B.status==="error")return this.errorPrompt(B.error);let[P,F]=sy(B.prefix),[q]=sy(B.prefixWithoutContext),ne={...B,prefix:P,prefixWithoutContext:q},ce;if(BI(this.ctx,i)){let G=qEe(B.metadata.componentStatistics);this.ctx.get(Fa).computeMatch(G),ce=_M(this.ctx,v)}let Z=performance.now();return this.resetIfEmpty(B),this.successPrompt(ne,Z,p,F,ce)}async updateComponentData(r,n,i,s,a,l,c,u,f,m={},h){let p=this.createRequestData(n,i,l,f,m,u,s,a,c,h);await r.pump(p)}async resolveContext(r,n,i,s,a={}){let l=[],c,u,f=!1;if(BI(this.ctx,i)){l=await this.ctx.get(ma).resolveAllProviders({uri:r.uri,languageId:r.clientLanguageId,version:r.version,offset:r.offsetAt(n),position:a.positionBeforeApplyingEdits??n,proposedEdits:r.appliedEdits.length>0?r.appliedEdits:void 0},i,s,a.data);let h=l.filter(kM);!TM(this.ctx,i)&&h.length>0&&(f=!0),c=await CM(this.ctx,h),u=await lQ(this.ctx,h,r.detectedLanguageId)}return{traits:c,codeSnippets:u,turnOffSimilarFiles:f,resolvedContextItems:l}}async failFastPrompt(r,n,i,s){if(s?.isCancellationRequested)return RI;if((await this.ctx.get(pl).evaluate(r.uri,r.getText(),"UPDATE")).isBlocked)return Tte;if((i>0?r.getText().length:r.offsetAt(n))<vte)return Ite}getOrCreateVirtualPrompt(){return this.virtualPrompt||(this.virtualPrompt=new PM(this.completionsPrompt())),this.pipe||(this.pipe=this.virtualPrompt.createPipe()),{virtualPrompt:this.virtualPrompt,pipe:this.pipe}}completionsPrompt(){return On(B1,{children:[On(ive,{ctx:this.ctx,weight:.7}),On(SIe,{weight:.6}),On(KEe,{ctx:this.ctx,weight:.9}),On(wIe,{ctx:this.ctx,weight:.8}),On(nve,{ctx:this.ctx,by:gIe,children:On(AIe,{ctx:this.ctx,weight:.99})}),On(Aw,{weight:1})]})}createRequestData(r,n,i,s,a,l,c,u,f,m){return{document:r,position:n,telemetryData:i,cancellationToken:s,data:a.data,traits:c,codeSnippets:u,turnOffSimilarFiles:f,suffixMatchThreshold:m,maxPromptTokens:l}}resetIfEmpty(r){r.prefix.length===0&&r.suffix.length===0&&this.reset()}successPrompt(r,n,i,s,a){return{type:"prompt",prompt:{prefix:r.prefix,prefixTokens:r.prefixTokens,suffix:r.suffix,suffixTokens:r.suffixTokens,context:r.context,prefixWithoutContext:r.prefixWithoutContext,isFimEnabled:r.suffix.length>0,promptElementRanges:[]},computeTimeMs:n-i,trailingWs:s,promptChoices:new vv,promptBackground:new bv,neighborSource:new Map,metadata:r.metadata,contextProvidersTelemetry:a}}errorPrompt(r){return Qo(this.ctx,r,"PromptComponents.CompletionsPromptFactory"),this.reset(),wte}reset(){this.virtualPrompt=void 0,this.pipe=void 0}};function RIe(e,t){return e.get(ar).promptComponentsEnabled(t)||Qn(e,kt.EnablePromptComponents)?"components":"wishlist"}o(RIe,"getPromptStrategy");function DIe(e){try{Ki()}catch(t){iQ(e,t,"heatUpTokenizer")}}o(DIe,"tryHeatingUpTokenizer");var Ste=require("node:perf_hooks");var vte=10,Ite={type:"contextTooShort"},Tte={type:"copilotContentExclusion"},wte={type:"promptError"},RI={type:"promptCancelled"},PIe={type:"promptTimeout"};async function wct(e,t,r,n,i,s,a,l,c,u,f,m,h={}){let p={uri:s.toString(),source:t,offset:r,relativePath:i,languageId:a},A=Ow(e,f,a),x=[],E=new Map,v=new Map,b=[],S=[],B=[],P=[],F=!1;try{if(BI(e,f)){S=await e.get(ma).resolveAllProviders({uri:s,languageId:l,version:c,offset:r,position:h.positionBeforeApplyingEdits??n,proposedEdits:u.length>0?u:void 0},f,m,h.data);let Z=S.filter(kM);!TM(e,f)&&Z.length>0&&(F=!0),P=await CM(e,Z),B=await lQ(e,Z,a)}let ne=F?Qp.defaultEmptyResult():await Qp.getNeighborFilesAndTraits(e,s,a,f,m,h.data);E=ne.docs,v=ne.neighborSource,b=ne.traits.concat(yIe(P)).filter(ce=>ce.includeInPrompt).map(xM)}catch(ne){Qo(e,ne,"prompt.getPromptForSource.exception")}try{let ne={currentFile:p,similarFiles:Array.from(E.values()),traits:b,tooltipSignature:h.selectedCompletionInfo?.tooltipSignature,options:new TT(A,a),codeSnippets:cQ(e,B)},Z=await e.get(Rm).getSnippets(ne),G=TJ(Z),U=wJ(Z),{runtimes:ie,timeouts:J}=SJ(Z);f.extendWithConfigProperties(e),f.sanitizeKeys();let H=Cs(f);E.size>0?cv(e,"prompt.stat",{...H,neighborFilesTimeout:`${J["similar-files"]}`},{neighborFilesRuntimeMs:ie["similar-files"]}):cv(e,"prompt.stat",{...H},{});for(let M of U)M.error instanceof x1||Qo(e,M.error,"getSnippets");x.push(...G)}catch(ne){throw Qo(e,ne,"prompt.orchestrator.getSnippets.exception"),ne}let q;try{q=await Tp.getPrompt(p,A,x),BI(e,f)&&(e.get(Fa).computeMatchWithPrompt(q.prefix+`
`+q.suffix),q.contextProvidersTelemetry=_M(e,S))}catch(ne){throw Qo(e,ne,"prompt.getPromptForSource.exception"),ne}return{neighborSource:v,...q}}o(wct,"getPromptForSource");function sy(e){let t=e.split(`
`),r=t[t.length-1],n=r.length-r.trimEnd().length,i=e.slice(0,e.length-n),s=e.slice(i.length);return[r.length==n?i:e,s]}o(sy,"trimLastLine");async function Sct(e,t,r,n,i,s,a,l,c,u,f,m,h={}){if((await e.get(pl).evaluate(s,t,"UPDATE")).isBlocked)return Tte;let p=e.get(ar).suffixPercent(f);if((p>0?t.length:r)<vte)return Ite;let x=Ste.performance.now(),{prefix:E,suffix:v,prefixLength:b,suffixLength:S,promptChoices:B,promptBackground:P,promptElementRanges:F,neighborSource:q,contextProvidersTelemetry:ne}=await wct(e,t,r,n,i,s,a,l,c,u,f,m,h),[ce,Z]=sy(E),G=Ste.performance.now();return{type:"prompt",prompt:{prefix:ce,suffix:v,prefixTokens:b,suffixTokens:S,isFimEnabled:p>0&&v.length>0,promptElementRanges:F.ranges},trailingWs:Z,promptChoices:B,computeTimeMs:G-x,promptBackground:P,neighborSource:q,contextProvidersTelemetry:ne}}o(Sct,"extractPromptForSource");function DI(e,t,r,n,i,s={}){let l=e.get(Vr).findNotebook(t),c=l?.getCellFor(t),u;if(l&&c?{textDocument:t,position:r}=kct({textDocument:t,position:r},l,c):u=e.get(Vr).getRelativePath(t),RIe(e,n)==="components")return n.extendWithConfigProperties(e),n.sanitizeKeys(),e.get(jm).prompt({textDocument:t,position:r,telemetryData:n,promptOpts:s},i);let m=t;return Sct(e,m.getText(),m.offsetAt(r),r,u,m.uri,m.detectedLanguageId,m.clientLanguageId,m.version,m.appliedEdits,n,i,s)}o(DI,"extractPrompt");function _ct(e,t){let r=e.document.detectedLanguageId,n=e.document.getText();return r===t?n:Gs(n,t)}o(_ct,"addNeighboringCellsToPrompt");function kct(e,t,r){let i=t.getCells().filter(l=>l.index<r.index&&bM(r.document.detectedLanguageId,l.document.detectedLanguageId)),s=i.length>0?i.map(l=>_ct(l,r.document.detectedLanguageId)).join(`

`)+`

`:"",a={line:0,character:0};return Xv(e,[{newText:s,range:{start:a,end:a}}])}o(kct,"applyEditsForNotebook");function Ow(e,t,r){let i=e.get(ar).maxPromptCompletionTokens(t)-SL(e),s=OEe(t,r),a=nQ(e,t,r),l=e.get(ar).promptOrderListPreset(t),c=e.get(ar).promptPriorityPreset(t),u={maxPromptLength:i,similarFilesOptions:a,numberOfSnippets:s,promptOrderListPreset:l,promptPriorityPreset:c},f=e.get(ar).suffixPercent(t),m=e.get(ar).suffixMatchThreshold(t);return f>0&&m>0&&(u={...u,suffixPercent:f,suffixMatchThreshold:m}),u}o(Ow,"getPromptOptions");d();d();var FIe=2.98410452738298,NIe=-.838732736843507,LIe=1.50314646255716,QIe=-.237798634012662,NM={python:.314368072478742},MIe={"0.01":.225800751784931,"0.02":.290204307767402,"0.03":.333153496466045,"0.05":.404516749849559,"0.1":.513216040545626,"0.2":.626904979128674,"0.3":.694880719658273,"0.4":.743100684947291,"0.5":.782524520571946,"0.6":.816856186092243,"0.7":.84922977716585,"0.8":.883694877241999,"0.9":.921859050950077,"0.95":.944571268106974,"0.99":.969535563141733};var Bct={link:o(e=>Math.exp(e)/(1+Math.exp(e)),"link"),unlink:o(e=>Math.log(e/(1-e)),"unlink")};function Rct(e,t){let r=Math.min(...Array.from(t.keys()).filter(a=>a>=e)),n=Math.max(...Array.from(t.keys()).filter(a=>a<e)),i=t.get(r),s=t.get(n);return s+(i-s)*(e-n)/(r-n)}o(Rct,"linearInterpolation");var PI=class{static{o(this,"Regressor")}constructor(t,r,n){this.name=t,this.coefficient=r,this.transformation=n||(i=>i)}contribution(t){return this.coefficient*this.transformation(t)}},_te=class{constructor(t,r,n){this.link=Bct;if(this.intercept=t,this.coefficients=r,this.logitsToQuantiles=new Map,this.logitsToQuantiles.set(0,0),this.logitsToQuantiles.set(1,1),n)for(let i in n)this.logitsToQuantiles.set(n[i],Number(i))}static{o(this,"LogisticRegression")}predict(t,r){let n=this.intercept;for(let i of this.coefficients){let s=r[i.name];if(s===void 0)return NaN;n+=i.contribution(s)}return this.link.link(n)}quantile(t,r){let n=this.predict(t,r);return Rct(n,this.logitsToQuantiles)}},OIe=new _te(FIe,[new PI("compCharLen",NIe,e=>Math.log(1+e)),new PI("meanLogProb",LIe),new PI("meanAlternativeLogProb",QIe)].concat(Object.entries(NM).map(e=>new PI(e[0],e[1]))),MIe);function UIe(e,t){let r={...t.measurements};return Object.keys(NM).forEach(n=>{r[n]=t.properties["customDimensions.languageId"]==n?1:0}),OIe.predict(e,r)}o(UIe,"ghostTextScoreConfidence");function qIe(e,t){let r={...t.measurements};return Object.keys(NM).forEach(n=>{r[n]=t.properties["customDimensions.languageId"]==n?1:0}),OIe.quantile(e,r)}o(qIe,"ghostTextScoreQuantile");d();d();var Dct=[{max_token_sequence_length:1,last_tokens_to_consider:10},{max_token_sequence_length:10,last_tokens_to_consider:30},{max_token_sequence_length:20,last_tokens_to_consider:45},{max_token_sequence_length:30,last_tokens_to_consider:60}];function LM(e){let t=e.slice();return t.reverse(),WIe(t)||WIe(t.filter(r=>r.trim().length>0))}o(LM,"isRepetitive");function WIe(e){let t=Pct(e);for(let r of Dct){if(e.length<r.last_tokens_to_consider)continue;if(r.last_tokens_to_consider-1-t[r.last_tokens_to_consider-1]<=r.max_token_sequence_length)return!0}return!1}o(WIe,"isRepeatedPattern");function Pct(e){let t=Array(e.length).fill(0);t[0]=-1;let r=-1;for(let n=1;n<e.length;n++){for(;r>=0&&e[r+1]!==e[n];)r=t[r];e[r+1]===e[n]&&r++,t[n]=r}return t}o(Pct,"kmp_prefix_function");function Fct(e,t,r,n){let i="}";try{i=Tp.getBlockCloseToken(t.detectedLanguageId)??"}"}catch{}return Nct({getLineText:o(s=>t.lineAt(s).text,"getLineText"),getLineCount:o(()=>t.lineCount,"getLineCount")},r,n,i)}o(Fct,"maybeSnipCompletion");function Nct(e,t,r,n){let i=Lct(r),s=i.lines;if(s.length===1)return r;for(let a=1;a<s.length;a++){let l=!0,c=0,u=0;for(let f=0;f+a+u<s.length;f++){let m;for(;;){let x=t.line+1+f+c;if(m=x>=e.getLineCount()?void 0:e.getLineText(x),m!==void 0&&m.trim()==="")c++;else break}let h,p;for(;h=a+f+u,p=h>=s.length?void 0:s[h],p!==void 0&&p.trim()==="";)u++;let A=h===s.length-1;if(!p||!(m&&(A?m.startsWith(p)||p.startsWith(m):m===p&&p.trim()===n))){l=!1;break}}if(l)return s.slice(0,a).join(i.newLineCharacter)}return r}o(Nct,"maybeSnipCompletionImpl");function Lct(e){let t=e.includes(`\r
`)?`\r
`:`
`;return{lines:e.split(t),newLineCharacter:t}}o(Lct,"splitByNewLine");function Qct(e,t,r,n){let i="",s=t.line+1,a=n?r.trim():r;for(;i===""&&s<e.lineCount;){if(i=e.lineAt(s).text,n&&(i=i.trim()),i===a)return!0;s++}return!1}o(Qct,"matchesNextLine");function Uw(e,t,r,n,i,s){if(LM(n.tokens)){let l=rn.createAndMarkAsIssued();l.extendWithRequestId(n.requestId),Gt(e,"repetition.detected",l,1),s.info(e,"Filtered out repetitive solution");return}let a={...n};if(Qct(t,r,a.completionText,!i)){let l=rn.createAndMarkAsIssued();l.extendWithRequestId(n.requestId),Gt(e,"completion.alreadyInDocument",l),Gt(e,"completion.alreadyInDocument",l.extendedBy({completionTextJson:JSON.stringify(a.completionText)}),1),s.info(e,"Filtered out solution matching next line");return}return a.completionText=Fct(e,t,r,a.completionText),a.completionText?a:void 0}o(Uw,"postProcessChoiceInContext");function GIe(e,t,r){let i=e.lineAt(t.line).text.substring(t.character);if(i.length>0){if(r.completionText.indexOf(i)!==-1)return i.length;{let s=-1,a=0;for(let l of i){let c=r.completionText.indexOf(l,s+1);if(c>s)a++,s=c;else break}return a}}return 0}o(GIe,"checkSuffix");var HIe=tt(Y2());var Ui=new Ar("ghostText");async function VIe(e,t,r,n,i,s,a){Ui.debug(e,`Getting ${s} from network`),r=r.extendedBy();let l=Wct(e,t,r),c=$v(e,l),u={stream:!0,n:l,temperature:c,extra:{language:t.languageId,next_indent:t.indentation.next??0,trim_by_indentation:Xye(t.blockMode),prompt_tokens:t.prompt.prefixTokens??0,suffix_tokens:t.prompt.suffixTokens??0}};t.multiline||(u.stop=[`
`]);let f=Date.now(),m={endpoint:"completions",uiKind:"ghostText",temperature:JSON.stringify(c),n:JSON.stringify(l),stop:JSON.stringify(u.stop)??"unset",logit_bias:JSON.stringify(u.logit_bias??null)};Object.assign(r.properties,m);try{let h={prompt:t.prompt,languageId:t.languageId,repoInfo:t.repoInfo,ourRequestId:t.ourRequestId,engineModelId:t.engineModelId,count:l,uiKind:"ghostText",postOptions:u,headers:t.headers},p=await e.get(qc).fetchAndStreamCompletions(e,h,r,i,n);return p.type==="failed"?{type:"failed",reason:p.reason,telemetryData:Cs(r)}:p.type==="canceled"?(Ui.debug(e,"Cancelled after awaiting fetchCompletions"),{type:"canceled",reason:p.reason,telemetryData:Ip(r)}):a(l,f,p.getProcessingTime(),p.choices)}catch(h){if(bc(h))return{type:"canceled",reason:"network request aborted",telemetryData:Ip(r,{cancelledNetworkRequest:!0})};if(Ui.exception(e,h,"Error on ghost text request"),e.get(Pc).notifyUser(e,h),ev(e))throw h;return{type:"failed",reason:"non-abort error on ghost text request",telemetryData:Cs(r)}}}o(VIe,"genericGetCompletionsFromNetwork");function kte(e,t,r){if(r||(r=[]),e.completionText=e.completionText.trimEnd(),!!e.completionText&&r.findIndex(n=>n.completionText.trim()===e.completionText.trim())===-1)return t.requestForNextLine&&(e.completionText=`
`+e.completionText),e}o(kte,"postProcessChoices");async function Uct(e,t,r,n,i){return VIe(e,t,r,n,i,"completions",async(s,a,l,c)=>{let f=await c[Symbol.asyncIterator]().next();if(f.done)return Ui.debug(e,"All choices redacted"),{type:"empty",reason:"all choices redacted",telemetryData:Cs(r)};if(n?.isCancellationRequested)return Ui.debug(e,"Cancelled after awaiting redactedChoices iterator"),{type:"canceled",reason:"after awaiting redactedChoices iterator",telemetryData:Ip(r)};let m=f.value;if(m===void 0)return Ui.debug(e,"Got undefined choice from redactedChoices iterator"),{type:"empty",reason:"got undefined choice from redactedChoices iterator",telemetryData:Cs(r)};$Ie(e,"performance",m,a,l),Ui.debug(e,`Awaited first result, id:  ${m.choiceIndex}`);let h=kte(m,t);h&&(Bte(e,t,{multiline:t.multiline,choices:[h]},r),Ui.debug(e,`GhostText first completion (index ${h?.choiceIndex}): ${JSON.stringify(h?.completionText)}`));let p=(async()=>{let A=h!==void 0?[h]:[];for await(let x of c){if(x===void 0)continue;Ui.debug(e,`GhostText later completion (index ${x?.choiceIndex}): ${JSON.stringify(x.completionText)}`);let E=kte(x,t,A);E&&(A.push(E),Bte(e,t,{multiline:t.multiline,choices:[E]},r))}})();return vm(e)&&await p,h?{type:"success",value:[QM(h,{forceSingleLine:!1}),p],telemetryData:Cs(r),telemetryBlob:r,resultType:0}:{type:"empty",reason:"got undefined processedFirstChoice",telemetryData:Cs(r)}})}o(Uct,"getCompletionsFromNetwork");async function qct(e,t,r,n,i){return VIe(e,t,r,n,i,"all completions",async(s,a,l,c)=>{let u=[];for await(let f of c){if(n?.isCancellationRequested)return Ui.debug(e,"Cancelled after awaiting choices iterator"),{type:"canceled",reason:"after awaiting choices iterator",telemetryData:Ip(r)};let m=kte(f,t,u);m&&u.push(m)}return u.length>0&&(Bte(e,t,{multiline:t.multiline,choices:u},r),$Ie(e,"cyclingPerformance",u[0],a,l)),{type:"success",value:[u,Promise.resolve()],telemetryData:Cs(r),telemetryBlob:r,resultType:3}})}o(qct,"getAllCompletionsFromNetwork");function QM(e,t){let r={...e};if(t.forceSingleLine){let{completionText:n}=r;n?.[0]===`
`?r.completionText=`
`+n.split(`
`)[1]:r.completionText=n.split(`
`)[0]}return r}o(QM,"makeGhostAPIChoice");function Wct(e,t,r){let n=e.get(ar).overrideNumGhostCompletions(r);return n?t.isCycling?Math.max(3,n):n:!t.isCycling&&t.blockMode==="moremultiline"&&k1.isSupported(t.languageId)?1:Jye(t.blockMode)&&t.multiline?3:t.isCycling?2:1}o(Wct,"getNumGhostCompletions");async function Gct(e,t,r,n,i,s,a,l,c){let u=e.get(Dm).forLanguage(e,t.detectedLanguageId,c);switch(u){case"server":return{blockMode:"server",requestMultiline:!0,isCyclingRequest:i,finishedCb:o(f=>{},"finishedCb")};case"parsing":case"parsingandserver":case"moremultiline":default:{let f=await Xct(e,u,t,r,s,a,l,n);if(f.requestMultiline){let m;return n.trailingWs.length>0&&!n.prompt.prefix.endsWith(n.trailingWs)?m=Co.position(r.line,Math.max(r.character-n.trailingWs.length,0)):m=r,{blockMode:u,requestMultiline:!0,isCyclingRequest:!1,finishedCb:Hct(e,u,t,m,f.blockPosition,l)}}return{blockMode:u,requestMultiline:!1,isCyclingRequest:i,finishedCb:o(m=>{},"finishedCb")}}}}o(Gct,"getGhostTextStrategy");function Hct(e,t,r,n,i,s){if(t==="moremultiline"&&k1.isSupported(r.detectedLanguageId)){let a=r.getText(Co.range(Co.position(0,0),n))+(s?`
`:"");if(Qn(e,kt.TrimCompletionsAggressively)!==!1){let l=3;return(i==="empty-block"||i==="block-end")&&(l=7),async function(c){return await new JL(r.detectedLanguageId,a,c,3,l).getCompletionTrimOffset()}}else return async function(l){return await new KL(r.detectedLanguageId,a,l).getCompletionTrimOffset()}}return pw(e,r,n,s)}o(Hct,"multilineFinishedCallback");var Vct={isCycling:!1,promptOnly:!1,isSpeculative:!1};async function jct(e,t,r,n,i,s,a){let l=i.issuedTime,c=[];function u(B){let P=qs();c.push([B,P-l]),l=P}o(u,"recordPerformance"),u("telemetry");let f={...Vct,...a},m=e.get(Ad),h=m.clientCompletionId,p=e.get(ar);if(s?.isCancellationRequested)return{type:"abortedBeforeIssued",reason:"cancelled before extractPrompt",telemetryData:Cs(i)};let A=zct(t,r);if(A===void 0)return Ui.debug(e,"Breaking, invalid middle of the line"),{type:"abortedBeforeIssued",reason:"Invalid middle of the line",telemetryData:Cs(i)};let x=e.get(Mm).isEnabled(i)?e.get(Mm):void 0,E=s,v=new qn.CancellationTokenSource;x&&(s=v.token);let b=await DI(e,t,r,i,s,f);return u("prompt"),b.type==="copilotContentExclusion"?(Ui.debug(e,"Copilot not available, due to content exclusion"),{type:"abortedBeforeIssued",reason:"Copilot not available due to content exclusion",telemetryData:Cs(i)}):b.type==="contextTooShort"?(Ui.debug(e,"Breaking, not enough context"),{type:"abortedBeforeIssued",reason:"Not enough context",telemetryData:Cs(i)}):b.type==="promptError"?(Ui.debug(e,"Error while building the prompt"),{type:"abortedBeforeIssued",reason:"Error while building the prompt",telemetryData:Cs(i)}):f.promptOnly?{type:"promptOnly",reason:"Breaking, promptOnly set to true",prompt:b}:b.type==="promptCancelled"?(Ui.debug(e,"Cancelled during extractPrompt"),{type:"abortedBeforeIssued",reason:"Cancelled during extractPrompt",telemetryData:Cs(i)}):b.type==="promptTimeout"?(Ui.debug(e,"Timeout during extractPrompt"),{type:"abortedBeforeIssued",reason:"Timeout",telemetryData:Cs(i)}):b.prompt.prefix.length===0&&b.prompt.suffix.length===0?(Ui.debug(e,"Error empty prompt"),{type:"abortedBeforeIssued",reason:"Empty prompt",telemetryData:Cs(i)}):s?.isCancellationRequested?(Ui.debug(e,"Cancelled after extractPrompt"),{type:"abortedBeforeIssued",reason:"Cancelled after extractPrompt",telemetryData:Cs(i)}):e.get(Li).withProgress(async()=>{let[B]=sy(t.getText(Co.range(Co.position(0,0),r))),P=p.triggerCompletionAfterAccept(i),F=e.get(Ad).hasAcceptedCurrentCompletion(B,b.prompt.suffix),q=P?F:void 0,ne=b.prompt;q&&(b.prompt={...b.prompt,prefix:b.prompt.prefix+`
`,prefixWithoutContext:b.prompt.prefixWithoutContext+`
`});let ce=await Gct(e,t,r,b,f.isCycling,A,F,q??!1,i);if(u("strategy"),s?.isCancellationRequested)return Ui.debug(e,"Cancelled after requestMultiline"),{type:"abortedBeforeIssued",reason:"Cancelled after requestMultiline",telemetryData:Cs(i)};let Z=$ct(e,B,ne,ce.requestMultiline,i);u("cache");let G=v5(e,t.uri),U=b5(e,i),ie={blockMode:ce.blockMode,languageId:t.detectedLanguageId,repoInfo:G,engineModelId:U.modelId,ourRequestId:n,prefix:B,prompt:b.prompt,multiline:ce.requestMultiline,indentation:gw(t,r),isCycling:f.isCycling,headers:U.headers,requestForNextLine:q};ie.headers={...ie.headers,"X-Copilot-Async":x?"true":"false","X-Copilot-Speculative":f.isSpeculative?"true":"false"};let J=sut(e,t,ie,r,b,i,U,f),H=Qn(e,kt.EnableSpeculativeRequests),M=p.enableSpeculativeRequests(i),j=(H??M)&&!f.isSpeculative&&!ce.isCyclingRequest,X=Promise.resolve();if(x&&Z===void 0&&!ce.isCyclingRequest&&x.shouldWaitForAsyncCompletions(B,b.prompt)){let Ee=await x.getFirstMatchingRequestWithTimeout(n,B,b.prompt,f.isSpeculative,J);if(u("asyncWait"),Ee){let Oe=!ce.requestMultiline;Z=[[QM(Ee[0],{forceSingleLine:Oe})],4],X=Ee[1]}if(E?.isCancellationRequested)return Ui.debug(e,"Cancelled before requesting a new completion"),{type:"abortedBeforeIssued",reason:"Cancelled after waiting for async completion",telemetryData:Cs(J)}}let ae=ce.blockMode==="moremultiline"&&k1.isSupported(t.detectedLanguageId);if(Z!==void 0&&(Z[0]=Z[0].map(Ee=>Uw(e,t,r,Ee,ae,Ui)).filter(Ee=>Ee!==void 0)),Z!==void 0&&Z[0].length>0&&(!ce.isCyclingRequest||Z[0].length>1))Ui.debug(e,`Found inline suggestions locally via ${mw(Z[1])}`);else{if(ce.isCyclingRequest){let Ee=await qct(e,ie,J,s,ce.finishedCb);if(Ee.type==="success"){let Oe=Z?.[0]??[];Ee.value[0].forEach(_e=>{Oe.findIndex(Je=>Je.completionText.trim()===_e.completionText.trim())===-1&&Oe.push(_e)}),Z=[Oe,3]}else if(Z===void 0)return Ee}else{if(s?.isCancellationRequested)return Ui.debug(e,"Cancelled before contextual filter"),{type:"canceled",reason:"before contextual filter",telemetryData:Ip(J)};if(!p.disableContextualFilter(i)&&J.measurements.contextualFilterScore<35/100)return Ui.debug(e,"Cancelled by contextual filter"),{type:"canceled",reason:"contextualFilterScore below threshold",telemetryData:Ip(J)};let Ee=x?(_e,Je)=>(x.updateCompletion(n,_e),ce.finishedCb(_e,Je)):ce.finishedCb,Oe=Uct(e,ie,J,s,Ee);if(x){x.queueCompletionRequest(n,B,b.prompt,v,Oe);let _e=await x.getFirstMatchingRequest(n,B,b.prompt,f.isSpeculative);if(_e===void 0)return{type:"empty",reason:"received no results from async completions",telemetryData:Cs(J)};Z=[[_e[0]],4],X=_e[1]}else{let _e=await Oe;if(_e.type!=="success")return _e;Z=[[_e.value[0]],0],X=_e.value[1]}}u("network")}if(Z===void 0)return{type:"failed",reason:"internal error: choices should be defined after network call",telemetryData:Cs(J)};let[re,le]=Z,de=re.map(Ee=>Uw(e,t,r,Ee,ae,Ui)).filter(Ee=>Ee!==void 0),Re=[];for(let Ee of de){let Oe=iut(e,t,ie,Ee,J),_e=A?GIe(t,r,Ee):0,ut={completion:eut(Ee.choiceIndex,Ee.completionText,b.trailingWs),telemetry:Oe,isMiddleOfTheLine:A,suffixCoverage:_e,copilotAnnotations:Ee.copilotAnnotations};Re.push(ut)}if(E?.isCancellationRequested)return Ui.debug(e,"Cancelled after post processing completions"),{type:"canceled",reason:"after post processing completions",telemetryData:Ip(J)};if(J.properties.clientCompletionId=Re?.[0]?.telemetry?.properties.clientCompletionId,J.measurements.foundOffset=Re?.[0]?.telemetry?.measurements?.foundOffset??-1,Ui.debug(e,`Produced ${Re.length} results from ${mw(le)} at ${J.measurements.foundOffset} offset`),j&&Re.length>0){let Ee=Xv({textDocument:t,position:r},[{newText:Re[0].completion.completionText,range:{start:r,end:r}}]),Oe=new qn.CancellationTokenSource().token;X.then(()=>{Rte(e,Ee.textDocument,Ee.position,Oe,{positionBeforeApplyingEdits:f.positionBeforeApplyingEdits,isSpeculative:!0,opportunityId:f.opportunityId})})}if(h!==m.clientCompletionId){let Ee=m.getCompletionsForUserTyping(B,b.prompt.suffix);if(Ee&&Ee.length>0)return Ui.debug(e,"Current completion changed before returning"),{type:"canceled",reason:"current completion changed before returning",telemetryData:Ip(J)}}return f.isSpeculative||m.setGhostText(B,b.prompt.suffix,de,le),u("complete"),{type:"success",value:[Re,le],telemetryData:Cs(J),telemetryBlob:J,resultType:le,performanceMetrics:c}})}o(jct,"getGhostTextWithoutAbortHandling");async function Rte(e,t,r,n,i){let s=Tr(),a=await nut(e,t,s,i);try{return await jct(e,t,r,s,a,n,i)}catch(l){if(bc(l))return{type:"canceled",reason:"aborted at unknown location",telemetryData:Ip(a,{cancelledNetworkRequest:!0})};throw l}}o(Rte,"getGhostText");function $ct(e,t,r,n,i){let s=e.get(Ad).getCompletionsForUserTyping(t,r.suffix),a=rut(e,t,r,n,i);if(s&&s.length>0){let l=(a??[]).filter(c=>!s.some(u=>u.completionText===c.completionText));return[s.concat(l),2]}if(a&&a.length>0)return[a,1]}o($ct,"getLocalInlineSuggestion");function zct(e,t){let r=Yct(t,e),n=Kct(t,e);return r&&!n?void 0:r&&n}o(zct,"isInlineSuggestion");function Yct(e,t){return t.lineAt(e).text.substr(e.character).trim().length!=0}o(Yct,"isMiddleOfTheLine");function Kct(e,t){let n=t.lineAt(e).text.substr(e.character).trim();return/^\s*[)>}\]"'`]*\s*[:{;,]?\s*$/.test(n)}o(Kct,"isValidMiddleOfTheLinePosition");function Jct(e,t){return t.lineAt(e).text.trim().length===0}o(Jct,"isNewLine");var G1=class e{constructor(t=!1){this.requestMultilineOverride=t}static{o(this,"ForceMultiLine")}static{this.default=new e}};async function Xct(e,t,r,n,i,s,a,l){if(e.get(G1).requestMultilineOverride)return{requestMultiline:!0};if(r.lineCount>=8e3)Gt(e,"ghostText.longFileMultilineSkip",rn.createAndMarkAsIssued({languageId:r.detectedLanguageId,lineCount:String(r.lineCount),currentLine:String(n.line)}));else{if(t=="moremultiline"&&k1.isSupported(r.detectedLanguageId)){let f=await SEe(r,n);return s||f==="empty-block"?{requestMultiline:!0,blockPosition:f}:{requestMultiline:!1,blockPosition:f}}if(a){let f=gw(r,n),m=f.current>0?r.lineAt(n).text[0]:void 0,h={range:{start:n,end:n},newText:`
`+(m?m.repeat(f.current):"")};r=Xv({textDocument:r,position:n},[h]).textDocument}if(["typescript","typescriptreact"].includes(r.detectedLanguageId)&&Jct(n,r))return{requestMultiline:!0};let u=!1;return!i&&Qu(r.detectedLanguageId)?u=await rQ(r,n):i&&Qu(r.detectedLanguageId)&&(u=await rQ(r,n)||await rQ(r,r.lineAt(n).range.end)),u||["javascript","javascriptreact","python"].includes(r.detectedLanguageId)&&(u=REe(l.prompt,r.detectedLanguageId)>.5),{requestMultiline:u}}return{requestMultiline:!1}}o(Xct,"shouldRequestMultiline");function Bte(e,t,r,n){if(Qn(e,kt.EnablePrefixCache)??e.get(ar).enablePrefixCompletionsCache(n)){e.get(Om).append(t.prefix,r.choices);return}let i={...t.prompt};t.requestForNextLine&&(i.prefix=i.prefix.slice(0,-1));let s=G$(i),a=e.get(Vu).get(s);a&&a.multiline===r.multiline?e.get(Vu).set(s,{multiline:a.multiline,choices:a.choices.concat(r.choices)}):e.get(Vu).set(s,r),Ui.debug(e,`Appended ${r.choices.length} cached ghost text for key: ${s}, multiline: ${r.multiline}, total number of suggestions: ${(a?.choices.length??0)+r.choices.length}`)}o(Bte,"appendToCache");function Zct(e,t,r){let n=e.get(Vu).get(t);if(n&&!(r&&!n.multiline))return n.choices}o(Zct,"getCachedChoices");function eut(e,t,r){if(r.length>0){if(t.startsWith(r))return{completionIndex:e,completionText:t,displayText:t.substring(r.length),displayNeedsWsOffset:!1};{let n=t.substring(0,t.length-t.trimStart().length);return r.startsWith(n)?{completionIndex:e,completionText:t,displayText:t.trimStart(),displayNeedsWsOffset:!0}:{completionIndex:e,completionText:t,displayText:t,displayNeedsWsOffset:!1}}}else return{completionIndex:e,completionText:t,displayText:t,displayNeedsWsOffset:!1}}o(eut,"adjustLeadingWhitespace");var tut=50;function rut(e,t,r,n,i){if(Qn(e,kt.EnablePrefixCache)??e.get(ar).enablePrefixCompletionsCache(i)){let s=e.get(Om).findAll(t);return s.length===0?(Ui.debug(e,"Found no completions in prefix cache"),[]):(Ui.debug(e,`Found ${s.length} completions in prefix cache`),s.map(a=>QM(a,{forceSingleLine:!n})))}for(let s=0;s<tut;s++){let a=[],l=r.prefix.substring(0,r.prefix.length-s),c=G$({prefix:l,suffix:r.suffix}),u=Zct(e,c,n);if(!u)continue;Ui.debug(e,`Got completions from cache at ${s} characters back for key: ${c}, multiline: ${n}`);let f=r.prefix.substring(l.length);for(let m of u){let h=m.completionText;if(!h.startsWith(f)||h.length<=f.length)continue;h=h.substring(f.length);let p=QM({...m,completionText:h},{forceSingleLine:!n});p.telemetryData.measurements.foundOffset=s,p.completionText!==""&&a.push(p)}if(Ui.debug(e,`Found ${a.length} matching completions from cache at ${s} characters back`),a.length>0)return a}return[]}o(rut,"getCompletionsFromCache");async function nut(e,t,r,n){let i={headerRequestId:r};n?.opportunityId&&(i.opportunityId=n.opportunityId),n?.selectedCompletionInfo?.text&&(i.completionsActive="true"),n?.isSpeculative&&(i.reason="speculative");let s=rn.createAndMarkAsIssued(i);return await e.get(ar).updateExPValuesAndAssignments({uri:t.uri,languageId:t.detectedLanguageId},s)}o(nut,"createTelemetryWithExp");function iut(e,t,r,n,i){let s=n.requestId,a={choiceIndex:n.choiceIndex.toString(),clientCompletionId:n.clientCompletionId},l=n.completionText.split(`
`).length,c={compCharLen:n.completionText.length,numLines:r.requestForNextLine?l-1:l};n.meanLogProb&&(c.meanLogProb=n.meanLogProb),n.meanAlternativeLogProb&&(c.meanAlternativeLogProb=n.meanAlternativeLogProb);let u=n.telemetryData.extendedBy(a,c);return u.issuedTime=i.issuedTime,u.measurements.timeToProduceMs=performance.now()-i.issuedTime,jIe(u,t),u.extendWithRequestId(s),u.measurements.confidence=UIe(e,u),u.measurements.quantile=qIe(e,u),Ui.debug(e,`Extended telemetry for ${n.telemetryData.properties.headerRequestId} with retention confidence ${u.measurements.confidence} (expected as good or better than about ${u.measurements.quantile} of all suggestions)`),u}o(iut,"telemetryWithAddData");function sut(e,t,r,n,i,s,a,l){let c={languageId:t.detectedLanguageId};r.requestForNextLine!==void 0&&(c.requestForNextLine=r.requestForNextLine.toString()),c.isSpeculative=l.isSpeculative.toString();let u=s.extendedBy(c);jIe(u,t);let f=r.repoInfo;u.properties.gitRepoInformation=f===void 0?"unavailable":f===0?"pending":"available",f!==void 0&&f!==0&&(u.properties.gitRepoUrl=f.url,u.properties.gitRepoHost=f.hostname,u.properties.gitRepoOwner=f.owner,u.properties.gitRepoName=f.repo,u.properties.gitRepoPath=f.pathname),u.properties.engineName=a.modelId,u.properties.engineChoiceSource=a.engineChoiceSource,u.properties.isMultiline=JSON.stringify(r.multiline),u.properties.isCycling=JSON.stringify(r.isCycling);let m=t.lineAt(n.line),h=t.getText(Co.range(m.range.start,n)),p=t.getText(Co.range(n,m.range.end)),A=Array.from(i.neighborSource.entries()).map(b=>[b[0],b[1].map(S=>(0,HIe.SHA256)(S).toString())]),x={beforeCursorWhitespace:JSON.stringify(h.trim()===""),afterCursorWhitespace:JSON.stringify(p.trim()===""),promptChoices:JSON.stringify(i.promptChoices,(b,S)=>S instanceof Map?Array.from(S.entries()).reduce((B,[P,F])=>({...B,[P]:F}),{}):S),promptBackground:JSON.stringify(i.promptBackground,(b,S)=>S instanceof Map?Array.from(S.values()):S),neighborSource:JSON.stringify(A),blockMode:r.blockMode},E={...lv(i.prompt),promptEndPos:t.offsetAt(n),promptComputeTimeMs:i.computeTimeMs};i.metadata&&(x.promptMetadata=JSON.stringify(i.metadata)),i.contextProvidersTelemetry&&(x.contextProviders=JSON.stringify(i.contextProvidersTelemetry));let v=u.extendedBy(x,E);return v.measurements.contextualFilterScore=wEe(e,v,i.prompt),Gt(e,"ghostText.issued",v),u}o(sut,"telemetryIssued");function jIe(e,t){e.measurements.documentLength=t.getText().length,e.measurements.documentLineCount=t.lineCount}o(jIe,"addDocumentTelemetry");function $Ie(e,t,r,n,i){let s=Date.now()-n,a=s-i,l=r.telemetryData.extendedBy({},{completionCharLen:r.completionText.length,requestTimeMs:s,processingTimeMs:i,deltaMs:a,meanLogProb:r.meanLogProb||NaN,meanAlternativeLogProb:r.meanAlternativeLogProb||NaN});l.extendWithRequestId(r.requestId),Gt(e,`ghostText.${t}`,l)}o($Ie,"telemetryPerformance");var Ad=class{constructor(){this.choices=[]}static{o(this,"CurrentGhostText")}get clientCompletionId(){return this.choices[0]?.clientCompletionId}setGhostText(t,r,n,i){i!==2&&(this.prefix=t,this.suffix=r,this.choices=n)}getCompletionsForUserTyping(t,r){let n=this.getRemainingPrefix(t,r);if(n!==void 0&&zIe(this.choices[0].completionText,n))return aut(this.choices,n)}hasAcceptedCurrentCompletion(t,r){let n=this.getRemainingPrefix(t,r);if(n===void 0)return!1;let i=n===this.choices?.[0].completionText,s=this.choices?.[0].finishReason;return i&&s==="stop"}getRemainingPrefix(t,r){if(!(this.prefix===void 0||this.suffix===void 0||this.choices.length===0)&&this.suffix===r&&t.startsWith(this.prefix))return t.substring(this.prefix.length)}};function aut(e,t){return e.filter(r=>zIe(r.completionText,t)).map(r=>({...r,completionText:r.completionText.substring(t.length)}))}o(aut,"adjustChoicesStart");function zIe(e,t){return e.startsWith(t)&&e.length>t.length}o(zIe,"startsWithAndExceeds");d();d();d();var D4=class{constructor(t,r,n){this._referenceCount=0;this._isDisposed=!1;this._offset=n;let i=t.get(Vr);this._tracker=i.onDidChangeTextDocument(async s=>{if(s.document.uri===r){for(let a of s.contentChanges)if(a.rangeOffset+a.rangeLength<=this.offset){let l=a.text.length-a.rangeLength;this._offset=this._offset+l}}})}static{o(this,"ChangeTracker")}get offset(){return this._offset}push(t,r){if(this._isDisposed)throw new Error("Unable to push new actions to a disposed ChangeTracker");this._referenceCount++,setTimeout(()=>{t(),this._referenceCount--,this._referenceCount===0&&(this._tracker.dispose(),this._isDisposed=!0)},r)}};d();function Dte(e,t,r=(n,i)=>n===i?0:1){if(t.length===0||e.length===0)return{distance:t.length,startOffset:0,endOffset:0};let n=new Array(t.length+1).fill(0),i=new Array(t.length+1).fill(0),s=new Array(e.length+1).fill(0),a=new Array(e.length+1).fill(0),l=t[0];for(let u=0;u<e.length+1;u++)u===0?n[u]=1:n[u]=r(e[u-1],l,u-1,0),i[u]=u>0?u-1:0;for(let u=1;u<t.length;u++){let f=s;s=n,n=f,f=a,a=i,i=f,l=t[u],n[0]=u+1;for(let m=1;m<e.length+1;m++){let h=1+s[m],p=1+n[m-1],A=r(e[m-1],l,m-1,u)+s[m-1];n[m]=Math.min(p,h,A),n[m]===A?i[m]=a[m-1]:n[m]===h?i[m]=a[m]:i[m]=i[m-1]}}let c=0;for(let u=0;u<e.length+1;u++)n[u]<n[c]&&(c=u);return{distance:n[c],startOffset:i[c],endOffset:c}}o(Dte,"editDistance");function lut(){return new Map}o(lut,"emptyLexDictionary");function cut(e){let t=new Array(e.size);for(let[r,n]of e)t[n]=r;return t}o(cut,"reverseLexDictionary");function*uut(e){let t="",r;(l=>(l[l.Word=0]="Word",l[l.Space=1]="Space",l[l.Other=2]="Other"))(r||={});let n=0;for(let i of e){let s;new RegExp("(\\p{L}|\\p{Nd}|_)","u").test(i)?s=0:i===" "?s=1:s=2,s===n&&s!==2?t+=i:(t.length>0&&(yield t),t=i,n=s)}t.length>0&&(yield t)}o(uut,"lexGeneratorWords");function YIe(e,t,r,n){let i=[],s=0;for(let a of r(e))n(a)&&(t.has(a)||t.set(a,t.size),i.push([t.get(a),s])),s+=a.length;return[i,t]}o(YIe,"lexicalAnalyzer");function KIe(e){return e!==" "}o(KIe,"notSingleSpace");function JIe(e,t,r=uut){let[n,i]=YIe(e,lut(),r,KIe),[s,a]=YIe(t,i,r,KIe);if(s.length===0||n.length===0)return{lexDistance:s.length,startOffset:0,endOffset:0,haystackLexLength:n.length,needleLexLength:s.length};let l=cut(a),c=s.length,u=l[s[0][0]],f=l[s[c-1][0]];function m(x,E,v,b){if(b===0||b===c-1){let S=l[n[v][0]];return b==0&&S.endsWith(u)||b==c-1&&S.startsWith(f)?0:1}else return x===E?0:1}o(m,"compare");let h=Dte(n.map(x=>x[0]),s.map(x=>x[0]),m),p=n[h.startOffset][1],A=h.endOffset<n.length?n[h.endOffset][1]:e.length;return A>0&&e[A-1]===" "&&--A,{lexDistance:h.distance,startOffset:p,endOffset:A,haystackLexLength:n.length,needleLexLength:s.length}}o(JIe,"lexEditDistance");d();function XIe(e,t){return e.compType==="partial"?e.acceptedLength:t.length}o(XIe,"computeCompCharLen");function ZIe(e,t){return t.compType==="partial"?e.substring(0,t.acceptedLength):e}o(ZIe,"computeCompletionText");function e8e(e,t,r){return e.displayText!==e.insertText&&e.insertText.trim()===e.displayText||r===3?t:t-e.range.end.character+e.range.start.character}o(e8e,"computePartialLength");var ay=new Ar("postInsertion"),t8e=[{seconds:15,captureCode:!1,captureRejection:!1},{seconds:30,captureCode:!0,captureRejection:!0},{seconds:120,captureCode:!1,captureRejection:!1},{seconds:300,captureCode:!1,captureRejection:!1},{seconds:600,captureCode:!1,captureRejection:!1}],r8e=50,fut=1500,dut=.5,mut=500,Pte={triggerPostInsertionSynchroneously:!1,captureCode:!1,captureRejection:!1};async function n8e(e,t,r,n,i){let s=await e.get(dn).getOrReadTextDocumentWithFakeClientProperties({uri:t});if(s.status!=="valid")return ay.info(e,`Could not get document for ${t}. Maybe it was closed by the editor.`),{prompt:{prefix:"",suffix:"",isFimEnabled:!1,promptElementRanges:[]},capturedCode:"",terminationOffset:0};let a=s.document,l=a.getText(),c=l.substring(0,n),u=a.positionAt(n),f=await DI(e,a,u,r),m=f.type==="prompt"?f.prompt:{prefix:c,suffix:"",isFimEnabled:!1,promptElementRanges:[]};if(m.isFimEnabled&&i!==void 0){let h=l.substring(n,i);return m.suffix=l.substring(i),{prompt:m,capturedCode:h,terminationOffset:0}}else{let h=l.substring(n),p=NZ(c,n,a.detectedLanguageId),x=await LEe(p,void 0)(h),E=Math.min(l.length,n+(x?x*2:mut)),v=l.substring(n,E);return{prompt:m,capturedCode:v,terminationOffset:x??-1}}}o(n8e,"captureCode");function MM(e,t,r,n,i){i.forEach(({completionText:c,completionTelemetryData:u})=>{ay.debug(e,`${t}.rejected choiceIndex: ${u.properties.choiceIndex}`),PEe(e,t,u)});let s=new D4(e,n,r-1),a=new D4(e,n,r),l=o(async c=>{ay.debug(e,`Original offset: ${r}, Tracked offset: ${s.offset}`);let{completionTelemetryData:u}=i[0],{prompt:f,capturedCode:m,terminationOffset:h}=await n8e(e,n,u,s.offset+1,a.offset),p;f.isFimEnabled?p={hypotheticalPromptPrefixJson:JSON.stringify(f.prefix),hypotheticalPromptSuffixJson:JSON.stringify(f.suffix)}:p={hypotheticalPromptJson:JSON.stringify(f.prefix)};let A=u.extendedBy({...p,capturedCodeJson:JSON.stringify(m)},{timeout:c.seconds,insertionOffset:r,trackedOffset:s.offset,terminationOffsetInCapturedCode:h});ay.debug(e,`${t}.capturedAfterRejected choiceIndex: ${u.properties.choiceIndex}`,A),Gt(e,t+".capturedAfterRejected",A,1)},"checkInCode");t8e.filter(c=>c.captureRejection).map(c=>s.push(_u(e,()=>l(c),"postRejectionTasks"),c.seconds*1e3))}o(MM,"postRejectionTasks");function P4(e,t,r,n,i,s,a,l){let c=s.extendedBy({compType:a.compType},{compCharLen:XIe(a,r)});ay.debug(e,`${t}.accepted choiceIndex: ${c.properties.choiceIndex}`),DEe(e,t,c);let u=r;r=ZIe(r,a);let f=r.trim(),m=new D4(e,i,n),h=new D4(e,i,n+r.length),p=o(async A=>{await Aut(e,t,f,n,i,A,c,m,h)},"stillInCodeCheck");if(Pte.triggerPostInsertionSynchroneously&&vm(e)){let A=p({seconds:0,captureCode:Pte.captureCode,captureRejection:Pte.captureRejection});e.get(yo).register(A)}else t8e.map(A=>m.push(_u(e,()=>p(A),"postInsertionTasks"),A.seconds*1e3));_u(e,hut,"post insertion citation check")(e,i,u,r,n,l)}o(P4,"postInsertionTasks");async function hut(e,t,r,n,i,s){if(!s||(s.ip_code_citations?.length??0)<1)return;let a=await e.get(Vr).getTextDocument({uri:t});if(a){let l=Fte(a.getText(),n,r8e,i);l.stillInCodeHeuristic&&(i=l.foundOffset)}for(let l of s.ip_code_citations){let c=put(r.length,n.length,l.start_offset);if(c===void 0){ay.info(e,`Full completion for ${t} contains a reference matching public code, but the partially inserted text did not include the match.`);continue}let u=i+c,f=a?.positionAt(u),m=i+gut(r.length,n.length,l.stop_offset),h=a?.positionAt(m),p=f&&h?a?.getText({start:f,end:h}):"<unknown>";await e.get(Gu).handleIPCodeCitation(e,{inDocumentUri:t,offsetStart:u,offsetEnd:m,version:a?.version,location:f&&h?{start:f,end:h}:void 0,matchingText:p,details:l.details.citations})}}o(hut,"citationCheck");function put(e,t,r){if(!(t<e&&r>t))return r}o(put,"computeCitationStart");function gut(e,t,r){return t<e?Math.min(r,t):r}o(gut,"computeCitationEnd");function Fte(e,t,r,n){let i=e.substring(Math.max(0,n-r),Math.min(e.length,n+t.length+r)),s=JIe(i,t),a=s.lexDistance/s.needleLexLength,{distance:l}=Dte(i.substring(s.startOffset,s.endOffset),t);return{relativeLexEditDistance:a,charEditDistance:l,completionLexLength:s.needleLexLength,foundOffset:s.startOffset+Math.max(0,n-r),lexEditDistance:s.lexDistance,stillInCodeHeuristic:a<=dut?1:0}}o(Fte,"find");async function Aut(e,t,r,n,i,s,a,l,c){let u=await e.get(dn).getOrReadTextDocument({uri:i});if(u.status==="valid"){let m=u.document.getText(),h=Fte(m,r,r8e,l.offset);h.stillInCodeHeuristic||(h=Fte(m,r,fut,l.offset)),ay.debug(e,`stillInCode: ${h.stillInCodeHeuristic?"Found":"Not found"}! Completion '${r}' in file ${i}. lexEditDistance fraction was ${h.relativeLexEditDistance}. Char edit distance was ${h.charEditDistance}. Inserted at ${n}, tracked at ${l.offset}, found at ${h.foundOffset}. choiceIndex: ${a.properties.choiceIndex}`);let p=a.extendedBy({},{timeout:s.seconds,insertionOffset:n,trackedOffset:l.offset}).extendedBy({},h);if(Gt(e,t+".stillInCode",p),s.captureCode){let{prompt:A,capturedCode:x,terminationOffset:E}=await n8e(e,i,p,l.offset,c.offset),v;A.isFimEnabled?v={hypotheticalPromptPrefixJson:JSON.stringify(A.prefix),hypotheticalPromptSuffixJson:JSON.stringify(A.suffix)}:v={hypotheticalPromptJson:JSON.stringify(A.prefix)};let b=a.extendedBy({...v,capturedCodeJson:JSON.stringify(x)},{timeout:s.seconds,insertionOffset:n,trackedOffset:l.offset,terminationOffsetInCapturedCode:E});ay.debug(e,`${t}.capturedAfterAccepted choiceIndex: ${a.properties.choiceIndex}`,p),Gt(e,t+".capturedAfterAccepted",b,1)}}}o(Aut,"checkStillInCode");var Nte=new Ar("ghostText"),Z0=class{static{o(this,"LastGhostText")}#e;#t;#i=[];get position(){return this.#e}get shownCompletions(){return this.#i||[]}get uri(){return this.#t}resetState(){this.#t=void 0,this.#e=void 0,this.#i=[]}setState({uri:t},r){this.#t=t,this.#e=r,this.#i=[]}resetPartialAcceptanceState(){this.partiallyAcceptedLength=0}};function yut(e){let t=[];return e.shownCompletions.forEach(r=>{if(r.displayText&&r.telemetry){let n,i;e.partiallyAcceptedLength?(n=r.displayText.substring(e.partiallyAcceptedLength-1),i=r.telemetry.extendedBy({compType:"partial"},{compCharLen:n.length})):(n=r.displayText,i=r.telemetry);let s={completionText:n,completionTelemetryData:i,offset:r.offset};t.push(s)}}),t}o(yut,"computeRejectedCompletions");function Lte(e,t){let r=e.get(Z0);if(!r.position||!r.uri)return;let n=yut(r);n.length>0&&MM(e,"ghostText",t??n[0].offset,r.uri,n),r.resetState(),r.resetPartialAcceptanceState()}o(Lte,"rejectLastShown");function i8e(e,t,r,n){let i=e.get(Z0);return i.position&&i.uri&&!(i.position.line===r.line&&i.position.character===r.character&&i.uri.toString()===t.uri.toString())&&n!==2&&Lte(e,t.offsetAt(i.position)),i.setState(t,r),i.index}o(i8e,"setLastShown");function o8e(e,t){let r=e.get(Z0);if(r.index=t.index,!r.shownCompletions.find(n=>n.index===t.index)&&(t.uri===r.uri&&r.position?.line===t.position.line&&r.position?.character==t.position.character&&r.shownCompletions.push(t),t.displayText)){let n=t.resultType!==0;Nte.debug(e,`[${t.telemetry.properties.headerRequestId}] shown choiceIndex: ${t.telemetry.properties.choiceIndex}, fromCache ${n}`),t.telemetry.measurements.compCharLen=t.displayText.length,eQ(e,"ghostText",t)}}o(o8e,"handleGhostTextShown");function OM(e,t){let r=e.get(Z0);r.resetState(),Nte.debug(e,"Ghost text post insert");let n=r.partiallyAcceptedLength?{compType:"partial",acceptedLength:t.displayText.length}:{compType:"full"};return r.resetPartialAcceptanceState(),P4(e,"ghostText",t.displayText,t.offset,t.uri,t.telemetry,n,t.copilotAnnotations)}o(OM,"handleGhostTextPostInsert");function s8e(e,t,r,n=0){let i=e.get(Z0);r===t.insertText.length&&i.resetState(),Nte.debug(e,"Ghost text partial post insert");let s=e8e(t,r,n);if(s)return i.partiallyAcceptedLength=r,P4(e,"ghostText",t.displayText,t.offset,t.uri,t.telemetry,{compType:"partial",acceptedLength:s},t.copilotAnnotations)}o(s8e,"handlePartialGhostTextPostInsert");d();d();var a8e=tt(require("node:util"));function l8e(e,...t){return`[${e}] ${Cut(t)}`}o(l8e,"formatLogMessage");function Cut(e){return a8e.default.formatWithOptions({maxStringLength:1/0},...e)}o(Cut,"format");function UM(e){return l2e(e)}o(UM,"verboseLogging");var qM=class extends _a{constructor(r){super();this.console=r}static{o(this,"ConsoleLog")}logIt(r,n,i,...s){n==1?this.console.error(`[${i}]`,...s):(n==2||UM(r))&&this.console.warn(`[${i}]`,...s)}};d();var c8e=require("node:util");var FI=class extends hp{static{o(this,"TelemetryLogSenderImpl")}sendError(t,r,...n){F3(t,"log",rn.createAndMarkAsIssued({context:r,level:Q3[1],message:xut(...n)}),1)}sendException(t,r,n){Qo(t,r,n)}};function xut(...e){return e.map(t=>(0,c8e.inspect)(t)).join(" ")}o(xut,"telemetryMessage");d();var IRe=tt(require("crypto")),TRe=tt(require("fs")),wRe=tt(bRe()),SRe=require("tls"),_Re=tt(vRe());var G8=new Ar("certificates"),Oa=class{static{o(this,"RootCertificateReader")}};function yq(e,t=process.platform){return new ase(e,[new lse,new cse,Ebt(e,t)])}o(yq,"getRootCertificateReader");function Ebt(e,t){switch(t){case"linux":return new use(e);case"darwin":return new fse(e);case"win32":return new dse(e);default:return new mse}}o(Ebt,"createPlatformReader");var sse=class extends Oa{constructor(r,n){super();this.ctx=r;this.delegate=n}static{o(this,"ErrorHandlingCertificateReader")}async getAllRootCAs(){try{return await this.delegate.getAllRootCAs()}catch(r){return G8.warn(this.ctx,"Failed to read root certificates:",r),[]}}},ase=class extends Oa{constructor(r,n){super();this.ctx=r;this.delegates=n.map(i=>new sse(r,i))}static{o(this,"CachingRootCertificateReader")}async getAllRootCAs(){return this.certificates||(this.certificates=this.removeExpiredCertificates((await Promise.all(this.delegates.map(r=>r.getAllRootCAs()))).flat())),this.certificates}removeExpiredCertificates(r){let n=Date.now(),i=r.filter(s=>{try{let a=new IRe.X509Certificate(s),l=Date.parse(a.validTo);return isNaN(l)||l>n}catch(a){return G8.warn(this.ctx,"Failed to parse certificate",s,a),!1}});return r.length!==i.length&&G8.info(this.ctx,`Removed ${r.length-i.length} expired certificates`),i}},lse=class extends Oa{static{o(this,"NodeTlsRootCertificateReader")}async getAllRootCAs(){return SRe.rootCertificates}},cse=class extends Oa{static{o(this,"EnvironmentVariableRootCertificateReader")}async getAllRootCAs(){let t=process.env.NODE_EXTRA_CA_CERTS;return t?await kRe(t):[]}},use=class extends Oa{constructor(r){super();this.ctx=r}static{o(this,"LinuxRootCertificateReader")}async getAllRootCAs(){let r=[];for(let n of["/etc/ssl/certs/ca-certificates.crt","/etc/ssl/certs/ca-bundle.crt"]){let i=await kRe(n);G8.debug(this.ctx,`Read ${i.length} certificates from ${n}`),r=r.concat(i)}return r}},fse=class extends Oa{constructor(r){super();this.ctx=r}static{o(this,"MacRootCertificateReader")}async getAllRootCAs(){let r=wRe.get();return G8.debug(this.ctx,`Read ${r.length} certificates from Mac keychain`),r}},dse=class extends Oa{constructor(r){super();this.ctx=r}static{o(this,"WindowsRootCertificateReader")}async getAllRootCAs(){let r=_Re.all();return G8.debug(this.ctx,`Read ${r.length} certificates from Windows store`),r}},mse=class extends Oa{static{o(this,"UnsupportedPlatformRootCertificateReader")}async getAllRootCAs(){throw new Error("No certificate reader available for unsupported platform")}};async function kRe(e){try{let r=(await TRe.promises.readFile(e,{encoding:"utf8"})).match(/-----BEGIN CERTIFICATE-----[\s\S]*?-----END CERTIFICATE-----/g);if(!r)return[];let n=r.filter(s=>s.length>0),i=new Set(n);return Array.from(i)}catch(t){if(t instanceof Error&&"code"in t&&t.code==="ENOENT")return[];throw t}}o(kRe,"readCertsFromFile");d();var qRe=tt(require("http"));var jbt=407,Xl=new Ar("proxySocketFactory"),og=class{static{o(this,"ProxySocketFactory")}},dx=class extends Error{static{o(this,"ProxySocketError")}constructor(t,r,n){super(t),this.code=r?.code,this.syscall=r?.syscall,this.errno=r?.errno,/^Failed to establish a socket connection to proxies:/.test(r?.message??"")?this.code="ProxyFailedToEstablishSocketConnection":/^InitializeSecurityContext:/.test(r?.message??"")?this.code="ProxyInitializeSecurityContext":r?.message==="Miscellaneous failure (see text): Server not found in Kerberos database"?this.code="ProxyKerberosServerNotFound":/^Unspecified GSS failure. {2}Minor code may provide more information: No Kerberos credentials available/.test(r?.message??"")&&(this.code="ProxyGSSFailureNoKerberosCredentialsAvailable"),n!==void 0&&(this.code=n)}};function Cq(e){return new gse(e,new Ase(e))}o(Cq,"getProxySocketFactory");var gse=class extends og{constructor(r,n,i=new s_,s=process.platform){super();this.ctx=r;this.delegate=n;this.kerberosLoader=i;this.platform=s;this.successfullyAuthorized=new xn(20)}static{o(this,"KerberosProxySocketFactory")}async createSocket(r,n){this.successfullyAuthorized.get(this.getProxyCacheKey(n))&&(Xl.debug(this.ctx,"Proxy authorization already successful once, skipping 407 rountrip"),await this.reauthorize(r,n));try{return await this.delegate.createSocket(r,n)}catch(i){if(i instanceof dx&&i.code===`ProxyStatusCode${jbt}`){Xl.debug(this.ctx,"Proxy authorization required, trying to authorize first time");let s=await this.authorizeAndCreateSocket(r,n);if(s)return Xl.debug(this.ctx,"Proxy authorization successful, caching result"),Gt(this.ctx,"proxy.kerberosAuthorized"),this.successfullyAuthorized.set(this.getProxyCacheKey(n),!0),s}throw i}}async reauthorize(r,n){let i=await this.authorize(n);i&&(Xl.debug(this.ctx,"Proxy re-authorization successful, received token"),r.headers["Proxy-Authorization"]="Negotiate "+i)}async authorizeAndCreateSocket(r,n){let i=await this.authorize(n);if(Xl.debug(this.ctx,"Proxy authorization successful, received token"),i)return Xl.debug(this.ctx,"Trying to create socket with proxy authorization"),r.headers["Proxy-Authorization"]="Negotiate "+i,await this.delegate.createSocket(r,n)}async authorize(r){Xl.debug(this.ctx,"Loading kerberos module");let n=await this.kerberosLoader.load(),i=this.computeSpn(r);Xl.debug(this.ctx,"Initializing kerberos client using spn",i);let s=await n.initializeClient(i);Xl.debug(this.ctx,"Perform client side kerberos step");let a=await s.step("");return Xl.debug(this.ctx,"Received kerberos server response"),a}computeSpn(r){let n=r.kerberosServicePrincipal;if(n)return Xl.debug(this.ctx,"Using configured kerberos spn",n),n;let i=this.platform==="win32"?`HTTP/${r.host}`:`HTTP@${r.host}`;return Xl.debug(this.ctx,"Using default kerberos spn",i),i}getProxyCacheKey(r){return r.host+":"+r.port}},Ase=class extends og{constructor(r){super();this.ctx=r}static{o(this,"TunnelingProxySocketFactory")}async createSocket(r,n){let i=this.createConnectRequestOptions(r,n);return new Promise((s,a)=>{Xl.debug(this.ctx,"Attempting to establish connection to proxy");let l=qRe.request(i);l.useChunkedEncodingByDefault=!1,l.once("connect",(c,u,f)=>{Xl.debug(this.ctx,"Socket Connect returned status code",c.statusCode),l.removeAllListeners(),u.removeAllListeners(),c.statusCode!==200?(u.destroy(),a(new dx(`tunneling socket could not be established, statusCode=${c.statusCode}`,void 0,`ProxyStatusCode${c.statusCode}`))):f.length>0?(u.destroy(),a(new dx(`got non-empty response body from proxy, length=${f.length}`,void 0,"ProxyNonEmptyResponseBody"))):(Xl.debug(this.ctx,"Successfully established tunneling connection to proxy"),s(u))}),l.once("error",c=>{Xl.debug(this.ctx,"Proxy socket connection error",c.message),l.removeAllListeners(),a(new dx(`tunneling socket could not be established, cause=${c.message}`,c))}),l.on("timeout",()=>{Xl.debug(this.ctx,"Proxy socket connection timeout"),a(new dx(`tunneling socket could not be established, proxy socket connection timeout while connecting to ${i.host}:${i.port}`,void 0,"ProxyTimeout"))}),l.end()})}createConnectRequestOptions(r,n){let i=`${r.hostname}:${r.port}`,s={...n,method:"CONNECT",path:i,agent:!1,headers:{host:i,"Proxy-Connection":"keep-alive"},timeout:r.timeout};return r.localAddress&&(s.localAddress=r.localAddress),this.configureProxyAuthorization(s,r),s}configureProxyAuthorization(r,n){r.headers["Proxy-Authorization"]=[],r.proxyAuth&&r.headers["Proxy-Authorization"].push("Basic "+Buffer.from(r.proxyAuth).toString("base64")),n.headers&&n.headers["Proxy-Authorization"]&&r.headers["Proxy-Authorization"].push(n.headers["Proxy-Authorization"])}},s_=class{static{o(this,"KerberosLoader")}load(){return Promise.resolve().then(()=>tt(URe()))}};d();var VRe=require("node:os");var $bt=new Ar("repository"),mx="\\\\",jRe="(?:[#;].*)",j8=`(?:[^"${mx}]|${mx}.)`,zbt="[0-9A-Za-z-]",WRe=`[A-Za-z]${zbt}*`,$Re=`\\s*${jRe}?$`,zRe=`(?:[^"${mx};#]|${mx}.)`,Ybt=`(?:"${j8}*"|"${j8}*(?<strCont>${mx})$)`,Kbt=`(?:${zRe}|${Ybt})+`,Jbt=`(?:(?<cont>${mx})$)`,YRe=`(?<value>${Kbt})${Jbt}?${$Re}`,GRe=new RegExp(`^${YRe}`),Xbt=new RegExp(`^(?<value>${j8}*(?:(?<strCont>${mx})$|(?<quote>")))`),Zbt=new RegExp(`^\\s*(?:(?<key>${WRe})\\s*=\\s*${YRe}|(?<soloKey>${WRe})${$Re})`),evt=new RegExp(`(?<value>${zRe}+)|"(?<string>${j8}*)"`,"g"),HRe="[-.0-9A-Za-z]+",tvt=`\\s+"(?<ext>${j8}*)"`,rvt=`\\s+"(?<extOnly>${j8}*)"`,nvt=new RegExp(`^\\s*\\[(?:(?<simple>${HRe})${tvt}|${rvt}|(?<simpleOnly>${HRe}))\\]`),ivt=new RegExp(`^\\s*${jRe}$`),yse=class{constructor(t){this.content=t;this.stopped=!1;this.section="";this.line="";this.lineNum=0;this.lines=[];this.linesWithErrors=[]}static{o(this,"GitConfigParser")}parse(t){for(this.stopped=!1,this.section="",this.line="",this.linesWithErrors=[],this.configValueHandler=t,this.lines=this.content.split(/\r?\n/),this.lineNum=0;!this.stopped&&this.lineNum<this.lines.length;this.lineNum++)this.line=this.lines[this.lineNum],this.parseSectionStart(),this.parseConfigPair(),this.parseComment(),/^\s*$/.test(this.line)||this.errorAt(this.lineNum+1)}stop(){this.stopped=!0}hasErrors(){return this.linesWithErrors.length>0}errorAt(t){this.linesWithErrors.push(t)}parseSectionStart(){let t=this.line.match(nvt);t&&(t.groups?.simple?this.section=t.groups.simple.toLowerCase()+"."+this.unescapeBaseValue(t.groups.ext):t.groups?.extOnly?this.section="."+this.unescapeBaseValue(t.groups.extOnly):this.section=t.groups.simpleOnly.toLowerCase(),this.line=this.line.slice(t[0].length))}unescapeBaseValue(t){return t.replace(/\\(.)/g,"$1")}parseConfigPair(){let t=this.line.match(Zbt);if(t){if(t.groups?.key){let r=this.handleContinued(t);this.configValueHandler?.(this.nameWithSection(t.groups.key.toLowerCase()),r)}else t.groups?.soloKey&&this.configValueHandler?.(this.nameWithSection(t.groups.soloKey.toLowerCase()),"");this.line=""}}handleContinued(t){let r=t,n=[this.matchedValue(r)];for(;r?.groups?.cont||r?.groups?.strCont;){if(this.line=this.lines[++this.lineNum],this.lineNum>=this.lines.length){this.errorAt(this.lineNum);break}r.groups.strCont?(r=this.line.match(Xbt),r?(n.push(this.matchedValue(r)),r.groups?.quote&&(r=this.line.slice(r[0].length).match(GRe),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))):this.errorAt(this.lineNum+1)):(r=this.line.match(GRe),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))}return this.normalizeValue(n.join(""))}matchedValue(t){return t.groups.strCont?t.groups.value.slice(0,-1):t.groups.value}normalizeValue(t){let r=!1,n=[...t.matchAll(evt)].map(i=>i.groups?.value?(r=!0,this.unescapeValue(i.groups.value.replace(/\s/g," "))):(r=!1,this.unescapeValue(i.groups.string))).join("");return r?n.trimEnd():n}unescapeValue(t){let r={n:`
`,t:"	",b:"\b"};return t.replace(/\\(.)/g,(n,i)=>r[i]||i)}nameWithSection(t){return this.section?this.section+"."+t:t}parseComment(){ivt.test(this.line)&&(this.line="")}},xq=class extends vp{static{o(this,"GitParsingConfigLoader")}async getConfig(t,r){let n=await S1.getRepoConfigLocation(t,r);if(!n)return;let i=await this.getParsedConfig(t,n);if(i)return this.mergeConfig(await this.baseConfig(t,n),i)}mergeConfig(...t){return t.filter(r=>r!==void 0).reduce((r,n)=>r.concat(n),new Zv)}async getParsedConfig(t,r,n=!0){let i=await this.tryLoadConfig(t,r,n);if(!i)return;let s=new yse(i),a=new Zv;return s.parse((l,c)=>a.add(l,c)),a}async tryLoadConfig(t,r,n){try{return await t.get(ko).readFileString(r)}catch(i){(n||!(i instanceof Error)||i.code!=="ENOENT")&&$bt.warn(t,`Failed to load git config from ${JSON.stringify(r)}:`,i);return}}async baseConfig(t,r){let n=await this.commondirConfigUri(t,r),i=Jo(this.xdgConfigUri(),"git","config"),s=Jo(this.homeUri(),".gitconfig");return this.mergeConfig(await this.getParsedConfig(t,i,!1),await this.getParsedConfig(t,s,!1),n?await this.getParsedConfig(t,n,!1):void 0)}async commondirConfigUri(t,r){if(_o(r).toLowerCase()!=="config.worktree")return;let n=Bu(r),i=Jo(n,"commondir");try{let s=(await t.get(ko).readFileString(i)).trimEnd();return Jo(L3(n,s),"config")}catch{return}}xdgConfigUri(){return process.env.XDG_CONFIG_HOME?Gl(process.env.XDG_CONFIG_HOME):Jo(this.homeUri(),".config")}homeUri(){return Gl((0,VRe.homedir)())}};d();var JRe=tt(require("node:events"));var KRe="onWorkspaceChanged",cf=class{constructor(){this.emitter=new JRe.default}static{o(this,"WorkspaceNotifier")}onChange(t){this.emitter.on(KRe,t)}emit(t){this.emitter.emit(KRe,t)}};function XRe(e){let t=new Gv;return t.set(Cp,e),t.set(tp,new tp),t.set(co,new co),ovt(t),t.set(Vu,new Vu),t.set(Om,new Om),t.set(up,new up),t.set(Oa,yq(t)),t.set(og,Cq(t)),t.set(ar,new ar(t)),t.set(dp,new dp),t.set(Ul,new Ul(t)),t.set(ys,new ys),t.set(Pu,new Pu),t.set(Pc,new Pc),t.set(ju,new ju),t.set(qc,new tw),t.set(Dm,new Tv),t.set(wm,new fT),t.set(yo,new yo),t.set(jm,FM(t)),t.set(Rm,new Rm),t.set(Z0,new Z0),t.set(Ad,new Ad),t.set(G1,G1.default),t.set(S1,new S1(t)),t.set(vp,new UL([new OL,new xq])),t.set(cf,new cf),t.set(Xf,new Xf(t)),t.set(Hs,new Hs),t.set(Mm,new Mm(t)),t.set(m4,new m4(t)),t.set(ts,new ts),t.set(dn,new dn(t)),t}o(XRe,"createProductionContext");function ovt(e){e.set(jf,jf.fromEnvironment(!1)),e.set(hp,new FI),e.set(_a,new qM(console))}o(ovt,"setupRudimentaryLogging");var rjr=new Ar("context");d();d();var Kr=new Ar("chat");d();d();var Tl=(s=>(s.System="system",s.User="user",s.Assistant="assistant",s.Function="function",s.Tool="tool",s))(Tl||{});function en(e){return e?typeof e=="string"?e:e.map(t=>"text"in t?t.text:"").join(""):""}o(en,"getTextPart");var ZRe=o((e,t)=>I.Unsafe({type:"string",enum:e,description:t?.description}),"StringEnum"),eDe=I.Optional(I.Object({agentSlug:I.String(),state:I.Union([I.Literal("accepted"),I.Literal("dismissed")]),confirmation:I.Any()}));function Oy(e){if(typeof e.function.arguments=="string")try{return JSON.parse(e.function.arguments)}catch{return{}}return e.function.arguments}o(Oy,"parseToolCallArguments");function tDe(e){return typeof e.function.arguments=="object"&&(e.function.arguments=JSON.stringify(e.function.arguments)),e}o(tDe,"toOpenAIToolCall");function rDe(e,t,r,n,i,s,a,l){let c=JSON.parse(JSON.stringify(t));return r.tool_calls&&(c.tool_calls=r.tool_calls),jv(e,[c],l),{message:t,choiceIndex:n,requestId:i,blockFinished:s,finishReason:a,tokens:r.tokens,numTokens:r.tokens.length,tool_calls:r.tool_calls,function_call:r.function_call,telemetryData:l}}o(rDe,"convertToChatCompletion");d();var Cse=new Ar("streamMessages");function nDe(e,t,r){let n=t.solution.text.join(""),i=!1;t.finishOffset!==void 0&&(Cse.debug(e,`message ${t.index}: early finish at offset ${t.finishOffset}`),n=n.substring(0,t.finishOffset),i=!0),Cse.info(e,`message ${t.index} returned. finish reason: [${t.reason}]`),Cse.debug(e,`message ${t.index} details: finishOffset: [${t.finishOffset}] completionId: [{${t.requestId.completionId}}] created: [{${t.requestId.created}}]`);let s=rZ(t.solution),a={role:"assistant",content:n};return rDe(e,a,s,t.index,t.requestId,i,t.reason??"",r)}o(nDe,"prepareChatCompletionForReturn");var Dd=new Ar("fetchChat"),Eq=class{static{o(this,"OpenAIChatMLFetcher")}async fetchAndStreamChat(t,r,n,i,s){let a=await this.fetchWithParameters(t,r.endpoint,r,n,s);if(a==="not-sent")return{type:"canceled",reason:"before fetch request"};if(s?.isCancellationRequested){let l=a.body();try{l.destroy()}catch(c){Dd.exception(t,c,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(a.status!==200){let l=this.createTelemetryData(r.endpoint,t,r);return this.handleError(t,l,a)}if(r.postOptions?.stream===!1){let l=await a.text(),c=JSON.parse(l),u=c.choices!=null?c.choices[0].message:{role:"assistant",content:""},f=a.headers.get("X-Request-ID")??Tr(),m={blockFinished:!1,choiceIndex:0,finishReason:"stop",message:u,tokens:en(u.content).split(" "),requestId:{headerRequestId:f,completionId:c.id?c.id:"",created:c.created?Number(c.created):0,deploymentId:"",serverExperiments:""},telemetryData:n,numTokens:0},h=en(u.content);return await i(h,{text:h,copilotReferences:c.copilot_references}),{type:"success",chatCompletions:async function*(){yield m}(),getProcessingTime:o(()=>zv(a),"getProcessingTime")}}else{let c=U5.create(t,r.count,a,n,[],s).processSSE(i);return{type:"success",chatCompletions:I1(c,async f=>nDe(t,f,n)),getProcessingTime:o(()=>zv(a),"getProcessingTime")}}}createTelemetryData(t,r,n){return rn.createAndMarkAsIssued({endpoint:t,engineName:n.engineName,uiKind:n.uiKind,headerRequestId:n.ourRequestId})}async fetchWithParameters(t,r,n,i,s){let a={messages:n.messages,tools:n.tools,tool_choice:n.tool_choice,model:n.model,temperature:$v(t,n.count),top_p:wL(t),n:n.count,stop:[`


`],copilot_thread_id:n.copilot_thread_id},l=A1(n.repoInfo);return l!==void 0&&(a.nwo=l),n.postOptions&&Object.assign(a,n.postOptions),n.intent&&(a.intent=n.intent,n.intent_model&&(a.intent_model=n.intent_model),n.intent_tokenizer&&(a.intent_tokenizer=n.intent_tokenizer),n.intent_threshold&&(a.intent_threshold=n.intent_threshold),n.intent_content&&(a.intent_content=n.intent_content)),s?.isCancellationRequested?"not-sent":await svt(t,n.messages,n.capiUrl,n.engineName,r,n.ourRequestId,a,n.authToken,n.uiKind,i,n.llmInteraction,s)}async handleError(t,r,n){if(n.clientError&&!n.headers.get("x-github-request-id")){let s=`Last response was a ${n.status} error and does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`;Dd.error(t,s),r.properties.error=`Response status was ${n.status} with no x-github-request-id header`}else r.properties.error=`Response status was ${n.status}`;if(r.properties.status=String(n.status),Gt(t,"request.shownWarning",r),n.status===401)try{let s=await n.text(),a=JSON.parse(s);if(a.authorize_url)return{type:"authRequired",reason:"not authorized",authUrl:a.authorize_url}}catch{}if(n.status===401||n.status===403)return t.get(qr).resetToken(n.status),{type:"failed",reason:`token expired or invalid: ${n.status}`,code:n.status};if(n.status===499)return Dd.info(t,"Cancelled by server"),{type:"failed",reason:"canceled by server",code:n.status};let i=await n.text();if(n.status===466)return Dd.info(t,i),{type:"failed",reason:`client not supported: ${i}`,code:n.status};if(n.status===400&&i.includes("off_topic"))return{type:"failed",reason:"filtered as off_topic by intent classifier: message was not programming related",code:n.status};if(n.status===400&&i.includes("model_not_supported"))return{type:"failed",reason:"model is not supported.",code:n.status};if(n.status===424)return{type:"failedDependency",reason:i};if(n.status===402){let a=n.headers.get("retry-after");return{type:"failed",reason:a?`You've reached your monthly chat messages limit. Upgrade to Copilot Pro (30-day free trial) or wait until ${new Date(a).toLocaleString()} for your limit to reset.`:"You've reached your monthly chat messages limit. Upgrade to Copilot Pro (30-day free trial) or wait for your limit to reset.",code:n.status}}return Dd.error(t,"Unhandled status from server:",n.status,i),{type:"failed",reason:`unhandled status from server: ${n.status} ${i}`,code:n.status}}};async function svt(e,t,r,n,i,s,a,l,c,u,f,m){let h=Jo(r,n,i);if(!l)throw new Error(`Failed to send request to ${h} due to missing key`);let p=u.extendedBy({endpoint:i,engineName:n,uiKind:c});for(let[v,b]of Object.entries(a))v!="messages"&&(p.properties[`request.option.${v}`]=JSON.stringify(b)??"undefined");p.properties.headerRequestId=s,Gt(e,"request.sent",p);let A=qs(),x=N4e(c),E={...C5(e),...f.toCapiHeaders()};return a.messages?.some(v=>Array.isArray(v.content)?v.content.some(b=>"image_url"in b):!1)&&(E["Copilot-Vision-Request"]="true"),a.messages&&a.messages.forEach(v=>{avt(v)&&v.tool_calls&&(v.tool_calls=v.tool_calls.map(b=>tDe(b)))}),A3(e,h,l,x,s,a,m,E).then(v=>{let b=O5(v,void 0);p.extendWithRequestId(b);let S=qs()-A;return p.measurements.totalTimeMs=S,Dd.info(e,`request.response: [${h}] took ${S} ms`),Dd.debug(e,"request.response properties",p.properties),Dd.debug(e,"request.response measurements",p.measurements),Dd.debug(e,"messages:",JSON.stringify(t)),Gt(e,"request.response",p),v}).catch(v=>{if(bc(v))throw v;let b=p.extendedBy({error:"Network exception"});Gt(e,"request.shownWarning",b),p.properties.message=String(K0(v,"name")??""),p.properties.code=String(K0(v,"code")??""),p.properties.errno=String(K0(v,"errno")??""),p.properties.type=String(K0(v,"type")??"");let S=qs()-A;throw p.measurements.totalTimeMs=S,Dd.debug(e,`request.response: [${h}] took ${S} ms`),Dd.debug(e,"request.error properties",p.properties),Dd.debug(e,"request.error measurements",p.measurements),Gt(e,"request.error",p),v}).finally(()=>{jv(e,t,p)})}o(svt,"fetchWithInstrumentation");function avt(e){return"tool_calls"in e}o(avt,"isChatMessageWithToolCalls");var ga=class{constructor(t){this.ctx=t;this.fetcher=new Eq}static{o(this,"ChatMLFetcher")}async fetchResponse(t,r,n,i){let s=Tr(),a={n:t.num_suggestions??1,temperature:t.temperature??0,stop:t.stop,top_p:t.topP??1,copilot_thread_id:t.copilot_thread_id},l=t.modelConfiguration;l&&(a.max_tokens=l.maxResponseTokens,a.stream=!!l.stream),t.logitBias&&(a.logit_bias=t.logitBias);let c=await this.ctx.get(qr).getToken(),u=hv(this.ctx,c),f=t.endpoint??"completions",m=t.authToken??c.token,h={messages:t.messages,repoInfo:void 0,ourRequestId:s,capiUrl:u,engineName:t.engineName??"chat",endpoint:f,count:t.num_suggestions??1,uiKind:t.uiKind,postOptions:a,authToken:m,...t.intentParams,llmInteraction:t.llmInteraction};return l&&(h.model=l.modelId),t.tools&&t.tools?.length>0&&(l===void 0||l.toolCalls)&&(h.tools=t.tools,h.tool_choice=t.tool_choice??"auto"),await this.fetch(h,i,r,n)}async fetch(t,r,n,i){try{let s=await this.fetcher.fetchAndStreamChat(this.ctx,t,i.extendedBy({uiKind:t.uiKind}),r||(async()=>{}),n);switch(s.type){case"success":return await this.processSuccessfulResponse(s,t.ourRequestId,i);case"canceled":return this.processCanceledResponse(s,t.ourRequestId);case"failed":case"failedDependency":return this.processFailedResponse(s,t.ourRequestId);case"authRequired":return{type:"agentAuthRequired",reason:"Agent authentication required.",authUrl:s.authUrl,requestId:t.ourRequestId}}}catch(s){return this.processError(s,t.ourRequestId)}}async processSuccessfulResponse(t,r,n){let i=[],s=ZT(t.chatCompletions,async a=>this.postProcess(a,n));for await(let a of s)Kr.debug(this.ctx,`Received choice: ${JSON.stringify(a,null,2)}`),i.push(a);if(i.length==1){let a=i[0];switch(a.finishReason){case"stop":return{type:"success",value:en(a.message?.content)??"",toolCalls:a.tool_calls,requestId:r,numTokens:a.numTokens};case"tool_calls":return{type:"tool_calls",toolCalls:a.tool_calls,requestId:r};case"content_filter":return{type:"filtered",reason:"Response got filtered.",requestId:r};case"length":return{type:"length",reason:"Response too long.",requestId:r};case"DONE":return{type:"no_finish_reason",reason:"No finish reason received.",requestId:r};default:return{type:"unknown",reason:"Unknown finish reason received.",requestId:r}}}else if(i.length>1){let a=i.filter(l=>l.finishReason=="stop"||l.finishReason=="tool_calls");if(a.length>0)return{type:"successMultiple",value:a.map(l=>en(l.message.content)),toolCalls:a.map(l=>l.tool_calls).filter(l=>l),requestId:r}}return{type:"no_choices",reason:"Response contained no choices.",requestId:r}}postProcess(t,r){return LM(t.tokens)?(r.extendWithRequestId(t.requestId),Gt(this.ctx,"conversation.repetition.detected",r,0),t.finishReason!==""?t:void 0):t.message?t:void 0}processCanceledResponse(t,r){return Kr.debug(this.ctx,"Cancelled after awaiting fetchConversation"),{type:"canceled",reason:t.reason,requestId:r}}processFailedResponse(t,r){return t?.reason.includes("filtered as off_topic by intent classifier")?{type:"offTopic",reason:t.reason,requestId:r}:t?.reason.includes("model is not supported")?{type:"model_not_supported",reason:t.reason,requestId:r}:{type:"failed",reason:t.reason,requestId:r,code:t.type==="failed"?t.code:void 0}}processError(t,r){return bc(t)?{type:"canceled",reason:"network request aborted",requestId:r}:(Kr.exception(this.ctx,t,"Error on conversation request"),{type:"failed",reason:"Error on conversation request. Check the log for more details.",requestId:r})}};d();var Uy=class{constructor(t){this.ctx=t}static{o(this,"AbstractClientToolInvoker")}};d();var Zl=class{constructor(t){this.ctx=t}static{o(this,"EditProgressReporter")}},bq=class extends Zl{constructor(){super(...arguments);this.items=[]}static{o(this,"LibTestEditProgressReporter")}reset(){this.items=[]}async reportTurn(r,n){this.items.push({editConversationId:r.editConversationId,editTurnId:r.editTurnId,...n})}};d();d();d();var qy=class extends Error{static{o(this,"CopilotEditsCancelledByUserException")}constructor(){super("Operation cancelled by user"),this.name="CopilotEditsCancelledByUserException"}};d();var Wy=class extends Error{static{o(this,"CopilotEditsProcessCodeBlockException")}constructor(t){super(t),this.name="CopilotEditsProcessCodeBlockException"}};d();d();var vq="filepath:",wl="...existing code...",hx="copilot-edited-file";d();function sh(e){let t=e.matchAll(/^\s*(```+)/gm),r=Math.max(3,...Array.from(t,n=>n[1].length+1));return"`".repeat(r)}o(sh,"getFenceForCodeBlock");var xse=class{constructor(t){this.props=t}static{o(this,"CodeBlockChangeDescription")}render(){if(this.props.markdownBeforeBlock)return["This is the description of what the code block changes:","<changeDescription>",this.props.markdownBeforeBlock,"","</changeDescription>",""].join(`
`)}},Iq=class{constructor(t){this.props=t}static{o(this,"CodeMapperPrompt")}async render(){let t=await this.props.textDocumentProvider.getByUri(this.props.uri.toString());return[{role:"system",content:this.buildSystemMessage(t)},{role:"user",content:await this.buildUserMessage(t)}]}transformToSpeculationPrompt(t,r,n){return t.reduce((s,a)=>{if(a.role==="system"){let l=en(a.content).endsWith(`
`)?en(a.content):`${en(a.content)}
`;return`${s}<SYSTEM>
${l}
End your response with </${hx}>.
</SYSTEM>


`}return s+en(a.content)},"")+`


The resulting document:
<${hx}>
${n}${r}
`}buildSystemMessage(t){if(t.status!=="valid")return"";let r=[];return r.push("You are an AI programming assistant that is specialized in applying code changes to an existing document.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal.",`The user has a code block that represents a suggestion for a code change and a ${t.document.detectedLanguageId} file opened in a code editor.`,"Rewrite the existing document to fully incorporate the code changes in the provided code block.","For the response, always follow these instructions:","1. Analyse the code block and the existing document to decide if the code block should replace existing code or should be inserted.","2. If necessary, break up the code block into multiple parts and insert each part at the appropriate location.","3. Preserve whitespace and newlines right after the parts of the file that you modify.",`4. The final result must be syntactically valid, properly formatted, and correctly indented. It should not contain any \`${wl}\` comments.`,"5. Finally, provide the fully rewritten file. You must output the complete file."),r.join(`
`)}async buildUserMessage(t){let r=[];if(t.status!=="valid")return"";if(t.document.getText().length>0){let a=sh(t.document.getText());r.push(`I have the following code open in the editor, starting from line 1 to line ${t.document.lineCount}.`,`${a}${t.document.detectedLanguageId}`,t.document.getText(),`${a}`)}else r.push("I am in an empty editor.");let i=new xse({markdownBeforeBlock:this.props.markdownBeforeBlock}).render();i&&r.push(i);let s=sh(this.props.codeBlock);return r.push("This is the code block that represents the suggested code change:",`${s}${t.document.detectedLanguageId}`,this.props.codeBlock,`${s}`,"<userPrompt>","Provide the fully rewritten file, incorporating the suggested code change. You must produce the complete file.","</userPrompt>"),r.join(`
`)}};d();var Gy=class{constructor(t){this.ctx=t}static{o(this,"DefaultTextDocumentProvider")}async getByUri(t){return await this.ctx.get(dn).getOrReadTextDocument({uri:t})}};var $8=class{static{o(this,"CodeMapper")}constructor(t){this.ctx=t,this.logger=new Ar("CopilotEditsCodeMapper")}async mapCode(t,r,n){if(!t.resource)throw new Wy("No uri found in code block");if(r.isCancellationRequested)throw new qy;if(!t.code.includes(wl))return n&&await this.reportCodeBlock(t,n),t.code;let i=await this.ctx.get(dn).getOrReadTextDocument({uri:t.resource});if(i.status==="notfound")return n&&await this.reportCodeBlock(t,n),t.code;if(i.status==="invalid"){let A=`Failed to find file ${t.resource} with status ${i.status} and reason ${i.reason}`,x=new Wy(A);throw this.logger.error(this.ctx,A,x),x}let s=new Iq({documentContext:{document:i},codeBlock:t.code,uri:t.resource,markdownBeforeBlock:t.markdownBeforeBlock,textDocumentProvider:new Gy(this.ctx)}),a=await s.render(),l=i.document.detectedLanguageId,c=sh(t.code),u=i.document.getText();if(u.length>0){let A=sh(u);A.length>c.length&&(c=A)}let f=s.transformToSpeculationPrompt(a,l,c);n&&await n({fileGenerationStatus:"edit-plan-generated",uri:t.resource,basename:_o(t.resource),editDescription:t.markdownBeforeBlock});let m=await this.ctx.get(m4).fetchSpeculation({prompt:f,speculation:i.document.getText(),languageId:l,stops:[`\`\`\`
</${hx}>`,`\`\`\`\r
</${hx}>`,`</${hx}>`]},r),h=[];for await(let A of m.choices)h.push(A.completionText);let p=h.find(A=>A.length>0);if(p)return n&&await n({fileGenerationStatus:"updated-code-generated",uri:t.resource,basename:_o(t.resource),partialText:p,languageId:l,markdownCodeFence:sh(p)}),p;{let A=`No valid completion found for uri ${t.resource}`;throw new Wy(A)}}async reportCodeBlock(t,r){await r({fileGenerationStatus:"edit-plan-generated",uri:t.resource,basename:_o(t.resource),editDescription:t.markdownBeforeBlock}),await r({fileGenerationStatus:"updated-code-generated",partialText:t.code,uri:t.resource,basename:_o(t.resource)})}};d();var sc=class extends Error{constructor(r){super(r.message);this.editConversationError=r;this.name="EditConversationException"}static{o(this,"EditConversationException")}};d();d();var z8=class{static{o(this,"CapiErrorTranslator")}static translateErrorMessage(t,r){switch(t){case 466:return"Oops, your plugin is out of date. Please update it.";case 401:return"Oops, you are not authorized. Please sign in.";case 402:return r||"Oops, you need to upgrade your plan.";case 413:return"Oops, your request is too large. Please try again with a smaller input.";case 429:return"Oops, you reached the rate limit. Please try again later.";default:return"Sorry, an error occurred while generating a response."}}};d();d();var Tq=class extends Error{static{o(this,"EditTurnNotFoundException")}constructor(t){super(t),this.name="EditTurnNotFoundException"}};var Hy=class{constructor(t,r){this.request=t;this.id=Tr();this.timestamp=Date.now();this.status="in-progress";this.workingSet=[];r&&r.length>0&&(this.workingSet=r)}static{o(this,"EditTurn")}},Ese=class{constructor(t=[]){this.turns=[];this.turns=t}static{o(this,"EditTurnManager")}addTurn(t){this.turns.push(t)}deleteTurn(t){this.turns=this.turns.filter(r=>r.id!==t)}getLastTurn(){if(this.turns.length!==0)return this.turns[this.turns.length-1]}hasTurn(t){return this.turns.some(r=>r.id===t)}getTurns(){return[...this.turns]}},wq=class{constructor(t=[],r="panel",n="en"){this._id=Tr();this._timestamp=Date.now();this.source="panel";this.userLanguage="en";this.source=r,this.userLanguage=n,this.turnsManager=new Ese(t)}static{o(this,"EditConversation")}get id(){return this._id}get timestamp(){return this._timestamp}getUserLanguage(){return this.userLanguage}getTurns(){return this.turnsManager.getTurns()}getSource(){return this.source}addTurn(t){this.turnsManager.addTurn(t)}deleteTurn(t){this.turnsManager.deleteTurn(t)}getLastTurn(){let t=this.turnsManager.getLastTurn();if(t===void 0)throw new Tq(`No turns in the conversation ${this._id}`);return t}hasTurn(t){return this.turnsManager.hasTurn(t)}};var Sq=class{static{o(this,"EditCodeResultProcessor")}static processResult(t,r){switch(r.type){case"success":return r.value;case"offTopic":{t.currentTurn.status="off-topic";let n="Sorry, but I can only assist with programming related questions.";throw t.currentTurn.response={message:n,type:"offtopic-detection"},new sc({message:n,responseIsFiltered:!0})}case"canceled":throw t.currentTurn.status="cancelled",t.currentTurn.response={message:h5,type:"user"},new sc({message:h5});case"failed":throw t.currentTurn.status="error",t.currentTurn.response={message:r.reason,type:"server"},new sc({message:z8.translateErrorMessage(r.code,r.reason),code:r.code});case"filtered":throw t.currentTurn.status="filtered",new sc({message:"Oops, your response got filtered.",responseIsFiltered:!0});case"length":throw t.currentTurn.status="error",new sc({message:"Oops, the response got too long. Try to reformulate your question.",responseIsIncomplete:!0});case"agentAuthRequired":throw t.currentTurn.status="error",t.currentTurn.response={message:"Authorization required",type:"server"},new sc({message:"Authorization required",responseIsFiltered:!1});case"no_choices":throw t.currentTurn.status="error",t.currentTurn.response={message:"No choices returned",type:"server"},new sc({message:"Oops, no choices received from the server. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0});case"no_finish_reason":throw t.currentTurn.status="error",t.currentTurn.response={message:"No finish reason",type:"server"},new sc({message:"Oops, unexpected end of stream. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0});case"model_not_supported":throw t.currentTurn.status="error",t.currentTurn.response={message:"Model not supported",type:"server"},new sc({message:"Oops, the model is not supported. Please try again.",code:400,reason:"model_not_supported",responseIsFiltered:!1});case"successMultiple":case"tool_calls":case"unknown":throw t.currentTurn.status="error",new sc({message:"Unknown server side error occurred. Please try again.",responseIsFiltered:!1})}}};d();async function*oDe(e){yield e}o(oDe,"stringToAsyncIterable");d();d();var lA=class{static{o(this,"CopilotEditsPromptUriUtils")}static pathToUri(t,r){let n=t.mapToUriInWorkingSet(r);return n||Gl(r)}static uriToPath(t){let r=Ws(t);if(r)return r;throw new Error(`Unsupported URI scheme: ${t.split(":")[0]}`)}static posixFilePathToUri(t){return process.platform==="win32"?`file:///c:${t}`:`file://${t}`}};var _q=class{constructor(t){this.props=t;this.exampleFilePath=this.getExampleFilePath("/path/to/file"),this.tsExampleFilePath=this.getExampleFilePath("/Users/someone/proj01/example.ts")}static{o(this,"EditCodePrompt")}async render(){let t=await this.getValidFilesInWorkingSet(),r=[{role:"system",content:this.buildSystemMessage(t)}];if(this.props.history&&this.props.history.length>0)for(let n of this.props.history)r.push({role:"user",content:n.request.message}),n.response&&n.response.type==="model"&&r.push({role:"assistant",content:n.response.message});return r.push({role:"user",content:this.buildUserMessage(t)}),r}getExampleFilePath(t){return this.getFilePath(lA.posixFilePathToUri(t))}getFilePath(t){return lA.uriToPath(t)}async getValidFilesInWorkingSet(){let t=new Map;if(this.props.workingSet===void 0||this.props.workingSet===null||this.props.workingSet.length===0)return t;for(let r of this.props.workingSet){let n=await this.props.textDocumentProvider.getByUri(r.uri);n.status==="valid"&&t.set(r.uri,n.document)}return t}buildSystemMessage(t){let r=[];return r.push("You are an AI programming assistant.",'When asked for your name, you must respond with "GitHub Copilot".',"Follow the user's requirements carefully & to the letter.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal.",t.size>0?"The user has a request for modifying one or more files.":["If the user asks a question, then answer it.",`If you need to change existing files and it's not clear which files should be changed, then refuse and answer with "Please add the files to be modified to the working set"`].join(`
`),"1. Please come up with a solution that you first describe step-by-step.","2. Group your changes by file. Use the file path as the header.","3. For each file, give a short summary of what needs to be changed followed by a code block that contains the code changes.","4. Each file's code block must start with a comment containing the filepath.","5. Use a single code block per file that needs to be modified, even if there are multiple changes for a file.","6. The user is very smart and can understand how to merge your code blocks into their files, you just need to provide minimal hints.","7. Avoid repeating existing code, instead use comments to represent regions of unchanged code. The user prefers that you are as concise as possible. For example: ",["<file>","````languageId",`// ${vq} ${this.exampleFilePath}`,`// ${wl}`,"{ changed code }",`// ${wl}`,"{ changed code }",`// ${wl}`,"````","</file>"].join(`
`),"8. If you generate edits for a Markdown file, use four backticks for the outer code block.",""),this.props.userLanguage&&r.push(`Respond in the following locale: ${this.props.userLanguage}`),this.props.modelName&&r.push(`You use the ${this.props.modelName} large language model.`),r.push("Here is an example of how you should format a code block belonging to the file example.ts in your response:","<example>",[`### ${this.tsExampleFilePath}`,"","Add a new property 'age' and a new method 'getAge' to the class Person.","","<file>","```typescript",`// ${vq} ${this.tsExampleFilePath}`,"class Person {",`   // ${wl}`,"   age: number;",`   // ${wl}`,"   getAge() {","      return this.age;","   }","}","```","</file>"].join(`
`),"</example>"),r.join(`
`)}buildUserMessage(t){let r=[];if(t.size>0){r.push("The user has provided the following files as input. Always make changes to these files unless the user asks to create a new file.","Untitled files are files that are not yet named. Make changes to them like regular files.");for(let[n,i]of t){let s=this.getFilePath(n),a=i.getText(),l=sh(a);r.push("<file>",`${l}${i.detectedLanguageId}`,`// ${vq} ${s}`,`${a}`,`${l}`,"</file>")}}return r.push("<reminder>",`Avoid repeating existing code, instead use a line comment with \`${wl}\` to represent regions of unchanged code.`,"Each file's code block must start with a line comment containing the filepath. This includes Markdown files.","For existing files, make sure the filepath exactly matches the filepath of the original file."),this.props.workspaceFolder&&r.push(`When suggesting to create new files, pick a location inside \`${this.getFilePath(this.props.workspaceFolder)}\``),r.push("</reminder>"),r.push("<prompt>",`${this.props.userMessage}`,"</prompt>"),r.join(`
`)}};d();d();var kq=class{constructor(t){this._source=t;this._buffer="";this._atEnd=!1}static{o(this,"PartialAsyncTextReader")}get endOfStream(){return this._buffer.length===0&&this._atEnd}async extendBuffer(){if(this._atEnd)return;let{value:t,done:r}=await this._source.next();r?this._atEnd=!0:this._buffer+=t}async waitForLength(t){for(;this._buffer.length<t&&!this._atEnd;)await this.extendBuffer()}async peek(t){return await this.waitForLength(t),this._buffer.substring(0,t)}async read(t){await this.waitForLength(t);let r=this._buffer.substring(0,t);return this._buffer=this._buffer.substring(t),r}async readUntil(t){let r="";for(;!this.endOfStream;){let n=this.readImmediateExcept(t);if(r+=n,await this.peek(1)===t)break}return r}async readLineIncludingLF(){let t=await this.readUntil(`
`);return t+=await this.read(1),t}async readLine(){let t=await this.readUntil(`
`);return await this.read(1),t}readImmediateExcept(t){let r=this._buffer.indexOf(t);return this.readImmediate(r===-1?this._buffer.length:r)}readImmediate(t){let r=this._buffer.substring(0,t);return this._buffer=this._buffer.substring(t),r}};var bse="<file>",a_="```",c_="###",cvt=/^(`+)([^ \n]*)/,l_="filepath:";async function*aDe(e,t){let r=new kq(e[Symbol.asyncIterator]()),n=[];for(;!r.endOfStream;){for(;!r.endOfStream;){let x=await r.peek(Math.max(a_.length,bse.length,c_.length));if(x.startsWith(bse)||x.startsWith(a_))break;if(x.startsWith(c_)){let E=await r.readLineIncludingLF(),v=E.substring(c_.length).trim();await t(v)?n.length=0:n.push(E)}else await sDe(r,n)}if(r.endOfStream)break;let i=await r.readLineIncludingLF(),s=i.startsWith(bse);for(;!r.endOfStream&&!i.startsWith(a_);)i=await r.readLineIncludingLF();if(r.endOfStream)break;let a=i.match(cvt),l=a?a[2]:void 0,c=Sye(l?Iye(l):void 0),u=[`${c.lineComment.start} ${l_}`,`:: ${l_}`,`<!-- ${l_}`,`// ${l_}`,`# ${l_}`],f=Math.max(...u.map(x=>x.length)),m=c.lineComment.end??"",h="</file>",p,A=[];for(;!r.endOfStream;){let x=await r.peek(Math.max(a_.length,f));if(x.startsWith(a_)){let E=await r.readLineIncludingLF();if(!s)break;if(await r.peek(h.length)===h){await r.readLineIncludingLF();break}else{A.push(E);continue}}if(!p&&u.some(E=>x.startsWith(E))){let E=await r.readLineIncludingLF(),v=u.reduce((b,S)=>x.startsWith(S)?E.substring(S.length):b,E);v=v.split("-->")[0].trim(),v.endsWith(m)&&(v=v.substring(0,v.length-m.length)),v=v.trim(),p=await t(v);continue}await sDe(r,A)}yield{resource:p,language:l,code:A.join(""),markdownBeforeBlock:n.join("")},n.length=0}}o(aDe,"getCodeBlocksFromResponse");async function sDe(e,t){for(;!e.endOfStream;){let r=e.readImmediateExcept(`
`);if(r.length>0&&t?.push(r),await e.peek(1)===`
`){e.readImmediate(1),t?.push(`
`);break}}}o(sDe,"pipeOneLine");function lDe(e){if(e.startsWith(`${c_} `))return"";let t=e.indexOf(`
${c_} `);return t===-1?"":e.substring(0,t)+`
`}o(lDe,"parseOverallDescription");d();d();var Bq=class extends Error{static{o(this,"EditConversationNotFoundException")}constructor(t){super(t),this.name="EditConversationNotFoundException"}};var uvt=new Ar("CopilotEditsConversations"),Ua=class{constructor(t){this.editConversations=new xn(50);this.ctx=t}static{o(this,"EditConversations")}create(t="panel",r){let n=new wq([],t,r);return this.editConversations.set(n.id,n),n}destroy(t){this.editConversations.delete(t)!==!0&&uvt.warn(this.ctx,`Edit code conversation ${t} does not exist`)}addTurn(t,r){return this.get(t).addTurn(r),r}deleteTurn(t,r){this.get(t).deleteTurn(r)}get(t){return this.getEditConversation(t)}getEditConversation(t){let r=this.editConversations.get(t);if(!r)throw new Bq(`Conversation with id ${t} does not exist`);return r}getAll(){return Array.from(this.editConversations.values())}findByTurnId(t){let r=this.getAll();for(let n of r)if(n.hasTurn(t))return n}};d();d();var ti=class{static{o(this,"ModelConfigurationProvider")}},Dq=class extends ti{constructor(r){super();this.ctx=r}static{o(this,"DefaultModelConfigurationProvider")}async getBestChatModelConfig(r,n){let i=[];for(let s of r){let a=await this.getFirstMatchingChatModelConfiguration(s,n);a&&i.push(a)}if(i.length>0){let s=i.find(a=>a.isExperimental);return s||i[0]}throw Kr.error(this.ctx,`No model configuration found for families: ${r.join(", ")}. Available models: ${JSON.stringify(await this.ctx.get(Fu).getMetadata())}`),new Error("No model configuration found")}async getFirstMatchingModelMetadata(r){let n=await this.ctx.get(Fu).getMetadata(),i=fvt(n,r);if(i.length>0)return i[0]}async getFirstMatchingChatModelConfiguration(r,n){let i=await this.getFirstMatchingModelMetadata({family:r,type:"chat",supports:n});if(i!==void 0)return r===Qi.Gpt35turbo||r===Qi.Gpt4oMini?{modelId:i.id,uiName:i.name,modelFamily:r,maxRequestTokens:vse(6144,i),maxResponseTokens:Rq(2048,i),baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:i.capabilities.tokenizer,isExperimental:i.isExperimental??!1,stream:i.capabilities.supports?.streaming??!1,toolCalls:i.capabilities.supports?.tool_calls??!1}:r===Qi.Gpt4||r===Qi.Gpt4turbo?{modelId:i.id,uiName:i.name,modelFamily:r,maxRequestTokens:vse(10240,i),maxResponseTokens:Rq(4096,i),baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:i.capabilities.tokenizer,isExperimental:i.isExperimental??!1,stream:i.capabilities.supports?.streaming??!1,toolCalls:i.capabilities.supports?.tool_calls??!1}:r.includes("claude")?{modelId:i.id,uiName:i.name,modelFamily:r,maxRequestTokens:await cDe(this.ctx,i),maxResponseTokens:Rq(8192,i),baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:i.capabilities.tokenizer,isExperimental:i.isExperimental??!1,stream:i.capabilities.supports?.streaming??!1,toolCalls:i.capabilities.supports?.tool_calls??!1}:{modelId:i.id,uiName:i.name,modelFamily:r,maxRequestTokens:await cDe(this.ctx,i),maxResponseTokens:Rq(4096,i),baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:i.capabilities.tokenizer,isExperimental:i.isExperimental??!1,stream:i.capabilities.supports?.streaming??!1,toolCalls:i.capabilities.supports?.tool_calls??!1}}async getFirstMatchingEmbeddingModelConfiguration(r){let n=await this.getFirstMatchingModelMetadata({family:r,type:"embeddings"});if(n!==void 0)switch(r){case VP.textEmbedding3Small:return{modelId:n.id,modelFamily:r,maxBatchSize:n.capabilities.limits?.max_inputs??16,maxTokens:8191,tokenizer:"cl100k_base"}}}};async function cDe(e,t){let r=e.get(ar),n=await r.updateExPValuesAndAssignments(),i=r.ideChatMaxRequestTokens(n);return i===-1&&(i=16384),vse(i,t)}o(cDe,"getExpRequestTokens");function vse(e,t){return t.capabilities.limits?.max_prompt_tokens?Math.min(e,t.capabilities.limits.max_prompt_tokens):e}o(vse,"getRequestTokens");function Rq(e,t){return t.capabilities.limits?.max_output_tokens?Math.min(e,t.capabilities.limits.max_output_tokens):e}o(Rq,"getResponseTokens");function fvt(e,t){return e.filter(r=>r.capabilities.type!==t.type||r.capabilities.family!==t.family?!1:r.capabilities.supports===void 0||t.supports===void 0?!0:Object.keys(t.supports).every(n=>t.supports?.[n]===r.capabilities.supports?.[n]))}o(fvt,"filterModelsByCapabilities");var ah=class{static{o(this,"ModelPickerUtils")}static async getModelConfiguration(t,r,n){return t.get(ti).getBestChatModelConfig(n?[n]:Xo(r))}static transformMessages(t,r){return r===Qi.O1Ga||r===Qi.O1Mini?t.map(n=>n.role!=="user"?{role:"user",content:n.content}:n):t}};var cA=class{constructor(t,r){this.chatFetcher=r;this.ctx=t,this.chatFetcher=this.chatFetcher??new ga(t)}static{o(this,"CopilotEditsService")}async createOrContinueEditConversation(t,r){try{await this.reportBegin(t);let n=await this.getEditCodeResult(t,r),i=Sq.processResult(t,n);await this.parseAndSendProgressBack(t,i,r),t.currentTurn.response={message:i,type:"model"},t.currentTurn.status="success",await this.reportEnd(t)}catch(n){if(n instanceof qy)await this.reportEnd(t,{message:h5});else if(n instanceof sc)await this.reportEnd(t,n.editConversationError);else{let i=n instanceof Error?n.message:String(n);t.currentTurn.status="error",t.currentTurn.response={message:i,type:"meta"},await this.reportEnd(t,{message:i})}}return[]}async getEditCodeResult(t,r){await this.abortIfCancelled(t,r);let n=await this.buildEditCodePromptMessages(t),i=await this.ctx.get(ar).updateExPValuesAndAssignments();await this.abortIfCancelled(t,r);let s=await ah.getModelConfiguration(this.ctx,"edits",t.userSelectedModel),a=ah.transformMessages(n,s.modelFamily);return await this.abortIfCancelled(t,r),await this.chatFetcher.fetchResponse({modelConfiguration:s,messages:a,uiKind:"editsPanel",intentParams:{intent:!0},temperature:.1,llmInteraction:t.toLlmInteraction()},r,i)}async buildEditCodePromptMessages(t){let r=t.currentTurn,n=await ah.getModelConfiguration(this.ctx,"edits",t.userSelectedModel),i=t.editConversation.getTurns(),s=i.length>1?i.slice(0,-1):[];return await new _q({userMessage:r.request.message,workspaceFolder:r.workspaceFolder,workingSet:r.workingSet,userLanguage:t.editConversation.getUserLanguage(),textDocumentProvider:new Gy(this.ctx),modelName:n.uiName,history:s}).render()}async abortIfCancelled(t,r){if(r.isCancellationRequested)throw t.currentTurn.status="cancelled",t.currentTurn.response={message:h5,type:"user"},new qy;this.ctx.get(Ua).get(t.editConversationId)}async parseAndSendProgressBack(t,r,n){try{let i=oDe(r),s=new $8(this.ctx),a=o(async u=>lA.pathToUri(t,u),"createUri"),l=[],c=lDe(r);c&&await this.ctx.get(Zl).reportTurn(t,{fileGenerationStatus:"overall-description-generated",editDescription:c}),await this.abortIfCancelled(t,n);for await(let u of aDe(i,a))l.push(s.mapCode(u,n,async f=>{await this.ctx.get(Zl).reportTurn(t,f)}));await Promise.all(l),l.length===0&&await this.reportNoCodeBlocks(t,r)}catch(i){if(i instanceof Wy||i instanceof Hv)t.currentTurn.status="error",t.currentTurn.response={message:i.message,type:"meta"},await this.reportEnd(t,{message:i.message});else if(i instanceof qy)t.currentTurn.status="cancelled",t.currentTurn.response={message:h5,type:"user"},await this.reportEnd(t,{message:h5});else throw i}}async reportNoCodeBlocks(t,r){await this.ctx.get(Zl).reportTurn(t,{fileGenerationStatus:"no-code-blocks-found",rawResponse:r})}async reportBegin(t){await this.ctx.get(Zl).reportTurn(t,{fileGenerationStatus:"edit-conversation-begin"})}async reportEnd(t,r){await this.ctx.get(Zl).reportTurn(t,{fileGenerationStatus:"edit-conversation-end",error:r})}};d();var fDe="github.com",uDe=`https://${fDe}`,Y8=class extends Dn{constructor(r,n=uDe,i=process.env){super();this.env=i;this.validateBaseUrl(r,n)&&this.recalculateUrlDefaults(n),za(r,s=>this.onCopilotToken(r,s))}static{o(this,"DefaultNetworkConfiguration")}onCopilotToken(r,n){this.updateServiceEndpoints(r,n.envelope.endpoints)}getLastKnownEndpointUrl(r,n){return this.join((this.lastEndpoints??RP)[r],n)}isGitHubEnterprise(){return this.isEnterprise}getAuthAuthority(){return this.baseUrlObject.host}getAPIUrl(r){return this.join(this.apiUrl,r)}getTokenUrl(r){return r.devOverride?.copilotTokenUrl??this.tokenUrl}getNotificationUrl(r){return r.devOverride?.notificationUrl??this.notificationUrl}getContentRestrictionsUrl(r){return r.devOverride?.contentRestrictionsUrl??this.contentRestrictionsUrl}getBlackbirdIndexingStatusUrl(){return this.blackbirdIndexingStatusUrl}getLoginReachabilityUrl(){return this.loginReachabilityUrl}getDeviceFlowStartUrl(){return this.deviceFlowStartUrl}getDeviceFlowCompletionUrl(){return this.deviceFlowCompletionUrl}getSignUpLimitedUrl(){return this.signUpLimitedUrl}getUserInfoUrl(){return this.userInfoUrl}getTelemetryUrl(r){return this.join(this.telemetryUrl,r)}setTelemetryUrlForTesting(r){this.telemetryUrl=r}getExperimentationUrl(r){return this.join(this.experimentationUrl,r)}validateBaseUrl(r,n){return this.isPermittedUrl(r,n)?!0:(r.get(ml).showWarningMessage(`Ignoring invalid or unsupported authentication URL "${n}".`),!1)}updateBaseUrl(r,n){n||=uDe;let i=this.baseUrlObject;this.validateBaseUrl(r,n)&&this.withTelemetryReInitialization(r,()=>{this.recalculateUrlDefaults(n),i.href!==this.baseUrlObject.href&&r.get(qr).resetToken()})}updateBaseUrlFromTokenEndpoint(r,n){try{let i=new URL(n);i.hostname.startsWith("api.")?this.updateBaseUrl(r,`https://${i.hostname.substring(4)}`):this.updateBaseUrl(r)}catch{this.updateBaseUrl(r)}}updateServiceEndpoints(r,n){this.lastEndpoints=n,n&&this.isPermittedUrl(r,n.telemetry)&&this.withTelemetryReInitialization(r,()=>{this.telemetryUrl=this.join(n.telemetry,"telemetry"),this.experimentationUrl=this.join(n.telemetry,"telemetry")})}withTelemetryReInitialization(r,n){let i=this.telemetryUrl;if(n(),i===this.telemetryUrl)return;let s=r.get(Pu);s.isInitialized&&s.reInitialize(r)}recalculateUrlDefaults(r){let n=this.parseUrls(r);this.baseUrlObject=n.base;let i=n.api;this.isEnterprise=this.baseUrlObject.host!==fDe,this.apiUrl=i.href,this.tokenUrl=this.join(i.href,"/copilot_internal/v2/token"),this.notificationUrl=this.join(i.href,"/copilot_internal/notification"),this.contentRestrictionsUrl=this.join(i.href,"/copilot_internal/content_exclusion"),this.blackbirdIndexingStatusUrl=this.join(i.href,"/copilot_internal/check_indexing_status"),this.loginReachabilityUrl=this.join(this.baseUrlObject.href,"/login/device"),this.deviceFlowStartUrl=this.join(this.baseUrlObject.href,"/login/device/code"),this.deviceFlowCompletionUrl=this.join(this.baseUrlObject.href,"/login/oauth/access_token"),this.userInfoUrl=this.join(i.href,"/user"),this.signUpLimitedUrl=this.join(i.href,"/copilot_internal/subscribe_limited_user"),this.telemetryUrl=this.join(this.isEnterprise?this.prefixWith("copilot-telemetry-service.",this.baseUrlObject).href:RP.telemetry,"/telemetry"),this.experimentationUrl=this.telemetryUrl}parseUrls(r){if(this.env.CODESPACES==="true"&&this.env.GITHUB_TOKEN&&this.env.GITHUB_SERVER_URL&&this.env.GITHUB_API_URL)try{return{base:new URL(this.env.GITHUB_SERVER_URL),api:new URL(this.env.GITHUB_API_URL)}}catch{}let n=new URL(r),i=this.prefixWith("api.",n);return{base:n,api:i}}isPermittedUrl(r,n){return this.isValidUrl(n)&&this.hasSupportedProtocol(r,n)}isValidUrl(r){try{if(r)return new URL(r),!0}catch{}return!1}hasSupportedProtocol(r,n){let i=new URL(n).protocol;return i==="https:"||!DP(r)&&i==="http:"}join(r,n){return n?new URL(n,r).href:r}prefixWith(r,n){return new URL(`${n.protocol}//${r}${n.host}`)}};d();var yKr=new Ar("exp");function dDe(e){let t=e.get(ar);t.registerStaticFilters(hvt(e)),t.registerDynamicFilter("X-Copilot-OverrideEngine",()=>Qn(e,kt.DebugOverrideEngine)||Qn(e,kt.DebugOverrideEngineLegacy)),t.registerDynamicFilter("X-VSCode-ExtensionName",()=>e.get(an).getEditorPluginInfo().name),t.registerDynamicFilter("X-VSCode-ExtensionVersion",()=>Ise(!e.get(co).isProduction()&&e.get(an).getEditorPluginInfo().name==="copilot"?"1.999.0":e.get(an).getEditorPluginInfo().version)),t.registerDynamicFilter("X-VSCode-ExtensionRelease",()=>dvt(e)),t.registerDynamicFilter("X-VSCode-Build",()=>e.get(an).getEditorInfo().name),t.registerDynamicFilter("X-VSCode-AppVersion",()=>Ise(e.get(an).getEditorInfo().version)),t.registerDynamicFilter("X-VSCode-TargetPopulation",()=>mvt(e)),t.registerDynamicFilterGroup(()=>{let r={};for(let n of e.get(an).getRelatedPluginInfo()){let i=Nf+n.name.replace(/[^A-Za-z]/g,"").toLowerCase();if(!Object.values(k7).includes(i)){_P(e,{reason:`A filter could not be registered for the unrecognized related plugin "${n.name}".`});continue}r[i]=Ise(n.version)}return r})}o(dDe,"setupExperimentationService");function dvt(e){let t=e.get(an).getEditorPluginInfo();return t.name==="copilot"&&zf(e)==="nightly"||t.name==="copilot-intellij"&&t.version.endsWith("nightly")?"nightly":"stable"}o(dvt,"getPluginRelease");function mvt(e){let t=e.get(an).getEditorInfo();return t.name==="vscode"&&t.version.endsWith("-insider")?"insider":"public"}o(mvt,"getTargetPopulation");function hvt(e){return pvt(e)}o(hvt,"createAllFilters");function pvt(e){let t=e.get(ms);return{"X-MSEdge-ClientId":t.machineId,"X-Copilot-ClientVersion":N3(e)}}o(pvt,"createDefaultFilters");function Ise(e){return e.split("-")[0]}o(Ise,"trimVersionSuffix");d();d();var K8=class e{static{o(this,"TextEdit")}static isTextEdit(t){return t instanceof e?!0:t?ou.isRange(t)&&typeof t.newText=="string":!1}static replace(t,r){return new e(t,r)}static insert(t,r){return e.replace(new ou(t,t),r)}static delete(t){return e.replace(t,"")}static setEndOfLine(t){let r=new e(new ou(new mo(0,0),new mo(0,0)),"");return r.newEol=t,r}get range(){return this._range}set range(t){if(t&&!ou.isRange(t))throw Vy("range");this._range=t}get newText(){return this._newText||""}set newText(t){if(t&&typeof t!="string")throw Vy("newText");this._newText=t}get newEol(){return this._newEol}set newEol(t){if(t&&typeof t!="number")throw Vy("newEol");this._newEol=t}constructor(t,r){this._range=t,this._newText=r}toJSON(){return{range:this.range,newText:this.newText,newEol:this._newEol}}};var mo=class e{static{o(this,"Position")}static Min(...t){if(t.length===0)throw new TypeError;let r=t[0];for(let n=1;n<t.length;n++){let i=t[n];i.isBefore(r)&&(r=i)}return r}static Max(...t){if(t.length===0)throw new TypeError;let r=t[0];for(let n=1;n<t.length;n++){let i=t[n];i.isAfter(r)&&(r=i)}return r}static isPosition(t){if(!t)return!1;if(t instanceof e)return!0;let{line:r,character:n}=t;return typeof r=="number"&&typeof n=="number"}get line(){return this._line}get character(){return this._character}constructor(t,r){if(t<0)throw Vy("line must be non-negative");if(r<0)throw Vy("character must be non-negative");this._line=t,this._character=r}isBefore(t){return this._line<t._line?!0:t._line<this._line?!1:this._character<t._character}isBeforeOrEqual(t){return this._line<t._line?!0:t._line<this._line?!1:this._character<=t._character}isAfter(t){return!this.isBeforeOrEqual(t)}isAfterOrEqual(t){return!this.isBefore(t)}isEqual(t){return this._line===t._line&&this._character===t._character}compareTo(t){return this._line<t._line?-1:this._line>t.line?1:this._character<t._character?-1:this._character>t._character?1:0}translate(t,r=0){if(t===null||r===null)throw Vy();let n;return typeof t>"u"?n=0:typeof t=="number"?n=t:(n=typeof t.lineDelta=="number"?t.lineDelta:0,r=typeof t.characterDelta=="number"?t.characterDelta:0),n===0&&r===0?this:new e(this.line+n,this.character+r)}with(t,r=this.character){if(t===null||r===null)throw Vy();let n;return typeof t>"u"?n=this.line:typeof t=="number"?n=t:(n=typeof t.line=="number"?t.line:this.line,r=typeof t.character=="number"?t.character:this.character),n===this.line&&r===this.character?this:new e(n,r)}toJSON(){return{line:this.line,character:this.character}}[Symbol.for("debug.description")](){return`(${this.line}:${this.character})`}},ou=class e{static{o(this,"Range")}static isRange(t){return t instanceof e?!0:t?mo.isPosition(t.start)&&mo.isPosition(t.end):!1}get start(){return this._start}get end(){return this._end}constructor(t,r,n,i){let s,a;if(typeof t=="number"&&typeof r=="number"&&typeof n=="number"&&typeof i=="number"?(s=new mo(t,r),a=new mo(n,i)):mo.isPosition(t)&&mo.isPosition(r)&&(s=t,a=r),!s||!a)throw new Error("Invalid arguments");s.isBefore(a)?(this._start=s,this._end=a):(this._start=a,this._end=s)}contains(t){return e.isRange(t)?this.contains(t.start)&&this.contains(t.end):mo.isPosition(t)?!(t.isBefore(this._start)||this._end.isBefore(t)):!1}isEqual(t){return this._start.isEqual(t._start)&&this._end.isEqual(t._end)}intersection(t){let r=mo.Max(t.start,this._start),n=mo.Min(t.end,this._end);if(!r.isAfter(n))return new e(r,n)}union(t){if(this.contains(t))return this;if(t.contains(this))return t;let r=mo.Min(t.start,this._start),n=mo.Max(t.end,this.end);return new e(r,n)}get isEmpty(){return this._start.isEqual(this._end)}get isSingleLine(){return this._start.line===this._end.line}with(t,r=this.end){if(t===null||r===null)throw Vy();let n;return t?mo.isPosition(t)?n=t:(n=t.start||this.start,r=t.end||this.end):n=this.start,n.isEqual(this._start)&&r.isEqual(this.end)?this:new e(n,r)}toJSON(){return[this.start,this.end]}[Symbol.for("debug.description")](){return gvt(this)}};function Vy(e){return e?new Error(`Illegal argument: ${e}`):new Error("Illegal argument")}o(Vy,"illegalArgument");function gvt(e){return e.isEmpty?`[${e.start.line}:${e.start.character})`:`[${e.start.line}:${e.start.character} -> ${e.end.line}:${e.end.character})`}o(gvt,"getDebugDescriptionOfRange");d();d();var Tse=tt(require("crypto"));var u_=Tse.randomUUID.bind(Tse);d();d();d();var lh;(i=>{i.serviceIds=new Map,i.DI_TARGET="$di$target",i.DI_DEPENDENCIES="$di$dependencies";function n(s){return s[i.DI_DEPENDENCIES]||[]}i.getServiceDependencies=n,o(n,"getServiceDependencies")})(lh||={});var sg=ch("instantiationService");function Avt(e,t,r){t[lh.DI_TARGET]===t?t[lh.DI_DEPENDENCIES].push({id:e,index:r}):(t[lh.DI_DEPENDENCIES]=[{id:e,index:r}],t[lh.DI_TARGET]=t)}o(Avt,"storeServiceDependency");function ch(e){if(lh.serviceIds.has(e))return lh.serviceIds.get(e);let t=o(function(r,n,i){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");Avt(t,r,i)},"id");return t.toString=()=>e,lh.serviceIds.set(e,t),t}o(ch,"createDecorator");d();d();var uf=class{static{o(this,"SyncDescriptor")}constructor(t,r=[],n=!1){this.ctor=t,this.staticArguments=r,this.supportsDelayedInstantiation=n}};d();var wse=class{constructor(t,r){this.key=t;this.data=r;this.incoming=new Map;this.outgoing=new Map}static{o(this,"Node")}},f_=class{constructor(t){this._hashFn=t;this._nodes=new Map}static{o(this,"Graph")}roots(){let t=[];for(let r of this._nodes.values())r.outgoing.size===0&&t.push(r);return t}insertEdge(t,r){let n=this.lookupOrInsertNode(t),i=this.lookupOrInsertNode(r);n.outgoing.set(i.key,i),i.incoming.set(n.key,n)}removeNode(t){let r=this._hashFn(t);this._nodes.delete(r);for(let n of this._nodes.values())n.outgoing.delete(r),n.incoming.delete(r)}lookupOrInsertNode(t){let r=this._hashFn(t),n=this._nodes.get(r);return n||(n=new wse(r,t),this._nodes.set(r,n)),n}lookup(t){return this._nodes.get(this._hashFn(t))}isEmpty(){return this._nodes.size===0}toString(){let t=[];for(let[r,n]of this._nodes)t.push(`${r}
	(-> incoming)[${[...n.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...n.outgoing.keys()].join(",")}]
`);return t.join(`
`)}findCycleSlow(){for(let[t,r]of this._nodes){let n=new Set([t]),i=this._findCycle(r,n);if(i)return i}}_findCycle(t,r){for(let[n,i]of t.outgoing){if(r.has(n))return[...r,n].join(" -> ");r.add(n);let s=this._findCycle(i,r);if(s)return s;r.delete(n)}}};d();var px=class{constructor(...t){this._entries=new Map;for(let[r,n]of t)this.set(r,n)}static{o(this,"ServiceCollection")}set(t,r){let n=this._entries.get(t);return this._entries.set(t,r),n}has(t){return this._entries.has(t)}get(t){return this._entries.get(t)}};var yvt=!1,Pq=class extends Error{static{o(this,"CyclicDependencyError")}constructor(t){super("cyclic dependency between services"),this.message=t.findCycleSlow()??`UNABLE to detect cycle, dumping graph: 
${t.toString()}`}},Fq=class e{constructor(t=new px,r=!1,n,i=yvt){this._services=t;this._strict=r;this._parent=n;this._enableTracing=i;this._isDisposed=!1;this._servicesToMaybeDispose=new Set;this._children=new Set;this._activeInstantiations=new Set;this._services.set(sg,this),this._globalGraph=i?n?._globalGraph??new f_(s=>s):void 0}static{o(this,"InstantiationService")}dispose(){if(!this._isDisposed){this._isDisposed=!0,qQ(this._children),this._children.clear();for(let t of this._servicesToMaybeDispose)Eve(t)&&t.dispose();this._servicesToMaybeDispose.clear()}}_throwIfDisposed(){if(this._isDisposed)throw new Error("InstantiationService has been disposed")}createChild(t,r){this._throwIfDisposed();let n=this,i=new class extends e{dispose(){n._children.delete(i),super.dispose()}}(t,this._strict,this,this._enableTracing);return this._children.add(i),r?.add(i),i}invokeFunction(t,...r){this._throwIfDisposed();let n=d_.traceInvocation(this._enableTracing,t),i=!1;try{return t({get:o(a=>{if(i)throw sve("service accessor is only valid during the invocation of its target method");let l=this._getOrCreateServiceInstance(a,n);if(!l)throw new Error(`[invokeFunction] unknown service '${a}'`);return l},"get")},...r)}finally{i=!0,n.stop()}}createInstance(t,...r){this._throwIfDisposed();let n,i;return t instanceof uf?(n=d_.traceCreation(this._enableTracing,t.ctor),i=this._createInstance(t.ctor,t.staticArguments.concat(r),n)):(n=d_.traceCreation(this._enableTracing,t),i=this._createInstance(t,r,n)),n.stop(),i}_createInstance(t,r=[],n){let i=lh.getServiceDependencies(t).sort((l,c)=>l.index-c.index),s=[];for(let l of i){let c=this._getOrCreateServiceInstance(l.id,n);c||this._throwIfStrict(`[createInstance] ${t.name} depends on UNKNOWN service ${l.id}.`,!1),s.push(c)}let a=i.length>0?i[0].index:r.length;if(r.length!==a){console.trace(`[createInstance] First service dependency of ${t.name} at position ${a+1} conflicts with ${r.length} static arguments`);let l=a-r.length;l>0?r=r.concat(new Array(l)):r=r.slice(0,a)}return Reflect.construct(t,r.concat(s))}_setCreatedServiceInstance(t,r){if(this._services.get(t)instanceof uf)this._services.set(t,r);else if(this._parent)this._parent._setCreatedServiceInstance(t,r);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(t){let r=this._services.get(t);return!r&&this._parent?this._parent._getServiceInstanceOrDescriptor(t):r}_getOrCreateServiceInstance(t,r){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(t));let n=this._getServiceInstanceOrDescriptor(t);return n instanceof uf?this._safeCreateAndCacheServiceInstance(t,n,r.branch(t,!0)):(r.branch(t,!1),n)}_safeCreateAndCacheServiceInstance(t,r,n){if(this._activeInstantiations.has(t))throw new Error(`illegal state - RECURSIVELY instantiating service '${t}'`);this._activeInstantiations.add(t);try{return this._createAndCacheServiceInstance(t,r,n)}finally{this._activeInstantiations.delete(t)}}_createAndCacheServiceInstance(t,r,n){let i=new f_(c=>c.id.toString()),s=0,a=[{id:t,desc:r,_trace:n}],l=new Set;for(;a.length;){let c=a.pop();if(!l.has(String(c.id))){if(l.add(String(c.id)),i.lookupOrInsertNode(c),s++>1e3)throw new Pq(i);for(let u of lh.getServiceDependencies(c.desc.ctor)){let f=this._getServiceInstanceOrDescriptor(u.id);if(f||this._throwIfStrict(`[createInstance] ${t} depends on ${u.id} which is NOT registered.`,!0),this._globalGraph?.insertEdge(String(c.id),String(u.id)),f instanceof uf){let m={id:u.id,desc:f,_trace:c._trace.branch(u.id,!0)};i.insertEdge(c,m),a.push(m)}}}}for(;;){let c=i.roots();if(c.length===0){if(!i.isEmpty())throw new Pq(i);break}for(let{data:u}of c){if(this._getServiceInstanceOrDescriptor(u.id)instanceof uf){let m=this._createServiceInstanceWithOwner(u.id,u.desc.ctor,u.desc.staticArguments,u.desc.supportsDelayedInstantiation,u._trace);this._setCreatedServiceInstance(u.id,m)}i.removeNode(u)}}return this._getServiceInstanceOrDescriptor(t)}_createServiceInstanceWithOwner(t,r,n=[],i,s){if(this._services.get(t)instanceof uf)return this._createServiceInstance(t,r,n,i,s,this._servicesToMaybeDispose);if(this._parent)return this._parent._createServiceInstanceWithOwner(t,r,n,i,s);throw new Error(`illegalState - creating UNKNOWN service instance ${r.name}`)}_createServiceInstance(t,r,n=[],i,s,a){if(i)throw new Error("Delayed instantiation not supported");{let l=this._createInstance(r,n,s);return a.add(l),l}}_throwIfStrict(t,r){if(r&&console.warn(t),this._strict)throw new Error(t)}};var d_=class e{constructor(t,r){this.type=t;this.name=r;this._start=Date.now();this._dep=[]}static{o(this,"Trace")}static{this.all=new Set}static{this._None=new class extends e{constructor(){super(0,null)}stop(){}branch(){return this}}}static traceInvocation(t,r){return t?new e(2,r.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):e._None}static traceCreation(t,r){return t?new e(1,r.name):e._None}static{this._totals=0}branch(t,r){let n=new e(3,t.toString());return this._dep.push([t,r,n]),n}stop(){let t=Date.now()-this._start;e._totals+=t;let r=!1;function n(s,a){let l=[],c=new Array(s+1).join("	");for(let[u,f,m]of a._dep)if(f&&m){r=!0,l.push(`${c}CREATES -> ${u}`);let h=n(s+1,m);h&&l.push(h)}else l.push(`${c}uses -> ${u}`);return l.join(`
`)}o(n,"printChild");let i=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${n(1,this)}`,`DONE, took ${t.toFixed(2)}ms (grand total ${e._totals.toFixed(2)}ms)`];(t>2||r)&&e.all.add(i.join(`
`))}};var Nq=class{constructor(t){this._isSealed=!1;this._collection=Array.isArray(t)?new px(...t):t??new px}static{o(this,"InstantiationServiceBuilder")}define(t,r){if(this._isSealed)throw new Error("This accessor is sealed and cannot be modified anymore.");this._collection.set(t,r)}seal(){if(this._isSealed)throw new Error("This accessor is sealed and cannot be seal again anymore.");return this._isSealed=!0,new Fq(this._collection,!0)}};var uA=ch("IParserService");d();var Lq=ch("ISnippyService");d();d();var m_=new RegExp("[_\\p{L}\\p{Nd}]+|====+|----+|####+|////+|\\*\\*\\*\\*+|[\\p{P}\\p{S}]","gu"),Qq=65;function Cvt(e){let t=0,r;m_.lastIndex=0;do if(r=m_.exec(e),r&&(t+=1),t>=Qq)break;while(r);return t}o(Cvt,"lexemeLength");function xvt(e,t){let r=0,n;m_.lastIndex=0;do if(n=m_.exec(e),n&&(r+=1,r>=t))return m_.lastIndex;while(n);return e.length}o(xvt,"offsetFirstLexemes");function mDe(e,t){let r=e.split("").reverse().join(""),n=xvt(r,t);return r.length-n}o(mDe,"offsetLastLexemes");function Sse(e){return Cvt(e)>=Qq}o(Sse,"hasMinLexemeLength");d();d();d();var Aa;(n=>{function e(i){return new _se(i)}n.ok=e,o(e,"ok");function t(i){return new kse(i)}n.error=t,o(t,"error");function r(i){return n.error(new Error(i))}n.fromString=r,o(r,"fromString")})(Aa||={});var _se=class e{constructor(t){this.val=t}static{o(this,"ResultOk")}map(t){return new e(t(this.val))}flatMap(t){return t(this.val)}isOk(){return!0}isError(){return!1}},kse=class{constructor(t){this.err=t}static{o(this,"ResultError")}map(t){return this}flatMap(t){return this}isOk(){return!1}isError(){return!0}};var hDe;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.matched_source=="string"&&typeof r.occurrences=="string"&&typeof r.capped=="boolean"&&typeof r.cursor=="string"&&typeof r.github_url=="string"}t.is=e,o(e,"is")})(hDe||={});var Bse;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.kind=="string"&&typeof r.reason=="string"&&typeof r.code=="number"&&typeof r.msg=="string"}t.is=e,o(e,"is")})(Bse||={});var pDe;(t=>{function e(r){return typeof r=="object"&&r!==null&&"snippets"in r&&Array.isArray(r.snippets)&&r.snippets.every(hDe.is)}t.is=e,o(e,"is")})(pDe||={});var Rse;(t=>{function e(r){if(Bse.is(r))return Aa.error(r);if(pDe.is(r))return Aa.ok(r)}t.to=e,o(e,"to")})(Rse||={});var gDe;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.commit_id=="string"&&typeof r.license=="string"&&typeof r.nwo=="string"&&typeof r.path=="string"&&typeof r.url=="string"}t.is=e,o(e,"is")})(gDe||={});var ADe;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.has_next_page=="boolean"&&typeof r.cursor=="string"}t.is=e,o(e,"is")})(ADe||={});var yDe;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.count=="object"&&Object.values(r.count).every(n=>typeof n=="string")}t.is=e,o(e,"is")})(yDe||={});var CDe;(t=>{function e(r){return typeof r=="object"&&r!==null&&"file_matches"in r&&Array.isArray(r.file_matches)&&r.file_matches.every(gDe.is)&&"page_info"in r&&ADe.is(r.page_info)&&"license_stats"in r&&yDe.is(r.license_stats)}t.is=e,o(e,"is")})(CDe||={});var Dse;(t=>{function e(r){if(Bse.is(r))return Aa.error(r);if(CDe.is(r))return Aa.ok(r)}t.to=e,o(e,"to")})(Dse||={});var Mq=class e{static{o(this,"SnippyFetchService")}static{this.TWIRP_URL="twirp/github.snippy.v1.SnippyAPI"}constructor(t){this.ctx=t}async fetchMatch(t){let r={source:t};return this.fetch("Match",r,Rse.to)}async fetchFilesForMatch(t){let r={cursor:t};return this.fetch("FilesForMatch",r,Dse.to)}async fetch(t,r,n){let i=this.ctx.get(Nr),s=await this.ctx.get(qr).getToken(),a=fv(this.ctx,s,"origin-tracker",`${e.TWIRP_URL}/${t}`),l={Authorization:`Bearer ${s.token}`,...d0(this.ctx)},c=i.makeAbortController(),u=await i.fetch(a,{method:"POST",headers:l,json:r,signal:c.signal});if(!u.ok)throw new Error(`Failed with status ${u.status} and body: ${await u.text()}`);let f=await u.json();return n(f)}};var xDe=new Ar("[CODE REFERENCING]"),J8=class{constructor(t,r){this.instantiationService=r;this.ctx=t,this.fetcher=this.instantiationService.createInstance(Mq,this.ctx)}static{o(this,"SnippyService")}async handlePostInsertion(t,r,n){let i=this.computeSourceToCheck(r,n);if(!i)return;let a=await this.ctx.get(Vr).getOpenTextDocument({uri:t.toString()});if(!a){xDe.error(this.ctx,"Unable to raise IP code citation notification: could not determine document version.");return}let l=a.version,c;try{c=await this.fetcher.fetchMatch(i.source)}catch(p){throw p}if(!c)throw new Error(`Failed to parse match response: ${c}`);if(c.isError())throw new Error(`Failed to match: ${c.err}`);if(c.val.snippets.length===0)return;let{snippets:u}=c.val,f=u.map(async p=>{let A=await this.fetcher.fetchFilesForMatch(p.cursor);if(!A||A.isError())return;let{file_matches:x,license_stats:E}=A.val;return{match:p,files:x,licenseStats:E}}),h=(await Promise.all(f)).filter(p=>!!p);if(h.length===0){xDe.error(this.ctx,"Should never happen as per https://github.com/github/copilot-client/blob/34cae5c581d662525eb3305d58f0762e952f866d/extension/src/codeReferencing/handlePostInsertion.ts#L138");return}for(let p of h){let A=new Set(Object.keys(p.licenseStats?.count??{}));A.delete("NOASSERTION")&&A.add("unknown");let x=Array.from(A).sort(),E=`${p.match.matched_source.slice(0,100).replace(/[\r\n\t]+|^[ \t]+/gm," ").trim()}...`,v={inDocumentUri:t.toString(),offsetStart:i.startOffset,offsetEnd:i.endOffset,matchingText:E,location:{start:{line:i.startPosition.lineNumber,character:i.startPosition.column},end:{line:i.endPosition.lineNumber,character:i.endPosition.column}},version:l,details:x.map(b=>({license:b,url:`${p.match.github_url}`}))};await this.ctx.get(Gu).handleIPCodeCitation(this.ctx,v)}}computeSourceToCheck(t,r){if(r.newText==="")return;let n=ns.single(r),s=n.getNewRanges().reduce((h,p)=>h.join(p)),a=t.apply(n),l=s.start,c=a.value.substring(s.start,s.endExclusive);if(!Sse(c)){let h=a.value.slice(0,s.start),p=mDe(h,Qq);l=p,c=a.value.slice(p,s.start+r.newText.length)}if(!Sse(c))return;let u=a.getTransformer(),f=u.getPosition(l),m=u.getPosition(s.endExclusive);return{source:c,startOffset:l,endOffset:s.endExclusive,startPosition:f,endPosition:m}}};J8=Au([va(1,sg)],J8);d();var h_=ch("ITokenizerProvider");d();d();d();var vvt=Symbol("MicrotaskDelay");function Ivt(e){let t=new L1,r=e(t.token),n=new Promise((i,s)=>{let a=t.token.onCancellationRequested(()=>{a.dispose(),s(new Rp)});Promise.resolve(r).then(l=>{a.dispose(),t.dispose(),i(l)},l=>{a.dispose(),t.dispose(),s(l)})});return new class{cancel(){t.cancel(),t.dispose()}then(i,s){return n.then(i,s)}catch(i){return this.then(void 0,i)}finally(i){return n.finally(i)}}}o(Ivt,"createCancelablePromise");function gx(e,t){return t?new Promise((r,n)=>{let i=setTimeout(()=>{s.dispose(),r()},e),s=t.onCancellationRequested(()=>{clearTimeout(i),s.dispose(),n(new Rp)})}):Ivt(r=>gx(e,r))}o(gx,"timeout");var Oq=class{constructor(t,r){this._isDisposed=!1;this._token=-1,typeof t=="function"&&typeof r=="number"&&this.setIfNotSet(t,r)}static{o(this,"TimeoutTimer")}dispose(){this.cancel(),this._isDisposed=!0}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(t,r){if(this._isDisposed)throw new pi("Calling 'cancelAndSet' on a disposed TimeoutTimer");this.cancel(),this._token=setTimeout(()=>{this._token=-1,t()},r)}setIfNotSet(t,r){if(this._isDisposed)throw new pi("Calling 'setIfNotSet' on a disposed TimeoutTimer");this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,t()},r))}};var p_=class{static{o(this,"DeferredPromise")}get isRejected(){return this.outcome?.outcome===1}get isResolved(){return this.outcome?.outcome===0}get isSettled(){return!!this.outcome}get value(){return this.outcome?.outcome===0?this.outcome?.value:void 0}constructor(){this.p=new Promise((t,r)=>{this.completeCallback=t,this.errorCallback=r})}complete(t){return new Promise(r=>{this.completeCallback(t),this.outcome={outcome:0,value:t},r()})}error(t){return new Promise(r=>{this.errorCallback(t),this.outcome={outcome:1,value:t},r()})}cancel(){return this.error(new Rp)}},Tvt;(r=>{async function e(n){let i,s=await Promise.all(n.map(a=>a.then(l=>l,l=>{i||(i=l)})));if(typeof i<"u")throw i;return s}r.settled=e,o(e,"settled");function t(n){return new Promise(async(i,s)=>{try{await n(i,s)}catch(a){s(a)}})}r.withAsyncBody=t,o(t,"withAsyncBody")})(Tvt||={});var g_=class e{static{o(this,"AsyncIterableObject")}static fromArray(t){return new e(r=>{r.emitMany(t)})}static fromPromise(t){return new e(async r=>{r.emitMany(await t)})}static fromPromisesResolveOrder(t){return new e(async r=>{await Promise.all(t.map(async n=>r.emitOne(await n)))})}static merge(t){return new e(async r=>{await Promise.all(t.map(async n=>{for await(let i of n)r.emitOne(i)}))})}static{this.EMPTY=e.fromArray([])}constructor(t,r){this._state=0,this._results=[],this._error=null,this._onReturn=r,this._onStateChanged=new zu,queueMicrotask(async()=>{let n={emitOne:o(i=>this.emitOne(i),"emitOne"),emitMany:o(i=>this.emitMany(i),"emitMany"),reject:o(i=>this.reject(i),"reject")};try{await Promise.resolve(t(n)),this.resolve()}catch(i){this.reject(i)}finally{n.emitOne=void 0,n.emitMany=void 0,n.reject=void 0}})}[Symbol.asyncIterator](){let t=0;return{next:o(async()=>{do{if(this._state===2)throw this._error;if(t<this._results.length)return{done:!1,value:this._results[t++]};if(this._state===1)return{done:!0,value:void 0};await b4.toPromise(this._onStateChanged.event)}while(!0)},"next"),return:o(async()=>(this._onReturn?.(),{done:!0,value:void 0}),"return")}}static map(t,r){return new e(async n=>{for await(let i of t)n.emitOne(r(i))})}map(t){return e.map(this,t)}static filter(t,r){return new e(async n=>{for await(let i of t)r(i)&&n.emitOne(i)})}filter(t){return e.filter(this,t)}static coalesce(t){return e.filter(t,r=>!!r)}coalesce(){return e.coalesce(this)}static async toPromise(t){let r=[];for await(let n of t)r.push(n);return r}toPromise(){return e.toPromise(this)}emitOne(t){this._state===0&&(this._results.push(t),this._onStateChanged.fire())}emitMany(t){this._state===0&&(this._results=this._results.concat(t),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(t){this._state===0&&(this._state=2,this._error=t,this._onStateChanged.fire())}};var Uq=class{constructor(t){this._deferred=new p_;this._asyncIterable=new g_(i=>{if(r){i.reject(r);return}return n&&i.emitMany(n),this._errorFn=s=>i.reject(s),this._emitFn=s=>i.emitOne(s),this._deferred.p},t);let r,n;this._emitFn=i=>{n||(n=[]),n.push(i)},this._errorFn=i=>{r||(r=i)}}static{o(this,"AsyncIterableSource")}get asyncIterable(){return this._asyncIterable}resolve(){this._deferred.complete()}reject(t){this._errorFn(t),this._deferred.complete()}emitOne(t){this._emitFn(t)}};var Wq=ch("ITelemetrySender"),fA=ch("IChatMLFetcher");var qq=class{constructor(){this._stream=new Uq;this._seenAnnotationTypes=new Set}static{o(this,"FetchStreamSource")}get stream(){return this._stream.asyncIterable}update(t,r){r.codeVulnAnnotations&&(!((t.match(/(^|\n)```/g)?.length??0)%2===1)||t.match(/(^|\n)```\w*\s*$/))&&(r.codeVulnAnnotations=void 0),r.codeVulnAnnotations&&(r.codeVulnAnnotations=r.codeVulnAnnotations.filter(n=>!this._seenAnnotationTypes.has(n.details.type)),r.codeVulnAnnotations.forEach(n=>this._seenAnnotationTypes.add(n.details.type))),this._stream.emitOne({text:t,delta:r})}resolve(){this._stream.resolve()}};async function EDe(e){let t=new Nq;return t.define(Wq,new Pse(e)),t.define(uA,new uf(Fse,[!0])),t.define(Lq,new uf(J8,[e])),t.define(fA,await Nse.Create(e)),t.define(h_,new uf(Lse)),t.seal()}o(EDe,"createInstantiationService");var Pse=class{constructor(t){this.ctx=t;this.ctx=t}static{o(this,"TelemetrySender")}sendTelemetryEvent(t,r,n){let i=Object.fromEntries(Object.entries(r??{}).filter(([l,c])=>c!==void 0)),s=Object.fromEntries(Object.entries(n??{}).filter(([l,c])=>c!==void 0)),a=rn.createAndMarkAsIssued(i,s);Gt(this.ctx,t,a)}},Fse=class{static{o(this,"ParserServiceImpl")}getTreeSitterAST(t){}},Nse=class e{constructor(t,r){this.ctx=t;this.modelConfiguration=r}static{o(this,"CLSChatMLFetcher")}static async Create(t){let r=await t.get(ti).getBestChatModelConfig([Qi.Gpt4oMini]);return new e(t,r)}get tokenBudget(){return this.modelConfiguration.maxRequestTokens}get tokenizerName(){return this.modelConfiguration.tokenizer}async fetchOne(t,r,n){let i=t.map(l=>e.chatMessageToClsChatMessage(l)),s=u_(),a=await this.ctx.get(qc).fetchAndStreamChat(this.ctx,i,h1.createEmptyConfigForTesting(),"nextEditSuggestion",s,async(l,c)=>{if(r)return await r(l,0,{text:c.text})},n);if(a.type==="success"){if(r)for await(let l of a.choices)l.finishReason!=="snippy"&&await r(l.completionText,0,{text:l.completionText});return{type:"success",value:""}}else return{type:e.clsResponseTypeToResponseType(a.type),reason:a.type}}static chatMessageToClsChatMessage(t){switch(t.role){case"system":return{role:"system",content:t.content};case"user":if(typeof t.content!="string")throw new Error("User message content must be a string");return{role:"user",content:t.content};default:throw new Error(`Unsupported chat role: ${t.role}`)}}static clsResponseTypeToResponseType(t){switch(t){case"success":return"success";case"successMultiple":return"success";case"offTopic":return"offTopic";case"canceled":return"canceled";case"filtered":return"filtered";case"length":return"length";case"failed":return"failed";case"agentAuthRequired":return"agent_unauthorized";default:return"unknown"}}},Lse=class e{constructor(){this.tokenizers=new Map;this.cl100kTokenizer=new Gq("cl100k_base")}static{o(this,"CLSTokenizerProvider")}acquireTokenizer(t){let r=this.tokenizers.get(t.tokenizer);return r||(r=new Gq(e.typeToName(t.tokenizer)),this.tokenizers.set(t.tokenizer,r)),r}static typeToName(t){switch(t){case"cl100k_base":return"cl100k_base";case"o200k_base":return"o200k_base";case"llama3":throw new Error("Llama3 tokenizer is not supported");default:throw new Error(`Unknown tokenizer type: ${t}`)}}},Gq=class{static{o(this,"CLSTokenizer")}constructor(t){this.tokenizer=Ki(t)}tokenLength(t){return this.tokenizer.tokenLength(t)}countMessageTokens(t){let r=0;if(typeof t.content=="string")return this.tokenLength(t.content);if(Array.isArray(t.content))for(let n of t.content)if(n.type==="text")r+=this.tokenLength(n.text);else throw new Error(`Unsupported message content part type: ${n.type}`);else throw new Error("Unsupported message content type");return r}countMessagesTokens(t){let r=0;for(let n of t)r+=this.countMessageTokens(n);return r}countToolTokens(t){throw new Error("Method not implemented.")}};d();d();var Qse=class{constructor(t,r){this.baseDebounceTime=t;this.expectedTotalTime=r;this.providerInvocationTime=Date.now()}static{o(this,"DelaySession")}getDebounceTime(){let t=this.expectedTotalTime===void 0?this.baseDebounceTime:Math.min(this.baseDebounceTime,this.expectedTotalTime),r=Date.now()-this.providerInvocationTime;return Math.max(0,t-r)}getArtificalDelay(){if(this.expectedTotalTime===void 0)return 0;let t=Date.now()-this.providerInvocationTime;return Math.max(0,this.expectedTotalTime-t)}},Hq=class{constructor(){this._recentUserActions=[]}static{o(this,"Delayer")}createDelaySession(){let n=this._getExpectedTotalTime(200);return new Qse(200,n)}handleAcceptance(){this._recordUserAction("accepted")}handleRejection(){this._recordUserAction("rejected")}_recordUserAction(t){this._recentUserActions.push({time:Date.now(),kind:t}),this._recentUserActions=this._recentUserActions.slice(-10)}_getExpectedTotalTime(t){let l=Date.now(),c=1;for(let f of this._recentUserActions){let m=l-f.time;if(m>6e5)continue;let h=Math.exp(-m/6e5),p=f.kind==="rejected"?1.5:.8;c*=1+(p-1)*h}let u=t*c;return u=Math.min(3e3,Math.max(50,u)),u}};d();d();d();var Vq=class e{constructor(t){this._indexMap=t}static{o(this,"Permutation")}get arrayLength(){return this._indexMap.length}static createSortPermutation(t,r){let n=Array.from(t.keys()).sort((i,s)=>r(t[i],t[s]));return new e(n)}apply(t){if(t.length!==this.arrayLength)throw Bw(`Permutation must be applied on an array of same length. Received length: ${t.length}. Expected length: ${this.arrayLength}`);return t.map((r,n)=>t[this._indexMap[n]])}mapIndexBack(t){let r=this._indexMap.at(t);if(r===void 0)throw Bw(`Given index must be within original array length. Received: ${t}. Expected: 0 <= x < ${this.arrayLength}`);return r}inverse(){let t=this._indexMap.slice();for(let r=0;r<this._indexMap.length;r++)t[this._indexMap[r]]=r;return new e(t)}};d();var A_=class e{constructor(t,r){this.firstEditStrategy=t;this.maxLinesPerEdit=r}static{o(this,"StatelessNextEditOptions")}doesFitMaxLinesPerEdit(t){return this.maxLinesPerEdit===void 0||t.lineRange.length<=this.maxLinesPerEdit&&t.newLines.length<=this.maxLinesPerEdit}serialize(){return{firstEditStrategy:this.firstEditStrategy,maxLinesPerEdit:this.maxLinesPerEdit}}static deserialize(t){return new e(t.firstEditStrategy,t.maxLinesPerEdit)}},jq=class e{constructor(t,r,n,i){this.id=t;this.documents=r;this.activeDocumentIdx=n;this.options=i;this.seqid=String(++e.ID);this.cancellationTokenSource=new L1;this.liveDependentants=0;this.fetchIssued=!1;this._result=new p_;$c(r.length>0),$c(n>=0&&n<r.length)}static{o(this,"StatelessNextEditRequest")}static{this.ID=0}get result(){return this._result.p}setResult(t){this._result.complete(t)}setResultError(t){this._result.error(t)}hasDocument(t){return this.documents.find(r=>r.id===t)!==void 0}static deserialize(t){return new e(t.id,t.documents.map(r=>y_.deserialize(r)),t.activeDocumentIdx,A_.deserialize(t.options))}getActiveDocument(){return this.documents[this.activeDocumentIdx]}serialize(){return{id:this.id,documents:this.documents.map(t=>t.serialize()),activeDocumentIdx:this.activeDocumentIdx,options:this.options.serialize()}}toString(){return this.toMarkdown()}toMarkdown(){return`### StatelessNextEditRequest

${this.documents.map((r,n)=>` * [${n+1}/${this.documents.length}] ${n===this.activeDocumentIdx?"(active document) ":""}`+r.toMarkdown()).join(`

`)}`}},y_=class e{constructor(t,r,n,i,s,a,l,c,u,f,m,h,p=i.length,A=new $n(1,i.length+1),x=void 0){this.id=t;this.workspaceRoot=r;this.languageId=n;this.documentLinesBeforeEdit=i;this.recentEdit=s;this.recentlyEditedInLinesAfterEditRange=a;this.documentBeforeEdits=l;this.recentEdits=c;this.documentAfterEditsNoShortening=u;this.toEditOnDocumentAfterEditsNoShortening=f;this.toOffsetOnDocumentAfterEditsNoShortening=m;this.toProjectedOffset=h;this.lineCountBeforeClipping=p;this.clippingRange=A;this.lastSelectionInAfterEdit=x;this.recentlyEditedInLinesAfterEdit=this.recentlyEditedInLinesAfterEditRange===void 0?void 0:$n.fromRangeInclusive(this.recentlyEditedInLinesAfterEditRange);this.documentAfterEdits=new Al(this.recentEdits.apply(this.documentBeforeEdits.value));this.documentAfterEditsLines=this.documentAfterEdits.getLines()}static{o(this,"StatelessNextEditDocument")}static deserialize(t){return new e(pd.create(t.id),t.workspaceRoot?oy.parse(t.workspaceRoot):void 0,w4.create(t.languageId),t.documentLinesBeforeEdit,bs.deserialize(t.recentEdit),t.recentlyEditedInLinesAfterEditRange?li.lift(t.recentlyEditedInLinesAfterEditRange):void 0,new Al(t.documentBeforeEdits),Lp.deserialize(t.recentEdits),new Al(t.documentAfterEditsNoShortening),r=>{throw new Error("Deserializing serialized document does not implement translation of line edit to edit")},r=>{throw new Error("Deserializing serialized document does not implement translation of offsets")},r=>{throw new Error("Deserializing serialized document does not implement translation of offsets")},t.lineCountBeforeClipping,$n.deserialize(t.clippingRange))}serialize(){return{id:this.id.uri,workspaceRoot:this.workspaceRoot?.toString(),languageId:this.languageId,documentLinesBeforeEdit:this.documentLinesBeforeEdit,recentEdit:this.recentEdit.serialize(),recentlyEditedInLinesAfterEditRange:this.recentlyEditedInLinesAfterEditRange?.toJSON(),documentBeforeEdits:this.documentBeforeEdits.value,recentEdits:this.recentEdits.serialize(),documentAfterEditsNoShortening:this.documentAfterEditsNoShortening.value,lineCountBeforeClipping:this.lineCountBeforeClipping,clippingRange:this.clippingRange.serialize()}}getDisplayPath(){return this.id.uri}toString(){return this.toMarkdown()}toMarkdown(){let t=[];return t.push(`StatelessNextEditDocument: **${this.id.uri}**
`),t.push("```patch"),t.push(this.recentEdit.humanReadablePatch(this.documentLinesBeforeEdit)),t.push("```"),t.push(""),t.join(`
`)}};var Zi=class e{constructor(t,r){this.nextEdit=t;this.telemetry=r}static{o(this,"StatelessNextEditResult")}static noEdit(t,r){let n=Aa.error(t),i=r.build(n);return new e(n,i)}static edit(t,r){let n=Aa.ok(t),i=r.build(n);return new e(n,i)}},X8=class{constructor(t){this._request=t;this.startTime=Date.now(),this.requestUuid=t.id}static{o(this,"StatelessNextEditTelemetryBuilder")}build(t){let n=Date.now()-this.startTime,i=this._prompt?.split(`
`).length,s=this._prompt?.length,a=t.isOk(),l=t.isOk()?void 0:t.err.kind,c;if(!t.isOk())switch(t.err.kind){case"activeDocumentHasNoEdits":case"noSuggestions":break;case"gotCancelled":case"filteredOut":c=t.err.message;break;case"fetchFailure":case"uncategorized":case"unexpected":c=t.err.error.stack?t.err.error.stack:t.err.error.message;break;default:NQ(t.err)}return{hadStatelessNextEditProviderCall:!0,firstEditStrategy:this._request.options.firstEditStrategy,maxLinesPerEdit:this._request.options.maxLinesPerEdit,hasNextEdit:a,noNextEditReasonKind:l,noNextEditReasonMessage:c,statelessNextEditProviderDuration:n,logProbThreshold:this._logProbThreshold,promptLineCount:i,promptCharCount:s,isDefaultEndpoint:this._isDefaultEndpoint,debounceTime:this._debounceTime,fetchStartedAt:this._fetchStartedAt,fetchTime:this._fetchTime,fetchResult:this._fetchResult,fetchError:this._fetchError,hadLowLogProbSuggestion:this._hadLowLogProbSuggestion,nonTerminatingError:this._nonTerminatingError,nEditsSuggested:this._nEditsSuggested,nextEditLogprob:this._nextEditLogProb,kthEditPicked:this._kthEditPicked,lineDistanceToMostRecentEdit:this._lineDistanceToMostRecentEdit,firstPickStrategyOverride:this._firstPickStrategyOverride}}setLogProbThreshold(t){return this._logProbThreshold=t,this}setHadLowLogProbSuggestion(t){return this._hadLowLogProbSuggestion=t,this}setPrompt(t){return this._prompt=t,this}setIsDefaultEndpoint(t){return this._isDefaultEndpoint=t,this}setDebounceTime(t){return this._debounceTime=t,this}setFetchStartedAt(){return this._fetchStartedAt=Date.now(),this}get fetchStartedAt(){return this._fetchStartedAt}setFetchResultIfNotSet(t,r){return this._fetchResult===void 0&&(this._fetchResult=t,this._fetchError=r,$c(this._fetchStartedAt!==void 0,"fetchStartedAt must be set before setting fetchTime"),this._fetchTime=Date.now()-this._fetchStartedAt),this}get fetchResult(){return this._fetchResult}get fetchError(){return this._fetchError}get fetchTime(){return this._fetchTime}setNonTerminatingError(t){return this._nonTerminatingError=t,this}setNextEditLogProb(t){return this._nextEditLogProb=t,this}setNEditsSuggested(t){return this._nEditsSuggested=t,this}setKthEditPicked(t){return this._kthEditPicked=t,this}setLineDistanceToMostRecentEdit(t){return this._lineDistanceToMostRecentEdit=t,this}setFirstPickStrategyOverride(t){return this._firstPickStrategyOverride=t,this}};function Svt(e,...t){let r=e;for(let n of t)r=n(r);return r}o(Svt,"chainStatelessNextEditProviders");var $q=class{constructor(t,r){this.ID=t;this._providers=r;let n={ID:this.ID,provideNextEdit:o((i,s)=>this.provideNextEditBase(i,s),"provideNextEdit")};this._impl=Svt(n,...this._providers)}static{o(this,"ChainedStatelessNextEditProvider")}provideNextEdit(t,r){return this._impl.provideNextEdit(t,r)}},Z8=class{constructor(t){this._baseProvider=t}static{o(this,"EditFilterAspect")}get ID(){return this._baseProvider.ID}async provideNextEdit(t,r){let n=await this._baseProvider.provideNextEdit(t,r);if(n.nextEdit.isError())return n;let i=n.nextEdit.val,s=i.permutation===void 0?i.edit.edits:i.permutation.apply(i.edit.edits),a=this.filterEdit(t.getActiveDocument(),s);if(a.length===s.length)return n;if(a.length===0)return new Zi(Aa.error({kind:"filteredOut",message:"uncategorized"}),n.telemetry);let l=Vq.createSortPermutation(a,K5(u=>u.lineRange.startLineNumber,J5)),c=new bs(l.apply(a));return new Zi(Aa.ok({edit:c,permutation:l.inverse()}),n.telemetry)}},zq=class extends Z8{static{o(this,"IgnoreTriviaWhitespaceChangesAspect")}filterEdit(t,r){return r.filter(i=>!this._isWhitespaceOnlyChange(i,t.documentAfterEditsLines))}_isWhitespaceOnlyChange(t,r){let n=t.lineRange.toOffsetRange().slice(r),i=t.newLines;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++){let a=n[s],l=i[s];if(a.trim()!==l.trim())return!1}return!0}},Yq=class extends Z8{static{o(this,"IgnoreEditsAtClippingBorderAspect")}filterEdit(t,r){return r.filter(i=>!this._isAtClippingBorder(i,t.clippingRange,t.lineCountBeforeClipping))}_isAtClippingBorder(t,r,n){return r.startLineNumber>1&&t.lineRange.startLineNumber===1||r.endLineNumberExclusive<n&&t.lineRange.endLineNumberExclusive===r.length}};d();d();var _vt=Object.freeze({abap:{lineComment:{start:"'"},markdownLanguageIds:["abap","sap-abap"]},bat:{lineComment:{start:"REM"},alternativeLineComments:[{start:"::"}],aliases:["Batch","bat"],extensions:[".bat",".cmd"]},bibtex:{lineComment:{start:"%"},aliases:["BibTeX","bibtex"],extensions:[".bib"]},blade:{lineComment:{start:"#"}},c:{lineComment:{start:"//"},aliases:["C","c"],extensions:[".c",".i"],markdownLanguageIds:["c","h"]},clojure:{lineComment:{start:";"},aliases:["Clojure","clojure"],extensions:[".clj",".cljs",".cljc",".cljx",".clojure",".edn"],markdownLanguageIds:["clojure","clj"]},coffeescript:{lineComment:{start:"//"},aliases:["CoffeeScript","coffeescript","coffee"],extensions:[".coffee",".cson",".iced"],markdownLanguageIds:["coffeescript","coffee","cson","iced"],blockComment:["###","###"]},cpp:{lineComment:{start:"//"},aliases:["C++","Cpp","cpp"],extensions:[".cpp",".cc",".cxx",".c++",".hpp",".hh",".hxx",".h++",".h",".ii",".ino",".inl",".ipp",".ixx",".tpp",".txx",".hpp.in",".h.in"],markdownLanguageIds:["cpp","hpp","cc","hh","c++","h++","cxx","hxx"],blockComment:["/*","*/"]},csharp:{lineComment:{start:"//"},aliases:["C#","csharp"],extensions:[".cs",".csx",".cake"],markdownLanguageIds:["csharp","cs"],blockComment:["/*","*/"]},css:{lineComment:{start:"/*",end:"*/"},aliases:["CSS","css"],extensions:[".css"],blockComment:["/*","*/"]},dart:{lineComment:{start:"//"},aliases:["Dart"],extensions:[".dart"],blockComment:["/*","*/"]},dockerfile:{lineComment:{start:"#"},aliases:["Docker","Dockerfile","Containerfile"],extensions:[".dockerfile",".containerfile"],markdownLanguageIds:["dockerfile","docker"]},elixir:{lineComment:{start:"#"}},erb:{lineComment:{start:"<%#",end:"%>"}},erlang:{lineComment:{start:"%"},markdownLanguageIds:["erlang","erl"]},fsharp:{lineComment:{start:"//"},aliases:["F#","FSharp","fsharp"],extensions:[".fs",".fsi",".fsx",".fsscript"],markdownLanguageIds:["fsharp","fs","fsx","fsi","fsscript"],blockComment:["(*","*)"]},go:{lineComment:{start:"//"},aliases:["Go"],extensions:[".go"],markdownLanguageIds:["go","golang"],blockComment:["/*","*/"]},groovy:{lineComment:{start:"//"},aliases:["Groovy","groovy"],extensions:[".groovy",".gvy",".gradle",".jenkinsfile",".nf"],blockComment:["/*","*/"]},haml:{lineComment:{start:"-#"}},handlebars:{lineComment:{start:"{{!",end:"}}"},extensions:[".hbs",".handlebars"],markdownLanguageIds:["handlebars","hbs","html.hbs","html.handlebars"],blockComment:["{{!--","--}}"]},haskell:{lineComment:{start:"--"},markdownLanguageIds:["haskell","hs"]},html:{lineComment:{start:"<!--",end:"-->"},aliases:["HTML","htm","html","xhtml"],extensions:[".html",".htm",".shtml",".xhtml",".xht",".mdoc",".jsp",".asp",".aspx",".jshtm",".volt",".ejs",".rhtml"],markdownLanguageIds:["html","xhtml"],blockComment:["<!--","-->"]},ini:{lineComment:{start:";"},blockComment:[";"," "]},java:{lineComment:{start:"//"},extensions:[".java",".class"],markdownLanguageIds:["java","jsp"],blockComment:["/*","*/"]},javascript:{lineComment:{start:"//"},aliases:["JavaScript","javascript","js"],extensions:[".js",".es6",".mjs",".cjs",".pac"],markdownLanguageIds:["javascript","js"],blockComment:["/*","*/"]},javascriptreact:{lineComment:{start:"//"},aliases:["JavaScript JSX","JavaScript React","jsx"],extensions:[".jsx"],markdownLanguageIds:["jsx"]},json:{extensions:[".json"],lineComment:{start:"//"},blockComment:["/*","*/"]},jsonc:{lineComment:{start:"//"}},jsx:{lineComment:{start:"//"},markdownLanguageIds:["jsx"]},julia:{lineComment:{start:"#"},aliases:["Julia","julia"],extensions:[".jl"],markdownLanguageIds:["julia","jl"],blockComment:["#=","=#"]},kotlin:{lineComment:{start:"//"},markdownLanguageIds:["kotlin","kt"]},latex:{lineComment:{start:"%"},aliases:["LaTeX","latex"],extensions:[".tex",".ltx",".ctx"],markdownLanguageIds:["tex"]},less:{lineComment:{start:"//"},aliases:["Less","less"],extensions:[".less"],blockComment:["/*","*/"]},lua:{lineComment:{start:"--"},aliases:["Lua","lua"],extensions:[".lua"],markdownLanguageIds:["lua","pluto"],blockComment:["--[[","]]"]},makefile:{lineComment:{start:"#"},aliases:["Makefile","makefile"],extensions:[".mak",".mk"],markdownLanguageIds:["makefile","mk","mak","make"]},markdown:{lineComment:{start:"//"},aliases:["Markdown","markdown"],extensions:[".md",".mkd",".mdwn",".mdown",".markdown",".markdn",".mdtxt",".mdtext",".workbook"],markdownLanguageIds:["markdown","md","mkdown","mkd"]},"objective-c":{lineComment:{start:"//"},aliases:["Objective-C"],extensions:[".m"],markdownLanguageIds:["objectivec","mm","objc","obj-c"],blockComment:["/*","*/"]},"objective-cpp":{lineComment:{start:"//"},aliases:["Objective-C++"],extensions:[".mm"],markdownLanguageIds:["objectivec++","objc+"]},perl:{lineComment:{start:"#"},aliases:["Perl","perl"],extensions:[".pl",".pm",".pod",".t",".PL",".psgi"],markdownLanguageIds:["perl","pl","pm"]},php:{lineComment:{start:"//"},aliases:["PHP","php"],extensions:[".php",".php4",".php5",".phtml",".ctp"],blockComment:["/*","*/"]},powershell:{lineComment:{start:"#"},aliases:["PowerShell","powershell","ps","ps1"],extensions:[".ps1",".psm1",".psd1",".pssc",".psrc"],markdownLanguageIds:["powershell","ps","ps1"],blockComment:["<#","#>"]},pug:{lineComment:{start:"//"}},python:{lineComment:{start:"#"},aliases:["Python","py"],extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi",".pyi",".ipy",".pyt"],markdownLanguageIds:["python","py","gyp"],blockComment:['"""','"""']},ql:{lineComment:{start:"//"}},r:{lineComment:{start:"#"},aliases:["R","r"],extensions:[".r",".rhistory",".rprofile",".rt"]},razor:{lineComment:{start:"<!--",end:"-->"},aliases:["Razor","razor"],extensions:[".cshtml",".razor"],markdownLanguageIds:["cshtml","razor","razor-cshtml"],blockComment:["<!--","-->"]},ruby:{lineComment:{start:"#"},aliases:["Ruby","rb"],extensions:[".rb",".rbx",".rjs",".gemspec",".rake",".ru",".erb",".podspec",".rbi"],markdownLanguageIds:["ruby","rb","gemspec","podspec","thor","irb"],blockComment:["=begin","=end"]},rust:{lineComment:{start:"//"},aliases:["Rust","rust"],extensions:[".rs"],markdownLanguageIds:["rust","rs"],blockComment:["/*","*/"]},sass:{lineComment:{start:"//"}},scala:{lineComment:{start:"//"}},scss:{lineComment:{start:"//"},aliases:["SCSS","scss"],extensions:[".scss"],blockComment:["/*","*/"]},shellscript:{lineComment:{start:"#"},aliases:["Shell Script","shellscript","bash","fish","sh","zsh","ksh","csh"],extensions:[".sh",".bash",".bashrc",".bash_aliases",".bash_profile",".bash_login",".ebuild",".profile",".bash_logout",".xprofile",".xsession",".xsessionrc",".Xsession",".zsh",".zshrc",".zprofile",".zlogin",".zlogout",".zshenv",".zsh-theme",".fish",".ksh",".csh",".cshrc",".tcshrc",".yashrc",".yash_profile"],markdownLanguageIds:["bash","sh","zsh"]},slim:{lineComment:{start:"/"}},solidity:{lineComment:{start:"//"},markdownLanguageIds:["solidity","sol"]},sql:{lineComment:{start:"--"},aliases:["SQL"],extensions:[".sql",".dsql"],blockComment:["/*","*/"]},stylus:{lineComment:{start:"//"}},svelte:{lineComment:{start:"<!--",end:"-->"}},swift:{lineComment:{start:"//"},aliases:["Swift","swift"],extensions:[".swift"],blockComment:["/*","*/"]},terraform:{lineComment:{start:"#"}},tex:{lineComment:{start:"%"},aliases:["TeX","tex"],extensions:[".sty",".cls",".bbx",".cbx"]},typescript:{lineComment:{start:"//"},aliases:["TypeScript","ts","typescript"],extensions:[".ts",".cts",".mts"],markdownLanguageIds:["typescript","ts"],blockComment:["/*","*/"]},typescriptreact:{lineComment:{start:"//"},aliases:["TypeScript JSX","TypeScript React","tsx"],extensions:[".tsx"],markdownLanguageIds:["tsx"],blockComment:["/*","*/"]},vb:{lineComment:{start:"'"},aliases:["Visual Basic","vb"],extensions:[".vb",".brs",".vbs",".bas",".vba"],markdownLanguageIds:["vb","vbscript"]},verilog:{lineComment:{start:"//"}},"vue-html":{lineComment:{start:"<!--",end:"-->"}},vue:{lineComment:{start:"//"},extensions:[".vue"]},xml:{lineComment:{start:"<!--",end:"-->"},aliases:["XML","xml"],extensions:[".xml",".xsd",".ascx",".atom",".axml",".axaml",".bpmn",".cpt",".csl",".csproj",".csproj.user",".dita",".ditamap",".dtd",".ent",".mod",".dtml",".fsproj",".fxml",".iml",".isml",".jmx",".launch",".menu",".mxml",".nuspec",".opml",".owl",".proj",".props",".pt",".publishsettings",".pubxml",".pubxml.user",".rbxlx",".rbxmx",".rdf",".rng",".rss",".shproj",".storyboard",".svg",".targets",".tld",".tmx",".vbproj",".vbproj.user",".vcxproj",".vcxproj.filters",".wsdl",".wxi",".wxl",".wxs",".xaml",".xbl",".xib",".xlf",".xliff",".xpdl",".xul",".xoml"],blockComment:["<!--","-->"]},xsl:{lineComment:{start:"<!--",end:"-->"},aliases:["XSL","xsl"],extensions:[".xsl",".xslt"]},yaml:{lineComment:{start:"#"},markdownLanguageIds:["yaml","yml"]}}),kvt=new Map(Object.entries(_vt).map(([e,t])=>[e,{languageId:e,...t}]));function vDe(e){return Ose(typeof e=="string"?e:typeof e>"u"?"plaintext":e.languageId)}o(vDe,"getLanguage");function Ose(e){return kvt.get(e.toLowerCase())??{languageId:e,lineComment:{start:"//"}}}o(Ose,"_getLanguage");d();function IDe(e){let r=e.split(/\r?\n/).map(Bvt),n=r.filter(s=>s===1).length,i=r.filter(s=>s===2).length;return n>i}o(IDe,"looksLikeCode");function Bvt(e){if(e.length===0)return 0;let t=0,r=0;if(["==","!=","===","!==",">=","<=","&&","||",">>",">>>","<<","<<<","+=","-=","*=","/=","%=","<<=","<<<=",">>=",">>>=","++","--","=>","->","...","??","??="].some(i=>e.includes(i))||e.match(/^\s/)||e.match(/^[;{}()\[\]`~?]/))return 1;e.charAt(0).match(/[A-Z]/)&&(t+=1),e[e.length-1]==="."&&(t+=1),Zee(e)||(t+=1);{Zee(e.charAt(0))&&!e.charAt(0).match(/[A-Z]/)&&(r+=1),e.match(/^\s/)&&(r+=1);let s=[";","{","}","(",")","[","]","`","~","#","$","%","^","&","*","_","=","+","\\","|","<",">"].map(a=>e.includes(a)?1:0).filter(a=>a).length;r+=s}return t>r?2:r>t?1:0}o(Bvt,"guessLineType");var e6;(r=>{function e(n){return n.length===0?[]:n.split(/\r\n|\r|\n/g)}r.fromString=e,o(e,"fromString");function t(n){if(n.lineCount===0)return[];let i=[];for(let s=0;s<n.lineCount;s++)i.push(n.lineAt(s).text);return i}r.fromDocument=t,o(t,"fromDocument")})(e6||={});function Rvt(e){return e.replace(/^\s+/g,"")}o(Rvt,"trimLeadingWhitespace");function Use(e,t){switch(t){case"java":return!!e.match(/^\s*import\s/);case"typescript":case"typescriptreact":case"javascript":case"javascriptreact":return!!e.match(/^\s*import[\s{*]|^\s*[var|const|let].*=\s*require\(/);case"php":return!!e.match(/^\s*use/);case"rust":return!!e.match(/^\s*use\s+[\w:{}, ]+\s*(as\s+\w+)?;/);case"python":return!!e.match(/^\s*from\s+[\w.]+\s+import\s+[\w, *]+$/)||!!e.match(/^\s*import\s+[\w, ]+$/);default:return!1}}o(Use,"isImportStatement");var Dvt=new Q1(e=>{let t=vDe(e),{start:r,end:n}=t.lineComment,i=`(?:${Xee(r)})`,s=n?`(?:${Xee(n)})?`:"";return new RegExp(`${i}(.*)${s}$`)});function qse(e,t){let r=e.match(Dvt.get(t));if(!r)return;let n=r.index;if(typeof n>"u")return;let i=e.substring(0,n),s=r[0],a=Rvt(r[1]||"");return{content:i,commentWithTokens:s,commentWithoutTokens:a}}o(qse,"extractEndLineComment");function Kq(e,t){let r=qse(e,t);if(!(r&&r.content.trim().length>0&&IDe(r.commentWithoutTokens)))return r}o(Kq,"extractExplicativeEndLineComment");var Jq=class e extends Z8{static{o(this,"IgnoreImportChangesAspect")}static isImportChange(t,r,n){return t.newLines.some(i=>Use(i,r))||Pvt(t,n).some(i=>Use(i,r))}filterEdit(t,r){let n=t.languageId;return r.filter(s=>!e.isImportChange(s,n,t.documentLinesBeforeEdit))}};function Pvt(e,t){return uve(e.lineRange.mapToLineArray(r=>t[r-1]))}o(Pvt,"getOldLines");d();var Wse=tt(uI());d();var t6=class{static{o(this,"DiffChange")}constructor(t,r,n,i){this.originalStart=t,this.originalLength=r,this.modifiedStart=n,this.modifiedLength=i}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}},C_=class{constructor(t,r=!0){this.lines=t;this.trimWhitespace=r}static{o(this,"LineSequence")}getElements(){let t=[];for(let r=0,n=this.lines.length;r<n;r++)t[r]=this.trimWhitespace?this.lines[r].trim():this.lines[r];return t}getCharCount(){let t=0;for(let r of this.lines)t+=r.length;return t}},x_=class{static{o(this,"CharSequence")}constructor(t){this._chars=t.split("")}getElements(){return this._chars}},jy=class{static{o(this,"Debug")}static Assert(t,r){if(!t)throw new Error(r)}},$y=class{static{o(this,"MyArray")}static Copy(t,r,n,i,s){for(let a=0;a<s;a++)n[i+a]=t[r+a]}static Copy2(t,r,n,i,s){for(let a=0;a<s;a++)n[i+a]=t[r+a]}};var Xq=class{static{o(this,"DiffChangeHelper")}constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new t6(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(t,r){this.m_originalStart=Math.min(this.m_originalStart,t),this.m_modifiedStart=Math.min(this.m_modifiedStart,r),this.m_originalCount++}AddModifiedElement(t,r){this.m_originalStart=Math.min(this.m_originalStart,t),this.m_modifiedStart=Math.min(this.m_modifiedStart,r),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}},E_=class e{static{o(this,"LcsDiff")}constructor(t,r){let[n,i]=e._getElements(t),[s,a]=e._getElements(r);this._originalStringElements=n,this._originalElementsOrHash=i,this._modifiedStringElements=s,this._modifiedElementsOrHash=a,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _getElements(t){let r=t.getElements(),n=new Int32Array(r.length);for(let i=0,s=r.length;i<s;i++)n[i]=this._stringHash(r[i],0);return[r,n]}static _numberHash(t,r){return(r<<5)-r+t|0}static _stringHash(t,r){r=this._numberHash(149417,r);for(let n=0,i=t.length;n<i;n++)r=this._numberHash(t.charCodeAt(n),r);return r}ElementsAreEqual(t,r){return this._originalElementsOrHash[t]!==this._modifiedElementsOrHash[r]?!1:this._originalStringElements[t]===this._modifiedStringElements[r]}ComputeDiff(){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1)}_ComputeDiff(t,r,n,i){return this.ComputeDiffRecursive(t,r,n,i)}ComputeDiffRecursive(t,r,n,i){for(;t<=r&&n<=i&&this.ElementsAreEqual(t,n);)t++,n++;for(;r>=t&&i>=n&&this.ElementsAreEqual(r,i);)r--,i--;if(t>r||n>i){let f;return n<=i?(jy.Assert(t===r+1,"originalStart should only be one more than originalEnd"),f=[new t6(t,0,n,i-n+1)]):t<=r?(jy.Assert(n===i+1,"modifiedStart should only be one more than modifiedEnd"),f=[new t6(t,r-t+1,n,0)]):(jy.Assert(t===r+1,"originalStart should only be one more than originalEnd"),jy.Assert(n===i+1,"modifiedStart should only be one more than modifiedEnd"),f=[]),f}let s=[0],a=[0],l=this.ComputeRecursionPoint(t,r,n,i,s,a),c=s[0],u=a[0];if(l!==null)return l;{let f=this.ComputeDiffRecursive(t,c,n,u),m=this.ComputeDiffRecursive(c+1,r,u+1,i);return this.ConcatenateChanges(f,m)}}WALKTRACE(t,r,n,i,s,a,l,c,u,f,m,h,p,A,x,E,v){let b=null,S=null,B=new Xq,P=r,F=n,q=p[0]-E[0]-i,ne=-1073741824,ce=this.m_forwardHistory.length-1;do{let Z=q+t;Z===P||Z<F&&u[Z-1]<u[Z+1]?(m=u[Z+1],A=m-q-i,m<ne&&B.MarkNextChange(),ne=m,B.AddModifiedElement(m+1,A),q=Z+1-t):(m=u[Z-1]+1,A=m-q-i,m<ne&&B.MarkNextChange(),ne=m-1,B.AddOriginalElement(m,A+1),q=Z-1-t),ce>=0&&(u=this.m_forwardHistory[ce],t=u[0],P=1,F=u.length-1)}while(--ce>=-1);b=B.getReverseChanges(),B=new Xq,P=a,F=l,q=p[0]-E[0]-c,ne=1073741824,ce=v?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{let Z=q+s;Z===P||Z<F&&f[Z-1]>=f[Z+1]?(m=f[Z+1]-1,A=m-q-c,m>ne&&B.MarkNextChange(),ne=m+1,B.AddOriginalElement(m+1,A+1),q=Z+1-s):(m=f[Z-1],A=m-q-c,m>ne&&B.MarkNextChange(),ne=m,B.AddModifiedElement(m+1,A+1),q=Z-1-s),ce>=0&&(f=this.m_reverseHistory[ce],s=f[0],P=1,F=f.length-1)}while(--ce>=-1);return S=B.getChanges(),this.ConcatenateChanges(b,S)}ComputeRecursionPoint(t,r,n,i,s,a){let l=0,c=0,u=0,f=0,m=0,h=0;t--,n--,s[0]=0,a[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];let p=r-t+(i-n),A=p+1,x=new Int32Array(A),E=new Int32Array(A),v=i-n,b=r-t,S=t-n,B=r-i,F=(b-v)%2===0;x[v]=t,E[b]=r;for(let q=1;q<=p/2+1;q++){let ne=0,ce=0;u=this.ClipDiagonalBound(v-q,q,v,A),f=this.ClipDiagonalBound(v+q,q,v,A);for(let Z=u;Z<=f;Z+=2){Z===u||Z<f&&x[Z-1]<x[Z+1]?l=x[Z+1]:l=x[Z-1]+1,c=l-(Z-v)-S;let G=l;for(;l<r&&c<i&&this.ElementsAreEqual(l+1,c+1);)l++,c++;if(x[Z]=l,l+c>ne+ce&&(ne=l,ce=c),!F&&Math.abs(Z-b)<=q-1&&l>=E[Z])return s[0]=l,a[0]=c,G<=E[Z]&&q<=1448?this.WALKTRACE(v,u,f,S,b,m,h,B,x,E,l,r,s,c,i,a,F):null}m=this.ClipDiagonalBound(b-q,q,b,A),h=this.ClipDiagonalBound(b+q,q,b,A);for(let Z=m;Z<=h;Z+=2){Z===m||Z<h&&E[Z-1]>=E[Z+1]?l=E[Z+1]-1:l=E[Z-1],c=l-(Z-b)-B;let G=l;for(;l>t&&c>n&&this.ElementsAreEqual(l,c);)l--,c--;if(E[Z]=l,F&&Math.abs(Z-v)<=q&&l<=x[Z])return s[0]=l,a[0]=c,G>=x[Z]&&q<=1448?this.WALKTRACE(v,u,f,S,b,m,h,B,x,E,l,r,s,c,i,a,F):null}if(q<=1447){let Z=new Int32Array(f-u+2);Z[0]=v-u+1,$y.Copy2(x,u,Z,1,f-u+1),this.m_forwardHistory.push(Z),Z=new Int32Array(h-m+2),Z[0]=b-m+1,$y.Copy2(E,m,Z,1,h-m+1),this.m_reverseHistory.push(Z)}}return this.WALKTRACE(v,u,f,S,b,m,h,B,x,E,l,r,s,c,i,a,F)}ConcatenateChanges(t,r){let n=[];if(t.length===0||r.length===0)return r.length>0?r:t;if(this.ChangesOverlap(t[t.length-1],r[0],n)){let i=new Array(t.length+r.length-1);return $y.Copy(t,0,i,0,t.length-1),i[t.length-1]=n[0],$y.Copy(r,1,i,t.length,r.length-1),i}else{let i=new Array(t.length+r.length);return $y.Copy(t,0,i,0,t.length),$y.Copy(r,0,i,t.length,r.length),i}}ChangesOverlap(t,r,n){if(jy.Assert(t.originalStart<=r.originalStart,"Left change is not less than or equal to right change"),jy.Assert(t.modifiedStart<=r.modifiedStart,"Left change is not less than or equal to right change"),t.originalStart+t.originalLength>=r.originalStart||t.modifiedStart+t.modifiedLength>=r.modifiedStart){let i=t.originalStart,s=t.originalLength,a=t.modifiedStart,l=t.modifiedLength;return t.originalStart+t.originalLength>=r.originalStart&&(s=r.originalStart+r.originalLength-t.originalStart),t.modifiedStart+t.modifiedLength>=r.modifiedStart&&(l=r.modifiedStart+r.modifiedLength-t.modifiedStart),n[0]=new t6(i,s,a,l),!0}else return n[0]=null,!1}ClipDiagonalBound(t,r,n,i){if(t>=0&&t<i)return t;let s=n,a=i-n-1,l=r%2===0;if(t<0){let c=s%2===0;return l===c?0:1}else{let c=a%2===0;return l===c?i-1:i-2}}};d();function TDe(e){let t=new Set;return JSON.stringify(e,(r,n)=>{if(cIe(n)||Array.isArray(n)){if(t.has(n))return"[Circular]";t.add(n)}return typeof n=="bigint"?`[BigInt ${n.toString()}]`:n})}o(TDe,"safeStringify");var Zq=!1,Vse=!0,Fvt=200,b_=class{constructor(t,r){this.ID=t;this._parserService=r;this.dependsOnSelection=!0}static{o(this,"AbstractNearbyCursorInlineEditProvider")}async provideNextEdit(t,r){let n=new X8(t),i=t.getActiveDocument(),s=v_(i);if(!s||!s.isEmpty())return Zi.noEdit({kind:"uncategorized",error:new Error("Selection is not empty")},n);let a=i.documentLinesBeforeEdit,l=i.recentEdit.apply(a),c=[];for(let b of t.documents)b.id!==i.id&&(c.push(`RELATED DOC: ${b.getDisplayPath()}`),c.push("```patch"),c.push(...Ovt(b)),c.push("```"),c.push(""));c.push(`ORIGINAL VERSION: ${i.getDisplayPath()}`),c.push("```"),c.push(...a),c.push("```"),c.push("");let u="// ...rest of the lines omitted...",f=new $n(1,Math.max(1,s.startLineNumber-1)),m=i.recentEdit.edits.length>0?i.recentEdit.edits[i.recentEdit.edits.length-1].lineRange.endLineNumberExclusive-1:0,h;if(m>0&&m>=f.endLineNumberExclusive){let b=m<l.length;c.push(`IN PROGRESS VERSION ${b?" PREFIX":""}: ${i.getDisplayPath()}`),c.push("```"),c.push(...l.slice(0,m)),b&&(c.push(u),h={editRange:new $n(f.endLineNumberExclusive,m+1),omittedMessage:u}),c.push("```"),c.push("")}c.push(`NEXT VERSION: ${i.getDisplayPath()}`),c.push("```"),c.push(...l.slice(0,f.endLineNumberExclusive-1)),c.push("");let p=l.slice(f.endLineNumberExclusive-1).join(`
`),A=await this.fetchUntilConvergence(c.join(`
`),p,r);if(r.isCancellationRequested)return Zi.noEdit({kind:"gotCancelled",message:"afterFetchCall"},n);if(A.isError())return A.err.kind==="cancel"?Zi.noEdit({kind:"gotCancelled",message:"afterFetchCall"},n):Zi.noEdit({kind:"fetchFailure",error:new Error(TDe(A.err))},n);let{result:x}=A.val;if(x.trim().length===0)return Zi.noEdit({kind:"noSuggestions"},n);let E=eW(i.languageId,l,f,void 0,x,h),v=await zse(this._parserService,E,i,{requireEditWithinNLines:5});if(v){let b=new bs([v]);return Zi.edit({edit:b},n)}else return Zi.noEdit({kind:"filteredOut",message:"uncategorized"},n)}};b_=Au([va(1,uA)],b_);var r6=class extends b_{constructor(r,n){super(r6.ID,r);this._chatMLFetcher=n}static{o(this,"MiniNearbyCursorInlineEditProvider")}static{this.ID="MiniNearbyCursorInlineEditProvider"}async fetchUntilConvergence(r,n,i){if(i.isCancellationRequested)return Aa.error({kind:"cancel"});let s=await jse(this.ID,this._chatMLFetcher,[{role:Wse.ChatRole.System,content:`
Please no talking.
You must only provide code.
Simply provide the code that follows most logically.
You don't change code if not necessary.
You see the same file multiple times, but only the last one is the final version.
`.trim()},{role:Wse.ChatRole.User,content:r}],{convergence:n},i);if(s.isError())return s;let{ignored:a,result:l,headersTime:c}=s.val;return l=l.replace(/^```[^\n]*\n/,""),Aa.ok({ignored:a,result:l,headersTime:c})}};r6=Au([va(0,uA),va(1,fA)],r6);async function jse(e,t,r,n,i){let s=new qq,a=!1,l,c=s.stream.map(x=>({choices:[{index:0,finish_reason:null,logprobs:null,text:x.delta.text}]})),u=Lvt(c,n),f=t.fetchOne(r,async(x,E,v)=>(typeof l>"u"&&(l=Date.now()),s.update(x,v),a?x.length:void 0),i);(async()=>{try{await f}finally{s.resolve()}})();let{ignored:m,result:h,shouldCancelRequest:p}=await u;typeof l>"u"&&(l=Date.now()),p&&(a=!0);let A=await f;return A.type!=="success"?Aa.error({kind:"failure",err:new Error(`Fetch failed (${A.type}, ${A.reason})`)}):Aa.ok({headersTime:l,ignored:m,result:h})}o(jse,"fetchUntilConvergence");function v_(e){let t=new Mr(0,0);return e.lastSelectionInAfterEdit&&!e.lastSelectionInAfterEdit.equals(t)?e.documentAfterEdits.getTransformer().getRange(e.lastSelectionInAfterEdit):e.recentEdit.edits.length===0?null:Nvt(e)}o(v_,"getOrDeduceSelectionFromLastEdit");function Nvt(e){let t=e.recentEdit.edits[e.recentEdit.edits.length-1],r=t.lineRange,i=e.recentEdit.getNewLineRanges()[e.recentEdit.edits.length-1].endLineNumberExclusive-1,s=t.newLines[t.newLines.length-1]??"";if(r.length===0)return new li(i,s.length+1,i,s.length+1);let a=e.documentLinesBeforeEdit[r.endLineNumberExclusive-2],l=rM(a,s),c=s.length-l+1;return new li(i,c,i,c)}o(Nvt,"deduceSelectionFromLastEdit");async function Lvt(e,t){let r=Qvt(e,t.ignoreReplyTextBefore),n=t.convergence,i=t.maxCompletionLineCount??20,s=t.convergenceNonWhitespaceCharOverlap??40,a=n.replace(/\s/g,""),l=[],c=[],u=[],f=[],m=o(h=>{let p=c[0];return{ignored:l[0]??"",result:p.substring(0,p.lastIndexOf(`
`)+1),shouldCancelRequest:!0}},"returnEarly");for await(let h of r){if(h.kind==="ignore"){l[h.index]=(l[h.index]??"")+h.text;continue}let p=h.text;if(c[h.index]=c[h.index]??"",c[h.index]+=p,f[h.index]=f[h.index]??"",f[h.index]+=p.replace(/\s/g,""),u[h.index]=u[h.index]??0,u[h.index]+=p.split(`
`).length-1,p.indexOf(`
`)===-1||h.index!==0)continue;if(u[h.index]>i)return m(`too many lines: ${u[h.index]}`);let A=c[h.index];if(n.startsWith(A))continue;let x=A.split(`
`).slice(-4,-1);if(x.length<3||n.indexOf(x.join(`
`)+`
`)<=0)continue;let v=f[h.index].substring(f[h.index].length-s);if(a.indexOf(v)>0)return m("convergence!")}return{ignored:l[0]??"",result:c[0]??"",shouldCancelRequest:!1}}o(Lvt,"fetchCompletionUntilConvergence");function Qvt(e,t){let r=[],n=[];return new g_(async i=>{for await(let s of e)for(let a of s.choices){let l=a.index,c=a.text??"";if(!t||r[l]){i.emitOne({kind:"completion",index:l,text:c});continue}n[l]=(n[l]??"")+c;let u=n[l].match(t);!u||typeof u.index>"u"||(r[l]=!0,i.emitOne({kind:"ignore",index:l,text:n[l].substring(0,u.index+u[0].length)}),i.emitOne({kind:"completion",index:a.index,text:n[l].substring(u.index+u[0].length)}),n[l]=void 0)}for(let s=0;s<n.length;s++)typeof n[s]<"u"&&i.emitOne({kind:"ignore",index:s,text:n[s]})})}o(Qvt,"getTextAfterFirstPattern");function Mvt(e,t,r){let n=t.startLineNumber,i=t.endLineNumberExclusive,s=r.slice(0);for(;n+1<i&&s.length>0;){let a=e[i-2],l=s[s.length-1];if(a!==l)break;i--,s.pop()}for(;n+1<i&&s.length>0;){let a=e[n-1],l=s[0];if(a!==l)break;n++,s.shift()}return new q1(new $n(n,i),s)}o(Mvt,"createReducedLineEdit");var n6=class{constructor(t,r,n,i){this.languageId=t;this.oldLines=r;this.oldLines=r,this.edit=Mvt(r,n,i);let s=new bs([this.edit]);this.newLines=s.apply(r)}static{o(this,"PossibleEdit")}hasEditWithinFirstLines(t){let r=this.oldLines.slice(this.edit.lineRange.startLineNumber-1,this.edit.lineRange.endLineNumberExclusive-1),n=this.edit.newLines;return s(r,n)<t;function s(a,l){for(let c=0;c<Math.min(a.length,l.length);c++)if(a[c]!==l[c])return c;return Math.min(a.length,l.length)}}resolveDiff(){let t=o((m,h,p)=>m.map(A=>{let x=h.lines.slice(A.originalStart,A.originalStart+A.originalLength),E=p.lines.slice(A.modifiedStart,A.modifiedStart+A.modifiedLength),v=x.join(`
`),b=E.join(`
`),{editDistance:S}=f(v,b);return new Gse(A.originalStart,A.originalLength,A.modifiedStart,A.modifiedLength,S)}),"computeEditDistances"),r=o(m=>{let h=0;for(let p of m)h+=p.editDistance;return{editDistance:h}},"computeDiffMetrics"),n=!1,i=new C_(this.oldLines,n),s=new C_(this.newLines,n),a=new E_(i,s),l=t(a.ComputeDiff(),i,s),c=r(l),u=[];{let m=0;for(let h of l)u=u.concat(this.oldLines.slice(m,h.originalStart)),u=u.concat(this.newLines.slice(h.modifiedStart,h.modifiedStart+h.modifiedLength)),m=h.originalStart+h.originalLength;u=u.concat(this.oldLines.slice(m))}if(Bee(this.newLines,u))return new Hse(this.languageId,this.oldLines,this.edit,this.newLines,l,c);return wDe(this.languageId,this.oldLines,u);function f(m,h){let p=new x_(m),A=new x_(h),E=new E_(p,A).ComputeDiff(),v=0,b=0;for(let F of E)v+=F.originalLength,b+=F.modifiedLength;let S=m.length,B=h.length,P=v+b;return{aChanged:v,bChanged:b,aLength:S,bLength:B,editDistance:P}}}},Gse=class{constructor(t,r,n,i,s){this.originalStart=t;this.originalLength=r;this.modifiedStart=n;this.modifiedLength=i;this.editDistance=s}static{o(this,"DiffChangeWithEditDistance")}},Hse=class{constructor(t,r,n,i,s,a){this.languageId=t;this.oldLines=r;this.edit=n;this.newLines=i;this.diff=s;this.diffMetrics=a;this.parseErrorCount="unknown"}static{o(this,"PossibleEditWithDiff")}toLineEdit(t){if(t==="single")return new bs([this.edit]);{let r=this.groupInHunks();return new bs(r.map(n=>{let i=n[0],s=n[n.length-1];return new q1(new $n(i.originalStart+1,s.originalStart+s.originalLength+1),this.newLines.slice(i.modifiedStart,s.modifiedStart+s.modifiedLength))}))}}eliminateLargeChangeHunks(){if(!Vse)return this;let t=this.groupInHunks(),r=[];for(let n of t)n.every(s=>s.originalLength===0)||n.reduce((a,l)=>a+l.editDistance,0)>Fvt&&(r=r.concat(n));if(r.length===this.diff.length)return null;if(r.length>0){let n=this._recreateNewLinesWithoutDiffs(r);return this._createPossibleEditFromLines(n)}return this}containWithinLines(t){let r=this.groupInHunks(),n=[];for(let i of r)for(let s of i){let a=s.originalStart+1,l=s.originalStart+s.originalLength+1;if(!$se(new $n(a,l),t)){n=n.concat(i);break}}if(n.length===this.diff.length)return null;if(n.length>0){let i=this._recreateNewLinesWithoutDiffs(n);return this._createPossibleEditFromLines(i).containWithinLines(t)}return this}groupInHunks(){let t=[];for(let r of this.diff){let n=t.length>0?t[t.length-1]:null;if(!n){t.push([r]);continue}let i=n[n.length-1],s=this.oldLines.slice(i.originalStart+i.originalLength,r.originalStart);if(s.length>1){t.push([r]);continue}if(s[0].trim().length>10){t.push([r]);continue}if(n.reduce((c,u)=>c+u.originalLength,0)>1){t.push([r]);continue}n.push(r)}return t}_recreateNewLinesWithoutDiffs(t){let r=[],n=0;for(let i of t)r=r.concat(this.newLines.slice(n,i.modifiedStart)),r=r.concat(this.oldLines.slice(i.originalStart,i.originalStart+i.originalLength)),n=i.modifiedStart+i.modifiedLength;return r=r.concat(this.newLines.slice(n)),r}async resolveParseErrorCountIfPossible(t,r){let n=new bs([this.edit]),i=r(n);this.parseErrorCount=await I_(t,this.languageId,i)}eliminateEmptyLineChanges(){let t=o(r=>this._createPossibleEditFromLines(r).eliminateEmptyLineChanges(),"recurseWithNewLines");for(let r of this.diff){let n=this.oldLines.slice(r.originalStart,r.originalStart+r.originalLength),i=this.newLines.slice(r.modifiedStart,r.modifiedStart+r.modifiedLength);if(r.modifiedLength===0){if(n.every(a=>a.trim().length===0)){let a=this.newLines.slice(0);return a.splice(r.modifiedStart,0,...n),t(a)}continue}if(r.originalLength===0){if(i.every(a=>a.trim().length===0)){let a=this.newLines.slice(0);return a.splice(r.modifiedStart,r.modifiedLength),t(a)}continue}for(let s=0;s<n.length&&s<i.length;s++){let a=n[s],l=i[s],c=a.trim().length===0,u=l.trim().length===0;if(!(c&&u)){if(!c&&!u)break;if(c){let f=this.newLines.slice(0);return f.splice(r.modifiedStart+s,0,a),t(f)}if(u){let f=this.newLines.slice(0);return f.splice(r.modifiedStart+s,1),t(f)}}}for(let s=1;s<=n.length&&s<=i.length;s++){let a=n[n.length-s],l=i[i.length-s],c=a.trim().length===0,u=l.trim().length===0;if(!(c&&u)){if(!c&&!u)break;if(c){let f=this.newLines.slice(0);return f.splice(r.modifiedStart+r.modifiedLength-s+1,0,a),t(f)}if(u){let f=this.newLines.slice(0);return f.splice(r.modifiedStart+r.modifiedLength-s,1),t(f)}}}}return this}eliminateInsertedOrDeletedComments(){let t=[],r=0,n=!1;for(let i of this.diff){t=t.concat(this.newLines.slice(r,i.modifiedStart));let s=this.oldLines.slice(i.originalStart,i.originalStart+i.originalLength),a=this.newLines.slice(i.modifiedStart,i.modifiedStart+i.modifiedLength),{hasChanges:l,newDiffModifiedLines:c}=this._eliminateCommentsDiff(s,a);n=n||l,t=t.concat(c),r=i.modifiedStart+i.modifiedLength}return t=t.concat(this.newLines.slice(r)),n?this._createPossibleEditFromLines(t):this}_eliminateCommentsDiff(t,r){if(r.length===0){let c=!1,u=!1;for(let f of t){if(f.trim().length===0)continue;let m=Kq(f,this.languageId);m&&m.content.trim().length===0?c=!0:u=!0}if(c&&!u)return{hasChanges:!0,newDiffModifiedLines:t}}let n=t.map(c=>Kq(c,this.languageId)),i=r.map(c=>Kq(c,this.languageId)),s=n.filter(c=>!!c).length,a=i.filter(c=>!!c).length;if(s===0&&a===0)return{hasChanges:!1,newDiffModifiedLines:r};if(s>0)return{hasChanges:!1,newDiffModifiedLines:r};let l=!1;for(let c=0;c<r.length;c++){let u=r[c],f=i[c];if(!f)continue;let{content:m}=f;r[c]=u.substring(0,m.length).trimEnd(),l=!0}return{hasChanges:l,newDiffModifiedLines:r}}_createPossibleEditFromLines(t){return wDe(this.languageId,this.oldLines,t)}};function $se(e,t){return t.startLineNumber<e.startLineNumber&&e.startLineNumber<t.endLineNumberExclusive&&e.endLineNumberExclusive<=t.endLineNumberExclusive}o($se,"editIsInsideEditWindow");function wDe(e,t,r){let i=t.length+1,s=r.slice(0);return new n6(e,t,new $n(1,i),s).resolveDiff()}o(wDe,"createPossibleEditFromLines");function eW(e,t,r,n,i,s){if(i.trim().length===0)return[];let a=e6.fromString(i.trimEnd()),l=s?a.some(E=>E.indexOf(s.omittedMessage)>=0):!1,c=[],u=o((E,v)=>{c.push(new n6(e,t,E,v))},"generateEdit");function f(){n&&u(n,a)}o(f,"generateEditCompletionRange");function m(){if(l)return;let v=new $n(r.endLineNumberExclusive,t.length+1);v.length>a.length+5||u(v,a)}o(m,"generateEditAllDoc");function h(){for(let E=1;E<a.length;E++){let b=a.slice(a.length-E).join(`
`);for(let S=r.endLineNumberExclusive-1;S<t.length;S++){let P=t.slice(S,S+E).join(`
`);b===P&&u(new $n(r.endLineNumberExclusive,S+1),a.slice(0,a.length-E))}}}o(h,"generateEditsUsingOverlappingLines");function p(){if(!s||!l)return;let E=[];for(let v of a){if(v.indexOf(s.omittedMessage)>=0){u(s.editRange,E.map(b=>b));return}E.push(v)}}if(o(p,"generateEditWhenReplyContainsOmittedMessage"),f(),p(),m(),h(),!i.endsWith(`
`)){let E=i.substring(0,i.lastIndexOf(`
`)+1);c.push(...eW(e,t,r,n,E,s))}return A(c);function A(E){return x(E,o(b=>b.edit.lineRange.startLineNumber+","+b.edit.lineRange.endLineNumberExclusive+","+b.edit.newLines.join("|"),"keyfn"))}function x(E,v){let b=new Set,S=[];for(let B of E){let P=v(B);b.has(P)||(b.add(P),S.push(B))}return S}}o(eW,"generatePossibleEdits");async function zse(e,t,r,n){let a=t.filter(m=>m.hasEditWithinFirstLines(n.requireEditWithinNLines)).map(m=>m.resolveDiff()).map(m=>m.eliminateEmptyLineChanges()),l=Zq?await I_(e,r.languageId,r.documentAfterEditsNoShortening.value):"unknown";if(Zq){let m=o(h=>{let p=r.documentAfterEditsNoShortening;return r.toEditOnDocumentAfterEditsNoShortening(h).apply(p.value)},"applyToDocumentNoShortening");await Promise.all(a.map(h=>h.resolveParseErrorCountIfPossible(e,m)))}let c=a.filter(m=>l==="unknown"?m.parseErrorCount===0:m.parseErrorCount!=="unknown"&&m.parseErrorCount<=l),u=c.length>0?c:a;u.sort((m,h)=>m.parseErrorCount===h.parseErrorCount?0:m.parseErrorCount==="unknown"?1:h.parseErrorCount==="unknown"?-1:m.parseErrorCount-h.parseErrorCount);let f=o(m=>m.diffMetrics.editDistance,"score");return u.sort((m,h)=>f(m)-f(h)),u.length>0?u[0].edit:null}o(zse,"selectBestEdit");function Ovt(e){let r=[],n=e.documentLinesBeforeEdit,i=0,s=0,a=-1,l=o((c,u)=>{c>a+1&&r.push("[...]"),u?r.push(`-${n[c]}`):r.push(`${n[c]}`),a=c},"addOldLineIndex");for(let c of e.recentEdit.edits){for(;i<c.lineRange.startLineNumber-1;)Math.min(c.lineRange.startLineNumber-i-1,s>0?i-s-2:1073741824)<=2&&l(i,!1),i++;for(;i<c.lineRange.endLineNumberExclusive-1;)l(i,!0),i++;r.push(c.newLines.map(u=>`+${u}`).join(`
`)),s=c.lineRange.endLineNumberExclusive}for(;i<n.length;)i-s+2<=2&&l(i,!1),i++;return r.push("[...]"),r}o(Ovt,"summariseDocDiff");function SDe(e){let t=[];for(let r of e.recentEdit.edits){let n=e.documentLinesBeforeEdit.slice(r.lineRange.startLineNumber-1,r.lineRange.endLineNumberExclusive-1),i=r.newLines;if(n.filter(a=>a.trim().length>0).length===0&&i.filter(a=>a.trim().length>0).length===0)continue;let s=r.lineRange.startLineNumber+e.clippingRange.startLineNumber-1;t.push(`@@ -${s},${n.length} +${s},${i.length} @@`),t.push(...n.map(a=>`-${a}`)),t.push(...i.map(a=>`+${a}`))}return t}o(SDe,"summarizeEditsAsUnifiedDiff");async function I_(e,t,r){return await e.getTreeSitterAST({languageId:t,getText:o(()=>r,"getText")})?.getParseErrorCount()??"unknown"}o(I_,"getParseErrorCount");d();var _De=tt(uI());d();var zy=class extends _De.PromptRenderer{constructor(r,n,i={validate:!0},s,a,l){let c=s.acquireTokenizer({tokenizer:l.tokenizerName}),u={modelMaxPromptTokens:l.tokenBudget};super(u,r,n,c);this.options=i;this._instantiationService=a}static{o(this,"PromptRenderer")}static create(r,n,i,s={validate:!0}){return r.invokeFunction(a=>{let l=a.get(h_);return new zy(n,i,s,l,r,a.get(fA))})}createElement(r,...n){return this._instantiationService.createInstance(r.ctor,r.props,...n)}async render(r,n,i){let s=await super.render(r,n);i={...{trace:!0},...i};for(let c=1;c<s.messages.length;c++){let u=s.messages[c],f=s.messages[c-1];u.role==="system"&&f.role==="system"&&(f.content+=`
`+u.content,s.messages.splice(c,1),c--)}let l=s.messages[s.messages.length-1];if(this.options.validate&&l&&l.role!=="user"&&l.role!=="function")throw new Error("Sorry, this message is too long. Please try a shorter question.");return{...s,references:[]}}async countTokens(r){return(await super.render(void 0,r)).tokenCount}};zy=Au([va(3,h_),va(4,sg),va(5,fA)],zy);d();var kDe=tt(uI());var tW=class extends kDe.PromptElement{static{o(this,"SafetyRules")}render(){return vscpp(vscppf,null,"Follow Microsoft content policies.",vscpp("br",null),"Avoid content that violates copyrights.",vscpp("br",null),`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,vscpp("br",null),"Keep your answers short and impersonal.",vscpp("br",null))}};d();d();var rW=class{constructor(t){this.text=t;this.lineStartOffsetByLineIdx=[],this.lineEndOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let r=0;r<t.length;r++)t.charAt(r)===`
`&&(this.lineStartOffsetByLineIdx.push(r+1),r>0&&t.charAt(r-1)==="\r"?this.lineEndOffsetByLineIdx.push(r-1):this.lineEndOffsetByLineIdx.push(r));this.lineEndOffsetByLineIdx.push(t.length)}static{o(this,"PositionOffsetTransformer")}getOffset(t){return this.lineStartOffsetByLineIdx[t.lineNumber-1]+t.column-1}getOffsetRange(t){return new Mr(this.getOffset(t.getStartPosition()),this.getOffset(t.getEndPosition()))}getPosition(t){let r=Gm(this.lineStartOffsetByLineIdx,s=>s<=t),n=r+1,i=t-this.lineStartOffsetByLineIdx[r]+1;return new oo(n,i)}getRange(t){return li.fromPositions(this.getPosition(t.start),this.getPosition(t.endExclusive))}getTextLength(t){return Yu.ofRange(this.getRange(t))}get textLength(){let t=this.lineStartOffsetByLineIdx.length-1;return new Yu(t,this.text.length-this.lineStartOffsetByLineIdx[t])}getLineLength(t){return this.lineEndOffsetByLineIdx[t-1]-this.lineStartOffsetByLineIdx[t-1]}};var Yse=class{static{o(this,"AbstractDocument")}rangeToOffsetRange(t){return new Mr(this.getOffsetAtPosition(t.start),this.getOffsetAtPosition(t.end))}offsetRangeToRange(t){return new ou(this.getPositionAtOffset(t.start),this.getPositionAtOffset(t.endExclusive))}},uh=class extends Yse{constructor(r){super();this.value=r;this._transformer=new rW(this.value)}static{o(this,"StringTextDocument")}getText(){return this.value}getLineText(r){let n=this._transformer.getOffset(new oo(r+1,1)),i=n+this.getLineLength(r);return this.value.substring(n,i)}getLineLength(r){return this._transformer.getLineLength(r+1)}getLineCount(){return this._transformer.textLength.lineCount+1}getTextInOffsetRange(r){return r.substring(this.value)}getPositionAtOffset(r){return Uvt(this._transformer.getPosition(r))}getOffsetAtPosition(r){return r=this._validatePosition(r),this._transformer.getOffset(qvt(r))}_validatePosition(r){if(r.line<0)return new mo(0,0);let n=this._transformer.textLength.lineCount+1;if(r.line>=n){let s=this._transformer.getLineLength(n);return new mo(n-1,s)}if(r.character<0)return new mo(r.line,0);let i=this._transformer.getLineLength(r.line+1);return r.character>i?new mo(r.line,i):r}};function Uvt(e){return new mo(e.lineNumber-1,e.column-1)}o(Uvt,"corePositionToVSCodePosition");function qvt(e){return new oo(e.line+1,e.character+1)}o(qvt,"vsCodePositionToCorePosition");d();d();function BDe(e){if(e.length===0)return 1/0;let t=e[0];for(let r=1;r<e.length;r++)t=Math.min(t,e[r]);return t}o(BDe,"min");d();function Kse(e,t){let r=t(e);return{...r,range:[r.range.start,r.range.endExclusive],children:r.children?.map(n=>Kse(n,t))}}o(Kse,"toAstNode");function RDe(e,t){let r=dI(t,a=>a.endExclusive>=e.start),n=Gm(t,a=>a.start<=e.endExclusive)+1;if(r===n)return[e];let i=[],s=e.start;for(let a=r;a<n;a++){let l=t[a];l.start>s&&i.push(new Mr(s,l.start)),s=l.endExclusive}return s<e.endExclusive&&i.push(new Mr(s,e.endExclusive)),i}o(RDe,"subtractRange");d();d();d();var nW=class{static{o(this,"PrefixSumComputer")}constructor(t){this.values=t,this.prefixSum=new Uint32Array(t.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}getCount(){return this.values.length}insertValues(t,r){t=S4(t);let n=this.values,i=this.prefixSum,s=r.length;return s===0?!1:(this.values=new Uint32Array(n.length+s),this.values.set(n.subarray(0,t),0),this.values.set(n.subarray(t),t+s),this.values.set(r,t),t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(t,r){return t=S4(t),r=S4(r),this.values[t]===r?!1:(this.values[t]=r,t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),!0)}removeValues(t,r){t=S4(t),r=S4(r);let n=this.values,i=this.prefixSum;if(t>=n.length)return!1;let s=n.length-t;return r>=s&&(r=s),r===0?!1:(this.values=new Uint32Array(n.length-r),this.values.set(n.subarray(0,t),0),this.values.set(n.subarray(t+r),t),this.prefixSum=new Uint32Array(this.values.length),t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(t){return t<0?0:(t=S4(t),this._getPrefixSum(t))}_getPrefixSum(t){if(t<=this.prefixSumValidIndex[0])return this.prefixSum[t];let r=this.prefixSumValidIndex[0]+1;r===0&&(this.prefixSum[0]=this.values[0],r++),t>=this.values.length&&(t=this.values.length-1);for(let n=r;n<=t;n++)this.prefixSum[n]=this.prefixSum[n-1]+this.values[n];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],t),this.prefixSum[t]}getIndexOf(t){t=Math.floor(t),this.getTotalSum();let r=0,n=this.values.length-1,i=0,s=0,a=0;for(;r<=n;)if(i=r+(n-r)/2|0,s=this.prefixSum[i],a=s-this.values[i],t<a)n=i-1;else if(t>=s)r=i+1;else break;return new Jse(i,t-a)}};var Jse=class{constructor(t,r){this.index=t;this.remainder=r;this._prefixSumIndexOfResultBrand=void 0;this.index=t,this.remainder=r}static{o(this,"PrefixSumIndexOfResult")}};var T_=class{static{o(this,"PositionOffsetTransformer")}constructor(t){this._lines=ey(t),this._eol=t.charAt(this._lines[0].length)==="\r"?`\r
`:`
`;let r=new Uint32Array(this._lines.length);for(let n=0;n<this._lines.length;n++)r[n]=this._lines[n].length+this._eol.length;this._lineStarts=new nW(r)}_getText(){return this._lines.join(this._eol)}applyOffsetEdits(t){let{edits:r}=t;for(let n=r.length-1;n>=0;n--){let i=r[n],s=this.toRange(i.replaceRange);this._acceptDeleteRange(s),this._acceptInsertText(s.start,i.newText)}}_acceptDeleteRange(t){if(t.start.line===t.end.line){if(t.start.character===t.end.character)return;this._setLineText(t.start.line,this._lines[t.start.line].substring(0,t.start.character)+this._lines[t.start.line].substring(t.end.character));return}this._setLineText(t.start.line,this._lines[t.start.line].substring(0,t.start.character)+this._lines[t.end.line].substring(t.end.character)),this._lines.splice(t.start.line+1,t.end.line-t.start.line),this._lineStarts.removeValues(t.start.line+1,t.end.line-t.start.line)}_acceptInsertText(t,r){if(r.length===0)return;let n=ey(r);if(n.length===1){this._setLineText(t.line,this._lines[t.line].substring(0,t.character)+n[0]+this._lines[t.line].substring(t.character));return}n[n.length-1]+=this._lines[t.line].substring(t.character),this._setLineText(t.line,this._lines[t.line].substring(0,t.character)+n[0]);let i=new Uint32Array(n.length-1);for(let s=1;s<n.length;s++)this._lines.splice(t.line+1+s-1,0,n[s]),i[s-1]=n[s].length+this._eol.length;this._lineStarts.insertValues(t.line+1,i)}_setLineText(t,r){this._lines[t]=r,this._lineStarts.setValue(t,this._lines[t].length+this._eol.length)}getLineCount(){return this._lines.length}getOffset(t){return t=this.validatePosition(t),this._lineStarts.getPrefixSum(t.line-1)+t.character}getPosition(t){t=Math.floor(t),t=Math.max(0,t);let r=this._lineStarts.getIndexOf(t),n=this._lines[r.index].length;return new mo(r.index,Math.min(r.remainder,n))}toRange(t){return new ou(this.getPosition(t.start),this.getPosition(t.endExclusive))}toOffsetRange(t){return new Mr(this.getOffset(t.start),this.getOffset(t.end))}toOffsetEdit(t){let r=t.map(n=>new K8(this.validateRange(n.range),n.newText));return new gd(r.map(n=>new Na(this.toOffsetRange(n.range),n.newText)))}toTextEdits(t){return t.edits.map(r=>new K8(this.toRange(r.replaceRange),r.newText))}validatePosition(t){if(!(t instanceof mo))throw new Error("Invalid argument");if(this._lines.length===0)return t.with(0,0);let{line:r,character:n}=t,i=!1;if(r<0)r=0,n=0,i=!0;else if(r>=this._lines.length)r=this._lines.length-1,n=this._lines[r].length,i=!0;else{let s=this._lines[r].length;n<0?(n=0,i=!0):n>s&&(n=s,i=!0)}return i?new mo(r,n):t}validateRange(t){return new ou(this.validatePosition(t.start),this.validatePosition(t.end))}};var iW=class{constructor(t,r){this.originalText=t;this.edits=r;this._positionOffsetTransformer=new Dp(()=>new T_(this.text));this._originalPositionOffsetTransformer=new Dp(()=>new T_(this.originalText));this._text=new Dp(()=>this.edits.apply(this.originalText))}static{o(this,"ProjectedText")}get positionOffsetTransformer(){return this._positionOffsetTransformer.value}get originalPositionOffsetTransformer(){return this._originalPositionOffsetTransformer.value}get text(){return this._text.value}get lineCount(){return this.positionOffsetTransformer.getLineCount()}get isOriginal(){return this.edits.isEmpty||this.edits.isNoop(this.originalText)}project(t){return this.edits.applyToOffset(t)}projectOffsetRange(t){return this.edits.applyToOffsetRange(t)}projectRange(t){let r=this.originalPositionOffsetTransformer.toOffsetRange(t),n=this.projectOffsetRange(r);return this.positionOffsetTransformer.toRange(n)}projectOffsetEdit(t){return t.tryRebase(this.edits)}projectBack(t){return this.edits.applyInverseToOffset(t)}projectBackOffsetEdit(t){return t.tryRebase(this.edits.inverse(this.originalText))}projectBackTextEdit(t){let r=this.positionOffsetTransformer.toOffsetEdit(t),n=this.projectBackOffsetEdit(r);return this.originalPositionOffsetTransformer.toTextEdits(n)}};var Xse=class{constructor(t,r,n,i,s){this.parent=t;this.overlayNode=r;this.range=n;this.children=i;this._document=s}static{o(this,"RemovableNode")}get kind(){return this.overlayNode.kind}get text(){return this._document.getTextInOffsetRange(this.range)}},yx=class extends iW{constructor(r,n){super(r.getText(),n);this.baseDocument=r}static{o(this,"ProjectedDocument")}getLanguageId(){return this.baseDocument.languageId}};function sW(e,t,r){let n=[],i=[],s=[];for(let l=0;l<r.length;l++){let{document:c,overlayNodeRoot:u,selection:f}=r[l],m=c.getText(),h=f?c.rangeToOffsetRange(f):void 0,p=DDe(u,c),A=Zse.fromRootNode(p,m),x=eae.fromNode(A,!!t.tryPreserveTypeChecking,!!t.alwaysUseEllipsisForElisions);h&&x.visitAll(q=>q.node.range.intersectsOrTouches(h)?(q.node.children.length===0&&q.markAsSurviving(),!0):!1),n.push(x),i.push(x.getTextFragment());let E=o(q=>h?q.range.endExclusive<h.start?h.start-q.range.endExclusive:q.range.start>h.endExclusive?3*(q.range.start-h.endExclusive):0:0,"distanceScoreToSelection"),v=new Q1(q=>h?q.children.length===0?q.range.intersectsOrTouches(h)?0:Number.MAX_SAFE_INTEGER:BDe(q.children.map(ne=>v.get(ne)))+1:0),b=new Q1(q=>{let ne=q.parent?b.get(q.parent):Number.MAX_SAFE_INTEGER,ce=v.get(q);return Math.min(ne,ce)}),S=!!t.tryPreserveTypeChecking,B=o(q=>S&&q.node?.kind==="import_statement"?0:100*b.get(q)+q.depth+10*(E(q)/m.length),"costFn"),P=typeof t.costFnOverride=="object"?t.costFnOverride.createCostFn(c):t.costFnOverride;if(P!==void 0){let q=B;B=o(ne=>{let ce=q(ne);return ce===!1?!1:ne.node?P(ne.node,ce,c):ce},"costFn")}let F=x.getDescendantsAndSelf();for(let q of F){if(!q.node.node)continue;let ne=B(q.node);ne!==!1&&s.push({idx:l,node:q,cost:ne})}}s.sort(K5(l=>l.cost,J5));for(let{node:l,idx:c}of s){if(l.markAsSurviving(),n.reduce((f,m)=>f+m.getTextFragment().length,0)>e)break;i[c]=n[c].getTextFragment()}let a=[];for(let l=0;l<i.length;l++){let c=i[l],{document:u}=r[l],f=new yx(u,c.toTextEditFromOriginal(u.getText().length)),m=f,h=n[l];m.getVisualization=()=>({$fileExtension:"ast.w",source:{value:f.originalText,decorations:RDe(Mr.ofLength(f.originalText.length),f.edits.edits.map(p=>p.replaceRange)).map(p=>({range:[p.start,p.endExclusive],color:"lime"}))},root:Kse(h,p=>({label:(p.node.node?.kind||"unknown")+` (${s.find(A=>A.node===p)?.cost})`,range:p.node.range,children:p.childNodes,isMarked:p._surviving}))}),a.push(f)}return a}o(sW,"summarizeDocumentsSyncImpl");function DDe(e,t,r=void 0){let n=new Mr(e.startIndex,e.endIndex),i=[],s=new Xse(r,e,n,i,t);for(let a of e.children)i.push(DDe(a,t,s));return s}o(DDe,"createRemovableNodeFromOverlayNode");var Zse=class e{constructor(t,r,n,i,s,a){this.node=t;this.range=r;this.children=n;this.depth=i;this.parent=s;this.document=a}static{o(this,"TextNode")}static fromRootNode(t,r){let n=new Mr(0,r.length);if(t.range.equals(n))return e.fromNode(t,r);let i=new Mr(0,t.range.start),s=new Mr(t.range.endExclusive,r.length),a=[],l=new e(void 0,n,a,0,null,r);return i.isEmpty||a.push(new e(void 0,i,[],0,l,r)),a.push(e.fromNode(t,r,1,null)),s.isEmpty||a.push(new e(void 0,s,[],0,l,r)),l}static fromNode(t,r,n=0,i=null){let s=[],a=new e(t,t.range,s,n,i,r);if(t.children.length>0){let l=t.range.start;for(let u of t.children){let f=new Mr(l,u.range.start);f.isEmpty||s.push(new e(void 0,f,[],n,a,r)),s.push(e.fromNode(u,r,n+1,a)),l=u.range.endExclusive}let c=new Mr(l,t.range.endExclusive);c.isEmpty||s.push(new e(void 0,c,[],n,a,r))}return a}},eae=class e{constructor(t,r,n,i,s){this.node=t;this.parent=r;this.childNodes=n;this._tryPreserveTypeChecking=i;this._alwaysUseEllipsisForElisions=s;this._surviving=!1;this._textFragment=null}static{o(this,"SurvivingTextNode")}static fromNode(t,r,n){return e.fromNodeParent(t,null,r,n)}static fromNodeParent(t,r,n,i){let s=[],a=new e(t,r,s,n,i);for(let l of t.children){let c=e.fromNodeParent(l,a,n,i);s.push(c)}return a}visitAll(t){if(t(this))for(let r of this.childNodes)r.visitAll(t)}markAsSurviving(){this._surviving||(this._surviving=!0,this.parent&&this.parent.markAsSurviving(),this.invalidate())}invalidate(){this._textFragment&&(this._textFragment=null,this.parent&&this.parent.invalidate())}getTextFragment(){return this._textFragment||(this._textFragment=this._computeSummarization()),this._textFragment}_computeSummarization(){if(this.childNodes.length===0&&(this._surviving||!this.node.node))return new dA(this.node.range,this.node.document);if(!this._surviving)return new Ax("");let t=[];for(let r of this.childNodes){let n=r.getTextFragment();if(n.length===0){t.length>0&&t[t.length-1].length===0||t.push(n);continue}Wvt(t,n)}for(let r=0;r<=t.length-3;r++){let n=t[r],i=t[r+1],s=t[r+2];if(i.length===0&&n instanceof dA&&s instanceof dA){let a=n.trimEnd(),l=s.trimStart();a.endsWith("{")&&l.startsWith("}")&&(t[r]=a,t[r+1]=new Ax(this._tryPreserveTypeChecking?"/* ... */":"\u2026"),t[r+2]=l)}if(this._alwaysUseEllipsisForElisions&&i.length===0&&!(i instanceof dA)){let a=t[r].text,c=a.substring(a.lastIndexOf(`
`)+1).trim()===""?"":`
`,u=t[r+2].text,m=u.substring(0,u.indexOf(`
`)).trim()===""?"":`
`;t[r+1]=new Ax(c+(this._tryPreserveTypeChecking?"/* ... */":"\u2026")+m)}}return oW.from(t)}getDescendantsAndSelf(){let t=[];return this._getDescendantsAndSelf(t),t}_getDescendantsAndSelf(t){t.push(this);for(let r of this.childNodes)r._getDescendantsAndSelf(t)}},w_=class{static{o(this,"TextFragment")}toString(){return this.text}toTextEditFromOriginal(t){let r=[],n=0,i="";function s(l){(n!==l||i.length>0)&&(r.push(new Na(new Mr(n,l),i)),i="")}o(s,"emit");function a(l){if(l instanceof oW)for(let c of l.fragments)a(c);else l instanceof Ax?i+=l.text:l instanceof dA&&(s(l.range.start),n=l.range.endExclusive)}return o(a,"process"),a(this),s(t),new gd(r)}},Ax=class extends w_{constructor(r){super();this.text=r}static{o(this,"LiteralTextFragment")}get length(){return this.text.length}},dA=class e extends w_{constructor(r,n){super();this.range=r;this.originalText=n}static{o(this,"OriginalTextFragment")}get length(){return this.range.length}get text(){return this.range.substring(this.originalText)}trimStart(){let r=this.text.trimStart();return r.length===this.length?this:new e(new Mr(this.range.endExclusive-r.length,this.range.endExclusive),this.originalText)}trimEnd(){let r=this.text.trimEnd();return r.length===this.length?this:new e(new Mr(this.range.start,this.range.start+r.length),this.originalText)}startsWith(r){return this.text.startsWith(r)}endsWith(r){return this.text.endsWith(r)}tryJoin(r){return this.range.endExclusive===r.range.start?new e(new Mr(this.range.start,r.range.endExclusive),this.originalText):null}},oW=class e extends w_{constructor(r){super();this.fragments=r;this.length=this.fragments.reduce((r,n)=>r+n.length,0)}static{o(this,"ConcatenatedTextFragment")}static from(r){return r.length===0?new Ax(""):r.length===1?r[0]:new e(r)}get text(){return this.fragments.map(r=>r.text).join("")}};function Wvt(e,t){if(t.length===0)return;let r=e[e.length-1];if(r&&r instanceof dA&&t instanceof dA){let n=r.tryJoin(t);if(n){e[e.length-1]=n;return}}e.push(t)}o(Wvt,"pushFragment");d();d();var aW=class{constructor(t,r,n,i){this.startIndex=t;this.endIndex=r;this.kind=n;this.children=i;if(t>r)throw new pi("startIndex must be less than endIndex");let s=t;for(let a of i){if(a.startIndex<s)throw new pi("Invalid child startIndex");if(a.endIndex>r)throw new pi("Invalid child endIndex");s=Math.max(a.endIndex,s)}}static{o(this,"OverlayNode")}toString(){let t=[];function r(n,i=""){t.push(`${i}${n.kind} [${n.startIndex}, ${n.endIndex}]`),n.children.forEach(s=>r(s,i+"    "))}return o(r,"toString"),r(this),t.join(`
`)}};function FDe(e,t,r){let n=e.getText().split(/\r\n|\r|\n/g),i=r||{tabSize:4},s={getLineCount:o(()=>n.length,"getLineCount"),getLineContent:o(a=>n[a-1],"getLineContent"),getOptions:o(()=>i,"getOptions")};try{let a=Gvt(s,t),[l]=NDe(e,a,void 0);return l.adjust(e,LDe(t)),l.toOverlayNode(e,!0)}catch{return new lW(1,e.getLineCount(),[]).toOverlayNode(e,!0)}}o(FDe,"getStructureUsingIndentation");function NDe(e,t,r){if(typeof r<"u"&&r>=t.length)throw new Error(`Invalid region index ${r}`);let n=typeof r>"u"?1:t.getStartLineNumber(r),i=typeof r>"u"?e.getLineCount():t.getEndLineNumber(r),s=[],a=null;for(r=typeof r>"u"?0:r+1;r<t.length;){let l=t.getStartLineNumber(r),c=t.getEndLineNumber(r);if(l>i||c>i)break;let u=a;if([a,r]=NDe(e,t,r),u&&a.startLineNumber<=u.endLineNumber)throw new pi("Invalid Folding Ranges: overlapping children");if(a.startLineNumber<n)throw new pi("Invalid Folding Ranges: child starts before parent");s.push(a)}return[new lW(n,i,s),r]}o(NDe,"createFoldingRangeTree");var lW=class{constructor(t,r,n){this.startLineNumber=t;this.endLineNumber=r;this.children=n;if(t>r)throw new pi("Invalid Folding Ranges: startLineNumber > endLineNumber")}static{o(this,"FoldingRangeNode")}adjust(t,r){r?this._adjustOffside():this._adjustRegular(t,t.getLineCount())}_adjustOffside(){this.startLineNumber++;for(let t of this.children)t._adjustOffside()}_adjustRegular(t,r){if(this.endLineNumber<r){let n=t.getLineText(this.endLineNumber).trim(),i=/^[\}\]\)];?$/.test(n),s=/^<\/\w/.test(n);(i||s)&&this.endLineNumber++}for(let n=this.children.length-1;n>=0;n--){let i=this.children[n],s=n+1<this.children.length?this.children[n+1].startLineNumber-1:r;i._adjustRegular(t,s)}}toOverlayNode(t,r){let n=[],i=r&&this.startLineNumber===1?1:this.startLineNumber+1;for(let s of this.children){for(let a=i;a<s.startLineNumber;a++){let l=tae(t,a,a,"LINE",[]);l&&n.push(l)}n.push(s.toOverlayNode(t,!1)),i=s.endLineNumber+1}for(let s=i;s<this.endLineNumber;s++){let a=tae(t,s,s,"LINE",[]);a&&n.push(a)}return tae(t,this.startLineNumber,this.endLineNumber,"FOLD",n)}};function tae(e,t,r,n,i){let s=e.getOffsetAtPosition(new mo(t-1,0)),a=r<e.getLineCount()?new mo(r,0):new mo(r-1,e.getLineLength(r-1)),l=e.getOffsetAtPosition(a);return new aW(s,l,n,i)}o(tae,"createOverlayNode");function Gvt(e,t){return Hvt(e,LDe(t))}o(Gvt,"generateFoldingRegions");function LDe(e){return["clojure","coffeescript","fsharp","latex","markdown","pug","python","sql","yaml"].includes(e)}o(LDe,"isOffSide");function Hvt(e,t){let r=e.getOptions().tabSize,n=new rae,i=[],s=e.getLineCount()+1;i.push({indent:-1,endAbove:s,line:s});for(let a=e.getLineCount();a>0;a--){let l=e.getLineContent(a),c=jvt(l,r),u=i[i.length-1];if(c===-1){t&&(u.endAbove=a);continue}if(u.indent>c){do i.pop(),u=i[i.length-1];while(u.indent>c);let f=u.endAbove-1;f-a>=1&&n.insertFirst(a,f,c)}u.indent===c?u.endAbove=a:i.push({indent:c,endAbove:a,line:a})}return n.toIndentRanges()}o(Hvt,"_computeRanges");var Vvt=65535,Cx=16777215,PDe=4278190080,rae=class{static{o(this,"RangesCollector")}constructor(){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0}insertFirst(t,r,n){if(t>Cx||r>Cx)return;let i=this._length;this._startIndexes[i]=t,this._endIndexes[i]=r,this._length++,n<1e3&&(this._indentOccurrences[n]=(this._indentOccurrences[n]||0)+1)}toIndentRanges(){let t=new Uint32Array(this._length),r=new Uint32Array(this._length);for(let n=this._length-1,i=0;n>=0;n--,i++)t[i]=this._startIndexes[n],r[i]=this._endIndexes[n];return new nae(t,r)}};function jvt(e,t){let r=0,n=0,i=e.length;for(;n<i;){let s=e.charCodeAt(n);if(s===32)r++;else if(s===9)r=r-r%t+t;else break;n++}return n===i?-1:r}o(jvt,"computeIndentLevel");var nae=class{static{o(this,"FoldingRegions")}constructor(t,r){this._startIndexes=t,this._endIndexes=r,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let t=[],r=o((n,i)=>{let s=t[t.length-1];return this.getStartLineNumber(s)<=n&&this.getEndLineNumber(s)>=i},"isInsideLast");for(let n=0,i=this._startIndexes.length;n<i;n++){let s=this._startIndexes[n],a=this._endIndexes[n];if(s>Cx||a>Cx)throw new Error("startLineNumber or endLineNumber must not exceed "+Cx);for(;t.length>0&&!r(s,a);)t.pop();let l=t.length>0?t[t.length-1]:-1;t.push(n),this._startIndexes[n]=s+((l&255)<<24),this._endIndexes[n]=a+((l&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(t){return this._startIndexes[t]&Cx}getEndLineNumber(t){return this._endIndexes[t]&Cx}getParentIndex(t){this.ensureParentIndices();let r=((this._startIndexes[t]&PDe)>>>24)+((this._endIndexes[t]&PDe)>>>16);return r===Vvt?-1:r}contains(t,r){return this.getStartLineNumber(t)<=r&&this.getEndLineNumber(t)>=r}findIndex(t){let r=0,n=this._startIndexes.length;if(n===0)return-1;for(;r<n;){let i=Math.floor((r+n)/2);t<this.getStartLineNumber(i)?n=i:r=i+1}return r-1}findRange(t){let r=this.findIndex(t);if(r>=0){if(this.getEndLineNumber(r)>=t)return r;for(r=this.getParentIndex(r);r!==-1;){if(this.contains(r,t))return r;r=this.getParentIndex(r)}}return-1}};d();function iae(e){return e instanceof Error?e:typeof e=="string"?new Error(e):new Error(`An unexpected error occurred: ${e}`)}o(iae,"fromUnknown");var Za=tt(uI());var cW="current-version",ff="next-version",QDe=2,MDe=10,ODe=.7,Yvt=/```[^\n]*\n/,Yy=class extends $q{constructor(r,n,i){super(Yy.ID,[s=>new Jq(s),s=>new zq(s),s=>new Yq(s)]);this.fetcher=r;this._parserService=n;this._instantiationService=i;this.dependsOnSelection=!0;this.showNextEditPreference="always";this._delayer=new Hq}static{o(this,"GhNearbyNesProvider")}static{this.ID="GhNearbyNesProvider"}canReuseResult(r,n){if(r.getActiveDocument().id!==n.getActiveDocument().id||r.documents.length!==n.documents.length)return!1;let i=new Map(r.documents.map(a=>[a.id,a]));for(let a of n.documents){let l=i.get(a.id);if(!l||!s(l,a))return!1}return!0;function s(a,l){if(a.documentAfterEditsNoShortening.value!==l.documentAfterEditsNoShortening.value)return!1;let c=v_(a),u=c?oae(a,c):null,f=v_(l),m=f?oae(l,f):null;return!u||!m?!0:Math.abs(u.line-m.line)<Math.min(QDe,MDe)}}handleAcceptance(){this._delayer.handleAcceptance()}handleRejection(){this._delayer.handleRejection()}async provideNextEditBase(r,n){let i=new X8(r),s=this._delayer.createDelaySession(),a;try{a=await this.doGetNextEdit(r,i,s,n)}catch(c){return Zi.noEdit({kind:"unexpected",error:iae(c)},i)}let l=s.getArtificalDelay();return l>0&&await gx(l),a}async doGetNextEdit(r,n,i,s){return r.documents.some(c=>{if(c.recentEdit.edits.length===0)return!1;for(let u of c.recentEdit.edits)if(!u.lineRange.isEmpty||u.newLines.length>0)return!0;return!1})?await this.sendRequestAndProcessResult(r,i,s,n):Zi.noEdit({kind:"activeDocumentHasNoEdits"},n)}async sendRequestAndProcessResult(r,n,i,s){let a=await this.createPrompt(r,i);if(!a)return Zi.noEdit({kind:"noSuggestions"},s);if(!a.editWindowIsInPrompt)return Zi.noEdit({kind:"filteredOut",message:"promptTooLarge"},s);if(await this.debounce(n,s),i.isCancellationRequested){let B={kind:"gotCancelled",message:"afterDebounce"};return Zi.noEdit(B,s)}let{summarizedEditWindow:l,editWindowAllowedEditLineRange:c,allowedEditLineRange:u,maxCompletionLineCount:f,messages:m,completionPrefixRange:h,completionRange:p,convergence:A,activeDocument:x,activeDocumentLines:E}=a;s.setFetchStartedAt(),r.fetchIssued=!0;let v=await jse(this.ID,this.fetcher,m,{convergence:A,ignoreReplyTextBefore:Yvt,maxCompletionLineCount:f,convergenceNonWhitespaceCharOverlap:1e3},i);if(s.setFetchResultIfNotSet(v.isOk()?"success":v.err.kind==="cancel"||i.isCancellationRequested?"cancelled":"failure"),i.isCancellationRequested)return Zi.noEdit({kind:"gotCancelled",message:"afterFetchCall"},s);if(v.isError())return v.err.kind==="cancel"?Zi.noEdit({kind:"gotCancelled",message:"afterFetchCall"},s):Zi.noEdit({kind:"fetchFailure",error:iae(v.err.err)},s);let{result:b}=v.val;if(b.length===0){let B=`<${ff}>
`,P=v.val.ignored.indexOf(B);P>=0&&(b=v.val.ignored.substring(P+B.length))}if(b=Kvt(b),b.trim().length===0)return Zi.noEdit({kind:"noSuggestions"},s);let S;if(l&&c&&u){let B=Jvt(x,l,c,b);if(!B||B.edits.length===0)return Zi.noEdit({kind:"filteredOut",message:"Content is identical or cannot get clean diff within edit window"},s);let P=Xvt(l,B);if(P.edits.length===0)return Zi.noEdit({kind:"filteredOut",message:"No-op edit or could not map back to original document"},s);if(Zq){let ne=await I_(this._parserService,x.languageId,x.documentAfterEditsNoShortening.value),ce=P.apply(x.documentAfterEditsNoShortening.value);if(await I_(this._parserService,x.languageId,ce)>ne)return Zi.noEdit({kind:"filteredOut",message:"More parse errors after edit"},s)}S=Zvt(x,P);let F=S.edits[0].lineRange.startLineNumber,q=S.edits[S.edits.length-1].lineRange.endLineNumberExclusive;if(!$se(new $n(F,q),u))return Zi.noEdit({kind:"filteredOut",message:"Outside edit window after projection"},s)}else{let B=eW(x.languageId,E,h,p,b,void 0),P=await zse(this._parserService,B,x,{requireEditWithinNLines:100});if(!P)return Zi.noEdit({kind:"filteredOut",message:"Could not identify best edit"},s);S=new bs([P])}return eIt(x,S)?Zi.noEdit({kind:"filteredOut",message:"Undo of recent edit"},s):tIt(x,S)?Zi.noEdit({kind:"filteredOut",message:"Deletion of recent insertion"},s):rIt(x,S)?Zi.noEdit({kind:"filteredOut",message:"uncategorized"},s):nIt(x,S)?Zi.noEdit({kind:"filteredOut",message:"uncategorized"},s):Zi.edit({edit:S},s)}async debounce(r,n){let i=r.getDebounceTime();n.setDebounceTime(i),await gx(i)}async createPrompt(r,n){let i=r.getActiveDocument(),a=i.documentAfterEdits.value.includes(`\r
`)?`\r
`:`
`,l=i.documentAfterEdits.value.split(a),c=v_(i);if(c===null)return;let u=oae(i,c),f=new uh(i.documentAfterEditsNoShortening.value),m=await sIt(this._parserService,{getText:o(()=>f.getText(),"getText"),languageId:i.languageId}),{firstEditableLineInShortenedDocument:h,lastEditableLineInShortenedDocument:p,editWindow:A}=function(){let ce=iIt(i.documentAfterEditsLines,c.startLineNumber),Z=Math.max(1,Math.min(ce,c.startLineNumber-QDe)),G=c.startLineNumber-Z,U=Math.min(l.length,c.endLineNumber+MDe),ie=U-c.endLineNumber,J=u.line-G,H=u.line+ie,M=new ou(J,0,H,f.getLineLength(H));return{firstEditableLineInShortenedDocument:Z,lastEditableLineInShortenedDocument:U,editWindow:M}}(),x=sW(0,{alwaysUseEllipsisForElisions:!0},[{overlayNodeRoot:m,document:f,selection:A}])[0],E=new $n(1,h),v=new $n(h,p+1),b=x.text,{messages:S,prediction:B,editWindowIsInPrompt:P}=await this._renderPrompt({request:r,activeDocumentSlice:b,languageId:i.languageId},n),F=b.split(/\r\n|\r|\n/).length,q=x.projectRange(A),ne=x.positionOffsetTransformer.toOffsetRange(q);return{summarizedEditWindow:x,editWindowAllowedEditLineRange:new $n(q.start.line+1,q.end.line+2),allowedEditLineRange:new $n(h,p+1),messages:S,prediction:B,editWindowIsInPrompt:P,activeDocument:i,activeDocumentLines:l,completionPrefixRange:E,completionRange:v,convergence:b,expectedConvergencePrefix:ne.start,maxCompletionLineCount:F+20}}async _renderPrompt(r,n){let s=await zy.create(this._instantiationService,aae,r).render(void 0,n,{trace:!1}),a=s.metadata.get(hW)?.prediction,l=!!s.metadata.get(fW);return{messages:s.messages,prediction:a,editWindowIsInPrompt:l}}};Yy=Au([va(0,fA),va(1,uA),va(2,sg)],Yy);function Kvt(e){function t(r,n,i){let s=r.lastIndexOf(n);if(s===-1)return r;let a=r.slice(0,s);return a.trim().length>0?a+i:a}return o(t,"getStringBeforeLastPattern"),e=t(e,"\n```",`
`),e=t(e,`\`\`\`</${ff}>`,`
`),e=t(e,`\`\`\`
</${ff}>`,`
`),e=t(e,`</${ff}>`,`
`),e}o(Kvt,"removeSuffixFromReply");function oae(e,t){let r=e.documentAfterEdits.getTransformer().getOffset(t.getEndPosition()),n=e.toOffsetOnDocumentAfterEditsNoShortening(r);return new uh(e.documentAfterEditsNoShortening.value).getPositionAtOffset(n)}o(oae,"getCursorPositionInOuterDocument");function Jvt(e,t,r,n){let i=e6.fromString(t.text),s=e6.fromString(n.trimEnd()),l=new n6(e.languageId,i,new $n(1,i.length+1),s).resolveDiff().eliminateEmptyLineChanges().eliminateInsertedOrDeletedComments().eliminateEmptyLineChanges(),c=t.isOriginal?l:l.containWithinLines(r);if(!c)return null;let u=Vse?c.eliminateLargeChangeHunks():c;return u?u.toLineEdit("multiple-hunks"):null}o(Jvt,"generateSummarizedEditWindowEdit");function Xvt(e,t){let r=t.toEdit(new Al(e.text));return e.projectBackOffsetEdit(r.toOffsetEdit())}o(Xvt,"convertSummarizedEditWindowEditToOuterDocumentEdit");function Zvt(e,t){let r=t.edits.map(i=>{let s=i.replaceRange.start,a=e.toProjectedOffset(s);return Es.replace(new Mr(a,a+i.replaceRange.length),i.newText)}),n=new Ku(e.documentAfterEdits,ns.create(r));return bs.fromEdit(n)}o(Zvt,"convertOuterDocumentEditToProjectedEdit");function eIt(e,t){let r=t.toEdit(e.documentAfterEdits),n=UDe(e.documentAfterEdits.value,r),i=new uW,s=e.documentBeforeEdits.value;for(let a of e.recentEdits.edits)i=i.combine(UDe(s,a)),s=a.apply(s);return!!i.isUndoneBy(n)}o(eIt,"editWouldUndo");function tIt(e,t){let r=t.toEdit(e.documentAfterEdits);if(r=r.normalizeOnSource(e.documentAfterEdits.value),!HDe(r))return!1;for(let n=e.recentEdits.edits.length-1;n>=0;n--){let i=e.recentEdits.edits[n],s=r.tryRebase(i);if(!s)return!0;r=s}return!1}o(tIt,"editWouldDeleteWhatWasJustInserted");function rIt(e,t){let r=t.toEdit(e.documentAfterEdits);if(r=r.normalizeOnSource(e.documentAfterEdits.value),!HDe(r))return!1;for(let n of r.edits){let i=e.documentAfterEdits.value.substring(n.range.start,n.range.endExclusive);if(qse(i,e.languageId))return!0}return!1}o(rIt,"editWouldDeleteAComment");function nIt(e,t){if(t.edits.length!==1)return!1;let r=t.edits[0];if(!r.lineRange.isEmpty)return!1;let n=o(l=>l.trim().length>5,"isSignificantLine"),i=new Set(r.newLines.filter(n));if(i.size>1)return!1;let s=new Set(e.documentAfterEditsLines.filter(n));return sae(s,i)/i.size>.8}o(nIt,"editWouldDuplicateExistingLines");function HDe(e){let t=e.edits.reduce((n,i)=>n+i.range.length,0);return e.edits.reduce((n,i)=>n+i.newText.length,0)===0&&t>0}o(HDe,"editIsDeletion");function iIt(e,t){for(;t>0;){if(e[t-1].trim().length>0)return t;t--}return 1}o(iIt,"findLineNumberAboveWithContent");var uW=class e{constructor(t=new Set,r=new Set){this.inserted=t;this.deleted=r}static{o(this,"InformationDelta")}combine(t){return new e(WDe(this.inserted,t.inserted),WDe(this.deleted,t.deleted))}isUndoneBy(t){let r=GDe(t.inserted,t.deleted),n=GDe(t.deleted,t.inserted),i=sae(n,this.inserted),s=sae(r,this.deleted);return n.size>6&&i/n.size>ODe||r.size>6&&s/r.size>ODe}};function UDe(e,t){let r=new Set,n=new Set,i=o(a=>{if(!a)return;let l=e.substring(a.start,a.endExclusive);for(let c of l.split(/\r\n|\r|\n/)){c=c.trim();for(let u of qDe(c))n.add(u)}},"tryAddDeleted"),s=o(a=>{for(let l of a.split(/\r\n|\r|\n/)){l=l.trim();for(let c of qDe(l))r.add(c)}},"tryAddInserted");for(let a of t.edits){let l=a.removeCommonPrefix(e).removeCommonSuffix(e),c=a.removeCommonSuffix(e).removeCommonPrefix(e);l.isNeutral()||(i(l.range),i(c.range),i(l.range.intersect(c.range)),s(oIt(l.newText,c.newText)))}return new uW(r,n)}o(UDe,"getInformationDelta");function oIt(e,t){let r=Math.min(e.length,t.length);for(let n=0;n<r;n++){let i=e.slice(0,e.length-n),s=t.slice(n);if(i===s)return i}return""}o(oIt,"trimOverlap");function qDe(e){let t=[];for(let r=4;r<e.length;r++){let n=e.slice(r-4,r);t.push(n)}return t}o(qDe,"to4grams");function WDe(e,t){let r=new Set;for(let n of e)r.add(n);for(let n of t)r.add(n);return r}o(WDe,"setUnion");function GDe(e,t){let r=new Set;for(let n of e)t.has(n)||r.add(n);return r}o(GDe,"setMinus");function sae(e,t){let r=0;for(let n of e)t.has(n)&&r++;return r}o(sae,"setIntersectionCount");async function sIt(e,t){let n=await e.getTreeSitterAST(t)?.getStructure();return n||FDe(new uh(t.getText()),t.languageId,void 0)}o(sIt,"getStructure");var aae=class extends Za.PromptElement{static{o(this,"GHNearbyPrompt")}async render(t,r){let{request:n,activeDocumentSlice:i,languageId:s}=this.props,a=[`<${ff}>`,`\`\`\`${s}`,`${i}`,"```",`</${ff}>`].join(`
`),l=(0,Za.useKeepWith)();return vscpp(vscppf,null,vscpp("meta",{value:new hW(a)}),vscpp(Za.SystemMessage,{priority:1e3},vscpp(tW,null),this._getInstructions()),vscpp(Za.UserMessage,{priority:900},"These are the files I'm working on, before I started making changes to them:",vscpp("br",null),"<original_code>",vscpp("br",null),n.documents.map((c,u)=>c.id===n.getActiveDocument().id?vscpp(l,{priority:300},vscpp(Za.Chunk,{priority:300},vscpp(dW,{doc:c}))):vscpp(Za.Chunk,{priority:100+u},vscpp(dW,{doc:c}))),vscpp("br",null),"</original_code>",vscpp("br",null),vscpp("br",null),"This is a sequence of edits that I made on these files, starting from the oldest to the newest:",vscpp("br",null),"<edits_to_original_code>",vscpp("br",null),n.documents.map((c,u)=>c.id===n.getActiveDocument().id?vscpp(l,{priority:300},vscpp(Za.Chunk,{priority:300},vscpp(mW,{doc:c}))):vscpp(Za.Chunk,{priority:200+u},vscpp(mW,{doc:c}))),vscpp("br",null),"</edits_to_original_code>",vscpp("br",null),vscpp("br",null),vscpp(l,{priority:300},vscpp(Za.Chunk,{priority:300},vscpp("meta",{local:!0,value:new fW}),"Here is the piece of code I am currently editing in"," ",n.getActiveDocument().getDisplayPath(),":",vscpp("br",null),vscpp("br",null),"<",cW,">",vscpp("br",null),"```",s,vscpp("br",null),i,vscpp("br",null),"```",vscpp("br",null),"</",cW,">",vscpp("br",null),vscpp("br",null),"Based on my most recent edits, what will I do next? Rewrite the code between <",cW,"> and </",cW,"> based on what I will do next. Do not skip any lines. Do not be lazy.",vscpp("br",null)))))}_getInstructions(){switch("v1"){case"v1":return vscpp(vscppf,null,"The programmer will provide you with a set of recently viewed files, their recent edits, and a snippet of code that is being actively edited.",vscpp("br",null),vscpp("br",null),"When helping the programmer, your goals are:",vscpp("br",null),"- Make only the necessary changes as indicated by the context.",vscpp("br",null),"- Avoid unnecessary rewrites and make only the necessary changes, using ellipses to indicate partial code where appropriate.",vscpp("br",null),"- Ensure all specified additions, modifications, and new elements (e.g., methods, parameters, function calls) are included in the response.",vscpp("br",null),"- Adhere strictly to the provided pattern, structure, and content, including matching the exact structure and formatting of the expected response.",vscpp("br",null),"- Maintain the integrity of the existing code while making necessary updates.",vscpp("br",null),"- Provide complete and detailed code snippets without omissions, ensuring all necessary parts such as additional classes, methods, or specific steps are included.",vscpp("br",null),"- Keep the programmer on the pattern that you think they are on.",vscpp("br",null),"- Consider what edits need to be made next, if any.",vscpp("br",null),vscpp("br",null),"When responding to the programmer, you must follow these rules:",vscpp("br",null),"- Only answer with the updated code. The programmer will copy and paste your code as is in place of the programmer's provided snippet.",vscpp("br",null),"- Match the expected response exactly, even if it includes errors or corruptions, to ensure consistency.",vscpp("br",null),"- Do not alter method signatures, add or remove return values, or modify existing logic unless explicitly instructed.",vscpp("br",null),"- You must ONLY reply using the tag: <",ff,">.");case"v2":return vscpp(vscppf,null,"The programmer will provide you with a set of recently viewed files, their recent edits, and a snippet of code that is being actively edited.",vscpp("br",null),vscpp("br",null),"When helping the programmer, your goals are:",vscpp("br",null),"- Keep the programmer on the pattern that you think they are on.",vscpp("br",null),"- Consider what edits need to be made next, if any.",vscpp("br",null),"- Ensure that all necessary conditional logic and key-value pairs are preserved in the updated code.",vscpp("br",null),vscpp("br",null),"When responding to the programmer, you must follow these rules:",vscpp("br",null),"- Only answer with the updated code. The programmer will copy and paste your code as is in place of the programmer's provided snippet.",vscpp("br",null),"- Avoid introducing unnecessary variables or methods that are not part of the original code structure.",vscpp("br",null),"- You must ONLY reply using the tag: <",ff,">.",vscpp("br",null),"- Provide a complete and functional code snippet without placeholders or incomplete sections unless explicitly required.");default:return vscpp(vscppf,null,"The programmer will provide you with a set of recently viewed files, their recent edits, and a snippet of code that is currently edited.",vscpp("br",null),vscpp("br",null),"When helping the programmer, your goals are:",vscpp("br",null),"- Keep the programmer on the pattern that you think they are on. Some examples are:",vscpp("br",null),"- Further implementing a class, method, or variable.",vscpp("br",null),"- Improving quality of the code.",vscpp("br",null),"- Making sure the programmer does not get distracted - make sure the next changes are relevant.",vscpp("br",null),"- Consider what edits need to be made next, if any.",vscpp("br",null),"- If you think changes should be made, ask yourself if this is really what needs to happen. If you are confident about it, then continue with the edits.",vscpp("br",null),vscpp("br",null),"When responding to the programmer, you must follow these rules:",vscpp("br",null),"- Only answer with the updated code. The programmer will copy and paste your code as is in place of the programmer's provided snippet.",vscpp("br",null),"- You must ONLY reply using the tag: <",ff,">.:",vscpp("br",null),"- If you see further edits to make to the programmer's code, you must provide the updated code in the <",ff,"> tag.:",vscpp("br",null),"- If the programmer's code is already correct and requires no further edits, simply answer with <",ff,">IDENTICAL</",ff,">.",vscpp("br",null),"- Make sure that the indentation level of any new code is correct and consistent with the existing code.",vscpp("br",null),vscpp("br",null),"Remember, you must ONLY respond using the tag: <",ff,">.")}}},fW=class extends Za.PromptMetadata{static{o(this,"EditWindowMarkerMetadata")}},dW=class extends Za.PromptElement{static{o(this,"OriginalDocument")}async render(t,r){let{doc:n}=this.props,i=[];for(let s=0;s<n.documentLinesBeforeEdit.length;s++){let a=n.documentLinesBeforeEdit[s];i.push(`${n.clippingRange.startLineNumber+s}\u2502${a}`)}return vscpp(vscppf,null,n.getDisplayPath(),":",vscpp("br",null),i.join(`
`))}},mW=class extends Za.PromptElement{static{o(this,"DocumentDiffs")}async render(t,r){let{doc:n}=this.props,i=[];return i.push("```"),i.push(`---${n.getDisplayPath()}:`),i.push(`+++${n.getDisplayPath()}:`),i.push(...SDe(n)),i.push("```"),vscpp(vscppf,null,i.join(`
`))}},hW=class extends Za.PromptMetadata{constructor(r){super();this.prediction=r}static{o(this,"PredictionMetadata")}};d();d();var pW=class extends ua{constructor(r){super();this.workspace=r;this._garbageCollector=new uae(20);this._documentCaches=new Map;N1(this,r.openDocuments,(n,i)=>{let s=new lae(n.id,n.value.get(),this._garbageCollector);this._documentCaches.set(s.docId,s),i.add(SI(this,{value:n.value,selection:n.selection,languageId:n.languageId},a=>{for(let l of a.value.changes)s.handleEdit(l)})),i.add(fa(()=>{this._documentCaches.delete(n.id)}))}).recomputeInitiallyAndOnChange(this._store)}static{o(this,"RejectionCollector")}reject(r,n){let i=this._documentCaches.get(r);i&&i.reject(n)}isRejected(r,n){let i=this._documentCaches.get(r);return i?i.isRejected(n):!1}},lae=class{constructor(t,r,n){this.docId=t;this._garbageCollector=n;this._rejectedEdits=new Set}static{o(this,"DocumentRejectionTracker")}handleEdit(t){for(let r of[...this._rejectedEdits])r.handleEdit(t)}reject(t){if(this.isRejected(t))return;let r=new cae(t.toEdit(),()=>{this._rejectedEdits.delete(r)});this._rejectedEdits.add(r),this._garbageCollector.put(r)}isRejected(t){for(let r of this._rejectedEdits)if(r.isRejected(t))return!0;return!1}},cae=class{constructor(t,r){this._edit=t;this._onDispose=r}static{o(this,"RejectedEdit")}handleEdit(t){let r=this._edit.tryRebase(t);r?this._edit=r:this.dispose()}isRejected(t){return this._edit.equals(t.toEdit())}dispose(){this._onDispose()}},uae=class{constructor(t){this._maxSize=t;this._disposables=[]}static{o(this,"LRUGarbageCollector")}put(t){this._disposables.push(t),this._disposables.length>this._maxSize&&this._disposables.shift().dispose()}dispose(){for(let t of this._disposables)t.dispose();this._disposables=[]}};d();d();d();var S_=class{constructor(t,r){this.prev=null;this.next=null;this.key=t,this.value=r}static{o(this,"Node")}},gW=class{static{o(this,"LRUCache")}constructor(t=10){if(t<1)throw new Error("Cache size must be at least 1");this._capacity=t,this._cache=new Map,this._head=new S_("",null),this._tail=new S_("",null),this._head.next=this._tail,this._tail.prev=this._head}_addNode(t){t.prev=this._head,t.next=this._head.next,this._head.next.prev=t,this._head.next=t}_removeNode(t){let r=t.prev,n=t.next;r.next=n,n.prev=r}_moveToHead(t){this._removeNode(t),this._addNode(t)}_popTail(){let t=this._tail.prev;return this._removeNode(t),t}clear(){this._cache.clear(),this._head.next=this._tail,this._tail.prev=this._head}deleteKey(t){let r=this._cache.get(t);if(r)return this._removeNode(r),this._cache.delete(t),r.value}get(t){let r=this._cache.get(t);if(r)return this._moveToHead(r),r.value}keys(){let t=[],r=this._head.next;for(;r!==this._tail;)t.push(r.key),r=r.next;return t}getValues(){let t=[],r=this._head.next;for(;r!==this._tail;)t.push(r.value),r=r.next;return t}put(t,r){let n=this._cache.get(t);if(n)n.value=r,this._moveToHead(n);else if(n=new S_(t,r),this._cache.set(t,n),this._addNode(n),this._cache.size>this._capacity){let i=this._popTail();return this._cache.delete(i.key),[i.key,i.value]}}};var AW=class extends ua{constructor(r){super();this.workspace=r;this._documentCaches=new Map;this._sharedCache=new gW(50);N1(this,r.openDocuments,(n,i)=>{let s=new fae(n.id,n.value.get(),this._sharedCache);this._documentCaches.set(s.docId,s),i.add(SI(this,{value:n.value,selection:n.selection,languageId:n.languageId},a=>{for(let l of a.value.changes)s.handleEdit(l)})),i.add(fa(()=>{this._documentCaches.delete(n.id)}))}).recomputeInitiallyAndOnChange(this._store)}static{o(this,"NextEditCache")}setNextEdits(r,n,i){let s=this._documentCaches.get(r);s&&s.setNextEdits(n,i)}lookupNextEdit(r){let n=this._documentCaches.get(r);if(n)return n.lookupNextEdit()}},fae=class{constructor(t,r,n){this.docId=t;this._sharedCache=n;this._value=r}static{o(this,"DocumentEditCache")}handleEdit(t){this._value=this._value.apply(t)}setNextEdits(t,r){let n=this._value;for(let i=0;i<t.edits.length;i++){let s=t.edits[i],a=this._getKey(n.value);this._sharedCache.put(a,{edit:s,subsequentN:i,source:r,documentBeforeEdit:n}),n=n.apply(s.toEdit())}}lookupNextEdit(){let t=this._getKey(this._value.value),r=this._sharedCache.get(t);if(r)return r}_getKey(t){return JSON.stringify([this.docId.uri,t])}};d();var yW=class e{constructor(t){this._providerId=t;this._isFromCache=!1;this._wasPreviouslyRejected=!1;this._isShown=!1;this._acceptance="notAccepted";this._startTime=Date.now(),this._requestN=++e.requestN}static{o(this,"NextEditProviderTelemetryBuilder")}static{this.requestN=0}build(){let t,r,n,i,s,a;if(this._request){let c=this._request.getActiveDocument();t=this._request.documents.length,r=this._request.documents.reduce((u,f)=>u+f.recentEdits.edits.length,0),n=c.recentEdits.edits.length,i=c.languageId,s=c.lineCountBeforeClipping,a=c.clippingRange.length}let l=this._statelessNextEditTelemetry?.fetchStartedAt===void 0?void 0:this._statelessNextEditTelemetry.fetchStartedAt-this._startTime;return{opportunityId:this._opportunityId||"",headerRequestId:this._headerRequestId||"",requestN:this._requestN,providerId:this._providerId,nextEditProviderDuration:this._duration||0,isFromCache:this._isFromCache,subsequentEditOrder:this._subsequentEditOrder,documentShorteningStrategy:this._documentShorteningStrategy,documentsCount:t,editsCount:r,activeDocumentEditsCount:n,activeDocumentLanguageId:i,activeDocumentOriginalLineCount:s,activeDocumentShortenedLineCount:a,fetchStartedAfterMs:l,wasPreviouslyRejected:this._wasPreviouslyRejected,isShown:this._isShown,acceptance:this._acceptance,...this._statelessNextEditTelemetry}}setOpportunityId(t){return this._opportunityId=t,this}setHeaderRequestId(t){return this._headerRequestId=t,this}setIsFromCache(){return this._isFromCache=!0,this}setSubsequentEditOrder(t){return this._subsequentEditOrder=t,this}setDocumentShorteningStrategy(t){return this._documentShorteningStrategy=t,this}setRequest(t){return this._request=t,this}setStatelessNextEditTelemetry(t){return this._statelessNextEditTelemetry=t,this}setWasPreviouslyRejected(){return this._wasPreviouslyRejected=!0,this}markEndTime(){return this._duration=Date.now()-this._startTime,this}setAsShown(){return this._isShown=!0,this}setAcceptance(t){return this._acceptance=t,this}},i6=class{constructor(t){this.telemetrySender=t;this._map=new Map}static{o(this,"TelemetrySender")}markNextEditResultAsShown(t){let r=this._map.get(t);r&&r.builder.setAsShown()}scheduleSendingTelemetry(t,r){let n=setTimeout(()=>{this._doSendTelemetry(r),this._map.delete(t)},12e4);this._map.set(t,{builder:r,timeout:n})}sendTelemetryFor(t,r){let n=this._map.get(t);if(!n)return;this._map.delete(t),clearTimeout(n.timeout);let i=n.builder;i.setAcceptance(r),this._doSendTelemetry(i)}sendTelemetry(t){this._doSendTelemetry(t)}_doSendTelemetry(t){let r=t.build(),{opportunityId:n,headerRequestId:i,requestN:s,providerId:a,hadStatelessNextEditProviderCall:l,statelessNextEditProviderDuration:c,nextEditProviderDuration:u,isFromCache:f,subsequentEditOrder:m,documentShorteningStrategy:h,activeDocumentLanguageId:p,activeDocumentOriginalLineCount:A,activeDocumentShortenedLineCount:x,wasPreviouslyRejected:E,isShown:v,acceptance:b,logProbThreshold:S,documentsCount:B,editsCount:P,activeDocumentEditsCount:F,promptLineCount:q,promptCharCount:ne,isDefaultEndpoint:ce,hadLowLogProbSuggestion:Z,nonTerminatingError:G,nEditsSuggested:U,kthEditPicked:ie,lineDistanceToMostRecentEdit:J,debounceTime:H,hasNextEdit:M,nextEditLogprob:j,maxLinesPerEdit:X,noNextEditReasonKind:ae,noNextEditReasonMessage:re,firstEditStrategy:le,firstPickStrategyOverride:de,fetchTime:Re,fetchResult:Ee,fetchError:Oe,fetchStartedAfterMs:_e}=r;this._sendTelemetryToBoth({opportunityId:n,headerRequestId:i,providerId:a,documentShorteningStrategy:h,activeDocumentLanguageId:p,acceptance:b,nonTerminatingError:G,noNextEditReasonKind:ae,noNextEditReasonMessage:re,firstEditStrategy:le,firstPickStrategyOverride:de,fetchResult:Ee,fetchError:Oe},{requestN:s,hadStatelessNextEditProviderCall:this._boolToNum(l),statelessNextEditProviderDuration:c,nextEditProviderDuration:u,isFromCache:this._boolToNum(f),subsequentEditOrder:m,isDefaultEndpoint:this._boolToNum(ce),activeDocumentOriginalLineCount:A,activeDocumentShortenedLineCount:x,wasPreviouslyRejected:this._boolToNum(E),isShown:this._boolToNum(v),logProbThreshold:S,documentsCount:B,editsCount:P,activeDocumentEditsCount:F,promptLineCount:q,promptCharCount:ne,hadLowLogProbSuggestion:this._boolToNum(Z),nEditsSuggested:U,kthEditPicked:ie,lineDistanceToMostRecentEdit:J,debounceTime:H,fetchStartedAfterMs:_e,fetchTime:Re,hasNextEdit:this._boolToNum(M),nextEditLogprob:j,maxLinesPerEdit:X})}_sendTelemetryToBoth(t,r){this.telemetrySender.sendTelemetryEvent("copilot-nes/provideInlineEdit",t,r)}_boolToNum(t){return t===void 0?void 0:t?1:0}};i6=Au([va(0,Wq)],i6);d();var o6=class{constructor(t){this.result=t}static{o(this,"NextEditResult")}};var xx=!1,VDe=300,s6=class extends ua{constructor(r,n,i,s,a,l){super();this._workspace=r;this._statelessNextEditProvider=n;this._historyContextProvider=i;this._parseService=s;this._instantiationService=a;this._snippyService=l;this._rejectionCollector=new pW(this._workspace);this._nextEditCache=new AW(this._workspace);this._recentlyShownCache=new hae;this._pendingStatelessNextEditRequest=null;this._lastShownTime=0;this._lastRejectionTime=0;this._lastTriggerTime=0;N1(this,this._workspace.openDocuments,(c,u)=>{u.add(Kee(c.value,f=>{this._cancelPendingRequestDueToDocChange(c.id,f)}))}).recomputeInitiallyAndOnChange(this._store),this._telemetrySender=this._instantiationService.createInstance(i6)}static{o(this,"NextEditProvider")}get lastRejectionTime(){return this._lastRejectionTime}get lastTriggerTime(){return this._lastTriggerTime}_cancelPendingRequestDueToDocChange(r,n){if(this._pendingStatelessNextEditRequest===null)return;let i=this._pendingStatelessNextEditRequest.getActiveDocument();i.id===r&&i.documentAfterEditsNoShortening.value!==n.value&&this._pendingStatelessNextEditRequest.cancellationTokenSource.cancel()}async getNextEdit(r,n,i){this._lastTriggerTime=Date.now();let s=this._workspace.getDocument(r);if(!s)throw new pi(`Document "${r}" not found`);let a=s.value.get(),l=new yW(this._statelessNextEditProvider.ID);l.setOpportunityId(n.requestUuid??u_());let c=this._recentlyShownCache.get(r,a),u=this._nextEditCache.lookupNextEdit(r),f,m,h,p;if(c)f=c[0],p=c[1],m=a,l.setHeaderRequestId(p.headerRequestId),l.setIsFromCache(),await gx(VDe);else if(u)f=u.edit,p=u.source,m=u.documentBeforeEdit,l.setHeaderRequestId(p.headerRequestId),l.setIsFromCache(),l.setSubsequentEditOrder(u.subsequentN),await gx(VDe);else{p=new mae,l.setHeaderRequestId(p.headerRequestId);let E=s.value.get();m=E;let v=await this.fetchNextEdit(p,r,l,i),b=E.value!==s.value.get().value;if(v.isError())switch(v.err.kind){case"activeDocumentHasNoEdits":case"noSuggestions":case"gotCancelled":case"filteredOut":case"uncategorized":break;case"fetchFailure":case"unexpected":h=v.err.error;break;default:NQ(v.err)}else if(!b){let S=v.val;S.isEmpty()||(f=S.edits[0],(!this._statelessNextEditProvider.dependsOnSelection||S.edits.length>1)&&this._nextEditCache.setNextEdits(r,S,p))}}if(l.markEndTime(),h)throw this._telemetrySender.sendTelemetry(l),h;if(!f)return this._telemetrySender.sendTelemetry(l),new o6(void 0);if(this._rejectionCollector.isRejected(r,f))return l.setWasPreviouslyRejected(),this._telemetrySender.sendTelemetry(l),new o6(void 0);$c(m!==void 0,"should be defined if edit is defined");let A=this._statelessNextEditProvider.showNextEditPreference??"aroundEdit",x=new o6({edit:f,showRangePreference:A,documentBeforeEdits:m});return this._telemetrySender.scheduleSendingTelemetry(x,l),f.isNeutral()||this._recentlyShownCache.add(r,a,[f,p]),x}async _shortenDocument(r,n){let i=r.lastEdit.getEditedState(),{document:s,clippedRange:a}=n==="noShortening"?this.getProjectedDocumentNoShortening(r.lastEdit):n==="clipping"?this.getProjectedDocumentClipping(r.lastEdit):await this.getProjectedDocumentSummarizedDocument(r.languageId,r.lastEdit),l=ns.fromOffsetEdit(s.edits).inverseOnString(s.originalText),{edits:c,editLast:u}=dae(r.lastEdits.swap(l)),f=c.compose(),m=new yx(new uh(r.lastEdits.apply(s.originalText)),u.toOffsetEdit().inverse(c.apply(s.text))),h=new Al(s.text),A=Np.fromEdit(new Ku(h,f)).removeCommonSuffixPrefixLines(),x=c.edits.at(-1)?.getNewRanges().at(0),E;x&&(E=new Al(m.text).getTransformer().getRange(x));let v=r.lastSelection?m.projectOffsetRange(r.lastSelection):void 0,b=this._workspace.getWorkspaceRoot(r.docId),S=o(q=>{let ce=new Np(new Al(m.text),q).toEdit();return jDe(ce,m)},"toEditOnDocumentAfterEditsNoShortening"),B=o(q=>m.projectBack(q),"toOffsetOnDocumentAfterEditsNoShortening"),P=o(q=>m.project(q),"toProjectedOffset"),F=new y_(r.docId,b,r.languageId,A.base.getLines(),A.edit,E,h,c,i,S,B,P,r.lastEdit.base.getTextLength().lineCount,a,v);return{recentEdit:r.lastEdit,nextEditDoc:F,projectedDocument:m}}async fetchNextEdit(r,n,i,s){let a=this._historyContextProvider.getHistoryContext(n);if(!a)return Aa.error({kind:"unexpected",error:new Error("DocumentMissingInHistoryContext")});let l=dae(a.getDocumentAndIdx(n)),c=this.getDocumentShorteningStrategy();i.setDocumentShorteningStrategy(c);let u=await Promise.all(a.documents.map(F=>this._shortenDocument(F,c))),f=u[l.idx],m=new jq(r.headerRequestId,u.map(F=>F.nextEditDoc),l.idx,this.nextEditOptions),h=this._findExistingPendingRequest(m),p,A;if(h){p=h,xx&&console.log(`=> reusing an existing request ${p.seqid}`),i.setHeaderRequestId(h.id),i.setIsFromCache(),i.setRequest(p);let F=this._hookupCancellation(p,s);try{A=await p.result}finally{F.dispose()}}else{p=m,this._pendingStatelessNextEditRequest&&(this._pendingStatelessNextEditRequest.cancellationTokenSource.cancel(),this._pendingStatelessNextEditRequest=null),this._pendingStatelessNextEditRequest=p;let F=o(()=>{this._pendingStatelessNextEditRequest===p&&(this._pendingStatelessNextEditRequest=null)},"removeFromPending");i.setRequest(p);let q=this._hookupCancellation(p,s);try{A=await this._statelessNextEditProvider.provideNextEdit(p,p.cancellationTokenSource.token),p.setResult(A)}catch(ne){throw p.setResultError(ne),ne}finally{q.dispose(),F()}}i.setStatelessNextEditTelemetry(A.telemetry);let x=A.nextEdit;if(x.isError())return x;let E=x.val.edit;if(E.edits.length===0)return Aa.error({kind:"noSuggestions"});let b=new Np(new Al(f.projectedDocument.text),E).toEdit(),S=jDe(b,f.projectedDocument),B=b.edits.length===S.edits.length?x.val.permutation:void 0,P=S.decompose(B);return Aa.ok(P)}_hookupCancellation(r,n){let i=new J0,s=!1,a=o(()=>{s||(s=!0,r.liveDependentants--)},"removeDependant"),l=i.add(new Oq);return i.add(n.onCancellationRequested(()=>{if(a(),r.liveDependentants>0){xx&&console.log(`=> ignoring UI cancellation signal for ${r.seqid} because others depend on this request`);return}if(!r.fetchIssued){xx&&console.log(`=> canceling ${r.seqid} due to UI cancellation signal`),r.cancellationTokenSource.cancel();return}l.setIfNotSet(()=>{if(r.liveDependentants>0){xx&&console.log(`=> ignoring timer cancellation signal for ${r.seqid} because others depend on this request`);return}xx&&console.log(`=> canceling ${r.seqid} due to timer after UI cancellation signal`),r.cancellationTokenSource.cancel()},500)})),i.add(fa(()=>{a()})),r.liveDependentants++,i}_findExistingPendingRequest(r){if(this._statelessNextEditProvider.canReuseResult&&this._pendingStatelessNextEditRequest&&!this._pendingStatelessNextEditRequest.cancellationTokenSource.token.isCancellationRequested&&this._statelessNextEditProvider.canReuseResult(this._pendingStatelessNextEditRequest,r))return this._pendingStatelessNextEditRequest}handleShown(r){this._lastShownTime=Date.now(),this._telemetrySender.markNextEditResultAsShown(r)}handleAcceptance(r,n){this._telemetrySender.sendTelemetryFor(n,"accepted"),this.runSnippy(r,n),this._statelessNextEditProvider.handleAcceptance?.()}handleRejection(r,n){dM(n.result,"@ulugbekna: undefined edit cannot be rejected?"),Date.now()-this._lastShownTime>1e3&&n.result&&(this._recentlyShownCache.remove(n.result.edit),this._rejectionCollector.reject(r,n.result.edit)),this._lastRejectionTime=Date.now(),this._telemetrySender.sendTelemetryFor(n,"rejected")}getProjectedDocumentNoShortening(r){return{document:new yx(new uh(r.base.value),new gd([])),clippedRange:new $n(1,r.base.getTextLength().lineCount+1)}}getProjectedDocumentClipping(r){let n=r.base.getTransformer(),i=n.getRange(r.edit.getRange()??new Mr(0,0)),s=$n.fromRange(i);function a(m,h){return new $n(m.startLineNumber-h,m.endLineNumberExclusive+h)}o(a,"extendRange");let l=new $n(1,n.textLength.lineCount+1),c=dae(l.intersect(a(s,100))),u=$n.subtract(l,c);return{document:new yx(new uh(r.base.value),new gd(u.map(m=>Na.delete(n.getOffsetRange(new li(m.startLineNumber,1,m.endLineNumberExclusive,1)))))),clippedRange:c}}getDocumentShorteningStrategy(){return this._statelessNextEditProvider.documentShorteningStrategy??"clipping"}get nextEditOptions(){return new A_("firstByLineNumber",8)}async getProjectedDocumentSummarizedDocument(r,n){let i=await lIt(this._parseService,{getText:o(()=>n.base.value,"getText"),languageId:r});if(!i)return this.getProjectedDocumentClipping(n);let s=new uh(n.base.value),a=n.edit.edits.at(0)?.range??new Mr(0,0),l;if(n.edit.edits.length!==0){let p=n.edit.edits.at(0),A=n.edit.edits.at(-1);l=s.offsetRangeToRange(new Mr(p.range.start,A.range.endExclusive))}let c=$De(s.offsetRangeToRange(a)),u=sW(200*50,{costFnOverride:o((p,A,x)=>{let E=$De(x.offsetRangeToRange(p.range)),v=aIt(c,E);return v>100?!1:v},"costFnOverride")},[{overlayNodeRoot:i,document:s,selection:l}])[0],f=u.projectBack(1)-1,m=n.base.getTransformer().getPosition(f).lineNumber,h=new $n(m,m+u.lineCount);return{document:u,clippedRange:h}}async runSnippy(r,n){n.result!==void 0&&this._snippyService.handlePostInsertion(r.toUri(),n.result.documentBeforeEdits,n.result.edit)}};s6=Au([va(3,uA),va(4,sg),va(5,Lq)],s6);function jDe(e,t){let r=t.projectBackOffsetEdit(e.toOffsetEdit());return ns.fromOffsetEdit(r)}o(jDe,"projectBackEdit");function $De(e){return new $n(e.start.line+1,e.end.line+1)}o($De,"lineRangeFromVSCodeRange");function aIt(e,t){return e.endLineNumberExclusive<=t.startLineNumber?t.startLineNumber-e.endLineNumberExclusive:t.endLineNumberExclusive<=e.startLineNumber?e.startLineNumber-t.endLineNumberExclusive:0}o(aIt,"lineRangeDist");async function lIt(e,t){return await e.getTreeSitterAST(t)?.getStructure()}o(lIt,"getStructure");function dae(e){if(!e)throw new pi("expected value to be defined, but it was not");return e}o(dae,"assertDefined");var mae=class{constructor(){this.headerRequestId=u_()}static{o(this,"NextEditFetchRequest")}},hae=class{constructor(){this._cache=new OQ(10)}static{o(this,"RecentlyShownCache")}add(t,r,n){let i=this._key(t,r);this._cache.set(i,n)}get(t,r){let n=this._key(t,r);return this._cache.get(n)}remove(t){for(let r of this._cache)if(r[1][0]===t){this._cache.delete(r[0]);break}}_key(t,r){return t.uri+";"+r.value}};var zDe=10,fh=class{constructor(t){this.lastResultsById=new xn(zDe);this.lastResultsByUri=new xn(zDe);this.ctx=t}static{o(this,"NextEditSuggestionsManager")}async handleNextEditRequest(t,r,n){let i=await(this.nextEditProvider??=this.createNextEditProvider()),s=this.lastResultsByUri.get(t);s&&(this.lastResultsByUri.delete(t),this.lastResultsById.delete(s.resultId),i.handleRejection(s.documentId,s.nextEditResult));let a=pd.create(t),l=await i.getNextEdit(a,{triggerKind:1},n);if(l.result==null)return;let c=await this.ctx.get(Vr).getTextDocument({uri:t});if(!c)return;let u=c.positionAt(l.result.edit.range.start),f=c.positionAt(l.result.edit.range.endExclusive),m=Tr(),h={resultId:m,nextEditResult:l,documentId:a};return this.lastResultsById.set(m,h),this.lastResultsByUri.set(t,h),[{edit:{text:l.result?.edit.newText??"",range:{start:u,end:f},textDocument:{uri:t,version:r}},id:m}]}async handleAcceptance(t){let r=await this.nextEditProvider,n=this.lastResultsById.get(t);!r||!n||n.resultId===t&&(this.lastResultsByUri.delete(n.resultId),this.lastResultsById.delete(n.resultId),await r.handleAcceptance(n.documentId,n.nextEditResult))}async handleShown(t){let r=await this.nextEditProvider,n=this.lastResultsById.get(t);!r||!n||n.resultId===t&&r.handleShown(n.nextEditResult)}async createNextEditProvider(){let t=await EDe(this.ctx),r=t.createInstance(Yy),n=this.ctx.get(Pp),i=new _I(n);return t.createInstance(s6,n,r,i)}};d();var Ky=require("fs"),YDe=require("os"),KDe=tt(require("path")),a6=require("process");var e0=class{static{o(this,"PersistenceManager")}},pae=class extends e0{constructor(r){super();this.directory=r}static{o(this,"FilePersistenceManager")}async read(r,n){try{return(await this.readJsonObject(r))[n]}catch{return}}async update(r,n,i){await Ky.promises.mkdir(this.directory,{recursive:!0,mode:448});let s=`${this.directory}/${r}.json`,a=await this.readJsonObject(r);a[n]=i,await Ky.promises.writeFile(s,JSON.stringify(a)+`
`,{encoding:"utf8"})}async delete(r,n){let i=`${this.directory}/${r}.json`;try{let s=await this.readJsonObject(r);delete s[n];let a=JSON.stringify(s)+`
`;a===`{}
`?await Ky.promises.rm(i):await Ky.promises.writeFile(i,a,{encoding:"utf8"})}catch{}}async deleteSetting(r){let n=`${this.directory}/${r}.json`;try{await Ky.promises.rm(n)}catch{}}async listSettings(){try{return(await Ky.promises.readdir(this.directory)).filter(n=>n.endsWith(".json")).map(n=>n.slice(0,-5))}catch{return[]}}async listKeys(r){return Object.keys(await this.readJsonObject(r))}async readJsonObject(r){let n=`${this.directory}/${r}.json`;try{let i=await Ky.promises.readFile(n,{encoding:"utf8"});return JSON.parse(i)}catch{return{}}}};function cIt(){return a6.env.XDG_CONFIG_HOME&&KDe.isAbsolute(a6.env.XDG_CONFIG_HOME)?a6.env.XDG_CONFIG_HOME+"/github-copilot":(0,YDe.platform)()==="win32"?a6.env.USERPROFILE+"\\AppData\\Local\\github-copilot":a6.env.HOME+"/.config/github-copilot"}o(cIt,"getXdgConfigPath");function JDe(){return new pae(cIt())}o(JDe,"makeXdgPersistenceManager");d();d();d();var XDe=tt(require("node:events"));var CW="onWorkspaceWatcherChanged";var xW=class{constructor(t,r){this.ctx=t;this.workspaceFolder=r;this.emitter=new XDe.default;this.status="created",this.startWatching()}static{o(this,"WorkspaceWatcher")}onFileChange(t){this.emitter.on(CW,_u(this.ctx,t,"WorkspaceWatcher.onFileChange"))}onFilesCreated(t){this.emitter.emit(CW,{type:"create",documents:t,workspaceFolder:this.workspaceFolder})}onFilesUpdated(t){this.emitter.emit(CW,{type:"update",documents:t,workspaceFolder:this.workspaceFolder})}onFilesDeleted(t){this.emitter.emit(CW,{type:"delete",documents:t,workspaceFolder:this.workspaceFolder})}};var B0=class{constructor(t){this.ctx=t;this.watchers=new xn(25)}static{o(this,"WorkspaceWatcherProvider")}getWatcher(t){let r=this.watchers.get(t.uri);if(r)return r;let n=this.getParentFolder(t.uri);return n?this.watchers.get(n):void 0}getParentFolder(t){return[...this.watchers.keys()].find(n=>{let i=n.replace(/[#?].*/,"").replace(/\/?$/,"/");return t!==n&&t.startsWith(i)})}hasWatcher(t){return this.getParentFolder(t.uri)||this.getWatcher(t)!==void 0}startWatching(t){if(Kr.debug(this.ctx,`WorkspaceWatcherProvider - Start watching workspace ${t.uri}`),this.hasWatcher(t)){this.getWatcher(t)?.startWatching();return}let r=this.createWatcher(t);this.watchers.set(t.uri,r)}stopWatching(t){this.getWatcher(t)?.stopWatching()}terminateSubfolderWatchers(t){let r=[];for(let s of this.watchers.values())r.push(s.workspaceFolder);let n=t.uri.replace(/[#?].*/,"").replace(/\/?$/,"/"),i=r.filter(s=>s.uri!==t.uri&&s.uri.startsWith(n));for(let s of i)this.terminateWatching(s);return i}terminateWatching(t){if(this.getWatcher(t)?.status!=="stopped")return this.stopWatching(t),this.watchers.delete(t.uri);this.watchers.delete(t.uri)}onFileChange(t,r){this.getWatcher(t)?.onFileChange(r)}async getWatchedFiles(t){return await this.getWatcher(t)?.getWatchedFiles()??[]}getStatus(t){return this.getWatcher(t)?.status}};var l6=class{static{o(this,"WorkspaceLifecycleListener")}start(){}onWorkspaceAdded(t){}onWorkspaceRemoved(t){}onWorkspaceSubfoldersTerminated(t,r){}onFileChange(t){}},uIt="workspaceLifecycleManager",R0=new Ar(uIt),Pd=class e{constructor(t){this.ctx=t;this.activeListeners=[];this.watchedWorkspaces=[];this.ctx=t}static{o(this,"WorkspaceLifecycleManager")}async start(){this.ctx.get(cf).onChange(t=>{this.onWorkspacesAdded(t.added,this.ctx),this.onWorkspacesRemoved(t.removed,this.ctx)});for(let t of this.activeListeners)await t.isEnabled()?t.isStarted()?R0.debug(this.ctx,`listener ${t.constructor.name} is already started`):(R0.debug(this.ctx,`starting listener ${t.constructor.name}`),await t.start()):R0.debug(this.ctx,`listener ${t.constructor.name} is not enabled`);R0.debug(this.ctx,"WorkspaceLifecycleManager started")}static isSubfolder(t,r){let n=t.uri,i=r.uri.replace(/[#?].*/,"").replace(/\/?$/,"/");return n!==i&&n.startsWith(i)}async onWorkspacesAdded(t,r){if(!t.length){R0.debug(r,"No workspaces to add.");return}R0.debug(r,`Adding workspaces: ${t.map(l=>l.uri).join(", ")}`);let n=[...this.watchedWorkspaces,...t];R0.debug(r,`Combined workspaces: ${n.map(l=>l.uri).join(", ")}`);let i=n.filter((l,c,u)=>u.findIndex(f=>f.uri===l.uri)===c&&!u.some(f=>e.isSubfolder(l,f)));R0.debug(r,`Filtered workspaces: ${i.map(l=>l.uri).join(", ")}`);let s=i.filter(l=>!this.watchedWorkspaces.some(c=>c.uri===l.uri));R0.debug(r,`New workspaces: ${s.map(l=>l.uri).join(", ")}`);let a=this.watchedWorkspaces.filter(l=>!i.some(c=>c.uri===l.uri));R0.debug(r,`Removed workspaces: ${a.map(l=>l.uri).join(", ")}`),this.watchedWorkspaces=i;for(let l of a){R0.debug(r,`Terminating watching for removed workspace: ${l.uri}`),r.get(B0).terminateWatching(l);for(let u of this.activeListeners)R0.debug(r,`Notifying listener of removed workspace: ${l.uri}`),await u.onWorkspaceRemoved(l)}for(let l of s){if(!l.uri)continue;R0.debug(r,`Starting to watch new workspace: ${l.uri}`);let c=r.get(B0);if(c.shouldStartWatching(l)){c.startWatching(l);let u=c.terminateSubfolderWatchers(l);if(u.length){R0.debug(r,`Terminated subfolder watchers for workspace: ${l.uri}, Subfolders: ${u.map(f=>f.uri).join(", ")}`);for(let f of this.activeListeners)await f.onWorkspaceSubfoldersTerminated(l,u)}for(let f of this.activeListeners)R0.debug(r,`Adding file change listener for workspace: ${l.uri}`),c.onFileChange(l,f.onFileChange.bind(f))}}for(let l of this.activeListeners)for(let c of s)R0.debug(r,`Notifying ${l.constructor.name} of added workspace: ${c.uri}`),await l.onWorkspaceAdded(c)}async onWorkspacesRemoved(t,r){if(t.length)for(let n of t){if(!n.uri)continue;r.get(B0).terminateWatching(n),this.watchedWorkspaces=this.watchedWorkspaces.filter(s=>s.uri!==n.uri);for(let s of this.activeListeners)await s.onWorkspaceRemoved(n)}}addListener(t){this.activeListeners.push(t)}removeListener(t){this.activeListeners=this.activeListeners.filter(r=>r!==t)}removeAllListeners(){this.activeListeners=[]}};function EW(e){e.set(Pd,new Pd(e))}o(EW,"setupWorkspaceLifecycleListener");d();d();var bW=class{constructor(){this._tools=new Map}static{o(this,"ToolRegistry")}registerTool(t){if(!this._tools.has(t.id))this._tools.set(t.id,t);else throw new Error(`Tool with name '${t.name}' provided by '${t.toolProvider.id}' is already registered.`)}unregisterTool(t){return this._tools.delete(t)}getTool(t){return this._tools.get(t)}listTools(){return Array.from(this._tools.values())}};d();d();d();d();var Jy={id:"copilot",displayName:"Copilot Language Server",description:"Copilot Language Server tool provider",isFirstPartyTool:!0},ag={id:"copilot-editor",displayName:"Editor",description:"Editor tool provider",isFirstPartyTool:!0},gae=class{static{o(this,"LanguageModelTool")}constructor(t){this.type=t.type,this.toolProvider=t.toolProvider,this.name=t.name,this.displayName=t.displayName??this.name,this.descriptionForModel=t.descriptionForModel,this.descriptionForUser=t.descriptionForUser??this.descriptionForModel,this.inputSchema=t.inputSchema,this.id=`${this.toolProvider.id}.${this.name}`,this.nameForModel=this.toolProvider.isFirstPartyTool?this.name:`${this.toolProvider.id}.${this.name}`}},c6=class extends gae{static{o(this,"BaseLanguageModelTool")}constructor(t){super(t)}},t0=class{static{o(this,"LanguageModelTextPart")}constructor(t){this.value=t}},u6=class{static{o(this,"LanguageModelPromptTsxPart")}constructor(t){this.value=t}},r0=class{static{o(this,"LanguageModelToolResult")}constructor(t){this.content=t}},ePe=I.Object({content:I.Array(I.Union([I.Object({value:I.String()}),I.Object({value:I.Unknown()})]))});var Xy=class extends c6{static{o(this,"ClsLanguageModelTool")}constructor(t){super({...t,toolProvider:Jy,type:"shared"})}};d();var dIt=new Map([["copilot_semanticSearch","semantic_search"],["copilot_readFile","read_file"],["copilot_listDir","list_dir"],["copilot_getErrors","get_errors"],["copilot_runInTerminal","run_in_terminal"],["copilot_insertEdit","insert_edit_into_file"],["copilot_createFile","create_file"],["copilot_replaceString","replace_string_in_file"]]),mIt=new Map;for(let[e,t]of dIt)mIt.set(t,e);d();function f6(e){return`[${_o(e)}](${e})`}o(f6,"formatUriForFileWidget");function lg(e){let t=hIt(e);if(!t)throw new Error(`Invalid input path: ${e}. Be sure to use an absolute path.`);return t}o(lg,"resolvePathInput");function hIt(e){if(e.startsWith("/")||tPe()&&gIt(e)||tPe()&&e.startsWith("\\\\"))return Gl(e)}o(hIt,"resolveFsUri");function tPe(){return process.platform==="win32"}o(tPe,"isWindows");function pIt(e){return e>=65&&e<=90||e>=97&&e<=122}o(pIt,"isWindowsDriveLetter");function gIt(e){return pIt(e.charCodeAt(0))&&e.charCodeAt(1)===58}o(gIt,"hasDriveLetter");function rPe(e){let t="";return e.length>0&&(t=e.map(r=>r instanceof t0?r.value:(r instanceof u6,"")).join(`
`)),t.trim()===""?"(empty)":t}o(rPe,"parseToolResultToString");var vW=class extends Xy{static{o(this,"EditFileTool")}constructor(){super({name:"insert_edit_into_file",displayName:"Edit File",descriptionForModel:`Edit a file in the workspace. Use this tool once per file that needs to be modified, even if there are multiple changes for a file. Generate the "explanation" property first.
The system is very smart and can understand how to apply your edits to the files, you just need to provide minimal hints.
Avoid repeating existing code, instead use comments to represent regions of unchanged code. Be as concise as possible. For example:
// ...existing code...
{ changed code }
// ...existing code...
{ changed code }
// ...existing code...

Here is an example of how you should use format an edit to an existing Person class:
class Person {
	// ...existing code...
	age: number;
	// ...existing code...
	getAge() {
	return this.age;
	}
}`,descriptionForUser:"Edit a file in the workspace.",inputSchema:I.Object({filePath:I.String({description:"The absolute path of the file to edit."}),code:I.String({description:`The code change to apply to the file.
The system is very smart and can understand how to apply your edits to the files, you just need to provide minimal hints.
Avoid repeating existing code, instead use comments to represent regions of unchanged code. Be as concise as possible. For example:
// ...existing code...
{ changed code }
// ...existing code...
{ changed code }
// ...existing code...

Here is an example of how you should use format an edit to an existing Person class:
class Person {
	// ...existing code...
	age: number;
	// ...existing code...
	getAge() {
		return this.age;
	}
}`}),explanation:I.String({description:"A short explanation of the edit being made."})})})}async invoke(t,r,n){try{let i=await this.mapCode(r.input,t,n);return await this.invokeClientEditFileTool(t,r,i,n),this.readFileContentAfterEdit(r.input,t,n)}catch(i){let s=i instanceof Error?i.message:"An unknown error occurred";return new r0([new t0(s)])}}async mapCode(t,r,n){let{filePath:i}=t,s=lg(i);if(!s)throw new Error(`Invalid file path: ${i}`);return await new $8(r.ctx).mapCode({code:t.code,resource:s,markdownBeforeBlock:t.explanation},n)}async invokeClientEditFileTool(t,r,n,i){let s=t.ctx.get(Fd).getToolByNameAndProvider("insert_edit_into_file",ag);if(!s)throw new Error("Client tool insert_edit_into_file is not registered");return t.ctx.get(Fd).invokeTool(t,s.id,{toolInvocationToken:r.toolInvocationToken,input:{filePath:r.input.filePath,code:n,explanation:r.input.explanation},roundId:r.roundId,toolCallId:r.toolCallId},i)}async readFileContentAfterEdit(t,r,n){let{filePath:i}=t,s=lg(i);if(!s)throw new Error(`Invalid file path: ${i}`);let a=await r.ctx.get(dn).getOrReadTextDocument({uri:s});if(a.status==="notfound")return new r0([new t0(`File ${i} is not found`)]);if(a.status==="invalid")return new r0([new t0(`File ${i} is invalid with ${a.reason}`)]);{let l=a.document.getText(),c=sh(l),u=[];return u.push(`<file_after_edit path="${i}">`),u.push("This is the new state of the file after the edit. Base future edits off of this file, no need to read it again, unless a terminal command may have changed it."),u.push(`${c}${a.document.detectedLanguageId}`),u.push(`${l}`),u.push(`${c}`),u.push("</file_after_edit>"),new r0([new t0(u.join(`
`))])}}prepareInvocation(t,r){let{input:n}=t;if(!n.filePath.length)return{progressMessage:"Running insert_edit_into_file tool"};let i=lg(n.filePath);return{progressMessage:`Editing ${f6(i)}`}}static toEditFileParams(t){if(typeof t.filePath!="string")throw new Error("filePath must be a string");if(typeof t.code!="string")throw new Error("code must be a string");if(typeof t.explanation!="string")throw new Error("explanation must be a string");return{filePath:t.filePath,code:t.code,explanation:t.explanation}}};d();var TW=class extends Xy{static{o(this,"ListDirTool")}constructor(){super({name:"list_dir",displayName:"List Directory",descriptionForModel:"List the contents of a directory. Result will have the name of the child. If the name ends in /, it's a folder, otherwise a file",descriptionForUser:"List the contents of a directory",inputSchema:I.Object({path:I.String({description:"The absolute path to the directory to list."})})})}async invoke(t,r,n){let{path:i}=r.input,s=lg(i),l=await t.ctx.get(ko).readDirectory(s.toString());return l.length===0?new r0([new t0("Folder is empty")]):new r0([new t0(l.map(([c,u])=>`${c}${u===2?"/":""}`).join(`
`))])}prepareInvocation(t,r){let n=lg(t.input.path);return{progressMessage:`Reading ${f6(n)}`}}static toListDirParams(t){if(typeof t.path!="string")throw new Error("path must be a string");return{path:t.path}}};d();var wW=class extends Xy{static{o(this,"ReadFileTool")}constructor(){super({name:"read_file",displayName:"Read File",descriptionForModel:`Read the contents of a file.

You must specify the line range you're interested in, and if the file is larger, you will be given an outline of the rest of the file. If the file contents returned are insufficient for your task, you may call this tool again to retrieve more content.`,descriptionForUser:"Read a file in the workspace.",inputSchema:I.Object({filePath:I.String({description:"The absolute path of the file to read."}),startLineNumberBaseZero:I.Number({description:"The line number to start reading from, 0-based."}),endLineNumberBaseZero:I.Number({description:"The inclusive line number to end reading at, 0-based."})})})}async invoke(t,r,n){try{let{filePath:i,startLineNumberBaseZero:s,endLineNumberBaseZero:a}=r.input,l=lg(i);if(!l)throw new Error(`Invalid file path: ${i}`);let u=await t.ctx.get(dn).getOrReadTextDocument({uri:l});if(u.status==="valid")return new r0([new t0(`\`\`\`\`
// filepath: ${i}
${u.document.getText({start:{line:s,character:0},end:{line:a+1,character:0}})}
\`\`\`\``)]);throw new Error("File is outside of the workspace and can't be read")}catch(i){let s=i instanceof Error?i.message:"An unknown error occurred";return new r0([new t0(s)])}}prepareInvocation(t,r){let{input:n}=t;if(!n.filePath.length)return{progressMessage:"Running read_file tool"};let i=lg(n.filePath);return{progressMessage:`Reading ${f6(i)}`}}static toReadFileParams(t){if(typeof t.filePath!="string")throw new Error("filePath must be a string");if(typeof t.startLineNumberBaseZero!="number")throw new Error("startLineNumberBaseZero must be a number");if(typeof t.endLineNumberBaseZero!="number")throw new Error("endLineNumberBaseZero must be a number");return{filePath:t.filePath,startLineNumberBaseZero:t.startLineNumberBaseZero,endLineNumberBaseZero:t.endLineNumberBaseZero}}};function nPe(){return[new TW,new wW,new vW]}o(nPe,"getAllClsTools");var Fd=class{constructor(t){this.ctx=t;this._toolRegistry=new bW;for(let r of nPe())this._toolRegistry.registerTool(r)}static{o(this,"ToolsService")}registerTool(t){this._toolRegistry.registerTool(t)}unregisterTool(t){return typeof t=="string"?this._toolRegistry.unregisterTool(t):this._toolRegistry.unregisterTool(t.id)}prepareInvocation(t,r,n){let i=this._toolRegistry.getTool(t);if(!i)throw new Error(`Tool with id '${t}' is undefined`);return i.prepareInvocation?.(r,n)??{}}async invokeTool(t,r,n,i){let s=this._toolRegistry.getTool(r);if(!s)throw new Error(`Tool with id '${r}' is undefined`);return await s.invoke?.(t,n,i)??new r0([])}getToolById(t){return this._toolRegistry.getTool(t)}getToolByNameAndProvider(t,r){return this._toolRegistry.listTools().find(n=>n.name===t&&n.toolProvider.id===r.id)}getToolsForModel(){return Array.from(this.getToolMapForModel().values())}getToolMapForModel(){let t=new Map;for(let c of this._toolRegistry.listTools())t.has(c.toolProvider.id)||t.set(c.toolProvider.id,[]),t.get(c.toolProvider.id)?.push(c);let r=t.get(Jy.id)?.find(c=>c.name==="insert_edit_into_file");r&&t.get(Jy.id)?.splice(t.get(Jy.id)?.indexOf(r)??0,1);let n=t.get(ag.id)?.find(c=>c.name==="insert_edit_into_file");n&&t.get(ag.id)?.splice(t.get(ag.id)?.indexOf(n)??0,1);let i=new Map;r&&n&&i.set(r.nameForModel,r);let s=t.get(ag.id)??[],a=t.get(Jy.id)??[],l=Array.from(t.entries()).filter(([c])=>c!==Jy.id&&c!==ag.id).flatMap(([,c])=>c);return s.forEach(c=>{i.has(c.nameForModel)||i.set(c.nameForModel,c)}),a.forEach(c=>{i.has(c.nameForModel)||i.set(c.nameForModel,c)}),l.forEach(c=>{i.has(c.nameForModel)||i.set(c.nameForModel,c)}),i}};d();d();var Ex=class{static{o(this,"FallbackContextProviderFeatureLifecycle")}async dispose(){}};d();var sPe=require("crypto"),Aae=require("fs"),yae=tt(require("path"));var iPe="symbolDatabaseLookup",oPe="fallbackContextProviderDocumentSymbols",bx=class{constructor(t){this.persistenceManager=t}static{o(this,"WorkspaceDatabasePersistenceManager")}async getDBFilePath(t){await this.init();let r=await this.persistenceManager.read(iPe,t);return r||(r=await this.createDBFile(t)),yae.default.join(this.persistenceManager.directory,oPe,r)}async init(){let t=yae.default.join(this.persistenceManager.directory,oPe);await this.createIfNotExists(t)}async dirExists(t){try{return await Aae.promises.access(t),!0}catch{return!1}}async createIfNotExists(t){try{await this.dirExists(t)||await Aae.promises.mkdir(t,{recursive:!0})}catch{throw new Error(`Failed to create directory: ${t}`)}}async createDBFile(t){let r=`${(0,sPe.randomUUID)()}.db`;return await this.persistenceManager.update(iPe,t,r),r}async deleteDBFile(t){}};d();d();var vx=class{static{o(this,"FileSearch")}};d();var __=class{constructor(t,r){this.workspaceUris=t;this.params=r}static{o(this,"FileWatcher")}};d();d();var aPe=100,AIt=5e3,SW=class{static{o(this,"CachedContextFetcher")}constructor(){}runWithCache(t,r,n,i,s,a,l){let c=Date.now(),u=this.get(n,i,r,c);if(u)return this.incrementRefCount(u),l.onCancellationRequested(()=>this.decrementRefCount(u)),u.value;if(!a)return t(r,n,i,s,l);let f=new qn.CancellationTokenSource,m=o(()=>f.cancel(),"cancel"),h=t(r,n,i,s,f.token);return u=this.setBasedOnLastDelimiter(n,i,r,c,h,m),this.incrementRefCount(u),l.onCancellationRequested(()=>this.decrementRefCount(u)),h}get(t,r,n,i){if(this.cachedValue&&this.cachedValue.uri===n&&!(Math.abs(this.cachedValue.cursorPosition-r)>aPe)){if(r>this.cachedValue.cursorPosition){if(t.substring(this.cachedValue.cursorPosition,r).match(/[^A-Za-z0-9]/))return}else if(r<this.cachedValue.cursorPosition)return;if(!(i-this.cachedValue.timestamp>AIt))return this.cachedValue}}setBasedOnLastDelimiter(t,r,n,i,s,a){let l=t.substring(0,r),c=/[A-Za-z0-9]+$/.exec(l),u=r;c&&(u=c.index),r-u>aPe&&(u=r);let f={cursorPosition:u,uri:n,timestamp:i,fullText:t,value:s.finally(()=>{f.complete=!0}),refCount:0,cancel:a,uuid:Tr(),complete:!1};return this.cachedValue=f}incrementRefCount(t){t&&t.refCount++}decrementRefCount(t){t&&!t.complete&&(t.refCount--,t.refCount<=0&&t.cancel())}};d();d();d();var _W=class{constructor(t){this.maxDegreeOfParalellism=t;this.outstandingPromises=[],this.runningPromises=0}static{o(this,"PriorityLimiter")}queue(t,r=!1){return new Promise((n,i)=>{r?this.outstandingPromises.unshift({factory:t,c:n,e:i}):this.outstandingPromises.push({factory:t,c:n,e:i}),this.consume()})}consume(){for(;this.outstandingPromises.length&&this.runningPromises<this.maxDegreeOfParalellism;){let t=this.outstandingPromises.shift();this.runningPromises++;let r=t.factory();r.then(t.c,t.e),r.then(()=>this.consumed(),()=>this.consumed())}}consumed(){this.runningPromises--,this.outstandingPromises.length>0&&this.consume()}};var lPe=tt(Vn());var Cae="main.js",kW=class{constructor(t,r=3){this.promiseResolvers=new Map;this.id=0;try{let n={cwd:process.cwd(),indexWorkspaceRoots:t};this.worker=kJ(Cae,n),this.worker.on("message",this.handleWorkerMessage.bind(this)),this.worker.on("error",i=>{this.handleUnexpectedError(i)}),this.postMessageQueue=new _W(r)}catch(n){throw console.error(`Failed to create worker: ${n.message}`),n}}static{o(this,"IndexClient")}dispose(){return this.postMessageInQueue(new EN(this.id++),lPe.CancellationToken.None,!0)}async indexFile(t,r,n){return await this.postMessageInQueue(new yN(this.id++,t,r),n)}async getAllFileNames(t,r){return this.postMessageInQueue(new CN(this.id++,t),r)}getContext(t,r,n,i,s){return this.postMessageInQueue(new xN(this.id++,t,r,n,i),s,!0)}tryCreateIndex(t,r,n){return this.postMessageInQueue(new gN(this.id++,t,r),n)}async postMessageInQueue(t,r,n=!1){return this.postMessageQueue.queue(()=>this.postMessageAndWait(t,r),n)}tryRemoveIndex(t,r){return this.postMessageAndWait(new AN(this.id++,t),r)}async postMessageAndWait(t,r){if(this.fatalError)return Promise.reject(this.fatalError);let n=new Promise((s,a)=>{this.promiseResolvers.set(t.id,{resolve:s,reject:a})});this.worker.postMessage(t);let i=r.onCancellationRequested(()=>{this.worker.postMessage(new pN(t.id))});try{return await n}finally{i.dispose()}}handleWorkerMessage(t){if(t.operation!=="response")throw new Error("Unexpected message operation");let r=this.promiseResolvers.get(t.id);if(!r)throw new Error(`Received response for message that isn't in progress: ${t.id}`);this.promiseResolvers.delete(t.id),t.error?(t.error.code=t.code,r.reject(t.error)):r.resolve(t.data)}handleUnexpectedError(t){let r;if(t instanceof Error){r=t,r.code==="MODULE_NOT_FOUND"&&r.message?.endsWith(Cae+"'")&&(r=new Error(`Failed to load ${Cae}`),r.code="CopilotPromptLoadFailure");let n=new Error().stack;r.stack&&n?.match(/^Error\n/)&&(r.stack+=n.replace(/^Error/,""))}else t&&typeof t=="object"&&"name"in t&&"status"in t&&t.name==="ExitStatus"&&typeof t.status=="number"?(r=new Error(`worker.js exited with status ${t.status}`),r.code=`CopilotPromptWorkerExit${t.status}`):r=new Error(`Non-error thrown: ${JSON.stringify(t)}`);for(let n of this.promiseResolvers.values())n.reject(r);this.promiseResolvers.clear(),this.fatalError=r}};var k_=tt(Vn());var d6="fallbackContextProvider",df=new Ar(d6),Ix=class{constructor(t,r,n,i){this.ctx=t;this.watcher=r;this.workspaceDatabasePersistenceManager=n;this.workspaceInit=new Map;this.watcher.onFileChange(async(s,a)=>{await this.indexFile(a,this.languageId(a)??"plaintext")}),this.watcher.onWorkspaceChange(async(s,a)=>{if(s===1){df.debug(this.ctx,`workspace removed: ${a}`),await this.indexClient.tryRemoveIndex(a,k_.CancellationToken.None);return}df.debug(this.ctx,`workspace added: ${a}`),await this.indexAddedWorkspace(a)}),this.indexClient=new kW(i);for(let s of i){let a=s.rootPath;this.workspaceInit.set(a,this.doWorkspaceIndex(a).then(()=>{df.debug(this.ctx,`workspace ${a} indexed`),this.workspaceInit.delete(a)}))}}static{o(this,"FallbackContextIndexWatcher")}isInitializing(t){for(let[r]of this.workspaceInit)if(t.startsWith(r))return!0;return!1}dispose(){return this.indexClient.dispose()}async indexAddedWorkspace(t){let r=await CIt(t,this.workspaceDatabasePersistenceManager);await this.indexClient.tryCreateIndex(r.rootPath,r.databaseFilePath,k_.CancellationToken.None),this.workspaceInit.has(t)&&await this.workspaceInit.get(t);let n=this.doWorkspaceIndex(t).then(()=>{df.debug(this.ctx,`workspace ${t} indexed`),this.workspaceInit.delete(t)});this.workspaceInit.set(t,n)}async doWorkspaceIndex(t){df.debug(this.ctx,`indexing workspace ${t}`);let r=UJ.map(f=>`*${f}`);if(r.length===0)return;let i=`**/${UJ.length===1?r[0]:`{${r.join(",")}}`}`,s=this.ctx.get(vx),a=await Promise.all([s.findFiles(i,{uri:t},{excludeGitignoredFiles:!0,excludeIDEIgnoredFiles:!0,excludeIDESearchIgnoredFiles:!0}),this.indexClient.getAllFileNames(t,k_.CancellationToken.None)]),l=a[0],c=a[1],u=Array.from(new Set([...l,...c]));df.debug(this.ctx,`found ${u.length} files to index in ${t}`),await Promise.all(u.map(async f=>{let m=this.languageId(f);m&&await this.indexFile(f.replace(/\/+$/,""),m)})),df.debug(this.ctx,`finished indexing workspace ${t}`)}async indexFile(t,r){try{df.debug(this.ctx,`index triggered for ${t}`),await this.indexClient.indexFile(t,r,k_.CancellationToken.None)}catch(n){df.debug(this.ctx,`failed to index ${t} with ${n}`)}}languageId(t){return oCe(t)}};async function CIt(e,t){return{databaseFilePath:await t.getDBFilePath(e),rootPath:e}}o(CIt,"createIndexableWorkspaceFolder");var BW=class{constructor(t){this.id=d6;this.selector=oN.map(t=>({language:t.languageId}));try{this.documentManager=t.get(Vr),this.resolver=new xae(this.documentManager,t)}catch(r){throw df.error(t,"Failed to create fallback context provider",r),r}}static{o(this,"FallbackContextProvider")}},xae=class{constructor(t,r){this.ctx=r;this.documentManager=t,this.cachedContextFetcher=new SW}static{o(this,"FallbackContextResolver")}resolve(t,r){return this.resolveImpl(t,r)}async resolveImpl(t,r){let n=this.ctx.get(Ex).indexWatcher;if(!n)return[];if(n.isInitializing(t.documentContext.uri))return[];let i=n.indexClient;try{let s=await this.documentManager.getTextDocument({uri:t.documentContext.uri});if(s?.version!==t.documentContext.version)return[];let a=t.documentContext.position,l=t.documentContext.proposedEdits??[];({textDocument:s,position:a}=LL(s,a,l));let c=s.getText(),u=await this.cachedContextFetcher.runWithCache(i.getContext.bind(i),t.documentContext.uri,c,s.offsetAt(a),t.documentContext.languageId,l.length===0,r);return df.debug(this.ctx,`Context items found for ${t.documentContext.uri}: ${u.map(f=>JSON.stringify(f)).join(", ")}`),u}catch(s){if(RT(s))return[];throw df.error(this.ctx,"Failed to get context",s),s}}};var B_=class extends l6{constructor(r){super();this.started=!1;this.ctx=r,this.ctx.get(Pd).addListener(this)}static{o(this,"AgentFallbackContextProvider")}async start(){if(!this.started&&await this.isEnabled()&&!this.ctx.get(ma).providers.some(r=>r.id===d6)){let r=this.ctx.get(bx);this.fileWatcher=new Eae([],{excludeGitignoredFiles:!0,excludeIDEIgnoredFiles:!1,excludeIDESearchIgnoredFiles:!1}),this.fallbackContextIndexWatcher=new Ix(this.ctx,this.fileWatcher,r,[]),this.fileSearch=new bae(this.ctx),this.ctx.set(__,this.fileWatcher),this.ctx.set(vx,this.fileSearch),this.ctx.set(Ix,this.fallbackContextIndexWatcher),this.ctx.get(ma).registerContextProvider(new BW(this.ctx)),this.started=!0}}isStarted(){return this.started}async isEnabled(){try{await this.ctx.get(qr).getToken()}catch{return!1}let r=await this.ctx.get(ar).updateExPValuesAndAssignments(),n=kI(this.ctx,r);return n.includes(d6)||n.length===1&&n[0]==="*"}async onWorkspaceAdded(r){await this.isEnabled()&&await this.fileWatcher?.triggerWorkspaceChange(0,r.uri)}async onWorkspaceRemoved(r){await this.isEnabled()&&await this.fileWatcher?.triggerWorkspaceChange(1,r.uri)}async onWorkspaceSubfoldersTerminated(r,n){if(await this.isEnabled())return super.onWorkspaceSubfoldersTerminated(r,n)}async onFileChange(r){if(await this.isEnabled())for(let n of r.documents)await this.fileWatcher?.triggerFileChange(this.toFileWatcherType(r.type),n.uri)}toFileWatcherType(r){switch(r){case"create":return 2;case"delete":return 1;case"update":return 0;default:throw new Error("Unknown file watcher event type")}}},Eae=class extends __{constructor(r,n){super(r,n);this.fileChangeListeners=[];this.workspaceChangeListeners=[]}static{o(this,"FallbackFileWatcher")}onFileChange(r){this.fileChangeListeners.push(r)}onWorkspaceChange(r){this.workspaceChangeListeners.push(r)}dispose(){}async triggerFileChange(r,n){for(let i of this.fileChangeListeners)await i(r,n)}async triggerWorkspaceChange(r,n){for(let i of this.workspaceChangeListeners)await i(r,n)}},bae=class extends vx{constructor(r){super();this.ctx=r}static{o(this,"LspFileSearch")}async findFiles(r,n,i){return(await this.ctx.get(B0).getWatchedFiles(n)).map(a=>this.ctx.get(Vr).getTextDocumentUnsafe(a)?.clientUri??a.uri)}};var vae=class extends Ex{static{o(this,"AgentFallbackContextProviderFeatureLifecycle")}constructor(t){super(),this.agentFallbackContextProvider=new B_(t),t.set(B_,this.agentFallbackContextProvider)}get indexWatcher(){return this.agentFallbackContextProvider?.fallbackContextIndexWatcher}async tryStart(t){}async dispose(){return super.dispose()}};function cPe(e){let t=e.get(e0),r=new bx(t);e.set(bx,r),e.set(Ex,new vae(e))}o(cPe,"setupFallbackContextProviderFeature");d();d();d();var cg=new Map;cg.set("copilot",{app:"copilot-client",catalog_service:"CopilotCompletionsVSCode"});cg.set("copilot-intellij",{app:"copilot-intellij",catalog_service:"CopilotIntelliJ"});cg.set("copilot-xcode",{app:"copilot-xcode",catalog_service:"CopilotXcode"});cg.set("copilot-eclipse",{app:"copilot-eclipse",catalog_service:"CopilotEclipse"});cg.set("copilot.vim",{app:"copilot-vim",catalog_service:"CopilotVim"});cg.set("copilot-vs",{app:"copilot-vs",catalog_service:"CopilotVS"});var EIt=new Ar("sdk");function RW(e,t){cg.has(e.get(an).getEditorPluginInfo().name)||EIt.warn(e,...t)}o(RW,"deprecationWarning");var eqe=tt(Wae()),Eh=tt(xp());d();d();d();var nn={ParseError:-32700,InvalidRequest:-32600,MethodNotFound:-32601,InvalidParams:-32602,InternalError:-32603,ServerNotInitialized:-32002,RequestCancelled:-32800,ContentModified:-32801,ServerCancelled:-32802,NoCopilotToken:1e3,DeviceFlowFailed:1001,CopilotNotAvailable:1002};var cc=class extends Error{static{o(this,"SchemaValidationError")}constructor(t){super(eNe(t))}};function st(e,t){let r=Ds.Compile(e);return async(n,i,s)=>{if(!r.Check(s)){let a=eNe(r.Errors(s));return[null,{code:nn.InvalidParams,message:a}]}return t(n,i,s)}}o(st,"addMethodHandlerValidation");function eNe(e){return`Schema validation failed with the following errors:
${Array.from(e).map(r=>`- ${r.path}: ${r.message}`).join(`
`)}`}o(eNe,"createErrorMessage");d();var Gae=tt(Vn());d();var fg=class{constructor(t){this.ctx=t}static{o(this,"AbstractCommand")}};var GW="github.copilot.finishDeviceFlow",Hae=class extends fg{constructor(){super(...arguments);this.name=GW;this.arguments=I.Tuple([])}static{o(this,"FinishDeviceFlowCommand")}async handle(r,n){let i=this.ctx.get(wn).pendingSignIn;if(!i)throw new Gae.ResponseError(nn.InvalidRequest,"No pending sign in");try{await this.ctx.get(Vl).open(i.verificationUri)}catch(s){Ru.warn(this.ctx,"Failed to open",i.verificationUri),Ru.exception(this.ctx,s,GW)}try{return await i.status}catch(s){throw new Gae.ResponseError(nn.DeviceFlowFailed,String(s))}finally{this.ctx.get(wn).pendingSignIn=void 0}}},tNe=[Hae];d();d();var Wo=class extends xn{static{o(this,"CopilotCompletionCache")}constructor(t=100){super(t)}};var M_="github.copilot.didAcceptCompletionItem",Vae=class extends fg{constructor(){super(...arguments);this.name=M_;this.arguments=I.Tuple([I.String({minLength:1})])}static{o(this,"DidAcceptCommand")}handle(r,[n]){let s=this.ctx.get(Wo).get(n);return s?(OM(this.ctx,s),!0):!1}},rNe=[Vae];d();var A9t="github.copilot.didAcceptNextEditSuggestionItem",jae=class extends fg{constructor(){super(...arguments);this.name=A9t;this.arguments=I.Tuple([I.String({minLength:1})])}static{o(this,"DidAcceptCommand")}async handle(r,[n]){return await this.ctx.get(fh).handleAcceptance(n),!0}},nNe=[jae];d();var zae="github.copilot.didAcceptPanelCompletionItem",$ae=class extends fg{constructor(){super(...arguments);this.name=zae;this.arguments=I.Tuple([I.String({minLength:1})])}static{o(this,"DidAcceptPanelCompletionItemCommand")}handle(r,n){let[i]=n,a=this.ctx.get(Wo).get(i);return a?(P4(this.ctx,a.triggerCategory,a.insertText,a.offset,a.uri,a.telemetry,{compType:"full"},a.copilotAnnotations),!0):!1}},iNe=[$ae];var y9t=[...tNe,...rNe,...nNe,...iNe];function oNe(e,t){let r=new Map;for(let n of y9t){let i=new n(e),s=Ds.Compile(i.arguments);r.set(i.name,{typeCheck:s,command:i})}return t.onExecuteCommand((n,i)=>{let s=r.get(n.command);if(!s)throw new Error(`Unknown command: ${n.command}`);let a=mA(n.arguments??[]);if(a.length<s.command.arguments.minItems&&(a.length=s.command.arguments.minItems),s.typeCheck.Check(n.arguments))return s.command.handle(i,a);throw new cc(s.typeCheck.Errors(n.arguments))}),[...r.keys()]}o(oNe,"registerCommands");d();var sNe=tt(require("node:events"));var mf=class extends V3{constructor(r){super(new wv,new Map);this.emitters=new Map;this.envSettings=new Map;this.env={...r},this.setOverridesFromEnvironment()}static{o(this,"AgentConfigProvider")}setOverridesFromEnvironment(){["DebugOverrideEngine","DebugOverrideProxyUrl","DebugOverrideCapiUrl","DebugUseEditorFetcher","UseSubsetMatching","ExcludeOpenTabFilesCSharp","ExcludeOpenTabFilesCpp","FallbackToOpenTabFilesWithNoRelatedFiles"].forEach(n=>{for(let i of["AGENT_DEBUG_","GITHUB_COPILOT_","GH_COPILOT_"]){let s=`${i}${C9t(n.replace(/^Debug/,""))}`;s in this.env&&(this.envSettings.set(kt[n],this.env[s]),this.setConfig(kt[n],this.env[s]))}})}setConfig(r,n){super.setConfig(r,n??this.envSettings.get(r)),this.emitters.get(r)?.emit("change",n)}onConfigChange(r,n){this.emitters.has(r)||this.emitters.set(r,new sNe.default),this.emitters.get(r)?.on("change",n)}};function C9t(e){return e.replace(/([a-z])([A-Z]+)/g,"$1_$2").toUpperCase()}o(C9t,"camelCaseToSnakeCaseAllCaps");var x9t="unknown-editor",aNe="unknown-editor-plugin",HW=class extends an{static{o(this,"AgentEditorInfo")}setEditorAndPluginInfo(t,r,n=[]){this._editorInfo=r,this._editorPluginInfo=t,this._relatedPluginInfo=n}setCopilotIntegrationId(t){this._copilotIntegrationId=t}getEditorInfo(){return this._editorInfo?this._editorInfo:{name:x9t,version:"0"}}getEditorPluginInfo(){return this._editorPluginInfo?this._editorPluginInfo:{name:aNe,version:"0"}}getRelatedPluginInfo(){return this._relatedPluginInfo??[]}getCopilotIntegrationId(){return this._copilotIntegrationId}};function lNe(e){return e.getEditorPluginInfo().name!==aNe}o(lNe,"hasValidInfo");d();var uNe=require("node:events");var cNe="initialize",hA=class{constructor(){this.emitter=new uNe.EventEmitter;this.initialized=!1}static{o(this,"InitializedNotifier")}once(t){this.emitter.once(cNe,t)}emit(){if(this.initialized)throw new Error("Already initialized");this.initialized=!0,this.emitter.emit(cNe)}};d();var pA=tt(xp());var E9t=new Map([[4,pA.MessageType.Log],[3,pA.MessageType.Info],[2,pA.MessageType.Warning],[1,pA.MessageType.Error]]),VW=class extends _a{static{o(this,"NotificationLogger")}logIt(t,r,n,...i){if(r==4&&!UM(t)&&n!=="console")return;let s={type:E9t.get(r),message:l8e(n,...i)},a=t.get(jr).connection;try{a.sendNotification(new pA.NotificationType("window/logMessage"),s)}catch(l){if(l instanceof pA.ConnectionError)return;throw l}}};d();var fNe=tt(T0());var jW=class{constructor(t,r=!1){this.ctx=t;this.codeSnippets=r}static{o(this,"RedirectTelemetryReporter")}get notificationName(){return this.codeSnippets?"codeSnippetTelemetry":"uedTelemetry"}sendTelemetryEvent(t,r,n){this.ctx.get(jr).connection.sendNotification(new fNe.NotificationType(this.notificationName),{type:"event",name:t,properties:r||{},measurements:n||{}})}sendTelemetryErrorEvent(t,r,n){this.sendTelemetryEvent(t,r,n)}dispose(){return Promise.resolve()}};async function dNe(e){let t=e.get(ys),r=t.deactivate();t.setReporter(new jW(e)),t.setRestrictedReporter(new jW(e,!0)),await r}o(dNe,"setupRedirectingTelemetryReporters");d();d();var $W=class{static{o(this,"InstallationManager")}async startup(t){await this.isNewInstall(t)?(await this.markInstalled(t),this.handleInstall(t,await this.wasPreviouslyInstalled(t))):await this.isNewUpgrade(t)&&(await this.markUpgraded(t),this.handleUpgrade(t))}uninstall(t){return this.handleUninstall(t)}handleInstall(t,r){r?Gt(t,"installed.reinstall"):Gt(t,"installed.new")}handleUpgrade(t){Gt(t,"installed.upgrade")}handleUninstall(t){Gt(t,"uninstalled")}};var O_=tt(Wae());var p6=class extends $W{static{o(this,"AgentInstallationManager")}async isNewInstall(t){let r=t.get(an).getEditorPluginInfo();return await t.get(e0).read("versions",r.name)===void 0&&!await this.hasPersistedSettings(t)}async hasPersistedSettings(t){return(await t.get(e0).listSettings()).length>0}async markInstalled(t){let r=t.get(an).getEditorPluginInfo();await t.get(e0).update("versions",r.name,r.version)}wasPreviouslyInstalled(t){return Promise.resolve(!1)}async isNewUpgrade(t){try{let r=t.get(an).getEditorPluginInfo(),n=await t.get(e0).read("versions",r.name);return n===void 0&&await this.hasPersistedSettings(t)?!0:(0,O_.gt)((0,O_.coerce)(r.version),(0,O_.coerce)(n))}catch{return!1}}async markUpgraded(t){await this.markInstalled(t)}async uninstall(t){await super.uninstall(t);let r=t.get(an).getEditorPluginInfo();await t.get(e0).delete("versions",r.name),(await t.get(e0).listKeys("versions")).length===0&&await t.get(e0).deleteSetting("versions")}};d();var mNe=require("events"),Kae=tt(require("path")),zW=tt(T0());var Yae="didChangeWatchedFiles",b9t={watchedFiles:[],contentRestrictedFiles:[],unknownFileExtensions:[]},dh=class e{constructor(t){this.ctx=t;this.emitter=new mNe.EventEmitter}static{o(this,"LspFileWatcher")}static{this.requestType=new zW.ProtocolRequestType("copilot/watchedFiles")}get connection(){return this.ctx.get(jr).connection}init(){this.ctx.get(ts).getCapabilities().watchedFiles&&this.connection.onNotification(zW.DidChangeWatchedFilesNotification.type,r=>{"workspaceUri"in r&&typeof r.workspaceUri=="string"&&this.didChangeWatchedFilesHandler(r)})}async getWatchedFiles(t){if(!this.ctx.get(ts).getCapabilities().watchedFiles)return b9t;let i=(await this.connection.sendRequest(e.requestType,t)).files,s=[],a=[],l=[];for(let c of i){typeof c=="object"&&(c=c.uri);let u=Kae.extname(c).toLowerCase();if(!kT.includes(u)){l.push({uri:c});continue}let f=await this.getValidDocument(c);if(f===void 0){a.push({uri:c});continue}s.push(f)}return{watchedFiles:s,contentRestrictedFiles:a,unknownFileExtensions:l}}onDidChangeWatchedFiles(t){this.emitter.on(Yae,t)}offDidChangeWatchedFiles(t){this.emitter.off(Yae,t)}async didChangeWatchedFilesHandler(t){let r=[],n=[],i=[];for(let s of t.changes){let a=s.uri,l={uri:a,isRestricted:!1,isUnknownFileExtension:!1},c=Kae.extname(s.uri).toLowerCase();if(!kT.includes(c))l.isUnknownFileExtension=!0;else{let u=await this.getValidDocument(a);u===void 0?l.isRestricted=!0:l.document=u}switch(s.type){case 1:n.push(l);break;case 2:r.push(l);break;case 3:i.push(l);break}}this.emitter.emit(Yae,{workspaceFolder:{uri:t.workspaceUri},created:n,changed:r,deleted:i})}async getValidDocument(t){let n=await this.ctx.get(dn).getOrReadTextDocument({uri:t});return n.status==="valid"?n.document:void 0}};d();d();var v9t=I.Object({uri:I.String({minLength:1})});async function I9t(e,t,r){let n=await e.get(dn).getOrReadTextDocument(r);return[{status:rs(n),...n.status==="invalid"&&{reason:n.reason},...n.status==="notfound"&&{reason:n.message}},null]}o(I9t,"handleCheckFileStatusChecked");var hNe=st(v9t,I9t);d();var T9t=I.Object({options:I.Optional(I.Object({localChecksOnly:I.Optional(I.Boolean()),forceRefresh:I.Optional(I.Boolean())}))});async function w9t(e,t,r){return[await e.get(wn).checkAndUpdateStatus(e,r.options),null]}o(w9t,"handleCheckStatusChecked");var pNe=st(T9t,w9t);d();d();d();d();d();d();function gNe(e){return e?e.filter(t=>t.type==="github.web-search").map(t=>t):[]}o(gNe,"filterUnsupportedReferences");function ANe(e){return e?e.filter(t=>t.type==="github.web-search"):[]}o(ANe,"convertToCopilotReferences");var yNe=I.Object({type:I.Literal("github.web-search"),id:I.String(),data:I.Object({query:I.String(),type:I.String(),results:I.Optional(I.Array(I.Object({title:I.String(),excerpt:I.String(),url:I.String()})))}),metadata:I.Optional(I.Object({display_name:I.Optional(I.String()),display_icon:I.Optional(I.String())}))});var Zy=class{constructor(t){this.deltaApplier=t;this.appliedLength=0;this.appliedText="";this.appliedAnnotations=[]}static{o(this,"ConversationFinishCallback")}isFinishedAfter(t,r){let n=t.substring(this.appliedLength,t.length),s=this.mapAnnotations(r.annotations).filter(a=>!this.appliedAnnotations.includes(a.id));this.append(n,s,gNe(r.copilotReferences),r.copilotErrors??[],r.copilotConfirmation)}append(t,r,n,i,s){this.deltaApplier(t,r,n,i,s),this.appliedLength+=t.length,this.appliedText+=t,this.appliedAnnotations.push(...r.map(a=>a.id))}mapAnnotations(t){if(!t)return[];let r=[],n=t.for("CodeVulnerability").map(s=>({...s,type:"code_vulnerability"})),i=t.for("IPCodeCitations").map(s=>({...s,type:"ip_code_citations"}));return r.push(...n),r.push(...i),r}};d();var qa=class{static{o(this,"ConversationInspector")}};d();var Ls=class{constructor(t){this.ctx=t;this.progressEntries=new xn(250)}static{o(this,"ConversationProgress")}async begin(t,r,n){let i={status:"open",handler:n};this.progressEntries.set(t.id,i),await i.handler.begin(this.ctx,t,r)}async report(t,r,n){let i=this.getProgressEntry(t);i.status==="open"&&await i.handler.report(this.ctx,t,r,n)}async end(t,r,n){let i=this.getProgressEntry(t);i.status==="open"&&(this.progressEntries.set(t.id,{...i,status:"done",updatedAt:Date.now()}),await i.handler.end(this.ctx,t,r,n))}async cancel(t,r,n){let i=this.getProgressEntry(t);i.status==="open"&&(this.progressEntries.set(t.id,{...i,status:"cancelled",updatedAt:Date.now()}),await i.handler.cancel(this.ctx,t,r,n))}getProgressEntry(t){let r=this.progressEntries.get(t.id);if(r===void 0)throw new Error(`No work done token for conversation ${t.id}`);return r.status!=="open"&&Kr.error(this.ctx,`Work done token for conversation ${t.id} is already ${r.status}, last updated at ${r.updatedAt}`),r}};d();d();var dg=class{constructor(t){this.ctx=t;this.githubRepositoryInfoCache=new Map}static{o(this,"GitHubRepositoryApi")}async getRepositoryInfo(t,r){let n=this.githubRepositoryInfoCache.get(`${t}/${r}`);if(n)return n;let i=await this._doGetRepositoryInfo(t,r);if(i.ok){let s=await i.json();return this.githubRepositoryInfoCache.set(`${t}/${r}`,s),s}throw new Error(`Failed to fetch repository info for ${t}/${r}`)}async _doGetRepositoryInfo(t,r){let n=await this.ctx.get(qr).getGitHubToken(),i={Accept:"application/vnd.github+json","X-GitHub-Api-Version":"2022-11-28"};n&&(i.Authorization=`Bearer ${n}`);let s=this.ctx.get(Dn).getAPIUrl(`repos/${t}/${r}`);return this.ctx.get(Nr).fetch(s,{method:"GET",headers:i})}async isAvailable(t,r){try{return(await this._doGetRepositoryInfo(t,r)).ok}catch{return!1}}};d();d();d();var xNe=tt(hf());var mg=class{constructor(t,r,n){this.doc=t;this.selection=r;this.visibleRange=n}static{o(this,"ElidableDocument")}fromSelectedCode(t){let r=this.getExpandedSelection(),n=r;if(t.trimNewLines){let s=this.doc.getText(r),a=s.match(/^\n*/)?.[0].length??0,l=s.match(/\n*$/)?.[0].length??0;n={start:this.getLineStart(r.start.line+a),end:this.expandLineToEnd(r.end.line-l)}}let i=new Xt([(0,xNe.default)(this.doc.getText(n)).trim()]);return[this.wrapInTicks(i),n]}fromAllCode(t){let r=this.getDocumentRange(),n=this.getExpandedSelection(),i;!this.visibleRange||!this.rangeContainedIn(this.visibleRange,n)?i=n:i={start:this.getLineStart(this.visibleRange.start.line),end:this.expandLineToEnd(this.visibleRange.end.line)};let s={start:r.start,end:i.start.line>0?this.expandLineToEnd(i.start.line-1):r.start},a={start:i.start,end:n.start.line>0&&n.start.line>i.start.line?this.expandLineToEnd(n.start.line-1):i.start},l={start:n.end.line<this.doc.lineCount-1&&n.end.line<i.end.line?this.getLineStart(n.end.line+1):i.end,end:i.end},c={start:i.end.line<this.doc.lineCount-1?this.getLineStart(i.end.line+1):r.end,end:r.end},u=[[s,.6],[a,.8],[n,1],[l,.4],[c,.2]],f=new Xt(u.filter(([m,h])=>!g6(m)||h===1).map(([m,h])=>{let p;return t.addLineNumbers?p=this.addLineNumbers(m):p=this.doc.getText(m),[h==1?p:Lu(p),h]}));return this.wrapInTicks(f)}selectionIsDocument(){return this.rangeEquals(this.getExpandedSelection(),this.getDocumentRange())}selectionIsEmpty(){return this.selection==null||g6(this.selection)}getExpandedSelection(){return this.selection!==void 0?{start:this.getLineStart(this.selection.start.line),end:this.expandLineToEnd(this.selection.end.line)}:this.getDocumentRange()}getDocumentRange(){return{start:this.getLineStart(0),end:this.expandLineToEnd(this.doc.lineCount-1)}}getLineStart(t){return{line:t,character:0}}expandLineToEnd(t){return t>this.doc.lineCount-1&&(t=this.doc.lineCount-1),{line:t,character:this.doc.lineAt({line:t,character:0}).text.length}}rangeContainedIn(t,r){return t.start.line<=r.start.line&&t.end.line>=r.end.line}rangeEquals(t,r){return t.start.line==r.start.line&&t.end.line==r.end.line}wrapInTicks(t,r){return new Xt([["```"+this.doc.detectedLanguageId,1],[t,r??1],["```",1]])}addLineNumbers(t){let r=this.doc.getText(t).split(`
`),n=this.doc.lineCount.toString().length;return r.map((s,a)=>`${(t.start.line+a+1).toString().padEnd(n," ")}:${s}`).join(`
`)}};function g6(e){return e.start.line==e.end.line&&e.start.character==e.end.character}o(g6,"isEmptyRange");var ENe=tt(require("path"));var bNe=I.Object({uri:I.String(),visibleRange:I.Optional(V0),selection:I.Optional(V0)}),Jae=class{constructor(t){this.turnContext=t}static{o(this,"CurrentEditorSkillProcessor")}value(){return 1}async processSkill(t){let r=this.turnContext.ctx.get(dn),n=await r.getOrReadTextDocument(t),i=rs(n);if(await this.turnContext.collectFile(P0,t.uri,i),n.status==="valid"){let s=this.turnContext.conversation.source==="inline",a=new mg(n.document,t.selection,t.visibleRange),l=r.getRelativePath(n.document);if(i==="empty")return new Xt([`The currently open file \`${l}\` is empty.`]);let c=[[`Code excerpt from the currently open file \`${l}\`:`,1],[a.fromAllCode({addLineNumbers:s}),1]],u=[];if(a.selectionIsDocument())u=[["The user is selecting the entire file.",1]];else if(s){let[f,m]=a.fromSelectedCode({trimNewLines:!0}),h=m.start.line+1;if(g6(m))u=[[`The user is selecting line ${h}, which is empty.`,1]];else{let p=m.end.line+1;u=[["The user is selecting"+(h==p?` line ${h}:`:` lines ${h} to ${p} (inclusive):`),1],[f,1]]}}else a.selectionIsEmpty()||(u=[["The user is selecting this code:",1],[a.fromSelectedCode({trimNewLines:!1})[0],1]]);return new Xt([...c,...u])}else if(n.status==="invalid")return new Xt([`The currently open file \`${ENe.basename(t.uri)}\` is content excluded.`])}},P0="current-editor",YW=class{constructor(t){this._resolver=t;this.id=P0;this.type="explicit"}static{o(this,"CurrentEditorSkill")}description(){return"The code from the user's currently open file"}resolver(){return this._resolver}processor(t){return new Jae(t)}};d();d();var Wa=class{constructor(){this.skills=[]}static{o(this,"ConversationSkillRegistry")}registerSkill(t){if(this.getSkill(t.id))throw new Error(`Skill with id '${t.id}' already registered`);this.skills.push(t)}getSkill(t){return this.skills.find(r=>r.id===t)}getDescriptors(){return[...this.skills]}},Xae=class{constructor(t,r,n){this.delegate=t;this.stepId=r;this.stepTitle=n}static{o(this,"StepReportingSkillResolver")}async resolveSkill(t){await t.steps.start(this.stepId,this.stepTitle);try{let r=await this.delegate.resolveSkill(t);return r||await t.steps.finish(this.stepId),r}catch(r){throw await t.steps.error(this.stepId,r instanceof Error?r.message:`Error resolving ${this.stepTitle}`),r}}},Zae=class{constructor(t,r){this.delegate=t;this.stepId=r}static{o(this,"StepReportingSkillProcessor")}value(){return this.delegate.value()}async processSkill(t,r){try{let n=await this.delegate.processSkill(t,r);return await r.steps.finish(this.stepId),n}catch(n){throw await r.steps.error(this.stepId,n instanceof Error?n.message:`Error processing ${this.stepId}`),n}}},Sl=class{constructor(t,r,n,i,s,a="explicit",l=[],c=()=>!0){this.id=t;this._description=r;this.stepTitle=n;this._resolver=i;this._processor=s;this.type=a;this._examples=l;this._isAvailable=c}static{o(this,"SingleStepReportingSkill")}description(){return this._description}examples(){return this._examples}isAvailable(t){return this._isAvailable(t)}resolver(t){return new Xae(this._resolver(t),this.id,this.stepTitle)}processor(t){return new Zae(this._processor(t),this.id)}};var vNe=I.Object({name:I.String(),url:I.String()}),INe=I.Object({path:I.String(),head:I.Optional(I.Object({name:I.String(),upstream:I.Optional(vNe)})),remotes:I.Optional(I.Array(vNe))}),ele=class{constructor(t){this.turnContext=t}static{o(this,"GitMetadataSkillProcessor")}value(){return .8}async processSkill(t){this.turnContext.collectLabel(wx,"git repository information");let r=[];return r.push([new Xt(["Metadata about the current git repository:"]),1]),t.head&&t.head.name?(r.push([new Xt([`- Current branch name: ${t.head.name}`]),1]),t.head.upstream&&r.push([new Xt([`- Upstream name and url: ${t.head.upstream.name} - ${t.head.upstream.url}`]),1])):r.push([new Xt(["- Detached HEAD: yes"]),1]),t.remotes&&t.remotes.length>0&&r.push([new Xt([`- Remotes: ${t.remotes.map(n=>n.name).join(", ")}`]),1]),new Xt(r)}},wx="git-metadata",KW=class extends Sl{static{o(this,"GitMetadataSkill")}constructor(t){super(wx,"Metadata about the current git repository, useful for questions about branch management and git related commands","Reading git information",()=>t,r=>new ele(r))}};async function TNe(e){let t=await e.skillResolver.resolve(P0);if(t){let a=t.uri,l=v5(e.ctx,a);if(H5e(l))return{repoInfo:l,skillUsed:P0}}let r=await e.skillResolver.resolve(wx);if(!r||!r.remotes||r.remotes.length===0){Kr.debug(e.ctx,"Git metadata skill is not available or no remotes available.");return}let i=r.remotes.find(a=>a.name==="origin")??r.remotes[0],s=WK(i.url);if(s)return{repoInfo:{baseFolder:{uri:r.path},url:i.url,...s},skillUsed:wx}}o(TNe,"extractRepoInfo");async function wNe(e){let t=[];return await S9t(e,t),await _9t(e,t),await k9t(e,t),t}o(wNe,"skillsToReference");async function S9t(e,t){let r=await B9t(e);r&&t.push(r)}o(S9t,"addRepositoryReference");async function _9t(e,t){let r=await R9t(e);r&&t.push(r)}o(_9t,"addSelectionReference");async function k9t(e,t){let r=[],n=await P9t(e);n&&r.push(n),r.push(...await F9t(e)),r.length>0&&t.push(...r)}o(k9t,"addFileReferences");async function B9t(e){let t=await TNe(e);if(t){let r=e.ctx.get(dg),n=t.repoInfo.owner,i=t.repoInfo.repo;if(await r.isAvailable(n,i))return{type:"github.repository",id:`${n}/${i}`,data:{type:"repository",name:i,ownerLogin:n,id:(await r.getRepositoryInfo(n,i)).id}}}}o(B9t,"gitMetadataToReference");async function R9t(e){let t=await e.skillResolver.resolve(P0);if(t&&t.selection){let n=await e.ctx.get(dn).getOrReadTextDocument(t),i=rs(n);if(await e.collectFile(e.turn.agent.agentSlug,t.uri,i,t.selection),n.status==="valid")return await D9t(t,n.document)}}o(R9t,"currentEditorToSelectionReference");async function D9t(e,t){if(e.selection&&!g6(e.selection)){let r=t.getText(e.selection);return{type:"client.selection",id:e.uri,data:{start:{line:e.selection.start.line,col:e.selection.start.character},end:{line:e.selection.end.line,col:e.selection.end.character},content:r}}}}o(D9t,"extractSelection");async function P9t(e){let t=await e.skillResolver.resolve(P0);if(t){let n=await e.ctx.get(dn).getOrReadTextDocument(t),i=rs(n);if(await e.collectFile(e.turn.agent.agentSlug,t.uri,i),n.status==="valid")return{type:"client.file",id:n.document.uri,data:{content:n.document.getText(),language:n.document.detectedLanguageId}}}}o(P9t,"currentEditorToFileReference");async function F9t(e){let t=[],r=e.turn.request.references;if(r&&r.length>0){let n=e.ctx.get(dn);for(let i of r)if(i.type==="file"){let s=await n.getOrReadTextDocument(i),a=rs(s);if(await e.collectFile(e.turn.agent.agentSlug,i.uri,a,i.selection),s.status==="valid"){let l=s.document.getText();t.push({type:"client.file",id:i.uri,data:{content:l,language:s.document.detectedLanguageId}})}}}return t}o(F9t,"fileReferenceToPlatformFileReference");d();d();d();d();var FNe=tt(ZW()),NNe=require("node:url"),ile=tt(require("path"));var LNe=500,H9t=Math.floor(.25*LNe),eG=class{static{o(this,"FixedSizeChunking")}async chunk(t,r){let n=[],i=ile.default.extname(__filename)===".ts"?ile.default.resolve(__dirname,"../../../../../../dist/main.js"):__filename;return n=await FNe.job(async({text:s,uri:a,tokenizerName:l,directory:c,chunkSize:u,overlap:f})=>{let h=(await import(c)).getTokenizer(l),p=h.tokenize(s),A=p.length,x=[],E=0;for(;E<A;){let v=E+u>=A,b=v?A:E+u,S=p.slice(E,b),B=h.detokenize(S),P=s.indexOf(B);x.push({id:`${a.toString()}#${E}`,chunk:B,tokenCount:S.length,range:{start:P,end:P+B.length}}),E=v?b:b-f}return x},{data:{text:t.getText(),uri:t.uri.toString(),tokenizerName:r.tokenizer,directory:(0,NNe.pathToFileURL)(i).href,chunkSize:LNe,overlap:H9t}}),n}};var V9t="fixedSize",j9t=new Map([["fixedSize",eG]]);function QNe(e){let t=e==="default"?V9t:e,r=j9t.get(t);if(!r)throw new Error(`Chunking constructor for type ${e} not found`);return r}o(QNe,"getChunkingAlgorithm");d();d();var tG=tt(Y2()),gA=tt(require("fs")),MNe=require("os"),mh=tt(require("path")),A6=require("process");var ole=5e4,$9t=new Ar("workspaceChunks"),rG=class e{constructor(t,r){this.ctx=t;this.pathHashLength=8;let n=_o(r.uri),i=(0,tG.SHA256)(r.uri).toString().substring(0,this.pathHashLength);this.cacheRootPath=mh.join(z9t(),"project-context",`${n}.${i}`)}static{o(this,"WorkspaceChunks")}static{this.CACHE_VERSION="1.0.0"}getChunksCacheFile(t){let r=(0,tG.SHA256)(t).toString().substring(0,this.pathHashLength),n=mh.basename(t);return mh.join(this.cacheRootPath,`${n}.${r}.json`)}async getChunksCacheFromCacheFile(t){let r=await gA.promises.readFile(t,{encoding:"utf8"}).catch(()=>{});if(r)try{return JSON.parse(r)}catch{}}async getChunksCache(t){let r=this.getChunksCacheFile(t);return await this.getChunksCacheFromCacheFile(r)}async setChunksCache(t,r){let n=this.getChunksCacheFile(t);try{await gA.promises.mkdir(mh.dirname(n),{recursive:!0}),await gA.promises.writeFile(n,JSON.stringify(r),{encoding:"utf8"})}catch(i){$9t.debug(this.ctx,"Failed to set chunks cache:",i)}}async removeChunksCache(t){let r=this.getChunksCacheFile(t);await gA.promises.rm(r).catch(()=>{})}async enumerateChunksCacheFileNames(){return await gA.promises.readdir(this.cacheRootPath).catch(()=>[])}async getFilesCount(){return(await this.enumerateChunksCacheFileNames()).length}async getChunksCount(){let t=0;for await(let r of this.getChunks())t++;return t++}async*getChunksForFile({uri:t}){let r=await this.getChunksCache(t);r!==void 0&&(yield*r.documentChunks)}async*getChunksFromCacheFile(t){let r=await this.getChunksCacheFromCacheFile(t);yield*r?r.documentChunks:[]}async*getChunks(t){if(t!==void 0)yield*this.getChunksForFile(t);else{let r=await this.enumerateChunksCacheFileNames();for(let n of r)yield*this.getChunksFromCacheFile(mh.join(this.cacheRootPath,n))}}async getFileHash(t){let r=Ws(t),n="";return r&&(n=await gA.promises.readFile(r,{encoding:"utf8"}).catch(()=>"")),(0,tG.SHA256)(n).toString()}async addChunks({uri:t},r){let n=await this.getFileHash(t),i=await this.getChunksCache(t);if(i!==void 0&&i.hash===n&&i.version===e.CACHE_VERSION)return;let s={version:e.CACHE_VERSION,filePath:t,hash:n,documentChunks:r};await this.setChunksCache(t,s)}async deleteChunksForSource(t){let r=Gl(t),n=await this.getChunksCache(r);return n===void 0?[]:(await this.removeChunksCache(r),n.documentChunks)}async deleteChunks({uri:t}){let r=Ws(t);if(!r)return[];let n;try{n=await gA.promises.readdir(r)}catch{return await this.deleteChunksForSource(r)}let i=[];for(let s of n){let a=Gl(mh.join(r,s));i.push(...await this.deleteChunks({uri:a}))}return i}async clear(){await gA.promises.rm(this.cacheRootPath,{recursive:!0}).catch(()=>{})}};function z9t(){return A6.env.XDG_CACHE_HOME&&mh.isAbsolute(A6.env.XDG_CACHE_HOME)?A6.env.XDG_CACHE_HOME+"/github-copilot":(0,MNe.platform)()==="win32"?A6.env.USERPROFILE+"\\AppData\\Local\\Temp\\github-copilot":A6.env.HOME+"/.cache/github-copilot"}o(z9t,"getXdgCachePath");var sle=1e4;var nG=class{constructor(t,r,n){this.workspaceFolder=r;this.implementation=n;this._chunkLimiter=new lle;this.status="notStarted",this.workspaceChunks=new rG(t,r),this.cancellationToken=new ale,this._chunkingTimeMs=0,this._fileCountExceeded=!1,this._chunkCountExceeded=!1,this._totalFileCount=0,this._filesUpdated=new Set}static{o(this,"ChunkingHandler")}async chunk(t,r){return r?await this.chunkFiles(t,r):await this.chunkWorkspace(t)}async chunkWorkspace(t){let r=performance.now();if(this.status="started",this.cancellationToken.isCancelled())return this.status="cancelled",this.updateChunkingTime(r,performance.now()),this.workspaceChunks.getChunks();await this.updateModelConfig(t);let n=await t.get(B0).getWatchedFiles(this.workspaceFolder);this._totalFileCount=n.length,n.length>sle&&(this._fileCountExceeded=!0,n=n.slice(0,sle));let i=n.map(async s=>{this.cancellationToken.isCancelled()||await this._chunkLimiter.queue(()=>this._chunk(t,s))});try{await Promise.all(i)}catch(s){Qo(t,s,"ChunkingProvider.chunk"),await this.terminateChunking()}return this.status=this.cancellationToken.isCancelled()?"cancelled":"completed",this.updateChunkingTime(r,performance.now()),await this.workspaceChunks.getChunksCount()>ole&&(this._chunkCountExceeded=!0),this.workspaceChunks.getChunks()}async chunkFiles(t,r){await this.updateModelConfig(t);let n=r.map(async i=>{this.cancellationToken.isCancelled()||(this._filesUpdated.add(i.uri),await this._chunkLimiter.queue(()=>this._chunk(t,i)))});try{await Promise.all(n)}catch(i){Qo(t,i,"ChunkingProvider.chunkFiles"),await this.terminateChunking()}return await this.workspaceChunks.getChunksCount()>ole&&(this._chunkCountExceeded=!0),await this.workspaceChunks.getFilesCount()>sle&&(this._fileCountExceeded=!0),S4e(...r.map(i=>this.workspaceChunks.getChunks(i)))}async _chunk(t,r){if(this.cancellationToken.isCancelled())return;let n=await this.implementation.chunk(r,this.modelConfig);await this.workspaceChunks.addChunks(r,n)}async updateModelConfig(t){this.modelConfig||(this.modelConfig=await t.get(ti).getBestChatModelConfig(Xo("user")))}async terminateChunking(){this.cancellationToken.cancel()}async clearChunks(){await this.workspaceChunks.clear()}updateChunkingTime(t,r){this._chunkingTimeMs=r-t}get chunkingTimeMs(){return Math.floor(this._chunkingTimeMs)}get fileCountExceeded(){return this._fileCountExceeded}get totalFileCount(){return this._totalFileCount}get chunkCountExceeded(){return this._chunkCountExceeded}get filesUpdatedCount(){return this._filesUpdated.size}async getFilesCount(){return this.workspaceChunks.getFilesCount()}getChunks(){return this.workspaceChunks.getChunks()}async getChunksCount(){return this.workspaceChunks.getChunksCount()}deleteSubfolderChunks(t){return this.workspaceChunks.deleteChunks({uri:t})}deleteFileChunks(t){return this._filesUpdated.add(t),this.workspaceChunks.deleteChunks({uri:t})}},ale=class{constructor(){this.cancelled=!1}static{o(this,"ChunkingCancellationToken")}cancel(){this.cancelled=!0}isCancelled(){return this.cancelled}},lle=class{constructor(t=20){this.maxCount=t;this.tasks=[];this.runningTasks=0}static{o(this,"Limiter")}async queue(t){return new Promise((r,n)=>{this.tasks.push({factory:t,resolve:r,reject:n}),this.consume()})}consume(){for(;this.tasks.length>0&&this.runningTasks<=this.maxCount;){let{factory:t,resolve:r,reject:n}=this.tasks.shift();this.runningTasks++;let i=t();i.then(r,n),i.then(()=>this.consumed(),()=>this.consumed())}}consumed(){this.runningTasks--,this.consume()}};var Zs=class{constructor(t){this.ctx=t;this.workspaceChunkingProviders=new Map}static{o(this,"ChunkingProvider")}get workspaceCount(){return this.workspaceChunkingProviders.size}createImplementation(t,r){let n=QNe(r),i=new n;return new nG(this.ctx,t,i)}getImplementation(t,r="default"){let n=this.getParentFolder(t);if(n)return this.workspaceChunkingProviders.get(n.uri);let i=this.workspaceChunkingProviders.get(t.uri);return i||(i=this.createImplementation(t,r),this.workspaceChunkingProviders.set(t.uri,i)),i}getParentFolder(t){let r=[];for(let n of this.workspaceChunkingProviders.values())r.push(n.workspaceFolder);return r.find(n=>{let i=n.uri.replace(/[#?].*/,"").replace(/\/?$/,"/");return t.uri!==n.uri&&t.uri.startsWith(i)})}status(t){return this.getImplementation(t).status}checkLimits(t){let r=this.getImplementation(t);return{fileCountExceeded:r.fileCountExceeded,chunkCountExceeded:r.chunkCountExceeded}}fileCount(t){return this.getImplementation(t).getFilesCount()}chunkCount(t){return this.getImplementation(t).getChunksCount()}chunkingTimeMs(t){return this.getImplementation(t).chunkingTimeMs}getChunks(t){return this.getImplementation(t).getChunks()}async terminateChunking(t,r){let n=this.getImplementation(r);await n.terminateChunking();let s=rn.createAndMarkAsIssued().extendedBy(void 0,{fileCount:n.filesUpdatedCount});Gt(t,"index.terminate",s),this.workspaceChunkingProviders.delete(r.uri)}async clearChunks(t,r){await this.terminateChunking(t,r),await this.getImplementation(r).clearChunks()}async deleteSubfolderChunks(t,r){return await this.getImplementation(t).deleteSubfolderChunks(r.uri)}async deleteFileChunks(t,r){let n=this.getImplementation(t),i=[];Array.isArray(r)||(r=[r]);for(let s of r)i.push(...await n.deleteFileChunks(s));return i}async chunk(t,r,n,i){let s;return n&&(Array.isArray(n)?s=n:i=n),i||(i="default"),s?await this.chunkFiles(t,r,s,i):await this.chunkFolder(t,r,i)}async chunkFolder(t,r,n="default"){let i=this.getImplementation(r,n),s=await i.chunk(t),l=rn.createAndMarkAsIssued().extendedBy(void 0,{fileCount:i.totalFileCount,chunkCount:await i.getChunksCount(),timeTakenMs:i.chunkingTimeMs,workspaceCount:this.workspaceCount});return Gt(t,"index.chunk",l),s}async chunkFiles(t,r,n,i="default"){return await this.getImplementation(r,i).chunk(t,n)}};d();d();d();d();d();function oG(e){switch(e){case"Agent":return"Agent";case"Ask":default:return"Ask"}}o(oG,"toChatModeEnum");var y6=class{constructor(t){this.request=t;this.id=Tr();this.timestamp=Date.now();this.status="in-progress";this.skills=[];this.ignoredSkills=[];this.annotations=[]}static{o(this,"Turn")}},iG=class e{constructor(t=[],r="panel",n="en"){this.turns=t;this.source=r;this.userLanguage=n;this._id=Tr();this._timestamp=Date.now()}static{o(this,"Conversation")}copy(){let t=JSON.parse(JSON.stringify(this.turns)),r=new e(t,this.source,this.userLanguage);return r._id=this.id,r._timestamp=this.timestamp,r}get id(){return this._id}get timestamp(){return this._timestamp}addTurn(t){this.turns.push(t)}deleteTurn(t){this.turns=this.turns.filter(r=>r.id!==t)}getLastTurn(){return this.turns[this.turns.length-1]}hasTurn(t){return this.turns.some(r=>r.id===t)}};d();d();d();var ONe={id:0,start_offset:0,stop_offset:0,type:"ip_code_citations",details:{},citations:{snippet:`html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Canvas Example</title>
<`,url:"https://github.com/duonghle285/gnoud9x.github.io/tree/c95127bc5b7a491d9223f21ac3b8c5100996e754/26062020-vehinhchunhat%2Findex.html",ip_type:"LICENSE",license:"NOASSERTION"}},UNe="Alright, This response contains a code citation.";d();var qNe=`
# Should render

## Links
Links should render. However, if a user clicks on the link, it should open a confirmation dialog before navigating to the link. 

markdown:

[GitHub Copilot](https://copilot.github.com)

html:

<a href="https://copilot.github.com">GitHub Copilot</a>

## Images
The following images do come from one of these sources and should render:

- \`raw.githubusercontent.com/\`
- \`private-user-images.githubusercontent.com/\`
- \`avatars.githubusercontent.com\`
- \`gist.github.com/assets/\`


markdown:

![logo](https://avatars.githubusercontent.com/u/147005046?v=4)

html:

<img src="https://avatars.githubusercontent.com/u/147005046?v=4" alt="logo"/>

## Headers

markdown:

# Header 1
## Header 2
### Header 3
#### Header 4
##### Header 5
###### Header 6

html:

<h1>Header 1</h1>
<h2>Header 2</h2>
<h3>Header 3</h3>
<h4>Header 4</h4>
<h5>Header 5</h5>
<h6>Header 6</h6>

## Paragraphs

html:

<p>This is a paragraph.</p>

## Bold

markdown:

**bold text**

html:

<strong>bold text</strong>

## Italic

markdown:

_italic text_

html:

<i>italic text</i>

## Codeblock

markdown:

\`\`\`javascript
console.log('Hello, World!');
\`\`\`

html:

<code>console.log('Hello, World!');</code>

## Unordered List

markdown:

- item 1
- item 2
- item 3

html:

<ul>
  <li>item 1</li>
  <li>item 2</li>
  <li>item 3</li>
</ul>

## Ordered List

markdown:

1. item 1
2. item 2
3. item 3

html:

<ol>
  <li>item 1</li>
  <li>item 2</li>
  <li>item 3</li>
</ol>

## Table

markdown:

| Header 1 | Header 2 | Header 3 |
|----------|----------|----------|
| cell 1   | cell 2   | cell 3   |
| cell 4   | cell 5   | cell 6   |

html:

<table>
    <thead>
        <tr>
            <th>Header 1</th>
            <th>Header 2</th>
            <th>Header 3</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>cell 1</td>
            <td>cell 2</td>
            <td>cell 3</td>
        </tr>
        <tr>
            <td>cell 4</td>
            <td>cell 5</td>
            <td>cell 6</td>
        </tr>
    </tbody>
</table>

## Blockquote

markdown:

> This is a blockquote.

html:

<blockquote>This is a blockquote.</blockquote>


# Should not render

## html tags
Unsupported tags like \`<div>\` should not render but should be escaped. This code:

\`\`\`html
<div><ul><li>Foo</li></ul><img src="https://github.com/images/modules/site/copilot/productivity-bg-head.png" alt="productivity" width="20"/>
\`\`\`

should be rendered as:

\`\`\`html
<div>
* Foo
<img src="https://github.com/images/modules/site/copilot/productivity-bg-head.png" alt="productivity" width="20"/>
\`\`\`

code:

<div><ul><li>Foo</li></ul><img src="https://github.com/images/modules/site/copilot/productivity-bg-head.png" alt="productivity" width="20"/></div>

## images
The following images do *not* come from one of the trusted domains and should not render.

markdown:

![productivity](https://github.com/images/modules/site/copilot/productivity-bg-head.png)

html:

<img src="https://github.com/images/modules/site/copilot/productivity-bg-head.png" alt="productivity" width="100"/>

## Invisible characters

### Inline styles
Styled elements should not be rendered styled. This may trick the user to think elements are actually IDE controls

<p style="color: red;">This is an <span style="display: none;">harmfully</span> styled text!</p>

### html attributes
Only img src/alt and a href attributes should make it to the dom. 

The following paragraph should not render the \`id\` attribute in the dom.

<p id="foo">This is a paragraph with an id</p>
`;d();d();var WNe=tt(require("fs")),uc=tt(require("path"));var cle=[".test",".spec","_test","Test","_spec","_test","Tests",".Tests","Spec"],ule="test_",W_={js:{suffix:[".test",".spec"],location:"sameFolder"},ts:{suffix:[".test",".spec"],location:"sameFolder"},go:{suffix:["_test"],location:"sameFolder"},java:{suffix:["Test"],location:"testFolder"},php:{suffix:["Test"],location:"testFolder"},dart:{suffix:["_test"],location:"testFolder"},cs:{suffix:["Test"],location:"testFolder"},rb:{suffix:["_test","_spec"],location:"testFolder"},py:{prefix:"test_",location:"testFolder"},ps1:{suffix:[".Tests"],location:"testFolder"},kt:{suffix:["Test"],location:"testFolder"}},G_=class{constructor(t,r,n=void 0){this.ctx=t;this.fileExists=r;this.baseUri=n}static{o(this,"TestFileFinder")}async findTestFileForSourceFile(t){let r=_o(t),n=uc.extname(r).replace(".",""),i=W_[n]??{location:"sameFolder",prefix:ule,suffix:cle},s=[];if(i.prefix&&s.push(i.prefix+r),i.suffix)for(let u of i.suffix??[]){let f=r.replace(`.${n}`,u+"."+n);s.push(f)}let a=i.location??"sameFolder",l;if(a==="sameFolder"){if(l=Ws(Bu(t)),l===void 0)return}else{let u=Ws(t);if(u===void 0)return;l=this.determineTestFolder(u,a)}for(let u of s){let f=uc.join(l,u),m=this.parseTestFilePath(f);if(m&&await this.fileExists(m))return m}let c=Gl(l);if(await this.fileExists(c))return Jo(c,s[0])}parseTestFilePath(t){try{return Gl(t)}catch(r){Zn.error(this.ctx,`Failed to parse test file path: ${t}`,r);return}}async findImplFileForTestFile(t){let r=_o(t),n=uc.extname(r).replace(".",""),i=W_[n]??{location:"sameFolder",prefix:ule,suffix:cle},s=[];if(i.prefix&&s.push(r.substring(i.prefix.length)),i.suffix)for(let c of i.suffix??[]){let f=r.substring(0,r.length-c.length-1-n.length)+"."+n;s.push(f)}let a=i.location??"sameFolder",l;a==="sameFolder"?l=Bu(t):l=this.determineImplFolder(t);for(let c of s){let u=Jo(l,c);if(await this.fileExists(u))return u}}findExampleTestFile(t){let r=Ws(t);if(r===void 0)return;let n=uc.extname(_o(t)).replace(".",""),i,s=W_[n]?.location??"sameFolder";s==="sameFolder"?i=uc.dirname(r):i=this.determineTestFolder(r,s);let a=this.findFiles(i,`.${n}`,W_[n]);if(a.length>0)return Gl(a[0])}findFiles(t,r,n){let i=this._readdir(t),s=[];for(let a of i){let l=`${t}${uc.sep}${a}`;n?.prefix&&a.startsWith(n.prefix)&&s.push(l),n?.suffix&&n?.suffix.some(c=>a.endsWith(c+r))&&s.push(l)}return s}_readdir(t){return WNe.readdirSync(t,{withFileTypes:!0}).filter(r=>r.isFile()).map(r=>r.name)}determineTestFolder(t,r){let n=(this.baseUri&&Ws(this.baseUri))??"",i=uc.extname(t).replace(".",""),s=this.getRelativeTestFolder(t,n,i,r);return[n,...s].filter(a=>a).join(uc.sep)}getRelativeTestFolder(t,r,n,i){let s=uc.dirname(t).replace(r,"");switch(n){case"php":case"dart":case"py":return["tests"];case"ps1":return["Tests"];case"rb":return["test",s];case"cs":return[s.replace("src","src/tests")];case"java":case"scala":case"kt":return[s.replace(/src[\\/]main/,"src/test")];default:return i==="testFolder"?[s.replace("src","test")]:[s]}}determineImplFolder(t){let r=uc.extname(_o(t)).replace(".",""),n=Bu(t);switch(r){case"php":case"dart":case"py":return n.replace("tests","src");case"ps1":return n.replace("Tests","src");case"rb":return n.replace("/test","");case"cs":return n.replace("src/tests","src");case"java":case"scala":case"kt":return n.replace("src/test","src/main");default:return n.replace("test/","src/")}}};async function H_(e){let t=_o(e),r=uc.extname(t),n=W_[r.replace(".","")];return n?!(n.suffix&&!n.suffix.some(s=>t.endsWith(s+r))||n.prefix&&!t.startsWith(n.prefix)):!!(cle.some(s=>t.endsWith(s+r))||t.startsWith(ule))}o(H_,"isTestFile");d();var GNe=["indexed","indexing","not_indexed"],eC=class{constructor(){this._cache=new xn(100)}static{o(this,"BlackbirdIndexingStatus")}async queryIndexingStatus(t,r,n){let i=t.ctx,s=i.get(Dn).getBlackbirdIndexingStatusUrl();if(!n)return!1;let a=new URL(s);a.searchParams.set("nwo",r);let l={Authorization:`token ${n}`},c=await i.get(Nr).fetch(a.href,{method:"GET",headers:l});if(!c.ok)return!1;let u=await c.json();return u.docs_status==="indexed"||u.code_status==="indexed"}isValid(t){return t!==void 0&&Date.now()-t.timestamp<30*60*1e3}async isRepoIndexed(t,r,n,i=!1){let s=A1(r);if(!s)return!1;let a=this._cache.get(s);if(!i&&this.isValid(a))return a.status;let l=await this.queryIndexingStatus(t,s,n);return this._cache.set(s,{status:l,timestamp:Date.now()}),l}get cache(){return this._cache}};d();d();d();async function HNe(e,t,r,n){let i=Ki(t.tokenizer),s=r.filter(m=>i.tokenLength(m.text)<t.maxTokens);if(s.length===0)return;let a=[],l=await e.get(qr).getToken(),c=hv(e,l,"embeddings"),u=l.token,f=0;for(;f<s.length&&!n.isCancellationRequested;){let m=s.slice(f,f+t.maxBatchSize),h=await Y9t(e,c,u,t.modelId,m,n);a.push(...h||[]),f+=t.maxBatchSize}return a.length?a:void 0}o(HNe,"fetchEmbeddings");async function Y9t(e,t,r,n,i,s){let a=Tr(),l=i.map(u=>u.text),c=await A3(e,t,r,void 0,a,{input:l,model:n,dimensions:1024},s,C5(e));if(c.status!==200||s.isCancellationRequested){Qo(e,new AA(`Failed to request dense embeddings, status: ${c.status}`),"LocalSnippetProvider.fetchEmbeddings");return}try{return(await c.json()).data.map(f=>({id:i[f.index].id,embedding:f.embedding}))}catch{return}}o(Y9t,"sendEmbeddingsRequest");d();d();var sG=class{static{o(this,"CosineSimilarityScoring")}score(t,r){let n=Math.sqrt(t.reduce((a,l)=>a+l*l,0)),i=Math.sqrt(r.reduce((a,l)=>a+l*l,0));return t.reduce((a,l,c)=>a+l*r[c],0)/(n*i)}terminateScoring(){}};var K9t="cosine",J9t=new Map([["cosine",sG]]);function VNe(e){let t=e==="default"?K9t:e,r=J9t.get(t);if(!r)throw new Error(`Scoring constructor for type ${e} not found`);return r}o(VNe,"getScoringAlgorithm");d();var pf=class{constructor(){this.workspaceScoringProviders=new xn(25)}static{o(this,"ScoringProvider")}createImplementation(t,r){let n=VNe(r);return new n}getImplementation(t,r,n="default"){let i=this.workspaceScoringProviders.get(r.uri);return i||(i=this.createImplementation(t,n),this.workspaceScoringProviders.set(r.uri,i)),i}score(t,r,n,i,s){return this.getImplementation(t,r,s).score(n,i)}terminateScoring(t,r,n){this.getImplementation(t,r,n).terminateScoring(),this.workspaceScoringProviders.delete(r.uri)}};var jNe={modelFamily:VP.textEmbedding3Small,scoringType:"default",dimensions:null};async function $Ne(e,t,r,n,i,s,a,l=jNe){let c={...jNe,...l},u=Z9t(e,t,r,n);Kr.debug(e,`EmbeddingsReranker: Reranking ${u.length} snippets (includes the user query)`);let f=await e.get(ti).getFirstMatchingEmbeddingModelConfiguration(c.modelFamily);if(f===void 0)throw new Error(`EmbeddingsReranker: Model configuration not found for ${c.modelFamily}`);let m=performance.now(),h=await HNe(e,f,u,s),p=performance.now();if(a.embeddingsTimeMs=Math.floor(p-m),h===void 0||h.length===0)return[];let A=h.findIndex(P=>P.id==="userQuery");if(A===void 0)return[];let x=h.splice(A,1)[0];if(s.isCancellationRequested)return[];let E=performance.now(),v=e7t(e,t,h,x,c.scoringType),b=performance.now();a.rerankingTimeMs=Math.floor(b-E);let S=v.slice(0,i);return Kr.debug(e,`EmbeddingsReranker: Returning ${S.length} snippets`),S.map(P=>u.find(F=>F.id===P.id).id)}o($Ne,"rerankSnippets");function Z9t(e,t,r,n){let i=n.map(s=>({id:s.id,text:s.chunk.toLowerCase()}));return i.push({id:"userQuery",text:r.toLowerCase()}),i}o(Z9t,"formatEmbeddingsInput");function e7t(e,t,r,n,i){let s=e.get(pf);return r.map(l=>({id:l.id,score:s.score(e,t,n.embedding,l.embedding,i)})).sort((l,c)=>c.score-l.score)}o(e7t,"scoreEmbeddings");d();d();d();var dle=tt(ZW());var t7t=.75,r7t=1.2,n7t=47,aG=class{constructor(t,r){this.ctx=t;this.workspaceFolder=r;this.chunksCount=0;this.sumTokenCount=0;this.status="notStarted"}static{o(this,"BM25Ranking")}get avgTokenCount(){return this.sumTokenCount/this.chunksCount}async initialize(t){this.sumTokenCount=0,this.chunksCount=0;for await(let r of t)this.sumTokenCount+=r.tokenCount,this.chunksCount++;this.status="completed"}async addChunks(t){for await(let r of t)this.sumTokenCount+=r.tokenCount,this.chunksCount++}async query(t){let r=await lG();try{return await this.doQuery(t)}finally{await r.stopWorkerPool()}}async doQuery(t){let r=t.map(l=>l.toLowerCase()),n=await this.calculateIDFValues(r),i=Math.min(10*t.length,n7t),s=Math.min(i,this.chunksCount);return await this.calculateBM25Scores(r,this.avgTokenCount,n,s)}async calculateIDFValues(t){let r=this.ctx.get(Zs).getChunks(this.workspaceFolder),n=I1(r,async s=>({...s,chunk:s.chunk.toLowerCase()})),i=I1(n,async s=>s.chunk);return await i7t(t,i)}async calculateBM25Scores(t,r,n,i){let s=this.ctx.get(Zs).getChunks(this.workspaceFolder),a=new fle(i);for await(let l of s){let c=await o7t({...l,chunk:l.chunk.toLowerCase()},t,r,n);a.add({...c,chunk:l.chunk})}return a.toArray(.75)}async deleteEmbeddings(t){this.chunksCount-=t.length,this.sumTokenCount-=t.reduce((r,n)=>r+n.tokenCount,0)}async terminateRanking(){}};async function i7t(e,t){let r=new SharedArrayBuffer(e.length*Int32Array.BYTES_PER_ELEMENT),n=new Int32Array(r),i=[],s=0;for await(let c of t){s++;let u=dle.job(({snippet:f,keywords:m})=>m.map(p=>f.includes(p)?1:0),{data:{snippet:c,keywords:e}}).then(f=>{for(let m=0;m<e.length;m++)Atomics.add(n,m,f[m])});i.push(u)}await Promise.all(i);let a=new Int32Array(r),l={};for(let c=0;c<e.length;c++)l[e[c]]=Math.log((s-a[c]+.5)/(a[c]+.5)+1);return l}o(i7t,"calculateIDFValues");async function o7t(e,t,r,n){return{score:await dle.job(({keywords:s,document:a,docLength:l,avgTokenCount:c,idfValues:u,k1:f,b:m})=>{let h=0;for(let p of s){let A=u[p],x=(a.match(new RegExp(p,"g"))||[]).length,E=A*(x*(f+1)),v=x+f*(1-m+m*l/c);h+=E/v}return h},{data:{document:e.chunk,docLength:e.tokenCount,keywords:t,avgTokenCount:r,idfValues:n,k1:r7t,b:t7t}}),...e}}o(o7t,"calculateBM25Score");var fle=class{constructor(t,r=-1/0){this.maxSize=t;this.minScore=r;this.store=[]}static{o(this,"SimpleHeap")}toArray(t){if(this.store.length&&typeof t=="number"){let r=this.store.at(0).score*(1-t);return this.store.filter(n=>n.score>=r)}return this.store}add(t){if(t.score<=this.minScore)return;let r=this.store.findIndex(n=>n.score<t.score);for(this.store.splice(r>=0?r:this.store.length,0,t);this.store.length>this.maxSize;)this.store.pop();this.store.length===this.maxSize&&(this.minScore=this.store.at(-1)?.score??this.minScore)}};var a7t="bm25",l7t=new Map([["bm25",aG]]);function zNe(e){let t=e==="default"?a7t:e,r=l7t.get(t);if(!r)throw new Error(`Ranking constructor for type ${e} not found`);return r}o(zNe,"getRankingAlgorithm");var n0=class{constructor(){this.workspaceRankingProviders=new xn(25)}static{o(this,"RankingProvider")}createImplementation(t,r,n){let i=zNe(n);return new i(t,r)}getImplementation(t,r,n="default"){let i=this.workspaceRankingProviders.get(r.uri);return i||(i=this.createImplementation(t,r,n),this.workspaceRankingProviders.set(r.uri,i)),i}status(t,r,n){return this.getImplementation(t,r,n).status}async initialize(t,r,n,i="default"){await this.getImplementation(t,r,i).initialize(n)}async addChunks(t,r,n,i="default"){await this.getImplementation(t,r,i).addChunks(n)}async query(t,r,n,i){return this.getImplementation(t,r,i).query(n)}async terminateRanking(t,r,n){await this.getImplementation(t,r,n).terminateRanking(),this.workspaceRankingProviders.delete(r.uri)}deleteEmbeddings(t,r,n,i){return this.getImplementation(t,r,i).deleteEmbeddings(n)}};d();async function YNe(e,t){let r=e.ctx,n=await r.get(ti).getBestChatModelConfig(Xo("synonyms"),{tool_calls:!0}),i={promptType:"synonyms",modelConfiguration:n},s=await r.get(i0).toPrompt(e,i);if(!s.toolConfig)return;let a={modelConfiguration:n,uiKind:"conversationPanel",messages:s.messages,tools:s.toolConfig?.tools,tool_choice:s.toolConfig?.tool_choice,llmInteraction:e.toLlmInteraction()},l=new ga(r),c=await Ka(r,e.turn.id,e.conversation.id),u=await l.fetchResponse(a,t,c.extendedBy({messageSource:"chat.synonyms"}));if(u.type==="success"&&u.toolCalls&&u.toolCalls.length>0){let f=u.toolCalls[0],m=s.toolConfig?.extractArguments(f).keywords;return!m||!Array.isArray(m)?void 0:(Kr.debug(r,`UserQueryParser: Parsed ${m.length} keywords from the original user query: ${m.join(", ")}`),m.length?m:void 0)}else{let f="reason"in u?u.reason:"";Qo(r,new AA(`Failed to request user query synonyms, result type: ${u.type}, reason: ${f}`),"LocalSnippetProvider.parseUserQuery")}}o(YNe,"parseUserQuery");var KNe=tt(hf());var AA=class extends Error{static{o(this,"LocalSnippetProviderError")}constructor(t){super(String(t),{cause:t}),this.name="LocalSnippetProviderError"}},cG=class{constructor(){this.providerType="local"}static{o(this,"LocalSnippetProvider")}snippetProviderStatus(t,r){if(!t.turn.workspaceFolder)return Promise.resolve("not_indexed");r===void 0&&(r=!0);let n=t.ctx,i=n.get(Zs),s=i.status(t.turn.workspaceFolder),a=n.get(n0),l=a.status(n,t.turn.workspaceFolder);if(s==="completed"&&l==="completed")return Promise.resolve("indexed");if(s==="started"||l==="started")return Promise.resolve("indexing");if(r){let c=t.turn.workspaceFolder;if(s==="notStarted")return Promise.race([i.chunk(n,c).then(u=>{if(i.status(c)==="completed")return a.initialize(n,c,u)}).then(()=>this.snippetProviderStatus(t,!1)),new Promise(u=>setTimeout(()=>u("not_indexed"),1e3))]);if(l==="notStarted"){let u=i.getChunks(c);return Promise.race([a.initialize(n,c,u).then(()=>this.snippetProviderStatus(t,!1)),new Promise(f=>setTimeout(()=>f("not_indexed"),1e3))])}}return Promise.resolve("not_indexed")}async collectLocalSnippets(t,r){let n=t.turn.workspaceFolder;if(!n)return[];let i=t.ctx,a=await i.get(Zs).chunkCount(n);if(a===0)return[];r.chunkCount=a;let l,c=performance.now();try{l=await YNe(t,t.cancelationToken)}catch(A){let x=new AA(A);Qo(i,x,"LocalSnippetProvider.parseUserQuery")}let u=performance.now();if(r.synonymTimeMs=Math.floor(u-c),l===void 0)return[];let f=i.get(n0),m=[],h=performance.now();try{let A=await f.query(i,n,l);r.localSnippetCount=A.length,m=A}catch(A){let x=new AA(A);Qo(i,x,"LocalSnippetProvider.rankingQuery")}let p=performance.now();return r.rankingTimeMs=Math.floor(p-h),m}async rerankLocalSnippets(t,r,n){let i=t.turn.workspaceFolder;if(!i)return[];let s=t.ctx,a=en(t.turn.request.message),l=[];try{l=await $Ne(s,i,a,r,5,t.cancelationToken,n)}catch(f){let m=new AA(f);Qo(s,m,"LocalSnippetProvider.rerankSnippets")}let c=[],u=s.get(dn);for(let f of l){let m=f.split("#")[0],h=await u.getOrReadTextDocument({uri:m}),p=r.find(A=>A.id===f);if(h.status==="valid"){let A=h.document.positionAt(p.range.start),x=h.document.positionAt(p.range.end),E=Co.range(A,x);c.push({uri:h.document.uri,range:E,snippet:p.chunk})}}return c}async provideSnippets(t){let r=this.collectInfoMessage(t);r&&await t.info(r);let n={...D4e},i=await this.collectLocalSnippets(t,n);if(i.length===0)return{snippets:[],measurements:n};let s=t.ctx;return Kr.debug(s,`LocalSnippetProvider: First pass: Found ${i.length} snippets.`),{snippets:await this.rerankLocalSnippets(t,i,n),measurements:n}}collectInfoMessage(t){let r=t.turn.workspaceFolder;if(!r)return;let s=t.ctx.get(Zs).checkLimits(r);if(s.fileCountExceeded||s.chunkCountExceeded)return KNe.default`
Copilot has partially indexed this project as it exceeds the file limit. As a result, responses may have incomplete context. Consider excluding large, less relevant files or folders (e.g., large CSV files) to improve accuracy.
`}};var XNe=tt(JNe()),dG=tt(ZW()),ZNe=tt(require("os")),eLe=tt(hf());var f7t=Math.max(ZNe.cpus().length-1,1),V_=class e{constructor(){this.isActive=!0}static{o(this,"WorkerPoolToken")}static{this.workerPoolStarted=!1}static{this.activeProcessCount=0}static{this.allTokens=[]}static{this.lock=new XNe.default}static async startWorkerPool(){await e.lock.acquireAsync();try{e.workerPoolStarted||(e.workerPoolStarted=!0,await dG.start({maxWorkers:f7t})),e.activeProcessCount++;let t=new e;return e.allTokens.push(t),t}finally{e.lock.release()}}async stopWorkerPool(){if(this.isActive){await e.lock.acquireAsync();try{this.isActive&&(this.isActive=!1,e.activeProcessCount--,e.activeProcessCount==0&&(await dG.stop(),e.workerPoolStarted=!1),e.allTokens.includes(this)&&e.allTokens.splice(e.allTokens.indexOf(this),1))}finally{e.lock.release()}}}static async forceStopWorkerPool(){let t=e.allTokens[Symbol.iterator]();for(let r of t)await r.stopWorkerPool();e.workerPoolStarted=!1,e.activeProcessCount=0}},lG=V_.startWorkerPool.bind(V_);var wpn=I.Object({uri:I.String(),snippet:I.String(),range:I.Object({start:I.Object({line:I.Number(),character:I.Number()}),end:I.Object({line:I.Number(),character:I.Number()})})}),ple=class{constructor(t){this.turnContext=t}static{o(this,"ProjectContextSkillProcessor")}value(){return 1}async processSkill(t){if(this.turnContext.cancelationToken.isCancellationRequested){await this.turnContext.steps.cancel(C6);return}let r=[],n=this.turnContext.ctx.get(dn),i=this.removeDuplicateSnippets(t);for(let s of i){let{uri:a,snippet:l,range:c}=s,u=await n.getOrReadTextDocument(s);if(u.status==="valid"){let f=new mg(u.document,c,c),m=new Xt([l]),p=await H_(a)?.5:.8;r.push([`Code excerpt from file \`${Ws(a)}\`:`,1],[f.wrapInTicks(m,p),1]),await this.turnContext.collectFile(x6,a,rs(u),c)}}if(r.length>0)return r.unshift([new Xt(["The user wants you to consider the following snippets when computing your answer."]),1]),new Xt(r)}removeDuplicateSnippets(t){let r={};return t.forEach(n=>{let i=`${n.uri}#[${n.range.start.line},${n.range.start.character}]-[${n.range.end.line},${n.range.end.character}]`;r[i]||(r[i]=n)}),Object.values(r)}},C6="collect-project-context",uG=class extends l6{constructor(r,n=[new cG]){super();this.ctx=r;this.snippetProviders=n;this.ready=!1;this.ctx.get(Pd).addListener(this)}static{o(this,"ProjectContextSkillResolver")}start(){this.ready=!0}async onWorkspaceAdded(r){if(!await this.isEnabled()||(this.workerPoolToken=await lG(),!r.uri))return;let n=this.ctx.get(Zs),i=this.ctx.get(B0),s=this.ctx.get(n0),a=await n.chunk(this.ctx,r);n.status(r)!=="completed"&&i.terminateWatching(r),await s.initialize(this.ctx,r,a),await this.workerPoolToken.stopWorkerPool()}async onWorkspaceRemoved(r){if(!await this.isEnabled())return;let n=this.ctx.get(Zs);if(!r)return;let i=n.getParentFolder(r);if(i){let l=await n.deleteSubfolderChunks(i,r);await this.ctx.get(n0).deleteEmbeddings(this.ctx,i,l);return}await n.terminateChunking(this.ctx,r),await this.ctx.get(n0).terminateRanking(this.ctx,r),this.ctx.get(pf).terminateScoring(this.ctx,r),n.workspaceCount===0&&await V_.forceStopWorkerPool()}async onWorkspaceSubfoldersTerminated(r,n){let i=this.ctx.get(Zs),s=this.ctx.get(n0),a=this.ctx.get(pf);for(let l of n)await i.terminateChunking(this.ctx,l),await s.terminateRanking(this.ctx,l),a.terminateScoring(this.ctx,r)}async onFileChange(r){if(!await this.isEnabled())return;let n=await lG();try{let i=r.documents.map(c=>c.uri),s=r.workspaceFolder;if(!s)return;let a=this.ctx.get(Zs),l=this.ctx.get(n0);if(r.type==="delete"||r.type==="update"){let c=await a.deleteFileChunks(s,i);await l.deleteEmbeddings(this.ctx,s,c)}if(r.type==="create"||r.type==="update"){let c=await a.chunk(this.ctx,s,r.documents);await l.addChunks(this.ctx,s,c)}}finally{await n.stopWorkerPool()}}isStarted(){return this.ready}async isEnabled(){return!0}async resolveSkill(r){await r.steps.start(C6,"Collecting relevant project context"),await r.info(eLe.default`Project context is applied to this response, which may lead to slightly longer load times. For faster and more general Copilot responses, remove the project context option from your prompt.`);let n=this.snippetProviders.map(async l=>l.snippetProviderStatus(r)),i=await Promise.all(n),s="not_indexed",a;for(let l of GNe){let c=i.findIndex(u=>u===l);if(c!==-1){s=l,a=this.snippetProviders[c];break}}switch(s){case"indexed":{let{snippets:l,measurements:c}=await a.provideSnippets(r);if(await P4e(r,a.providerType,c),l.length===0){await r.steps.error(C6,"No project context found");return}return await r.steps.finish(C6),l}case"indexing":{await r.steps.error(C6,"Indexing repository, please try again later");return}case"not_indexed":{await r.steps.error(C6,"No project context available");return}}}},x6="project-context",fG=class extends Sl{static{o(this,"ProjectContextSkill")}constructor(t){super(x6,"Code snippets and documentation from the open project. This skill is useful when the user question is specific to the open project and its context. Do not include this skill for general programming questions.","Performing code search",()=>t,r=>new ple(r),"implicit",["Relevant: How do I add a custom server route?","Relevant: Where is the code that processes the response from CopyableThreadElement?","Relevant: Where do I add tests for the InputValidation class?","Relevant: How to implement a shared buffer component","Not relevant: What does numpy do?"],()=>!0)}};d();var tLe=I.Object({labels:I.Array(I.String())}),gle=class{constructor(t){this.turnContext=t}static{o(this,"ProjectLabelsSkillProcessor")}value(){return 1}async processSkill(t){let r=[];return r.push([new Xt(["The developer is working on a project with the following characteristics (languages, frameworks):"]),1]),t.labels.forEach(n=>{r.push([new Xt([`- ${n}`]),.9]),this.turnContext.collectLabel(hh,n)}),new Xt(r)}},hh="project-labels",mG=class{constructor(t){this._resolver=t;this.id=hh;this.type="explicit"}static{o(this,"ProjectLabelsSkill")}description(){return"The characteristics of the project the developer is working on (languages, frameworks)"}resolver(){return this._resolver}processor(t){return new gle(t)}};d();var hG=tt(hf());var nLe={id:0,start_offset:0,stop_offset:0,type:"code_vulnerability",details:{type:"server-side-unvalidated-url-redirection",description:"Allows a URL to be redirected to a different URL that is specified by an external user.",ui_type:"test",ui_description:"test"}},iLe=hG.dedent`
    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna 
    aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
`,oLe=hG.dedent`
    \`\`\`kotlin
    fun main() {
        println("Hello, World!")
    }
    \`\`\`
`,d7t=hG.dedent`
    ### Inputs
    
    \`p\` - paragraph message
    
    \`c\` - code block
    
    \`<number>\` - number of vulnerabilities, must be at the end of the string (applies to all code blocks)
    
    ### Examples
    
    \`/debug.vulnerability\` - 1 paragraph followed by 1 code block with 1 vulnerability
    
    \`/debug.vulnerability pcc2\` - 1 paragraph followed by 2 code blocks with 2 vulnerabilities each
    
    \`/debug.vulnerability cpc3\` - 1 code block followed by 1 paragraph followed by 1 code block--each code block has 3 vulnerabilities
`,Ale=`

`,rLe=iLe+Ale+oLe;function sLe(e){let t=1;if(e.length===0)return{reply:rLe,vulnerabilities:t};if(e==="0")return{reply:rLe,vulnerabilities:0};if(e==="help")return{reply:d7t,vulnerabilities:t};let r=e.slice(-1);isNaN(Number(r))||(t=Number(r),e=e.slice(0,-1));let n="";for(let i of e)i==="p"?n+=iLe+Ale:i==="c"&&(n+=oLe+Ale);return{reply:n.trimEnd(),vulnerabilities:t}}o(sLe,"parseVulnerabilitiesInstructions");var aLe=tt(hf());var m7t="Oops, your response got filtered. Vote down if you think this shouldn't have happened",h7t="You've reached your monthly chat messages limit. Upgrade to Copilot Pro (30-day free trial) or wait for your limit to reset.",yle=class{constructor(){this.id="debug.fail";this.description="Fail for debugging purposes";this.shortDescription="Fail";this.scopes=["chat-panel"]}static{o(this,"DebugFailPromptTemplate")}response(t,r){throw new Error(r.length>0?r:"Debug Fail")}},p7t=new yle,Cle=class{constructor(){this.id="debug.upgrade";this.description="upgrade for debugging purposes";this.shortDescription="upgrade";this.scopes=["chat-panel"]}static{o(this,"DebugUpgradePromptTemplate")}async response(t,r){return new _l(h7t,{message:"",code:402,responseIsIncomplete:!0,responseIsFiltered:!1})}},g7t=new Cle,xle=class{constructor(){this.id="debug.notify";this.description="Notify for debugging purposes";this.shortDescription="Notify";this.scopes=["chat-panel","inline"]}static{o(this,"DebugNotificationPromptTemplate")}async response(t,r){let n="warning";r.includes("info")&&(n="info");let i=r.replace("info","").replace("warning","").trim(),s=[{severity:n,message:i.length>0?i:"Debug Notification"}];return new _l("Alright, I'm producing a notification",void 0,[],s)}},A7t=new xle,Ele=class{constructor(){this.id="debug.filter";this.description="Make the RAI filter kick in";this.shortDescription="RAI Filter";this.scopes=["chat-panel"]}static{o(this,"DebugFilterPromptTemplate")}async response(t,r){return t.turn.status="filtered",new _l(m7t,{message:"",responseIsFiltered:!0,responseIsIncomplete:!1})}},y7t=new Ele,ble=class{constructor(){this.id="debug.dump";this.description="Dump the conversation";this.shortDescription="Dump";this.scopes=["chat-panel"]}static{o(this,"DebugDumpPromptTemplate")}async response(t){return new _l(await cLe(t))}},C7t=new ble,vle=class{constructor(){this.id="debug.tree";this.description="Jingle bells, jingle bells, jingle all the way";this.shortDescription="Christmas Tree";this.scopes=["chat-panel"]}static{o(this,"DebugChristmasTreePromptTemplate")}async requiredSkills(t){return[hh,P0]}instructions(t,r){return"Create a function that prints a christmas tree"}},x7t=new vle,Ile=class{constructor(){this.id="debug.echo";this.description="Echo the user message back to the user";this.shortDescription="Echo";this.scopes=["chat-panel"]}static{o(this,"DebugEchoPromptTemplate")}async response(t){return new _l(en(t.turn.request.message))}},E7t=new Ile,Tle=class{constructor(){this.id="debug.prompt";this.description="Show the prompt for the last response or generate a new one";this.shortDescription="Prompt";this.scopes=["chat-panel"]}static{o(this,"DebugPromptPromptTemplate")}async response(t,r){let n=t.ctx.get(kl).getLastTurnPrompts();if(n!==void 0&&n.size>0){let i="Here are the prompts used in the last turn:";return n.forEach((s,a)=>{i+=aLe.default`

                        ### ${a} prompt
                        
                        \`\`\`\`
                        ${s}
                        \`\`\`\`
                    `}),new _l(i)}return new _l("No prompt available")}},b7t=new Tle,wle=class{constructor(){this.id="debug.skills";this.description="Resolves and displays all available skills or a single skill (id) if provided";this.shortDescription="Skills";this.scopes=["chat-panel"]}static{o(this,"DebugSkillsPromptTemplate")}async response(t,r,n){let i,s;if(r.length>0){let a=r.split(" ");i=a[0],s=a.slice(1).join(" ")}return t.turn.request.message=s??"",new _l(await uLe(t,n,i))}},v7t=new wle,Sle=class{constructor(){this.id="debug.vulnerability";this.description="Create a message with a vulnerability annotation";this.shortDescription="Vulnerability";this.scopes=["chat-panel"]}static{o(this,"DebugVulnerabilityPromptTemplate")}async response(t,r){let{reply:n,vulnerabilities:i}=sLe(r);for(let s=0;s<i;s++)t.turn.annotations.push(nLe);return new _l(n,void 0,t.turn.annotations)}},I7t=new Sle,_le=class{constructor(){this.id="debug.citation";this.description="Create a message with a code citation annotation";this.shortDescription="CodeCitation";this.scopes=["chat-panel"]}static{o(this,"DebugCodeCitationPromptTemplate")}async response(t,r){return t.turn.annotations.push(ONe),new _l(UNe,void 0,t.turn.annotations)}},T7t=new _le,kle=class{constructor(){this.id="debug.markdown";this.description="Markdown rendering specification by example";this.shortDescription="Markdown";this.scopes=["chat-panel","inline"]}static{o(this,"DebugMarkdownRenderingPromptTemplate")}async response(t,r){return new _l(qNe)}},w7t=new kle,Ble=class{constructor(){this.id="debug.long";this.description="Generate a long response";this.shortDescription="Long";this.scopes=["chat-panel"]}static{o(this,"DebugLongPromptTemplate")}instructions(t,r){return"Write out the OWASP top 10 with code examples in java"}},S7t=new Ble,Rle=class{constructor(){this.id="debug.project";this.description="Generate a response using the project context skill";this.shortDescription="Project";this.scopes=["chat-panel","inline"]}static{o(this,"DebugProjectContextPromptTemplate")}async requiredSkills(t){return[x6]}},_7t=new Rle,Dle=class{constructor(){this.id="debug.confirmation";this.description="Generate a response with a confirmation";this.shortDescription="Confirmation";this.scopes=["chat-panel","inline"]}static{o(this,"DebugConfirmationPromptTemplate")}async response(){let t={type:"action",title:"Confirmation that you want to proceed",message:"Do you want to proceed?",agentSlug:"debug.confirmation",confirmation:{answer:"yes"}};return new _l("Alright, I'm producing a notification",void 0,[],[],[],t)}},k7t=new Dle;function lLe(){return[p7t,g7t,A7t,y7t,x7t,C7t,E7t,b7t,v7t,I7t,T7t,k7t,w7t,S7t,_7t]}o(lLe,"getDebugTemplates");d();d();function rC(e,t){if(e.length==0)return new Xt([]);let r=e.map((n,i)=>{let s;switch(t){case"linear":s=1-i/e.length;break;case"inverseLinear":s=(i+1)/e.length;break;case"positional":s=1/(i+1);break;case"inversePositional":s=1/(e.length-i);break}return Array.isArray(n)&&n.length==2&&(s*=n[1],n=n[0]),[n,s]});return new Xt(r)}o(rC,"weighElidableList");var fLe=I.Object({uri:I.String(),problems:I.Array(I.Object({message:I.String(),range:V0}))}),Ple=class{constructor(t){this.turnContext=t}static{o(this,"ProblemsInActiveDocumentSkillProcessor")}value(){return 1}async processSkill(t){let r=this.turnContext.ctx.get(dn),n=await r.getOrReadTextDocument(t);if(await this.turnContext.collectFile(nC,t.uri,rs(n)),n.status==="valid"){let i=r.getRelativePath(n.document);this.turnContext.collectLabel(nC,`problems in ${i}`);let s=this.getElidableProblems(t,n,i);return await this.preElideDocuments(s)}else this.turnContext.collectLabel(nC,"problem markers")}getElidableProblems(t,r,n){let i=[];return i.push(new Xt([`Problems and errors in the active document (\`${n}\`):`])),i.push(...this.createElidableProblems(t,r)),rC(i,"linear")}createElidableProblems(t,r){return t.problems.map(n=>{let i=[];i.push(new Xt([`- "${n.message}" at line ${n.range.start.line}.`+(r.document?" Excerpt from the code:":"")]));let s=n.range,a;if(s&&(this.isEmpty(s)?a=r.document.lineAt(s.start).text:a=r.document.getText(s),a)){let l=r.document.detectedLanguageId;i.push(new Xt([["```"+l,1],[Lu(a),.8],["```",1]]))}return new Xt(i)})}isEmpty(t){return t.start.line===t.end.line&&t.start.character===t.end.character}async preElideDocuments(t){let r=(await this.turnContext.ctx.get(ti).getBestChatModelConfig(Xo("user"))).maxRequestTokens,n=t.elide(Math.floor(r*.1)).getText();return new Xt([n])}},nC="problems-in-active-document",pG=class extends Sl{static{o(this,"ProblemsInActiveDocumentSkill")}constructor(t){super(nC,"List of problems and errors in the active document, useful when the user question is about finding and fixing errors, non-functioning code, compilation issues, etc.","Analyzing problems and errors",()=>t,r=>new Ple(r),"explicit",["How can I fix the errors?","Why is my app not working?","Why am I getting compilation errors?","Raw error messages or stack traces"])}};d();d();var gG=class{constructor(t){this.turnContext=t}static{o(this,"PromptForTestGeneration")}async fromImplementationFile(t){let r=this.turnContext.ctx.get(Vr).getWorkspaceFolder(t),n=this.fileExistFn(),i=new G_(this.turnContext.ctx,n,r?.uri),s=await i.findTestFileForSourceFile(t.uri),a=await H_(t.uri);if(s&&!a){let l=t.detectedLanguageId;if(await n(s))return await this.asTestFilePrompt(l,s);{let c=i.findExampleTestFile(t.uri);if(c)return await this.asExampleFilePrompt(l,c)}}}async fromTestFile(t){if(!await H_(t))return;let n=this.turnContext.ctx.get(Vr).getWorkspaceFolder(t),i=this.fileExistFn(),a=await new G_(this.turnContext.ctx,i,n?.uri).findImplFileForTestFile(t.uri);if(a){let l=t.detectedLanguageId;if(await i(a))return await this.asImplFilePrompt(l,a)}}async asImplFilePrompt(t,r){let n=await this.fileInfoForPrompt(r);if(n){let[i,s]=n;return new Xt([[`${B7t} \`${s}\`:`,1],["```"+t,1],[i,.9],["```",1]])}return new Xt([])}async asTestFilePrompt(t,r){let n=await this.fileInfoForPrompt(r);if(n){let[i,s]=n;return new Xt([[`${R7t} \`${s}\`:`,1],["```"+t,1],[i,.9],["```",1]])}return new Xt([])}async asExampleFilePrompt(t,r){let n=await this.fileInfoForPrompt(r);if(n){let[i,s]=n;return new Xt([[`${D7t} \`${s}\`:`,1],["```"+t,1],[i,.9],["```",1]])}return new Xt([])}async fileInfoForPrompt(t){if(!this.turnContext.isFileIncluded(t)){let r=this.turnContext.ctx.get(dn),n=await r.getOrReadTextDocument({uri:t});if(await this.turnContext.collectFile(ph,t,rs(n)),n.status==="valid"){let i=r.getRelativePath(n.document);return[Lu(n.document.getText()),i]}}}fileExistFn(){return async t=>{try{return await this.turnContext.ctx.get(ko).stat(t),!0}catch{return!1}}}},B7t="Code excerpt from the implementation source file",R7t="Code excerpt from the test file",D7t="Code excerpt from an example test file";var dLe=I.Object({currentFileUri:I.String(),sourceFileUri:I.Optional(I.String()),testFileUri:I.Optional(I.String())}),Nle=class{constructor(t){this.turnContext=t}static{o(this,"TestContextSkillProcessor")}value(){return .9}async processSkill(t){let r=this.turnContext.ctx.get(dn),n=new gG(this.turnContext);if(t.sourceFileUri&&t.testFileUri){if(t.sourceFileUri!==t.currentFileUri&&t.testFileUri!==t.currentFileUri)return;if(t.testFileUri===t.currentFileUri){let i=await r.getOrReadTextDocument({uri:t.testFileUri});if(await this.turnContext.collectFile(ph,t.testFileUri,rs(i)),i.status==="valid")return await n.asImplFilePrompt(i.document.detectedLanguageId,t.sourceFileUri)}else if(t.sourceFileUri===t.currentFileUri){let i=await r.getOrReadTextDocument({uri:t.sourceFileUri});if(await this.turnContext.collectFile(ph,t.sourceFileUri,rs(i)),i.status==="valid")return await n.asTestFilePrompt(i.document.detectedLanguageId,t.testFileUri)}}else if(t.sourceFileUri&&t.sourceFileUri===t.currentFileUri){let i=await r.getOrReadTextDocument({uri:t.sourceFileUri});if(await this.turnContext.collectFile(ph,t.sourceFileUri,rs(i)),i.status==="valid")return await n.fromImplementationFile(i.document)}else if(t.testFileUri&&t.testFileUri===t.currentFileUri){let i=await r.getOrReadTextDocument({uri:t.testFileUri});if(await this.turnContext.collectFile(ph,t.testFileUri,rs(i)),i.status==="valid")return await n.fromTestFile(i.document)}}},ph="test-context",AG=class extends Sl{static{o(this,"TestContextSkill")}constructor(t){super(ph,"Example tests useful for creating, adding and fixing tests, to detect available test frameworks as well as finding the corresponding implementation to existing tests","Searching test examples",()=>t,r=>new Nle(r))}};d();var mLe=tt(hf());var hLe=I.Object({failures:I.Array(I.Object({testName:I.String(),testSuite:I.Optional(I.String()),testFileUri:I.String(),failureReason:I.Optional(I.String()),testLocation:V0}))}),Lle=class{constructor(t){this.turnContext=t}static{o(this,"TestFailuresSkillProcessor")}value(){return .9}async processSkill(t){if(t.failures.length>0){this.turnContext.collectLabel(kx,"test failures");let r=await this.createElidableFailures(t.failures);if(r){let n=new Xt(["The latest test run produced the following failures and errors:"]);return new Xt([[n,1],[r,1]])}}}async createElidableFailures(t){let r=this.turnContext.ctx.get(dn),n=[],i=this.groupFailuresByFile(t);for(let[s,a]of i.entries()){let l=await r.getOrReadTextDocument({uri:s});if(await this.turnContext.collectFile(kx,s,rs(l)),l.status==="valid"){let c=r.getRelativePath(l.document),u=this.createElidableFailuresOfDoc(a,c),f=this.appendCode(u,c,l.document);n.push([f,1])}}if(n.length>0)return new Xt(n)}groupFailuresByFile(t){let r=new Map;for(let n of t){let i=r.get(n.testFileUri)||[];i.push(n),r.set(n.testFileUri,i)}return r}createElidableFailuresOfDoc(t,r){let n=t.map(i=>{let s=`\`${i.testName}\``,a=`${i.testSuite?` in suite \`${i.testSuite}\``:""}`,l=` in file \`${r}\` `,c=". ";i.failureReason&&(c=" with the following error:",i.failureReason.includes(`
`)?c+="\n```\n"+i.failureReason+"\n```\n":c+=` \`${i.failureReason}\`. `);let u=`${i.testLocation.start.line==i.testLocation.end.line?"on line "+i.testLocation.start.line:"between lines "+i.testLocation.start.line+" and "+i.testLocation.end.line}`;return[new Xt([mLe.default`\n\n- Test ${s}${a}${l}failed${c}The failed test is ${u}.\n`]),1]});return new Xt(n)}appendCode(t,r,n){let i=[new Xt([`
The code of file \`${r}\` is:
`]),.6],s=[new Xt([["```"+n.detectedLanguageId,1],[Lu(n.getText()),.9],["```",1]]),.7];return new Xt([[t,1],i,s])}},kx="test-failures",yG=class extends Sl{static{o(this,"TestFailuresSkill")}constructor(t){super(kx,"Test failures and errors of the latest test run","Collecting test failures",()=>t,r=>new Lle(r))}};var Qd=tt(hf());var _l=class{constructor(t,r,n=[],i=[],s=[],a){this.message=t;this.error=r;this.annotations=n;this.notifications=i;this.references=s;this.confirmationRequest=a}static{o(this,"PromptTemplateResponse")}},Bx=class{constructor(t,r,n,i,s=[],a=[],l,c=!1){this.id=t;this.description=r;this.shortDescription=n;this.prompt=i;this.skills=s;this.scopes=a;this.inlinePrompt=l;this.producesCodeEdits=c}static{o(this,"StaticPromptTemplate")}instructions(t,r,n="panel"){let i;return n==="inline"?i=this.inlinePrompt??this.prompt:i=this.prompt,i+`
`+r}async requiredSkills(t){return this.skills}},P7t=new Bx("tests","Generate unit tests","Generate Tests",Qd.default`
        Write a set of unit tests for the code above, or for the selected code if provided.
        Provide tests for the functionality of the code and not the implementation details.
        The tests should test the happy path as well as the edge cases.
        Choose self explanatory names for the tests that describe the tested behavior. Do not start the test names with "test".
        Think about the different scenarios that could happen and test them.
        Do reply with the tests only and do not explain them further.
        Do reply with new or modified tests only and not with the complete test class or suite.
        Follow the same test style as in existing tests if they exist.
        You must not create inline comments like "Arrange, Act, Assert", unless existing tests use inline comments as well.
        If existing tests use any mocking or stubbing libraries, use the same libraries before writing your own test doubles.
        `,[ph,kx],["chat-panel","editor"]),F7t=new Bx("simplify","Simplify the code","Simplify This",Qd.default`
        Provide a simplified version of the selected code above.
        Do not change the behavior of the code. 
        The code should still be readable and easy to understand. 
        Do not reply with the original code but only a simplified version. 
        Do only reply with one code snippet that contains the complete simplified code and explain what you have simplified after.`,[],["editor","chat-panel","inline"],Qd.default`
        Provide a simplified version of the selected code.
        Modify the selected code to make it simpler and easier to understand.
        Do not change the behavior of the code. 
        Removing empty lines is not a simplification.
        You must not omit any code that is necessary for the code to compile and run, for example by replacing lines with ... or similar.
        Do not reply with the original code but only a simplified version.`,!0),N7t=new Bx("fix","Fix problems and compile errors","Fix This",Qd.default`
        Fix the provided errors and problems. 
        Do not invent new problems.
        The fixed code should still be readable and easy to understand.
        If there are no problems provided do reply that you can't detect any problems and the user should describe more precisely what they want to be fixed. 
        Group problems if they are related and can be fixed by the same change. 
        Present a group as a single problem with a simple description that does not repeat the single problems but explains the whole group of problems in a few words.
        Explain each group of problems without repeating the detailed error message. 
        Show how the error can be fixed by providing a code snippet that displays the code before and after it has been fixed after each group. 
        Shorten fully qualified class names to the simple class name and full file paths to the file names only.
        When enumerating the groups, start with the word "Problem" followed by the number and a quick summary of the problem. Format this headline bold.
        At last provide a completely fixed version of the code if the fixes required multiple code changes.`,[nC],["editor","chat-panel","inline"],Qd.default`
        Fix the provided errors and problems. 
        Do not invent new problems.
        The fixed code should still be readable and easy to understand.
        If there are no problems provided do reply that you can't detect any problems and the user should describe more precisely what they want to be fixed.
        Do not attempt to fix problems that are not provided, like unbalanced brackets or parentheses that are not causing errors.
        Briefly explain the problems without repeating the detailed error message.`,!0),L7t=new Bx("explain","Explain how the code works","Explain This",Qd.default`
        Write an explanation for the selected code above as paragraphs of text. 
        Include excerpts of code snippets to underline your explanation. 
        Do not repeat the complete code.
        The explanation should be easy to understand for a developer who is familiar with the programming language used but not familiar with the code.`,[],["editor","chat-panel","inline"],Qd.default`
        Write an explanation for the code the user is selecting.
        Include excerpts of code snippets to underline your explanation. 
        Do not repeat the complete code.
        Keep the explanation brief and easy to understand for a developer who is familiar with the programming language used but not familiar with the code.`,!1),Q7t=new Bx("doc","Document the current selection of code","Generate Docs",Qd.default`
        Write documentation for the selected code.
        The reply should be a codeblock containing the original selection with the documentation added as comments.
        Use the most appropriate documentation style for the programming language used (e.g. JSDoc for JavaScript, docstrings for Python etc.)`,[],["editor","chat-panel","inline"],Qd.default`
        Add documentation to the selected code.
        Modify the selected code by adding documentation as comments.
        You must only modify the selected code and nothing else.
        Use the most appropriate documentation style for the programming language used (e.g. JSDoc for JavaScript, docstrings for Python etc.).
        Place the comments before functions and methods, unless the language has a different convention (for example Python's docstring).`,!0),Qle=class{constructor(){this.id="feedback";this.description="Steps to provide feedback";this.shortDescription="Feedback";this.scopes=["chat-panel"]}static{o(this,"FeedbackPromptTemplate")}async response(t){let r=Ule(t.conversation),n=Qd.default`
            You can provide direct feedback by pressing the thumbs up/down buttons on a single message. 
            In case you want to share more details, please click [here](https://gh.io/copilot-chat-jb-feedback) to share your feedback.
            `;return r?new _l(n+`

In order to help us understand your feedback better, you can include the following identifier in your feedback: by doing so, you are granting us permission to access the telemetry data associated with your feedback.
\`\`\`yaml
${t.conversation.id}/${r}
\`\`\``):new _l(n)}},M7t=new Qle,Mle=class{constructor(){this.id="help";this.description="Get help on how to use Copilot chat";this.shortDescription="Help";this.scopes=["chat-panel"]}static{o(this,"HelpPromptTemplate")}async response(t){let r=Ole(t.ctx).filter(i=>i!=this),n=Qd.default`
            You can ask me general programming questions, or use one of the following commands to get help with a specific task:

            ${r.map(i=>`- \`/${i.id}\` - ${i.description}`).join(`
`)}

            To have a great conversation, ask me questions as if I was a real programmer:
            
            - **Show me the code** you want to talk about by having the files open and selecting the most important lines.
            - On top of files, **I take different parts of your IDE into consideration** when answering questions. This includes, but is not limited to, test results and failures, build and runtime logs, active Git repository as well as details of the open project.
            - **Make refinements** by asking me follow-up questions, adding clarifications, providing errors, etc.
            - **Review my suggested code** and tell me about issues or improvements, so I can iterate on it.
        `;return new _l(n)}},O7t=new Mle;function j_(){return[P7t,F7t,N7t,L7t,Q7t,M7t,O7t,...lLe()]}o(j_,"getPromptTemplates");function Ole(e){let t=j_();return!aT(e)&&!vm(e)&&(t=t.filter(r=>!r.id.startsWith("debug."))),t}o(Ole,"getUserFacingPromptTemplates");var qle=class{constructor(t,r){this.conversation=t;this.capabilities=r}static{o(this,"ConversationHolder")}},Hi=class{constructor(t){this.ctx=t;this.conversations=new xn(100)}static{o(this,"Conversations")}async create(t,r="panel",n){let i=new iG([],r,n);return this.conversations.set(i.id,new qle(i,t)),i}destroy(t){this.conversations.delete(t)}async addTurn(t,r,n,i,s,a){let l=this.get(t);return r.request.references=n&&n.length>0?n:[],i&&(r.workspaceFolder=i),s&&s.length>0&&(r.ignoredSkills=s.map(c=>({skillId:c}))),a&&(r.agent={agentSlug:a.agentSlug},r.confirmationResponse=a),await this.determineAndApplyAgent(l,r),await this.determineAndApplyTemplate(l,r),l.addTurn(r),r}async determineAndApplyAgent(t,r){if(t.source==="panel"&&en(r.request.message).trim().startsWith("@")){let[n,i]=this.extractKeywordAndQuestionFromRequest(en(r.request.message),"@");(await pg(this.ctx)).find(l=>l.slug===n)&&(r.request.message=i,r.request.type="user",r.agent={agentSlug:n})}}async determineAndApplyTemplate(t,r){if(en(r.request.message).trim().startsWith("/")){let[n,i]=this.extractKeywordAndQuestionFromRequest(en(r.request.message),"/"),s=j_().find(a=>a.id===n);if(s){r.request.message=i,r.request.type="user",await this.determineAndApplyAgent(t,r);let a=s.instructions?s.instructions(this.ctx,r.request.message,t.source):i;r.template={templateId:n,userQuestion:r.request.message},r.request.message=a,r.request.type="template"}}}extractKeywordAndQuestionFromRequest(t,r){let[n,...i]=t.trim().split(" "),s=i.join(" ");return[n.replace(r,""),s]}deleteTurn(t,r){this.get(t).deleteTurn(r)}get(t){return this.getHolder(t).conversation}getCapabilities(t){return this.getHolder(t).capabilities}getSupportedSkills(t){let r=this.ctx.get(Wa).getDescriptors().filter(i=>i.type==="implicit").map(i=>i.id),n=this.getCapabilities(t).skills;return[...r,...n]}filterSupportedSkills(t,r){let n=this.getSupportedSkills(t);return r.filter(i=>n.includes(i))}getHolder(t){let r=this.conversations.get(t);if(!r)throw new Error(`Conversation with id ${t} does not exist`);return r}getAll(){let t=this.conversations.values();return Array.from(t).map(r=>r.conversation)}findByTurnId(t){return this.getAll().find(r=>r.hasTurn(t))}};d();function BLe(e){return typeof e>"u"||e===null}o(BLe,"isNothing");function U7t(e){return typeof e=="object"&&e!==null}o(U7t,"isObject");function q7t(e){return Array.isArray(e)?e:BLe(e)?[]:[e]}o(q7t,"toArray");function W7t(e,t){var r,n,i,s;if(t)for(s=Object.keys(t),r=0,n=s.length;r<n;r+=1)i=s[r],e[i]=t[i];return e}o(W7t,"extend");function G7t(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}o(G7t,"repeat");function H7t(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}o(H7t,"isNegativeZero");var V7t=BLe,j7t=U7t,$7t=q7t,z7t=G7t,Y7t=H7t,K7t=W7t,el={isNothing:V7t,isObject:j7t,toArray:$7t,repeat:z7t,isNegativeZero:Y7t,extend:K7t};function RLe(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}o(RLe,"formatError");function z_(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=RLe(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}o(z_,"YAMLException$1");z_.prototype=Object.create(Error.prototype);z_.prototype.constructor=z_;z_.prototype.toString=o(function(t){return this.name+": "+RLe(this,t)},"toString");var au=z_;function Wle(e,t,r,n,i){var s="",a="",l=Math.floor(i/2)-1;return n-t>l&&(s=" ... ",t=n-l+s.length),r-n>l&&(a=" ...",r=n+l-a.length),{str:s+e.slice(t,r).replace(/\t/g,"\u2192")+a,pos:n-t+s.length}}o(Wle,"getLine");function Gle(e,t){return el.repeat(" ",t-e.length)+e}o(Gle,"padStart");function J7t(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],s,a=-1;s=r.exec(e.buffer);)i.push(s.index),n.push(s.index+s[0].length),e.position<=s.index&&a<0&&(a=n.length-2);a<0&&(a=n.length-1);var l="",c,u,f=Math.min(e.line+t.linesAfter,i.length).toString().length,m=t.maxLength-(t.indent+f+3);for(c=1;c<=t.linesBefore&&!(a-c<0);c++)u=Wle(e.buffer,n[a-c],i[a-c],e.position-(n[a]-n[a-c]),m),l=el.repeat(" ",t.indent)+Gle((e.line-c+1).toString(),f)+" | "+u.str+`
`+l;for(u=Wle(e.buffer,n[a],i[a],e.position,m),l+=el.repeat(" ",t.indent)+Gle((e.line+1).toString(),f)+" | "+u.str+`
`,l+=el.repeat("-",t.indent+f+3+u.pos)+`^
`,c=1;c<=t.linesAfter&&!(a+c>=i.length);c++)u=Wle(e.buffer,n[a+c],i[a+c],e.position-(n[a]-n[a+c]),m),l+=el.repeat(" ",t.indent)+Gle((e.line+c+1).toString(),f)+" | "+u.str+`
`;return l.replace(/\n$/,"")}o(J7t,"makeSnippet");var X7t=J7t,Z7t=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],eTt=["scalar","sequence","mapping"];function tTt(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}o(tTt,"compileStyleAliases");function rTt(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(Z7t.indexOf(r)===-1)throw new au('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=tTt(t.styleAliases||null),eTt.indexOf(this.kind)===-1)throw new au('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}o(rTt,"Type$1");var F0=rTt;function pLe(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(s,a){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=a)}),r[i]=n}),r}o(pLe,"compileList");function nTt(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(o(n,"collectType"),t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}o(nTt,"compileMap");function Vle(e){return this.extend(e)}o(Vle,"Schema$1");Vle.prototype.extend=o(function(t){var r=[],n=[];if(t instanceof F0)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new au("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof F0))throw new au("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new au("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new au("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof F0))throw new au("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Vle.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=pLe(i,"implicit"),i.compiledExplicit=pLe(i,"explicit"),i.compiledTypeMap=nTt(i.compiledImplicit,i.compiledExplicit),i},"extend");var iTt=Vle,oTt=new F0("tag:yaml.org,2002:str",{kind:"scalar",construct:o(function(e){return e!==null?e:""},"construct")}),sTt=new F0("tag:yaml.org,2002:seq",{kind:"sequence",construct:o(function(e){return e!==null?e:[]},"construct")}),aTt=new F0("tag:yaml.org,2002:map",{kind:"mapping",construct:o(function(e){return e!==null?e:{}},"construct")}),lTt=new iTt({explicit:[oTt,sTt,aTt]});function cTt(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}o(cTt,"resolveYamlNull");function uTt(){return null}o(uTt,"constructYamlNull");function fTt(e){return e===null}o(fTt,"isNull");var dTt=new F0("tag:yaml.org,2002:null",{kind:"scalar",resolve:cTt,construct:uTt,predicate:fTt,represent:{canonical:o(function(){return"~"},"canonical"),lowercase:o(function(){return"null"},"lowercase"),uppercase:o(function(){return"NULL"},"uppercase"),camelcase:o(function(){return"Null"},"camelcase"),empty:o(function(){return""},"empty")},defaultStyle:"lowercase"});function mTt(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}o(mTt,"resolveYamlBoolean");function hTt(e){return e==="true"||e==="True"||e==="TRUE"}o(hTt,"constructYamlBoolean");function pTt(e){return Object.prototype.toString.call(e)==="[object Boolean]"}o(pTt,"isBoolean");var gTt=new F0("tag:yaml.org,2002:bool",{kind:"scalar",resolve:mTt,construct:hTt,predicate:pTt,represent:{lowercase:o(function(e){return e?"true":"false"},"lowercase"),uppercase:o(function(e){return e?"TRUE":"FALSE"},"uppercase"),camelcase:o(function(e){return e?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function ATt(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}o(ATt,"isHexCode");function yTt(e){return 48<=e&&e<=55}o(yTt,"isOctCode");function CTt(e){return 48<=e&&e<=57}o(CTt,"isDecCode");function xTt(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!ATt(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!yTt(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!CTt(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}o(xTt,"resolveYamlInteger");function ETt(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}o(ETt,"constructYamlInteger");function bTt(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!el.isNegativeZero(e)}o(bTt,"isInteger");var vTt=new F0("tag:yaml.org,2002:int",{kind:"scalar",resolve:xTt,construct:ETt,predicate:bTt,represent:{binary:o(function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},"binary"),octal:o(function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},"octal"),decimal:o(function(e){return e.toString(10)},"decimal"),hexadecimal:o(function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),ITt=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function TTt(e){return!(e===null||!ITt.test(e)||e[e.length-1]==="_")}o(TTt,"resolveYamlFloat");function wTt(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}o(wTt,"constructYamlFloat");var STt=/^[-+]?[0-9]+e/;function _Tt(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(el.isNegativeZero(e))return"-0.0";return r=e.toString(10),STt.test(r)?r.replace("e",".e"):r}o(_Tt,"representYamlFloat");function kTt(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||el.isNegativeZero(e))}o(kTt,"isFloat");var BTt=new F0("tag:yaml.org,2002:float",{kind:"scalar",resolve:TTt,construct:wTt,predicate:kTt,represent:_Tt,defaultStyle:"lowercase"}),RTt=lTt.extend({implicit:[dTt,gTt,vTt,BTt]}),DTt=RTt,DLe=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),PLe=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function PTt(e){return e===null?!1:DLe.exec(e)!==null||PLe.exec(e)!==null}o(PTt,"resolveYamlTimestamp");function FTt(e){var t,r,n,i,s,a,l,c=0,u=null,f,m,h;if(t=DLe.exec(e),t===null&&(t=PLe.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(s=+t[4],a=+t[5],l=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(f=+t[10],m=+(t[11]||0),u=(f*60+m)*6e4,t[9]==="-"&&(u=-u)),h=new Date(Date.UTC(r,n,i,s,a,l,c)),u&&h.setTime(h.getTime()-u),h}o(FTt,"constructYamlTimestamp");function NTt(e){return e.toISOString()}o(NTt,"representYamlTimestamp");var LTt=new F0("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:PTt,construct:FTt,instanceOf:Date,represent:NTt});function QTt(e){return e==="<<"||e===null}o(QTt,"resolveYamlMerge");var MTt=new F0("tag:yaml.org,2002:merge",{kind:"scalar",resolve:QTt}),Kle=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function OTt(e){if(e===null)return!1;var t,r,n=0,i=e.length,s=Kle;for(r=0;r<i;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}o(OTt,"resolveYamlBinary");function UTt(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,s=Kle,a=0,l=[];for(t=0;t<i;t++)t%4===0&&t&&(l.push(a>>16&255),l.push(a>>8&255),l.push(a&255)),a=a<<6|s.indexOf(n.charAt(t));return r=i%4*6,r===0?(l.push(a>>16&255),l.push(a>>8&255),l.push(a&255)):r===18?(l.push(a>>10&255),l.push(a>>2&255)):r===12&&l.push(a>>4&255),new Uint8Array(l)}o(UTt,"constructYamlBinary");function qTt(e){var t="",r=0,n,i,s=e.length,a=Kle;for(n=0;n<s;n++)n%3===0&&n&&(t+=a[r>>18&63],t+=a[r>>12&63],t+=a[r>>6&63],t+=a[r&63]),r=(r<<8)+e[n];return i=s%3,i===0?(t+=a[r>>18&63],t+=a[r>>12&63],t+=a[r>>6&63],t+=a[r&63]):i===2?(t+=a[r>>10&63],t+=a[r>>4&63],t+=a[r<<2&63],t+=a[64]):i===1&&(t+=a[r>>2&63],t+=a[r<<4&63],t+=a[64],t+=a[64]),t}o(qTt,"representYamlBinary");function WTt(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}o(WTt,"isBinary");var GTt=new F0("tag:yaml.org,2002:binary",{kind:"scalar",resolve:OTt,construct:UTt,predicate:WTt,represent:qTt}),HTt=Object.prototype.hasOwnProperty,VTt=Object.prototype.toString;function jTt(e){if(e===null)return!0;var t=[],r,n,i,s,a,l=e;for(r=0,n=l.length;r<n;r+=1){if(i=l[r],a=!1,VTt.call(i)!=="[object Object]")return!1;for(s in i)if(HTt.call(i,s))if(!a)a=!0;else return!1;if(!a)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}o(jTt,"resolveYamlOmap");function $Tt(e){return e!==null?e:[]}o($Tt,"constructYamlOmap");var zTt=new F0("tag:yaml.org,2002:omap",{kind:"sequence",resolve:jTt,construct:$Tt}),YTt=Object.prototype.toString;function KTt(e){if(e===null)return!0;var t,r,n,i,s,a=e;for(s=new Array(a.length),t=0,r=a.length;t<r;t+=1){if(n=a[t],YTt.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[t]=[i[0],n[i[0]]]}return!0}o(KTt,"resolveYamlPairs");function JTt(e){if(e===null)return[];var t,r,n,i,s,a=e;for(s=new Array(a.length),t=0,r=a.length;t<r;t+=1)n=a[t],i=Object.keys(n),s[t]=[i[0],n[i[0]]];return s}o(JTt,"constructYamlPairs");var XTt=new F0("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:KTt,construct:JTt}),ZTt=Object.prototype.hasOwnProperty;function ewt(e){if(e===null)return!0;var t,r=e;for(t in r)if(ZTt.call(r,t)&&r[t]!==null)return!1;return!0}o(ewt,"resolveYamlSet");function twt(e){return e!==null?e:{}}o(twt,"constructYamlSet");var rwt=new F0("tag:yaml.org,2002:set",{kind:"mapping",resolve:ewt,construct:twt}),FLe=DTt.extend({implicit:[LTt,MTt],explicit:[GTt,zTt,XTt,rwt]}),oC=Object.prototype.hasOwnProperty,CG=1,NLe=2,LLe=3,xG=4,Hle=1,nwt=2,gLe=3,iwt=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,owt=/[\x85\u2028\u2029]/,swt=/[,\[\]\{\}]/,QLe=/^(?:!|!!|![a-z\-]+!)$/i,MLe=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function ALe(e){return Object.prototype.toString.call(e)}o(ALe,"_class");function gg(e){return e===10||e===13}o(gg,"is_EOL");function Dx(e){return e===9||e===32}o(Dx,"is_WHITE_SPACE");function lu(e){return e===9||e===32||e===10||e===13}o(lu,"is_WS_OR_EOL");function b6(e){return e===44||e===91||e===93||e===123||e===125}o(b6,"is_FLOW_INDICATOR");function awt(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}o(awt,"fromHexCode");function lwt(e){return e===120?2:e===117?4:e===85?8:0}o(lwt,"escapedHexLen");function cwt(e){return 48<=e&&e<=57?e-48:-1}o(cwt,"fromDecimalCode");function yLe(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}o(yLe,"simpleEscapeSequence");function uwt(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}o(uwt,"charFromCodepoint");var OLe=new Array(256),ULe=new Array(256);for(Rx=0;Rx<256;Rx++)OLe[Rx]=yLe(Rx)?1:0,ULe[Rx]=yLe(Rx);var Rx;function fwt(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||FLe,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}o(fwt,"State$1");function qLe(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=X7t(r),new au(t,r)}o(qLe,"generateError");function Yr(e,t){throw qLe(e,t)}o(Yr,"throwError");function EG(e,t){e.onWarning&&e.onWarning.call(null,qLe(e,t))}o(EG,"throwWarning");var CLe={YAML:o(function(t,r,n){var i,s,a;t.version!==null&&Yr(t,"duplication of %YAML directive"),n.length!==1&&Yr(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&Yr(t,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),a=parseInt(i[2],10),s!==1&&Yr(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=a<2,a!==1&&a!==2&&EG(t,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:o(function(t,r,n){var i,s;n.length!==2&&Yr(t,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],QLe.test(i)||Yr(t,"ill-formed tag handle (first argument) of the TAG directive"),oC.call(t.tagMap,i)&&Yr(t,'there is a previously declared suffix for "'+i+'" tag handle'),MLe.test(s)||Yr(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{Yr(t,"tag prefix is malformed: "+s)}t.tagMap[i]=s},"handleTagDirective")};function iC(e,t,r,n){var i,s,a,l;if(t<r){if(l=e.input.slice(t,r),n)for(i=0,s=l.length;i<s;i+=1)a=l.charCodeAt(i),a===9||32<=a&&a<=1114111||Yr(e,"expected valid JSON character");else iwt.test(l)&&Yr(e,"the stream contains non-printable characters");e.result+=l}}o(iC,"captureSegment");function xLe(e,t,r,n){var i,s,a,l;for(el.isObject(r)||Yr(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),a=0,l=i.length;a<l;a+=1)s=i[a],oC.call(t,s)||(t[s]=r[s],n[s]=!0)}o(xLe,"mergeMappings");function v6(e,t,r,n,i,s,a,l,c){var u,f;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),u=0,f=i.length;u<f;u+=1)Array.isArray(i[u])&&Yr(e,"nested arrays are not supported inside keys"),typeof i=="object"&&ALe(i[u])==="[object Object]"&&(i[u]="[object Object]");if(typeof i=="object"&&ALe(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(u=0,f=s.length;u<f;u+=1)xLe(e,t,s[u],r);else xLe(e,t,s,r);else!e.json&&!oC.call(r,i)&&oC.call(t,i)&&(e.line=a||e.line,e.lineStart=l||e.lineStart,e.position=c||e.position,Yr(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[i]=s,delete r[i];return t}o(v6,"storeMappingPair");function Jle(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):Yr(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}o(Jle,"readLineBreak");function Ga(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;Dx(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(gg(i))for(Jle(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&EG(e,"deficient indentation"),n}o(Ga,"skipSeparationSpace");function IG(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||lu(r)))}o(IG,"testDocumentSeparator");function Xle(e,t){t===1?e.result+=" ":t>1&&(e.result+=el.repeat(`
`,t-1))}o(Xle,"writeFoldedLines");function dwt(e,t,r){var n,i,s,a,l,c,u,f,m=e.kind,h=e.result,p;if(p=e.input.charCodeAt(e.position),lu(p)||b6(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=e.input.charCodeAt(e.position+1),lu(i)||r&&b6(i)))return!1;for(e.kind="scalar",e.result="",s=a=e.position,l=!1;p!==0;){if(p===58){if(i=e.input.charCodeAt(e.position+1),lu(i)||r&&b6(i))break}else if(p===35){if(n=e.input.charCodeAt(e.position-1),lu(n))break}else{if(e.position===e.lineStart&&IG(e)||r&&b6(p))break;if(gg(p))if(c=e.line,u=e.lineStart,f=e.lineIndent,Ga(e,!1,-1),e.lineIndent>=t){l=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=a,e.line=c,e.lineStart=u,e.lineIndent=f;break}}l&&(iC(e,s,a,!1),Xle(e,e.line-c),s=a=e.position,l=!1),Dx(p)||(a=e.position+1),p=e.input.charCodeAt(++e.position)}return iC(e,s,a,!1),e.result?!0:(e.kind=m,e.result=h,!1)}o(dwt,"readPlainScalar");function mwt(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(iC(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else gg(r)?(iC(e,n,i,!0),Xle(e,Ga(e,!1,t)),n=i=e.position):e.position===e.lineStart&&IG(e)?Yr(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);Yr(e,"unexpected end of the stream within a single quoted scalar")}o(mwt,"readSingleQuotedScalar");function hwt(e,t){var r,n,i,s,a,l;if(l=e.input.charCodeAt(e.position),l!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(l=e.input.charCodeAt(e.position))!==0;){if(l===34)return iC(e,r,e.position,!0),e.position++,!0;if(l===92){if(iC(e,r,e.position,!0),l=e.input.charCodeAt(++e.position),gg(l))Ga(e,!1,t);else if(l<256&&OLe[l])e.result+=ULe[l],e.position++;else if((a=lwt(l))>0){for(i=a,s=0;i>0;i--)l=e.input.charCodeAt(++e.position),(a=awt(l))>=0?s=(s<<4)+a:Yr(e,"expected hexadecimal character");e.result+=uwt(s),e.position++}else Yr(e,"unknown escape sequence");r=n=e.position}else gg(l)?(iC(e,r,n,!0),Xle(e,Ga(e,!1,t)),r=n=e.position):e.position===e.lineStart&&IG(e)?Yr(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}Yr(e,"unexpected end of the stream within a double quoted scalar")}o(hwt,"readDoubleQuotedScalar");function pwt(e,t){var r=!0,n,i,s,a=e.tag,l,c=e.anchor,u,f,m,h,p,A=Object.create(null),x,E,v,b;if(b=e.input.charCodeAt(e.position),b===91)f=93,p=!1,l=[];else if(b===123)f=125,p=!0,l={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=l),b=e.input.charCodeAt(++e.position);b!==0;){if(Ga(e,!0,t),b=e.input.charCodeAt(e.position),b===f)return e.position++,e.tag=a,e.anchor=c,e.kind=p?"mapping":"sequence",e.result=l,!0;r?b===44&&Yr(e,"expected the node content, but found ','"):Yr(e,"missed comma between flow collection entries"),E=x=v=null,m=h=!1,b===63&&(u=e.input.charCodeAt(e.position+1),lu(u)&&(m=h=!0,e.position++,Ga(e,!0,t))),n=e.line,i=e.lineStart,s=e.position,I6(e,t,CG,!1,!0),E=e.tag,x=e.result,Ga(e,!0,t),b=e.input.charCodeAt(e.position),(h||e.line===n)&&b===58&&(m=!0,b=e.input.charCodeAt(++e.position),Ga(e,!0,t),I6(e,t,CG,!1,!0),v=e.result),p?v6(e,l,A,E,x,v,n,i,s):m?l.push(v6(e,null,A,E,x,v,n,i,s)):l.push(x),Ga(e,!0,t),b=e.input.charCodeAt(e.position),b===44?(r=!0,b=e.input.charCodeAt(++e.position)):r=!1}Yr(e,"unexpected end of the stream within a flow collection")}o(pwt,"readFlowCollection");function gwt(e,t){var r,n,i=Hle,s=!1,a=!1,l=t,c=0,u=!1,f,m;if(m=e.input.charCodeAt(e.position),m===124)n=!1;else if(m===62)n=!0;else return!1;for(e.kind="scalar",e.result="";m!==0;)if(m=e.input.charCodeAt(++e.position),m===43||m===45)Hle===i?i=m===43?gLe:nwt:Yr(e,"repeat of a chomping mode identifier");else if((f=cwt(m))>=0)f===0?Yr(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?Yr(e,"repeat of an indentation width identifier"):(l=t+f-1,a=!0);else break;if(Dx(m)){do m=e.input.charCodeAt(++e.position);while(Dx(m));if(m===35)do m=e.input.charCodeAt(++e.position);while(!gg(m)&&m!==0)}for(;m!==0;){for(Jle(e),e.lineIndent=0,m=e.input.charCodeAt(e.position);(!a||e.lineIndent<l)&&m===32;)e.lineIndent++,m=e.input.charCodeAt(++e.position);if(!a&&e.lineIndent>l&&(l=e.lineIndent),gg(m)){c++;continue}if(e.lineIndent<l){i===gLe?e.result+=el.repeat(`
`,s?1+c:c):i===Hle&&s&&(e.result+=`
`);break}for(n?Dx(m)?(u=!0,e.result+=el.repeat(`
`,s?1+c:c)):u?(u=!1,e.result+=el.repeat(`
`,c+1)):c===0?s&&(e.result+=" "):e.result+=el.repeat(`
`,c):e.result+=el.repeat(`
`,s?1+c:c),s=!0,a=!0,c=0,r=e.position;!gg(m)&&m!==0;)m=e.input.charCodeAt(++e.position);iC(e,r,e.position,!1)}return!0}o(gwt,"readBlockScalar");function ELe(e,t){var r,n=e.tag,i=e.anchor,s=[],a,l=!1,c;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),c=e.input.charCodeAt(e.position);c!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Yr(e,"tab characters must not be used in indentation")),!(c!==45||(a=e.input.charCodeAt(e.position+1),!lu(a))));){if(l=!0,e.position++,Ga(e,!0,-1)&&e.lineIndent<=t){s.push(null),c=e.input.charCodeAt(e.position);continue}if(r=e.line,I6(e,t,LLe,!1,!0),s.push(e.result),Ga(e,!0,-1),c=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&c!==0)Yr(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return l?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=s,!0):!1}o(ELe,"readBlockSequence");function Awt(e,t,r){var n,i,s,a,l,c,u=e.tag,f=e.anchor,m={},h=Object.create(null),p=null,A=null,x=null,E=!1,v=!1,b;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=m),b=e.input.charCodeAt(e.position);b!==0;){if(!E&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Yr(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),s=e.line,(b===63||b===58)&&lu(n))b===63?(E&&(v6(e,m,h,p,A,null,a,l,c),p=A=x=null),v=!0,E=!0,i=!0):E?(E=!1,i=!0):Yr(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,b=n;else{if(a=e.line,l=e.lineStart,c=e.position,!I6(e,r,NLe,!1,!0))break;if(e.line===s){for(b=e.input.charCodeAt(e.position);Dx(b);)b=e.input.charCodeAt(++e.position);if(b===58)b=e.input.charCodeAt(++e.position),lu(b)||Yr(e,"a whitespace character is expected after the key-value separator within a block mapping"),E&&(v6(e,m,h,p,A,null,a,l,c),p=A=x=null),v=!0,E=!1,i=!1,p=e.tag,A=e.result;else if(v)Yr(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=u,e.anchor=f,!0}else if(v)Yr(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=u,e.anchor=f,!0}if((e.line===s||e.lineIndent>t)&&(E&&(a=e.line,l=e.lineStart,c=e.position),I6(e,t,xG,!0,i)&&(E?A=e.result:x=e.result),E||(v6(e,m,h,p,A,x,a,l,c),p=A=x=null),Ga(e,!0,-1),b=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&b!==0)Yr(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return E&&v6(e,m,h,p,A,null,a,l,c),v&&(e.tag=u,e.anchor=f,e.kind="mapping",e.result=m),v}o(Awt,"readBlockMapping");function ywt(e){var t,r=!1,n=!1,i,s,a;if(a=e.input.charCodeAt(e.position),a!==33)return!1;if(e.tag!==null&&Yr(e,"duplication of a tag property"),a=e.input.charCodeAt(++e.position),a===60?(r=!0,a=e.input.charCodeAt(++e.position)):a===33?(n=!0,i="!!",a=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do a=e.input.charCodeAt(++e.position);while(a!==0&&a!==62);e.position<e.length?(s=e.input.slice(t,e.position),a=e.input.charCodeAt(++e.position)):Yr(e,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!lu(a);)a===33&&(n?Yr(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),QLe.test(i)||Yr(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),a=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),swt.test(s)&&Yr(e,"tag suffix cannot contain flow indicator characters")}s&&!MLe.test(s)&&Yr(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{Yr(e,"tag name is malformed: "+s)}return r?e.tag=s:oC.call(e.tagMap,i)?e.tag=e.tagMap[i]+s:i==="!"?e.tag="!"+s:i==="!!"?e.tag="tag:yaml.org,2002:"+s:Yr(e,'undeclared tag handle "'+i+'"'),!0}o(ywt,"readTagProperty");function Cwt(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&Yr(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!lu(r)&&!b6(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&Yr(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}o(Cwt,"readAnchorProperty");function xwt(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!lu(n)&&!b6(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&Yr(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),oC.call(e.anchorMap,r)||Yr(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],Ga(e,!0,-1),!0}o(xwt,"readAlias");function I6(e,t,r,n,i){var s,a,l,c=1,u=!1,f=!1,m,h,p,A,x,E;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=a=l=xG===r||LLe===r,n&&Ga(e,!0,-1)&&(u=!0,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)),c===1)for(;ywt(e)||Cwt(e);)Ga(e,!0,-1)?(u=!0,l=s,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)):l=!1;if(l&&(l=u||i),(c===1||xG===r)&&(CG===r||NLe===r?x=t:x=t+1,E=e.position-e.lineStart,c===1?l&&(ELe(e,E)||Awt(e,E,x))||pwt(e,x)?f=!0:(a&&gwt(e,x)||mwt(e,x)||hwt(e,x)?f=!0:xwt(e)?(f=!0,(e.tag!==null||e.anchor!==null)&&Yr(e,"alias node should not have any properties")):dwt(e,x,CG===r)&&(f=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):c===0&&(f=l&&ELe(e,E))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&Yr(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),m=0,h=e.implicitTypes.length;m<h;m+=1)if(A=e.implicitTypes[m],A.resolve(e.result)){e.result=A.construct(e.result),e.tag=A.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(oC.call(e.typeMap[e.kind||"fallback"],e.tag))A=e.typeMap[e.kind||"fallback"][e.tag];else for(A=null,p=e.typeMap.multi[e.kind||"fallback"],m=0,h=p.length;m<h;m+=1)if(e.tag.slice(0,p[m].tag.length)===p[m].tag){A=p[m];break}A||Yr(e,"unknown tag !<"+e.tag+">"),e.result!==null&&A.kind!==e.kind&&Yr(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+A.kind+'", not "'+e.kind+'"'),A.resolve(e.result,e.tag)?(e.result=A.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):Yr(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||f}o(I6,"composeNode");function Ewt(e){var t=e.position,r,n,i,s=!1,a;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(a=e.input.charCodeAt(e.position))!==0&&(Ga(e,!0,-1),a=e.input.charCodeAt(e.position),!(e.lineIndent>0||a!==37));){for(s=!0,a=e.input.charCodeAt(++e.position),r=e.position;a!==0&&!lu(a);)a=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&Yr(e,"directive name must not be less than one character in length");a!==0;){for(;Dx(a);)a=e.input.charCodeAt(++e.position);if(a===35){do a=e.input.charCodeAt(++e.position);while(a!==0&&!gg(a));break}if(gg(a))break;for(r=e.position;a!==0&&!lu(a);)a=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}a!==0&&Jle(e),oC.call(CLe,n)?CLe[n](e,n,i):EG(e,'unknown document directive "'+n+'"')}if(Ga(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Ga(e,!0,-1)):s&&Yr(e,"directives end mark is expected"),I6(e,e.lineIndent-1,xG,!1,!0),Ga(e,!0,-1),e.checkLineBreaks&&owt.test(e.input.slice(t,e.position))&&EG(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&IG(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Ga(e,!0,-1));return}if(e.position<e.length-1)Yr(e,"end of the stream or a document separator is expected");else return}o(Ewt,"readDocument");function WLe(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new fwt(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,Yr(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)Ewt(r);return r.documents}o(WLe,"loadDocuments");function bwt(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=WLe(e,r);if(typeof t!="function")return n;for(var i=0,s=n.length;i<s;i+=1)t(n[i])}o(bwt,"loadAll$1");function vwt(e,t){var r=WLe(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new au("expected a single document in the stream, but found more")}}o(vwt,"load$1");var Iwt=bwt,Twt=vwt,GLe={loadAll:Iwt,load:Twt},HLe=Object.prototype.toString,VLe=Object.prototype.hasOwnProperty,Zle=65279,wwt=9,Y_=10,Swt=13,_wt=32,kwt=33,Bwt=34,jle=35,Rwt=37,Dwt=38,Pwt=39,Fwt=42,jLe=44,Nwt=45,bG=58,Lwt=61,Qwt=62,Mwt=63,Owt=64,$Le=91,zLe=93,Uwt=96,YLe=123,qwt=124,KLe=125,N0={};N0[0]="\\0";N0[7]="\\a";N0[8]="\\b";N0[9]="\\t";N0[10]="\\n";N0[11]="\\v";N0[12]="\\f";N0[13]="\\r";N0[27]="\\e";N0[34]='\\"';N0[92]="\\\\";N0[133]="\\N";N0[160]="\\_";N0[8232]="\\L";N0[8233]="\\P";var Wwt=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Gwt=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Hwt(e,t){var r,n,i,s,a,l,c;if(t===null)return{};for(r={},n=Object.keys(t),i=0,s=n.length;i<s;i+=1)a=n[i],l=String(t[a]),a.slice(0,2)==="!!"&&(a="tag:yaml.org,2002:"+a.slice(2)),c=e.compiledTypeMap.fallback[a],c&&VLe.call(c.styleAliases,l)&&(l=c.styleAliases[l]),r[a]=l;return r}o(Hwt,"compileStyleMap");function Vwt(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new au("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+el.repeat("0",n-t.length)+t}o(Vwt,"encodeHex");var jwt=1,K_=2;function $wt(e){this.schema=e.schema||FLe,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=el.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=Hwt(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?K_:jwt,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}o($wt,"State");function bLe(e,t){for(var r=el.repeat(" ",t),n=0,i=-1,s="",a,l=e.length;n<l;)i=e.indexOf(`
`,n),i===-1?(a=e.slice(n),n=l):(a=e.slice(n,i+1),n=i+1),a.length&&a!==`
`&&(s+=r),s+=a;return s}o(bLe,"indentString");function $le(e,t){return`
`+el.repeat(" ",e.indent*t)}o($le,"generateNextLine");function zwt(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}o(zwt,"testImplicitResolving");function vG(e){return e===_wt||e===wwt}o(vG,"isWhitespace");function J_(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==Zle||65536<=e&&e<=1114111}o(J_,"isPrintable");function vLe(e){return J_(e)&&e!==Zle&&e!==Swt&&e!==Y_}o(vLe,"isNsCharOrWhitespace");function ILe(e,t,r){var n=vLe(e),i=n&&!vG(e);return(r?n:n&&e!==jLe&&e!==$Le&&e!==zLe&&e!==YLe&&e!==KLe)&&e!==jle&&!(t===bG&&!i)||vLe(t)&&!vG(t)&&e===jle||t===bG&&i}o(ILe,"isPlainSafe");function Ywt(e){return J_(e)&&e!==Zle&&!vG(e)&&e!==Nwt&&e!==Mwt&&e!==bG&&e!==jLe&&e!==$Le&&e!==zLe&&e!==YLe&&e!==KLe&&e!==jle&&e!==Dwt&&e!==Fwt&&e!==kwt&&e!==qwt&&e!==Lwt&&e!==Qwt&&e!==Pwt&&e!==Bwt&&e!==Rwt&&e!==Owt&&e!==Uwt}o(Ywt,"isPlainSafeFirst");function Kwt(e){return!vG(e)&&e!==bG}o(Kwt,"isPlainSafeLast");function $_(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}o($_,"codePointAt");function JLe(e){var t=/^\n* /;return t.test(e)}o(JLe,"needIndentIndicator");var XLe=1,zle=2,ZLe=3,eQe=4,E6=5;function Jwt(e,t,r,n,i,s,a,l){var c,u=0,f=null,m=!1,h=!1,p=n!==-1,A=-1,x=Ywt($_(e,0))&&Kwt($_(e,e.length-1));if(t||a)for(c=0;c<e.length;u>=65536?c+=2:c++){if(u=$_(e,c),!J_(u))return E6;x=x&&ILe(u,f,l),f=u}else{for(c=0;c<e.length;u>=65536?c+=2:c++){if(u=$_(e,c),u===Y_)m=!0,p&&(h=h||c-A-1>n&&e[A+1]!==" ",A=c);else if(!J_(u))return E6;x=x&&ILe(u,f,l),f=u}h=h||p&&c-A-1>n&&e[A+1]!==" "}return!m&&!h?x&&!a&&!i(e)?XLe:s===K_?E6:zle:r>9&&JLe(e)?E6:a?s===K_?E6:zle:h?eQe:ZLe}o(Jwt,"chooseScalarStyle");function Xwt(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===K_?'""':"''";if(!e.noCompatMode&&(Wwt.indexOf(t)!==-1||Gwt.test(t)))return e.quotingType===K_?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),a=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),l=n||e.flowLevel>-1&&r>=e.flowLevel;function c(u){return zwt(e,u)}switch(o(c,"testAmbiguity"),Jwt(t,l,e.indent,a,c,e.quotingType,e.forceQuotes&&!n,i)){case XLe:return t;case zle:return"'"+t.replace(/'/g,"''")+"'";case ZLe:return"|"+TLe(t,e.indent)+wLe(bLe(t,s));case eQe:return">"+TLe(t,e.indent)+wLe(bLe(Zwt(t,a),s));case E6:return'"'+eSt(t)+'"';default:throw new au("impossible error: invalid scalar style")}}()}o(Xwt,"writeScalar");function TLe(e,t){var r=JLe(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),s=i?"+":n?"":"-";return r+s+`
`}o(TLe,"blockHeader");function wLe(e){return e[e.length-1]===`
`?e.slice(0,-1):e}o(wLe,"dropEndingNewline");function Zwt(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var u=e.indexOf(`
`);return u=u!==-1?u:e.length,r.lastIndex=u,SLe(e.slice(0,u),t)}(),i=e[0]===`
`||e[0]===" ",s,a;a=r.exec(e);){var l=a[1],c=a[2];s=c[0]===" ",n+=l+(!i&&!s&&c!==""?`
`:"")+SLe(c,t),i=s}return n}o(Zwt,"foldString");function SLe(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,s,a=0,l=0,c="";n=r.exec(e);)l=n.index,l-i>t&&(s=a>i?a:l,c+=`
`+e.slice(i,s),i=s+1),a=l;return c+=`
`,e.length-i>t&&a>i?c+=e.slice(i,a)+`
`+e.slice(a+1):c+=e.slice(i),c.slice(1)}o(SLe,"foldLine");function eSt(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=$_(e,i),n=N0[r],!n&&J_(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||Vwt(r);return t}o(eSt,"escapeString");function tSt(e,t,r){var n="",i=e.tag,s,a,l;for(s=0,a=r.length;s<a;s+=1)l=r[s],e.replacer&&(l=e.replacer.call(r,String(s),l)),(CA(e,t,l,!1,!1)||typeof l>"u"&&CA(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}o(tSt,"writeFlowSequence");function _Le(e,t,r,n){var i="",s=e.tag,a,l,c;for(a=0,l=r.length;a<l;a+=1)c=r[a],e.replacer&&(c=e.replacer.call(r,String(a),c)),(CA(e,t+1,c,!0,!0,!1,!0)||typeof c>"u"&&CA(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=$le(e,t)),e.dump&&Y_===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=s,e.dump=i||"[]"}o(_Le,"writeBlockSequence");function rSt(e,t,r){var n="",i=e.tag,s=Object.keys(r),a,l,c,u,f;for(a=0,l=s.length;a<l;a+=1)f="",n!==""&&(f+=", "),e.condenseFlow&&(f+='"'),c=s[a],u=r[c],e.replacer&&(u=e.replacer.call(r,c,u)),CA(e,t,c,!1,!1)&&(e.dump.length>1024&&(f+="? "),f+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),CA(e,t,u,!1,!1)&&(f+=e.dump,n+=f));e.tag=i,e.dump="{"+n+"}"}o(rSt,"writeFlowMapping");function nSt(e,t,r,n){var i="",s=e.tag,a=Object.keys(r),l,c,u,f,m,h;if(e.sortKeys===!0)a.sort();else if(typeof e.sortKeys=="function")a.sort(e.sortKeys);else if(e.sortKeys)throw new au("sortKeys must be a boolean or a function");for(l=0,c=a.length;l<c;l+=1)h="",(!n||i!=="")&&(h+=$le(e,t)),u=a[l],f=r[u],e.replacer&&(f=e.replacer.call(r,u,f)),CA(e,t+1,u,!0,!0,!0)&&(m=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,m&&(e.dump&&Y_===e.dump.charCodeAt(0)?h+="?":h+="? "),h+=e.dump,m&&(h+=$le(e,t)),CA(e,t+1,f,!0,m)&&(e.dump&&Y_===e.dump.charCodeAt(0)?h+=":":h+=": ",h+=e.dump,i+=h));e.tag=s,e.dump=i||"{}"}o(nSt,"writeBlockMapping");function kLe(e,t,r){var n,i,s,a,l,c;for(i=r?e.explicitTypes:e.implicitTypes,s=0,a=i.length;s<a;s+=1)if(l=i[s],(l.instanceOf||l.predicate)&&(!l.instanceOf||typeof t=="object"&&t instanceof l.instanceOf)&&(!l.predicate||l.predicate(t))){if(r?l.multi&&l.representName?e.tag=l.representName(t):e.tag=l.tag:e.tag="?",l.represent){if(c=e.styleMap[l.tag]||l.defaultStyle,HLe.call(l.represent)==="[object Function]")n=l.represent(t,c);else if(VLe.call(l.represent,c))n=l.represent[c](t,c);else throw new au("!<"+l.tag+'> tag resolver accepts not "'+c+'" style');e.dump=n}return!0}return!1}o(kLe,"detectType");function CA(e,t,r,n,i,s,a){e.tag=null,e.dump=r,kLe(e,r,!1)||kLe(e,r,!0);var l=HLe.call(e.dump),c=n,u;n&&(n=e.flowLevel<0||e.flowLevel>t);var f=l==="[object Object]"||l==="[object Array]",m,h;if(f&&(m=e.duplicates.indexOf(r),h=m!==-1),(e.tag!==null&&e.tag!=="?"||h||e.indent!==2&&t>0)&&(i=!1),h&&e.usedDuplicates[m])e.dump="*ref_"+m;else{if(f&&h&&!e.usedDuplicates[m]&&(e.usedDuplicates[m]=!0),l==="[object Object]")n&&Object.keys(e.dump).length!==0?(nSt(e,t,e.dump,i),h&&(e.dump="&ref_"+m+e.dump)):(rSt(e,t,e.dump),h&&(e.dump="&ref_"+m+" "+e.dump));else if(l==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!a&&t>0?_Le(e,t-1,e.dump,i):_Le(e,t,e.dump,i),h&&(e.dump="&ref_"+m+e.dump)):(tSt(e,t,e.dump),h&&(e.dump="&ref_"+m+" "+e.dump));else if(l==="[object String]")e.tag!=="?"&&Xwt(e,e.dump,t,s,c);else{if(l==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new au("unacceptable kind of an object to dump "+l)}e.tag!==null&&e.tag!=="?"&&(u=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",e.dump=u+" "+e.dump)}return!0}o(CA,"writeNode");function iSt(e,t){var r=[],n=[],i,s;for(Yle(e,r,n),i=0,s=n.length;i<s;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(s)}o(iSt,"getDuplicateReferences");function Yle(e,t,r){var n,i,s;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)Yle(e[i],t,r);else for(n=Object.keys(e),i=0,s=n.length;i<s;i+=1)Yle(e[n[i]],t,r)}o(Yle,"inspectNode");function oSt(e,t){t=t||{};var r=new $wt(t);r.noRefs||iSt(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),CA(r,0,n,!0,!0)?r.dump+`
`:""}o(oSt,"dump$1");var sSt=oSt,aSt={dump:sSt};function e0e(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}o(e0e,"renamed");var x1n=GLe.load,E1n=GLe.loadAll,t0e=aSt.dump;var b1n=e0e("safeLoad","load"),v1n=e0e("safeLoadAll","loadAll"),I1n=e0e("safeDump","dump");var Px=tt(hf());var r0e=class{constructor(){this.resolvedSkills={};this.resolutions=[]}static{o(this,"SkillDump")}},kl=class{constructor(){this.dump=new xn(25);this.promptsDump=new xn(1)}static{o(this,"ConversationDumper")}addResolvedSkill(t,r,n){let i=this.getDump(t);i.resolvedSkills[r]=n}getResolvedSkill(t,r){return this.getDump(t).resolvedSkills[r]}addResolution(t,r){this.getDump(t).resolutions.push(r)}getDump(t){let r=this.dump.get(t);return r||(r=new r0e,this.dump.set(t,r)),r}addPrompt(t,r,n){let i=this.promptsDump.get(t);i===void 0&&(i=new Map,this.promptsDump.set(t,i)),i.set(n,r)}getLastTurnPrompts(){if(this.promptsDump===void 0)return;let t=this.promptsDump.values().next();if(!t.done)return t.value}};function tQe(e){let t=e.copy();return t.turns=t.turns.filter(r=>r.status!=="in-progress"&&(r.response===void 0||r.response?.type==="model")),t}o(tQe,"filterConversationTurns");function Ule(e){return tQe(e).getLastTurn()?.id}o(Ule,"getLastTurnId");async function cLe(e){let t=tQe(e.conversation),r=Ule(e.conversation);if(!r)return"Nothing to dump because no request has been sent to the model yet.";let i=e.ctx.get(kl).getDump(r),s=uSt(i,t.turns);Zn.debug(e.ctx,`conversation.dump
`,`
`+s);let a=await fSt(i,e.ctx);return Px.default`
        ${cSt(e.conversation,r)}
        ${lSt(e.ctx)}

        The following code can be copied into a chat simulation \`yml\` file. This response has not polluted the conversation history and did not cause any model roundtrip.
        \`\`\`yaml
        ${s}
        \`\`\`${a?`
${a}`:""}
        `}o(cLe,"getConversationDump");function lSt(e){let t=e.get(an);return Px.default`
        - IDE: \`${t.getEditorInfo().name} (${t.getEditorInfo().version})\`
        - Plugin: \`${t.getEditorPluginInfo().version}\`
    `}o(lSt,"getEditorInfoDumpMessage");function cSt(e,t){return Px.default`
        Debug information for the last turn of the conversation.

        - ConversationId: \`${e.id}\`
        - MessageId: \`${t}\`
    `}o(cSt,"getInfoDumpMessage");async function uLe(e,t,r){let n=e.ctx.get(Wa),i="# Available skills",s=n.getDescriptors().filter(a=>e.ctx.get(Hi).getSupportedSkills(e.conversation.id).includes(a.id));if(r&&(s=s.filter(a=>a.id===r)),s.length===0)return`No skill with id ${r} available`;for(let a of s)i+=`
- ${a.id}`;e.turn.request.message&&en(e.turn.request.message).trim().length>0&&(i+=`

**User message**: ${en(e.turn.request.message)}`);for(let a of s){i+=`
## ${a.id}`,i+=Px.default`
            \n\n
            **Description**
            
            ${a.description()}`;let l=n.getSkill(a.id),c=await l?.resolver(e).resolveSkill(e);if(c){i+=Px.default`
                \n\n
                **Resolution**
                
                \`\`\`yaml
                ${t0e(c)}
                \`\`\``;let u=await l?.processor(e).processSkill(c,e);if(u){let f=typeof u=="string"?u:u.elide(1e3).getText();i+=Px.default`
                    \n\n
                    **Processed value**
                    
                    ${f}`}else i+=`

**Unprocessable**`}else i+=`

**Unresolvable**`}return i}o(uLe,"getSkillsDump");function uSt(e,t){let r={state:{skills:e.resolvedSkills},turns:t.map((n,i)=>{let s={request:en(n.request.message)};return n.response&&(s.response=en(n.response.message)),s})};return t0e(r)}o(uSt,"toSimulationFormat");async function fSt(e,t){let r=e.resolutions.map(s=>s.files).flat(),n=r.filter((s,a)=>s&&r.indexOf(s)===a),i;for(let s of n)if(s&&s.status==="included"){i||(i=`The following files have been used:
`);let a=await t.get(dn).getOrReadTextDocument(s),l;a.status==="valid"&&(l=a.document);let c=l?.getText();Zn.debug(t,`conversation.dump.file
`,c),i+=`
**${s.uri}**

\`\`\`${l?.detectedLanguageId}
${c}
\`\`\``}return i}o(fSt,"fileDump");d();function n0e(e,t){let r=Ki(t.tokenizer),n=0;for(let i of e)n+=t.baseTokensPerMessage,i.role&&(n+=r.tokenize(i.role).length),i.name&&(n+=r.tokenize(i.name).length+t.baseTokensPerName),i.content&&(n+=r.tokenize(en(i.content)).length);return n+=t.baseTokensPerCompletion,n}o(n0e,"countMessagesTokens");d();async function rQe(e,t,r,n,i){let s=["You are an AI programming assistant.",'When asked for your name, you must respond with "GitHub Copilot".',"Follow the user's requirements carefully & to the letter.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal.","You can answer general programming questions and perform the following tasks:","* Ask a question about the files in your current workspace","* Explain how the code in your active editor works","* Make changes to existing code","* Review the selected code in your active editor","* Generate unit tests for the selected code","* Propose a fix for the problems in the selected code","* Scaffold code for a new file or project in a workspace","* Create a new Jupyter Notebook","* Ask questions about VS Code","* Generate query parameters for workspace search","* Ask how to do something in the terminal","* Explain what just happened in the terminal"].join(`
`),a=["The active document is the source code the user is looking at right now.","You have read access to the code in the active document, files the user has recently worked with and open tabs. You are able to retrieve, read and use this code to answer questions.","You cannot retrieve code that is outside of the current project.","You can only give one reply for each conversation turn."].join(`
`),l=t?`The user works in an IDE called ${t} which can be used to edit code, run and debug the user's application as well as executing tests.`:"",c=n?`The user is using ${n} as their operating system.`:"",u=i?`You use the ${i} large language model.`:"",f=r?`The user is logged in as ${r} on GitHub.`:"";return[s,c,u,f,l,a].filter(m=>m&&m!="").join(`
`)}o(rQe,"chatBasePrompt");d();d();d();d();d();var dSt=".github/copilot-instructions.md",mSt=".github/git-commit-instructions.md",TG=class{static{o(this,"CustomInstructionsService")}static async _collectInstructionsFromFile(t,r,n,i,s,a){try{let l=Jo(r.uri,n),c=await t.getByUri(l);if(c.status!=="valid"||!c.document)return;let u=c.document.getText().trim();u&&s.push({kind:a,content:[{instruction:u,languageId:i}],reference:l})}catch{}}static async readFromWorkspaces(t,r,n={}){let i=[];if(!r.length)return i;let s=new Gy(t),a=r.flatMap(l=>{let c=[];return n.includeCodeGenerationInstructions!==!1&&c.push(this._collectInstructionsFromFile(s,l,dSt,n.languageId,i,0)),n.includeCommitMessageGenerationInstructions&&c.push(this._collectInstructionsFromFile(s,l,mSt,void 0,i,0)),c});return await Promise.all(a),i}};var T6=class{static{o(this,"CustomInstruction")}static async getInstructions(t,r,n={}){try{let i=await TG.readFromWorkspaces(t,r,n);return this.processInstructions(i,n)}catch{return}}static processInstructions(t,r={}){if(!t||t.length===0)return;let n=[];for(let s of t){let a=this.createInstructionElement(s,r);a&&n.push(a)}return n.length===0?void 0:`${r.customIntroduction||"When generating code, please follow these user provided coding instructions. You can ignore an instruction if it contradicts a system message."}

<instructions>${n.join(`
`)}</instructions>`}static createInstructionElement(t,r={}){let n=[];for(let i of t.content)i.languageId?r.languageId&&i.languageId===r.languageId&&n.push(`For ${i.languageId} code: ${i.instruction}`):n.push(i.instruction);if(n.length!==0)return n.join(`
`)}};d();d();function nQe(e){let t=e.split(`
`),r=[],n=!1,i=[];for(let s of t)s.startsWith("```")?(n?(r.push([Lu(i.join(`
`)),1]),i=[],r.push([new Xt([s]),1])):r.push([new Xt([s]),1]),n=!n):n?i.push(s):r.push([new Xt([s]),.8]);return n&&(r.push([Lu(i.join(`
`)),1]),r.push([new Xt(["```"]),1])),new Xt(r)}o(nQe,"fromMessage");function w6(e){let t=i0e(e),r=[];for(let n=0;n<t.length;n++){let i=t[n],s=iQe(i.request,n+1),a=i.response&&i.response?.type!=="meta"?iQe(i.response):"",l=s;a!==""&&(l+=`
`+a+(t.length>1&&n!==t.length-1?`
`:"")),r.push(nQe(l))}return r.length>0?new Xt([[new Xt(["Consider the following conversation history:"]),1],[rC(r,"inverseLinear"),1]]):null}o(w6,"fromHistory");var hSt=5;function i0e(e,t){return e.filter(n=>(n.status==="success"||n.status==="in-progress")&&en(n.request.message)!=""&&n.agent?.agentSlug===t).reverse().slice(0,hSt).reverse()}o(i0e,"filterTurns");function iQe(e,t=0){let r;switch(e.type){case"user":case"template":r="User";break;case"model":r="GitHub Copilot";break;default:r=e.type}let n=en(e.message).startsWith("```")?`
`:" ";return`${t>0?`${t}) `:""}${r}:${n}${en(e.message)}`}o(iQe,"formatTurnMessage");d();d();d();var pSt=4,o0e={skillIds:[]},wG=class{constructor(t,r){this.ctx=t;this.chatFetcher=r}static{o(this,"MetaPromptFetcher")}async fetchPromptContext(t,r,n,i,s){let a=t.conversation.getLastTurn().request.message;if(r.length>0){let l=await this.ctx.get(ti).getBestChatModelConfig(Xo("meta"),{tool_calls:!0}),c={promptType:"meta",supportedSkillDescriptors:r,modelConfiguration:l},u=await this.ctx.get(i0).toPrompt(t,c),f=i.extendedBy({messageSource:"chat.metaprompt"},{promptTokenLen:u.tokens}),m={modelConfiguration:l,messages:u.messages,uiKind:s,llmInteraction:t.toLlmInteraction()};if(u.toolConfig===void 0)throw new Error("No tool call configuration found in meta prompt.");m.tool_choice=u.toolConfig.tool_choice,m.tools=u.toolConfig.tools;let h=await this.chatFetcher.fetchResponse(m,n,f);return h.type!=="success"&&(Kr.error(this.ctx,"Failed to fetch prompt context, trying again..."),h=await this.chatFetcher.fetchResponse(m,n,f)),await t.ctx.get(qa).inspectFetchResult(h),await this.handleResult(h,f,en(a),s,u.toolConfig)}else return o0e}async handleResult(t,r,n,i,s){if(t.type!=="success")return this.telemetryError(r,t),o0e;let l;if(t.toolCalls&&t.toolCalls.length>0)l=s.extractArguments(t.toolCalls[0]).skillIds?.slice(0,pSt);else return Kr.error(this.ctx,"Missing tool call in meta prompt response"),o0e;let c=r.extendedBy({uiKind:i,skillIds:l?.join(",")??""},{numTokens:t.numTokens+t.toolCalls[0].approxNumTokens}),u=c.extendedBy({messageText:n});return Gt(this.ctx,`${Oc(i)}.metaPrompt`,c,0),Gt(this.ctx,`${Oc(i)}.promptContext`,u,1),{skillIds:l??[]}}telemetryError(t,r){let n=t.extendedBy({resultType:r.type,reason:r.reason??""});Gt(this.ctx,"conversation.promptContextError",n,1)}};d();d();d();var SG=class{constructor(){this.languageId=["java","kotlin","scala","groovy"]}static{o(this,"JavaProjectMetadataLookup")}determineBuildTools(t){return[...t.buildTools]}determineApplicationFrameworks(t){let r=[];return he(t,r,"org.springframework.boot","Spring Boot"),he(t,r,"jakarta.jakartaee-api","Jakarta EE"),he(t,r,"javax:javaee-api","Java EE"),he(t,r,"org.apache.struts:struts2-core","Apache Struts"),he(t,r,"org.hibernate:hibernate-core","Hibernate"),he(t,r,"org.apache.wicket:wicket-core","Apache Wicket"),he(t,r,"javax.faces:jsf-api","JSF"),he(t,r,"org.grails:grails-core","Grails"),r}determineCoreLibraries(t){let r=[];return he(t,r,"com.google.guava","Google Guava"),he(t,r,"org.apache.commons:commons-lang3","Apache Commons Lang"),he(t,r,"org.apache.commons:commons-io","Apache Commons IO"),he(t,r,"joda-time:joda-time","Joda-Time"),he(t,r,"com.google.code.gson:gson","Google Gson"),he(t,r,"org.apache.commons:commons-math3","Apache Commons Math"),he(t,r,"org.apache.commons:commons-collections4","Apache Commons Collections"),he(t,r,"org.apache.commons:commons-net","Apache Commons Net"),he(t,r,"org.apache.poi:poi","Apache POI"),he(t,r,"com.fasterxml.jackson.core:jackson-databind","Jackson"),r}determineTestingFrameworks(t){let r=[];return he(t,r,"org.junit.jupiter:junit-jupiter","JUnit"),he(t,r,"junit:junit","JUnit"),he(t,r,"org.testng:testng","TestNG"),he(t,r,"org.spockframework:spock-core","Spock"),he(t,r,"io.cucumber:cucumber-java","Cucumber"),he(t,r,"org.jboss.arquillian.junit:arquillian-junit-container","Arquillian"),r}determineTestingLibraries(t){let r=[];return he(t,r,"org.mockito","Mockito"),he(t,r,"org.assertj","AssertJ"),he(t,r,"org.hamcrest","Hamcrest"),he(t,r,"org.powermock","PowerMock"),he(t,r,"org.jmock","JMock"),he(t,r,"org.easymock","EasyMock"),he(t,r,"org.jmockit:jmockit","JMockit"),he(t,r,"com.github.tomakehurst:wiremock","WireMock"),he(t,r,"org.dbunit:dbunit","DBUnit"),he(t,r,"com.icegreen:greenmail","GreenMail"),he(t,r,"net.sourceforge.htmlunit:htmlunit","HtmlUnit"),he(t,r,"org.seleniumhq.selenium:selenium-java","Selenium"),he(t,r,"io.rest-assured:rest-assured","Rest-Assured"),he(t,r,"io.gatling.highcharts:gatling-charts-highcharts","Gatling"),he(t,r,"org.apache.jmeter:ApacheJMeter","JMeter"),r}},_G=class{constructor(){this.languageId=["javascript","javascriptreact","typescript","typescriptreact","vue"]}static{o(this,"JavaScriptProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return he(t,r,"@types/node","Node.js"),he(t,r,"react-native","React Native"),r.find(n=>n.name==="React Native")||he(t,r,"react","React"),he(t,r,"angular","Angular"),he(t,r,"vue","Vue.js"),he(t,r,"ember","Ember.js"),he(t,r,"backbone","Backbone.js"),he(t,r,"meteor","Meteor"),he(t,r,"polymer","Polymer"),he(t,r,"aurelia","Aurelia"),he(t,r,"knockout","Knockout.js"),he(t,r,"dojo","Dojo Toolkit"),he(t,r,"mithril","Mithril.js"),he(t,r,"marionette","Marionette.js"),he(t,r,"marko","Marko.js"),he(t,r,"svelte","Svelte"),he(t,r,"hyperapp","Hyperapp"),he(t,r,"inferno","Inferno.js"),he(t,r,"preact","Preact"),he(t,r,"riot","Riot.js"),he(t,r,"moon","Moon.js"),he(t,r,"stencil","Stencil.js"),r}determineCoreLibraries(t){let r=[];return he(t,r,"lodash","Lodash"),he(t,r,"moment","Moment.js"),he(t,r,"axios","Axios"),he(t,r,"redux","Redux"),he(t,r,"recoil","Recoil"),he(t,r,"jquery","jQuery"),he(t,r,"d3","D3.js"),he(t,r,"underscore","Underscore.js"),he(t,r,"ramda","Ramda"),he(t,r,"immutable","Immutable.js"),he(t,r,"rxjs","RxJS"),he(t,r,"three","Three.js"),he(t,r,"socket.io","Socket.IO"),he(t,r,"express","Express.js"),he(t,r,"next","Next.js"),he(t,r,"puppeteer","Puppeteer"),he(t,r,"cheerio","Cheerio"),he(t,r,"nodemailer","Nodemailer"),r}determineTestingFrameworks(t){let r=[];return he(t,r,"jest","Jest"),he(t,r,"mocha","Mocha"),he(t,r,"jasmine","Jasmine"),he(t,r,"ava","AVA"),he(t,r,"qunit","QUnit"),he(t,r,"tape","Tape"),r}determineTestingLibraries(t){let r=[];return he(t,r,"chai","Chai"),he(t,r,"sinon","Sinon"),he(t,r,"enzyme","Enzyme"),he(t,r,"protractor","Protractor"),he(t,r,"supertest","Supertest"),he(t,r,"nock","Nock"),he(t,r,"cypress","Cypress"),he(t,r,"@testing-library/react","React Testing Library"),r}},kG=class{constructor(){this.languageId="go"}static{o(this,"GoProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return he(t,r,"github.com/gorilla/mux","Gorilla Mux"),he(t,r,"github.com/go-chi/chi","Chi"),he(t,r,"github.com/gin-gonic/gin","Gin"),he(t,r,"github.com/labstack/echo","Echo"),he(t,r,"github.com/revel/revel","Revel"),he(t,r,"github.com/astaxie/beego","Beego"),he(t,r,"github.com/go-martini/martini","Martini"),he(t,r,"github.com/gobuffalo/buffalo","Buffalo"),he(t,r,"github.com/goji/goji","Goji"),he(t,r,"github.com/hoisie/web","Web.go"),r}determineCoreLibraries(t){let r=[];return he(t,r,"net/http","net/http"),he(t,r,"fmt","fmt"),he(t,r,"io","io"),he(t,r,"time","time"),he(t,r,"math","math"),he(t,r,"strconv","strconv"),he(t,r,"strings","strings"),he(t,r,"sort","sort"),he(t,r,"encoding/json","encoding/json"),r}determineTestingFrameworks(t){let r=[];return he(t,r,"github.com/onsi/ginkgo","ginkgo"),he(t,r,"github.com/onsi/gomega","gomega"),he(t,r,"github.com/stretchr/testify","testify"),he(t,r,"gopkg.in/check.v1","gocheck"),he(t,r,"github.com/franela/goblin","goblin"),he(t,r,"github.com/DATA-DOG/godog","godog"),he(t,r,"github.com/stesla/gospec","gospec"),he(t,r,"github.com/rjeczalik/gotest","gotest"),he(t,r,"github.com/smartystreets/goconvey","goconvey"),r}determineTestingLibraries(t){let r=[];return he(t,r,"github.com/stretchr/testify","Testify"),he(t,r,"github.com/smartystreets/goconvey","GoConvey"),he(t,r,"github.com/onsi/ginkgo","Ginkgo"),he(t,r,"github.com/golang/mock","GoMock"),he(t,r,"gopkg.in/check.v1","GoCheck"),he(t,r,"github.com/franela/goblin","Goblin"),he(t,r,"github.com/DATA-DOG/godog","GoDog"),he(t,r,"github.com/onsi/gomega","Gomega"),he(t,r,"github.com/stesla/gospec","GoSpec"),he(t,r,"github.com/rjeczalik/gotest","GoTest"),r}},BG=class{constructor(){this.languageId=["python","jupyter"]}static{o(this,"PythonProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return he(t,r,"flask","Flask"),he(t,r,"django","Django"),he(t,r,"pyramid","Pyramid"),he(t,r,"tornado","Tornado"),he(t,r,"fastapi","FastAPI"),r}determineCoreLibraries(t){let r=[];return he(t,r,"requests","requests"),he(t,r,"numpy","numpy"),he(t,r,"pandas","pandas"),he(t,r,"scipy","scipy"),he(t,r,"matplotlib","matplotlib"),r}determineTestingFrameworks(t){let r=[];return he(t,r,"pytest","Pytest"),he(t,r,"unittest","Unittest"),he(t,r,"doctest","Doctest"),he(t,r,"nose","Nose"),r}determineTestingLibraries(t){let r=[];return he(t,r,"mock","Mock"),he(t,r,"hypothesis","Hypothesis"),he(t,r,"behave","Behave"),he(t,r,"lettuce","Lettuce"),he(t,r,"testify","Testify"),he(t,r,"pyhamcrest","PyHamcrest"),r}},RG=class{constructor(){this.languageId=["php","blade"]}static{o(this,"PhpProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return he(t,r,"laravel/framework","Laravel"),he(t,r,"symfony/symfony","Symfony"),he(t,r,"slim/slim","Slim"),he(t,r,"cakephp/cakephp","CakePHP"),he(t,r,"yiisoft/yii2","Yii"),he(t,r,"zendframework/zendframework","Zend Framework"),he(t,r,"phalcon/cphalcon","Phalcon"),he(t,r,"bcosca/fatfree","Fat-Free"),he(t,r,"fuel/fuel","FuelPHP"),he(t,r,"phpixie/framework","PHPixie"),r}determineCoreLibraries(t){let r=[];return he(t,r,"monolog/monolog","Monolog"),he(t,r,"vlucas/phpdotenv","PHP dotenv"),he(t,r,"symfony/console","Symfony Console"),he(t,r,"guzzlehttp/guzzle","GuzzleHttp"),he(t,r,"ramsey/uuid","Ramsey UUID"),he(t,r,"doctrine/orm","Doctrine ORM"),he(t,r,"php-di/php-di","PHP-DI"),he(t,r,"phpunit/php-timer","PHPUnit Timer"),he(t,r,"symfony/finder","Symfony Finder"),he(t,r,"symfony/yaml","Symfony Yaml"),r}determineTestingFrameworks(t){let r=[];return he(t,r,"phpunit/phpunit","PHPUnit"),he(t,r,"behat/behat","Behat"),he(t,r,"phpspec/phpspec","PHPSpec"),he(t,r,"codeception/codeception","Codeception"),he(t,r,"atoum/atoum","Atoum"),he(t,r,"pestphp/pest","PestPHP"),he(t,r,"kahlan/kahlan","Kahlan"),he(t,r,"peridot-php/peridot","Peridot"),he(t,r,"phake/phake","Phake"),r}determineTestingLibraries(t){let r=[];return he(t,r,"mockery/mockery","Mockery"),he(t,r,"php-mock/php-mock","PHP-Mock"),he(t,r,"php-mock/php-mock-phpunit","PHP-Mock PHPUnit"),he(t,r,"padraic/mockery","Padraic Mockery"),he(t,r,"phpspec/prophecy","PHPSpec Prophecy"),he(t,r,"phpunit/php-invoker","PHPUnit Invoker"),he(t,r,"phpunit/php-token-stream","PHPUnit Token Stream"),he(t,r,"phpunit/php-code-coverage","PHPUnit Code Coverage"),he(t,r,"phpunit/php-timer","PHPUnit Timer"),he(t,r,"phpunit/php-text-template","PHPUnit Text Template"),r}},DG=class{constructor(){this.languageId="csharp"}static{o(this,"CSharpProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return he(t,r,"Microsoft.NETCore.App",".NET Core"),he(t,r,"Microsoft.AspNetCore.App","ASP.NET Core"),r}determineCoreLibraries(t){let r=[];return he(t,r,"EntityFramework","Entity Framework"),he(t,r,"Newtonsoft.Json","Newtonsoft.Json"),he(t,r,"AutoMapper","AutoMapper"),he(t,r,"Serilog","Serilog"),he(t,r,"Dapper","Dapper"),he(t,r,"Polly","Polly"),he(t,r,"FluentValidation","FluentValidation"),he(t,r,"MediatR","MediatR"),he(t,r,"Hangfire","Hangfire"),he(t,r,"RabbitMQ.Client","RabbitMQ.Client"),he(t,r,"MassTransit","MassTransit"),he(t,r,"Microsoft.Extensions.Logging","Microsoft.Extensions.Logging"),he(t,r,"Microsoft.Extensions.DependencyInjection","Microsoft.Extensions.DependencyInjection"),he(t,r,"Microsoft.Extensions.Configuration","Microsoft.Extensions.Configuration"),he(t,r,"Microsoft.Extensions.Http","Microsoft.Extensions.Http"),r}determineTestingFrameworks(t){let r=[];return he(t,r,"xunit","xUnit"),he(t,r,"NUnit","NUnit"),he(t,r,"SpecFlow","SpecFlow"),r}determineTestingLibraries(t){let r=[];return he(t,r,"Moq","Moq"),he(t,r,"FluentAssertions","FluentAssertions"),he(t,r,"Bogus","Bogus"),he(t,r,"RestSharp","RestSharp"),he(t,r,"Swashbuckle.AspNetCore","Swashbuckle.AspNetCore"),r}},PG=class{constructor(){this.languageId="dart"}static{o(this,"DartProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return he(t,r,"flutter","Flutter"),he(t,r,"angular","AngularDart"),r}determineCoreLibraries(t){let r=[];return he(t,r,"dartx","dartx"),he(t,r,"provider","Provider"),he(t,r,"rxdart","RxDart"),he(t,r,"dio","Dio"),he(t,r,"json_serializable","json_serializable"),he(t,r,"freezed","Freezed"),he(t,r,"moor","Moor"),he(t,r,"hive","Hive"),he(t,r,"http","http"),he(t,r,"path","path"),he(t,r,"intl","intl"),he(t,r,"equatable","equatable"),he(t,r,"get_it","get_it"),r}determineTestingFrameworks(t){let r=[];return he(t,r,"test","test"),he(t,r,"flutter_test","flutter_test"),r}determineTestingLibraries(t){let r=[];return he(t,r,"mockito","mockito"),he(t,r,"bloc_test","bloc_test"),r}},FG=class{constructor(){this.languageId="ruby"}static{o(this,"RubyProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return he(t,r,"rails","Rails"),he(t,r,"sinatra","Sinatra"),he(t,r,"hanami","Hanami"),he(t,r,"grape","Grape"),he(t,r,"roda","Roda"),he(t,r,"padrino","Padrino"),he(t,r,"cuba","Cuba"),he(t,r,"ramaze","Ramaze"),he(t,r,"nyara","Nyara"),he(t,r,"rack","Rack"),r}determineCoreLibraries(t){let r=[];return he(t,r,"active_record","ActiveRecord"),he(t,r,"sequel","Sequel"),he(t,r,"rom","ROM"),he(t,r,"datamapper","DataMapper"),he(t,r,"mongoid","Mongoid"),he(t,r,"neo4j","Neo4j"),he(t,r,"redis","Redis"),he(t,r,"cassandra","Cassandra"),he(t,r,"couchrest","CouchRest"),he(t,r,"riak","Riak"),r}determineTestingFrameworks(t){let r=[];return he(t,r,"rspec","RSpec"),he(t,r,"minitest","Minitest"),he(t,r,"cucumber","Cucumber"),he(t,r,"spinach","Spinach"),he(t,r,"turnip","Turnip"),he(t,r,"bacon","Bacon"),he(t,r,"shoulda","Shoulda"),he(t,r,"test-unit","Test::Unit"),he(t,r,"wrong","Wrong"),he(t,r,"contest","Contest"),r}determineTestingLibraries(t){let r=[];return he(t,r,"factory_bot","FactoryBot"),he(t,r,"faker","Faker"),he(t,r,"ffaker","FFaker"),he(t,r,"fabrication","Fabrication"),he(t,r,"machinist","Machinist"),he(t,r,"mocha","Mocha"),he(t,r,"flexmock","FlexMock"),he(t,r,"rr","RR"),he(t,r,"bourne","Bourne"),he(t,r,"not_a_mock","NotAMock"),r}},NG=class{constructor(){this.languageId="rust"}static{o(this,"RustProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return he(t,r,"tokio","tokio"),he(t,r,"async-std","async-std"),he(t,r,"hyper","hyper"),he(t,r,"actix-web","actix-web"),he(t,r,"rocket","rocket"),r}determineCoreLibraries(t){let r=[];return he(t,r,"serde","serde"),he(t,r,"regex","regex"),he(t,r,"rand","rand"),he(t,r,"log","log"),he(t,r,"lazy_static","lazy_static"),he(t,r,"libc","libc"),he(t,r,"futures","futures"),he(t,r,"rayon","rayon"),he(t,r,"reqwest","reqwest"),he(t,r,"warp","warp"),r}determineTestingFrameworks(t){let r=[];return he(t,r,"test-case","test-case"),he(t,r,"proptest","proptest"),he(t,r,"quickcheck","quickcheck"),r}determineTestingLibraries(t){let r=[];return he(t,r,"mockall","mockall"),he(t,r,"double","double"),he(t,r,"rstest","rstest"),he(t,r,"mockiato","mockiato"),he(t,r,"mock_derive","mock_derive"),he(t,r,"mocktopus","mocktopus"),he(t,r,"mockers","mockers"),he(t,r,"mock_it","mock_it"),r}},LG=class{constructor(){this.languageId=["c","cpp"]}static{o(this,"CProjectMetadataLookup")}determineBuildTools(t){return t.buildTools.filter(r=>["gcc","clang","make","cmake","autotools","ninja","meson"].includes(r.name))}determineApplicationFrameworks(t){return t.libraries.filter(r=>["libc","libuv","openssl","zlib","libevent","libcurl"].includes(r.name))}determineCoreLibraries(t){return t.libraries.filter(r=>["libpng","libjpeg","libxml2","sqlite","postgres","mysql"].includes(r.name))}determineTestingFrameworks(t){return t.libraries.filter(r=>["unity","criterion","cmocka","check","ctest","minunit"].includes(r.name))}determineTestingLibraries(t){return t.libraries.filter(r=>["cmock","fff","trompeloeil","fakeit"].includes(r.name))}};function he(e,t,r,n){let i=e.libraries.find(s=>s.name.toLowerCase().indexOf(r.toLowerCase())>-1);i&&t.push({name:n,version:i.version})}o(he,"addFromLibraries");var QG=class{constructor(t,r){this.languageId=t;this.delegates=r}static{o(this,"CompositeProjectMetadataLookup")}determineBuildTools(t){return this.delegates.map(r=>r.determineBuildTools(t)).flat()}determineApplicationFrameworks(t){return this.delegates.map(r=>r.determineApplicationFrameworks(t)).flat()}determineCoreLibraries(t){return this.delegates.map(r=>r.determineCoreLibraries(t)).flat()}determineTestingFrameworks(t){return this.delegates.map(r=>r.determineTestingFrameworks(t)).flat()}determineTestingLibraries(t){return this.delegates.map(r=>r.determineTestingLibraries(t)).flat()}};function sQe(e){return e.language.version?e.language.name+" "+e.language.version:e.language.name}o(sQe,"determineProgrammingLanguage");var oQe=[new SG,new _G,new kG,new BG,new RG,new DG,new PG,new FG,new NG,new LG];function aQe(e){let t=oQe.find(r=>typeof r.languageId=="string"?r.languageId===e:Array.isArray(r.languageId)?r.languageId.includes(e):!1)??new QG(e,oQe);return new s0e(t)}o(aQe,"getMetadataLookup");var s0e=class{constructor(t){this.delegate=t;this.languageId=t.languageId}static{o(this,"DistinctProjectMetadataLookup")}determineBuildTools(t){return this.deduplicateDependencies(this.delegate.determineBuildTools(t))}determineApplicationFrameworks(t){return this.deduplicateDependencies(this.delegate.determineApplicationFrameworks(t))}determineCoreLibraries(t){return this.deduplicateDependencies(this.delegate.determineCoreLibraries(t))}determineTestingFrameworks(t){return this.deduplicateDependencies(this.delegate.determineTestingFrameworks(t))}determineTestingLibraries(t){return this.deduplicateDependencies(this.delegate.determineTestingLibraries(t))}deduplicateDependencies(t){let r=[];return t.forEach(n=>{r.find(i=>i.name===n.name)||r.push(n)}),r}};var lQe=I.Object({name:I.String(),version:I.Optional(I.String())}),cQe=I.Object({language:I.Object({id:I.String(),name:I.String(),version:I.Optional(I.String())}),libraries:I.Array(lQe),buildTools:I.Array(lQe)}),a0e=class{constructor(t){this.turnContext=t}static{o(this,"ProjectMetadataSkillProcessor")}value(){return 1}async processSkill(t){let r=[];r.push([new Xt([`The user is working on a project with the following characteristics:
`]),1]);let n=aQe(t.language.id);return this.addProgrammingLanguage(t,r),this.addBuildTools(t,r,n),this.addApplicationFramework(t,r,n),this.addCoreLibraries(t,r,n),this.addTestingFrameworks(t,r,n),this.addTestingLibraries(t,r,n),new Xt(r)}addProgrammingLanguage(t,r){let n=sQe(t);this.turnContext.collectLabel(Ag,n),r.push([new Xt([`- programming language: ${n}`]),1])}addBuildTools(t,r,n){this.addToPrompt(r,"- build tools:",n.determineBuildTools(t))}addApplicationFramework(t,r,n){this.addToPrompt(r,"- application frameworks:",n.determineApplicationFrameworks(t))}addCoreLibraries(t,r,n){this.addToPrompt(r,"- core libraries:",n.determineCoreLibraries(t))}addTestingFrameworks(t,r,n){this.addToPrompt(r,"- testing frameworks:",n.determineTestingFrameworks(t))}addTestingLibraries(t,r,n){this.addToPrompt(r,"- testing libraries:",n.determineTestingLibraries(t))}addToPrompt(t,r,n){if(n.length>0){n.forEach(s=>{this.turnContext.collectLabel(Ag,`${s.name}${s.version?" "+s.version:""}`)});let i=n.map(s=>`  - ${s.name}${s.version?" "+s.version:""}`).join(`
`);t.push([new Xt([`${r}
${i}`]),1])}}},Ag="project-metadata",MG=class{constructor(t){this._resolver=t;this.id=Ag;this.type="explicit"}static{o(this,"ProjectMetadataSkill")}description(){return"The characteristics of the project the developer is working on (languages, frameworks)"}resolver(){return this._resolver}processor(t){return new a0e(t)}};d();var uQe=tt(require("path"));var l0e=class{constructor(t){this.turnContext=t}static{o(this,"ReferencesSkillProcessor")}value(){return 1}async processSkill(t){let r=this.turnContext.ctx.get(dn),n=[],i=await this.filterIncludedFiles(t),s=(await this.toFileChunks(i,r)).filter(a=>a!==void 0).flat();if(s.length>0)return n.push([new Xt(["The user wants you to consider the following referenced files when computing your answer."]),1]),n.push(...s),new Xt(n)}async filterIncludedFiles(t){return t.filter(r=>r.type==="file"&&!this.turnContext.isFileIncluded(r.uri))}async toFileChunks(t,r){return await Promise.all(t.map(async n=>{if(n.type==="file"&&n.uri)return await this.elideReferencedFiles(r,n)}))}async elideReferencedFiles(t,r){let n=await t.getOrReadTextDocument(r),i=rs(n);if(await this.turnContext.collectFile(UG,r.uri,i),n.status==="valid"){let s=t.getRelativePath(n.document);if(i==="included"){let a=new mg(n.document,r.selection,r.visibleRange);return[[`Code excerpt from referenced file \`${s}\`:`,1],[a.fromAllCode({addLineNumbers:!1}),1]]}else if(i==="empty")return[[new Xt([`The referenced file \`${s}\` is empty.`]),1]]}else if(n.status==="invalid")return[[new Xt([`The referenced file \`${uQe.basename(r.uri)}\` is content excluded.`]),1]]}},c0e=class{static{o(this,"ReferencesSkillResolver")}async resolveSkill(t){if(t.turn.request.references&&t.turn.request.references.length>0)return t.turn.request.references}},UG="references",OG=class{constructor(){this.id=UG;this.type="implicit"}static{o(this,"ReferencesSkill")}description(){return"The code from the user's referenced files"}resolver(){return new c0e}processor(t){return new l0e(t)}};var Fx=o(()=>[Ag,hh,UG,P0],"mandatorySkills"),qG=class{constructor(t,r){this.chatFetcher=r;this.metaPromptFetcher=new wG(t,this.chatFetcher)}static{o(this,"ConversationContextCollector")}async collectContext(t,r,n,i,s,a){let l=[];if(s){let c=s.requiredSkills?await s.requiredSkills(t.ctx):[];l.push(...c.filter(u=>!Fx().includes(u)))}else(await this.metaPromptFetcher.fetchPromptContext(t,await this.selectableSkillDescriptors(t.ctx,t.conversation,t.turn),r,n,i)).skillIds.reverse().forEach(u=>{!l.includes(u)&&!Fx().includes(u)&&l.push(u)});if(a){let c=await a.additionalSkills(t.ctx);l.push(...c.filter(u=>!Fx().includes(u)))}return l.push(...Fx()),l=l.filter(c=>!this.isIgnoredSkill(c,t.turn)),{skillIds:t.ctx.get(Hi).filterSupportedSkills(t.conversation.id,l)}}async selectableSkillDescriptors(t,r,n){let i=await this.getNonSelectableSkills(t),s=t.get(Hi).getSupportedSkills(r.id),a=t.get(Wa).getDescriptors(),l=[];for(let c of a){if(i.includes(c.id)||!s.includes(c.id))continue;(c.isAvailable?await c.isAvailable(t):!0)&&!this.isIgnoredSkill(c.id,n)&&l.push(c)}return l}async getNonSelectableSkills(t){let r=await pg(t),n=(await Promise.all(r.map(i=>i.additionalSkills(t)))).flat();return[...Fx(),...n]}isIgnoredSkill(t,r){return r.ignoredSkills?.some(n=>n.skillId===t)}};d();d();var WG=class{constructor(t,r,n,i){this.ctx=t;this.conversation=r;this.turn=n;this.progress=i;this.rounds=[]}static{o(this,"AgentToolCalls")}getRound(t){return this.rounds.find(r=>r.roundId===t)}async start(t,r,n,i){let s=this.getRound(t);if(s||(s={roundId:t,reply:""},this.rounds.push(s)),s.toolCalls?.find(l=>l.id===r))Kr.error(this.ctx,`Tool call ${r} already exists for the round ${t} in conversation ${this.conversation.id} and turn ${this.turn.id}`);else{let l={id:r,name:n,progressMessage:i,status:"running"};s.toolCalls=[l],await this.progress.report(this.conversation,this.turn,{editAgentRounds:[s]})}}async finish(t,r){await this.update(t,r,n=>{n.status="completed"})}async cancel(t,r){await this.update(t,r,n=>{n.status="cancelled"})}async finishAll(t="completed"){let r=this.rounds.filter(n=>{let i=n.toolCalls?.filter(s=>s.status==="running").map(s=>(s.status=t,s));if(i&&i.length>0)return n.toolCalls=i,!0});r.length>0&&await this.progress.report(this.conversation,this.turn,{editAgentRounds:r})}async error(t,r,n){await this.update(t,r,i=>{i.status="error",i.error=n||"Unknown error"})}async update(t,r,n){let i=this.rounds.find(a=>a.roundId===t);i||(i={roundId:t,reply:""},this.rounds.push(i));let s=i.toolCalls?.find(a=>a.id===r);s?(n(s),await this.progress.report(this.conversation,this.turn,{editAgentRounds:[i]})):Kr.error(this.ctx,`Tool call ${r} not found for the agent round ${t} in conversation ${this.conversation.id} and turn ${this.turn.id}`)}};d();var GG=class{constructor(t,r,n,i){this.ctx=t;this.conversation=r;this.turn=n;this.progress=i;this.steps=[]}static{o(this,"Steps")}async start(t,r,n){let i=this.steps.find(s=>s.id===t);if(!i)i={id:t,title:r,description:n,status:"running"},this.steps.push(i),await this.progress.report(this.conversation,this.turn,{steps:[i]});else throw new Error(`Step with id "${t}" already started`)}async finish(t){await this.updateStep(t,r=>{r.status="completed"})}async cancel(t){await this.updateStep(t,r=>{r.status="cancelled"})}async finishAll(t="completed"){let r=this.steps.filter(n=>n.status==="running").map(n=>(n.status=t,n));r.length>0&&await this.progress.report(this.conversation,this.turn,{steps:r})}async error(t,r){return this.updateStep(t,n=>{n.status="failed",n.error={message:r||"Unknown error"}})}async updateStep(t,r){let n=this.steps.find(i=>i.id===t);n?(r(n),await this.progress.report(this.conversation,this.turn,{steps:[n]})):Kr.error(this.ctx,`Step ${t} not found for conversation ${this.conversation.id} and turn ${this.turn.id}`)}};d();var gSt="X-Initiator",ASt="X-Interaction-ID",ySt="X-Interaction-Type";var HG=class{static{o(this,"LlmInteractionInitiator")}static id(){throw new Error("Must be implemented by subclass")}},u0e=class extends HG{static{o(this,"User")}static id(){return"user"}},f0e=class extends HG{static{o(this,"Agent")}static id(){return"agent"}},d0e=class{static{o(this,"GenericLlmInteraction")}constructor(t,r,n){this.initiator=t.id(),this.interactionType=r,this.interactionId=n}toCapiHeaders(){return{[gSt]:this.initiator,[ASt]:this.interactionId,[ySt]:this.interactionType.toString()}}},gf=class e extends d0e{static{o(this,"LlmInteraction")}static user(t,r){return new e(u0e,t,r)}static agent(t,r){return new e(f0e,t,r)}};var S6=class{constructor(t,r,n,i){this.ctx=t;this.conversation=r;this.turn=n;this.cancelationToken=i;this.skillResolver=new m0e(this),this.steps=new GG(t,r,n,t.get(Ls)),this.collector=new h0e(r,n,t.get(Ls)),this.agentToolCalls=new WG(t,r,n,t.get(Ls))}static{o(this,"TurnContext")}toLlmInteraction(){return this.conversation.source==="inline"?gf.user("conversation-inline",this.turn.id):gf.user("conversation-panel",this.turn.id)}async collectFile(t,r,n,i){let s={type:"file",collector:t,uri:r,status:n};i&&(s.range=i),await this.collector.collect(s)}collectLabel(t,r){this.collector.collect({type:"label",collector:t,label:r})}isFileIncluded(t){return this.collector.collectibles.some(r=>r.type==="file"&&r.status==="included"&&r.uri===t)}async info(t){await this.sendChatNotification(t,"info")}async warn(t){await this.sendChatNotification(t,"warning")}async sendChatNotification(t,r){await this.ctx.get(Ls).report(this.conversation,this.turn,{notifications:[{severity:r,message:t}]})}},VG=class extends Error{constructor(r,n){super(`Cycle detected while resolving skills: ${n.join(" -> ")} -> ${r}`);this.skillId=r;this.skillStack=n}static{o(this,"CycleError")}},X_=class extends Error{static{o(this,"ConversationAbortError")}constructor(t){super(t)}},m0e=class{constructor(t){this.turnContext=t;this.resolveStack=[]}static{o(this,"SkillResolver")}async resolve(t){if(this.turnContext.ctx.get(Hi).getSupportedSkills(this.turnContext.conversation.id).includes(t)){this.ensureNoCycle(t);let n=this.turnContext.ctx.get(kl).getResolvedSkill(this.turnContext.turn.id,t);if(n)return this.resolveStack.pop(),n;let i=await this.newlyResolve(t);return this.resolveStack.pop(),i}}ensureNoCycle(t){if(this.resolveStack.includes(t))throw new VG(t,this.resolveStack);this.resolveStack.push(t)}async newlyResolve(t){let n=this.turnContext.ctx.get(Wa).getSkill(t);try{let i=await n?.resolver(this.turnContext).resolveSkill(this.turnContext);if(i)return this.turnContext.ctx.get(kl).addResolvedSkill(this.turnContext.turn.id,t,i),i}catch(i){if(i instanceof VG||i instanceof X_)throw i;Kr.exception(this.turnContext.ctx,i,`Error while resolving skill ${t}`)}}},h0e=class{constructor(t,r,n){this.conversation=t;this.turn=r;this.conversationProgress=n;this.collectibles=[]}static{o(this,"Collector")}async collect(t){this.collectibles.push(t),await this.reportCollectedFile(t)}async reportCollectedFile(t){t.type==="file"&&await this.conversationProgress.report(this.conversation,this.turn,{references:[{type:"file",uri:t.uri,status:t.status,range:t.range}]})}collectiblesForCollector(t){return this.collectibles.filter(r=>r.collector===t)}};async function fQe(e,t){let[r,n,i]=await CSt(e,t);return i.push(...bSt(e)),r.length>0||n.length>0?[new Xt([[new Xt(["Consider the additional context:"]),1],[rC(r,"inverseLinear"),.9],...n]),i]:[null,i]}o(fQe,"fromSkills");async function CSt(e,t){let r=[],n=[],i=[],s=[...e.turn.skills].reverse();for(let a of s){if(!await vSt(e,a.skillId,t?.languageId??""))continue;let[l,c]=await xSt(e,a.skillId);l&&(Fx().indexOf(a.skillId)===-1?n.push(l):i.push(l)),r.push(c)}return n.reverse(),i.reverse(),r.reverse(),[n,i,r]}o(CSt,"handleSkillsInReverse");async function xSt(e,t){let n=e.ctx.get(Wa).getSkill(t);try{let i=Date.now(),s=await e.skillResolver.resolve(t),a=Date.now()-i;if(s){let l=n?.processor(e),c=Date.now(),u=await l?.processSkill(s,e),f=Date.now()-c;return u?await ESt(e,n,l,u,a,f):[void 0,await $G(e,n,"unprocessable",void 0,a,f)]}else return[void 0,await $G(e,n,"unresolvable",void 0,a)]}catch(i){if(Kr.exception(e.ctx,i,`Error while resolving skill ${t}`),i instanceof X_)throw i;return[void 0,await $G(e,n,"failed")]}}o(xSt,"safelyProcessSkill");async function ESt(e,t,r,n,i,s){let a;return typeof n=="string"?a=new Xt([[n,1]]):a=n,[[a,r?.value()||0],await $G(e,t,"resolved",a,i,s)]}o(ESt,"handleProcessedSkill");async function $G(e,t,r,n,i,s){let l=e.collector.collectiblesForCollector(t?.id??"unknown").filter(u=>u.type==="file"),c={skillId:t?.id??"unknown",resolution:r,files:l,resolutionTimeMs:i,processingTimeMs:s};if(n){let u=await e.ctx.get(ti).getBestChatModelConfig(Xo("user")),f=n.elide(u.maxRequestTokens).getText();c.tokensPreEliding=Ki(u.tokenizer).tokenLength(f)}return e.ctx.get(kl).addResolution(e.turn.id,c),c}o($G,"determineResolution");function bSt(e){return e.turn.ignoredSkills.map(t=>({skillId:t.skillId,resolution:"ignored"}))}o(bSt,"handleIgnoredSkills");async function vSt(e,t,r){if(t!==Ag&&t!==hh)return!0;let n=e.ctx.get(ar),i=await n.updateExPValuesAndAssignments({languageId:r});return n.ideChatEnableProjectMetadata(i)?t===Ag:t===hh}o(vSt,"includeSkill");var dQe=tt(hf());var Nx=class{static{o(this,"AbstractUserPromptStrategy")}async elidableContent(t,r){let n=[],i=w6(t.conversation.turns.slice(0,-1));i!==null&&n.push([i,.6]);let[s,a]=await this.elidableSkills(t,r);return s!==null&&(i!==null&&n.push(["",.1]),n.push([s,.8])),[new Xt(n),a]}async elidableSkills(t,r){return await fQe(t,r)}async promptContent(t,r,n){let i;t.turn.workspaceFolder&&(i=await T6.getInstructions(t.ctx,[t.turn.workspaceFolder],{includeCodeGenerationInstructions:!0,includeCommitMessageGenerationInstructions:!1}));let s=t.conversation.getLastTurn().request.message,a;i?typeof s=="string"?a=i+`

`+s:a=[{type:"text",text:i},...s]:a=s;let[l,c]=await this.elidableContent(t,n);return[[{role:"system",content:r},{role:"user",content:l},{role:"system",content:this.suffix(t)},{role:"user",content:a}],c]}},zG=class extends Nx{static{o(this,"PanelUserPromptStrategy")}suffix(t){return dQe.default` 
            Use the above information, including the additional context and conversation history (if available) to answer the user's question below.
            Prioritize the context given in the user's question.
            When generating code, think step-by-step. Briefly explain the code and then output it in a single code block.
            When fixing problems and errors, provide a brief description first.
            When generating classes, use a separate code block for each class.
            Keep your answers short and impersonal.
            Use Markdown formatting in your answers.
            Escape special Markdown characters (like *, ~, -, _, etc.) with a backslash or backticks when using them in your answers.
            You must enclose file names and paths in single backticks. Never use single or double quotes for file names or paths.
            Make sure to include the programming language name at the start of every code block.
            Avoid wrapping the whole response in triple backticks.
            Only use triple backticks codeblocks for code.
            Do not repeat the user's code excerpt when answering.
            Do not prefix your answer with "GitHub Copilot".
            Do not start your answer with a programming language name.
            Do not include follow up questions or suggestions for next turns.
            Respond in the following locale: ${t.conversation.userLanguage}.
        `.trim()}};var mQe=tt(hf());var YG=class extends Nx{static{o(this,"InlineUserPromptStrategy")}suffix(t){return mQe.default`
            Use the above information, including the additional context and conversation history (if available) to answer the user's question below.
            Prioritize the context given in the user's question.
            Keep your answers short and impersonal.
            Use Markdown formatting in your answers. 
            Escape special Markdown characters (like *, ~, -, _, etc.) with a backslash or backticks when using them in your answers.
            You must enclose file names and paths in single backticks. Never use single or double quotes for file names or paths.
            Make sure to include the programming language name at the start of every code block.
            Only use triple backticks codeblocks for code.
            Do not repeat the user's code excerpt when answering.
            Do not prefix your answer with "GitHub Copilot".
            Do not start your answer with a programming language name.
            Do not include follow up questions or suggestions for next turns.
            Respond in the following locale: ${t.conversation.userLanguage}.

            The user is editing an open file in their editor.
            The user's code is provided with line numbers prepended, for example: '1:code', starting at 1.
            The selected code line numbers are provided and are inclusive.

            If the user's question is about modifying the code in the editor, adhere to the following rules:

            To edit a range of the user's code, use the following format:
            - Generate a codeblock with the new code.
            - Prefix the codeblock with a markdown comment of the form <!-- replace lines start to end -->
            - Start and end are line numbers in the user's original code.
            - Start and end are inclusive.
            - Single line edits can be done by setting start and end to the same line number: <!-- replace lines X to X -->
            - The original code between the start and end will be replaced with the new code.
            - This format can be used to replace as well as add new code to the user's code.

            For example, to replace lines X to Y of the user's code, use the following format:
            <!-- replace lines X to Y -->
            \`\`\`language
            new code
            \`\`\`

            To delete a range of the user's code, use the following format:
            - Generate a codeblock with the original code.
            - Prefix the codeblock with a markdown comment of the form <!-- delete lines start to end -->
            - Start and end are line numbers in the user's original code.
            - Start and end are inclusive.
            - Single line deletions can be done by setting start and end to the same line number: <!-- delete lines X to X -->
            - The original code in the range will be deleted from the user's code.

            For example, to delete lines X to Y of the user's code, use the following format:
            <!-- delete lines X to Y -->
            \`\`\`language
            original code
            \`\`\`

            Remember:
            - Prefix comments must be placed directly above/after the code block respectively.
            - The first row of a codeblock must never be indented.
            - Code in codeblocks must not contain line numbers.
            - You must not return a codeblock containing the final code, but only individual codeblocks for each change.
        `.trim()}};d();var p0e=tt(hf());var KG=class{static{o(this,"MetaPromptStrategy")}elidableContent(t){let r=w6(t.turns.slice(0,-1)),n=[];return r!==null&&n.push([r,.6]),new Xt(n)}suffix(t){if(t.promptType!=="meta")throw new Error("Invalid prompt options for strategy");if(!t.supportedSkillDescriptors)throw new Error("Supported skills must be provided for meta prompts");return this.buildMetaPrompt(t.supportedSkillDescriptors)}buildMetaPrompt(t){return p0e.default`
            Your task is to provide a helpful answer to the user's question.
            To help you create that answer, you can resolve skills that give you more context.
            Each skill has a description and some example user questions to help you understand when the skill may be useful. 
            
            List of available skills:
            ${t.map(r=>`${this.skillToPrompt(r)}
`).join(`
`)}
        `.trim()}createFunctionArgumentSchema(t){let r=ZRe(t.map(n=>n.id));return I.Object({skillIds:I.Array(r,{description:"The skill ids to resolve ranked from most to least useful"})})}toolConfig(t){if(t.promptType!=="meta")throw new Error("Invalid prompt options for strategy");return{tool_choice:{type:"function",function:{name:"resolveSkills"}},tools:[{type:"function",function:{name:"resolveSkills",description:"Resolves the skills by id to help answer the user question.",parameters:this.createFunctionArgumentSchema(t.supportedSkillDescriptors)}}],extractArguments(r){return{skillIds:Oy(r).skillIds}}}}skillToPrompt(t){let r=t.description?t.description():t.id,n=`Skill Id: ${t.id}
Skill Description: ${r}`,i=t.examples?t.examples():[];return i.length>0&&(n+=`
Skill Examples:
${i.map(s=>`  - ${s}`).join(`
`)}`),n}async promptContent(t,r,n){let i=t.conversation.getLastTurn().request.message,s=this.elidableContent(t.conversation);return[[{role:"system",content:r},{role:"user",content:s},{role:"system",content:this.suffix(n)},{role:"user",content:p0e.default`
                    This is the user's question: 
                    ${en(i).trim()} 
                `.trim()}],[]]}};d();var hQe=tt(hf());var JG=class{static{o(this,"SuggestionsPromptStrategy")}toolConfig(){return{tool_choice:{type:"function",function:{name:"showSuggestions"}},tools:[{type:"function",function:{name:"showSuggestions",description:"Show the computed suggestions to the user",parameters:I.Object({suggestedTitle:I.String({description:"The suggested title for the conversation"}),followUp:I.String({description:"The suggested follow-up question for the conversation"})})}}],extractArguments(t){let r=Oy(t);return{suggestedTitle:r.suggestedTitle,followUp:r.followUp}}}}suffix(t){return hQe.default`
            Your task is to come up with two suggestions:

            1) Suggest a title for the current conversation based on the history of the conversation so far.
                - The title must be a short phrase that captures the essence of the conversation.
                - The title must be relevant to the conversation context.
                - The title must not be offensive or inappropriate.
                - The title must be in the following locale: ${t.conversation.userLanguage}.

            2) Write a short one-sentence question that the user can ask as a follow up to continue the current conversation.
                - The question must be phrased as a question asked by the user, not by Copilot.
                - The question must be relevant to the conversation context.
                - The question must not be offensive or inappropriate.
                - The question must not appear in the conversation history.
                - The question must not have already been answered.
                - The question must be in the following locale: ${t.conversation.userLanguage}.
        `.trim()}async elidableContent(t){let r=w6(t.turns.slice()),n=[];return r!==null&&n.push([r,.6]),new Xt(n)}async promptContent(t,r,n){return[[{role:"system",content:r},{role:"user",content:await this.elidableContent(t.conversation)},{role:"system",content:this.suffix(t)}],[]]}};d();var ISt=[{type:"function",function:{name:"queryWithKeywords",description:"Searches the workspace for synonyms and relevant keywords related to the original user query. These keywords could be used as file names, symbol names, abbreviations, or comments in the relevant code.",parameters:I.Object({keywords:I.Array(I.Object({keyword:I.String({description:"A keyword or phrase relevant to the original user query that a user could search to answer their question. Keywords are not generic and do not repeat."}),variations:I.Array(I.String(),{description:"An array of relevant variations of the keyword. Variations include synonyms and plural forms. Variations are not generic and do not repeat."})}))})}}],XG=class extends Nx{static{o(this,"UserQuerySynonymsPromptStrategy")}suffix(){return`
You are a coding assistant that helps developers find relevant code in their workspace by providing a list of relevant keywords they can search for.
The user will provide you with potentially relevant information from the workspace. This information may be incomplete.

# Additional Rules

Think step by step:
1. Read the user's question to understand what they are asking about their workspace.
2. If there are pronouns in the question, such as 'it', 'that', 'this', try to understand what they refer to by looking at the rest of the question and the conversation history.
3. Output a list of up to 8 relevant keywords that the user could search to answer their question. These keywords could be used as file names, symbol names, abbreviations, or comments in the relevant code. Put the keywords most relevant to the question first. Do not include overly generic keywords. Do not repeat keywords.
4. For each keyword in the list of relevant keywords, output a list of relevant variations of the keyword if applicable. Consider synonyms and plural forms. Do not include overly generic variations. Do not repeat variations.

# Example

User: Where is the code for base64 encoding?

Response:

queryWithKeywords([
    { "keyword": "base64 encoding", "variations": ["base64 encoder", "base64 encode"] },
    { "keyword": "base64", "variations": ["base 64"] },
    { "keyword": "encode", "variations": ["encoding", "encoded", "encoder", "encoders"] }
]);
`.trim()}async promptContent(t,r,n){if(n.promptType!=="synonyms")throw new Error("Invalid prompt options for user query strategy");let i=t.conversation.getLastTurn().request.message;return[[{role:"system",content:r},{role:"system",content:this.suffix()},{role:"user",content:i}],[]]}toolConfig(t){if(t.promptType!=="synonyms")throw new Error("Invalid prompt options for user query strategy");return{tools:ISt,tool_choice:{type:"function",function:{name:"queryWithKeywords"}},extractArguments(r){let n=Oy(r).keywords;if(!n||!Array.isArray(n))return{keywords:[]};let i=new Set;for(let s of n)if(!(!kL(s,"keyword")||!s.keyword||typeof s.keyword!="string")&&(i.add(s.keyword.toLowerCase()),!(!kL(s,"variations")||!s.variations||!Array.isArray(s.variations))))for(let a of s.variations)typeof a=="string"&&i.add(a.toLowerCase());return{keywords:Array.from(i)??[]}}}}};var g0e=class{constructor(t,r,n){this.promptType=t;this.strategy=n;this.modelFamilies=Array.isArray(r)?r:[r]}static{o(this,"PromptStrategyDescriptor")}};function Z_(e,t,r){return new g0e(e,t,r)}o(Z_,"descriptor");var pQe=[Z_("user",Xo("user"),async()=>new zG),Z_("inline",Xo("inline"),async()=>new YG),Z_("meta",Xo("meta"),async()=>new KG),Z_("suggestions",Xo("suggestions"),async()=>new JG),Z_("synonyms",Xo("synonyms"),async()=>new XG)],ZG=class{static{o(this,"DefaultPromptStrategyFactory")}async createPromptStrategy(t,r,n){let i=pQe.find(s=>s.promptType===r&&s.modelFamilies.includes(n));if(!i)throw new Error(`No prompt strategy found for promptType: ${r} and modelFamily: ${n}`);return i.strategy(t)}get descriptors(){return pQe}};var AQe=require("console");var i0=class{constructor(t,r=new ZG){this.ctx=t;this.promptStrategyFactory=r}static{o(this,"ConversationPromptEngine")}async toPrompt(t,r){let n=await this.promptStrategyFactory.createPromptStrategy(this.ctx,r.promptType,r.modelConfiguration.modelFamily),[i,s]=await n.promptContent(t,await this.safetyPrompt(r.userSelectedModelName??r.modelConfiguration.uiName),r),[a,l]=await this.elideChatMessages(i,r.modelConfiguration);return await this.ctx.get(qa).inspectPrompt({type:r.promptType,prompt:gQe(a),tokens:l}),this.ctx.get(kl).addPrompt(t.turn.id,gQe(a),r.promptType),{messages:a,tokens:l,skillResolutions:s,toolConfig:n.toolConfig?.(r)}}async elideChatMessages(t,r){let n=t.filter(l=>!(typeof l.content=="string"||Array.isArray(l.content)));(0,AQe.assert)(n.length==1,"Only one elidable message is supported right now.");let i=this.computeNonElidableTokens(t,r),s=r.maxRequestTokens-i,a=t.map(l=>typeof l.content=="string"||Array.isArray(l.content)?l:{role:l.role,content:TSt(l.content.elide(s).getText())}).filter(l=>l.content.length>0);return[a,n0e(a,r)]}computeNonElidableTokens(t,r){let n=t.filter(i=>typeof i.content=="string");return n.push({role:"user",content:""}),n0e(n,r)}async safetyPrompt(t){let r=await this.ctx.get(wn).getAuthRecord(),n=this.ctx.get(an).getEditorInfo().readableName??this.ctx.get(an).getEditorInfo().name,i=wSt(process.platform);return await rQe(this.ctx,n,r?.user,i,t)}};function TSt(e){return e.trimStart().replace(/^\[\.\.\.\]\n?/,"")}o(TSt,"processResultOfElidableText");function gQe(e){return e.map(t=>en(t.content)).join(`

`)}o(gQe,"debugChatMessages");function wSt(e){switch(e){case"darwin":return"macOS";case"win32":return"Windows";case"linux":return"Linux";case"freebsd":return"FreeBSD";case"openbsd":return"OpenBSD";case"sunos":return"SunOS";case"aix":return"AIX";default:return}}o(wSt,"mapPlatformToOs");var eH=class{constructor(t,r){this.ctx=t;this.chatFetcher=r}static{o(this,"TurnSuggestions")}async fetchRawSuggestions(t,r,n,i){let s=await this.ctx.get(ti).getBestChatModelConfig(Xo("suggestions"),{tool_calls:!0}),a={promptType:"suggestions",modelConfiguration:s},l=await this.ctx.get(i0).toPrompt(t,a),c=i.extendedBy({messageSource:"chat.suggestions"},{promptTokenLen:l.tokens}),u={modelConfiguration:s,messages:l.messages,uiKind:n,llmInteraction:t.toLlmInteraction()};if(l.toolConfig===void 0)throw new Error("No tool call configuration found in suggestions prompt.");u.tool_choice=l.toolConfig.tool_choice,u.tools=l.toolConfig.tools;let f=await this.chatFetcher.fetchResponse(u,r,c);if(f.type!=="success"&&(Kr.error(this.ctx,"Failed to fetch suggestions, trying again..."),f=await this.chatFetcher.fetchResponse(u,r,c)),f.type==="success"){if(!f.toolCalls||f.toolCalls.length===0){Kr.error(this.ctx,"Missing tool call in suggestions response");return}let m=f.toolCalls[0],{followUp:h,suggestedTitle:p}=l.toolConfig.extractArguments(m);if(!h||!p){Kr.error(this.ctx,"Missing follow-up or suggested title in suggestions response");return}return{followUp:h.trim(),suggestedTitle:p.trim(),promptTokenLen:l.tokens,numTokens:f.numTokens+m.approxNumTokens}}else if(f.type==="successMultiple"){Kr.error(this.ctx,"successMultiple response is unexpected for suggestions");return}else if(f.type==="tool_calls"){Kr.error(this.ctx,"tool_calls response is unexpected for suggestions");return}else{Kr.error(this.ctx,`Failed to fetch suggestions due to reason: ${f.reason}`);return}}};var _6=class{constructor(t,r,n){this.turnContext=t;this.chatFetcher=r;this.computeSuggestions=n}static{o(this,"ChatFetchResultPostProcessor")}async postProcess(t,r,n,i,s,a,l,c){switch(_4e(this.turnContext.ctx,l,a,t.type=="offTopic",t.requestId,c,s.extendedBy({},{fileCount:this.turnContext.ctx.get(Zs).workspaceCount})),await this.turnContext.ctx.get(qa).inspectFetchResult(t),t.type){case"success":return await this.processSuccessfulFetchResult(n,t.numTokens,t.requestId,r,l,i,s,c);case"offTopic":return await this.processOffTopicFetchResult(s,l,c);case"canceled":return this.turnContext.turn.status="cancelled",this.turnContext.turn.response={message:"Cancelled",type:"user"},{error:{message:en(this.turnContext.turn.response?.message??""),type:this.turnContext.turn.response?.type}};case"failed":return this.turnContext.turn.status="error",this.turnContext.turn.response={message:t.reason,type:"server"},{error:{message:z8.translateErrorMessage(t.code,t.reason),code:t.code}};case"filtered":return this.turnContext.turn.status="filtered",{error:{message:"Oops, your response got filtered. Vote down if you think this shouldn't have happened.",responseIsFiltered:!0}};case"length":return this.turnContext.turn.status="error",{error:{message:"Oops, the response got too long. Try to reformulate your question.",responseIsIncomplete:!0}};case"agentAuthRequired":return this.turnContext.turn.status="error",this.turnContext.turn.response={message:"Authorization required",type:"server"},{error:{message:"Authorization required",responseIsFiltered:!1}};case"no_choices":return this.turnContext.turn.status="error",this.turnContext.turn.response={message:"No choices returned",type:"server"},{error:{message:"Oops, no choices received from the server. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0}};case"no_finish_reason":return this.turnContext.turn.status="error",n&&n.length>0?this.turnContext.turn.response={message:n,type:"model",references:this.turnContext.turn.response?.references}:this.turnContext.turn.response={message:"No finish reason",type:"server"},{error:{message:"Oops, unexpected end of stream. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0}};case"model_not_supported":return this.turnContext.turn.status="error",this.turnContext.turn.response={message:"Model not supported",type:"server"},{error:{message:"Oops, the model is not supported. Please try again.",code:400,reason:"model_not_supported",responseIsFiltered:!1}};case"successMultiple":case"tool_calls":case"unknown":return this.turnContext.turn.status="error",{error:{message:"Unknown server side error occurred. Please try again.",responseIsFiltered:!1}}}}async processSuccessfulFetchResult(t,r,n,i,s,a,l,c){if(t&&t.length>0){a.markAsDisplayed(),l.markAsDisplayed(),this.turnContext.turn.status="success",this.turnContext.turn.response={message:t,type:"model",references:this.turnContext.turn.response?.references},k4e(this.turnContext.ctx,this.turnContext.conversation,s,t,r,n,c,l);let u=this.computeSuggestions?await this.fetchSuggestions(i,s,a,c):void 0;if(u){let{followUp:f,suggestedTitle:m}=u;return{followup:f.message!==""?f:void 0,suggestedTitle:m!==""?m:void 0}}return{}}return this.turnContext.turn.status="error",this.turnContext.turn.response={message:"The model returned successful but did not contain any response text.",type:"meta"},{error:{message:en(this.turnContext.turn.response?.message??""),type:this.turnContext.turn.response?.type}}}async fetchSuggestions(t,r,n,i){let a=await new eH(this.turnContext.ctx,this.chatFetcher).fetchRawSuggestions(this.turnContext,t,r,n);if(a===void 0)return;let l=this.enrichFollowup(a,r,n,i);return Kr.debug(this.turnContext.ctx,"Computed followup",l),Kr.debug(this.turnContext.ctx,"Computed suggested title",a.suggestedTitle),{followUp:l,suggestedTitle:a.suggestedTitle}}enrichFollowup(t,r,n,i){let s=n.extendedBy({messageSource:"chat.suggestions",suggestionId:Tr(),suggestion:"Follow-up from model"},{promptTokenLen:t.promptTokenLen,numTokens:t.numTokens});return F4e(this.turnContext.ctx,r,s,i),{message:t.followUp,id:s.properties.suggestionId,type:s.properties.suggestion}}async processOffTopicFetchResult(t,r,n){let i="Sorry, but I can only assist with programming related questions.";return this.turnContext.turn.response={message:i,type:"offtopic-detection"},this.turnContext.turn.status="off-topic",B4e(this.turnContext.ctx,this.turnContext.conversation,r,i,t.properties.messageId,n,t),{error:{message:i,responseIsFiltered:!0}}}};d();var SSt=I.Union([I.Literal("included"),I.Literal("blocked"),I.Literal("notfound"),I.Literal("empty")]),tH=I.Object({uri:I.String(),position:I.Optional(cl)}),ek=I.Object({type:I.Literal("file"),uri:I.String(),visibleRange:I.Optional(V0),selection:I.Optional(V0),status:I.Optional(SSt),range:I.Optional(V0)}),k6=I.Union([ek,yNe]),Md=I.Union([I.Literal("panel"),I.Literal("inline")]),_St=I.Union([I.Object({type:I.Literal("text"),text:I.String()}),I.Object({type:I.Literal("image_url"),imageUrl:I.Object({url:I.String(),detail:I.Optional(I.Union([I.Literal("low"),I.Literal("high")]))})})]),A0e=I.Union([I.String(),I.Array(_St)]),yQe=I.Object({request:A0e,response:I.Optional(I.String()),agentSlug:I.Optional(I.String())});function rH(e){return typeof e=="string"?e:e.map(t=>t.type==="image_url"?{type:"image_url",image_url:{url:t.imageUrl.url,detail:t.imageUrl.detail}}:{type:"text",text:t.text})}o(rH,"convertToMessageContent");function B6(e,t){if(typeof e=="string")return e+t;let r=e.map(n=>n.type==="text").lastIndexOf(!0);if(r>=0){let n=[...e],i=n[r];return n[r]={type:"text",text:i.text+t},n}return[...e,{type:"text",text:t}]}o(B6,"appendToMessage");var nH=I.Union([I.Literal("Ask"),I.Literal("Agent")]),kSt=I.Object({type:I.String(),description:I.String()}),CQe=I.Object({name:I.String(),description:I.String(),inputSchema:I.Optional(I.Object({type:I.String(),properties:I.Record(I.String(),kSt),required:I.Array(I.String())}))});var y0e="generate-response",iH=class extends Error{constructor(r,n,i,s){super(r);this.authorizationUri=n;this.agentSlug=i;this.agentName=s}static{o(this,"RemoteAgentAuthorizationError")}},tk=class{constructor(t,r,n){this.agent=t;this.turnContext=r;this.chatFetcher=n;this.conversationProgress=r.ctx.get(Ls),this.chatFetcher=this.chatFetcher??new ga(r.ctx),this.postProcessor=new _6(r,this.chatFetcher,!1),this.conversation=r.conversation,this.turn=r.turn}static{o(this,"RemoteAgentTurnProcessor")}async process(t,r,n,i){try{await this.processWithAgent(t,r,this.turnContext,i)}catch(s){Kr.error(this.turnContext.ctx,`Error processing turn ${this.turn.id}`,s);let a=s instanceof Error?s.message:String(s);this.turn.status="error",this.turn.response={message:a,type:"meta"},s instanceof iH?await this.endProgress({unauthorized:{authorizationUri:s.authorizationUri,agentSlug:s.agentSlug,agentName:s.agentName}}):await this.endProgress({error:{message:a,responseIsIncomplete:!0}})}}async processWithAgent(t,r,n,i){await this.conversationProgress.begin(this.conversation,this.turn,t);let s=await Ka(this.turnContext.ctx,this.turn.id,this.conversation.id,{languageId:i?.detectedLanguageId??""});if(r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let a=await this.buildAgentPrompt(n);if(!a)await this.endTurnWithResponse(`No prompt created for agent ${this.agent.id}`,"error");else{let l={type:"user",prompt:JSON.stringify(a.messages,null,2),tokens:a.tokens};await n.ctx.get(qa).inspectPrompt(l),await n.steps.start(y0e,"Generating response");let c=this.augmentTelemetry(a,s,this.turn.template,i);if(r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let u=await this.fetchConversationResponse(n,a.messages,r,s.extendedBy({messageSource:"chat.user"},{promptTokenLen:a.tokens}),c,i);this.turn.status==="cancelled"&&this.turn.response?.type==="user"?await this.cancelProgress():(await this.finishGenerateResponseStep(u,n),await this.endProgress({error:u.error,followUp:u.followup,suggestedTitle:u.suggestedTitle,skillResolutions:a.skillResolutions}))}}async buildAgentPrompt(t){let r=this.createMessagesFromHistory(t),n=await this.computeCopilotReferences(t),i=this.getOrCreateAgentSessionId(t);return this.turn.agent&&(this.turn.agent.sessionId=i),this.turn.confirmationResponse?this.addConfirmationResponse(this.turn.confirmationResponse,r):r.push({role:"user",content:t.turn.request.message,copilot_references:n.length>0?n:void 0}),{messages:r,tokens:-1,skillResolutions:[]}}getOrCreateAgentSessionId(t){let r=this.turn.agent?.agentSlug;if(r){for(let n of t.conversation.turns)if(n.agent?.agentSlug===r&&n.agent.sessionId)return n.agent.sessionId}return Tr()}addConfirmationResponse(t,r){r.push({role:"user",content:"",copilot_confirmations:[t]})}createMessagesFromHistory(t){return i0e(t.conversation.turns.slice(0,-1),this.agent.slug).flatMap(r=>{let n=[];if(r.request&&n.push({role:"user",content:r.request.message}),r.response&&r.response.type==="model"){let i=ANe(r.response.references);n.push({role:"assistant",content:r.response.message,copilot_references:i.length>0?i:void 0})}return n})}async computeCopilotReferences(t){return await wNe(t)}async endTurnWithResponse(t,r){this.turn.response={type:"meta",message:t},this.turn.status=r,await this.conversationProgress.report(this.conversation,this.turn,{reply:t}),await this.endProgress()}async fetchConversationResponse(t,r,n,i,s,a){n.onCancellationRequested(async()=>{await this.cancelProgress()});let l=new Zy((m,h,p,A,x)=>{let E=x?{...x,agentSlug:this.agent.slug}:void 0;this.conversationProgress.report(this.conversation,this.turn,{reply:m,annotations:h,references:p,notifications:A.map(v=>({message:v.message,severity:"warning"})),confirmationRequest:E}),this.turn.response?(this.turn.response.message=B6(this.turn.response.message,m),this.turn.response.references.push(...p)):this.turn.response={message:m,type:"model",references:p},this.turn.annotations.push(...h??[]),E&&(this.turn.confirmationRequest=E)}),c=await this.turnContext.ctx.get(qr).getGitHubToken(),u={engineName:"agents",endpoint:this.agent.endpoint??this.agent.slug,messages:r,uiKind:"conversationPanel",intentParams:{intent:!0,intent_threshold:.7,intent_content:en(this.turn.request.message)},authToken:c,copilot_thread_id:this.turn.agent?.sessionId,llmInteraction:t.toLlmInteraction()},f=await this.chatFetcher.fetchResponse(u,n,i,async(m,h)=>l.isFinishedAfter(m,h));return this.ensureAgentIsAuthorized(f),await this.postProcessor.postProcess(f,n,l.appliedText,i,s.extendedBy(this.addExtensibilityInfoTelemetry()),en(this.turn.request.message),"conversationPanel",a)}ensureAgentIsAuthorized(t){if(t.type==="agentAuthRequired")throw this.turnContext.turn.status="error",this.turnContext.turn.response={message:"Authorization required",type:"server"},new iH("Authorization required",t.authUrl,this.agent.slug,this.agent.name)}augmentTelemetry(t,r,n,i){return ew(this.conversation,"conversationPanel",en(this.turn.request.message).length,t.tokens,n?.templateId,void 0,r,t.skillResolutions)}addExtensibilityInfoTelemetry(){return{extensibilityInfoJson:JSON.stringify({agent:this.agent.slug,outgoingReferences:this.turn.request.references?.map(t=>t.type)??[],incomingReferences:this.turn.response?.references?.map(t=>t.type)??[]})}}async finishGenerateResponseStep(t,r){t.error?await r.steps.error(y0e,t.error.message):await r.steps.finish(y0e)}async endProgress(t){await this.turnContext.steps.finishAll(),await this.conversationProgress.end(this.conversation,this.turn,t)}async cancelProgress(){await this.turnContext.steps.finishAll("cancelled"),await this.conversationProgress.cancel(this.conversation,this.turn)}};var rk=class{constructor(t,r,n,i,s,a){this.id=t;this.slug=r;this.name=n;this.description=i;this.avatarUrl=s;this.endpoint=a}static{o(this,"RemoteAgent")}async additionalSkills(t){return[]}turnProcessor(t){return new tk(this,t)}},oH=class extends rk{static{o(this,"ExtensibilityPlatformAgent")}constructor(){super(0,"github","GitHub","Get answers grounded in web search, code search, and your enterprise's knowledge bases.","https://avatars.githubusercontent.com/u/9919?s=200&v=4","chat")}turnProcessor(t){return new tk(this,t)}};d();var BSt="github",gh=class{static{o(this,"RemoteAgentRegistry")}},sH=class extends gh{constructor(r){super();this.ctx=r;this._agents=void 0;this._lastFetchTime=0}static{o(this,"CapiRemoteAgentRegistry")}async agents(){return this.shouldRefreshAgents()&&(this._agents=await this.fetchAgents()),this._agents!=null?this._agents.slice():[]}shouldRefreshAgents(){return!this._agents||!this._lastFetchTime?!0:this.isLastFetchOlderOneHour()}isLastFetchOlderOneHour(){return Date.now()-this._lastFetchTime>36e5}async fetchAgents(){let r=await M3(this.ctx,"/agents");return r.ok?(this._lastFetchTime=Date.now(),this.parseAgents(await r.text())):(Zn.error(this.ctx,"Failed to fetch agents from CAPI",{status:r.status,statusText:r.statusText}),[])}parseAgents(r){let n;try{n=JSON.parse(r).agents,Array.isArray(n)||Zn.error(this.ctx,"Expected 'agents' to be an array")}catch(i){return r.includes("access denied")||Zn.warn(this.ctx,"Invalid remote agent response:",r,i),[]}return n.filter(i=>i.slug!==BSt).map(i=>new rk(i.id,i.slug,i.name,i.description,i.avatar_url))}};var C0e=class{constructor(){this.slug="project";this.name="Project";this.description="Ask about your project"}static{o(this,"ProjectAgent")}async additionalSkills(t){return[x6]}};async function pg(e){let t=[];return t.push(new oH),t.push(...await e.get(gh).agents()),t.push(new C0e),t}o(pg,"getAgents");d();var xQe=tt(T0());async function aH(e){let t=await e.get(wn).checkAndUpdateStatus(e);if(t.status!=="OK")throw new xQe.ResponseError(nn.NoCopilotToken,`Not authenticated: ${t.status}`)}o(aH,"verifyAuthenticated");function to(e){return async(t,r,n)=>(await aH(t),e(t,r,n))}o(to,"ensureAuthenticated");var RSt=I.Object({});async function DSt(e,t,r){return[(await pg(e)).map(s=>({slug:s.slug,name:s.name,description:s.description,avatarUrl:s.avatarUrl})),null]}o(DSt,"handleConversationAgentsChecked");var EQe=to(st(RSt,DSt));d();d();var nk=tt(T0());function PSt(e,t,r){let n=rn.createAndMarkAsIssued({languageId:String(t.detectedLanguageId),requestedDocumentVersion:String(r),actualDocumentVersion:String(t.version)});return Gt(e,"getCompletions.docVersionMismatch",n)}o(PSt,"telemetryVersionMismatch");async function Ah(e,t,r){let i=e.get(Vr).getTextDocumentUnsafe(t);if(!i)throw new nk.ResponseError(nn.InvalidParams,`Document for URI could not be found: ${t.uri}`);await aH(e);let s=await p4(e,t,i.getText());if(s.status==="invalid")throw e.get(Li).setInactive(s.reason),new nk.ResponseError(nn.CopilotNotAvailable,s.reason);if(t.version!==void 0&&i.version!==t.version)throw r?.isCancellationRequested||(PSt(e,i,t.version),Af.debug(e,`Requested document version was ${t.version} but actual document version was ${i.version}.`)),new nk.ResponseError(nn.ContentModified,"Document Version Mismatch");return i}o(Ah,"getTextDocument");async function yg(e,t,r){let n=t.textDocument??t.doc;if(!n){await aH(e);return}try{return await Ah(e,n,r)}catch(i){if(i instanceof nk.ResponseError&&i.code===nn.CopilotNotAvailable)return;throw i}}o(yg,"getTextDocumentIfAvailable");var FSt=I.Union([I.Literal("keyboard"),I.Literal("toolbar")]),NSt=I.Object({turnId:I.String(),codeBlockIndex:I.Number(),source:FSt,copiedCharacters:I.Number(),totalCharacters:I.Number(),copiedText:I.String(),doc:I.Optional(tH),textDocument:I.Optional(Dc),position:I.Optional(cl),conversationSource:I.Optional(Md)});async function LSt(e,t,r){let n=await yg(e,r,t),i={totalCharacters:r.totalCharacters,copiedCharacters:r.copiedCharacters},s=r.position??r.doc?.position;n&&s&&(i={...i,currentLine:s.line});let a=M5(r.conversationSource),l=await Ka(e,r.turnId,e.get(Hi).findByTurnId(r.turnId)?.id??"",{languageId:n?.detectedLanguageId??""});return Hu(e,n,{codeBlockIndex:r.codeBlockIndex.toString(),source:r.source,uiKind:a},i,`${Oc(a)}.acceptedCopy`,l),["OK",null]}o(LSt,"handleConversationCodeCopyChecked");var bQe=st(NSt,LSt);d();var QSt=I.Union([I.Literal("keyboard"),I.Literal("toolbar"),I.Literal("diff")]),MSt=I.Object({turnId:I.String(),source:QSt,codeBlockIndex:I.Number(),acceptedLength:I.Optional(I.Number()),totalCharacters:I.Number(),newFile:I.Optional(I.Boolean()),doc:I.Optional(tH),textDocument:I.Optional(Dc),position:I.Optional(cl),conversationSource:I.Optional(Md)});async function OSt(e,t,r){let n=await yg(e,r,t),i={totalCharacters:r.totalCharacters,acceptedLength:r.acceptedLength??r.totalCharacters},s=r.position??r.doc?.position;n&&s&&(i={...i,insertionOffset:n.offsetAt(s),currentLine:s.line});let a=M5(r.conversationSource),l=await Ka(e,r.turnId,e.get(Hi).findByTurnId(r.turnId)?.id??"",{languageId:n?.detectedLanguageId??""});return Hu(e,n,{codeBlockIndex:r.codeBlockIndex.toString(),source:r.source,uiKind:a,compType:r.acceptedLength&&r.acceptedLength<r.totalCharacters?"partial":"full"},i,`${Oc(a)}.acceptedInsert`,l),["OK",null]}o(OSt,"handleConversationCodeInsertChecked");var vQe=st(MSt,OSt);d();d();var IQe=tt(T0());var lH=new IQe.ProgressType,x0e=class{constructor(t){this.progressToken=t}static{o(this,"WorkDoneProgressHandler")}async begin(t,r,n){await t.get(jr).connection.sendProgress(lH,this.progressToken,{kind:"begin",title:`Conversation ${r.id} Turn ${n.id}`,conversationId:r.id,turnId:n.id,agentSlug:n.agent?.agentSlug})}async report(t,r,n,i){await t.get(jr).connection.sendProgress(lH,this.progressToken,{kind:"report",conversationId:r.id,turnId:n.id,...i})}async end(t,r,n,i){await t.get(jr).connection.sendProgress(lH,this.progressToken,{kind:"end",conversationId:r.id,turnId:n.id,...i})}async cancel(t,r,n,i){await t.get(jr).connection.sendProgress(lH,this.progressToken,{kind:"end",conversationId:r.id,turnId:n.id,cancellationReason:"CancelledByUser",error:i})}};function cH(e){return new x0e(e.workDoneToken)}o(cH,"createProgressHandler");d();d();d();d();var TQe="```",ik=String.raw`<!-- (?<mode>[\w-]+) lines? (?<start>\d+)(?: to (?<end>\d+))? -->`,USt=String.raw`${TQe}[\w]*?\n(?<codeblock>[\s\S]*?)\n${TQe}`,qSt=new RegExp(ik+`
`+USt,"gs"),E0e=["replace","delete"];function b0e(e,t){let r=e.matchAll(qSt),n=Array.from(r),i=[];for(let s of n){let a=s.groups;if(!a||!E0e.includes(a.mode))continue;let l=a.start?parseInt(a.start)-1:-1,c=a.end?parseInt(a.end)-1:l,f=a.codeblock.split(`
`),m=f[0].match(/^\s*/)?.[0]??"";f.forEach((x,E)=>{f[E]=x.slice(m.length)});let h={mode:a.mode,codeblock:f.join(`
`),start:l,end:c},p=v0e([h],t);if(!p)continue;let A={text:p,uri:t.uri};i.push({...h,updatedDocument:A})}return i}o(b0e,"extractEditsFromTaggedCodeblocks");function v0e(e,t){if(e.length===0)return;e.sort((n,i)=>n.start!==i.start?i.start-n.start:i.end-n.end);let r=t.getText().split(`
`);for(let n of e){let i=n.start,s=n.end,a=n.mode,l=n.codeblock.split(`
`);if(!(i<0||s<0||s<i)&&!(i>=r.length||s>=r.length)){if(a==="delete")r.splice(i,s-i+1);else if(a==="replace"){let c=r[i].match(/^\s*/)?.[0]??"";l.forEach((u,f)=>{l[f]=c+u}),r.splice(i,s-i+1,...l)}}}return r.join(`
`)}o(v0e,"applyEditsToDocument");d();var uH=class{constructor(t,r){this._toolsService=t;this.props=r;this.toolCalls=[]}static{o(this,"EditAgentPrompt")}render(){let t=[{role:"system",content:this.buildSystemMessage().join(`
`)},{role:"system",content:this.buildDefaultAgentPrompt().join(`
`)},{role:"user",content:this.buildUserPrompt(this.props.userMessage).join(`
`)},...this.toolCalls];return this.toolCalls.length&&t.push({role:"user",content:"Above is the result of calling one or more tools. The user cannot see the results, so you should explain them to the user if referencing them in your answer. Continue from where you left off without repeating yourself."}),t}addToolCallModelResponse(t,r){this.toolCalls.push({role:"assistant",content:t,tool_calls:r})}addToolCallResult(t,r){let n=rPe(t);this.toolCalls.push({role:"tool",content:n,tool_call_id:r})}buildSystemMessage(){let t=[];return t.push("You are an AI programming assistant.",'When asked for your name, you must respond with "GitHub Copilot".',"Follow the user's requirements carefully & to the letter.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal."),t}buildDefaultAgentPrompt(){let t=this._toolsService.getToolMapForModel().get("get_errors")!==void 0,r=this._toolsService.getToolMapForModel().get("run_in_terminal")!==void 0,n=this._toolsService.getToolMapForModel().get("replace_string_in_file")!==void 0,i=[];return i.push("<instructions>"),i.push("You are a highly sophisticated automated coding agent with expert-level knowledge across many different programming languages and frameworks."),i.push("The user will ask a question, or ask you to perform a task, and it may require lots of research to answer correctly. There is a selection of tools that let you perform actions or retrieve helpful context to answer the user's question."),i.push("If you can infer the project type (languages, frameworks, and libraries) from the user's query or the context that you have, make sure to keep them in mind when making changes."),i.push("If the user wants you to implement a feature and they have not specified the files to edit, first break down the user's request into smaller concepts and think about the kinds of files you need to grasp each concept."),i.push("If you aren't sure which tool is relevant, you can call multiple tools. You can call tools repeatedly to take actions or gather as much context as needed until you have completed the task fully. Don't give up unless you are sure the request cannot be fulfilled with the tools you have. It's YOUR RESPONSIBILITY to make sure that you have done all you can to collect necessary context."),i.push("Prefer using the semantic_search tool to search for context unless you know the exact string or filename pattern you're searching for."),i.push("Don't make assumptions about the situation-gather context first, then perform the task or answer the question."),i.push("Think creatively and explore the workspace in order to make a complete fix."),i.push("Don't repeat yourself after a tool call, pick up where you left off."),i.push(`NEVER print out a codeblock with file changes unless the user asked for it. Use the insert_edit_into_file ${n&&"replace_string_in_file"} tool instead.`),r&&i.push("NEVER print out a codeblock with a terminal command to run unless the user asked for it. Use the run_in_terminal tool instead."),i.push("You don't need to read a file if it's already provided in context."),i.push("</instructions>"),i.push("<toolUseInstructions>"),i.push("When using a tool, follow the json schema very carefully and make sure to include ALL required properties."),i.push("Always output valid JSON when using a tool."),i.push("If a tool exists to do a task, use the tool instead of asking the user to manually take an action."),i.push("If you say that you will take an action, then go ahead and use the tool to do it. No need to ask permission."),i.push("Never use multi_tool_use.parallel or any tool that does not exist. Use tools using the proper procedure, DO NOT write out a json codeblock with the tool inputs."),i.push("Never say the name of a tool to a user."),i.push("If you think running multiple tools can answer the user's question, prefer calling them in parallel whenever possible, but do not call semantic_search in parallel."),i.push("If semantic_search returns the full contents of the text files in the workspace, you have all the workspace context."),r&&i.push("Don't call the run_in_terminal tool multiple times in parallel. Instead, run one command and wait for the output before running the next command."),i.push("</toolUseInstructions>"),i.push("<editFileInstructions>"),n?(i.push("Before you edit an existing file, make sure you either already have it in the provided context, or read it with the read_file tool, so that you can make proper changes."),i.push("Use the replace_string_in_file tool to replace a string in a file, but only if you are sure that the string is unique enough to not cause any issues. You can use this tool multiple times per file."),i.push("Use the insert_edit_into_file tool to insert code into a file."),i.push("When editing files, group your changes by file."),i.push("NEVER show the changes to the user, just call the tool, and the edits will be applied and shown to the user."),i.push("NEVER print a codeblock that represents a change to a file, use insert_edit_into_file or replace_string_in_file instead."),i.push("For each file, give a short description of what needs to be changed, then use the replace_string_in_file or insert_edit_into_file tools. You can use any tool multiple times in a response, and you can keep writing text after using a tool.")):(i.push("Don't try to edit an existing file without reading it first, so you can make changes properly."),i.push("Use the insert_edit_into_file tool to edit files. When editing files, group your changes by file."),i.push("NEVER show the changes to the user, just call the tool, and the edits will be applied and shown to the user."),i.push("NEVER print a codeblock that represents a change to a file, use insert_edit_into_file instead."),i.push("For each file, give a short description of what needs to be changed, then use the insert_edit_into_file tool. You can use any tool multiple times in a response, and you can keep writing text after using a tool.")),i.push(`Follow best practices when editing files. If a popular external library exists to solve a problem, use it and properly install the package e.g. ${r?'with "npm install" or ':""}creating a "requirements.txt".`),t&&i.push("After editing a file, you MUST call get_errors to validate the change. Fix the errors if they are relevant to your change or the prompt, and remember to validate that they were actually fixed."),i.push("The insert_edit_into_file tool is very smart and can understand how to apply your edits to the user's files, you just need to provide minimal hints."),i.push("When you use the insert_edit_into_file tool, avoid repeating existing code, instead use comments to represent regions of unchanged code. The tool prefers that you are as concise as possible. For example:"),i.push(`// ${wl}`),i.push("changed code"),i.push(`// ${wl}`),i.push("changed code"),i.push(`// ${wl}`),i.push(""),i.push("Here is an example of how you should format an edit to an existing Person class:"),i.push("class Person {"),i.push(`	// ${wl}`),i.push("	age: number;"),i.push(`	// ${wl}`),i.push("	getAge() {"),i.push("		return this.age;"),i.push("	}"),i.push("}"),i.push("</editFileInstructions>"),i}buildUserPrompt(t){let r=this._toolsService.getToolMapForModel().get("replace_string_in_file")!==void 0,n=[];return n.push("<context>"),n.push(`${this.getCurrentDate()}`),n.push(`${this.getUserOS()}`),n.push(`${this.getWorkspaceFoldersHint()}`),n.push("</context>"),n.push("<reminder>"),n.push(`When using the insert_edit_into_file tool, avoid repeating existing code, instead use a line comment with \`${wl}\` to represent regions of unchanged code.`),r&&n.push("When using the replace_string_in_file tool, include 3-5 lines of unchanged code before and after the string you want to replace, to make it unambiguous which part of the file should be edited."),n.push("</reminder>"),n.push("<prompt>"),n.push(t),n.push("</prompt>"),n}getWorkspaceFoldersHint(){return this.props.workspaceFolder?`I am working in the workspace folder:
 -${this.props.workspaceFolder.uri}`:"There is no workspace currently open."}getCurrentDate(){return`The current date is ${new Date().toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})}.`}getUserOS(){let t=process.platform;return`My current OS is: ${t==="win32"?"Windows":t==="darwin"?"macOS":t==="linux"?"Linux":"Unknown"}`}};var WSt=15,fH=class e{constructor(t,r,n){this.turnContext=t;this.chatFetcher=r;this.modelConfiguration=n;this.toolCallRounds=[];this.conversationProgress=t.ctx.get(Ls),this.conversation=t.conversation,this.turn=t.turn,this.toolsService=t.ctx.get(Fd),this.prompt=new uH(this.toolsService,{userMessage:en(this.turnContext.turn.request.message),workspaceFolder:this.turnContext.turn.workspaceFolder}),this.requestId=Tr()}static{o(this,"ToolCallingLoop")}static{this.NextToolCallId=Date.now()}async run(t){let r=0,n;for(;;){if(t.isCancellationRequested||n&&r++>=WSt)return;let i=await this.runOne(r,t);if(n={...i},this.toolCallRounds.push(i.round),!i.round.toolCalls.length||i.response.type!=="success"&&i.response.type!=="tool_calls")return}}async runOne(t,r){let n=this.prompt.render(),i=[],s="",a=new Zy((f,m,h,p)=>{let A=f.trim().match(ik)!==null;this.conversationProgress.report(this.conversation,this.turn,{annotations:m,references:h,hideText:A,notifications:p.map(x=>({severity:"warning",message:x.message})),editAgentRounds:[{roundId:t,reply:f}]}),this.turn.response?this.turn.response.message=B6(this.turn.response.message,f):this.turn.response={message:f,type:"model"},this.turn.annotations.push(...m??[]),s+=f}),l=await this.turnContext.ctx.get(ar).updateExPValuesAndAssignments();l.properties.requestId=this.requestId;let c=this.toolsService.getToolsForModel(),u=await this.chatFetcher.fetchResponse({messages:n,modelConfiguration:this.modelConfiguration,uiKind:"conversationPanel",tools:this.getAvailableChatTools(c),intentParams:{intent:!0},llmInteraction:this.turnContext.toLlmInteraction()},r,l,(f,m)=>a.isFinishedAfter(f,m));if(u.type==="success")return{response:u,round:{response:u.value,toolInputRetry:0,toolCalls:i}};if(u.type==="tool_calls"){let f=u.toolCalls.map(m=>{if(!m.id){let h=`cls_${e.NextToolCallId++}`;m.id=h}return m});this.prompt.addToolCallModelResponse(s,f);for(let m of f){if(!m.id)throw new Error(`Tool call id is required but was not provided for function ${m.function.name}`);let h=this.findLanguageModelByName(c,m.function.name);if(h){let p=Oy(m),A=this.toolsService.prepareInvocation(h.id,{input:p},r);await this.turnContext.agentToolCalls.start(t,m.id,h.name,A.progressMessage||`Running ${h.displayName} tool`);let x=await this.toolsService.invokeTool(this.turnContext,h.id,{toolInvocationToken:m.id,input:p,roundId:t,toolCallId:m.id},r);this.prompt.addToolCallResult(x.content,m.id),await this.turnContext.agentToolCalls.finish(t,m.id)}}return{response:u,round:{response:s,toolInputRetry:0,toolCalls:f.map(m=>({id:m.id,name:m.function.name,arguments:JSON.stringify(m.function.arguments)}))}}}return{response:u,round:{response:"",toolInputRetry:0,toolCalls:i}}}getAvailableChatTools(t){return t.map(r=>({type:"function",function:{name:r.nameForModel,description:r.descriptionForModel,parameters:r.inputSchema}}))}findLanguageModelByName(t,r){return t.find(n=>n.nameForModel===r)}};var dH=class{constructor(t,r){this.turnContext=t;this.chatFetcher=r;this.conversationProgress=t.ctx.get(Ls),this.chatFetcher=this.chatFetcher??new ga(t.ctx),this.conversation=t.conversation,this.turn=t.turn}static{o(this,"AgenticTurnProcessor")}async process(t,r,n,i,s){try{await this.processWithModelAndToolCall(t,r,this.turnContext,n,i,s)}catch(a){Kr.error(this.turnContext.ctx,`Error processing turn ${this.turn.id}`,a);let l=a instanceof Error?a.message:String(a);this.turn.status="error",this.turn.response={message:l,type:"meta"},await this.endProgress({error:{message:l,responseIsIncomplete:!0}})}}async processWithModelAndToolCall(t,r,n,i,s,a){if(await this.conversationProgress.begin(this.conversation,this.turn,t),r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let l=await ah.getModelConfiguration(this.turnContext.ctx,"edits",a);await new fH(this.turnContext,this.chatFetcher,l).run(r),await this.endProgress({})}async endProgress(t){await this.turnContext.steps.finishAll(),await this.conversationProgress.end(this.conversation,this.turn,t)}async cancelProgress(){await this.turnContext.steps.finishAll("cancelled"),await this.conversationProgress.cancel(this.conversation,this.turn)}};d();var I0e="collect-context",T0e="generate-response",mH=class{constructor(t,r,n){this.turnContext=t;this.strategy=r;this.chatFetcher=n;this.conversationProgress=t.ctx.get(Ls),this.chatFetcher=this.chatFetcher??new ga(t.ctx),this.postProcessor=new _6(t,this.chatFetcher,r.computeSuggestions),this.conversation=t.conversation,this.turn=t.turn}static{o(this,"ModelTurnProcessor")}async process(t,r,n,i,s){try{await this.processWithModel(t,r,this.turnContext,n,i,s)}catch(a){Kr.error(this.turnContext.ctx,`Error processing turn ${this.turn.id}`,a);let l=a instanceof Error?a.message:String(a);this.turn.status="error",this.turn.response={message:l,type:"meta"},await this.endProgress({error:{message:l,responseIsIncomplete:!0}})}}async processWithModel(t,r,n,i,s,a){await this.conversationProgress.begin(this.conversation,this.turn,t);let l=await Ka(this.turnContext.ctx,this.turn.id,this.conversation.id,{languageId:s?.detectedLanguageId??""});if(r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let c=j_().find(h=>h.id===this.turn.template?.templateId);if(c?.response){await this.handleTemplateResponse(c,this.turn.template.userQuestion,r);return}let u=(await pg(this.turnContext.ctx)).find(h=>h.slug===this.turn.agent?.agentSlug);if(u){let h=await this.checkAgentPreconditions(u);if(h){await this.endProgress(h);return}}await n.steps.start(I0e,"Collecting context"),await this.collectContext(n,r,l,this.strategy.uiKind,c,u);let f=a?(await this.turnContext.ctx.get(ti).getBestChatModelConfig([a])).uiName:void 0,m=await this.strategy.buildConversationPrompt(n,s?.detectedLanguageId??"",void 0,f);if(!m)await n.steps.error(I0e,"Failed to collect context"),await this.endTurnWithResponse(this.strategy.earlyReturnResponse,"error");else{await n.steps.finish(I0e),await n.steps.start(T0e,"Generating response");let h=this.augmentTelemetry(m,l,c,i,s);if(r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let p=await this.fetchConversationResponse(m.messages,r,l.extendedBy({messageSource:"chat.user"},{promptTokenLen:m.tokens}),h,s,a),A=await this.strategy.processResponse(this.turn);this.turn.status==="cancelled"&&this.turn.response?.type==="user"?await this.cancelProgress():(await this.finishGenerateResponseStep(p,n),await this.endProgress({error:p.error,followUp:p.followup,suggestedTitle:p.suggestedTitle,skillResolutions:m.skillResolutions,updatedDocuments:A}))}}async checkAgentPreconditions(t){try{let r=t.checkPreconditions?await t.checkPreconditions(this.turnContext.ctx,this.turn):void 0;if(r&&r.type==="authorizationRequired")return{unauthorized:{...r,agentName:t.name,agentSlug:t.slug}}}catch(r){Kr.error(this.turnContext.ctx,`Error checking preconditions for agent ${t.slug}`,r);let n=r instanceof Error?r.message:String(r);return this.turn.status="error",this.turn.response={message:n,type:"meta"},{error:{message:n,responseIsIncomplete:!0}}}}async endTurnWithResponse(t,r){this.turn.response={type:"meta",message:t},this.turn.status=r,await this.conversationProgress.report(this.conversation,this.turn,{reply:t}),await this.endProgress()}async handleTemplateResponse(t,r,n){if(!t.response)return;let i=await t.response(this.turnContext,r,n);this.turn.response={type:"meta",message:i.message},this.turn.status=i.error?.responseIsFiltered?"filtered":i.error?.responseIsIncomplete?"error":"success",i.error?.responseIsFiltered||i.error?.responseIsIncomplete?(await this.conversationProgress.report(this.conversation,this.turn,{reply:"Sure, I can definitely do that!",annotations:i.annotations,notifications:i.notifications,references:i.references}),await this.turnContext.steps.finishAll(),await this.endProgress({error:{message:i.message,code:i.error?.code||0,responseIsIncomplete:i.error?.responseIsIncomplete,responseIsFiltered:i.error?.responseIsFiltered}})):(await this.conversationProgress.report(this.conversation,this.turn,{reply:i.message,annotations:i.annotations,notifications:i.notifications,references:i.references,confirmationRequest:i.confirmationRequest}),await this.endProgress())}async collectContext(t,r,n,i,s,a){let c=await new qG(this.turnContext.ctx,this.chatFetcher).collectContext(t,r,n,i,s,a);return this.turn.skills=c.skillIds.map(u=>({skillId:u})),c}async fetchConversationResponse(t,r,n,i,s,a){r.onCancellationRequested(async()=>{await this.cancelProgress()});let l="",c=0,u=new Zy((p,A,x,E)=>{let v=p.trim().match(ik)!==null;if(this.conversationProgress.report(this.conversation,this.turn,{reply:p,annotations:A,references:x,hideText:v,notifications:E.map(b=>({severity:"warning",message:b.message}))}),this.turn.response?this.turn.response.message=B6(this.turn.response.message,p):this.turn.response={message:p,type:"model"},this.turn.annotations.push(...A??[]),l+=p,this.strategy.currentDocument){let b=this.strategy.extractEditsFromResponse(l,this.strategy.currentDocument);b&&b.length>0&&(l="",this.conversationProgress.report(this.conversation,this.turn,{codeEdits:b}),c+=b.length)}}),f=await ah.getModelConfiguration(this.turnContext.ctx,"user",a);t=ah.transformMessages(t,f.modelFamily);let m={modelConfiguration:f,messages:t,uiKind:this.strategy.uiKind,intentParams:{intent:!0,intent_threshold:.7,intent_content:en(this.turn.request.message)},llmInteraction:this.turnContext.toLlmInteraction()},h=await this.chatFetcher.fetchResponse(m,r,n,async(p,A)=>u.isFinishedAfter(p,A));return i=i.extendedBy(void 0,{numCodeEdits:c}),await this.postProcessor.postProcess(h,r,u.appliedText,n,i,en(this.turn.request.message),this.strategy.uiKind,s)}augmentTelemetry(t,r,n,i,s){let a;return i?(this.turn.request.type="follow-up",R4e(this.turnContext.ctx,this.conversation,this.strategy.uiKind,en(this.turn.request.message),t.tokens,i.type,i.id,s,r),a=ew(this.conversation,this.strategy.uiKind,en(this.turn.request.message).length,t.tokens,i.type,i.id,r,t.skillResolutions)):a=ew(this.conversation,this.strategy.uiKind,en(this.turn.request.message).length,t.tokens,n?.id,void 0,r,t.skillResolutions),a}async finishGenerateResponseStep(t,r){t.error?await r.steps.error(T0e,t.error.message):await r.steps.finish(T0e)}async endProgress(t){await this.turnContext.steps.finishAll(),await this.conversationProgress.end(this.conversation,this.turn,t)}async cancelProgress(){await this.turnContext.steps.finishAll("cancelled"),await this.conversationProgress.cancel(this.conversation,this.turn)}};d();var hH=class{constructor(t){this.ctx=t;this.earlyReturnResponse="Oops, an error has occurred. Please try again";this.uiKind="conversationPanel";this.computeSuggestions=!0}static{o(this,"PanelTurnProcessorStrategy")}async processResponse(){return[]}async buildConversationPrompt(t,r,n,i){let s="user",a=await t.ctx.get(ti).getBestChatModelConfig(Xo(s)),l={promptType:s,modelConfiguration:a,languageId:r,userSelectedModelName:i};return await this.ctx.get(i0).toPrompt(t,l)}extractEditsFromResponse(t,r){return[]}},pH=class{constructor(t){this.ctx=t;this.earlyReturnResponse="Please open a file and select code for the inline chat to be available";this.uiKind="conversationInline";this.computeSuggestions=!1}static{o(this,"InlineTurnProcessorStrategy")}async buildConversationPrompt(t,r,n){let i=await this.getCurrentEditorSkill(t);if(!i)return;let s=await this.getDocumentIfValid(i.uri);if(!s)return;let a=n?.producesCodeEdits===!1?"user":"inline",l=await t.ctx.get(ti).getBestChatModelConfig(Xo(a)),c={promptType:a,modelConfiguration:l,languageId:r};return c.promptType==="inline"&&(this.currentDocument=s),await this.ctx.get(i0).toPrompt(t,c)}async processResponse(t){let r=[],n=en(t.response?.message??"");if(n&&t.status==="success"&&this.currentDocument){let i=await this.processInlineResponse(n,this.currentDocument);i&&r.push(i)}return r}async getCurrentEditorSkill(t){let r=await t.skillResolver.resolve(P0);if(r)return r}async getDocumentIfValid(t){let r=await this.ctx.get(dn).getOrReadTextDocument({uri:t});if(r.status==="valid")return r.document}async processInlineResponse(t,r){let i=b0e(t,r).filter(a=>E0e.includes(a.mode)),s=v0e(i,r);if(s)return await this.ctx.get(qa).documentDiff({original:r.getText(),updated:s}),{uri:r.uri,text:s}}extractEditsFromResponse(t,r){return b0e(t,r)}};d();d();var wQe=tt(T0()),SQe=tt(xp());var fc=class{constructor(t,r,n){this.ctx=t;this.skillId=r;this.requestType=new wQe.ProtocolRequestType("conversation/context");this.typeCheck=Ds.Compile(n)}static{o(this,"AgentSkillResolver")}async resolveSkill(t){let r=this.ctx.get(jr).connection,n={conversationId:t.conversation.id,turnId:t.turn.id,skillId:this.skillId},i;try{let s=await r.sendRequest(this.requestType,n),[a,l]=s;if(l){let c=new SQe.ResponseError(l.code,l.message,l.data);Kr.error(this.ctx,`ResponseError while resolving skill ${this.skillId}`,c);return}i=a}catch(s){Kr.error(this.ctx,`Error while resolving skill ${this.skillId}`,s);return}if(i!=null){if(!this.typeCheck.Check(i))throw new cc(this.typeCheck.Errors(i));return i}}};var w0e=class{constructor(t,r,n="",i="",s=[],a=[]){this.progressToken=t;this.chunks=r;this.followUp=n;this.suggestedTitle=i;this.skills=s;this.references=a}static{o(this,"SyntheticTurn")}},xA=class{constructor(){this.turns=[]}static{o(this,"SyntheticTurns")}add(t,r,n="",i="",s=[],a=[]){let l=new w0e(t,r,n,i,s,a);return this.turns.push(l),l}get(t){return this.turns.find(r=>r.progressToken===t)}},gH=class{constructor(t,r){this.turnContext=t;this.syntheticTurn=r;this.conversationProgress=t.ctx.get(Ls)}static{o(this,"SyntheticTurnProcessor")}async process(t,r){try{await this.processWithSyntheticTurns(this.syntheticTurn,t,r)}catch(n){Kr.error(this.turnContext.ctx,`Error processing turn ${this.turnContext.turn.id}`,n);let i=n.message;this.turnContext.turn.status="error",this.turnContext.turn.response={message:i,type:"meta"},await this.conversationProgress.end(this.turnContext.conversation,this.turnContext.turn,{error:{message:i,responseIsIncomplete:!0}})}}async processWithSyntheticTurns(t,r,n){await this.conversationProgress.begin(this.turnContext.conversation,this.turnContext.turn,r),await this.resolveSyntheticSkill(t,n),await this.processSyntheticChunks(t,n),await this.endSyntheticProgress(t,n),this.turnContext.turn.response={type:"model",message:t.chunks.join("")},this.turnContext.turn.status=n.isCancellationRequested?"cancelled":"success"}async resolveSyntheticSkill(t,r){let n=this.turnContext.ctx.get(Hi).getCapabilities(this.turnContext.conversation.id),i=t.skills.filter(s=>n.skills.includes(s));for(let s of i){let l=await new fc(this.turnContext.ctx,s,I.Object({value:I.String()})).resolveSkill(this.turnContext);l&&!r.isCancellationRequested&&await this.conversationProgress.report(this.turnContext.conversation,this.turnContext.turn,{reply:l.value})}}async processSyntheticChunks(t,r){for(let n of t.chunks)r.isCancellationRequested||(await this.conversationProgress.report(this.turnContext.conversation,this.turnContext.turn,{reply:n}),await zL(1))}async endSyntheticProgress(t,r){r.isCancellationRequested?await this.conversationProgress.cancel(this.turnContext.conversation,this.turnContext.turn):await this.conversationProgress.end(this.turnContext.conversation,this.turnContext.turn,{followUp:{message:t.followUp,type:"followup",id:Tr()},suggestedTitle:t.suggestedTitle,updatedDocuments:this.turnContext.conversation.source==="inline"?[{uri:"fakeUpdatedDoc.ts",text:"fake"}]:void 0})}};var EA=class{static{o(this,"TurnProcessorFactory")}async createProcessor(t,r,n){let i=t.ctx.get(xA).get(r);if(i)return new gH(t,i);let a=(await pg(t.ctx)).find(c=>c.slug===t.turn.agent?.agentSlug);if(a?.turnProcessor)return a.turnProcessor(t);let l;return t.conversation.source==="inline"?l=new pH(t.ctx):l=new hH(t.ctx),t.turn.chatMode==="Agent"?new dH(t):(n!==void 0&&(l.computeSuggestions=n),new mH(t,l))}};d();d();var GSt=Object.freeze(function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}),cu=class{constructor(t){this.tokens=[];this.handlers=[];this._isCancelled=!1;this.onCancellationRequested=o((t,r)=>this._isCancelled?GSt(t,r):(this.handlers.push(t.bind(r)),{dispose:o(()=>{},"dispose")}),"onCancellationRequested");this.tokens=t,this._isCancelled=t.some(r=>r.isCancellationRequested),t.forEach(r=>{r.onCancellationRequested(n=>this.cancel(n))})}static{o(this,"MergedToken")}cancel(t){this._isCancelled||(this._isCancelled=!0,this.handlers.forEach(r=>r(t)))}get isCancellationRequested(){return this.tokens.some(t=>t.isCancellationRequested)}};var dc=class{constructor(){this.tokens=new xn(250)}static{o(this,"ProgressTokens")}add(t,r){let n=new qn.CancellationTokenSource,i=new cu([r,n.token]);return this.tokens.set(t.toString(),n),i}cancel(t){let r=this.tokens.get(t.toString());r&&(r.cancel(),this.tokens.delete(t.toString()))}};var HSt=I.Object({workDoneToken:I.Union([I.String(),I.Number()]),turns:I.Array(yQe,{minItems:1}),capabilities:I.Object({allSkills:I.Optional(I.Boolean()),skills:I.Array(I.String())}),doc:I.Optional(Dc),textDocument:I.Optional(Dc),computeSuggestions:I.Optional(I.Boolean()),references:I.Optional(I.Array(k6)),source:I.Optional(Md),workspaceFolder:I.Optional(I.String()),ignoredSkills:I.Optional(I.Array(I.String())),userLanguage:I.Optional(I.String()),model:I.Optional(I.String()),chatMode:I.Optional(nH)});async function VSt(e,t,r){let n=await yg(e,r,t);r.capabilities.allSkills&&(r.capabilities.skills=e.get(Wa).getDescriptors().map(m=>m.id));let i=r.source??"panel",s=await e.get(Hi).create(r.capabilities,i,r.userLanguage);await jSt(e,s,r);let a=s.turns[s.turns.length-1],l=e.get(dc).add(r.workDoneToken,t),c=new S6(e,s,a,l),u=cH(r);return await(await e.get(EA).createProcessor(c,u.progressToken,r.computeSuggestions)).process(u,l,void 0,n,r.model),[{conversationId:s.id,turnId:a.id,agentSlug:a.agent?.agentSlug,modelFamily:r.model},null]}o(VSt,"handleConversationCreateChecked");async function jSt(e,t,r){for(let n of r.turns){let i=rH(n.request),s=new y6({message:i,type:"user"});n.response&&(s.response={message:n.response,type:"model"}),n.agentSlug&&(s.agent={agentSlug:n.agentSlug}),s.chatMode=oG(r.chatMode);let a=r.workspaceFolder?{uri:r.workspaceFolder}:void 0;await e.get(Hi).addTurn(t.id,s,r.references,a,r.ignoredSkills)}}o(jSt,"addTurns");var _Qe=st(HSt,VSt);d();var $St=I.Object({conversationId:I.String()});function zSt(e,t,r){return e.get(Hi).destroy(r.conversationId),["OK",null]}o(zSt,"handleConversationDestroyChecked");var kQe=to(st($St,zSt));d();var YSt=I.Object({});function KSt(e,t,r){return[{path:e.get(e0).directory},null]}o(KSt,"handleConversationPersistenceChecked");var BQe=to(st(YSt,KSt));d();d();var DQe=tt(require("node:events"));var S0e=class{static{o(this,"TokenPreconditionCheck")}async check(t){let r=await t.get(wn).getAuthRecord(),n=t.get(Hs),i=n.fallbackAppId();return r&&r.githubAppId&&r.githubAppId!==i?{type:"token",status:"ok"}:{type:"token",status:"failed",githubAppId:n.githubAppId}}},_0e=class{static{o(this,"ChatEnabledPreconditionCheck")}async check(t){return{type:"chat_enabled",status:(await t.get(qr).getToken()).envelope.chat_enabled?"ok":"failed"}}},JSt=[new S0e,new _0e],RQe="onPreconditionsChanged",Od=class{constructor(t,r=JSt){this.ctx=t;this.checks=r;this.emitter=new DQe.default;za(t,async()=>{await this.check()})}static{o(this,"PreconditionsCheck")}check(t){return t&&(this.result=void 0),this.result===void 0&&(this.result=this.requestChecks()),this.result}async requestChecks(){let t=[];this.checks.length>0&&(t=await Promise.all(this.checks.map(i=>i.check(this.ctx))));let r=t.every(i=>i.status==="ok")?"ok":"failed",n={results:t,status:r};return this.emit(n),n}onChange(t){this.emitter.on(RQe,t)}emit(t){this.emitter.emit(RQe,t)}};var XSt=I.Object({forceCheck:I.Optional(I.Boolean())});async function ZSt(e,t,r){let n=r.forceCheck??!1;return[await e.get(Od).check(n),null]}o(ZSt,"handleConversationPreconditionsChecked");var PQe=to(st(XSt,ZSt));d();var e_t=I.Object({turnId:I.String(),rating:I.Number(),doc:I.Optional(Dc),textDocument:I.Optional(Dc),source:I.Optional(Md)});async function t_t(e,t,r){let n=await yg(e,r,t),i=M5(r.source),s="unrated";r.rating>0?s="positive":r.rating<0&&(s="negative");let a=await Ka(e,r.turnId,e.get(Hi).findByTurnId(r.turnId)?.id??"",{languageId:n?.detectedLanguageId??""});return Hu(e,n,{rating:s,messageId:r.turnId,conversationId:e.get(Hi).findByTurnId(r.turnId)?.id??"",uiKind:i},{},`${Oc(i)}.messageRating`,a),["OK",null]}o(t_t,"handleConversationRatingChecked");var FQe=st(e_t,t_t);d();d();var AH=class extends c6{static{o(this,"ClientLanguageModelTool")}constructor(t){super({...t,toolProvider:ag,type:"client"})}async invoke(t,r,n){let i={name:this.name,input:r.input,conversationId:t.conversation.id,turnId:t.turn.id,roundId:r.roundId,toolCallId:r.toolCallId};try{return await t.ctx.get(Uy).invokeClientTool(t,i)}catch(s){throw new Error(`Failed to invoke client tool ${this.name}: ${String(s)}`)}}};var r_t=I.Object({tools:I.Array(CQe)});function n_t(e,t,r){return r.tools.forEach(n=>{e.get(Fd).registerTool(new AH({name:n.name,descriptionForModel:n.description,inputSchema:n.inputSchema}))}),["OK",null]}o(n_t,"conversationRegisterToolsChecked");var NQe=to(st(r_t,n_t));d();var i_t=I.Object({});function o_t(e,t,r){return[Ole(e).map(i=>({id:i.id,description:i.description,shortDescription:i.shortDescription,scopes:i.scopes})),null]}o(o_t,"handleConversationTemplatesChecked");var LQe=to(st(i_t,o_t));d();var s_t=I.Object({workDoneToken:I.Union([I.String(),I.Number()]),conversationId:I.String(),message:A0e,followUp:I.Optional(I.Object({id:I.String(),type:I.String()})),doc:I.Optional(Dc),textDocument:I.Optional(Dc),computeSuggestions:I.Optional(I.Boolean()),references:I.Optional(I.Array(k6)),workspaceFolder:I.Optional(I.String()),ignoredSkills:I.Optional(I.Array(I.String())),confirmationResponse:eDe,model:I.Optional(I.String()),chatMode:I.Optional(nH)});async function a_t(e,t,r){let n=await yg(e,r,t),i=e.get(Hi),s=i.get(r.conversationId),a=rH(r.message),l=new y6({message:a,type:"user"});l.chatMode=oG(r.chatMode);let c=r.workspaceFolder?{uri:r.workspaceFolder}:void 0;l=await i.addTurn(s.id,l,r.references,c,r.ignoredSkills,r.confirmationResponse);let u=e.get(dc).add(r.workDoneToken,t),f=new S6(e,s,l,u),m=cH(r);return await(await e.get(EA).createProcessor(f,m.progressToken,r.computeSuggestions)).process(m,u,r.followUp,n,r.model),[{conversationId:s.id,turnId:l.id,agentSlug:l.agent?.agentSlug,modelFamily:r.model},null]}o(a_t,"handleConversationTurnChecked");var QQe=st(s_t,a_t);d();var l_t=I.Object({conversationId:I.String(),turnId:I.String(),source:I.Optional(Md)});async function c_t(e,t,r){e.get(Hi).deleteTurn(r.conversationId,r.turnId);let i=M5(r.source),s=await Ka(e,r.turnId,e.get(Hi).findByTurnId(r.turnId)?.id??"",{languageId:""});return Hu(e,void 0,{messageId:r.turnId,uiKind:i,conversationId:r.conversationId},{},`${Oc(i)}.messageDelete`,s),["OK",null]}o(c_t,"handleConversationTurnDeleteChecked");var MQe=to(st(l_t,c_t));d();var u_t=I.Object({document:I.Object({uri:I.String(),text:I.String(),languageId:I.String(),version:I.Number()}),selection:I.Object({start:I.Object({line:I.Number(),character:I.Number()}),end:I.Object({line:I.Number(),character:I.Number()})})});function f_t(){return["You are a world-class software engineer and the author and maintainer of the discussed code. Your feedback prefectly combines detailed feedback and explanation of context.",'When asked for your name, you must respond with "GitHub Copilot".',"Follow the user's requirements carefully & to the letter.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal.","Use Markdown formatting in your answers.","Make sure to include the programming language name at the start of the Markdown code blocks.","Avoid wrapping the whole response in triple backticks.","The user works in an IDE called Visual Studio Code which has a concept for editors with open files, integrated unit test support, an output pane that shows the output of running the code as well as an integrated terminal.","The active document is the source code the user is looking at right now.","You can only give one reply for each conversation turn.","","Additional Rules","Think step by step:","1. Examine the provided code and any other context like user question, related errors, project details, class definitions, etc.","2. Provide feedback on the current selection on where it can be improved or introduces a problem.","2a. Avoid commenting on correct code.","2b. Avoid commenting on commented out code.","2c. Keep scoping rules in mind.","3. Reply with an enumerated list of feedback with source line number, filepath, kind (bug, performance, consistency, documentation, naming, readability, style, other), severity (low, medium, high), and feedback text.","3a. E.g.: 1. Line 357 in src/flow.js, bug, high severity: `i` is not incremented.","3b. E.g.: 2. Line 361 in src/arrays.js, documentation, low severity: Function `binarySearch` is not documented.","3c. E.g.: 3. Line 176 in src/vs/platform/actionWidget/browser/actionWidget.ts, consistency, medium severity: The color id `'background.actionBar'` is not consistent with the other color ids used. Use `'actionBar.background'` instead.","3d. E.g.: 4. Line 410 in src/search.js, documentation, medium severity: Returning `-1` when the target is not found is a common convention, but it should be documented.","3e. E.g.: 5. Line 51 in src/account.py, bug, high severity: The deposit method is not thread-safe. You should use a lock to ensure that the balance update is an atomic operation.","3f. E.g.: 6. Line 220 in src/account.py, readability, low severity: The withdraw method is very long and combines multipe logical steps, consider splitting it into multiple methods.","4. Try to sort the feedback by file and line number.",'5. When there is no feedback to provide, reply with "No feedback to provide."',"","Focus on being clear, helpful, and thorough.","Use developer-friendly terms and analogies in your explanations.","Provide clear and relevant examples when helpful."].join(`
`)}o(f_t,"buildSystemMessage");function d_t(e){let r=e.document.text.split(`
`).slice(e.selection.start.line,e.selection.end.line+1),n=e.selection.start.line+1,i=e.selection.end.line+1,s=r.map((a,l)=>{let c=e.selection.start.line+l+1;return`/* ${c>n&&c<i?"Selected ":""}Line ${c} */${a}`}).join(`
`);return["<currentChange>","Current selection with the selected lines labeled as such:","",`From the file: ${e.document.uri}`,`\`\`\`${e.document.languageId}/${e.document.uri}: FROM_LINE: ${n} - TO_LINE: ${i}`,s,"```","","</currentChange>"].join(`
`)}o(d_t,"buildUserMessage");function m_t(e,t){let r=[],n=e.text.split(`
`),i=/(\d+)\.\s*Line\s*(\d+)\s*in\s*([^,]+),\s*(\w+),\s*(\w+)\s*severity:\s*((?:[^`.\n]|`[^`]*`|\.(?=\s*[A-Z]))+)(?:\.|$)/gm,s;for(;(s=i.exec(t))!==null;){let[a,l,c,u,f,m,h]=s;if(!["bug","performance","consistency","documentation","naming","readability","style","other"].includes(f.toLowerCase()))continue;let p=parseInt(c)-1;if(p<0||p>=n.length)continue;let A=n[p],x=Math.max(A.search(/\S/),0),E=A.trimEnd().length,v={uri:e.uri,range:{start:{line:p,character:x},end:{line:p,character:E}},message:h.trim(),kind:f.toLowerCase(),severity:m.toLowerCase()};r.push(v)}return r}o(m_t,"parseReviewComments");async function h_t(e,t,r){if(!r.document.text)return[null,{code:nn.InvalidRequest,message:"Document text is required"}];if(!r.document.uri)return[null,{code:nn.InvalidRequest,message:"Document URI is required"}];if(!r.document.languageId)return[null,{code:nn.InvalidRequest,message:"Document language ID is required"}];let n=r.document.text.split(`
`);if(r.selection.start.line<0||r.selection.end.line>=n.length)return[null,{code:nn.InvalidRequest,message:"Invalid selection range"}];if(r.selection.start.line>r.selection.end.line)return[null,{code:nn.InvalidRequest,message:"Selection start line must be before end line"}];let i=e.get(ga),s=await e.get(ti).getBestChatModelConfig([Qi.Gpt4]),a=[{role:"system",content:f_t()},{role:"user",content:d_t(r)}],l=await e.get(ar).updateExPValuesAndAssignments(),c=await i.fetchResponse({modelConfiguration:s,messages:a,uiKind:"conversationPanel",intentParams:{intent:!0},llmInteraction:gf.user("code-review",Tr())},t,l);if(c.type!=="success")return[null,{code:nn.InternalError,message:"Failed to generate code review"}];let u=m_t(r.document,c.value);return u.sort((f,m)=>f.range.start.line-m.range.start.line),[{comments:u},null]}o(h_t,"handleCopilotCodeReviewChecked");var OQe=to(st(u_t,h_t));d();d();var sC=class{constructor(t,r,n,i,s){this.ctx=t;this.editConversation=r;this.currentTurn=n;this.partialResultToken=i;this.userSelectedModel=s;this.workingSetUriToPathMap=new Map;for(let a of n.workingSet)this.workingSetUriToPathMap.set(a.uri,lA.uriToPath(a.uri))}static{o(this,"EditTurnContext")}get editTurnId(){return this.currentTurn.id}get editConversationId(){return this.editConversation.id}mapToUriInWorkingSet(t){for(let[r,n]of this.workingSetUriToPathMap)if(n===t)return r}toLlmInteraction(){return gf.user("conversation-edit-panel",this.editTurnId)}};d();async function yH(e,t,r,n){let s=e.get(Ua).create("panel","en"),a=new Hy({message:"",type:"user"},[]),l="file:///path/to/HelloWorld.java",c=new sC(e,s,a,n,Qi.Gpt4o),u=e.get(Zl);await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"edit-plan-generated",editDescription:`### [HelloWorld.java](${l})

Complete the \`main\` method to print "Hello, World!" to the console.`,uri:l}),await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"updated-code-generated",uri:l,partialText:`public class HelloWorld {
    public static void main(String[] args) {
        System.out.println("Hello, World!");
    }
}`,languageId:"java",markdownCodeFence:"```"});let f="file:///path/to/HelloWorld.py";await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"edit-plan-generated",editDescription:`### [HelloWorld.py](${f})

Complete the \`main\` method to print "Hello, World!" to the console.`,uri:f}),await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"updated-code-generating",uri:f,partialText:`def main():
`,languageId:"python",markdownCodeFence:"```"}),await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"updated-code-generating",uri:f,partialText:`    println("Hello, World!")
`,languageId:"python",markdownCodeFence:"```"}),await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"updated-code-generated",uri:f,partialText:"",languageId:"python",markdownCodeFence:"```"})}o(yH,"streamMockedResult");d();var p_t=I.Object({enableMock:I.Boolean()}),Cg=class{constructor(){this.enableMock=!1}static{o(this,"CopilotEditsMockManager")}isMockEnabled(){return this.enableMock}setMockEnabled(t){this.enableMock=t}};function g_t(e,t,r){return e.get(Cg).setMockEnabled(r.enableMock),["OK",null]}o(g_t,"handleTestingSetCopilotEditsResponseChecked");var UQe=st(p_t,g_t);var A_t=I.Object({request:I.String(),response:I.Optional(I.String())}),y_t=I.Union([I.Literal("panel")]),C_t=I.Object({partialResultToken:I.Union([I.String(),I.Number()]),turns:I.Array(A_t,{minItems:1}),workingSet:I.Optional(I.Array(ek)),source:I.Optional(y_t),workspaceFolder:I.Optional(I.String()),userLanguage:I.Optional(I.String()),model:I.Optional(I.String())});function x_t(e,t){let r=e.create(t.source,t.userLanguage);for(let n of t.turns){let i=new Hy({message:n.request,type:"user"},t.workingSet);n.response&&(i.response={message:n.response,type:"model"}),t.workspaceFolder&&(i.workspaceFolder=t.workspaceFolder),e.addTurn(r.id,i)}return r}o(x_t,"buildEditConversation");async function E_t(e,t,r){if(e.get(Cg).isMockEnabled())return await yH(e,Tr(),Tr(),r.partialResultToken),[[],null];let n=x_t(e.get(Ua),r),i=n.getLastTurn(),s=new sC(e,n,i,r.partialResultToken,r.model),a=e.get(dc).add(r.partialResultToken,t);return[await e.get(cA).createOrContinueEditConversation(s,a),null]}o(E_t,"handleEditConversationCreateChecked");var qQe=to(st(C_t,E_t));d();var b_t=I.Object({editConversationId:I.String()});function v_t(e,t,r){return e.get(Ua).destroy(r.editConversationId),["OK",null]}o(v_t,"handleEditConversationDestroyChecked");var WQe=to(st(b_t,v_t));d();var I_t=I.Object({partialResultToken:I.Union([I.String(),I.Number()]),editConversationId:I.String(),message:I.String(),workingSet:I.Optional(I.Array(ek)),workspaceFolder:I.Optional(I.String()),userLanguage:I.Optional(I.String()),model:I.Optional(I.String())});function T_t(e,t,r){let n=e.get(t),i=new Hy({message:r.message,type:"user"},r.workingSet);return r.workspaceFolder&&(i.workspaceFolder=r.workspaceFolder),e.addTurn(n.id,i),n}o(T_t,"buildEditConversation");async function w_t(e,t,r){if(e.get(Cg).isMockEnabled())return await yH(e,r.editConversationId,Tr(),r.partialResultToken),[[],null];let n=e.get(Ua),i=T_t(n,r.editConversationId,r),s=i.getLastTurn(),a=new sC(e,i,s,r.partialResultToken,r.model),l=e.get(dc).add(r.partialResultToken,t);return[await e.get(cA).createOrContinueEditConversation(a,l),null]}o(w_t,"handleEditConversationTurnChecked");var GQe=to(st(I_t,w_t));d();var S_t=I.Object({editConversationId:I.String(),editTurnId:I.String(),source:I.Optional(Md)});async function __t(e,t,r){e.get(Ua).deleteTurn(r.editConversationId,r.editTurnId);let i=await Ka(e,r.editTurnId,r.editConversationId,{languageId:""});return Hu(e,void 0,{messageId:r.editTurnId,uiKind:"editsPanel",conversationId:r.editConversationId},{},`${Oc("editsPanel")}.copilotEditsMessageDelete`,i),["OK",null]}o(__t,"handleEditConversationTurnDeleteChecked");var HQe=to(st(S_t,__t));d();var k_t=I.Object({});async function B_t(e,t,r){let n=await e.get(qr).getToken();return[R_t(await e.get(Fu).getMetadata(),n),null]}o(B_t,"handleCopilotModelsChecked");function R_t(e,t){let r=new Map,n=[];e.forEach(a=>{if(a.model_picker_enabled===!0){let l=[];a.capabilities.type==="chat"?(l.push("chat-panel"),l.push("edit-panel"),l.push("inline"),r.set(a.capabilities.family,{modelFamily:a.capabilities.family,modelName:a.name,modelPolicy:a.policy,scopes:l,id:a.id,preview:a.preview??!1,capabilities:{supports:{vision:a.capabilities.supports?.vision??!1}}})):a.capabilities.type!=="completion"&&n.push({modelFamily:a.capabilities.family,modelName:a.name,modelPolicy:a.policy,scopes:l,id:a.id,preview:a.preview??!1,capabilities:{supports:{vision:a.capabilities.supports?.vision??!1}}})}});let i=t.getTokenValue("editor_preview_features")=="0";return Xf.filterCompletionModels(e,i).forEach(a=>{n.push({modelFamily:a.capabilities.family,modelName:a.name,modelPolicy:a.policy,scopes:["completion"],id:a.id,preview:a.preview??!1,capabilities:{supports:{vision:a.capabilities.supports?.vision??!1}}})}),[...r.values(),...n]}o(R_t,"filterModels");var VQe=to(st(k_t,B_t));d();var D_t=I.Object({model:I.Optional(I.String()),status:I.Optional(I.String())});async function P_t(e,t,r){return r.model&&r.status==="enabled"?await e.get(Fu).acceptModelPolicy(r.model)?["OK",null]:[null,{code:nn.InternalError,message:"Failed to accept model policy"}]:[null,{code:nn.InvalidRequest,message:"Invalid model or status"}]}o(P_t,"handleCopilotModelsPolicyChecked");var jQe=to(st(D_t,P_t));d();d();var bA=10;function $Qe(e,t){let r=t,n=e.lineAt(t.line);return n.isEmptyOrWhitespace||(r=n.range.end),r}o($Qe,"panelPositionForDocument");d();var k0e=new Ar("solutions");async function*F_t(e){for await(let t of e){let r={...t};r.completionText=r.completionText.trimEnd(),yield r}}o(F_t,"trimChoices");var R6=class{constructor(t,r,n,i){this.textDocument=t;this.startPosition=r;this.cancellationToken=n;this.solutionCountTarget=i;this.targetPosition=$Qe(this.textDocument,this.startPosition)}static{o(this,"SolutionManager")}get savedTelemetryData(){return this._savedTelemetryData}set savedTelemetryData(t){this._savedTelemetryData=t}};function CH(e){return e.replace(/\s+/g,"")}o(CH,"normalizeCompletionText");async function N_t(e,t){let r=t.targetPosition,n=t.textDocument,i=v5(e,n.uri),s=Tr(),a=rn.createAndMarkAsIssued({headerRequestId:s,languageId:n.detectedLanguageId,source:"open copilot"},{});t.savedTelemetryData=await e.get(ar).updateExPValuesAndAssignments({uri:n.uri,languageId:n.detectedLanguageId},a);let l=await DI(e,n,r,t.savedTelemetryData);if(l.type==="copilotContentExclusion")return{status:"FinishedNormally"};if(l.type==="contextTooShort")return{status:"FinishedWithError",error:"Context too short"};if(l.type==="promptCancelled")return{status:"FinishedWithError",error:"Prompt cancelled"};if(l.type==="promptTimeout")return{status:"FinishedWithError",error:"Prompt timeout"};if(l.type==="promptError")return{status:"FinishedWithError",error:"Prompt error"};let c=l.prompt,u=l.trailingWs;u.length>0&&(t.startPosition=Co.position(t.startPosition.line,t.startPosition.character-u.length));let f=t.cancellationToken;t.savedTelemetryData=t.savedTelemetryData.extendedBy({},{...lv(c),solutionCount:t.solutionCountTarget,promptEndPos:n.offsetAt(r)}),k0e.debug(e,"prompt:",c),Gt(e,"solution.requested",t.savedTelemetryData);let m=e.get(Dm).forLanguage(e,n.detectedLanguageId,t.savedTelemetryData),h=Tp.isSupportedLanguageId(n.detectedLanguageId),p=gw(n,r),A={stream:!0,extra:{language:n.detectedLanguageId,next_indent:p.next??0,prompt_tokens:c.prefixTokens??0,suffix_tokens:c.suffixTokens??0}};m==="parsing"&&!h&&(A.stop=[`

`,`\r
\r
`]);let x=b5(e,t.savedTelemetryData),E={prompt:c,languageId:n.detectedLanguageId,repoInfo:i,ourRequestId:s,engineModelId:x.modelId,count:t.solutionCountTarget,uiKind:"synthesize",postOptions:A,requestLogProbs:!0,headers:x.headers},v;switch(m){case"server":v=o(async q=>{},"finishedCb"),A.extra.force_indent=p.prev??-1,A.extra.trim_by_indentation=!0;break;case"parsingandserver":v=h?pw(e,n,t.startPosition,!1):async q=>{},A.extra.force_indent=p.prev??-1,A.extra.trim_by_indentation=!0;break;case"parsing":default:v=h?pw(e,n,t.startPosition,!1):async q=>{};break}let b=t.savedTelemetryData,S=await e.get(qc).fetchAndStreamCompletions(e,E,b.extendedBy(),v,f);if(S.type==="failed"||S.type==="canceled")return{status:"FinishedWithError",error:`${S.type}: ${S.reason}`};let B=S.choices;B=F_t(B),B=ZT(B,async q=>Uw(e,n,r,q,!1,k0e));let P=ZT(B,async q=>{let ne=q.completionText;k0e.info(e,`Open Copilot completion: [${q.completionText}]`);let ce=await NEe(e,n,r,q.completionText)??Co.position(r.line,0),[Z]=sy(n.getText(Co.range(ce,r)));ne=Z+ne;let G=q.completionText;u.length>0&&G.startsWith(u)&&(G=G.substring(u.length));let U=q.meanLogProb,ie=U!==void 0?Math.exp(U):0,J=b.extendedBy({choiceIndex:q.choiceIndex.toString()});return{completionText:G,insertText:ne,range:Co.range(ce,r),meanProb:ie,meanLogProb:U||0,requestId:q.requestId,choiceIndex:q.choiceIndex,telemetryData:J,copilotAnnotations:q.copilotAnnotations}});return YQe(f,P[Symbol.asyncIterator]())}o(N_t,"launchSolutions");async function zQe(e,t){let r=await e;switch(r.status){case"Solution":await t.onSolution(r.solution),await zQe(r.next,t);break;case"FinishedNormally":await t.onFinishedNormally();break;case"FinishedWithError":await t.onFinishedWithError(r.error);break}}o(zQe,"reportSolutions");async function xH(e,t,r){return e.get(Li).withProgress(async()=>{let i=N_t(e,t);return await zQe(i,r)})}o(xH,"runSolutions");async function YQe(e,t){if(e.isCancellationRequested)return{status:"FinishedWithError",error:"Cancelled"};let r=await t.next();return r.done===!0?{status:"FinishedNormally"}:{status:"Solution",solution:r.value,next:YQe(e,t)}}o(YQe,"generateSolutionsStream");var JQe=tt(Y2()),sk=tt(T0());d();d();function EH(e,t){let r=e.split(`
`),n=t,i=t,s=r[t.line],a=s.indexOf("%");a!==-1&&(s=s.substring(0,a)+s.substring(a+1),n={line:t.line,character:a});let l=s.indexOf("^");if(l!==-1){let c=s.indexOf("^",l+1);if(c===-1)throw new Error("Challenge document must contain zero or two ^ characters.");s=s.substring(0,l)+s.substring(l+1,c)+s.substring(c+1),n={line:t.line,character:t.character},i={line:t.line,character:t.character+c-l-1}}return{cursorLine:s,lines:r,start:n,end:i}}o(EH,"parseChallengeDoc");var L_t=I.Object({text:I.String(),score:I.Number()}),Q_t=I.Object({documents:I.Array(L_t),options:I.Optional(I.Object({}))});async function bH(e,t,r){let n=Tr();for(let i=0;i<t.length&&i<10;i++){let{text:s,score:a}=t[i],{cursorLine:l,lines:c,start:u}=EH(s,e),f=[l.slice(Math.min(u.character,e.character))].concat(c.slice(e.line+1)).join(`
`);r.offset=c.slice(0,e.line).reduce((m,h)=>m+h.length+1,0)+u.character,await r.onSolution({requestId:{headerRequestId:n,completionId:Tr(),created:0,serverExperiments:"",deploymentId:""},completionText:f,insertText:f,range:{start:e,end:e},meanProb:a,meanLogProb:-1,choiceIndex:i,telemetryData:h1.createEmptyConfigForTesting()})}await r.onFinishedNormally()}o(bH,"runTestSolutions");var yh=class{constructor(t){this.documents=t}static{o(this,"ExternalTestingPanelCompletionDocuments")}};function M_t(e,t,r){return e.forceSet(yh,new yh(r.documents)),["OK",null]}o(M_t,"handleTestingSetPanelCompletionDocumentsChecked");var KQe=st(Q_t,M_t);var XQe=hP.type;function O_t(e,t,r,n,i){let s=CH(n.completionText),a=(0,JQe.SHA256)(s).toString();return e.get(Wo).set(a,{displayText:n.completionText,insertText:n.insertText,offset:r,uuid:a,range:n.range,uri:t.textDocument.uri,telemetry:n.telemetryData.extendedBy({},{rank:i-1}),index:n.choiceIndex,position:t.position,resultType:0,triggerCategory:"solution",copilotAnnotations:n.copilotAnnotations}),{range:n.range,insertText:n.insertText,command:{command:zae,title:`Accept completion ${i}`,arguments:[a]}}}o(O_t,"makeCompletion");function R0e(e,t){return`${e}/${t}`}o(R0e,"progressMessage");var B0e=class{constructor(t,r,n){this.ctx=t;this.params=r;this.onCompletion=n;this.offset=0;this.count=0;this.items=new Map}static{o(this,"SolutionHandler")}get service(){return this.ctx.get(jr)}async onSolution(t){this.count+=1;let r=O_t(this.ctx,this.params,this.offset,t,this.items.size+1);this.items.has(r.command.arguments[0])||(this.items.set(r.command.arguments[0],r),await this.onCompletion(r)),this.params.workDoneToken!==void 0&&await this.service.connection.sendProgress(sk.WorkDoneProgress.type,this.params.workDoneToken,{kind:"report",message:R0e(this.count,bA),percentage:Math.round(100*this.count/bA)})}onFinishedNormally(){return U_t(this.params.workDoneToken,this.service,this.count)}async onFinishedWithError(t){if(this.error=t,this.params.workDoneToken!==void 0)return this.service.connection.sendProgress(sk.WorkDoneProgress.type,this.params.workDoneToken,{kind:"end",message:`Error: ${t}`})}};async function U_t(e,t,r=0){e!==void 0&&await t.connection.sendProgress(sk.WorkDoneProgress.type,e,{kind:"end",message:R0e(r,bA)})}o(U_t,"reportDone");var ok;async function q_t(e,t,r){let n=await Ah(e,r.textDocument,t),i=r.position;r.workDoneToken!==void 0&&await e.get(jr).connection.sendProgress(sk.WorkDoneProgress.type,r.workDoneToken,{kind:"begin",title:"GitHub Copilot Completions Panel",cancellable:!0,message:R0e(0,bA),percentage:0});let s=[],a=o(f=>(s.push(f),Promise.resolve()),"onCompletion"),l=r.partialResultToken;l!==void 0&&(a=o(async f=>{await e.get(jr).connection.sendProgress(hP.partialResult,l,{items:[f]})},"onCompletion"));let c=new B0e(e,r,a),u=e.get(yh);if(u.documents){let f=u.documents;await bH(i,f,c)}else{c.offset=n.offsetAt(i);let f=new R6(n,i,t,bA);await xH(e,f,c)}return c.error!==void 0?[null,{code:nn.InternalError,message:c.error}]:[{items:s},null]}o(q_t,"handleChecked");async function W_t(e,t,r){ok&&(ok.cancel(),ok.dispose()),ok=new qn.CancellationTokenSource;let n=ok.token,i=new cu([t,n]);try{return await q_t(e,i,r)}catch(s){if(n.isCancellationRequested&&!t.isCancellationRequested)return[null,{code:nn.ServerCancelled,message:"Request was superseded by a new request"}];throw s}}o(W_t,"handleCheckedWithAbort");var ZQe=st(r2e,W_t);d();d();d();function H_t(e){let t=e.get(Dn).getLoginReachabilityUrl(),r=e.get(Dn).getAPIUrl(),n=e.get(Dn).getLastKnownEndpointUrl("proxy","_ping"),i=e.get(Dn).getLastKnownEndpointUrl("api","_ping"),s=e.get(Dn).getLastKnownEndpointUrl("telemetry","_ping");function a(l){return new URL(l).host}return o(a,"label"),[{label:a(t),url:t},{label:a(r),url:r},{label:a(n),url:n},{label:a(i),url:i},{label:a(s),url:s}]}o(H_t,"urlsToCheck");async function eMe(e){let t=H_t(e).map(async({label:r,url:n})=>{let{message:i,status:s}=await V_t(e,n);return{label:r,url:n,message:i,status:s}});return await Promise.all(t)}o(eMe,"checkReachability");async function V_t(e,t){try{let r=await e.get(Nr).fetch(t,{}),n=r.status>=200&&r.status<400?"reachable":"unreachable";return{message:`HTTP ${r.status}`+(r.statusText?` - ${r.statusText}`:""),status:n}}catch(r){return{message:String(r),status:"unreachable"}}}o(V_t,"determineReachability");var Ud=tt(require("os")),D6=tt(require("tls"));async function tMe(e){return{sections:[j_t(e),$_t(),await Y_t(e),z_t(),K_t(e),await J_t(e)]}}o(tMe,"collectDiagnostics");function rMe(e){return e.sections.map(X_t).join(Ud.EOL+Ud.EOL)}o(rMe,"formatDiagnosticsAsMarkdown");function j_t(e){return{name:"Copilot",items:{Version:N3(e),Build:zf(e),Editor:d0(e)["Editor-Version"]}}}o(j_t,"collectCopilotSection");function $_t(){return{name:"Environment",items:{http_proxy:vA("http_proxy"),https_proxy:vA("https_proxy"),no_proxy:vA("no_proxy"),SSL_CERT_FILE:vA("SSL_CERT_FILE"),SSL_CERT_DIR:vA("SSL_CERT_DIR"),OPENSSL_CONF:vA("OPENSSL_CONF")}}}o($_t,"collectEnvironmentSection");function z_t(){return{name:"Node setup",items:{"Number of root certificates":D6.rootCertificates.length,"Operating system":Ud.type(),"Operating system version":Ud.release(),"Operating system architecture":Ud.arch(),NODE_OPTIONS:vA("NODE_OPTIONS"),NODE_EXTRA_CA_CERTS:vA("NODE_EXTRA_CA_CERTS"),NODE_TLS_REJECT_UNAUTHORIZED:vA("NODE_TLS_REJECT_UNAUTHORIZED"),"tls default min version":D6.DEFAULT_MIN_VERSION,"tls default max version":D6.DEFAULT_MAX_VERSION}}}o(z_t,"collectNodeSection");async function Y_t(e){let t={};try{let r=await e.get(qr).getToken();t["Send Restricted Telemetry"]=r.getTokenValue("rt")==="1"?"enabled":"disabled",t.Chat=r.envelope?.chat_enabled?"enabled":void 0,t["Content exclusion"]=r.envelope?.copilotignore_enabled?"enabled":"unavailable"}catch{}return Object.keys(t).forEach(r=>t[r]===void 0&&delete t[r]),{name:"Feature Flags",items:t}}o(Y_t,"collectFeatureFlagsSection");function K_t(e){let t=e.get(Nr);return{name:"Network Configuration",items:{"Proxy host":t.proxySettings?.host,"Proxy port":t.proxySettings?.port,"Kerberos SPN":t.proxySettings?.kerberosServicePrincipal,"Reject unauthorized":t.rejectUnauthorized?"enabled":"disabled",Fetcher:t.name}}}o(K_t,"collectNetworkConfigSection");async function J_t(e){return{name:"Reachability",items:Object.fromEntries((await eMe(e)).map(({label:r,status:n,message:i})=>[r,i]))}}o(J_t,"collectReachabilitySection");function vA(e){let t=Object.keys(process.env).find(r=>r.toLowerCase()===e.toLowerCase());return t?process.env[t]:void 0}o(vA,"findEnvironmentVariable");function X_t(e){return`## ${e.name}`+Ud.EOL+Ud.EOL+Object.keys(e.items).filter(t=>t!=="name").map(t=>`- ${t}: ${e.items[t]??"n/a"}`).join(Ud.EOL)}o(X_t,"formatSectionAsMarkdown");var Z_t=I.Object({});async function ekt(e){return[{report:rMe(await tMe(e))},null]}o(ekt,"handleDiagnosticsChecked");var nMe=st(Z_t,ekt);d();d();d();d();function iMe(e,t,r){function n(s,a,l){let c=new RegExp(`^(${a})+`,"g");return s.split(`
`).map(u=>{let f=u.replace(c,""),m=u.length-f.length;return l(m)+f}).join(`
`)}o(n,"replace");let i;if(e.tabSize===void 0||typeof e.tabSize=="string"?i=4:i=e.tabSize,e.insertSpaces===!1){let s=o(a=>n(a," ",l=>"	".repeat(Math.floor(l/i))+" ".repeat(l%i)),"r");t.displayText=s(t.displayText),t.completionText=s(t.completionText)}else if(e.insertSpaces===!0){let s=o(a=>n(a,"	",l=>" ".repeat(l*i)),"r");if(t.displayText=s(t.displayText),t.completionText=s(t.completionText),r){let a=o(l=>{if(l==="")return l;let c=l.split(`
`)[0],u=c.length-c.trimStart().length,f=u%i;if(f!==0&&u>0){let m=" ".repeat(f);return n(l,m,h=>" ".repeat((Math.floor(h/i)+1)*i))}else return l},"re");t.displayText=a(t.displayText),t.completionText=a(t.completionText)}}return t}o(iMe,"normalizeIndentCharacter");function oMe(e,t,r,n,i,s,a){let l=n.lineAt(i),c=t.map(u=>{let f=Co.range(Co.position(i.line,0),Co.position(i.line,i.character+u.suffixCoverage)),m="";if(s&&(u.completion=iMe(s,u.completion,l.isEmptyOrWhitespace)),l.isEmptyOrWhitespace&&(u.completion.displayNeedsWsOffset||u.completion.completionText.startsWith(l.text)))m=u.completion.completionText;else{let p=Co.range(f.start,i);m=n.getText(p)+u.completion.displayText}return{uuid:Tr(),insertText:m,range:f,uri:n.uri,index:u.completion.completionIndex,telemetry:u.telemetry,displayText:u.completion.displayText,position:i,offset:n.offsetAt(i),resultType:r,copilotAnnotations:u.copilotAnnotations}});if(r===2&&a!==void 0){let u=c.find(f=>f.index===a);if(u){let f=c.filter(m=>m.index!==a);c=[u,...f]}}return c}o(oMe,"completionsFromGhostTextResults");async function D0e(e,t,r,n,i={}){i={...i,positionBeforeApplyingEdits:r};let s=0;if(i.selectedCompletionInfo?.text){let h={range:i.selectedCompletionInfo.range,newText:i.selectedCompletionInfo.text};({textDocument:t,position:r}=LL(t,h.range.end,[h])),s=r.character-h.range.end.character}let a=await Rte(e,t,r,n,i);if(a.type!=="success")return a;let[l,c]=a.value;if(n?.isCancellationRequested)return{type:"canceled",reason:"after getGhostText",telemetryData:{telemetryBlob:a.telemetryBlob}};let u=i8e(e,t,r,c),f=oMe(e,l,c,t,r,i.formattingOptions,u);if(f.length===0)return{type:"empty",reason:"no completions in final result",telemetryData:a.telemetryData};let m=f.map(h=>{let{start:p,end:A}=h.range,x=qn.Range.create(p,qn.Position.create(A.line,A.character-s));return{...h,range:x}});return{...a,value:m}}o(D0e,"getInlineCompletionsResult");async function vH(e,t,r,n,i={}){tkt(e,t,r);let s=await D0e(e,t,r,n,i);return FEe(e,s)}o(vH,"getInlineCompletions");function tkt(e,t,r){let n=t.getText({start:{line:Math.max(r.line-1,0),character:0},end:r}),i=t.getText({start:r,end:{line:Math.min(r.line+2,t.lineCount-1),character:t.lineCount-1>r.line?0:r.character}});ZL.debug(e,`Requesting for ${t.uri} at ${r.line}:${r.character}`,`between ${JSON.stringify(n)} and ${JSON.stringify(i)}.`)}o(tkt,"logCompletionLocation");var fMe=tt(T0());d();var sMe=require("crypto");var P6=class{static{o(this,"LspClientContextProvider")}constructor(t,r,n){this.id=r,this.selector=n,this.resolver=new F0e(t,this.id)}},F0e=class{constructor(t,r){this.ctx=t;this.id=r;this.contextItems=[];this.update=!1}static{o(this,"LspClientContextResolver")}async resolve(t,r){let n=[];if(this.contextItems.length>0)n=this.contextItems;else if(this.update){let i=this.ctx.get(jr),s=(0,sMe.randomUUID)(),a=i.connection.onProgress(fP.type,s,l=>{n.push(...l)});r.onCancellationRequested(()=>{a?.dispose()});try{let l=await i.connection.sendRequest(fP.type,{providerId:this.id,data:this.data,textDocument:{uri:t.documentContext.uri,languageId:t.documentContext.languageId,version:t.documentContext.version},position:t.documentContext.position,partialResultToken:s},r);n.push(...l)}finally{a?.dispose()}}return this.reset(),Promise.resolve(n)}setContextItems(t){this.contextItems=t}clearContextItems(){this.contextItems=[]}setUpdate(t){this.update=t}clearData(){this.data=void 0}reset(){this.clearContextItems(),this.clearData(),this.setUpdate(!1)}};function F6(e,t,r){try{let n=e.get(ma),i=new Map;n.providers.forEach(s=>{i.set(s.id,s)}),t.providers.forEach(s=>{let a=i.get(s.id);a&&a instanceof P6&&a.resolver.setContextItems(s.contextItems)}),t.updating&&t.updating.length>0&&t.updating.forEach(s=>{let a=i.get(s);a&&a instanceof P6&&(a.resolver.setUpdate(!0),a.resolver.data=r)})}catch(n){Zn.error(e,"Failed to set context items on context providers",n)}}o(F6,"setContextItems");var P0e={nocase:!0,matchBase:!0,nonegate:!0,dot:!0};async function aMe(e,t,r){return t.map(i=>{try{if(typeof i=="string")return ca(r.uri,i,P0e);if(typeof i=="object"){let s=!0;return"language"in i&&(s&&=r.languageId==(i.language||"")),"scheme"in i&&(s&&=ca(r.uri,i.scheme||"",P0e)),"pattern"in i&&(s&&=ca(r.uri,i.pattern||"",P0e)),s}}catch{return!1}return!1}).some(Boolean)?10:0}o(aMe,"match");d();var rkt=I.Object({documents:I.Array(I.String()),basename:I.Optional(I.String()),options:I.Optional(I.Object({}))}),aC=class{constructor(t,r){this.documents=t;this.basename=r}static{o(this,"ExternalTestingCompletionDocuments")}};function nkt(e,t,r){return e.forceSet(aC,new aC(r.documents,r.basename||"")),["OK",null]}o(nkt,"handleTestingSetCompletionDocumentsChecked");var lMe=new Ar("setCompletionDocuments"),uMe=st(rkt,nkt);function IH(e,t,r,n){let i=e.get(aC);if(i.documents){let s=n?3:1;if(r&&i.basename&&i.basename.trim().length>0){lMe.debug(e,`Returning filtered completions by basename ${i.basename}`);let a=ikt(i,r);return a&&a.length>0?cMe(a,s,t):void 0}else return lMe.debug(e,"Returning completions for all pre-set documents"),cMe(i.documents,s,t)}}o(IH,"getTestCompletions");function cMe(e,t,r){return e.slice(0,t).map(n=>{let{cursorLine:i,lines:s,start:a,end:l}=EH(n,r);return{insertText:[i.slice(Math.min(a.character,r.character))].concat(s.slice(r.line+1)).join(`
`),range:{start:a,end:l}}})}o(cMe,"sliceAndMapCompletions");function ikt(e,t){return e.basename===_o(t)?e.documents||[]:[]}o(ikt,"getFilteredDocs");var dMe=I.Object({doc:I.Object({position:cl,insertSpaces:I.Optional(I.Boolean()),tabSize:I.Optional(I.Number()),uri:nT,version:I.Number()}),contextItems:I.Optional(MZ)}),ak;async function mMe(e,t,r,n){ak&&(ak.cancel(),ak.dispose()),ak=new qn.CancellationTokenSource;let i=new cu([t,ak.token]);r.contextItems&&F6(e,r.contextItems);let s=IH(e,r.doc.position,r.doc.uri,n);if(s)return[{completions:s.map(h=>({uuid:Tr(),text:h.insertText,displayText:h.insertText,position:r.doc.position,range:h.range,docVersion:r.doc.version}))},null];let a;try{a=await Ah(e,r.doc,i)}catch(m){if(!(m instanceof fMe.ResponseError))throw m;switch(m.code){case nn.CopilotNotAvailable:case nn.ContentModified:return[{completions:[]},null]}throw m}let l=r.doc.position,c=await vH(e,a,l,i,{isCycling:n,formattingOptions:r.doc});if(!c)return[{completions:[]},null];let u=e.get(Wo);for(let m of c)u.set(m.uuid,{...m,triggerCategory:"ghostText"});return[{completions:c.map(m=>({uuid:m.uuid,text:m.insertText,range:m.range,displayText:m.displayText,position:m.position,docVersion:a.version}))},null]}o(mMe,"handleGetCompletionsHelper");var hMe=st(dMe,(e,t,r)=>mMe(e,t,r,!1)),pMe=st(dMe,(e,t,r)=>mMe(e,t,r,!0));d();var gMe=tt(Y2()),N6=tt(T0());var okt=I.Object({doc:I.Object({position:cl,uri:nT,version:I.Number()}),panelId:I.String()});function skt(e,t,r,n,i){let s=CH(i.completionText),a=(0,gMe.SHA256)(s).toString();return e.get(Wo).set(a,{displayText:i.insertText,insertText:i.completionText,offset:n,uuid:a,range:r,uri:t.doc.uri,telemetry:i.telemetryData,index:i.choiceIndex,position:r.end,resultType:0,triggerCategory:"solution",copilotAnnotations:i.copilotAnnotations}),{panelId:t.panelId,range:r,completionText:i.completionText,displayText:i.insertText,score:i.meanProb,solutionId:a}}o(skt,"makeSolution");var N0e=class{constructor(t,r,n){this.ctx=t;this.params=r;this.range=n;this.offset=0}static{o(this,"SolutionHandler")}get service(){return this.ctx.get(jr)}onSolution(t){return this.service.connection.sendNotification(new N6.NotificationType("PanelSolution"),skt(this.ctx,this.params,this.range,this.offset,t))}onFinishedNormally(){return AMe(this.params.panelId,this.service)}onFinishedWithError(t){return this.service.connection.sendNotification(new N6.NotificationType("PanelSolutionsDone"),{status:"Error",message:t,panelId:this.params.panelId})}};async function AMe(e,t){return t.connection.sendNotification(new N6.NotificationType("PanelSolutionsDone"),{status:"OK",panelId:e})}o(AMe,"reportDone");var lk;async function akt(e,t,r){lk&&(lk.cancel(),lk.dispose()),lk=new qn.CancellationTokenSource;let n=new cu([t,lk.token]),i=r.doc.position,s=Co.range(i,i),a=new N0e(e,r,s),l=e.get(yh);if(l.documents){let c=l.documents;bH(i,c,a)}else{let c;try{c=await Ah(e,r.doc,n)}catch(f){if(!(f instanceof N6.ResponseError))throw f;switch(f.code){case nn.CopilotNotAvailable:case nn.ContentModified:return lkt(e,r)}throw f}a.offset=c.offsetAt(i);let u=new R6(c,i,n,bA);xH(e,u,a)}return[{solutionCountTarget:bA},null]}o(akt,"handleGetPanelCompletionsChecked");async function lkt(e,t){return await AMe(t.panelId,e.get(jr)),[{solutionCountTarget:0},null]}o(lkt,"produceEmptySolutions");var yMe=st(okt,akt);d();var ckt=I.Object({});function ukt(e,t,r){return[{version:e.get(co).getDisplayVersion(),buildType:zf(e),runtimeVersion:`node/${process.versions.node}`},null]}o(ukt,"handleGetVersionChecked");var CMe=st(ckt,ukt);d();var fkt=I.Object({changes:I.Array(I.String()),userCommits:I.Array(I.String()),recentCommits:I.Array(I.String()),workspaceFolder:I.Optional(I.String()),userLanguage:I.Optional(I.String())});function dkt(e){let t=["You are an AI programming assistant, helping a software developer to come up with the best git commit message for their code changes.","You excel in interpreting the purpose behind code changes to craft succinct, clear commit messages that adhere to the repository's guidelines.","","# First, think step-by-step:","1. Analyze the CODE CHANGES thoroughly to understand what's been modified.","2. Identify the purpose of the changes to answer the *why* for the commit messages, also considering the optionally provided RECENT USER COMMITS.","3. Review the provided RECENT REPOSITORY COMMITS to identify established commit message conventions. Focus on the format and style, ignoring commit-specific details like refs, tags, and authors.","4. Generate a thoughtful and succinct commit message for the given CODE CHANGES. It MUST follow the established writing conventions.","5. Remove any meta information like issue references, tags, or author names from the commit message. The developer will add them.","6. Now only show your message, wrapped with a single markdown ```text codeblock! Do not provide any explanations or details"];return e&&t.push(`Respond in the following locale: ${e}`),t.join(`
`)}o(dkt,"buildSystemMessage");function mkt(e,t){let r=[];return e.userCommits.length>0&&r.push("# RECENT USER COMMITS (For reference only, do not copy!):",e.userCommits.map(n=>`- ${n}`).join(`
`),""),e.recentCommits.length>0&&r.push("# RECENT REPOSITORY COMMITS (For reference only, do not copy!):",e.recentCommits.map(n=>`- ${n}`).join(`
`),""),r.push("# CODE CHANGES:",e.changes.join(`
`),"","<reminder>","Now generate a commit message that describes the CODE CHANGES.","DO NOT COPY commits from RECENT COMMITS, but use them as reference for the commit style.","ONLY return a single markdown code block, NO OTHER PROSE!","```text","commit message goes here","```","</reminder>"),t&&r.push("<custom-instructions>",t,"</custom-instructions>"),r.join(`
`)}o(mkt,"buildUserMessage");async function hkt(e,t,r){if(r.changes.length===0)return[null,{code:nn.InvalidRequest,message:"No changes provided"}];let n=new ga(e),i=await e.get(ti).getBestChatModelConfig([Qi.Gpt4oMini,Qi.Gpt4o,Qi.Gpt4]),s=[{uri:r.workspaceFolder?r.workspaceFolder:Gl(process.cwd())}],a=await T6.getInstructions(e,s,{includeCodeGenerationInstructions:!1,includeCommitMessageGenerationInstructions:!0,customIntroduction:"When generating the commit message, please use the following custom instructions provided by the user."}),l=[{role:"system",content:dkt(r.userLanguage)},{role:"user",content:mkt(r,a)}],c=await e.get(ar).updateExPValuesAndAssignments(),u=await n.fetchResponse({modelConfiguration:i,messages:l,uiKind:"conversationPanel",intentParams:{intent:!0},llmInteraction:gf.user("git-commit",Tr())},t,c);if(u.type!=="success")return[null,{code:nn.InternalError,message:"Failed to generate commit message"}];let f=u.value.match(/```text\n([\s\S]*?)\n```/);return[{commitMessage:f?f[1].trim():u.value.trim()},null]}o(hkt,"handleGitCommitGenerateChecked");var xMe=to(st(fkt,hkt));d();var bMe=iK.type,ck;function EMe(e){return{title:"Completion Accepted",command:M_,arguments:[e]}}o(EMe,"makeCommand");async function pkt(e,t,r){ck&&(ck.cancel(),ck.dispose());let n=r.context.triggerKind===1;ck=new qn.CancellationTokenSource;let i=ck.token,s=new cu([t,i]);r.contextItems&&F6(e,r.contextItems,r.data);let a=IH(e,r.position,r.textDocument.uri,n);if(a)return[{items:a.map(p=>({command:EMe(Tr()),...p}))},null];let l=await Ah(e,r.textDocument,s),c=r.position,u=await vH(e,l,c,s,{isCycling:n,selectedCompletionInfo:r.context.selectedCompletionInfo,formattingOptions:r.formattingOptions,data:r.data});if(!u)return t.isCancellationRequested?[null,{code:nn.RequestCancelled,message:"Request was canceled"}]:i.isCancellationRequested?[null,{code:nn.ServerCancelled,message:"Request was superseded by a new request"}]:[{items:[]},null];let f=e.get(Wo);for(let h of u)f.set(h.uuid,{...h,triggerCategory:"ghostText"});return[{items:u.map(h=>({command:EMe(h.uuid),insertText:h.insertText,range:h.range}))},null]}o(pkt,"handleChecked");var vMe=st(sQ,(e,t,r)=>pkt(e,t,r));d();var IMe=aK.type,uk;async function Akt(e,t,r){uk&&(uk.cancel(),uk.dispose());let n=r.context.triggerKind===1;uk=new qn.CancellationTokenSource;let i=uk.token,s=new cu([t,i]);r.contextItems&&F6(e,r.contextItems);let a=await Ah(e,r.textDocument,s),l=await D0e(e,a,r.position,s,{promptOnly:!0,isCycling:n,selectedCompletionInfo:r.context.selectedCompletionInfo,formattingOptions:r.formattingOptions,data:r.data});if(l.type!=="promptOnly")throw new Error(`Unexpected result type ${l.type}`);return[{prompt:l.prompt},null]}o(Akt,"handleChecked");var TMe=st(sQ,(e,t,r)=>Akt(e,t,r));d();d();function L0e(e){let t=e.indexOf("-----BEGIN CERTIFICATE-----")+27,r=e.indexOf("-----END CERTIFICATE-----"),n=30,i=e.substring(t,t+n)+"..."+e.substring(r-n,r-1);return L6(i)}o(L0e,"asReadableCert");function L6(e){return e.replace(/\s/g,"")}o(L6,"normalizeNewlines");var Ckt=I.Object({});async function xkt(e){return[{certificates:(await e.get(Oa).getAllRootCAs()).map(L6)},null]}o(xkt,"handleListCertificatesChecked");var wMe=st(Ckt,xkt);d();async function Ekt(e,t,r){let n=e.get(fh);if(r.textDocument.version===void 0)throw new Error("textDocument.version is undefined");let i=Hl(r.textDocument.uri);e.get(Pp).onUserPositionChange(i,new oo(r.position.line,r.position.character));let s=await n.handleNextEditRequest(i,r.textDocument.version,t);return s?[{edits:s.map(l=>({text:l.edit.text,textDocument:l.edit.textDocument,range:l.edit.range,command:{title:"Accept inline edit",command:M_,arguments:[l.id]}}))},null]:[{edits:[]},null]}o(Ekt,"handleChecked");var SMe=st(e2e,Ekt);d();var bkt=I.Object({uuid:I.String({minLength:1}),acceptedLength:I.Optional(I.Number({minimum:1}))});function vkt(e,t,r){let n=e.get(Wo),i=n.get(r.uuid);if(i){n.delete(r.uuid);let s=Ikt(r,i);P4(e,i.triggerCategory,i.insertText,i.offset,i.uri,i.telemetry,s,i.copilotAnnotations)}return["OK",null]}o(vkt,"notifyAcceptedChecked");function Ikt(e,t){return e.acceptedLength===void 0?{compType:"full"}:e.acceptedLength<t.insertText.length?{compType:"partial",acceptedLength:e.acceptedLength}:{compType:"full"}}o(Ikt,"getSuggestionStatus");var _Me=st(bkt,vkt);d();var Tkt=I.Object({uuids:I.Array(I.String())});function wkt(e,t,r){let n=e.get(Wo),i=r.uuids.flatMap(s=>n.get(s)??[]);if(i.length>0){let s=i[0];for(let l of r.uuids)n.delete(l);let a=i.map(l=>({completionText:l.displayText,completionTelemetryData:l.telemetry}));MM(e,"ghostText",s.offset,s.uri,a),e.get(Z0).resetState()}return["OK",null]}o(wkt,"notifyRejectedChecked");var kMe=st(Tkt,wkt);d();var Skt=I.Object({uuid:I.String({minLength:1})});function _kt(e,t,r){let i=e.get(Wo).get(r.uuid);return i&&eQ(e,i.triggerCategory,i),["OK",null]}o(_kt,"notifyShownChecked");var BMe=st(Skt,_kt);d();var kkt=VEe;function Bkt(e,t,r){let n=e.get(ma),i={unregistered:[],registered:[]};return r.providers.forEach(s=>{try{let a=new P6(e,s.id,s.selector);n.registerContextProvider(a),i.registered.push(s.id)}catch{i.unregistered.push(s.id)}}),[i,null]}o(Bkt,"registerContextProviders");var RMe=st(kkt,Bkt);d();d();var DMe=require("net");function Q0e(e){return e.HTTPS_PROXY||e.https_proxy||e.HTTP_PROXY||e.http_proxy}o(Q0e,"getProxyFromEnvironment");function Rkt(e){return e.NODE_TLS_REJECT_UNAUTHORIZED!=="0"}o(Rkt,"getRejectUnauthorizedFromEnvironment");var PMe=I.Object({proxy:I.Optional(I.String()),proxyStrictSSL:I.Optional(I.Boolean()),proxyAuthorization:I.Optional(I.String()),proxyKerberosServicePrincipal:I.Optional(I.String())});function FMe(e){let r={proxy:Q0e(e),proxyStrictSSL:Rkt(e)},n=e.GH_COPILOT_KERBEROS_SERVICE_PRINCIPAL??e.GITHUB_COPILOT_KERBEROS_SERVICE_PRINCIPAL??e.AGENT_KERBEROS_SERVICE_PRINCIPAL;return n&&(r.proxyKerberosServicePrincipal=n),r}o(FMe,"getHttpSettingsFromEnvironment");function fk(e){(0,DMe.isIPv6)(e)?e="https://["+e+"]":/:\/\//.test(e)||(e=`https://${e}`);let{hostname:t,port:r,username:n,password:i}=new URL(e);return{host:t,port:Dkt(r),proxyAuth:Pkt(n,i)}}o(fk,"proxySettingFromUrl");function Dkt(e){if(!e)return 80;let t=Number(e);if(isNaN(t))throw new TypeError("Invalid proxy port");return t}o(Dkt,"parsePort");function Pkt(e,t){return!e||!t?"":`${decodeURIComponent(e)}:${decodeURIComponent(t)}`}o(Pkt,"getAuth");d();var O0e=I.Object({host:I.String(),port:I.Number(),username:I.Optional(I.String()),password:I.Optional(I.String()),rejectUnauthorized:I.Optional(I.Boolean())}),Fkt=I.Object({uri:I.Optional(I.String())}),Nkt=I.Object({showEditorCompletions:I.Optional(I.Boolean()),enableAutoCompletions:I.Optional(I.Boolean()),delayCompletions:I.Optional(I.Boolean()),filterCompletions:I.Optional(I.Boolean())}),LMe=I.Object({github:I.Optional(I.Object({copilot:I.Optional(I.Object({}))})),"github-enterprise":I.Optional(Fkt),http:I.Optional(PMe),telemetry:I.Optional(I.Object({telemetryLevel:I.Optional(I.String())}))}),U0e=Object.keys(LMe.properties).filter(e=>e!=="github"),Lkt=I.Intersect([LMe,Nkt]),q0e=I.Object({url:I.Optional(I.String())}),Qkt=I.Object({settings:I.Optional(I.Union([I.Object({}),I.Array(I.Unknown(),{maxItems:0})])),networkProxy:I.Optional(O0e),authProvider:I.Optional(q0e)}),NMe=Ds.Compile(Qkt),M0e=Ds.Compile(Lkt);async function QMe(e,t){if(!NMe.Check(t))throw new cc(NMe.Errors(t));let r=Array.isArray(t.settings)?{}:t.settings;r&&W0e(e,r),t.networkProxy!==void 0&&TH(e,t.networkProxy),t.authProvider&&e.get(Dn).updateBaseUrl(e,t.authProvider.url),await dk(e,r)}o(QMe,"notifyChangeConfiguration");function W0e(e,t){for(let i of M0e.Errors(t)){let s=i.path.split("/")?.[1];Af.warn(e,`Invalid ${i.path.slice(1).replace(/\//g,".")} setting:`,i.message),delete t[s]}if(!M0e.Check(t))throw new cc(M0e.Errors(t));let r=e.get(mf);r.setConfig(kt.ShowEditorCompletions,t.showEditorCompletions),r.setConfig(kt.DelayCompletions,t.delayCompletions),r.setConfig(kt.EnableAutoCompletions,t.enableAutoCompletions),r.setConfig(kt.FilterCompletions,t.filterCompletions);let n=t["github-enterprise"];n&&e.get(Dn).updateBaseUrl(e,n.uri),t.http&&G0e(e,t.http),t.github?.copilot&&Mkt(e,t.github.copilot)}o(W0e,"applySettingsToConfiguration");function Mkt(e,t){let r=e.get(mf);for(let n of Object.values(kt)){let i=Zye(t,n);r.setConfig(n,i)}}o(Mkt,"applyCopilotConfiguration");function G0e(e,t){let r=e.get(mf),n=e.get(Nr);if(t.proxy===void 0&&(t=FMe(r.env)),n.rejectUnauthorized=t?.proxyStrictSSL,!t.proxy){n.proxySettings=void 0;return}try{n.proxySettings=fk(t.proxy),t.proxyAuthorization&&(n.proxySettings.proxyAuth=t.proxyAuthorization),t.proxyKerberosServicePrincipal&&(n.proxySettings.kerberosServicePrincipal=t.proxyKerberosServicePrincipal)}catch(i){if(!(i instanceof TypeError))throw i;Af.warn(e,"Invalid proxy URL",t.proxy,i),n.proxySettings=void 0}}o(G0e,"applyHttpConfiguration");function TH(e,t){if(!t){e.get(Nr).proxySettings=void 0,e.get(Nr).rejectUnauthorized=void 0;return}let r;t.username&&(t.password?r=t.username+":"+t.password:r=t.username),e.get(Nr).proxySettings={host:t.host,port:t.port,proxyAuth:r},e.get(Nr).rejectUnauthorized=t.rejectUnauthorized??!0}o(TH,"applyNetworkProxyConfiguration");async function dk(e,t){if(!e.get(ts).getCapabilities().redirectedTelemetry){let r=(t?.telemetry?.telemetryLevel??"all")==="all";await y5(e,"agent",r)}await e.get(qr).primeToken()}o(dk,"initializePostConfigurationDependencies");var MMe=I.Object({name:I.String(),version:I.String(),readableName:I.Optional(I.String())}),Okt=I.Object({editorInfo:MMe,editorPluginInfo:MMe,editorConfiguration:I.Optional(I.Object({})),networkProxy:I.Optional(O0e),authProvider:I.Optional(q0e),redirectTelemetry:I.Optional(I.Boolean()),options:I.Optional(I.Object({}))});async function Ukt(e,t,r){e.get(an).setEditorAndPluginInfo(r.editorPluginInfo,r.editorInfo),RW(e,["setEditorInfo is deprecated. Use initializationOptions for editorInfo and editorPluginInfo","and workspace/didChangeConfiguration for editorConfiguration."]),r.editorConfiguration&&W0e(e,r.editorConfiguration);let n=e.get(Nr),i=e.get(mf).env,s=Q0e(i);if(r.editorInfo.name==="VisualStudio"){if(s)n.proxySettings=fk(s);else if(r.networkProxy){TH(e,r.networkProxy);let a=i.GH_COPILOT_KERBEROS_SERVICE_PRINCIPAL??i.GITHUB_COPILOT_KERBEROS_SERVICE_PRINCIPAL??i.AGENT_KERBEROS_SERVICE_PRINCIPAL;n.proxySettings&&a&&(n.proxySettings.kerberosServicePrincipal??=a)}}else r.networkProxy?TH(e,r.networkProxy):s&&(n.proxySettings=fk(s));return r.authProvider&&e.get(Dn).updateBaseUrl(e,r.authProvider.url),await dk(e,r.editorConfiguration),["OK",null]}o(Ukt,"handleSetEditorInfoChecked");var OMe=st(Okt,Ukt);d();var qkt=I.Object({options:I.Optional(I.Object({}))});async function Wkt(e,t,r){let n=e.get(wn).pendingSignIn?.status;if(n===void 0)return[null,{code:nn.InvalidRequest,message:"No pending sign in"}];let i;try{return i=await n,[i,null]}catch(s){return[null,{code:nn.DeviceFlowFailed,message:String(s)}]}finally{e.get(wn).pendingSignIn=void 0}}o(Wkt,"handleSignInConfirmChecked");var UMe=st(qkt,Wkt);d();var Gkt=I.Object({options:I.Optional(I.Object({})),githubAppId:I.Optional(I.String())});async function Hkt(e,t,r){try{let n=await e.get(wn).checkAndUpdateStatus(e,{githubAppId:r.githubAppId});if(n.status==="OK")return[{status:"AlreadySignedIn",user:n.user},null];let i=r.githubAppId??e.get(Hs).findAppIdToAuthenticate(),s=await e.get(d4).getToken(e,i),a=s.waitForAuth.then(async l=>(e.get(Hs).githubAppId=i,await e.get(wn).setAuthRecord(e,{...l,githubAppId:i}),await e.get(wn).checkAndUpdateStatus(e,{freshSignIn:!0})));return e.get(wn).pendingSignIn={verificationUri:s.verification_uri,status:a},[{status:"PromptUserDeviceFlow",userCode:s.user_code,verificationUri:s.verification_uri,expiresIn:s.expires_in,interval:s.interval,command:{command:GW,title:"Sign in with GitHub",arguments:[]}},null]}catch(n){if(!(n instanceof Ms))throw n;return[null,{code:nn.DeviceFlowFailed,message:n.message}]}}o(Hkt,"handleSignInInitiateChecked");var H0e=st(Gkt,Hkt);d();var Vkt=I.Object({githubToken:I.String({minLength:1}),user:I.String({minLength:1}),githubAppId:I.Optional(I.String({minLength:1}))});async function jkt(e,t,r){let n=r.githubToken,i=r.user,s=r.githubAppId;return await e.get(wn).setAuthRecord(e,{user:i,oauth_token:n,githubAppId:s}),[await e.get(wn).checkAndUpdateStatus(e),null]}o(jkt,"handleSignInWithGithubTokenChecked");var qMe=st(Vkt,jkt);d();var $kt=I.Object({options:I.Optional(I.Object({}))});async function zkt(e,t,r){return await e.get(wn).deleteAuthRecord(e),[await e.get(wn).checkAndUpdateStatus(e),null]}o(zkt,"handleSignOutChecked");var WMe=st($kt,zkt);d();var Ykt=I.Object({});function Kkt(e,t,r){return T4e(e),["OK",null]}o(Kkt,"handleTelemetryAuthNotifyDismissedChecked");var GMe=st(Ykt,Kkt);d();var Jkt=I.Object({authSource:I.Union([I.Literal("toast"),I.Literal("goldbar"),I.Literal("menu")])});function Xkt(e,t,r){return I4e(e,r.authSource),["OK",null]}o(Xkt,"handleTelemetryAuthNotifyShownChecked");var HMe=st(Jkt,Xkt);d();var Zkt=I.Object({authType:I.Union([I.Literal("editorAuth"),I.Literal("deviceFlow")])});function eBt(e,t,r){return bL(e,r.authType),["OK",null]}o(eBt,"handleTelemetryGitHubLoginSuccessChecked");var VMe=st(Zkt,eBt);d();var tBt=I.Object({authSource:I.Union([I.Literal("toast"),I.Literal("goldbar"),I.Literal("menu")]),authType:I.Union([I.Literal("editorAuth"),I.Literal("deviceFlow")])});function rBt(e,t,r){return EL(e,r.authSource,r.authType),["OK",null]}o(rBt,"handleTelemetryNewGitHubLoginChecked");var jMe=st(tBt,rBt);d();var nBt=I.Object({transaction:I.Optional(I.String()),stacktrace:I.Optional(I.String()),properties:I.Optional(I.Record(I.String(),I.String())),platform:I.Optional(I.String()),exception_detail:I.Optional(I.Array(I.Object({type:I.Optional(I.String()),value:I.Optional(I.String()),stacktrace:I.Optional(I.Array(I.Object({filename:I.Optional(I.String()),lineno:I.Optional(I.Union([I.String(),I.Integer()])),colno:I.Optional(I.Union([I.String(),I.Integer()])),function:I.Optional(I.String()),in_app:I.Optional(I.Boolean())})))})))}),V0e=class extends Error{constructor(r,n){super(r);this.code=n;this.name="AgentEditorError"}static{o(this,"AgentEditorError")}};function iBt(e,t,r){let n=e.get(co),i=e.get(an).getEditorPluginInfo(),s=r.properties||{},a;r.platform&&r.exception_detail&&cg.has(i.name)&&(a=Object.assign({rollup_id:"auto",context:fK(e),sensitive_context:{},deployed_to:n.getBuildType(),platform:r.platform,exception_detail:r.exception_detail},cg.get(i.name)),r.transaction&&(a.transaction=r.transaction),n.getBuildType()!=="dev"&&(a.release=`${a.app}@${i.version}`));let l=new V0e(r.stacktrace??"N/A",i.name);return l.stack=void 0,Qo(e,l,void 0,s,a),["OK",null]}o(iBt,"handleTelemetryExceptionChecked");var $Me=st(nBt,iBt);d();d();d();d();d();d();var zMe=tt(require("tls"));var wH=class{static{o(this,"RootCertificateConfigurator")}#e;constructor(t){this._certificateReader=t.get(Oa)}async enhanceProxySettings(t){let r=await this.getCertificates();return{...t,ca:r}}async getCertificates(){let t=await this._certificateReader.getAllRootCAs();if(t.length!==0)return t}async createSecureContext(){let t=await this._certificateReader.getAllRootCAs(),n=zMe.createSecureContext({_vscodeAdditionalCaCerts:t}),i=n.context;for(let s of t)i.addCACert(s);return{secureContext:n,certs:t}}async applyToRequestOptions(t){this.#e??=this.createSecureContext();let r=await this.#e;t.secureContext=r.secureContext,t.ca=r.certs,t.cert=r.certs}};d();var H6=tt(cUe(),1),ukn={ALPN_HTTP2:H6.default.ALPN_HTTP2,ALPN_HTTP2C:H6.default.ALPN_HTTP2C,ALPN_HTTP1_1:H6.default.ALPN_HTTP1_1,ALPN_HTTP1_0:H6.default.ALPN_HTTP1_0},{fetch:fkn,context:uUe,reset:dkn,noCache:mkn,h1:hkn,keepAlive:pkn,h1NoCache:gkn,keepAliveNoCache:Akn,cacheStats:ykn,clearCache:Ckn,offPush:xkn,onPush:Ekn,createUrl:bkn,timeoutSignal:vkn,Body:Ikn,Headers:fUe,Request:Tkn,Response:wkn,AbortController:$H,AbortError:zH,AbortSignal:dUe,FetchBaseError:Skn,FetchError:_kn,ALPN_HTTP2:kkn,ALPN_HTTP2C:Bkn,ALPN_HTTP1_1:Rkn,ALPN_HTTP1_0:Dkn}=H6.default;var V6=class extends Nr{constructor(r){super();this.ctx=r;this.name="HelixFetcher";this.createSocketFactory=o((r,n)=>async i=>{i.rejectUnauthorized=n,i.timeout=r.connectionTimeoutInMs,await this.certificateConfigurator.applyToRequestOptions(i);let s=await this.certificateConfigurator.enhanceProxySettings(r);return await this.proxySocketFactory.createSocket(i,s)},"createSocketFactory");this.fetchApi=this.createFetchApi(r),this.certificateConfigurator=new wH(r),this.proxySocketFactory=r.get(og)}static{o(this,"HelixFetcher")}set proxySettings(r){this._proxySettings=r,this.fetchApi=this.createFetchApi(this.ctx)}get proxySettings(){return this._proxySettings}set rejectUnauthorized(r){super.rejectUnauthorized=r,this.fetchApi=this.createFetchApi(this.ctx)}get rejectUnauthorized(){return super.rejectUnauthorized}createFetchApi(r){let n=r.get(co);return super.rejectUnauthorized===!1&&(process.env.NODE_TLS_REJECT_UNAUTHORIZED="0"),uUe({userAgent:`GithubCopilot/${n.getVersion()}`,socketFactory:this._proxySettings?this.createSocketFactory(this._proxySettings,super.rejectUnauthorized):void 0,rejectUnauthorized:super.rejectUnauthorized})}async fetch(r,n){let i=n.signal,s=!1;if(n.timeout){let u=this.makeAbortController();setTimeout(()=>{u.abort(),s=!0},n.timeout),n.signal?.addEventListener("abort",()=>u.abort()),n.signal?.aborted&&u.abort(),i=u.signal}let a={...n,body:n.body?n.body:n.json,signal:i};await this.certificateConfigurator.applyToRequestOptions(a);let l=await this.certificateConfigurator.getCertificates();this.fetchApi.setCA(l);let c=await this.fetchApi.fetch(r,a).catch(u=>{throw s?new B7(`Request to <${r}> timed out after ${n.timeout}ms`,u):u});return new K2(c.status,c.statusText,c.headers,()=>c.text(),()=>c.body)}disconnectAll(){return this.fetchApi.reset()}makeAbortController(){return new $H}};d();d();var YH=class extends gh{constructor(r=[]){super();this._agents=r}static{o(this,"TestRemoteAgentRegistry")}async agents(){return this._agents}};d();var KH=class extends qa{constructor(){super(...arguments);this.prompts=[];this.fetchResults=[];this.diffs=[]}static{o(this,"TestConversationInspector")}shouldInspect(){return!0}async inspectPrompt(r){this.shouldInspect()&&this.prompts.push(r)}async inspectFetchResult(r){this.shouldInspect()&&this.fetchResults.push(r)}async documentDiff(r){this.shouldInspect()&&this.diffs.push(r)}};d();var Ice=class extends Oa{constructor(r){super();this.certificates=r}static{o(this,"TestCertificateReader")}async getAllRootCAs(){return this.certificates}},hUe=o(e=>new Ice(e),"createTestCertificateReader");function Sce(e,t,r){let n=new Tce;n.set("x-github-request-id","1");for(let[i,s]of Object.entries(r||{}))n.set(i,s);return new K2(e,"status text",n,()=>Promise.resolve(t??""),()=>null)}o(Sce,"createFakeResponse");function pUe(e,t,r){let n;return typeof t=="string"?n=t:n=JSON.stringify(t),Sce(e,n,Object.assign({"content-type":"application/json"},r))}o(pUe,"createFakeJsonResponse");var xk=class extends Nr{constructor(){super(...arguments);this.name="FakeFetcher"}static{o(this,"FakeFetcher")}disconnectAll(){throw new Error("Method not implemented.")}makeAbortController(){return new wce}};var JH=class extends xk{static{o(this,"NoFetchFetcher")}fetch(t,r){throw new Error("NoFetchFetcher does not support fetching")}};var Tce=class{constructor(){this.headers=new Map}static{o(this,"FakeHeaders")}append(t,r){this.headers.set(t.toLowerCase(),r)}delete(t){this.headers.delete(t.toLowerCase())}get(t){return this.headers.get(t.toLowerCase())??null}has(t){return this.headers.has(t.toLowerCase())}set(t,r){this.headers.set(t.toLowerCase(),r)}entries(){return this.headers.entries()}keys(){return this.headers.keys()}values(){return this.headers.values()}[Symbol.iterator](){return this.headers.entries()}},wce=class{constructor(){this.signal={aborted:!1,addEventListener:o(()=>{},"addEventListener"),removeEventListener:o(()=>{},"removeEventListener")}}static{o(this,"FakeAbortController")}abort(){this.signal.aborted=!0}};d();function YDt(e){return{modelId:"gpt-3.5-turbo",modelFamily:e,uiName:"Test GPT",maxRequestTokens:6144,maxResponseTokens:2048,baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:"cl100k_base",isExperimental:!1,stream:!0,toolCalls:!0}}o(YDt,"fakeChatModelConfiguration");function KDt(e){return{modelId:"embedding-test",modelFamily:e,maxBatchSize:1,maxTokens:50,tokenizer:"cl100k_base"}}o(KDt,"fakeEmbeddingModelConfiguration");var XH=class extends ti{static{o(this,"TestModelConfigurationProvider")}async getBestChatModelConfig(t){let r=t[0];return YDt(r)}async getFirstMatchingEmbeddingModelConfiguration(t){return KDt(t)}};d();var ZH=class extends Vl{constructor(){super(...arguments);this.openedUrls=[];this.opened=new rI}static{o(this,"TestUrlOpener")}async open(r){this.openedUrls.push(r),this.opened.resolve()}},eV=class extends ml{constructor(){super();this.sentMessages=[];this.warningPromises=[]}static{o(this,"TestNotificationSender")}performDismiss(){this.actionToPerform="DISMISS"}performAction(r){this.actionToPerform=r}showWarningMessage(r,...n){this.sentMessages.push(r);let i;if(this.actionToPerform)if(this.actionToPerform==="DISMISS")i=Promise.resolve(void 0);else{let s=n.find(a=>a.title===this.actionToPerform);i=s?Promise.resolve(s):Promise.resolve(void 0)}else i=n?Promise.resolve(n[0]):Promise.resolve(void 0);return this.warningPromises.push(i),i}async waitForWarningMessages(){await Promise.all(this.warningPromises)}};d();function gUe(e,t,r,n){return T1.create(L2e(e),t,r,n,t)}o(gUe,"createTextDocument");var _ce=class extends Vr{constructor(r){super(r);this._openTextDocuments=[];this._notebookDocuments=new Map;this._workspaceFolders=[];this._focusSubscribers=[];this._changeSubscribers=[];this._openSubscribers=[];this._closeSubscribers=[];this.onDidFocusTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._focusSubscribers.push(s),{dispose:o(()=>{this._focusSubscribers=this._focusSubscribers.filter(a=>a!==s)},"dispose")}},"onDidFocusTextDocument");this.onDidChangeTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._changeSubscribers.push(s),{dispose:o(()=>{this._changeSubscribers=this._changeSubscribers.filter(a=>a!==s)},"dispose")}},"onDidChangeTextDocument");this.onDidOpenTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._openSubscribers.push(s),{dispose:o(()=>{this._openSubscribers=this._openSubscribers.filter(a=>a!==s)},"dispose")}},"onDidOpenTextDocument");this.onDidCloseTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._closeSubscribers.push(s),{dispose:o(()=>{this._closeSubscribers=this._closeSubscribers.filter(a=>a!==s)},"dispose")}},"onDidCloseTextDocument")}static{o(this,"SimpleTestTextDocumentManager")}init(r){this._workspaceFolders=r.map(n=>({uri:n.uri,name:n.name??_o(n.uri)}))}async readTextDocumentFromDisk(r){return super.readTextDocumentFromDisk(r)}getOpenTextDocuments(){return this._openTextDocuments}setTextDocument(r,n,i){let s=gUe(r,n,0,i);return this._openTextDocuments.push(s),s}updateTextDocument(r,n){let i=this._openTextDocuments.findIndex(a=>a.uri===r.toString());if(i<0)throw new Error("Document not found");let s=this._openTextDocuments[i];this._openTextDocuments[i]=gUe(r,s.clientLanguageId,s.version+1,n)}setNotebookDocument(r,n){this._notebookDocuments.set(r.uri.replace(/#.*/,""),n)}findNotebook({uri:r}){return this._notebookDocuments.get(r.replace(/#.*/,""))}getWorkspaceFolders(){return this._workspaceFolders}emitEvent(r){switch(r.eventName){case"focus":this._focusSubscribers.forEach(n=>n(r.args));break;case"change":this._changeSubscribers.forEach(n=>n(r.args));break;case"open":this._openSubscribers.forEach(n=>n(r.args));break;case"close":this._closeSubscribers.forEach(n=>n(r.args));break}}},tV=class extends _ce{constructor(r){super(r);this.contents=new Map}static{o(this,"TestTextDocumentManager")}async readTextDocumentFromDisk(r){return this.contents.get(r)}setDiskContents(r,n){this.contents.set(r,n)}};var kce=class extends _a{static{o(this,"NullLog")}logIt(...t){}};function JDt(e){let t=new Gv;return t.set(Cp,e),t.set(V3,e),t.set(co,new co),t.set(jf,new jf({debug:!1,verboseLogging:!1,testMode:!0,simulation:!1})),t.set(Oa,hUe([])),t.set(og,Cq(t)),t.set(tp,new tp),t.set(wm,new PP),t.set(ju,new ju),t.set(up,new up),t.set(dp,new dp),t.set(Ul,new Ul(t,"tid=test",!0)),t.set(ys,new ys),t.set(ml,new eV),t.set(Vl,new ZH),t.set(hp,new FI),t.set(_a,new kce),t.set(Pc,new Pc),t.set(ms,new ms("test-session","test-machine")),t.set(Dn,new Y8(t)),t.set(Pu,new Pu),y5(t,"copilot-test",!0),t.set(ar,new ar(t)),t.set(Vu,new Vu),t.set(Om,new Om),t.set(Dm,new Tv),t.set(qr,new fC("tid=test")),t.set(Li,new qP),t.set(yo,new yo),t.set(jm,FM(t)),t.set(Rm,new Rm),t.set(Z0,new Z0),t.set(Ad,new Ad),t.set(G1,G1.default),t.set(cf,new cf),t.set(Xf,new Xf(t,!1)),t.set(Hs,new Hs),t.set(dn,new dn(t)),t.set(Gu,new vL),t.set(Fa,new Fa),t.set(ma,SM(t,async(r,n,i)=>n.find(s=>s==="*")?1:n.find(s=>typeof s!="string"&&s.language===i.languageId)?10:0)),XDt(t),t.set(Mm,new Mm(t)),t.set(ts,new ts),t}o(JDt,"_createBaselineContext");function XDt(e){e.set(Hi,new Hi(e)),e.set(Ls,new Ls(e)),e.set(i0,new i0(e)),e.set(Wa,new Wa),e.set(kl,new kl),e.set(qa,new KH),e.set(Od,new Od(e,[])),e.set(ti,new XH),e.set(gh,new YH),e.set(dg,new dg(e)),e.set(eC,new eC),e.set(Zs,new Zs(e)),e.set(n0,new n0),e.set(pf,new pf)}o(XDt,"registerConversation");function AUe(){let e=JDt(new V3(new wv,new Map));return e.set(Nr,new JH),e.set(an,new Bce),e.set(Vr,new tV(e)),e.set(ko,new pv),e.set(pl,new pl(e)),e.set(Ua,new Ua(e)),e.set(Zl,new bq(e)),EW(e),e}o(AUe,"createLibTestingContext");var Bce=class extends an{constructor(r={name:"lib-tests-plugin",version:"2"},n={name:"lib-tests-editor",version:"1"},i=[{name:"lib-tests-related-plugin",version:"3"}]){super();this.editorPluginInfo=r;this.editorInfo=n;this.relatedPluginInfo=i}static{o(this,"LibTestsEditorInfo")}getEditorInfo(){return this.editorInfo}getEditorPluginInfo(){return this.editorPluginInfo}getRelatedPluginInfo(){return this.relatedPluginInfo}};var CUe=tt(require("fs"));var yUe=`${process.env.HOME}/.copilot-testing-gh-token`,rV,nV;async function xUe(e){e.forceSet(qr,new fC(await ZDt()))}o(xUe,"setTestingCopilotTokenManager");var ZDt=o(async()=>{if(process.env.GH_COPILOT_IDE_TOKEN)return process.env.GH_COPILOT_IDE_TOKEN;let e=process.env.GH_COPILOT_TOKEN??"";if(/=/.test(e))return e;if(nV)return nV;let t=e||process.env.GITHUB_COPILOT_TOKEN||await ePt(),r=AUe(),n=new V6(r);return r.forceSet(Nr,n),nV=MP(r,{token:t}).then(i=>{if(i.kind==="success")return i.envelope.token;throw new Ms('Could not fetch testing Copilot token. Try running "npm run get_token" again?')}),nV},"getCopilotToken");async function ePt(){try{rV??=(await CUe.promises.readFile(yUe)).toString().trim()}catch{rV??=process.env.GITHUB_TOKEN??""}if(!rV)throw new Error(`Tests: either GH_COPILOT_IDE_TOKEN, GH_COPILOT_TOKEN, or GITHUB_TOKEN must be set, or there must be a GitHub token from an app with access to Copilot in ${yUe}. Run "npm run get_token" to get one.`);return rV}o(ePt,"getTestingGitHubToken");function EUe(e){return new p1({token:`test token ${Tr()}`,refresh_in:0,expires_at:0,...e})}o(EUe,"createTestCopilotToken");var fC=class extends qr{constructor(r){super();this.token=r;this.wasReset=!1}static{o(this,"FixedCopilotTokenManager")}async getGitHubSession(){return Promise.resolve({token:`copilot-client test oauth token ${Tr()}`})}async getToken(){return EUe({token:this.token})}resetToken(){this.wasReset=!0}async checkCopilotToken(){return{status:"OK"}}};var iV=class extends wn{static{o(this,"NotAuthManager")}constructor(){super(null,null)}getAuthRecord(){return Promise.resolve(void 0)}async checkAndUpdateStatus(t,r){return{status:"NotSignedIn"}}},oV=class extends wn{static{o(this,"AlwaysAuthManager")}constructor(){super(null,new fC("tid=valid-copilot-token"))}getAuthRecord(){return Promise.resolve({user:"user",oauth_token:"",githubAppId:""})}};var tPt=I.Object({options:I.Optional(I.Object({}))});async function rPt(e,t,r){return e.forceSet(wn,new oV),e.get(qr).resetToken(),e.get(Li).forceNormal(),await new Promise(n=>setTimeout(n,0)),["OK",null]}o(rPt,"handleTestingAlwaysAuthChecked");var bUe=st(tPt,rPt);d();var nPt=I.Object({messages:I.Array(I.Object({role:I.Enum(Tl),content:I.String(),name:I.Optional(I.String())})),modelFamily:I.Optional(I.Enum(Qi)),stop:I.Optional(I.Array(I.String())),conversationOptions:I.Optional(I.Object({maxResponseTokens:I.Optional(I.Number()),temperature:I.Optional(I.Number())}))});async function iPt(e,t,r){let n=new ga(e),i=await e.get(ti).getBestChatModelConfig([r.modelFamily??Qi.Gpt35turbo]),s=await Ka(e,"","");return[await n.fetchResponse({modelConfiguration:i,messages:r.messages,uiKind:"conversationIntegrationTest",stop:r.stop,intentParams:{intent:!0},llmInteraction:gf.user("test",Tr())},t,s),null]}o(iPt,"handleChatMLChecked");var vUe=to(st(nPt,iPt));d();d();var IUe=require("crypto"),TUe=require("http"),wUe=require("stream"),SUe=require("util"),$6=tt(xp());var oPt=9e4,sPt=new $6.ProtocolRequestType("copilot/fetch"),aPt=new $6.ProtocolRequestType("copilot/fetchCancel"),lPt=new $6.ProgressType,cPt=new $6.ProtocolRequestType("copilot/fetchDisconnectAll"),xg=class extends Error{static{o(this,"EditorFetcherError")}constructor(t){super(t),this.name="EditorFetcherError"}},j6=class extends Nr{constructor(r){super();this.ctx=r;this.name="EditorFetcher";this.userAgent=`GithubCopilot/${r.get(co).getVersion()}`}static{o(this,"EditorFetcher")}disconnectAll(){return this.ctx.get(jr).connection.sendRequest(cPt,{})}makeAbortController(){return new $H}async fetch(r,n){n.headers||={},n.headers["user-agent"]=this.userAgent;let{signal:i}=n,s=this.ctx.get(jr).connection,a=(0,IUe.randomUUID)(),l=new qn.CancellationTokenSource,c=new wUe.PassThrough,u=o(()=>{s.sendRequest(aPt,{workDoneToken:a})},"sendCancelRequest"),f=o(()=>{c.emit("error",new zH("EditorFetch request aborted")),c.end()},"destroyBodyStream");if(i){if(!(i instanceof dUe))throw new xg("EditorFetcher received unexpected abort signal");if(i.aborted)throw new zH("EditorFetcher signal aborted before fetch");i.addEventListener("abort",u)}s.onProgress(lPt,a,h=>{h.kind==="end"?(i?.removeEventListener("abort",u),i?.removeEventListener("abort",f),h.error&&c.emit("error",new xg(h.error)),c.end()):h.kind==="report"&&c.write(h.chunk)});let m=await new Promise((h,p)=>{let A=setTimeout(()=>{p(new xg("Request timed out from lsp server"))},n.timeout??oPt),x=o(()=>{p(new zH("EditorFetcher request aborted"))},"rejectIfAborted");i?.addEventListener("abort",x),s.sendRequest(sPt,fPt(r,a,n),l.token).then(h).catch(E=>{let v="EditorFetcher request failed";E&&typeof E=="object"&&"message"in E&&(v+=`: ${String(E.message)}`),E&&typeof E=="object"&&"data"in E&&(v+=`: ${(0,SUe.inspect)(E.data)}`),p(new xg(v))}).finally(()=>{i?.removeEventListener("abort",x),clearTimeout(A)})});if(!m.status)throw new xg("EditorFetcher received invalid response");return i?.addEventListener("abort",f),new K2(m.status,TUe.STATUS_CODES[m.status]??"",new fUe(m.headers),()=>uPt(c),()=>c)}};function uPt(e){return new Promise((t,r)=>{let n="";e.on("error",r),e.on("end",()=>t(n)),e.on("data",i=>n+=String(i))})}o(uPt,"consumeStream");function fPt(e,t,r){let{timeout:n,method:i}=r,s=r.headers??{},a=r.json?JSON.stringify(r.json):r.body;return r.json&&(s["content-type"]="application/json"),{url:e,headers:s,body:a,timeout:n,method:i,workDoneToken:t}}o(fPt,"convertOptionsToParams");var dPt=I.Object({url:I.String(),headers:I.Optional(I.Record(I.String(),I.String())),body:I.Optional(I.String()),timeout:I.Optional(I.Number()),method:I.Optional(I.Union([I.Literal("GET"),I.Literal("POST")])),cancelBeforeRequest:I.Optional(I.Boolean()),cancelAfterRequest:I.Optional(I.Boolean()),cancelAfterFirstChunk:I.Optional(I.Boolean())});async function mPt(e,t,r){let n=new j6(e),i=n.makeAbortController(),s=i.signal,{url:a,cancelBeforeRequest:l,cancelAfterRequest:c,cancelAfterFirstChunk:u,...f}=r;l&&i.abort();let m=n.fetch(a,{signal:s,...f});c&&i.abort();let h;try{h=await m}catch(x){return[{error:`Fetch stream error: ${x instanceof xg?x.message:String(x)}`},null]}let{status:p}=h,A=Object.fromEntries(Array.from(h.headers));try{if(u){let E=h.body();for await(let v of E){let b=v.toString();return i.abort(),[{status:p,headers:A,body:b},null]}}let x=await h.text();return[{status:p,headers:A,body:x},null]}catch(x){return[{error:`Fetch stream error: ${x instanceof xg?x.message:String(x)}`},null]}}o(mPt,"handleTestingFetchChecked");var _Ue=st(dPt,mPt);d();var hPt=I.Object({});async function pPt(e,t,r){return await e.get(yo).flush(),["OK",null]}o(pPt,"handleTestingFlushPromiseQueueChecked");var kUe=st(hPt,pPt);d();var gPt=I.Object({filePath:I.String(),code:I.String(),offset:I.Number(),languageId:I.String(),timeout:I.Optional(I.Number()),waitForContext:I.Optional(I.Boolean())});async function APt(e,t,r){try{await e.get(Pd).start();let n=e.get(Ix),i=r.timeout??1e3,s=Date.now(),a=[],l=!0;for(;l;)try{a=await n.indexClient.getContext(r.filePath,r.code,r.offset,r.languageId,t)}catch{}finally{l=(r.waitForContext??!1)&&a.length==0&&Date.now()-s<i}return[{initialized:!0,context:a},null]}catch{return[{initialized:!1,context:[]},null]}}o(APt,"handleTestingGetContextChecked");var BUe=st(gPt,APt);d();var yPt=I.Object({uri:I.String()});async function CPt(e,t,r){let i=await e.get(Vr).getTextDocument(r);return[{uri:r.uri,languageId:i?.clientLanguageId??"unknown",version:i?.version??-1,text:i?.getText()??""},null]}o(CPt,"handleGetDocumentChecked");var RUe=st(yPt,CPt);d();d();d();var sV=tt(require("assert"));var _A=class{constructor(){this.events=[];this.errors=[]}static{o(this,"TelemetrySpy")}sendTelemetryEvent(t,r={},n={}){this.events.push({name:t,properties:r,measurements:n})}sendTelemetryErrorEvent(t,r={},n={},i){this.errors.push({name:t,properties:r,measurements:n,errorProps:i})}sendTelemetryException(t,r={},n={}){this.events.push({name:"error.exception",properties:{message:t.message,...r},measurements:n})}dispose(){return Promise.resolve()}get hasEvent(){return this.events.length>0}get hasError(){return this.errors.length>0}get exceptions(){return this.events.filter(t=>t.name==="error.exception")}get hasException(){return this.exceptions.length>0}get firstEvent(){return this.events[0]}get firstError(){return this.errors[0]}get firstException(){return this.exceptions[0]}eventsMatching(t){return this.events.filter(t)}eventByName(t){let r=this.events.filter(n=>n.name===t);return sV.strictEqual(r.length,1,`Expected exactly one event with name ${t}`),r[0]}errorsMatching(t){return this.errors.filter(t)}exceptionsMatching(t){return this.exceptions.filter(t)}assertHasProperty(t){sV.ok(this.eventsMatching(r=>r.name!=="ghostText.produced").every(r=>t(r.properties)))}};var z6=class extends yo{static{o(this,"TestPromiseQueue")}async awaitPromises(){await Promise.all(this.promises)}};var xPt=I.Object({});async function EPt(e,t,r){let n=e.get(ys),i=n.getReporter(e),s=n.getRestrictedReporter(e);if(!(i instanceof _A)||!(s instanceof _A||s===void 0))return[null,{code:nn.InternalError,message:"Telemetry is not being captured. You must first call testing/setTelemetryCapture."}];let a=e.get(yo);return a instanceof z6&&await a.awaitPromises(),[{standard:{events:i.events,errors:i.errors},restricted:{events:s?.events||[],errors:s?.errors||[]}},null]}o(EPt,"handleTestingGetTelemetryChecked");var DUe=st(xPt,EPt);d();var bPt=I.Object({options:I.Optional(I.Object({}))});async function vPt(e,t,r){e.forceSet(wn,new iV),e.get(qr).resetToken();try{await e.get(qr).getToken()}catch{}return await new Promise(n=>setTimeout(n,0)),["OK",null]}o(vPt,"handleTestingNeverAuthChecked");var PUe=st(bPt,vPt);d();d();var Rce=class extends xk{static{o(this,"ExpConfigFetcher")}constructor(t){super(),this.fullConfig={Features:[],Flights:{},Configs:[{Id:"vscode",Parameters:t.Parameters}],ParameterGroups:[],AssignmentContext:t.AssignmentContext}}fetch(t,r){return t.endsWith("telemetry")?Promise.resolve(pUe(200,this.fullConfig)):Promise.resolve(Sce(404,""))}},aV=class extends Rce{constructor(r,n){super(r);this.delegate=n}static{o(this,"ExpConfigFetcherWithDelegate")}fetch(r,n){return r.endsWith("telemetry")?super.fetch(r,n):this.delegate.fetch(r,n)}makeAbortController(){return this.delegate.makeAbortController()}};var IPt=I.Object({expFlags:I.Record(I.String(),I.Union([I.String(),I.Number(),I.Boolean()]))});function TPt(e,t,r){if(r.expFlags){let n={AssignmentContext:"assignmentcontext",Parameters:{...r.expFlags}};e.forceSet(Nr,new aV(n,e.get(Nr)))}return["OK",null]}o(TPt,"handleTestingOverrideExpFlagsChecked");var FUe=st(IPt,TPt);d();var wPt=I.Object({rules:SZ});function SPt(e,t,r){let n=e.get(pl);return n?(n.setTestingRules(r.rules),["OK",null]):[null,{code:nn.InternalError,message:"Could not set content exclusion rules"}]}o(SPt,"handleTestingSetContentExclusionRulesChecked");var NUe=st(wPt,SPt);d();var _Pt=I.Object({workDoneToken:I.Union([I.String(),I.Number()]),chunks:I.Array(I.String()),followUp:I.Optional(I.String()),suggestedTitle:I.Optional(I.String()),skills:I.Optional(I.Array(I.String())),references:I.Optional(I.Array(k6)),options:I.Optional(I.Object({}))});function kPt(e,t,r){return e.get(xA).add(r.workDoneToken,r.chunks,r.followUp,r.suggestedTitle,r.skills,r.references),["OK",null]}o(kPt,"handleTestingSetSyntheticTurnsChecked");var LUe=st(_Pt,kPt);d();var BPt=I.Object({telemetryCapture:I.Boolean()});async function RPt(e,t,r){return r.telemetryCapture?(await y5(e,"agent",!1),e.get(ys).setReporter(new _A),e.get(ys).setRestrictedReporter(new _A),e.forceSet(yo,new z6)):(await y5(e,"agent",!0),e.forceSet(yo,new yo)),["OK",null]}o(RPt,"handleTestingSetTelemetryCaptureChecked");var QUe=st(BPt,RPt);d();var DPt=I.Object({});async function PPt(e,t,r){let n=e.get(ml),i=e.get(_a);return await n.showWarningMessage("This is a test message",{title:"Some Action"}).then(a=>s(3,"response from message request",a?.title)).catch(a=>s(1,"error sending show message request",a)),["OK",null];function s(a,l,c){return i.logIt(e,a,"triggerShowMessage",`${l} (${String(c)})`)}o(s,"sendNotification")}o(PPt,"handleTriggerShowMessageChecked");var MUe=st(DPt,PPt);d();var FPt=I.Object({options:I.Optional(I.Object({})),githubAppId:I.Optional(I.String())}),Dce=class extends wn{constructor(r,n){super(void 0,r);this.githubAppId=n;this.user="user"}static{o(this,"FakeAuthManager")}getAuthRecord(){return Promise.resolve({user:this.user,oauth_token:"",githubAppId:this.githubAppId})}};async function NPt(e,t,r){return await xUe(e),e.forceSet(wn,new Dce(e.get(qr),r.githubAppId)),["OK",null]}o(NPt,"handleTestingUseTestingTokenChecked");var OUe=st(FPt,NPt);d();var LPt=I.Object({});async function QPt(e,t,r){return await new p6().uninstall(e),["OK",null]}o(QPt,"handleUninstallChecked");var UUe=st(LPt,QPt);d();var MPt=jEe;function OPt(e,t,r){let n=e.get(ma),i={unregistered:[],notUnregistered:[]};return r.providers.forEach(s=>{try{n.unregisterContextProvider(s.id),i.unregistered.push(s.id)}catch{i.notUnregistered.push(s.id)}}),[i,null]}o(OPt,"unregisterContextProviders");var qUe=st(MPt,OPt);d();var Pce=tt(require("os"));var UPt=I.Object({expectedCertificate:I.String()});async function qPt(e,t,r){let i=(await yq(e).getAllRootCAs()).map(L6),s=L6(r.expectedCertificate);return i.includes(s)?[{status:!0,message:"Certificate verified"},null]:[{status:!1,message:`expected certificate not found - Expected to find certificate ${L0e(s)}. Only found those installed on the system:${Pce.EOL}${i.map(a=>"- "+L0e(a)).join(Pce.EOL)}`},null]}o(qPt,"handleVerifyCertificateChecked");var WUe=st(UPt,qPt);d();var WPt=I.Object({});async function GPt(){return[{status:!!await new s_().load()},null]}o(GPt,"handleVerifyKerberosChecked");var GUe=st(WPt,GPt);d();var HPt=I.Object({source:I.String(),version:I.Number(),uri:I.String()});async function VPt(e,t,r){let i=await e.get(Vr).getTextDocument(r);return i?i.getText()!==r.source?[{status:!1,message:`Source mismatch: [State] ${i.getText()} !== [Request] ${r.source}`},null]:i.version!==r.version?[{status:!1,message:`Version mismatch: [State] ${i.version} !== [Request] ${r.version}`},null]:[{status:!0,message:""},null]:[{status:!1,message:`Document not found: <${r.uri}>`},null]}o(VPt,"handleVerifyStateChecked");var HUe=st(HPt,VPt);d();var jPt=I.Object({});function $Pt(e,t,r){return[e.get(Vr).getWorkspaceFolders().map(i=>{let s=new URL(i.uri),a=decodeURIComponent(s.pathname);return{...i,path:a}}),null]}o($Pt,"handleVerifyWorkspaceStateChecked");var VUe=st(jPt,$Pt);var Wx=class{constructor(t){this.handlers=t}static{o(this,"MethodHandlers")}};function jUe(){let e=new Map;return e.set(bMe.method,vMe),e.set(IMe.method,TMe),e.set("getCompletions",hMe),e.set("getCompletionsCycling",pMe),e.set("getPanelCompletions",yMe),e.set(XQe.method,ZQe),e.set("getVersion",CMe),e.set("setEditorInfo",OMe),e.set("checkStatus",pNe),e.set("checkFileStatus",hNe),e.set("signInInitiate",H0e),e.set("signIn",H0e),e.set("signInConfirm",UMe),e.set("signInWithGithubToken",qMe),e.set("signOut",WMe),e.set("notifyShown",BMe),e.set("notifyAccepted",_Me),e.set("notifyRejected",kMe),e.set("telemetry/exception",$Me),e.set("telemetry/authNotifyDismissed",GMe),e.set("telemetry/authNotifyShown",HMe),e.set("telemetry/gitHubLoginSuccess",VMe),e.set("telemetry/newGitHubLogin",jMe),e.set("textDocument/copilotInlineEdit",SMe),e.set("testing/overrideExpFlags",FUe),e.set("testing/alwaysAuth",bUe),e.set("testing/neverAuth",PUe),e.set("testing/useTestingToken",OUe),e.set("testing/setCompletionDocuments",uMe),e.set("testing/setPanelCompletionDocuments",KQe),e.set("testing/triggerShowMessageRequest",MUe),e.set("testing/getTelemetry",DUe),e.set("testing/setTelemetryCapture",QUe),e.set("testing/flushPromiseQueue",kUe),e.set("testing/getDocument",RUe),e.set("testing/chatml",vUe),e.set("testing/setSyntheticTurns",LUe),e.set("testing/fetch",_Ue),e.set("testing/setContentExclusionRules",NUe),e.set("testing/setCopilotEditsResponse",UQe),e.set("testing/getContext",BUe),e.set("uninstall",UUe),e.set("debug/diagnostics",nMe),e.set("debug/listCertificates",wMe),e.set("debug/verifyState",HUe),e.set("debug/verifyCertificate",WUe),e.set("debug/verifyKerberos",GUe),e.set("debug/verifyWorkspaceState",VUe),e.set("context/registerProviders",RMe),e.set("context/unregisterProviders",qUe),e.set("conversation/preconditions",PQe),e.set("conversation/persistence",BQe),e.set("conversation/create",_Qe),e.set("conversation/turn",QQe),e.set("conversation/turnDelete",MQe),e.set("conversation/destroy",kQe),e.set("conversation/rating",FQe),e.set("conversation/copyCode",bQe),e.set("conversation/insertCode",vQe),e.set("conversation/templates",LQe),e.set("conversation/agents",EQe),e.set("conversation/registerTools",NQe),e.set("copilot/models",VQe),e.set("copilot/setModelPolicy",jQe),e.set("copilot/codeReview",OQe),e.set("git/commitGenerate",xMe),e.set("editConversation/create",qQe),e.set("editConversation/turn",GQe),e.set("editConversation/turnDelete",HQe),e.set("editConversation/destroy",WQe),new Wx(e)}o(jUe,"getAllMethods");d();d();d();var $Ue=tt(xp());var Eg=class{constructor(t){this.ctx=t}static{o(this,"AbstractNotification")}get type(){return new $Ue.NotificationType(this.name)}};var Fce=class extends Eg{constructor(){super(...arguments);this.name=eK.method;this.params=WAe}static{o(this,"DidChangeAuthNotificationHandler")}handle(r){let n=this.ctx.get(wn);r?.handle&&r?.accessToken?n.setTransientAuthRecord(this.ctx,{oauth_token:r.accessToken,user:r.handle,githubAppId:r.githubAppId}):n.setTransientAuthRecord(this.ctx,null)}},zUe=[Fce];d();var Nce=class extends Eg{constructor(){super(...arguments);this.name=oK.method;this.params=KAe}static{o(this,"DidShowCompletionNotificationHandler")}handle(r){let n=r.item.command.arguments[0],s=this.ctx.get(Wo).get(n);s&&o8e(this.ctx,s)}},Lce=class extends Eg{constructor(){super(...arguments);this.name=lK.method;this.params=t2e}static{o(this,"DidShowInlineEditNotificationHandler")}async handle(r){let n=r.item.command.arguments[0];await this.ctx.get(fh).handleShown(n)}},Qce=class extends Eg{constructor(){super(...arguments);this.name=sK.method;this.params=JAe}static{o(this,"DidPartiallyAcceptCompletionNotificationHandler")}handle(r){let n=r.item.command.arguments[0],i=r.acceptedLength,s=this.ctx.get(Wo),a=s.get(n);a&&(s.delete(n),i>=a.insertText.length?OM(this.ctx,a):s8e(this.ctx,a,i))}},YUe=[Nce,Lce,Qce];d();var lV=class extends Eg{constructor(){super(...arguments);this.name="window/workDoneProgress/cancel";this.params=I.Object({token:I.Union([I.String(),I.Number()])})}static{o(this,"WorkDoneProgressCancelNotification")}handle(r){this.ctx.get(dc).cancel(r.token)}};var zPt=[...zUe,...YUe,lV];function KUe(e,t){for(let r of zPt){let n=new r(e),i=Ds.Compile(n.params);t.onNotification(n.type,_u(e,async s=>{mA(s),i.Check(s)?await n.handle(s):Af.error(e,`Notification ${n.name}:`,new cc(i.Errors(s)))},`Notification ${n.name}`))}}o(KUe,"registerNotifications");d();var XUe=tt(require("events")),cV=tt(T0());var JUe=new Ar("AgentTextDocumentConfiguration"),Mce=class{constructor(t){this.ctx=t;this.emitter=new XUe.default}static{o(this,"AgentTextDocumentsConfiguration")}create(t,r,n,i){try{return T1.create(t,r,n,i)}catch(s){throw JUe.exception(this.ctx,s,".create"),s}}update(t,r,n){try{let i=[];for(let a of r)if(cV.TextDocumentContentChangeEvent.isIncremental(a)){let l={range:a.range,rangeOffset:t.offsetAt(a.range.start),rangeLength:t.offsetAt(a.range.end)-t.offsetAt(a.range.start),text:a.text};i.push(l)}let s={document:t,contentChanges:i};return this.emitter.emit("change",s),T1.withChanges(t,r,n)}catch(i){throw JUe.exception(this.ctx,i,".update"),i}}},dC=class extends Vr{constructor(r){super(r);this._documents=new Map;this.workspaceFolders=[];this.onDidChangeTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._textDocumentConfiguration.emitter.on("change",s),{dispose:o(()=>{this._textDocumentConfiguration.emitter.removeListener("change",s)},"dispose")}},"onDidChangeTextDocument");this.onDidOpenTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._textDocumentConfiguration.emitter.on("open",s),{dispose:o(()=>{this._textDocumentConfiguration.emitter.removeListener("open",s)},"dispose")}},"onDidOpenTextDocument");this.onDidCloseTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._textDocumentConfiguration.emitter.on("close",s),{dispose:o(()=>{this._textDocumentConfiguration.emitter.removeListener("close",s)},"dispose")}},"onDidCloseTextDocument");this.onDidFocusTextDocument=o((r,n,i)=>this.connection.onNotification(nK.type,s=>{let a=("textDocument"in s?s.textDocument:s)??{};r.call(n,"uri"in a?{document:a}:void 0)}),"onDidFocusTextDocument");this._textDocumentConfiguration=new Mce(r),this._notebookDocuments=new cV.NotebookDocuments(this._textDocumentConfiguration)}static{o(this,"AgentTextDocumentManager")}get connection(){return this.ctx.get(jr).connection}init(r){this.connection.onDidOpenTextDocument(n=>{let i=n.textDocument,s=this._textDocumentConfiguration.create(i.uri,i.languageId,i.version,i.text);this._documents.set(Hl(i.uri),s),this._textDocumentConfiguration.emitter.emit("open",{document:s,contentChanges:[]})}),this.connection.onDidChangeTextDocument(n=>{let i=n.textDocument,s=n.contentChanges,{version:a}=i;if(a==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let l=Hl(i.uri),c=this._documents.get(l);c!==void 0&&(c=this._textDocumentConfiguration.update(c,s,a),this._documents.set(l,c))}),this.connection.onDidCloseTextDocument(n=>{let i=Hl(n.textDocument.uri);this._documents.delete(i),this._textDocumentConfiguration.emitter.emit("close",{document:{uri:i}})}),this._notebookDocuments.listen(this.connection),this.workspaceFolders.length=0,this.workspaceFolders.push(...r)}didChangeWorkspaceFolders(r){r.added.forEach(n=>this.registerWorkspaceFolder(n)),r.removed.forEach(n=>this.unregisterWorkspaceFolder(n))}unregisterWorkspaceFolder(r){let n=this.workspaceFolders.findIndex(i=>i.uri===r.uri);n>=0&&this.workspaceFolders.splice(n,1)}registerWorkspaceFolder(r){this.workspaceFolders.push(r)}getOpenTextDocuments(){return[...this._documents.values()]}getOpenTextDocument(r){return this._documents.get(Hl(r.uri))}getWorkspaceFolders(){return this.workspaceFolders}findNotebook(r){let n=this._notebookDocuments.findNotebookDocumentForCell(r.uri);if(n)return{getCells:o(()=>n.cells.map((i,s)=>this.wrapCell(i,s)).filter(i=>!!i),"getCells"),getCellFor:o(({uri:i})=>{let s=n.cells.findIndex(a=>a.document===i);return s!==-1?this.wrapCell(n.cells[s],s):void 0},"getCellFor")}}wrapCell(r,n){let i=this._notebookDocuments.getCellTextDocument(r);if(i)return{kind:r.kind,metadata:r.metadata??{},index:n,document:i}}};var ZUe=Ds.Compile($Ae);function mA(e){if(e!==null){if(Array.isArray(e))for(let t=0;t<e.length;t++)e[t]=mA(e[t]);else if(typeof e=="object"){let t=e;for(let r in t)t[r]===null?delete t[r]:t[r]=mA(t[r])}return e}}o(mA,"purgeNulls");var jr=class{constructor(t,r){this.ctx=t;this.connection=r;this.initialized=!1;this.#i=this.ctx.get(_a)}static{o(this,"Service")}#e;#t;#i;get clientCapabilities(){return this.#t}listen(){let t=this.ctx,r=this.connection;r.onRequest(this.messageHandler.bind(this)),KUe(t,r);let n={name:"GitHub Copilot Language Server",version:t.get(co).getDisplayVersion(),nodeVersion:process.versions.node},i,s=o(async c=>{try{if(i&&c&&typeof c=="object"&&!("settings"in c)){let u=await r.workspace.getConfiguration(["github.copilot",...U0e].map(m=>({section:m}))),f={github:{copilot:u.shift()}};for(let m of U0e)f[m]=u.shift();c.settings=f}return QMe(t,mA(c))}catch(u){Af.exception(t,u,"didChangeConfiguration")}},"didChangeConfiguration");function a(c){try{t.get(dC).didChangeWorkspaceFolders(c),t.get(cf).emit(c)}catch(u){Af.exception(t,u,"didChangeWorkspaceFolders")}}o(a,"didChangeWorkspaceFolders"),this.connection.onNotification("vs/didAddWorkspaceFolder",({name:c,uri:u})=>a({added:[{uri:u,name:c??u}],removed:[]})),this.connection.onNotification("vs/didRemoveWorkspaceFolder",({name:c,uri:u})=>a({added:[],removed:[{uri:u,name:c??u}]})),r.onInitialize(async c=>{if(this.initialized)throw new Error("initialize request sent after initialized notification");this.#t=c.capabilities;let u=c.capabilities.copilot,f=mA(c.initializationOptions);if(f){if(!ZUe.Check(f))throw new cc(ZUe.Errors(f));let A=f,x=t.get(an);A.editorPluginInfo?x.setEditorAndPluginInfo({version:"unknown",...A.editorPluginInfo},A.editorInfo&&{version:"unknown",...A.editorInfo},A.relatedPluginInfo??[]):Af.warn(t,"editorInfo and editorPluginInfo will soon be required in initializationOptions. This will replace setEditorInfo."),A.copilotIntegrationId&&x.setCopilotIntegrationId(A.copilotIntegrationId),A.githubAppId&&(t.get(Hs).githubAppId=A.githubAppId),A.copilotCapabilities&&(u=A.copilotCapabilities)}let m=c.capabilities.workspace?.workspaceFolders??!1;t.get(dC).init(c.workspaceFolders??[]),xIe(this.ctx),t.get(cf).emit({added:c.workspaceFolders??[],removed:[]}),i=c.capabilities.workspace?.configuration,u&&(t.get(ts).setCapabilities(u),"openURL"in u&&RW(t,["The openURL Copilot capability has been removed in favor of window/showDocument."]));let p=o(async()=>{this.initialized||(this.initialized=!0,Af.info(t,`${n.name} ${n.version} initialized`),m&&(r.workspace.onDidChangeWorkspaceFolders(a),await this.ctx.get(Pd).start()),i?await s({}):await dk(t),this.installationTelemetryTimer=setTimeout(()=>{new p6().startup(t).catch(()=>{})},1e3),t.get(hA).emit(),DIe(t))},"onInitialized");return r.onInitialized(_u(t,p,"onInitialized")),t.get(dh).init(),u?.token&&t.get(wn).setTransientAuthRecord(t,null),u?.redirectedTelemetry&&await dNe(t),eqe.lt(process.versions.node,"20.8.0")&&Af.warn(t,`Node.js ${process.versions.node} support is deprecated. Please upgrade to Node.js 20.8 or newer.`),{capabilities:{textDocumentSync:{openClose:!0,change:Eh.TextDocumentSyncKind.Incremental},notebookDocumentSync:{notebookSelector:[{notebook:"*"}]},workspace:{workspaceFolders:{supported:m,changeNotifications:m}},executeCommandProvider:{commands:oNe(t,r)},inlineCompletionProvider:{}},serverInfo:n}}),r.onShutdown(async()=>{await(this.#e??=this.deactivate())}),r.onExit(()=>void this.onExit()),r.onDidChangeConfiguration(_u(t,s,"onDidChangeConfiguration")),r.listen();let l=new VW;this.ctx.forceSet(_a,l)}async messageHandler(t,r,n){let i=this.ctx.get(Wx).handlers.get(t);if(!i)return new Eh.ResponseError(nn.MethodNotFound,`Method not found: ${t}`);if(!this.initialized)return new Eh.ResponseError(nn.ServerNotInitialized,"Agent service not initialized.");if(this.#e)return new Eh.ResponseError(nn.InvalidRequest,"Agent service shut down.");if(t!=="setEditorInfo"&&!lNe(this.ctx.get(an)))throw new Eh.ResponseError(nn.ServerNotInitialized,"editorInfo and editorPluginInfo not set in initializationOptions");Array.isArray(r)&&(r=r[0]),mA(r);try{let[s,a]=await i(this.ctx,n,r);return a?new Eh.ResponseError(a.code,a.message,a.data):s}catch(s){if(n.isCancellationRequested)return new Eh.ResponseError(nn.RequestCancelled,"Request was canceled");if(s instanceof Ms)return new Eh.ResponseError(nn.NoCopilotToken,`Not authenticated: ${s.message}`);throw s instanceof Eh.ResponseError||Af.exception(this.ctx,s,`Request ${t}`),s}}async onExit(){this.ctx.forceSet(_a,this.#i),await(this.#e??=this.deactivate())}async deactivate(){let t=this.ctx;clearTimeout(this.installationTelemetryTimer),Lte(t),await Promise.race([new Promise(r=>setTimeout(r,100)),t.get(yo).flush()]),await Promise.race([new Promise(r=>setTimeout(r,1800)),t.get(ys).deactivate()])}dispose(){clearTimeout(this.installationTelemetryTimer),this.connection.dispose()}},Af=new Ar("lsp");var uV=class e extends R4{constructor(r){super(r);this.reportedUnknownProviders=new Set}static{o(this,"AgentRelatedFilesProvider")}get service(){return this.context.get(jr)}static mapProviderNameToNeighboringFileType(r){let n="CSharpCopilotCompletionContextProvider",i="CSharpRoslynCompletionRelatedContextProvider",s="CppCopilotCompletionContextProvider",a="CppCopilotCompletionSemanticCodeContextProvider";switch(r){case n:return"related/csharp";case i:return"related/csharproslyn";case s:return"related/cpp";case a:return"related/cppsemanticcodecontext";default:return"related/other"}}convert(r){let n={entries:[],traits:r.traits};for(let i of r.entries){let s={type:e.mapProviderNameToNeighboringFileType(i.providerName),uris:i.uris};n.entries.push(s),s.type==="related/other"&&!this.reportedUnknownProviders.has(i.providerName)&&(this.reportedUnknownProviders.add(i.providerName),Ja.warn(this.context,`unknown providerName ${i.providerName}`))}return n}async getRelatedFilesResponse(r,n,i){Ja.debug(this.context,`Fetching related files for ${r.uri}`);let s=this.context.get(ts).getCapabilities().related??!1;if(await e.relatedCapabilityTelemetry(this.context,n,s),!s)return Ja.debug(this.context,"`copilot/related` not supported"),bIe;try{let a=await this.service.connection.sendRequest(cK.type,{textDocument:{uri:r.uri},data:r.data,telemetry:{properties:n.properties,measurements:n.measurements}},i);return this.convert(a)}catch(a){return Ja.exception(this.context,a,".copilotRelated"),null}}static{this.telemetrySent=!1}static async relatedCapabilityTelemetry(r,n,i){try{if(!i||e.telemetrySent)return;e.telemetrySent=!0,Gt(r,"copilotRelated.hasRelatedCapability",n)}catch(s){Ja.exception(r,s,"copilotRelated")}}};d();var rqe=tt(T0());var tqe=new Ar("copilotTokenManager"),Oce=class e extends mv{static{o(this,"AgentClientCopilotTokenManager")}static{this.RequestType=new rqe.ProtocolRequestType("copilot/token")}constructor(t){super(t)}async fetchCopilotTokenEnvelope(){let t=this.ctx.get(jr).connection;try{this.didChangeToken??=t.onNotification("copilot/didChangeToken",()=>{this.resetToken()});let r=await t.sendRequest(e.RequestType,{force:!1});if(!r?.envelope)throw tqe.debug(this.ctx,"Envelope missing from copilot/token response"),new Kf({reason:"NotSignedIn",message:"Editor did not return a token"});let{accessToken:n,handle:i,githubAppId:s,envelope:a,tokenEndpoint:l}=r;tqe.debug(this.ctx,"Retrieved envelope from copilot/token");let c=new p1(a);if(c.isExpired())throw new Ms("Expired token in copilot/token response");if(i&&n)this.ctx.get(wn).setTransientAuthRecord(this.ctx,{user:i,oauth_token:n,githubAppId:s},!1);else if(!await this.getGitHubSession())throw new Kf({reason:"NotSignedIn"});return l!==void 0&&this.ctx.get(Dn).updateBaseUrlFromTokenEndpoint(this.ctx,l),oT(this.ctx,c),a}catch(r){throw r instanceof Error?new Ms(r.message,r):r}}},Ek=class extends qr{constructor(r,n=new mv(r)){super();this.ctx=r;this.fallback=n;this.client=new Oce(r)}static{o(this,"AgentCopilotTokenManager")}canGetToken(){return this.ctx.get(ts).getCapabilities().token??!1}getDelegate(){return this.canGetToken()?this.client:this.fallback}resetToken(r){this.getDelegate().resetToken(r)}async getToken(){return this.getDelegate().getToken()}async getGitHubSession(){return this.fallback.getGitHubSession()}};d();var YPt=new Ar("Public Code References"),fV=class extends Gu{static{o(this,"CLSCitationManager")}async handleIPCodeCitation(t,r){let n=r.location?.start.line!==void 0?r.location.start.line+1:"-",i=r.location?.start.character!==void 0?r.location.start.character+1:"-",s=(r.matchingText??"").replace(/[\r\n]/g," ");YPt.info(t,`Text found matching public code in ${r.inDocumentUri} [Ln ${n}, Col ${i}] near ${s}...:`+r.details.map((a,l)=>`
  ${l+1}) [${a.license}] ${a.url}`).join("")),!(r.version===void 0||r.location===void 0)&&t.get(ts).getCapabilities().ipCodeCitation===!0&&await t.get(jr).connection.sendNotification(tK.type,{uri:r.inDocumentUri,version:r.version,range:r.location,matchingText:r.matchingText??"",citations:r.details})}};d();d();function nqe(e){KPt(e)}o(nqe,"activateExtensibilityPlatformFeature");function KPt(e){e.set(gh,new sH(e)),e.set(dg,new dg(e))}o(KPt,"registerContextDependencies");d();var iqe=I.String(),Uce=class{constructor(t){this.turnContext=t}static{o(this,"BuildLogsSkillProcessor")}value(){return .9}async processSkill(t){return this.turnContext.collectLabel(mV,"build logs"),`The contents of the application build logs:
\`\`\`
${t}
\`\`\``}},mV="build-logs",dV=class extends Sl{static{o(this,"BuildLogsSkill")}constructor(t){super(mV,"The application build logs, which can be used to fix build or compilation errors.","Reading build logs",()=>t,r=>new Uce(r))}};d();var JPt=I.Object({uri:I.String(),visibleRange:I.Optional(V0),openedAt:I.Optional(I.String()),activeAt:I.Optional(I.String())}),oqe=I.Object({files:I.Array(JPt)}),XPt=3,qce=class{constructor(t){this.turnContext=t}static{o(this,"RecentFilesSkillProcessor")}value(){return .7}async processSkill(t){let r=await this.getDocuments(t);if(r.length>0){let n=this.toElidableDocs(r),i=rC(n,"inversePositional");return await this.preElideDocuments(i)}}async getDocuments(t){let r=this.sortFiles(t.files);r=this.filterIncludedDocs(r);let n=this.turnContext.ctx.get(dn),i=[];for(let s of r){let a=await n.getOrReadTextDocument(s),l=rs(a);if(await this.turnContext.collectFile(pV,s.uri,l),a.status==="valid"&&l!=="empty"&&(i.push([a.document,s]),i.length===XPt))break}return i.reverse()}sortFiles(t){return t.sort((r,n)=>r.activeAt&&n.activeAt?new Date(r.activeAt).getTime()-new Date(n.activeAt).getTime():r.activeAt?-1:n.activeAt?1:0).reverse()}filterIncludedDocs(t){return t.filter(r=>!this.turnContext.isFileIncluded(r.uri))}toElidableDocs(t){return t.map(r=>{let[n,i]=r,s=this.turnContext.ctx.get(dn).getRelativePath(n),a=new mg(n,void 0,i.visibleRange);return new Xt([[`Code excerpt from file \`${s}\`:`,1],[a.fromAllCode({addLineNumbers:!1}),.9]])})}async preElideDocuments(t){let r=(await this.turnContext.ctx.get(ti).getBestChatModelConfig(Xo("user"))).maxRequestTokens,n=t.elide(Math.floor(r*.1)).getText();return new Xt([n])}},pV="recent-files",hV=class extends Sl{static{o(this,"RecentFilesSkill")}constructor(t){super(pV,"Provides code examples helpful for creating, explaining, refactoring, or fixing code. It's based on the files the user has worked on in the editor.","Resolving recent files",()=>t,r=>new qce(r))}};d();var sqe=I.String(),Wce=class{constructor(t){this.turnContext=t}static{o(this,"RuntimeLogsSkillProcessor")}value(){return .9}async processSkill(t){return this.turnContext.collectLabel(AV,"runtime logs"),`The contents of the application runtime logs:
\`\`\`
${t}
\`\`\``}},AV="runtime-logs",gV=class extends Sl{static{o(this,"RuntimeLogsSkill")}constructor(t){super(AV,"The application runtime or debug logs, which are used to view output logs from the console. This is useful for debugging and troubleshooting runtime issues.","Reading runtime logs",()=>t,r=>new Wce(r))}};d();var yV=tt(xp());var CV=class extends qa{constructor(r){super();this.ctx=r}static{o(this,"AgentConversationInspector")}shouldInspect(){return CP(this.ctx)}get connection(){if(this.shouldInspect())return this.ctx.get(jr).connection}async inspectPrompt(r){return this.connection?.sendNotification(new yV.NotificationType("conversation/inspectPrompt"),r)}async inspectFetchResult(r){return this.connection?.sendNotification(new yV.NotificationType("conversation/inspectFetchResult"),r)}async documentDiff(r){return this.connection?.sendNotification(new yV.NotificationType("conversation/documentDiff"),r)}};d();var aqe=tt(T0());var bk=class{constructor(t){this.ctx=t;this.notificationEndpoint="conversation/preconditionsNotification";t.get(Od).onChange(r=>{this.sendNotification(r)})}static{o(this,"PreconditionsNotifier")}sendNotification(t){return this.ctx.get(jr).connection.sendNotification(new aqe.NotificationType(this.notificationEndpoint),t)}};function lqe(e){ZPt(e),eFt(e),nqe(e)}o(lqe,"activateConversationFeature");function ZPt(e){e.set(Hi,new Hi(e)),e.set(kl,new kl),e.set(i0,new i0(e)),e.set(ti,new Dq(e)),e.set(xA,new xA),e.set(Ls,new Ls(e)),e.set(Od,new Od(e)),e.set(bk,new bk(e)),e.set(Fu,new HP(e,new GP(e))),e.set(EA,new EA),e.set(eC,new eC),e.set(qa,new CV(e)),e.set(Zs,new Zs(e)),e.set(n0,new n0),e.set(pf,new pf)}o(ZPt,"registerContextDependencies");function eFt(e){let t=new Wa;t.registerSkill(new fG(new uG(e))),t.registerSkill(new MG(new fc(e,Ag,cQe))),t.registerSkill(new mG(new fc(e,hh,tLe))),t.registerSkill(new YW(new fc(e,P0,bNe))),t.registerSkill(new OG),t.registerSkill(new hV(new fc(e,pV,oqe))),t.registerSkill(new KW(new fc(e,wx,INe))),t.registerSkill(new pG(new fc(e,nC,fLe))),t.registerSkill(new gV(new fc(e,AV,sqe))),t.registerSkill(new dV(new fc(e,mV,iqe))),t.registerSkill(new AG(new fc(e,ph,dLe))),t.registerSkill(new yG(new fc(e,kx,hLe))),e.set(Wa,t)}o(eFt,"registerSkills");d();var cqe=tt(Vn());var xV=class extends Zl{static{o(this,"AgentEditProgressReporter")}constructor(t){super(t)}async reportTurn(t,r){await this.ctx.get(jr).connection.sendProgress(new cqe.ProgressType,t.partialResultToken,[{editConversationId:t.editConversationId,editTurnId:t.editTurnId,...r}])}};d();var uqe=tt(T0()),fqe=tt(xp());var EV=class extends Uy{constructor(){super(...arguments);this.requestType=new uqe.ProtocolRequestType("conversation/invokeClientTool");this.typeCheck=Ds.Compile(ePe)}static{o(this,"AgentClientToolInvoker")}async invokeClientTool(r,n){let i=this.ctx.get(jr).connection,s;try{let a=await i.sendRequest(this.requestType,n),[l,c]=a;if(c){let u=new fqe.ResponseError(c.code,c.message,c.data);throw Kr.error(this.ctx,`ResponseError while invoking client tool ${n.name}`,u),new Error(`Failed to invoke client tool ${n.name}: ${c.message}`)}s=l}catch(a){throw new Error(`Failed to invoke client tool ${n.name}: ${String(a)}`)}if(s==null)throw new Error(`Failed to invoke client tool ${n.name}: No result returned`);if(!this.typeCheck.Check(s))throw new cc(this.typeCheck.Errors(s));return this.transformToToolResult(s)}transformToToolResult(r){let n=r.content.map(i=>typeof i.value=="string"?new t0(i.value):new u6(i.value));return new r0(n)}};d();var dqe=tt(xp());var vk=class{constructor(t){this.ctx=t;this.notificationEndpoint="featureFlagsNotification";za(t,async r=>{let n=t.get(ar),i=await n.updateExPValuesAndAssignments(),s=!1;r.envelope.chat_enabled&&(s=n.ideEnableCopilotEditsAgent(i));let a={};r.envelope.xcode_chat&&r.envelope.chat_enabled&&(a.xc=!0);let l={},c=kI(t,i);c.length>0&&(l.ExpContextProviders=c);let u=new Map;wM(t,u,i);for(let[f,m]of u.entries())l[f]=m;await this.sendNotification({rt:r.getTokenValue("rt")==="1",sn:r.getTokenValue("sn")==="1",chat:r.envelope.chat_enabled??!1,ic:r.envelope.chat_enabled??!1,pc:!0,cea:s,ae:l,...a})})}static{o(this,"FeatureFlagsNotifier")}async sendNotification(t){await this.ctx.get(jr).connection.sendNotification(new dqe.NotificationType(this.notificationEndpoint),t)}};d();var bV=class extends Li{constructor(r){super();this.ctx=r;this.notificationEndpoint="statusNotification"}static{o(this,"NotificationStatusReporter")}didChange(r){let n=r.kind;r.busy&&n!=="Error"&&(n="InProgress"),this.ctx.get(jr).connection.sendNotification(uK.type,{busy:r.busy,kind:r.kind,status:n,message:r.message??""}),this.ctx.get(jr).connection.sendNotification("didChangeStatus",{busy:r.busy,kind:r.kind,message:r.message})}};d();var mqe=new pv;d();d();var tFt=new Ar("fetcher"),rFt="https://default.exp-tas.com/",vV=class extends Nr{constructor(r,n,i,s){super();this.ctx=r;this.defaultFetcher=n;this.fallbackFetcher=i;this.onFallbackSuccess=s}static{o(this,"FallbackFetcher")}async fetch(r,n){try{return await this.defaultFetcher.fetch(r,n)}catch(i){if(bc(i)||`${r}/`.startsWith(rFt))throw i;tFt.info(this.ctx,`Request to <${r}> failed, attempting fallback.`,i);let s=await this.fallbackFetcher.fetch(r,n);return this.onFallbackSuccess(),s}}set proxySettings(r){this.defaultFetcher.proxySettings=r}get proxySettings(){return this.defaultFetcher.proxySettings}get name(){return this.defaultFetcher.name}async disconnectAll(){return this.defaultFetcher.disconnectAll()}makeAbortController(){return this.defaultFetcher.makeAbortController()}};var hqe=new Ar("fetcher"),IV=class extends Nr{constructor(r,n=new V6(r),i=new j6(r)){super();this.ctx=r;this.helixFetcher=n;this.editorFetcher=i;this.currentFetcher=this.helixFetcher,this.fallbackFetcher=new vV(r,n,i,()=>{hqe.info(this.ctx,"Fallback fetch succeeded, switching to editor fetcher."),this.currentFetcher=this.editorFetcher}),r.get(hA).once(()=>{this.updateFetcher()}),r.get(mf).onConfigChange(kt.FetchStrategy,a=>{this.fetchStrategy=a,this.updateFetcher()}),this.fetchStrategy=Qn(r,kt.FetchStrategy)}static{o(this,"AgentDelegatingFetcher")}get editorFetcherCapability(){return this.ctx.get(ts).getCapabilities().fetch??!1}updateFetcher(){let r,n;if(!this.editorFetcherCapability)n="Using Helix fetcher, editor does not have fetch capability.",r=this.helixFetcher;else if(this.fetchStrategy==="client")n="Using editor fetcher, fetch strategy set to client.",r=this.editorFetcher;else if(this.fetchStrategy==="native")n="Using Helix fetcher, fetch strategy set to native.",r=this.helixFetcher;else{let i=Qn(this.ctx,kt.DebugUseEditorFetcher);i?.toString()==="true"?(n="Using editor fetcher, debug flag is enabled.",r=this.editorFetcher):i?.toString()==="false"?(n="Using Helix fetcher, debug flag is disabled.",r=this.helixFetcher):(n="Editor fetcher capability available, will fallback if needed.",r=this.fallbackFetcher)}this.currentFetcher!=r&&(hqe.debug(this.ctx,n),this.currentFetcher=r)}get name(){return this.currentFetcher.name}set proxySettings(r){this.helixFetcher.proxySettings=r}get proxySettings(){return this.helixFetcher.proxySettings}set rejectUnauthorized(r){super.rejectUnauthorized=r,this.helixFetcher.rejectUnauthorized=r}get rejectUnauthorized(){return super.rejectUnauthorized}fetch(r,n){return this.currentFetcher.fetch(r,n)}disconnectAll(){return this.currentFetcher.disconnectAll()}makeAbortController(){return this.currentFetcher.makeAbortController()}};d();var TV=class extends ml{constructor(r){super();this.ctx=r}static{o(this,"ConnectionNotificationSender")}get connection(){return this.ctx.get(jr).connection}showWarningMessage(r,...n){return this.connection.window.showWarningMessage(r,...n)}};d();d();var pqe=tt(require("crypto")),gqe=require("os");var nFt=new Set(["00:00:00:00:00:00","ff:ff:ff:ff:ff:ff","ac:de:48:00:11:22"]);function iFt(e){let t=e.replace(/-/g,":").toLowerCase();return!nFt.has(t)}o(iFt,"validateMacAddress");function oFt(){let e=(0,gqe.networkInterfaces)();for(let t in e){let r=e[t];if(r){for(let{mac:n}of r)if(iFt(n))return n}}throw new Error("Unable to retrieve mac address (unexpected format)")}o(oFt,"getMac");var Gce;function sFt(){try{let e=oFt();return pqe.createHash("sha256").update(e,"utf8").digest("hex")}catch{return}}o(sFt,"getMacMachineId");function Aqe(){return Gce||(Gce=sFt()||Tr()),Gce}o(Aqe,"getMachineId");var aFt=Tr()+Date.now(),yqe=new ms(aFt,Aqe());d();d();var Tk=tt(require("node:process"),1),Qqe=require("node:buffer"),tue=tt(require("node:path"),1),Mqe=require("node:url"),Oqe=tt(require("node:child_process"),1),Hx=tt(require("node:fs/promises"),1);d();var zce=tt(require("node:process"),1),Eqe=tt(require("node:os"),1),bqe=tt(require("node:fs"),1);d();var Cqe=tt(require("node:fs"),1);d();var Vce=tt(require("node:fs"),1);var Hce;function lFt(){try{return Vce.default.statSync("/.dockerenv"),!0}catch{return!1}}o(lFt,"hasDockerEnv");function cFt(){try{return Vce.default.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}o(cFt,"hasDockerCGroup");function jce(){return Hce===void 0&&(Hce=lFt()||cFt()),Hce}o(jce,"isDocker");var $ce,uFt=o(()=>{try{return Cqe.default.statSync("/run/.containerenv"),!0}catch{return!1}},"hasContainerEnv");function Y6(){return $ce===void 0&&($ce=uFt()||jce()),$ce}o(Y6,"isInsideContainer");var xqe=o(()=>{if(zce.default.platform!=="linux")return!1;if(Eqe.default.release().toLowerCase().includes("microsoft"))return!Y6();try{return bqe.default.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!Y6():!1}catch{return!1}},"isWsl"),Ik=zce.default.env.__IS_WSL_TEST__?xqe:xqe();d();function Gx(e,t,r){let n=o(i=>Object.defineProperty(e,t,{value:i,enumerable:!0,writable:!0}),"define");return Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){let i=r();return n(i),i},set(i){n(i)}}),e}o(Gx,"defineLazyProperty");d();var Rqe=require("node:util"),SV=tt(require("node:process"),1),Dqe=require("node:child_process");d();var vqe=require("node:util"),Iqe=tt(require("node:process"),1),Tqe=require("node:child_process");var fFt=(0,vqe.promisify)(Tqe.execFile);async function Yce(){if(Iqe.default.platform!=="darwin")throw new Error("macOS only");let{stdout:e}=await fFt("defaults",["read","com.apple.LaunchServices/com.apple.launchservices.secure","LSHandlers"]);return/LSHandlerRoleAll = "(?!-)(?<id>[^"]+?)";\s+?LSHandlerURLScheme = (?:http|https);/.exec(e)?.groups.id??"com.apple.Safari"}o(Yce,"defaultBrowserId");d();d();var wqe=tt(require("node:process"),1),Sqe=require("node:util"),Kce=require("node:child_process");var dFt=(0,Sqe.promisify)(Kce.execFile);async function _qe(e,{humanReadableOutput:t=!0}={}){if(wqe.default.platform!=="darwin")throw new Error("macOS only");let r=t?[]:["-ss"],{stdout:n}=await dFt("osascript",["-e",e,r]);return n.trim()}o(_qe,"runAppleScript");async function Jce(e){return _qe(`tell application "Finder" to set app_path to application file id "${e}" as string
tell application "System Events" to get value of property list item "CFBundleName" of property list file (app_path & ":Contents:Info.plist")`)}o(Jce,"bundleName");d();var kqe=require("node:util"),Bqe=require("node:child_process");var mFt=(0,kqe.promisify)(Bqe.execFile),hFt={AppXq0fevzme2pys62n3e0fbqa7peapykr8v:{name:"Edge",id:"com.microsoft.edge.old"},MSEdgeDHTML:{name:"Edge",id:"com.microsoft.edge"},MSEdgeHTM:{name:"Edge",id:"com.microsoft.edge"},"IE.HTTP":{name:"Internet Explorer",id:"com.microsoft.ie"},FirefoxURL:{name:"Firefox",id:"org.mozilla.firefox"},ChromeHTML:{name:"Chrome",id:"com.google.chrome"},BraveHTML:{name:"Brave",id:"com.brave.Browser"},BraveBHTML:{name:"Brave Beta",id:"com.brave.Browser.beta"},BraveSSHTM:{name:"Brave Nightly",id:"com.brave.Browser.nightly"}},wV=class extends Error{static{o(this,"UnknownBrowserError")}};async function Xce(e=mFt){let{stdout:t}=await e("reg",["QUERY"," HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\Shell\\Associations\\UrlAssociations\\http\\UserChoice","/v","ProgId"]),r=/ProgId\s*REG_SZ\s*(?<id>\S+)/.exec(t);if(!r)throw new wV(`Cannot find Windows browser in stdout: ${JSON.stringify(t)}`);let{id:n}=r.groups,i=hFt[n];if(!i)throw new wV(`Unknown browser ID: ${n}`);return i}o(Xce,"defaultBrowser");var pFt=(0,Rqe.promisify)(Dqe.execFile),gFt=o(e=>e.toLowerCase().replaceAll(/(?:^|\s|-)\S/g,t=>t.toUpperCase()),"titleize");async function Zce(){if(SV.default.platform==="darwin"){let e=await Yce();return{name:await Jce(e),id:e}}if(SV.default.platform==="linux"){let{stdout:e}=await pFt("xdg-mime",["query","default","x-scheme-handler/http"]),t=e.trim();return{name:gFt(t.replace(/.desktop$/,"").replace("-"," ")),id:t}}if(SV.default.platform==="win32")return Xce();throw new Error("Only macOS, Linux, and Windows are supported")}o(Zce,"defaultBrowser");var eue=tue.default.dirname((0,Mqe.fileURLToPath)(importMetaUrlShim)),Pqe=tue.default.join(eue,"xdg-open"),{platform:K6,arch:Fqe}=Tk.default,AFt=(()=>{let e="/mnt/",t;return async function(){if(t)return t;let r="/etc/wsl.conf",n=!1;try{await Hx.default.access(r,Hx.constants.F_OK),n=!0}catch{}if(!n)return e;let i=await Hx.default.readFile(r,{encoding:"utf8"}),s=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(i);return s?(t=s.groups.mountPoint.trim(),t=t.endsWith("/")?t:`${t}/`,t):e}})(),Nqe=o(async(e,t)=>{let r;for(let n of e)try{return await t(n)}catch(i){r=i}throw r},"pTryEach"),_V=o(async e=>{if(e={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...e},Array.isArray(e.app))return Nqe(e.app,l=>_V({...e,app:l}));let{name:t,arguments:r=[]}=e.app??{};if(r=[...r],Array.isArray(t))return Nqe(t,l=>_V({...e,app:{name:l,arguments:r}}));if(t==="browser"||t==="browserPrivate"){let l={"com.google.chrome":"chrome","google-chrome.desktop":"chrome","org.mozilla.firefox":"firefox","firefox.desktop":"firefox","com.microsoft.msedge":"edge","com.microsoft.edge":"edge","microsoft-edge.desktop":"edge"},c={chrome:"--incognito",firefox:"--private-window",edge:"--inPrivate"},u=await Zce();if(u.id in l){let f=l[u.id];return t==="browserPrivate"&&r.push(c[f]),_V({...e,app:{name:J6[f],arguments:r}})}throw new Error(`${u.name} is not supported as a default browser`)}let n,i=[],s={};if(K6==="darwin")n="open",e.wait&&i.push("--wait-apps"),e.background&&i.push("--background"),e.newInstance&&i.push("--new"),t&&i.push("-a",t);else if(K6==="win32"||Ik&&!Y6()&&!t){let l=await AFt();n=Ik?`${l}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${Tk.default.env.SYSTEMROOT||Tk.default.env.windir||"C:\\Windows"}\\System32\\WindowsPowerShell\\v1.0\\powershell`,i.push("-NoProfile","-NonInteractive","-ExecutionPolicy","Bypass","-EncodedCommand"),Ik||(s.windowsVerbatimArguments=!0);let c=["Start"];e.wait&&c.push("-Wait"),t?(c.push(`"\`"${t}\`""`),e.target&&r.push(e.target)):e.target&&c.push(`"${e.target}"`),r.length>0&&(r=r.map(u=>`"\`"${u}\`""`),c.push("-ArgumentList",r.join(","))),e.target=Qqe.Buffer.from(c.join(" "),"utf16le").toString("base64")}else{if(t)n=t;else{let l=!eue||eue==="/",c=!1;try{await Hx.default.access(Pqe,Hx.constants.X_OK),c=!0}catch{}n=Tk.default.versions.electron??(K6==="android"||l||!c)?"xdg-open":Pqe}r.length>0&&i.push(...r),e.wait||(s.stdio="ignore",s.detached=!0)}K6==="darwin"&&r.length>0&&i.push("--args",...r),e.target&&i.push(e.target);let a=Oqe.default.spawn(n,i,s);return e.wait?new Promise((l,c)=>{a.once("error",c),a.once("close",u=>{if(!e.allowNonzeroExitCode&&u>0){c(new Error(`Exited with code ${u}`));return}l(a)})}):(a.unref(),a)},"baseOpen"),yFt=o((e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `target`");return _V({...t,target:e})},"open");function Lqe(e){if(typeof e=="string"||Array.isArray(e))return e;let{[Fqe]:t}=e;if(!t)throw new Error(`${Fqe} is not supported`);return t}o(Lqe,"detectArchBinary");function rue({[K6]:e},{wsl:t}){if(t&&Ik)return Lqe(t);if(!e)throw new Error(`${K6} is not supported`);return Lqe(e)}o(rue,"detectPlatformBinary");var J6={};Gx(J6,"chrome",()=>rue({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}));Gx(J6,"firefox",()=>rue({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}));Gx(J6,"edge",()=>rue({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}));Gx(J6,"browser",()=>"browser");Gx(J6,"browserPrivate",()=>"browserPrivate");var kV=yFt;var BV=class extends Vl{constructor(r,n=new nue){super();this.ctx=r;this.fallback=n}static{o(this,"AgentUrlOpener")}async open(r){let n=this.ctx.get(jr);if(!(n.clientCapabilities?.window?.showDocument?.support&&(await n.connection.window.showDocument({uri:r,external:!0})).success))return this.fallback.open(r)}},nue=class extends Vl{static{o(this,"SpawnUrlOpener")}async open(t){await kV(t)}};d();d();var RV=class extends xW{static{o(this,"AgentWorkspaceWatcher")}async getWatchedFiles(){return(await this.ctx.get(dh).getWatchedFiles({workspaceUri:this.workspaceFolder.uri,workspaceFolder:this.workspaceFolder,excludeGitignoredFiles:!0,excludeIDEIgnoredFiles:!0})).watchedFiles}startWatching(){if(this.status==="ready")return;this.ctx.get(dh).onDidChangeWatchedFiles(this.onDidChangeWatchedFilesHandler.bind(this)),this.status="ready"}stopWatching(){this.status="stopped",this.ctx.get(dh).offDidChangeWatchedFiles(this.onDidChangeWatchedFilesHandler.bind(this))}onDidChangeWatchedFilesHandler(t){if(t.workspaceFolder.uri!==this.workspaceFolder.uri)return;let n=t.created.filter(a=>!a.isRestricted&&!a.isUnknownFileExtension);if(n.length){let a=n.map(l=>l.document).filter(l=>l!==void 0);this.onFilesCreated(a)}let i=t.changed.filter(a=>!a.isRestricted&&!a.isUnknownFileExtension);if(i.length){let a=i.map(l=>l.document).filter(l=>l!==void 0);this.onFilesUpdated(a)}let s=t.deleted.filter(a=>!a.isRestricted&&!a.isUnknownFileExtension);s.length&&this.onFilesDeleted(s.map(a=>({uri:a.uri})))}};var DV=class extends B0{static{o(this,"AgentWorkspaceWatcherProvider")}createWatcher(t){return new RV(this.ctx,t)}shouldStartWatching(t){return!!this.ctx.get(ts).getCapabilities().watchedFiles&&(!this.hasWatcher(t)||this.getStatus(t)==="stopped")}};function Uqe(e){let t=new mf(process.env),r=XRe(t);r.set(mf,t),r.set(hA,new hA),r.set(Nr,new IV(r)),r.set(ga,new ga(r)),G0e(r,{});let n=JDe();r.set(e0,n);let i=new Ek(r);r.set(qr,i),r.set(Ek,i);let s=new XT(r,n);r.set(XT,s),r.set(wn,new wn(s,i)),r.set(d4,new d4),r.set(ms,yqe),r.set(an,new HW),r.set(Wx,jUe()),r.set(Wo,new Wo),r.set(ko,mqe),r.set(R4,new uV(r)),r.set(B0,new DV(r)),r.set(dh,new dh(r)),r.set(Fa,new Fa),r.set(ma,SM(r,aMe)),EW(r),cPe(r),UEe(r),r.set(jr,new jr(r,e)),r.set(ml,new TV(r)),r.set(Vl,new BV(r)),r.set(Li,new bV(r)),r.set(vk,new vk(r));let a=new dC(r);return r.set(Vr,a),r.set(dC,a),r.set(Dn,new Y8(r)),r.set(pl,new pl(r)),lqe(r),dDe(r),r.set(dc,new dc),r.set(aC,new aC),r.set(yh,new yh),r.set(Gu,new fV),r.set(Cg,new Cg),r.set(Pp,new II(r)),r.set(fh,new fh(r)),r.set(cA,new cA(r)),r.set(Ua,new Ua(r)),r.set(Zl,new xV(r)),r.set(Uy,new EV(r)),r.set(Fd,new Fd(r)),r}o(Uqe,"createLanguageServerContext");d();var iue=require("events"),wk=tt(require("fs"));var FV=tt(T0());d();var Wqe=tt(require("fs")),Gqe=tt(require("http")),X6=tt(require("path"));var PV=class{constructor(t,r){this.port=t;let n;this.server=Gqe.createServer((i,s)=>{if(i.headers.accept&&i.headers.accept=="text/event-stream")switch(s.writeHead(200,{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}),i.url){case"/stdin":r.on("read",l=>{qqe(s,JSON.stringify(l))});return;case"/stdout":r.on("write",l=>{qqe(s,JSON.stringify(l))});return;default:s.writeHead(404),s.end();return}s.writeHead(200,{"Content-Type":"text/html"});let a=__dirname;X6.basename(__dirname)!=="debug"&&(a=X6.dirname(__dirname)),n??=Wqe.readFileSync(X6.join(a,"dist","debugServer.html")).toString(),s.write(n),s.end()}),this.server.on("error",i=>{console.error(i)})}static{o(this,"DebugServer")}listen(){return this.server.listen(this.port),this}getPort(){return this.server.address().port}};function qqe(e,t){e.write("data: "+t.toString().replace(/\n/g,`
data: `)+`

`)}o(qqe,"writeData");var oue=class extends FV.AbstractMessageWriter{constructor(r,n){super();this.delegate=r;this.ev=n}static{o(this,"DebugMessageWriter")}async write(r){return this.ev.emit("write",r),this.delegate.write(r)}end(){this.ev.emit("end"),this.delegate.end()}},sue=class extends FV.AbstractMessageReader{constructor(r,n){super();this.delegate=r;this.ev=n}static{o(this,"DebugMessageReader")}listen(r){return this.delegate.listen(n=>{this.ev.emit("read",n),r(n)})}};async function Hqe(e,t,r){let n,i=parseInt(e.GH_COPILOT_DEBUG_UI_PORT??e.GITHUB_COPILOT_DEBUG_UI_PORT);if(!isNaN(i)){n??=new iue.EventEmitter;let l=new PV(i,n).listen();i===0&&await kV(`http://localhost:${l.getPort()}`)}let s=e.GITHUB_COPILOT_RECORD??"",a;try{let l=Date.now().toString();s==="1"||s==="true"?a=wk.openSync(`stdio${l}.log`,"w"):s&&s!=="0"&&s!=="false"&&(a=wk.openSync(s.replaceAll("%s",l),"w"))}catch(l){console.error(l)}if(a){let l=o(c=>{a&&wk.appendFile(a,c,u=>{u&&(a=void 0,console.error(u))})},"log");n??=new iue.EventEmitter,n.on("read",c=>l(`<-- ${JSON.stringify(c)}
`)),n.on("write",c=>l(`--> ${JSON.stringify(c)}
`))}return n&&(t=new sue(t,n),r=new oue(r,n)),[t,r]}o(Hqe,"wrapTransports");async function zqe(){let e=v4e(process.argv.slice(2)).version(new co().getDisplayVersion()).strict().option("debug",{type:"boolean",hidden:!0}).option("clientProcessId",{type:"string",hidden:!0}).option("stdio",{type:"boolean",describe:"Use stdio"});"pkg"in process||e.option("node-ipc",{type:"boolean",describe:"Use node IPC",conflicts:"stdio"});let t=await e.parse(),r,n;t["node-ipc"]?(r=new Gd.IPCMessageReader(process),n=new Gd.IPCMessageWriter(process)):t.stdio?(r=new Gd.StreamMessageReader(process.stdin),n=new Gd.StreamMessageWriter(process.stdout)):(console.error("error: required option '--stdio' not specified"),process.exit(1)),"pkg"in process&&process.platform!=="win32"&&(process.env.TMPDIR=await Vqe.mkdtemp(jqe.default.tmpdir()+"/github-copilot-"));let i=(0,Gd.createConnection)(Gd.ProposedFeatures.all,...await Hqe(process.env,r,n)),s=Uqe(i);console=TCe(s);let a=s.get(jr);r.onClose(()=>a.onExit()),process.on("SIGINT",()=>{a.onExit().finally(()=>process.exit(130)).catch(()=>{})}),process.on("SIGTERM",()=>{a.onExit().finally(()=>process.exit(143)).catch(()=>{})}),a.listen()}o(zqe,"main");$qe.isMainThread?require.main===module&&zqe():vCe()&&ICe();0&&(module.exports={getTokenizer,main});
//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
/*! Bundled license information:

crypto-js/ripemd160.js:
  (** @preserve
  	(c) 2012 by Cdric Mesnil. All rights reserved.
  
  	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
  
  	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
  	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
  
  	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  	*)

crypto-js/mode-ctr-gladman.js:
  (** @preserve
   * Counter block mode compatible with  Dr Brian Gladman fileenc.c
   * derived from CryptoJS.mode.CTR
   * Jan Hruby jhruby.web@gmail.com
   *)

@microsoft/applicationinsights-common/dist/es5/applicationinsights-common.js:
  (*!
   * Application Insights JavaScript SDK - Common, 3.3.6
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.8 *)

@microsoft/applicationinsights-web-basic/dist/es5/applicationinsights-web-basic.js:
  (*!
   * Application Insights JavaScript Web SDK - Basic, 3.3.6
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.8 *)
  (*!
   * NevWare21 Solutions LLC - ts-async, 0.5.4
   * https://github.com/nevware21/ts-async
   * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.
   * Licensed under the MIT license.
   *)

git-url-parse/lib/index.js:
  (*!
   * buildToken
   * Builds OAuth token prefix (helper function)
   *
   * @name buildToken
   * @function
   * @param {GitUrl} obj The parsed Git url object.
   * @return {String} token prefix
   *)

@vscode/prompt-tsx/dist/base/util/vs/nls.js:
  (*!!! DO NOT modify, this file was COPIED from 'microsoft/vscode' *)

@vscode/prompt-tsx/dist/base/util/vs/common/platform.js:
  (*!!! DO NOT modify, this file was COPIED from 'microsoft/vscode' *)

@vscode/prompt-tsx/dist/base/util/vs/common/process.js:
  (*!!! DO NOT modify, this file was COPIED from 'microsoft/vscode' *)

@vscode/prompt-tsx/dist/base/util/vs/common/path.js:
  (*!!! DO NOT modify, this file was COPIED from 'microsoft/vscode' *)

@vscode/prompt-tsx/dist/base/util/vs/common/uri.js:
  (*!!! DO NOT modify, this file was COPIED from 'microsoft/vscode' *)

undici/lib/web/fetch/body.js:
  (*! formdata-polyfill. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)

undici/lib/web/websocket/frame.js:
  (*! ws. MIT License. Einar Otto Stangvik <einaros@gmail.com> *)

yargs-parser/build/lib/string-utils.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/tokenize-arg-string.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/yargs-parser-types.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/yargs-parser.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/index.js:
  (**
   * @fileoverview Main entrypoint for libraries using yargs-parser in Node.js
   * CJS and ESM environments.
   *
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/
//# sourceMappingURL=main.js.map
