"use strict";var TUe=Object.create;var Sx=Object.defineProperty;var tce=Object.getOwnPropertyDescriptor;var wUe=Object.getOwnPropertyNames;var _Ue=Object.getPrototypeOf,SUe=Object.prototype.hasOwnProperty;var Z0e=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),ece=e=>{throw TypeError(e)};var o=(e,t)=>Sx(e,"name",{value:t,configurable:!0});var BUe=(e,t)=>()=>(e&&(t=e(e=0)),t);var V=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Fh=(e,t)=>{for(var r in t)Sx(e,r,{get:t[r],enumerable:!0})},rce=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of wUe(t))!SUe.call(e,i)&&i!==r&&Sx(e,i,{get:()=>t[i],enumerable:!(n=tce(t,i))||n.enumerable});return e};var ft=(e,t,r)=>(r=e!=null?TUe(_Ue(e)):{},rce(t||!e||!e.__esModule?Sx(r,"default",{value:e,enumerable:!0}):r,e)),kUe=e=>rce(Sx({},"__esModule",{value:!0}),e),ru=(e,t,r,n)=>{for(var i=n>1?void 0:n?tce(t,r):t,s=e.length-1,a;s>=0;s--)(a=e[s])&&(i=(n?a(t,r,i):a(i))||i);return n&&i&&Sx(t,r,i),i},Aa=(e,t)=>(r,n)=>t(r,n,e);var BV=(e,t,r)=>{if(t!=null){typeof t!="object"&&typeof t!="function"&&ece("Object expected");var n,i;r&&(n=t[Z0e("asyncDispose")]),n===void 0&&(n=t[Z0e("dispose")],r&&(i=n)),typeof n!="function"&&ece("Object not disposable"),i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),e.push([r,n,t])}else r&&e.push([r]);return t},kV=(e,t,r)=>{var n=typeof SuppressedError=="function"?SuppressedError:function(a,l,c,u){return u=Error(c),u.name="SuppressedError",u.error=a,u.suppressed=l,u},i=a=>t=r?new n(a,t,"An error was suppressed during disposal"):(r=!0,a),s=a=>{for(;a=e.pop();)try{var l=a[1]&&a[1].call(a[2]);if(a[0])return Promise.resolve(l).then(s,c=>(i(c),s()))}catch(c){i(c)}if(r)throw t};return s()};var importMetaUrlShim,d=BUe(()=>{"use strict";importMetaUrlShim=typeof document>"u"?require("node:url").pathToFileURL(__filename).href:importMetaUrlShim});var ice=V(RV=>{d();var nce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");RV.encode=function(e){if(0<=e&&e<nce.length)return nce[e];throw new TypeError("Must be between 0 and 63: "+e)};RV.decode=function(e){var t=65,r=90,n=97,i=122,s=48,a=57,l=43,c=47,u=26,f=52;return t<=e&&e<=r?e-t:n<=e&&e<=i?e-n+u:s<=e&&e<=a?e-s+f:e==l?62:e==c?63:-1}});var NV=V(PV=>{d();var oce=ice(),DV=5,sce=1<<DV,ace=sce-1,lce=sce;function RUe(e){return e<0?(-e<<1)+1:(e<<1)+0}o(RUe,"toVLQSigned");function DUe(e){var t=(e&1)===1,r=e>>1;return t?-r:r}o(DUe,"fromVLQSigned");PV.encode=o(function(t){var r="",n,i=RUe(t);do n=i&ace,i>>>=DV,i>0&&(n|=lce),r+=oce.encode(n);while(i>0);return r},"base64VLQ_encode");PV.decode=o(function(t,r,n){var i=t.length,s=0,a=0,l,c;do{if(r>=i)throw new Error("Expected more digits in base 64 VLQ value.");if(c=oce.decode(t.charCodeAt(r++)),c===-1)throw new Error("Invalid base64 digit: "+t.charAt(r-1));l=!!(c&lce),c&=ace,s=s+(c<<a),a+=DV}while(l);n.value=DUe(s),n.rest=r},"base64VLQ_decode")});var Rx=V(r0=>{d();function PUe(e,t,r){if(t in e)return e[t];if(arguments.length===3)return r;throw new Error('"'+t+'" is a required argument.')}o(PUe,"getArg");r0.getArg=PUe;var cce=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,NUe=/^data:.+\,.+$/;function D9(e){var t=e.match(cce);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}o(D9,"urlParse");r0.urlParse=D9;function Bx(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}o(Bx,"urlGenerate");r0.urlGenerate=Bx;function FV(e){var t=e,r=D9(e);if(r){if(!r.path)return e;t=r.path}for(var n=r0.isAbsolute(t),i=t.split(/\/+/),s,a=0,l=i.length-1;l>=0;l--)s=i[l],s==="."?i.splice(l,1):s===".."?a++:a>0&&(s===""?(i.splice(l+1,a),a=0):(i.splice(l,2),a--));return t=i.join("/"),t===""&&(t=n?"/":"."),r?(r.path=t,Bx(r)):t}o(FV,"normalize");r0.normalize=FV;function uce(e,t){e===""&&(e="."),t===""&&(t=".");var r=D9(t),n=D9(e);if(n&&(e=n.path||"/"),r&&!r.scheme)return n&&(r.scheme=n.scheme),Bx(r);if(r||t.match(NUe))return t;if(n&&!n.host&&!n.path)return n.host=t,Bx(n);var i=t.charAt(0)==="/"?t:FV(e.replace(/\/+$/,"")+"/"+t);return n?(n.path=i,Bx(n)):i}o(uce,"join");r0.join=uce;r0.isAbsolute=function(e){return e.charAt(0)==="/"||cce.test(e)};function FUe(e,t){e===""&&(e="."),e=e.replace(/\/$/,"");for(var r=0;t.indexOf(e+"/")!==0;){var n=e.lastIndexOf("/");if(n<0||(e=e.slice(0,n),e.match(/^([^\/]+:\/)?\/*$/)))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)}o(FUe,"relative");r0.relative=FUe;var fce=function(){var e=Object.create(null);return!("__proto__"in e)}();function dce(e){return e}o(dce,"identity");function LUe(e){return mce(e)?"$"+e:e}o(LUe,"toSetString");r0.toSetString=fce?dce:LUe;function QUe(e){return mce(e)?e.slice(1):e}o(QUe,"fromSetString");r0.fromSetString=fce?dce:QUe;function mce(e){if(!e)return!1;var t=e.length;if(t<9||e.charCodeAt(t-1)!==95||e.charCodeAt(t-2)!==95||e.charCodeAt(t-3)!==111||e.charCodeAt(t-4)!==116||e.charCodeAt(t-5)!==111||e.charCodeAt(t-6)!==114||e.charCodeAt(t-7)!==112||e.charCodeAt(t-8)!==95||e.charCodeAt(t-9)!==95)return!1;for(var r=t-10;r>=0;r--)if(e.charCodeAt(r)!==36)return!1;return!0}o(mce,"isProtoString");function MUe(e,t,r){var n=kx(e.source,t.source);return n!==0||(n=e.originalLine-t.originalLine,n!==0)||(n=e.originalColumn-t.originalColumn,n!==0||r)||(n=e.generatedColumn-t.generatedColumn,n!==0)||(n=e.generatedLine-t.generatedLine,n!==0)?n:kx(e.name,t.name)}o(MUe,"compareByOriginalPositions");r0.compareByOriginalPositions=MUe;function OUe(e,t,r){var n=e.generatedLine-t.generatedLine;return n!==0||(n=e.generatedColumn-t.generatedColumn,n!==0||r)||(n=kx(e.source,t.source),n!==0)||(n=e.originalLine-t.originalLine,n!==0)||(n=e.originalColumn-t.originalColumn,n!==0)?n:kx(e.name,t.name)}o(OUe,"compareByGeneratedPositionsDeflated");r0.compareByGeneratedPositionsDeflated=OUe;function kx(e,t){return e===t?0:e===null?1:t===null?-1:e>t?1:-1}o(kx,"strcmp");function UUe(e,t){var r=e.generatedLine-t.generatedLine;return r!==0||(r=e.generatedColumn-t.generatedColumn,r!==0)||(r=kx(e.source,t.source),r!==0)||(r=e.originalLine-t.originalLine,r!==0)||(r=e.originalColumn-t.originalColumn,r!==0)?r:kx(e.name,t.name)}o(UUe,"compareByGeneratedPositionsInflated");r0.compareByGeneratedPositionsInflated=UUe;function qUe(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))}o(qUe,"parseSourceMapInput");r0.parseSourceMapInput=qUe;function GUe(e,t,r){if(t=t||"",e&&(e[e.length-1]!=="/"&&t[0]!=="/"&&(e+="/"),t=e+t),r){var n=D9(r);if(!n)throw new Error("sourceMapURL could not be parsed");if(n.path){var i=n.path.lastIndexOf("/");i>=0&&(n.path=n.path.substring(0,i+1))}t=uce(Bx(n),t)}return FV(t)}o(GUe,"computeSourceURL");r0.computeSourceURL=GUe});var MV=V(hce=>{d();var LV=Rx(),QV=Object.prototype.hasOwnProperty,P3=typeof Map<"u";function Sg(){this._array=[],this._set=P3?new Map:Object.create(null)}o(Sg,"ArraySet");Sg.fromArray=o(function(t,r){for(var n=new Sg,i=0,s=t.length;i<s;i++)n.add(t[i],r);return n},"ArraySet_fromArray");Sg.prototype.size=o(function(){return P3?this._set.size:Object.getOwnPropertyNames(this._set).length},"ArraySet_size");Sg.prototype.add=o(function(t,r){var n=P3?t:LV.toSetString(t),i=P3?this.has(t):QV.call(this._set,n),s=this._array.length;(!i||r)&&this._array.push(t),i||(P3?this._set.set(t,s):this._set[n]=s)},"ArraySet_add");Sg.prototype.has=o(function(t){if(P3)return this._set.has(t);var r=LV.toSetString(t);return QV.call(this._set,r)},"ArraySet_has");Sg.prototype.indexOf=o(function(t){if(P3){var r=this._set.get(t);if(r>=0)return r}else{var n=LV.toSetString(t);if(QV.call(this._set,n))return this._set[n]}throw new Error('"'+t+'" is not in the set.')},"ArraySet_indexOf");Sg.prototype.at=o(function(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)},"ArraySet_at");Sg.prototype.toArray=o(function(){return this._array.slice()},"ArraySet_toArray");hce.ArraySet=Sg});var Ace=V(gce=>{d();var pce=Rx();function WUe(e,t){var r=e.generatedLine,n=t.generatedLine,i=e.generatedColumn,s=t.generatedColumn;return n>r||n==r&&s>=i||pce.compareByGeneratedPositionsInflated(e,t)<=0}o(WUe,"generatedPositionAfter");function tk(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}o(tk,"MappingList");tk.prototype.unsortedForEach=o(function(t,r){this._array.forEach(t,r)},"MappingList_forEach");tk.prototype.add=o(function(t){WUe(this._last,t)?(this._last=t,this._array.push(t)):(this._sorted=!1,this._array.push(t))},"MappingList_add");tk.prototype.toArray=o(function(){return this._sorted||(this._array.sort(pce.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},"MappingList_toArray");gce.MappingList=tk});var OV=V(yce=>{d();var P9=NV(),ya=Rx(),rk=MV().ArraySet,HUe=Ace().MappingList;function Cf(e){e||(e={}),this._file=ya.getArg(e,"file",null),this._sourceRoot=ya.getArg(e,"sourceRoot",null),this._skipValidation=ya.getArg(e,"skipValidation",!1),this._sources=new rk,this._names=new rk,this._mappings=new HUe,this._sourcesContents=null}o(Cf,"SourceMapGenerator");Cf.prototype._version=3;Cf.fromSourceMap=o(function(t){var r=t.sourceRoot,n=new Cf({file:t.file,sourceRoot:r});return t.eachMapping(function(i){var s={generated:{line:i.generatedLine,column:i.generatedColumn}};i.source!=null&&(s.source=i.source,r!=null&&(s.source=ya.relative(r,s.source)),s.original={line:i.originalLine,column:i.originalColumn},i.name!=null&&(s.name=i.name)),n.addMapping(s)}),t.sources.forEach(function(i){var s=i;r!==null&&(s=ya.relative(r,i)),n._sources.has(s)||n._sources.add(s);var a=t.sourceContentFor(i);a!=null&&n.setSourceContent(i,a)}),n},"SourceMapGenerator_fromSourceMap");Cf.prototype.addMapping=o(function(t){var r=ya.getArg(t,"generated"),n=ya.getArg(t,"original",null),i=ya.getArg(t,"source",null),s=ya.getArg(t,"name",null);this._skipValidation||this._validateMapping(r,n,i,s),i!=null&&(i=String(i),this._sources.has(i)||this._sources.add(i)),s!=null&&(s=String(s),this._names.has(s)||this._names.add(s)),this._mappings.add({generatedLine:r.line,generatedColumn:r.column,originalLine:n!=null&&n.line,originalColumn:n!=null&&n.column,source:i,name:s})},"SourceMapGenerator_addMapping");Cf.prototype.setSourceContent=o(function(t,r){var n=t;this._sourceRoot!=null&&(n=ya.relative(this._sourceRoot,n)),r!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[ya.toSetString(n)]=r):this._sourcesContents&&(delete this._sourcesContents[ya.toSetString(n)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},"SourceMapGenerator_setSourceContent");Cf.prototype.applySourceMap=o(function(t,r,n){var i=r;if(r==null){if(t.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);i=t.file}var s=this._sourceRoot;s!=null&&(i=ya.relative(s,i));var a=new rk,l=new rk;this._mappings.unsortedForEach(function(c){if(c.source===i&&c.originalLine!=null){var u=t.originalPositionFor({line:c.originalLine,column:c.originalColumn});u.source!=null&&(c.source=u.source,n!=null&&(c.source=ya.join(n,c.source)),s!=null&&(c.source=ya.relative(s,c.source)),c.originalLine=u.line,c.originalColumn=u.column,u.name!=null&&(c.name=u.name))}var f=c.source;f!=null&&!a.has(f)&&a.add(f);var m=c.name;m!=null&&!l.has(m)&&l.add(m)},this),this._sources=a,this._names=l,t.sources.forEach(function(c){var u=t.sourceContentFor(c);u!=null&&(n!=null&&(c=ya.join(n,c)),s!=null&&(c=ya.relative(s,c)),this.setSourceContent(c,u))},this)},"SourceMapGenerator_applySourceMap");Cf.prototype._validateMapping=o(function(t,r,n,i){if(r&&typeof r.line!="number"&&typeof r.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(t&&"line"in t&&"column"in t&&t.line>0&&t.column>=0&&!r&&!n&&!i)){if(t&&"line"in t&&"column"in t&&r&&"line"in r&&"column"in r&&t.line>0&&t.column>=0&&r.line>0&&r.column>=0&&n)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:t,source:n,original:r,name:i}))}},"SourceMapGenerator_validateMapping");Cf.prototype._serializeMappings=o(function(){for(var t=0,r=1,n=0,i=0,s=0,a=0,l="",c,u,f,m,h=this._mappings.toArray(),p=0,A=h.length;p<A;p++){if(u=h[p],c="",u.generatedLine!==r)for(t=0;u.generatedLine!==r;)c+=";",r++;else if(p>0){if(!ya.compareByGeneratedPositionsInflated(u,h[p-1]))continue;c+=","}c+=P9.encode(u.generatedColumn-t),t=u.generatedColumn,u.source!=null&&(m=this._sources.indexOf(u.source),c+=P9.encode(m-a),a=m,c+=P9.encode(u.originalLine-1-i),i=u.originalLine-1,c+=P9.encode(u.originalColumn-n),n=u.originalColumn,u.name!=null&&(f=this._names.indexOf(u.name),c+=P9.encode(f-s),s=f)),l+=c}return l},"SourceMapGenerator_serializeMappings");Cf.prototype._generateSourcesContent=o(function(t,r){return t.map(function(n){if(!this._sourcesContents)return null;r!=null&&(n=ya.relative(r,n));var i=ya.toSetString(n);return Object.prototype.hasOwnProperty.call(this._sourcesContents,i)?this._sourcesContents[i]:null},this)},"SourceMapGenerator_generateSourcesContent");Cf.prototype.toJSON=o(function(){var t={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(t.file=this._file),this._sourceRoot!=null&&(t.sourceRoot=this._sourceRoot),this._sourcesContents&&(t.sourcesContent=this._generateSourcesContent(t.sources,t.sourceRoot)),t},"SourceMapGenerator_toJSON");Cf.prototype.toString=o(function(){return JSON.stringify(this.toJSON())},"SourceMapGenerator_toString");yce.SourceMapGenerator=Cf});var Cce=V(N3=>{d();N3.GREATEST_LOWER_BOUND=1;N3.LEAST_UPPER_BOUND=2;function UV(e,t,r,n,i,s){var a=Math.floor((t-e)/2)+e,l=i(r,n[a],!0);return l===0?a:l>0?t-a>1?UV(a,t,r,n,i,s):s==N3.LEAST_UPPER_BOUND?t<n.length?t:-1:a:a-e>1?UV(e,a,r,n,i,s):s==N3.LEAST_UPPER_BOUND?a:e<0?-1:e}o(UV,"recursiveSearch");N3.search=o(function(t,r,n,i){if(r.length===0)return-1;var s=UV(-1,r.length,t,r,n,i||N3.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&n(r[s],r[s-1],!0)===0;)--s;return s},"search")});var xce=V(Ece=>{d();function qV(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}o(qV,"swap");function VUe(e,t){return Math.round(e+Math.random()*(t-e))}o(VUe,"randomIntInRange");function GV(e,t,r,n){if(r<n){var i=VUe(r,n),s=r-1;qV(e,i,n);for(var a=e[n],l=r;l<n;l++)t(e[l],a)<=0&&(s+=1,qV(e,s,l));qV(e,s+1,l);var c=s+1;GV(e,t,r,c-1),GV(e,t,c+1,n)}}o(GV,"doQuickSort");Ece.quickSort=function(e,t){GV(e,t,0,e.length-1)}});var bce=V(nk=>{d();var Pr=Rx(),WV=Cce(),Dx=MV().ArraySet,jUe=NV(),N9=xce().quickSort;function Ho(e,t){var r=e;return typeof e=="string"&&(r=Pr.parseSourceMapInput(e)),r.sections!=null?new Yd(r,t):new Dl(r,t)}o(Ho,"SourceMapConsumer");Ho.fromSourceMap=function(e,t){return Dl.fromSourceMap(e,t)};Ho.prototype._version=3;Ho.prototype.__generatedMappings=null;Object.defineProperty(Ho.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:o(function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings},"get")});Ho.prototype.__originalMappings=null;Object.defineProperty(Ho.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:o(function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings},"get")});Ho.prototype._charIsMappingSeparator=o(function(t,r){var n=t.charAt(r);return n===";"||n===","},"SourceMapConsumer_charIsMappingSeparator");Ho.prototype._parseMappings=o(function(t,r){throw new Error("Subclasses must implement _parseMappings")},"SourceMapConsumer_parseMappings");Ho.GENERATED_ORDER=1;Ho.ORIGINAL_ORDER=2;Ho.GREATEST_LOWER_BOUND=1;Ho.LEAST_UPPER_BOUND=2;Ho.prototype.eachMapping=o(function(t,r,n){var i=r||null,s=n||Ho.GENERATED_ORDER,a;switch(s){case Ho.GENERATED_ORDER:a=this._generatedMappings;break;case Ho.ORIGINAL_ORDER:a=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var l=this.sourceRoot;a.map(function(c){var u=c.source===null?null:this._sources.at(c.source);return u=Pr.computeSourceURL(l,u,this._sourceMapURL),{source:u,generatedLine:c.generatedLine,generatedColumn:c.generatedColumn,originalLine:c.originalLine,originalColumn:c.originalColumn,name:c.name===null?null:this._names.at(c.name)}},this).forEach(t,i)},"SourceMapConsumer_eachMapping");Ho.prototype.allGeneratedPositionsFor=o(function(t){var r=Pr.getArg(t,"line"),n={source:Pr.getArg(t,"source"),originalLine:r,originalColumn:Pr.getArg(t,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var i=[],s=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",Pr.compareByOriginalPositions,WV.LEAST_UPPER_BOUND);if(s>=0){var a=this._originalMappings[s];if(t.column===void 0)for(var l=a.originalLine;a&&a.originalLine===l;)i.push({line:Pr.getArg(a,"generatedLine",null),column:Pr.getArg(a,"generatedColumn",null),lastColumn:Pr.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s];else for(var c=a.originalColumn;a&&a.originalLine===r&&a.originalColumn==c;)i.push({line:Pr.getArg(a,"generatedLine",null),column:Pr.getArg(a,"generatedColumn",null),lastColumn:Pr.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s]}return i},"SourceMapConsumer_allGeneratedPositionsFor");nk.SourceMapConsumer=Ho;function Dl(e,t){var r=e;typeof e=="string"&&(r=Pr.parseSourceMapInput(e));var n=Pr.getArg(r,"version"),i=Pr.getArg(r,"sources"),s=Pr.getArg(r,"names",[]),a=Pr.getArg(r,"sourceRoot",null),l=Pr.getArg(r,"sourcesContent",null),c=Pr.getArg(r,"mappings"),u=Pr.getArg(r,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);a&&(a=Pr.normalize(a)),i=i.map(String).map(Pr.normalize).map(function(f){return a&&Pr.isAbsolute(a)&&Pr.isAbsolute(f)?Pr.relative(a,f):f}),this._names=Dx.fromArray(s.map(String),!0),this._sources=Dx.fromArray(i,!0),this._absoluteSources=this._sources.toArray().map(function(f){return Pr.computeSourceURL(a,f,t)}),this.sourceRoot=a,this.sourcesContent=l,this._mappings=c,this._sourceMapURL=t,this.file=u}o(Dl,"BasicSourceMapConsumer");Dl.prototype=Object.create(Ho.prototype);Dl.prototype.consumer=Ho;Dl.prototype._findSourceIndex=function(e){var t=e;if(this.sourceRoot!=null&&(t=Pr.relative(this.sourceRoot,t)),this._sources.has(t))return this._sources.indexOf(t);var r;for(r=0;r<this._absoluteSources.length;++r)if(this._absoluteSources[r]==e)return r;return-1};Dl.fromSourceMap=o(function(t,r){var n=Object.create(Dl.prototype),i=n._names=Dx.fromArray(t._names.toArray(),!0),s=n._sources=Dx.fromArray(t._sources.toArray(),!0);n.sourceRoot=t._sourceRoot,n.sourcesContent=t._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=t._file,n._sourceMapURL=r,n._absoluteSources=n._sources.toArray().map(function(p){return Pr.computeSourceURL(n.sourceRoot,p,r)});for(var a=t._mappings.toArray().slice(),l=n.__generatedMappings=[],c=n.__originalMappings=[],u=0,f=a.length;u<f;u++){var m=a[u],h=new vce;h.generatedLine=m.generatedLine,h.generatedColumn=m.generatedColumn,m.source&&(h.source=s.indexOf(m.source),h.originalLine=m.originalLine,h.originalColumn=m.originalColumn,m.name&&(h.name=i.indexOf(m.name)),c.push(h)),l.push(h)}return N9(n.__originalMappings,Pr.compareByOriginalPositions),n},"SourceMapConsumer_fromSourceMap");Dl.prototype._version=3;Object.defineProperty(Dl.prototype,"sources",{get:o(function(){return this._absoluteSources.slice()},"get")});function vce(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}o(vce,"Mapping");Dl.prototype._parseMappings=o(function(t,r){for(var n=1,i=0,s=0,a=0,l=0,c=0,u=t.length,f=0,m={},h={},p=[],A=[],E,x,b,v,S;f<u;)if(t.charAt(f)===";")n++,f++,i=0;else if(t.charAt(f)===",")f++;else{for(E=new vce,E.generatedLine=n,v=f;v<u&&!this._charIsMappingSeparator(t,v);v++);if(x=t.slice(f,v),b=m[x],b)f+=x.length;else{for(b=[];f<v;)jUe.decode(t,f,h),S=h.value,f=h.rest,b.push(S);if(b.length===2)throw new Error("Found a source, but no line and column");if(b.length===3)throw new Error("Found a source and line, but no column");m[x]=b}E.generatedColumn=i+b[0],i=E.generatedColumn,b.length>1&&(E.source=l+b[1],l+=b[1],E.originalLine=s+b[2],s=E.originalLine,E.originalLine+=1,E.originalColumn=a+b[3],a=E.originalColumn,b.length>4&&(E.name=c+b[4],c+=b[4])),A.push(E),typeof E.originalLine=="number"&&p.push(E)}N9(A,Pr.compareByGeneratedPositionsDeflated),this.__generatedMappings=A,N9(p,Pr.compareByOriginalPositions),this.__originalMappings=p},"SourceMapConsumer_parseMappings");Dl.prototype._findMapping=o(function(t,r,n,i,s,a){if(t[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+t[n]);if(t[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+t[i]);return WV.search(t,r,s,a)},"SourceMapConsumer_findMapping");Dl.prototype.computeColumnSpans=o(function(){for(var t=0;t<this._generatedMappings.length;++t){var r=this._generatedMappings[t];if(t+1<this._generatedMappings.length){var n=this._generatedMappings[t+1];if(r.generatedLine===n.generatedLine){r.lastGeneratedColumn=n.generatedColumn-1;continue}}r.lastGeneratedColumn=1/0}},"SourceMapConsumer_computeColumnSpans");Dl.prototype.originalPositionFor=o(function(t){var r={generatedLine:Pr.getArg(t,"line"),generatedColumn:Pr.getArg(t,"column")},n=this._findMapping(r,this._generatedMappings,"generatedLine","generatedColumn",Pr.compareByGeneratedPositionsDeflated,Pr.getArg(t,"bias",Ho.GREATEST_LOWER_BOUND));if(n>=0){var i=this._generatedMappings[n];if(i.generatedLine===r.generatedLine){var s=Pr.getArg(i,"source",null);s!==null&&(s=this._sources.at(s),s=Pr.computeSourceURL(this.sourceRoot,s,this._sourceMapURL));var a=Pr.getArg(i,"name",null);return a!==null&&(a=this._names.at(a)),{source:s,line:Pr.getArg(i,"originalLine",null),column:Pr.getArg(i,"originalColumn",null),name:a}}}return{source:null,line:null,column:null,name:null}},"SourceMapConsumer_originalPositionFor");Dl.prototype.hasContentsOfAllSources=o(function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(t){return t==null}):!1},"BasicSourceMapConsumer_hasContentsOfAllSources");Dl.prototype.sourceContentFor=o(function(t,r){if(!this.sourcesContent)return null;var n=this._findSourceIndex(t);if(n>=0)return this.sourcesContent[n];var i=t;this.sourceRoot!=null&&(i=Pr.relative(this.sourceRoot,i));var s;if(this.sourceRoot!=null&&(s=Pr.urlParse(this.sourceRoot))){var a=i.replace(/^file:\/\//,"");if(s.scheme=="file"&&this._sources.has(a))return this.sourcesContent[this._sources.indexOf(a)];if((!s.path||s.path=="/")&&this._sources.has("/"+i))return this.sourcesContent[this._sources.indexOf("/"+i)]}if(r)return null;throw new Error('"'+i+'" is not in the SourceMap.')},"SourceMapConsumer_sourceContentFor");Dl.prototype.generatedPositionFor=o(function(t){var r=Pr.getArg(t,"source");if(r=this._findSourceIndex(r),r<0)return{line:null,column:null,lastColumn:null};var n={source:r,originalLine:Pr.getArg(t,"line"),originalColumn:Pr.getArg(t,"column")},i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",Pr.compareByOriginalPositions,Pr.getArg(t,"bias",Ho.GREATEST_LOWER_BOUND));if(i>=0){var s=this._originalMappings[i];if(s.source===n.source)return{line:Pr.getArg(s,"generatedLine",null),column:Pr.getArg(s,"generatedColumn",null),lastColumn:Pr.getArg(s,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},"SourceMapConsumer_generatedPositionFor");nk.BasicSourceMapConsumer=Dl;function Yd(e,t){var r=e;typeof e=="string"&&(r=Pr.parseSourceMapInput(e));var n=Pr.getArg(r,"version"),i=Pr.getArg(r,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new Dx,this._names=new Dx;var s={line:-1,column:0};this._sections=i.map(function(a){if(a.url)throw new Error("Support for url field in sections not implemented.");var l=Pr.getArg(a,"offset"),c=Pr.getArg(l,"line"),u=Pr.getArg(l,"column");if(c<s.line||c===s.line&&u<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");return s=l,{generatedOffset:{generatedLine:c+1,generatedColumn:u+1},consumer:new Ho(Pr.getArg(a,"map"),t)}})}o(Yd,"IndexedSourceMapConsumer");Yd.prototype=Object.create(Ho.prototype);Yd.prototype.constructor=Ho;Yd.prototype._version=3;Object.defineProperty(Yd.prototype,"sources",{get:o(function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e},"get")});Yd.prototype.originalPositionFor=o(function(t){var r={generatedLine:Pr.getArg(t,"line"),generatedColumn:Pr.getArg(t,"column")},n=WV.search(r,this._sections,function(s,a){var l=s.generatedLine-a.generatedOffset.generatedLine;return l||s.generatedColumn-a.generatedOffset.generatedColumn}),i=this._sections[n];return i?i.consumer.originalPositionFor({line:r.generatedLine-(i.generatedOffset.generatedLine-1),column:r.generatedColumn-(i.generatedOffset.generatedLine===r.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:t.bias}):{source:null,line:null,column:null,name:null}},"IndexedSourceMapConsumer_originalPositionFor");Yd.prototype.hasContentsOfAllSources=o(function(){return this._sections.every(function(t){return t.consumer.hasContentsOfAllSources()})},"IndexedSourceMapConsumer_hasContentsOfAllSources");Yd.prototype.sourceContentFor=o(function(t,r){for(var n=0;n<this._sections.length;n++){var i=this._sections[n],s=i.consumer.sourceContentFor(t,!0);if(s)return s}if(r)return null;throw new Error('"'+t+'" is not in the SourceMap.')},"IndexedSourceMapConsumer_sourceContentFor");Yd.prototype.generatedPositionFor=o(function(t){for(var r=0;r<this._sections.length;r++){var n=this._sections[r];if(n.consumer._findSourceIndex(Pr.getArg(t,"source"))!==-1){var i=n.consumer.generatedPositionFor(t);if(i){var s={line:i.line+(n.generatedOffset.generatedLine-1),column:i.column+(n.generatedOffset.generatedLine===i.line?n.generatedOffset.generatedColumn-1:0)};return s}}}return{line:null,column:null}},"IndexedSourceMapConsumer_generatedPositionFor");Yd.prototype._parseMappings=o(function(t,r){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var i=this._sections[n],s=i.consumer._generatedMappings,a=0;a<s.length;a++){var l=s[a],c=i.consumer._sources.at(l.source);c=Pr.computeSourceURL(i.consumer.sourceRoot,c,this._sourceMapURL),this._sources.add(c),c=this._sources.indexOf(c);var u=null;l.name&&(u=i.consumer._names.at(l.name),this._names.add(u),u=this._names.indexOf(u));var f={source:c,generatedLine:l.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:l.generatedColumn+(i.generatedOffset.generatedLine===l.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:l.originalLine,originalColumn:l.originalColumn,name:u};this.__generatedMappings.push(f),typeof f.originalLine=="number"&&this.__originalMappings.push(f)}N9(this.__generatedMappings,Pr.compareByGeneratedPositionsDeflated),N9(this.__originalMappings,Pr.compareByOriginalPositions)},"IndexedSourceMapConsumer_parseMappings");nk.IndexedSourceMapConsumer=Yd});var Tce=V(Ice=>{d();var $Ue=OV().SourceMapGenerator,ik=Rx(),zUe=/(\r?\n)/,YUe=10,Px="$$$isSourceNode$$$";function nu(e,t,r,n,i){this.children=[],this.sourceContents={},this.line=e??null,this.column=t??null,this.source=r??null,this.name=i??null,this[Px]=!0,n!=null&&this.add(n)}o(nu,"SourceNode");nu.fromStringWithSourceMap=o(function(t,r,n){var i=new nu,s=t.split(zUe),a=0,l=o(function(){var h=A(),p=A()||"";return h+p;function A(){return a<s.length?s[a++]:void 0}},"shiftNextLine"),c=1,u=0,f=null;return r.eachMapping(function(h){if(f!==null)if(c<h.generatedLine)m(f,l()),c++,u=0;else{var p=s[a]||"",A=p.substr(0,h.generatedColumn-u);s[a]=p.substr(h.generatedColumn-u),u=h.generatedColumn,m(f,A),f=h;return}for(;c<h.generatedLine;)i.add(l()),c++;if(u<h.generatedColumn){var p=s[a]||"";i.add(p.substr(0,h.generatedColumn)),s[a]=p.substr(h.generatedColumn),u=h.generatedColumn}f=h},this),a<s.length&&(f&&m(f,l()),i.add(s.splice(a).join(""))),r.sources.forEach(function(h){var p=r.sourceContentFor(h);p!=null&&(n!=null&&(h=ik.join(n,h)),i.setSourceContent(h,p))}),i;function m(h,p){if(h===null||h.source===void 0)i.add(p);else{var A=n?ik.join(n,h.source):h.source;i.add(new nu(h.originalLine,h.originalColumn,A,p,h.name))}}o(m,"addMappingWithCode")},"SourceNode_fromStringWithSourceMap");nu.prototype.add=o(function(t){if(Array.isArray(t))t.forEach(function(r){this.add(r)},this);else if(t[Px]||typeof t=="string")t&&this.children.push(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_add");nu.prototype.prepend=o(function(t){if(Array.isArray(t))for(var r=t.length-1;r>=0;r--)this.prepend(t[r]);else if(t[Px]||typeof t=="string")this.children.unshift(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_prepend");nu.prototype.walk=o(function(t){for(var r,n=0,i=this.children.length;n<i;n++)r=this.children[n],r[Px]?r.walk(t):r!==""&&t(r,{source:this.source,line:this.line,column:this.column,name:this.name})},"SourceNode_walk");nu.prototype.join=o(function(t){var r,n,i=this.children.length;if(i>0){for(r=[],n=0;n<i-1;n++)r.push(this.children[n]),r.push(t);r.push(this.children[n]),this.children=r}return this},"SourceNode_join");nu.prototype.replaceRight=o(function(t,r){var n=this.children[this.children.length-1];return n[Px]?n.replaceRight(t,r):typeof n=="string"?this.children[this.children.length-1]=n.replace(t,r):this.children.push("".replace(t,r)),this},"SourceNode_replaceRight");nu.prototype.setSourceContent=o(function(t,r){this.sourceContents[ik.toSetString(t)]=r},"SourceNode_setSourceContent");nu.prototype.walkSourceContents=o(function(t){for(var r=0,n=this.children.length;r<n;r++)this.children[r][Px]&&this.children[r].walkSourceContents(t);for(var i=Object.keys(this.sourceContents),r=0,n=i.length;r<n;r++)t(ik.fromSetString(i[r]),this.sourceContents[i[r]])},"SourceNode_walkSourceContents");nu.prototype.toString=o(function(){var t="";return this.walk(function(r){t+=r}),t},"SourceNode_toString");nu.prototype.toStringWithSourceMap=o(function(t){var r={code:"",line:1,column:0},n=new $Ue(t),i=!1,s=null,a=null,l=null,c=null;return this.walk(function(u,f){r.code+=u,f.source!==null&&f.line!==null&&f.column!==null?((s!==f.source||a!==f.line||l!==f.column||c!==f.name)&&n.addMapping({source:f.source,original:{line:f.line,column:f.column},generated:{line:r.line,column:r.column},name:f.name}),s=f.source,a=f.line,l=f.column,c=f.name,i=!0):i&&(n.addMapping({generated:{line:r.line,column:r.column}}),s=null,i=!1);for(var m=0,h=u.length;m<h;m++)u.charCodeAt(m)===YUe?(r.line++,r.column=0,m+1===h?(s=null,i=!1):i&&n.addMapping({source:f.source,original:{line:f.line,column:f.column},generated:{line:r.line,column:r.column},name:f.name})):r.column++}),this.walkSourceContents(function(u,f){n.setSourceContent(u,f)}),{code:r.code,map:n}},"SourceNode_toStringWithSourceMap");Ice.SourceNode=nu});var wce=V(ok=>{d();ok.SourceMapGenerator=OV().SourceMapGenerator;ok.SourceMapConsumer=bce().SourceMapConsumer;ok.SourceNode=Tce().SourceNode});var Sce=V((RRt,_ce)=>{d();var KUe=Object.prototype.toString,HV=typeof Buffer<"u"&&typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function JUe(e){return KUe.call(e).slice(8,-1)==="ArrayBuffer"}o(JUe,"isArrayBuffer");function XUe(e,t,r){t>>>=0;var n=e.byteLength-t;if(n<0)throw new RangeError("'offset' is out of bounds");if(r===void 0)r=n;else if(r>>>=0,r>n)throw new RangeError("'length' is out of bounds");return HV?Buffer.from(e.slice(t,t+r)):new Buffer(new Uint8Array(e.slice(t,t+r)))}o(XUe,"fromArrayBuffer");function ZUe(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!Buffer.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return HV?Buffer.from(e,t):new Buffer(e,t)}o(ZUe,"fromString");function eqe(e,t,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return JUe(e)?XUe(e,t,r):typeof e=="string"?ZUe(e,t):HV?Buffer.from(e):new Buffer(e)}o(eqe,"bufferFrom");_ce.exports=eqe});var Lce=V((L3,zV)=>{d();var tqe=wce().SourceMapConsumer,VV=require("path"),Lh;try{Lh=require("fs"),(!Lh.existsSync||!Lh.readFileSync)&&(Lh=null)}catch{}var rqe=Sce();function Bce(e,t){return e.require(t)}o(Bce,"dynamicRequire");var kce=!1,Rce=!1,jV=!1,F9="auto",F3={},L9={},nqe=/^data:application\/json[^,]+base64,/,x2=[],v2=[];function YV(){return F9==="browser"?!0:F9==="node"?!1:typeof window<"u"&&typeof XMLHttpRequest=="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}o(YV,"isInBrowser");function iqe(){return typeof process=="object"&&process!==null&&typeof process.on=="function"}o(iqe,"hasGlobalProcessEventEmitter");function oqe(){return typeof process=="object"&&process!==null?process.version:""}o(oqe,"globalProcessVersion");function sqe(){if(typeof process=="object"&&process!==null)return process.stderr}o(sqe,"globalProcessStderr");function aqe(e){if(typeof process=="object"&&process!==null&&typeof process.exit=="function")return process.exit(e)}o(aqe,"globalProcessExit");function sk(e){return function(t){for(var r=0;r<e.length;r++){var n=e[r](t);if(n)return n}return null}}o(sk,"handlerExec");var KV=sk(x2);x2.push(function(e){if(e=e.trim(),/^file:/.test(e)&&(e=e.replace(/file:\/\/\/(\w:)?/,function(n,i){return i?"":"/"})),e in F3)return F3[e];var t="";try{if(Lh)Lh.existsSync(e)&&(t=Lh.readFileSync(e,"utf8"));else{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),r.readyState===4&&r.status===200&&(t=r.responseText)}}catch{}return F3[e]=t});function $V(e,t){if(!e)return t;var r=VV.dirname(e),n=/^\w+:\/\/[^\/]*/.exec(r),i=n?n[0]:"",s=r.slice(i.length);return i&&/^\/\w\:/.test(s)?(i+="/",i+VV.resolve(r.slice(i.length),t).replace(/\\/g,"/")):i+VV.resolve(r.slice(i.length),t)}o($V,"supportRelativeURL");function lqe(e){var t;if(YV())try{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),t=r.readyState===4?r.responseText:null;var n=r.getResponseHeader("SourceMap")||r.getResponseHeader("X-SourceMap");if(n)return n}catch{}t=KV(e);for(var i=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,s,a;a=i.exec(t);)s=a;return s?s[1]:null}o(lqe,"retrieveSourceMapURL");var JV=sk(v2);v2.push(function(e){var t=lqe(e);if(!t)return null;var r;if(nqe.test(t)){var n=t.slice(t.indexOf(",")+1);r=rqe(n,"base64").toString(),t=e}else t=$V(e,t),r=KV(t);return r?{url:t,map:r}:null});function XV(e){var t=L9[e.source];if(!t){var r=JV(e.source);r?(t=L9[e.source]={url:r.url,map:new tqe(r.map)},t.map.sourcesContent&&t.map.sources.forEach(function(i,s){var a=t.map.sourcesContent[s];if(a){var l=$V(t.url,i);F3[l]=a}})):t=L9[e.source]={url:null,map:null}}if(t&&t.map&&typeof t.map.originalPositionFor=="function"){var n=t.map.originalPositionFor(e);if(n.source!==null)return n.source=$V(t.url,n.source),n}return e}o(XV,"mapSourcePosition");function Pce(e){var t=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(e);if(t){var r=XV({source:t[2],line:+t[3],column:t[4]-1});return"eval at "+t[1]+" ("+r.source+":"+r.line+":"+(r.column+1)+")"}return t=/^eval at ([^(]+) \((.+)\)$/.exec(e),t?"eval at "+t[1]+" ("+Pce(t[2])+")":e}o(Pce,"mapEvalOrigin");function cqe(){var e,t="";if(this.isNative())t="native";else{e=this.getScriptNameOrSourceURL(),!e&&this.isEval()&&(t=this.getEvalOrigin(),t+=", "),e?t+=e:t+="<anonymous>";var r=this.getLineNumber();if(r!=null){t+=":"+r;var n=this.getColumnNumber();n&&(t+=":"+n)}}var i="",s=this.getFunctionName(),a=!0,l=this.isConstructor(),c=!(this.isToplevel()||l);if(c){var u=this.getTypeName();u==="[object Object]"&&(u="null");var f=this.getMethodName();s?(u&&s.indexOf(u)!=0&&(i+=u+"."),i+=s,f&&s.indexOf("."+f)!=s.length-f.length-1&&(i+=" [as "+f+"]")):i+=u+"."+(f||"<anonymous>")}else l?i+="new "+(s||"<anonymous>"):s?i+=s:(i+=t,a=!1);return a&&(i+=" ("+t+")"),i}o(cqe,"CallSiteToString");function Dce(e){var t={};return Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(function(r){t[r]=/^(?:is|get)/.test(r)?function(){return e[r].call(e)}:e[r]}),t.toString=cqe,t}o(Dce,"cloneCallSite");function Nce(e,t){if(t===void 0&&(t={nextPosition:null,curPosition:null}),e.isNative())return t.curPosition=null,e;var r=e.getFileName()||e.getScriptNameOrSourceURL();if(r){var n=e.getLineNumber(),i=e.getColumnNumber()-1,s=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,a=s.test(oqe())?0:62;n===1&&i>a&&!YV()&&!e.isEval()&&(i-=a);var l=XV({source:r,line:n,column:i});t.curPosition=l,e=Dce(e);var c=e.getFunctionName;return e.getFunctionName=function(){return t.nextPosition==null?c():t.nextPosition.name||c()},e.getFileName=function(){return l.source},e.getLineNumber=function(){return l.line},e.getColumnNumber=function(){return l.column+1},e.getScriptNameOrSourceURL=function(){return l.source},e}var u=e.isEval()&&e.getEvalOrigin();return u&&(u=Pce(u),e=Dce(e),e.getEvalOrigin=function(){return u}),e}o(Nce,"wrapCallSite");function uqe(e,t){jV&&(F3={},L9={});for(var r=e.name||"Error",n=e.message||"",i=r+": "+n,s={nextPosition:null,curPosition:null},a=[],l=t.length-1;l>=0;l--)a.push(`
    at `+Nce(t[l],s)),s.nextPosition=s.curPosition;return s.curPosition=s.nextPosition=null,i+a.reverse().join("")}o(uqe,"prepareStackTrace");function Fce(e){var t=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(e.stack);if(t){var r=t[1],n=+t[2],i=+t[3],s=F3[r];if(!s&&Lh&&Lh.existsSync(r))try{s=Lh.readFileSync(r,"utf8")}catch{s=""}if(s){var a=s.split(/(?:\r\n|\r|\n)/)[n-1];if(a)return r+":"+n+`
`+a+`
`+new Array(i).join(" ")+"^"}}return null}o(Fce,"getErrorSource");function fqe(e){var t=Fce(e),r=sqe();r&&r._handle&&r._handle.setBlocking&&r._handle.setBlocking(!0),t&&(console.error(),console.error(t)),console.error(e.stack),aqe(1)}o(fqe,"printErrorAndExit");function dqe(){var e=process.emit;process.emit=function(t){if(t==="uncaughtException"){var r=arguments[1]&&arguments[1].stack,n=this.listeners(t).length>0;if(r&&!n)return fqe(arguments[1])}return e.apply(this,arguments)}}o(dqe,"shimEmitUncaughtException");var mqe=x2.slice(0),hqe=v2.slice(0);L3.wrapCallSite=Nce;L3.getErrorSource=Fce;L3.mapSourcePosition=XV;L3.retrieveSourceMap=JV;L3.install=function(e){if(e=e||{},e.environment&&(F9=e.environment,["node","browser","auto"].indexOf(F9)===-1))throw new Error("environment "+F9+" was unknown. Available options are {auto, browser, node}");if(e.retrieveFile&&(e.overrideRetrieveFile&&(x2.length=0),x2.unshift(e.retrieveFile)),e.retrieveSourceMap&&(e.overrideRetrieveSourceMap&&(v2.length=0),v2.unshift(e.retrieveSourceMap)),e.hookRequire&&!YV()){var t=Bce(zV,"module"),r=t.prototype._compile;r.__sourceMapSupport||(t.prototype._compile=function(s,a){return F3[a]=s,L9[a]=void 0,r.call(this,s,a)},t.prototype._compile.__sourceMapSupport=!0)}if(jV||(jV="emptyCacheBetweenOperations"in e?e.emptyCacheBetweenOperations:!1),kce||(kce=!0,Error.prepareStackTrace=uqe),!Rce){var n="handleUncaughtExceptions"in e?e.handleUncaughtExceptions:!0;try{var i=Bce(zV,"worker_threads");i.isMainThread===!1&&(n=!1)}catch{}n&&iqe()&&(Rce=!0,dqe())}};L3.resetRetrieveHandlers=function(){x2.length=0,v2.length=0,x2=mqe.slice(0),v2=hqe.slice(0),JV=sk(v2),KV=sk(x2)}});var ZV=V(()=>{d();Lce().install()});var xi=V((ak,Qce)=>{d();(function(e,t){typeof ak=="object"?Qce.exports=ak=t():typeof define=="function"&&define.amd?define([],t):e.CryptoJS=t()})(ak,function(){var e=e||function(t,r){var n;if(typeof window<"u"&&window.crypto&&(n=window.crypto),typeof self<"u"&&self.crypto&&(n=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(n=globalThis.crypto),!n&&typeof window<"u"&&window.msCrypto&&(n=window.msCrypto),!n&&typeof global<"u"&&global.crypto&&(n=global.crypto),!n&&typeof require=="function")try{n=require("crypto")}catch{}var i=o(function(){if(n){if(typeof n.getRandomValues=="function")try{return n.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof n.randomBytes=="function")try{return n.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},"cryptoSecureRandomInt"),s=Object.create||function(){function b(){}return o(b,"F"),function(v){var S;return b.prototype=v,S=new b,b.prototype=null,S}}(),a={},l=a.lib={},c=l.Base=function(){return{extend:o(function(b){var v=s(this);return b&&v.mixIn(b),(!v.hasOwnProperty("init")||this.init===v.init)&&(v.init=function(){v.$super.init.apply(this,arguments)}),v.init.prototype=v,v.$super=this,v},"extend"),create:o(function(){var b=this.extend();return b.init.apply(b,arguments),b},"create"),init:o(function(){},"init"),mixIn:o(function(b){for(var v in b)b.hasOwnProperty(v)&&(this[v]=b[v]);b.hasOwnProperty("toString")&&(this.toString=b.toString)},"mixIn"),clone:o(function(){return this.init.prototype.extend(this)},"clone")}}(),u=l.WordArray=c.extend({init:o(function(b,v){b=this.words=b||[],v!=r?this.sigBytes=v:this.sigBytes=b.length*4},"init"),toString:o(function(b){return(b||m).stringify(this)},"toString"),concat:o(function(b){var v=this.words,S=b.words,k=this.sigBytes,P=b.sigBytes;if(this.clamp(),k%4)for(var N=0;N<P;N++){var W=S[N>>>2]>>>24-N%4*8&255;v[k+N>>>2]|=W<<24-(k+N)%4*8}else for(var re=0;re<P;re+=4)v[k+re>>>2]=S[re>>>2];return this.sigBytes+=P,this},"concat"),clamp:o(function(){var b=this.words,v=this.sigBytes;b[v>>>2]&=4294967295<<32-v%4*8,b.length=t.ceil(v/4)},"clamp"),clone:o(function(){var b=c.clone.call(this);return b.words=this.words.slice(0),b},"clone"),random:o(function(b){for(var v=[],S=0;S<b;S+=4)v.push(i());return new u.init(v,b)},"random")}),f=a.enc={},m=f.Hex={stringify:o(function(b){for(var v=b.words,S=b.sigBytes,k=[],P=0;P<S;P++){var N=v[P>>>2]>>>24-P%4*8&255;k.push((N>>>4).toString(16)),k.push((N&15).toString(16))}return k.join("")},"stringify"),parse:o(function(b){for(var v=b.length,S=[],k=0;k<v;k+=2)S[k>>>3]|=parseInt(b.substr(k,2),16)<<24-k%8*4;return new u.init(S,v/2)},"parse")},h=f.Latin1={stringify:o(function(b){for(var v=b.words,S=b.sigBytes,k=[],P=0;P<S;P++){var N=v[P>>>2]>>>24-P%4*8&255;k.push(String.fromCharCode(N))}return k.join("")},"stringify"),parse:o(function(b){for(var v=b.length,S=[],k=0;k<v;k++)S[k>>>2]|=(b.charCodeAt(k)&255)<<24-k%4*8;return new u.init(S,v)},"parse")},p=f.Utf8={stringify:o(function(b){try{return decodeURIComponent(escape(h.stringify(b)))}catch{throw new Error("Malformed UTF-8 data")}},"stringify"),parse:o(function(b){return h.parse(unescape(encodeURIComponent(b)))},"parse")},A=l.BufferedBlockAlgorithm=c.extend({reset:o(function(){this._data=new u.init,this._nDataBytes=0},"reset"),_append:o(function(b){typeof b=="string"&&(b=p.parse(b)),this._data.concat(b),this._nDataBytes+=b.sigBytes},"_append"),_process:o(function(b){var v,S=this._data,k=S.words,P=S.sigBytes,N=this.blockSize,W=N*4,re=P/W;b?re=t.ceil(re):re=t.max((re|0)-this._minBufferSize,0);var ge=re*N,te=t.min(ge*4,P);if(ge){for(var G=0;G<ge;G+=N)this._doProcessBlock(k,G);v=k.splice(0,ge),S.sigBytes-=te}return new u.init(v,te)},"_process"),clone:o(function(){var b=c.clone.call(this);return b._data=this._data.clone(),b},"clone"),_minBufferSize:0}),E=l.Hasher=A.extend({cfg:c.extend(),init:o(function(b){this.cfg=this.cfg.extend(b),this.reset()},"init"),reset:o(function(){A.reset.call(this),this._doReset()},"reset"),update:o(function(b){return this._append(b),this._process(),this},"update"),finalize:o(function(b){b&&this._append(b);var v=this._doFinalize();return v},"finalize"),blockSize:512/32,_createHelper:o(function(b){return function(v,S){return new b.init(S).finalize(v)}},"_createHelper"),_createHmacHelper:o(function(b){return function(v,S){return new x.HMAC.init(b,S).finalize(v)}},"_createHmacHelper")}),x=a.algo={};return a}(Math);return e})});var M9=V((lk,Mce)=>{d();(function(e,t){typeof lk=="object"?Mce.exports=lk=t(xi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(lk,function(e){return function(t){var r=e,n=r.lib,i=n.Base,s=n.WordArray,a=r.x64={},l=a.Word=i.extend({init:o(function(u,f){this.high=u,this.low=f},"init")}),c=a.WordArray=i.extend({init:o(function(u,f){u=this.words=u||[],f!=t?this.sigBytes=f:this.sigBytes=u.length*8},"init"),toX32:o(function(){for(var u=this.words,f=u.length,m=[],h=0;h<f;h++){var p=u[h];m.push(p.high),m.push(p.low)}return s.create(m,this.sigBytes)},"toX32"),clone:o(function(){for(var u=i.clone.call(this),f=u.words=this.words.slice(0),m=f.length,h=0;h<m;h++)f[h]=f[h].clone();return u},"clone")})}(),e})});var Uce=V((ck,Oce)=>{d();(function(e,t){typeof ck=="object"?Oce.exports=ck=t(xi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(ck,function(e){return function(){if(typeof ArrayBuffer=="function"){var t=e,r=t.lib,n=r.WordArray,i=n.init,s=n.init=function(a){if(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),(a instanceof Int8Array||typeof Uint8ClampedArray<"u"&&a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array)&&(a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength)),a instanceof Uint8Array){for(var l=a.byteLength,c=[],u=0;u<l;u++)c[u>>>2]|=a[u]<<24-u%4*8;i.call(this,c,l)}else i.apply(this,arguments)};s.prototype=n}}(),e.lib.WordArray})});var Gce=V((uk,qce)=>{d();(function(e,t){typeof uk=="object"?qce.exports=uk=t(xi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(uk,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,s=i.Utf16=i.Utf16BE={stringify:o(function(l){for(var c=l.words,u=l.sigBytes,f=[],m=0;m<u;m+=2){var h=c[m>>>2]>>>16-m%4*8&65535;f.push(String.fromCharCode(h))}return f.join("")},"stringify"),parse:o(function(l){for(var c=l.length,u=[],f=0;f<c;f++)u[f>>>1]|=l.charCodeAt(f)<<16-f%2*16;return n.create(u,c*2)},"parse")};i.Utf16LE={stringify:o(function(l){for(var c=l.words,u=l.sigBytes,f=[],m=0;m<u;m+=2){var h=a(c[m>>>2]>>>16-m%4*8&65535);f.push(String.fromCharCode(h))}return f.join("")},"stringify"),parse:o(function(l){for(var c=l.length,u=[],f=0;f<c;f++)u[f>>>1]|=a(l.charCodeAt(f)<<16-f%2*16);return n.create(u,c*2)},"parse")};function a(l){return l<<8&4278255360|l>>>8&16711935}o(a,"swapEndian")}(),e.enc.Utf16})});var b2=V((fk,Wce)=>{d();(function(e,t){typeof fk=="object"?Wce.exports=fk=t(xi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(fk,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,s=i.Base64={stringify:o(function(l){var c=l.words,u=l.sigBytes,f=this._map;l.clamp();for(var m=[],h=0;h<u;h+=3)for(var p=c[h>>>2]>>>24-h%4*8&255,A=c[h+1>>>2]>>>24-(h+1)%4*8&255,E=c[h+2>>>2]>>>24-(h+2)%4*8&255,x=p<<16|A<<8|E,b=0;b<4&&h+b*.75<u;b++)m.push(f.charAt(x>>>6*(3-b)&63));var v=f.charAt(64);if(v)for(;m.length%4;)m.push(v);return m.join("")},"stringify"),parse:o(function(l){var c=l.length,u=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var m=0;m<u.length;m++)f[u.charCodeAt(m)]=m}var h=u.charAt(64);if(h){var p=l.indexOf(h);p!==-1&&(c=p)}return a(l,c,f)},"parse"),_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,c,u){for(var f=[],m=0,h=0;h<c;h++)if(h%4){var p=u[l.charCodeAt(h-1)]<<h%4*2,A=u[l.charCodeAt(h)]>>>6-h%4*2,E=p|A;f[m>>>2]|=E<<24-m%4*8,m++}return n.create(f,m)}o(a,"parseLoop")}(),e.enc.Base64})});var Vce=V((dk,Hce)=>{d();(function(e,t){typeof dk=="object"?Hce.exports=dk=t(xi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(dk,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,s=i.Base64url={stringify:o(function(l,c){c===void 0&&(c=!0);var u=l.words,f=l.sigBytes,m=c?this._safe_map:this._map;l.clamp();for(var h=[],p=0;p<f;p+=3)for(var A=u[p>>>2]>>>24-p%4*8&255,E=u[p+1>>>2]>>>24-(p+1)%4*8&255,x=u[p+2>>>2]>>>24-(p+2)%4*8&255,b=A<<16|E<<8|x,v=0;v<4&&p+v*.75<f;v++)h.push(m.charAt(b>>>6*(3-v)&63));var S=m.charAt(64);if(S)for(;h.length%4;)h.push(S);return h.join("")},"stringify"),parse:o(function(l,c){c===void 0&&(c=!0);var u=l.length,f=c?this._safe_map:this._map,m=this._reverseMap;if(!m){m=this._reverseMap=[];for(var h=0;h<f.length;h++)m[f.charCodeAt(h)]=h}var p=f.charAt(64);if(p){var A=l.indexOf(p);A!==-1&&(u=A)}return a(l,u,m)},"parse"),_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,c,u){for(var f=[],m=0,h=0;h<c;h++)if(h%4){var p=u[l.charCodeAt(h-1)]<<h%4*2,A=u[l.charCodeAt(h)]>>>6-h%4*2,E=p|A;f[m>>>2]|=E<<24-m%4*8,m++}return n.create(f,m)}o(a,"parseLoop")}(),e.enc.Base64url})});var I2=V((mk,jce)=>{d();(function(e,t){typeof mk=="object"?jce.exports=mk=t(xi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(mk,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.algo,l=[];(function(){for(var p=0;p<64;p++)l[p]=t.abs(t.sin(p+1))*4294967296|0})();var c=a.MD5=s.extend({_doReset:o(function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},"_doReset"),_doProcessBlock:o(function(p,A){for(var E=0;E<16;E++){var x=A+E,b=p[x];p[x]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360}var v=this._hash.words,S=p[A+0],k=p[A+1],P=p[A+2],N=p[A+3],W=p[A+4],re=p[A+5],ge=p[A+6],te=p[A+7],G=p[A+8],q=p[A+9],se=p[A+10],ne=p[A+11],H=p[A+12],O=p[A+13],j=p[A+14],J=p[A+15],le=v[0],Z=v[1],ae=v[2],ce=v[3];le=u(le,Z,ae,ce,S,7,l[0]),ce=u(ce,le,Z,ae,k,12,l[1]),ae=u(ae,ce,le,Z,P,17,l[2]),Z=u(Z,ae,ce,le,N,22,l[3]),le=u(le,Z,ae,ce,W,7,l[4]),ce=u(ce,le,Z,ae,re,12,l[5]),ae=u(ae,ce,le,Z,ge,17,l[6]),Z=u(Z,ae,ce,le,te,22,l[7]),le=u(le,Z,ae,ce,G,7,l[8]),ce=u(ce,le,Z,ae,q,12,l[9]),ae=u(ae,ce,le,Z,se,17,l[10]),Z=u(Z,ae,ce,le,ne,22,l[11]),le=u(le,Z,ae,ce,H,7,l[12]),ce=u(ce,le,Z,ae,O,12,l[13]),ae=u(ae,ce,le,Z,j,17,l[14]),Z=u(Z,ae,ce,le,J,22,l[15]),le=f(le,Z,ae,ce,k,5,l[16]),ce=f(ce,le,Z,ae,ge,9,l[17]),ae=f(ae,ce,le,Z,ne,14,l[18]),Z=f(Z,ae,ce,le,S,20,l[19]),le=f(le,Z,ae,ce,re,5,l[20]),ce=f(ce,le,Z,ae,se,9,l[21]),ae=f(ae,ce,le,Z,J,14,l[22]),Z=f(Z,ae,ce,le,W,20,l[23]),le=f(le,Z,ae,ce,q,5,l[24]),ce=f(ce,le,Z,ae,j,9,l[25]),ae=f(ae,ce,le,Z,N,14,l[26]),Z=f(Z,ae,ce,le,G,20,l[27]),le=f(le,Z,ae,ce,O,5,l[28]),ce=f(ce,le,Z,ae,P,9,l[29]),ae=f(ae,ce,le,Z,te,14,l[30]),Z=f(Z,ae,ce,le,H,20,l[31]),le=m(le,Z,ae,ce,re,4,l[32]),ce=m(ce,le,Z,ae,G,11,l[33]),ae=m(ae,ce,le,Z,ne,16,l[34]),Z=m(Z,ae,ce,le,j,23,l[35]),le=m(le,Z,ae,ce,k,4,l[36]),ce=m(ce,le,Z,ae,W,11,l[37]),ae=m(ae,ce,le,Z,te,16,l[38]),Z=m(Z,ae,ce,le,se,23,l[39]),le=m(le,Z,ae,ce,O,4,l[40]),ce=m(ce,le,Z,ae,S,11,l[41]),ae=m(ae,ce,le,Z,N,16,l[42]),Z=m(Z,ae,ce,le,ge,23,l[43]),le=m(le,Z,ae,ce,q,4,l[44]),ce=m(ce,le,Z,ae,H,11,l[45]),ae=m(ae,ce,le,Z,J,16,l[46]),Z=m(Z,ae,ce,le,P,23,l[47]),le=h(le,Z,ae,ce,S,6,l[48]),ce=h(ce,le,Z,ae,te,10,l[49]),ae=h(ae,ce,le,Z,j,15,l[50]),Z=h(Z,ae,ce,le,re,21,l[51]),le=h(le,Z,ae,ce,H,6,l[52]),ce=h(ce,le,Z,ae,N,10,l[53]),ae=h(ae,ce,le,Z,se,15,l[54]),Z=h(Z,ae,ce,le,k,21,l[55]),le=h(le,Z,ae,ce,G,6,l[56]),ce=h(ce,le,Z,ae,J,10,l[57]),ae=h(ae,ce,le,Z,ge,15,l[58]),Z=h(Z,ae,ce,le,O,21,l[59]),le=h(le,Z,ae,ce,W,6,l[60]),ce=h(ce,le,Z,ae,ne,10,l[61]),ae=h(ae,ce,le,Z,P,15,l[62]),Z=h(Z,ae,ce,le,q,21,l[63]),v[0]=v[0]+le|0,v[1]=v[1]+Z|0,v[2]=v[2]+ae|0,v[3]=v[3]+ce|0},"_doProcessBlock"),_doFinalize:o(function(){var p=this._data,A=p.words,E=this._nDataBytes*8,x=p.sigBytes*8;A[x>>>5]|=128<<24-x%32;var b=t.floor(E/4294967296),v=E;A[(x+64>>>9<<4)+15]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,A[(x+64>>>9<<4)+14]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,p.sigBytes=(A.length+1)*4,this._process();for(var S=this._hash,k=S.words,P=0;P<4;P++){var N=k[P];k[P]=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360}return S},"_doFinalize"),clone:o(function(){var p=s.clone.call(this);return p._hash=this._hash.clone(),p},"clone")});function u(p,A,E,x,b,v,S){var k=p+(A&E|~A&x)+b+S;return(k<<v|k>>>32-v)+A}o(u,"FF");function f(p,A,E,x,b,v,S){var k=p+(A&x|E&~x)+b+S;return(k<<v|k>>>32-v)+A}o(f,"GG");function m(p,A,E,x,b,v,S){var k=p+(A^E^x)+b+S;return(k<<v|k>>>32-v)+A}o(m,"HH");function h(p,A,E,x,b,v,S){var k=p+(E^(A|~x))+b+S;return(k<<v|k>>>32-v)+A}o(h,"II"),r.MD5=s._createHelper(c),r.HmacMD5=s._createHmacHelper(c)}(Math),e.MD5})});var ej=V((hk,$ce)=>{d();(function(e,t){typeof hk=="object"?$ce.exports=hk=t(xi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(hk,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=r.Hasher,s=t.algo,a=[],l=s.SHA1=i.extend({_doReset:o(function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},"_doReset"),_doProcessBlock:o(function(c,u){for(var f=this._hash.words,m=f[0],h=f[1],p=f[2],A=f[3],E=f[4],x=0;x<80;x++){if(x<16)a[x]=c[u+x]|0;else{var b=a[x-3]^a[x-8]^a[x-14]^a[x-16];a[x]=b<<1|b>>>31}var v=(m<<5|m>>>27)+E+a[x];x<20?v+=(h&p|~h&A)+1518500249:x<40?v+=(h^p^A)+1859775393:x<60?v+=(h&p|h&A|p&A)-1894007588:v+=(h^p^A)-899497514,E=A,A=p,p=h<<30|h>>>2,h=m,m=v}f[0]=f[0]+m|0,f[1]=f[1]+h|0,f[2]=f[2]+p|0,f[3]=f[3]+A|0,f[4]=f[4]+E|0},"_doProcessBlock"),_doFinalize:o(function(){var c=this._data,u=c.words,f=this._nDataBytes*8,m=c.sigBytes*8;return u[m>>>5]|=128<<24-m%32,u[(m+64>>>9<<4)+14]=Math.floor(f/4294967296),u[(m+64>>>9<<4)+15]=f,c.sigBytes=u.length*4,this._process(),this._hash},"_doFinalize"),clone:o(function(){var c=i.clone.call(this);return c._hash=this._hash.clone(),c},"clone")});t.SHA1=i._createHelper(l),t.HmacSHA1=i._createHmacHelper(l)}(),e.SHA1})});var gk=V((pk,zce)=>{d();(function(e,t){typeof pk=="object"?zce.exports=pk=t(xi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(pk,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.algo,l=[],c=[];(function(){function m(E){for(var x=t.sqrt(E),b=2;b<=x;b++)if(!(E%b))return!1;return!0}o(m,"isPrime");function h(E){return(E-(E|0))*4294967296|0}o(h,"getFractionalBits");for(var p=2,A=0;A<64;)m(p)&&(A<8&&(l[A]=h(t.pow(p,1/2))),c[A]=h(t.pow(p,1/3)),A++),p++})();var u=[],f=a.SHA256=s.extend({_doReset:o(function(){this._hash=new i.init(l.slice(0))},"_doReset"),_doProcessBlock:o(function(m,h){for(var p=this._hash.words,A=p[0],E=p[1],x=p[2],b=p[3],v=p[4],S=p[5],k=p[6],P=p[7],N=0;N<64;N++){if(N<16)u[N]=m[h+N]|0;else{var W=u[N-15],re=(W<<25|W>>>7)^(W<<14|W>>>18)^W>>>3,ge=u[N-2],te=(ge<<15|ge>>>17)^(ge<<13|ge>>>19)^ge>>>10;u[N]=re+u[N-7]+te+u[N-16]}var G=v&S^~v&k,q=A&E^A&x^E&x,se=(A<<30|A>>>2)^(A<<19|A>>>13)^(A<<10|A>>>22),ne=(v<<26|v>>>6)^(v<<21|v>>>11)^(v<<7|v>>>25),H=P+ne+G+c[N]+u[N],O=se+q;P=k,k=S,S=v,v=b+H|0,b=x,x=E,E=A,A=H+O|0}p[0]=p[0]+A|0,p[1]=p[1]+E|0,p[2]=p[2]+x|0,p[3]=p[3]+b|0,p[4]=p[4]+v|0,p[5]=p[5]+S|0,p[6]=p[6]+k|0,p[7]=p[7]+P|0},"_doProcessBlock"),_doFinalize:o(function(){var m=this._data,h=m.words,p=this._nDataBytes*8,A=m.sigBytes*8;return h[A>>>5]|=128<<24-A%32,h[(A+64>>>9<<4)+14]=t.floor(p/4294967296),h[(A+64>>>9<<4)+15]=p,m.sigBytes=h.length*4,this._process(),this._hash},"_doFinalize"),clone:o(function(){var m=s.clone.call(this);return m._hash=this._hash.clone(),m},"clone")});r.SHA256=s._createHelper(f),r.HmacSHA256=s._createHmacHelper(f)}(Math),e.SHA256})});var Kce=V((Ak,Yce)=>{d();(function(e,t,r){typeof Ak=="object"?Yce.exports=Ak=t(xi(),gk()):typeof define=="function"&&define.amd?define(["./core","./sha256"],t):t(e.CryptoJS)})(Ak,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.algo,s=i.SHA256,a=i.SHA224=s.extend({_doReset:o(function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},"_doReset"),_doFinalize:o(function(){var l=s._doFinalize.call(this);return l.sigBytes-=4,l},"_doFinalize")});t.SHA224=s._createHelper(a),t.HmacSHA224=s._createHmacHelper(a)}(),e.SHA224})});var tj=V((yk,Jce)=>{d();(function(e,t,r){typeof yk=="object"?Jce.exports=yk=t(xi(),M9()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(yk,function(e){return function(){var t=e,r=t.lib,n=r.Hasher,i=t.x64,s=i.Word,a=i.WordArray,l=t.algo;function c(){return s.create.apply(s,arguments)}o(c,"X64Word_create");var u=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],f=[];(function(){for(var h=0;h<80;h++)f[h]=c()})();var m=l.SHA512=n.extend({_doReset:o(function(){this._hash=new a.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},"_doReset"),_doProcessBlock:o(function(h,p){for(var A=this._hash.words,E=A[0],x=A[1],b=A[2],v=A[3],S=A[4],k=A[5],P=A[6],N=A[7],W=E.high,re=E.low,ge=x.high,te=x.low,G=b.high,q=b.low,se=v.high,ne=v.low,H=S.high,O=S.low,j=k.high,J=k.low,le=P.high,Z=P.low,ae=N.high,ce=N.low,Re=W,be=re,Ue=ge,Be=te,Je=G,ut=q,it=se,ot=ne,ie=H,Pe=O,Ae=j,Ge=J,z=le,ee=Z,Fe=ae,_e=ce,Ce=0;Ce<80;Ce++){var Oe,Ve,Ze=f[Ce];if(Ce<16)Ve=Ze.high=h[p+Ce*2]|0,Oe=Ze.low=h[p+Ce*2+1]|0;else{var yt=f[Ce-15],Rt=yt.high,At=yt.low,Ht=(Rt>>>1|At<<31)^(Rt>>>8|At<<24)^Rt>>>7,jt=(At>>>1|Rt<<31)^(At>>>8|Rt<<24)^(At>>>7|Rt<<25),ir=f[Ce-2],pe=ir.high,Le=ir.low,Ke=(pe>>>19|Le<<13)^(pe<<3|Le>>>29)^pe>>>6,et=(Le>>>19|pe<<13)^(Le<<3|pe>>>29)^(Le>>>6|pe<<26),_t=f[Ce-7],xt=_t.high,Ft=_t.low,Qt=f[Ce-16],Tt=Qt.high,St=Qt.low;Oe=jt+Ft,Ve=Ht+xt+(Oe>>>0<jt>>>0?1:0),Oe=Oe+et,Ve=Ve+Ke+(Oe>>>0<et>>>0?1:0),Oe=Oe+St,Ve=Ve+Tt+(Oe>>>0<St>>>0?1:0),Ze.high=Ve,Ze.low=Oe}var wt=ie&Ae^~ie&z,Ot=Pe&Ge^~Pe&ee,Gt=Re&Ue^Re&Je^Ue&Je,$t=be&Be^be&ut^Be&ut,lr=(Re>>>28|be<<4)^(Re<<30|be>>>2)^(Re<<25|be>>>7),hr=(be>>>28|Re<<4)^(be<<30|Re>>>2)^(be<<25|Re>>>7),sr=(ie>>>14|Pe<<18)^(ie>>>18|Pe<<14)^(ie<<23|Pe>>>9),cr=(Pe>>>14|ie<<18)^(Pe>>>18|ie<<14)^(Pe<<23|ie>>>9),Jt=u[Ce],ur=Jt.high,ve=Jt.low,M=_e+cr,de=Fe+sr+(M>>>0<_e>>>0?1:0),M=M+Ot,de=de+wt+(M>>>0<Ot>>>0?1:0),M=M+ve,de=de+ur+(M>>>0<ve>>>0?1:0),M=M+Oe,de=de+Ve+(M>>>0<Oe>>>0?1:0),ye=hr+$t,Y=lr+Gt+(ye>>>0<hr>>>0?1:0);Fe=z,_e=ee,z=Ae,ee=Ge,Ae=ie,Ge=Pe,Pe=ot+M|0,ie=it+de+(Pe>>>0<ot>>>0?1:0)|0,it=Je,ot=ut,Je=Ue,ut=Be,Ue=Re,Be=be,be=M+ye|0,Re=de+Y+(be>>>0<M>>>0?1:0)|0}re=E.low=re+be,E.high=W+Re+(re>>>0<be>>>0?1:0),te=x.low=te+Be,x.high=ge+Ue+(te>>>0<Be>>>0?1:0),q=b.low=q+ut,b.high=G+Je+(q>>>0<ut>>>0?1:0),ne=v.low=ne+ot,v.high=se+it+(ne>>>0<ot>>>0?1:0),O=S.low=O+Pe,S.high=H+ie+(O>>>0<Pe>>>0?1:0),J=k.low=J+Ge,k.high=j+Ae+(J>>>0<Ge>>>0?1:0),Z=P.low=Z+ee,P.high=le+z+(Z>>>0<ee>>>0?1:0),ce=N.low=ce+_e,N.high=ae+Fe+(ce>>>0<_e>>>0?1:0)},"_doProcessBlock"),_doFinalize:o(function(){var h=this._data,p=h.words,A=this._nDataBytes*8,E=h.sigBytes*8;p[E>>>5]|=128<<24-E%32,p[(E+128>>>10<<5)+30]=Math.floor(A/4294967296),p[(E+128>>>10<<5)+31]=A,h.sigBytes=p.length*4,this._process();var x=this._hash.toX32();return x},"_doFinalize"),clone:o(function(){var h=n.clone.call(this);return h._hash=this._hash.clone(),h},"clone"),blockSize:1024/32});t.SHA512=n._createHelper(m),t.HmacSHA512=n._createHmacHelper(m)}(),e.SHA512})});var Zce=V((Ck,Xce)=>{d();(function(e,t,r){typeof Ck=="object"?Xce.exports=Ck=t(xi(),M9(),tj()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],t):t(e.CryptoJS)})(Ck,function(e){return function(){var t=e,r=t.x64,n=r.Word,i=r.WordArray,s=t.algo,a=s.SHA512,l=s.SHA384=a.extend({_doReset:o(function(){this._hash=new i.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},"_doReset"),_doFinalize:o(function(){var c=a._doFinalize.call(this);return c.sigBytes-=16,c},"_doFinalize")});t.SHA384=a._createHelper(l),t.HmacSHA384=a._createHmacHelper(l)}(),e.SHA384})});var tue=V((Ek,eue)=>{d();(function(e,t,r){typeof Ek=="object"?eue.exports=Ek=t(xi(),M9()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(Ek,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.x64,l=a.Word,c=r.algo,u=[],f=[],m=[];(function(){for(var A=1,E=0,x=0;x<24;x++){u[A+5*E]=(x+1)*(x+2)/2%64;var b=E%5,v=(2*A+3*E)%5;A=b,E=v}for(var A=0;A<5;A++)for(var E=0;E<5;E++)f[A+5*E]=E+(2*A+3*E)%5*5;for(var S=1,k=0;k<24;k++){for(var P=0,N=0,W=0;W<7;W++){if(S&1){var re=(1<<W)-1;re<32?N^=1<<re:P^=1<<re-32}S&128?S=S<<1^113:S<<=1}m[k]=l.create(P,N)}})();var h=[];(function(){for(var A=0;A<25;A++)h[A]=l.create()})();var p=c.SHA3=s.extend({cfg:s.cfg.extend({outputLength:512}),_doReset:o(function(){for(var A=this._state=[],E=0;E<25;E++)A[E]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},"_doReset"),_doProcessBlock:o(function(A,E){for(var x=this._state,b=this.blockSize/2,v=0;v<b;v++){var S=A[E+2*v],k=A[E+2*v+1];S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,k=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360;var P=x[v];P.high^=k,P.low^=S}for(var N=0;N<24;N++){for(var W=0;W<5;W++){for(var re=0,ge=0,te=0;te<5;te++){var P=x[W+5*te];re^=P.high,ge^=P.low}var G=h[W];G.high=re,G.low=ge}for(var W=0;W<5;W++)for(var q=h[(W+4)%5],se=h[(W+1)%5],ne=se.high,H=se.low,re=q.high^(ne<<1|H>>>31),ge=q.low^(H<<1|ne>>>31),te=0;te<5;te++){var P=x[W+5*te];P.high^=re,P.low^=ge}for(var O=1;O<25;O++){var re,ge,P=x[O],j=P.high,J=P.low,le=u[O];le<32?(re=j<<le|J>>>32-le,ge=J<<le|j>>>32-le):(re=J<<le-32|j>>>64-le,ge=j<<le-32|J>>>64-le);var Z=h[f[O]];Z.high=re,Z.low=ge}var ae=h[0],ce=x[0];ae.high=ce.high,ae.low=ce.low;for(var W=0;W<5;W++)for(var te=0;te<5;te++){var O=W+5*te,P=x[O],Re=h[O],be=h[(W+1)%5+5*te],Ue=h[(W+2)%5+5*te];P.high=Re.high^~be.high&Ue.high,P.low=Re.low^~be.low&Ue.low}var P=x[0],Be=m[N];P.high^=Be.high,P.low^=Be.low}},"_doProcessBlock"),_doFinalize:o(function(){var A=this._data,E=A.words,x=this._nDataBytes*8,b=A.sigBytes*8,v=this.blockSize*32;E[b>>>5]|=1<<24-b%32,E[(t.ceil((b+1)/v)*v>>>5)-1]|=128,A.sigBytes=E.length*4,this._process();for(var S=this._state,k=this.cfg.outputLength/8,P=k/8,N=[],W=0;W<P;W++){var re=S[W],ge=re.high,te=re.low;ge=(ge<<8|ge>>>24)&16711935|(ge<<24|ge>>>8)&4278255360,te=(te<<8|te>>>24)&16711935|(te<<24|te>>>8)&4278255360,N.push(te),N.push(ge)}return new i.init(N,k)},"_doFinalize"),clone:o(function(){for(var A=s.clone.call(this),E=A._state=this._state.slice(0),x=0;x<25;x++)E[x]=E[x].clone();return A},"clone")});r.SHA3=s._createHelper(p),r.HmacSHA3=s._createHmacHelper(p)}(Math),e.SHA3})});var nue=V((xk,rue)=>{d();(function(e,t){typeof xk=="object"?rue.exports=xk=t(xi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(xk,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.algo,l=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),m=i.create([0,1518500249,1859775393,2400959708,2840853838]),h=i.create([1352829926,1548603684,1836072691,2053994217,0]),p=a.RIPEMD160=s.extend({_doReset:o(function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},"_doReset"),_doProcessBlock:o(function(k,P){for(var N=0;N<16;N++){var W=P+N,re=k[W];k[W]=(re<<8|re>>>24)&16711935|(re<<24|re>>>8)&4278255360}var ge=this._hash.words,te=m.words,G=h.words,q=l.words,se=c.words,ne=u.words,H=f.words,O,j,J,le,Z,ae,ce,Re,be,Ue;ae=O=ge[0],ce=j=ge[1],Re=J=ge[2],be=le=ge[3],Ue=Z=ge[4];for(var Be,N=0;N<80;N+=1)Be=O+k[P+q[N]]|0,N<16?Be+=A(j,J,le)+te[0]:N<32?Be+=E(j,J,le)+te[1]:N<48?Be+=x(j,J,le)+te[2]:N<64?Be+=b(j,J,le)+te[3]:Be+=v(j,J,le)+te[4],Be=Be|0,Be=S(Be,ne[N]),Be=Be+Z|0,O=Z,Z=le,le=S(J,10),J=j,j=Be,Be=ae+k[P+se[N]]|0,N<16?Be+=v(ce,Re,be)+G[0]:N<32?Be+=b(ce,Re,be)+G[1]:N<48?Be+=x(ce,Re,be)+G[2]:N<64?Be+=E(ce,Re,be)+G[3]:Be+=A(ce,Re,be)+G[4],Be=Be|0,Be=S(Be,H[N]),Be=Be+Ue|0,ae=Ue,Ue=be,be=S(Re,10),Re=ce,ce=Be;Be=ge[1]+J+be|0,ge[1]=ge[2]+le+Ue|0,ge[2]=ge[3]+Z+ae|0,ge[3]=ge[4]+O+ce|0,ge[4]=ge[0]+j+Re|0,ge[0]=Be},"_doProcessBlock"),_doFinalize:o(function(){var k=this._data,P=k.words,N=this._nDataBytes*8,W=k.sigBytes*8;P[W>>>5]|=128<<24-W%32,P[(W+64>>>9<<4)+14]=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,k.sigBytes=(P.length+1)*4,this._process();for(var re=this._hash,ge=re.words,te=0;te<5;te++){var G=ge[te];ge[te]=(G<<8|G>>>24)&16711935|(G<<24|G>>>8)&4278255360}return re},"_doFinalize"),clone:o(function(){var k=s.clone.call(this);return k._hash=this._hash.clone(),k},"clone")});function A(k,P,N){return k^P^N}o(A,"f1");function E(k,P,N){return k&P|~k&N}o(E,"f2");function x(k,P,N){return(k|~P)^N}o(x,"f3");function b(k,P,N){return k&N|P&~N}o(b,"f4");function v(k,P,N){return k^(P|~N)}o(v,"f5");function S(k,P){return k<<P|k>>>32-P}o(S,"rotl"),r.RIPEMD160=s._createHelper(p),r.HmacRIPEMD160=s._createHmacHelper(p)}(Math),e.RIPEMD160})});var bk=V((vk,iue)=>{d();(function(e,t){typeof vk=="object"?iue.exports=vk=t(xi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(vk,function(e){(function(){var t=e,r=t.lib,n=r.Base,i=t.enc,s=i.Utf8,a=t.algo,l=a.HMAC=n.extend({init:o(function(c,u){c=this._hasher=new c.init,typeof u=="string"&&(u=s.parse(u));var f=c.blockSize,m=f*4;u.sigBytes>m&&(u=c.finalize(u)),u.clamp();for(var h=this._oKey=u.clone(),p=this._iKey=u.clone(),A=h.words,E=p.words,x=0;x<f;x++)A[x]^=1549556828,E[x]^=909522486;h.sigBytes=p.sigBytes=m,this.reset()},"init"),reset:o(function(){var c=this._hasher;c.reset(),c.update(this._iKey)},"reset"),update:o(function(c){return this._hasher.update(c),this},"update"),finalize:o(function(c){var u=this._hasher,f=u.finalize(c);u.reset();var m=u.finalize(this._oKey.clone().concat(f));return m},"finalize")})})()})});var sue=V((Ik,oue)=>{d();(function(e,t,r){typeof Ik=="object"?oue.exports=Ik=t(xi(),gk(),bk()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],t):t(e.CryptoJS)})(Ik,function(e){return function(){var t=e,r=t.lib,n=r.Base,i=r.WordArray,s=t.algo,a=s.SHA256,l=s.HMAC,c=s.PBKDF2=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:25e4}),init:o(function(u){this.cfg=this.cfg.extend(u)},"init"),compute:o(function(u,f){for(var m=this.cfg,h=l.create(m.hasher,u),p=i.create(),A=i.create([1]),E=p.words,x=A.words,b=m.keySize,v=m.iterations;E.length<b;){var S=h.update(f).finalize(A);h.reset();for(var k=S.words,P=k.length,N=S,W=1;W<v;W++){N=h.finalize(N),h.reset();for(var re=N.words,ge=0;ge<P;ge++)k[ge]^=re[ge]}p.concat(S),x[0]++}return p.sigBytes=b*4,p},"compute")});t.PBKDF2=function(u,f,m){return c.create(m).compute(u,f)}}(),e.PBKDF2})});var Bg=V((Tk,aue)=>{d();(function(e,t,r){typeof Tk=="object"?aue.exports=Tk=t(xi(),ej(),bk()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],t):t(e.CryptoJS)})(Tk,function(e){return function(){var t=e,r=t.lib,n=r.Base,i=r.WordArray,s=t.algo,a=s.MD5,l=s.EvpKDF=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:1}),init:o(function(c){this.cfg=this.cfg.extend(c)},"init"),compute:o(function(c,u){for(var f,m=this.cfg,h=m.hasher.create(),p=i.create(),A=p.words,E=m.keySize,x=m.iterations;A.length<E;){f&&h.update(f),f=h.update(c).finalize(u),h.reset();for(var b=1;b<x;b++)f=h.finalize(f),h.reset();p.concat(f)}return p.sigBytes=E*4,p},"compute")});t.EvpKDF=function(c,u,f){return l.create(f).compute(c,u)}}(),e.EvpKDF})});var Wa=V((wk,lue)=>{d();(function(e,t,r){typeof wk=="object"?lue.exports=wk=t(xi(),Bg()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],t):t(e.CryptoJS)})(wk,function(e){e.lib.Cipher||function(t){var r=e,n=r.lib,i=n.Base,s=n.WordArray,a=n.BufferedBlockAlgorithm,l=r.enc,c=l.Utf8,u=l.Base64,f=r.algo,m=f.EvpKDF,h=n.Cipher=a.extend({cfg:i.extend(),createEncryptor:o(function(G,q){return this.create(this._ENC_XFORM_MODE,G,q)},"createEncryptor"),createDecryptor:o(function(G,q){return this.create(this._DEC_XFORM_MODE,G,q)},"createDecryptor"),init:o(function(G,q,se){this.cfg=this.cfg.extend(se),this._xformMode=G,this._key=q,this.reset()},"init"),reset:o(function(){a.reset.call(this),this._doReset()},"reset"),process:o(function(G){return this._append(G),this._process()},"process"),finalize:o(function(G){G&&this._append(G);var q=this._doFinalize();return q},"finalize"),keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function G(q){return typeof q=="string"?te:W}return o(G,"selectCipherStrategy"),function(q){return{encrypt:o(function(se,ne,H){return G(ne).encrypt(q,se,ne,H)},"encrypt"),decrypt:o(function(se,ne,H){return G(ne).decrypt(q,se,ne,H)},"decrypt")}}}()}),p=n.StreamCipher=h.extend({_doFinalize:o(function(){var G=this._process(!0);return G},"_doFinalize"),blockSize:1}),A=r.mode={},E=n.BlockCipherMode=i.extend({createEncryptor:o(function(G,q){return this.Encryptor.create(G,q)},"createEncryptor"),createDecryptor:o(function(G,q){return this.Decryptor.create(G,q)},"createDecryptor"),init:o(function(G,q){this._cipher=G,this._iv=q},"init")}),x=A.CBC=function(){var G=E.extend();G.Encryptor=G.extend({processBlock:o(function(se,ne){var H=this._cipher,O=H.blockSize;q.call(this,se,ne,O),H.encryptBlock(se,ne),this._prevBlock=se.slice(ne,ne+O)},"processBlock")}),G.Decryptor=G.extend({processBlock:o(function(se,ne){var H=this._cipher,O=H.blockSize,j=se.slice(ne,ne+O);H.decryptBlock(se,ne),q.call(this,se,ne,O),this._prevBlock=j},"processBlock")});function q(se,ne,H){var O,j=this._iv;j?(O=j,this._iv=t):O=this._prevBlock;for(var J=0;J<H;J++)se[ne+J]^=O[J]}return o(q,"xorBlock"),G}(),b=r.pad={},v=b.Pkcs7={pad:o(function(G,q){for(var se=q*4,ne=se-G.sigBytes%se,H=ne<<24|ne<<16|ne<<8|ne,O=[],j=0;j<ne;j+=4)O.push(H);var J=s.create(O,ne);G.concat(J)},"pad"),unpad:o(function(G){var q=G.words[G.sigBytes-1>>>2]&255;G.sigBytes-=q},"unpad")},S=n.BlockCipher=h.extend({cfg:h.cfg.extend({mode:x,padding:v}),reset:o(function(){var G;h.reset.call(this);var q=this.cfg,se=q.iv,ne=q.mode;this._xformMode==this._ENC_XFORM_MODE?G=ne.createEncryptor:(G=ne.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==G?this._mode.init(this,se&&se.words):(this._mode=G.call(ne,this,se&&se.words),this._mode.__creator=G)},"reset"),_doProcessBlock:o(function(G,q){this._mode.processBlock(G,q)},"_doProcessBlock"),_doFinalize:o(function(){var G,q=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(q.pad(this._data,this.blockSize),G=this._process(!0)):(G=this._process(!0),q.unpad(G)),G},"_doFinalize"),blockSize:128/32}),k=n.CipherParams=i.extend({init:o(function(G){this.mixIn(G)},"init"),toString:o(function(G){return(G||this.formatter).stringify(this)},"toString")}),P=r.format={},N=P.OpenSSL={stringify:o(function(G){var q,se=G.ciphertext,ne=G.salt;return ne?q=s.create([1398893684,1701076831]).concat(ne).concat(se):q=se,q.toString(u)},"stringify"),parse:o(function(G){var q,se=u.parse(G),ne=se.words;return ne[0]==1398893684&&ne[1]==1701076831&&(q=s.create(ne.slice(2,4)),ne.splice(0,4),se.sigBytes-=16),k.create({ciphertext:se,salt:q})},"parse")},W=n.SerializableCipher=i.extend({cfg:i.extend({format:N}),encrypt:o(function(G,q,se,ne){ne=this.cfg.extend(ne);var H=G.createEncryptor(se,ne),O=H.finalize(q),j=H.cfg;return k.create({ciphertext:O,key:se,iv:j.iv,algorithm:G,mode:j.mode,padding:j.padding,blockSize:G.blockSize,formatter:ne.format})},"encrypt"),decrypt:o(function(G,q,se,ne){ne=this.cfg.extend(ne),q=this._parse(q,ne.format);var H=G.createDecryptor(se,ne).finalize(q.ciphertext);return H},"decrypt"),_parse:o(function(G,q){return typeof G=="string"?q.parse(G,this):G},"_parse")}),re=r.kdf={},ge=re.OpenSSL={execute:o(function(G,q,se,ne,H){if(ne||(ne=s.random(64/8)),H)var O=m.create({keySize:q+se,hasher:H}).compute(G,ne);else var O=m.create({keySize:q+se}).compute(G,ne);var j=s.create(O.words.slice(q),se*4);return O.sigBytes=q*4,k.create({key:O,iv:j,salt:ne})},"execute")},te=n.PasswordBasedCipher=W.extend({cfg:W.cfg.extend({kdf:ge}),encrypt:o(function(G,q,se,ne){ne=this.cfg.extend(ne);var H=ne.kdf.execute(se,G.keySize,G.ivSize,ne.salt,ne.hasher);ne.iv=H.iv;var O=W.encrypt.call(this,G,q,H.key,ne);return O.mixIn(H),O},"encrypt"),decrypt:o(function(G,q,se,ne){ne=this.cfg.extend(ne),q=this._parse(q,ne.format);var H=ne.kdf.execute(se,G.keySize,G.ivSize,q.salt,ne.hasher);ne.iv=H.iv;var O=W.decrypt.call(this,G,q,H.key,ne);return O},"decrypt")})}()})});var uue=V((_k,cue)=>{d();(function(e,t,r){typeof _k=="object"?cue.exports=_k=t(xi(),Wa()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(_k,function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();t.Encryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize;r.call(this,n,i,a,s),this._prevBlock=n.slice(i,i+a)},"processBlock")}),t.Decryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize,l=n.slice(i,i+a);r.call(this,n,i,a,s),this._prevBlock=l},"processBlock")});function r(n,i,s,a){var l,c=this._iv;c?(l=c.slice(0),this._iv=void 0):l=this._prevBlock,a.encryptBlock(l,0);for(var u=0;u<s;u++)n[i+u]^=l[u]}return o(r,"generateKeystreamAndEncrypt"),t}(),e.mode.CFB})});var due=V((Sk,fue)=>{d();(function(e,t,r){typeof Sk=="object"?fue.exports=Sk=t(xi(),Wa()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Sk,function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize,l=this._iv,c=this._counter;l&&(c=this._counter=l.slice(0),this._iv=void 0);var u=c.slice(0);s.encryptBlock(u,0),c[a-1]=c[a-1]+1|0;for(var f=0;f<a;f++)n[i+f]^=u[f]},"processBlock")});return t.Decryptor=r,t}(),e.mode.CTR})});var hue=V((Bk,mue)=>{d();(function(e,t,r){typeof Bk=="object"?mue.exports=Bk=t(xi(),Wa()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Bk,function(e){return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function r(s){if((s>>24&255)===255){var a=s>>16&255,l=s>>8&255,c=s&255;a===255?(a=0,l===255?(l=0,c===255?c=0:++c):++l):++a,s=0,s+=a<<16,s+=l<<8,s+=c}else s+=1<<24;return s}o(r,"incWord");function n(s){return(s[0]=r(s[0]))===0&&(s[1]=r(s[1])),s}o(n,"incCounter");var i=t.Encryptor=t.extend({processBlock:o(function(s,a){var l=this._cipher,c=l.blockSize,u=this._iv,f=this._counter;u&&(f=this._counter=u.slice(0),this._iv=void 0),n(f);var m=f.slice(0);l.encryptBlock(m,0);for(var h=0;h<c;h++)s[a+h]^=m[h]},"processBlock")});return t.Decryptor=i,t}(),e.mode.CTRGladman})});var gue=V((kk,pue)=>{d();(function(e,t,r){typeof kk=="object"?pue.exports=kk=t(xi(),Wa()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(kk,function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize,l=this._iv,c=this._keystream;l&&(c=this._keystream=l.slice(0),this._iv=void 0),s.encryptBlock(c,0);for(var u=0;u<a;u++)n[i+u]^=c[u]},"processBlock")});return t.Decryptor=r,t}(),e.mode.OFB})});var yue=V((Rk,Aue)=>{d();(function(e,t,r){typeof Rk=="object"?Aue.exports=Rk=t(xi(),Wa()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Rk,function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:o(function(r,n){this._cipher.encryptBlock(r,n)},"processBlock")}),t.Decryptor=t.extend({processBlock:o(function(r,n){this._cipher.decryptBlock(r,n)},"processBlock")}),t}(),e.mode.ECB})});var Eue=V((Dk,Cue)=>{d();(function(e,t,r){typeof Dk=="object"?Cue.exports=Dk=t(xi(),Wa()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Dk,function(e){return e.pad.AnsiX923={pad:o(function(t,r){var n=t.sigBytes,i=r*4,s=i-n%i,a=n+s-1;t.clamp(),t.words[a>>>2]|=s<<24-a%4*8,t.sigBytes+=s},"pad"),unpad:o(function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r},"unpad")},e.pad.Ansix923})});var vue=V((Pk,xue)=>{d();(function(e,t,r){typeof Pk=="object"?xue.exports=Pk=t(xi(),Wa()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Pk,function(e){return e.pad.Iso10126={pad:o(function(t,r){var n=r*4,i=n-t.sigBytes%n;t.concat(e.lib.WordArray.random(i-1)).concat(e.lib.WordArray.create([i<<24],1))},"pad"),unpad:o(function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r},"unpad")},e.pad.Iso10126})});var Iue=V((Nk,bue)=>{d();(function(e,t,r){typeof Nk=="object"?bue.exports=Nk=t(xi(),Wa()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Nk,function(e){return e.pad.Iso97971={pad:o(function(t,r){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,r)},"pad"),unpad:o(function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--},"unpad")},e.pad.Iso97971})});var wue=V((Fk,Tue)=>{d();(function(e,t,r){typeof Fk=="object"?Tue.exports=Fk=t(xi(),Wa()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Fk,function(e){return e.pad.ZeroPadding={pad:o(function(t,r){var n=r*4;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},"pad"),unpad:o(function(t){for(var r=t.words,n=t.sigBytes-1,n=t.sigBytes-1;n>=0;n--)if(r[n>>>2]>>>24-n%4*8&255){t.sigBytes=n+1;break}},"unpad")},e.pad.ZeroPadding})});var Sue=V((Lk,_ue)=>{d();(function(e,t,r){typeof Lk=="object"?_ue.exports=Lk=t(xi(),Wa()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Lk,function(e){return e.pad.NoPadding={pad:o(function(){},"pad"),unpad:o(function(){},"unpad")},e.pad.NoPadding})});var kue=V((Qk,Bue)=>{d();(function(e,t,r){typeof Qk=="object"?Bue.exports=Qk=t(xi(),Wa()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Qk,function(e){return function(t){var r=e,n=r.lib,i=n.CipherParams,s=r.enc,a=s.Hex,l=r.format,c=l.Hex={stringify:o(function(u){return u.ciphertext.toString(a)},"stringify"),parse:o(function(u){var f=a.parse(u);return i.create({ciphertext:f})},"parse")}}(),e.format.Hex})});var Due=V((Mk,Rue)=>{d();(function(e,t,r){typeof Mk=="object"?Rue.exports=Mk=t(xi(),b2(),I2(),Bg(),Wa()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Mk,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,i=t.algo,s=[],a=[],l=[],c=[],u=[],f=[],m=[],h=[],p=[],A=[];(function(){for(var b=[],v=0;v<256;v++)v<128?b[v]=v<<1:b[v]=v<<1^283;for(var S=0,k=0,v=0;v<256;v++){var P=k^k<<1^k<<2^k<<3^k<<4;P=P>>>8^P&255^99,s[S]=P,a[P]=S;var N=b[S],W=b[N],re=b[W],ge=b[P]*257^P*16843008;l[S]=ge<<24|ge>>>8,c[S]=ge<<16|ge>>>16,u[S]=ge<<8|ge>>>24,f[S]=ge;var ge=re*16843009^W*65537^N*257^S*16843008;m[P]=ge<<24|ge>>>8,h[P]=ge<<16|ge>>>16,p[P]=ge<<8|ge>>>24,A[P]=ge,S?(S=N^b[b[b[re^N]]],k^=b[b[k]]):S=k=1}})();var E=[0,1,2,4,8,16,32,64,128,27,54],x=i.AES=n.extend({_doReset:o(function(){var b;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var v=this._keyPriorReset=this._key,S=v.words,k=v.sigBytes/4,P=this._nRounds=k+6,N=(P+1)*4,W=this._keySchedule=[],re=0;re<N;re++)re<k?W[re]=S[re]:(b=W[re-1],re%k?k>6&&re%k==4&&(b=s[b>>>24]<<24|s[b>>>16&255]<<16|s[b>>>8&255]<<8|s[b&255]):(b=b<<8|b>>>24,b=s[b>>>24]<<24|s[b>>>16&255]<<16|s[b>>>8&255]<<8|s[b&255],b^=E[re/k|0]<<24),W[re]=W[re-k]^b);for(var ge=this._invKeySchedule=[],te=0;te<N;te++){var re=N-te;if(te%4)var b=W[re];else var b=W[re-4];te<4||re<=4?ge[te]=b:ge[te]=m[s[b>>>24]]^h[s[b>>>16&255]]^p[s[b>>>8&255]]^A[s[b&255]]}}},"_doReset"),encryptBlock:o(function(b,v){this._doCryptBlock(b,v,this._keySchedule,l,c,u,f,s)},"encryptBlock"),decryptBlock:o(function(b,v){var S=b[v+1];b[v+1]=b[v+3],b[v+3]=S,this._doCryptBlock(b,v,this._invKeySchedule,m,h,p,A,a);var S=b[v+1];b[v+1]=b[v+3],b[v+3]=S},"decryptBlock"),_doCryptBlock:o(function(b,v,S,k,P,N,W,re){for(var ge=this._nRounds,te=b[v]^S[0],G=b[v+1]^S[1],q=b[v+2]^S[2],se=b[v+3]^S[3],ne=4,H=1;H<ge;H++){var O=k[te>>>24]^P[G>>>16&255]^N[q>>>8&255]^W[se&255]^S[ne++],j=k[G>>>24]^P[q>>>16&255]^N[se>>>8&255]^W[te&255]^S[ne++],J=k[q>>>24]^P[se>>>16&255]^N[te>>>8&255]^W[G&255]^S[ne++],le=k[se>>>24]^P[te>>>16&255]^N[G>>>8&255]^W[q&255]^S[ne++];te=O,G=j,q=J,se=le}var O=(re[te>>>24]<<24|re[G>>>16&255]<<16|re[q>>>8&255]<<8|re[se&255])^S[ne++],j=(re[G>>>24]<<24|re[q>>>16&255]<<16|re[se>>>8&255]<<8|re[te&255])^S[ne++],J=(re[q>>>24]<<24|re[se>>>16&255]<<16|re[te>>>8&255]<<8|re[G&255])^S[ne++],le=(re[se>>>24]<<24|re[te>>>16&255]<<16|re[G>>>8&255]<<8|re[q&255])^S[ne++];b[v]=O,b[v+1]=j,b[v+2]=J,b[v+3]=le},"_doCryptBlock"),keySize:256/32});t.AES=n._createHelper(x)}(),e.AES})});var Nue=V((Ok,Pue)=>{d();(function(e,t,r){typeof Ok=="object"?Pue.exports=Ok=t(xi(),b2(),I2(),Bg(),Wa()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Ok,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=r.BlockCipher,s=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],m=s.DES=i.extend({_doReset:o(function(){for(var E=this._key,x=E.words,b=[],v=0;v<56;v++){var S=a[v]-1;b[v]=x[S>>>5]>>>31-S%32&1}for(var k=this._subKeys=[],P=0;P<16;P++){for(var N=k[P]=[],W=c[P],v=0;v<24;v++)N[v/6|0]|=b[(l[v]-1+W)%28]<<31-v%6,N[4+(v/6|0)]|=b[28+(l[v+24]-1+W)%28]<<31-v%6;N[0]=N[0]<<1|N[0]>>>31;for(var v=1;v<7;v++)N[v]=N[v]>>>(v-1)*4+3;N[7]=N[7]<<5|N[7]>>>27}for(var re=this._invSubKeys=[],v=0;v<16;v++)re[v]=k[15-v]},"_doReset"),encryptBlock:o(function(E,x){this._doCryptBlock(E,x,this._subKeys)},"encryptBlock"),decryptBlock:o(function(E,x){this._doCryptBlock(E,x,this._invSubKeys)},"decryptBlock"),_doCryptBlock:o(function(E,x,b){this._lBlock=E[x],this._rBlock=E[x+1],h.call(this,4,252645135),h.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),h.call(this,1,1431655765);for(var v=0;v<16;v++){for(var S=b[v],k=this._lBlock,P=this._rBlock,N=0,W=0;W<8;W++)N|=u[W][((P^S[W])&f[W])>>>0];this._lBlock=P,this._rBlock=k^N}var re=this._lBlock;this._lBlock=this._rBlock,this._rBlock=re,h.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),h.call(this,16,65535),h.call(this,4,252645135),E[x]=this._lBlock,E[x+1]=this._rBlock},"_doCryptBlock"),keySize:64/32,ivSize:64/32,blockSize:64/32});function h(E,x){var b=(this._lBlock>>>E^this._rBlock)&x;this._rBlock^=b,this._lBlock^=b<<E}o(h,"exchangeLR");function p(E,x){var b=(this._rBlock>>>E^this._lBlock)&x;this._lBlock^=b,this._rBlock^=b<<E}o(p,"exchangeRL"),t.DES=i._createHelper(m);var A=s.TripleDES=i.extend({_doReset:o(function(){var E=this._key,x=E.words;if(x.length!==2&&x.length!==4&&x.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var b=x.slice(0,2),v=x.length<4?x.slice(0,2):x.slice(2,4),S=x.length<6?x.slice(0,2):x.slice(4,6);this._des1=m.createEncryptor(n.create(b)),this._des2=m.createEncryptor(n.create(v)),this._des3=m.createEncryptor(n.create(S))},"_doReset"),encryptBlock:o(function(E,x){this._des1.encryptBlock(E,x),this._des2.decryptBlock(E,x),this._des3.encryptBlock(E,x)},"encryptBlock"),decryptBlock:o(function(E,x){this._des3.decryptBlock(E,x),this._des2.encryptBlock(E,x),this._des1.decryptBlock(E,x)},"decryptBlock"),keySize:192/32,ivSize:64/32,blockSize:64/32});t.TripleDES=i._createHelper(A)}(),e.TripleDES})});var Lue=V((Uk,Fue)=>{d();(function(e,t,r){typeof Uk=="object"?Fue.exports=Uk=t(xi(),b2(),I2(),Bg(),Wa()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Uk,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,s=i.RC4=n.extend({_doReset:o(function(){for(var c=this._key,u=c.words,f=c.sigBytes,m=this._S=[],h=0;h<256;h++)m[h]=h;for(var h=0,p=0;h<256;h++){var A=h%f,E=u[A>>>2]>>>24-A%4*8&255;p=(p+m[h]+E)%256;var x=m[h];m[h]=m[p],m[p]=x}this._i=this._j=0},"_doReset"),_doProcessBlock:o(function(c,u){c[u]^=a.call(this)},"_doProcessBlock"),keySize:256/32,ivSize:0});function a(){for(var c=this._S,u=this._i,f=this._j,m=0,h=0;h<4;h++){u=(u+1)%256,f=(f+c[u])%256;var p=c[u];c[u]=c[f],c[f]=p,m|=c[(c[u]+c[f])%256]<<24-h*8}return this._i=u,this._j=f,m}o(a,"generateKeystreamWord"),t.RC4=n._createHelper(s);var l=i.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:o(function(){s._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)a.call(this)},"_doReset")});t.RC4Drop=n._createHelper(l)}(),e.RC4})});var Mue=V((qk,Que)=>{d();(function(e,t,r){typeof qk=="object"?Que.exports=qk=t(xi(),b2(),I2(),Bg(),Wa()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(qk,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,s=[],a=[],l=[],c=i.Rabbit=n.extend({_doReset:o(function(){for(var f=this._key.words,m=this.cfg.iv,h=0;h<4;h++)f[h]=(f[h]<<8|f[h]>>>24)&16711935|(f[h]<<24|f[h]>>>8)&4278255360;var p=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],A=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var h=0;h<4;h++)u.call(this);for(var h=0;h<8;h++)A[h]^=p[h+4&7];if(m){var E=m.words,x=E[0],b=E[1],v=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,S=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,k=v>>>16|S&4294901760,P=S<<16|v&65535;A[0]^=v,A[1]^=k,A[2]^=S,A[3]^=P,A[4]^=v,A[5]^=k,A[6]^=S,A[7]^=P;for(var h=0;h<4;h++)u.call(this)}},"_doReset"),_doProcessBlock:o(function(f,m){var h=this._X;u.call(this),s[0]=h[0]^h[5]>>>16^h[3]<<16,s[1]=h[2]^h[7]>>>16^h[5]<<16,s[2]=h[4]^h[1]>>>16^h[7]<<16,s[3]=h[6]^h[3]>>>16^h[1]<<16;for(var p=0;p<4;p++)s[p]=(s[p]<<8|s[p]>>>24)&16711935|(s[p]<<24|s[p]>>>8)&4278255360,f[m+p]^=s[p]},"_doProcessBlock"),blockSize:128/32,ivSize:64/32});function u(){for(var f=this._X,m=this._C,h=0;h<8;h++)a[h]=m[h];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<a[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<a[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<a[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<a[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<a[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<a[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<a[6]>>>0?1:0)|0,this._b=m[7]>>>0<a[7]>>>0?1:0;for(var h=0;h<8;h++){var p=f[h]+m[h],A=p&65535,E=p>>>16,x=((A*A>>>17)+A*E>>>15)+E*E,b=((p&4294901760)*p|0)+((p&65535)*p|0);l[h]=x^b}f[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,f[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,f[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,f[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,f[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,f[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,f[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,f[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}o(u,"nextState"),t.Rabbit=n._createHelper(c)}(),e.Rabbit})});var Uue=V((Gk,Oue)=>{d();(function(e,t,r){typeof Gk=="object"?Oue.exports=Gk=t(xi(),b2(),I2(),Bg(),Wa()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Gk,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,s=[],a=[],l=[],c=i.RabbitLegacy=n.extend({_doReset:o(function(){var f=this._key.words,m=this.cfg.iv,h=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],p=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var A=0;A<4;A++)u.call(this);for(var A=0;A<8;A++)p[A]^=h[A+4&7];if(m){var E=m.words,x=E[0],b=E[1],v=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,S=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,k=v>>>16|S&4294901760,P=S<<16|v&65535;p[0]^=v,p[1]^=k,p[2]^=S,p[3]^=P,p[4]^=v,p[5]^=k,p[6]^=S,p[7]^=P;for(var A=0;A<4;A++)u.call(this)}},"_doReset"),_doProcessBlock:o(function(f,m){var h=this._X;u.call(this),s[0]=h[0]^h[5]>>>16^h[3]<<16,s[1]=h[2]^h[7]>>>16^h[5]<<16,s[2]=h[4]^h[1]>>>16^h[7]<<16,s[3]=h[6]^h[3]>>>16^h[1]<<16;for(var p=0;p<4;p++)s[p]=(s[p]<<8|s[p]>>>24)&16711935|(s[p]<<24|s[p]>>>8)&4278255360,f[m+p]^=s[p]},"_doProcessBlock"),blockSize:128/32,ivSize:64/32});function u(){for(var f=this._X,m=this._C,h=0;h<8;h++)a[h]=m[h];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<a[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<a[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<a[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<a[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<a[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<a[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<a[6]>>>0?1:0)|0,this._b=m[7]>>>0<a[7]>>>0?1:0;for(var h=0;h<8;h++){var p=f[h]+m[h],A=p&65535,E=p>>>16,x=((A*A>>>17)+A*E>>>15)+E*E,b=((p&4294901760)*p|0)+((p&65535)*p|0);l[h]=x^b}f[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,f[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,f[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,f[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,f[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,f[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,f[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,f[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}o(u,"nextState"),t.RabbitLegacy=n._createHelper(c)}(),e.RabbitLegacy})});var Gue=V((Wk,que)=>{d();(function(e,t,r){typeof Wk=="object"?que.exports=Wk=t(xi(),b2(),I2(),Bg(),Wa()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Wk,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,i=t.algo;let s=16,a=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function u(A,E){let x=E>>24&255,b=E>>16&255,v=E>>8&255,S=E&255,k=A.sbox[0][x]+A.sbox[1][b];return k=k^A.sbox[2][v],k=k+A.sbox[3][S],k}o(u,"F");function f(A,E,x){let b=E,v=x,S;for(let k=0;k<s;++k)b=b^A.pbox[k],v=u(A,b)^v,S=b,b=v,v=S;return S=b,b=v,v=S,v=v^A.pbox[s],b=b^A.pbox[s+1],{left:b,right:v}}o(f,"BlowFish_Encrypt");function m(A,E,x){let b=E,v=x,S;for(let k=s+1;k>1;--k)b=b^A.pbox[k],v=u(A,b)^v,S=b,b=v,v=S;return S=b,b=v,v=S,v=v^A.pbox[1],b=b^A.pbox[0],{left:b,right:v}}o(m,"BlowFish_Decrypt");function h(A,E,x){for(let P=0;P<4;P++){A.sbox[P]=[];for(let N=0;N<256;N++)A.sbox[P][N]=l[P][N]}let b=0;for(let P=0;P<s+2;P++)A.pbox[P]=a[P]^E[b],b++,b>=x&&(b=0);let v=0,S=0,k=0;for(let P=0;P<s+2;P+=2)k=f(A,v,S),v=k.left,S=k.right,A.pbox[P]=v,A.pbox[P+1]=S;for(let P=0;P<4;P++)for(let N=0;N<256;N+=2)k=f(A,v,S),v=k.left,S=k.right,A.sbox[P][N]=v,A.sbox[P][N+1]=S;return!0}o(h,"BlowFishInit");var p=i.Blowfish=n.extend({_doReset:o(function(){if(this._keyPriorReset!==this._key){var A=this._keyPriorReset=this._key,E=A.words,x=A.sigBytes/4;h(c,E,x)}},"_doReset"),encryptBlock:o(function(A,E){var x=f(c,A[E],A[E+1]);A[E]=x.left,A[E+1]=x.right},"encryptBlock"),decryptBlock:o(function(A,E){var x=m(c,A[E],A[E+1]);A[E]=x.left,A[E+1]=x.right},"decryptBlock"),blockSize:64/32,keySize:128/32,ivSize:64/32});t.Blowfish=n._createHelper(p)}(),e.Blowfish})});var T2=V((Hk,Wue)=>{d();(function(e,t,r){typeof Hk=="object"?Wue.exports=Hk=t(xi(),M9(),Uce(),Gce(),b2(),Vce(),I2(),ej(),gk(),Kce(),tj(),Zce(),tue(),nue(),bk(),sue(),Bg(),Wa(),uue(),due(),hue(),gue(),yue(),Eue(),vue(),Iue(),wue(),Sue(),kue(),Due(),Nue(),Lue(),Mue(),Uue(),Gue()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],t):e.CryptoJS=t(e.CryptoJS)})(Hk,function(e){return e})});var Vue=V((APt,Hue)=>{d();var Nx=1e3,Fx=Nx*60,Lx=Fx*60,M3=Lx*24,gqe=M3*7,Aqe=M3*365.25;Hue.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return yqe(e);if(r==="number"&&isFinite(e))return t.long?Eqe(e):Cqe(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function yqe(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*Aqe;case"weeks":case"week":case"w":return r*gqe;case"days":case"day":case"d":return r*M3;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Lx;case"minutes":case"minute":case"mins":case"min":case"m":return r*Fx;case"seconds":case"second":case"secs":case"sec":case"s":return r*Nx;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}o(yqe,"parse");function Cqe(e){var t=Math.abs(e);return t>=M3?Math.round(e/M3)+"d":t>=Lx?Math.round(e/Lx)+"h":t>=Fx?Math.round(e/Fx)+"m":t>=Nx?Math.round(e/Nx)+"s":e+"ms"}o(Cqe,"fmtShort");function Eqe(e){var t=Math.abs(e);return t>=M3?jk(e,t,M3,"day"):t>=Lx?jk(e,t,Lx,"hour"):t>=Fx?jk(e,t,Fx,"minute"):t>=Nx?jk(e,t,Nx,"second"):e+" ms"}o(Eqe,"fmtLong");function jk(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}o(jk,"plural")});var nj=V((EPt,jue)=>{d();function xqe(e){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=a,r.humanize=Vue(),r.destroy=u,Object.keys(e).forEach(f=>{r[f]=e[f]}),r.names=[],r.skips=[],r.formatters={};function t(f){let m=0;for(let h=0;h<f.length;h++)m=(m<<5)-m+f.charCodeAt(h),m|=0;return r.colors[Math.abs(m)%r.colors.length]}o(t,"selectColor"),r.selectColor=t;function r(f){let m,h=null,p,A;function E(...x){if(!E.enabled)return;let b=E,v=Number(new Date),S=v-(m||v);b.diff=S,b.prev=m,b.curr=v,m=v,x[0]=r.coerce(x[0]),typeof x[0]!="string"&&x.unshift("%O");let k=0;x[0]=x[0].replace(/%([a-zA-Z%])/g,(N,W)=>{if(N==="%%")return"%";k++;let re=r.formatters[W];if(typeof re=="function"){let ge=x[k];N=re.call(b,ge),x.splice(k,1),k--}return N}),r.formatArgs.call(b,x),(b.log||r.log).apply(b,x)}return o(E,"debug"),E.namespace=f,E.useColors=r.useColors(),E.color=r.selectColor(f),E.extend=n,E.destroy=r.destroy,Object.defineProperty(E,"enabled",{enumerable:!0,configurable:!1,get:o(()=>h!==null?h:(p!==r.namespaces&&(p=r.namespaces,A=r.enabled(f)),A),"get"),set:o(x=>{h=x},"set")}),typeof r.init=="function"&&r.init(E),E}o(r,"createDebug");function n(f,m){let h=r(this.namespace+(typeof m>"u"?":":m)+f);return h.log=this.log,h}o(n,"extend");function i(f){r.save(f),r.namespaces=f,r.names=[],r.skips=[];let m,h=(typeof f=="string"?f:"").split(/[\s,]+/),p=h.length;for(m=0;m<p;m++)h[m]&&(f=h[m].replace(/\*/g,".*?"),f[0]==="-"?r.skips.push(new RegExp("^"+f.slice(1)+"$")):r.names.push(new RegExp("^"+f+"$")))}o(i,"enable");function s(){let f=[...r.names.map(l),...r.skips.map(l).map(m=>"-"+m)].join(",");return r.enable(""),f}o(s,"disable");function a(f){if(f[f.length-1]==="*")return!0;let m,h;for(m=0,h=r.skips.length;m<h;m++)if(r.skips[m].test(f))return!1;for(m=0,h=r.names.length;m<h;m++)if(r.names[m].test(f))return!0;return!1}o(a,"enabled");function l(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}o(l,"toNamespace");function c(f){return f instanceof Error?f.stack||f.message:f}o(c,"coerce");function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o(u,"destroy"),r.enable(r.load()),r}o(xqe,"setup");jue.exports=xqe});var $ue=V((iu,$k)=>{d();iu.formatArgs=bqe;iu.save=Iqe;iu.load=Tqe;iu.useColors=vqe;iu.storage=wqe();iu.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();iu.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function vqe(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}o(vqe,"useColors");function bqe(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+$k.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),e.splice(n,0,t)}o(bqe,"formatArgs");iu.log=console.debug||console.log||(()=>{});function Iqe(e){try{e?iu.storage.setItem("debug",e):iu.storage.removeItem("debug")}catch{}}o(Iqe,"save");function Tqe(){let e;try{e=iu.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}o(Tqe,"load");function wqe(){try{return localStorage}catch{}}o(wqe,"localstorage");$k.exports=nj()(iu);var{formatters:_qe}=$k.exports;_qe.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var Yue=V((TPt,zue)=>{"use strict";d();zue.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1||n<i)}});var Xue=V((_Pt,Jue)=>{"use strict";d();var Sqe=require("os"),Kue=require("tty"),xf=Yue(),{env:ol}=process,w2;xf("no-color")||xf("no-colors")||xf("color=false")||xf("color=never")?w2=0:(xf("color")||xf("colors")||xf("color=true")||xf("color=always"))&&(w2=1);"FORCE_COLOR"in ol&&(ol.FORCE_COLOR==="true"?w2=1:ol.FORCE_COLOR==="false"?w2=0:w2=ol.FORCE_COLOR.length===0?1:Math.min(parseInt(ol.FORCE_COLOR,10),3));function ij(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}o(ij,"translateLevel");function oj(e,t){if(w2===0)return 0;if(xf("color=16m")||xf("color=full")||xf("color=truecolor"))return 3;if(xf("color=256"))return 2;if(e&&!t&&w2===void 0)return 0;let r=w2||0;if(ol.TERM==="dumb")return r;if(process.platform==="win32"){let n=Sqe.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in ol)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in ol)||ol.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in ol)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(ol.TEAMCITY_VERSION)?1:0;if(ol.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in ol){let n=parseInt((ol.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(ol.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(ol.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(ol.TERM)||"COLORTERM"in ol?1:r}o(oj,"supportsColor");function Bqe(e){let t=oj(e,e&&e.isTTY);return ij(t)}o(Bqe,"getSupportLevel");Jue.exports={supportsColor:Bqe,stdout:ij(oj(!0,Kue.isatty(1))),stderr:ij(oj(!0,Kue.isatty(2)))}});var efe=V((Pl,Yk)=>{d();var kqe=require("tty"),zk=require("util");Pl.init=Qqe;Pl.log=Nqe;Pl.formatArgs=Dqe;Pl.save=Fqe;Pl.load=Lqe;Pl.useColors=Rqe;Pl.destroy=zk.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Pl.colors=[6,2,3,4,5,1];try{let e=Xue();e&&(e.stderr||e).level>=2&&(Pl.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Pl.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function Rqe(){return"colors"in Pl.inspectOpts?!!Pl.inspectOpts.colors:kqe.isatty(process.stderr.fd)}o(Rqe,"useColors");function Dqe(e){let{namespace:t,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${t} \x1B[0m`;e[0]=s+e[0].split(`
`).join(`
`+s),e.push(i+"m+"+Yk.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=Pqe()+t+" "+e[0]}o(Dqe,"formatArgs");function Pqe(){return Pl.inspectOpts.hideDate?"":new Date().toISOString()+" "}o(Pqe,"getDate");function Nqe(...e){return process.stderr.write(zk.format(...e)+`
`)}o(Nqe,"log");function Fqe(e){e?process.env.DEBUG=e:delete process.env.DEBUG}o(Fqe,"save");function Lqe(){return process.env.DEBUG}o(Lqe,"load");function Qqe(e){e.inspectOpts={};let t=Object.keys(Pl.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=Pl.inspectOpts[t[r]]}o(Qqe,"init");Yk.exports=nj()(Pl);var{formatters:Zue}=Yk.exports;Zue.o=function(e){return this.inspectOpts.colors=this.useColors,zk.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};Zue.O=function(e){return this.inspectOpts.colors=this.useColors,zk.inspect(e,this.inspectOpts)}});var O3=V((DPt,sj)=>{d();typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?sj.exports=$ue():sj.exports=efe()});var dj=V((LPt,ife)=>{d();var U9=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Mqe=typeof AbortController=="function",Kk=Mqe?AbortController:class{static{o(this,"AbortController")}constructor(){this.signal=new tfe}abort(){this.signal.dispatchEvent("abort")}},Oqe=typeof AbortSignal=="function",Uqe=typeof Kk.AbortSignal=="function",tfe=Oqe?AbortSignal:Uqe?Kk.AbortController:class{static{o(this,"AbortSignal")}constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(t){if(t==="abort"){this.aborted=!0;let r={type:t,target:this};this.onabort(r),this._listeners.forEach(n=>n(r),this)}}onabort(){}addEventListener(t,r){t==="abort"&&this._listeners.push(r)}removeEventListener(t,r){t==="abort"&&(this._listeners=this._listeners.filter(n=>n!==r))}},uj=new Set,aj=o((e,t)=>{let r=`LRU_CACHE_OPTION_${e}`;Jk(r)&&fj(r,`${e} option`,`options.${t}`,Mx)},"deprecatedOption"),lj=o((e,t)=>{let r=`LRU_CACHE_METHOD_${e}`;if(Jk(r)){let{prototype:n}=Mx,{get:i}=Object.getOwnPropertyDescriptor(n,e);fj(r,`${e} method`,`cache.${t}()`,i)}},"deprecatedMethod"),qqe=o((e,t)=>{let r=`LRU_CACHE_PROPERTY_${e}`;if(Jk(r)){let{prototype:n}=Mx,{get:i}=Object.getOwnPropertyDescriptor(n,e);fj(r,`${e} property`,`cache.${t}`,i)}},"deprecatedProperty"),rfe=o((...e)=>{typeof process=="object"&&process&&typeof process.emitWarning=="function"?process.emitWarning(...e):console.error(...e)},"emitWarning"),Jk=o(e=>!uj.has(e),"shouldWarn"),fj=o((e,t,r,n)=>{uj.add(e);let i=`The ${t} is deprecated. Please use ${r} instead.`;rfe(i,"DeprecationWarning",e,n)},"warn"),U3=o(e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),"isPosInt"),nfe=o(e=>U3(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?Qx:null:null,"getUintArray"),Qx=class extends Array{static{o(this,"ZeroArray")}constructor(t){super(t),this.fill(0)}},cj=class{static{o(this,"Stack")}constructor(t){if(t===0)return[];let r=nfe(t);this.heap=new r(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}},Mx=class e{static{o(this,"LRUCache")}constructor(t={}){let{max:r=0,ttl:n,ttlResolution:i=1,ttlAutopurge:s,updateAgeOnGet:a,updateAgeOnHas:l,allowStale:c,dispose:u,disposeAfter:f,noDisposeOnSet:m,noUpdateTTL:h,maxSize:p=0,sizeCalculation:A,fetchMethod:E,fetchContext:x,noDeleteOnFetchRejection:b,noDeleteOnStaleGet:v}=t,{length:S,maxAge:k,stale:P}=t instanceof e?{}:t;if(r!==0&&!U3(r))throw new TypeError("max option must be a nonnegative integer");let N=r?nfe(r):Array;if(!N)throw new Error("invalid max value: "+r);if(this.max=r,this.maxSize=p,this.sizeCalculation=A||S,this.sizeCalculation){if(!this.maxSize)throw new TypeError("cannot set sizeCalculation without setting maxSize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=E||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=x,!this.fetchMethod&&x!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(r).fill(null),this.valList=new Array(r).fill(null),this.next=new N(r),this.prev=new N(r),this.head=0,this.tail=0,this.free=new cj(r),this.initialFill=1,this.size=0,typeof u=="function"&&(this.dispose=u),typeof f=="function"?(this.disposeAfter=f,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!m,this.noUpdateTTL=!!h,this.noDeleteOnFetchRejection=!!b,this.maxSize!==0){if(!U3(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!c||!!P,this.noDeleteOnStaleGet=!!v,this.updateAgeOnGet=!!a,this.updateAgeOnHas=!!l,this.ttlResolution=U3(i)||i===0?i:1,this.ttlAutopurge=!!s,this.ttl=n||k||0,this.ttl){if(!U3(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){let W="LRU_CACHE_UNBOUNDED";Jk(W)&&(uj.add(W),rfe("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",W,e))}P&&aj("stale","allowStale"),k&&aj("maxAge","ttl"),S&&aj("length","sizeCalculation")}getRemainingTTL(t){return this.has(t,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new Qx(this.max),this.starts=new Qx(this.max),this.setItemTTL=(n,i,s=U9.now())=>{if(this.starts[n]=i!==0?s:0,this.ttls[n]=i,i!==0&&this.ttlAutopurge){let a=setTimeout(()=>{this.isStale(n)&&this.delete(this.keyList[n])},i+1);a.unref&&a.unref()}},this.updateItemAge=n=>{this.starts[n]=this.ttls[n]!==0?U9.now():0};let t=0,r=o(()=>{let n=U9.now();if(this.ttlResolution>0){t=n;let i=setTimeout(()=>t=0,this.ttlResolution);i.unref&&i.unref()}return n},"getNow");this.getRemainingTTL=n=>{let i=this.keyMap.get(n);return i===void 0?0:this.ttls[i]===0||this.starts[i]===0?1/0:this.starts[i]+this.ttls[i]-(t||r())},this.isStale=n=>this.ttls[n]!==0&&this.starts[n]!==0&&(t||r())-this.starts[n]>this.ttls[n]}updateItemAge(t){}setItemTTL(t,r,n){}isStale(t){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new Qx(this.max),this.removeItemSize=t=>{this.calculatedSize-=this.sizes[t],this.sizes[t]=0},this.requireSize=(t,r,n,i)=>{if(!U3(n))if(i){if(typeof i!="function")throw new TypeError("sizeCalculation must be a function");if(n=i(r,t),!U3(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer)");return n},this.addItemSize=(t,r)=>{this.sizes[t]=r;let n=this.maxSize-this.sizes[t];for(;this.calculatedSize>n;)this.evict(!0);this.calculatedSize+=this.sizes[t]}}removeItemSize(t){}addItemSize(t,r){}requireSize(t,r,n,i){if(n||i)throw new TypeError("cannot set size without setting maxSize on cache")}*indexes({allowStale:t=this.allowStale}={}){if(this.size)for(let r=this.tail;!(!this.isValidIndex(r)||((t||!this.isStale(r))&&(yield r),r===this.head));)r=this.prev[r]}*rindexes({allowStale:t=this.allowStale}={}){if(this.size)for(let r=this.head;!(!this.isValidIndex(r)||((t||!this.isStale(r))&&(yield r),r===this.tail));)r=this.next[r]}isValidIndex(t){return this.keyMap.get(this.keyList[t])===t}*entries(){for(let t of this.indexes())yield[this.keyList[t],this.valList[t]]}*rentries(){for(let t of this.rindexes())yield[this.keyList[t],this.valList[t]]}*keys(){for(let t of this.indexes())yield this.keyList[t]}*rkeys(){for(let t of this.rindexes())yield this.keyList[t]}*values(){for(let t of this.indexes())yield this.valList[t]}*rvalues(){for(let t of this.rindexes())yield this.valList[t]}[Symbol.iterator](){return this.entries()}find(t,r={}){for(let n of this.indexes())if(t(this.valList[n],this.keyList[n],this))return this.get(this.keyList[n],r)}forEach(t,r=this){for(let n of this.indexes())t.call(r,this.valList[n],this.keyList[n],this)}rforEach(t,r=this){for(let n of this.rindexes())t.call(r,this.valList[n],this.keyList[n],this)}get prune(){return lj("prune","purgeStale"),this.purgeStale}purgeStale(){let t=!1;for(let r of this.rindexes({allowStale:!0}))this.isStale(r)&&(this.delete(this.keyList[r]),t=!0);return t}dump(){let t=[];for(let r of this.indexes({allowStale:!0})){let n=this.keyList[r],i=this.valList[r],a={value:this.isBackgroundFetch(i)?i.__staleWhileFetching:i};if(this.ttls){a.ttl=this.ttls[r];let l=U9.now()-this.starts[r];a.start=Math.floor(Date.now()-l)}this.sizes&&(a.size=this.sizes[r]),t.unshift([n,a])}return t}load(t){this.clear();for(let[r,n]of t){if(n.start){let i=Date.now()-n.start;n.start=U9.now()-i}this.set(r,n.value,n)}}dispose(t,r,n){}set(t,r,{ttl:n=this.ttl,start:i,noDisposeOnSet:s=this.noDisposeOnSet,size:a=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL}={}){if(a=this.requireSize(t,r,a,l),this.maxSize&&a>this.maxSize)return this;let u=this.size===0?void 0:this.keyMap.get(t);if(u===void 0)u=this.newIndex(),this.keyList[u]=t,this.valList[u]=r,this.keyMap.set(t,u),this.next[this.tail]=u,this.prev[u]=this.tail,this.tail=u,this.size++,this.addItemSize(u,a),c=!1;else{let f=this.valList[u];r!==f&&(this.isBackgroundFetch(f)?f.__abortController.abort():s||(this.dispose(f,t,"set"),this.disposeAfter&&this.disposed.push([f,t,"set"])),this.removeItemSize(u),this.valList[u]=r,this.addItemSize(u,a)),this.moveToTail(u)}if(n!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),c||this.setItemTTL(u,n,i),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){let t=this.valList[this.head];return this.evict(!0),t}}evict(t){let r=this.head,n=this.keyList[r],i=this.valList[r];return this.isBackgroundFetch(i)?i.__abortController.abort():(this.dispose(i,n,"evict"),this.disposeAfter&&this.disposed.push([i,n,"evict"])),this.removeItemSize(r),t&&(this.keyList[r]=null,this.valList[r]=null,this.free.push(r)),this.head=this.next[r],this.keyMap.delete(n),this.size--,r}has(t,{updateAgeOnHas:r=this.updateAgeOnHas}={}){let n=this.keyMap.get(t);return n!==void 0&&!this.isStale(n)?(r&&this.updateItemAge(n),!0):!1}peek(t,{allowStale:r=this.allowStale}={}){let n=this.keyMap.get(t);if(n!==void 0&&(r||!this.isStale(n))){let i=this.valList[n];return this.isBackgroundFetch(i)?i.__staleWhileFetching:i}}backgroundFetch(t,r,n,i){let s=r===void 0?void 0:this.valList[r];if(this.isBackgroundFetch(s))return s;let a=new Kk,l={signal:a.signal,options:n,context:i},c=o(h=>(a.signal.aborted||this.set(t,h,l.options),h),"cb"),u=o(h=>{if(this.valList[r]===m&&(!n.noDeleteOnFetchRejection||m.__staleWhileFetching===void 0?this.delete(t):this.valList[r]=m.__staleWhileFetching),m.__returned===m)throw h},"eb"),f=o(h=>h(this.fetchMethod(t,s,l)),"pcall"),m=new Promise(f).then(c,u);return m.__abortController=a,m.__staleWhileFetching=s,m.__returned=null,r===void 0?(this.set(t,m,l.options),r=this.keyMap.get(t)):this.valList[r]=m,m}isBackgroundFetch(t){return t&&typeof t=="object"&&typeof t.then=="function"&&Object.prototype.hasOwnProperty.call(t,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(t,"__returned")&&(t.__returned===t||t.__returned===null)}async fetch(t,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:s=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:f=this.noDeleteOnFetchRejection,fetchContext:m=this.fetchContext,forceRefresh:h=!1}={}){if(!this.fetchMethod)return this.get(t,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i});let p={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,ttl:s,noDisposeOnSet:a,size:l,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:f},A=this.keyMap.get(t);if(A===void 0){let E=this.backgroundFetch(t,A,p,m);return E.__returned=E}else{let E=this.valList[A];if(this.isBackgroundFetch(E))return r&&E.__staleWhileFetching!==void 0?E.__staleWhileFetching:E.__returned=E;if(!h&&!this.isStale(A))return this.moveToTail(A),n&&this.updateItemAge(A),E;let x=this.backgroundFetch(t,A,p,m);return r&&x.__staleWhileFetching!==void 0?x.__staleWhileFetching:x.__returned=x}}get(t,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet}={}){let s=this.keyMap.get(t);if(s!==void 0){let a=this.valList[s],l=this.isBackgroundFetch(a);return this.isStale(s)?l?r?a.__staleWhileFetching:void 0:(i||this.delete(t),r?a:void 0):l?void 0:(this.moveToTail(s),n&&this.updateItemAge(s),a)}}connect(t,r){this.prev[r]=t,this.next[t]=r}moveToTail(t){t!==this.tail&&(t===this.head?this.head=this.next[t]:this.connect(this.prev[t],this.next[t]),this.connect(this.tail,t),this.tail=t)}get del(){return lj("del","delete"),this.delete}delete(t){let r=!1;if(this.size!==0){let n=this.keyMap.get(t);if(n!==void 0)if(r=!0,this.size===1)this.clear();else{this.removeItemSize(n);let i=this.valList[n];this.isBackgroundFetch(i)?i.__abortController.abort():(this.dispose(i,t,"delete"),this.disposeAfter&&this.disposed.push([i,t,"delete"])),this.keyMap.delete(t),this.keyList[n]=null,this.valList[n]=null,n===this.tail?this.tail=this.prev[n]:n===this.head?this.head=this.next[n]:(this.next[this.prev[n]]=this.next[n],this.prev[this.next[n]]=this.prev[n]),this.size--,this.free.push(n)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return r}clear(){for(let t of this.rindexes({allowStale:!0})){let r=this.valList[t];if(this.isBackgroundFetch(r))r.__abortController.abort();else{let n=this.keyList[t];this.dispose(r,n,"delete"),this.disposeAfter&&this.disposed.push([r,n,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return lj("reset","clear"),this.clear}get length(){return qqe("length","size"),this.size}static get AbortController(){return Kk}static get AbortSignal(){return tfe}};ife.exports=Mx});var pj=V((OPt,ofe)=>{"use strict";d();var q9=class extends Error{static{o(this,"FetchBaseError")}constructor(t,r,n){super(t),this.type=r,this._name=n}get name(){return this._name}get[Symbol.toStringTag](){return this._name}},mj=class extends q9{static{o(this,"FetchError")}constructor(t,r,n){super(t,r,"FetchError"),n&&(this.code=n.code,this.errno=n.errno,this.erroredSysCall=n.syscall)}},hj=class extends q9{static{o(this,"AbortError")}constructor(t,r="aborted"){super(t,r,"AbortError")}};ofe.exports={FetchBaseError:q9,FetchError:mj,AbortError:hj}});var kg=V((GPt,afe)=>{"use strict";d();var{constants:{MAX_LENGTH:Gqe}}=require("buffer"),{pipeline:Xk,PassThrough:Wqe}=require("stream"),{promisify:Hqe}=require("util"),{createGunzip:Vqe,createInflate:jqe,createBrotliDecompress:$qe,constants:{Z_SYNC_FLUSH:sfe}}=require("zlib"),zqe=O3()("helix-fetch:utils"),Yqe=Hqe(Xk),Kqe=o((e,t)=>e===204||e===304||+t["content-length"]==0?!1:/^\s*(?:(x-)?deflate|(x-)?gzip|br)\s*$/.test(t["content-encoding"]),"canDecode"),Jqe=o((e,t,r,n)=>{if(!Kqe(e,t))return r;let i=o(s=>{s&&(zqe(`encountered error while decoding stream: ${s}`),n(s))},"cb");switch(t["content-encoding"].trim()){case"gzip":case"x-gzip":return Xk(r,Vqe({flush:sfe,finishFlush:sfe}),i);case"deflate":case"x-deflate":return Xk(r,jqe(),i);case"br":return Xk(r,$qe(),i);default:return r}},"decodeStream"),Xqe=o(e=>{if(!e||typeof e!="object"||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},"isPlainObject"),Zk=o((e,t)=>{if(Buffer.isBuffer(e))return e.length;switch(typeof e){case"string":return e.length*2;case"boolean":return 4;case"number":return 8;case"symbol":return Symbol.keyFor(e)?Symbol.keyFor(e).length*2:(e.toString().length-8)*2;case"object":return Array.isArray(e)?Zqe(e,t):eGe(e,t);default:return 0}},"calcSize"),Zqe=o((e,t)=>(t.add(e),e.map(r=>t.has(r)?0:Zk(r,t)).reduce((r,n)=>r+n,0)),"calcArraySize"),eGe=o((e,t)=>{if(e==null)return 0;t.add(e);let r=0,n=[];for(let i in e)n.push(i);return n.push(...Object.getOwnPropertySymbols(e)),n.forEach(i=>{if(r+=Zk(i,t),typeof e[i]=="object"&&e[i]!==null){if(t.has(e[i]))return;t.add(e[i])}r+=Zk(e[i],t)}),r},"calcObjectSize"),tGe=o(e=>Zk(e,new WeakSet),"sizeof"),rGe=o(async e=>{let t=new Wqe,r=0,n=[];return t.on("data",i=>{if(r+i.length>Gqe)throw new Error("Buffer.constants.MAX_SIZE exceeded");n.push(i),r+=i.length}),await Yqe(e,t),Buffer.concat(n,r)},"streamToBuffer");afe.exports={decodeStream:Jqe,isPlainObject:Xqe,sizeof:tGe,streamToBuffer:rGe}});var tR=V((VPt,ffe)=>{"use strict";d();var{PassThrough:lfe,Readable:Rg}=require("stream"),{types:{isAnyArrayBuffer:ufe}}=require("util"),{FetchError:nGe,FetchBaseError:iGe}=pj(),{streamToBuffer:oGe}=kg(),sGe=Buffer.alloc(0),vf=Symbol("Body internals"),aGe=o(e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),"toArrayBuffer"),cfe=o(async e=>{if(e[vf].disturbed)throw new TypeError("Already read");if(e[vf].error)throw new TypeError(`Stream had error: ${e[vf].error.message}`);e[vf].disturbed=!0;let{stream:t}=e[vf];return t===null?sGe:oGe(t)},"consume"),eR=class{static{o(this,"Body")}constructor(t){let r;t==null?r=null:t instanceof URLSearchParams?r=Rg.from(t.toString()):t instanceof Rg?r=t:Buffer.isBuffer(t)?r=Rg.from(t):ufe(t)?r=Rg.from(Buffer.from(t)):typeof t=="string"||t instanceof String?r=Rg.from(t):r=Rg.from(String(t)),this[vf]={stream:r,disturbed:!1,error:null},t instanceof Rg&&r.on("error",n=>{let i=n instanceof iGe?n:new nGe(`Invalid response body while trying to fetch ${this.url}: ${n.message}`,"system",n);this[vf].error=i})}get body(){return this[vf].stream}get bodyUsed(){return this[vf].disturbed}async buffer(){return cfe(this)}async arrayBuffer(){return aGe(await this.buffer())}async text(){return(await cfe(this)).toString()}async json(){return JSON.parse(await this.text())}};Object.defineProperties(eR.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});var lGe=o(e=>{if(e[vf].disturbed)throw new TypeError("Cannot clone: already read");let{stream:t}=e[vf],r=t;if(t instanceof Rg){r=new lfe;let n=new lfe;t.pipe(r),t.pipe(n),e[vf].stream=n}return r},"cloneStream"),cGe=o(e=>e===null?null:typeof e=="string"?"text/plain; charset=utf-8":e instanceof URLSearchParams?"application/x-www-form-urlencoded; charset=utf-8":Buffer.isBuffer(e)||ufe(e)||e instanceof Rg?null:"text/plain; charset=utf-8","guessContentType");ffe.exports={Body:eR,cloneStream:lGe,guessContentType:cGe}});var Ox=V((zPt,pfe)=>{"use strict";d();var{validateHeaderName:dfe,validateHeaderValue:mfe}=require("http"),{isPlainObject:uGe}=kg(),Dg=Symbol("Headers internals"),G9=o(e=>{let t=typeof e!="string"?String(e):e;if(typeof dfe=="function")dfe(t);else if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(t)){let r=new TypeError(`Header name must be a valid HTTP token [${t}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}return t.toLowerCase()},"normalizeName"),hfe=o((e,t)=>{let r=typeof e!="string"?String(e):e;if(typeof mfe=="function")mfe(t,r);else if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let n=new TypeError(`Invalid character in header content ["${t}"]`);throw Object.defineProperty(n,"code",{value:"ERR_INVALID_CHAR"}),n}return r},"normalizeValue"),rR=class e{static{o(this,"Headers")}constructor(t={}){if(this[Dg]={map:new Map},t instanceof e)t.forEach((r,n)=>{this.append(n,r)});else if(Array.isArray(t))t.forEach(([r,n])=>{this.append(r,n)});else if(uGe(t))for(let[r,n]of Object.entries(t))this.append(r,n)}set(t,r){this[Dg].map.set(G9(t),hfe(r,t))}has(t){return this[Dg].map.has(G9(t))}get(t){let r=this[Dg].map.get(G9(t));return r===void 0?null:r}append(t,r){let n=G9(t),i=hfe(r,t),s=this[Dg].map.get(n);this[Dg].map.set(n,s?`${s}, ${i}`:i)}delete(t){this[Dg].map.delete(G9(t))}forEach(t,r){for(let n of this.keys())t.call(r,this.get(n),n)}keys(){return Array.from(this[Dg].map.keys()).sort()}*values(){for(let t of this.keys())yield this.get(t)}*entries(){for(let t of this.keys())yield[t,this.get(t)]}[Symbol.iterator](){return this.entries()}get[Symbol.toStringTag](){return this.constructor.name}plain(){return Object.fromEntries(this[Dg].map)}};Object.defineProperties(rR.prototype,["append","delete","entries","forEach","get","has","keys","set","values"].reduce((e,t)=>(e[t]={enumerable:!0},e),{}));pfe.exports={Headers:rR}});var gj=V((JPt,gfe)=>{"use strict";d();var{EventEmitter:fGe}=require("events"),Kd=Symbol("AbortSignal internals"),Ux=class{static{o(this,"AbortSignal")}constructor(){this[Kd]={eventEmitter:new fGe,onabort:null,aborted:!1}}get aborted(){return this[Kd].aborted}get onabort(){return this[Kd].onabort}set onabort(t){this[Kd].onabort=t}get[Symbol.toStringTag](){return this.constructor.name}removeEventListener(t,r){this[Kd].eventEmitter.removeListener(t,r)}addEventListener(t,r){this[Kd].eventEmitter.on(t,r)}dispatchEvent(t){let r={type:t,target:this},n=`on${t}`;typeof this[Kd][n]=="function"&&this[n](r),this[Kd].eventEmitter.emit(t,r)}fire(){this[Kd].aborted=!0,this.dispatchEvent("abort")}};Object.defineProperties(Ux.prototype,{addEventListener:{enumerable:!0},removeEventListener:{enumerable:!0},dispatchEvent:{enumerable:!0},aborted:{enumerable:!0},onabort:{enumerable:!0}});var iR=class extends Ux{static{o(this,"TimeoutSignal")}constructor(t){if(!Number.isInteger(t))throw new TypeError(`Expected an integer, got ${typeof t}`);super(),this[Kd].timerId=setTimeout(()=>{this.fire()},t)}clear(){clearTimeout(this[Kd].timerId)}};Object.defineProperties(iR.prototype,{clear:{enumerable:!0}});var nR=Symbol("AbortController internals"),oR=class{static{o(this,"AbortController")}constructor(){this[nR]={signal:new Ux}}get signal(){return this[nR].signal}get[Symbol.toStringTag](){return this.constructor.name}abort(){this[nR].signal.aborted||this[nR].signal.fire()}};Object.defineProperties(oR.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});gfe.exports={AbortController:oR,AbortSignal:Ux,TimeoutSignal:iR}});var W9=V((eNt,Cfe)=>{"use strict";d();var{randomBytes:dGe}=require("crypto"),{Readable:mGe}=require("stream"),yj=o(e=>typeof e=="object"&&["arrayBuffer","stream","text","slice","constructor"].map(t=>typeof e[t]).filter(t=>t!=="function").length===0&&typeof e.type=="string"&&typeof e.size=="number"&&/^(Blob|File)$/.test(e[Symbol.toStringTag]),"isBlob"),hGe=o(e=>e!=null&&typeof e=="object"&&["append","delete","get","getAll","has","set","keys","values","entries","constructor"].map(t=>typeof e[t]).filter(t=>t!=="function").length===0&&e[Symbol.toStringTag]==="FormData","isFormData"),Afe=o(e=>`--${e}--\r
\r
`,"getFooter"),yfe=o((e,t,r)=>{let n="";return n+=`--${e}\r
`,n+=`Content-Disposition: form-data; name="${t}"`,yj(r)&&(n+=`; filename="${r.name}"\r
`,n+=`Content-Type: ${r.type||"application/octet-stream"}`),`${n}\r
\r
`},"getHeader");async function*pGe(e,t){for(let[r,n]of e)yield yfe(t,r,n),yj(n)?yield*n.stream():yield n,yield`\r
`;yield Afe(t)}o(pGe,"formDataIterator");var gGe=o((e,t)=>{let r=0;for(let[n,i]of e)r+=Buffer.byteLength(yfe(t,n,i)),r+=yj(i)?i.size:Buffer.byteLength(String(i)),r+=Buffer.byteLength(`\r
`);return r+=Buffer.byteLength(Afe(t)),r},"getFormDataLength"),Aj=class{static{o(this,"FormDataSerializer")}constructor(t){this.fd=t,this.boundary=dGe(8).toString("hex")}length(){return typeof this._length>"u"&&(this._length=gGe(this.fd,this.boundary)),this._length}contentType(){return`multipart/form-data; boundary=${this.boundary}`}stream(){return mGe.from(pGe(this.fd,this.boundary))}};Cfe.exports={isFormData:hGe,FormDataSerializer:Aj}});var xfe=V((nNt,Efe)=>{"use strict";d();var{AbortSignal:AGe}=gj(),{Body:yGe,cloneStream:CGe,guessContentType:EGe}=tR(),{Headers:xGe}=Ox(),{isPlainObject:vGe}=kg(),{isFormData:bGe,FormDataSerializer:IGe}=W9(),TGe=20,_2=Symbol("Request internals"),sR=class e extends yGe{static{o(this,"Request")}constructor(t,r={}){let n=t instanceof e?t:null,i=n?new URL(n.url):new URL(t),s=r.method||n&&n.method||"GET";if(s=s.toUpperCase(),(r.body!=null||n&&n.body!==null)&&["GET","HEAD"].includes(s))throw new TypeError("Request with GET/HEAD method cannot have body");let a=r.body||(n&&n.body?CGe(n):null),l=new xGe(r.headers||n&&n.headers||{});if(bGe(a)&&!l.has("content-type")){let m=new IGe(a);a=m.stream(),l.set("content-type",m.contentType()),!l.has("transfer-encoding")&&!l.has("content-length")&&l.set("content-length",m.length())}if(!l.has("content-type"))if(vGe(a))a=JSON.stringify(a),l.set("content-type","application/json");else{let m=EGe(a);m&&l.set("content-type",m)}super(a);let c=n?n.signal:null;if("signal"in r&&(c=r.signal),c&&!(c instanceof AGe))throw new TypeError("signal needs to be an instance of AbortSignal");let u=r.redirect||n&&n.redirect||"follow";if(!["follow","error","manual"].includes(u))throw new TypeError(`'${u}' is not a valid redirect option`);let f=r.cache||n&&n.cache||"default";if(!["default","no-store","reload","no-cache","force-cache","only-if-cached"].includes(f))throw new TypeError(`'${f}' is not a valid cache option`);this[_2]={init:{...r},method:s,redirect:u,cache:f,headers:l,parsedURL:i,signal:c},r.follow===void 0?!n||n.follow===void 0?this.follow=TGe:this.follow=n.follow:this.follow=r.follow,this.counter=r.counter||n&&n.counter||0,r.compress===void 0?!n||n.compress===void 0?this.compress=!0:this.compress=n.compress:this.compress=r.compress,r.decode===void 0?!n||n.decode===void 0?this.decode=!0:this.decode=n.decode:this.decode=r.decode}get method(){return this[_2].method}get url(){return this[_2].parsedURL.toString()}get headers(){return this[_2].headers}get redirect(){return this[_2].redirect}get cache(){return this[_2].cache}get signal(){return this[_2].signal}clone(){return new e(this)}get init(){return this[_2].init}get[Symbol.toStringTag](){return this.constructor.name}};Object.defineProperties(sR.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},cache:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}});Efe.exports={Request:sR}});var Cj=V((sNt,vfe)=>{"use strict";d();var{Body:wGe,cloneStream:_Ge,guessContentType:SGe}=tR(),{Headers:BGe}=Ox(),{isPlainObject:kGe}=kg(),{isFormData:RGe,FormDataSerializer:DGe}=W9(),Jd=Symbol("Response internals"),aR=class e extends wGe{static{o(this,"Response")}constructor(t=null,r={}){let n=new BGe(r.headers),i=t;if(RGe(i)&&!n.has("content-type")){let s=new DGe(i);i=s.stream(),n.set("content-type",s.contentType()),!n.has("transfer-encoding")&&!n.has("content-length")&&n.set("content-length",s.length())}if(i!==null&&!n.has("content-type"))if(kGe(i))i=JSON.stringify(i),n.set("content-type","application/json");else{let s=SGe(i);s&&n.set("content-type",s)}super(i),this[Jd]={url:r.url,status:r.status||200,statusText:r.statusText||"",headers:n,httpVersion:r.httpVersion,decoded:r.decoded,counter:r.counter}}get url(){return this[Jd].url||""}get status(){return this[Jd].status}get statusText(){return this[Jd].statusText}get ok(){return this[Jd].status>=200&&this[Jd].status<300}get redirected(){return this[Jd].counter>0}get headers(){return this[Jd].headers}get httpVersion(){return this[Jd].httpVersion}get decoded(){return this[Jd].decoded}static redirect(t,r=302){if(![301,302,303,307,308].includes(r))throw new RangeError("Invalid status code");return new e(null,{headers:{location:new URL(t).toString()},status:r})}clone(){if(this.bodyUsed)throw new TypeError("Cannot clone: already read");return new e(_Ge(this),{...this[Jd]})}get[Symbol.toStringTag](){return this.constructor.name}};Object.defineProperties(aR.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});vfe.exports={Response:aR}});var Ife=V((uNt,bfe)=>{"use strict";d();var PGe=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),NGe=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),FGe=new Set([500,502,503,504]),LGe={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},QGe={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function q3(e){let t=parseInt(e,10);return isFinite(t)?t:0}o(q3,"toNumberOrZero");function MGe(e){return e?FGe.has(e.status):!0}o(MGe,"isErrorResponse");function Ej(e){let t={};if(!e)return t;let r=e.trim().split(/,/);for(let n of r){let[i,s]=n.split(/=/,2);t[i.trim()]=s===void 0?!0:s.trim().replace(/^"|"$/g,"")}return t}o(Ej,"parseCacheControl");function OGe(e){let t=[];for(let r in e){let n=e[r];t.push(n===!0?r:r+"="+n)}if(t.length)return t.join(", ")}o(OGe,"formatCacheControl");bfe.exports=class{static{o(this,"CachePolicy")}constructor(t,r,{shared:n,cacheHeuristic:i,immutableMinTimeToLive:s,ignoreCargoCult:a,_fromObject:l}={}){if(l){this._fromObject(l);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(t),this._responseTime=this.now(),this._isShared=n!==!1,this._cacheHeuristic=i!==void 0?i:.1,this._immutableMinTtl=s!==void 0?s:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=Ej(r.headers["cache-control"]),this._method="method"in t?t.method:"GET",this._url=t.url,this._host=t.headers.host,this._noAuthorization=!t.headers.authorization,this._reqHeaders=r.headers.vary?t.headers:null,this._reqcc=Ej(t.headers["cache-control"]),a&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":OGe(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&NGe.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||PGe.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(t){if(!t||!t.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(t){this._assertRequestHasHeaders(t);let r=Ej(t.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(t.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(t,!1)}_requestMatches(t,r){return(!this._url||this._url===t.url)&&this._host===t.headers.host&&(!t.method||this._method===t.method||r&&t.method==="HEAD")&&this._varyMatches(t)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(t){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let n of r)if(t.headers[n]!==this._reqHeaders[n])return!1;return!0}_copyWithoutHopByHopHeaders(t){let r={};for(let n in t)LGe[n]||(r[n]=t[n]);if(t.connection){let n=t.connection.trim().split(/\s*,\s*/);for(let i of n)delete r[i]}if(r.warning){let n=r.warning.split(/,/).filter(i=>!/^\s*1[0-9][0-9]/.test(i));n.length?r.warning=n.join(",").trim():delete r.warning}return r}responseHeaders(){let t=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(t.warning=(t.warning?`${t.warning}, `:"")+'113 - "rfc7234 5.5.4"'),t.age=`${Math.round(r)}`,t.date=new Date(this.now()).toUTCString(),t}date(){let t=Date.parse(this._resHeaders.date);return isFinite(t)?t:this._responseTime}age(){let t=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return t+r}_ageValue(){return q3(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return q3(this._rescc["s-maxage"])}if(this._rescc["max-age"])return q3(this._rescc["max-age"]);let t=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let n=Date.parse(this._resHeaders.expires);return Number.isNaN(n)||n<r?0:Math.max(t,(n-r)/1e3)}if(this._resHeaders["last-modified"]){let n=Date.parse(this._resHeaders["last-modified"]);if(isFinite(n)&&r>n)return Math.max(t,(r-n)/1e3*this._cacheHeuristic)}return t}timeToLive(){let t=this.maxAge()-this.age(),r=t+q3(this._rescc["stale-if-error"]),n=t+q3(this._rescc["stale-while-revalidate"]);return Math.max(0,t,r,n)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+q3(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+q3(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(t){return new this(void 0,void 0,{_fromObject:t})}_fromObject(t){if(this._responseTime)throw Error("Reinitialized");if(!t||t.v!==1)throw Error("Invalid serialization");this._responseTime=t.t,this._isShared=t.sh,this._cacheHeuristic=t.ch,this._immutableMinTtl=t.imm!==void 0?t.imm:24*3600*1e3,this._status=t.st,this._resHeaders=t.resh,this._rescc=t.rescc,this._method=t.m,this._url=t.u,this._host=t.h,this._noAuthorization=t.a,this._reqHeaders=t.reqh,this._reqcc=t.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(t){this._assertRequestHasHeaders(t);let r=this._copyWithoutHopByHopHeaders(t.headers);if(delete r["if-range"],!this._requestMatches(t,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let i=r["if-none-match"].split(/,/).filter(s=>!/^\s*W\//.test(s));i.length?r["if-none-match"]=i.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(t,r){if(this._assertRequestHasHeaders(t),this._useStaleIfError()&&MGe(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let n=!1;if(r.status!==void 0&&r.status!=304?n=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?n=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?n=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?n=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(n=!0),!n)return{policy:new this.constructor(t,r),modified:r.status!=304,matches:!1};let i={};for(let a in this._resHeaders)i[a]=a in r.headers&&!QGe[a]?r.headers[a]:this._resHeaders[a];let s=Object.assign({},r,{status:this._status,method:this._method,headers:i});return{policy:new this.constructor(t,s,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}});var Sfe=V((mNt,_fe)=>{"use strict";d();var UGe=Ife(),{Headers:qGe}=Ox(),Tfe=o(e=>({url:e.url,method:e.method,headers:e.headers.plain()}),"convertRequest"),wfe=o(e=>({status:e.status,headers:e.headers.plain()}),"convertResponse"),xj=class{static{o(this,"CachePolicyWrapper")}constructor(t,r,n){this.policy=new UGe(Tfe(t),wfe(r),n)}storable(){return this.policy.storable()}satisfiesWithoutRevalidation(t){return this.policy.satisfiesWithoutRevalidation(Tfe(t))}responseHeaders(t){return new qGe(this.policy.responseHeaders(wfe(t)))}timeToLive(){return this.policy.timeToLive()}};_fe.exports=xj});var Rfe=V((gNt,kfe)=>{"use strict";d();var{Readable:GGe}=require("stream"),{Headers:Bfe}=Ox(),{Response:WGe}=Cj(),S2=Symbol("CacheableResponse internals"),HGe=o(e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),"toArrayBuffer"),vj=class e extends WGe{static{o(this,"CacheableResponse")}constructor(t,r){super(t,r);let n=new Bfe(r.headers);this[S2]={headers:n,bufferedBody:t}}get headers(){return this[S2].headers}set headers(t){if(t instanceof Bfe)this[S2].headers=t;else throw new TypeError("instance of Headers expected")}get body(){return GGe.from(this[S2].bufferedBody)}get bodyUsed(){return!1}async buffer(){return this[S2].bufferedBody}async arrayBuffer(){return HGe(this[S2].bufferedBody)}async text(){return this[S2].bufferedBody.toString()}async json(){return JSON.parse(await this.text())}clone(){let{url:t,status:r,statusText:n,headers:i,httpVersion:s,decoded:a,counter:l}=this;return new e(this[S2].bufferedBody,{url:t,status:r,statusText:n,headers:i,httpVersion:s,decoded:a,counter:l})}get[Symbol.toStringTag](){return this.constructor.name}},VGe=o(async e=>{let t=await e.buffer(),{url:r,status:n,statusText:i,headers:s,httpVersion:a,decoded:l,counter:c}=e;return new vj(t,{url:r,status:n,statusText:i,headers:s,httpVersion:a,decoded:l,counter:c})},"cacheableResponse");kfe.exports={cacheableResponse:VGe}});var lR=V((CNt,Dfe)=>{"use strict";d();var bj=class extends Error{static{o(this,"RequestAbortedError")}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};Dfe.exports={RequestAbortedError:bj}});var Qfe=V((vNt,Lfe)=>{"use strict";d();var Nfe=require("http"),Ffe=require("https"),{Readable:jGe}=require("stream"),Pg=O3()("helix-fetch:h1"),{RequestAbortedError:Pfe}=lR(),{decodeStream:$Ge}=kg(),zGe=o((e,t)=>{let{h1:r,options:{h1:n,rejectUnauthorized:i}}=e;return t==="https:"?r.httpsAgent?r.httpsAgent:n||typeof i=="boolean"?(r.httpsAgent=new Ffe.Agent(typeof i=="boolean"?{...n||{},rejectUnauthorized:i}:n),r.httpsAgent):void 0:r.httpAgent?r.httpAgent:n?(r.httpAgent=new Nfe.Agent(n),r.httpAgent):void 0},"getAgent"),YGe=o(e=>{e.h1={}},"setupContext"),KGe=o(async({h1:e})=>{e.httpAgent&&(Pg("resetContext: destroying httpAgent"),e.httpAgent.destroy(),delete e.httpAgent),e.httpsAgent&&(Pg("resetContext: destroying httpsAgent"),e.httpsAgent.destroy(),delete e.httpsAgent)},"resetContext"),JGe=o((e,t,r)=>{let{statusCode:n,statusMessage:i,httpVersion:s,httpVersionMajor:a,httpVersionMinor:l,headers:c}=e,u=t?$Ge(n,c,e,r):e;return{statusCode:n,statusText:i,httpVersion:s,httpVersionMajor:a,httpVersionMinor:l,headers:c,readable:u,decoded:!!(t&&u!==e)}},"createResponse"),XGe=o(async(e,t,r)=>{let{request:n}=t.protocol==="https:"?Ffe:Nfe,i=zGe(e,t.protocol),s={...r,agent:i},{socket:a,body:l}=s;return a&&(delete s.socket,a.assigned||(a.assigned=!0,i?s.agent=new Proxy(i,{get:o((c,u)=>u==="createConnection"&&!a.inUse?(f,m)=>{Pg(`agent reusing socket #${a.id} (${a.servername})`),a.inUse=!0,m(null,a)}:c[u],"get")}):s.createConnection=(c,u)=>{Pg(`reusing socket #${a.id} (${a.servername})`),a.inUse=!0,u(null,a)})),new Promise((c,u)=>{Pg(`${s.method} ${t.href}`);let f,{signal:m}=s,h=o(()=>{m.removeEventListener("abort",h),a&&!a.inUse&&(Pg(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),u(new Pfe),f&&f.abort()},"onAbortSignal");if(m){if(m.aborted){u(new Pfe);return}m.addEventListener("abort",h)}f=n(t,s),f.once("response",p=>{m&&m.removeEventListener("abort",h),a&&!a.inUse&&(Pg(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),c(JGe(p,s.decode,u))}),f.once("error",p=>{m&&m.removeEventListener("abort",h),a&&!a.inUse&&(Pg(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),f.aborted||(Pg(`${s.method} ${t.href} failed with: ${p.message}`),f.abort(),u(p))}),l instanceof jGe?l.pipe(f):(l&&f.write(l),f.end())})},"h1Request");Lfe.exports={request:XGe,setupContext:YGe,resetContext:KGe}});var qfe=V((TNt,Ufe)=>{"use strict";d();var{connect:ZGe,constants:eWe}=require("http2"),{Readable:tWe}=require("stream"),Vo=O3()("helix-fetch:h2"),{RequestAbortedError:Mfe}=lR(),{decodeStream:rWe}=kg(),{NGHTTP2_CANCEL:H9}=eWe,nWe=5*60*1e3,iWe=5e3,oWe=o(e=>{e.h2={sessionCache:{}}},"setupContext"),sWe=o(async({h2:e})=>Promise.all(Object.values(e.sessionCache).map(t=>new Promise(r=>{t.on("close",r),Vo(`resetContext: destroying session (socket #${t.socket&&t.socket.id}, ${t.socket&&t.socket.servername})`),t.destroy()}))),"resetContext"),Ofe=o((e,t,r,n=()=>{})=>{let i={...e},s=i[":status"];delete i[":status"];let a=r?rWe(s,e,t,n):t;return{statusCode:s,statusText:"",httpVersion:"2.0",httpVersionMajor:2,httpVersionMinor:0,headers:i,readable:a,decoded:!!(r&&a!==t)}},"createResponse"),aWe=o((e,t,r,n,i,s)=>{let{options:{h2:{pushPromiseHandler:a,pushHandler:l,pushedStreamIdleTimeout:c=iWe}}}=e,u=i[":path"],f=`${t}${u}`;Vo(`received PUSH_PROMISE: ${f}, stream #${n.id}, headers: ${JSON.stringify(i)}, flags: ${s}`),a&&a(f,i,o(()=>{n.close(H9)},"rejectPush")),n.on("push",(m,h)=>{Vo(`received push headers for ${t}${u}, stream #${n.id}, headers: ${JSON.stringify(m)}, flags: ${h}`),n.setTimeout(c,()=>{Vo(`closing pushed stream #${n.id} after ${c} ms of inactivity`),n.close(H9)}),l&&l(f,i,Ofe(m,n,r))}),n.on("aborted",()=>{Vo(`pushed stream #${n.id} aborted`)}),n.on("error",m=>{Vo(`pushed stream #${n.id} encountered error: ${m}`)}),n.on("frameError",(m,h,p)=>{Vo(`pushed stream #${n.id} encountered frameError: type: ${m}, code: ${h}, id: ${p}`)})},"handlePush"),lWe=o(async(e,t,r)=>{let{origin:n,pathname:i,search:s,hash:a}=t,l=`${i}${s}${a}`,{options:{h2:c={}},h2:{sessionCache:u}}=e,{idleSessionTimeout:f=nWe,pushPromiseHandler:m,pushHandler:h}=c,p={...r},{method:A,headers:E,socket:x,body:b,decode:v}=p;return x&&delete p.socket,E.host&&(E[":authority"]=E.host,delete E.host),new Promise((S,k)=>{let P=u[n];if(!P||P.closed||P.destroyed){let te=!(e.options.rejectUnauthorized===!1||c.rejectUnauthorized===!1),G={...c,rejectUnauthorized:te};x&&!x.inUse&&(G.createConnection=()=>(Vo(`reusing socket #${x.id} (${x.servername})`),x.inUse=!0,x)),P=ZGe(n,{...G,settings:{enablePush:!!(m||h)}}),P.setMaxListeners(1e3),P.setTimeout(f,()=>{Vo(`closing session ${n} after ${f} ms of inactivity`),P.close()}),P.once("connect",()=>{Vo(`session ${n} established`),Vo(`caching session ${n}`),u[n]=P}),P.on("localSettings",se=>{Vo(`session ${n} localSettings: ${JSON.stringify(se)}`)}),P.on("remoteSettings",se=>{Vo(`session ${n} remoteSettings: ${JSON.stringify(se)}`)}),P.once("close",()=>{Vo(`session ${n} closed`),u[n]===P&&(Vo(`discarding cached session ${n}`),delete u[n])}),P.once("error",se=>{Vo(`session ${n} encountered error: ${se}`),u[n]===P&&(Vo(`discarding cached session ${n}`),delete u[n])}),P.on("frameError",(se,ne,H)=>{Vo(`session ${n} encountered frameError: type: ${se}, code: ${ne}, id: ${H}`)}),P.once("goaway",(se,ne,H)=>{Vo(`session ${n} received GOAWAY frame: errorCode: ${se}, lastStreamID: ${ne}, opaqueData: ${H?H.toString():void 0}`)}),P.on("stream",(se,ne,H)=>{aWe(e,n,v,se,ne,H)})}else x&&x.id!==P.socket.id&&!x.inUse&&(Vo(`discarding redundant socket used for ALPN: #${x.id} ${x.servername}`),x.destroy());Vo(`${A} ${t.host}${l}`);let N,{signal:W}=p,re=o(()=>{W.removeEventListener("abort",re),k(new Mfe),N&&N.close(H9)},"onAbortSignal");if(W){if(W.aborted){k(new Mfe);return}W.addEventListener("abort",re)}let ge=o(te=>{Vo(`session ${n} encountered error during ${p.method} ${t.href}: ${te}`),k(te)},"onSessionError");P.once("error",ge),N=P.request({":method":A,":path":l,...E}),N.once("response",te=>{P.off("error",ge),W&&W.removeEventListener("abort",re),S(Ofe(te,N,p.decode,k))}),N.once("error",te=>{P.off("error",ge),W&&W.removeEventListener("abort",re),N.rstCode!==H9&&(Vo(`${p.method} ${t.href} failed with: ${te.message}`),N.close(H9),k(te))}),N.once("frameError",(te,G,q)=>{P.off("error",ge),Vo(`encountered frameError during ${p.method} ${t.href}: type: ${te}, code: ${G}, id: ${q}`)}),N.on("push",(te,G)=>{Vo(`received 'push' event: headers: ${JSON.stringify(te)}, flags: ${G}`)}),b instanceof tWe?b.pipe(N):(b&&N.write(b),N.end())})},"request");Ufe.exports={request:lWe,setupContext:oWe,resetContext:sWe}});var Wfe=V((SNt,Gfe)=>{"use strict";d();var{EventEmitter:cWe}=require("events"),uWe=o(()=>{let e={},t=new cWe;return t.setMaxListeners(0),{acquire:o(r=>new Promise(n=>{if(!e[r]){e[r]=!0,n();return}let i=o(s=>{e[r]||(e[r]=!0,t.removeListener(r,i),n(s))},"tryAcquire");t.on(r,i)}),"acquire"),release:o((r,n)=>{Reflect.deleteProperty(e,r),setImmediate(()=>t.emit(r,n))},"release")}},"lock");Gfe.exports=uWe});var Hfe=V((RNt,fWe)=>{fWe.exports={name:"@adobe/helix-fetch",version:"3.1.1",description:"Light-weight Fetch implementation transparently supporting both HTTP/1(.1) and HTTP/2",main:"src/index.js",scripts:{test:"nyc mocha",lint:"./node_modules/.bin/eslint .","semantic-release":"semantic-release"},mocha:{timeout:"5000",recursive:"true",reporter:"mocha-multi-reporters","reporter-options":"configFile=.mocha-multi.json"},engines:{node:">=12.0"},types:"src/index.d.ts",exports:{import:"./src/index.mjs",require:"./src/index.js"},repository:{type:"git",url:"https://github.com/adobe/helix-fetch"},author:"",license:"Apache-2.0",bugs:{url:"https://github.com/adobe/helix-fetch/issues"},homepage:"https://github.com/adobe/helix-fetch#readme",keywords:["fetch","whatwg","Fetch API","http","https","http2","h2","promise","async","request","RFC 7234","7234","caching","cache"],dependencies:{debug:"4.3.4","http-cache-semantics":"^4.1.1","lru-cache":"7.13.1"},devDependencies:{"@adobe/eslint-config-helix":"1.3.2","@semantic-release/changelog":"6.0.1","@semantic-release/git":"10.0.1",chai:"4.3.6","chai-as-promised":"7.1.1","chai-bytes":"0.1.2","chai-iterator":"3.0.2",eslint:"8.21.0","eslint-plugin-header":"3.1.1","eslint-plugin-import":"2.26.0","formdata-node":"4.3.3","lint-staged":"13.0.3",mocha:"10.0.0","mocha-multi-reporters":"1.5.1",nock:"13.2.9",nyc:"15.1.0","parse-cache-control":"1.0.1",pem:"1.14.6",proxy:"^1.0.2","semantic-release":"19.0.3",sinon:"14.0.0","stream-buffers":"3.0.2",tunnel:"^0.0.6"},"lint-staged":{"*.js":"eslint"},config:{commitizen:{path:"node_modules/cz-conventional-changelog"},ghooks:{"pre-commit":"npx lint-staged"}}}});var Yfe=V((DNt,zfe)=>{"use strict";d();var{Readable:dWe}=require("stream"),mWe=require("tls"),{types:{isAnyArrayBuffer:hWe}}=require("util"),pWe=dj(),Ij=O3()("helix-fetch:core"),{RequestAbortedError:cR}=lR(),Tj=Qfe(),uR=qfe(),gWe=Wfe(),{isPlainObject:AWe}=kg(),{isFormData:yWe,FormDataSerializer:CWe}=W9(),{version:EWe}=Hfe(),wj="h2",_j="h2c",Sj="http/1.0",G3="http/1.1",xWe=100,vWe=60*60*1e3,bWe=[wj,G3,Sj],IWe=`helix-fetch/${EWe}`,TWe={method:"GET",compress:!0,decode:!0},Vfe=0,jfe=gWe(),$fe=o((e,t)=>new Promise((r,n)=>{let{signal:i}=t,s,a=o(()=>{i.removeEventListener("abort",a);let u=new cR;n(u),s&&s.destroy(u)},"onAbortSignal");if(i){if(i.aborted){n(new cR);return}i.addEventListener("abort",a)}let l=+e.port||443,c=o(u=>{i&&i.removeEventListener("abort",a),u instanceof cR||(Ij(`connecting to ${e.hostname}:${l} failed with: ${u.message}`),n(u))},"onError");s=mWe.connect(l,e.hostname,t),s.once("secureConnect",()=>{i&&i.removeEventListener("abort",a),s.off("error",c),Vfe+=1,s.id=Vfe,s.secureConnecting=!1,Ij(`established TLS connection: #${s.id} (${s.servername})`),r(s)}),s.once("error",c)}),"connectTLS"),wWe=o(async(e,t)=>{let r=await jfe.acquire(e.origin);try{return r||(r=await $fe(e,t)),r}finally{jfe.release(e.origin,r)}},"connect"),_We=o(async(e,t,r)=>{let n=`${t.protocol}//${t.host}`,i=e.alpnCache.get(n);if(i)return{protocol:i};switch(t.protocol){case"http:":return i=G3,e.alpnCache.set(n,i),{protocol:i};case"http2:":return i=_j,e.alpnCache.set(n,i),{protocol:i};case"https:":break;default:throw new TypeError(`unsupported protocol: ${t.protocol}`)}let{options:{rejectUnauthorized:s,h1:a={},h2:l={}}}=e,c=!(s===!1||a.rejectUnauthorized===!1||l.rejectUnauthorized===!1),u={servername:t.hostname,ALPNProtocols:e.alpnProtocols,signal:r,rejectUnauthorized:c};e.options.ca&&(u.ca=e.options.ca);let f=await wWe(t,u);return i=f.alpnProtocol,i||(i=G3),e.alpnCache.set(n,i),{protocol:i,socket:f}},"determineProtocol"),SWe=o(e=>{let t={};return Object.keys(e).forEach(r=>{t[r.toLowerCase()]=e[r]}),t},"sanitizeHeaders"),BWe=o(async(e,t,r,n)=>{let i=t.protocol==="https:",s;t.port?s=t.port:i?s=443:s=80;let a={...r,host:t.host,hostname:t.hostname,port:s},l=await e(a);if(i){let u={...a,ALPNProtocols:n};u.socket=l,u.servername=a.host;let f=await $fe(t,u);return{protocol:f.alpnProtocol||G3,socket:f}}return{protocol:l.alpnProtocol||G3,socket:l}},"getProtocolAndSocketFromFactory"),kWe=o(async(e,t,r)=>{let n=new URL(t),i={...TWe,...r||{}};typeof i.method=="string"&&(i.method=i.method.toUpperCase()),i.headers=SWe(i.headers||{}),i.headers.host===void 0&&(i.headers.host=n.host),e.userAgent&&i.headers["user-agent"]===void 0&&(i.headers["user-agent"]=e.userAgent);let s;if(i.body instanceof URLSearchParams)s="application/x-www-form-urlencoded; charset=utf-8",i.body=i.body.toString();else if(yWe(i.body)){let u=new CWe(i.body);s=u.contentType(),i.body=u.stream(),i.headers["transfer-encoding"]===void 0&&i.headers["content-length"]===void 0&&(i.headers["content-length"]=String(u.length()))}else typeof i.body=="string"||i.body instanceof String?s="text/plain; charset=utf-8":AWe(i.body)?(i.body=JSON.stringify(i.body),s="application/json"):hWe(i.body)&&(i.body=Buffer.from(i.body));i.headers["content-type"]===void 0&&s!==void 0&&(i.headers["content-type"]=s),i.body!=null&&(i.body instanceof dWe||(!(typeof i.body=="string"||i.body instanceof String)&&!Buffer.isBuffer(i.body)&&(i.body=String(i.body)),i.headers["transfer-encoding"]===void 0&&i.headers["content-length"]===void 0&&(i.headers["content-length"]=String(Buffer.isBuffer(i.body)?i.body.length:Buffer.byteLength(i.body,"utf-8"))))),i.headers.accept===void 0&&(i.headers.accept="*/*"),i.body==null&&["POST","PUT"].includes(i.method)&&(i.headers["content-length"]="0"),i.compress&&i.headers["accept-encoding"]===void 0&&(i.headers["accept-encoding"]="gzip,deflate,br");let{signal:a}=i,{protocol:l,socket:c=null}=e.socketFactory?await BWe(e.socketFactory,n,i,e.alpnProtocols):await _We(e,n,a);switch(Ij(`${n.host} -> ${l}`),l){case wj:try{return await uR.request(e,n,c?{...i,socket:c}:i)}catch(u){let{code:f,message:m}=u;throw f==="ERR_HTTP2_ERROR"&&m==="Protocol error"&&e.alpnCache.delete(`${n.protocol}//${n.host}`),u}case _j:return uR.request(e,new URL(`http://${n.host}${n.pathname}${n.hash}${n.search}`),c?{...i,socket:c}:i);case Sj:case G3:return Tj.request(e,n,c?{...i,socket:c}:i);default:throw new TypeError(`unsupported protocol: ${l}`)}},"request"),RWe=o(async e=>(e.alpnCache.clear(),Promise.all([Tj.resetContext(e),uR.resetContext(e)])),"resetContext"),DWe=o(e=>{let{options:{alpnProtocols:t=bWe,alpnCacheTTL:r=vWe,alpnCacheSize:n=xWe,userAgent:i=IWe,socketFactory:s}}=e;e.alpnProtocols=t,e.alpnCache=new pWe({max:n,ttl:r}),e.userAgent=i,e.socketFactory=s,Tj.setupContext(e),uR.setupContext(e)},"setupContext");zfe.exports={request:kWe,setupContext:DWe,resetContext:RWe,RequestAbortedError:cR,ALPN_HTTP2:wj,ALPN_HTTP2C:_j,ALPN_HTTP1_1:G3,ALPN_HTTP1_0:Sj}});var Jfe=V((FNt,Kfe)=>{"use strict";d();var PWe=O3()("helix-fetch:core"),{request:NWe,setupContext:FWe,resetContext:LWe,RequestAbortedError:QWe,ALPN_HTTP2:MWe,ALPN_HTTP2C:OWe,ALPN_HTTP1_1:UWe,ALPN_HTTP1_0:qWe}=Yfe(),Bj=class e{static{o(this,"RequestContext")}constructor(t){this.options={...t||{}},FWe(this)}api(){return{request:o(async(t,r)=>this.request(t,r),"request"),context:o((t={})=>new e(t).api(),"context"),setCA:o(t=>this.setCA(t),"setCA"),reset:o(async()=>this.reset(),"reset"),RequestAbortedError:QWe,ALPN_HTTP2:MWe,ALPN_HTTP2C:OWe,ALPN_HTTP1_1:UWe,ALPN_HTTP1_0:qWe}}async request(t,r){return NWe(this,t,r)}setCA(t){this.options.ca=t}async reset(){return PWe("resetting context"),LWe(this)}};Kfe.exports=new Bj().api()});var rde=V((MNt,tde)=>{"use strict";d();var{EventEmitter:GWe}=require("events"),{Readable:V9}=require("stream"),kj=O3()("helix-fetch"),WWe=dj(),{Body:HWe}=tR(),{Headers:Nj}=Ox(),{Request:W3}=xfe(),{Response:Dj}=Cj(),{FetchBaseError:VWe,FetchError:j9,AbortError:fR}=pj(),{AbortController:jWe,AbortSignal:$We,TimeoutSignal:zWe}=gj(),YWe=Sfe(),{cacheableResponse:KWe}=Rfe(),{sizeof:JWe}=kg(),{isFormData:XWe}=W9(),{context:ZWe,RequestAbortedError:eHe}=Jfe(),Xfe=["GET","HEAD"],tHe=500,rHe=100*1024*1024,Rj="push",Zfe=o(async(e,t,r)=>{let{request:n}=e.context,i=t instanceof W3&&typeof r>"u"?t:new W3(t,r),{method:s,body:a,signal:l,compress:c,decode:u,follow:f,redirect:m,init:{body:h}}=i,p;if(l&&l.aborted){let P=new fR("The operation was aborted.");throw i.init.body instanceof V9&&i.init.body.destroy(P),P}try{p=await n(i.url,{...r,method:s,headers:i.headers.plain(),body:h&&!(h instanceof V9)&&!XWe(h)?h:a,compress:c,decode:u,follow:f,redirect:m,signal:l})}catch(P){throw h instanceof V9&&h.destroy(P),P instanceof TypeError?P:P instanceof eHe?new fR("The operation was aborted."):new j9(P.message,"system",P)}let A=o(()=>{l.removeEventListener("abort",A);let P=new fR("The operation was aborted.");i.init.body instanceof V9&&i.init.body.destroy(P),p.readable.emit("error",P)},"abortHandler");l&&l.addEventListener("abort",A);let{statusCode:E,statusText:x,httpVersion:b,headers:v,readable:S,decoded:k}=p;if([301,302,303,307,308].includes(E)){let{location:P}=v,N=P==null?null:new URL(P,i.url);switch(i.redirect){case"manual":break;case"error":throw l&&l.removeEventListener("abort",A),new j9(`uri requested responds with a redirect, redirect mode is set to 'error': ${i.url}`,"no-redirect");case"follow":{if(N===null)break;if(i.counter>=i.follow)throw l&&l.removeEventListener("abort",A),new j9(`maximum redirect reached at: ${i.url}`,"max-redirect");let W={headers:new Nj(i.headers),follow:i.follow,compress:i.compress,decode:i.decode,counter:i.counter+1,method:i.method,body:i.body,signal:i.signal};if(E!==303&&i.body&&i.init.body instanceof V9)throw l&&l.removeEventListener("abort",A),new j9("Cannot follow redirect with body being a readable stream","unsupported-redirect");return(E===303||(E===301||E===302)&&i.method==="POST")&&(W.method="GET",W.body=void 0,W.headers.delete("content-length")),l&&l.removeEventListener("abort",A),Zfe(e,new W3(N,W))}default:}}return l&&(S.once("end",()=>{l.removeEventListener("abort",A)}),S.once("error",()=>{l.removeEventListener("abort",A)})),new Dj(S,{url:i.url,status:E,statusText:x,headers:v,httpVersion:b,decoded:k,counter:i.counter})},"fetch"),ede=o(async(e,t,r)=>{if(e.options.maxCacheSize===0||!Xfe.includes(t.method))return r;let n=new YWe(t,r,{shared:!1});if(n.storable()){let i=await KWe(r);return e.cache.set(t.url,{policy:n,response:i},n.timeToLive()),i}else return r},"cacheResponse"),nHe=o(async(e,t,r)=>{let n=new W3(t,r);if(e.options.maxCacheSize!==0&&Xfe.includes(n.method)&&!["no-store","reload"].includes(n.cache)){let{policy:a,response:l}=e.cache.get(n.url)||{};if(a&&a.satisfiesWithoutRevalidation(n)){l.headers=new Nj(a.responseHeaders(l));let c=l.clone();return c.fromCache=!0,c}}let s=await Zfe(e,n);return n.cache!=="no-store"?ede(e,n,s):s},"cachingFetch"),iHe=o((e,t={})=>{let r=new URL(e);if(typeof t!="object"||Array.isArray(t))throw new TypeError("qs: object expected");return Object.entries(t).forEach(([n,i])=>{Array.isArray(i)?i.forEach(s=>r.searchParams.append(n,s)):r.searchParams.append(n,i)}),r.href},"createUrl"),oHe=o(e=>new zWe(e),"timeoutSignal"),Pj=class e{static{o(this,"FetchContext")}constructor(t){this.options={...t};let{maxCacheSize:r}=this.options,n=typeof r=="number"&&r>=0?r:rHe,i=tHe;n===0&&(n=1,i=1);let s=o(({response:l},c)=>JWe(l),"sizeCalculation");this.cache=new WWe({max:i,maxSize:n,sizeCalculation:s}),this.eventEmitter=new GWe,this.options.h2=this.options.h2||{},typeof this.options.h2.enablePush>"u"&&(this.options.h2.enablePush=!0);let{enablePush:a}=this.options.h2;a&&(this.options.h2.pushPromiseHandler=(l,c,u)=>{let f={...c};Object.keys(f).filter(m=>m.startsWith(":")).forEach(m=>delete f[m]),this.pushPromiseHandler(l,f,u)},this.options.h2.pushHandler=(l,c,u)=>{let f={...c};Object.keys(f).filter(b=>b.startsWith(":")).forEach(b=>delete f[b]);let{statusCode:m,statusText:h,httpVersion:p,headers:A,readable:E,decoded:x}=u;this.pushHandler(l,f,new Dj(E,{url:l,status:m,statusText:h,headers:A,httpVersion:p,decoded:x}))}),this.context=ZWe(this.options)}api(){return{fetch:o(async(t,r)=>this.fetch(t,r),"fetch"),Body:HWe,Headers:Nj,Request:W3,Response:Dj,AbortController:jWe,AbortSignal:$We,FetchBaseError:VWe,FetchError:j9,AbortError:fR,context:o((t={})=>new e(t).api(),"context"),setCA:o(t=>this.setCA(t),"setCA"),noCache:o((t={})=>new e({...t,maxCacheSize:0}).api(),"noCache"),h1:o((t={})=>new e({...t,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),"h1"),keepAlive:o((t={})=>new e({...t,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),"keepAlive"),h1NoCache:o((t={})=>new e({...t,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),"h1NoCache"),keepAliveNoCache:o((t={})=>new e({...t,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),"keepAliveNoCache"),reset:o(async()=>this.context.reset(),"reset"),onPush:o(t=>this.onPush(t),"onPush"),offPush:o(t=>this.offPush(t),"offPush"),createUrl:iHe,timeoutSignal:oHe,clearCache:o(()=>this.clearCache(),"clearCache"),cacheStats:o(()=>this.cacheStats(),"cacheStats"),ALPN_HTTP2:this.context.ALPN_HTTP2,ALPN_HTTP2C:this.context.ALPN_HTTP2C,ALPN_HTTP1_1:this.context.ALPN_HTTP1_1,ALPN_HTTP1_0:this.context.ALPN_HTTP1_0}}async fetch(t,r){return nHe(this,t,r)}setCA(t){this.options.ca=t,this.context.setCA(t)}onPush(t){return this.eventEmitter.on(Rj,t)}offPush(t){return this.eventEmitter.off(Rj,t)}clearCache(){this.cache.clear()}cacheStats(){return{size:this.cache.calculatedSize,count:this.cache.size}}pushPromiseHandler(t,r,n){kj(`received server push promise: ${t}, headers: ${JSON.stringify(r)}`);let i=new W3(t,{headers:r}),{policy:s}=this.cache.get(t)||{};s&&s.satisfiesWithoutRevalidation(i)&&(kj(`already cached, reject push promise: ${t}, headers: ${JSON.stringify(r)}`),n())}async pushHandler(t,r,n){kj(`caching resource pushed by server: ${t}, reqHeaders: ${JSON.stringify(r)}, status: ${n.status}, respHeaders: ${JSON.stringify(n.headers)}`);let i=await ede(this,new W3(t,{headers:r}),n);this.eventEmitter.emit(Rj,t,i)}};tde.exports=new Pj().api()});var ide=V((qNt,nde)=>{"use strict";d();nde.exports=rde()});var dv=V(l0=>{"use strict";d();Object.defineProperty(l0,"__esModule",{value:!0});l0.stringArray=l0.array=l0.func=l0.error=l0.number=l0.string=l0.boolean=void 0;function Jze(e){return e===!0||e===!1}o(Jze,"boolean");l0.boolean=Jze;function bhe(e){return typeof e=="string"||e instanceof String}o(bhe,"string");l0.string=bhe;function Xze(e){return typeof e=="number"||e instanceof Number}o(Xze,"number");l0.number=Xze;function Zze(e){return e instanceof Error}o(Zze,"error");l0.error=Zze;function eYe(e){return typeof e=="function"}o(eYe,"func");l0.func=eYe;function Ihe(e){return Array.isArray(e)}o(Ihe,"array");l0.array=Ihe;function tYe(e){return Ihe(e)&&e.every(t=>bhe(t))}o(tYe,"stringArray");l0.stringArray=tYe});var W$=V($r=>{"use strict";d();Object.defineProperty($r,"__esModule",{value:!0});$r.Message=$r.NotificationType9=$r.NotificationType8=$r.NotificationType7=$r.NotificationType6=$r.NotificationType5=$r.NotificationType4=$r.NotificationType3=$r.NotificationType2=$r.NotificationType1=$r.NotificationType0=$r.NotificationType=$r.RequestType9=$r.RequestType8=$r.RequestType7=$r.RequestType6=$r.RequestType5=$r.RequestType4=$r.RequestType3=$r.RequestType2=$r.RequestType1=$r.RequestType=$r.RequestType0=$r.AbstractMessageSignature=$r.ParameterStructures=$r.ResponseError=$r.ErrorCodes=void 0;var eC=dv(),C$;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3})(C$||($r.ErrorCodes=C$={}));var E$=class e extends Error{static{o(this,"ResponseError")}constructor(t,r,n){super(r),this.code=eC.number(t)?t:C$.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,e.prototype)}toJson(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),t}};$r.ResponseError=E$;var Ac=class e{static{o(this,"ParameterStructures")}constructor(t){this.kind=t}static is(t){return t===e.auto||t===e.byName||t===e.byPosition}toString(){return this.kind}};$r.ParameterStructures=Ac;Ac.auto=new Ac("auto");Ac.byPosition=new Ac("byPosition");Ac.byName=new Ac("byName");var Ko=class{static{o(this,"AbstractMessageSignature")}constructor(t,r){this.method=t,this.numberOfParams=r}get parameterStructures(){return Ac.auto}};$r.AbstractMessageSignature=Ko;var x$=class extends Ko{static{o(this,"RequestType0")}constructor(t){super(t,0)}};$r.RequestType0=x$;var v$=class extends Ko{static{o(this,"RequestType")}constructor(t,r=Ac.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};$r.RequestType=v$;var b$=class extends Ko{static{o(this,"RequestType1")}constructor(t,r=Ac.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};$r.RequestType1=b$;var I$=class extends Ko{static{o(this,"RequestType2")}constructor(t){super(t,2)}};$r.RequestType2=I$;var T$=class extends Ko{static{o(this,"RequestType3")}constructor(t){super(t,3)}};$r.RequestType3=T$;var w$=class extends Ko{static{o(this,"RequestType4")}constructor(t){super(t,4)}};$r.RequestType4=w$;var _$=class extends Ko{static{o(this,"RequestType5")}constructor(t){super(t,5)}};$r.RequestType5=_$;var S$=class extends Ko{static{o(this,"RequestType6")}constructor(t){super(t,6)}};$r.RequestType6=S$;var B$=class extends Ko{static{o(this,"RequestType7")}constructor(t){super(t,7)}};$r.RequestType7=B$;var k$=class extends Ko{static{o(this,"RequestType8")}constructor(t){super(t,8)}};$r.RequestType8=k$;var R$=class extends Ko{static{o(this,"RequestType9")}constructor(t){super(t,9)}};$r.RequestType9=R$;var D$=class extends Ko{static{o(this,"NotificationType")}constructor(t,r=Ac.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};$r.NotificationType=D$;var P$=class extends Ko{static{o(this,"NotificationType0")}constructor(t){super(t,0)}};$r.NotificationType0=P$;var N$=class extends Ko{static{o(this,"NotificationType1")}constructor(t,r=Ac.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};$r.NotificationType1=N$;var F$=class extends Ko{static{o(this,"NotificationType2")}constructor(t){super(t,2)}};$r.NotificationType2=F$;var L$=class extends Ko{static{o(this,"NotificationType3")}constructor(t){super(t,3)}};$r.NotificationType3=L$;var Q$=class extends Ko{static{o(this,"NotificationType4")}constructor(t){super(t,4)}};$r.NotificationType4=Q$;var M$=class extends Ko{static{o(this,"NotificationType5")}constructor(t){super(t,5)}};$r.NotificationType5=M$;var O$=class extends Ko{static{o(this,"NotificationType6")}constructor(t){super(t,6)}};$r.NotificationType6=O$;var U$=class extends Ko{static{o(this,"NotificationType7")}constructor(t){super(t,7)}};$r.NotificationType7=U$;var q$=class extends Ko{static{o(this,"NotificationType8")}constructor(t){super(t,8)}};$r.NotificationType8=q$;var G$=class extends Ko{static{o(this,"NotificationType9")}constructor(t){super(t,9)}};$r.NotificationType9=G$;var The;(function(e){function t(i){let s=i;return s&&eC.string(s.method)&&(eC.string(s.id)||eC.number(s.id))}o(t,"isRequest"),e.isRequest=t;function r(i){let s=i;return s&&eC.string(s.method)&&i.id===void 0}o(r,"isNotification"),e.isNotification=r;function n(i){let s=i;return s&&(s.result!==void 0||!!s.error)&&(eC.string(s.id)||eC.number(s.id)||s.id===null)}o(n,"isResponse"),e.isResponse=n})(The||($r.Message=The={}))});var V$=V(M2=>{"use strict";d();var whe;Object.defineProperty(M2,"__esModule",{value:!0});M2.LRUCache=M2.LinkedMap=M2.Touch=void 0;var c0;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(c0||(M2.Touch=c0={}));var UR=class{static{o(this,"LinkedMap")}constructor(){this[whe]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(t){return this._map.has(t)}get(t,r=c0.None){let n=this._map.get(t);if(n)return r!==c0.None&&this.touch(n,r),n.value}set(t,r,n=c0.None){let i=this._map.get(t);if(i)i.value=r,n!==c0.None&&this.touch(i,n);else{switch(i={key:t,value:r,next:void 0,previous:void 0},n){case c0.None:this.addItemLast(i);break;case c0.First:this.addItemFirst(i);break;case c0.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let r=this._map.get(t);if(r)return this._map.delete(t),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._state,i=this._head;for(;i;){if(r?t.bind(r)(i.value,i.key,this):t(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:o(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.key,done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}values(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:o(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.value,done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}entries(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:o(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:[r.key,r.value],done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}[(whe=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}t.next=void 0,t.previous=void 0,this._state++}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==c0.First&&r!==c0.Last)){if(r===c0.First){if(t===this._head)return;let n=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(r===c0.Last){if(t===this._tail)return;let n=t.next,i=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((r,n)=>{t.push([n,r])}),t}fromJSON(t){this.clear();for(let[r,n]of t)this.set(r,n)}};M2.LinkedMap=UR;var H$=class extends UR{static{o(this,"LRUCache")}constructor(t,r=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,r=c0.AsNew){return super.get(t,r)}peek(t){return super.get(t,c0.None)}set(t,r){return super.set(t,r,c0.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};M2.LRUCache=H$});var She=V(qR=>{"use strict";d();Object.defineProperty(qR,"__esModule",{value:!0});qR.Disposable=void 0;var _he;(function(e){function t(r){return{dispose:r}}o(t,"create"),e.create=t})(_he||(qR.Disposable=_he={}))});var O2=V(z$=>{"use strict";d();Object.defineProperty(z$,"__esModule",{value:!0});var j$;function $$(){if(j$===void 0)throw new Error("No runtime abstraction layer installed");return j$}o($$,"RAL");(function(e){function t(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");j$=r}o(t,"install"),e.install=t})($$||($$={}));z$.default=$$});var hv=V(mv=>{"use strict";d();Object.defineProperty(mv,"__esModule",{value:!0});mv.Emitter=mv.Event=void 0;var rYe=O2(),Bhe;(function(e){let t={dispose(){}};e.None=function(){return t}})(Bhe||(mv.Event=Bhe={}));var Y$=class{static{o(this,"CallbackList")}add(t,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:o(()=>this.remove(t,r),"dispose")})}remove(t,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===t)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,a=n.length;s<a;s++)try{r.push(n[s].apply(i[s],t))}catch(l){(0,rYe.default)().console.error(l)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},GR=class e{static{o(this,"Emitter")}constructor(t){this._options=t}get event(){return this._event||(this._event=(t,r,n)=>{this._callbacks||(this._callbacks=new Y$),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,r);let i={dispose:o(()=>{this._callbacks&&(this._callbacks.remove(t,r),i.dispose=e._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))},"dispose")};return Array.isArray(n)&&n.push(i),i}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};mv.Emitter=GR;GR._noop=function(){}});var VR=V(pv=>{"use strict";d();Object.defineProperty(pv,"__esModule",{value:!0});pv.CancellationTokenSource=pv.CancellationToken=void 0;var nYe=O2(),iYe=dv(),K$=hv(),WR;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:K$.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:K$.Event.None});function t(r){let n=r;return n&&(n===e.None||n===e.Cancelled||iYe.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}o(t,"is"),e.is=t})(WR||(pv.CancellationToken=WR={}));var oYe=Object.freeze(function(e,t){let r=(0,nYe.default)().timer.setTimeout(e.bind(t),0);return{dispose(){r.dispose()}}}),HR=class{static{o(this,"MutableToken")}constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?oYe:(this._emitter||(this._emitter=new K$.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},J$=class{static{o(this,"CancellationTokenSource")}get token(){return this._token||(this._token=new HR),this._token}cancel(){this._token?this._token.cancel():this._token=WR.Cancelled}dispose(){this._token?this._token instanceof HR&&this._token.dispose():this._token=WR.None}};pv.CancellationTokenSource=J$});var khe=V(gv=>{"use strict";d();Object.defineProperty(gv,"__esModule",{value:!0});gv.SharedArrayReceiverStrategy=gv.SharedArraySenderStrategy=void 0;var sYe=VR(),d7;(function(e){e.Continue=0,e.Cancelled=1})(d7||(d7={}));var X$=class{static{o(this,"SharedArraySenderStrategy")}constructor(){this.buffers=new Map}enableCancellation(t){if(t.id===null)return;let r=new SharedArrayBuffer(4),n=new Int32Array(r,0,1);n[0]=d7.Continue,this.buffers.set(t.id,r),t.$cancellationData=r}async sendCancellation(t,r){let n=this.buffers.get(r);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,d7.Cancelled)}cleanup(t){this.buffers.delete(t)}dispose(){this.buffers.clear()}};gv.SharedArraySenderStrategy=X$;var Z$=class{static{o(this,"SharedArrayBufferCancellationToken")}constructor(t){this.data=new Int32Array(t,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===d7.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},ez=class{static{o(this,"SharedArrayBufferCancellationTokenSource")}constructor(t){this.token=new Z$(t)}cancel(){}dispose(){}},tz=class{static{o(this,"SharedArrayReceiverStrategy")}constructor(){this.kind="request"}createCancellationTokenSource(t){let r=t.$cancellationData;return r===void 0?new sYe.CancellationTokenSource:new ez(r)}};gv.SharedArrayReceiverStrategy=tz});var nz=V(jR=>{"use strict";d();Object.defineProperty(jR,"__esModule",{value:!0});jR.Semaphore=void 0;var aYe=O2(),rz=class{static{o(this,"Semaphore")}constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((r,n)=>{this._waiting.push({thunk:t,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,aYe.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=t.thunk();r instanceof Promise?r.then(n=>{this._active--,t.resolve(n),this.runNext()},n=>{this._active--,t.reject(n),this.runNext()}):(this._active--,t.resolve(r),this.runNext())}catch(r){this._active--,t.reject(r),this.runNext()}}};jR.Semaphore=rz});var Dhe=V(U2=>{"use strict";d();Object.defineProperty(U2,"__esModule",{value:!0});U2.ReadableStreamMessageReader=U2.AbstractMessageReader=U2.MessageReader=void 0;var oz=O2(),Av=dv(),iz=hv(),lYe=nz(),Rhe;(function(e){function t(r){let n=r;return n&&Av.func(n.listen)&&Av.func(n.dispose)&&Av.func(n.onError)&&Av.func(n.onClose)&&Av.func(n.onPartialMessage)}o(t,"is"),e.is=t})(Rhe||(U2.MessageReader=Rhe={}));var $R=class{static{o(this,"AbstractMessageReader")}constructor(){this.errorEmitter=new iz.Emitter,this.closeEmitter=new iz.Emitter,this.partialMessageEmitter=new iz.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${Av.string(t.message)?t.message:"unknown"}`)}};U2.AbstractMessageReader=$R;var sz;(function(e){function t(r){let n,i,s,a=new Map,l,c=new Map;if(r===void 0||typeof r=="string")n=r??"utf-8";else{if(n=r.charset??"utf-8",r.contentDecoder!==void 0&&(s=r.contentDecoder,a.set(s.name,s)),r.contentDecoders!==void 0)for(let u of r.contentDecoders)a.set(u.name,u);if(r.contentTypeDecoder!==void 0&&(l=r.contentTypeDecoder,c.set(l.name,l)),r.contentTypeDecoders!==void 0)for(let u of r.contentTypeDecoders)c.set(u.name,u)}return l===void 0&&(l=(0,oz.default)().applicationJson.decoder,c.set(l.name,l)),{charset:n,contentDecoder:s,contentDecoders:a,contentTypeDecoder:l,contentTypeDecoders:c}}o(t,"fromOptions"),e.fromOptions=t})(sz||(sz={}));var az=class extends $R{static{o(this,"ReadableStreamMessageReader")}constructor(t,r){super(),this.readable=t,this.options=sz.fromOptions(r),this.buffer=(0,oz.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new lYe.Semaphore(1)}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(t){try{for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(n))}`));return}let s=parseInt(i);if(isNaN(s)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=s}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(r):r,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}catch(r){this.fireError(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,oz.default)().timer.setTimeout((t,r)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};U2.ReadableStreamMessageReader=az});var Qhe=V(q2=>{"use strict";d();Object.defineProperty(q2,"__esModule",{value:!0});q2.WriteableStreamMessageWriter=q2.AbstractMessageWriter=q2.MessageWriter=void 0;var Phe=O2(),m7=dv(),cYe=nz(),Nhe=hv(),uYe="Content-Length: ",Fhe=`\r
`,Lhe;(function(e){function t(r){let n=r;return n&&m7.func(n.dispose)&&m7.func(n.onClose)&&m7.func(n.onError)&&m7.func(n.write)}o(t,"is"),e.is=t})(Lhe||(q2.MessageWriter=Lhe={}));var zR=class{static{o(this,"AbstractMessageWriter")}constructor(){this.errorEmitter=new Nhe.Emitter,this.closeEmitter=new Nhe.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,r,n){this.errorEmitter.fire([this.asError(t),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${m7.string(t.message)?t.message:"unknown"}`)}};q2.AbstractMessageWriter=zR;var lz;(function(e){function t(r){return r===void 0||typeof r=="string"?{charset:r??"utf-8",contentTypeEncoder:(0,Phe.default)().applicationJson.encoder}:{charset:r.charset??"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:r.contentTypeEncoder??(0,Phe.default)().applicationJson.encoder}}o(t,"fromOptions"),e.fromOptions=t})(lz||(lz={}));var cz=class extends zR{static{o(this,"WriteableStreamMessageWriter")}constructor(t,r){super(),this.writable=t,this.options=lz.fromOptions(r),this.errorCount=0,this.writeSemaphore=new cYe.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(uYe,n.byteLength.toString(),Fhe),i.push(Fhe),this.doWrite(t,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(t,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,t),Promise.reject(i)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){this.writable.end()}};q2.WriteableStreamMessageWriter=cz});var Mhe=V(YR=>{"use strict";d();Object.defineProperty(YR,"__esModule",{value:!0});YR.AbstractMessageBuffer=void 0;var fYe=13,dYe=10,mYe=`\r
`,uz=class{static{o(this,"AbstractMessageBuffer")}constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){let r=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(t=!1){if(this._chunks.length===0)return;let r=0,n=0,i=0,s=0;e:for(;n<this._chunks.length;){let u=this._chunks[n];for(i=0;i<u.length;){switch(u[i]){case fYe:switch(r){case 0:r=1;break;case 2:r=3;break;default:r=0}break;case dYe:switch(r){case 1:r=2;break;case 3:r=4,i++;break e;default:r=0}break;default:r=0}i++}s+=u.byteLength,n++}if(r!==4)return;let a=this._read(s+i),l=new Map,c=this.toString(a,"ascii").split(mYe);if(c.length<2)return l;for(let u=0;u<c.length-2;u++){let f=c[u],m=f.indexOf(":");if(m===-1)throw new Error(`Message header must separate key and value using ':'
${f}`);let h=f.substr(0,m),p=f.substr(m+1).trim();l.set(t?h.toLowerCase():h,p)}return l}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(s)}if(this._chunks[0].byteLength>t){let s=this._chunks[0],a=this.asNative(s,t);return this._chunks[0]=s.slice(t),this._totalLength-=t,a}let r=this.allocNative(t),n=0,i=0;for(;t>0;){let s=this._chunks[i];if(s.byteLength>t){let a=s.slice(0,t);r.set(a,n),n+=t,this._chunks[i]=s.slice(t),this._totalLength-=t,t-=t}else r.set(s,n),n+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,t-=s.byteLength}return r}};YR.AbstractMessageBuffer=uz});var Whe=V(Mn=>{"use strict";d();Object.defineProperty(Mn,"__esModule",{value:!0});Mn.createMessageConnection=Mn.ConnectionOptions=Mn.MessageStrategy=Mn.CancellationStrategy=Mn.CancellationSenderStrategy=Mn.CancellationReceiverStrategy=Mn.RequestCancellationReceiverStrategy=Mn.IdCancellationReceiverStrategy=Mn.ConnectionStrategy=Mn.ConnectionError=Mn.ConnectionErrors=Mn.LogTraceNotification=Mn.SetTraceNotification=Mn.TraceFormat=Mn.TraceValues=Mn.Trace=Mn.NullLogger=Mn.ProgressType=Mn.ProgressToken=void 0;var Ohe=O2(),ks=dv(),Cn=W$(),Uhe=V$(),h7=hv(),fz=VR(),A7;(function(e){e.type=new Cn.NotificationType("$/cancelRequest")})(A7||(A7={}));var dz;(function(e){function t(r){return typeof r=="string"||typeof r=="number"}o(t,"is"),e.is=t})(dz||(Mn.ProgressToken=dz={}));var p7;(function(e){e.type=new Cn.NotificationType("$/progress")})(p7||(p7={}));var mz=class{static{o(this,"ProgressType")}constructor(){}};Mn.ProgressType=mz;var hz;(function(e){function t(r){return ks.func(r)}o(t,"is"),e.is=t})(hz||(hz={}));Mn.NullLogger=Object.freeze({error:o(()=>{},"error"),warn:o(()=>{},"warn"),info:o(()=>{},"info"),log:o(()=>{},"log")});var no;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"})(no||(Mn.Trace=no={}));var qhe;(function(e){e.Off="off",e.Messages="messages",e.Compact="compact",e.Verbose="verbose"})(qhe||(Mn.TraceValues=qhe={}));(function(e){function t(n){if(!ks.string(n))return e.Off;switch(n=n.toLowerCase(),n){case"off":return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose;default:return e.Off}}o(t,"fromString"),e.fromString=t;function r(n){switch(n){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}o(r,"toString"),e.toString=r})(no||(Mn.Trace=no={}));var mu;(function(e){e.Text="text",e.JSON="json"})(mu||(Mn.TraceFormat=mu={}));(function(e){function t(r){return ks.string(r)?(r=r.toLowerCase(),r==="json"?e.JSON:e.Text):e.Text}o(t,"fromString"),e.fromString=t})(mu||(Mn.TraceFormat=mu={}));var pz;(function(e){e.type=new Cn.NotificationType("$/setTrace")})(pz||(Mn.SetTraceNotification=pz={}));var KR;(function(e){e.type=new Cn.NotificationType("$/logTrace")})(KR||(Mn.LogTraceNotification=KR={}));var g7;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(g7||(Mn.ConnectionErrors=g7={}));var yv=class e extends Error{static{o(this,"ConnectionError")}constructor(t,r){super(r),this.code=t,Object.setPrototypeOf(this,e.prototype)}};Mn.ConnectionError=yv;var gz;(function(e){function t(r){let n=r;return n&&ks.func(n.cancelUndispatched)}o(t,"is"),e.is=t})(gz||(Mn.ConnectionStrategy=gz={}));var JR;(function(e){function t(r){let n=r;return n&&(n.kind===void 0||n.kind==="id")&&ks.func(n.createCancellationTokenSource)&&(n.dispose===void 0||ks.func(n.dispose))}o(t,"is"),e.is=t})(JR||(Mn.IdCancellationReceiverStrategy=JR={}));var Az;(function(e){function t(r){let n=r;return n&&n.kind==="request"&&ks.func(n.createCancellationTokenSource)&&(n.dispose===void 0||ks.func(n.dispose))}o(t,"is"),e.is=t})(Az||(Mn.RequestCancellationReceiverStrategy=Az={}));var XR;(function(e){e.Message=Object.freeze({createCancellationTokenSource(r){return new fz.CancellationTokenSource}});function t(r){return JR.is(r)||Az.is(r)}o(t,"is"),e.is=t})(XR||(Mn.CancellationReceiverStrategy=XR={}));var ZR;(function(e){e.Message=Object.freeze({sendCancellation(r,n){return r.sendNotification(A7.type,{id:n})},cleanup(r){}});function t(r){let n=r;return n&&ks.func(n.sendCancellation)&&ks.func(n.cleanup)}o(t,"is"),e.is=t})(ZR||(Mn.CancellationSenderStrategy=ZR={}));var eD;(function(e){e.Message=Object.freeze({receiver:XR.Message,sender:ZR.Message});function t(r){let n=r;return n&&XR.is(n.receiver)&&ZR.is(n.sender)}o(t,"is"),e.is=t})(eD||(Mn.CancellationStrategy=eD={}));var tD;(function(e){function t(r){let n=r;return n&&ks.func(n.handleMessage)}o(t,"is"),e.is=t})(tD||(Mn.MessageStrategy=tD={}));var Ghe;(function(e){function t(r){let n=r;return n&&(eD.is(n.cancellationStrategy)||gz.is(n.connectionStrategy)||tD.is(n.messageStrategy))}o(t,"is"),e.is=t})(Ghe||(Mn.ConnectionOptions=Ghe={}));var cm;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(cm||(cm={}));function hYe(e,t,r,n){let i=r!==void 0?r:Mn.NullLogger,s=0,a=0,l=0,c="2.0",u,f=new Map,m,h=new Map,p=new Map,A,E=new Uhe.LinkedMap,x=new Map,b=new Set,v=new Map,S=no.Off,k=mu.Text,P,N=cm.New,W=new h7.Emitter,re=new h7.Emitter,ge=new h7.Emitter,te=new h7.Emitter,G=new h7.Emitter,q=n&&n.cancellationStrategy?n.cancellationStrategy:eD.Message;function se(pe){if(pe===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+pe.toString()}o(se,"createRequestQueueKey");function ne(pe){return pe===null?"res-unknown-"+(++l).toString():"res-"+pe.toString()}o(ne,"createResponseQueueKey");function H(){return"not-"+(++a).toString()}o(H,"createNotificationQueueKey");function O(pe,Le){Cn.Message.isRequest(Le)?pe.set(se(Le.id),Le):Cn.Message.isResponse(Le)?pe.set(ne(Le.id),Le):pe.set(H(),Le)}o(O,"addMessageToQueue");function j(pe){}o(j,"cancelUndispatched");function J(){return N===cm.Listening}o(J,"isListening");function le(){return N===cm.Closed}o(le,"isClosed");function Z(){return N===cm.Disposed}o(Z,"isDisposed");function ae(){(N===cm.New||N===cm.Listening)&&(N=cm.Closed,re.fire(void 0))}o(ae,"closeHandler");function ce(pe){W.fire([pe,void 0,void 0])}o(ce,"readErrorHandler");function Re(pe){W.fire(pe)}o(Re,"writeErrorHandler"),e.onClose(ae),e.onError(ce),t.onClose(ae),t.onError(Re);function be(){A||E.size===0||(A=(0,Ohe.default)().timer.setImmediate(()=>{A=void 0,Be()}))}o(be,"triggerMessageQueue");function Ue(pe){Cn.Message.isRequest(pe)?ut(pe):Cn.Message.isNotification(pe)?ot(pe):Cn.Message.isResponse(pe)?it(pe):ie(pe)}o(Ue,"handleMessage");function Be(){if(E.size===0)return;let pe=E.shift();try{let Le=n?.messageStrategy;tD.is(Le)?Le.handleMessage(pe,Ue):Ue(pe)}finally{be()}}o(Be,"processMessageQueue");let Je=o(pe=>{try{if(Cn.Message.isNotification(pe)&&pe.method===A7.type.method){let Le=pe.params.id,Ke=se(Le),et=E.get(Ke);if(Cn.Message.isRequest(et)){let xt=n?.connectionStrategy,Ft=xt&&xt.cancelUndispatched?xt.cancelUndispatched(et,j):void 0;if(Ft&&(Ft.error!==void 0||Ft.result!==void 0)){E.delete(Ke),v.delete(Le),Ft.id=et.id,z(Ft,pe.method,Date.now()),t.write(Ft).catch(()=>i.error("Sending response for canceled message failed."));return}}let _t=v.get(Le);if(_t!==void 0){_t.cancel(),Fe(pe);return}else b.add(Le)}O(E,pe)}finally{be()}},"callback");function ut(pe){if(Z())return;function Le(Tt,St,wt){let Ot={jsonrpc:c,id:pe.id};Tt instanceof Cn.ResponseError?Ot.error=Tt.toJson():Ot.result=Tt===void 0?null:Tt,z(Ot,St,wt),t.write(Ot).catch(()=>i.error("Sending response failed."))}o(Le,"reply");function Ke(Tt,St,wt){let Ot={jsonrpc:c,id:pe.id,error:Tt.toJson()};z(Ot,St,wt),t.write(Ot).catch(()=>i.error("Sending response failed."))}o(Ke,"replyError");function et(Tt,St,wt){Tt===void 0&&(Tt=null);let Ot={jsonrpc:c,id:pe.id,result:Tt};z(Ot,St,wt),t.write(Ot).catch(()=>i.error("Sending response failed."))}o(et,"replySuccess"),ee(pe);let _t=f.get(pe.method),xt,Ft;_t&&(xt=_t.type,Ft=_t.handler);let Qt=Date.now();if(Ft||u){let Tt=pe.id??String(Date.now()),St=JR.is(q.receiver)?q.receiver.createCancellationTokenSource(Tt):q.receiver.createCancellationTokenSource(pe);pe.id!==null&&b.has(pe.id)&&St.cancel(),pe.id!==null&&v.set(Tt,St);try{let wt;if(Ft)if(pe.params===void 0){if(xt!==void 0&&xt.numberOfParams!==0){Ke(new Cn.ResponseError(Cn.ErrorCodes.InvalidParams,`Request ${pe.method} defines ${xt.numberOfParams} params but received none.`),pe.method,Qt);return}wt=Ft(St.token)}else if(Array.isArray(pe.params)){if(xt!==void 0&&xt.parameterStructures===Cn.ParameterStructures.byName){Ke(new Cn.ResponseError(Cn.ErrorCodes.InvalidParams,`Request ${pe.method} defines parameters by name but received parameters by position`),pe.method,Qt);return}wt=Ft(...pe.params,St.token)}else{if(xt!==void 0&&xt.parameterStructures===Cn.ParameterStructures.byPosition){Ke(new Cn.ResponseError(Cn.ErrorCodes.InvalidParams,`Request ${pe.method} defines parameters by position but received parameters by name`),pe.method,Qt);return}wt=Ft(pe.params,St.token)}else u&&(wt=u(pe.method,pe.params,St.token));let Ot=wt;wt?Ot.then?Ot.then(Gt=>{v.delete(Tt),Le(Gt,pe.method,Qt)},Gt=>{v.delete(Tt),Gt instanceof Cn.ResponseError?Ke(Gt,pe.method,Qt):Gt&&ks.string(Gt.message)?Ke(new Cn.ResponseError(Cn.ErrorCodes.InternalError,`Request ${pe.method} failed with message: ${Gt.message}`),pe.method,Qt):Ke(new Cn.ResponseError(Cn.ErrorCodes.InternalError,`Request ${pe.method} failed unexpectedly without providing any details.`),pe.method,Qt)}):(v.delete(Tt),Le(wt,pe.method,Qt)):(v.delete(Tt),et(wt,pe.method,Qt))}catch(wt){v.delete(Tt),wt instanceof Cn.ResponseError?Le(wt,pe.method,Qt):wt&&ks.string(wt.message)?Ke(new Cn.ResponseError(Cn.ErrorCodes.InternalError,`Request ${pe.method} failed with message: ${wt.message}`),pe.method,Qt):Ke(new Cn.ResponseError(Cn.ErrorCodes.InternalError,`Request ${pe.method} failed unexpectedly without providing any details.`),pe.method,Qt)}}else Ke(new Cn.ResponseError(Cn.ErrorCodes.MethodNotFound,`Unhandled method ${pe.method}`),pe.method,Qt)}o(ut,"handleRequest");function it(pe){if(!Z())if(pe.id===null)pe.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(pe.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let Le=pe.id,Ke=x.get(Le);if(_e(pe,Ke),Ke!==void 0){x.delete(Le);try{if(pe.error){let et=pe.error;Ke.reject(new Cn.ResponseError(et.code,et.message,et.data))}else if(pe.result!==void 0)Ke.resolve(pe.result);else throw new Error("Should never happen.")}catch(et){et.message?i.error(`Response handler '${Ke.method}' failed with message: ${et.message}`):i.error(`Response handler '${Ke.method}' failed unexpectedly.`)}}}}o(it,"handleResponse");function ot(pe){if(Z())return;let Le,Ke;if(pe.method===A7.type.method){let et=pe.params.id;b.delete(et),Fe(pe);return}else{let et=h.get(pe.method);et&&(Ke=et.handler,Le=et.type)}if(Ke||m)try{if(Fe(pe),Ke)if(pe.params===void 0)Le!==void 0&&Le.numberOfParams!==0&&Le.parameterStructures!==Cn.ParameterStructures.byName&&i.error(`Notification ${pe.method} defines ${Le.numberOfParams} params but received none.`),Ke();else if(Array.isArray(pe.params)){let et=pe.params;pe.method===p7.type.method&&et.length===2&&dz.is(et[0])?Ke({token:et[0],value:et[1]}):(Le!==void 0&&(Le.parameterStructures===Cn.ParameterStructures.byName&&i.error(`Notification ${pe.method} defines parameters by name but received parameters by position`),Le.numberOfParams!==pe.params.length&&i.error(`Notification ${pe.method} defines ${Le.numberOfParams} params but received ${et.length} arguments`)),Ke(...et))}else Le!==void 0&&Le.parameterStructures===Cn.ParameterStructures.byPosition&&i.error(`Notification ${pe.method} defines parameters by position but received parameters by name`),Ke(pe.params);else m&&m(pe.method,pe.params)}catch(et){et.message?i.error(`Notification handler '${pe.method}' failed with message: ${et.message}`):i.error(`Notification handler '${pe.method}' failed unexpectedly.`)}else ge.fire(pe)}o(ot,"handleNotification");function ie(pe){if(!pe){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(pe,null,4)}`);let Le=pe;if(ks.string(Le.id)||ks.number(Le.id)){let Ke=Le.id,et=x.get(Ke);et&&et.reject(new Error("The received response has neither a result nor an error property."))}}o(ie,"handleInvalidMessage");function Pe(pe){if(pe!=null)switch(S){case no.Verbose:return JSON.stringify(pe,null,4);case no.Compact:return JSON.stringify(pe);default:return}}o(Pe,"stringifyTrace");function Ae(pe){if(!(S===no.Off||!P))if(k===mu.Text){let Le;(S===no.Verbose||S===no.Compact)&&pe.params&&(Le=`Params: ${Pe(pe.params)}

`),P.log(`Sending request '${pe.method} - (${pe.id})'.`,Le)}else Ce("send-request",pe)}o(Ae,"traceSendingRequest");function Ge(pe){if(!(S===no.Off||!P))if(k===mu.Text){let Le;(S===no.Verbose||S===no.Compact)&&(pe.params?Le=`Params: ${Pe(pe.params)}

`:Le=`No parameters provided.

`),P.log(`Sending notification '${pe.method}'.`,Le)}else Ce("send-notification",pe)}o(Ge,"traceSendingNotification");function z(pe,Le,Ke){if(!(S===no.Off||!P))if(k===mu.Text){let et;(S===no.Verbose||S===no.Compact)&&(pe.error&&pe.error.data?et=`Error data: ${Pe(pe.error.data)}

`:pe.result?et=`Result: ${Pe(pe.result)}

`:pe.error===void 0&&(et=`No result returned.

`)),P.log(`Sending response '${Le} - (${pe.id})'. Processing request took ${Date.now()-Ke}ms`,et)}else Ce("send-response",pe)}o(z,"traceSendingResponse");function ee(pe){if(!(S===no.Off||!P))if(k===mu.Text){let Le;(S===no.Verbose||S===no.Compact)&&pe.params&&(Le=`Params: ${Pe(pe.params)}

`),P.log(`Received request '${pe.method} - (${pe.id})'.`,Le)}else Ce("receive-request",pe)}o(ee,"traceReceivedRequest");function Fe(pe){if(!(S===no.Off||!P||pe.method===KR.type.method))if(k===mu.Text){let Le;(S===no.Verbose||S===no.Compact)&&(pe.params?Le=`Params: ${Pe(pe.params)}

`:Le=`No parameters provided.

`),P.log(`Received notification '${pe.method}'.`,Le)}else Ce("receive-notification",pe)}o(Fe,"traceReceivedNotification");function _e(pe,Le){if(!(S===no.Off||!P))if(k===mu.Text){let Ke;if((S===no.Verbose||S===no.Compact)&&(pe.error&&pe.error.data?Ke=`Error data: ${Pe(pe.error.data)}

`:pe.result?Ke=`Result: ${Pe(pe.result)}

`:pe.error===void 0&&(Ke=`No result returned.

`)),Le){let et=pe.error?` Request failed: ${pe.error.message} (${pe.error.code}).`:"";P.log(`Received response '${Le.method} - (${pe.id})' in ${Date.now()-Le.timerStart}ms.${et}`,Ke)}else P.log(`Received response ${pe.id} without active response promise.`,Ke)}else Ce("receive-response",pe)}o(_e,"traceReceivedResponse");function Ce(pe,Le){if(!P||S===no.Off)return;let Ke={isLSPMessage:!0,type:pe,message:Le,timestamp:Date.now()};P.log(Ke)}o(Ce,"logLSPMessage");function Oe(){if(le())throw new yv(g7.Closed,"Connection is closed.");if(Z())throw new yv(g7.Disposed,"Connection is disposed.")}o(Oe,"throwIfClosedOrDisposed");function Ve(){if(J())throw new yv(g7.AlreadyListening,"Connection is already listening")}o(Ve,"throwIfListening");function Ze(){if(!J())throw new Error("Call listen() first.")}o(Ze,"throwIfNotListening");function yt(pe){return pe===void 0?null:pe}o(yt,"undefinedToNull");function Rt(pe){if(pe!==null)return pe}o(Rt,"nullToUndefined");function At(pe){return pe!=null&&!Array.isArray(pe)&&typeof pe=="object"}o(At,"isNamedParam");function Ht(pe,Le){switch(pe){case Cn.ParameterStructures.auto:return At(Le)?Rt(Le):[yt(Le)];case Cn.ParameterStructures.byName:if(!At(Le))throw new Error("Received parameters by name but param is not an object literal.");return Rt(Le);case Cn.ParameterStructures.byPosition:return[yt(Le)];default:throw new Error(`Unknown parameter structure ${pe.toString()}`)}}o(Ht,"computeSingleParam");function jt(pe,Le){let Ke,et=pe.numberOfParams;switch(et){case 0:Ke=void 0;break;case 1:Ke=Ht(pe.parameterStructures,Le[0]);break;default:Ke=[];for(let _t=0;_t<Le.length&&_t<et;_t++)Ke.push(yt(Le[_t]));if(Le.length<et)for(let _t=Le.length;_t<et;_t++)Ke.push(null);break}return Ke}o(jt,"computeMessageParams");let ir={sendNotification:o((pe,...Le)=>{Oe();let Ke,et;if(ks.string(pe)){Ke=pe;let xt=Le[0],Ft=0,Qt=Cn.ParameterStructures.auto;Cn.ParameterStructures.is(xt)&&(Ft=1,Qt=xt);let Tt=Le.length,St=Tt-Ft;switch(St){case 0:et=void 0;break;case 1:et=Ht(Qt,Le[Ft]);break;default:if(Qt===Cn.ParameterStructures.byName)throw new Error(`Received ${St} parameters for 'by Name' notification parameter structure.`);et=Le.slice(Ft,Tt).map(wt=>yt(wt));break}}else{let xt=Le;Ke=pe.method,et=jt(pe,xt)}let _t={jsonrpc:c,method:Ke,params:et};return Ge(_t),t.write(_t).catch(xt=>{throw i.error("Sending notification failed."),xt})},"sendNotification"),onNotification:o((pe,Le)=>{Oe();let Ke;return ks.func(pe)?m=pe:Le&&(ks.string(pe)?(Ke=pe,h.set(pe,{type:void 0,handler:Le})):(Ke=pe.method,h.set(pe.method,{type:pe,handler:Le}))),{dispose:o(()=>{Ke!==void 0?h.delete(Ke):m=void 0},"dispose")}},"onNotification"),onProgress:o((pe,Le,Ke)=>{if(p.has(Le))throw new Error(`Progress handler for token ${Le} already registered`);return p.set(Le,Ke),{dispose:o(()=>{p.delete(Le)},"dispose")}},"onProgress"),sendProgress:o((pe,Le,Ke)=>ir.sendNotification(p7.type,{token:Le,value:Ke}),"sendProgress"),onUnhandledProgress:te.event,sendRequest:o((pe,...Le)=>{Oe(),Ze();let Ke,et,_t;if(ks.string(pe)){Ke=pe;let Tt=Le[0],St=Le[Le.length-1],wt=0,Ot=Cn.ParameterStructures.auto;Cn.ParameterStructures.is(Tt)&&(wt=1,Ot=Tt);let Gt=Le.length;fz.CancellationToken.is(St)&&(Gt=Gt-1,_t=St);let $t=Gt-wt;switch($t){case 0:et=void 0;break;case 1:et=Ht(Ot,Le[wt]);break;default:if(Ot===Cn.ParameterStructures.byName)throw new Error(`Received ${$t} parameters for 'by Name' request parameter structure.`);et=Le.slice(wt,Gt).map(lr=>yt(lr));break}}else{let Tt=Le;Ke=pe.method,et=jt(pe,Tt);let St=pe.numberOfParams;_t=fz.CancellationToken.is(Tt[St])?Tt[St]:void 0}let xt=s++,Ft;_t&&(Ft=_t.onCancellationRequested(()=>{let Tt=q.sender.sendCancellation(ir,xt);return Tt===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${xt}`),Promise.resolve()):Tt.catch(()=>{i.log(`Sending cancellation messages for id ${xt} failed`)})}));let Qt={jsonrpc:c,id:xt,method:Ke,params:et};return Ae(Qt),typeof q.sender.enableCancellation=="function"&&q.sender.enableCancellation(Qt),new Promise(async(Tt,St)=>{let wt=o($t=>{Tt($t),q.sender.cleanup(xt),Ft?.dispose()},"resolveWithCleanup"),Ot=o($t=>{St($t),q.sender.cleanup(xt),Ft?.dispose()},"rejectWithCleanup"),Gt={method:Ke,timerStart:Date.now(),resolve:wt,reject:Ot};try{await t.write(Qt),x.set(xt,Gt)}catch($t){throw i.error("Sending request failed."),Gt.reject(new Cn.ResponseError(Cn.ErrorCodes.MessageWriteError,$t.message?$t.message:"Unknown reason")),$t}})},"sendRequest"),onRequest:o((pe,Le)=>{Oe();let Ke=null;return hz.is(pe)?(Ke=void 0,u=pe):ks.string(pe)?(Ke=null,Le!==void 0&&(Ke=pe,f.set(pe,{handler:Le,type:void 0}))):Le!==void 0&&(Ke=pe.method,f.set(pe.method,{type:pe,handler:Le})),{dispose:o(()=>{Ke!==null&&(Ke!==void 0?f.delete(Ke):u=void 0)},"dispose")}},"onRequest"),hasPendingResponse:o(()=>x.size>0,"hasPendingResponse"),trace:o(async(pe,Le,Ke)=>{let et=!1,_t=mu.Text;Ke!==void 0&&(ks.boolean(Ke)?et=Ke:(et=Ke.sendNotification||!1,_t=Ke.traceFormat||mu.Text)),S=pe,k=_t,S===no.Off?P=void 0:P=Le,et&&!le()&&!Z()&&await ir.sendNotification(pz.type,{value:no.toString(pe)})},"trace"),onError:W.event,onClose:re.event,onUnhandledNotification:ge.event,onDispose:G.event,end:o(()=>{t.end()},"end"),dispose:o(()=>{if(Z())return;N=cm.Disposed,G.fire(void 0);let pe=new Cn.ResponseError(Cn.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let Le of x.values())Le.reject(pe);x=new Map,v=new Map,b=new Set,E=new Uhe.LinkedMap,ks.func(t.dispose)&&t.dispose(),ks.func(e.dispose)&&e.dispose()},"dispose"),listen:o(()=>{Oe(),Ve(),N=cm.Listening,e.listen(Je)},"listen"),inspect:o(()=>{(0,Ohe.default)().console.log("inspect")},"inspect")};return ir.onNotification(KR.type,pe=>{if(S===no.Off||!P)return;let Le=S===no.Verbose||S===no.Compact;P.log(pe.message,Le?pe.verbose:void 0)}),ir.onNotification(p7.type,pe=>{let Le=p.get(pe.token);Le?Le(pe.value):te.fire(pe)}),ir}o(hYe,"createMessageConnection");Mn.createMessageConnection=hYe});var rD=V(pt=>{"use strict";d();Object.defineProperty(pt,"__esModule",{value:!0});pt.ProgressType=pt.ProgressToken=pt.createMessageConnection=pt.NullLogger=pt.ConnectionOptions=pt.ConnectionStrategy=pt.AbstractMessageBuffer=pt.WriteableStreamMessageWriter=pt.AbstractMessageWriter=pt.MessageWriter=pt.ReadableStreamMessageReader=pt.AbstractMessageReader=pt.MessageReader=pt.SharedArrayReceiverStrategy=pt.SharedArraySenderStrategy=pt.CancellationToken=pt.CancellationTokenSource=pt.Emitter=pt.Event=pt.Disposable=pt.LRUCache=pt.Touch=pt.LinkedMap=pt.ParameterStructures=pt.NotificationType9=pt.NotificationType8=pt.NotificationType7=pt.NotificationType6=pt.NotificationType5=pt.NotificationType4=pt.NotificationType3=pt.NotificationType2=pt.NotificationType1=pt.NotificationType0=pt.NotificationType=pt.ErrorCodes=pt.ResponseError=pt.RequestType9=pt.RequestType8=pt.RequestType7=pt.RequestType6=pt.RequestType5=pt.RequestType4=pt.RequestType3=pt.RequestType2=pt.RequestType1=pt.RequestType0=pt.RequestType=pt.Message=pt.RAL=void 0;pt.MessageStrategy=pt.CancellationStrategy=pt.CancellationSenderStrategy=pt.CancellationReceiverStrategy=pt.ConnectionError=pt.ConnectionErrors=pt.LogTraceNotification=pt.SetTraceNotification=pt.TraceFormat=pt.TraceValues=pt.Trace=void 0;var No=W$();Object.defineProperty(pt,"Message",{enumerable:!0,get:o(function(){return No.Message},"get")});Object.defineProperty(pt,"RequestType",{enumerable:!0,get:o(function(){return No.RequestType},"get")});Object.defineProperty(pt,"RequestType0",{enumerable:!0,get:o(function(){return No.RequestType0},"get")});Object.defineProperty(pt,"RequestType1",{enumerable:!0,get:o(function(){return No.RequestType1},"get")});Object.defineProperty(pt,"RequestType2",{enumerable:!0,get:o(function(){return No.RequestType2},"get")});Object.defineProperty(pt,"RequestType3",{enumerable:!0,get:o(function(){return No.RequestType3},"get")});Object.defineProperty(pt,"RequestType4",{enumerable:!0,get:o(function(){return No.RequestType4},"get")});Object.defineProperty(pt,"RequestType5",{enumerable:!0,get:o(function(){return No.RequestType5},"get")});Object.defineProperty(pt,"RequestType6",{enumerable:!0,get:o(function(){return No.RequestType6},"get")});Object.defineProperty(pt,"RequestType7",{enumerable:!0,get:o(function(){return No.RequestType7},"get")});Object.defineProperty(pt,"RequestType8",{enumerable:!0,get:o(function(){return No.RequestType8},"get")});Object.defineProperty(pt,"RequestType9",{enumerable:!0,get:o(function(){return No.RequestType9},"get")});Object.defineProperty(pt,"ResponseError",{enumerable:!0,get:o(function(){return No.ResponseError},"get")});Object.defineProperty(pt,"ErrorCodes",{enumerable:!0,get:o(function(){return No.ErrorCodes},"get")});Object.defineProperty(pt,"NotificationType",{enumerable:!0,get:o(function(){return No.NotificationType},"get")});Object.defineProperty(pt,"NotificationType0",{enumerable:!0,get:o(function(){return No.NotificationType0},"get")});Object.defineProperty(pt,"NotificationType1",{enumerable:!0,get:o(function(){return No.NotificationType1},"get")});Object.defineProperty(pt,"NotificationType2",{enumerable:!0,get:o(function(){return No.NotificationType2},"get")});Object.defineProperty(pt,"NotificationType3",{enumerable:!0,get:o(function(){return No.NotificationType3},"get")});Object.defineProperty(pt,"NotificationType4",{enumerable:!0,get:o(function(){return No.NotificationType4},"get")});Object.defineProperty(pt,"NotificationType5",{enumerable:!0,get:o(function(){return No.NotificationType5},"get")});Object.defineProperty(pt,"NotificationType6",{enumerable:!0,get:o(function(){return No.NotificationType6},"get")});Object.defineProperty(pt,"NotificationType7",{enumerable:!0,get:o(function(){return No.NotificationType7},"get")});Object.defineProperty(pt,"NotificationType8",{enumerable:!0,get:o(function(){return No.NotificationType8},"get")});Object.defineProperty(pt,"NotificationType9",{enumerable:!0,get:o(function(){return No.NotificationType9},"get")});Object.defineProperty(pt,"ParameterStructures",{enumerable:!0,get:o(function(){return No.ParameterStructures},"get")});var yz=V$();Object.defineProperty(pt,"LinkedMap",{enumerable:!0,get:o(function(){return yz.LinkedMap},"get")});Object.defineProperty(pt,"LRUCache",{enumerable:!0,get:o(function(){return yz.LRUCache},"get")});Object.defineProperty(pt,"Touch",{enumerable:!0,get:o(function(){return yz.Touch},"get")});var pYe=She();Object.defineProperty(pt,"Disposable",{enumerable:!0,get:o(function(){return pYe.Disposable},"get")});var Hhe=hv();Object.defineProperty(pt,"Event",{enumerable:!0,get:o(function(){return Hhe.Event},"get")});Object.defineProperty(pt,"Emitter",{enumerable:!0,get:o(function(){return Hhe.Emitter},"get")});var Vhe=VR();Object.defineProperty(pt,"CancellationTokenSource",{enumerable:!0,get:o(function(){return Vhe.CancellationTokenSource},"get")});Object.defineProperty(pt,"CancellationToken",{enumerable:!0,get:o(function(){return Vhe.CancellationToken},"get")});var jhe=khe();Object.defineProperty(pt,"SharedArraySenderStrategy",{enumerable:!0,get:o(function(){return jhe.SharedArraySenderStrategy},"get")});Object.defineProperty(pt,"SharedArrayReceiverStrategy",{enumerable:!0,get:o(function(){return jhe.SharedArrayReceiverStrategy},"get")});var Cz=Dhe();Object.defineProperty(pt,"MessageReader",{enumerable:!0,get:o(function(){return Cz.MessageReader},"get")});Object.defineProperty(pt,"AbstractMessageReader",{enumerable:!0,get:o(function(){return Cz.AbstractMessageReader},"get")});Object.defineProperty(pt,"ReadableStreamMessageReader",{enumerable:!0,get:o(function(){return Cz.ReadableStreamMessageReader},"get")});var Ez=Qhe();Object.defineProperty(pt,"MessageWriter",{enumerable:!0,get:o(function(){return Ez.MessageWriter},"get")});Object.defineProperty(pt,"AbstractMessageWriter",{enumerable:!0,get:o(function(){return Ez.AbstractMessageWriter},"get")});Object.defineProperty(pt,"WriteableStreamMessageWriter",{enumerable:!0,get:o(function(){return Ez.WriteableStreamMessageWriter},"get")});var gYe=Mhe();Object.defineProperty(pt,"AbstractMessageBuffer",{enumerable:!0,get:o(function(){return gYe.AbstractMessageBuffer},"get")});var Ll=Whe();Object.defineProperty(pt,"ConnectionStrategy",{enumerable:!0,get:o(function(){return Ll.ConnectionStrategy},"get")});Object.defineProperty(pt,"ConnectionOptions",{enumerable:!0,get:o(function(){return Ll.ConnectionOptions},"get")});Object.defineProperty(pt,"NullLogger",{enumerable:!0,get:o(function(){return Ll.NullLogger},"get")});Object.defineProperty(pt,"createMessageConnection",{enumerable:!0,get:o(function(){return Ll.createMessageConnection},"get")});Object.defineProperty(pt,"ProgressToken",{enumerable:!0,get:o(function(){return Ll.ProgressToken},"get")});Object.defineProperty(pt,"ProgressType",{enumerable:!0,get:o(function(){return Ll.ProgressType},"get")});Object.defineProperty(pt,"Trace",{enumerable:!0,get:o(function(){return Ll.Trace},"get")});Object.defineProperty(pt,"TraceValues",{enumerable:!0,get:o(function(){return Ll.TraceValues},"get")});Object.defineProperty(pt,"TraceFormat",{enumerable:!0,get:o(function(){return Ll.TraceFormat},"get")});Object.defineProperty(pt,"SetTraceNotification",{enumerable:!0,get:o(function(){return Ll.SetTraceNotification},"get")});Object.defineProperty(pt,"LogTraceNotification",{enumerable:!0,get:o(function(){return Ll.LogTraceNotification},"get")});Object.defineProperty(pt,"ConnectionErrors",{enumerable:!0,get:o(function(){return Ll.ConnectionErrors},"get")});Object.defineProperty(pt,"ConnectionError",{enumerable:!0,get:o(function(){return Ll.ConnectionError},"get")});Object.defineProperty(pt,"CancellationReceiverStrategy",{enumerable:!0,get:o(function(){return Ll.CancellationReceiverStrategy},"get")});Object.defineProperty(pt,"CancellationSenderStrategy",{enumerable:!0,get:o(function(){return Ll.CancellationSenderStrategy},"get")});Object.defineProperty(pt,"CancellationStrategy",{enumerable:!0,get:o(function(){return Ll.CancellationStrategy},"get")});Object.defineProperty(pt,"MessageStrategy",{enumerable:!0,get:o(function(){return Ll.MessageStrategy},"get")});var AYe=O2();pt.RAL=AYe.default});var Yhe=V(Iz=>{"use strict";d();Object.defineProperty(Iz,"__esModule",{value:!0});var $he=require("util"),Vg=rD(),nD=class e extends Vg.AbstractMessageBuffer{static{o(this,"MessageBuffer")}constructor(t="utf-8"){super(t)}emptyBuffer(){return e.emptyBuffer}fromString(t,r){return Buffer.from(t,r)}toString(t,r){return t instanceof Buffer?t.toString(r):new $he.TextDecoder(r).decode(t)}asNative(t,r){return r===void 0?t instanceof Buffer?t:Buffer.from(t):t instanceof Buffer?t.slice(0,r):Buffer.from(t,0,r)}allocNative(t){return Buffer.allocUnsafe(t)}};nD.emptyBuffer=Buffer.allocUnsafe(0);var xz=class{static{o(this,"ReadableStreamWrapper")}constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),Vg.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),Vg.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),Vg.Disposable.create(()=>this.stream.off("end",t))}onData(t){return this.stream.on("data",t),Vg.Disposable.create(()=>this.stream.off("data",t))}},vz=class{static{o(this,"WritableStreamWrapper")}constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),Vg.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),Vg.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),Vg.Disposable.create(()=>this.stream.off("end",t))}write(t,r){return new Promise((n,i)=>{let s=o(a=>{a==null?n():i(a)},"callback");typeof t=="string"?this.stream.write(t,r,s):this.stream.write(t,s)})}end(){this.stream.end()}},zhe=Object.freeze({messageBuffer:Object.freeze({create:o(e=>new nD(e),"create")}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:o((e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(r){return Promise.reject(r)}},"encode")}),decoder:Object.freeze({name:"application/json",decode:o((e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new $he.TextDecoder(t.charset).decode(e)))}catch(r){return Promise.reject(r)}},"decode")})}),stream:Object.freeze({asReadableStream:o(e=>new xz(e),"asReadableStream"),asWritableStream:o(e=>new vz(e),"asWritableStream")}),console,timer:Object.freeze({setTimeout(e,t,...r){let n=setTimeout(e,t,...r);return{dispose:o(()=>clearTimeout(n),"dispose")}},setImmediate(e,...t){let r=setImmediate(e,...t);return{dispose:o(()=>clearImmediate(r),"dispose")}},setInterval(e,t,...r){let n=setInterval(e,t,...r);return{dispose:o(()=>clearInterval(n),"dispose")}}})});function bz(){return zhe}o(bz,"RIL");(function(e){function t(){Vg.RAL.install(zhe)}o(t,"install"),e.install=t})(bz||(bz={}));Iz.default=bz});var nC=V(Ri=>{"use strict";d();var yYe=Ri&&Ri.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),CYe=Ri&&Ri.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&yYe(t,e,r)};Object.defineProperty(Ri,"__esModule",{value:!0});Ri.createMessageConnection=Ri.createServerSocketTransport=Ri.createClientSocketTransport=Ri.createServerPipeTransport=Ri.createClientPipeTransport=Ri.generateRandomPipeName=Ri.StreamMessageWriter=Ri.StreamMessageReader=Ri.SocketMessageWriter=Ri.SocketMessageReader=Ri.PortMessageWriter=Ri.PortMessageReader=Ri.IPCMessageWriter=Ri.IPCMessageReader=void 0;var Cv=Yhe();Cv.default.install();var Khe=require("path"),EYe=require("os"),xYe=require("crypto"),sD=require("net"),hu=rD();CYe(rD(),Ri);var Tz=class extends hu.AbstractMessageReader{static{o(this,"IPCMessageReader")}constructor(t){super(),this.process=t;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose())}listen(t){return this.process.on("message",t),hu.Disposable.create(()=>this.process.off("message",t))}};Ri.IPCMessageReader=Tz;var wz=class extends hu.AbstractMessageWriter{static{o(this,"IPCMessageWriter")}constructor(t){super(),this.process=t,this.errorCount=0;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose)}write(t){try{return typeof this.process.send=="function"&&this.process.send(t,void 0,void 0,r=>{r?(this.errorCount++,this.handleError(r,t)):this.errorCount=0}),Promise.resolve()}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){}};Ri.IPCMessageWriter=wz;var _z=class extends hu.AbstractMessageReader{static{o(this,"PortMessageReader")}constructor(t){super(),this.onData=new hu.Emitter,t.on("close",()=>this.fireClose),t.on("error",r=>this.fireError(r)),t.on("message",r=>{this.onData.fire(r)})}listen(t){return this.onData.event(t)}};Ri.PortMessageReader=_z;var Sz=class extends hu.AbstractMessageWriter{static{o(this,"PortMessageWriter")}constructor(t){super(),this.port=t,this.errorCount=0,t.on("close",()=>this.fireClose()),t.on("error",r=>this.fireError(r))}write(t){try{return this.port.postMessage(t),Promise.resolve()}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){}};Ri.PortMessageWriter=Sz;var tC=class extends hu.ReadableStreamMessageReader{static{o(this,"SocketMessageReader")}constructor(t,r="utf-8"){super((0,Cv.default)().stream.asReadableStream(t),r)}};Ri.SocketMessageReader=tC;var rC=class extends hu.WriteableStreamMessageWriter{static{o(this,"SocketMessageWriter")}constructor(t,r){super((0,Cv.default)().stream.asWritableStream(t),r),this.socket=t}dispose(){super.dispose(),this.socket.destroy()}};Ri.SocketMessageWriter=rC;var iD=class extends hu.ReadableStreamMessageReader{static{o(this,"StreamMessageReader")}constructor(t,r){super((0,Cv.default)().stream.asReadableStream(t),r)}};Ri.StreamMessageReader=iD;var oD=class extends hu.WriteableStreamMessageWriter{static{o(this,"StreamMessageWriter")}constructor(t,r){super((0,Cv.default)().stream.asWritableStream(t),r)}};Ri.StreamMessageWriter=oD;var Jhe=process.env.XDG_RUNTIME_DIR,vYe=new Map([["linux",107],["darwin",103]]);function bYe(){let e=(0,xYe.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;Jhe?t=Khe.join(Jhe,`vscode-ipc-${e}.sock`):t=Khe.join(EYe.tmpdir(),`vscode-${e}.sock`);let r=vYe.get(process.platform);return r!==void 0&&t.length>r&&(0,Cv.default)().console.warn(`WARNING: IPC handle "${t}" is longer than ${r} characters.`),t}o(bYe,"generateRandomPipeName");Ri.generateRandomPipeName=bYe;function IYe(e,t="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let a=(0,sD.createServer)(l=>{a.close(),r([new tC(l,t),new rC(l,t)])});a.on("error",s),a.listen(e,()=>{a.removeListener("error",s),i({onConnected:o(()=>n,"onConnected")})})})}o(IYe,"createClientPipeTransport");Ri.createClientPipeTransport=IYe;function TYe(e,t="utf-8"){let r=(0,sD.createConnection)(e);return[new tC(r,t),new rC(r,t)]}o(TYe,"createServerPipeTransport");Ri.createServerPipeTransport=TYe;function wYe(e,t="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let a=(0,sD.createServer)(l=>{a.close(),r([new tC(l,t),new rC(l,t)])});a.on("error",s),a.listen(e,"127.0.0.1",()=>{a.removeListener("error",s),i({onConnected:o(()=>n,"onConnected")})})})}o(wYe,"createClientSocketTransport");Ri.createClientSocketTransport=wYe;function _Ye(e,t="utf-8"){let r=(0,sD.createConnection)(e,"127.0.0.1");return[new tC(r,t),new rC(r,t)]}o(_Ye,"createServerSocketTransport");Ri.createServerSocketTransport=_Ye;function SYe(e){let t=e;return t.read!==void 0&&t.addListener!==void 0}o(SYe,"isReadableStream");function BYe(e){let t=e;return t.write!==void 0&&t.addListener!==void 0}o(BYe,"isWritableStream");function kYe(e,t,r,n){r||(r=hu.NullLogger);let i=SYe(e)?new iD(e):e,s=BYe(t)?new oD(t):t;return hu.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,hu.createMessageConnection)(i,s,r,n)}o(kYe,"createMessageConnection");Ri.createMessageConnection=kYe});var Bz=V((uJt,Xhe)=>{"use strict";d();Xhe.exports=nC()});var lD=V((Zhe,aD)=>{d();(function(e){if(typeof aD=="object"&&typeof aD.exports=="object"){var t=e(require,Zhe);t!==void 0&&(aD.exports=t)}else typeof define=="function"&&define.amd&&define(["require","exports"],e)})(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextDocument=t.EOL=t.WorkspaceFolder=t.InlineCompletionContext=t.SelectedCompletionInfo=t.InlineCompletionTriggerKind=t.InlineCompletionList=t.InlineCompletionItem=t.StringValue=t.InlayHint=t.InlayHintLabelPart=t.InlayHintKind=t.InlineValueContext=t.InlineValueEvaluatableExpression=t.InlineValueVariableLookup=t.InlineValueText=t.SemanticTokens=t.SemanticTokenModifiers=t.SemanticTokenTypes=t.SelectionRange=t.DocumentLink=t.FormattingOptions=t.CodeLens=t.CodeAction=t.CodeActionContext=t.CodeActionTriggerKind=t.CodeActionKind=t.DocumentSymbol=t.WorkspaceSymbol=t.SymbolInformation=t.SymbolTag=t.SymbolKind=t.DocumentHighlight=t.DocumentHighlightKind=t.SignatureInformation=t.ParameterInformation=t.Hover=t.MarkedString=t.CompletionList=t.CompletionItem=t.CompletionItemLabelDetails=t.InsertTextMode=t.InsertReplaceEdit=t.CompletionItemTag=t.InsertTextFormat=t.CompletionItemKind=t.MarkupContent=t.MarkupKind=t.TextDocumentItem=t.OptionalVersionedTextDocumentIdentifier=t.VersionedTextDocumentIdentifier=t.TextDocumentIdentifier=t.WorkspaceChange=t.WorkspaceEdit=t.DeleteFile=t.RenameFile=t.CreateFile=t.TextDocumentEdit=t.AnnotatedTextEdit=t.ChangeAnnotationIdentifier=t.ChangeAnnotation=t.TextEdit=t.Command=t.Diagnostic=t.CodeDescription=t.DiagnosticTag=t.DiagnosticSeverity=t.DiagnosticRelatedInformation=t.FoldingRange=t.FoldingRangeKind=t.ColorPresentation=t.ColorInformation=t.Color=t.LocationLink=t.Location=t.Range=t.Position=t.uinteger=t.integer=t.URI=t.DocumentUri=void 0;var r;(function(M){function de(ye){return typeof ye=="string"}o(de,"is"),M.is=de})(r||(t.DocumentUri=r={}));var n;(function(M){function de(ye){return typeof ye=="string"}o(de,"is"),M.is=de})(n||(t.URI=n={}));var i;(function(M){M.MIN_VALUE=-2147483648,M.MAX_VALUE=2147483647;function de(ye){return typeof ye=="number"&&M.MIN_VALUE<=ye&&ye<=M.MAX_VALUE}o(de,"is"),M.is=de})(i||(t.integer=i={}));var s;(function(M){M.MIN_VALUE=0,M.MAX_VALUE=2147483647;function de(ye){return typeof ye=="number"&&M.MIN_VALUE<=ye&&ye<=M.MAX_VALUE}o(de,"is"),M.is=de})(s||(t.uinteger=s={}));var a;(function(M){function de(Y,L){return Y===Number.MAX_VALUE&&(Y=s.MAX_VALUE),L===Number.MAX_VALUE&&(L=s.MAX_VALUE),{line:Y,character:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return ve.objectLiteral(L)&&ve.uinteger(L.line)&&ve.uinteger(L.character)}o(ye,"is"),M.is=ye})(a||(t.Position=a={}));var l;(function(M){function de(Y,L,Ie,Me){if(ve.uinteger(Y)&&ve.uinteger(L)&&ve.uinteger(Ie)&&ve.uinteger(Me))return{start:a.create(Y,L),end:a.create(Ie,Me)};if(a.is(Y)&&a.is(L))return{start:Y,end:L};throw new Error("Range#create called with invalid arguments[".concat(Y,", ").concat(L,", ").concat(Ie,", ").concat(Me,"]"))}o(de,"create"),M.create=de;function ye(Y){var L=Y;return ve.objectLiteral(L)&&a.is(L.start)&&a.is(L.end)}o(ye,"is"),M.is=ye})(l||(t.Range=l={}));var c;(function(M){function de(Y,L){return{uri:Y,range:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return ve.objectLiteral(L)&&l.is(L.range)&&(ve.string(L.uri)||ve.undefined(L.uri))}o(ye,"is"),M.is=ye})(c||(t.Location=c={}));var u;(function(M){function de(Y,L,Ie,Me){return{targetUri:Y,targetRange:L,targetSelectionRange:Ie,originSelectionRange:Me}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return ve.objectLiteral(L)&&l.is(L.targetRange)&&ve.string(L.targetUri)&&l.is(L.targetSelectionRange)&&(l.is(L.originSelectionRange)||ve.undefined(L.originSelectionRange))}o(ye,"is"),M.is=ye})(u||(t.LocationLink=u={}));var f;(function(M){function de(Y,L,Ie,Me){return{red:Y,green:L,blue:Ie,alpha:Me}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return ve.objectLiteral(L)&&ve.numberRange(L.red,0,1)&&ve.numberRange(L.green,0,1)&&ve.numberRange(L.blue,0,1)&&ve.numberRange(L.alpha,0,1)}o(ye,"is"),M.is=ye})(f||(t.Color=f={}));var m;(function(M){function de(Y,L){return{range:Y,color:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return ve.objectLiteral(L)&&l.is(L.range)&&f.is(L.color)}o(ye,"is"),M.is=ye})(m||(t.ColorInformation=m={}));var h;(function(M){function de(Y,L,Ie){return{label:Y,textEdit:L,additionalTextEdits:Ie}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return ve.objectLiteral(L)&&ve.string(L.label)&&(ve.undefined(L.textEdit)||P.is(L))&&(ve.undefined(L.additionalTextEdits)||ve.typedArray(L.additionalTextEdits,P.is))}o(ye,"is"),M.is=ye})(h||(t.ColorPresentation=h={}));var p;(function(M){M.Comment="comment",M.Imports="imports",M.Region="region"})(p||(t.FoldingRangeKind=p={}));var A;(function(M){function de(Y,L,Ie,Me,Ct,Ut){var Pt={startLine:Y,endLine:L};return ve.defined(Ie)&&(Pt.startCharacter=Ie),ve.defined(Me)&&(Pt.endCharacter=Me),ve.defined(Ct)&&(Pt.kind=Ct),ve.defined(Ut)&&(Pt.collapsedText=Ut),Pt}o(de,"create"),M.create=de;function ye(Y){var L=Y;return ve.objectLiteral(L)&&ve.uinteger(L.startLine)&&ve.uinteger(L.startLine)&&(ve.undefined(L.startCharacter)||ve.uinteger(L.startCharacter))&&(ve.undefined(L.endCharacter)||ve.uinteger(L.endCharacter))&&(ve.undefined(L.kind)||ve.string(L.kind))}o(ye,"is"),M.is=ye})(A||(t.FoldingRange=A={}));var E;(function(M){function de(Y,L){return{location:Y,message:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return ve.defined(L)&&c.is(L.location)&&ve.string(L.message)}o(ye,"is"),M.is=ye})(E||(t.DiagnosticRelatedInformation=E={}));var x;(function(M){M.Error=1,M.Warning=2,M.Information=3,M.Hint=4})(x||(t.DiagnosticSeverity=x={}));var b;(function(M){M.Unnecessary=1,M.Deprecated=2})(b||(t.DiagnosticTag=b={}));var v;(function(M){function de(ye){var Y=ye;return ve.objectLiteral(Y)&&ve.string(Y.href)}o(de,"is"),M.is=de})(v||(t.CodeDescription=v={}));var S;(function(M){function de(Y,L,Ie,Me,Ct,Ut){var Pt={range:Y,message:L};return ve.defined(Ie)&&(Pt.severity=Ie),ve.defined(Me)&&(Pt.code=Me),ve.defined(Ct)&&(Pt.source=Ct),ve.defined(Ut)&&(Pt.relatedInformation=Ut),Pt}o(de,"create"),M.create=de;function ye(Y){var L,Ie=Y;return ve.defined(Ie)&&l.is(Ie.range)&&ve.string(Ie.message)&&(ve.number(Ie.severity)||ve.undefined(Ie.severity))&&(ve.integer(Ie.code)||ve.string(Ie.code)||ve.undefined(Ie.code))&&(ve.undefined(Ie.codeDescription)||ve.string((L=Ie.codeDescription)===null||L===void 0?void 0:L.href))&&(ve.string(Ie.source)||ve.undefined(Ie.source))&&(ve.undefined(Ie.relatedInformation)||ve.typedArray(Ie.relatedInformation,E.is))}o(ye,"is"),M.is=ye})(S||(t.Diagnostic=S={}));var k;(function(M){function de(Y,L){for(var Ie=[],Me=2;Me<arguments.length;Me++)Ie[Me-2]=arguments[Me];var Ct={title:Y,command:L};return ve.defined(Ie)&&Ie.length>0&&(Ct.arguments=Ie),Ct}o(de,"create"),M.create=de;function ye(Y){var L=Y;return ve.defined(L)&&ve.string(L.title)&&ve.string(L.command)}o(ye,"is"),M.is=ye})(k||(t.Command=k={}));var P;(function(M){function de(Ie,Me){return{range:Ie,newText:Me}}o(de,"replace"),M.replace=de;function ye(Ie,Me){return{range:{start:Ie,end:Ie},newText:Me}}o(ye,"insert"),M.insert=ye;function Y(Ie){return{range:Ie,newText:""}}o(Y,"del"),M.del=Y;function L(Ie){var Me=Ie;return ve.objectLiteral(Me)&&ve.string(Me.newText)&&l.is(Me.range)}o(L,"is"),M.is=L})(P||(t.TextEdit=P={}));var N;(function(M){function de(Y,L,Ie){var Me={label:Y};return L!==void 0&&(Me.needsConfirmation=L),Ie!==void 0&&(Me.description=Ie),Me}o(de,"create"),M.create=de;function ye(Y){var L=Y;return ve.objectLiteral(L)&&ve.string(L.label)&&(ve.boolean(L.needsConfirmation)||L.needsConfirmation===void 0)&&(ve.string(L.description)||L.description===void 0)}o(ye,"is"),M.is=ye})(N||(t.ChangeAnnotation=N={}));var W;(function(M){function de(ye){var Y=ye;return ve.string(Y)}o(de,"is"),M.is=de})(W||(t.ChangeAnnotationIdentifier=W={}));var re;(function(M){function de(Ie,Me,Ct){return{range:Ie,newText:Me,annotationId:Ct}}o(de,"replace"),M.replace=de;function ye(Ie,Me,Ct){return{range:{start:Ie,end:Ie},newText:Me,annotationId:Ct}}o(ye,"insert"),M.insert=ye;function Y(Ie,Me){return{range:Ie,newText:"",annotationId:Me}}o(Y,"del"),M.del=Y;function L(Ie){var Me=Ie;return P.is(Me)&&(N.is(Me.annotationId)||W.is(Me.annotationId))}o(L,"is"),M.is=L})(re||(t.AnnotatedTextEdit=re={}));var ge;(function(M){function de(Y,L){return{textDocument:Y,edits:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return ve.defined(L)&&le.is(L.textDocument)&&Array.isArray(L.edits)}o(ye,"is"),M.is=ye})(ge||(t.TextDocumentEdit=ge={}));var te;(function(M){function de(Y,L,Ie){var Me={kind:"create",uri:Y};return L!==void 0&&(L.overwrite!==void 0||L.ignoreIfExists!==void 0)&&(Me.options=L),Ie!==void 0&&(Me.annotationId=Ie),Me}o(de,"create"),M.create=de;function ye(Y){var L=Y;return L&&L.kind==="create"&&ve.string(L.uri)&&(L.options===void 0||(L.options.overwrite===void 0||ve.boolean(L.options.overwrite))&&(L.options.ignoreIfExists===void 0||ve.boolean(L.options.ignoreIfExists)))&&(L.annotationId===void 0||W.is(L.annotationId))}o(ye,"is"),M.is=ye})(te||(t.CreateFile=te={}));var G;(function(M){function de(Y,L,Ie,Me){var Ct={kind:"rename",oldUri:Y,newUri:L};return Ie!==void 0&&(Ie.overwrite!==void 0||Ie.ignoreIfExists!==void 0)&&(Ct.options=Ie),Me!==void 0&&(Ct.annotationId=Me),Ct}o(de,"create"),M.create=de;function ye(Y){var L=Y;return L&&L.kind==="rename"&&ve.string(L.oldUri)&&ve.string(L.newUri)&&(L.options===void 0||(L.options.overwrite===void 0||ve.boolean(L.options.overwrite))&&(L.options.ignoreIfExists===void 0||ve.boolean(L.options.ignoreIfExists)))&&(L.annotationId===void 0||W.is(L.annotationId))}o(ye,"is"),M.is=ye})(G||(t.RenameFile=G={}));var q;(function(M){function de(Y,L,Ie){var Me={kind:"delete",uri:Y};return L!==void 0&&(L.recursive!==void 0||L.ignoreIfNotExists!==void 0)&&(Me.options=L),Ie!==void 0&&(Me.annotationId=Ie),Me}o(de,"create"),M.create=de;function ye(Y){var L=Y;return L&&L.kind==="delete"&&ve.string(L.uri)&&(L.options===void 0||(L.options.recursive===void 0||ve.boolean(L.options.recursive))&&(L.options.ignoreIfNotExists===void 0||ve.boolean(L.options.ignoreIfNotExists)))&&(L.annotationId===void 0||W.is(L.annotationId))}o(ye,"is"),M.is=ye})(q||(t.DeleteFile=q={}));var se;(function(M){function de(ye){var Y=ye;return Y&&(Y.changes!==void 0||Y.documentChanges!==void 0)&&(Y.documentChanges===void 0||Y.documentChanges.every(function(L){return ve.string(L.kind)?te.is(L)||G.is(L)||q.is(L):ge.is(L)}))}o(de,"is"),M.is=de})(se||(t.WorkspaceEdit=se={}));var ne=function(){function M(de,ye){this.edits=de,this.changeAnnotations=ye}return o(M,"TextEditChangeImpl"),M.prototype.insert=function(de,ye,Y){var L,Ie;if(Y===void 0?L=P.insert(de,ye):W.is(Y)?(Ie=Y,L=re.insert(de,ye,Y)):(this.assertChangeAnnotations(this.changeAnnotations),Ie=this.changeAnnotations.manage(Y),L=re.insert(de,ye,Ie)),this.edits.push(L),Ie!==void 0)return Ie},M.prototype.replace=function(de,ye,Y){var L,Ie;if(Y===void 0?L=P.replace(de,ye):W.is(Y)?(Ie=Y,L=re.replace(de,ye,Y)):(this.assertChangeAnnotations(this.changeAnnotations),Ie=this.changeAnnotations.manage(Y),L=re.replace(de,ye,Ie)),this.edits.push(L),Ie!==void 0)return Ie},M.prototype.delete=function(de,ye){var Y,L;if(ye===void 0?Y=P.del(de):W.is(ye)?(L=ye,Y=re.del(de,ye)):(this.assertChangeAnnotations(this.changeAnnotations),L=this.changeAnnotations.manage(ye),Y=re.del(de,L)),this.edits.push(Y),L!==void 0)return L},M.prototype.add=function(de){this.edits.push(de)},M.prototype.all=function(){return this.edits},M.prototype.clear=function(){this.edits.splice(0,this.edits.length)},M.prototype.assertChangeAnnotations=function(de){if(de===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},M}(),H=function(){function M(de){this._annotations=de===void 0?Object.create(null):de,this._counter=0,this._size=0}return o(M,"ChangeAnnotations"),M.prototype.all=function(){return this._annotations},Object.defineProperty(M.prototype,"size",{get:o(function(){return this._size},"get"),enumerable:!1,configurable:!0}),M.prototype.manage=function(de,ye){var Y;if(W.is(de)?Y=de:(Y=this.nextId(),ye=de),this._annotations[Y]!==void 0)throw new Error("Id ".concat(Y," is already in use."));if(ye===void 0)throw new Error("No annotation provided for id ".concat(Y));return this._annotations[Y]=ye,this._size++,Y},M.prototype.nextId=function(){return this._counter++,this._counter.toString()},M}(),O=function(){function M(de){var ye=this;this._textEditChanges=Object.create(null),de!==void 0?(this._workspaceEdit=de,de.documentChanges?(this._changeAnnotations=new H(de.changeAnnotations),de.changeAnnotations=this._changeAnnotations.all(),de.documentChanges.forEach(function(Y){if(ge.is(Y)){var L=new ne(Y.edits,ye._changeAnnotations);ye._textEditChanges[Y.textDocument.uri]=L}})):de.changes&&Object.keys(de.changes).forEach(function(Y){var L=new ne(de.changes[Y]);ye._textEditChanges[Y]=L})):this._workspaceEdit={}}return o(M,"WorkspaceChange"),Object.defineProperty(M.prototype,"edit",{get:o(function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},"get"),enumerable:!1,configurable:!0}),M.prototype.getTextEditChange=function(de){if(le.is(de)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var ye={uri:de.uri,version:de.version},Y=this._textEditChanges[ye.uri];if(!Y){var L=[],Ie={textDocument:ye,edits:L};this._workspaceEdit.documentChanges.push(Ie),Y=new ne(L,this._changeAnnotations),this._textEditChanges[ye.uri]=Y}return Y}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var Y=this._textEditChanges[de];if(!Y){var L=[];this._workspaceEdit.changes[de]=L,Y=new ne(L),this._textEditChanges[de]=Y}return Y}},M.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new H,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},M.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},M.prototype.createFile=function(de,ye,Y){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var L;N.is(ye)||W.is(ye)?L=ye:Y=ye;var Ie,Me;if(L===void 0?Ie=te.create(de,Y):(Me=W.is(L)?L:this._changeAnnotations.manage(L),Ie=te.create(de,Y,Me)),this._workspaceEdit.documentChanges.push(Ie),Me!==void 0)return Me},M.prototype.renameFile=function(de,ye,Y,L){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var Ie;N.is(Y)||W.is(Y)?Ie=Y:L=Y;var Me,Ct;if(Ie===void 0?Me=G.create(de,ye,L):(Ct=W.is(Ie)?Ie:this._changeAnnotations.manage(Ie),Me=G.create(de,ye,L,Ct)),this._workspaceEdit.documentChanges.push(Me),Ct!==void 0)return Ct},M.prototype.deleteFile=function(de,ye,Y){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var L;N.is(ye)||W.is(ye)?L=ye:Y=ye;var Ie,Me;if(L===void 0?Ie=q.create(de,Y):(Me=W.is(L)?L:this._changeAnnotations.manage(L),Ie=q.create(de,Y,Me)),this._workspaceEdit.documentChanges.push(Ie),Me!==void 0)return Me},M}();t.WorkspaceChange=O;var j;(function(M){function de(Y){return{uri:Y}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return ve.defined(L)&&ve.string(L.uri)}o(ye,"is"),M.is=ye})(j||(t.TextDocumentIdentifier=j={}));var J;(function(M){function de(Y,L){return{uri:Y,version:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return ve.defined(L)&&ve.string(L.uri)&&ve.integer(L.version)}o(ye,"is"),M.is=ye})(J||(t.VersionedTextDocumentIdentifier=J={}));var le;(function(M){function de(Y,L){return{uri:Y,version:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return ve.defined(L)&&ve.string(L.uri)&&(L.version===null||ve.integer(L.version))}o(ye,"is"),M.is=ye})(le||(t.OptionalVersionedTextDocumentIdentifier=le={}));var Z;(function(M){function de(Y,L,Ie,Me){return{uri:Y,languageId:L,version:Ie,text:Me}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return ve.defined(L)&&ve.string(L.uri)&&ve.string(L.languageId)&&ve.integer(L.version)&&ve.string(L.text)}o(ye,"is"),M.is=ye})(Z||(t.TextDocumentItem=Z={}));var ae;(function(M){M.PlainText="plaintext",M.Markdown="markdown";function de(ye){var Y=ye;return Y===M.PlainText||Y===M.Markdown}o(de,"is"),M.is=de})(ae||(t.MarkupKind=ae={}));var ce;(function(M){function de(ye){var Y=ye;return ve.objectLiteral(ye)&&ae.is(Y.kind)&&ve.string(Y.value)}o(de,"is"),M.is=de})(ce||(t.MarkupContent=ce={}));var Re;(function(M){M.Text=1,M.Method=2,M.Function=3,M.Constructor=4,M.Field=5,M.Variable=6,M.Class=7,M.Interface=8,M.Module=9,M.Property=10,M.Unit=11,M.Value=12,M.Enum=13,M.Keyword=14,M.Snippet=15,M.Color=16,M.File=17,M.Reference=18,M.Folder=19,M.EnumMember=20,M.Constant=21,M.Struct=22,M.Event=23,M.Operator=24,M.TypeParameter=25})(Re||(t.CompletionItemKind=Re={}));var be;(function(M){M.PlainText=1,M.Snippet=2})(be||(t.InsertTextFormat=be={}));var Ue;(function(M){M.Deprecated=1})(Ue||(t.CompletionItemTag=Ue={}));var Be;(function(M){function de(Y,L,Ie){return{newText:Y,insert:L,replace:Ie}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return L&&ve.string(L.newText)&&l.is(L.insert)&&l.is(L.replace)}o(ye,"is"),M.is=ye})(Be||(t.InsertReplaceEdit=Be={}));var Je;(function(M){M.asIs=1,M.adjustIndentation=2})(Je||(t.InsertTextMode=Je={}));var ut;(function(M){function de(ye){var Y=ye;return Y&&(ve.string(Y.detail)||Y.detail===void 0)&&(ve.string(Y.description)||Y.description===void 0)}o(de,"is"),M.is=de})(ut||(t.CompletionItemLabelDetails=ut={}));var it;(function(M){function de(ye){return{label:ye}}o(de,"create"),M.create=de})(it||(t.CompletionItem=it={}));var ot;(function(M){function de(ye,Y){return{items:ye||[],isIncomplete:!!Y}}o(de,"create"),M.create=de})(ot||(t.CompletionList=ot={}));var ie;(function(M){function de(Y){return Y.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}o(de,"fromPlainText"),M.fromPlainText=de;function ye(Y){var L=Y;return ve.string(L)||ve.objectLiteral(L)&&ve.string(L.language)&&ve.string(L.value)}o(ye,"is"),M.is=ye})(ie||(t.MarkedString=ie={}));var Pe;(function(M){function de(ye){var Y=ye;return!!Y&&ve.objectLiteral(Y)&&(ce.is(Y.contents)||ie.is(Y.contents)||ve.typedArray(Y.contents,ie.is))&&(ye.range===void 0||l.is(ye.range))}o(de,"is"),M.is=de})(Pe||(t.Hover=Pe={}));var Ae;(function(M){function de(ye,Y){return Y?{label:ye,documentation:Y}:{label:ye}}o(de,"create"),M.create=de})(Ae||(t.ParameterInformation=Ae={}));var Ge;(function(M){function de(ye,Y){for(var L=[],Ie=2;Ie<arguments.length;Ie++)L[Ie-2]=arguments[Ie];var Me={label:ye};return ve.defined(Y)&&(Me.documentation=Y),ve.defined(L)?Me.parameters=L:Me.parameters=[],Me}o(de,"create"),M.create=de})(Ge||(t.SignatureInformation=Ge={}));var z;(function(M){M.Text=1,M.Read=2,M.Write=3})(z||(t.DocumentHighlightKind=z={}));var ee;(function(M){function de(ye,Y){var L={range:ye};return ve.number(Y)&&(L.kind=Y),L}o(de,"create"),M.create=de})(ee||(t.DocumentHighlight=ee={}));var Fe;(function(M){M.File=1,M.Module=2,M.Namespace=3,M.Package=4,M.Class=5,M.Method=6,M.Property=7,M.Field=8,M.Constructor=9,M.Enum=10,M.Interface=11,M.Function=12,M.Variable=13,M.Constant=14,M.String=15,M.Number=16,M.Boolean=17,M.Array=18,M.Object=19,M.Key=20,M.Null=21,M.EnumMember=22,M.Struct=23,M.Event=24,M.Operator=25,M.TypeParameter=26})(Fe||(t.SymbolKind=Fe={}));var _e;(function(M){M.Deprecated=1})(_e||(t.SymbolTag=_e={}));var Ce;(function(M){function de(ye,Y,L,Ie,Me){var Ct={name:ye,kind:Y,location:{uri:Ie,range:L}};return Me&&(Ct.containerName=Me),Ct}o(de,"create"),M.create=de})(Ce||(t.SymbolInformation=Ce={}));var Oe;(function(M){function de(ye,Y,L,Ie){return Ie!==void 0?{name:ye,kind:Y,location:{uri:L,range:Ie}}:{name:ye,kind:Y,location:{uri:L}}}o(de,"create"),M.create=de})(Oe||(t.WorkspaceSymbol=Oe={}));var Ve;(function(M){function de(Y,L,Ie,Me,Ct,Ut){var Pt={name:Y,detail:L,kind:Ie,range:Me,selectionRange:Ct};return Ut!==void 0&&(Pt.children=Ut),Pt}o(de,"create"),M.create=de;function ye(Y){var L=Y;return L&&ve.string(L.name)&&ve.number(L.kind)&&l.is(L.range)&&l.is(L.selectionRange)&&(L.detail===void 0||ve.string(L.detail))&&(L.deprecated===void 0||ve.boolean(L.deprecated))&&(L.children===void 0||Array.isArray(L.children))&&(L.tags===void 0||Array.isArray(L.tags))}o(ye,"is"),M.is=ye})(Ve||(t.DocumentSymbol=Ve={}));var Ze;(function(M){M.Empty="",M.QuickFix="quickfix",M.Refactor="refactor",M.RefactorExtract="refactor.extract",M.RefactorInline="refactor.inline",M.RefactorRewrite="refactor.rewrite",M.Source="source",M.SourceOrganizeImports="source.organizeImports",M.SourceFixAll="source.fixAll"})(Ze||(t.CodeActionKind=Ze={}));var yt;(function(M){M.Invoked=1,M.Automatic=2})(yt||(t.CodeActionTriggerKind=yt={}));var Rt;(function(M){function de(Y,L,Ie){var Me={diagnostics:Y};return L!=null&&(Me.only=L),Ie!=null&&(Me.triggerKind=Ie),Me}o(de,"create"),M.create=de;function ye(Y){var L=Y;return ve.defined(L)&&ve.typedArray(L.diagnostics,S.is)&&(L.only===void 0||ve.typedArray(L.only,ve.string))&&(L.triggerKind===void 0||L.triggerKind===yt.Invoked||L.triggerKind===yt.Automatic)}o(ye,"is"),M.is=ye})(Rt||(t.CodeActionContext=Rt={}));var At;(function(M){function de(Y,L,Ie){var Me={title:Y},Ct=!0;return typeof L=="string"?(Ct=!1,Me.kind=L):k.is(L)?Me.command=L:Me.edit=L,Ct&&Ie!==void 0&&(Me.kind=Ie),Me}o(de,"create"),M.create=de;function ye(Y){var L=Y;return L&&ve.string(L.title)&&(L.diagnostics===void 0||ve.typedArray(L.diagnostics,S.is))&&(L.kind===void 0||ve.string(L.kind))&&(L.edit!==void 0||L.command!==void 0)&&(L.command===void 0||k.is(L.command))&&(L.isPreferred===void 0||ve.boolean(L.isPreferred))&&(L.edit===void 0||se.is(L.edit))}o(ye,"is"),M.is=ye})(At||(t.CodeAction=At={}));var Ht;(function(M){function de(Y,L){var Ie={range:Y};return ve.defined(L)&&(Ie.data=L),Ie}o(de,"create"),M.create=de;function ye(Y){var L=Y;return ve.defined(L)&&l.is(L.range)&&(ve.undefined(L.command)||k.is(L.command))}o(ye,"is"),M.is=ye})(Ht||(t.CodeLens=Ht={}));var jt;(function(M){function de(Y,L){return{tabSize:Y,insertSpaces:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return ve.defined(L)&&ve.uinteger(L.tabSize)&&ve.boolean(L.insertSpaces)}o(ye,"is"),M.is=ye})(jt||(t.FormattingOptions=jt={}));var ir;(function(M){function de(Y,L,Ie){return{range:Y,target:L,data:Ie}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return ve.defined(L)&&l.is(L.range)&&(ve.undefined(L.target)||ve.string(L.target))}o(ye,"is"),M.is=ye})(ir||(t.DocumentLink=ir={}));var pe;(function(M){function de(Y,L){return{range:Y,parent:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return ve.objectLiteral(L)&&l.is(L.range)&&(L.parent===void 0||M.is(L.parent))}o(ye,"is"),M.is=ye})(pe||(t.SelectionRange=pe={}));var Le;(function(M){M.namespace="namespace",M.type="type",M.class="class",M.enum="enum",M.interface="interface",M.struct="struct",M.typeParameter="typeParameter",M.parameter="parameter",M.variable="variable",M.property="property",M.enumMember="enumMember",M.event="event",M.function="function",M.method="method",M.macro="macro",M.keyword="keyword",M.modifier="modifier",M.comment="comment",M.string="string",M.number="number",M.regexp="regexp",M.operator="operator",M.decorator="decorator"})(Le||(t.SemanticTokenTypes=Le={}));var Ke;(function(M){M.declaration="declaration",M.definition="definition",M.readonly="readonly",M.static="static",M.deprecated="deprecated",M.abstract="abstract",M.async="async",M.modification="modification",M.documentation="documentation",M.defaultLibrary="defaultLibrary"})(Ke||(t.SemanticTokenModifiers=Ke={}));var et;(function(M){function de(ye){var Y=ye;return ve.objectLiteral(Y)&&(Y.resultId===void 0||typeof Y.resultId=="string")&&Array.isArray(Y.data)&&(Y.data.length===0||typeof Y.data[0]=="number")}o(de,"is"),M.is=de})(et||(t.SemanticTokens=et={}));var _t;(function(M){function de(Y,L){return{range:Y,text:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return L!=null&&l.is(L.range)&&ve.string(L.text)}o(ye,"is"),M.is=ye})(_t||(t.InlineValueText=_t={}));var xt;(function(M){function de(Y,L,Ie){return{range:Y,variableName:L,caseSensitiveLookup:Ie}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return L!=null&&l.is(L.range)&&ve.boolean(L.caseSensitiveLookup)&&(ve.string(L.variableName)||L.variableName===void 0)}o(ye,"is"),M.is=ye})(xt||(t.InlineValueVariableLookup=xt={}));var Ft;(function(M){function de(Y,L){return{range:Y,expression:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return L!=null&&l.is(L.range)&&(ve.string(L.expression)||L.expression===void 0)}o(ye,"is"),M.is=ye})(Ft||(t.InlineValueEvaluatableExpression=Ft={}));var Qt;(function(M){function de(Y,L){return{frameId:Y,stoppedLocation:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return ve.defined(L)&&l.is(Y.stoppedLocation)}o(ye,"is"),M.is=ye})(Qt||(t.InlineValueContext=Qt={}));var Tt;(function(M){M.Type=1,M.Parameter=2;function de(ye){return ye===1||ye===2}o(de,"is"),M.is=de})(Tt||(t.InlayHintKind=Tt={}));var St;(function(M){function de(Y){return{value:Y}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return ve.objectLiteral(L)&&(L.tooltip===void 0||ve.string(L.tooltip)||ce.is(L.tooltip))&&(L.location===void 0||c.is(L.location))&&(L.command===void 0||k.is(L.command))}o(ye,"is"),M.is=ye})(St||(t.InlayHintLabelPart=St={}));var wt;(function(M){function de(Y,L,Ie){var Me={position:Y,label:L};return Ie!==void 0&&(Me.kind=Ie),Me}o(de,"create"),M.create=de;function ye(Y){var L=Y;return ve.objectLiteral(L)&&a.is(L.position)&&(ve.string(L.label)||ve.typedArray(L.label,St.is))&&(L.kind===void 0||Tt.is(L.kind))&&L.textEdits===void 0||ve.typedArray(L.textEdits,P.is)&&(L.tooltip===void 0||ve.string(L.tooltip)||ce.is(L.tooltip))&&(L.paddingLeft===void 0||ve.boolean(L.paddingLeft))&&(L.paddingRight===void 0||ve.boolean(L.paddingRight))}o(ye,"is"),M.is=ye})(wt||(t.InlayHint=wt={}));var Ot;(function(M){function de(ye){return{kind:"snippet",value:ye}}o(de,"createSnippet"),M.createSnippet=de})(Ot||(t.StringValue=Ot={}));var Gt;(function(M){function de(ye,Y,L,Ie){return{insertText:ye,filterText:Y,range:L,command:Ie}}o(de,"create"),M.create=de})(Gt||(t.InlineCompletionItem=Gt={}));var $t;(function(M){function de(ye){return{items:ye}}o(de,"create"),M.create=de})($t||(t.InlineCompletionList=$t={}));var lr;(function(M){M.Invoked=0,M.Automatic=1})(lr||(t.InlineCompletionTriggerKind=lr={}));var hr;(function(M){function de(ye,Y){return{range:ye,text:Y}}o(de,"create"),M.create=de})(hr||(t.SelectedCompletionInfo=hr={}));var sr;(function(M){function de(ye,Y){return{triggerKind:ye,selectedCompletionInfo:Y}}o(de,"create"),M.create=de})(sr||(t.InlineCompletionContext=sr={}));var cr;(function(M){function de(ye){var Y=ye;return ve.objectLiteral(Y)&&n.is(Y.uri)&&ve.string(Y.name)}o(de,"is"),M.is=de})(cr||(t.WorkspaceFolder=cr={})),t.EOL=[`
`,`\r
`,"\r"];var Jt;(function(M){function de(Ie,Me,Ct,Ut){return new ur(Ie,Me,Ct,Ut)}o(de,"create"),M.create=de;function ye(Ie){var Me=Ie;return!!(ve.defined(Me)&&ve.string(Me.uri)&&(ve.undefined(Me.languageId)||ve.string(Me.languageId))&&ve.uinteger(Me.lineCount)&&ve.func(Me.getText)&&ve.func(Me.positionAt)&&ve.func(Me.offsetAt))}o(ye,"is"),M.is=ye;function Y(Ie,Me){for(var Ct=Ie.getText(),Ut=L(Me,function(ar,Ro){var kd=ar.range.start.line-Ro.range.start.line;return kd===0?ar.range.start.character-Ro.range.start.character:kd}),Pt=Ct.length,tr=Ut.length-1;tr>=0;tr--){var or=Ut[tr],Mt=Ie.offsetAt(or.range.start),bt=Ie.offsetAt(or.range.end);if(bt<=Pt)Ct=Ct.substring(0,Mt)+or.newText+Ct.substring(bt,Ct.length);else throw new Error("Overlapping edit");Pt=Mt}return Ct}o(Y,"applyEdits"),M.applyEdits=Y;function L(Ie,Me){if(Ie.length<=1)return Ie;var Ct=Ie.length/2|0,Ut=Ie.slice(0,Ct),Pt=Ie.slice(Ct);L(Ut,Me),L(Pt,Me);for(var tr=0,or=0,Mt=0;tr<Ut.length&&or<Pt.length;){var bt=Me(Ut[tr],Pt[or]);bt<=0?Ie[Mt++]=Ut[tr++]:Ie[Mt++]=Pt[or++]}for(;tr<Ut.length;)Ie[Mt++]=Ut[tr++];for(;or<Pt.length;)Ie[Mt++]=Pt[or++];return Ie}o(L,"mergeSort")})(Jt||(t.TextDocument=Jt={}));var ur=function(){function M(de,ye,Y,L){this._uri=de,this._languageId=ye,this._version=Y,this._content=L,this._lineOffsets=void 0}return o(M,"FullTextDocument"),Object.defineProperty(M.prototype,"uri",{get:o(function(){return this._uri},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"languageId",{get:o(function(){return this._languageId},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"version",{get:o(function(){return this._version},"get"),enumerable:!1,configurable:!0}),M.prototype.getText=function(de){if(de){var ye=this.offsetAt(de.start),Y=this.offsetAt(de.end);return this._content.substring(ye,Y)}return this._content},M.prototype.update=function(de,ye){this._content=de.text,this._version=ye,this._lineOffsets=void 0},M.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var de=[],ye=this._content,Y=!0,L=0;L<ye.length;L++){Y&&(de.push(L),Y=!1);var Ie=ye.charAt(L);Y=Ie==="\r"||Ie===`
`,Ie==="\r"&&L+1<ye.length&&ye.charAt(L+1)===`
`&&L++}Y&&ye.length>0&&de.push(ye.length),this._lineOffsets=de}return this._lineOffsets},M.prototype.positionAt=function(de){de=Math.max(Math.min(de,this._content.length),0);var ye=this.getLineOffsets(),Y=0,L=ye.length;if(L===0)return a.create(0,de);for(;Y<L;){var Ie=Math.floor((Y+L)/2);ye[Ie]>de?L=Ie:Y=Ie+1}var Me=Y-1;return a.create(Me,de-ye[Me])},M.prototype.offsetAt=function(de){var ye=this.getLineOffsets();if(de.line>=ye.length)return this._content.length;if(de.line<0)return 0;var Y=ye[de.line],L=de.line+1<ye.length?ye[de.line+1]:this._content.length;return Math.max(Math.min(Y+de.character,L),Y)},Object.defineProperty(M.prototype,"lineCount",{get:o(function(){return this.getLineOffsets().length},"get"),enumerable:!1,configurable:!0}),M}(),ve;(function(M){var de=Object.prototype.toString;function ye(bt){return typeof bt<"u"}o(ye,"defined"),M.defined=ye;function Y(bt){return typeof bt>"u"}o(Y,"undefined"),M.undefined=Y;function L(bt){return bt===!0||bt===!1}o(L,"boolean"),M.boolean=L;function Ie(bt){return de.call(bt)==="[object String]"}o(Ie,"string"),M.string=Ie;function Me(bt){return de.call(bt)==="[object Number]"}o(Me,"number"),M.number=Me;function Ct(bt,ar,Ro){return de.call(bt)==="[object Number]"&&ar<=bt&&bt<=Ro}o(Ct,"numberRange"),M.numberRange=Ct;function Ut(bt){return de.call(bt)==="[object Number]"&&-2147483648<=bt&&bt<=2147483647}o(Ut,"integer"),M.integer=Ut;function Pt(bt){return de.call(bt)==="[object Number]"&&0<=bt&&bt<=2147483647}o(Pt,"uinteger"),M.uinteger=Pt;function tr(bt){return de.call(bt)==="[object Function]"}o(tr,"func"),M.func=tr;function or(bt){return bt!==null&&typeof bt=="object"}o(or,"objectLiteral"),M.objectLiteral=or;function Mt(bt,ar){return Array.isArray(bt)&&bt.every(ar)}o(Mt,"typedArray"),M.typedArray=Mt})(ve||(ve={}))})});var ps=V(yc=>{"use strict";d();Object.defineProperty(yc,"__esModule",{value:!0});yc.ProtocolNotificationType=yc.ProtocolNotificationType0=yc.ProtocolRequestType=yc.ProtocolRequestType0=yc.RegistrationType=yc.MessageDirection=void 0;var Ev=nC(),epe;(function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"})(epe||(yc.MessageDirection=epe={}));var kz=class{static{o(this,"RegistrationType")}constructor(t){this.method=t}};yc.RegistrationType=kz;var Rz=class extends Ev.RequestType0{static{o(this,"ProtocolRequestType0")}constructor(t){super(t)}};yc.ProtocolRequestType0=Rz;var Dz=class extends Ev.RequestType{static{o(this,"ProtocolRequestType")}constructor(t){super(t,Ev.ParameterStructures.byName)}};yc.ProtocolRequestType=Dz;var Pz=class extends Ev.NotificationType0{static{o(this,"ProtocolNotificationType0")}constructor(t){super(t)}};yc.ProtocolNotificationType0=Pz;var Nz=class extends Ev.NotificationType{static{o(this,"ProtocolNotificationType")}constructor(t){super(t,Ev.ParameterStructures.byName)}};yc.ProtocolNotificationType=Nz});var cD=V(xa=>{"use strict";d();Object.defineProperty(xa,"__esModule",{value:!0});xa.objectLiteral=xa.typedArray=xa.stringArray=xa.array=xa.func=xa.error=xa.number=xa.string=xa.boolean=void 0;function RYe(e){return e===!0||e===!1}o(RYe,"boolean");xa.boolean=RYe;function tpe(e){return typeof e=="string"||e instanceof String}o(tpe,"string");xa.string=tpe;function DYe(e){return typeof e=="number"||e instanceof Number}o(DYe,"number");xa.number=DYe;function PYe(e){return e instanceof Error}o(PYe,"error");xa.error=PYe;function NYe(e){return typeof e=="function"}o(NYe,"func");xa.func=NYe;function rpe(e){return Array.isArray(e)}o(rpe,"array");xa.array=rpe;function FYe(e){return rpe(e)&&e.every(t=>tpe(t))}o(FYe,"stringArray");xa.stringArray=FYe;function LYe(e,t){return Array.isArray(e)&&e.every(t)}o(LYe,"typedArray");xa.typedArray=LYe;function QYe(e){return e!==null&&typeof e=="object"}o(QYe,"objectLiteral");xa.objectLiteral=QYe});var ope=V(uD=>{"use strict";d();Object.defineProperty(uD,"__esModule",{value:!0});uD.ImplementationRequest=void 0;var npe=ps(),ipe;(function(e){e.method="textDocument/implementation",e.messageDirection=npe.MessageDirection.clientToServer,e.type=new npe.ProtocolRequestType(e.method)})(ipe||(uD.ImplementationRequest=ipe={}))});var lpe=V(fD=>{"use strict";d();Object.defineProperty(fD,"__esModule",{value:!0});fD.TypeDefinitionRequest=void 0;var spe=ps(),ape;(function(e){e.method="textDocument/typeDefinition",e.messageDirection=spe.MessageDirection.clientToServer,e.type=new spe.ProtocolRequestType(e.method)})(ape||(fD.TypeDefinitionRequest=ape={}))});var fpe=V(xv=>{"use strict";d();Object.defineProperty(xv,"__esModule",{value:!0});xv.DidChangeWorkspaceFoldersNotification=xv.WorkspaceFoldersRequest=void 0;var dD=ps(),cpe;(function(e){e.method="workspace/workspaceFolders",e.messageDirection=dD.MessageDirection.serverToClient,e.type=new dD.ProtocolRequestType0(e.method)})(cpe||(xv.WorkspaceFoldersRequest=cpe={}));var upe;(function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=dD.MessageDirection.clientToServer,e.type=new dD.ProtocolNotificationType(e.method)})(upe||(xv.DidChangeWorkspaceFoldersNotification=upe={}))});var hpe=V(mD=>{"use strict";d();Object.defineProperty(mD,"__esModule",{value:!0});mD.ConfigurationRequest=void 0;var dpe=ps(),mpe;(function(e){e.method="workspace/configuration",e.messageDirection=dpe.MessageDirection.serverToClient,e.type=new dpe.ProtocolRequestType(e.method)})(mpe||(mD.ConfigurationRequest=mpe={}))});var Ape=V(vv=>{"use strict";d();Object.defineProperty(vv,"__esModule",{value:!0});vv.ColorPresentationRequest=vv.DocumentColorRequest=void 0;var hD=ps(),ppe;(function(e){e.method="textDocument/documentColor",e.messageDirection=hD.MessageDirection.clientToServer,e.type=new hD.ProtocolRequestType(e.method)})(ppe||(vv.DocumentColorRequest=ppe={}));var gpe;(function(e){e.method="textDocument/colorPresentation",e.messageDirection=hD.MessageDirection.clientToServer,e.type=new hD.ProtocolRequestType(e.method)})(gpe||(vv.ColorPresentationRequest=gpe={}))});var Epe=V(bv=>{"use strict";d();Object.defineProperty(bv,"__esModule",{value:!0});bv.FoldingRangeRefreshRequest=bv.FoldingRangeRequest=void 0;var pD=ps(),ype;(function(e){e.method="textDocument/foldingRange",e.messageDirection=pD.MessageDirection.clientToServer,e.type=new pD.ProtocolRequestType(e.method)})(ype||(bv.FoldingRangeRequest=ype={}));var Cpe;(function(e){e.method="workspace/foldingRange/refresh",e.messageDirection=pD.MessageDirection.serverToClient,e.type=new pD.ProtocolRequestType0(e.method)})(Cpe||(bv.FoldingRangeRefreshRequest=Cpe={}))});var bpe=V(gD=>{"use strict";d();Object.defineProperty(gD,"__esModule",{value:!0});gD.DeclarationRequest=void 0;var xpe=ps(),vpe;(function(e){e.method="textDocument/declaration",e.messageDirection=xpe.MessageDirection.clientToServer,e.type=new xpe.ProtocolRequestType(e.method)})(vpe||(gD.DeclarationRequest=vpe={}))});var wpe=V(AD=>{"use strict";d();Object.defineProperty(AD,"__esModule",{value:!0});AD.SelectionRangeRequest=void 0;var Ipe=ps(),Tpe;(function(e){e.method="textDocument/selectionRange",e.messageDirection=Ipe.MessageDirection.clientToServer,e.type=new Ipe.ProtocolRequestType(e.method)})(Tpe||(AD.SelectionRangeRequest=Tpe={}))});var kpe=V(G2=>{"use strict";d();Object.defineProperty(G2,"__esModule",{value:!0});G2.WorkDoneProgressCancelNotification=G2.WorkDoneProgressCreateRequest=G2.WorkDoneProgress=void 0;var MYe=nC(),yD=ps(),_pe;(function(e){e.type=new MYe.ProgressType;function t(r){return r===e.type}o(t,"is"),e.is=t})(_pe||(G2.WorkDoneProgress=_pe={}));var Spe;(function(e){e.method="window/workDoneProgress/create",e.messageDirection=yD.MessageDirection.serverToClient,e.type=new yD.ProtocolRequestType(e.method)})(Spe||(G2.WorkDoneProgressCreateRequest=Spe={}));var Bpe;(function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=yD.MessageDirection.clientToServer,e.type=new yD.ProtocolNotificationType(e.method)})(Bpe||(G2.WorkDoneProgressCancelNotification=Bpe={}))});var Npe=V(W2=>{"use strict";d();Object.defineProperty(W2,"__esModule",{value:!0});W2.CallHierarchyOutgoingCallsRequest=W2.CallHierarchyIncomingCallsRequest=W2.CallHierarchyPrepareRequest=void 0;var Iv=ps(),Rpe;(function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=Iv.MessageDirection.clientToServer,e.type=new Iv.ProtocolRequestType(e.method)})(Rpe||(W2.CallHierarchyPrepareRequest=Rpe={}));var Dpe;(function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=Iv.MessageDirection.clientToServer,e.type=new Iv.ProtocolRequestType(e.method)})(Dpe||(W2.CallHierarchyIncomingCallsRequest=Dpe={}));var Ppe;(function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=Iv.MessageDirection.clientToServer,e.type=new Iv.ProtocolRequestType(e.method)})(Ppe||(W2.CallHierarchyOutgoingCallsRequest=Ppe={}))});var Upe=V(Cc=>{"use strict";d();Object.defineProperty(Cc,"__esModule",{value:!0});Cc.SemanticTokensRefreshRequest=Cc.SemanticTokensRangeRequest=Cc.SemanticTokensDeltaRequest=Cc.SemanticTokensRequest=Cc.SemanticTokensRegistrationType=Cc.TokenFormat=void 0;var jg=ps(),Fpe;(function(e){e.Relative="relative"})(Fpe||(Cc.TokenFormat=Fpe={}));var y7;(function(e){e.method="textDocument/semanticTokens",e.type=new jg.RegistrationType(e.method)})(y7||(Cc.SemanticTokensRegistrationType=y7={}));var Lpe;(function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=jg.MessageDirection.clientToServer,e.type=new jg.ProtocolRequestType(e.method),e.registrationMethod=y7.method})(Lpe||(Cc.SemanticTokensRequest=Lpe={}));var Qpe;(function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=jg.MessageDirection.clientToServer,e.type=new jg.ProtocolRequestType(e.method),e.registrationMethod=y7.method})(Qpe||(Cc.SemanticTokensDeltaRequest=Qpe={}));var Mpe;(function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=jg.MessageDirection.clientToServer,e.type=new jg.ProtocolRequestType(e.method),e.registrationMethod=y7.method})(Mpe||(Cc.SemanticTokensRangeRequest=Mpe={}));var Ope;(function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=jg.MessageDirection.serverToClient,e.type=new jg.ProtocolRequestType0(e.method)})(Ope||(Cc.SemanticTokensRefreshRequest=Ope={}))});var Wpe=V(CD=>{"use strict";d();Object.defineProperty(CD,"__esModule",{value:!0});CD.ShowDocumentRequest=void 0;var qpe=ps(),Gpe;(function(e){e.method="window/showDocument",e.messageDirection=qpe.MessageDirection.serverToClient,e.type=new qpe.ProtocolRequestType(e.method)})(Gpe||(CD.ShowDocumentRequest=Gpe={}))});var jpe=V(ED=>{"use strict";d();Object.defineProperty(ED,"__esModule",{value:!0});ED.LinkedEditingRangeRequest=void 0;var Hpe=ps(),Vpe;(function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=Hpe.MessageDirection.clientToServer,e.type=new Hpe.ProtocolRequestType(e.method)})(Vpe||(ED.LinkedEditingRangeRequest=Vpe={}))});var ege=V(u0=>{"use strict";d();Object.defineProperty(u0,"__esModule",{value:!0});u0.WillDeleteFilesRequest=u0.DidDeleteFilesNotification=u0.DidRenameFilesNotification=u0.WillRenameFilesRequest=u0.DidCreateFilesNotification=u0.WillCreateFilesRequest=u0.FileOperationPatternKind=void 0;var Rf=ps(),$pe;(function(e){e.file="file",e.folder="folder"})($pe||(u0.FileOperationPatternKind=$pe={}));var zpe;(function(e){e.method="workspace/willCreateFiles",e.messageDirection=Rf.MessageDirection.clientToServer,e.type=new Rf.ProtocolRequestType(e.method)})(zpe||(u0.WillCreateFilesRequest=zpe={}));var Ype;(function(e){e.method="workspace/didCreateFiles",e.messageDirection=Rf.MessageDirection.clientToServer,e.type=new Rf.ProtocolNotificationType(e.method)})(Ype||(u0.DidCreateFilesNotification=Ype={}));var Kpe;(function(e){e.method="workspace/willRenameFiles",e.messageDirection=Rf.MessageDirection.clientToServer,e.type=new Rf.ProtocolRequestType(e.method)})(Kpe||(u0.WillRenameFilesRequest=Kpe={}));var Jpe;(function(e){e.method="workspace/didRenameFiles",e.messageDirection=Rf.MessageDirection.clientToServer,e.type=new Rf.ProtocolNotificationType(e.method)})(Jpe||(u0.DidRenameFilesNotification=Jpe={}));var Xpe;(function(e){e.method="workspace/didDeleteFiles",e.messageDirection=Rf.MessageDirection.clientToServer,e.type=new Rf.ProtocolNotificationType(e.method)})(Xpe||(u0.DidDeleteFilesNotification=Xpe={}));var Zpe;(function(e){e.method="workspace/willDeleteFiles",e.messageDirection=Rf.MessageDirection.clientToServer,e.type=new Rf.ProtocolRequestType(e.method)})(Zpe||(u0.WillDeleteFilesRequest=Zpe={}))});var oge=V(H2=>{"use strict";d();Object.defineProperty(H2,"__esModule",{value:!0});H2.MonikerRequest=H2.MonikerKind=H2.UniquenessLevel=void 0;var tge=ps(),rge;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(rge||(H2.UniquenessLevel=rge={}));var nge;(function(e){e.$import="import",e.$export="export",e.local="local"})(nge||(H2.MonikerKind=nge={}));var ige;(function(e){e.method="textDocument/moniker",e.messageDirection=tge.MessageDirection.clientToServer,e.type=new tge.ProtocolRequestType(e.method)})(ige||(H2.MonikerRequest=ige={}))});var cge=V(V2=>{"use strict";d();Object.defineProperty(V2,"__esModule",{value:!0});V2.TypeHierarchySubtypesRequest=V2.TypeHierarchySupertypesRequest=V2.TypeHierarchyPrepareRequest=void 0;var Tv=ps(),sge;(function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=Tv.MessageDirection.clientToServer,e.type=new Tv.ProtocolRequestType(e.method)})(sge||(V2.TypeHierarchyPrepareRequest=sge={}));var age;(function(e){e.method="typeHierarchy/supertypes",e.messageDirection=Tv.MessageDirection.clientToServer,e.type=new Tv.ProtocolRequestType(e.method)})(age||(V2.TypeHierarchySupertypesRequest=age={}));var lge;(function(e){e.method="typeHierarchy/subtypes",e.messageDirection=Tv.MessageDirection.clientToServer,e.type=new Tv.ProtocolRequestType(e.method)})(lge||(V2.TypeHierarchySubtypesRequest=lge={}))});var dge=V(wv=>{"use strict";d();Object.defineProperty(wv,"__esModule",{value:!0});wv.InlineValueRefreshRequest=wv.InlineValueRequest=void 0;var xD=ps(),uge;(function(e){e.method="textDocument/inlineValue",e.messageDirection=xD.MessageDirection.clientToServer,e.type=new xD.ProtocolRequestType(e.method)})(uge||(wv.InlineValueRequest=uge={}));var fge;(function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=xD.MessageDirection.serverToClient,e.type=new xD.ProtocolRequestType0(e.method)})(fge||(wv.InlineValueRefreshRequest=fge={}))});var gge=V(j2=>{"use strict";d();Object.defineProperty(j2,"__esModule",{value:!0});j2.InlayHintRefreshRequest=j2.InlayHintResolveRequest=j2.InlayHintRequest=void 0;var _v=ps(),mge;(function(e){e.method="textDocument/inlayHint",e.messageDirection=_v.MessageDirection.clientToServer,e.type=new _v.ProtocolRequestType(e.method)})(mge||(j2.InlayHintRequest=mge={}));var hge;(function(e){e.method="inlayHint/resolve",e.messageDirection=_v.MessageDirection.clientToServer,e.type=new _v.ProtocolRequestType(e.method)})(hge||(j2.InlayHintResolveRequest=hge={}));var pge;(function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=_v.MessageDirection.serverToClient,e.type=new _v.ProtocolRequestType0(e.method)})(pge||(j2.InlayHintRefreshRequest=pge={}))});var bge=V(Df=>{"use strict";d();Object.defineProperty(Df,"__esModule",{value:!0});Df.DiagnosticRefreshRequest=Df.WorkspaceDiagnosticRequest=Df.DocumentDiagnosticRequest=Df.DocumentDiagnosticReportKind=Df.DiagnosticServerCancellationData=void 0;var vge=nC(),OYe=cD(),Sv=ps(),Age;(function(e){function t(r){let n=r;return n&&OYe.boolean(n.retriggerRequest)}o(t,"is"),e.is=t})(Age||(Df.DiagnosticServerCancellationData=Age={}));var yge;(function(e){e.Full="full",e.Unchanged="unchanged"})(yge||(Df.DocumentDiagnosticReportKind=yge={}));var Cge;(function(e){e.method="textDocument/diagnostic",e.messageDirection=Sv.MessageDirection.clientToServer,e.type=new Sv.ProtocolRequestType(e.method),e.partialResult=new vge.ProgressType})(Cge||(Df.DocumentDiagnosticRequest=Cge={}));var Ege;(function(e){e.method="workspace/diagnostic",e.messageDirection=Sv.MessageDirection.clientToServer,e.type=new Sv.ProtocolRequestType(e.method),e.partialResult=new vge.ProgressType})(Ege||(Df.WorkspaceDiagnosticRequest=Ege={}));var xge;(function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=Sv.MessageDirection.serverToClient,e.type=new Sv.ProtocolRequestType0(e.method)})(xge||(Df.DiagnosticRefreshRequest=xge={}))});var kge=V(Qs=>{"use strict";d();Object.defineProperty(Qs,"__esModule",{value:!0});Qs.DidCloseNotebookDocumentNotification=Qs.DidSaveNotebookDocumentNotification=Qs.DidChangeNotebookDocumentNotification=Qs.NotebookCellArrayChange=Qs.DidOpenNotebookDocumentNotification=Qs.NotebookDocumentSyncRegistrationType=Qs.NotebookDocument=Qs.NotebookCell=Qs.ExecutionSummary=Qs.NotebookCellKind=void 0;var C7=lD(),um=cD(),Wh=ps(),Fz;(function(e){e.Markup=1,e.Code=2;function t(r){return r===1||r===2}o(t,"is"),e.is=t})(Fz||(Qs.NotebookCellKind=Fz={}));var Lz;(function(e){function t(i,s){let a={executionOrder:i};return(s===!0||s===!1)&&(a.success=s),a}o(t,"create"),e.create=t;function r(i){let s=i;return um.objectLiteral(s)&&C7.uinteger.is(s.executionOrder)&&(s.success===void 0||um.boolean(s.success))}o(r,"is"),e.is=r;function n(i,s){return i===s?!0:i==null||s===null||s===void 0?!1:i.executionOrder===s.executionOrder&&i.success===s.success}o(n,"equals"),e.equals=n})(Lz||(Qs.ExecutionSummary=Lz={}));var vD;(function(e){function t(s,a){return{kind:s,document:a}}o(t,"create"),e.create=t;function r(s){let a=s;return um.objectLiteral(a)&&Fz.is(a.kind)&&C7.DocumentUri.is(a.document)&&(a.metadata===void 0||um.objectLiteral(a.metadata))}o(r,"is"),e.is=r;function n(s,a){let l=new Set;return s.document!==a.document&&l.add("document"),s.kind!==a.kind&&l.add("kind"),s.executionSummary!==a.executionSummary&&l.add("executionSummary"),(s.metadata!==void 0||a.metadata!==void 0)&&!i(s.metadata,a.metadata)&&l.add("metadata"),(s.executionSummary!==void 0||a.executionSummary!==void 0)&&!Lz.equals(s.executionSummary,a.executionSummary)&&l.add("executionSummary"),l}o(n,"diff"),e.diff=n;function i(s,a){if(s===a)return!0;if(s==null||a===null||a===void 0||typeof s!=typeof a||typeof s!="object")return!1;let l=Array.isArray(s),c=Array.isArray(a);if(l!==c)return!1;if(l&&c){if(s.length!==a.length)return!1;for(let u=0;u<s.length;u++)if(!i(s[u],a[u]))return!1}if(um.objectLiteral(s)&&um.objectLiteral(a)){let u=Object.keys(s),f=Object.keys(a);if(u.length!==f.length||(u.sort(),f.sort(),!i(u,f)))return!1;for(let m=0;m<u.length;m++){let h=u[m];if(!i(s[h],a[h]))return!1}}return!0}o(i,"equalsMetadata")})(vD||(Qs.NotebookCell=vD={}));var Ige;(function(e){function t(n,i,s,a){return{uri:n,notebookType:i,version:s,cells:a}}o(t,"create"),e.create=t;function r(n){let i=n;return um.objectLiteral(i)&&um.string(i.uri)&&C7.integer.is(i.version)&&um.typedArray(i.cells,vD.is)}o(r,"is"),e.is=r})(Ige||(Qs.NotebookDocument=Ige={}));var Bv;(function(e){e.method="notebookDocument/sync",e.messageDirection=Wh.MessageDirection.clientToServer,e.type=new Wh.RegistrationType(e.method)})(Bv||(Qs.NotebookDocumentSyncRegistrationType=Bv={}));var Tge;(function(e){e.method="notebookDocument/didOpen",e.messageDirection=Wh.MessageDirection.clientToServer,e.type=new Wh.ProtocolNotificationType(e.method),e.registrationMethod=Bv.method})(Tge||(Qs.DidOpenNotebookDocumentNotification=Tge={}));var wge;(function(e){function t(n){let i=n;return um.objectLiteral(i)&&C7.uinteger.is(i.start)&&C7.uinteger.is(i.deleteCount)&&(i.cells===void 0||um.typedArray(i.cells,vD.is))}o(t,"is"),e.is=t;function r(n,i,s){let a={start:n,deleteCount:i};return s!==void 0&&(a.cells=s),a}o(r,"create"),e.create=r})(wge||(Qs.NotebookCellArrayChange=wge={}));var _ge;(function(e){e.method="notebookDocument/didChange",e.messageDirection=Wh.MessageDirection.clientToServer,e.type=new Wh.ProtocolNotificationType(e.method),e.registrationMethod=Bv.method})(_ge||(Qs.DidChangeNotebookDocumentNotification=_ge={}));var Sge;(function(e){e.method="notebookDocument/didSave",e.messageDirection=Wh.MessageDirection.clientToServer,e.type=new Wh.ProtocolNotificationType(e.method),e.registrationMethod=Bv.method})(Sge||(Qs.DidSaveNotebookDocumentNotification=Sge={}));var Bge;(function(e){e.method="notebookDocument/didClose",e.messageDirection=Wh.MessageDirection.clientToServer,e.type=new Wh.ProtocolNotificationType(e.method),e.registrationMethod=Bv.method})(Bge||(Qs.DidCloseNotebookDocumentNotification=Bge={}))});var Pge=V(bD=>{"use strict";d();Object.defineProperty(bD,"__esModule",{value:!0});bD.InlineCompletionRequest=void 0;var Rge=ps(),Dge;(function(e){e.method="textDocument/inlineCompletion",e.messageDirection=Rge.MessageDirection.clientToServer,e.type=new Rge.ProtocolRequestType(e.method)})(Dge||(bD.InlineCompletionRequest=Dge={}))});var j1e=V(xe=>{"use strict";d();Object.defineProperty(xe,"__esModule",{value:!0});xe.WorkspaceSymbolRequest=xe.CodeActionResolveRequest=xe.CodeActionRequest=xe.DocumentSymbolRequest=xe.DocumentHighlightRequest=xe.ReferencesRequest=xe.DefinitionRequest=xe.SignatureHelpRequest=xe.SignatureHelpTriggerKind=xe.HoverRequest=xe.CompletionResolveRequest=xe.CompletionRequest=xe.CompletionTriggerKind=xe.PublishDiagnosticsNotification=xe.WatchKind=xe.RelativePattern=xe.FileChangeType=xe.DidChangeWatchedFilesNotification=xe.WillSaveTextDocumentWaitUntilRequest=xe.WillSaveTextDocumentNotification=xe.TextDocumentSaveReason=xe.DidSaveTextDocumentNotification=xe.DidCloseTextDocumentNotification=xe.DidChangeTextDocumentNotification=xe.TextDocumentContentChangeEvent=xe.DidOpenTextDocumentNotification=xe.TextDocumentSyncKind=xe.TelemetryEventNotification=xe.LogMessageNotification=xe.ShowMessageRequest=xe.ShowMessageNotification=xe.MessageType=xe.DidChangeConfigurationNotification=xe.ExitNotification=xe.ShutdownRequest=xe.InitializedNotification=xe.InitializeErrorCodes=xe.InitializeRequest=xe.WorkDoneProgressOptions=xe.TextDocumentRegistrationOptions=xe.StaticRegistrationOptions=xe.PositionEncodingKind=xe.FailureHandlingKind=xe.ResourceOperationKind=xe.UnregistrationRequest=xe.RegistrationRequest=xe.DocumentSelector=xe.NotebookCellTextDocumentFilter=xe.NotebookDocumentFilter=xe.TextDocumentFilter=void 0;xe.MonikerRequest=xe.MonikerKind=xe.UniquenessLevel=xe.WillDeleteFilesRequest=xe.DidDeleteFilesNotification=xe.WillRenameFilesRequest=xe.DidRenameFilesNotification=xe.WillCreateFilesRequest=xe.DidCreateFilesNotification=xe.FileOperationPatternKind=xe.LinkedEditingRangeRequest=xe.ShowDocumentRequest=xe.SemanticTokensRegistrationType=xe.SemanticTokensRefreshRequest=xe.SemanticTokensRangeRequest=xe.SemanticTokensDeltaRequest=xe.SemanticTokensRequest=xe.TokenFormat=xe.CallHierarchyPrepareRequest=xe.CallHierarchyOutgoingCallsRequest=xe.CallHierarchyIncomingCallsRequest=xe.WorkDoneProgressCancelNotification=xe.WorkDoneProgressCreateRequest=xe.WorkDoneProgress=xe.SelectionRangeRequest=xe.DeclarationRequest=xe.FoldingRangeRefreshRequest=xe.FoldingRangeRequest=xe.ColorPresentationRequest=xe.DocumentColorRequest=xe.ConfigurationRequest=xe.DidChangeWorkspaceFoldersNotification=xe.WorkspaceFoldersRequest=xe.TypeDefinitionRequest=xe.ImplementationRequest=xe.ApplyWorkspaceEditRequest=xe.ExecuteCommandRequest=xe.PrepareRenameRequest=xe.RenameRequest=xe.PrepareSupportDefaultBehavior=xe.DocumentOnTypeFormattingRequest=xe.DocumentRangesFormattingRequest=xe.DocumentRangeFormattingRequest=xe.DocumentFormattingRequest=xe.DocumentLinkResolveRequest=xe.DocumentLinkRequest=xe.CodeLensRefreshRequest=xe.CodeLensResolveRequest=xe.CodeLensRequest=xe.WorkspaceSymbolResolveRequest=void 0;xe.InlineCompletionRequest=xe.DidCloseNotebookDocumentNotification=xe.DidSaveNotebookDocumentNotification=xe.DidChangeNotebookDocumentNotification=xe.NotebookCellArrayChange=xe.DidOpenNotebookDocumentNotification=xe.NotebookDocumentSyncRegistrationType=xe.NotebookDocument=xe.NotebookCell=xe.ExecutionSummary=xe.NotebookCellKind=xe.DiagnosticRefreshRequest=xe.WorkspaceDiagnosticRequest=xe.DocumentDiagnosticRequest=xe.DocumentDiagnosticReportKind=xe.DiagnosticServerCancellationData=xe.InlayHintRefreshRequest=xe.InlayHintResolveRequest=xe.InlayHintRequest=xe.InlineValueRefreshRequest=xe.InlineValueRequest=xe.TypeHierarchySupertypesRequest=xe.TypeHierarchySubtypesRequest=xe.TypeHierarchyPrepareRequest=void 0;var Yt=ps(),Nge=lD(),sl=cD(),UYe=ope();Object.defineProperty(xe,"ImplementationRequest",{enumerable:!0,get:o(function(){return UYe.ImplementationRequest},"get")});var qYe=lpe();Object.defineProperty(xe,"TypeDefinitionRequest",{enumerable:!0,get:o(function(){return qYe.TypeDefinitionRequest},"get")});var G1e=fpe();Object.defineProperty(xe,"WorkspaceFoldersRequest",{enumerable:!0,get:o(function(){return G1e.WorkspaceFoldersRequest},"get")});Object.defineProperty(xe,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:o(function(){return G1e.DidChangeWorkspaceFoldersNotification},"get")});var GYe=hpe();Object.defineProperty(xe,"ConfigurationRequest",{enumerable:!0,get:o(function(){return GYe.ConfigurationRequest},"get")});var W1e=Ape();Object.defineProperty(xe,"DocumentColorRequest",{enumerable:!0,get:o(function(){return W1e.DocumentColorRequest},"get")});Object.defineProperty(xe,"ColorPresentationRequest",{enumerable:!0,get:o(function(){return W1e.ColorPresentationRequest},"get")});var H1e=Epe();Object.defineProperty(xe,"FoldingRangeRequest",{enumerable:!0,get:o(function(){return H1e.FoldingRangeRequest},"get")});Object.defineProperty(xe,"FoldingRangeRefreshRequest",{enumerable:!0,get:o(function(){return H1e.FoldingRangeRefreshRequest},"get")});var WYe=bpe();Object.defineProperty(xe,"DeclarationRequest",{enumerable:!0,get:o(function(){return WYe.DeclarationRequest},"get")});var HYe=wpe();Object.defineProperty(xe,"SelectionRangeRequest",{enumerable:!0,get:o(function(){return HYe.SelectionRangeRequest},"get")});var qz=kpe();Object.defineProperty(xe,"WorkDoneProgress",{enumerable:!0,get:o(function(){return qz.WorkDoneProgress},"get")});Object.defineProperty(xe,"WorkDoneProgressCreateRequest",{enumerable:!0,get:o(function(){return qz.WorkDoneProgressCreateRequest},"get")});Object.defineProperty(xe,"WorkDoneProgressCancelNotification",{enumerable:!0,get:o(function(){return qz.WorkDoneProgressCancelNotification},"get")});var Gz=Npe();Object.defineProperty(xe,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:o(function(){return Gz.CallHierarchyIncomingCallsRequest},"get")});Object.defineProperty(xe,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:o(function(){return Gz.CallHierarchyOutgoingCallsRequest},"get")});Object.defineProperty(xe,"CallHierarchyPrepareRequest",{enumerable:!0,get:o(function(){return Gz.CallHierarchyPrepareRequest},"get")});var kv=Upe();Object.defineProperty(xe,"TokenFormat",{enumerable:!0,get:o(function(){return kv.TokenFormat},"get")});Object.defineProperty(xe,"SemanticTokensRequest",{enumerable:!0,get:o(function(){return kv.SemanticTokensRequest},"get")});Object.defineProperty(xe,"SemanticTokensDeltaRequest",{enumerable:!0,get:o(function(){return kv.SemanticTokensDeltaRequest},"get")});Object.defineProperty(xe,"SemanticTokensRangeRequest",{enumerable:!0,get:o(function(){return kv.SemanticTokensRangeRequest},"get")});Object.defineProperty(xe,"SemanticTokensRefreshRequest",{enumerable:!0,get:o(function(){return kv.SemanticTokensRefreshRequest},"get")});Object.defineProperty(xe,"SemanticTokensRegistrationType",{enumerable:!0,get:o(function(){return kv.SemanticTokensRegistrationType},"get")});var VYe=Wpe();Object.defineProperty(xe,"ShowDocumentRequest",{enumerable:!0,get:o(function(){return VYe.ShowDocumentRequest},"get")});var jYe=jpe();Object.defineProperty(xe,"LinkedEditingRangeRequest",{enumerable:!0,get:o(function(){return jYe.LinkedEditingRangeRequest},"get")});var iC=ege();Object.defineProperty(xe,"FileOperationPatternKind",{enumerable:!0,get:o(function(){return iC.FileOperationPatternKind},"get")});Object.defineProperty(xe,"DidCreateFilesNotification",{enumerable:!0,get:o(function(){return iC.DidCreateFilesNotification},"get")});Object.defineProperty(xe,"WillCreateFilesRequest",{enumerable:!0,get:o(function(){return iC.WillCreateFilesRequest},"get")});Object.defineProperty(xe,"DidRenameFilesNotification",{enumerable:!0,get:o(function(){return iC.DidRenameFilesNotification},"get")});Object.defineProperty(xe,"WillRenameFilesRequest",{enumerable:!0,get:o(function(){return iC.WillRenameFilesRequest},"get")});Object.defineProperty(xe,"DidDeleteFilesNotification",{enumerable:!0,get:o(function(){return iC.DidDeleteFilesNotification},"get")});Object.defineProperty(xe,"WillDeleteFilesRequest",{enumerable:!0,get:o(function(){return iC.WillDeleteFilesRequest},"get")});var Wz=oge();Object.defineProperty(xe,"UniquenessLevel",{enumerable:!0,get:o(function(){return Wz.UniquenessLevel},"get")});Object.defineProperty(xe,"MonikerKind",{enumerable:!0,get:o(function(){return Wz.MonikerKind},"get")});Object.defineProperty(xe,"MonikerRequest",{enumerable:!0,get:o(function(){return Wz.MonikerRequest},"get")});var Hz=cge();Object.defineProperty(xe,"TypeHierarchyPrepareRequest",{enumerable:!0,get:o(function(){return Hz.TypeHierarchyPrepareRequest},"get")});Object.defineProperty(xe,"TypeHierarchySubtypesRequest",{enumerable:!0,get:o(function(){return Hz.TypeHierarchySubtypesRequest},"get")});Object.defineProperty(xe,"TypeHierarchySupertypesRequest",{enumerable:!0,get:o(function(){return Hz.TypeHierarchySupertypesRequest},"get")});var V1e=dge();Object.defineProperty(xe,"InlineValueRequest",{enumerable:!0,get:o(function(){return V1e.InlineValueRequest},"get")});Object.defineProperty(xe,"InlineValueRefreshRequest",{enumerable:!0,get:o(function(){return V1e.InlineValueRefreshRequest},"get")});var Vz=gge();Object.defineProperty(xe,"InlayHintRequest",{enumerable:!0,get:o(function(){return Vz.InlayHintRequest},"get")});Object.defineProperty(xe,"InlayHintResolveRequest",{enumerable:!0,get:o(function(){return Vz.InlayHintResolveRequest},"get")});Object.defineProperty(xe,"InlayHintRefreshRequest",{enumerable:!0,get:o(function(){return Vz.InlayHintRefreshRequest},"get")});var E7=bge();Object.defineProperty(xe,"DiagnosticServerCancellationData",{enumerable:!0,get:o(function(){return E7.DiagnosticServerCancellationData},"get")});Object.defineProperty(xe,"DocumentDiagnosticReportKind",{enumerable:!0,get:o(function(){return E7.DocumentDiagnosticReportKind},"get")});Object.defineProperty(xe,"DocumentDiagnosticRequest",{enumerable:!0,get:o(function(){return E7.DocumentDiagnosticRequest},"get")});Object.defineProperty(xe,"WorkspaceDiagnosticRequest",{enumerable:!0,get:o(function(){return E7.WorkspaceDiagnosticRequest},"get")});Object.defineProperty(xe,"DiagnosticRefreshRequest",{enumerable:!0,get:o(function(){return E7.DiagnosticRefreshRequest},"get")});var Hh=kge();Object.defineProperty(xe,"NotebookCellKind",{enumerable:!0,get:o(function(){return Hh.NotebookCellKind},"get")});Object.defineProperty(xe,"ExecutionSummary",{enumerable:!0,get:o(function(){return Hh.ExecutionSummary},"get")});Object.defineProperty(xe,"NotebookCell",{enumerable:!0,get:o(function(){return Hh.NotebookCell},"get")});Object.defineProperty(xe,"NotebookDocument",{enumerable:!0,get:o(function(){return Hh.NotebookDocument},"get")});Object.defineProperty(xe,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:o(function(){return Hh.NotebookDocumentSyncRegistrationType},"get")});Object.defineProperty(xe,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:o(function(){return Hh.DidOpenNotebookDocumentNotification},"get")});Object.defineProperty(xe,"NotebookCellArrayChange",{enumerable:!0,get:o(function(){return Hh.NotebookCellArrayChange},"get")});Object.defineProperty(xe,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:o(function(){return Hh.DidChangeNotebookDocumentNotification},"get")});Object.defineProperty(xe,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:o(function(){return Hh.DidSaveNotebookDocumentNotification},"get")});Object.defineProperty(xe,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:o(function(){return Hh.DidCloseNotebookDocumentNotification},"get")});var $Ye=Pge();Object.defineProperty(xe,"InlineCompletionRequest",{enumerable:!0,get:o(function(){return $Ye.InlineCompletionRequest},"get")});var Qz;(function(e){function t(r){let n=r;return sl.string(n)||sl.string(n.language)||sl.string(n.scheme)||sl.string(n.pattern)}o(t,"is"),e.is=t})(Qz||(xe.TextDocumentFilter=Qz={}));var Mz;(function(e){function t(r){let n=r;return sl.objectLiteral(n)&&(sl.string(n.notebookType)||sl.string(n.scheme)||sl.string(n.pattern))}o(t,"is"),e.is=t})(Mz||(xe.NotebookDocumentFilter=Mz={}));var Oz;(function(e){function t(r){let n=r;return sl.objectLiteral(n)&&(sl.string(n.notebook)||Mz.is(n.notebook))&&(n.language===void 0||sl.string(n.language))}o(t,"is"),e.is=t})(Oz||(xe.NotebookCellTextDocumentFilter=Oz={}));var Uz;(function(e){function t(r){if(!Array.isArray(r))return!1;for(let n of r)if(!sl.string(n)&&!Qz.is(n)&&!Oz.is(n))return!1;return!0}o(t,"is"),e.is=t})(Uz||(xe.DocumentSelector=Uz={}));var Fge;(function(e){e.method="client/registerCapability",e.messageDirection=Yt.MessageDirection.serverToClient,e.type=new Yt.ProtocolRequestType(e.method)})(Fge||(xe.RegistrationRequest=Fge={}));var Lge;(function(e){e.method="client/unregisterCapability",e.messageDirection=Yt.MessageDirection.serverToClient,e.type=new Yt.ProtocolRequestType(e.method)})(Lge||(xe.UnregistrationRequest=Lge={}));var Qge;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(Qge||(xe.ResourceOperationKind=Qge={}));var Mge;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(Mge||(xe.FailureHandlingKind=Mge={}));var Oge;(function(e){e.UTF8="utf-8",e.UTF16="utf-16",e.UTF32="utf-32"})(Oge||(xe.PositionEncodingKind=Oge={}));var Uge;(function(e){function t(r){let n=r;return n&&sl.string(n.id)&&n.id.length>0}o(t,"hasId"),e.hasId=t})(Uge||(xe.StaticRegistrationOptions=Uge={}));var qge;(function(e){function t(r){let n=r;return n&&(n.documentSelector===null||Uz.is(n.documentSelector))}o(t,"is"),e.is=t})(qge||(xe.TextDocumentRegistrationOptions=qge={}));var Gge;(function(e){function t(n){let i=n;return sl.objectLiteral(i)&&(i.workDoneProgress===void 0||sl.boolean(i.workDoneProgress))}o(t,"is"),e.is=t;function r(n){let i=n;return i&&sl.boolean(i.workDoneProgress)}o(r,"hasWorkDoneProgress"),e.hasWorkDoneProgress=r})(Gge||(xe.WorkDoneProgressOptions=Gge={}));var Wge;(function(e){e.method="initialize",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(Wge||(xe.InitializeRequest=Wge={}));var Hge;(function(e){e.unknownProtocolVersion=1})(Hge||(xe.InitializeErrorCodes=Hge={}));var Vge;(function(e){e.method="initialized",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolNotificationType(e.method)})(Vge||(xe.InitializedNotification=Vge={}));var jge;(function(e){e.method="shutdown",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType0(e.method)})(jge||(xe.ShutdownRequest=jge={}));var $ge;(function(e){e.method="exit",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolNotificationType0(e.method)})($ge||(xe.ExitNotification=$ge={}));var zge;(function(e){e.method="workspace/didChangeConfiguration",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolNotificationType(e.method)})(zge||(xe.DidChangeConfigurationNotification=zge={}));var Yge;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4,e.Debug=5})(Yge||(xe.MessageType=Yge={}));var Kge;(function(e){e.method="window/showMessage",e.messageDirection=Yt.MessageDirection.serverToClient,e.type=new Yt.ProtocolNotificationType(e.method)})(Kge||(xe.ShowMessageNotification=Kge={}));var Jge;(function(e){e.method="window/showMessageRequest",e.messageDirection=Yt.MessageDirection.serverToClient,e.type=new Yt.ProtocolRequestType(e.method)})(Jge||(xe.ShowMessageRequest=Jge={}));var Xge;(function(e){e.method="window/logMessage",e.messageDirection=Yt.MessageDirection.serverToClient,e.type=new Yt.ProtocolNotificationType(e.method)})(Xge||(xe.LogMessageNotification=Xge={}));var Zge;(function(e){e.method="telemetry/event",e.messageDirection=Yt.MessageDirection.serverToClient,e.type=new Yt.ProtocolNotificationType(e.method)})(Zge||(xe.TelemetryEventNotification=Zge={}));var e1e;(function(e){e.None=0,e.Full=1,e.Incremental=2})(e1e||(xe.TextDocumentSyncKind=e1e={}));var t1e;(function(e){e.method="textDocument/didOpen",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolNotificationType(e.method)})(t1e||(xe.DidOpenTextDocumentNotification=t1e={}));var r1e;(function(e){function t(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}o(t,"isIncremental"),e.isIncremental=t;function r(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}o(r,"isFull"),e.isFull=r})(r1e||(xe.TextDocumentContentChangeEvent=r1e={}));var n1e;(function(e){e.method="textDocument/didChange",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolNotificationType(e.method)})(n1e||(xe.DidChangeTextDocumentNotification=n1e={}));var i1e;(function(e){e.method="textDocument/didClose",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolNotificationType(e.method)})(i1e||(xe.DidCloseTextDocumentNotification=i1e={}));var o1e;(function(e){e.method="textDocument/didSave",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolNotificationType(e.method)})(o1e||(xe.DidSaveTextDocumentNotification=o1e={}));var s1e;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(s1e||(xe.TextDocumentSaveReason=s1e={}));var a1e;(function(e){e.method="textDocument/willSave",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolNotificationType(e.method)})(a1e||(xe.WillSaveTextDocumentNotification=a1e={}));var l1e;(function(e){e.method="textDocument/willSaveWaitUntil",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(l1e||(xe.WillSaveTextDocumentWaitUntilRequest=l1e={}));var c1e;(function(e){e.method="workspace/didChangeWatchedFiles",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolNotificationType(e.method)})(c1e||(xe.DidChangeWatchedFilesNotification=c1e={}));var u1e;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(u1e||(xe.FileChangeType=u1e={}));var f1e;(function(e){function t(r){let n=r;return sl.objectLiteral(n)&&(Nge.URI.is(n.baseUri)||Nge.WorkspaceFolder.is(n.baseUri))&&sl.string(n.pattern)}o(t,"is"),e.is=t})(f1e||(xe.RelativePattern=f1e={}));var d1e;(function(e){e.Create=1,e.Change=2,e.Delete=4})(d1e||(xe.WatchKind=d1e={}));var m1e;(function(e){e.method="textDocument/publishDiagnostics",e.messageDirection=Yt.MessageDirection.serverToClient,e.type=new Yt.ProtocolNotificationType(e.method)})(m1e||(xe.PublishDiagnosticsNotification=m1e={}));var h1e;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(h1e||(xe.CompletionTriggerKind=h1e={}));var p1e;(function(e){e.method="textDocument/completion",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(p1e||(xe.CompletionRequest=p1e={}));var g1e;(function(e){e.method="completionItem/resolve",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(g1e||(xe.CompletionResolveRequest=g1e={}));var A1e;(function(e){e.method="textDocument/hover",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(A1e||(xe.HoverRequest=A1e={}));var y1e;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(y1e||(xe.SignatureHelpTriggerKind=y1e={}));var C1e;(function(e){e.method="textDocument/signatureHelp",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(C1e||(xe.SignatureHelpRequest=C1e={}));var E1e;(function(e){e.method="textDocument/definition",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(E1e||(xe.DefinitionRequest=E1e={}));var x1e;(function(e){e.method="textDocument/references",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(x1e||(xe.ReferencesRequest=x1e={}));var v1e;(function(e){e.method="textDocument/documentHighlight",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(v1e||(xe.DocumentHighlightRequest=v1e={}));var b1e;(function(e){e.method="textDocument/documentSymbol",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(b1e||(xe.DocumentSymbolRequest=b1e={}));var I1e;(function(e){e.method="textDocument/codeAction",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(I1e||(xe.CodeActionRequest=I1e={}));var T1e;(function(e){e.method="codeAction/resolve",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(T1e||(xe.CodeActionResolveRequest=T1e={}));var w1e;(function(e){e.method="workspace/symbol",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(w1e||(xe.WorkspaceSymbolRequest=w1e={}));var _1e;(function(e){e.method="workspaceSymbol/resolve",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(_1e||(xe.WorkspaceSymbolResolveRequest=_1e={}));var S1e;(function(e){e.method="textDocument/codeLens",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(S1e||(xe.CodeLensRequest=S1e={}));var B1e;(function(e){e.method="codeLens/resolve",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(B1e||(xe.CodeLensResolveRequest=B1e={}));var k1e;(function(e){e.method="workspace/codeLens/refresh",e.messageDirection=Yt.MessageDirection.serverToClient,e.type=new Yt.ProtocolRequestType0(e.method)})(k1e||(xe.CodeLensRefreshRequest=k1e={}));var R1e;(function(e){e.method="textDocument/documentLink",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(R1e||(xe.DocumentLinkRequest=R1e={}));var D1e;(function(e){e.method="documentLink/resolve",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(D1e||(xe.DocumentLinkResolveRequest=D1e={}));var P1e;(function(e){e.method="textDocument/formatting",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(P1e||(xe.DocumentFormattingRequest=P1e={}));var N1e;(function(e){e.method="textDocument/rangeFormatting",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(N1e||(xe.DocumentRangeFormattingRequest=N1e={}));var F1e;(function(e){e.method="textDocument/rangesFormatting",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(F1e||(xe.DocumentRangesFormattingRequest=F1e={}));var L1e;(function(e){e.method="textDocument/onTypeFormatting",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(L1e||(xe.DocumentOnTypeFormattingRequest=L1e={}));var Q1e;(function(e){e.Identifier=1})(Q1e||(xe.PrepareSupportDefaultBehavior=Q1e={}));var M1e;(function(e){e.method="textDocument/rename",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(M1e||(xe.RenameRequest=M1e={}));var O1e;(function(e){e.method="textDocument/prepareRename",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(O1e||(xe.PrepareRenameRequest=O1e={}));var U1e;(function(e){e.method="workspace/executeCommand",e.messageDirection=Yt.MessageDirection.clientToServer,e.type=new Yt.ProtocolRequestType(e.method)})(U1e||(xe.ExecuteCommandRequest=U1e={}));var q1e;(function(e){e.method="workspace/applyEdit",e.messageDirection=Yt.MessageDirection.serverToClient,e.type=new Yt.ProtocolRequestType("workspace/applyEdit")})(q1e||(xe.ApplyWorkspaceEditRequest=q1e={}))});var z1e=V(ID=>{"use strict";d();Object.defineProperty(ID,"__esModule",{value:!0});ID.createProtocolConnection=void 0;var $1e=nC();function zYe(e,t,r,n){return $1e.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,$1e.createMessageConnection)(e,t,r,n)}o(zYe,"createProtocolConnection");ID.createProtocolConnection=zYe});var K1e=V(Ec=>{"use strict";d();var YYe=Ec&&Ec.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),TD=Ec&&Ec.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&YYe(t,e,r)};Object.defineProperty(Ec,"__esModule",{value:!0});Ec.LSPErrorCodes=Ec.createProtocolConnection=void 0;TD(nC(),Ec);TD(lD(),Ec);TD(ps(),Ec);TD(j1e(),Ec);var KYe=z1e();Object.defineProperty(Ec,"createProtocolConnection",{enumerable:!0,get:o(function(){return KYe.createProtocolConnection},"get")});var Y1e;(function(e){e.lspReservedErrorRangeStart=-32899,e.RequestFailed=-32803,e.ServerCancelled=-32802,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800})(Y1e||(Ec.LSPErrorCodes=Y1e={}))});var Ii=V(Vh=>{"use strict";d();var JYe=Vh&&Vh.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),J1e=Vh&&Vh.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&JYe(t,e,r)};Object.defineProperty(Vh,"__esModule",{value:!0});Vh.createProtocolConnection=void 0;var XYe=Bz();J1e(Bz(),Vh);J1e(K1e(),Vh);function ZYe(e,t,r,n){return(0,XYe.createMessageConnection)(e,t,r,n)}o(ZYe,"createProtocolConnection");Vh.createProtocolConnection=ZYe});var _Ae=V((UD,wAe)=>{d();(function(e,t){typeof UD=="object"&&typeof wAe<"u"?t(UD):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(UD,function(e){"use strict";function t(w,B){return w||B}o(t,"_pureAssign");function r(w,B){return w[B]}o(r,"_pureRef");var n=void 0,i=null,s="",a="function",l="object",c="prototype",u="__proto__",f="undefined",m="constructor",h="Symbol",p="_polyfill",A="length",E="name",x="call",b="toString",v=t(Object),S=r(v,c),k=t(String),P=r(k,c),N=t(Math),W=t(Array),re=r(W,c),ge=r(re,"slice");function te(w,B){try{return{v:w.apply(this,B)}}catch(R){return{e:R}}}o(te,"safe");function G(w){return function(B){return typeof B===w}}o(G,"_createIs");function q(w){var B="[object "+w+"]";return function(R){return!!(R&&se(R)===B)}}o(q,"_createObjIs");function se(w){return S[b].call(w)}o(se,"objToString");function ne(w){return typeof w===f||w===f}o(ne,"isUndefined");function H(w){return!j(w)}o(H,"isStrictUndefined");function O(w){return w===i||ne(w)}o(O,"isNullOrUndefined");function j(w){return!!w||w!==n}o(j,"isDefined");var J=G("string"),le=G(a);function Z(w){return!w&&O(w)?!1:!!w&&typeof w===l}o(Z,"isObject");var ae=r(W,"isArray"),ce=q("Error"),Re=r(v,"getOwnPropertyDescriptor");function be(w,B){return!!w&&S.hasOwnProperty[x](w,B)}o(be,"objHasOwnProperty");var Ue=t(r(v,"hasOwn"),Be);function Be(w,B){return be(w,B)||!!Re(w,B)}o(Be,"polyObjHasOwn");function Je(w,B,R){if(w&&Z(w)){for(var Q in w)if(Ue(w,Q)&&B[x](R||w,Q,w[Q])===-1)break}}o(Je,"objForEachKey");var ut={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function it(w){var B={};if(B[ut.c]=!0,B[ut.e]=!0,w.l){B.get=function(){return w.l.v};var R=Re(w.l,"v");R&&R.set&&(B.set=function(Q){w.l.v=Q})}return Je(w,function(Q,ue){B[ut[Q]]=H(ue)?B[ut[Q]]:ue}),B}o(it,"_createProp");var ot=r(v,"defineProperty");function ie(w,B,R){return ot(w,B,it(R))}o(ie,"objDefine");function Pe(w,B,R,Q,ue){var Te={};return Je(w,function(ke,He){Ae(Te,ke,B?He:ke),Ae(Te,He,R?He:ke)}),Q?Q(Te):Te}o(Pe,"_createKeyValueMap");function Ae(w,B,R,Q){ot(w,B,{value:R,enumerable:!0,writable:!1})}o(Ae,"_assignMapValue");var Ge=t(k),z="[object Error]";function ee(w,B){var R=s,Q=S[b][x](w);Q===z&&(w={stack:Ge(w.stack),message:Ge(w.message),name:Ge(w.name)});try{R=JSON.stringify(w,i,B?typeof B=="number"?B:4:n),R=(R?R.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):i)||Ge(w)}catch(ue){R=" - "+ee(ue,B)}return Q+": "+R}o(ee,"dumpObj");function Fe(w){throw new Error(w)}o(Fe,"throwError");function _e(w){throw new TypeError(w)}o(_e,"throwTypeError");var Ce=r(v,"freeze");function Oe(w){return w}o(Oe,"_doNothing");function Ve(w){return w[u]||i}o(Ve,"_getProto");var Ze=r(v,"assign"),yt=r(v,"keys"),Rt=t(Ce,Oe),At=t(r(v,"getPrototypeOf"),Ve);function Ht(w){return Pe(w,1,0,Rt)}o(Ht,"createEnum");function jt(w){var B={};return Je(w,function(R,Q){Ae(B,R,Q[1]),Ae(B,Q[0],Q[1])}),Rt(B)}o(jt,"createSimpleMap");function ir(w){return jt(w)}o(ir,"createTypeMap");var pe="__tsUtils$gblCfg",Le;function Ke(){var w;return typeof globalThis!==f&&(w=globalThis),!w&&typeof self!==f&&(w=self),!w&&typeof window!==f&&(w=window),!w&&typeof global!==f&&(w=global),w}o(Ke,"_getGlobalValue");function et(){if(!Le){var w=te(Ke).v||{};Le=w[pe]=w[pe]||{}}return Le}o(et,"_getGlobalConfig");var _t=xt;function xt(w,B,R){var Q=B?B[w]:i;return function(ue){var Te=(ue?ue[w]:i)||Q;if(Te||R){var ke=arguments;return(Te||R).apply(ue,Te?ge[x](ke,1):ke)}_e('"'+Ge(w)+'" not defined for '+ee(ue))}}o(xt,"_unwrapFunctionWithPoly");var Ft=r(N,"min"),Qt=r(N,"max"),Tt=_t("slice",P),St=_t("substring",P),wt=xt("substr",P,Ot);function Ot(w,B,R){return O(w)&&_e("Invalid "+ee(w)),R<0?s:(B=B||0,B<0&&(B=Qt(B+w[A],0)),ne(R)?Tt(w,B):Tt(w,B,B+R))}o(Ot,"polyStrSubstr");function Gt(w,B){return St(w,0,B)}o(Gt,"strLeft");var $t="_urid",lr;function hr(){if(!lr){var w=et();lr=w.gblSym=w.gblSym||{k:{},s:{}}}return lr}o(hr,"_globalSymbolRegistry");function sr(w){var B={description:Ge(w),toString:o(function(){return h+"("+w+")"},"toString")};return B[p]=!0,B}o(sr,"polyNewSymbol");function cr(w){var B=hr();if(!Ue(B.k,w)){var R=sr(w),Q=yt(B.s).length;R[$t]=function(){return Q+"_"+R[b]()},B.k[w]=R,B.s[R[$t]()]=Ge(w)}return B.k[w]}o(cr,"polySymbolFor");var Jt;function ur(){Jt=et()}o(ur,"_initTestHooks");function ve(w){return ot({toJSON:o(function(){return w},"toJSON")},"v",{value:w})}o(ve,"createCachedValue");var M="window",de;function ye(w,B){var R;return function(){return!Jt&&ur(),(!R||Jt.lzy)&&(R=ve(te(w,B).v)),R.v}}o(ye,"_getGlobalInstFn");function Y(w){return!Jt&&ur(),(!de||w===!1||Jt.lzy)&&(de=ve(te(Ke).v||i)),de.v}o(Y,"getGlobal");function L(w,B){var R;if(!de||B===!1?R=Y(B):R=de.v,R&&R[w])return R[w];if(w===M)try{return window}catch{}return i}o(L,"getInst");var Ie=ye(L,["document"]);function Me(){return!!Ct()}o(Me,"hasWindow");var Ct=ye(L,[M]);function Ut(){return!!Pt()}o(Ut,"hasNavigator");var Pt=ye(L,["navigator"]),tr,or;function Mt(){return tr=ve(te(L,[h]).v),tr}o(Mt,"_initSymbol");function bt(w){var B=(Jt.lzy?0:tr)||Mt();return B.v?B.v[w]:n}o(bt,"_getSymbolKey");function ar(w,B){!Jt&&ur();var R=(Jt.lzy?0:tr)||Mt();return R.v?R.v(w):B?i:sr(w)}o(ar,"newSymbol");function Ro(w){return!Jt&&ur(),or=(Jt.lzy?0:or)||ve(te(bt,["for"]).v),(or.v||cr)(w)}o(Ro,"symbolFor");function kd(w,B,R){return w.apply(B,R)}o(kd,"fnApply");function Xa(w,B,R){if(w)for(var Q=w[A]>>>0,ue=0;ue<Q&&!(ue in w&&B[x](R||w,w[ue],ue,w)===-1);ue++);}o(Xa,"arrForEach");var Rd=_t("indexOf",re),nf=_t("map",re),Ns=_t("reduce",re),nh=t(r(v,"create"),oA);function oA(w){if(!w)return{};var B=typeof w;B!==l&&B!==a&&_e("Prototype must be an Object or function: "+ee(w));function R(){}return o(R,"tempFunc"),R[c]=w,new R}o(oA,"polyObjCreate");var c6;function Dd(w,B){var R=v.setPrototypeOf||function(Q,ue){var Te;!c6&&(c6=ve((Te={},Te[u]=[],Te instanceof Array))),c6.v?Q[u]=ue:Je(ue,function(ke,He){return Q[ke]=He})};return R(w,B)}o(Dd,"objSetPrototypeOf");function zW(w,B,R){te(ie,[B,E,{v:w,c:!0,e:!1}]),B=Dd(B,R);function Q(){this[m]=B,te(ie,[this,E,{v:w,c:!0,e:!1}])}return o(Q,"__"),B[c]=R===i?nh(R):(Q[c]=R[c],new Q),B}o(zW,"_createCustomError");function ih(w,B){B&&(w[E]=B)}o(ih,"_setName");function YW(w,B,R){var Q=R||Error,ue=Q[c][E],Te=Error.captureStackTrace;return zW(w,function(){var ke=this,He=arguments;try{te(ih,[Q,w]);var rt=kd(Q,ke,ge[x](He))||ke;if(rt!==ke){var Et=At(ke);Et!==At(rt)&&Dd(rt,Et)}return Te&&Te(rt,ke[m]),B&&B(rt,He),rt}finally{te(ih,[Q,ue])}},Q)}o(YW,"createCustomError");function tg(){return(Date.now||u6)()}o(tg,"utcNow");function u6(){return new Date().getTime()}o(u6,"polyUtcNow");function dE(w){return o(function(R){return O(R)&&_e("strTrim called ["+ee(R)+"]"),R&&R.replace&&(R=R.replace(w,s)),R},"_doTrim")}o(dE,"_createTrimFn");var KW=dE(/^\s+|(?=\s)\s+$/g),Jl=xt("trim",P,KW),oh=r(N,"floor"),Fy,rg,Ly;function sh(w){if(!w||typeof w!==l)return!1;Ly||(Ly=Me()?Ct():!0);var B=!1;if(w!==Ly){rg||(Fy=Function[c][b],rg=Fy[x](v));try{var R=At(w);B=!R,B||(be(R,m)&&(R=R[m]),B=!!(R&&typeof R===a&&Fy[x](R)===rg))}catch{}}return B}o(sh,"isPlainObject");var mE;function Qy(){return!Jt&&ur(),(!mE||Jt.lzy)&&(mE=ve(te(L,["performance"]).v)),mE.v}o(Qy,"getPerformance");var f6=r(N,"round"),sA=xt("endsWith",P,aA);function aA(w,B,R){J(w)||_e("'"+ee(w)+"' is not a string");var Q=J(B)?B:Ge(B),ue=!ne(R)&&R<w[A]?R:w[A];return St(w,ue-Q[A],ue)===Q}o(aA,"polyStrEndsWith");var Hr=_t("indexOf",P),b0="ref",ng="unref",lA="hasRef",JW="enabled";function ah(w,B,R){var Q=!0,ue=w?B(i):i,Te;function ke(){return Q=!1,ue&&ue[ng]&&ue[ng](),Te}o(ke,"_unref");function He(){ue&&R(ue),ue=i}o(He,"_cancel");function rt(){return ue=B(ue),Q||ke(),Te}o(rt,"_refresh");function Et(yr){!yr&&ue&&He(),yr&&!ue&&rt()}return o(Et,"_setEnabled"),Te={cancel:He,refresh:rt},Te[lA]=function(){return ue&&ue[lA]?ue[lA]():Q},Te[b0]=function(){return Q=!0,ue&&ue[b0]&&ue[b0](),Te},Te[ng]=ke,Te=ot(Te,JW,{get:o(function(){return!!ue},"get"),set:Et}),{h:Te,dn:o(function(){ue=i},"dn")}}o(ah,"_createTimerHandler");function XW(w,B,R){var Q=ae(B),ue=Q?B.length:0,Te=(ue>0?B[0]:Q?n:B)||setTimeout,ke=(ue>1?B[1]:n)||clearTimeout,He=R[0];R[0]=function(){rt.dn(),kd(He,n,ge[x](arguments))};var rt=ah(w,function(Et){if(Et){if(Et.refresh)return Et.refresh(),Et;kd(ke,n,[Et])}return kd(Te,n,R)},function(Et){kd(ke,n,[Et])});return rt.h}o(XW,"_createTimeoutWith");function d6(w,B){return XW(!0,n,ge[x](arguments))}o(d6,"scheduleTimeout");var My=Ht,ZW=ir,Oy="toLowerCase",da="length",lh="warnToConsole",Uy="throwInternal",ES="watch",eH="apply",Di="push",ig="splice",ch="logger",m6="cancel",qy="name",I0="unload",xS="version",vS="loggingLevelConsole",h6="messageId",og="message",p6="diagLog",bS="userAgent",g6="split",cA="replace",uh="type",IS="evtName",hE="traceFlags",A6="getAttribute",pE;function tH(w,B){pE||(pE=YW("AggregationError",function(Q,ue){ue[da]>1&&(Q.errors=ue[1])}));var R=w||"One or more errors occurred.";throw Xa(B,function(Q,ue){R+=`
`.concat(ue," > ").concat(ee(Q))}),new pE(R,B||[])}o(tH,"throwAggregationError");var rH="function",TS="object",nH="undefined",Pd="prototype",gE=Object,y6=gE[Pd];(Y()||{}).Symbol,(Y()||{}).Reflect;var AE="hasOwnProperty",iH=o(function(w){for(var B,R=1,Q=arguments.length;R<Q;R++){B=arguments[R];for(var ue in B)y6[AE].call(B,ue)&&(w[ue]=B[ue])}return w},"__objAssignFnImpl"),yE=Ze||iH,CE=o(function(w,B){return CE=gE.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,Q){R.__proto__=Q}||function(R,Q){for(var ue in Q)Q[AE](ue)&&(R[ue]=Q[ue])},CE(w,B)},"extendStaticsFn");function fh(w,B){typeof B!==rH&&B!==null&&_e("Class extends value "+String(B)+" is not a constructor or null"),CE(w,B);function R(){this.constructor=w}o(R,"__"),w[Pd]=B===null?nh(B):(R[Pd]=B[Pd],new R)}o(fh,"__extendsFn");var EE,sg="constructor",nc="prototype",ic="function",ag="_dynInstFuncs",uA="_isDynProxy",dh="_dynClass",fA="_dynCls$",C6="_dynInstChk",lg=C6,dA="_dfOpts",E6="_unknown_",xE="__proto__",mA="_dyn"+xE,Gy="__dynProto$Gbl",vE="_dynInstProto",hA="useBaseInst",pA="setInstFuncs",Wy=Object,cg=Wy.getPrototypeOf,gA=Wy.getOwnPropertyNames,x6=Y(),bE=x6[Gy]||(x6[Gy]={o:(EE={},EE[pA]=!0,EE[hA]=!0,EE),n:1e3});function AA(w){return w&&(w===Wy[nc]||w===Array[nc])}o(AA,"_isObjectOrArrayPrototype");function yA(w){return AA(w)||w===Function[nc]}o(yA,"_isObjectArrayOrFunctionPrototype");function Nd(w){var B;if(w){if(cg)return cg(w);var R=w[xE]||w[nc]||(w[sg]?w[sg][nc]:null);B=w[mA]||R,be(w,mA)||(delete w[vE],B=w[mA]=w[vE]||w[mA],w[vE]=R)}return B}o(Nd,"_getObjProto");function of(w,B){var R=[];if(gA)R=gA(w);else for(var Q in w)typeof Q=="string"&&be(w,Q)&&R.push(Q);if(R&&R.length>0)for(var ue=0;ue<R.length;ue++)B(R[ue])}o(of,"_forEachProp");function CA(w,B,R){return B!==sg&&typeof w[B]===ic&&(R||be(w,B))&&B!==xE&&B!==nc}o(CA,"_isDynamicCandidate");function EA(w){_e("DynamicProto: "+w)}o(EA,"_throwTypeError");function IE(w){var B=nh(null);return of(w,function(R){!B[R]&&CA(w,R,!1)&&(B[R]=w[R])}),B}o(IE,"_getInstanceFuncs");function v6(w,B){for(var R=w.length-1;R>=0;R--)if(w[R]===B)return!0;return!1}o(v6,"_hasVisited");function b6(w,B,R,Q){function ue(rt,Et,yr){var gn=Et[yr];if(gn[uA]&&Q){var Bn=rt[ag]||{};Bn[lg]!==!1&&(gn=(Bn[Et[dh]]||{})[yr]||gn)}return function(){return gn.apply(rt,arguments)}}o(ue,"_instFuncProxy");var Te=nh(null);of(R,function(rt){Te[rt]=ue(B,R,rt)});for(var ke=Nd(w),He=[];ke&&!yA(ke)&&!v6(He,ke);)of(ke,function(rt){!Te[rt]&&CA(ke,rt,!cg)&&(Te[rt]=ue(B,ke,rt))}),He.push(ke),ke=Nd(ke);return Te}o(b6,"_getBaseFuncs");function oH(w,B,R,Q){var ue=null;if(w&&be(R,dh)){var Te=w[ag]||nh(null);if(ue=(Te[R[dh]]||nh(null))[B],ue||EA("Missing ["+B+"] "+ic),!ue[C6]&&Te[lg]!==!1){for(var ke=!be(w,B),He=Nd(w),rt=[];ke&&He&&!yA(He)&&!v6(rt,He);){var Et=He[B];if(Et){ke=Et===Q;break}rt.push(He),He=Nd(He)}try{ke&&(w[B]=ue),ue[C6]=1}catch{Te[lg]=!1}}}return ue}o(oH,"_getInstFunc");function sH(w,B,R){var Q=B[w];return Q===R&&(Q=Nd(B)[w]),typeof Q!==ic&&EA("["+w+"] is not a "+ic),Q}o(sH,"_getProtoFunc");function aH(w,B,R,Q,ue){function Te(rt,Et){var yr=o(function(){var gn=oH(this,Et,rt,yr)||sH(Et,rt,yr);return gn.apply(this,arguments)},"dynProtoProxy");return yr[uA]=1,yr}if(o(Te,"_createDynamicPrototype"),!AA(w)){var ke=R[ag]=R[ag]||nh(null);if(!AA(ke)){var He=ke[B]=ke[B]||nh(null);ke[lg]!==!1&&(ke[lg]=!!ue),AA(He)||of(R,function(rt){CA(R,rt,!1)&&R[rt]!==Q[rt]&&(He[rt]=R[rt],delete R[rt],(!be(w,rt)||w[rt]&&!w[rt][uA])&&(w[rt]=Te(w,rt)))})}}}o(aH,"_populatePrototype");function lH(w,B){if(cg){for(var R=[],Q=Nd(B);Q&&!yA(Q)&&!v6(R,Q);){if(Q===w)return!0;R.push(Q),Q=Nd(Q)}return!1}return!0}o(lH,"_checkPrototype");function I6(w,B){return be(w,nc)?w.name||B||E6:((w||{})[sg]||{}).name||B||E6}o(I6,"_getObjName");function Hy(w,B,R,Q){be(w,nc)||EA("theClass is an invalid class definition.");var ue=w[nc];lH(ue,B)||EA("["+I6(w)+"] not in hierarchy of ["+I6(B)+"]");var Te=null;be(ue,dh)?Te=ue[dh]:(Te=fA+I6(w,"_")+"$"+bE.n,bE.n++,ue[dh]=Te);var ke=Hy[dA],He=!!ke[hA];He&&Q&&Q[hA]!==void 0&&(He=!!Q[hA]);var rt=IE(B),Et=b6(ue,B,rt,He);R(B,Et);var yr=!!cg&&!!ke[pA];yr&&Q&&(yr=!!Q[pA]),aH(ue,Te,B,rt,yr!==!1)}o(Hy,"dynamicProto"),Hy[dA]=bE.o;var _l=void 0,Is="",wS="Not dynamic - ",_S=/-([a-z])/g,Vy=/([^\w\d_$])/g,T6=/^(\d+[\w\d_$])/;function w6(w){return!O(w)}o(w6,"isNotNullOrUndefined");function TE(w){var B=w;return B&&J(B)&&(B=B[cA](_S,function(R,Q){return Q.toUpperCase()}),B=B[cA](Vy,"_"),B=B[cA](T6,function(R,Q){return"_"+Q})),B}o(TE,"normalizeJsName");function SS(w,B){return w&&B?Hr(w,B)!==-1:!1}o(SS,"strContains");function Fd(w){return w&&w.toISOString()||""}o(Fd,"toISOString");function mh(w){return ce(w)?w[qy]:Is}o(mh,"getExceptionName");function jy(w){return function(){function B(){var R=this;w&&Je(w,function(Q,ue){R[Q]=ue})}return o(B,"class_1"),B}()}o(jy,"createClassFromInterface");var BS="console",wE="JSON",cH="crypto",hh="msCrypto",xA="msie",Ln="trident/",vA=null,ug=null,Ld=null;function _E(){return typeof console!==nH?console:L(BS)}o(_E,"getConsole");function Pi(){return!!(typeof JSON===TS&&JSON||L(wE)!==null)}o(Pi,"hasJSON");function bA(){return Pi()?JSON||L(wE):null}o(bA,"getJSON");function js(){return L(cH)}o(js,"getCrypto");function IA(){return L(hh)}o(IA,"getMsCrypto");function $y(){var w=Pt();if(w&&(w[bS]!==ug||vA===null)){ug=w[bS];var B=(ug||Is)[Oy]();vA=SS(B,xA)||SS(B,Ln)}return vA}o($y,"isIE");function ph(w){return(Ld===null||w===!1)&&(Ld=Ut()&&!!Pt().sendBeacon),Ld}o(ph,"isBeaconsSupported");function zy(w,B){if(w)for(var R=0;R<w[da];R++){var Q=w[R];if(Q[qy]&&Q[qy]===B)return Q}return{}}o(zy,"_getNamedValue");function SE(w){var B=Ie();return B&&w?zy(B.querySelectorAll("meta"),w).content:null}o(SE,"findMetaTag");function sf(w){var B,R=Qy();if(R){var Q=R.getEntriesByType("navigation")||[];B=zy((Q[da]>0?Q[0]:{}).serverTiming,w).description}return B}o(sf,"findNamedServerTiming");var TA=4294967296,Yc=4294967295,wA=123456789,gh=987654321,Za=!1,_A=wA,af=gh;function kS(w){w<0&&(w>>>=0),_A=wA+w&Yc,af=gh-w&Yc,Za=!0}o(kS,"_mwcSeed");function fg(){try{var w=tg()&2147483647;kS((Math.random()*TA^w)+w)}catch{}}o(fg,"_autoSeedMwc");function BE(w){return w>0?oh(SA()/Yc*(w+1))>>>0:0}o(BE,"randomValue");function SA(w){var B=0,R=js()||IA();return R&&R.getRandomValues&&(B=R.getRandomValues(new Uint32Array(1))[0]&Yc),B===0&&$y()&&(Za||fg(),B=RS()&Yc),B===0&&(B=oh(TA*Math.random()|0)),w||(B>>>=0),B}o(SA,"random32");function RS(w){af=36969*(af&65535)+(af>>16)&Yc,_A=18e3*(_A&65535)+(_A>>16)&Yc;var B=(af<<16)+(_A&65535)>>>0&Yc|0;return w||(B>>>=0),B}o(RS,"mwcRandom32");function dg(w){w===void 0&&(w=22);for(var B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R=SA()>>>0,Q=0,ue=Is;ue[da]<w;)Q++,ue+=B.charAt(R&63),R>>>=6,Q===5&&(R=(SA()<<2&4294967295|R&3)>>>0,Q=0);return ue}o(dg,"newId");var lf="3.3.6",kE="."+dg(6),mg=0;function cf(w){return w.nodeType===1||w.nodeType===9||!+w.nodeType}o(cf,"_canAcceptData");function RE(w,B){var R=B[w.id];if(!R){R={};try{cf(B)&&ie(B,w.id,{e:!1,v:R})}catch{}}return R}o(RE,"_getCache");function Qd(w,B){return B===void 0&&(B=!1),TE(w+mg+++(B?"."+lf:Is)+kE)}o(Qd,"createUniqueNamespace");function uf(w){var B={id:Qd("_aiData-"+(w||Is)+"."+lf),accept:o(function(R){return cf(R)},"accept"),get:o(function(R,Q,ue,Te){var ke=R[B.id];return ke?ke[TE(Q)]:(Te&&(ke=RE(B,R),ke[TE(Q)]=ue),ue)},"get"),kill:o(function(R,Q){if(R&&R[Q])try{delete R[Q]}catch{}},"kill")};return B}o(uf,"createElmNodeData");function Ah(w){return w&&Z(w)&&(w.isVal||w.fb||Ue(w,"v")||Ue(w,"mrg")||Ue(w,"ref")||w.set)}o(Ah,"_isConfigDefaults");function DE(w,B,R){var Q,ue=R.dfVal||j;if(B&&R.fb){var Te=R.fb;ae(Te)||(Te=[Te]);for(var ke=0;ke<Te[da];ke++){var He=Te[ke],rt=B[He];if(ue(rt)?Q=rt:w&&(rt=w.cfg[He],ue(rt)&&(Q=rt),w.set(w.cfg,Ge(He),rt)),ue(Q))break}}return!ue(Q)&&ue(R.v)&&(Q=R.v),Q}o(DE,"_getDefault");function yh(w,B,R){var Q=R;if(R&&Ah(R)&&(Q=DE(w,B,R)),Q){Ah(Q)&&(Q=yh(w,B,Q));var ue;ae(Q)?(ue=[],ue[da]=Q[da]):sh(Q)&&(ue={}),ue&&(Je(Q,function(Te,ke){ke&&Ah(ke)&&(ke=yh(w,B,ke)),ue[Te]=ke}),Q=ue)}return Q}o(yh,"_resolveDefaultValue");function Ch(w,B,R,Q){var ue,Te,ke,He=Q,rt,Et,yr,gn;Ah(He)?(ue=He.isVal,Te=He.set,yr=He.rdOnly,gn=He.blkVal,rt=He.mrg,Et=He.ref,!Et&&ne(Et)&&(Et=!!rt),ke=DE(w,B,He)):ke=Q,gn&&w.blkVal(B,R);var Bn,vr=!0,kr=B[R];(kr||!O(kr))&&(Bn=kr,vr=!1,ue&&Bn!==ke&&!ue(Bn)&&(Bn=ke,vr=!0),Te&&(Bn=Te(Bn,ke,B),vr=Bn===ke)),vr?ke?Bn=yh(w,B,ke):Bn=ke:(sh(Bn)||ae(ke))&&rt&&ke&&(sh(ke)||ae(ke))&&Je(ke,function(_n,An){Ch(w,Bn,_n,An)}),w.set(B,R,Bn),Et&&w.ref(B,R),yr&&w.rdOnly(B,R)}o(Ch,"_applyDefaultValue");var Sl=Ro("[[ai_dynCfg_1]]"),_6=Ro("[[ai_blkDynCfg_1]]"),Yy=Ro("[[ai_frcDynCfg_1]]");function S6(w){if(w){var B;if(ae(w)?(B=[],B[da]=w[da]):sh(w)&&(B={}),B)return Je(w,function(R,Q){B[R]=S6(Q)}),B}return w}o(S6,"_cfgDeepCopy");function B6(w){if(w){var B=w[Sl]||w;if(B.cfg&&(B.cfg===w||B.cfg[Sl]===B))return B}return null}o(B6,"getDynamicConfigHandler");function BA(w){if(w&&(sh(w)||ae(w)))try{w[_6]=!0}catch{}return w}o(BA,"blockDynamicConversion");function Eh(w,B,R){var Q=!1;return R&&!w[B.blkVal]&&(Q=R[Yy],!Q&&!R[_6]&&(Q=sh(R)||ae(R))),Q}o(Eh,"_canMakeDynamic");function Kc(w){_e("InvalidAccess:"+w)}o(Kc,"throwInvalidAccess");var DS=["push","pop","shift","unshift","splice"],Md=o(function(w,B,R,Q){w&&w[Uy](3,108,"".concat(R," [").concat(B,"] failed - ")+ee(Q))},"_throwDynamicError");function k6(w,B,R){ae(B)&&Xa(DS,function(Q){var ue=B[Q];B[Q]=function(){for(var Te=[],ke=0;ke<arguments.length;ke++)Te[ke]=arguments[ke];var He=ue[eH](this,Te);return hg(w,B,R,"Patching"),He}})}o(k6,"_patchArray");function Od(w,B){var R=Re(w,B);return R&&R.get}o(Od,"_getOwnPropGetter");function PS(w,B,R,Q){var ue={n:R,h:[],trk:o(function(Et){Et&&Et.fn&&(Rd(ue.h,Et)===-1&&ue.h[Di](Et),w.trk(Et,ue))},"trk"),clr:o(function(Et){var yr=Rd(ue.h,Et);yr!==-1&&ue.h[ig](yr,1)},"clr")},Te=!0,ke=!1;function He(){Te&&(ke=ke||Eh(He,w,Q),Q&&!Q[Sl]&&ke&&(Q=hg(w,Q,R,"Converting")),Te=!1);var Et=w.act;return Et&&ue.trk(Et),Q}o(He,"_getProperty"),He[w.prop]={chng:o(function(){w.add(ue)},"chng")};function rt(Et){if(Q!==Et){He[w.ro]&&!w.upd&&Kc("["+R+"] is read-only:"+ee(B)),Te&&(ke=ke||Eh(He,w,Q),Te=!1);var yr=ke&&He[w.rf];if(ke)if(yr){Je(Q,function(Bn){Q[Bn]=Et?Et[Bn]:_l});try{Je(Et,function(Bn,vr){kA(w,Q,Bn,vr)}),Et=Q}catch(Bn){Md((w.hdlr||{})[ch],R,"Assigning",Bn),ke=!1}}else Q&&Q[Sl]&&Je(Q,function(Bn){var vr=Od(Q,Bn);if(vr){var kr=vr[w.prop];kr&&kr.chng()}});if(Et!==Q){var gn=Et&&Eh(He,w,Et);!yr&&gn&&(Et=hg(w,Et,R,"Converting")),Q=Et,ke=gn}w.add(ue)}}o(rt,"_setProperty"),ie(B,ue.n,{g:He,s:rt})}o(PS,"_createDynamicProperty");function kA(w,B,R,Q){if(B){var ue=Od(B,R),Te=ue&&!!ue[w.prop];Te?B[R]=Q:PS(w,B,R,Q)}return B}o(kA,"_setDynamicProperty");function R6(w,B,R,Q){if(B){var ue=Od(B,R),Te=ue&&!!ue[w.prop],ke=Q&&Q[0],He=Q&&Q[1],rt=Q&&Q[2];if(!Te){if(rt)try{BA(B)}catch(Et){Md((w.hdlr||{})[ch],R,"Blocking",Et)}try{kA(w,B,R,B[R]),ue=Od(B,R)}catch(Et){Md((w.hdlr||{})[ch],R,"State",Et)}}ke&&(ue[w.rf]=ke),He&&(ue[w.ro]=He),rt&&(ue[w.blkVal]=!0)}return B}o(R6,"_setDynamicPropertyState");function hg(w,B,R,Q){try{Je(B,function(ue,Te){kA(w,B,ue,Te)}),B[Sl]||(ot(B,Sl,{get:o(function(){return w.hdlr},"get")}),k6(w,B,R))}catch(ue){Md((w.hdlr||{})[ch],R,Q,ue)}return B}o(hg,"_makeDynamicObject");var pg="[[ai_",oc="]]";function NS(w){var B=ar(pg+"get"+w.uid+oc),R=ar(pg+"ro"+w.uid+oc),Q=ar(pg+"rf"+w.uid+oc),ue=ar(pg+"blkVal"+w.uid+oc),Te=ar(pg+"dtl"+w.uid+oc),ke=null,He=null,rt;function Et(vr,kr){var _n=rt.act;try{rt.act=vr,vr&&vr[Te]&&(Xa(vr[Te],function(ni){ni.clr(vr)}),vr[Te]=[]),kr({cfg:w.cfg,set:w.set.bind(w),setDf:w.setDf.bind(w),ref:w.ref.bind(w),rdOnly:w.rdOnly.bind(w)})}catch(ni){var An=w[ch];throw An&&An[Uy](1,107,ee(ni)),ni}finally{rt.act=_n||null}}o(Et,"_useHandler");function yr(){if(ke){var vr=ke;ke=null,He&&He[m6](),He=null;var kr=[];if(Xa(vr,function(_n){if(_n&&(_n[Te]&&(Xa(_n[Te],function(An){An.clr(_n)}),_n[Te]=null),_n.fn))try{Et(_n,_n.fn)}catch(An){kr[Di](An)}}),ke)try{yr()}catch(_n){kr[Di](_n)}kr[da]>0&&tH("Watcher error(s): ",kr)}}o(yr,"_notifyWatchers");function gn(vr){if(vr&&vr.h[da]>0){ke||(ke=[]),He||(He=d6(function(){He=null,yr()},0));for(var kr=0;kr<vr.h[da];kr++){var _n=vr.h[kr];_n&&Rd(ke,_n)===-1&&ke[Di](_n)}}}o(gn,"_addWatcher");function Bn(vr,kr){if(vr){var _n=vr[Te]=vr[Te]||[];Rd(_n,kr)===-1&&_n[Di](kr)}}return o(Bn,"_trackHandler"),rt={prop:B,ro:R,rf:Q,blkVal:ue,hdlr:w,add:gn,notify:yr,use:Et,trk:Bn},rt}o(NS,"_createState");function uH(w,B){var R={fn:B,rm:o(function(){R.fn=null,w=null,B=null},"rm")};return ie(R,"toJSON",{v:o(function(){return"WatcherHandler"+(R.fn?"":"[X]")},"v")}),w.use(R,B),R}o(uH,"_createAndUseHandler");function LS(w,B,R){var Q=B6(B);if(Q)return Q;var ue=Qd("dyncfg",!0),Te=B&&R!==!1?B:S6(B),ke;function He(){ke.notify()}o(He,"_notifyWatchers");function rt(An,ni,Hi){try{An=kA(ke,An,ni,Hi)}catch(Ei){Md(w,ni,"Setting value",Ei)}return An[ni]}o(rt,"_setValue");function Et(An){return uH(ke,An)}o(Et,"_watch");function yr(An,ni){ke.use(null,function(Hi){var Ei=ke.upd;try{ne(ni)||(ke.upd=ni),An(Hi)}finally{ke.upd=Ei}})}o(yr,"_block");function gn(An,ni){var Hi;return R6(ke,An,ni,(Hi={},Hi[0]=!0,Hi))[ni]}o(gn,"_ref");function Bn(An,ni){var Hi;return R6(ke,An,ni,(Hi={},Hi[1]=!0,Hi))[ni]}o(Bn,"_rdOnly");function vr(An,ni){var Hi;return R6(ke,An,ni,(Hi={},Hi[2]=!0,Hi))[ni]}o(vr,"_blkPropValue");function kr(An,ni){return ni&&Je(ni,function(Hi,Ei){Ch(_n,An,Hi,Ei)}),An}o(kr,"_applyDefaults");var _n={uid:null,cfg:Te,logger:w,notify:He,set:rt,setDf:kr,watch:Et,ref:gn,rdOnly:Bn,blkVal:vr,_block:yr};return ie(_n,"uid",{c:!1,e:!1,w:!1,v:ue}),ke=NS(_n),hg(ke,Te,"config","Creating"),_n}o(LS,"_createDynamicHandler");function QS(w,B){w?(w[lh](B),w[Uy](2,108,B)):Kc(B)}o(QS,"_logInvalidAccess");function Ky(w,B,R,Q){var ue=LS(R,w||{},Q);return B&&ue.setDf(ue.cfg,B),ue}o(Ky,"createDynamicConfig");function MS(w,B,R){var Q=w[Sl]||w;return Q.cfg&&(Q.cfg===w||Q.cfg[Sl]===Q)?Q[ES](B):(QS(R,wS+ee(w)),Ky(w,null,R)[ES](B))}o(MS,"onConfigChange");var PE=null;function OS(){var w=L("Microsoft");return w&&(PE=w.ApplicationInsights),PE}o(OS,"_getExtensionNamespace");function fH(w){var B=PE;return!B&&w.disableDbgExt!==!0&&(B=PE||OS()),B?B.ChromeDbgExt:null}o(fH,"getDebugExt");var RA,NE="warnToConsole",US="AI (Internal): ",qS="AI: ",dH="AITR_",mH={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},GS=(RA={},RA[0]=null,RA[1]="errorToConsole",RA[2]=NE,RA[3]="debugToConsole",RA);function WS(w){return w?'"'+w[cA](/\"/g,Is)+'"':Is}o(WS,"_sanitizeDiagnosticText");function FE(w,B){var R=_E();if(R){var Q="log";R[w]&&(Q=w),le(R[Q])&&R[Q](B)}}o(FE,"_logToConsole");var LE=function(){function w(B,R,Q,ue){Q===void 0&&(Q=!1);var Te=this;Te[h6]=B,Te[og]=(Q?qS:US)+B;var ke=Is;Pi()&&(ke=bA().stringify(ue));var He=(R?" message:"+WS(R):Is)+(ue?" props:"+WS(ke):Is);Te[og]+=He}return o(w,"_InternalLogMessage"),w.dataType="MessageData",w}();function hH(w,B){return(w||{})[ch]||new QE(B)}o(hH,"safeGetLogger");var QE=function(){function w(B){this.identifier="DiagnosticLogger",this.queue=[];var R=0,Q={},ue,Te,ke,He,rt;Hy(w,this,function(Et){rt=gn(B||{}),Et.consoleLoggingLevel=function(){return ue},Et[Uy]=function(kr,_n,An,ni,Hi){Hi===void 0&&(Hi=!1);var Ei=new LE(_n,An,Hi,ni);if(He)throw ee(Ei);var ma=GS[kr]||NE;if(ne(Ei[og]))vr("throw"+(kr===1?"Critical":"Warning"),Ei);else{if(Hi){var l2=+Ei[h6];!Q[l2]&&ue>=kr&&(Et[ma](Ei[og]),Q[l2]=!0)}else ue>=kr&&Et[ma](Ei[og]);yr(kr,Ei)}},Et.debugToConsole=function(kr){FE("debug",kr),vr("warning",kr)},Et[lh]=function(kr){FE("warn",kr),vr("warning",kr)},Et.errorToConsole=function(kr){FE("error",kr),vr("error",kr)},Et.resetInternalMessageCount=function(){R=0,Q={}},Et.logInternalMessage=yr,Et[I0]=function(kr){rt&&rt.rm(),rt=null};function yr(kr,_n){if(!Bn()){var An=!0,ni=dH+_n[h6];if(Q[ni]?An=!1:Q[ni]=!0,An&&(kr<=Te&&(Et.queue[Di](_n),R++,vr(kr===1?"error":"warn",_n)),R===ke)){var Hi="Internal events throttle limit per PageView reached for this app.",Ei=new LE(23,Hi,!1);Et.queue[Di](Ei),kr===1?Et.errorToConsole(Hi):Et[lh](Hi)}}}o(yr,"_logInternalMessage");function gn(kr){return MS(Ky(kr,mH,Et).cfg,function(_n){var An=_n.cfg;ue=An[vS],Te=An.loggingLevelTelemetry,ke=An.maxMessageLimit,He=An.enableDebug})}o(gn,"_setDefaultsFromConfig");function Bn(){return R>=ke}o(Bn,"_areInternalMessagesThrottled");function vr(kr,_n){var An=fH(B||{});An&&An[p6]&&An[p6](kr,_n)}o(vr,"_debugExtMsg")})}return o(w,"DiagnosticLogger"),w.__ieDyn=1,w}();function ME(w){return w||new QE}o(ME,"_getLogger");function T0(w,B,R,Q,ue,Te){Te===void 0&&(Te=!1),ME(w)[Uy](B,R,Q,ue,Te)}o(T0,"_throwInternal");function OE(){for(var w=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],B=Is,R,Q=0;Q<4;Q++)R=SA(),B+=w[R&15]+w[R>>4&15]+w[R>>8&15]+w[R>>12&15]+w[R>>16&15]+w[R>>20&15]+w[R>>24&15]+w[R>>28&15];var ue=w[8+(SA()&3)|0];return wt(B,0,8)+wt(B,9,4)+"4"+wt(B,13,3)+ue+wt(B,16,3)+wt(B,19,12)}o(OE,"generateW3CId");var DA=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,D6="00",sc="ff",ri="00000000000000000000000000000000",Ud="0000000000000000",$s=1;function Jc(w,B,R){return w&&w[da]===B&&w!==R?!!w.match(/^[\da-f]*$/i):!1}o(Jc,"_isValid");function UE(w,B,R){return Jc(w,B)?w:R}o(UE,"_formatValue");function gg(w){(isNaN(w)||w<0||w>255)&&(w=1);for(var B=w.toString(16);B[da]<2;)B="0"+B;return B}o(gg,"_formatFlags");function PA(w,B,R,Q){return{version:Jc(Q,2,sc)?Q:D6,traceId:NA(w)?w:OE(),spanId:FA(B)?B:Gt(OE(),16),traceFlags:R>=0&&R<=255?R:1}}o(PA,"createTraceParent");function ac(w,B){if(!w||(ae(w)&&(w=w[0]||""),!w||!J(w)||w[da]>8192))return null;if(w.indexOf(",")!==-1){var R=w[g6](",");w=R[B>0&&R[da]>B?B:0]}var Q=DA.exec(Jl(w));return!Q||Q[1]===sc||Q[2]===ri||Q[3]===Ud?null:{version:(Q[1]||Is)[Oy](),traceId:(Q[2]||Is)[Oy](),spanId:(Q[3]||Is)[Oy](),traceFlags:parseInt(Q[4],16)}}o(ac,"parseTraceParent");function NA(w){return Jc(w,32,ri)}o(NA,"isValidTraceId");function FA(w){return Jc(w,16,Ud)}o(FA,"isValidSpanId");function LA(w){return!(!w||!Jc(w[xS],2,sc)||!Jc(w.traceId,32,ri)||!Jc(w.spanId,16,Ud)||!Jc(gg(w[hE]),2))}o(LA,"isValidTraceParent");function qE(w){return LA(w)?(w[hE]&$s)===$s:!1}o(qE,"isSampledFlag");function Ag(w){if(w){var B=gg(w[hE]);Jc(B,2)||(B="01");var R=w[xS]||D6;return R!=="00"&&R!=="ff"&&(R=D6),"".concat(R.toLowerCase(),"-").concat(UE(w.traceId,32,ri).toLowerCase(),"-").concat(UE(w.spanId,16,Ud).toLowerCase(),"-").concat(B.toLowerCase())}return""}o(Ag,"formatTraceParent");function P6(w){var B="traceparent",R=ac(SE(B),w);return R||(R=ac(sf(B),w)),R}o(P6,"findW3cTraceParent");function N6(w){var B=w.getElementsByTagName("script"),R=[];return Xa(B,function(Q){var ue=Q[A6]("src");if(ue){var Te=Q[A6]("crossorigin"),ke=Q.hasAttribute("async")===!0,He=Q.hasAttribute("defer")===!0,rt=Q[A6]("referrerpolicy"),Et={url:ue};Te&&(Et.crossOrigin=Te),ke&&(Et.async=ke),He&&(Et.defer=He),rt&&(Et.referrerPolicy=rt),R[Di](Et)}}),R}o(N6,"findAllScripts");var GE="on",Jy="attachEvent",WE="addEventListener",HE="detachEvent",HS="removeEventListener",F6="events";Qd("aiEvtPageHide"),Qd("aiEvtPageShow");var pH=/\.[\.]+/g,gH=/[\.]+$/,VE=1,QA=uf("events"),el=/^([^.]*)(?:\.(.+)|)/;function Xy(w){return w&&w[cA]?w[cA](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,Is):w}o(Xy,"_normalizeNamespace");function Ua(w,B){if(B){var R=Is;ae(B)?(R=Is,Xa(B,function(ue){ue=Xy(ue),ue&&(ue[0]!=="."&&(ue="."+ue),R+=ue)})):R=Xy(B),R&&(R[0]!=="."&&(R="."+R),w=(w||Is)+R)}var Q=el.exec(w||Is)||[];return{type:Q[1],ns:(Q[2]||Is).replace(pH,".").replace(gH,Is)[g6](".").sort().join(".")}}o(Ua,"_getEvtNamespace");function xh(w,B,R){R===void 0&&(R=!0);var Q=QA.get(w,F6,{},R),ue=Q[B];return ue||(ue=Q[B]=[]),ue}o(xh,"_getRegisteredEvents");function VS(w,B,R,Q){w&&B&&B[uh]&&(w[HS]?w[HS](B[uh],R,Q):w[HE]&&w[HE](GE+B[uh],R))}o(VS,"_doDetach");function AH(w,B,R,Q){var ue=!1;return w&&B&&B[uh]&&R&&(w[WE]?(w[WE](B[uh],R,Q),ue=!0):w[Jy]&&(w[Jy](GE+B[uh],R),ue=!0)),ue}o(AH,"_doAttach");function Zy(w,B,R,Q){for(var ue=B[da];ue--;){var Te=B[ue];Te&&(!R.ns||R.ns===Te[IS].ns)&&(!Q||Q(Te))&&(VS(w,Te[IS],Te.handler,Te.capture),B[ig](ue,1))}}o(Zy,"_doUnregister");function L6(w,B,R){if(B[uh])Zy(w,xh(w,B[uh]),B,R);else{var Q=QA.get(w,F6,{});Je(Q,function(ue,Te){Zy(w,Te,B,R)}),yt(Q)[da]===0&&QA.kill(w,F6)}}o(L6,"_unregisterEvents");function yH(w,B){var R;return B?(ae(B)?R=[w].concat(B):R=[w,B],R=Ua("xx",R).ns[g6](".")):R=w,R}o(yH,"mergeEvtNamespace");function Q6(w,B,R,Q,ue){ue===void 0&&(ue=!1);var Te=!1;if(w)try{var ke=Ua(B,Q);if(Te=AH(w,ke,R,ue),Te&&QA.accept(w)){var He={guid:VE++,evtName:ke,handler:R,capture:ue};xh(w,ke.type)[Di](He)}}catch{}return Te}o(Q6,"eventOn");function jS(w,B,R,Q,ue){if(ue===void 0&&(ue=!1),w)try{var Te=Ua(B,Q),ke=!1;L6(w,Te,function(He){return Te.ns&&!R||He.handler===R?(ke=!0,!0):!1}),ke||VS(w,Te,R,ue)}catch{}}o(jS,"eventOff");var jE="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",$S="sampleRate",$E="ProcessLegacy",zS="http.method",M6="https://dc.services.visualstudio.com",e3="/v2/track",ff="not_specified",O6="iKey",YS=ZW({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),vh="split",pn="length",MA="toLowerCase",yg="ingestionendpoint",Cg="toString",U6="removeItem",t3="message",OA="count",zE="preTriggerDate",q6="getUTCDate",YE="stringify",UA="pathname",Eg="match",G6="correlationHeaderExcludePatterns",lc="name",qA="extensionConfig",df="properties",Xl="measurements",GA="sizeInBytes",r3="typeName",WA="exceptions",n3="severityLevel",HA="problemGroup",w0="parsedStack",KE="hasFullStack",JE="assembly",Xc="fileName",VA="line",bh="aiDataContract",i3="duration";function W6(w,B,R){var Q=B[pn],ue=H6(w,B);if(ue[pn]!==Q){for(var Te=0,ke=ue;R[ke]!==void 0;)Te++,ke=St(ue,0,147)+KS(Te);ue=ke}return ue}o(W6,"dataSanitizeKeyAndAddUniqueness");function H6(w,B){var R;return B&&(B=Jl(Ge(B)),B[pn]>150&&(R=St(B,0,150),T0(w,2,57,"name is too long.  It has been truncated to 150 characters.",{name:B},!0))),R||B}o(H6,"dataSanitizeKey");function qa(w,B,R){R===void 0&&(R=1024);var Q;return B&&(R=R||1024,B=Jl(Ge(B)),B[pn]>R&&(Q=St(B,0,R),T0(w,2,61,"string value is too long. It has been truncated to "+R+" characters.",{value:B},!0))),Q||B}o(qa,"dataSanitizeString");function mf(w,B){return j6(w,B,2048,66)}o(mf,"dataSanitizeUrl");function XE(w,B){var R;return B&&B[pn]>32768&&(R=St(B,0,32768),T0(w,2,56,"message is too long, it has been truncated to 32768 characters.",{message:B},!0)),R||B}o(XE,"dataSanitizeMessage");function V6(w,B){var R;if(B){var Q=""+B;Q[pn]>32768&&(R=St(Q,0,32768),T0(w,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:B},!0))}return R||B}o(V6,"dataSanitizeException");function qd(w,B){if(B){var R={};Je(B,function(Q,ue){if(Z(ue)&&Pi())try{ue=bA()[YE](ue)}catch(Te){T0(w,2,49,"custom property is not valid",{exception:Te},!0)}ue=qa(w,ue,8192),Q=W6(w,Q,R),R[Q]=ue}),B=R}return B}o(qd,"dataSanitizeProperties");function cc(w,B){if(B){var R={};Je(B,function(Q,ue){Q=W6(w,Q,R),R[Q]=ue}),B=R}return B}o(cc,"dataSanitizeMeasurements");function jA(w,B){return B&&j6(w,B,128,69)[Cg]()}o(jA,"dataSanitizeId");function j6(w,B,R,Q){var ue;return B&&(B=Jl(Ge(B)),B[pn]>R&&(ue=St(B,0,R),T0(w,2,Q,"input is too long, it has been truncated to "+R+" characters.",{data:B},!0))),ue||B}o(j6,"dataSanitizeInput");function KS(w){var B="00"+w;return wt(B,B[pn]-3)}o(KS,"dsPadNumber");var $6=Ie()||{},JS=0,CH=[null,null,null,null,null];function $A(w){var B=JS,R=CH,Q=R[B];return $6.createElement?R[B]||(Q=R[B]=$6.createElement("a")):Q={host:ZS(w,!0)},Q.href=w,B++,B>=R[pn]&&(B=0),JS=B,Q}o($A,"urlParseUrl");function EH(w){var B,R=$A(w);return R&&(B=R.href),B}o(EH,"urlGetAbsoluteUrl");function xH(w){var B,R=$A(w);return R&&(B=R[UA]),B}o(xH,"urlGetPathName");function XS(w,B){return w?w.toUpperCase()+" "+B:B}o(XS,"urlGetCompleteUrl");function ZS(w,B){var R=Gd(w,B)||"";if(R){var Q=R[Eg](/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(Q!=null&&Q[pn]>3&&J(Q[2])&&Q[2][pn]>0)return Q[2]+(Q[3]||"")}return R}o(ZS,"urlParseHost");function Gd(w,B){var R=null;if(w){var Q=w[Eg](/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(Q!=null&&Q[pn]>2&&J(Q[2])&&Q[2][pn]>0&&(R=Q[2]||"",B&&Q[pn]>2)){var ue=(Q[1]||"")[MA](),Te=Q[3]||"";(ue==="http"&&Te===":80"||ue==="https"&&Te===":443")&&(Te=""),R+=Te}}return R}o(Gd,"urlParseFullHost");var eB=[M6+e3,"https://breeze.aimon.applicationinsights.io"+e3,"https://dc-int.services.visualstudio.com"+e3],zA="cid-v1:";function tB(w){return Rd(eB,w[MA]())!==-1}o(tB,"isInternalApplicationInsightsEndpoint");function z6(w){zA=w}o(z6,"correlationIdSetPrefix");function Y6(){return zA}o(Y6,"correlationIdGetPrefix");function Ih(w,B,R){if(!B||w&&w.disableCorrelationHeaders)return!1;if(w&&w[G6]){for(var Q=0;Q<w.correlationHeaderExcludePatterns[pn];Q++)if(w[G6][Q].test(B))return!1}var ue=$A(B).host[MA]();if(ue&&(Hr(ue,":443")!==-1||Hr(ue,":80")!==-1)&&(ue=(Gd(B,!0)||"")[MA]()),(!w||!w.enableCorsCorrelation)&&ue&&ue!==R)return!1;var Te=w&&w.correlationHeaderDomains;if(Te){var ke;if(Xa(Te,function(Et){var yr=new RegExp(Et.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));ke=ke||yr.test(ue)}),!ke)return!1}var He=w&&w.correlationHeaderExcludedDomains;if(!He||He[pn]===0)return!0;for(var Q=0;Q<He[pn];Q++){var rt=new RegExp(He[Q].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(rt.test(ue))return!1}return ue&&ue[pn]>0}o(Ih,"correlationIdCanIncludeCorrelationHeader");function rB(w){if(w){var B=nB(w,YS[1]);if(B&&B!==zA)return B}}o(rB,"correlationIdGetCorrelationContext");function nB(w,B){if(w)for(var R=w[vh](","),Q=0;Q<R[pn];++Q){var ue=R[Q][vh]("=");if(ue[pn]===2&&ue[0]===B)return ue[1]}}o(nB,"correlationIdGetCorrelationContextValue");function iB(w,B,R,Q){var ue,Te=Q,ke=Q;if(B&&B[pn]>0){var He=$A(B);if(ue=He.host,!Te)if(He[UA]!=null){var rt=He.pathname[pn]===0?"/":He[UA];rt.charAt(0)!=="/"&&(rt="/"+rt),ke=He[UA],Te=qa(w,R?R+" "+rt:rt)}else Te=qa(w,B)}else ue=Q,Te=Q;return{target:ue,name:Te,data:ke}}o(iB,"AjaxHelperParseDependencyPath");function vH(){var w=Qy();if(w&&w.now&&w.timing){var B=w.now()+w.timing.navigationStart;if(B>0)return B}return tg()}o(vH,"dateTimeUtilsNow");function bH(w,B){var R=null;return w!==0&&B!==0&&!O(w)&&!O(B)&&(R=B-w),R}o(bH,"dateTimeUtilsDuration");function K6(w,B){var R=w||{};return{getName:o(function(){return R[lc]},"getName"),setName:o(function(Q){B&&B.setName(Q),R[lc]=Q},"setName"),getTraceId:o(function(){return R.traceID},"getTraceId"),setTraceId:o(function(Q){B&&B.setTraceId(Q),NA(Q)&&(R.traceID=Q)},"setTraceId"),getSpanId:o(function(){return R.parentID},"getSpanId"),setSpanId:o(function(Q){B&&B.setSpanId(Q),FA(Q)&&(R.parentID=Q)},"setSpanId"),getTraceFlags:o(function(){return R.traceFlags},"getTraceFlags"),setTraceFlags:o(function(Q){B&&B.setTraceFlags(Q),R.traceFlags=Q},"setTraceFlags")}}o(K6,"createDistributedTraceContextFromTrace");var YA=My({LocalStorage:0,SessionStorage:1}),IH=My({AI:0,AI_AND_W3C:1,W3C:2}),o3=My({Normal:1,Critical:2}),Th=void 0,Zc=void 0,oB="";function KA(){return ZE()?JA(YA.LocalStorage):null}o(KA,"_getLocalStorageObject");function JA(w){try{if(O(Y()))return null;var B=new Date()[Cg](),R=L(w===YA.LocalStorage?"localStorage":"sessionStorage"),Q=oB+B;R.setItem(Q,B);var ue=R.getItem(Q)!==B;if(R[U6](Q),!ue)return R}catch{}return null}o(JA,"_getVerifiedStorageObject");function XA(){return Wd()?JA(YA.SessionStorage):null}o(XA,"_getSessionStorageObject");function s3(){Th=!1,Zc=!1}o(s3,"utlDisableStorage");function a3(w){oB=w||""}o(a3,"utlSetStoragePrefix");function TH(){Th=ZE(!0),Zc=Wd(!0)}o(TH,"utlEnableStorage");function ZE(w){return(w||Th===void 0)&&(Th=!!JA(YA.LocalStorage)),Th}o(ZE,"utlCanUseLocalStorage");function sB(w,B){var R=KA();if(R!==null)try{return R.getItem(B)}catch(Q){Th=!1,T0(w,2,1,"Browser failed read of local storage. "+mh(Q),{exception:ee(Q)})}return null}o(sB,"utlGetLocalStorage");function aB(w,B,R){var Q=KA();if(Q!==null)try{return Q.setItem(B,R),!0}catch(ue){Th=!1,T0(w,2,3,"Browser failed write to local storage. "+mh(ue),{exception:ee(ue)})}return!1}o(aB,"utlSetLocalStorage");function uc(w,B){var R=KA();if(R!==null)try{return R[U6](B),!0}catch(Q){Th=!1,T0(w,2,5,"Browser failed removal of local storage item. "+mh(Q),{exception:ee(Q)})}return!1}o(uc,"utlRemoveStorage");function Wd(w){return(w||Zc===void 0)&&(Zc=!!JA(YA.SessionStorage)),Zc}o(Wd,"utlCanUseSessionStorage");function ZA(){var w=[];return Wd()&&Je(L("sessionStorage"),function(B){w.push(B)}),w}o(ZA,"utlGetSessionStorageKeys");function lB(w,B){var R=XA();if(R!==null)try{return R.getItem(B)}catch(Q){Zc=!1,T0(w,2,2,"Browser failed read of session storage. "+mh(Q),{exception:ee(Q)})}return null}o(lB,"utlGetSessionStorage");function wH(w,B,R){var Q=XA();if(Q!==null)try{return Q.setItem(B,R),!0}catch(ue){Zc=!1,T0(w,2,4,"Browser failed write to session storage. "+mh(ue),{exception:ee(ue)})}return!1}o(wH,"utlSetSessionStorage");function cB(w,B){var R=XA();if(R!==null)try{return R[U6](B),!0}catch(Q){Zc=!1,T0(w,2,6,"Browser failed removal of session storage item. "+mh(Q),{exception:ee(Q)})}return!1}o(cB,"utlRemoveSessionStorage");var _H="appInsightsThrottle",SH=function(){function w(B,R){var Q=this,ue,Te,ke,He,rt,Et,yr,gn=!1,Bn=!1;kr(),Q._getDbgPlgTargets=function(){return[yr]},Q.getConfig=function(){return ke},Q.canThrottle=function(Nt){var Qr=u9(Nt),en=_n(Nt);return Hi(en,ue,Qr)},Q.isTriggered=function(Nt){return wB(Nt)},Q.isReady=function(){return gn},Q.flush=function(Nt){try{var Qr=_B(Nt);if(Qr&&Qr[pn]>0){var en=Qr.slice(0);return yr[Nt]=[],Xa(en,function(Eo){vr(Eo.msgID,Eo[t3],Eo.severity,!1)}),!0}}catch{}return!1},Q.flushAll=function(){try{if(yr){var Nt=!0;return Je(yr,function(Qr){var en=Q.flush(parseInt(Qr));Nt=Nt&&en}),Nt}}catch{}return!1},Q.onReadyState=function(Nt,Qr){return Qr===void 0&&(Qr=!0),gn=O(Nt)?!0:Nt,gn&&Qr?Q.flushAll():null},Q.sendMessage=function(Nt,Qr,en){return vr(Nt,Qr,en,!0)};function vr(Nt,Qr,en,Eo){if(gn){var ha=jH(Nt);if(!ha)return;var Ts=_n(Nt),pa=u9(Nt),vg=Hi(Ts,ue,pa),kh=!1,c2=0,SB=wB(Nt);try{vg&&!SB?(c2=Ft(Ts.limit.maxSendNumber,pa[OA]+1),pa[OA]=0,kh=!0,rt[Nt]=!0,pa[zE]=new Date):(rt[Nt]=vg,pa[OA]+=1);var BB=Ei(Nt);c9(Te,BB,pa);for(var mx=0;mx<c2;mx++)TB(Nt,Te,Qr,en)}catch{}return{isThrottled:kh,throttleNum:c2}}else if(Eo){var $H=_B(Nt);$H.push({msgID:Nt,message:Qr,severity:en})}return null}o(vr,"_flushMessage");function kr(){Te=hH(B),rt={},He={},yr={},ke={},An(109),Et=w6(R)?R:"",B.addUnloadHook(MS(B.config,function(Nt){var Qr=Nt.cfg;ue=ZE();var en=Qr.throttleMgrCfg||{};Je(en,function(Eo,ha){An(parseInt(Eo),ha)})}))}o(kr,"_initConfig");function _n(Nt){return ke[Nt]||ke[109]}o(_n,"_getCfgByKey");function An(Nt,Qr){var en,Eo;try{var ha=Qr||{},Ts={};Ts.disabled=!!ha.disabled;var pa=ha.interval||{};Bn=pa?.daysOfMonth&&pa?.daysOfMonth[pn]>0,Ts.interval=ni(pa);var vg={samplingRate:((en=ha.limit)===null||en===void 0?void 0:en.samplingRate)||100,maxSendNumber:((Eo=ha.limit)===null||Eo===void 0?void 0:Eo.maxSendNumber)||1};Ts.limit=vg,ke[Nt]=Ts}catch{}}o(An,"_setCfgByKey");function ni(Nt){Nt=Nt||{};var Qr=Nt?.monthInterval,en=Nt?.dayInterval;return O(Qr)&&O(en)&&(Nt.monthInterval=3,Bn||(Nt.daysOfMonth=[28],Bn=!0)),Nt={monthInterval:Nt?.monthInterval,dayInterval:Nt?.dayInterval,daysOfMonth:Nt?.daysOfMonth},Nt}o(ni,"_getIntervalConfig");function Hi(Nt,Qr,en){if(Nt&&!Nt.disabled&&Qr&&w6(en)){var Eo=p3(),ha=en.date,Ts=Nt.interval,pa=1;if(Ts?.monthInterval){var vg=(Eo.getUTCFullYear()-ha.getUTCFullYear())*12+Eo.getUTCMonth()-ha.getUTCMonth();pa=dx(Ts.monthInterval,0,vg)}var kh=1;if(Bn)kh=Rd(Ts.daysOfMonth,Eo[q6]());else if(Ts?.dayInterval){var c2=oh((Eo.getTime()-ha.getTime())/864e5);kh=dx(Ts.dayInterval,0,c2)}return pa>=0&&kh>=0}return!1}o(Hi,"_canThrottle");function Ei(Nt,Qr){var en=w6(Qr)?Qr:"";return Nt?_H+en+"-"+Nt:null}o(Ei,"_getLocalStorageName");function ma(Nt){try{if(Nt){var Qr=new Date;return Nt.getUTCFullYear()===Qr.getUTCFullYear()&&Nt.getUTCMonth()===Qr.getUTCMonth()&&Nt[q6]()===Qr[q6]()}}catch{}return!1}o(ma,"_isTriggeredOnCurDate");function l2(Nt,Qr,en){try{var Eo={date:p3(),count:0};if(Nt){var ha=JSON.parse(Nt),Ts={date:p3(ha.date)||Eo.date,count:ha[OA]||Eo[OA],preTriggerDate:ha.preTriggerDate?p3(ha[zE]):void 0};return Ts}else return c9(Qr,en,Eo),Eo}catch{}return null}o(l2,"_getLocalStorageObj");function p3(Nt){try{if(Nt){var Qr=new Date(Nt);if(!isNaN(Qr.getDate()))return Qr}else return new Date}catch{}return null}o(p3,"_getThrottleDate");function c9(Nt,Qr,en){try{return aB(Nt,Qr,Jl(JSON[YE](en)))}catch{}return!1}o(c9,"_resetLocalStorage");function dx(Nt,Qr,en){return Nt<=0?1:en>=Qr&&(en-Qr)%Nt==0?oh((en-Qr)/Nt)+1:-1}o(dx,"_checkInterval");function TB(Nt,Qr,en,Eo){T0(Qr,Eo||1,Nt,en)}o(TB,"_sendMessage");function jH(Nt){try{var Qr=_n(Nt);return BE(1e6)<=Qr.limit.samplingRate}catch{}return!1}o(jH,"_canSampledIn");function u9(Nt){try{var Qr=He[Nt];if(!Qr){var en=Ei(Nt,Et);Qr=l2(sB(Te,en),Te,en),He[Nt]=Qr}return He[Nt]}catch{}return null}o(u9,"_getLocalStorageObjByKey");function wB(Nt){var Qr=rt[Nt];if(O(Qr)){Qr=!1;var en=u9(Nt);en&&(Qr=ma(en[zE])),rt[Nt]=Qr}return rt[Nt]}o(wB,"_isTrigger");function _B(Nt){return yr=yr||{},O(yr[Nt])&&(yr[Nt]=[]),yr[Nt]}o(_B,"_getQueueByKey")}return o(w,"ThrottleMgr"),w}(),J6=";",hf="=";function ex(w){if(!w)return{};var B=w[vh](J6),R=Ns(B,function(ue,Te){var ke=Te[vh](hf);if(ke[pn]===2){var He=ke[0][MA](),rt=ke[1];ue[He]=rt}return ue},{});if(yt(R)[pn]>0){if(R.endpointsuffix){var Q=R.location?R.location+".":"";R[yg]=R[yg]||"https://"+Q+"dc."+R.endpointsuffix}R[yg]=R[yg]||M6,sA(R[yg],"/")&&(R[yg]=R[yg].slice(0,-1))}return R}o(ex,"parseConnectionString");var tx={parse:ex},rx=function(){function w(B,R,Q){var ue=this,Te=this;Te.ver=1,Te.sampleRate=100,Te.tags={},Te[lc]=qa(B,Q)||ff,Te.data=R,Te.time=Fd(new Date),Te[bh]={time:1,iKey:1,name:1,sampleRate:o(function(){return ue.sampleRate===100?4:1},"sampleRate"),tags:1,data:1}}return o(w,"Envelope"),w}(),BH=function(){function w(B,R,Q,ue){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var Te=this;Te.ver=2,Te[lc]=qa(B,R)||ff,Te[df]=qd(B,Q),Te[Xl]=cc(B,ue)}return o(w,"Event"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Event",w.dataType="EventData",w}(),kH=58,uB=/^\s{0,50}(from\s|at\s|Line\s{1,5}\d{1,10}\s{1,5}of|\w{1,50}@\w{1,80}|[^\(\s\n]+:[0-9\?]+(?::[0-9\?]+)?)/,RH=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+):([0-9\?]+)\)?$/,e2=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+)\)?$/,fB=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\)\]]+)\)?$/,DH=/(?:^|\(|\s{0,10}[\w\)]+\@)?([^\(\n\s\]\)]+)(?:\:([0-9]+)(?:\:([0-9]+))?)?\)?(?:,|$)/,PH=/([^\(\s\n]+):([0-9]+):([0-9]+)$/,NH=/([^\(\s\n]+):([0-9]+)$/,dB="<no_method>",t2="error",_0="stack",l3="stackDetails",nx="errorSrc",c3="message",u3="description",X6=[{re:RH,len:5,m:1,fn:2,ln:3,col:4},{chk:ix,pre:Dr,re:e2,len:4,m:1,fn:2,ln:3},{re:fB,len:3,m:1,fn:2,hdl:e9},{re:DH,len:2,fn:1,hdl:e9}];function Dr(w){return w.replace(/(\(anonymous\))/,"<anonymous>")}o(Dr,"_scrubAnonymous");function ix(w){return Hr(w,"[native")<0}o(ix,"_ignoreNative");function f3(w,B){var R=w;return R&&!J(R)&&(JSON&&JSON[YE]?(R=JSON[YE](w),B&&(!R||R==="{}")&&(le(w[Cg])?R=w[Cg]():R=""+w)):R=""+w+" - (Missing JSON.stringify)"),R||""}o(f3,"_stringify");function wh(w,B){var R=w;return w&&(R&&!J(R)&&(R=w[c3]||w[u3]||R),R&&!J(R)&&(R=f3(R,!0)),w.filename&&(R=R+" @"+(w.filename||"")+":"+(w.lineno||"?")+":"+(w.colno||"?"))),B&&B!=="String"&&B!=="Object"&&B!=="Error"&&Hr(R||"",B)===-1&&(R=B+": "+R),R||""}o(wh,"_formatMessage");function mB(w){try{if(Z(w))return"hasFullStack"in w&&"typeName"in w}catch{}return!1}o(mB,"_isExceptionDetailsInternal");function hB(w){try{if(Z(w))return"ver"in w&&"exceptions"in w&&"properties"in w}catch{}return!1}o(hB,"_isExceptionInternal");function ox(w){return w&&w.src&&J(w.src)&&w.obj&&ae(w.obj)}o(ox,"_isStackDetails");function Hd(w){var B=w||"";J(B)||(J(B[_0])?B=B[_0]:B=""+B);var R=B[vh](`
`);return{src:B,obj:R}}o(Hd,"_convertStackObj");function pB(w){for(var B=[],R=w[vh](`
`),Q=0;Q<R[pn];Q++){var ue=R[Q];R[Q+1]&&(ue+="@"+R[Q+1],Q++),B.push(ue)}return{src:w,obj:B}}o(pB,"_getOperaStack");function sx(w){var B=null;if(w)try{if(w[_0])B=Hd(w[_0]);else if(w[t2]&&w[t2][_0])B=Hd(w[t2][_0]);else if(w.exception&&w.exception[_0])B=Hd(w.exception[_0]);else if(ox(w))B=w;else if(ox(w[l3]))B=w[l3];else if(Ct()&&Ct().opera&&w[c3])B=pB(w[t3]);else if(w.reason&&w.reason[_0])B=Hd(w.reason[_0]);else if(J(w))B=Hd(w);else{var R=w[c3]||w[u3]||"";J(w[nx])&&(R&&(R+=`
`),R+=" from "+w[nx]),R&&(B=Hd(R))}}catch(Q){B=Hd(Q)}return B||{src:"",obj:null}}o(sx,"_getStackFromErrorObj");function gB(w){var B="";return w&&(w.obj?B=w.obj.join(`
`):B=w.src||""),B}o(gB,"_formatStackTrace");function ax(w){var B,R=w.obj;if(R&&R[pn]>0){B=[];var Q=0,ue=!1,Te=0;Xa(R,function(_n){if(ue||FH(_n)){var An=Ge(_n);ue=!0;var ni=LH(An,Q);ni&&(Te+=ni[GA],B.push(ni),Q++)}});var ke=32*1024;if(Te>ke)for(var He=0,rt=B[pn]-1,Et=0,yr=He,gn=rt;He<rt;){var Bn=B[He][GA],vr=B[rt][GA];if(Et+=Bn+vr,Et>ke){var kr=gn-yr+1;B.splice(yr,kr);break}yr=He,gn=rt,He++,rt--}}return B}o(ax,"_parseStack");function r2(w){var B="";if(w&&(B=w.typeName||w[lc]||"",!B))try{var R=/function (.{1,200})\(/,Q=R.exec(w.constructor[Cg]());B=Q&&Q[pn]>1?Q[1]:""}catch{}return B}o(r2,"_getErrorType");function lx(w){if(w)try{if(!J(w)){var B=r2(w),R=f3(w,!1);return(!R||R==="{}")&&(w[t2]&&(w=w[t2],B=r2(w)),R=f3(w,!0)),Hr(R,B)!==0&&B!=="String"?B+":"+R:R}}catch{}return""+(w||"")}o(lx,"_formatErrorCode");var pf=function(){function w(B,R,Q,ue,Te,ke){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var He=this;He.ver=2,hB(R)?(He[WA]=R[WA]||[],He[df]=R[df],He[Xl]=R[Xl],R[n3]&&(He[n3]=R[n3]),R.id&&(He.id=R.id,R[df].id=R.id),R[HA]&&(He[HA]=R[HA]),O(R.isManual)||(He.isManual=R.isManual)):(Q||(Q={}),ke&&(Q.id=ke),He[WA]=[CB(B,R,Q)],He[df]=qd(B,Q),He[Xl]=cc(B,ue),Te&&(He[n3]=Te),ke&&(He.id=ke))}return o(w,"Exception"),w.CreateAutoException=function(B,R,Q,ue,Te,ke,He,rt){var Et=r2(Te||ke||B);return{message:wh(B,Et),url:R,lineNumber:Q,columnNumber:ue,error:lx(Te||ke||B),evt:lx(ke||B),typeName:Et,stackDetails:sx(He||Te||ke),errorSrc:rt}},w.CreateFromInterface=function(B,R,Q,ue){var Te=R[WA]&&nf(R[WA],function(He){return Z6(B,He)}),ke=new w(B,yE(yE({},R),{exceptions:Te}),Q,ue);return ke},w.prototype.toInterface=function(){var B=this,R=B.exceptions,Q=B.properties,ue=B.measurements,Te=B.severityLevel,ke=B.problemGroup,He=B.id,rt=B.isManual,Et=R instanceof Array&&nf(R,function(yr){return yr.toInterface()})||void 0;return{ver:"4.0",exceptions:Et,severityLevel:Te,properties:Q,measurements:ue,problemGroup:ke,id:He,isManual:rt}},w.CreateSimpleException=function(B,R,Q,ue,Te,ke){var He;return{exceptions:[(He={},He[KE]=!0,He.message=B,He.stack=Te,He.typeName=R,He)]}},w.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",w.dataType="ExceptionData",w.formatError=lx,w}(),AB=Rt({id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2});function yB(){var w=this,B=ae(w[w0])&&nf(w[w0],function(Q){return xB(Q)}),R={id:w.id,outerId:w.outerId,typeName:w[r3],message:w[t3],hasFullStack:w[KE],stack:w[_0],parsedStack:B||void 0};return R}o(yB,"_toInterface");function CB(w,B,R){var Q,ue,Te,ke,He,rt,Et,yr;if(mB(B))ke=B[r3],He=B[t3],Et=B[_0],yr=B[w0]||[],rt=B[KE];else{var gn=B,Bn=gn&&gn.evt;ce(gn)||(gn=gn[t2]||Bn||gn),ke=qa(w,r2(gn))||ff,He=XE(w,wh(B||gn,ke))||ff;var vr=B[l3]||sx(B);yr=ax(vr),ae(yr)&&nf(yr,function(kr){kr[JE]=qa(w,kr[JE]),kr[Xc]=qa(w,kr[Xc])}),Et=V6(w,gB(vr)),rt=ae(yr)&&yr[pn]>0,R&&(R[r3]=R[r3]||ke)}return Q={},Q[bh]=AB,Q.id=ue,Q.outerId=Te,Q.typeName=ke,Q.message=He,Q[KE]=rt,Q.stack=Et,Q.parsedStack=yr,Q.toInterface=yB,Q}o(CB,"_createExceptionDetails");function Z6(w,B){var R=ae(B[w0])&&nf(B[w0],function(ue){return EB(ue)})||B[w0],Q=CB(w,yE(yE({},B),{parsedStack:R}));return Q}o(Z6,"_createExDetailsFromInterface");function d3(w,B){var R=B[Eg](PH);if(R&&R[pn]>=4)w[Xc]=R[1],w[VA]=parseInt(R[2]);else{var Q=B[Eg](NH);Q&&Q[pn]>=3?(w[Xc]=Q[1],w[VA]=parseInt(Q[2])):w[Xc]=B}}o(d3,"_parseFilename");function e9(w,B,R){var Q=w[Xc];B.fn&&R&&R[pn]>B.fn&&(B.ln&&R[pn]>B.ln?(Q=Jl(R[B.fn]||""),w[VA]=parseInt(Jl(R[B.ln]||""))||0):Q=Jl(R[B.fn]||"")),Q&&d3(w,Q)}o(e9,"_handleFilename");function FH(w){var B=!1;if(w&&J(w)){var R=Jl(w);R&&(B=uB.test(R))}return B}o(FH,"_isStackFrame");var t9=Rt({level:1,method:1,assembly:0,fileName:0,line:0});function LH(w,B){var R,Q;if(w&&J(w)&&Jl(w)){Q=(R={},R[bh]=t9,R.level=B,R.assembly=Jl(w),R.method=dB,R.fileName="",R.line=0,R.sizeInBytes=0,R);for(var ue=0;ue<X6[pn];){var Te=X6[ue];if(Te.chk&&!Te.chk(w))break;Te.pre&&(w=Te.pre(w));var ke=w[Eg](Te.re);if(ke&&ke[pn]>=Te.len){Te.m&&(Q.method=Jl(ke[Te.m]||dB)),Te.hdl?Te.hdl(Q,Te,ke):Te.fn&&(Te.ln?(Q[Xc]=Jl(ke[Te.fn]||""),Q[VA]=parseInt(Jl(ke[Te.ln]||""))||0):d3(Q,ke[Te.fn]||""));break}ue++}}return r9(Q)}o(LH,"_extractStackFrame");function EB(w){var B,R=(B={},B[bh]=t9,B.level=w.level,B.method=w.method,B.assembly=w[JE],B.fileName=w[Xc],B.line=w[VA],B.sizeInBytes=0,B);return r9(R)}o(EB,"_stackFrameFromInterface");function r9(w){var B=kH;return w&&(B+=w.method[pn],B+=w.assembly[pn],B+=w.fileName[pn],B+=w.level.toString()[pn],B+=w.line.toString()[pn],w[GA]=B),w}o(r9,"_populateFrameSizeInBytes");function xB(w){return{level:w.level,method:w.method,assembly:w[JE],fileName:w[Xc],line:w[VA]}}o(xB,"_parsedFrameToInterface");var vB=function(){function w(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return o(w,"DataPoint"),w}(),QH=function(){function w(B,R,Q,ue,Te,ke,He,rt,Et){this.aiDataContract={ver:1,metrics:1,properties:0};var yr=this;yr.ver=2;var gn=new vB;gn[OA]=ue>0?ue:void 0,gn.max=isNaN(ke)||ke===null?void 0:ke,gn.min=isNaN(Te)||Te===null?void 0:Te,gn[lc]=qa(B,R)||ff,gn.value=Q,gn.stdDev=isNaN(He)||He===null?void 0:He,yr.metrics=[gn],yr[df]=qd(B,rt),yr[Xl]=cc(B,Et)}return o(w,"Metric"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",w.dataType="MetricData",w}(),n2="";function MH(w,B){return B===void 0&&(B=!1),w==null?B:w.toString()[MA]()==="true"}o(MH,"stringToBoolOrDefault");function n9(w){(isNaN(w)||w<0)&&(w=0),w=f6(w);var B=n2+w%1e3,R=n2+oh(w/1e3)%60,Q=n2+oh(w/(1e3*60))%60,ue=n2+oh(w/(1e3*60*60))%24,Te=oh(w/(1e3*60*60*24));return B=B[pn]===1?"00"+B:B[pn]===2?"0"+B:B,R=R[pn]<2?"0"+R:R,Q=Q[pn]<2?"0"+Q:Q,ue=ue[pn]<2?"0"+ue:ue,(Te>0?Te+".":n2)+ue+":"+Q+":"+R+"."+B}o(n9,"msToTimeSpan");function OH(w,B){var R=null;return Xa(w,function(Q){if(Q.identifier===B)return R=Q,-1}),R}o(OH,"getExtensionByName");function _h(w,B,R,Q,ue){return!ue&&J(w)&&(w==="Script error."||w==="Script error")}o(_h,"isCrossOriginError");var UH=function(){function w(B,R,Q,ue,Te,ke,He){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var rt=this;rt.ver=2,rt.id=jA(B,He),rt.url=mf(B,Q),rt[lc]=qa(B,R)||ff,isNaN(ue)||(rt[i3]=n9(ue)),rt[df]=qd(B,Te),rt[Xl]=cc(B,ke)}return o(w,"PageView"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",w.dataType="PageviewData",w}(),i2=function(){function w(B,R,Q,ue,Te,ke,He,rt,Et,yr,gn,Bn){Et===void 0&&(Et="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var vr=this;vr.ver=2,vr.id=R,vr[i3]=n9(Te),vr.success=ke,vr.resultCode=He+"",vr.type=qa(B,Et);var kr=iB(B,Q,rt,ue);vr.data=mf(B,ue)||kr.data,vr.target=qa(B,kr.target),yr&&(vr.target="".concat(vr.target," | ").concat(yr)),vr[lc]=qa(B,kr[lc]),vr[df]=qd(B,gn),vr[Xl]=cc(B,Bn)}return o(w,"RemoteDependencyData"),w.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",w.dataType="RemoteDependencyData",w}(),i9=function(){function w(B,R,Q,ue,Te){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var ke=this;ke.ver=2,R=R||ff,ke[t3]=XE(B,R),ke[df]=qd(B,ue),ke[Xl]=cc(B,Te),Q&&(ke[n3]=Q)}return o(w,"Trace"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Message",w.dataType="MessageData",w}(),m3=function(){function w(B,R,Q,ue,Te,ke,He){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var rt=this;rt.ver=2,rt.url=mf(B,Q),rt[lc]=qa(B,R)||ff,rt[df]=qd(B,Te),rt[Xl]=cc(B,ke),He&&(rt.domProcessing=He.domProcessing,rt[i3]=He[i3],rt.networkConnect=He.networkConnect,rt.perfTotal=He.perfTotal,rt.receivedResponse=He.receivedResponse,rt.sentRequest=He.sentRequest)}return o(w,"PageViewPerformance"),w.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",w.dataType="PageviewPerformanceData",w}(),qH=function(){function w(B,R){this.aiDataContract={baseType:1,baseData:1},this.baseType=B,this.baseData=R}return o(w,"Data"),w}(),cx=My({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),GH=function(){function w(){}return o(w,"ConfigurationManager"),w.getConfig=function(B,R,Q,ue){ue===void 0&&(ue=!1);var Te;return Q&&B[qA]&&B[qA][Q]&&!O(B[qA][Q][R])?Te=B[qA][Q][R]:Te=B[R],O(Te)?ue:Te},w}();function gf(w){var B="ai."+w+".";return function(R){return B+R}}o(gf,"_aiNameFunc");var o2=gf("application"),zs=gf("device"),ux=gf("location"),s2=gf("operation"),fx=gf("session"),Sh=gf("user"),xg=gf("cloud"),h3=gf("internal"),Bh=function(w){fh(B,w);function B(){return w.call(this)||this}return o(B,"ContextTagKeys"),B}(jy({applicationVersion:o2("ver"),applicationBuild:o2("build"),applicationTypeId:o2("typeId"),applicationId:o2("applicationId"),applicationLayer:o2("layer"),deviceId:zs("id"),deviceIp:zs("ip"),deviceLanguage:zs("language"),deviceLocale:zs("locale"),deviceModel:zs("model"),deviceFriendlyName:zs("friendlyName"),deviceNetwork:zs("network"),deviceNetworkName:zs("networkName"),deviceOEMName:zs("oemName"),deviceOS:zs("os"),deviceOSVersion:zs("osVersion"),deviceRoleInstance:zs("roleInstance"),deviceRoleName:zs("roleName"),deviceScreenResolution:zs("screenResolution"),deviceType:zs("type"),deviceMachineName:zs("machineName"),deviceVMName:zs("vmName"),deviceBrowser:zs("browser"),deviceBrowserVersion:zs("browserVersion"),locationIp:ux("ip"),locationCountry:ux("country"),locationProvince:ux("province"),locationCity:ux("city"),operationId:s2("id"),operationName:s2("name"),operationParentId:s2("parentId"),operationRootId:s2("rootId"),operationSyntheticSource:s2("syntheticSource"),operationCorrelationVector:s2("correlationVector"),sessionId:fx("id"),sessionIsFirst:fx("isFirst"),sessionIsNew:fx("isNew"),userAccountAcquisitionDate:Sh("accountAcquisitionDate"),userAccountId:Sh("accountId"),userAgent:Sh("userAgent"),userId:Sh("id"),userStoreRegion:Sh("storeRegion"),userAuthUserId:Sh("authUserId"),userAnonymousUserAcquisitionDate:Sh("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Sh("authUserAcquisitionDate"),cloudName:xg("name"),cloudRole:xg("role"),cloudRoleVer:xg("roleVer"),cloudRoleInstance:xg("roleInstance"),cloudEnvironment:xg("environment"),cloudLocation:xg("location"),cloudDeploymentUnit:xg("deploymentUnit"),internalNodeName:h3("nodeName"),internalSdkVersion:h3("sdkVersion"),internalAgentVersion:h3("agentVersion"),internalSnippet:h3("snippet"),internalSdkSrc:h3("sdkSrc")}));function o9(w,B,R,Q,ue,Te){R=qa(Q,R)||ff,(O(w)||O(B)||O(R))&&Fe("Input doesn't contain all required fields");var ke="";w[O6]&&(ke=w[O6],delete w[O6]);var He={name:R,time:Fd(new Date),iKey:ke,ext:Te||{},tags:[],data:{},baseType:B,baseData:w};return O(ue)||Je(ue,function(rt,Et){He.data[rt]=Et}),He}o(o9,"createTelemetryItem");var s9=function(){function w(){}return o(w,"TelemetryItemCreator"),w.create=o9,w}(),WH={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},HH=new Bh;function bB(w){var B=null;if(le(Event))B=new Event(w);else{var R=Ie();R&&R.createEvent&&(B=R.createEvent("Event"),B.initEvent(w,!0,!0))}return B}o(bB,"createDomEvent");function a9(w,B){jS(w,null,null,B)}o(a9,"_disableEvents");function IB(w){var B=Ie(),R=Pt(),Q=!1,ue=[],Te=1;R&&!O(R.onLine)&&!R.onLine&&(Te=2);var ke=0,He=Bn(),rt=yH(Qd("OfflineListener"),w);try{if(yr(Ct())&&(Q=!0),B){var Et=B.body||B;Et.ononline&&yr(Et)&&(Q=!0)}}catch{Q=!1}function yr(Ei){var ma=!1;return Ei&&(ma=Q6(Ei,"online",_n,rt),ma&&Q6(Ei,"offline",An,rt)),ma}o(yr,"_enableEvents");function gn(){return He}o(gn,"_isOnline");function Bn(){return!(ke===2||Te===2)}o(Bn,"calCurrentState");function vr(){var Ei=Bn();He!==Ei&&(He=Ei,Xa(ue,function(ma){var l2={isOnline:He,rState:Te,uState:ke};try{ma(l2)}catch{}}))}o(vr,"listnerNoticeCheck");function kr(Ei){ke=Ei,vr()}o(kr,"setOnlineState");function _n(){Te=1,vr()}o(_n,"_setOnline");function An(){Te=2,vr()}o(An,"_setOffline");function ni(){var Ei=Ct();if(Ei&&Q){if(a9(Ei,rt),B){var ma=B.body||B;ne(ma.ononline)||a9(ma,rt)}Q=!1}}o(ni,"_unload");function Hi(Ei){return ue.push(Ei),{rm:o(function(){var ma=ue.indexOf(Ei);if(ma>-1)return ue.splice(ma,1)},"rm")}}return o(Hi,"addListener"),{isOnline:gn,isListening:o(function(){return Q},"isListening"),unload:ni,addListener:Hi,setOnlineState:kr}}o(IB,"createOfflineListener");var VH="AppInsightsPropertiesPlugin",l9="AppInsightsChannelPlugin",a2="ApplicationInsightsAnalytics";e.AnalyticsPluginIdentifier=a2,e.BreezeChannelIdentifier=l9,e.ConfigurationManager=GH,e.ConnectionStringParser=tx,e.ContextTagKeys=Bh,e.CtxTagKeys=HH,e.DEFAULT_BREEZE_ENDPOINT=M6,e.DEFAULT_BREEZE_PATH=e3,e.Data=qH,e.DisabledPropertyName=jE,e.DistributedTracingModes=IH,e.Envelope=rx,e.Event=BH,e.EventPersistence=o3,e.Exception=pf,e.Extensions=WH,e.HttpMethod=zS,e.Metric=QH,e.PageView=UH,e.PageViewPerformance=m3,e.ProcessLegacy=$E,e.PropertiesPluginIdentifier=VH,e.RemoteDependencyData=i2,e.RequestHeaders=YS,e.SampleRate=$S,e.SeverityLevel=cx,e.TelemetryItemCreator=s9,e.ThrottleMgr=SH,e.Trace=i9,e.correlationIdCanIncludeCorrelationHeader=Ih,e.correlationIdGetCorrelationContext=rB,e.correlationIdGetCorrelationContextValue=nB,e.correlationIdGetPrefix=Y6,e.correlationIdSetPrefix=z6,e.createDistributedTraceContextFromTrace=K6,e.createDomEvent=bB,e.createOfflineListener=IB,e.createTelemetryItem=o9,e.createTraceParent=PA,e.dataSanitizeException=V6,e.dataSanitizeId=jA,e.dataSanitizeInput=j6,e.dataSanitizeKey=H6,e.dataSanitizeKeyAndAddUniqueness=W6,e.dataSanitizeMeasurements=cc,e.dataSanitizeMessage=XE,e.dataSanitizeProperties=qd,e.dataSanitizeString=qa,e.dataSanitizeUrl=mf,e.dateTimeUtilsDuration=bH,e.dateTimeUtilsNow=vH,e.dsPadNumber=KS,e.findAllScripts=N6,e.findW3cTraceParent=P6,e.formatTraceParent=Ag,e.getExtensionByName=OH,e.isBeaconApiSupported=ph,e.isCrossOriginError=_h,e.isInternalApplicationInsightsEndpoint=tB,e.isSampledFlag=qE,e.isValidSpanId=FA,e.isValidTraceId=NA,e.isValidTraceParent=LA,e.msToTimeSpan=n9,e.parseConnectionString=ex,e.parseTraceParent=ac,e.strNotSpecified=ff,e.stringToBoolOrDefault=MH,e.urlGetAbsoluteUrl=EH,e.urlGetCompleteUrl=XS,e.urlGetPathName=xH,e.urlParseFullHost=Gd,e.urlParseHost=ZS,e.urlParseUrl=$A,e.utlCanUseLocalStorage=ZE,e.utlCanUseSessionStorage=Wd,e.utlDisableStorage=s3,e.utlEnableStorage=TH,e.utlGetLocalStorage=sB,e.utlGetSessionStorage=lB,e.utlGetSessionStorageKeys=ZA,e.utlRemoveSessionStorage=cB,e.utlRemoveStorage=uc,e.utlSetLocalStorage=aB,e.utlSetSessionStorage=wH,e.utlSetStoragePrefix=a3})});var BAe=V((qD,SAe)=>{d();(function(e,t){typeof qD=="object"&&typeof SAe<"u"?t(qD):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(qD,function(e){"use strict";function t(g,y){return g||y}o(t,"_pureAssign");function r(g,y){return g[y]}o(r,"_pureRef");var n=void 0,i=null,s="",a="function",l="object",c="prototype",u="__proto__",f="undefined",m="constructor",h="Symbol",p="_polyfill",A="length",E="name",x="call",b="toString",v=t(Object),S=r(v,c),k=t(String),P=r(k,c),N=t(Math),W=t(Array),re=r(W,c),ge=r(re,"slice");function te(g,y){try{return{v:g.apply(this,y)}}catch(I){return{e:I}}}o(te,"safe");function G(g,y){var I=te(g);return I.e?y:I.v}o(G,"safeGet");var q;function se(g){return function(y){return typeof y===g}}o(se,"_createIs");function ne(g){var y="[object "+g+"]";return function(I){return!!(I&&H(I)===y)}}o(ne,"_createObjIs");function H(g){return S[b].call(g)}o(H,"objToString");function O(g){return typeof g===f||g===f}o(O,"isUndefined");function j(g){return!Z(g)}o(j,"isStrictUndefined");function J(g){return g===i||O(g)}o(J,"isNullOrUndefined");function le(g){return g===i||!Z(g)}o(le,"isStrictNullOrUndefined");function Z(g){return!!g||g!==n}o(Z,"isDefined");function ae(g){return!q&&(q=["string","number","boolean",f,"symbol","bigint"]),g!==l&&q.indexOf(g)!==-1}o(ae,"isPrimitiveType");var ce=se("string"),Re=se(a);function be(g){return!g&&J(g)?!1:!!g&&typeof g===l}o(be,"isObject");var Ue=r(W,"isArray"),Be=ne("Date"),Je=se("number"),ut=se("boolean"),it=ne("Error");function ot(g){return!!(g&&g.then&&Re(g.then))}o(ot,"isPromiseLike");function ie(g){return!(!g||G(function(){return!(g&&0+g)},!g))}o(ie,"isTruthy");var Pe=r(v,"getOwnPropertyDescriptor");function Ae(g,y){return!!g&&S.hasOwnProperty[x](g,y)}o(Ae,"objHasOwnProperty");var Ge=t(r(v,"hasOwn"),z);function z(g,y){return Ae(g,y)||!!Pe(g,y)}o(z,"polyObjHasOwn");function ee(g,y,I){if(g&&be(g)){for(var _ in g)if(Ge(g,_)&&y[x](I||g,_,g[_])===-1)break}}o(ee,"objForEachKey");var Fe={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function _e(g){var y={};if(y[Fe.c]=!0,y[Fe.e]=!0,g.l){y.get=function(){return g.l.v};var I=Pe(g.l,"v");I&&I.set&&(y.set=function(_){g.l.v=_})}return ee(g,function(_,D){y[Fe[_]]=j(D)?y[Fe[_]]:D}),y}o(_e,"_createProp");var Ce=r(v,"defineProperty");function Oe(g,y,I){return Ce(g,y,_e(I))}o(Oe,"objDefine");function Ve(g,y,I,_,D){var F={};return ee(g,function(U,oe){Ze(F,U,y?oe:U),Ze(F,oe,I?oe:U)}),_?_(F):F}o(Ve,"_createKeyValueMap");function Ze(g,y,I,_){Ce(g,y,{value:I,enumerable:!0,writable:!1})}o(Ze,"_assignMapValue");var yt=t(k),Rt="[object Error]";function At(g,y){var I=s,_=S[b][x](g);_===Rt&&(g={stack:yt(g.stack),message:yt(g.message),name:yt(g.name)});try{I=JSON.stringify(g,i,y?typeof y=="number"?y:4:n),I=(I?I.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):i)||yt(g)}catch(D){I=" - "+At(D,y)}return _+": "+I}o(At,"dumpObj");function Ht(g){throw new Error(g)}o(Ht,"throwError");function jt(g){throw new TypeError(g)}o(jt,"throwTypeError");var ir=r(v,"freeze");function pe(g){return g}o(pe,"_doNothing");function Le(g){return g[u]||i}o(Le,"_getProto");var Ke=r(v,"assign"),et=r(v,"keys");function _t(g){return ir&&ee(g,function(y,I){(Ue(I)||be(I))&&_t(I)}),xt(g)}o(_t,"objDeepFreeze");var xt=t(ir,pe),Ft=t(r(v,"getPrototypeOf"),Le);function Qt(g){return Ve(g,1,0,xt)}o(Qt,"createEnum");function Tt(g){return Ve(g,0,0,xt)}o(Tt,"createEnumKeyMap");function St(g){var y={};return ee(g,function(I,_){Ze(y,I,_[1]),Ze(y,_[0],_[1])}),xt(y)}o(St,"createSimpleMap");function wt(g){return St(g)}o(wt,"createTypeMap");var Ot=Tt({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),Gt="__tsUtils$gblCfg",$t;function lr(){var g;return typeof globalThis!==f&&(g=globalThis),!g&&typeof self!==f&&(g=self),!g&&typeof window!==f&&(g=window),!g&&typeof global!==f&&(g=global),g}o(lr,"_getGlobalValue");function hr(){if(!$t){var g=te(lr).v||{};$t=g[Gt]=g[Gt]||{}}return $t}o(hr,"_getGlobalConfig");var sr=cr;function cr(g,y,I){var _=y?y[g]:i;return function(D){var F=(D?D[g]:i)||_;if(F||I){var U=arguments;return(F||I).apply(D,F?ge[x](U,1):U)}jt('"'+yt(g)+'" not defined for '+At(D))}}o(cr,"_unwrapFunctionWithPoly");function Jt(g){return function(y){return y[g]}}o(Jt,"_unwrapProp");var ur=r(N,"min"),ve=r(N,"max"),M=sr("slice",P),de=sr("substring",P),ye=cr("substr",P,Y);function Y(g,y,I){return J(g)&&jt("Invalid "+At(g)),I<0?s:(y=y||0,y<0&&(y=ve(y+g[A],0)),O(I)?M(g,y):M(g,y,y+I))}o(Y,"polyStrSubstr");function L(g,y){return de(g,0,y)}o(L,"strLeft");var Ie="_urid",Me;function Ct(){if(!Me){var g=hr();Me=g.gblSym=g.gblSym||{k:{},s:{}}}return Me}o(Ct,"_globalSymbolRegistry");var Ut;function Pt(g){var y={description:yt(g),toString:o(function(){return h+"("+g+")"},"toString")};return y[p]=!0,y}o(Pt,"polyNewSymbol");function tr(g){var y=Ct();if(!Ge(y.k,g)){var I=Pt(g),_=et(y.s).length;I[Ie]=function(){return _+"_"+I[b]()},y.k[g]=I,y.s[I[Ie]()]=yt(g)}return y.k[g]}o(tr,"polySymbolFor");function or(g){!Ut&&(Ut={});var y,I=Ot[g];return I&&(y=Ut[I]=Ut[I]||Pt(h+"."+I)),y}o(or,"polyGetKnownSymbol");var Mt;function bt(){Mt=hr()}o(bt,"_initTestHooks");function ar(g){var y={};return!Mt&&bt(),y.b=Mt.lzy,Ce(y,"v",{configurable:!0,get:o(function(){var I=g();return Mt.lzy||Ce(y,"v",{value:I}),y.b=Mt.lzy,I},"get")}),y}o(ar,"getLazy");function Ro(g){return Ce({toJSON:o(function(){return g},"toJSON")},"v",{value:g})}o(Ro,"createCachedValue");var kd="window",Xa;function Rd(g,y){var I;return function(){return!Mt&&bt(),(!I||Mt.lzy)&&(I=Ro(te(g,y).v)),I.v}}o(Rd,"_getGlobalInstFn");function nf(g){return!Mt&&bt(),(!Xa||g===!1||Mt.lzy)&&(Xa=Ro(te(lr).v||i)),Xa.v}o(nf,"getGlobal");function Ns(g,y){var I;if(!Xa||y===!1?I=nf(y):I=Xa.v,I&&I[g])return I[g];if(g===kd)try{return window}catch{}return i}o(Ns,"getInst");function nh(){return!!oA()}o(nh,"hasDocument");var oA=Rd(Ns,["document"]);function c6(){return!!Dd()}o(c6,"hasWindow");var Dd=Rd(Ns,[kd]);function zW(){return!!ih()}o(zW,"hasNavigator");var ih=Rd(Ns,["navigator"]),YW=Rd(function(){return!!te(function(){return process&&(process.versions||{}).node}).v}),tg,u6;function dE(){return tg=Ro(te(Ns,[h]).v),tg}o(dE,"_initSymbol");function KW(g){var y=(Mt.lzy?0:tg)||dE();return y.v?y.v[g]:n}o(KW,"_getSymbolKey");function Jl(){return!!oh()}o(Jl,"hasSymbol");function oh(){return!Mt&&bt(),((Mt.lzy?0:tg)||dE()).v}o(oh,"getSymbol");function Fy(g,y){var I=Ot[g];!Mt&&bt();var _=(Mt.lzy?0:tg)||dE();return _.v?_.v[I||g]:y?n:or(g)}o(Fy,"getKnownSymbol");function rg(g,y){!Mt&&bt();var I=(Mt.lzy?0:tg)||dE();return I.v?I.v(g):y?i:Pt(g)}o(rg,"newSymbol");function Ly(g){return!Mt&&bt(),u6=(Mt.lzy?0:u6)||Ro(te(KW,["for"]).v),(u6.v||tr)(g)}o(Ly,"symbolFor");function sh(g){return!!g&&Re(g.next)}o(sh,"isIterator");function mE(g){return!le(g)&&Re(g[Fy(3)])}o(mE,"isIterable");var Qy;function f6(g,y,I){if(g&&(sh(g)||(!Qy&&(Qy=Ro(Fy(3))),g=g[Qy.v]?g[Qy.v]():i),sh(g))){var _=n,D=n;try{for(var F=0;!(D=g.next()).done&&y[x](I||g,D.value,F,g)!==-1;)F++}catch(U){_={e:U},g.throw&&(D=i,g.throw(_))}finally{try{D&&!D.done&&g.return&&g.return(D)}finally{if(_)throw _.e}}}}o(f6,"iterForOf");function sA(g,y,I){return g.apply(y,I)}o(sA,"fnApply");function aA(g,y){return!O(y)&&g&&(Ue(y)?sA(g.push,g,y):sh(y)||mE(y)?f6(y,function(I){g.push(I)}):g.push(y)),g}o(aA,"arrAppend");function Hr(g,y,I){if(g)for(var _=g[A]>>>0,D=0;D<_&&!(D in g&&y[x](I||g,g[D],D,g)===-1);D++);}o(Hr,"arrForEach");var b0=sr("indexOf",re),ng=sr("map",re);function lA(g,y,I){return((g?g.slice:i)||ge).apply(g,ge[x](arguments,1))}o(lA,"arrSlice");var JW=sr("reduce",re),ah=t(r(v,"create"),XW);function XW(g){if(!g)return{};var y=typeof g;y!==l&&y!==a&&jt("Prototype must be an Object or function: "+At(g));function I(){}return o(I,"tempFunc"),I[c]=g,new I}o(XW,"polyObjCreate");var d6;function My(g,y){var I=v.setPrototypeOf||function(_,D){var F;!d6&&(d6=Ro((F={},F[u]=[],F instanceof Array))),d6.v?_[u]=D:ee(D,function(U,oe){return _[U]=oe})};return I(g,y)}o(My,"objSetPrototypeOf");function ZW(g,y,I){te(Oe,[y,E,{v:g,c:!0,e:!1}]),y=My(y,I);function _(){this[m]=y,te(Oe,[this,E,{v:g,c:!0,e:!1}])}return o(_,"__"),y[c]=I===i?ah(I):(_[c]=I[c],new _),y}o(ZW,"_createCustomError");function Oy(g,y){y&&(g[E]=y)}o(Oy,"_setName");function da(g,y,I){var _=I||Error,D=_[c][E],F=Error.captureStackTrace;return ZW(g,function(){var U=this,oe=arguments;try{te(Oy,[_,g]);var fe=sA(_,U,ge[x](oe))||U;if(fe!==U){var Ee=Ft(U);Ee!==Ft(fe)&&My(fe,Ee)}return F&&F(fe,U[m]),y&&y(fe,oe),fe}finally{te(Oy,[_,D])}},_)}o(da,"createCustomError");function lh(){return(Date.now||Uy)()}o(lh,"utcNow");function Uy(){return new Date().getTime()}o(Uy,"polyUtcNow");function ES(g){return o(function(I){return J(I)&&jt("strTrim called ["+At(I)+"]"),I&&I.replace&&(I=I.replace(g,s)),I},"_doTrim")}o(ES,"_createTrimFn");var eH=ES(/^\s+|(?=\s)\s+$/g),Di=cr("trim",P,eH),ig=r(N,"floor"),ch,m6,qy;function I0(g){if(!g||typeof g!==l)return!1;qy||(qy=c6()?Dd():!0);var y=!1;if(g!==qy){m6||(ch=Function[c][b],m6=ch[x](v));try{var I=Ft(g);y=!I,y||(Ae(I,m)&&(I=I[m]),y=!!(I&&typeof I===a&&ch[x](I)===m6))}catch{}}return y}o(I0,"isPlainObject");function xS(g){return g.value&&hE(g),!0}o(xS,"_defaultDeepCopyHandler");var vS=[cA,hE,IS,uh];function h6(g,y,I,_){var D;return Hr(g,function(F){if(F.k===y)return D=F,-1}),D||(D={k:y,v:y},g.push(D),_(D)),D.v}o(h6,"_getSetVisited");function og(g,y,I,_){var D=I.handler,F=I.path?_?I.path.concat(_):I.path:[],U={handler:I.handler,src:I.src,path:F},oe=typeof y,fe=!1,Ee=y===i;Ee||(y&&oe===l?fe=I0(y):Ee=ae(oe));var Se={type:oe,isPrim:Ee,isPlain:fe,value:y,result:y,path:F,origin:I.src,copy:o(function(qe,Xe){return og(g,qe,Xe?U:I,Xe)},"copy"),copyTo:o(function(qe,Xe){return p6(g,qe,Xe,U)},"copyTo")};return Se.isPrim?D&&D[x](I,Se)?Se.result:y:h6(g,y,F,function(qe){Oe(Se,"result",{g:o(function(){return qe.v},"g"),s:o(function(ze){qe.v=ze},"s")});for(var Xe=0,We=D;!(We||(Xe<vS.length?vS[Xe++]:xS))[x](I,Se);)We=i})}o(og,"_deepCopy");function p6(g,y,I,_){if(!J(I))for(var D in I)y[D]=og(g,I[D],_,D);return y}o(p6,"_copyProps");function bS(g,y,I){var _={handler:I,src:y,path:[]};return p6([],g,y,_)}o(bS,"objCopyProps");function g6(g,y){var I={handler:y,src:g};return og([],g,I)}o(g6,"objDeepCopy");function cA(g){var y=g.value;if(Ue(y)){var I=g.result=[];return I.length=y.length,g.copyTo(I,y),!0}return!1}o(cA,"arrayDeepCopyHandler");function uh(g){var y=g.value;return Be(y)?(g.result=new Date(y.getTime()),!0):!1}o(uh,"dateDeepCopyHandler");function IS(g){return g.type===a}o(IS,"functionDeepCopyHandler");function hE(g){var y=g.value;if(y&&g.isPlain){var I=g.result={};return g.copyTo(I,y),!0}return!1}o(hE,"plainObjDeepCopyHandler");function A6(g,y){return Hr(y,function(I){bS(g,I)}),g}o(A6,"_doExtend");function pE(g,y,I,_,D,F,U){return A6(g6(g)||{},ge[x](arguments))}o(pE,"deepExtend");var tH=Jt(A),rH=r(N,"round"),TS=cr("endsWith",P,nH);function nH(g,y,I){ce(g)||jt("'"+At(g)+"' is not a string");var _=ce(y)?y:yt(y),D=!O(I)&&I<g[A]?I:g[A];return de(g,D-_[A],D)===_}o(nH,"polyStrEndsWith");var Pd=sr("indexOf",P),gE="ref",y6="unref",AE="hasRef",iH="enabled";function yE(g,y,I){var _=!0,D=g?y(i):i,F;function U(){return _=!1,D&&D[y6]&&D[y6](),F}o(U,"_unref");function oe(){D&&I(D),D=i}o(oe,"_cancel");function fe(){return D=y(D),_||U(),F}o(fe,"_refresh");function Ee(Se){!Se&&D&&oe(),Se&&!D&&fe()}return o(Ee,"_setEnabled"),F={cancel:oe,refresh:fe},F[AE]=function(){return D&&D[AE]?D[AE]():_},F[gE]=function(){return _=!0,D&&D[gE]&&D[gE](),F},F[y6]=U,F=Ce(F,iH,{get:o(function(){return!!D},"get"),set:Ee}),{h:F,dn:o(function(){D=i},"dn")}}o(yE,"_createTimerHandler");function CE(g,y,I){var _=Ue(y),D=_?y.length:0,F=(D>0?y[0]:_?n:y)||setTimeout,U=(D>1?y[1]:n)||clearTimeout,oe=I[0];I[0]=function(){fe.dn(),sA(oe,n,ge[x](arguments))};var fe=yE(g,function(Ee){if(Ee){if(Ee.refresh)return Ee.refresh(),Ee;sA(U,n,[Ee])}return sA(F,n,I)},function(Ee){sA(U,n,[Ee])});return fe.h}o(CE,"_createTimeoutWith");function fh(g,y){return CE(!0,n,ge[x](arguments))}o(fh,"scheduleTimeout");function EE(g,y){return CE(!1,n,ge[x](arguments))}o(EE,"createTimeout");var sg,nc="constructor",ic="prototype",ag="function",uA="_dynInstFuncs",dh="_isDynProxy",fA="_dynClass",C6="_dynCls$",lg="_dynInstChk",dA=lg,E6="_dfOpts",xE="_unknown_",mA="__proto__",Gy="_dyn"+mA,vE="__dynProto$Gbl",hA="_dynInstProto",pA="useBaseInst",Wy="setInstFuncs",cg=Object,gA=cg.getPrototypeOf,x6=cg.getOwnPropertyNames,bE=nf(),AA=bE[vE]||(bE[vE]={o:(sg={},sg[Wy]=!0,sg[pA]=!0,sg),n:1e3});function yA(g){return g&&(g===cg[ic]||g===Array[ic])}o(yA,"_isObjectOrArrayPrototype");function Nd(g){return yA(g)||g===Function[ic]}o(Nd,"_isObjectArrayOrFunctionPrototype");function of(g){var y;if(g){if(gA)return gA(g);var I=g[mA]||g[ic]||(g[nc]?g[nc][ic]:null);y=g[Gy]||I,Ae(g,Gy)||(delete g[hA],y=g[Gy]=g[hA]||g[Gy],g[hA]=I)}return y}o(of,"_getObjProto");function CA(g,y){var I=[];if(x6)I=x6(g);else for(var _ in g)typeof _=="string"&&Ae(g,_)&&I.push(_);if(I&&I.length>0)for(var D=0;D<I.length;D++)y(I[D])}o(CA,"_forEachProp");function EA(g,y,I){return y!==nc&&typeof g[y]===ag&&(I||Ae(g,y))&&y!==mA&&y!==ic}o(EA,"_isDynamicCandidate");function IE(g){jt("DynamicProto: "+g)}o(IE,"_throwTypeError");function v6(g){var y=ah(null);return CA(g,function(I){!y[I]&&EA(g,I,!1)&&(y[I]=g[I])}),y}o(v6,"_getInstanceFuncs");function b6(g,y){for(var I=g.length-1;I>=0;I--)if(g[I]===y)return!0;return!1}o(b6,"_hasVisited");function oH(g,y,I,_){function D(fe,Ee,Se){var qe=Ee[Se];if(qe[dh]&&_){var Xe=fe[uA]||{};Xe[dA]!==!1&&(qe=(Xe[Ee[fA]]||{})[Se]||qe)}return function(){return qe.apply(fe,arguments)}}o(D,"_instFuncProxy");var F=ah(null);CA(I,function(fe){F[fe]=D(y,I,fe)});for(var U=of(g),oe=[];U&&!Nd(U)&&!b6(oe,U);)CA(U,function(fe){!F[fe]&&EA(U,fe,!gA)&&(F[fe]=D(y,U,fe))}),oe.push(U),U=of(U);return F}o(oH,"_getBaseFuncs");function sH(g,y,I,_){var D=null;if(g&&Ae(I,fA)){var F=g[uA]||ah(null);if(D=(F[I[fA]]||ah(null))[y],D||IE("Missing ["+y+"] "+ag),!D[lg]&&F[dA]!==!1){for(var U=!Ae(g,y),oe=of(g),fe=[];U&&oe&&!Nd(oe)&&!b6(fe,oe);){var Ee=oe[y];if(Ee){U=Ee===_;break}fe.push(oe),oe=of(oe)}try{U&&(g[y]=D),D[lg]=1}catch{F[dA]=!1}}}return D}o(sH,"_getInstFunc");function aH(g,y,I){var _=y[g];return _===I&&(_=of(y)[g]),typeof _!==ag&&IE("["+g+"] is not a "+ag),_}o(aH,"_getProtoFunc");function lH(g,y,I,_,D){function F(fe,Ee){var Se=o(function(){var qe=sH(this,Ee,fe,Se)||aH(Ee,fe,Se);return qe.apply(this,arguments)},"dynProtoProxy");return Se[dh]=1,Se}if(o(F,"_createDynamicPrototype"),!yA(g)){var U=I[uA]=I[uA]||ah(null);if(!yA(U)){var oe=U[y]=U[y]||ah(null);U[dA]!==!1&&(U[dA]=!!D),yA(oe)||CA(I,function(fe){EA(I,fe,!1)&&I[fe]!==_[fe]&&(oe[fe]=I[fe],delete I[fe],(!Ae(g,fe)||g[fe]&&!g[fe][dh])&&(g[fe]=F(g,fe)))})}}}o(lH,"_populatePrototype");function I6(g,y){if(gA){for(var I=[],_=of(y);_&&!Nd(_)&&!b6(I,_);){if(_===g)return!0;I.push(_),_=of(_)}return!1}return!0}o(I6,"_checkPrototype");function Hy(g,y){return Ae(g,ic)?g.name||y||xE:((g||{})[nc]||{}).name||y||xE}o(Hy,"_getObjName");function _l(g,y,I,_){Ae(g,ic)||IE("theClass is an invalid class definition.");var D=g[ic];I6(D,y)||IE("["+Hy(g)+"] not in hierarchy of ["+Hy(y)+"]");var F=null;Ae(D,fA)?F=D[fA]:(F=C6+Hy(g,"_")+"$"+AA.n,AA.n++,D[fA]=F);var U=_l[E6],oe=!!U[pA];oe&&_&&_[pA]!==void 0&&(oe=!!_[pA]);var fe=v6(y),Ee=oH(D,y,fe,oe);I(y,Ee);var Se=!!gA&&!!U[Wy];Se&&_&&(Se=!!_[Wy]),lH(D,F,y,fe,Se!==!1)}o(_l,"dynamicProto"),_l[E6]=AA.o;var Is="function",wS="object",_S="undefined",Vy="prototype",T6=Object,w6=T6[Vy];(nf()||{}).Symbol,(nf()||{}).Reflect;var TE="hasOwnProperty",SS=o(function(g){for(var y,I=1,_=arguments.length;I<_;I++){y=arguments[I];for(var D in y)w6[TE].call(y,D)&&(g[D]=y[D])}return g},"__objAssignFnImpl"),Fd=Ke||SS,mh=o(function(g,y){return mh=T6.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,_){I.__proto__=_}||function(I,_){for(var D in _)_[TE](D)&&(I[D]=_[D])},mh(g,y)},"extendStaticsFn");function jy(g,y){typeof y!==Is&&y!==null&&jt("Class extends value "+String(y)+" is not a constructor or null"),mh(g,y);function I(){this.constructor=g}o(I,"__"),g[Vy]=y===null?ah(y):(I[Vy]=y[Vy],new I)}o(jy,"__extendsFn");function BS(g,y){for(var I=0,_=y.length,D=g.length;I<_;I++,D++)g[D]=y[I];return g}o(BS,"__spreadArrayFn");var wE=Qt,cH=wt,hh=wE({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2}),xA="toLowerCase",Ln="length",vA="warnToConsole",ug="throwInternal",Ld="watch",_E="apply",Pi="push",bA="splice",js="logger",IA="cancel",$y="initialize",ph="identifier",zy="removeNotificationListener",SE="addNotificationListener",sf="isInitialized",TA="value",Yc="getNotifyMgr",wA="getPlugin",gh="name",Za="processNext",_A="getProcessTelContext",af="enabled",kS="stopPollingInternalLogs",fg="unload",BE="onComplete",SA="version",RS="loggingLevelConsole",dg="createNew",lf="teardown",kE="messageId",mg="message",cf="diagLog",RE="_doTeardown",Qd="update",uf="getNext",Ah="setNextPlugin",DE="userAgent",yh="split",Ch="replace",Sl="type",_6="evtName",Yy="status",S6="getAllResponseHeaders",B6="isChildEvt",BA="data",Eh="getCtx",Kc="setCtx",DS="itemsReceived",Md="urlString",k6="headers",Od="timeout",PS="traceFlags",kA;function R6(g,y){kA||(kA=da("AggregationError",function(_,D){D[Ln]>1&&(_.errors=D[1])}));var I=g||"One or more errors occurred.";throw Hr(y,function(_,D){I+=`
`.concat(D," > ").concat(At(_))}),new kA(I,y||[])}o(R6,"throwAggregationError");var hg="Promise",pg="rejected";function oc(g,y){return NS(g,function(I){return y?y({status:"fulfilled",rejected:!1,value:I}):I},function(I){return y?y({status:pg,rejected:!0,reason:I}):I})}o(oc,"doAwaitResponse");function NS(g,y,I,_){var D=g;try{if(ot(g))(y||I)&&(D=g.then(y,I));else try{y&&(D=y(g))}catch(F){if(I)D=I(F);else throw F}}finally{_&&uH(D,_)}return D}o(NS,"doAwait");function uH(g,y){var I=g;return y&&(ot(g)?g.finally?I=g.finally(y):I=g.then(function(_){return y(),_},function(_){throw y(),_}):y()),I}o(uH,"doFinally");var LS=["pending","resolving","resolved",pg],QS="dispatchEvent",Ky;function MS(g){var y;return g&&g.createEvent&&(y=g.createEvent("Event")),!!y&&y.initEvent}o(MS,"_hasInitEventFn");function PE(g,y,I,_){var D=oA();!Ky&&(Ky=Ro(!!te(MS,[D]).v));var F=Ky.v?D.createEvent("Event"):_?new Event(y):{};if(I&&I(F),Ky.v&&F.initEvent(y,!1,!0),F&&g[QS])g[QS](F);else{var U=g["on"+y];if(U)U(F);else{var oe=Ns("console");oe&&(oe.error||oe.log)(y,At(F))}}}o(PE,"emitEvent");var OS="unhandledRejection",fH=OS.toLowerCase(),RA=10,NE;function US(g){return Re(g)?g.toString():At(g)}o(US,"dumpFnObj");function qS(g,y,I){var _=lA(arguments,3),D=0,F=!1,U,oe=[],fe=!1,Ee=null,Se;function qe(fr,wr){try{fe=!0,Ee&&Ee.cancel(),Ee=null;var Pn=g(function(fi,di){oe.push(function(){try{var to=D===2?fr:wr,sn=O(to)?U:Re(to)?to(U):to;ot(sn)?sn.then(fi,di):to?fi(sn):D===3?di(sn):fi(sn)}catch(Ur){di(Ur)}}),F&&ht()},_);return Pn}finally{}}o(qe,"_then");function Xe(fr){return qe(void 0,fr)}o(Xe,"_catch");function We(fr){var wr=fr,Pn=fr;return Re(fr)&&(wr=o(function(fi){return fr&&fr(),fi},"thenFinally"),Pn=o(function(fi){throw fr&&fr(),fi},"catchFinally")),qe(wr,Pn)}o(We,"_finally");function ze(){return LS[D]}o(ze,"_strState");function ht(){if(oe.length>0){var fr=oe.slice();oe=[],fe=!0,Ee&&Ee.cancel(),Ee=null,y(fr)}}o(ht,"_processQueue");function st(fr,wr){return function(Pn){if(D===wr){if(fr===2&&ot(Pn)){D=1,Pn.then(st(2,1),st(3,1));return}D=fr,F=!0,U=Pn,ht(),!fe&&fr===3&&!Ee&&(Ee=fh(It,RA))}}}o(st,"_createSettleIfFn");function It(){if(!fe)if(fe=!0,YW())process.emit(OS,U,Se);else{var fr=Dd()||nf();!NE&&(NE=Ro(te(Ns,[hg+"RejectionEvent"]).v)),PE(fr,fH,function(wr){return Oe(wr,"promise",{g:o(function(){return Se},"g")}),wr.reason=U,wr},!!NE.v)}}o(It,"_notifyUnhandledRejection"),Se={then:qe,catch:Xe,finally:We},Ce(Se,"state",{get:ze}),Jl()&&(Se[Fy(11)]="IPromise");function Vt(){return"IPromise "+ze()+(F?" - "+US(U):"")}return o(Vt,"_toString"),Se.toString=Vt,o(function(){Re(I)||jt(hg+": executor is not a function - "+US(I));var wr=st(3,0);try{I.call(Se,st(2,0),wr)}catch(Pn){wr(Pn)}},"_initialize")(),Se}o(qS,"_createPromise");function dH(g){return function(y){var I=lA(arguments,1);return g(function(_,D){try{var F=[],U=1;f6(y,function(oe,fe){oe&&(U++,NS(oe,function(Ee){F[fe]=Ee,--U===0&&_(F)},D))}),U--,U===0&&_(F)}catch(oe){D(oe)}},I)}}o(dH,"_createAllPromise");function mH(g){return Ro(function(y){var I=lA(arguments,1);return g(function(_,D){var F=[],U=1;function oe(fe,Ee){U++,oc(fe,function(Se){Se.rejected?F[Ee]={status:pg,reason:Se.reason}:F[Ee]={status:"fulfilled",value:Se.value},--U===0&&_(F)})}o(oe,"processItem");try{Ue(y)?Hr(y,oe):mE(y)?f6(y,oe):jt("Input is not an iterable"),U--,U===0&&_(F)}catch(fe){D(fe)}},I)})}o(mH,"_createAllSettledPromise");function GS(g){Hr(g,function(y){try{y()}catch{}})}o(GS,"syncItemProcessor");function WS(g){var y=Je(g)?g:0;return function(I){fh(function(){GS(I)},y)}}o(WS,"timeoutItemProcessor");function FE(g,y){return qS(FE,WS(y),g,y)}o(FE,"createAsyncPromise");var LE;function hH(g,y){!LE&&(LE=Ro(te(Ns,[hg]).v||null));var I=LE.v;if(!I)return FE(g);Re(g)||jt(hg+": executor is not a function - "+At(g));var _=0;function D(){return LS[_]}o(D,"_strState");var F=new I(function(U,oe){function fe(Se){_=2,U(Se)}o(fe,"_resolve");function Ee(Se){_=3,oe(Se)}o(Ee,"_reject"),g(fe,Ee)});return Ce(F,"state",{get:D}),F}o(hH,"createNativePromise");var QE;function ME(g){return qS(ME,GS,g)}o(ME,"createSyncPromise");function T0(g,y){return!QE&&(QE=mH(ME)),QE.v(g,y)}o(T0,"createSyncAllSettledPromise");var OE;function DA(g,y){return!OE&&(OE=Ro(hH)),OE.v.call(this,g,y)}o(DA,"createPromise");var D6=dH(DA),sc=void 0,ri="",Ud="channels",$s="core",Jc="createPerfMgr",UE="disabled",gg="extensionConfig",PA="extensions",ac="processTelemetry",NA="priority",FA="eventsSent",LA="eventsDiscarded",qE="eventsSendRequest",Ag="perfEvent",P6="offlineEventsStored",N6="offlineBatchSent",GE="offlineBatchDrop",Jy="getPerfMgr",WE="domain",HE="path",HS="Not dynamic - ",F6=/-([a-z])/g,pH=/([^\w\d_$])/g,gH=/^(\d+[\w\d_$])/;function VE(g){return!J(g)}o(VE,"isNotNullOrUndefined");function QA(g){var y=g;return y&&ce(y)&&(y=y[Ch](F6,function(I,_){return _.toUpperCase()}),y=y[Ch](pH,"_"),y=y[Ch](gH,function(I,_){return"_"+_})),y}o(QA,"normalizeJsName");function el(g,y){return g&&y?Pd(g,y)!==-1:!1}o(el,"strContains");function Xy(g){return g&&g.toISOString()||""}o(Xy,"toISOString");function Ua(g){return it(g)?g[gh]:ri}o(Ua,"getExceptionName");function xh(g,y,I,_,D){var F=I;return g&&(F=g[y],F!==I&&(!D||D(F))&&(!_||_(I))&&(F=I,g[y]=F)),F}o(xh,"setValue");function VS(g,y,I){var _;return g?(_=g[y],!_&&J(_)&&(_=O(I)?{}:I,g[y]=_)):_=O(I)?{}:I,_}o(VS,"getSetValue");function AH(g,y){var I=null,_=null;return Re(g)?I=g:_=g,function(){var D=arguments;if(I&&(_=I()),_)return _[y][_E](_,D)}}o(AH,"_createProxyFunction");function Zy(g,y,I,_,D){g&&y&&I&&(D!==!1||O(g[y]))&&(g[y]=AH(I,_))}o(Zy,"proxyFunctionAs");function L6(g,y,I,_){return g&&y&&be(g)&&Ue(I)&&Hr(I,function(D){ce(D)&&Zy(g,D,y,D,_)}),g}o(L6,"proxyFunctions");function yH(g){return function(){function y(){var I=this;g&&ee(g,function(_,D){I[_]=D})}return o(y,"class_1"),y}()}o(yH,"createClassFromInterface");function Q6(g){return g&&Ke&&(g=T6(Ke({},g))),g}o(Q6,"optimizeObject");function jS(g,y,I,_,D,F){var U=arguments,oe=U[0]||{},fe=U[Ln],Ee=!1,Se=1;for(fe>0&&ut(oe)&&(Ee=oe,oe=U[Se]||{},Se++),be(oe)||(oe={});Se<fe;Se++){var qe=U[Se],Xe=Ue(qe),We=be(qe);for(var ze in qe){var ht=Xe&&ze in qe||We&&Ge(qe,ze);if(ht){var st=qe[ze],It=void 0;if(Ee&&st&&((It=Ue(st))||I0(st))){var Vt=oe[ze];It?Ue(Vt)||(Vt=[]):I0(Vt)||(Vt={}),st=jS(Ee,Vt,st)}st!==void 0&&(oe[ze]=st)}}}return oe}o(jS,"objExtend");function jE(g){try{return g.responseText}catch{}return null}o(jE,"getResponseText");function $S(g,y){return g?"XDomainRequest,Response:"+jE(g)||"":y}o($S,"formatErrorMessageXdr");function $E(g,y){return g?"XMLHttpRequest,Status:"+g[Yy]+",Response:"+jE(g)||g.response||"":y}o($E,"formatErrorMessageXhr");function zS(g,y){return y&&(Je(y)?g=[y].concat(g):Ue(y)&&(g=y.concat(g))),g}o(zS,"prependTransports");var M6="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",e3="withCredentials",ff="timeout";function O6(g,y,I,_,D,F){_===void 0&&(_=!1),D===void 0&&(D=!1);function U(fe,Ee,Se){try{fe[Ee]=Se}catch{}}o(U,"_wrapSetXhrProp");var oe=new XMLHttpRequest;return _&&U(oe,M6,_),I&&U(oe,e3,I),oe.open(g,y,!D),I&&U(oe,e3,I),!D&&F&&U(oe,ff,F),oe}o(O6,"openXhr");function YS(g){var y={};if(ce(g)){var I=Di(g)[yh](/[\r\n]+/);Hr(I,function(_){if(_){var D=_.indexOf(": ");if(D!==-1){var F=Di(_.substring(0,D))[xA](),U=Di(_.substring(D+1));y[F]=U}else y[Di(_)]=1}})}return y}o(YS,"convertAllHeadersToMap");function vh(g,y,I){if(!g[I]&&y&&y.getResponseHeader){var _=y.getResponseHeader(I);_&&(g[I]=Di(_))}return g}o(vh,"_appendHeader");var pn="kill-duration",MA="kill-duration-seconds",yg="time-delta-millis";function Cg(g,y){var I={};return g[S6]?I=YS(g[S6]()):y&&(I=vh(I,g,yg),I=vh(I,g,pn),I=vh(I,g,MA)),I}o(Cg,"_getAllResponseHeaders");var U6="documentMode",t3="location",OA="console",zE="JSON",q6="crypto",YE="msCrypto",UA="msie",Eg="trident/",G6="XMLHttpRequest",lc=null,qA=null,df=!1,Xl=null,GA=null;function r3(g,y){var I=!1;if(g){try{if(I=y in g,!I){var _=g[Vy];_&&(I=y in _)}}catch{}if(!I)try{var D=new g;I=!O(D[y])}catch{}}return I}o(r3,"_hasProperty");function WA(g){if(g&&df){var y=Ns("__mockLocation");if(y)return y}return typeof location===wS&&location?location:Ns(t3)}o(WA,"getLocation");function n3(){return typeof console!==_S?console:Ns(OA)}o(n3,"getConsole");function HA(){return!!(typeof JSON===wS&&JSON||Ns(zE)!==null)}o(HA,"hasJSON");function w0(){return HA()?JSON||Ns(zE):null}o(w0,"getJSON");function KE(){return Ns(q6)}o(KE,"getCrypto");function JE(){return Ns(YE)}o(JE,"getMsCrypto");function Xc(){var g=ih();if(g&&(g[DE]!==qA||lc===null)){qA=g[DE];var y=(qA||ri)[xA]();lc=el(y,UA)||el(y,Eg)}return lc}o(Xc,"isIE");function VA(g){if(g===void 0&&(g=null),!g){var y=ih()||{};g=y?(y.userAgent||ri)[xA]():ri}var I=(g||ri)[xA]();if(el(I,UA)){var _=oA()||{};return ve(parseInt(I[yh](UA)[1]),_[U6]||0)}else if(el(I,Eg)){var D=parseInt(I[yh](Eg)[1]);if(D)return D+4}return null}o(VA,"getIEVersion");function bh(g){return(GA===null||g===!1)&&(GA=zW()&&!!ih().sendBeacon),GA}o(bh,"isBeaconsSupported");function i3(g){var y=!1;try{y=!!Ns("fetch");var I=Ns("Request");y&&g&&I&&(y=r3(I,"keepalive"))}catch{}return y}o(i3,"isFetchSupported");function W6(){return Xl===null&&(Xl=typeof XDomainRequest!==_S,Xl&&H6()&&(Xl=Xl&&!r3(Ns(G6),"withCredentials"))),Xl}o(W6,"useXDomainRequest");function H6(){var g=!1;try{var y=Ns(G6);g=!!y}catch{}return g}o(H6,"isXhrSupported");var qa=4294967296,mf=4294967295,XE=123456789,V6=987654321,qd=!1,cc=XE,jA=V6;function j6(g){g<0&&(g>>>=0),cc=XE+g&mf,jA=V6-g&mf,qd=!0}o(j6,"_mwcSeed");function KS(){try{var g=lh()&2147483647;j6((Math.random()*qa^g)+g)}catch{}}o(KS,"_autoSeedMwc");function $6(g){var y=0,I=KE()||JE();return I&&I.getRandomValues&&(y=I.getRandomValues(new Uint32Array(1))[0]&mf),y===0&&Xc()&&(qd||KS(),y=JS()&mf),y===0&&(y=ig(qa*Math.random()|0)),g||(y>>>=0),y}o($6,"random32");function JS(g){jA=36969*(jA&65535)+(jA>>16)&mf,cc=18e3*(cc&65535)+(cc>>16)&mf;var y=(jA<<16)+(cc&65535)>>>0&mf|0;return g||(y>>>=0),y}o(JS,"mwcRandom32");function CH(g){g===void 0&&(g=22);for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",I=$6()>>>0,_=0,D=ri;D[Ln]<g;)_++,D+=y.charAt(I&63),I>>>=6,_===5&&(I=($6()<<2&4294967295|I&3)>>>0,_=0);return D}o(CH,"newId");var $A="3.3.6",EH="."+CH(6),xH=0;function XS(g){return g.nodeType===1||g.nodeType===9||!+g.nodeType}o(XS,"_canAcceptData");function ZS(g,y){var I=y[g.id];if(!I){I={};try{XS(y)&&Oe(y,g.id,{e:!1,v:I})}catch{}}return I}o(ZS,"_getCache");function Gd(g,y){return y===void 0&&(y=!1),QA(g+xH+++(y?"."+$A:ri)+EH)}o(Gd,"createUniqueNamespace");function eB(g){var y={id:Gd("_aiData-"+(g||ri)+"."+$A),accept:o(function(I){return XS(I)},"accept"),get:o(function(I,_,D,F){var U=I[y.id];return U?U[QA(_)]:(F&&(U=ZS(y,I),U[QA(_)]=D),D)},"get"),kill:o(function(I,_){if(I&&I[_])try{delete I[_]}catch{}},"kill")};return y}o(eB,"createElmNodeData");function zA(g){return g&&be(g)&&(g.isVal||g.fb||Ge(g,"v")||Ge(g,"mrg")||Ge(g,"ref")||g.set)}o(zA,"_isConfigDefaults");function tB(g,y,I){var _,D=I.dfVal||Z;if(y&&I.fb){var F=I.fb;Ue(F)||(F=[F]);for(var U=0;U<F[Ln];U++){var oe=F[U],fe=y[oe];if(D(fe)?_=fe:g&&(fe=g.cfg[oe],D(fe)&&(_=fe),g.set(g.cfg,yt(oe),fe)),D(_))break}}return!D(_)&&D(I.v)&&(_=I.v),_}o(tB,"_getDefault");function z6(g,y,I){var _=I;if(I&&zA(I)&&(_=tB(g,y,I)),_){zA(_)&&(_=z6(g,y,_));var D;Ue(_)?(D=[],D[Ln]=_[Ln]):I0(_)&&(D={}),D&&(ee(_,function(F,U){U&&zA(U)&&(U=z6(g,y,U)),D[F]=U}),_=D)}return _}o(z6,"_resolveDefaultValue");function Y6(g,y,I,_){var D,F,U,oe=_,fe,Ee,Se,qe;zA(oe)?(D=oe.isVal,F=oe.set,Se=oe.rdOnly,qe=oe.blkVal,fe=oe.mrg,Ee=oe.ref,!Ee&&O(Ee)&&(Ee=!!fe),U=tB(g,y,oe)):U=_,qe&&g.blkVal(y,I);var Xe,We=!0,ze=y[I];(ze||!J(ze))&&(Xe=ze,We=!1,D&&Xe!==U&&!D(Xe)&&(Xe=U,We=!0),F&&(Xe=F(Xe,U,y),We=Xe===U)),We?U?Xe=z6(g,y,U):Xe=U:(I0(Xe)||Ue(U))&&fe&&U&&(I0(U)||Ue(U))&&ee(U,function(ht,st){Y6(g,Xe,ht,st)}),g.set(y,I,Xe),Ee&&g.ref(y,I),Se&&g.rdOnly(y,I)}o(Y6,"_applyDefaultValue");var Ih=Ly("[[ai_dynCfg_1]]"),rB=Ly("[[ai_blkDynCfg_1]]"),nB=Ly("[[ai_frcDynCfg_1]]");function iB(g){if(g){var y;if(Ue(g)?(y=[],y[Ln]=g[Ln]):I0(g)&&(y={}),y)return ee(g,function(I,_){y[I]=iB(_)}),y}return g}o(iB,"_cfgDeepCopy");function vH(g){if(g){var y=g[Ih]||g;if(y.cfg&&(y.cfg===g||y.cfg[Ih]===y))return y}return null}o(vH,"getDynamicConfigHandler");function bH(g){if(g&&(I0(g)||Ue(g)))try{g[rB]=!0}catch{}return g}o(bH,"blockDynamicConversion");function K6(g,y,I){var _=!1;return I&&!g[y.blkVal]&&(_=I[nB],!_&&!I[rB]&&(_=I0(I)||Ue(I))),_}o(K6,"_canMakeDynamic");function YA(g){jt("InvalidAccess:"+g)}o(YA,"throwInvalidAccess");var IH=["push","pop","shift","unshift","splice"],o3=o(function(g,y,I,_){g&&g[ug](3,108,"".concat(I," [").concat(y,"] failed - ")+At(_))},"_throwDynamicError");function Th(g,y,I){Ue(y)&&Hr(IH,function(_){var D=y[_];y[_]=function(){for(var F=[],U=0;U<arguments.length;U++)F[U]=arguments[U];var oe=D[_E](this,F);return XA(g,y,I,"Patching"),oe}})}o(Th,"_patchArray");function Zc(g,y){var I=Pe(g,y);return I&&I.get}o(Zc,"_getOwnPropGetter");function oB(g,y,I,_){var D={n:I,h:[],trk:o(function(Ee){Ee&&Ee.fn&&(b0(D.h,Ee)===-1&&D.h[Pi](Ee),g.trk(Ee,D))},"trk"),clr:o(function(Ee){var Se=b0(D.h,Ee);Se!==-1&&D.h[bA](Se,1)},"clr")},F=!0,U=!1;function oe(){F&&(U=U||K6(oe,g,_),_&&!_[Ih]&&U&&(_=XA(g,_,I,"Converting")),F=!1);var Ee=g.act;return Ee&&D.trk(Ee),_}o(oe,"_getProperty"),oe[g.prop]={chng:o(function(){g.add(D)},"chng")};function fe(Ee){if(_!==Ee){oe[g.ro]&&!g.upd&&YA("["+I+"] is read-only:"+At(y)),F&&(U=U||K6(oe,g,_),F=!1);var Se=U&&oe[g.rf];if(U)if(Se){ee(_,function(Xe){_[Xe]=Ee?Ee[Xe]:sc});try{ee(Ee,function(Xe,We){KA(g,_,Xe,We)}),Ee=_}catch(Xe){o3((g.hdlr||{})[js],I,"Assigning",Xe),U=!1}}else _&&_[Ih]&&ee(_,function(Xe){var We=Zc(_,Xe);if(We){var ze=We[g.prop];ze&&ze.chng()}});if(Ee!==_){var qe=Ee&&K6(oe,g,Ee);!Se&&qe&&(Ee=XA(g,Ee,I,"Converting")),_=Ee,U=qe}g.add(D)}}o(fe,"_setProperty"),Oe(y,D.n,{g:oe,s:fe})}o(oB,"_createDynamicProperty");function KA(g,y,I,_){if(y){var D=Zc(y,I),F=D&&!!D[g.prop];F?y[I]=_:oB(g,y,I,_)}return y}o(KA,"_setDynamicProperty");function JA(g,y,I,_){if(y){var D=Zc(y,I),F=D&&!!D[g.prop],U=_&&_[0],oe=_&&_[1],fe=_&&_[2];if(!F){if(fe)try{bH(y)}catch(Ee){o3((g.hdlr||{})[js],I,"Blocking",Ee)}try{KA(g,y,I,y[I]),D=Zc(y,I)}catch(Ee){o3((g.hdlr||{})[js],I,"State",Ee)}}U&&(D[g.rf]=U),oe&&(D[g.ro]=oe),fe&&(D[g.blkVal]=!0)}return y}o(JA,"_setDynamicPropertyState");function XA(g,y,I,_){try{ee(y,function(D,F){KA(g,y,D,F)}),y[Ih]||(Ce(y,Ih,{get:o(function(){return g.hdlr},"get")}),Th(g,y,I))}catch(D){o3((g.hdlr||{})[js],I,_,D)}return y}o(XA,"_makeDynamicObject");var s3="[[ai_",a3="]]";function TH(g){var y=rg(s3+"get"+g.uid+a3),I=rg(s3+"ro"+g.uid+a3),_=rg(s3+"rf"+g.uid+a3),D=rg(s3+"blkVal"+g.uid+a3),F=rg(s3+"dtl"+g.uid+a3),U=null,oe=null,fe;function Ee(We,ze){var ht=fe.act;try{fe.act=We,We&&We[F]&&(Hr(We[F],function(It){It.clr(We)}),We[F]=[]),ze({cfg:g.cfg,set:g.set.bind(g),setDf:g.setDf.bind(g),ref:g.ref.bind(g),rdOnly:g.rdOnly.bind(g)})}catch(It){var st=g[js];throw st&&st[ug](1,107,At(It)),It}finally{fe.act=ht||null}}o(Ee,"_useHandler");function Se(){if(U){var We=U;U=null,oe&&oe[IA](),oe=null;var ze=[];if(Hr(We,function(ht){if(ht&&(ht[F]&&(Hr(ht[F],function(st){st.clr(ht)}),ht[F]=null),ht.fn))try{Ee(ht,ht.fn)}catch(st){ze[Pi](st)}}),U)try{Se()}catch(ht){ze[Pi](ht)}ze[Ln]>0&&R6("Watcher error(s): ",ze)}}o(Se,"_notifyWatchers");function qe(We){if(We&&We.h[Ln]>0){U||(U=[]),oe||(oe=fh(function(){oe=null,Se()},0));for(var ze=0;ze<We.h[Ln];ze++){var ht=We.h[ze];ht&&b0(U,ht)===-1&&U[Pi](ht)}}}o(qe,"_addWatcher");function Xe(We,ze){if(We){var ht=We[F]=We[F]||[];b0(ht,ze)===-1&&ht[Pi](ze)}}return o(Xe,"_trackHandler"),fe={prop:y,ro:I,rf:_,blkVal:D,hdlr:g,add:qe,notify:Se,use:Ee,trk:Xe},fe}o(TH,"_createState");function ZE(g,y){var I={fn:y,rm:o(function(){I.fn=null,g=null,y=null},"rm")};return Oe(I,"toJSON",{v:o(function(){return"WatcherHandler"+(I.fn?"":"[X]")},"v")}),g.use(I,y),I}o(ZE,"_createAndUseHandler");function sB(g,y,I){var _=vH(y);if(_)return _;var D=Gd("dyncfg",!0),F=y&&I!==!1?y:iB(y),U;function oe(){U.notify()}o(oe,"_notifyWatchers");function fe(st,It,Vt){try{st=KA(U,st,It,Vt)}catch(fr){o3(g,It,"Setting value",fr)}return st[It]}o(fe,"_setValue");function Ee(st){return ZE(U,st)}o(Ee,"_watch");function Se(st,It){U.use(null,function(Vt){var fr=U.upd;try{O(It)||(U.upd=It),st(Vt)}finally{U.upd=fr}})}o(Se,"_block");function qe(st,It){var Vt;return JA(U,st,It,(Vt={},Vt[0]=!0,Vt))[It]}o(qe,"_ref");function Xe(st,It){var Vt;return JA(U,st,It,(Vt={},Vt[1]=!0,Vt))[It]}o(Xe,"_rdOnly");function We(st,It){var Vt;return JA(U,st,It,(Vt={},Vt[2]=!0,Vt))[It]}o(We,"_blkPropValue");function ze(st,It){return It&&ee(It,function(Vt,fr){Y6(ht,st,Vt,fr)}),st}o(ze,"_applyDefaults");var ht={uid:null,cfg:F,logger:g,notify:oe,set:fe,setDf:ze,watch:Ee,ref:qe,rdOnly:Xe,blkVal:We,_block:Se};return Oe(ht,"uid",{c:!1,e:!1,w:!1,v:D}),U=TH(ht),XA(U,F,"config","Creating"),ht}o(sB,"_createDynamicHandler");function aB(g,y){g?(g[vA](y),g[ug](2,108,y)):YA(y)}o(aB,"_logInvalidAccess");function uc(g,y,I,_){var D=sB(I,g||{},_);return y&&D.setDf(D.cfg,y),D}o(uc,"createDynamicConfig");function Wd(g,y,I){var _=g[Ih]||g;return _.cfg&&(_.cfg===g||_.cfg[Ih]===_)?_[Ld](y):(aB(I,HS+At(g)),uc(g,null,I)[Ld](y))}o(Wd,"onConfigChange");function ZA(g,y){if(g&&g[fg])return g[fg](y)}o(ZA,"runTargetUnload");function lB(g,y,I){var _;return I||(_=DA(function(D){I=D})),g&&tH(g)>0?oc(ZA(g[0],y),function(){lB(lA(g,1),y,I)}):I(),_}o(lB,"doUnloadAll");var wH=500,cB="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";function _H(g,y,I){return!g&&J(g)?y:ut(g)?g:yt(g)[xA]()==="true"}o(_H,"_stringToBoolOrDefault");function SH(g){return{mrg:!0,v:g}}o(SH,"cfgDfMerge");function J6(g,y,I){return{fb:I,isVal:g,v:y}}o(J6,"cfgDfValidate");function hf(g,y){return{fb:y,set:_H,v:!!g}}o(hf,"cfgDfBoolean");var ex=[FA,LA,qE,Ag],tx=null,rx;function BH(g,y){return function(){var I=arguments,_=uB(y);if(_){var D=_.listener;D&&D[g]&&D[g][_E](D,I)}}}o(BH,"_listenerProxyFunc");function kH(){var g=Ns("Microsoft");return g&&(tx=g.ApplicationInsights),tx}o(kH,"_getExtensionNamespace");function uB(g){var y=tx;return!y&&g.disableDbgExt!==!0&&(y=tx||kH()),y?y.ChromeDbgExt:null}o(uB,"getDebugExt");function RH(g){if(!rx){rx={};for(var y=0;y<ex[Ln];y++)rx[ex[y]]=BH(ex[y],g)}return rx}o(RH,"getDebugListener");var e2,fB="warnToConsole",DH="AI (Internal): ",PH="AI: ",NH="AITR_",dB={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},t2=(e2={},e2[0]=null,e2[1]="errorToConsole",e2[2]=fB,e2[3]="debugToConsole",e2);function _0(g){return g?'"'+g[Ch](/\"/g,ri)+'"':ri}o(_0,"_sanitizeDiagnosticText");function l3(g,y){var I=n3();if(I){var _="log";I[g]&&(_=g),Re(I[_])&&I[_](y)}}o(l3,"_logToConsole");var nx=function(){function g(y,I,_,D){_===void 0&&(_=!1);var F=this;F[kE]=y,F[mg]=(_?PH:DH)+y;var U=ri;HA()&&(U=w0().stringify(D));var oe=(I?" message:"+_0(I):ri)+(D?" props:"+_0(U):ri);F[mg]+=oe}return o(g,"_InternalLogMessage"),g.dataType="MessageData",g}();function c3(g,y){return(g||{})[js]||new u3(y)}o(c3,"safeGetLogger");var u3=function(){function g(y){this.identifier="DiagnosticLogger",this.queue=[];var I=0,_={},D,F,U,oe,fe;_l(g,this,function(Ee){fe=qe(y||{}),Ee.consoleLoggingLevel=function(){return D},Ee[ug]=function(ze,ht,st,It,Vt){Vt===void 0&&(Vt=!1);var fr=new nx(ht,st,Vt,It);if(oe)throw At(fr);var wr=t2[ze]||fB;if(O(fr[mg]))We("throw"+(ze===1?"Critical":"Warning"),fr);else{if(Vt){var Pn=+fr[kE];!_[Pn]&&D>=ze&&(Ee[wr](fr[mg]),_[Pn]=!0)}else D>=ze&&Ee[wr](fr[mg]);Se(ze,fr)}},Ee.debugToConsole=function(ze){l3("debug",ze),We("warning",ze)},Ee[vA]=function(ze){l3("warn",ze),We("warning",ze)},Ee.errorToConsole=function(ze){l3("error",ze),We("error",ze)},Ee.resetInternalMessageCount=function(){I=0,_={}},Ee.logInternalMessage=Se,Ee[fg]=function(ze){fe&&fe.rm(),fe=null};function Se(ze,ht){if(!Xe()){var st=!0,It=NH+ht[kE];if(_[It]?st=!1:_[It]=!0,st&&(ze<=F&&(Ee.queue[Pi](ht),I++,We(ze===1?"error":"warn",ht)),I===U)){var Vt="Internal events throttle limit per PageView reached for this app.",fr=new nx(23,Vt,!1);Ee.queue[Pi](fr),ze===1?Ee.errorToConsole(Vt):Ee[vA](Vt)}}}o(Se,"_logInternalMessage");function qe(ze){return Wd(uc(ze,dB,Ee).cfg,function(ht){var st=ht.cfg;D=st[RS],F=st.loggingLevelTelemetry,U=st.maxMessageLimit,oe=st.enableDebug})}o(qe,"_setDefaultsFromConfig");function Xe(){return I>=U}o(Xe,"_areInternalMessagesThrottled");function We(ze,ht){var st=uB(y||{});st&&st[cf]&&st[cf](ze,ht)}o(We,"_debugExtMsg")})}return o(g,"DiagnosticLogger"),g.__ieDyn=1,g}();function X6(g){return g||new u3}o(X6,"_getLogger");function Dr(g,y,I,_,D,F){F===void 0&&(F=!1),X6(g)[ug](y,I,_,D,F)}o(Dr,"_throwInternal");function ix(g,y){X6(g)[vA](y)}o(ix,"_warnToConsole");var f3,wh,mB="toGMTString",hB="toUTCString",ox="cookie",Hd="expires",pB="isCookieUseDisabled",sx="disableCookiesUsage",gB="_ckMgr",ax=null,r2=null,lx=null,pf,AB={},yB={},CB=(f3={cookieCfg:SH((wh={},wh[WE]={fb:"cookieDomain",dfVal:VE},wh.path={fb:"cookiePath",dfVal:VE},wh.enabled=sc,wh.ignoreCookies=sc,wh.blockedCookies=sc,wh)),cookieDomain:sc,cookiePath:sc},f3[sx]=sc,f3);function Z6(){!pf&&(pf=ar(function(){return oA()}))}o(Z6,"_getDoc");function d3(g){return g?g.isEnabled():!0}o(d3,"_isMgrEnabled");function e9(g,y){return y&&g&&Ue(g.ignoreCookies)?b0(g.ignoreCookies,y)!==-1:!1}o(e9,"_isIgnoredCookie");function FH(g,y){return y&&g&&Ue(g.blockedCookies)&&b0(g.blockedCookies,y)!==-1?!0:e9(g,y)}o(FH,"_isBlockedCookie");function t9(g,y){var I=y[af];if(J(I)){var _=void 0;O(g[pB])||(_=!g[pB]),O(g[sx])||(_=!g[sx]),I=_}return I}o(t9,"_isCfgEnabled");function LH(g,y){var I,_,D,F,U,oe,fe,Ee;g=uc(g||yB,null,y).cfg,F=Wd(g,function(qe){qe.setDf(qe.cfg,CB),I=qe.ref(qe.cfg,"cookieCfg"),_=I[HE]||"/",D=I[WE],U=t9(g,I)!==!1,oe=I.getCookie||QH,fe=I.setCookie||n2,Ee=I.delCookie||n2},y);var Se={isEnabled:o(function(){var qe=t9(g,I)!==!1&&U&&EB(y),Xe=yB[gB];return qe&&Xe&&Se!==Xe&&(qe=d3(Xe)),qe},"isEnabled"),setEnabled:o(function(qe){U=qe!==!1,I[af]=qe},"setEnabled"),set:o(function(qe,Xe,We,ze,ht){var st=!1;if(d3(Se)&&!FH(I,qe)){var It={},Vt=Di(Xe||ri),fr=Pd(Vt,";");if(fr!==-1&&(Vt=Di(L(Xe,fr)),It=r9(de(Xe,fr+1))),xh(It,WE,ze||D,ie,O),!J(We)){var wr=Xc();if(O(It[Hd])){var Pn=lh(),fi=Pn+We*1e3;if(fi>0){var di=new Date;di.setTime(fi),xh(It,Hd,xB(di,wr?mB:hB)||xB(di,wr?mB:hB)||ri,ie)}}wr||xh(It,"max-age",ri+We,null,O)}var to=WA();to&&to.protocol==="https:"&&(xh(It,"secure",null,null,O),r2===null&&(r2=!MH((ih()||{})[DE])),r2&&xh(It,"SameSite","None",null,O)),xh(It,HE,ht||_,null,O),fe(qe,vB(Vt,It)),st=!0}return st},"set"),get:o(function(qe){var Xe=ri;return d3(Se)&&!e9(I,qe)&&(Xe=oe(qe)),Xe},"get"),del:o(function(qe,Xe){var We=!1;return d3(Se)&&(We=Se.purge(qe,Xe)),We},"del"),purge:o(function(qe,Xe){var We,ze=!1;if(EB(y)){var ht=(We={},We[HE]=Xe||"/",We[Hd]="Thu, 01 Jan 1970 00:00:01 GMT",We);Xc()||(ht["max-age"]="0"),Ee(qe,vB(ri,ht)),ze=!0}return ze},"purge"),unload:o(function(qe){F&&F.rm(),F=null},"unload")};return Se[gB]=Se,Se}o(LH,"createCookieMgr");function EB(g){if(ax===null){ax=!1,!pf&&Z6();try{var y=pf.v||{};ax=y[ox]!==void 0}catch(I){Dr(g,2,68,"Cannot access document.cookie - "+Ua(I),{exception:At(I)})}}return ax}o(EB,"areCookiesSupported");function r9(g){var y={};if(g&&g[Ln]){var I=Di(g)[yh](";");Hr(I,function(_){if(_=Di(_||ri),_){var D=Pd(_,"=");D===-1?y[_]=null:y[Di(L(_,D))]=Di(de(_,D+1))}})}return y}o(r9,"_extractParts");function xB(g,y){return Re(g[y])?g[y]():null}o(xB,"_formatDate");function vB(g,y){var I=g||ri;return ee(y,function(_,D){I+="; "+_+(J(D)?ri:"="+D)}),I}o(vB,"_formatCookieValue");function QH(g){var y=ri;if(!pf&&Z6(),pf.v){var I=pf.v[ox]||ri;lx!==I&&(AB=r9(I),lx=I),y=Di(AB[g]||ri)}return y}o(QH,"_getCookieValue");function n2(g,y){!pf&&Z6(),pf.v&&(pf.v[ox]=g+"="+y)}o(n2,"_setCookieValue");function MH(g){return ce(g)?!!(el(g,"CPU iPhone OS 12")||el(g,"iPad; CPU OS 12")||el(g,"Macintosh; Intel Mac OS X 10_14")&&el(g,"Version/")&&el(g,"Safari")||el(g,"Macintosh; Intel Mac OS X 10_14")&&TS(g,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||el(g,"Chrome/5")||el(g,"Chrome/6")||el(g,"UnrealEngine")&&!el(g,"Chrome")||el(g,"UCBrowser/12")||el(g,"UCBrowser/11")):!1}o(MH,"uaDisallowsSameSiteNone");var n9={perfEvtsSendAll:!1};function OH(g){g.h=null;var y=g.cb;g.cb=[],Hr(y,function(I){te(I.fn,[I.arg])})}o(OH,"_runScheduledListeners");function _h(g,y,I,_){Hr(g,function(D){D&&D[y]&&(I?(I.cb[Pi]({fn:_,arg:D}),I.h=I.h||fh(OH,0,I)):te(_,[D]))})}o(_h,"_runListeners");var UH=function(){function g(y){this.listeners=[];var I,_,D=[],F={h:null,cb:[]},U=uc(y,n9);_=U[Ld](function(oe){I=!!oe.cfg.perfEvtsSendAll}),_l(g,this,function(oe){Oe(oe,"listeners",{g:o(function(){return D},"g")}),oe[SE]=function(fe){D[Pi](fe)},oe[zy]=function(fe){for(var Ee=b0(D,fe);Ee>-1;)D[bA](Ee,1),Ee=b0(D,fe)},oe[FA]=function(fe){_h(D,FA,F,function(Ee){Ee[FA](fe)})},oe[LA]=function(fe,Ee){_h(D,LA,F,function(Se){Se[LA](fe,Ee)})},oe[qE]=function(fe,Ee){_h(D,qE,Ee?F:null,function(Se){Se[qE](fe,Ee)})},oe[Ag]=function(fe){fe&&(I||!fe[B6]())&&_h(D,Ag,null,function(Ee){fe.isAsync?fh(function(){return Ee[Ag](fe)},0):Ee[Ag](fe)})},oe[P6]=function(fe){fe&&fe[Ln]&&_h(D,P6,F,function(Ee){Ee[P6](fe)})},oe[N6]=function(fe){fe&&fe[BA]&&_h(D,N6,F,function(Ee){Ee[N6](fe)})},oe[GE]=function(fe,Ee){if(fe>0){var Se=Ee||0;_h(D,GE,F,function(qe){qe[GE](fe,Se)})}},oe[fg]=function(fe){var Ee=o(function(){_&&_.rm(),_=null,D=[],F.h&&F.h[IA](),F.h=null,F.cb=[]},"_finishUnload"),Se;if(_h(D,"unload",null,function(qe){var Xe=qe[fg](fe);Xe&&(Se||(Se=[]),Se[Pi](Xe))}),Se)return DA(function(qe){return oc(D6(Se),function(){Ee(),qe()})});Ee()}})}return o(g,"NotificationManager"),g.__ieDyn=1,g}(),i2="ctx",i9="ParentContextKey",m3="ChildrenContextKey",qH=null,cx=function(){function g(y,I,_){var D=this;if(D.start=lh(),D[gh]=y,D.isAsync=_,D[B6]=function(){return!1},Re(I)){var F;Oe(D,"payload",{g:o(function(){return!F&&Re(I)&&(F=I(),I=null),F},"g")})}D[Eh]=function(U){return U?U===g[i9]||U===g[m3]?D[U]:(D[i2]||{})[U]:null},D[Kc]=function(U,oe){if(U)if(U===g[i9])D[U]||(D[B6]=function(){return!0}),D[U]=oe;else if(U===g[m3])D[U]=oe;else{var fe=D[i2]=D[i2]||{};fe[U]=oe}},D.complete=function(){var U=0,oe=D[Eh](g[m3]);if(Ue(oe))for(var fe=0;fe<oe[Ln];fe++){var Ee=oe[fe];Ee&&(U+=Ee.time)}D.time=lh()-D.start,D.exTime=D.time-U,D.complete=function(){}}}return o(g,"PerfEvent"),g.ParentContextKey="parent",g.ChildrenContextKey="childEvts",g}(),GH=function(){function g(y){this.ctx={},_l(g,this,function(I){I.create=function(_,D,F){return new cx(_,D,F)},I.fire=function(_){_&&(_.complete(),y&&Re(y[Ag])&&y[Ag](_))},I[Kc]=function(_,D){if(_){var F=I[i2]=I[i2]||{};F[_]=D}},I[Eh]=function(_){return(I[i2]||{})[_]}})}return o(g,"PerfManager"),g.__ieDyn=1,g}(),gf="CoreUtils.doPerf";function o2(g,y,I,_,D){if(g){var F=g;if(F[Jy]&&(F=F[Jy]()),F){var U=void 0,oe=F[Eh](gf);try{if(U=F.create(y(),_,D),U){if(oe&&U[Kc]&&(U[Kc](cx[i9],oe),oe[Eh]&&oe[Kc])){var fe=oe[Eh](cx[m3]);fe||(fe=[],oe[Kc](cx[m3],fe)),fe[Pi](U)}return F[Kc](gf,U),I(U)}}catch(Ee){U&&U[Kc]&&U[Kc]("exception",Ee)}finally{U&&F.fire(U),F[Kc](gf,oe)}}}return I()}o(o2,"doPerf");function zs(){return qH}o(zs,"getGblPerfMgr");var ux="00000000000000000000000000000000",s2="0000000000000000";function fx(g,y,I){return g&&g[Ln]===y&&g!==I?!!g.match(/^[\da-f]*$/i):!1}o(fx,"_isValid");function Sh(g){return fx(g,32,ux)}o(Sh,"isValidTraceId");function xg(g){return fx(g,16,s2)}o(xg,"isValidSpanId");var h3=eB("plugin");function Bh(g){return h3.get(g,"state",{},!0)}o(Bh,"_getPluginState");function o9(g,y){for(var I=[],_=null,D=g[uf](),F;D;){var U=D[wA]();if(U){_&&_[Ah]&&U[ac]&&_[Ah](U),F=Bh(U);var oe=!!F[sf];U[sf]&&(oe=U[sf]()),oe||I[Pi](U),_=U,D=D[uf]()}}Hr(I,function(fe){var Ee=g[$s]();fe[$y](g.getCfg(),Ee,y,g[uf]()),F=Bh(fe),!fe[$s]&&!F[$s]&&(F[$s]=Ee),F[sf]=!0,delete F[lf]})}o(o9,"initializePlugins");function s9(g){return g.sort(function(y,I){var _=0;if(I){var D=I[ac];y[ac]?_=D?y[NA]-I[NA]:1:D&&(_=-1)}else _=y?1:-1;return _})}o(s9,"sortPlugins");function WH(g){var y={};return{getName:o(function(){return y[gh]},"getName"),setName:o(function(I){g&&g.setName(I),y[gh]=I},"setName"),getTraceId:o(function(){return y.traceId},"getTraceId"),setTraceId:o(function(I){g&&g.setTraceId(I),Sh(I)&&(y.traceId=I)},"setTraceId"),getSpanId:o(function(){return y.spanId},"getSpanId"),setSpanId:o(function(I){g&&g.setSpanId(I),xg(I)&&(y.spanId=I)},"setSpanId"),getTraceFlags:o(function(){return y[PS]},"getTraceFlags"),setTraceFlags:o(function(I){g&&g.setTraceFlags(I),y[PS]=I},"setTraceFlags")}}o(WH,"createDistributedTraceContext");var HH="TelemetryPluginChain",bB="_hasRun",a9="_getTelCtx",IB=0;function VH(g,y,I){for(;g;){if(g[wA]()===I)return g;g=g[uf]()}return R([I],y.config||{},y)}o(VH,"_getNextProxyStart");function l9(g,y,I,_){var D=null,F=[];y||(y=uc({},null,I[js])),_!==null&&(D=_?VH(g,I,_):g);var U={_next:fe,ctx:{core:o(function(){return I},"core"),diagLog:o(function(){return c3(I,y.cfg)},"diagLog"),getCfg:o(function(){return y.cfg},"getCfg"),getExtCfg:Se,getConfig:qe,hasNext:o(function(){return!!D},"hasNext"),getNext:o(function(){return D},"getNext"),setNext:o(function(We){D=We},"setNext"),iterate:Xe,onComplete:oe}};function oe(We,ze){for(var ht=[],st=2;st<arguments.length;st++)ht[st-2]=arguments[st];We&&F[Pi]({func:We,self:O(ze)?U.ctx:ze,args:ht})}o(oe,"_addOnComplete");function fe(){var We=D;if(D=We?We[uf]():null,!We){var ze=F;ze&&ze[Ln]>0&&(Hr(ze,function(ht){try{ht.func.call(ht.self,ht.args)}catch(st){Dr(I[js],2,73,"Unexpected Exception during onComplete - "+At(st))}}),F=[])}return We}o(fe,"_moveNext");function Ee(We,ze){var ht=null,st=y.cfg;if(st&&We){var It=st[gg];!It&&ze&&(It={}),st[gg]=It,It=y.ref(st,gg),It&&(ht=It[We],!ht&&ze&&(ht={}),It[We]=ht,ht=y.ref(It,We))}return ht}o(Ee,"_getExtCfg");function Se(We,ze){var ht=Ee(We,!0);return ze&&ee(ze,function(st,It){if(J(ht[st])){var Vt=y.cfg[st];(Vt||!J(Vt))&&(ht[st]=Vt)}Y6(y,ht,st,It)}),y.setDf(ht,ze)}o(Se,"_resolveExtCfg");function qe(We,ze,ht){ht===void 0&&(ht=!1);var st,It=Ee(We,!1),Vt=y.cfg;return It&&(It[ze]||!J(It[ze]))?st=It[ze]:(Vt[ze]||!J(Vt[ze]))&&(st=Vt[ze]),st||!J(st)?st:ht}o(qe,"_getConfig");function Xe(We){for(var ze;ze=U._next();){var ht=ze[wA]();ht&&We(ht)}}return o(Xe,"_iterateChain"),U}o(l9,"_createInternalContext");function a2(g,y,I,_){var D=uc(y),F=l9(g,D,I,_),U=F.ctx;function oe(Ee){var Se=F._next();return Se&&Se[ac](Ee,U),!Se}o(oe,"_processNext");function fe(Ee,Se){return Ee===void 0&&(Ee=null),Ue(Ee)&&(Ee=R(Ee,D.cfg,I,Se)),a2(Ee||U[uf](),D.cfg,I,Se)}return o(fe,"_createNew"),U[Za]=oe,U[dg]=fe,U}o(a2,"createProcessTelemetryContext");function w(g,y,I){var _=uc(y.config),D=l9(g,_,y,I),F=D.ctx;function U(fe){var Ee=D._next();return Ee&&Ee[fg](F,fe),!Ee}o(U,"_processNext");function oe(fe,Ee){return fe===void 0&&(fe=null),Ue(fe)&&(fe=R(fe,_.cfg,y,Ee)),w(fe||F[uf](),y,Ee)}return o(oe,"_createNew"),F[Za]=U,F[dg]=oe,F}o(w,"createProcessTelemetryUnloadContext");function B(g,y,I){var _=uc(y.config),D=l9(g,_,y,I),F=D.ctx;function U(fe){return F.iterate(function(Ee){Re(Ee[Qd])&&Ee[Qd](F,fe)})}o(U,"_processNext");function oe(fe,Ee){return fe===void 0&&(fe=null),Ue(fe)&&(fe=R(fe,_.cfg,y,Ee)),B(fe||F[uf](),y,Ee)}return o(oe,"_createNew"),F[Za]=U,F[dg]=oe,F}o(B,"createProcessTelemetryUpdateContext");function R(g,y,I,_){var D=null,F=!_;if(Ue(g)&&g[Ln]>0){var U=null;Hr(g,function(oe){if(!F&&_===oe&&(F=!0),F&&oe&&Re(oe[ac])){var fe=Q(oe,y,I);D||(D=fe),U&&U._setNext(fe),U=fe}})}return _&&!D?R([_],y,I):D}o(R,"createTelemetryProxyChain");function Q(g,y,I){var _=null,D=Re(g[ac]),F=Re(g[Ah]),U;g?U=g[ph]+"-"+g[NA]+"-"+IB++:U="Unknown-0-"+IB++;var oe={getPlugin:o(function(){return g},"getPlugin"),getNext:o(function(){return _},"getNext"),processTelemetry:Se,unload:qe,update:Xe,_id:U,_setNext:o(function(We){_=We},"_setNext")};function fe(){var We;return g&&Re(g[a9])&&(We=g[a9]()),We||(We=a2(oe,y,I)),We}o(fe,"_getTelCtx");function Ee(We,ze,ht,st,It){var Vt=!1,fr=g?g[ph]:HH,wr=We[bB];return wr||(wr=We[bB]={}),We.setNext(_),g&&o2(We[$s](),function(){return fr+":"+ht},function(){wr[U]=!0;try{var Pn=_?_._id:ri;Pn&&(wr[Pn]=!1),Vt=ze(We)}catch(di){var fi=_?wr[_._id]:!0;fi&&(Vt=!0),(!_||!fi)&&Dr(We[cf](),1,73,"Plugin ["+fr+"] failed during "+ht+" - "+At(di)+", run flags: "+At(wr))}},st,It),Vt}o(Ee,"_processChain");function Se(We,ze){ze=ze||fe();function ht(st){if(!g||!D)return!1;var It=Bh(g);return It[lf]||It[UE]?!1:(F&&g[Ah](_),g[ac](We,st),!0)}o(ht,"_callProcessTelemetry"),Ee(ze,ht,"processTelemetry",function(){return{item:We}},!We.sync)||ze[Za](We)}o(Se,"_processTelemetry");function qe(We,ze){function ht(){var st=!1;if(g){var It=Bh(g),Vt=g[$s]||It[$s];g&&(!Vt||Vt===We.core())&&!It[lf]&&(It[$s]=null,It[lf]=!0,It[sf]=!1,g[lf]&&g[lf](We,ze)===!0&&(st=!0))}return st}o(ht,"_callTeardown"),Ee(We,ht,"unload",function(){},ze.isAsync)||We[Za](ze)}o(qe,"_unloadPlugin");function Xe(We,ze){function ht(){var st=!1;if(g){var It=Bh(g),Vt=g[$s]||It[$s];g&&(!Vt||Vt===We.core())&&!It[lf]&&g[Qd]&&g[Qd](We,ze)===!0&&(st=!0)}return st}o(ht,"_callUpdate"),Ee(We,ht,"update",function(){},!1)||We[Za](ze)}return o(Xe,"_updatePlugin"),xt(oe)}o(Q,"createTelemetryPluginProxy");function ue(){var g=[];function y(_){_&&g[Pi](_)}o(y,"_addHandler");function I(_,D){Hr(g,function(F){try{F(_,D)}catch(U){Dr(_[cf](),2,73,"Unexpected error calling unload handler - "+At(U))}}),g=[]}return o(I,"_runHandlers"),{add:y,run:I}}o(ue,"createUnloadHandlerContainer");function Te(){var g=[];function y(_){var D=g;g=[],Hr(D,function(F){try{(F.rm||F.remove).call(F)}catch(U){Dr(_,2,73,"Unloading:"+At(U))}})}o(y,"_doUnload");function I(_){_&&aA(g,_)}return o(I,"_addHook"),{run:y,add:I}}o(Te,"createUnloadHookContainer");var ke,He="getPlugin",rt=(ke={},ke[gg]={isVal:VE,v:{}},ke),Et=function(){function g(){var y=this,I,_,D,F,U;Ee(),_l(g,y,function(Se){Se[$y]=function(qe,Xe,We,ze){fe(qe,Xe,ze),I=!0},Se[lf]=function(qe,Xe){var We=Se[$s];if(!We||qe&&We!==qe[$s]())return;var ze,ht=!1,st=qe||w(null,We,D&&D[He]?D[He]():D),It=Xe||{reason:0,isAsync:!1};function Vt(){ht||(ht=!0,F.run(st,Xe),U.run(st[cf]()),ze===!0&&st[Za](It),Ee())}return o(Vt,"_unloadCallback"),!Se[RE]||Se[RE](st,It,Vt)!==!0?Vt():ze=!0,ze},Se[Qd]=function(qe,Xe){var We=Se[$s];if(!We||qe&&We!==qe[$s]())return;var ze,ht=!1,st=qe||B(null,We,D&&D[He]?D[He]():D),It=Xe||{reason:0};function Vt(){ht||(ht=!0,fe(st.getCfg(),st.core(),st[uf]()))}return o(Vt,"_updateCallback"),!Se._doUpdate||Se._doUpdate(st,It,Vt)!==!0?Vt():ze=!0,ze},Zy(Se,"_addUnloadCb",function(){return F},"add"),Zy(Se,"_addHook",function(){return U},"add"),Oe(Se,"_unloadHooks",{g:o(function(){return U},"g")})}),y[cf]=function(Se){return oe(Se)[cf]()},y[sf]=function(){return I},y.setInitialized=function(Se){I=Se},y[Ah]=function(Se){D=Se},y[Za]=function(Se,qe){qe?qe[Za](Se):D&&Re(D[ac])&&D[ac](Se,null)},y._getTelCtx=oe;function oe(Se){Se===void 0&&(Se=null);var qe=Se;if(!qe){var Xe=_||a2(null,{},y[$s]);D&&D[He]?qe=Xe[dg](null,D[He]):qe=Xe[dg](null,D)}return qe}o(oe,"_getTelCtx");function fe(Se,qe,Xe){uc(Se,rt,c3(qe)),!Xe&&qe&&(Xe=qe[_A]()[uf]());var We=D;D&&D[He]&&(We=D[He]()),y[$s]=qe,_=a2(Xe,Se,qe,We)}o(fe,"_setDefaults");function Ee(){I=!1,y[$s]=null,_=null,D=null,U=Te(),F=ue()}o(Ee,"_initDefaults")}return o(g,"BaseTelemetryPlugin"),g.__ieDyn=1,g}();function yr(g,y,I){var _={id:y,fn:I};aA(g,_);var D={remove:o(function(){Hr(g,function(F,U){if(F.id===_.id)return g[bA](U,1),-1})},"remove")};return D}o(yr,"_addInitializer");function gn(g,y,I){for(var _=!1,D=g[Ln],F=0;F<D;++F){var U=g[F];if(U)try{if(U.fn[_E](null,[y])===!1){_=!0;break}}catch(oe){Dr(I,2,64,"Telemetry initializer failed: "+Ua(oe),{exception:At(oe)},!0)}}return!_}o(gn,"_runInitializers");var Bn=function(g){jy(y,g);function y(){var I=g.call(this)||this;I.identifier="TelemetryInitializerPlugin",I.priority=199;var _,D;F(),_l(y,I,function(U,oe){U.addTelemetryInitializer=function(fe){return yr(D,_++,fe)},U[ac]=function(fe,Ee){gn(D,fe,Ee?Ee[cf]():U[cf]())&&U[Za](fe,Ee)},U[RE]=function(){F()}});function F(){_=0,D=[]}return o(F,"_initDefaults"),I}return o(y,"TelemetryInitializerPlugin"),y.__ieDyn=1,y}(Et),vr,kr="Plugins must provide initialize method",_n="_notificationManager",An="SDK is still unloading...",ni="SDK is not initialized",Hi=100,Ei=5e4,ma=_t((vr={cookieCfg:{}},vr[PA]={rdOnly:!0,ref:!0,v:[]},vr[Ud]={rdOnly:!0,ref:!0,v:[]},vr[gg]={ref:!0,v:{}},vr[Jc]=sc,vr.loggingLevelConsole=0,vr.diagnosticLogInterval=sc,vr));function l2(g,y){return new GH(y)}o(l2,"_createPerfManager");function p3(g,y,I){var _=[],D=[],F={};return Hr(I,function(U){(J(U)||J(U[$y]))&&Ht(kr);var oe=U[NA],fe=U[ph];U&&oe&&(J(F[oe])?F[oe]=fe:ix(g,"Two extensions have same priority #"+oe+" - "+F[oe]+", "+fe)),!oe||oe<y?_[Pi](U):D[Pi](U)}),{core:_,channels:D}}o(p3,"_validateExtensions");function c9(g,y){var I=!1;return Hr(y,function(_){if(_===g)return I=!0,-1}),I}o(c9,"_isPluginPresent");function dx(g,y,I,_){I&&ee(I,function(D,F){_&&I0(F)&&I0(y[D])&&dx(g,y[D],F,_),_&&I0(F)&&I0(y[D])?dx(g,y[D],F,_):g.set(y,D,F)})}o(dx,"_deepMergeConfig");function TB(g,y){var I=null,_=-1;return Hr(g,function(D,F){if(D.w===y)return I=D,_=F,-1}),{i:_,l:I}}o(TB,"_findWatcher");function jH(g,y){var I=TB(g,y).l;return I||(I={w:y,rm:o(function(){var _=TB(g,y);_.i!==-1&&g[bA](_.i,1)},"rm")},g[Pi](I)),I}o(jH,"_addDelayedCfgListener");function u9(g,y,I){Hr(y,function(_){var D=Wd(g,_.w,I);delete _.w,_.rm=function(){D.rm()}})}o(u9,"_registerDelayedCfgListener");function wB(g,y,I,_){return y.add(g[Ld](function(D){var F=D.cfg.disableDbgExt;F===!0&&_&&(I[zy](_),_=null),I&&!_&&F!==!0&&(_=RH(D.cfg),I[SE](_))})),_}o(wB,"_initDebugListener");function _B(g){return Oe({rm:o(function(){g.rm()},"rm")},"toJSON",{v:o(function(){return"aicore::onCfgChange<"+JSON.stringify(g)+">"},"v")})}o(_B,"_createUnloadHook");var Nt=function(){function g(){var y,I,_,D,F,U,oe,fe,Ee,Se,qe,Xe,We,ze,ht,st,It,Vt,fr,wr,Pn,fi,di,to,sn,Ur,mi,cs,Io,zt,qr,Vi;_l(g,this,function(Dt){dt(),Dt._getDbgPlgTargets=function(){return[di,D]},Dt[sf]=function(){return I},Dt.activeStatus=function(){return Ur},Dt._setPendingStatus=function(){Ur=3},Dt[$y]=function(gt,Ir,xn,Mr){We&&Ht(An),Dt[sf]()&&Ht("Core cannot be initialized more than once"),y=uc(gt,ma,xn||Dt[js],!1),gt=y.cfg,kl(y[Ld](function(ho){var Wo=ho.cfg,t0=Ur===3;if(!t0){cs=Wo.initInMemoMaxSize||Hi;var fc=Wo.instrumentationKey,$d=Wo.endpointUrl;if(J(fc)){Pn=null,Ur=hh.INACTIVE;var zd="Please provide instrumentation key";I?(Dr(_,1,100,zd),ws()):Ht(zd);return}var Tx=[];if(ot(fc)?(Tx[Pi](fc),Pn=null):Pn=fc,ot($d)?(Tx[Pi]($d),mi=null):mi=$d,Tx[Ln]){Io=!1,Ur=3;var k9=VE(Wo.initTimeOut)?Wo.initTimeOut:Ei,IV=T0(Tx);fh(function(){Io||yn()},k9),oc(IV,function(C2){try{if(Io)return;if(!C2.rejected){var E2=C2[TA];if(E2&&E2[Ln]){var JB=E2[0];if(Pn=JB&&JB[TA],E2[Ln]>1){var XB=E2[1];mi=XB&&XB[TA]}}Pn&&(gt.instrumentationKey=Pn,gt.endpointUrl=mi)}yn()}catch{Io||yn()}})}else yn();var wx=ho.ref(ho.cfg,gg);ee(wx,function(C2){ho.ref(wx,C2)})}})),F=Mr,fr=wB(y,Vt,F&&Dt[Yc](),fr),A2(),Dt[js]=xn;var vn=gt[PA];if(Se=[],Se[Pi].apply(Se,BS(BS([],Ir,!1),vn)),qe=gt[Ud],_s(null),(!Xe||Xe[Ln]===0)&&Ht("No "+Ud+" available"),qe&&qe[Ln]>1){var co=Dt[wA]("TeeChannelController");(!co||!co.plugin)&&Dr(_,1,28,"TeeChannel required")}u9(gt,fi,_),fi=null,I=!0,Ur===hh.ACTIVE&&ws()},Dt.getChannels=function(){var gt=[];return Xe&&Hr(Xe,function(Ir){gt[Pi](Ir)}),xt(gt)},Dt.track=function(gt){o2(Dt[Jy](),function(){return"AppInsightsCore:track"},function(){gt===null&&(us(gt),Ht("Invalid telemetry item")),!gt[gh]&&J(gt[gh])&&(us(gt),Ht("telemetry name required")),gt.iKey=gt.iKey||Pn,gt.time=gt.time||Xy(new Date),gt.ver=gt.ver||"4.0",!We&&Dt[sf]()&&Ur===hh.ACTIVE?ga()[Za](gt):Ur!==hh.INACTIVE&&D[Ln]<=cs&&D[Pi](gt)},function(){return{item:gt}},!gt.sync)},Dt[_A]=ga,Dt[Yc]=function(){return F||(F=new UH(y.cfg),Dt[_n]=F),F},Dt[SE]=function(gt){Dt.getNotifyMgr()[SE](gt)},Dt[zy]=function(gt){F&&F[zy](gt)},Dt.getCookieMgr=function(){return fe||(fe=LH(y.cfg,Dt[js])),fe},Dt.setCookieMgr=function(gt){fe!==gt&&(ZA(fe,!1),fe=gt)},Dt[Jy]=function(){return U||oe||zs()},Dt.setPerfMgr=function(gt){U=gt},Dt.eventCnt=function(){return D[Ln]},Dt.releaseQueue=function(){if(I&&D[Ln]>0){var gt=D;D=[],Ur===2?Hr(gt,function(Ir){Ir.iKey=Ir.iKey||Pn,ga()[Za](Ir)}):Dr(_,2,20,"core init status is not active")}},Dt.pollInternalLogs=function(gt){return ht=gt||null,Vi=!1,zt&&zt[IA](),ro(!0)};function yn(){Io=!0,J(Pn)?(Ur=hh.INACTIVE,Dr(_,1,112,"ikey can't be resolved from promises")):Ur=hh.ACTIVE,ws()}o(yn,"_setStatus");function ws(){I&&(Dt.releaseQueue(),Dt.pollInternalLogs())}o(ws,"_releaseQueues");function ro(gt){if((!zt||!zt[af])&&!Vi){var Ir=gt||_&&_.queue[Ln]>0;Ir&&(qr||(qr=!0,kl(y[Ld](function(xn){var Mr=xn.cfg.diagnosticLogInterval;(!Mr||!(Mr>0))&&(Mr=1e4);var vn=!1;zt&&(vn=zt[af],zt[IA]()),zt=EE(g2,Mr),zt.unref(),zt[af]=vn}))),zt[af]=!0)}return zt}o(ro,"_startLogPoller"),Dt[kS]=function(){Vi=!0,zt&&zt[IA](),g2()},L6(Dt,function(){return ze},["addTelemetryInitializer"]),Dt[fg]=function(gt,Ir,xn){gt===void 0&&(gt=!0),I||Ht(ni),We&&Ht(An);var Mr={reason:50,isAsync:gt,flushComplete:!1},vn;gt&&!Ir&&(vn=DA(function(Wo){Ir=Wo}));var co=w(yf(),Dt);co[BE](function(){Vt.run(Dt[js]),lB([fe,F,_],gt,function(){dt(),Ir&&Ir(Mr)})},Dt);function ho(Wo){Mr.flushComplete=Wo,We=!0,It.run(co,Mr),Dt[kS](),co[Za](Mr)}return o(ho,"_doUnload"),g2(),Vd(gt,ho,6,xn),vn},Dt[wA]=il,Dt.addPlugin=function(gt,Ir,xn,Mr){if(!gt){Mr&&Mr(!1),y2(kr);return}var vn=il(gt[ph]);if(vn&&!Ir){Mr&&Mr(!1),y2("Plugin ["+gt[ph]+"] is already loaded!");return}var co={reason:16};function ho(fc){Se[Pi](gt),co.added=[gt],_s(co),Mr&&Mr(!0)}if(o(ho,"_addPlugin"),vn){var Wo=[vn.plugin],t0={reason:2,isAsync:!!xn};S0(Wo,t0,function(fc){fc?(co.removed=Wo,co.reason|=32,ho()):Mr&&Mr(!1)})}else ho()},Dt.updateCfg=function(gt,Ir){Ir===void 0&&(Ir=!0);var xn;if(Dt[sf]()){xn={reason:1,cfg:y.cfg,oldCfg:pE({},y.cfg),newConfig:pE({},gt),merge:Ir},gt=xn.newConfig;var Mr=y.cfg;gt[PA]=Mr[PA],gt[Ud]=Mr[Ud]}y._block(function(vn){var co=vn.cfg;dx(vn,co,gt,Ir),Ir||ee(co,function(ho){Ge(gt,ho)||vn.set(co,ho,sc)}),vn.setDf(co,ma)},!0),y.notify(),xn&&jd(xn)},Dt.evtNamespace=function(){return st},Dt.flush=Vd,Dt.getTraceCtx=function(gt){return wr||(wr=WH()),wr},Dt.setTraceCtx=function(gt){wr=gt||null},Dt.addUnloadHook=kl,Zy(Dt,"addUnloadCb",function(){return It},"add"),Dt.onCfgChange=function(gt){var Ir;return I?Ir=Wd(y.cfg,gt,Dt[js]):Ir=jH(fi,gt),_B(Ir)},Dt.getWParam=function(){return nh()||y.cfg.enableWParam?0:-1};function nl(){var gt={};to=[];var Ir=o(function(xn){xn&&Hr(xn,function(Mr){if(Mr[ph]&&Mr[SA]&&!gt[Mr.identifier]){var vn=Mr[ph]+"="+Mr[SA];to[Pi](vn),gt[Mr.identifier]=Mr}})},"_addPluginVersions");Ir(Xe),qe&&Hr(qe,function(xn){Ir(xn)}),Ir(Se)}o(nl,"_setPluginVersions");function dt(){I=!1,y=uc({},ma,Dt[js]),y.cfg[RS]=1,Oe(Dt,"config",{g:o(function(){return y.cfg},"g"),s:o(function(Ir){Dt.updateCfg(Ir,!1)},"s")}),Oe(Dt,"pluginVersionStringArr",{g:o(function(){return to||nl(),to},"g")}),Oe(Dt,"pluginVersionString",{g:o(function(){return sn||(to||nl(),sn=to.join(";")),sn||ri},"g")}),Oe(Dt,"logger",{g:o(function(){return _||(_=new u3(y.cfg),y[js]=_),_},"g"),s:o(function(Ir){y[js]=Ir,_!==Ir&&(ZA(_,!1),_=Ir)},"s")}),Dt[js]=new u3(y.cfg),di=[];var gt=Dt.config[PA]||[];gt.splice(0,gt[Ln]),aA(gt,di),ze=new Bn,D=[],ZA(F,!1),F=null,U=null,oe=null,ZA(fe,!1),fe=null,Ee=null,Se=[],qe=null,Xe=null,We=!1,ht=null,st=Gd("AIBaseCore",!0),It=ue(),wr=null,Pn=null,Vt=Te(),fi=[],sn=null,to=null,Vi=!1,zt=null,qr=!1,Ur=0,mi=null,cs=null,Io=!1}o(dt,"_initDefaults");function ga(){var gt=a2(yf(),y.cfg,Dt);return gt[BE](ro),gt}o(ga,"_createTelCtx");function _s(gt){var Ir=p3(Dt[js],wH,Se);Ee=null,sn=null,to=null,Xe=(qe||[])[0]||[],Xe=s9(aA(Xe,Ir[Ud]));var xn=aA(s9(Ir[$s]),Xe);di=xt(xn);var Mr=Dt.config[PA]||[];Mr.splice(0,Mr[Ln]),aA(Mr,di);var vn=ga();Xe&&Xe[Ln]>0&&o9(vn[dg](Xe),xn),o9(vn,xn),gt&&jd(gt)}o(_s,"_initPluginChain");function il(gt){var Ir=null,xn=null,Mr=[];return Hr(di,function(vn){if(vn[ph]===gt&&vn!==ze)return xn=vn,-1;vn.getChannel&&Mr[Pi](vn)}),!xn&&Mr[Ln]>0&&Hr(Mr,function(vn){if(xn=vn.getChannel(gt),!xn)return-1}),xn&&(Ir={plugin:xn,setEnabled:o(function(vn){Bh(xn)[UE]=!vn},"setEnabled"),isEnabled:o(function(){var vn=Bh(xn);return!vn[lf]&&!vn[UE]},"isEnabled"),remove:o(function(vn,co){vn===void 0&&(vn=!0);var ho=[xn],Wo={reason:1,isAsync:vn};S0(ho,Wo,function(t0){t0&&_s({reason:32,removed:ho}),co&&co(t0)})},"remove")}),Ir}o(il,"_getPlugin");function yf(){if(!Ee){var gt=(di||[]).slice();b0(gt,ze)===-1&&gt[Pi](ze),Ee=R(s9(gt),y.cfg,Dt)}return Ee}o(yf,"_getPluginChain");function S0(gt,Ir,xn){if(gt&&gt[Ln]>0){var Mr=R(gt,y.cfg,Dt),vn=w(Mr,Dt);vn[BE](function(){var co=!1,ho=[];Hr(Se,function(t0,fc){c9(t0,gt)?co=!0:ho[Pi](t0)}),Se=ho,sn=null,to=null;var Wo=[];qe&&(Hr(qe,function(t0,fc){var $d=[];Hr(t0,function(zd){c9(zd,gt)?co=!0:$d[Pi](zd)}),Wo[Pi]($d)}),qe=Wo),xn&&xn(co),ro()}),vn[Za](Ir)}else xn(!1)}o(S0,"_removePlugins");function g2(){if(_&&_.queue){var gt=_.queue.slice(0);_.queue[Ln]=0,Hr(gt,function(Ir){var xn={name:ht||"InternalMessageId: "+Ir[kE],iKey:Pn,time:Xy(new Date),baseType:nx.dataType,baseData:{message:Ir[mg]}};Dt.track(xn)})}}o(g2,"_flushInternalLogs");function Vd(gt,Ir,xn,Mr){var vn=1,co=!1,ho=null;Mr=Mr||5e3;function Wo(){vn--,co&&vn===0&&(ho&&ho[IA](),ho=null,Ir&&Ir(co),Ir=null)}if(o(Wo,"doCallback"),Xe&&Xe[Ln]>0){var t0=ga()[dg](Xe);t0.iterate(function(fc){if(fc.flush){vn++;var $d=!1;fc.flush(gt,function(){$d=!0,Wo()},xn)||$d||(gt&&ho==null?ho=fh(function(){ho=null,Wo()},Mr):Wo())}})}return co=!0,Wo(),!0}o(Vd,"_flushChannels");function A2(){var gt;kl(y[Ld](function(Ir){var xn=Ir.cfg.enablePerfMgr;if(xn){var Mr=Ir.cfg[Jc];(gt!==Mr||!gt)&&(Mr||(Mr=l2),VS(Ir.cfg,Jc,Mr),gt=Mr,oe=null),!U&&!oe&&Re(Mr)&&(oe=Mr(Dt,Dt[Yc]()))}else oe=null,gt=null}))}o(A2,"_initPerfManager");function jd(gt){var Ir=B(yf(),Dt);Ir[BE](ro),(!Dt._updateHook||Dt._updateHook(Ir,gt)!==!0)&&Ir[Za](gt)}o(jd,"_doUpdate");function y2(gt){var Ir=Dt[js];Ir?(Dr(Ir,2,73,gt),ro()):Ht(gt)}o(y2,"_logOrThrowError");function us(gt){var Ir=Dt[Yc]();Ir&&Ir[LA]([gt],2)}o(us,"_notifyInvalidEvent");function kl(gt){Vt.add(gt)}o(kl,"_addUnloadHook")})}return o(g,"AppInsightsCore"),g.__ieDyn=1,g}();function Qr(g,y){try{if(g&&g!==""){var I=w0().parse(g);if(I&&I[DS]&&I[DS]>=I.itemsAccepted&&I.itemsReceived-I.itemsAccepted===I.errors[Ln])return I}}catch(_){Dr(y,1,43,"Cannot parse the response. "+(_[gh]||At(_)),{response:g})}return null}o(Qr,"parseResponse");var en="",Eo="NoResponseBody",ha="&"+Eo+"=true",Ts="POST",pa=function(){function g(){var y=0,I,_,D,F,U,oe,fe,Ee,Se,qe,Xe,We,ze,ht;_l(g,this,function(st,It){var Vt=!0;Io(),st[$y]=function(zt,qr){D=qr,_&&Dr(D,1,28,"Sender is already initialized"),st.SetConfig(zt),_=!0},st._getDbgPlgTargets=function(){return[_,F,oe,I]},st.SetConfig=function(zt){try{if(U=zt.senderOnCompleteCallBack||{},oe=!!zt.disableCredentials,fe=zt.fetchCredentials,F=!!zt.isOneDs,I=!!zt.enableSendPromise,Se=!!zt.disableXhr,qe=!!zt.disableBeacon,Xe=!!zt.disableBeaconSync,ht=zt.timeWrapper,ze=!!zt.addNoResponse,We=!!zt.disableFetchKeepAlive,Ee={sendPOST:Ur},F||(Vt=!1),oe){var qr=WA();qr&&qr.protocol&&qr.protocol[xA]()==="file:"&&(Vt=!1)}return!0}catch{}return!1},st.getSyncFetchPayload=function(){return y},st.getSenderInst=function(zt,qr){return zt&&zt[Ln]?fi(zt,qr):null},st.getFallbackInst=function(){return Ee},st[RE]=function(zt,qr){Io()};function fr(zt,qr){di(qr,200,{},zt)}o(fr,"_onSuccess");function wr(zt,qr){Dr(D,2,26,"Failed to send telemetry.",{message:zt}),di(qr,400,{})}o(wr,"_onError");function Pn(zt){wr("No endpoint url is provided for the batch",zt)}o(Pn,"_onNoPayloadUrl");function fi(zt,qr){for(var Vi=0,Dt=null,yn=0;Dt==null&&yn<zt[Ln];)Vi=zt[yn],!Se&&Vi===1?W6()?Dt=cs:H6()&&(Dt=Ur):Vi===2&&i3(qr)&&(!qr||!We)?Dt=mi:Vi===3&&bh()&&(qr?!Xe:!qe)&&(Dt=sn),yn++;return Dt?{_transport:Vi,_isSync:qr,sendPOST:Dt}:null}o(fi,"_getSenderInterface");function di(zt,qr,Vi,Dt){try{zt&&zt(qr,Vi,Dt)}catch{}}o(di,"_doOnComplete");function to(zt,qr){var Vi=ih(),Dt=zt[Md];if(!Dt)return Pn(qr),!0;Dt=zt[Md]+(ze?ha:en);var yn=zt[BA],ws=F?yn:new Blob([yn],{type:"text/plain;charset=UTF-8"}),ro=Vi.sendBeacon(Dt,ws);return ro}o(to,"_doBeaconSend");function sn(zt,qr,Vi){var Dt=zt[BA];try{if(Dt)if(to(zt,qr))fr(en,qr);else{var yn=U&&U.beaconOnRetry;yn&&Re(yn)?yn(zt,qr,to):(Ee&&Ee.sendPOST(zt,qr,!0),Dr(D,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(ws){F&&ix(D,"Failed to send telemetry using sendBeacon API. Ex:"+At(ws)),di(qr,F?0:400,{},en)}}o(sn,"_beaconSender");function Ur(zt,qr,Vi){var Dt,yn,ws,ro=zt[k6]||{};!Vi&&I&&(Dt=DA(function(_s,il){yn=_s,ws=il})),F&&Vi&&zt.disableXhrSync&&(Vi=!1);var nl=zt[Md];if(!nl){Pn(qr),yn&&yn(!1);return}var dt=O6(Ts,nl,Vt,!0,Vi,zt[Od]);F||dt.setRequestHeader("Content-type","application/json"),Hr(et(ro),function(_s){dt.setRequestHeader(_s,ro[_s])}),dt.onreadystatechange=function(){F||(ga(dt),dt.readyState===4&&yn&&yn(!0))},dt.onload=function(){F&&ga(dt)};function ga(_s){var il=U&&U.xhrOnComplete,yf=il&&Re(il);if(yf)il(_s,qr,zt);else{var S0=jE(_s);di(qr,_s[Yy],Cg(_s,F),S0)}}return o(ga,"_doOnReadyFunc"),dt.onerror=function(_s){di(qr,F?dt[Yy]:400,Cg(dt,F),F?en:$E(dt)),ws&&ws(_s)},dt.ontimeout=function(){di(qr,F?dt[Yy]:500,Cg(dt,F),F?en:$E(dt)),yn&&yn(!1)},dt.send(zt[BA]),Dt}o(Ur,"_xhrSender");function mi(zt,qr,Vi){var Dt,yn=zt[Md],ws=zt[BA],ro=F?ws:new Blob([ws],{type:"application/json"}),nl,dt,ga,_s=new Headers,il=ws[Ln],yf=!1,S0=!1,g2=zt[k6]||{},Vd=(Dt={method:Ts,body:ro},Dt[cB]=!0,Dt);zt.headers&&et(zt.headers)[Ln]>0&&(Hr(et(g2),function(us){_s.append(us,g2[us])}),Vd[k6]=_s),fe?Vd.credentials=fe:Vt&&F&&(Vd.credentials="include"),Vi&&(Vd.keepalive=!0,y+=il,F?zt._sendReason===2&&(yf=!0,ze&&(yn+=ha)):yf=!0);var A2=new Request(yn,Vd);try{A2[cB]=!0}catch{}if(!Vi&&I&&(nl=DA(function(us,kl){dt=us,ga=kl})),!yn){Pn(qr),dt&&dt(!1);return}function jd(us){di(qr,F?0:400,{},F?en:us)}o(jd,"_handleError");function y2(us,kl,gt){var Ir=us[Yy],xn=U.fetchOnComplete;xn&&Re(xn)?xn(us,qr,gt||en,kl):di(qr,Ir,{},gt||en)}o(y2,"_onFetchComplete");try{oc(fetch(F?yn:A2,F?Vd:null),function(us){if(Vi&&(y-=il,il=0),!S0)if(S0=!0,us.rejected)jd(us.reason&&us.reason[mg]),ga&&ga(us.reason);else{var kl=us[TA];try{!F&&!kl.ok?(jd(kl.statusText),dt&&dt(!1)):F&&!kl.body?(y2(kl,null,en),dt&&dt(!0)):oc(kl.text(),function(gt){y2(kl,zt,gt[TA]),dt&&dt(!0)})}catch(gt){jd(At(gt)),ga&&ga(gt)}}})}catch(us){S0||(jd(At(us)),ga&&ga(us))}return yf&&!S0&&(S0=!0,di(qr,200,{}),dt&&dt(!0)),F&&!S0&&zt[Od]>0&&ht&&ht.set(function(){S0||(S0=!0,di(qr,500,{}),dt&&dt(!0))},zt[Od]),nl}o(mi,"_doFetchSender");function cs(zt,qr,Vi){var Dt=Dd(),yn=new XDomainRequest,ws=zt[BA];yn.onload=function(){var _s=jE(yn),il=U&&U.xdrOnComplete;il&&Re(il)?il(yn,qr,zt):di(qr,200,{},_s)},yn.onerror=function(){di(qr,400,{},F?en:$S(yn))},yn.ontimeout=function(){di(qr,500,{})},yn.onprogress=function(){};var ro=Dt&&Dt.location&&Dt.location.protocol||"",nl=zt[Md];if(!nl){Pn(qr);return}if(!F&&nl.lastIndexOf(ro,0)!==0){var dt="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";Dr(D,2,40,". "+dt),wr(dt,qr);return}var ga=F?nl:nl[Ch](/^(https?:)/,"");yn.open(Ts,ga),zt[Od]&&(yn[Od]=zt[Od]),yn.send(ws),F&&Vi?ht&&ht.set(function(){yn.send(ws)},0):yn.send(ws)}o(cs,"_xdrSender");function Io(){y=0,_=!1,I=!1,D=null,F=null,U=null,oe=null,fe=null,Ee=null,Se=!1,qe=!1,Xe=!1,We=!1,ze=!1,ht=null}o(Io,"_initDefaults")})}return o(g,"SenderPostManager"),g.__ieDyn=1,g}(),vg="on",kh="attachEvent",c2="addEventListener",SB="detachEvent",BB="removeEventListener",mx="events";Gd("aiEvtPageHide"),Gd("aiEvtPageShow");var $H=/\.[\.]+/g,e0e=/[\.]+$/,sOe=1,kB=eB("events"),aOe=/^([^.]*)(?:\.(.+)|)/;function t0e(g){return g&&g[Ch]?g[Ch](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,ri):g}o(t0e,"_normalizeNamespace");function zH(g,y){if(y){var I=ri;Ue(y)?(I=ri,Hr(y,function(D){D=t0e(D),D&&(D[0]!=="."&&(D="."+D),I+=D)})):I=t0e(y),I&&(I[0]!=="."&&(I="."+I),g=(g||ri)+I)}var _=aOe.exec(g||ri)||[];return{type:_[1],ns:(_[2]||ri).replace($H,".").replace(e0e,ri)[yh](".").sort().join(".")}}o(zH,"_getEvtNamespace");function r0e(g,y,I){I===void 0&&(I=!0);var _=kB.get(g,mx,{},I),D=_[y];return D||(D=_[y]=[]),D}o(r0e,"_getRegisteredEvents");function n0e(g,y,I,_){g&&y&&y[Sl]&&(g[BB]?g[BB](y[Sl],I,_):g[SB]&&g[SB](vg+y[Sl],I))}o(n0e,"_doDetach");function lOe(g,y,I,_){var D=!1;return g&&y&&y[Sl]&&I&&(g[c2]?(g[c2](y[Sl],I,_),D=!0):g[kh]&&(g[kh](vg+y[Sl],I),D=!0)),D}o(lOe,"_doAttach");function i0e(g,y,I,_){for(var D=y[Ln];D--;){var F=y[D];F&&(!I.ns||I.ns===F[_6].ns)&&(!_||_(F))&&(n0e(g,F[_6],F.handler,F.capture),y[bA](D,1))}}o(i0e,"_doUnregister");function cOe(g,y,I){if(y[Sl])i0e(g,r0e(g,y[Sl]),y,I);else{var _=kB.get(g,mx,{});ee(_,function(D,F){i0e(g,F,y,I)}),et(_)[Ln]===0&&kB.kill(g,mx)}}o(cOe,"_unregisterEvents");function o0e(g,y){var I;return y?(Ue(y)?I=[g].concat(y):I=[g,y],I=zH("xx",I).ns[yh](".")):I=g,I}o(o0e,"mergeEvtNamespace");function s0e(g,y,I,_,D){D===void 0&&(D=!1);var F=!1;if(g)try{var U=zH(y,_);if(F=lOe(g,U,I,D),F&&kB.accept(g)){var oe={guid:sOe++,evtName:U,handler:I,capture:D};r0e(g,U.type)[Pi](oe)}}catch{}return F}o(s0e,"eventOn");function uOe(g,y,I,_,D){if(D===void 0&&(D=!1),g)try{var F=zH(y,_),U=!1;cOe(g,F,function(oe){return F.ns&&!I||oe.handler===I?(U=!0,!0):!1}),U||n0e(g,F,I,D)}catch{}}o(uOe,"eventOff");var a0e="sampleRate",YH="ProcessLegacy",l0e="http.method",KH="https://dc.services.visualstudio.com",hx="/v2/track",u2="not_specified",c0e=cH({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),RB="split",Zn="length",JH="toLowerCase",g3="ingestionendpoint",f9="toString",u0e="removeItem",DB="message",fOe="count",XH="stringify",ZH="pathname",d9="match",f2="name",Rh="properties",bg="measurements",PB="sizeInBytes",NB="typeName",m9="exceptions",h9="severityLevel",eV="problemGroup",px="parsedStack",FB="hasFullStack",LB="assembly",Ig="fileName",gx="line",QB="aiDataContract",MB="duration";function f0e(g,y,I){var _=y[Zn],D=dOe(g,y);if(D[Zn]!==_){for(var F=0,U=D;I[U]!==void 0;)F++,U=de(D,0,147)+pOe(F);D=U}return D}o(f0e,"dataSanitizeKeyAndAddUniqueness");function dOe(g,y){var I;return y&&(y=Di(yt(y)),y[Zn]>150&&(I=de(y,0,150),Dr(g,2,57,"name is too long.  It has been truncated to 150 characters.",{name:y},!0))),I||y}o(dOe,"dataSanitizeKey");function Zl(g,y,I){I===void 0&&(I=1024);var _;return y&&(I=I||1024,y=Di(yt(y)),y[Zn]>I&&(_=de(y,0,I),Dr(g,2,61,"string value is too long. It has been truncated to "+I+" characters.",{value:y},!0))),_||y}o(Zl,"dataSanitizeString");function tV(g,y){return m0e(g,y,2048,66)}o(tV,"dataSanitizeUrl");function d0e(g,y){var I;return y&&y[Zn]>32768&&(I=de(y,0,32768),Dr(g,2,56,"message is too long, it has been truncated to 32768 characters.",{message:y},!0)),I||y}o(d0e,"dataSanitizeMessage");function mOe(g,y){var I;if(y){var _=""+y;_[Zn]>32768&&(I=de(_,0,32768),Dr(g,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:y},!0))}return I||y}o(mOe,"dataSanitizeException");function A3(g,y){if(y){var I={};ee(y,function(_,D){if(be(D)&&HA())try{D=w0()[XH](D)}catch(F){Dr(g,2,49,"custom property is not valid",{exception:F},!0)}D=Zl(g,D,8192),_=f0e(g,_,I),I[_]=D}),y=I}return y}o(A3,"dataSanitizeProperties");function y3(g,y){if(y){var I={};ee(y,function(_,D){_=f0e(g,_,I),I[_]=D}),y=I}return y}o(y3,"dataSanitizeMeasurements");function hOe(g,y){return y&&m0e(g,y,128,69)[f9]()}o(hOe,"dataSanitizeId");function m0e(g,y,I,_){var D;return y&&(y=Di(yt(y)),y[Zn]>I&&(D=de(y,0,I),Dr(g,2,_,"input is too long, it has been truncated to "+I+" characters.",{data:y},!0))),D||y}o(m0e,"dataSanitizeInput");function pOe(g){var y="00"+g;return ye(y,y[Zn]-3)}o(pOe,"dsPadNumber");var h0e=oA()||{},p0e=0,gOe=[null,null,null,null,null];function AOe(g){var y=p0e,I=gOe,_=I[y];return h0e.createElement?I[y]||(_=I[y]=h0e.createElement("a")):_={host:yOe(g,!0)},_.href=g,y++,y>=I[Zn]&&(y=0),p0e=y,_}o(AOe,"urlParseUrl");function yOe(g,y){var I=COe(g,y)||"";if(I){var _=I[d9](/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(_!=null&&_[Zn]>3&&ce(_[2])&&_[2][Zn]>0)return _[2]+(_[3]||"")}return I}o(yOe,"urlParseHost");function COe(g,y){var I=null;if(g){var _=g[d9](/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(_!=null&&_[Zn]>2&&ce(_[2])&&_[2][Zn]>0&&(I=_[2]||"",y&&_[Zn]>2)){var D=(_[1]||"")[JH](),F=_[3]||"";(D==="http"&&F===":80"||D==="https"&&F===":443")&&(F=""),I+=F}}return I}o(COe,"urlParseFullHost");var EOe=[KH+hx,"https://breeze.aimon.applicationinsights.io"+hx,"https://dc-int.services.visualstudio.com"+hx];function g0e(g){return b0(EOe,g[JH]())!==-1}o(g0e,"isInternalApplicationInsightsEndpoint");function xOe(g,y,I,_){var D,F=_,U=_;if(y&&y[Zn]>0){var oe=AOe(y);if(D=oe.host,!F)if(oe[ZH]!=null){var fe=oe.pathname[Zn]===0?"/":oe[ZH];fe.charAt(0)!=="/"&&(fe="/"+fe),U=oe[ZH],F=Zl(g,I?I+" "+fe:fe)}else F=Zl(g,y)}else D=_,F=_;return{target:D,name:F,data:U}}o(xOe,"AjaxHelperParseDependencyPath");var rV=wE({LocalStorage:0,SessionStorage:1}),Ax=void 0,A0e="";function y0e(g){try{if(J(nf()))return null;var y=new Date()[f9](),I=Ns(g===rV.LocalStorage?"localStorage":"sessionStorage"),_=A0e+y;I.setItem(_,y);var D=I.getItem(_)!==y;if(I[u0e](_),!D)return I}catch{}return null}o(y0e,"_getVerifiedStorageObject");function nV(){return C0e()?y0e(rV.SessionStorage):null}o(nV,"_getSessionStorageObject");function vOe(g){A0e=g||""}o(vOe,"utlSetStoragePrefix");function C0e(g){return(g||Ax===void 0)&&(Ax=!!y0e(rV.SessionStorage)),Ax}o(C0e,"utlCanUseSessionStorage");function bOe(g,y){var I=nV();if(I!==null)try{return I.getItem(y)}catch(_){Ax=!1,Dr(g,2,2,"Browser failed read of session storage. "+Ua(_),{exception:At(_)})}return null}o(bOe,"utlGetSessionStorage");function IOe(g,y,I){var _=nV();if(_!==null)try{return _.setItem(y,I),!0}catch(D){Ax=!1,Dr(g,2,4,"Browser failed write to session storage. "+Ua(D),{exception:At(D)})}return!1}o(IOe,"utlSetSessionStorage");function TOe(g,y){var I=nV();if(I!==null)try{return I[u0e](y),!0}catch(_){Ax=!1,Dr(g,2,6,"Browser failed removal of session storage item. "+Ua(_),{exception:At(_)})}return!1}o(TOe,"utlRemoveSessionStorage");var wOe=";",_Oe="=";function iV(g){if(!g)return{};var y=g[RB](wOe),I=JW(y,function(D,F){var U=F[RB](_Oe);if(U[Zn]===2){var oe=U[0][JH](),fe=U[1];D[oe]=fe}return D},{});if(et(I)[Zn]>0){if(I.endpointsuffix){var _=I.location?I.location+".":"";I[g3]=I[g3]||"https://"+_+"dc."+I.endpointsuffix}I[g3]=I[g3]||KH,TS(I[g3],"/")&&(I[g3]=I[g3].slice(0,-1))}return I}o(iV,"parseConnectionString");var SOe=function(){function g(y,I,_){var D=this,F=this;F.ver=1,F.sampleRate=100,F.tags={},F[f2]=Zl(y,_)||u2,F.data=I,F.time=Xy(new Date),F[QB]={time:1,iKey:1,name:1,sampleRate:o(function(){return D.sampleRate===100?4:1},"sampleRate"),tags:1,data:1}}return o(g,"Envelope"),g}(),yx=function(){function g(y,I,_,D){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var F=this;F.ver=2,F[f2]=Zl(y,I)||u2,F[Rh]=A3(y,_),F[bg]=y3(y,D)}return o(g,"Event"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Event",g.dataType="EventData",g}(),BOe=58,kOe=/^\s{0,50}(from\s|at\s|Line\s{1,5}\d{1,10}\s{1,5}of|\w{1,50}@\w{1,80}|[^\(\s\n]+:[0-9\?]+(?::[0-9\?]+)?)/,ROe=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+):([0-9\?]+)\)?$/,DOe=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+)\)?$/,POe=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\)\]]+)\)?$/,NOe=/(?:^|\(|\s{0,10}[\w\)]+\@)?([^\(\n\s\]\)]+)(?:\:([0-9]+)(?:\:([0-9]+))?)?\)?(?:,|$)/,FOe=/([^\(\s\n]+):([0-9]+):([0-9]+)$/,LOe=/([^\(\s\n]+):([0-9]+)$/,E0e="<no_method>",Cx="error",Af="stack",oV="stackDetails",x0e="errorSrc",sV="message",v0e="description",b0e=[{re:ROe,len:5,m:1,fn:2,ln:3,col:4},{chk:MOe,pre:QOe,re:DOe,len:4,m:1,fn:2,ln:3},{re:POe,len:3,m:1,fn:2,hdl:B0e},{re:NOe,len:2,fn:1,hdl:B0e}];function QOe(g){return g.replace(/(\(anonymous\))/,"<anonymous>")}o(QOe,"_scrubAnonymous");function MOe(g){return Pd(g,"[native")<0}o(MOe,"_ignoreNative");function aV(g,y){var I=g;return I&&!ce(I)&&(JSON&&JSON[XH]?(I=JSON[XH](g),y&&(!I||I==="{}")&&(Re(g[f9])?I=g[f9]():I=""+g)):I=""+g+" - (Missing JSON.stringify)"),I||""}o(aV,"_stringify");function I0e(g,y){var I=g;return g&&(I&&!ce(I)&&(I=g[sV]||g[v0e]||I),I&&!ce(I)&&(I=aV(I,!0)),g.filename&&(I=I+" @"+(g.filename||"")+":"+(g.lineno||"?")+":"+(g.colno||"?"))),y&&y!=="String"&&y!=="Object"&&y!=="Error"&&Pd(I||"",y)===-1&&(I=y+": "+I),I||""}o(I0e,"_formatMessage");function OOe(g){try{if(be(g))return"hasFullStack"in g&&"typeName"in g}catch{}return!1}o(OOe,"_isExceptionDetailsInternal");function UOe(g){try{if(be(g))return"ver"in g&&"exceptions"in g&&"properties"in g}catch{}return!1}o(UOe,"_isExceptionInternal");function T0e(g){return g&&g.src&&ce(g.src)&&g.obj&&Ue(g.obj)}o(T0e,"_isStackDetails");function C3(g){var y=g||"";ce(y)||(ce(y[Af])?y=y[Af]:y=""+y);var I=y[RB](`
`);return{src:y,obj:I}}o(C3,"_convertStackObj");function qOe(g){for(var y=[],I=g[RB](`
`),_=0;_<I[Zn];_++){var D=I[_];I[_+1]&&(D+="@"+I[_+1],_++),y.push(D)}return{src:g,obj:y}}o(qOe,"_getOperaStack");function w0e(g){var y=null;if(g)try{if(g[Af])y=C3(g[Af]);else if(g[Cx]&&g[Cx][Af])y=C3(g[Cx][Af]);else if(g.exception&&g.exception[Af])y=C3(g.exception[Af]);else if(T0e(g))y=g;else if(T0e(g[oV]))y=g[oV];else if(Dd()&&Dd().opera&&g[sV])y=qOe(g[DB]);else if(g.reason&&g.reason[Af])y=C3(g.reason[Af]);else if(ce(g))y=C3(g);else{var I=g[sV]||g[v0e]||"";ce(g[x0e])&&(I&&(I+=`
`),I+=" from "+g[x0e]),I&&(y=C3(I))}}catch(_){y=C3(_)}return y||{src:"",obj:null}}o(w0e,"_getStackFromErrorObj");function GOe(g){var y="";return g&&(g.obj?y=g.obj.join(`
`):y=g.src||""),y}o(GOe,"_formatStackTrace");function WOe(g){var y,I=g.obj;if(I&&I[Zn]>0){y=[];var _=0,D=!1,F=0;Hr(I,function(ht){if(D||$Oe(ht)){var st=yt(ht);D=!0;var It=zOe(st,_);It&&(F+=It[PB],y.push(It),_++)}});var U=32*1024;if(F>U)for(var oe=0,fe=y[Zn]-1,Ee=0,Se=oe,qe=fe;oe<fe;){var Xe=y[oe][PB],We=y[fe][PB];if(Ee+=Xe+We,Ee>U){var ze=qe-Se+1;y.splice(Se,ze);break}Se=oe,qe=fe,oe++,fe--}}return y}o(WOe,"_parseStack");function OB(g){var y="";if(g&&(y=g.typeName||g[f2]||"",!y))try{var I=/function (.{1,200})\(/,_=I.exec(g.constructor[f9]());y=_&&_[Zn]>1?_[1]:""}catch{}return y}o(OB,"_getErrorType");function lV(g){if(g)try{if(!ce(g)){var y=OB(g),I=aV(g,!1);return(!I||I==="{}")&&(g[Cx]&&(g=g[Cx],y=OB(g)),I=aV(g,!0)),Pd(I,y)!==0&&y!=="String"?y+":"+I:I}}catch{}return""+(g||"")}o(lV,"_formatErrorCode");var UB=function(){function g(y,I,_,D,F,U){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var oe=this;oe.ver=2,UOe(I)?(oe[m9]=I[m9]||[],oe[Rh]=I[Rh],oe[bg]=I[bg],I[h9]&&(oe[h9]=I[h9]),I.id&&(oe.id=I.id,I[Rh].id=I.id),I[eV]&&(oe[eV]=I[eV]),J(I.isManual)||(oe.isManual=I.isManual)):(_||(_={}),U&&(_.id=U),oe[m9]=[_0e(y,I,_)],oe[Rh]=A3(y,_),oe[bg]=y3(y,D),F&&(oe[h9]=F),U&&(oe.id=U))}return o(g,"Exception"),g.CreateAutoException=function(y,I,_,D,F,U,oe,fe){var Ee=OB(F||U||y);return{message:I0e(y,Ee),url:I,lineNumber:_,columnNumber:D,error:lV(F||U||y),evt:lV(U||y),typeName:Ee,stackDetails:w0e(oe||F||U),errorSrc:fe}},g.CreateFromInterface=function(y,I,_,D){var F=I[m9]&&ng(I[m9],function(oe){return jOe(y,oe)}),U=new g(y,Fd(Fd({},I),{exceptions:F}),_,D);return U},g.prototype.toInterface=function(){var y=this,I=y.exceptions,_=y.properties,D=y.measurements,F=y.severityLevel,U=y.problemGroup,oe=y.id,fe=y.isManual,Ee=I instanceof Array&&ng(I,function(Se){return Se.toInterface()})||void 0;return{ver:"4.0",exceptions:Ee,severityLevel:F,properties:_,measurements:D,problemGroup:U,id:oe,isManual:fe}},g.CreateSimpleException=function(y,I,_,D,F,U){var oe;return{exceptions:[(oe={},oe[FB]=!0,oe.message=y,oe.stack=F,oe.typeName=I,oe)]}},g.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",g.dataType="ExceptionData",g.formatError=lV,g}(),HOe=xt({id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2});function VOe(){var g=this,y=Ue(g[px])&&ng(g[px],function(_){return KOe(_)}),I={id:g.id,outerId:g.outerId,typeName:g[NB],message:g[DB],hasFullStack:g[FB],stack:g[Af],parsedStack:y||void 0};return I}o(VOe,"_toInterface");function _0e(g,y,I){var _,D,F,U,oe,fe,Ee,Se;if(OOe(y))U=y[NB],oe=y[DB],Ee=y[Af],Se=y[px]||[],fe=y[FB];else{var qe=y,Xe=qe&&qe.evt;it(qe)||(qe=qe[Cx]||Xe||qe),U=Zl(g,OB(qe))||u2,oe=d0e(g,I0e(y||qe,U))||u2;var We=y[oV]||w0e(y);Se=WOe(We),Ue(Se)&&ng(Se,function(ze){ze[LB]=Zl(g,ze[LB]),ze[Ig]=Zl(g,ze[Ig])}),Ee=mOe(g,GOe(We)),fe=Ue(Se)&&Se[Zn]>0,I&&(I[NB]=I[NB]||U)}return _={},_[QB]=HOe,_.id=D,_.outerId=F,_.typeName=U,_.message=oe,_[FB]=fe,_.stack=Ee,_.parsedStack=Se,_.toInterface=VOe,_}o(_0e,"_createExceptionDetails");function jOe(g,y){var I=Ue(y[px])&&ng(y[px],function(D){return YOe(D)})||y[px],_=_0e(g,Fd(Fd({},y),{parsedStack:I}));return _}o(jOe,"_createExDetailsFromInterface");function S0e(g,y){var I=y[d9](FOe);if(I&&I[Zn]>=4)g[Ig]=I[1],g[gx]=parseInt(I[2]);else{var _=y[d9](LOe);_&&_[Zn]>=3?(g[Ig]=_[1],g[gx]=parseInt(_[2])):g[Ig]=y}}o(S0e,"_parseFilename");function B0e(g,y,I){var _=g[Ig];y.fn&&I&&I[Zn]>y.fn&&(y.ln&&I[Zn]>y.ln?(_=Di(I[y.fn]||""),g[gx]=parseInt(Di(I[y.ln]||""))||0):_=Di(I[y.fn]||"")),_&&S0e(g,_)}o(B0e,"_handleFilename");function $Oe(g){var y=!1;if(g&&ce(g)){var I=Di(g);I&&(y=kOe.test(I))}return y}o($Oe,"_isStackFrame");var k0e=xt({level:1,method:1,assembly:0,fileName:0,line:0});function zOe(g,y){var I,_;if(g&&ce(g)&&Di(g)){_=(I={},I[QB]=k0e,I.level=y,I.assembly=Di(g),I.method=E0e,I.fileName="",I.line=0,I.sizeInBytes=0,I);for(var D=0;D<b0e[Zn];){var F=b0e[D];if(F.chk&&!F.chk(g))break;F.pre&&(g=F.pre(g));var U=g[d9](F.re);if(U&&U[Zn]>=F.len){F.m&&(_.method=Di(U[F.m]||E0e)),F.hdl?F.hdl(_,F,U):F.fn&&(F.ln?(_[Ig]=Di(U[F.fn]||""),_[gx]=parseInt(Di(U[F.ln]||""))||0):S0e(_,U[F.fn]||""));break}D++}}return R0e(_)}o(zOe,"_extractStackFrame");function YOe(g){var y,I=(y={},y[QB]=k0e,y.level=g.level,y.method=g.method,y.assembly=g[LB],y.fileName=g[Ig],y.line=g[gx],y.sizeInBytes=0,y);return R0e(I)}o(YOe,"_stackFrameFromInterface");function R0e(g){var y=BOe;return g&&(y+=g.method[Zn],y+=g.assembly[Zn],y+=g.fileName[Zn],y+=g.level.toString()[Zn],y+=g.line.toString()[Zn],g[PB]=y),g}o(R0e,"_populateFrameSizeInBytes");function KOe(g){return{level:g.level,method:g.method,assembly:g[LB],fileName:g[Ig],line:g[gx]}}o(KOe,"_parsedFrameToInterface");var JOe=function(){function g(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return o(g,"DataPoint"),g}(),p9=function(){function g(y,I,_,D,F,U,oe,fe,Ee){this.aiDataContract={ver:1,metrics:1,properties:0};var Se=this;Se.ver=2;var qe=new JOe;qe[fOe]=D>0?D:void 0,qe.max=isNaN(U)||U===null?void 0:U,qe.min=isNaN(F)||F===null?void 0:F,qe[f2]=Zl(y,I)||u2,qe.value=_,qe.stdDev=isNaN(oe)||oe===null?void 0:oe,Se.metrics=[qe],Se[Rh]=A3(y,fe),Se[bg]=y3(y,Ee)}return o(g,"Metric"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",g.dataType="MetricData",g}(),g9="";function D0e(g){(isNaN(g)||g<0)&&(g=0),g=rH(g);var y=g9+g%1e3,I=g9+ig(g/1e3)%60,_=g9+ig(g/(1e3*60))%60,D=g9+ig(g/(1e3*60*60))%24,F=ig(g/(1e3*60*60*24));return y=y[Zn]===1?"00"+y:y[Zn]===2?"0"+y:y,I=I[Zn]<2?"0"+I:I,_=_[Zn]<2?"0"+_:_,D=D[Zn]<2?"0"+D:D,(F>0?F+".":g9)+D+":"+_+":"+I+"."+y}o(D0e,"msToTimeSpan");var qB=function(){function g(y,I,_,D,F,U,oe){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var fe=this;fe.ver=2,fe.id=hOe(y,oe),fe.url=tV(y,_),fe[f2]=Zl(y,I)||u2,isNaN(D)||(fe[MB]=D0e(D)),fe[Rh]=A3(y,F),fe[bg]=y3(y,U)}return o(g,"PageView"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",g.dataType="PageviewData",g}(),GB=function(){function g(y,I,_,D,F,U,oe,fe,Ee,Se,qe,Xe){Ee===void 0&&(Ee="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var We=this;We.ver=2,We.id=I,We[MB]=D0e(F),We.success=U,We.resultCode=oe+"",We.type=Zl(y,Ee);var ze=xOe(y,_,fe,D);We.data=tV(y,D)||ze.data,We.target=Zl(y,ze.target),Se&&(We.target="".concat(We.target," | ").concat(Se)),We[f2]=Zl(y,ze[f2]),We[Rh]=A3(y,qe),We[bg]=y3(y,Xe)}return o(g,"RemoteDependencyData"),g.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",g.dataType="RemoteDependencyData",g}(),WB=function(){function g(y,I,_,D,F){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var U=this;U.ver=2,I=I||u2,U[DB]=d0e(y,I),U[Rh]=A3(y,D),U[bg]=y3(y,F),_&&(U[h9]=_)}return o(g,"Trace"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Message",g.dataType="MessageData",g}(),HB=function(){function g(y,I,_,D,F,U,oe){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var fe=this;fe.ver=2,fe.url=tV(y,_),fe[f2]=Zl(y,I)||u2,fe[Rh]=A3(y,F),fe[bg]=y3(y,U),oe&&(fe.domProcessing=oe.domProcessing,fe[MB]=oe[MB],fe.networkConnect=oe.networkConnect,fe.perfTotal=oe.perfTotal,fe.receivedResponse=oe.receivedResponse,fe.sentRequest=oe.sentRequest)}return o(g,"PageViewPerformance"),g.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",g.dataType="PageviewPerformanceData",g}(),E3=function(){function g(y,I){this.aiDataContract={baseType:1,baseData:1},this.baseType=y,this.baseData=I}return o(g,"Data"),g}(),XOe=wE({Verbose:0,Information:1,Warning:2,Error:3,Critical:4});function d2(g){var y="ai."+g+".";return function(I){return y+I}}o(d2,"_aiNameFunc");var A9=d2("application"),Ga=d2("device"),VB=d2("location"),Ex=d2("operation"),cV=d2("session"),m2=d2("user"),x3=d2("cloud"),y9=d2("internal"),P0e=function(g){jy(y,g);function y(){return g.call(this)||this}return o(y,"ContextTagKeys"),y}(yH({applicationVersion:A9("ver"),applicationBuild:A9("build"),applicationTypeId:A9("typeId"),applicationId:A9("applicationId"),applicationLayer:A9("layer"),deviceId:Ga("id"),deviceIp:Ga("ip"),deviceLanguage:Ga("language"),deviceLocale:Ga("locale"),deviceModel:Ga("model"),deviceFriendlyName:Ga("friendlyName"),deviceNetwork:Ga("network"),deviceNetworkName:Ga("networkName"),deviceOEMName:Ga("oemName"),deviceOS:Ga("os"),deviceOSVersion:Ga("osVersion"),deviceRoleInstance:Ga("roleInstance"),deviceRoleName:Ga("roleName"),deviceScreenResolution:Ga("screenResolution"),deviceType:Ga("type"),deviceMachineName:Ga("machineName"),deviceVMName:Ga("vmName"),deviceBrowser:Ga("browser"),deviceBrowserVersion:Ga("browserVersion"),locationIp:VB("ip"),locationCountry:VB("country"),locationProvince:VB("province"),locationCity:VB("city"),operationId:Ex("id"),operationName:Ex("name"),operationParentId:Ex("parentId"),operationRootId:Ex("rootId"),operationSyntheticSource:Ex("syntheticSource"),operationCorrelationVector:Ex("correlationVector"),sessionId:cV("id"),sessionIsFirst:cV("isFirst"),sessionIsNew:cV("isNew"),userAccountAcquisitionDate:m2("accountAcquisitionDate"),userAccountId:m2("accountId"),userAgent:m2("userAgent"),userId:m2("id"),userStoreRegion:m2("storeRegion"),userAuthUserId:m2("authUserId"),userAnonymousUserAcquisitionDate:m2("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:m2("authUserAcquisitionDate"),cloudName:x3("name"),cloudRole:x3("role"),cloudRoleVer:x3("roleVer"),cloudRoleInstance:x3("roleInstance"),cloudEnvironment:x3("environment"),cloudLocation:x3("location"),cloudDeploymentUnit:x3("deploymentUnit"),internalNodeName:y9("nodeName"),internalSdkVersion:y9("sdkVersion"),internalAgentVersion:y9("agentVersion"),internalSnippet:y9("snippet"),internalSdkSrc:y9("sdkSrc")})),tl=new P0e;function N0e(g,y){uOe(g,null,null,y)}o(N0e,"_disableEvents");function ZOe(g){var y=oA(),I=ih(),_=!1,D=[],F=1;I&&!J(I.onLine)&&!I.onLine&&(F=2);var U=0,oe=Xe(),fe=o0e(Gd("OfflineListener"),g);try{if(Se(Dd())&&(_=!0),y){var Ee=y.body||y;Ee.ononline&&Se(Ee)&&(_=!0)}}catch{_=!1}function Se(fr){var wr=!1;return fr&&(wr=s0e(fr,"online",ht,fe),wr&&s0e(fr,"offline",st,fe)),wr}o(Se,"_enableEvents");function qe(){return oe}o(qe,"_isOnline");function Xe(){return!(U===2||F===2)}o(Xe,"calCurrentState");function We(){var fr=Xe();oe!==fr&&(oe=fr,Hr(D,function(wr){var Pn={isOnline:oe,rState:F,uState:U};try{wr(Pn)}catch{}}))}o(We,"listnerNoticeCheck");function ze(fr){U=fr,We()}o(ze,"setOnlineState");function ht(){F=1,We()}o(ht,"_setOnline");function st(){F=2,We()}o(st,"_setOffline");function It(){var fr=Dd();if(fr&&_){if(N0e(fr,fe),y){var wr=y.body||y;O(wr.ononline)||N0e(wr,fe)}_=!1}}o(It,"_unload");function Vt(fr){return D.push(fr),{rm:o(function(){var wr=D.indexOf(fr);if(wr>-1)return D.splice(wr,1)},"rm")}}return o(Vt,"addListener"),{isOnline:qe,isListening:o(function(){return _},"isListening"),unload:It,addListener:Vt,setOnlineState:ze}}o(ZOe,"createOfflineListener");var eUe="AppInsightsChannelPlugin",v3="duration",Bl="tags",uV="deviceType",eu="data",Tg="name",C9="traceID",ii="length",E9="stringify",b3="measurements",Dh="dataType",I3="envelopeType",T3="toString",w3="enqueue",_3="count",wg="push",fV="emitLineDelimitedJson",xx="clear",jB="markAsSent",x9="clearSent",dV="bufferOverride",v9="BUFFER_KEY",h2="SENT_BUFFER_KEY",vx="concat",b9="MAX_BUFFER_SIZE",I9="triggerSend",e0="diagLog",mV="initialize",T9="_sender",w9="endpointUrl",_9="instrumentationKey",hV="customHeaders",F0e="maxBatchSizeInBytes",pV="onunloadDisableBeacon",gV="isBeaconApiDisabled",L0e="alwaysUseXhrOverride",Q0e="enableSessionStorageBuffer",Ph="_buffer",M0e="onunloadDisableFetch",O0e="disableSendBeaconSplit",$B="getSenderInst",S3="_onError",AV="_onPartialSuccess",zB="_onSuccess",yV="itemsReceived",CV="itemsAccepted",EV="baseType",YB="sampleRate",tUe="getHashCodeScore",xV="baseType",ls="baseData",rl="properties",U0e="true";function Ys(g,y,I){return xh(g,y,I,ie)}o(Ys,"_setValueIf");function rUe(g,y,I){var _=I[Bl]=I[Bl]||{},D=y.ext=y.ext||{},F=y[Bl]=y[Bl]||[],U=D.user;U&&(Ys(_,tl.userAuthUserId,U.authId),Ys(_,tl.userId,U.id||U.localId));var oe=D.app;oe&&Ys(_,tl.sessionId,oe.sesId);var fe=D.device;fe&&(Ys(_,tl.deviceId,fe.id||fe.localId),Ys(_,tl[uV],fe.deviceClass),Ys(_,tl.deviceIp,fe.ip),Ys(_,tl.deviceModel,fe.model),Ys(_,tl[uV],fe[uV]));var Ee=y.ext.web;if(Ee){Ys(_,tl.deviceLanguage,Ee.browserLang),Ys(_,tl.deviceBrowserVersion,Ee.browserVer),Ys(_,tl.deviceBrowser,Ee.browser);var Se=I[eu]=I[eu]||{},qe=Se[ls]=Se[ls]||{},Xe=qe[rl]=qe[rl]||{};Ys(Xe,"domain",Ee.domain),Ys(Xe,"isManual",Ee.isManual?U0e:null),Ys(Xe,"screenRes",Ee.screenRes),Ys(Xe,"userConsent",Ee.userConsent?U0e:null)}var We=D.os;We&&(Ys(_,tl.deviceOS,We[Tg]),Ys(_,tl.deviceOSVersion,We.osVer));var ze=D.trace;ze&&(Ys(_,tl.operationParentId,ze.parentID),Ys(_,tl.operationName,Zl(g,ze[Tg])),Ys(_,tl.operationId,ze[C9]));for(var ht={},st=F[ii]-1;st>=0;st--){var It=F[st];ee(It,function(fr,wr){ht[fr]=wr}),F.splice(st,1)}ee(F,function(fr,wr){ht[fr]=wr});var Vt=Fd(Fd({},_),ht);Vt[tl.internalSdkVersion]||(Vt[tl.internalSdkVersion]=Zl(g,"javascript:".concat(nUe.Version),64)),I[Bl]=Q6(Vt)}o(rUe,"_extractPartAExtensions");function p2(g,y,I){J(g)||ee(g,function(_,D){Je(D)?I[_]=D:ce(D)?y[_]=D:HA()&&(y[_]=w0()[E9](D))})}o(p2,"_extractPropsAndMeasurements");function B3(g,y){J(g)||ee(g,function(I,_){g[I]=_||y})}o(B3,"_convertPropsUndefinedToCustomDefinedValue");function k3(g,y,I,_){var D=new SOe(g,_,y);Ys(D,"sampleRate",I[a0e]),(I[ls]||{}).startTime&&(D.time=Xy(I[ls].startTime)),D.iKey=I.iKey;var F=I.iKey.replace(/-/g,"");return D[Tg]=D[Tg].replace("{0}",F),rUe(g,I,D),I[Bl]=I[Bl]||[],Q6(D)}o(k3,"_createEnvelope");function R3(g,y){J(y[ls])&&Dr(g,1,46,"telemetryItem.baseData cannot be null.")}o(R3,"EnvelopeCreatorInit");var nUe={Version:"3.3.6"};function iUe(g,y,I){R3(g,y);var _=y[ls][b3]||{},D=y[ls][rl]||{};p2(y[eu],D,_),J(I)||B3(D,I);var F=y[ls];if(J(F))return ix(g,"Invalid input for dependency data"),null;var U=F[rl]&&F[rl][l0e]?F[rl][l0e]:"GET",oe=new GB(g,F.id,F.target,F[Tg],F[v3],F.success,F.responseCode,U,F.type,F.correlationContext,D,_),fe=new E3(GB[Dh],oe);return k3(g,GB[I3],y,fe)}o(iUe,"DependencyEnvelopeCreator");function q0e(g,y,I){R3(g,y);var _={},D={};y[xV]!==yx[Dh]&&(_.baseTypeSource=y[xV]),y[xV]===yx[Dh]?(_=y[ls][rl]||{},D=y[ls][b3]||{}):y[ls]&&p2(y[ls],_,D),p2(y[eu],_,D),J(I)||B3(_,I);var F=y[ls][Tg],U=new yx(g,F,_,D),oe=new E3(yx[Dh],U);return k3(g,yx[I3],y,oe)}o(q0e,"EventEnvelopeCreator");function oUe(g,y,I){R3(g,y);var _=y[ls][b3]||{},D=y[ls][rl]||{};p2(y[eu],D,_),J(I)||B3(D,I);var F=y[ls],U=UB.CreateFromInterface(g,F,D,_),oe=new E3(UB[Dh],U);return k3(g,UB[I3],y,oe)}o(oUe,"ExceptionEnvelopeCreator");function sUe(g,y,I){R3(g,y);var _=y[ls],D=_[rl]||{},F=_[b3]||{};p2(y[eu],D,F),J(I)||B3(D,I);var U=new p9(g,_[Tg],_.average,_.sampleCount,_.min,_.max,_.stdDev,D,F),oe=new E3(p9[Dh],U);return k3(g,p9[I3],y,oe)}o(sUe,"MetricEnvelopeCreator");function aUe(g,y,I){R3(g,y);var _,D=y[ls];!J(D)&&!J(D[rl])&&!J(D[rl][v3])?(_=D[rl][v3],delete D[rl][v3]):!J(y[eu])&&!J(y[eu][v3])&&(_=y[eu][v3],delete y[eu][v3]);var F=y[ls],U;((y.ext||{}).trace||{})[C9]&&(U=y.ext.trace[C9]);var oe=F.id||U,fe=F[Tg],Ee=F.uri,Se=F[rl]||{},qe=F[b3]||{};if(J(F.refUri)||(Se.refUri=F.refUri),J(F.pageType)||(Se.pageType=F.pageType),J(F.isLoggedIn)||(Se.isLoggedIn=F.isLoggedIn[T3]()),!J(F[rl])){var Xe=F[rl];ee(Xe,function(ht,st){Se[ht]=st})}p2(y[eu],Se,qe),J(I)||B3(Se,I);var We=new qB(g,fe,Ee,_,Se,qe,oe),ze=new E3(qB[Dh],We);return k3(g,qB[I3],y,ze)}o(aUe,"PageViewEnvelopeCreator");function lUe(g,y,I){R3(g,y);var _=y[ls],D=_[Tg],F=_.uri||_.url,U=_[rl]||{},oe=_[b3]||{};p2(y[eu],U,oe),J(I)||B3(U,I);var fe=new HB(g,D,F,void 0,U,oe,_),Ee=new E3(HB[Dh],fe);return k3(g,HB[I3],y,Ee)}o(lUe,"PageViewPerformanceEnvelopeCreator");function cUe(g,y,I){R3(g,y);var _=y[ls].message,D=y[ls].severityLevel,F=y[ls][rl]||{},U=y[ls][b3]||{};p2(y[eu],F,U),J(I)||B3(F,I);var oe=new WB(g,_,D,F,U),fe=new E3(WB[Dh],oe);return k3(g,WB[I3],y,fe)}o(cUe,"TraceEnvelopeCreator");var G0e=function(){function g(y,I){var _=[],D=!1,F=I.maxRetryCnt;this._get=function(){return _},this._set=function(U){return _=U,_},_l(g,this,function(U){U[w3]=function(oe){if(U[_3]()>=I.eventsLimitInMem){D||(Dr(y,2,105,"Maximum in-memory buffer size reached: "+U[_3](),!0),D=!0);return}oe.cnt=oe.cnt||0,!(!J(F)&&oe.cnt>F)&&_[wg](oe)},U[_3]=function(){return _[ii]},U.size=function(){for(var oe=_[ii],fe=0;fe<_[ii];fe++)oe+=_[fe].item[ii];return I[fV]||(oe+=2),oe},U[xx]=function(){_=[],D=!1},U.getItems=function(){return _.slice(0)},U.batchPayloads=function(oe){if(oe&&oe[ii]>0){var fe=[];Hr(oe,function(Se){fe[wg](Se.item)});var Ee=I[fV]?fe.join(`
`):"["+fe.join(",")+"]";return Ee}return null},U.createNew=function(oe,fe,Ee){var Se=_.slice(0);oe=oe||y,fe=fe||{};var qe=Ee?new W0e(oe,fe):new vV(oe,fe);return Hr(Se,function(Xe){qe[w3](Xe)}),qe}})}return o(g,"BaseSendBuffer"),g.__ieDyn=1,g}(),vV=function(g){jy(y,g);function y(I,_){var D=g.call(this,I,_)||this;return _l(y,D,function(F,U){F[jB]=function(oe){U[xx]()},F[x9]=function(oe){}}),D}return o(y,"ArraySendBuffer"),y.__ieDyn=1,y}(G0e),uUe=["AI_buffer","AI_sentBuffer"],W0e=function(g){jy(y,g);function y(_,D){var F=g.call(this,_,D)||this,U=!1,oe=D?.namePrefix,fe=D[dV]||{getItem:bOe,setItem:IOe},Ee=fe.getItem,Se=fe.setItem,qe=D.maxRetryCnt;return _l(y,F,function(Xe,We){var ze=wr(y[v9]),ht=wr(y[h2]),st=di(),It=ht[vx](st),Vt=Xe._set(ze[vx](It));Vt[ii]>y[b9]&&(Vt[ii]=y[b9]),fi(y[h2],[]),fi(y[v9],Vt),Xe[w3]=function(sn){if(Xe[_3]()>=y[b9]){U||(Dr(_,2,67,"Maximum buffer size reached: "+Xe[_3](),!0),U=!0);return}sn.cnt=sn.cnt||0,!(!J(qe)&&sn.cnt>qe)&&(We[w3](sn),fi(y[v9],Xe._get()))},Xe[xx]=function(){We[xx](),fi(y[v9],Xe._get()),fi(y[h2],[]),U=!1},Xe[jB]=function(sn){fi(y[v9],Xe._set(fr(sn,Xe._get())));var Ur=wr(y[h2]);Ur instanceof Array&&sn instanceof Array&&(Ur=Ur[vx](sn),Ur[ii]>y[b9]&&(Dr(_,1,67,"Sent buffer reached its maximum size: "+Ur[ii],!0),Ur[ii]=y[b9]),fi(y[h2],Ur))},Xe[x9]=function(sn){var Ur=wr(y[h2]);Ur=fr(sn,Ur),fi(y[h2],Ur)},Xe.createNew=function(sn,Ur,mi){mi=!!mi;var cs=Xe._get().slice(0),Io=wr(y[h2]).slice(0);sn=sn||_,Ur=Ur||{},Xe[xx]();var zt=mi?new y(sn,Ur):new vV(sn,Ur);return Hr(cs,function(qr){zt[w3](qr)}),mi&&zt[jB](Io),zt};function fr(sn,Ur){var mi=[],cs=[];return Hr(sn,function(Io){cs[wg](Io.item)}),Hr(Ur,function(Io){!Re(Io)&&b0(cs,Io.item)===-1&&mi[wg](Io)}),mi}o(fr,"_removePayloadsFromBuffer");function wr(sn){var Ur=sn;return Ur=oe?oe+"_"+Ur:Ur,Pn(Ur)}o(wr,"_getBuffer");function Pn(sn){try{var Ur=Ee(_,sn);if(Ur){var mi=w0().parse(Ur);if(ce(mi)&&(mi=w0().parse(mi)),mi&&Ue(mi))return mi}}catch(cs){Dr(_,1,42," storage key: "+sn+", "+Ua(cs),{exception:At(cs)})}return[]}o(Pn,"_getBufferBase");function fi(sn,Ur){var mi=sn;try{mi=oe?oe+"_"+mi:mi;var cs=JSON[E9](Ur);Se(_,mi,cs)}catch(Io){Se(_,mi,JSON[E9]([])),Dr(_,2,41," storage key: "+mi+", "+Ua(Io)+". Buffer cleared",{exception:At(Io)})}}o(fi,"_setBuffer");function di(){var sn=[];try{return Hr(uUe,function(Ur){var mi=to(Ur);if(sn=sn[vx](mi),oe){var cs=oe+"_"+Ur,Io=to(cs);sn=sn[vx](Io)}}),sn}catch(Ur){Dr(_,2,41,"Transfer events from previous buffers: "+Ua(Ur)+". previous Buffer items can not be removed",{exception:At(Ur)})}return[]}o(di,"_getPreviousEvents");function to(sn){try{var Ur=Pn(sn),mi=[];return Hr(Ur,function(cs){var Io={item:cs,cnt:0};mi[wg](Io)}),TOe(_,sn),mi}catch{}return[]}o(to,"_getItemsFromPreviousKey")}),F}o(y,"SessionStorageSendBuffer");var I;return I=y,y.VERSION="_1",y.BUFFER_KEY="AI_buffer"+I.VERSION,y.SENT_BUFFER_KEY="AI_sentBuffer"+I.VERSION,y.MAX_BUFFER_SIZE=2e3,y}(G0e),fUe=function(){function g(y){_l(g,this,function(I){I.serialize=function(U){var oe=_(U,"root");try{return w0()[E9](oe)}catch(fe){Dr(y,1,48,fe&&Re(fe[T3])?fe[T3]():"Error serializing object",null,!0)}};function _(U,oe){var fe="__aiCircularRefCheck",Ee={};if(!U)return Dr(y,1,48,"cannot serialize object because it is null or undefined",{name:oe},!0),Ee;if(U[fe])return Dr(y,2,50,"Circular reference detected while serializing object",{name:oe},!0),Ee;if(!U.aiDataContract){if(oe==="measurements")Ee=F(U,"number",oe);else if(oe==="properties")Ee=F(U,"string",oe);else if(oe==="tags")Ee=F(U,"string",oe);else if(Ue(U))Ee=D(U,oe);else{Dr(y,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:oe},!0);try{w0()[E9](U),Ee=U}catch(Se){Dr(y,1,48,Se&&Re(Se[T3])?Se[T3]():"Error serializing object",null,!0)}}return Ee}return U[fe]=!0,ee(U.aiDataContract,function(Se,qe){var Xe=Re(qe)?qe()&1:qe&1,We=Re(qe)?qe()&4:qe&4,ze=qe&2,ht=U[Se]!==void 0,st=be(U[Se])&&U[Se]!==null;if(Xe&&!ht&&!ze)Dr(y,1,24,"Missing required field specification. The field is required but not present on source",{field:Se,name:oe});else if(!We){var It=void 0;st?ze?It=D(U[Se],Se):It=_(U[Se],Se):It=U[Se],It!==void 0&&(Ee[Se]=It)}}),delete U[fe],Ee}o(_,"_serializeObject");function D(U,oe){var fe;if(U)if(!Ue(U))Dr(y,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:oe},!0);else{fe=[];for(var Ee=0;Ee<U[ii];Ee++){var Se=U[Ee],qe=_(Se,oe+"["+Ee+"]");fe[wg](qe)}}return fe}o(D,"_serializeArray");function F(U,oe,fe){var Ee;return U&&(Ee={},ee(U,function(Se,qe){if(oe==="string")qe===void 0?Ee[Se]="undefined":qe===null?Ee[Se]="null":qe[T3]?Ee[Se]=qe[T3]():Ee[Se]="invalid field: toString() is not defined.";else if(oe==="number")if(qe===void 0)Ee[Se]="undefined";else if(qe===null)Ee[Se]="null";else{var Xe=parseFloat(qe);Ee[Se]=Xe}else Ee[Se]="invalid field: "+fe+" is of unknown type.",Dr(y,1,Ee[Se],null,!0)})),Ee}o(F,"_serializeStringMap")})}return o(g,"Serializer"),g.__ieDyn=1,g}(),dUe=8,mUe=function(){function g(){}return o(g,"HashCodeScoreGenerator"),g.prototype.getHashCodeScore=function(y){var I=this.getHashCode(y)/g.INT_MAX_VALUE;return I*100},g.prototype.getHashCode=function(y){if(y==="")return 0;for(;y[ii]<dUe;)y=y[vx](y);for(var I=5381,_=0;_<y[ii];++_)I=(I<<5)+I+y.charCodeAt(_),I=I&I;return Math.abs(I)},g.INT_MAX_VALUE=2147483647,g}(),hUe=function(){function g(){var y=this,I=new mUe,_=new P0e;y.getSamplingScore=function(D){var F=0;return D[Bl]&&D[Bl][_.userId]?F=I.getHashCodeScore(D[Bl][_.userId]):D.ext&&D.ext.user&&D.ext.user.id?F=I[tUe](D.ext.user.id):D[Bl]&&D[Bl][_.operationId]?F=I.getHashCodeScore(D[Bl][_.operationId]):D.ext&&D.ext.telemetryTrace&&D.ext.telemetryTrace[C9]?F=I.getHashCodeScore(D.ext.telemetryTrace[C9]):F=Math.random()*100,F}}return o(g,"SamplingScoreGenerator"),g}(),pUe=function(){function g(y,I){this.INT_MAX_VALUE=2147483647;var _=I||c3(null);(y>100||y<0)&&(_.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:y},!0),y=100),this[YB]=y,this.samplingScoreGenerator=new hUe}return o(g,"Sample"),g.prototype.isSampledIn=function(y){var I=this[YB],_=!1;return I==null||I>=100||y.baseType===p9[Dh]?!0:(_=this.samplingScoreGenerator.getSamplingScore(y)<I,_)},g}(),Go,_g,Nh=void 0,H0e="",gUe=65e3;function V0e(g){try{return g.responseText}catch{}return null}o(V0e,"_getResponseText");function AUe(g){return g&&g.sendPOST}o(AUe,"isOverrideFn");var j0e=_t((Go={endpointUrl:J6(ie,KH+hx)},Go[fV]=hf(),Go.maxBatchInterval=15e3,Go[F0e]=102400,Go.disableTelemetry=hf(),Go[Q0e]=hf(!0),Go.isRetryDisabled=hf(),Go[gV]=hf(!0),Go[O0e]=hf(!0),Go.disableXhr=hf(),Go[M0e]=hf(),Go[pV]=hf(),Go[_9]=Nh,Go.namePrefix=Nh,Go.samplingPercentage=J6(yUe,100),Go[hV]=Nh,Go.convertUndefined=Nh,Go.eventsLimitInMem=1e4,Go[dV]=!1,Go.httpXHROverride={isVal:AUe,v:Nh},Go[L0e]=hf(),Go.transports=Nh,Go.retryCodes=Nh,Go.maxRetryCnt={isVal:Je,v:10},Go));function yUe(g){return!isNaN(g)&&g>0&&g<=100}o(yUe,"_chkSampling");var CUe=(_g={},_g[yx.dataType]=q0e,_g[WB.dataType]=cUe,_g[qB.dataType]=aUe,_g[HB.dataType]=lUe,_g[UB.dataType]=oUe,_g[p9.dataType]=sUe,_g[GB.dataType]=iUe,_g),$0e=function(g){jy(y,g);function y(){var I=g.call(this)||this;I.priority=1001,I.identifier=eUe;var _,D,F,U,oe,fe,Ee,Se=0,qe,Xe,We,ze,ht,st,It,Vt,fr,wr,Pn,fi,di,to,sn,Ur,mi,cs,Io,zt,qr,Vi,Dt,yn,ws,ro,nl;return _l(y,I,function(dt,ga){Y0e(),dt.pause=function(){C2(),F=!0},dt.resume=function(){F&&(F=!1,D=null,ho(),wx())},dt.flush=function(je,vt,pr){if(je===void 0&&(je=!0),!F){C2();try{return dt[I9](je,null,pr||1)}catch(Lr){Dr(dt[e0](),1,22,"flush failed, telemetry will not be collected: "+Ua(Lr),{exception:At(Lr)})}}},dt.onunloadFlush=function(){if(!F)if(It||zt)try{return dt[I9](!0,fc,2)}catch(je){Dr(dt[e0](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+Ua(je),{exception:At(je)})}else dt.flush(!1)},dt.addHeader=function(je,vt){Ee[je]=vt},dt[mV]=function(je,vt,pr,Lr){dt.isInitialized()&&Dr(dt[e0](),1,28,"Sender is already initialized"),ga[mV](je,vt,pr,Lr);var bn=dt.identifier;oe=new fUe(vt.logger),_=0,D=null,dt[T9]=null,fe=0;var ln=dt[e0]();We=o0e(Gd("Sender"),vt.evtNamespace&&vt.evtNamespace()),Xe=ZOe(We),dt._addHook(Wd(je,function(Ni){var Ks=Ni.cfg;Ks.storagePrefix&&vOe(Ks.storagePrefix);var tu=a2(null,Ks,vt),Yn=tu.getExtCfg(bn,j0e),K0e=Yn[w9];if(ze&&K0e===ze){var TV=Ks[w9];TV&&TV!==K0e&&(Yn[w9]=TV)}ot(Yn[_9])&&(Yn[_9]=Ks[_9]),Oe(dt,"_senderConfig",{g:o(function(){return Yn},"g")}),ht!==Yn[w9]&&(ze=ht=Yn[w9]),vt.activeStatus()===hh.PENDING?dt.pause():vt.activeStatus()===hh.ACTIVE&&dt.resume(),wr&&wr!==Yn[hV]&&Hr(wr,function(Rl){delete Ee[Rl.header]}),st=Yn[F0e],It=(Yn[pV]===!1||Yn[gV]===!1)&&bh(),Vt=Yn[pV]===!1&&bh(),fr=Yn[gV]===!1&&bh(),zt=Yn[L0e],qr=!!Yn.disableXhr,nl=Yn.retryCodes;var wV=Yn[dV],_x=!!Yn[Q0e]&&(!!wV||C0e()),J0e=Yn.namePrefix,bUe=_x!==Ur||_x&&cs!==J0e||_x&&mi!==wV;if(dt[Ph]){if(bUe)try{dt[Ph]=dt[Ph].createNew(ln,Yn,_x)}catch(Rl){Dr(dt[e0](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+Ua(Rl),{exception:At(Rl)})}ho()}else dt[Ph]=_x?new W0e(ln,Yn):new vV(ln,Yn);cs=J0e,Ur=_x,mi=wV,Vi=!Yn[M0e]&&i3(!0),ws=!!Yn[O0e],dt._sample=new pUe(Yn.samplingPercentage,ln),fi=Yn[_9],!ot(fi)&&!z0e(fi,Ks)&&Dr(ln,1,100,"Invalid Instrumentation key "+fi),wr=Yn[hV],ce(ze)&&!g0e(ze)&&wr&&wr[ii]>0?Hr(wr,function(Rl){I.addHeader(Rl.header,Rl.value)}):wr=null,Io=Yn.enableSendPromise;var X0e=il();ro?ro.SetConfig(X0e):(ro=new pa,ro[mV](X0e,ln));var ZB=Yn.httpXHROverride,ek=null,R9=null,IUe=zS([3,1,2],Yn.transports);ek=ro&&ro[$B](IUe,!1);var _V=ro&&ro.getFallbackInst();Dt=o(function(Rl,D3){return Mr(_V,Rl,D3)},"_xhrSend"),yn=o(function(Rl,D3){return Mr(_V,Rl,D3,!1)},"_fallbackSend"),ek=zt?ZB:ek||ZB||_V,dt[T9]=function(Rl,D3){return Mr(ek,Rl,D3)},Vi&&(qe=Tx);var SV=zS([3,1],Yn.unloadTransports);Vi||(SV=SV.filter(function(Rl){return Rl!==2})),R9=ro&&ro[$B](SV,!0),R9=zt?ZB:R9||ZB,(zt||Yn.unloadTransports||!qe)&&R9&&(qe=o(function(Rl,D3){return Mr(R9,Rl,D3)},"_syncUnloadSender")),qe||(qe=Dt),Pn=Yn.disableTelemetry,di=Yn.convertUndefined||Nh,to=Yn.isRetryDisabled,sn=Yn.maxBatchInterval}))},dt.processTelemetry=function(je,vt){vt=dt._getTelCtx(vt);var pr=vt[e0]();try{var Lr=jd(je,pr);if(!Lr)return;var bn=y2(je,pr);if(!bn)return;var ln=oe.serialize(bn),Ni=dt[Ph];ho(ln);var Ks={item:ln,cnt:0};Ni[w3](Ks),wx()}catch(tu){Dr(pr,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+Ua(tu),{exception:At(tu)})}dt.processNext(je,vt)},dt.isCompletelyIdle=function(){return!F&&Se===0&&dt._buffer[_3]()===0},dt.getOfflineListener=function(){return Xe},dt._xhrReadyStateChange=function(je,vt,pr){if(!zd(vt))return yf(je,vt,pr)},dt[I9]=function(je,vt,pr){je===void 0&&(je=!0);var Lr;if(!F)try{var bn=dt[Ph];if(Pn)bn[xx]();else if(bn[_3]()>0){var ln=bn.getItems();XB(pr||0,je),vt?Lr=vt.call(dt,ln,je):Lr=dt[T9](ln,je)}C2()}catch(Ks){var Ni=VA();(!Ni||Ni>9)&&Dr(dt[e0](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+Ua(Ks),{exception:At(Ks)})}return Lr},dt.getOfflineSupport=function(){return{getUrl:o(function(){return ze},"getUrl"),createPayload:gt,serialize:us,batch:kl,shouldProcess:o(function(je){return!!jd(je)},"shouldProcess")}},dt._doTeardown=function(je,vt){dt.onunloadFlush(),ZA(Xe,!1),Y0e()},dt[S3]=function(je,vt,pr){if(!zd(je))return S0(je,vt)},dt[AV]=function(je,vt){if(!zd(je))return g2(je,vt)},dt[zB]=function(je,vt){if(!zd(je))return Vd(je)},dt._xdrOnLoad=function(je,vt){if(!zd(vt))return _s(je,vt)};function _s(je,vt){var pr=V0e(je);if(je&&(pr+""=="200"||pr===""))_=0,dt[zB](vt,0);else{var Lr=Qr(pr);Lr&&Lr[yV]&&Lr[yV]>Lr[CV]&&!to?dt[AV](vt,Lr):dt[S3](vt,$S(je))}}o(_s,"_xdrOnLoad");function il(){try{var je={xdrOnComplete:o(function(pr,Lr,bn){var ln=A2(bn);if(ln)return _s(pr,ln)},"xdrOnComplete"),fetchOnComplete:o(function(pr,Lr,bn,ln){var Ni=A2(ln);if(Ni)return Wo(pr.status,Ni,pr.url,Ni[ii],pr.statusText,bn||"")},"fetchOnComplete"),xhrOnComplete:o(function(pr,Lr,bn){var ln=A2(bn);if(ln)return yf(pr,ln,ln[ii])},"xhrOnComplete"),beaconOnRetry:o(function(pr,Lr,bn){return $d(pr,Lr,bn)},"beaconOnRetry")},vt={enableSendPromise:Io,isOneDs:!1,disableCredentials:!1,disableXhr:qr,disableBeacon:!fr,disableBeaconSync:!Vt,senderOnCompleteCallBack:je};return vt}catch{}return null}o(il,"_getSendPostMgrConfig");function yf(je,vt,pr){je.readyState===4&&Wo(je.status,vt,je.responseURL,pr,$E(je),V0e(je)||je.response)}o(yf,"_xhrReadyStateChange");function S0(je,vt,pr){Dr(dt[e0](),2,26,"Failed to send telemetry.",{message:vt}),dt._buffer&&dt._buffer[x9](je)}o(S0,"_onError");function g2(je,vt){for(var pr=[],Lr=[],bn=vt.errors.reverse(),ln=0,Ni=bn;ln<Ni.length;ln++){var Ks=Ni[ln],tu=je.splice(Ks.index,1)[0];E2(Ks.statusCode)?Lr[wg](tu):pr[wg](tu)}je[ii]>0&&dt[zB](je,vt[CV]),pr[ii]>0&&dt[S3](pr,$E(null,["partial success",vt[CV],"of",vt.itemsReceived].join(" "))),Lr[ii]>0&&(k9(Lr),Dr(dt[e0](),2,40,"Partial success. Delivered: "+je[ii]+", Failed: "+pr[ii]+". Will retry to send "+Lr[ii]+" our of "+vt[yV]+" items"))}o(g2,"_onPartialSuccess");function Vd(je,vt){dt._buffer&&dt._buffer[x9](je)}o(Vd,"_onSuccess");function A2(je){try{if(je){var vt=je,pr=vt.oriPayload;return pr&&pr[ii]?pr:null}}catch{}return null}o(A2,"_getPayloadArr");function jd(je,vt){if(Pn)return!1;if(!je)return vt&&Dr(vt,1,7,"Cannot send empty telemetry"),!1;if(je.baseData&&!je[EV])return vt&&Dr(vt,1,70,"Cannot send telemetry without baseData and baseType"),!1;if(je[EV]||(je[EV]="EventData"),!dt[T9])return vt&&Dr(vt,1,28,"Sender was not initialized"),!1;if(Ir(je))je[a0e]=dt._sample[YB];else return vt&&Dr(vt,2,33,"Telemetry item was sampled out and not sent",{SampleRate:dt._sample[YB]}),!1;return!0}o(jd,"_validate");function y2(je,vt){var pr=je.iKey||fi,Lr=y.constructEnvelope(je,pr,vt,di);if(!Lr){Dr(vt,1,47,"Unable to create an AppInsights envelope");return}var bn=!1;if(je[Bl]&&je[Bl][YH]&&(Hr(je[Bl][YH],function(ln){try{ln&&ln(Lr)===!1&&(bn=!0,ix(vt,"Telemetry processor check returns false"))}catch(Ni){Dr(vt,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+Ua(Ni),{exception:At(Ni)},!0)}}),delete je[Bl][YH]),!bn)return Lr}o(y2,"_getEnvelope");function us(je){var vt=H0e,pr=dt[e0]();try{var Lr=jd(je,pr),bn=null;Lr&&(bn=y2(je,pr)),bn&&(vt=oe.serialize(bn))}catch{}return vt}o(us,"_serialize");function kl(je){var vt=H0e;return je&&je[ii]&&(vt="["+je.join(",")+"]"),vt}o(kl,"_batch");function gt(je){var vt=co();return{urlString:ze,data:je,headers:vt}}o(gt,"_createPayload");function Ir(je){return dt._sample.isSampledIn(je)}o(Ir,"_isSampledIn");function xn(je,vt,pr,Lr){vt===200&&je?dt._onSuccess(je,je[ii]):Lr&&dt[S3](je,Lr)}o(xn,"_getOnComplete");function Mr(je,vt,pr,Lr){Lr===void 0&&(Lr=!0);var bn=o(function(Ks,tu,Yn){return xn(vt,Ks,tu,Yn)},"onComplete"),ln=vn(vt),Ni=je&&je.sendPOST;return Ni&&ln?(Lr&&dt._buffer[jB](vt),Ni(ln,bn,!pr)):null}o(Mr,"_doSend");function vn(je){if(Ue(je)&&je[ii]>0){var vt=dt[Ph].batchPayloads(je),pr=co(),Lr={data:vt,urlString:ze,headers:pr,disableXhrSync:qr,disableFetchKeepAlive:!Vi,oriPayload:je};return Lr}return null}o(vn,"_getPayload");function co(){try{var je=Ee||{};return g0e(ze)&&(je[c0e[6]]=c0e[7]),je}catch{}return null}o(co,"_getHeaders");function ho(je){var vt=je?je[ii]:0;return dt[Ph].size()+vt>st?((!Xe||Xe.isOnline())&&dt[I9](!0,null,10),!0):!1}o(ho,"_checkMaxSize");function Wo(je,vt,pr,Lr,bn,ln){var Ni=null;if(dt._appId||(Ni=Qr(ln),Ni&&Ni.appId&&(dt._appId=Ni.appId)),(je<200||je>=300)&&je!==0){if((je===301||je===307||je===308)&&!t0(pr)){dt[S3](vt,bn);return}if(Xe&&!Xe.isOnline()){if(!to){var Ks=10;k9(vt,Ks),Dr(dt[e0](),2,40,". Offline - Response Code: ".concat(je,". Offline status: ").concat(!Xe.isOnline(),". Will retry to send ").concat(vt.length," items."))}return}!to&&E2(je)?(k9(vt),Dr(dt[e0](),2,40,". Response code "+je+". Will retry to send "+vt[ii]+" items.")):dt[S3](vt,bn)}else t0(pr),je===206?(Ni||(Ni=Qr(ln)),Ni&&!to?dt[AV](vt,Ni):dt[S3](vt,bn)):(_=0,dt[zB](vt,Lr))}o(Wo,"_checkResponsStatus");function t0(je){return fe>=10?!1:!J(je)&&je!==""&&je!==ze?(ze=je,++fe,!0):!1}o(t0,"_checkAndUpdateEndPointUrl");function fc(je,vt){if(qe)qe(je,!1);else{var pr=ro&&ro[$B]([3],!0);return Mr(pr,je,vt)}}o(fc,"_doUnloadSend");function $d(je,vt,pr){var Lr=je,bn=Lr&&Lr.oriPayload;if(ws)yn&&yn(bn,!0),Dr(dt[e0](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var ln=[],Ni=0;Ni<bn[ii];Ni++){var Ks=bn[Ni],tu=[Ks],Yn=vn(tu);pr(Yn,vt)?dt._onSuccess(tu,tu[ii]):ln[wg](Ks)}ln[ii]>0&&(yn&&yn(ln,!0),Dr(dt[e0](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}o($d,"_onBeaconRetry");function zd(je){try{if(je&&je[ii])return ce(je[0])}catch{}return null}o(zd,"_isStringArr");function Tx(je,vt){var pr=null;if(Ue(je)){for(var Lr=je[ii],bn=0;bn<je[ii];bn++)Lr+=je[bn].item[ii];var ln=ro.getSyncFetchPayload();ln+Lr<=gUe?pr=2:bh()?pr=3:(pr=1,Dr(dt[e0](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."));var Ni=ro&&ro[$B]([pr],!0);return Mr(Ni,je,vt)}return null}o(Tx,"_fetchKeepAliveSender");function k9(je,vt){if(vt===void 0&&(vt=1),!(!je||je[ii]===0)){var pr=dt[Ph];pr[x9](je),_++;for(var Lr=0,bn=je;Lr<bn.length;Lr++){var ln=bn[Lr];ln.cnt=ln.cnt||0,ln.cnt++,pr[w3](ln)}IV(vt),wx()}}o(k9,"_resendPayload");function IV(je){var vt=10,pr;if(_<=1)pr=vt;else{var Lr=(Math.pow(2,_)-1)/2,bn=ig(Math.random()*Lr*vt)+1;bn=je*bn,pr=ve(ur(bn,3600),vt)}var ln=lh()+pr*1e3;D=ln}o(IV,"_setRetryTime");function wx(){if(!U&&!F){var je=D?ve(0,D-lh()):0,vt=ve(sn,je);U=fh(function(){U=null,dt[I9](!0,null,1)},vt)}}o(wx,"_setupTimer");function C2(){U&&U.cancel(),U=null,D=null}o(C2,"_clearScheduledTimer");function E2(je){return J(nl)?je===401||je===408||je===429||je===500||je===502||je===503||je===504:nl[ii]&&nl.indexOf(je)>-1}o(E2,"_isRetriable");function JB(){var je="getNotifyMgr";return dt.core[je]?dt.core[je]():dt.core._notificationManager}o(JB,"_getNotifyMgr");function XB(je,vt){var pr=JB();if(pr&&pr.eventsSendRequest)try{pr.eventsSendRequest(je,vt)}catch(Lr){Dr(dt[e0](),1,74,"send request notification failed: "+Ua(Lr),{exception:At(Lr)})}}o(XB,"_notifySendRequest");function z0e(je,vt){var pr=vt.disableInstrumentationKeyValidation,Lr=J(pr)?!1:pr;if(Lr)return!0;var bn="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",ln=new RegExp(bn);return ln.test(je)}o(z0e,"_validateInstrumentationKey");function Y0e(){dt[T9]=null,dt[Ph]=null,dt._appId=null,dt._sample=null,Ee={},Xe=null,_=0,D=null,F=!1,U=null,oe=null,fe=0,Se=0,qe=null,We=null,ze=null,ht=null,st=0,It=!1,wr=null,Pn=!1,fi=null,di=Nh,to=!1,Ur=null,cs=Nh,qr=!1,Vi=!1,ws=!1,Dt=null,yn=null,ro=null,Oe(dt,"_senderConfig",{g:o(function(){return jS({},j0e)},"g")})}o(Y0e,"_initDefaults")}),I}return o(y,"Sender"),y.constructEnvelope=function(I,_,D,F){var U;_!==I.iKey&&!J(_)?U=Fd(Fd({},I),{iKey:_}):U=I;var oe=CUe[U.baseType]||q0e;return oe(D,U,F)},y}(Et),bx="instrumentationKey",KB="connectionString",S9="endpointUrl",B9="userOverrideEndpointUrl",Ix,bV=void 0,EUe=(Ix={diagnosticLogInterval:J6(xUe,1e4)},Ix[KB]=bV,Ix.endpointUrl=bV,Ix[bx]=bV,Ix.extensionConfig={},Ix);function xUe(g){return g&&g>0}o(xUe,"_chkDiagLevel");var vUe=function(){function g(y){var I=new Nt,_;(J(y)||J(y[bx])&&J(y[KB]))&&Ht("Invalid input configuration"),_l(g,this,function(F){Oe(F,"config",{g:o(function(){return _},"g")}),U(),F.initialize=U,F.track=D,L6(F,I,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange","getTraceCtx","updateCfg","addTelemetryInitializer"]);function U(){var oe=uc(y||{},EUe);_=oe.cfg,I.addUnloadHook(Wd(oe,function(){var fe=_[KB];if(ot(fe)){var Ee=ME(function(We,ze){oc(fe,function(ht){var st=ht.value,It=_[bx];if(!ht.rejected&&st){_[KB]=st;var Vt=iV(st);It=Vt.instrumentationkey||It}We(It)})}),Se=ME(function(We,ze){oc(fe,function(ht){var st=ht.value,It=_[S9];if(!ht.rejected&&st){var Vt=iV(st),fr=Vt.ingestionendpoint;It=fr?fr+hx:It}We(It)})});_[bx]=Ee,_[S9]=_[B9]||Se}if(ce(fe)){var qe=iV(fe),Xe=qe.ingestionendpoint;_[S9]=_[B9]?_[B9]:Xe+hx,_[bx]=qe.instrumentationkey||_[bx]}_[S9]=_[B9]?_[B9]:_[S9]})),I.initialize(_,[new $0e])}o(U,"_initialize")});function D(F){F&&(F.baseData=F.baseData||{},F.baseType=F.baseType||"EventData"),I.track(F)}o(D,"_track")}return o(g,"ApplicationInsights"),g.__ieDyn=1,g}();e.AppInsightsCore=Nt,e.ApplicationInsights=vUe,e.Sender=$0e,e.SeverityLevel=XOe,e.arrForEach=Hr,e.isNullOrUndefined=J,e.proxyFunctions=L6,e.throwError=Ht})});var WY=V((b0r,r5e)=>{"use strict";d();r5e.exports=o(function(t,r){r===!0&&(r=0);var n="";if(typeof t=="string")try{n=new URL(t).protocol}catch{}else t&&t.constructor===URL&&(n=t.protocol);var i=n.split(/\:|\+/).filter(Boolean);return typeof r=="number"?i[r]:i},"protocols")});var i5e=V((w0r,n5e)=>{"use strict";d();var Wtt=WY();function Htt(e){var t={protocols:[],protocol:null,port:null,resource:"",host:"",user:"",password:"",pathname:"",hash:"",search:"",href:e,query:{},parse_failed:!1};try{var r=new URL(e);t.protocols=Wtt(r),t.protocol=t.protocols[0],t.port=r.port,t.resource=r.hostname,t.host=r.host,t.user=r.username||"",t.password=r.password||"",t.pathname=r.pathname,t.hash=r.hash.slice(1),t.search=r.search.slice(1),t.href=r.href,t.query=Object.fromEntries(r.searchParams)}catch{t.protocols=["file"],t.protocol=t.protocols[0],t.port="",t.resource="",t.user="",t.pathname="",t.hash="",t.search="",t.href=e,t.query={},t.parse_failed=!0}return t}o(Htt,"parsePath");n5e.exports=Htt});var u5e=V((B0r,c5e)=>{"use strict";d();var Vtt=i5e();function jtt(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}o(jtt,"_interopDefaultLegacy");var $tt=jtt(Vtt);function ztt(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=o(function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(t,i);return new s}return t.apply(this,arguments)},"a");r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:o(function(){return e[n]},"get")})}),r}o(ztt,"getAugmentedNamespace");var s5e={},Ytt="text/plain",Ktt="us-ascii",o5e=o((e,t)=>t.some(r=>r instanceof RegExp?r.test(e):r===e),"testParameter"),Jtt=o((e,{stripHash:t})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!r)throw new Error(`Invalid URL: ${e}`);let{type:n,data:i,hash:s}=r.groups,a=n.split(";");s=t?"":s;let l=!1;a[a.length-1]==="base64"&&(a.pop(),l=!0);let c=(a.shift()||"").toLowerCase(),f=[...a.map(m=>{let[h,p=""]=m.split("=").map(A=>A.trim());return h==="charset"&&(p=p.toLowerCase(),p===Ktt)?"":`${h}${p?`=${p}`:""}`}).filter(Boolean)];return l&&f.push("base64"),(f.length>0||c&&c!==Ytt)&&f.unshift(c),`data:${f.join(";")},${l?i.trim():i}${s?`#${s}`:""}`},"normalizeDataURL");function Xtt(e,t){if(t={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...t},e=e.trim(),/^data:/i.test(e))return Jtt(e,t);if(/^view-source:/i.test(e))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=e.startsWith("//");!r&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let i=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&i.protocol==="https:"&&(i.protocol="http:"),t.forceHttps&&i.protocol==="http:"&&(i.protocol="https:"),t.stripAuthentication&&(i.username="",i.password=""),t.stripHash?i.hash="":t.stripTextFragment&&(i.hash=i.hash.replace(/#?:~:text.*?$/i,"")),i.pathname){let a=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,l=0,c="";for(;;){let f=a.exec(i.pathname);if(!f)break;let m=f[0],h=f.index,p=i.pathname.slice(l,h);c+=p.replace(/\/{2,}/g,"/"),c+=m,l=h+m.length}let u=i.pathname.slice(l,i.pathname.length);c+=u.replace(/\/{2,}/g,"/"),i.pathname=c}if(i.pathname)try{i.pathname=decodeURI(i.pathname)}catch{}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let a=i.pathname.split("/"),l=a[a.length-1];o5e(l,t.removeDirectoryIndex)&&(a=a.slice(0,-1),i.pathname=a.slice(1).join("/")+"/")}if(i.hostname&&(i.hostname=i.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(i.hostname)&&(i.hostname=i.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let a of[...i.searchParams.keys()])o5e(a,t.removeQueryParameters)&&i.searchParams.delete(a);if(t.removeQueryParameters===!0&&(i.search=""),t.sortQueryParameters){i.searchParams.sort();try{i.search=decodeURIComponent(i.search)}catch{}}t.removeTrailingSlash&&(i.pathname=i.pathname.replace(/\/$/,""));let s=e;return e=i.toString(),!t.removeSingleSlash&&i.pathname==="/"&&!s.endsWith("/")&&i.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||i.pathname==="/")&&i.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),r&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}o(Xtt,"normalizeUrl");var Ztt=Object.freeze({__proto__:null,default:Xtt}),ert=ztt(Ztt);Object.defineProperty(s5e,"__esModule",{value:!0});var trt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rrt=ert,nrt=a5e(rrt),irt=$tt.default,ort=a5e(irt);function a5e(e){return e&&e.__esModule?e:{default:e}}o(a5e,"_interopRequireDefault");var l5e=o(function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=/^(?:([a-zA-Z_][a-zA-Z0-9_-]{0,31})@|https?:\/\/)([\w\.\-@]+)[\/:](([\~,\.\w,\-,\_,\/,\s]|%[0-9A-Fa-f]{2})+?(?:\.git|\/)?)$/,i=o(function(c){var u=new Error(c);throw u.subject_url=t,u},"throwErr");(typeof t!="string"||!t.trim())&&i("Invalid url."),t.length>e.MAX_INPUT_LENGTH&&i("Input exceeds maximum length. If needed, change the value of parseUrl.MAX_INPUT_LENGTH."),r&&((typeof r>"u"?"undefined":trt(r))!=="object"&&(r={stripHash:!1}),t=(0,nrt.default)(t,r));var s=(0,ort.default)(t);if(s.parse_failed){var a=s.href.match(n);a?(s.protocols=["ssh"],s.protocol="ssh",s.resource=a[2],s.host=a[2],s.user=a[1],s.pathname="/"+a[3],s.parse_failed=!1):i("URL parsing failed.")}return s},"parseUrl");l5e.MAX_INPUT_LENGTH=2048;var srt=s5e.default=l5e;c5e.exports=srt});var m5e=V((D0r,d5e)=>{"use strict";d();var art=WY();function f5e(e){if(Array.isArray(e))return e.indexOf("ssh")!==-1||e.indexOf("rsync")!==-1;if(typeof e!="string")return!1;var t=art(e);if(e=e.substring(e.indexOf("://")+3),f5e(t))return!0;var r=new RegExp(".([a-zA-Z\\d]+):(\\d+)/");return!e.match(r)&&e.indexOf("@")<e.indexOf(":")}o(f5e,"isSsh");d5e.exports=f5e});var g5e=V((F0r,p5e)=>{"use strict";d();var lrt=u5e(),h5e=m5e();function crt(e){var t=lrt(e);return t.token="",t.password==="x-oauth-basic"?t.token=t.user:t.user==="x-token-auth"&&(t.token=t.password),h5e(t.protocols)||t.protocols.length===0&&h5e(e)?t.protocol="ssh":t.protocols.length?t.protocol=t.protocols[0]:(t.protocol="file",t.protocols=["file"]),t.href=t.href.replace(/\/$/,""),t}o(crt,"gitUp");p5e.exports=crt});var y5e=V((M0r,A5e)=>{"use strict";d();var urt=g5e();function HY(e,t){if(t=t||[],typeof e!="string")throw new Error("The url must be a string.");if(!t.every(function(v){return typeof v=="string"}))throw new Error("The refs should contain only strings");var r=/^([a-z\d-]{1,39})\/([-\.\w]{1,100})$/i;r.test(e)&&(e="https://github.com/"+e);var n=urt(e),i=n.resource.split("."),s=null;switch(n.toString=function(v){return HY.stringify(this,v)},n.source=i.length>2?i.slice(1-i.length).join("."):n.source=n.resource,n.git_suffix=/\.git$/.test(n.pathname),n.name=decodeURIComponent((n.pathname||n.href).replace(/(^\/)|(\/$)/g,"").replace(/\.git$/,"")),n.owner=decodeURIComponent(n.user),n.source){case"git.cloudforge.com":n.owner=n.user,n.organization=i[0],n.source="cloudforge.com";break;case"visualstudio.com":if(n.resource==="vs-ssh.visualstudio.com"){s=n.name.split("/"),s.length===4&&(n.organization=s[1],n.owner=s[2],n.name=s[3],n.full_name=s[2]+"/"+s[3]);break}else{s=n.name.split("/"),s.length===2?(n.owner=s[1],n.name=s[1],n.full_name="_git/"+n.name):s.length===3?(n.name=s[2],s[0]==="DefaultCollection"?(n.owner=s[2],n.organization=s[0],n.full_name=n.organization+"/_git/"+n.name):(n.owner=s[0],n.full_name=n.owner+"/_git/"+n.name)):s.length===4&&(n.organization=s[0],n.owner=s[1],n.name=s[3],n.full_name=n.organization+"/"+n.owner+"/_git/"+n.name);break}case"dev.azure.com":case"azure.com":if(n.resource==="ssh.dev.azure.com"){s=n.name.split("/"),s.length===4&&(n.organization=s[1],n.owner=s[2],n.name=s[3]);break}else{s=n.name.split("/"),s.length===5?(n.organization=s[0],n.owner=s[1],n.name=s[4],n.full_name="_git/"+n.name):s.length===3?(n.name=s[2],s[0]==="DefaultCollection"?(n.owner=s[2],n.organization=s[0],n.full_name=n.organization+"/_git/"+n.name):(n.owner=s[0],n.full_name=n.owner+"/_git/"+n.name)):s.length===4&&(n.organization=s[0],n.owner=s[1],n.name=s[3],n.full_name=n.organization+"/"+n.owner+"/_git/"+n.name),n.query&&n.query.path&&(n.filepath=n.query.path.replace(/^\/+/g,"")),n.query&&n.query.version&&(n.ref=n.query.version.replace(/^GB/,""));break}default:s=n.name.split("/");var a=s.length-1;if(s.length>=2){var l=s.indexOf("-",2),c=s.indexOf("blob",2),u=s.indexOf("tree",2),f=s.indexOf("commit",2),m=s.indexOf("issues",2),h=s.indexOf("src",2),p=s.indexOf("raw",2),A=s.indexOf("edit",2);a=l>0?l-1:c>0&&u>0?Math.min(c-1,u-1):c>0?c-1:m>0?m-1:u>0?u-1:f>0?f-1:h>0?h-1:p>0?p-1:A>0?A-1:a,n.owner=s.slice(0,a).join("/"),n.name=s[a],f&&m<0&&(n.commit=s[a+2])}n.ref="",n.filepathtype="",n.filepath="";var E=s.length>a&&s[a+1]==="-"?a+1:a;s.length>E+2&&["raw","src","blob","tree","edit"].indexOf(s[E+1])>=0&&(n.filepathtype=s[E+1],n.ref=s[E+2],s.length>E+3&&(n.filepath=s.slice(E+3).join("/"))),n.organization=n.owner;break}n.full_name||(n.full_name=n.owner,n.name&&(n.full_name&&(n.full_name+="/"),n.full_name+=n.name)),n.owner.startsWith("scm/")&&(n.source="bitbucket-server",n.owner=n.owner.replace("scm/",""),n.organization=n.owner,n.full_name=n.owner+"/"+n.name);var x=/(projects|users)\/(.*?)\/repos\/(.*?)((\/.*$)|$)/,b=x.exec(n.pathname);return b!=null&&(n.source="bitbucket-server",b[1]==="users"?n.owner="~"+b[2]:n.owner=b[2],n.organization=n.owner,n.name=b[3],s=b[4].split("/"),s.length>1&&(["raw","browse"].indexOf(s[1])>=0?(n.filepathtype=s[1],s.length>2&&(n.filepath=s.slice(2).join("/"))):s[1]==="commits"&&s.length>2&&(n.commit=s[2])),n.full_name=n.owner+"/"+n.name,n.query.at?n.ref=n.query.at:n.ref=""),t.length!==0&&n.ref&&(n.ref=mrt(n.href,t)||n.ref,n.filepath=n.href.split(n.ref+"/")[1]),n}o(HY,"gitUrlParse");HY.stringify=function(e,t){t=t||(e.protocols&&e.protocols.length?e.protocols.join("+"):e.protocol);var r=e.port?":"+e.port:"",n=e.user||"git",i=e.git_suffix?".git":"";switch(t){case"ssh":return r?"ssh://"+n+"@"+e.resource+r+"/"+e.full_name+i:n+"@"+e.resource+":"+e.full_name+i;case"git+ssh":case"ssh+git":case"ftp":case"ftps":return t+"://"+n+"@"+e.resource+r+"/"+e.full_name+i;case"http":case"https":var s=e.token?frt(e):e.user&&(e.protocols.includes("http")||e.protocols.includes("https"))?e.user+"@":"";return t+"://"+s+e.resource+r+"/"+drt(e)+i;default:return e.href}};function frt(e){switch(e.source){case"bitbucket.org":return"x-token-auth:"+e.token+"@";default:return e.token+"@"}}o(frt,"buildToken");function drt(e){switch(e.source){case"bitbucket-server":return"scm/"+e.full_name;default:var t=e.full_name.split("/").map(function(r){return encodeURIComponent(r)}).join("/");return t}}o(drt,"buildPath");function mrt(e,t){var r="";return t.forEach(function(n){e.includes(n)&&n.length>r.length&&(r=n)}),r}o(mrt,"findLongestMatchingSubstring");A5e.exports=HY});var k5e=V(Xh=>{"use strict";d();Object.defineProperty(Xh,"__esModule",{value:!0});Xh.bytePairEncode=Xh.BinaryMap=Xh.binaryMapKey=void 0;var krt=o((e,t,r)=>{let n=r-t,i=16777215>>>Math.max(0,(3-n)*8),s=(e[t+0]|e[t+1]<<8|e[t+2]<<16)&i,a=16777215>>>Math.min(31,Math.max(0,(6-n)*8)),l=(e[t+3]|e[t+4]<<8|e[t+5]<<16)&a;return s+16777216*l},"binaryMapKey");Xh.binaryMapKey=krt;var ZY=class e{static{o(this,"BinaryMap")}constructor(){this.nested=new Map,this.final=new Map}get(t,r=0,n=t.length){let i=n<6+r,s=(0,Xh.binaryMapKey)(t,r,n);return i?this.final.get(s):this.nested.get(s)?.get(t,6+r,n)}set(t,r){let n=(0,Xh.binaryMapKey)(t,0,t.length);if(t.length<6){this.final.set(n,r);return}let s=this.nested.get(n);if(s instanceof e)s.set(t.subarray(6),r);else{let a=new e;a.set(t.subarray(6),r),this.nested.set(n,a)}}};Xh.BinaryMap=ZY;var Jh=new Int32Array(128),P0=new Int32Array(128);function Rrt(e,t,r){if(r===1)return[t.get(e)];let n=2147483647,i=-1;for(;Jh.length<r*2;)P0=new Int32Array(P0.length*2),Jh=new Int32Array(Jh.length*2);for(let c=0;c<r-1;c++){let u=t.get(e,c,c+2)??2147483647;u<n&&(n=u,i=c),P0[c]=c,Jh[c]=u}P0[r-1]=r-1,Jh[r-1]=2147483647,P0[r]=r,Jh[r]=2147483647;let s=r+1;function a(c,u=0){if(c+u+2<s){let f=t.get(e,P0[c],P0[c+u+2]);if(f!==void 0)return f}return 2147483647}for(o(a,"getRank");n!==2147483647;){Jh[P0[i]]=a(i,1),i>0&&(Jh[P0[i-1]]=a(i-1,1));for(let c=i+1;c<s-1;c++)P0[c]=P0[c+1];s--,i=-1,n=2147483647;for(let c=0;c<s-1;c++){let u=Jh[P0[c]];Jh[P0[c]]<n&&(n=u,i=c)}}let l=[];for(let c=0;c<s-1;c++)l.push(t.get(e,P0[c],P0[c+1]));return l}o(Rrt,"bytePairEncode");Xh.bytePairEncode=Rrt});var R5e=V(PP=>{"use strict";d();Object.defineProperty(PP,"__esModule",{value:!0});PP.makeTextEncoder=void 0;var eK=class{static{o(this,"UniversalTextEncoder")}constructor(){this.length=0,this.encoder=new TextEncoder}encode(t){let r=this.encoder.encode(t);return this.length=r.length,r}},tK=class{static{o(this,"NodeTextEncoder")}constructor(){this.buffer=Buffer.alloc(256),this.length=0}encode(t){for(;;){if(this.length=this.buffer.write(t,"utf8"),this.length<this.buffer.length-4)return this.buffer;this.buffer=Buffer.alloc(this.length*2),this.length=this.buffer.write(t)}}},Drt=o(()=>typeof Buffer<"u"?new tK:new eK,"makeTextEncoder");PP.makeTextEncoder=Drt});var D5e=V(NP=>{"use strict";d();Object.defineProperty(NP,"__esModule",{value:!0});NP.LRUCache=void 0;var rK=class{static{o(this,"LRUCache")}constructor(t){this.size=t,this.nodes=new Map}get(t){let r=this.nodes.get(t);if(r)return this.moveToHead(r),r.value}set(t,r){let n=this.nodes.get(t);if(n)n.value=r,this.moveToHead(n);else{let i=new nK(t,r);this.nodes.set(t,i),this.addNode(i),this.nodes.size>this.size&&(this.nodes.delete(this.tail.key),this.removeNode(this.tail))}}moveToHead(t){this.removeNode(t),t.next=void 0,t.prev=void 0,this.addNode(t)}addNode(t){this.head&&(this.head.prev=t,t.next=this.head),this.tail||(this.tail=t),this.head=t}removeNode(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev}};NP.LRUCache=rK;var nK=class{static{o(this,"Node")}constructor(t,r){this.key=t,this.value=r}}});var oK=V(LP=>{"use strict";d();Object.defineProperty(LP,"__esModule",{value:!0});LP.TikTokenizer=void 0;var Prt=require("fs"),Nrt=require("util"),FP=k5e(),Frt=R5e(),Lrt=D5e();function Qrt(e){let t=new Map;try{let n=Prt.readFileSync(e,"utf-8");return r(n),t}catch(n){throw new Error(`Failed to load from BPE encoder file stream: ${n}`)}function r(n){for(let i of n.split(/[\r\n]+/)){if(i.trim()==="")continue;let s=i.split(" ");if(s.length!==2)throw new Error("Invalid format in the BPE encoder file stream");let a=new Uint8Array(Buffer.from(s[0],"base64")),l=parseInt(s[1]);if(!isNaN(l))t.set(a,l);else throw new Error(`Can't parse ${s[1]} to integer`)}}o(r,"processBpeRanks")}o(Qrt,"loadTikTokenBpe");function Mrt(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(Mrt,"escapeRegExp");var iK=class{static{o(this,"TikTokenizer")}constructor(t,r,n,i=8192){this.textEncoder=(0,Frt.makeTextEncoder)(),this.textDecoder=new Nrt.TextDecoder("utf-8"),this.cache=new Lrt.LRUCache(i);let s=typeof t=="string"?Qrt(t):t;this.init(s,r,n)}init(t,r,n){this.encoder=new FP.BinaryMap;for(let[i,s]of t)this.encoder.set(i,s);this.regex=new RegExp(n,"gu"),this.specialTokensRegex=new RegExp(Array.from(r.keys()).map(i=>Mrt(i)).join("|")),this.specialTokensEncoder=r,this.decoder=new Map;for(let[i,s]of t)this.decoder.set(s,i);if(t.size!==this.decoder.size)throw new Error("Encoder and decoder sizes do not match");this.specialTokensDecoder=new Map;for(let[i,s]of r)this.specialTokensDecoder.set(s,i)}findNextSpecialToken(t,r,n){let i=r,s=null;if(n&&this.specialTokensRegex)for(;s=t.slice(i).match(this.specialTokensRegex),!(!s||n&&n.includes(s[0]));)i+=s.index+1;let a=s?i+s.index:t.length;return[s,a]}encode(t,r){let n=[],i=0;for(;;){let s,a;if([s,a]=this.findNextSpecialToken(t,i,r),a>i&&this.encodeByIndex(t,n,i,a),s){if(i=i+this.encodeSpecialToken(n,s),i>=t.length)break}else break}return n}encodeSpecialToken(t,r){let n=this.specialTokensEncoder?.get(r[0]);return t.push(n),r.index+r[0].length}encodeByIndex(t,r,n,i){let s,a=t.substring(n,i);for(this.regex.lastIndex=0;s=this.regex.exec(a);){let l=this.cache.get(s[0]);if(l)for(let c of l)r.push(c);else{let c=this.textEncoder.encode(s[0]),u=this.encoder.get(c,0,this.textEncoder.length);if(u!==void 0)r.push(u),this.cache.set(s[0],[u]);else{let f=(0,FP.bytePairEncode)(c,this.encoder,this.textEncoder.length);for(let m of f)r.push(m);this.cache.set(s[0],f)}}}}encodeTrimSuffixByIndex(t,r,n,i,s,a,l){let c,u=t.substring(n,i);for(this.regex.lastIndex=0;c=this.regex.exec(u);){let f=c[0],m=this.cache.get(f);if(m)if(a+m.length<=s)a+=m.length,l+=f.length,r.push(...m);else{let h=s-a;a+=h,l+=f.length,r.push(...m.slice(0,h));break}else{let h=this.textEncoder.encode(f),p=this.encoder.get(h,0,h.length);if(p!==void 0)if(this.cache.set(f,[p]),a+1<=s)a++,l+=f.length,r.push(p);else break;else{let A=(0,FP.bytePairEncode)(h,this.encoder,this.textEncoder.length);if(this.cache.set(f,A),a+A.length<=s){a+=A.length,l+=f.length;for(let E of A)r.push(E)}else{let E=s-a;a+=E,l+=f.length;for(let x=0;x<E;x++)r.push(A[x]);break}}}if(a>=s)break}return{tokenCount:a,encodeLength:l}}encodeTrimSuffix(t,r,n){let i=[],s=0,a=0,l=0;for(;;){let u,f;if([u,f]=this.findNextSpecialToken(t,s,n),f>s){let{tokenCount:m,encodeLength:h}=this.encodeTrimSuffixByIndex(t,i,s,f,r,a,l);if(a=m,l=h,a>=r)break}if(u!==null){if(a++,a<=r&&(s=s+this.encodeSpecialToken(i,u),l+=u[0].length,s>=t.length)||a>=r)break}else break}let c=l===t.length?t:t.slice(0,l);return{tokenIds:i,text:c}}encodeTrimPrefix(t,r,n){let i=[],s=0,a=0,l=0,c=new Map;for(c.set(a,l);;){let h,p;if([h,p]=this.findNextSpecialToken(t,s,n),p>s){let A,E=t.substring(s,p);for(this.regex.lastIndex=0;A=this.regex.exec(E);){let x=A[0],b=this.cache.get(x);if(b)a+=b.length,l+=x.length,i.push(...b),c.set(a,l);else{let v=this.textEncoder.encode(x),S=this.encoder.get(v);if(S!==void 0)this.cache.set(x,[S]),a++,l+=x.length,i.push(S),c.set(a,l);else{let k=(0,FP.bytePairEncode)(v,this.encoder,this.textEncoder.length);this.cache.set(x,k),a+=k.length,l+=x.length;for(let P of k)i.push(P);c.set(a,l)}}}}if(h!==null){if(s=s+this.encodeSpecialToken(i,h),a++,l+=h[0].length,c.set(a,l),s>=t.length)break}else break}if(a<=r)return{tokenIds:i,text:t};let u=a-r,f=0,m=0;for(let[h,p]of c)if(h>=u){f=h,m=p;break}if(f>r){let h=this.encode(t,n),p=h.slice(h.length-r);return{tokenIds:p,text:this.decode(p)}}return{tokenIds:i.slice(f),text:t.slice(m)}}decode(t){let r=[];for(let n of t){let i=[],s=this.decoder?.get(n);if(s!==void 0)i=Array.from(s);else{let a=this.specialTokensDecoder?.get(n);if(a!==void 0){let l=this.textEncoder.encode(a);i=Array.from(l.subarray(0,this.textEncoder.length))}}r.push(...i)}return this.textDecoder.decode(new Uint8Array(r))}};LP.TikTokenizer=iK});var G5e=V(ba=>{"use strict";d();Object.defineProperty(ba,"__esModule",{value:!0});ba.createTokenizer=ba.createByEncoderName=ba.createByModelName=ba.getRegexByModel=ba.getRegexByEncoder=ba.getSpecialTokensByModel=ba.getSpecialTokensByEncoder=ba.MODEL_TO_ENCODING=void 0;var MP=require("fs"),sK=require("path"),Ort=oK(),Urt=new Map([["gpt-4o-","o200k_base"],["gpt-4-","cl100k_base"],["gpt-3.5-turbo-","cl100k_base"],["gpt-35-turbo-","cl100k_base"]]);ba.MODEL_TO_ENCODING=new Map([["gpt-4o","o200k_base"],["gpt-4","cl100k_base"],["gpt-3.5-turbo","cl100k_base"],["text-davinci-003","p50k_base"],["text-davinci-002","p50k_base"],["text-davinci-001","r50k_base"],["text-curie-001","r50k_base"],["text-babbage-001","r50k_base"],["text-ada-001","r50k_base"],["davinci","r50k_base"],["curie","r50k_base"],["babbage","r50k_base"],["ada","r50k_base"],["code-davinci-002","p50k_base"],["code-davinci-001","p50k_base"],["code-cushman-002","p50k_base"],["code-cushman-001","p50k_base"],["davinci-codex","p50k_base"],["cushman-codex","p50k_base"],["text-davinci-edit-001","p50k_edit"],["code-davinci-edit-001","p50k_edit"],["text-embedding-ada-002","cl100k_base"],["text-similarity-davinci-001","r50k_base"],["text-similarity-curie-001","r50k_base"],["text-similarity-babbage-001","r50k_base"],["text-similarity-ada-001","r50k_base"],["text-search-davinci-doc-001","r50k_base"],["text-search-curie-doc-001","r50k_base"],["text-search-babbage-doc-001","r50k_base"],["text-search-ada-doc-001","r50k_base"],["code-search-babbage-code-001","r50k_base"],["code-search-ada-code-001","r50k_base"],["gpt2","gpt2"]]);var QP="<|endoftext|>",P5e="<|fim_prefix|>",N5e="<|fim_middle|>",F5e="<|fim_suffix|>",L5e="<|endofprompt|>",O7="'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+",Q5e="(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+",qrt=[`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]*[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]+(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]+[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]*(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,"\\p{N}{1,3}"," ?[^\\s\\p{L}\\p{N}]+[\\r\\n/]*","\\s*[\\r\\n]+","\\s+(?!\\S)","\\s+"],M5e=qrt.join("|");function aK(e){let t="";if(ba.MODEL_TO_ENCODING.has(e))t=ba.MODEL_TO_ENCODING.get(e);else for(let[r,n]of Urt)if(e.startsWith(r)){t=n;break}return t}o(aK,"getEncoderFromModelName");async function Grt(e,t){let r=await fetch(e);if(!r.ok)throw new Error(`Failed to fetch file from ${e}. Status code: ${r.status}`);let n=await r.text();MP.writeFileSync(t,n)}o(Grt,"fetchAndSaveFile");function lK(e){let t=new Map([[QP,50256]]);switch(e){case"o200k_base":t=new Map([[QP,199999],[L5e,200018]]);break;case"cl100k_base":t=new Map([[QP,100257],[P5e,100258],[N5e,100259],[F5e,100260],[L5e,100276]]);break;case"p50k_edit":t=new Map([[QP,50256],[P5e,50281],[N5e,50282],[F5e,50283]]);break;default:break}return t}o(lK,"getSpecialTokensByEncoder");ba.getSpecialTokensByEncoder=lK;function Wrt(e){let t=aK(e);return lK(t)}o(Wrt,"getSpecialTokensByModel");ba.getSpecialTokensByModel=Wrt;function O5e(e){switch(e){case"o200k_base":return M5e;case"cl100k_base":return Q5e;default:break}return O7}o(O5e,"getRegexByEncoder");ba.getRegexByEncoder=O5e;function Hrt(e){let t=aK(e);return O5e(t)}o(Hrt,"getRegexByModel");ba.getRegexByModel=Hrt;async function Vrt(e,t=null){return U5e(aK(e),t)}o(Vrt,"createByModelName");ba.createByModelName=Vrt;async function U5e(e,t=null){let r,n,i=lK(e);switch(e){case"o200k_base":r=M5e,n="https://openaipublic.blob.core.windows.net/encodings/o200k_base.tiktoken";break;case"cl100k_base":r=Q5e,n="https://openaipublic.blob.core.windows.net/encodings/cl100k_base.tiktoken";break;case"p50k_base":r=O7,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"p50k_edit":r=O7,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"r50k_base":r=O7,n="https://openaipublic.blob.core.windows.net/encodings/r50k_base.tiktoken";break;case"gpt2":r=O7,n="https://raw.githubusercontent.com/microsoft/Tokenizer/main/model/gpt2.tiktoken";break;default:throw new Error(`Doesn't support this encoder [${e}]`)}t!==null&&(i=new Map([...i,...t]));let s=sK.basename(n),a=sK.resolve(__dirname,"..","model");MP.existsSync(a)||MP.mkdirSync(a,{recursive:!0});let l=sK.resolve(a,s);return MP.existsSync(l)||(console.log(`Downloading file from ${n}`),await Grt(n,l),console.log(`Saved file to ${l}`)),q5e(l,i,r)}o(U5e,"createByEncoderName");ba.createByEncoderName=U5e;function q5e(e,t,r,n=8192){return new Ort.TikTokenizer(e,t,r,n)}o(q5e,"createTokenizer");ba.createTokenizer=q5e});var W5e=V(Ia=>{"use strict";d();Object.defineProperty(Ia,"__esModule",{value:!0});Ia.createTokenizer=Ia.createByEncoderName=Ia.createByModelName=Ia.getSpecialTokensByModel=Ia.getSpecialTokensByEncoder=Ia.getRegexByModel=Ia.getRegexByEncoder=Ia.MODEL_TO_ENCODING=Ia.TikTokenizer=void 0;var jrt=oK();Object.defineProperty(Ia,"TikTokenizer",{enumerable:!0,get:o(function(){return jrt.TikTokenizer},"get")});var t5=G5e();Object.defineProperty(Ia,"MODEL_TO_ENCODING",{enumerable:!0,get:o(function(){return t5.MODEL_TO_ENCODING},"get")});Object.defineProperty(Ia,"getRegexByEncoder",{enumerable:!0,get:o(function(){return t5.getRegexByEncoder},"get")});Object.defineProperty(Ia,"getRegexByModel",{enumerable:!0,get:o(function(){return t5.getRegexByModel},"get")});Object.defineProperty(Ia,"getSpecialTokensByEncoder",{enumerable:!0,get:o(function(){return t5.getSpecialTokensByEncoder},"get")});Object.defineProperty(Ia,"getSpecialTokensByModel",{enumerable:!0,get:o(function(){return t5.getSpecialTokensByModel},"get")});Object.defineProperty(Ia,"createByModelName",{enumerable:!0,get:o(function(){return t5.createByModelName},"get")});Object.defineProperty(Ia,"createByEncoderName",{enumerable:!0,get:o(function(){return t5.createByEncoderName},"get")});Object.defineProperty(Ia,"createTokenizer",{enumerable:!0,get:o(function(){return t5.createTokenizer},"get")})});var oye=V((exports,module)=>{d();var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;class Parser{static{o(this,"Parser")}constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=o((e,t)=>{throw t},"quit_"),ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(e){return Module.locateFile?Module.locateFile(e,scriptDirectory):scriptDirectory+e}o(locateFile,"locateFile");function logExceptionOnExit(e){e instanceof ExitStatus||err("exiting due to exception: "+e)}if(o(logExceptionOnExit,"logExceptionOnExit"),ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=require("path");scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=o((e,t)=>(e=isFileURI(e)?new URL(e):nodePath.normalize(e),fs.readFileSync(e,t?void 0:"utf8")),"read_"),readBinary=o(e=>{var t=read_(e,!0);return t.buffer||(t=new Uint8Array(t)),t},"readBinary"),readAsync=o((e,t,r)=>{e=isFileURI(e)?new URL(e):nodePath.normalize(e),fs.readFile(e,function(n,i){n?r(n):t(i.buffer)})},"readAsync"),process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=o((e,t)=>{if(keepRuntimeAlive())throw process.exitCode=e,t;logExceptionOnExit(t),process.exit(e)},"quit_"),Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=o(e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},"read_"),ENVIRONMENT_IS_WORKER&&(readBinary=o(e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)},"readBinary")),readAsync=o((e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{n.status==200||n.status==0&&n.response?t(n.response):r()},n.onerror=r,n.send(null)},"readAsync"),setWindowTitle=o(e=>document.title=e,"setWindowTitle"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(e,t,r){for(var n=t+r,i=t;e[i]&&!(i>=n);)++i;if(i-t>16&&e.buffer&&UTF8Decoder)return UTF8Decoder.decode(e.subarray(t,i));for(var s="";t<i;){var a=e[t++];if(128&a){var l=63&e[t++];if((224&a)!=192){var c=63&e[t++];if((a=(240&a)==224?(15&a)<<12|l<<6|c:(7&a)<<18|l<<12|c<<6|63&e[t++])<65536)s+=String.fromCharCode(a);else{var u=a-65536;s+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else s+=String.fromCharCode((31&a)<<6|l)}else s+=String.fromCharCode(a)}return s}o(UTF8ArrayToString,"UTF8ArrayToString");function UTF8ToString(e,t){return e?UTF8ArrayToString(HEAPU8,e,t):""}o(UTF8ToString,"UTF8ToString");function stringToUTF8Array(e,t,r,n){if(!(n>0))return 0;for(var i=r,s=r+n-1,a=0;a<e.length;++a){var l=e.charCodeAt(a);if(l>=55296&&l<=57343&&(l=65536+((1023&l)<<10)|1023&e.charCodeAt(++a)),l<=127){if(r>=s)break;t[r++]=l}else if(l<=2047){if(r+1>=s)break;t[r++]=192|l>>6,t[r++]=128|63&l}else if(l<=65535){if(r+2>=s)break;t[r++]=224|l>>12,t[r++]=128|l>>6&63,t[r++]=128|63&l}else{if(r+3>=s)break;t[r++]=240|l>>18,t[r++]=128|l>>12&63,t[r++]=128|l>>6&63,t[r++]=128|63&l}}return t[r]=0,r-i}o(stringToUTF8Array,"stringToUTF8Array");function stringToUTF8(e,t,r){return stringToUTF8Array(e,HEAPU8,t,r)}o(stringToUTF8,"stringToUTF8");function lengthBytesUTF8(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++r):t+=3}return t}o(lengthBytesUTF8,"lengthBytesUTF8");function updateGlobalBufferAndViews(e){buffer=e,Module.HEAP8=HEAP8=new Int8Array(e),Module.HEAP16=HEAP16=new Int16Array(e),Module.HEAP32=HEAP32=new Int32Array(e),Module.HEAPU8=HEAPU8=new Uint8Array(e),Module.HEAPU16=HEAPU16=new Uint16Array(e),Module.HEAPU32=HEAPU32=new Uint32Array(e),Module.HEAPF32=HEAPF32=new Float32Array(e),Module.HEAPF64=HEAPF64=new Float64Array(e)}o(updateGlobalBufferAndViews,"updateGlobalBufferAndViews");var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}o(keepRuntimeAlive,"keepRuntimeAlive");function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}o(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}o(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}o(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}o(postRun,"postRun");function addOnPreRun(e){__ATPRERUN__.unshift(e)}o(addOnPreRun,"addOnPreRun");function addOnInit(e){__ATINIT__.unshift(e)}o(addOnInit,"addOnInit");function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}o(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(e){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}o(addRunDependency,"addRunDependency");function removeRunDependency(e){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var t=dependenciesFulfilled;dependenciesFulfilled=null,t()}}o(removeRunDependency,"removeRunDependency");function abort(e){throw Module.onAbort&&Module.onAbort(e),err(e="Aborted("+e+")"),ABORT=!0,EXITSTATUS=1,e+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(e)}o(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(e){return e.startsWith(dataURIPrefix)}o(isDataURI,"isDataURI");function isFileURI(e){return e.startsWith("file://")}o(isFileURI,"isFileURI");function getBinary(e){try{if(e==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(e);throw"both async and sync fetching of the wasm failed"}catch(t){abort(t)}}o(getBinary,"getBinary");function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return e.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(e,t){readAsync(wasmBinaryFile,function(r){e(new Uint8Array(r))},t)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}o(getBinaryPromise,"getBinaryPromise");function createWasm(){var e={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function t(i,s){var a=i.exports;a=relocateExports(a,1024);var l=getDylinkMetadata(s);l.neededDynlibs&&(dynamicLibraries=l.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(a,"main"),Module.asm=a,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}o(t,"t");function r(i){t(i.instance,i.module)}o(r,"r");function n(i){return getBinaryPromise().then(function(s){return WebAssembly.instantiate(s,e)}).then(function(s){return s}).then(i,function(s){err("failed to asynchronously prepare wasm: "+s),abort(s)})}if(o(n,"_"),addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(e,t)}catch(i){return err("Module.instantiateWasm callback failed with error: "+i),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?n(r):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(i){return WebAssembly.instantiateStreaming(i,e).then(r,function(s){return err("wasm streaming compile failed: "+s),err("falling back to ArrayBuffer instantiation"),n(r)})}),{}}o(createWasm,"createWasm"),wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}o(ExitStatus,"ExitStatus");var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:o(function(e,t){var r=GOT[t];return r||(r=GOT[t]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(t)||(r.required=!0),r},"get")};function callRuntimeCallbacks(e){for(;e.length>0;)e.shift()(Module)}o(callRuntimeCallbacks,"callRuntimeCallbacks");function getDylinkMetadata(e){var t=0,r=0;function n(){for(var b=0,v=1;;){var S=e[t++];if(b+=(127&S)*v,v*=128,!(128&S))break}return b}o(n,"_");function i(){var b=n();return UTF8ArrayToString(e,(t+=b)-b,b)}o(i,"n");function s(b,v){if(b)throw new Error(v)}o(s,"s");var a="dylink.0";if(e instanceof WebAssembly.Module){var l=WebAssembly.Module.customSections(e,a);l.length===0&&(a="dylink",l=WebAssembly.Module.customSections(e,a)),s(l.length===0,"need dylink section"),r=(e=new Uint8Array(l[0])).length}else{s(new Uint32Array(new Uint8Array(e.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),s(e[8]!==0,"need the dylink section to be first"),t=9;var c=n();r=t+c,a=i()}var u={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(a=="dylink"){u.memorySize=n(),u.memoryAlign=n(),u.tableSize=n(),u.tableAlign=n();for(var f=n(),m=0;m<f;++m){var h=i();u.neededDynlibs.push(h)}}else for(s(a!=="dylink.0");t<r;){var p=e[t++],A=n();if(p===1)u.memorySize=n(),u.memoryAlign=n(),u.tableSize=n(),u.tableAlign=n();else if(p===2)for(f=n(),m=0;m<f;++m)h=i(),u.neededDynlibs.push(h);else if(p===3)for(var E=n();E--;){var x=i();256&n()&&u.tlsExports.add(x)}else if(p===4)for(E=n();E--;)i(),x=i(),(3&n())==1&&u.weakImports.add(x);else t+=A}return u}o(getDylinkMetadata,"getDylinkMetadata");function getValue(e,t="i8"){switch(t.endsWith("*")&&(t="*"),t){case"i1":case"i8":return HEAP8[e>>0];case"i16":return HEAP16[e>>1];case"i32":case"i64":return HEAP32[e>>2];case"float":return HEAPF32[e>>2];case"double":return HEAPF64[e>>3];case"*":return HEAPU32[e>>2];default:abort("invalid type for getValue: "+t)}return null}o(getValue,"getValue");function asmjsMangle(e){return e.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(e)?e:"_"+e}o(asmjsMangle,"asmjsMangle");function mergeLibSymbols(e,t){for(var r in e)if(e.hasOwnProperty(r)){asmLibraryArg.hasOwnProperty(r)||(asmLibraryArg[r]=e[r]);var n=asmjsMangle(r);Module.hasOwnProperty(n)||(Module[n]=e[r]),r=="__main_argc_argv"&&(Module._main=e[r])}}o(mergeLibSymbols,"mergeLibSymbols");var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(e,t,r){var n=Module["dynCall_"+e];return r&&r.length?n.apply(null,[t].concat(r)):n.call(null,t)}o(dynCallLegacy,"dynCallLegacy");var wasmTableMirror=[];function getWasmTableEntry(e){var t=wasmTableMirror[e];return t||(e>=wasmTableMirror.length&&(wasmTableMirror.length=e+1),wasmTableMirror[e]=t=wasmTable.get(e)),t}o(getWasmTableEntry,"getWasmTableEntry");function dynCall(e,t,r){return e.includes("j")?dynCallLegacy(e,t,r):getWasmTableEntry(t).apply(null,r)}o(dynCall,"dynCall");function createInvokeFunction(e){return function(){var t=stackSave();try{return dynCall(e,arguments[0],Array.prototype.slice.call(arguments,1))}catch(r){if(stackRestore(t),r!==r+0)throw r;_setThrew(1,0)}}}o(createInvokeFunction,"createInvokeFunction");var ___heap_base=78144;function zeroMemory(e,t){return HEAPU8.fill(0,e,e+t),e}o(zeroMemory,"zeroMemory");function getMemory(e){if(runtimeInitialized)return zeroMemory(_malloc(e),e);var t=___heap_base,r=t+e+15&-16;return ___heap_base=r,GOT.__heap_base.value=r,t}o(getMemory,"getMemory");function isInternalSym(e){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(e)}o(isInternalSym,"isInternalSym");function uleb128Encode(e,t){e<128?t.push(e):t.push(e%128|128,e>>7)}o(uleb128Encode,"uleb128Encode");function sigToWasmTypes(e){for(var t={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},r={parameters:[],results:e[0]=="v"?[]:[t[e[0]]]},n=1;n<e.length;++n)r.parameters.push(t[e[n]]),e[n]==="j"&&r.parameters.push("i32");return r}o(sigToWasmTypes,"sigToWasmTypes");function generateFuncType(e,t){var r=e.slice(0,1),n=e.slice(1),i={i:127,p:127,j:126,f:125,d:124};t.push(96),uleb128Encode(n.length,t);for(var s=0;s<n.length;++s)t.push(i[n[s]]);r=="v"?t.push(0):t.push(1,i[r])}o(generateFuncType,"generateFuncType");function convertJsFunctionToWasm(e,t){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(t),e);var r=[1];generateFuncType(t,r);var n=[0,97,115,109,1,0,0,0,1];uleb128Encode(r.length,n),n.push.apply(n,r),n.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var i=new WebAssembly.Module(new Uint8Array(n));return new WebAssembly.Instance(i,{e:{f:e}}).exports.f}o(convertJsFunctionToWasm,"convertJsFunctionToWasm");function updateTableMap(e,t){if(functionsInTableMap)for(var r=e;r<e+t;r++){var n=getWasmTableEntry(r);n&&functionsInTableMap.set(n,r)}}o(updateTableMap,"updateTableMap");var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(e){throw e instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":e}return wasmTable.length-1}o(getEmptyTableSlot,"getEmptyTableSlot");function setWasmTableEntry(e,t){wasmTable.set(e,t),wasmTableMirror[e]=wasmTable.get(e)}o(setWasmTableEntry,"setWasmTableEntry");function addFunction(e,t){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(e))return functionsInTableMap.get(e);var r=getEmptyTableSlot();try{setWasmTableEntry(r,e)}catch(n){if(!(n instanceof TypeError))throw n;setWasmTableEntry(r,convertJsFunctionToWasm(e,t))}return functionsInTableMap.set(e,r),r}o(addFunction,"addFunction");function updateGOT(e,t){for(var r in e)if(!isInternalSym(r)){var n=e[r];r.startsWith("orig$")&&(r=r.split("$")[1],t=!0),GOT[r]||(GOT[r]=new WebAssembly.Global({value:"i32",mutable:!0})),(t||GOT[r].value==0)&&(typeof n=="function"?GOT[r].value=addFunction(n):typeof n=="number"?GOT[r].value=n:err("unhandled export type for `"+r+"`: "+typeof n))}}o(updateGOT,"updateGOT");function relocateExports(e,t,r){var n={};for(var i in e){var s=e[i];typeof s=="object"&&(s=s.value),typeof s=="number"&&(s+=t),n[i]=s}return updateGOT(n,r),n}o(relocateExports,"relocateExports");function resolveGlobalSymbol(e,t){var r;return t&&(r=asmLibraryArg["orig$"+e]),r||(r=asmLibraryArg[e])&&r.stub&&(r=void 0),r||(r=Module[asmjsMangle(e)]),!r&&e.startsWith("invoke_")&&(r=createInvokeFunction(e.split("_")[1])),r}o(resolveGlobalSymbol,"resolveGlobalSymbol");function alignMemory(e,t){return Math.ceil(e/t)*t}o(alignMemory,"alignMemory");function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(e){var t=resolveGlobalSymbol(e,!1);return t||(t=moduleExports[e]),t}o(resolveSymbol,"resolveSymbol"),tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:o(function(e,t){switch(t){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(t in asmLibraryArg)return asmLibraryArg[t];var r;return t in e||(e[t]=function(){return r||(r=resolveSymbol(t)),r.apply(null,arguments)}),e[t]},"get")},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(o(addEmAsm,"addEmAsm"),updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(o(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(e){return postInstantiation(e.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return o(loadModule,"loadModule"),CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(e,t){return e.then(function(){return loadDynamicLibrary(t,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(e){loadDynamicLibrary(e,flags)}),loadModule())}o(loadWebAssemblyModule,"loadWebAssemblyModule");function loadDynamicLibrary(e,t,r){t=t||{global:!0,nodelete:!0};var n=LDSO.loadedLibsByName[e];if(n)return t.global&&!n.global&&(n.global=!0,n.module!=="loading"&&mergeLibSymbols(n.module,e)),t.nodelete&&n.refcount!==1/0&&(n.refcount=1/0),n.refcount++,r&&(LDSO.loadedLibsByHandle[r]=n),!t.loadAsync||Promise.resolve(!0);function i(l){if(t.fs&&t.fs.findObject(l)){var c=t.fs.readFile(l,{encoding:"binary"});return c instanceof Uint8Array||(c=new Uint8Array(c)),t.loadAsync?Promise.resolve(c):c}if(l=locateFile(l),t.loadAsync)return new Promise(function(u,f){readAsync(l,m=>u(new Uint8Array(m)),f)});if(!readBinary)throw new Error(l+": file not found, and synchronous loading of external files is not available");return readBinary(l)}o(i,"n");function s(){if(typeof preloadedWasm<"u"&&preloadedWasm[e]){var l=preloadedWasm[e];return t.loadAsync?Promise.resolve(l):l}return t.loadAsync?i(e).then(function(c){return loadWebAssemblyModule(c,t,r)}):loadWebAssemblyModule(i(e),t,r)}o(s,"s");function a(l){n.global&&mergeLibSymbols(l,e),n.module=l}return o(a,"a"),n={refcount:t.nodelete?1/0:1,name:e,module:"loading",global:t.global},LDSO.loadedLibsByName[e]=n,r&&(LDSO.loadedLibsByHandle[r]=n),t.loadAsync?s().then(function(l){return a(l),!0}):(a(s()),!0)}o(loadDynamicLibrary,"loadDynamicLibrary");function reportUndefinedSymbols(){for(var e in GOT)if(GOT[e].value==0){var t=resolveGlobalSymbol(e,!0);if(!t&&!GOT[e].required)continue;if(typeof t=="function")GOT[e].value=addFunction(t,t.sig);else{if(typeof t!="number")throw new Error("bad export type for `"+e+"`: "+typeof t);GOT[e].value=t}}}o(reportUndefinedSymbols,"reportUndefinedSymbols");function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce(function(e,t){return e.then(function(){return loadDynamicLibrary(t,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")})):reportUndefinedSymbols()}o(preloadDylibs,"preloadDylibs");function setValue(e,t,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":case"i8":HEAP8[e>>0]=t;break;case"i16":HEAP16[e>>1]=t;break;case"i32":HEAP32[e>>2]=t;break;case"i64":tempI64=[t>>>0,(tempDouble=t,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case"float":HEAPF32[e>>2]=t;break;case"double":HEAPF64[e>>3]=t;break;case"*":HEAPU32[e>>2]=t;break;default:abort("invalid type for setValue: "+r)}}o(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}o(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic");function _abort(){abort("")}o(_abort,"_abort");function _emscripten_date_now(){return Date.now()}o(_emscripten_date_now,"_emscripten_date_now");function _emscripten_memcpy_big(e,t,r){HEAPU8.copyWithin(e,t,t+r)}o(_emscripten_memcpy_big,"_emscripten_memcpy_big");function getHeapMax(){return 2147483648}o(getHeapMax,"getHeapMax");function emscripten_realloc_buffer(e){try{return wasmMemory.grow(e-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}o(emscripten_realloc_buffer,"emscripten_realloc_buffer");function _emscripten_resize_heap(e){var t=HEAPU8.length;e>>>=0;var r=getHeapMax();if(e>r)return!1;for(var n=1;n<=4;n*=2){var i=t*(1+.2/n);if(i=Math.min(i,e+100663296),emscripten_realloc_buffer(Math.min(r,(s=Math.max(e,i))+((a=65536)-s%a)%a)))return!0}var s,a;return!1}o(_emscripten_resize_heap,"_emscripten_resize_heap"),__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:o(function(e,t,r){if(PATH.isAbs(t))return t;var n;if(e===-100?n=FS.cwd():n=SYSCALLS.getStreamFromFD(e).path,t.length==0){if(!r)throw new FS.ErrnoError(44);return n}return PATH.join2(n,t)},"calculateAt"),doStat:o(function(e,t,r){try{var n=e(t)}catch(l){if(l&&l.node&&PATH.normalize(t)!==PATH.normalize(FS.getPath(l.node)))return-54;throw l}HEAP32[r>>2]=n.dev,HEAP32[r+8>>2]=n.ino,HEAP32[r+12>>2]=n.mode,HEAPU32[r+16>>2]=n.nlink,HEAP32[r+20>>2]=n.uid,HEAP32[r+24>>2]=n.gid,HEAP32[r+28>>2]=n.rdev,tempI64=[n.size>>>0,(tempDouble=n.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+40>>2]=tempI64[0],HEAP32[r+44>>2]=tempI64[1],HEAP32[r+48>>2]=4096,HEAP32[r+52>>2]=n.blocks;var i=n.atime.getTime(),s=n.mtime.getTime(),a=n.ctime.getTime();return tempI64=[Math.floor(i/1e3)>>>0,(tempDouble=Math.floor(i/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+56>>2]=tempI64[0],HEAP32[r+60>>2]=tempI64[1],HEAPU32[r+64>>2]=i%1e3*1e3,tempI64=[Math.floor(s/1e3)>>>0,(tempDouble=Math.floor(s/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+72>>2]=tempI64[0],HEAP32[r+76>>2]=tempI64[1],HEAPU32[r+80>>2]=s%1e3*1e3,tempI64=[Math.floor(a/1e3)>>>0,(tempDouble=Math.floor(a/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+88>>2]=tempI64[0],HEAP32[r+92>>2]=tempI64[1],HEAPU32[r+96>>2]=a%1e3*1e3,tempI64=[n.ino>>>0,(tempDouble=n.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+104>>2]=tempI64[0],HEAP32[r+108>>2]=tempI64[1],0},"doStat"),doMsync:o(function(e,t,r,n,i){if(!FS.isFile(t.node.mode))throw new FS.ErrnoError(43);if(2&n)return 0;var s=HEAPU8.slice(e,e+r);FS.msync(t,s,i,r,n)},"doMsync"),varargs:void 0,get:o(function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},"get"),getStr:o(function(e){return UTF8ToString(e)},"getStr"),getStreamFromFD:o(function(e){var t=FS.getStream(e);if(!t)throw new FS.ErrnoError(8);return t},"getStreamFromFD")};function _proc_exit(e){EXITSTATUS=e,keepRuntimeAlive()||(Module.onExit&&Module.onExit(e),ABORT=!0),quit_(e,new ExitStatus(e))}o(_proc_exit,"_proc_exit");function exitJS(e,t){EXITSTATUS=e,_proc_exit(e)}o(exitJS,"exitJS"),_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(e){try{var t=SYSCALLS.getStreamFromFD(e);return FS.close(t),0}catch(r){if(typeof FS>"u"||!(r instanceof FS.ErrnoError))throw r;return r.errno}}o(_fd_close,"_fd_close");function convertI32PairToI53Checked(e,t){return t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN}o(convertI32PairToI53Checked,"convertI32PairToI53Checked");function _fd_seek(e,t,r,n,i){try{var s=convertI32PairToI53Checked(t,r);if(isNaN(s))return 61;var a=SYSCALLS.getStreamFromFD(e);return FS.llseek(a,s,n),tempI64=[a.position>>>0,(tempDouble=a.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[i>>2]=tempI64[0],HEAP32[i+4>>2]=tempI64[1],a.getdents&&s===0&&n===0&&(a.getdents=null),0}catch(l){if(typeof FS>"u"||!(l instanceof FS.ErrnoError))throw l;return l.errno}}o(_fd_seek,"_fd_seek");function doWritev(e,t,r,n){for(var i=0,s=0;s<r;s++){var a=HEAPU32[t>>2],l=HEAPU32[t+4>>2];t+=8;var c=FS.write(e,HEAP8,a,l,n);if(c<0)return-1;i+=c,n!==void 0&&(n+=c)}return i}o(doWritev,"doWritev");function _fd_write(e,t,r,n){try{var i=doWritev(SYSCALLS.getStreamFromFD(e),t,r);return HEAPU32[n>>2]=i,0}catch(s){if(typeof FS>"u"||!(s instanceof FS.ErrnoError))throw s;return s.errno}}o(_fd_write,"_fd_write");function _tree_sitter_log_callback(e,t){if(currentLogCallback){let r=UTF8ToString(t);currentLogCallback(r,e!==0)}}o(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(e,t,r,n,i){var s=currentParseCallback(t,{row:r,column:n});typeof s=="string"?(setValue(i,s.length,"i32"),stringToUTF16(s,e,10240)):setValue(i,0,"i32")}o(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");function handleException(e){if(e instanceof ExitStatus||e=="unwind")return EXITSTATUS;quit_(1,e)}o(handleException,"handleException");function allocateUTF8OnStack(e){var t=lengthBytesUTF8(e)+1,r=stackAlloc(t);return stringToUTF8Array(e,HEAP8,r,t),r}o(allocateUTF8OnStack,"allocateUTF8OnStack");function stringToUTF16(e,t,r){if(r===void 0&&(r=2147483647),r<2)return 0;for(var n=t,i=(r-=2)<2*e.length?r/2:e.length,s=0;s<i;++s){var a=e.charCodeAt(s);HEAP16[t>>1]=a,t+=2}return HEAP16[t>>1]=0,t-n}o(stringToUTF16,"stringToUTF16");function AsciiToString(e){for(var t="";;){var r=HEAPU8[e++>>0];if(!r)return t;t+=String.fromCharCode(r)}}o(AsciiToString,"AsciiToString"),_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(e){var t=Module._main;if(t){(e=e||[]).unshift(thisProgram);var r=e.length,n=stackAlloc(4*(r+1)),i=n>>2;e.forEach(a=>{HEAP32[i++]=allocateUTF8OnStack(a)}),HEAP32[i]=0;try{var s=t(r,n);return exitJS(s,!0),s}catch(a){return handleException(a)}}}o(callMain,"callMain"),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=o(function e(){calledRun||run(),calledRun||(dependenciesFulfilled=e)},"e");var dylibsLoaded=!1;function run(e){function t(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(e),postRun()))}o(t,"t"),e=e||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),t()},1)):t()))}if(o(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;class ParserImpl{static{o(this,"ParserImpl")}static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(t){let r;if(t){if(t.constructor!==Language)throw new Error("Argument must be a Language");{r=t[0];let n=C._ts_language_version(r);if(n<MIN_COMPATIBLE_VERSION||VERSION<n)throw new Error(`Incompatible language version ${n}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else r=0,t=null;return this.language=t,C._ts_parser_set_language(this[0],r),this}getLanguage(){return this.language}parse(t,r,n){if(typeof t=="string")currentParseCallback=o((c,u,f)=>t.slice(c,f),"currentParseCallback");else{if(typeof t!="function")throw new Error("Argument must be a string or a function");currentParseCallback=t}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let i=0,s=0;if(n&&n.includedRanges){i=n.includedRanges.length,s=C._calloc(i,SIZE_OF_RANGE);let c=s;for(let u=0;u<i;u++)marshalRange(c,n.includedRanges[u]),c+=SIZE_OF_RANGE}let a=C._ts_parser_parse_wasm(this[0],this[1],r?r[0]:0,s,i);if(!a)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let l=new Tree(INTERNAL,a,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,l}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(t){C._ts_parser_set_timeout_micros(this[0],t)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(t){if(t){if(typeof t!="function")throw new Error("Logger callback must be a function")}else t=null;return this.logCallback=t,this}getLogger(){return this.logCallback}}class Tree{static{o(this,"Tree")}constructor(t,r,n,i){assertInternal(t),this[0]=r,this.language=n,this.textCallback=i}copy(){let t=C._ts_tree_copy(this[0]);return new Tree(INTERNAL,t,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(t){marshalEdit(t),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(t){if(t.constructor!==Tree)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],t[0]);let r=getValue(TRANSFER_BUFFER,"i32"),n=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),i=new Array(r);if(r>0){let s=n;for(let a=0;a<r;a++)i[a]=unmarshalRange(s),s+=SIZE_OF_RANGE;C._free(n)}return i}}class Node{static{o(this,"Node")}constructor(t,r){assertInternal(t),this.tree=r}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(t){return this.id===t.id}child(t){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],t),unmarshalNode(this.tree)}namedChild(t){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],t),unmarshalNode(this.tree)}childForFieldId(t){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],t),unmarshalNode(this.tree)}childForFieldName(t){let r=this.tree.language.fields.indexOf(t);if(r!==-1)return this.childForFieldId(r)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let t=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(t),t>0){let n=r;for(let i=0;i<t;i++)this._children[i]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let t=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(t),t>0){let n=r;for(let i=0;i<t;i++)this._namedChildren[i]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._namedChildren}descendantsOfType(t,r,n){Array.isArray(t)||(t=[t]),r||(r=ZERO_POINT),n||(n=ZERO_POINT);let i=[],s=this.tree.language.types;for(let f=0,m=s.length;f<m;f++)t.includes(s[f])&&i.push(f);let a=C._malloc(SIZE_OF_INT*i.length);for(let f=0,m=i.length;f<m;f++)setValue(a+f*SIZE_OF_INT,i[f],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],a,i.length,r.row,r.column,n.row,n.column);let l=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),u=new Array(l);if(l>0){let f=c;for(let m=0;m<l;m++)u[m]=unmarshalNode(this.tree,f),f+=SIZE_OF_NODE}return C._free(c),C._free(a),u}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(t,r=t){if(typeof t!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,t,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(t,r=t){if(typeof t!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,t,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(t,r=t){if(!isPoint(t)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,t),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(t,r=t){if(!isPoint(t)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,t),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let t=C._ts_node_to_string_wasm(this.tree[0]),r=AsciiToString(t);return C._free(t),r}}class TreeCursor{static{o(this,"TreeCursor")}constructor(t,r){assertInternal(t),this.tree=r,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(t){marshalNode(t),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let t=C._ts_tree_cursor_start_index_wasm(this.tree[0]),r=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,t,r)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}gotoNextSibling(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}gotoParent(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}}class Language{static{o(this,"Language")}constructor(t,r){assertInternal(t),this[0]=r,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let n=0,i=this.types.length;n<i;n++)C._ts_language_symbol_type(this[0],n)<2&&(this.types[n]=UTF8ToString(C._ts_language_symbol_name(this[0],n)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let n=0,i=this.fields.length;n<i;n++){let s=C._ts_language_field_name_for_id(this[0],n);this.fields[n]=s!==0?UTF8ToString(s):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(t){let r=this.fields.indexOf(t);return r!==-1?r:null}fieldNameForId(t){return this.fields[t]||null}idForNodeType(t,r){let n=lengthBytesUTF8(t),i=C._malloc(n+1);stringToUTF8(t,i,n+1);let s=C._ts_language_symbol_for_name(this[0],i,n,r);return C._free(i),s||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(t){let r=C._ts_language_symbol_name(this[0],t);return r?UTF8ToString(r):null}nodeTypeIsNamed(t){return!!C._ts_language_type_is_named_wasm(this[0],t)}nodeTypeIsVisible(t){return!!C._ts_language_type_is_visible_wasm(this[0],t)}query(t){let r=lengthBytesUTF8(t),n=C._malloc(r+1);stringToUTF8(t,n,r+1);let i=C._ts_query_new(this[0],n,r,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!i){let E=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),x=UTF8ToString(n,getValue(TRANSFER_BUFFER,"i32")).length,b=t.substr(x,100).split(`
`)[0],v,S=b.match(QUERY_WORD_REGEX)[0];switch(E){case 2:v=new RangeError(`Bad node name '${S}'`);break;case 3:v=new RangeError(`Bad field name '${S}'`);break;case 4:v=new RangeError(`Bad capture name @${S}`);break;case 5:v=new TypeError(`Bad pattern structure at offset ${x}: '${b}'...`),S="";break;default:v=new SyntaxError(`Bad syntax at offset ${x}: '${b}'...`),S=""}throw v.index=x,v.length=S.length,C._free(n),v}let s=C._ts_query_string_count(i),a=C._ts_query_capture_count(i),l=C._ts_query_pattern_count(i),c=new Array(a),u=new Array(s);for(let E=0;E<a;E++){let x=C._ts_query_capture_name_for_id(i,E,TRANSFER_BUFFER),b=getValue(TRANSFER_BUFFER,"i32");c[E]=UTF8ToString(x,b)}for(let E=0;E<s;E++){let x=C._ts_query_string_value_for_id(i,E,TRANSFER_BUFFER),b=getValue(TRANSFER_BUFFER,"i32");u[E]=UTF8ToString(x,b)}let f=new Array(l),m=new Array(l),h=new Array(l),p=new Array(l),A=new Array(l);for(let E=0;E<l;E++){let x=C._ts_query_predicates_for_pattern(i,E,TRANSFER_BUFFER),b=getValue(TRANSFER_BUFFER,"i32");p[E]=[],A[E]=[];let v=[],S=x;for(let k=0;k<b;k++){let P=getValue(S,"i32");S+=SIZE_OF_INT;let N=getValue(S,"i32");if(S+=SIZE_OF_INT,P===PREDICATE_STEP_TYPE_CAPTURE)v.push({type:"capture",name:c[N]});else if(P===PREDICATE_STEP_TYPE_STRING)v.push({type:"string",value:u[N]});else if(v.length>0){if(v[0].type!=="string")throw new Error("Predicates must begin with a literal value");let W=v[0].value,re=!0;switch(W){case"not-eq?":re=!1;case"eq?":if(v.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(v.length-1));if(v[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${v[1].value}"`);if(v[2].type==="capture"){let q=v[1].name,se=v[2].name;A[E].push(function(ne){let H,O;for(let j of ne)j.name===q&&(H=j.node),j.name===se&&(O=j.node);return H===void 0||O===void 0||H.text===O.text===re})}else{let q=v[1].name,se=v[2].value;A[E].push(function(ne){for(let H of ne)if(H.name===q)return H.node.text===se===re;return!0})}break;case"not-match?":re=!1;case"match?":if(v.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${v.length-1}.`);if(v[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${v[1].value}".`);if(v[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${v[2].value}.`);let ge=v[1].name,te=new RegExp(v[2].value);A[E].push(function(q){for(let se of q)if(se.name===ge)return te.test(se.node.text)===re;return!0});break;case"set!":if(v.length<2||v.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${v.length-1}.`);if(v.some(q=>q.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');f[E]||(f[E]={}),f[E][v[1].value]=v[2]?v[2].value:null;break;case"is?":case"is-not?":if(v.length<2||v.length>3)throw new Error(`Wrong number of arguments to \`#${W}\` predicate. Expected 1 or 2. Got ${v.length-1}.`);if(v.some(q=>q.type!=="string"))throw new Error(`Arguments to \`#${W}\` predicate must be a strings.".`);let G=W==="is?"?m:h;G[E]||(G[E]={}),G[E][v[1].value]=v[2]?v[2].value:null;break;default:p[E].push({operator:W,operands:v.slice(1)})}v.length=0}}Object.freeze(f[E]),Object.freeze(m[E]),Object.freeze(h[E])}return C._free(n),new Query(INTERNAL,i,c,A,p,Object.freeze(f),Object.freeze(m),Object.freeze(h))}static load(t){let r;if(t instanceof Uint8Array)r=Promise.resolve(t);else{let i=t;if(typeof process<"u"&&process.versions&&process.versions.node){let s=require("fs");r=Promise.resolve(s.readFileSync(i))}else r=fetch(i).then(s=>s.arrayBuffer().then(a=>{if(s.ok)return new Uint8Array(a);{let l=new TextDecoder("utf-8").decode(a);throw new Error(`Language.load failed with status ${s.status}.

${l}`)}}))}let n=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return r.then(i=>n(i,{loadAsync:!0})).then(i=>{let s=Object.keys(i),a=s.find(c=>LANGUAGE_FUNCTION_REGEX.test(c)&&!c.includes("external_scanner_"));a||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(s,null,2)}`);let l=i[a]();return new Language(INTERNAL,l)})}}class Query{static{o(this,"Query")}constructor(t,r,n,i,s,a,l,c){assertInternal(t),this[0]=r,this.captureNames=n,this.textPredicates=i,this.predicates=s,this.setProperties=a,this.assertedProperties=l,this.refutedProperties=c,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(t,r,n,i){r||(r=ZERO_POINT),n||(n=ZERO_POINT),i||(i={});let s=i.matchLimit;if(s===void 0)s=0;else if(typeof s!="number")throw new Error("Arguments must be numbers");marshalNode(t),C._ts_query_matches_wasm(this[0],t.tree[0],r.row,r.column,n.row,n.column,s);let a=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),c=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),u=new Array(a);this.exceededMatchLimit=!!c;let f=0,m=l;for(let h=0;h<a;h++){let p=getValue(m,"i32");m+=SIZE_OF_INT;let A=getValue(m,"i32");m+=SIZE_OF_INT;let E=new Array(A);if(m=unmarshalCaptures(this,t.tree,m,E),this.textPredicates[p].every(x=>x(E))){u[f++]={pattern:p,captures:E};let x=this.setProperties[p];x&&(u[h].setProperties=x);let b=this.assertedProperties[p];b&&(u[h].assertedProperties=b);let v=this.refutedProperties[p];v&&(u[h].refutedProperties=v)}}return u.length=f,C._free(l),u}captures(t,r,n,i){r||(r=ZERO_POINT),n||(n=ZERO_POINT),i||(i={});let s=i.matchLimit;if(s===void 0)s=0;else if(typeof s!="number")throw new Error("Arguments must be numbers");marshalNode(t),C._ts_query_captures_wasm(this[0],t.tree[0],r.row,r.column,n.row,n.column,s);let a=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),c=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),u=[];this.exceededMatchLimit=!!c;let f=[],m=l;for(let h=0;h<a;h++){let p=getValue(m,"i32");m+=SIZE_OF_INT;let A=getValue(m,"i32");m+=SIZE_OF_INT;let E=getValue(m,"i32");if(m+=SIZE_OF_INT,f.length=A,m=unmarshalCaptures(this,t.tree,m,f),this.textPredicates[p].every(x=>x(f))){let x=f[E],b=this.setProperties[p];b&&(x.setProperties=b);let v=this.assertedProperties[p];v&&(x.assertedProperties=v);let S=this.refutedProperties[p];S&&(x.refutedProperties=S),u.push(x)}}return C._free(l),u}predicatesForPattern(t){return this.predicates[t]}didExceedMatchLimit(){return this.exceededMatchLimit}}function getText(e,t,r){let n=r-t,i=e.textCallback(t,null,r);for(t+=i.length;t<r;){let s=e.textCallback(t,null,r);if(!(s&&s.length>0))break;t+=s.length,i+=s}return t>r&&(i=i.slice(0,n)),i}o(getText,"getText");function unmarshalCaptures(e,t,r,n){for(let i=0,s=n.length;i<s;i++){let a=getValue(r,"i32"),l=unmarshalNode(t,r+=SIZE_OF_INT);r+=SIZE_OF_NODE,n[i]={name:e.captureNames[a],node:l}}return r}o(unmarshalCaptures,"unmarshalCaptures");function assertInternal(e){if(e!==INTERNAL)throw new Error("Illegal constructor")}o(assertInternal,"assertInternal");function isPoint(e){return e&&typeof e.row=="number"&&typeof e.column=="number"}o(isPoint,"isPoint");function marshalNode(e){let t=TRANSFER_BUFFER;setValue(t,e.id,"i32"),t+=SIZE_OF_INT,setValue(t,e.startIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.startPosition.row,"i32"),t+=SIZE_OF_INT,setValue(t,e.startPosition.column,"i32"),t+=SIZE_OF_INT,setValue(t,e[0],"i32")}o(marshalNode,"marshalNode");function unmarshalNode(e,t=TRANSFER_BUFFER){let r=getValue(t,"i32");if(r===0)return null;let n=getValue(t+=SIZE_OF_INT,"i32"),i=getValue(t+=SIZE_OF_INT,"i32"),s=getValue(t+=SIZE_OF_INT,"i32"),a=getValue(t+=SIZE_OF_INT,"i32"),l=new Node(INTERNAL,e);return l.id=r,l.startIndex=n,l.startPosition={row:i,column:s},l[0]=a,l}o(unmarshalNode,"unmarshalNode");function marshalTreeCursor(e,t=TRANSFER_BUFFER){setValue(t+0*SIZE_OF_INT,e[0],"i32"),setValue(t+1*SIZE_OF_INT,e[1],"i32"),setValue(t+2*SIZE_OF_INT,e[2],"i32")}o(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(e){e[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),e[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),e[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}o(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(e,t){setValue(e,t.row,"i32"),setValue(e+SIZE_OF_INT,t.column,"i32")}o(marshalPoint,"marshalPoint");function unmarshalPoint(e){return{row:getValue(e,"i32"),column:getValue(e+SIZE_OF_INT,"i32")}}o(unmarshalPoint,"unmarshalPoint");function marshalRange(e,t){marshalPoint(e,t.startPosition),marshalPoint(e+=SIZE_OF_POINT,t.endPosition),setValue(e+=SIZE_OF_POINT,t.startIndex,"i32"),setValue(e+=SIZE_OF_INT,t.endIndex,"i32"),e+=SIZE_OF_INT}o(marshalRange,"marshalRange");function unmarshalRange(e){let t={};return t.startPosition=unmarshalPoint(e),e+=SIZE_OF_POINT,t.endPosition=unmarshalPoint(e),e+=SIZE_OF_POINT,t.startIndex=getValue(e,"i32"),e+=SIZE_OF_INT,t.endIndex=getValue(e,"i32"),t}o(unmarshalRange,"unmarshalRange");function marshalEdit(e){let t=TRANSFER_BUFFER;marshalPoint(t,e.startPosition),t+=SIZE_OF_POINT,marshalPoint(t,e.oldEndPosition),t+=SIZE_OF_POINT,marshalPoint(t,e.newEndPosition),t+=SIZE_OF_POINT,setValue(t,e.startIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.oldEndIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.newEndIndex,"i32"),t+=SIZE_OF_INT}o(marshalEdit,"marshalEdit");for(let e of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(Parser.prototype,e,{value:ParserImpl.prototype[e],enumerable:!1,writable:!1});Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}}return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)});var AN=V(_a=>{"use strict";d();Object.defineProperty(_a,"__esModule",{value:!0});_a.thenable=_a.typedArray=_a.stringArray=_a.array=_a.func=_a.error=_a.number=_a.string=_a.boolean=void 0;function Cit(e){return e===!0||e===!1}o(Cit,"boolean");_a.boolean=Cit;function Rye(e){return typeof e=="string"||e instanceof String}o(Rye,"string");_a.string=Rye;function Eit(e){return typeof e=="number"||e instanceof Number}o(Eit,"number");_a.number=Eit;function xit(e){return e instanceof Error}o(xit,"error");_a.error=xit;function Dye(e){return typeof e=="function"}o(Dye,"func");_a.func=Dye;function Pye(e){return Array.isArray(e)}o(Pye,"array");_a.array=Pye;function vit(e){return Pye(e)&&e.every(t=>Rye(t))}o(vit,"stringArray");_a.stringArray=vit;function bit(e,t){return Array.isArray(e)&&e.every(t)}o(bit,"typedArray");_a.typedArray=bit;function Iit(e){return e&&Dye(e.then)}o(Iit,"thenable");_a.thenable=Iit});var LK=V(Gf=>{"use strict";d();Object.defineProperty(Gf,"__esModule",{value:!0});Gf.generateUuid=Gf.parse=Gf.isUUID=Gf.v4=Gf.empty=void 0;var z7=class{static{o(this,"ValueUUID")}constructor(t){this._value=t}asHex(){return this._value}equals(t){return this.asHex()===t.asHex()}},Y7=class e extends z7{static{o(this,"V4UUID")}static _oneOf(t){return t[Math.floor(t.length*Math.random())]}static _randomHex(){return e._oneOf(e._chars)}constructor(){super([e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),"-",e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),"-","4",e._randomHex(),e._randomHex(),e._randomHex(),"-",e._oneOf(e._timeHighBits),e._randomHex(),e._randomHex(),e._randomHex(),"-",e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex()].join(""))}};Y7._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];Y7._timeHighBits=["8","9","a","b"];Gf.empty=new z7("00000000-0000-0000-0000-000000000000");function Nye(){return new Y7}o(Nye,"v4");Gf.v4=Nye;var Tit=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function Fye(e){return Tit.test(e)}o(Fye,"isUUID");Gf.isUUID=Fye;function wit(e){if(!Fye(e))throw new Error("invalid uuid");return new z7(e)}o(wit,"parse");Gf.parse=wit;function _it(){return Nye().asHex()}o(_it,"generateUuid");Gf.generateUuid=_it});var Lye=V(s5=>{"use strict";d();Object.defineProperty(s5,"__esModule",{value:!0});s5.attachPartialResult=s5.ProgressFeature=s5.attachWorkDone=void 0;var o5=Ii(),Sit=LK(),TC=class e{static{o(this,"WorkDoneProgressReporterImpl")}constructor(t,r){this._connection=t,this._token=r,e.Instances.set(this._token,this)}begin(t,r,n,i){let s={kind:"begin",title:t,percentage:r,message:n,cancellable:i};this._connection.sendProgress(o5.WorkDoneProgress.type,this._token,s)}report(t,r){let n={kind:"report"};typeof t=="number"?(n.percentage=t,r!==void 0&&(n.message=r)):n.message=t,this._connection.sendProgress(o5.WorkDoneProgress.type,this._token,n)}done(){e.Instances.delete(this._token),this._connection.sendProgress(o5.WorkDoneProgress.type,this._token,{kind:"end"})}};TC.Instances=new Map;var yN=class extends TC{static{o(this,"WorkDoneProgressServerReporterImpl")}constructor(t,r){super(t,r),this._source=new o5.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},K7=class{static{o(this,"NullProgressReporter")}constructor(){}begin(){}report(){}done(){}},CN=class extends K7{static{o(this,"NullProgressServerReporter")}constructor(){super(),this._source=new o5.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function Bit(e,t){if(t===void 0||t.workDoneToken===void 0)return new K7;let r=t.workDoneToken;return delete t.workDoneToken,new TC(e,r)}o(Bit,"attachWorkDone");s5.attachWorkDone=Bit;var kit=o(e=>class extends e{constructor(){super(),this._progressSupported=!1}initialize(t){super.initialize(t),t?.window?.workDoneProgress===!0&&(this._progressSupported=!0,this.connection.onNotification(o5.WorkDoneProgressCancelNotification.type,r=>{let n=TC.Instances.get(r.token);(n instanceof yN||n instanceof CN)&&n.cancel()}))}attachWorkDoneProgress(t){return t===void 0?new K7:new TC(this.connection,t)}createWorkDoneProgress(){if(this._progressSupported){let t=(0,Sit.generateUuid)();return this.connection.sendRequest(o5.WorkDoneProgressCreateRequest.type,{token:t}).then(()=>new yN(this.connection,t))}else return Promise.resolve(new CN)}},"ProgressFeature");s5.ProgressFeature=kit;var QK;(function(e){e.type=new o5.ProgressType})(QK||(QK={}));var MK=class{static{o(this,"ResultProgressReporterImpl")}constructor(t,r){this._connection=t,this._token=r}report(t){this._connection.sendProgress(QK.type,this._token,t)}};function Rit(e,t){if(t===void 0||t.partialResultToken===void 0)return;let r=t.partialResultToken;return delete t.partialResultToken,new MK(e,r)}o(Rit,"attachPartialResult");s5.attachPartialResult=Rit});var Qye=V(EN=>{"use strict";d();Object.defineProperty(EN,"__esModule",{value:!0});EN.ConfigurationFeature=void 0;var Dit=Ii(),Pit=AN(),Nit=o(e=>class extends e{getConfiguration(t){return t?Pit.string(t)?this._getConfiguration({section:t}):this._getConfiguration(t):this._getConfiguration({})}_getConfiguration(t){let r={items:Array.isArray(t)?t:[t]};return this.connection.sendRequest(Dit.ConfigurationRequest.type,r).then(n=>Array.isArray(n)?Array.isArray(t)?n:n[0]:Array.isArray(t)?[]:null)}},"ConfigurationFeature");EN.ConfigurationFeature=Nit});var Mye=V(vN=>{"use strict";d();Object.defineProperty(vN,"__esModule",{value:!0});vN.WorkspaceFoldersFeature=void 0;var xN=Ii(),Fit=o(e=>class extends e{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(t){super.initialize(t);let r=t.workspace;r&&r.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new xN.Emitter,this.connection.onNotification(xN.DidChangeWorkspaceFoldersNotification.type,n=>{this._onDidChangeWorkspaceFolders.fire(n.event)}))}fillServerCapabilities(t){super.fillServerCapabilities(t);let r=t.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=r===!0||typeof r=="string"}getWorkspaceFolders(){return this.connection.sendRequest(xN.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(xN.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}},"WorkspaceFoldersFeature");vN.WorkspaceFoldersFeature=Fit});var Oye=V(bN=>{"use strict";d();Object.defineProperty(bN,"__esModule",{value:!0});bN.CallHierarchyFeature=void 0;var OK=Ii(),Lit=o(e=>class extends e{get callHierarchy(){return{onPrepare:o(t=>this.connection.onRequest(OK.CallHierarchyPrepareRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0)),"onPrepare"),onIncomingCalls:o(t=>{let r=OK.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onIncomingCalls"),onOutgoingCalls:o(t=>{let r=OK.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onOutgoingCalls")}}},"CallHierarchyFeature");bN.CallHierarchyFeature=Lit});var qK=V(a5=>{"use strict";d();Object.defineProperty(a5,"__esModule",{value:!0});a5.SemanticTokensBuilder=a5.SemanticTokensDiff=a5.SemanticTokensFeature=void 0;var IN=Ii(),Qit=o(e=>class extends e{get semanticTokens(){return{refresh:o(()=>this.connection.sendRequest(IN.SemanticTokensRefreshRequest.type),"refresh"),on:o(t=>{let r=IN.SemanticTokensRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"on"),onDelta:o(t=>{let r=IN.SemanticTokensDeltaRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onDelta"),onRange:o(t=>{let r=IN.SemanticTokensRangeRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onRange")}}},"SemanticTokensFeature");a5.SemanticTokensFeature=Qit;var TN=class{static{o(this,"SemanticTokensDiff")}constructor(t,r){this.originalSequence=t,this.modifiedSequence=r}computeDiff(){let t=this.originalSequence.length,r=this.modifiedSequence.length,n=0;for(;n<r&&n<t&&this.originalSequence[n]===this.modifiedSequence[n];)n++;if(n<r&&n<t){let i=t-1,s=r-1;for(;i>=n&&s>=n&&this.originalSequence[i]===this.modifiedSequence[s];)i--,s--;(i<n||s<n)&&(i++,s++);let a=i-n+1,l=this.modifiedSequence.slice(n,s+1);return l.length===1&&l[0]===this.originalSequence[i]?[{start:n,deleteCount:a-1}]:[{start:n,deleteCount:a,data:l}]}else return n<r?[{start:n,deleteCount:0,data:this.modifiedSequence.slice(n)}]:n<t?[{start:n,deleteCount:t-n}]:[]}};a5.SemanticTokensDiff=TN;var UK=class{static{o(this,"SemanticTokensBuilder")}constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(t,r,n,i,s){let a=t,l=r;this._dataLen>0&&(a-=this._prevLine,a===0&&(l-=this._prevChar)),this._data[this._dataLen++]=a,this._data[this._dataLen++]=l,this._data[this._dataLen++]=n,this._data[this._dataLen++]=i,this._data[this._dataLen++]=s,this._prevLine=t,this._prevChar=r}get id(){return this._id.toString()}previousResult(t){this.id===t&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new TN(this._prevData,this._data).computeDiff()}:this.build()}};a5.SemanticTokensBuilder=UK});var Uye=V(wN=>{"use strict";d();Object.defineProperty(wN,"__esModule",{value:!0});wN.ShowDocumentFeature=void 0;var Mit=Ii(),Oit=o(e=>class extends e{showDocument(t){return this.connection.sendRequest(Mit.ShowDocumentRequest.type,t)}},"ShowDocumentFeature");wN.ShowDocumentFeature=Oit});var qye=V(_N=>{"use strict";d();Object.defineProperty(_N,"__esModule",{value:!0});_N.FileOperationsFeature=void 0;var cb=Ii(),Uit=o(e=>class extends e{onDidCreateFiles(t){return this.connection.onNotification(cb.DidCreateFilesNotification.type,r=>{t(r)})}onDidRenameFiles(t){return this.connection.onNotification(cb.DidRenameFilesNotification.type,r=>{t(r)})}onDidDeleteFiles(t){return this.connection.onNotification(cb.DidDeleteFilesNotification.type,r=>{t(r)})}onWillCreateFiles(t){return this.connection.onRequest(cb.WillCreateFilesRequest.type,(r,n)=>t(r,n))}onWillRenameFiles(t){return this.connection.onRequest(cb.WillRenameFilesRequest.type,(r,n)=>t(r,n))}onWillDeleteFiles(t){return this.connection.onRequest(cb.WillDeleteFilesRequest.type,(r,n)=>t(r,n))}},"FileOperationsFeature");_N.FileOperationsFeature=Uit});var Gye=V(SN=>{"use strict";d();Object.defineProperty(SN,"__esModule",{value:!0});SN.LinkedEditingRangeFeature=void 0;var qit=Ii(),Git=o(e=>class extends e{onLinkedEditingRange(t){return this.connection.onRequest(qit.LinkedEditingRangeRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0))}},"LinkedEditingRangeFeature");SN.LinkedEditingRangeFeature=Git});var Wye=V(BN=>{"use strict";d();Object.defineProperty(BN,"__esModule",{value:!0});BN.TypeHierarchyFeature=void 0;var GK=Ii(),Wit=o(e=>class extends e{get typeHierarchy(){return{onPrepare:o(t=>this.connection.onRequest(GK.TypeHierarchyPrepareRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0)),"onPrepare"),onSupertypes:o(t=>{let r=GK.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onSupertypes"),onSubtypes:o(t=>{let r=GK.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onSubtypes")}}},"TypeHierarchyFeature");BN.TypeHierarchyFeature=Wit});var Vye=V(kN=>{"use strict";d();Object.defineProperty(kN,"__esModule",{value:!0});kN.InlineValueFeature=void 0;var Hye=Ii(),Hit=o(e=>class extends e{get inlineValue(){return{refresh:o(()=>this.connection.sendRequest(Hye.InlineValueRefreshRequest.type),"refresh"),on:o(t=>this.connection.onRequest(Hye.InlineValueRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r))),"on")}}},"InlineValueFeature");kN.InlineValueFeature=Hit});var $ye=V(RN=>{"use strict";d();Object.defineProperty(RN,"__esModule",{value:!0});RN.FoldingRangeFeature=void 0;var jye=Ii(),Vit=o(e=>class extends e{get foldingRange(){return{refresh:o(()=>this.connection.sendRequest(jye.FoldingRangeRefreshRequest.type),"refresh"),on:o(t=>{let r=jye.FoldingRangeRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"on")}}},"FoldingRangeFeature");RN.FoldingRangeFeature=Vit});var zye=V(DN=>{"use strict";d();Object.defineProperty(DN,"__esModule",{value:!0});DN.InlayHintFeature=void 0;var WK=Ii(),jit=o(e=>class extends e{get inlayHint(){return{refresh:o(()=>this.connection.sendRequest(WK.InlayHintRefreshRequest.type),"refresh"),on:o(t=>this.connection.onRequest(WK.InlayHintRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r))),"on"),resolve:o(t=>this.connection.onRequest(WK.InlayHintResolveRequest.type,(r,n)=>t(r,n)),"resolve")}}},"InlayHintFeature");DN.InlayHintFeature=jit});var Yye=V(PN=>{"use strict";d();Object.defineProperty(PN,"__esModule",{value:!0});PN.DiagnosticFeature=void 0;var J7=Ii(),$it=o(e=>class extends e{get diagnostics(){return{refresh:o(()=>this.connection.sendRequest(J7.DiagnosticRefreshRequest.type),"refresh"),on:o(t=>this.connection.onRequest(J7.DocumentDiagnosticRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(J7.DocumentDiagnosticRequest.partialResult,r))),"on"),onWorkspace:o(t=>this.connection.onRequest(J7.WorkspaceDiagnosticRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(J7.WorkspaceDiagnosticRequest.partialResult,r))),"onWorkspace")}}},"DiagnosticFeature");PN.DiagnosticFeature=$it});var VK=V(NN=>{"use strict";d();Object.defineProperty(NN,"__esModule",{value:!0});NN.TextDocuments=void 0;var wC=Ii(),HK=class{static{o(this,"TextDocuments")}constructor(t){this._configuration=t,this._syncedDocuments=new Map,this._onDidChangeContent=new wC.Emitter,this._onDidOpen=new wC.Emitter,this._onDidClose=new wC.Emitter,this._onDidSave=new wC.Emitter,this._onWillSave=new wC.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(t){this._willSaveWaitUntil=t}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(t){return this._syncedDocuments.get(t)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(t){t.__textDocumentSync=wC.TextDocumentSyncKind.Incremental;let r=[];return r.push(t.onDidOpenTextDocument(n=>{let i=n.textDocument,s=this._configuration.create(i.uri,i.languageId,i.version,i.text);this._syncedDocuments.set(i.uri,s);let a=Object.freeze({document:s});this._onDidOpen.fire(a),this._onDidChangeContent.fire(a)})),r.push(t.onDidChangeTextDocument(n=>{let i=n.textDocument,s=n.contentChanges;if(s.length===0)return;let{version:a}=i;if(a==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let l=this._syncedDocuments.get(i.uri);l!==void 0&&(l=this._configuration.update(l,s,a),this._syncedDocuments.set(i.uri,l),this._onDidChangeContent.fire(Object.freeze({document:l})))})),r.push(t.onDidCloseTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&(this._syncedDocuments.delete(n.textDocument.uri),this._onDidClose.fire(Object.freeze({document:i})))})),r.push(t.onWillSaveTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&this._onWillSave.fire(Object.freeze({document:i,reason:n.reason}))})),r.push(t.onWillSaveTextDocumentWaitUntil((n,i)=>{let s=this._syncedDocuments.get(n.textDocument.uri);return s!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:s,reason:n.reason}),i):[]})),r.push(t.onDidSaveTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&this._onDidSave.fire(Object.freeze({document:i}))})),wC.Disposable.create(()=>{r.forEach(n=>n.dispose())})}};NN.TextDocuments=HK});var $K=V(ub=>{"use strict";d();Object.defineProperty(ub,"__esModule",{value:!0});ub.NotebookDocuments=ub.NotebookSyncFeature=void 0;var Wf=Ii(),Kye=VK(),zit=o(e=>class extends e{get synchronization(){return{onDidOpenNotebookDocument:o(t=>this.connection.onNotification(Wf.DidOpenNotebookDocumentNotification.type,r=>{t(r)}),"onDidOpenNotebookDocument"),onDidChangeNotebookDocument:o(t=>this.connection.onNotification(Wf.DidChangeNotebookDocumentNotification.type,r=>{t(r)}),"onDidChangeNotebookDocument"),onDidSaveNotebookDocument:o(t=>this.connection.onNotification(Wf.DidSaveNotebookDocumentNotification.type,r=>{t(r)}),"onDidSaveNotebookDocument"),onDidCloseNotebookDocument:o(t=>this.connection.onNotification(Wf.DidCloseNotebookDocumentNotification.type,r=>{t(r)}),"onDidCloseNotebookDocument")}}},"NotebookSyncFeature");ub.NotebookSyncFeature=zit;var FN=class e{static{o(this,"CellTextDocumentConnection")}onDidOpenTextDocument(t){return this.openHandler=t,Wf.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(t){this.openHandler&&this.openHandler(t)}onDidChangeTextDocument(t){return this.changeHandler=t,Wf.Disposable.create(()=>{this.changeHandler=t})}changeTextDocument(t){this.changeHandler&&this.changeHandler(t)}onDidCloseTextDocument(t){return this.closeHandler=t,Wf.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(t){this.closeHandler&&this.closeHandler(t)}onWillSaveTextDocument(){return e.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return e.NULL_DISPOSE}onDidSaveTextDocument(){return e.NULL_DISPOSE}};FN.NULL_DISPOSE=Object.freeze({dispose:o(()=>{},"dispose")});var jK=class{static{o(this,"NotebookDocuments")}constructor(t){t instanceof Kye.TextDocuments?this._cellTextDocuments=t:this._cellTextDocuments=new Kye.TextDocuments(t),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new Wf.Emitter,this._onDidChange=new Wf.Emitter,this._onDidSave=new Wf.Emitter,this._onDidClose=new Wf.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(t){return this._cellTextDocuments.get(t.document)}getNotebookDocument(t){return this.notebookDocuments.get(t)}getNotebookCell(t){let r=this.notebookCellMap.get(t);return r&&r[0]}findNotebookDocumentForCell(t){let r=typeof t=="string"?t:t.document,n=this.notebookCellMap.get(r);return n&&n[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(t){let r=new FN,n=[];return n.push(this.cellTextDocuments.listen(r)),n.push(t.notebooks.synchronization.onDidOpenNotebookDocument(i=>{this.notebookDocuments.set(i.notebookDocument.uri,i.notebookDocument);for(let s of i.cellTextDocuments)r.openTextDocument({textDocument:s});this.updateCellMap(i.notebookDocument),this._onDidOpen.fire(i.notebookDocument)})),n.push(t.notebooks.synchronization.onDidChangeNotebookDocument(i=>{let s=this.notebookDocuments.get(i.notebookDocument.uri);if(s===void 0)return;s.version=i.notebookDocument.version;let a=s.metadata,l=!1,c=i.change;c.metadata!==void 0&&(l=!0,s.metadata=c.metadata);let u=[],f=[],m=[],h=[];if(c.cells!==void 0){let b=c.cells;if(b.structure!==void 0){let v=b.structure.array;if(s.cells.splice(v.start,v.deleteCount,...v.cells!==void 0?v.cells:[]),b.structure.didOpen!==void 0)for(let S of b.structure.didOpen)r.openTextDocument({textDocument:S}),u.push(S.uri);if(b.structure.didClose)for(let S of b.structure.didClose)r.closeTextDocument({textDocument:S}),f.push(S.uri)}if(b.data!==void 0){let v=new Map(b.data.map(S=>[S.document,S]));for(let S=0;S<=s.cells.length;S++){let k=v.get(s.cells[S].document);if(k!==void 0){let P=s.cells.splice(S,1,k);if(m.push({old:P[0],new:k}),v.delete(k.document),v.size===0)break}}}if(b.textContent!==void 0)for(let v of b.textContent)r.changeTextDocument({textDocument:v.document,contentChanges:v.changes}),h.push(v.document.uri)}this.updateCellMap(s);let p={notebookDocument:s};l&&(p.metadata={old:a,new:s.metadata});let A=[];for(let b of u)A.push(this.getNotebookCell(b));let E=[];for(let b of f)E.push(this.getNotebookCell(b));let x=[];for(let b of h)x.push(this.getNotebookCell(b));(A.length>0||E.length>0||m.length>0||x.length>0)&&(p.cells={added:A,removed:E,changed:{data:m,textContent:x}}),(p.metadata!==void 0||p.cells!==void 0)&&this._onDidChange.fire(p)})),n.push(t.notebooks.synchronization.onDidSaveNotebookDocument(i=>{let s=this.notebookDocuments.get(i.notebookDocument.uri);s!==void 0&&this._onDidSave.fire(s)})),n.push(t.notebooks.synchronization.onDidCloseNotebookDocument(i=>{let s=this.notebookDocuments.get(i.notebookDocument.uri);if(s!==void 0){this._onDidClose.fire(s);for(let a of i.cellTextDocuments)r.closeTextDocument({textDocument:a});this.notebookDocuments.delete(i.notebookDocument.uri);for(let a of s.cells)this.notebookCellMap.delete(a.document)}})),Wf.Disposable.create(()=>{n.forEach(i=>i.dispose())})}updateCellMap(t){for(let r of t.cells)this.notebookCellMap.set(r.document,[r,t])}};ub.NotebookDocuments=jK});var Jye=V(LN=>{"use strict";d();Object.defineProperty(LN,"__esModule",{value:!0});LN.MonikerFeature=void 0;var Yit=Ii(),Kit=o(e=>class extends e{get moniker(){return{on:o(t=>{let r=Yit.MonikerRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"on")}}},"MonikerFeature");LN.MonikerFeature=Kit});var ZK=V(Zi=>{"use strict";d();Object.defineProperty(Zi,"__esModule",{value:!0});Zi.createConnection=Zi.combineFeatures=Zi.combineNotebooksFeatures=Zi.combineLanguagesFeatures=Zi.combineWorkspaceFeatures=Zi.combineWindowFeatures=Zi.combineClientFeatures=Zi.combineTracerFeatures=Zi.combineTelemetryFeatures=Zi.combineConsoleFeatures=Zi._NotebooksImpl=Zi._LanguagesImpl=Zi.BulkUnregistration=Zi.BulkRegistration=Zi.ErrorMessageTracker=void 0;var dr=Ii(),Hf=AN(),YK=LK(),Qn=Lye(),Jit=Qye(),Xit=Mye(),Zit=Oye(),eot=qK(),tot=Uye(),rot=qye(),not=Gye(),iot=Wye(),oot=Vye(),sot=$ye(),aot=zye(),lot=Yye(),cot=$K(),uot=Jye();function zK(e){if(e!==null)return e}o(zK,"null2Undefined");var KK=class{static{o(this,"ErrorMessageTracker")}constructor(){this._messages=Object.create(null)}add(t){let r=this._messages[t];r||(r=0),r++,this._messages[t]=r}sendErrors(t){Object.keys(this._messages).forEach(r=>{t.window.showErrorMessage(r)})}};Zi.ErrorMessageTracker=KK;var QN=class{static{o(this,"RemoteConsoleImpl")}constructor(){}rawAttach(t){this._rawConnection=t}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(t){}initialize(t){}error(t){this.send(dr.MessageType.Error,t)}warn(t){this.send(dr.MessageType.Warning,t)}info(t){this.send(dr.MessageType.Info,t)}log(t){this.send(dr.MessageType.Log,t)}debug(t){this.send(dr.MessageType.Debug,t)}send(t,r){this._rawConnection&&this._rawConnection.sendNotification(dr.LogMessageNotification.type,{type:t,message:r}).catch(()=>{(0,dr.RAL)().console.error("Sending log message failed")})}},JK=class{static{o(this,"_RemoteWindowImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}showErrorMessage(t,...r){let n={type:dr.MessageType.Error,message:t,actions:r};return this.connection.sendRequest(dr.ShowMessageRequest.type,n).then(zK)}showWarningMessage(t,...r){let n={type:dr.MessageType.Warning,message:t,actions:r};return this.connection.sendRequest(dr.ShowMessageRequest.type,n).then(zK)}showInformationMessage(t,...r){let n={type:dr.MessageType.Info,message:t,actions:r};return this.connection.sendRequest(dr.ShowMessageRequest.type,n).then(zK)}},Xye=(0,tot.ShowDocumentFeature)((0,Qn.ProgressFeature)(JK)),Zye;(function(e){function t(){return new MN}o(t,"create"),e.create=t})(Zye||(Zi.BulkRegistration=Zye={}));var MN=class{static{o(this,"BulkRegistrationImpl")}constructor(){this._registrations=[],this._registered=new Set}add(t,r){let n=Hf.string(t)?t:t.method;if(this._registered.has(n))throw new Error(`${n} is already added to this registration`);let i=YK.generateUuid();this._registrations.push({id:i,method:n,registerOptions:r||{}}),this._registered.add(n)}asRegistrationParams(){return{registrations:this._registrations}}},e3e;(function(e){function t(){return new X7(void 0,[])}o(t,"create"),e.create=t})(e3e||(Zi.BulkUnregistration=e3e={}));var X7=class{static{o(this,"BulkUnregistrationImpl")}constructor(t,r){this._connection=t,this._unregistrations=new Map,r.forEach(n=>{this._unregistrations.set(n.method,n)})}get isAttached(){return!!this._connection}attach(t){this._connection=t}add(t){this._unregistrations.set(t.method,t)}dispose(){let t=[];for(let n of this._unregistrations.values())t.push(n);let r={unregisterations:t};this._connection.sendRequest(dr.UnregistrationRequest.type,r).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(t){let r=Hf.string(t)?t:t.method,n=this._unregistrations.get(r);if(!n)return!1;let i={unregisterations:[n]};return this._connection.sendRequest(dr.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(r)},s=>{this._connection.console.info(`Un-registering request handler for ${n.id} failed.`)}),!0}},ON=class{static{o(this,"RemoteClientImpl")}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}register(t,r,n){return t instanceof MN?this.registerMany(t):t instanceof X7?this.registerSingle1(t,r,n):this.registerSingle2(t,r)}registerSingle1(t,r,n){let i=Hf.string(r)?r:r.method,s=YK.generateUuid(),a={registrations:[{id:s,method:i,registerOptions:n||{}}]};return t.isAttached||t.attach(this.connection),this.connection.sendRequest(dr.RegistrationRequest.type,a).then(l=>(t.add({id:s,method:i}),t),l=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(l)))}registerSingle2(t,r){let n=Hf.string(t)?t:t.method,i=YK.generateUuid(),s={registrations:[{id:i,method:n,registerOptions:r||{}}]};return this.connection.sendRequest(dr.RegistrationRequest.type,s).then(a=>dr.Disposable.create(()=>{this.unregisterSingle(i,n).catch(()=>{this.connection.console.info(`Un-registering capability with id ${i} failed.`)})}),a=>(this.connection.console.info(`Registering request handler for ${n} failed.`),Promise.reject(a)))}unregisterSingle(t,r){let n={unregisterations:[{id:t,method:r}]};return this.connection.sendRequest(dr.UnregistrationRequest.type,n).catch(()=>{this.connection.console.info(`Un-registering request handler for ${t} failed.`)})}registerMany(t){let r=t.asRegistrationParams();return this.connection.sendRequest(dr.RegistrationRequest.type,r).then(()=>new X7(this._connection,r.registrations.map(n=>({id:n.id,method:n.method}))),n=>(this.connection.console.info("Bulk registration failed."),Promise.reject(n)))}},XK=class{static{o(this,"_RemoteWorkspaceImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}applyEdit(t){function r(i){return i&&!!i.edit}o(r,"isApplyWorkspaceEditParams");let n=r(t)?t:{edit:t};return this.connection.sendRequest(dr.ApplyWorkspaceEditRequest.type,n)}},t3e=(0,rot.FileOperationsFeature)((0,Xit.WorkspaceFoldersFeature)((0,Jit.ConfigurationFeature)(XK))),UN=class{static{o(this,"TracerImpl")}constructor(){this._trace=dr.Trace.Off}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}set trace(t){this._trace=t}log(t,r){this._trace!==dr.Trace.Off&&this.connection.sendNotification(dr.LogTraceNotification.type,{message:t,verbose:this._trace===dr.Trace.Verbose?r:void 0}).catch(()=>{})}},qN=class{static{o(this,"TelemetryImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}logEvent(t){this.connection.sendNotification(dr.TelemetryEventNotification.type,t).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}},GN=class{static{o(this,"_LanguagesImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,Qn.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,r){return(0,Qn.attachPartialResult)(this.connection,r)}};Zi._LanguagesImpl=GN;var r3e=(0,sot.FoldingRangeFeature)((0,uot.MonikerFeature)((0,lot.DiagnosticFeature)((0,aot.InlayHintFeature)((0,oot.InlineValueFeature)((0,iot.TypeHierarchyFeature)((0,not.LinkedEditingRangeFeature)((0,eot.SemanticTokensFeature)((0,Zit.CallHierarchyFeature)(GN))))))))),WN=class{static{o(this,"_NotebooksImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,Qn.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,r){return(0,Qn.attachPartialResult)(this.connection,r)}};Zi._NotebooksImpl=WN;var n3e=(0,cot.NotebookSyncFeature)(WN);function i3e(e,t){return function(r){return t(e(r))}}o(i3e,"combineConsoleFeatures");Zi.combineConsoleFeatures=i3e;function o3e(e,t){return function(r){return t(e(r))}}o(o3e,"combineTelemetryFeatures");Zi.combineTelemetryFeatures=o3e;function s3e(e,t){return function(r){return t(e(r))}}o(s3e,"combineTracerFeatures");Zi.combineTracerFeatures=s3e;function a3e(e,t){return function(r){return t(e(r))}}o(a3e,"combineClientFeatures");Zi.combineClientFeatures=a3e;function l3e(e,t){return function(r){return t(e(r))}}o(l3e,"combineWindowFeatures");Zi.combineWindowFeatures=l3e;function c3e(e,t){return function(r){return t(e(r))}}o(c3e,"combineWorkspaceFeatures");Zi.combineWorkspaceFeatures=c3e;function u3e(e,t){return function(r){return t(e(r))}}o(u3e,"combineLanguagesFeatures");Zi.combineLanguagesFeatures=u3e;function f3e(e,t){return function(r){return t(e(r))}}o(f3e,"combineNotebooksFeatures");Zi.combineNotebooksFeatures=f3e;function fot(e,t){function r(i,s,a){return i&&s?a(i,s):i||s}return o(r,"combine"),{__brand:"features",console:r(e.console,t.console,i3e),tracer:r(e.tracer,t.tracer,s3e),telemetry:r(e.telemetry,t.telemetry,o3e),client:r(e.client,t.client,a3e),window:r(e.window,t.window,l3e),workspace:r(e.workspace,t.workspace,c3e),languages:r(e.languages,t.languages,u3e),notebooks:r(e.notebooks,t.notebooks,f3e)}}o(fot,"combineFeatures");Zi.combineFeatures=fot;function dot(e,t,r){let n=r&&r.console?new(r.console(QN)):new QN,i=e(n);n.rawAttach(i);let s=r&&r.tracer?new(r.tracer(UN)):new UN,a=r&&r.telemetry?new(r.telemetry(qN)):new qN,l=r&&r.client?new(r.client(ON)):new ON,c=r&&r.window?new(r.window(Xye)):new Xye,u=r&&r.workspace?new(r.workspace(t3e)):new t3e,f=r&&r.languages?new(r.languages(r3e)):new r3e,m=r&&r.notebooks?new(r.notebooks(n3e)):new n3e,h=[n,s,a,l,c,u,f,m];function p(v){return v instanceof Promise?v:Hf.thenable(v)?new Promise((S,k)=>{v.then(P=>S(P),P=>k(P))}):Promise.resolve(v)}o(p,"asPromise");let A,E,x,b={listen:o(()=>i.listen(),"listen"),sendRequest:o((v,...S)=>i.sendRequest(Hf.string(v)?v:v.method,...S),"sendRequest"),onRequest:o((v,S)=>i.onRequest(v,S),"onRequest"),sendNotification:o((v,S)=>{let k=Hf.string(v)?v:v.method;return i.sendNotification(k,S)},"sendNotification"),onNotification:o((v,S)=>i.onNotification(v,S),"onNotification"),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:o(v=>(E=v,{dispose:o(()=>{E=void 0},"dispose")}),"onInitialize"),onInitialized:o(v=>i.onNotification(dr.InitializedNotification.type,v),"onInitialized"),onShutdown:o(v=>(A=v,{dispose:o(()=>{A=void 0},"dispose")}),"onShutdown"),onExit:o(v=>(x=v,{dispose:o(()=>{x=void 0},"dispose")}),"onExit"),get console(){return n},get telemetry(){return a},get tracer(){return s},get client(){return l},get window(){return c},get workspace(){return u},get languages(){return f},get notebooks(){return m},onDidChangeConfiguration:o(v=>i.onNotification(dr.DidChangeConfigurationNotification.type,v),"onDidChangeConfiguration"),onDidChangeWatchedFiles:o(v=>i.onNotification(dr.DidChangeWatchedFilesNotification.type,v),"onDidChangeWatchedFiles"),__textDocumentSync:void 0,onDidOpenTextDocument:o(v=>i.onNotification(dr.DidOpenTextDocumentNotification.type,v),"onDidOpenTextDocument"),onDidChangeTextDocument:o(v=>i.onNotification(dr.DidChangeTextDocumentNotification.type,v),"onDidChangeTextDocument"),onDidCloseTextDocument:o(v=>i.onNotification(dr.DidCloseTextDocumentNotification.type,v),"onDidCloseTextDocument"),onWillSaveTextDocument:o(v=>i.onNotification(dr.WillSaveTextDocumentNotification.type,v),"onWillSaveTextDocument"),onWillSaveTextDocumentWaitUntil:o(v=>i.onRequest(dr.WillSaveTextDocumentWaitUntilRequest.type,v),"onWillSaveTextDocumentWaitUntil"),onDidSaveTextDocument:o(v=>i.onNotification(dr.DidSaveTextDocumentNotification.type,v),"onDidSaveTextDocument"),sendDiagnostics:o(v=>i.sendNotification(dr.PublishDiagnosticsNotification.type,v),"sendDiagnostics"),onHover:o(v=>i.onRequest(dr.HoverRequest.type,(S,k)=>v(S,k,(0,Qn.attachWorkDone)(i,S),void 0)),"onHover"),onCompletion:o(v=>i.onRequest(dr.CompletionRequest.type,(S,k)=>v(S,k,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onCompletion"),onCompletionResolve:o(v=>i.onRequest(dr.CompletionResolveRequest.type,v),"onCompletionResolve"),onSignatureHelp:o(v=>i.onRequest(dr.SignatureHelpRequest.type,(S,k)=>v(S,k,(0,Qn.attachWorkDone)(i,S),void 0)),"onSignatureHelp"),onDeclaration:o(v=>i.onRequest(dr.DeclarationRequest.type,(S,k)=>v(S,k,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onDeclaration"),onDefinition:o(v=>i.onRequest(dr.DefinitionRequest.type,(S,k)=>v(S,k,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onDefinition"),onTypeDefinition:o(v=>i.onRequest(dr.TypeDefinitionRequest.type,(S,k)=>v(S,k,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onTypeDefinition"),onImplementation:o(v=>i.onRequest(dr.ImplementationRequest.type,(S,k)=>v(S,k,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onImplementation"),onReferences:o(v=>i.onRequest(dr.ReferencesRequest.type,(S,k)=>v(S,k,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onReferences"),onDocumentHighlight:o(v=>i.onRequest(dr.DocumentHighlightRequest.type,(S,k)=>v(S,k,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onDocumentHighlight"),onDocumentSymbol:o(v=>i.onRequest(dr.DocumentSymbolRequest.type,(S,k)=>v(S,k,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onDocumentSymbol"),onWorkspaceSymbol:o(v=>i.onRequest(dr.WorkspaceSymbolRequest.type,(S,k)=>v(S,k,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onWorkspaceSymbol"),onWorkspaceSymbolResolve:o(v=>i.onRequest(dr.WorkspaceSymbolResolveRequest.type,v),"onWorkspaceSymbolResolve"),onCodeAction:o(v=>i.onRequest(dr.CodeActionRequest.type,(S,k)=>v(S,k,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onCodeAction"),onCodeActionResolve:o(v=>i.onRequest(dr.CodeActionResolveRequest.type,(S,k)=>v(S,k)),"onCodeActionResolve"),onCodeLens:o(v=>i.onRequest(dr.CodeLensRequest.type,(S,k)=>v(S,k,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onCodeLens"),onCodeLensResolve:o(v=>i.onRequest(dr.CodeLensResolveRequest.type,(S,k)=>v(S,k)),"onCodeLensResolve"),onDocumentFormatting:o(v=>i.onRequest(dr.DocumentFormattingRequest.type,(S,k)=>v(S,k,(0,Qn.attachWorkDone)(i,S),void 0)),"onDocumentFormatting"),onDocumentRangeFormatting:o(v=>i.onRequest(dr.DocumentRangeFormattingRequest.type,(S,k)=>v(S,k,(0,Qn.attachWorkDone)(i,S),void 0)),"onDocumentRangeFormatting"),onDocumentOnTypeFormatting:o(v=>i.onRequest(dr.DocumentOnTypeFormattingRequest.type,(S,k)=>v(S,k)),"onDocumentOnTypeFormatting"),onRenameRequest:o(v=>i.onRequest(dr.RenameRequest.type,(S,k)=>v(S,k,(0,Qn.attachWorkDone)(i,S),void 0)),"onRenameRequest"),onPrepareRename:o(v=>i.onRequest(dr.PrepareRenameRequest.type,(S,k)=>v(S,k)),"onPrepareRename"),onDocumentLinks:o(v=>i.onRequest(dr.DocumentLinkRequest.type,(S,k)=>v(S,k,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onDocumentLinks"),onDocumentLinkResolve:o(v=>i.onRequest(dr.DocumentLinkResolveRequest.type,(S,k)=>v(S,k)),"onDocumentLinkResolve"),onDocumentColor:o(v=>i.onRequest(dr.DocumentColorRequest.type,(S,k)=>v(S,k,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onDocumentColor"),onColorPresentation:o(v=>i.onRequest(dr.ColorPresentationRequest.type,(S,k)=>v(S,k,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onColorPresentation"),onFoldingRanges:o(v=>i.onRequest(dr.FoldingRangeRequest.type,(S,k)=>v(S,k,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onFoldingRanges"),onSelectionRanges:o(v=>i.onRequest(dr.SelectionRangeRequest.type,(S,k)=>v(S,k,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onSelectionRanges"),onExecuteCommand:o(v=>i.onRequest(dr.ExecuteCommandRequest.type,(S,k)=>v(S,k,(0,Qn.attachWorkDone)(i,S),void 0)),"onExecuteCommand"),dispose:o(()=>i.dispose(),"dispose")};for(let v of h)v.attach(b);return i.onRequest(dr.InitializeRequest.type,v=>{t.initialize(v),Hf.string(v.trace)&&(s.trace=dr.Trace.fromString(v.trace));for(let S of h)S.initialize(v.capabilities);if(E){let S=E(v,new dr.CancellationTokenSource().token,(0,Qn.attachWorkDone)(i,v),void 0);return p(S).then(k=>{if(k instanceof dr.ResponseError)return k;let P=k;P||(P={capabilities:{}});let N=P.capabilities;N||(N={},P.capabilities=N),N.textDocumentSync===void 0||N.textDocumentSync===null?N.textDocumentSync=Hf.number(b.__textDocumentSync)?b.__textDocumentSync:dr.TextDocumentSyncKind.None:!Hf.number(N.textDocumentSync)&&!Hf.number(N.textDocumentSync.change)&&(N.textDocumentSync.change=Hf.number(b.__textDocumentSync)?b.__textDocumentSync:dr.TextDocumentSyncKind.None);for(let W of h)W.fillServerCapabilities(N);return P})}else{let S={capabilities:{textDocumentSync:dr.TextDocumentSyncKind.None}};for(let k of h)k.fillServerCapabilities(S.capabilities);return S}}),i.onRequest(dr.ShutdownRequest.type,()=>{if(t.shutdownReceived=!0,A)return A(new dr.CancellationTokenSource().token)}),i.onNotification(dr.ExitNotification.type,()=>{try{x&&x()}finally{t.shutdownReceived?t.exit(0):t.exit(1)}}),i.onNotification(dr.SetTraceNotification.type,v=>{s.trace=dr.Trace.fromString(v.value)}),b}o(dot,"createConnection");Zi.createConnection=dot});var d3e=V(Tc=>{"use strict";d();Object.defineProperty(Tc,"__esModule",{value:!0});Tc.resolveModulePath=Tc.FileSystem=Tc.resolveGlobalYarnPath=Tc.resolveGlobalNodePath=Tc.resolve=Tc.uriToFilePath=void 0;var mot=require("url"),vm=require("path"),eJ=require("fs"),iJ=require("child_process");function hot(e){let t=mot.parse(e);if(t.protocol!=="file:"||!t.path)return;let r=t.path.split("/");for(var n=0,i=r.length;n<i;n++)r[n]=decodeURIComponent(r[n]);if(process.platform==="win32"&&r.length>1){let s=r[0],a=r[1];s.length===0&&a.length>1&&a[1]===":"&&r.shift()}return vm.normalize(r.join("/"))}o(hot,"uriToFilePath");Tc.uriToFilePath=hot;function tJ(){return process.platform==="win32"}o(tJ,"isWindows");function HN(e,t,r,n){let i="NODE_PATH",s=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((a,l)=>{let c=process.env,u=Object.create(null);Object.keys(c).forEach(f=>u[f]=c[f]),t&&eJ.existsSync(t)&&(u[i]?u[i]=t+vm.delimiter+u[i]:u[i]=t,n&&n(`NODE_PATH value is: ${u[i]}`)),u.ELECTRON_RUN_AS_NODE="1";try{let f=(0,iJ.fork)("",[],{cwd:r,env:u,execArgv:["-e",s]});if(f.pid===void 0){l(new Error(`Starting process to resolve node module  ${e} failed`));return}f.on("error",h=>{l(h)}),f.on("message",h=>{h.c==="r"&&(f.send({c:"e"}),h.s?a(h.r):l(new Error(`Failed to resolve module: ${e}`)))});let m={c:"rs",a:e};f.send(m)}catch(f){l(f)}})}o(HN,"resolve");Tc.resolve=HN;function rJ(e){let t="npm",r=Object.create(null);Object.keys(process.env).forEach(s=>r[s]=process.env[s]),r.NO_UPDATE_NOTIFIER="true";let n={encoding:"utf8",env:r};tJ()&&(t="npm.cmd",n.shell=!0);let i=o(()=>{},"handler");try{process.on("SIGPIPE",i);let s=(0,iJ.spawnSync)(t,["config","get","prefix"],n).stdout;if(!s){e&&e("'npm config get prefix' didn't return a value.");return}let a=s.trim();return e&&e(`'npm config get prefix' value is: ${a}`),a.length>0?tJ()?vm.join(a,"node_modules"):vm.join(a,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",i)}}o(rJ,"resolveGlobalNodePath");Tc.resolveGlobalNodePath=rJ;function pot(e){let t="yarn",r={encoding:"utf8"};tJ()&&(t="yarn.cmd",r.shell=!0);let n=o(()=>{},"handler");try{process.on("SIGPIPE",n);let i=(0,iJ.spawnSync)(t,["global","dir","--json"],r),s=i.stdout;if(!s){e&&(e("'yarn global dir' didn't return a value."),i.stderr&&e(i.stderr));return}let a=s.trim().split(/\r?\n/);for(let l of a)try{let c=JSON.parse(l);if(c.type==="log")return vm.join(c.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",n)}}o(pot,"resolveGlobalYarnPath");Tc.resolveGlobalYarnPath=pot;var nJ;(function(e){let t;function r(){return t!==void 0||(process.platform==="win32"?t=!1:t=!eJ.existsSync(__filename.toUpperCase())||!eJ.existsSync(__filename.toLowerCase())),t}o(r,"isCaseSensitive"),e.isCaseSensitive=r;function n(i,s){return r()?vm.normalize(s).indexOf(vm.normalize(i))===0:vm.normalize(s).toLowerCase().indexOf(vm.normalize(i).toLowerCase())===0}o(n,"isParent"),e.isParent=n})(nJ||(Tc.FileSystem=nJ={}));function got(e,t,r,n){return r?(vm.isAbsolute(r)||(r=vm.join(e,r)),HN(t,r,r,n).then(i=>nJ.isParent(r,i)?i:Promise.reject(new Error(`Failed to load ${t} from node path location.`))).then(void 0,i=>HN(t,rJ(n),e,n))):HN(t,rJ(n),e,n)}o(got,"resolveModulePath");Tc.resolveModulePath=got});var oJ=V((kgr,m3e)=>{"use strict";d();m3e.exports=Ii()});var h3e=V(VN=>{"use strict";d();Object.defineProperty(VN,"__esModule",{value:!0});VN.InlineCompletionFeature=void 0;var Aot=Ii(),yot=o(e=>class extends e{get inlineCompletion(){return{on:o(t=>this.connection.onRequest(Aot.InlineCompletionRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r))),"on")}}},"InlineCompletionFeature");VN.InlineCompletionFeature=yot});var A3e=V(h0=>{"use strict";d();var Cot=h0&&h0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),g3e=h0&&h0.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Cot(t,e,r)};Object.defineProperty(h0,"__esModule",{value:!0});h0.ProposedFeatures=h0.NotebookDocuments=h0.TextDocuments=h0.SemanticTokensBuilder=void 0;var Eot=qK();Object.defineProperty(h0,"SemanticTokensBuilder",{enumerable:!0,get:o(function(){return Eot.SemanticTokensBuilder},"get")});var xot=h3e();g3e(Ii(),h0);var vot=VK();Object.defineProperty(h0,"TextDocuments",{enumerable:!0,get:o(function(){return vot.TextDocuments},"get")});var bot=$K();Object.defineProperty(h0,"NotebookDocuments",{enumerable:!0,get:o(function(){return bot.NotebookDocuments},"get")});g3e(ZK(),h0);var p3e;(function(e){e.all={__brand:"features",languages:xot.InlineCompletionFeature}})(p3e||(h0.ProposedFeatures=p3e={}))});var F0=V(Vf=>{"use strict";d();var Iot=Vf&&Vf.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),x3e=Vf&&Vf.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Iot(t,e,r)};Object.defineProperty(Vf,"__esModule",{value:!0});Vf.createConnection=Vf.Files=void 0;var y3e=require("node:util"),sJ=AN(),Tot=ZK(),Z7=d3e(),_C=oJ();x3e(oJ(),Vf);x3e(A3e(),Vf);var C3e;(function(e){e.uriToFilePath=Z7.uriToFilePath,e.resolveGlobalNodePath=Z7.resolveGlobalNodePath,e.resolveGlobalYarnPath=Z7.resolveGlobalYarnPath,e.resolve=Z7.resolve,e.resolveModulePath=Z7.resolveModulePath})(C3e||(Vf.Files=C3e={}));var E3e;function jN(){if(E3e!==void 0)try{E3e.end()}catch{}}o(jN,"endProtocolConnection");var fb=!1,v3e;function wot(){let e="--clientProcessId";function t(r){try{let n=parseInt(r);isNaN(n)||(v3e=setInterval(()=>{try{process.kill(n,0)}catch{jN(),process.exit(fb?0:1)}},3e3))}catch{}}o(t,"runTimer");for(let r=2;r<process.argv.length;r++){let n=process.argv[r];if(n===e&&r+1<process.argv.length){t(process.argv[r+1]);return}else{let i=n.split("=");i[0]===e&&t(i[1])}}}o(wot,"setupExitTimer");wot();var _ot={initialize:o(e=>{let t=e.processId;sJ.number(t)&&v3e===void 0&&setInterval(()=>{try{process.kill(t,0)}catch{process.exit(fb?0:1)}},3e3)},"initialize"),get shutdownReceived(){return fb},set shutdownReceived(e){fb=e},exit:o(e=>{jN(),process.exit(e)},"exit")};function Sot(e,t,r,n){let i,s,a,l;return e!==void 0&&e.__brand==="features"&&(i=e,e=t,t=r,r=n),_C.ConnectionStrategy.is(e)||_C.ConnectionOptions.is(e)?l=e:(s=e,a=t,l=r),Bot(s,a,l,i)}o(Sot,"createConnection");Vf.createConnection=Sot;function Bot(e,t,r,n){let i=!1;if(!e&&!t&&process.argv.length>2){let c,u,f=process.argv.slice(2);for(let m=0;m<f.length;m++){let h=f[m];if(h==="--node-ipc"){e=new _C.IPCMessageReader(process),t=new _C.IPCMessageWriter(process);break}else if(h==="--stdio"){i=!0,e=process.stdin,t=process.stdout;break}else if(h==="--socket"){c=parseInt(f[m+1]);break}else if(h==="--pipe"){u=f[m+1];break}else{var s=h.split("=");if(s[0]==="--socket"){c=parseInt(s[1]);break}else if(s[0]==="--pipe"){u=s[1];break}}}if(c){let m=(0,_C.createServerSocketTransport)(c);e=m[0],t=m[1]}else if(u){let m=(0,_C.createServerPipeTransport)(u);e=m[0],t=m[1]}}var a="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!e)throw new Error("Connection input stream is not set. "+a);if(!t)throw new Error("Connection output stream is not set. "+a);if(sJ.func(e.read)&&sJ.func(e.on)){let c=e;c.on("end",()=>{jN(),process.exit(fb?0:1)}),c.on("close",()=>{jN(),process.exit(fb?0:1)})}let l=o(c=>{let u=(0,_C.createProtocolConnection)(e,t,c,r);return i&&kot(c),u},"connectionFactory");return(0,Tot.createConnection)(l,_ot,n)}o(Bot,"_createConnection");function kot(e){function t(n){return n.map(i=>typeof i=="string"?i:(0,y3e.inspect)(i)).join(" ")}o(t,"serialize");let r=new Map;console.assert=o(function(i,...s){if(!i)if(s.length===0)e.error("Assertion failed");else{let[a,...l]=s;e.error(`Assertion failed: ${a} ${t(l)}`)}},"assert"),console.count=o(function(i="default"){let s=String(i),a=r.get(s)??0;a+=1,r.set(s,a),e.log(`${s}: ${s}`)},"count"),console.countReset=o(function(i){i===void 0?r.clear():r.delete(String(i))},"countReset"),console.debug=o(function(...i){e.log(t(i))},"debug"),console.dir=o(function(i,s){e.log((0,y3e.inspect)(i,s))},"dir"),console.log=o(function(...i){e.log(t(i))},"log"),console.error=o(function(...i){e.error(t(i))},"error"),console.trace=o(function(...i){let s=new Error().stack.replace(/(.+\n){2}/,""),a="Trace";i.length!==0&&(a+=`: ${t(i)}`),e.log(`${a}
${s}`)},"trace"),console.warn=o(function(...i){e.warn(t(i))},"warn")}o(kot,"patchConsole")});var i1=V((Ggr,b3e)=>{"use strict";d();b3e.exports=F0()});var gEe=V((l4r,pEe)=>{"use strict";d();pEe.exports=mEe;function mEe(e,t,r){e instanceof RegExp&&(e=dEe(e,r)),t instanceof RegExp&&(t=dEe(t,r));var n=hEe(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}o(mEe,"balanced");function dEe(e,t){var r=t.match(e);return r?r[0]:null}o(dEe,"maybeMatch");mEe.range=hEe;function hEe(e,t,r){var n,i,s,a,l,c=r.indexOf(e),u=r.indexOf(t,c+1),f=c;if(c>=0&&u>0){if(e===t)return[c,u];for(n=[],s=r.length;f>=0&&!l;)f==c?(n.push(f),c=r.indexOf(e,f+1)):n.length==1?l=[n.pop(),u]:(i=n.pop(),i<s&&(s=i,a=u),u=r.indexOf(t,f+1)),f=c<u&&c>=0?c:u;n.length&&(l=[s,a])}return l}o(hEe,"range")});var IEe=V((f4r,bEe)=>{d();var AEe=gEe();bEe.exports=Mst;var yEe="\0SLASH"+Math.random()+"\0",CEe="\0OPEN"+Math.random()+"\0",yX="\0CLOSE"+Math.random()+"\0",EEe="\0COMMA"+Math.random()+"\0",xEe="\0PERIOD"+Math.random()+"\0";function AX(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}o(AX,"numeric");function Lst(e){return e.split("\\\\").join(yEe).split("\\{").join(CEe).split("\\}").join(yX).split("\\,").join(EEe).split("\\.").join(xEe)}o(Lst,"escapeBraces");function Qst(e){return e.split(yEe).join("\\").split(CEe).join("{").split(yX).join("}").split(EEe).join(",").split(xEe).join(".")}o(Qst,"unescapeBraces");function vEe(e){if(!e)return[""];var t=[],r=AEe("{","}",e);if(!r)return e.split(",");var n=r.pre,i=r.body,s=r.post,a=n.split(",");a[a.length-1]+="{"+i+"}";var l=vEe(s);return s.length&&(a[a.length-1]+=l.shift(),a.push.apply(a,l)),t.push.apply(t,a),t}o(vEe,"parseCommaParts");function Mst(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),ET(Lst(e),!0).map(Qst)):[]}o(Mst,"expandTop");function Ost(e){return"{"+e+"}"}o(Ost,"embrace");function Ust(e){return/^-?0\d/.test(e)}o(Ust,"isPadded");function qst(e,t){return e<=t}o(qst,"lte");function Gst(e,t){return e>=t}o(Gst,"gte");function ET(e,t){var r=[],n=AEe("{","}",e);if(!n)return[e];var i=n.pre,s=n.post.length?ET(n.post,!1):[""];if(/\$$/.test(n.pre))for(var a=0;a<s.length;a++){var l=i+"{"+n.body+"}"+s[a];r.push(l)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),f=c||u,m=n.body.indexOf(",")>=0;if(!f&&!m)return n.post.match(/,.*\}/)?(e=n.pre+"{"+n.body+yX+n.post,ET(e)):[e];var h;if(f)h=n.body.split(/\.\./);else if(h=vEe(n.body),h.length===1&&(h=ET(h[0],!1).map(Ost),h.length===1))return s.map(function(te){return n.pre+h[0]+te});var p;if(f){var A=AX(h[0]),E=AX(h[1]),x=Math.max(h[0].length,h[1].length),b=h.length==3?Math.abs(AX(h[2])):1,v=qst,S=E<A;S&&(b*=-1,v=Gst);var k=h.some(Ust);p=[];for(var P=A;v(P,E);P+=b){var N;if(u)N=String.fromCharCode(P),N==="\\"&&(N="");else if(N=String(P),k){var W=x-N.length;if(W>0){var re=new Array(W+1).join("0");P<0?N="-"+re+N.slice(1):N=re+N}}p.push(N)}}else{p=[];for(var ge=0;ge<h.length;ge++)p.push.apply(p,ET(h[ge],!1))}for(var ge=0;ge<p.length;ge++)for(var a=0;a<s.length;a++){var l=i+p[ge]+s[a];(!t||f||l)&&r.push(l)}}return r}o(ET,"expand")});var Db=V(sp=>{"use strict";d();Object.defineProperty(sp,"__esModule",{value:!0});sp.BaseTokensPerName=sp.BaseTokensPerMessage=sp.BaseTokensPerCompletion=sp.ChatRole=void 0;var txe;(function(e){e.System="system",e.User="user",e.Assistant="assistant",e.Function="function",e.Tool="tool"})(txe||(sp.ChatRole=txe={}));sp.BaseTokensPerCompletion=3;sp.BaseTokensPerMessage=3;sp.BaseTokensPerName=1});var rxe=V(BX=>{"use strict";d();Object.defineProperty(BX,"__esModule",{value:!0});BX.once=Wat;function Wat(e){let t,r=!1,n=o((...i)=>(r||(t=e(...i),r=!0),t),"wrappedFunction");return n.clear=()=>{r=!1},n}o(Wat,"once")});var PX=V(ap=>{"use strict";d();Object.defineProperty(ap,"__esModule",{value:!0});ap.MaterializedChatMessageImage=ap.MaterializedChatMessage=ap.MaterializedChatMessageTextChunk=ap.MaterializedContainer=void 0;var Pb=rxe(),$C=Db(),C5=class e{static{o(this,"MaterializedContainer")}parent;id;name;priority;metadata;flags;children;keepWithId;constructor(t,r,n,i,s,a,l){if(this.parent=t,this.id=r,this.name=n,this.priority=i,this.metadata=a,this.flags=l,this.children=s(this),l&8){if(this.children.length!==2)throw new Error("Invalid number of children for EmptyAlternate flag");let[c,u]=this.children;u.isEmpty?this.children=[c]:this.children=[u]}}has(t){return!!(this.flags&t)}async tokenCount(t){let r=0;return await Promise.all(this.children.map(async n=>{let i=YC(n)?await n.tokenCount(t):await n.upperBoundTokenCount(t);r+=i})),r}async upperBoundTokenCount(t){let r=0;return await Promise.all(this.children.map(async n=>{let i=await n.upperBoundTokenCount(t);r+=i})),r}replaceNode(t,r){return lxe(t,this.children,r)}allMetadata(){return axe(this)}findById(t){return DX(t,this)}get isEmpty(){return!this.children.some(t=>!t.isEmpty)}onChunksChange(){this.parent?.onChunksChange()}*toChatMessages(){for(let t of this.children)Hat(t),t instanceof e?yield*t.toChatMessages():!t.isEmpty&&t instanceof Nb&&(yield t.toChatMessage())}removeLowestPriorityChild(){let t=[];return RX(this,t),t}};ap.MaterializedContainer=C5;var zC=class{static{o(this,"MaterializedChatMessageTextChunk")}parent;text;priority;metadata;lineBreakBefore;constructor(t,r,n,i=[],s){this.parent=t,this.text=r,this.priority=n,this.metadata=i,this.lineBreakBefore=s}upperBoundTokenCount(t){return this._upperBound(t)}_upperBound=(0,Pb.once)(async t=>await t.tokenLength(this.text)+(this.lineBreakBefore!==0?1:0));get isEmpty(){return!/\S/.test(this.text)}};ap.MaterializedChatMessageTextChunk=zC;var Nb=class{static{o(this,"MaterializedChatMessage")}parent;id;role;name;toolCalls;toolCallId;priority;metadata;children;constructor(t,r,n,i,s,a,l,c,u){this.parent=t,this.id=r,this.role=n,this.name=i,this.toolCalls=s,this.toolCallId=a,this.priority=l,this.metadata=c,this.children=u(this)}async tokenCount(t){return this._tokenCount(t)}async upperBoundTokenCount(t){return this._upperBound(t)}get text(){return this._text()}get isEmpty(){return!this.toolCalls?.length&&!this.children.some(t=>!t.isEmpty)}replaceNode(t,r){let n=lxe(t,this.children,r);return n&&this.onChunksChange(),n}removeLowestPriorityChild(){let t=[];return RX(this,t),t}onChunksChange(){this._tokenCount.clear(),this._upperBound.clear(),this._text.clear(),this.parent?.onChunksChange()}findById(t){return DX(t,this)}_tokenCount=(0,Pb.once)(async t=>t.countMessageTokens(this.toChatMessage()));_upperBound=(0,Pb.once)(async t=>{let r=await this._baseMessageTokenCount(t);return await Promise.all(this.children.map(async n=>{let i=await n.upperBoundTokenCount(t);r+=i})),r});_baseMessageTokenCount=(0,Pb.once)(t=>t.countMessageTokens({...this.toChatMessage(),content:""}));_text=(0,Pb.once)(()=>{let t=[];for(let{text:r,isTextSibling:n}of sxe(this)){if(r instanceof _m){t.push(r);continue}if(r.lineBreakBefore===1||r.lineBreakBefore===2&&!n){let i=t[t.length-1];typeof i=="string"&&!i.endsWith(`
`)&&(t[t.length-1]=i+`
`)}typeof t[t.length-1]=="string"?t[t.length-1]+=r.text:t.push(r.text)}return t});toChatMessage(){let t=this.text.filter(r=>typeof r=="string").join("").trim();if(this.text.some(r=>r instanceof _m)){if(this.role!==$C.ChatRole.User)throw new Error("Only User messages can have images");let r=this.text.map(n=>{if(typeof n=="string")return{type:"text",text:n};if(n instanceof _m)return{type:"image_url",image_url:{url:cxe(n.src),detail:n.detail}};throw new Error("Unexpected element type")});return{role:$C.ChatRole.User,content:r}}if(this.role===$C.ChatRole.System)return{role:this.role,content:t,...this.name?{name:this.name}:{}};if(this.role===$C.ChatRole.Assistant){let r={role:this.role,content:t};return this.name&&(r.name=this.name),this.toolCalls?.length&&(r.tool_calls=this.toolCalls.map(n=>({function:n.function,id:n.id,type:n.type}))),r}else return this.role===$C.ChatRole.User?{role:this.role,content:t,...this.name?{name:this.name}:{}}:this.role===$C.ChatRole.Tool?{role:this.role,content:t,tool_call_id:this.toolCallId}:{role:this.role,content:t,name:this.name}}};ap.MaterializedChatMessage=Nb;var _m=class{static{o(this,"MaterializedChatMessageImage")}parent;id;src;priority;metadata;lineBreakBefore;detail;constructor(t,r,n,i,s=[],a,l){this.parent=t,this.id=r,this.src=n,this.priority=i,this.metadata=s,this.lineBreakBefore=a,this.detail=l}upperBoundTokenCount(t){return this._upperBound(t)}_upperBound=(0,Pb.once)(async t=>await t.countMessageTokens({role:$C.ChatRole.User,content:[{type:"image_url",image_url:{url:cxe(this.src),detail:this.detail}}]}));isEmpty=!1};ap.MaterializedChatMessageImage=_m;function YC(e){return!(e instanceof zC||e instanceof _m)}o(YC,"isContainerType");function Hat(e){if(!(e instanceof C5)&&!(e instanceof Nb)&&!(e instanceof _m))throw new Error(`Cannot have a text node outside a ChatMessage. Text: "${e.text}"`)}o(Hat,"assertContainerOrChatMessage");function*sxe(e,t=!1){for(let r of e.children)r instanceof zC?(yield{text:r,isTextSibling:t},t=!0):r instanceof _m?yield{text:r,isTextSibling:!1}:(r&&(yield*sxe(r,t)),t=!1)}o(sxe,"textChunks");function Vat(e,t){let r;function n(i,s){if(i instanceof zC||i instanceof _m)(!r||i.priority<r.node.priority)&&(r={chain:s.slice(),node:i});else{s.push(i);for(let a of i.children)n(a,s);s.pop()}}if(o(n,"findLowestInTree"),n(e,[]),!r)throw new Error("No lowest priority node found");IT(r.node,t)}o(Vat,"removeLowestPriorityLegacy");function RX(e,t){let r;if(e instanceof C5&&e.has(1)){Vat(e,t);return}let n=e.children.map((i,s)=>({chain:[e],index:s}));for(let i=0;i<n.length;i++){let{chain:s,index:a}=n[i],l=s[s.length-1].children[a];if(l instanceof C5&&l.has(4)){let c=[...s,l];n.splice(i+1,0,...l.children.map((u,f)=>({chain:c,index:f})))}else if(!r||l.priority<r.value.priority)r={chain:s,index:a,value:l};else if(l.priority===r.value.priority){r.lowestNested??=nxe(r.value);let c=nxe(l);c<r.lowestNested&&(r={chain:s,index:a,value:l,lowestNested:c})}}if(!r)throw new Error("No lowest priority node found");r.value instanceof zC||r.value instanceof _m||r.value instanceof C5&&r.value.has(2)||YC(r.value)&&!r.value.children.length?IT(r.value,t):RX(r.value,t)}o(RX,"removeLowestPriorityChild");function nxe(e){if(!YC(e))return-1;let t=Number.MAX_SAFE_INTEGER;for(let r of e.children)t=Math.min(t,r.priority);return t}o(nxe,"getLowestPriorityAmongChildren");function*axe(e){yield*e.metadata;for(let t of e.children)YC(t)?yield*axe(t):yield*t.metadata}o(axe,"allMetadata");function lxe(e,t,r){for(let n=0;n<t.length;n++){let i=t[n];if(YC(i)){if(i.id===e){let a=t[n];return r.parent=i.parent,t[n]=r,a}let s=i.replaceNode(e,r);if(s)return s}}}o(lxe,"replaceNode");function*ixe(e){let t=[e];for(;t.length>0;){let r=t.pop();yield r,YC(r)&&t.push(...r.children)}}o(ixe,"forEachNode");function jat(e){let t=e;for(;t.parent;)t=t.parent;return t}o(jat,"getRoot");function oxe(e){return e instanceof C5&&e.keepWithId!==void 0}o(oxe,"isKeepWith");var kX=new Set;function $at(e,t){let r=new Set;for(let n of ixe(e))oxe(n)&&!kX.has(n.keepWithId)&&r.add(n.keepWithId);if(r.size===0)return!1;for(let n of r)kX.add(n);try{let n=jat(e);for(let i of ixe(n))oxe(i)&&r.has(i.keepWithId)?IT(i,t):i instanceof Nb&&i.toolCalls&&(i.toolCalls=zat(i.toolCalls,s=>!(s.keepWith&&r.has(s.keepWith.id))),i.isEmpty&&IT(i,t))}finally{for(let n of r)kX.delete(n)}}o($at,"removeOtherKeepWiths");function DX(e,t){if(t.id===e)return t;for(let r of t.children)if(YC(r)){let n=DX(e,r);if(n)return n}}o(DX,"findNodeById");function IT(e,t){let r=e.parent;if(!r)return;let n=r.children.indexOf(e);n!==-1&&(r.children.splice(n,1),t.push(e),$at(e,t),r.isEmpty?IT(r,t):r.onChunksChange())}o(IT,"removeNode");function cxe(e){let t={"/9j/":"image/jpeg",iVBOR:"image/png",R0lGOD:"image/gif",UklGR:"image/webp"};for(let r of Object.keys(t))if(e.startsWith(r))return`data:${t[r]};base64,${e}`;return e}o(cxe,"getEncodedBase64");function zat(e,t){for(let r=0;r<e.length;r++){if(t(e[r]))continue;let n=e.slice(0,r);for(let i=r+1;i<e.length;i++)t(e[i])&&n.push(e[i]);return n}return e}o(zat,"filterIfDifferent")});var fxe=V(()=>{"use strict";d();function Yat(e,t,...r){return{ctor:e,props:t,children:r.flat()}}o(Yat,"_vscpp");function uxe(){throw new Error("This should not be invoked!")}o(uxe,"_vscppf");uxe.isFragment=!0;globalThis.vscpp=Yat;globalThis.vscppf=uxe});var FX=V(oL=>{"use strict";d();Object.defineProperty(oL,"__esModule",{value:!0});oL.PromptElement=void 0;fxe();var NX=class{static{o(this,"PromptElement")}props;get priority(){return this.props.priority??Number.MAX_SAFE_INTEGER}get insertLineBreakBefore(){return!0}constructor(t){this.props=t}};oL.PromptElement=NX});var jX=V(Ti=>{"use strict";d();Object.defineProperty(Ti,"__esModule",{value:!0});Ti.IfEmpty=Ti.AbstractKeepWith=Ti.TokenLimit=Ti.Expandable=Ti.Chunk=Ti.LegacyPrioritization=Ti.ToolResult=Ti.PrioritizedList=Ti.BaseImageMessage=Ti.TextChunk=Ti.ToolMessage=Ti.FunctionMessage=Ti.AssistantMessage=Ti.UserMessage=Ti.SystemMessage=Ti.BaseChatMessage=void 0;Ti.isChatMessagePromptElement=Kat;Ti.useKeepWith=elt;var TT=Db(),lp=FX();function Kat(e){return e instanceof sL||e instanceof aL||e instanceof lL}o(Kat,"isChatMessagePromptElement");var c1=class extends lp.PromptElement{static{o(this,"BaseChatMessage")}render(){return vscpp(vscppf,null,this.props.children)}};Ti.BaseChatMessage=c1;var sL=class extends c1{static{o(this,"SystemMessage")}constructor(t){t.role=TT.ChatRole.System,super(t)}};Ti.SystemMessage=sL;var aL=class extends c1{static{o(this,"UserMessage")}constructor(t){t.role=TT.ChatRole.User,super(t)}};Ti.UserMessage=aL;var lL=class extends c1{static{o(this,"AssistantMessage")}constructor(t){t.role=TT.ChatRole.Assistant,super(t)}};Ti.AssistantMessage=lL;var Jat=/\s+/g,LX=class extends c1{static{o(this,"FunctionMessage")}constructor(t){t.role=TT.ChatRole.Function,super(t)}};Ti.FunctionMessage=LX;var QX=class extends c1{static{o(this,"ToolMessage")}constructor(t){t.role=TT.ChatRole.Tool,super(t)}};Ti.ToolMessage=QX;var cL=class extends lp.PromptElement{static{o(this,"TextChunk")}async prepare(t,r,n){let i=this.props.breakOnWhitespace?Jat:this.props.breakOn;if(!i)return vscpp(vscppf,null,this.props.children);let s="",a=[];for(let c of this.props.children||[])if(c&&typeof c=="object"){if(typeof c.ctor!="string")throw new Error("TextChunk children must be text literals or intrinsic attributes.");c.ctor==="br"?s+=`
`:a.push(c)}else c!=null&&(s+=c);let l=await Xat(t,i,s,n);return vscpp(vscppf,null,a,l)}render(t){return t}};Ti.TextChunk=cL;async function Xat(e,t,r,n){if(t instanceof RegExp){if(!t.global)throw new Error(`\`breakOn\` expression must have the global flag set (got ${t})`);t.lastIndex=0}let i="",s=-1;for(;s<r.length;){let a;typeof t=="string"?a=r.indexOf(t,s===-1?0:s+t.length):a=t.exec(r)?.index??-1,a===-1&&(a=r.length);let l=i+r.slice(Math.max(0,s),a);if(await e.countTokens(l,n)>e.tokenBudget)return i;i=l,s=a}return i}o(Xat,"getTextContentBelowBudget");var MX=class extends c1{static{o(this,"BaseImageMessage")}constructor(t){super(t)}};Ti.BaseImageMessage=MX;var OX=class extends lp.PromptElement{static{o(this,"PrioritizedList")}render(){let{children:t,priority:r=0,descending:n}=this.props;if(t)return vscpp(vscppf,null,t.map((i,s)=>{if(!i)return;let a=n?r-s:r-t.length+s;return typeof i!="object"?vscpp(cL,{priority:a},i):(i.props??={},i.props.priority=a,i)}))}};Ti.PrioritizedList=OX;var UX=class extends lp.PromptElement{static{o(this,"ToolResult")}render(){return vscpp(vscppf,null,this.props.data.content.map(t=>{if(t&&typeof t.value=="string")return t.value;if(t&&t.value&&typeof t.value.node=="object")return vscpp("elementJSON",{data:t.value})}))}};Ti.ToolResult=UX;var qX=class extends lp.PromptElement{static{o(this,"LegacyPrioritization")}render(){return vscpp(vscppf,null,this.props.children)}};Ti.LegacyPrioritization=qX;var GX=class extends lp.PromptElement{static{o(this,"Chunk")}render(){return vscpp(vscppf,null,this.props.children)}};Ti.Chunk=GX;var WX=class extends lp.PromptElement{static{o(this,"Expandable")}async render(t,r){return vscpp(vscppf,null,await this.props.value(r))}};Ti.Expandable=WX;var HX=class extends lp.PromptElement{static{o(this,"TokenLimit")}render(){return vscpp(vscppf,null,this.props.children)}};Ti.TokenLimit=HX;var uL=class extends lp.PromptElement{static{o(this,"AbstractKeepWith")}};Ti.AbstractKeepWith=uL;var Zat=0;function elt(){let e=Zat++;return class extends uL{static{o(this,"KeepWith")}static id=e;id=e;render(){return vscpp(vscppf,null,this.props.children)}}}o(elt,"useKeepWith");var VX=class extends lp.PromptElement{static{o(this,"IfEmpty")}render(){return vscpp(vscppf,null,[this.props.alt,this.props.children])}};Ti.IfEmpty=VX});var mxe=V(wT=>{"use strict";d();Object.defineProperty(wT,"__esModule",{value:!0});wT.localize=tlt;wT.localize2=rlt;wT.getConfiguredDefaultLocale=nlt;function dxe(e,t){let r;return t.length===0?r=e:r=e.replace(/\{(\d+)\}/g,function(n,i){let s=i[0];return typeof t[s]<"u"?t[s]:n}),r}o(dxe,"_format");function tlt(e,t,...r){return dxe(t,r)}o(tlt,"localize");function rlt(e,t,...r){let n=dxe(t,r);return{original:n,value:n}}o(rlt,"localize2");function nlt(e){}o(nlt,"getConfiguredDefaultLocale")});var KX=V(Kt=>{"use strict";d();Object.defineProperty(Kt,"__esModule",{value:!0});Kt.isAndroid=Kt.isEdge=Kt.isSafari=Kt.isFirefox=Kt.isChrome=Kt.OS=Kt.setTimeout0=Kt.setTimeout0IsFaster=Kt.translationsConfigFile=Kt.platformLocale=Kt.locale=Kt.Language=Kt.language=Kt.userAgent=Kt.platform=Kt.isCI=Kt.isMobile=Kt.isIOS=Kt.webWorkerOrigin=Kt.isWebWorker=Kt.isWeb=Kt.isElectron=Kt.isNative=Kt.isLinuxSnap=Kt.isLinux=Kt.isMacintosh=Kt.isWindows=Kt.LANGUAGE_DEFAULT=void 0;Kt.PlatformToString=olt;Kt.isLittleEndian=slt;Kt.isBigSurOrNewer=alt;var hxe=mxe();Kt.LANGUAGE_DEFAULT="en";var BT=!1,kT=!1,ST=!1,yxe=!1,Cxe=!1,zX=!1,Exe=!1,YX=!1,xxe=!1,vxe=!1,_T,fL=Kt.LANGUAGE_DEFAULT,$X=Kt.LANGUAGE_DEFAULT,bxe,u1,f1=globalThis,Pu;typeof f1.vscode<"u"&&typeof f1.vscode.process<"u"?Pu=f1.vscode.process:typeof process<"u"&&(Pu=process);var Ixe=typeof Pu?.versions?.electron=="string",ilt=Ixe&&Pu?.type==="renderer";if(typeof Pu=="object"){BT=Pu.platform==="win32",kT=Pu.platform==="darwin",ST=Pu.platform==="linux",yxe=ST&&!!Pu.env.SNAP&&!!Pu.env.SNAP_REVISION,Exe=Ixe,xxe=!!Pu.env.CI||!!Pu.env.BUILD_ARTIFACTSTAGINGDIRECTORY,_T=Kt.LANGUAGE_DEFAULT,fL=Kt.LANGUAGE_DEFAULT;let e=Pu.env.VSCODE_NLS_CONFIG;if(e)try{let t=JSON.parse(e),r=t.availableLanguages["*"];_T=t.locale,$X=t.osLocale,fL=r||Kt.LANGUAGE_DEFAULT,bxe=t._translationsConfigFile}catch{}Cxe=!0}else typeof navigator=="object"&&!ilt?(u1=navigator.userAgent,BT=u1.indexOf("Windows")>=0,kT=u1.indexOf("Macintosh")>=0,YX=(u1.indexOf("Macintosh")>=0||u1.indexOf("iPad")>=0||u1.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,ST=u1.indexOf("Linux")>=0,vxe=u1?.indexOf("Mobi")>=0,zX=!0,_T=hxe.getConfiguredDefaultLocale(hxe.localize({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"))||Kt.LANGUAGE_DEFAULT,fL=_T,$X=navigator.language):console.error("Unable to resolve platform.");function olt(e){switch(e){case 0:return"Web";case 1:return"Mac";case 2:return"Linux";case 3:return"Windows"}}o(olt,"PlatformToString");var dL=0;kT?dL=1:BT?dL=3:ST&&(dL=2);Kt.isWindows=BT;Kt.isMacintosh=kT;Kt.isLinux=ST;Kt.isLinuxSnap=yxe;Kt.isNative=Cxe;Kt.isElectron=Exe;Kt.isWeb=zX;Kt.isWebWorker=zX&&typeof f1.importScripts=="function";Kt.webWorkerOrigin=Kt.isWebWorker?f1.origin:void 0;Kt.isIOS=YX;Kt.isMobile=vxe;Kt.isCI=xxe;Kt.platform=dL;Kt.userAgent=u1;Kt.language=fL;var pxe;(function(e){function t(){return Kt.language}o(t,"value"),e.value=t;function r(){return Kt.language.length===2?Kt.language==="en":Kt.language.length>=3?Kt.language[0]==="e"&&Kt.language[1]==="n"&&Kt.language[2]==="-":!1}o(r,"isDefaultVariant"),e.isDefaultVariant=r;function n(){return Kt.language==="en"}o(n,"isDefault"),e.isDefault=n})(pxe||(Kt.Language=pxe={}));Kt.locale=_T;Kt.platformLocale=$X;Kt.translationsConfigFile=bxe;Kt.setTimeout0IsFaster=typeof f1.postMessage=="function"&&!f1.importScripts;Kt.setTimeout0=(()=>{if(Kt.setTimeout0IsFaster){let e=[];f1.addEventListener("message",r=>{if(r.data&&r.data.vscodeScheduleAsyncWork)for(let n=0,i=e.length;n<i;n++){let s=e[n];if(s.id===r.data.vscodeScheduleAsyncWork){e.splice(n,1),s.callback();return}}});let t=0;return r=>{let n=++t;e.push({id:n,callback:r}),f1.postMessage({vscodeScheduleAsyncWork:n},"*")}}return e=>setTimeout(e)})();Kt.OS=kT||YX?2:BT?1:3;var gxe=!0,Axe=!1;function slt(){if(!Axe){Axe=!0;let e=new Uint8Array(2);e[0]=1,e[1]=2,gxe=new Uint16Array(e.buffer)[0]===513}return gxe}o(slt,"isLittleEndian");Kt.isChrome=!!(Kt.userAgent&&Kt.userAgent.indexOf("Chrome")>=0);Kt.isFirefox=!!(Kt.userAgent&&Kt.userAgent.indexOf("Firefox")>=0);Kt.isSafari=!!(!Kt.isChrome&&Kt.userAgent&&Kt.userAgent.indexOf("Safari")>=0);Kt.isEdge=!!(Kt.userAgent&&Kt.userAgent.indexOf("Edg/")>=0);Kt.isAndroid=!!(Kt.userAgent&&Kt.userAgent.indexOf("Android")>=0);function alt(e){return parseFloat(e)>=20}o(alt,"isBigSurOrNewer")});var wxe=V(cp=>{"use strict";d();Object.defineProperty(cp,"__esModule",{value:!0});cp.arch=cp.platform=cp.env=cp.cwd=void 0;var Txe=KX(),KC,JX=globalThis.vscode;if(typeof JX<"u"&&typeof JX.process<"u"){let e=JX.process;KC={get platform(){return e.platform},get arch(){return e.arch},get env(){return e.env},cwd(){return e.cwd()}}}else typeof process<"u"?KC={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:KC={get platform(){return Txe.isWindows?"win32":Txe.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};cp.cwd=KC.cwd;cp.env=KC.env;cp.platform=KC.platform;cp.arch=KC.arch});var Sxe=V(xr=>{"use strict";d();Object.defineProperty(xr,"__esModule",{value:!0});xr.delimiter=xr.sep=xr.toNamespacedPath=xr.parse=xr.format=xr.extname=xr.basename=xr.dirname=xr.relative=xr.resolve=xr.join=xr.isAbsolute=xr.normalize=xr.posix=xr.win32=void 0;var Fb=wxe(),llt=65,clt=97,ult=90,flt=122,v5=46,ml=47,Bc=92,E5=58,dlt=63,mL=class extends Error{static{o(this,"ErrorInvalidArgType")}code;constructor(t,r,n){let i;typeof r=="string"&&r.indexOf("not ")===0?(i="must not be",r=r.replace(/^not /,"")):i="must be";let s=t.indexOf(".")!==-1?"property":"argument",a=`The "${t}" ${s} ${i} of type ${r}`;a+=`. Received type ${typeof n}`,super(a),this.code="ERR_INVALID_ARG_TYPE"}};function mlt(e,t){if(e===null||typeof e!="object")throw new mL(t,"Object",e)}o(mlt,"validateObject");function Us(e,t){if(typeof e!="string")throw new mL(t,"string",e)}o(Us,"validateString");var kc=Fb.platform==="win32";function Wn(e){return e===ml||e===Bc}o(Wn,"isPathSeparator");function XX(e){return e===ml}o(XX,"isPosixPathSeparator");function x5(e){return e>=llt&&e<=ult||e>=clt&&e<=flt}o(x5,"isWindowsDeviceRoot");function hL(e,t,r,n){let i="",s=0,a=-1,l=0,c=0;for(let u=0;u<=e.length;++u){if(u<e.length)c=e.charCodeAt(u);else{if(n(c))break;c=ml}if(n(c)){if(!(a===u-1||l===1))if(l===2){if(i.length<2||s!==2||i.charCodeAt(i.length-1)!==v5||i.charCodeAt(i.length-2)!==v5){if(i.length>2){let f=i.lastIndexOf(r);f===-1?(i="",s=0):(i=i.slice(0,f),s=i.length-1-i.lastIndexOf(r)),a=u,l=0;continue}else if(i.length!==0){i="",s=0,a=u,l=0;continue}}t&&(i+=i.length>0?`${r}..`:"..",s=2)}else i.length>0?i+=`${r}${e.slice(a+1,u)}`:i=e.slice(a+1,u),s=u-a-1;a=u,l=0}else c===v5&&l!==-1?++l:l=-1}return i}o(hL,"normalizeString");function _xe(e,t){mlt(t,"pathObject");let r=t.dir||t.root,n=t.base||`${t.name||""}${t.ext||""}`;return r?r===t.root?`${r}${n}`:`${r}${e}${n}`:n}o(_xe,"_format");xr.win32={resolve(...e){let t="",r="",n=!1;for(let i=e.length-1;i>=-1;i--){let s;if(i>=0){if(s=e[i],Us(s,"path"),s.length===0)continue}else t.length===0?s=Fb.cwd():(s=Fb.env[`=${t}`]||Fb.cwd(),(s===void 0||s.slice(0,2).toLowerCase()!==t.toLowerCase()&&s.charCodeAt(2)===Bc)&&(s=`${t}\\`));let a=s.length,l=0,c="",u=!1,f=s.charCodeAt(0);if(a===1)Wn(f)&&(l=1,u=!0);else if(Wn(f))if(u=!0,Wn(s.charCodeAt(1))){let m=2,h=m;for(;m<a&&!Wn(s.charCodeAt(m));)m++;if(m<a&&m!==h){let p=s.slice(h,m);for(h=m;m<a&&Wn(s.charCodeAt(m));)m++;if(m<a&&m!==h){for(h=m;m<a&&!Wn(s.charCodeAt(m));)m++;(m===a||m!==h)&&(c=`\\\\${p}\\${s.slice(h,m)}`,l=m)}}}else l=1;else x5(f)&&s.charCodeAt(1)===E5&&(c=s.slice(0,2),l=2,a>2&&Wn(s.charCodeAt(2))&&(u=!0,l=3));if(c.length>0)if(t.length>0){if(c.toLowerCase()!==t.toLowerCase())continue}else t=c;if(n){if(t.length>0)break}else if(r=`${s.slice(l)}\\${r}`,n=u,u&&t.length>0)break}return r=hL(r,!n,"\\",Wn),n?`${t}\\${r}`:`${t}${r}`||"."},normalize(e){Us(e,"path");let t=e.length;if(t===0)return".";let r=0,n,i=!1,s=e.charCodeAt(0);if(t===1)return XX(s)?"\\":e;if(Wn(s))if(i=!0,Wn(e.charCodeAt(1))){let l=2,c=l;for(;l<t&&!Wn(e.charCodeAt(l));)l++;if(l<t&&l!==c){let u=e.slice(c,l);for(c=l;l<t&&Wn(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&!Wn(e.charCodeAt(l));)l++;if(l===t)return`\\\\${u}\\${e.slice(c)}\\`;l!==c&&(n=`\\\\${u}\\${e.slice(c,l)}`,r=l)}}}else r=1;else x5(s)&&e.charCodeAt(1)===E5&&(n=e.slice(0,2),r=2,t>2&&Wn(e.charCodeAt(2))&&(i=!0,r=3));let a=r<t?hL(e.slice(r),!i,"\\",Wn):"";return a.length===0&&!i&&(a="."),a.length>0&&Wn(e.charCodeAt(t-1))&&(a+="\\"),n===void 0?i?`\\${a}`:a:i?`${n}\\${a}`:`${n}${a}`},isAbsolute(e){Us(e,"path");let t=e.length;if(t===0)return!1;let r=e.charCodeAt(0);return Wn(r)||t>2&&x5(r)&&e.charCodeAt(1)===E5&&Wn(e.charCodeAt(2))},join(...e){if(e.length===0)return".";let t,r;for(let s=0;s<e.length;++s){let a=e[s];Us(a,"path"),a.length>0&&(t===void 0?t=r=a:t+=`\\${a}`)}if(t===void 0)return".";let n=!0,i=0;if(typeof r=="string"&&Wn(r.charCodeAt(0))){++i;let s=r.length;s>1&&Wn(r.charCodeAt(1))&&(++i,s>2&&(Wn(r.charCodeAt(2))?++i:n=!1))}if(n){for(;i<t.length&&Wn(t.charCodeAt(i));)i++;i>=2&&(t=`\\${t.slice(i)}`)}return xr.win32.normalize(t)},relative(e,t){if(Us(e,"from"),Us(t,"to"),e===t)return"";let r=xr.win32.resolve(e),n=xr.win32.resolve(t);if(r===n||(e=r.toLowerCase(),t=n.toLowerCase(),e===t))return"";let i=0;for(;i<e.length&&e.charCodeAt(i)===Bc;)i++;let s=e.length;for(;s-1>i&&e.charCodeAt(s-1)===Bc;)s--;let a=s-i,l=0;for(;l<t.length&&t.charCodeAt(l)===Bc;)l++;let c=t.length;for(;c-1>l&&t.charCodeAt(c-1)===Bc;)c--;let u=c-l,f=a<u?a:u,m=-1,h=0;for(;h<f;h++){let A=e.charCodeAt(i+h);if(A!==t.charCodeAt(l+h))break;A===Bc&&(m=h)}if(h!==f){if(m===-1)return n}else{if(u>f){if(t.charCodeAt(l+h)===Bc)return n.slice(l+h+1);if(h===2)return n.slice(l+h)}a>f&&(e.charCodeAt(i+h)===Bc?m=h:h===2&&(m=3)),m===-1&&(m=0)}let p="";for(h=i+m+1;h<=s;++h)(h===s||e.charCodeAt(h)===Bc)&&(p+=p.length===0?"..":"\\..");return l+=m,p.length>0?`${p}${n.slice(l,c)}`:(n.charCodeAt(l)===Bc&&++l,n.slice(l,c))},toNamespacedPath(e){if(typeof e!="string"||e.length===0)return e;let t=xr.win32.resolve(e);if(t.length<=2)return e;if(t.charCodeAt(0)===Bc){if(t.charCodeAt(1)===Bc){let r=t.charCodeAt(2);if(r!==dlt&&r!==v5)return`\\\\?\\UNC\\${t.slice(2)}`}}else if(x5(t.charCodeAt(0))&&t.charCodeAt(1)===E5&&t.charCodeAt(2)===Bc)return`\\\\?\\${t}`;return e},dirname(e){Us(e,"path");let t=e.length;if(t===0)return".";let r=-1,n=0,i=e.charCodeAt(0);if(t===1)return Wn(i)?e:".";if(Wn(i)){if(r=n=1,Wn(e.charCodeAt(1))){let l=2,c=l;for(;l<t&&!Wn(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&Wn(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&!Wn(e.charCodeAt(l));)l++;if(l===t)return e;l!==c&&(r=n=l+1)}}}}else x5(i)&&e.charCodeAt(1)===E5&&(r=t>2&&Wn(e.charCodeAt(2))?3:2,n=r);let s=-1,a=!0;for(let l=t-1;l>=n;--l)if(Wn(e.charCodeAt(l))){if(!a){s=l;break}}else a=!1;if(s===-1){if(r===-1)return".";s=r}return e.slice(0,s)},basename(e,t){t!==void 0&&Us(t,"ext"),Us(e,"path");let r=0,n=-1,i=!0,s;if(e.length>=2&&x5(e.charCodeAt(0))&&e.charCodeAt(1)===E5&&(r=2),t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,l=-1;for(s=e.length-1;s>=r;--s){let c=e.charCodeAt(s);if(Wn(c)){if(!i){r=s+1;break}}else l===-1&&(i=!1,l=s+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(n=s):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}for(s=e.length-1;s>=r;--s)if(Wn(e.charCodeAt(s))){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":e.slice(r,n)},extname(e){Us(e,"path");let t=0,r=-1,n=0,i=-1,s=!0,a=0;e.length>=2&&e.charCodeAt(1)===E5&&x5(e.charCodeAt(0))&&(t=n=2);for(let l=e.length-1;l>=t;--l){let c=e.charCodeAt(l);if(Wn(c)){if(!s){n=l+1;break}continue}i===-1&&(s=!1,i=l+1),c===v5?r===-1?r=l:a!==1&&(a=1):r!==-1&&(a=-1)}return r===-1||i===-1||a===0||a===1&&r===i-1&&r===n+1?"":e.slice(r,i)},format:_xe.bind(null,"\\"),parse(e){Us(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.length,n=0,i=e.charCodeAt(0);if(r===1)return Wn(i)?(t.root=t.dir=e,t):(t.base=t.name=e,t);if(Wn(i)){if(n=1,Wn(e.charCodeAt(1))){let m=2,h=m;for(;m<r&&!Wn(e.charCodeAt(m));)m++;if(m<r&&m!==h){for(h=m;m<r&&Wn(e.charCodeAt(m));)m++;if(m<r&&m!==h){for(h=m;m<r&&!Wn(e.charCodeAt(m));)m++;m===r?n=m:m!==h&&(n=m+1)}}}}else if(x5(i)&&e.charCodeAt(1)===E5){if(r<=2)return t.root=t.dir=e,t;if(n=2,Wn(e.charCodeAt(2))){if(r===3)return t.root=t.dir=e,t;n=3}}n>0&&(t.root=e.slice(0,n));let s=-1,a=n,l=-1,c=!0,u=e.length-1,f=0;for(;u>=n;--u){if(i=e.charCodeAt(u),Wn(i)){if(!c){a=u+1;break}continue}l===-1&&(c=!1,l=u+1),i===v5?s===-1?s=u:f!==1&&(f=1):s!==-1&&(f=-1)}return l!==-1&&(s===-1||f===0||f===1&&s===l-1&&s===a+1?t.base=t.name=e.slice(a,l):(t.name=e.slice(a,s),t.base=e.slice(a,l),t.ext=e.slice(s,l))),a>0&&a!==n?t.dir=e.slice(0,a-1):t.dir=t.root,t},sep:"\\",delimiter:";",win32:null,posix:null};var hlt=(()=>{if(kc){let e=/\\/g;return()=>{let t=Fb.cwd().replace(e,"/");return t.slice(t.indexOf("/"))}}return()=>Fb.cwd()})();xr.posix={resolve(...e){let t="",r=!1;for(let n=e.length-1;n>=-1&&!r;n--){let i=n>=0?e[n]:hlt();Us(i,"path"),i.length!==0&&(t=`${i}/${t}`,r=i.charCodeAt(0)===ml)}return t=hL(t,!r,"/",XX),r?`/${t}`:t.length>0?t:"."},normalize(e){if(Us(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===ml,r=e.charCodeAt(e.length-1)===ml;return e=hL(e,!t,"/",XX),e.length===0?t?"/":r?"./":".":(r&&(e+="/"),t?`/${e}`:e)},isAbsolute(e){return Us(e,"path"),e.length>0&&e.charCodeAt(0)===ml},join(...e){if(e.length===0)return".";let t;for(let r=0;r<e.length;++r){let n=e[r];Us(n,"path"),n.length>0&&(t===void 0?t=n:t+=`/${n}`)}return t===void 0?".":xr.posix.normalize(t)},relative(e,t){if(Us(e,"from"),Us(t,"to"),e===t||(e=xr.posix.resolve(e),t=xr.posix.resolve(t),e===t))return"";let r=1,n=e.length,i=n-r,s=1,a=t.length-s,l=i<a?i:a,c=-1,u=0;for(;u<l;u++){let m=e.charCodeAt(r+u);if(m!==t.charCodeAt(s+u))break;m===ml&&(c=u)}if(u===l)if(a>l){if(t.charCodeAt(s+u)===ml)return t.slice(s+u+1);if(u===0)return t.slice(s+u)}else i>l&&(e.charCodeAt(r+u)===ml?c=u:u===0&&(c=0));let f="";for(u=r+c+1;u<=n;++u)(u===n||e.charCodeAt(u)===ml)&&(f+=f.length===0?"..":"/..");return`${f}${t.slice(s+c)}`},toNamespacedPath(e){return e},dirname(e){if(Us(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===ml,r=-1,n=!0;for(let i=e.length-1;i>=1;--i)if(e.charCodeAt(i)===ml){if(!n){r=i;break}}else n=!1;return r===-1?t?"/":".":t&&r===1?"//":e.slice(0,r)},basename(e,t){t!==void 0&&Us(t,"ext"),Us(e,"path");let r=0,n=-1,i=!0,s;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,l=-1;for(s=e.length-1;s>=0;--s){let c=e.charCodeAt(s);if(c===ml){if(!i){r=s+1;break}}else l===-1&&(i=!1,l=s+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(n=s):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}for(s=e.length-1;s>=0;--s)if(e.charCodeAt(s)===ml){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":e.slice(r,n)},extname(e){Us(e,"path");let t=-1,r=0,n=-1,i=!0,s=0;for(let a=e.length-1;a>=0;--a){let l=e.charCodeAt(a);if(l===ml){if(!i){r=a+1;break}continue}n===-1&&(i=!1,n=a+1),l===v5?t===-1?t=a:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||n===-1||s===0||s===1&&t===n-1&&t===r+1?"":e.slice(t,n)},format:_xe.bind(null,"/"),parse(e){Us(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.charCodeAt(0)===ml,n;r?(t.root="/",n=1):n=0;let i=-1,s=0,a=-1,l=!0,c=e.length-1,u=0;for(;c>=n;--c){let f=e.charCodeAt(c);if(f===ml){if(!l){s=c+1;break}continue}a===-1&&(l=!1,a=c+1),f===v5?i===-1?i=c:u!==1&&(u=1):i!==-1&&(u=-1)}if(a!==-1){let f=s===0&&r?1:s;i===-1||u===0||u===1&&i===a-1&&i===s+1?t.base=t.name=e.slice(f,a):(t.name=e.slice(f,i),t.base=e.slice(f,a),t.ext=e.slice(i,a))}return s>0?t.dir=e.slice(0,s-1):r&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};xr.posix.win32=xr.win32.win32=xr.win32;xr.posix.posix=xr.win32.posix=xr.posix;xr.normalize=kc?xr.win32.normalize:xr.posix.normalize;xr.isAbsolute=kc?xr.win32.isAbsolute:xr.posix.isAbsolute;xr.join=kc?xr.win32.join:xr.posix.join;xr.resolve=kc?xr.win32.resolve:xr.posix.resolve;xr.relative=kc?xr.win32.relative:xr.posix.relative;xr.dirname=kc?xr.win32.dirname:xr.posix.dirname;xr.basename=kc?xr.win32.basename:xr.posix.basename;xr.extname=kc?xr.win32.extname:xr.posix.extname;xr.format=kc?xr.win32.format:xr.posix.format;xr.parse=kc?xr.win32.parse:xr.posix.parse;xr.toNamespacedPath=kc?xr.win32.toNamespacedPath:xr.posix.toNamespacedPath;xr.sep=kc?xr.win32.sep:xr.posix.sep;xr.delimiter=kc?xr.win32.delimiter:xr.posix.delimiter});var Fxe=V(Lb=>{"use strict";d();Object.defineProperty(Lb,"__esModule",{value:!0});Lb.URI=void 0;Lb.isUriComponents=vlt;Lb.uriToFsPath=yL;var Bxe=Sxe(),gL=KX(),plt=/^\w[\w\d+.-]*$/,glt=/^\//,Alt=/^\/\//;function ylt(e,t){if(!e.scheme&&t)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${e.authority}", path: "${e.path}", query: "${e.query}", fragment: "${e.fragment}"}`);if(e.scheme&&!plt.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path){if(e.authority){if(!glt.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(Alt.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}o(ylt,"_validateUri");function Clt(e,t){return!e&&!t?"file":e}o(Clt,"_schemeFix");function Elt(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==Sm&&(t=Sm+t):t=Sm;break}return t}o(Elt,"_referenceResolution");var So="",Sm="/",xlt=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,AL=class e{static{o(this,"URI")}static isUri(t){return t instanceof e?!0:t?typeof t.authority=="string"&&typeof t.fragment=="string"&&typeof t.path=="string"&&typeof t.query=="string"&&typeof t.scheme=="string"&&typeof t.fsPath=="string"&&typeof t.with=="function"&&typeof t.toString=="function":!1}scheme;authority;path;query;fragment;constructor(t,r,n,i,s,a=!1){typeof t=="object"?(this.scheme=t.scheme||So,this.authority=t.authority||So,this.path=t.path||So,this.query=t.query||So,this.fragment=t.fragment||So):(this.scheme=Clt(t,a),this.authority=r||So,this.path=Elt(this.scheme,n||So),this.query=i||So,this.fragment=s||So,ylt(this,a))}get fsPath(){return yL(this,!1)}with(t){if(!t)return this;let{scheme:r,authority:n,path:i,query:s,fragment:a}=t;return r===void 0?r=this.scheme:r===null&&(r=So),n===void 0?n=this.authority:n===null&&(n=So),i===void 0?i=this.path:i===null&&(i=So),s===void 0?s=this.query:s===null&&(s=So),a===void 0?a=this.fragment:a===null&&(a=So),r===this.scheme&&n===this.authority&&i===this.path&&s===this.query&&a===this.fragment?this:new b5(r,n,i,s,a)}static parse(t,r=!1){let n=xlt.exec(t);return n?new b5(n[2]||So,pL(n[4]||So),pL(n[5]||So),pL(n[7]||So),pL(n[9]||So),r):new b5(So,So,So,So,So)}static file(t){let r=So;if(gL.isWindows&&(t=t.replace(/\\/g,Sm)),t[0]===Sm&&t[1]===Sm){let n=t.indexOf(Sm,2);n===-1?(r=t.substring(2),t=Sm):(r=t.substring(2,n),t=t.substring(n)||Sm)}return new b5("file",r,t,So,So)}static from(t,r){return new b5(t.scheme,t.authority,t.path,t.query,t.fragment,r)}static joinPath(t,...r){if(!t.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let n;return gL.isWindows&&t.scheme==="file"?n=e.file(Bxe.win32.join(yL(t,!0),...r)).path:n=Bxe.posix.join(t.path,...r),t.with({path:n})}toString(t=!1){return ZX(this,t)}toJSON(){return this}static revive(t){if(t){if(t instanceof e)return t;{let r=new b5(t);return r._formatted=t.external??null,r._fsPath=t._sep===Dxe?t.fsPath??null:null,r}}else return t}};Lb.URI=AL;function vlt(e){return!e||typeof e!="object"?!1:typeof e.scheme=="string"&&(typeof e.authority=="string"||typeof e.authority>"u")&&(typeof e.path=="string"||typeof e.path>"u")&&(typeof e.query=="string"||typeof e.query>"u")&&(typeof e.fragment=="string"||typeof e.fragment>"u")}o(vlt,"isUriComponents");var Dxe=gL.isWindows?1:void 0,b5=class extends AL{static{o(this,"Uri")}_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=yL(this,!1)),this._fsPath}toString(t=!1){return t?ZX(this,!0):(this._formatted||(this._formatted=ZX(this,!1)),this._formatted)}toJSON(){let t={$mid:1};return this._fsPath&&(t.fsPath=this._fsPath,t._sep=Dxe),this._formatted&&(t.external=this._formatted),this.path&&(t.path=this.path),this.scheme&&(t.scheme=this.scheme),this.authority&&(t.authority=this.authority),this.query&&(t.query=this.query),this.fragment&&(t.fragment=this.fragment),t}},Pxe={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function kxe(e,t,r){let n,i=-1;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);if(a>=97&&a<=122||a>=65&&a<=90||a>=48&&a<=57||a===45||a===46||a===95||a===126||t&&a===47||r&&a===91||r&&a===93||r&&a===58)i!==-1&&(n+=encodeURIComponent(e.substring(i,s)),i=-1),n!==void 0&&(n+=e.charAt(s));else{n===void 0&&(n=e.substr(0,s));let l=Pxe[a];l!==void 0?(i!==-1&&(n+=encodeURIComponent(e.substring(i,s)),i=-1),n+=l):i===-1&&(i=s)}}return i!==-1&&(n+=encodeURIComponent(e.substring(i))),n!==void 0?n:e}o(kxe,"encodeURIComponentFast");function blt(e){let t;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n===35||n===63?(t===void 0&&(t=e.substr(0,r)),t+=Pxe[n]):t!==void 0&&(t+=e[r])}return t!==void 0?t:e}o(blt,"encodeURIComponentMinimal");function yL(e,t){let r;return e.authority&&e.path.length>1&&e.scheme==="file"?r=`//${e.authority}${e.path}`:e.path.charCodeAt(0)===47&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&e.path.charCodeAt(2)===58?t?r=e.path.substr(1):r=e.path[1].toLowerCase()+e.path.substr(2):r=e.path,gL.isWindows&&(r=r.replace(/\//g,"\\")),r}o(yL,"uriToFsPath");function ZX(e,t){let r=t?blt:kxe,n="",{scheme:i,authority:s,path:a,query:l,fragment:c}=e;if(i&&(n+=i,n+=":"),(s||i==="file")&&(n+=Sm,n+=Sm),s){let u=s.indexOf("@");if(u!==-1){let f=s.substr(0,u);s=s.substr(u+1),u=f.lastIndexOf(":"),u===-1?n+=r(f,!1,!1):(n+=r(f.substr(0,u),!1,!1),n+=":",n+=r(f.substr(u+1),!1,!0)),n+="@"}s=s.toLowerCase(),u=s.lastIndexOf(":"),u===-1?n+=r(s,!1,!0):(n+=r(s.substr(0,u),!1,!0),n+=s.substr(u))}if(a){if(a.length>=3&&a.charCodeAt(0)===47&&a.charCodeAt(2)===58){let u=a.charCodeAt(1);u>=65&&u<=90&&(a=`/${String.fromCharCode(u+32)}:${a.substr(3)}`)}else if(a.length>=2&&a.charCodeAt(1)===58){let u=a.charCodeAt(0);u>=65&&u<=90&&(a=`${String.fromCharCode(u+32)}:${a.substr(2)}`)}n+=r(a,!0,!1)}return l&&(n+="?",n+=r(l,!1,!1)),c&&(n+="#",n+=t?c:kxe(c,!1,!1)),n}o(ZX,"_asFormatted");function Nxe(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substr(0,3)+Nxe(e.substr(3)):e}}o(Nxe,"decodeURIComponentGraceful");var Rxe=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function pL(e){return e.match(Rxe)?e.replace(Rxe,t=>Nxe(t)):e}o(pL,"percentDecode")});var rZ=V(I5=>{"use strict";d();Object.defineProperty(I5,"__esModule",{value:!0});I5.PromptReference=I5.ChatResponseReferencePartStatusKind=I5.PromptMetadata=void 0;var RT=Fxe(),eZ=class{static{o(this,"PromptMetadata")}_marker;toString(){return Object.getPrototypeOf(this).constructor.name}};I5.PromptMetadata=eZ;var Lxe;(function(e){e[e.Complete=1]="Complete",e[e.Partial=2]="Partial",e[e.Omitted=3]="Omitted"})(Lxe||(I5.ChatResponseReferencePartStatusKind=Lxe={}));var tZ=class e{static{o(this,"PromptReference")}anchor;iconPath;options;static fromJSON(t){let r=o(n=>"scheme"in n?RT.URI.from(n):{uri:RT.URI.from(n.uri),range:n.range},"uriOrLocation");return new e("variableName"in t.anchor?{variableName:t.anchor.variableName,value:t.anchor.value&&r(t.anchor.value)}:r(t.anchor),t.iconPath&&("scheme"in t.iconPath?RT.URI.from(t.iconPath):"light"in t.iconPath?{light:RT.URI.from(t.iconPath.light),dark:RT.URI.from(t.iconPath.dark)}:t.iconPath),t.options)}constructor(t,r,n){this.anchor=t,this.iconPath=r,this.options=n}toJSON(){return{anchor:this.anchor,iconPath:this.iconPath,options:this.options}}};I5.PromptReference=tZ});var uZ=V(Qb=>{"use strict";d();Object.defineProperty(Qb,"__esModule",{value:!0});Qb.PromptRenderer=Qb.MetadataMap=void 0;var CL=PX(),Wl=jX(),cZ=rZ(),Qxe;(function(e){e.empty={get:o(()=>{},"get"),getAll:o(()=>[],"getAll")}})(Qxe||(Qb.MetadataMap=Qxe={}));var nZ=class{static{o(this,"PromptRenderer")}_endpoint;_ctor;_props;_tokenizer;_usedContext=[];_ignoredFiles=[];_growables=[];_root=new xL(null,0);_tokenLimits=[];tracer=void 0;constructor(t,r,n,i){this._endpoint=t,this._ctor=r,this._props=n,this._tokenizer=i}getIgnoredFiles(){return Array.from(new Set(this._ignoredFiles))}getUsedContext(){return this._usedContext}createElement(t){return new t.ctor(t.props)}async _processPromptPieces(t,r,n,i){let s=new Map;for(let[c,u]of r.entries()){if(Array.isArray(u.children)&&(u.props=u.props??{},u.props.children=u.children),!u.ctor)throw new Error("Invalid ChatMessage child! Child must be a TSX component that extends PromptElement.");let f=this.createElement(u),m;f instanceof Wl.TokenLimit&&(m=u.props.max,this._tokenLimits.push({limit:m,id:u.node.id})),u.node.setObj(f);let h=u.props.flexGrow??1/0,p=s.get(h);p||(p=[],s.set(h,p)),p.push({element:u,promptElementInstance:f,tokenLimit:m})}if(s.size===0)return;let a=[...s.entries()].sort(([c],[u])=>u-c).map(([c,u])=>u),l=o(c=>{let u=0;for(let f=c+1;f<a.length;f++)for(let{element:m}of a[f]){if(!m.props.flexReserve)continue;let h=typeof m.props.flexReserve=="string"?Math.floor(t.remainingTokenBudget/Number(m.props.flexReserve.slice(1))):m.props.flexReserve;u+=h}return t.consume(u),u},"setReserved");for(let[c,u]of a.entries()){let f=l(c),m=0;for(let{element:x}of u)m+=x.props.flexBasis??1;let h=0,p=u.map(x=>{if(x.tokenLimit===void 0)return!1;let b=x.element.props.flexBasis??1,v=b/m;return Math.floor(t.remainingTokenBudget*v)<x.tokenLimit?!1:(m-=b,h+=x.tokenLimit,!0)}),A=u.map((x,b)=>{let v=(x.element.props.flexBasis??1)/m;return{tokenBudget:p[b]?x.tokenLimit:Math.floor((t.remainingTokenBudget-h)*v),endpoint:t.endpoint,countTokens:o((S,k)=>this._tokenizer.tokenLength(S,k),"countTokens")}});t.consume(-f),this.tracer?.addRenderEpoch?.({inNode:u[0].element.node.parent?.id,flexValue:u[0].element.props.flexGrow??0,tokenBudget:t.remainingTokenBudget,reservedTokens:f,elements:u.map((x,b)=>({id:x.element.node.id,tokenBudget:A[b].tokenBudget}))}),await Promise.all(u.map(async({element:x,promptElementInstance:b},v)=>{let S=await b.prepare?.(A[v],n,i);x.node.setState(S)}));let E=await Promise.all(u.map(async({element:x,promptElementInstance:b},v)=>{let S=A[v];return await b.render(x.node.getState(),S,n,i)}));for(let[x,{element:b,promptElementInstance:v}]of u.entries()){let S=A[x],k=E[x];if(!k)continue;let P=await this._processPromptRenderPiece(new JC(S.tokenBudget,this._endpoint),b,v,k,n,i);v instanceof Wl.Expandable&&this._growables.push({initialConsume:P,elem:b.node}),t.consume(P)}}}async _processPromptRenderPiece(t,r,n,i,s,a){let l=Mxe(i),c=new JC(t.tokenBudget,this._endpoint),{tokensConsumed:u}=await Ilt(this._tokenizer,r,n,l);return c.consume(u),await this._handlePromptChildren(r,l,c,s,a),c.consumed}async renderElementJSON(t){return await this._processPromptPieces(new JC(this._endpoint.modelMaxPromptTokens,this._endpoint),[{node:this._root,ctor:this._ctor,props:this._props,children:[]}],void 0,t),{node:this._root.toJSON()}}async render(t,r){await this._processPromptPieces(new JC(this._endpoint.modelMaxPromptTokens,this._endpoint),[{node:this._root,ctor:this._ctor,props:this._props,children:[]}],t,r);let{container:n,allMetadata:i,removed:s}=await this._getFinalElementTree(this._endpoint.modelMaxPromptTokens,r);this.tracer?.didMaterializeTree?.({budget:this._endpoint.modelMaxPromptTokens,renderedTree:{container:n,removed:s,budget:this._endpoint.modelMaxPromptTokens},tokenizer:this._tokenizer,renderTree:o(h=>this._getFinalElementTree(h,void 0).then(p=>({...p,budget:h})),"renderTree")});let a=[...n.toChatMessages()],l=await n.tokenCount(this._tokenizer),c=[...n.allMetadata()],u=new Set,f=c.map(h=>{if(!(h instanceof up))return;let p=h.reference,A="variableName"in p.anchor;if(A&&!u.has(p.anchor.variableName))return u.add(p.anchor.variableName),p;if(!A)return p}).filter(aZ),m=i.map(h=>{if(!(h instanceof up)||c.includes(h))return;let p=h.reference,A="variableName"in p.anchor;if(A&&!u.has(p.anchor.variableName))return u.add(p.anchor.variableName),p;if(!A)return p}).filter(aZ);return{metadata:{get:o(h=>c.find(p=>p instanceof h),"get"),getAll:o(h=>c.filter(p=>p instanceof h),"getAll")},messages:a,hasIgnoredFiles:this._ignoredFiles.length>0,tokenCount:l,references:f,omittedReferences:m}}async _getFinalElementTree(t,r){let n=this._root.materialize(),i=[...n.allMetadata()],s=[{limit:t,id:this._root.id},...this._tokenLimits],a=0;for(let l=s.length-1;l>=0;l--){let c=s[l];if(c.limit>t)continue;let u=n.findById(c.id);if(!u)continue;let f=await u.tokenCount(this._tokenizer);if(f<c.limit&&!await this._grow(u,f,c.limit,r))continue;let m=await u.tokenCount(this._tokenizer);for(;m>c.limit;){for(;m>c.limit;)for(let h of u.removeLowestPriorityChild()){a++;let p=h.upperBoundTokenCount(this._tokenizer);m-=typeof p=="number"?p:await p}m=await u.tokenCount(this._tokenizer)}}return{container:n,allMetadata:i,removed:a}}async _grow(t,r,n,i){if(!this._growables.length)return!1;for(let s of this._growables){if(!t.findById(s.elem.id))continue;let a=s.elem.getObj();if(!(a instanceof Wl.Expandable))throw new Error("unreachable: expected growable");let l=new xL(null,0,s.elem.id),c=new JC(n-r+s.initialConsume,this._endpoint),u=await this._processPromptRenderPiece(c,{node:l,ctor:this._ctor,props:{},children:[]},a,await a.render(void 0,{tokenBudget:c.tokenBudget,endpoint:this._endpoint,countTokens:o((h,p)=>this._tokenizer.tokenLength(h,p),"countTokens")}),void 0,i),f=l.materialize();if(!t.replaceNode(s.elem.id,f))throw new Error("unreachable: could not find old element to replace");if(r-=s.initialConsume,r+=u,r>=n)break}return!0}_handlePromptChildren(t,r,n,i,s){if(t.ctor===Wl.TextChunk){this._handleExtrinsicTextChunkChildren(t.node,t.node,t.props,r);return}let a=[];for(let l of r){if(l.kind==="literal"){t.node.appendStringChild(l.value,t.props.priority??Number.MAX_SAFE_INTEGER);continue}if(l.kind==="intrinsic"){this._handleIntrinsic(t.node,l.name,{priority:t.props.priority??Number.MAX_SAFE_INTEGER,...l.props},EL(l.children));continue}let c=t.node.createChild();a.push({node:c,ctor:l.ctor,props:l.props,children:l.children})}return this._processPromptPieces(n,a,i,s)}_handleIntrinsic(t,r,n,i,s){switch(r){case"meta":return this._handleIntrinsicMeta(t,n,i);case"br":return this._handleIntrinsicLineBreak(t,n,i,n.priority,s);case"usedContext":return this._handleIntrinsicUsedContext(t,n,i);case"references":return this._handleIntrinsicReferences(t,n,i);case"ignoredFiles":return this._handleIntrinsicIgnoredFiles(t,n,i);case"elementJSON":return this._handleIntrinsicElementJSON(t,n.data)}throw new Error(`Unknown intrinsic element ${r}!`)}_handleIntrinsicMeta(t,r,n){if(n.length>0)throw new Error("<meta /> must not have children!");r.local?t.addMetadata(r.value):this._root.addMetadata(r.value)}_handleIntrinsicLineBreak(t,r,n,i,s){if(n.length>0)throw new Error("<br /> must not have children!");t.appendLineBreak(i??Number.MAX_SAFE_INTEGER,s)}_handleIntrinsicElementJSON(t,r){let n=t.appendPieceJSON(r.node);if(this.tracer?.includeInEpoch)for(let i of n.elements())this.tracer.includeInEpoch({id:i.id,tokenBudget:0})}_handleIntrinsicUsedContext(t,r,n){if(n.length>0)throw new Error("<usedContext /> must not have children!");this._usedContext.push(...r.value)}_handleIntrinsicReferences(t,r,n){if(n.length>0)throw new Error("<reference /> must not have children!");for(let i of r.value)t.addMetadata(new up(i))}_handleIntrinsicIgnoredFiles(t,r,n){if(n.length>0)throw new Error("<ignoredFiles /> must not have children!");this._ignoredFiles.push(...r.value)}_handleExtrinsicTextChunkChildren(t,r,n,i){let s=[],a=[];for(let l of i){if(l.kind==="extrinsic")throw new Error("TextChunk cannot have extrinsic children!");if(l.kind==="literal"&&s.push(l.value),l.kind==="intrinsic")if(l.name==="br")s.push(`
`);else if(l.name==="references")for(let c of l.props.value)a.push(new up(c));else this._handleIntrinsic(t,l.name,l.props,EL(l.children),r.childIndex)}t.appendStringChild(s.join(""),n?.priority??Number.MAX_SAFE_INTEGER,a,r.childIndex,!0)}};Qb.PromptRenderer=nZ;async function Ilt(e,t,r,n){let i=0;(0,Wl.isChatMessagePromptElement)(r)&&(i+=await e.countMessageTokens({role:t.props.role,content:"",...t.props.name?{name:t.props.name}:void 0,...t.props.toolCalls?{tool_calls:t.props.toolCalls}:void 0,...t.props.toolCallId?{tool_call_id:t.props.toolCallId}:void 0}));for(let s of n)s.kind==="literal"&&(i+=await e.tokenLength(s.value));return{tokensConsumed:i}}o(Ilt,"computeTokensConsumedByLiterals");function Mxe(e,t=[]){return typeof e>"u"||typeof e=="boolean"?[]:(typeof e=="string"||typeof e=="number"?t.push(new sZ(String(e))):Tlt(e)?EL(e.children,t):wlt(e)?EL(e,t):typeof e.ctor=="string"?t.push(new iZ(e.ctor,e.props,e.children)):t.push(new oZ(e.ctor,e.props,e.children)),t)}o(Mxe,"flattenAndReduce");function EL(e,t=[]){for(let r of e)Mxe(r,t);return t}o(EL,"flattenAndReduceArr");var iZ=class{static{o(this,"IntrinsicPromptPiece")}name;props;children;kind="intrinsic";constructor(t,r,n){this.name=t,this.props=r,this.children=n}},oZ=class{static{o(this,"ExtrinsicPromptPiece")}ctor;props;children;kind="extrinsic";constructor(t,r,n){this.ctor=t,this.props=r,this.children=n}},sZ=class{static{o(this,"LiteralPromptPiece")}value;priority;kind="literal";constructor(t,r){this.value=t,this.priority=r}},JC=class{static{o(this,"PromptSizingContext")}tokenBudget;endpoint;_consumed=0;constructor(t,r){this.tokenBudget=t,this.endpoint=r}get consumed(){return this._consumed>this.tokenBudget?this.tokenBudget:this._consumed}get remainingTokenBudget(){return Math.max(0,this.tokenBudget-this._consumed)}consume(t){this._consumed+=t}},xL=class e{static{o(this,"PromptTreeElement")}parent;childIndex;id;static _nextId=0;static fromJSON(t,r){let n=new e(null,t);switch(n._metadata=r.references?.map(i=>new up(cZ.PromptReference.fromJSON(i)))??[],n._children=r.children.map((i,s)=>{switch(i.type){case 1:return e.fromJSON(s,i);case 2:return DT.fromJSON(n,s,i);default:}}).filter(aZ),r.ctor){case 1:n._obj=new Wl.BaseChatMessage(r.props);break;case 2:break;case 3:n._obj=new Wl.BaseImageMessage(r.props);break;default:}return n}kind=1;_obj=null;_state=void 0;_children=[];_metadata=[];constructor(t=null,r,n=e._nextId++){this.parent=t,this.childIndex=r,this.id=n}setObj(t){this._obj=t}getObj(){return this._obj}setState(t){this._state=t}getState(){return this._state}createChild(){let t=new e(this,this._children.length);return this._children.push(t),t}appendPieceJSON(t){let r=e.fromJSON(this._children.length,t);return this._children.push(r),r}appendStringChild(t,r,n,i=this._children.length,s=!1){this._children.push(new DT(this,i,t,r,n,s))}appendLineBreak(t,r=this._children.length){this._children.push(new DT(this,r,`
`,t))}toJSON(){let t={type:1,ctor:2,children:this._children.slice().sort((r,n)=>r.childIndex-n.childIndex).map(r=>r.toJSON()),priority:this._obj?.props.priority,references:this._metadata.filter(r=>r instanceof up).map(r=>r.reference.toJSON())};if(this._obj instanceof Wl.BaseChatMessage)t.ctor=1,t.props={role:this._obj.props.role,name:this._obj.props.name,priority:this._obj.props.priority,toolCalls:this._obj.props.toolCalls,toolCallId:this._obj.props.toolCallId};else if(this._obj instanceof Wl.BaseImageMessage)return{...t,ctor:3,props:{src:this._obj.props.src,detail:this._obj.props.detail}};return t}materialize(t){if(this._children.sort((r,n)=>r.childIndex-n.childIndex),this._obj instanceof Wl.BaseImageMessage)return new CL.MaterializedChatMessageImage(t,1,this._obj.props.src,this._obj.props.priority??Number.MAX_SAFE_INTEGER,this._metadata,0,this._obj.props.detail??void 0);if(this._obj instanceof Wl.BaseChatMessage){if(!this._obj.props.role)throw new Error("Invalid ChatMessage!");return new CL.MaterializedChatMessage(t,this.id,this._obj.props.role,this._obj.props.name,this._obj instanceof Wl.AssistantMessage?this._obj.props.toolCalls:void 0,this._obj instanceof Wl.ToolMessage?this._obj.props.toolCallId:void 0,this._obj.props.priority??Number.MAX_SAFE_INTEGER,this._metadata,r=>this._children.map(n=>n.materialize(r)))}else{let r=0;this._obj instanceof Wl.LegacyPrioritization&&(r|=1),this._obj instanceof Wl.Chunk&&(r|=2),this._obj instanceof Wl.IfEmpty&&(r|=8),this._obj?.props.passPriority&&(r|=4);let n=new CL.MaterializedContainer(t,this.id,this._obj?.constructor.name,this._obj?.props.priority??(this._obj?.props.passPriority?0:Number.MAX_SAFE_INTEGER),i=>this._children.map(s=>s.materialize(i)),this._metadata,r);return this._obj instanceof Wl.AbstractKeepWith&&(n.keepWithId=this._obj.id),n}}addMetadata(t){this._metadata.push(t)}*elements(){yield this;for(let t of this._children)t instanceof e&&(yield*t.elements())}},DT=class e{static{o(this,"PromptText")}parent;childIndex;text;priority;metadata;lineBreakBefore;static fromJSON(t,r,n){return new e(t,r,n.text,n.priority,n.references?.map(i=>new up(cZ.PromptReference.fromJSON(i))),n.lineBreakBefore)}kind=2;constructor(t,r,n,i,s,a=!1){this.parent=t,this.childIndex=r,this.text=n,this.priority=i,this.metadata=s,this.lineBreakBefore=a}collectLeafs(t){t.push(this)}materialize(t){let r=this.lineBreakBefore?1:this.childIndex===0?2:0;return new CL.MaterializedChatMessageTextChunk(t,this.text,this.priority??Number.MAX_SAFE_INTEGER,this.metadata||[],r)}toJSON(){return{type:2,priority:this.priority,text:this.text,references:this.metadata?.filter(t=>t instanceof up).map(t=>t.reference.toJSON()),lineBreakBefore:this.lineBreakBefore}}};function Tlt(e){return(typeof e.ctor=="function"&&e.ctor.isFragment)??!1}o(Tlt,"isFragmentCtor");function aZ(e){return e!==void 0}o(aZ,"isDefined");var lZ=class extends cZ.PromptMetadata{static{o(this,"InternalMetadata")}},up=class extends lZ{static{o(this,"ReferenceMetadata")}reference;constructor(t){super(),this.reference=t}};function wlt(e){return!!e&&typeof e[Symbol.iterator]=="function"}o(wlt,"isIterable")});var Oxe=V(vL=>{"use strict";d();Object.defineProperty(vL,"__esModule",{value:!0});vL.AnyTokenizer=void 0;var PT=Db(),fZ=class{static{o(this,"AnyTokenizer")}countTokens;constructor(t,r){if(this.countTokens=t,r!=="vscode")throw new Error("`mode` must be set to vscode when using vscode.LanguageModelChat as the tokenizer")}async tokenLength(t,r){return this.countTokens(t,r)}async countMessageTokens(t){let r=await Promise.resolve().then(()=>require("vscode"));return this.countTokens({role:this.toChatRole(t.role),content:[new r.LanguageModelTextPart(this.extractText(t))],name:"name"in t?t.name:void 0})}extractText(t){return t.content instanceof Array?t.content.map(r=>"text"in r?r.text:"").join(""):t.content}toChatRole(t){switch(t){case PT.ChatRole.User:return 1;case PT.ChatRole.Assistant:return 2;case PT.ChatRole.System:return 1;case PT.ChatRole.Function:return 1;case PT.ChatRole.Tool:return 1}}};vL.AnyTokenizer=fZ});var Uxe=V(Mb=>{"use strict";d();Object.defineProperty(Mb,"__esModule",{value:!0});Mb.tracerCss=Mb.tracerSrc=void 0;Mb.tracerSrc='"use strict";(()=>{var $,m,se,Ue,w,re,le,q,X,G,K,Ae,D={},ce=[],Re=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,J=Array.isArray;function E(t,e){for(var n in e)t[n]=e[n];return t}function ue(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function l(t,e,n){var o,r,_,c={};for(_ in e)_=="key"?o=e[_]:_=="ref"?r=e[_]:c[_]=e[_];if(arguments.length>2&&(c.children=arguments.length>3?$.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(_ in t.defaultProps)c[_]===void 0&&(c[_]=t.defaultProps[_]);return R(t,c,o,r,null)}function R(t,e,n,o,r){var _={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r??++se,__i:-1,__u:0};return r==null&&m.vnode!=null&&m.vnode(_),_}function N(t){return t.children}function B(t,e){this.props=t,this.context=e}function I(t,e){if(e==null)return t.__?I(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?I(t):null}function de(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return de(t)}}function ie(t){(!t.__d&&(t.__d=!0)&&w.push(t)&&!O.__r++||re!==m.debounceRendering)&&((re=m.debounceRendering)||le)(O)}function O(){var t,e,n,o,r,_,c,a;for(w.sort(q);t=w.shift();)t.__d&&(e=w.length,o=void 0,_=(r=(n=t).__v).__e,c=[],a=[],n.__P&&((o=E({},r)).__v=r.__v+1,m.vnode&&m.vnode(o),Q(n.__P,o,r,n.__n,n.__P.namespaceURI,32&r.__u?[_]:null,c,_??I(r),!!(32&r.__u),a),o.__v=r.__v,o.__.__k[o.__i]=o,me(c,o,a),o.__e!=_&&de(o)),w.length>e&&w.sort(q));O.__r=0}function pe(t,e,n,o,r,_,c,a,u,s,p){var i,f,d,b,x,C=o&&o.__k||ce,h=e.length;for(n.__d=u,Be(n,e,C),u=n.__d,i=0;i<h;i++)(d=n.__k[i])!=null&&(f=d.__i===-1?D:C[d.__i]||D,d.__i=i,Q(t,d,f,r,_,c,a,u,s,p),b=d.__e,d.ref&&f.ref!=d.ref&&(f.ref&&Y(f.ref,null,d),p.push(d.ref,d.__c||b,d)),x==null&&b!=null&&(x=b),65536&d.__u||f.__k===d.__k?u=fe(d,u,t):typeof d.type=="function"&&d.__d!==void 0?u=d.__d:b&&(u=b.nextSibling),d.__d=void 0,d.__u&=-196609);n.__d=u,n.__e=x}function Be(t,e,n){var o,r,_,c,a,u=e.length,s=n.length,p=s,i=0;for(t.__k=[],o=0;o<u;o++)(r=e[o])!=null&&typeof r!="boolean"&&typeof r!="function"?(c=o+i,(r=t.__k[o]=typeof r=="string"||typeof r=="number"||typeof r=="bigint"||r.constructor==String?R(null,r,null,null,null):J(r)?R(N,{children:r},null,null,null):r.constructor===void 0&&r.__b>0?R(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r).__=t,r.__b=t.__b+1,_=null,(a=r.__i=Oe(r,n,c,p))!==-1&&(p--,(_=n[a])&&(_.__u|=131072)),_==null||_.__v===null?(a==-1&&i--,typeof r.type!="function"&&(r.__u|=65536)):a!==c&&(a==c-1?i--:a==c+1?i++:(a>c?i--:i++,r.__u|=65536))):r=t.__k[o]=null;if(p)for(o=0;o<s;o++)(_=n[o])!=null&&!(131072&_.__u)&&(_.__e==t.__d&&(t.__d=I(_)),he(_,_))}function fe(t,e,n){var o,r;if(typeof t.type=="function"){for(o=t.__k,r=0;o&&r<o.length;r++)o[r]&&(o[r].__=t,e=fe(o[r],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=I(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function Oe(t,e,n,o){var r=t.key,_=t.type,c=n-1,a=n+1,u=e[n];if(u===null||u&&r==u.key&&_===u.type&&!(131072&u.__u))return n;if(o>(u!=null&&!(131072&u.__u)?1:0))for(;c>=0||a<e.length;){if(c>=0){if((u=e[c])&&!(131072&u.__u)&&r==u.key&&_===u.type)return c;c--}if(a<e.length){if((u=e[a])&&!(131072&u.__u)&&r==u.key&&_===u.type)return a;a++}}return-1}function _e(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Re.test(e)?n:n+"px"}function A(t,e,n,o,r){var _;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(e in o)n&&e in n||_e(t.style,e,"");if(n)for(e in n)o&&n[e]===o[e]||_e(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")_=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+_]=n,n?o?n.u=o.u:(n.u=X,t.addEventListener(e,_?K:G,_)):t.removeEventListener(e,_?K:G,_);else{if(r=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function ae(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=X++;else if(e.t<n.u)return;return n(m.event?m.event(e):e)}}}function Q(t,e,n,o,r,_,c,a,u,s){var p,i,f,d,b,x,C,h,v,H,M,P,F,oe,z,j,k=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(u=!!(32&n.__u),_=[a=e.__e=n.__e]),(p=m.__b)&&p(e);e:if(typeof k=="function")try{if(h=e.props,v="prototype"in k&&k.prototype.render,H=(p=k.contextType)&&o[p.__c],M=p?H?H.props.value:p.__:o,n.__c?C=(i=e.__c=n.__c).__=i.__E:(v?e.__c=i=new k(h,M):(e.__c=i=new B(h,M),i.constructor=k,i.render=We),H&&H.sub(i),i.props=h,i.state||(i.state={}),i.context=M,i.__n=o,f=i.__d=!0,i.__h=[],i._sb=[]),v&&i.__s==null&&(i.__s=i.state),v&&k.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=E({},i.__s)),E(i.__s,k.getDerivedStateFromProps(h,i.__s))),d=i.props,b=i.state,i.__v=e,f)v&&k.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),v&&i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(v&&k.getDerivedStateFromProps==null&&h!==d&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(h,M),!i.__e&&(i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(h,i.__s,M)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(i.props=h,i.state=i.__s,i.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(U){U&&(U.__=e)}),P=0;P<i._sb.length;P++)i.__h.push(i._sb[P]);i._sb=[],i.__h.length&&c.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(h,i.__s,M),v&&i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(d,b,x)})}if(i.context=M,i.props=h,i.__P=t,i.__e=!1,F=m.__r,oe=0,v){for(i.state=i.__s,i.__d=!1,F&&F(e),p=i.render(i.props,i.state,i.context),z=0;z<i._sb.length;z++)i.__h.push(i._sb[z]);i._sb=[]}else do i.__d=!1,F&&F(e),p=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++oe<25);i.state=i.__s,i.getChildContext!=null&&(o=E(E({},o),i.getChildContext())),v&&!f&&i.getSnapshotBeforeUpdate!=null&&(x=i.getSnapshotBeforeUpdate(d,b)),pe(t,J(j=p!=null&&p.type===N&&p.key==null?p.props.children:p)?j:[j],e,n,o,r,_,c,a,u,s),i.base=e.__e,e.__u&=-161,i.__h.length&&c.push(i),C&&(i.__E=i.__=null)}catch(U){if(e.__v=null,u||_!=null){for(e.__u|=u?160:32;a&&a.nodeType===8&&a.nextSibling;)a=a.nextSibling;_[_.indexOf(a)]=null,e.__e=a}else e.__e=n.__e,e.__k=n.__k;m.__e(U,e,n)}else _==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=$e(n.__e,e,n,o,r,_,c,u,s);(p=m.diffed)&&p(e)}function me(t,e,n){e.__d=void 0;for(var o=0;o<n.length;o++)Y(n[o],n[++o],n[++o]);m.__c&&m.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(_){_.call(r)})}catch(_){m.__e(_,r.__v)}})}function $e(t,e,n,o,r,_,c,a,u){var s,p,i,f,d,b,x,C=n.props,h=e.props,v=e.type;if(v==="svg"?r="http://www.w3.org/2000/svg":v==="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),_!=null){for(s=0;s<_.length;s++)if((d=_[s])&&"setAttribute"in d==!!v&&(v?d.localName===v:d.nodeType===3)){t=d,_[s]=null;break}}if(t==null){if(v===null)return document.createTextNode(h);t=document.createElementNS(r,v,h.is&&h),a&&(m.__m&&m.__m(e,_),a=!1),_=null}if(v===null)C===h||a&&t.data===h||(t.data=h);else{if(_=_&&$.call(t.childNodes),C=n.props||D,!a&&_!=null)for(C={},s=0;s<t.attributes.length;s++)C[(d=t.attributes[s]).name]=d.value;for(s in C)if(d=C[s],s!="children"){if(s=="dangerouslySetInnerHTML")i=d;else if(!(s in h)){if(s=="value"&&"defaultValue"in h||s=="checked"&&"defaultChecked"in h)continue;A(t,s,null,d,r)}}for(s in h)d=h[s],s=="children"?f=d:s=="dangerouslySetInnerHTML"?p=d:s=="value"?b=d:s=="checked"?x=d:a&&typeof d!="function"||C[s]===d||A(t,s,d,C[s],r);if(p)a||i&&(p.__html===i.__html||p.__html===t.innerHTML)||(t.innerHTML=p.__html),e.__k=[];else if(i&&(t.innerHTML=""),pe(t,J(f)?f:[f],e,n,o,v==="foreignObject"?"http://www.w3.org/1999/xhtml":r,_,c,_?_[0]:n.__k&&I(n,0),a,u),_!=null)for(s=_.length;s--;)ue(_[s]);a||(s="value",v==="progress"&&b==null?t.removeAttribute("value"):b!==void 0&&(b!==t[s]||v==="progress"&&!b||v==="option"&&b!==C[s])&&A(t,s,b,C[s],r),s="checked",x!==void 0&&x!==t[s]&&A(t,s,x,C[s],r))}return t}function Y(t,e,n){try{if(typeof t=="function"){var o=typeof t.__u=="function";o&&t.__u(),o&&e==null||(t.__u=t(e))}else t.current=e}catch(r){m.__e(r,n)}}function he(t,e,n){var o,r;if(m.unmount&&m.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||Y(o,null,e)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(_){m.__e(_,e)}o.base=o.__P=null}if(o=t.__k)for(r=0;r<o.length;r++)o[r]&&he(o[r],e,n||typeof t.type!="function");n||ue(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function We(t,e,n){return this.constructor(t,n)}function ve(t,e,n){var o,r,_,c;m.__&&m.__(t,e),r=(o=typeof n=="function")?null:n&&n.__k||e.__k,_=[],c=[],Q(e,t=(!o&&n||e).__k=l(N,null,[t]),r||D,D,e.namespaceURI,!o&&n?[n]:r?null:e.firstChild?$.call(e.childNodes):null,_,!o&&n?n:r?r.__e:e.firstChild,o,c),me(_,t,c)}$=ce.slice,m={__e:function(t,e,n,o){for(var r,_,c;e=e.__;)if((r=e.__c)&&!r.__)try{if((_=r.constructor)&&_.getDerivedStateFromError!=null&&(r.setState(_.getDerivedStateFromError(t)),c=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(t,o||{}),c=r.__d),c)return r.__E=r}catch(a){t=a}throw t}},se=0,Ue=function(t){return t!=null&&t.constructor==null},B.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=E({},this.state),typeof t=="function"&&(t=t(E({},n),this.props)),t&&E(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),ie(this))},B.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ie(this))},B.prototype.render=N,w=[],le=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,q=function(t,e){return t.__v.__b-e.__v.__b},O.__r=0,X=0,G=ae(!1),K=ae(!0),Ae=0;var L,g,Z,ge,V=0,Ee=[],y=m,be=y.__b,ye=y.__r,Ce=y.diffed,xe=y.__c,ke=y.unmount,Te=y.__;function te(t,e){y.__h&&y.__h(g,t,V||e),V=0;var n=g.__H||(g.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function S(t){return V=1,Ve(Ne,t)}function Ve(t,e,n){var o=te(L++,2);if(o.t=t,!o.__c&&(o.__=[n?n(e):Ne(void 0,e),function(a){var u=o.__N?o.__N[0]:o.__[0],s=o.t(u,a);u!==s&&(o.__N=[s,o.__[1]],o.__c.setState({}))}],o.__c=g,!g.u)){var r=function(a,u,s){if(!o.__c.__H)return!0;var p=o.__c.__H.__.filter(function(f){return!!f.__c});if(p.every(function(f){return!f.__N}))return!_||_.call(this,a,u,s);var i=!1;return p.forEach(function(f){if(f.__N){var d=f.__[0];f.__=f.__N,f.__N=void 0,d!==f.__[0]&&(i=!0)}}),!(!i&&o.__c.props===a)&&(!_||_.call(this,a,u,s))};g.u=!0;var _=g.shouldComponentUpdate,c=g.componentWillUpdate;g.componentWillUpdate=function(a,u,s){if(this.__e){var p=_;_=void 0,r(a,u,s),_=p}c&&c.call(this,a,u,s)},g.shouldComponentUpdate=r}return o.__N||o.__}function Se(t,e){var n=te(L++,3);!y.__s&&Ie(n.__H,e)&&(n.__=t,n.i=e,g.__H.__h.push(n))}function we(t){return V=5,je(function(){return{current:t}},[])}function je(t,e){var n=te(L++,7);return Ie(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function qe(){for(var t;t=Ee.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(W),t.__H.__h.forEach(ee),t.__H.__h=[]}catch(e){t.__H.__h=[],y.__e(e,t.__v)}}y.__b=function(t){g=null,be&&be(t)},y.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Te&&Te(t,e)},y.__r=function(t){ye&&ye(t),L=0;var e=(g=t.__c).__H;e&&(Z===g?(e.__h=[],g.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(W),e.__h.forEach(ee),e.__h=[],L=0)),Z=g},y.diffed=function(t){Ce&&Ce(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Ee.push(e)!==1&&ge===y.requestAnimationFrame||((ge=y.requestAnimationFrame)||Ge)(qe)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),Z=g=null},y.__c=function(t,e){e.some(function(n){try{n.__h.forEach(W),n.__h=n.__h.filter(function(o){return!o.__||ee(o)})}catch(o){e.some(function(r){r.__h&&(r.__h=[])}),e=[],y.__e(o,n.__v)}}),xe&&xe(t,e)},y.unmount=function(t){ke&&ke(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{W(o)}catch(r){e=r}}),n.__H=void 0,e&&y.__e(e,n.__v))};var Me=typeof requestAnimationFrame=="function";function Ge(t){var e,n=function(){clearTimeout(o),Me&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(n,100);Me&&(e=requestAnimationFrame(n))}function W(t){var e=g,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),g=e}function ee(t){var e=g;t.__c=t.__(),g=e}function Ie(t,e){return!t||t.length!==e.length||e.some(function(n,o){return n!==t[o]})}function Ne(t,e){return typeof e=="function"?e(t):e}function He(t,e){let n=we(void 0),o=(...r)=>{n.current&&clearTimeout(n.current),n.current=window.setTimeout(()=>{t(...r)},e)};return Se(()=>()=>{n.current&&clearTimeout(n.current)},[]),o}var Ke=new Intl.NumberFormat("en-US"),T=({value:t})=>l(N,null,Ke.format(t));var ne=[{bg:"#c1e7ff",fg:"#000"},{bg:"#abd2ec",fg:"#000"},{bg:"#94bed9",fg:"#000"},{bg:"#7faac6",fg:"#000"},{bg:"#6996b3",fg:"#fff"},{bg:"#5383a1",fg:"#fff"},{bg:"#3d708f",fg:"#fff"},{bg:"#255e7e",fg:"#fff"}],Xe=({scoreBy:t,nodes:e,epoch:n})=>{if(e.length===0)return null;let o=t;if(t.field!=="tokens"){let r=e[0][t.field],_=e[0][t.field];for(let c=1;c<e.length;c++)r=Math.max(r,e[c][t.field]),_=Math.max(_,e[c][t.field]);o={field:t.field,max:r,min:_}}return l("div",{className:"node-children"},e.map((r,_)=>r.type===2?l(Je,{scoreBy:o,key:_,node:r}):l(Le,{scoreBy:o,key:_,node:r,epoch:n})))},Fe=({node:t})=>l("div",{className:"node-stats"},"Used Tokens: ",l(T,{value:t.tokens})," / ","Priority:"," ",t.priority===Number.MAX_SAFE_INTEGER?"MAX":l(T,{value:t.priority})),De=({scoreBy:t,node:e,children:n,...o})=>{let r=0;if(t.max!==t.min){let _=(e[t.field]-t.min)/(t.max-t.min);r=Math.round((ne.length-1)*_)}return l("div",{...o,className:`node ${o.className||""}`,style:{backgroundColor:ne[r].bg,color:ne[r].fg}},n)},Je=({scoreBy:t,node:e})=>l(De,{node:e,scoreBy:t,tabIndex:0,className:"node-text"},l(Fe,{node:e}),l("div",{className:"node-content"},e.value)),Le=({scoreBy:t,node:e,epoch:n})=>{let[o,r]=S(!1),_=EPOCHS.findIndex(i=>i.elements.some(f=>f.id===e.id));if(_===void 0)throw new Error(`epoch not found for ${e.id}`);let c=EPOCHS[_],a=EPOCHS.at(n),u=c.elements.find(i=>i.id===e.id).tokenBudget,s=e.type===1?e.name||e.role.slice(0,1).toUpperCase()+e.role.slice(1)+"Message":e.name,p=_===n?"new-in-epoch":n<_?"before-epoch":"";return l(De,{node:e,scoreBy:t,className:p},l(Fe,{node:e}),l("div",{className:"node-content node-toggler",onClick:()=>r(i=>!i)},l("span",null,a?.inNode===e.id?"\\u{1F3C3} ":"",`<${s}>`),l("span",{className:"indicator"},o?"[+]":"[-]")),n===_&&l("div",{className:"node-stats"},"Token Budget: ",l(T,{value:u})),a?.inNode===e.id&&l("div",{className:"node-stats"},"Rendering flexGrow=",a.flexValue,l("br",null),l("br",null),"Splitting"," ",a.reservedTokens?`${a.tokenBudget} - ${a.reservedTokens} (reserved) = `:"",l(T,{value:a.tokenBudget})," tokens among ",a.elements.length," ","elements"),!o&&l(Xe,{nodes:e.children,scoreBy:t,epoch:n}))},Pe=({scoreBy:t,node:e,epoch:n})=>{let o;return t==="tokens"?o={field:"tokens",max:e.tokens,min:0}:o={field:"priority",max:e.priority,min:e.priority},l(Le,{scoreBy:o,node:e,epoch:n})};var ze=({label:t,value:e,onChange:n,min:o,max:r})=>{let _=a=>{n(a.target.valueAsNumber)},c=`number-slider-${Math.random()}`;return l("div",{className:"controls-slider"},l("label",{htmlFor:c},t),l("input",{id:c,type:"range",min:o,max:r,value:e,onInput:_}),l("input",{type:"number",min:o,value:e,onInput:_,onChange:_}))},Qe=({scoreBy:t,onScoreByChange:e})=>{let n=o=>{let r=o.target.value;e(r)};return l("div",{className:"controls-scoreby"},"Visualize by",l("label",null,l("input",{type:"radio",name:"scoreBy",value:"tokens",checked:t==="tokens",onChange:n}),"Tokens"),l("label",null,l("input",{type:"radio",name:"scoreBy",value:"priority",checked:t==="priority",onChange:n}),"Priority"))},Ye=()=>{let[t,e]=S(DEFAULT_TOKENS),[n,o]=S(EPOCHS.length),[r,_]=S(DEFAULT_MODEL),[c,a]=S("tokens"),[u,s]=S("epoch"),p=He(async f=>{if(f===DEFAULT_TOKENS)return DEFAULT_MODEL;let b=await(await fetch(`${SERVER_ADDRESS}regen?n=${f}`)).json();_(b)},100),i=f=>{e(f),p(f),o(EPOCHS.length)};return l("div",{className:"app"},l("div",{className:"controls"},l("div",{className:"tabs"},l("div",{className:`tab ${u==="epoch"?"active":""}`,onClick:()=>s("epoch")},"View Order"),l("div",{className:`tab ${u==="tokens"?"active":""}`,onClick:()=>s("tokens")},"Change Token Budget")),l("div",{className:`tab-content ${u==="epoch"?"active":""}`},l(ze,{label:"Render Epoch",value:n,onChange:o,min:0,max:EPOCHS.length})),l("div",{className:`tab-content ${u==="tokens"?"active":""}`},l(ze,{label:"Token Budget",value:t,onChange:i,min:0,max:DEFAULT_TOKENS*2}))),l("div",{className:"control-description"},u==="tokens"?l("p",null,"Token changes here will prune elements and re-render Expandable ones, but the entire prompt is not being re-rendered"):l("p",null,"Changing the render epoch lets you see the order in which elements are rendered and how the token budget is allocated."),l("div",{className:"controls-stats"},l("span",null,"Used ",l(T,{value:r.container.tokens}),"/",l(T,{value:r.budget})," tokens"),l("span",null,"Removed ",l(T,{value:r.removed})," nodes"),l(Qe,{scoreBy:c,onScoreByChange:a}))),l(Pe,{node:r.container,scoreBy:c,epoch:n}))};ve(l(Ye,null),document.body);})();\n';Mb.tracerCss=`body{font-family:-apple-system,BlinkMacSystemFont,Segoe WPC,Segoe UI,system-ui,Ubuntu,Droid Sans,sans-serif;background:#fff;margin:0}.render-pass{border-left:2px solid #ccc;&:hover{border-left-color:#000}}.literals li{white-space:pre;font-family:SF Mono,Monaco,Menlo,Consolas,Ubuntu Mono,Liberation Mono,DejaVu Sans Mono,Courier New,monospace}.render-flex,.render-element{padding-left:10px}.node{border:1px solid rgba(255,255,255,.5);margin:3px 10px;padding:3px 10px;border-radius:4px;width:fit-content;&.new-in-epoch{box-shadow:0 0 3px 2px red}&.before-epoch{pointer-events:none;filter:grayscale(1);color:#777!important;.node{color:#777!important}}&:last-child{margin-bottom:0}}.node-content{font-weight:700}.node-children{margin-left:20px;border-left:2px dashed rgba(255,255,255,.5);padding-left:10px}.node-toggler{cursor:pointer;display:flex;align-items:center;justify-content:space-between;.indicator{font-size:.7em}}.node-text{width:400px;&:focus,&:focus-within{outline:1px solid orange;.node-content{white-space:normal}}.node-content{font-weight:400;font-size:.8em;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}}.node-stats{font-family:SF Mono,Monaco,Menlo,Consolas,Ubuntu Mono,Liberation Mono,DejaVu Sans Mono,Courier New,monospace;font-size:.8em}.control-description{padding:10px;p{font-size:.9em;max-width:500px;margin-top:0}}.controls{display:flex;flex-direction:column;gap:10px;position:sticky;top:0;padding:10px;background:#fff;border-bottom:1px solid #ccc;z-index:1}.controls-slider{display:flex;align-items:center;gap:10px}.controls-stats{display:flex;gap:20px;list-style:none;padding:0;margin-top:0}.controls-scoreby{display:flex;gap:10px}.tabs{display:flex;border-bottom:1px solid #ccc;margin-bottom:10px}.tab{padding:10px;cursor:pointer;border:1px solid transparent;border-bottom:none}.tab.active{border-color:#ccc;border-bottom:1px solid #fff;background-color:#f9f9f9}.tab-content{display:none}.tab-content.active{display:block}
`});var Vxe=V(IL=>{"use strict";d();Object.defineProperty(IL,"__esModule",{value:!0});IL.HTMLTracer=void 0;var qxe=Uxe(),NT=PX(),dZ=class{static{o(this,"HTMLTracer")}traceData;epochs=[];addRenderEpoch(t){this.epochs.push(t)}includeInEpoch(t){this.epochs[this.epochs.length-1].elements.push(t)}didMaterializeTree(t){this.traceData=t}async serveHTML(){return mZ.create({epochs:this.epochs,traceData:Wxe(this.traceData)})}serveRouter(t){return new bL({baseAddress:t,epochs:this.epochs,traceData:Wxe(this.traceData)})}};IL.HTMLTracer=dZ;var bL=class{static{o(this,"RequestRouter")}opts;serverToken=crypto.randomUUID();constructor(t){this.opts=t}route(t,r){let n=t,i=r,s=new URL(n.url||"/","http://localhost"),a=`/${this.serverToken}`;switch(s.pathname){case a:case`${a}/`:this.onRoot(s,n,i);break;case`${a}/regen`:this.onRegen(s,n,i);break;default:return!1}return!0}get address(){return this.opts.baseAddress+"/"+this.serverToken}async getHTML(){let{traceData:t,epochs:r}=this.opts;return`<body>
			<style>${qxe.tracerCss}</style>
			<script>
				const DEFAULT_TOKENS = ${JSON.stringify(t.budget)};
				const EPOCHS = ${JSON.stringify(r)};
				const DEFAULT_MODEL = ${JSON.stringify(await Gxe(t.tokenizer,t.renderedTree))};
				const SERVER_ADDRESS = ${JSON.stringify(this.opts.baseAddress+"/"+this.serverToken+"/")};
				${qxe.tracerSrc}
			</script>
		</body>`}async onRegen(t,r,n){let{traceData:i}=this.opts,s=Number(t.searchParams.get("n")||i.budget),a=await i.renderTree(s),l=await Gxe(i.tokenizer,a),c=JSON.stringify(l);n.setHeader("Content-Type","application/json"),n.setHeader("Content-Length",Buffer.byteLength(c)),n.end(c)}onRoot(t,r,n){this.getHTML().then(i=>{n.setHeader("Content-Type","text/html"),n.setHeader("Content-Length",Buffer.byteLength(i)),n.end(i)})}},mZ=class e extends bL{static{o(this,"RequestServer")}server;static async create(t){let{createServer:r}=await Promise.resolve().then(()=>require("http")),n=r((a,l)=>{try{s.route(a,l)||(l.statusCode=404,l.end("Not Found"))}catch(c){l.statusCode=500,l.end(String(c))}}),i=await new Promise((a,l)=>{n.listen(0,"127.0.0.1",()=>a(n.address().port)).on("error",l)}),s=new e({...t,baseAddress:`http://127.0.0.1:${i}`},n);return s}constructor(t,r){super(t),this.server=r}dispose(){this.server.closeAllConnections(),this.server.close()}};async function Gxe(e,t){return{container:await Hxe(e,t.container,!1),removed:t.removed,budget:t.budget}}o(Gxe,"serializeRenderData");async function Hxe(e,t,r){let n={metadata:t.metadata.map(Slt),priority:t.priority};if(t instanceof NT.MaterializedChatMessageTextChunk)return{...n,type:2,value:t.text,tokens:await t.upperBoundTokenCount(e)};if(t instanceof NT.MaterializedChatMessageImage)return{...n,name:t.id.toString(),id:t.id,type:3,value:t.src,tokens:await t.upperBoundTokenCount(e)};{let i={...n,id:t.id,name:t.name,children:await Promise.all(t.children.map(s=>Hxe(e,s,r||t instanceof NT.MaterializedChatMessage))),tokens:r?await t.upperBoundTokenCount(e):await t.tokenCount(e)};if(t instanceof NT.MaterializedContainer)return{...i,type:0};if(t instanceof NT.MaterializedChatMessage){let s=t.text.filter(a=>typeof a=="string").join("").trim();return{...i,type:1,role:t.role,text:s}}}_lt(t)}o(Hxe,"serializeMaterialized");function _lt(e){throw new Error("unreachable")}o(_lt,"assertNever");function Slt(e){return{name:e.constructor.name,value:JSON.stringify(e)}}o(Slt,"serializeMetadata");var Wxe=o(e=>{if(e===void 0)throw new Error("Prompt must be rendered before calling HTMLTRacer.serveHTML");return e},"mustGet")});var $xe=V(hZ=>{"use strict";d();Object.defineProperty(hZ,"__esModule",{value:!0});hZ.forEachNode=jxe;function jxe(e,t){if(t(e),e.type===1)for(let r of e.children)jxe(r,t)}o(jxe,"forEachNode")});var Yxe=V(zxe=>{"use strict";d();Object.defineProperty(zxe,"__esModule",{value:!0})});var Jxe=V(Kxe=>{"use strict";d();Object.defineProperty(Kxe,"__esModule",{value:!0})});var Zxe=V(Xxe=>{"use strict";d();Object.defineProperty(Xxe,"__esModule",{value:!0})});var Ob=V(wn=>{"use strict";d();var Blt=wn&&wn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),FT=wn&&wn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Blt(t,e,r)};Object.defineProperty(wn,"__esModule",{value:!0});wn.contentType=wn.PromptRenderer=wn.MetadataMap=wn.PromptElement=wn.useKeepWith=wn.ToolResult=wn.UserMessage=wn.ToolMessage=wn.TextChunk=wn.SystemMessage=wn.PrioritizedList=wn.LegacyPrioritization=wn.FunctionMessage=wn.Chunk=wn.AssistantMessage=wn.ChatRole=wn.JSONTree=void 0;wn.renderPrompt=Plt;wn.renderElementJSON=Nlt;wn.toVsCodeChatMessages=rve;var TL=Db(),eve=uZ(),klt=Oxe();FT(Vxe(),wn);wn.JSONTree=$xe();var Rlt=Db();Object.defineProperty(wn,"ChatRole",{enumerable:!0,get:o(function(){return Rlt.ChatRole},"get")});FT(rZ(),wn);FT(Yxe(),wn);FT(Jxe(),wn);FT(Zxe(),wn);var Bm=jX();Object.defineProperty(wn,"AssistantMessage",{enumerable:!0,get:o(function(){return Bm.AssistantMessage},"get")});Object.defineProperty(wn,"Chunk",{enumerable:!0,get:o(function(){return Bm.Chunk},"get")});Object.defineProperty(wn,"FunctionMessage",{enumerable:!0,get:o(function(){return Bm.FunctionMessage},"get")});Object.defineProperty(wn,"LegacyPrioritization",{enumerable:!0,get:o(function(){return Bm.LegacyPrioritization},"get")});Object.defineProperty(wn,"PrioritizedList",{enumerable:!0,get:o(function(){return Bm.PrioritizedList},"get")});Object.defineProperty(wn,"SystemMessage",{enumerable:!0,get:o(function(){return Bm.SystemMessage},"get")});Object.defineProperty(wn,"TextChunk",{enumerable:!0,get:o(function(){return Bm.TextChunk},"get")});Object.defineProperty(wn,"ToolMessage",{enumerable:!0,get:o(function(){return Bm.ToolMessage},"get")});Object.defineProperty(wn,"UserMessage",{enumerable:!0,get:o(function(){return Bm.UserMessage},"get")});Object.defineProperty(wn,"ToolResult",{enumerable:!0,get:o(function(){return Bm.ToolResult},"get")});Object.defineProperty(wn,"useKeepWith",{enumerable:!0,get:o(function(){return Bm.useKeepWith},"get")});var Dlt=FX();Object.defineProperty(wn,"PromptElement",{enumerable:!0,get:o(function(){return Dlt.PromptElement},"get")});var tve=uZ();Object.defineProperty(wn,"MetadataMap",{enumerable:!0,get:o(function(){return tve.MetadataMap},"get")});Object.defineProperty(wn,"PromptRenderer",{enumerable:!0,get:o(function(){return tve.PromptRenderer},"get")});async function Plt(e,t,r,n,i,s,a="vscode"){let l="countTokens"in n?new klt.AnyTokenizer((E,x)=>n.countTokens(E,x),a):n,c=new eve.PromptRenderer(r,e,t,l),u=await c.render(i,s),{tokenCount:f,references:m,metadata:h}=u,p=u.messages,A=c.getUsedContext();return a==="vscode"&&(p=rve(p)),{messages:p,tokenCount:f,metadatas:h,metadata:h,usedContext:A,references:m}}o(Plt,"renderPrompt");wn.contentType="application/vnd.codechat.prompt+json.1";function Nlt(e,t,r,n){return new eve.PromptRenderer({modelMaxPromptTokens:r?.tokenBudget??Number.MAX_SAFE_INTEGER},e,t,{countMessageTokens(s){throw new Error("Tools may only return text, not messages.")},tokenLength(s,a){return Promise.resolve(r?.countTokens(s,a)??Promise.resolve(1))}}).renderElementJSON(n)}o(Nlt,"renderElementJSON");function rve(e){let t=require("vscode");return e.map(r=>{switch(r.role){case TL.ChatRole.Assistant:let n=t.LanguageModelChatMessage.Assistant(r.content,r.name);return r.tool_calls&&(n.content=[new t.LanguageModelTextPart(r.content),...r.tool_calls.map(i=>{let s;try{s=JSON.parse(i.function.arguments)}catch{throw new Error("Invalid JSON in tool call arguments for tool call: "+i.id)}return new t.LanguageModelToolCallPart(i.id,i.function.name,s)})]),n;case TL.ChatRole.User:return t.LanguageModelChatMessage.User(r.content,r.name);case TL.ChatRole.Function:{let i=t.LanguageModelChatMessage.User("");return i.content=[new t.LanguageModelToolResultPart(r.name,[new t.LanguageModelTextPart(r.content)])],i}case TL.ChatRole.Tool:{let i=t.LanguageModelChatMessage.User("");return i.content=[new t.LanguageModelToolResultPart(r.tool_call_id,[new t.LanguageModelTextPart(r.content)])],i}default:throw new Error(`Converting chat message with role ${r.role} to VS Code chat message is not supported.`)}})}o(rve,"toVsCodeChatMessages")});var vs=V((pNr,hIe)=>{d();hIe.exports={kClose:Symbol("close"),kDestroy:Symbol("destroy"),kDispatch:Symbol("dispatch"),kUrl:Symbol("url"),kWriting:Symbol("writing"),kResuming:Symbol("resuming"),kQueue:Symbol("queue"),kConnect:Symbol("connect"),kConnecting:Symbol("connecting"),kKeepAliveDefaultTimeout:Symbol("default keep alive timeout"),kKeepAliveMaxTimeout:Symbol("max keep alive timeout"),kKeepAliveTimeoutThreshold:Symbol("keep alive timeout threshold"),kKeepAliveTimeoutValue:Symbol("keep alive timeout"),kKeepAlive:Symbol("keep alive"),kHeadersTimeout:Symbol("headers timeout"),kBodyTimeout:Symbol("body timeout"),kServerName:Symbol("server name"),kLocalAddress:Symbol("local address"),kHost:Symbol("host"),kNoRef:Symbol("no ref"),kBodyUsed:Symbol("used"),kBody:Symbol("abstracted request body"),kRunning:Symbol("running"),kBlocking:Symbol("blocking"),kPending:Symbol("pending"),kSize:Symbol("size"),kBusy:Symbol("busy"),kQueued:Symbol("queued"),kFree:Symbol("free"),kConnected:Symbol("connected"),kClosed:Symbol("closed"),kNeedDrain:Symbol("need drain"),kReset:Symbol("reset"),kDestroyed:Symbol.for("nodejs.stream.destroyed"),kResume:Symbol("resume"),kOnError:Symbol("on error"),kMaxHeadersSize:Symbol("max headers size"),kRunningIdx:Symbol("running index"),kPendingIdx:Symbol("pending index"),kError:Symbol("error"),kClients:Symbol("clients"),kClient:Symbol("client"),kParser:Symbol("parser"),kOnDestroyed:Symbol("destroy callbacks"),kPipelining:Symbol("pipelining"),kSocket:Symbol("socket"),kHostHeader:Symbol("host header"),kConnector:Symbol("connector"),kStrictContentLength:Symbol("strict content length"),kMaxRedirections:Symbol("maxRedirections"),kMaxRequests:Symbol("maxRequestsPerClient"),kProxy:Symbol("proxy agent options"),kCounter:Symbol("socket request counter"),kInterceptors:Symbol("dispatch interceptors"),kMaxResponseSize:Symbol("max response size"),kHTTP2Session:Symbol("http2Session"),kHTTP2SessionState:Symbol("http2Session state"),kRetryHandlerDefaultRetry:Symbol("retry agent default retry"),kConstruct:Symbol("constructable"),kListeners:Symbol("listeners"),kHTTPContext:Symbol("http context"),kMaxConcurrentStreams:Symbol("max concurrent streams"),kNoProxyAgent:Symbol("no proxy agent"),kHttpProxyAgent:Symbol("http proxy agent"),kHttpsProxyAgent:Symbol("https proxy agent")}});var ao=V((ANr,pIe)=>{"use strict";d();var Rs=class extends Error{static{o(this,"UndiciError")}constructor(t){super(t),this.name="UndiciError",this.code="UND_ERR"}},See=class extends Rs{static{o(this,"ConnectTimeoutError")}constructor(t){super(t),this.name="ConnectTimeoutError",this.message=t||"Connect Timeout Error",this.code="UND_ERR_CONNECT_TIMEOUT"}},Bee=class extends Rs{static{o(this,"HeadersTimeoutError")}constructor(t){super(t),this.name="HeadersTimeoutError",this.message=t||"Headers Timeout Error",this.code="UND_ERR_HEADERS_TIMEOUT"}},kee=class extends Rs{static{o(this,"HeadersOverflowError")}constructor(t){super(t),this.name="HeadersOverflowError",this.message=t||"Headers Overflow Error",this.code="UND_ERR_HEADERS_OVERFLOW"}},Ree=class extends Rs{static{o(this,"BodyTimeoutError")}constructor(t){super(t),this.name="BodyTimeoutError",this.message=t||"Body Timeout Error",this.code="UND_ERR_BODY_TIMEOUT"}},Dee=class extends Rs{static{o(this,"ResponseStatusCodeError")}constructor(t,r,n,i){super(t),this.name="ResponseStatusCodeError",this.message=t||"Response Status Code Error",this.code="UND_ERR_RESPONSE_STATUS_CODE",this.body=i,this.status=r,this.statusCode=r,this.headers=n}},Pee=class extends Rs{static{o(this,"InvalidArgumentError")}constructor(t){super(t),this.name="InvalidArgumentError",this.message=t||"Invalid Argument Error",this.code="UND_ERR_INVALID_ARG"}},Nee=class extends Rs{static{o(this,"InvalidReturnValueError")}constructor(t){super(t),this.name="InvalidReturnValueError",this.message=t||"Invalid Return Value Error",this.code="UND_ERR_INVALID_RETURN_VALUE"}},FQ=class extends Rs{static{o(this,"AbortError")}constructor(t){super(t),this.name="AbortError",this.message=t||"The operation was aborted"}},Fee=class extends FQ{static{o(this,"RequestAbortedError")}constructor(t){super(t),this.name="AbortError",this.message=t||"Request aborted",this.code="UND_ERR_ABORTED"}},Lee=class extends Rs{static{o(this,"InformationalError")}constructor(t){super(t),this.name="InformationalError",this.message=t||"Request information",this.code="UND_ERR_INFO"}},Qee=class extends Rs{static{o(this,"RequestContentLengthMismatchError")}constructor(t){super(t),this.name="RequestContentLengthMismatchError",this.message=t||"Request body length does not match content-length header",this.code="UND_ERR_REQ_CONTENT_LENGTH_MISMATCH"}},Mee=class extends Rs{static{o(this,"ResponseContentLengthMismatchError")}constructor(t){super(t),this.name="ResponseContentLengthMismatchError",this.message=t||"Response body length does not match content-length header",this.code="UND_ERR_RES_CONTENT_LENGTH_MISMATCH"}},Oee=class extends Rs{static{o(this,"ClientDestroyedError")}constructor(t){super(t),this.name="ClientDestroyedError",this.message=t||"The client is destroyed",this.code="UND_ERR_DESTROYED"}},Uee=class extends Rs{static{o(this,"ClientClosedError")}constructor(t){super(t),this.name="ClientClosedError",this.message=t||"The client is closed",this.code="UND_ERR_CLOSED"}},qee=class extends Rs{static{o(this,"SocketError")}constructor(t,r){super(t),this.name="SocketError",this.message=t||"Socket error",this.code="UND_ERR_SOCKET",this.socket=r}},Gee=class extends Rs{static{o(this,"NotSupportedError")}constructor(t){super(t),this.name="NotSupportedError",this.message=t||"Not supported error",this.code="UND_ERR_NOT_SUPPORTED"}},Wee=class extends Rs{static{o(this,"BalancedPoolMissingUpstreamError")}constructor(t){super(t),this.name="MissingUpstreamError",this.message=t||"No upstream has been added to the BalancedPool",this.code="UND_ERR_BPL_MISSING_UPSTREAM"}},Hee=class extends Error{static{o(this,"HTTPParserError")}constructor(t,r,n){super(t),this.name="HTTPParserError",this.code=r?`HPE_${r}`:void 0,this.data=n?n.toString():void 0}},Vee=class extends Rs{static{o(this,"ResponseExceededMaxSizeError")}constructor(t){super(t),this.name="ResponseExceededMaxSizeError",this.message=t||"Response content exceeded max size",this.code="UND_ERR_RES_EXCEEDED_MAX_SIZE"}},jee=class extends Rs{static{o(this,"RequestRetryError")}constructor(t,r,{headers:n,data:i}){super(t),this.name="RequestRetryError",this.message=t||"Request retry error",this.code="UND_ERR_REQ_RETRY",this.statusCode=r,this.data=i,this.headers=n}},$ee=class extends Rs{static{o(this,"ResponseError")}constructor(t,r,{headers:n,data:i}){super(t),this.name="ResponseError",this.message=t||"Response error",this.code="UND_ERR_RESPONSE",this.statusCode=r,this.data=i,this.headers=n}},zee=class extends Rs{static{o(this,"SecureProxyConnectionError")}constructor(t,r,n){super(r,{cause:t,...n??{}}),this.name="SecureProxyConnectionError",this.message=r||"Secure Proxy Connection failed",this.code="UND_ERR_PRX_TLS",this.cause=t}};pIe.exports={AbortError:FQ,HTTPParserError:Hee,UndiciError:Rs,HeadersTimeoutError:Bee,HeadersOverflowError:kee,BodyTimeoutError:Ree,RequestContentLengthMismatchError:Qee,ConnectTimeoutError:See,ResponseStatusCodeError:Dee,InvalidArgumentError:Pee,InvalidReturnValueError:Nee,RequestAbortedError:Fee,ClientDestroyedError:Oee,ClientClosedError:Uee,InformationalError:Lee,SocketError:qee,NotSupportedError:Gee,ResponseContentLengthMismatchError:Mee,BalancedPoolMissingUpstreamError:Wee,ResponseExceededMaxSizeError:Vee,RequestRetryError:jee,ResponseError:$ee,SecureProxyConnectionError:zee}});var QQ=V((ENr,gIe)=>{"use strict";d();var LQ={},Yee=["Accept","Accept-Encoding","Accept-Language","Accept-Ranges","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Age","Allow","Alt-Svc","Alt-Used","Authorization","Cache-Control","Clear-Site-Data","Connection","Content-Disposition","Content-Encoding","Content-Language","Content-Length","Content-Location","Content-Range","Content-Security-Policy","Content-Security-Policy-Report-Only","Content-Type","Cookie","Cross-Origin-Embedder-Policy","Cross-Origin-Opener-Policy","Cross-Origin-Resource-Policy","Date","Device-Memory","Downlink","ECT","ETag","Expect","Expect-CT","Expires","Forwarded","From","Host","If-Match","If-Modified-Since","If-None-Match","If-Range","If-Unmodified-Since","Keep-Alive","Last-Modified","Link","Location","Max-Forwards","Origin","Permissions-Policy","Pragma","Proxy-Authenticate","Proxy-Authorization","RTT","Range","Referer","Referrer-Policy","Refresh","Retry-After","Sec-WebSocket-Accept","Sec-WebSocket-Extensions","Sec-WebSocket-Key","Sec-WebSocket-Protocol","Sec-WebSocket-Version","Server","Server-Timing","Service-Worker-Allowed","Service-Worker-Navigation-Preload","Set-Cookie","SourceMap","Strict-Transport-Security","Supports-Loading-Mode","TE","Timing-Allow-Origin","Trailer","Transfer-Encoding","Upgrade","Upgrade-Insecure-Requests","User-Agent","Vary","Via","WWW-Authenticate","X-Content-Type-Options","X-DNS-Prefetch-Control","X-Frame-Options","X-Permitted-Cross-Domain-Policies","X-Powered-By","X-Requested-With","X-XSS-Protection"];for(let e=0;e<Yee.length;++e){let t=Yee[e],r=t.toLowerCase();LQ[t]=LQ[r]=r}Object.setPrototypeOf(LQ,null);gIe.exports={wellknownHeaderNames:Yee,headerNameLowerCasedRecord:LQ}});var EIe=V((vNr,CIe)=>{"use strict";d();var{wellknownHeaderNames:AIe,headerNameLowerCasedRecord:dut}=QQ(),Kee=class e{static{o(this,"TstNode")}value=null;left=null;middle=null;right=null;code;constructor(t,r,n){if(n===void 0||n>=t.length)throw new TypeError("Unreachable");if((this.code=t.charCodeAt(n))>127)throw new TypeError("key must be ascii string");t.length!==++n?this.middle=new e(t,r,n):this.value=r}add(t,r){let n=t.length;if(n===0)throw new TypeError("Unreachable");let i=0,s=this;for(;;){let a=t.charCodeAt(i);if(a>127)throw new TypeError("key must be ascii string");if(s.code===a)if(n===++i){s.value=r;break}else if(s.middle!==null)s=s.middle;else{s.middle=new e(t,r,i);break}else if(s.code<a)if(s.left!==null)s=s.left;else{s.left=new e(t,r,i);break}else if(s.right!==null)s=s.right;else{s.right=new e(t,r,i);break}}}search(t){let r=t.length,n=0,i=this;for(;i!==null&&n<r;){let s=t[n];for(s<=90&&s>=65&&(s|=32);i!==null;){if(s===i.code){if(r===++n)return i;i=i.middle;break}i=i.code<s?i.left:i.right}}return null}},MQ=class{static{o(this,"TernarySearchTree")}node=null;insert(t,r){this.node===null?this.node=new Kee(t,r,0):this.node.add(t,r)}lookup(t){return this.node?.search(t)?.value??null}},yIe=new MQ;for(let e=0;e<AIe.length;++e){let t=dut[AIe[e]];yIe.insert(t,t)}CIe.exports={TernarySearchTree:MQ,tree:yIe}});var ci=V((TNr,LIe)=>{"use strict";d();var $T=require("node:assert"),{kDestroyed:vIe,kBodyUsed:lI,kListeners:Jee,kBody:xIe}=vs(),{IncomingMessage:mut}=require("node:http"),qQ=require("node:stream"),hut=require("node:net"),{Blob:put}=require("node:buffer"),gut=require("node:util"),{stringify:Aut}=require("node:querystring"),{EventEmitter:yut}=require("node:events"),{InvalidArgumentError:Al}=ao(),{headerNameLowerCasedRecord:Cut}=QQ(),{tree:bIe}=EIe(),[Eut,xut]=process.versions.node.split(".").map(e=>Number(e)),UQ=class{static{o(this,"BodyAsyncIterable")}constructor(t){this[xIe]=t,this[lI]=!1}async*[Symbol.asyncIterator](){$T(!this[lI],"disturbed"),this[lI]=!0,yield*this[xIe]}};function vut(e){return GQ(e)?(SIe(e)===0&&e.on("data",function(){$T(!1)}),typeof e.readableDidRead!="boolean"&&(e[lI]=!1,yut.prototype.on.call(e,"data",function(){this[lI]=!0})),e):e&&typeof e.pipeTo=="function"?new UQ(e):e&&typeof e!="string"&&!ArrayBuffer.isView(e)&&_Ie(e)?new UQ(e):e}o(vut,"wrapRequestBody");function but(){}o(but,"nop");function GQ(e){return e&&typeof e=="object"&&typeof e.pipe=="function"&&typeof e.on=="function"}o(GQ,"isStream");function IIe(e){if(e===null)return!1;if(e instanceof put)return!0;if(typeof e!="object")return!1;{let t=e[Symbol.toStringTag];return(t==="Blob"||t==="File")&&("stream"in e&&typeof e.stream=="function"||"arrayBuffer"in e&&typeof e.arrayBuffer=="function")}}o(IIe,"isBlobLike");function Iut(e,t){if(e.includes("?")||e.includes("#"))throw new Error('Query params cannot be passed when url already contains "?" or "#".');let r=Aut(t);return r&&(e+="?"+r),e}o(Iut,"buildURL");function TIe(e){let t=parseInt(e,10);return t===Number(e)&&t>=0&&t<=65535}o(TIe,"isValidPort");function OQ(e){return e!=null&&e[0]==="h"&&e[1]==="t"&&e[2]==="t"&&e[3]==="p"&&(e[4]===":"||e[4]==="s"&&e[5]===":")}o(OQ,"isHttpOrHttpsPrefixed");function wIe(e){if(typeof e=="string"){if(e=new URL(e),!OQ(e.origin||e.protocol))throw new Al("Invalid URL protocol: the URL must start with `http:` or `https:`.");return e}if(!e||typeof e!="object")throw new Al("Invalid URL: The URL argument must be a non-null object.");if(!(e instanceof URL)){if(e.port!=null&&e.port!==""&&TIe(e.port)===!1)throw new Al("Invalid URL: port must be a valid integer or a string representation of an integer.");if(e.path!=null&&typeof e.path!="string")throw new Al("Invalid URL path: the path must be a string or null/undefined.");if(e.pathname!=null&&typeof e.pathname!="string")throw new Al("Invalid URL pathname: the pathname must be a string or null/undefined.");if(e.hostname!=null&&typeof e.hostname!="string")throw new Al("Invalid URL hostname: the hostname must be a string or null/undefined.");if(e.origin!=null&&typeof e.origin!="string")throw new Al("Invalid URL origin: the origin must be a string or null/undefined.");if(!OQ(e.origin||e.protocol))throw new Al("Invalid URL protocol: the URL must start with `http:` or `https:`.");let t=e.port!=null?e.port:e.protocol==="https:"?443:80,r=e.origin!=null?e.origin:`${e.protocol||""}//${e.hostname||""}:${t}`,n=e.path!=null?e.path:`${e.pathname||""}${e.search||""}`;return r[r.length-1]==="/"&&(r=r.slice(0,r.length-1)),n&&n[0]!=="/"&&(n=`/${n}`),new URL(`${r}${n}`)}if(!OQ(e.origin||e.protocol))throw new Al("Invalid URL protocol: the URL must start with `http:` or `https:`.");return e}o(wIe,"parseURL");function Tut(e){if(e=wIe(e),e.pathname!=="/"||e.search||e.hash)throw new Al("invalid url");return e}o(Tut,"parseOrigin");function wut(e){if(e[0]==="["){let r=e.indexOf("]");return $T(r!==-1),e.substring(1,r)}let t=e.indexOf(":");return t===-1?e:e.substring(0,t)}o(wut,"getHostname");function _ut(e){if(!e)return null;$T(typeof e=="string");let t=wut(e);return hut.isIP(t)?"":t}o(_ut,"getServerName");function Sut(e){return JSON.parse(JSON.stringify(e))}o(Sut,"deepClone");function But(e){return e!=null&&typeof e[Symbol.asyncIterator]=="function"}o(But,"isAsyncIterable");function _Ie(e){return e!=null&&(typeof e[Symbol.iterator]=="function"||typeof e[Symbol.asyncIterator]=="function")}o(_Ie,"isIterable");function SIe(e){if(e==null)return 0;if(GQ(e)){let t=e._readableState;return t&&t.objectMode===!1&&t.ended===!0&&Number.isFinite(t.length)?t.length:null}else{if(IIe(e))return e.size!=null?e.size:null;if(RIe(e))return e.byteLength}return null}o(SIe,"bodyLength");function BIe(e){return e&&!!(e.destroyed||e[vIe]||qQ.isDestroyed?.(e))}o(BIe,"isDestroyed");function kut(e,t){e==null||!GQ(e)||BIe(e)||(typeof e.destroy=="function"?(Object.getPrototypeOf(e).constructor===mut&&(e.socket=null),e.destroy(t)):t&&queueMicrotask(()=>{e.emit("error",t)}),e.destroyed!==!0&&(e[vIe]=!0))}o(kut,"destroy");var Rut=/timeout=(\d+)/;function Dut(e){let t=e.toString().match(Rut);return t?parseInt(t[1],10)*1e3:null}o(Dut,"parseKeepAliveTimeout");function kIe(e){return typeof e=="string"?Cut[e]??e.toLowerCase():bIe.lookup(e)??e.toString("latin1").toLowerCase()}o(kIe,"headerNameToString");function Put(e){return bIe.lookup(e)??e.toString("latin1").toLowerCase()}o(Put,"bufferToLowerCasedHeaderName");function Nut(e,t){t===void 0&&(t={});for(let r=0;r<e.length;r+=2){let n=kIe(e[r]),i=t[n];if(i)typeof i=="string"&&(i=[i],t[n]=i),i.push(e[r+1].toString("utf8"));else{let s=e[r+1];typeof s=="string"?t[n]=s:t[n]=Array.isArray(s)?s.map(a=>a.toString("utf8")):s.toString("utf8")}}return"content-length"in t&&"content-disposition"in t&&(t["content-disposition"]=Buffer.from(t["content-disposition"]).toString("latin1")),t}o(Nut,"parseHeaders");function Fut(e){let t=e.length,r=new Array(t),n=!1,i=-1,s,a,l=0;for(let c=0;c<e.length;c+=2)s=e[c],a=e[c+1],typeof s!="string"&&(s=s.toString()),typeof a!="string"&&(a=a.toString("utf8")),l=s.length,l===14&&s[7]==="-"&&(s==="content-length"||s.toLowerCase()==="content-length")?n=!0:l===19&&s[7]==="-"&&(s==="content-disposition"||s.toLowerCase()==="content-disposition")&&(i=c+1),r[c]=s,r[c+1]=a;return n&&i!==-1&&(r[i]=Buffer.from(r[i]).toString("latin1")),r}o(Fut,"parseRawHeaders");function RIe(e){return e instanceof Uint8Array||Buffer.isBuffer(e)}o(RIe,"isBuffer");function Lut(e,t,r){if(!e||typeof e!="object")throw new Al("handler must be an object");if(typeof e.onConnect!="function")throw new Al("invalid onConnect method");if(typeof e.onError!="function")throw new Al("invalid onError method");if(typeof e.onBodySent!="function"&&e.onBodySent!==void 0)throw new Al("invalid onBodySent method");if(r||t==="CONNECT"){if(typeof e.onUpgrade!="function")throw new Al("invalid onUpgrade method")}else{if(typeof e.onHeaders!="function")throw new Al("invalid onHeaders method");if(typeof e.onData!="function")throw new Al("invalid onData method");if(typeof e.onComplete!="function")throw new Al("invalid onComplete method")}}o(Lut,"validateHandler");function Qut(e){return!!(e&&(qQ.isDisturbed(e)||e[lI]))}o(Qut,"isDisturbed");function Mut(e){return!!(e&&qQ.isErrored(e))}o(Mut,"isErrored");function Out(e){return!!(e&&qQ.isReadable(e))}o(Out,"isReadable");function Uut(e){return{localAddress:e.localAddress,localPort:e.localPort,remoteAddress:e.remoteAddress,remotePort:e.remotePort,remoteFamily:e.remoteFamily,timeout:e.timeout,bytesWritten:e.bytesWritten,bytesRead:e.bytesRead}}o(Uut,"getSocketInfo");function qut(e){let t;return new ReadableStream({async start(){t=e[Symbol.asyncIterator]()},async pull(r){let{done:n,value:i}=await t.next();if(n)queueMicrotask(()=>{r.close(),r.byobRequest?.respond(0)});else{let s=Buffer.isBuffer(i)?i:Buffer.from(i);s.byteLength&&r.enqueue(new Uint8Array(s))}return r.desiredSize>0},async cancel(r){await t.return()},type:"bytes"})}o(qut,"ReadableStreamFrom");function Gut(e){return e&&typeof e=="object"&&typeof e.append=="function"&&typeof e.delete=="function"&&typeof e.get=="function"&&typeof e.getAll=="function"&&typeof e.has=="function"&&typeof e.set=="function"&&e[Symbol.toStringTag]==="FormData"}o(Gut,"isFormDataLike");function Wut(e,t){return"addEventListener"in e?(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)):(e.addListener("abort",t),()=>e.removeListener("abort",t))}o(Wut,"addAbortListener");var Hut=typeof String.prototype.toWellFormed=="function",Vut=typeof String.prototype.isWellFormed=="function";function DIe(e){return Hut?`${e}`.toWellFormed():gut.toUSVString(e)}o(DIe,"toUSVString");function jut(e){return Vut?`${e}`.isWellFormed():DIe(e)===`${e}`}o(jut,"isUSVString");function PIe(e){switch(e){case 34:case 40:case 41:case 44:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 123:case 125:return!1;default:return e>=33&&e<=126}}o(PIe,"isTokenCharCode");function $ut(e){if(e.length===0)return!1;for(let t=0;t<e.length;++t)if(!PIe(e.charCodeAt(t)))return!1;return!0}o($ut,"isValidHTTPToken");var zut=/[^\t\x20-\x7e\x80-\xff]/;function Yut(e){return!zut.test(e)}o(Yut,"isValidHeaderValue");function Kut(e){if(e==null||e==="")return{start:0,end:null,size:null};let t=e?e.match(/^bytes (\d+)-(\d+)\/(\d+)?$/):null;return t?{start:parseInt(t[1]),end:t[2]?parseInt(t[2]):null,size:t[3]?parseInt(t[3]):null}:null}o(Kut,"parseRangeHeader");function Jut(e,t,r){return(e[Jee]??=[]).push([t,r]),e.on(t,r),e}o(Jut,"addListener");function Xut(e){for(let[t,r]of e[Jee]??[])e.removeListener(t,r);e[Jee]=null}o(Xut,"removeAllListeners");function Zut(e,t,r){try{t.onError(r),$T(t.aborted)}catch(n){e.emit("error",n)}}o(Zut,"errorRequest");var NIe=Object.create(null);NIe.enumerable=!0;var Xee={delete:"DELETE",DELETE:"DELETE",get:"GET",GET:"GET",head:"HEAD",HEAD:"HEAD",options:"OPTIONS",OPTIONS:"OPTIONS",post:"POST",POST:"POST",put:"PUT",PUT:"PUT"},FIe={...Xee,patch:"patch",PATCH:"PATCH"};Object.setPrototypeOf(Xee,null);Object.setPrototypeOf(FIe,null);LIe.exports={kEnumerableProperty:NIe,nop:but,isDisturbed:Qut,isErrored:Mut,isReadable:Out,toUSVString:DIe,isUSVString:jut,isBlobLike:IIe,parseOrigin:Tut,parseURL:wIe,getServerName:_ut,isStream:GQ,isIterable:_Ie,isAsyncIterable:But,isDestroyed:BIe,headerNameToString:kIe,bufferToLowerCasedHeaderName:Put,addListener:Jut,removeAllListeners:Xut,errorRequest:Zut,parseRawHeaders:Fut,parseHeaders:Nut,parseKeepAliveTimeout:Dut,destroy:kut,bodyLength:SIe,deepClone:Sut,ReadableStreamFrom:qut,isBuffer:RIe,validateHandler:Lut,getSocketInfo:Uut,isFormDataLike:Gut,buildURL:Iut,addAbortListener:Wut,isValidHTTPToken:$ut,isValidHeaderValue:Yut,isTokenCharCode:PIe,parseRangeHeader:Kut,normalizedMethodRecordsBase:Xee,normalizedMethodRecords:FIe,isValidPort:TIe,isHttpOrHttpsPrefixed:OQ,nodeMajor:Eut,nodeMinor:xut,safeHTTPMethods:["GET","HEAD","OPTIONS","TRACE"],wrapRequestBody:vut}});var cI=V((SNr,MIe)=>{"use strict";d();var uo=require("node:diagnostics_channel"),ete=require("node:util"),WQ=ete.debuglog("undici"),Zee=ete.debuglog("fetch"),d4=ete.debuglog("websocket"),QIe=!1,eft={beforeConnect:uo.channel("undici:client:beforeConnect"),connected:uo.channel("undici:client:connected"),connectError:uo.channel("undici:client:connectError"),sendHeaders:uo.channel("undici:client:sendHeaders"),create:uo.channel("undici:request:create"),bodySent:uo.channel("undici:request:bodySent"),headers:uo.channel("undici:request:headers"),trailers:uo.channel("undici:request:trailers"),error:uo.channel("undici:request:error"),open:uo.channel("undici:websocket:open"),close:uo.channel("undici:websocket:close"),socketError:uo.channel("undici:websocket:socket_error"),ping:uo.channel("undici:websocket:ping"),pong:uo.channel("undici:websocket:pong")};if(WQ.enabled||Zee.enabled){let e=Zee.enabled?Zee:WQ;uo.channel("undici:client:beforeConnect").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s}}=t;e("connecting to %s using %s%s",`${s}${i?`:${i}`:""}`,n,r)}),uo.channel("undici:client:connected").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s}}=t;e("connected to %s using %s%s",`${s}${i?`:${i}`:""}`,n,r)}),uo.channel("undici:client:connectError").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s},error:a}=t;e("connection to %s using %s%s errored - %s",`${s}${i?`:${i}`:""}`,n,r,a.message)}),uo.channel("undici:client:sendHeaders").subscribe(t=>{let{request:{method:r,path:n,origin:i}}=t;e("sending request to %s %s/%s",r,i,n)}),uo.channel("undici:request:headers").subscribe(t=>{let{request:{method:r,path:n,origin:i},response:{statusCode:s}}=t;e("received response to %s %s/%s - HTTP %d",r,i,n,s)}),uo.channel("undici:request:trailers").subscribe(t=>{let{request:{method:r,path:n,origin:i}}=t;e("trailers received from %s %s/%s",r,i,n)}),uo.channel("undici:request:error").subscribe(t=>{let{request:{method:r,path:n,origin:i},error:s}=t;e("request to %s %s/%s errored - %s",r,i,n,s.message)}),QIe=!0}if(d4.enabled){if(!QIe){let e=WQ.enabled?WQ:d4;uo.channel("undici:client:beforeConnect").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s}}=t;e("connecting to %s%s using %s%s",s,i?`:${i}`:"",n,r)}),uo.channel("undici:client:connected").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s}}=t;e("connected to %s%s using %s%s",s,i?`:${i}`:"",n,r)}),uo.channel("undici:client:connectError").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s},error:a}=t;e("connection to %s%s using %s%s errored - %s",s,i?`:${i}`:"",n,r,a.message)}),uo.channel("undici:client:sendHeaders").subscribe(t=>{let{request:{method:r,path:n,origin:i}}=t;e("sending request to %s %s/%s",r,i,n)})}uo.channel("undici:websocket:open").subscribe(e=>{let{address:{address:t,port:r}}=e;d4("connection opened %s%s",t,r?`:${r}`:"")}),uo.channel("undici:websocket:close").subscribe(e=>{let{websocket:t,code:r,reason:n}=e;d4("closed connection to %s - %s %s",t.url,r,n)}),uo.channel("undici:websocket:socket_error").subscribe(e=>{d4("connection errored - %s",e.message)}),uo.channel("undici:websocket:ping").subscribe(e=>{d4("ping received")}),uo.channel("undici:websocket:pong").subscribe(e=>{d4("pong received")})}MIe.exports={channels:eft}});var WIe=V((kNr,GIe)=>{"use strict";d();var{InvalidArgumentError:Ds,NotSupportedError:tft}=ao(),v1=require("node:assert"),{isValidHTTPToken:qIe,isValidHeaderValue:OIe,isStream:rft,destroy:nft,isBuffer:ift,isFormDataLike:oft,isIterable:sft,isBlobLike:aft,buildURL:lft,validateHandler:cft,getServerName:uft,normalizedMethodRecords:fft}=ci(),{channels:yp}=cI(),{headerNameLowerCasedRecord:UIe}=QQ(),dft=/[^\u0021-\u00ff]/,ad=Symbol("handler"),tte=class{static{o(this,"Request")}constructor(t,{path:r,method:n,body:i,headers:s,query:a,idempotent:l,blocking:c,upgrade:u,headersTimeout:f,bodyTimeout:m,reset:h,throwOnError:p,expectContinue:A,servername:E},x){if(typeof r!="string")throw new Ds("path must be a string");if(r[0]!=="/"&&!(r.startsWith("http://")||r.startsWith("https://"))&&n!=="CONNECT")throw new Ds("path must be an absolute URL or start with a slash");if(dft.test(r))throw new Ds("invalid request path");if(typeof n!="string")throw new Ds("method must be a string");if(fft[n]===void 0&&!qIe(n))throw new Ds("invalid request method");if(u&&typeof u!="string")throw new Ds("upgrade must be a string");if(f!=null&&(!Number.isFinite(f)||f<0))throw new Ds("invalid headersTimeout");if(m!=null&&(!Number.isFinite(m)||m<0))throw new Ds("invalid bodyTimeout");if(h!=null&&typeof h!="boolean")throw new Ds("invalid reset");if(A!=null&&typeof A!="boolean")throw new Ds("invalid expectContinue");if(this.headersTimeout=f,this.bodyTimeout=m,this.throwOnError=p===!0,this.method=n,this.abort=null,i==null)this.body=null;else if(rft(i)){this.body=i;let b=this.body._readableState;(!b||!b.autoDestroy)&&(this.endHandler=o(function(){nft(this)},"autoDestroy"),this.body.on("end",this.endHandler)),this.errorHandler=v=>{this.abort?this.abort(v):this.error=v},this.body.on("error",this.errorHandler)}else if(ift(i))this.body=i.byteLength?i:null;else if(ArrayBuffer.isView(i))this.body=i.buffer.byteLength?Buffer.from(i.buffer,i.byteOffset,i.byteLength):null;else if(i instanceof ArrayBuffer)this.body=i.byteLength?Buffer.from(i):null;else if(typeof i=="string")this.body=i.length?Buffer.from(i):null;else if(oft(i)||sft(i)||aft(i))this.body=i;else throw new Ds("body must be a string, a Buffer, a Readable stream, an iterable, or an async iterable");if(this.completed=!1,this.aborted=!1,this.upgrade=u||null,this.path=a?lft(r,a):r,this.origin=t,this.idempotent=l??(n==="HEAD"||n==="GET"),this.blocking=c??!1,this.reset=h??null,this.host=null,this.contentLength=null,this.contentType=null,this.headers=[],this.expectContinue=A??!1,Array.isArray(s)){if(s.length%2!==0)throw new Ds("headers array must be even");for(let b=0;b<s.length;b+=2)HQ(this,s[b],s[b+1])}else if(s&&typeof s=="object")if(s[Symbol.iterator])for(let b of s){if(!Array.isArray(b)||b.length!==2)throw new Ds("headers must be in key-value pair format");HQ(this,b[0],b[1])}else{let b=Object.keys(s);for(let v=0;v<b.length;++v)HQ(this,b[v],s[b[v]])}else if(s!=null)throw new Ds("headers must be an object or an array");cft(x,n,u),this.servername=E||uft(this.host),this[ad]=x,yp.create.hasSubscribers&&yp.create.publish({request:this})}onBodySent(t){if(this[ad].onBodySent)try{return this[ad].onBodySent(t)}catch(r){this.abort(r)}}onRequestSent(){if(yp.bodySent.hasSubscribers&&yp.bodySent.publish({request:this}),this[ad].onRequestSent)try{return this[ad].onRequestSent()}catch(t){this.abort(t)}}onConnect(t){if(v1(!this.aborted),v1(!this.completed),this.error)t(this.error);else return this.abort=t,this[ad].onConnect(t)}onResponseStarted(){return this[ad].onResponseStarted?.()}onHeaders(t,r,n,i){v1(!this.aborted),v1(!this.completed),yp.headers.hasSubscribers&&yp.headers.publish({request:this,response:{statusCode:t,headers:r,statusText:i}});try{return this[ad].onHeaders(t,r,n,i)}catch(s){this.abort(s)}}onData(t){v1(!this.aborted),v1(!this.completed);try{return this[ad].onData(t)}catch(r){return this.abort(r),!1}}onUpgrade(t,r,n){return v1(!this.aborted),v1(!this.completed),this[ad].onUpgrade(t,r,n)}onComplete(t){this.onFinally(),v1(!this.aborted),this.completed=!0,yp.trailers.hasSubscribers&&yp.trailers.publish({request:this,trailers:t});try{return this[ad].onComplete(t)}catch(r){this.onError(r)}}onError(t){if(this.onFinally(),yp.error.hasSubscribers&&yp.error.publish({request:this,error:t}),!this.aborted)return this.aborted=!0,this[ad].onError(t)}onFinally(){this.errorHandler&&(this.body.off("error",this.errorHandler),this.errorHandler=null),this.endHandler&&(this.body.off("end",this.endHandler),this.endHandler=null)}addHeader(t,r){return HQ(this,t,r),this}};function HQ(e,t,r){if(r&&typeof r=="object"&&!Array.isArray(r))throw new Ds(`invalid ${t} header`);if(r===void 0)return;let n=UIe[t];if(n===void 0&&(n=t.toLowerCase(),UIe[n]===void 0&&!qIe(n)))throw new Ds("invalid header key");if(Array.isArray(r)){let i=[];for(let s=0;s<r.length;s++)if(typeof r[s]=="string"){if(!OIe(r[s]))throw new Ds(`invalid ${t} header`);i.push(r[s])}else if(r[s]===null)i.push("");else{if(typeof r[s]=="object")throw new Ds(`invalid ${t} header`);i.push(`${r[s]}`)}r=i}else if(typeof r=="string"){if(!OIe(r))throw new Ds(`invalid ${t} header`)}else r===null?r="":r=`${r}`;if(e.host===null&&n==="host"){if(typeof r!="string")throw new Ds("invalid host header");e.host=r}else if(e.contentLength===null&&n==="content-length"){if(e.contentLength=parseInt(r,10),!Number.isFinite(e.contentLength))throw new Ds("invalid content-length header")}else if(e.contentType===null&&n==="content-type")e.contentType=r,e.headers.push(t,r);else{if(n==="transfer-encoding"||n==="keep-alive"||n==="upgrade")throw new Ds(`invalid ${n} header`);if(n==="connection"){let i=typeof r=="string"?r.toLowerCase():null;if(i!=="close"&&i!=="keep-alive")throw new Ds("invalid connection header");i==="close"&&(e.reset=!0)}else{if(n==="expect")throw new tft("expect header not supported");e.headers.push(t,r)}}}o(HQ,"processHeader");GIe.exports=tte});var zT=V((PNr,HIe)=>{"use strict";d();var mft=require("node:events"),VQ=class extends mft{static{o(this,"Dispatcher")}dispatch(){throw new Error("not implemented")}close(){throw new Error("not implemented")}destroy(){throw new Error("not implemented")}compose(...t){let r=Array.isArray(t[0])?t[0]:t,n=this.dispatch.bind(this);for(let i of r)if(i!=null){if(typeof i!="function")throw new TypeError(`invalid interceptor, expected function received ${typeof i}`);if(n=i(n),n==null||typeof n!="function"||n.length!==2)throw new TypeError("invalid interceptor")}return new rte(this,n)}},rte=class extends VQ{static{o(this,"ComposedDispatcher")}#e=null;#t=null;constructor(t,r){super(),this.#e=t,this.#t=r}dispatch(...t){this.#t(...t)}close(...t){return this.#e.close(...t)}destroy(...t){return this.#e.destroy(...t)}};HIe.exports=VQ});var mI=V((LNr,VIe)=>{"use strict";d();var hft=zT(),{ClientDestroyedError:nte,ClientClosedError:pft,InvalidArgumentError:uI}=ao(),{kDestroy:gft,kClose:Aft,kClosed:YT,kDestroyed:fI,kDispatch:ite,kInterceptors:m4}=vs(),b1=Symbol("onDestroyed"),dI=Symbol("onClosed"),jQ=Symbol("Intercepted Dispatch"),ote=class extends hft{static{o(this,"DispatcherBase")}constructor(){super(),this[fI]=!1,this[b1]=null,this[YT]=!1,this[dI]=[]}get destroyed(){return this[fI]}get closed(){return this[YT]}get interceptors(){return this[m4]}set interceptors(t){if(t){for(let r=t.length-1;r>=0;r--)if(typeof this[m4][r]!="function")throw new uI("interceptor must be an function")}this[m4]=t}close(t){if(t===void 0)return new Promise((n,i)=>{this.close((s,a)=>s?i(s):n(a))});if(typeof t!="function")throw new uI("invalid callback");if(this[fI]){queueMicrotask(()=>t(new nte,null));return}if(this[YT]){this[dI]?this[dI].push(t):queueMicrotask(()=>t(null,null));return}this[YT]=!0,this[dI].push(t);let r=o(()=>{let n=this[dI];this[dI]=null;for(let i=0;i<n.length;i++)n[i](null,null)},"onClosed");this[Aft]().then(()=>this.destroy()).then(()=>{queueMicrotask(r)})}destroy(t,r){if(typeof t=="function"&&(r=t,t=null),r===void 0)return new Promise((i,s)=>{this.destroy(t,(a,l)=>a?s(a):i(l))});if(typeof r!="function")throw new uI("invalid callback");if(this[fI]){this[b1]?this[b1].push(r):queueMicrotask(()=>r(null,null));return}t||(t=new nte),this[fI]=!0,this[b1]=this[b1]||[],this[b1].push(r);let n=o(()=>{let i=this[b1];this[b1]=null;for(let s=0;s<i.length;s++)i[s](null,null)},"onDestroyed");this[gft](t).then(()=>{queueMicrotask(n)})}[jQ](t,r){if(!this[m4]||this[m4].length===0)return this[jQ]=this[ite],this[ite](t,r);let n=this[ite].bind(this);for(let i=this[m4].length-1;i>=0;i--)n=this[m4][i](n);return this[jQ]=n,n(t,r)}dispatch(t,r){if(!r||typeof r!="object")throw new uI("handler must be an object");try{if(!t||typeof t!="object")throw new uI("opts must be an object.");if(this[fI]||this[b1])throw new nte;if(this[YT])throw new pft;return this[jQ](t,r)}catch(n){if(typeof r.onError!="function")throw new uI("invalid onError method");return r.onError(n),!1}}};VIe.exports=ote});var dte=V((ONr,YIe)=>{"use strict";d();var hI=0,ste=1e3,ate=(ste>>1)-1,I1,lte=Symbol("kFastTimer"),T1=[],cte=-2,ute=-1,$Ie=0,jIe=1;function fte(){hI+=ate;let e=0,t=T1.length;for(;e<t;){let r=T1[e];r._state===$Ie?(r._idleStart=hI-ate,r._state=jIe):r._state===jIe&&hI>=r._idleStart+r._idleTimeout&&(r._state=ute,r._idleStart=-1,r._onTimeout(r._timerArg)),r._state===ute?(r._state=cte,--t!==0&&(T1[e]=T1[t])):++e}T1.length=t,T1.length!==0&&zIe()}o(fte,"onTick");function zIe(){I1?I1.refresh():(clearTimeout(I1),I1=setTimeout(fte,ate),I1.unref&&I1.unref())}o(zIe,"refreshTimeout");var $Q=class{static{o(this,"FastTimer")}[lte]=!0;_state=cte;_idleTimeout=-1;_idleStart=-1;_onTimeout;_timerArg;constructor(t,r,n){this._onTimeout=t,this._idleTimeout=r,this._timerArg=n,this.refresh()}refresh(){this._state===cte&&T1.push(this),(!I1||T1.length===1)&&zIe(),this._state=$Ie}clear(){this._state=ute,this._idleStart=-1}};YIe.exports={setTimeout(e,t,r){return t<=ste?setTimeout(e,t,r):new $Q(e,t,r)},clearTimeout(e){e[lte]?e.clear():clearTimeout(e)},setFastTimeout(e,t,r){return new $Q(e,t,r)},clearFastTimeout(e){e.clear()},now(){return hI},tick(e=0){hI+=e-ste+1,fte(),fte()},reset(){hI=0,T1.length=0,clearTimeout(I1),I1=null},kFastTimer:lte}});var KT=V((HNr,e8e)=>{"use strict";d();var yft=require("node:net"),KIe=require("node:assert"),ZIe=ci(),{InvalidArgumentError:Cft,ConnectTimeoutError:Eft}=ao(),zQ=dte();function JIe(){}o(JIe,"noop");var mte,hte;global.FinalizationRegistry&&!(process.env.NODE_V8_COVERAGE||process.env.UNDICI_NO_FG)?hte=class{static{o(this,"WeakSessionCache")}constructor(t){this._maxCachedSessions=t,this._sessionCache=new Map,this._sessionRegistry=new global.FinalizationRegistry(r=>{if(this._sessionCache.size<this._maxCachedSessions)return;let n=this._sessionCache.get(r);n!==void 0&&n.deref()===void 0&&this._sessionCache.delete(r)})}get(t){let r=this._sessionCache.get(t);return r?r.deref():null}set(t,r){this._maxCachedSessions!==0&&(this._sessionCache.set(t,new WeakRef(r)),this._sessionRegistry.register(r,t))}}:hte=class{static{o(this,"SimpleSessionCache")}constructor(t){this._maxCachedSessions=t,this._sessionCache=new Map}get(t){return this._sessionCache.get(t)}set(t,r){if(this._maxCachedSessions!==0){if(this._sessionCache.size>=this._maxCachedSessions){let{value:n}=this._sessionCache.keys().next();this._sessionCache.delete(n)}this._sessionCache.set(t,r)}}};function xft({allowH2:e,maxCachedSessions:t,socketPath:r,timeout:n,session:i,...s}){if(t!=null&&(!Number.isInteger(t)||t<0))throw new Cft("maxCachedSessions must be a positive integer or zero");let a={path:r,...s},l=new hte(t??100);return n=n??1e4,e=e??!1,o(function({hostname:u,host:f,protocol:m,port:h,servername:p,localAddress:A,httpSocket:E},x){let b;if(m==="https:"){mte||(mte=require("node:tls")),p=p||a.servername||ZIe.getServerName(f)||null;let S=p||u;KIe(S);let k=i||l.get(S)||null;h=h||443,b=mte.connect({highWaterMark:16384,...a,servername:p,session:k,localAddress:A,ALPNProtocols:e?["http/1.1","h2"]:["http/1.1"],socket:E,port:h,host:u}),b.on("session",function(P){l.set(S,P)})}else KIe(!E,"httpSocket can only be sent on TLS update"),h=h||80,b=yft.connect({highWaterMark:64*1024,...a,localAddress:A,port:h,host:u});if(a.keepAlive==null||a.keepAlive){let S=a.keepAliveInitialDelay===void 0?6e4:a.keepAliveInitialDelay;b.setKeepAlive(!0,S)}let v=vft(new WeakRef(b),{timeout:n,hostname:u,port:h});return b.setNoDelay(!0).once(m==="https:"?"secureConnect":"connect",function(){if(queueMicrotask(v),x){let S=x;x=null,S(null,this)}}).on("error",function(S){if(queueMicrotask(v),x){let k=x;x=null,k(S)}}),b},"connect")}o(xft,"buildConnector");var vft=process.platform==="win32"?(e,t)=>{if(!t.timeout)return JIe;let r=null,n=null,i=zQ.setFastTimeout(()=>{r=setImmediate(()=>{n=setImmediate(()=>XIe(e.deref(),t))})},t.timeout);return()=>{zQ.clearFastTimeout(i),clearImmediate(r),clearImmediate(n)}}:(e,t)=>{if(!t.timeout)return JIe;let r=null,n=zQ.setFastTimeout(()=>{r=setImmediate(()=>{XIe(e.deref(),t)})},t.timeout);return()=>{zQ.clearFastTimeout(n),clearImmediate(r)}};function XIe(e,t){if(e==null)return;let r="Connect Timeout Error";Array.isArray(e.autoSelectFamilyAttemptedAddresses)?r+=` (attempted addresses: ${e.autoSelectFamilyAttemptedAddresses.join(", ")},`:r+=` (attempted address: ${t.hostname}:${t.port},`,r+=` timeout: ${t.timeout}ms)`,ZIe.destroy(e,new Eft(r))}o(XIe,"onConnectTimeout");e8e.exports=xft});var t8e=V(YQ=>{"use strict";d();Object.defineProperty(YQ,"__esModule",{value:!0});YQ.enumToMap=void 0;function bft(e){let t={};return Object.keys(e).forEach(r=>{let n=e[r];typeof n=="number"&&(t[r]=n)}),t}o(bft,"enumToMap");YQ.enumToMap=bft});var r8e=V(Zt=>{"use strict";d();Object.defineProperty(Zt,"__esModule",{value:!0});Zt.SPECIAL_HEADERS=Zt.HEADER_STATE=Zt.MINOR=Zt.MAJOR=Zt.CONNECTION_TOKEN_CHARS=Zt.HEADER_CHARS=Zt.TOKEN=Zt.STRICT_TOKEN=Zt.HEX=Zt.URL_CHAR=Zt.STRICT_URL_CHAR=Zt.USERINFO_CHARS=Zt.MARK=Zt.ALPHANUM=Zt.NUM=Zt.HEX_MAP=Zt.NUM_MAP=Zt.ALPHA=Zt.FINISH=Zt.H_METHOD_MAP=Zt.METHOD_MAP=Zt.METHODS_RTSP=Zt.METHODS_ICE=Zt.METHODS_HTTP=Zt.METHODS=Zt.LENIENT_FLAGS=Zt.FLAGS=Zt.TYPE=Zt.ERROR=void 0;var Ift=t8e(),Tft;(function(e){e[e.OK=0]="OK",e[e.INTERNAL=1]="INTERNAL",e[e.STRICT=2]="STRICT",e[e.LF_EXPECTED=3]="LF_EXPECTED",e[e.UNEXPECTED_CONTENT_LENGTH=4]="UNEXPECTED_CONTENT_LENGTH",e[e.CLOSED_CONNECTION=5]="CLOSED_CONNECTION",e[e.INVALID_METHOD=6]="INVALID_METHOD",e[e.INVALID_URL=7]="INVALID_URL",e[e.INVALID_CONSTANT=8]="INVALID_CONSTANT",e[e.INVALID_VERSION=9]="INVALID_VERSION",e[e.INVALID_HEADER_TOKEN=10]="INVALID_HEADER_TOKEN",e[e.INVALID_CONTENT_LENGTH=11]="INVALID_CONTENT_LENGTH",e[e.INVALID_CHUNK_SIZE=12]="INVALID_CHUNK_SIZE",e[e.INVALID_STATUS=13]="INVALID_STATUS",e[e.INVALID_EOF_STATE=14]="INVALID_EOF_STATE",e[e.INVALID_TRANSFER_ENCODING=15]="INVALID_TRANSFER_ENCODING",e[e.CB_MESSAGE_BEGIN=16]="CB_MESSAGE_BEGIN",e[e.CB_HEADERS_COMPLETE=17]="CB_HEADERS_COMPLETE",e[e.CB_MESSAGE_COMPLETE=18]="CB_MESSAGE_COMPLETE",e[e.CB_CHUNK_HEADER=19]="CB_CHUNK_HEADER",e[e.CB_CHUNK_COMPLETE=20]="CB_CHUNK_COMPLETE",e[e.PAUSED=21]="PAUSED",e[e.PAUSED_UPGRADE=22]="PAUSED_UPGRADE",e[e.PAUSED_H2_UPGRADE=23]="PAUSED_H2_UPGRADE",e[e.USER=24]="USER"})(Tft=Zt.ERROR||(Zt.ERROR={}));var wft;(function(e){e[e.BOTH=0]="BOTH",e[e.REQUEST=1]="REQUEST",e[e.RESPONSE=2]="RESPONSE"})(wft=Zt.TYPE||(Zt.TYPE={}));var _ft;(function(e){e[e.CONNECTION_KEEP_ALIVE=1]="CONNECTION_KEEP_ALIVE",e[e.CONNECTION_CLOSE=2]="CONNECTION_CLOSE",e[e.CONNECTION_UPGRADE=4]="CONNECTION_UPGRADE",e[e.CHUNKED=8]="CHUNKED",e[e.UPGRADE=16]="UPGRADE",e[e.CONTENT_LENGTH=32]="CONTENT_LENGTH",e[e.SKIPBODY=64]="SKIPBODY",e[e.TRAILING=128]="TRAILING",e[e.TRANSFER_ENCODING=512]="TRANSFER_ENCODING"})(_ft=Zt.FLAGS||(Zt.FLAGS={}));var Sft;(function(e){e[e.HEADERS=1]="HEADERS",e[e.CHUNKED_LENGTH=2]="CHUNKED_LENGTH",e[e.KEEP_ALIVE=4]="KEEP_ALIVE"})(Sft=Zt.LENIENT_FLAGS||(Zt.LENIENT_FLAGS={}));var nn;(function(e){e[e.DELETE=0]="DELETE",e[e.GET=1]="GET",e[e.HEAD=2]="HEAD",e[e.POST=3]="POST",e[e.PUT=4]="PUT",e[e.CONNECT=5]="CONNECT",e[e.OPTIONS=6]="OPTIONS",e[e.TRACE=7]="TRACE",e[e.COPY=8]="COPY",e[e.LOCK=9]="LOCK",e[e.MKCOL=10]="MKCOL",e[e.MOVE=11]="MOVE",e[e.PROPFIND=12]="PROPFIND",e[e.PROPPATCH=13]="PROPPATCH",e[e.SEARCH=14]="SEARCH",e[e.UNLOCK=15]="UNLOCK",e[e.BIND=16]="BIND",e[e.REBIND=17]="REBIND",e[e.UNBIND=18]="UNBIND",e[e.ACL=19]="ACL",e[e.REPORT=20]="REPORT",e[e.MKACTIVITY=21]="MKACTIVITY",e[e.CHECKOUT=22]="CHECKOUT",e[e.MERGE=23]="MERGE",e[e["M-SEARCH"]=24]="M-SEARCH",e[e.NOTIFY=25]="NOTIFY",e[e.SUBSCRIBE=26]="SUBSCRIBE",e[e.UNSUBSCRIBE=27]="UNSUBSCRIBE",e[e.PATCH=28]="PATCH",e[e.PURGE=29]="PURGE",e[e.MKCALENDAR=30]="MKCALENDAR",e[e.LINK=31]="LINK",e[e.UNLINK=32]="UNLINK",e[e.SOURCE=33]="SOURCE",e[e.PRI=34]="PRI",e[e.DESCRIBE=35]="DESCRIBE",e[e.ANNOUNCE=36]="ANNOUNCE",e[e.SETUP=37]="SETUP",e[e.PLAY=38]="PLAY",e[e.PAUSE=39]="PAUSE",e[e.TEARDOWN=40]="TEARDOWN",e[e.GET_PARAMETER=41]="GET_PARAMETER",e[e.SET_PARAMETER=42]="SET_PARAMETER",e[e.REDIRECT=43]="REDIRECT",e[e.RECORD=44]="RECORD",e[e.FLUSH=45]="FLUSH"})(nn=Zt.METHODS||(Zt.METHODS={}));Zt.METHODS_HTTP=[nn.DELETE,nn.GET,nn.HEAD,nn.POST,nn.PUT,nn.CONNECT,nn.OPTIONS,nn.TRACE,nn.COPY,nn.LOCK,nn.MKCOL,nn.MOVE,nn.PROPFIND,nn.PROPPATCH,nn.SEARCH,nn.UNLOCK,nn.BIND,nn.REBIND,nn.UNBIND,nn.ACL,nn.REPORT,nn.MKACTIVITY,nn.CHECKOUT,nn.MERGE,nn["M-SEARCH"],nn.NOTIFY,nn.SUBSCRIBE,nn.UNSUBSCRIBE,nn.PATCH,nn.PURGE,nn.MKCALENDAR,nn.LINK,nn.UNLINK,nn.PRI,nn.SOURCE];Zt.METHODS_ICE=[nn.SOURCE];Zt.METHODS_RTSP=[nn.OPTIONS,nn.DESCRIBE,nn.ANNOUNCE,nn.SETUP,nn.PLAY,nn.PAUSE,nn.TEARDOWN,nn.GET_PARAMETER,nn.SET_PARAMETER,nn.REDIRECT,nn.RECORD,nn.FLUSH,nn.GET,nn.POST];Zt.METHOD_MAP=Ift.enumToMap(nn);Zt.H_METHOD_MAP={};Object.keys(Zt.METHOD_MAP).forEach(e=>{/^H/.test(e)&&(Zt.H_METHOD_MAP[e]=Zt.METHOD_MAP[e])});var Bft;(function(e){e[e.SAFE=0]="SAFE",e[e.SAFE_WITH_CB=1]="SAFE_WITH_CB",e[e.UNSAFE=2]="UNSAFE"})(Bft=Zt.FINISH||(Zt.FINISH={}));Zt.ALPHA=[];for(let e=65;e<=90;e++)Zt.ALPHA.push(String.fromCharCode(e)),Zt.ALPHA.push(String.fromCharCode(e+32));Zt.NUM_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9};Zt.HEX_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};Zt.NUM=["0","1","2","3","4","5","6","7","8","9"];Zt.ALPHANUM=Zt.ALPHA.concat(Zt.NUM);Zt.MARK=["-","_",".","!","~","*","'","(",")"];Zt.USERINFO_CHARS=Zt.ALPHANUM.concat(Zt.MARK).concat(["%",";",":","&","=","+","$",","]);Zt.STRICT_URL_CHAR=["!",'"',"$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","@","[","\\","]","^","_","`","{","|","}","~"].concat(Zt.ALPHANUM);Zt.URL_CHAR=Zt.STRICT_URL_CHAR.concat(["	","\f"]);for(let e=128;e<=255;e++)Zt.URL_CHAR.push(e);Zt.HEX=Zt.NUM.concat(["a","b","c","d","e","f","A","B","C","D","E","F"]);Zt.STRICT_TOKEN=["!","#","$","%","&","'","*","+","-",".","^","_","`","|","~"].concat(Zt.ALPHANUM);Zt.TOKEN=Zt.STRICT_TOKEN.concat([" "]);Zt.HEADER_CHARS=["	"];for(let e=32;e<=255;e++)e!==127&&Zt.HEADER_CHARS.push(e);Zt.CONNECTION_TOKEN_CHARS=Zt.HEADER_CHARS.filter(e=>e!==44);Zt.MAJOR=Zt.NUM_MAP;Zt.MINOR=Zt.MAJOR;var pI;(function(e){e[e.GENERAL=0]="GENERAL",e[e.CONNECTION=1]="CONNECTION",e[e.CONTENT_LENGTH=2]="CONTENT_LENGTH",e[e.TRANSFER_ENCODING=3]="TRANSFER_ENCODING",e[e.UPGRADE=4]="UPGRADE",e[e.CONNECTION_KEEP_ALIVE=5]="CONNECTION_KEEP_ALIVE",e[e.CONNECTION_CLOSE=6]="CONNECTION_CLOSE",e[e.CONNECTION_UPGRADE=7]="CONNECTION_UPGRADE",e[e.TRANSFER_ENCODING_CHUNKED=8]="TRANSFER_ENCODING_CHUNKED"})(pI=Zt.HEADER_STATE||(Zt.HEADER_STATE={}));Zt.SPECIAL_HEADERS={connection:pI.CONNECTION,"content-length":pI.CONTENT_LENGTH,"proxy-connection":pI.CONNECTION,"transfer-encoding":pI.TRANSFER_ENCODING,upgrade:pI.UPGRADE}});var pte=V((XNr,n8e)=>{"use strict";d();var{Buffer:kft}=require("node:buffer");n8e.exports=kft.from("AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAX8AYAJ/fwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAy0sBQYAAAIAAAAAAAACAQIAAgICAAADAAAAAAMDAwMBAQEBAQEBAQEAAAIAAAAEBQFwARISBQMBAAIGCAF/AUGA1AQLB9EFIgZtZW1vcnkCAAtfaW5pdGlhbGl6ZQAIGV9faW5kaXJlY3RfZnVuY3Rpb25fdGFibGUBAAtsbGh0dHBfaW5pdAAJGGxsaHR0cF9zaG91bGRfa2VlcF9hbGl2ZQAvDGxsaHR0cF9hbGxvYwALBm1hbGxvYwAxC2xsaHR0cF9mcmVlAAwEZnJlZQAMD2xsaHR0cF9nZXRfdHlwZQANFWxsaHR0cF9nZXRfaHR0cF9tYWpvcgAOFWxsaHR0cF9nZXRfaHR0cF9taW5vcgAPEWxsaHR0cF9nZXRfbWV0aG9kABAWbGxodHRwX2dldF9zdGF0dXNfY29kZQAREmxsaHR0cF9nZXRfdXBncmFkZQASDGxsaHR0cF9yZXNldAATDmxsaHR0cF9leGVjdXRlABQUbGxodHRwX3NldHRpbmdzX2luaXQAFQ1sbGh0dHBfZmluaXNoABYMbGxodHRwX3BhdXNlABcNbGxodHRwX3Jlc3VtZQAYG2xsaHR0cF9yZXN1bWVfYWZ0ZXJfdXBncmFkZQAZEGxsaHR0cF9nZXRfZXJybm8AGhdsbGh0dHBfZ2V0X2Vycm9yX3JlYXNvbgAbF2xsaHR0cF9zZXRfZXJyb3JfcmVhc29uABwUbGxodHRwX2dldF9lcnJvcl9wb3MAHRFsbGh0dHBfZXJybm9fbmFtZQAeEmxsaHR0cF9tZXRob2RfbmFtZQAfEmxsaHR0cF9zdGF0dXNfbmFtZQAgGmxsaHR0cF9zZXRfbGVuaWVudF9oZWFkZXJzACEhbGxodHRwX3NldF9sZW5pZW50X2NodW5rZWRfbGVuZ3RoACIdbGxodHRwX3NldF9sZW5pZW50X2tlZXBfYWxpdmUAIyRsbGh0dHBfc2V0X2xlbmllbnRfdHJhbnNmZXJfZW5jb2RpbmcAJBhsbGh0dHBfbWVzc2FnZV9uZWVkc19lb2YALgkXAQBBAQsRAQIDBAUKBgcrLSwqKSglJyYK07MCLBYAQYjQACgCAARAAAtBiNAAQQE2AgALFAAgABAwIAAgAjYCOCAAIAE6ACgLFAAgACAALwEyIAAtAC4gABAvEAALHgEBf0HAABAyIgEQMCABQYAINgI4IAEgADoAKCABC48MAQd/AkAgAEUNACAAQQhrIgEgAEEEaygCACIAQXhxIgRqIQUCQCAAQQFxDQAgAEEDcUUNASABIAEoAgAiAGsiAUGc0AAoAgBJDQEgACAEaiEEAkACQEGg0AAoAgAgAUcEQCAAQf8BTQRAIABBA3YhAyABKAIIIgAgASgCDCICRgRAQYzQAEGM0AAoAgBBfiADd3E2AgAMBQsgAiAANgIIIAAgAjYCDAwECyABKAIYIQYgASABKAIMIgBHBEAgACABKAIIIgI2AgggAiAANgIMDAMLIAFBFGoiAygCACICRQRAIAEoAhAiAkUNAiABQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFKAIEIgBBA3FBA0cNAiAFIABBfnE2AgRBlNAAIAQ2AgAgBSAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCABKAIcIgJBAnRBvNIAaiIDKAIAIAFGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgAUYbaiAANgIAIABFDQELIAAgBjYCGCABKAIQIgIEQCAAIAI2AhAgAiAANgIYCyABQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAFTw0AIAUoAgQiAEEBcUUNAAJAAkACQAJAIABBAnFFBEBBpNAAKAIAIAVGBEBBpNAAIAE2AgBBmNAAQZjQACgCACAEaiIANgIAIAEgAEEBcjYCBCABQaDQACgCAEcNBkGU0ABBADYCAEGg0ABBADYCAAwGC0Gg0AAoAgAgBUYEQEGg0AAgATYCAEGU0ABBlNAAKAIAIARqIgA2AgAgASAAQQFyNgIEIAAgAWogADYCAAwGCyAAQXhxIARqIQQgAEH/AU0EQCAAQQN2IQMgBSgCCCIAIAUoAgwiAkYEQEGM0ABBjNAAKAIAQX4gA3dxNgIADAULIAIgADYCCCAAIAI2AgwMBAsgBSgCGCEGIAUgBSgCDCIARwRAQZzQACgCABogACAFKAIIIgI2AgggAiAANgIMDAMLIAVBFGoiAygCACICRQRAIAUoAhAiAkUNAiAFQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFIABBfnE2AgQgASAEaiAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCAFKAIcIgJBAnRBvNIAaiIDKAIAIAVGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgBUYbaiAANgIAIABFDQELIAAgBjYCGCAFKAIQIgIEQCAAIAI2AhAgAiAANgIYCyAFQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAEaiAENgIAIAEgBEEBcjYCBCABQaDQACgCAEcNAEGU0AAgBDYCAAwBCyAEQf8BTQRAIARBeHFBtNAAaiEAAn9BjNAAKAIAIgJBASAEQQN2dCIDcUUEQEGM0AAgAiADcjYCACAADAELIAAoAggLIgIgATYCDCAAIAE2AgggASAANgIMIAEgAjYCCAwBC0EfIQIgBEH///8HTQRAIARBJiAEQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAgsgASACNgIcIAFCADcCECACQQJ0QbzSAGohAAJAQZDQACgCACIDQQEgAnQiB3FFBEAgACABNgIAQZDQACADIAdyNgIAIAEgADYCGCABIAE2AgggASABNgIMDAELIARBGSACQQF2a0EAIAJBH0cbdCECIAAoAgAhAAJAA0AgACIDKAIEQXhxIARGDQEgAkEddiEAIAJBAXQhAiADIABBBHFqQRBqIgcoAgAiAA0ACyAHIAE2AgAgASADNgIYIAEgATYCDCABIAE2AggMAQsgAygCCCIAIAE2AgwgAyABNgIIIAFBADYCGCABIAM2AgwgASAANgIIC0Gs0ABBrNAAKAIAQQFrIgBBfyAAGzYCAAsLBwAgAC0AKAsHACAALQAqCwcAIAAtACsLBwAgAC0AKQsHACAALwEyCwcAIAAtAC4LQAEEfyAAKAIYIQEgAC0ALSECIAAtACghAyAAKAI4IQQgABAwIAAgBDYCOCAAIAM6ACggACACOgAtIAAgATYCGAu74gECB38DfiABIAJqIQQCQCAAIgIoAgwiAA0AIAIoAgQEQCACIAE2AgQLIwBBEGsiCCQAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAIoAhwiA0EBaw7dAdoBAdkBAgMEBQYHCAkKCwwNDtgBDxDXARES1gETFBUWFxgZGhvgAd8BHB0e1QEfICEiIyQl1AEmJygpKiss0wHSAS0u0QHQAS8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRtsBR0hJSs8BzgFLzQFMzAFNTk9QUVJTVFVWV1hZWltcXV5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6e3x9fn+AAYEBggGDAYQBhQGGAYcBiAGJAYoBiwGMAY0BjgGPAZABkQGSAZMBlAGVAZYBlwGYAZkBmgGbAZwBnQGeAZ8BoAGhAaIBowGkAaUBpgGnAagBqQGqAasBrAGtAa4BrwGwAbEBsgGzAbQBtQG2AbcBywHKAbgByQG5AcgBugG7AbwBvQG+Ab8BwAHBAcIBwwHEAcUBxgEA3AELQQAMxgELQQ4MxQELQQ0MxAELQQ8MwwELQRAMwgELQRMMwQELQRQMwAELQRUMvwELQRYMvgELQRgMvQELQRkMvAELQRoMuwELQRsMugELQRwMuQELQR0MuAELQQgMtwELQR4MtgELQSAMtQELQR8MtAELQQcMswELQSEMsgELQSIMsQELQSMMsAELQSQMrwELQRIMrgELQREMrQELQSUMrAELQSYMqwELQScMqgELQSgMqQELQcMBDKgBC0EqDKcBC0ErDKYBC0EsDKUBC0EtDKQBC0EuDKMBC0EvDKIBC0HEAQyhAQtBMAygAQtBNAyfAQtBDAyeAQtBMQydAQtBMgycAQtBMwybAQtBOQyaAQtBNQyZAQtBxQEMmAELQQsMlwELQToMlgELQTYMlQELQQoMlAELQTcMkwELQTgMkgELQTwMkQELQTsMkAELQT0MjwELQQkMjgELQSkMjQELQT4MjAELQT8MiwELQcAADIoBC0HBAAyJAQtBwgAMiAELQcMADIcBC0HEAAyGAQtBxQAMhQELQcYADIQBC0EXDIMBC0HHAAyCAQtByAAMgQELQckADIABC0HKAAx/C0HLAAx+C0HNAAx9C0HMAAx8C0HOAAx7C0HPAAx6C0HQAAx5C0HRAAx4C0HSAAx3C0HTAAx2C0HUAAx1C0HWAAx0C0HVAAxzC0EGDHILQdcADHELQQUMcAtB2AAMbwtBBAxuC0HZAAxtC0HaAAxsC0HbAAxrC0HcAAxqC0EDDGkLQd0ADGgLQd4ADGcLQd8ADGYLQeEADGULQeAADGQLQeIADGMLQeMADGILQQIMYQtB5AAMYAtB5QAMXwtB5gAMXgtB5wAMXQtB6AAMXAtB6QAMWwtB6gAMWgtB6wAMWQtB7AAMWAtB7QAMVwtB7gAMVgtB7wAMVQtB8AAMVAtB8QAMUwtB8gAMUgtB8wAMUQtB9AAMUAtB9QAMTwtB9gAMTgtB9wAMTQtB+AAMTAtB+QAMSwtB+gAMSgtB+wAMSQtB/AAMSAtB/QAMRwtB/gAMRgtB/wAMRQtBgAEMRAtBgQEMQwtBggEMQgtBgwEMQQtBhAEMQAtBhQEMPwtBhgEMPgtBhwEMPQtBiAEMPAtBiQEMOwtBigEMOgtBiwEMOQtBjAEMOAtBjQEMNwtBjgEMNgtBjwEMNQtBkAEMNAtBkQEMMwtBkgEMMgtBkwEMMQtBlAEMMAtBlQEMLwtBlgEMLgtBlwEMLQtBmAEMLAtBmQEMKwtBmgEMKgtBmwEMKQtBnAEMKAtBnQEMJwtBngEMJgtBnwEMJQtBoAEMJAtBoQEMIwtBogEMIgtBowEMIQtBpAEMIAtBpQEMHwtBpgEMHgtBpwEMHQtBqAEMHAtBqQEMGwtBqgEMGgtBqwEMGQtBrAEMGAtBrQEMFwtBrgEMFgtBAQwVC0GvAQwUC0GwAQwTC0GxAQwSC0GzAQwRC0GyAQwQC0G0AQwPC0G1AQwOC0G2AQwNC0G3AQwMC0G4AQwLC0G5AQwKC0G6AQwJC0G7AQwIC0HGAQwHC0G8AQwGC0G9AQwFC0G+AQwEC0G/AQwDC0HAAQwCC0HCAQwBC0HBAQshAwNAAkACQAJAAkACQAJAAkACQAJAIAICfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAgJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAn8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCADDsYBAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHyAhIyUmKCorLC8wMTIzNDU2Nzk6Ozw9lANAQkRFRklLTk9QUVJTVFVWWFpbXF1eX2BhYmNkZWZnaGpsb3Bxc3V2eHl6e3x/gAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEBkgGTAZQBlQGWAZcBmAGZAZoBmwGcAZ0BngGfAaABoQGiAaMBpAGlAaYBpwGoAakBqgGrAawBrQGuAa8BsAGxAbIBswG0AbUBtgG3AbgBuQG6AbsBvAG9Ab4BvwHAAcEBwgHDAcQBxQHGAccByAHJAcsBzAHNAc4BzwGKA4kDiAOHA4QDgwOAA/sC+gL5AvgC9wL0AvMC8gLLAsECsALZAQsgASAERw3wAkHdASEDDLMDCyABIARHDcgBQcMBIQMMsgMLIAEgBEcNe0H3ACEDDLEDCyABIARHDXBB7wAhAwywAwsgASAERw1pQeoAIQMMrwMLIAEgBEcNZUHoACEDDK4DCyABIARHDWJB5gAhAwytAwsgASAERw0aQRghAwysAwsgASAERw0VQRIhAwyrAwsgASAERw1CQcUAIQMMqgMLIAEgBEcNNEE/IQMMqQMLIAEgBEcNMkE8IQMMqAMLIAEgBEcNK0ExIQMMpwMLIAItAC5BAUYNnwMMwQILQQAhAAJAAkACQCACLQAqRQ0AIAItACtFDQAgAi8BMCIDQQJxRQ0BDAILIAIvATAiA0EBcUUNAQtBASEAIAItAChBAUYNACACLwEyIgVB5ABrQeQASQ0AIAVBzAFGDQAgBUGwAkYNACADQcAAcQ0AQQAhACADQYgEcUGABEYNACADQShxQQBHIQALIAJBADsBMCACQQA6AC8gAEUN3wIgAkIANwMgDOACC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAARQ3MASAAQRVHDd0CIAJBBDYCHCACIAE2AhQgAkGwGDYCECACQRU2AgxBACEDDKQDCyABIARGBEBBBiEDDKQDCyABQQFqIQFBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAA3ZAgwcCyACQgA3AyBBEiEDDIkDCyABIARHDRZBHSEDDKEDCyABIARHBEAgAUEBaiEBQRAhAwyIAwtBByEDDKADCyACIAIpAyAiCiAEIAFrrSILfSIMQgAgCiAMWhs3AyAgCiALWA3UAkEIIQMMnwMLIAEgBEcEQCACQQk2AgggAiABNgIEQRQhAwyGAwtBCSEDDJ4DCyACKQMgQgBSDccBIAIgAi8BMEGAAXI7ATAMQgsgASAERw0/QdAAIQMMnAMLIAEgBEYEQEELIQMMnAMLIAFBAWohAUEAIQACQCACKAI4IgNFDQAgAygCUCIDRQ0AIAIgAxEAACEACyAADc8CDMYBC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ3GASAAQRVHDc0CIAJBCzYCHCACIAE2AhQgAkGCGTYCECACQRU2AgxBACEDDJoDC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ0MIABBFUcNygIgAkEaNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMmQMLQQAhAAJAIAIoAjgiA0UNACADKAJMIgNFDQAgAiADEQAAIQALIABFDcQBIABBFUcNxwIgAkELNgIcIAIgATYCFCACQZEXNgIQIAJBFTYCDEEAIQMMmAMLIAEgBEYEQEEPIQMMmAMLIAEtAAAiAEE7Rg0HIABBDUcNxAIgAUEBaiEBDMMBC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3DASAAQRVHDcICIAJBDzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJYDCwNAIAEtAABB8DVqLQAAIgBBAUcEQCAAQQJHDcECIAIoAgQhAEEAIQMgAkEANgIEIAIgACABQQFqIgEQLSIADcICDMUBCyAEIAFBAWoiAUcNAAtBEiEDDJUDC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3FASAAQRVHDb0CIAJBGzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJQDCyABIARGBEBBFiEDDJQDCyACQQo2AgggAiABNgIEQQAhAAJAIAIoAjgiA0UNACADKAJIIgNFDQAgAiADEQAAIQALIABFDcIBIABBFUcNuQIgAkEVNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMkwMLIAEgBEcEQANAIAEtAABB8DdqLQAAIgBBAkcEQAJAIABBAWsOBMQCvQIAvgK9AgsgAUEBaiEBQQghAwz8AgsgBCABQQFqIgFHDQALQRUhAwyTAwtBFSEDDJIDCwNAIAEtAABB8DlqLQAAIgBBAkcEQCAAQQFrDgTFArcCwwK4ArcCCyAEIAFBAWoiAUcNAAtBGCEDDJEDCyABIARHBEAgAkELNgIIIAIgATYCBEEHIQMM+AILQRkhAwyQAwsgAUEBaiEBDAILIAEgBEYEQEEaIQMMjwMLAkAgAS0AAEENaw4UtQG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwEAvwELQQAhAyACQQA2AhwgAkGvCzYCECACQQI2AgwgAiABQQFqNgIUDI4DCyABIARGBEBBGyEDDI4DCyABLQAAIgBBO0cEQCAAQQ1HDbECIAFBAWohAQy6AQsgAUEBaiEBC0EiIQMM8wILIAEgBEYEQEEcIQMMjAMLQgAhCgJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAS0AAEEwaw43wQLAAgABAgMEBQYH0AHQAdAB0AHQAdAB0AEICQoLDA3QAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdABDg8QERIT0AELQgIhCgzAAgtCAyEKDL8CC0IEIQoMvgILQgUhCgy9AgtCBiEKDLwCC0IHIQoMuwILQgghCgy6AgtCCSEKDLkCC0IKIQoMuAILQgshCgy3AgtCDCEKDLYCC0INIQoMtQILQg4hCgy0AgtCDyEKDLMCC0IKIQoMsgILQgshCgyxAgtCDCEKDLACC0INIQoMrwILQg4hCgyuAgtCDyEKDK0CC0IAIQoCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAEtAABBMGsON8ACvwIAAQIDBAUGB74CvgK+Ar4CvgK+Ar4CCAkKCwwNvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ag4PEBESE74CC0ICIQoMvwILQgMhCgy+AgtCBCEKDL0CC0IFIQoMvAILQgYhCgy7AgtCByEKDLoCC0IIIQoMuQILQgkhCgy4AgtCCiEKDLcCC0ILIQoMtgILQgwhCgy1AgtCDSEKDLQCC0IOIQoMswILQg8hCgyyAgtCCiEKDLECC0ILIQoMsAILQgwhCgyvAgtCDSEKDK4CC0IOIQoMrQILQg8hCgysAgsgAiACKQMgIgogBCABa60iC30iDEIAIAogDFobNwMgIAogC1gNpwJBHyEDDIkDCyABIARHBEAgAkEJNgIIIAIgATYCBEElIQMM8AILQSAhAwyIAwtBASEFIAIvATAiA0EIcUUEQCACKQMgQgBSIQULAkAgAi0ALgRAQQEhACACLQApQQVGDQEgA0HAAHFFIAVxRQ0BC0EAIQAgA0HAAHENAEECIQAgA0EIcQ0AIANBgARxBEACQCACLQAoQQFHDQAgAi0ALUEKcQ0AQQUhAAwCC0EEIQAMAQsgA0EgcUUEQAJAIAItAChBAUYNACACLwEyIgBB5ABrQeQASQ0AIABBzAFGDQAgAEGwAkYNAEEEIQAgA0EocUUNAiADQYgEcUGABEYNAgtBACEADAELQQBBAyACKQMgUBshAAsgAEEBaw4FvgIAsAEBpAKhAgtBESEDDO0CCyACQQE6AC8MhAMLIAEgBEcNnQJBJCEDDIQDCyABIARHDRxBxgAhAwyDAwtBACEAAkAgAigCOCIDRQ0AIAMoAkQiA0UNACACIAMRAAAhAAsgAEUNJyAAQRVHDZgCIAJB0AA2AhwgAiABNgIUIAJBkRg2AhAgAkEVNgIMQQAhAwyCAwsgASAERgRAQSghAwyCAwtBACEDIAJBADYCBCACQQw2AgggAiABIAEQKiIARQ2UAiACQSc2AhwgAiABNgIUIAIgADYCDAyBAwsgASAERgRAQSkhAwyBAwsgAS0AACIAQSBGDRMgAEEJRw2VAiABQQFqIQEMFAsgASAERwRAIAFBAWohAQwWC0EqIQMM/wILIAEgBEYEQEErIQMM/wILIAEtAAAiAEEJRyAAQSBHcQ2QAiACLQAsQQhHDd0CIAJBADoALAzdAgsgASAERgRAQSwhAwz+AgsgAS0AAEEKRw2OAiABQQFqIQEMsAELIAEgBEcNigJBLyEDDPwCCwNAIAEtAAAiAEEgRwRAIABBCmsOBIQCiAKIAoQChgILIAQgAUEBaiIBRw0AC0ExIQMM+wILQTIhAyABIARGDfoCIAIoAgAiACAEIAFraiEHIAEgAGtBA2ohBgJAA0AgAEHwO2otAAAgAS0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQEgAEEDRgRAQQYhAQziAgsgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAc2AgAM+wILIAJBADYCAAyGAgtBMyEDIAQgASIARg35AiAEIAFrIAIoAgAiAWohByAAIAFrQQhqIQYCQANAIAFB9DtqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBCEYEQEEFIQEM4QILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPoCCyACQQA2AgAgACEBDIUCC0E0IQMgBCABIgBGDfgCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgJAA0AgAUHQwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBBUYEQEEHIQEM4AILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPkCCyACQQA2AgAgACEBDIQCCyABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRg0JDIECCyAEIAFBAWoiAUcNAAtBMCEDDPgCC0EwIQMM9wILIAEgBEcEQANAIAEtAAAiAEEgRwRAIABBCmsOBP8B/gH+Af8B/gELIAQgAUEBaiIBRw0AC0E4IQMM9wILQTghAwz2AgsDQCABLQAAIgBBIEcgAEEJR3EN9gEgBCABQQFqIgFHDQALQTwhAwz1AgsDQCABLQAAIgBBIEcEQAJAIABBCmsOBPkBBAT5AQALIABBLEYN9QEMAwsgBCABQQFqIgFHDQALQT8hAwz0AgtBwAAhAyABIARGDfMCIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAEGAQGstAAAgAS0AAEEgckcNASAAQQZGDdsCIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPQCCyACQQA2AgALQTYhAwzZAgsgASAERgRAQcEAIQMM8gILIAJBDDYCCCACIAE2AgQgAi0ALEEBaw4E+wHuAewB6wHUAgsgAUEBaiEBDPoBCyABIARHBEADQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxIgBBCUYNACAAQSBGDQACQAJAAkACQCAAQeMAaw4TAAMDAwMDAwMBAwMDAwMDAwMDAgMLIAFBAWohAUExIQMM3AILIAFBAWohAUEyIQMM2wILIAFBAWohAUEzIQMM2gILDP4BCyAEIAFBAWoiAUcNAAtBNSEDDPACC0E1IQMM7wILIAEgBEcEQANAIAEtAABBgDxqLQAAQQFHDfcBIAQgAUEBaiIBRw0AC0E9IQMM7wILQT0hAwzuAgtBACEAAkAgAigCOCIDRQ0AIAMoAkAiA0UNACACIAMRAAAhAAsgAEUNASAAQRVHDeYBIAJBwgA2AhwgAiABNgIUIAJB4xg2AhAgAkEVNgIMQQAhAwztAgsgAUEBaiEBC0E8IQMM0gILIAEgBEYEQEHCACEDDOsCCwJAA0ACQCABLQAAQQlrDhgAAswCzALRAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAgDMAgsgBCABQQFqIgFHDQALQcIAIQMM6wILIAFBAWohASACLQAtQQFxRQ3+AQtBLCEDDNACCyABIARHDd4BQcQAIQMM6AILA0AgAS0AAEGQwABqLQAAQQFHDZwBIAQgAUEBaiIBRw0AC0HFACEDDOcCCyABLQAAIgBBIEYN/gEgAEE6Rw3AAiACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgAN3gEM3QELQccAIQMgBCABIgBGDeUCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFBkMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvwIgAUEFRg3CAiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzlAgtByAAhAyAEIAEiAEYN5AIgBCABayACKAIAIgFqIQcgACABa0EJaiEGA0AgAUGWwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw2+AkECIAFBCUYNwgIaIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOQCCyABIARGBEBByQAhAwzkAgsCQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxQe4Aaw4HAL8CvwK/Ar8CvwIBvwILIAFBAWohAUE+IQMMywILIAFBAWohAUE/IQMMygILQcoAIQMgBCABIgBGDeICIAQgAWsgAigCACIBaiEGIAAgAWtBAWohBwNAIAFBoMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvAIgAUEBRg2+AiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBjYCAAziAgtBywAhAyAEIAEiAEYN4QIgBCABayACKAIAIgFqIQcgACABa0EOaiEGA0AgAUGiwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw27AiABQQ5GDb4CIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOECC0HMACEDIAQgASIARg3gAiAEIAFrIAIoAgAiAWohByAAIAFrQQ9qIQYDQCABQcDCAGotAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDboCQQMgAUEPRg2+AhogAUEBaiEBIAQgAEEBaiIARw0ACyACIAc2AgAM4AILQc0AIQMgBCABIgBGDd8CIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFB0MIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNuQJBBCABQQVGDb0CGiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzfAgsgASAERgRAQc4AIQMM3wILAkACQAJAAkAgAS0AACIAQSByIAAgAEHBAGtB/wFxQRpJG0H/AXFB4wBrDhMAvAK8ArwCvAK8ArwCvAK8ArwCvAK8ArwCAbwCvAK8AgIDvAILIAFBAWohAUHBACEDDMgCCyABQQFqIQFBwgAhAwzHAgsgAUEBaiEBQcMAIQMMxgILIAFBAWohAUHEACEDDMUCCyABIARHBEAgAkENNgIIIAIgATYCBEHFACEDDMUCC0HPACEDDN0CCwJAAkAgAS0AAEEKaw4EAZABkAEAkAELIAFBAWohAQtBKCEDDMMCCyABIARGBEBB0QAhAwzcAgsgAS0AAEEgRw0AIAFBAWohASACLQAtQQFxRQ3QAQtBFyEDDMECCyABIARHDcsBQdIAIQMM2QILQdMAIQMgASAERg3YAiACKAIAIgAgBCABa2ohBiABIABrQQFqIQUDQCABLQAAIABB1sIAai0AAEcNxwEgAEEBRg3KASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBjYCAAzYAgsgASAERgRAQdUAIQMM2AILIAEtAABBCkcNwgEgAUEBaiEBDMoBCyABIARGBEBB1gAhAwzXAgsCQAJAIAEtAABBCmsOBADDAcMBAcMBCyABQQFqIQEMygELIAFBAWohAUHKACEDDL0CC0EAIQACQCACKAI4IgNFDQAgAygCPCIDRQ0AIAIgAxEAACEACyAADb8BQc0AIQMMvAILIAItAClBIkYNzwIMiQELIAQgASIFRgRAQdsAIQMM1AILQQAhAEEBIQFBASEGQQAhAwJAAn8CQAJAAkACQAJAAkACQCAFLQAAQTBrDgrFAcQBAAECAwQFBgjDAQtBAgwGC0EDDAULQQQMBAtBBQwDC0EGDAILQQcMAQtBCAshA0EAIQFBACEGDL0BC0EJIQNBASEAQQAhAUEAIQYMvAELIAEgBEYEQEHdACEDDNMCCyABLQAAQS5HDbgBIAFBAWohAQyIAQsgASAERw22AUHfACEDDNECCyABIARHBEAgAkEONgIIIAIgATYCBEHQACEDDLgCC0HgACEDDNACC0HhACEDIAEgBEYNzwIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGA0AgAS0AACAAQeLCAGotAABHDbEBIABBA0YNswEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMzwILQeIAIQMgASAERg3OAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYDQCABLQAAIABB5sIAai0AAEcNsAEgAEECRg2vASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAzOAgtB4wAhAyABIARGDc0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgNAIAEtAAAgAEHpwgBqLQAARw2vASAAQQNGDa0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADM0CCyABIARGBEBB5QAhAwzNAgsgAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANqgFB1gAhAwyzAgsgASAERwRAA0AgAS0AACIAQSBHBEACQAJAAkAgAEHIAGsOCwABswGzAbMBswGzAbMBswGzAQKzAQsgAUEBaiEBQdIAIQMMtwILIAFBAWohAUHTACEDDLYCCyABQQFqIQFB1AAhAwy1AgsgBCABQQFqIgFHDQALQeQAIQMMzAILQeQAIQMMywILA0AgAS0AAEHwwgBqLQAAIgBBAUcEQCAAQQJrDgOnAaYBpQGkAQsgBCABQQFqIgFHDQALQeYAIQMMygILIAFBAWogASAERw0CGkHnACEDDMkCCwNAIAEtAABB8MQAai0AACIAQQFHBEACQCAAQQJrDgSiAaEBoAEAnwELQdcAIQMMsQILIAQgAUEBaiIBRw0AC0HoACEDDMgCCyABIARGBEBB6QAhAwzIAgsCQCABLQAAIgBBCmsOGrcBmwGbAbQBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBpAGbAZsBAJkBCyABQQFqCyEBQQYhAwytAgsDQCABLQAAQfDGAGotAABBAUcNfSAEIAFBAWoiAUcNAAtB6gAhAwzFAgsgAUEBaiABIARHDQIaQesAIQMMxAILIAEgBEYEQEHsACEDDMQCCyABQQFqDAELIAEgBEYEQEHtACEDDMMCCyABQQFqCyEBQQQhAwyoAgsgASAERgRAQe4AIQMMwQILAkACQAJAIAEtAABB8MgAai0AAEEBaw4HkAGPAY4BAHwBAo0BCyABQQFqIQEMCwsgAUEBagyTAQtBACEDIAJBADYCHCACQZsSNgIQIAJBBzYCDCACIAFBAWo2AhQMwAILAkADQCABLQAAQfDIAGotAAAiAEEERwRAAkACQCAAQQFrDgeUAZMBkgGNAQAEAY0BC0HaACEDDKoCCyABQQFqIQFB3AAhAwypAgsgBCABQQFqIgFHDQALQe8AIQMMwAILIAFBAWoMkQELIAQgASIARgRAQfAAIQMMvwILIAAtAABBL0cNASAAQQFqIQEMBwsgBCABIgBGBEBB8QAhAwy+AgsgAC0AACIBQS9GBEAgAEEBaiEBQd0AIQMMpQILIAFBCmsiA0EWSw0AIAAhAUEBIAN0QYmAgAJxDfkBC0EAIQMgAkEANgIcIAIgADYCFCACQYwcNgIQIAJBBzYCDAy8AgsgASAERwRAIAFBAWohAUHeACEDDKMCC0HyACEDDLsCCyABIARGBEBB9AAhAwy7AgsCQCABLQAAQfDMAGotAABBAWsOA/cBcwCCAQtB4QAhAwyhAgsgASAERwRAA0AgAS0AAEHwygBqLQAAIgBBA0cEQAJAIABBAWsOAvkBAIUBC0HfACEDDKMCCyAEIAFBAWoiAUcNAAtB8wAhAwy6AgtB8wAhAwy5AgsgASAERwRAIAJBDzYCCCACIAE2AgRB4AAhAwygAgtB9QAhAwy4AgsgASAERgRAQfYAIQMMuAILIAJBDzYCCCACIAE2AgQLQQMhAwydAgsDQCABLQAAQSBHDY4CIAQgAUEBaiIBRw0AC0H3ACEDDLUCCyABIARGBEBB+AAhAwy1AgsgAS0AAEEgRw16IAFBAWohAQxbC0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAADXgMgAILIAEgBEYEQEH6ACEDDLMCCyABLQAAQcwARw10IAFBAWohAUETDHYLQfsAIQMgASAERg2xAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYDQCABLQAAIABB8M4Aai0AAEcNcyAAQQVGDXUgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMsQILIAEgBEYEQEH8ACEDDLECCwJAAkAgAS0AAEHDAGsODAB0dHR0dHR0dHR0AXQLIAFBAWohAUHmACEDDJgCCyABQQFqIQFB5wAhAwyXAgtB/QAhAyABIARGDa8CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDXIgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADLACCyACQQA2AgAgBkEBaiEBQRAMcwtB/gAhAyABIARGDa4CIAIoAgAiACAEIAFraiEFIAEgAGtBBWohBgJAA0AgAS0AACAAQfbOAGotAABHDXEgAEEFRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK8CCyACQQA2AgAgBkEBaiEBQRYMcgtB/wAhAyABIARGDa0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQfzOAGotAABHDXAgAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK4CCyACQQA2AgAgBkEBaiEBQQUMcQsgASAERgRAQYABIQMMrQILIAEtAABB2QBHDW4gAUEBaiEBQQgMcAsgASAERgRAQYEBIQMMrAILAkACQCABLQAAQc4Aaw4DAG8BbwsgAUEBaiEBQesAIQMMkwILIAFBAWohAUHsACEDDJICCyABIARGBEBBggEhAwyrAgsCQAJAIAEtAABByABrDggAbm5ubm5uAW4LIAFBAWohAUHqACEDDJICCyABQQFqIQFB7QAhAwyRAgtBgwEhAyABIARGDakCIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQYDPAGotAABHDWwgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKoCCyACQQA2AgAgBkEBaiEBQQAMbQtBhAEhAyABIARGDagCIAIoAgAiACAEIAFraiEFIAEgAGtBBGohBgJAA0AgAS0AACAAQYPPAGotAABHDWsgAEEERg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKkCCyACQQA2AgAgBkEBaiEBQSMMbAsgASAERgRAQYUBIQMMqAILAkACQCABLQAAQcwAaw4IAGtra2trawFrCyABQQFqIQFB7wAhAwyPAgsgAUEBaiEBQfAAIQMMjgILIAEgBEYEQEGGASEDDKcCCyABLQAAQcUARw1oIAFBAWohAQxgC0GHASEDIAEgBEYNpQIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABBiM8Aai0AAEcNaCAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpgILIAJBADYCACAGQQFqIQFBLQxpC0GIASEDIAEgBEYNpAIgAigCACIAIAQgAWtqIQUgASAAa0EIaiEGAkADQCABLQAAIABB0M8Aai0AAEcNZyAAQQhGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpQILIAJBADYCACAGQQFqIQFBKQxoCyABIARGBEBBiQEhAwykAgtBASABLQAAQd8ARw1nGiABQQFqIQEMXgtBigEhAyABIARGDaICIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgNAIAEtAAAgAEGMzwBqLQAARw1kIABBAUYN+gEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMogILQYsBIQMgASAERg2hAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGOzwBqLQAARw1kIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyiAgsgAkEANgIAIAZBAWohAUECDGULQYwBIQMgASAERg2gAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHwzwBqLQAARw1jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyhAgsgAkEANgIAIAZBAWohAUEfDGQLQY0BIQMgASAERg2fAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHyzwBqLQAARw1iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAygAgsgAkEANgIAIAZBAWohAUEJDGMLIAEgBEYEQEGOASEDDJ8CCwJAAkAgAS0AAEHJAGsOBwBiYmJiYgFiCyABQQFqIQFB+AAhAwyGAgsgAUEBaiEBQfkAIQMMhQILQY8BIQMgASAERg2dAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGRzwBqLQAARw1gIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyeAgsgAkEANgIAIAZBAWohAUEYDGELQZABIQMgASAERg2cAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGXzwBqLQAARw1fIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAydAgsgAkEANgIAIAZBAWohAUEXDGALQZEBIQMgASAERg2bAiACKAIAIgAgBCABa2ohBSABIABrQQZqIQYCQANAIAEtAAAgAEGazwBqLQAARw1eIABBBkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAycAgsgAkEANgIAIAZBAWohAUEVDF8LQZIBIQMgASAERg2aAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGhzwBqLQAARw1dIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAybAgsgAkEANgIAIAZBAWohAUEeDF4LIAEgBEYEQEGTASEDDJoCCyABLQAAQcwARw1bIAFBAWohAUEKDF0LIAEgBEYEQEGUASEDDJkCCwJAAkAgAS0AAEHBAGsODwBcXFxcXFxcXFxcXFxcAVwLIAFBAWohAUH+ACEDDIACCyABQQFqIQFB/wAhAwz/AQsgASAERgRAQZUBIQMMmAILAkACQCABLQAAQcEAaw4DAFsBWwsgAUEBaiEBQf0AIQMM/wELIAFBAWohAUGAASEDDP4BC0GWASEDIAEgBEYNlgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBp88Aai0AAEcNWSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlwILIAJBADYCACAGQQFqIQFBCwxaCyABIARGBEBBlwEhAwyWAgsCQAJAAkACQCABLQAAQS1rDiMAW1tbW1tbW1tbW1tbW1tbW1tbW1tbW1sBW1tbW1sCW1tbA1sLIAFBAWohAUH7ACEDDP8BCyABQQFqIQFB/AAhAwz+AQsgAUEBaiEBQYEBIQMM/QELIAFBAWohAUGCASEDDPwBC0GYASEDIAEgBEYNlAIgAigCACIAIAQgAWtqIQUgASAAa0EEaiEGAkADQCABLQAAIABBqc8Aai0AAEcNVyAAQQRGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlQILIAJBADYCACAGQQFqIQFBGQxYC0GZASEDIAEgBEYNkwIgAigCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABBrs8Aai0AAEcNViAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlAILIAJBADYCACAGQQFqIQFBBgxXC0GaASEDIAEgBEYNkgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBtM8Aai0AAEcNVSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkwILIAJBADYCACAGQQFqIQFBHAxWC0GbASEDIAEgBEYNkQIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBts8Aai0AAEcNVCAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkgILIAJBADYCACAGQQFqIQFBJwxVCyABIARGBEBBnAEhAwyRAgsCQAJAIAEtAABB1ABrDgIAAVQLIAFBAWohAUGGASEDDPgBCyABQQFqIQFBhwEhAwz3AQtBnQEhAyABIARGDY8CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbjPAGotAABHDVIgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADJACCyACQQA2AgAgBkEBaiEBQSYMUwtBngEhAyABIARGDY4CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbrPAGotAABHDVEgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI8CCyACQQA2AgAgBkEBaiEBQQMMUgtBnwEhAyABIARGDY0CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDVAgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI4CCyACQQA2AgAgBkEBaiEBQQwMUQtBoAEhAyABIARGDYwCIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQbzPAGotAABHDU8gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI0CCyACQQA2AgAgBkEBaiEBQQ0MUAsgASAERgRAQaEBIQMMjAILAkACQCABLQAAQcYAaw4LAE9PT09PT09PTwFPCyABQQFqIQFBiwEhAwzzAQsgAUEBaiEBQYwBIQMM8gELIAEgBEYEQEGiASEDDIsCCyABLQAAQdAARw1MIAFBAWohAQxGCyABIARGBEBBowEhAwyKAgsCQAJAIAEtAABByQBrDgcBTU1NTU0ATQsgAUEBaiEBQY4BIQMM8QELIAFBAWohAUEiDE0LQaQBIQMgASAERg2IAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHAzwBqLQAARw1LIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyJAgsgAkEANgIAIAZBAWohAUEdDEwLIAEgBEYEQEGlASEDDIgCCwJAAkAgAS0AAEHSAGsOAwBLAUsLIAFBAWohAUGQASEDDO8BCyABQQFqIQFBBAxLCyABIARGBEBBpgEhAwyHAgsCQAJAAkACQAJAIAEtAABBwQBrDhUATU1NTU1NTU1NTQFNTQJNTQNNTQRNCyABQQFqIQFBiAEhAwzxAQsgAUEBaiEBQYkBIQMM8AELIAFBAWohAUGKASEDDO8BCyABQQFqIQFBjwEhAwzuAQsgAUEBaiEBQZEBIQMM7QELQacBIQMgASAERg2FAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHtzwBqLQAARw1IIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyGAgsgAkEANgIAIAZBAWohAUERDEkLQagBIQMgASAERg2EAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHCzwBqLQAARw1HIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyFAgsgAkEANgIAIAZBAWohAUEsDEgLQakBIQMgASAERg2DAiACKAIAIgAgBCABa2ohBSABIABrQQRqIQYCQANAIAEtAAAgAEHFzwBqLQAARw1GIABBBEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyEAgsgAkEANgIAIAZBAWohAUErDEcLQaoBIQMgASAERg2CAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHKzwBqLQAARw1FIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyDAgsgAkEANgIAIAZBAWohAUEUDEYLIAEgBEYEQEGrASEDDIICCwJAAkACQAJAIAEtAABBwgBrDg8AAQJHR0dHR0dHR0dHRwNHCyABQQFqIQFBkwEhAwzrAQsgAUEBaiEBQZQBIQMM6gELIAFBAWohAUGVASEDDOkBCyABQQFqIQFBlgEhAwzoAQsgASAERgRAQawBIQMMgQILIAEtAABBxQBHDUIgAUEBaiEBDD0LQa0BIQMgASAERg3/ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHNzwBqLQAARw1CIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyAAgsgAkEANgIAIAZBAWohAUEODEMLIAEgBEYEQEGuASEDDP8BCyABLQAAQdAARw1AIAFBAWohAUElDEILQa8BIQMgASAERg39ASACKAIAIgAgBCABa2ohBSABIABrQQhqIQYCQANAIAEtAAAgAEHQzwBqLQAARw1AIABBCEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz+AQsgAkEANgIAIAZBAWohAUEqDEELIAEgBEYEQEGwASEDDP0BCwJAAkAgAS0AAEHVAGsOCwBAQEBAQEBAQEABQAsgAUEBaiEBQZoBIQMM5AELIAFBAWohAUGbASEDDOMBCyABIARGBEBBsQEhAwz8AQsCQAJAIAEtAABBwQBrDhQAPz8/Pz8/Pz8/Pz8/Pz8/Pz8/AT8LIAFBAWohAUGZASEDDOMBCyABQQFqIQFBnAEhAwziAQtBsgEhAyABIARGDfoBIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQdnPAGotAABHDT0gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPsBCyACQQA2AgAgBkEBaiEBQSEMPgtBswEhAyABIARGDfkBIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAS0AACAAQd3PAGotAABHDTwgAEEGRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPoBCyACQQA2AgAgBkEBaiEBQRoMPQsgASAERgRAQbQBIQMM+QELAkACQAJAIAEtAABBxQBrDhEAPT09PT09PT09AT09PT09Aj0LIAFBAWohAUGdASEDDOEBCyABQQFqIQFBngEhAwzgAQsgAUEBaiEBQZ8BIQMM3wELQbUBIQMgASAERg33ASACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEHkzwBqLQAARw06IABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz4AQsgAkEANgIAIAZBAWohAUEoDDsLQbYBIQMgASAERg32ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHqzwBqLQAARw05IABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz3AQsgAkEANgIAIAZBAWohAUEHDDoLIAEgBEYEQEG3ASEDDPYBCwJAAkAgAS0AAEHFAGsODgA5OTk5OTk5OTk5OTkBOQsgAUEBaiEBQaEBIQMM3QELIAFBAWohAUGiASEDDNwBC0G4ASEDIAEgBEYN9AEgAigCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB7c8Aai0AAEcNNyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9QELIAJBADYCACAGQQFqIQFBEgw4C0G5ASEDIAEgBEYN8wEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8M8Aai0AAEcNNiAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9AELIAJBADYCACAGQQFqIQFBIAw3C0G6ASEDIAEgBEYN8gEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8s8Aai0AAEcNNSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8wELIAJBADYCACAGQQFqIQFBDww2CyABIARGBEBBuwEhAwzyAQsCQAJAIAEtAABByQBrDgcANTU1NTUBNQsgAUEBaiEBQaUBIQMM2QELIAFBAWohAUGmASEDDNgBC0G8ASEDIAEgBEYN8AEgAigCACIAIAQgAWtqIQUgASAAa0EHaiEGAkADQCABLQAAIABB9M8Aai0AAEcNMyAAQQdGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8QELIAJBADYCACAGQQFqIQFBGww0CyABIARGBEBBvQEhAwzwAQsCQAJAAkAgAS0AAEHCAGsOEgA0NDQ0NDQ0NDQBNDQ0NDQ0AjQLIAFBAWohAUGkASEDDNgBCyABQQFqIQFBpwEhAwzXAQsgAUEBaiEBQagBIQMM1gELIAEgBEYEQEG+ASEDDO8BCyABLQAAQc4ARw0wIAFBAWohAQwsCyABIARGBEBBvwEhAwzuAQsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCABLQAAQcEAaw4VAAECAz8EBQY/Pz8HCAkKCz8MDQ4PPwsgAUEBaiEBQegAIQMM4wELIAFBAWohAUHpACEDDOIBCyABQQFqIQFB7gAhAwzhAQsgAUEBaiEBQfIAIQMM4AELIAFBAWohAUHzACEDDN8BCyABQQFqIQFB9gAhAwzeAQsgAUEBaiEBQfcAIQMM3QELIAFBAWohAUH6ACEDDNwBCyABQQFqIQFBgwEhAwzbAQsgAUEBaiEBQYQBIQMM2gELIAFBAWohAUGFASEDDNkBCyABQQFqIQFBkgEhAwzYAQsgAUEBaiEBQZgBIQMM1wELIAFBAWohAUGgASEDDNYBCyABQQFqIQFBowEhAwzVAQsgAUEBaiEBQaoBIQMM1AELIAEgBEcEQCACQRA2AgggAiABNgIEQasBIQMM1AELQcABIQMM7AELQQAhAAJAIAIoAjgiA0UNACADKAI0IgNFDQAgAiADEQAAIQALIABFDV4gAEEVRw0HIAJB0QA2AhwgAiABNgIUIAJBsBc2AhAgAkEVNgIMQQAhAwzrAQsgAUEBaiABIARHDQgaQcIBIQMM6gELA0ACQCABLQAAQQprDgQIAAALAAsgBCABQQFqIgFHDQALQcMBIQMM6QELIAEgBEcEQCACQRE2AgggAiABNgIEQQEhAwzQAQtBxAEhAwzoAQsgASAERgRAQcUBIQMM6AELAkACQCABLQAAQQprDgQBKCgAKAsgAUEBagwJCyABQQFqDAULIAEgBEYEQEHGASEDDOcBCwJAAkAgAS0AAEEKaw4XAQsLAQsLCwsLCwsLCwsLCwsLCwsLCwALCyABQQFqIQELQbABIQMMzQELIAEgBEYEQEHIASEDDOYBCyABLQAAQSBHDQkgAkEAOwEyIAFBAWohAUGzASEDDMwBCwNAIAEhAAJAIAEgBEcEQCABLQAAQTBrQf8BcSIDQQpJDQEMJwtBxwEhAwzmAQsCQCACLwEyIgFBmTNLDQAgAiABQQpsIgU7ATIgBUH+/wNxIANB//8Dc0sNACAAQQFqIQEgAiADIAVqIgM7ATIgA0H//wNxQegHSQ0BCwtBACEDIAJBADYCHCACQcEJNgIQIAJBDTYCDCACIABBAWo2AhQM5AELIAJBADYCHCACIAE2AhQgAkHwDDYCECACQRs2AgxBACEDDOMBCyACKAIEIQAgAkEANgIEIAIgACABECYiAA0BIAFBAWoLIQFBrQEhAwzIAQsgAkHBATYCHCACIAA2AgwgAiABQQFqNgIUQQAhAwzgAQsgAigCBCEAIAJBADYCBCACIAAgARAmIgANASABQQFqCyEBQa4BIQMMxQELIAJBwgE2AhwgAiAANgIMIAIgAUEBajYCFEEAIQMM3QELIAJBADYCHCACIAE2AhQgAkGXCzYCECACQQ02AgxBACEDDNwBCyACQQA2AhwgAiABNgIUIAJB4xA2AhAgAkEJNgIMQQAhAwzbAQsgAkECOgAoDKwBC0EAIQMgAkEANgIcIAJBrws2AhAgAkECNgIMIAIgAUEBajYCFAzZAQtBAiEDDL8BC0ENIQMMvgELQSYhAwy9AQtBFSEDDLwBC0EWIQMMuwELQRghAwy6AQtBHCEDDLkBC0EdIQMMuAELQSAhAwy3AQtBISEDDLYBC0EjIQMMtQELQcYAIQMMtAELQS4hAwyzAQtBPSEDDLIBC0HLACEDDLEBC0HOACEDDLABC0HYACEDDK8BC0HZACEDDK4BC0HbACEDDK0BC0HxACEDDKwBC0H0ACEDDKsBC0GNASEDDKoBC0GXASEDDKkBC0GpASEDDKgBC0GvASEDDKcBC0GxASEDDKYBCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB8Rs2AhAgAkEGNgIMDL0BCyACQQA2AgAgBkEBaiEBQSQLOgApIAIoAgQhACACQQA2AgQgAiAAIAEQJyIARQRAQeUAIQMMowELIAJB+QA2AhwgAiABNgIUIAIgADYCDEEAIQMMuwELIABBFUcEQCACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwy7AQsgAkH4ADYCHCACIAE2AhQgAkHKGDYCECACQRU2AgxBACEDDLoBCyACQQA2AhwgAiABNgIUIAJBjhs2AhAgAkEGNgIMQQAhAwy5AQsgAkEANgIcIAIgATYCFCACQf4RNgIQIAJBBzYCDEEAIQMMuAELIAJBADYCHCACIAE2AhQgAkGMHDYCECACQQc2AgxBACEDDLcBCyACQQA2AhwgAiABNgIUIAJBww82AhAgAkEHNgIMQQAhAwy2AQsgAkEANgIcIAIgATYCFCACQcMPNgIQIAJBBzYCDEEAIQMMtQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0RIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMtAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0gIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMswELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0iIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMsgELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0OIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMsQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0dIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMsAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0fIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMrwELIABBP0cNASABQQFqCyEBQQUhAwyUAQtBACEDIAJBADYCHCACIAE2AhQgAkH9EjYCECACQQc2AgwMrAELIAJBADYCHCACIAE2AhQgAkHcCDYCECACQQc2AgxBACEDDKsBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNByACQeUANgIcIAIgATYCFCACIAA2AgxBACEDDKoBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNFiACQdMANgIcIAIgATYCFCACIAA2AgxBACEDDKkBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNGCACQdIANgIcIAIgATYCFCACIAA2AgxBACEDDKgBCyACQQA2AhwgAiABNgIUIAJBxgo2AhAgAkEHNgIMQQAhAwynAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQMgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwymAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRIgAkHTADYCHCACIAE2AhQgAiAANgIMQQAhAwylAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRQgAkHSADYCHCACIAE2AhQgAiAANgIMQQAhAwykAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQAgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwyjAQtB1QAhAwyJAQsgAEEVRwRAIAJBADYCHCACIAE2AhQgAkG5DTYCECACQRo2AgxBACEDDKIBCyACQeQANgIcIAIgATYCFCACQeMXNgIQIAJBFTYCDEEAIQMMoQELIAJBADYCACAGQQFqIQEgAi0AKSIAQSNrQQtJDQQCQCAAQQZLDQBBASAAdEHKAHFFDQAMBQtBACEDIAJBADYCHCACIAE2AhQgAkH3CTYCECACQQg2AgwMoAELIAJBADYCACAGQQFqIQEgAi0AKUEhRg0DIAJBADYCHCACIAE2AhQgAkGbCjYCECACQQg2AgxBACEDDJ8BCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJBkDM2AhAgAkEINgIMDJ0BCyACQQA2AgAgBkEBaiEBIAItAClBI0kNACACQQA2AhwgAiABNgIUIAJB0wk2AhAgAkEINgIMQQAhAwycAQtB0QAhAwyCAQsgAS0AAEEwayIAQf8BcUEKSQRAIAIgADoAKiABQQFqIQFBzwAhAwyCAQsgAigCBCEAIAJBADYCBCACIAAgARAoIgBFDYYBIAJB3gA2AhwgAiABNgIUIAIgADYCDEEAIQMMmgELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ2GASACQdwANgIcIAIgATYCFCACIAA2AgxBACEDDJkBCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMhwELIAJB2gA2AhwgAiAFNgIUIAIgADYCDAyYAQtBACEBQQEhAwsgAiADOgArIAVBAWohAwJAAkACQCACLQAtQRBxDQACQAJAAkAgAi0AKg4DAQACBAsgBkUNAwwCCyAADQEMAgsgAUUNAQsgAigCBCEAIAJBADYCBCACIAAgAxAoIgBFBEAgAyEBDAILIAJB2AA2AhwgAiADNgIUIAIgADYCDEEAIQMMmAELIAIoAgQhACACQQA2AgQgAiAAIAMQKCIARQRAIAMhAQyHAQsgAkHZADYCHCACIAM2AhQgAiAANgIMQQAhAwyXAQtBzAAhAwx9CyAAQRVHBEAgAkEANgIcIAIgATYCFCACQZQNNgIQIAJBITYCDEEAIQMMlgELIAJB1wA2AhwgAiABNgIUIAJByRc2AhAgAkEVNgIMQQAhAwyVAQtBACEDIAJBADYCHCACIAE2AhQgAkGAETYCECACQQk2AgwMlAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0AIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMkwELQckAIQMMeQsgAkEANgIcIAIgATYCFCACQcEoNgIQIAJBBzYCDCACQQA2AgBBACEDDJEBCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAlIgBFDQAgAkHSADYCHCACIAE2AhQgAiAANgIMDJABC0HIACEDDHYLIAJBADYCACAFIQELIAJBgBI7ASogAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANAQtBxwAhAwxzCyAAQRVGBEAgAkHRADYCHCACIAE2AhQgAkHjFzYCECACQRU2AgxBACEDDIwBC0EAIQMgAkEANgIcIAIgATYCFCACQbkNNgIQIAJBGjYCDAyLAQtBACEDIAJBADYCHCACIAE2AhQgAkGgGTYCECACQR42AgwMigELIAEtAABBOkYEQCACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgBFDQEgAkHDADYCHCACIAA2AgwgAiABQQFqNgIUDIoBC0EAIQMgAkEANgIcIAIgATYCFCACQbERNgIQIAJBCjYCDAyJAQsgAUEBaiEBQTshAwxvCyACQcMANgIcIAIgADYCDCACIAFBAWo2AhQMhwELQQAhAyACQQA2AhwgAiABNgIUIAJB8A42AhAgAkEcNgIMDIYBCyACIAIvATBBEHI7ATAMZgsCQCACLwEwIgBBCHFFDQAgAi0AKEEBRw0AIAItAC1BCHFFDQMLIAIgAEH3+wNxQYAEcjsBMAwECyABIARHBEACQANAIAEtAABBMGsiAEH/AXFBCk8EQEE1IQMMbgsgAikDICIKQpmz5syZs+bMGVYNASACIApCCn4iCjcDICAKIACtQv8BgyILQn+FVg0BIAIgCiALfDcDICAEIAFBAWoiAUcNAAtBOSEDDIUBCyACKAIEIQBBACEDIAJBADYCBCACIAAgAUEBaiIBECoiAA0MDHcLQTkhAwyDAQsgAi0AMEEgcQ0GQcUBIQMMaQtBACEDIAJBADYCBCACIAEgARAqIgBFDQQgAkE6NgIcIAIgADYCDCACIAFBAWo2AhQMgQELIAItAChBAUcNACACLQAtQQhxRQ0BC0E3IQMMZgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIABEAgAkE7NgIcIAIgADYCDCACIAFBAWo2AhQMfwsgAUEBaiEBDG4LIAJBCDoALAwECyABQQFqIQEMbQtBACEDIAJBADYCHCACIAE2AhQgAkHkEjYCECACQQQ2AgwMewsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ1sIAJBNzYCHCACIAE2AhQgAiAANgIMDHoLIAIgAi8BMEEgcjsBMAtBMCEDDF8LIAJBNjYCHCACIAE2AhQgAiAANgIMDHcLIABBLEcNASABQQFqIQBBASEBAkACQAJAAkACQCACLQAsQQVrDgQDAQIEAAsgACEBDAQLQQIhAQwBC0EEIQELIAJBAToALCACIAIvATAgAXI7ATAgACEBDAELIAIgAi8BMEEIcjsBMCAAIQELQTkhAwxcCyACQQA6ACwLQTQhAwxaCyABIARGBEBBLSEDDHMLAkACQANAAkAgAS0AAEEKaw4EAgAAAwALIAQgAUEBaiIBRw0AC0EtIQMMdAsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ0CIAJBLDYCHCACIAE2AhQgAiAANgIMDHMLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAS0AAEENRgRAIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAi0ALUEBcQRAQcQBIQMMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIADQEMZQtBLyEDDFcLIAJBLjYCHCACIAE2AhQgAiAANgIMDG8LQQAhAyACQQA2AhwgAiABNgIUIAJB8BQ2AhAgAkEDNgIMDG4LQQEhAwJAAkACQAJAIAItACxBBWsOBAMBAgAECyACIAIvATBBCHI7ATAMAwtBAiEDDAELQQQhAwsgAkEBOgAsIAIgAi8BMCADcjsBMAtBKiEDDFMLQQAhAyACQQA2AhwgAiABNgIUIAJB4Q82AhAgAkEKNgIMDGsLQQEhAwJAAkACQAJAAkACQCACLQAsQQJrDgcFBAQDAQIABAsgAiACLwEwQQhyOwEwDAMLQQIhAwwBC0EEIQMLIAJBAToALCACIAIvATAgA3I7ATALQSshAwxSC0EAIQMgAkEANgIcIAIgATYCFCACQasSNgIQIAJBCzYCDAxqC0EAIQMgAkEANgIcIAIgATYCFCACQf0NNgIQIAJBHTYCDAxpCyABIARHBEADQCABLQAAQSBHDUggBCABQQFqIgFHDQALQSUhAwxpC0ElIQMMaAsgAi0ALUEBcQRAQcMBIQMMTwsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKSIABEAgAkEmNgIcIAIgADYCDCACIAFBAWo2AhQMaAsgAUEBaiEBDFwLIAFBAWohASACLwEwIgBBgAFxBEBBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAEUNBiAAQRVHDR8gAkEFNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMZwsCQCAAQaAEcUGgBEcNACACLQAtQQJxDQBBACEDIAJBADYCHCACIAE2AhQgAkGWEzYCECACQQQ2AgwMZwsgAgJ/IAIvATBBFHFBFEYEQEEBIAItAChBAUYNARogAi8BMkHlAEYMAQsgAi0AKUEFRgs6AC5BACEAAkAgAigCOCIDRQ0AIAMoAiQiA0UNACACIAMRAAAhAAsCQAJAAkACQAJAIAAOFgIBAAQEBAQEBAQEBAQEBAQEBAQEBAMECyACQQE6AC4LIAIgAi8BMEHAAHI7ATALQSchAwxPCyACQSM2AhwgAiABNgIUIAJBpRY2AhAgAkEVNgIMQQAhAwxnC0EAIQMgAkEANgIcIAIgATYCFCACQdULNgIQIAJBETYCDAxmC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAADQELQQ4hAwxLCyAAQRVGBEAgAkECNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMZAtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMYwtBACEDIAJBADYCHCACIAE2AhQgAkGqHDYCECACQQ82AgwMYgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEgCqdqIgEQKyIARQ0AIAJBBTYCHCACIAE2AhQgAiAANgIMDGELQQ8hAwxHC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxfC0IBIQoLIAFBAWohAQJAIAIpAyAiC0L//////////w9YBEAgAiALQgSGIAqENwMgDAELQQAhAyACQQA2AhwgAiABNgIUIAJBrQk2AhAgAkEMNgIMDF4LQSQhAwxEC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxcCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAsIgBFBEAgAUEBaiEBDFILIAJBFzYCHCACIAA2AgwgAiABQQFqNgIUDFsLIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQRY2AhwgAiAANgIMIAIgAUEBajYCFAxbC0EfIQMMQQtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQLSIARQRAIAFBAWohAQxQCyACQRQ2AhwgAiAANgIMIAIgAUEBajYCFAxYCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABEC0iAEUEQCABQQFqIQEMAQsgAkETNgIcIAIgADYCDCACIAFBAWo2AhQMWAtBHiEDDD4LQQAhAyACQQA2AhwgAiABNgIUIAJBxgw2AhAgAkEjNgIMDFYLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABEC0iAEUEQCABQQFqIQEMTgsgAkERNgIcIAIgADYCDCACIAFBAWo2AhQMVQsgAkEQNgIcIAIgATYCFCACIAA2AgwMVAtBACEDIAJBADYCHCACIAE2AhQgAkHGDDYCECACQSM2AgwMUwtBACEDIAJBADYCHCACIAE2AhQgAkHAFTYCECACQQI2AgwMUgsgAigCBCEAQQAhAyACQQA2AgQCQCACIAAgARAtIgBFBEAgAUEBaiEBDAELIAJBDjYCHCACIAA2AgwgAiABQQFqNgIUDFILQRshAww4C0EAIQMgAkEANgIcIAIgATYCFCACQcYMNgIQIAJBIzYCDAxQCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABECwiAEUEQCABQQFqIQEMAQsgAkENNgIcIAIgADYCDCACIAFBAWo2AhQMUAtBGiEDDDYLQQAhAyACQQA2AhwgAiABNgIUIAJBmg82AhAgAkEiNgIMDE4LIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQQw2AhwgAiAANgIMIAIgAUEBajYCFAxOC0EZIQMMNAtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMTAsgAEEVRwRAQQAhAyACQQA2AhwgAiABNgIUIAJBgww2AhAgAkETNgIMDEwLIAJBCjYCHCACIAE2AhQgAkHkFjYCECACQRU2AgxBACEDDEsLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABIAqnaiIBECsiAARAIAJBBzYCHCACIAE2AhQgAiAANgIMDEsLQRMhAwwxCyAAQRVHBEBBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMSgsgAkEeNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMSQtBACEAAkAgAigCOCIDRQ0AIAMoAiwiA0UNACACIAMRAAAhAAsgAEUNQSAAQRVGBEAgAkEDNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMSQtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMSAtBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMRwtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMRgsgAkEAOgAvIAItAC1BBHFFDT8LIAJBADoALyACQQE6ADRBACEDDCsLQQAhAyACQQA2AhwgAkHkETYCECACQQc2AgwgAiABQQFqNgIUDEMLAkADQAJAIAEtAABBCmsOBAACAgACCyAEIAFBAWoiAUcNAAtB3QEhAwxDCwJAAkAgAi0ANEEBRw0AQQAhAAJAIAIoAjgiA0UNACADKAJYIgNFDQAgAiADEQAAIQALIABFDQAgAEEVRw0BIAJB3AE2AhwgAiABNgIUIAJB1RY2AhAgAkEVNgIMQQAhAwxEC0HBASEDDCoLIAJBADYCHCACIAE2AhQgAkHpCzYCECACQR82AgxBACEDDEILAkACQCACLQAoQQFrDgIEAQALQcABIQMMKQtBuQEhAwwoCyACQQI6AC9BACEAAkAgAigCOCIDRQ0AIAMoAgAiA0UNACACIAMRAAAhAAsgAEUEQEHCASEDDCgLIABBFUcEQCACQQA2AhwgAiABNgIUIAJBpAw2AhAgAkEQNgIMQQAhAwxBCyACQdsBNgIcIAIgATYCFCACQfoWNgIQIAJBFTYCDEEAIQMMQAsgASAERgRAQdoBIQMMQAsgAS0AAEHIAEYNASACQQE6ACgLQawBIQMMJQtBvwEhAwwkCyABIARHBEAgAkEQNgIIIAIgATYCBEG+ASEDDCQLQdkBIQMMPAsgASAERgRAQdgBIQMMPAsgAS0AAEHIAEcNBCABQQFqIQFBvQEhAwwiCyABIARGBEBB1wEhAww7CwJAAkAgAS0AAEHFAGsOEAAFBQUFBQUFBQUFBQUFBQEFCyABQQFqIQFBuwEhAwwiCyABQQFqIQFBvAEhAwwhC0HWASEDIAEgBEYNOSACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGD0ABqLQAARw0DIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw6CyACKAIEIQAgAkIANwMAIAIgACAGQQFqIgEQJyIARQRAQcYBIQMMIQsgAkHVATYCHCACIAE2AhQgAiAANgIMQQAhAww5C0HUASEDIAEgBEYNOCACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGB0ABqLQAARw0CIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw5CyACQYEEOwEoIAIoAgQhACACQgA3AwAgAiAAIAZBAWoiARAnIgANAwwCCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB2Bs2AhAgAkEINgIMDDYLQboBIQMMHAsgAkHTATYCHCACIAE2AhQgAiAANgIMQQAhAww0C0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAARQ0AIABBFUYNASACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwwzC0HkACEDDBkLIAJB+AA2AhwgAiABNgIUIAJByhg2AhAgAkEVNgIMQQAhAwwxC0HSASEDIAQgASIARg0wIAQgAWsgAigCACIBaiEFIAAgAWtBBGohBgJAA0AgAC0AACABQfzPAGotAABHDQEgAUEERg0DIAFBAWohASAEIABBAWoiAEcNAAsgAiAFNgIADDELIAJBADYCHCACIAA2AhQgAkGQMzYCECACQQg2AgwgAkEANgIAQQAhAwwwCyABIARHBEAgAkEONgIIIAIgATYCBEG3ASEDDBcLQdEBIQMMLwsgAkEANgIAIAZBAWohAQtBuAEhAwwUCyABIARGBEBB0AEhAwwtCyABLQAAQTBrIgBB/wFxQQpJBEAgAiAAOgAqIAFBAWohAUG2ASEDDBQLIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0UIAJBzwE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAsgASAERgRAQc4BIQMMLAsCQCABLQAAQS5GBEAgAUEBaiEBDAELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0VIAJBzQE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAtBtQEhAwwSCyAEIAEiBUYEQEHMASEDDCsLQQAhAEEBIQFBASEGQQAhAwJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAIAUtAABBMGsOCgoJAAECAwQFBggLC0ECDAYLQQMMBQtBBAwEC0EFDAMLQQYMAgtBBwwBC0EICyEDQQAhAUEAIQYMAgtBCSEDQQEhAEEAIQFBACEGDAELQQAhAUEBIQMLIAIgAzoAKyAFQQFqIQMCQAJAIAItAC1BEHENAAJAAkACQCACLQAqDgMBAAIECyAGRQ0DDAILIAANAQwCCyABRQ0BCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMAwsgAkHJATYCHCACIAM2AhQgAiAANgIMQQAhAwwtCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMGAsgAkHKATYCHCACIAM2AhQgAiAANgIMQQAhAwwsCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMFgsgAkHLATYCHCACIAU2AhQgAiAANgIMDCsLQbQBIQMMEQtBACEAAkAgAigCOCIDRQ0AIAMoAjwiA0UNACACIAMRAAAhAAsCQCAABEAgAEEVRg0BIAJBADYCHCACIAE2AhQgAkGUDTYCECACQSE2AgxBACEDDCsLQbIBIQMMEQsgAkHIATYCHCACIAE2AhQgAkHJFzYCECACQRU2AgxBACEDDCkLIAJBADYCACAGQQFqIQFB9QAhAwwPCyACLQApQQVGBEBB4wAhAwwPC0HiACEDDA4LIAAhASACQQA2AgALIAJBADoALEEJIQMMDAsgAkEANgIAIAdBAWohAUHAACEDDAsLQQELOgAsIAJBADYCACAGQQFqIQELQSkhAwwIC0E4IQMMBwsCQCABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRw0DIAFBAWohAQwFCyAEIAFBAWoiAUcNAAtBPiEDDCELQT4hAwwgCwsgAkEAOgAsDAELQQshAwwEC0E6IQMMAwsgAUEBaiEBQS0hAwwCCyACIAE6ACwgAkEANgIAIAZBAWohAUEMIQMMAQsgAkEANgIAIAZBAWohAUEKIQMMAAsAC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwXC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwWC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwVC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwUC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwTC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwSC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwRC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwQC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwPC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwOC0EAIQMgAkEANgIcIAIgATYCFCACQcASNgIQIAJBCzYCDAwNC0EAIQMgAkEANgIcIAIgATYCFCACQZUJNgIQIAJBCzYCDAwMC0EAIQMgAkEANgIcIAIgATYCFCACQeEPNgIQIAJBCjYCDAwLC0EAIQMgAkEANgIcIAIgATYCFCACQfsPNgIQIAJBCjYCDAwKC0EAIQMgAkEANgIcIAIgATYCFCACQfEZNgIQIAJBAjYCDAwJC0EAIQMgAkEANgIcIAIgATYCFCACQcQUNgIQIAJBAjYCDAwIC0EAIQMgAkEANgIcIAIgATYCFCACQfIVNgIQIAJBAjYCDAwHCyACQQI2AhwgAiABNgIUIAJBnBo2AhAgAkEWNgIMQQAhAwwGC0EBIQMMBQtB1AAhAyABIARGDQQgCEEIaiEJIAIoAgAhBQJAAkAgASAERwRAIAVB2MIAaiEHIAQgBWogAWshACAFQX9zQQpqIgUgAWohBgNAIAEtAAAgBy0AAEcEQEECIQcMAwsgBUUEQEEAIQcgBiEBDAMLIAVBAWshBSAHQQFqIQcgBCABQQFqIgFHDQALIAAhBSAEIQELIAlBATYCACACIAU2AgAMAQsgAkEANgIAIAkgBzYCAAsgCSABNgIEIAgoAgwhACAIKAIIDgMBBAIACwALIAJBADYCHCACQbUaNgIQIAJBFzYCDCACIABBAWo2AhRBACEDDAILIAJBADYCHCACIAA2AhQgAkHKGjYCECACQQk2AgxBACEDDAELIAEgBEYEQEEiIQMMAQsgAkEJNgIIIAIgATYCBEEhIQMLIAhBEGokACADRQRAIAIoAgwhAAwBCyACIAM2AhxBACEAIAIoAgQiAUUNACACIAEgBCACKAIIEQEAIgFFDQAgAiAENgIUIAIgATYCDCABIQALIAALvgIBAn8gAEEAOgAAIABB3ABqIgFBAWtBADoAACAAQQA6AAIgAEEAOgABIAFBA2tBADoAACABQQJrQQA6AAAgAEEAOgADIAFBBGtBADoAAEEAIABrQQNxIgEgAGoiAEEANgIAQdwAIAFrQXxxIgIgAGoiAUEEa0EANgIAAkAgAkEJSQ0AIABBADYCCCAAQQA2AgQgAUEIa0EANgIAIAFBDGtBADYCACACQRlJDQAgAEEANgIYIABBADYCFCAAQQA2AhAgAEEANgIMIAFBEGtBADYCACABQRRrQQA2AgAgAUEYa0EANgIAIAFBHGtBADYCACACIABBBHFBGHIiAmsiAUEgSQ0AIAAgAmohAANAIABCADcDGCAAQgA3AxAgAEIANwMIIABCADcDACAAQSBqIQAgAUEgayIBQR9LDQALCwtWAQF/AkAgACgCDA0AAkACQAJAAkAgAC0ALw4DAQADAgsgACgCOCIBRQ0AIAEoAiwiAUUNACAAIAERAAAiAQ0DC0EADwsACyAAQcMWNgIQQQ4hAQsgAQsaACAAKAIMRQRAIABB0Rs2AhAgAEEVNgIMCwsUACAAKAIMQRVGBEAgAEEANgIMCwsUACAAKAIMQRZGBEAgAEEANgIMCwsHACAAKAIMCwcAIAAoAhALCQAgACABNgIQCwcAIAAoAhQLFwAgAEEkTwRAAAsgAEECdEGgM2ooAgALFwAgAEEuTwRAAAsgAEECdEGwNGooAgALvwkBAX9B6yghAQJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB5ABrDvQDY2IAAWFhYWFhYQIDBAVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhBgcICQoLDA0OD2FhYWFhEGFhYWFhYWFhYWFhEWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYRITFBUWFxgZGhthYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2YTc4OTphYWFhYWFhYTthYWE8YWFhYT0+P2FhYWFhYWFhQGFhQWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYUJDREVGR0hJSktMTU5PUFFSU2FhYWFhYWFhVFVWV1hZWlthXF1hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFeYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhX2BhC0HhJw8LQaQhDwtByywPC0H+MQ8LQcAkDwtBqyQPC0GNKA8LQeImDwtBgDAPC0G5Lw8LQdckDwtB7x8PC0HhHw8LQfofDwtB8iAPC0GoLw8LQa4yDwtBiDAPC0HsJw8LQYIiDwtBjh0PC0HQLg8LQcojDwtBxTIPC0HfHA8LQdIcDwtBxCAPC0HXIA8LQaIfDwtB7S4PC0GrMA8LQdQlDwtBzC4PC0H6Lg8LQfwrDwtB0jAPC0HxHQ8LQbsgDwtB9ysPC0GQMQ8LQdcxDwtBoi0PC0HUJw8LQeArDwtBnywPC0HrMQ8LQdUfDwtByjEPC0HeJQ8LQdQeDwtB9BwPC0GnMg8LQbEdDwtBoB0PC0G5MQ8LQbwwDwtBkiEPC0GzJg8LQeksDwtBrB4PC0HUKw8LQfcmDwtBgCYPC0GwIQ8LQf4eDwtBjSMPC0GJLQ8LQfciDwtBoDEPC0GuHw8LQcYlDwtB6B4PC0GTIg8LQcIvDwtBwx0PC0GLLA8LQeEdDwtBjS8PC0HqIQ8LQbQtDwtB0i8PC0HfMg8LQdIyDwtB8DAPC0GpIg8LQfkjDwtBmR4PC0G1LA8LQZswDwtBkjIPC0G2Kw8LQcIiDwtB+DIPC0GeJQ8LQdAiDwtBuh4PC0GBHg8LAAtB1iEhAQsgAQsWACAAIAAtAC1B/gFxIAFBAEdyOgAtCxkAIAAgAC0ALUH9AXEgAUEAR0EBdHI6AC0LGQAgACAALQAtQfsBcSABQQBHQQJ0cjoALQsZACAAIAAtAC1B9wFxIAFBAEdBA3RyOgAtCz4BAn8CQCAAKAI4IgNFDQAgAygCBCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBxhE2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCCCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9go2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCDCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7Ro2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCECIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlRA2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCFCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBqhs2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCGCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7RM2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCKCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9gg2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCHCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBwhk2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCICIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlBQ2AhBBGCEECyAEC1kBAn8CQCAALQAoQQFGDQAgAC8BMiIBQeQAa0HkAEkNACABQcwBRg0AIAFBsAJGDQAgAC8BMCIAQcAAcQ0AQQEhAiAAQYgEcUGABEYNACAAQShxRSECCyACC4wBAQJ/AkACQAJAIAAtACpFDQAgAC0AK0UNACAALwEwIgFBAnFFDQEMAgsgAC8BMCIBQQFxRQ0BC0EBIQIgAC0AKEEBRg0AIAAvATIiAEHkAGtB5ABJDQAgAEHMAUYNACAAQbACRg0AIAFBwABxDQBBACECIAFBiARxQYAERg0AIAFBKHFBAEchAgsgAgtXACAAQRhqQgA3AwAgAEIANwMAIABBOGpCADcDACAAQTBqQgA3AwAgAEEoakIANwMAIABBIGpCADcDACAAQRBqQgA3AwAgAEEIakIANwMAIABB3QE2AhwLBgAgABAyC5otAQt/IwBBEGsiCiQAQaTQACgCACIJRQRAQeTTACgCACIFRQRAQfDTAEJ/NwIAQejTAEKAgISAgIDAADcCAEHk0wAgCkEIakFwcUHYqtWqBXMiBTYCAEH40wBBADYCAEHI0wBBADYCAAtBzNMAQYDUBDYCAEGc0ABBgNQENgIAQbDQACAFNgIAQazQAEF/NgIAQdDTAEGArAM2AgADQCABQcjQAGogAUG80ABqIgI2AgAgAiABQbTQAGoiAzYCACABQcDQAGogAzYCACABQdDQAGogAUHE0ABqIgM2AgAgAyACNgIAIAFB2NAAaiABQczQAGoiAjYCACACIAM2AgAgAUHU0ABqIAI2AgAgAUEgaiIBQYACRw0AC0GM1ARBwasDNgIAQajQAEH00wAoAgA2AgBBmNAAQcCrAzYCAEGk0ABBiNQENgIAQcz/B0E4NgIAQYjUBCEJCwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB7AFNBEBBjNAAKAIAIgZBECAAQRNqQXBxIABBC0kbIgRBA3YiAHYiAUEDcQRAAkAgAUEBcSAAckEBcyICQQN0IgBBtNAAaiIBIABBvNAAaigCACIAKAIIIgNGBEBBjNAAIAZBfiACd3E2AgAMAQsgASADNgIIIAMgATYCDAsgAEEIaiEBIAAgAkEDdCICQQNyNgIEIAAgAmoiACAAKAIEQQFyNgIEDBELQZTQACgCACIIIARPDQEgAQRAAkBBAiAAdCICQQAgAmtyIAEgAHRxaCIAQQN0IgJBtNAAaiIBIAJBvNAAaigCACICKAIIIgNGBEBBjNAAIAZBfiAAd3EiBjYCAAwBCyABIAM2AgggAyABNgIMCyACIARBA3I2AgQgAEEDdCIAIARrIQUgACACaiAFNgIAIAIgBGoiBCAFQQFyNgIEIAgEQCAIQXhxQbTQAGohAEGg0AAoAgAhAwJ/QQEgCEEDdnQiASAGcUUEQEGM0AAgASAGcjYCACAADAELIAAoAggLIgEgAzYCDCAAIAM2AgggAyAANgIMIAMgATYCCAsgAkEIaiEBQaDQACAENgIAQZTQACAFNgIADBELQZDQACgCACILRQ0BIAtoQQJ0QbzSAGooAgAiACgCBEF4cSAEayEFIAAhAgNAAkAgAigCECIBRQRAIAJBFGooAgAiAUUNAQsgASgCBEF4cSAEayIDIAVJIQIgAyAFIAIbIQUgASAAIAIbIQAgASECDAELCyAAKAIYIQkgACgCDCIDIABHBEBBnNAAKAIAGiADIAAoAggiATYCCCABIAM2AgwMEAsgAEEUaiICKAIAIgFFBEAgACgCECIBRQ0DIABBEGohAgsDQCACIQcgASIDQRRqIgIoAgAiAQ0AIANBEGohAiADKAIQIgENAAsgB0EANgIADA8LQX8hBCAAQb9/Sw0AIABBE2oiAUFwcSEEQZDQACgCACIIRQ0AQQAgBGshBQJAAkACQAJ/QQAgBEGAAkkNABpBHyAEQf///wdLDQAaIARBJiABQQh2ZyIAa3ZBAXEgAEEBdGtBPmoLIgZBAnRBvNIAaigCACICRQRAQQAhAUEAIQMMAQtBACEBIARBGSAGQQF2a0EAIAZBH0cbdCEAQQAhAwNAAkAgAigCBEF4cSAEayIHIAVPDQAgAiEDIAciBQ0AQQAhBSACIQEMAwsgASACQRRqKAIAIgcgByACIABBHXZBBHFqQRBqKAIAIgJGGyABIAcbIQEgAEEBdCEAIAINAAsLIAEgA3JFBEBBACEDQQIgBnQiAEEAIABrciAIcSIARQ0DIABoQQJ0QbzSAGooAgAhAQsgAUUNAQsDQCABKAIEQXhxIARrIgIgBUkhACACIAUgABshBSABIAMgABshAyABKAIQIgAEfyAABSABQRRqKAIACyIBDQALCyADRQ0AIAVBlNAAKAIAIARrTw0AIAMoAhghByADIAMoAgwiAEcEQEGc0AAoAgAaIAAgAygCCCIBNgIIIAEgADYCDAwOCyADQRRqIgIoAgAiAUUEQCADKAIQIgFFDQMgA0EQaiECCwNAIAIhBiABIgBBFGoiAigCACIBDQAgAEEQaiECIAAoAhAiAQ0ACyAGQQA2AgAMDQtBlNAAKAIAIgMgBE8EQEGg0AAoAgAhAQJAIAMgBGsiAkEQTwRAIAEgBGoiACACQQFyNgIEIAEgA2ogAjYCACABIARBA3I2AgQMAQsgASADQQNyNgIEIAEgA2oiACAAKAIEQQFyNgIEQQAhAEEAIQILQZTQACACNgIAQaDQACAANgIAIAFBCGohAQwPC0GY0AAoAgAiAyAESwRAIAQgCWoiACADIARrIgFBAXI2AgRBpNAAIAA2AgBBmNAAIAE2AgAgCSAEQQNyNgIEIAlBCGohAQwPC0EAIQEgBAJ/QeTTACgCAARAQezTACgCAAwBC0Hw0wBCfzcCAEHo0wBCgICEgICAwAA3AgBB5NMAIApBDGpBcHFB2KrVqgVzNgIAQfjTAEEANgIAQcjTAEEANgIAQYCABAsiACAEQccAaiIFaiIGQQAgAGsiB3EiAk8EQEH80wBBMDYCAAwPCwJAQcTTACgCACIBRQ0AQbzTACgCACIIIAJqIQAgACABTSAAIAhLcQ0AQQAhAUH80wBBMDYCAAwPC0HI0wAtAABBBHENBAJAAkAgCQRAQczTACEBA0AgASgCACIAIAlNBEAgACABKAIEaiAJSw0DCyABKAIIIgENAAsLQQAQMyIAQX9GDQUgAiEGQejTACgCACIBQQFrIgMgAHEEQCACIABrIAAgA2pBACABa3FqIQYLIAQgBk8NBSAGQf7///8HSw0FQcTTACgCACIDBEBBvNMAKAIAIgcgBmohASABIAdNDQYgASADSw0GCyAGEDMiASAARw0BDAcLIAYgA2sgB3EiBkH+////B0sNBCAGEDMhACAAIAEoAgAgASgCBGpGDQMgACEBCwJAIAYgBEHIAGpPDQAgAUF/Rg0AQezTACgCACIAIAUgBmtqQQAgAGtxIgBB/v///wdLBEAgASEADAcLIAAQM0F/RwRAIAAgBmohBiABIQAMBwtBACAGaxAzGgwECyABIgBBf0cNBQwDC0EAIQMMDAtBACEADAoLIABBf0cNAgtByNMAQcjTACgCAEEEcjYCAAsgAkH+////B0sNASACEDMhAEEAEDMhASAAQX9GDQEgAUF/Rg0BIAAgAU8NASABIABrIgYgBEE4ak0NAQtBvNMAQbzTACgCACAGaiIBNgIAQcDTACgCACABSQRAQcDTACABNgIACwJAAkACQEGk0AAoAgAiAgRAQczTACEBA0AgACABKAIAIgMgASgCBCIFakYNAiABKAIIIgENAAsMAgtBnNAAKAIAIgFBAEcgACABT3FFBEBBnNAAIAA2AgALQQAhAUHQ0wAgBjYCAEHM0wAgADYCAEGs0ABBfzYCAEGw0ABB5NMAKAIANgIAQdjTAEEANgIAA0AgAUHI0ABqIAFBvNAAaiICNgIAIAIgAUG00ABqIgM2AgAgAUHA0ABqIAM2AgAgAUHQ0ABqIAFBxNAAaiIDNgIAIAMgAjYCACABQdjQAGogAUHM0ABqIgI2AgAgAiADNgIAIAFB1NAAaiACNgIAIAFBIGoiAUGAAkcNAAtBeCAAa0EPcSIBIABqIgIgBkE4ayIDIAFrIgFBAXI2AgRBqNAAQfTTACgCADYCAEGY0AAgATYCAEGk0AAgAjYCACAAIANqQTg2AgQMAgsgACACTQ0AIAIgA0kNACABKAIMQQhxDQBBeCACa0EPcSIAIAJqIgNBmNAAKAIAIAZqIgcgAGsiAEEBcjYCBCABIAUgBmo2AgRBqNAAQfTTACgCADYCAEGY0AAgADYCAEGk0AAgAzYCACACIAdqQTg2AgQMAQsgAEGc0AAoAgBJBEBBnNAAIAA2AgALIAAgBmohA0HM0wAhAQJAAkACQANAIAMgASgCAEcEQCABKAIIIgENAQwCCwsgAS0ADEEIcUUNAQtBzNMAIQEDQCABKAIAIgMgAk0EQCADIAEoAgRqIgUgAksNAwsgASgCCCEBDAALAAsgASAANgIAIAEgASgCBCAGajYCBCAAQXggAGtBD3FqIgkgBEEDcjYCBCADQXggA2tBD3FqIgYgBCAJaiIEayEBIAIgBkYEQEGk0AAgBDYCAEGY0ABBmNAAKAIAIAFqIgA2AgAgBCAAQQFyNgIEDAgLQaDQACgCACAGRgRAQaDQACAENgIAQZTQAEGU0AAoAgAgAWoiADYCACAEIABBAXI2AgQgACAEaiAANgIADAgLIAYoAgQiBUEDcUEBRw0GIAVBeHEhCCAFQf8BTQRAIAVBA3YhAyAGKAIIIgAgBigCDCICRgRAQYzQAEGM0AAoAgBBfiADd3E2AgAMBwsgAiAANgIIIAAgAjYCDAwGCyAGKAIYIQcgBiAGKAIMIgBHBEAgACAGKAIIIgI2AgggAiAANgIMDAULIAZBFGoiAigCACIFRQRAIAYoAhAiBUUNBCAGQRBqIQILA0AgAiEDIAUiAEEUaiICKAIAIgUNACAAQRBqIQIgACgCECIFDQALIANBADYCAAwEC0F4IABrQQ9xIgEgAGoiByAGQThrIgMgAWsiAUEBcjYCBCAAIANqQTg2AgQgAiAFQTcgBWtBD3FqQT9rIgMgAyACQRBqSRsiA0EjNgIEQajQAEH00wAoAgA2AgBBmNAAIAE2AgBBpNAAIAc2AgAgA0EQakHU0wApAgA3AgAgA0HM0wApAgA3AghB1NMAIANBCGo2AgBB0NMAIAY2AgBBzNMAIAA2AgBB2NMAQQA2AgAgA0EkaiEBA0AgAUEHNgIAIAUgAUEEaiIBSw0ACyACIANGDQAgAyADKAIEQX5xNgIEIAMgAyACayIFNgIAIAIgBUEBcjYCBCAFQf8BTQRAIAVBeHFBtNAAaiEAAn9BjNAAKAIAIgFBASAFQQN2dCIDcUUEQEGM0AAgASADcjYCACAADAELIAAoAggLIgEgAjYCDCAAIAI2AgggAiAANgIMIAIgATYCCAwBC0EfIQEgBUH///8HTQRAIAVBJiAFQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAQsgAiABNgIcIAJCADcCECABQQJ0QbzSAGohAEGQ0AAoAgAiA0EBIAF0IgZxRQRAIAAgAjYCAEGQ0AAgAyAGcjYCACACIAA2AhggAiACNgIIIAIgAjYCDAwBCyAFQRkgAUEBdmtBACABQR9HG3QhASAAKAIAIQMCQANAIAMiACgCBEF4cSAFRg0BIAFBHXYhAyABQQF0IQEgACADQQRxakEQaiIGKAIAIgMNAAsgBiACNgIAIAIgADYCGCACIAI2AgwgAiACNgIIDAELIAAoAggiASACNgIMIAAgAjYCCCACQQA2AhggAiAANgIMIAIgATYCCAtBmNAAKAIAIgEgBE0NAEGk0AAoAgAiACAEaiICIAEgBGsiAUEBcjYCBEGY0AAgATYCAEGk0AAgAjYCACAAIARBA3I2AgQgAEEIaiEBDAgLQQAhAUH80wBBMDYCAAwHC0EAIQALIAdFDQACQCAGKAIcIgJBAnRBvNIAaiIDKAIAIAZGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAdBEEEUIAcoAhAgBkYbaiAANgIAIABFDQELIAAgBzYCGCAGKAIQIgIEQCAAIAI2AhAgAiAANgIYCyAGQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAIaiEBIAYgCGoiBigCBCEFCyAGIAVBfnE2AgQgASAEaiABNgIAIAQgAUEBcjYCBCABQf8BTQRAIAFBeHFBtNAAaiEAAn9BjNAAKAIAIgJBASABQQN2dCIBcUUEQEGM0AAgASACcjYCACAADAELIAAoAggLIgEgBDYCDCAAIAQ2AgggBCAANgIMIAQgATYCCAwBC0EfIQUgAUH///8HTQRAIAFBJiABQQh2ZyIAa3ZBAXEgAEEBdGtBPmohBQsgBCAFNgIcIARCADcCECAFQQJ0QbzSAGohAEGQ0AAoAgAiAkEBIAV0IgNxRQRAIAAgBDYCAEGQ0AAgAiADcjYCACAEIAA2AhggBCAENgIIIAQgBDYCDAwBCyABQRkgBUEBdmtBACAFQR9HG3QhBSAAKAIAIQACQANAIAAiAigCBEF4cSABRg0BIAVBHXYhACAFQQF0IQUgAiAAQQRxakEQaiIDKAIAIgANAAsgAyAENgIAIAQgAjYCGCAEIAQ2AgwgBCAENgIIDAELIAIoAggiACAENgIMIAIgBDYCCCAEQQA2AhggBCACNgIMIAQgADYCCAsgCUEIaiEBDAILAkAgB0UNAAJAIAMoAhwiAUECdEG80gBqIgIoAgAgA0YEQCACIAA2AgAgAA0BQZDQACAIQX4gAXdxIgg2AgAMAgsgB0EQQRQgBygCECADRhtqIAA2AgAgAEUNAQsgACAHNgIYIAMoAhAiAQRAIAAgATYCECABIAA2AhgLIANBFGooAgAiAUUNACAAQRRqIAE2AgAgASAANgIYCwJAIAVBD00EQCADIAQgBWoiAEEDcjYCBCAAIANqIgAgACgCBEEBcjYCBAwBCyADIARqIgIgBUEBcjYCBCADIARBA3I2AgQgAiAFaiAFNgIAIAVB/wFNBEAgBUF4cUG00ABqIQACf0GM0AAoAgAiAUEBIAVBA3Z0IgVxRQRAQYzQACABIAVyNgIAIAAMAQsgACgCCAsiASACNgIMIAAgAjYCCCACIAA2AgwgAiABNgIIDAELQR8hASAFQf///wdNBEAgBUEmIAVBCHZnIgBrdkEBcSAAQQF0a0E+aiEBCyACIAE2AhwgAkIANwIQIAFBAnRBvNIAaiEAQQEgAXQiBCAIcUUEQCAAIAI2AgBBkNAAIAQgCHI2AgAgAiAANgIYIAIgAjYCCCACIAI2AgwMAQsgBUEZIAFBAXZrQQAgAUEfRxt0IQEgACgCACEEAkADQCAEIgAoAgRBeHEgBUYNASABQR12IQQgAUEBdCEBIAAgBEEEcWpBEGoiBigCACIEDQALIAYgAjYCACACIAA2AhggAiACNgIMIAIgAjYCCAwBCyAAKAIIIgEgAjYCDCAAIAI2AgggAkEANgIYIAIgADYCDCACIAE2AggLIANBCGohAQwBCwJAIAlFDQACQCAAKAIcIgFBAnRBvNIAaiICKAIAIABGBEAgAiADNgIAIAMNAUGQ0AAgC0F+IAF3cTYCAAwCCyAJQRBBFCAJKAIQIABGG2ogAzYCACADRQ0BCyADIAk2AhggACgCECIBBEAgAyABNgIQIAEgAzYCGAsgAEEUaigCACIBRQ0AIANBFGogATYCACABIAM2AhgLAkAgBUEPTQRAIAAgBCAFaiIBQQNyNgIEIAAgAWoiASABKAIEQQFyNgIEDAELIAAgBGoiByAFQQFyNgIEIAAgBEEDcjYCBCAFIAdqIAU2AgAgCARAIAhBeHFBtNAAaiEBQaDQACgCACEDAn9BASAIQQN2dCICIAZxRQRAQYzQACACIAZyNgIAIAEMAQsgASgCCAsiAiADNgIMIAEgAzYCCCADIAE2AgwgAyACNgIIC0Gg0AAgBzYCAEGU0AAgBTYCAAsgAEEIaiEBCyAKQRBqJAAgAQtDACAARQRAPwBBEHQPCwJAIABB//8DcQ0AIABBAEgNACAAQRB2QAAiAEF/RgRAQfzTAEEwNgIAQX8PCyAAQRB0DwsACwvcPyIAQYAICwkBAAAAAgAAAAMAQZQICwUEAAAABQBBpAgLCQYAAAAHAAAACABB3AgLii1JbnZhbGlkIGNoYXIgaW4gdXJsIHF1ZXJ5AFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fYm9keQBDb250ZW50LUxlbmd0aCBvdmVyZmxvdwBDaHVuayBzaXplIG92ZXJmbG93AFJlc3BvbnNlIG92ZXJmbG93AEludmFsaWQgbWV0aG9kIGZvciBIVFRQL3gueCByZXF1ZXN0AEludmFsaWQgbWV0aG9kIGZvciBSVFNQL3gueCByZXF1ZXN0AEV4cGVjdGVkIFNPVVJDRSBtZXRob2QgZm9yIElDRS94LnggcmVxdWVzdABJbnZhbGlkIGNoYXIgaW4gdXJsIGZyYWdtZW50IHN0YXJ0AEV4cGVjdGVkIGRvdABTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3N0YXR1cwBJbnZhbGlkIHJlc3BvbnNlIHN0YXR1cwBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zAFVzZXIgY2FsbGJhY2sgZXJyb3IAYG9uX3Jlc2V0YCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfaGVhZGVyYCBjYWxsYmFjayBlcnJvcgBgb25fbWVzc2FnZV9iZWdpbmAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3N0YXR1c19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3ZlcnNpb25fY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl91cmxfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX21lc3NhZ2VfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXRob2RfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfZmllbGRfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fbmFtZWAgY2FsbGJhY2sgZXJyb3IAVW5leHBlY3RlZCBjaGFyIGluIHVybCBzZXJ2ZXIASW52YWxpZCBoZWFkZXIgdmFsdWUgY2hhcgBJbnZhbGlkIGhlYWRlciBmaWVsZCBjaGFyAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdmVyc2lvbgBJbnZhbGlkIG1pbm9yIHZlcnNpb24ASW52YWxpZCBtYWpvciB2ZXJzaW9uAEV4cGVjdGVkIHNwYWNlIGFmdGVyIHZlcnNpb24ARXhwZWN0ZWQgQ1JMRiBhZnRlciB2ZXJzaW9uAEludmFsaWQgSFRUUCB2ZXJzaW9uAEludmFsaWQgaGVhZGVyIHRva2VuAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdXJsAEludmFsaWQgY2hhcmFjdGVycyBpbiB1cmwAVW5leHBlY3RlZCBzdGFydCBjaGFyIGluIHVybABEb3VibGUgQCBpbiB1cmwARW1wdHkgQ29udGVudC1MZW5ndGgASW52YWxpZCBjaGFyYWN0ZXIgaW4gQ29udGVudC1MZW5ndGgARHVwbGljYXRlIENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhciBpbiB1cmwgcGF0aABDb250ZW50LUxlbmd0aCBjYW4ndCBiZSBwcmVzZW50IHdpdGggVHJhbnNmZXItRW5jb2RpbmcASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgc2l6ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2hlYWRlcl92YWx1ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHZhbHVlAE1pc3NpbmcgZXhwZWN0ZWQgTEYgYWZ0ZXIgaGVhZGVyIHZhbHVlAEludmFsaWQgYFRyYW5zZmVyLUVuY29kaW5nYCBoZWFkZXIgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZSB2YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHF1b3RlZCB2YWx1ZQBQYXVzZWQgYnkgb25faGVhZGVyc19jb21wbGV0ZQBJbnZhbGlkIEVPRiBzdGF0ZQBvbl9yZXNldCBwYXVzZQBvbl9jaHVua19oZWFkZXIgcGF1c2UAb25fbWVzc2FnZV9iZWdpbiBwYXVzZQBvbl9jaHVua19leHRlbnNpb25fdmFsdWUgcGF1c2UAb25fc3RhdHVzX2NvbXBsZXRlIHBhdXNlAG9uX3ZlcnNpb25fY29tcGxldGUgcGF1c2UAb25fdXJsX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2NvbXBsZXRlIHBhdXNlAG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXNzYWdlX2NvbXBsZXRlIHBhdXNlAG9uX21ldGhvZF9jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfZmllbGRfY29tcGxldGUgcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUgcGF1c2UAVW5leHBlY3RlZCBzcGFjZSBhZnRlciBzdGFydCBsaW5lAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBuYW1lAFBhdXNlIG9uIENPTk5FQ1QvVXBncmFkZQBQYXVzZSBvbiBQUkkvVXBncmFkZQBFeHBlY3RlZCBIVFRQLzIgQ29ubmVjdGlvbiBQcmVmYWNlAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fbWV0aG9kAEV4cGVjdGVkIHNwYWNlIGFmdGVyIG1ldGhvZABTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2hlYWRlcl9maWVsZABQYXVzZWQASW52YWxpZCB3b3JkIGVuY291bnRlcmVkAEludmFsaWQgbWV0aG9kIGVuY291bnRlcmVkAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2NoZW1hAFJlcXVlc3QgaGFzIGludmFsaWQgYFRyYW5zZmVyLUVuY29kaW5nYABTV0lUQ0hfUFJPWFkAVVNFX1BST1hZAE1LQUNUSVZJVFkAVU5QUk9DRVNTQUJMRV9FTlRJVFkAQ09QWQBNT1ZFRF9QRVJNQU5FTlRMWQBUT09fRUFSTFkATk9USUZZAEZBSUxFRF9ERVBFTkRFTkNZAEJBRF9HQVRFV0FZAFBMQVkAUFVUAENIRUNLT1VUAEdBVEVXQVlfVElNRU9VVABSRVFVRVNUX1RJTUVPVVQATkVUV09SS19DT05ORUNUX1RJTUVPVVQAQ09OTkVDVElPTl9USU1FT1VUAExPR0lOX1RJTUVPVVQATkVUV09SS19SRUFEX1RJTUVPVVQAUE9TVABNSVNESVJFQ1RFRF9SRVFVRVNUAENMSUVOVF9DTE9TRURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX0xPQURfQkFMQU5DRURfUkVRVUVTVABCQURfUkVRVUVTVABIVFRQX1JFUVVFU1RfU0VOVF9UT19IVFRQU19QT1JUAFJFUE9SVABJTV9BX1RFQVBPVABSRVNFVF9DT05URU5UAE5PX0NPTlRFTlQAUEFSVElBTF9DT05URU5UAEhQRV9JTlZBTElEX0NPTlNUQU5UAEhQRV9DQl9SRVNFVABHRVQASFBFX1NUUklDVABDT05GTElDVABURU1QT1JBUllfUkVESVJFQ1QAUEVSTUFORU5UX1JFRElSRUNUAENPTk5FQ1QATVVMVElfU1RBVFVTAEhQRV9JTlZBTElEX1NUQVRVUwBUT09fTUFOWV9SRVFVRVNUUwBFQVJMWV9ISU5UUwBVTkFWQUlMQUJMRV9GT1JfTEVHQUxfUkVBU09OUwBPUFRJT05TAFNXSVRDSElOR19QUk9UT0NPTFMAVkFSSUFOVF9BTFNPX05FR09USUFURVMATVVMVElQTEVfQ0hPSUNFUwBJTlRFUk5BTF9TRVJWRVJfRVJST1IAV0VCX1NFUlZFUl9VTktOT1dOX0VSUk9SAFJBSUxHVU5fRVJST1IASURFTlRJVFlfUFJPVklERVJfQVVUSEVOVElDQVRJT05fRVJST1IAU1NMX0NFUlRJRklDQVRFX0VSUk9SAElOVkFMSURfWF9GT1JXQVJERURfRk9SAFNFVF9QQVJBTUVURVIAR0VUX1BBUkFNRVRFUgBIUEVfVVNFUgBTRUVfT1RIRVIASFBFX0NCX0NIVU5LX0hFQURFUgBNS0NBTEVOREFSAFNFVFVQAFdFQl9TRVJWRVJfSVNfRE9XTgBURUFSRE9XTgBIUEVfQ0xPU0VEX0NPTk5FQ1RJT04ASEVVUklTVElDX0VYUElSQVRJT04ARElTQ09OTkVDVEVEX09QRVJBVElPTgBOT05fQVVUSE9SSVRBVElWRV9JTkZPUk1BVElPTgBIUEVfSU5WQUxJRF9WRVJTSU9OAEhQRV9DQl9NRVNTQUdFX0JFR0lOAFNJVEVfSVNfRlJPWkVOAEhQRV9JTlZBTElEX0hFQURFUl9UT0tFTgBJTlZBTElEX1RPS0VOAEZPUkJJRERFTgBFTkhBTkNFX1lPVVJfQ0FMTQBIUEVfSU5WQUxJRF9VUkwAQkxPQ0tFRF9CWV9QQVJFTlRBTF9DT05UUk9MAE1LQ09MAEFDTABIUEVfSU5URVJOQUwAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRV9VTk9GRklDSUFMAEhQRV9PSwBVTkxJTksAVU5MT0NLAFBSSQBSRVRSWV9XSVRIAEhQRV9JTlZBTElEX0NPTlRFTlRfTEVOR1RIAEhQRV9VTkVYUEVDVEVEX0NPTlRFTlRfTEVOR1RIAEZMVVNIAFBST1BQQVRDSABNLVNFQVJDSABVUklfVE9PX0xPTkcAUFJPQ0VTU0lORwBNSVNDRUxMQU5FT1VTX1BFUlNJU1RFTlRfV0FSTklORwBNSVNDRUxMQU5FT1VTX1dBUk5JTkcASFBFX0lOVkFMSURfVFJBTlNGRVJfRU5DT0RJTkcARXhwZWN0ZWQgQ1JMRgBIUEVfSU5WQUxJRF9DSFVOS19TSVpFAE1PVkUAQ09OVElOVUUASFBFX0NCX1NUQVRVU19DT01QTEVURQBIUEVfQ0JfSEVBREVSU19DT01QTEVURQBIUEVfQ0JfVkVSU0lPTl9DT01QTEVURQBIUEVfQ0JfVVJMX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19DT01QTEVURQBIUEVfQ0JfSEVBREVSX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fVkFMVUVfQ09NUExFVEUASFBFX0NCX0NIVU5LX0VYVEVOU0lPTl9OQU1FX0NPTVBMRVRFAEhQRV9DQl9NRVNTQUdFX0NPTVBMRVRFAEhQRV9DQl9NRVRIT0RfQ09NUExFVEUASFBFX0NCX0hFQURFUl9GSUVMRF9DT01QTEVURQBERUxFVEUASFBFX0lOVkFMSURfRU9GX1NUQVRFAElOVkFMSURfU1NMX0NFUlRJRklDQVRFAFBBVVNFAE5PX1JFU1BPTlNFAFVOU1VQUE9SVEVEX01FRElBX1RZUEUAR09ORQBOT1RfQUNDRVBUQUJMRQBTRVJWSUNFX1VOQVZBSUxBQkxFAFJBTkdFX05PVF9TQVRJU0ZJQUJMRQBPUklHSU5fSVNfVU5SRUFDSEFCTEUAUkVTUE9OU0VfSVNfU1RBTEUAUFVSR0UATUVSR0UAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRQBSRVFVRVNUX0hFQURFUl9UT09fTEFSR0UAUEFZTE9BRF9UT09fTEFSR0UASU5TVUZGSUNJRU5UX1NUT1JBR0UASFBFX1BBVVNFRF9VUEdSQURFAEhQRV9QQVVTRURfSDJfVVBHUkFERQBTT1VSQ0UAQU5OT1VOQ0UAVFJBQ0UASFBFX1VORVhQRUNURURfU1BBQ0UAREVTQ1JJQkUAVU5TVUJTQ1JJQkUAUkVDT1JEAEhQRV9JTlZBTElEX01FVEhPRABOT1RfRk9VTkQAUFJPUEZJTkQAVU5CSU5EAFJFQklORABVTkFVVEhPUklaRUQATUVUSE9EX05PVF9BTExPV0VEAEhUVFBfVkVSU0lPTl9OT1RfU1VQUE9SVEVEAEFMUkVBRFlfUkVQT1JURUQAQUNDRVBURUQATk9UX0lNUExFTUVOVEVEAExPT1BfREVURUNURUQASFBFX0NSX0VYUEVDVEVEAEhQRV9MRl9FWFBFQ1RFRABDUkVBVEVEAElNX1VTRUQASFBFX1BBVVNFRABUSU1FT1VUX09DQ1VSRUQAUEFZTUVOVF9SRVFVSVJFRABQUkVDT05ESVRJT05fUkVRVUlSRUQAUFJPWFlfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATkVUV09SS19BVVRIRU5USUNBVElPTl9SRVFVSVJFRABMRU5HVEhfUkVRVUlSRUQAU1NMX0NFUlRJRklDQVRFX1JFUVVJUkVEAFVQR1JBREVfUkVRVUlSRUQAUEFHRV9FWFBJUkVEAFBSRUNPTkRJVElPTl9GQUlMRUQARVhQRUNUQVRJT05fRkFJTEVEAFJFVkFMSURBVElPTl9GQUlMRUQAU1NMX0hBTkRTSEFLRV9GQUlMRUQATE9DS0VEAFRSQU5TRk9STUFUSU9OX0FQUExJRUQATk9UX01PRElGSUVEAE5PVF9FWFRFTkRFRABCQU5EV0lEVEhfTElNSVRfRVhDRUVERUQAU0lURV9JU19PVkVSTE9BREVEAEhFQUQARXhwZWN0ZWQgSFRUUC8AAF4TAAAmEwAAMBAAAPAXAACdEwAAFRIAADkXAADwEgAAChAAAHUSAACtEgAAghMAAE8UAAB/EAAAoBUAACMUAACJEgAAixQAAE0VAADUEQAAzxQAABAYAADJFgAA3BYAAMERAADgFwAAuxQAAHQUAAB8FQAA5RQAAAgXAAAfEAAAZRUAAKMUAAAoFQAAAhUAAJkVAAAsEAAAixkAAE8PAADUDgAAahAAAM4QAAACFwAAiQ4AAG4TAAAcEwAAZhQAAFYXAADBEwAAzRMAAGwTAABoFwAAZhcAAF8XAAAiEwAAzg8AAGkOAADYDgAAYxYAAMsTAACqDgAAKBcAACYXAADFEwAAXRYAAOgRAABnEwAAZRMAAPIWAABzEwAAHRcAAPkWAADzEQAAzw4AAM4VAAAMEgAAsxEAAKURAABhEAAAMhcAALsTAEH5NQsBAQBBkDYL4AEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB/TcLAQEAQZE4C14CAwICAgICAAACAgACAgACAgICAgICAgICAAQAAAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAEH9OQsBAQBBkToLXgIAAgICAgIAAAICAAICAAICAgICAgICAgIAAwAEAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAQfA7Cw1sb3NlZWVwLWFsaXZlAEGJPAsBAQBBoDwL4AEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBBiT4LAQEAQaA+C+cBAQEBAQEBAQEBAQEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQFjaHVua2VkAEGwwAALXwEBAAEBAQEBAAABAQABAQABAQEBAQEBAQEBAAAAAAAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAEGQwgALIWVjdGlvbmVudC1sZW5ndGhvbnJveHktY29ubmVjdGlvbgBBwMIACy1yYW5zZmVyLWVuY29kaW5ncGdyYWRlDQoNCg0KU00NCg0KVFRQL0NFL1RTUC8AQfnCAAsFAQIAAQMAQZDDAAvgAQQBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAEH5xAALBQECAAEDAEGQxQAL4AEEAQEFAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+cYACwQBAAABAEGRxwAL3wEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAEH6yAALBAEAAAIAQZDJAAtfAwQAAAQEBAQEBAQEBAQEBQQEBAQEBAQEBAQEBAAEAAYHBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQAQfrKAAsEAQAAAQBBkMsACwEBAEGqywALQQIAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAEH6zAALBAEAAAEAQZDNAAsBAQBBms0ACwYCAAAAAAIAQbHNAAs6AwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBB8M4AC5YBTk9VTkNFRUNLT1VUTkVDVEVURUNSSUJFTFVTSEVURUFEU0VBUkNIUkdFQ1RJVklUWUxFTkRBUlZFT1RJRllQVElPTlNDSFNFQVlTVEFUQ0hHRU9SRElSRUNUT1JUUkNIUEFSQU1FVEVSVVJDRUJTQ1JJQkVBUkRPV05BQ0VJTkROS0NLVUJTQ1JJQkVIVFRQL0FEVFAv","base64")});var o8e=V((eFr,i8e)=>{"use strict";d();var{Buffer:Rft}=require("node:buffer");i8e.exports=Rft.from("AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAX8AYAJ/fwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAy0sBQYAAAIAAAAAAAACAQIAAgICAAADAAAAAAMDAwMBAQEBAQEBAQEAAAIAAAAEBQFwARISBQMBAAIGCAF/AUGA1AQLB9EFIgZtZW1vcnkCAAtfaW5pdGlhbGl6ZQAIGV9faW5kaXJlY3RfZnVuY3Rpb25fdGFibGUBAAtsbGh0dHBfaW5pdAAJGGxsaHR0cF9zaG91bGRfa2VlcF9hbGl2ZQAvDGxsaHR0cF9hbGxvYwALBm1hbGxvYwAxC2xsaHR0cF9mcmVlAAwEZnJlZQAMD2xsaHR0cF9nZXRfdHlwZQANFWxsaHR0cF9nZXRfaHR0cF9tYWpvcgAOFWxsaHR0cF9nZXRfaHR0cF9taW5vcgAPEWxsaHR0cF9nZXRfbWV0aG9kABAWbGxodHRwX2dldF9zdGF0dXNfY29kZQAREmxsaHR0cF9nZXRfdXBncmFkZQASDGxsaHR0cF9yZXNldAATDmxsaHR0cF9leGVjdXRlABQUbGxodHRwX3NldHRpbmdzX2luaXQAFQ1sbGh0dHBfZmluaXNoABYMbGxodHRwX3BhdXNlABcNbGxodHRwX3Jlc3VtZQAYG2xsaHR0cF9yZXN1bWVfYWZ0ZXJfdXBncmFkZQAZEGxsaHR0cF9nZXRfZXJybm8AGhdsbGh0dHBfZ2V0X2Vycm9yX3JlYXNvbgAbF2xsaHR0cF9zZXRfZXJyb3JfcmVhc29uABwUbGxodHRwX2dldF9lcnJvcl9wb3MAHRFsbGh0dHBfZXJybm9fbmFtZQAeEmxsaHR0cF9tZXRob2RfbmFtZQAfEmxsaHR0cF9zdGF0dXNfbmFtZQAgGmxsaHR0cF9zZXRfbGVuaWVudF9oZWFkZXJzACEhbGxodHRwX3NldF9sZW5pZW50X2NodW5rZWRfbGVuZ3RoACIdbGxodHRwX3NldF9sZW5pZW50X2tlZXBfYWxpdmUAIyRsbGh0dHBfc2V0X2xlbmllbnRfdHJhbnNmZXJfZW5jb2RpbmcAJBhsbGh0dHBfbWVzc2FnZV9uZWVkc19lb2YALgkXAQBBAQsRAQIDBAUKBgcrLSwqKSglJyYK77MCLBYAQYjQACgCAARAAAtBiNAAQQE2AgALFAAgABAwIAAgAjYCOCAAIAE6ACgLFAAgACAALwEyIAAtAC4gABAvEAALHgEBf0HAABAyIgEQMCABQYAINgI4IAEgADoAKCABC48MAQd/AkAgAEUNACAAQQhrIgEgAEEEaygCACIAQXhxIgRqIQUCQCAAQQFxDQAgAEEDcUUNASABIAEoAgAiAGsiAUGc0AAoAgBJDQEgACAEaiEEAkACQEGg0AAoAgAgAUcEQCAAQf8BTQRAIABBA3YhAyABKAIIIgAgASgCDCICRgRAQYzQAEGM0AAoAgBBfiADd3E2AgAMBQsgAiAANgIIIAAgAjYCDAwECyABKAIYIQYgASABKAIMIgBHBEAgACABKAIIIgI2AgggAiAANgIMDAMLIAFBFGoiAygCACICRQRAIAEoAhAiAkUNAiABQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFKAIEIgBBA3FBA0cNAiAFIABBfnE2AgRBlNAAIAQ2AgAgBSAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCABKAIcIgJBAnRBvNIAaiIDKAIAIAFGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgAUYbaiAANgIAIABFDQELIAAgBjYCGCABKAIQIgIEQCAAIAI2AhAgAiAANgIYCyABQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAFTw0AIAUoAgQiAEEBcUUNAAJAAkACQAJAIABBAnFFBEBBpNAAKAIAIAVGBEBBpNAAIAE2AgBBmNAAQZjQACgCACAEaiIANgIAIAEgAEEBcjYCBCABQaDQACgCAEcNBkGU0ABBADYCAEGg0ABBADYCAAwGC0Gg0AAoAgAgBUYEQEGg0AAgATYCAEGU0ABBlNAAKAIAIARqIgA2AgAgASAAQQFyNgIEIAAgAWogADYCAAwGCyAAQXhxIARqIQQgAEH/AU0EQCAAQQN2IQMgBSgCCCIAIAUoAgwiAkYEQEGM0ABBjNAAKAIAQX4gA3dxNgIADAULIAIgADYCCCAAIAI2AgwMBAsgBSgCGCEGIAUgBSgCDCIARwRAQZzQACgCABogACAFKAIIIgI2AgggAiAANgIMDAMLIAVBFGoiAygCACICRQRAIAUoAhAiAkUNAiAFQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFIABBfnE2AgQgASAEaiAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCAFKAIcIgJBAnRBvNIAaiIDKAIAIAVGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgBUYbaiAANgIAIABFDQELIAAgBjYCGCAFKAIQIgIEQCAAIAI2AhAgAiAANgIYCyAFQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAEaiAENgIAIAEgBEEBcjYCBCABQaDQACgCAEcNAEGU0AAgBDYCAAwBCyAEQf8BTQRAIARBeHFBtNAAaiEAAn9BjNAAKAIAIgJBASAEQQN2dCIDcUUEQEGM0AAgAiADcjYCACAADAELIAAoAggLIgIgATYCDCAAIAE2AgggASAANgIMIAEgAjYCCAwBC0EfIQIgBEH///8HTQRAIARBJiAEQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAgsgASACNgIcIAFCADcCECACQQJ0QbzSAGohAAJAQZDQACgCACIDQQEgAnQiB3FFBEAgACABNgIAQZDQACADIAdyNgIAIAEgADYCGCABIAE2AgggASABNgIMDAELIARBGSACQQF2a0EAIAJBH0cbdCECIAAoAgAhAAJAA0AgACIDKAIEQXhxIARGDQEgAkEddiEAIAJBAXQhAiADIABBBHFqQRBqIgcoAgAiAA0ACyAHIAE2AgAgASADNgIYIAEgATYCDCABIAE2AggMAQsgAygCCCIAIAE2AgwgAyABNgIIIAFBADYCGCABIAM2AgwgASAANgIIC0Gs0ABBrNAAKAIAQQFrIgBBfyAAGzYCAAsLBwAgAC0AKAsHACAALQAqCwcAIAAtACsLBwAgAC0AKQsHACAALwEyCwcAIAAtAC4LQAEEfyAAKAIYIQEgAC0ALSECIAAtACghAyAAKAI4IQQgABAwIAAgBDYCOCAAIAM6ACggACACOgAtIAAgATYCGAu74gECB38DfiABIAJqIQQCQCAAIgIoAgwiAA0AIAIoAgQEQCACIAE2AgQLIwBBEGsiCCQAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAIoAhwiA0EBaw7dAdoBAdkBAgMEBQYHCAkKCwwNDtgBDxDXARES1gETFBUWFxgZGhvgAd8BHB0e1QEfICEiIyQl1AEmJygpKiss0wHSAS0u0QHQAS8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRtsBR0hJSs8BzgFLzQFMzAFNTk9QUVJTVFVWV1hZWltcXV5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6e3x9fn+AAYEBggGDAYQBhQGGAYcBiAGJAYoBiwGMAY0BjgGPAZABkQGSAZMBlAGVAZYBlwGYAZkBmgGbAZwBnQGeAZ8BoAGhAaIBowGkAaUBpgGnAagBqQGqAasBrAGtAa4BrwGwAbEBsgGzAbQBtQG2AbcBywHKAbgByQG5AcgBugG7AbwBvQG+Ab8BwAHBAcIBwwHEAcUBxgEA3AELQQAMxgELQQ4MxQELQQ0MxAELQQ8MwwELQRAMwgELQRMMwQELQRQMwAELQRUMvwELQRYMvgELQRgMvQELQRkMvAELQRoMuwELQRsMugELQRwMuQELQR0MuAELQQgMtwELQR4MtgELQSAMtQELQR8MtAELQQcMswELQSEMsgELQSIMsQELQSMMsAELQSQMrwELQRIMrgELQREMrQELQSUMrAELQSYMqwELQScMqgELQSgMqQELQcMBDKgBC0EqDKcBC0ErDKYBC0EsDKUBC0EtDKQBC0EuDKMBC0EvDKIBC0HEAQyhAQtBMAygAQtBNAyfAQtBDAyeAQtBMQydAQtBMgycAQtBMwybAQtBOQyaAQtBNQyZAQtBxQEMmAELQQsMlwELQToMlgELQTYMlQELQQoMlAELQTcMkwELQTgMkgELQTwMkQELQTsMkAELQT0MjwELQQkMjgELQSkMjQELQT4MjAELQT8MiwELQcAADIoBC0HBAAyJAQtBwgAMiAELQcMADIcBC0HEAAyGAQtBxQAMhQELQcYADIQBC0EXDIMBC0HHAAyCAQtByAAMgQELQckADIABC0HKAAx/C0HLAAx+C0HNAAx9C0HMAAx8C0HOAAx7C0HPAAx6C0HQAAx5C0HRAAx4C0HSAAx3C0HTAAx2C0HUAAx1C0HWAAx0C0HVAAxzC0EGDHILQdcADHELQQUMcAtB2AAMbwtBBAxuC0HZAAxtC0HaAAxsC0HbAAxrC0HcAAxqC0EDDGkLQd0ADGgLQd4ADGcLQd8ADGYLQeEADGULQeAADGQLQeIADGMLQeMADGILQQIMYQtB5AAMYAtB5QAMXwtB5gAMXgtB5wAMXQtB6AAMXAtB6QAMWwtB6gAMWgtB6wAMWQtB7AAMWAtB7QAMVwtB7gAMVgtB7wAMVQtB8AAMVAtB8QAMUwtB8gAMUgtB8wAMUQtB9AAMUAtB9QAMTwtB9gAMTgtB9wAMTQtB+AAMTAtB+QAMSwtB+gAMSgtB+wAMSQtB/AAMSAtB/QAMRwtB/gAMRgtB/wAMRQtBgAEMRAtBgQEMQwtBggEMQgtBgwEMQQtBhAEMQAtBhQEMPwtBhgEMPgtBhwEMPQtBiAEMPAtBiQEMOwtBigEMOgtBiwEMOQtBjAEMOAtBjQEMNwtBjgEMNgtBjwEMNQtBkAEMNAtBkQEMMwtBkgEMMgtBkwEMMQtBlAEMMAtBlQEMLwtBlgEMLgtBlwEMLQtBmAEMLAtBmQEMKwtBmgEMKgtBmwEMKQtBnAEMKAtBnQEMJwtBngEMJgtBnwEMJQtBoAEMJAtBoQEMIwtBogEMIgtBowEMIQtBpAEMIAtBpQEMHwtBpgEMHgtBpwEMHQtBqAEMHAtBqQEMGwtBqgEMGgtBqwEMGQtBrAEMGAtBrQEMFwtBrgEMFgtBAQwVC0GvAQwUC0GwAQwTC0GxAQwSC0GzAQwRC0GyAQwQC0G0AQwPC0G1AQwOC0G2AQwNC0G3AQwMC0G4AQwLC0G5AQwKC0G6AQwJC0G7AQwIC0HGAQwHC0G8AQwGC0G9AQwFC0G+AQwEC0G/AQwDC0HAAQwCC0HCAQwBC0HBAQshAwNAAkACQAJAAkACQAJAAkACQAJAIAICfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAgJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAn8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCADDsYBAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHyAhIyUmKCorLC8wMTIzNDU2Nzk6Ozw9lANAQkRFRklLTk9QUVJTVFVWWFpbXF1eX2BhYmNkZWZnaGpsb3Bxc3V2eHl6e3x/gAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEBkgGTAZQBlQGWAZcBmAGZAZoBmwGcAZ0BngGfAaABoQGiAaMBpAGlAaYBpwGoAakBqgGrAawBrQGuAa8BsAGxAbIBswG0AbUBtgG3AbgBuQG6AbsBvAG9Ab4BvwHAAcEBwgHDAcQBxQHGAccByAHJAcsBzAHNAc4BzwGKA4kDiAOHA4QDgwOAA/sC+gL5AvgC9wL0AvMC8gLLAsECsALZAQsgASAERw3wAkHdASEDDLMDCyABIARHDcgBQcMBIQMMsgMLIAEgBEcNe0H3ACEDDLEDCyABIARHDXBB7wAhAwywAwsgASAERw1pQeoAIQMMrwMLIAEgBEcNZUHoACEDDK4DCyABIARHDWJB5gAhAwytAwsgASAERw0aQRghAwysAwsgASAERw0VQRIhAwyrAwsgASAERw1CQcUAIQMMqgMLIAEgBEcNNEE/IQMMqQMLIAEgBEcNMkE8IQMMqAMLIAEgBEcNK0ExIQMMpwMLIAItAC5BAUYNnwMMwQILQQAhAAJAAkACQCACLQAqRQ0AIAItACtFDQAgAi8BMCIDQQJxRQ0BDAILIAIvATAiA0EBcUUNAQtBASEAIAItAChBAUYNACACLwEyIgVB5ABrQeQASQ0AIAVBzAFGDQAgBUGwAkYNACADQcAAcQ0AQQAhACADQYgEcUGABEYNACADQShxQQBHIQALIAJBADsBMCACQQA6AC8gAEUN3wIgAkIANwMgDOACC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAARQ3MASAAQRVHDd0CIAJBBDYCHCACIAE2AhQgAkGwGDYCECACQRU2AgxBACEDDKQDCyABIARGBEBBBiEDDKQDCyABQQFqIQFBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAA3ZAgwcCyACQgA3AyBBEiEDDIkDCyABIARHDRZBHSEDDKEDCyABIARHBEAgAUEBaiEBQRAhAwyIAwtBByEDDKADCyACIAIpAyAiCiAEIAFrrSILfSIMQgAgCiAMWhs3AyAgCiALWA3UAkEIIQMMnwMLIAEgBEcEQCACQQk2AgggAiABNgIEQRQhAwyGAwtBCSEDDJ4DCyACKQMgQgBSDccBIAIgAi8BMEGAAXI7ATAMQgsgASAERw0/QdAAIQMMnAMLIAEgBEYEQEELIQMMnAMLIAFBAWohAUEAIQACQCACKAI4IgNFDQAgAygCUCIDRQ0AIAIgAxEAACEACyAADc8CDMYBC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ3GASAAQRVHDc0CIAJBCzYCHCACIAE2AhQgAkGCGTYCECACQRU2AgxBACEDDJoDC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ0MIABBFUcNygIgAkEaNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMmQMLQQAhAAJAIAIoAjgiA0UNACADKAJMIgNFDQAgAiADEQAAIQALIABFDcQBIABBFUcNxwIgAkELNgIcIAIgATYCFCACQZEXNgIQIAJBFTYCDEEAIQMMmAMLIAEgBEYEQEEPIQMMmAMLIAEtAAAiAEE7Rg0HIABBDUcNxAIgAUEBaiEBDMMBC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3DASAAQRVHDcICIAJBDzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJYDCwNAIAEtAABB8DVqLQAAIgBBAUcEQCAAQQJHDcECIAIoAgQhAEEAIQMgAkEANgIEIAIgACABQQFqIgEQLSIADcICDMUBCyAEIAFBAWoiAUcNAAtBEiEDDJUDC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3FASAAQRVHDb0CIAJBGzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJQDCyABIARGBEBBFiEDDJQDCyACQQo2AgggAiABNgIEQQAhAAJAIAIoAjgiA0UNACADKAJIIgNFDQAgAiADEQAAIQALIABFDcIBIABBFUcNuQIgAkEVNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMkwMLIAEgBEcEQANAIAEtAABB8DdqLQAAIgBBAkcEQAJAIABBAWsOBMQCvQIAvgK9AgsgAUEBaiEBQQghAwz8AgsgBCABQQFqIgFHDQALQRUhAwyTAwtBFSEDDJIDCwNAIAEtAABB8DlqLQAAIgBBAkcEQCAAQQFrDgTFArcCwwK4ArcCCyAEIAFBAWoiAUcNAAtBGCEDDJEDCyABIARHBEAgAkELNgIIIAIgATYCBEEHIQMM+AILQRkhAwyQAwsgAUEBaiEBDAILIAEgBEYEQEEaIQMMjwMLAkAgAS0AAEENaw4UtQG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwEAvwELQQAhAyACQQA2AhwgAkGvCzYCECACQQI2AgwgAiABQQFqNgIUDI4DCyABIARGBEBBGyEDDI4DCyABLQAAIgBBO0cEQCAAQQ1HDbECIAFBAWohAQy6AQsgAUEBaiEBC0EiIQMM8wILIAEgBEYEQEEcIQMMjAMLQgAhCgJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAS0AAEEwaw43wQLAAgABAgMEBQYH0AHQAdAB0AHQAdAB0AEICQoLDA3QAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdABDg8QERIT0AELQgIhCgzAAgtCAyEKDL8CC0IEIQoMvgILQgUhCgy9AgtCBiEKDLwCC0IHIQoMuwILQgghCgy6AgtCCSEKDLkCC0IKIQoMuAILQgshCgy3AgtCDCEKDLYCC0INIQoMtQILQg4hCgy0AgtCDyEKDLMCC0IKIQoMsgILQgshCgyxAgtCDCEKDLACC0INIQoMrwILQg4hCgyuAgtCDyEKDK0CC0IAIQoCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAEtAABBMGsON8ACvwIAAQIDBAUGB74CvgK+Ar4CvgK+Ar4CCAkKCwwNvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ag4PEBESE74CC0ICIQoMvwILQgMhCgy+AgtCBCEKDL0CC0IFIQoMvAILQgYhCgy7AgtCByEKDLoCC0IIIQoMuQILQgkhCgy4AgtCCiEKDLcCC0ILIQoMtgILQgwhCgy1AgtCDSEKDLQCC0IOIQoMswILQg8hCgyyAgtCCiEKDLECC0ILIQoMsAILQgwhCgyvAgtCDSEKDK4CC0IOIQoMrQILQg8hCgysAgsgAiACKQMgIgogBCABa60iC30iDEIAIAogDFobNwMgIAogC1gNpwJBHyEDDIkDCyABIARHBEAgAkEJNgIIIAIgATYCBEElIQMM8AILQSAhAwyIAwtBASEFIAIvATAiA0EIcUUEQCACKQMgQgBSIQULAkAgAi0ALgRAQQEhACACLQApQQVGDQEgA0HAAHFFIAVxRQ0BC0EAIQAgA0HAAHENAEECIQAgA0EIcQ0AIANBgARxBEACQCACLQAoQQFHDQAgAi0ALUEKcQ0AQQUhAAwCC0EEIQAMAQsgA0EgcUUEQAJAIAItAChBAUYNACACLwEyIgBB5ABrQeQASQ0AIABBzAFGDQAgAEGwAkYNAEEEIQAgA0EocUUNAiADQYgEcUGABEYNAgtBACEADAELQQBBAyACKQMgUBshAAsgAEEBaw4FvgIAsAEBpAKhAgtBESEDDO0CCyACQQE6AC8MhAMLIAEgBEcNnQJBJCEDDIQDCyABIARHDRxBxgAhAwyDAwtBACEAAkAgAigCOCIDRQ0AIAMoAkQiA0UNACACIAMRAAAhAAsgAEUNJyAAQRVHDZgCIAJB0AA2AhwgAiABNgIUIAJBkRg2AhAgAkEVNgIMQQAhAwyCAwsgASAERgRAQSghAwyCAwtBACEDIAJBADYCBCACQQw2AgggAiABIAEQKiIARQ2UAiACQSc2AhwgAiABNgIUIAIgADYCDAyBAwsgASAERgRAQSkhAwyBAwsgAS0AACIAQSBGDRMgAEEJRw2VAiABQQFqIQEMFAsgASAERwRAIAFBAWohAQwWC0EqIQMM/wILIAEgBEYEQEErIQMM/wILIAEtAAAiAEEJRyAAQSBHcQ2QAiACLQAsQQhHDd0CIAJBADoALAzdAgsgASAERgRAQSwhAwz+AgsgAS0AAEEKRw2OAiABQQFqIQEMsAELIAEgBEcNigJBLyEDDPwCCwNAIAEtAAAiAEEgRwRAIABBCmsOBIQCiAKIAoQChgILIAQgAUEBaiIBRw0AC0ExIQMM+wILQTIhAyABIARGDfoCIAIoAgAiACAEIAFraiEHIAEgAGtBA2ohBgJAA0AgAEHwO2otAAAgAS0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQEgAEEDRgRAQQYhAQziAgsgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAc2AgAM+wILIAJBADYCAAyGAgtBMyEDIAQgASIARg35AiAEIAFrIAIoAgAiAWohByAAIAFrQQhqIQYCQANAIAFB9DtqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBCEYEQEEFIQEM4QILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPoCCyACQQA2AgAgACEBDIUCC0E0IQMgBCABIgBGDfgCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgJAA0AgAUHQwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBBUYEQEEHIQEM4AILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPkCCyACQQA2AgAgACEBDIQCCyABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRg0JDIECCyAEIAFBAWoiAUcNAAtBMCEDDPgCC0EwIQMM9wILIAEgBEcEQANAIAEtAAAiAEEgRwRAIABBCmsOBP8B/gH+Af8B/gELIAQgAUEBaiIBRw0AC0E4IQMM9wILQTghAwz2AgsDQCABLQAAIgBBIEcgAEEJR3EN9gEgBCABQQFqIgFHDQALQTwhAwz1AgsDQCABLQAAIgBBIEcEQAJAIABBCmsOBPkBBAT5AQALIABBLEYN9QEMAwsgBCABQQFqIgFHDQALQT8hAwz0AgtBwAAhAyABIARGDfMCIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAEGAQGstAAAgAS0AAEEgckcNASAAQQZGDdsCIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPQCCyACQQA2AgALQTYhAwzZAgsgASAERgRAQcEAIQMM8gILIAJBDDYCCCACIAE2AgQgAi0ALEEBaw4E+wHuAewB6wHUAgsgAUEBaiEBDPoBCyABIARHBEADQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxIgBBCUYNACAAQSBGDQACQAJAAkACQCAAQeMAaw4TAAMDAwMDAwMBAwMDAwMDAwMDAgMLIAFBAWohAUExIQMM3AILIAFBAWohAUEyIQMM2wILIAFBAWohAUEzIQMM2gILDP4BCyAEIAFBAWoiAUcNAAtBNSEDDPACC0E1IQMM7wILIAEgBEcEQANAIAEtAABBgDxqLQAAQQFHDfcBIAQgAUEBaiIBRw0AC0E9IQMM7wILQT0hAwzuAgtBACEAAkAgAigCOCIDRQ0AIAMoAkAiA0UNACACIAMRAAAhAAsgAEUNASAAQRVHDeYBIAJBwgA2AhwgAiABNgIUIAJB4xg2AhAgAkEVNgIMQQAhAwztAgsgAUEBaiEBC0E8IQMM0gILIAEgBEYEQEHCACEDDOsCCwJAA0ACQCABLQAAQQlrDhgAAswCzALRAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAgDMAgsgBCABQQFqIgFHDQALQcIAIQMM6wILIAFBAWohASACLQAtQQFxRQ3+AQtBLCEDDNACCyABIARHDd4BQcQAIQMM6AILA0AgAS0AAEGQwABqLQAAQQFHDZwBIAQgAUEBaiIBRw0AC0HFACEDDOcCCyABLQAAIgBBIEYN/gEgAEE6Rw3AAiACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgAN3gEM3QELQccAIQMgBCABIgBGDeUCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFBkMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvwIgAUEFRg3CAiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzlAgtByAAhAyAEIAEiAEYN5AIgBCABayACKAIAIgFqIQcgACABa0EJaiEGA0AgAUGWwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw2+AkECIAFBCUYNwgIaIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOQCCyABIARGBEBByQAhAwzkAgsCQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxQe4Aaw4HAL8CvwK/Ar8CvwIBvwILIAFBAWohAUE+IQMMywILIAFBAWohAUE/IQMMygILQcoAIQMgBCABIgBGDeICIAQgAWsgAigCACIBaiEGIAAgAWtBAWohBwNAIAFBoMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvAIgAUEBRg2+AiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBjYCAAziAgtBywAhAyAEIAEiAEYN4QIgBCABayACKAIAIgFqIQcgACABa0EOaiEGA0AgAUGiwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw27AiABQQ5GDb4CIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOECC0HMACEDIAQgASIARg3gAiAEIAFrIAIoAgAiAWohByAAIAFrQQ9qIQYDQCABQcDCAGotAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDboCQQMgAUEPRg2+AhogAUEBaiEBIAQgAEEBaiIARw0ACyACIAc2AgAM4AILQc0AIQMgBCABIgBGDd8CIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFB0MIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNuQJBBCABQQVGDb0CGiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzfAgsgASAERgRAQc4AIQMM3wILAkACQAJAAkAgAS0AACIAQSByIAAgAEHBAGtB/wFxQRpJG0H/AXFB4wBrDhMAvAK8ArwCvAK8ArwCvAK8ArwCvAK8ArwCAbwCvAK8AgIDvAILIAFBAWohAUHBACEDDMgCCyABQQFqIQFBwgAhAwzHAgsgAUEBaiEBQcMAIQMMxgILIAFBAWohAUHEACEDDMUCCyABIARHBEAgAkENNgIIIAIgATYCBEHFACEDDMUCC0HPACEDDN0CCwJAAkAgAS0AAEEKaw4EAZABkAEAkAELIAFBAWohAQtBKCEDDMMCCyABIARGBEBB0QAhAwzcAgsgAS0AAEEgRw0AIAFBAWohASACLQAtQQFxRQ3QAQtBFyEDDMECCyABIARHDcsBQdIAIQMM2QILQdMAIQMgASAERg3YAiACKAIAIgAgBCABa2ohBiABIABrQQFqIQUDQCABLQAAIABB1sIAai0AAEcNxwEgAEEBRg3KASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBjYCAAzYAgsgASAERgRAQdUAIQMM2AILIAEtAABBCkcNwgEgAUEBaiEBDMoBCyABIARGBEBB1gAhAwzXAgsCQAJAIAEtAABBCmsOBADDAcMBAcMBCyABQQFqIQEMygELIAFBAWohAUHKACEDDL0CC0EAIQACQCACKAI4IgNFDQAgAygCPCIDRQ0AIAIgAxEAACEACyAADb8BQc0AIQMMvAILIAItAClBIkYNzwIMiQELIAQgASIFRgRAQdsAIQMM1AILQQAhAEEBIQFBASEGQQAhAwJAAn8CQAJAAkACQAJAAkACQCAFLQAAQTBrDgrFAcQBAAECAwQFBgjDAQtBAgwGC0EDDAULQQQMBAtBBQwDC0EGDAILQQcMAQtBCAshA0EAIQFBACEGDL0BC0EJIQNBASEAQQAhAUEAIQYMvAELIAEgBEYEQEHdACEDDNMCCyABLQAAQS5HDbgBIAFBAWohAQyIAQsgASAERw22AUHfACEDDNECCyABIARHBEAgAkEONgIIIAIgATYCBEHQACEDDLgCC0HgACEDDNACC0HhACEDIAEgBEYNzwIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGA0AgAS0AACAAQeLCAGotAABHDbEBIABBA0YNswEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMzwILQeIAIQMgASAERg3OAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYDQCABLQAAIABB5sIAai0AAEcNsAEgAEECRg2vASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAzOAgtB4wAhAyABIARGDc0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgNAIAEtAAAgAEHpwgBqLQAARw2vASAAQQNGDa0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADM0CCyABIARGBEBB5QAhAwzNAgsgAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANqgFB1gAhAwyzAgsgASAERwRAA0AgAS0AACIAQSBHBEACQAJAAkAgAEHIAGsOCwABswGzAbMBswGzAbMBswGzAQKzAQsgAUEBaiEBQdIAIQMMtwILIAFBAWohAUHTACEDDLYCCyABQQFqIQFB1AAhAwy1AgsgBCABQQFqIgFHDQALQeQAIQMMzAILQeQAIQMMywILA0AgAS0AAEHwwgBqLQAAIgBBAUcEQCAAQQJrDgOnAaYBpQGkAQsgBCABQQFqIgFHDQALQeYAIQMMygILIAFBAWogASAERw0CGkHnACEDDMkCCwNAIAEtAABB8MQAai0AACIAQQFHBEACQCAAQQJrDgSiAaEBoAEAnwELQdcAIQMMsQILIAQgAUEBaiIBRw0AC0HoACEDDMgCCyABIARGBEBB6QAhAwzIAgsCQCABLQAAIgBBCmsOGrcBmwGbAbQBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBpAGbAZsBAJkBCyABQQFqCyEBQQYhAwytAgsDQCABLQAAQfDGAGotAABBAUcNfSAEIAFBAWoiAUcNAAtB6gAhAwzFAgsgAUEBaiABIARHDQIaQesAIQMMxAILIAEgBEYEQEHsACEDDMQCCyABQQFqDAELIAEgBEYEQEHtACEDDMMCCyABQQFqCyEBQQQhAwyoAgsgASAERgRAQe4AIQMMwQILAkACQAJAIAEtAABB8MgAai0AAEEBaw4HkAGPAY4BAHwBAo0BCyABQQFqIQEMCwsgAUEBagyTAQtBACEDIAJBADYCHCACQZsSNgIQIAJBBzYCDCACIAFBAWo2AhQMwAILAkADQCABLQAAQfDIAGotAAAiAEEERwRAAkACQCAAQQFrDgeUAZMBkgGNAQAEAY0BC0HaACEDDKoCCyABQQFqIQFB3AAhAwypAgsgBCABQQFqIgFHDQALQe8AIQMMwAILIAFBAWoMkQELIAQgASIARgRAQfAAIQMMvwILIAAtAABBL0cNASAAQQFqIQEMBwsgBCABIgBGBEBB8QAhAwy+AgsgAC0AACIBQS9GBEAgAEEBaiEBQd0AIQMMpQILIAFBCmsiA0EWSw0AIAAhAUEBIAN0QYmAgAJxDfkBC0EAIQMgAkEANgIcIAIgADYCFCACQYwcNgIQIAJBBzYCDAy8AgsgASAERwRAIAFBAWohAUHeACEDDKMCC0HyACEDDLsCCyABIARGBEBB9AAhAwy7AgsCQCABLQAAQfDMAGotAABBAWsOA/cBcwCCAQtB4QAhAwyhAgsgASAERwRAA0AgAS0AAEHwygBqLQAAIgBBA0cEQAJAIABBAWsOAvkBAIUBC0HfACEDDKMCCyAEIAFBAWoiAUcNAAtB8wAhAwy6AgtB8wAhAwy5AgsgASAERwRAIAJBDzYCCCACIAE2AgRB4AAhAwygAgtB9QAhAwy4AgsgASAERgRAQfYAIQMMuAILIAJBDzYCCCACIAE2AgQLQQMhAwydAgsDQCABLQAAQSBHDY4CIAQgAUEBaiIBRw0AC0H3ACEDDLUCCyABIARGBEBB+AAhAwy1AgsgAS0AAEEgRw16IAFBAWohAQxbC0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAADXgMgAILIAEgBEYEQEH6ACEDDLMCCyABLQAAQcwARw10IAFBAWohAUETDHYLQfsAIQMgASAERg2xAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYDQCABLQAAIABB8M4Aai0AAEcNcyAAQQVGDXUgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMsQILIAEgBEYEQEH8ACEDDLECCwJAAkAgAS0AAEHDAGsODAB0dHR0dHR0dHR0AXQLIAFBAWohAUHmACEDDJgCCyABQQFqIQFB5wAhAwyXAgtB/QAhAyABIARGDa8CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDXIgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADLACCyACQQA2AgAgBkEBaiEBQRAMcwtB/gAhAyABIARGDa4CIAIoAgAiACAEIAFraiEFIAEgAGtBBWohBgJAA0AgAS0AACAAQfbOAGotAABHDXEgAEEFRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK8CCyACQQA2AgAgBkEBaiEBQRYMcgtB/wAhAyABIARGDa0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQfzOAGotAABHDXAgAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK4CCyACQQA2AgAgBkEBaiEBQQUMcQsgASAERgRAQYABIQMMrQILIAEtAABB2QBHDW4gAUEBaiEBQQgMcAsgASAERgRAQYEBIQMMrAILAkACQCABLQAAQc4Aaw4DAG8BbwsgAUEBaiEBQesAIQMMkwILIAFBAWohAUHsACEDDJICCyABIARGBEBBggEhAwyrAgsCQAJAIAEtAABByABrDggAbm5ubm5uAW4LIAFBAWohAUHqACEDDJICCyABQQFqIQFB7QAhAwyRAgtBgwEhAyABIARGDakCIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQYDPAGotAABHDWwgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKoCCyACQQA2AgAgBkEBaiEBQQAMbQtBhAEhAyABIARGDagCIAIoAgAiACAEIAFraiEFIAEgAGtBBGohBgJAA0AgAS0AACAAQYPPAGotAABHDWsgAEEERg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKkCCyACQQA2AgAgBkEBaiEBQSMMbAsgASAERgRAQYUBIQMMqAILAkACQCABLQAAQcwAaw4IAGtra2trawFrCyABQQFqIQFB7wAhAwyPAgsgAUEBaiEBQfAAIQMMjgILIAEgBEYEQEGGASEDDKcCCyABLQAAQcUARw1oIAFBAWohAQxgC0GHASEDIAEgBEYNpQIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABBiM8Aai0AAEcNaCAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpgILIAJBADYCACAGQQFqIQFBLQxpC0GIASEDIAEgBEYNpAIgAigCACIAIAQgAWtqIQUgASAAa0EIaiEGAkADQCABLQAAIABB0M8Aai0AAEcNZyAAQQhGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpQILIAJBADYCACAGQQFqIQFBKQxoCyABIARGBEBBiQEhAwykAgtBASABLQAAQd8ARw1nGiABQQFqIQEMXgtBigEhAyABIARGDaICIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgNAIAEtAAAgAEGMzwBqLQAARw1kIABBAUYN+gEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMogILQYsBIQMgASAERg2hAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGOzwBqLQAARw1kIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyiAgsgAkEANgIAIAZBAWohAUECDGULQYwBIQMgASAERg2gAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHwzwBqLQAARw1jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyhAgsgAkEANgIAIAZBAWohAUEfDGQLQY0BIQMgASAERg2fAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHyzwBqLQAARw1iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAygAgsgAkEANgIAIAZBAWohAUEJDGMLIAEgBEYEQEGOASEDDJ8CCwJAAkAgAS0AAEHJAGsOBwBiYmJiYgFiCyABQQFqIQFB+AAhAwyGAgsgAUEBaiEBQfkAIQMMhQILQY8BIQMgASAERg2dAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGRzwBqLQAARw1gIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyeAgsgAkEANgIAIAZBAWohAUEYDGELQZABIQMgASAERg2cAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGXzwBqLQAARw1fIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAydAgsgAkEANgIAIAZBAWohAUEXDGALQZEBIQMgASAERg2bAiACKAIAIgAgBCABa2ohBSABIABrQQZqIQYCQANAIAEtAAAgAEGazwBqLQAARw1eIABBBkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAycAgsgAkEANgIAIAZBAWohAUEVDF8LQZIBIQMgASAERg2aAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGhzwBqLQAARw1dIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAybAgsgAkEANgIAIAZBAWohAUEeDF4LIAEgBEYEQEGTASEDDJoCCyABLQAAQcwARw1bIAFBAWohAUEKDF0LIAEgBEYEQEGUASEDDJkCCwJAAkAgAS0AAEHBAGsODwBcXFxcXFxcXFxcXFxcAVwLIAFBAWohAUH+ACEDDIACCyABQQFqIQFB/wAhAwz/AQsgASAERgRAQZUBIQMMmAILAkACQCABLQAAQcEAaw4DAFsBWwsgAUEBaiEBQf0AIQMM/wELIAFBAWohAUGAASEDDP4BC0GWASEDIAEgBEYNlgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBp88Aai0AAEcNWSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlwILIAJBADYCACAGQQFqIQFBCwxaCyABIARGBEBBlwEhAwyWAgsCQAJAAkACQCABLQAAQS1rDiMAW1tbW1tbW1tbW1tbW1tbW1tbW1tbW1sBW1tbW1sCW1tbA1sLIAFBAWohAUH7ACEDDP8BCyABQQFqIQFB/AAhAwz+AQsgAUEBaiEBQYEBIQMM/QELIAFBAWohAUGCASEDDPwBC0GYASEDIAEgBEYNlAIgAigCACIAIAQgAWtqIQUgASAAa0EEaiEGAkADQCABLQAAIABBqc8Aai0AAEcNVyAAQQRGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlQILIAJBADYCACAGQQFqIQFBGQxYC0GZASEDIAEgBEYNkwIgAigCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABBrs8Aai0AAEcNViAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlAILIAJBADYCACAGQQFqIQFBBgxXC0GaASEDIAEgBEYNkgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBtM8Aai0AAEcNVSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkwILIAJBADYCACAGQQFqIQFBHAxWC0GbASEDIAEgBEYNkQIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBts8Aai0AAEcNVCAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkgILIAJBADYCACAGQQFqIQFBJwxVCyABIARGBEBBnAEhAwyRAgsCQAJAIAEtAABB1ABrDgIAAVQLIAFBAWohAUGGASEDDPgBCyABQQFqIQFBhwEhAwz3AQtBnQEhAyABIARGDY8CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbjPAGotAABHDVIgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADJACCyACQQA2AgAgBkEBaiEBQSYMUwtBngEhAyABIARGDY4CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbrPAGotAABHDVEgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI8CCyACQQA2AgAgBkEBaiEBQQMMUgtBnwEhAyABIARGDY0CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDVAgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI4CCyACQQA2AgAgBkEBaiEBQQwMUQtBoAEhAyABIARGDYwCIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQbzPAGotAABHDU8gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI0CCyACQQA2AgAgBkEBaiEBQQ0MUAsgASAERgRAQaEBIQMMjAILAkACQCABLQAAQcYAaw4LAE9PT09PT09PTwFPCyABQQFqIQFBiwEhAwzzAQsgAUEBaiEBQYwBIQMM8gELIAEgBEYEQEGiASEDDIsCCyABLQAAQdAARw1MIAFBAWohAQxGCyABIARGBEBBowEhAwyKAgsCQAJAIAEtAABByQBrDgcBTU1NTU0ATQsgAUEBaiEBQY4BIQMM8QELIAFBAWohAUEiDE0LQaQBIQMgASAERg2IAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHAzwBqLQAARw1LIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyJAgsgAkEANgIAIAZBAWohAUEdDEwLIAEgBEYEQEGlASEDDIgCCwJAAkAgAS0AAEHSAGsOAwBLAUsLIAFBAWohAUGQASEDDO8BCyABQQFqIQFBBAxLCyABIARGBEBBpgEhAwyHAgsCQAJAAkACQAJAIAEtAABBwQBrDhUATU1NTU1NTU1NTQFNTQJNTQNNTQRNCyABQQFqIQFBiAEhAwzxAQsgAUEBaiEBQYkBIQMM8AELIAFBAWohAUGKASEDDO8BCyABQQFqIQFBjwEhAwzuAQsgAUEBaiEBQZEBIQMM7QELQacBIQMgASAERg2FAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHtzwBqLQAARw1IIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyGAgsgAkEANgIAIAZBAWohAUERDEkLQagBIQMgASAERg2EAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHCzwBqLQAARw1HIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyFAgsgAkEANgIAIAZBAWohAUEsDEgLQakBIQMgASAERg2DAiACKAIAIgAgBCABa2ohBSABIABrQQRqIQYCQANAIAEtAAAgAEHFzwBqLQAARw1GIABBBEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyEAgsgAkEANgIAIAZBAWohAUErDEcLQaoBIQMgASAERg2CAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHKzwBqLQAARw1FIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyDAgsgAkEANgIAIAZBAWohAUEUDEYLIAEgBEYEQEGrASEDDIICCwJAAkACQAJAIAEtAABBwgBrDg8AAQJHR0dHR0dHR0dHRwNHCyABQQFqIQFBkwEhAwzrAQsgAUEBaiEBQZQBIQMM6gELIAFBAWohAUGVASEDDOkBCyABQQFqIQFBlgEhAwzoAQsgASAERgRAQawBIQMMgQILIAEtAABBxQBHDUIgAUEBaiEBDD0LQa0BIQMgASAERg3/ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHNzwBqLQAARw1CIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyAAgsgAkEANgIAIAZBAWohAUEODEMLIAEgBEYEQEGuASEDDP8BCyABLQAAQdAARw1AIAFBAWohAUElDEILQa8BIQMgASAERg39ASACKAIAIgAgBCABa2ohBSABIABrQQhqIQYCQANAIAEtAAAgAEHQzwBqLQAARw1AIABBCEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz+AQsgAkEANgIAIAZBAWohAUEqDEELIAEgBEYEQEGwASEDDP0BCwJAAkAgAS0AAEHVAGsOCwBAQEBAQEBAQEABQAsgAUEBaiEBQZoBIQMM5AELIAFBAWohAUGbASEDDOMBCyABIARGBEBBsQEhAwz8AQsCQAJAIAEtAABBwQBrDhQAPz8/Pz8/Pz8/Pz8/Pz8/Pz8/AT8LIAFBAWohAUGZASEDDOMBCyABQQFqIQFBnAEhAwziAQtBsgEhAyABIARGDfoBIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQdnPAGotAABHDT0gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPsBCyACQQA2AgAgBkEBaiEBQSEMPgtBswEhAyABIARGDfkBIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAS0AACAAQd3PAGotAABHDTwgAEEGRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPoBCyACQQA2AgAgBkEBaiEBQRoMPQsgASAERgRAQbQBIQMM+QELAkACQAJAIAEtAABBxQBrDhEAPT09PT09PT09AT09PT09Aj0LIAFBAWohAUGdASEDDOEBCyABQQFqIQFBngEhAwzgAQsgAUEBaiEBQZ8BIQMM3wELQbUBIQMgASAERg33ASACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEHkzwBqLQAARw06IABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz4AQsgAkEANgIAIAZBAWohAUEoDDsLQbYBIQMgASAERg32ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHqzwBqLQAARw05IABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz3AQsgAkEANgIAIAZBAWohAUEHDDoLIAEgBEYEQEG3ASEDDPYBCwJAAkAgAS0AAEHFAGsODgA5OTk5OTk5OTk5OTkBOQsgAUEBaiEBQaEBIQMM3QELIAFBAWohAUGiASEDDNwBC0G4ASEDIAEgBEYN9AEgAigCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB7c8Aai0AAEcNNyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9QELIAJBADYCACAGQQFqIQFBEgw4C0G5ASEDIAEgBEYN8wEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8M8Aai0AAEcNNiAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9AELIAJBADYCACAGQQFqIQFBIAw3C0G6ASEDIAEgBEYN8gEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8s8Aai0AAEcNNSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8wELIAJBADYCACAGQQFqIQFBDww2CyABIARGBEBBuwEhAwzyAQsCQAJAIAEtAABByQBrDgcANTU1NTUBNQsgAUEBaiEBQaUBIQMM2QELIAFBAWohAUGmASEDDNgBC0G8ASEDIAEgBEYN8AEgAigCACIAIAQgAWtqIQUgASAAa0EHaiEGAkADQCABLQAAIABB9M8Aai0AAEcNMyAAQQdGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8QELIAJBADYCACAGQQFqIQFBGww0CyABIARGBEBBvQEhAwzwAQsCQAJAAkAgAS0AAEHCAGsOEgA0NDQ0NDQ0NDQBNDQ0NDQ0AjQLIAFBAWohAUGkASEDDNgBCyABQQFqIQFBpwEhAwzXAQsgAUEBaiEBQagBIQMM1gELIAEgBEYEQEG+ASEDDO8BCyABLQAAQc4ARw0wIAFBAWohAQwsCyABIARGBEBBvwEhAwzuAQsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCABLQAAQcEAaw4VAAECAz8EBQY/Pz8HCAkKCz8MDQ4PPwsgAUEBaiEBQegAIQMM4wELIAFBAWohAUHpACEDDOIBCyABQQFqIQFB7gAhAwzhAQsgAUEBaiEBQfIAIQMM4AELIAFBAWohAUHzACEDDN8BCyABQQFqIQFB9gAhAwzeAQsgAUEBaiEBQfcAIQMM3QELIAFBAWohAUH6ACEDDNwBCyABQQFqIQFBgwEhAwzbAQsgAUEBaiEBQYQBIQMM2gELIAFBAWohAUGFASEDDNkBCyABQQFqIQFBkgEhAwzYAQsgAUEBaiEBQZgBIQMM1wELIAFBAWohAUGgASEDDNYBCyABQQFqIQFBowEhAwzVAQsgAUEBaiEBQaoBIQMM1AELIAEgBEcEQCACQRA2AgggAiABNgIEQasBIQMM1AELQcABIQMM7AELQQAhAAJAIAIoAjgiA0UNACADKAI0IgNFDQAgAiADEQAAIQALIABFDV4gAEEVRw0HIAJB0QA2AhwgAiABNgIUIAJBsBc2AhAgAkEVNgIMQQAhAwzrAQsgAUEBaiABIARHDQgaQcIBIQMM6gELA0ACQCABLQAAQQprDgQIAAALAAsgBCABQQFqIgFHDQALQcMBIQMM6QELIAEgBEcEQCACQRE2AgggAiABNgIEQQEhAwzQAQtBxAEhAwzoAQsgASAERgRAQcUBIQMM6AELAkACQCABLQAAQQprDgQBKCgAKAsgAUEBagwJCyABQQFqDAULIAEgBEYEQEHGASEDDOcBCwJAAkAgAS0AAEEKaw4XAQsLAQsLCwsLCwsLCwsLCwsLCwsLCwALCyABQQFqIQELQbABIQMMzQELIAEgBEYEQEHIASEDDOYBCyABLQAAQSBHDQkgAkEAOwEyIAFBAWohAUGzASEDDMwBCwNAIAEhAAJAIAEgBEcEQCABLQAAQTBrQf8BcSIDQQpJDQEMJwtBxwEhAwzmAQsCQCACLwEyIgFBmTNLDQAgAiABQQpsIgU7ATIgBUH+/wNxIANB//8Dc0sNACAAQQFqIQEgAiADIAVqIgM7ATIgA0H//wNxQegHSQ0BCwtBACEDIAJBADYCHCACQcEJNgIQIAJBDTYCDCACIABBAWo2AhQM5AELIAJBADYCHCACIAE2AhQgAkHwDDYCECACQRs2AgxBACEDDOMBCyACKAIEIQAgAkEANgIEIAIgACABECYiAA0BIAFBAWoLIQFBrQEhAwzIAQsgAkHBATYCHCACIAA2AgwgAiABQQFqNgIUQQAhAwzgAQsgAigCBCEAIAJBADYCBCACIAAgARAmIgANASABQQFqCyEBQa4BIQMMxQELIAJBwgE2AhwgAiAANgIMIAIgAUEBajYCFEEAIQMM3QELIAJBADYCHCACIAE2AhQgAkGXCzYCECACQQ02AgxBACEDDNwBCyACQQA2AhwgAiABNgIUIAJB4xA2AhAgAkEJNgIMQQAhAwzbAQsgAkECOgAoDKwBC0EAIQMgAkEANgIcIAJBrws2AhAgAkECNgIMIAIgAUEBajYCFAzZAQtBAiEDDL8BC0ENIQMMvgELQSYhAwy9AQtBFSEDDLwBC0EWIQMMuwELQRghAwy6AQtBHCEDDLkBC0EdIQMMuAELQSAhAwy3AQtBISEDDLYBC0EjIQMMtQELQcYAIQMMtAELQS4hAwyzAQtBPSEDDLIBC0HLACEDDLEBC0HOACEDDLABC0HYACEDDK8BC0HZACEDDK4BC0HbACEDDK0BC0HxACEDDKwBC0H0ACEDDKsBC0GNASEDDKoBC0GXASEDDKkBC0GpASEDDKgBC0GvASEDDKcBC0GxASEDDKYBCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB8Rs2AhAgAkEGNgIMDL0BCyACQQA2AgAgBkEBaiEBQSQLOgApIAIoAgQhACACQQA2AgQgAiAAIAEQJyIARQRAQeUAIQMMowELIAJB+QA2AhwgAiABNgIUIAIgADYCDEEAIQMMuwELIABBFUcEQCACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwy7AQsgAkH4ADYCHCACIAE2AhQgAkHKGDYCECACQRU2AgxBACEDDLoBCyACQQA2AhwgAiABNgIUIAJBjhs2AhAgAkEGNgIMQQAhAwy5AQsgAkEANgIcIAIgATYCFCACQf4RNgIQIAJBBzYCDEEAIQMMuAELIAJBADYCHCACIAE2AhQgAkGMHDYCECACQQc2AgxBACEDDLcBCyACQQA2AhwgAiABNgIUIAJBww82AhAgAkEHNgIMQQAhAwy2AQsgAkEANgIcIAIgATYCFCACQcMPNgIQIAJBBzYCDEEAIQMMtQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0RIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMtAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0gIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMswELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0iIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMsgELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0OIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMsQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0dIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMsAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0fIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMrwELIABBP0cNASABQQFqCyEBQQUhAwyUAQtBACEDIAJBADYCHCACIAE2AhQgAkH9EjYCECACQQc2AgwMrAELIAJBADYCHCACIAE2AhQgAkHcCDYCECACQQc2AgxBACEDDKsBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNByACQeUANgIcIAIgATYCFCACIAA2AgxBACEDDKoBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNFiACQdMANgIcIAIgATYCFCACIAA2AgxBACEDDKkBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNGCACQdIANgIcIAIgATYCFCACIAA2AgxBACEDDKgBCyACQQA2AhwgAiABNgIUIAJBxgo2AhAgAkEHNgIMQQAhAwynAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQMgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwymAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRIgAkHTADYCHCACIAE2AhQgAiAANgIMQQAhAwylAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRQgAkHSADYCHCACIAE2AhQgAiAANgIMQQAhAwykAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQAgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwyjAQtB1QAhAwyJAQsgAEEVRwRAIAJBADYCHCACIAE2AhQgAkG5DTYCECACQRo2AgxBACEDDKIBCyACQeQANgIcIAIgATYCFCACQeMXNgIQIAJBFTYCDEEAIQMMoQELIAJBADYCACAGQQFqIQEgAi0AKSIAQSNrQQtJDQQCQCAAQQZLDQBBASAAdEHKAHFFDQAMBQtBACEDIAJBADYCHCACIAE2AhQgAkH3CTYCECACQQg2AgwMoAELIAJBADYCACAGQQFqIQEgAi0AKUEhRg0DIAJBADYCHCACIAE2AhQgAkGbCjYCECACQQg2AgxBACEDDJ8BCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJBkDM2AhAgAkEINgIMDJ0BCyACQQA2AgAgBkEBaiEBIAItAClBI0kNACACQQA2AhwgAiABNgIUIAJB0wk2AhAgAkEINgIMQQAhAwycAQtB0QAhAwyCAQsgAS0AAEEwayIAQf8BcUEKSQRAIAIgADoAKiABQQFqIQFBzwAhAwyCAQsgAigCBCEAIAJBADYCBCACIAAgARAoIgBFDYYBIAJB3gA2AhwgAiABNgIUIAIgADYCDEEAIQMMmgELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ2GASACQdwANgIcIAIgATYCFCACIAA2AgxBACEDDJkBCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMhwELIAJB2gA2AhwgAiAFNgIUIAIgADYCDAyYAQtBACEBQQEhAwsgAiADOgArIAVBAWohAwJAAkACQCACLQAtQRBxDQACQAJAAkAgAi0AKg4DAQACBAsgBkUNAwwCCyAADQEMAgsgAUUNAQsgAigCBCEAIAJBADYCBCACIAAgAxAoIgBFBEAgAyEBDAILIAJB2AA2AhwgAiADNgIUIAIgADYCDEEAIQMMmAELIAIoAgQhACACQQA2AgQgAiAAIAMQKCIARQRAIAMhAQyHAQsgAkHZADYCHCACIAM2AhQgAiAANgIMQQAhAwyXAQtBzAAhAwx9CyAAQRVHBEAgAkEANgIcIAIgATYCFCACQZQNNgIQIAJBITYCDEEAIQMMlgELIAJB1wA2AhwgAiABNgIUIAJByRc2AhAgAkEVNgIMQQAhAwyVAQtBACEDIAJBADYCHCACIAE2AhQgAkGAETYCECACQQk2AgwMlAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0AIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMkwELQckAIQMMeQsgAkEANgIcIAIgATYCFCACQcEoNgIQIAJBBzYCDCACQQA2AgBBACEDDJEBCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAlIgBFDQAgAkHSADYCHCACIAE2AhQgAiAANgIMDJABC0HIACEDDHYLIAJBADYCACAFIQELIAJBgBI7ASogAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANAQtBxwAhAwxzCyAAQRVGBEAgAkHRADYCHCACIAE2AhQgAkHjFzYCECACQRU2AgxBACEDDIwBC0EAIQMgAkEANgIcIAIgATYCFCACQbkNNgIQIAJBGjYCDAyLAQtBACEDIAJBADYCHCACIAE2AhQgAkGgGTYCECACQR42AgwMigELIAEtAABBOkYEQCACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgBFDQEgAkHDADYCHCACIAA2AgwgAiABQQFqNgIUDIoBC0EAIQMgAkEANgIcIAIgATYCFCACQbERNgIQIAJBCjYCDAyJAQsgAUEBaiEBQTshAwxvCyACQcMANgIcIAIgADYCDCACIAFBAWo2AhQMhwELQQAhAyACQQA2AhwgAiABNgIUIAJB8A42AhAgAkEcNgIMDIYBCyACIAIvATBBEHI7ATAMZgsCQCACLwEwIgBBCHFFDQAgAi0AKEEBRw0AIAItAC1BCHFFDQMLIAIgAEH3+wNxQYAEcjsBMAwECyABIARHBEACQANAIAEtAABBMGsiAEH/AXFBCk8EQEE1IQMMbgsgAikDICIKQpmz5syZs+bMGVYNASACIApCCn4iCjcDICAKIACtQv8BgyILQn+FVg0BIAIgCiALfDcDICAEIAFBAWoiAUcNAAtBOSEDDIUBCyACKAIEIQBBACEDIAJBADYCBCACIAAgAUEBaiIBECoiAA0MDHcLQTkhAwyDAQsgAi0AMEEgcQ0GQcUBIQMMaQtBACEDIAJBADYCBCACIAEgARAqIgBFDQQgAkE6NgIcIAIgADYCDCACIAFBAWo2AhQMgQELIAItAChBAUcNACACLQAtQQhxRQ0BC0E3IQMMZgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIABEAgAkE7NgIcIAIgADYCDCACIAFBAWo2AhQMfwsgAUEBaiEBDG4LIAJBCDoALAwECyABQQFqIQEMbQtBACEDIAJBADYCHCACIAE2AhQgAkHkEjYCECACQQQ2AgwMewsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ1sIAJBNzYCHCACIAE2AhQgAiAANgIMDHoLIAIgAi8BMEEgcjsBMAtBMCEDDF8LIAJBNjYCHCACIAE2AhQgAiAANgIMDHcLIABBLEcNASABQQFqIQBBASEBAkACQAJAAkACQCACLQAsQQVrDgQDAQIEAAsgACEBDAQLQQIhAQwBC0EEIQELIAJBAToALCACIAIvATAgAXI7ATAgACEBDAELIAIgAi8BMEEIcjsBMCAAIQELQTkhAwxcCyACQQA6ACwLQTQhAwxaCyABIARGBEBBLSEDDHMLAkACQANAAkAgAS0AAEEKaw4EAgAAAwALIAQgAUEBaiIBRw0AC0EtIQMMdAsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ0CIAJBLDYCHCACIAE2AhQgAiAANgIMDHMLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAS0AAEENRgRAIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAi0ALUEBcQRAQcQBIQMMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIADQEMZQtBLyEDDFcLIAJBLjYCHCACIAE2AhQgAiAANgIMDG8LQQAhAyACQQA2AhwgAiABNgIUIAJB8BQ2AhAgAkEDNgIMDG4LQQEhAwJAAkACQAJAIAItACxBBWsOBAMBAgAECyACIAIvATBBCHI7ATAMAwtBAiEDDAELQQQhAwsgAkEBOgAsIAIgAi8BMCADcjsBMAtBKiEDDFMLQQAhAyACQQA2AhwgAiABNgIUIAJB4Q82AhAgAkEKNgIMDGsLQQEhAwJAAkACQAJAAkACQCACLQAsQQJrDgcFBAQDAQIABAsgAiACLwEwQQhyOwEwDAMLQQIhAwwBC0EEIQMLIAJBAToALCACIAIvATAgA3I7ATALQSshAwxSC0EAIQMgAkEANgIcIAIgATYCFCACQasSNgIQIAJBCzYCDAxqC0EAIQMgAkEANgIcIAIgATYCFCACQf0NNgIQIAJBHTYCDAxpCyABIARHBEADQCABLQAAQSBHDUggBCABQQFqIgFHDQALQSUhAwxpC0ElIQMMaAsgAi0ALUEBcQRAQcMBIQMMTwsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKSIABEAgAkEmNgIcIAIgADYCDCACIAFBAWo2AhQMaAsgAUEBaiEBDFwLIAFBAWohASACLwEwIgBBgAFxBEBBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAEUNBiAAQRVHDR8gAkEFNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMZwsCQCAAQaAEcUGgBEcNACACLQAtQQJxDQBBACEDIAJBADYCHCACIAE2AhQgAkGWEzYCECACQQQ2AgwMZwsgAgJ/IAIvATBBFHFBFEYEQEEBIAItAChBAUYNARogAi8BMkHlAEYMAQsgAi0AKUEFRgs6AC5BACEAAkAgAigCOCIDRQ0AIAMoAiQiA0UNACACIAMRAAAhAAsCQAJAAkACQAJAIAAOFgIBAAQEBAQEBAQEBAQEBAQEBAQEBAMECyACQQE6AC4LIAIgAi8BMEHAAHI7ATALQSchAwxPCyACQSM2AhwgAiABNgIUIAJBpRY2AhAgAkEVNgIMQQAhAwxnC0EAIQMgAkEANgIcIAIgATYCFCACQdULNgIQIAJBETYCDAxmC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAADQELQQ4hAwxLCyAAQRVGBEAgAkECNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMZAtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMYwtBACEDIAJBADYCHCACIAE2AhQgAkGqHDYCECACQQ82AgwMYgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEgCqdqIgEQKyIARQ0AIAJBBTYCHCACIAE2AhQgAiAANgIMDGELQQ8hAwxHC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxfC0IBIQoLIAFBAWohAQJAIAIpAyAiC0L//////////w9YBEAgAiALQgSGIAqENwMgDAELQQAhAyACQQA2AhwgAiABNgIUIAJBrQk2AhAgAkEMNgIMDF4LQSQhAwxEC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxcCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAsIgBFBEAgAUEBaiEBDFILIAJBFzYCHCACIAA2AgwgAiABQQFqNgIUDFsLIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQRY2AhwgAiAANgIMIAIgAUEBajYCFAxbC0EfIQMMQQtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQLSIARQRAIAFBAWohAQxQCyACQRQ2AhwgAiAANgIMIAIgAUEBajYCFAxYCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABEC0iAEUEQCABQQFqIQEMAQsgAkETNgIcIAIgADYCDCACIAFBAWo2AhQMWAtBHiEDDD4LQQAhAyACQQA2AhwgAiABNgIUIAJBxgw2AhAgAkEjNgIMDFYLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABEC0iAEUEQCABQQFqIQEMTgsgAkERNgIcIAIgADYCDCACIAFBAWo2AhQMVQsgAkEQNgIcIAIgATYCFCACIAA2AgwMVAtBACEDIAJBADYCHCACIAE2AhQgAkHGDDYCECACQSM2AgwMUwtBACEDIAJBADYCHCACIAE2AhQgAkHAFTYCECACQQI2AgwMUgsgAigCBCEAQQAhAyACQQA2AgQCQCACIAAgARAtIgBFBEAgAUEBaiEBDAELIAJBDjYCHCACIAA2AgwgAiABQQFqNgIUDFILQRshAww4C0EAIQMgAkEANgIcIAIgATYCFCACQcYMNgIQIAJBIzYCDAxQCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABECwiAEUEQCABQQFqIQEMAQsgAkENNgIcIAIgADYCDCACIAFBAWo2AhQMUAtBGiEDDDYLQQAhAyACQQA2AhwgAiABNgIUIAJBmg82AhAgAkEiNgIMDE4LIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQQw2AhwgAiAANgIMIAIgAUEBajYCFAxOC0EZIQMMNAtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMTAsgAEEVRwRAQQAhAyACQQA2AhwgAiABNgIUIAJBgww2AhAgAkETNgIMDEwLIAJBCjYCHCACIAE2AhQgAkHkFjYCECACQRU2AgxBACEDDEsLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABIAqnaiIBECsiAARAIAJBBzYCHCACIAE2AhQgAiAANgIMDEsLQRMhAwwxCyAAQRVHBEBBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMSgsgAkEeNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMSQtBACEAAkAgAigCOCIDRQ0AIAMoAiwiA0UNACACIAMRAAAhAAsgAEUNQSAAQRVGBEAgAkEDNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMSQtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMSAtBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMRwtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMRgsgAkEAOgAvIAItAC1BBHFFDT8LIAJBADoALyACQQE6ADRBACEDDCsLQQAhAyACQQA2AhwgAkHkETYCECACQQc2AgwgAiABQQFqNgIUDEMLAkADQAJAIAEtAABBCmsOBAACAgACCyAEIAFBAWoiAUcNAAtB3QEhAwxDCwJAAkAgAi0ANEEBRw0AQQAhAAJAIAIoAjgiA0UNACADKAJYIgNFDQAgAiADEQAAIQALIABFDQAgAEEVRw0BIAJB3AE2AhwgAiABNgIUIAJB1RY2AhAgAkEVNgIMQQAhAwxEC0HBASEDDCoLIAJBADYCHCACIAE2AhQgAkHpCzYCECACQR82AgxBACEDDEILAkACQCACLQAoQQFrDgIEAQALQcABIQMMKQtBuQEhAwwoCyACQQI6AC9BACEAAkAgAigCOCIDRQ0AIAMoAgAiA0UNACACIAMRAAAhAAsgAEUEQEHCASEDDCgLIABBFUcEQCACQQA2AhwgAiABNgIUIAJBpAw2AhAgAkEQNgIMQQAhAwxBCyACQdsBNgIcIAIgATYCFCACQfoWNgIQIAJBFTYCDEEAIQMMQAsgASAERgRAQdoBIQMMQAsgAS0AAEHIAEYNASACQQE6ACgLQawBIQMMJQtBvwEhAwwkCyABIARHBEAgAkEQNgIIIAIgATYCBEG+ASEDDCQLQdkBIQMMPAsgASAERgRAQdgBIQMMPAsgAS0AAEHIAEcNBCABQQFqIQFBvQEhAwwiCyABIARGBEBB1wEhAww7CwJAAkAgAS0AAEHFAGsOEAAFBQUFBQUFBQUFBQUFBQEFCyABQQFqIQFBuwEhAwwiCyABQQFqIQFBvAEhAwwhC0HWASEDIAEgBEYNOSACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGD0ABqLQAARw0DIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw6CyACKAIEIQAgAkIANwMAIAIgACAGQQFqIgEQJyIARQRAQcYBIQMMIQsgAkHVATYCHCACIAE2AhQgAiAANgIMQQAhAww5C0HUASEDIAEgBEYNOCACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGB0ABqLQAARw0CIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw5CyACQYEEOwEoIAIoAgQhACACQgA3AwAgAiAAIAZBAWoiARAnIgANAwwCCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB2Bs2AhAgAkEINgIMDDYLQboBIQMMHAsgAkHTATYCHCACIAE2AhQgAiAANgIMQQAhAww0C0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAARQ0AIABBFUYNASACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwwzC0HkACEDDBkLIAJB+AA2AhwgAiABNgIUIAJByhg2AhAgAkEVNgIMQQAhAwwxC0HSASEDIAQgASIARg0wIAQgAWsgAigCACIBaiEFIAAgAWtBBGohBgJAA0AgAC0AACABQfzPAGotAABHDQEgAUEERg0DIAFBAWohASAEIABBAWoiAEcNAAsgAiAFNgIADDELIAJBADYCHCACIAA2AhQgAkGQMzYCECACQQg2AgwgAkEANgIAQQAhAwwwCyABIARHBEAgAkEONgIIIAIgATYCBEG3ASEDDBcLQdEBIQMMLwsgAkEANgIAIAZBAWohAQtBuAEhAwwUCyABIARGBEBB0AEhAwwtCyABLQAAQTBrIgBB/wFxQQpJBEAgAiAAOgAqIAFBAWohAUG2ASEDDBQLIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0UIAJBzwE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAsgASAERgRAQc4BIQMMLAsCQCABLQAAQS5GBEAgAUEBaiEBDAELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0VIAJBzQE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAtBtQEhAwwSCyAEIAEiBUYEQEHMASEDDCsLQQAhAEEBIQFBASEGQQAhAwJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAIAUtAABBMGsOCgoJAAECAwQFBggLC0ECDAYLQQMMBQtBBAwEC0EFDAMLQQYMAgtBBwwBC0EICyEDQQAhAUEAIQYMAgtBCSEDQQEhAEEAIQFBACEGDAELQQAhAUEBIQMLIAIgAzoAKyAFQQFqIQMCQAJAIAItAC1BEHENAAJAAkACQCACLQAqDgMBAAIECyAGRQ0DDAILIAANAQwCCyABRQ0BCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMAwsgAkHJATYCHCACIAM2AhQgAiAANgIMQQAhAwwtCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMGAsgAkHKATYCHCACIAM2AhQgAiAANgIMQQAhAwwsCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMFgsgAkHLATYCHCACIAU2AhQgAiAANgIMDCsLQbQBIQMMEQtBACEAAkAgAigCOCIDRQ0AIAMoAjwiA0UNACACIAMRAAAhAAsCQCAABEAgAEEVRg0BIAJBADYCHCACIAE2AhQgAkGUDTYCECACQSE2AgxBACEDDCsLQbIBIQMMEQsgAkHIATYCHCACIAE2AhQgAkHJFzYCECACQRU2AgxBACEDDCkLIAJBADYCACAGQQFqIQFB9QAhAwwPCyACLQApQQVGBEBB4wAhAwwPC0HiACEDDA4LIAAhASACQQA2AgALIAJBADoALEEJIQMMDAsgAkEANgIAIAdBAWohAUHAACEDDAsLQQELOgAsIAJBADYCACAGQQFqIQELQSkhAwwIC0E4IQMMBwsCQCABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRw0DIAFBAWohAQwFCyAEIAFBAWoiAUcNAAtBPiEDDCELQT4hAwwgCwsgAkEAOgAsDAELQQshAwwEC0E6IQMMAwsgAUEBaiEBQS0hAwwCCyACIAE6ACwgAkEANgIAIAZBAWohAUEMIQMMAQsgAkEANgIAIAZBAWohAUEKIQMMAAsAC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwXC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwWC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwVC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwUC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwTC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwSC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwRC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwQC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwPC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwOC0EAIQMgAkEANgIcIAIgATYCFCACQcASNgIQIAJBCzYCDAwNC0EAIQMgAkEANgIcIAIgATYCFCACQZUJNgIQIAJBCzYCDAwMC0EAIQMgAkEANgIcIAIgATYCFCACQeEPNgIQIAJBCjYCDAwLC0EAIQMgAkEANgIcIAIgATYCFCACQfsPNgIQIAJBCjYCDAwKC0EAIQMgAkEANgIcIAIgATYCFCACQfEZNgIQIAJBAjYCDAwJC0EAIQMgAkEANgIcIAIgATYCFCACQcQUNgIQIAJBAjYCDAwIC0EAIQMgAkEANgIcIAIgATYCFCACQfIVNgIQIAJBAjYCDAwHCyACQQI2AhwgAiABNgIUIAJBnBo2AhAgAkEWNgIMQQAhAwwGC0EBIQMMBQtB1AAhAyABIARGDQQgCEEIaiEJIAIoAgAhBQJAAkAgASAERwRAIAVB2MIAaiEHIAQgBWogAWshACAFQX9zQQpqIgUgAWohBgNAIAEtAAAgBy0AAEcEQEECIQcMAwsgBUUEQEEAIQcgBiEBDAMLIAVBAWshBSAHQQFqIQcgBCABQQFqIgFHDQALIAAhBSAEIQELIAlBATYCACACIAU2AgAMAQsgAkEANgIAIAkgBzYCAAsgCSABNgIEIAgoAgwhACAIKAIIDgMBBAIACwALIAJBADYCHCACQbUaNgIQIAJBFzYCDCACIABBAWo2AhRBACEDDAILIAJBADYCHCACIAA2AhQgAkHKGjYCECACQQk2AgxBACEDDAELIAEgBEYEQEEiIQMMAQsgAkEJNgIIIAIgATYCBEEhIQMLIAhBEGokACADRQRAIAIoAgwhAAwBCyACIAM2AhxBACEAIAIoAgQiAUUNACACIAEgBCACKAIIEQEAIgFFDQAgAiAENgIUIAIgATYCDCABIQALIAALvgIBAn8gAEEAOgAAIABB3ABqIgFBAWtBADoAACAAQQA6AAIgAEEAOgABIAFBA2tBADoAACABQQJrQQA6AAAgAEEAOgADIAFBBGtBADoAAEEAIABrQQNxIgEgAGoiAEEANgIAQdwAIAFrQXxxIgIgAGoiAUEEa0EANgIAAkAgAkEJSQ0AIABBADYCCCAAQQA2AgQgAUEIa0EANgIAIAFBDGtBADYCACACQRlJDQAgAEEANgIYIABBADYCFCAAQQA2AhAgAEEANgIMIAFBEGtBADYCACABQRRrQQA2AgAgAUEYa0EANgIAIAFBHGtBADYCACACIABBBHFBGHIiAmsiAUEgSQ0AIAAgAmohAANAIABCADcDGCAAQgA3AxAgAEIANwMIIABCADcDACAAQSBqIQAgAUEgayIBQR9LDQALCwtWAQF/AkAgACgCDA0AAkACQAJAAkAgAC0ALw4DAQADAgsgACgCOCIBRQ0AIAEoAiwiAUUNACAAIAERAAAiAQ0DC0EADwsACyAAQcMWNgIQQQ4hAQsgAQsaACAAKAIMRQRAIABB0Rs2AhAgAEEVNgIMCwsUACAAKAIMQRVGBEAgAEEANgIMCwsUACAAKAIMQRZGBEAgAEEANgIMCwsHACAAKAIMCwcAIAAoAhALCQAgACABNgIQCwcAIAAoAhQLFwAgAEEkTwRAAAsgAEECdEGgM2ooAgALFwAgAEEuTwRAAAsgAEECdEGwNGooAgALvwkBAX9B6yghAQJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB5ABrDvQDY2IAAWFhYWFhYQIDBAVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhBgcICQoLDA0OD2FhYWFhEGFhYWFhYWFhYWFhEWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYRITFBUWFxgZGhthYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2YTc4OTphYWFhYWFhYTthYWE8YWFhYT0+P2FhYWFhYWFhQGFhQWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYUJDREVGR0hJSktMTU5PUFFSU2FhYWFhYWFhVFVWV1hZWlthXF1hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFeYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhX2BhC0HhJw8LQaQhDwtByywPC0H+MQ8LQcAkDwtBqyQPC0GNKA8LQeImDwtBgDAPC0G5Lw8LQdckDwtB7x8PC0HhHw8LQfofDwtB8iAPC0GoLw8LQa4yDwtBiDAPC0HsJw8LQYIiDwtBjh0PC0HQLg8LQcojDwtBxTIPC0HfHA8LQdIcDwtBxCAPC0HXIA8LQaIfDwtB7S4PC0GrMA8LQdQlDwtBzC4PC0H6Lg8LQfwrDwtB0jAPC0HxHQ8LQbsgDwtB9ysPC0GQMQ8LQdcxDwtBoi0PC0HUJw8LQeArDwtBnywPC0HrMQ8LQdUfDwtByjEPC0HeJQ8LQdQeDwtB9BwPC0GnMg8LQbEdDwtBoB0PC0G5MQ8LQbwwDwtBkiEPC0GzJg8LQeksDwtBrB4PC0HUKw8LQfcmDwtBgCYPC0GwIQ8LQf4eDwtBjSMPC0GJLQ8LQfciDwtBoDEPC0GuHw8LQcYlDwtB6B4PC0GTIg8LQcIvDwtBwx0PC0GLLA8LQeEdDwtBjS8PC0HqIQ8LQbQtDwtB0i8PC0HfMg8LQdIyDwtB8DAPC0GpIg8LQfkjDwtBmR4PC0G1LA8LQZswDwtBkjIPC0G2Kw8LQcIiDwtB+DIPC0GeJQ8LQdAiDwtBuh4PC0GBHg8LAAtB1iEhAQsgAQsWACAAIAAtAC1B/gFxIAFBAEdyOgAtCxkAIAAgAC0ALUH9AXEgAUEAR0EBdHI6AC0LGQAgACAALQAtQfsBcSABQQBHQQJ0cjoALQsZACAAIAAtAC1B9wFxIAFBAEdBA3RyOgAtCz4BAn8CQCAAKAI4IgNFDQAgAygCBCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBxhE2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCCCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9go2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCDCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7Ro2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCECIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlRA2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCFCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBqhs2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCGCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7RM2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCKCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9gg2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCHCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBwhk2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCICIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlBQ2AhBBGCEECyAEC1kBAn8CQCAALQAoQQFGDQAgAC8BMiIBQeQAa0HkAEkNACABQcwBRg0AIAFBsAJGDQAgAC8BMCIAQcAAcQ0AQQEhAiAAQYgEcUGABEYNACAAQShxRSECCyACC4wBAQJ/AkACQAJAIAAtACpFDQAgAC0AK0UNACAALwEwIgFBAnFFDQEMAgsgAC8BMCIBQQFxRQ0BC0EBIQIgAC0AKEEBRg0AIAAvATIiAEHkAGtB5ABJDQAgAEHMAUYNACAAQbACRg0AIAFBwABxDQBBACECIAFBiARxQYAERg0AIAFBKHFBAEchAgsgAgtzACAAQRBq/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAA/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAAQTBq/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAAQSBq/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAAQd0BNgIcCwYAIAAQMguaLQELfyMAQRBrIgokAEGk0AAoAgAiCUUEQEHk0wAoAgAiBUUEQEHw0wBCfzcCAEHo0wBCgICEgICAwAA3AgBB5NMAIApBCGpBcHFB2KrVqgVzIgU2AgBB+NMAQQA2AgBByNMAQQA2AgALQczTAEGA1AQ2AgBBnNAAQYDUBDYCAEGw0AAgBTYCAEGs0ABBfzYCAEHQ0wBBgKwDNgIAA0AgAUHI0ABqIAFBvNAAaiICNgIAIAIgAUG00ABqIgM2AgAgAUHA0ABqIAM2AgAgAUHQ0ABqIAFBxNAAaiIDNgIAIAMgAjYCACABQdjQAGogAUHM0ABqIgI2AgAgAiADNgIAIAFB1NAAaiACNgIAIAFBIGoiAUGAAkcNAAtBjNQEQcGrAzYCAEGo0ABB9NMAKAIANgIAQZjQAEHAqwM2AgBBpNAAQYjUBDYCAEHM/wdBODYCAEGI1AQhCQsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCAAQewBTQRAQYzQACgCACIGQRAgAEETakFwcSAAQQtJGyIEQQN2IgB2IgFBA3EEQAJAIAFBAXEgAHJBAXMiAkEDdCIAQbTQAGoiASAAQbzQAGooAgAiACgCCCIDRgRAQYzQACAGQX4gAndxNgIADAELIAEgAzYCCCADIAE2AgwLIABBCGohASAAIAJBA3QiAkEDcjYCBCAAIAJqIgAgACgCBEEBcjYCBAwRC0GU0AAoAgAiCCAETw0BIAEEQAJAQQIgAHQiAkEAIAJrciABIAB0cWgiAEEDdCICQbTQAGoiASACQbzQAGooAgAiAigCCCIDRgRAQYzQACAGQX4gAHdxIgY2AgAMAQsgASADNgIIIAMgATYCDAsgAiAEQQNyNgIEIABBA3QiACAEayEFIAAgAmogBTYCACACIARqIgQgBUEBcjYCBCAIBEAgCEF4cUG00ABqIQBBoNAAKAIAIQMCf0EBIAhBA3Z0IgEgBnFFBEBBjNAAIAEgBnI2AgAgAAwBCyAAKAIICyIBIAM2AgwgACADNgIIIAMgADYCDCADIAE2AggLIAJBCGohAUGg0AAgBDYCAEGU0AAgBTYCAAwRC0GQ0AAoAgAiC0UNASALaEECdEG80gBqKAIAIgAoAgRBeHEgBGshBSAAIQIDQAJAIAIoAhAiAUUEQCACQRRqKAIAIgFFDQELIAEoAgRBeHEgBGsiAyAFSSECIAMgBSACGyEFIAEgACACGyEAIAEhAgwBCwsgACgCGCEJIAAoAgwiAyAARwRAQZzQACgCABogAyAAKAIIIgE2AgggASADNgIMDBALIABBFGoiAigCACIBRQRAIAAoAhAiAUUNAyAAQRBqIQILA0AgAiEHIAEiA0EUaiICKAIAIgENACADQRBqIQIgAygCECIBDQALIAdBADYCAAwPC0F/IQQgAEG/f0sNACAAQRNqIgFBcHEhBEGQ0AAoAgAiCEUNAEEAIARrIQUCQAJAAkACf0EAIARBgAJJDQAaQR8gBEH///8HSw0AGiAEQSYgAUEIdmciAGt2QQFxIABBAXRrQT5qCyIGQQJ0QbzSAGooAgAiAkUEQEEAIQFBACEDDAELQQAhASAEQRkgBkEBdmtBACAGQR9HG3QhAEEAIQMDQAJAIAIoAgRBeHEgBGsiByAFTw0AIAIhAyAHIgUNAEEAIQUgAiEBDAMLIAEgAkEUaigCACIHIAcgAiAAQR12QQRxakEQaigCACICRhsgASAHGyEBIABBAXQhACACDQALCyABIANyRQRAQQAhA0ECIAZ0IgBBACAAa3IgCHEiAEUNAyAAaEECdEG80gBqKAIAIQELIAFFDQELA0AgASgCBEF4cSAEayICIAVJIQAgAiAFIAAbIQUgASADIAAbIQMgASgCECIABH8gAAUgAUEUaigCAAsiAQ0ACwsgA0UNACAFQZTQACgCACAEa08NACADKAIYIQcgAyADKAIMIgBHBEBBnNAAKAIAGiAAIAMoAggiATYCCCABIAA2AgwMDgsgA0EUaiICKAIAIgFFBEAgAygCECIBRQ0DIANBEGohAgsDQCACIQYgASIAQRRqIgIoAgAiAQ0AIABBEGohAiAAKAIQIgENAAsgBkEANgIADA0LQZTQACgCACIDIARPBEBBoNAAKAIAIQECQCADIARrIgJBEE8EQCABIARqIgAgAkEBcjYCBCABIANqIAI2AgAgASAEQQNyNgIEDAELIAEgA0EDcjYCBCABIANqIgAgACgCBEEBcjYCBEEAIQBBACECC0GU0AAgAjYCAEGg0AAgADYCACABQQhqIQEMDwtBmNAAKAIAIgMgBEsEQCAEIAlqIgAgAyAEayIBQQFyNgIEQaTQACAANgIAQZjQACABNgIAIAkgBEEDcjYCBCAJQQhqIQEMDwtBACEBIAQCf0Hk0wAoAgAEQEHs0wAoAgAMAQtB8NMAQn83AgBB6NMAQoCAhICAgMAANwIAQeTTACAKQQxqQXBxQdiq1aoFczYCAEH40wBBADYCAEHI0wBBADYCAEGAgAQLIgAgBEHHAGoiBWoiBkEAIABrIgdxIgJPBEBB/NMAQTA2AgAMDwsCQEHE0wAoAgAiAUUNAEG80wAoAgAiCCACaiEAIAAgAU0gACAIS3ENAEEAIQFB/NMAQTA2AgAMDwtByNMALQAAQQRxDQQCQAJAIAkEQEHM0wAhAQNAIAEoAgAiACAJTQRAIAAgASgCBGogCUsNAwsgASgCCCIBDQALC0EAEDMiAEF/Rg0FIAIhBkHo0wAoAgAiAUEBayIDIABxBEAgAiAAayAAIANqQQAgAWtxaiEGCyAEIAZPDQUgBkH+////B0sNBUHE0wAoAgAiAwRAQbzTACgCACIHIAZqIQEgASAHTQ0GIAEgA0sNBgsgBhAzIgEgAEcNAQwHCyAGIANrIAdxIgZB/v///wdLDQQgBhAzIQAgACABKAIAIAEoAgRqRg0DIAAhAQsCQCAGIARByABqTw0AIAFBf0YNAEHs0wAoAgAiACAFIAZrakEAIABrcSIAQf7///8HSwRAIAEhAAwHCyAAEDNBf0cEQCAAIAZqIQYgASEADAcLQQAgBmsQMxoMBAsgASIAQX9HDQUMAwtBACEDDAwLQQAhAAwKCyAAQX9HDQILQcjTAEHI0wAoAgBBBHI2AgALIAJB/v///wdLDQEgAhAzIQBBABAzIQEgAEF/Rg0BIAFBf0YNASAAIAFPDQEgASAAayIGIARBOGpNDQELQbzTAEG80wAoAgAgBmoiATYCAEHA0wAoAgAgAUkEQEHA0wAgATYCAAsCQAJAAkBBpNAAKAIAIgIEQEHM0wAhAQNAIAAgASgCACIDIAEoAgQiBWpGDQIgASgCCCIBDQALDAILQZzQACgCACIBQQBHIAAgAU9xRQRAQZzQACAANgIAC0EAIQFB0NMAIAY2AgBBzNMAIAA2AgBBrNAAQX82AgBBsNAAQeTTACgCADYCAEHY0wBBADYCAANAIAFByNAAaiABQbzQAGoiAjYCACACIAFBtNAAaiIDNgIAIAFBwNAAaiADNgIAIAFB0NAAaiABQcTQAGoiAzYCACADIAI2AgAgAUHY0ABqIAFBzNAAaiICNgIAIAIgAzYCACABQdTQAGogAjYCACABQSBqIgFBgAJHDQALQXggAGtBD3EiASAAaiICIAZBOGsiAyABayIBQQFyNgIEQajQAEH00wAoAgA2AgBBmNAAIAE2AgBBpNAAIAI2AgAgACADakE4NgIEDAILIAAgAk0NACACIANJDQAgASgCDEEIcQ0AQXggAmtBD3EiACACaiIDQZjQACgCACAGaiIHIABrIgBBAXI2AgQgASAFIAZqNgIEQajQAEH00wAoAgA2AgBBmNAAIAA2AgBBpNAAIAM2AgAgAiAHakE4NgIEDAELIABBnNAAKAIASQRAQZzQACAANgIACyAAIAZqIQNBzNMAIQECQAJAAkADQCADIAEoAgBHBEAgASgCCCIBDQEMAgsLIAEtAAxBCHFFDQELQczTACEBA0AgASgCACIDIAJNBEAgAyABKAIEaiIFIAJLDQMLIAEoAgghAQwACwALIAEgADYCACABIAEoAgQgBmo2AgQgAEF4IABrQQ9xaiIJIARBA3I2AgQgA0F4IANrQQ9xaiIGIAQgCWoiBGshASACIAZGBEBBpNAAIAQ2AgBBmNAAQZjQACgCACABaiIANgIAIAQgAEEBcjYCBAwIC0Gg0AAoAgAgBkYEQEGg0AAgBDYCAEGU0ABBlNAAKAIAIAFqIgA2AgAgBCAAQQFyNgIEIAAgBGogADYCAAwICyAGKAIEIgVBA3FBAUcNBiAFQXhxIQggBUH/AU0EQCAFQQN2IQMgBigCCCIAIAYoAgwiAkYEQEGM0ABBjNAAKAIAQX4gA3dxNgIADAcLIAIgADYCCCAAIAI2AgwMBgsgBigCGCEHIAYgBigCDCIARwRAIAAgBigCCCICNgIIIAIgADYCDAwFCyAGQRRqIgIoAgAiBUUEQCAGKAIQIgVFDQQgBkEQaiECCwNAIAIhAyAFIgBBFGoiAigCACIFDQAgAEEQaiECIAAoAhAiBQ0ACyADQQA2AgAMBAtBeCAAa0EPcSIBIABqIgcgBkE4ayIDIAFrIgFBAXI2AgQgACADakE4NgIEIAIgBUE3IAVrQQ9xakE/ayIDIAMgAkEQakkbIgNBIzYCBEGo0ABB9NMAKAIANgIAQZjQACABNgIAQaTQACAHNgIAIANBEGpB1NMAKQIANwIAIANBzNMAKQIANwIIQdTTACADQQhqNgIAQdDTACAGNgIAQczTACAANgIAQdjTAEEANgIAIANBJGohAQNAIAFBBzYCACAFIAFBBGoiAUsNAAsgAiADRg0AIAMgAygCBEF+cTYCBCADIAMgAmsiBTYCACACIAVBAXI2AgQgBUH/AU0EQCAFQXhxQbTQAGohAAJ/QYzQACgCACIBQQEgBUEDdnQiA3FFBEBBjNAAIAEgA3I2AgAgAAwBCyAAKAIICyIBIAI2AgwgACACNgIIIAIgADYCDCACIAE2AggMAQtBHyEBIAVB////B00EQCAFQSYgBUEIdmciAGt2QQFxIABBAXRrQT5qIQELIAIgATYCHCACQgA3AhAgAUECdEG80gBqIQBBkNAAKAIAIgNBASABdCIGcUUEQCAAIAI2AgBBkNAAIAMgBnI2AgAgAiAANgIYIAIgAjYCCCACIAI2AgwMAQsgBUEZIAFBAXZrQQAgAUEfRxt0IQEgACgCACEDAkADQCADIgAoAgRBeHEgBUYNASABQR12IQMgAUEBdCEBIAAgA0EEcWpBEGoiBigCACIDDQALIAYgAjYCACACIAA2AhggAiACNgIMIAIgAjYCCAwBCyAAKAIIIgEgAjYCDCAAIAI2AgggAkEANgIYIAIgADYCDCACIAE2AggLQZjQACgCACIBIARNDQBBpNAAKAIAIgAgBGoiAiABIARrIgFBAXI2AgRBmNAAIAE2AgBBpNAAIAI2AgAgACAEQQNyNgIEIABBCGohAQwIC0EAIQFB/NMAQTA2AgAMBwtBACEACyAHRQ0AAkAgBigCHCICQQJ0QbzSAGoiAygCACAGRgRAIAMgADYCACAADQFBkNAAQZDQACgCAEF+IAJ3cTYCAAwCCyAHQRBBFCAHKAIQIAZGG2ogADYCACAARQ0BCyAAIAc2AhggBigCECICBEAgACACNgIQIAIgADYCGAsgBkEUaigCACICRQ0AIABBFGogAjYCACACIAA2AhgLIAEgCGohASAGIAhqIgYoAgQhBQsgBiAFQX5xNgIEIAEgBGogATYCACAEIAFBAXI2AgQgAUH/AU0EQCABQXhxQbTQAGohAAJ/QYzQACgCACICQQEgAUEDdnQiAXFFBEBBjNAAIAEgAnI2AgAgAAwBCyAAKAIICyIBIAQ2AgwgACAENgIIIAQgADYCDCAEIAE2AggMAQtBHyEFIAFB////B00EQCABQSYgAUEIdmciAGt2QQFxIABBAXRrQT5qIQULIAQgBTYCHCAEQgA3AhAgBUECdEG80gBqIQBBkNAAKAIAIgJBASAFdCIDcUUEQCAAIAQ2AgBBkNAAIAIgA3I2AgAgBCAANgIYIAQgBDYCCCAEIAQ2AgwMAQsgAUEZIAVBAXZrQQAgBUEfRxt0IQUgACgCACEAAkADQCAAIgIoAgRBeHEgAUYNASAFQR12IQAgBUEBdCEFIAIgAEEEcWpBEGoiAygCACIADQALIAMgBDYCACAEIAI2AhggBCAENgIMIAQgBDYCCAwBCyACKAIIIgAgBDYCDCACIAQ2AgggBEEANgIYIAQgAjYCDCAEIAA2AggLIAlBCGohAQwCCwJAIAdFDQACQCADKAIcIgFBAnRBvNIAaiICKAIAIANGBEAgAiAANgIAIAANAUGQ0AAgCEF+IAF3cSIINgIADAILIAdBEEEUIAcoAhAgA0YbaiAANgIAIABFDQELIAAgBzYCGCADKAIQIgEEQCAAIAE2AhAgASAANgIYCyADQRRqKAIAIgFFDQAgAEEUaiABNgIAIAEgADYCGAsCQCAFQQ9NBEAgAyAEIAVqIgBBA3I2AgQgACADaiIAIAAoAgRBAXI2AgQMAQsgAyAEaiICIAVBAXI2AgQgAyAEQQNyNgIEIAIgBWogBTYCACAFQf8BTQRAIAVBeHFBtNAAaiEAAn9BjNAAKAIAIgFBASAFQQN2dCIFcUUEQEGM0AAgASAFcjYCACAADAELIAAoAggLIgEgAjYCDCAAIAI2AgggAiAANgIMIAIgATYCCAwBC0EfIQEgBUH///8HTQRAIAVBJiAFQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAQsgAiABNgIcIAJCADcCECABQQJ0QbzSAGohAEEBIAF0IgQgCHFFBEAgACACNgIAQZDQACAEIAhyNgIAIAIgADYCGCACIAI2AgggAiACNgIMDAELIAVBGSABQQF2a0EAIAFBH0cbdCEBIAAoAgAhBAJAA0AgBCIAKAIEQXhxIAVGDQEgAUEddiEEIAFBAXQhASAAIARBBHFqQRBqIgYoAgAiBA0ACyAGIAI2AgAgAiAANgIYIAIgAjYCDCACIAI2AggMAQsgACgCCCIBIAI2AgwgACACNgIIIAJBADYCGCACIAA2AgwgAiABNgIICyADQQhqIQEMAQsCQCAJRQ0AAkAgACgCHCIBQQJ0QbzSAGoiAigCACAARgRAIAIgAzYCACADDQFBkNAAIAtBfiABd3E2AgAMAgsgCUEQQRQgCSgCECAARhtqIAM2AgAgA0UNAQsgAyAJNgIYIAAoAhAiAQRAIAMgATYCECABIAM2AhgLIABBFGooAgAiAUUNACADQRRqIAE2AgAgASADNgIYCwJAIAVBD00EQCAAIAQgBWoiAUEDcjYCBCAAIAFqIgEgASgCBEEBcjYCBAwBCyAAIARqIgcgBUEBcjYCBCAAIARBA3I2AgQgBSAHaiAFNgIAIAgEQCAIQXhxQbTQAGohAUGg0AAoAgAhAwJ/QQEgCEEDdnQiAiAGcUUEQEGM0AAgAiAGcjYCACABDAELIAEoAggLIgIgAzYCDCABIAM2AgggAyABNgIMIAMgAjYCCAtBoNAAIAc2AgBBlNAAIAU2AgALIABBCGohAQsgCkEQaiQAIAELQwAgAEUEQD8AQRB0DwsCQCAAQf//A3ENACAAQQBIDQAgAEEQdkAAIgBBf0YEQEH80wBBMDYCAEF/DwsgAEEQdA8LAAsL3D8iAEGACAsJAQAAAAIAAAADAEGUCAsFBAAAAAUAQaQICwkGAAAABwAAAAgAQdwIC4otSW52YWxpZCBjaGFyIGluIHVybCBxdWVyeQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2JvZHkAQ29udGVudC1MZW5ndGggb3ZlcmZsb3cAQ2h1bmsgc2l6ZSBvdmVyZmxvdwBSZXNwb25zZSBvdmVyZmxvdwBJbnZhbGlkIG1ldGhvZCBmb3IgSFRUUC94LnggcmVxdWVzdABJbnZhbGlkIG1ldGhvZCBmb3IgUlRTUC94LnggcmVxdWVzdABFeHBlY3RlZCBTT1VSQ0UgbWV0aG9kIGZvciBJQ0UveC54IHJlcXVlc3QASW52YWxpZCBjaGFyIGluIHVybCBmcmFnbWVudCBzdGFydABFeHBlY3RlZCBkb3QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9zdGF0dXMASW52YWxpZCByZXNwb25zZSBzdGF0dXMASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucwBVc2VyIGNhbGxiYWNrIGVycm9yAGBvbl9yZXNldGAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2hlYWRlcmAgY2FsbGJhY2sgZXJyb3IAYG9uX21lc3NhZ2VfYmVnaW5gIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fdmFsdWVgIGNhbGxiYWNrIGVycm9yAGBvbl9zdGF0dXNfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl92ZXJzaW9uX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdXJsX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXNzYWdlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWV0aG9kX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX25hbWVgIGNhbGxiYWNrIGVycm9yAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2VydmVyAEludmFsaWQgaGVhZGVyIHZhbHVlIGNoYXIASW52YWxpZCBoZWFkZXIgZmllbGQgY2hhcgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3ZlcnNpb24ASW52YWxpZCBtaW5vciB2ZXJzaW9uAEludmFsaWQgbWFqb3IgdmVyc2lvbgBFeHBlY3RlZCBzcGFjZSBhZnRlciB2ZXJzaW9uAEV4cGVjdGVkIENSTEYgYWZ0ZXIgdmVyc2lvbgBJbnZhbGlkIEhUVFAgdmVyc2lvbgBJbnZhbGlkIGhlYWRlciB0b2tlbgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3VybABJbnZhbGlkIGNoYXJhY3RlcnMgaW4gdXJsAFVuZXhwZWN0ZWQgc3RhcnQgY2hhciBpbiB1cmwARG91YmxlIEAgaW4gdXJsAEVtcHR5IENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhcmFjdGVyIGluIENvbnRlbnQtTGVuZ3RoAER1cGxpY2F0ZSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXIgaW4gdXJsIHBhdGgAQ29udGVudC1MZW5ndGggY2FuJ3QgYmUgcHJlc2VudCB3aXRoIFRyYW5zZmVyLUVuY29kaW5nAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIHNpemUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfdmFsdWUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyB2YWx1ZQBNaXNzaW5nIGV4cGVjdGVkIExGIGFmdGVyIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AgaGVhZGVyIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGUgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZWQgdmFsdWUAUGF1c2VkIGJ5IG9uX2hlYWRlcnNfY29tcGxldGUASW52YWxpZCBFT0Ygc3RhdGUAb25fcmVzZXQgcGF1c2UAb25fY2h1bmtfaGVhZGVyIHBhdXNlAG9uX21lc3NhZ2VfYmVnaW4gcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlIHBhdXNlAG9uX3N0YXR1c19jb21wbGV0ZSBwYXVzZQBvbl92ZXJzaW9uX2NvbXBsZXRlIHBhdXNlAG9uX3VybF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGUgcGF1c2UAb25fbWVzc2FnZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXRob2RfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lIHBhdXNlAFVuZXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgc3RhcnQgbGluZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgbmFtZQBQYXVzZSBvbiBDT05ORUNUL1VwZ3JhZGUAUGF1c2Ugb24gUFJJL1VwZ3JhZGUARXhwZWN0ZWQgSFRUUC8yIENvbm5lY3Rpb24gUHJlZmFjZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX21ldGhvZABFeHBlY3RlZCBzcGFjZSBhZnRlciBtZXRob2QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfZmllbGQAUGF1c2VkAEludmFsaWQgd29yZCBlbmNvdW50ZXJlZABJbnZhbGlkIG1ldGhvZCBlbmNvdW50ZXJlZABVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNjaGVtYQBSZXF1ZXN0IGhhcyBpbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AAU1dJVENIX1BST1hZAFVTRV9QUk9YWQBNS0FDVElWSVRZAFVOUFJPQ0VTU0FCTEVfRU5USVRZAENPUFkATU9WRURfUEVSTUFORU5UTFkAVE9PX0VBUkxZAE5PVElGWQBGQUlMRURfREVQRU5ERU5DWQBCQURfR0FURVdBWQBQTEFZAFBVVABDSEVDS09VVABHQVRFV0FZX1RJTUVPVVQAUkVRVUVTVF9USU1FT1VUAE5FVFdPUktfQ09OTkVDVF9USU1FT1VUAENPTk5FQ1RJT05fVElNRU9VVABMT0dJTl9USU1FT1VUAE5FVFdPUktfUkVBRF9USU1FT1VUAFBPU1QATUlTRElSRUNURURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9MT0FEX0JBTEFOQ0VEX1JFUVVFU1QAQkFEX1JFUVVFU1QASFRUUF9SRVFVRVNUX1NFTlRfVE9fSFRUUFNfUE9SVABSRVBPUlQASU1fQV9URUFQT1QAUkVTRVRfQ09OVEVOVABOT19DT05URU5UAFBBUlRJQUxfQ09OVEVOVABIUEVfSU5WQUxJRF9DT05TVEFOVABIUEVfQ0JfUkVTRVQAR0VUAEhQRV9TVFJJQ1QAQ09ORkxJQ1QAVEVNUE9SQVJZX1JFRElSRUNUAFBFUk1BTkVOVF9SRURJUkVDVABDT05ORUNUAE1VTFRJX1NUQVRVUwBIUEVfSU5WQUxJRF9TVEFUVVMAVE9PX01BTllfUkVRVUVTVFMARUFSTFlfSElOVFMAVU5BVkFJTEFCTEVfRk9SX0xFR0FMX1JFQVNPTlMAT1BUSU9OUwBTV0lUQ0hJTkdfUFJPVE9DT0xTAFZBUklBTlRfQUxTT19ORUdPVElBVEVTAE1VTFRJUExFX0NIT0lDRVMASU5URVJOQUxfU0VSVkVSX0VSUk9SAFdFQl9TRVJWRVJfVU5LTk9XTl9FUlJPUgBSQUlMR1VOX0VSUk9SAElERU5USVRZX1BST1ZJREVSX0FVVEhFTlRJQ0FUSU9OX0VSUk9SAFNTTF9DRVJUSUZJQ0FURV9FUlJPUgBJTlZBTElEX1hfRk9SV0FSREVEX0ZPUgBTRVRfUEFSQU1FVEVSAEdFVF9QQVJBTUVURVIASFBFX1VTRVIAU0VFX09USEVSAEhQRV9DQl9DSFVOS19IRUFERVIATUtDQUxFTkRBUgBTRVRVUABXRUJfU0VSVkVSX0lTX0RPV04AVEVBUkRPV04ASFBFX0NMT1NFRF9DT05ORUNUSU9OAEhFVVJJU1RJQ19FWFBJUkFUSU9OAERJU0NPTk5FQ1RFRF9PUEVSQVRJT04ATk9OX0FVVEhPUklUQVRJVkVfSU5GT1JNQVRJT04ASFBFX0lOVkFMSURfVkVSU0lPTgBIUEVfQ0JfTUVTU0FHRV9CRUdJTgBTSVRFX0lTX0ZST1pFTgBIUEVfSU5WQUxJRF9IRUFERVJfVE9LRU4ASU5WQUxJRF9UT0tFTgBGT1JCSURERU4ARU5IQU5DRV9ZT1VSX0NBTE0ASFBFX0lOVkFMSURfVVJMAEJMT0NLRURfQllfUEFSRU5UQUxfQ09OVFJPTABNS0NPTABBQ0wASFBFX0lOVEVSTkFMAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0VfVU5PRkZJQ0lBTABIUEVfT0sAVU5MSU5LAFVOTE9DSwBQUkkAUkVUUllfV0lUSABIUEVfSU5WQUxJRF9DT05URU5UX0xFTkdUSABIUEVfVU5FWFBFQ1RFRF9DT05URU5UX0xFTkdUSABGTFVTSABQUk9QUEFUQ0gATS1TRUFSQ0gAVVJJX1RPT19MT05HAFBST0NFU1NJTkcATUlTQ0VMTEFORU9VU19QRVJTSVNURU5UX1dBUk5JTkcATUlTQ0VMTEFORU9VU19XQVJOSU5HAEhQRV9JTlZBTElEX1RSQU5TRkVSX0VOQ09ESU5HAEV4cGVjdGVkIENSTEYASFBFX0lOVkFMSURfQ0hVTktfU0laRQBNT1ZFAENPTlRJTlVFAEhQRV9DQl9TVEFUVVNfQ09NUExFVEUASFBFX0NCX0hFQURFUlNfQ09NUExFVEUASFBFX0NCX1ZFUlNJT05fQ09NUExFVEUASFBFX0NCX1VSTF9DT01QTEVURQBIUEVfQ0JfQ0hVTktfQ09NUExFVEUASFBFX0NCX0hFQURFUl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fTkFNRV9DT01QTEVURQBIUEVfQ0JfTUVTU0FHRV9DT01QTEVURQBIUEVfQ0JfTUVUSE9EX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfRklFTERfQ09NUExFVEUAREVMRVRFAEhQRV9JTlZBTElEX0VPRl9TVEFURQBJTlZBTElEX1NTTF9DRVJUSUZJQ0FURQBQQVVTRQBOT19SRVNQT05TRQBVTlNVUFBPUlRFRF9NRURJQV9UWVBFAEdPTkUATk9UX0FDQ0VQVEFCTEUAU0VSVklDRV9VTkFWQUlMQUJMRQBSQU5HRV9OT1RfU0FUSVNGSUFCTEUAT1JJR0lOX0lTX1VOUkVBQ0hBQkxFAFJFU1BPTlNFX0lTX1NUQUxFAFBVUkdFAE1FUkdFAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0UAUkVRVUVTVF9IRUFERVJfVE9PX0xBUkdFAFBBWUxPQURfVE9PX0xBUkdFAElOU1VGRklDSUVOVF9TVE9SQUdFAEhQRV9QQVVTRURfVVBHUkFERQBIUEVfUEFVU0VEX0gyX1VQR1JBREUAU09VUkNFAEFOTk9VTkNFAFRSQUNFAEhQRV9VTkVYUEVDVEVEX1NQQUNFAERFU0NSSUJFAFVOU1VCU0NSSUJFAFJFQ09SRABIUEVfSU5WQUxJRF9NRVRIT0QATk9UX0ZPVU5EAFBST1BGSU5EAFVOQklORABSRUJJTkQAVU5BVVRIT1JJWkVEAE1FVEhPRF9OT1RfQUxMT1dFRABIVFRQX1ZFUlNJT05fTk9UX1NVUFBPUlRFRABBTFJFQURZX1JFUE9SVEVEAEFDQ0VQVEVEAE5PVF9JTVBMRU1FTlRFRABMT09QX0RFVEVDVEVEAEhQRV9DUl9FWFBFQ1RFRABIUEVfTEZfRVhQRUNURUQAQ1JFQVRFRABJTV9VU0VEAEhQRV9QQVVTRUQAVElNRU9VVF9PQ0NVUkVEAFBBWU1FTlRfUkVRVUlSRUQAUFJFQ09ORElUSU9OX1JFUVVJUkVEAFBST1hZX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAE5FVFdPUktfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATEVOR1RIX1JFUVVJUkVEAFNTTF9DRVJUSUZJQ0FURV9SRVFVSVJFRABVUEdSQURFX1JFUVVJUkVEAFBBR0VfRVhQSVJFRABQUkVDT05ESVRJT05fRkFJTEVEAEVYUEVDVEFUSU9OX0ZBSUxFRABSRVZBTElEQVRJT05fRkFJTEVEAFNTTF9IQU5EU0hBS0VfRkFJTEVEAExPQ0tFRABUUkFOU0ZPUk1BVElPTl9BUFBMSUVEAE5PVF9NT0RJRklFRABOT1RfRVhURU5ERUQAQkFORFdJRFRIX0xJTUlUX0VYQ0VFREVEAFNJVEVfSVNfT1ZFUkxPQURFRABIRUFEAEV4cGVjdGVkIEhUVFAvAABeEwAAJhMAADAQAADwFwAAnRMAABUSAAA5FwAA8BIAAAoQAAB1EgAArRIAAIITAABPFAAAfxAAAKAVAAAjFAAAiRIAAIsUAABNFQAA1BEAAM8UAAAQGAAAyRYAANwWAADBEQAA4BcAALsUAAB0FAAAfBUAAOUUAAAIFwAAHxAAAGUVAACjFAAAKBUAAAIVAACZFQAALBAAAIsZAABPDwAA1A4AAGoQAADOEAAAAhcAAIkOAABuEwAAHBMAAGYUAABWFwAAwRMAAM0TAABsEwAAaBcAAGYXAABfFwAAIhMAAM4PAABpDgAA2A4AAGMWAADLEwAAqg4AACgXAAAmFwAAxRMAAF0WAADoEQAAZxMAAGUTAADyFgAAcxMAAB0XAAD5FgAA8xEAAM8OAADOFQAADBIAALMRAAClEQAAYRAAADIXAAC7EwBB+TULAQEAQZA2C+ABAQECAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQf03CwEBAEGROAteAgMCAgICAgAAAgIAAgIAAgICAgICAgICAgAEAAAAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAAIAAgBB/TkLAQEAQZE6C14CAAICAgICAAACAgACAgACAgICAgICAgICAAMABAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAEHwOwsNbG9zZWVlcC1hbGl2ZQBBiTwLAQEAQaA8C+ABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQYk+CwEBAEGgPgvnAQEBAQEBAQEBAQEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBY2h1bmtlZABBsMAAC18BAQABAQEBAQAAAQEAAQEAAQEBAQEBAQEBAQAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQBBkMIACyFlY3Rpb25lbnQtbGVuZ3Rob25yb3h5LWNvbm5lY3Rpb24AQcDCAAstcmFuc2Zlci1lbmNvZGluZ3BncmFkZQ0KDQoNClNNDQoNClRUUC9DRS9UU1AvAEH5wgALBQECAAEDAEGQwwAL4AEEAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+cQACwUBAgABAwBBkMUAC+ABBAEBBQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQfnGAAsEAQAAAQBBkccAC98BAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+sgACwQBAAACAEGQyQALXwMEAAAEBAQEBAQEBAQEBAUEBAQEBAQEBAQEBAQABAAGBwQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEAEH6ygALBAEAAAEAQZDLAAsBAQBBqssAC0ECAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBB+swACwQBAAABAEGQzQALAQEAQZrNAAsGAgAAAAACAEGxzQALOgMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAQfDOAAuWAU5PVU5DRUVDS09VVE5FQ1RFVEVDUklCRUxVU0hFVEVBRFNFQVJDSFJHRUNUSVZJVFlMRU5EQVJWRU9USUZZUFRJT05TQ0hTRUFZU1RBVENIR0VPUkRJUkVDVE9SVFJDSFBBUkFNRVRFUlVSQ0VCU0NSSUJFQVJET1dOQUNFSU5ETktDS1VCU0NSSUJFSFRUUC9BRFRQLw==","base64")});var JT=V((rFr,m8e)=>{"use strict";d();var s8e=["GET","HEAD","POST"],Dft=new Set(s8e),Pft=[101,204,205,304],a8e=[301,302,303,307,308],Nft=new Set(a8e),l8e=["1","7","9","11","13","15","17","19","20","21","22","23","25","37","42","43","53","69","77","79","87","95","101","102","103","104","109","110","111","113","115","117","119","123","135","137","139","143","161","179","389","427","465","512","513","514","515","526","530","531","532","540","548","554","556","563","587","601","636","989","990","993","995","1719","1720","1723","2049","3659","4045","4190","5060","5061","6000","6566","6665","6666","6667","6668","6669","6679","6697","10080"],Fft=new Set(l8e),c8e=["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"],Lft=new Set(c8e),Qft=["follow","manual","error"],u8e=["GET","HEAD","OPTIONS","TRACE"],Mft=new Set(u8e),Oft=["navigate","same-origin","no-cors","cors"],Uft=["omit","same-origin","include"],qft=["default","no-store","reload","no-cache","force-cache","only-if-cached"],Gft=["content-encoding","content-language","content-location","content-type","content-length"],Wft=["half"],f8e=["CONNECT","TRACE","TRACK"],Hft=new Set(f8e),d8e=["audio","audioworklet","font","image","manifest","paintworklet","script","style","track","video","xslt",""],Vft=new Set(d8e);m8e.exports={subresource:d8e,forbiddenMethods:f8e,requestBodyHeader:Gft,referrerPolicy:c8e,requestRedirect:Qft,requestMode:Oft,requestCredentials:Uft,requestCache:qft,redirectStatus:a8e,corsSafeListedMethods:s8e,nullBodyStatus:Pft,safeMethods:u8e,badPorts:l8e,requestDuplex:Wft,subresourceSet:Vft,badPortsSet:Fft,redirectStatusSet:Nft,corsSafeListedMethodsSet:Dft,safeMethodsSet:Mft,forbiddenMethodsSet:Hft,referrerPolicySet:Lft}});var Ate=V((iFr,h8e)=>{"use strict";d();var gte=Symbol.for("undici.globalOrigin.1");function jft(){return globalThis[gte]}o(jft,"getGlobalOrigin");function $ft(e){if(e===void 0){Object.defineProperty(globalThis,gte,{value:void 0,writable:!0,enumerable:!1,configurable:!1});return}let t=new URL(e);if(t.protocol!=="http:"&&t.protocol!=="https:")throw new TypeError(`Only http & https urls are allowed, received ${t.protocol}`);Object.defineProperty(globalThis,gte,{value:t,writable:!0,enumerable:!1,configurable:!1})}o($ft,"setGlobalOrigin");h8e.exports={getGlobalOrigin:jft,setGlobalOrigin:$ft}});var Nc=V((aFr,x8e)=>{"use strict";d();var JQ=require("node:assert"),zft=new TextEncoder,XT=/^[!#$%&'*+\-.^_|~A-Za-z0-9]+$/,Yft=/[\u000A\u000D\u0009\u0020]/,Kft=/[\u0009\u000A\u000C\u000D\u0020]/g,Jft=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function Xft(e){JQ(e.protocol==="data:");let t=A8e(e,!0);t=t.slice(5);let r={position:0},n=gI(",",t,r),i=n.length;if(n=idt(n,!0,!0),r.position>=t.length)return"failure";r.position++;let s=t.slice(i+1),a=y8e(s);if(/;(\u0020){0,}base64$/i.test(n)){let c=E8e(a);if(a=edt(c),a==="failure")return"failure";n=n.slice(0,-6),n=n.replace(/(\u0020)+$/,""),n=n.slice(0,-1)}n.startsWith(";")&&(n="text/plain"+n);let l=yte(n);return l==="failure"&&(l=yte("text/plain;charset=US-ASCII")),{mimeType:l,body:a}}o(Xft,"dataURLProcessor");function A8e(e,t=!1){if(!t)return e.href;let r=e.href,n=e.hash.length,i=n===0?r:r.substring(0,r.length-n);return!n&&r.endsWith("#")?i.slice(0,-1):i}o(A8e,"URLSerializer");function XQ(e,t,r){let n="";for(;r.position<t.length&&e(t[r.position]);)n+=t[r.position],r.position++;return n}o(XQ,"collectASequenceOfCodePoints");function gI(e,t,r){let n=t.indexOf(e,r.position),i=r.position;return n===-1?(r.position=t.length,t.slice(i)):(r.position=n,t.slice(i,r.position))}o(gI,"collectASequenceOfCodePointsFast");function y8e(e){let t=zft.encode(e);return Zft(t)}o(y8e,"stringPercentDecode");function p8e(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}o(p8e,"isHexCharByte");function g8e(e){return e>=48&&e<=57?e-48:(e&223)-55}o(g8e,"hexByteToNumber");function Zft(e){let t=e.length,r=new Uint8Array(t),n=0;for(let i=0;i<t;++i){let s=e[i];s!==37?r[n++]=s:s===37&&!(p8e(e[i+1])&&p8e(e[i+2]))?r[n++]=37:(r[n++]=g8e(e[i+1])<<4|g8e(e[i+2]),i+=2)}return t===n?r:r.subarray(0,n)}o(Zft,"percentDecode");function yte(e){e=KQ(e,!0,!0);let t={position:0},r=gI("/",e,t);if(r.length===0||!XT.test(r)||t.position>e.length)return"failure";t.position++;let n=gI(";",e,t);if(n=KQ(n,!1,!0),n.length===0||!XT.test(n))return"failure";let i=r.toLowerCase(),s=n.toLowerCase(),a={type:i,subtype:s,parameters:new Map,essence:`${i}/${s}`};for(;t.position<e.length;){t.position++,XQ(u=>Yft.test(u),e,t);let l=XQ(u=>u!==";"&&u!=="=",e,t);if(l=l.toLowerCase(),t.position<e.length){if(e[t.position]===";")continue;t.position++}if(t.position>e.length)break;let c=null;if(e[t.position]==='"')c=C8e(e,t,!0),gI(";",e,t);else if(c=gI(";",e,t),c=KQ(c,!1,!0),c.length===0)continue;l.length!==0&&XT.test(l)&&(c.length===0||Jft.test(c))&&!a.parameters.has(l)&&a.parameters.set(l,c)}return a}o(yte,"parseMIMEType");function edt(e){e=e.replace(Kft,"");let t=e.length;if(t%4===0&&e.charCodeAt(t-1)===61&&(--t,e.charCodeAt(t-1)===61&&--t),t%4===1||/[^+/0-9A-Za-z]/.test(e.length===t?e:e.substring(0,t)))return"failure";let r=Buffer.from(e,"base64");return new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}o(edt,"forgivingBase64");function C8e(e,t,r){let n=t.position,i="";for(JQ(e[t.position]==='"'),t.position++;i+=XQ(a=>a!=='"'&&a!=="\\",e,t),!(t.position>=e.length);){let s=e[t.position];if(t.position++,s==="\\"){if(t.position>=e.length){i+="\\";break}i+=e[t.position],t.position++}else{JQ(s==='"');break}}return r?i:e.slice(n,t.position)}o(C8e,"collectAnHTTPQuotedString");function tdt(e){JQ(e!=="failure");let{parameters:t,essence:r}=e,n=r;for(let[i,s]of t.entries())n+=";",n+=i,n+="=",XT.test(s)||(s=s.replace(/(\\|")/g,"\\$1"),s='"'+s,s+='"'),n+=s;return n}o(tdt,"serializeAMimeType");function rdt(e){return e===13||e===10||e===9||e===32}o(rdt,"isHTTPWhiteSpace");function KQ(e,t=!0,r=!0){return Cte(e,t,r,rdt)}o(KQ,"removeHTTPWhitespace");function ndt(e){return e===13||e===10||e===9||e===12||e===32}o(ndt,"isASCIIWhitespace");function idt(e,t=!0,r=!0){return Cte(e,t,r,ndt)}o(idt,"removeASCIIWhitespace");function Cte(e,t,r,n){let i=0,s=e.length-1;if(t)for(;i<e.length&&n(e.charCodeAt(i));)i++;if(r)for(;s>0&&n(e.charCodeAt(s));)s--;return i===0&&s===e.length-1?e:e.slice(i,s+1)}o(Cte,"removeChars");function E8e(e){let t=e.length;if(65535>t)return String.fromCharCode.apply(null,e);let r="",n=0,i=65535;for(;n<t;)n+i>t&&(i=t-n),r+=String.fromCharCode.apply(null,e.subarray(n,n+=i));return r}o(E8e,"isomorphicDecode");function odt(e){switch(e.essence){case"application/ecmascript":case"application/javascript":case"application/x-ecmascript":case"application/x-javascript":case"text/ecmascript":case"text/javascript":case"text/javascript1.0":case"text/javascript1.1":case"text/javascript1.2":case"text/javascript1.3":case"text/javascript1.4":case"text/javascript1.5":case"text/jscript":case"text/livescript":case"text/x-ecmascript":case"text/x-javascript":return"text/javascript";case"application/json":case"text/json":return"application/json";case"image/svg+xml":return"image/svg+xml";case"text/xml":case"application/xml":return"application/xml"}return e.subtype.endsWith("+json")?"application/json":e.subtype.endsWith("+xml")?"application/xml":""}o(odt,"minimizeSupportedMimeType");x8e.exports={dataURLProcessor:Xft,URLSerializer:A8e,collectASequenceOfCodePoints:XQ,collectASequenceOfCodePointsFast:gI,stringPercentDecode:y8e,parseMIMEType:yte,collectAnHTTPQuotedString:C8e,serializeAMimeType:tdt,removeChars:Cte,removeHTTPWhitespace:KQ,minimizeSupportedMimeType:odt,HTTP_TOKEN_CODEPOINTS:XT,isomorphicDecode:E8e}});var Hl=V((uFr,v8e)=>{"use strict";d();var{types:Cp,inspect:sdt}=require("node:util"),{markAsUncloneable:adt}=require("node:worker_threads"),{toUSVString:ldt}=ci(),Wt={};Wt.converters={};Wt.util={};Wt.errors={};Wt.errors.exception=function(e){return new TypeError(`${e.header}: ${e.message}`)};Wt.errors.conversionFailed=function(e){let t=e.types.length===1?"":" one of",r=`${e.argument} could not be converted to${t}: ${e.types.join(", ")}.`;return Wt.errors.exception({header:e.prefix,message:r})};Wt.errors.invalidArgument=function(e){return Wt.errors.exception({header:e.prefix,message:`"${e.value}" is an invalid ${e.type}.`})};Wt.brandCheck=function(e,t,r){if(r?.strict!==!1){if(!(e instanceof t)){let n=new TypeError("Illegal invocation");throw n.code="ERR_INVALID_THIS",n}}else if(e?.[Symbol.toStringTag]!==t.prototype[Symbol.toStringTag]){let n=new TypeError("Illegal invocation");throw n.code="ERR_INVALID_THIS",n}};Wt.argumentLengthCheck=function({length:e},t,r){if(e<t)throw Wt.errors.exception({message:`${t} argument${t!==1?"s":""} required, but${e?" only":""} ${e} found.`,header:r})};Wt.illegalConstructor=function(){throw Wt.errors.exception({header:"TypeError",message:"Illegal constructor"})};Wt.util.Type=function(e){switch(typeof e){case"undefined":return"Undefined";case"boolean":return"Boolean";case"string":return"String";case"symbol":return"Symbol";case"number":return"Number";case"bigint":return"BigInt";case"function":case"object":return e===null?"Null":"Object"}};Wt.util.markAsUncloneable=adt||(()=>{});Wt.util.ConvertToInt=function(e,t,r,n){let i,s;t===64?(i=Math.pow(2,53)-1,r==="unsigned"?s=0:s=Math.pow(-2,53)+1):r==="unsigned"?(s=0,i=Math.pow(2,t)-1):(s=Math.pow(-2,t)-1,i=Math.pow(2,t-1)-1);let a=Number(e);if(a===0&&(a=0),n?.enforceRange===!0){if(Number.isNaN(a)||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)throw Wt.errors.exception({header:"Integer conversion",message:`Could not convert ${Wt.util.Stringify(e)} to an integer.`});if(a=Wt.util.IntegerPart(a),a<s||a>i)throw Wt.errors.exception({header:"Integer conversion",message:`Value must be between ${s}-${i}, got ${a}.`});return a}return!Number.isNaN(a)&&n?.clamp===!0?(a=Math.min(Math.max(a,s),i),Math.floor(a)%2===0?a=Math.floor(a):a=Math.ceil(a),a):Number.isNaN(a)||a===0&&Object.is(0,a)||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY?0:(a=Wt.util.IntegerPart(a),a=a%Math.pow(2,t),r==="signed"&&a>=Math.pow(2,t)-1?a-Math.pow(2,t):a)};Wt.util.IntegerPart=function(e){let t=Math.floor(Math.abs(e));return e<0?-1*t:t};Wt.util.Stringify=function(e){switch(Wt.util.Type(e)){case"Symbol":return`Symbol(${e.description})`;case"Object":return sdt(e);case"String":return`"${e}"`;default:return`${e}`}};Wt.sequenceConverter=function(e){return(t,r,n,i)=>{if(Wt.util.Type(t)!=="Object")throw Wt.errors.exception({header:r,message:`${n} (${Wt.util.Stringify(t)}) is not iterable.`});let s=typeof i=="function"?i():t?.[Symbol.iterator]?.(),a=[],l=0;if(s===void 0||typeof s.next!="function")throw Wt.errors.exception({header:r,message:`${n} is not iterable.`});for(;;){let{done:c,value:u}=s.next();if(c)break;a.push(e(u,r,`${n}[${l++}]`))}return a}};Wt.recordConverter=function(e,t){return(r,n,i)=>{if(Wt.util.Type(r)!=="Object")throw Wt.errors.exception({header:n,message:`${i} ("${Wt.util.Type(r)}") is not an Object.`});let s={};if(!Cp.isProxy(r)){let l=[...Object.getOwnPropertyNames(r),...Object.getOwnPropertySymbols(r)];for(let c of l){let u=e(c,n,i),f=t(r[c],n,i);s[u]=f}return s}let a=Reflect.ownKeys(r);for(let l of a)if(Reflect.getOwnPropertyDescriptor(r,l)?.enumerable){let u=e(l,n,i),f=t(r[l],n,i);s[u]=f}return s}};Wt.interfaceConverter=function(e){return(t,r,n,i)=>{if(i?.strict!==!1&&!(t instanceof e))throw Wt.errors.exception({header:r,message:`Expected ${n} ("${Wt.util.Stringify(t)}") to be an instance of ${e.name}.`});return t}};Wt.dictionaryConverter=function(e){return(t,r,n)=>{let i=Wt.util.Type(t),s={};if(i==="Null"||i==="Undefined")return s;if(i!=="Object")throw Wt.errors.exception({header:r,message:`Expected ${t} to be one of: Null, Undefined, Object.`});for(let a of e){let{key:l,defaultValue:c,required:u,converter:f}=a;if(u===!0&&!Object.hasOwn(t,l))throw Wt.errors.exception({header:r,message:`Missing required key "${l}".`});let m=t[l],h=Object.hasOwn(a,"defaultValue");if(h&&m!==null&&(m??=c()),u||h||m!==void 0){if(m=f(m,r,`${n}.${l}`),a.allowedValues&&!a.allowedValues.includes(m))throw Wt.errors.exception({header:r,message:`${m} is not an accepted type. Expected one of ${a.allowedValues.join(", ")}.`});s[l]=m}}return s}};Wt.nullableConverter=function(e){return(t,r,n)=>t===null?t:e(t,r,n)};Wt.converters.DOMString=function(e,t,r,n){if(e===null&&n?.legacyNullToEmptyString)return"";if(typeof e=="symbol")throw Wt.errors.exception({header:t,message:`${r} is a symbol, which cannot be converted to a DOMString.`});return String(e)};Wt.converters.ByteString=function(e,t,r){let n=Wt.converters.DOMString(e,t,r);for(let i=0;i<n.length;i++)if(n.charCodeAt(i)>255)throw new TypeError(`Cannot convert argument to a ByteString because the character at index ${i} has a value of ${n.charCodeAt(i)} which is greater than 255.`);return n};Wt.converters.USVString=ldt;Wt.converters.boolean=function(e){return!!e};Wt.converters.any=function(e){return e};Wt.converters["long long"]=function(e,t,r){return Wt.util.ConvertToInt(e,64,"signed",void 0,t,r)};Wt.converters["unsigned long long"]=function(e,t,r){return Wt.util.ConvertToInt(e,64,"unsigned",void 0,t,r)};Wt.converters["unsigned long"]=function(e,t,r){return Wt.util.ConvertToInt(e,32,"unsigned",void 0,t,r)};Wt.converters["unsigned short"]=function(e,t,r,n){return Wt.util.ConvertToInt(e,16,"unsigned",n,t,r)};Wt.converters.ArrayBuffer=function(e,t,r,n){if(Wt.util.Type(e)!=="Object"||!Cp.isAnyArrayBuffer(e))throw Wt.errors.conversionFailed({prefix:t,argument:`${r} ("${Wt.util.Stringify(e)}")`,types:["ArrayBuffer"]});if(n?.allowShared===!1&&Cp.isSharedArrayBuffer(e))throw Wt.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(e.resizable||e.growable)throw Wt.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return e};Wt.converters.TypedArray=function(e,t,r,n,i){if(Wt.util.Type(e)!=="Object"||!Cp.isTypedArray(e)||e.constructor.name!==t.name)throw Wt.errors.conversionFailed({prefix:r,argument:`${n} ("${Wt.util.Stringify(e)}")`,types:[t.name]});if(i?.allowShared===!1&&Cp.isSharedArrayBuffer(e.buffer))throw Wt.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(e.buffer.resizable||e.buffer.growable)throw Wt.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return e};Wt.converters.DataView=function(e,t,r,n){if(Wt.util.Type(e)!=="Object"||!Cp.isDataView(e))throw Wt.errors.exception({header:t,message:`${r} is not a DataView.`});if(n?.allowShared===!1&&Cp.isSharedArrayBuffer(e.buffer))throw Wt.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(e.buffer.resizable||e.buffer.growable)throw Wt.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return e};Wt.converters.BufferSource=function(e,t,r,n){if(Cp.isAnyArrayBuffer(e))return Wt.converters.ArrayBuffer(e,t,r,{...n,allowShared:!1});if(Cp.isTypedArray(e))return Wt.converters.TypedArray(e,e.constructor,t,r,{...n,allowShared:!1});if(Cp.isDataView(e))return Wt.converters.DataView(e,t,r,{...n,allowShared:!1});throw Wt.errors.conversionFailed({prefix:t,argument:`${r} ("${Wt.util.Stringify(e)}")`,types:["BufferSource"]})};Wt.converters["sequence<ByteString>"]=Wt.sequenceConverter(Wt.converters.ByteString);Wt.converters["sequence<sequence<ByteString>>"]=Wt.sequenceConverter(Wt.converters["sequence<ByteString>"]);Wt.converters["record<ByteString, ByteString>"]=Wt.recordConverter(Wt.converters.ByteString,Wt.converters.ByteString);v8e.exports={webidl:Wt}});var Mu=V((dFr,L8e)=>{"use strict";d();var{Transform:cdt}=require("node:stream"),b8e=require("node:zlib"),{redirectStatusSet:udt,referrerPolicySet:fdt,badPortsSet:ddt}=JT(),{getGlobalOrigin:I8e}=Ate(),{collectASequenceOfCodePoints:h4,collectAnHTTPQuotedString:mdt,removeChars:hdt,parseMIMEType:pdt}=Nc(),{performance:gdt}=require("node:perf_hooks"),{isBlobLike:Adt,ReadableStreamFrom:ydt,isValidHTTPToken:T8e,normalizedMethodRecordsBase:Cdt}=ci(),p4=require("node:assert"),{isUint8Array:Edt}=require("node:util/types"),{webidl:ZT}=Hl(),w8e=[],eM;try{eM=require("node:crypto");let e=["sha256","sha384","sha512"];w8e=eM.getHashes().filter(t=>e.includes(t))}catch{}function _8e(e){let t=e.urlList,r=t.length;return r===0?null:t[r-1].toString()}o(_8e,"responseURL");function xdt(e,t){if(!udt.has(e.status))return null;let r=e.headersList.get("location",!0);return r!==null&&B8e(r)&&(S8e(r)||(r=vdt(r)),r=new URL(r,_8e(e))),r&&!r.hash&&(r.hash=t),r}o(xdt,"responseLocationURL");function S8e(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r>126||r<32)return!1}return!0}o(S8e,"isValidEncodedURL");function vdt(e){return Buffer.from(e,"binary").toString("utf8")}o(vdt,"normalizeBinaryStringToUtf8");function tw(e){return e.urlList[e.urlList.length-1]}o(tw,"requestCurrentURL");function bdt(e){let t=tw(e);return N8e(t)&&ddt.has(t.port)?"blocked":"allowed"}o(bdt,"requestBadPort");function Idt(e){return e instanceof Error||e?.constructor?.name==="Error"||e?.constructor?.name==="DOMException"}o(Idt,"isErrorLike");function Tdt(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(!(r===9||r>=32&&r<=126||r>=128&&r<=255))return!1}return!0}o(Tdt,"isValidReasonPhrase");var wdt=T8e;function B8e(e){return(e[0]==="	"||e[0]===" "||e[e.length-1]==="	"||e[e.length-1]===" "||e.includes(`
`)||e.includes("\r")||e.includes("\0"))===!1}o(B8e,"isValidHeaderValue");function _dt(e,t){let{headersList:r}=t,n=(r.get("referrer-policy",!0)??"").split(","),i="";if(n.length>0)for(let s=n.length;s!==0;s--){let a=n[s-1].trim();if(fdt.has(a)){i=a;break}}i!==""&&(e.referrerPolicy=i)}o(_dt,"setRequestReferrerPolicyOnRedirect");function Sdt(){return"allowed"}o(Sdt,"crossOriginResourcePolicyCheck");function Bdt(){return"success"}o(Bdt,"corsCheck");function kdt(){return"success"}o(kdt,"TAOCheck");function Rdt(e){let t=null;t=e.mode,e.headersList.set("sec-fetch-mode",t,!0)}o(Rdt,"appendFetchMetadata");function Ddt(e){let t=e.origin;if(!(t==="client"||t===void 0)){if(e.responseTainting==="cors"||e.mode==="websocket")e.headersList.append("origin",t,!0);else if(e.method!=="GET"&&e.method!=="HEAD"){switch(e.referrerPolicy){case"no-referrer":t=null;break;case"no-referrer-when-downgrade":case"strict-origin":case"strict-origin-when-cross-origin":e.origin&&xte(e.origin)&&!xte(tw(e))&&(t=null);break;case"same-origin":tM(e,tw(e))||(t=null);break;default:}e.headersList.append("origin",t,!0)}}}o(Ddt,"appendRequestOriginHeader");function AI(e,t){return e}o(AI,"coarsenTime");function Pdt(e,t,r){return!e?.startTime||e.startTime<t?{domainLookupStartTime:t,domainLookupEndTime:t,connectionStartTime:t,connectionEndTime:t,secureConnectionStartTime:t,ALPNNegotiatedProtocol:e?.ALPNNegotiatedProtocol}:{domainLookupStartTime:AI(e.domainLookupStartTime,r),domainLookupEndTime:AI(e.domainLookupEndTime,r),connectionStartTime:AI(e.connectionStartTime,r),connectionEndTime:AI(e.connectionEndTime,r),secureConnectionStartTime:AI(e.secureConnectionStartTime,r),ALPNNegotiatedProtocol:e.ALPNNegotiatedProtocol}}o(Pdt,"clampAndCoarsenConnectionTimingInfo");function Ndt(e){return AI(gdt.now(),e)}o(Ndt,"coarsenedSharedCurrentTime");function Fdt(e){return{startTime:e.startTime??0,redirectStartTime:0,redirectEndTime:0,postRedirectStartTime:e.startTime??0,finalServiceWorkerStartTime:0,finalNetworkResponseStartTime:0,finalNetworkRequestStartTime:0,endTime:0,encodedBodySize:0,decodedBodySize:0,finalConnectionTimingInfo:null}}o(Fdt,"createOpaqueTimingInfo");function k8e(){return{referrerPolicy:"strict-origin-when-cross-origin"}}o(k8e,"makePolicyContainer");function Ldt(e){return{referrerPolicy:e.referrerPolicy}}o(Ldt,"clonePolicyContainer");function Qdt(e){let t=e.referrerPolicy;p4(t);let r=null;if(e.referrer==="client"){let l=I8e();if(!l||l.origin==="null")return"no-referrer";r=new URL(l)}else e.referrer instanceof URL&&(r=e.referrer);let n=Ete(r),i=Ete(r,!0);n.toString().length>4096&&(n=i);let s=tM(e,n),a=ew(n)&&!ew(e.url);switch(t){case"origin":return i??Ete(r,!0);case"unsafe-url":return n;case"same-origin":return s?i:"no-referrer";case"origin-when-cross-origin":return s?n:i;case"strict-origin-when-cross-origin":{let l=tw(e);return tM(n,l)?n:ew(n)&&!ew(l)?"no-referrer":i}case"strict-origin":case"no-referrer-when-downgrade":default:return a?"no-referrer":i}}o(Qdt,"determineRequestsReferrer");function Ete(e,t){return p4(e instanceof URL),e=new URL(e),e.protocol==="file:"||e.protocol==="about:"||e.protocol==="blank:"?"no-referrer":(e.username="",e.password="",e.hash="",t&&(e.pathname="",e.search=""),e)}o(Ete,"stripURLForReferrer");function ew(e){if(!(e instanceof URL))return!1;if(e.href==="about:blank"||e.href==="about:srcdoc"||e.protocol==="data:"||e.protocol==="file:")return!0;return t(e.origin);function t(r){if(r==null||r==="null")return!1;let n=new URL(r);return!!(n.protocol==="https:"||n.protocol==="wss:"||/^127(?:\.[0-9]+){0,2}\.[0-9]+$|^\[(?:0*:)*?:?0*1\]$/.test(n.hostname)||n.hostname==="localhost"||n.hostname.includes("localhost.")||n.hostname.endsWith(".localhost"))}}o(ew,"isURLPotentiallyTrustworthy");function Mdt(e,t){if(eM===void 0)return!0;let r=R8e(t);if(r==="no metadata"||r.length===0)return!0;let n=Udt(r),i=qdt(r,n);for(let s of i){let a=s.algo,l=s.hash,c=eM.createHash(a).update(e).digest("base64");if(c[c.length-1]==="="&&(c[c.length-2]==="="?c=c.slice(0,-2):c=c.slice(0,-1)),Gdt(c,l))return!0}return!1}o(Mdt,"bytesMatch");var Odt=/(?<algo>sha256|sha384|sha512)-((?<hash>[A-Za-z0-9+/]+|[A-Za-z0-9_-]+)={0,2}(?:\s|$)( +[!-~]*)?)?/i;function R8e(e){let t=[],r=!0;for(let n of e.split(" ")){r=!1;let i=Odt.exec(n);if(i===null||i.groups===void 0||i.groups.algo===void 0)continue;let s=i.groups.algo.toLowerCase();w8e.includes(s)&&t.push(i.groups)}return r===!0?"no metadata":t}o(R8e,"parseMetadata");function Udt(e){let t=e[0].algo;if(t[3]==="5")return t;for(let r=1;r<e.length;++r){let n=e[r];if(n.algo[3]==="5"){t="sha512";break}else{if(t[3]==="3")continue;n.algo[3]==="3"&&(t="sha384")}}return t}o(Udt,"getStrongestMetadata");function qdt(e,t){if(e.length===1)return e;let r=0;for(let n=0;n<e.length;++n)e[n].algo===t&&(e[r++]=e[n]);return e.length=r,e}o(qdt,"filterMetadataListByAlgorithm");function Gdt(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r]){if(e[r]==="+"&&t[r]==="-"||e[r]==="/"&&t[r]==="_")continue;return!1}return!0}o(Gdt,"compareBase64Mixed");function Wdt(e){}o(Wdt,"tryUpgradeRequestToAPotentiallyTrustworthyURL");function tM(e,t){return e.origin===t.origin&&e.origin==="null"||e.protocol===t.protocol&&e.hostname===t.hostname&&e.port===t.port}o(tM,"sameOrigin");function Hdt(){let e,t;return{promise:new Promise((n,i)=>{e=n,t=i}),resolve:e,reject:t}}o(Hdt,"createDeferredPromise");function Vdt(e){return e.controller.state==="aborted"}o(Vdt,"isAborted");function jdt(e){return e.controller.state==="aborted"||e.controller.state==="terminated"}o(jdt,"isCancelled");function $dt(e){return Cdt[e.toLowerCase()]??e}o($dt,"normalizeMethod");function zdt(e){let t=JSON.stringify(e);if(t===void 0)throw new TypeError("Value is not JSON serializable");return p4(typeof t=="string"),t}o(zdt,"serializeJavascriptValueToJSONString");var Ydt=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));function D8e(e,t,r=0,n=1){class i{static{o(this,"FastIterableIterator")}#e;#t;#i;constructor(a,l){this.#e=a,this.#t=l,this.#i=0}next(){if(typeof this!="object"||this===null||!(#e in this))throw new TypeError(`'next' called on an object that does not implement interface ${e} Iterator.`);let a=this.#i,l=this.#e[t],c=l.length;if(a>=c)return{value:void 0,done:!0};let{[r]:u,[n]:f}=l[a];this.#i=a+1;let m;switch(this.#t){case"key":m=u;break;case"value":m=f;break;case"key+value":m=[u,f];break}return{value:m,done:!1}}}return delete i.prototype.constructor,Object.setPrototypeOf(i.prototype,Ydt),Object.defineProperties(i.prototype,{[Symbol.toStringTag]:{writable:!1,enumerable:!1,configurable:!0,value:`${e} Iterator`},next:{writable:!0,enumerable:!0,configurable:!0}}),function(s,a){return new i(s,a)}}o(D8e,"createIterator");function Kdt(e,t,r,n=0,i=1){let s=D8e(e,r,n,i),a={keys:{writable:!0,enumerable:!0,configurable:!0,value:o(function(){return ZT.brandCheck(this,t),s(this,"key")},"keys")},values:{writable:!0,enumerable:!0,configurable:!0,value:o(function(){return ZT.brandCheck(this,t),s(this,"value")},"values")},entries:{writable:!0,enumerable:!0,configurable:!0,value:o(function(){return ZT.brandCheck(this,t),s(this,"key+value")},"entries")},forEach:{writable:!0,enumerable:!0,configurable:!0,value:o(function(c,u=globalThis){if(ZT.brandCheck(this,t),ZT.argumentLengthCheck(arguments,1,`${e}.forEach`),typeof c!="function")throw new TypeError(`Failed to execute 'forEach' on '${e}': parameter 1 is not of type 'Function'.`);for(let{0:f,1:m}of s(this,"key+value"))c.call(u,m,f,this)},"forEach")}};return Object.defineProperties(t.prototype,{...a,[Symbol.iterator]:{writable:!0,enumerable:!1,configurable:!0,value:a.entries.value}})}o(Kdt,"iteratorMixin");async function Jdt(e,t,r){let n=t,i=r,s;try{s=e.stream.getReader()}catch(a){i(a);return}try{n(await P8e(s))}catch(a){i(a)}}o(Jdt,"fullyReadBody");function Xdt(e){return e instanceof ReadableStream||e[Symbol.toStringTag]==="ReadableStream"&&typeof e.tee=="function"}o(Xdt,"isReadableStreamLike");function Zdt(e){try{e.close(),e.byobRequest?.respond(0)}catch(t){if(!t.message.includes("Controller is already closed")&&!t.message.includes("ReadableStream is already closed"))throw t}}o(Zdt,"readableStreamClose");var emt=/[^\x00-\xFF]/;function ZQ(e){return p4(!emt.test(e)),e}o(ZQ,"isomorphicEncode");async function P8e(e){let t=[],r=0;for(;;){let{done:n,value:i}=await e.read();if(n)return Buffer.concat(t,r);if(!Edt(i))throw new TypeError("Received non-Uint8Array chunk");t.push(i),r+=i.length}}o(P8e,"readAllBytes");function tmt(e){p4("protocol"in e);let t=e.protocol;return t==="about:"||t==="blob:"||t==="data:"}o(tmt,"urlIsLocal");function xte(e){return typeof e=="string"&&e[5]===":"&&e[0]==="h"&&e[1]==="t"&&e[2]==="t"&&e[3]==="p"&&e[4]==="s"||e.protocol==="https:"}o(xte,"urlHasHttpsScheme");function N8e(e){p4("protocol"in e);let t=e.protocol;return t==="http:"||t==="https:"}o(N8e,"urlIsHttpHttpsScheme");function rmt(e,t){let r=e;if(!r.startsWith("bytes"))return"failure";let n={position:5};if(t&&h4(c=>c==="	"||c===" ",r,n),r.charCodeAt(n.position)!==61)return"failure";n.position++,t&&h4(c=>c==="	"||c===" ",r,n);let i=h4(c=>{let u=c.charCodeAt(0);return u>=48&&u<=57},r,n),s=i.length?Number(i):null;if(t&&h4(c=>c==="	"||c===" ",r,n),r.charCodeAt(n.position)!==45)return"failure";n.position++,t&&h4(c=>c==="	"||c===" ",r,n);let a=h4(c=>{let u=c.charCodeAt(0);return u>=48&&u<=57},r,n),l=a.length?Number(a):null;return n.position<r.length||l===null&&s===null||s>l?"failure":{rangeStartValue:s,rangeEndValue:l}}o(rmt,"simpleRangeHeaderValue");function nmt(e,t,r){let n="bytes ";return n+=ZQ(`${e}`),n+="-",n+=ZQ(`${t}`),n+="/",n+=ZQ(`${r}`),n}o(nmt,"buildContentRange");var vte=class extends cdt{static{o(this,"InflateStream")}#e;constructor(t){super(),this.#e=t}_transform(t,r,n){if(!this._inflateStream){if(t.length===0){n();return}this._inflateStream=(t[0]&15)===8?b8e.createInflate(this.#e):b8e.createInflateRaw(this.#e),this._inflateStream.on("data",this.push.bind(this)),this._inflateStream.on("end",()=>this.push(null)),this._inflateStream.on("error",i=>this.destroy(i))}this._inflateStream.write(t,r,n)}_final(t){this._inflateStream&&(this._inflateStream.end(),this._inflateStream=null),t()}};function imt(e){return new vte(e)}o(imt,"createInflate");function omt(e){let t=null,r=null,n=null,i=F8e("content-type",e);if(i===null)return"failure";for(let s of i){let a=pdt(s);a==="failure"||a.essence==="*/*"||(n=a,n.essence!==r?(t=null,n.parameters.has("charset")&&(t=n.parameters.get("charset")),r=n.essence):!n.parameters.has("charset")&&t!==null&&n.parameters.set("charset",t))}return n??"failure"}o(omt,"extractMimeType");function smt(e){let t=e,r={position:0},n=[],i="";for(;r.position<t.length;){if(i+=h4(s=>s!=='"'&&s!==",",t,r),r.position<t.length)if(t.charCodeAt(r.position)===34){if(i+=mdt(t,r),r.position<t.length)continue}else p4(t.charCodeAt(r.position)===44),r.position++;i=hdt(i,!0,!0,s=>s===9||s===32),n.push(i),i=""}return n}o(smt,"gettingDecodingSplitting");function F8e(e,t){let r=t.get(e,!0);return r===null?null:smt(r)}o(F8e,"getDecodeSplit");var amt=new TextDecoder;function lmt(e){return e.length===0?"":(e[0]===239&&e[1]===187&&e[2]===191&&(e=e.subarray(3)),amt.decode(e))}o(lmt,"utf8DecodeBytes");var bte=class{static{o(this,"EnvironmentSettingsObjectBase")}get baseUrl(){return I8e()}get origin(){return this.baseUrl?.origin}policyContainer=k8e()},Ite=class{static{o(this,"EnvironmentSettingsObject")}settingsObject=new bte},cmt=new Ite;L8e.exports={isAborted:Vdt,isCancelled:jdt,isValidEncodedURL:S8e,createDeferredPromise:Hdt,ReadableStreamFrom:ydt,tryUpgradeRequestToAPotentiallyTrustworthyURL:Wdt,clampAndCoarsenConnectionTimingInfo:Pdt,coarsenedSharedCurrentTime:Ndt,determineRequestsReferrer:Qdt,makePolicyContainer:k8e,clonePolicyContainer:Ldt,appendFetchMetadata:Rdt,appendRequestOriginHeader:Ddt,TAOCheck:kdt,corsCheck:Bdt,crossOriginResourcePolicyCheck:Sdt,createOpaqueTimingInfo:Fdt,setRequestReferrerPolicyOnRedirect:_dt,isValidHTTPToken:T8e,requestBadPort:bdt,requestCurrentURL:tw,responseURL:_8e,responseLocationURL:xdt,isBlobLike:Adt,isURLPotentiallyTrustworthy:ew,isValidReasonPhrase:Tdt,sameOrigin:tM,normalizeMethod:$dt,serializeJavascriptValueToJSONString:zdt,iteratorMixin:Kdt,createIterator:D8e,isValidHeaderName:wdt,isValidHeaderValue:B8e,isErrorLike:Idt,fullyReadBody:Jdt,bytesMatch:Mdt,isReadableStreamLike:Xdt,readableStreamClose:Zdt,isomorphicEncode:ZQ,urlIsLocal:tmt,urlHasHttpsScheme:xte,urlIsHttpHttpsScheme:N8e,readAllBytes:P8e,simpleRangeHeaderValue:rmt,buildContentRange:nmt,parseMetadata:R8e,createInflate:imt,extractMimeType:omt,getDecodeSplit:F8e,utf8DecodeBytes:lmt,environmentSettingsObject:cmt}});var Q5=V((pFr,Q8e)=>{"use strict";d();Q8e.exports={kUrl:Symbol("url"),kHeaders:Symbol("headers"),kSignal:Symbol("signal"),kState:Symbol("state"),kDispatcher:Symbol("dispatcher")}});var wte=V((AFr,M8e)=>{"use strict";d();var{Blob:umt,File:fmt}=require("node:buffer"),{kState:w1}=Q5(),{webidl:Ep}=Hl(),Tte=class e{static{o(this,"FileLike")}constructor(t,r,n={}){let i=r,s=n.type,a=n.lastModified??Date.now();this[w1]={blobLike:t,name:i,type:s,lastModified:a}}stream(...t){return Ep.brandCheck(this,e),this[w1].blobLike.stream(...t)}arrayBuffer(...t){return Ep.brandCheck(this,e),this[w1].blobLike.arrayBuffer(...t)}slice(...t){return Ep.brandCheck(this,e),this[w1].blobLike.slice(...t)}text(...t){return Ep.brandCheck(this,e),this[w1].blobLike.text(...t)}get size(){return Ep.brandCheck(this,e),this[w1].blobLike.size}get type(){return Ep.brandCheck(this,e),this[w1].blobLike.type}get name(){return Ep.brandCheck(this,e),this[w1].name}get lastModified(){return Ep.brandCheck(this,e),this[w1].lastModified}get[Symbol.toStringTag](){return"File"}};Ep.converters.Blob=Ep.interfaceConverter(umt);function dmt(e){return e instanceof fmt||e&&(typeof e.stream=="function"||typeof e.arrayBuffer=="function")&&e[Symbol.toStringTag]==="File"}o(dmt,"isFileLike");M8e.exports={FileLike:Tte,isFileLike:dmt}});var nw=V((EFr,W8e)=>{"use strict";d();var{isBlobLike:rM,iteratorMixin:mmt}=Mu(),{kState:G0}=Q5(),{kEnumerableProperty:yI}=ci(),{FileLike:O8e,isFileLike:hmt}=wte(),{webidl:Mo}=Hl(),{File:G8e}=require("node:buffer"),U8e=require("node:util"),q8e=globalThis.File??G8e,rw=class e{static{o(this,"FormData")}constructor(t){if(Mo.util.markAsUncloneable(this),t!==void 0)throw Mo.errors.conversionFailed({prefix:"FormData constructor",argument:"Argument 1",types:["undefined"]});this[G0]=[]}append(t,r,n=void 0){Mo.brandCheck(this,e);let i="FormData.append";if(Mo.argumentLengthCheck(arguments,2,i),arguments.length===3&&!rM(r))throw new TypeError("Failed to execute 'append' on 'FormData': parameter 2 is not of type 'Blob'");t=Mo.converters.USVString(t,i,"name"),r=rM(r)?Mo.converters.Blob(r,i,"value",{strict:!1}):Mo.converters.USVString(r,i,"value"),n=arguments.length===3?Mo.converters.USVString(n,i,"filename"):void 0;let s=_te(t,r,n);this[G0].push(s)}delete(t){Mo.brandCheck(this,e);let r="FormData.delete";Mo.argumentLengthCheck(arguments,1,r),t=Mo.converters.USVString(t,r,"name"),this[G0]=this[G0].filter(n=>n.name!==t)}get(t){Mo.brandCheck(this,e);let r="FormData.get";Mo.argumentLengthCheck(arguments,1,r),t=Mo.converters.USVString(t,r,"name");let n=this[G0].findIndex(i=>i.name===t);return n===-1?null:this[G0][n].value}getAll(t){Mo.brandCheck(this,e);let r="FormData.getAll";return Mo.argumentLengthCheck(arguments,1,r),t=Mo.converters.USVString(t,r,"name"),this[G0].filter(n=>n.name===t).map(n=>n.value)}has(t){Mo.brandCheck(this,e);let r="FormData.has";return Mo.argumentLengthCheck(arguments,1,r),t=Mo.converters.USVString(t,r,"name"),this[G0].findIndex(n=>n.name===t)!==-1}set(t,r,n=void 0){Mo.brandCheck(this,e);let i="FormData.set";if(Mo.argumentLengthCheck(arguments,2,i),arguments.length===3&&!rM(r))throw new TypeError("Failed to execute 'set' on 'FormData': parameter 2 is not of type 'Blob'");t=Mo.converters.USVString(t,i,"name"),r=rM(r)?Mo.converters.Blob(r,i,"name",{strict:!1}):Mo.converters.USVString(r,i,"name"),n=arguments.length===3?Mo.converters.USVString(n,i,"name"):void 0;let s=_te(t,r,n),a=this[G0].findIndex(l=>l.name===t);a!==-1?this[G0]=[...this[G0].slice(0,a),s,...this[G0].slice(a+1).filter(l=>l.name!==t)]:this[G0].push(s)}[U8e.inspect.custom](t,r){let n=this[G0].reduce((s,a)=>(s[a.name]?Array.isArray(s[a.name])?s[a.name].push(a.value):s[a.name]=[s[a.name],a.value]:s[a.name]=a.value,s),{__proto__:null});r.depth??=t,r.colors??=!0;let i=U8e.formatWithOptions(r,n);return`FormData ${i.slice(i.indexOf("]")+2)}`}};mmt("FormData",rw,G0,"name","value");Object.defineProperties(rw.prototype,{append:yI,delete:yI,get:yI,getAll:yI,has:yI,set:yI,[Symbol.toStringTag]:{value:"FormData",configurable:!0}});function _te(e,t,r){if(typeof t!="string"){if(hmt(t)||(t=t instanceof Blob?new q8e([t],"blob",{type:t.type}):new O8e(t,"blob",{type:t.type})),r!==void 0){let n={type:t.type,lastModified:t.lastModified};t=t instanceof G8e?new q8e([t],r,n):new O8e(t,r,n)}}return{name:e,value:t}}o(_te,"makeEntry");W8e.exports={FormData:rw,makeEntry:_te}});var Y8e=V((bFr,z8e)=>{"use strict";d();var{isUSVString:H8e,bufferToLowerCasedHeaderName:pmt}=ci(),{utf8DecodeBytes:gmt}=Mu(),{HTTP_TOKEN_CODEPOINTS:Amt,isomorphicDecode:V8e}=Nc(),{isFileLike:ymt}=wte(),{makeEntry:Cmt}=nw(),nM=require("node:assert"),{File:Emt}=require("node:buffer"),xmt=globalThis.File??Emt,vmt=Buffer.from('form-data; name="'),j8e=Buffer.from("; filename"),bmt=Buffer.from("--"),Imt=Buffer.from(`--\r
`);function Tmt(e){for(let t=0;t<e.length;++t)if((e.charCodeAt(t)&-128)!==0)return!1;return!0}o(Tmt,"isAsciiString");function wmt(e){let t=e.length;if(t<27||t>70)return!1;for(let r=0;r<t;++r){let n=e.charCodeAt(r);if(!(n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122||n===39||n===45||n===95))return!1}return!0}o(wmt,"validateBoundary");function _mt(e,t){nM(t!=="failure"&&t.essence==="multipart/form-data");let r=t.parameters.get("boundary");if(r===void 0)return"failure";let n=Buffer.from(`--${r}`,"utf8"),i=[],s={position:0};for(;e[s.position]===13&&e[s.position+1]===10;)s.position+=2;let a=e.length;for(;e[a-1]===10&&e[a-2]===13;)a-=2;for(a!==e.length&&(e=e.subarray(0,a));;){if(e.subarray(s.position,s.position+n.length).equals(n))s.position+=n.length;else return"failure";if(s.position===e.length-2&&iM(e,bmt,s)||s.position===e.length-4&&iM(e,Imt,s))return i;if(e[s.position]!==13||e[s.position+1]!==10)return"failure";s.position+=2;let l=Smt(e,s);if(l==="failure")return"failure";let{name:c,filename:u,contentType:f,encoding:m}=l;s.position+=2;let h;{let A=e.indexOf(n.subarray(2),s.position);if(A===-1)return"failure";h=e.subarray(s.position,A-4),s.position+=h.length,m==="base64"&&(h=Buffer.from(h.toString(),"base64"))}if(e[s.position]!==13||e[s.position+1]!==10)return"failure";s.position+=2;let p;u!==null?(f??="text/plain",Tmt(f)||(f=""),p=new xmt([h],u,{type:f})):p=gmt(Buffer.from(h)),nM(H8e(c)),nM(typeof p=="string"&&H8e(p)||ymt(p)),i.push(Cmt(c,p,u))}}o(_mt,"multipartFormDataParser");function Smt(e,t){let r=null,n=null,i=null,s=null;for(;;){if(e[t.position]===13&&e[t.position+1]===10)return r===null?"failure":{name:r,filename:n,contentType:i,encoding:s};let a=CI(l=>l!==10&&l!==13&&l!==58,e,t);if(a=Ste(a,!0,!0,l=>l===9||l===32),!Amt.test(a.toString())||e[t.position]!==58)return"failure";switch(t.position++,CI(l=>l===32||l===9,e,t),pmt(a)){case"content-disposition":{if(r=n=null,!iM(e,vmt,t)||(t.position+=17,r=$8e(e,t),r===null))return"failure";if(iM(e,j8e,t)){let l=t.position+j8e.length;if(e[l]===42&&(t.position+=1,l+=1),e[l]!==61||e[l+1]!==34||(t.position+=12,n=$8e(e,t),n===null))return"failure"}break}case"content-type":{let l=CI(c=>c!==10&&c!==13,e,t);l=Ste(l,!1,!0,c=>c===9||c===32),i=V8e(l);break}case"content-transfer-encoding":{let l=CI(c=>c!==10&&c!==13,e,t);l=Ste(l,!1,!0,c=>c===9||c===32),s=V8e(l);break}default:CI(l=>l!==10&&l!==13,e,t)}if(e[t.position]!==13&&e[t.position+1]!==10)return"failure";t.position+=2}}o(Smt,"parseMultipartFormDataHeaders");function $8e(e,t){nM(e[t.position-1]===34);let r=CI(n=>n!==10&&n!==13&&n!==34,e,t);return e[t.position]!==34?null:(t.position++,r=new TextDecoder().decode(r).replace(/%0A/ig,`
`).replace(/%0D/ig,"\r").replace(/%22/g,'"'),r)}o($8e,"parseMultipartFormDataName");function CI(e,t,r){let n=r.position;for(;n<t.length&&e(t[n]);)++n;return t.subarray(r.position,r.position=n)}o(CI,"collectASequenceOfBytes");function Ste(e,t,r,n){let i=0,s=e.length-1;if(t)for(;i<e.length&&n(e[i]);)i++;if(r)for(;s>0&&n(e[s]);)s--;return i===0&&s===e.length-1?e:e.subarray(i,s+1)}o(Ste,"removeChars");function iM(e,t,r){if(e.length<t.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[r.position+n])return!1;return!0}o(iM,"bufferStartsWith");z8e.exports={multipartFormDataParser:_mt,validateBoundary:wmt}});var vI=V((wFr,n6e)=>{"use strict";d();var iw=ci(),{ReadableStreamFrom:Bmt,isBlobLike:K8e,isReadableStreamLike:kmt,readableStreamClose:Rmt,createDeferredPromise:Dmt,fullyReadBody:Pmt,extractMimeType:Nmt,utf8DecodeBytes:Z8e}=Mu(),{FormData:J8e}=nw(),{kState:xI}=Q5(),{webidl:Fmt}=Hl(),{Blob:Lmt}=require("node:buffer"),Bte=require("node:assert"),{isErrored:e6e,isDisturbed:Qmt}=require("node:stream"),{isArrayBuffer:Mmt}=require("node:util/types"),{serializeAMimeType:Omt}=Nc(),{multipartFormDataParser:Umt}=Y8e(),kte;try{let e=require("node:crypto");kte=o(t=>e.randomInt(0,t),"random")}catch{kte=o(e=>Math.floor(Math.random(e)),"random")}var oM=new TextEncoder;function qmt(){}o(qmt,"noop");var Rte=globalThis.FinalizationRegistry&&process.version.indexOf("v18")!==0,Dte;Rte&&(Dte=new FinalizationRegistry(e=>{let t=e.deref();t&&!t.locked&&!Qmt(t)&&!e6e(t)&&t.cancel("Response object has been garbage collected").catch(qmt)}));function t6e(e,t=!1){let r=null;e instanceof ReadableStream?r=e:K8e(e)?r=e.stream():r=new ReadableStream({async pull(c){let u=typeof i=="string"?oM.encode(i):i;u.byteLength&&c.enqueue(u),queueMicrotask(()=>Rmt(c))},start(){},type:"bytes"}),Bte(kmt(r));let n=null,i=null,s=null,a=null;if(typeof e=="string")i=e,a="text/plain;charset=UTF-8";else if(e instanceof URLSearchParams)i=e.toString(),a="application/x-www-form-urlencoded;charset=UTF-8";else if(Mmt(e))i=new Uint8Array(e.slice());else if(ArrayBuffer.isView(e))i=new Uint8Array(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength));else if(iw.isFormDataLike(e)){let c=`----formdata-undici-0${`${kte(1e11)}`.padStart(11,"0")}`,u=`--${c}\r
Content-Disposition: form-data`;let f=o(x=>x.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),"escape"),m=o(x=>x.replace(/\r?\n|\r/g,`\r
`),"normalizeLinefeeds"),h=[],p=new Uint8Array([13,10]);s=0;let A=!1;for(let[x,b]of e)if(typeof b=="string"){let v=oM.encode(u+`; name="${f(m(x))}"\r
\r
${m(b)}\r
`);h.push(v),s+=v.byteLength}else{let v=oM.encode(`${u}; name="${f(m(x))}"`+(b.name?`; filename="${f(b.name)}"`:"")+`\r
Content-Type: ${b.type||"application/octet-stream"}\r
\r
`);h.push(v,b,p),typeof b.size=="number"?s+=v.byteLength+b.size+p.byteLength:A=!0}let E=oM.encode(`--${c}--`);h.push(E),s+=E.byteLength,A&&(s=null),i=e,n=o(async function*(){for(let x of h)x.stream?yield*x.stream():yield x},"action"),a=`multipart/form-data; boundary=${c}`}else if(K8e(e))i=e,s=e.size,e.type&&(a=e.type);else if(typeof e[Symbol.asyncIterator]=="function"){if(t)throw new TypeError("keepalive");if(iw.isDisturbed(e)||e.locked)throw new TypeError("Response body object should not be disturbed or locked");r=e instanceof ReadableStream?e:Bmt(e)}if((typeof i=="string"||iw.isBuffer(i))&&(s=Buffer.byteLength(i)),n!=null){let c;r=new ReadableStream({async start(){c=n(e)[Symbol.asyncIterator]()},async pull(u){let{value:f,done:m}=await c.next();if(m)queueMicrotask(()=>{u.close(),u.byobRequest?.respond(0)});else if(!e6e(r)){let h=new Uint8Array(f);h.byteLength&&u.enqueue(h)}return u.desiredSize>0},async cancel(u){await c.return()},type:"bytes"})}return[{stream:r,source:i,length:s},a]}o(t6e,"extractBody");function Gmt(e,t=!1){return e instanceof ReadableStream&&(Bte(!iw.isDisturbed(e),"The body has already been consumed."),Bte(!e.locked,"The stream is locked.")),t6e(e,t)}o(Gmt,"safelyExtractBody");function Wmt(e,t){let[r,n]=t.stream.tee();return Rte&&Dte.register(e,new WeakRef(r)),t.stream=r,{stream:n,length:t.length,source:t.source}}o(Wmt,"cloneBody");function Hmt(e){if(e.aborted)throw new DOMException("The operation was aborted.","AbortError")}o(Hmt,"throwIfAborted");function Vmt(e){return{blob(){return EI(this,r=>{let n=X8e(this);return n===null?n="":n&&(n=Omt(n)),new Lmt([r],{type:n})},e)},arrayBuffer(){return EI(this,r=>new Uint8Array(r).buffer,e)},text(){return EI(this,Z8e,e)},json(){return EI(this,$mt,e)},formData(){return EI(this,r=>{let n=X8e(this);if(n!==null)switch(n.essence){case"multipart/form-data":{let i=Umt(r,n);if(i==="failure")throw new TypeError("Failed to parse body as FormData.");let s=new J8e;return s[xI]=i,s}case"application/x-www-form-urlencoded":{let i=new URLSearchParams(r.toString()),s=new J8e;for(let[a,l]of i)s.append(a,l);return s}}throw new TypeError('Content-Type was not one of "multipart/form-data" or "application/x-www-form-urlencoded".')},e)},bytes(){return EI(this,r=>new Uint8Array(r),e)}}}o(Vmt,"bodyMixinMethods");function jmt(e){Object.assign(e.prototype,Vmt(e))}o(jmt,"mixinBody");async function EI(e,t,r){if(Fmt.brandCheck(e,r),r6e(e))throw new TypeError("Body is unusable: Body has already been read");Hmt(e[xI]);let n=Dmt(),i=o(a=>n.reject(a),"errorSteps"),s=o(a=>{try{n.resolve(t(a))}catch(l){i(l)}},"successSteps");return e[xI].body==null?(s(Buffer.allocUnsafe(0)),n.promise):(await Pmt(e[xI].body,s,i),n.promise)}o(EI,"consumeBody");function r6e(e){let t=e[xI].body;return t!=null&&(t.stream.locked||iw.isDisturbed(t.stream))}o(r6e,"bodyUnusable");function $mt(e){return JSON.parse(Z8e(e))}o($mt,"parseJSONFromBytes");function X8e(e){let t=e[xI].headersList,r=Nmt(t);return r==="failure"?null:r}o(X8e,"bodyMimeType");n6e.exports={extractBody:t6e,safelyExtractBody:Gmt,cloneBody:Wmt,mixinBody:jmt,streamRegistry:Dte,hasFinalizationRegistry:Rte,bodyUnusable:r6e}});var h6e=V((BFr,m6e)=>{"use strict";d();var dn=require("node:assert"),Fn=ci(),{channels:i6e}=cI(),Pte=dte(),{RequestContentLengthMismatchError:g4,ResponseContentLengthMismatchError:zmt,RequestAbortedError:u6e,HeadersTimeoutError:Ymt,HeadersOverflowError:Kmt,SocketError:fM,InformationalError:bI,BodyTimeoutError:Jmt,HTTPParserError:Xmt,ResponseExceededMaxSizeError:Zmt}=ao(),{kUrl:f6e,kReset:Fc,kClient:Qte,kParser:Ws,kBlocking:aw,kRunning:g0,kPending:eht,kSize:o6e,kWriting:O5,kQueue:Pm,kNoRef:ow,kKeepAliveDefaultTimeout:tht,kHostHeader:rht,kPendingIdx:nht,kRunningIdx:ld,kError:cd,kPipelining:cM,kSocket:II,kKeepAliveTimeoutValue:dM,kMaxHeadersSize:Nte,kKeepAliveMaxTimeout:iht,kKeepAliveTimeoutThreshold:oht,kHeadersTimeout:sht,kBodyTimeout:aht,kStrictContentLength:Mte,kMaxRequests:s6e,kCounter:lht,kMaxResponseSize:cht,kOnError:uht,kResume:M5,kHTTPContext:d6e}=vs(),xp=r8e(),fht=Buffer.alloc(0),sM=Buffer[Symbol.species],aM=Fn.addListener,dht=Fn.removeAllListeners,Fte;async function mht(){let e=process.env.JEST_WORKER_ID?pte():void 0,t;try{t=await WebAssembly.compile(o8e())}catch{t=await WebAssembly.compile(e||pte())}return await WebAssembly.instantiate(t,{env:{wasm_on_url:o((r,n,i)=>0,"wasm_on_url"),wasm_on_status:o((r,n,i)=>{dn($a.ptr===r);let s=n-bp+vp.byteOffset;return $a.onStatus(new sM(vp.buffer,s,i))||0},"wasm_on_status"),wasm_on_message_begin:o(r=>(dn($a.ptr===r),$a.onMessageBegin()||0),"wasm_on_message_begin"),wasm_on_header_field:o((r,n,i)=>{dn($a.ptr===r);let s=n-bp+vp.byteOffset;return $a.onHeaderField(new sM(vp.buffer,s,i))||0},"wasm_on_header_field"),wasm_on_header_value:o((r,n,i)=>{dn($a.ptr===r);let s=n-bp+vp.byteOffset;return $a.onHeaderValue(new sM(vp.buffer,s,i))||0},"wasm_on_header_value"),wasm_on_headers_complete:o((r,n,i,s)=>(dn($a.ptr===r),$a.onHeadersComplete(n,!!i,!!s)||0),"wasm_on_headers_complete"),wasm_on_body:o((r,n,i)=>{dn($a.ptr===r);let s=n-bp+vp.byteOffset;return $a.onBody(new sM(vp.buffer,s,i))||0},"wasm_on_body"),wasm_on_message_complete:o(r=>(dn($a.ptr===r),$a.onMessageComplete()||0),"wasm_on_message_complete")}})}o(mht,"lazyllhttp");var Lte=null,Ote=mht();Ote.catch();var $a=null,vp=null,lM=0,bp=null,hht=0,sw=1,TI=2|sw,uM=4|sw,Ute=8|hht,qte=class{static{o(this,"Parser")}constructor(t,r,{exports:n}){dn(Number.isFinite(t[Nte])&&t[Nte]>0),this.llhttp=n,this.ptr=this.llhttp.llhttp_alloc(xp.TYPE.RESPONSE),this.client=t,this.socket=r,this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.statusCode=null,this.statusText="",this.upgrade=!1,this.headers=[],this.headersSize=0,this.headersMaxSize=t[Nte],this.shouldKeepAlive=!1,this.paused=!1,this.resume=this.resume.bind(this),this.bytesRead=0,this.keepAlive="",this.contentLength="",this.connection="",this.maxResponseSize=t[cht]}setTimeout(t,r){t!==this.timeoutValue||r&sw^this.timeoutType&sw?(this.timeout&&(Pte.clearTimeout(this.timeout),this.timeout=null),t&&(r&sw?this.timeout=Pte.setFastTimeout(a6e,t,new WeakRef(this)):(this.timeout=setTimeout(a6e,t,new WeakRef(this)),this.timeout.unref())),this.timeoutValue=t):this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.timeoutType=r}resume(){this.socket.destroyed||!this.paused||(dn(this.ptr!=null),dn($a==null),this.llhttp.llhttp_resume(this.ptr),dn(this.timeoutType===uM),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.paused=!1,this.execute(this.socket.read()||fht),this.readMore())}readMore(){for(;!this.paused&&this.ptr;){let t=this.socket.read();if(t===null)break;this.execute(t)}}execute(t){dn(this.ptr!=null),dn($a==null),dn(!this.paused);let{socket:r,llhttp:n}=this;t.length>lM&&(bp&&n.free(bp),lM=Math.ceil(t.length/4096)*4096,bp=n.malloc(lM)),new Uint8Array(n.memory.buffer,bp,lM).set(t);try{let i;try{vp=t,$a=this,i=n.llhttp_execute(this.ptr,bp,t.length)}catch(a){throw a}finally{$a=null,vp=null}let s=n.llhttp_get_error_pos(this.ptr)-bp;if(i===xp.ERROR.PAUSED_UPGRADE)this.onUpgrade(t.slice(s));else if(i===xp.ERROR.PAUSED)this.paused=!0,r.unshift(t.slice(s));else if(i!==xp.ERROR.OK){let a=n.llhttp_get_error_reason(this.ptr),l="";if(a){let c=new Uint8Array(n.memory.buffer,a).indexOf(0);l="Response does not match the HTTP/1.1 protocol ("+Buffer.from(n.memory.buffer,a,c).toString()+")"}throw new Xmt(l,xp.ERROR[i],t.slice(s))}}catch(i){Fn.destroy(r,i)}}destroy(){dn(this.ptr!=null),dn($a==null),this.llhttp.llhttp_free(this.ptr),this.ptr=null,this.timeout&&Pte.clearTimeout(this.timeout),this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.paused=!1}onStatus(t){this.statusText=t.toString()}onMessageBegin(){let{socket:t,client:r}=this;if(t.destroyed)return-1;let n=r[Pm][r[ld]];if(!n)return-1;n.onResponseStarted()}onHeaderField(t){let r=this.headers.length;(r&1)===0?this.headers.push(t):this.headers[r-1]=Buffer.concat([this.headers[r-1],t]),this.trackHeader(t.length)}onHeaderValue(t){let r=this.headers.length;(r&1)===1?(this.headers.push(t),r+=1):this.headers[r-1]=Buffer.concat([this.headers[r-1],t]);let n=this.headers[r-2];if(n.length===10){let i=Fn.bufferToLowerCasedHeaderName(n);i==="keep-alive"?this.keepAlive+=t.toString():i==="connection"&&(this.connection+=t.toString())}else n.length===14&&Fn.bufferToLowerCasedHeaderName(n)==="content-length"&&(this.contentLength+=t.toString());this.trackHeader(t.length)}trackHeader(t){this.headersSize+=t,this.headersSize>=this.headersMaxSize&&Fn.destroy(this.socket,new Kmt)}onUpgrade(t){let{upgrade:r,client:n,socket:i,headers:s,statusCode:a}=this;dn(r),dn(n[II]===i),dn(!i.destroyed),dn(!this.paused),dn((s.length&1)===0);let l=n[Pm][n[ld]];dn(l),dn(l.upgrade||l.method==="CONNECT"),this.statusCode=null,this.statusText="",this.shouldKeepAlive=null,this.headers=[],this.headersSize=0,i.unshift(t),i[Ws].destroy(),i[Ws]=null,i[Qte]=null,i[cd]=null,dht(i),n[II]=null,n[d6e]=null,n[Pm][n[ld]++]=null,n.emit("disconnect",n[f6e],[n],new bI("upgrade"));try{l.onUpgrade(a,s,i)}catch(c){Fn.destroy(i,c)}n[M5]()}onHeadersComplete(t,r,n){let{client:i,socket:s,headers:a,statusText:l}=this;if(s.destroyed)return-1;let c=i[Pm][i[ld]];if(!c)return-1;if(dn(!this.upgrade),dn(this.statusCode<200),t===100)return Fn.destroy(s,new fM("bad response",Fn.getSocketInfo(s))),-1;if(r&&!c.upgrade)return Fn.destroy(s,new fM("bad upgrade",Fn.getSocketInfo(s))),-1;if(dn(this.timeoutType===TI),this.statusCode=t,this.shouldKeepAlive=n||c.method==="HEAD"&&!s[Fc]&&this.connection.toLowerCase()==="keep-alive",this.statusCode>=200){let f=c.bodyTimeout!=null?c.bodyTimeout:i[aht];this.setTimeout(f,uM)}else this.timeout&&this.timeout.refresh&&this.timeout.refresh();if(c.method==="CONNECT")return dn(i[g0]===1),this.upgrade=!0,2;if(r)return dn(i[g0]===1),this.upgrade=!0,2;if(dn((this.headers.length&1)===0),this.headers=[],this.headersSize=0,this.shouldKeepAlive&&i[cM]){let f=this.keepAlive?Fn.parseKeepAliveTimeout(this.keepAlive):null;if(f!=null){let m=Math.min(f-i[oht],i[iht]);m<=0?s[Fc]=!0:i[dM]=m}else i[dM]=i[tht]}else s[Fc]=!0;let u=c.onHeaders(t,a,this.resume,l)===!1;return c.aborted?-1:c.method==="HEAD"||t<200?1:(s[aw]&&(s[aw]=!1,i[M5]()),u?xp.ERROR.PAUSED:0)}onBody(t){let{client:r,socket:n,statusCode:i,maxResponseSize:s}=this;if(n.destroyed)return-1;let a=r[Pm][r[ld]];if(dn(a),dn(this.timeoutType===uM),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),dn(i>=200),s>-1&&this.bytesRead+t.length>s)return Fn.destroy(n,new Zmt),-1;if(this.bytesRead+=t.length,a.onData(t)===!1)return xp.ERROR.PAUSED}onMessageComplete(){let{client:t,socket:r,statusCode:n,upgrade:i,headers:s,contentLength:a,bytesRead:l,shouldKeepAlive:c}=this;if(r.destroyed&&(!n||c))return-1;if(i)return;dn(n>=100),dn((this.headers.length&1)===0);let u=t[Pm][t[ld]];if(dn(u),this.statusCode=null,this.statusText="",this.bytesRead=0,this.contentLength="",this.keepAlive="",this.connection="",this.headers=[],this.headersSize=0,!(n<200)){if(u.method!=="HEAD"&&a&&l!==parseInt(a,10))return Fn.destroy(r,new zmt),-1;if(u.onComplete(s),t[Pm][t[ld]++]=null,r[O5])return dn(t[g0]===0),Fn.destroy(r,new bI("reset")),xp.ERROR.PAUSED;if(c){if(r[Fc]&&t[g0]===0)return Fn.destroy(r,new bI("reset")),xp.ERROR.PAUSED;t[cM]==null||t[cM]===1?setImmediate(()=>t[M5]()):t[M5]()}else return Fn.destroy(r,new bI("reset")),xp.ERROR.PAUSED}}};function a6e(e){let{socket:t,timeoutType:r,client:n,paused:i}=e.deref();r===TI?(!t[O5]||t.writableNeedDrain||n[g0]>1)&&(dn(!i,"cannot be paused while waiting for headers"),Fn.destroy(t,new Ymt)):r===uM?i||Fn.destroy(t,new Jmt):r===Ute&&(dn(n[g0]===0&&n[dM]),Fn.destroy(t,new bI("socket idle timeout")))}o(a6e,"onParserTimeout");async function pht(e,t){e[II]=t,Lte||(Lte=await Ote,Ote=null),t[ow]=!1,t[O5]=!1,t[Fc]=!1,t[aw]=!1,t[Ws]=new qte(e,t,Lte),aM(t,"error",function(n){dn(n.code!=="ERR_TLS_CERT_ALTNAME_INVALID");let i=this[Ws];if(n.code==="ECONNRESET"&&i.statusCode&&!i.shouldKeepAlive){i.onMessageComplete();return}this[cd]=n,this[Qte][uht](n)}),aM(t,"readable",function(){let n=this[Ws];n&&n.readMore()}),aM(t,"end",function(){let n=this[Ws];if(n.statusCode&&!n.shouldKeepAlive){n.onMessageComplete();return}Fn.destroy(this,new fM("other side closed",Fn.getSocketInfo(this)))}),aM(t,"close",function(){let n=this[Qte],i=this[Ws];i&&(!this[cd]&&i.statusCode&&!i.shouldKeepAlive&&i.onMessageComplete(),this[Ws].destroy(),this[Ws]=null);let s=this[cd]||new fM("closed",Fn.getSocketInfo(this));if(n[II]=null,n[d6e]=null,n.destroyed){dn(n[eht]===0);let a=n[Pm].splice(n[ld]);for(let l=0;l<a.length;l++){let c=a[l];Fn.errorRequest(n,c,s)}}else if(n[g0]>0&&s.code!=="UND_ERR_INFO"){let a=n[Pm][n[ld]];n[Pm][n[ld]++]=null,Fn.errorRequest(n,a,s)}n[nht]=n[ld],dn(n[g0]===0),n.emit("disconnect",n[f6e],[n],s),n[M5]()});let r=!1;return t.on("close",()=>{r=!0}),{version:"h1",defaultPipelining:1,write(...n){return yht(e,...n)},resume(){ght(e)},destroy(n,i){r?queueMicrotask(i):t.destroy(n).on("close",i)},get destroyed(){return t.destroyed},busy(n){return!!(t[O5]||t[Fc]||t[aw]||n&&(e[g0]>0&&!n.idempotent||e[g0]>0&&(n.upgrade||n.method==="CONNECT")||e[g0]>0&&Fn.bodyLength(n.body)!==0&&(Fn.isStream(n.body)||Fn.isAsyncIterable(n.body)||Fn.isFormDataLike(n.body))))}}}o(pht,"connectH1");function ght(e){let t=e[II];if(t&&!t.destroyed){if(e[o6e]===0?!t[ow]&&t.unref&&(t.unref(),t[ow]=!0):t[ow]&&t.ref&&(t.ref(),t[ow]=!1),e[o6e]===0)t[Ws].timeoutType!==Ute&&t[Ws].setTimeout(e[dM],Ute);else if(e[g0]>0&&t[Ws].statusCode<200&&t[Ws].timeoutType!==TI){let r=e[Pm][e[ld]],n=r.headersTimeout!=null?r.headersTimeout:e[sht];t[Ws].setTimeout(n,TI)}}}o(ght,"resumeH1");function Aht(e){return e!=="GET"&&e!=="HEAD"&&e!=="OPTIONS"&&e!=="TRACE"&&e!=="CONNECT"}o(Aht,"shouldSendContentLength");function yht(e,t){let{method:r,path:n,host:i,upgrade:s,blocking:a,reset:l}=t,{body:c,headers:u,contentLength:f}=t,m=r==="PUT"||r==="POST"||r==="PATCH"||r==="QUERY"||r==="PROPFIND"||r==="PROPPATCH";if(Fn.isFormDataLike(c)){Fte||(Fte=vI().extractBody);let[x,b]=Fte(c);t.contentType==null&&u.push("content-type",b),c=x.stream,f=x.length}else Fn.isBlobLike(c)&&t.contentType==null&&c.type&&u.push("content-type",c.type);c&&typeof c.read=="function"&&c.read(0);let h=Fn.bodyLength(c);if(f=h??f,f===null&&(f=t.contentLength),f===0&&!m&&(f=null),Aht(r)&&f>0&&t.contentLength!==null&&t.contentLength!==f){if(e[Mte])return Fn.errorRequest(e,t,new g4),!1;process.emitWarning(new g4)}let p=e[II],A=o(x=>{t.aborted||t.completed||(Fn.errorRequest(e,t,x||new u6e),Fn.destroy(c),Fn.destroy(p,new bI("aborted")))},"abort");try{t.onConnect(A)}catch(x){Fn.errorRequest(e,t,x)}if(t.aborted)return!1;r==="HEAD"&&(p[Fc]=!0),(s||r==="CONNECT")&&(p[Fc]=!0),l!=null&&(p[Fc]=l),e[s6e]&&p[lht]++>=e[s6e]&&(p[Fc]=!0),a&&(p[aw]=!0);let E=`${r} ${n} HTTP/1.1\r
`;if(typeof i=="string"?E+=`host: ${i}\r
`:E+=e[rht],s?E+=`connection: upgrade\r
upgrade: ${s}\r
`:e[cM]&&!p[Fc]?E+=`connection: keep-alive\r
`:E+=`connection: close\r
`,Array.isArray(u))for(let x=0;x<u.length;x+=2){let b=u[x+0],v=u[x+1];if(Array.isArray(v))for(let S=0;S<v.length;S++)E+=`${b}: ${v[S]}\r
`;else E+=`${b}: ${v}\r
`}return i6e.sendHeaders.hasSubscribers&&i6e.sendHeaders.publish({request:t,headers:E,socket:p}),!c||h===0?l6e(A,null,e,t,p,f,E,m):Fn.isBuffer(c)?l6e(A,c,e,t,p,f,E,m):Fn.isBlobLike(c)?typeof c.stream=="function"?c6e(A,c.stream(),e,t,p,f,E,m):Eht(A,c,e,t,p,f,E,m):Fn.isStream(c)?Cht(A,c,e,t,p,f,E,m):Fn.isIterable(c)?c6e(A,c,e,t,p,f,E,m):dn(!1),!0}o(yht,"writeH1");function Cht(e,t,r,n,i,s,a,l){dn(s!==0||r[g0]===0,"stream body cannot be pipelined");let c=!1,u=new mM({abort:e,socket:i,request:n,contentLength:s,client:r,expectsPayload:l,header:a}),f=o(function(A){if(!c)try{!u.write(A)&&this.pause&&this.pause()}catch(E){Fn.destroy(this,E)}},"onData"),m=o(function(){c||t.resume&&t.resume()},"onDrain"),h=o(function(){if(queueMicrotask(()=>{t.removeListener("error",p)}),!c){let A=new u6e;queueMicrotask(()=>p(A))}},"onClose"),p=o(function(A){if(!c){if(c=!0,dn(i.destroyed||i[O5]&&r[g0]<=1),i.off("drain",m).off("error",p),t.removeListener("data",f).removeListener("end",p).removeListener("close",h),!A)try{u.end()}catch(E){A=E}u.destroy(A),A&&(A.code!=="UND_ERR_INFO"||A.message!=="reset")?Fn.destroy(t,A):Fn.destroy(t)}},"onFinished");t.on("data",f).on("end",p).on("error",p).on("close",h),t.resume&&t.resume(),i.on("drain",m).on("error",p),t.errorEmitted??t.errored?setImmediate(()=>p(t.errored)):(t.endEmitted??t.readableEnded)&&setImmediate(()=>p(null)),(t.closeEmitted??t.closed)&&setImmediate(h)}o(Cht,"writeStream");function l6e(e,t,r,n,i,s,a,l){try{t?Fn.isBuffer(t)&&(dn(s===t.byteLength,"buffer body must have content length"),i.cork(),i.write(`${a}content-length: ${s}\r
\r
`,"latin1"),i.write(t),i.uncork(),n.onBodySent(t),!l&&n.reset!==!1&&(i[Fc]=!0)):s===0?i.write(`${a}content-length: 0\r
\r
`,"latin1"):(dn(s===null,"no body must not have content length"),i.write(`${a}\r
`,"latin1")),n.onRequestSent(),r[M5]()}catch(c){e(c)}}o(l6e,"writeBuffer");async function Eht(e,t,r,n,i,s,a,l){dn(s===t.size,"blob body must have content length");try{if(s!=null&&s!==t.size)throw new g4;let c=Buffer.from(await t.arrayBuffer());i.cork(),i.write(`${a}content-length: ${s}\r
\r
`,"latin1"),i.write(c),i.uncork(),n.onBodySent(c),n.onRequestSent(),!l&&n.reset!==!1&&(i[Fc]=!0),r[M5]()}catch(c){e(c)}}o(Eht,"writeBlob");async function c6e(e,t,r,n,i,s,a,l){dn(s!==0||r[g0]===0,"iterator body cannot be pipelined");let c=null;function u(){if(c){let h=c;c=null,h()}}o(u,"onDrain");let f=o(()=>new Promise((h,p)=>{dn(c===null),i[cd]?p(i[cd]):c=h}),"waitForDrain");i.on("close",u).on("drain",u);let m=new mM({abort:e,socket:i,request:n,contentLength:s,client:r,expectsPayload:l,header:a});try{for await(let h of t){if(i[cd])throw i[cd];m.write(h)||await f()}m.end()}catch(h){m.destroy(h)}finally{i.off("close",u).off("drain",u)}}o(c6e,"writeIterable");var mM=class{static{o(this,"AsyncWriter")}constructor({abort:t,socket:r,request:n,contentLength:i,client:s,expectsPayload:a,header:l}){this.socket=r,this.request=n,this.contentLength=i,this.client=s,this.bytesWritten=0,this.expectsPayload=a,this.header=l,this.abort=t,r[O5]=!0}write(t){let{socket:r,request:n,contentLength:i,client:s,bytesWritten:a,expectsPayload:l,header:c}=this;if(r[cd])throw r[cd];if(r.destroyed)return!1;let u=Buffer.byteLength(t);if(!u)return!0;if(i!==null&&a+u>i){if(s[Mte])throw new g4;process.emitWarning(new g4)}r.cork(),a===0&&(!l&&n.reset!==!1&&(r[Fc]=!0),i===null?r.write(`${c}transfer-encoding: chunked\r
`,"latin1"):r.write(`${c}content-length: ${i}\r
\r
`,"latin1")),i===null&&r.write(`\r
${u.toString(16)}\r
`,"latin1"),this.bytesWritten+=u;let f=r.write(t);return r.uncork(),n.onBodySent(t),f||r[Ws].timeout&&r[Ws].timeoutType===TI&&r[Ws].timeout.refresh&&r[Ws].timeout.refresh(),f}end(){let{socket:t,contentLength:r,client:n,bytesWritten:i,expectsPayload:s,header:a,request:l}=this;if(l.onRequestSent(),t[O5]=!1,t[cd])throw t[cd];if(!t.destroyed){if(i===0?s?t.write(`${a}content-length: 0\r
\r
`,"latin1"):t.write(`${a}\r
`,"latin1"):r===null&&t.write(`\r
0\r
\r
`,"latin1"),r!==null&&i!==r){if(n[Mte])throw new g4;process.emitWarning(new g4)}t[Ws].timeout&&t[Ws].timeoutType===TI&&t[Ws].timeout.refresh&&t[Ws].timeout.refresh(),n[M5]()}}destroy(t){let{socket:r,client:n,abort:i}=this;r[O5]=!1,t&&(dn(n[g0]<=1,"pipeline should only contain this request"),i(t))}};m6e.exports=pht});var v6e=V((DFr,x6e)=>{"use strict";d();var ud=require("node:assert"),{pipeline:xht}=require("node:stream"),wi=ci(),{RequestContentLengthMismatchError:Gte,RequestAbortedError:p6e,SocketError:lw,InformationalError:Wte}=ao(),{kUrl:hM,kReset:gM,kClient:wI,kRunning:AM,kPending:vht,kQueue:U5,kPendingIdx:Hte,kRunningIdx:Nm,kError:Lm,kSocket:yl,kStrictContentLength:bht,kOnError:Vte,kMaxConcurrentStreams:E6e,kHTTP2Session:Fm,kResume:q5,kSize:Iht,kHTTPContext:Tht}=vs(),_1=Symbol("open streams"),g6e,A6e=!1,pM;try{pM=require("node:http2")}catch{pM={constants:{}}}var{constants:{HTTP2_HEADER_AUTHORITY:wht,HTTP2_HEADER_METHOD:_ht,HTTP2_HEADER_PATH:Sht,HTTP2_HEADER_SCHEME:Bht,HTTP2_HEADER_CONTENT_LENGTH:kht,HTTP2_HEADER_EXPECT:Rht,HTTP2_HEADER_STATUS:Dht}}=pM;function Pht(e){let t=[];for(let[r,n]of Object.entries(e))if(Array.isArray(n))for(let i of n)t.push(Buffer.from(r),Buffer.from(i));else t.push(Buffer.from(r),Buffer.from(n));return t}o(Pht,"parseH2Headers");async function Nht(e,t){e[yl]=t,A6e||(A6e=!0,process.emitWarning("H2 support is experimental, expect them to change at any time.",{code:"UNDICI-H2"}));let r=pM.connect(e[hM],{createConnection:o(()=>t,"createConnection"),peerMaxConcurrentStreams:e[E6e]});r[_1]=0,r[wI]=e,r[yl]=t,wi.addListener(r,"error",Lht),wi.addListener(r,"frameError",Qht),wi.addListener(r,"end",Mht),wi.addListener(r,"goaway",Oht),wi.addListener(r,"close",function(){let{[wI]:i}=this,{[yl]:s}=i,a=this[yl][Lm]||this[Lm]||new lw("closed",wi.getSocketInfo(s));if(i[Fm]=null,i.destroyed){ud(i[vht]===0);let l=i[U5].splice(i[Nm]);for(let c=0;c<l.length;c++){let u=l[c];wi.errorRequest(i,u,a)}}}),r.unref(),e[Fm]=r,t[Fm]=r,wi.addListener(t,"error",function(i){ud(i.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),this[Lm]=i,this[wI][Vte](i)}),wi.addListener(t,"end",function(){wi.destroy(this,new lw("other side closed",wi.getSocketInfo(this)))}),wi.addListener(t,"close",function(){let i=this[Lm]||new lw("closed",wi.getSocketInfo(this));e[yl]=null,this[Fm]!=null&&this[Fm].destroy(i),e[Hte]=e[Nm],ud(e[AM]===0),e.emit("disconnect",e[hM],[e],i),e[q5]()});let n=!1;return t.on("close",()=>{n=!0}),{version:"h2",defaultPipelining:1/0,write(...i){return qht(e,...i)},resume(){Fht(e)},destroy(i,s){n?queueMicrotask(s):t.destroy(i).on("close",s)},get destroyed(){return t.destroyed},busy(){return!1}}}o(Nht,"connectH2");function Fht(e){let t=e[yl];t?.destroyed===!1&&(e[Iht]===0&&e[E6e]===0?(t.unref(),e[Fm].unref()):(t.ref(),e[Fm].ref()))}o(Fht,"resumeH2");function Lht(e){ud(e.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),this[yl][Lm]=e,this[wI][Vte](e)}o(Lht,"onHttp2SessionError");function Qht(e,t,r){if(r===0){let n=new Wte(`HTTP/2: "frameError" received - type ${e}, code ${t}`);this[yl][Lm]=n,this[wI][Vte](n)}}o(Qht,"onHttp2FrameError");function Mht(){let e=new lw("other side closed",wi.getSocketInfo(this[yl]));this.destroy(e),wi.destroy(this[yl],e)}o(Mht,"onHttp2SessionEnd");function Oht(e){let t=this[Lm]||new lw(`HTTP/2: "GOAWAY" frame received with code ${e}`,wi.getSocketInfo(this)),r=this[wI];if(r[yl]=null,r[Tht]=null,this[Fm]!=null&&(this[Fm].destroy(t),this[Fm]=null),wi.destroy(this[yl],t),r[Nm]<r[U5].length){let n=r[U5][r[Nm]];r[U5][r[Nm]++]=null,wi.errorRequest(r,n,t),r[Hte]=r[Nm]}ud(r[AM]===0),r.emit("disconnect",r[hM],[r],t),r[q5]()}o(Oht,"onHTTP2GoAway");function Uht(e){return e!=="GET"&&e!=="HEAD"&&e!=="OPTIONS"&&e!=="TRACE"&&e!=="CONNECT"}o(Uht,"shouldSendContentLength");function qht(e,t){let r=e[Fm],{method:n,path:i,host:s,upgrade:a,expectContinue:l,signal:c,headers:u}=t,{body:f}=t;if(a)return wi.errorRequest(e,t,new Error("Upgrade not supported for H2")),!1;let m={};for(let k=0;k<u.length;k+=2){let P=u[k+0],N=u[k+1];if(Array.isArray(N))for(let W=0;W<N.length;W++)m[P]?m[P]+=`,${N[W]}`:m[P]=N[W];else m[P]=N}let h,{hostname:p,port:A}=e[hM];m[wht]=s||`${p}${A?`:${A}`:""}`,m[_ht]=n;let E=o(k=>{t.aborted||t.completed||(k=k||new p6e,wi.errorRequest(e,t,k),h!=null&&wi.destroy(h,k),wi.destroy(f,k),e[U5][e[Nm]++]=null,e[q5]())},"abort");try{t.onConnect(E)}catch(k){wi.errorRequest(e,t,k)}if(t.aborted)return!1;if(n==="CONNECT")return r.ref(),h=r.request(m,{endStream:!1,signal:c}),h.id&&!h.pending?(t.onUpgrade(null,null,h),++r[_1],e[U5][e[Nm]++]=null):h.once("ready",()=>{t.onUpgrade(null,null,h),++r[_1],e[U5][e[Nm]++]=null}),h.once("close",()=>{r[_1]-=1,r[_1]===0&&r.unref()}),!0;m[Sht]=i,m[Bht]="https";let x=n==="PUT"||n==="POST"||n==="PATCH";f&&typeof f.read=="function"&&f.read(0);let b=wi.bodyLength(f);if(wi.isFormDataLike(f)){g6e??=vI().extractBody;let[k,P]=g6e(f);m["content-type"]=P,f=k.stream,b=k.length}if(b==null&&(b=t.contentLength),(b===0||!x)&&(b=null),Uht(n)&&b>0&&t.contentLength!=null&&t.contentLength!==b){if(e[bht])return wi.errorRequest(e,t,new Gte),!1;process.emitWarning(new Gte)}b!=null&&(ud(f,"no body must not have content length"),m[kht]=`${b}`),r.ref();let v=n==="GET"||n==="HEAD"||f===null;return l?(m[Rht]="100-continue",h=r.request(m,{endStream:v,signal:c}),h.once("continue",S)):(h=r.request(m,{endStream:v,signal:c}),S()),++r[_1],h.once("response",k=>{let{[Dht]:P,...N}=k;if(t.onResponseStarted(),t.aborted){let W=new p6e;wi.errorRequest(e,t,W),wi.destroy(h,W);return}t.onHeaders(Number(P),Pht(N),h.resume.bind(h),"")===!1&&h.pause(),h.on("data",W=>{t.onData(W)===!1&&h.pause()})}),h.once("end",()=>{(h.state?.state==null||h.state.state<6)&&t.onComplete([]),r[_1]===0&&r.unref(),E(new Wte("HTTP/2: stream half-closed (remote)")),e[U5][e[Nm]++]=null,e[Hte]=e[Nm],e[q5]()}),h.once("close",()=>{r[_1]-=1,r[_1]===0&&r.unref()}),h.once("error",function(k){E(k)}),h.once("frameError",(k,P)=>{E(new Wte(`HTTP/2: "frameError" received - type ${k}, code ${P}`))}),!0;function S(){!f||b===0?y6e(E,h,null,e,t,e[yl],b,x):wi.isBuffer(f)?y6e(E,h,f,e,t,e[yl],b,x):wi.isBlobLike(f)?typeof f.stream=="function"?C6e(E,h,f.stream(),e,t,e[yl],b,x):Wht(E,h,f,e,t,e[yl],b,x):wi.isStream(f)?Ght(E,e[yl],x,h,f,e,t,b):wi.isIterable(f)?C6e(E,h,f,e,t,e[yl],b,x):ud(!1)}o(S,"writeBodyH2")}o(qht,"writeH2");function y6e(e,t,r,n,i,s,a,l){try{r!=null&&wi.isBuffer(r)&&(ud(a===r.byteLength,"buffer body must have content length"),t.cork(),t.write(r),t.uncork(),t.end(),i.onBodySent(r)),l||(s[gM]=!0),i.onRequestSent(),n[q5]()}catch(c){e(c)}}o(y6e,"writeBuffer");function Ght(e,t,r,n,i,s,a,l){ud(l!==0||s[AM]===0,"stream body cannot be pipelined");let c=xht(i,n,f=>{f?(wi.destroy(c,f),e(f)):(wi.removeAllListeners(c),a.onRequestSent(),r||(t[gM]=!0),s[q5]())});wi.addListener(c,"data",u);function u(f){a.onBodySent(f)}o(u,"onPipeData")}o(Ght,"writeStream");async function Wht(e,t,r,n,i,s,a,l){ud(a===r.size,"blob body must have content length");try{if(a!=null&&a!==r.size)throw new Gte;let c=Buffer.from(await r.arrayBuffer());t.cork(),t.write(c),t.uncork(),t.end(),i.onBodySent(c),i.onRequestSent(),l||(s[gM]=!0),n[q5]()}catch(c){e(c)}}o(Wht,"writeBlob");async function C6e(e,t,r,n,i,s,a,l){ud(a!==0||n[AM]===0,"iterator body cannot be pipelined");let c=null;function u(){if(c){let m=c;c=null,m()}}o(u,"onDrain");let f=o(()=>new Promise((m,h)=>{ud(c===null),s[Lm]?h(s[Lm]):c=m}),"waitForDrain");t.on("close",u).on("drain",u);try{for await(let m of r){if(s[Lm])throw s[Lm];let h=t.write(m);i.onBodySent(m),h||await f()}t.end(),i.onRequestSent(),l||(s[gM]=!0),n[q5]()}catch(m){e(m)}finally{t.off("close",u).off("drain",u)}}o(C6e,"writeIterable");x6e.exports=Nht});var CM=V((FFr,T6e)=>{"use strict";d();var Ip=ci(),{kBodyUsed:cw}=vs(),$te=require("node:assert"),{InvalidArgumentError:Hht}=ao(),Vht=require("node:events"),jht=[300,301,302,303,307,308],b6e=Symbol("body"),yM=class{static{o(this,"BodyAsyncIterable")}constructor(t){this[b6e]=t,this[cw]=!1}async*[Symbol.asyncIterator](){$te(!this[cw],"disturbed"),this[cw]=!0,yield*this[b6e]}},jte=class{static{o(this,"RedirectHandler")}constructor(t,r,n,i){if(r!=null&&(!Number.isInteger(r)||r<0))throw new Hht("maxRedirections must be a positive number");Ip.validateHandler(i,n.method,n.upgrade),this.dispatch=t,this.location=null,this.abort=null,this.opts={...n,maxRedirections:0},this.maxRedirections=r,this.handler=i,this.history=[],this.redirectionLimitReached=!1,Ip.isStream(this.opts.body)?(Ip.bodyLength(this.opts.body)===0&&this.opts.body.on("data",function(){$te(!1)}),typeof this.opts.body.readableDidRead!="boolean"&&(this.opts.body[cw]=!1,Vht.prototype.on.call(this.opts.body,"data",function(){this[cw]=!0}))):this.opts.body&&typeof this.opts.body.pipeTo=="function"?this.opts.body=new yM(this.opts.body):this.opts.body&&typeof this.opts.body!="string"&&!ArrayBuffer.isView(this.opts.body)&&Ip.isIterable(this.opts.body)&&(this.opts.body=new yM(this.opts.body))}onConnect(t){this.abort=t,this.handler.onConnect(t,{history:this.history})}onUpgrade(t,r,n){this.handler.onUpgrade(t,r,n)}onError(t){this.handler.onError(t)}onHeaders(t,r,n,i){if(this.location=this.history.length>=this.maxRedirections||Ip.isDisturbed(this.opts.body)?null:$ht(t,r),this.opts.throwOnMaxRedirect&&this.history.length>=this.maxRedirections){this.request&&this.request.abort(new Error("max redirects")),this.redirectionLimitReached=!0,this.abort(new Error("max redirects"));return}if(this.opts.origin&&this.history.push(new URL(this.opts.path,this.opts.origin)),!this.location)return this.handler.onHeaders(t,r,n,i);let{origin:s,pathname:a,search:l}=Ip.parseURL(new URL(this.location,this.opts.origin&&new URL(this.opts.path,this.opts.origin))),c=l?`${a}${l}`:a;this.opts.headers=zht(this.opts.headers,t===303,this.opts.origin!==s),this.opts.path=c,this.opts.origin=s,this.opts.maxRedirections=0,this.opts.query=null,t===303&&this.opts.method!=="HEAD"&&(this.opts.method="GET",this.opts.body=null)}onData(t){if(!this.location)return this.handler.onData(t)}onComplete(t){this.location?(this.location=null,this.abort=null,this.dispatch(this.opts,this)):this.handler.onComplete(t)}onBodySent(t){this.handler.onBodySent&&this.handler.onBodySent(t)}};function $ht(e,t){if(jht.indexOf(e)===-1)return null;for(let r=0;r<t.length;r+=2)if(t[r].length===8&&Ip.headerNameToString(t[r])==="location")return t[r+1]}o($ht,"parseLocation");function I6e(e,t,r){if(e.length===4)return Ip.headerNameToString(e)==="host";if(t&&Ip.headerNameToString(e).startsWith("content-"))return!0;if(r&&(e.length===13||e.length===6||e.length===19)){let n=Ip.headerNameToString(e);return n==="authorization"||n==="cookie"||n==="proxy-authorization"}return!1}o(I6e,"shouldRemoveHeader");function zht(e,t,r){let n=[];if(Array.isArray(e))for(let i=0;i<e.length;i+=2)I6e(e[i],t,r)||n.push(e[i],e[i+1]);else if(e&&typeof e=="object")for(let i of Object.keys(e))I6e(i,t,r)||n.push(i,e[i]);else $te(e==null,"headers must be an object or an array");return n}o(zht,"cleanRequestHeaders");T6e.exports=jte});var EM=V((MFr,w6e)=>{"use strict";d();var Yht=CM();function Kht({maxRedirections:e}){return t=>o(function(n,i){let{maxRedirections:s=e}=n;if(!s)return t(n,i);let a=new Yht(t,s,n,i);return n={...n,maxRedirections:0},t(n,a)},"Intercept")}o(Kht,"createRedirectInterceptor");w6e.exports=Kht});var gw=V((qFr,L6e)=>{"use strict";d();var S1=require("node:assert"),D6e=require("node:net"),Jht=require("node:http"),A4=ci(),{channels:_I}=cI(),Xht=WIe(),Zht=mI(),{InvalidArgumentError:la,InformationalError:ept,ClientDestroyedError:tpt}=ao(),rpt=KT(),{kUrl:Tp,kServerName:G5,kClient:npt,kBusy:zte,kConnect:ipt,kResuming:y4,kRunning:hw,kPending:pw,kSize:mw,kQueue:Qm,kConnected:opt,kConnecting:SI,kNeedDrain:H5,kKeepAliveDefaultTimeout:_6e,kHostHeader:spt,kPendingIdx:Mm,kRunningIdx:B1,kError:apt,kPipelining:xM,kKeepAliveTimeoutValue:lpt,kMaxHeadersSize:cpt,kKeepAliveMaxTimeout:upt,kKeepAliveTimeoutThreshold:fpt,kHeadersTimeout:dpt,kBodyTimeout:mpt,kStrictContentLength:hpt,kConnector:uw,kMaxRedirections:ppt,kMaxRequests:Yte,kCounter:gpt,kClose:Apt,kDestroy:ypt,kDispatch:Cpt,kInterceptors:S6e,kLocalAddress:fw,kMaxResponseSize:Ept,kOnError:xpt,kHTTPContext:ca,kMaxConcurrentStreams:vpt,kResume:dw}=vs(),bpt=h6e(),Ipt=v6e(),B6e=!1,W5=Symbol("kClosedResolve"),k6e=o(()=>{},"noop");function P6e(e){return e[xM]??e[ca]?.defaultPipelining??1}o(P6e,"getPipelining");var Kte=class extends Zht{static{o(this,"Client")}constructor(t,{interceptors:r,maxHeaderSize:n,headersTimeout:i,socketTimeout:s,requestTimeout:a,connectTimeout:l,bodyTimeout:c,idleTimeout:u,keepAlive:f,keepAliveTimeout:m,maxKeepAliveTimeout:h,keepAliveMaxTimeout:p,keepAliveTimeoutThreshold:A,socketPath:E,pipelining:x,tls:b,strictContentLength:v,maxCachedSessions:S,maxRedirections:k,connect:P,maxRequestsPerClient:N,localAddress:W,maxResponseSize:re,autoSelectFamily:ge,autoSelectFamilyAttemptTimeout:te,maxConcurrentStreams:G,allowH2:q}={}){if(super(),f!==void 0)throw new la("unsupported keepAlive, use pipelining=0 instead");if(s!==void 0)throw new la("unsupported socketTimeout, use headersTimeout & bodyTimeout instead");if(a!==void 0)throw new la("unsupported requestTimeout, use headersTimeout & bodyTimeout instead");if(u!==void 0)throw new la("unsupported idleTimeout, use keepAliveTimeout instead");if(h!==void 0)throw new la("unsupported maxKeepAliveTimeout, use keepAliveMaxTimeout instead");if(n!=null&&!Number.isFinite(n))throw new la("invalid maxHeaderSize");if(E!=null&&typeof E!="string")throw new la("invalid socketPath");if(l!=null&&(!Number.isFinite(l)||l<0))throw new la("invalid connectTimeout");if(m!=null&&(!Number.isFinite(m)||m<=0))throw new la("invalid keepAliveTimeout");if(p!=null&&(!Number.isFinite(p)||p<=0))throw new la("invalid keepAliveMaxTimeout");if(A!=null&&!Number.isFinite(A))throw new la("invalid keepAliveTimeoutThreshold");if(i!=null&&(!Number.isInteger(i)||i<0))throw new la("headersTimeout must be a positive integer or zero");if(c!=null&&(!Number.isInteger(c)||c<0))throw new la("bodyTimeout must be a positive integer or zero");if(P!=null&&typeof P!="function"&&typeof P!="object")throw new la("connect must be a function or an object");if(k!=null&&(!Number.isInteger(k)||k<0))throw new la("maxRedirections must be a positive number");if(N!=null&&(!Number.isInteger(N)||N<0))throw new la("maxRequestsPerClient must be a positive number");if(W!=null&&(typeof W!="string"||D6e.isIP(W)===0))throw new la("localAddress must be valid string IP address");if(re!=null&&(!Number.isInteger(re)||re<-1))throw new la("maxResponseSize must be a positive number");if(te!=null&&(!Number.isInteger(te)||te<-1))throw new la("autoSelectFamilyAttemptTimeout must be a positive number");if(q!=null&&typeof q!="boolean")throw new la("allowH2 must be a valid boolean value");if(G!=null&&(typeof G!="number"||G<1))throw new la("maxConcurrentStreams must be a positive integer, greater than 0");typeof P!="function"&&(P=rpt({...b,maxCachedSessions:S,allowH2:q,socketPath:E,timeout:l,...ge?{autoSelectFamily:ge,autoSelectFamilyAttemptTimeout:te}:void 0,...P})),r?.Client&&Array.isArray(r.Client)?(this[S6e]=r.Client,B6e||(B6e=!0,process.emitWarning("Client.Options#interceptor is deprecated. Use Dispatcher#compose instead.",{code:"UNDICI-CLIENT-INTERCEPTOR-DEPRECATED"}))):this[S6e]=[Tpt({maxRedirections:k})],this[Tp]=A4.parseOrigin(t),this[uw]=P,this[xM]=x??1,this[cpt]=n||Jht.maxHeaderSize,this[_6e]=m??4e3,this[upt]=p??6e5,this[fpt]=A??2e3,this[lpt]=this[_6e],this[G5]=null,this[fw]=W??null,this[y4]=0,this[H5]=0,this[spt]=`host: ${this[Tp].hostname}${this[Tp].port?`:${this[Tp].port}`:""}\r
`,this[mpt]=c??3e5,this[dpt]=i??3e5,this[hpt]=v??!0,this[ppt]=k,this[Yte]=N,this[W5]=null,this[Ept]=re>-1?re:-1,this[vpt]=G??100,this[ca]=null,this[Qm]=[],this[B1]=0,this[Mm]=0,this[dw]=se=>Jte(this,se),this[xpt]=se=>N6e(this,se)}get pipelining(){return this[xM]}set pipelining(t){this[xM]=t,this[dw](!0)}get[pw](){return this[Qm].length-this[Mm]}get[hw](){return this[Mm]-this[B1]}get[mw](){return this[Qm].length-this[B1]}get[opt](){return!!this[ca]&&!this[SI]&&!this[ca].destroyed}get[zte](){return!!(this[ca]?.busy(null)||this[mw]>=(P6e(this)||1)||this[pw]>0)}[ipt](t){F6e(this),this.once("connect",t)}[Cpt](t,r){let n=t.origin||this[Tp].origin,i=new Xht(n,t,r);return this[Qm].push(i),this[y4]||(A4.bodyLength(i.body)==null&&A4.isIterable(i.body)?(this[y4]=1,queueMicrotask(()=>Jte(this))):this[dw](!0)),this[y4]&&this[H5]!==2&&this[zte]&&(this[H5]=2),this[H5]<2}async[Apt](){return new Promise(t=>{this[mw]?this[W5]=t:t(null)})}async[ypt](t){return new Promise(r=>{let n=this[Qm].splice(this[Mm]);for(let s=0;s<n.length;s++){let a=n[s];A4.errorRequest(this,a,t)}let i=o(()=>{this[W5]&&(this[W5](),this[W5]=null),r(null)},"callback");this[ca]?(this[ca].destroy(t,i),this[ca]=null):queueMicrotask(i),this[dw]()})}},Tpt=EM();function N6e(e,t){if(e[hw]===0&&t.code!=="UND_ERR_INFO"&&t.code!=="UND_ERR_SOCKET"){S1(e[Mm]===e[B1]);let r=e[Qm].splice(e[B1]);for(let n=0;n<r.length;n++){let i=r[n];A4.errorRequest(e,i,t)}S1(e[mw]===0)}}o(N6e,"onError");async function F6e(e){S1(!e[SI]),S1(!e[ca]);let{host:t,hostname:r,protocol:n,port:i}=e[Tp];if(r[0]==="["){let s=r.indexOf("]");S1(s!==-1);let a=r.substring(1,s);S1(D6e.isIP(a)),r=a}e[SI]=!0,_I.beforeConnect.hasSubscribers&&_I.beforeConnect.publish({connectParams:{host:t,hostname:r,protocol:n,port:i,version:e[ca]?.version,servername:e[G5],localAddress:e[fw]},connector:e[uw]});try{let s=await new Promise((a,l)=>{e[uw]({host:t,hostname:r,protocol:n,port:i,servername:e[G5],localAddress:e[fw]},(c,u)=>{c?l(c):a(u)})});if(e.destroyed){A4.destroy(s.on("error",k6e),new tpt);return}S1(s);try{e[ca]=s.alpnProtocol==="h2"?await Ipt(e,s):await bpt(e,s)}catch(a){throw s.destroy().on("error",k6e),a}e[SI]=!1,s[gpt]=0,s[Yte]=e[Yte],s[npt]=e,s[apt]=null,_I.connected.hasSubscribers&&_I.connected.publish({connectParams:{host:t,hostname:r,protocol:n,port:i,version:e[ca]?.version,servername:e[G5],localAddress:e[fw]},connector:e[uw],socket:s}),e.emit("connect",e[Tp],[e])}catch(s){if(e.destroyed)return;if(e[SI]=!1,_I.connectError.hasSubscribers&&_I.connectError.publish({connectParams:{host:t,hostname:r,protocol:n,port:i,version:e[ca]?.version,servername:e[G5],localAddress:e[fw]},connector:e[uw],error:s}),s.code==="ERR_TLS_CERT_ALTNAME_INVALID")for(S1(e[hw]===0);e[pw]>0&&e[Qm][e[Mm]].servername===e[G5];){let a=e[Qm][e[Mm]++];A4.errorRequest(e,a,s)}else N6e(e,s);e.emit("connectionError",e[Tp],[e],s)}e[dw]()}o(F6e,"connect");function R6e(e){e[H5]=0,e.emit("drain",e[Tp],[e])}o(R6e,"emitDrain");function Jte(e,t){e[y4]!==2&&(e[y4]=2,wpt(e,t),e[y4]=0,e[B1]>256&&(e[Qm].splice(0,e[B1]),e[Mm]-=e[B1],e[B1]=0))}o(Jte,"resume");function wpt(e,t){for(;;){if(e.destroyed){S1(e[pw]===0);return}if(e[W5]&&!e[mw]){e[W5](),e[W5]=null;return}if(e[ca]&&e[ca].resume(),e[zte])e[H5]=2;else if(e[H5]===2){t?(e[H5]=1,queueMicrotask(()=>R6e(e))):R6e(e);continue}if(e[pw]===0||e[hw]>=(P6e(e)||1))return;let r=e[Qm][e[Mm]];if(e[Tp].protocol==="https:"&&e[G5]!==r.servername){if(e[hw]>0)return;e[G5]=r.servername,e[ca]?.destroy(new ept("servername changed"),()=>{e[ca]=null,Jte(e)})}if(e[SI])return;if(!e[ca]){F6e(e);return}if(e[ca].destroyed||e[ca].busy(r))return;!r.aborted&&e[ca].write(r)?e[Mm]++:e[Qm].splice(e[Mm],1)}}o(wpt,"_resume");L6e.exports=Kte});var Xte=V((VFr,Q6e)=>{"use strict";d();var vM=class{static{o(this,"FixedCircularBuffer")}constructor(){this.bottom=0,this.top=0,this.list=new Array(2048),this.next=null}isEmpty(){return this.top===this.bottom}isFull(){return(this.top+1&2047)===this.bottom}push(t){this.list[this.top]=t,this.top=this.top+1&2047}shift(){let t=this.list[this.bottom];return t===void 0?null:(this.list[this.bottom]=void 0,this.bottom=this.bottom+1&2047,t)}};Q6e.exports=class{static{o(this,"FixedQueue")}constructor(){this.head=this.tail=new vM}isEmpty(){return this.head.isEmpty()}push(t){this.head.isFull()&&(this.head=this.head.next=new vM),this.head.push(t)}shift(){let t=this.tail,r=t.shift();return t.isEmpty()&&t.next!==null&&(this.tail=t.next),r}}});var O6e=V((zFr,M6e)=>{d();var{kFree:_pt,kConnected:Spt,kPending:Bpt,kQueued:kpt,kRunning:Rpt,kSize:Dpt}=vs(),C4=Symbol("pool"),Zte=class{static{o(this,"PoolStats")}constructor(t){this[C4]=t}get connected(){return this[C4][Spt]}get free(){return this[C4][_pt]}get pending(){return this[C4][Bpt]}get queued(){return this[C4][kpt]}get running(){return this[C4][Rpt]}get size(){return this[C4][Dpt]}};M6e.exports=Zte});var ore=V((JFr,Y6e)=>{"use strict";d();var Ppt=mI(),Npt=Xte(),{kConnected:ere,kSize:U6e,kRunning:q6e,kPending:G6e,kQueued:Aw,kBusy:Fpt,kFree:Lpt,kUrl:Qpt,kClose:Mpt,kDestroy:Opt,kDispatch:Upt}=vs(),qpt=O6e(),Lc=Symbol("clients"),W0=Symbol("needDrain"),yw=Symbol("queue"),tre=Symbol("closed resolve"),rre=Symbol("onDrain"),W6e=Symbol("onConnect"),H6e=Symbol("onDisconnect"),V6e=Symbol("onConnectionError"),nre=Symbol("get dispatcher"),$6e=Symbol("add client"),z6e=Symbol("remove client"),j6e=Symbol("stats"),ire=class extends Ppt{static{o(this,"PoolBase")}constructor(){super(),this[yw]=new Npt,this[Lc]=[],this[Aw]=0;let t=this;this[rre]=o(function(n,i){let s=t[yw],a=!1;for(;!a;){let l=s.shift();if(!l)break;t[Aw]--,a=!this.dispatch(l.opts,l.handler)}this[W0]=a,!this[W0]&&t[W0]&&(t[W0]=!1,t.emit("drain",n,[t,...i])),t[tre]&&s.isEmpty()&&Promise.all(t[Lc].map(l=>l.close())).then(t[tre])},"onDrain"),this[W6e]=(r,n)=>{t.emit("connect",r,[t,...n])},this[H6e]=(r,n,i)=>{t.emit("disconnect",r,[t,...n],i)},this[V6e]=(r,n,i)=>{t.emit("connectionError",r,[t,...n],i)},this[j6e]=new qpt(this)}get[Fpt](){return this[W0]}get[ere](){return this[Lc].filter(t=>t[ere]).length}get[Lpt](){return this[Lc].filter(t=>t[ere]&&!t[W0]).length}get[G6e](){let t=this[Aw];for(let{[G6e]:r}of this[Lc])t+=r;return t}get[q6e](){let t=0;for(let{[q6e]:r}of this[Lc])t+=r;return t}get[U6e](){let t=this[Aw];for(let{[U6e]:r}of this[Lc])t+=r;return t}get stats(){return this[j6e]}async[Mpt](){this[yw].isEmpty()?await Promise.all(this[Lc].map(t=>t.close())):await new Promise(t=>{this[tre]=t})}async[Opt](t){for(;;){let r=this[yw].shift();if(!r)break;r.handler.onError(t)}await Promise.all(this[Lc].map(r=>r.destroy(t)))}[Upt](t,r){let n=this[nre]();return n?n.dispatch(t,r)||(n[W0]=!0,this[W0]=!this[nre]()):(this[W0]=!0,this[yw].push({opts:t,handler:r}),this[Aw]++),!this[W0]}[$6e](t){return t.on("drain",this[rre]).on("connect",this[W6e]).on("disconnect",this[H6e]).on("connectionError",this[V6e]),this[Lc].push(t),this[W0]&&queueMicrotask(()=>{this[W0]&&this[rre](t[Qpt],[this,t])}),this}[z6e](t){t.close(()=>{let r=this[Lc].indexOf(t);r!==-1&&this[Lc].splice(r,1)}),this[W0]=this[Lc].some(r=>!r[W0]&&r.closed!==!0&&r.destroyed!==!0)}};Y6e.exports={PoolBase:ire,kClients:Lc,kNeedDrain:W0,kAddClient:$6e,kRemoveClient:z6e,kGetDispatcher:nre}});var BI=V((eLr,e9e)=>{"use strict";d();var{PoolBase:Gpt,kClients:K6e,kNeedDrain:Wpt,kAddClient:Hpt,kGetDispatcher:Vpt}=ore(),jpt=gw(),{InvalidArgumentError:sre}=ao(),J6e=ci(),{kUrl:X6e,kInterceptors:$pt}=vs(),zpt=KT(),are=Symbol("options"),lre=Symbol("connections"),Z6e=Symbol("factory");function Ypt(e,t){return new jpt(e,t)}o(Ypt,"defaultFactory");var cre=class extends Gpt{static{o(this,"Pool")}constructor(t,{connections:r,factory:n=Ypt,connect:i,connectTimeout:s,tls:a,maxCachedSessions:l,socketPath:c,autoSelectFamily:u,autoSelectFamilyAttemptTimeout:f,allowH2:m,...h}={}){if(super(),r!=null&&(!Number.isFinite(r)||r<0))throw new sre("invalid connections");if(typeof n!="function")throw new sre("factory must be a function.");if(i!=null&&typeof i!="function"&&typeof i!="object")throw new sre("connect must be a function or an object");typeof i!="function"&&(i=zpt({...a,maxCachedSessions:l,allowH2:m,socketPath:c,timeout:s,...u?{autoSelectFamily:u,autoSelectFamilyAttemptTimeout:f}:void 0,...i})),this[$pt]=h.interceptors?.Pool&&Array.isArray(h.interceptors.Pool)?h.interceptors.Pool:[],this[lre]=r||null,this[X6e]=J6e.parseOrigin(t),this[are]={...J6e.deepClone(h),connect:i,allowH2:m},this[are].interceptors=h.interceptors?{...h.interceptors}:void 0,this[Z6e]=n}[Vpt](){for(let t of this[K6e])if(!t[Wpt])return t;if(!this[lre]||this[K6e].length<this[lre]){let t=this[Z6e](this[X6e],this[are]);return this[Hpt](t),t}}};e9e.exports=cre});var o9e=V((nLr,i9e)=>{"use strict";d();var{BalancedPoolMissingUpstreamError:Kpt,InvalidArgumentError:Jpt}=ao(),{PoolBase:Xpt,kClients:A0,kNeedDrain:Cw,kAddClient:Zpt,kRemoveClient:egt,kGetDispatcher:tgt}=ore(),rgt=BI(),{kUrl:ure,kInterceptors:ngt}=vs(),{parseOrigin:t9e}=ci(),r9e=Symbol("factory"),bM=Symbol("options"),n9e=Symbol("kGreatestCommonDivisor"),E4=Symbol("kCurrentWeight"),x4=Symbol("kIndex"),fd=Symbol("kWeight"),IM=Symbol("kMaxWeightPerServer"),TM=Symbol("kErrorPenalty");function igt(e,t){if(e===0)return t;for(;t!==0;){let r=t;t=e%t,e=r}return e}o(igt,"getGreatestCommonDivisor");function ogt(e,t){return new rgt(e,t)}o(ogt,"defaultFactory");var fre=class extends Xpt{static{o(this,"BalancedPool")}constructor(t=[],{factory:r=ogt,...n}={}){if(super(),this[bM]=n,this[x4]=-1,this[E4]=0,this[IM]=this[bM].maxWeightPerServer||100,this[TM]=this[bM].errorPenalty||15,Array.isArray(t)||(t=[t]),typeof r!="function")throw new Jpt("factory must be a function.");this[ngt]=n.interceptors?.BalancedPool&&Array.isArray(n.interceptors.BalancedPool)?n.interceptors.BalancedPool:[],this[r9e]=r;for(let i of t)this.addUpstream(i);this._updateBalancedPoolStats()}addUpstream(t){let r=t9e(t).origin;if(this[A0].find(i=>i[ure].origin===r&&i.closed!==!0&&i.destroyed!==!0))return this;let n=this[r9e](r,Object.assign({},this[bM]));this[Zpt](n),n.on("connect",()=>{n[fd]=Math.min(this[IM],n[fd]+this[TM])}),n.on("connectionError",()=>{n[fd]=Math.max(1,n[fd]-this[TM]),this._updateBalancedPoolStats()}),n.on("disconnect",(...i)=>{let s=i[2];s&&s.code==="UND_ERR_SOCKET"&&(n[fd]=Math.max(1,n[fd]-this[TM]),this._updateBalancedPoolStats())});for(let i of this[A0])i[fd]=this[IM];return this._updateBalancedPoolStats(),this}_updateBalancedPoolStats(){let t=0;for(let r=0;r<this[A0].length;r++)t=igt(this[A0][r][fd],t);this[n9e]=t}removeUpstream(t){let r=t9e(t).origin,n=this[A0].find(i=>i[ure].origin===r&&i.closed!==!0&&i.destroyed!==!0);return n&&this[egt](n),this}get upstreams(){return this[A0].filter(t=>t.closed!==!0&&t.destroyed!==!0).map(t=>t[ure].origin)}[tgt](){if(this[A0].length===0)throw new Kpt;if(!this[A0].find(s=>!s[Cw]&&s.closed!==!0&&s.destroyed!==!0)||this[A0].map(s=>s[Cw]).reduce((s,a)=>s&&a,!0))return;let n=0,i=this[A0].findIndex(s=>!s[Cw]);for(;n++<this[A0].length;){this[x4]=(this[x4]+1)%this[A0].length;let s=this[A0][this[x4]];if(s[fd]>this[A0][i][fd]&&!s[Cw]&&(i=this[x4]),this[x4]===0&&(this[E4]=this[E4]-this[n9e],this[E4]<=0&&(this[E4]=this[IM])),s[fd]>=this[E4]&&!s[Cw])return s}return this[E4]=this[A0][i][fd],this[x4]=i,this[A0][i]}};i9e.exports=fre});var kI=V((sLr,d9e)=>{"use strict";d();var{InvalidArgumentError:wM}=ao(),{kClients:V5,kRunning:s9e,kClose:sgt,kDestroy:agt,kDispatch:lgt,kInterceptors:cgt}=vs(),ugt=mI(),fgt=BI(),dgt=gw(),mgt=ci(),hgt=EM(),a9e=Symbol("onConnect"),l9e=Symbol("onDisconnect"),c9e=Symbol("onConnectionError"),pgt=Symbol("maxRedirections"),u9e=Symbol("onDrain"),f9e=Symbol("factory"),dre=Symbol("options");function ggt(e,t){return t&&t.connections===1?new dgt(e,t):new fgt(e,t)}o(ggt,"defaultFactory");var mre=class extends ugt{static{o(this,"Agent")}constructor({factory:t=ggt,maxRedirections:r=0,connect:n,...i}={}){if(super(),typeof t!="function")throw new wM("factory must be a function.");if(n!=null&&typeof n!="function"&&typeof n!="object")throw new wM("connect must be a function or an object");if(!Number.isInteger(r)||r<0)throw new wM("maxRedirections must be a positive number");n&&typeof n!="function"&&(n={...n}),this[cgt]=i.interceptors?.Agent&&Array.isArray(i.interceptors.Agent)?i.interceptors.Agent:[hgt({maxRedirections:r})],this[dre]={...mgt.deepClone(i),connect:n},this[dre].interceptors=i.interceptors?{...i.interceptors}:void 0,this[pgt]=r,this[f9e]=t,this[V5]=new Map,this[u9e]=(s,a)=>{this.emit("drain",s,[this,...a])},this[a9e]=(s,a)=>{this.emit("connect",s,[this,...a])},this[l9e]=(s,a,l)=>{this.emit("disconnect",s,[this,...a],l)},this[c9e]=(s,a,l)=>{this.emit("connectionError",s,[this,...a],l)}}get[s9e](){let t=0;for(let r of this[V5].values())t+=r[s9e];return t}[lgt](t,r){let n;if(t.origin&&(typeof t.origin=="string"||t.origin instanceof URL))n=String(t.origin);else throw new wM("opts.origin must be a non-empty string or URL.");let i=this[V5].get(n);return i||(i=this[f9e](t.origin,this[dre]).on("drain",this[u9e]).on("connect",this[a9e]).on("disconnect",this[l9e]).on("connectionError",this[c9e]),this[V5].set(n,i)),i.dispatch(t,r)}async[sgt](){let t=[];for(let r of this[V5].values())t.push(r.close());this[V5].clear(),await Promise.all(t)}async[agt](t){let r=[];for(let n of this[V5].values())r.push(n.destroy(t));this[V5].clear(),await Promise.all(r)}};d9e.exports=mre});var gre=V((cLr,g9e)=>{"use strict";d();var{kProxy:Agt,kClose:ygt,kDestroy:Cgt,kInterceptors:Egt}=vs(),{URL:Ew}=require("node:url"),xgt=kI(),vgt=BI(),bgt=mI(),{InvalidArgumentError:BM,RequestAbortedError:Igt,SecureProxyConnectionError:Tgt}=ao(),m9e=KT(),_M=Symbol("proxy agent"),SM=Symbol("proxy client"),xw=Symbol("proxy headers"),hre=Symbol("request tls settings"),h9e=Symbol("proxy tls settings"),p9e=Symbol("connect endpoint function");function wgt(e){return e==="https:"?443:80}o(wgt,"defaultProtocolPort");function _gt(e,t){return new vgt(e,t)}o(_gt,"defaultFactory");var Sgt=o(()=>{},"noop"),pre=class extends bgt{static{o(this,"ProxyAgent")}constructor(t){if(super(),!t||typeof t=="object"&&!(t instanceof Ew)&&!t.uri)throw new BM("Proxy uri is mandatory");let{clientFactory:r=_gt}=t;if(typeof r!="function")throw new BM("Proxy opts.clientFactory must be a function.");let n=this.#e(t),{href:i,origin:s,port:a,protocol:l,username:c,password:u,hostname:f}=n;if(this[Agt]={uri:i,protocol:l},this[Egt]=t.interceptors?.ProxyAgent&&Array.isArray(t.interceptors.ProxyAgent)?t.interceptors.ProxyAgent:[],this[hre]=t.requestTls,this[h9e]=t.proxyTls,this[xw]=t.headers||{},t.auth&&t.token)throw new BM("opts.auth cannot be used in combination with opts.token");t.auth?this[xw]["proxy-authorization"]=`Basic ${t.auth}`:t.token?this[xw]["proxy-authorization"]=t.token:c&&u&&(this[xw]["proxy-authorization"]=`Basic ${Buffer.from(`${decodeURIComponent(c)}:${decodeURIComponent(u)}`).toString("base64")}`);let m=m9e({...t.proxyTls});this[p9e]=m9e({...t.requestTls}),this[SM]=r(n,{connect:m}),this[_M]=new xgt({...t,connect:o(async(h,p)=>{let A=h.host;h.port||(A+=`:${wgt(h.protocol)}`);try{let{socket:E,statusCode:x}=await this[SM].connect({origin:s,port:a,path:A,signal:h.signal,headers:{...this[xw],host:h.host},servername:this[h9e]?.servername||f});if(x!==200&&(E.on("error",Sgt).destroy(),p(new Igt(`Proxy response (${x}) !== 200 when HTTP Tunneling`))),h.protocol!=="https:"){p(null,E);return}let b;this[hre]?b=this[hre].servername:b=h.servername,this[p9e]({...h,servername:b,httpSocket:E},p)}catch(E){E.code==="ERR_TLS_CERT_ALTNAME_INVALID"?p(new Tgt(E)):p(E)}},"connect")})}dispatch(t,r){let n=Bgt(t.headers);if(kgt(n),n&&!("host"in n)&&!("Host"in n)){let{host:i}=new Ew(t.origin);n.host=i}return this[_M].dispatch({...t,headers:n},r)}#e(t){return typeof t=="string"?new Ew(t):t instanceof Ew?t:new Ew(t.uri)}async[ygt](){await this[_M].close(),await this[SM].close()}async[Cgt](){await this[_M].destroy(),await this[SM].destroy()}};function Bgt(e){if(Array.isArray(e)){let t={};for(let r=0;r<e.length;r+=2)t[e[r]]=e[r+1];return t}return e}o(Bgt,"buildHeaders");function kgt(e){if(e&&Object.keys(e).find(r=>r.toLowerCase()==="proxy-authorization"))throw new BM("Proxy-Authorization should be sent in ProxyAgent constructor")}o(kgt,"throwIfProxyAuthIsSent");g9e.exports=pre});var v9e=V((dLr,x9e)=>{"use strict";d();var Rgt=mI(),{kClose:Dgt,kDestroy:Pgt,kClosed:A9e,kDestroyed:y9e,kDispatch:Ngt,kNoProxyAgent:vw,kHttpProxyAgent:j5,kHttpsProxyAgent:v4}=vs(),C9e=gre(),Fgt=kI(),Lgt={"http:":80,"https:":443},E9e=!1,Are=class extends Rgt{static{o(this,"EnvHttpProxyAgent")}#e=null;#t=null;#i=null;constructor(t={}){super(),this.#i=t,E9e||(E9e=!0,process.emitWarning("EnvHttpProxyAgent is experimental, expect them to change at any time.",{code:"UNDICI-EHPA"}));let{httpProxy:r,httpsProxy:n,noProxy:i,...s}=t;this[vw]=new Fgt(s);let a=r??process.env.http_proxy??process.env.HTTP_PROXY;a?this[j5]=new C9e({...s,uri:a}):this[j5]=this[vw];let l=n??process.env.https_proxy??process.env.HTTPS_PROXY;l?this[v4]=new C9e({...s,uri:l}):this[v4]=this[j5],this.#o()}[Ngt](t,r){let n=new URL(t.origin);return this.#n(n).dispatch(t,r)}async[Dgt](){await this[vw].close(),this[j5][A9e]||await this[j5].close(),this[v4][A9e]||await this[v4].close()}async[Pgt](t){await this[vw].destroy(t),this[j5][y9e]||await this[j5].destroy(t),this[v4][y9e]||await this[v4].destroy(t)}#n(t){let{protocol:r,host:n,port:i}=t;return n=n.replace(/:\d*$/,"").toLowerCase(),i=Number.parseInt(i,10)||Lgt[r]||0,this.#r(n,i)?r==="https:"?this[v4]:this[j5]:this[vw]}#r(t,r){if(this.#s&&this.#o(),this.#t.length===0)return!0;if(this.#e==="*")return!1;for(let n=0;n<this.#t.length;n++){let i=this.#t[n];if(!(i.port&&i.port!==r)){if(/^[.*]/.test(i.hostname)){if(t.endsWith(i.hostname.replace(/^\*/,"")))return!1}else if(t===i.hostname)return!1}}return!0}#o(){let t=this.#i.noProxy??this.#a,r=t.split(/[,\s]/),n=[];for(let i=0;i<r.length;i++){let s=r[i];if(!s)continue;let a=s.match(/^(.+):(\d+)$/);n.push({hostname:(a?a[1]:s).toLowerCase(),port:a?Number.parseInt(a[2],10):0})}this.#e=t,this.#t=n}get#s(){return this.#i.noProxy!==void 0?!1:this.#e!==this.#a}get#a(){return process.env.no_proxy??process.env.NO_PROXY??""}};x9e.exports=Are});var kM=V((pLr,w9e)=>{"use strict";d();var RI=require("node:assert"),{kRetryHandlerDefaultRetry:b9e}=vs(),{RequestRetryError:bw}=ao(),{isDisturbed:I9e,parseHeaders:Qgt,parseRangeHeader:T9e,wrapRequestBody:Mgt}=ci();function Ogt(e){let t=Date.now();return new Date(e).getTime()-t}o(Ogt,"calculateRetryAfterHeader");var yre=class e{static{o(this,"RetryHandler")}constructor(t,r){let{retryOptions:n,...i}=t,{retry:s,maxRetries:a,maxTimeout:l,minTimeout:c,timeoutFactor:u,methods:f,errorCodes:m,retryAfter:h,statusCodes:p}=n??{};this.dispatch=r.dispatch,this.handler=r.handler,this.opts={...i,body:Mgt(t.body)},this.abort=null,this.aborted=!1,this.retryOpts={retry:s??e[b9e],retryAfter:h??!0,maxTimeout:l??30*1e3,minTimeout:c??500,timeoutFactor:u??2,maxRetries:a??5,methods:f??["GET","HEAD","OPTIONS","PUT","DELETE","TRACE"],statusCodes:p??[500,502,503,504,429],errorCodes:m??["ECONNRESET","ECONNREFUSED","ENOTFOUND","ENETDOWN","ENETUNREACH","EHOSTDOWN","EHOSTUNREACH","EPIPE","UND_ERR_SOCKET"]},this.retryCount=0,this.retryCountCheckpoint=0,this.start=0,this.end=null,this.etag=null,this.resume=null,this.handler.onConnect(A=>{this.aborted=!0,this.abort?this.abort(A):this.reason=A})}onRequestSent(){this.handler.onRequestSent&&this.handler.onRequestSent()}onUpgrade(t,r,n){this.handler.onUpgrade&&this.handler.onUpgrade(t,r,n)}onConnect(t){this.aborted?t(this.reason):this.abort=t}onBodySent(t){if(this.handler.onBodySent)return this.handler.onBodySent(t)}static[b9e](t,{state:r,opts:n},i){let{statusCode:s,code:a,headers:l}=t,{method:c,retryOptions:u}=n,{maxRetries:f,minTimeout:m,maxTimeout:h,timeoutFactor:p,statusCodes:A,errorCodes:E,methods:x}=u,{counter:b}=r;if(a&&a!=="UND_ERR_REQ_RETRY"&&!E.includes(a)){i(t);return}if(Array.isArray(x)&&!x.includes(c)){i(t);return}if(s!=null&&Array.isArray(A)&&!A.includes(s)){i(t);return}if(b>f){i(t);return}let v=l?.["retry-after"];v&&(v=Number(v),v=Number.isNaN(v)?Ogt(v):v*1e3);let S=v>0?Math.min(v,h):Math.min(m*p**(b-1),h);setTimeout(()=>i(null),S)}onHeaders(t,r,n,i){let s=Qgt(r);if(this.retryCount+=1,t>=300)return this.retryOpts.statusCodes.includes(t)===!1?this.handler.onHeaders(t,r,n,i):(this.abort(new bw("Request failed",t,{headers:s,data:{count:this.retryCount}})),!1);if(this.resume!=null){if(this.resume=null,t!==206&&(this.start>0||t!==200))return this.abort(new bw("server does not support the range header and the payload was partially consumed",t,{headers:s,data:{count:this.retryCount}})),!1;let l=T9e(s["content-range"]);if(!l)return this.abort(new bw("Content-Range mismatch",t,{headers:s,data:{count:this.retryCount}})),!1;if(this.etag!=null&&this.etag!==s.etag)return this.abort(new bw("ETag mismatch",t,{headers:s,data:{count:this.retryCount}})),!1;let{start:c,size:u,end:f=u-1}=l;return RI(this.start===c,"content-range mismatch"),RI(this.end==null||this.end===f,"content-range mismatch"),this.resume=n,!0}if(this.end==null){if(t===206){let l=T9e(s["content-range"]);if(l==null)return this.handler.onHeaders(t,r,n,i);let{start:c,size:u,end:f=u-1}=l;RI(c!=null&&Number.isFinite(c),"content-range mismatch"),RI(f!=null&&Number.isFinite(f),"invalid content-length"),this.start=c,this.end=f}if(this.end==null){let l=s["content-length"];this.end=l!=null?Number(l)-1:null}return RI(Number.isFinite(this.start)),RI(this.end==null||Number.isFinite(this.end),"invalid content-length"),this.resume=n,this.etag=s.etag!=null?s.etag:null,this.etag!=null&&this.etag.startsWith("W/")&&(this.etag=null),this.handler.onHeaders(t,r,n,i)}let a=new bw("Request failed",t,{headers:s,data:{count:this.retryCount}});return this.abort(a),!1}onData(t){return this.start+=t.length,this.handler.onData(t)}onComplete(t){return this.retryCount=0,this.handler.onComplete(t)}onError(t){if(this.aborted||I9e(this.opts.body))return this.handler.onError(t);this.retryCount-this.retryCountCheckpoint>0?this.retryCount=this.retryCountCheckpoint+(this.retryCount-this.retryCountCheckpoint):this.retryCount+=1,this.retryOpts.retry(t,{state:{counter:this.retryCount},opts:{retryOptions:this.retryOpts,...this.opts}},r.bind(this));function r(n){if(n!=null||this.aborted||I9e(this.opts.body))return this.handler.onError(n);if(this.start!==0){let i={range:`bytes=${this.start}-${this.end??""}`};this.etag!=null&&(i["if-match"]=this.etag),this.opts={...this.opts,headers:{...this.opts.headers,...i}}}try{this.retryCountCheckpoint=this.retryCount,this.dispatch(this.opts,this)}catch(i){this.handler.onError(i)}}o(r,"onRetry")}};w9e.exports=yre});var S9e=V((yLr,_9e)=>{"use strict";d();var Ugt=zT(),qgt=kM(),Cre=class extends Ugt{static{o(this,"RetryAgent")}#e=null;#t=null;constructor(t,r={}){super(r),this.#e=t,this.#t=r}dispatch(t,r){let n=new qgt({...t,retryOptions:this.#t},{dispatch:this.#e.dispatch.bind(this.#e),handler:r});return this.#e.dispatch(t,n)}close(){return this.#e.close()}destroy(){return this.#e.destroy()}};_9e.exports=Cre});var Tre=V((xLr,Q9e)=>{"use strict";d();var P9e=require("node:assert"),{Readable:Ggt}=require("node:stream"),{RequestAbortedError:N9e,NotSupportedError:Wgt,InvalidArgumentError:Hgt,AbortError:Ere}=ao(),F9e=ci(),{ReadableStreamFrom:Vgt}=ci(),Ou=Symbol("kConsume"),Iw=Symbol("kReading"),$5=Symbol("kBody"),B9e=Symbol("kAbort"),L9e=Symbol("kContentType"),k9e=Symbol("kContentLength"),jgt=o(()=>{},"noop"),xre=class extends Ggt{static{o(this,"BodyReadable")}constructor({resume:t,abort:r,contentType:n="",contentLength:i,highWaterMark:s=64*1024}){super({autoDestroy:!0,read:t,highWaterMark:s}),this._readableState.dataEmitted=!1,this[B9e]=r,this[Ou]=null,this[$5]=null,this[L9e]=n,this[k9e]=i,this[Iw]=!1}destroy(t){return!t&&!this._readableState.endEmitted&&(t=new N9e),t&&this[B9e](),super.destroy(t)}_destroy(t,r){this[Iw]?r(t):setImmediate(()=>{r(t)})}on(t,...r){return(t==="data"||t==="readable")&&(this[Iw]=!0),super.on(t,...r)}addListener(t,...r){return this.on(t,...r)}off(t,...r){let n=super.off(t,...r);return(t==="data"||t==="readable")&&(this[Iw]=this.listenerCount("data")>0||this.listenerCount("readable")>0),n}removeListener(t,...r){return this.off(t,...r)}push(t){return this[Ou]&&t!==null?(bre(this[Ou],t),this[Iw]?super.push(t):!0):super.push(t)}async text(){return Tw(this,"text")}async json(){return Tw(this,"json")}async blob(){return Tw(this,"blob")}async bytes(){return Tw(this,"bytes")}async arrayBuffer(){return Tw(this,"arrayBuffer")}async formData(){throw new Wgt}get bodyUsed(){return F9e.isDisturbed(this)}get body(){return this[$5]||(this[$5]=Vgt(this),this[Ou]&&(this[$5].getReader(),P9e(this[$5].locked))),this[$5]}async dump(t){let r=Number.isFinite(t?.limit)?t.limit:131072,n=t?.signal;if(n!=null&&(typeof n!="object"||!("aborted"in n)))throw new Hgt("signal must be an AbortSignal");return n?.throwIfAborted(),this._readableState.closeEmitted?null:await new Promise((i,s)=>{this[k9e]>r&&this.destroy(new Ere);let a=o(()=>{this.destroy(n.reason??new Ere)},"onAbort");n?.addEventListener("abort",a),this.on("close",function(){n?.removeEventListener("abort",a),n?.aborted?s(n.reason??new Ere):i(null)}).on("error",jgt).on("data",function(l){r-=l.length,r<=0&&this.destroy()}).resume()})}};function $gt(e){return e[$5]&&e[$5].locked===!0||e[Ou]}o($gt,"isLocked");function zgt(e){return F9e.isDisturbed(e)||$gt(e)}o(zgt,"isUnusable");async function Tw(e,t){return P9e(!e[Ou]),new Promise((r,n)=>{if(zgt(e)){let i=e._readableState;i.destroyed&&i.closeEmitted===!1?e.on("error",s=>{n(s)}).on("close",()=>{n(new TypeError("unusable"))}):n(i.errored??new TypeError("unusable"))}else queueMicrotask(()=>{e[Ou]={type:t,stream:e,resolve:r,reject:n,length:0,body:[]},e.on("error",function(i){Ire(this[Ou],i)}).on("close",function(){this[Ou].body!==null&&Ire(this[Ou],new N9e)}),Ygt(e[Ou])})})}o(Tw,"consume");function Ygt(e){if(e.body===null)return;let{_readableState:t}=e.stream;if(t.bufferIndex){let r=t.bufferIndex,n=t.buffer.length;for(let i=r;i<n;i++)bre(e,t.buffer[i])}else for(let r of t.buffer)bre(e,r);for(t.endEmitted?D9e(this[Ou]):e.stream.on("end",function(){D9e(this[Ou])}),e.stream.resume();e.stream.read()!=null;);}o(Ygt,"consumeStart");function vre(e,t){if(e.length===0||t===0)return"";let r=e.length===1?e[0]:Buffer.concat(e,t),n=r.length,i=n>2&&r[0]===239&&r[1]===187&&r[2]===191?3:0;return r.utf8Slice(i,n)}o(vre,"chunksDecode");function R9e(e,t){if(e.length===0||t===0)return new Uint8Array(0);if(e.length===1)return new Uint8Array(e[0]);let r=new Uint8Array(Buffer.allocUnsafeSlow(t).buffer),n=0;for(let i=0;i<e.length;++i){let s=e[i];r.set(s,n),n+=s.length}return r}o(R9e,"chunksConcat");function D9e(e){let{type:t,body:r,resolve:n,stream:i,length:s}=e;try{t==="text"?n(vre(r,s)):t==="json"?n(JSON.parse(vre(r,s))):t==="arrayBuffer"?n(R9e(r,s).buffer):t==="blob"?n(new Blob(r,{type:i[L9e]})):t==="bytes"&&n(R9e(r,s)),Ire(e)}catch(a){i.destroy(a)}}o(D9e,"consumeEnd");function bre(e,t){e.length+=t.length,e.body.push(t)}o(bre,"consumePush");function Ire(e,t){e.body!==null&&(t?e.reject(t):e.resolve(),e.type=null,e.stream=null,e.resolve=null,e.reject=null,e.length=0,e.body=null)}o(Ire,"consumeFinish");Q9e.exports={Readable:xre,chunksDecode:vre}});var wre=V((ILr,G9e)=>{d();var Kgt=require("node:assert"),{ResponseStatusCodeError:M9e}=ao(),{chunksDecode:O9e}=Tre(),Jgt=128*1024;async function Xgt({callback:e,body:t,contentType:r,statusCode:n,statusMessage:i,headers:s}){Kgt(t);let a=[],l=0;try{for await(let m of t)if(a.push(m),l+=m.length,l>Jgt){a=[],l=0;break}}catch{a=[],l=0}let c=`Response status code ${n}${i?`: ${i}`:""}`;if(n===204||!r||!l){queueMicrotask(()=>e(new M9e(c,n,s)));return}let u=Error.stackTraceLimit;Error.stackTraceLimit=0;let f;try{U9e(r)?f=JSON.parse(O9e(a,l)):q9e(r)&&(f=O9e(a,l))}catch{}finally{Error.stackTraceLimit=u}queueMicrotask(()=>e(new M9e(c,n,s,f)))}o(Xgt,"getResolveErrorBodyCallback");var U9e=o(e=>e.length>15&&e[11]==="/"&&e[0]==="a"&&e[1]==="p"&&e[2]==="p"&&e[3]==="l"&&e[4]==="i"&&e[5]==="c"&&e[6]==="a"&&e[7]==="t"&&e[8]==="i"&&e[9]==="o"&&e[10]==="n"&&e[12]==="j"&&e[13]==="s"&&e[14]==="o"&&e[15]==="n","isContentTypeApplicationJson"),q9e=o(e=>e.length>4&&e[4]==="/"&&e[0]==="t"&&e[1]==="e"&&e[2]==="x"&&e[3]==="t","isContentTypeText");G9e.exports={getResolveErrorBodyCallback:Xgt,isContentTypeApplicationJson:U9e,isContentTypeText:q9e}});var V9e=V((_Lr,_re)=>{"use strict";d();var Zgt=require("node:assert"),{Readable:e1t}=Tre(),{InvalidArgumentError:DI,RequestAbortedError:W9e}=ao(),Uu=ci(),{getResolveErrorBodyCallback:t1t}=wre(),{AsyncResource:r1t}=require("node:async_hooks"),RM=class extends r1t{static{o(this,"RequestHandler")}constructor(t,r){if(!t||typeof t!="object")throw new DI("invalid opts");let{signal:n,method:i,opaque:s,body:a,onInfo:l,responseHeaders:c,throwOnError:u,highWaterMark:f}=t;try{if(typeof r!="function")throw new DI("invalid callback");if(f&&(typeof f!="number"||f<0))throw new DI("invalid highWaterMark");if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new DI("signal must be an EventEmitter or EventTarget");if(i==="CONNECT")throw new DI("invalid method");if(l&&typeof l!="function")throw new DI("invalid onInfo callback");super("UNDICI_REQUEST")}catch(m){throw Uu.isStream(a)&&Uu.destroy(a.on("error",Uu.nop),m),m}this.method=i,this.responseHeaders=c||null,this.opaque=s||null,this.callback=r,this.res=null,this.abort=null,this.body=a,this.trailers={},this.context=null,this.onInfo=l||null,this.throwOnError=u,this.highWaterMark=f,this.signal=n,this.reason=null,this.removeAbortListener=null,Uu.isStream(a)&&a.on("error",m=>{this.onError(m)}),this.signal&&(this.signal.aborted?this.reason=this.signal.reason??new W9e:this.removeAbortListener=Uu.addAbortListener(this.signal,()=>{this.reason=this.signal.reason??new W9e,this.res?Uu.destroy(this.res.on("error",Uu.nop),this.reason):this.abort&&this.abort(this.reason),this.removeAbortListener&&(this.res?.off("close",this.removeAbortListener),this.removeAbortListener(),this.removeAbortListener=null)}))}onConnect(t,r){if(this.reason){t(this.reason);return}Zgt(this.callback),this.abort=t,this.context=r}onHeaders(t,r,n,i){let{callback:s,opaque:a,abort:l,context:c,responseHeaders:u,highWaterMark:f}=this,m=u==="raw"?Uu.parseRawHeaders(r):Uu.parseHeaders(r);if(t<200){this.onInfo&&this.onInfo({statusCode:t,headers:m});return}let h=u==="raw"?Uu.parseHeaders(r):m,p=h["content-type"],A=h["content-length"],E=new e1t({resume:n,abort:l,contentType:p,contentLength:this.method!=="HEAD"&&A?Number(A):null,highWaterMark:f});this.removeAbortListener&&E.on("close",this.removeAbortListener),this.callback=null,this.res=E,s!==null&&(this.throwOnError&&t>=400?this.runInAsyncScope(t1t,null,{callback:s,body:E,contentType:p,statusCode:t,statusMessage:i,headers:m}):this.runInAsyncScope(s,null,null,{statusCode:t,headers:m,trailers:this.trailers,opaque:a,body:E,context:c}))}onData(t){return this.res.push(t)}onComplete(t){Uu.parseHeaders(t,this.trailers),this.res.push(null)}onError(t){let{res:r,callback:n,body:i,opaque:s}=this;n&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(n,null,t,{opaque:s})})),r&&(this.res=null,queueMicrotask(()=>{Uu.destroy(r,t)})),i&&(this.body=null,Uu.destroy(i,t)),this.removeAbortListener&&(r?.off("close",this.removeAbortListener),this.removeAbortListener(),this.removeAbortListener=null)}};function H9e(e,t){if(t===void 0)return new Promise((r,n)=>{H9e.call(this,e,(i,s)=>i?n(i):r(s))});try{this.dispatch(e,new RM(e,t))}catch(r){if(typeof t!="function")throw r;let n=e?.opaque;queueMicrotask(()=>t(r,{opaque:n}))}}o(H9e,"request");_re.exports=H9e;_re.exports.RequestHandler=RM});var ww=V((kLr,z9e)=>{d();var{addAbortListener:n1t}=ci(),{RequestAbortedError:i1t}=ao(),PI=Symbol("kListener"),wp=Symbol("kSignal");function j9e(e){e.abort?e.abort(e[wp]?.reason):e.reason=e[wp]?.reason??new i1t,$9e(e)}o(j9e,"abort");function o1t(e,t){if(e.reason=null,e[wp]=null,e[PI]=null,!!t){if(t.aborted){j9e(e);return}e[wp]=t,e[PI]=()=>{j9e(e)},n1t(e[wp],e[PI])}}o(o1t,"addSignal");function $9e(e){e[wp]&&("removeEventListener"in e[wp]?e[wp].removeEventListener("abort",e[PI]):e[wp].removeListener("abort",e[PI]),e[wp]=null,e[PI]=null)}o($9e,"removeSignal");z9e.exports={addSignal:o1t,removeSignal:$9e}});var X9e=V((PLr,J9e)=>{"use strict";d();var s1t=require("node:assert"),{finished:a1t,PassThrough:l1t}=require("node:stream"),{InvalidArgumentError:NI,InvalidReturnValueError:c1t}=ao(),Om=ci(),{getResolveErrorBodyCallback:u1t}=wre(),{AsyncResource:f1t}=require("node:async_hooks"),{addSignal:d1t,removeSignal:Y9e}=ww(),Sre=class extends f1t{static{o(this,"StreamHandler")}constructor(t,r,n){if(!t||typeof t!="object")throw new NI("invalid opts");let{signal:i,method:s,opaque:a,body:l,onInfo:c,responseHeaders:u,throwOnError:f}=t;try{if(typeof n!="function")throw new NI("invalid callback");if(typeof r!="function")throw new NI("invalid factory");if(i&&typeof i.on!="function"&&typeof i.addEventListener!="function")throw new NI("signal must be an EventEmitter or EventTarget");if(s==="CONNECT")throw new NI("invalid method");if(c&&typeof c!="function")throw new NI("invalid onInfo callback");super("UNDICI_STREAM")}catch(m){throw Om.isStream(l)&&Om.destroy(l.on("error",Om.nop),m),m}this.responseHeaders=u||null,this.opaque=a||null,this.factory=r,this.callback=n,this.res=null,this.abort=null,this.context=null,this.trailers=null,this.body=l,this.onInfo=c||null,this.throwOnError=f||!1,Om.isStream(l)&&l.on("error",m=>{this.onError(m)}),d1t(this,i)}onConnect(t,r){if(this.reason){t(this.reason);return}s1t(this.callback),this.abort=t,this.context=r}onHeaders(t,r,n,i){let{factory:s,opaque:a,context:l,callback:c,responseHeaders:u}=this,f=u==="raw"?Om.parseRawHeaders(r):Om.parseHeaders(r);if(t<200){this.onInfo&&this.onInfo({statusCode:t,headers:f});return}this.factory=null;let m;if(this.throwOnError&&t>=400){let A=(u==="raw"?Om.parseHeaders(r):f)["content-type"];m=new l1t,this.callback=null,this.runInAsyncScope(u1t,null,{callback:c,body:m,contentType:A,statusCode:t,statusMessage:i,headers:f})}else{if(s===null)return;if(m=this.runInAsyncScope(s,null,{statusCode:t,headers:f,opaque:a,context:l}),!m||typeof m.write!="function"||typeof m.end!="function"||typeof m.on!="function")throw new c1t("expected Writable");a1t(m,{readable:!1},p=>{let{callback:A,res:E,opaque:x,trailers:b,abort:v}=this;this.res=null,(p||!E.readable)&&Om.destroy(E,p),this.callback=null,this.runInAsyncScope(A,null,p||null,{opaque:x,trailers:b}),p&&v()})}return m.on("drain",n),this.res=m,(m.writableNeedDrain!==void 0?m.writableNeedDrain:m._writableState?.needDrain)!==!0}onData(t){let{res:r}=this;return r?r.write(t):!0}onComplete(t){let{res:r}=this;Y9e(this),r&&(this.trailers=Om.parseHeaders(t),r.end())}onError(t){let{res:r,callback:n,opaque:i,body:s}=this;Y9e(this),this.factory=null,r?(this.res=null,Om.destroy(r,t)):n&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(n,null,t,{opaque:i})})),s&&(this.body=null,Om.destroy(s,t))}};function K9e(e,t,r){if(r===void 0)return new Promise((n,i)=>{K9e.call(this,e,t,(s,a)=>s?i(s):n(a))});try{this.dispatch(e,new Sre(e,t,r))}catch(n){if(typeof r!="function")throw n;let i=e?.opaque;queueMicrotask(()=>r(n,{opaque:i}))}}o(K9e,"stream");J9e.exports=K9e});var r7e=V((LLr,t7e)=>{"use strict";d();var{Readable:e7e,Duplex:m1t,PassThrough:h1t}=require("node:stream"),{InvalidArgumentError:_w,InvalidReturnValueError:p1t,RequestAbortedError:Bre}=ao(),dd=ci(),{AsyncResource:g1t}=require("node:async_hooks"),{addSignal:A1t,removeSignal:y1t}=ww(),Z9e=require("node:assert"),FI=Symbol("resume"),kre=class extends e7e{static{o(this,"PipelineRequest")}constructor(){super({autoDestroy:!0}),this[FI]=null}_read(){let{[FI]:t}=this;t&&(this[FI]=null,t())}_destroy(t,r){this._read(),r(t)}},Rre=class extends e7e{static{o(this,"PipelineResponse")}constructor(t){super({autoDestroy:!0}),this[FI]=t}_read(){this[FI]()}_destroy(t,r){!t&&!this._readableState.endEmitted&&(t=new Bre),r(t)}},Dre=class extends g1t{static{o(this,"PipelineHandler")}constructor(t,r){if(!t||typeof t!="object")throw new _w("invalid opts");if(typeof r!="function")throw new _w("invalid handler");let{signal:n,method:i,opaque:s,onInfo:a,responseHeaders:l}=t;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new _w("signal must be an EventEmitter or EventTarget");if(i==="CONNECT")throw new _w("invalid method");if(a&&typeof a!="function")throw new _w("invalid onInfo callback");super("UNDICI_PIPELINE"),this.opaque=s||null,this.responseHeaders=l||null,this.handler=r,this.abort=null,this.context=null,this.onInfo=a||null,this.req=new kre().on("error",dd.nop),this.ret=new m1t({readableObjectMode:t.objectMode,autoDestroy:!0,read:o(()=>{let{body:c}=this;c?.resume&&c.resume()},"read"),write:o((c,u,f)=>{let{req:m}=this;m.push(c,u)||m._readableState.destroyed?f():m[FI]=f},"write"),destroy:o((c,u)=>{let{body:f,req:m,res:h,ret:p,abort:A}=this;!c&&!p._readableState.endEmitted&&(c=new Bre),A&&c&&A(),dd.destroy(f,c),dd.destroy(m,c),dd.destroy(h,c),y1t(this),u(c)},"destroy")}).on("prefinish",()=>{let{req:c}=this;c.push(null)}),this.res=null,A1t(this,n)}onConnect(t,r){let{ret:n,res:i}=this;if(this.reason){t(this.reason);return}Z9e(!i,"pipeline cannot be retried"),Z9e(!n.destroyed),this.abort=t,this.context=r}onHeaders(t,r,n){let{opaque:i,handler:s,context:a}=this;if(t<200){if(this.onInfo){let c=this.responseHeaders==="raw"?dd.parseRawHeaders(r):dd.parseHeaders(r);this.onInfo({statusCode:t,headers:c})}return}this.res=new Rre(n);let l;try{this.handler=null;let c=this.responseHeaders==="raw"?dd.parseRawHeaders(r):dd.parseHeaders(r);l=this.runInAsyncScope(s,null,{statusCode:t,headers:c,opaque:i,body:this.res,context:a})}catch(c){throw this.res.on("error",dd.nop),c}if(!l||typeof l.on!="function")throw new p1t("expected Readable");l.on("data",c=>{let{ret:u,body:f}=this;!u.push(c)&&f.pause&&f.pause()}).on("error",c=>{let{ret:u}=this;dd.destroy(u,c)}).on("end",()=>{let{ret:c}=this;c.push(null)}).on("close",()=>{let{ret:c}=this;c._readableState.ended||dd.destroy(c,new Bre)}),this.body=l}onData(t){let{res:r}=this;return r.push(t)}onComplete(t){let{res:r}=this;r.push(null)}onError(t){let{ret:r}=this;this.handler=null,dd.destroy(r,t)}};function C1t(e,t){try{let r=new Dre(e,t);return this.dispatch({...e,body:r.req},r),r.ret}catch(r){return new h1t().destroy(r)}}o(C1t,"pipeline");t7e.exports=C1t});var l7e=V((OLr,a7e)=>{"use strict";d();var{InvalidArgumentError:Pre,SocketError:E1t}=ao(),{AsyncResource:x1t}=require("node:async_hooks"),n7e=ci(),{addSignal:v1t,removeSignal:i7e}=ww(),o7e=require("node:assert"),Nre=class extends x1t{static{o(this,"UpgradeHandler")}constructor(t,r){if(!t||typeof t!="object")throw new Pre("invalid opts");if(typeof r!="function")throw new Pre("invalid callback");let{signal:n,opaque:i,responseHeaders:s}=t;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new Pre("signal must be an EventEmitter or EventTarget");super("UNDICI_UPGRADE"),this.responseHeaders=s||null,this.opaque=i||null,this.callback=r,this.abort=null,this.context=null,v1t(this,n)}onConnect(t,r){if(this.reason){t(this.reason);return}o7e(this.callback),this.abort=t,this.context=null}onHeaders(){throw new E1t("bad upgrade",null)}onUpgrade(t,r,n){o7e(t===101);let{callback:i,opaque:s,context:a}=this;i7e(this),this.callback=null;let l=this.responseHeaders==="raw"?n7e.parseRawHeaders(r):n7e.parseHeaders(r);this.runInAsyncScope(i,null,null,{headers:l,socket:n,opaque:s,context:a})}onError(t){let{callback:r,opaque:n}=this;i7e(this),r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,t,{opaque:n})}))}};function s7e(e,t){if(t===void 0)return new Promise((r,n)=>{s7e.call(this,e,(i,s)=>i?n(i):r(s))});try{let r=new Nre(e,t);this.dispatch({...e,method:e.method||"GET",upgrade:e.protocol||"Websocket"},r)}catch(r){if(typeof t!="function")throw r;let n=e?.opaque;queueMicrotask(()=>t(r,{opaque:n}))}}o(s7e,"upgrade");a7e.exports=s7e});var m7e=V((GLr,d7e)=>{"use strict";d();var b1t=require("node:assert"),{AsyncResource:I1t}=require("node:async_hooks"),{InvalidArgumentError:Fre,SocketError:T1t}=ao(),c7e=ci(),{addSignal:w1t,removeSignal:u7e}=ww(),Lre=class extends I1t{static{o(this,"ConnectHandler")}constructor(t,r){if(!t||typeof t!="object")throw new Fre("invalid opts");if(typeof r!="function")throw new Fre("invalid callback");let{signal:n,opaque:i,responseHeaders:s}=t;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new Fre("signal must be an EventEmitter or EventTarget");super("UNDICI_CONNECT"),this.opaque=i||null,this.responseHeaders=s||null,this.callback=r,this.abort=null,w1t(this,n)}onConnect(t,r){if(this.reason){t(this.reason);return}b1t(this.callback),this.abort=t,this.context=r}onHeaders(){throw new T1t("bad connect",null)}onUpgrade(t,r,n){let{callback:i,opaque:s,context:a}=this;u7e(this),this.callback=null;let l=r;l!=null&&(l=this.responseHeaders==="raw"?c7e.parseRawHeaders(r):c7e.parseHeaders(r)),this.runInAsyncScope(i,null,null,{statusCode:t,headers:l,socket:n,opaque:s,context:a})}onError(t){let{callback:r,opaque:n}=this;u7e(this),r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,t,{opaque:n})}))}};function f7e(e,t){if(t===void 0)return new Promise((r,n)=>{f7e.call(this,e,(i,s)=>i?n(i):r(s))});try{let r=new Lre(e,t);this.dispatch({...e,method:"CONNECT"},r)}catch(r){if(typeof t!="function")throw r;let n=e?.opaque;queueMicrotask(()=>t(r,{opaque:n}))}}o(f7e,"connect");d7e.exports=f7e});var h7e=V((VLr,LI)=>{"use strict";d();LI.exports.request=V9e();LI.exports.stream=X9e();LI.exports.pipeline=r7e();LI.exports.upgrade=l7e();LI.exports.connect=m7e()});var Mre=V(($Lr,p7e)=>{"use strict";d();var{UndiciError:_1t}=ao(),Qre=class e extends _1t{static{o(this,"MockNotMatchedError")}constructor(t){super(t),Error.captureStackTrace(this,e),this.name="MockNotMatchedError",this.message=t||"The request does not match any registered mock dispatches",this.code="UND_MOCK_ERR_MOCK_NOT_MATCHED"}};p7e.exports={MockNotMatchedError:Qre}});var QI=V((KLr,g7e)=>{"use strict";d();g7e.exports={kAgent:Symbol("agent"),kOptions:Symbol("options"),kFactory:Symbol("factory"),kDispatches:Symbol("dispatches"),kDispatchKey:Symbol("dispatch key"),kDefaultHeaders:Symbol("default headers"),kDefaultTrailers:Symbol("default trailers"),kContentLength:Symbol("content length"),kMockAgent:Symbol("mock agent"),kMockAgentSet:Symbol("mock agent set"),kMockAgentGet:Symbol("mock agent get"),kMockDispatch:Symbol("mock dispatch"),kClose:Symbol("close"),kOriginalClose:Symbol("original agent close"),kOrigin:Symbol("origin"),kIsMockActive:Symbol("is mock active"),kNetConnect:Symbol("net connect"),kGetNetConnect:Symbol("get net connect"),kConnected:Symbol("connected")}});var Sw=V((XLr,_7e)=>{"use strict";d();var{MockNotMatchedError:b4}=Mre(),{kDispatches:DM,kMockAgent:S1t,kOriginalDispatch:B1t,kOrigin:k1t,kGetNetConnect:R1t}=QI(),{buildURL:D1t}=ci(),{STATUS_CODES:P1t}=require("node:http"),{types:{isPromise:N1t}}=require("node:util");function k1(e,t){return typeof e=="string"?e===t:e instanceof RegExp?e.test(t):typeof e=="function"?e(t)===!0:!1}o(k1,"matchValue");function y7e(e){return Object.fromEntries(Object.entries(e).map(([t,r])=>[t.toLocaleLowerCase(),r]))}o(y7e,"lowerCaseEntries");function C7e(e,t){if(Array.isArray(e)){for(let r=0;r<e.length;r+=2)if(e[r].toLocaleLowerCase()===t.toLocaleLowerCase())return e[r+1];return}else return typeof e.get=="function"?e.get(t):y7e(e)[t.toLocaleLowerCase()]}o(C7e,"getHeaderByName");function qre(e){let t=e.slice(),r=[];for(let n=0;n<t.length;n+=2)r.push([t[n],t[n+1]]);return Object.fromEntries(r)}o(qre,"buildHeadersFromArray");function E7e(e,t){if(typeof e.headers=="function")return Array.isArray(t)&&(t=qre(t)),e.headers(t?y7e(t):{});if(typeof e.headers>"u")return!0;if(typeof t!="object"||typeof e.headers!="object")return!1;for(let[r,n]of Object.entries(e.headers)){let i=C7e(t,r);if(!k1(n,i))return!1}return!0}o(E7e,"matchHeaders");function A7e(e){if(typeof e!="string")return e;let t=e.split("?");if(t.length!==2)return e;let r=new URLSearchParams(t.pop());return r.sort(),[...t,r.toString()].join("?")}o(A7e,"safeUrl");function F1t(e,{path:t,method:r,body:n,headers:i}){let s=k1(e.path,t),a=k1(e.method,r),l=typeof e.body<"u"?k1(e.body,n):!0,c=E7e(e,i);return s&&a&&l&&c}o(F1t,"matchKey");function x7e(e){return Buffer.isBuffer(e)||e instanceof Uint8Array||e instanceof ArrayBuffer?e:typeof e=="object"?JSON.stringify(e):e.toString()}o(x7e,"getResponseData");function v7e(e,t){let r=t.query?D1t(t.path,t.query):t.path,n=typeof r=="string"?A7e(r):r,i=e.filter(({consumed:s})=>!s).filter(({path:s})=>k1(A7e(s),n));if(i.length===0)throw new b4(`Mock dispatch not matched for path '${n}'`);if(i=i.filter(({method:s})=>k1(s,t.method)),i.length===0)throw new b4(`Mock dispatch not matched for method '${t.method}' on path '${n}'`);if(i=i.filter(({body:s})=>typeof s<"u"?k1(s,t.body):!0),i.length===0)throw new b4(`Mock dispatch not matched for body '${t.body}' on path '${n}'`);if(i=i.filter(s=>E7e(s,t.headers)),i.length===0){let s=typeof t.headers=="object"?JSON.stringify(t.headers):t.headers;throw new b4(`Mock dispatch not matched for headers '${s}' on path '${n}'`)}return i[0]}o(v7e,"getMockDispatch");function L1t(e,t,r){let n={timesInvoked:0,times:1,persist:!1,consumed:!1},i=typeof r=="function"?{callback:r}:{...r},s={...n,...t,pending:!0,data:{error:null,...i}};return e.push(s),s}o(L1t,"addMockDispatch");function Ore(e,t){let r=e.findIndex(n=>n.consumed?F1t(n,t):!1);r!==-1&&e.splice(r,1)}o(Ore,"deleteMockDispatch");function b7e(e){let{path:t,method:r,body:n,headers:i,query:s}=e;return{path:t,method:r,body:n,headers:i,query:s}}o(b7e,"buildKey");function Ure(e){let t=Object.keys(e),r=[];for(let n=0;n<t.length;++n){let i=t[n],s=e[i],a=Buffer.from(`${i}`);if(Array.isArray(s))for(let l=0;l<s.length;++l)r.push(a,Buffer.from(`${s[l]}`));else r.push(a,Buffer.from(`${s}`))}return r}o(Ure,"generateKeyValues");function I7e(e){return P1t[e]||"unknown"}o(I7e,"getStatusText");async function Q1t(e){let t=[];for await(let r of e)t.push(r);return Buffer.concat(t).toString("utf8")}o(Q1t,"getResponse");function T7e(e,t){let r=b7e(e),n=v7e(this[DM],r);n.timesInvoked++,n.data.callback&&(n.data={...n.data,...n.data.callback(e)});let{data:{statusCode:i,data:s,headers:a,trailers:l,error:c},delay:u,persist:f}=n,{timesInvoked:m,times:h}=n;if(n.consumed=!f&&m>=h,n.pending=m<h,c!==null)return Ore(this[DM],r),t.onError(c),!0;typeof u=="number"&&u>0?setTimeout(()=>{p(this[DM])},u):p(this[DM]);function p(E,x=s){let b=Array.isArray(e.headers)?qre(e.headers):e.headers,v=typeof x=="function"?x({...e,headers:b}):x;if(N1t(v)){v.then(N=>p(E,N));return}let S=x7e(v),k=Ure(a),P=Ure(l);t.onConnect?.(N=>t.onError(N),null),t.onHeaders?.(i,k,A,I7e(i)),t.onData?.(Buffer.from(S)),t.onComplete?.(P),Ore(E,r)}o(p,"handleReply");function A(){}return o(A,"resume"),!0}o(T7e,"mockDispatch");function M1t(){let e=this[S1t],t=this[k1t],r=this[B1t];return o(function(i,s){if(e.isMockActive)try{T7e.call(this,i,s)}catch(a){if(a instanceof b4){let l=e[R1t]();if(l===!1)throw new b4(`${a.message}: subsequent request to origin ${t} was not allowed (net.connect disabled)`);if(w7e(l,t))r.call(this,i,s);else throw new b4(`${a.message}: subsequent request to origin ${t} was not allowed (net.connect is not enabled for this origin)`)}else throw a}else r.call(this,i,s)},"dispatch")}o(M1t,"buildMockDispatch");function w7e(e,t){let r=new URL(t);return e===!0?!0:!!(Array.isArray(e)&&e.some(n=>k1(n,r.host)))}o(w7e,"checkNetConnect");function O1t(e){if(e){let{agent:t,...r}=e;return r}}o(O1t,"buildMockOptions");_7e.exports={getResponseData:x7e,getMockDispatch:v7e,addMockDispatch:L1t,deleteMockDispatch:Ore,buildKey:b7e,generateKeyValues:Ure,matchValue:k1,getResponse:Q1t,getStatusText:I7e,mockDispatch:T7e,buildMockDispatch:M1t,checkNetConnect:w7e,buildMockOptions:O1t,getHeaderByName:C7e,buildHeadersFromArray:qre}});var zre=V((tQr,$re)=>{"use strict";d();var{getResponseData:U1t,buildKey:q1t,addMockDispatch:Gre}=Sw(),{kDispatches:PM,kDispatchKey:NM,kDefaultHeaders:Wre,kDefaultTrailers:Hre,kContentLength:Vre,kMockDispatch:FM}=QI(),{InvalidArgumentError:_p}=ao(),{buildURL:G1t}=ci(),MI=class{static{o(this,"MockScope")}constructor(t){this[FM]=t}delay(t){if(typeof t!="number"||!Number.isInteger(t)||t<=0)throw new _p("waitInMs must be a valid integer > 0");return this[FM].delay=t,this}persist(){return this[FM].persist=!0,this}times(t){if(typeof t!="number"||!Number.isInteger(t)||t<=0)throw new _p("repeatTimes must be a valid integer > 0");return this[FM].times=t,this}},jre=class{static{o(this,"MockInterceptor")}constructor(t,r){if(typeof t!="object")throw new _p("opts must be an object");if(typeof t.path>"u")throw new _p("opts.path must be defined");if(typeof t.method>"u"&&(t.method="GET"),typeof t.path=="string")if(t.query)t.path=G1t(t.path,t.query);else{let n=new URL(t.path,"data://");t.path=n.pathname+n.search}typeof t.method=="string"&&(t.method=t.method.toUpperCase()),this[NM]=q1t(t),this[PM]=r,this[Wre]={},this[Hre]={},this[Vre]=!1}createMockScopeDispatchData({statusCode:t,data:r,responseOptions:n}){let i=U1t(r),s=this[Vre]?{"content-length":i.length}:{},a={...this[Wre],...s,...n.headers},l={...this[Hre],...n.trailers};return{statusCode:t,data:r,headers:a,trailers:l}}validateReplyParameters(t){if(typeof t.statusCode>"u")throw new _p("statusCode must be defined");if(typeof t.responseOptions!="object"||t.responseOptions===null)throw new _p("responseOptions must be an object")}reply(t){if(typeof t=="function"){let s=o(l=>{let c=t(l);if(typeof c!="object"||c===null)throw new _p("reply options callback must return an object");let u={data:"",responseOptions:{},...c};return this.validateReplyParameters(u),{...this.createMockScopeDispatchData(u)}},"wrappedDefaultsCallback"),a=Gre(this[PM],this[NM],s);return new MI(a)}let r={statusCode:t,data:arguments[1]===void 0?"":arguments[1],responseOptions:arguments[2]===void 0?{}:arguments[2]};this.validateReplyParameters(r);let n=this.createMockScopeDispatchData(r),i=Gre(this[PM],this[NM],n);return new MI(i)}replyWithError(t){if(typeof t>"u")throw new _p("error must be defined");let r=Gre(this[PM],this[NM],{error:t});return new MI(r)}defaultReplyHeaders(t){if(typeof t>"u")throw new _p("headers must be defined");return this[Wre]=t,this}defaultReplyTrailers(t){if(typeof t>"u")throw new _p("trailers must be defined");return this[Hre]=t,this}replyContentLength(){return this[Vre]=!0,this}};$re.exports.MockInterceptor=jre;$re.exports.MockScope=MI});var Jre=V((iQr,N7e)=>{"use strict";d();var{promisify:W1t}=require("node:util"),H1t=gw(),{buildMockDispatch:V1t}=Sw(),{kDispatches:S7e,kMockAgent:B7e,kClose:k7e,kOriginalClose:R7e,kOrigin:D7e,kOriginalDispatch:j1t,kConnected:Yre}=QI(),{MockInterceptor:$1t}=zre(),P7e=vs(),{InvalidArgumentError:z1t}=ao(),Kre=class extends H1t{static{o(this,"MockClient")}constructor(t,r){if(super(t,r),!r||!r.agent||typeof r.agent.dispatch!="function")throw new z1t("Argument opts.agent must implement Agent");this[B7e]=r.agent,this[D7e]=t,this[S7e]=[],this[Yre]=1,this[j1t]=this.dispatch,this[R7e]=this.close.bind(this),this.dispatch=V1t.call(this),this.close=this[k7e]}get[P7e.kConnected](){return this[Yre]}intercept(t){return new $1t(t,this[S7e])}async[k7e](){await W1t(this[R7e])(),this[Yre]=0,this[B7e][P7e.kClients].delete(this[D7e])}};N7e.exports=Kre});var ene=V((aQr,q7e)=>{"use strict";d();var{promisify:Y1t}=require("node:util"),K1t=BI(),{buildMockDispatch:J1t}=Sw(),{kDispatches:F7e,kMockAgent:L7e,kClose:Q7e,kOriginalClose:M7e,kOrigin:O7e,kOriginalDispatch:X1t,kConnected:Xre}=QI(),{MockInterceptor:Z1t}=zre(),U7e=vs(),{InvalidArgumentError:eAt}=ao(),Zre=class extends K1t{static{o(this,"MockPool")}constructor(t,r){if(super(t,r),!r||!r.agent||typeof r.agent.dispatch!="function")throw new eAt("Argument opts.agent must implement Agent");this[L7e]=r.agent,this[O7e]=t,this[F7e]=[],this[Xre]=1,this[X1t]=this.dispatch,this[M7e]=this.close.bind(this),this.dispatch=J1t.call(this),this.close=this[Q7e]}get[U7e.kConnected](){return this[Xre]}intercept(t){return new Z1t(t,this[F7e])}async[Q7e](){await Y1t(this[M7e])(),this[Xre]=0,this[L7e][U7e.kClients].delete(this[O7e])}};q7e.exports=Zre});var W7e=V((fQr,G7e)=>{"use strict";d();var tAt={pronoun:"it",is:"is",was:"was",this:"this"},rAt={pronoun:"they",is:"are",was:"were",this:"these"};G7e.exports=class{static{o(this,"Pluralizer")}constructor(t,r){this.singular=t,this.plural=r}pluralize(t){let r=t===1,n=r?tAt:rAt,i=r?this.singular:this.plural;return{...n,count:t,noun:i}}}});var V7e=V((pQr,H7e)=>{"use strict";d();var{Transform:nAt}=require("node:stream"),{Console:iAt}=require("node:console"),oAt=process.versions.icu?"\u2705":"Y ",sAt=process.versions.icu?"\u274C":"N ";H7e.exports=class{static{o(this,"PendingInterceptorsFormatter")}constructor({disableColors:t}={}){this.transform=new nAt({transform(r,n,i){i(null,r)}}),this.logger=new iAt({stdout:this.transform,inspectOptions:{colors:!t&&!process.env.CI}})}format(t){let r=t.map(({method:n,path:i,data:{statusCode:s},persist:a,times:l,timesInvoked:c,origin:u})=>({Method:n,Origin:u,Path:i,"Status code":s,Persistent:a?oAt:sAt,Invocations:c,Remaining:a?1/0:l-c}));return this.logger.table(r),this.transform.read().toString()}}});var Y7e=V((yQr,z7e)=>{"use strict";d();var{kClients:I4}=vs(),aAt=kI(),{kAgent:tne,kMockAgentSet:LM,kMockAgentGet:j7e,kDispatches:rne,kIsMockActive:QM,kNetConnect:T4,kGetNetConnect:lAt,kOptions:MM,kFactory:OM}=QI(),cAt=Jre(),uAt=ene(),{matchValue:fAt,buildMockOptions:dAt}=Sw(),{InvalidArgumentError:$7e,UndiciError:mAt}=ao(),hAt=zT(),pAt=W7e(),gAt=V7e(),nne=class extends hAt{static{o(this,"MockAgent")}constructor(t){if(super(t),this[T4]=!0,this[QM]=!0,t?.agent&&typeof t.agent.dispatch!="function")throw new $7e("Argument opts.agent must implement Agent");let r=t?.agent?t.agent:new aAt(t);this[tne]=r,this[I4]=r[I4],this[MM]=dAt(t)}get(t){let r=this[j7e](t);return r||(r=this[OM](t),this[LM](t,r)),r}dispatch(t,r){return this.get(t.origin),this[tne].dispatch(t,r)}async close(){await this[tne].close(),this[I4].clear()}deactivate(){this[QM]=!1}activate(){this[QM]=!0}enableNetConnect(t){if(typeof t=="string"||typeof t=="function"||t instanceof RegExp)Array.isArray(this[T4])?this[T4].push(t):this[T4]=[t];else if(typeof t>"u")this[T4]=!0;else throw new $7e("Unsupported matcher. Must be one of String|Function|RegExp.")}disableNetConnect(){this[T4]=!1}get isMockActive(){return this[QM]}[LM](t,r){this[I4].set(t,r)}[OM](t){let r=Object.assign({agent:this},this[MM]);return this[MM]&&this[MM].connections===1?new cAt(t,r):new uAt(t,r)}[j7e](t){let r=this[I4].get(t);if(r)return r;if(typeof t!="string"){let n=this[OM]("http://localhost:9999");return this[LM](t,n),n}for(let[n,i]of Array.from(this[I4]))if(i&&typeof n!="string"&&fAt(n,t)){let s=this[OM](t);return this[LM](t,s),s[rne]=i[rne],s}}[lAt](){return this[T4]}pendingInterceptors(){let t=this[I4];return Array.from(t.entries()).flatMap(([r,n])=>n[rne].map(i=>({...i,origin:r}))).filter(({pending:r})=>r)}assertNoPendingInterceptors({pendingInterceptorsFormatter:t=new gAt}={}){let r=this.pendingInterceptors();if(r.length===0)return;let n=new pAt("interceptor","interceptors").pluralize(r.length);throw new mAt(`
${n.count} ${n.noun} ${n.is} pending:

${t.format(r)}
`.trim())}};z7e.exports=nne});var UM=V((xQr,Z7e)=>{"use strict";d();var K7e=Symbol.for("undici.globalDispatcher.1"),{InvalidArgumentError:AAt}=ao(),yAt=kI();X7e()===void 0&&J7e(new yAt);function J7e(e){if(!e||typeof e.dispatch!="function")throw new AAt("Argument agent must implement Agent");Object.defineProperty(globalThis,K7e,{value:e,writable:!0,enumerable:!1,configurable:!1})}o(J7e,"setGlobalDispatcher");function X7e(){return globalThis[K7e]}o(X7e,"getGlobalDispatcher");Z7e.exports={setGlobalDispatcher:J7e,getGlobalDispatcher:X7e}});var qM=V((TQr,eTe)=>{"use strict";d();eTe.exports=class{static{o(this,"DecoratorHandler")}#e;constructor(t){if(typeof t!="object"||t===null)throw new TypeError("handler must be an object");this.#e=t}onConnect(...t){return this.#e.onConnect?.(...t)}onError(...t){return this.#e.onError?.(...t)}onUpgrade(...t){return this.#e.onUpgrade?.(...t)}onResponseStarted(...t){return this.#e.onResponseStarted?.(...t)}onHeaders(...t){return this.#e.onHeaders?.(...t)}onData(...t){return this.#e.onData?.(...t)}onComplete(...t){return this.#e.onComplete?.(...t)}onBodySent(...t){return this.#e.onBodySent?.(...t)}}});var rTe=V((SQr,tTe)=>{"use strict";d();var CAt=CM();tTe.exports=e=>{let t=e?.maxRedirections;return r=>o(function(i,s){let{maxRedirections:a=t,...l}=i;if(!a)return r(i,s);let c=new CAt(r,a,i,s);return r(l,c)},"redirectInterceptor")}});var iTe=V((RQr,nTe)=>{"use strict";d();var EAt=kM();nTe.exports=e=>t=>o(function(n,i){return t(n,new EAt({...n,retryOptions:{...e,...n.retryOptions}},{handler:i,dispatch:t}))},"retryInterceptor")});var sTe=V((NQr,oTe)=>{"use strict";d();var xAt=ci(),{InvalidArgumentError:vAt,RequestAbortedError:bAt}=ao(),IAt=qM(),ine=class extends IAt{static{o(this,"DumpHandler")}#e=1024*1024;#t=null;#i=!1;#n=!1;#r=0;#o=null;#s=null;constructor({maxSize:t},r){if(super(r),t!=null&&(!Number.isFinite(t)||t<1))throw new vAt("maxSize must be a number greater than 0");this.#e=t??this.#e,this.#s=r}onConnect(t){this.#t=t,this.#s.onConnect(this.#a.bind(this))}#a(t){this.#n=!0,this.#o=t}onHeaders(t,r,n,i){let a=xAt.parseHeaders(r)["content-length"];if(a!=null&&a>this.#e)throw new bAt(`Response size (${a}) larger than maxSize (${this.#e})`);return this.#n?!0:this.#s.onHeaders(t,r,n,i)}onError(t){this.#i||(t=this.#o??t,this.#s.onError(t))}onData(t){return this.#r=this.#r+t.length,this.#r>=this.#e&&(this.#i=!0,this.#n?this.#s.onError(this.#o):this.#s.onComplete([])),!0}onComplete(t){if(!this.#i){if(this.#n){this.#s.onError(this.reason);return}this.#s.onComplete(t)}}};function TAt({maxSize:e}={maxSize:1024*1024}){return t=>o(function(n,i){let{dumpMaxSize:s=e}=n,a=new ine({maxSize:s},i);return t(n,a)},"Intercept")}o(TAt,"createDumpInterceptor");oTe.exports=TAt});var cTe=V((QQr,lTe)=>{"use strict";d();var{isIP:wAt}=require("node:net"),{lookup:_At}=require("node:dns"),SAt=qM(),{InvalidArgumentError:OI,InformationalError:BAt}=ao(),aTe=Math.pow(2,31)-1,one=class{static{o(this,"DNSInstance")}#e=0;#t=0;#i=new Map;dualStack=!0;affinity=null;lookup=null;pick=null;constructor(t){this.#e=t.maxTTL,this.#t=t.maxItems,this.dualStack=t.dualStack,this.affinity=t.affinity,this.lookup=t.lookup??this.#n,this.pick=t.pick??this.#r}get full(){return this.#i.size===this.#t}runLookup(t,r,n){let i=this.#i.get(t.hostname);if(i==null&&this.full){n(null,t.origin);return}let s={affinity:this.affinity,dualStack:this.dualStack,lookup:this.lookup,pick:this.pick,...r.dns,maxTTL:this.#e,maxItems:this.#t};if(i==null)this.lookup(t,s,(a,l)=>{if(a||l==null||l.length===0){n(a??new BAt("No DNS entries found"));return}this.setRecords(t,l);let c=this.#i.get(t.hostname),u=this.pick(t,c,s.affinity),f;typeof u.port=="number"?f=`:${u.port}`:t.port!==""?f=`:${t.port}`:f="",n(null,`${t.protocol}//${u.family===6?`[${u.address}]`:u.address}${f}`)});else{let a=this.pick(t,i,s.affinity);if(a==null){this.#i.delete(t.hostname),this.runLookup(t,r,n);return}let l;typeof a.port=="number"?l=`:${a.port}`:t.port!==""?l=`:${t.port}`:l="",n(null,`${t.protocol}//${a.family===6?`[${a.address}]`:a.address}${l}`)}}#n(t,r,n){_At(t.hostname,{all:!0,family:this.dualStack===!1?this.affinity:0,order:"ipv4first"},(i,s)=>{if(i)return n(i);let a=new Map;for(let l of s)a.set(`${l.address}:${l.family}`,l);n(null,a.values())})}#r(t,r,n){let i=null,{records:s,offset:a}=r,l;if(this.dualStack?(n==null&&(a==null||a===aTe?(r.offset=0,n=4):(r.offset++,n=(r.offset&1)===1?6:4)),s[n]!=null&&s[n].ips.length>0?l=s[n]:l=s[n===4?6:4]):l=s[n],l==null||l.ips.length===0)return i;l.offset==null||l.offset===aTe?l.offset=0:l.offset++;let c=l.offset%l.ips.length;return i=l.ips[c]??null,i==null?i:Date.now()-i.timestamp>i.ttl?(l.ips.splice(c,1),this.pick(t,r,n)):i}setRecords(t,r){let n=Date.now(),i={records:{4:null,6:null}};for(let s of r){s.timestamp=n,typeof s.ttl=="number"?s.ttl=Math.min(s.ttl,this.#e):s.ttl=this.#e;let a=i.records[s.family]??{ips:[]};a.ips.push(s),i.records[s.family]=a}this.#i.set(t.hostname,i)}getHandler(t,r){return new sne(this,t,r)}},sne=class extends SAt{static{o(this,"DNSDispatchHandler")}#e=null;#t=null;#i=null;#n=null;#r=null;constructor(t,{origin:r,handler:n,dispatch:i},s){super(n),this.#r=r,this.#n=n,this.#t={...s},this.#e=t,this.#i=i}onError(t){switch(t.code){case"ETIMEDOUT":case"ECONNREFUSED":{if(this.#e.dualStack){this.#e.runLookup(this.#r,this.#t,(r,n)=>{if(r)return this.#n.onError(r);let i={...this.#t,origin:n};this.#i(i,this)});return}this.#n.onError(t);return}case"ENOTFOUND":this.#e.deleteRecord(this.#r);default:this.#n.onError(t);break}}};lTe.exports=e=>{if(e?.maxTTL!=null&&(typeof e?.maxTTL!="number"||e?.maxTTL<0))throw new OI("Invalid maxTTL. Must be a positive number");if(e?.maxItems!=null&&(typeof e?.maxItems!="number"||e?.maxItems<1))throw new OI("Invalid maxItems. Must be a positive number and greater than zero");if(e?.affinity!=null&&e?.affinity!==4&&e?.affinity!==6)throw new OI("Invalid affinity. Must be either 4 or 6");if(e?.dualStack!=null&&typeof e?.dualStack!="boolean")throw new OI("Invalid dualStack. Must be a boolean");if(e?.lookup!=null&&typeof e?.lookup!="function")throw new OI("Invalid lookup. Must be a function");if(e?.pick!=null&&typeof e?.pick!="function")throw new OI("Invalid pick. Must be a function");let t=e?.dualStack??!0,r;t?r=e?.affinity??null:r=e?.affinity??4;let n={maxTTL:e?.maxTTL??1e4,lookup:e?.lookup??null,pick:e?.pick??null,dualStack:t,affinity:r,maxItems:e?.maxItems??1/0},i=new one(n);return s=>o(function(l,c){let u=l.origin.constructor===URL?l.origin:new URL(l.origin);return wAt(u.hostname)!==0?s(l,c):(i.runLookup(u,l,(f,m)=>{if(f)return c.onError(f);let h=null;h={...l,servername:u.hostname,origin:m,headers:{host:u.hostname,...l.headers}},s(h,i.getHandler({origin:u,dispatch:s,handler:c},l))}),!0)},"dnsInterceptor")}});var w4=V((UQr,gTe)=>{"use strict";d();var{kConstruct:kAt}=vs(),{kEnumerableProperty:UI}=ci(),{iteratorMixin:RAt,isValidHeaderName:Bw,isValidHeaderValue:fTe}=Mu(),{webidl:Ui}=Hl(),ane=require("node:assert"),GM=require("node:util"),Ra=Symbol("headers map"),qu=Symbol("headers map sorted");function uTe(e){return e===10||e===13||e===9||e===32}o(uTe,"isHTTPWhiteSpaceCharCode");function dTe(e){let t=0,r=e.length;for(;r>t&&uTe(e.charCodeAt(r-1));)--r;for(;r>t&&uTe(e.charCodeAt(t));)++t;return t===0&&r===e.length?e:e.substring(t,r)}o(dTe,"headerValueNormalize");function mTe(e,t){if(Array.isArray(t))for(let r=0;r<t.length;++r){let n=t[r];if(n.length!==2)throw Ui.errors.exception({header:"Headers constructor",message:`expected name/value pair to be length 2, found ${n.length}.`});lne(e,n[0],n[1])}else if(typeof t=="object"&&t!==null){let r=Object.keys(t);for(let n=0;n<r.length;++n)lne(e,r[n],t[r[n]])}else throw Ui.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})}o(mTe,"fill");function lne(e,t,r){if(r=dTe(r),Bw(t)){if(!fTe(r))throw Ui.errors.invalidArgument({prefix:"Headers.append",value:r,type:"header value"})}else throw Ui.errors.invalidArgument({prefix:"Headers.append",value:t,type:"header name"});if(pTe(e)==="immutable")throw new TypeError("immutable");return cne(e).append(t,r,!1)}o(lne,"appendHeader");function hTe(e,t){return e[0]<t[0]?-1:1}o(hTe,"compareHeaderName");var WM=class e{static{o(this,"HeadersList")}cookies=null;constructor(t){t instanceof e?(this[Ra]=new Map(t[Ra]),this[qu]=t[qu],this.cookies=t.cookies===null?null:[...t.cookies]):(this[Ra]=new Map(t),this[qu]=null)}contains(t,r){return this[Ra].has(r?t:t.toLowerCase())}clear(){this[Ra].clear(),this[qu]=null,this.cookies=null}append(t,r,n){this[qu]=null;let i=n?t:t.toLowerCase(),s=this[Ra].get(i);if(s){let a=i==="cookie"?"; ":", ";this[Ra].set(i,{name:s.name,value:`${s.value}${a}${r}`})}else this[Ra].set(i,{name:t,value:r});i==="set-cookie"&&(this.cookies??=[]).push(r)}set(t,r,n){this[qu]=null;let i=n?t:t.toLowerCase();i==="set-cookie"&&(this.cookies=[r]),this[Ra].set(i,{name:t,value:r})}delete(t,r){this[qu]=null,r||(t=t.toLowerCase()),t==="set-cookie"&&(this.cookies=null),this[Ra].delete(t)}get(t,r){return this[Ra].get(r?t:t.toLowerCase())?.value??null}*[Symbol.iterator](){for(let{0:t,1:{value:r}}of this[Ra])yield[t,r]}get entries(){let t={};if(this[Ra].size!==0)for(let{name:r,value:n}of this[Ra].values())t[r]=n;return t}rawValues(){return this[Ra].values()}get entriesList(){let t=[];if(this[Ra].size!==0)for(let{0:r,1:{name:n,value:i}}of this[Ra])if(r==="set-cookie")for(let s of this.cookies)t.push([n,s]);else t.push([n,i]);return t}toSortedArray(){let t=this[Ra].size,r=new Array(t);if(t<=32){if(t===0)return r;let n=this[Ra][Symbol.iterator](),i=n.next().value;r[0]=[i[0],i[1].value],ane(i[1].value!==null);for(let s=1,a=0,l=0,c=0,u=0,f,m;s<t;++s){for(m=n.next().value,f=r[s]=[m[0],m[1].value],ane(f[1]!==null),c=0,l=s;c<l;)u=c+(l-c>>1),r[u][0]<=f[0]?c=u+1:l=u;if(s!==u){for(a=s;a>c;)r[a]=r[--a];r[c]=f}}if(!n.next().done)throw new TypeError("Unreachable");return r}else{let n=0;for(let{0:i,1:{value:s}}of this[Ra])r[n++]=[i,s],ane(s!==null);return r.sort(hTe)}}},Um=class e{static{o(this,"Headers")}#e;#t;constructor(t=void 0){Ui.util.markAsUncloneable(this),t!==kAt&&(this.#t=new WM,this.#e="none",t!==void 0&&(t=Ui.converters.HeadersInit(t,"Headers contructor","init"),mTe(this,t)))}append(t,r){Ui.brandCheck(this,e),Ui.argumentLengthCheck(arguments,2,"Headers.append");let n="Headers.append";return t=Ui.converters.ByteString(t,n,"name"),r=Ui.converters.ByteString(r,n,"value"),lne(this,t,r)}delete(t){if(Ui.brandCheck(this,e),Ui.argumentLengthCheck(arguments,1,"Headers.delete"),t=Ui.converters.ByteString(t,"Headers.delete","name"),!Bw(t))throw Ui.errors.invalidArgument({prefix:"Headers.delete",value:t,type:"header name"});if(this.#e==="immutable")throw new TypeError("immutable");this.#t.contains(t,!1)&&this.#t.delete(t,!1)}get(t){Ui.brandCheck(this,e),Ui.argumentLengthCheck(arguments,1,"Headers.get");let r="Headers.get";if(t=Ui.converters.ByteString(t,r,"name"),!Bw(t))throw Ui.errors.invalidArgument({prefix:r,value:t,type:"header name"});return this.#t.get(t,!1)}has(t){Ui.brandCheck(this,e),Ui.argumentLengthCheck(arguments,1,"Headers.has");let r="Headers.has";if(t=Ui.converters.ByteString(t,r,"name"),!Bw(t))throw Ui.errors.invalidArgument({prefix:r,value:t,type:"header name"});return this.#t.contains(t,!1)}set(t,r){Ui.brandCheck(this,e),Ui.argumentLengthCheck(arguments,2,"Headers.set");let n="Headers.set";if(t=Ui.converters.ByteString(t,n,"name"),r=Ui.converters.ByteString(r,n,"value"),r=dTe(r),Bw(t)){if(!fTe(r))throw Ui.errors.invalidArgument({prefix:n,value:r,type:"header value"})}else throw Ui.errors.invalidArgument({prefix:n,value:t,type:"header name"});if(this.#e==="immutable")throw new TypeError("immutable");this.#t.set(t,r,!1)}getSetCookie(){Ui.brandCheck(this,e);let t=this.#t.cookies;return t?[...t]:[]}get[qu](){if(this.#t[qu])return this.#t[qu];let t=[],r=this.#t.toSortedArray(),n=this.#t.cookies;if(n===null||n.length===1)return this.#t[qu]=r;for(let i=0;i<r.length;++i){let{0:s,1:a}=r[i];if(s==="set-cookie")for(let l=0;l<n.length;++l)t.push([s,n[l]]);else t.push([s,a])}return this.#t[qu]=t}[GM.inspect.custom](t,r){return r.depth??=t,`Headers ${GM.formatWithOptions(r,this.#t.entries)}`}static getHeadersGuard(t){return t.#e}static setHeadersGuard(t,r){t.#e=r}static getHeadersList(t){return t.#t}static setHeadersList(t,r){t.#t=r}},{getHeadersGuard:pTe,setHeadersGuard:DAt,getHeadersList:cne,setHeadersList:PAt}=Um;Reflect.deleteProperty(Um,"getHeadersGuard");Reflect.deleteProperty(Um,"setHeadersGuard");Reflect.deleteProperty(Um,"getHeadersList");Reflect.deleteProperty(Um,"setHeadersList");RAt("Headers",Um,qu,0,1);Object.defineProperties(Um.prototype,{append:UI,delete:UI,get:UI,has:UI,set:UI,getSetCookie:UI,[Symbol.toStringTag]:{value:"Headers",configurable:!0},[GM.inspect.custom]:{enumerable:!1}});Ui.converters.HeadersInit=function(e,t,r){if(Ui.util.Type(e)==="Object"){let n=Reflect.get(e,Symbol.iterator);if(!GM.types.isProxy(e)&&n===Um.prototype.entries)try{return cne(e).entriesList}catch{}return typeof n=="function"?Ui.converters["sequence<sequence<ByteString>>"](e,t,r,n.bind(e)):Ui.converters["record<ByteString, ByteString>"](e,t,r)}throw Ui.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})};gTe.exports={fill:mTe,compareHeaderName:hTe,Headers:Um,HeadersList:WM,getHeadersGuard:pTe,setHeadersGuard:DAt,setHeadersList:PAt,getHeadersList:cne}});var Rw=V((WQr,wTe)=>{"use strict";d();var{Headers:vTe,HeadersList:ATe,fill:NAt,getHeadersGuard:FAt,setHeadersGuard:bTe,setHeadersList:ITe}=w4(),{extractBody:yTe,cloneBody:LAt,mixinBody:QAt,hasFinalizationRegistry:MAt,streamRegistry:OAt,bodyUnusable:UAt}=vI(),une=ci(),CTe=require("node:util"),{kEnumerableProperty:Gu}=une,{isValidReasonPhrase:qAt,isCancelled:GAt,isAborted:WAt,isBlobLike:HAt,serializeJavascriptValueToJSONString:VAt,isErrorLike:jAt,isomorphicEncode:$At,environmentSettingsObject:zAt}=Mu(),{redirectStatusSet:YAt,nullBodyStatus:KAt}=JT(),{kState:Hs,kHeaders:R1}=Q5(),{webidl:jn}=Hl(),{FormData:JAt}=nw(),{URLSerializer:ETe}=Nc(),{kConstruct:VM}=vs(),fne=require("node:assert"),{types:XAt}=require("node:util"),ZAt=new TextEncoder("utf-8"),_4=class e{static{o(this,"Response")}static error(){return kw(jM(),"immutable")}static json(t,r={}){jn.argumentLengthCheck(arguments,1,"Response.json"),r!==null&&(r=jn.converters.ResponseInit(r));let n=ZAt.encode(VAt(t)),i=yTe(n),s=kw(qI({}),"response");return xTe(s,r,{body:i[0],type:"application/json"}),s}static redirect(t,r=302){jn.argumentLengthCheck(arguments,1,"Response.redirect"),t=jn.converters.USVString(t),r=jn.converters["unsigned short"](r);let n;try{n=new URL(t,zAt.settingsObject.baseUrl)}catch(a){throw new TypeError(`Failed to parse URL from ${t}`,{cause:a})}if(!YAt.has(r))throw new RangeError(`Invalid status code ${r}`);let i=kw(qI({}),"immutable");i[Hs].status=r;let s=$At(ETe(n));return i[Hs].headersList.append("location",s,!0),i}constructor(t=null,r={}){if(jn.util.markAsUncloneable(this),t===VM)return;t!==null&&(t=jn.converters.BodyInit(t)),r=jn.converters.ResponseInit(r),this[Hs]=qI({}),this[R1]=new vTe(VM),bTe(this[R1],"response"),ITe(this[R1],this[Hs].headersList);let n=null;if(t!=null){let[i,s]=yTe(t);n={body:i,type:s}}xTe(this,r,n)}get type(){return jn.brandCheck(this,e),this[Hs].type}get url(){jn.brandCheck(this,e);let t=this[Hs].urlList,r=t[t.length-1]??null;return r===null?"":ETe(r,!0)}get redirected(){return jn.brandCheck(this,e),this[Hs].urlList.length>1}get status(){return jn.brandCheck(this,e),this[Hs].status}get ok(){return jn.brandCheck(this,e),this[Hs].status>=200&&this[Hs].status<=299}get statusText(){return jn.brandCheck(this,e),this[Hs].statusText}get headers(){return jn.brandCheck(this,e),this[R1]}get body(){return jn.brandCheck(this,e),this[Hs].body?this[Hs].body.stream:null}get bodyUsed(){return jn.brandCheck(this,e),!!this[Hs].body&&une.isDisturbed(this[Hs].body.stream)}clone(){if(jn.brandCheck(this,e),UAt(this))throw jn.errors.exception({header:"Response.clone",message:"Body has already been consumed."});let t=dne(this[Hs]);return kw(t,FAt(this[R1]))}[CTe.inspect.custom](t,r){r.depth===null&&(r.depth=2),r.colors??=!0;let n={status:this.status,statusText:this.statusText,headers:this.headers,body:this.body,bodyUsed:this.bodyUsed,ok:this.ok,redirected:this.redirected,type:this.type,url:this.url};return`Response ${CTe.formatWithOptions(r,n)}`}};QAt(_4);Object.defineProperties(_4.prototype,{type:Gu,url:Gu,status:Gu,ok:Gu,redirected:Gu,statusText:Gu,headers:Gu,clone:Gu,body:Gu,bodyUsed:Gu,[Symbol.toStringTag]:{value:"Response",configurable:!0}});Object.defineProperties(_4,{json:Gu,redirect:Gu,error:Gu});function dne(e){if(e.internalResponse)return TTe(dne(e.internalResponse),e.type);let t=qI({...e,body:null});return e.body!=null&&(t.body=LAt(t,e.body)),t}o(dne,"cloneResponse");function qI(e){return{aborted:!1,rangeRequested:!1,timingAllowPassed:!1,requestIncludesCredentials:!1,type:"default",status:200,timingInfo:null,cacheState:"",statusText:"",...e,headersList:e?.headersList?new ATe(e?.headersList):new ATe,urlList:e?.urlList?[...e.urlList]:[]}}o(qI,"makeResponse");function jM(e){let t=jAt(e);return qI({type:"error",status:0,error:t?e:new Error(e&&String(e)),aborted:e&&e.name==="AbortError"})}o(jM,"makeNetworkError");function e2t(e){return e.type==="error"&&e.status===0}o(e2t,"isNetworkError");function HM(e,t){return t={internalResponse:e,...t},new Proxy(e,{get(r,n){return n in t?t[n]:r[n]},set(r,n,i){return fne(!(n in t)),r[n]=i,!0}})}o(HM,"makeFilteredResponse");function TTe(e,t){if(t==="basic")return HM(e,{type:"basic",headersList:e.headersList});if(t==="cors")return HM(e,{type:"cors",headersList:e.headersList});if(t==="opaque")return HM(e,{type:"opaque",urlList:Object.freeze([]),status:0,statusText:"",body:null});if(t==="opaqueredirect")return HM(e,{type:"opaqueredirect",status:0,statusText:"",headersList:[],body:null});fne(!1)}o(TTe,"filterResponse");function t2t(e,t=null){return fne(GAt(e)),WAt(e)?jM(Object.assign(new DOMException("The operation was aborted.","AbortError"),{cause:t})):jM(Object.assign(new DOMException("Request was cancelled."),{cause:t}))}o(t2t,"makeAppropriateNetworkError");function xTe(e,t,r){if(t.status!==null&&(t.status<200||t.status>599))throw new RangeError('init["status"] must be in the range of 200 to 599, inclusive.');if("statusText"in t&&t.statusText!=null&&!qAt(String(t.statusText)))throw new TypeError("Invalid statusText");if("status"in t&&t.status!=null&&(e[Hs].status=t.status),"statusText"in t&&t.statusText!=null&&(e[Hs].statusText=t.statusText),"headers"in t&&t.headers!=null&&NAt(e[R1],t.headers),r){if(KAt.includes(e.status))throw jn.errors.exception({header:"Response constructor",message:`Invalid response status code ${e.status}`});e[Hs].body=r.body,r.type!=null&&!e[Hs].headersList.contains("content-type",!0)&&e[Hs].headersList.append("content-type",r.type,!0)}}o(xTe,"initializeResponse");function kw(e,t){let r=new _4(VM);return r[Hs]=e,r[R1]=new vTe(VM),ITe(r[R1],e.headersList),bTe(r[R1],t),MAt&&e.body?.stream&&OAt.register(r,new WeakRef(e.body.stream)),r}o(kw,"fromInnerResponse");jn.converters.ReadableStream=jn.interfaceConverter(ReadableStream);jn.converters.FormData=jn.interfaceConverter(JAt);jn.converters.URLSearchParams=jn.interfaceConverter(URLSearchParams);jn.converters.XMLHttpRequestBodyInit=function(e,t,r){return typeof e=="string"?jn.converters.USVString(e,t,r):HAt(e)?jn.converters.Blob(e,t,r,{strict:!1}):ArrayBuffer.isView(e)||XAt.isArrayBuffer(e)?jn.converters.BufferSource(e,t,r):une.isFormDataLike(e)?jn.converters.FormData(e,t,r,{strict:!1}):e instanceof URLSearchParams?jn.converters.URLSearchParams(e,t,r):jn.converters.DOMString(e,t,r)};jn.converters.BodyInit=function(e,t,r){return e instanceof ReadableStream?jn.converters.ReadableStream(e,t,r):e?.[Symbol.asyncIterator]?e:jn.converters.XMLHttpRequestBodyInit(e,t,r)};jn.converters.ResponseInit=jn.dictionaryConverter([{key:"status",converter:jn.converters["unsigned short"],defaultValue:o(()=>200,"defaultValue")},{key:"statusText",converter:jn.converters.ByteString,defaultValue:o(()=>"","defaultValue")},{key:"headers",converter:jn.converters.HeadersInit}]);wTe.exports={isNetworkError:e2t,makeNetworkError:jM,makeResponse:qI,makeAppropriateNetworkError:t2t,filterResponse:TTe,Response:_4,cloneResponse:dne,fromInnerResponse:kw}});var kTe=V((jQr,BTe)=>{"use strict";d();var{kConnected:_Te,kSize:STe}=vs(),mne=class{static{o(this,"CompatWeakRef")}constructor(t){this.value=t}deref(){return this.value[_Te]===0&&this.value[STe]===0?void 0:this.value}},hne=class{static{o(this,"CompatFinalizer")}constructor(t){this.finalizer=t}register(t,r){t.on&&t.on("disconnect",()=>{t[_Te]===0&&t[STe]===0&&this.finalizer(r)})}unregister(t){}};BTe.exports=function(){return process.env.NODE_V8_COVERAGE&&process.version.startsWith("v18")?(process._rawDebug("Using compatibility WeakRef and FinalizationRegistry"),{WeakRef:mne,FinalizationRegistry:hne}):{WeakRef,FinalizationRegistry}}});var GI=V((YQr,VTe)=>{"use strict";d();var{extractBody:r2t,mixinBody:n2t,cloneBody:i2t,bodyUnusable:RTe}=vI(),{Headers:UTe,fill:o2t,HeadersList:KM,setHeadersGuard:gne,getHeadersGuard:s2t,setHeadersList:qTe,getHeadersList:DTe}=w4(),{FinalizationRegistry:a2t}=kTe()(),zM=ci(),PTe=require("node:util"),{isValidHTTPToken:l2t,sameOrigin:NTe,environmentSettingsObject:$M}=Mu(),{forbiddenMethodsSet:c2t,corsSafeListedMethodsSet:u2t,referrerPolicy:f2t,requestRedirect:d2t,requestMode:m2t,requestCredentials:h2t,requestCache:p2t,requestDuplex:g2t}=JT(),{kEnumerableProperty:Da,normalizedMethodRecordsBase:A2t,normalizedMethodRecords:y2t}=zM,{kHeaders:Wu,kSignal:YM,kState:ns,kDispatcher:pne}=Q5(),{webidl:mn}=Hl(),{URLSerializer:C2t}=Nc(),{kConstruct:JM}=vs(),E2t=require("node:assert"),{getMaxListeners:FTe,setMaxListeners:LTe,getEventListeners:x2t,defaultMaxListeners:QTe}=require("node:events"),v2t=Symbol("abortController"),GTe=new a2t(({signal:e,abort:t})=>{e.removeEventListener("abort",t)}),XM=new WeakMap;function MTe(e){return t;function t(){let r=e.deref();if(r!==void 0){GTe.unregister(t),this.removeEventListener("abort",t),r.abort(this.reason);let n=XM.get(r.signal);if(n!==void 0){if(n.size!==0){for(let i of n){let s=i.deref();s!==void 0&&s.abort(this.reason)}n.clear()}XM.delete(r.signal)}}}}o(MTe,"buildAbort");var OTe=!1,z5=class e{static{o(this,"Request")}constructor(t,r={}){if(mn.util.markAsUncloneable(this),t===JM)return;let n="Request constructor";mn.argumentLengthCheck(arguments,1,n),t=mn.converters.RequestInfo(t,n,"input"),r=mn.converters.RequestInit(r,n,"init");let i=null,s=null,a=$M.settingsObject.baseUrl,l=null;if(typeof t=="string"){this[pne]=r.dispatcher;let b;try{b=new URL(t,a)}catch(v){throw new TypeError("Failed to parse URL from "+t,{cause:v})}if(b.username||b.password)throw new TypeError("Request cannot be constructed from a URL that includes credentials: "+t);i=ZM({urlList:[b]}),s="cors"}else this[pne]=r.dispatcher||t[pne],E2t(t instanceof e),i=t[ns],l=t[YM];let c=$M.settingsObject.origin,u="client";if(i.window?.constructor?.name==="EnvironmentSettingsObject"&&NTe(i.window,c)&&(u=i.window),r.window!=null)throw new TypeError(`'window' option '${u}' must be null`);"window"in r&&(u="no-window"),i=ZM({method:i.method,headersList:i.headersList,unsafeRequest:i.unsafeRequest,client:$M.settingsObject,window:u,priority:i.priority,origin:i.origin,referrer:i.referrer,referrerPolicy:i.referrerPolicy,mode:i.mode,credentials:i.credentials,cache:i.cache,redirect:i.redirect,integrity:i.integrity,keepalive:i.keepalive,reloadNavigation:i.reloadNavigation,historyNavigation:i.historyNavigation,urlList:[...i.urlList]});let f=Object.keys(r).length!==0;if(f&&(i.mode==="navigate"&&(i.mode="same-origin"),i.reloadNavigation=!1,i.historyNavigation=!1,i.origin="client",i.referrer="client",i.referrerPolicy="",i.url=i.urlList[i.urlList.length-1],i.urlList=[i.url]),r.referrer!==void 0){let b=r.referrer;if(b==="")i.referrer="no-referrer";else{let v;try{v=new URL(b,a)}catch(S){throw new TypeError(`Referrer "${b}" is not a valid URL.`,{cause:S})}v.protocol==="about:"&&v.hostname==="client"||c&&!NTe(v,$M.settingsObject.baseUrl)?i.referrer="client":i.referrer=v}}r.referrerPolicy!==void 0&&(i.referrerPolicy=r.referrerPolicy);let m;if(r.mode!==void 0?m=r.mode:m=s,m==="navigate")throw mn.errors.exception({header:"Request constructor",message:"invalid request mode navigate."});if(m!=null&&(i.mode=m),r.credentials!==void 0&&(i.credentials=r.credentials),r.cache!==void 0&&(i.cache=r.cache),i.cache==="only-if-cached"&&i.mode!=="same-origin")throw new TypeError("'only-if-cached' can be set only with 'same-origin' mode");if(r.redirect!==void 0&&(i.redirect=r.redirect),r.integrity!=null&&(i.integrity=String(r.integrity)),r.keepalive!==void 0&&(i.keepalive=!!r.keepalive),r.method!==void 0){let b=r.method,v=y2t[b];if(v!==void 0)i.method=v;else{if(!l2t(b))throw new TypeError(`'${b}' is not a valid HTTP method.`);let S=b.toUpperCase();if(c2t.has(S))throw new TypeError(`'${b}' HTTP method is unsupported.`);b=A2t[S]??b,i.method=b}!OTe&&i.method==="patch"&&(process.emitWarning("Using `patch` is highly likely to result in a `405 Method Not Allowed`. `PATCH` is much more likely to succeed.",{code:"UNDICI-FETCH-patch"}),OTe=!0)}r.signal!==void 0&&(l=r.signal),this[ns]=i;let h=new AbortController;if(this[YM]=h.signal,l!=null){if(!l||typeof l.aborted!="boolean"||typeof l.addEventListener!="function")throw new TypeError("Failed to construct 'Request': member signal is not of type AbortSignal.");if(l.aborted)h.abort(l.reason);else{this[v2t]=h;let b=new WeakRef(h),v=MTe(b);try{(typeof FTe=="function"&&FTe(l)===QTe||x2t(l,"abort").length>=QTe)&&LTe(1500,l)}catch{}zM.addAbortListener(l,v),GTe.register(h,{signal:l,abort:v},v)}}if(this[Wu]=new UTe(JM),qTe(this[Wu],i.headersList),gne(this[Wu],"request"),m==="no-cors"){if(!u2t.has(i.method))throw new TypeError(`'${i.method} is unsupported in no-cors mode.`);gne(this[Wu],"request-no-cors")}if(f){let b=DTe(this[Wu]),v=r.headers!==void 0?r.headers:new KM(b);if(b.clear(),v instanceof KM){for(let{name:S,value:k}of v.rawValues())b.append(S,k,!1);b.cookies=v.cookies}else o2t(this[Wu],v)}let p=t instanceof e?t[ns].body:null;if((r.body!=null||p!=null)&&(i.method==="GET"||i.method==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body.");let A=null;if(r.body!=null){let[b,v]=r2t(r.body,i.keepalive);A=b,v&&!DTe(this[Wu]).contains("content-type",!0)&&this[Wu].append("content-type",v)}let E=A??p;if(E!=null&&E.source==null){if(A!=null&&r.duplex==null)throw new TypeError("RequestInit: duplex option is required when sending a body.");if(i.mode!=="same-origin"&&i.mode!=="cors")throw new TypeError('If request is made from ReadableStream, mode should be "same-origin" or "cors"');i.useCORSPreflightFlag=!0}let x=E;if(A==null&&p!=null){if(RTe(t))throw new TypeError("Cannot construct a Request with a Request object that has already been used.");let b=new TransformStream;p.stream.pipeThrough(b),x={source:p.source,length:p.length,stream:b.readable}}this[ns].body=x}get method(){return mn.brandCheck(this,e),this[ns].method}get url(){return mn.brandCheck(this,e),C2t(this[ns].url)}get headers(){return mn.brandCheck(this,e),this[Wu]}get destination(){return mn.brandCheck(this,e),this[ns].destination}get referrer(){return mn.brandCheck(this,e),this[ns].referrer==="no-referrer"?"":this[ns].referrer==="client"?"about:client":this[ns].referrer.toString()}get referrerPolicy(){return mn.brandCheck(this,e),this[ns].referrerPolicy}get mode(){return mn.brandCheck(this,e),this[ns].mode}get credentials(){return this[ns].credentials}get cache(){return mn.brandCheck(this,e),this[ns].cache}get redirect(){return mn.brandCheck(this,e),this[ns].redirect}get integrity(){return mn.brandCheck(this,e),this[ns].integrity}get keepalive(){return mn.brandCheck(this,e),this[ns].keepalive}get isReloadNavigation(){return mn.brandCheck(this,e),this[ns].reloadNavigation}get isHistoryNavigation(){return mn.brandCheck(this,e),this[ns].historyNavigation}get signal(){return mn.brandCheck(this,e),this[YM]}get body(){return mn.brandCheck(this,e),this[ns].body?this[ns].body.stream:null}get bodyUsed(){return mn.brandCheck(this,e),!!this[ns].body&&zM.isDisturbed(this[ns].body.stream)}get duplex(){return mn.brandCheck(this,e),"half"}clone(){if(mn.brandCheck(this,e),RTe(this))throw new TypeError("unusable");let t=WTe(this[ns]),r=new AbortController;if(this.signal.aborted)r.abort(this.signal.reason);else{let n=XM.get(this.signal);n===void 0&&(n=new Set,XM.set(this.signal,n));let i=new WeakRef(r);n.add(i),zM.addAbortListener(r.signal,MTe(i))}return HTe(t,r.signal,s2t(this[Wu]))}[PTe.inspect.custom](t,r){r.depth===null&&(r.depth=2),r.colors??=!0;let n={method:this.method,url:this.url,headers:this.headers,destination:this.destination,referrer:this.referrer,referrerPolicy:this.referrerPolicy,mode:this.mode,credentials:this.credentials,cache:this.cache,redirect:this.redirect,integrity:this.integrity,keepalive:this.keepalive,isReloadNavigation:this.isReloadNavigation,isHistoryNavigation:this.isHistoryNavigation,signal:this.signal};return`Request ${PTe.formatWithOptions(r,n)}`}};n2t(z5);function ZM(e){return{method:e.method??"GET",localURLsOnly:e.localURLsOnly??!1,unsafeRequest:e.unsafeRequest??!1,body:e.body??null,client:e.client??null,reservedClient:e.reservedClient??null,replacesClientId:e.replacesClientId??"",window:e.window??"client",keepalive:e.keepalive??!1,serviceWorkers:e.serviceWorkers??"all",initiator:e.initiator??"",destination:e.destination??"",priority:e.priority??null,origin:e.origin??"client",policyContainer:e.policyContainer??"client",referrer:e.referrer??"client",referrerPolicy:e.referrerPolicy??"",mode:e.mode??"no-cors",useCORSPreflightFlag:e.useCORSPreflightFlag??!1,credentials:e.credentials??"same-origin",useCredentials:e.useCredentials??!1,cache:e.cache??"default",redirect:e.redirect??"follow",integrity:e.integrity??"",cryptoGraphicsNonceMetadata:e.cryptoGraphicsNonceMetadata??"",parserMetadata:e.parserMetadata??"",reloadNavigation:e.reloadNavigation??!1,historyNavigation:e.historyNavigation??!1,userActivation:e.userActivation??!1,taintedOrigin:e.taintedOrigin??!1,redirectCount:e.redirectCount??0,responseTainting:e.responseTainting??"basic",preventNoCacheCacheControlHeaderModification:e.preventNoCacheCacheControlHeaderModification??!1,done:e.done??!1,timingAllowFailed:e.timingAllowFailed??!1,urlList:e.urlList,url:e.urlList[0],headersList:e.headersList?new KM(e.headersList):new KM}}o(ZM,"makeRequest");function WTe(e){let t=ZM({...e,body:null});return e.body!=null&&(t.body=i2t(t,e.body)),t}o(WTe,"cloneRequest");function HTe(e,t,r){let n=new z5(JM);return n[ns]=e,n[YM]=t,n[Wu]=new UTe(JM),qTe(n[Wu],e.headersList),gne(n[Wu],r),n}o(HTe,"fromInnerRequest");Object.defineProperties(z5.prototype,{method:Da,url:Da,headers:Da,redirect:Da,clone:Da,signal:Da,duplex:Da,destination:Da,body:Da,bodyUsed:Da,isHistoryNavigation:Da,isReloadNavigation:Da,keepalive:Da,integrity:Da,cache:Da,credentials:Da,attribute:Da,referrerPolicy:Da,referrer:Da,mode:Da,[Symbol.toStringTag]:{value:"Request",configurable:!0}});mn.converters.Request=mn.interfaceConverter(z5);mn.converters.RequestInfo=function(e,t,r){return typeof e=="string"?mn.converters.USVString(e,t,r):e instanceof z5?mn.converters.Request(e,t,r):mn.converters.USVString(e,t,r)};mn.converters.AbortSignal=mn.interfaceConverter(AbortSignal);mn.converters.RequestInit=mn.dictionaryConverter([{key:"method",converter:mn.converters.ByteString},{key:"headers",converter:mn.converters.HeadersInit},{key:"body",converter:mn.nullableConverter(mn.converters.BodyInit)},{key:"referrer",converter:mn.converters.USVString},{key:"referrerPolicy",converter:mn.converters.DOMString,allowedValues:f2t},{key:"mode",converter:mn.converters.DOMString,allowedValues:m2t},{key:"credentials",converter:mn.converters.DOMString,allowedValues:h2t},{key:"cache",converter:mn.converters.DOMString,allowedValues:p2t},{key:"redirect",converter:mn.converters.DOMString,allowedValues:d2t},{key:"integrity",converter:mn.converters.DOMString},{key:"keepalive",converter:mn.converters.boolean},{key:"signal",converter:mn.nullableConverter(e=>mn.converters.AbortSignal(e,"RequestInit","signal",{strict:!1}))},{key:"window",converter:mn.converters.any},{key:"duplex",converter:mn.converters.DOMString,allowedValues:g2t},{key:"dispatcher",converter:mn.converters.any}]);VTe.exports={Request:z5,makeRequest:ZM,fromInnerRequest:HTe,cloneRequest:WTe}});var Pw=V((XQr,swe)=>{"use strict";d();var{makeNetworkError:Co,makeAppropriateNetworkError:eO,filterResponse:Ane,makeResponse:tO,fromInnerResponse:b2t}=Rw(),{HeadersList:jTe}=w4(),{Request:I2t,cloneRequest:T2t}=GI(),Y5=require("node:zlib"),{bytesMatch:w2t,makePolicyContainer:_2t,clonePolicyContainer:S2t,requestBadPort:B2t,TAOCheck:k2t,appendRequestOriginHeader:R2t,responseLocationURL:D2t,requestCurrentURL:Sp,setRequestReferrerPolicyOnRedirect:P2t,tryUpgradeRequestToAPotentiallyTrustworthyURL:N2t,createOpaqueTimingInfo:vne,appendFetchMetadata:F2t,corsCheck:L2t,crossOriginResourcePolicyCheck:Q2t,determineRequestsReferrer:M2t,coarsenedSharedCurrentTime:Dw,createDeferredPromise:O2t,isBlobLike:U2t,sameOrigin:xne,isCancelled:S4,isAborted:$Te,isErrorLike:q2t,fullyReadBody:G2t,readableStreamClose:W2t,isomorphicEncode:rO,urlIsLocal:H2t,urlIsHttpHttpsScheme:bne,urlHasHttpsScheme:V2t,clampAndCoarsenConnectionTimingInfo:j2t,simpleRangeHeaderValue:$2t,buildContentRange:z2t,createInflate:Y2t,extractMimeType:K2t}=Mu(),{kState:JTe,kDispatcher:J2t}=Q5(),B4=require("node:assert"),{safelyExtractBody:Ine,extractBody:zTe}=vI(),{redirectStatusSet:XTe,nullBodyStatus:ZTe,safeMethodsSet:X2t,requestBodyHeader:Z2t,subresourceSet:e5t}=JT(),t5t=require("node:events"),{Readable:r5t,pipeline:n5t,finished:i5t}=require("node:stream"),{addAbortListener:o5t,isErrored:s5t,isReadable:nO,bufferToLowerCasedHeaderName:YTe}=ci(),{dataURLProcessor:a5t,serializeAMimeType:l5t,minimizeSupportedMimeType:c5t}=Nc(),{getGlobalDispatcher:u5t}=UM(),{webidl:f5t}=Hl(),{STATUS_CODES:d5t}=require("node:http"),m5t=["GET","HEAD"],h5t=typeof __UNDICI_IS_NODE__<"u"||typeof esbuildDetection<"u"?"node":"undici",yne,iO=class extends t5t{static{o(this,"Fetch")}constructor(t){super(),this.dispatcher=t,this.connection=null,this.dump=!1,this.state="ongoing"}terminate(t){this.state==="ongoing"&&(this.state="terminated",this.connection?.destroy(t),this.emit("terminated",t))}abort(t){this.state==="ongoing"&&(this.state="aborted",t||(t=new DOMException("The operation was aborted.","AbortError")),this.serializedAbortReason=t,this.connection?.destroy(t),this.emit("terminated",t))}};function p5t(e){ewe(e,"fetch")}o(p5t,"handleFetchDone");function g5t(e,t=void 0){f5t.argumentLengthCheck(arguments,1,"globalThis.fetch");let r=O2t(),n;try{n=new I2t(e,t)}catch(f){return r.reject(f),r.promise}let i=n[JTe];if(n.signal.aborted)return Cne(r,i,null,n.signal.reason),r.promise;i.client.globalObject?.constructor?.name==="ServiceWorkerGlobalScope"&&(i.serviceWorkers="none");let a=null,l=!1,c=null;return o5t(n.signal,()=>{l=!0,B4(c!=null),c.abort(n.signal.reason);let f=a?.deref();Cne(r,i,f,n.signal.reason)}),c=rwe({request:i,processResponseEndOfBody:p5t,processResponse:o(f=>{if(!l){if(f.aborted){Cne(r,i,a,c.serializedAbortReason);return}if(f.type==="error"){r.reject(new TypeError("fetch failed",{cause:f.error}));return}a=new WeakRef(b2t(f,"immutable")),r.resolve(a.deref()),r=null}},"processResponse"),dispatcher:n[J2t]}),r.promise}o(g5t,"fetch");function ewe(e,t="other"){if(e.type==="error"&&e.aborted||!e.urlList?.length)return;let r=e.urlList[0],n=e.timingInfo,i=e.cacheState;bne(r)&&n!==null&&(e.timingAllowPassed||(n=vne({startTime:n.startTime}),i=""),n.endTime=Dw(),e.timingInfo=n,twe(n,r.href,t,globalThis,i))}o(ewe,"finalizeAndReportTiming");var twe=performance.markResourceTiming;function Cne(e,t,r,n){if(e&&e.reject(n),t.body!=null&&nO(t.body?.stream)&&t.body.stream.cancel(n).catch(s=>{if(s.code!=="ERR_INVALID_STATE")throw s}),r==null)return;let i=r[JTe];i.body!=null&&nO(i.body?.stream)&&i.body.stream.cancel(n).catch(s=>{if(s.code!=="ERR_INVALID_STATE")throw s})}o(Cne,"abortFetch");function rwe({request:e,processRequestBodyChunkLength:t,processRequestEndOfBody:r,processResponse:n,processResponseEndOfBody:i,processResponseConsumeBody:s,useParallelQueue:a=!1,dispatcher:l=u5t()}){B4(l);let c=null,u=!1;e.client!=null&&(c=e.client.globalObject,u=e.client.crossOriginIsolatedCapability);let f=Dw(u),m=vne({startTime:f}),h={controller:new iO(l),request:e,timingInfo:m,processRequestBodyChunkLength:t,processRequestEndOfBody:r,processResponse:n,processResponseConsumeBody:s,processResponseEndOfBody:i,taskDestination:c,crossOriginIsolatedCapability:u};return B4(!e.body||e.body.stream),e.window==="client"&&(e.window=e.client?.globalObject?.constructor?.name==="Window"?e.client:"no-window"),e.origin==="client"&&(e.origin=e.client.origin),e.policyContainer==="client"&&(e.client!=null?e.policyContainer=S2t(e.client.policyContainer):e.policyContainer=_2t()),e.headersList.contains("accept",!0)||e.headersList.append("accept","*/*",!0),e.headersList.contains("accept-language",!0)||e.headersList.append("accept-language","*",!0),e.priority,e5t.has(e.destination),nwe(h).catch(p=>{h.controller.terminate(p)}),h.controller}o(rwe,"fetching");async function nwe(e,t=!1){let r=e.request,n=null;if(r.localURLsOnly&&!H2t(Sp(r))&&(n=Co("local URLs only")),N2t(r),B2t(r)==="blocked"&&(n=Co("bad port")),r.referrerPolicy===""&&(r.referrerPolicy=r.policyContainer.referrerPolicy),r.referrer!=="no-referrer"&&(r.referrer=M2t(r)),n===null&&(n=await(async()=>{let s=Sp(r);return xne(s,r.url)&&r.responseTainting==="basic"||s.protocol==="data:"||r.mode==="navigate"||r.mode==="websocket"?(r.responseTainting="basic",await KTe(e)):r.mode==="same-origin"?Co('request mode cannot be "same-origin"'):r.mode==="no-cors"?r.redirect!=="follow"?Co('redirect mode cannot be "follow" for "no-cors" request'):(r.responseTainting="opaque",await KTe(e)):bne(Sp(r))?(r.responseTainting="cors",await iwe(e)):Co("URL scheme must be a HTTP(S) scheme")})()),t)return n;n.status!==0&&!n.internalResponse&&(r.responseTainting,r.responseTainting==="basic"?n=Ane(n,"basic"):r.responseTainting==="cors"?n=Ane(n,"cors"):r.responseTainting==="opaque"?n=Ane(n,"opaque"):B4(!1));let i=n.status===0?n:n.internalResponse;if(i.urlList.length===0&&i.urlList.push(...r.urlList),r.timingAllowFailed||(n.timingAllowPassed=!0),n.type==="opaque"&&i.status===206&&i.rangeRequested&&!r.headers.contains("range",!0)&&(n=i=Co()),n.status!==0&&(r.method==="HEAD"||r.method==="CONNECT"||ZTe.includes(i.status))&&(i.body=null,e.controller.dump=!0),r.integrity){let s=o(l=>Ene(e,Co(l)),"processBodyError");if(r.responseTainting==="opaque"||n.body==null){s(n.error);return}let a=o(l=>{if(!w2t(l,r.integrity)){s("integrity mismatch");return}n.body=Ine(l)[0],Ene(e,n)},"processBody");await G2t(n.body,a,s)}else Ene(e,n)}o(nwe,"mainFetch");function KTe(e){if(S4(e)&&e.request.redirectCount===0)return Promise.resolve(eO(e));let{request:t}=e,{protocol:r}=Sp(t);switch(r){case"about:":return Promise.resolve(Co("about scheme is not supported"));case"blob:":{yne||(yne=require("node:buffer").resolveObjectURL);let n=Sp(t);if(n.search.length!==0)return Promise.resolve(Co("NetworkError when attempting to fetch resource."));let i=yne(n.toString());if(t.method!=="GET"||!U2t(i))return Promise.resolve(Co("invalid method"));let s=tO(),a=i.size,l=rO(`${a}`),c=i.type;if(t.headersList.contains("range",!0)){s.rangeRequested=!0;let u=t.headersList.get("range",!0),f=$2t(u,!0);if(f==="failure")return Promise.resolve(Co("failed to fetch the data URL"));let{rangeStartValue:m,rangeEndValue:h}=f;if(m===null)m=a-h,h=m+h-1;else{if(m>=a)return Promise.resolve(Co("Range start is greater than the blob's size."));(h===null||h>=a)&&(h=a-1)}let p=i.slice(m,h,c),A=zTe(p);s.body=A[0];let E=rO(`${p.size}`),x=z2t(m,h,a);s.status=206,s.statusText="Partial Content",s.headersList.set("content-length",E,!0),s.headersList.set("content-type",c,!0),s.headersList.set("content-range",x,!0)}else{let u=zTe(i);s.statusText="OK",s.body=u[0],s.headersList.set("content-length",l,!0),s.headersList.set("content-type",c,!0)}return Promise.resolve(s)}case"data:":{let n=Sp(t),i=a5t(n);if(i==="failure")return Promise.resolve(Co("failed to fetch the data URL"));let s=l5t(i.mimeType);return Promise.resolve(tO({statusText:"OK",headersList:[["content-type",{name:"Content-Type",value:s}]],body:Ine(i.body)[0]}))}case"file:":return Promise.resolve(Co("not implemented... yet..."));case"http:":case"https:":return iwe(e).catch(n=>Co(n));default:return Promise.resolve(Co("unknown scheme"))}}o(KTe,"schemeFetch");function A5t(e,t){e.request.done=!0,e.processResponseDone!=null&&queueMicrotask(()=>e.processResponseDone(t))}o(A5t,"finalizeResponse");function Ene(e,t){let r=e.timingInfo,n=o(()=>{let s=Date.now();e.request.destination==="document"&&(e.controller.fullTimingInfo=r),e.controller.reportTimingSteps=()=>{if(e.request.url.protocol!=="https:")return;r.endTime=s;let l=t.cacheState,c=t.bodyInfo;t.timingAllowPassed||(r=vne(r),l="");let u=0;if(e.request.mode!=="navigator"||!t.hasCrossOriginRedirects){u=t.status;let f=K2t(t.headersList);f!=="failure"&&(c.contentType=c5t(f))}e.request.initiatorType!=null&&twe(r,e.request.url.href,e.request.initiatorType,globalThis,l,c,u)};let a=o(()=>{e.request.done=!0,e.processResponseEndOfBody!=null&&queueMicrotask(()=>e.processResponseEndOfBody(t)),e.request.initiatorType!=null&&e.controller.reportTimingSteps()},"processResponseEndOfBodyTask");queueMicrotask(()=>a())},"processResponseEndOfBody");e.processResponse!=null&&queueMicrotask(()=>{e.processResponse(t),e.processResponse=null});let i=t.type==="error"?t:t.internalResponse??t;i.body==null?n():i5t(i.body.stream,()=>{n()})}o(Ene,"fetchFinale");async function iwe(e){let t=e.request,r=null,n=null,i=e.timingInfo;if(t.serviceWorkers,r===null){if(t.redirect==="follow"&&(t.serviceWorkers="none"),n=r=await owe(e),t.responseTainting==="cors"&&L2t(t,r)==="failure")return Co("cors failure");k2t(t,r)==="failure"&&(t.timingAllowFailed=!0)}return(t.responseTainting==="opaque"||r.type==="opaque")&&Q2t(t.origin,t.client,t.destination,n)==="blocked"?Co("blocked"):(XTe.has(n.status)&&(t.redirect!=="manual"&&e.controller.connection.destroy(void 0,!1),t.redirect==="error"?r=Co("unexpected redirect"):t.redirect==="manual"?r=n:t.redirect==="follow"?r=await y5t(e,r):B4(!1)),r.timingInfo=i,r)}o(iwe,"httpFetch");function y5t(e,t){let r=e.request,n=t.internalResponse?t.internalResponse:t,i;try{if(i=D2t(n,Sp(r).hash),i==null)return t}catch(a){return Promise.resolve(Co(a))}if(!bne(i))return Promise.resolve(Co("URL scheme must be a HTTP(S) scheme"));if(r.redirectCount===20)return Promise.resolve(Co("redirect count exceeded"));if(r.redirectCount+=1,r.mode==="cors"&&(i.username||i.password)&&!xne(r,i))return Promise.resolve(Co('cross origin not allowed for request mode "cors"'));if(r.responseTainting==="cors"&&(i.username||i.password))return Promise.resolve(Co('URL cannot contain credentials for request mode "cors"'));if(n.status!==303&&r.body!=null&&r.body.source==null)return Promise.resolve(Co());if([301,302].includes(n.status)&&r.method==="POST"||n.status===303&&!m5t.includes(r.method)){r.method="GET",r.body=null;for(let a of Z2t)r.headersList.delete(a)}xne(Sp(r),i)||(r.headersList.delete("authorization",!0),r.headersList.delete("proxy-authorization",!0),r.headersList.delete("cookie",!0),r.headersList.delete("host",!0)),r.body!=null&&(B4(r.body.source!=null),r.body=Ine(r.body.source)[0]);let s=e.timingInfo;return s.redirectEndTime=s.postRedirectStartTime=Dw(e.crossOriginIsolatedCapability),s.redirectStartTime===0&&(s.redirectStartTime=s.startTime),r.urlList.push(i),P2t(r,n),nwe(e,!0)}o(y5t,"httpRedirectFetch");async function owe(e,t=!1,r=!1){let n=e.request,i=null,s=null,a=null,l=null,c=!1;n.window==="no-window"&&n.redirect==="error"?(i=e,s=n):(s=T2t(n),i={...e},i.request=s);let u=n.credentials==="include"||n.credentials==="same-origin"&&n.responseTainting==="basic",f=s.body?s.body.length:null,m=null;if(s.body==null&&["POST","PUT"].includes(s.method)&&(m="0"),f!=null&&(m=rO(`${f}`)),m!=null&&s.headersList.append("content-length",m,!0),f!=null&&s.keepalive,s.referrer instanceof URL&&s.headersList.append("referer",rO(s.referrer.href),!0),R2t(s),F2t(s),s.headersList.contains("user-agent",!0)||s.headersList.append("user-agent",h5t),s.cache==="default"&&(s.headersList.contains("if-modified-since",!0)||s.headersList.contains("if-none-match",!0)||s.headersList.contains("if-unmodified-since",!0)||s.headersList.contains("if-match",!0)||s.headersList.contains("if-range",!0))&&(s.cache="no-store"),s.cache==="no-cache"&&!s.preventNoCacheCacheControlHeaderModification&&!s.headersList.contains("cache-control",!0)&&s.headersList.append("cache-control","max-age=0",!0),(s.cache==="no-store"||s.cache==="reload")&&(s.headersList.contains("pragma",!0)||s.headersList.append("pragma","no-cache",!0),s.headersList.contains("cache-control",!0)||s.headersList.append("cache-control","no-cache",!0)),s.headersList.contains("range",!0)&&s.headersList.append("accept-encoding","identity",!0),s.headersList.contains("accept-encoding",!0)||(V2t(Sp(s))?s.headersList.append("accept-encoding","br, gzip, deflate",!0):s.headersList.append("accept-encoding","gzip, deflate",!0)),s.headersList.delete("host",!0),l==null&&(s.cache="no-store"),s.cache!=="no-store"&&s.cache,a==null){if(s.cache==="only-if-cached")return Co("only if cached");let h=await C5t(i,u,r);!X2t.has(s.method)&&h.status>=200&&h.status<=399,c&&h.status,a==null&&(a=h)}if(a.urlList=[...s.urlList],s.headersList.contains("range",!0)&&(a.rangeRequested=!0),a.requestIncludesCredentials=u,a.status===407)return n.window==="no-window"?Co():S4(e)?eO(e):Co("proxy authentication required");if(a.status===421&&!r&&(n.body==null||n.body.source!=null)){if(S4(e))return eO(e);e.controller.connection.destroy(),a=await owe(e,t,!0)}return a}o(owe,"httpNetworkOrCacheFetch");async function C5t(e,t=!1,r=!1){B4(!e.controller.connection||e.controller.connection.destroyed),e.controller.connection={abort:null,destroyed:!1,destroy(A,E=!0){this.destroyed||(this.destroyed=!0,E&&this.abort?.(A??new DOMException("The operation was aborted.","AbortError")))}};let n=e.request,i=null,s=e.timingInfo;null==null&&(n.cache="no-store");let l=r?"yes":"no";n.mode;let c=null;if(n.body==null&&e.processRequestEndOfBody)queueMicrotask(()=>e.processRequestEndOfBody());else if(n.body!=null){let A=o(async function*(b){S4(e)||(yield b,e.processRequestBodyChunkLength?.(b.byteLength))},"processBodyChunk"),E=o(()=>{S4(e)||e.processRequestEndOfBody&&e.processRequestEndOfBody()},"processEndOfBody"),x=o(b=>{S4(e)||(b.name==="AbortError"?e.controller.abort():e.controller.terminate(b))},"processBodyError");c=async function*(){try{for await(let b of n.body.stream)yield*A(b);E()}catch(b){x(b)}}()}try{let{body:A,status:E,statusText:x,headersList:b,socket:v}=await p({body:c});if(v)i=tO({status:E,statusText:x,headersList:b,socket:v});else{let S=A[Symbol.asyncIterator]();e.controller.next=()=>S.next(),i=tO({status:E,statusText:x,headersList:b})}}catch(A){return A.name==="AbortError"?(e.controller.connection.destroy(),eO(e,A)):Co(A)}let u=o(async()=>{await e.controller.resume()},"pullAlgorithm"),f=o(A=>{S4(e)||e.controller.abort(A)},"cancelAlgorithm"),m=new ReadableStream({async start(A){e.controller.controller=A},async pull(A){await u(A)},async cancel(A){await f(A)},type:"bytes"});i.body={stream:m,source:null,length:null},e.controller.onAborted=h,e.controller.on("terminated",h),e.controller.resume=async()=>{for(;;){let A,E;try{let{done:b,value:v}=await e.controller.next();if($Te(e))break;A=b?void 0:v}catch(b){e.controller.ended&&!s.encodedBodySize?A=void 0:(A=b,E=!0)}if(A===void 0){W2t(e.controller.controller),A5t(e,i);return}if(s.decodedBodySize+=A?.byteLength??0,E){e.controller.terminate(A);return}let x=new Uint8Array(A);if(x.byteLength&&e.controller.controller.enqueue(x),s5t(m)){e.controller.terminate();return}if(e.controller.controller.desiredSize<=0)return}};function h(A){$Te(e)?(i.aborted=!0,nO(m)&&e.controller.controller.error(e.controller.serializedAbortReason)):nO(m)&&e.controller.controller.error(new TypeError("terminated",{cause:q2t(A)?A:void 0})),e.controller.connection.destroy()}return o(h,"onAborted"),i;function p({body:A}){let E=Sp(n),x=e.controller.dispatcher;return new Promise((b,v)=>x.dispatch({path:E.pathname+E.search,origin:E.origin,method:n.method,body:x.isMockActive?n.body&&(n.body.source||n.body.stream):A,headers:n.headersList.entries,maxRedirections:0,upgrade:n.mode==="websocket"?"websocket":void 0},{body:null,abort:null,onConnect(S){let{connection:k}=e.controller;s.finalConnectionTimingInfo=j2t(void 0,s.postRedirectStartTime,e.crossOriginIsolatedCapability),k.destroyed?S(new DOMException("The operation was aborted.","AbortError")):(e.controller.on("terminated",S),this.abort=k.abort=S),s.finalNetworkRequestStartTime=Dw(e.crossOriginIsolatedCapability)},onResponseStarted(){s.finalNetworkResponseStartTime=Dw(e.crossOriginIsolatedCapability)},onHeaders(S,k,P,N){if(S<200)return;let W=[],re="",ge=new jTe;for(let ne=0;ne<k.length;ne+=2)ge.append(YTe(k[ne]),k[ne+1].toString("latin1"),!0);let te=ge.get("content-encoding",!0);te&&(W=te.toLowerCase().split(",").map(ne=>ne.trim())),re=ge.get("location",!0),this.body=new r5t({read:P});let G=[],q=re&&n.redirect==="follow"&&XTe.has(S);if(W.length!==0&&n.method!=="HEAD"&&n.method!=="CONNECT"&&!ZTe.includes(S)&&!q)for(let ne=W.length-1;ne>=0;--ne){let H=W[ne];if(H==="x-gzip"||H==="gzip")G.push(Y5.createGunzip({flush:Y5.constants.Z_SYNC_FLUSH,finishFlush:Y5.constants.Z_SYNC_FLUSH}));else if(H==="deflate")G.push(Y2t({flush:Y5.constants.Z_SYNC_FLUSH,finishFlush:Y5.constants.Z_SYNC_FLUSH}));else if(H==="br")G.push(Y5.createBrotliDecompress({flush:Y5.constants.BROTLI_OPERATION_FLUSH,finishFlush:Y5.constants.BROTLI_OPERATION_FLUSH}));else{G.length=0;break}}let se=this.onError.bind(this);return b({status:S,statusText:N,headersList:ge,body:G.length?n5t(this.body,...G,ne=>{ne&&this.onError(ne)}).on("error",se):this.body.on("error",se)}),!0},onData(S){if(e.controller.dump)return;let k=S;return s.encodedBodySize+=k.byteLength,this.body.push(k)},onComplete(){this.abort&&e.controller.off("terminated",this.abort),e.controller.onAborted&&e.controller.off("terminated",e.controller.onAborted),e.controller.ended=!0,this.body.push(null)},onError(S){this.abort&&e.controller.off("terminated",this.abort),this.body?.destroy(S),e.controller.terminate(S),v(S)},onUpgrade(S,k,P){if(S!==101)return;let N=new jTe;for(let W=0;W<k.length;W+=2)N.append(YTe(k[W]),k[W+1].toString("latin1"),!0);return b({status:S,statusText:d5t[S],headersList:N,socket:P}),!0}}))}o(p,"dispatch")}o(C5t,"httpNetworkFetch");swe.exports={fetch:g5t,Fetch:iO,fetching:rwe,finalizeAndReportTiming:ewe}});var Tne=V((tMr,awe)=>{"use strict";d();awe.exports={kState:Symbol("FileReader state"),kResult:Symbol("FileReader result"),kError:Symbol("FileReader error"),kLastProgressEventFired:Symbol("FileReader last progress event fired timestamp"),kEvents:Symbol("FileReader events"),kAborted:Symbol("FileReader aborted")}});var cwe=V((nMr,lwe)=>{"use strict";d();var{webidl:Hu}=Hl(),oO=Symbol("ProgressEvent state"),wne=class e extends Event{static{o(this,"ProgressEvent")}constructor(t,r={}){t=Hu.converters.DOMString(t,"ProgressEvent constructor","type"),r=Hu.converters.ProgressEventInit(r??{}),super(t,r),this[oO]={lengthComputable:r.lengthComputable,loaded:r.loaded,total:r.total}}get lengthComputable(){return Hu.brandCheck(this,e),this[oO].lengthComputable}get loaded(){return Hu.brandCheck(this,e),this[oO].loaded}get total(){return Hu.brandCheck(this,e),this[oO].total}};Hu.converters.ProgressEventInit=Hu.dictionaryConverter([{key:"lengthComputable",converter:Hu.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"loaded",converter:Hu.converters["unsigned long long"],defaultValue:o(()=>0,"defaultValue")},{key:"total",converter:Hu.converters["unsigned long long"],defaultValue:o(()=>0,"defaultValue")},{key:"bubbles",converter:Hu.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"cancelable",converter:Hu.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"composed",converter:Hu.converters.boolean,defaultValue:o(()=>!1,"defaultValue")}]);lwe.exports={ProgressEvent:wne}});var fwe=V((sMr,uwe)=>{"use strict";d();function E5t(e){if(!e)return"failure";switch(e.trim().toLowerCase()){case"unicode-1-1-utf-8":case"unicode11utf8":case"unicode20utf8":case"utf-8":case"utf8":case"x-unicode20utf8":return"UTF-8";case"866":case"cp866":case"csibm866":case"ibm866":return"IBM866";case"csisolatin2":case"iso-8859-2":case"iso-ir-101":case"iso8859-2":case"iso88592":case"iso_8859-2":case"iso_8859-2:1987":case"l2":case"latin2":return"ISO-8859-2";case"csisolatin3":case"iso-8859-3":case"iso-ir-109":case"iso8859-3":case"iso88593":case"iso_8859-3":case"iso_8859-3:1988":case"l3":case"latin3":return"ISO-8859-3";case"csisolatin4":case"iso-8859-4":case"iso-ir-110":case"iso8859-4":case"iso88594":case"iso_8859-4":case"iso_8859-4:1988":case"l4":case"latin4":return"ISO-8859-4";case"csisolatincyrillic":case"cyrillic":case"iso-8859-5":case"iso-ir-144":case"iso8859-5":case"iso88595":case"iso_8859-5":case"iso_8859-5:1988":return"ISO-8859-5";case"arabic":case"asmo-708":case"csiso88596e":case"csiso88596i":case"csisolatinarabic":case"ecma-114":case"iso-8859-6":case"iso-8859-6-e":case"iso-8859-6-i":case"iso-ir-127":case"iso8859-6":case"iso88596":case"iso_8859-6":case"iso_8859-6:1987":return"ISO-8859-6";case"csisolatingreek":case"ecma-118":case"elot_928":case"greek":case"greek8":case"iso-8859-7":case"iso-ir-126":case"iso8859-7":case"iso88597":case"iso_8859-7":case"iso_8859-7:1987":case"sun_eu_greek":return"ISO-8859-7";case"csiso88598e":case"csisolatinhebrew":case"hebrew":case"iso-8859-8":case"iso-8859-8-e":case"iso-ir-138":case"iso8859-8":case"iso88598":case"iso_8859-8":case"iso_8859-8:1988":case"visual":return"ISO-8859-8";case"csiso88598i":case"iso-8859-8-i":case"logical":return"ISO-8859-8-I";case"csisolatin6":case"iso-8859-10":case"iso-ir-157":case"iso8859-10":case"iso885910":case"l6":case"latin6":return"ISO-8859-10";case"iso-8859-13":case"iso8859-13":case"iso885913":return"ISO-8859-13";case"iso-8859-14":case"iso8859-14":case"iso885914":return"ISO-8859-14";case"csisolatin9":case"iso-8859-15":case"iso8859-15":case"iso885915":case"iso_8859-15":case"l9":return"ISO-8859-15";case"iso-8859-16":return"ISO-8859-16";case"cskoi8r":case"koi":case"koi8":case"koi8-r":case"koi8_r":return"KOI8-R";case"koi8-ru":case"koi8-u":return"KOI8-U";case"csmacintosh":case"mac":case"macintosh":case"x-mac-roman":return"macintosh";case"iso-8859-11":case"iso8859-11":case"iso885911":case"tis-620":case"windows-874":return"windows-874";case"cp1250":case"windows-1250":case"x-cp1250":return"windows-1250";case"cp1251":case"windows-1251":case"x-cp1251":return"windows-1251";case"ansi_x3.4-1968":case"ascii":case"cp1252":case"cp819":case"csisolatin1":case"ibm819":case"iso-8859-1":case"iso-ir-100":case"iso8859-1":case"iso88591":case"iso_8859-1":case"iso_8859-1:1987":case"l1":case"latin1":case"us-ascii":case"windows-1252":case"x-cp1252":return"windows-1252";case"cp1253":case"windows-1253":case"x-cp1253":return"windows-1253";case"cp1254":case"csisolatin5":case"iso-8859-9":case"iso-ir-148":case"iso8859-9":case"iso88599":case"iso_8859-9":case"iso_8859-9:1989":case"l5":case"latin5":case"windows-1254":case"x-cp1254":return"windows-1254";case"cp1255":case"windows-1255":case"x-cp1255":return"windows-1255";case"cp1256":case"windows-1256":case"x-cp1256":return"windows-1256";case"cp1257":case"windows-1257":case"x-cp1257":return"windows-1257";case"cp1258":case"windows-1258":case"x-cp1258":return"windows-1258";case"x-mac-cyrillic":case"x-mac-ukrainian":return"x-mac-cyrillic";case"chinese":case"csgb2312":case"csiso58gb231280":case"gb2312":case"gb_2312":case"gb_2312-80":case"gbk":case"iso-ir-58":case"x-gbk":return"GBK";case"gb18030":return"gb18030";case"big5":case"big5-hkscs":case"cn-big5":case"csbig5":case"x-x-big5":return"Big5";case"cseucpkdfmtjapanese":case"euc-jp":case"x-euc-jp":return"EUC-JP";case"csiso2022jp":case"iso-2022-jp":return"ISO-2022-JP";case"csshiftjis":case"ms932":case"ms_kanji":case"shift-jis":case"shift_jis":case"sjis":case"windows-31j":case"x-sjis":return"Shift_JIS";case"cseuckr":case"csksc56011987":case"euc-kr":case"iso-ir-149":case"korean":case"ks_c_5601-1987":case"ks_c_5601-1989":case"ksc5601":case"ksc_5601":case"windows-949":return"EUC-KR";case"csiso2022kr":case"hz-gb-2312":case"iso-2022-cn":case"iso-2022-cn-ext":case"iso-2022-kr":case"replacement":return"replacement";case"unicodefffe":case"utf-16be":return"UTF-16BE";case"csunicode":case"iso-10646-ucs-2":case"ucs-2":case"unicode":case"unicodefeff":case"utf-16":case"utf-16le":return"UTF-16LE";case"x-user-defined":return"x-user-defined";default:return"failure"}}o(E5t,"getEncoding");uwe.exports={getEncoding:E5t}});var Cwe=V((cMr,ywe)=>{"use strict";d();var{kState:WI,kError:_ne,kResult:dwe,kAborted:Nw,kLastProgressEventFired:Sne}=Tne(),{ProgressEvent:x5t}=cwe(),{getEncoding:mwe}=fwe(),{serializeAMimeType:v5t,parseMIMEType:hwe}=Nc(),{types:b5t}=require("node:util"),{StringDecoder:pwe}=require("string_decoder"),{btoa:gwe}=require("node:buffer"),I5t={enumerable:!0,writable:!1,configurable:!1};function T5t(e,t,r,n){if(e[WI]==="loading")throw new DOMException("Invalid state","InvalidStateError");e[WI]="loading",e[dwe]=null,e[_ne]=null;let s=t.stream().getReader(),a=[],l=s.read(),c=!0;(async()=>{for(;!e[Nw];)try{let{done:u,value:f}=await l;if(c&&!e[Nw]&&queueMicrotask(()=>{K5("loadstart",e)}),c=!1,!u&&b5t.isUint8Array(f))a.push(f),(e[Sne]===void 0||Date.now()-e[Sne]>=50)&&!e[Nw]&&(e[Sne]=Date.now(),queueMicrotask(()=>{K5("progress",e)})),l=s.read();else if(u){queueMicrotask(()=>{e[WI]="done";try{let m=w5t(a,r,t.type,n);if(e[Nw])return;e[dwe]=m,K5("load",e)}catch(m){e[_ne]=m,K5("error",e)}e[WI]!=="loading"&&K5("loadend",e)});break}}catch(u){if(e[Nw])return;queueMicrotask(()=>{e[WI]="done",e[_ne]=u,K5("error",e),e[WI]!=="loading"&&K5("loadend",e)});break}})()}o(T5t,"readOperation");function K5(e,t){let r=new x5t(e,{bubbles:!1,cancelable:!1});t.dispatchEvent(r)}o(K5,"fireAProgressEvent");function w5t(e,t,r,n){switch(t){case"DataURL":{let i="data:",s=hwe(r||"application/octet-stream");s!=="failure"&&(i+=v5t(s)),i+=";base64,";let a=new pwe("latin1");for(let l of e)i+=gwe(a.write(l));return i+=gwe(a.end()),i}case"Text":{let i="failure";if(n&&(i=mwe(n)),i==="failure"&&r){let s=hwe(r);s!=="failure"&&(i=mwe(s.parameters.get("charset")))}return i==="failure"&&(i="UTF-8"),_5t(e,i)}case"ArrayBuffer":return Awe(e).buffer;case"BinaryString":{let i="",s=new pwe("latin1");for(let a of e)i+=s.write(a);return i+=s.end(),i}}}o(w5t,"packageData");function _5t(e,t){let r=Awe(e),n=S5t(r),i=0;n!==null&&(t=n,i=n==="UTF-8"?3:2);let s=r.slice(i);return new TextDecoder(t).decode(s)}o(_5t,"decode");function S5t(e){let[t,r,n]=e;return t===239&&r===187&&n===191?"UTF-8":t===254&&r===255?"UTF-16BE":t===255&&r===254?"UTF-16LE":null}o(S5t,"BOMSniffing");function Awe(e){let t=e.reduce((n,i)=>n+i.byteLength,0),r=0;return e.reduce((n,i)=>(n.set(i,r),r+=i.byteLength,n),new Uint8Array(t))}o(Awe,"combineByteSequences");ywe.exports={staticPropertyDescriptors:I5t,readOperation:T5t,fireAProgressEvent:K5}});var bwe=V((dMr,vwe)=>{"use strict";d();var{staticPropertyDescriptors:HI,readOperation:sO,fireAProgressEvent:Ewe}=Cwe(),{kState:k4,kError:xwe,kResult:aO,kEvents:lo,kAborted:B5t}=Tne(),{webidl:bo}=Hl(),{kEnumerableProperty:Qc}=ci(),qm=class e extends EventTarget{static{o(this,"FileReader")}constructor(){super(),this[k4]="empty",this[aO]=null,this[xwe]=null,this[lo]={loadend:null,error:null,abort:null,load:null,progress:null,loadstart:null}}readAsArrayBuffer(t){bo.brandCheck(this,e),bo.argumentLengthCheck(arguments,1,"FileReader.readAsArrayBuffer"),t=bo.converters.Blob(t,{strict:!1}),sO(this,t,"ArrayBuffer")}readAsBinaryString(t){bo.brandCheck(this,e),bo.argumentLengthCheck(arguments,1,"FileReader.readAsBinaryString"),t=bo.converters.Blob(t,{strict:!1}),sO(this,t,"BinaryString")}readAsText(t,r=void 0){bo.brandCheck(this,e),bo.argumentLengthCheck(arguments,1,"FileReader.readAsText"),t=bo.converters.Blob(t,{strict:!1}),r!==void 0&&(r=bo.converters.DOMString(r,"FileReader.readAsText","encoding")),sO(this,t,"Text",r)}readAsDataURL(t){bo.brandCheck(this,e),bo.argumentLengthCheck(arguments,1,"FileReader.readAsDataURL"),t=bo.converters.Blob(t,{strict:!1}),sO(this,t,"DataURL")}abort(){if(this[k4]==="empty"||this[k4]==="done"){this[aO]=null;return}this[k4]==="loading"&&(this[k4]="done",this[aO]=null),this[B5t]=!0,Ewe("abort",this),this[k4]!=="loading"&&Ewe("loadend",this)}get readyState(){switch(bo.brandCheck(this,e),this[k4]){case"empty":return this.EMPTY;case"loading":return this.LOADING;case"done":return this.DONE}}get result(){return bo.brandCheck(this,e),this[aO]}get error(){return bo.brandCheck(this,e),this[xwe]}get onloadend(){return bo.brandCheck(this,e),this[lo].loadend}set onloadend(t){bo.brandCheck(this,e),this[lo].loadend&&this.removeEventListener("loadend",this[lo].loadend),typeof t=="function"?(this[lo].loadend=t,this.addEventListener("loadend",t)):this[lo].loadend=null}get onerror(){return bo.brandCheck(this,e),this[lo].error}set onerror(t){bo.brandCheck(this,e),this[lo].error&&this.removeEventListener("error",this[lo].error),typeof t=="function"?(this[lo].error=t,this.addEventListener("error",t)):this[lo].error=null}get onloadstart(){return bo.brandCheck(this,e),this[lo].loadstart}set onloadstart(t){bo.brandCheck(this,e),this[lo].loadstart&&this.removeEventListener("loadstart",this[lo].loadstart),typeof t=="function"?(this[lo].loadstart=t,this.addEventListener("loadstart",t)):this[lo].loadstart=null}get onprogress(){return bo.brandCheck(this,e),this[lo].progress}set onprogress(t){bo.brandCheck(this,e),this[lo].progress&&this.removeEventListener("progress",this[lo].progress),typeof t=="function"?(this[lo].progress=t,this.addEventListener("progress",t)):this[lo].progress=null}get onload(){return bo.brandCheck(this,e),this[lo].load}set onload(t){bo.brandCheck(this,e),this[lo].load&&this.removeEventListener("load",this[lo].load),typeof t=="function"?(this[lo].load=t,this.addEventListener("load",t)):this[lo].load=null}get onabort(){return bo.brandCheck(this,e),this[lo].abort}set onabort(t){bo.brandCheck(this,e),this[lo].abort&&this.removeEventListener("abort",this[lo].abort),typeof t=="function"?(this[lo].abort=t,this.addEventListener("abort",t)):this[lo].abort=null}};qm.EMPTY=qm.prototype.EMPTY=0;qm.LOADING=qm.prototype.LOADING=1;qm.DONE=qm.prototype.DONE=2;Object.defineProperties(qm.prototype,{EMPTY:HI,LOADING:HI,DONE:HI,readAsArrayBuffer:Qc,readAsBinaryString:Qc,readAsText:Qc,readAsDataURL:Qc,abort:Qc,readyState:Qc,result:Qc,error:Qc,onloadstart:Qc,onprogress:Qc,onload:Qc,onabort:Qc,onerror:Qc,onloadend:Qc,[Symbol.toStringTag]:{value:"FileReader",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(qm,{EMPTY:HI,LOADING:HI,DONE:HI});vwe.exports={FileReader:qm}});var lO=V((pMr,Iwe)=>{"use strict";d();Iwe.exports={kConstruct:vs().kConstruct}});var _we=V((AMr,wwe)=>{"use strict";d();var k5t=require("node:assert"),{URLSerializer:Twe}=Nc(),{isValidHeaderName:R5t}=Mu();function D5t(e,t,r=!1){let n=Twe(e,r),i=Twe(t,r);return n===i}o(D5t,"urlEquals");function P5t(e){k5t(e!==null);let t=[];for(let r of e.split(","))r=r.trim(),R5t(r)&&t.push(r);return t}o(P5t,"getFieldValues");wwe.exports={urlEquals:D5t,getFieldValues:P5t}});var kwe=V((EMr,Bwe)=>{"use strict";d();var{kConstruct:N5t}=lO(),{urlEquals:F5t,getFieldValues:Bne}=_we(),{kEnumerableProperty:R4,isDisturbed:L5t}=ci(),{webidl:Jr}=Hl(),{Response:Q5t,cloneResponse:M5t,fromInnerResponse:O5t}=Rw(),{Request:D1,fromInnerRequest:U5t}=GI(),{kState:Gm}=Q5(),{fetching:q5t}=Pw(),{urlIsHttpHttpsScheme:cO,createDeferredPromise:VI,readAllBytes:G5t}=Mu(),kne=require("node:assert"),uO=class e{static{o(this,"Cache")}#e;constructor(){arguments[0]!==N5t&&Jr.illegalConstructor(),Jr.util.markAsUncloneable(this),this.#e=arguments[1]}async match(t,r={}){Jr.brandCheck(this,e);let n="Cache.match";Jr.argumentLengthCheck(arguments,1,n),t=Jr.converters.RequestInfo(t,n,"request"),r=Jr.converters.CacheQueryOptions(r,n,"options");let i=this.#r(t,r,1);if(i.length!==0)return i[0]}async matchAll(t=void 0,r={}){Jr.brandCheck(this,e);let n="Cache.matchAll";return t!==void 0&&(t=Jr.converters.RequestInfo(t,n,"request")),r=Jr.converters.CacheQueryOptions(r,n,"options"),this.#r(t,r)}async add(t){Jr.brandCheck(this,e);let r="Cache.add";Jr.argumentLengthCheck(arguments,1,r),t=Jr.converters.RequestInfo(t,r,"request");let n=[t];return await this.addAll(n)}async addAll(t){Jr.brandCheck(this,e);let r="Cache.addAll";Jr.argumentLengthCheck(arguments,1,r);let n=[],i=[];for(let h of t){if(h===void 0)throw Jr.errors.conversionFailed({prefix:r,argument:"Argument 1",types:["undefined is not allowed"]});if(h=Jr.converters.RequestInfo(h),typeof h=="string")continue;let p=h[Gm];if(!cO(p.url)||p.method!=="GET")throw Jr.errors.exception({header:r,message:"Expected http/s scheme when method is not GET."})}let s=[];for(let h of t){let p=new D1(h)[Gm];if(!cO(p.url))throw Jr.errors.exception({header:r,message:"Expected http/s scheme."});p.initiator="fetch",p.destination="subresource",i.push(p);let A=VI();s.push(q5t({request:p,processResponse(E){if(E.type==="error"||E.status===206||E.status<200||E.status>299)A.reject(Jr.errors.exception({header:"Cache.addAll",message:"Received an invalid status code or the request failed."}));else if(E.headersList.contains("vary")){let x=Bne(E.headersList.get("vary"));for(let b of x)if(b==="*"){A.reject(Jr.errors.exception({header:"Cache.addAll",message:"invalid vary field value"}));for(let v of s)v.abort();return}}},processResponseEndOfBody(E){if(E.aborted){A.reject(new DOMException("aborted","AbortError"));return}A.resolve(E)}})),n.push(A.promise)}let l=await Promise.all(n),c=[],u=0;for(let h of l){let p={type:"put",request:i[u],response:h};c.push(p),u++}let f=VI(),m=null;try{this.#t(c)}catch(h){m=h}return queueMicrotask(()=>{m===null?f.resolve(void 0):f.reject(m)}),f.promise}async put(t,r){Jr.brandCheck(this,e);let n="Cache.put";Jr.argumentLengthCheck(arguments,2,n),t=Jr.converters.RequestInfo(t,n,"request"),r=Jr.converters.Response(r,n,"response");let i=null;if(t instanceof D1?i=t[Gm]:i=new D1(t)[Gm],!cO(i.url)||i.method!=="GET")throw Jr.errors.exception({header:n,message:"Expected an http/s scheme when method is not GET"});let s=r[Gm];if(s.status===206)throw Jr.errors.exception({header:n,message:"Got 206 status"});if(s.headersList.contains("vary")){let p=Bne(s.headersList.get("vary"));for(let A of p)if(A==="*")throw Jr.errors.exception({header:n,message:"Got * vary field value"})}if(s.body&&(L5t(s.body.stream)||s.body.stream.locked))throw Jr.errors.exception({header:n,message:"Response body is locked or disturbed"});let a=M5t(s),l=VI();if(s.body!=null){let A=s.body.stream.getReader();G5t(A).then(l.resolve,l.reject)}else l.resolve(void 0);let c=[],u={type:"put",request:i,response:a};c.push(u);let f=await l.promise;a.body!=null&&(a.body.source=f);let m=VI(),h=null;try{this.#t(c)}catch(p){h=p}return queueMicrotask(()=>{h===null?m.resolve():m.reject(h)}),m.promise}async delete(t,r={}){Jr.brandCheck(this,e);let n="Cache.delete";Jr.argumentLengthCheck(arguments,1,n),t=Jr.converters.RequestInfo(t,n,"request"),r=Jr.converters.CacheQueryOptions(r,n,"options");let i=null;if(t instanceof D1){if(i=t[Gm],i.method!=="GET"&&!r.ignoreMethod)return!1}else kne(typeof t=="string"),i=new D1(t)[Gm];let s=[],a={type:"delete",request:i,options:r};s.push(a);let l=VI(),c=null,u;try{u=this.#t(s)}catch(f){c=f}return queueMicrotask(()=>{c===null?l.resolve(!!u?.length):l.reject(c)}),l.promise}async keys(t=void 0,r={}){Jr.brandCheck(this,e);let n="Cache.keys";t!==void 0&&(t=Jr.converters.RequestInfo(t,n,"request")),r=Jr.converters.CacheQueryOptions(r,n,"options");let i=null;if(t!==void 0)if(t instanceof D1){if(i=t[Gm],i.method!=="GET"&&!r.ignoreMethod)return[]}else typeof t=="string"&&(i=new D1(t)[Gm]);let s=VI(),a=[];if(t===void 0)for(let l of this.#e)a.push(l[0]);else{let l=this.#i(i,r);for(let c of l)a.push(c[0])}return queueMicrotask(()=>{let l=[];for(let c of a){let u=U5t(c,new AbortController().signal,"immutable");l.push(u)}s.resolve(Object.freeze(l))}),s.promise}#t(t){let r=this.#e,n=[...r],i=[],s=[];try{for(let a of t){if(a.type!=="delete"&&a.type!=="put")throw Jr.errors.exception({header:"Cache.#batchCacheOperations",message:'operation type does not match "delete" or "put"'});if(a.type==="delete"&&a.response!=null)throw Jr.errors.exception({header:"Cache.#batchCacheOperations",message:"delete operation should not have an associated response"});if(this.#i(a.request,a.options,i).length)throw new DOMException("???","InvalidStateError");let l;if(a.type==="delete"){if(l=this.#i(a.request,a.options),l.length===0)return[];for(let c of l){let u=r.indexOf(c);kne(u!==-1),r.splice(u,1)}}else if(a.type==="put"){if(a.response==null)throw Jr.errors.exception({header:"Cache.#batchCacheOperations",message:"put operation should have an associated response"});let c=a.request;if(!cO(c.url))throw Jr.errors.exception({header:"Cache.#batchCacheOperations",message:"expected http or https scheme"});if(c.method!=="GET")throw Jr.errors.exception({header:"Cache.#batchCacheOperations",message:"not get method"});if(a.options!=null)throw Jr.errors.exception({header:"Cache.#batchCacheOperations",message:"options must not be defined"});l=this.#i(a.request);for(let u of l){let f=r.indexOf(u);kne(f!==-1),r.splice(f,1)}r.push([a.request,a.response]),i.push([a.request,a.response])}s.push([a.request,a.response])}return s}catch(a){throw this.#e.length=0,this.#e=n,a}}#i(t,r,n){let i=[],s=n??this.#e;for(let a of s){let[l,c]=a;this.#n(t,l,c,r)&&i.push(a)}return i}#n(t,r,n=null,i){let s=new URL(t.url),a=new URL(r.url);if(i?.ignoreSearch&&(a.search="",s.search=""),!F5t(s,a,!0))return!1;if(n==null||i?.ignoreVary||!n.headersList.contains("vary"))return!0;let l=Bne(n.headersList.get("vary"));for(let c of l){if(c==="*")return!1;let u=r.headersList.get(c),f=t.headersList.get(c);if(u!==f)return!1}return!0}#r(t,r,n=1/0){let i=null;if(t!==void 0)if(t instanceof D1){if(i=t[Gm],i.method!=="GET"&&!r.ignoreMethod)return[]}else typeof t=="string"&&(i=new D1(t)[Gm]);let s=[];if(t===void 0)for(let l of this.#e)s.push(l[1]);else{let l=this.#i(i,r);for(let c of l)s.push(c[1])}let a=[];for(let l of s){let c=O5t(l,"immutable");if(a.push(c.clone()),a.length>=n)break}return Object.freeze(a)}};Object.defineProperties(uO.prototype,{[Symbol.toStringTag]:{value:"Cache",configurable:!0},match:R4,matchAll:R4,add:R4,addAll:R4,put:R4,delete:R4,keys:R4});var Swe=[{key:"ignoreSearch",converter:Jr.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"ignoreMethod",converter:Jr.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"ignoreVary",converter:Jr.converters.boolean,defaultValue:o(()=>!1,"defaultValue")}];Jr.converters.CacheQueryOptions=Jr.dictionaryConverter(Swe);Jr.converters.MultiCacheQueryOptions=Jr.dictionaryConverter([...Swe,{key:"cacheName",converter:Jr.converters.DOMString}]);Jr.converters.Response=Jr.interfaceConverter(Q5t);Jr.converters["sequence<RequestInfo>"]=Jr.sequenceConverter(Jr.converters.RequestInfo);Bwe.exports={Cache:uO}});var Dwe=V((bMr,Rwe)=>{"use strict";d();var{kConstruct:Fw}=lO(),{Cache:fO}=kwe(),{webidl:y0}=Hl(),{kEnumerableProperty:Lw}=ci(),dO=class e{static{o(this,"CacheStorage")}#e=new Map;constructor(){arguments[0]!==Fw&&y0.illegalConstructor(),y0.util.markAsUncloneable(this)}async match(t,r={}){if(y0.brandCheck(this,e),y0.argumentLengthCheck(arguments,1,"CacheStorage.match"),t=y0.converters.RequestInfo(t),r=y0.converters.MultiCacheQueryOptions(r),r.cacheName!=null){if(this.#e.has(r.cacheName)){let n=this.#e.get(r.cacheName);return await new fO(Fw,n).match(t,r)}}else for(let n of this.#e.values()){let s=await new fO(Fw,n).match(t,r);if(s!==void 0)return s}}async has(t){y0.brandCheck(this,e);let r="CacheStorage.has";return y0.argumentLengthCheck(arguments,1,r),t=y0.converters.DOMString(t,r,"cacheName"),this.#e.has(t)}async open(t){y0.brandCheck(this,e);let r="CacheStorage.open";if(y0.argumentLengthCheck(arguments,1,r),t=y0.converters.DOMString(t,r,"cacheName"),this.#e.has(t)){let i=this.#e.get(t);return new fO(Fw,i)}let n=[];return this.#e.set(t,n),new fO(Fw,n)}async delete(t){y0.brandCheck(this,e);let r="CacheStorage.delete";return y0.argumentLengthCheck(arguments,1,r),t=y0.converters.DOMString(t,r,"cacheName"),this.#e.delete(t)}async keys(){return y0.brandCheck(this,e),[...this.#e.keys()]}};Object.defineProperties(dO.prototype,{[Symbol.toStringTag]:{value:"CacheStorage",configurable:!0},match:Lw,has:Lw,open:Lw,delete:Lw,keys:Lw});Rwe.exports={CacheStorage:dO}});var Nwe=V((wMr,Pwe)=>{"use strict";d();Pwe.exports={maxAttributeValueSize:1024,maxNameValuePairSize:4096}});var Rne=V((SMr,Owe)=>{"use strict";d();function W5t(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r>=0&&r<=8||r>=10&&r<=31||r===127)return!0}return!1}o(W5t,"isCTLExcludingHtab");function Fwe(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r<33||r>126||r===34||r===40||r===41||r===60||r===62||r===64||r===44||r===59||r===58||r===92||r===47||r===91||r===93||r===63||r===61||r===123||r===125)throw new Error("Invalid cookie name")}}o(Fwe,"validateCookieName");function Lwe(e){let t=e.length,r=0;if(e[0]==='"'){if(t===1||e[t-1]!=='"')throw new Error("Invalid cookie value");--t,++r}for(;r<t;){let n=e.charCodeAt(r++);if(n<33||n>126||n===34||n===44||n===59||n===92)throw new Error("Invalid cookie value")}}o(Lwe,"validateCookieValue");function Qwe(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r<32||r===127||r===59)throw new Error("Invalid cookie path")}}o(Qwe,"validateCookiePath");function H5t(e){if(e.startsWith("-")||e.endsWith(".")||e.endsWith("-"))throw new Error("Invalid cookie domain")}o(H5t,"validateCookieDomain");var V5t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],j5t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],mO=Array(61).fill(0).map((e,t)=>t.toString().padStart(2,"0"));function Mwe(e){return typeof e=="number"&&(e=new Date(e)),`${V5t[e.getUTCDay()]}, ${mO[e.getUTCDate()]} ${j5t[e.getUTCMonth()]} ${e.getUTCFullYear()} ${mO[e.getUTCHours()]}:${mO[e.getUTCMinutes()]}:${mO[e.getUTCSeconds()]} GMT`}o(Mwe,"toIMFDate");function $5t(e){if(e<0)throw new Error("Invalid cookie max-age")}o($5t,"validateCookieMaxAge");function z5t(e){if(e.name.length===0)return null;Fwe(e.name),Lwe(e.value);let t=[`${e.name}=${e.value}`];e.name.startsWith("__Secure-")&&(e.secure=!0),e.name.startsWith("__Host-")&&(e.secure=!0,e.domain=null,e.path="/"),e.secure&&t.push("Secure"),e.httpOnly&&t.push("HttpOnly"),typeof e.maxAge=="number"&&($5t(e.maxAge),t.push(`Max-Age=${e.maxAge}`)),e.domain&&(H5t(e.domain),t.push(`Domain=${e.domain}`)),e.path&&(Qwe(e.path),t.push(`Path=${e.path}`)),e.expires&&e.expires.toString()!=="Invalid Date"&&t.push(`Expires=${Mwe(e.expires)}`),e.sameSite&&t.push(`SameSite=${e.sameSite}`);for(let r of e.unparsed){if(!r.includes("="))throw new Error("Invalid unparsed");let[n,...i]=r.split("=");t.push(`${n.trim()}=${i.join("=")}`)}return t.join("; ")}o(z5t,"stringify");Owe.exports={isCTLExcludingHtab:W5t,validateCookieName:Fwe,validateCookiePath:Qwe,validateCookieValue:Lwe,toIMFDate:Mwe,stringify:z5t}});var qwe=V((RMr,Uwe)=>{"use strict";d();var{maxNameValuePairSize:Y5t,maxAttributeValueSize:K5t}=Nwe(),{isCTLExcludingHtab:J5t}=Rne(),{collectASequenceOfCodePointsFast:hO}=Nc(),X5t=require("node:assert");function Z5t(e){if(J5t(e))return null;let t="",r="",n="",i="";if(e.includes(";")){let s={position:0};t=hO(";",e,s),r=e.slice(s.position)}else t=e;if(!t.includes("="))i=t;else{let s={position:0};n=hO("=",t,s),i=t.slice(s.position+1)}return n=n.trim(),i=i.trim(),n.length+i.length>Y5t?null:{name:n,value:i,...jI(r)}}o(Z5t,"parseSetCookie");function jI(e,t={}){if(e.length===0)return t;X5t(e[0]===";"),e=e.slice(1);let r="";e.includes(";")?(r=hO(";",e,{position:0}),e=e.slice(r.length)):(r=e,e="");let n="",i="";if(r.includes("=")){let a={position:0};n=hO("=",r,a),i=r.slice(a.position+1)}else n=r;if(n=n.trim(),i=i.trim(),i.length>K5t)return jI(e,t);let s=n.toLowerCase();if(s==="expires"){let a=new Date(i);t.expires=a}else if(s==="max-age"){let a=i.charCodeAt(0);if((a<48||a>57)&&i[0]!=="-"||!/^\d+$/.test(i))return jI(e,t);let l=Number(i);t.maxAge=l}else if(s==="domain"){let a=i;a[0]==="."&&(a=a.slice(1)),a=a.toLowerCase(),t.domain=a}else if(s==="path"){let a="";i.length===0||i[0]!=="/"?a="/":a=i,t.path=a}else if(s==="secure")t.secure=!0;else if(s==="httponly")t.httpOnly=!0;else if(s==="samesite"){let a="Default",l=i.toLowerCase();l.includes("none")&&(a="None"),l.includes("strict")&&(a="Strict"),l.includes("lax")&&(a="Lax"),t.sameSite=a}else t.unparsed??=[],t.unparsed.push(`${n}=${i}`);return jI(e,t)}o(jI,"parseUnparsedAttributes");Uwe.exports={parseSetCookie:Z5t,parseUnparsedAttributes:jI}});var Hwe=V((NMr,Wwe)=>{"use strict";d();var{parseSetCookie:eyt}=qwe(),{stringify:tyt}=Rne(),{webidl:_i}=Hl(),{Headers:pO}=w4();function ryt(e){_i.argumentLengthCheck(arguments,1,"getCookies"),_i.brandCheck(e,pO,{strict:!1});let t=e.get("cookie"),r={};if(!t)return r;for(let n of t.split(";")){let[i,...s]=n.split("=");r[i.trim()]=s.join("=")}return r}o(ryt,"getCookies");function nyt(e,t,r){_i.brandCheck(e,pO,{strict:!1});let n="deleteCookie";_i.argumentLengthCheck(arguments,2,n),t=_i.converters.DOMString(t,n,"name"),r=_i.converters.DeleteCookieAttributes(r),Gwe(e,{name:t,value:"",expires:new Date(0),...r})}o(nyt,"deleteCookie");function iyt(e){_i.argumentLengthCheck(arguments,1,"getSetCookies"),_i.brandCheck(e,pO,{strict:!1});let t=e.getSetCookie();return t?t.map(r=>eyt(r)):[]}o(iyt,"getSetCookies");function Gwe(e,t){_i.argumentLengthCheck(arguments,2,"setCookie"),_i.brandCheck(e,pO,{strict:!1}),t=_i.converters.Cookie(t);let r=tyt(t);r&&e.append("Set-Cookie",r)}o(Gwe,"setCookie");_i.converters.DeleteCookieAttributes=_i.dictionaryConverter([{converter:_i.nullableConverter(_i.converters.DOMString),key:"path",defaultValue:o(()=>null,"defaultValue")},{converter:_i.nullableConverter(_i.converters.DOMString),key:"domain",defaultValue:o(()=>null,"defaultValue")}]);_i.converters.Cookie=_i.dictionaryConverter([{converter:_i.converters.DOMString,key:"name"},{converter:_i.converters.DOMString,key:"value"},{converter:_i.nullableConverter(e=>typeof e=="number"?_i.converters["unsigned long long"](e):new Date(e)),key:"expires",defaultValue:o(()=>null,"defaultValue")},{converter:_i.nullableConverter(_i.converters["long long"]),key:"maxAge",defaultValue:o(()=>null,"defaultValue")},{converter:_i.nullableConverter(_i.converters.DOMString),key:"domain",defaultValue:o(()=>null,"defaultValue")},{converter:_i.nullableConverter(_i.converters.DOMString),key:"path",defaultValue:o(()=>null,"defaultValue")},{converter:_i.nullableConverter(_i.converters.boolean),key:"secure",defaultValue:o(()=>null,"defaultValue")},{converter:_i.nullableConverter(_i.converters.boolean),key:"httpOnly",defaultValue:o(()=>null,"defaultValue")},{converter:_i.converters.USVString,key:"sameSite",allowedValues:["Strict","Lax","None"]},{converter:_i.sequenceConverter(_i.converters.DOMString),key:"unparsed",defaultValue:o(()=>new Array(0),"defaultValue")}]);Wwe.exports={getCookies:ryt,deleteCookie:nyt,getSetCookies:iyt,setCookie:Gwe}});var zI=V((QMr,jwe)=>{"use strict";d();var{webidl:zr}=Hl(),{kEnumerableProperty:Mc}=ci(),{kConstruct:Vwe}=vs(),{MessagePort:oyt}=require("node:worker_threads"),$I=class e extends Event{static{o(this,"MessageEvent")}#e;constructor(t,r={}){if(t===Vwe){super(arguments[1],arguments[2]),zr.util.markAsUncloneable(this);return}let n="MessageEvent constructor";zr.argumentLengthCheck(arguments,1,n),t=zr.converters.DOMString(t,n,"type"),r=zr.converters.MessageEventInit(r,n,"eventInitDict"),super(t,r),this.#e=r,zr.util.markAsUncloneable(this)}get data(){return zr.brandCheck(this,e),this.#e.data}get origin(){return zr.brandCheck(this,e),this.#e.origin}get lastEventId(){return zr.brandCheck(this,e),this.#e.lastEventId}get source(){return zr.brandCheck(this,e),this.#e.source}get ports(){return zr.brandCheck(this,e),Object.isFrozen(this.#e.ports)||Object.freeze(this.#e.ports),this.#e.ports}initMessageEvent(t,r=!1,n=!1,i=null,s="",a="",l=null,c=[]){return zr.brandCheck(this,e),zr.argumentLengthCheck(arguments,1,"MessageEvent.initMessageEvent"),new e(t,{bubbles:r,cancelable:n,data:i,origin:s,lastEventId:a,source:l,ports:c})}static createFastMessageEvent(t,r){let n=new e(Vwe,t,r);return n.#e=r,n.#e.data??=null,n.#e.origin??="",n.#e.lastEventId??="",n.#e.source??=null,n.#e.ports??=[],n}},{createFastMessageEvent:syt}=$I;delete $I.createFastMessageEvent;var gO=class e extends Event{static{o(this,"CloseEvent")}#e;constructor(t,r={}){let n="CloseEvent constructor";zr.argumentLengthCheck(arguments,1,n),t=zr.converters.DOMString(t,n,"type"),r=zr.converters.CloseEventInit(r),super(t,r),this.#e=r,zr.util.markAsUncloneable(this)}get wasClean(){return zr.brandCheck(this,e),this.#e.wasClean}get code(){return zr.brandCheck(this,e),this.#e.code}get reason(){return zr.brandCheck(this,e),this.#e.reason}},AO=class e extends Event{static{o(this,"ErrorEvent")}#e;constructor(t,r){let n="ErrorEvent constructor";zr.argumentLengthCheck(arguments,1,n),super(t,r),zr.util.markAsUncloneable(this),t=zr.converters.DOMString(t,n,"type"),r=zr.converters.ErrorEventInit(r??{}),this.#e=r}get message(){return zr.brandCheck(this,e),this.#e.message}get filename(){return zr.brandCheck(this,e),this.#e.filename}get lineno(){return zr.brandCheck(this,e),this.#e.lineno}get colno(){return zr.brandCheck(this,e),this.#e.colno}get error(){return zr.brandCheck(this,e),this.#e.error}};Object.defineProperties($I.prototype,{[Symbol.toStringTag]:{value:"MessageEvent",configurable:!0},data:Mc,origin:Mc,lastEventId:Mc,source:Mc,ports:Mc,initMessageEvent:Mc});Object.defineProperties(gO.prototype,{[Symbol.toStringTag]:{value:"CloseEvent",configurable:!0},reason:Mc,code:Mc,wasClean:Mc});Object.defineProperties(AO.prototype,{[Symbol.toStringTag]:{value:"ErrorEvent",configurable:!0},message:Mc,filename:Mc,lineno:Mc,colno:Mc,error:Mc});zr.converters.MessagePort=zr.interfaceConverter(oyt);zr.converters["sequence<MessagePort>"]=zr.sequenceConverter(zr.converters.MessagePort);var Dne=[{key:"bubbles",converter:zr.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"cancelable",converter:zr.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"composed",converter:zr.converters.boolean,defaultValue:o(()=>!1,"defaultValue")}];zr.converters.MessageEventInit=zr.dictionaryConverter([...Dne,{key:"data",converter:zr.converters.any,defaultValue:o(()=>null,"defaultValue")},{key:"origin",converter:zr.converters.USVString,defaultValue:o(()=>"","defaultValue")},{key:"lastEventId",converter:zr.converters.DOMString,defaultValue:o(()=>"","defaultValue")},{key:"source",converter:zr.nullableConverter(zr.converters.MessagePort),defaultValue:o(()=>null,"defaultValue")},{key:"ports",converter:zr.converters["sequence<MessagePort>"],defaultValue:o(()=>new Array(0),"defaultValue")}]);zr.converters.CloseEventInit=zr.dictionaryConverter([...Dne,{key:"wasClean",converter:zr.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"code",converter:zr.converters["unsigned short"],defaultValue:o(()=>0,"defaultValue")},{key:"reason",converter:zr.converters.USVString,defaultValue:o(()=>"","defaultValue")}]);zr.converters.ErrorEventInit=zr.dictionaryConverter([...Dne,{key:"message",converter:zr.converters.DOMString,defaultValue:o(()=>"","defaultValue")},{key:"filename",converter:zr.converters.USVString,defaultValue:o(()=>"","defaultValue")},{key:"lineno",converter:zr.converters["unsigned long"],defaultValue:o(()=>0,"defaultValue")},{key:"colno",converter:zr.converters["unsigned long"],defaultValue:o(()=>0,"defaultValue")},{key:"error",converter:zr.converters.any}]);jwe.exports={MessageEvent:$I,CloseEvent:gO,ErrorEvent:AO,createFastMessageEvent:syt}});var D4=V((UMr,$we)=>{"use strict";d();var ayt="258EAFA5-E914-47DA-95CA-C5AB0DC85B11",lyt={enumerable:!0,writable:!1,configurable:!1},cyt={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},uyt={NOT_SENT:0,PROCESSING:1,SENT:2},fyt={CONTINUATION:0,TEXT:1,BINARY:2,CLOSE:8,PING:9,PONG:10},dyt=2**16-1,myt={INFO:0,PAYLOADLENGTH_16:2,PAYLOADLENGTH_64:3,READ_DATA:4},hyt=Buffer.allocUnsafe(0),pyt={string:1,typedArray:2,arrayBuffer:3,blob:4};$we.exports={uid:ayt,sentCloseFrameState:uyt,staticPropertyDescriptors:lyt,states:cyt,opcodes:fyt,maxUnsigned16Bit:dyt,parserStates:myt,emptyBuffer:hyt,sendHints:pyt}});var Qw=V((GMr,zwe)=>{"use strict";d();zwe.exports={kWebSocketURL:Symbol("url"),kReadyState:Symbol("ready state"),kController:Symbol("controller"),kResponse:Symbol("response"),kBinaryType:Symbol("binary type"),kSentClose:Symbol("sent close"),kReceivedClose:Symbol("received close"),kByteParser:Symbol("byte parser")}});var Uw=V((HMr,n_e)=>{"use strict";d();var{kReadyState:Mw,kController:gyt,kResponse:Ayt,kBinaryType:yyt,kWebSocketURL:Cyt}=Qw(),{states:Ow,opcodes:J5}=D4(),{ErrorEvent:Eyt,createFastMessageEvent:xyt}=zI(),{isUtf8:vyt}=require("node:buffer"),{collectASequenceOfCodePointsFast:byt,removeHTTPWhitespace:Ywe}=Nc();function Iyt(e){return e[Mw]===Ow.CONNECTING}o(Iyt,"isConnecting");function Tyt(e){return e[Mw]===Ow.OPEN}o(Tyt,"isEstablished");function wyt(e){return e[Mw]===Ow.CLOSING}o(wyt,"isClosing");function _yt(e){return e[Mw]===Ow.CLOSED}o(_yt,"isClosed");function Pne(e,t,r=(i,s)=>new Event(i,s),n={}){let i=r(e,n);t.dispatchEvent(i)}o(Pne,"fireEvent");function Syt(e,t,r){if(e[Mw]!==Ow.OPEN)return;let n;if(t===J5.TEXT)try{n=r_e(r)}catch{Jwe(e,"Received invalid UTF-8 in text frame.");return}else t===J5.BINARY&&(e[yyt]==="blob"?n=new Blob([r]):n=Byt(r));Pne("message",e,xyt,{origin:e[Cyt].origin,data:n})}o(Syt,"websocketMessageReceived");function Byt(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}o(Byt,"toArrayBuffer");function kyt(e){if(e.length===0)return!1;for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r<33||r>126||r===34||r===40||r===41||r===44||r===47||r===58||r===59||r===60||r===61||r===62||r===63||r===64||r===91||r===92||r===93||r===123||r===125)return!1}return!0}o(kyt,"isValidSubprotocol");function Ryt(e){return e>=1e3&&e<1015?e!==1004&&e!==1005&&e!==1006:e>=3e3&&e<=4999}o(Ryt,"isValidStatusCode");function Jwe(e,t){let{[gyt]:r,[Ayt]:n}=e;r.abort(),n?.socket&&!n.socket.destroyed&&n.socket.destroy(),t&&Pne("error",e,(i,s)=>new Eyt(i,s),{error:new Error(t),message:t})}o(Jwe,"failWebsocketConnection");function Xwe(e){return e===J5.CLOSE||e===J5.PING||e===J5.PONG}o(Xwe,"isControlFrame");function Zwe(e){return e===J5.CONTINUATION}o(Zwe,"isContinuationFrame");function e_e(e){return e===J5.TEXT||e===J5.BINARY}o(e_e,"isTextBinaryFrame");function Dyt(e){return e_e(e)||Zwe(e)||Xwe(e)}o(Dyt,"isValidOpcode");function Pyt(e){let t={position:0},r=new Map;for(;t.position<e.length;){let n=byt(";",e,t),[i,s=""]=n.split("=");r.set(Ywe(i,!0,!1),Ywe(s,!1,!0)),t.position++}return r}o(Pyt,"parseExtensions");function Nyt(e){for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);if(r<48||r>57)return!1}return!0}o(Nyt,"isValidClientWindowBits");var t_e=typeof process.versions.icu=="string",Kwe=t_e?new TextDecoder("utf-8",{fatal:!0}):void 0,r_e=t_e?Kwe.decode.bind(Kwe):function(e){if(vyt(e))return e.toString("utf-8");throw new TypeError("Invalid utf-8 received.")};n_e.exports={isConnecting:Iyt,isEstablished:Tyt,isClosing:wyt,isClosed:_yt,fireEvent:Pne,isValidSubprotocol:kyt,isValidStatusCode:Ryt,failWebsocketConnection:Jwe,websocketMessageReceived:Syt,utf8Decode:r_e,isControlFrame:Xwe,isContinuationFrame:Zwe,isTextBinaryFrame:e_e,isValidOpcode:Dyt,parseExtensions:Pyt,isValidClientWindowBits:Nyt}});var CO=V(($Mr,i_e)=>{"use strict";d();var{maxUnsigned16Bit:Fyt}=D4(),yO=16386,Nne,qw=null,YI=yO;try{Nne=require("node:crypto")}catch{Nne={randomFillSync:o(function(t,r,n){for(let i=0;i<t.length;++i)t[i]=Math.random()*255|0;return t},"randomFillSync")}}function Lyt(){return YI===yO&&(YI=0,Nne.randomFillSync(qw??=Buffer.allocUnsafe(yO),0,yO)),[qw[YI++],qw[YI++],qw[YI++],qw[YI++]]}o(Lyt,"generateMask");var Fne=class{static{o(this,"WebsocketFrameSend")}constructor(t){this.frameData=t}createFrame(t){let r=this.frameData,n=Lyt(),i=r?.byteLength??0,s=i,a=6;i>Fyt?(a+=8,s=127):i>125&&(a+=2,s=126);let l=Buffer.allocUnsafe(i+a);l[0]=l[1]=0,l[0]|=128,l[0]=(l[0]&240)+t;l[a-4]=n[0],l[a-3]=n[1],l[a-2]=n[2],l[a-1]=n[3],l[1]=s,s===126?l.writeUInt16BE(i,2):s===127&&(l[2]=l[3]=0,l.writeUIntBE(i,4,6)),l[1]|=128;for(let c=0;c<i;++c)l[a+c]=r[c]^n[c&3];return l}};i_e.exports={WebsocketFrameSend:Fne}});var Qne=V((KMr,f_e)=>{"use strict";d();var{uid:Qyt,states:Gw,sentCloseFrameState:EO,emptyBuffer:Myt,opcodes:Oyt}=D4(),{kReadyState:Ww,kSentClose:xO,kByteParser:s_e,kReceivedClose:o_e,kResponse:a_e}=Qw(),{fireEvent:Uyt,failWebsocketConnection:X5,isClosing:qyt,isClosed:Gyt,isEstablished:Wyt,parseExtensions:Hyt}=Uw(),{channels:KI}=cI(),{CloseEvent:Vyt}=zI(),{makeRequest:jyt}=GI(),{fetching:$yt}=Pw(),{Headers:zyt,getHeadersList:Yyt}=w4(),{getDecodeSplit:Kyt}=Mu(),{WebsocketFrameSend:Jyt}=CO(),Lne;try{Lne=require("node:crypto")}catch{}function Xyt(e,t,r,n,i,s){let a=e;a.protocol=e.protocol==="ws:"?"http:":"https:";let l=jyt({urlList:[a],client:r,serviceWorkers:"none",referrer:"no-referrer",mode:"websocket",credentials:"include",cache:"no-store",redirect:"error"});if(s.headers){let m=Yyt(new zyt(s.headers));l.headersList=m}let c=Lne.randomBytes(16).toString("base64");l.headersList.append("sec-websocket-key",c),l.headersList.append("sec-websocket-version","13");for(let m of t)l.headersList.append("sec-websocket-protocol",m);return l.headersList.append("sec-websocket-extensions","permessage-deflate; client_max_window_bits"),$yt({request:l,useParallelQueue:!0,dispatcher:s.dispatcher,processResponse(m){if(m.type==="error"||m.status!==101){X5(n,"Received network error or non-101 status code.");return}if(t.length!==0&&!m.headersList.get("Sec-WebSocket-Protocol")){X5(n,"Server did not respond with sent protocols.");return}if(m.headersList.get("Upgrade")?.toLowerCase()!=="websocket"){X5(n,'Server did not set Upgrade header to "websocket".');return}if(m.headersList.get("Connection")?.toLowerCase()!=="upgrade"){X5(n,'Server did not set Connection header to "upgrade".');return}let h=m.headersList.get("Sec-WebSocket-Accept"),p=Lne.createHash("sha1").update(c+Qyt).digest("base64");if(h!==p){X5(n,"Incorrect hash received in Sec-WebSocket-Accept header.");return}let A=m.headersList.get("Sec-WebSocket-Extensions"),E;if(A!==null&&(E=Hyt(A),!E.has("permessage-deflate"))){X5(n,"Sec-WebSocket-Extensions header does not match.");return}let x=m.headersList.get("Sec-WebSocket-Protocol");if(x!==null&&!Kyt("sec-websocket-protocol",l.headersList).includes(x)){X5(n,"Protocol was not set in the opening handshake.");return}m.socket.on("data",l_e),m.socket.on("close",c_e),m.socket.on("error",u_e),KI.open.hasSubscribers&&KI.open.publish({address:m.socket.address(),protocol:x,extensions:A}),i(m,E)}})}o(Xyt,"establishWebSocketConnection");function Zyt(e,t,r,n){if(!(qyt(e)||Gyt(e)))if(!Wyt(e))X5(e,"Connection was closed before it was established."),e[Ww]=Gw.CLOSING;else if(e[xO]===EO.NOT_SENT){e[xO]=EO.PROCESSING;let i=new Jyt;t!==void 0&&r===void 0?(i.frameData=Buffer.allocUnsafe(2),i.frameData.writeUInt16BE(t,0)):t!==void 0&&r!==void 0?(i.frameData=Buffer.allocUnsafe(2+n),i.frameData.writeUInt16BE(t,0),i.frameData.write(r,2,"utf-8")):i.frameData=Myt,e[a_e].socket.write(i.createFrame(Oyt.CLOSE)),e[xO]=EO.SENT,e[Ww]=Gw.CLOSING}else e[Ww]=Gw.CLOSING}o(Zyt,"closeWebSocketConnection");function l_e(e){this.ws[s_e].write(e)||this.pause()}o(l_e,"onSocketData");function c_e(){let{ws:e}=this,{[a_e]:t}=e;t.socket.off("data",l_e),t.socket.off("close",c_e),t.socket.off("error",u_e);let r=e[xO]===EO.SENT&&e[o_e],n=1005,i="",s=e[s_e].closingInfo;s&&!s.error?(n=s.code??1005,i=s.reason):e[o_e]||(n=1006),e[Ww]=Gw.CLOSED,Uyt("close",e,(a,l)=>new Vyt(a,l),{wasClean:r,code:n,reason:i}),KI.close.hasSubscribers&&KI.close.publish({websocket:e,code:n,reason:i})}o(c_e,"onSocketClose");function u_e(e){let{ws:t}=this;t[Ww]=Gw.CLOSING,KI.socketError.hasSubscribers&&KI.socketError.publish(e),this.destroy()}o(u_e,"onSocketError");f_e.exports={establishWebSocketConnection:Xyt,closeWebSocketConnection:Zyt}});var m_e=V((ZMr,d_e)=>{"use strict";d();var{createInflateRaw:e3t,Z_DEFAULT_WINDOWBITS:t3t}=require("node:zlib"),{isValidClientWindowBits:r3t}=Uw(),n3t=Buffer.from([0,0,255,255]),vO=Symbol("kBuffer"),bO=Symbol("kLength"),Mne=class{static{o(this,"PerMessageDeflate")}#e;#t={};constructor(t){this.#t.serverNoContextTakeover=t.has("server_no_context_takeover"),this.#t.serverMaxWindowBits=t.get("server_max_window_bits")}decompress(t,r,n){if(!this.#e){let i=t3t;if(this.#t.serverMaxWindowBits){if(!r3t(this.#t.serverMaxWindowBits)){n(new Error("Invalid server_max_window_bits"));return}i=Number.parseInt(this.#t.serverMaxWindowBits)}this.#e=e3t({windowBits:i}),this.#e[vO]=[],this.#e[bO]=0,this.#e.on("data",s=>{this.#e[vO].push(s),this.#e[bO]+=s.length}),this.#e.on("error",s=>{this.#e=null,n(s)})}this.#e.write(t),r&&this.#e.write(n3t),this.#e.flush(()=>{let i=Buffer.concat(this.#e[vO],this.#e[bO]);this.#e[vO].length=0,this.#e[bO]=0,n(null,i)})}};d_e.exports={PerMessageDeflate:Mne}});var I_e=V((rOr,b_e)=>{"use strict";d();var{Writable:i3t}=require("node:stream"),o3t=require("node:assert"),{parserStates:Oc,opcodes:JI,states:s3t,emptyBuffer:h_e,sentCloseFrameState:p_e}=D4(),{kReadyState:a3t,kSentClose:g_e,kResponse:A_e,kReceivedClose:y_e}=Qw(),{channels:IO}=cI(),{isValidStatusCode:l3t,isValidOpcode:c3t,failWebsocketConnection:md,websocketMessageReceived:C_e,utf8Decode:u3t,isControlFrame:E_e,isTextBinaryFrame:One,isContinuationFrame:f3t}=Uw(),{WebsocketFrameSend:x_e}=CO(),{closeWebSocketConnection:v_e}=Qne(),{PerMessageDeflate:d3t}=m_e(),Une=class extends i3t{static{o(this,"ByteParser")}#e=[];#t=0;#i=!1;#n=Oc.INFO;#r={};#o=[];#s;constructor(t,r){super(),this.ws=t,this.#s=r??new Map,this.#s.has("permessage-deflate")&&this.#s.set("permessage-deflate",new d3t(r))}_write(t,r,n){this.#e.push(t),this.#t+=t.length,this.#i=!0,this.run(n)}run(t){for(;this.#i;)if(this.#n===Oc.INFO){if(this.#t<2)return t();let r=this.consume(2),n=(r[0]&128)!==0,i=r[0]&15,s=(r[1]&128)===128,a=!n&&i!==JI.CONTINUATION,l=r[1]&127,c=r[0]&64,u=r[0]&32,f=r[0]&16;if(!c3t(i))return md(this.ws,"Invalid opcode received"),t();if(s)return md(this.ws,"Frame cannot be masked"),t();if(c!==0&&!this.#s.has("permessage-deflate")){md(this.ws,"Expected RSV1 to be clear.");return}if(u!==0||f!==0){md(this.ws,"RSV1, RSV2, RSV3 must be clear");return}if(a&&!One(i)){md(this.ws,"Invalid frame type was fragmented.");return}if(One(i)&&this.#o.length>0){md(this.ws,"Expected continuation frame");return}if(this.#r.fragmented&&a){md(this.ws,"Fragmented frame exceeded 125 bytes.");return}if((l>125||a)&&E_e(i)){md(this.ws,"Control frame either too large or fragmented");return}if(f3t(i)&&this.#o.length===0&&!this.#r.compressed){md(this.ws,"Unexpected continuation frame");return}l<=125?(this.#r.payloadLength=l,this.#n=Oc.READ_DATA):l===126?this.#n=Oc.PAYLOADLENGTH_16:l===127&&(this.#n=Oc.PAYLOADLENGTH_64),One(i)&&(this.#r.binaryType=i,this.#r.compressed=c!==0),this.#r.opcode=i,this.#r.masked=s,this.#r.fin=n,this.#r.fragmented=a}else if(this.#n===Oc.PAYLOADLENGTH_16){if(this.#t<2)return t();let r=this.consume(2);this.#r.payloadLength=r.readUInt16BE(0),this.#n=Oc.READ_DATA}else if(this.#n===Oc.PAYLOADLENGTH_64){if(this.#t<8)return t();let r=this.consume(8),n=r.readUInt32BE(0);if(n>2**31-1){md(this.ws,"Received payload length > 2^31 bytes.");return}let i=r.readUInt32BE(4);this.#r.payloadLength=(n<<8)+i,this.#n=Oc.READ_DATA}else if(this.#n===Oc.READ_DATA){if(this.#t<this.#r.payloadLength)return t();let r=this.consume(this.#r.payloadLength);if(E_e(this.#r.opcode))this.#i=this.parseControlFrame(r),this.#n=Oc.INFO;else if(this.#r.compressed){this.#s.get("permessage-deflate").decompress(r,this.#r.fin,(n,i)=>{if(n){v_e(this.ws,1007,n.message,n.message.length);return}if(this.#o.push(i),!this.#r.fin){this.#n=Oc.INFO,this.#i=!0,this.run(t);return}C_e(this.ws,this.#r.binaryType,Buffer.concat(this.#o)),this.#i=!0,this.#n=Oc.INFO,this.#o.length=0,this.run(t)}),this.#i=!1;break}else{if(this.#o.push(r),!this.#r.fragmented&&this.#r.fin){let n=Buffer.concat(this.#o);C_e(this.ws,this.#r.binaryType,n),this.#o.length=0}this.#n=Oc.INFO}}}consume(t){if(t>this.#t)throw new Error("Called consume() before buffers satiated.");if(t===0)return h_e;if(this.#e[0].length===t)return this.#t-=this.#e[0].length,this.#e.shift();let r=Buffer.allocUnsafe(t),n=0;for(;n!==t;){let i=this.#e[0],{length:s}=i;if(s+n===t){r.set(this.#e.shift(),n);break}else if(s+n>t){r.set(i.subarray(0,t-n),n),this.#e[0]=i.subarray(t-n);break}else r.set(this.#e.shift(),n),n+=i.length}return this.#t-=t,r}parseCloseBody(t){o3t(t.length!==1);let r;if(t.length>=2&&(r=t.readUInt16BE(0)),r!==void 0&&!l3t(r))return{code:1002,reason:"Invalid status code",error:!0};let n=t.subarray(2);n[0]===239&&n[1]===187&&n[2]===191&&(n=n.subarray(3));try{n=u3t(n)}catch{return{code:1007,reason:"Invalid UTF-8",error:!0}}return{code:r,reason:n,error:!1}}parseControlFrame(t){let{opcode:r,payloadLength:n}=this.#r;if(r===JI.CLOSE){if(n===1)return md(this.ws,"Received close frame with a 1-byte body."),!1;if(this.#r.closeInfo=this.parseCloseBody(t),this.#r.closeInfo.error){let{code:i,reason:s}=this.#r.closeInfo;return v_e(this.ws,i,s,s.length),md(this.ws,s),!1}if(this.ws[g_e]!==p_e.SENT){let i=h_e;this.#r.closeInfo.code&&(i=Buffer.allocUnsafe(2),i.writeUInt16BE(this.#r.closeInfo.code,0));let s=new x_e(i);this.ws[A_e].socket.write(s.createFrame(JI.CLOSE),a=>{a||(this.ws[g_e]=p_e.SENT)})}return this.ws[a3t]=s3t.CLOSING,this.ws[y_e]=!0,!1}else if(r===JI.PING){if(!this.ws[y_e]){let i=new x_e(t);this.ws[A_e].socket.write(i.createFrame(JI.PONG)),IO.ping.hasSubscribers&&IO.ping.publish({payload:t})}}else r===JI.PONG&&IO.pong.hasSubscribers&&IO.pong.publish({payload:t});return!0}get closingInfo(){return this.#r.closeInfo}};b_e.exports={ByteParser:Une}});var B_e=V((oOr,S_e)=>{"use strict";d();var{WebsocketFrameSend:m3t}=CO(),{opcodes:T_e,sendHints:XI}=D4(),h3t=Xte(),w_e=Buffer[Symbol.species],qne=class{static{o(this,"SendQueue")}#e=new h3t;#t=!1;#i;constructor(t){this.#i=t}add(t,r,n){if(n!==XI.blob){let s=__e(t,n);if(!this.#t)this.#i.write(s,r);else{let a={promise:null,callback:r,frame:s};this.#e.push(a)}return}let i={promise:t.arrayBuffer().then(s=>{i.promise=null,i.frame=__e(s,n)}),callback:r,frame:null};this.#e.push(i),this.#t||this.#n()}async#n(){this.#t=!0;let t=this.#e;for(;!t.isEmpty();){let r=t.shift();r.promise!==null&&await r.promise,this.#i.write(r.frame,r.callback),r.callback=r.frame=null}this.#t=!1}};function __e(e,t){return new m3t(p3t(e,t)).createFrame(t===XI.string?T_e.TEXT:T_e.BINARY)}o(__e,"createFrame");function p3t(e,t){switch(t){case XI.string:return Buffer.from(e);case XI.arrayBuffer:case XI.blob:return new w_e(e);case XI.typedArray:return new w_e(e.buffer,e.byteOffset,e.byteLength)}}o(p3t,"toBuffer");S_e.exports={SendQueue:qne}});var M_e=V((lOr,Q_e)=>{"use strict";d();var{webidl:Sn}=Hl(),{URLSerializer:g3t}=Nc(),{environmentSettingsObject:k_e}=Mu(),{staticPropertyDescriptors:Z5,states:Hw,sentCloseFrameState:A3t,sendHints:TO}=D4(),{kWebSocketURL:R_e,kReadyState:Gne,kController:y3t,kBinaryType:wO,kResponse:D_e,kSentClose:C3t,kByteParser:E3t}=Qw(),{isConnecting:x3t,isEstablished:v3t,isClosing:b3t,isValidSubprotocol:I3t,fireEvent:P_e}=Uw(),{establishWebSocketConnection:T3t,closeWebSocketConnection:N_e}=Qne(),{ByteParser:w3t}=I_e(),{kEnumerableProperty:hd,isBlobLike:F_e}=ci(),{getGlobalDispatcher:_3t}=UM(),{types:L_e}=require("node:util"),{ErrorEvent:S3t,CloseEvent:B3t}=zI(),{SendQueue:k3t}=B_e(),Vu=class e extends EventTarget{static{o(this,"WebSocket")}#e={open:null,error:null,close:null,message:null};#t=0;#i="";#n="";#r;constructor(t,r=[]){super(),Sn.util.markAsUncloneable(this);let n="WebSocket constructor";Sn.argumentLengthCheck(arguments,1,n);let i=Sn.converters["DOMString or sequence<DOMString> or WebSocketInit"](r,n,"options");t=Sn.converters.USVString(t,n,"url"),r=i.protocols;let s=k_e.settingsObject.baseUrl,a;try{a=new URL(t,s)}catch(c){throw new DOMException(c,"SyntaxError")}if(a.protocol==="http:"?a.protocol="ws:":a.protocol==="https:"&&(a.protocol="wss:"),a.protocol!=="ws:"&&a.protocol!=="wss:")throw new DOMException(`Expected a ws: or wss: protocol, got ${a.protocol}`,"SyntaxError");if(a.hash||a.href.endsWith("#"))throw new DOMException("Got fragment","SyntaxError");if(typeof r=="string"&&(r=[r]),r.length!==new Set(r.map(c=>c.toLowerCase())).size)throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");if(r.length>0&&!r.every(c=>I3t(c)))throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");this[R_e]=new URL(a.href);let l=k_e.settingsObject;this[y3t]=T3t(a,r,l,this,(c,u)=>this.#o(c,u),i),this[Gne]=e.CONNECTING,this[C3t]=A3t.NOT_SENT,this[wO]="blob"}close(t=void 0,r=void 0){Sn.brandCheck(this,e);let n="WebSocket.close";if(t!==void 0&&(t=Sn.converters["unsigned short"](t,n,"code",{clamp:!0})),r!==void 0&&(r=Sn.converters.USVString(r,n,"reason")),t!==void 0&&t!==1e3&&(t<3e3||t>4999))throw new DOMException("invalid code","InvalidAccessError");let i=0;if(r!==void 0&&(i=Buffer.byteLength(r),i>123))throw new DOMException(`Reason must be less than 123 bytes; received ${i}`,"SyntaxError");N_e(this,t,r,i)}send(t){Sn.brandCheck(this,e);let r="WebSocket.send";if(Sn.argumentLengthCheck(arguments,1,r),t=Sn.converters.WebSocketSendData(t,r,"data"),x3t(this))throw new DOMException("Sent before connected.","InvalidStateError");if(!(!v3t(this)||b3t(this)))if(typeof t=="string"){let n=Buffer.byteLength(t);this.#t+=n,this.#r.add(t,()=>{this.#t-=n},TO.string)}else L_e.isArrayBuffer(t)?(this.#t+=t.byteLength,this.#r.add(t,()=>{this.#t-=t.byteLength},TO.arrayBuffer)):ArrayBuffer.isView(t)?(this.#t+=t.byteLength,this.#r.add(t,()=>{this.#t-=t.byteLength},TO.typedArray)):F_e(t)&&(this.#t+=t.size,this.#r.add(t,()=>{this.#t-=t.size},TO.blob))}get readyState(){return Sn.brandCheck(this,e),this[Gne]}get bufferedAmount(){return Sn.brandCheck(this,e),this.#t}get url(){return Sn.brandCheck(this,e),g3t(this[R_e])}get extensions(){return Sn.brandCheck(this,e),this.#n}get protocol(){return Sn.brandCheck(this,e),this.#i}get onopen(){return Sn.brandCheck(this,e),this.#e.open}set onopen(t){Sn.brandCheck(this,e),this.#e.open&&this.removeEventListener("open",this.#e.open),typeof t=="function"?(this.#e.open=t,this.addEventListener("open",t)):this.#e.open=null}get onerror(){return Sn.brandCheck(this,e),this.#e.error}set onerror(t){Sn.brandCheck(this,e),this.#e.error&&this.removeEventListener("error",this.#e.error),typeof t=="function"?(this.#e.error=t,this.addEventListener("error",t)):this.#e.error=null}get onclose(){return Sn.brandCheck(this,e),this.#e.close}set onclose(t){Sn.brandCheck(this,e),this.#e.close&&this.removeEventListener("close",this.#e.close),typeof t=="function"?(this.#e.close=t,this.addEventListener("close",t)):this.#e.close=null}get onmessage(){return Sn.brandCheck(this,e),this.#e.message}set onmessage(t){Sn.brandCheck(this,e),this.#e.message&&this.removeEventListener("message",this.#e.message),typeof t=="function"?(this.#e.message=t,this.addEventListener("message",t)):this.#e.message=null}get binaryType(){return Sn.brandCheck(this,e),this[wO]}set binaryType(t){Sn.brandCheck(this,e),t!=="blob"&&t!=="arraybuffer"?this[wO]="blob":this[wO]=t}#o(t,r){this[D_e]=t;let n=new w3t(this,r);n.on("drain",R3t),n.on("error",D3t.bind(this)),t.socket.ws=this,this[E3t]=n,this.#r=new k3t(t.socket),this[Gne]=Hw.OPEN;let i=t.headersList.get("sec-websocket-extensions");i!==null&&(this.#n=i);let s=t.headersList.get("sec-websocket-protocol");s!==null&&(this.#i=s),P_e("open",this)}};Vu.CONNECTING=Vu.prototype.CONNECTING=Hw.CONNECTING;Vu.OPEN=Vu.prototype.OPEN=Hw.OPEN;Vu.CLOSING=Vu.prototype.CLOSING=Hw.CLOSING;Vu.CLOSED=Vu.prototype.CLOSED=Hw.CLOSED;Object.defineProperties(Vu.prototype,{CONNECTING:Z5,OPEN:Z5,CLOSING:Z5,CLOSED:Z5,url:hd,readyState:hd,bufferedAmount:hd,onopen:hd,onerror:hd,onclose:hd,close:hd,onmessage:hd,binaryType:hd,send:hd,extensions:hd,protocol:hd,[Symbol.toStringTag]:{value:"WebSocket",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(Vu,{CONNECTING:Z5,OPEN:Z5,CLOSING:Z5,CLOSED:Z5});Sn.converters["sequence<DOMString>"]=Sn.sequenceConverter(Sn.converters.DOMString);Sn.converters["DOMString or sequence<DOMString>"]=function(e,t,r){return Sn.util.Type(e)==="Object"&&Symbol.iterator in e?Sn.converters["sequence<DOMString>"](e):Sn.converters.DOMString(e,t,r)};Sn.converters.WebSocketInit=Sn.dictionaryConverter([{key:"protocols",converter:Sn.converters["DOMString or sequence<DOMString>"],defaultValue:o(()=>new Array(0),"defaultValue")},{key:"dispatcher",converter:Sn.converters.any,defaultValue:o(()=>_3t(),"defaultValue")},{key:"headers",converter:Sn.nullableConverter(Sn.converters.HeadersInit)}]);Sn.converters["DOMString or sequence<DOMString> or WebSocketInit"]=function(e){return Sn.util.Type(e)==="Object"&&!(Symbol.iterator in e)?Sn.converters.WebSocketInit(e):{protocols:Sn.converters["DOMString or sequence<DOMString>"](e)}};Sn.converters.WebSocketSendData=function(e){if(Sn.util.Type(e)==="Object"){if(F_e(e))return Sn.converters.Blob(e,{strict:!1});if(ArrayBuffer.isView(e)||L_e.isArrayBuffer(e))return Sn.converters.BufferSource(e)}return Sn.converters.USVString(e)};function R3t(){this.ws[D_e].socket.resume()}o(R3t,"onParserDrain");function D3t(e){let t,r;e instanceof B3t?(t=e.reason,r=e.code):t=e.message,P_e("error",this,()=>new S3t("error",{error:e,message:t})),N_e(this,r)}o(D3t,"onParserError");Q_e.exports={WebSocket:Vu}});var Wne=V((fOr,O_e)=>{"use strict";d();function P3t(e){return e.indexOf("\0")===-1}o(P3t,"isValidLastEventId");function N3t(e){if(e.length===0)return!1;for(let t=0;t<e.length;t++)if(e.charCodeAt(t)<48||e.charCodeAt(t)>57)return!1;return!0}o(N3t,"isASCIINumber");function F3t(e){return new Promise(t=>{setTimeout(t,e).unref()})}o(F3t,"delay");O_e.exports={isValidLastEventId:P3t,isASCIINumber:N3t,delay:F3t}});var W_e=V((hOr,G_e)=>{"use strict";d();var{Transform:L3t}=require("node:stream"),{isASCIINumber:U_e,isValidLastEventId:q_e}=Wne(),P1=[239,187,191],Hne=10,_O=13,Q3t=58,M3t=32,Vne=class extends L3t{static{o(this,"EventSourceStream")}state=null;checkBOM=!0;crlfCheck=!1;eventEndCheck=!1;buffer=null;pos=0;event={data:void 0,event:void 0,id:void 0,retry:void 0};constructor(t={}){t.readableObjectMode=!0,super(t),this.state=t.eventSourceSettings||{},t.push&&(this.push=t.push)}_transform(t,r,n){if(t.length===0){n();return}if(this.buffer?this.buffer=Buffer.concat([this.buffer,t]):this.buffer=t,this.checkBOM)switch(this.buffer.length){case 1:if(this.buffer[0]===P1[0]){n();return}this.checkBOM=!1,n();return;case 2:if(this.buffer[0]===P1[0]&&this.buffer[1]===P1[1]){n();return}this.checkBOM=!1;break;case 3:if(this.buffer[0]===P1[0]&&this.buffer[1]===P1[1]&&this.buffer[2]===P1[2]){this.buffer=Buffer.alloc(0),this.checkBOM=!1,n();return}this.checkBOM=!1;break;default:this.buffer[0]===P1[0]&&this.buffer[1]===P1[1]&&this.buffer[2]===P1[2]&&(this.buffer=this.buffer.subarray(3)),this.checkBOM=!1;break}for(;this.pos<this.buffer.length;){if(this.eventEndCheck){if(this.crlfCheck){if(this.buffer[this.pos]===Hne){this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.crlfCheck=!1;continue}this.crlfCheck=!1}if(this.buffer[this.pos]===Hne||this.buffer[this.pos]===_O){this.buffer[this.pos]===_O&&(this.crlfCheck=!0),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,(this.event.data!==void 0||this.event.event||this.event.id||this.event.retry)&&this.processEvent(this.event),this.clearEvent();continue}this.eventEndCheck=!1;continue}if(this.buffer[this.pos]===Hne||this.buffer[this.pos]===_O){this.buffer[this.pos]===_O&&(this.crlfCheck=!0),this.parseLine(this.buffer.subarray(0,this.pos),this.event),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.eventEndCheck=!0;continue}this.pos++}n()}parseLine(t,r){if(t.length===0)return;let n=t.indexOf(Q3t);if(n===0)return;let i="",s="";if(n!==-1){i=t.subarray(0,n).toString("utf8");let a=n+1;t[a]===M3t&&++a,s=t.subarray(a).toString("utf8")}else i=t.toString("utf8"),s="";switch(i){case"data":r[i]===void 0?r[i]=s:r[i]+=`
${s}`;break;case"retry":U_e(s)&&(r[i]=s);break;case"id":q_e(s)&&(r[i]=s);break;case"event":s.length>0&&(r[i]=s);break}}processEvent(t){t.retry&&U_e(t.retry)&&(this.state.reconnectionTime=parseInt(t.retry,10)),t.id&&q_e(t.id)&&(this.state.lastEventId=t.id),t.data!==void 0&&this.push({type:t.event||"message",options:{data:t.data,lastEventId:this.state.lastEventId,origin:this.state.origin}})}clearEvent(){this.event={data:void 0,event:void 0,id:void 0,retry:void 0}}};G_e.exports={EventSourceStream:Vne}});var J_e=V((AOr,K_e)=>{"use strict";d();var{pipeline:O3t}=require("node:stream"),{fetching:U3t}=Pw(),{makeRequest:q3t}=GI(),{webidl:N1}=Hl(),{EventSourceStream:G3t}=W_e(),{parseMIMEType:W3t}=Nc(),{createFastMessageEvent:H3t}=zI(),{isNetworkError:H_e}=Rw(),{delay:V3t}=Wne(),{kEnumerableProperty:P4}=ci(),{environmentSettingsObject:V_e}=Mu(),j_e=!1,$_e=3e3,Vw=0,z_e=1,jw=2,j3t="anonymous",$3t="use-credentials",ZI=class e extends EventTarget{static{o(this,"EventSource")}#e={open:null,error:null,message:null};#t=null;#i=!1;#n=Vw;#r=null;#o=null;#s;#a;constructor(t,r={}){super(),N1.util.markAsUncloneable(this);let n="EventSource constructor";N1.argumentLengthCheck(arguments,1,n),j_e||(j_e=!0,process.emitWarning("EventSource is experimental, expect them to change at any time.",{code:"UNDICI-ES"})),t=N1.converters.USVString(t,n,"url"),r=N1.converters.EventSourceInitDict(r,n,"eventSourceInitDict"),this.#s=r.dispatcher,this.#a={lastEventId:"",reconnectionTime:$_e};let i=V_e,s;try{s=new URL(t,i.settingsObject.baseUrl),this.#a.origin=s.origin}catch(c){throw new DOMException(c,"SyntaxError")}this.#t=s.href;let a=j3t;r.withCredentials&&(a=$3t,this.#i=!0);let l={redirect:"follow",keepalive:!0,mode:"cors",credentials:a==="anonymous"?"same-origin":"omit",referrer:"no-referrer"};l.client=V_e.settingsObject,l.headersList=[["accept",{name:"accept",value:"text/event-stream"}]],l.cache="no-store",l.initiator="other",l.urlList=[new URL(this.#t)],this.#r=q3t(l),this.#l()}get readyState(){return this.#n}get url(){return this.#t}get withCredentials(){return this.#i}#l(){if(this.#n===jw)return;this.#n=Vw;let t={request:this.#r,dispatcher:this.#s},r=o(n=>{H_e(n)&&(this.dispatchEvent(new Event("error")),this.close()),this.#c()},"processEventSourceEndOfBody");t.processResponseEndOfBody=r,t.processResponse=n=>{if(H_e(n))if(n.aborted){this.close(),this.dispatchEvent(new Event("error"));return}else{this.#c();return}let i=n.headersList.get("content-type",!0),s=i!==null?W3t(i):"failure",a=s!=="failure"&&s.essence==="text/event-stream";if(n.status!==200||a===!1){this.close(),this.dispatchEvent(new Event("error"));return}this.#n=z_e,this.dispatchEvent(new Event("open")),this.#a.origin=n.urlList[n.urlList.length-1].origin;let l=new G3t({eventSourceSettings:this.#a,push:o(c=>{this.dispatchEvent(H3t(c.type,c.options))},"push")});O3t(n.body.stream,l,c=>{c?.aborted===!1&&(this.close(),this.dispatchEvent(new Event("error")))})},this.#o=U3t(t)}async#c(){this.#n!==jw&&(this.#n=Vw,this.dispatchEvent(new Event("error")),await V3t(this.#a.reconnectionTime),this.#n===Vw&&(this.#a.lastEventId.length&&this.#r.headersList.set("last-event-id",this.#a.lastEventId,!0),this.#l()))}close(){N1.brandCheck(this,e),this.#n!==jw&&(this.#n=jw,this.#o.abort(),this.#r=null)}get onopen(){return this.#e.open}set onopen(t){this.#e.open&&this.removeEventListener("open",this.#e.open),typeof t=="function"?(this.#e.open=t,this.addEventListener("open",t)):this.#e.open=null}get onmessage(){return this.#e.message}set onmessage(t){this.#e.message&&this.removeEventListener("message",this.#e.message),typeof t=="function"?(this.#e.message=t,this.addEventListener("message",t)):this.#e.message=null}get onerror(){return this.#e.error}set onerror(t){this.#e.error&&this.removeEventListener("error",this.#e.error),typeof t=="function"?(this.#e.error=t,this.addEventListener("error",t)):this.#e.error=null}},Y_e={CONNECTING:{__proto__:null,configurable:!1,enumerable:!0,value:Vw,writable:!1},OPEN:{__proto__:null,configurable:!1,enumerable:!0,value:z_e,writable:!1},CLOSED:{__proto__:null,configurable:!1,enumerable:!0,value:jw,writable:!1}};Object.defineProperties(ZI,Y_e);Object.defineProperties(ZI.prototype,Y_e);Object.defineProperties(ZI.prototype,{close:P4,onerror:P4,onmessage:P4,onopen:P4,readyState:P4,url:P4,withCredentials:P4});N1.converters.EventSourceInitDict=N1.dictionaryConverter([{key:"withCredentials",converter:N1.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"dispatcher",converter:N1.converters.any}]);K_e.exports={EventSource:ZI,defaultReconnectionTime:$_e}});var tSe=V((EOr,En)=>{"use strict";d();var z3t=gw(),X_e=zT(),Y3t=BI(),K3t=o9e(),J3t=kI(),X3t=gre(),Z3t=v9e(),eCt=S9e(),Z_e=ao(),BO=ci(),{InvalidArgumentError:SO}=Z_e,e8=h7e(),tCt=KT(),rCt=Jre(),nCt=Y7e(),iCt=ene(),oCt=Mre(),sCt=kM(),{getGlobalDispatcher:eSe,setGlobalDispatcher:aCt}=UM(),lCt=qM(),cCt=CM(),uCt=EM();Object.assign(X_e.prototype,e8);En.exports.Dispatcher=X_e;En.exports.Client=z3t;En.exports.Pool=Y3t;En.exports.BalancedPool=K3t;En.exports.Agent=J3t;En.exports.ProxyAgent=X3t;En.exports.EnvHttpProxyAgent=Z3t;En.exports.RetryAgent=eCt;En.exports.RetryHandler=sCt;En.exports.DecoratorHandler=lCt;En.exports.RedirectHandler=cCt;En.exports.createRedirectInterceptor=uCt;En.exports.interceptors={redirect:rTe(),retry:iTe(),dump:sTe(),dns:cTe()};En.exports.buildConnector=tCt;En.exports.errors=Z_e;En.exports.util={parseHeaders:BO.parseHeaders,headerNameToString:BO.headerNameToString};function $w(e){return(t,r,n)=>{if(typeof r=="function"&&(n=r,r=null),!t||typeof t!="string"&&typeof t!="object"&&!(t instanceof URL))throw new SO("invalid url");if(r!=null&&typeof r!="object")throw new SO("invalid opts");if(r&&r.path!=null){if(typeof r.path!="string")throw new SO("invalid opts.path");let a=r.path;r.path.startsWith("/")||(a=`/${a}`),t=new URL(BO.parseOrigin(t).origin+a)}else r||(r=typeof t=="object"?t:{}),t=BO.parseURL(t);let{agent:i,dispatcher:s=eSe()}=r;if(i)throw new SO("unsupported opts.agent. Did you mean opts.client?");return e.call(s,{...r,origin:t.origin,path:t.search?`${t.pathname}${t.search}`:t.pathname,method:r.method||(r.body?"PUT":"GET")},n)}}o($w,"makeDispatcher");En.exports.setGlobalDispatcher=aCt;En.exports.getGlobalDispatcher=eSe;var fCt=Pw().fetch;En.exports.fetch=o(async function(t,r=void 0){try{return await fCt(t,r)}catch(n){throw n&&typeof n=="object"&&Error.captureStackTrace(n),n}},"fetch");En.exports.Headers=w4().Headers;En.exports.Response=Rw().Response;En.exports.Request=GI().Request;En.exports.FormData=nw().FormData;En.exports.File=globalThis.File??require("node:buffer").File;En.exports.FileReader=bwe().FileReader;var{setGlobalOrigin:dCt,getGlobalOrigin:mCt}=Ate();En.exports.setGlobalOrigin=dCt;En.exports.getGlobalOrigin=mCt;var{CacheStorage:hCt}=Dwe(),{kConstruct:pCt}=lO();En.exports.caches=new hCt(pCt);var{deleteCookie:gCt,getCookies:ACt,getSetCookies:yCt,setCookie:CCt}=Hwe();En.exports.deleteCookie=gCt;En.exports.getCookies=ACt;En.exports.getSetCookies=yCt;En.exports.setCookie=CCt;var{parseMIMEType:ECt,serializeAMimeType:xCt}=Nc();En.exports.parseMIMEType=ECt;En.exports.serializeAMimeType=xCt;var{CloseEvent:vCt,ErrorEvent:bCt,MessageEvent:ICt}=zI();En.exports.WebSocket=M_e().WebSocket;En.exports.CloseEvent=vCt;En.exports.ErrorEvent=bCt;En.exports.MessageEvent=ICt;En.exports.request=$w(e8.request);En.exports.stream=$w(e8.stream);En.exports.pipeline=$w(e8.pipeline);En.exports.connect=$w(e8.connect);En.exports.upgrade=$w(e8.upgrade);En.exports.MockClient=rCt;En.exports.MockPool=iCt;En.exports.MockAgent=nCt;En.exports.mockErrors=oCt;var{EventSource:TCt}=J_e();En.exports.EventSource=TCt});var Jn=V((bOr,rSe)=>{d();rSe.exports={options:{usePureJavaScript:!1}}});var oSe=V((TOr,iSe)=>{d();var jne={};iSe.exports=jne;var nSe={};jne.encode=function(e,t,r){if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(e instanceof Uint8Array))n=wCt(e,t);else{var i=0,s=t.length,a=t.charAt(0),l=[0];for(i=0;i<e.length;++i){for(var c=0,u=e[i];c<l.length;++c)u+=l[c]<<8,l[c]=u%s,u=u/s|0;for(;u>0;)l.push(u%s),u=u/s|0}for(i=0;e[i]===0&&i<e.length-1;++i)n+=a;for(i=l.length-1;i>=0;--i)n+=t[l[i]]}if(r){var f=new RegExp(".{1,"+r+"}","g");n=n.match(f).join(`\r
`)}return n};jne.decode=function(e,t){if(typeof e!="string")throw new TypeError('"input" must be a string.');if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');var r=nSe[t];if(!r){r=nSe[t]=[];for(var n=0;n<t.length;++n)r[t.charCodeAt(n)]=n}e=e.replace(/\s/g,"");for(var i=t.length,s=t.charAt(0),a=[0],n=0;n<e.length;n++){var l=r[e.charCodeAt(n)];if(l===void 0)return;for(var c=0,u=l;c<a.length;++c)u+=a[c]*i,a[c]=u&255,u>>=8;for(;u>0;)a.push(u&255),u>>=8}for(var f=0;e[f]===s&&f<e.length-1;++f)a.push(0);return typeof Buffer<"u"?Buffer.from(a.reverse()):new Uint8Array(a.reverse())};function wCt(e,t){var r=0,n=t.length,i=t.charAt(0),s=[0];for(r=0;r<e.length();++r){for(var a=0,l=e.at(r);a<s.length;++a)l+=s[a]<<8,s[a]=l%n,l=l/n|0;for(;l>0;)s.push(l%n),l=l/n|0}var c="";for(r=0;e.at(r)===0&&r<e.length()-1;++r)c+=i;for(r=s.length-1;r>=0;--r)c+=t[s[r]];return c}o(wCt,"_encodeWithByteBuffer")});var Ki=V((SOr,cSe)=>{d();var sSe=Jn(),aSe=oSe(),Ne=cSe.exports=sSe.util=sSe.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){Ne.nextTick=process.nextTick,typeof setImmediate=="function"?Ne.setImmediate=setImmediate:Ne.setImmediate=Ne.nextTick;return}if(typeof setImmediate=="function"){Ne.setImmediate=function(){return setImmediate.apply(void 0,arguments)},Ne.nextTick=function(l){return setImmediate(l)};return}if(Ne.setImmediate=function(l){setTimeout(l,0)},typeof window<"u"&&typeof window.postMessage=="function"){let l=function(c){if(c.source===window&&c.data===e){c.stopPropagation();var u=t.slice();t.length=0,u.forEach(function(f){f()})}};var a=l;o(l,"handler");var e="forge.setImmediate",t=[];Ne.setImmediate=function(c){t.push(c),t.length===1&&window.postMessage(e,"*")},window.addEventListener("message",l,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,i=document.createElement("div"),t=[];new MutationObserver(function(){var c=t.slice();t.length=0,c.forEach(function(u){u()})}).observe(i,{attributes:!0});var s=Ne.setImmediate;Ne.setImmediate=function(c){Date.now()-r>15?(r=Date.now(),s(c)):(t.push(c),t.length===1&&i.setAttribute("a",n=!n))}}Ne.nextTick=Ne.setImmediate})();Ne.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;Ne.globalScope=function(){return Ne.isNodejs?global:typeof self>"u"?window:self}();Ne.isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};Ne.isArrayBuffer=function(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer};Ne.isArrayBufferView=function(e){return e&&Ne.isArrayBuffer(e.buffer)&&e.byteLength!==void 0};function zw(e){if(!(e===8||e===16||e===24||e===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}o(zw,"_checkBitsParam");Ne.ByteBuffer=$ne;function $ne(e){if(this.data="",this.read=0,typeof e=="string")this.data=e;else if(Ne.isArrayBuffer(e)||Ne.isArrayBufferView(e))if(typeof Buffer<"u"&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch{for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof $ne||typeof e=="object"&&typeof e.data=="string"&&typeof e.read=="number")&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}o($ne,"ByteStringBuffer");Ne.ByteStringBuffer=$ne;var _Ct=4096;Ne.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>_Ct&&(this.data.substr(0,1),this._constructedStringLength=0)};Ne.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};Ne.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};Ne.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))};Ne.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this};Ne.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this};Ne.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(Ne.encodeUtf8(e))};Ne.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};Ne.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};Ne.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};Ne.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255))};Ne.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))};Ne.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))};Ne.ByteStringBuffer.prototype.putInt=function(e,t){zw(t);var r="";do t-=8,r+=String.fromCharCode(e>>t&255);while(t>0);return this.putBytes(r)};Ne.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)};Ne.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())};Ne.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};Ne.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e};Ne.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e};Ne.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e};Ne.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e};Ne.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e};Ne.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e};Ne.ByteStringBuffer.prototype.getInt=function(e){zw(e);var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),e-=8;while(e>0);return t};Ne.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};Ne.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};Ne.ByteStringBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};Ne.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)};Ne.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this};Ne.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};Ne.ByteStringBuffer.prototype.copy=function(){var e=Ne.createBuffer(this.data);return e.read=this.read,e};Ne.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};Ne.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};Ne.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this};Ne.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e};Ne.ByteStringBuffer.prototype.toString=function(){return Ne.decodeUtf8(this.bytes())};function SCt(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=Ne.isArrayBuffer(e),n=Ne.isArrayBufferView(e);if(r||n){r?this.data=new DataView(e):this.data=new DataView(e.buffer,e.byteOffset,e.byteLength),this.write="writeOffset"in t?t.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,e!=null&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)}o(SCt,"DataBuffer");Ne.DataBuffer=SCt;Ne.DataBuffer.prototype.length=function(){return this.write-this.read};Ne.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};Ne.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this};Ne.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this};Ne.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this};Ne.DataBuffer.prototype.putBytes=function(e,t){if(Ne.isArrayBufferView(e)){var r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(Ne.isArrayBuffer(e)){var r=new Uint8Array(e);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(e instanceof Ne.DataBuffer||typeof e=="object"&&typeof e.read=="number"&&typeof e.write=="number"&&Ne.isArrayBufferView(e.data)){var r=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(r.byteLength);var i=new Uint8Array(e.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(e instanceof Ne.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary",typeof e=="string"){var s;if(t==="hex")return this.accommodate(Math.ceil(e.length/2)),s=new Uint8Array(this.data.buffer,this.write),this.write+=Ne.binary.hex.decode(e,s,this.write),this;if(t==="base64")return this.accommodate(Math.ceil(e.length/4)*3),s=new Uint8Array(this.data.buffer,this.write),this.write+=Ne.binary.base64.decode(e,s,this.write),this;if(t==="utf8"&&(e=Ne.encodeUtf8(e),t="binary"),t==="binary"||t==="raw")return this.accommodate(e.length),s=new Uint8Array(this.data.buffer,this.write),this.write+=Ne.binary.raw.decode(s),this;if(t==="utf16")return this.accommodate(e.length*2),s=new Uint16Array(this.data.buffer,this.write),this.write+=Ne.text.utf16.encode(s),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)};Ne.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this};Ne.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")};Ne.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this};Ne.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this};Ne.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this};Ne.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this};Ne.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this};Ne.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this};Ne.DataBuffer.prototype.putInt=function(e,t){zw(t),this.accommodate(t/8);do t-=8,this.data.setInt8(this.write++,e>>t&255);while(t>0);return this};Ne.DataBuffer.prototype.putSignedInt=function(e,t){return zw(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)};Ne.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};Ne.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e};Ne.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e};Ne.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e};Ne.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e};Ne.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e};Ne.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e};Ne.DataBuffer.prototype.getInt=function(e){zw(e);var t=0;do t=(t<<8)+this.data.getInt8(this.read++),e-=8;while(e>0);return t};Ne.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};Ne.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};Ne.DataBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};Ne.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)};Ne.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this};Ne.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};Ne.DataBuffer.prototype.copy=function(){return new Ne.DataBuffer(this)};Ne.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this};Ne.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};Ne.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this};Ne.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e};Ne.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if(e=e||"utf8",e==="binary"||e==="raw")return Ne.binary.raw.encode(t);if(e==="hex")return Ne.binary.hex.encode(t);if(e==="base64")return Ne.binary.base64.encode(t);if(e==="utf8")return Ne.text.utf8.decode(t);if(e==="utf16")return Ne.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)};Ne.createBuffer=function(e,t){return t=t||"raw",e!==void 0&&t==="utf8"&&(e=Ne.encodeUtf8(e)),new Ne.ByteBuffer(e)};Ne.fillString=function(e,t){for(var r="";t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return r};Ne.xorBytes=function(e,t,r){for(var n="",i="",s="",a=0,l=0;r>0;--r,++a)i=e.charCodeAt(a)^t.charCodeAt(a),l>=10&&(n+=s,s="",l=0),s+=String.fromCharCode(i),++l;return n+=s,n};Ne.hexToBytes=function(e){var t="",r=0;for(e.length&!0&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t};Ne.bytesToHex=function(e){return Ne.createBuffer(e).toHex()};Ne.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};var ey="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ty=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],lSe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Ne.encode64=function(e,t){for(var r="",n="",i,s,a,l=0;l<e.length;)i=e.charCodeAt(l++),s=e.charCodeAt(l++),a=e.charCodeAt(l++),r+=ey.charAt(i>>2),r+=ey.charAt((i&3)<<4|s>>4),isNaN(s)?r+="==":(r+=ey.charAt((s&15)<<2|a>>6),r+=isNaN(a)?"=":ey.charAt(a&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};Ne.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t="",r,n,i,s,a=0;a<e.length;)r=ty[e.charCodeAt(a++)-43],n=ty[e.charCodeAt(a++)-43],i=ty[e.charCodeAt(a++)-43],s=ty[e.charCodeAt(a++)-43],t+=String.fromCharCode(r<<2|n>>4),i!==64&&(t+=String.fromCharCode((n&15)<<4|i>>2),s!==64&&(t+=String.fromCharCode((i&3)<<6|s)));return t};Ne.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};Ne.decodeUtf8=function(e){return decodeURIComponent(escape(e))};Ne.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:aSe.encode,decode:aSe.decode}};Ne.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)};Ne.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,s=0;s<e.length;++s)n[i++]=e.charCodeAt(s);return t?i-r:n};Ne.binary.hex.encode=Ne.bytesToHex;Ne.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2))),r=r||0;var i=0,s=r;for(e.length&1&&(i=1,n[s++]=parseInt(e[0],16));i<e.length;i+=2)n[s++]=parseInt(e.substr(i,2),16);return t?s-r:n};Ne.binary.base64.encode=function(e,t){for(var r="",n="",i,s,a,l=0;l<e.byteLength;)i=e[l++],s=e[l++],a=e[l++],r+=ey.charAt(i>>2),r+=ey.charAt((i&3)<<4|s>>4),isNaN(s)?r+="==":(r+=ey.charAt((s&15)<<2|a>>6),r+=isNaN(a)?"=":ey.charAt(a&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};Ne.binary.base64.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/4)*3)),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,s,a,l,c=0,u=r;c<e.length;)i=ty[e.charCodeAt(c++)-43],s=ty[e.charCodeAt(c++)-43],a=ty[e.charCodeAt(c++)-43],l=ty[e.charCodeAt(c++)-43],n[u++]=i<<2|s>>4,a!==64&&(n[u++]=(s&15)<<4|a>>2,l!==64&&(n[u++]=(a&3)<<6|l));return t?u-r:n.subarray(0,u)};Ne.binary.base58.encode=function(e,t){return Ne.binary.baseN.encode(e,lSe,t)};Ne.binary.base58.decode=function(e,t){return Ne.binary.baseN.decode(e,lSe,t)};Ne.text={utf8:{},utf16:{}};Ne.text.utf8.encode=function(e,t,r){e=Ne.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,s=0;s<e.length;++s)n[i++]=e.charCodeAt(s);return t?i-r:n};Ne.text.utf8.decode=function(e){return Ne.decodeUtf8(String.fromCharCode.apply(null,e))};Ne.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var s=r,a=r,l=0;l<e.length;++l)i[a++]=e.charCodeAt(l),s+=2;return t?s-r:n};Ne.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))};Ne.deflate=function(e,t,r){if(t=Ne.decode64(e.deflate(Ne.encode64(t)).rval),r){var n=2,i=t.charCodeAt(1);i&32&&(n=6),t=t.substring(n,t.length-4)}return t};Ne.inflate=function(e,t,r){var n=e.inflate(Ne.encode64(t)).rval;return n===null?null:Ne.decode64(n)};var zne=o(function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(r===null?n=e.removeItem(t):(r=Ne.encode64(JSON.stringify(r)),n=e.setItem(t,r)),typeof n<"u"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},"_setStorageObject"),Yne=o(function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(Ne.decode64(r))),r},"_getStorageObject"),BCt=o(function(e,t,r,n){var i=Yne(e,t);i===null&&(i={}),i[r]=n,zne(e,t,i)},"_setItem"),kCt=o(function(e,t,r){var n=Yne(e,t);return n!==null&&(n=r in n?n[r]:null),n},"_getItem"),RCt=o(function(e,t,r){var n=Yne(e,t);if(n!==null&&r in n){delete n[r];var i=!0;for(var s in n){i=!1;break}i&&(n=null),zne(e,t,n)}},"_removeItem"),DCt=o(function(e,t){zne(e,t,null)},"_clearItems"),kO=o(function(e,t,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var i,s=!1,a=null;for(var l in r){i=r[l];try{if(i==="flash"||i==="both"){if(t[0]===null)throw new Error("Flash local storage not available.");n=e.apply(this,t),s=i==="flash"}(i==="web"||i==="both")&&(t[0]=localStorage,n=e.apply(this,t),s=!0)}catch(c){a=c}if(s)break}if(!s)throw a;return n},"_callStorageFunction");Ne.setItem=function(e,t,r,n,i){kO(BCt,arguments,i)};Ne.getItem=function(e,t,r,n){return kO(kCt,arguments,n)};Ne.removeItem=function(e,t,r,n){kO(RCt,arguments,n)};Ne.clearItems=function(e,t,r){kO(DCt,arguments,r)};Ne.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};Ne.format=function(e){for(var t=/%./g,r,n,i=0,s=[],a=0;r=t.exec(e);){n=e.substring(a,t.lastIndex-2),n.length>0&&s.push(n),a=t.lastIndex;var l=r[0][1];switch(l){case"s":case"o":i<arguments.length?s.push(arguments[i+++1]):s.push("<?>");break;case"%":s.push("%");break;default:s.push("<%"+l+"?>")}}return s.push(e.substring(a)),s.join("")};Ne.formatNumber=function(e,t,r,n){var i=e,s=isNaN(t=Math.abs(t))?2:t,a=r===void 0?",":r,l=n===void 0?".":n,c=i<0?"-":"",u=parseInt(i=Math.abs(+i||0).toFixed(s),10)+"",f=u.length>3?u.length%3:0;return c+(f?u.substr(0,f)+l:"")+u.substr(f).replace(/(\d{3})(?=\d)/g,"$1"+l)+(s?a+Math.abs(i-u).toFixed(s).slice(2):"")};Ne.formatSize=function(e){return e>=1073741824?e=Ne.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?e=Ne.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?e=Ne.formatNumber(e/1024,0)+" KiB":e=Ne.formatNumber(e,0)+" bytes",e};Ne.bytesFromIP=function(e){return e.indexOf(".")!==-1?Ne.bytesFromIPv4(e):e.indexOf(":")!==-1?Ne.bytesFromIPv6(e):null};Ne.bytesFromIPv4=function(e){if(e=e.split("."),e.length!==4)return null;for(var t=Ne.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()};Ne.bytesFromIPv6=function(e){var t=0;e=e.split(":").filter(function(a){return a.length===0&&++t,!0});for(var r=(8-e.length+t)*2,n=Ne.createBuffer(),i=0;i<8;++i){if(!e[i]||e[i].length===0){n.fillWithByte(0,r),r=0;continue}var s=Ne.hexToBytes(e[i]);s.length<2&&n.putByte(0),n.putBytes(s)}return n.getBytes()};Ne.bytesToIP=function(e){return e.length===4?Ne.bytesToIPv4(e):e.length===16?Ne.bytesToIPv6(e):null};Ne.bytesToIPv4=function(e){if(e.length!==4)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")};Ne.bytesToIPv6=function(e){if(e.length!==16)return null;for(var t=[],r=[],n=0,i=0;i<e.length;i+=2){for(var s=Ne.bytesToHex(e[i]+e[i+1]);s[0]==="0"&&s!=="0";)s=s.substr(1);if(s==="0"){var a=r[r.length-1],l=t.length;!a||l!==a.end+1?r.push({start:l,end:l}):(a.end=l,a.end-a.start>r[n].end-r[n].start&&(n=r.length-1))}t.push(s)}if(r.length>0){var c=r[n];c.end-c.start>0&&(t.splice(c.start,c.end-c.start+1,""),c.start===0&&t.unshift(""),c.end===7&&t.push(""))}return t.join(":")};Ne.estimateCores=function(e,t){if(typeof e=="function"&&(t=e,e={}),e=e||{},"cores"in Ne&&!e.update)return t(null,Ne.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return Ne.cores=navigator.hardwareConcurrency,t(null,Ne.cores);if(typeof Worker>"u")return Ne.cores=1,t(null,Ne.cores);if(typeof Blob>"u")return Ne.cores=2,t(null,Ne.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(a){for(var l=Date.now(),c=l+4;Date.now()<c;);self.postMessage({st:l,et:c})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(a,l,c){if(l===0){var u=Math.floor(a.reduce(function(f,m){return f+m},0)/a.length);return Ne.cores=Math.max(1,u),URL.revokeObjectURL(r),t(null,Ne.cores)}i(c,function(f,m){a.push(s(c,m)),n(a,l-1,c)})}o(n,"sample");function i(a,l){for(var c=[],u=[],f=0;f<a;++f){var m=new Worker(r);m.addEventListener("message",function(h){if(u.push(h.data),u.length===a){for(var p=0;p<a;++p)c[p].terminate();l(null,u)}}),c.push(m)}for(var f=0;f<a;++f)c[f].postMessage(f)}o(i,"map");function s(a,l){for(var c=[],u=0;u<a;++u)for(var f=l[u],m=c[u]=[],h=0;h<a;++h)if(u!==h){var p=l[h];(f.st>p.st&&f.st<p.et||p.st>f.st&&p.st<f.et)&&m.push(h)}return c.reduce(function(A,E){return Math.max(A,E.length)},0)}o(s,"reduce")}});var RO=V((ROr,uSe)=>{d();var Cl=Jn();Ki();uSe.exports=Cl.cipher=Cl.cipher||{};Cl.cipher.algorithms=Cl.cipher.algorithms||{};Cl.cipher.createCipher=function(e,t){var r=e;if(typeof r=="string"&&(r=Cl.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new Cl.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})};Cl.cipher.createDecipher=function(e,t){var r=e;if(typeof r=="string"&&(r=Cl.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new Cl.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})};Cl.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),Cl.cipher.algorithms[e]=t};Cl.cipher.getAlgorithm=function(e){return e=e.toUpperCase(),e in Cl.cipher.algorithms?Cl.cipher.algorithms[e]:null};var Kne=Cl.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};Kne.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=Cl.util.createBuffer(),this.output=e.output||Cl.util.createBuffer(),this.mode.start(t)};Kne.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};Kne.prototype.finish=function(e){e&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return e(this.blockSize,r,!1)},this.mode.unpad=function(r){return e(this.blockSize,r,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,t))}});var Xne=V((POr,fSe)=>{d();var El=Jn();Ki();El.cipher=El.cipher||{};var Ai=fSe.exports=El.cipher.modes=El.cipher.modes||{};Ai.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Ai.ecb.prototype.start=function(e){};Ai.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};Ai.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};Ai.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};Ai.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};Ai.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Ai.cbc.prototype.start=function(e){if(e.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in e)this._iv=DO(e.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};Ai.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock};Ai.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};Ai.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};Ai.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};Ai.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=El.util.createBuffer(),this._partialBytes=0};Ai.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=DO(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Ai.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32()^this._outBlock[i],t.putInt32(this._inBlock[i]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(s>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Ai.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32(),t.putInt32(this._inBlock[i]^this._outBlock[i]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(s>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Ai.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=El.util.createBuffer(),this._partialBytes=0};Ai.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=DO(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Ai.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(e.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Ai.ofb.prototype.decrypt=Ai.ofb.prototype.encrypt;Ai.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=El.util.createBuffer(),this._partialBytes=0};Ai.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=DO(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Ai.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}PO(this._inBlock)};Ai.ctr.prototype.decrypt=Ai.ctr.prototype.encrypt;Ai.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=El.util.createBuffer(),this._partialBytes=0,this._R=3774873600};Ai.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t=El.util.createBuffer(e.iv);this._cipherLength=0;var r;if("additionalData"in e?r=El.util.createBuffer(e.additionalData):r=El.util.createBuffer(),"tagLength"in e?this._tagLength=e.tagLength:this._tagLength=128,this._tag=null,e.decrypt&&(this._tag=El.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=t.length();if(n===12)this._j0=[t.getInt32(),t.getInt32(),t.getInt32(),1];else{for(this._j0=[0,0,0,0];t.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(Jne(n*8)))}this._inBlock=this._j0.slice(0),PO(this._inBlock),this._partialBytes=0,r=El.util.createBuffer(r),this._aDataLength=Jne(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};Ai.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^=e.getInt32());this._cipherLength+=this.blockSize}else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s<=0||r){if(r){var a=n%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),PO(this._inBlock)};Ai.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),PO(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};Ai.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=El.util.createBuffer();var n=this._aDataLength.concat(Jne(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var s=0;s<this._ints;++s)this.tag.putInt32(this._s[s]^i[s]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};Ai.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),i=0;i<128;++i){var s=e[i/32|0]&1<<31-i%32;s&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};Ai.gcm.prototype.pow=function(e,t){for(var r=e[3]&1,n=3;n>0;--n)t[n]=e[n]>>>1|(e[n-1]&1)<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)};Ai.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=e[n]>>>(7-r%8)*4&15,s=this._m[r][i];t[0]^=s[0],t[1]^=s[1],t[2]^=s[2],t[3]^=s[3]}return t};Ai.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)};Ai.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,i=16*r,s=new Array(i),a=0;a<i;++a){var l=[0,0,0,0],c=a/n|0,u=(n-1-a%n)*t;l[c]=1<<t-1<<u,s[a]=this.generateSubHashTable(this.multiply(l,e),t)}return s};Ai.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,i=new Array(r);i[n]=e.slice(0);for(var s=n>>>1;s>0;)this.pow(i[2*s],i[s]=[]),s>>=1;for(s=2;s<n;){for(var a=1;a<s;++a){var l=i[s],c=i[a];i[s+a]=[l[0]^c[0],l[1]^c[1],l[2]^c[2],l[3]^c[3]]}s*=2}for(i[0]=[0,0,0,0],s=n+1;s<r;++s){var u=i[s^n];i[s]=[e[0]^u[0],e[1]^u[1],e[2]^u[2],e[3]^u[3]]}return i};function DO(e,t){if(typeof e=="string"&&(e=El.util.createBuffer(e)),El.util.isArray(e)&&e.length>4){var r=e;e=El.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!El.util.isArray(e)){for(var i=[],s=t/4,n=0;n<s;++n)i.push(e.getInt32());e=i}return e}o(DO,"transformIV");function PO(e){e[e.length-1]=e[e.length-1]+1&4294967295}o(PO,"inc32");function Jne(e){return[e/4294967296|0,e&4294967295]}o(Jne,"from64To32")});var ry=V((LOr,pSe)=>{d();var Oo=Jn();RO();Xne();Ki();pSe.exports=Oo.aes=Oo.aes||{};Oo.aes.startEncrypting=function(e,t,r,n){var i=NO({key:e,output:r,decrypt:!1,mode:n});return i.start(t),i};Oo.aes.createEncryptionCipher=function(e,t){return NO({key:e,output:null,decrypt:!1,mode:t})};Oo.aes.startDecrypting=function(e,t,r,n){var i=NO({key:e,output:r,decrypt:!0,mode:n});return i.start(t),i};Oo.aes.createDecryptionCipher=function(e,t){return NO({key:e,output:null,decrypt:!0,mode:t})};Oo.aes.Algorithm=function(e,t){tie||mSe();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:o(function(n,i){return eie(r._w,n,i,!1)},"encrypt"),decrypt:o(function(n,i){return eie(r._w,n,i,!0)},"decrypt")}}),r._init=!1};Oo.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t=e.key,r;if(typeof t=="string"&&(t.length===16||t.length===24||t.length===32))t=Oo.util.createBuffer(t);else if(Oo.util.isArray(t)&&(t.length===16||t.length===24||t.length===32)){r=t,t=Oo.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(!Oo.util.isArray(t)){r=t,t=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)t.push(r.getInt32())}}if(!Oo.util.isArray(t)||!(t.length===4||t.length===6||t.length===8))throw new Error("Invalid key parameter.");var s=this.mode.name,a=["CFB","OFB","CTR","GCM"].indexOf(s)!==-1;this._w=hSe(t,e.decrypt&&!a),this._init=!0}};Oo.aes._expandKey=function(e,t){return tie||mSe(),hSe(e,t)};Oo.aes._updateBlock=eie;r8("AES-ECB",Oo.cipher.modes.ecb);r8("AES-CBC",Oo.cipher.modes.cbc);r8("AES-CFB",Oo.cipher.modes.cfb);r8("AES-OFB",Oo.cipher.modes.ofb);r8("AES-CTR",Oo.cipher.modes.ctr);r8("AES-GCM",Oo.cipher.modes.gcm);function r8(e,t){var r=o(function(){return new Oo.aes.Algorithm(e,t)},"factory");Oo.cipher.registerAlgorithm(e,r)}o(r8,"registerAlgorithm");var tie=!1,t8=4,H0,Zne,dSe,N4,Wm;function mSe(){tie=!0,dSe=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;H0=new Array(256),Zne=new Array(256),N4=new Array(4),Wm=new Array(4);for(var t=0;t<4;++t)N4[t]=new Array(256),Wm[t]=new Array(256);for(var r=0,n=0,i,s,a,l,c,u,f,t=0;t<256;++t){l=n^n<<1^n<<2^n<<3^n<<4,l=l>>8^l&255^99,H0[r]=l,Zne[l]=r,c=e[l],i=e[r],s=e[i],a=e[s],u=c<<24^l<<16^l<<8^(l^c),f=(i^s^a)<<24^(r^a)<<16^(r^s^a)<<8^(r^i^a);for(var m=0;m<4;++m)N4[m][r]=u,Wm[m][l]=f,u=u<<24|u>>>8,f=f<<24|f>>>8;r===0?r=n=1:(r=i^e[e[e[i^a]]],n^=e[e[n]])}}o(mSe,"initialize");function hSe(e,t){for(var r=e.slice(0),n,i=1,s=r.length,a=s+6+1,l=t8*a,c=s;c<l;++c)n=r[c-1],c%s===0?(n=H0[n>>>16&255]<<24^H0[n>>>8&255]<<16^H0[n&255]<<8^H0[n>>>24]^dSe[i]<<24,i++):s>6&&c%s===4&&(n=H0[n>>>24]<<24^H0[n>>>16&255]<<16^H0[n>>>8&255]<<8^H0[n&255]),r[c]=r[c-s]^n;if(t){var u,f=Wm[0],m=Wm[1],h=Wm[2],p=Wm[3],A=r.slice(0);l=r.length;for(var c=0,E=l-t8;c<l;c+=t8,E-=t8)if(c===0||c===l-t8)A[c]=r[E],A[c+1]=r[E+3],A[c+2]=r[E+2],A[c+3]=r[E+1];else for(var x=0;x<t8;++x)u=r[E+x],A[c+(3&-x)]=f[H0[u>>>24]]^m[H0[u>>>16&255]]^h[H0[u>>>8&255]]^p[H0[u&255]];r=A}return r}o(hSe,"_expandKey");function eie(e,t,r,n){var i=e.length/4-1,s,a,l,c,u;n?(s=Wm[0],a=Wm[1],l=Wm[2],c=Wm[3],u=Zne):(s=N4[0],a=N4[1],l=N4[2],c=N4[3],u=H0);var f,m,h,p,A,E,x;f=t[0]^e[0],m=t[n?3:1]^e[1],h=t[2]^e[2],p=t[n?1:3]^e[3];for(var b=3,v=1;v<i;++v)A=s[f>>>24]^a[m>>>16&255]^l[h>>>8&255]^c[p&255]^e[++b],E=s[m>>>24]^a[h>>>16&255]^l[p>>>8&255]^c[f&255]^e[++b],x=s[h>>>24]^a[p>>>16&255]^l[f>>>8&255]^c[m&255]^e[++b],p=s[p>>>24]^a[f>>>16&255]^l[m>>>8&255]^c[h&255]^e[++b],f=A,m=E,h=x;r[0]=u[f>>>24]<<24^u[m>>>16&255]<<16^u[h>>>8&255]<<8^u[p&255]^e[++b],r[n?3:1]=u[m>>>24]<<24^u[h>>>16&255]<<16^u[p>>>8&255]<<8^u[f&255]^e[++b],r[2]=u[h>>>24]<<24^u[p>>>16&255]<<16^u[f>>>8&255]<<8^u[m&255]^e[++b],r[n?1:3]=u[p>>>24]<<24^u[f>>>16&255]<<16^u[m>>>8&255]<<8^u[h&255]^e[++b]}o(eie,"_updateBlock");function NO(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="AES-"+t,n;e.decrypt?n=Oo.cipher.createDecipher(r,e.key):n=Oo.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(s,a){var l=null;a instanceof Oo.util.ByteBuffer&&(l=a,a={}),a=a||{},a.output=l,a.iv=s,i.call(n,a)},n}o(NO,"_createCipher")});var ny=V((OOr,gSe)=>{d();var Yw=Jn();Yw.pki=Yw.pki||{};var rie=gSe.exports=Yw.pki.oids=Yw.oids=Yw.oids||{};function Lt(e,t){rie[e]=t,rie[t]=e}o(Lt,"_IN");function fo(e,t){rie[e]=t}o(fo,"_I_");Lt("1.2.840.113549.1.1.1","rsaEncryption");Lt("1.2.840.113549.1.1.4","md5WithRSAEncryption");Lt("1.2.840.113549.1.1.5","sha1WithRSAEncryption");Lt("1.2.840.113549.1.1.7","RSAES-OAEP");Lt("1.2.840.113549.1.1.8","mgf1");Lt("1.2.840.113549.1.1.9","pSpecified");Lt("1.2.840.113549.1.1.10","RSASSA-PSS");Lt("1.2.840.113549.1.1.11","sha256WithRSAEncryption");Lt("1.2.840.113549.1.1.12","sha384WithRSAEncryption");Lt("1.2.840.113549.1.1.13","sha512WithRSAEncryption");Lt("1.3.101.112","EdDSA25519");Lt("1.2.840.10040.4.3","dsa-with-sha1");Lt("1.3.14.3.2.7","desCBC");Lt("1.3.14.3.2.26","sha1");Lt("1.3.14.3.2.29","sha1WithRSASignature");Lt("2.16.840.1.101.3.4.2.1","sha256");Lt("2.16.840.1.101.3.4.2.2","sha384");Lt("2.16.840.1.101.3.4.2.3","sha512");Lt("2.16.840.1.101.3.4.2.4","sha224");Lt("2.16.840.1.101.3.4.2.5","sha512-224");Lt("2.16.840.1.101.3.4.2.6","sha512-256");Lt("1.2.840.113549.2.2","md2");Lt("1.2.840.113549.2.5","md5");Lt("1.2.840.113549.1.7.1","data");Lt("1.2.840.113549.1.7.2","signedData");Lt("1.2.840.113549.1.7.3","envelopedData");Lt("1.2.840.113549.1.7.4","signedAndEnvelopedData");Lt("1.2.840.113549.1.7.5","digestedData");Lt("1.2.840.113549.1.7.6","encryptedData");Lt("1.2.840.113549.1.9.1","emailAddress");Lt("1.2.840.113549.1.9.2","unstructuredName");Lt("1.2.840.113549.1.9.3","contentType");Lt("1.2.840.113549.1.9.4","messageDigest");Lt("1.2.840.113549.1.9.5","signingTime");Lt("1.2.840.113549.1.9.6","counterSignature");Lt("1.2.840.113549.1.9.7","challengePassword");Lt("1.2.840.113549.1.9.8","unstructuredAddress");Lt("1.2.840.113549.1.9.14","extensionRequest");Lt("1.2.840.113549.1.9.20","friendlyName");Lt("1.2.840.113549.1.9.21","localKeyId");Lt("1.2.840.113549.1.9.22.1","x509Certificate");Lt("1.2.840.113549.1.12.10.1.1","keyBag");Lt("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");Lt("1.2.840.113549.1.12.10.1.3","certBag");Lt("1.2.840.113549.1.12.10.1.4","crlBag");Lt("1.2.840.113549.1.12.10.1.5","secretBag");Lt("1.2.840.113549.1.12.10.1.6","safeContentsBag");Lt("1.2.840.113549.1.5.13","pkcs5PBES2");Lt("1.2.840.113549.1.5.12","pkcs5PBKDF2");Lt("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");Lt("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");Lt("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");Lt("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");Lt("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");Lt("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");Lt("1.2.840.113549.2.7","hmacWithSHA1");Lt("1.2.840.113549.2.8","hmacWithSHA224");Lt("1.2.840.113549.2.9","hmacWithSHA256");Lt("1.2.840.113549.2.10","hmacWithSHA384");Lt("1.2.840.113549.2.11","hmacWithSHA512");Lt("1.2.840.113549.3.7","des-EDE3-CBC");Lt("2.16.840.1.101.3.4.1.2","aes128-CBC");Lt("2.16.840.1.101.3.4.1.22","aes192-CBC");Lt("2.16.840.1.101.3.4.1.42","aes256-CBC");Lt("2.5.4.3","commonName");Lt("2.5.4.4","surname");Lt("2.5.4.5","serialNumber");Lt("2.5.4.6","countryName");Lt("2.5.4.7","localityName");Lt("2.5.4.8","stateOrProvinceName");Lt("2.5.4.9","streetAddress");Lt("2.5.4.10","organizationName");Lt("2.5.4.11","organizationalUnitName");Lt("2.5.4.12","title");Lt("2.5.4.13","description");Lt("2.5.4.15","businessCategory");Lt("2.5.4.17","postalCode");Lt("2.5.4.42","givenName");Lt("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");Lt("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");Lt("2.16.840.1.113730.1.1","nsCertType");Lt("2.16.840.1.113730.1.13","nsComment");fo("2.5.29.1","authorityKeyIdentifier");fo("2.5.29.2","keyAttributes");fo("2.5.29.3","certificatePolicies");fo("2.5.29.4","keyUsageRestriction");fo("2.5.29.5","policyMapping");fo("2.5.29.6","subtreesConstraint");fo("2.5.29.7","subjectAltName");fo("2.5.29.8","issuerAltName");fo("2.5.29.9","subjectDirectoryAttributes");fo("2.5.29.10","basicConstraints");fo("2.5.29.11","nameConstraints");fo("2.5.29.12","policyConstraints");fo("2.5.29.13","basicConstraints");Lt("2.5.29.14","subjectKeyIdentifier");Lt("2.5.29.15","keyUsage");fo("2.5.29.16","privateKeyUsagePeriod");Lt("2.5.29.17","subjectAltName");Lt("2.5.29.18","issuerAltName");Lt("2.5.29.19","basicConstraints");fo("2.5.29.20","cRLNumber");fo("2.5.29.21","cRLReason");fo("2.5.29.22","expirationDate");fo("2.5.29.23","instructionCode");fo("2.5.29.24","invalidityDate");fo("2.5.29.25","cRLDistributionPoints");fo("2.5.29.26","issuingDistributionPoint");fo("2.5.29.27","deltaCRLIndicator");fo("2.5.29.28","issuingDistributionPoint");fo("2.5.29.29","certificateIssuer");fo("2.5.29.30","nameConstraints");Lt("2.5.29.31","cRLDistributionPoints");Lt("2.5.29.32","certificatePolicies");fo("2.5.29.33","policyMappings");fo("2.5.29.34","policyConstraints");Lt("2.5.29.35","authorityKeyIdentifier");fo("2.5.29.36","policyConstraints");Lt("2.5.29.37","extKeyUsage");fo("2.5.29.46","freshestCRL");fo("2.5.29.54","inhibitAnyPolicy");Lt("1.3.6.1.4.1.11129.2.4.2","timestampList");Lt("1.3.6.1.5.5.7.1.1","authorityInfoAccess");Lt("1.3.6.1.5.5.7.3.1","serverAuth");Lt("1.3.6.1.5.5.7.3.2","clientAuth");Lt("1.3.6.1.5.5.7.3.3","codeSigning");Lt("1.3.6.1.5.5.7.3.4","emailProtection");Lt("1.3.6.1.5.5.7.3.8","timeStamping")});var Hm=V((GOr,ySe)=>{d();var is=Jn();Ki();ny();var Ar=ySe.exports=is.asn1=is.asn1||{};Ar.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};Ar.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};Ar.create=function(e,t,r,n,i){if(is.util.isArray(n)){for(var s=[],a=0;a<n.length;++a)n[a]!==void 0&&s.push(n[a]);n=s}var l={tagClass:e,type:t,constructed:r,composed:r||is.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(l.bitStringContents=i.bitStringContents,l.original=Ar.copy(l)),l};Ar.copy=function(e,t){var r;if(is.util.isArray(e)){r=[];for(var n=0;n<e.length;++n)r.push(Ar.copy(e[n],t));return r}return typeof e=="string"?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:Ar.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)};Ar.equals=function(e,t,r){if(is.util.isArray(e)){if(!is.util.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!Ar.equals(e[n],t[n]))return!1;return!0}if(typeof e!=typeof t)return!1;if(typeof e=="string")return e===t;var i=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&Ar.equals(e.value,t.value);return r&&r.includeBitStringContents&&(i=i&&e.bitStringContents===t.bitStringContents),i};Ar.getBerValueLength=function(e){var t=e.getByte();if(t!==128){var r,n=t&128;return n?r=e.getInt((t&127)<<3):r=t,r}};function Kw(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}o(Kw,"_checkBufferLength");var PCt=o(function(e,t){var r=e.getByte();if(t--,r!==128){var n,i=r&128;if(!i)n=r;else{var s=r&127;Kw(e,t,s),n=e.getInt(s<<3)}if(n<0)throw new Error("Negative length: "+n);return n}},"_getValueLength");Ar.fromDer=function(e,t){t===void 0&&(t={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof t=="boolean"&&(t={strict:t,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"parseAllBytes"in t||(t.parseAllBytes=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),typeof e=="string"&&(e=is.util.createBuffer(e));var r=e.length(),n=FO(e,e.length(),0,t);if(t.parseAllBytes&&e.length()!==0){var i=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw i.byteCount=r,i.remaining=e.length(),i}return n};function FO(e,t,r,n){var i;Kw(e,t,2);var s=e.getByte();t--;var a=s&192,l=s&31;i=e.length();var c=PCt(e,t);if(t-=i-e.length(),c!==void 0&&c>t){if(n.strict){var u=new Error("Too few bytes to read ASN.1 value.");throw u.available=e.length(),u.remaining=t,u.requested=c,u}c=t}var f,m,h=(s&32)===32;if(h)if(f=[],c===void 0)for(;;){if(Kw(e,t,2),e.bytes(2)==="\0\0"){e.getBytes(2),t-=2;break}i=e.length(),f.push(FO(e,t,r+1,n)),t-=i-e.length()}else for(;c>0;)i=e.length(),f.push(FO(e,c,r+1,n)),t-=i-e.length(),c-=i-e.length();if(f===void 0&&a===Ar.Class.UNIVERSAL&&l===Ar.Type.BITSTRING&&(m=e.bytes(c)),f===void 0&&n.decodeBitStrings&&a===Ar.Class.UNIVERSAL&&l===Ar.Type.BITSTRING&&c>1){var p=e.read,A=t,E=0;if(l===Ar.Type.BITSTRING&&(Kw(e,t,1),E=e.getByte(),t--),E===0)try{i=e.length();var x={strict:!0,decodeBitStrings:!0},b=FO(e,t,r+1,x),v=i-e.length();t-=v,l==Ar.Type.BITSTRING&&v++;var S=b.tagClass;v===c&&(S===Ar.Class.UNIVERSAL||S===Ar.Class.CONTEXT_SPECIFIC)&&(f=[b])}catch{}f===void 0&&(e.read=p,t=A)}if(f===void 0){if(c===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");c=t}if(l===Ar.Type.BMPSTRING)for(f="";c>0;c-=2)Kw(e,t,2),f+=String.fromCharCode(e.getInt16()),t-=2;else f=e.getBytes(c),t-=c}var k=m===void 0?null:{bitStringContents:m};return Ar.create(a,l,h,f,k)}o(FO,"_fromDer");Ar.toDer=function(e){var t=is.util.createBuffer(),r=e.tagClass|e.type,n=is.util.createBuffer(),i=!1;if("bitStringContents"in e&&(i=!0,e.original&&(i=Ar.equals(e,e.original))),i)n.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:n.putByte(0);for(var s=0;s<e.value.length;++s)e.value[s]!==void 0&&n.putBuffer(Ar.toDer(e.value[s]))}else if(e.type===Ar.Type.BMPSTRING)for(var s=0;s<e.value.length;++s)n.putInt16(e.value.charCodeAt(s));else e.type===Ar.Type.INTEGER&&e.value.length>1&&(e.value.charCodeAt(0)===0&&(e.value.charCodeAt(1)&128)===0||e.value.charCodeAt(0)===255&&(e.value.charCodeAt(1)&128)===128)?n.putBytes(e.value.substr(1)):n.putBytes(e.value);if(t.putByte(r),n.length()<=127)t.putByte(n.length()&127);else{var a=n.length(),l="";do l+=String.fromCharCode(a&255),a=a>>>8;while(a>0);t.putByte(l.length|128);for(var s=l.length-1;s>=0;--s)t.putByte(l.charCodeAt(s))}return t.putBuffer(n),t};Ar.oidToDer=function(e){var t=e.split("."),r=is.util.createBuffer();r.putByte(40*parseInt(t[0],10)+parseInt(t[1],10));for(var n,i,s,a,l=2;l<t.length;++l){n=!0,i=[],s=parseInt(t[l],10);do a=s&127,s=s>>>7,n||(a|=128),i.push(a),n=!1;while(s>0);for(var c=i.length-1;c>=0;--c)r.putByte(i[c])}return r};Ar.derToOid=function(e){var t;typeof e=="string"&&(e=is.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var n=0;e.length()>0;)r=e.getByte(),n=n<<7,r&128?n+=r&127:(t+="."+(n+r),n=0);return t};Ar.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,i=parseInt(e.substr(4,2),10),s=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),l=0;if(e.length>11){var c=e.charAt(10),u=10;c!=="+"&&c!=="-"&&(l=parseInt(e.substr(10,2),10),u+=2)}if(t.setUTCFullYear(r,n,i),t.setUTCHours(s,a,l,0),u&&(c=e.charAt(u),c==="+"||c==="-")){var f=parseInt(e.substr(u+1,2),10),m=parseInt(e.substr(u+4,2),10),h=f*60+m;h*=6e4,c==="+"?t.setTime(+t-h):t.setTime(+t+h)}return t};Ar.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,i=parseInt(e.substr(6,2),10),s=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),l=parseInt(e.substr(12,2),10),c=0,u=0,f=!1;e.charAt(e.length-1)==="Z"&&(f=!0);var m=e.length-5,h=e.charAt(m);if(h==="+"||h==="-"){var p=parseInt(e.substr(m+1,2),10),A=parseInt(e.substr(m+4,2),10);u=p*60+A,u*=6e4,h==="+"&&(u*=-1),f=!0}return e.charAt(14)==="."&&(c=parseFloat(e.substr(14),10)*1e3),f?(t.setUTCFullYear(r,n,i),t.setUTCHours(s,a,l,c),t.setTime(+t+u)):(t.setFullYear(r,n,i),t.setHours(s,a,l,c)),t};Ar.dateToUtcTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};Ar.dateToGeneralizedTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};Ar.integerToDer=function(e){var t=is.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r};Ar.derToInteger=function(e){typeof e=="string"&&(e=is.util.createBuffer(e));var t=e.length()*8;if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)};Ar.validate=function(e,t,r,n){var i=!1;if((e.tagClass===t.tagClass||typeof t.tagClass>"u")&&(e.type===t.type||typeof t.type>"u"))if(e.constructed===t.constructed||typeof t.constructed>"u"){if(i=!0,t.value&&is.util.isArray(t.value))for(var s=0,a=0;i&&a<t.value.length;++a)i=t.value[a].optional||!1,e.value[s]&&(i=Ar.validate(e.value[s],t.value[a],r,n),i?++s:t.value[a].optional&&(i=!0)),!i&&n&&n.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(i&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)){var l;if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{var c=e.bitStringContents.charCodeAt(0);if(c!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}}else n&&n.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');else n&&(e.tagClass!==t.tagClass&&n.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&n.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));return i};var ASe=/[^\\u0000-\\u00ff]/;Ar.prettyPrint=function(e,t,r){var n="";t=t||0,r=r||2,t>0&&(n+=`
`);for(var i="",s=0;s<t*r;++s)i+=" ";switch(n+=i+"Tag: ",e.tagClass){case Ar.Class.UNIVERSAL:n+="Universal:";break;case Ar.Class.APPLICATION:n+="Application:";break;case Ar.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case Ar.Class.PRIVATE:n+="Private:";break}if(e.tagClass===Ar.Class.UNIVERSAL)switch(n+=e.type,e.type){case Ar.Type.NONE:n+=" (None)";break;case Ar.Type.BOOLEAN:n+=" (Boolean)";break;case Ar.Type.INTEGER:n+=" (Integer)";break;case Ar.Type.BITSTRING:n+=" (Bit string)";break;case Ar.Type.OCTETSTRING:n+=" (Octet string)";break;case Ar.Type.NULL:n+=" (Null)";break;case Ar.Type.OID:n+=" (Object Identifier)";break;case Ar.Type.ODESC:n+=" (Object Descriptor)";break;case Ar.Type.EXTERNAL:n+=" (External or Instance of)";break;case Ar.Type.REAL:n+=" (Real)";break;case Ar.Type.ENUMERATED:n+=" (Enumerated)";break;case Ar.Type.EMBEDDED:n+=" (Embedded PDV)";break;case Ar.Type.UTF8:n+=" (UTF8)";break;case Ar.Type.ROID:n+=" (Relative Object Identifier)";break;case Ar.Type.SEQUENCE:n+=" (Sequence)";break;case Ar.Type.SET:n+=" (Set)";break;case Ar.Type.PRINTABLESTRING:n+=" (Printable String)";break;case Ar.Type.IA5String:n+=" (IA5String (ASCII))";break;case Ar.Type.UTCTIME:n+=" (UTC time)";break;case Ar.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case Ar.Type.BMPSTRING:n+=" (BMP String)";break}else n+=e.type;if(n+=`
`,n+=i+"Constructed: "+e.constructed+`
`,e.composed){for(var a=0,l="",s=0;s<e.value.length;++s)e.value[s]!==void 0&&(a+=1,l+=Ar.prettyPrint(e.value[s],t+1,r),s+1<e.value.length&&(l+=","));n+=i+"Sub values: "+a+l}else{if(n+=i+"Value: ",e.type===Ar.Type.OID){var c=Ar.derToOid(e.value);n+=c,is.pki&&is.pki.oids&&c in is.pki.oids&&(n+=" ("+is.pki.oids[c]+") ")}if(e.type===Ar.Type.INTEGER)try{n+=Ar.derToInteger(e.value)}catch{n+="0x"+is.util.bytesToHex(e.value)}else if(e.type===Ar.Type.BITSTRING){if(e.value.length>1?n+="0x"+is.util.bytesToHex(e.value.slice(1)):n+="(none)",e.value.length>0){var u=e.value.charCodeAt(0);u==1?n+=" (1 unused bit shown)":u>1&&(n+=" ("+u+" unused bits shown)")}}else if(e.type===Ar.Type.OCTETSTRING)ASe.test(e.value)||(n+="("+e.value+") "),n+="0x"+is.util.bytesToHex(e.value);else if(e.type===Ar.Type.UTF8)try{n+=is.util.decodeUtf8(e.value)}catch(f){if(f.message==="URI malformed")n+="0x"+is.util.bytesToHex(e.value)+" (malformed UTF8)";else throw f}else e.type===Ar.Type.PRINTABLESTRING||e.type===Ar.Type.IA5String?n+=e.value:ASe.test(e.value)?n+="0x"+is.util.bytesToHex(e.value):e.value.length===0?n+="[null]":n+=e.value}return n}});var Bp=V((VOr,CSe)=>{d();var LO=Jn();CSe.exports=LO.md=LO.md||{};LO.md.algorithms=LO.md.algorithms||{}});var n8=V(($Or,ESe)=>{d();var F1=Jn();Bp();Ki();var NCt=ESe.exports=F1.hmac=F1.hmac||{};NCt.create=function(){var e=null,t=null,r=null,n=null,i={};return i.start=function(s,a){if(s!==null)if(typeof s=="string")if(s=s.toLowerCase(),s in F1.md.algorithms)t=F1.md.algorithms[s].create();else throw new Error('Unknown hash algorithm "'+s+'"');else t=s;if(a===null)a=e;else{if(typeof a=="string")a=F1.util.createBuffer(a);else if(F1.util.isArray(a)){var l=a;a=F1.util.createBuffer();for(var c=0;c<l.length;++c)a.putByte(l[c])}var u=a.length();u>t.blockLength&&(t.start(),t.update(a.bytes()),a=t.digest()),r=F1.util.createBuffer(),n=F1.util.createBuffer(),u=a.length();for(var c=0;c<u;++c){var l=a.at(c);r.putByte(54^l),n.putByte(92^l)}if(u<t.blockLength)for(var l=t.blockLength-u,c=0;c<l;++c)r.putByte(54),n.putByte(92);e=a,r=r.bytes(),n=n.bytes()}t.start(),t.update(r)},i.update=function(s){t.update(s)},i.getMac=function(){var s=t.digest().bytes();return t.start(),t.update(n),t.update(s),t.digest()},i.digest=i.getMac,i}});var MO=V((YOr,ISe)=>{d();var kp=Jn();Bp();Ki();var vSe=ISe.exports=kp.md5=kp.md5||{};kp.md.md5=kp.md.algorithms.md5=vSe;vSe.create=function(){bSe||FCt();var e=null,t=kp.util.createBuffer(),r=new Array(16),n={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return t=kp.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=kp.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=a[1],a[1]=a[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),xSe(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=kp.util.createBuffer();i.putBytes(t.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=s&n.blockLength-1;i.putBytes(nie.substr(0,n.blockLength-a));for(var l,c=0,u=n.fullMessageLength.length-1;u>=0;--u)l=n.fullMessageLength[u]*8+c,c=l/4294967296>>>0,i.putInt32Le(l>>>0);var f={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};xSe(f,r,i);var m=kp.util.createBuffer();return m.putInt32Le(f.h0),m.putInt32Le(f.h1),m.putInt32Le(f.h2),m.putInt32Le(f.h3),m},n};var nie=null,QO=null,Jw=null,i8=null,bSe=!1;function FCt(){nie="\x80",nie+=kp.util.fillString("\0",64),QO=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],Jw=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],i8=new Array(64);for(var e=0;e<64;++e)i8[e]=Math.floor(Math.abs(Math.sin(e+1))*4294967296);bSe=!0}o(FCt,"_init");function xSe(e,t,r){for(var n,i,s,a,l,c,u,f,m=r.length();m>=64;){for(i=e.h0,s=e.h1,a=e.h2,l=e.h3,f=0;f<16;++f)t[f]=r.getInt32Le(),c=l^s&(a^l),n=i+c+i8[f]+t[f],u=Jw[f],i=l,l=a,a=s,s+=n<<u|n>>>32-u;for(;f<32;++f)c=a^l&(s^a),n=i+c+i8[f]+t[QO[f]],u=Jw[f],i=l,l=a,a=s,s+=n<<u|n>>>32-u;for(;f<48;++f)c=s^a^l,n=i+c+i8[f]+t[QO[f]],u=Jw[f],i=l,l=a,a=s,s+=n<<u|n>>>32-u;for(;f<64;++f)c=a^(s|~l),n=i+c+i8[f]+t[QO[f]],u=Jw[f],i=l,l=a,a=s,s+=n<<u|n>>>32-u;e.h0=e.h0+i|0,e.h1=e.h1+s|0,e.h2=e.h2+a|0,e.h3=e.h3+l|0,m-=64}}o(xSe,"_update")});var F4=V((XOr,wSe)=>{d();var UO=Jn();Ki();var TSe=wSe.exports=UO.pem=UO.pem||{};TSe.encode=function(e,t){t=t||{};var r="-----BEGIN "+e.type+`-----\r
`,n;if(e.procType&&(n={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]},r+=OO(n)),e.contentDomain&&(n={name:"Content-Domain",values:[e.contentDomain]},r+=OO(n)),e.dekInfo&&(n={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&n.values.push(e.dekInfo.parameters),r+=OO(n)),e.headers)for(var i=0;i<e.headers.length;++i)r+=OO(e.headers[i]);return e.procType&&(r+=`\r
`),r+=UO.util.encode64(e.body,t.maxline||64)+`\r
`,r+="-----END "+e.type+`-----\r
`,r};TSe.decode=function(e){for(var t=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,s;s=r.exec(e),!!s;){var a=s[1];a==="NEW CERTIFICATE REQUEST"&&(a="CERTIFICATE REQUEST");var l={type:a,procType:null,contentDomain:null,dekInfo:null,headers:[],body:UO.util.decode64(s[3])};if(t.push(l),!!s[2]){for(var c=s[2].split(i),u=0;s&&u<c.length;){for(var f=c[u].replace(/\s+$/,""),m=u+1;m<c.length;++m){var h=c[m];if(!/\s/.test(h[0]))break;f+=h,u=m}if(s=f.match(n),s){for(var p={name:s[1],values:[]},A=s[2].split(","),E=0;E<A.length;++E)p.values.push(LCt(A[E]));if(l.procType)if(!l.contentDomain&&p.name==="Content-Domain")l.contentDomain=A[0]||"";else if(!l.dekInfo&&p.name==="DEK-Info"){if(p.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');l.dekInfo={algorithm:A[0],parameters:A[1]||null}}else l.headers.push(p);else{if(p.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(p.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');l.procType={version:A[0],type:A[1]}}}++u}if(l.procType==="ENCRYPTED"&&!l.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(t.length===0)throw new Error("Invalid PEM formatted message.");return t};function OO(e){for(var t=e.name+": ",r=[],n=o(function(c,u){return" "+u},"insertSpace"),i=0;i<e.values.length;++i)r.push(e.values[i].replace(/^(\S+\r\n)/,n));t+=r.join(",")+`\r
`;for(var s=0,a=-1,i=0;i<t.length;++i,++s)if(s>65&&a!==-1){var l=t[a];l===","?(++a,t=t.substr(0,a)+`\r
 `+t.substr(a)):t=t.substr(0,a)+`\r
`+l+t.substr(a+1),s=i-a-1,a=-1,++i}else(t[i]===" "||t[i]==="	"||t[i]===",")&&(a=i);return t}o(OO,"foldHeader");function LCt(e){return e.replace(/^\s+/,"")}o(LCt,"ltrim")});var Xw=V((tUr,SSe)=>{d();var bs=Jn();RO();Xne();Ki();SSe.exports=bs.des=bs.des||{};bs.des.startEncrypting=function(e,t,r,n){var i=qO({key:e,output:r,decrypt:!1,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};bs.des.createEncryptionCipher=function(e,t){return qO({key:e,output:null,decrypt:!1,mode:t})};bs.des.startDecrypting=function(e,t,r,n){var i=qO({key:e,output:r,decrypt:!0,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};bs.des.createDecryptionCipher=function(e,t){return qO({key:e,output:null,decrypt:!0,mode:t})};bs.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:o(function(n,i){return _Se(r._keys,n,i,!1)},"encrypt"),decrypt:o(function(n,i){return _Se(r._keys,n,i,!0)},"decrypt")}}),r._init=!1};bs.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=bs.util.createBuffer(e.key);if(this.name.indexOf("3DES")===0&&t.length()!==24)throw new Error("Invalid Triple-DES key size: "+t.length()*8);this._keys=VCt(t),this._init=!0}};Rp("DES-ECB",bs.cipher.modes.ecb);Rp("DES-CBC",bs.cipher.modes.cbc);Rp("DES-CFB",bs.cipher.modes.cfb);Rp("DES-OFB",bs.cipher.modes.ofb);Rp("DES-CTR",bs.cipher.modes.ctr);Rp("3DES-ECB",bs.cipher.modes.ecb);Rp("3DES-CBC",bs.cipher.modes.cbc);Rp("3DES-CFB",bs.cipher.modes.cfb);Rp("3DES-OFB",bs.cipher.modes.ofb);Rp("3DES-CTR",bs.cipher.modes.ctr);function Rp(e,t){var r=o(function(){return new bs.des.Algorithm(e,t)},"factory");bs.cipher.registerAlgorithm(e,r)}o(Rp,"registerAlgorithm");var QCt=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],MCt=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],OCt=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],UCt=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],qCt=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],GCt=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],WCt=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],HCt=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function VCt(e){for(var t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],s=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],l=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],f=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],m=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],h=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],p=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],A=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],E=e.length()>8?3:1,x=[],b=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],v=0,S,k=0;k<E;k++){var P=e.getInt32(),N=e.getInt32();S=(P>>>4^N)&252645135,N^=S,P^=S<<4,S=(N>>>-16^P)&65535,P^=S,N^=S<<-16,S=(P>>>2^N)&858993459,N^=S,P^=S<<2,S=(N>>>-16^P)&65535,P^=S,N^=S<<-16,S=(P>>>1^N)&1431655765,N^=S,P^=S<<1,S=(N>>>8^P)&16711935,P^=S,N^=S<<8,S=(P>>>1^N)&1431655765,N^=S,P^=S<<1,S=P<<8|N>>>20&240,P=N<<24|N<<8&16711680|N>>>8&65280|N>>>24&240,N=S;for(var W=0;W<b.length;++W){b[W]?(P=P<<2|P>>>26,N=N<<2|N>>>26):(P=P<<1|P>>>27,N=N<<1|N>>>27),P&=-15,N&=-15;var re=t[P>>>28]|r[P>>>24&15]|n[P>>>20&15]|i[P>>>16&15]|s[P>>>12&15]|a[P>>>8&15]|l[P>>>4&15],ge=c[N>>>28]|u[N>>>24&15]|f[N>>>20&15]|m[N>>>16&15]|h[N>>>12&15]|p[N>>>8&15]|A[N>>>4&15];S=(ge>>>16^re)&65535,x[v++]=re^S,x[v++]=ge^S<<16}}return x}o(VCt,"_createKeys");function _Se(e,t,r,n){var i=e.length===32?3:9,s;i===3?s=n?[30,-2,-2]:[0,32,2]:s=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var a,l=t[0],c=t[1];a=(l>>>4^c)&252645135,c^=a,l^=a<<4,a=(l>>>16^c)&65535,c^=a,l^=a<<16,a=(c>>>2^l)&858993459,l^=a,c^=a<<2,a=(c>>>8^l)&16711935,l^=a,c^=a<<8,a=(l>>>1^c)&1431655765,c^=a,l^=a<<1,l=l<<1|l>>>31,c=c<<1|c>>>31;for(var u=0;u<i;u+=3){for(var f=s[u+1],m=s[u+2],h=s[u];h!=f;h+=m){var p=c^e[h],A=(c>>>4|c<<28)^e[h+1];a=l,l=c,c=a^(MCt[p>>>24&63]|UCt[p>>>16&63]|GCt[p>>>8&63]|HCt[p&63]|QCt[A>>>24&63]|OCt[A>>>16&63]|qCt[A>>>8&63]|WCt[A&63])}a=l,l=c,c=a}l=l>>>1|l<<31,c=c>>>1|c<<31,a=(l>>>1^c)&1431655765,c^=a,l^=a<<1,a=(c>>>8^l)&16711935,l^=a,c^=a<<8,a=(c>>>2^l)&858993459,l^=a,c^=a<<2,a=(l>>>16^c)&65535,c^=a,l^=a<<16,a=(l>>>4^c)&252645135,c^=a,l^=a<<4,r[0]=l,r[1]=c}o(_Se,"_updateBlock");function qO(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="DES-"+t,n;e.decrypt?n=bs.cipher.createDecipher(r,e.key):n=bs.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(s,a){var l=null;a instanceof bs.util.ByteBuffer&&(l=a,a={}),a=a||{},a.output=l,a.iv=s,i.call(n,a)},n}o(qO,"_createCipher")});var GO=V((iUr,BSe)=>{d();var V0=Jn();n8();Bp();Ki();var jCt=V0.pkcs5=V0.pkcs5||{},L1;V0.util.isNodejs&&!V0.options.usePureJavaScript&&(L1=require("crypto"));BSe.exports=V0.pbkdf2=jCt.pbkdf2=function(e,t,r,n,i,s){if(typeof i=="function"&&(s=i,i=null),V0.util.isNodejs&&!V0.options.usePureJavaScript&&L1.pbkdf2&&(i===null||typeof i!="object")&&(L1.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),s?L1.pbkdf2Sync.length===4?L1.pbkdf2(e,t,r,n,function(S,k){if(S)return s(S);s(null,k.toString("binary"))}):L1.pbkdf2(e,t,r,n,i,function(S,k){if(S)return s(S);s(null,k.toString("binary"))}):L1.pbkdf2Sync.length===4?L1.pbkdf2Sync(e,t,r,n).toString("binary"):L1.pbkdf2Sync(e,t,r,n,i).toString("binary");if((typeof i>"u"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in V0.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=V0.md[i].create()}var a=i.digestLength;if(n>4294967295*a){var l=new Error("Derived key is too long.");if(s)return s(l);throw l}var c=Math.ceil(n/a),u=n-(c-1)*a,f=V0.hmac.create();f.start(i,e);var m="",h,p,A;if(!s){for(var E=1;E<=c;++E){f.start(null,null),f.update(t),f.update(V0.util.int32ToBytes(E)),h=A=f.digest().getBytes();for(var x=2;x<=r;++x)f.start(null,null),f.update(A),p=f.digest().getBytes(),h=V0.util.xorBytes(h,p,a),A=p;m+=E<c?h:h.substr(0,u)}return m}var E=1,x;function b(){if(E>c)return s(null,m);f.start(null,null),f.update(t),f.update(V0.util.int32ToBytes(E)),h=A=f.digest().getBytes(),x=2,v()}o(b,"outer");function v(){if(x<=r)return f.start(null,null),f.update(A),p=f.digest().getBytes(),h=V0.util.xorBytes(h,p,a),A=p,++x,V0.util.setImmediate(v);m+=E<c?h:h.substr(0,u),++E,b()}o(v,"inner"),b()}});var oie=V((aUr,NSe)=>{d();var Dp=Jn();Bp();Ki();var RSe=NSe.exports=Dp.sha256=Dp.sha256||{};Dp.md.sha256=Dp.md.algorithms.sha256=RSe;RSe.create=function(){DSe||$Ct();var e=null,t=Dp.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return t=Dp.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=Dp.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=a[1],a[1]=a[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),kSe(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=Dp.util.createBuffer();i.putBytes(t.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=s&n.blockLength-1;i.putBytes(iie.substr(0,n.blockLength-a));for(var l,c,u=n.fullMessageLength[0]*8,f=0;f<n.fullMessageLength.length-1;++f)l=n.fullMessageLength[f+1]*8,c=l/4294967296>>>0,u+=c,i.putInt32(u>>>0),u=l>>>0;i.putInt32(u);var m={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};kSe(m,r,i);var h=Dp.util.createBuffer();return h.putInt32(m.h0),h.putInt32(m.h1),h.putInt32(m.h2),h.putInt32(m.h3),h.putInt32(m.h4),h.putInt32(m.h5),h.putInt32(m.h6),h.putInt32(m.h7),h},n};var iie=null,DSe=!1,PSe=null;function $Ct(){iie="\x80",iie+=Dp.util.fillString("\0",64),PSe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],DSe=!0}o($Ct,"_init");function kSe(e,t,r){for(var n,i,s,a,l,c,u,f,m,h,p,A,E,x,b,v=r.length();v>=64;){for(u=0;u<16;++u)t[u]=r.getInt32();for(;u<64;++u)n=t[u-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=t[u-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[u]=n+t[u-7]+i+t[u-16]|0;for(f=e.h0,m=e.h1,h=e.h2,p=e.h3,A=e.h4,E=e.h5,x=e.h6,b=e.h7,u=0;u<64;++u)a=(A>>>6|A<<26)^(A>>>11|A<<21)^(A>>>25|A<<7),l=x^A&(E^x),s=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),c=f&m|h&(f^m),n=b+a+l+PSe[u]+t[u],i=s+c,b=x,x=E,E=A,A=p+n>>>0,p=h,h=m,m=f,f=n+i>>>0;e.h0=e.h0+f|0,e.h1=e.h1+m|0,e.h2=e.h2+h|0,e.h3=e.h3+p|0,e.h4=e.h4+A|0,e.h5=e.h5+E|0,e.h6=e.h6+x|0,e.h7=e.h7+b|0,v-=64}}o(kSe,"_update")});var sie=V((uUr,FSe)=>{d();var Pp=Jn();Ki();var WO=null;Pp.util.isNodejs&&!Pp.options.usePureJavaScript&&!process.versions["node-webkit"]&&(WO=require("crypto"));var zCt=FSe.exports=Pp.prng=Pp.prng||{};zCt.create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();t.pools=n,t.pool=0,t.generate=function(u,f){if(!f)return t.generateSync(u);var m=t.plugin.cipher,h=t.plugin.increment,p=t.plugin.formatKey,A=t.plugin.formatSeed,E=Pp.util.createBuffer();t.key=null,x();function x(b){if(b)return f(b);if(E.length()>=u)return f(null,E.getBytes(u));if(t.generated>1048575&&(t.key=null),t.key===null)return Pp.util.nextTick(function(){s(x)});var v=m(t.key,t.seed);t.generated+=v.length,E.putBytes(v),t.key=p(m(t.key,h(t.seed))),t.seed=A(m(t.key,t.seed)),Pp.util.setImmediate(x)}o(x,"generate")},t.generateSync=function(u){var f=t.plugin.cipher,m=t.plugin.increment,h=t.plugin.formatKey,p=t.plugin.formatSeed;t.key=null;for(var A=Pp.util.createBuffer();A.length()<u;){t.generated>1048575&&(t.key=null),t.key===null&&a();var E=f(t.key,t.seed);t.generated+=E.length,A.putBytes(E),t.key=h(f(t.key,m(t.seed))),t.seed=p(f(t.key,t.seed))}return A.getBytes(u)};function s(u){if(t.pools[0].messageLength>=32)return l(),u();var f=32-t.pools[0].messageLength<<5;t.seedFile(f,function(m,h){if(m)return u(m);t.collect(h),l(),u()})}o(s,"_reseed");function a(){if(t.pools[0].messageLength>=32)return l();var u=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(u)),l()}o(a,"_reseedSync");function l(){t.reseeds=t.reseeds===4294967295?0:t.reseeds+1;var u=t.plugin.md.create();u.update(t.keyBytes);for(var f=1,m=0;m<32;++m)t.reseeds%f===0&&(u.update(t.pools[m].digest().getBytes()),t.pools[m].start()),f=f<<1;t.keyBytes=u.digest().getBytes(),u.start(),u.update(t.keyBytes);var h=u.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(h),t.generated=0}o(l,"_seed");function c(u){var f=null,m=Pp.util.globalScope,h=m.crypto||m.msCrypto;h&&h.getRandomValues&&(f=o(function(P){return h.getRandomValues(P)},"getRandomValues"));var p=Pp.util.createBuffer();if(f)for(;p.length()<u;){var A=Math.max(1,Math.min(u-p.length(),65536)/4),E=new Uint32Array(Math.floor(A));try{f(E);for(var x=0;x<E.length;++x)p.putInt32(E[x])}catch(P){if(!(typeof QuotaExceededError<"u"&&P instanceof QuotaExceededError))throw P}}if(p.length()<u)for(var b,v,S,k=Math.floor(Math.random()*65536);p.length()<u;){v=16807*(k&65535),b=16807*(k>>16),v+=(b&32767)<<16,v+=b>>15,v=(v&2147483647)+(v>>31),k=v&4294967295;for(var x=0;x<3;++x)S=k>>>(x<<3),S^=Math.floor(Math.random()*256),p.putByte(S&255)}return p.getBytes(u)}return o(c,"defaultSeedFile"),WO?(t.seedFile=function(u,f){WO.randomBytes(u,function(m,h){if(m)return f(m);f(null,h.toString())})},t.seedFileSync=function(u){return WO.randomBytes(u).toString()}):(t.seedFile=function(u,f){try{f(null,c(u))}catch(m){f(m)}},t.seedFileSync=c),t.collect=function(u){for(var f=u.length,m=0;m<f;++m)t.pools[t.pool].update(u.substr(m,1)),t.pool=t.pool===31?0:t.pool+1},t.collectInt=function(u,f){for(var m="",h=0;h<f;h+=8)m+=String.fromCharCode(u>>h&255);t.collect(m)},t.registerWorker=function(u){if(u===self)t.seedFile=function(m,h){function p(A){var E=A.data;E.forge&&E.forge.prng&&(self.removeEventListener("message",p),h(E.forge.prng.err,E.forge.prng.bytes))}o(p,"listener"),self.addEventListener("message",p),self.postMessage({forge:{prng:{needed:m}}})};else{var f=o(function(m){var h=m.data;h.forge&&h.forge.prng&&t.seedFile(h.forge.prng.needed,function(p,A){u.postMessage({forge:{prng:{err:p,bytes:A}}})})},"listener");u.addEventListener("message",f)}},t}});var pd=V((mUr,aie)=>{d();var xl=Jn();ry();oie();sie();Ki();(function(){if(xl.random&&xl.random.getBytes){aie.exports=xl.random;return}(function(e){var t={},r=new Array(4),n=xl.util.createBuffer();t.formatKey=function(m){var h=xl.util.createBuffer(m);return m=new Array(4),m[0]=h.getInt32(),m[1]=h.getInt32(),m[2]=h.getInt32(),m[3]=h.getInt32(),xl.aes._expandKey(m,!1)},t.formatSeed=function(m){var h=xl.util.createBuffer(m);return m=new Array(4),m[0]=h.getInt32(),m[1]=h.getInt32(),m[2]=h.getInt32(),m[3]=h.getInt32(),m},t.cipher=function(m,h){return xl.aes._updateBlock(m,h,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},t.increment=function(m){return++m[3],m},t.md=xl.md.sha256;function i(){var m=xl.prng.create(t);return m.getBytes=function(h,p){return m.generate(h,p)},m.getBytesSync=function(h){return m.generate(h)},m}o(i,"spawnPrng");var s=i(),a=null,l=xl.util.globalScope,c=l.crypto||l.msCrypto;if(c&&c.getRandomValues&&(a=o(function(m){return c.getRandomValues(m)},"getRandomValues")),xl.options.usePureJavaScript||!xl.util.isNodejs&&!a){if(typeof window>"u"||window.document,s.collectInt(+new Date,32),typeof navigator<"u"){var u="";for(var f in navigator)try{typeof navigator[f]=="string"&&(u+=navigator[f])}catch{}s.collect(u),u=null}e&&(e().mousemove(function(m){s.collectInt(m.clientX,16),s.collectInt(m.clientY,16)}),e().keypress(function(m){s.collectInt(m.charCode,8)}))}if(!xl.random)xl.random=s;else for(var f in s)xl.random[f]=s[f];xl.random.createInstance=i,aie.exports=xl.random})(typeof jQuery<"u"?jQuery:null)})()});var cie=V((gUr,MSe)=>{d();var Uc=Jn();Ki();var lie=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],LSe=[1,2,3,5],YCt=o(function(e,t){return e<<t&65535|(e&65535)>>16-t},"rol"),KCt=o(function(e,t){return(e&65535)>>t|e<<16-t&65535},"ror");MSe.exports=Uc.rc2=Uc.rc2||{};Uc.rc2.expandKey=function(e,t){typeof e=="string"&&(e=Uc.util.createBuffer(e)),t=t||128;var r=e,n=e.length(),i=t,s=Math.ceil(i/8),a=255>>(i&7),l;for(l=n;l<128;l++)r.putByte(lie[r.at(l-1)+r.at(l-n)&255]);for(r.setAt(128-s,lie[r.at(128-s)&a]),l=127-s;l>=0;l--)r.setAt(l,lie[r.at(l+1)^r.at(l+s)]);return r};var QSe=o(function(e,t,r){var n=!1,i=null,s=null,a=null,l,c,u,f,m=[];for(e=Uc.rc2.expandKey(e,t),u=0;u<64;u++)m.push(e.getInt16Le());r?(l=o(function(A){for(u=0;u<4;u++)A[u]+=m[f]+(A[(u+3)%4]&A[(u+2)%4])+(~A[(u+3)%4]&A[(u+1)%4]),A[u]=YCt(A[u],LSe[u]),f++},"mixRound"),c=o(function(A){for(u=0;u<4;u++)A[u]+=m[A[(u+3)%4]&63]},"mashRound")):(l=o(function(A){for(u=3;u>=0;u--)A[u]=KCt(A[u],LSe[u]),A[u]-=m[f]+(A[(u+3)%4]&A[(u+2)%4])+(~A[(u+3)%4]&A[(u+1)%4]),f--},"mixRound"),c=o(function(A){for(u=3;u>=0;u--)A[u]-=m[A[(u+3)%4]&63]},"mashRound"));var h=o(function(A){var E=[];for(u=0;u<4;u++){var x=i.getInt16Le();a!==null&&(r?x^=a.getInt16Le():a.putInt16Le(x)),E.push(x&65535)}f=r?0:63;for(var b=0;b<A.length;b++)for(var v=0;v<A[b][0];v++)A[b][1](E);for(u=0;u<4;u++)a!==null&&(r?a.putInt16Le(E[u]):E[u]^=a.getInt16Le()),s.putInt16Le(E[u])},"runPlan"),p=null;return p={start:o(function(A,E){A&&typeof A=="string"&&(A=Uc.util.createBuffer(A)),n=!1,i=Uc.util.createBuffer(),s=E||new Uc.util.createBuffer,a=A,p.output=s},"start"),update:o(function(A){for(n||i.putBuffer(A);i.length()>=8;)h([[5,l],[1,c],[6,l],[1,c],[5,l]])},"update"),finish:o(function(A){var E=!0;if(r)if(A)E=A(8,i,!r);else{var x=i.length()===8?8:8-i.length();i.fillWithByte(x,x)}if(E&&(n=!0,p.update()),!r&&(E=i.length()===0,E))if(A)E=A(8,s,!r);else{var b=s.length(),v=s.at(b-1);v>b?E=!1:s.truncate(v)}return E},"finish")},p},"createCipher");Uc.rc2.startEncrypting=function(e,t,r){var n=Uc.rc2.createEncryptionCipher(e,128);return n.start(t,r),n};Uc.rc2.createEncryptionCipher=function(e,t){return QSe(e,t,!0)};Uc.rc2.startDecrypting=function(e,t,r){var n=Uc.rc2.createDecryptionCipher(e,128);return n.start(t,r),n};Uc.rc2.createDecryptionCipher=function(e,t){return QSe(e,t,!1)}});var e_=V((CUr,jSe)=>{d();var uie=Jn();jSe.exports=uie.jsbn=uie.jsbn||{};var Q1,JCt=0xdeadbeefcafe,OSe=(JCt&16777215)==15715070;function Bt(e,t,r){this.data=[],e!=null&&(typeof e=="number"?this.fromNumber(e,t,r):t==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,t))}o(Bt,"BigInteger");uie.jsbn.BigInteger=Bt;function Ji(){return new Bt(null)}o(Ji,"nbi");function XCt(e,t,r,n,i,s){for(;--s>=0;){var a=t*this.data[e++]+r.data[n]+i;i=Math.floor(a/67108864),r.data[n++]=a&67108863}return i}o(XCt,"am1");function ZCt(e,t,r,n,i,s){for(var a=t&32767,l=t>>15;--s>=0;){var c=this.data[e]&32767,u=this.data[e++]>>15,f=l*c+u*a;c=a*c+((f&32767)<<15)+r.data[n]+(i&1073741823),i=(c>>>30)+(f>>>15)+l*u+(i>>>30),r.data[n++]=c&1073741823}return i}o(ZCt,"am2");function USe(e,t,r,n,i,s){for(var a=t&16383,l=t>>14;--s>=0;){var c=this.data[e]&16383,u=this.data[e++]>>14,f=l*c+u*a;c=a*c+((f&16383)<<14)+r.data[n]+i,i=(c>>28)+(f>>14)+l*u,r.data[n++]=c&268435455}return i}o(USe,"am3");typeof navigator>"u"?(Bt.prototype.am=USe,Q1=28):OSe&&navigator.appName=="Microsoft Internet Explorer"?(Bt.prototype.am=ZCt,Q1=30):OSe&&navigator.appName!="Netscape"?(Bt.prototype.am=XCt,Q1=26):(Bt.prototype.am=USe,Q1=28);Bt.prototype.DB=Q1;Bt.prototype.DM=(1<<Q1)-1;Bt.prototype.DV=1<<Q1;var fie=52;Bt.prototype.FV=Math.pow(2,fie);Bt.prototype.F1=fie-Q1;Bt.prototype.F2=2*Q1-fie;var e4t="0123456789abcdefghijklmnopqrstuvwxyz",HO=new Array,o8,gd;o8=48;for(gd=0;gd<=9;++gd)HO[o8++]=gd;o8=97;for(gd=10;gd<36;++gd)HO[o8++]=gd;o8=65;for(gd=10;gd<36;++gd)HO[o8++]=gd;function qSe(e){return e4t.charAt(e)}o(qSe,"int2char");function GSe(e,t){var r=HO[e.charCodeAt(t)];return r??-1}o(GSe,"intAt");function t4t(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s}o(t4t,"bnpCopyTo");function r4t(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0}o(r4t,"bnpFromInt");function iy(e){var t=Ji();return t.fromInt(e),t}o(iy,"nbv");function n4t(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==256)r=8;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else{this.fromRadix(e,t);return}this.t=0,this.s=0;for(var n=e.length,i=!1,s=0;--n>=0;){var a=r==8?e[n]&255:GSe(e,n);if(a<0){e.charAt(n)=="-"&&(i=!0);continue}i=!1,s==0?this.data[this.t++]=a:s+r>this.DB?(this.data[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this.data[this.t++]=a>>this.DB-s):this.data[this.t-1]|=a<<s,s+=r,s>=this.DB&&(s-=this.DB)}r==8&&(e[0]&128)!=0&&(this.s=-1,s>0&&(this.data[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&Bt.ZERO.subTo(this,this)}o(n4t,"bnpFromString");function i4t(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t}o(i4t,"bnpClamp");function o4t(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var r=(1<<t)-1,n,i=!1,s="",a=this.t,l=this.DB-a*this.DB%t;if(a-- >0)for(l<this.DB&&(n=this.data[a]>>l)>0&&(i=!0,s=qSe(n));a>=0;)l<t?(n=(this.data[a]&(1<<l)-1)<<t-l,n|=this.data[--a]>>(l+=this.DB-t)):(n=this.data[a]>>(l-=t)&r,l<=0&&(l+=this.DB,--a)),n>0&&(i=!0),i&&(s+=qSe(n));return i?s:"0"}o(o4t,"bnToString");function s4t(){var e=Ji();return Bt.ZERO.subTo(this,e),e}o(s4t,"bnNegate");function a4t(){return this.s<0?this.negate():this}o(a4t,"bnAbs");function l4t(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this.data[r]-e.data[r])!=0)return t;return 0}o(l4t,"bnCompareTo");function VO(e){var t=1,r;return(r=e>>>16)!=0&&(e=r,t+=16),(r=e>>8)!=0&&(e=r,t+=8),(r=e>>4)!=0&&(e=r,t+=4),(r=e>>2)!=0&&(e=r,t+=2),(r=e>>1)!=0&&(e=r,t+=1),t}o(VO,"nbits");function c4t(){return this.t<=0?0:this.DB*(this.t-1)+VO(this.data[this.t-1]^this.s&this.DM)}o(c4t,"bnBitLength");function u4t(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s}o(u4t,"bnpDLShiftTo");function f4t(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s}o(f4t,"bnpDRShiftTo");function d4t(e,t){var r=e%this.DB,n=this.DB-r,i=(1<<n)-1,s=Math.floor(e/this.DB),a=this.s<<r&this.DM,l;for(l=this.t-1;l>=0;--l)t.data[l+s+1]=this.data[l]>>n|a,a=(this.data[l]&i)<<r;for(l=s-1;l>=0;--l)t.data[l]=0;t.data[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()}o(d4t,"bnpLShiftTo");function m4t(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,i=this.DB-n,s=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var a=r+1;a<this.t;++a)t.data[a-r-1]|=(this.data[a]&s)<<i,t.data[a-r]=this.data[a]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&s)<<i),t.t=this.t-r,t.clamp()}o(m4t,"bnpRShiftTo");function h4t(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()}o(h4t,"bnpSubTo");function p4t(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t.data[i]=0;for(i=0;i<n.t;++i)t.data[i+r.t]=r.am(0,n.data[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&Bt.ZERO.subTo(t,t)}o(p4t,"bnpMultiplyTo");function g4t(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()}o(g4t,"bnpSquareTo");function A4t(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){t?.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=Ji());var s=Ji(),a=this.s,l=e.s,c=this.DB-VO(n.data[n.t-1]);c>0?(n.lShiftTo(c,s),i.lShiftTo(c,r)):(n.copyTo(s),i.copyTo(r));var u=s.t,f=s.data[u-1];if(f!=0){var m=f*(1<<this.F1)+(u>1?s.data[u-2]>>this.F2:0),h=this.FV/m,p=(1<<this.F1)/m,A=1<<this.F2,E=r.t,x=E-u,b=t??Ji();for(s.dlShiftTo(x,b),r.compareTo(b)>=0&&(r.data[r.t++]=1,r.subTo(b,r)),Bt.ONE.dlShiftTo(u,b),b.subTo(s,s);s.t<u;)s.data[s.t++]=0;for(;--x>=0;){var v=r.data[--E]==f?this.DM:Math.floor(r.data[E]*h+(r.data[E-1]+A)*p);if((r.data[E]+=s.am(0,v,r,x,0,u))<v)for(s.dlShiftTo(x,b),r.subTo(b,r);r.data[E]<--v;)r.subTo(b,r)}t!=null&&(r.drShiftTo(u,t),a!=l&&Bt.ZERO.subTo(t,t)),r.t=u,r.clamp(),c>0&&r.rShiftTo(c,r),a<0&&Bt.ZERO.subTo(r,r)}}}o(A4t,"bnpDivRemTo");function y4t(e){var t=Ji();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(Bt.ZERO)>0&&e.subTo(t,t),t}o(y4t,"bnMod");function L4(e){this.m=e}o(L4,"Classic");function C4t(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}o(C4t,"cConvert");function E4t(e){return e}o(E4t,"cRevert");function x4t(e){e.divRemTo(this.m,null,e)}o(x4t,"cReduce");function v4t(e,t,r){e.multiplyTo(t,r),this.reduce(r)}o(v4t,"cMulTo");function b4t(e,t){e.squareTo(t),this.reduce(t)}o(b4t,"cSqrTo");L4.prototype.convert=C4t;L4.prototype.revert=E4t;L4.prototype.reduce=x4t;L4.prototype.mulTo=v4t;L4.prototype.sqrTo=b4t;function I4t(){if(this.t<1)return 0;var e=this.data[0];if((e&1)==0)return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}o(I4t,"bnpInvDigit");function Q4(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}o(Q4,"Montgomery");function T4t(e){var t=Ji();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(Bt.ZERO)>0&&this.m.subTo(t,t),t}o(T4t,"montConvert");function w4t(e){var t=Ji();return e.copyTo(t),this.reduce(t),t}o(w4t,"montRevert");function _4t(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e.data[t]&32767,n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}o(_4t,"montReduce");function S4t(e,t){e.squareTo(t),this.reduce(t)}o(S4t,"montSqrTo");function B4t(e,t,r){e.multiplyTo(t,r),this.reduce(r)}o(B4t,"montMulTo");Q4.prototype.convert=T4t;Q4.prototype.revert=w4t;Q4.prototype.reduce=_4t;Q4.prototype.mulTo=B4t;Q4.prototype.sqrTo=S4t;function k4t(){return(this.t>0?this.data[0]&1:this.s)==0}o(k4t,"bnpIsEven");function R4t(e,t){if(e>4294967295||e<1)return Bt.ONE;var r=Ji(),n=Ji(),i=t.convert(this),s=VO(e)-1;for(i.copyTo(r);--s>=0;)if(t.sqrTo(r,n),(e&1<<s)>0)t.mulTo(n,i,r);else{var a=r;r=n,n=a}return t.revert(r)}o(R4t,"bnpExp");function D4t(e,t){var r;return e<256||t.isEven()?r=new L4(t):r=new Q4(t),this.exp(e,r)}o(D4t,"bnModPowInt");Bt.prototype.copyTo=t4t;Bt.prototype.fromInt=r4t;Bt.prototype.fromString=n4t;Bt.prototype.clamp=i4t;Bt.prototype.dlShiftTo=u4t;Bt.prototype.drShiftTo=f4t;Bt.prototype.lShiftTo=d4t;Bt.prototype.rShiftTo=m4t;Bt.prototype.subTo=h4t;Bt.prototype.multiplyTo=p4t;Bt.prototype.squareTo=g4t;Bt.prototype.divRemTo=A4t;Bt.prototype.invDigit=I4t;Bt.prototype.isEven=k4t;Bt.prototype.exp=R4t;Bt.prototype.toString=o4t;Bt.prototype.negate=s4t;Bt.prototype.abs=a4t;Bt.prototype.compareTo=l4t;Bt.prototype.bitLength=c4t;Bt.prototype.mod=y4t;Bt.prototype.modPowInt=D4t;Bt.ZERO=iy(0);Bt.ONE=iy(1);function P4t(){var e=Ji();return this.copyTo(e),e}o(P4t,"bnClone");function N4t(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}o(N4t,"bnIntValue");function F4t(){return this.t==0?this.s:this.data[0]<<24>>24}o(F4t,"bnByteValue");function L4t(){return this.t==0?this.s:this.data[0]<<16>>16}o(L4t,"bnShortValue");function Q4t(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}o(Q4t,"bnpChunkSize");function M4t(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}o(M4t,"bnSigNum");function O4t(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=iy(r),i=Ji(),s=Ji(),a="";for(this.divRemTo(n,i,s);i.signum()>0;)a=(r+s.intValue()).toString(e).substr(1)+a,i.divRemTo(n,i,s);return s.intValue().toString(e)+a}o(O4t,"bnpToRadix");function U4t(e,t){this.fromInt(0),t==null&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,s=0,a=0,l=0;l<e.length;++l){var c=GSe(e,l);if(c<0){e.charAt(l)=="-"&&this.signum()==0&&(i=!0);continue}a=t*a+c,++s>=r&&(this.dMultiply(n),this.dAddOffset(a,0),s=0,a=0)}s>0&&(this.dMultiply(Math.pow(t,s)),this.dAddOffset(a,0)),i&&Bt.ZERO.subTo(this,this)}o(U4t,"bnpFromRadix");function q4t(e,t,r){if(typeof t=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(Bt.ONE.shiftLeft(e-1),die,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(Bt.ONE.shiftLeft(e-1),this);else{var n=new Array,i=e&7;n.length=(e>>3)+1,t.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}o(q4t,"bnpFromNumber");function G4t(){var e=this.t,t=new Array;t[0]=this.s;var r=this.DB-e*this.DB%8,n,i=0;if(e-- >0)for(r<this.DB&&(n=this.data[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this.data[e]&(1<<r)-1)<<8-r,n|=this.data[--e]>>(r+=this.DB-8)):(n=this.data[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),(n&128)!=0&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t}o(G4t,"bnToByteArray");function W4t(e){return this.compareTo(e)==0}o(W4t,"bnEquals");function H4t(e){return this.compareTo(e)<0?this:e}o(H4t,"bnMin");function V4t(e){return this.compareTo(e)>0?this:e}o(V4t,"bnMax");function j4t(e,t,r){var n,i,s=Math.min(e.t,this.t);for(n=0;n<s;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(i=e.s&this.DM,n=s;n<this.t;++n)r.data[n]=t(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=s;n<e.t;++n)r.data[n]=t(i,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()}o(j4t,"bnpBitwiseTo");function $4t(e,t){return e&t}o($4t,"op_and");function z4t(e){var t=Ji();return this.bitwiseTo(e,$4t,t),t}o(z4t,"bnAnd");function die(e,t){return e|t}o(die,"op_or");function Y4t(e){var t=Ji();return this.bitwiseTo(e,die,t),t}o(Y4t,"bnOr");function WSe(e,t){return e^t}o(WSe,"op_xor");function K4t(e){var t=Ji();return this.bitwiseTo(e,WSe,t),t}o(K4t,"bnXor");function HSe(e,t){return e&~t}o(HSe,"op_andnot");function J4t(e){var t=Ji();return this.bitwiseTo(e,HSe,t),t}o(J4t,"bnAndNot");function X4t(){for(var e=Ji(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e}o(X4t,"bnNot");function Z4t(e){var t=Ji();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}o(Z4t,"bnShiftLeft");function eEt(e){var t=Ji();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}o(eEt,"bnShiftRight");function tEt(e){if(e==0)return-1;var t=0;return(e&65535)==0&&(e>>=16,t+=16),(e&255)==0&&(e>>=8,t+=8),(e&15)==0&&(e>>=4,t+=4),(e&3)==0&&(e>>=2,t+=2),(e&1)==0&&++t,t}o(tEt,"lbit");function rEt(){for(var e=0;e<this.t;++e)if(this.data[e]!=0)return e*this.DB+tEt(this.data[e]);return this.s<0?this.t*this.DB:-1}o(rEt,"bnGetLowestSetBit");function nEt(e){for(var t=0;e!=0;)e&=e-1,++t;return t}o(nEt,"cbit");function iEt(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=nEt(this.data[r]^t);return e}o(iEt,"bnBitCount");function oEt(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this.data[t]&1<<e%this.DB)!=0}o(oEt,"bnTestBit");function sEt(e,t){var r=Bt.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r}o(sEt,"bnpChangeBit");function aEt(e){return this.changeBit(e,die)}o(aEt,"bnSetBit");function lEt(e){return this.changeBit(e,HSe)}o(lEt,"bnClearBit");function cEt(e){return this.changeBit(e,WSe)}o(cEt,"bnFlipBit");function uEt(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()}o(uEt,"bnpAddTo");function fEt(e){var t=Ji();return this.addTo(e,t),t}o(fEt,"bnAdd");function dEt(e){var t=Ji();return this.subTo(e,t),t}o(dEt,"bnSubtract");function mEt(e){var t=Ji();return this.multiplyTo(e,t),t}o(mEt,"bnMultiply");function hEt(e){var t=Ji();return this.divRemTo(e,t,null),t}o(hEt,"bnDivide");function pEt(e){var t=Ji();return this.divRemTo(e,null,t),t}o(pEt,"bnRemainder");function gEt(e){var t=Ji(),r=Ji();return this.divRemTo(e,t,r),new Array(t,r)}o(gEt,"bnDivideAndRemainder");function AEt(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}o(AEt,"bnpDMultiply");function yEt(e,t){if(e!=0){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}}o(yEt,"bnpDAddOffset");function Zw(){}o(Zw,"NullExp");function VSe(e){return e}o(VSe,"nNop");function CEt(e,t,r){e.multiplyTo(t,r)}o(CEt,"nMulTo");function EEt(e,t){e.squareTo(t)}o(EEt,"nSqrTo");Zw.prototype.convert=VSe;Zw.prototype.revert=VSe;Zw.prototype.mulTo=CEt;Zw.prototype.sqrTo=EEt;function xEt(e){return this.exp(e,new Zw)}o(xEt,"bnPow");function vEt(e,t,r){var n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,e.data[n],r,n,0,this.t);for(i=Math.min(e.t,t);n<i;++n)this.am(0,e.data[n],r,n,0,t-n);r.clamp()}o(vEt,"bnpMultiplyLowerTo");function bEt(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)}o(bEt,"bnpMultiplyUpperTo");function s8(e){this.r2=Ji(),this.q3=Ji(),Bt.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}o(s8,"Barrett");function IEt(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=Ji();return e.copyTo(t),this.reduce(t),t}o(IEt,"barrettConvert");function TEt(e){return e}o(TEt,"barrettRevert");function wEt(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}o(wEt,"barrettReduce");function _Et(e,t){e.squareTo(t),this.reduce(t)}o(_Et,"barrettSqrTo");function SEt(e,t,r){e.multiplyTo(t,r),this.reduce(r)}o(SEt,"barrettMulTo");s8.prototype.convert=IEt;s8.prototype.revert=TEt;s8.prototype.reduce=wEt;s8.prototype.mulTo=SEt;s8.prototype.sqrTo=_Et;function BEt(e,t){var r=e.bitLength(),n,i=iy(1),s;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?s=new L4(t):t.isEven()?s=new s8(t):s=new Q4(t);var a=new Array,l=3,c=n-1,u=(1<<n)-1;if(a[1]=s.convert(this),n>1){var f=Ji();for(s.sqrTo(a[1],f);l<=u;)a[l]=Ji(),s.mulTo(f,a[l-2],a[l]),l+=2}var m=e.t-1,h,p=!0,A=Ji(),E;for(r=VO(e.data[m])-1;m>=0;){for(r>=c?h=e.data[m]>>r-c&u:(h=(e.data[m]&(1<<r+1)-1)<<c-r,m>0&&(h|=e.data[m-1]>>this.DB+r-c)),l=n;(h&1)==0;)h>>=1,--l;if((r-=l)<0&&(r+=this.DB,--m),p)a[h].copyTo(i),p=!1;else{for(;l>1;)s.sqrTo(i,A),s.sqrTo(A,i),l-=2;l>0?s.sqrTo(i,A):(E=i,i=A,A=E),s.mulTo(A,a[h],i)}for(;m>=0&&(e.data[m]&1<<r)==0;)s.sqrTo(i,A),E=i,i=A,A=E,--r<0&&(r=this.DB-1,--m)}return s.revert(i)}o(BEt,"bnModPow");function kEt(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return t;for(i<s&&(s=i),s>0&&(t.rShiftTo(s,t),r.rShiftTo(s,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r}o(kEt,"bnGCD");function REt(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(t==0)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r}o(REt,"bnpModInt");function DEt(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return Bt.ZERO;for(var r=e.clone(),n=this.clone(),i=iy(1),s=iy(0),a=iy(0),l=iy(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),t?((!i.isEven()||!s.isEven())&&(i.addTo(this,i),s.subTo(e,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);for(;n.isEven();)n.rShiftTo(1,n),t?((!a.isEven()||!l.isEven())&&(a.addTo(this,a),l.subTo(e,l)),a.rShiftTo(1,a)):l.isEven()||l.subTo(e,l),l.rShiftTo(1,l);r.compareTo(n)>=0?(r.subTo(n,r),t&&i.subTo(a,i),s.subTo(l,s)):(n.subTo(r,n),t&&a.subTo(i,a),l.subTo(s,l))}if(n.compareTo(Bt.ONE)!=0)return Bt.ZERO;if(l.compareTo(e)>=0)return l.subtract(e);if(l.signum()<0)l.addTo(e,l);else return l;return l.signum()<0?l.add(e):l}o(DEt,"bnModInverse");var Vm=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],PEt=(1<<26)/Vm[Vm.length-1];function NEt(e){var t,r=this.abs();if(r.t==1&&r.data[0]<=Vm[Vm.length-1]){for(t=0;t<Vm.length;++t)if(r.data[0]==Vm[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<Vm.length;){for(var n=Vm[t],i=t+1;i<Vm.length&&n<PEt;)n*=Vm[i++];for(n=r.modInt(n);t<i;)if(n%Vm[t++]==0)return!1}return r.millerRabin(e)}o(NEt,"bnIsProbablePrime");function FEt(e){var t=this.subtract(Bt.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n=t.shiftRight(r),i=LEt(),s,a=0;a<e;++a){do s=new Bt(this.bitLength(),i);while(s.compareTo(Bt.ONE)<=0||s.compareTo(t)>=0);var l=s.modPow(n,this);if(l.compareTo(Bt.ONE)!=0&&l.compareTo(t)!=0){for(var c=1;c++<r&&l.compareTo(t)!=0;)if(l=l.modPowInt(2,this),l.compareTo(Bt.ONE)==0)return!1;if(l.compareTo(t)!=0)return!1}}return!0}o(FEt,"bnpMillerRabin");function LEt(){return{nextBytes:o(function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(Math.random()*256)},"nextBytes")}}o(LEt,"bnGetPrng");Bt.prototype.chunkSize=Q4t;Bt.prototype.toRadix=O4t;Bt.prototype.fromRadix=U4t;Bt.prototype.fromNumber=q4t;Bt.prototype.bitwiseTo=j4t;Bt.prototype.changeBit=sEt;Bt.prototype.addTo=uEt;Bt.prototype.dMultiply=AEt;Bt.prototype.dAddOffset=yEt;Bt.prototype.multiplyLowerTo=vEt;Bt.prototype.multiplyUpperTo=bEt;Bt.prototype.modInt=REt;Bt.prototype.millerRabin=FEt;Bt.prototype.clone=P4t;Bt.prototype.intValue=N4t;Bt.prototype.byteValue=F4t;Bt.prototype.shortValue=L4t;Bt.prototype.signum=M4t;Bt.prototype.toByteArray=G4t;Bt.prototype.equals=W4t;Bt.prototype.min=H4t;Bt.prototype.max=V4t;Bt.prototype.and=z4t;Bt.prototype.or=Y4t;Bt.prototype.xor=K4t;Bt.prototype.andNot=J4t;Bt.prototype.not=X4t;Bt.prototype.shiftLeft=Z4t;Bt.prototype.shiftRight=eEt;Bt.prototype.getLowestSetBit=rEt;Bt.prototype.bitCount=iEt;Bt.prototype.testBit=oEt;Bt.prototype.setBit=aEt;Bt.prototype.clearBit=lEt;Bt.prototype.flipBit=cEt;Bt.prototype.add=fEt;Bt.prototype.subtract=dEt;Bt.prototype.multiply=mEt;Bt.prototype.divide=hEt;Bt.prototype.remainder=pEt;Bt.prototype.divideAndRemainder=gEt;Bt.prototype.modPow=BEt;Bt.prototype.modInverse=DEt;Bt.prototype.pow=xEt;Bt.prototype.gcd=kEt;Bt.prototype.isProbablePrime=NEt});var a8=V((vUr,KSe)=>{d();var Np=Jn();Bp();Ki();var zSe=KSe.exports=Np.sha1=Np.sha1||{};Np.md.sha1=Np.md.algorithms.sha1=zSe;zSe.create=function(){YSe||QEt();var e=null,t=Np.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return t=Np.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=Np.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=a[1],a[1]=a[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),$Se(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=Np.util.createBuffer();i.putBytes(t.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=s&n.blockLength-1;i.putBytes(mie.substr(0,n.blockLength-a));for(var l,c,u=n.fullMessageLength[0]*8,f=0;f<n.fullMessageLength.length-1;++f)l=n.fullMessageLength[f+1]*8,c=l/4294967296>>>0,u+=c,i.putInt32(u>>>0),u=l>>>0;i.putInt32(u);var m={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};$Se(m,r,i);var h=Np.util.createBuffer();return h.putInt32(m.h0),h.putInt32(m.h1),h.putInt32(m.h2),h.putInt32(m.h3),h.putInt32(m.h4),h},n};var mie=null,YSe=!1;function QEt(){mie="\x80",mie+=Np.util.fillString("\0",64),YSe=!0}o(QEt,"_init");function $Se(e,t,r){for(var n,i,s,a,l,c,u,f,m=r.length();m>=64;){for(i=e.h0,s=e.h1,a=e.h2,l=e.h3,c=e.h4,f=0;f<16;++f)n=r.getInt32(),t[f]=n,u=l^s&(a^l),n=(i<<5|i>>>27)+u+c+1518500249+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<20;++f)n=t[f-3]^t[f-8]^t[f-14]^t[f-16],n=n<<1|n>>>31,t[f]=n,u=l^s&(a^l),n=(i<<5|i>>>27)+u+c+1518500249+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<32;++f)n=t[f-3]^t[f-8]^t[f-14]^t[f-16],n=n<<1|n>>>31,t[f]=n,u=s^a^l,n=(i<<5|i>>>27)+u+c+1859775393+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<40;++f)n=t[f-6]^t[f-16]^t[f-28]^t[f-32],n=n<<2|n>>>30,t[f]=n,u=s^a^l,n=(i<<5|i>>>27)+u+c+1859775393+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<60;++f)n=t[f-6]^t[f-16]^t[f-28]^t[f-32],n=n<<2|n>>>30,t[f]=n,u=s&a|l&(s^a),n=(i<<5|i>>>27)+u+c+2400959708+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<80;++f)n=t[f-6]^t[f-16]^t[f-28]^t[f-32],n=n<<2|n>>>30,t[f]=n,u=s^a^l,n=(i<<5|i>>>27)+u+c+3395469782+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+s|0,e.h2=e.h2+a|0,e.h3=e.h3+l|0,e.h4=e.h4+c|0,m-=64}}o($Se,"_update")});var hie=V((TUr,XSe)=>{d();var Fp=Jn();Ki();pd();a8();var JSe=XSe.exports=Fp.pkcs1=Fp.pkcs1||{};JSe.encode_rsa_oaep=function(e,t,r){var n,i,s,a;typeof r=="string"?(n=r,i=arguments[3]||void 0,s=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md)),s?s.start():s=Fp.md.sha1.create(),a||(a=s);var l=Math.ceil(e.n.bitLength()/8),c=l-2*s.digestLength-2;if(t.length>c){var u=new Error("RSAES-OAEP input message length is too long.");throw u.length=t.length,u.maxLength=c,u}n||(n=""),s.update(n,"raw");for(var f=s.digest(),m="",h=c-t.length,p=0;p<h;p++)m+="\0";var A=f.getBytes()+m+""+t;if(!i)i=Fp.random.getBytes(s.digestLength);else if(i.length!==s.digestLength){var u=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw u.seedLength=i.length,u.digestLength=s.digestLength,u}var E=jO(i,l-s.digestLength-1,a),x=Fp.util.xorBytes(A,E,A.length),b=jO(x,s.digestLength,a),v=Fp.util.xorBytes(i,b,i.length);return"\0"+v+x};JSe.decode_rsa_oaep=function(e,t,r){var n,i,s;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md));var a=Math.ceil(e.n.bitLength()/8);if(t.length!==a){var x=new Error("RSAES-OAEP encoded message length is invalid.");throw x.length=t.length,x.expectedLength=a,x}if(i===void 0?i=Fp.md.sha1.create():i.start(),s||(s=i),a<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var l=i.digest().getBytes(),c=t.charAt(0),u=t.substring(1,i.digestLength+1),f=t.substring(1+i.digestLength),m=jO(f,i.digestLength,s),h=Fp.util.xorBytes(u,m,u.length),p=jO(h,a-i.digestLength-1,s),A=Fp.util.xorBytes(f,p,f.length),E=A.substring(0,i.digestLength),x=c!=="\0",b=0;b<i.digestLength;++b)x|=l.charAt(b)!==E.charAt(b);for(var v=1,S=i.digestLength,k=i.digestLength;k<A.length;k++){var P=A.charCodeAt(k),N=P&1^1,W=v?65534:0;x|=P&W,v=v&N,S+=v}if(x||A.charCodeAt(S)!==1)throw new Error("Invalid RSAES-OAEP padding.");return A.substring(S+1)};function jO(e,t,r){r||(r=Fp.md.sha1.create());for(var n="",i=Math.ceil(t/r.digestLength),s=0;s<i;++s){var a=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255);r.start(),r.update(e+a),n+=r.digest().getBytes()}return n.substring(0,t)}o(jO,"rsa_mgf1")});var gie=V((SUr,pie)=>{d();var oy=Jn();Ki();e_();pd();(function(){if(oy.prime){pie.exports=oy.prime;return}var e=pie.exports=oy.prime=oy.prime||{},t=oy.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new t(null);n.fromInt(30);var i=o(function(m,h){return m|h},"op_or");e.generateProbablePrime=function(m,h,p){typeof h=="function"&&(p=h,h={}),h=h||{};var A=h.algorithm||"PRIMEINC";typeof A=="string"&&(A={name:A}),A.options=A.options||{};var E=h.prng||oy.random,x={nextBytes:o(function(b){for(var v=E.getBytesSync(b.length),S=0;S<b.length;++S)b[S]=v.charCodeAt(S)},"nextBytes")};if(A.name==="PRIMEINC")return s(m,x,A.options,p);throw new Error("Invalid prime generation algorithm: "+A.name)};function s(m,h,p,A){return"workers"in p?c(m,h,p,A):a(m,h,p,A)}o(s,"primeincFindPrime");function a(m,h,p,A){var E=u(m,h),x=0,b=f(E.bitLength());"millerRabinTests"in p&&(b=p.millerRabinTests);var v=10;"maxBlockTime"in p&&(v=p.maxBlockTime),l(E,m,h,x,b,v,A)}o(a,"primeincFindPrimeWithoutWorkers");function l(m,h,p,A,E,x,b){var v=+new Date;do{if(m.bitLength()>h&&(m=u(h,p)),m.isProbablePrime(E))return b(null,m);m.dAddOffset(r[A++%8],0)}while(x<0||+new Date-v<x);oy.util.setImmediate(function(){l(m,h,p,A,E,x,b)})}o(l,"_primeinc");function c(m,h,p,A){if(typeof Worker>"u")return a(m,h,p,A);var E=u(m,h),x=p.workers,b=p.workLoad||100,v=b*30/8,S=p.workerScript||"forge/prime.worker.js";if(x===-1)return oy.util.estimateCores(function(P,N){P&&(N=2),x=N-1,k()});k();function k(){x=Math.max(1,x);for(var P=[],N=0;N<x;++N)P[N]=new Worker(S);for(var W=x,N=0;N<x;++N)P[N].addEventListener("message",ge);var re=!1;function ge(te){if(!re){--W;var G=te.data;if(G.found){for(var q=0;q<P.length;++q)P[q].terminate();return re=!0,A(null,new t(G.prime,16))}E.bitLength()>m&&(E=u(m,h));var se=E.toString(16);te.target.postMessage({hex:se,workLoad:b}),E.dAddOffset(v,0)}}o(ge,"workerMessage")}o(k,"generate")}o(c,"primeincFindPrimeWithWorkers");function u(m,h){var p=new t(m,h),A=m-1;return p.testBit(A)||p.bitwiseTo(t.ONE.shiftLeft(A),i,p),p.dAddOffset(31-p.mod(n).byteValue(),0),p}o(u,"generateRandom");function f(m){return m<=100?27:m<=150?18:m<=200?15:m<=250?12:m<=300?9:m<=350?8:m<=400?7:m<=500?6:m<=600?5:m<=800?4:m<=1250?3:2}o(f,"getMillerRabinTests")})()});var t_=V((RUr,oBe)=>{d();var Xr=Jn();Hm();e_();ny();hie();gie();pd();Ki();typeof qi>"u"&&(qi=Xr.jsbn.BigInteger);var qi,Aie=Xr.util.isNodejs?require("crypto"):null,$e=Xr.asn1,Ad=Xr.util;Xr.pki=Xr.pki||{};oBe.exports=Xr.pki.rsa=Xr.rsa=Xr.rsa||{};var On=Xr.pki,MEt=[6,4,2,4,2,4,6,2],OEt={name:"PrivateKeyInfo",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:$e.Class.UNIVERSAL,type:$e.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:$e.Class.UNIVERSAL,type:$e.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},UEt={name:"RSAPrivateKey",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},qEt={name:"RSAPublicKey",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},GEt=Xr.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:$e.Class.UNIVERSAL,type:$e.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:$e.Class.UNIVERSAL,type:$e.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},WEt={name:"DigestInfo",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:$e.Class.UNIVERSAL,type:$e.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:$e.Class.UNIVERSAL,type:$e.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:$e.Class.UNIVERSAL,type:$e.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},HEt=o(function(e){var t;if(e.algorithm in On.oids)t=On.oids[e.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}var n=$e.oidToDer(t).getBytes(),i=$e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[]),s=$e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[]);s.value.push($e.create($e.Class.UNIVERSAL,$e.Type.OID,!1,n)),s.value.push($e.create($e.Class.UNIVERSAL,$e.Type.NULL,!1,""));var a=$e.create($e.Class.UNIVERSAL,$e.Type.OCTETSTRING,!1,e.digest().getBytes());return i.value.push(s),i.value.push(a),$e.toDer(i).getBytes()},"emsaPkcs1v15encode"),nBe=o(function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);t.dP||(t.dP=t.d.mod(t.p.subtract(qi.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(qi.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));var n;do n=new qi(Xr.util.bytesToHex(Xr.random.getBytes(t.n.bitLength()/8)),16);while(n.compareTo(t.n)>=0||!n.gcd(t.n).equals(qi.ONE));e=e.multiply(n.modPow(t.e,t.n)).mod(t.n);for(var i=e.mod(t.p).modPow(t.dP,t.p),s=e.mod(t.q).modPow(t.dQ,t.q);i.compareTo(s)<0;)i=i.add(t.p);var a=i.subtract(s).multiply(t.qInv).mod(t.p).multiply(t.q).add(s);return a=a.multiply(n.modInverse(t.n)).mod(t.n),a},"_modPow");On.rsa.encrypt=function(e,t,r){var n=r,i,s=Math.ceil(t.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=iBe(e,t,r)):(i=Xr.util.createBuffer(),i.putBytes(e));for(var a=new qi(i.toHex(),16),l=nBe(a,t,n),c=l.toString(16),u=Xr.util.createBuffer(),f=s-Math.ceil(c.length/2);f>0;)u.putByte(0),--f;return u.putBytes(Xr.util.hexToBytes(c)),u.getBytes()};On.rsa.decrypt=function(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8);if(e.length!==i){var s=new Error("Encrypted message length is invalid.");throw s.length=e.length,s.expected=i,s}var a=new qi(Xr.util.createBuffer(e).toHex(),16);if(a.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var l=nBe(a,t,r),c=l.toString(16),u=Xr.util.createBuffer(),f=i-Math.ceil(c.length/2);f>0;)u.putByte(0),--f;return u.putBytes(Xr.util.hexToBytes(c)),n!==!1?$O(u.getBytes(),t,r):u.getBytes()};On.rsa.createKeyPairGenerationState=function(e,t,r){typeof e=="string"&&(e=parseInt(e,10)),e=e||2048,r=r||{};var n=r.prng||Xr.random,i={nextBytes:o(function(l){for(var c=n.getBytesSync(l.length),u=0;u<l.length;++u)l[u]=c.charCodeAt(u)},"nextBytes")},s=r.algorithm||"PRIMEINC",a;if(s==="PRIMEINC")a={algorithm:s,state:0,bits:e,rng:i,eInt:t||65537,e:new qi(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null},a.e.fromInt(a.eInt);else throw new Error("Invalid key generation algorithm: "+s);return a};On.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new qi(null);r.fromInt(30);for(var n=0,i=o(function(m,h){return m|h},"op_or"),s=+new Date,a,l=0;e.keys===null&&(t<=0||l<t);){if(e.state===0){var c=e.p===null?e.pBits:e.qBits,u=c-1;e.pqState===0?(e.num=new qi(c,e.rng),e.num.testBit(u)||e.num.bitwiseTo(qi.ONE.shiftLeft(u),i,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),n=0,++e.pqState):e.pqState===1?e.num.bitLength()>c?e.pqState=0:e.num.isProbablePrime(jEt(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(MEt[n++%8],0):e.pqState===2?e.pqState=e.num.subtract(qi.ONE).gcd(e.e).compareTo(qi.ONE)===0?3:0:e.pqState===3&&(e.pqState=0,e.p===null?e.p=e.num:e.q=e.num,e.p!==null&&e.q!==null&&++e.state,e.num=null)}else if(e.state===1)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(e.state===2)e.p1=e.p.subtract(qi.ONE),e.q1=e.q.subtract(qi.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(e.state===3)e.phi.gcd(e.e).compareTo(qi.ONE)===0?++e.state:(e.p=null,e.q=null,e.state=0);else if(e.state===4)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(e.state===5){var f=e.e.modInverse(e.phi);e.keys={privateKey:On.rsa.setPrivateKey(e.n,e.e,f,e.p,e.q,f.mod(e.p1),f.mod(e.q1),e.q.modInverse(e.p)),publicKey:On.rsa.setPublicKey(e.n,e.e)}}a=+new Date,l+=a-s,s=a}return e.keys!==null};On.rsa.generateKeyPair=function(e,t,r,n){if(arguments.length===1?typeof e=="object"?(r=e,e=void 0):typeof e=="function"&&(n=e,e=void 0):arguments.length===2?typeof e=="number"?typeof t=="function"?(n=t,t=void 0):typeof t!="number"&&(r=t,t=void 0):(r=e,n=t,e=void 0,t=void 0):arguments.length===3&&(typeof t=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=t,t=void 0)),r=r||{},e===void 0&&(e=r.bits||2048),t===void 0&&(t=r.e||65537),!Xr.options.usePureJavaScript&&!r.prng&&e>=256&&e<=16384&&(t===65537||t===3)){if(n){if(ZSe("generateKeyPair"))return Aie.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(l,c,u){if(l)return n(l);n(null,{privateKey:On.privateKeyFromPem(u),publicKey:On.publicKeyFromPem(c)})});if(eBe("generateKey")&&eBe("exportKey"))return Ad.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:rBe(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(l){return Ad.globalScope.crypto.subtle.exportKey("pkcs8",l.privateKey)}).then(void 0,function(l){n(l)}).then(function(l){if(l){var c=On.privateKeyFromAsn1($e.fromDer(Xr.util.createBuffer(l)));n(null,{privateKey:c,publicKey:On.setRsaPublicKey(c.n,c.e)})}});if(tBe("generateKey")&&tBe("exportKey")){var i=Ad.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:rBe(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(l){var c=l.target.result,u=Ad.globalScope.msCrypto.subtle.exportKey("pkcs8",c.privateKey);u.oncomplete=function(f){var m=f.target.result,h=On.privateKeyFromAsn1($e.fromDer(Xr.util.createBuffer(m)));n(null,{privateKey:h,publicKey:On.setRsaPublicKey(h.n,h.e)})},u.onerror=function(f){n(f)}},i.onerror=function(l){n(l)};return}}else if(ZSe("generateKeyPairSync")){var s=Aie.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:On.privateKeyFromPem(s.privateKey),publicKey:On.publicKeyFromPem(s.publicKey)}}}var a=On.rsa.createKeyPairGenerationState(e,t,r);if(!n)return On.rsa.stepKeyPairGenerationState(a,0),a.keys;VEt(a,r,n)};On.setRsaPublicKey=On.rsa.setPublicKey=function(e,t){var r={n:e,e:t};return r.encrypt=function(n,i,s){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:o(function(l,c,u){return iBe(l,c,2).getBytes()},"encode")};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:o(function(l,c){return Xr.pkcs1.encode_rsa_oaep(c,l,s)},"encode")};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:o(function(l){return l},"encode")};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var a=i.encode(n,r,!0);return On.rsa.encrypt(a,r,!0)},r.verify=function(n,i,s,a){typeof s=="string"?s=s.toUpperCase():s===void 0&&(s="RSASSA-PKCS1-V1_5"),a===void 0&&(a={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in a||(a._parseAllDigestBytes=!0),s==="RSASSA-PKCS1-V1_5"?s={verify:o(function(c,u){u=$O(u,r,!0);var f=$e.fromDer(u,{parseAllBytes:a._parseAllDigestBytes}),m={},h=[];if(!$e.validate(f,WEt,m,h)){var p=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw p.errors=h,p}var A=$e.derToOid(m.algorithmIdentifier);if(!(A===Xr.oids.md2||A===Xr.oids.md5||A===Xr.oids.sha1||A===Xr.oids.sha224||A===Xr.oids.sha256||A===Xr.oids.sha384||A===Xr.oids.sha512||A===Xr.oids["sha512-224"]||A===Xr.oids["sha512-256"])){var p=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw p.oid=A,p}if((A===Xr.oids.md2||A===Xr.oids.md5)&&!("parameters"in m))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return c===m.digest},"verify")}:(s==="NONE"||s==="NULL"||s===null)&&(s={verify:o(function(c,u){return u=$O(u,r,!0),c===u},"verify")});var l=On.rsa.decrypt(i,r,!0,!1);return s.verify(n,l,r.n.bitLength())},r};On.setRsaPrivateKey=On.rsa.setPrivateKey=function(e,t,r,n,i,s,a,l){var c={n:e,e:t,d:r,p:n,q:i,dP:s,dQ:a,qInv:l};return c.decrypt=function(u,f,m){typeof f=="string"?f=f.toUpperCase():f===void 0&&(f="RSAES-PKCS1-V1_5");var h=On.rsa.decrypt(u,c,!1,!1);if(f==="RSAES-PKCS1-V1_5")f={decode:$O};else if(f==="RSA-OAEP"||f==="RSAES-OAEP")f={decode:o(function(p,A){return Xr.pkcs1.decode_rsa_oaep(A,p,m)},"decode")};else if(["RAW","NONE","NULL",null].indexOf(f)!==-1)f={decode:o(function(p){return p},"decode")};else throw new Error('Unsupported encryption scheme: "'+f+'".');return f.decode(h,c,!1)},c.sign=function(u,f){var m=!1;typeof f=="string"&&(f=f.toUpperCase()),f===void 0||f==="RSASSA-PKCS1-V1_5"?(f={encode:HEt},m=1):(f==="NONE"||f==="NULL"||f===null)&&(f={encode:o(function(){return u},"encode")},m=1);var h=f.encode(u,c.n.bitLength());return On.rsa.encrypt(h,c,m)},c};On.wrapRsaPrivateKey=function(e){return $e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,$e.integerToDer(0).getBytes()),$e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[$e.create($e.Class.UNIVERSAL,$e.Type.OID,!1,$e.oidToDer(On.oids.rsaEncryption).getBytes()),$e.create($e.Class.UNIVERSAL,$e.Type.NULL,!1,"")]),$e.create($e.Class.UNIVERSAL,$e.Type.OCTETSTRING,!1,$e.toDer(e).getBytes())])};On.privateKeyFromAsn1=function(e){var t={},r=[];if($e.validate(e,OEt,t,r)&&(e=$e.fromDer(Xr.util.createBuffer(t.privateKey))),t={},r=[],!$e.validate(e,UEt,t,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,s,a,l,c,u,f,m;return i=Xr.util.createBuffer(t.privateKeyModulus).toHex(),s=Xr.util.createBuffer(t.privateKeyPublicExponent).toHex(),a=Xr.util.createBuffer(t.privateKeyPrivateExponent).toHex(),l=Xr.util.createBuffer(t.privateKeyPrime1).toHex(),c=Xr.util.createBuffer(t.privateKeyPrime2).toHex(),u=Xr.util.createBuffer(t.privateKeyExponent1).toHex(),f=Xr.util.createBuffer(t.privateKeyExponent2).toHex(),m=Xr.util.createBuffer(t.privateKeyCoefficient).toHex(),On.setRsaPrivateKey(new qi(i,16),new qi(s,16),new qi(a,16),new qi(l,16),new qi(c,16),new qi(u,16),new qi(f,16),new qi(m,16))};On.privateKeyToAsn1=On.privateKeyToRSAPrivateKey=function(e){return $e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,$e.integerToDer(0).getBytes()),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,Lp(e.n)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,Lp(e.e)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,Lp(e.d)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,Lp(e.p)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,Lp(e.q)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,Lp(e.dP)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,Lp(e.dQ)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,Lp(e.qInv))])};On.publicKeyFromAsn1=function(e){var t={},r=[];if($e.validate(e,GEt,t,r)){var n=$e.derToOid(t.publicKeyOid);if(n!==On.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}e=t.rsaPublicKey}if(r=[],!$e.validate(e,qEt,t,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var s=Xr.util.createBuffer(t.publicKeyModulus).toHex(),a=Xr.util.createBuffer(t.publicKeyExponent).toHex();return On.setRsaPublicKey(new qi(s,16),new qi(a,16))};On.publicKeyToAsn1=On.publicKeyToSubjectPublicKeyInfo=function(e){return $e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[$e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[$e.create($e.Class.UNIVERSAL,$e.Type.OID,!1,$e.oidToDer(On.oids.rsaEncryption).getBytes()),$e.create($e.Class.UNIVERSAL,$e.Type.NULL,!1,"")]),$e.create($e.Class.UNIVERSAL,$e.Type.BITSTRING,!1,[On.publicKeyToRSAPublicKey(e)])])};On.publicKeyToRSAPublicKey=function(e){return $e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,Lp(e.n)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,Lp(e.e))])};function iBe(e,t,r){var n=Xr.util.createBuffer(),i=Math.ceil(t.n.bitLength()/8);if(e.length>i-11){var s=new Error("Message is too long for PKCS#1 v1.5 padding.");throw s.length=e.length,s.max=i-11,s}n.putByte(0),n.putByte(r);var a=i-3-e.length,l;if(r===0||r===1){l=r===0?0:255;for(var c=0;c<a;++c)n.putByte(l)}else for(;a>0;){for(var u=0,f=Xr.random.getBytes(a),c=0;c<a;++c)l=f.charCodeAt(c),l===0?++u:n.putByte(l);a=u}return n.putByte(0),n.putBytes(e),n}o(iBe,"_encodePkcs1_v1_5");function $O(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8),s=Xr.util.createBuffer(e),a=s.getByte(),l=s.getByte();if(a!==0||r&&l!==0&&l!==1||!r&&l!=2||r&&l===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var c=0;if(l===0){c=i-3-n;for(var u=0;u<c;++u)if(s.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(l===1)for(c=0;s.length()>1;){if(s.getByte()!==255){--s.read;break}++c}else if(l===2)for(c=0;s.length()>1;){if(s.getByte()===0){--s.read;break}++c}var f=s.getByte();if(f!==0||c!==i-3-s.length())throw new Error("Encryption block is invalid.");return s.getBytes()}o($O,"_decodePkcs1_v1_5");function VEt(e,t,r){typeof t=="function"&&(r=t,t={}),t=t||{};var n={algorithm:{name:t.algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};"prng"in t&&(n.prng=t.prng),i();function i(){s(e.pBits,function(l,c){if(l)return r(l);if(e.p=c,e.q!==null)return a(l,e.q);s(e.qBits,a)})}o(i,"generate");function s(l,c){Xr.prime.generateProbablePrime(l,n,c)}o(s,"getPrime");function a(l,c){if(l)return r(l);if(e.q=c,e.p.compareTo(e.q)<0){var u=e.p;e.p=e.q,e.q=u}if(e.p.subtract(qi.ONE).gcd(e.e).compareTo(qi.ONE)!==0){e.p=null,i();return}if(e.q.subtract(qi.ONE).gcd(e.e).compareTo(qi.ONE)!==0){e.q=null,s(e.qBits,a);return}if(e.p1=e.p.subtract(qi.ONE),e.q1=e.q.subtract(qi.ONE),e.phi=e.p1.multiply(e.q1),e.phi.gcd(e.e).compareTo(qi.ONE)!==0){e.p=e.q=null,i();return}if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits){e.q=null,s(e.qBits,a);return}var f=e.e.modInverse(e.phi);e.keys={privateKey:On.rsa.setPrivateKey(e.n,e.e,f,e.p,e.q,f.mod(e.p1),f.mod(e.q1),e.q.modInverse(e.p)),publicKey:On.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}o(a,"finish")}o(VEt,"_generateKeyPair");function Lp(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=Xr.util.hexToBytes(t);return r.length>1&&(r.charCodeAt(0)===0&&(r.charCodeAt(1)&128)===0||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}o(Lp,"_bnToBytes");function jEt(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}o(jEt,"_getMillerRabinTests");function ZSe(e){return Xr.util.isNodejs&&typeof Aie[e]=="function"}o(ZSe,"_detectNodeCrypto");function eBe(e){return typeof Ad.globalScope<"u"&&typeof Ad.globalScope.crypto=="object"&&typeof Ad.globalScope.crypto.subtle=="object"&&typeof Ad.globalScope.crypto.subtle[e]=="function"}o(eBe,"_detectSubtleCrypto");function tBe(e){return typeof Ad.globalScope<"u"&&typeof Ad.globalScope.msCrypto=="object"&&typeof Ad.globalScope.msCrypto.subtle=="object"&&typeof Ad.globalScope.msCrypto.subtle[e]=="function"}o(tBe,"_detectSubtleMsCrypto");function rBe(e){for(var t=Xr.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}o(rBe,"_intToUint8Array")});var yie=V((NUr,uBe)=>{d();var br=Jn();ry();Hm();Xw();Bp();ny();GO();F4();pd();cie();t_();Ki();typeof sBe>"u"&&(sBe=br.jsbn.BigInteger);var sBe,mt=br.asn1,$n=br.pki=br.pki||{};uBe.exports=$n.pbe=br.pbe=br.pbe||{};var M4=$n.oids,$Et={name:"EncryptedPrivateKeyInfo",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},zEt={name:"PBES2Algorithms",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:mt.Class.UNIVERSAL,type:mt.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:mt.Class.UNIVERSAL,type:mt.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},YEt={name:"pkcs-12PbeParams",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:mt.Class.UNIVERSAL,type:mt.Type.INTEGER,constructed:!1,capture:"iterations"}]};$n.encryptPrivateKeyInfo=function(e,t,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=br.random.getBytesSync(r.saltSize),i=r.count,s=mt.integerToDer(i),a,l,c;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var u,f,m;switch(r.algorithm){case"aes128":a=16,u=16,f=M4["aes128-CBC"],m=br.aes.createEncryptionCipher;break;case"aes192":a=24,u=16,f=M4["aes192-CBC"],m=br.aes.createEncryptionCipher;break;case"aes256":a=32,u=16,f=M4["aes256-CBC"],m=br.aes.createEncryptionCipher;break;case"des":a=8,u=8,f=M4.desCBC,m=br.des.createEncryptionCipher;break;default:var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var p="hmacWith"+r.prfAlgorithm.toUpperCase(),A=cBe(p),E=br.pkcs5.pbkdf2(t,n,i,a,A),x=br.random.getBytesSync(u),b=m(E);b.start(x),b.update(mt.toDer(e)),b.finish(),c=b.output.getBytes();var v=KEt(n,s,a,p);l=mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.OID,!1,mt.oidToDer(M4.pkcs5PBES2).getBytes()),mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.OID,!1,mt.oidToDer(M4.pkcs5PBKDF2).getBytes()),v]),mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.OID,!1,mt.oidToDer(f).getBytes()),mt.create(mt.Class.UNIVERSAL,mt.Type.OCTETSTRING,!1,x)])])])}else if(r.algorithm==="3des"){a=24;var S=new br.util.ByteBuffer(n),E=$n.pbe.generatePkcs12Key(t,S,1,i,a),x=$n.pbe.generatePkcs12Key(t,S,2,i,a),b=br.des.createEncryptionCipher(E);b.start(x),b.update(mt.toDer(e)),b.finish(),c=b.output.getBytes(),l=mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.OID,!1,mt.oidToDer(M4["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.OCTETSTRING,!1,n),mt.create(mt.Class.UNIVERSAL,mt.Type.INTEGER,!1,s.getBytes())])])}else{var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var k=mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[l,mt.create(mt.Class.UNIVERSAL,mt.Type.OCTETSTRING,!1,c)]);return k};$n.decryptPrivateKeyInfo=function(e,t){var r=null,n={},i=[];if(!mt.validate(e,$Et,n,i)){var s=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var a=mt.derToOid(n.encryptionOid),l=$n.pbe.getCipher(a,n.encryptionParams,t),c=br.util.createBuffer(n.encryptedData);return l.update(c),l.finish()&&(r=mt.fromDer(l.output)),r};$n.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:mt.toDer(e).getBytes()};return br.pem.encode(r,{maxline:t})};$n.encryptedPrivateKeyFromPem=function(e){var t=br.pem.decode(e)[0];if(t.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return mt.fromDer(t.body)};$n.encryptRsaPrivateKey=function(e,t,r){if(r=r||{},!r.legacy){var n=$n.wrapRsaPrivateKey($n.privateKeyToAsn1(e));return n=$n.encryptPrivateKeyInfo(n,t,r),$n.encryptedPrivateKeyToPem(n)}var i,s,a,l;switch(r.algorithm){case"aes128":i="AES-128-CBC",a=16,s=br.random.getBytesSync(16),l=br.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",a=24,s=br.random.getBytesSync(16),l=br.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",a=32,s=br.random.getBytesSync(16),l=br.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",a=24,s=br.random.getBytesSync(8),l=br.des.createEncryptionCipher;break;case"des":i="DES-CBC",a=8,s=br.random.getBytesSync(8),l=br.des.createEncryptionCipher;break;default:var c=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw c.algorithm=r.algorithm,c}var u=br.pbe.opensslDeriveBytes(t,s.substr(0,8),a),f=l(u);f.start(s),f.update(mt.toDer($n.privateKeyToAsn1(e))),f.finish();var m={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:br.util.bytesToHex(s).toUpperCase()},body:f.output.getBytes()};return br.pem.encode(m)};$n.decryptRsaPrivateKey=function(e,t){var r=null,n=br.pem.decode(e)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var s,a;switch(n.dekInfo.algorithm){case"DES-CBC":s=8,a=br.des.createDecryptionCipher;break;case"DES-EDE3-CBC":s=24,a=br.des.createDecryptionCipher;break;case"AES-128-CBC":s=16,a=br.aes.createDecryptionCipher;break;case"AES-192-CBC":s=24,a=br.aes.createDecryptionCipher;break;case"AES-256-CBC":s=32,a=br.aes.createDecryptionCipher;break;case"RC2-40-CBC":s=5,a=o(function(m){return br.rc2.createDecryptionCipher(m,40)},"cipherFn");break;case"RC2-64-CBC":s=8,a=o(function(m){return br.rc2.createDecryptionCipher(m,64)},"cipherFn");break;case"RC2-128-CBC":s=16,a=o(function(m){return br.rc2.createDecryptionCipher(m,128)},"cipherFn");break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var l=br.util.hexToBytes(n.dekInfo.parameters),c=br.pbe.opensslDeriveBytes(t,l.substr(0,8),s),u=a(c);if(u.start(l),u.update(br.util.createBuffer(n.body)),u.finish())r=u.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=$n.decryptPrivateKeyInfo(mt.fromDer(r),t):r=mt.fromDer(r),r!==null&&(r=$n.privateKeyFromAsn1(r)),r};$n.pbe.generatePkcs12Key=function(e,t,r,n,i,s){var a,l;if(typeof s>"u"||s===null){if(!("sha1"in br.md))throw new Error('"sha1" hash algorithm unavailable.');s=br.md.sha1.create()}var c=s.digestLength,u=s.blockLength,f=new br.util.ByteBuffer,m=new br.util.ByteBuffer;if(e!=null){for(l=0;l<e.length;l++)m.putInt16(e.charCodeAt(l));m.putInt16(0)}var h=m.length(),p=t.length(),A=new br.util.ByteBuffer;A.fillWithByte(r,u);var E=u*Math.ceil(p/u),x=new br.util.ByteBuffer;for(l=0;l<E;l++)x.putByte(t.at(l%p));var b=u*Math.ceil(h/u),v=new br.util.ByteBuffer;for(l=0;l<b;l++)v.putByte(m.at(l%h));var S=x;S.putBuffer(v);for(var k=Math.ceil(i/c),P=1;P<=k;P++){var N=new br.util.ByteBuffer;N.putBytes(A.bytes()),N.putBytes(S.bytes());for(var W=0;W<n;W++)s.start(),s.update(N.getBytes()),N=s.digest();var re=new br.util.ByteBuffer;for(l=0;l<u;l++)re.putByte(N.at(l%c));var ge=Math.ceil(p/u)+Math.ceil(h/u),te=new br.util.ByteBuffer;for(a=0;a<ge;a++){var G=new br.util.ByteBuffer(S.getBytes(u)),q=511;for(l=re.length()-1;l>=0;l--)q=q>>8,q+=re.at(l)+G.at(l),G.setAt(l,q&255);te.putBuffer(G)}S=te,f.putBuffer(N)}return f.truncate(f.length()-i),f};$n.pbe.getCipher=function(e,t,r){switch(e){case $n.oids.pkcs5PBES2:return $n.pbe.getCipherForPBES2(e,t,r);case $n.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case $n.oids["pbewithSHAAnd40BitRC2-CBC"]:return $n.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};$n.pbe.getCipherForPBES2=function(e,t,r){var n={},i=[];if(!mt.validate(t,zEt,n,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}if(e=mt.derToOid(n.kdfOid),e!==$n.oids.pkcs5PBKDF2){var s=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw s.oid=e,s.supportedOids=["pkcs5PBKDF2"],s}if(e=mt.derToOid(n.encOid),e!==$n.oids["aes128-CBC"]&&e!==$n.oids["aes192-CBC"]&&e!==$n.oids["aes256-CBC"]&&e!==$n.oids["des-EDE3-CBC"]&&e!==$n.oids.desCBC){var s=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw s.oid=e,s.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],s}var a=n.kdfSalt,l=br.util.createBuffer(n.kdfIterationCount);l=l.getInt(l.length()<<3);var c,u;switch($n.oids[e]){case"aes128-CBC":c=16,u=br.aes.createDecryptionCipher;break;case"aes192-CBC":c=24,u=br.aes.createDecryptionCipher;break;case"aes256-CBC":c=32,u=br.aes.createDecryptionCipher;break;case"des-EDE3-CBC":c=24,u=br.des.createDecryptionCipher;break;case"desCBC":c=8,u=br.des.createDecryptionCipher;break}var f=lBe(n.prfOid),m=br.pkcs5.pbkdf2(r,a,l,c,f),h=n.encIv,p=u(m);return p.start(h),p};$n.pbe.getCipherForPKCS12PBE=function(e,t,r){var n={},i=[];if(!mt.validate(t,YEt,n,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var a=br.util.createBuffer(n.salt),l=br.util.createBuffer(n.iterations);l=l.getInt(l.length()<<3);var c,u,f;switch(e){case $n.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:c=24,u=8,f=br.des.startDecrypting;break;case $n.oids["pbewithSHAAnd40BitRC2-CBC"]:c=5,u=8,f=o(function(E,x){var b=br.rc2.createDecryptionCipher(E,40);return b.start(x,null),b},"cipherFn");break;default:var s=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw s.oid=e,s}var m=lBe(n.prfOid),h=$n.pbe.generatePkcs12Key(r,a,1,l,c,m);m.start();var p=$n.pbe.generatePkcs12Key(r,a,2,l,u,m);return f(h,p)};$n.pbe.opensslDeriveBytes=function(e,t,r,n){if(typeof n>"u"||n===null){if(!("md5"in br.md))throw new Error('"md5" hash algorithm unavailable.');n=br.md.md5.create()}t===null&&(t="");for(var i=[aBe(n,e+t)],s=16,a=1;s<r;++a,s+=16)i.push(aBe(n,i[a-1]+e+t));return i.join("").substr(0,r)};function aBe(e,t){return e.start().update(t).digest().getBytes()}o(aBe,"hash");function lBe(e){var t;if(!e)t="hmacWithSHA1";else if(t=$n.oids[mt.derToOid(e)],!t){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return cBe(t)}o(lBe,"prfOidToMessageDigest");function cBe(e){var t=br.md;switch(e){case"hmacWithSHA224":t=br.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}o(cBe,"prfAlgorithmToMessageDigest");function KEt(e,t,r,n){var i=mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.OCTETSTRING,!1,e),mt.create(mt.Class.UNIVERSAL,mt.Type.INTEGER,!1,t.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(mt.create(mt.Class.UNIVERSAL,mt.Type.INTEGER,!1,br.util.hexToBytes(r.toString(16))),mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.OID,!1,mt.oidToDer($n.oids[n]).getBytes()),mt.create(mt.Class.UNIVERSAL,mt.Type.NULL,!1,"")])),i}o(KEt,"createPbkdf2Params")});var Cie=V((QUr,mBe)=>{d();var l8=Jn();Hm();Ki();var Cr=l8.asn1,c8=mBe.exports=l8.pkcs7asn1=l8.pkcs7asn1||{};l8.pkcs7=l8.pkcs7||{};l8.pkcs7.asn1=c8;var fBe={name:"ContentInfo",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:Cr.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};c8.contentInfoValidator=fBe;var dBe={name:"EncryptedContentInfo",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:Cr.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:Cr.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};c8.envelopedDataValidator={name:"EnvelopedData",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(dBe)};c8.encryptedDataValidator={name:"EncryptedData",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.INTEGER,constructed:!1,capture:"version"}].concat(dBe)};var JEt={name:"SignerInfo",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:Cr.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:Cr.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:Cr.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};c8.signedDataValidator={name:"SignedData",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},fBe,{name:"SignedData.Certificates",tagClass:Cr.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:Cr.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.SET,capture:"signerInfos",optional:!0,value:[JEt]}]};c8.recipientInfoValidator={name:"RecipientInfo",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:Cr.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:Cr.Class.UNIVERSAL,type:Cr.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}});var Eie=V((OUr,hBe)=>{d();var O4=Jn();Ki();O4.mgf=O4.mgf||{};var XEt=hBe.exports=O4.mgf.mgf1=O4.mgf1=O4.mgf1||{};XEt.create=function(e){var t={generate:o(function(r,n){for(var i=new O4.util.ByteBuffer,s=Math.ceil(n/e.digestLength),a=0;a<s;a++){var l=new O4.util.ByteBuffer;l.putInt32(a),e.start(),e.update(r+l.getBytes()),i.putBuffer(e.digest())}return i.truncate(i.length()-n),i.getBytes()},"generate")};return t}});var gBe=V((GUr,pBe)=>{d();var zO=Jn();Eie();pBe.exports=zO.mgf=zO.mgf||{};zO.mgf.mgf1=zO.mgf1});var YO=V((HUr,ABe)=>{d();var U4=Jn();pd();Ki();var ZEt=ABe.exports=U4.pss=U4.pss||{};ZEt.create=function(e){arguments.length===3&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t=e.md,r=e.mgf,n=t.digestLength,i=e.salt||null;typeof i=="string"&&(i=U4.util.createBuffer(i));var s;if("saltLength"in e)s=e.saltLength;else if(i!==null)s=i.length();else throw new Error("Salt length not specified or specific salt not given.");if(i!==null&&i.length()!==s)throw new Error("Given salt length does not match length of given salt.");var a=e.prng||U4.random,l={};return l.encode=function(c,u){var f,m=u-1,h=Math.ceil(m/8),p=c.digest().getBytes();if(h<n+s+2)throw new Error("Message is too long to encrypt.");var A;i===null?A=a.getBytesSync(s):A=i.bytes();var E=new U4.util.ByteBuffer;E.fillWithByte(0,8),E.putBytes(p),E.putBytes(A),t.start(),t.update(E.getBytes());var x=t.digest().getBytes(),b=new U4.util.ByteBuffer;b.fillWithByte(0,h-s-n-2),b.putByte(1),b.putBytes(A);var v=b.getBytes(),S=h-n-1,k=r.generate(x,S),P="";for(f=0;f<S;f++)P+=String.fromCharCode(v.charCodeAt(f)^k.charCodeAt(f));var N=65280>>8*h-m&255;return P=String.fromCharCode(P.charCodeAt(0)&~N)+P.substr(1),P+x+"\xBC"},l.verify=function(c,u,f){var m,h=f-1,p=Math.ceil(h/8);if(u=u.substr(-p),p<n+s+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(u.charCodeAt(p-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var A=p-n-1,E=u.substr(0,A),x=u.substr(A,n),b=65280>>8*p-h&255;if((E.charCodeAt(0)&b)!==0)throw new Error("Bits beyond keysize not zero as expected.");var v=r.generate(x,A),S="";for(m=0;m<A;m++)S+=String.fromCharCode(E.charCodeAt(m)^v.charCodeAt(m));S=String.fromCharCode(S.charCodeAt(0)&~b)+S.substr(1);var k=p-n-s-2;for(m=0;m<k;m++)if(S.charCodeAt(m)!==0)throw new Error("Leftmost octets not zero as expected");if(S.charCodeAt(k)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var P=S.substr(-s),N=new U4.util.ByteBuffer;N.fillWithByte(0,8),N.putBytes(c),N.putBytes(P),t.start(),t.update(N.getBytes());var W=t.digest().getBytes();return x===W},l}});var XO=V((jUr,vBe)=>{d();var Zr=Jn();ry();Hm();Xw();Bp();gBe();ny();F4();YO();t_();Ki();var $=Zr.asn1,nr=vBe.exports=Zr.pki=Zr.pki||{},Gi=nr.oids,Vs={};Vs.CN=Gi.commonName;Vs.commonName="CN";Vs.C=Gi.countryName;Vs.countryName="C";Vs.L=Gi.localityName;Vs.localityName="L";Vs.ST=Gi.stateOrProvinceName;Vs.stateOrProvinceName="ST";Vs.O=Gi.organizationName;Vs.organizationName="O";Vs.OU=Gi.organizationalUnitName;Vs.organizationalUnitName="OU";Vs.E=Gi.emailAddress;Vs.emailAddress="E";var CBe=Zr.pki.rsa.publicKeyValidator,ext={name:"Certificate",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:$.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:$.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:$.Class.UNIVERSAL,type:$.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:$.Class.UNIVERSAL,type:$.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:$.Class.UNIVERSAL,type:$.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:$.Class.UNIVERSAL,type:$.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},CBe,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:$.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:$.Class.UNIVERSAL,type:$.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:$.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:$.Class.UNIVERSAL,type:$.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:$.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:$.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:$.Class.UNIVERSAL,type:$.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},txt={name:"rsapss",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:$.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:$.Class.UNIVERSAL,type:$.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:$.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:$.Class.UNIVERSAL,type:$.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:$.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:$.Class.UNIVERSAL,type:$.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:$.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:$.Class.UNIVERSAL,type:$.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},rxt={name:"CertificationRequestInfo",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},CBe,{name:"CertificationRequestInfo.attributes",tagClass:$.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:$.Class.UNIVERSAL,type:$.Type.SET,constructed:!0}]}]}]},nxt={name:"CertificationRequest",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[rxt,{name:"CertificationRequest.signatureAlgorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:$.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:$.Class.UNIVERSAL,type:$.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};nr.RDNAttributesAsArray=function(e,t){for(var r=[],n,i,s,a=0;a<e.value.length;++a){n=e.value[a];for(var l=0;l<n.value.length;++l)s={},i=n.value[l],s.type=$.derToOid(i.value[0].value),s.value=i.value[1].value,s.valueTagClass=i.value[1].type,s.type in Gi&&(s.name=Gi[s.type],s.name in Vs&&(s.shortName=Vs[s.name])),t&&(t.update(s.type),t.update(s.value)),r.push(s)}return r};nr.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],i=$.derToOid(n.value[0].value),s=n.value[1].value,a=0;a<s.length;++a){var l={};if(l.type=i,l.value=s[a].value,l.valueTagClass=s[a].type,l.type in Gi&&(l.name=Gi[l.type],l.name in Vs&&(l.shortName=Vs[l.name])),l.type===Gi.extensionRequest){l.extensions=[];for(var c=0;c<l.value.length;++c)l.extensions.push(nr.certificateExtensionFromAsn1(l.value[c]))}t.push(l)}return t};function sy(e,t){typeof t=="string"&&(t={shortName:t});for(var r=null,n,i=0;r===null&&i<e.attributes.length;++i)n=e.attributes[i],(t.type&&t.type===n.type||t.name&&t.name===n.name||t.shortName&&t.shortName===n.shortName)&&(r=n);return r}o(sy,"_getAttribute");var KO=o(function(e,t,r){var n={};if(e!==Gi["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:Gi.sha1},mgf:{algorithmOid:Gi.mgf1,hash:{algorithmOid:Gi.sha1}},saltLength:20});var i={},s=[];if(!$.validate(t,txt,i,s)){var a=new Error("Cannot read RSASSA-PSS parameter block.");throw a.errors=s,a}return i.hashOid!==void 0&&(n.hash=n.hash||{},n.hash.algorithmOid=$.derToOid(i.hashOid)),i.maskGenOid!==void 0&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=$.derToOid(i.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=$.derToOid(i.maskGenHashOid)),i.saltLength!==void 0&&(n.saltLength=i.saltLength.charCodeAt(0)),n},"_readSignatureParameters"),JO=o(function(e){switch(Gi[e.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return Zr.md.sha1.create();case"md5WithRSAEncryption":return Zr.md.md5.create();case"sha256WithRSAEncryption":return Zr.md.sha256.create();case"sha384WithRSAEncryption":return Zr.md.sha384.create();case"sha512WithRSAEncryption":return Zr.md.sha512.create();case"RSASSA-PSS":return Zr.md.sha256.create();default:var t=new Error("Could not compute "+e.type+" digest. Unknown signature OID.");throw t.signatureOid=e.signatureOid,t}},"_createSignatureDigest"),EBe=o(function(e){var t=e.certificate,r;switch(t.signatureOid){case Gi.sha1WithRSAEncryption:case Gi.sha1WithRSASignature:break;case Gi["RSASSA-PSS"]:var n,i;if(n=Gi[t.signatureParameters.mgf.hash.algorithmOid],n===void 0||Zr.md[n]===void 0){var s=new Error("Unsupported MGF hash function.");throw s.oid=t.signatureParameters.mgf.hash.algorithmOid,s.name=n,s}if(i=Gi[t.signatureParameters.mgf.algorithmOid],i===void 0||Zr.mgf[i]===void 0){var s=new Error("Unsupported MGF function.");throw s.oid=t.signatureParameters.mgf.algorithmOid,s.name=i,s}if(i=Zr.mgf[i].create(Zr.md[n].create()),n=Gi[t.signatureParameters.hash.algorithmOid],n===void 0||Zr.md[n]===void 0){var s=new Error("Unsupported RSASSA-PSS hash function.");throw s.oid=t.signatureParameters.hash.algorithmOid,s.name=n,s}r=Zr.pss.create(Zr.md[n].create(),i,t.signatureParameters.saltLength);break}return t.publicKey.verify(e.md.digest().getBytes(),e.signature,r)},"_verifySignature");nr.certificateFromPem=function(e,t,r){var n=Zr.pem.decode(e)[0];if(n.type!=="CERTIFICATE"&&n.type!=="X509 CERTIFICATE"&&n.type!=="TRUSTED CERTIFICATE"){var i=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var s=$.fromDer(n.body,r);return nr.certificateFromAsn1(s,t)};nr.certificateToPem=function(e,t){var r={type:"CERTIFICATE",body:$.toDer(nr.certificateToAsn1(e)).getBytes()};return Zr.pem.encode(r,{maxline:t})};nr.publicKeyFromPem=function(e){var t=Zr.pem.decode(e)[0];if(t.type!=="PUBLIC KEY"&&t.type!=="RSA PUBLIC KEY"){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=$.fromDer(t.body);return nr.publicKeyFromAsn1(n)};nr.publicKeyToPem=function(e,t){var r={type:"PUBLIC KEY",body:$.toDer(nr.publicKeyToAsn1(e)).getBytes()};return Zr.pem.encode(r,{maxline:t})};nr.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:"RSA PUBLIC KEY",body:$.toDer(nr.publicKeyToRSAPublicKey(e)).getBytes()};return Zr.pem.encode(r,{maxline:t})};nr.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||Zr.md.sha1.create(),n=t.type||"RSAPublicKey",i;switch(n){case"RSAPublicKey":i=$.toDer(nr.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":i=$.toDer(nr.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}r.start(),r.update(i);var s=r.digest();if(t.encoding==="hex"){var a=s.toHex();return t.delimiter?a.match(/.{2}/g).join(t.delimiter):a}else{if(t.encoding==="binary")return s.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return s};nr.certificationRequestFromPem=function(e,t,r){var n=Zr.pem.decode(e)[0];if(n.type!=="CERTIFICATE REQUEST"){var i=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var s=$.fromDer(n.body,r);return nr.certificationRequestFromAsn1(s,t)};nr.certificationRequestToPem=function(e,t){var r={type:"CERTIFICATE REQUEST",body:$.toDer(nr.certificationRequestToAsn1(e)).getBytes()};return Zr.pem.encode(r,{maxline:t})};nr.createCertificate=function(){var e={};return e.version=2,e.serialNumber="00",e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return sy(e.issuer,t)},e.issuer.addField=function(t){yd([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return sy(e.subject,t)},e.subject.addField=function(t){yd([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){yd(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){yd(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)xBe(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){typeof t=="string"&&(t={name:t});for(var r=null,n,i=0;r===null&&i<e.extensions.length;++i)n=e.extensions[i],(t.id&&n.id===t.id||t.name&&n.name===t.name)&&(r=n);return r},e.sign=function(t,r){e.md=r||Zr.md.sha1.create();var n=Gi[e.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw i.algorithm=e.md.algorithm,i}e.signatureOid=e.siginfo.algorithmOid=n,e.tbsCertificate=nr.getTBSCertificate(e);var s=$.toDer(e.tbsCertificate);e.md.update(s.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var n=t.issuer,i=e.subject,s=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw s.expectedIssuer=i.attributes,s.actualIssuer=n.attributes,s}var a=t.md;if(a===null){a=JO({signatureOid:t.signatureOid,type:"certificate"});var l=t.tbsCertificate||nr.getTBSCertificate(t),c=$.toDer(l);a.update(c.getBytes())}return a!==null&&(r=EBe({certificate:e,md:a,signature:t.signature})),r},e.isIssuer=function(t){var r=!1,n=e.issuer,i=t.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){r=!0;for(var s,a,l=0;r&&l<n.attributes.length;++l)s=n.attributes[l],a=i.attributes[l],(s.type!==a.type||s.value!==a.value)&&(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return nr.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=Gi.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var n=e.extensions[r];if(n.id===t){var i=e.generateSubjectKeyIdentifier().getBytes();return Zr.util.hexToBytes(n.subjectKeyIdentifier)===i}}return!1},e};nr.certificateFromAsn1=function(e,t){var r={},n=[];if(!$.validate(e,ext,r,n)){var i=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw i.errors=n,i}var s=$.derToOid(r.publicKeyOid);if(s!==nr.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=nr.createCertificate();a.version=r.certVersion?r.certVersion.charCodeAt(0):0;var l=Zr.util.createBuffer(r.certSerialNumber);a.serialNumber=l.toHex(),a.signatureOid=Zr.asn1.derToOid(r.certSignatureOid),a.signatureParameters=KO(a.signatureOid,r.certSignatureParams,!0),a.siginfo.algorithmOid=Zr.asn1.derToOid(r.certinfoSignatureOid),a.siginfo.parameters=KO(a.siginfo.algorithmOid,r.certinfoSignatureParams,!1),a.signature=r.certSignature;var c=[];if(r.certValidity1UTCTime!==void 0&&c.push($.utcTimeToDate(r.certValidity1UTCTime)),r.certValidity2GeneralizedTime!==void 0&&c.push($.generalizedTimeToDate(r.certValidity2GeneralizedTime)),r.certValidity3UTCTime!==void 0&&c.push($.utcTimeToDate(r.certValidity3UTCTime)),r.certValidity4GeneralizedTime!==void 0&&c.push($.generalizedTimeToDate(r.certValidity4GeneralizedTime)),c.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(c.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(a.validity.notBefore=c[0],a.validity.notAfter=c[1],a.tbsCertificate=r.tbsCertificate,t){a.md=JO({signatureOid:a.signatureOid,type:"certificate"});var u=$.toDer(a.tbsCertificate);a.md.update(u.getBytes())}var f=Zr.md.sha1.create(),m=$.toDer(r.certIssuer);f.update(m.getBytes()),a.issuer.getField=function(A){return sy(a.issuer,A)},a.issuer.addField=function(A){yd([A]),a.issuer.attributes.push(A)},a.issuer.attributes=nr.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(a.issuer.uniqueId=r.certIssuerUniqueId),a.issuer.hash=f.digest().toHex();var h=Zr.md.sha1.create(),p=$.toDer(r.certSubject);return h.update(p.getBytes()),a.subject.getField=function(A){return sy(a.subject,A)},a.subject.addField=function(A){yd([A]),a.subject.attributes.push(A)},a.subject.attributes=nr.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(a.subject.uniqueId=r.certSubjectUniqueId),a.subject.hash=h.digest().toHex(),r.certExtensions?a.extensions=nr.certificateExtensionsFromAsn1(r.certExtensions):a.extensions=[],a.publicKey=nr.publicKeyFromAsn1(r.subjectPublicKeyInfo),a};nr.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var n=e.value[r],i=0;i<n.value.length;++i)t.push(nr.certificateExtensionFromAsn1(n.value[i]));return t};nr.certificateExtensionFromAsn1=function(e){var t={};if(t.id=$.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===$.Type.BOOLEAN?(t.critical=e.value[1].value.charCodeAt(0)!==0,t.value=e.value[2].value):t.value=e.value[1].value,t.id in Gi){if(t.name=Gi[t.id],t.name==="keyUsage"){var r=$.fromDer(t.value),n=0,i=0;r.value.length>1&&(n=r.value.charCodeAt(1),i=r.value.length>2?r.value.charCodeAt(2):0),t.digitalSignature=(n&128)===128,t.nonRepudiation=(n&64)===64,t.keyEncipherment=(n&32)===32,t.dataEncipherment=(n&16)===16,t.keyAgreement=(n&8)===8,t.keyCertSign=(n&4)===4,t.cRLSign=(n&2)===2,t.encipherOnly=(n&1)===1,t.decipherOnly=(i&128)===128}else if(t.name==="basicConstraints"){var r=$.fromDer(t.value);r.value.length>0&&r.value[0].type===$.Type.BOOLEAN?t.cA=r.value[0].value.charCodeAt(0)!==0:t.cA=!1;var s=null;r.value.length>0&&r.value[0].type===$.Type.INTEGER?s=r.value[0].value:r.value.length>1&&(s=r.value[1].value),s!==null&&(t.pathLenConstraint=$.derToInteger(s))}else if(t.name==="extKeyUsage")for(var r=$.fromDer(t.value),a=0;a<r.value.length;++a){var l=$.derToOid(r.value[a].value);l in Gi?t[Gi[l]]=!0:t[l]=!0}else if(t.name==="nsCertType"){var r=$.fromDer(t.value),n=0;r.value.length>1&&(n=r.value.charCodeAt(1)),t.client=(n&128)===128,t.server=(n&64)===64,t.email=(n&32)===32,t.objsign=(n&16)===16,t.reserved=(n&8)===8,t.sslCA=(n&4)===4,t.emailCA=(n&2)===2,t.objCA=(n&1)===1}else if(t.name==="subjectAltName"||t.name==="issuerAltName"){t.altNames=[];for(var c,r=$.fromDer(t.value),u=0;u<r.value.length;++u){c=r.value[u];var f={type:c.type,value:c.value};switch(t.altNames.push(f),c.type){case 1:case 2:case 6:break;case 7:f.ip=Zr.util.bytesToIP(c.value);break;case 8:f.oid=$.derToOid(c.value);break;default:}}}else if(t.name==="subjectKeyIdentifier"){var r=$.fromDer(t.value);t.subjectKeyIdentifier=Zr.util.bytesToHex(r.value)}}return t};nr.certificationRequestFromAsn1=function(e,t){var r={},n=[];if(!$.validate(e,nxt,r,n)){var i=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw i.errors=n,i}var s=$.derToOid(r.publicKeyOid);if(s!==nr.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=nr.createCertificationRequest();if(a.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,a.signatureOid=Zr.asn1.derToOid(r.csrSignatureOid),a.signatureParameters=KO(a.signatureOid,r.csrSignatureParams,!0),a.siginfo.algorithmOid=Zr.asn1.derToOid(r.csrSignatureOid),a.siginfo.parameters=KO(a.siginfo.algorithmOid,r.csrSignatureParams,!1),a.signature=r.csrSignature,a.certificationRequestInfo=r.certificationRequestInfo,t){a.md=JO({signatureOid:a.signatureOid,type:"certification request"});var l=$.toDer(a.certificationRequestInfo);a.md.update(l.getBytes())}var c=Zr.md.sha1.create();return a.subject.getField=function(u){return sy(a.subject,u)},a.subject.addField=function(u){yd([u]),a.subject.attributes.push(u)},a.subject.attributes=nr.RDNAttributesAsArray(r.certificationRequestInfoSubject,c),a.subject.hash=c.digest().toHex(),a.publicKey=nr.publicKeyFromAsn1(r.subjectPublicKeyInfo),a.getAttribute=function(u){return sy(a,u)},a.addAttribute=function(u){yd([u]),a.attributes.push(u)},a.attributes=nr.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),a};nr.createCertificationRequest=function(){var e={};return e.version=0,e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return sy(e.subject,t)},e.subject.addField=function(t){yd([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return sy(e,t)},e.addAttribute=function(t){yd([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){yd(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){yd(t),e.attributes=t},e.sign=function(t,r){e.md=r||Zr.md.sha1.create();var n=Gi[e.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw i.algorithm=e.md.algorithm,i}e.signatureOid=e.siginfo.algorithmOid=n,e.certificationRequestInfo=nr.getCertificationRequestInfo(e);var s=$.toDer(e.certificationRequestInfo);e.md.update(s.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(r===null){r=JO({signatureOid:e.signatureOid,type:"certification request"});var n=e.certificationRequestInfo||nr.getCertificationRequestInfo(e),i=$.toDer(n);r.update(i.getBytes())}return r!==null&&(t=EBe({certificate:e,md:r,signature:e.signature})),t},e};function u8(e){for(var t=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]),r,n,i=e.attributes,s=0;s<i.length;++s){r=i[s];var a=r.value,l=$.Type.PRINTABLESTRING;"valueTagClass"in r&&(l=r.valueTagClass,l===$.Type.UTF8&&(a=Zr.util.encodeUtf8(a))),n=$.create($.Class.UNIVERSAL,$.Type.SET,!0,[$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(r.type).getBytes()),$.create($.Class.UNIVERSAL,l,!1,a)])]),t.value.push(n)}return t}o(u8,"_dnToAsn1");function yd(e){for(var t,r=0;r<e.length;++r){if(t=e[r],typeof t.name>"u"&&(t.type&&t.type in nr.oids?t.name=nr.oids[t.type]:t.shortName&&t.shortName in Vs&&(t.name=nr.oids[Vs[t.shortName]])),typeof t.type>"u")if(t.name&&t.name in nr.oids)t.type=nr.oids[t.name];else{var n=new Error("Attribute type not specified.");throw n.attribute=t,n}if(typeof t.shortName>"u"&&t.name&&t.name in Vs&&(t.shortName=Vs[t.name]),t.type===Gi.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=$.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var i=0;i<t.extensions.length;++i)t.value.push(nr.certificateExtensionToAsn1(xBe(t.extensions[i])))}if(typeof t.value>"u"){var n=new Error("Attribute value not specified.");throw n.attribute=t,n}}}o(yd,"_fillMissingFields");function xBe(e,t){if(t=t||{},typeof e.name>"u"&&e.id&&e.id in nr.oids&&(e.name=nr.oids[e.id]),typeof e.id>"u")if(e.name&&e.name in nr.oids)e.id=nr.oids[e.name];else{var r=new Error("Extension ID not specified.");throw r.extension=e,r}if(typeof e.value<"u")return e;if(e.name==="keyUsage"){var n=0,i=0,s=0;e.digitalSignature&&(i|=128,n=7),e.nonRepudiation&&(i|=64,n=6),e.keyEncipherment&&(i|=32,n=5),e.dataEncipherment&&(i|=16,n=4),e.keyAgreement&&(i|=8,n=3),e.keyCertSign&&(i|=4,n=2),e.cRLSign&&(i|=2,n=1),e.encipherOnly&&(i|=1,n=0),e.decipherOnly&&(s|=128,n=7);var a=String.fromCharCode(n);s!==0?a+=String.fromCharCode(i)+String.fromCharCode(s):i!==0&&(a+=String.fromCharCode(i)),e.value=$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,a)}else if(e.name==="basicConstraints")e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push($.create($.Class.UNIVERSAL,$.Type.BOOLEAN,!1,"\xFF")),"pathLenConstraint"in e&&e.value.value.push($.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(e.pathLenConstraint).getBytes()));else if(e.name==="extKeyUsage"){e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);var l=e.value.value;for(var c in e)e[c]===!0&&(c in Gi?l.push($.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(Gi[c]).getBytes())):c.indexOf(".")!==-1&&l.push($.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(c).getBytes())))}else if(e.name==="nsCertType"){var n=0,i=0;e.client&&(i|=128,n=7),e.server&&(i|=64,n=6),e.email&&(i|=32,n=5),e.objsign&&(i|=16,n=4),e.reserved&&(i|=8,n=3),e.sslCA&&(i|=4,n=2),e.emailCA&&(i|=2,n=1),e.objCA&&(i|=1,n=0);var a=String.fromCharCode(n);i!==0&&(a+=String.fromCharCode(i)),e.value=$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,a)}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);for(var u,f=0;f<e.altNames.length;++f){u=e.altNames[f];var a=u.value;if(u.type===7&&u.ip){if(a=Zr.util.bytesFromIP(u.ip),a===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else u.type===8&&(u.oid?a=$.oidToDer($.oidToDer(u.oid)):a=$.oidToDer(a));e.value.value.push($.create($.Class.CONTEXT_SPECIFIC,u.type,!1,a))}}else if(e.name==="nsComment"&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=$.create($.Class.UNIVERSAL,$.Type.IA5STRING,!1,e.comment)}else if(e.name==="subjectKeyIdentifier"&&t.cert){var m=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=m.toHex(),e.value=$.create($.Class.UNIVERSAL,$.Type.OCTETSTRING,!1,m.getBytes())}else if(e.name==="authorityKeyIdentifier"&&t.cert){e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);var l=e.value.value;if(e.keyIdentifier){var h=e.keyIdentifier===!0?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;l.push($.create($.Class.CONTEXT_SPECIFIC,0,!1,h))}if(e.authorityCertIssuer){var p=[$.create($.Class.CONTEXT_SPECIFIC,4,!0,[u8(e.authorityCertIssuer===!0?t.cert.issuer:e.authorityCertIssuer)])];l.push($.create($.Class.CONTEXT_SPECIFIC,1,!0,p))}if(e.serialNumber){var A=Zr.util.hexToBytes(e.serialNumber===!0?t.cert.serialNumber:e.serialNumber);l.push($.create($.Class.CONTEXT_SPECIFIC,2,!1,A))}}else if(e.name==="cRLDistributionPoints"){e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);for(var l=e.value.value,E=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]),x=$.create($.Class.CONTEXT_SPECIFIC,0,!0,[]),u,f=0;f<e.altNames.length;++f){u=e.altNames[f];var a=u.value;if(u.type===7&&u.ip){if(a=Zr.util.bytesFromIP(u.ip),a===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else u.type===8&&(u.oid?a=$.oidToDer($.oidToDer(u.oid)):a=$.oidToDer(a));x.value.push($.create($.Class.CONTEXT_SPECIFIC,u.type,!1,a))}E.value.push($.create($.Class.CONTEXT_SPECIFIC,0,!0,[x])),l.push(E)}if(typeof e.value>"u"){var r=new Error("Extension value not specified.");throw r.extension=e,r}return e}o(xBe,"_fillMissingExtensionFields");function xie(e,t){switch(e){case Gi["RSASSA-PSS"]:var r=[];return t.hash.algorithmOid!==void 0&&r.push($.create($.Class.CONTEXT_SPECIFIC,0,!0,[$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(t.hash.algorithmOid).getBytes()),$.create($.Class.UNIVERSAL,$.Type.NULL,!1,"")])])),t.mgf.algorithmOid!==void 0&&r.push($.create($.Class.CONTEXT_SPECIFIC,1,!0,[$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(t.mgf.algorithmOid).getBytes()),$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(t.mgf.hash.algorithmOid).getBytes()),$.create($.Class.UNIVERSAL,$.Type.NULL,!1,"")])])])),t.saltLength!==void 0&&r.push($.create($.Class.CONTEXT_SPECIFIC,2,!0,[$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(t.saltLength).getBytes())])),$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,r);default:return $.create($.Class.UNIVERSAL,$.Type.NULL,!1,"")}}o(xie,"_signatureParametersToAsn1");function ixt(e){var t=$.create($.Class.CONTEXT_SPECIFIC,0,!0,[]);if(e.attributes.length===0)return t;for(var r=e.attributes,n=0;n<r.length;++n){var i=r[n],s=i.value,a=$.Type.UTF8;"valueTagClass"in i&&(a=i.valueTagClass),a===$.Type.UTF8&&(s=Zr.util.encodeUtf8(s));var l=!1;"valueConstructed"in i&&(l=i.valueConstructed);var c=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(i.type).getBytes()),$.create($.Class.UNIVERSAL,$.Type.SET,!0,[$.create($.Class.UNIVERSAL,a,l,s)])]);t.value.push(c)}return t}o(ixt,"_CRIAttributesToAsn1");var oxt=new Date("1950-01-01T00:00:00Z"),sxt=new Date("2050-01-01T00:00:00Z");function yBe(e){return e>=oxt&&e<sxt?$.create($.Class.UNIVERSAL,$.Type.UTCTIME,!1,$.dateToUtcTime(e)):$.create($.Class.UNIVERSAL,$.Type.GENERALIZEDTIME,!1,$.dateToGeneralizedTime(e))}o(yBe,"_dateToAsn1");nr.getTBSCertificate=function(e){var t=yBe(e.validity.notBefore),r=yBe(e.validity.notAfter),n=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.CONTEXT_SPECIFIC,0,!0,[$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(e.version).getBytes())]),$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,Zr.util.hexToBytes(e.serialNumber)),$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(e.siginfo.algorithmOid).getBytes()),xie(e.siginfo.algorithmOid,e.siginfo.parameters)]),u8(e.issuer),$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[t,r]),u8(e.subject),nr.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&n.value.push($.create($.Class.CONTEXT_SPECIFIC,1,!0,[$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,"\0"+e.issuer.uniqueId)])),e.subject.uniqueId&&n.value.push($.create($.Class.CONTEXT_SPECIFIC,2,!0,[$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,"\0"+e.subject.uniqueId)])),e.extensions.length>0&&n.value.push(nr.certificateExtensionsToAsn1(e.extensions)),n};nr.getCertificationRequestInfo=function(e){var t=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(e.version).getBytes()),u8(e.subject),nr.publicKeyToAsn1(e.publicKey),ixt(e)]);return t};nr.distinguishedNameToAsn1=function(e){return u8(e)};nr.certificateToAsn1=function(e){var t=e.tbsCertificate||nr.getTBSCertificate(e);return $.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[t,$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(e.signatureOid).getBytes()),xie(e.signatureOid,e.signatureParameters)]),$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,"\0"+e.signature)])};nr.certificateExtensionsToAsn1=function(e){var t=$.create($.Class.CONTEXT_SPECIFIC,3,!0,[]),r=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n=0;n<e.length;++n)r.value.push(nr.certificateExtensionToAsn1(e[n]));return t};nr.certificateExtensionToAsn1=function(e){var t=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);t.value.push($.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(e.id).getBytes())),e.critical&&t.value.push($.create($.Class.UNIVERSAL,$.Type.BOOLEAN,!1,"\xFF"));var r=e.value;return typeof e.value!="string"&&(r=$.toDer(r).getBytes()),t.value.push($.create($.Class.UNIVERSAL,$.Type.OCTETSTRING,!1,r)),t};nr.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||nr.getCertificationRequestInfo(e);return $.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[t,$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(e.signatureOid).getBytes()),xie(e.signatureOid,e.signatureParameters)]),$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,"\0"+e.signature)])};nr.createCaStore=function(e){var t={certs:{}};t.getIssuer=function(a){var l=r(a.issuer);return l},t.addCertificate=function(a){if(typeof a=="string"&&(a=Zr.pki.certificateFromPem(a)),n(a.subject),!t.hasCertificate(a))if(a.subject.hash in t.certs){var l=t.certs[a.subject.hash];Zr.util.isArray(l)||(l=[l]),l.push(a),t.certs[a.subject.hash]=l}else t.certs[a.subject.hash]=a},t.hasCertificate=function(a){typeof a=="string"&&(a=Zr.pki.certificateFromPem(a));var l=r(a.subject);if(!l)return!1;Zr.util.isArray(l)||(l=[l]);for(var c=$.toDer(nr.certificateToAsn1(a)).getBytes(),u=0;u<l.length;++u){var f=$.toDer(nr.certificateToAsn1(l[u])).getBytes();if(c===f)return!0}return!1},t.listAllCertificates=function(){var a=[];for(var l in t.certs)if(t.certs.hasOwnProperty(l)){var c=t.certs[l];if(!Zr.util.isArray(c))a.push(c);else for(var u=0;u<c.length;++u)a.push(c[u])}return a},t.removeCertificate=function(a){var l;if(typeof a=="string"&&(a=Zr.pki.certificateFromPem(a)),n(a.subject),!t.hasCertificate(a))return null;var c=r(a.subject);if(!Zr.util.isArray(c))return l=t.certs[a.subject.hash],delete t.certs[a.subject.hash],l;for(var u=$.toDer(nr.certificateToAsn1(a)).getBytes(),f=0;f<c.length;++f){var m=$.toDer(nr.certificateToAsn1(c[f])).getBytes();u===m&&(l=c[f],c.splice(f,1))}return c.length===0&&delete t.certs[a.subject.hash],l};function r(a){return n(a),t.certs[a.hash]||null}o(r,"getBySubject");function n(a){if(!a.hash){var l=Zr.md.sha1.create();a.attributes=nr.RDNAttributesAsArray(u8(a),l),a.hash=l.digest().toHex()}}if(o(n,"ensureSubjectHasHash"),e)for(var i=0;i<e.length;++i){var s=e[i];t.addCertificate(s)}return t};nr.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};nr.verifyCertificateChain=function(e,t,r){typeof r=="function"&&(r={verify:r}),r=r||{},t=t.slice(0);var n=t.slice(0),i=r.validityCheckDate;typeof i>"u"&&(i=new Date);var s=!0,a=null,l=0;do{var c=t.shift(),u=null,f=!1;if(i&&(i<c.validity.notBefore||i>c.validity.notAfter)&&(a={message:"Certificate is not valid yet or has expired.",error:nr.certificateError.certificate_expired,notBefore:c.validity.notBefore,notAfter:c.validity.notAfter,now:i}),a===null){if(u=t[0]||e.getIssuer(c),u===null&&c.isIssuer(c)&&(f=!0,u=c),u){var m=u;Zr.util.isArray(m)||(m=[m]);for(var h=!1;!h&&m.length>0;){u=m.shift();try{h=u.verify(c)}catch{}}h||(a={message:"Certificate signature is invalid.",error:nr.certificateError.bad_certificate})}a===null&&(!u||f)&&!e.hasCertificate(c)&&(a={message:"Certificate is not trusted.",error:nr.certificateError.unknown_ca})}if(a===null&&u&&!c.isIssuer(u)&&(a={message:"Certificate issuer is invalid.",error:nr.certificateError.bad_certificate}),a===null)for(var p={keyUsage:!0,basicConstraints:!0},A=0;a===null&&A<c.extensions.length;++A){var E=c.extensions[A];E.critical&&!(E.name in p)&&(a={message:"Certificate has an unsupported critical extension.",error:nr.certificateError.unsupported_certificate})}if(a===null&&(!s||t.length===0&&(!u||f))){var x=c.getExtension("basicConstraints"),b=c.getExtension("keyUsage");if(b!==null&&(!b.keyCertSign||x===null)&&(a={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:nr.certificateError.bad_certificate}),a===null&&x!==null&&!x.cA&&(a={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:nr.certificateError.bad_certificate}),a===null&&b!==null&&"pathLenConstraint"in x){var v=l-1;v>x.pathLenConstraint&&(a={message:"Certificate basicConstraints pathLenConstraint violated.",error:nr.certificateError.bad_certificate})}}var S=a===null?!0:a.error,k=r.verify?r.verify(S,l,n):S;if(k===!0)a=null;else throw S===!0&&(a={message:"The application rejected the certificate.",error:nr.certificateError.bad_certificate}),(k||k===0)&&(typeof k=="object"&&!Zr.util.isArray(k)?(k.message&&(a.message=k.message),k.error&&(a.error=k.error)):typeof k=="string"&&(a.error=k)),a;s=!1,++l}while(t.length>0);return!0}});var bie=V((YUr,IBe)=>{d();var Uo=Jn();Hm();n8();ny();Cie();yie();pd();t_();a8();Ki();XO();var we=Uo.asn1,yi=Uo.pki,n_=IBe.exports=Uo.pkcs12=Uo.pkcs12||{},bBe={name:"ContentInfo",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:we.Class.UNIVERSAL,type:we.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:we.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},axt={name:"PFX",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:we.Class.UNIVERSAL,type:we.Type.INTEGER,constructed:!1,capture:"version"},bBe,{name:"PFX.macData",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:we.Class.UNIVERSAL,type:we.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:we.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:we.Class.UNIVERSAL,type:we.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:we.Class.UNIVERSAL,type:we.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:we.Class.UNIVERSAL,type:we.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},lxt={name:"SafeBag",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:we.Class.UNIVERSAL,type:we.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:we.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:we.Class.UNIVERSAL,type:we.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},cxt={name:"Attribute",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:we.Class.UNIVERSAL,type:we.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:we.Class.UNIVERSAL,type:we.Type.SET,constructed:!0,capture:"values"}]},uxt={name:"CertBag",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:we.Class.UNIVERSAL,type:we.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:we.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:we.Class.UNIVERSAL,type:we.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function r_(e,t,r,n){for(var i=[],s=0;s<e.length;s++)for(var a=0;a<e[s].safeBags.length;a++){var l=e[s].safeBags[a];if(!(n!==void 0&&l.type!==n)){if(t===null){i.push(l);continue}l.attributes[t]!==void 0&&l.attributes[t].indexOf(r)>=0&&i.push(l)}}return i}o(r_,"_getBagsByAttribute");n_.pkcs12FromAsn1=function(e,t,r){typeof t=="string"?(r=t,t=!0):t===void 0&&(t=!0);var n={},i=[];if(!we.validate(e,axt,n,i)){var s=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw s.errors=s,s}var a={version:n.version.charCodeAt(0),safeContents:[],getBags:o(function(x){var b={},v;return"localKeyId"in x?v=x.localKeyId:"localKeyIdHex"in x&&(v=Uo.util.hexToBytes(x.localKeyIdHex)),v===void 0&&!("friendlyName"in x)&&"bagType"in x&&(b[x.bagType]=r_(a.safeContents,null,null,x.bagType)),v!==void 0&&(b.localKeyId=r_(a.safeContents,"localKeyId",v,x.bagType)),"friendlyName"in x&&(b.friendlyName=r_(a.safeContents,"friendlyName",x.friendlyName,x.bagType)),b},"getBags"),getBagsByFriendlyName:o(function(x,b){return r_(a.safeContents,"friendlyName",x,b)},"getBagsByFriendlyName"),getBagsByLocalKeyId:o(function(x,b){return r_(a.safeContents,"localKeyId",x,b)},"getBagsByLocalKeyId")};if(n.version.charCodeAt(0)!==3){var s=new Error("PKCS#12 PFX of version other than 3 not supported.");throw s.version=n.version.charCodeAt(0),s}if(we.derToOid(n.contentType)!==yi.oids.data){var s=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw s.oid=we.derToOid(n.contentType),s}var l=n.content.value[0];if(l.tagClass!==we.Class.UNIVERSAL||l.type!==we.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(l=vie(l),n.mac){var c=null,u=0,f=we.derToOid(n.macAlgorithm);switch(f){case yi.oids.sha1:c=Uo.md.sha1.create(),u=20;break;case yi.oids.sha256:c=Uo.md.sha256.create(),u=32;break;case yi.oids.sha384:c=Uo.md.sha384.create(),u=48;break;case yi.oids.sha512:c=Uo.md.sha512.create(),u=64;break;case yi.oids.md5:c=Uo.md.md5.create(),u=16;break}if(c===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+f);var m=new Uo.util.ByteBuffer(n.macSalt),h="macIterations"in n?parseInt(Uo.util.bytesToHex(n.macIterations),16):1,p=n_.generateKey(r,m,3,h,u,c),A=Uo.hmac.create();A.start(c,p),A.update(l.value);var E=A.getMac();if(E.getBytes()!==n.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return fxt(a,l.value,t,r),a};function vie(e){if(e.composed||e.constructed){for(var t=Uo.util.createBuffer(),r=0;r<e.value.length;++r)t.putBytes(e.value[r].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}o(vie,"_decodePkcs7Data");function fxt(e,t,r,n){if(t=we.fromDer(t,r),t.tagClass!==we.Class.UNIVERSAL||t.type!==we.Type.SEQUENCE||t.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var i=0;i<t.value.length;i++){var s=t.value[i],a={},l=[];if(!we.validate(s,bBe,a,l)){var c=new Error("Cannot read ContentInfo.");throw c.errors=l,c}var u={encrypted:!1},f=null,m=a.content.value[0];switch(we.derToOid(a.contentType)){case yi.oids.data:if(m.tagClass!==we.Class.UNIVERSAL||m.type!==we.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");f=vie(m).value;break;case yi.oids.encryptedData:f=dxt(m,n),u.encrypted=!0;break;default:var c=new Error("Unsupported PKCS#12 contentType.");throw c.contentType=we.derToOid(a.contentType),c}u.safeBags=mxt(f,r,n),e.safeContents.push(u)}}o(fxt,"_decodeAuthenticatedSafe");function dxt(e,t){var r={},n=[];if(!we.validate(e,Uo.pkcs7.asn1.encryptedDataValidator,r,n)){var i=new Error("Cannot read EncryptedContentInfo.");throw i.errors=n,i}var s=we.derToOid(r.contentType);if(s!==yi.oids.data){var i=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw i.oid=s,i}s=we.derToOid(r.encAlgorithm);var a=yi.pbe.getCipher(s,r.encParameter,t),l=vie(r.encryptedContentAsn1),c=Uo.util.createBuffer(l.value);if(a.update(c),!a.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return a.output.getBytes()}o(dxt,"_decryptSafeContents");function mxt(e,t,r){if(!t&&e.length===0)return[];if(e=we.fromDer(e,t),e.tagClass!==we.Class.UNIVERSAL||e.type!==we.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],i=0;i<e.value.length;i++){var s=e.value[i],a={},l=[];if(!we.validate(s,lxt,a,l)){var c=new Error("Cannot read SafeBag.");throw c.errors=l,c}var u={type:we.derToOid(a.bagId),attributes:hxt(a.bagAttributes)};n.push(u);var f,m,h=a.bagValue.value[0];switch(u.type){case yi.oids.pkcs8ShroudedKeyBag:if(h=yi.decryptPrivateKeyInfo(h,r),h===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case yi.oids.keyBag:try{u.key=yi.privateKeyFromAsn1(h)}catch{u.key=null,u.asn1=h}continue;case yi.oids.certBag:f=uxt,m=o(function(){if(we.derToOid(a.certId)!==yi.oids.x509Certificate){var A=new Error("Unsupported certificate type, only X.509 supported.");throw A.oid=we.derToOid(a.certId),A}var E=we.fromDer(a.cert,t);try{u.cert=yi.certificateFromAsn1(E,!0)}catch{u.cert=null,u.asn1=E}},"decoder");break;default:var c=new Error("Unsupported PKCS#12 SafeBag type.");throw c.oid=u.type,c}if(f!==void 0&&!we.validate(h,f,a,l)){var c=new Error("Cannot read PKCS#12 "+f.name);throw c.errors=l,c}m()}return n}o(mxt,"_decodeSafeContents");function hxt(e){var t={};if(e!==void 0)for(var r=0;r<e.length;++r){var n={},i=[];if(!we.validate(e[r],cxt,n,i)){var s=new Error("Cannot read PKCS#12 BagAttribute.");throw s.errors=i,s}var a=we.derToOid(n.oid);if(yi.oids[a]!==void 0){t[yi.oids[a]]=[];for(var l=0;l<n.values.length;++l)t[yi.oids[a]].push(n.values[l].value)}}return t}o(hxt,"_decodeBagAttributes");n_.toPkcs12Asn1=function(e,t,r,n){n=n||{},n.saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var i=n.localKeyId,s;if(i!==null)i=Uo.util.hexToBytes(i);else if(n.generateLocalKeyId)if(t){var a=Uo.util.isArray(t)?t[0]:t;typeof a=="string"&&(a=yi.certificateFromPem(a));var l=Uo.md.sha1.create();l.update(we.toDer(yi.certificateToAsn1(a)).getBytes()),i=l.digest().getBytes()}else i=Uo.random.getBytes(20);var c=[];i!==null&&c.push(we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(yi.oids.localKeyId).getBytes()),we.create(we.Class.UNIVERSAL,we.Type.SET,!0,[we.create(we.Class.UNIVERSAL,we.Type.OCTETSTRING,!1,i)])])),"friendlyName"in n&&c.push(we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(yi.oids.friendlyName).getBytes()),we.create(we.Class.UNIVERSAL,we.Type.SET,!0,[we.create(we.Class.UNIVERSAL,we.Type.BMPSTRING,!1,n.friendlyName)])])),c.length>0&&(s=we.create(we.Class.UNIVERSAL,we.Type.SET,!0,c));var u=[],f=[];t!==null&&(Uo.util.isArray(t)?f=t:f=[t]);for(var m=[],h=0;h<f.length;++h){t=f[h],typeof t=="string"&&(t=yi.certificateFromPem(t));var p=h===0?s:void 0,A=yi.certificateToAsn1(t),E=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(yi.oids.certBag).getBytes()),we.create(we.Class.CONTEXT_SPECIFIC,0,!0,[we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(yi.oids.x509Certificate).getBytes()),we.create(we.Class.CONTEXT_SPECIFIC,0,!0,[we.create(we.Class.UNIVERSAL,we.Type.OCTETSTRING,!1,we.toDer(A).getBytes())])])]),p]);m.push(E)}if(m.length>0){var x=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,m),b=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(yi.oids.data).getBytes()),we.create(we.Class.CONTEXT_SPECIFIC,0,!0,[we.create(we.Class.UNIVERSAL,we.Type.OCTETSTRING,!1,we.toDer(x).getBytes())])]);u.push(b)}var v=null;if(e!==null){var S=yi.wrapRsaPrivateKey(yi.privateKeyToAsn1(e));r===null?v=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(yi.oids.keyBag).getBytes()),we.create(we.Class.CONTEXT_SPECIFIC,0,!0,[S]),s]):v=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(yi.oids.pkcs8ShroudedKeyBag).getBytes()),we.create(we.Class.CONTEXT_SPECIFIC,0,!0,[yi.encryptPrivateKeyInfo(S,r,n)]),s]);var k=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[v]),P=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(yi.oids.data).getBytes()),we.create(we.Class.CONTEXT_SPECIFIC,0,!0,[we.create(we.Class.UNIVERSAL,we.Type.OCTETSTRING,!1,we.toDer(k).getBytes())])]);u.push(P)}var N=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,u),W;if(n.useMac){var l=Uo.md.sha1.create(),re=new Uo.util.ByteBuffer(Uo.random.getBytes(n.saltSize)),ge=n.count,e=n_.generateKey(r,re,3,ge,20),te=Uo.hmac.create();te.start(l,e),te.update(we.toDer(N).getBytes());var G=te.getMac();W=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(yi.oids.sha1).getBytes()),we.create(we.Class.UNIVERSAL,we.Type.NULL,!1,"")]),we.create(we.Class.UNIVERSAL,we.Type.OCTETSTRING,!1,G.getBytes())]),we.create(we.Class.UNIVERSAL,we.Type.OCTETSTRING,!1,re.getBytes()),we.create(we.Class.UNIVERSAL,we.Type.INTEGER,!1,we.integerToDer(ge).getBytes())])}return we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.INTEGER,!1,we.integerToDer(3).getBytes()),we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(yi.oids.data).getBytes()),we.create(we.Class.CONTEXT_SPECIFIC,0,!0,[we.create(we.Class.UNIVERSAL,we.Type.OCTETSTRING,!1,we.toDer(N).getBytes())])]),W])};n_.generateKey=Uo.pbe.generatePkcs12Key});var Tie=V((XUr,TBe)=>{d();var ay=Jn();Hm();ny();yie();F4();GO();bie();YO();t_();Ki();XO();var Iie=ay.asn1,f8=TBe.exports=ay.pki=ay.pki||{};f8.pemToDer=function(e){var t=ay.pem.decode(e)[0];if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return ay.util.createBuffer(t.body)};f8.privateKeyFromPem=function(e){var t=ay.pem.decode(e)[0];if(t.type!=="PRIVATE KEY"&&t.type!=="RSA PRIVATE KEY"){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=Iie.fromDer(t.body);return f8.privateKeyFromAsn1(n)};f8.privateKeyToPem=function(e,t){var r={type:"RSA PRIVATE KEY",body:Iie.toDer(f8.privateKeyToAsn1(e)).getBytes()};return ay.pem.encode(r,{maxline:t})};f8.privateKeyInfoToPem=function(e,t){var r={type:"PRIVATE KEY",body:Iie.toDer(e).getBytes()};return ay.pem.encode(r,{maxline:t})}});var Rie=V((eqr,PBe)=>{d();var kt=Jn();Hm();n8();MO();F4();Tie();pd();a8();Ki();var rU=o(function(e,t,r,n){var i=kt.util.createBuffer(),s=e.length>>1,a=s+(e.length&1),l=e.substr(0,a),c=e.substr(s,a),u=kt.util.createBuffer(),f=kt.hmac.create();r=t+r;var m=Math.ceil(n/16),h=Math.ceil(n/20);f.start("MD5",l);var p=kt.util.createBuffer();u.putBytes(r);for(var A=0;A<m;++A)f.start(null,null),f.update(u.getBytes()),u.putBuffer(f.digest()),f.start(null,null),f.update(u.bytes()+r),p.putBuffer(f.digest());f.start("SHA1",c);var E=kt.util.createBuffer();u.clear(),u.putBytes(r);for(var A=0;A<h;++A)f.start(null,null),f.update(u.getBytes()),u.putBuffer(f.digest()),f.start(null,null),f.update(u.bytes()+r),E.putBuffer(f.digest());return i.putBytes(kt.util.xorBytes(p.getBytes(),E.getBytes(),n)),i},"prf_TLS1"),pxt=o(function(e,t,r){var n=kt.hmac.create();n.start("SHA1",e);var i=kt.util.createBuffer();return i.putInt32(t[0]),i.putInt32(t[1]),i.putByte(r.type),i.putByte(r.version.major),i.putByte(r.version.minor),i.putInt16(r.length),i.putBytes(r.fragment.bytes()),n.update(i.getBytes()),n.digest().getBytes()},"hmac_sha1"),gxt=o(function(e,t,r){var n=!1;try{var i=e.deflate(t.fragment.getBytes());t.fragment=kt.util.createBuffer(i),t.length=i.length,n=!0}catch{}return n},"deflate"),Axt=o(function(e,t,r){var n=!1;try{var i=e.inflate(t.fragment.getBytes());t.fragment=kt.util.createBuffer(i),t.length=i.length,n=!0}catch{}return n},"inflate"),ju=o(function(e,t){var r=0;switch(t){case 1:r=e.getByte();break;case 2:r=e.getInt16();break;case 3:r=e.getInt24();break;case 4:r=e.getInt32();break}return kt.util.createBuffer(e.getBytes(r))},"readVector"),Cd=o(function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},"writeVector"),X={};X.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}};X.SupportedVersions=[X.Versions.TLS_1_1,X.Versions.TLS_1_0];X.Version=X.SupportedVersions[0];X.MaxFragment=15360;X.ConnectionEnd={server:0,client:1};X.PRFAlgorithm={tls_prf_sha256:0};X.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};X.CipherType={stream:0,block:1,aead:2};X.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};X.CompressionMethod={none:0,deflate:1};X.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};X.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};X.Alert={};X.Alert.Level={warning:1,fatal:2};X.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};X.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};X.CipherSuites={};X.getCipherSuite=function(e){var t=null;for(var r in X.CipherSuites){var n=X.CipherSuites[r];if(n.id[0]===e.charCodeAt(0)&&n.id[1]===e.charCodeAt(1)){t=n;break}}return t};X.handleUnexpected=function(e,t){var r=!e.open&&e.entity===X.ConnectionEnd.client;r||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.unexpected_message}})};X.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&(X.queue(e,X.createAlert(e,{level:X.Alert.Level.warning,description:X.Alert.Description.no_renegotiation})),X.flush(e)),e.process()};X.parseHelloMessage=function(e,t,r){var n=null,i=e.entity===X.ConnectionEnd.client;if(r<38)e.error(e,{message:i?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}});else{var s=t.fragment,a=s.length();if(n={version:{major:s.getByte(),minor:s.getByte()},random:kt.util.createBuffer(s.getBytes(32)),session_id:ju(s,1),extensions:[]},i?(n.cipher_suite=s.getBytes(2),n.compression_method=s.getByte()):(n.cipher_suites=ju(s,2),n.compression_methods=ju(s,1)),a=r-(a-s.length()),a>0){for(var l=ju(s,2);l.length()>0;)n.extensions.push({type:[l.getByte(),l.getByte()],data:ju(l,2)});if(!i)for(var c=0;c<n.extensions.length;++c){var u=n.extensions[c];if(u.type[0]===0&&u.type[1]===0)for(var f=ju(u.data,2);f.length()>0;){var m=f.getByte();if(m!==0)break;e.session.extensions.server_name.serverNameList.push(ju(f,2).getBytes())}}}if(e.session.version&&(n.version.major!==e.session.version.major||n.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.protocol_version}});if(i)e.session.cipherSuite=X.getCipherSuite(n.cipher_suite);else for(var h=kt.util.createBuffer(n.cipher_suites.bytes());h.length()>0&&(e.session.cipherSuite=X.getCipherSuite(h.getBytes(2)),e.session.cipherSuite===null););if(e.session.cipherSuite===null)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.handshake_failure},cipherSuite:kt.util.bytesToHex(n.cipher_suite)});i?e.session.compressionMethod=n.compression_method:e.session.compressionMethod=X.CompressionMethod.none}return n};X.createSecurityParameters=function(e,t){var r=e.entity===X.ConnectionEnd.client,n=t.random.bytes(),i=r?e.session.sp.client_random:n,s=r?n:X.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:X.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:s}};X.handleServerHello=function(e,t,r){var n=X.parseHelloMessage(e,t,r);if(!e.fail){if(n.version.minor<=e.version.minor)e.version.minor=n.version.minor;else return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.protocol_version}});e.session.version=e.version;var i=n.session_id.bytes();i.length>0&&i===e.session.id?(e.expect=SBe,e.session.resuming=!0,e.session.sp.server_random=n.random.bytes()):(e.expect=Cxt,e.session.resuming=!1,X.createSecurityParameters(e,n)),e.session.id=i,e.process()}};X.handleClientHello=function(e,t,r){var n=X.parseHelloMessage(e,t,r);if(!e.fail){var i=n.session_id.bytes(),s=null;if(e.sessionCache&&(s=e.sessionCache.getSession(i),s===null?i="":(s.version.major!==n.version.major||s.version.minor>n.version.minor)&&(s=null,i="")),i.length===0&&(i=kt.random.getBytes(32)),e.session.id=i,e.session.clientHelloVersion=n.version,e.session.sp={},s)e.version=e.session.version=s.version,e.session.sp=s.sp;else{for(var a,l=1;l<X.SupportedVersions.length&&(a=X.SupportedVersions[l],!(a.minor<=n.version.minor));++l);e.version={major:a.major,minor:a.minor},e.session.version=e.version}s!==null?(e.expect=Bie,e.session.resuming=!0,e.session.sp.client_random=n.random.bytes()):(e.expect=e.verifyClient!==!1?wxt:Sie,e.session.resuming=!1,X.createSecurityParameters(e,n)),e.open=!0,X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createServerHello(e)})),e.session.resuming?(X.queue(e,X.createRecord(e,{type:X.ContentType.change_cipher_spec,data:X.createChangeCipherSpec()})),e.state.pending=X.createConnectionState(e),e.state.current.write=e.state.pending.write,X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createFinished(e)}))):(X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createCertificate(e)})),e.fail||(X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createServerKeyExchange(e)})),e.verifyClient!==!1&&X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createCertificateRequest(e)})),X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createServerHelloDone(e)})))),X.flush(e),e.process()}};X.handleCertificate=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_list:ju(n,3)},s,a,l=[];try{for(;i.certificate_list.length()>0;)s=ju(i.certificate_list,3),a=kt.asn1.fromDer(s),s=kt.pki.certificateFromAsn1(a,!0),l.push(s)}catch(u){return e.error(e,{message:"Could not parse certificate list.",cause:u,send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.bad_certificate}})}var c=e.entity===X.ConnectionEnd.client;(c||e.verifyClient===!0)&&l.length===0?e.error(e,{message:c?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}}):l.length===0?e.expect=c?wBe:Sie:(c?e.session.serverCertificate=l[0]:e.session.clientCertificate=l[0],X.verifyCertificateChain(e,l)&&(e.expect=c?wBe:Sie)),e.process()};X.handleServerKeyExchange=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.unsupported_certificate}});e.expect=Ext,e.process()};X.handleClientKeyExchange=function(e,t,r){if(r<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.unsupported_certificate}});var n=t.fragment,i={enc_pre_master_secret:ju(n,2).getBytes()},s=null;if(e.getPrivateKey)try{s=e.getPrivateKey(e,e.session.serverCertificate),s=kt.pki.privateKeyFromPem(s)}catch(c){e.error(e,{message:"Could not get private key.",cause:c,send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}})}if(s===null)return e.error(e,{message:"No private key set.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}});try{var a=e.session.sp;a.pre_master_secret=s.decrypt(i.enc_pre_master_secret);var l=e.session.clientHelloVersion;if(l.major!==a.pre_master_secret.charCodeAt(0)||l.minor!==a.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{a.pre_master_secret=kt.random.getBytes(48)}e.expect=Bie,e.session.clientCertificate!==null&&(e.expect=_xt),e.process()};X.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_types:ju(n,1),certificate_authorities:ju(n,2)};e.session.certificateRequest=i,e.expect=xxt,e.process()};X.handleCertificateVerify=function(e,t,r){if(r<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}});var n=t.fragment;n.read-=4;var i=n.bytes();n.read+=4;var s={signature:ju(n,2).getBytes()},a=kt.util.createBuffer();a.putBuffer(e.session.md5.digest()),a.putBuffer(e.session.sha1.digest()),a=a.getBytes();try{var l=e.session.clientCertificate;if(!l.publicKey.verify(a,s.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(i),e.session.sha1.update(i)}catch{return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.handshake_failure}})}e.expect=Bie,e.process()};X.handleServerHelloDone=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.record_overflow}});if(e.serverCertificate===null){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.insufficient_security}},i=0,s=e.verify(e,n.alert.description,i,[]);if(s!==!0)return(s||s===0)&&(typeof s=="object"&&!kt.util.isArray(s)?(s.message&&(n.message=s.message),s.alert&&(n.alert.description=s.alert)):typeof s=="number"&&(n.alert.description=s)),e.error(e,n)}e.session.certificateRequest!==null&&(t=X.createRecord(e,{type:X.ContentType.handshake,data:X.createCertificate(e)}),X.queue(e,t)),t=X.createRecord(e,{type:X.ContentType.handshake,data:X.createClientKeyExchange(e)}),X.queue(e,t),e.expect=Ixt;var a=o(function(l,c){l.session.certificateRequest!==null&&l.session.clientCertificate!==null&&X.queue(l,X.createRecord(l,{type:X.ContentType.handshake,data:X.createCertificateVerify(l,c)})),X.queue(l,X.createRecord(l,{type:X.ContentType.change_cipher_spec,data:X.createChangeCipherSpec()})),l.state.pending=X.createConnectionState(l),l.state.current.write=l.state.pending.write,X.queue(l,X.createRecord(l,{type:X.ContentType.handshake,data:X.createFinished(l)})),l.expect=SBe,X.flush(l),l.process()},"callback");if(e.session.certificateRequest===null||e.session.clientCertificate===null)return a(e,null);X.getClientSignature(e,a)};X.handleChangeCipherSpec=function(e,t){if(t.fragment.getByte()!==1)return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}});var r=e.entity===X.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=X.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?vxt:Sxt,e.process()};X.handleFinished=function(e,t,r){var n=t.fragment;n.read-=4;var i=n.bytes();n.read+=4;var s=t.fragment.getBytes();n=kt.util.createBuffer(),n.putBuffer(e.session.md5.digest()),n.putBuffer(e.session.sha1.digest());var a=e.entity===X.ConnectionEnd.client,l=a?"server finished":"client finished",c=e.session.sp,u=12,f=rU;if(n=f(c.master_secret,l,n.getBytes(),u),n.getBytes()!==s)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.decrypt_error}});e.session.md5.update(i),e.session.sha1.update(i),(e.session.resuming&&a||!e.session.resuming&&!a)&&(X.queue(e,X.createRecord(e,{type:X.ContentType.change_cipher_spec,data:X.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createFinished(e)}))),e.expect=a?bxt:Bxt,e.handshaking=!1,++e.handshakes,e.peerCertificate=a?e.session.serverCertificate:e.session.clientCertificate,X.flush(e),e.isConnected=!0,e.connected(e),e.process()};X.handleAlert=function(e,t){var r=t.fragment,n={level:r.getByte(),description:r.getByte()},i;switch(n.description){case X.Alert.Description.close_notify:i="Connection closed.";break;case X.Alert.Description.unexpected_message:i="Unexpected message.";break;case X.Alert.Description.bad_record_mac:i="Bad record MAC.";break;case X.Alert.Description.decryption_failed:i="Decryption failed.";break;case X.Alert.Description.record_overflow:i="Record overflow.";break;case X.Alert.Description.decompression_failure:i="Decompression failed.";break;case X.Alert.Description.handshake_failure:i="Handshake failure.";break;case X.Alert.Description.bad_certificate:i="Bad certificate.";break;case X.Alert.Description.unsupported_certificate:i="Unsupported certificate.";break;case X.Alert.Description.certificate_revoked:i="Certificate revoked.";break;case X.Alert.Description.certificate_expired:i="Certificate expired.";break;case X.Alert.Description.certificate_unknown:i="Certificate unknown.";break;case X.Alert.Description.illegal_parameter:i="Illegal parameter.";break;case X.Alert.Description.unknown_ca:i="Unknown certificate authority.";break;case X.Alert.Description.access_denied:i="Access denied.";break;case X.Alert.Description.decode_error:i="Decode error.";break;case X.Alert.Description.decrypt_error:i="Decrypt error.";break;case X.Alert.Description.export_restriction:i="Export restriction.";break;case X.Alert.Description.protocol_version:i="Unsupported protocol version.";break;case X.Alert.Description.insufficient_security:i="Insufficient security.";break;case X.Alert.Description.internal_error:i="Internal error.";break;case X.Alert.Description.user_canceled:i="User canceled.";break;case X.Alert.Description.no_renegotiation:i="Renegotiation not supported.";break;default:i="Unknown error.";break}if(n.description===X.Alert.Description.close_notify)return e.close();e.error(e,{message:i,send:!1,origin:e.entity===X.ConnectionEnd.client?"server":"client",alert:n}),e.process()};X.handleHandshake=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt24();if(i>r.length())return e.fragmented=t,t.fragment=kt.util.createBuffer(),r.read-=4,e.process();e.fragmented=null,r.read-=4;var s=r.bytes(i+4);r.read+=4,n in tU[e.entity][e.expect]?(e.entity===X.ConnectionEnd.server&&!e.open&&!e.fail&&(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:kt.md.md5.create(),sha1:kt.md.sha1.create()}),n!==X.HandshakeType.hello_request&&n!==X.HandshakeType.certificate_verify&&n!==X.HandshakeType.finished&&(e.session.md5.update(s),e.session.sha1.update(s)),tU[e.entity][e.expect][n](e,t,i)):X.handleUnexpected(e,t)};X.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()};X.handleHeartbeat=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt16(),s=r.getBytes(i);if(n===X.HeartbeatMessageType.heartbeat_request){if(e.handshaking||i>s.length)return e.process();X.queue(e,X.createRecord(e,{type:X.ContentType.heartbeat,data:X.createHeartbeat(X.HeartbeatMessageType.heartbeat_response,s)})),X.flush(e)}else if(n===X.HeartbeatMessageType.heartbeat_response){if(s!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,kt.util.createBuffer(s))}e.process()};var yxt=0,Cxt=1,wBe=2,Ext=3,xxt=4,SBe=5,vxt=6,bxt=7,Ixt=8,Txt=0,wxt=1,Sie=2,_xt=3,Bie=4,Sxt=5,Bxt=6,K=X.handleUnexpected,BBe=X.handleChangeCipherSpec,Vl=X.handleAlert,j0=X.handleHandshake,kBe=X.handleApplicationData,jl=X.handleHeartbeat,kie=[];kie[X.ConnectionEnd.client]=[[K,Vl,j0,K,jl],[K,Vl,j0,K,jl],[K,Vl,j0,K,jl],[K,Vl,j0,K,jl],[K,Vl,j0,K,jl],[BBe,Vl,K,K,jl],[K,Vl,j0,K,jl],[K,Vl,j0,kBe,jl],[K,Vl,j0,K,jl]];kie[X.ConnectionEnd.server]=[[K,Vl,j0,K,jl],[K,Vl,j0,K,jl],[K,Vl,j0,K,jl],[K,Vl,j0,K,jl],[BBe,Vl,K,K,jl],[K,Vl,j0,K,jl],[K,Vl,j0,kBe,jl],[K,Vl,j0,K,jl]];var ly=X.handleHelloRequest,kxt=X.handleServerHello,RBe=X.handleCertificate,_Be=X.handleServerKeyExchange,wie=X.handleCertificateRequest,ZO=X.handleServerHelloDone,DBe=X.handleFinished,tU=[];tU[X.ConnectionEnd.client]=[[K,K,kxt,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K],[ly,K,K,K,K,K,K,K,K,K,K,RBe,_Be,wie,ZO,K,K,K,K,K,K],[ly,K,K,K,K,K,K,K,K,K,K,K,_Be,wie,ZO,K,K,K,K,K,K],[ly,K,K,K,K,K,K,K,K,K,K,K,K,wie,ZO,K,K,K,K,K,K],[ly,K,K,K,K,K,K,K,K,K,K,K,K,K,ZO,K,K,K,K,K,K],[ly,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K],[ly,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,DBe],[ly,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K],[ly,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K]];var Rxt=X.handleClientHello,Dxt=X.handleClientKeyExchange,Pxt=X.handleCertificateVerify;tU[X.ConnectionEnd.server]=[[K,Rxt,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K],[K,K,K,K,K,K,K,K,K,K,K,RBe,K,K,K,K,K,K,K,K,K],[K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,Dxt,K,K,K,K],[K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,Pxt,K,K,K,K,K],[K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K],[K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,DBe],[K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K],[K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K]];X.generateKeys=function(e,t){var r=rU,n=t.client_random+t.server_random;e.session.resuming||(t.master_secret=r(t.pre_master_secret,"master secret",n,48).bytes(),t.pre_master_secret=null),n=t.server_random+t.client_random;var i=2*t.mac_key_length+2*t.enc_key_length,s=e.version.major===X.Versions.TLS_1_0.major&&e.version.minor===X.Versions.TLS_1_0.minor;s&&(i+=2*t.fixed_iv_length);var a=r(t.master_secret,"key expansion",n,i),l={client_write_MAC_key:a.getBytes(t.mac_key_length),server_write_MAC_key:a.getBytes(t.mac_key_length),client_write_key:a.getBytes(t.enc_key_length),server_write_key:a.getBytes(t.enc_key_length)};return s&&(l.client_write_IV=a.getBytes(t.fixed_iv_length),l.server_write_IV=a.getBytes(t.fixed_iv_length)),l};X.createConnectionState=function(e){var t=e.entity===X.ConnectionEnd.client,r=o(function(){var s={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:o(function(a){return!0},"cipherFunction"),compressionState:null,compressFunction:o(function(a){return!0},"compressFunction"),updateSequenceNumber:o(function(){s.sequenceNumber[1]===4294967295?(s.sequenceNumber[1]=0,++s.sequenceNumber[0]):++s.sequenceNumber[1]},"updateSequenceNumber")};return s},"createMode"),n={read:r(),write:r()};if(n.read.update=function(s,a){return n.read.cipherFunction(a,n.read)?n.read.compressFunction(s,a,n.read)||s.error(s,{message:"Could not decompress record.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.decompression_failure}}):s.error(s,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.bad_record_mac}}),!s.fail},n.write.update=function(s,a){return n.write.compressFunction(s,a,n.write)?n.write.cipherFunction(a,n.write)||s.error(s,{message:"Could not encrypt record.",send:!1,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}}):s.error(s,{message:"Could not compress record.",send:!1,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}}),!s.fail},e.session){var i=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(i),i.keys=X.generateKeys(e,i),n.read.macKey=t?i.keys.server_write_MAC_key:i.keys.client_write_MAC_key,n.write.macKey=t?i.keys.client_write_MAC_key:i.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(n,e,i),i.compression_algorithm){case X.CompressionMethod.none:break;case X.CompressionMethod.deflate:n.read.compressFunction=Axt,n.write.compressFunction=gxt;break;default:throw new Error("Unsupported compression algorithm.")}}return n};X.createRandom=function(){var e=new Date,t=+e+e.getTimezoneOffset()*6e4,r=kt.util.createBuffer();return r.putInt32(t),r.putBytes(kt.random.getBytes(28)),r};X.createRecord=function(e,t){if(!t.data)return null;var r={type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data};return r};X.createAlert=function(e,t){var r=kt.util.createBuffer();return r.putByte(t.level),r.putByte(t.description),X.createRecord(e,{type:X.ContentType.alert,data:r})};X.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=kt.util.createBuffer(),r=0;r<e.cipherSuites.length;++r){var n=e.cipherSuites[r];t.putByte(n.id[0]),t.putByte(n.id[1])}var i=t.length(),s=kt.util.createBuffer();s.putByte(X.CompressionMethod.none);var a=s.length(),l=kt.util.createBuffer();if(e.virtualHost){var c=kt.util.createBuffer();c.putByte(0),c.putByte(0);var u=kt.util.createBuffer();u.putByte(0),Cd(u,2,kt.util.createBuffer(e.virtualHost));var f=kt.util.createBuffer();Cd(f,2,u),Cd(c,2,f),l.putBuffer(c)}var m=l.length();m>0&&(m+=2);var h=e.session.id,p=h.length+1+2+4+28+2+i+1+a+m,A=kt.util.createBuffer();return A.putByte(X.HandshakeType.client_hello),A.putInt24(p),A.putByte(e.version.major),A.putByte(e.version.minor),A.putBytes(e.session.sp.client_random),Cd(A,1,kt.util.createBuffer(h)),Cd(A,2,t),Cd(A,1,s),m>0&&Cd(A,2,l),A};X.createServerHello=function(e){var t=e.session.id,r=t.length+1+2+4+28+2+1,n=kt.util.createBuffer();return n.putByte(X.HandshakeType.server_hello),n.putInt24(r),n.putByte(e.version.major),n.putByte(e.version.minor),n.putBytes(e.session.sp.server_random),Cd(n,1,kt.util.createBuffer(t)),n.putByte(e.session.cipherSuite.id[0]),n.putByte(e.session.cipherSuite.id[1]),n.putByte(e.session.compressionMethod),n};X.createCertificate=function(e){var t=e.entity===X.ConnectionEnd.client,r=null;if(e.getCertificate){var n;t?n=e.session.certificateRequest:n=e.session.extensions.server_name.serverNameList,r=e.getCertificate(e,n)}var i=kt.util.createBuffer();if(r!==null)try{kt.util.isArray(r)||(r=[r]);for(var s=null,a=0;a<r.length;++a){var l=kt.pem.decode(r[a])[0];if(l.type!=="CERTIFICATE"&&l.type!=="X509 CERTIFICATE"&&l.type!=="TRUSTED CERTIFICATE"){var c=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw c.headerType=l.type,c}if(l.procType&&l.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var u=kt.util.createBuffer(l.body);s===null&&(s=kt.asn1.fromDer(u.bytes(),!1));var f=kt.util.createBuffer();Cd(f,3,u),i.putBuffer(f)}r=kt.pki.certificateFromAsn1(s),t?e.session.clientCertificate=r:e.session.serverCertificate=r}catch(p){return e.error(e,{message:"Could not send certificate list.",cause:p,send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.bad_certificate}})}var m=3+i.length(),h=kt.util.createBuffer();return h.putByte(X.HandshakeType.certificate),h.putInt24(m),Cd(h,3,i),h};X.createClientKeyExchange=function(e){var t=kt.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(kt.random.getBytes(46));var r=e.session.sp;r.pre_master_secret=t.getBytes();var n=e.session.serverCertificate.publicKey;t=n.encrypt(r.pre_master_secret);var i=t.length+2,s=kt.util.createBuffer();return s.putByte(X.HandshakeType.client_key_exchange),s.putInt24(i),s.putInt16(t.length),s.putBytes(t),s};X.createServerKeyExchange=function(e){var t=0,r=kt.util.createBuffer();return t>0&&(r.putByte(X.HandshakeType.server_key_exchange),r.putInt24(t)),r};X.getClientSignature=function(e,t){var r=kt.util.createBuffer();r.putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest()),r=r.getBytes(),e.getSignature=e.getSignature||function(n,i,s){var a=null;if(n.getPrivateKey)try{a=n.getPrivateKey(n,n.session.clientCertificate),a=kt.pki.privateKeyFromPem(a)}catch(l){n.error(n,{message:"Could not get private key.",cause:l,send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}})}a===null?n.error(n,{message:"No private key set.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}}):i=a.sign(i,null),s(n,i)},e.getSignature(e,r,t)};X.createCertificateVerify=function(e,t){var r=t.length+2,n=kt.util.createBuffer();return n.putByte(X.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(t.length),n.putBytes(t),n};X.createCertificateRequest=function(e){var t=kt.util.createBuffer();t.putByte(1);var r=kt.util.createBuffer();for(var n in e.caStore.certs){var i=e.caStore.certs[n],s=kt.pki.distinguishedNameToAsn1(i.subject),a=kt.asn1.toDer(s);r.putInt16(a.length()),r.putBuffer(a)}var l=1+t.length()+2+r.length(),c=kt.util.createBuffer();return c.putByte(X.HandshakeType.certificate_request),c.putInt24(l),Cd(c,1,t),Cd(c,2,r),c};X.createServerHelloDone=function(e){var t=kt.util.createBuffer();return t.putByte(X.HandshakeType.server_hello_done),t.putInt24(0),t};X.createChangeCipherSpec=function(){var e=kt.util.createBuffer();return e.putByte(1),e};X.createFinished=function(e){var t=kt.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var r=e.entity===X.ConnectionEnd.client,n=e.session.sp,i=12,s=rU,a=r?"client finished":"server finished";t=s(n.master_secret,a,t.getBytes(),i);var l=kt.util.createBuffer();return l.putByte(X.HandshakeType.finished),l.putInt24(t.length()),l.putBuffer(t),l};X.createHeartbeat=function(e,t,r){typeof r>"u"&&(r=t.length);var n=kt.util.createBuffer();n.putByte(e),n.putInt16(r),n.putBytes(t);var i=n.length(),s=Math.max(16,i-r-3);return n.putBytes(kt.random.getBytes(s)),n};X.queue=function(e,t){if(t&&!(t.fragment.length()===0&&(t.type===X.ContentType.handshake||t.type===X.ContentType.alert||t.type===X.ContentType.change_cipher_spec))){if(t.type===X.ContentType.handshake){var r=t.fragment.bytes();e.session.md5.update(r),e.session.sha1.update(r),r=null}var n;if(t.fragment.length()<=X.MaxFragment)n=[t];else{n=[];for(var i=t.fragment.bytes();i.length>X.MaxFragment;)n.push(X.createRecord(e,{type:t.type,data:kt.util.createBuffer(i.slice(0,X.MaxFragment))})),i=i.slice(X.MaxFragment);i.length>0&&n.push(X.createRecord(e,{type:t.type,data:kt.util.createBuffer(i)}))}for(var s=0;s<n.length&&!e.fail;++s){var a=n[s],l=e.state.current.write;l.update(e,a)&&e.records.push(a)}}};X.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var _ie=o(function(e){switch(e){case!0:return!0;case kt.pki.certificateError.bad_certificate:return X.Alert.Description.bad_certificate;case kt.pki.certificateError.unsupported_certificate:return X.Alert.Description.unsupported_certificate;case kt.pki.certificateError.certificate_revoked:return X.Alert.Description.certificate_revoked;case kt.pki.certificateError.certificate_expired:return X.Alert.Description.certificate_expired;case kt.pki.certificateError.certificate_unknown:return X.Alert.Description.certificate_unknown;case kt.pki.certificateError.unknown_ca:return X.Alert.Description.unknown_ca;default:return X.Alert.Description.bad_certificate}},"_certErrorToAlertDesc"),Nxt=o(function(e){switch(e){case!0:return!0;case X.Alert.Description.bad_certificate:return kt.pki.certificateError.bad_certificate;case X.Alert.Description.unsupported_certificate:return kt.pki.certificateError.unsupported_certificate;case X.Alert.Description.certificate_revoked:return kt.pki.certificateError.certificate_revoked;case X.Alert.Description.certificate_expired:return kt.pki.certificateError.certificate_expired;case X.Alert.Description.certificate_unknown:return kt.pki.certificateError.certificate_unknown;case X.Alert.Description.unknown_ca:return kt.pki.certificateError.unknown_ca;default:return kt.pki.certificateError.bad_certificate}},"_alertDescToCertError");X.verifyCertificateChain=function(e,t){try{var r={};for(var n in e.verifyOptions)r[n]=e.verifyOptions[n];r.verify=function(s,a,l){var c=_ie(s),u=e.verify(e,s,a,l);if(u!==!0){if(typeof u=="object"&&!kt.util.isArray(u)){var f=new Error("The application rejected the certificate.");throw f.send=!0,f.alert={level:X.Alert.Level.fatal,description:X.Alert.Description.bad_certificate},u.message&&(f.message=u.message),u.alert&&(f.alert.description=u.alert),f}u!==s&&(u=Nxt(u))}return u},kt.pki.verifyCertificateChain(e.caStore,t,r)}catch(s){var i=s;(typeof i!="object"||kt.util.isArray(i))&&(i={send:!0,alert:{level:X.Alert.Level.fatal,description:_ie(s)}}),"send"in i||(i.send=!0),"alert"in i||(i.alert={level:X.Alert.Level.fatal,description:_ie(i.error)}),e.error(e,i)}return!e.fail};X.createSessionCache=function(e,t){var r=null;if(e&&e.getSession&&e.setSession&&e.order)r=e;else{r={},r.cache=e||{},r.capacity=Math.max(t||100,1),r.order=[];for(var n in e)r.order.length<=t?r.order.push(n):delete e[n];r.getSession=function(i){var s=null,a=null;if(i?a=kt.util.bytesToHex(i):r.order.length>0&&(a=r.order[0]),a!==null&&a in r.cache){s=r.cache[a],delete r.cache[a];for(var l in r.order)if(r.order[l]===a){r.order.splice(l,1);break}}return s},r.setSession=function(i,s){if(r.order.length===r.capacity){var a=r.order.shift();delete r.cache[a]}var a=kt.util.bytesToHex(i);r.order.push(a),r.cache[a]=s}}return r};X.createConnection=function(e){var t=null;e.caStore?kt.util.isArray(e.caStore)?t=kt.pki.createCaStore(e.caStore):t=e.caStore:t=kt.pki.createCaStore();var r=e.cipherSuites||null;if(r===null){r=[];for(var n in X.CipherSuites)r.push(X.CipherSuites[n])}var i=e.server?X.ConnectionEnd.server:X.ConnectionEnd.client,s=e.sessionCache?X.createSessionCache(e.sessionCache):null,a={version:{major:X.Version.major,minor:X.Version.minor},entity:i,sessionId:e.sessionId,caStore:t,sessionCache:s,cipherSuites:r,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(f,m,h,p){return m},verifyOptions:e.verifyOptions||{},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:kt.util.createBuffer(),tlsData:kt.util.createBuffer(),data:kt.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:o(function(f,m){m.origin=m.origin||(f.entity===X.ConnectionEnd.client?"client":"server"),m.send&&(X.queue(f,X.createAlert(f,m.alert)),X.flush(f));var h=m.fatal!==!1;h&&(f.fail=!0),e.error(f,m),h&&f.close(!1)},"error"),deflate:e.deflate||null,inflate:e.inflate||null};a.reset=function(f){a.version={major:X.Version.major,minor:X.Version.minor},a.record=null,a.session=null,a.peerCertificate=null,a.state={pending:null,current:null},a.expect=a.entity===X.ConnectionEnd.client?yxt:Txt,a.fragmented=null,a.records=[],a.open=!1,a.handshakes=0,a.handshaking=!1,a.isConnected=!1,a.fail=!(f||typeof f>"u"),a.input.clear(),a.tlsData.clear(),a.data.clear(),a.state.current=X.createConnectionState(a)},a.reset();var l=o(function(f,m){var h=m.type-X.ContentType.change_cipher_spec,p=kie[f.entity][f.expect];h in p?p[h](f,m):X.handleUnexpected(f,m)},"_update"),c=o(function(f){var m=0,h=f.input,p=h.length();if(p<5)m=5-p;else{f.record={type:h.getByte(),version:{major:h.getByte(),minor:h.getByte()},length:h.getInt16(),fragment:kt.util.createBuffer(),ready:!1};var A=f.record.version.major===f.version.major;A&&f.session&&f.session.version&&(A=f.record.version.minor===f.version.minor),A||f.error(f,{message:"Incompatible TLS version.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.protocol_version}})}return m},"_readRecordHeader"),u=o(function(f){var m=0,h=f.input,p=h.length();if(p<f.record.length)m=f.record.length-p;else{f.record.fragment.putBytes(h.getBytes(f.record.length)),h.compact();var A=f.state.current.read;A.update(f,f.record)&&(f.fragmented!==null&&(f.fragmented.type===f.record.type?(f.fragmented.fragment.putBuffer(f.record.fragment),f.record=f.fragmented):f.error(f,{message:"Invalid fragmented record.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.unexpected_message}})),f.record.ready=!0)}return m},"_readRecord");return a.handshake=function(f){if(a.entity!==X.ConnectionEnd.client)a.error(a,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(a.handshaking)a.error(a,{message:"Handshake already in progress.",fatal:!1});else{a.fail&&!a.open&&a.handshakes===0&&(a.fail=!1),a.handshaking=!0,f=f||"";var m=null;f.length>0&&(a.sessionCache&&(m=a.sessionCache.getSession(f)),m===null&&(f="")),f.length===0&&a.sessionCache&&(m=a.sessionCache.getSession(),m!==null&&(f=m.id)),a.session={id:f,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:kt.md.md5.create(),sha1:kt.md.sha1.create()},m&&(a.version=m.version,a.session.sp=m.sp),a.session.sp.client_random=X.createRandom().getBytes(),a.open=!0,X.queue(a,X.createRecord(a,{type:X.ContentType.handshake,data:X.createClientHello(a)})),X.flush(a)}},a.process=function(f){var m=0;return f&&a.input.putBytes(f),a.fail||(a.record!==null&&a.record.ready&&a.record.fragment.isEmpty()&&(a.record=null),a.record===null&&(m=c(a)),!a.fail&&a.record!==null&&!a.record.ready&&(m=u(a)),!a.fail&&a.record!==null&&a.record.ready&&l(a,a.record)),m},a.prepare=function(f){return X.queue(a,X.createRecord(a,{type:X.ContentType.application_data,data:kt.util.createBuffer(f)})),X.flush(a)},a.prepareHeartbeatRequest=function(f,m){return f instanceof kt.util.ByteBuffer&&(f=f.bytes()),typeof m>"u"&&(m=f.length),a.expectedHeartbeatPayload=f,X.queue(a,X.createRecord(a,{type:X.ContentType.heartbeat,data:X.createHeartbeat(X.HeartbeatMessageType.heartbeat_request,f,m)})),X.flush(a)},a.close=function(f){if(!a.fail&&a.sessionCache&&a.session){var m={id:a.session.id,version:a.session.version,sp:a.session.sp};m.sp.keys=null,a.sessionCache.setSession(m.id,m)}a.open&&(a.open=!1,a.input.clear(),(a.isConnected||a.handshaking)&&(a.isConnected=a.handshaking=!1,X.queue(a,X.createAlert(a,{level:X.Alert.Level.warning,description:X.Alert.Description.close_notify})),X.flush(a)),a.closed(a)),a.reset(f)},a};PBe.exports=kt.tls=kt.tls||{};for(eU in X)typeof X[eU]!="function"&&(kt.tls[eU]=X[eU]);var eU;kt.tls.prf_tls1=rU;kt.tls.hmac_sha1=pxt;kt.tls.createSessionCache=X.createSessionCache;kt.tls.createConnection=X.createConnection});var LBe=V((nqr,FBe)=>{d();var cy=Jn();ry();Rie();var Ed=FBe.exports=cy.tls;Ed.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:o(function(e){e.bulk_cipher_algorithm=Ed.BulkCipherAlgorithm.aes,e.cipher_type=Ed.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=Ed.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},"initSecurityParameters"),initConnectionState:NBe};Ed.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:o(function(e){e.bulk_cipher_algorithm=Ed.BulkCipherAlgorithm.aes,e.cipher_type=Ed.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=Ed.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},"initSecurityParameters"),initConnectionState:NBe};function NBe(e,t,r){var n=t.entity===cy.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:cy.cipher.createDecipher("AES-CBC",n?r.keys.server_write_key:r.keys.client_write_key),iv:n?r.keys.server_write_IV:r.keys.client_write_IV},e.write.cipherState={init:!1,cipher:cy.cipher.createCipher("AES-CBC",n?r.keys.client_write_key:r.keys.server_write_key),iv:n?r.keys.client_write_IV:r.keys.server_write_IV},e.read.cipherFunction=Mxt,e.write.cipherFunction=Fxt,e.read.macLength=e.write.macLength=r.mac_length,e.read.macFunction=e.write.macFunction=Ed.hmac_sha1}o(NBe,"initConnectionState");function Fxt(e,t){var r=!1,n=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(n),t.updateSequenceNumber();var i;e.version.minor===Ed.Versions.TLS_1_0.minor?i=t.cipherState.init?null:t.cipherState.iv:i=cy.random.getBytesSync(16),t.cipherState.init=!0;var s=t.cipherState.cipher;return s.start({iv:i}),e.version.minor>=Ed.Versions.TLS_1_1.minor&&s.output.putBytes(i),s.update(e.fragment),s.finish(Lxt)&&(e.fragment=s.output,e.length=e.fragment.length(),r=!0),r}o(Fxt,"encrypt_aes_cbc_sha1");function Lxt(e,t,r){if(!r){var n=e-t.length()%e;t.fillWithByte(n-1,n)}return!0}o(Lxt,"encrypt_aes_cbc_sha1_padding");function Qxt(e,t,r){var n=!0;if(r){for(var i=t.length(),s=t.last(),a=i-1-s;a<i-1;++a)n=n&&t.at(a)==s;n&&t.truncate(s+1)}return n}o(Qxt,"decrypt_aes_cbc_sha1_padding");function Mxt(e,t){var r=!1,n;e.version.minor===Ed.Versions.TLS_1_0.minor?n=t.cipherState.init?null:t.cipherState.iv:n=e.fragment.getBytes(16),t.cipherState.init=!0;var i=t.cipherState.cipher;i.start({iv:n}),i.update(e.fragment),r=i.finish(Qxt);var s=t.macLength,a=cy.random.getBytesSync(s),l=i.output.length();l>=s?(e.fragment=i.output.getBytes(l-s),a=i.output.getBytes(s)):e.fragment=i.output.getBytes(),e.fragment=cy.util.createBuffer(e.fragment),e.length=e.fragment.length();var c=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),r=Oxt(t.macKey,a,c)&&r,r}o(Mxt,"decrypt_aes_cbc_sha1");function Oxt(e,t,r){var n=cy.hmac.create();return n.start("SHA1",e),n.update(t),t=n.digest().getBytes(),n.start(null,null),n.update(r),r=n.digest().getBytes(),t===r}o(Oxt,"compareMacs")});var Nie=V((sqr,UBe)=>{d();var os=Jn();Bp();Ki();var i_=UBe.exports=os.sha512=os.sha512||{};os.md.sha512=os.md.algorithms.sha512=i_;var MBe=os.sha384=os.sha512.sha384=os.sha512.sha384||{};MBe.create=function(){return i_.create("SHA-384")};os.md.sha384=os.md.algorithms.sha384=MBe;os.sha512.sha256=os.sha512.sha256||{create:o(function(){return i_.create("SHA-512/256")},"create")};os.md["sha512/256"]=os.md.algorithms["sha512/256"]=os.sha512.sha256;os.sha512.sha224=os.sha512.sha224||{create:o(function(){return i_.create("SHA-512/224")},"create")};os.md["sha512/224"]=os.md.algorithms["sha512/224"]=os.sha512.sha224;i_.create=function(e){if(OBe||Uxt(),typeof e>"u"&&(e="SHA-512"),!(e in q4))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=q4[e],r=null,n=os.util.createBuffer(),i=new Array(80),s=0;s<80;++s)i[s]=new Array(2);var a=64;switch(e){case"SHA-384":a=48;break;case"SHA-512/256":a=32;break;case"SHA-512/224":a=28;break}var l={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:a,messageLength:0,fullMessageLength:null,messageLengthSize:16};return l.start=function(){l.messageLength=0,l.fullMessageLength=l.messageLength128=[];for(var c=l.messageLengthSize/4,u=0;u<c;++u)l.fullMessageLength.push(0);n=os.util.createBuffer(),r=new Array(t.length);for(var u=0;u<t.length;++u)r[u]=t[u].slice(0);return l},l.start(),l.update=function(c,u){u==="utf8"&&(c=os.util.encodeUtf8(c));var f=c.length;l.messageLength+=f,f=[f/4294967296>>>0,f>>>0];for(var m=l.fullMessageLength.length-1;m>=0;--m)l.fullMessageLength[m]+=f[1],f[1]=f[0]+(l.fullMessageLength[m]/4294967296>>>0),l.fullMessageLength[m]=l.fullMessageLength[m]>>>0,f[0]=f[1]/4294967296>>>0;return n.putBytes(c),QBe(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),l},l.digest=function(){var c=os.util.createBuffer();c.putBytes(n.bytes());var u=l.fullMessageLength[l.fullMessageLength.length-1]+l.messageLengthSize,f=u&l.blockLength-1;c.putBytes(Die.substr(0,l.blockLength-f));for(var m,h,p=l.fullMessageLength[0]*8,A=0;A<l.fullMessageLength.length-1;++A)m=l.fullMessageLength[A+1]*8,h=m/4294967296>>>0,p+=h,c.putInt32(p>>>0),p=m>>>0;c.putInt32(p);for(var E=new Array(r.length),A=0;A<r.length;++A)E[A]=r[A].slice(0);QBe(E,i,c);var x=os.util.createBuffer(),b;e==="SHA-512"?b=E.length:e==="SHA-384"?b=E.length-2:b=E.length-4;for(var A=0;A<b;++A)x.putInt32(E[A][0]),(A!==b-1||e!=="SHA-512/224")&&x.putInt32(E[A][1]);return x},l};var Die=null,OBe=!1,Pie=null,q4=null;function Uxt(){Die="\x80",Die+=os.util.fillString("\0",128),Pie=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],q4={},q4["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],q4["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],q4["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],q4["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],OBe=!0}o(Uxt,"_init");function QBe(e,t,r){for(var n,i,s,a,l,c,u,f,m,h,p,A,E,x,b,v,S,k,P,N,W,re,ge,te,G,q,se,ne,H,O,j,J,le,Z,ae,ce=r.length();ce>=128;){for(H=0;H<16;++H)t[H][0]=r.getInt32()>>>0,t[H][1]=r.getInt32()>>>0;for(;H<80;++H)J=t[H-2],O=J[0],j=J[1],n=((O>>>19|j<<13)^(j>>>29|O<<3)^O>>>6)>>>0,i=((O<<13|j>>>19)^(j<<3|O>>>29)^(O<<26|j>>>6))>>>0,Z=t[H-15],O=Z[0],j=Z[1],s=((O>>>1|j<<31)^(O>>>8|j<<24)^O>>>7)>>>0,a=((O<<31|j>>>1)^(O<<24|j>>>8)^(O<<25|j>>>7))>>>0,le=t[H-7],ae=t[H-16],j=i+le[1]+a+ae[1],t[H][0]=n+le[0]+s+ae[0]+(j/4294967296>>>0)>>>0,t[H][1]=j>>>0;for(E=e[0][0],x=e[0][1],b=e[1][0],v=e[1][1],S=e[2][0],k=e[2][1],P=e[3][0],N=e[3][1],W=e[4][0],re=e[4][1],ge=e[5][0],te=e[5][1],G=e[6][0],q=e[6][1],se=e[7][0],ne=e[7][1],H=0;H<80;++H)u=((W>>>14|re<<18)^(W>>>18|re<<14)^(re>>>9|W<<23))>>>0,f=((W<<18|re>>>14)^(W<<14|re>>>18)^(re<<23|W>>>9))>>>0,m=(G^W&(ge^G))>>>0,h=(q^re&(te^q))>>>0,l=((E>>>28|x<<4)^(x>>>2|E<<30)^(x>>>7|E<<25))>>>0,c=((E<<4|x>>>28)^(x<<30|E>>>2)^(x<<25|E>>>7))>>>0,p=(E&b|S&(E^b))>>>0,A=(x&v|k&(x^v))>>>0,j=ne+f+h+Pie[H][1]+t[H][1],n=se+u+m+Pie[H][0]+t[H][0]+(j/4294967296>>>0)>>>0,i=j>>>0,j=c+A,s=l+p+(j/4294967296>>>0)>>>0,a=j>>>0,se=G,ne=q,G=ge,q=te,ge=W,te=re,j=N+i,W=P+n+(j/4294967296>>>0)>>>0,re=j>>>0,P=S,N=k,S=b,k=v,b=E,v=x,j=i+a,E=n+s+(j/4294967296>>>0)>>>0,x=j>>>0;j=e[0][1]+x,e[0][0]=e[0][0]+E+(j/4294967296>>>0)>>>0,e[0][1]=j>>>0,j=e[1][1]+v,e[1][0]=e[1][0]+b+(j/4294967296>>>0)>>>0,e[1][1]=j>>>0,j=e[2][1]+k,e[2][0]=e[2][0]+S+(j/4294967296>>>0)>>>0,e[2][1]=j>>>0,j=e[3][1]+N,e[3][0]=e[3][0]+P+(j/4294967296>>>0)>>>0,e[3][1]=j>>>0,j=e[4][1]+re,e[4][0]=e[4][0]+W+(j/4294967296>>>0)>>>0,e[4][1]=j>>>0,j=e[5][1]+te,e[5][0]=e[5][0]+ge+(j/4294967296>>>0)>>>0,e[5][1]=j>>>0,j=e[6][1]+q,e[6][0]=e[6][0]+G+(j/4294967296>>>0)>>>0,e[6][1]=j>>>0,j=e[7][1]+ne,e[7][0]=e[7][0]+se+(j/4294967296>>>0)>>>0,e[7][1]=j>>>0,ce-=128}}o(QBe,"_update")});var qBe=V(Fie=>{d();var qxt=Jn();Hm();var vl=qxt.asn1;Fie.privateKeyValidator={name:"PrivateKeyInfo",tagClass:vl.Class.UNIVERSAL,type:vl.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:vl.Class.UNIVERSAL,type:vl.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:vl.Class.UNIVERSAL,type:vl.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:vl.Class.UNIVERSAL,type:vl.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:vl.Class.UNIVERSAL,type:vl.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};Fie.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:vl.Class.UNIVERSAL,type:vl.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:vl.Class.UNIVERSAL,type:vl.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:vl.Class.UNIVERSAL,type:vl.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:vl.Class.UNIVERSAL,type:vl.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}});var eke=V((fqr,ZBe)=>{d();var $l=Jn();e_();pd();Nie();Ki();var $Be=qBe(),Gxt=$Be.publicKeyValidator,Wxt=$Be.privateKeyValidator;typeof GBe>"u"&&(GBe=$l.jsbn.BigInteger);var GBe,Mie=$l.util.ByteBuffer,qc=typeof Buffer>"u"?Uint8Array:Buffer;$l.pki=$l.pki||{};ZBe.exports=$l.pki.ed25519=$l.ed25519=$l.ed25519||{};var Ci=$l.ed25519;Ci.constants={};Ci.constants.PUBLIC_KEY_BYTE_LENGTH=32;Ci.constants.PRIVATE_KEY_BYTE_LENGTH=64;Ci.constants.SEED_BYTE_LENGTH=32;Ci.constants.SIGN_BYTE_LENGTH=64;Ci.constants.HASH_BYTE_LENGTH=64;Ci.generateKeyPair=function(e){e=e||{};var t=e.seed;if(t===void 0)t=$l.random.getBytesSync(Ci.constants.SEED_BYTE_LENGTH);else if(typeof t=="string"){if(t.length!==Ci.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+Ci.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=M1({message:t,encoding:"binary"});for(var r=new qc(Ci.constants.PUBLIC_KEY_BYTE_LENGTH),n=new qc(Ci.constants.PRIVATE_KEY_BYTE_LENGTH),i=0;i<32;++i)n[i]=t[i];return $xt(r,n),{publicKey:r,privateKey:n}};Ci.privateKeyFromAsn1=function(e){var t={},r=[],n=$l.asn1.validate(e,Wxt,t,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var s=$l.asn1.derToOid(t.privateKeyOid),a=$l.oids.EdDSA25519;if(s!==a)throw new Error('Invalid OID "'+s+'"; OID must be "'+a+'".');var l=t.privateKey,c=M1({message:$l.asn1.fromDer(l).value,encoding:"binary"});return{privateKeyBytes:c}};Ci.publicKeyFromAsn1=function(e){var t={},r=[],n=$l.asn1.validate(e,Gxt,t,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var s=$l.asn1.derToOid(t.publicKeyOid),a=$l.oids.EdDSA25519;if(s!==a)throw new Error('Invalid OID "'+s+'"; OID must be "'+a+'".');var l=t.ed25519PublicKey;if(l.length!==Ci.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return M1({message:l,encoding:"binary"})};Ci.publicKeyFromPrivateKey=function(e){e=e||{};var t=M1({message:e.privateKey,encoding:"binary"});if(t.length!==Ci.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+Ci.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new qc(Ci.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=t[32+n];return r};Ci.sign=function(e){e=e||{};var t=M1(e),r=M1({message:e.privateKey,encoding:"binary"});if(r.length===Ci.constants.SEED_BYTE_LENGTH){var n=Ci.generateKeyPair({seed:r});r=n.privateKey}else if(r.length!==Ci.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+Ci.constants.SEED_BYTE_LENGTH+" or "+Ci.constants.PRIVATE_KEY_BYTE_LENGTH);var i=new qc(Ci.constants.SIGN_BYTE_LENGTH+t.length);zxt(i,t,t.length,r);for(var s=new qc(Ci.constants.SIGN_BYTE_LENGTH),a=0;a<s.length;++a)s[a]=i[a];return s};Ci.verify=function(e){e=e||{};var t=M1(e);if(e.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=M1({message:e.signature,encoding:"binary"});if(r.length!==Ci.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+Ci.constants.SIGN_BYTE_LENGTH);var n=M1({message:e.publicKey,encoding:"binary"});if(n.length!==Ci.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+Ci.constants.PUBLIC_KEY_BYTE_LENGTH);var i=new qc(Ci.constants.SIGN_BYTE_LENGTH+t.length),s=new qc(Ci.constants.SIGN_BYTE_LENGTH+t.length),a;for(a=0;a<Ci.constants.SIGN_BYTE_LENGTH;++a)i[a]=r[a];for(a=0;a<t.length;++a)i[a+Ci.constants.SIGN_BYTE_LENGTH]=t[a];return Yxt(s,i,i.length,n)>=0};function M1(e){var t=e.message;if(t instanceof Uint8Array||t instanceof qc)return t;var r=e.encoding;if(t===void 0)if(e.md)t=e.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof t=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.from(t,r);t=new Mie(t,r)}else if(!(t instanceof Mie))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new qc(t.length()),i=0;i<n.length;++i)n[i]=t.at(i);return n}o(M1,"messageToNativeBuffer");var Oie=hn(),nU=hn([1]),Hxt=hn([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),Vxt=hn([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),WBe=hn([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),HBe=hn([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),Lie=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),jxt=hn([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function o_(e,t){var r=$l.md.sha512.create(),n=new Mie(e);r.update(n.getBytes(t),"binary");var i=r.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(i,"binary");for(var s=new qc(Ci.constants.HASH_BYTE_LENGTH),a=0;a<64;++a)s[a]=i.charCodeAt(a);return s}o(o_,"sha512");function $xt(e,t){var r=[hn(),hn(),hn(),hn()],n,i=o_(t,32);for(i[0]&=248,i[31]&=127,i[31]|=64,Wie(r,i),Gie(e,r),n=0;n<32;++n)t[n+32]=e[n];return 0}o($xt,"crypto_sign_keypair");function zxt(e,t,r,n){var i,s,a=new Float64Array(64),l=[hn(),hn(),hn(),hn()],c=o_(n,32);c[0]&=248,c[31]&=127,c[31]|=64;var u=r+64;for(i=0;i<r;++i)e[64+i]=t[i];for(i=0;i<32;++i)e[32+i]=c[32+i];var f=o_(e.subarray(32),r+32);for(Uie(f),Wie(l,f),Gie(e,l),i=32;i<64;++i)e[i]=n[i];var m=o_(e,r+64);for(Uie(m),i=32;i<64;++i)a[i]=0;for(i=0;i<32;++i)a[i]=f[i];for(i=0;i<32;++i)for(s=0;s<32;s++)a[i+s]+=m[i]*c[s];return zBe(e.subarray(32),a),u}o(zxt,"crypto_sign");function Yxt(e,t,r,n){var i,s,a=new qc(32),l=[hn(),hn(),hn(),hn()],c=[hn(),hn(),hn(),hn()];if(s=-1,r<64||Kxt(c,n))return-1;for(i=0;i<r;++i)e[i]=t[i];for(i=0;i<32;++i)e[i+32]=n[i];var u=o_(e,r);if(Uie(u),JBe(l,c,u),Wie(c,t.subarray(32)),qie(l,c),Gie(a,l),r-=64,YBe(t,0,a,0)){for(i=0;i<r;++i)e[i]=0;return-1}for(i=0;i<r;++i)e[i]=t[i+64];return s=r,s}o(Yxt,"crypto_sign_open");function zBe(e,t){var r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)t[i]+=r-16*t[n]*Lie[i-(n-32)],r=t[i]+128>>8,t[i]-=r*256;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;++i)t[i]+=r-(t[31]>>4)*Lie[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;++i)t[i]-=r*Lie[i];for(n=0;n<32;++n)t[n+1]+=t[n]>>8,e[n]=t[n]&255}o(zBe,"modL");function Uie(e){for(var t=new Float64Array(64),r=0;r<64;++r)t[r]=e[r],e[r]=0;zBe(e,t)}o(Uie,"reduce");function qie(e,t){var r=hn(),n=hn(),i=hn(),s=hn(),a=hn(),l=hn(),c=hn(),u=hn(),f=hn();m8(r,e[1],e[0]),m8(f,t[1],t[0]),ko(r,r,f),d8(n,e[0],e[1]),d8(f,t[0],t[1]),ko(n,n,f),ko(i,e[3],t[3]),ko(i,i,Vxt),ko(s,e[2],t[2]),d8(s,s,s),m8(a,n,r),m8(l,s,i),d8(c,s,i),d8(u,n,r),ko(e[0],a,l),ko(e[1],u,c),ko(e[2],c,l),ko(e[3],a,u)}o(qie,"add");function VBe(e,t,r){for(var n=0;n<4;++n)XBe(e[n],t[n],r)}o(VBe,"cswap");function Gie(e,t){var r=hn(),n=hn(),i=hn();evt(i,t[2]),ko(r,t[0],i),ko(n,t[1],i),iU(e,n),e[31]^=KBe(r)<<7}o(Gie,"pack");function iU(e,t){var r,n,i,s=hn(),a=hn();for(r=0;r<16;++r)a[r]=t[r];for(Qie(a),Qie(a),Qie(a),n=0;n<2;++n){for(s[0]=a[0]-65517,r=1;r<15;++r)s[r]=a[r]-65535-(s[r-1]>>16&1),s[r-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),i=s[15]>>16&1,s[14]&=65535,XBe(a,s,1-i)}for(r=0;r<16;r++)e[2*r]=a[r]&255,e[2*r+1]=a[r]>>8}o(iU,"pack25519");function Kxt(e,t){var r=hn(),n=hn(),i=hn(),s=hn(),a=hn(),l=hn(),c=hn();return uy(e[2],nU),Jxt(e[1],t),G4(i,e[1]),ko(s,i,Hxt),m8(i,i,e[2]),d8(s,e[2],s),G4(a,s),G4(l,a),ko(c,l,a),ko(r,c,i),ko(r,r,s),Xxt(r,r),ko(r,r,i),ko(r,r,s),ko(r,r,s),ko(e[0],r,s),G4(n,e[0]),ko(n,n,s),jBe(n,i)&&ko(e[0],e[0],jxt),G4(n,e[0]),ko(n,n,s),jBe(n,i)?-1:(KBe(e[0])===t[31]>>7&&m8(e[0],Oie,e[0]),ko(e[3],e[0],e[1]),0)}o(Kxt,"unpackneg");function Jxt(e,t){var r;for(r=0;r<16;++r)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}o(Jxt,"unpack25519");function Xxt(e,t){var r=hn(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=250;n>=0;--n)G4(r,r),n!==1&&ko(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}o(Xxt,"pow2523");function jBe(e,t){var r=new qc(32),n=new qc(32);return iU(r,e),iU(n,t),YBe(r,0,n,0)}o(jBe,"neq25519");function YBe(e,t,r,n){return Zxt(e,t,r,n,32)}o(YBe,"crypto_verify_32");function Zxt(e,t,r,n,i){var s,a=0;for(s=0;s<i;++s)a|=e[t+s]^r[n+s];return(1&a-1>>>8)-1}o(Zxt,"vn");function KBe(e){var t=new qc(32);return iU(t,e),t[0]&1}o(KBe,"par25519");function JBe(e,t,r){var n,i;for(uy(e[0],Oie),uy(e[1],nU),uy(e[2],nU),uy(e[3],Oie),i=255;i>=0;--i)n=r[i/8|0]>>(i&7)&1,VBe(e,t,n),qie(t,e),qie(e,e),VBe(e,t,n)}o(JBe,"scalarmult");function Wie(e,t){var r=[hn(),hn(),hn(),hn()];uy(r[0],WBe),uy(r[1],HBe),uy(r[2],nU),ko(r[3],WBe,HBe),JBe(e,r,t)}o(Wie,"scalarbase");function uy(e,t){var r;for(r=0;r<16;r++)e[r]=t[r]|0}o(uy,"set25519");function evt(e,t){var r=hn(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=253;n>=0;--n)G4(r,r),n!==2&&n!==4&&ko(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}o(evt,"inv25519");function Qie(e){var t,r,n=1;for(t=0;t<16;++t)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-n*65536;e[0]+=n-1+37*(n-1)}o(Qie,"car25519");function XBe(e,t,r){for(var n,i=~(r-1),s=0;s<16;++s)n=i&(e[s]^t[s]),e[s]^=n,t[s]^=n}o(XBe,"sel25519");function hn(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;++t)r[t]=e[t];return r}o(hn,"gf");function d8(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]+r[n]}o(d8,"A");function m8(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]-r[n]}o(m8,"Z");function G4(e,t){ko(e,t,t)}o(G4,"S");function ko(e,t,r){var n,i,s=0,a=0,l=0,c=0,u=0,f=0,m=0,h=0,p=0,A=0,E=0,x=0,b=0,v=0,S=0,k=0,P=0,N=0,W=0,re=0,ge=0,te=0,G=0,q=0,se=0,ne=0,H=0,O=0,j=0,J=0,le=0,Z=r[0],ae=r[1],ce=r[2],Re=r[3],be=r[4],Ue=r[5],Be=r[6],Je=r[7],ut=r[8],it=r[9],ot=r[10],ie=r[11],Pe=r[12],Ae=r[13],Ge=r[14],z=r[15];n=t[0],s+=n*Z,a+=n*ae,l+=n*ce,c+=n*Re,u+=n*be,f+=n*Ue,m+=n*Be,h+=n*Je,p+=n*ut,A+=n*it,E+=n*ot,x+=n*ie,b+=n*Pe,v+=n*Ae,S+=n*Ge,k+=n*z,n=t[1],a+=n*Z,l+=n*ae,c+=n*ce,u+=n*Re,f+=n*be,m+=n*Ue,h+=n*Be,p+=n*Je,A+=n*ut,E+=n*it,x+=n*ot,b+=n*ie,v+=n*Pe,S+=n*Ae,k+=n*Ge,P+=n*z,n=t[2],l+=n*Z,c+=n*ae,u+=n*ce,f+=n*Re,m+=n*be,h+=n*Ue,p+=n*Be,A+=n*Je,E+=n*ut,x+=n*it,b+=n*ot,v+=n*ie,S+=n*Pe,k+=n*Ae,P+=n*Ge,N+=n*z,n=t[3],c+=n*Z,u+=n*ae,f+=n*ce,m+=n*Re,h+=n*be,p+=n*Ue,A+=n*Be,E+=n*Je,x+=n*ut,b+=n*it,v+=n*ot,S+=n*ie,k+=n*Pe,P+=n*Ae,N+=n*Ge,W+=n*z,n=t[4],u+=n*Z,f+=n*ae,m+=n*ce,h+=n*Re,p+=n*be,A+=n*Ue,E+=n*Be,x+=n*Je,b+=n*ut,v+=n*it,S+=n*ot,k+=n*ie,P+=n*Pe,N+=n*Ae,W+=n*Ge,re+=n*z,n=t[5],f+=n*Z,m+=n*ae,h+=n*ce,p+=n*Re,A+=n*be,E+=n*Ue,x+=n*Be,b+=n*Je,v+=n*ut,S+=n*it,k+=n*ot,P+=n*ie,N+=n*Pe,W+=n*Ae,re+=n*Ge,ge+=n*z,n=t[6],m+=n*Z,h+=n*ae,p+=n*ce,A+=n*Re,E+=n*be,x+=n*Ue,b+=n*Be,v+=n*Je,S+=n*ut,k+=n*it,P+=n*ot,N+=n*ie,W+=n*Pe,re+=n*Ae,ge+=n*Ge,te+=n*z,n=t[7],h+=n*Z,p+=n*ae,A+=n*ce,E+=n*Re,x+=n*be,b+=n*Ue,v+=n*Be,S+=n*Je,k+=n*ut,P+=n*it,N+=n*ot,W+=n*ie,re+=n*Pe,ge+=n*Ae,te+=n*Ge,G+=n*z,n=t[8],p+=n*Z,A+=n*ae,E+=n*ce,x+=n*Re,b+=n*be,v+=n*Ue,S+=n*Be,k+=n*Je,P+=n*ut,N+=n*it,W+=n*ot,re+=n*ie,ge+=n*Pe,te+=n*Ae,G+=n*Ge,q+=n*z,n=t[9],A+=n*Z,E+=n*ae,x+=n*ce,b+=n*Re,v+=n*be,S+=n*Ue,k+=n*Be,P+=n*Je,N+=n*ut,W+=n*it,re+=n*ot,ge+=n*ie,te+=n*Pe,G+=n*Ae,q+=n*Ge,se+=n*z,n=t[10],E+=n*Z,x+=n*ae,b+=n*ce,v+=n*Re,S+=n*be,k+=n*Ue,P+=n*Be,N+=n*Je,W+=n*ut,re+=n*it,ge+=n*ot,te+=n*ie,G+=n*Pe,q+=n*Ae,se+=n*Ge,ne+=n*z,n=t[11],x+=n*Z,b+=n*ae,v+=n*ce,S+=n*Re,k+=n*be,P+=n*Ue,N+=n*Be,W+=n*Je,re+=n*ut,ge+=n*it,te+=n*ot,G+=n*ie,q+=n*Pe,se+=n*Ae,ne+=n*Ge,H+=n*z,n=t[12],b+=n*Z,v+=n*ae,S+=n*ce,k+=n*Re,P+=n*be,N+=n*Ue,W+=n*Be,re+=n*Je,ge+=n*ut,te+=n*it,G+=n*ot,q+=n*ie,se+=n*Pe,ne+=n*Ae,H+=n*Ge,O+=n*z,n=t[13],v+=n*Z,S+=n*ae,k+=n*ce,P+=n*Re,N+=n*be,W+=n*Ue,re+=n*Be,ge+=n*Je,te+=n*ut,G+=n*it,q+=n*ot,se+=n*ie,ne+=n*Pe,H+=n*Ae,O+=n*Ge,j+=n*z,n=t[14],S+=n*Z,k+=n*ae,P+=n*ce,N+=n*Re,W+=n*be,re+=n*Ue,ge+=n*Be,te+=n*Je,G+=n*ut,q+=n*it,se+=n*ot,ne+=n*ie,H+=n*Pe,O+=n*Ae,j+=n*Ge,J+=n*z,n=t[15],k+=n*Z,P+=n*ae,N+=n*ce,W+=n*Re,re+=n*be,ge+=n*Ue,te+=n*Be,G+=n*Je,q+=n*ut,se+=n*it,ne+=n*ot,H+=n*ie,O+=n*Pe,j+=n*Ae,J+=n*Ge,le+=n*z,s+=38*P,a+=38*N,l+=38*W,c+=38*re,u+=38*ge,f+=38*te,m+=38*G,h+=38*q,p+=38*se,A+=38*ne,E+=38*H,x+=38*O,b+=38*j,v+=38*J,S+=38*le,i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=b+i+65535,i=Math.floor(n/65536),b=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=S+i+65535,i=Math.floor(n/65536),S=n-i*65536,n=k+i+65535,i=Math.floor(n/65536),k=n-i*65536,s+=i-1+37*(i-1),i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=b+i+65535,i=Math.floor(n/65536),b=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=S+i+65535,i=Math.floor(n/65536),S=n-i*65536,n=k+i+65535,i=Math.floor(n/65536),k=n-i*65536,s+=i-1+37*(i-1),e[0]=s,e[1]=a,e[2]=l,e[3]=c,e[4]=u,e[5]=f,e[6]=m,e[7]=h,e[8]=p,e[9]=A,e[10]=E,e[11]=x,e[12]=b,e[13]=v,e[14]=S,e[15]=k}o(ko,"M")});var ike=V((hqr,nke)=>{d();var $u=Jn();Ki();pd();e_();nke.exports=$u.kem=$u.kem||{};var tke=$u.jsbn.BigInteger;$u.kem.rsa={};$u.kem.rsa.create=function(e,t){t=t||{};var r=t.prng||$u.random,n={};return n.encrypt=function(i,s){var a=Math.ceil(i.n.bitLength()/8),l;do l=new tke($u.util.bytesToHex(r.getBytesSync(a)),16).mod(i.n);while(l.compareTo(tke.ONE)<=0);l=$u.util.hexToBytes(l.toString(16));var c=a-l.length;c>0&&(l=$u.util.fillString("\0",c)+l);var u=i.encrypt(l,"NONE"),f=e.generate(l,s);return{encapsulation:u,key:f}},n.decrypt=function(i,s,a){var l=i.decrypt(s,"NONE");return e.generate(l,a)},n};$u.kem.kdf1=function(e,t){rke(this,e,0,t||e.digestLength)};$u.kem.kdf2=function(e,t){rke(this,e,1,t||e.digestLength)};function rke(e,t,r,n){e.generate=function(i,s){for(var a=new $u.util.ByteBuffer,l=Math.ceil(s/n)+r,c=new $u.util.ByteBuffer,u=r;u<l;++u){c.putInt32(u),t.start(),t.update(i+c.getBytes());var f=t.digest();a.putBytes(f.getBytes(n))}return a.truncate(a.length()-s),a.getBytes()}}o(rke,"_createKDF")});var lke=V((Aqr,ake)=>{d();var Si=Jn();Ki();ake.exports=Si.log=Si.log||{};Si.log.levels=["none","error","warning","info","debug","verbose","max"];var oU={},jie=[],a_=null;Si.log.LEVEL_LOCKED=2;Si.log.NO_LEVEL_CHECK=4;Si.log.INTERPOLATE=8;for(Qp=0;Qp<Si.log.levels.length;++Qp)Hie=Si.log.levels[Qp],oU[Hie]={index:Qp,name:Hie.toUpperCase()};var Hie,Qp;Si.log.logMessage=function(e){for(var t=oU[e.level].index,r=0;r<jie.length;++r){var n=jie[r];if(n.flags&Si.log.NO_LEVEL_CHECK)n.f(e);else{var i=oU[n.level].index;t<=i&&n.f(n,e)}}};Si.log.prepareStandard=function(e){"standard"in e||(e.standard=oU[e.level].name+" ["+e.category+"] "+e.message)};Si.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]),e.full=Si.util.format.apply(this,t)}};Si.log.prepareStandardFull=function(e){"standardFull"in e||(Si.log.prepareStandard(e),e.standardFull=e.standard)};for(Vie=["error","warning","info","debug","verbose"],Qp=0;Qp<Vie.length;++Qp)(function(t){Si.log[t]=function(r,n){var i=Array.prototype.slice.call(arguments).slice(2),s={timestamp:new Date,level:t,category:r,message:n,arguments:i};Si.log.logMessage(s)}})(Vie[Qp]);var Vie,Qp;Si.log.makeLogger=function(e){var t={flags:0,f:e};return Si.log.setLevel(t,"none"),t};Si.log.setLevel=function(e,t){var r=!1;if(e&&!(e.flags&Si.log.LEVEL_LOCKED))for(var n=0;n<Si.log.levels.length;++n){var i=Si.log.levels[n];if(t==i){e.level=t,r=!0;break}}return r};Si.log.lock=function(e,t){typeof t>"u"||t?e.flags|=Si.log.LEVEL_LOCKED:e.flags&=~Si.log.LEVEL_LOCKED};Si.log.addLogger=function(e){jie.push(e)};typeof console<"u"&&"log"in console?(console.error&&console.warn&&console.info&&console.debug?(oke={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},l_=o(function(e,t){Si.log.prepareStandard(t);var r=oke[t.level],n=[t.standard];n=n.concat(t.arguments.slice()),r.apply(console,n)},"f"),h8=Si.log.makeLogger(l_)):(l_=o(function(t,r){Si.log.prepareStandardFull(r),console.log(r.standardFull)},"f"),h8=Si.log.makeLogger(l_)),Si.log.setLevel(h8,"debug"),Si.log.addLogger(h8),a_=h8):console={log:o(function(){},"log")};var h8,oke,l_;a_!==null&&typeof window<"u"&&window.location&&(s_=new URL(window.location.href).searchParams,s_.has("console.level")&&Si.log.setLevel(a_,s_.get("console.level").slice(-1)[0]),s_.has("console.lock")&&(ske=s_.get("console.lock").slice(-1)[0],ske=="true"&&Si.log.lock(a_)));var s_,ske;Si.log.consoleLogger=a_});var uke=V((Eqr,cke)=>{d();cke.exports=Bp();MO();a8();oie();Nie()});var mke=V((vqr,dke)=>{d();var mr=Jn();ry();Hm();Xw();ny();F4();Cie();pd();Ki();XO();var De=mr.asn1,$0=dke.exports=mr.pkcs7=mr.pkcs7||{};$0.messageFromPem=function(e){var t=mr.pem.decode(e)[0];if(t.type!=="PKCS7"){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var n=De.fromDer(t.body);return $0.messageFromAsn1(n)};$0.messageToPem=function(e,t){var r={type:"PKCS7",body:De.toDer(e.toAsn1()).getBytes()};return mr.pem.encode(r,{maxline:t})};$0.messageFromAsn1=function(e){var t={},r=[];if(!De.validate(e,$0.asn1.contentInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw n.errors=r,n}var i=De.derToOid(t.contentType),s;switch(i){case mr.pki.oids.envelopedData:s=$0.createEnvelopedData();break;case mr.pki.oids.encryptedData:s=$0.createEncryptedData();break;case mr.pki.oids.signedData:s=$0.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+i+" is not (yet) supported.")}return s.fromAsn1(t.content.value[0]),s};$0.createSignedData=function(){var e=null;return e={type:mr.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:o(function(n){if(zie(e,n,$0.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var i=e.rawCapture.certificates.value,s=0;s<i.length;++s)e.certificates.push(mr.pki.certificateFromAsn1(i[s]))},"fromAsn1"),toAsn1:o(function(){e.contentInfo||e.sign();for(var n=[],i=0;i<e.certificates.length;++i)n.push(mr.pki.certificateToAsn1(e.certificates[i]));var s=[],a=De.create(De.Class.CONTEXT_SPECIFIC,0,!0,[De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.INTEGER,!1,De.integerToDer(e.version).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return n.length>0&&a.value[0].value.push(De.create(De.Class.CONTEXT_SPECIFIC,0,!0,n)),s.length>0&&a.value[0].value.push(De.create(De.Class.CONTEXT_SPECIFIC,1,!0,s)),a.value[0].value.push(De.create(De.Class.UNIVERSAL,De.Type.SET,!0,e.signerInfos)),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.type).getBytes()),a])},"toAsn1"),addSigner:o(function(n){var i=n.issuer,s=n.serialNumber;if(n.certificate){var a=n.certificate;typeof a=="string"&&(a=mr.pki.certificateFromPem(a)),i=a.issuer.attributes,s=a.serialNumber}var l=n.key;if(!l)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof l=="string"&&(l=mr.pki.privateKeyFromPem(l));var c=n.digestAlgorithm||mr.pki.oids.sha1;switch(c){case mr.pki.oids.sha1:case mr.pki.oids.sha256:case mr.pki.oids.sha384:case mr.pki.oids.sha512:case mr.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+c)}var u=n.authenticatedAttributes||[];if(u.length>0){for(var f=!1,m=!1,h=0;h<u.length;++h){var p=u[h];if(!f&&p.type===mr.pki.oids.contentType){if(f=!0,m)break;continue}if(!m&&p.type===mr.pki.oids.messageDigest){if(m=!0,f)break;continue}}if(!f||!m)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:l,version:1,issuer:i,serialNumber:s,digestAlgorithm:c,signatureAlgorithm:mr.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:u,unauthenticatedAttributes:[]})},"addSigner"),sign:o(function(n){if(n=n||{},(typeof e.content!="object"||e.contentInfo===null)&&(e.contentInfo=De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(mr.pki.oids.data).getBytes())]),"content"in e)){var i;e.content instanceof mr.util.ByteBuffer?i=e.content.bytes():typeof e.content=="string"&&(i=mr.util.encodeUtf8(e.content)),n.detached?e.detachedContent=De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,i):e.contentInfo.value.push(De.create(De.Class.CONTEXT_SPECIFIC,0,!0,[De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,i)]))}if(e.signers.length!==0){var s=t();r(s)}},"sign"),verify:o(function(){throw new Error("PKCS#7 signature verification not yet implemented.")},"verify"),addCertificate:o(function(n){typeof n=="string"&&(n=mr.pki.certificateFromPem(n)),e.certificates.push(n)},"addCertificate"),addCertificateRevokationList:o(function(n){throw new Error("PKCS#7 CRL support not yet implemented.")},"addCertificateRevokationList")},e;function t(){for(var n={},i=0;i<e.signers.length;++i){var s=e.signers[i],a=s.digestAlgorithm;a in n||(n[a]=mr.md[mr.pki.oids[a]].create()),s.authenticatedAttributes.length===0?s.md=n[a]:s.md=mr.md[mr.pki.oids[a]].create()}e.digestAlgorithmIdentifiers=[];for(var a in n)e.digestAlgorithmIdentifiers.push(De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(a).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.NULL,!1,"")]));return n}o(t,"addDigestAlgorithmIds");function r(n){var i;if(e.detachedContent?i=e.detachedContent:(i=e.contentInfo.value[1],i=i.value[0]),!i)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var s=De.derToOid(e.contentInfo.value[0].value),a=De.toDer(i);a.getByte(),De.getBerValueLength(a),a=a.getBytes();for(var l in n)n[l].start().update(a);for(var c=new Date,u=0;u<e.signers.length;++u){var f=e.signers[u];if(f.authenticatedAttributes.length===0){if(s!==mr.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{f.authenticatedAttributesAsn1=De.create(De.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var m=De.create(De.Class.UNIVERSAL,De.Type.SET,!0,[]),h=0;h<f.authenticatedAttributes.length;++h){var p=f.authenticatedAttributes[h];p.type===mr.pki.oids.messageDigest?p.value=n[f.digestAlgorithm].digest():p.type===mr.pki.oids.signingTime&&(p.value||(p.value=c)),m.value.push($ie(p)),f.authenticatedAttributesAsn1.value.push($ie(p))}a=De.toDer(m).getBytes(),f.md.start().update(a)}f.signature=f.key.sign(f.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=svt(e.signers)}o(r,"addSignerInfos")};$0.createEncryptedData=function(){var e=null;return e={type:mr.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:mr.pki.oids["aes256-CBC"]},fromAsn1:o(function(t){zie(e,t,$0.asn1.encryptedDataValidator)},"fromAsn1"),decrypt:o(function(t){t!==void 0&&(e.encryptedContent.key=t),fke(e)},"decrypt")},e};$0.createEnvelopedData=function(){var e=null;return e={type:mr.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:mr.pki.oids["aes256-CBC"]},fromAsn1:o(function(t){var r=zie(e,t,$0.asn1.envelopedDataValidator);e.recipients=nvt(r.recipientInfos.value)},"fromAsn1"),toAsn1:o(function(){return De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.type).getBytes()),De.create(De.Class.CONTEXT_SPECIFIC,0,!0,[De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.INTEGER,!1,De.integerToDer(e.version).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.SET,!0,ivt(e.recipients)),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,avt(e.encryptedContent))])])])},"toAsn1"),findRecipient:o(function(t){for(var r=t.issuer.attributes,n=0;n<e.recipients.length;++n){var i=e.recipients[n],s=i.issuer;if(i.serialNumber===t.serialNumber&&s.length===r.length){for(var a=!0,l=0;l<r.length;++l)if(s[l].type!==r[l].type||s[l].value!==r[l].value){a=!1;break}if(a)return i}}return null},"findRecipient"),decrypt:o(function(t,r){if(e.encryptedContent.key===void 0&&t!==void 0&&r!==void 0)switch(t.encryptedContent.algorithm){case mr.pki.oids.rsaEncryption:case mr.pki.oids.desCBC:var n=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=mr.util.createBuffer(n);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}fke(e)},"decrypt"),addRecipient:o(function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:mr.pki.oids.rsaEncryption,key:t.publicKey}})},"addRecipient"),encrypt:o(function(t,r){if(e.encryptedContent.content===void 0){r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key;var n,i,s;switch(r){case mr.pki.oids["aes128-CBC"]:n=16,i=16,s=mr.aes.createEncryptionCipher;break;case mr.pki.oids["aes192-CBC"]:n=24,i=16,s=mr.aes.createEncryptionCipher;break;case mr.pki.oids["aes256-CBC"]:n=32,i=16,s=mr.aes.createEncryptionCipher;break;case mr.pki.oids["des-EDE3-CBC"]:n=24,i=8,s=mr.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(t===void 0)t=mr.util.createBuffer(mr.random.getBytes(n));else if(t.length()!=n)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+n+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=mr.util.createBuffer(mr.random.getBytes(i));var a=s(t);if(a.start(e.encryptedContent.parameter.copy()),a.update(e.content),!a.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=a.output}for(var l=0;l<e.recipients.length;++l){var c=e.recipients[l];if(c.encryptedContent.content===void 0)switch(c.encryptedContent.algorithm){case mr.pki.oids.rsaEncryption:c.encryptedContent.content=c.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+c.encryptedContent.algorithm)}}},"encrypt")},e};function tvt(e){var t={},r=[];if(!De.validate(e,$0.asn1.recipientInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw n.errors=r,n}return{version:t.version.charCodeAt(0),issuer:mr.pki.RDNAttributesAsArray(t.issuer),serialNumber:mr.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:De.derToOid(t.encAlgorithm),parameter:t.encParameter?t.encParameter.value:void 0,content:t.encKey}}}o(tvt,"_recipientFromAsn1");function rvt(e){return De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.INTEGER,!1,De.integerToDer(e.version).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[mr.pki.distinguishedNameToAsn1({attributes:e.issuer}),De.create(De.Class.UNIVERSAL,De.Type.INTEGER,!1,mr.util.hexToBytes(e.serialNumber))]),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.encryptedContent.algorithm).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.NULL,!1,"")]),De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,e.encryptedContent.content)])}o(rvt,"_recipientToAsn1");function nvt(e){for(var t=[],r=0;r<e.length;++r)t.push(tvt(e[r]));return t}o(nvt,"_recipientsFromAsn1");function ivt(e){for(var t=[],r=0;r<e.length;++r)t.push(rvt(e[r]));return t}o(ivt,"_recipientsToAsn1");function ovt(e){var t=De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.INTEGER,!1,De.integerToDer(e.version).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[mr.pki.distinguishedNameToAsn1({attributes:e.issuer}),De.create(De.Class.UNIVERSAL,De.Type.INTEGER,!1,mr.util.hexToBytes(e.serialNumber))]),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.digestAlgorithm).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.signatureAlgorithm).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.NULL,!1,"")])),t.value.push(De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var r=De.create(De.Class.CONTEXT_SPECIFIC,1,!0,[]),n=0;n<e.unauthenticatedAttributes.length;++n){var i=e.unauthenticatedAttributes[n];r.values.push($ie(i))}t.value.push(r)}return t}o(ovt,"_signerToAsn1");function svt(e){for(var t=[],r=0;r<e.length;++r)t.push(ovt(e[r]));return t}o(svt,"_signersToAsn1");function $ie(e){var t;if(e.type===mr.pki.oids.contentType)t=De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.value).getBytes());else if(e.type===mr.pki.oids.messageDigest)t=De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===mr.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),n=new Date("2050-01-01T00:00:00Z"),i=e.value;if(typeof i=="string"){var s=Date.parse(i);isNaN(s)?i.length===13?i=De.utcTimeToDate(i):i=De.generalizedTimeToDate(i):i=new Date(s)}i>=r&&i<n?t=De.create(De.Class.UNIVERSAL,De.Type.UTCTIME,!1,De.dateToUtcTime(i)):t=De.create(De.Class.UNIVERSAL,De.Type.GENERALIZEDTIME,!1,De.dateToGeneralizedTime(i))}return De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.type).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.SET,!0,[t])])}o($ie,"_attributeToAsn1");function avt(e){return[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(mr.pki.oids.data).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.algorithm).getBytes()),e.parameter?De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,e.parameter.getBytes()):void 0]),De.create(De.Class.CONTEXT_SPECIFIC,0,!0,[De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,e.content.getBytes())])]}o(avt,"_encryptedContentToAsn1");function zie(e,t,r){var n={},i=[];if(!De.validate(t,r,n,i)){var s=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw s.errors=s,s}var a=De.derToOid(n.contentType);if(a!==mr.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(n.encryptedContent){var l="";if(mr.util.isArray(n.encryptedContent))for(var c=0;c<n.encryptedContent.length;++c){if(n.encryptedContent[c].type!==De.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");l+=n.encryptedContent[c].value}else l=n.encryptedContent;e.encryptedContent={algorithm:De.derToOid(n.encAlgorithm),parameter:mr.util.createBuffer(n.encParameter.value),content:mr.util.createBuffer(l)}}if(n.content){var l="";if(mr.util.isArray(n.content))for(var c=0;c<n.content.length;++c){if(n.content[c].type!==De.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");l+=n.content[c].value}else l=n.content;e.content=mr.util.createBuffer(l)}return e.version=n.version.charCodeAt(0),e.rawCapture=n,n}o(zie,"_fromAsn1");function fke(e){if(e.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(e.content===void 0){var t;switch(e.encryptedContent.algorithm){case mr.pki.oids["aes128-CBC"]:case mr.pki.oids["aes192-CBC"]:case mr.pki.oids["aes256-CBC"]:t=mr.aes.createDecryptionCipher(e.encryptedContent.key);break;case mr.pki.oids.desCBC:case mr.pki.oids["des-EDE3-CBC"]:t=mr.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}o(fke,"_decryptContent")});var pke=V((Tqr,hke)=>{d();var Pa=Jn();ry();n8();MO();a8();Ki();var aU=hke.exports=Pa.ssh=Pa.ssh||{};aU.privateKeyToPutty=function(e,t,r){r=r||"",t=t||"";var n="ssh-rsa",i=t===""?"none":"aes256-cbc",s="PuTTY-User-Key-File-2: "+n+`\r
`;s+="Encryption: "+i+`\r
`,s+="Comment: "+r+`\r
`;var a=Pa.util.createBuffer();p8(a,n),Mp(a,e.e),Mp(a,e.n);var l=Pa.util.encode64(a.bytes(),64),c=Math.floor(l.length/66)+1;s+="Public-Lines: "+c+`\r
`,s+=l;var u=Pa.util.createBuffer();Mp(u,e.d),Mp(u,e.p),Mp(u,e.q),Mp(u,e.qInv);var f;if(!t)f=Pa.util.encode64(u.bytes(),64);else{var m=u.length()+16-1;m-=m%16;var h=sU(u.bytes());h.truncate(h.length()-m+u.length()),u.putBuffer(h);var p=Pa.util.createBuffer();p.putBuffer(sU("\0\0\0\0",t)),p.putBuffer(sU("\0\0\0",t));var A=Pa.aes.createEncryptionCipher(p.truncate(8),"CBC");A.start(Pa.util.createBuffer().fillWithByte(0,16)),A.update(u.copy()),A.finish();var E=A.output;E.truncate(16),f=Pa.util.encode64(E.bytes(),64)}c=Math.floor(f.length/66)+1,s+=`\r
Private-Lines: `+c+`\r
`,s+=f;var x=sU("putty-private-key-file-mac-key",t),b=Pa.util.createBuffer();p8(b,n),p8(b,i),p8(b,r),b.putInt32(a.length()),b.putBuffer(a),b.putInt32(u.length()),b.putBuffer(u);var v=Pa.hmac.create();return v.start("sha1",x),v.update(b.bytes()),s+=`\r
Private-MAC: `+v.digest().toHex()+`\r
`,s};aU.publicKeyToOpenSSH=function(e,t){var r="ssh-rsa";t=t||"";var n=Pa.util.createBuffer();return p8(n,r),Mp(n,e.e),Mp(n,e.n),r+" "+Pa.util.encode64(n.bytes())+" "+t};aU.privateKeyToOpenSSH=function(e,t){return t?Pa.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):Pa.pki.privateKeyToPem(e)};aU.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||Pa.md.md5.create(),n="ssh-rsa",i=Pa.util.createBuffer();p8(i,n),Mp(i,e.e),Mp(i,e.n),r.start(),r.update(i.getBytes());var s=r.digest();if(t.encoding==="hex"){var a=s.toHex();return t.delimiter?a.match(/.{2}/g).join(t.delimiter):a}else{if(t.encoding==="binary")return s.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return s};function Mp(e,t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var n=Pa.util.hexToBytes(r);e.putInt32(n.length),e.putBytes(n)}o(Mp,"_addBigIntegerToBuffer");function p8(e,t){e.putInt32(t.length),e.putString(t)}o(p8,"_addStringToBuffer");function sU(){for(var e=Pa.md.sha1.create(),t=arguments.length,r=0;r<t;++r)e.update(arguments[r]);return e.digest()}o(sU,"_sha1")});var Ake=V((Sqr,gke)=>{d();gke.exports=Jn();ry();LBe();Hm();RO();Xw();eke();n8();ike();lke();uke();Eie();GO();F4();hie();bie();mke();Tie();gie();sie();YO();pd();cie();pke();Rie();Ki()});var Eke=V(W4=>{"use strict";d();Object.defineProperty(W4,"__esModule",{value:!0});W4.convert=W4.Format=void 0;var c_=Ake(),fy;(function(e){e.der="der",e.pem="pem",e.txt="txt",e.asn1="asn1",e.x509="x509",e.fingerprint="fingerprint"})(fy=W4.Format||(W4.Format={}));function yke(e){var t=c_.pki.pemToDer(e),r=c_.asn1,n=r.fromDer(t.data.toString("binary")).value[0].value,i=n[0],s=i.tagClass===r.Class.CONTEXT_SPECIFIC&&i.type===0&&i.constructed,a=n.slice(s);return{serial:a[0],issuer:a[2],valid:a[3],subject:a[4]}}o(yke,"myASN");function lvt(e){var t=yke(e),r=t.subject.value.map(function(i){return i.value[0].value[1].value}).join("/"),n=t.valid.value.map(function(i){return i.value}).join(" - ");return["Subject	".concat(r),"Valid	".concat(n),String(e)].join(`
`)}o(lvt,"txtFormat");function Cke(e,t){switch(t){case fy.der:return c_.pki.pemToDer(e);case fy.pem:return e;case fy.txt:return lvt(e);case fy.asn1:return yke(e);case fy.fingerprint:var r=c_.md.sha1.create(),n=Cke(e,fy.der);return r.update(n.getBytes()),r.digest().toHex();case fy.x509:return c_.pki.certificateFromPem(e);default:throw new Error("unknown format ".concat(t))}}o(Cke,"convert");W4.convert=Cke});var wke=V(Gc=>{"use strict";d();var dy=Gc&&Gc.__assign||function(){return dy=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},dy.apply(this,arguments)},lU=Gc&&Gc.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))};Object.defineProperty(Gc,"__esModule",{value:!0});Gc.convert=Gc.Format=Gc.addToGlobalAgent=Gc.get=void 0;var Yie=require("https"),cvt=require("tls"),xke=require("child_process"),vke=tSe(),O1=Eke();Object.defineProperty(Gc,"Format",{enumerable:!0,get:o(function(){return O1.Format},"get")});Object.defineProperty(Gc,"convert",{enumerable:!0,get:o(function(){return O1.convert},"get")});var bke=process.platform==="darwin",Ike=Yie.globalAgent,uU={keychain:"all",unique:!0,excludeBundled:!0,format:O1.Format.pem};function Tke(e){if(e===void 0&&(e=uU),!bke)return[];e=dy(dy({},uU),e);var t=/(?=-----BEGIN\sCERTIFICATE-----)/g,r=["find-certificate","-a","-p"],n=[];if(e.keychain==="all"||e.keychain==="SystemRootCertificates"){var i="/System/Library/Keychains/SystemRootCertificates.keychain",s=(0,xke.spawnSync)("/usr/bin/security",r.concat(i)).stdout.toString().split(t).map(function(u){return u.trim()});n=lU(lU([],n,!0),s,!0)}if(e.keychain==="all"||e.keychain==="current"){var a=(0,xke.spawnSync)("/usr/bin/security",r).stdout.toString().split(t).map(function(u){return u.trim()});n=lU(lU([],n,!0),a,!0)}if(e.unique||e.excludeBundled){var l=n.map(function(u){return(0,O1.convert)(u,O1.Format.fingerprint)}),c=e.excludeBundled?cvt.rootCertificates.map(function(u){return(0,O1.convert)(u,O1.Format.fingerprint)}):[];n=n.filter(function(u,f){var m=l[f];return!(e.unique&&f!==l.indexOf(m)||e.excludeBundled&&c.includes(m))})}return n.map(function(u){return(0,O1.convert)(u,e.format)})}o(Tke,"get");Gc.get=Tke;var cU=Ike.options.ca,uvt=o(function(e){if(e===void 0&&(e=uU),!!bke){var t;Array.isArray(cU)?t=Array.from(cU):t=typeof cU<"u"?[cU]:[],Tke(dy(dy(dy({},uU),e),{format:O1.Format.pem,excludeBundled:!1})).forEach(function(r){return t.push(r)}),Ike.options.ca=t,Yie.Agent=function(r){return function(n){var i=typeof n<"u"?dy({},n):{};return typeof i.ca>"u"&&(i.ca=t),r.call(this,i)}}(Yie.Agent),(0,vke.setGlobalDispatcher)(new vke.Agent({connect:{ca:t}}))}},"addToGlobalAgent");Gc.addToGlobalAgent=uvt});var _ke=V((Lqr,Kie)=>{d();function fvt(){let{X509Certificate:e}=require("crypto"),{join:t}=require("path");var r=typeof __webpack_require__=="function"?__non_webpack_require__:require;let n=r(t(__dirname,"crypt32.node")),i=[],s=new n.Crypt32;try{let a;for(;a=s.next();){let l=new e(a);i.push(l.toString())}}finally{s.done()}return Array.from(new Set(i))}o(fvt,"all");process.platform!=="win32"?Kie.exports.all=()=>[]:Kie.exports.all=fvt});var Qke=V((Wqr,Lke)=>{d();var ooe=require("fs"),dU=require("path"),u_=dU.join,mvt=dU.dirname,Nke=ooe.accessSync&&function(e){try{ooe.accessSync(e)}catch{return!1}return!0}||ooe.existsSync||dU.existsSync,Fke={arrow:process.env.NODE_BINDINGS_ARROW||" \u2192 ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,nodePreGyp:"node-v"+process.versions.modules+"-"+process.platform+"-"+process.arch,version:process.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"],["module_root","compiled","platform","arch","bindings"]]};function hvt(e){typeof e=="string"?e={bindings:e}:e||(e={}),Object.keys(Fke).map(function(c){c in e||(e[c]=Fke[c])}),e.module_root||(e.module_root=pvt(__filename)),dU.extname(e.bindings)!=".node"&&(e.bindings+=".node");for(var t=typeof __webpack_require__=="function"?__non_webpack_require__:require,r=[],n=0,i=e.try.length,s,a,l;n<i;n++){s=u_.apply(null,e.try[n].map(function(c){return e[c]||c})),r.push(s);try{return a=e.path?t.resolve(s):t(s),e.path||(a.path=s),a}catch(c){if(c.code!=="MODULE_NOT_FOUND"&&c.code!=="QUALIFIED_PATH_RESOLUTION_FAILED"&&!/not find/i.test(c.message))throw c}}throw l=new Error(`Could not locate the bindings file. Tried:
`+r.map(function(c){return e.arrow+c}).join(`
`)),l.tries=r,l}o(hvt,"bindings");Lke.exports=hvt;function pvt(e){for(var t=mvt(e),r;;){if(t==="."&&(t=process.cwd()),Nke(u_(t,"dist")))return u_(t,"dist");if(Nke(u_(t,"compiled")))return t;if(r===t)throw new Error('Could not find module root given file: "'+e+'". Do you have a `dist` or `compiled` directory? ');r=t,t=u_(t,"..")}}o(pvt,"getRoot")});var Uke=V((jqr,Oke)=>{"use strict";d();function Mke(e,t,r){let n=t[r];if(e==null&&n.required===!1)return;if(e==null)throw new TypeError(`Required parameter \`${n.name}\` missing`);let i=typeof e;if(n.type&&i!==n.type){if(n.required===!1&&t.slice(r).some(s=>s.type===i))return!1;throw new TypeError(`Invalid type for parameter \`${n.name}\`, expected \`${n.type}\` but found \`${typeof e}\``)}return!0}o(Mke,"validateParameter");function gvt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}o(gvt,"hasOwnProperty");function Avt(e,t){return function(){let r=Array.prototype.slice.call(arguments),n=[];for(let s=0,a=0;s<t.length;++s,++a){let l=t[s],c=r[a];gvt(l,"default")&&c==null&&(c=l.default),l.type==="object"&&l.default!=null&&(c=Object.assign({},l.default,c)),l.name==="options"&&(typeof c=="function"||c==null)&&(c={}),Mke(c,t,s)?n.push(c):a--}if(typeof arguments[arguments.length-1]!="function")return new Promise((s,a)=>{n.push((l,c)=>{if(l)return a(l);s(c)}),e.apply(this,n)});e.apply(this,n)}}o(Avt,"defineOperation");Oke.exports={defineOperation:Avt,validateParameter:Mke}});var soe=V((Yqr,Wke)=>{"use strict";d();var y8=Qke()("kerberos"),A8=y8.KerberosClient,qke=y8.KerberosServer,my=Uke().defineOperation,yvt=1,Cvt=2,Evt=4,xvt=8,vvt=16,bvt=32,Ivt=64,Tvt=128,wvt=256,Gke=0,_vt=9,Svt=6;A8.prototype.step=my(A8.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);A8.prototype.wrap=my(A8.prototype.wrap,[{name:"challenge",type:"string"},{name:"options",type:"object"},{name:"callback",type:"function",required:!1}]);A8.prototype.unwrap=my(A8.prototype.unwrap,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);qke.prototype.step=my(qke.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);var Bvt=my(y8.checkPassword,[{name:"username",type:"string"},{name:"password",type:"string"},{name:"service",type:"string"},{name:"defaultRealm",type:"string",required:!1},{name:"callback",type:"function",required:!1}]),kvt=my(y8.principalDetails,[{name:"service",type:"string"},{name:"hostname",type:"string"},{name:"callback",type:"function",required:!1}]),Rvt=my(y8.initializeClient,[{name:"service",type:"string"},{name:"options",type:"object",default:{mechOID:Gke}},{name:"callback",type:"function",required:!1}]),Dvt=my(y8.initializeServer,[{name:"service",type:"string"},{name:"callback",type:"function",required:!1}]);Wke.exports={initializeClient:Rvt,initializeServer:Dvt,principalDetails:kvt,checkPassword:Bvt,GSS_C_DELEG_FLAG:yvt,GSS_C_MUTUAL_FLAG:Cvt,GSS_C_REPLAY_FLAG:Evt,GSS_C_SEQUENCE_FLAG:xvt,GSS_C_CONF_FLAG:vvt,GSS_C_INTEG_FLAG:bvt,GSS_C_ANON_FLAG:Ivt,GSS_C_PROT_READY_FLAG:Tvt,GSS_C_TRANS_FLAG:wvt,GSS_C_NO_OID:Gke,GSS_MECH_OID_KRB5:_vt,GSS_MECH_OID_SPNEGO:Svt}});var Hke=V((Jqr,Pvt)=>{Pvt.exports={name:"kerberos",version:"2.2.0",description:"Kerberos library for Node.js",main:"lib/index.js",files:["lib","src","binding.gyp","HISTORY.md","README.md"],repository:{type:"git",url:"https://github.com/mongodb-js/kerberos.git"},keywords:["kerberos","security","authentication"],author:{name:"The MongoDB NodeJS Team",email:"dbx-node@mongodb.com"},bugs:{url:"https://jira.mongodb.org/projects/NODE/issues/"},dependencies:{bindings:"^1.5.0","node-addon-api":"^6.1.0","prebuild-install":"^7.1.2"},devDependencies:{"@types/node":"^22.2.0",chai:"^4.4.1","chai-string":"^1.5.0",chalk:"^4.1.2","clang-format":"^1.8.0","dmd-clear":"^0.1.2",eslint:"^9.9.0","eslint-config-prettier":"^9.1.0","eslint-plugin-prettier":"^5.2.1","jsdoc-to-markdown":"^8.0.3",mocha:"^10.7.3",mongodb:"^6.8.0","node-gyp":"^10.1.0",prebuild:"^13.0.0",prettier:"^3.3.3",request:"^2.88.2"},overrides:{prebuild:{"node-gyp":"$node-gyp"}},scripts:{install:"prebuild-install --runtime napi || node-gyp rebuild","format-cxx":"clang-format -i 'src/**/*'","format-js":"ESLINT_USE_FLAT_CONFIG=false eslint lib test --fix","check:lint":"ESLINT_USE_FLAT_CONFIG=false eslint lib test",precommit:"check-clang-format",docs:"jsdoc2md --template etc/README.hbs --plugin dmd-clear --files lib/kerberos.js > README.md",test:"mocha test",prebuild:"prebuild --runtime napi --strip --verbose --all"},engines:{node:">=12.9.0"},binary:{napi_versions:[4]},license:"Apache-2.0",readmeFilename:"README.md"}});var jke=V((Xqr,Vke)=>{"use strict";d();var Nvt=require("dns"),Fvt=soe(),aoe=class{static{o(this,"MongoAuthProcess")}constructor(t,r,n,i){i=i||{},this.host=t,this.port=r,this.serviceName=n||i.gssapiServiceName||"mongodb",this.canonicalizeHostName=typeof i.gssapiCanonicalizeHostName=="boolean"?i.gssapiCanonicalizeHostName:!1,this._transition=Lvt(this),this.retries=10}init(t,r,n){let i=this;this.username=t,this.password=r;function s(a,l,c){if(!a)return c();Nvt.resolveCname(l,(u,f)=>{if(u)return c(u);Array.isArray(f)&&f.length>0&&(i.host=f[0]),c()})}o(s,"performGssapiCanonicalizeHostName"),s(this.canonicalizeHostName,this.host,a=>{if(a)return n(a);let l={};r!=null&&Object.assign(l,{user:t,password:r});let c=process.platform==="win32"?`${this.serviceName}/${this.host}`:`${this.serviceName}@${this.host}`;Fvt.initializeClient(c,l,(u,f)=>{if(u)return n(u,null);i.client=f,n(null,f)})})}transition(t,r){if(this._transition==null)return r(new Error("Transition finished"));this._transition(t,r)}};function Lvt(e){return(t,r)=>{e.client.step("",(n,i)=>{if(n)return r(n);e._transition=Qvt(e),r(null,i)})}}o(Lvt,"firstTransition");function Qvt(e){return(t,r)=>{e.client.step(t,(n,i)=>{if(n&&e.retries===0)return r(n);if(n)return e.retries=e.retries-1,e.transition(t,r);e._transition=Mvt(e),r(null,i||"")})}}o(Qvt,"secondTransition");function Mvt(e){return(t,r)=>{e.client.unwrap(t,(n,i)=>{if(n)return r(n,!1);e.client.wrap(i,{user:e.username},(s,a)=>{if(s)return r(s,!1);e._transition=Ovt(e),r(null,a)})})}}o(Mvt,"thirdTransition");function Ovt(e){return(t,r)=>{e._transition=null,r(null,!0)}}o(Ovt,"fourthTransition");Vke.exports={MongoAuthProcess:aoe}});var zke=V((tGr,f_)=>{"use strict";d();var $ke=soe();f_.exports=$ke;f_.exports.Kerberos=$ke;f_.exports.version=Hke().version;f_.exports.processes={MongoAuthProcess:jke().MongoAuthProcess}});var F_=V((Ztn,pDe)=>{d();var fIt="2.0.0",dIt=Number.MAX_SAFE_INTEGER||9007199254740991,mIt=16,hIt=250,pIt=["major","premajor","minor","preminor","patch","prepatch","prerelease"];pDe.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:mIt,MAX_SAFE_BUILD_LENGTH:hIt,MAX_SAFE_INTEGER:dIt,RELEASE_TYPES:pIt,SEMVER_SPEC_VERSION:fIt,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var L_=V((trn,gDe)=>{d();var gIt=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};gDe.exports=gIt});var F8=V((Gp,ADe)=>{d();var{MAX_SAFE_COMPONENT_LENGTH:dse,MAX_SAFE_BUILD_LENGTH:AIt,MAX_LENGTH:yIt}=F_(),CIt=L_();Gp=ADe.exports={};var EIt=Gp.re=[],xIt=Gp.safeRe=[],_r=Gp.src=[],vIt=Gp.safeSrc=[],Sr=Gp.t={},bIt=0,mse="[a-zA-Z0-9-]",IIt=[["\\s",1],["\\d",yIt],[mse,AIt]],TIt=o(e=>{for(let[t,r]of IIt)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},"makeSafeRegex"),Un=o((e,t,r)=>{let n=TIt(t),i=bIt++;CIt(e,i,t),Sr[e]=i,_r[i]=t,vIt[i]=n,EIt[i]=new RegExp(t,r?"g":void 0),xIt[i]=new RegExp(n,r?"g":void 0)},"createToken");Un("NUMERICIDENTIFIER","0|[1-9]\\d*");Un("NUMERICIDENTIFIERLOOSE","\\d+");Un("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${mse}*`);Un("MAINVERSION",`(${_r[Sr.NUMERICIDENTIFIER]})\\.(${_r[Sr.NUMERICIDENTIFIER]})\\.(${_r[Sr.NUMERICIDENTIFIER]})`);Un("MAINVERSIONLOOSE",`(${_r[Sr.NUMERICIDENTIFIERLOOSE]})\\.(${_r[Sr.NUMERICIDENTIFIERLOOSE]})\\.(${_r[Sr.NUMERICIDENTIFIERLOOSE]})`);Un("PRERELEASEIDENTIFIER",`(?:${_r[Sr.NUMERICIDENTIFIER]}|${_r[Sr.NONNUMERICIDENTIFIER]})`);Un("PRERELEASEIDENTIFIERLOOSE",`(?:${_r[Sr.NUMERICIDENTIFIERLOOSE]}|${_r[Sr.NONNUMERICIDENTIFIER]})`);Un("PRERELEASE",`(?:-(${_r[Sr.PRERELEASEIDENTIFIER]}(?:\\.${_r[Sr.PRERELEASEIDENTIFIER]})*))`);Un("PRERELEASELOOSE",`(?:-?(${_r[Sr.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${_r[Sr.PRERELEASEIDENTIFIERLOOSE]})*))`);Un("BUILDIDENTIFIER",`${mse}+`);Un("BUILD",`(?:\\+(${_r[Sr.BUILDIDENTIFIER]}(?:\\.${_r[Sr.BUILDIDENTIFIER]})*))`);Un("FULLPLAIN",`v?${_r[Sr.MAINVERSION]}${_r[Sr.PRERELEASE]}?${_r[Sr.BUILD]}?`);Un("FULL",`^${_r[Sr.FULLPLAIN]}$`);Un("LOOSEPLAIN",`[v=\\s]*${_r[Sr.MAINVERSIONLOOSE]}${_r[Sr.PRERELEASELOOSE]}?${_r[Sr.BUILD]}?`);Un("LOOSE",`^${_r[Sr.LOOSEPLAIN]}$`);Un("GTLT","((?:<|>)?=?)");Un("XRANGEIDENTIFIERLOOSE",`${_r[Sr.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Un("XRANGEIDENTIFIER",`${_r[Sr.NUMERICIDENTIFIER]}|x|X|\\*`);Un("XRANGEPLAIN",`[v=\\s]*(${_r[Sr.XRANGEIDENTIFIER]})(?:\\.(${_r[Sr.XRANGEIDENTIFIER]})(?:\\.(${_r[Sr.XRANGEIDENTIFIER]})(?:${_r[Sr.PRERELEASE]})?${_r[Sr.BUILD]}?)?)?`);Un("XRANGEPLAINLOOSE",`[v=\\s]*(${_r[Sr.XRANGEIDENTIFIERLOOSE]})(?:\\.(${_r[Sr.XRANGEIDENTIFIERLOOSE]})(?:\\.(${_r[Sr.XRANGEIDENTIFIERLOOSE]})(?:${_r[Sr.PRERELEASELOOSE]})?${_r[Sr.BUILD]}?)?)?`);Un("XRANGE",`^${_r[Sr.GTLT]}\\s*${_r[Sr.XRANGEPLAIN]}$`);Un("XRANGELOOSE",`^${_r[Sr.GTLT]}\\s*${_r[Sr.XRANGEPLAINLOOSE]}$`);Un("COERCEPLAIN",`(^|[^\\d])(\\d{1,${dse}})(?:\\.(\\d{1,${dse}}))?(?:\\.(\\d{1,${dse}}))?`);Un("COERCE",`${_r[Sr.COERCEPLAIN]}(?:$|[^\\d])`);Un("COERCEFULL",_r[Sr.COERCEPLAIN]+`(?:${_r[Sr.PRERELEASE]})?(?:${_r[Sr.BUILD]})?(?:$|[^\\d])`);Un("COERCERTL",_r[Sr.COERCE],!0);Un("COERCERTLFULL",_r[Sr.COERCEFULL],!0);Un("LONETILDE","(?:~>?)");Un("TILDETRIM",`(\\s*)${_r[Sr.LONETILDE]}\\s+`,!0);Gp.tildeTrimReplace="$1~";Un("TILDE",`^${_r[Sr.LONETILDE]}${_r[Sr.XRANGEPLAIN]}$`);Un("TILDELOOSE",`^${_r[Sr.LONETILDE]}${_r[Sr.XRANGEPLAINLOOSE]}$`);Un("LONECARET","(?:\\^)");Un("CARETTRIM",`(\\s*)${_r[Sr.LONECARET]}\\s+`,!0);Gp.caretTrimReplace="$1^";Un("CARET",`^${_r[Sr.LONECARET]}${_r[Sr.XRANGEPLAIN]}$`);Un("CARETLOOSE",`^${_r[Sr.LONECARET]}${_r[Sr.XRANGEPLAINLOOSE]}$`);Un("COMPARATORLOOSE",`^${_r[Sr.GTLT]}\\s*(${_r[Sr.LOOSEPLAIN]})$|^$`);Un("COMPARATOR",`^${_r[Sr.GTLT]}\\s*(${_r[Sr.FULLPLAIN]})$|^$`);Un("COMPARATORTRIM",`(\\s*)${_r[Sr.GTLT]}\\s*(${_r[Sr.LOOSEPLAIN]}|${_r[Sr.XRANGEPLAIN]})`,!0);Gp.comparatorTrimReplace="$1$2$3";Un("HYPHENRANGE",`^\\s*(${_r[Sr.XRANGEPLAIN]})\\s+-\\s+(${_r[Sr.XRANGEPLAIN]})\\s*$`);Un("HYPHENRANGELOOSE",`^\\s*(${_r[Sr.XRANGEPLAINLOOSE]})\\s+-\\s+(${_r[Sr.XRANGEPLAINLOOSE]})\\s*$`);Un("STAR","(<|>)?=?\\s*\\*");Un("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Un("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Eq=V((orn,yDe)=>{d();var wIt=Object.freeze({loose:!0}),_It=Object.freeze({}),SIt=o(e=>e?typeof e!="object"?wIt:e:_It,"parseOptions");yDe.exports=SIt});var hse=V((lrn,xDe)=>{d();var CDe=/^[0-9]+$/,EDe=o((e,t)=>{let r=CDe.test(e),n=CDe.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},"compareIdentifiers"),BIt=o((e,t)=>EDe(t,e),"rcompareIdentifiers");xDe.exports={compareIdentifiers:EDe,rcompareIdentifiers:BIt}});var C0=V((frn,TDe)=>{d();var xq=L_(),{MAX_LENGTH:vDe,MAX_SAFE_INTEGER:vq}=F_(),{safeRe:bDe,safeSrc:IDe,t:bq}=F8(),kIt=Eq(),{compareIdentifiers:L8}=hse(),pse=class e{static{o(this,"SemVer")}constructor(t,r){if(r=kIt(r),t instanceof e){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>vDe)throw new TypeError(`version is longer than ${vDe} characters`);xq("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=t.trim().match(r.loose?bDe[bq.LOOSE]:bDe[bq.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>vq||this.major<0)throw new TypeError("Invalid major version");if(this.minor>vq||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>vq||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<vq)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(xq("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if(typeof t=="string"&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof e||(t=new e(t,this.options)),L8(this.major,t.major)||L8(this.minor,t.minor)||L8(this.patch,t.patch)}comparePre(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=t.prerelease[r];if(xq("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return L8(n,i)}while(++r)}compareBuild(t){t instanceof e||(t=new e(t,this.options));let r=0;do{let n=this.build[r],i=t.build[r];if(xq("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return L8(n,i)}while(++r)}inc(t,r,n){if(t.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let i=new RegExp(`^${this.options.loose?IDe[bq.PRERELEASELOOSE]:IDe[bq.PRERELEASE]}$`),s=`-${r}`.match(i);if(!s||s[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),L8(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};TDe.exports=pse});var Z4=V((hrn,_De)=>{d();var wDe=C0(),RIt=o((e,t,r=!1)=>{if(e instanceof wDe)return e;try{return new wDe(e,t)}catch(n){if(!r)return null;throw n}},"parse");_De.exports=RIt});var BDe=V((Arn,SDe)=>{d();var DIt=Z4(),PIt=o((e,t)=>{let r=DIt(e,t);return r?r.version:null},"valid");SDe.exports=PIt});var RDe=V((Ern,kDe)=>{d();var NIt=Z4(),FIt=o((e,t)=>{let r=NIt(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},"clean");kDe.exports=FIt});var NDe=V((brn,PDe)=>{d();var DDe=C0(),LIt=o((e,t,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new DDe(e instanceof DDe?e.version:e,r).inc(t,n,i).version}catch{return null}},"inc");PDe.exports=LIt});var QDe=V((wrn,LDe)=>{d();var FDe=Z4(),QIt=o((e,t)=>{let r=FDe(e,null,!0),n=FDe(t,null,!0),i=r.compare(n);if(i===0)return null;let s=i>0,a=s?r:n,l=s?n:r,c=!!a.prerelease.length;if(!!l.prerelease.length&&!c){if(!l.patch&&!l.minor)return"major";if(l.compareMain(a)===0)return l.minor&&!l.patch?"minor":"patch"}let f=c?"pre":"";return r.major!==n.major?f+"major":r.minor!==n.minor?f+"minor":r.patch!==n.patch?f+"patch":"prerelease"},"diff");LDe.exports=QIt});var ODe=V((Brn,MDe)=>{d();var MIt=C0(),OIt=o((e,t)=>new MIt(e,t).major,"major");MDe.exports=OIt});var qDe=V((Drn,UDe)=>{d();var UIt=C0(),qIt=o((e,t)=>new UIt(e,t).minor,"minor");UDe.exports=qIt});var WDe=V((Frn,GDe)=>{d();var GIt=C0(),WIt=o((e,t)=>new GIt(e,t).patch,"patch");GDe.exports=WIt});var VDe=V((Mrn,HDe)=>{d();var HIt=Z4(),VIt=o((e,t)=>{let r=HIt(e,t);return r&&r.prerelease.length?r.prerelease:null},"prerelease");HDe.exports=VIt});var vd=V((qrn,$De)=>{d();var jDe=C0(),jIt=o((e,t,r)=>new jDe(e,r).compare(new jDe(t,r)),"compare");$De.exports=jIt});var YDe=V((Hrn,zDe)=>{d();var $It=vd(),zIt=o((e,t,r)=>$It(t,e,r),"rcompare");zDe.exports=zIt});var JDe=V(($rn,KDe)=>{d();var YIt=vd(),KIt=o((e,t)=>YIt(e,t,!0),"compareLoose");KDe.exports=KIt});var Iq=V((Krn,ZDe)=>{d();var XDe=C0(),JIt=o((e,t,r)=>{let n=new XDe(e,r),i=new XDe(t,r);return n.compare(i)||n.compareBuild(i)},"compareBuild");ZDe.exports=JIt});var tPe=V((Zrn,ePe)=>{d();var XIt=Iq(),ZIt=o((e,t)=>e.sort((r,n)=>XIt(r,n,t)),"sort");ePe.exports=ZIt});var nPe=V((rnn,rPe)=>{d();var e8t=Iq(),t8t=o((e,t)=>e.sort((r,n)=>e8t(n,r,t)),"rsort");rPe.exports=t8t});var Q_=V((onn,iPe)=>{d();var r8t=vd(),n8t=o((e,t,r)=>r8t(e,t,r)>0,"gt");iPe.exports=n8t});var Tq=V((lnn,oPe)=>{d();var i8t=vd(),o8t=o((e,t,r)=>i8t(e,t,r)<0,"lt");oPe.exports=o8t});var gse=V((fnn,sPe)=>{d();var s8t=vd(),a8t=o((e,t,r)=>s8t(e,t,r)===0,"eq");sPe.exports=a8t});var Ase=V((hnn,aPe)=>{d();var l8t=vd(),c8t=o((e,t,r)=>l8t(e,t,r)!==0,"neq");aPe.exports=c8t});var wq=V((Ann,lPe)=>{d();var u8t=vd(),f8t=o((e,t,r)=>u8t(e,t,r)>=0,"gte");lPe.exports=f8t});var _q=V((Enn,cPe)=>{d();var d8t=vd(),m8t=o((e,t,r)=>d8t(e,t,r)<=0,"lte");cPe.exports=m8t});var yse=V((bnn,uPe)=>{d();var h8t=gse(),p8t=Ase(),g8t=Q_(),A8t=wq(),y8t=Tq(),C8t=_q(),E8t=o((e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return h8t(e,r,n);case"!=":return p8t(e,r,n);case">":return g8t(e,r,n);case">=":return A8t(e,r,n);case"<":return y8t(e,r,n);case"<=":return C8t(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}},"cmp");uPe.exports=E8t});var dPe=V((wnn,fPe)=>{d();var x8t=C0(),v8t=Z4(),{safeRe:Sq,t:Bq}=F8(),b8t=o((e,t)=>{if(e instanceof x8t)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?Sq[Bq.COERCEFULL]:Sq[Bq.COERCE]);else{let c=t.includePrerelease?Sq[Bq.COERCERTLFULL]:Sq[Bq.COERCERTL],u;for(;(u=c.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||u.index+u[0].length!==r.index+r[0].length)&&(r=u),c.lastIndex=u.index+u[1].length+u[2].length;c.lastIndex=-1}if(r===null)return null;let n=r[2],i=r[3]||"0",s=r[4]||"0",a=t.includePrerelease&&r[5]?`-${r[5]}`:"",l=t.includePrerelease&&r[6]?`+${r[6]}`:"";return v8t(`${n}.${i}.${s}${a}${l}`,t)},"coerce");fPe.exports=b8t});var hPe=V((Bnn,mPe)=>{d();var Cse=class{static{o(this,"LRUCache")}constructor(){this.max=1e3,this.map=new Map}get(t){let r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(t,r)}return this}};mPe.exports=Cse});var bd=V((Dnn,yPe)=>{d();var I8t=/\s+/g,Ese=class e{static{o(this,"Range")}constructor(t,r){if(r=w8t(r),t instanceof e)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new e(t.raw,r);if(t instanceof xse)return this.raw=t.value,this.set=[[t]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t.trim().replace(I8t," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!gPe(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&P8t(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let t=0;t<this.set.length;t++){t>0&&(this.formatted+="||");let r=this.set[t];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(t){let n=((this.options.includePrerelease&&R8t)|(this.options.loose&&D8t))+":"+t,i=pPe.get(n);if(i)return i;let s=this.options.loose,a=s?Vc[K0.HYPHENRANGELOOSE]:Vc[K0.HYPHENRANGE];t=t.replace(a,W8t(this.options.includePrerelease)),as("hyphen replace",t),t=t.replace(Vc[K0.COMPARATORTRIM],S8t),as("comparator trim",t),t=t.replace(Vc[K0.TILDETRIM],B8t),as("tilde trim",t),t=t.replace(Vc[K0.CARETTRIM],k8t),as("caret trim",t);let l=t.split(" ").map(m=>N8t(m,this.options)).join(" ").split(/\s+/).map(m=>G8t(m,this.options));s&&(l=l.filter(m=>(as("loose invalid filter",m,this.options),!!m.match(Vc[K0.COMPARATORLOOSE])))),as("range list",l);let c=new Map,u=l.map(m=>new xse(m,this.options));for(let m of u){if(gPe(m))return[m];c.set(m.value,m)}c.size>1&&c.has("")&&c.delete("");let f=[...c.values()];return pPe.set(n,f),f}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some(n=>APe(n,r)&&t.set.some(i=>APe(i,r)&&n.every(s=>i.every(a=>s.intersects(a,r)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new _8t(t,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(H8t(this.set[r],t,this.options))return!0;return!1}};yPe.exports=Ese;var T8t=hPe(),pPe=new T8t,w8t=Eq(),xse=M_(),as=L_(),_8t=C0(),{safeRe:Vc,t:K0,comparatorTrimReplace:S8t,tildeTrimReplace:B8t,caretTrimReplace:k8t}=F8(),{FLAG_INCLUDE_PRERELEASE:R8t,FLAG_LOOSE:D8t}=F_(),gPe=o(e=>e.value==="<0.0.0-0","isNullSet"),P8t=o(e=>e.value==="","isAny"),APe=o((e,t)=>{let r=!0,n=e.slice(),i=n.pop();for(;r&&n.length;)r=n.every(s=>i.intersects(s,t)),i=n.pop();return r},"isSatisfiable"),N8t=o((e,t)=>(as("comp",e,t),e=Q8t(e,t),as("caret",e),e=F8t(e,t),as("tildes",e),e=O8t(e,t),as("xrange",e),e=q8t(e,t),as("stars",e),e),"parseComparator"),J0=o(e=>!e||e.toLowerCase()==="x"||e==="*","isX"),F8t=o((e,t)=>e.trim().split(/\s+/).map(r=>L8t(r,t)).join(" "),"replaceTildes"),L8t=o((e,t)=>{let r=t.loose?Vc[K0.TILDELOOSE]:Vc[K0.TILDE];return e.replace(r,(n,i,s,a,l)=>{as("tilde",e,n,i,s,a,l);let c;return J0(i)?c="":J0(s)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:J0(a)?c=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:l?(as("replaceTilde pr",l),c=`>=${i}.${s}.${a}-${l} <${i}.${+s+1}.0-0`):c=`>=${i}.${s}.${a} <${i}.${+s+1}.0-0`,as("tilde return",c),c})},"replaceTilde"),Q8t=o((e,t)=>e.trim().split(/\s+/).map(r=>M8t(r,t)).join(" "),"replaceCarets"),M8t=o((e,t)=>{as("caret",e,t);let r=t.loose?Vc[K0.CARETLOOSE]:Vc[K0.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(i,s,a,l,c)=>{as("caret",e,i,s,a,l,c);let u;return J0(s)?u="":J0(a)?u=`>=${s}.0.0${n} <${+s+1}.0.0-0`:J0(l)?s==="0"?u=`>=${s}.${a}.0${n} <${s}.${+a+1}.0-0`:u=`>=${s}.${a}.0${n} <${+s+1}.0.0-0`:c?(as("replaceCaret pr",c),s==="0"?a==="0"?u=`>=${s}.${a}.${l}-${c} <${s}.${a}.${+l+1}-0`:u=`>=${s}.${a}.${l}-${c} <${s}.${+a+1}.0-0`:u=`>=${s}.${a}.${l}-${c} <${+s+1}.0.0-0`):(as("no pr"),s==="0"?a==="0"?u=`>=${s}.${a}.${l}${n} <${s}.${a}.${+l+1}-0`:u=`>=${s}.${a}.${l}${n} <${s}.${+a+1}.0-0`:u=`>=${s}.${a}.${l} <${+s+1}.0.0-0`),as("caret return",u),u})},"replaceCaret"),O8t=o((e,t)=>(as("replaceXRanges",e,t),e.split(/\s+/).map(r=>U8t(r,t)).join(" ")),"replaceXRanges"),U8t=o((e,t)=>{e=e.trim();let r=t.loose?Vc[K0.XRANGELOOSE]:Vc[K0.XRANGE];return e.replace(r,(n,i,s,a,l,c)=>{as("xRange",e,n,i,s,a,l,c);let u=J0(s),f=u||J0(a),m=f||J0(l),h=m;return i==="="&&h&&(i=""),c=t.includePrerelease?"-0":"",u?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&h?(f&&(a=0),l=0,i===">"?(i=">=",f?(s=+s+1,a=0,l=0):(a=+a+1,l=0)):i==="<="&&(i="<",f?s=+s+1:a=+a+1),i==="<"&&(c="-0"),n=`${i+s}.${a}.${l}${c}`):f?n=`>=${s}.0.0${c} <${+s+1}.0.0-0`:m&&(n=`>=${s}.${a}.0${c} <${s}.${+a+1}.0-0`),as("xRange return",n),n})},"replaceXRange"),q8t=o((e,t)=>(as("replaceStars",e,t),e.trim().replace(Vc[K0.STAR],"")),"replaceStars"),G8t=o((e,t)=>(as("replaceGTE0",e,t),e.trim().replace(Vc[t.includePrerelease?K0.GTE0PRE:K0.GTE0],"")),"replaceGTE0"),W8t=o(e=>(t,r,n,i,s,a,l,c,u,f,m,h)=>(J0(n)?r="":J0(i)?r=`>=${n}.0.0${e?"-0":""}`:J0(s)?r=`>=${n}.${i}.0${e?"-0":""}`:a?r=`>=${r}`:r=`>=${r}${e?"-0":""}`,J0(u)?c="":J0(f)?c=`<${+u+1}.0.0-0`:J0(m)?c=`<${u}.${+f+1}.0-0`:h?c=`<=${u}.${f}.${m}-${h}`:e?c=`<${u}.${f}.${+m+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),"hyphenReplace"),H8t=o((e,t,r)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let n=0;n<e.length;n++)if(as(e[n].semver),e[n].semver!==xse.ANY&&e[n].semver.prerelease.length>0){let i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0},"testSet")});var M_=V((Fnn,IPe)=>{d();var O_=Symbol("SemVer ANY"),Ise=class e{static{o(this,"Comparator")}static get ANY(){return O_}constructor(t,r){if(r=CPe(r),t instanceof e){if(t.loose===!!r.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),bse("comparator",t,r),this.options=r,this.loose=!!r.loose,this.parse(t),this.semver===O_?this.value="":this.value=this.operator+this.semver.version,bse("comp",this)}parse(t){let r=this.options.loose?EPe[xPe.COMPARATORLOOSE]:EPe[xPe.COMPARATOR],n=t.match(r);if(!n)throw new TypeError(`Invalid comparator: ${t}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new vPe(n[2],this.options.loose):this.semver=O_}toString(){return this.value}test(t){if(bse("Comparator.test",t,this.options.loose),this.semver===O_||t===O_)return!0;if(typeof t=="string")try{t=new vPe(t,this.options)}catch{return!1}return vse(t,this.operator,this.semver,this.options)}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new bPe(t.value,r).test(this.value):t.operator===""?t.value===""?!0:new bPe(this.value,r).test(t.semver):(r=CPe(r),r.includePrerelease&&(this.value==="<0.0.0-0"||t.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&t.operator.startsWith(">")||this.operator.startsWith("<")&&t.operator.startsWith("<")||this.semver.version===t.semver.version&&this.operator.includes("=")&&t.operator.includes("=")||vse(this.semver,"<",t.semver,r)&&this.operator.startsWith(">")&&t.operator.startsWith("<")||vse(this.semver,">",t.semver,r)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}};IPe.exports=Ise;var CPe=Eq(),{safeRe:EPe,t:xPe}=F8(),vse=yse(),bse=L_(),vPe=C0(),bPe=bd()});var U_=V((Mnn,TPe)=>{d();var V8t=bd(),j8t=o((e,t,r)=>{try{t=new V8t(t,r)}catch{return!1}return t.test(e)},"satisfies");TPe.exports=j8t});var _Pe=V((qnn,wPe)=>{d();var $8t=bd(),z8t=o((e,t)=>new $8t(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" ")),"toComparators");wPe.exports=z8t});var BPe=V((Hnn,SPe)=>{d();var Y8t=C0(),K8t=bd(),J8t=o((e,t,r)=>{let n=null,i=null,s=null;try{s=new K8t(t,r)}catch{return null}return e.forEach(a=>{s.test(a)&&(!n||i.compare(a)===-1)&&(n=a,i=new Y8t(n,r))}),n},"maxSatisfying");SPe.exports=J8t});var RPe=V(($nn,kPe)=>{d();var X8t=C0(),Z8t=bd(),e6t=o((e,t,r)=>{let n=null,i=null,s=null;try{s=new Z8t(t,r)}catch{return null}return e.forEach(a=>{s.test(a)&&(!n||i.compare(a)===1)&&(n=a,i=new X8t(n,r))}),n},"minSatisfying");kPe.exports=e6t});var NPe=V((Knn,PPe)=>{d();var Tse=C0(),t6t=bd(),DPe=Q_(),r6t=o((e,t)=>{e=new t6t(e,t);let r=new Tse("0.0.0");if(e.test(r)||(r=new Tse("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){let i=e.set[n],s=null;i.forEach(a=>{let l=new Tse(a.semver.version);switch(a.operator){case">":l.prerelease.length===0?l.patch++:l.prerelease.push(0),l.raw=l.format();case"":case">=":(!s||DPe(l,s))&&(s=l);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),s&&(!r||DPe(r,s))&&(r=s)}return r&&e.test(r)?r:null},"minVersion");PPe.exports=r6t});var LPe=V((Znn,FPe)=>{d();var n6t=bd(),i6t=o((e,t)=>{try{return new n6t(e,t).range||"*"}catch{return null}},"validRange");FPe.exports=i6t});var kq=V((rin,UPe)=>{d();var o6t=C0(),OPe=M_(),{ANY:s6t}=OPe,a6t=bd(),l6t=U_(),QPe=Q_(),MPe=Tq(),c6t=_q(),u6t=wq(),f6t=o((e,t,r,n)=>{e=new o6t(e,n),t=new a6t(t,n);let i,s,a,l,c;switch(r){case">":i=QPe,s=c6t,a=MPe,l=">",c=">=";break;case"<":i=MPe,s=u6t,a=QPe,l="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(l6t(e,t,n))return!1;for(let u=0;u<t.set.length;++u){let f=t.set[u],m=null,h=null;if(f.forEach(p=>{p.semver===s6t&&(p=new OPe(">=0.0.0")),m=m||p,h=h||p,i(p.semver,m.semver,n)?m=p:a(p.semver,h.semver,n)&&(h=p)}),m.operator===l||m.operator===c||(!h.operator||h.operator===l)&&s(e,h.semver))return!1;if(h.operator===c&&a(e,h.semver))return!1}return!0},"outside");UPe.exports=f6t});var GPe=V((oin,qPe)=>{d();var d6t=kq(),m6t=o((e,t,r)=>d6t(e,t,">",r),"gtr");qPe.exports=m6t});var HPe=V((lin,WPe)=>{d();var h6t=kq(),p6t=o((e,t,r)=>h6t(e,t,"<",r),"ltr");WPe.exports=p6t});var $Pe=V((fin,jPe)=>{d();var VPe=bd(),g6t=o((e,t,r)=>(e=new VPe(e,r),t=new VPe(t,r),e.intersects(t,r)),"intersects");jPe.exports=g6t});var YPe=V((hin,zPe)=>{d();var A6t=U_(),y6t=vd();zPe.exports=(e,t,r)=>{let n=[],i=null,s=null,a=e.sort((f,m)=>y6t(f,m,r));for(let f of a)A6t(f,t,r)?(s=f,i||(i=f)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);let l=[];for(let[f,m]of n)f===m?l.push(f):!m&&f===a[0]?l.push("*"):m?f===a[0]?l.push(`<=${m}`):l.push(`${f} - ${m}`):l.push(`>=${f}`);let c=l.join(" || "),u=typeof t.raw=="string"?t.raw:String(t);return c.length<u.length?c:t}});var tNe=V((gin,eNe)=>{d();var KPe=bd(),_se=M_(),{ANY:wse}=_se,q_=U_(),Sse=vd(),C6t=o((e,t,r={})=>{if(e===t)return!0;e=new KPe(e,r),t=new KPe(t,r);let n=!1;e:for(let i of e.set){for(let s of t.set){let a=x6t(i,s,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},"subset"),E6t=[new _se(">=0.0.0-0")],JPe=[new _se(">=0.0.0")],x6t=o((e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===wse){if(t.length===1&&t[0].semver===wse)return!0;r.includePrerelease?e=E6t:e=JPe}if(t.length===1&&t[0].semver===wse){if(r.includePrerelease)return!0;t=JPe}let n=new Set,i,s;for(let p of e)p.operator===">"||p.operator===">="?i=XPe(i,p,r):p.operator==="<"||p.operator==="<="?s=ZPe(s,p,r):n.add(p.semver);if(n.size>1)return null;let a;if(i&&s){if(a=Sse(i.semver,s.semver,r),a>0)return null;if(a===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let p of n){if(i&&!q_(p,String(i),r)||s&&!q_(p,String(s),r))return null;for(let A of t)if(!q_(p,String(A),r))return!1;return!0}let l,c,u,f,m=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,h=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;m&&m.prerelease.length===1&&s.operator==="<"&&m.prerelease[0]===0&&(m=!1);for(let p of t){if(f=f||p.operator===">"||p.operator===">=",u=u||p.operator==="<"||p.operator==="<=",i){if(h&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===h.major&&p.semver.minor===h.minor&&p.semver.patch===h.patch&&(h=!1),p.operator===">"||p.operator===">="){if(l=XPe(i,p,r),l===p&&l!==i)return!1}else if(i.operator===">="&&!q_(i.semver,String(p),r))return!1}if(s){if(m&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===m.major&&p.semver.minor===m.minor&&p.semver.patch===m.patch&&(m=!1),p.operator==="<"||p.operator==="<="){if(c=ZPe(s,p,r),c===p&&c!==s)return!1}else if(s.operator==="<="&&!q_(s.semver,String(p),r))return!1}if(!p.operator&&(s||i)&&a!==0)return!1}return!(i&&u&&!s&&a!==0||s&&f&&!i&&a!==0||h||m)},"simpleSubset"),XPe=o((e,t,r)=>{if(!e)return t;let n=Sse(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},"higherGT"),ZPe=o((e,t,r)=>{if(!e)return t;let n=Sse(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e},"lowerLT");eNe.exports=C6t});var kse=V((Cin,iNe)=>{d();var Bse=F8(),rNe=F_(),v6t=C0(),nNe=hse(),b6t=Z4(),I6t=BDe(),T6t=RDe(),w6t=NDe(),_6t=QDe(),S6t=ODe(),B6t=qDe(),k6t=WDe(),R6t=VDe(),D6t=vd(),P6t=YDe(),N6t=JDe(),F6t=Iq(),L6t=tPe(),Q6t=nPe(),M6t=Q_(),O6t=Tq(),U6t=gse(),q6t=Ase(),G6t=wq(),W6t=_q(),H6t=yse(),V6t=dPe(),j6t=M_(),$6t=bd(),z6t=U_(),Y6t=_Pe(),K6t=BPe(),J6t=RPe(),X6t=NPe(),Z6t=LPe(),e9t=kq(),t9t=GPe(),r9t=HPe(),n9t=$Pe(),i9t=YPe(),o9t=tNe();iNe.exports={parse:b6t,valid:I6t,clean:T6t,inc:w6t,diff:_6t,major:S6t,minor:B6t,patch:k6t,prerelease:R6t,compare:D6t,rcompare:P6t,compareLoose:N6t,compareBuild:F6t,sort:L6t,rsort:Q6t,gt:M6t,lt:O6t,eq:U6t,neq:q6t,gte:G6t,lte:W6t,cmp:H6t,coerce:V6t,Comparator:j6t,Range:$6t,satisfies:z6t,toComparators:Y6t,maxSatisfying:K6t,minSatisfying:J6t,minVersion:X6t,validRange:Z6t,outside:e9t,gtr:t9t,ltr:r9t,intersects:n9t,simplifyRange:i9t,subset:o9t,SemVer:v6t,re:Bse.re,src:Bse.src,tokens:Bse.t,SEMVER_SPEC_VERSION:rNe.SEMVER_SPEC_VERSION,RELEASE_TYPES:rNe.RELEASE_TYPES,compareIdentifiers:nNe.compareIdentifiers,rcompareIdentifiers:nNe.rcompareIdentifiers}});var ef=V(V_=>{"use strict";d();Object.defineProperty(V_,"__esModule",{value:!0});V_.dedent=void 0;function INe(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Array.from(typeof e=="string"?[e]:e);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var i=n.reduce(function(l,c){var u=c.match(/\n([\t ]+|(?!\s).)/g);return u?l.concat(u.map(function(f){var m,h;return(h=(m=f.match(/[\t ]/g))===null||m===void 0?void 0:m.length)!==null&&h!==void 0?h:0})):l},[]);if(i.length){var s=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");n=n.map(function(l){return l.replace(s,`
`)})}n[0]=n[0].replace(/^\r?\n/,"");var a=n[0];return t.forEach(function(l,c){var u=a.match(/(?:^|\n)( *)$/),f=u?u[1]:"",m=l;typeof l=="string"&&l.includes(`
`)&&(m=String(l).split(`
`).map(function(h,p){return p===0?h:""+f+h}).join(`
`)),a+=m+n[c+1]}),a}o(INe,"dedent");V_.dedent=INe;V_.default=INe});var DNe=V(Hse=>{"use strict";d();Object.defineProperty(Hse,"__esModule",{value:!0});Hse.workerFile=`
const { parentPort } = require('worker_threads')

parentPort.on('message', async worker => {
  const response = {
    error: null,
    data: null
  }

  try {
    eval(worker)
    // __executor__ is defined in worker
    response.data = await __executor__()
    parentPort.postMessage(response)
  } catch (err) {
    response.data = null
    response.error = {
      message: err.message,
      stack: err.stack
    }

    try {
      parentPort.postMessage(response)
    } catch (err) {
      console.error(err)
    }
  }
})
`});var MNe=V(jse=>{"use strict";d();Object.defineProperty(jse,"__esModule",{value:!0});var PNe=require("worker_threads"),w9t=require("v8"),_9t=require("os"),NNe=DNe(),Gq="ready",FNe="spawning",S9t="busy",Wq="off",LNe=_9t.cpus().length,QNe=process.version.replace("v","").split("."),B9t=parseInt(QNe[0]),k9t=parseInt(QNe[1]),Vse=class{static{o(this,"WorkerPool")}constructor(){this.maxWorkers=LNe,this.taskQueue=[],this.workers=[]}resurrect(t){let r=new PNe.Worker(NNe.workerFile,{eval:!0});t.status=FNe,t.worker=r,r.once("online",()=>process.nextTick(()=>{t.status=Gq,r.removeAllListeners(),this.tick()})),r.once("error",n=>{console.error(n),t.status=Wq,r.removeAllListeners(),this.tick()})}tick(){if(this.workers.filter(({status:c})=>c===Wq).forEach(c=>this.resurrect(c)),this.taskQueue.length===0)return;let t;for(let c=0;c<this.workers.length;c++)if(this.workers[c].status===Gq){t=this.workers[c];break}if(typeof t>"u")return;let r=this.taskQueue.shift();t.status=S9t;let{worker:n}=t,{handler:i,config:s,resolve:a,reject:l}=r;try{let c="";for(let h in s.ctx){if(!s.ctx.hasOwnProperty(h))continue;let p;switch(typeof s.ctx[h]){case"string":p=`'${s.ctx[h]}'`;break;case"object":p=JSON.stringify(s.ctx[h]);break;default:p=s.ctx[h]}c+=`let ${h} = ${p}
`}let u=w9t.serialize(s.data),f=JSON.stringify(u),m=`
      async function __executor__() {
        const v8 = require('v8')
        ${c}
        const dataParsed = JSON.parse('${f}')
        const dataBuffer = Buffer.from(dataParsed.data)
        const dataDeserialized = v8.deserialize(dataBuffer)
        return await (${i.toString()})(dataDeserialized)
      }
      `;n.once("message",h=>{if(this.free(n),typeof h.error>"u"||h.error===null)return a(h.data);let p=new Error(h.error.message);p.stack=h.error.stack,l(p)}),n.once("error",h=>{t.status=Wq,l(h),this.tick()}),n.postMessage(m)}catch(c){this.free(n),l(c)}}enqueue({handler:t,config:r,resolve:n,reject:i}){this.taskQueue.push({handler:t,config:r,resolve:n,reject:i}),this.tick()}free(t){for(let r=0;r<this.workers.length;r++)if(t.threadId===this.workers[r].worker.threadId){this.workers[r].status=Gq,this.workers[r].worker.removeAllListeners(),this.tick();break}}setup(t={}){return this.maxWorkers=t.maxWorkers>0?t.maxWorkers:LNe,this.maxWorkers>10&&console.warn(`Worker pool has more than 10 workers.
You should also increase the Max Listeners of Node.js (https://nodejs.org/docs/latest/api/events.html#events_emitter_setmaxlisteners_n)
Otherwise, limit them with start({maxWorkers: 10})`),new Promise((r,n)=>{let i=0,s=0;for(let a=0;a<this.maxWorkers;a++){let l=new PNe.Worker(NNe.workerFile,{eval:!0});this.workers.push({status:FNe,worker:l}),l.once("online",(c=>()=>{process.nextTick(()=>{this.workers[c].status=Gq,this.workers[c].worker.removeAllListeners(),i++,i>0&&i+s===this.maxWorkers&&r()})})(a)),l.once("error",(c=>u=>{this.workers[c].status=Wq,this.workers[c].worker.removeAllListeners(),s++,s===this.maxWorkers&&n(u)})(a))}})}async teardown(){if(B9t>=12&&k9t>=5){let t=[];for(let{worker:r}of this.workers)t.push(r.terminate());await Promise.all(t),this.workers=[]}else await new Promise(r=>{let n=0;for(let i=0;i<this.workers.length;i++)this.workers[i].worker.terminate(()=>{n++,n===this.workers.length&&(this.workers=[],r())})})}};jse.default=new Vse});var Hq=V(tE=>{"use strict";d();var R9t=tE&&tE.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tE,"__esModule",{value:!0});var j_=R9t(MNe()),D9t=`job needs a function.
Try with:
> job(() => {...}, config)`,P9t=`job needs an object as ctx.
Try with:
> job(() => {...}, {ctx: {...}})`;function N9t(e,t={ctx:{},data:{}}){return new Promise((r,n)=>{if(typeof e!="function")return n(new Error(D9t));if(t.ctx=t.ctx||{},t.data=t.data||{},typeof t.ctx!="object")return n(new Error(P9t));j_.default.enqueue({handler:e,config:t,resolve:r,reject:n})})}o(N9t,"job");tE.job=N9t;tE.stop=j_.default.teardown.bind(j_.default);tE.start=j_.default.setup.bind(j_.default)});var tFe=V(rE=>{"use strict";d();var jp=rE&&rE.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},tae=rE&&rE.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},Z1,wy;Object.defineProperty(rE,"__esModule",{value:!0});var rae=class{static{o(this,"AwaitLock")}constructor(){Z1.set(this,!1),wy.set(this,new Set)}get acquired(){return jp(this,Z1,"f")}acquireAsync({timeout:t}={}){if(!jp(this,Z1,"f"))return tae(this,Z1,!0,"f"),Promise.resolve();if(t==null)return new Promise(i=>{jp(this,wy,"f").add(i)});let r,n;return Promise.race([new Promise(i=>{r=o(()=>{clearTimeout(n),i()},"resolver"),jp(this,wy,"f").add(r)}),new Promise((i,s)=>{n=setTimeout(()=>{jp(this,wy,"f").delete(r),s(new Error("Timed out waiting for lock"))},t)})])}tryAcquire(){return jp(this,Z1,"f")?!1:(tae(this,Z1,!0,"f"),!0)}release(){if(!jp(this,Z1,"f"))throw new Error("Cannot release an unacquired lock");if(jp(this,wy,"f").size>0){let[t]=jp(this,wy,"f");jp(this,wy,"f").delete(t),t()}else tae(this,Z1,!1,"f")}};rE.default=rae;Z1=new WeakMap,wy=new WeakMap});var Jkt={};Fh(Jkt,{getTokenizer:()=>_o,main:()=>oOe});module.exports=kUe(Jkt);d();var DLn=ft(ZV());d();d();var Q9="github.copilot";d();d();var Qh=class{static{o(this,"Clock")}now(){return new Date}};d();var Vk=ft(T2());function rj(e){return(0,Vk.SHA256)(Vk.enc.Utf16.parse(e.prefix+e.suffix)).toString()}o(rj,"keyForPrompt");var kn=class{constructor(t=10){this.valueMap=new Map;this.lruKeys=[];this.sizeLimit=t}static{o(this,"LRUCacheMap")}set(t,r){let n;return this.valueMap.has(t)?n=t:this.lruKeys.length>=this.sizeLimit&&(n=this.lruKeys[0]),n!==void 0&&this.delete(n),this.valueMap.set(t,r),this.touchKeyInLRU(t),this}get(t){if(this.valueMap.has(t)){let r=this.valueMap.get(t);return this.touchKeyInLRU(t),r}}delete(t){return this.has(t)?this.deleteKey(t):!1}clear(){this.valueMap.clear(),this.lruKeys=[]}get size(){return this.valueMap.size}keys(){return this.lruKeys.slice().values()}values(){return new Map(this.valueMap).values()}entries(){return new Map(this.valueMap).entries()}[Symbol.iterator](){return this.entries()}has(t){return this.valueMap.has(t)}forEach(t,r){new Map(this.valueMap).forEach(t,r)}get[Symbol.toStringTag](){return"LRUCacheMap"}peek(t){return this.valueMap.get(t)}deleteKey(t){let r=!1;return this.removeKeyFromLRU(t),this.valueMap.get(t)!==void 0&&(r=this.valueMap.delete(t)),r}removeKeyFromLRU(t){let r=this.lruKeys.indexOf(t);r!==-1&&this.lruKeys.splice(r,1)}touchKeyInLRU(t){this.removeKeyFromLRU(t),this.lruKeys.push(t)}};d();d();d();d();var Fs=class extends Error{static{o(this,"CopilotAuthError")}constructor(t,r){super(t,{cause:r}),this.name="CopilotAuthError"}};d();var Ef="X-Copilot-RelatedPluginVersion-",O9=(O=>(O.Market="X-MSEdge-Market",O.CorpNet="X-FD-Corpnet",O.Build="X-VSCode-Build",O.ApplicationVersion="X-VSCode-AppVersion",O.TargetPopulation="X-VSCode-TargetPopulation",O.ClientId="X-MSEdge-ClientId",O.ExtensionName="X-VSCode-ExtensionName",O.ExtensionVersion="X-VSCode-ExtensionVersion",O.ExtensionRelease="X-VSCode-ExtensionRelease",O.Language="X-VSCode-Language",O.CopilotClientTimeBucket="X-Copilot-ClientTimeBucket",O.CopilotEngine="X-Copilot-Engine",O.CopilotOverrideEngine="X-Copilot-OverrideEngine",O.CopilotRepository="X-Copilot-Repository",O.CopilotFileType="X-Copilot-FileType",O.CopilotUserKind="X-Copilot-UserKind",O.CopilotDogfood="X-Copilot-Dogfood",O.CopilotCustomModel="X-Copilot-CustomModel",O.CopilotOrgs="X-Copilot-Orgs",O.CopilotCustomModelNames="X-Copilot-CustomModelNames",O.CopilotTrackingId="X-Copilot-CopilotTrackingId",O.CopilotClientVersion="X-Copilot-ClientVersion",O.CopilotRelatedPluginVersionCppTools=Ef+"msvscodecpptools",O.CopilotRelatedPluginVersionCMakeTools=Ef+"msvscodecmaketools",O.CopilotRelatedPluginVersionMakefileTools=Ef+"msvscodemakefiletools",O.CopilotRelatedPluginVersionCSharpDevKit=Ef+"msdotnettoolscsdevkit",O.CopilotRelatedPluginVersionPython=Ef+"mspythonpython",O.CopilotRelatedPluginVersionPylance=Ef+"mspythonvscodepylance",O.CopilotRelatedPluginVersionJavaPack=Ef+"vscjavavscodejavapack",O.CopilotRelatedPluginVersionTypescript=Ef+"vscodetypescriptlanguagefeatures",O.CopilotRelatedPluginVersionTypescriptNext=Ef+"msvscodevscodetypescriptnext",O.CopilotRelatedPluginVersionCSharp=Ef+"msdotnettoolscsharp",O))(O9||{});var pqe={"X-Copilot-ClientTimeBucket":"timeBucket","X-Copilot-OverrideEngine":"engine","X-Copilot-Repository":"repo","X-Copilot-FileType":"fileType","X-Copilot-UserKind":"userKind"},Q3=class e{constructor(t){this.filters=t;for(let[r,n]of Object.entries(this.filters))n===""&&delete this.filters[r]}static{o(this,"FilterSettings")}extends(t){for(let[r,n]of Object.entries(t.filters))if(this.filters[r]!==n)return!1;return!0}addToTelemetry(t){for(let[r,n]of Object.entries(this.filters)){let i=pqe[r];i!==void 0&&(t.properties[i]=n)}}stringify(){let t=Object.keys(this.filters);return t.sort(),t.map(r=>`${r}:${this.filters[r]}`).join(";")}toHeaders(){return{...this.filters}}withChange(t,r){return new e({...this.filters,[t]:r})}};d();d();var qx=ft(ide(),1),WNt={ALPN_HTTP2:qx.default.ALPN_HTTP2,ALPN_HTTP2C:qx.default.ALPN_HTTP2C,ALPN_HTTP1_1:qx.default.ALPN_HTTP1_1,ALPN_HTTP1_0:qx.default.ALPN_HTTP1_0},{fetch:HNt,context:ode,reset:VNt,noCache:jNt,h1:$Nt,keepAlive:zNt,h1NoCache:YNt,keepAliveNoCache:KNt,cacheStats:JNt,clearCache:XNt,offPush:ZNt,onPush:eFt,createUrl:tFt,timeoutSignal:rFt,Body:nFt,Headers:sde,Request:iFt,Response:oFt,AbortController:dR,AbortError:Gx,AbortSignal:ade,FetchBaseError:sFt,FetchError:$9,ALPN_HTTP2:aFt,ALPN_HTTP2C:lFt,ALPN_HTTP1_1:cFt,ALPN_HTTP1_0:uFt}=qx.default;var lde=ft(require("util")),cde=require("util");var Nr=class{static{o(this,"Fetcher")}#e;set rejectUnauthorized(t){this.#e=t}get rejectUnauthorized(){return this.#e}},z9=class extends Error{static{o(this,"HttpTimeoutError")}constructor(t,r){super(t,{cause:r}),this.name="HttpTimeoutError"}};function ou(e){return!e||typeof e!="object"?!1:e instanceof z9||e instanceof Gx||"name"in e&&e.name==="AbortError"||e instanceof $9&&e.code==="ABORT_ERR"}o(ou,"isAbortError");var Wx=class extends SyntaxError{constructor(r,n){super(r);this.code=n;this.name="JsonParseError"}static{o(this,"JsonParseError")}},H3=class extends Error{static{o(this,"FetchResponseError")}constructor(t){super(`HTTP ${t.status} ${t.statusText}`),this.name="FetchResponseError",this.code=`HTTP${t.status}`}},sHe=new Set(["ECONNABORTED","ECONNRESET","EHOSTUNREACH","ENETUNREACH","ENOTCONN","ENOTFOUND","ETIMEDOUT","ERR_HTTP2_STREAM_ERROR","ERR_SSL_BAD_DECRYPT","ERR_SSL_DECRYPTION_FAILED_OR_BAD_RECORD_MAC","ERR_SSL_INVALID_LIBRARY_(0)","ERR_SSL_SSLV3_ALERT_BAD_RECORD_MAC","ERR_SSL_WRONG_VERSION_NUMBER","ERR_STREAM_PREMATURE_CLOSE","ERR_TLS_CERT_ALTNAME_INVALID"]);function Y9(e,t=!0){return e instanceof Error?t&&"cause"in e&&Y9(e.cause,!1)?!0:e instanceof $9||e.name==="EditorFetcherError"||e.name==="FetchError"||e instanceof Wx||e instanceof H3||e?.message?.startsWith("net::")||sHe.has(e.code??""):!1}o(Y9,"isNetworkError");var B2=class{constructor(t,r,n,i,s){this.status=t;this.statusText=r;this.headers=n;this.getText=i;this.getBody=s;this.ok=this.status>=200&&this.status<300;this.clientError=this.status>=400&&this.status<500}static{o(this,"Response")}async text(){return this.getText()}async json(){let t=await this.text(),r=this.headers.get("content-type");if(!r||!r.includes("json"))throw new Wx(`Response content-type is ${r??"missing"} (status=${this.status})`,`ContentType=${r}`);try{return JSON.parse(t)}catch(n){if(n instanceof SyntaxError){let i=n.message.match(/^(.*?) in JSON at position (\d+)(?: \(line \d+ column \d+\))?$/);if(i&&parseInt(i[2],10)==t.length||n.message==="Unexpected end of JSON input"){let s=new cde.TextEncoder().encode(t).length,a=this.headers.get("content-length");throw a===null?new Wx(`Response body truncated: actualLength=${s}`,"Truncated"):new Wx(`Response body truncated: actualLength=${s}, headerLength=${a}`,"Truncated")}}throw n}}body(){return this.getBody()}};function Hx(e,t,r,n,i,s,a,l,c){let u={...l,Authorization:lde.format("Bearer %s",r),"X-Request-Id":i,"Openai-Organization":"github-copilot","VScode-SessionId":e.get(ds).sessionId,"VScode-MachineId":e.get(ds).machineId,...n0(e)};n&&(u["OpenAI-Intent"]=n);let f={method:"POST",headers:u,json:s,timeout:c},m=e.get(Nr);if(a){let p=m.makeAbortController();a.onCancellationRequested(()=>{Xt(e,"networking.cancelRequest",rn.createAndMarkAsIssued({headerRequestId:i})),p.abort()}),f.signal=p.signal}return m.fetch(t,f).catch(p=>{if(aHe(p))return Xt(e,"networking.disconnectAll"),m.disconnectAll().then(()=>m.fetch(t,f));throw p})}o(Hx,"postRequest");function aHe(e){return e instanceof Error?e.message=="ERR_HTTP2_GOAWAY_SESSION"?!0:"code"in e?e.code=="ECONNRESET"||e.code=="ETIMEDOUT"||e.code=="ERR_HTTP2_INVALID_SESSION":!1:!1}o(aHe,"isInterruptedNetworkError");d();d();d();d();d();d();d();var i0={};Fh(i0,{HasPropertyKey:()=>mR,IsArray:()=>Js,IsAsyncIterator:()=>Lj,IsBigInt:()=>K9,IsBoolean:()=>Ng,IsDate:()=>V3,IsFunction:()=>Qj,IsIterator:()=>Mj,IsNull:()=>Oj,IsNumber:()=>su,IsObject:()=>po,IsRegExp:()=>J9,IsString:()=>To,IsSymbol:()=>Uj,IsUint8Array:()=>Fg,IsUndefined:()=>Xs});d();function mR(e,t){return t in e}o(mR,"HasPropertyKey");function Lj(e){return po(e)&&!Js(e)&&!Fg(e)&&Symbol.asyncIterator in e}o(Lj,"IsAsyncIterator");function Js(e){return Array.isArray(e)}o(Js,"IsArray");function K9(e){return typeof e=="bigint"}o(K9,"IsBigInt");function Ng(e){return typeof e=="boolean"}o(Ng,"IsBoolean");function V3(e){return e instanceof globalThis.Date}o(V3,"IsDate");function Qj(e){return typeof e=="function"}o(Qj,"IsFunction");function Mj(e){return po(e)&&!Js(e)&&!Fg(e)&&Symbol.iterator in e}o(Mj,"IsIterator");function Oj(e){return e===null}o(Oj,"IsNull");function su(e){return typeof e=="number"}o(su,"IsNumber");function po(e){return typeof e=="object"&&e!==null}o(po,"IsObject");function J9(e){return e instanceof globalThis.RegExp}o(J9,"IsRegExp");function To(e){return typeof e=="string"}o(To,"IsString");function Uj(e){return typeof e=="symbol"}o(Uj,"IsSymbol");function Fg(e){return e instanceof globalThis.Uint8Array}o(Fg,"IsUint8Array");function Xs(e){return e===void 0}o(Xs,"IsUndefined");function lHe(e){return e.map(t=>hR(t))}o(lHe,"ArrayType");function cHe(e){return new Date(e.getTime())}o(cHe,"DateType");function uHe(e){return new Uint8Array(e)}o(uHe,"Uint8ArrayType");function fHe(e){return new RegExp(e.source,e.flags)}o(fHe,"RegExpType");function dHe(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=hR(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=hR(e[r]);return t}o(dHe,"ObjectType");function hR(e){return Js(e)?lHe(e):V3(e)?cHe(e):Fg(e)?uHe(e):J9(e)?fHe(e):po(e)?dHe(e):e}o(hR,"Visit");function jo(e){return hR(e)}o(jo,"Clone");function Vx(e,t){return t===void 0?jo(e):jo({...t,...e})}o(Vx,"CloneType");d();d();d();function pR(e){return Kn(e)&&globalThis.Symbol.asyncIterator in e}o(pR,"IsAsyncIterator");function gR(e){return Kn(e)&&globalThis.Symbol.iterator in e}o(gR,"IsIterator");function qj(e){return Kn(e)&&(globalThis.Object.getPrototypeOf(e)===Object.prototype||globalThis.Object.getPrototypeOf(e)===null)}o(qj,"IsStandardObject");function AR(e){return e instanceof globalThis.Promise}o(AR,"IsPromise");function B0(e){return e instanceof Date&&globalThis.Number.isFinite(e.getTime())}o(B0,"IsDate");function ude(e){return e instanceof globalThis.Map}o(ude,"IsMap");function fde(e){return e instanceof globalThis.Set}o(fde,"IsSet");function bf(e){return globalThis.ArrayBuffer.isView(e)}o(bf,"IsTypedArray");function jx(e){return e instanceof globalThis.Uint8Array}o(jx,"IsUint8Array");function cn(e,t){return t in e}o(cn,"HasPropertyKey");function Kn(e){return e!==null&&typeof e=="object"}o(Kn,"IsObject");function un(e){return globalThis.Array.isArray(e)&&!globalThis.ArrayBuffer.isView(e)}o(un,"IsArray");function $o(e){return e===void 0}o($o,"IsUndefined");function Lg(e){return e===null}o(Lg,"IsNull");function Mh(e){return typeof e=="boolean"}o(Mh,"IsBoolean");function Vr(e){return typeof e=="number"}o(Vr,"IsNumber");function yR(e){return globalThis.Number.isInteger(e)}o(yR,"IsInteger");function Nl(e){return typeof e=="bigint"}o(Nl,"IsBigInt");function Bi(e){return typeof e=="string"}o(Bi,"IsString");function k2(e){return typeof e=="function"}o(k2,"IsFunction");function Qg(e){return typeof e=="symbol"}o(Qg,"IsSymbol");function au(e){return Nl(e)||Mh(e)||Lg(e)||Vr(e)||Bi(e)||Qg(e)||$o(e)}o(au,"IsValueType");var Do;(function(e){e.InstanceMode="default",e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1;function t(a,l){return e.ExactOptionalPropertyTypes?l in a:a[l]!==void 0}o(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){let l=Kn(a);return e.AllowArrayObject?l:l&&!un(a)}o(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return r(a)&&!(a instanceof Date)&&!(a instanceof Uint8Array)}o(n,"IsRecordLike"),e.IsRecordLike=n;function i(a){return e.AllowNaN?Vr(a):Number.isFinite(a)}o(i,"IsNumberLike"),e.IsNumberLike=i;function s(a){let l=$o(a);return e.AllowNullVoid?l||a===null:l}o(s,"IsVoidLike"),e.IsVoidLike=s})(Do||(Do={}));d();function mHe(e){return globalThis.Object.freeze(e).map(t=>X9(t))}o(mHe,"ImmutableArray");function hHe(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=X9(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=X9(e[r]);return globalThis.Object.freeze(t)}o(hHe,"ImmutableObject");function X9(e){return Js(e)?mHe(e):V3(e)?e:Fg(e)?e:J9(e)?e:po(e)?hHe(e):e}o(X9,"Immutable");function at(e,t){let r=t!==void 0?{...t,...e}:e;switch(Do.InstanceMode){case"freeze":return X9(r);case"clone":return jo(r);default:return r}}o(at,"CreateType");d();var fn=class extends Error{static{o(this,"TypeBoxError")}constructor(t){super(t)}};d();d();d();var ms=Symbol.for("TypeBox.Transform"),Xd=Symbol.for("TypeBox.Readonly"),Fl=Symbol.for("TypeBox.Optional"),If=Symbol.for("TypeBox.Hint"),nt=Symbol.for("TypeBox.Kind");function $x(e){return po(e)&&e[Xd]==="Readonly"}o($x,"IsReadonly");function dc(e){return po(e)&&e[Fl]==="Optional"}o(dc,"IsOptional");function Gj(e){return vi(e,"Any")}o(Gj,"IsAny");function Wj(e){return vi(e,"Argument")}o(Wj,"IsArgument");function Zd(e){return vi(e,"Array")}o(Zd,"IsArray");function j3(e){return vi(e,"AsyncIterator")}o(j3,"IsAsyncIterator");function $3(e){return vi(e,"BigInt")}o($3,"IsBigInt");function Mg(e){return vi(e,"Boolean")}o(Mg,"IsBoolean");function em(e){return vi(e,"Computed")}o(em,"IsComputed");function tm(e){return vi(e,"Constructor")}o(tm,"IsConstructor");function pHe(e){return vi(e,"Date")}o(pHe,"IsDate");function rm(e){return vi(e,"Function")}o(rm,"IsFunction");function nm(e){return vi(e,"Integer")}o(nm,"IsInteger");function Ss(e){return vi(e,"Intersect")}o(Ss,"IsIntersect");function z3(e){return vi(e,"Iterator")}o(z3,"IsIterator");function vi(e,t){return po(e)&&nt in e&&e[nt]===t}o(vi,"IsKindOf");function CR(e){return Ng(e)||su(e)||To(e)}o(CR,"IsLiteralValue");function lu(e){return vi(e,"Literal")}o(lu,"IsLiteral");function cu(e){return vi(e,"MappedKey")}o(cu,"IsMappedKey");function zo(e){return vi(e,"MappedResult")}o(zo,"IsMappedResult");function R2(e){return vi(e,"Never")}o(R2,"IsNever");function gHe(e){return vi(e,"Not")}o(gHe,"IsNot");function Z9(e){return vi(e,"Null")}o(Z9,"IsNull");function im(e){return vi(e,"Number")}o(im,"IsNumber");function Zs(e){return vi(e,"Object")}o(Zs,"IsObject");function Y3(e){return vi(e,"Promise")}o(Y3,"IsPromise");function K3(e){return vi(e,"Record")}o(K3,"IsRecord");function Ls(e){return vi(e,"Ref")}o(Ls,"IsRef");function Hj(e){return vi(e,"RegExp")}o(Hj,"IsRegExp");function Og(e){return vi(e,"String")}o(Og,"IsString");function e7(e){return vi(e,"Symbol")}o(e7,"IsSymbol");function uu(e){return vi(e,"TemplateLiteral")}o(uu,"IsTemplateLiteral");function AHe(e){return vi(e,"This")}o(AHe,"IsThis");function ji(e){return po(e)&&ms in e}o(ji,"IsTransform");function fu(e){return vi(e,"Tuple")}o(fu,"IsTuple");function Ug(e){return vi(e,"Undefined")}o(Ug,"IsUndefined");function ki(e){return vi(e,"Union")}o(ki,"IsUnion");function yHe(e){return vi(e,"Uint8Array")}o(yHe,"IsUint8Array");function CHe(e){return vi(e,"Unknown")}o(CHe,"IsUnknown");function EHe(e){return vi(e,"Unsafe")}o(EHe,"IsUnsafe");function xHe(e){return vi(e,"Void")}o(xHe,"IsVoid");function D2(e){return po(e)&&nt in e&&To(e[nt])}o(D2,"IsKind");function hs(e){return Gj(e)||Wj(e)||Zd(e)||Mg(e)||$3(e)||j3(e)||em(e)||tm(e)||pHe(e)||rm(e)||nm(e)||Ss(e)||z3(e)||lu(e)||cu(e)||zo(e)||R2(e)||gHe(e)||Z9(e)||im(e)||Zs(e)||Y3(e)||K3(e)||Ls(e)||Hj(e)||Og(e)||e7(e)||uu(e)||AHe(e)||fu(e)||Ug(e)||ki(e)||yHe(e)||CHe(e)||EHe(e)||xHe(e)||D2(e)}o(hs,"IsSchema");var Qe={};Fh(Qe,{IsAny:()=>pde,IsArgument:()=>gde,IsArray:()=>Ade,IsAsyncIterator:()=>yde,IsBigInt:()=>Cde,IsBoolean:()=>Ede,IsComputed:()=>xde,IsConstructor:()=>vde,IsDate:()=>bde,IsFunction:()=>Ide,IsImport:()=>_He,IsInteger:()=>Tde,IsIntersect:()=>wde,IsIterator:()=>_de,IsKind:()=>Zde,IsKindOf:()=>oi,IsLiteral:()=>r7,IsLiteralBoolean:()=>SHe,IsLiteralNumber:()=>Bde,IsLiteralString:()=>Sde,IsLiteralValue:()=>kde,IsMappedKey:()=>Rde,IsMappedResult:()=>Dde,IsNever:()=>Pde,IsNot:()=>Nde,IsNull:()=>Fde,IsNumber:()=>Lde,IsObject:()=>Qde,IsOptional:()=>wHe,IsPromise:()=>Mde,IsProperties:()=>ER,IsReadonly:()=>THe,IsRecord:()=>Ode,IsRecursive:()=>BHe,IsRef:()=>Ude,IsRegExp:()=>qde,IsSchema:()=>Yo,IsString:()=>Gde,IsSymbol:()=>Wde,IsTemplateLiteral:()=>Hde,IsThis:()=>Vde,IsTransform:()=>jde,IsTuple:()=>$de,IsUint8Array:()=>Yde,IsUndefined:()=>zde,IsUnion:()=>zj,IsUnionLiteral:()=>kHe,IsUnknown:()=>Kde,IsUnsafe:()=>Jde,IsVoid:()=>Xde,TypeGuardUnknownTypeError:()=>Vj});d();var Vj=class extends fn{static{o(this,"TypeGuardUnknownTypeError")}},vHe=["Argument","Any","Array","AsyncIterator","BigInt","Boolean","Computed","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function dde(e){try{return new RegExp(e),!0}catch{return!1}}o(dde,"IsPattern");function jj(e){if(!To(e))return!1;for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);if(r>=7&&r<=13||r===27||r===127)return!1}return!0}o(jj,"IsControlCharacterFree");function mde(e){return $j(e)||Yo(e)}o(mde,"IsAdditionalProperties");function t7(e){return Xs(e)||K9(e)}o(t7,"IsOptionalBigInt");function wo(e){return Xs(e)||su(e)}o(wo,"IsOptionalNumber");function $j(e){return Xs(e)||Ng(e)}o($j,"IsOptionalBoolean");function go(e){return Xs(e)||To(e)}o(go,"IsOptionalString");function bHe(e){return Xs(e)||To(e)&&jj(e)&&dde(e)}o(bHe,"IsOptionalPattern");function IHe(e){return Xs(e)||To(e)&&jj(e)}o(IHe,"IsOptionalFormat");function hde(e){return Xs(e)||Yo(e)}o(hde,"IsOptionalSchema");function THe(e){return po(e)&&e[Xd]==="Readonly"}o(THe,"IsReadonly");function wHe(e){return po(e)&&e[Fl]==="Optional"}o(wHe,"IsOptional");function pde(e){return oi(e,"Any")&&go(e.$id)}o(pde,"IsAny");function gde(e){return oi(e,"Argument")&&su(e.index)}o(gde,"IsArgument");function Ade(e){return oi(e,"Array")&&e.type==="array"&&go(e.$id)&&Yo(e.items)&&wo(e.minItems)&&wo(e.maxItems)&&$j(e.uniqueItems)&&hde(e.contains)&&wo(e.minContains)&&wo(e.maxContains)}o(Ade,"IsArray");function yde(e){return oi(e,"AsyncIterator")&&e.type==="AsyncIterator"&&go(e.$id)&&Yo(e.items)}o(yde,"IsAsyncIterator");function Cde(e){return oi(e,"BigInt")&&e.type==="bigint"&&go(e.$id)&&t7(e.exclusiveMaximum)&&t7(e.exclusiveMinimum)&&t7(e.maximum)&&t7(e.minimum)&&t7(e.multipleOf)}o(Cde,"IsBigInt");function Ede(e){return oi(e,"Boolean")&&e.type==="boolean"&&go(e.$id)}o(Ede,"IsBoolean");function xde(e){return oi(e,"Computed")&&To(e.target)&&Js(e.parameters)&&e.parameters.every(t=>Yo(t))}o(xde,"IsComputed");function vde(e){return oi(e,"Constructor")&&e.type==="Constructor"&&go(e.$id)&&Js(e.parameters)&&e.parameters.every(t=>Yo(t))&&Yo(e.returns)}o(vde,"IsConstructor");function bde(e){return oi(e,"Date")&&e.type==="Date"&&go(e.$id)&&wo(e.exclusiveMaximumTimestamp)&&wo(e.exclusiveMinimumTimestamp)&&wo(e.maximumTimestamp)&&wo(e.minimumTimestamp)&&wo(e.multipleOfTimestamp)}o(bde,"IsDate");function Ide(e){return oi(e,"Function")&&e.type==="Function"&&go(e.$id)&&Js(e.parameters)&&e.parameters.every(t=>Yo(t))&&Yo(e.returns)}o(Ide,"IsFunction");function _He(e){return oi(e,"Import")&&mR(e,"$defs")&&po(e.$defs)&&ER(e.$defs)&&mR(e,"$ref")&&To(e.$ref)&&e.$ref in e.$defs}o(_He,"IsImport");function Tde(e){return oi(e,"Integer")&&e.type==="integer"&&go(e.$id)&&wo(e.exclusiveMaximum)&&wo(e.exclusiveMinimum)&&wo(e.maximum)&&wo(e.minimum)&&wo(e.multipleOf)}o(Tde,"IsInteger");function ER(e){return po(e)&&Object.entries(e).every(([t,r])=>jj(t)&&Yo(r))}o(ER,"IsProperties");function wde(e){return oi(e,"Intersect")&&!(To(e.type)&&e.type!=="object")&&Js(e.allOf)&&e.allOf.every(t=>Yo(t)&&!jde(t))&&go(e.type)&&($j(e.unevaluatedProperties)||hde(e.unevaluatedProperties))&&go(e.$id)}o(wde,"IsIntersect");function _de(e){return oi(e,"Iterator")&&e.type==="Iterator"&&go(e.$id)&&Yo(e.items)}o(_de,"IsIterator");function oi(e,t){return po(e)&&nt in e&&e[nt]===t}o(oi,"IsKindOf");function Sde(e){return r7(e)&&To(e.const)}o(Sde,"IsLiteralString");function Bde(e){return r7(e)&&su(e.const)}o(Bde,"IsLiteralNumber");function SHe(e){return r7(e)&&Ng(e.const)}o(SHe,"IsLiteralBoolean");function r7(e){return oi(e,"Literal")&&go(e.$id)&&kde(e.const)}o(r7,"IsLiteral");function kde(e){return Ng(e)||su(e)||To(e)}o(kde,"IsLiteralValue");function Rde(e){return oi(e,"MappedKey")&&Js(e.keys)&&e.keys.every(t=>su(t)||To(t))}o(Rde,"IsMappedKey");function Dde(e){return oi(e,"MappedResult")&&ER(e.properties)}o(Dde,"IsMappedResult");function Pde(e){return oi(e,"Never")&&po(e.not)&&Object.getOwnPropertyNames(e.not).length===0}o(Pde,"IsNever");function Nde(e){return oi(e,"Not")&&Yo(e.not)}o(Nde,"IsNot");function Fde(e){return oi(e,"Null")&&e.type==="null"&&go(e.$id)}o(Fde,"IsNull");function Lde(e){return oi(e,"Number")&&e.type==="number"&&go(e.$id)&&wo(e.exclusiveMaximum)&&wo(e.exclusiveMinimum)&&wo(e.maximum)&&wo(e.minimum)&&wo(e.multipleOf)}o(Lde,"IsNumber");function Qde(e){return oi(e,"Object")&&e.type==="object"&&go(e.$id)&&ER(e.properties)&&mde(e.additionalProperties)&&wo(e.minProperties)&&wo(e.maxProperties)}o(Qde,"IsObject");function Mde(e){return oi(e,"Promise")&&e.type==="Promise"&&go(e.$id)&&Yo(e.item)}o(Mde,"IsPromise");function Ode(e){return oi(e,"Record")&&e.type==="object"&&go(e.$id)&&mde(e.additionalProperties)&&po(e.patternProperties)&&(t=>{let r=Object.getOwnPropertyNames(t.patternProperties);return r.length===1&&dde(r[0])&&po(t.patternProperties)&&Yo(t.patternProperties[r[0]])})(e)}o(Ode,"IsRecord");function BHe(e){return po(e)&&If in e&&e[If]==="Recursive"}o(BHe,"IsRecursive");function Ude(e){return oi(e,"Ref")&&go(e.$id)&&To(e.$ref)}o(Ude,"IsRef");function qde(e){return oi(e,"RegExp")&&go(e.$id)&&To(e.source)&&To(e.flags)&&wo(e.maxLength)&&wo(e.minLength)}o(qde,"IsRegExp");function Gde(e){return oi(e,"String")&&e.type==="string"&&go(e.$id)&&wo(e.minLength)&&wo(e.maxLength)&&bHe(e.pattern)&&IHe(e.format)}o(Gde,"IsString");function Wde(e){return oi(e,"Symbol")&&e.type==="symbol"&&go(e.$id)}o(Wde,"IsSymbol");function Hde(e){return oi(e,"TemplateLiteral")&&e.type==="string"&&To(e.pattern)&&e.pattern[0]==="^"&&e.pattern[e.pattern.length-1]==="$"}o(Hde,"IsTemplateLiteral");function Vde(e){return oi(e,"This")&&go(e.$id)&&To(e.$ref)}o(Vde,"IsThis");function jde(e){return po(e)&&ms in e}o(jde,"IsTransform");function $de(e){return oi(e,"Tuple")&&e.type==="array"&&go(e.$id)&&su(e.minItems)&&su(e.maxItems)&&e.minItems===e.maxItems&&(Xs(e.items)&&Xs(e.additionalItems)&&e.minItems===0||Js(e.items)&&e.items.every(t=>Yo(t)))}o($de,"IsTuple");function zde(e){return oi(e,"Undefined")&&e.type==="undefined"&&go(e.$id)}o(zde,"IsUndefined");function kHe(e){return zj(e)&&e.anyOf.every(t=>Sde(t)||Bde(t))}o(kHe,"IsUnionLiteral");function zj(e){return oi(e,"Union")&&go(e.$id)&&po(e)&&Js(e.anyOf)&&e.anyOf.every(t=>Yo(t))}o(zj,"IsUnion");function Yde(e){return oi(e,"Uint8Array")&&e.type==="Uint8Array"&&go(e.$id)&&wo(e.minByteLength)&&wo(e.maxByteLength)}o(Yde,"IsUint8Array");function Kde(e){return oi(e,"Unknown")&&go(e.$id)}o(Kde,"IsUnknown");function Jde(e){return oi(e,"Unsafe")}o(Jde,"IsUnsafe");function Xde(e){return oi(e,"Void")&&e.type==="void"&&go(e.$id)}o(Xde,"IsVoid");function Zde(e){return po(e)&&nt in e&&To(e[nt])&&!vHe.includes(e[nt])}o(Zde,"IsKind");function Yo(e){return po(e)&&(pde(e)||gde(e)||Ade(e)||Ede(e)||Cde(e)||yde(e)||xde(e)||vde(e)||bde(e)||Ide(e)||Tde(e)||wde(e)||_de(e)||r7(e)||Rde(e)||Dde(e)||Pde(e)||Nde(e)||Fde(e)||Lde(e)||Qde(e)||Mde(e)||Ode(e)||Ude(e)||qde(e)||Gde(e)||Wde(e)||Hde(e)||Vde(e)||$de(e)||zde(e)||zj(e)||Yde(e)||Kde(e)||Jde(e)||Xde(e)||Zde(e))}o(Yo,"IsSchema");d();var Yj="(true|false)",n7="(0|[1-9][0-9]*)",Kj="(.*)",RHe="(?!.*)",rLt=`^${Yj}$`,Oh=`^${n7}$`,Uh=`^${Kj}$`,eme=`^${RHe}$`;d();var om={};Fh(om,{Clear:()=>PHe,Delete:()=>NHe,Entries:()=>DHe,Get:()=>QHe,Has:()=>FHe,Set:()=>LHe});d();var zx=new Map;function DHe(){return new Map(zx)}o(DHe,"Entries");function PHe(){return zx.clear()}o(PHe,"Clear");function NHe(e){return zx.delete(e)}o(NHe,"Delete");function FHe(e){return zx.has(e)}o(FHe,"Has");function LHe(e,t){zx.set(e,t)}o(LHe,"Set");function QHe(e){return zx.get(e)}o(QHe,"Get");var k0={};Fh(k0,{Clear:()=>OHe,Delete:()=>UHe,Entries:()=>MHe,Get:()=>WHe,Has:()=>qHe,Set:()=>GHe});d();var Yx=new Map;function MHe(){return new Map(Yx)}o(MHe,"Entries");function OHe(){return Yx.clear()}o(OHe,"Clear");function UHe(e){return Yx.delete(e)}o(UHe,"Delete");function qHe(e){return Yx.has(e)}o(qHe,"Has");function GHe(e,t){Yx.set(e,t)}o(GHe,"Set");function WHe(e){return Yx.get(e)}o(WHe,"Get");d();function tme(e,t){return e.includes(t)}o(tme,"SetIncludes");function rme(e){return[...new Set(e)]}o(rme,"SetDistinct");function HHe(e,t){return e.filter(r=>t.includes(r))}o(HHe,"SetIntersect");function VHe(e,t){return e.reduce((r,n)=>HHe(r,n),t)}o(VHe,"SetIntersectManyResolve");function nme(e){return e.length===1?e[0]:e.length>1?VHe(e.slice(1),e[0]):[]}o(nme,"SetIntersectMany");function ime(e){let t=[];for(let r of e)t.push(...r);return t}o(ime,"SetUnionMany");d();function P2(e){return at({[nt]:"Any"},e)}o(P2,"Any");d();function Kx(e,t){return at({[nt]:"Array",type:"array",items:e},t)}o(Kx,"Array");d();function ome(e){return at({[nt]:"Argument",index:e})}o(ome,"Argument");d();function Jx(e,t){return at({[nt]:"AsyncIterator",type:"AsyncIterator",items:e},t)}o(Jx,"AsyncIterator");d();d();function Po(e,t,r){return at({[nt]:"Computed",target:e,parameters:t},r)}o(Po,"Computed");d();d();function jHe(e,t){let{[t]:r,...n}=e;return n}o(jHe,"DiscardKey");function Bs(e,t){return t.reduce((r,n)=>jHe(r,n),e)}o(Bs,"Discard");d();function Gn(e){return at({[nt]:"Never",not:{}},e)}o(Gn,"Never");d();d();function Fi(e){return at({[nt]:"MappedResult",properties:e})}o(Fi,"MappedResult");d();d();function Xx(e,t,r){return at({[nt]:"Constructor",type:"Constructor",parameters:e,returns:t},r)}o(Xx,"Constructor");d();function qh(e,t,r){return at({[nt]:"Function",type:"Function",parameters:e,returns:t},r)}o(qh,"Function");d();d();d();d();function i7(e,t){return at({[nt]:"Union",anyOf:e},t)}o(i7,"UnionCreate");function $He(e){return e.some(t=>dc(t))}o($He,"IsUnionOptional");function sme(e){return e.map(t=>dc(t)?zHe(t):t)}o(sme,"RemoveOptionalFromRest");function zHe(e){return Bs(e,[Fl])}o(zHe,"RemoveOptionalFromType");function YHe(e,t){return $He(e)?o0(i7(sme(e),t)):i7(sme(e),t)}o(YHe,"ResolveUnion");function Gh(e,t){return e.length===1?at(e[0],t):e.length===0?Gn(t):YHe(e,t)}o(Gh,"UnionEvaluated");d();function $i(e,t){return e.length===0?Gn(t):e.length===1?at(e[0],t):i7(e,t)}o($i,"Union");d();d();d();var xR=class extends fn{static{o(this,"TemplateLiteralParserError")}};function KHe(e){return e.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}o(KHe,"Unescape");function Jj(e,t,r){return e[t]===r&&e.charCodeAt(t-1)!==92}o(Jj,"IsNonEscaped");function Gg(e,t){return Jj(e,t,"(")}o(Gg,"IsOpenParen");function o7(e,t){return Jj(e,t,")")}o(o7,"IsCloseParen");function ame(e,t){return Jj(e,t,"|")}o(ame,"IsSeparator");function JHe(e){if(!(Gg(e,0)&&o7(e,e.length-1)))return!1;let t=0;for(let r=0;r<e.length;r++)if(Gg(e,r)&&(t+=1),o7(e,r)&&(t-=1),t===0&&r!==e.length-1)return!1;return!0}o(JHe,"IsGroup");function XHe(e){return e.slice(1,e.length-1)}o(XHe,"InGroup");function ZHe(e){let t=0;for(let r=0;r<e.length;r++)if(Gg(e,r)&&(t+=1),o7(e,r)&&(t-=1),ame(e,r)&&t===0)return!0;return!1}o(ZHe,"IsPrecedenceOr");function eVe(e){for(let t=0;t<e.length;t++)if(Gg(e,t))return!0;return!1}o(eVe,"IsPrecedenceAnd");function tVe(e){let[t,r]=[0,0],n=[];for(let s=0;s<e.length;s++)if(Gg(e,s)&&(t+=1),o7(e,s)&&(t-=1),ame(e,s)&&t===0){let a=e.slice(r,s);a.length>0&&n.push(Zx(a)),r=s+1}let i=e.slice(r);return i.length>0&&n.push(Zx(i)),n.length===0?{type:"const",const:""}:n.length===1?n[0]:{type:"or",expr:n}}o(tVe,"Or");function rVe(e){function t(i,s){if(!Gg(i,s))throw new xR("TemplateLiteralParser: Index must point to open parens");let a=0;for(let l=s;l<i.length;l++)if(Gg(i,l)&&(a+=1),o7(i,l)&&(a-=1),a===0)return[s,l];throw new xR("TemplateLiteralParser: Unclosed group parens in expression")}o(t,"Group");function r(i,s){for(let a=s;a<i.length;a++)if(Gg(i,a))return[s,a];return[s,i.length]}o(r,"Range");let n=[];for(let i=0;i<e.length;i++)if(Gg(e,i)){let[s,a]=t(e,i),l=e.slice(s,a+1);n.push(Zx(l)),i=a}else{let[s,a]=r(e,i),l=e.slice(s,a);l.length>0&&n.push(Zx(l)),i=a-1}return n.length===0?{type:"const",const:""}:n.length===1?n[0]:{type:"and",expr:n}}o(rVe,"And");function Zx(e){return JHe(e)?Zx(XHe(e)):ZHe(e)?tVe(e):eVe(e)?rVe(e):{type:"const",const:KHe(e)}}o(Zx,"TemplateLiteralParse");function ev(e){return Zx(e.slice(1,e.length-1))}o(ev,"TemplateLiteralParseExact");var Xj=class extends fn{static{o(this,"TemplateLiteralFiniteError")}};function nVe(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="0"&&e.expr[1].type==="const"&&e.expr[1].const==="[1-9][0-9]*"}o(nVe,"IsNumberExpression");function iVe(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="true"&&e.expr[1].type==="const"&&e.expr[1].const==="false"}o(iVe,"IsBooleanExpression");function oVe(e){return e.type==="const"&&e.const===".*"}o(oVe,"IsStringExpression");function J3(e){return nVe(e)||oVe(e)?!1:iVe(e)?!0:e.type==="and"?e.expr.every(t=>J3(t)):e.type==="or"?e.expr.every(t=>J3(t)):e.type==="const"?!0:(()=>{throw new Xj("Unknown expression type")})()}o(J3,"IsTemplateLiteralExpressionFinite");function vR(e){let t=ev(e.pattern);return J3(t)}o(vR,"IsTemplateLiteralFinite");d();var Zj=class extends fn{static{o(this,"TemplateLiteralGenerateError")}};function*lme(e){if(e.length===1)return yield*e[0];for(let t of e[0])for(let r of lme(e.slice(1)))yield`${t}${r}`}o(lme,"GenerateReduce");function*sVe(e){return yield*lme(e.expr.map(t=>[...s7(t)]))}o(sVe,"GenerateAnd");function*aVe(e){for(let t of e.expr)yield*s7(t)}o(aVe,"GenerateOr");function*lVe(e){return yield e.const}o(lVe,"GenerateConst");function*s7(e){return e.type==="and"?yield*sVe(e):e.type==="or"?yield*aVe(e):e.type==="const"?yield*lVe(e):(()=>{throw new Zj("Unknown expression")})()}o(s7,"TemplateLiteralExpressionGenerate");function tv(e){let t=ev(e.pattern);return J3(t)?[...s7(t)]:[]}o(tv,"TemplateLiteralGenerate");d();d();function bi(e,t){return at({[nt]:"Literal",const:e,type:typeof e},t)}o(bi,"Literal");d();function bR(e){return at({[nt]:"Boolean",type:"boolean"},e)}o(bR,"Boolean");d();function rv(e){return at({[nt]:"BigInt",type:"bigint"},e)}o(rv,"BigInt");d();function Tf(e){return at({[nt]:"Number",type:"number"},e)}o(Tf,"Number");d();function R0(e){return at({[nt]:"String",type:"string"},e)}o(R0,"String");function*cVe(e){let t=e.trim().replace(/"|'/g,"");return t==="boolean"?yield bR():t==="number"?yield Tf():t==="bigint"?yield rv():t==="string"?yield R0():yield(()=>{let r=t.split("|").map(n=>bi(n.trim()));return r.length===0?Gn():r.length===1?r[0]:Gh(r)})()}o(cVe,"FromUnion");function*uVe(e){if(e[1]!=="{"){let t=bi("$"),r=e$(e.slice(1));return yield*[t,...r]}for(let t=2;t<e.length;t++)if(e[t]==="}"){let r=cVe(e.slice(2,t)),n=e$(e.slice(t+1));return yield*[...r,...n]}yield bi(e)}o(uVe,"FromTerminal");function*e$(e){for(let t=0;t<e.length;t++)if(e[t]==="$"){let r=bi(e.slice(0,t)),n=uVe(e.slice(t));return yield*[r,...n]}yield bi(e)}o(e$,"FromSyntax");function cme(e){return[...e$(e)]}o(cme,"TemplateLiteralSyntax");d();var t$=class extends fn{static{o(this,"TemplateLiteralPatternError")}};function fVe(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(fVe,"Escape");function ume(e,t){return uu(e)?e.pattern.slice(1,e.pattern.length-1):ki(e)?`(${e.anyOf.map(r=>ume(r,t)).join("|")})`:im(e)?`${t}${n7}`:nm(e)?`${t}${n7}`:$3(e)?`${t}${n7}`:Og(e)?`${t}${Kj}`:lu(e)?`${t}${fVe(e.const.toString())}`:Mg(e)?`${t}${Yj}`:(()=>{throw new t$(`Unexpected Kind '${e[nt]}'`)})()}o(ume,"Visit");function r$(e){return`^${e.map(t=>ume(t,"")).join("")}$`}o(r$,"TemplateLiteralPattern");d();function X3(e){let r=tv(e).map(n=>bi(n));return Gh(r)}o(X3,"TemplateLiteralToUnion");d();function IR(e,t){let r=To(e)?r$(cme(e)):r$(e);return at({[nt]:"TemplateLiteral",type:"string",pattern:r},t)}o(IR,"TemplateLiteral");function dVe(e){return tv(e).map(r=>r.toString())}o(dVe,"FromTemplateLiteral");function mVe(e){let t=[];for(let r of e)t.push(...mc(r));return t}o(mVe,"FromUnion");function hVe(e){return[e.toString()]}o(hVe,"FromLiteral");function mc(e){return[...new Set(uu(e)?dVe(e):ki(e)?mVe(e.anyOf):lu(e)?hVe(e.const):im(e)?["[number]"]:nm(e)?["[number]"]:[])]}o(mc,"IndexPropertyKeys");d();function pVe(e,t,r){let n={};for(let i of Object.getOwnPropertyNames(t))n[i]=N2(e,mc(t[i]),r);return n}o(pVe,"FromProperties");function gVe(e,t,r){return pVe(e,t.properties,r)}o(gVe,"FromMappedResult");function fme(e,t,r){let n=gVe(e,t,r);return Fi(n)}o(fme,"IndexFromMappedResult");function mme(e,t){return e.map(r=>hme(r,t))}o(mme,"FromRest");function AVe(e){return e.filter(t=>!R2(t))}o(AVe,"FromIntersectRest");function yVe(e,t){return TR(AVe(mme(e,t)))}o(yVe,"FromIntersect");function CVe(e){return e.some(t=>R2(t))?[]:e}o(CVe,"FromUnionRest");function EVe(e,t){return Gh(CVe(mme(e,t)))}o(EVe,"FromUnion");function xVe(e,t){return t in e?e[t]:t==="[number]"?Gh(e):Gn()}o(xVe,"FromTuple");function vVe(e,t){return t==="[number]"?e:Gn()}o(vVe,"FromArray");function bVe(e,t){return t in e?e[t]:Gn()}o(bVe,"FromProperty");function hme(e,t){return Ss(e)?yVe(e.allOf,t):ki(e)?EVe(e.anyOf,t):fu(e)?xVe(e.items??[],t):Zd(e)?vVe(e.items,t):Zs(e)?bVe(e.properties,t):Gn()}o(hme,"IndexFromPropertyKey");function a7(e,t){return t.map(r=>hme(e,r))}o(a7,"IndexFromPropertyKeys");function dme(e,t){return Gh(a7(e,t))}o(dme,"FromSchema");function N2(e,t,r){if(Ls(e)||Ls(t)){let n="Index types using Ref parameters require both Type and Key to be of TSchema";if(!hs(e)||!hs(t))throw new fn(n);return Po("Index",[e,t])}return zo(t)?fme(e,t,r):cu(t)?pme(e,t,r):at(hs(t)?dme(e,mc(t)):dme(e,t),r)}o(N2,"Index");function IVe(e,t,r){return{[t]:N2(e,[t],jo(r))}}o(IVe,"MappedIndexPropertyKey");function TVe(e,t,r){return t.reduce((n,i)=>({...n,...IVe(e,i,r)}),{})}o(TVe,"MappedIndexPropertyKeys");function wVe(e,t,r){return TVe(e,t.keys,r)}o(wVe,"MappedIndexProperties");function pme(e,t,r){let n=wVe(e,t,r);return Fi(n)}o(pme,"IndexFromMappedKey");d();function nv(e,t){return at({[nt]:"Iterator",type:"Iterator",items:e},t)}o(nv,"Iterator");d();function _Ve(e){let t=[];for(let r in e)dc(e[r])||t.push(r);return t}o(_Ve,"RequiredKeys");function SVe(e,t){let r=_Ve(e),n=r.length>0?{[nt]:"Object",type:"object",properties:e,required:r}:{[nt]:"Object",type:"object",properties:e};return at(n,t)}o(SVe,"_Object");var zi=SVe;d();function wR(e,t){return at({[nt]:"Promise",type:"Promise",item:e},t)}o(wR,"Promise");d();d();function BVe(e){return at(Bs(e,[Xd]))}o(BVe,"RemoveReadonly");function kVe(e){return at({...e,[Xd]:"Readonly"})}o(kVe,"AddReadonly");function RVe(e,t){return t===!1?BVe(e):kVe(e)}o(RVe,"ReadonlyWithFlag");function hc(e,t){let r=t??!0;return zo(e)?gme(e,r):RVe(e,r)}o(hc,"Readonly");function DVe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=hc(e[n],t);return r}o(DVe,"FromProperties");function PVe(e,t){return DVe(e.properties,t)}o(PVe,"FromMappedResult");function gme(e,t){let r=PVe(e,t);return Fi(r)}o(gme,"ReadonlyFromMappedResult");d();function wf(e,t){return at(e.length>0?{[nt]:"Tuple",type:"array",items:e,additionalItems:!1,minItems:e.length,maxItems:e.length}:{[nt]:"Tuple",type:"array",minItems:e.length,maxItems:e.length},t)}o(wf,"Tuple");function Ame(e,t){return e in t?_f(e,t[e]):Fi(t)}o(Ame,"FromMappedResult");function NVe(e){return{[e]:bi(e)}}o(NVe,"MappedKeyToKnownMappedResultProperties");function FVe(e){let t={};for(let r of e)t[r]=bi(r);return t}o(FVe,"MappedKeyToUnknownMappedResultProperties");function LVe(e,t){return tme(t,e)?NVe(e):FVe(t)}o(LVe,"MappedKeyToMappedResultProperties");function QVe(e,t){let r=LVe(e,t);return Ame(e,r)}o(QVe,"FromMappedKey");function l7(e,t){return t.map(r=>_f(e,r))}o(l7,"FromRest");function MVe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=_f(e,t[n]);return r}o(MVe,"FromProperties");function _f(e,t){let r={...t};return dc(t)?o0(_f(e,Bs(t,[Fl]))):$x(t)?hc(_f(e,Bs(t,[Xd]))):zo(t)?Ame(e,t.properties):cu(t)?QVe(e,t.keys):tm(t)?Xx(l7(e,t.parameters),_f(e,t.returns),r):rm(t)?qh(l7(e,t.parameters),_f(e,t.returns),r):j3(t)?Jx(_f(e,t.items),r):z3(t)?nv(_f(e,t.items),r):Ss(t)?s0(l7(e,t.allOf),r):ki(t)?$i(l7(e,t.anyOf),r):fu(t)?wf(l7(e,t.items??[]),r):Zs(t)?zi(MVe(e,t.properties),r):Zd(t)?Kx(_f(e,t.items),r):Y3(t)?wR(_f(e,t.item),r):t}o(_f,"FromSchemaType");function OVe(e,t){let r={};for(let n of e)r[n]=_f(n,t);return r}o(OVe,"MappedFunctionReturnType");function yme(e,t,r){let n=hs(e)?mc(e):e,i=t({[nt]:"MappedKey",keys:n}),s=OVe(n,i);return zi(s,r)}o(yme,"Mapped");d();function UVe(e){return at(Bs(e,[Fl]))}o(UVe,"RemoveOptional");function qVe(e){return at({...e,[Fl]:"Optional"})}o(qVe,"AddOptional");function GVe(e,t){return t===!1?UVe(e):qVe(e)}o(GVe,"OptionalWithFlag");function o0(e,t){let r=t??!0;return zo(e)?Cme(e,r):GVe(e,r)}o(o0,"Optional");function WVe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=o0(e[n],t);return r}o(WVe,"FromProperties");function HVe(e,t){return WVe(e.properties,t)}o(HVe,"FromMappedResult");function Cme(e,t){let r=HVe(e,t);return Fi(r)}o(Cme,"OptionalFromMappedResult");d();function c7(e,t={}){let r=e.every(i=>Zs(i)),n=hs(t.unevaluatedProperties)?{unevaluatedProperties:t.unevaluatedProperties}:{};return at(t.unevaluatedProperties===!1||hs(t.unevaluatedProperties)||r?{...n,[nt]:"Intersect",type:"object",allOf:e}:{...n,[nt]:"Intersect",allOf:e},t)}o(c7,"IntersectCreate");function VVe(e){return e.every(t=>dc(t))}o(VVe,"IsIntersectOptional");function jVe(e){return Bs(e,[Fl])}o(jVe,"RemoveOptionalFromType");function Eme(e){return e.map(t=>dc(t)?jVe(t):t)}o(Eme,"RemoveOptionalFromRest");function $Ve(e,t){return VVe(e)?o0(c7(Eme(e),t)):c7(Eme(e),t)}o($Ve,"ResolveIntersect");function TR(e,t={}){if(e.length===1)return at(e[0],t);if(e.length===0)return Gn(t);if(e.some(r=>ji(r)))throw new Error("Cannot intersect transform types");return $Ve(e,t)}o(TR,"IntersectEvaluated");d();function s0(e,t){if(e.length===1)return at(e[0],t);if(e.length===0)return Gn(t);if(e.some(r=>ji(r)))throw new Error("Cannot intersect transform types");return c7(e,t)}o(s0,"Intersect");d();function Sf(...e){let[t,r]=typeof e[0]=="string"?[e[0],e[1]]:[e[0].$id,e[1]];if(typeof t!="string")throw new fn("Ref: $ref must be a string");return at({[nt]:"Ref",$ref:t},r)}o(Sf,"Ref");function zVe(e,t){return Po("Awaited",[Po(e,t)])}o(zVe,"FromComputed");function YVe(e){return Po("Awaited",[Sf(e)])}o(YVe,"FromRef");function KVe(e){return s0(xme(e))}o(KVe,"FromIntersect");function JVe(e){return $i(xme(e))}o(JVe,"FromUnion");function XVe(e){return iv(e)}o(XVe,"FromPromise");function xme(e){return e.map(t=>iv(t))}o(xme,"FromRest");function iv(e,t){return at(em(e)?zVe(e.target,e.parameters):Ss(e)?KVe(e.allOf):ki(e)?JVe(e.anyOf):Y3(e)?XVe(e.item):Ls(e)?YVe(e.$ref):e,t)}o(iv,"Awaited");d();d();d();d();function vme(e){let t=[];for(let r of e)t.push(pc(r));return t}o(vme,"FromRest");function ZVe(e){let t=vme(e);return ime(t)}o(ZVe,"FromIntersect");function eje(e){let t=vme(e);return nme(t)}o(eje,"FromUnion");function tje(e){return e.map((t,r)=>r.toString())}o(tje,"FromTuple");function rje(e){return["[number]"]}o(rje,"FromArray");function nje(e){return globalThis.Object.getOwnPropertyNames(e)}o(nje,"FromProperties");function ije(e){return n$?globalThis.Object.getOwnPropertyNames(e).map(r=>r[0]==="^"&&r[r.length-1]==="$"?r.slice(1,r.length-1):r):[]}o(ije,"FromPatternProperties");function pc(e){return Ss(e)?ZVe(e.allOf):ki(e)?eje(e.anyOf):fu(e)?tje(e.items??[]):Zd(e)?rje(e.items):Zs(e)?nje(e.properties):K3(e)?ije(e.patternProperties):[]}o(pc,"KeyOfPropertyKeys");var n$=!1;function Wg(e){n$=!0;let t=pc(e);return n$=!1,`^(${t.map(n=>`(${n})`).join("|")})$`}o(Wg,"KeyOfPattern");function oje(e,t){return Po("KeyOf",[Po(e,t)])}o(oje,"FromComputed");function sje(e){return Po("KeyOf",[Sf(e)])}o(sje,"FromRef");function aje(e,t){let r=pc(e),n=lje(r),i=Gh(n);return at(i,t)}o(aje,"KeyOfFromType");function lje(e){return e.map(t=>t==="[number]"?Tf():bi(t))}o(lje,"KeyOfPropertyKeysToRest");function ov(e,t){return em(e)?oje(e.target,e.parameters):Ls(e)?sje(e.$ref):zo(e)?bme(e,t):aje(e,t)}o(ov,"KeyOf");function cje(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=ov(e[n],jo(t));return r}o(cje,"FromProperties");function uje(e,t){return cje(e.properties,t)}o(uje,"FromMappedResult");function bme(e,t){let r=uje(e,t);return Fi(r)}o(bme,"KeyOfFromMappedResult");d();function _R(e){let t=pc(e),r=a7(e,t);return t.map((n,i)=>[t[i],r[i]])}o(_R,"KeyOfPropertyEntries");function fje(e){let t=[];for(let r of e)t.push(...pc(r));return rme(t)}o(fje,"CompositeKeys");function dje(e){return e.filter(t=>!R2(t))}o(dje,"FilterNever");function mje(e,t){let r=[];for(let n of e)r.push(...a7(n,[t]));return dje(r)}o(mje,"CompositeProperty");function hje(e,t){let r={};for(let n of t)r[n]=TR(mje(e,n));return r}o(hje,"CompositeProperties");function Ime(e,t){let r=fje(e),n=hje(e,r);return zi(n,t)}o(Ime,"Composite");d();d();function SR(e){return at({[nt]:"Date",type:"Date"},e)}o(SR,"Date");d();function BR(e){return at({[nt]:"Null",type:"null"},e)}o(BR,"Null");d();function kR(e){return at({[nt]:"Symbol",type:"symbol"},e)}o(kR,"Symbol");d();function RR(e){return at({[nt]:"Undefined",type:"undefined"},e)}o(RR,"Undefined");d();function DR(e){return at({[nt]:"Uint8Array",type:"Uint8Array"},e)}o(DR,"Uint8Array");d();function sm(e){return at({[nt]:"Unknown"},e)}o(sm,"Unknown");function pje(e){return e.map(t=>i$(t,!1))}o(pje,"FromArray");function gje(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=hc(i$(e[r],!1));return t}o(gje,"FromProperties");function PR(e,t){return t===!0?e:hc(e)}o(PR,"ConditionalReadonly");function i$(e,t){return Lj(e)?PR(P2(),t):Mj(e)?PR(P2(),t):Js(e)?hc(wf(pje(e))):Fg(e)?DR():V3(e)?SR():po(e)?PR(zi(gje(e)),t):Qj(e)?PR(qh([],sm()),t):Xs(e)?RR():Oj(e)?BR():Uj(e)?kR():K9(e)?rv():su(e)?bi(e):Ng(e)?bi(e):To(e)?bi(e):zi({})}o(i$,"FromValue");function Tme(e,t){return at(i$(e,!0),t)}o(Tme,"Const");d();function wme(e,t){return tm(e)?wf(e.parameters,t):Gn(t)}o(wme,"ConstructorParameters");d();function _me(e,t){if(Xs(e))throw new Error("Enum undefined or empty");let r=globalThis.Object.getOwnPropertyNames(e).filter(s=>isNaN(s)).map(s=>e[s]),i=[...new Set(r)].map(s=>bi(s));return $i(i,{...t,[If]:"Enum"})}o(_me,"Enum");d();d();d();var s$=class extends fn{static{o(this,"ExtendsResolverError")}},lt;(function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"})(lt||(lt={}));function Bf(e){return e===lt.False?e:lt.True}o(Bf,"IntoBooleanResult");function sv(e){throw new s$(e)}o(sv,"Throw");function Ca(e){return Qe.IsNever(e)||Qe.IsIntersect(e)||Qe.IsUnion(e)||Qe.IsUnknown(e)||Qe.IsAny(e)}o(Ca,"IsStructuralRight");function Ea(e,t){return Qe.IsNever(t)?Nme(e,t):Qe.IsIntersect(t)?NR(e,t):Qe.IsUnion(t)?u$(e,t):Qe.IsUnknown(t)?Mme(e,t):Qe.IsAny(t)?c$(e,t):sv("StructuralRight")}o(Ea,"StructuralRight");function c$(e,t){return lt.True}o(c$,"FromAnyRight");function Aje(e,t){return Qe.IsIntersect(t)?NR(e,t):Qe.IsUnion(t)&&t.anyOf.some(r=>Qe.IsAny(r)||Qe.IsUnknown(r))?lt.True:Qe.IsUnion(t)?lt.Union:Qe.IsUnknown(t)||Qe.IsAny(t)?lt.True:lt.Union}o(Aje,"FromAny");function yje(e,t){return Qe.IsUnknown(e)?lt.False:Qe.IsAny(e)?lt.Union:Qe.IsNever(e)?lt.True:lt.False}o(yje,"FromArrayRight");function Cje(e,t){return Qe.IsObject(t)&&FR(t)?lt.True:Ca(t)?Ea(e,t):Qe.IsArray(t)?Bf(Ao(e.items,t.items)):lt.False}o(Cje,"FromArray");function Eje(e,t){return Ca(t)?Ea(e,t):Qe.IsAsyncIterator(t)?Bf(Ao(e.items,t.items)):lt.False}o(Eje,"FromAsyncIterator");function xje(e,t){return Ca(t)?Ea(e,t):Qe.IsObject(t)?a0(e,t):Qe.IsRecord(t)?kf(e,t):Qe.IsBigInt(t)?lt.True:lt.False}o(xje,"FromBigInt");function Dme(e,t){return Qe.IsLiteralBoolean(e)||Qe.IsBoolean(e)?lt.True:lt.False}o(Dme,"FromBooleanRight");function vje(e,t){return Ca(t)?Ea(e,t):Qe.IsObject(t)?a0(e,t):Qe.IsRecord(t)?kf(e,t):Qe.IsBoolean(t)?lt.True:lt.False}o(vje,"FromBoolean");function bje(e,t){return Ca(t)?Ea(e,t):Qe.IsObject(t)?a0(e,t):Qe.IsConstructor(t)?e.parameters.length>t.parameters.length?lt.False:e.parameters.every((r,n)=>Bf(Ao(t.parameters[n],r))===lt.True)?Bf(Ao(e.returns,t.returns)):lt.False:lt.False}o(bje,"FromConstructor");function Ije(e,t){return Ca(t)?Ea(e,t):Qe.IsObject(t)?a0(e,t):Qe.IsRecord(t)?kf(e,t):Qe.IsDate(t)?lt.True:lt.False}o(Ije,"FromDate");function Tje(e,t){return Ca(t)?Ea(e,t):Qe.IsObject(t)?a0(e,t):Qe.IsFunction(t)?e.parameters.length>t.parameters.length?lt.False:e.parameters.every((r,n)=>Bf(Ao(t.parameters[n],r))===lt.True)?Bf(Ao(e.returns,t.returns)):lt.False:lt.False}o(Tje,"FromFunction");function Pme(e,t){return Qe.IsLiteral(e)&&i0.IsNumber(e.const)||Qe.IsNumber(e)||Qe.IsInteger(e)?lt.True:lt.False}o(Pme,"FromIntegerRight");function wje(e,t){return Qe.IsInteger(t)||Qe.IsNumber(t)?lt.True:Ca(t)?Ea(e,t):Qe.IsObject(t)?a0(e,t):Qe.IsRecord(t)?kf(e,t):lt.False}o(wje,"FromInteger");function NR(e,t){return t.allOf.every(r=>Ao(e,r)===lt.True)?lt.True:lt.False}o(NR,"FromIntersectRight");function _je(e,t){return e.allOf.some(r=>Ao(r,t)===lt.True)?lt.True:lt.False}o(_je,"FromIntersect");function Sje(e,t){return Ca(t)?Ea(e,t):Qe.IsIterator(t)?Bf(Ao(e.items,t.items)):lt.False}o(Sje,"FromIterator");function Bje(e,t){return Qe.IsLiteral(t)&&t.const===e.const?lt.True:Ca(t)?Ea(e,t):Qe.IsObject(t)?a0(e,t):Qe.IsRecord(t)?kf(e,t):Qe.IsString(t)?Qme(e,t):Qe.IsNumber(t)?Fme(e,t):Qe.IsInteger(t)?Pme(e,t):Qe.IsBoolean(t)?Dme(e,t):lt.False}o(Bje,"FromLiteral");function Nme(e,t){return lt.False}o(Nme,"FromNeverRight");function kje(e,t){return lt.True}o(kje,"FromNever");function Sme(e){let[t,r]=[e,0];for(;Qe.IsNot(t);)t=t.not,r+=1;return r%2===0?t:sm()}o(Sme,"UnwrapTNot");function Rje(e,t){return Qe.IsNot(e)?Ao(Sme(e),t):Qe.IsNot(t)?Ao(e,Sme(t)):sv("Invalid fallthrough for Not")}o(Rje,"FromNot");function Dje(e,t){return Ca(t)?Ea(e,t):Qe.IsObject(t)?a0(e,t):Qe.IsRecord(t)?kf(e,t):Qe.IsNull(t)?lt.True:lt.False}o(Dje,"FromNull");function Fme(e,t){return Qe.IsLiteralNumber(e)||Qe.IsNumber(e)||Qe.IsInteger(e)?lt.True:lt.False}o(Fme,"FromNumberRight");function Pje(e,t){return Ca(t)?Ea(e,t):Qe.IsObject(t)?a0(e,t):Qe.IsRecord(t)?kf(e,t):Qe.IsInteger(t)||Qe.IsNumber(t)?lt.True:lt.False}o(Pje,"FromNumber");function gc(e,t){return Object.getOwnPropertyNames(e.properties).length===t}o(gc,"IsObjectPropertyCount");function Bme(e){return FR(e)}o(Bme,"IsObjectStringLike");function kme(e){return gc(e,0)||gc(e,1)&&"description"in e.properties&&Qe.IsUnion(e.properties.description)&&e.properties.description.anyOf.length===2&&(Qe.IsString(e.properties.description.anyOf[0])&&Qe.IsUndefined(e.properties.description.anyOf[1])||Qe.IsString(e.properties.description.anyOf[1])&&Qe.IsUndefined(e.properties.description.anyOf[0]))}o(kme,"IsObjectSymbolLike");function o$(e){return gc(e,0)}o(o$,"IsObjectNumberLike");function Rme(e){return gc(e,0)}o(Rme,"IsObjectBooleanLike");function Nje(e){return gc(e,0)}o(Nje,"IsObjectBigIntLike");function Fje(e){return gc(e,0)}o(Fje,"IsObjectDateLike");function Lje(e){return FR(e)}o(Lje,"IsObjectUint8ArrayLike");function Qje(e){let t=Tf();return gc(e,0)||gc(e,1)&&"length"in e.properties&&Bf(Ao(e.properties.length,t))===lt.True}o(Qje,"IsObjectFunctionLike");function Mje(e){return gc(e,0)}o(Mje,"IsObjectConstructorLike");function FR(e){let t=Tf();return gc(e,0)||gc(e,1)&&"length"in e.properties&&Bf(Ao(e.properties.length,t))===lt.True}o(FR,"IsObjectArrayLike");function Oje(e){let t=qh([P2()],P2());return gc(e,0)||gc(e,1)&&"then"in e.properties&&Bf(Ao(e.properties.then,t))===lt.True}o(Oje,"IsObjectPromiseLike");function Lme(e,t){return Ao(e,t)===lt.False||Qe.IsOptional(e)&&!Qe.IsOptional(t)?lt.False:lt.True}o(Lme,"Property");function a0(e,t){return Qe.IsUnknown(e)?lt.False:Qe.IsAny(e)?lt.Union:Qe.IsNever(e)||Qe.IsLiteralString(e)&&Bme(t)||Qe.IsLiteralNumber(e)&&o$(t)||Qe.IsLiteralBoolean(e)&&Rme(t)||Qe.IsSymbol(e)&&kme(t)||Qe.IsBigInt(e)&&Nje(t)||Qe.IsString(e)&&Bme(t)||Qe.IsSymbol(e)&&kme(t)||Qe.IsNumber(e)&&o$(t)||Qe.IsInteger(e)&&o$(t)||Qe.IsBoolean(e)&&Rme(t)||Qe.IsUint8Array(e)&&Lje(t)||Qe.IsDate(e)&&Fje(t)||Qe.IsConstructor(e)&&Mje(t)||Qe.IsFunction(e)&&Qje(t)?lt.True:Qe.IsRecord(e)&&Qe.IsString(a$(e))?t[If]==="Record"?lt.True:lt.False:Qe.IsRecord(e)&&Qe.IsNumber(a$(e))?gc(t,0)?lt.True:lt.False:lt.False}o(a0,"FromObjectRight");function Uje(e,t){return Ca(t)?Ea(e,t):Qe.IsRecord(t)?kf(e,t):Qe.IsObject(t)?(()=>{for(let r of Object.getOwnPropertyNames(t.properties)){if(!(r in e.properties)&&!Qe.IsOptional(t.properties[r]))return lt.False;if(Qe.IsOptional(t.properties[r]))return lt.True;if(Lme(e.properties[r],t.properties[r])===lt.False)return lt.False}return lt.True})():lt.False}o(Uje,"FromObject");function qje(e,t){return Ca(t)?Ea(e,t):Qe.IsObject(t)&&Oje(t)?lt.True:Qe.IsPromise(t)?Bf(Ao(e.item,t.item)):lt.False}o(qje,"FromPromise");function a$(e){return Oh in e.patternProperties?Tf():Uh in e.patternProperties?R0():sv("Unknown record key pattern")}o(a$,"RecordKey");function l$(e){return Oh in e.patternProperties?e.patternProperties[Oh]:Uh in e.patternProperties?e.patternProperties[Uh]:sv("Unable to get record value schema")}o(l$,"RecordValue");function kf(e,t){let[r,n]=[a$(t),l$(t)];return Qe.IsLiteralString(e)&&Qe.IsNumber(r)&&Bf(Ao(e,n))===lt.True?lt.True:Qe.IsUint8Array(e)&&Qe.IsNumber(r)||Qe.IsString(e)&&Qe.IsNumber(r)||Qe.IsArray(e)&&Qe.IsNumber(r)?Ao(e,n):Qe.IsObject(e)?(()=>{for(let i of Object.getOwnPropertyNames(e.properties))if(Lme(n,e.properties[i])===lt.False)return lt.False;return lt.True})():lt.False}o(kf,"FromRecordRight");function Gje(e,t){return Ca(t)?Ea(e,t):Qe.IsObject(t)?a0(e,t):Qe.IsRecord(t)?Ao(l$(e),l$(t)):lt.False}o(Gje,"FromRecord");function Wje(e,t){let r=Qe.IsRegExp(e)?R0():e,n=Qe.IsRegExp(t)?R0():t;return Ao(r,n)}o(Wje,"FromRegExp");function Qme(e,t){return Qe.IsLiteral(e)&&i0.IsString(e.const)||Qe.IsString(e)?lt.True:lt.False}o(Qme,"FromStringRight");function Hje(e,t){return Ca(t)?Ea(e,t):Qe.IsObject(t)?a0(e,t):Qe.IsRecord(t)?kf(e,t):Qe.IsString(t)?lt.True:lt.False}o(Hje,"FromString");function Vje(e,t){return Ca(t)?Ea(e,t):Qe.IsObject(t)?a0(e,t):Qe.IsRecord(t)?kf(e,t):Qe.IsSymbol(t)?lt.True:lt.False}o(Vje,"FromSymbol");function jje(e,t){return Qe.IsTemplateLiteral(e)?Ao(X3(e),t):Qe.IsTemplateLiteral(t)?Ao(e,X3(t)):sv("Invalid fallthrough for TemplateLiteral")}o(jje,"FromTemplateLiteral");function $je(e,t){return Qe.IsArray(t)&&e.items!==void 0&&e.items.every(r=>Ao(r,t.items)===lt.True)}o($je,"IsArrayOfTuple");function zje(e,t){return Qe.IsNever(e)?lt.True:Qe.IsUnknown(e)?lt.False:Qe.IsAny(e)?lt.Union:lt.False}o(zje,"FromTupleRight");function Yje(e,t){return Ca(t)?Ea(e,t):Qe.IsObject(t)&&FR(t)||Qe.IsArray(t)&&$je(e,t)?lt.True:Qe.IsTuple(t)?i0.IsUndefined(e.items)&&!i0.IsUndefined(t.items)||!i0.IsUndefined(e.items)&&i0.IsUndefined(t.items)?lt.False:i0.IsUndefined(e.items)&&!i0.IsUndefined(t.items)||e.items.every((r,n)=>Ao(r,t.items[n])===lt.True)?lt.True:lt.False:lt.False}o(Yje,"FromTuple");function Kje(e,t){return Ca(t)?Ea(e,t):Qe.IsObject(t)?a0(e,t):Qe.IsRecord(t)?kf(e,t):Qe.IsUint8Array(t)?lt.True:lt.False}o(Kje,"FromUint8Array");function Jje(e,t){return Ca(t)?Ea(e,t):Qe.IsObject(t)?a0(e,t):Qe.IsRecord(t)?kf(e,t):Qe.IsVoid(t)?e$e(e,t):Qe.IsUndefined(t)?lt.True:lt.False}o(Jje,"FromUndefined");function u$(e,t){return t.anyOf.some(r=>Ao(e,r)===lt.True)?lt.True:lt.False}o(u$,"FromUnionRight");function Xje(e,t){return e.anyOf.every(r=>Ao(r,t)===lt.True)?lt.True:lt.False}o(Xje,"FromUnion");function Mme(e,t){return lt.True}o(Mme,"FromUnknownRight");function Zje(e,t){return Qe.IsNever(t)?Nme(e,t):Qe.IsIntersect(t)?NR(e,t):Qe.IsUnion(t)?u$(e,t):Qe.IsAny(t)?c$(e,t):Qe.IsString(t)?Qme(e,t):Qe.IsNumber(t)?Fme(e,t):Qe.IsInteger(t)?Pme(e,t):Qe.IsBoolean(t)?Dme(e,t):Qe.IsArray(t)?yje(e,t):Qe.IsTuple(t)?zje(e,t):Qe.IsObject(t)?a0(e,t):Qe.IsUnknown(t)?lt.True:lt.False}o(Zje,"FromUnknown");function e$e(e,t){return Qe.IsUndefined(e)||Qe.IsUndefined(e)?lt.True:lt.False}o(e$e,"FromVoidRight");function t$e(e,t){return Qe.IsIntersect(t)?NR(e,t):Qe.IsUnion(t)?u$(e,t):Qe.IsUnknown(t)?Mme(e,t):Qe.IsAny(t)?c$(e,t):Qe.IsObject(t)?a0(e,t):Qe.IsVoid(t)?lt.True:lt.False}o(t$e,"FromVoid");function Ao(e,t){return Qe.IsTemplateLiteral(e)||Qe.IsTemplateLiteral(t)?jje(e,t):Qe.IsRegExp(e)||Qe.IsRegExp(t)?Wje(e,t):Qe.IsNot(e)||Qe.IsNot(t)?Rje(e,t):Qe.IsAny(e)?Aje(e,t):Qe.IsArray(e)?Cje(e,t):Qe.IsBigInt(e)?xje(e,t):Qe.IsBoolean(e)?vje(e,t):Qe.IsAsyncIterator(e)?Eje(e,t):Qe.IsConstructor(e)?bje(e,t):Qe.IsDate(e)?Ije(e,t):Qe.IsFunction(e)?Tje(e,t):Qe.IsInteger(e)?wje(e,t):Qe.IsIntersect(e)?_je(e,t):Qe.IsIterator(e)?Sje(e,t):Qe.IsLiteral(e)?Bje(e,t):Qe.IsNever(e)?kje(e,t):Qe.IsNull(e)?Dje(e,t):Qe.IsNumber(e)?Pje(e,t):Qe.IsObject(e)?Uje(e,t):Qe.IsRecord(e)?Gje(e,t):Qe.IsString(e)?Hje(e,t):Qe.IsSymbol(e)?Vje(e,t):Qe.IsTuple(e)?Yje(e,t):Qe.IsPromise(e)?qje(e,t):Qe.IsUint8Array(e)?Kje(e,t):Qe.IsUndefined(e)?Jje(e,t):Qe.IsUnion(e)?Xje(e,t):Qe.IsUnknown(e)?Zje(e,t):Qe.IsVoid(e)?t$e(e,t):sv(`Unknown left type operand '${e[nt]}'`)}o(Ao,"Visit");function F2(e,t){return Ao(e,t)}o(F2,"ExtendsCheck");d();d();d();function r$e(e,t,r,n,i){let s={};for(let a of globalThis.Object.getOwnPropertyNames(e))s[a]=av(e[a],t,r,n,jo(i));return s}o(r$e,"FromProperties");function n$e(e,t,r,n,i){return r$e(e.properties,t,r,n,i)}o(n$e,"FromMappedResult");function Ome(e,t,r,n,i){let s=n$e(e,t,r,n,i);return Fi(s)}o(Ome,"ExtendsFromMappedResult");function i$e(e,t,r,n){let i=F2(e,t);return i===lt.Union?$i([r,n]):i===lt.True?r:n}o(i$e,"ExtendsResolve");function av(e,t,r,n,i){return zo(e)?Ome(e,t,r,n,i):cu(e)?at(Ume(e,t,r,n,i)):at(i$e(e,t,r,n),i)}o(av,"Extends");function o$e(e,t,r,n,i){return{[e]:av(bi(e),t,r,n,jo(i))}}o(o$e,"FromPropertyKey");function s$e(e,t,r,n,i){return e.reduce((s,a)=>({...s,...o$e(a,t,r,n,i)}),{})}o(s$e,"FromPropertyKeys");function a$e(e,t,r,n,i){return s$e(e.keys,t,r,n,i)}o(a$e,"FromMappedKey");function Ume(e,t,r,n,i){let s=a$e(e,t,r,n,i);return Fi(s)}o(Ume,"ExtendsFromMappedKey");d();function l$e(e){return e.allOf.every(t=>Hg(t))}o(l$e,"Intersect");function c$e(e){return e.anyOf.some(t=>Hg(t))}o(c$e,"Union");function u$e(e){return!Hg(e.not)}o(u$e,"Not");function Hg(e){return e[nt]==="Intersect"?l$e(e):e[nt]==="Union"?c$e(e):e[nt]==="Not"?u$e(e):e[nt]==="Undefined"}o(Hg,"ExtendsUndefinedCheck");d();function qme(e,t){return lv(X3(e),t)}o(qme,"ExcludeFromTemplateLiteral");function f$e(e,t){let r=e.filter(n=>F2(n,t)===lt.False);return r.length===1?r[0]:$i(r)}o(f$e,"ExcludeRest");function lv(e,t,r={}){return uu(e)?at(qme(e,t),r):zo(e)?at(Gme(e,t),r):at(ki(e)?f$e(e.anyOf,t):F2(e,t)!==lt.False?Gn():e,r)}o(lv,"Exclude");function d$e(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=lv(e[n],t);return r}o(d$e,"FromProperties");function m$e(e,t){return d$e(e.properties,t)}o(m$e,"FromMappedResult");function Gme(e,t){let r=m$e(e,t);return Fi(r)}o(Gme,"ExcludeFromMappedResult");d();d();d();function Wme(e,t){return cv(X3(e),t)}o(Wme,"ExtractFromTemplateLiteral");function h$e(e,t){let r=e.filter(n=>F2(n,t)!==lt.False);return r.length===1?r[0]:$i(r)}o(h$e,"ExtractRest");function cv(e,t,r){return uu(e)?at(Wme(e,t),r):zo(e)?at(Hme(e,t),r):at(ki(e)?h$e(e.anyOf,t):F2(e,t)!==lt.False?e:Gn(),r)}o(cv,"Extract");function p$e(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=cv(e[n],t);return r}o(p$e,"FromProperties");function g$e(e,t){return p$e(e.properties,t)}o(g$e,"FromMappedResult");function Hme(e,t){let r=g$e(e,t);return Fi(r)}o(Hme,"ExtractFromMappedResult");d();function Vme(e,t){return tm(e)?at(e.returns,t):Gn(t)}o(Vme,"InstanceType");d();d();function LR(e){return hc(o0(e))}o(LR,"ReadonlyOptional");d();function Z3(e,t,r){return at({[nt]:"Record",type:"object",patternProperties:{[e]:t}},r)}o(Z3,"RecordCreateFromPattern");function f$(e,t,r){let n={};for(let i of e)n[i]=t;return zi(n,{...r,[If]:"Record"})}o(f$,"RecordCreateFromKeys");function A$e(e,t,r){return vR(e)?f$(mc(e),t,r):Z3(e.pattern,t,r)}o(A$e,"FromTemplateLiteralKey");function y$e(e,t,r){return f$(mc($i(e)),t,r)}o(y$e,"FromUnionKey");function C$e(e,t,r){return f$([e.toString()],t,r)}o(C$e,"FromLiteralKey");function E$e(e,t,r){return Z3(e.source,t,r)}o(E$e,"FromRegExpKey");function x$e(e,t,r){let n=Xs(e.pattern)?Uh:e.pattern;return Z3(n,t,r)}o(x$e,"FromStringKey");function v$e(e,t,r){return Z3(Uh,t,r)}o(v$e,"FromAnyKey");function b$e(e,t,r){return Z3(eme,t,r)}o(b$e,"FromNeverKey");function I$e(e,t,r){return zi({true:t,false:t},r)}o(I$e,"FromBooleanKey");function T$e(e,t,r){return Z3(Oh,t,r)}o(T$e,"FromIntegerKey");function w$e(e,t,r){return Z3(Oh,t,r)}o(w$e,"FromNumberKey");function QR(e,t,r={}){return ki(e)?y$e(e.anyOf,t,r):uu(e)?A$e(e,t,r):lu(e)?C$e(e.const,t,r):Mg(e)?I$e(e,t,r):nm(e)?T$e(e,t,r):im(e)?w$e(e,t,r):Hj(e)?E$e(e,t,r):Og(e)?x$e(e,t,r):Gj(e)?v$e(e,t,r):R2(e)?b$e(e,t,r):Gn(r)}o(QR,"Record");function MR(e){return globalThis.Object.getOwnPropertyNames(e.patternProperties)[0]}o(MR,"RecordPattern");function jme(e){let t=MR(e);return t===Uh?R0():t===Oh?Tf():R0({pattern:t})}o(jme,"RecordKey");function OR(e){return e.patternProperties[MR(e)]}o(OR,"RecordValue");function _$e(e,t){return t.parameters=u7(e,t.parameters),t.returns=am(e,t.returns),t}o(_$e,"FromConstructor");function S$e(e,t){return t.parameters=u7(e,t.parameters),t.returns=am(e,t.returns),t}o(S$e,"FromFunction");function B$e(e,t){return t.allOf=u7(e,t.allOf),t}o(B$e,"FromIntersect");function k$e(e,t){return t.anyOf=u7(e,t.anyOf),t}o(k$e,"FromUnion");function R$e(e,t){return Xs(t.items)||(t.items=u7(e,t.items)),t}o(R$e,"FromTuple");function D$e(e,t){return t.items=am(e,t.items),t}o(D$e,"FromArray");function P$e(e,t){return t.items=am(e,t.items),t}o(P$e,"FromAsyncIterator");function N$e(e,t){return t.items=am(e,t.items),t}o(N$e,"FromIterator");function F$e(e,t){return t.item=am(e,t.item),t}o(F$e,"FromPromise");function L$e(e,t){let r=U$e(e,t.properties);return{...t,...zi(r)}}o(L$e,"FromObject");function Q$e(e,t){let r=am(e,jme(t)),n=am(e,OR(t)),i=QR(r,n);return{...t,...i}}o(Q$e,"FromRecord");function M$e(e,t){return t.index in e?e[t.index]:sm()}o(M$e,"FromArgument");function O$e(e,t){let r=$x(t),n=dc(t),i=am(e,t);return r&&n?LR(i):r&&!n?hc(i):!r&&n?o0(i):i}o(O$e,"FromProperty");function U$e(e,t){return globalThis.Object.getOwnPropertyNames(t).reduce((r,n)=>({...r,[n]:O$e(e,t[n])}),{})}o(U$e,"FromProperties");function u7(e,t){return t.map(r=>am(e,r))}o(u7,"FromTypes");function am(e,t){return tm(t)?_$e(e,t):rm(t)?S$e(e,t):Ss(t)?B$e(e,t):ki(t)?k$e(e,t):fu(t)?R$e(e,t):Zd(t)?D$e(e,t):j3(t)?P$e(e,t):z3(t)?N$e(e,t):Y3(t)?F$e(e,t):Zs(t)?L$e(e,t):K3(t)?Q$e(e,t):Wj(t)?M$e(e,t):t}o(am,"FromType");function $me(e,t){return am(t,Vx(e))}o($me,"Instantiate");d();function zme(e){return at({[nt]:"Integer",type:"integer"},e)}o(zme,"Integer");d();d();d();function q$e(e,t,r){return{[e]:lm(bi(e),t,jo(r))}}o(q$e,"MappedIntrinsicPropertyKey");function G$e(e,t,r){return e.reduce((i,s)=>({...i,...q$e(s,t,r)}),{})}o(G$e,"MappedIntrinsicPropertyKeys");function W$e(e,t,r){return G$e(e.keys,t,r)}o(W$e,"MappedIntrinsicProperties");function Yme(e,t,r){let n=W$e(e,t,r);return Fi(n)}o(Yme,"IntrinsicFromMappedKey");function H$e(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toLowerCase(),r].join("")}o(H$e,"ApplyUncapitalize");function V$e(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toUpperCase(),r].join("")}o(V$e,"ApplyCapitalize");function j$e(e){return e.toUpperCase()}o(j$e,"ApplyUppercase");function $$e(e){return e.toLowerCase()}o($$e,"ApplyLowercase");function z$e(e,t,r){let n=ev(e.pattern);if(!J3(n))return{...e,pattern:Kme(e.pattern,t)};let a=[...s7(n)].map(u=>bi(u)),l=Jme(a,t),c=$i(l);return IR([c],r)}o(z$e,"FromTemplateLiteral");function Kme(e,t){return typeof e=="string"?t==="Uncapitalize"?H$e(e):t==="Capitalize"?V$e(e):t==="Uppercase"?j$e(e):t==="Lowercase"?$$e(e):e:e.toString()}o(Kme,"FromLiteralValue");function Jme(e,t){return e.map(r=>lm(r,t))}o(Jme,"FromRest");function lm(e,t,r={}){return cu(e)?Yme(e,t,r):uu(e)?z$e(e,t,r):ki(e)?$i(Jme(e.anyOf,t),r):lu(e)?bi(Kme(e.const,t),r):at(e,r)}o(lm,"Intrinsic");function Xme(e,t={}){return lm(e,"Capitalize",t)}o(Xme,"Capitalize");d();function Zme(e,t={}){return lm(e,"Lowercase",t)}o(Zme,"Lowercase");d();function ehe(e,t={}){return lm(e,"Uncapitalize",t)}o(ehe,"Uncapitalize");d();function the(e,t={}){return lm(e,"Uppercase",t)}o(the,"Uppercase");d();d();d();d();d();function Y$e(e,t,r){let n={};for(let i of globalThis.Object.getOwnPropertyNames(e))n[i]=L2(e[i],t,jo(r));return n}o(Y$e,"FromProperties");function K$e(e,t,r){return Y$e(e.properties,t,r)}o(K$e,"FromMappedResult");function rhe(e,t,r){let n=K$e(e,t,r);return Fi(n)}o(rhe,"OmitFromMappedResult");function J$e(e,t){return e.map(r=>d$(r,t))}o(J$e,"FromIntersect");function X$e(e,t){return e.map(r=>d$(r,t))}o(X$e,"FromUnion");function Z$e(e,t){let{[t]:r,...n}=e;return n}o(Z$e,"FromProperty");function eze(e,t){return t.reduce((r,n)=>Z$e(r,n),e)}o(eze,"FromProperties");function tze(e,t){let r=Bs(e,[ms,"$id","required","properties"]),n=eze(e.properties,t);return zi(n,r)}o(tze,"FromObject");function rze(e){let t=e.reduce((r,n)=>CR(n)?[...r,bi(n)]:r,[]);return $i(t)}o(rze,"UnionFromPropertyKeys");function d$(e,t){return Ss(e)?s0(J$e(e.allOf,t)):ki(e)?$i(X$e(e.anyOf,t)):Zs(e)?tze(e,t):zi({})}o(d$,"OmitResolve");function L2(e,t,r){let n=Js(t)?rze(t):t,i=hs(t)?mc(t):t,s=Ls(e),a=Ls(t);return zo(e)?rhe(e,i,r):cu(t)?nhe(e,t,r):s&&a?Po("Omit",[e,n],r):!s&&a?Po("Omit",[e,n],r):s&&!a?Po("Omit",[e,n],r):at({...d$(e,i),...r})}o(L2,"Omit");function nze(e,t,r){return{[t]:L2(e,[t],jo(r))}}o(nze,"FromPropertyKey");function ize(e,t,r){return t.reduce((n,i)=>({...n,...nze(e,i,r)}),{})}o(ize,"FromPropertyKeys");function oze(e,t,r){return ize(e,t.keys,r)}o(oze,"FromMappedKey");function nhe(e,t,r){let n=oze(e,t,r);return Fi(n)}o(nhe,"OmitFromMappedKey");d();d();d();function sze(e,t,r){let n={};for(let i of globalThis.Object.getOwnPropertyNames(e))n[i]=Q2(e[i],t,jo(r));return n}o(sze,"FromProperties");function aze(e,t,r){return sze(e.properties,t,r)}o(aze,"FromMappedResult");function ihe(e,t,r){let n=aze(e,t,r);return Fi(n)}o(ihe,"PickFromMappedResult");function lze(e,t){return e.map(r=>m$(r,t))}o(lze,"FromIntersect");function cze(e,t){return e.map(r=>m$(r,t))}o(cze,"FromUnion");function uze(e,t){let r={};for(let n of t)n in e&&(r[n]=e[n]);return r}o(uze,"FromProperties");function fze(e,t){let r=Bs(e,[ms,"$id","required","properties"]),n=uze(e.properties,t);return zi(n,r)}o(fze,"FromObject");function dze(e){let t=e.reduce((r,n)=>CR(n)?[...r,bi(n)]:r,[]);return $i(t)}o(dze,"UnionFromPropertyKeys");function m$(e,t){return Ss(e)?s0(lze(e.allOf,t)):ki(e)?$i(cze(e.anyOf,t)):Zs(e)?fze(e,t):zi({})}o(m$,"PickResolve");function Q2(e,t,r){let n=Js(t)?dze(t):t,i=hs(t)?mc(t):t,s=Ls(e),a=Ls(t);return zo(e)?ihe(e,i,r):cu(t)?ohe(e,t,r):s&&a?Po("Pick",[e,n],r):!s&&a?Po("Pick",[e,n],r):s&&!a?Po("Pick",[e,n],r):at({...m$(e,i),...r})}o(Q2,"Pick");function mze(e,t,r){return{[t]:Q2(e,[t],jo(r))}}o(mze,"FromPropertyKey");function hze(e,t,r){return t.reduce((n,i)=>({...n,...mze(e,i,r)}),{})}o(hze,"FromPropertyKeys");function pze(e,t,r){return hze(e,t.keys,r)}o(pze,"FromMappedKey");function ohe(e,t,r){let n=pze(e,t,r);return Fi(n)}o(ohe,"PickFromMappedKey");d();d();function gze(e,t){return Po("Partial",[Po(e,t)])}o(gze,"FromComputed");function Aze(e){return Po("Partial",[Sf(e)])}o(Aze,"FromRef");function yze(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=o0(e[r]);return t}o(yze,"FromProperties");function Cze(e){let t=Bs(e,[ms,"$id","required","properties"]),r=yze(e.properties);return zi(r,t)}o(Cze,"FromObject");function she(e){return e.map(t=>ahe(t))}o(she,"FromRest");function ahe(e){return em(e)?gze(e.target,e.parameters):Ls(e)?Aze(e.$ref):Ss(e)?s0(she(e.allOf)):ki(e)?$i(she(e.anyOf)):Zs(e)?Cze(e):$3(e)||Mg(e)||nm(e)||lu(e)||Z9(e)||im(e)||Og(e)||e7(e)||Ug(e)?e:zi({})}o(ahe,"PartialResolve");function uv(e,t){return zo(e)?lhe(e,t):at({...ahe(e),...t})}o(uv,"Partial");function Eze(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=uv(e[n],jo(t));return r}o(Eze,"FromProperties");function xze(e,t){return Eze(e.properties,t)}o(xze,"FromMappedResult");function lhe(e,t){let r=xze(e,t);return Fi(r)}o(lhe,"PartialFromMappedResult");d();d();function vze(e,t){return Po("Required",[Po(e,t)])}o(vze,"FromComputed");function bze(e){return Po("Required",[Sf(e)])}o(bze,"FromRef");function Ize(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=Bs(e[r],[Fl]);return t}o(Ize,"FromProperties");function Tze(e){let t=Bs(e,[ms,"$id","required","properties"]),r=Ize(e.properties);return zi(r,t)}o(Tze,"FromObject");function che(e){return e.map(t=>uhe(t))}o(che,"FromRest");function uhe(e){return em(e)?vze(e.target,e.parameters):Ls(e)?bze(e.$ref):Ss(e)?s0(che(e.allOf)):ki(e)?$i(che(e.anyOf)):Zs(e)?Tze(e):$3(e)||Mg(e)||nm(e)||lu(e)||Z9(e)||im(e)||Og(e)||e7(e)||Ug(e)?e:zi({})}o(uhe,"RequiredResolve");function fv(e,t){return zo(e)?fhe(e,t):at({...uhe(e),...t})}o(fv,"Required");function wze(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=fv(e[n],t);return r}o(wze,"FromProperties");function _ze(e,t){return wze(e.properties,t)}o(_ze,"FromMappedResult");function fhe(e,t){let r=_ze(e,t);return Fi(r)}o(fhe,"RequiredFromMappedResult");function Sze(e,t){return t.map(r=>Ls(r)?h$(e,r.$ref):du(e,r))}o(Sze,"DereferenceParameters");function h$(e,t){return t in e?Ls(e[t])?h$(e,e[t].$ref):du(e,e[t]):Gn()}o(h$,"Dereference");function Bze(e){return iv(e[0])}o(Bze,"FromAwaited");function kze(e){return N2(e[0],e[1])}o(kze,"FromIndex");function Rze(e){return ov(e[0])}o(Rze,"FromKeyOf");function Dze(e){return uv(e[0])}o(Dze,"FromPartial");function Pze(e){return L2(e[0],e[1])}o(Pze,"FromOmit");function Nze(e){return Q2(e[0],e[1])}o(Nze,"FromPick");function Fze(e){return fv(e[0])}o(Fze,"FromRequired");function Lze(e,t,r){let n=Sze(e,r);return t==="Awaited"?Bze(n):t==="Index"?kze(n):t==="KeyOf"?Rze(n):t==="Partial"?Dze(n):t==="Omit"?Pze(n):t==="Pick"?Nze(n):t==="Required"?Fze(n):Gn()}o(Lze,"FromComputed");function Qze(e,t){return Kx(du(e,t))}o(Qze,"FromArray");function Mze(e,t){return Jx(du(e,t))}o(Mze,"FromAsyncIterator");function Oze(e,t,r){return Xx(f7(e,t),du(e,r))}o(Oze,"FromConstructor");function Uze(e,t,r){return qh(f7(e,t),du(e,r))}o(Uze,"FromFunction");function qze(e,t){return s0(f7(e,t))}o(qze,"FromIntersect");function Gze(e,t){return nv(du(e,t))}o(Gze,"FromIterator");function Wze(e,t){return zi(globalThis.Object.keys(t).reduce((r,n)=>({...r,[n]:du(e,t[n])}),{}))}o(Wze,"FromObject");function Hze(e,t){let[r,n]=[du(e,OR(t)),MR(t)],i=Vx(t);return i.patternProperties[n]=r,i}o(Hze,"FromRecord");function Vze(e,t){return Ls(t)?{...h$(e,t.$ref),[ms]:t[ms]}:t}o(Vze,"FromTransform");function jze(e,t){return wf(f7(e,t))}o(jze,"FromTuple");function $ze(e,t){return $i(f7(e,t))}o($ze,"FromUnion");function f7(e,t){return t.map(r=>du(e,r))}o(f7,"FromTypes");function du(e,t){return dc(t)?at(du(e,Bs(t,[Fl])),t):$x(t)?at(du(e,Bs(t,[Xd])),t):ji(t)?at(Vze(e,t),t):Zd(t)?at(Qze(e,t.items),t):j3(t)?at(Mze(e,t.items),t):em(t)?at(Lze(e,t.target,t.parameters)):tm(t)?at(Oze(e,t.parameters,t.returns),t):rm(t)?at(Uze(e,t.parameters,t.returns),t):Ss(t)?at(qze(e,t.allOf),t):z3(t)?at(Gze(e,t.items),t):Zs(t)?at(Wze(e,t.properties),t):K3(t)?at(Hze(e,t)):fu(t)?at(jze(e,t.items||[]),t):ki(t)?at($ze(e,t.anyOf),t):t}o(du,"FromType");function zze(e,t){return t in e?du(e,e[t]):Gn()}o(zze,"ComputeType");function dhe(e){return globalThis.Object.getOwnPropertyNames(e).reduce((t,r)=>({...t,[r]:zze(e,r)}),{})}o(dhe,"ComputeModuleProperties");var p$=class{static{o(this,"TModule")}constructor(t){let r=dhe(t),n=this.WithIdentifiers(r);this.$defs=n}Import(t,r){let n={...this.$defs,[t]:at(this.$defs[t],r)};return at({[nt]:"Import",$defs:n,$ref:t})}WithIdentifiers(t){return globalThis.Object.getOwnPropertyNames(t).reduce((r,n)=>({...r,[n]:{...t[n],$id:n}}),{})}};function mhe(e){return new p$(e)}o(mhe,"Module");d();function hhe(e,t){return at({[nt]:"Not",not:e},t)}o(hhe,"Not");d();function phe(e,t){return rm(e)?wf(e.parameters,t):Gn()}o(phe,"Parameters");d();var Yze=0;function ghe(e,t={}){Xs(t.$id)&&(t.$id=`T${Yze++}`);let r=Vx(e({[nt]:"This",$ref:`${t.$id}`}));return r.$id=t.$id,at({[If]:"Recursive",...r},t)}o(ghe,"Recursive");d();function Ahe(e,t){let r=To(e)?new globalThis.RegExp(e):e;return at({[nt]:"RegExp",type:"RegExp",source:r.source,flags:r.flags},t)}o(Ahe,"RegExp");d();function Kze(e){return Ss(e)?e.allOf:ki(e)?e.anyOf:fu(e)?e.items??[]:[]}o(Kze,"RestResolve");function yhe(e){return Kze(e)}o(yhe,"Rest");d();function Che(e,t){return rm(e)?at(e.returns,t):Gn(t)}o(Che,"ReturnType");d();var g$=class{static{o(this,"TransformDecodeBuilder")}constructor(t){this.schema=t}Decode(t){return new A$(this.schema,t)}},A$=class{static{o(this,"TransformEncodeBuilder")}constructor(t,r){this.schema=t,this.decode=r}EncodeTransform(t,r){let s={Encode:o(a=>r[ms].Encode(t(a)),"Encode"),Decode:o(a=>this.decode(r[ms].Decode(a)),"Decode")};return{...r,[ms]:s}}EncodeSchema(t,r){let n={Decode:this.decode,Encode:t};return{...r,[ms]:n}}Encode(t){return ji(this.schema)?this.EncodeTransform(t,this.schema):this.EncodeSchema(t,this.schema)}};function Ehe(e){return new g$(e)}o(Ehe,"Transform");d();function xhe(e={}){return at({[nt]:e[nt]??"Unsafe"},e)}o(xhe,"Unsafe");d();function vhe(e){return at({[nt]:"Void",type:"void"},e)}o(vhe,"Void");d();var y$={};Fh(y$,{Any:()=>P2,Argument:()=>ome,Array:()=>Kx,AsyncIterator:()=>Jx,Awaited:()=>iv,BigInt:()=>rv,Boolean:()=>bR,Capitalize:()=>Xme,Composite:()=>Ime,Const:()=>Tme,Constructor:()=>Xx,ConstructorParameters:()=>wme,Date:()=>SR,Enum:()=>_me,Exclude:()=>lv,Extends:()=>av,Extract:()=>cv,Function:()=>qh,Index:()=>N2,InstanceType:()=>Vme,Instantiate:()=>$me,Integer:()=>zme,Intersect:()=>s0,Iterator:()=>nv,KeyOf:()=>ov,Literal:()=>bi,Lowercase:()=>Zme,Mapped:()=>yme,Module:()=>mhe,Never:()=>Gn,Not:()=>hhe,Null:()=>BR,Number:()=>Tf,Object:()=>zi,Omit:()=>L2,Optional:()=>o0,Parameters:()=>phe,Partial:()=>uv,Pick:()=>Q2,Promise:()=>wR,Readonly:()=>hc,ReadonlyOptional:()=>LR,Record:()=>QR,Recursive:()=>ghe,Ref:()=>Sf,RegExp:()=>Ahe,Required:()=>fv,Rest:()=>yhe,ReturnType:()=>Che,String:()=>R0,Symbol:()=>kR,TemplateLiteral:()=>IR,Transform:()=>Ehe,Tuple:()=>wf,Uint8Array:()=>DR,Uncapitalize:()=>ehe,Undefined:()=>RR,Union:()=>$i,Unknown:()=>sm,Unsafe:()=>xhe,Uppercase:()=>the,Void:()=>vhe});d();var T=y$;var X1e=ft(Ii()),Z1e=T.Object({accessToken:T.Optional(T.String({minLength:1})),handle:T.Optional(T.String({minLength:1})),githubAppId:T.Optional(T.String({minLength:1}))}),jz;(r=>(r.method="github/didChangeAuth",r.type=new X1e.ProtocolNotificationType(r.method)))(jz||={});d();var eAe=ft(Ii()),$z;(r=>(r.method="copilot/ipCodeCitation",r.type=new eAe.NotificationType(r.method)))($z||={});d();var tAe=ft(Ii()),wD;(r=>(r.method="context/update",r.type=new tAe.ProtocolRequestType(r.method)))(wD||={});d();d();var $2="Cancelled";d();var si=ft(Ii()),x7=T.String(),eKe=T.Object({uri:x7}),oC=T.Intersect([eKe,T.Object({version:T.Optional(T.Integer())})]),QXt=T.Required(oC),Pf=T.Object({line:T.Integer({minimum:0}),character:T.Integer({minimum:0})}),fm=T.Object({start:Pf,end:Pf}),zz=T.Union([T.Integer(),T.String()]),MXt=T.Object({isCancellationRequested:T.Boolean(),onCancellationRequested:T.Any()});d();var rAe=ft(Ii()),Yz;(r=>(r.method="textDocument/didFocus",r.type=new rAe.ProtocolNotificationType(r.method)))(Yz||={});d();var tKe=T.Object({fetch:T.Boolean(),ipCodeCitation:T.Boolean(),redirectedTelemetry:T.Boolean(),related:T.Boolean(),token:T.Boolean(),watchedFiles:T.Boolean()}),rKe=T.Object({name:T.String(),version:T.String(),readableName:T.Optional(T.String())}),nAe=T.Object({name:T.String(),version:T.Optional(T.String()),readableName:T.Optional(T.String())}),iAe=T.Object({editorInfo:T.Optional(nAe),editorPluginInfo:T.Optional(nAe),relatedPluginInfo:T.Optional(T.Array(rKe)),copilotIntegrationId:T.Optional(T.String()),copilotCapabilities:T.Optional(T.Partial(tKe)),githubAppId:T.Optional(T.String())});d();var v7=ft(Ii());var _D=(r=>(r[r.Invoked=1]="Invoked",r[r.Automatic=2]="Automatic",r))(_D||{}),nKe=T.Enum(_D),iKe=T.Object({triggerKind:nKe,selectedCompletionInfo:T.Optional(T.Object({text:T.String(),range:fm,tooltipSignature:T.Optional(T.String())}))}),oAe=T.Object({textDocument:oC,position:Pf,formattingOptions:T.Optional(T.Object({tabSize:T.Optional(T.Union([T.Integer({minimum:1}),T.String()])),insertSpaces:T.Optional(T.Union([T.Boolean(),T.String()]))})),context:iKe,data:T.Optional(T.Unknown())}),Kz;(r=>(r.method="textDocument/inlineCompletion",r.type=new v7.ProtocolRequestType(r.method)))(Kz||={});var sAe=T.Object({command:T.Object({arguments:T.Tuple([T.String({minLength:1})])})}),aAe=T.Object({item:sAe}),Jz;(r=>(r.method="textDocument/didShowCompletion",r.type=new v7.ProtocolNotificationType(r.method)))(Jz||={});var lAe=T.Object({item:sAe,acceptedLength:T.Integer({minimum:1})}),Xz;(r=>(r.method="textDocument/didPartiallyAcceptCompletion",r.type=new v7.ProtocolNotificationType(r.method)))(Xz||={});d();var cAe=ft(Ii()),Zz;(r=>(r.method="textDocument/inlineCompletionPrompt",r.type=new cAe.ProtocolRequestType(r.method)))(Zz||={});d();var uAe=T.Object({textDocument:oC,position:Pf});d();var SD=ft(Ii());var fAe=T.Object({textDocument:oC,position:Pf,partialResultToken:T.Optional(zz),workDoneToken:T.Optional(zz)}),BD;(n=>(n.method="textDocument/copilotPanelCompletion",n.type=new SD.ProtocolRequestType(n.method),n.partialResult=new SD.ProgressType))(BD||={});d();var dAe=ft(Ii()),eY;(r=>(r.method="copilot/related",r.type=new dAe.ProtocolRequestType(r.method)))(eY||={});d();var mAe=ft(Ii()),tY;(r=>(r.method="statusNotification",r.type=new mAe.ProtocolNotificationType(r.method)))(tY||={});var hAe=ft(require("events"));var kD="CopilotToken",jh=class{static{o(this,"CopilotTokenNotifier")}#e=new hAe.default;#t;constructor(){this.#e.setMaxListeners(20)}emitToken(t){if(t.token!==this.#t?.token)return this.#t=t,this.#e.emit(kD,t)}onToken(t){return this.#e.on(kD,t),si.Disposable.create(()=>this.#e.off(kD,t))}};function Ha(e,t){let r=pu(e,t,`event.${kD}`);return e.get(jh).onToken(r)}o(Ha,"onCopilotToken");function b7(e,t){return e.get(jh).emitToken(t)}o(b7,"emitCopilotToken");var Ql=class{static{o(this,"TelemetryUserConfig")}constructor(t,r,n,i){this.trackingId=r,this.optedIn=n??!1,this.ftFlag=i??"",this.setupUpdateOnToken(t)}setupUpdateOnToken(t){Ha(t,r=>{let n=r.getTokenValue("rt")==="1",i=r.getTokenValue("ft")??"",s=r.getTokenValue("tid"),a=r.organization_list,l=r.enterprise_list,c=r.getTokenValue("sku");s!==void 0&&(this.trackingId=s,this.organizationsList=a?.toString(),this.enterpriseList=l?.toString(),this.sku=c,this.optedIn=n,this.ftFlag=i)})}};var RD=ft(T2()),DD=ft(require("os"));var oKe=/^(\s+at)?(.*?)(@|\s\(|\s)([^(\n]+?)(:\d+)?(:\d+)?(\)?)$/;function sKe(e){let t={type:e.name,value:e.message},r=e.stack?.replace(/^.*?:\d+\n.*\n *\^?\n\n/,"");if(r?.startsWith(e.toString()+`
`)){t.stacktrace=[];for(let n of r.slice(e.toString().length+1).split(/\n/).reverse()){let i=n.match(oKe),s={filename:"",function:""};i&&(s.function=i[2]?.trim()?.replace(/^[^.]{1,2}(\.|$)/,"_$1")??s.function,s.filename=(i[4]?.trim()??s.filename).replace(/^\.\/dist\//,"/github-copilot/dist/"),i[5]&&i[5]!==":0"&&(s.lineno=i[5].slice(1)),i[6]&&i[5]!==":0"&&(s.colno=i[6].slice(1)),s.in_app=!/[[<:]|(?:^|\/)node_modules\//.test(s.filename)),t.stacktrace.push(s)}}return t}o(sKe,"buildExceptionDetail");function rY(e,t){let r=e.get(an),n=r.getEditorInfo(),i=e.get(Ql),s={"#editor":n.devName??n.name,"#editor_version":$h({name:n.devName??n.name,version:n.version}),"#plugin":r.getEditorPluginInfo().name,"#plugin_version":$h(r.getEditorPluginInfo()),"#session_id":e.get(ds).sessionId,"#machine_id":e.get(ds).machineId,"#architecture":DD.arch(),"#os_platform":DD.platform(),...t};return i.trackingId&&(s.user=i.trackingId,s["#tracking_id"]=i.trackingId),s}o(rY,"buildContext");function pAe(e,t){let r=e.get(io),n=e.get(an).getEditorInfo(),i={app:"copilot-client",rollup_id:"auto",platform:"node",release:r.getBuildType()!=="dev"?`copilot-client@${r.getVersion()}`:void 0,deployed_to:r.getBuildType(),catalog_service:n.name==="vscode"?"CopilotCompletionsVSCode":"CopilotLanguageServer",context:rY(e,{"#node_version":process.versions.node}),sensitive_context:{}},s=[];i.exception_detail=[];let a=0,l=t;for(;l instanceof Error&&a<10;){let u=sKe(l);i.exception_detail.unshift(u),s.unshift([l,u]),a+=1,l=l.cause}let c=[];for(let[u,f]of s)if(f.stacktrace&&f.stacktrace.length>0){c.push(`${f.type}: ${u.code??""}`);let m=[...f.stacktrace].reverse();for(let h of m)if(h.filename?.startsWith("/github-copilot/"))return i;for(let h of m)if(h.in_app){c.push(`${h.filename?.replace(/^\.\//,"")}:${h.lineno}:${h.colno}`);break}c.push(`${m[0].filename?.replace(/^\.\//,"")}`)}else return i;return i.exception_detail.length>0&&(i.rollup_id=(0,RD.SHA256)(RD.enc.Utf16.parse(c.join(`
`))).toString()),i}o(pAe,"buildPayload");d();var zh=class{constructor(t=5){this.perTenMinutes=t;this.cache=new kn}static{o(this,"ExceptionRateLimiter")}isThrottled(t){let r=Date.now(),n=this.cache.get(t)||new Array(this.perTenMinutes).fill(0);return r-n[0]<6e5?!0:(n.push(r),n.shift(),this.cache.set(t,n),!1)}};d();var Nf=class e{constructor(t){this.flags=t}static{o(this,"RuntimeMode")}static fromEnvironment(t,r=process.argv,n=process.env){return new e({debug:yAe(r,n),verboseLogging:lKe(r,n),testMode:t,simulation:aKe(n)})}};function dm(e){return e.get(Nf).flags.testMode}o(dm,"isRunningInTest");function Rv(e){return dm(e)}o(Rv,"shouldFailForDebugPurposes");function sC(e){return e.get(Nf).flags.debug}o(sC,"isDebugEnabled");function AAe(e){return e.get(Nf).flags.verboseLogging}o(AAe,"isVerboseLoggingEnabled");function yAe(e,t){return e.includes("--debug")||nY(t,"DEBUG")}o(yAe,"determineDebugFlag");function aKe(e){return nY(e,"SIMULATION")}o(aKe,"determineSimulationFlag");function ND(e){return e.get(Nf).flags.simulation}o(ND,"isRunningInSimulation");function lKe(e,t){return t.COPILOT_AGENT_VERBOSE==="1"||t.COPILOT_AGENT_VERBOSE?.toLowerCase()==="true"||nY(t,"VERBOSE")||yAe(e,t)}o(lKe,"determineVerboseLoggingEnabled");function nY(e,t){for(let r of["GH_COPILOT_","GITHUB_COPILOT_"]){let n=e[`${r}${t}`];if(n)return n==="1"||n?.toLowerCase()==="true"}return!1}o(nY,"determineEnvFlagEnabled");d();d();d();var aC={};Fh(aC,{from:()=>cKe,parse:()=>FD});d();d();var CAe;(()=>{"use strict";var e={975:G=>{function q(H){if(typeof H!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(H))}o(q,"e");function se(H,O){for(var j,J="",le=0,Z=-1,ae=0,ce=0;ce<=H.length;++ce){if(ce<H.length)j=H.charCodeAt(ce);else{if(j===47)break;j=47}if(j===47){if(!(Z===ce-1||ae===1))if(Z!==ce-1&&ae===2){if(J.length<2||le!==2||J.charCodeAt(J.length-1)!==46||J.charCodeAt(J.length-2)!==46){if(J.length>2){var Re=J.lastIndexOf("/");if(Re!==J.length-1){Re===-1?(J="",le=0):le=(J=J.slice(0,Re)).length-1-J.lastIndexOf("/"),Z=ce,ae=0;continue}}else if(J.length===2||J.length===1){J="",le=0,Z=ce,ae=0;continue}}O&&(J.length>0?J+="/..":J="..",le=2)}else J.length>0?J+="/"+H.slice(Z+1,ce):J=H.slice(Z+1,ce),le=ce-Z-1;Z=ce,ae=0}else j===46&&ae!==-1?++ae:ae=-1}return J}o(se,"r");var ne={resolve:o(function(){for(var H,O="",j=!1,J=arguments.length-1;J>=-1&&!j;J--){var le;J>=0?le=arguments[J]:(H===void 0&&(H=process.cwd()),le=H),q(le),le.length!==0&&(O=le+"/"+O,j=le.charCodeAt(0)===47)}return O=se(O,!j),j?O.length>0?"/"+O:"/":O.length>0?O:"."},"resolve"),normalize:o(function(H){if(q(H),H.length===0)return".";var O=H.charCodeAt(0)===47,j=H.charCodeAt(H.length-1)===47;return(H=se(H,!O)).length!==0||O||(H="."),H.length>0&&j&&(H+="/"),O?"/"+H:H},"normalize"),isAbsolute:o(function(H){return q(H),H.length>0&&H.charCodeAt(0)===47},"isAbsolute"),join:o(function(){if(arguments.length===0)return".";for(var H,O=0;O<arguments.length;++O){var j=arguments[O];q(j),j.length>0&&(H===void 0?H=j:H+="/"+j)}return H===void 0?".":ne.normalize(H)},"join"),relative:o(function(H,O){if(q(H),q(O),H===O||(H=ne.resolve(H))===(O=ne.resolve(O)))return"";for(var j=1;j<H.length&&H.charCodeAt(j)===47;++j);for(var J=H.length,le=J-j,Z=1;Z<O.length&&O.charCodeAt(Z)===47;++Z);for(var ae=O.length-Z,ce=le<ae?le:ae,Re=-1,be=0;be<=ce;++be){if(be===ce){if(ae>ce){if(O.charCodeAt(Z+be)===47)return O.slice(Z+be+1);if(be===0)return O.slice(Z+be)}else le>ce&&(H.charCodeAt(j+be)===47?Re=be:be===0&&(Re=0));break}var Ue=H.charCodeAt(j+be);if(Ue!==O.charCodeAt(Z+be))break;Ue===47&&(Re=be)}var Be="";for(be=j+Re+1;be<=J;++be)be!==J&&H.charCodeAt(be)!==47||(Be.length===0?Be+="..":Be+="/..");return Be.length>0?Be+O.slice(Z+Re):(Z+=Re,O.charCodeAt(Z)===47&&++Z,O.slice(Z))},"relative"),_makeLong:o(function(H){return H},"_makeLong"),dirname:o(function(H){if(q(H),H.length===0)return".";for(var O=H.charCodeAt(0),j=O===47,J=-1,le=!0,Z=H.length-1;Z>=1;--Z)if((O=H.charCodeAt(Z))===47){if(!le){J=Z;break}}else le=!1;return J===-1?j?"/":".":j&&J===1?"//":H.slice(0,J)},"dirname"),basename:o(function(H,O){if(O!==void 0&&typeof O!="string")throw new TypeError('"ext" argument must be a string');q(H);var j,J=0,le=-1,Z=!0;if(O!==void 0&&O.length>0&&O.length<=H.length){if(O.length===H.length&&O===H)return"";var ae=O.length-1,ce=-1;for(j=H.length-1;j>=0;--j){var Re=H.charCodeAt(j);if(Re===47){if(!Z){J=j+1;break}}else ce===-1&&(Z=!1,ce=j+1),ae>=0&&(Re===O.charCodeAt(ae)?--ae==-1&&(le=j):(ae=-1,le=ce))}return J===le?le=ce:le===-1&&(le=H.length),H.slice(J,le)}for(j=H.length-1;j>=0;--j)if(H.charCodeAt(j)===47){if(!Z){J=j+1;break}}else le===-1&&(Z=!1,le=j+1);return le===-1?"":H.slice(J,le)},"basename"),extname:o(function(H){q(H);for(var O=-1,j=0,J=-1,le=!0,Z=0,ae=H.length-1;ae>=0;--ae){var ce=H.charCodeAt(ae);if(ce!==47)J===-1&&(le=!1,J=ae+1),ce===46?O===-1?O=ae:Z!==1&&(Z=1):O!==-1&&(Z=-1);else if(!le){j=ae+1;break}}return O===-1||J===-1||Z===0||Z===1&&O===J-1&&O===j+1?"":H.slice(O,J)},"extname"),format:o(function(H){if(H===null||typeof H!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof H);return function(O,j){var J=j.dir||j.root,le=j.base||(j.name||"")+(j.ext||"");return J?J===j.root?J+le:J+"/"+le:le}(0,H)},"format"),parse:o(function(H){q(H);var O={root:"",dir:"",base:"",ext:"",name:""};if(H.length===0)return O;var j,J=H.charCodeAt(0),le=J===47;le?(O.root="/",j=1):j=0;for(var Z=-1,ae=0,ce=-1,Re=!0,be=H.length-1,Ue=0;be>=j;--be)if((J=H.charCodeAt(be))!==47)ce===-1&&(Re=!1,ce=be+1),J===46?Z===-1?Z=be:Ue!==1&&(Ue=1):Z!==-1&&(Ue=-1);else if(!Re){ae=be+1;break}return Z===-1||ce===-1||Ue===0||Ue===1&&Z===ce-1&&Z===ae+1?ce!==-1&&(O.base=O.name=ae===0&&le?H.slice(1,ce):H.slice(ae,ce)):(ae===0&&le?(O.name=H.slice(1,Z),O.base=H.slice(1,ce)):(O.name=H.slice(ae,Z),O.base=H.slice(ae,ce)),O.ext=H.slice(Z,ce)),ae>0?O.dir=H.slice(0,ae-1):le&&(O.dir="/"),O},"parse"),sep:"/",delimiter:":",win32:null,posix:null};ne.posix=ne,G.exports=ne}},t={};function r(G){var q=t[G];if(q!==void 0)return q.exports;var se=t[G]={exports:{}};return e[G](se,se.exports,r),se.exports}o(r,"r"),r.d=(G,q)=>{for(var se in q)r.o(q,se)&&!r.o(G,se)&&Object.defineProperty(G,se,{enumerable:!0,get:q[se]})},r.o=(G,q)=>Object.prototype.hasOwnProperty.call(G,q),r.r=G=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(G,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(G,"__esModule",{value:!0})};var n={};let i;r.r(n),r.d(n,{URI:o(()=>h,"URI"),Utils:o(()=>te,"Utils")}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);let s=/^\w[\w\d+.-]*$/,a=/^\//,l=/^\/\//;function c(G,q){if(!G.scheme&&q)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${G.authority}", path: "${G.path}", query: "${G.query}", fragment: "${G.fragment}"}`);if(G.scheme&&!s.test(G.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(G.path){if(G.authority){if(!a.test(G.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(l.test(G.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}o(c,"a");let u="",f="/",m=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class h{static{o(this,"l")}static isUri(q){return q instanceof h||!!q&&typeof q.authority=="string"&&typeof q.fragment=="string"&&typeof q.path=="string"&&typeof q.query=="string"&&typeof q.scheme=="string"&&typeof q.fsPath=="string"&&typeof q.with=="function"&&typeof q.toString=="function"}scheme;authority;path;query;fragment;constructor(q,se,ne,H,O,j=!1){typeof q=="object"?(this.scheme=q.scheme||u,this.authority=q.authority||u,this.path=q.path||u,this.query=q.query||u,this.fragment=q.fragment||u):(this.scheme=function(J,le){return J||le?J:"file"}(q,j),this.authority=se||u,this.path=function(J,le){switch(J){case"https":case"http":case"file":le?le[0]!==f&&(le=f+le):le=f}return le}(this.scheme,ne||u),this.query=H||u,this.fragment=O||u,c(this,j))}get fsPath(){return v(this,!1)}with(q){if(!q)return this;let{scheme:se,authority:ne,path:H,query:O,fragment:j}=q;return se===void 0?se=this.scheme:se===null&&(se=u),ne===void 0?ne=this.authority:ne===null&&(ne=u),H===void 0?H=this.path:H===null&&(H=u),O===void 0?O=this.query:O===null&&(O=u),j===void 0?j=this.fragment:j===null&&(j=u),se===this.scheme&&ne===this.authority&&H===this.path&&O===this.query&&j===this.fragment?this:new A(se,ne,H,O,j)}static parse(q,se=!1){let ne=m.exec(q);return ne?new A(ne[2]||u,N(ne[4]||u),N(ne[5]||u),N(ne[7]||u),N(ne[9]||u),se):new A(u,u,u,u,u)}static file(q){let se=u;if(i&&(q=q.replace(/\\/g,f)),q[0]===f&&q[1]===f){let ne=q.indexOf(f,2);ne===-1?(se=q.substring(2),q=f):(se=q.substring(2,ne),q=q.substring(ne)||f)}return new A("file",se,q,u,u)}static from(q){let se=new A(q.scheme,q.authority,q.path,q.query,q.fragment);return c(se,!0),se}toString(q=!1){return S(this,q)}toJSON(){return this}static revive(q){if(q){if(q instanceof h)return q;{let se=new A(q);return se._formatted=q.external,se._fsPath=q._sep===p?q.fsPath:null,se}}return q}}let p=i?1:void 0;class A extends h{static{o(this,"d")}_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=v(this,!1)),this._fsPath}toString(q=!1){return q?S(this,!0):(this._formatted||(this._formatted=S(this,!1)),this._formatted)}toJSON(){let q={$mid:1};return this._fsPath&&(q.fsPath=this._fsPath,q._sep=p),this._formatted&&(q.external=this._formatted),this.path&&(q.path=this.path),this.scheme&&(q.scheme=this.scheme),this.authority&&(q.authority=this.authority),this.query&&(q.query=this.query),this.fragment&&(q.fragment=this.fragment),q}}let E={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function x(G,q,se){let ne,H=-1;for(let O=0;O<G.length;O++){let j=G.charCodeAt(O);if(j>=97&&j<=122||j>=65&&j<=90||j>=48&&j<=57||j===45||j===46||j===95||j===126||q&&j===47||se&&j===91||se&&j===93||se&&j===58)H!==-1&&(ne+=encodeURIComponent(G.substring(H,O)),H=-1),ne!==void 0&&(ne+=G.charAt(O));else{ne===void 0&&(ne=G.substr(0,O));let J=E[j];J!==void 0?(H!==-1&&(ne+=encodeURIComponent(G.substring(H,O)),H=-1),ne+=J):H===-1&&(H=O)}}return H!==-1&&(ne+=encodeURIComponent(G.substring(H))),ne!==void 0?ne:G}o(x,"m");function b(G){let q;for(let se=0;se<G.length;se++){let ne=G.charCodeAt(se);ne===35||ne===63?(q===void 0&&(q=G.substr(0,se)),q+=E[ne]):q!==void 0&&(q+=G[se])}return q!==void 0?q:G}o(b,"y");function v(G,q){let se;return se=G.authority&&G.path.length>1&&G.scheme==="file"?`//${G.authority}${G.path}`:G.path.charCodeAt(0)===47&&(G.path.charCodeAt(1)>=65&&G.path.charCodeAt(1)<=90||G.path.charCodeAt(1)>=97&&G.path.charCodeAt(1)<=122)&&G.path.charCodeAt(2)===58?q?G.path.substr(1):G.path[1].toLowerCase()+G.path.substr(2):G.path,i&&(se=se.replace(/\//g,"\\")),se}o(v,"v");function S(G,q){let se=q?b:x,ne="",{scheme:H,authority:O,path:j,query:J,fragment:le}=G;if(H&&(ne+=H,ne+=":"),(O||H==="file")&&(ne+=f,ne+=f),O){let Z=O.indexOf("@");if(Z!==-1){let ae=O.substr(0,Z);O=O.substr(Z+1),Z=ae.lastIndexOf(":"),Z===-1?ne+=se(ae,!1,!1):(ne+=se(ae.substr(0,Z),!1,!1),ne+=":",ne+=se(ae.substr(Z+1),!1,!0)),ne+="@"}O=O.toLowerCase(),Z=O.lastIndexOf(":"),Z===-1?ne+=se(O,!1,!0):(ne+=se(O.substr(0,Z),!1,!0),ne+=O.substr(Z))}if(j){if(j.length>=3&&j.charCodeAt(0)===47&&j.charCodeAt(2)===58){let Z=j.charCodeAt(1);Z>=65&&Z<=90&&(j=`/${String.fromCharCode(Z+32)}:${j.substr(3)}`)}else if(j.length>=2&&j.charCodeAt(1)===58){let Z=j.charCodeAt(0);Z>=65&&Z<=90&&(j=`${String.fromCharCode(Z+32)}:${j.substr(2)}`)}ne+=se(j,!0,!1)}return J&&(ne+="?",ne+=se(J,!1,!1)),le&&(ne+="#",ne+=q?le:x(le,!1,!1)),ne}o(S,"b");function k(G){try{return decodeURIComponent(G)}catch{return G.length>3?G.substr(0,3)+k(G.substr(3)):G}}o(k,"C");let P=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function N(G){return G.match(P)?G.replace(P,q=>k(q)):G}o(N,"w");var W=r(975);let re=W.posix||W,ge="/";var te;(function(G){G.joinPath=function(q,...se){return q.with({path:re.join(q.path,...se)})},G.resolvePath=function(q,...se){let ne=q.path,H=!1;ne[0]!==ge&&(ne=ge+ne,H=!0);let O=re.resolve(ne,...se);return H&&O[0]===ge&&!q.authority&&(O=O.substring(1)),q.with({path:O})},G.dirname=function(q){if(q.path.length===0||q.path===ge)return q;let se=re.dirname(q.path);return se.length===1&&se.charCodeAt(0)===46&&(se=""),q.with({path:se})},G.basename=function(q){return re.basename(q.path)},G.extname=function(q){return re.extname(q.path)}})(te||(te={})),CAe=n})();var{URI:z2,Utils:I7}=CAe;function FD(e,t=!0){if(t&&/^[[:alnum:]]:\\/.test(e))throw new Error(`Could not parse <${e}>: Windows-style path`);try{let r=e.match(/^(?:([^:/?#]+?:)?\/\/)(\/\/.*)$/);return r?z2.parse(r[1]+r[2],t):z2.parse(e,t)}catch(r){let n=new Error(`Could not parse <${e}>`);throw n.cause=r,n}}o(FD,"parse");function cKe(e){return z2.from(e)}o(cKe,"from");var xAe=require("os"),LD=require("path");function vAe(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substring(0,3)+vAe(e.substring(3)):e}}o(vAe,"decodeURIComponentGraceful");var EAe=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function iY(e){return e.match(EAe)?e.replace(EAe,t=>vAe(t)):e}o(iY,"percentDecode");function Ff(e){if(/^[A-Za-z][A-Za-z0-9+.-]+:/.test(e))throw new Error("Path must not contain a scheme");if(!e)throw new Error("Path must not be empty");return z2.file(e).toString()}o(Ff,"makeFsUri");function Dv(e){return FD(e)}o(Dv,"parseUri");function mm(e){try{return FD(e,!1).toString()}catch{return e}}o(mm,"normalizeUri");function QD(e){return bAe(e.toString().split(":")[0])}o(QD,"isSupportedUriScheme");function bAe(e){return["file","notebook","vscode-notebook","vscode-notebook-cell"].includes(e)}o(bAe,"isFsScheme");function al(e){try{typeof e=="string"&&(e=Dv(e))}catch{return}if(bAe(e.scheme))if((0,xAe.platform)()==="win32"){let t=e.path;return e.authority?t=`//${e.authority}${e.path}`:/^\/[A-Za-z]:/.test(t)&&(t=t.substring(1)),(0,LD.normalize)(t)}else return e.authority?void 0:e.path}o(al,"getFsPath");function IAe(e){let t=al(e);if(t)return z2.file(t).toString()}o(IAe,"getFsUri");function lC(e,...t){let r=typeof e=="string"?Dv(e):e,n,i=al(r);return i?n=z2.file((0,LD.resolve)(i,...t)):n=I7.resolvePath(r,...t.map(s=>TAe(s))),typeof e=="string"?n.toString():n}o(lC,"resolveFilePath");function Jo(e,...t){let r=typeof e=="string"?Dv(e):e,n=I7.joinPath(r,...t.map(TAe));return typeof e=="string"?n.toString():n}o(Jo,"joinPath");function TAe(e){return uKe(e)?e.replaceAll("\\","/"):e}o(TAe,"pathToURIPath");function uKe(e){return/^[^/\\]*\\/.test(e)}o(uKe,"isWinPath");function ea(e){return iY(e.toString().replace(/[#?].*$/,"").replace(/\/$/,"").replace(/^.*[/:]/,""))}o(ea,"basename");function gu(e){let t=typeof e=="string"?Dv(e):e,r;return["notebook","vscode-notebook","vscode-notebook-cell"].includes(t.scheme)?r=I7.dirname(t).with({scheme:"file",fragment:""}):r=I7.dirname(t),typeof e=="string"?r.toString():r}o(gu,"dirname");var Rn=class{static{o(this,"NetworkConfiguration")}},MD={api:"https://api.githubcopilot.com",proxy:"https://copilot-proxy.githubusercontent.com",telemetry:"https://copilot-telemetry.githubusercontent.com","origin-tracker":"https://origin-tracker.githubusercontent.com"};function oY(e,t,r){if(r&&dm(e)){for(let n of r){let i=ai(e,n);if(i)return i}return}for(let n of t){let i=ai(e,n);if(i)return i}}o(oY,"urlConfigOverride");function fKe(e,t){switch(t){case"api":return oY(e,[qt.DebugOverrideCapiUrl,qt.DebugOverrideCapiUrlLegacy],[qt.DebugTestOverrideCapiUrl,qt.DebugTestOverrideCapiUrlLegacy]);case"proxy":return oY(e,[qt.DebugOverrideProxyUrl,qt.DebugOverrideProxyUrlLegacy],[qt.DebugTestOverrideProxyUrl,qt.DebugTestOverrideProxyUrlLegacy]);case"origin-tracker":if(!OD(e))return oY(e,[qt.DebugSnippyOverrideUrl])}}o(fKe,"getEndpointOverrideUrl");function Pv(e,t,r,...n){let i=fKe(e,r)??(t.envelope.endpoints??MD)[r];return Jo(i,...n)}o(Pv,"getEndpointUrl");d();d();d();var cC=(i=>(i[i.DEBUG=4]="DEBUG",i[i.INFO=3]="INFO",i[i.WARN=2]="WARN",i[i.ERROR=1]="ERROR",i))(cC||{}),va=class{static{o(this,"LogTarget")}},Yh=class{static{o(this,"TelemetryLogSender")}},Er=class{constructor(t){this.category=t}static{o(this,"Logger")}log(t,r,...n){t.get(va).logIt(t,r,this.category,...n)}debug(t,...r){this.log(t,4,...r)}info(t,...r){this.log(t,3,...r)}warn(t,...r){this.log(t,2,...r)}error(t,...r){t.get(Yh).sendError(t,this.category,...r),this.errorWithoutTelemetry(t,...r)}errorWithoutTelemetry(t,...r){this.log(t,1,...r)}exception(t,r,n){if(r instanceof Error&&r.name==="Canceled"&&r.message==="Canceled")return;let i=n;n.startsWith(".")&&(i=n.substring(1),n=`${this.category}${n}`),t.get(Yh).sendException(t,r,n);let s=r instanceof Error?r:new Error(`Non-error thrown: ${String(r)}`);this.log(t,1,`${i}:`,s)}},ei=new Er("default");var kAe=ft(_Ae()),RAe=ft(BAe()),Au=ft(require("os"));var Nv=class{constructor(t,r,n,i=!1){this.ctx=t;this.namespace=r;this.includeAuthorizationHeader=i;this.onCopilotToken=o(t=>{this.token=t;let r=t.getTokenValue("tid");r!==void 0&&(this.tags["ai.user.id"]=r)},"onCopilotToken");this.xhrOverride={sendPOST:o((t,r)=>{if(typeof t.data!="string")throw new Error(`AppInsightsReporter only supports string payloads, received ${typeof t.data}`);let n=t.headers??{};n["Content-Type"]="application/json",this.includeAuthorizationHeader&&this.token&&(n.Authorization=`Bearer ${this.token.token}`);let i={method:"POST",headers:n,body:t.data};this.ctx.get(Nr).fetch(t.urlString,i).then(s=>s.text().then(a=>{r(s.status,Object.fromEntries(s.headers),a)})).catch(s=>{ei.errorWithoutTelemetry(this.ctx,"Error sending telemetry",s),r(0,{})})},"sendPOST")};this.client=new RAe.ApplicationInsights({instrumentationKey:n,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0,endpointUrl:t.get(Rn).getTelemetryUrl(),extensionConfig:{[kAe.BreezeChannelIdentifier]:{alwaysUseXhrOverride:!0,httpXHROverride:this.xhrOverride}}}),this.tags=dKe(t),this.commonProperties=mKe(t),this.#e=Ha(t,this.onCopilotToken)}static{o(this,"AppInsightsReporter")}#e;sendTelemetryEvent(t,r,n){r={...r,...this.commonProperties};let i=this.qualifyEventName(t);this.client.track({name:i,tags:this.tags,data:{...r,...n},baseType:"EventData",baseData:{name:i,properties:r,measurements:n}})}sendTelemetryErrorEvent(t,r,n){this.sendTelemetryEvent(this.qualifyEventName(t),r,n)}async dispose(){this.#e.dispose(),await this.client.unload(!0,void 0,200)}qualifyEventName(t){return t.startsWith(this.namespace)?t:`${this.namespace}/${t}`}};function dKe(e){let t={},r=e.get(ds);t["ai.session.id"]=r.sessionId;let n=e.get(Ql);return n.trackingId&&(t["ai.user.id"]=n.trackingId),t["ai.cloud.roleInstance"]="REDACTED",t["ai.device.osVersion"]=`${Au.type()} ${Au.release()}`,t["ai.device.osArchitecture"]=Au.arch(),t["ai.device.osPlatform"]=Au.platform(),t["ai.cloud.role"]="Web",t["ai.application.ver"]=e.get(io).getVersion(),t}o(dKe,"getTags");function mKe(e){let t={};t.common_os=Au.platform(),t.common_platformversion=Au.release(),t.common_arch=Au.arch(),t.common_cpu=Array.from(new Set(Au.cpus().map(n=>n.model))).join();let r=e.get(ds);return t.common_vscodemachineid=r.machineId,t.common_vscodesessionid=r.sessionId,t.common_uikind=r.uiKind,t.common_remotename=r.remoteName,t.common_isnewappinstall="",t}o(mKe,"getCommonProperties");var DAe="7d7048df-6dd0-4048-bb23-b716c1461f8f",PAe="3fdd7f28-937a-48c8-9a21-ba337db23bd1",hKe="f0000000-0000-0000-0000-000000000000",yu=class{constructor(){this._initialized=!1}static{o(this,"TelemetryInitialization")}get isInitialized(){return this._initialized}get isEnabled(){return this._enabled??!1}async initialize(t,r,n){let i=t.get(gs).deactivate();if(this._namespace=r,this._enabled=n,this._initialized=!0,n){let s=t.get(gs);s.setReporter(new Nv(t,r,DAe)),s.setRestrictedReporter(new Nv(t,r,PAe)),s.setFTReporter(new Nv(t,r,hKe,!0))}await i}reInitialize(t){return this._initialized?this.initialize(t,this._namespace,this._enabled):Promise.reject(new Error("Cannot re-initialize telemetry that has not been initialized."))}};function Y2(e,t,r){return e.get(yu).initialize(e,t,r)}o(Y2,"setupTelemetryReporters");d();var GD=ft(require("assert"));var $g=class{constructor(){this.events=[];this.errors=[]}static{o(this,"TelemetrySpy")}sendTelemetryEvent(t,r={},n={}){this.events.push({name:t,properties:r,measurements:n})}sendTelemetryErrorEvent(t,r={},n={},i){this.errors.push({name:t,properties:r,measurements:n,errorProps:i})}sendTelemetryException(t,r={},n={}){this.events.push({name:"error.exception",properties:{message:t.message,...r},measurements:n})}dispose(){return Promise.resolve()}get hasEvent(){return this.events.length>0}get hasError(){return this.errors.length>0}get exceptions(){return this.events.filter(t=>t.name==="error.exception")}get hasException(){return this.exceptions.length>0}get firstEvent(){return this.events[0]}get firstError(){return this.errors[0]}get firstException(){return this.exceptions[0]}eventsMatching(t){return this.events.filter(t)}eventByName(t){let r=this.events.filter(n=>n.name===t);return GD.strictEqual(r.length,1,`Expected exactly one event with name ${t}`),r[0]}errorsMatching(t){return this.errors.filter(t)}exceptionsMatching(t){return this.exceptions.filter(t)}assertHasProperty(t){GD.ok(this.eventsMatching(r=>r.name!=="ghostText.produced").every(r=>t(r.properties)))}};d();var yo=class{constructor(){this.promises=new Set}static{o(this,"PromiseQueue")}register(t){this.promises.add(t),t.finally(()=>this.promises.delete(t))}async flush(){await Promise.allSettled(this.promises)}};var Fv=class extends yo{static{o(this,"TestPromiseQueue")}async awaitPromises(){await Promise.all(this.promises)}};var T7=class{static{o(this,"FailingTelemetryReporter")}sendTelemetryEvent(t,r,n){throw new Error("Telemetry disabled")}sendTelemetryErrorEvent(t,r,n,i){throw new Error("Telemetry disabled")}dispose(){return Promise.resolve()}hackOptOutListener(){}};d();var LAe=require("os"),QAe=ft(require("path"));function w7(e){return e.replace(/(file:\/\/)([^\s<>]+)/gi,"$1[redacted]").replace(/(^|[\s|:=(<'"`])((?:\/(?=[^/])|\\|[a-zA-Z]:[\\/])[^\s:)>'"`]+)/g,"$1[redacted]")}o(w7,"redactPaths");var pKe=new Set(["Maximum call stack size exceeded","Set maximum size exceeded","Invalid arguments"]),gKe=[/^[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}.]+ is not a function[ \w]*$/u,/^Cannot read properties of undefined \(reading '[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}]+'\)$/u];function aY(e){if(pKe.has(e))return e;for(let t of gKe)if(t.test(e))return e;return w7(e).replace(/\bDNS:(?:\*\.)?[\w.-]+/gi,"DNS:[redacted]")}o(aY,"redactMessage");function WD(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(WD,"escapeForRegExp");var AKe=new RegExp("(?<=^|[\\s|(\"'`]|file://)"+WD((0,LAe.homedir)())+"(?=$|[\\\\/:\"'`])","gi");function sY(e){return e.replace(AKe,"~")}o(sY,"redactHomeDir");var MAe="[\\\\/]?([^:)]*)(?=:\\d)",NAe=new RegExp(WD(QAe.sep),"g"),FAe=new RegExp(WD(__dirname.replace(/[\\/]lib[\\/]src[\\/]util$|[\\/]dist$/,""))+MAe,"gi");function lY(e,t,r=!1,n=[]){let i=new Error(t(e));i.name=e.name,typeof e.syscall=="string"&&(i.syscall=e.syscall),typeof e.code=="string"&&(i.code=e.code),typeof e.errno=="number"&&(i.errno=e.errno),i.stack=void 0;let s=e.stack?.replace(/^.*?:\d+\n.*\n *\^?\n\n/,""),a;for(let l of[e.toString(),`${e.name}: ${e.message}`])if(s?.startsWith(l+`
`)){a=s.slice(l.length+1).split(/\n/);break}if(a){i.stack=i.toString();for(let l of a)if(FAe.test(l))i.stack+=`
${w7(l.replace(FAe,(c,u)=>"./"+u.replace(NAe,"/")))}`;else if(/[ (]node:|[ (]wasm:\/\/wasm\/| \(<anonymous>\)$/.test(l))i.stack+=`
${w7(l)}`;else{let c=!1;for(let{prefix:u,path:f}of n){let m=new RegExp(WD(f.replace(/[\\/]$/,""))+MAe,"gi");if(m.test(l)){i.stack+=`
${w7(l.replace(m,(h,p)=>u+p.replace(NAe,"/")))}`,c=!0;break}}if(c)continue;r?i.stack+=`
${sY(l)}`:i.stack+=`
    at [redacted]:0:0`}}else r&&s&&(i.stack=sY(s));return e.cause instanceof Error&&(i.cause=lY(e.cause,t,r,n)),i}o(lY,"cloneError");function OAe(e){let t=e.message;return typeof e.path=="string"&&e.path.length>0&&(t=t.replaceAll(e.path,"<path>")),t}o(OAe,"errorMessageWithoutPath");function UAe(e,t){return lY(e,o(function(n){return sY(OAe(n))},"prepareMessage"),!0,t)}o(UAe,"prepareErrorForRestrictedTelemetry");function cY(e,t,r=!1){return lY(e,o(function(i){if(r)return aY(OAe(i));let s="[redacted]";return typeof i.code=="string"&&(s=i.code+" "+s),typeof i.syscall=="string"?s=w7(i.syscall)+" "+s:i instanceof $9&&i.erroredSysCall&&(s=i.erroredSysCall+" "+s),s},"prepareMessage"),!1,t)}o(cY,"redactError");d();d();function yKe(e){switch(e.errorType){case tt.ArrayContains:return"Expected array to contain at least one matching value";case tt.ArrayMaxContains:return`Expected array to contain no more than ${e.schema.maxContains} matching values`;case tt.ArrayMinContains:return`Expected array to contain at least ${e.schema.minContains} matching values`;case tt.ArrayMaxItems:return`Expected array length to be less or equal to ${e.schema.maxItems}`;case tt.ArrayMinItems:return`Expected array length to be greater or equal to ${e.schema.minItems}`;case tt.ArrayUniqueItems:return"Expected array elements to be unique";case tt.Array:return"Expected array";case tt.AsyncIterator:return"Expected AsyncIterator";case tt.BigIntExclusiveMaximum:return`Expected bigint to be less than ${e.schema.exclusiveMaximum}`;case tt.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${e.schema.exclusiveMinimum}`;case tt.BigIntMaximum:return`Expected bigint to be less or equal to ${e.schema.maximum}`;case tt.BigIntMinimum:return`Expected bigint to be greater or equal to ${e.schema.minimum}`;case tt.BigIntMultipleOf:return`Expected bigint to be a multiple of ${e.schema.multipleOf}`;case tt.BigInt:return"Expected bigint";case tt.Boolean:return"Expected boolean";case tt.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${e.schema.exclusiveMinimumTimestamp}`;case tt.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${e.schema.exclusiveMaximumTimestamp}`;case tt.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${e.schema.minimumTimestamp}`;case tt.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${e.schema.maximumTimestamp}`;case tt.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${e.schema.multipleOfTimestamp}`;case tt.Date:return"Expected Date";case tt.Function:return"Expected function";case tt.IntegerExclusiveMaximum:return`Expected integer to be less than ${e.schema.exclusiveMaximum}`;case tt.IntegerExclusiveMinimum:return`Expected integer to be greater than ${e.schema.exclusiveMinimum}`;case tt.IntegerMaximum:return`Expected integer to be less or equal to ${e.schema.maximum}`;case tt.IntegerMinimum:return`Expected integer to be greater or equal to ${e.schema.minimum}`;case tt.IntegerMultipleOf:return`Expected integer to be a multiple of ${e.schema.multipleOf}`;case tt.Integer:return"Expected integer";case tt.IntersectUnevaluatedProperties:return"Unexpected property";case tt.Intersect:return"Expected all values to match";case tt.Iterator:return"Expected Iterator";case tt.Literal:return`Expected ${typeof e.schema.const=="string"?`'${e.schema.const}'`:e.schema.const}`;case tt.Never:return"Never";case tt.Not:return"Value should not match";case tt.Null:return"Expected null";case tt.NumberExclusiveMaximum:return`Expected number to be less than ${e.schema.exclusiveMaximum}`;case tt.NumberExclusiveMinimum:return`Expected number to be greater than ${e.schema.exclusiveMinimum}`;case tt.NumberMaximum:return`Expected number to be less or equal to ${e.schema.maximum}`;case tt.NumberMinimum:return`Expected number to be greater or equal to ${e.schema.minimum}`;case tt.NumberMultipleOf:return`Expected number to be a multiple of ${e.schema.multipleOf}`;case tt.Number:return"Expected number";case tt.Object:return"Expected object";case tt.ObjectAdditionalProperties:return"Unexpected property";case tt.ObjectMaxProperties:return`Expected object to have no more than ${e.schema.maxProperties} properties`;case tt.ObjectMinProperties:return`Expected object to have at least ${e.schema.minProperties} properties`;case tt.ObjectRequiredProperty:return"Expected required property";case tt.Promise:return"Expected Promise";case tt.RegExp:return"Expected string to match regular expression";case tt.StringFormatUnknown:return`Unknown format '${e.schema.format}'`;case tt.StringFormat:return`Expected string to match '${e.schema.format}' format`;case tt.StringMaxLength:return`Expected string length less or equal to ${e.schema.maxLength}`;case tt.StringMinLength:return`Expected string length greater or equal to ${e.schema.minLength}`;case tt.StringPattern:return`Expected string to match '${e.schema.pattern}'`;case tt.String:return"Expected string";case tt.Symbol:return"Expected symbol";case tt.TupleLength:return`Expected tuple to have ${e.schema.maxItems||0} elements`;case tt.Tuple:return"Expected tuple";case tt.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${e.schema.maxByteLength}`;case tt.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${e.schema.minByteLength}`;case tt.Uint8Array:return"Expected Uint8Array";case tt.Undefined:return"Expected undefined";case tt.Union:return"Expected union value";case tt.Void:return"Expected void";case tt.Kind:return`Expected kind '${e.schema[nt]}'`;default:return"Unknown error type"}}o(yKe,"DefaultErrorFunction");var CKe=yKe;function qAe(){return CKe}o(qAe,"GetErrorFunction");d();var uY=class extends fn{static{o(this,"TypeDereferenceError")}constructor(t){super(`Unable to dereference schema with $id '${t.$ref}'`),this.schema=t}};function EKe(e,t){let r=t.find(n=>n.$id===e.$ref);if(r===void 0)throw new uY(e);return Li(r,t)}o(EKe,"Resolve");function ll(e,t){return!Bi(e.$id)||t.some(r=>r.$id===e.$id)||t.push(e),t}o(ll,"Pushref");function Li(e,t){return e[nt]==="This"||e[nt]==="Ref"?EKe(e,t):e}o(Li,"Deref");d();var fY=class extends fn{static{o(this,"ValueHashError")}constructor(t){super("Unable to hash value"),this.value=t}},Cu;(function(e){e[e.Undefined=0]="Undefined",e[e.Null=1]="Null",e[e.Boolean=2]="Boolean",e[e.Number=3]="Number",e[e.String=4]="String",e[e.Object=5]="Object",e[e.Array=6]="Array",e[e.Date=7]="Date",e[e.Uint8Array=8]="Uint8Array",e[e.Symbol=9]="Symbol",e[e.BigInt=10]="BigInt"})(Cu||(Cu={}));var Lv=BigInt("14695981039346656037"),[xKe,vKe]=[BigInt("1099511628211"),BigInt("18446744073709551616")],bKe=Array.from({length:256}).map((e,t)=>BigInt(t)),GAe=new Float64Array(1),WAe=new DataView(GAe.buffer),HAe=new Uint8Array(GAe.buffer);function*IKe(e){let t=e===0?1:Math.ceil(Math.floor(Math.log2(e)+1)/8);for(let r=0;r<t;r++)yield e>>8*(t-1-r)&255}o(IKe,"NumberToBytes");function TKe(e){f0(Cu.Array);for(let t of e)Qv(t)}o(TKe,"ArrayType");function wKe(e){f0(Cu.Boolean),f0(e?1:0)}o(wKe,"BooleanType");function _Ke(e){f0(Cu.BigInt),WAe.setBigInt64(0,e);for(let t of HAe)f0(t)}o(_Ke,"BigIntType");function SKe(e){f0(Cu.Date),Qv(e.getTime())}o(SKe,"DateType");function BKe(e){f0(Cu.Null)}o(BKe,"NullType");function kKe(e){f0(Cu.Number),WAe.setFloat64(0,e);for(let t of HAe)f0(t)}o(kKe,"NumberType");function RKe(e){f0(Cu.Object);for(let t of globalThis.Object.getOwnPropertyNames(e).sort())Qv(t),Qv(e[t])}o(RKe,"ObjectType");function DKe(e){f0(Cu.String);for(let t=0;t<e.length;t++)for(let r of IKe(e.charCodeAt(t)))f0(r)}o(DKe,"StringType");function PKe(e){f0(Cu.Symbol),Qv(e.description)}o(PKe,"SymbolType");function NKe(e){f0(Cu.Uint8Array);for(let t=0;t<e.length;t++)f0(e[t])}o(NKe,"Uint8ArrayType");function FKe(e){return f0(Cu.Undefined)}o(FKe,"UndefinedType");function Qv(e){if(un(e))return TKe(e);if(Mh(e))return wKe(e);if(Nl(e))return _Ke(e);if(B0(e))return SKe(e);if(Lg(e))return BKe(e);if(Vr(e))return kKe(e);if(Kn(e))return RKe(e);if(Bi(e))return DKe(e);if(Qg(e))return PKe(e);if(jx(e))return NKe(e);if($o(e))return FKe(e);throw new fY(e)}o(Qv,"Visit");function f0(e){Lv=Lv^bKe[e],Lv=Lv*xKe%vKe}o(f0,"FNV1A64");function K2(e){return Lv=BigInt("14695981039346656037"),Qv(e),Lv}o(K2,"Hash");d();var dY=class extends fn{static{o(this,"ValueCheckUnknownTypeError")}constructor(t){super("Unknown type"),this.schema=t}};function LKe(e){return e[nt]==="Any"||e[nt]==="Unknown"}o(LKe,"IsAnyOrUnknown");function hi(e){return e!==void 0}o(hi,"IsDefined");function QKe(e,t,r){return!0}o(QKe,"FromAny");function MKe(e,t,r){return!0}o(MKe,"FromArgument");function OKe(e,t,r){if(!un(r)||hi(e.minItems)&&!(r.length>=e.minItems)||hi(e.maxItems)&&!(r.length<=e.maxItems)||!r.every(s=>cl(e.items,t,s))||e.uniqueItems===!0&&!function(){let s=new Set;for(let a of r){let l=K2(a);if(s.has(l))return!1;s.add(l)}return!0}())return!1;if(!(hi(e.contains)||Vr(e.minContains)||Vr(e.maxContains)))return!0;let n=hi(e.contains)?e.contains:Gn(),i=r.reduce((s,a)=>cl(n,t,a)?s+1:s,0);return!(i===0||Vr(e.minContains)&&i<e.minContains||Vr(e.maxContains)&&i>e.maxContains)}o(OKe,"FromArray");function UKe(e,t,r){return pR(r)}o(UKe,"FromAsyncIterator");function qKe(e,t,r){return!(!Nl(r)||hi(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||hi(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||hi(e.maximum)&&!(r<=e.maximum)||hi(e.minimum)&&!(r>=e.minimum)||hi(e.multipleOf)&&r%e.multipleOf!==BigInt(0))}o(qKe,"FromBigInt");function GKe(e,t,r){return Mh(r)}o(GKe,"FromBoolean");function WKe(e,t,r){return cl(e.returns,t,r.prototype)}o(WKe,"FromConstructor");function HKe(e,t,r){return!(!B0(r)||hi(e.exclusiveMaximumTimestamp)&&!(r.getTime()<e.exclusiveMaximumTimestamp)||hi(e.exclusiveMinimumTimestamp)&&!(r.getTime()>e.exclusiveMinimumTimestamp)||hi(e.maximumTimestamp)&&!(r.getTime()<=e.maximumTimestamp)||hi(e.minimumTimestamp)&&!(r.getTime()>=e.minimumTimestamp)||hi(e.multipleOfTimestamp)&&r.getTime()%e.multipleOfTimestamp!==0)}o(HKe,"FromDate");function VKe(e,t,r){return k2(r)}o(VKe,"FromFunction");function jKe(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return cl(i,[...t,...n],r)}o(jKe,"FromImport");function $Ke(e,t,r){return!(!yR(r)||hi(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||hi(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||hi(e.maximum)&&!(r<=e.maximum)||hi(e.minimum)&&!(r>=e.minimum)||hi(e.multipleOf)&&r%e.multipleOf!==0)}o($Ke,"FromInteger");function zKe(e,t,r){let n=e.allOf.every(i=>cl(i,t,r));if(e.unevaluatedProperties===!1){let i=new RegExp(Wg(e)),s=Object.getOwnPropertyNames(r).every(a=>i.test(a));return n&&s}else if(hs(e.unevaluatedProperties)){let i=new RegExp(Wg(e)),s=Object.getOwnPropertyNames(r).every(a=>i.test(a)||cl(e.unevaluatedProperties,t,r[a]));return n&&s}else return n}o(zKe,"FromIntersect");function YKe(e,t,r){return gR(r)}o(YKe,"FromIterator");function KKe(e,t,r){return r===e.const}o(KKe,"FromLiteral");function JKe(e,t,r){return!1}o(JKe,"FromNever");function XKe(e,t,r){return!cl(e.not,t,r)}o(XKe,"FromNot");function ZKe(e,t,r){return Lg(r)}o(ZKe,"FromNull");function eJe(e,t,r){return!(!Do.IsNumberLike(r)||hi(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||hi(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||hi(e.minimum)&&!(r>=e.minimum)||hi(e.maximum)&&!(r<=e.maximum)||hi(e.multipleOf)&&r%e.multipleOf!==0)}o(eJe,"FromNumber");function tJe(e,t,r){if(!Do.IsObjectLike(r)||hi(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||hi(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let n=Object.getOwnPropertyNames(e.properties);for(let i of n){let s=e.properties[i];if(e.required&&e.required.includes(i)){if(!cl(s,t,r[i])||(Hg(s)||LKe(s))&&!(i in r))return!1}else if(Do.IsExactOptionalProperty(r,i)&&!cl(s,t,r[i]))return!1}if(e.additionalProperties===!1){let i=Object.getOwnPropertyNames(r);return e.required&&e.required.length===n.length&&i.length===n.length?!0:i.every(s=>n.includes(s))}else return typeof e.additionalProperties=="object"?Object.getOwnPropertyNames(r).every(s=>n.includes(s)||cl(e.additionalProperties,t,r[s])):!0}o(tJe,"FromObject");function rJe(e,t,r){return AR(r)}o(rJe,"FromPromise");function nJe(e,t,r){if(!Do.IsRecordLike(r)||hi(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||hi(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let[n,i]=Object.entries(e.patternProperties)[0],s=new RegExp(n),a=Object.entries(r).every(([u,f])=>s.test(u)?cl(i,t,f):!0),l=typeof e.additionalProperties=="object"?Object.entries(r).every(([u,f])=>s.test(u)?!0:cl(e.additionalProperties,t,f)):!0,c=e.additionalProperties===!1?Object.getOwnPropertyNames(r).every(u=>s.test(u)):!0;return a&&l&&c}o(nJe,"FromRecord");function iJe(e,t,r){return cl(Li(e,t),t,r)}o(iJe,"FromRef");function oJe(e,t,r){let n=new RegExp(e.source,e.flags);return hi(e.minLength)&&!(r.length>=e.minLength)||hi(e.maxLength)&&!(r.length<=e.maxLength)?!1:n.test(r)}o(oJe,"FromRegExp");function sJe(e,t,r){return!Bi(r)||hi(e.minLength)&&!(r.length>=e.minLength)||hi(e.maxLength)&&!(r.length<=e.maxLength)||hi(e.pattern)&&!new RegExp(e.pattern).test(r)?!1:hi(e.format)?om.Has(e.format)?om.Get(e.format)(r):!1:!0}o(sJe,"FromString");function aJe(e,t,r){return Qg(r)}o(aJe,"FromSymbol");function lJe(e,t,r){return Bi(r)&&new RegExp(e.pattern).test(r)}o(lJe,"FromTemplateLiteral");function cJe(e,t,r){return cl(Li(e,t),t,r)}o(cJe,"FromThis");function uJe(e,t,r){if(!un(r)||e.items===void 0&&r.length!==0||r.length!==e.maxItems)return!1;if(!e.items)return!0;for(let n=0;n<e.items.length;n++)if(!cl(e.items[n],t,r[n]))return!1;return!0}o(uJe,"FromTuple");function fJe(e,t,r){return $o(r)}o(fJe,"FromUndefined");function dJe(e,t,r){return e.anyOf.some(n=>cl(n,t,r))}o(dJe,"FromUnion");function mJe(e,t,r){return!(!jx(r)||hi(e.maxByteLength)&&!(r.length<=e.maxByteLength)||hi(e.minByteLength)&&!(r.length>=e.minByteLength))}o(mJe,"FromUint8Array");function hJe(e,t,r){return!0}o(hJe,"FromUnknown");function pJe(e,t,r){return Do.IsVoidLike(r)}o(pJe,"FromVoid");function gJe(e,t,r){return k0.Has(e[nt])?k0.Get(e[nt])(e,r):!1}o(gJe,"FromKind");function cl(e,t,r){let n=hi(e.$id)?ll(e,t):t,i=e;switch(i[nt]){case"Any":return QKe(i,n,r);case"Argument":return MKe(i,n,r);case"Array":return OKe(i,n,r);case"AsyncIterator":return UKe(i,n,r);case"BigInt":return qKe(i,n,r);case"Boolean":return GKe(i,n,r);case"Constructor":return WKe(i,n,r);case"Date":return HKe(i,n,r);case"Function":return VKe(i,n,r);case"Import":return jKe(i,n,r);case"Integer":return $Ke(i,n,r);case"Intersect":return zKe(i,n,r);case"Iterator":return YKe(i,n,r);case"Literal":return KKe(i,n,r);case"Never":return JKe(i,n,r);case"Not":return XKe(i,n,r);case"Null":return ZKe(i,n,r);case"Number":return eJe(i,n,r);case"Object":return tJe(i,n,r);case"Promise":return rJe(i,n,r);case"Record":return nJe(i,n,r);case"Ref":return iJe(i,n,r);case"RegExp":return oJe(i,n,r);case"String":return sJe(i,n,r);case"Symbol":return aJe(i,n,r);case"TemplateLiteral":return lJe(i,n,r);case"This":return cJe(i,n,r);case"Tuple":return uJe(i,n,r);case"Undefined":return fJe(i,n,r);case"Union":return dJe(i,n,r);case"Uint8Array":return mJe(i,n,r);case"Unknown":return hJe(i,n,r);case"Void":return pJe(i,n,r);default:if(!k0.Has(i[nt]))throw new dY(i);return gJe(i,n,r)}}o(cl,"Visit");function ti(...e){return e.length===3?cl(e[0],e[1],e[2]):cl(e[0],[],e[1])}o(ti,"Check");var tt;(function(e){e[e.ArrayContains=0]="ArrayContains",e[e.ArrayMaxContains=1]="ArrayMaxContains",e[e.ArrayMaxItems=2]="ArrayMaxItems",e[e.ArrayMinContains=3]="ArrayMinContains",e[e.ArrayMinItems=4]="ArrayMinItems",e[e.ArrayUniqueItems=5]="ArrayUniqueItems",e[e.Array=6]="Array",e[e.AsyncIterator=7]="AsyncIterator",e[e.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",e[e.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",e[e.BigIntMaximum=10]="BigIntMaximum",e[e.BigIntMinimum=11]="BigIntMinimum",e[e.BigIntMultipleOf=12]="BigIntMultipleOf",e[e.BigInt=13]="BigInt",e[e.Boolean=14]="Boolean",e[e.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",e[e.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",e[e.DateMaximumTimestamp=17]="DateMaximumTimestamp",e[e.DateMinimumTimestamp=18]="DateMinimumTimestamp",e[e.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",e[e.Date=20]="Date",e[e.Function=21]="Function",e[e.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",e[e.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",e[e.IntegerMaximum=24]="IntegerMaximum",e[e.IntegerMinimum=25]="IntegerMinimum",e[e.IntegerMultipleOf=26]="IntegerMultipleOf",e[e.Integer=27]="Integer",e[e.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",e[e.Intersect=29]="Intersect",e[e.Iterator=30]="Iterator",e[e.Kind=31]="Kind",e[e.Literal=32]="Literal",e[e.Never=33]="Never",e[e.Not=34]="Not",e[e.Null=35]="Null",e[e.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",e[e.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",e[e.NumberMaximum=38]="NumberMaximum",e[e.NumberMinimum=39]="NumberMinimum",e[e.NumberMultipleOf=40]="NumberMultipleOf",e[e.Number=41]="Number",e[e.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",e[e.ObjectMaxProperties=43]="ObjectMaxProperties",e[e.ObjectMinProperties=44]="ObjectMinProperties",e[e.ObjectRequiredProperty=45]="ObjectRequiredProperty",e[e.Object=46]="Object",e[e.Promise=47]="Promise",e[e.RegExp=48]="RegExp",e[e.StringFormatUnknown=49]="StringFormatUnknown",e[e.StringFormat=50]="StringFormat",e[e.StringMaxLength=51]="StringMaxLength",e[e.StringMinLength=52]="StringMinLength",e[e.StringPattern=53]="StringPattern",e[e.String=54]="String",e[e.Symbol=55]="Symbol",e[e.TupleLength=56]="TupleLength",e[e.Tuple=57]="Tuple",e[e.Uint8ArrayMaxByteLength=58]="Uint8ArrayMaxByteLength",e[e.Uint8ArrayMinByteLength=59]="Uint8ArrayMinByteLength",e[e.Uint8Array=60]="Uint8Array",e[e.Undefined=61]="Undefined",e[e.Union=62]="Union",e[e.Void=63]="Void"})(tt||(tt={}));var mY=class extends fn{static{o(this,"ValueErrorsUnknownTypeError")}constructor(t){super("Unknown type"),this.schema=t}};function zg(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}o(zg,"EscapeKey");function pi(e){return e!==void 0}o(pi,"IsDefined");var J2=class{static{o(this,"ValueErrorIterator")}constructor(t){this.iterator=t}[Symbol.iterator](){return this.iterator}First(){let t=this.iterator.next();return t.done?void 0:t.value}};function gr(e,t,r,n,i=[]){return{type:e,schema:t,path:r,value:n,message:qAe()({errorType:e,path:r,schema:t,value:n,errors:i}),errors:i}}o(gr,"Create");function*AJe(e,t,r,n){}o(AJe,"FromAny");function*yJe(e,t,r,n){}o(yJe,"FromArgument");function*CJe(e,t,r,n){if(!un(n))return yield gr(tt.Array,e,r,n);pi(e.minItems)&&!(n.length>=e.minItems)&&(yield gr(tt.ArrayMinItems,e,r,n)),pi(e.maxItems)&&!(n.length<=e.maxItems)&&(yield gr(tt.ArrayMaxItems,e,r,n));for(let a=0;a<n.length;a++)yield*ul(e.items,t,`${r}/${a}`,n[a]);if(e.uniqueItems===!0&&!function(){let a=new Set;for(let l of n){let c=K2(l);if(a.has(c))return!1;a.add(c)}return!0}()&&(yield gr(tt.ArrayUniqueItems,e,r,n)),!(pi(e.contains)||pi(e.minContains)||pi(e.maxContains)))return;let i=pi(e.contains)?e.contains:Gn(),s=n.reduce((a,l,c)=>ul(i,t,`${r}${c}`,l).next().done===!0?a+1:a,0);s===0&&(yield gr(tt.ArrayContains,e,r,n)),Vr(e.minContains)&&s<e.minContains&&(yield gr(tt.ArrayMinContains,e,r,n)),Vr(e.maxContains)&&s>e.maxContains&&(yield gr(tt.ArrayMaxContains,e,r,n))}o(CJe,"FromArray");function*EJe(e,t,r,n){pR(n)||(yield gr(tt.AsyncIterator,e,r,n))}o(EJe,"FromAsyncIterator");function*xJe(e,t,r,n){if(!Nl(n))return yield gr(tt.BigInt,e,r,n);pi(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield gr(tt.BigIntExclusiveMaximum,e,r,n)),pi(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield gr(tt.BigIntExclusiveMinimum,e,r,n)),pi(e.maximum)&&!(n<=e.maximum)&&(yield gr(tt.BigIntMaximum,e,r,n)),pi(e.minimum)&&!(n>=e.minimum)&&(yield gr(tt.BigIntMinimum,e,r,n)),pi(e.multipleOf)&&n%e.multipleOf!==BigInt(0)&&(yield gr(tt.BigIntMultipleOf,e,r,n))}o(xJe,"FromBigInt");function*vJe(e,t,r,n){Mh(n)||(yield gr(tt.Boolean,e,r,n))}o(vJe,"FromBoolean");function*bJe(e,t,r,n){yield*ul(e.returns,t,r,n.prototype)}o(bJe,"FromConstructor");function*IJe(e,t,r,n){if(!B0(n))return yield gr(tt.Date,e,r,n);pi(e.exclusiveMaximumTimestamp)&&!(n.getTime()<e.exclusiveMaximumTimestamp)&&(yield gr(tt.DateExclusiveMaximumTimestamp,e,r,n)),pi(e.exclusiveMinimumTimestamp)&&!(n.getTime()>e.exclusiveMinimumTimestamp)&&(yield gr(tt.DateExclusiveMinimumTimestamp,e,r,n)),pi(e.maximumTimestamp)&&!(n.getTime()<=e.maximumTimestamp)&&(yield gr(tt.DateMaximumTimestamp,e,r,n)),pi(e.minimumTimestamp)&&!(n.getTime()>=e.minimumTimestamp)&&(yield gr(tt.DateMinimumTimestamp,e,r,n)),pi(e.multipleOfTimestamp)&&n.getTime()%e.multipleOfTimestamp!==0&&(yield gr(tt.DateMultipleOfTimestamp,e,r,n))}o(IJe,"FromDate");function*TJe(e,t,r,n){k2(n)||(yield gr(tt.Function,e,r,n))}o(TJe,"FromFunction");function*wJe(e,t,r,n){let i=globalThis.Object.values(e.$defs),s=e.$defs[e.$ref];yield*ul(s,[...t,...i],r,n)}o(wJe,"FromImport");function*_Je(e,t,r,n){if(!yR(n))return yield gr(tt.Integer,e,r,n);pi(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield gr(tt.IntegerExclusiveMaximum,e,r,n)),pi(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield gr(tt.IntegerExclusiveMinimum,e,r,n)),pi(e.maximum)&&!(n<=e.maximum)&&(yield gr(tt.IntegerMaximum,e,r,n)),pi(e.minimum)&&!(n>=e.minimum)&&(yield gr(tt.IntegerMinimum,e,r,n)),pi(e.multipleOf)&&n%e.multipleOf!==0&&(yield gr(tt.IntegerMultipleOf,e,r,n))}o(_Je,"FromInteger");function*SJe(e,t,r,n){let i=!1;for(let s of e.allOf)for(let a of ul(s,t,r,n))i=!0,yield a;if(i)return yield gr(tt.Intersect,e,r,n);if(e.unevaluatedProperties===!1){let s=new RegExp(Wg(e));for(let a of Object.getOwnPropertyNames(n))s.test(a)||(yield gr(tt.IntersectUnevaluatedProperties,e,`${r}/${a}`,n))}if(typeof e.unevaluatedProperties=="object"){let s=new RegExp(Wg(e));for(let a of Object.getOwnPropertyNames(n))if(!s.test(a)){let l=ul(e.unevaluatedProperties,t,`${r}/${a}`,n[a]).next();l.done||(yield l.value)}}}o(SJe,"FromIntersect");function*BJe(e,t,r,n){gR(n)||(yield gr(tt.Iterator,e,r,n))}o(BJe,"FromIterator");function*kJe(e,t,r,n){n!==e.const&&(yield gr(tt.Literal,e,r,n))}o(kJe,"FromLiteral");function*RJe(e,t,r,n){yield gr(tt.Never,e,r,n)}o(RJe,"FromNever");function*DJe(e,t,r,n){ul(e.not,t,r,n).next().done===!0&&(yield gr(tt.Not,e,r,n))}o(DJe,"FromNot");function*PJe(e,t,r,n){Lg(n)||(yield gr(tt.Null,e,r,n))}o(PJe,"FromNull");function*NJe(e,t,r,n){if(!Do.IsNumberLike(n))return yield gr(tt.Number,e,r,n);pi(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield gr(tt.NumberExclusiveMaximum,e,r,n)),pi(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield gr(tt.NumberExclusiveMinimum,e,r,n)),pi(e.maximum)&&!(n<=e.maximum)&&(yield gr(tt.NumberMaximum,e,r,n)),pi(e.minimum)&&!(n>=e.minimum)&&(yield gr(tt.NumberMinimum,e,r,n)),pi(e.multipleOf)&&n%e.multipleOf!==0&&(yield gr(tt.NumberMultipleOf,e,r,n))}o(NJe,"FromNumber");function*FJe(e,t,r,n){if(!Do.IsObjectLike(n))return yield gr(tt.Object,e,r,n);pi(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield gr(tt.ObjectMinProperties,e,r,n)),pi(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield gr(tt.ObjectMaxProperties,e,r,n));let i=Array.isArray(e.required)?e.required:[],s=Object.getOwnPropertyNames(e.properties),a=Object.getOwnPropertyNames(n);for(let l of i)a.includes(l)||(yield gr(tt.ObjectRequiredProperty,e.properties[l],`${r}/${zg(l)}`,void 0));if(e.additionalProperties===!1)for(let l of a)s.includes(l)||(yield gr(tt.ObjectAdditionalProperties,e,`${r}/${zg(l)}`,n[l]));if(typeof e.additionalProperties=="object")for(let l of a)s.includes(l)||(yield*ul(e.additionalProperties,t,`${r}/${zg(l)}`,n[l]));for(let l of s){let c=e.properties[l];e.required&&e.required.includes(l)?(yield*ul(c,t,`${r}/${zg(l)}`,n[l]),Hg(e)&&!(l in n)&&(yield gr(tt.ObjectRequiredProperty,c,`${r}/${zg(l)}`,void 0))):Do.IsExactOptionalProperty(n,l)&&(yield*ul(c,t,`${r}/${zg(l)}`,n[l]))}}o(FJe,"FromObject");function*LJe(e,t,r,n){AR(n)||(yield gr(tt.Promise,e,r,n))}o(LJe,"FromPromise");function*QJe(e,t,r,n){if(!Do.IsRecordLike(n))return yield gr(tt.Object,e,r,n);pi(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield gr(tt.ObjectMinProperties,e,r,n)),pi(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield gr(tt.ObjectMaxProperties,e,r,n));let[i,s]=Object.entries(e.patternProperties)[0],a=new RegExp(i);for(let[l,c]of Object.entries(n))a.test(l)&&(yield*ul(s,t,`${r}/${zg(l)}`,c));if(typeof e.additionalProperties=="object")for(let[l,c]of Object.entries(n))a.test(l)||(yield*ul(e.additionalProperties,t,`${r}/${zg(l)}`,c));if(e.additionalProperties===!1){for(let[l,c]of Object.entries(n))if(!a.test(l))return yield gr(tt.ObjectAdditionalProperties,e,`${r}/${zg(l)}`,c)}}o(QJe,"FromRecord");function*MJe(e,t,r,n){yield*ul(Li(e,t),t,r,n)}o(MJe,"FromRef");function*OJe(e,t,r,n){if(!Bi(n))return yield gr(tt.String,e,r,n);if(pi(e.minLength)&&!(n.length>=e.minLength)&&(yield gr(tt.StringMinLength,e,r,n)),pi(e.maxLength)&&!(n.length<=e.maxLength)&&(yield gr(tt.StringMaxLength,e,r,n)),!new RegExp(e.source,e.flags).test(n))return yield gr(tt.RegExp,e,r,n)}o(OJe,"FromRegExp");function*UJe(e,t,r,n){if(!Bi(n))return yield gr(tt.String,e,r,n);pi(e.minLength)&&!(n.length>=e.minLength)&&(yield gr(tt.StringMinLength,e,r,n)),pi(e.maxLength)&&!(n.length<=e.maxLength)&&(yield gr(tt.StringMaxLength,e,r,n)),Bi(e.pattern)&&(new RegExp(e.pattern).test(n)||(yield gr(tt.StringPattern,e,r,n))),Bi(e.format)&&(om.Has(e.format)?om.Get(e.format)(n)||(yield gr(tt.StringFormat,e,r,n)):yield gr(tt.StringFormatUnknown,e,r,n))}o(UJe,"FromString");function*qJe(e,t,r,n){Qg(n)||(yield gr(tt.Symbol,e,r,n))}o(qJe,"FromSymbol");function*GJe(e,t,r,n){if(!Bi(n))return yield gr(tt.String,e,r,n);new RegExp(e.pattern).test(n)||(yield gr(tt.StringPattern,e,r,n))}o(GJe,"FromTemplateLiteral");function*WJe(e,t,r,n){yield*ul(Li(e,t),t,r,n)}o(WJe,"FromThis");function*HJe(e,t,r,n){if(!un(n))return yield gr(tt.Tuple,e,r,n);if(e.items===void 0&&n.length!==0)return yield gr(tt.TupleLength,e,r,n);if(n.length!==e.maxItems)return yield gr(tt.TupleLength,e,r,n);if(e.items)for(let i=0;i<e.items.length;i++)yield*ul(e.items[i],t,`${r}/${i}`,n[i])}o(HJe,"FromTuple");function*VJe(e,t,r,n){$o(n)||(yield gr(tt.Undefined,e,r,n))}o(VJe,"FromUndefined");function*jJe(e,t,r,n){if(ti(e,t,n))return;let i=e.anyOf.map(s=>new J2(ul(s,t,r,n)));yield gr(tt.Union,e,r,n,i)}o(jJe,"FromUnion");function*$Je(e,t,r,n){if(!jx(n))return yield gr(tt.Uint8Array,e,r,n);pi(e.maxByteLength)&&!(n.length<=e.maxByteLength)&&(yield gr(tt.Uint8ArrayMaxByteLength,e,r,n)),pi(e.minByteLength)&&!(n.length>=e.minByteLength)&&(yield gr(tt.Uint8ArrayMinByteLength,e,r,n))}o($Je,"FromUint8Array");function*zJe(e,t,r,n){}o(zJe,"FromUnknown");function*YJe(e,t,r,n){Do.IsVoidLike(n)||(yield gr(tt.Void,e,r,n))}o(YJe,"FromVoid");function*KJe(e,t,r,n){k0.Get(e[nt])(e,n)||(yield gr(tt.Kind,e,r,n))}o(KJe,"FromKind");function*ul(e,t,r,n){let i=pi(e.$id)?[...t,e]:t,s=e;switch(s[nt]){case"Any":return yield*AJe(s,i,r,n);case"Argument":return yield*yJe(s,i,r,n);case"Array":return yield*CJe(s,i,r,n);case"AsyncIterator":return yield*EJe(s,i,r,n);case"BigInt":return yield*xJe(s,i,r,n);case"Boolean":return yield*vJe(s,i,r,n);case"Constructor":return yield*bJe(s,i,r,n);case"Date":return yield*IJe(s,i,r,n);case"Function":return yield*TJe(s,i,r,n);case"Import":return yield*wJe(s,i,r,n);case"Integer":return yield*_Je(s,i,r,n);case"Intersect":return yield*SJe(s,i,r,n);case"Iterator":return yield*BJe(s,i,r,n);case"Literal":return yield*kJe(s,i,r,n);case"Never":return yield*RJe(s,i,r,n);case"Not":return yield*DJe(s,i,r,n);case"Null":return yield*PJe(s,i,r,n);case"Number":return yield*NJe(s,i,r,n);case"Object":return yield*FJe(s,i,r,n);case"Promise":return yield*LJe(s,i,r,n);case"Record":return yield*QJe(s,i,r,n);case"Ref":return yield*MJe(s,i,r,n);case"RegExp":return yield*OJe(s,i,r,n);case"String":return yield*UJe(s,i,r,n);case"Symbol":return yield*qJe(s,i,r,n);case"TemplateLiteral":return yield*GJe(s,i,r,n);case"This":return yield*WJe(s,i,r,n);case"Tuple":return yield*HJe(s,i,r,n);case"Undefined":return yield*VJe(s,i,r,n);case"Union":return yield*jJe(s,i,r,n);case"Uint8Array":return yield*$Je(s,i,r,n);case"Unknown":return yield*zJe(s,i,r,n);case"Void":return yield*YJe(s,i,r,n);default:if(!k0.Has(s[nt]))throw new mY(e);return yield*KJe(s,i,r,n)}}o(ul,"Visit");function Kh(...e){let t=e.length===3?ul(e[0],e[1],"",e[2]):ul(e[0],[],"",e[1]);return new J2(t)}o(Kh,"Errors");d();d();var Mv=class extends fn{static{o(this,"TransformDecodeCheckError")}constructor(t,r,n){super("Unable to decode value as it does not match the expected schema"),this.schema=t,this.value=r,this.error=n}},hY=class extends fn{static{o(this,"TransformDecodeError")}constructor(t,r,n,i){super(i instanceof Error?i.message:"Unknown error"),this.schema=t,this.path=r,this.value=n,this.error=i}};function As(e,t,r){try{return ji(e)?e[ms].Decode(r):r}catch(n){throw new hY(e,t,r,n)}}o(As,"Default");function JJe(e,t,r,n){return un(n)?As(e,r,n.map((i,s)=>hm(e.items,t,`${r}/${s}`,i))):As(e,r,n)}o(JJe,"FromArray");function XJe(e,t,r,n){if(!Kn(n)||au(n))return As(e,r,n);let i=_R(e),s=i.map(f=>f[0]),a={...n};for(let[f,m]of i)f in a&&(a[f]=hm(m,t,`${r}/${f}`,a[f]));if(!ji(e.unevaluatedProperties))return As(e,r,a);let l=Object.getOwnPropertyNames(a),c=e.unevaluatedProperties,u={...a};for(let f of l)s.includes(f)||(u[f]=As(c,`${r}/${f}`,u[f]));return As(e,r,u)}o(XJe,"FromIntersect");function ZJe(e,t,r,n){let i=globalThis.Object.values(e.$defs),s=e.$defs[e.$ref],a=hm(s,[...t,...i],r,n);return As(e,r,a)}o(ZJe,"FromImport");function eXe(e,t,r,n){return As(e,r,hm(e.not,t,r,n))}o(eXe,"FromNot");function tXe(e,t,r,n){if(!Kn(n))return As(e,r,n);let i=pc(e),s={...n};for(let u of i)cn(s,u)&&($o(s[u])&&(!Ug(e.properties[u])||Do.IsExactOptionalProperty(s,u))||(s[u]=hm(e.properties[u],t,`${r}/${u}`,s[u])));if(!hs(e.additionalProperties))return As(e,r,s);let a=Object.getOwnPropertyNames(s),l=e.additionalProperties,c={...s};for(let u of a)i.includes(u)||(c[u]=As(l,`${r}/${u}`,c[u]));return As(e,r,c)}o(tXe,"FromObject");function rXe(e,t,r,n){if(!Kn(n))return As(e,r,n);let i=Object.getOwnPropertyNames(e.patternProperties)[0],s=new RegExp(i),a={...n};for(let f of Object.getOwnPropertyNames(n))s.test(f)&&(a[f]=hm(e.patternProperties[i],t,`${r}/${f}`,a[f]));if(!hs(e.additionalProperties))return As(e,r,a);let l=Object.getOwnPropertyNames(a),c=e.additionalProperties,u={...a};for(let f of l)s.test(f)||(u[f]=As(c,`${r}/${f}`,u[f]));return As(e,r,u)}o(rXe,"FromRecord");function nXe(e,t,r,n){let i=Li(e,t);return As(e,r,hm(i,t,r,n))}o(nXe,"FromRef");function iXe(e,t,r,n){let i=Li(e,t);return As(e,r,hm(i,t,r,n))}o(iXe,"FromThis");function oXe(e,t,r,n){return un(n)&&un(e.items)?As(e,r,e.items.map((i,s)=>hm(i,t,`${r}/${s}`,n[s]))):As(e,r,n)}o(oXe,"FromTuple");function sXe(e,t,r,n){for(let i of e.anyOf){if(!ti(i,t,n))continue;let s=hm(i,t,r,n);return As(e,r,s)}return As(e,r,n)}o(sXe,"FromUnion");function hm(e,t,r,n){let i=ll(e,t),s=e;switch(e[nt]){case"Array":return JJe(s,i,r,n);case"Import":return ZJe(s,i,r,n);case"Intersect":return XJe(s,i,r,n);case"Not":return eXe(s,i,r,n);case"Object":return tXe(s,i,r,n);case"Record":return rXe(s,i,r,n);case"Ref":return nXe(s,i,r,n);case"Symbol":return As(s,r,n);case"This":return iXe(s,i,r,n);case"Tuple":return oXe(s,i,r,n);case"Union":return sXe(s,i,r,n);default:return As(s,r,n)}}o(hm,"Visit");function Ov(e,t,r){return hm(e,t,"",r)}o(Ov,"TransformDecode");d();var Uv=class extends fn{static{o(this,"TransformEncodeCheckError")}constructor(t,r,n){super("The encoded value does not match the expected schema"),this.schema=t,this.value=r,this.error=n}},pY=class extends fn{static{o(this,"TransformEncodeError")}constructor(t,r,n,i){super(`${i instanceof Error?i.message:"Unknown error"}`),this.schema=t,this.path=r,this.value=n,this.error=i}};function Ml(e,t,r){try{return ji(e)?e[ms].Encode(r):r}catch(n){throw new pY(e,t,r,n)}}o(Ml,"Default");function aXe(e,t,r,n){let i=Ml(e,r,n);return un(i)?i.map((s,a)=>pm(e.items,t,`${r}/${a}`,s)):i}o(aXe,"FromArray");function lXe(e,t,r,n){let i=globalThis.Object.values(e.$defs),s=e.$defs[e.$ref],a=Ml(e,r,n);return pm(s,[...t,...i],r,a)}o(lXe,"FromImport");function cXe(e,t,r,n){let i=Ml(e,r,n);if(!Kn(n)||au(n))return i;let s=_R(e),a=s.map(m=>m[0]),l={...i};for(let[m,h]of s)m in l&&(l[m]=pm(h,t,`${r}/${m}`,l[m]));if(!ji(e.unevaluatedProperties))return l;let c=Object.getOwnPropertyNames(l),u=e.unevaluatedProperties,f={...l};for(let m of c)a.includes(m)||(f[m]=Ml(u,`${r}/${m}`,f[m]));return f}o(cXe,"FromIntersect");function uXe(e,t,r,n){return Ml(e.not,r,Ml(e,r,n))}o(uXe,"FromNot");function fXe(e,t,r,n){let i=Ml(e,r,n);if(!Kn(i))return i;let s=pc(e),a={...i};for(let f of s)cn(a,f)&&($o(a[f])&&(!Ug(e.properties[f])||Do.IsExactOptionalProperty(a,f))||(a[f]=pm(e.properties[f],t,`${r}/${f}`,a[f])));if(!hs(e.additionalProperties))return a;let l=Object.getOwnPropertyNames(a),c=e.additionalProperties,u={...a};for(let f of l)s.includes(f)||(u[f]=Ml(c,`${r}/${f}`,u[f]));return u}o(fXe,"FromObject");function dXe(e,t,r,n){let i=Ml(e,r,n);if(!Kn(n))return i;let s=Object.getOwnPropertyNames(e.patternProperties)[0],a=new RegExp(s),l={...i};for(let m of Object.getOwnPropertyNames(n))a.test(m)&&(l[m]=pm(e.patternProperties[s],t,`${r}/${m}`,l[m]));if(!hs(e.additionalProperties))return l;let c=Object.getOwnPropertyNames(l),u=e.additionalProperties,f={...l};for(let m of c)a.test(m)||(f[m]=Ml(u,`${r}/${m}`,f[m]));return f}o(dXe,"FromRecord");function mXe(e,t,r,n){let i=Li(e,t),s=pm(i,t,r,n);return Ml(e,r,s)}o(mXe,"FromRef");function hXe(e,t,r,n){let i=Li(e,t),s=pm(i,t,r,n);return Ml(e,r,s)}o(hXe,"FromThis");function pXe(e,t,r,n){let i=Ml(e,r,n);return un(e.items)?e.items.map((s,a)=>pm(s,t,`${r}/${a}`,i[a])):[]}o(pXe,"FromTuple");function gXe(e,t,r,n){for(let i of e.anyOf){if(!ti(i,t,n))continue;let s=pm(i,t,r,n);return Ml(e,r,s)}for(let i of e.anyOf){let s=pm(i,t,r,n);if(ti(e,t,s))return Ml(e,r,s)}return Ml(e,r,n)}o(gXe,"FromUnion");function pm(e,t,r,n){let i=ll(e,t),s=e;switch(e[nt]){case"Array":return aXe(s,i,r,n);case"Import":return lXe(s,i,r,n);case"Intersect":return cXe(s,i,r,n);case"Not":return uXe(s,i,r,n);case"Object":return fXe(s,i,r,n);case"Record":return dXe(s,i,r,n);case"Ref":return mXe(s,i,r,n);case"This":return hXe(s,i,r,n);case"Tuple":return pXe(s,i,r,n);case"Union":return gXe(s,i,r,n);default:return Ml(s,r,n)}}o(pm,"Visit");function qv(e,t,r){return pm(e,t,"",r)}o(qv,"TransformEncode");d();function AXe(e,t){return ji(e)||Va(e.items,t)}o(AXe,"FromArray");function yXe(e,t){return ji(e)||Va(e.items,t)}o(yXe,"FromAsyncIterator");function CXe(e,t){return ji(e)||Va(e.returns,t)||e.parameters.some(r=>Va(r,t))}o(CXe,"FromConstructor");function EXe(e,t){return ji(e)||Va(e.returns,t)||e.parameters.some(r=>Va(r,t))}o(EXe,"FromFunction");function xXe(e,t){return ji(e)||ji(e.unevaluatedProperties)||e.allOf.some(r=>Va(r,t))}o(xXe,"FromIntersect");function vXe(e,t){let r=globalThis.Object.getOwnPropertyNames(e.$defs).reduce((i,s)=>[...i,e.$defs[s]],[]),n=e.$defs[e.$ref];return ji(e)||Va(n,[...r,...t])}o(vXe,"FromImport");function bXe(e,t){return ji(e)||Va(e.items,t)}o(bXe,"FromIterator");function IXe(e,t){return ji(e)||Va(e.not,t)}o(IXe,"FromNot");function TXe(e,t){return ji(e)||Object.values(e.properties).some(r=>Va(r,t))||hs(e.additionalProperties)&&Va(e.additionalProperties,t)}o(TXe,"FromObject");function wXe(e,t){return ji(e)||Va(e.item,t)}o(wXe,"FromPromise");function _Xe(e,t){let r=Object.getOwnPropertyNames(e.patternProperties)[0],n=e.patternProperties[r];return ji(e)||Va(n,t)||hs(e.additionalProperties)&&ji(e.additionalProperties)}o(_Xe,"FromRecord");function SXe(e,t){return ji(e)?!0:Va(Li(e,t),t)}o(SXe,"FromRef");function BXe(e,t){return ji(e)?!0:Va(Li(e,t),t)}o(BXe,"FromThis");function kXe(e,t){return ji(e)||!$o(e.items)&&e.items.some(r=>Va(r,t))}o(kXe,"FromTuple");function RXe(e,t){return ji(e)||e.anyOf.some(r=>Va(r,t))}o(RXe,"FromUnion");function Va(e,t){let r=ll(e,t),n=e;if(e.$id&&gY.has(e.$id))return!1;switch(e.$id&&gY.add(e.$id),e[nt]){case"Array":return AXe(n,r);case"AsyncIterator":return yXe(n,r);case"Constructor":return CXe(n,r);case"Function":return EXe(n,r);case"Import":return vXe(n,r);case"Intersect":return xXe(n,r);case"Iterator":return bXe(n,r);case"Not":return IXe(n,r);case"Object":return TXe(n,r);case"Promise":return wXe(n,r);case"Record":return _Xe(n,r);case"Ref":return SXe(n,r);case"This":return BXe(n,r);case"Tuple":return kXe(n,r);case"Union":return RXe(n,r);default:return ji(e)}}o(Va,"Visit");var gY=new Set;function Yg(e,t){return gY.clear(),Va(e,t)}o(Yg,"HasTransform");var AY=class{static{o(this,"TypeCheck")}constructor(t,r,n,i){this.schema=t,this.references=r,this.checkFunc=n,this.code=i,this.hasTransform=Yg(t,r)}Code(){return this.code}Schema(){return this.schema}References(){return this.references}Errors(t){return Kh(this.schema,this.references,t)}Check(t){return this.checkFunc(t)}Decode(t){if(!this.checkFunc(t))throw new Mv(this.schema,t,this.Errors(t).First());return this.hasTransform?Ov(this.schema,this.references,t):t}Encode(t){let r=this.hasTransform?qv(this.schema,this.references,t):t;if(!this.checkFunc(r))throw new Uv(this.schema,t,this.Errors(t).First());return r}},Kg;(function(e){function t(s){return s===36}o(t,"DollarSign"),e.DollarSign=t;function r(s){return s===95}o(r,"IsUnderscore"),e.IsUnderscore=r;function n(s){return s>=65&&s<=90||s>=97&&s<=122}o(n,"IsAlpha"),e.IsAlpha=n;function i(s){return s>=48&&s<=57}o(i,"IsNumeric"),e.IsNumeric=i})(Kg||(Kg={}));var HD;(function(e){function t(s){return s.length===0?!1:Kg.IsNumeric(s.charCodeAt(0))}o(t,"IsFirstCharacterNumeric");function r(s){if(t(s))return!1;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);if(!(Kg.IsAlpha(l)||Kg.IsNumeric(l)||Kg.DollarSign(l)||Kg.IsUnderscore(l)))return!1}return!0}o(r,"IsAccessor");function n(s){return s.replace(/'/g,"\\'")}o(n,"EscapeHyphen");function i(s,a){return r(a)?`${s}.${a}`:`${s}['${n(a)}']`}o(i,"Encode"),e.Encode=i})(HD||(HD={}));var yY;(function(e){function t(r){let n=[];for(let i=0;i<r.length;i++){let s=r.charCodeAt(i);Kg.IsNumeric(s)||Kg.IsAlpha(s)?n.push(r.charAt(i)):n.push(`_${s}_`)}return n.join("").replace(/__/g,"_")}o(t,"Encode"),e.Encode=t})(yY||(yY={}));var CY;(function(e){function t(r){return r.replace(/'/g,"\\'")}o(t,"Escape"),e.Escape=t})(CY||(CY={}));var EY=class extends fn{static{o(this,"TypeCompilerUnknownTypeError")}constructor(t){super("Unknown type"),this.schema=t}},VD=class extends fn{static{o(this,"TypeCompilerTypeGuardError")}constructor(t){super("Preflight validation check failed to guard for the given schema"),this.schema=t}},uC;(function(e){function t(a,l,c){return Do.ExactOptionalPropertyTypes?`('${l}' in ${a} ? ${c} : true)`:`(${HD.Encode(a,l)} !== undefined ? ${c} : true)`}o(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){return Do.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null)`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}))`}o(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return Do.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}) && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`}o(n,"IsRecordLike"),e.IsRecordLike=n;function i(a){return Do.AllowNaN?`typeof ${a} === 'number'`:`Number.isFinite(${a})`}o(i,"IsNumberLike"),e.IsNumberLike=i;function s(a){return Do.AllowNullVoid?`(${a} === undefined || ${a} === null)`:`${a} === undefined`}o(s,"IsVoidLike"),e.IsVoidLike=s})(uC||(uC={}));var ta;(function(e){function t(ie){return ie[nt]==="Any"||ie[nt]==="Unknown"}o(t,"IsAnyOrUnknown");function*r(ie,Pe,Ae){yield"true"}o(r,"FromAny");function*n(ie,Pe,Ae){yield"true"}o(n,"FromArgument");function*i(ie,Pe,Ae){yield`Array.isArray(${Ae})`;let[Ge,z]=[Be("value","any"),Be("acc","number")];Vr(ie.maxItems)&&(yield`${Ae}.length <= ${ie.maxItems}`),Vr(ie.minItems)&&(yield`${Ae}.length >= ${ie.minItems}`);let ee=ce(ie.items,Pe,"value");if(yield`${Ae}.every((${Ge}) => ${ee})`,Yo(ie.contains)||Vr(ie.minContains)||Vr(ie.maxContains)){let Fe=Yo(ie.contains)?ie.contains:Gn(),_e=ce(Fe,Pe,"value"),Ce=Vr(ie.minContains)?[`(count >= ${ie.minContains})`]:[],Oe=Vr(ie.maxContains)?[`(count <= ${ie.maxContains})`]:[],Ve=`const count = value.reduce((${z}, ${Ge}) => ${_e} ? acc + 1 : acc, 0)`,Ze=["(count > 0)",...Ce,...Oe].join(" && ");yield`((${Ge}) => { ${Ve}; return ${Ze}})(${Ae})`}ie.uniqueItems===!0&&(yield`((${Ge}) => { const set = new Set(); for(const element of value) { const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true } )(${Ae})`)}o(i,"FromArray");function*s(ie,Pe,Ae){yield`(typeof value === 'object' && Symbol.asyncIterator in ${Ae})`}o(s,"FromAsyncIterator");function*a(ie,Pe,Ae){yield`(typeof ${Ae} === 'bigint')`,Nl(ie.exclusiveMaximum)&&(yield`${Ae} < BigInt(${ie.exclusiveMaximum})`),Nl(ie.exclusiveMinimum)&&(yield`${Ae} > BigInt(${ie.exclusiveMinimum})`),Nl(ie.maximum)&&(yield`${Ae} <= BigInt(${ie.maximum})`),Nl(ie.minimum)&&(yield`${Ae} >= BigInt(${ie.minimum})`),Nl(ie.multipleOf)&&(yield`(${Ae} % BigInt(${ie.multipleOf})) === 0`)}o(a,"FromBigInt");function*l(ie,Pe,Ae){yield`(typeof ${Ae} === 'boolean')`}o(l,"FromBoolean");function*c(ie,Pe,Ae){yield*Z(ie.returns,Pe,`${Ae}.prototype`)}o(c,"FromConstructor");function*u(ie,Pe,Ae){yield`(${Ae} instanceof Date) && Number.isFinite(${Ae}.getTime())`,Vr(ie.exclusiveMaximumTimestamp)&&(yield`${Ae}.getTime() < ${ie.exclusiveMaximumTimestamp}`),Vr(ie.exclusiveMinimumTimestamp)&&(yield`${Ae}.getTime() > ${ie.exclusiveMinimumTimestamp}`),Vr(ie.maximumTimestamp)&&(yield`${Ae}.getTime() <= ${ie.maximumTimestamp}`),Vr(ie.minimumTimestamp)&&(yield`${Ae}.getTime() >= ${ie.minimumTimestamp}`),Vr(ie.multipleOfTimestamp)&&(yield`(${Ae}.getTime() % ${ie.multipleOfTimestamp}) === 0`)}o(u,"FromDate");function*f(ie,Pe,Ae){yield`(typeof ${Ae} === 'function')`}o(f,"FromFunction");function*m(ie,Pe,Ae){let Ge=globalThis.Object.getOwnPropertyNames(ie.$defs).reduce((z,ee)=>[...z,ie.$defs[ee]],[]);yield*Z(Sf(ie.$ref),[...Pe,...Ge],Ae)}o(m,"FromImport");function*h(ie,Pe,Ae){yield`Number.isInteger(${Ae})`,Vr(ie.exclusiveMaximum)&&(yield`${Ae} < ${ie.exclusiveMaximum}`),Vr(ie.exclusiveMinimum)&&(yield`${Ae} > ${ie.exclusiveMinimum}`),Vr(ie.maximum)&&(yield`${Ae} <= ${ie.maximum}`),Vr(ie.minimum)&&(yield`${Ae} >= ${ie.minimum}`),Vr(ie.multipleOf)&&(yield`(${Ae} % ${ie.multipleOf}) === 0`)}o(h,"FromInteger");function*p(ie,Pe,Ae){let Ge=ie.allOf.map(z=>ce(z,Pe,Ae)).join(" && ");if(ie.unevaluatedProperties===!1){let z=be(`${new RegExp(Wg(ie))};`),ee=`Object.getOwnPropertyNames(${Ae}).every(key => ${z}.test(key))`;yield`(${Ge} && ${ee})`}else if(Yo(ie.unevaluatedProperties)){let z=be(`${new RegExp(Wg(ie))};`),ee=`Object.getOwnPropertyNames(${Ae}).every(key => ${z}.test(key) || ${ce(ie.unevaluatedProperties,Pe,`${Ae}[key]`)})`;yield`(${Ge} && ${ee})`}else yield`(${Ge})`}o(p,"FromIntersect");function*A(ie,Pe,Ae){yield`(typeof value === 'object' && Symbol.iterator in ${Ae})`}o(A,"FromIterator");function*E(ie,Pe,Ae){typeof ie.const=="number"||typeof ie.const=="boolean"?yield`(${Ae} === ${ie.const})`:yield`(${Ae} === '${CY.Escape(ie.const)}')`}o(E,"FromLiteral");function*x(ie,Pe,Ae){yield"false"}o(x,"FromNever");function*b(ie,Pe,Ae){yield`(!${ce(ie.not,Pe,Ae)})`}o(b,"FromNot");function*v(ie,Pe,Ae){yield`(${Ae} === null)`}o(v,"FromNull");function*S(ie,Pe,Ae){yield uC.IsNumberLike(Ae),Vr(ie.exclusiveMaximum)&&(yield`${Ae} < ${ie.exclusiveMaximum}`),Vr(ie.exclusiveMinimum)&&(yield`${Ae} > ${ie.exclusiveMinimum}`),Vr(ie.maximum)&&(yield`${Ae} <= ${ie.maximum}`),Vr(ie.minimum)&&(yield`${Ae} >= ${ie.minimum}`),Vr(ie.multipleOf)&&(yield`(${Ae} % ${ie.multipleOf}) === 0`)}o(S,"FromNumber");function*k(ie,Pe,Ae){yield uC.IsObjectLike(Ae),Vr(ie.minProperties)&&(yield`Object.getOwnPropertyNames(${Ae}).length >= ${ie.minProperties}`),Vr(ie.maxProperties)&&(yield`Object.getOwnPropertyNames(${Ae}).length <= ${ie.maxProperties}`);let Ge=Object.getOwnPropertyNames(ie.properties);for(let z of Ge){let ee=HD.Encode(Ae,z),Fe=ie.properties[z];if(ie.required&&ie.required.includes(z))yield*Z(Fe,Pe,ee),(Hg(Fe)||t(Fe))&&(yield`('${z}' in ${Ae})`);else{let _e=ce(Fe,Pe,ee);yield uC.IsExactOptionalProperty(Ae,z,_e)}}if(ie.additionalProperties===!1)if(ie.required&&ie.required.length===Ge.length)yield`Object.getOwnPropertyNames(${Ae}).length === ${Ge.length}`;else{let z=`[${Ge.map(ee=>`'${ee}'`).join(", ")}]`;yield`Object.getOwnPropertyNames(${Ae}).every(key => ${z}.includes(key))`}if(typeof ie.additionalProperties=="object"){let z=ce(ie.additionalProperties,Pe,`${Ae}[key]`),ee=`[${Ge.map(Fe=>`'${Fe}'`).join(", ")}]`;yield`(Object.getOwnPropertyNames(${Ae}).every(key => ${ee}.includes(key) || ${z}))`}}o(k,"FromObject");function*P(ie,Pe,Ae){yield`${Ae} instanceof Promise`}o(P,"FromPromise");function*N(ie,Pe,Ae){yield uC.IsRecordLike(Ae),Vr(ie.minProperties)&&(yield`Object.getOwnPropertyNames(${Ae}).length >= ${ie.minProperties}`),Vr(ie.maxProperties)&&(yield`Object.getOwnPropertyNames(${Ae}).length <= ${ie.maxProperties}`);let[Ge,z]=Object.entries(ie.patternProperties)[0],ee=be(`${new RegExp(Ge)}`),Fe=ce(z,Pe,"value"),_e=Yo(ie.additionalProperties)?ce(ie.additionalProperties,Pe,Ae):ie.additionalProperties===!1?"false":"true",Ce=`(${ee}.test(key) ? ${Fe} : ${_e})`;yield`(Object.entries(${Ae}).every(([key, value]) => ${Ce}))`}o(N,"FromRecord");function*W(ie,Pe,Ae){let Ge=Li(ie,Pe);if(ae.functions.has(ie.$ref))return yield`${Re(ie.$ref)}(${Ae})`;yield*Z(Ge,Pe,Ae)}o(W,"FromRef");function*re(ie,Pe,Ae){let Ge=be(`${new RegExp(ie.source,ie.flags)};`);yield`(typeof ${Ae} === 'string')`,Vr(ie.maxLength)&&(yield`${Ae}.length <= ${ie.maxLength}`),Vr(ie.minLength)&&(yield`${Ae}.length >= ${ie.minLength}`),yield`${Ge}.test(${Ae})`}o(re,"FromRegExp");function*ge(ie,Pe,Ae){yield`(typeof ${Ae} === 'string')`,Vr(ie.maxLength)&&(yield`${Ae}.length <= ${ie.maxLength}`),Vr(ie.minLength)&&(yield`${Ae}.length >= ${ie.minLength}`),ie.pattern!==void 0&&(yield`${be(`${new RegExp(ie.pattern)};`)}.test(${Ae})`),ie.format!==void 0&&(yield`format('${ie.format}', ${Ae})`)}o(ge,"FromString");function*te(ie,Pe,Ae){yield`(typeof ${Ae} === 'symbol')`}o(te,"FromSymbol");function*G(ie,Pe,Ae){yield`(typeof ${Ae} === 'string')`,yield`${be(`${new RegExp(ie.pattern)};`)}.test(${Ae})`}o(G,"FromTemplateLiteral");function*q(ie,Pe,Ae){yield`${Re(ie.$ref)}(${Ae})`}o(q,"FromThis");function*se(ie,Pe,Ae){if(yield`Array.isArray(${Ae})`,ie.items===void 0)return yield`${Ae}.length === 0`;yield`(${Ae}.length === ${ie.maxItems})`;for(let Ge=0;Ge<ie.items.length;Ge++)yield`${ce(ie.items[Ge],Pe,`${Ae}[${Ge}]`)}`}o(se,"FromTuple");function*ne(ie,Pe,Ae){yield`${Ae} === undefined`}o(ne,"FromUndefined");function*H(ie,Pe,Ae){yield`(${ie.anyOf.map(z=>ce(z,Pe,Ae)).join(" || ")})`}o(H,"FromUnion");function*O(ie,Pe,Ae){yield`${Ae} instanceof Uint8Array`,Vr(ie.maxByteLength)&&(yield`(${Ae}.length <= ${ie.maxByteLength})`),Vr(ie.minByteLength)&&(yield`(${Ae}.length >= ${ie.minByteLength})`)}o(O,"FromUint8Array");function*j(ie,Pe,Ae){yield"true"}o(j,"FromUnknown");function*J(ie,Pe,Ae){yield uC.IsVoidLike(Ae)}o(J,"FromVoid");function*le(ie,Pe,Ae){let Ge=ae.instances.size;ae.instances.set(Ge,ie),yield`kind('${ie[nt]}', ${Ge}, ${Ae})`}o(le,"FromKind");function*Z(ie,Pe,Ae,Ge=!0){let z=Bi(ie.$id)?[...Pe,ie]:Pe,ee=ie;if(Ge&&Bi(ie.$id)){let Fe=Re(ie.$id);if(ae.functions.has(Fe))return yield`${Fe}(${Ae})`;{ae.functions.set(Fe,"<deferred>");let _e=Ue(Fe,ie,Pe,"value",!1);return ae.functions.set(Fe,_e),yield`${Fe}(${Ae})`}}switch(ee[nt]){case"Any":return yield*r(ee,z,Ae);case"Argument":return yield*n(ee,z,Ae);case"Array":return yield*i(ee,z,Ae);case"AsyncIterator":return yield*s(ee,z,Ae);case"BigInt":return yield*a(ee,z,Ae);case"Boolean":return yield*l(ee,z,Ae);case"Constructor":return yield*c(ee,z,Ae);case"Date":return yield*u(ee,z,Ae);case"Function":return yield*f(ee,z,Ae);case"Import":return yield*m(ee,z,Ae);case"Integer":return yield*h(ee,z,Ae);case"Intersect":return yield*p(ee,z,Ae);case"Iterator":return yield*A(ee,z,Ae);case"Literal":return yield*E(ee,z,Ae);case"Never":return yield*x(ee,z,Ae);case"Not":return yield*b(ee,z,Ae);case"Null":return yield*v(ee,z,Ae);case"Number":return yield*S(ee,z,Ae);case"Object":return yield*k(ee,z,Ae);case"Promise":return yield*P(ee,z,Ae);case"Record":return yield*N(ee,z,Ae);case"Ref":return yield*W(ee,z,Ae);case"RegExp":return yield*re(ee,z,Ae);case"String":return yield*ge(ee,z,Ae);case"Symbol":return yield*te(ee,z,Ae);case"TemplateLiteral":return yield*G(ee,z,Ae);case"This":return yield*q(ee,z,Ae);case"Tuple":return yield*se(ee,z,Ae);case"Undefined":return yield*ne(ee,z,Ae);case"Union":return yield*H(ee,z,Ae);case"Uint8Array":return yield*O(ee,z,Ae);case"Unknown":return yield*j(ee,z,Ae);case"Void":return yield*J(ee,z,Ae);default:if(!k0.Has(ee[nt]))throw new EY(ie);return yield*le(ee,z,Ae)}}o(Z,"Visit");let ae={language:"javascript",functions:new Map,variables:new Map,instances:new Map};function ce(ie,Pe,Ae,Ge=!0){return`(${[...Z(ie,Pe,Ae,Ge)].join(" && ")})`}o(ce,"CreateExpression");function Re(ie){return`check_${yY.Encode(ie)}`}o(Re,"CreateFunctionName");function be(ie){let Pe=`local_${ae.variables.size}`;return ae.variables.set(Pe,`const ${Pe} = ${ie}`),Pe}o(be,"CreateVariable");function Ue(ie,Pe,Ae,Ge,z=!0){let[ee,Fe]=[`
`,Ve=>"".padStart(Ve," ")],_e=Be("value","any"),Ce=Je("boolean"),Oe=[...Z(Pe,Ae,Ge,z)].map(Ve=>`${Fe(4)}${Ve}`).join(` &&${ee}`);return`function ${ie}(${_e})${Ce} {${ee}${Fe(2)}return (${ee}${Oe}${ee}${Fe(2)})
}`}o(Ue,"CreateFunction");function Be(ie,Pe){let Ae=ae.language==="typescript"?`: ${Pe}`:"";return`${ie}${Ae}`}o(Be,"CreateParameter");function Je(ie){return ae.language==="typescript"?`: ${ie}`:""}o(Je,"CreateReturns");function ut(ie,Pe,Ae){let Ge=Ue("check",ie,Pe,"value"),z=Be("value","any"),ee=Je("boolean"),Fe=[...ae.functions.values()],_e=[...ae.variables.values()],Ce=Bi(ie.$id)?`return function check(${z})${ee} {
  return ${Re(ie.$id)}(value)
}`:`return ${Ge}`;return[..._e,...Fe,Ce].join(`
`)}o(ut,"Build");function it(...ie){let Pe={language:"javascript"},[Ae,Ge,z]=ie.length===2&&un(ie[1])?[ie[0],ie[1],Pe]:ie.length===2&&!un(ie[1])?[ie[0],[],ie[1]]:ie.length===3?[ie[0],ie[1],ie[2]]:ie.length===1?[ie[0],[],Pe]:[null,[],Pe];if(ae.language=z.language,ae.variables.clear(),ae.functions.clear(),ae.instances.clear(),!Yo(Ae))throw new VD(Ae);for(let ee of Ge)if(!Yo(ee))throw new VD(ee);return ut(Ae,Ge,z)}o(it,"Code"),e.Code=it;function ot(ie,Pe=[]){let Ae=it(ie,Pe,{language:"javascript"}),Ge=globalThis.Function("kind","format","hash",Ae),z=new Map(ae.instances);function ee(Oe,Ve,Ze){if(!k0.Has(Oe)||!z.has(Ve))return!1;let yt=k0.Get(Oe),Rt=z.get(Ve);return yt(Rt,Ze)}o(ee,"typeRegistryFunction");function Fe(Oe,Ve){return om.Has(Oe)?om.Get(Oe)(Ve):!1}o(Fe,"formatRegistryFunction");function _e(Oe){return K2(Oe)}o(_e,"hashFunction");let Ce=Ge(ee,Fe,_e);return new AY(ie,Pe,Ce,Ae)}o(ot,"Compile"),e.Compile=ot})(ta||(ta={}));var zD=ft(T2());d();d();var Ol=[];for(let e=0;e<256;++e)Ol.push((e+256).toString(16).slice(1));function VAe(e,t=0){return(Ol[e[t+0]]+Ol[e[t+1]]+Ol[e[t+2]]+Ol[e[t+3]]+"-"+Ol[e[t+4]]+Ol[e[t+5]]+"-"+Ol[e[t+6]]+Ol[e[t+7]]+"-"+Ol[e[t+8]]+Ol[e[t+9]]+"-"+Ol[e[t+10]]+Ol[e[t+11]]+Ol[e[t+12]]+Ol[e[t+13]]+Ol[e[t+14]]+Ol[e[t+15]]).toLowerCase()}o(VAe,"unsafeStringify");d();var jAe=require("crypto");var $D=new Uint8Array(256),jD=$D.length;function xY(){return jD>$D.length-16&&((0,jAe.randomFillSync)($D),jD=0),$D.slice(jD,jD+=16)}o(xY,"rng");d();d();var $Ae=require("crypto"),vY={randomUUID:$Ae.randomUUID};function DXe(e,t,r){if(vY.randomUUID&&!t&&!e)return vY.randomUUID();e=e||{};let n=e.random??e.rng?.()??xY();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){if(r=r||0,r<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let i=0;i<16;++i)t[r+i]=n[i];return t}return VAe(n)}o(DXe,"v4");var Tr=DXe;var YD=ft(Ii());function Gv(e){return e===1}o(Gv,"isRestricted");var PXe=["engine.prompt","engine.completion","ghostText.capturedAfterAccepted","ghostText.capturedAfterRejected"],_7=8192,NXe=21;var gs=class{static{o(this,"TelemetryReporters")}getReporter(t,r=0){return Gv(r)?this.getRestrictedReporter(t):this.reporter}getRestrictedReporter(t){if(KD(t))return this.reporterRestricted;if(Rv(t))return new T7}getFTReporter(t){if(YAe(t))return this.reporterFT;if(Rv(t))return new T7}setReporter(t){this.reporter=t}setRestrictedReporter(t){this.reporterRestricted=t}setFTReporter(t){this.reporterFT=t}async deactivate(){let t=Promise.resolve();this.reporter&&(t=this.reporter.dispose(),this.reporter=void 0);let r=Promise.resolve();this.reporterRestricted&&(r=this.reporterRestricted.dispose(),this.reporterRestricted=void 0);let n=Promise.resolve();this.reporterFT&&(n=this.reporterFT.dispose(),this.reporterFT=void 0),await Promise.all([t,r,n])}},FXe=T.Object({},{additionalProperties:T.String()}),LXe=T.Object({meanLogProb:T.Optional(T.Number()),meanAlternativeLogProb:T.Optional(T.Number())},{additionalProperties:T.Number()}),QXe=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function MXe(e){return QXe.has(e.code??"")||e.name==="RangeError"&&e.message==="WebAssembly.Memory(): could not allocate memory"}o(MXe,"isOomError");function OXe(e){return Y9(e)?"network":MXe(e)||e.code==="EMFILE"||e.code==="ENFILE"||e.syscall==="uv_cwd"&&(e.code==="ENOENT"||e.code=="EIO")||e.code==="CopilotPromptLoadFailure"||`${e.code}`.startsWith("CopilotPromptWorkerExit")?"local":"exception"}o(OXe,"getErrorType");var rn=class e{static{o(this,"TelemetryData")}static{this.validateTelemetryProperties=ta.Compile(FXe)}static{this.validateTelemetryMeasurements=ta.Compile(LXe)}static{this.keysExemptedFromSanitization=["abexp.assignmentcontext","VSCode.ABExp.Features"]}constructor(t,r,n){this.properties=t,this.measurements=r,this.issuedTime=n}static createAndMarkAsIssued(t,r){return new e(t||{},r||{},Ul())}extendedBy(t,r){let n={...this.properties,...t},i={...this.measurements,...r},s=new e(n,i,this.issuedTime);return s.displayedTime=this.displayedTime,s}markAsDisplayed(){this.displayedTime===void 0&&(this.displayedTime=Ul())}async extendWithExpTelemetry(t){let{filters:r,exp:n}=await t.get(er).getFallbackExpAndFilters();n.addToTelemetry(this),r.addToTelemetry(this)}extendWithEditorAgnosticFields(t){this.properties.editor_version=$h(t.get(an).getEditorInfo()),this.properties.editor_plugin_version=$h(t.get(an).getEditorPluginInfo());let r=t.get(ds);this.properties.client_machineid=r.machineId,this.properties.client_sessionid=r.sessionId,this.properties.copilot_version=`copilot/${dC(t)}`,this.properties.runtime_version=`node/${process.versions.node}`;let n=t.get(an);this.properties.common_extname=n.getEditorPluginInfo().name,this.properties.common_extversion=n.getEditorPluginInfo().version,this.properties.common_vscodeversion=$h(n.getEditorInfo());let i=t.get(Nr);this.properties.fetcher=i.name;let s=i.proxySettings;this.properties.proxy_enabled=s?"true":"false",this.properties.proxy_auth=s?.proxyAuth?"true":"false",this.properties.proxy_kerberos_spn=s?.kerberosServicePrincipal?"true":"false",this.properties.reject_unauthorized=i.rejectUnauthorized?"true":"false"}extendWithConfigProperties(t){let r=e2e(t);r["copilot.build"]=t2e(t),r["copilot.buildType"]=Qf(t),this.properties={...this.properties,...r}}extendWithRequestId(t){let r={completionId:t.completionId,created:t.created.toString(),headerRequestId:t.headerRequestId,serverExperiments:t.serverExperiments,deploymentId:t.deploymentId};this.properties={...this.properties,...r}}static{this.keysToRemoveFromStandardTelemetryHack=["gitRepoHost","gitRepoName","gitRepoOwner","gitRepoUrl","gitRepoPath","repo","request_option_nwo","userKind"]}static maybeRemoveRepoInfoFromPropertiesHack(t,r){if(Gv(t))return r;let n={};for(let i in r)e.keysToRemoveFromStandardTelemetryHack.includes(i)||(n[i]=r[i]);return n}sanitizeKeys(){this.properties=e.sanitizeKeys(this.properties),this.measurements=e.sanitizeKeys(this.measurements);for(let t in this.measurements)isNaN(this.measurements[t])&&delete this.measurements[t]}multiplexProperties(){this.properties=e.multiplexProperties(this.properties)}static sanitizeKeys(t){t=t||{};let r={};for(let n in t){let i=e.keysExemptedFromSanitization.includes(n)?n:n.replace(/\./g,"_");r[i]=t[n]}return r}static multiplexProperties(t){let r={...t};for(let n in t){let i=t[n],s=i?.length??0;if(s>_7){let a=0,l=0;for(;s>0&&l<NXe;){l+=1;let c=n;l>1&&(c=n+"_"+(l<10?"0":"")+l);let u=a+_7;s<_7&&(u=a+s),r[c]=i.slice(a,u),s-=_7,a+=_7}}}return r}updateMeasurements(t){let r=t-this.issuedTime;if(this.measurements.timeSinceIssuedMs=r,this.displayedTime!==void 0){let n=t-this.displayedTime;this.measurements.timeSinceDisplayedMs=n}this.measurements.current_time===void 0&&(this.measurements.current_time=GXe(t))}validateData(t,r){let n;if(e.validateTelemetryProperties.Check(this.properties)||(n={problem:"properties",error:JSON.stringify([...e.validateTelemetryProperties.Errors(this.properties)])}),!e.validateTelemetryMeasurements.Check(this.measurements)){let i=JSON.stringify([...e.validateTelemetryMeasurements.Errors(this.measurements)]);n===void 0?n={problem:"measurements",error:i}:(n.problem="both",n.error+=`; ${i}`)}if(n===void 0)return!0;if(Rv(t))throw new Error(`Invalid telemetry data: ${n.problem} ${n.error} properties=${JSON.stringify(this.properties)} measurements=${JSON.stringify(this.measurements)}`);return fC(t,"invalidTelemetryData",e.createAndMarkAsIssued({properties:JSON.stringify(this.properties),measurements:JSON.stringify(this.measurements),problem:n.problem,validationError:n.error}),r),Gv(r)&&fC(t,"invalidTelemetryData_in_secure",e.createAndMarkAsIssued({problem:n.problem,requestId:this.properties.requestId??"unknown"}),0),!1}async makeReadyForSending(t,r,n,i){this.extendWithConfigProperties(t),this.extendWithEditorAgnosticFields(t),this.sanitizeKeys(),this.multiplexProperties(),n==="IncludeExp"&&await this.extendWithExpTelemetry(t),this.updateMeasurements(i),this.validateData(t,r)||(this.properties.telemetry_failed_validation="true"),Object.assign(this.properties,KAe(t))}},Jg=class e extends rn{static{o(this,"TelemetryWithExp")}constructor(t,r,n,i){super(t,r,n),this.filtersAndExp=i}extendedBy(t,r){let n={...this.properties,...t},i={...this.measurements,...r},s=new e(n,i,this.issuedTime,this.filtersAndExp);return s.displayedTime=this.displayedTime,s}async extendWithExpTelemetry(t){this.filtersAndExp.exp.addToTelemetry(this),this.filtersAndExp.filters.addToTelemetry(this)}static createEmptyConfigForTesting(){return new e({},{},0,{filters:new Q3({}),exp:Lf.createEmptyConfig()})}};function S7(e,t,r,n){e.get(gs).getReporter(e,t)?.sendTelemetryEvent(r,rn.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(S7,"sendTelemetryEvent");function UXe(e,t,r,n){e.get(gs).getReporter(e,t)?.sendTelemetryErrorEvent(r,rn.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(UXe,"sendTelemetryErrorEvent");function qXe(e,t,r,n){e.get(gs).getFTReporter(e)?.sendTelemetryEvent(r,rn.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(qXe,"sendFTTelemetryEvent");function Wv(e){return e.isFimEnabled?{promptPrefixCharLen:e.prefix.length,promptSuffixCharLen:e.suffix.length}:{promptCharLen:e.prefix.length}}o(Wv,"telemetrizePromptLength");function Ul(){return performance.now()}o(Ul,"now");function GXe(e){return Math.floor(e/1e3)}o(GXe,"nowSeconds");function KD(e){return e.get(Ql).optedIn}o(KD,"shouldSendRestricted");function YAe(e){return e.get(Ql).ftFlag!==""}o(YAe,"shouldSendFinetuningTelemetry");function Xt(e,t,r,n){return e.get(yo).register(WXe(e,t,Ul(),r?.extendedBy(),n))}o(Xt,"telemetry");async function WXe(e,t,r,n,i=0){let s=n||rn.createAndMarkAsIssued({},{});await s.makeReadyForSending(e,i??!1,"IncludeExp",r),(!Gv(i)||KD(e))&&S7(e,i,t,s),Gv(i)&&PXe.includes(t)&&YAe(e)&&qXe(e,i,t,s)}o(WXe,"_telemetry");function JD(e,t){return e.get(yo).register(HXe(e,t,Ul()))}o(JD,"telemetryExpProblem");async function HXe(e,t,r){let n="expProblem",i=rn.createAndMarkAsIssued(t,{});await i.makeReadyForSending(e,0,"SkipExp",r),S7(e,0,n,i)}o(HXe,"_telemetryExpProblem");function Hv(e,t,r,n){return e.get(yo).register(VXe(e,t,r,n))}o(Hv,"telemetryRaw");async function VXe(e,t,r,n){let i={...r,...KAe(e)};S7(e,0,t,{properties:i,measurements:n})}o(VXe,"_telemetryRaw");function KAe(e){let t=e.get(an),r={unique_id:Tr(),common_extname:t.getEditorPluginInfo().name,common_extversion:t.getEditorPluginInfo().version,common_vscodeversion:$h(t.getEditorInfo())},n=e.get(Ql);return n.trackingId&&(r.copilot_trackingId=n.trackingId),n.organizationsList&&(r.organizations_list=n.organizationsList),n.enterpriseList&&(r.enterprise_list=n.enterpriseList),n.sku&&(r.sku=n.sku),r}o(KAe,"createRequiredProperties");var bY=class extends Error{static{o(this,"CopilotNonError")}constructor(t){let r;try{r=JSON.stringify(t)}catch{r=String(t)}super(r),this.name="CopilotNonError",this.code=(0,zD.SHA256)(zD.enc.Utf16.parse(this.message)).toString().slice(0,16)}};function Fo(e,t,r,n,i){return e.get(yo).register(JAe(e,t,Ul(),r,{...n},i))}o(Fo,"telemetryException");async function JAe(e,t,r,n,i,s){let a;if(t instanceof Error){if(a=t,a.name==="Canceled"&&a.message==="Canceled"||a.name==="CodeExpectedError"||a instanceof Fs||a instanceof YD.ConnectionError||a instanceof YD.ResponseError)return}else{if(a=new bY(t),t&&typeof t=="object"&&t.name==="ExitStatus")return;if(a.stack?.startsWith(`${a}
`)){let E=a.stack.slice(`${a}
`.length).split(`
`);/^\s*(?:at )?(?:\w+\.)*_telemetryException\b/.test(E[0]??"")&&E.shift(),/^\s*(?:at )?(?:\w+\.)*telemetryException\b/.test(E[0]??"")&&E.shift(),a.stack=`${a}
${E.join(`
`)}`}}let l=e.get(an).getEditorInfo(),c;l.root&&(c=[{prefix:`${l.name}:`,path:l.root}]);let u=cY(a,c),f=KD(e),m=OXe(a),h=m==="exception",p=rn.createAndMarkAsIssued({origin:n??"",type:a.name,code:`${a.code??""}`,reason:u.stack||u.toString(),message:u.message,...i});if(await p.makeReadyForSending(e,0,"IncludeExp",r),s?.exception_detail)for(let E of s.exception_detail)E.value&&(f?E.value=aY(E.value):E.value="[redacted]");if(s??=pAe(e,cY(a,c,f)),s.context={...s.context,"copilot_event.unique_id":p.properties.unique_id,"#restricted_telemetry":f?"true":"false"},n&&(s.context["#origin"]=n,s.transaction=n),s.rollup_id!=="auto"&&(p.properties.errno=s.rollup_id),s.created_at=new Date(p.issuedTime).toISOString(),f){let E=UAe(a,c),x=rn.createAndMarkAsIssued({origin:n??"",type:a.name,code:`${a.code??""}`,reason:E.stack||E.toString(),message:E.message,...i});s.rollup_id!=="auto"&&(x.properties.errno=s.rollup_id),await x.makeReadyForSending(e,1,"IncludeExp",r),x.properties.unique_id=p.properties.unique_id,p.properties.restricted_unique_id=x.properties.unique_id,S7(e,1,`error.${m}`,x)}let A=s.rollup_id==="auto"?a.stack??"":s.rollup_id;h&&!e.get(zh).isThrottled(A)&&(p.properties.failbot_payload=JSON.stringify(s)),S7(e,0,`error.${m}`,p)}o(JAe,"_telemetryException");function pu(e,t,r,n){let i=o(async(...s)=>{try{await t(...s)}catch(a){await JAe(e,a,Ul(),r,n)}},"wrapped");return(...s)=>e.get(yo).register(i(...s))}o(pu,"telemetryCatch");function fC(e,t,r,n){return e.get(yo).register(jXe(e,t,Ul(),r?.extendedBy(),n))}o(fC,"telemetryError");async function jXe(e,t,r,n,i=0){if(Gv(i)&&!KD(e))return;let s=n||rn.createAndMarkAsIssued({},{});await s.makeReadyForSending(e,i,"IncludeExp",r),UXe(e,i,t,s)}o(jXe,"_telemetryError");function XAe(e,t,r,n,i){let s=rn.createAndMarkAsIssued({completionTextJson:JSON.stringify(t),choiceIndex:i.toString()});if(r.logprobs)for(let[a,l]of Object.entries(r.logprobs))s.properties["logprobs_"+a]=JSON.stringify(l)??"unset";return s.extendWithRequestId(n),Xt(e,"engine.completion",s,1)}o(XAe,"logEngineCompletion");function ZAe(e,t,r){let n;t.isFimEnabled?n={promptPrefixJson:JSON.stringify(t.prefix),promptSuffixJson:JSON.stringify(t.suffix),promptElementRanges:JSON.stringify(t.promptElementRanges)}:n={promptJson:JSON.stringify(t.prefix),promptElementRanges:JSON.stringify(t.promptElementRanges)};let i=r.extendedBy(n);return Xt(e,"engine.prompt",i,1)}o(ZAe,"logEnginePrompt");var Lf=class e{static{o(this,"ExpConfig")}constructor(t,r,n){this.variables=t,this.assignmentContext=r,this.features=n}static createFallbackConfig(t,r){return JD(t,{reason:r}),this.createEmptyConfig()}static createEmptyConfig(){return new e({},"","")}addToTelemetry(t){t.properties["VSCode.ABExp.Features"]=this.features,t.properties["abexp.assignmentcontext"]=this.assignmentContext}};d();var Mf=class{static{o(this,"ExpConfigMaker")}},Vv=class extends Mf{constructor(r="",n={}){super();this.overrideTASUrl=r;this.defaultFilters=n}static{o(this,"ExpConfigFromTAS")}async fetchExperiments(r,n){let i=r.get(Nr),s=Object.keys(n).length===0?this.defaultFilters:n,a=this.overrideTASUrl.length===0?r.get(Rn).getExperimentationUrl():this.overrideTASUrl,l;try{l=await i.fetch(a,{method:"GET",headers:s,timeout:5e3})}catch(m){return Lf.createFallbackConfig(r,`Error fetching ExP config: ${String(m)}`)}if(!l.ok)return Lf.createFallbackConfig(r,`ExP responded with ${l.status}`);let c;try{c=await l.json()}catch(m){if(m instanceof SyntaxError)return Fo(r,m,"fetchExperiments"),Lf.createFallbackConfig(r,"ExP responded with invalid JSON");throw m}let u=c.Configs.find(m=>m.Id==="vscode")??{Id:"vscode",Parameters:{}},f=Object.entries(u.Parameters).map(([m,h])=>m+(h?"":"cf"));return new Lf(u.Parameters,c.AssignmentContext,f.join(";"))}},XD=class extends Mf{static{o(this,"ExpConfigNone")}async fetchExperiments(t,r){return Lf.createEmptyConfig()}};d();d();var ZD=class{constructor(t){this.prefix=t}static{o(this,"GranularityImplementation")}getCurrentAndUpComingValues(t){let r=this.getValue(t),n=this.getUpcomingValues(t);return[r,n]}},IY=class extends ZD{static{o(this,"ConstantGranularity")}getValue(t){return this.prefix}getUpcomingValues(t){return[]}},r2e=o(e=>new IY(e),"DEFAULT_GRANULARITY"),eP=class extends ZD{constructor(r,n=.5,i=new Date().setUTCHours(0,0,0,0)){super(r);this.prefix=r;this.fetchBeforeFactor=n;this.anchor=i}static{o(this,"TimeBucketGranularity")}setTimePeriod(r){isNaN(r)?this.timePeriodLengthMs=void 0:this.timePeriodLengthMs=r}setByCallBuckets(r){isNaN(r)?this.numByCallBuckets=void 0:this.numByCallBuckets=r}getValue(r){return this.prefix+this.getTimePeriodBucketString(r)+(this.numByCallBuckets?this.timeHash(r):"")}getTimePeriodBucketString(r){return this.timePeriodLengthMs?this.dateToTimePartString(r):""}getUpcomingValues(r){let n=[],i=this.getUpcomingTimePeriodBucketStrings(r),s=this.getUpcomingByCallBucketStrings();for(let a of i)for(let l of s)n.push(this.prefix+a+l);return n}getUpcomingTimePeriodBucketStrings(r){if(this.timePeriodLengthMs===void 0)return[""];if((r.getTime()-this.anchor)%this.timePeriodLengthMs<this.fetchBeforeFactor*this.timePeriodLengthMs)return[this.getTimePeriodBucketString(r)];{let n=new Date(r.getTime()+this.timePeriodLengthMs);return[this.getTimePeriodBucketString(r),this.getTimePeriodBucketString(n)]}}getUpcomingByCallBucketStrings(){return this.numByCallBuckets===void 0?[""]:Array.from(Array(this.numByCallBuckets).keys()).map(r=>r.toString())}timeHash(r){return this.numByCallBuckets==null?0:7883*(r.getTime()%this.numByCallBuckets)%this.numByCallBuckets}dateToTimePartString(r){return this.timePeriodLengthMs==null?"":Math.floor((r.getTime()-this.anchor)/this.timePeriodLengthMs).toString()}};var n2e="X-Copilot-ClientTimeBucket",tP=class{constructor(t,r){this.specs=new Map;this.prefix=t,this.clock=r,this.defaultGranularity=r2e(t)}static{o(this,"GranularityDirectory")}selectGranularity(t){for(let[r,n]of this.specs.entries())if(t.extends(r))return n;return this.defaultGranularity}update(t,r,n){if(r=r>1?r:NaN,n=n>0?n:NaN,isNaN(r)&&isNaN(n))this.specs.delete(t);else{let i=new eP(this.prefix);isNaN(r)||i.setByCallBuckets(r),isNaN(n)||i.setTimePeriod(n*3600*1e3),this.specs.set(t,i)}}extendFilters(t){let r=this.selectGranularity(t),[n,i]=r.getCurrentAndUpComingValues(this.clock.now());return{newFilterSettings:t.withChange(n2e,n),otherFilterSettingsToPrefetch:i.map(s=>t.withChange(n2e,s))}}};d();d();d();d();d();d();function rP(e){return["a5db0bcaae94032fe715fb34a5e4bce2","7184f66dfcee98cb5f08a1cb936d5225","4535c7beffc844b46bb1ed4aa04d759a"].find(r=>e.includes(r))}o(rP,"findKnownOrg");d();d();var fl=class{static{o(this,"NotificationSender")}async showWarningMessageOnlyOnce(t,r,...n){return this.showWarningMessage(r,...n)}};d();d();var k7=ft(require("node:process"),1),v2e=require("node:buffer"),LY=ft(require("node:path"),1),b2e=require("node:url"),I2e=ft(require("node:child_process"),1),hC=ft(require("node:fs/promises"),1);d();var BY=ft(require("node:process"),1),s2e=ft(require("node:os"),1),a2e=ft(require("node:fs"),1);d();var i2e=ft(require("node:fs"),1);d();var wY=ft(require("node:fs"),1);var TY;function $Xe(){try{return wY.default.statSync("/.dockerenv"),!0}catch{return!1}}o($Xe,"hasDockerEnv");function zXe(){try{return wY.default.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}o(zXe,"hasDockerCGroup");function _Y(){return TY===void 0&&(TY=$Xe()||zXe()),TY}o(_Y,"isDocker");var SY,YXe=o(()=>{try{return i2e.default.statSync("/run/.containerenv"),!0}catch{return!1}},"hasContainerEnv");function jv(){return SY===void 0&&(SY=YXe()||_Y()),SY}o(jv,"isInsideContainer");var o2e=o(()=>{if(BY.default.platform!=="linux")return!1;if(s2e.default.release().toLowerCase().includes("microsoft"))return!jv();try{return a2e.default.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!jv():!1}catch{return!1}},"isWsl"),B7=BY.default.env.__IS_WSL_TEST__?o2e:o2e();d();function mC(e,t,r){let n=o(i=>Object.defineProperty(e,t,{value:i,enumerable:!0,writable:!0}),"define");return Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){let i=r();return n(i),i},set(i){n(i)}}),e}o(mC,"defineLazyProperty");d();var g2e=require("node:util"),iP=ft(require("node:process"),1),A2e=require("node:child_process");d();var l2e=require("node:util"),c2e=ft(require("node:process"),1),u2e=require("node:child_process");var KXe=(0,l2e.promisify)(u2e.execFile);async function kY(){if(c2e.default.platform!=="darwin")throw new Error("macOS only");let{stdout:e}=await KXe("defaults",["read","com.apple.LaunchServices/com.apple.launchservices.secure","LSHandlers"]);return/LSHandlerRoleAll = "(?!-)(?<id>[^"]+?)";\s+?LSHandlerURLScheme = (?:http|https);/.exec(e)?.groups.id??"com.apple.Safari"}o(kY,"defaultBrowserId");d();d();var f2e=ft(require("node:process"),1),d2e=require("node:util"),RY=require("node:child_process");var JXe=(0,d2e.promisify)(RY.execFile);async function m2e(e,{humanReadableOutput:t=!0}={}){if(f2e.default.platform!=="darwin")throw new Error("macOS only");let r=t?[]:["-ss"],{stdout:n}=await JXe("osascript",["-e",e,r]);return n.trim()}o(m2e,"runAppleScript");async function DY(e){return m2e(`tell application "Finder" to set app_path to application file id "${e}" as string
tell application "System Events" to get value of property list item "CFBundleName" of property list file (app_path & ":Contents:Info.plist")`)}o(DY,"bundleName");d();var h2e=require("node:util"),p2e=require("node:child_process");var XXe=(0,h2e.promisify)(p2e.execFile),ZXe={AppXq0fevzme2pys62n3e0fbqa7peapykr8v:{name:"Edge",id:"com.microsoft.edge.old"},MSEdgeDHTML:{name:"Edge",id:"com.microsoft.edge"},MSEdgeHTM:{name:"Edge",id:"com.microsoft.edge"},"IE.HTTP":{name:"Internet Explorer",id:"com.microsoft.ie"},FirefoxURL:{name:"Firefox",id:"org.mozilla.firefox"},ChromeHTML:{name:"Chrome",id:"com.google.chrome"},BraveHTML:{name:"Brave",id:"com.brave.Browser"},BraveBHTML:{name:"Brave Beta",id:"com.brave.Browser.beta"},BraveSSHTM:{name:"Brave Nightly",id:"com.brave.Browser.nightly"}},nP=class extends Error{static{o(this,"UnknownBrowserError")}};async function PY(e=XXe){let{stdout:t}=await e("reg",["QUERY"," HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\Shell\\Associations\\UrlAssociations\\http\\UserChoice","/v","ProgId"]),r=/ProgId\s*REG_SZ\s*(?<id>\S+)/.exec(t);if(!r)throw new nP(`Cannot find Windows browser in stdout: ${JSON.stringify(t)}`);let{id:n}=r.groups,i=ZXe[n];if(!i)throw new nP(`Unknown browser ID: ${n}`);return i}o(PY,"defaultBrowser");var eZe=(0,g2e.promisify)(A2e.execFile),tZe=o(e=>e.toLowerCase().replaceAll(/(?:^|\s|-)\S/g,t=>t.toUpperCase()),"titleize");async function NY(){if(iP.default.platform==="darwin"){let e=await kY();return{name:await DY(e),id:e}}if(iP.default.platform==="linux"){let{stdout:e}=await eZe("xdg-mime",["query","default","x-scheme-handler/http"]),t=e.trim();return{name:tZe(t.replace(/.desktop$/,"").replace("-"," ")),id:t}}if(iP.default.platform==="win32")return PY();throw new Error("Only macOS, Linux, and Windows are supported")}o(NY,"defaultBrowser");var FY=LY.default.dirname((0,b2e.fileURLToPath)(importMetaUrlShim)),y2e=LY.default.join(FY,"xdg-open"),{platform:$v,arch:C2e}=k7.default,rZe=(()=>{let e="/mnt/",t;return async function(){if(t)return t;let r="/etc/wsl.conf",n=!1;try{await hC.default.access(r,hC.constants.F_OK),n=!0}catch{}if(!n)return e;let i=await hC.default.readFile(r,{encoding:"utf8"}),s=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(i);return s?(t=s.groups.mountPoint.trim(),t=t.endsWith("/")?t:`${t}/`,t):e}})(),E2e=o(async(e,t)=>{let r;for(let n of e)try{return await t(n)}catch(i){r=i}throw r},"pTryEach"),oP=o(async e=>{if(e={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...e},Array.isArray(e.app))return E2e(e.app,l=>oP({...e,app:l}));let{name:t,arguments:r=[]}=e.app??{};if(r=[...r],Array.isArray(t))return E2e(t,l=>oP({...e,app:{name:l,arguments:r}}));if(t==="browser"||t==="browserPrivate"){let l={"com.google.chrome":"chrome","google-chrome.desktop":"chrome","org.mozilla.firefox":"firefox","firefox.desktop":"firefox","com.microsoft.msedge":"edge","com.microsoft.edge":"edge","microsoft-edge.desktop":"edge"},c={chrome:"--incognito",firefox:"--private-window",edge:"--inPrivate"},u=await NY();if(u.id in l){let f=l[u.id];return t==="browserPrivate"&&r.push(c[f]),oP({...e,app:{name:zv[f],arguments:r}})}throw new Error(`${u.name} is not supported as a default browser`)}let n,i=[],s={};if($v==="darwin")n="open",e.wait&&i.push("--wait-apps"),e.background&&i.push("--background"),e.newInstance&&i.push("--new"),t&&i.push("-a",t);else if($v==="win32"||B7&&!jv()&&!t){let l=await rZe();n=B7?`${l}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${k7.default.env.SYSTEMROOT||k7.default.env.windir||"C:\\Windows"}\\System32\\WindowsPowerShell\\v1.0\\powershell`,i.push("-NoProfile","-NonInteractive","-ExecutionPolicy","Bypass","-EncodedCommand"),B7||(s.windowsVerbatimArguments=!0);let c=["Start"];e.wait&&c.push("-Wait"),t?(c.push(`"\`"${t}\`""`),e.target&&r.push(e.target)):e.target&&c.push(`"${e.target}"`),r.length>0&&(r=r.map(u=>`"\`"${u}\`""`),c.push("-ArgumentList",r.join(","))),e.target=v2e.Buffer.from(c.join(" "),"utf16le").toString("base64")}else{if(t)n=t;else{let l=!FY||FY==="/",c=!1;try{await hC.default.access(y2e,hC.constants.X_OK),c=!0}catch{}n=k7.default.versions.electron??($v==="android"||l||!c)?"xdg-open":y2e}r.length>0&&i.push(...r),e.wait||(s.stdio="ignore",s.detached=!0)}$v==="darwin"&&r.length>0&&i.push("--args",...r),e.target&&i.push(e.target);let a=I2e.default.spawn(n,i,s);return e.wait?new Promise((l,c)=>{a.once("error",c),a.once("close",u=>{if(!e.allowNonzeroExitCode&&u>0){c(new Error(`Exited with code ${u}`));return}l(a)})}):(a.unref(),a)},"baseOpen"),nZe=o((e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `target`");return oP({...t,target:e})},"open");function x2e(e){if(typeof e=="string"||Array.isArray(e))return e;let{[C2e]:t}=e;if(!t)throw new Error(`${C2e} is not supported`);return t}o(x2e,"detectArchBinary");function QY({[$v]:e},{wsl:t}){if(t&&B7)return x2e(t);if(!e)throw new Error(`${$v} is not supported`);return x2e(e)}o(QY,"detectPlatformBinary");var zv={};mC(zv,"chrome",()=>QY({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}));mC(zv,"firefox",()=>QY({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}));mC(zv,"edge",()=>QY({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}));mC(zv,"browser",()=>"browser");mC(zv,"browserPrivate",()=>"browserPrivate");var sP=nZe;var ql=class{static{o(this,"UrlOpener")}},aP=class extends ql{static{o(this,"SpawnUrlOpener")}async open(t){await sP(t)}};var iZe=["UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_SIGNATURE_FAILURE"],T2e="Your proxy connection requires a trusted certificate. Please make sure the proxy certificate and any issuers are configured correctly and trusted by your operating system.",w2e="https://gh.io/copilot-network-errors",xc=class{constructor(){this.notifiedErrorCodes=[]}static{o(this,"UserErrorNotifier")}notifyUser(t,r){if(!(r instanceof Error))return;let n=r;n.code&&iZe.includes(n.code)&&!this.didNotifyBefore(n.code)&&(this.notifiedErrorCodes.push(n.code),this.displayCertificateErrorNotification(t,n))}async displayCertificateErrorNotification(t,r){new Er("certificates").error(t,`${T2e} Please visit ${w2e} to learn more. Original cause:`,r);let n={title:"Learn more"};return t.get(fl).showWarningMessage(T2e,n).then(i=>{if(i?.title===n.title)return t.get(ql).open(w2e)})}didNotifyBefore(t){return this.notifiedErrorCodes.indexOf(t)!==-1}};var Eu=new Er("auth"),B2e=60;function _2e(){return Math.floor(Date.now()/1e3)}o(_2e,"nowSeconds");async function lP(e,t){let r=rn.createAndMarkAsIssued({},{});Xt(e,"auth.new_login");let n=await oZe(e,t),i=await n.json(),s=i.user_notification;if(S2e(e,s,t),n.clientError&&!n.headers.get("x-github-request-id")&&Eu.error(e,`HTTP ${n.status} response does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`),n.status===401){let c="Failed to get copilot token due to 401 status. Please sign out and try again.";return Eu.info(e,c),fC(e,"auth.unknown_401",r),{kind:"failure",reason:"HTTP401",message:c,envelope:i}}if(!n.ok||!i.token){Eu.info(e,`Invalid copilot token: missing token: ${n.status} ${n.statusText}`),fC(e,"auth.invalid_token",r.extendedBy({status:n.status.toString(),status_text:n.statusText}));let c=i.error_details;return c?.notification_id!=="not_signed_up"&&S2e(e,c,t),{kind:"failure",reason:"NotAuthorized",message:"User not authorized",envelope:i,...c}}let a=i.expires_at;i.expires_at=_2e()+i.refresh_in+B2e;let l=new Xg(i);return b7(e,l),Xt(e,"auth.new_token",r.extendedBy({},{adjusted_expires_at:i.expires_at,expires_at:a,current_time:_2e()})),{kind:"success",envelope:i}}o(lP,"authFromGitHubToken");async function oZe(e,t){let r=e.get(Rn).getTokenUrl(t);try{return await e.get(Nr).fetch(r,{headers:{Authorization:`token ${t.token}`,...n0(e)},timeout:12e4})}catch(n){throw e.get(xc).notifyUser(e,n),n}}o(oZe,"fetchCopilotToken");function S2e(e,t,r){t&&e.get(fl).showWarningMessageOnlyOnce(t.notification_id,t.message,{title:t.title},{title:"Dismiss"}).then(async n=>{let i=n?.title===t.title,s=i||n?.title==="Dismiss";if(i){let a=e.get(an).getEditorPluginInfo(),l=t.url.replace("{EDITOR}",encodeURIComponent(a.name+"_"+a.version));await e.get(ql).open(l)}t.notification_id&&s&&await sZe(e,t.notification_id,r)}).catch(n=>{Eu.exception(e,n,"copilotToken.notification")})}o(S2e,"notifyUser");async function sZe(e,t,r){let n=e.get(Rn).getNotificationUrl(r),i=await e.get(Nr).fetch(n,{headers:{Authorization:`token ${r.token}`,...n0(e)},method:"POST",body:JSON.stringify({notification_id:t})});(!i||!i.ok)&&Eu.error(e,`Failed to send notification result to GitHub: ${i?.status} ${i?.statusText}`)}o(sZe,"sendNotificationResultToGitHub");var Xg=class{constructor(t){this.envelope=t;this.token=t.token,this.organization_list=t.organization_list,this.enterprise_list=t.enterprise_list,this.tokenMap=this.parseToken(this.token)}static{o(this,"CopilotToken")}needsRefresh(){return(this.envelope.expires_at-B2e)*1e3<Date.now()}isExpired(){return this.envelope.expires_at*1e3<Date.now()}get hasKnownOrg(){return rP(this.organization_list||[])!==void 0}parseToken(t){let r=new Map,i=(t??"").split(":")[0].split(";");for(let s of i){let[a,l]=s.split("=");r.set(a,l)}return r}getTokenValue(t){return this.tokenMap.get(t)}};d();var In=class{constructor(t,r){this.authPersistence=t;this._copilotTokenManager=r;this.pendingSignIn=void 0}static{o(this,"AuthManager")}#e;getCopilotTokenManager(){return this._copilotTokenManager}async checkAndUpdateStatus(t,r){let n=r?.localChecksOnly??!1,i=k2e(process.env);return i===void 0&&(i=await this.getAuthRecord(r?.githubAppId)),i===void 0?(this._copilotTokenManager.resetToken(),await this._copilotTokenManager.primeToken(),{status:"NotSignedIn"}):n?{status:"MaybeOK",user:i.user}:(r?.forceRefresh&&this._copilotTokenManager.resetToken(),{status:await this.getTokenWithSignUpLimited(t,i,r?.freshSignIn??!1),user:i.user})}async getAuthRecord(t){if(this.#e!==null)return this.#e??this.getPersistedAuthRecord(t)}async getTokenWithSignUpLimited(t,r,n){try{await this._copilotTokenManager.getToken()}catch(i){if(i instanceof Of)return n&&i.result.envelope?.can_signup_for_limited&&await this.signUpLimited(t,r)?this.getTokenWithSignUpLimited(t,r,!1):i.result.reason==="HTTP401"?"NotSignedIn":i.result.reason;throw i}return"OK"}async getPersistedAuthRecord(t){return await this.authPersistence.getAuthRecord(t)}async getGitHubToken(t){let r=k2e(process.env)??await this.getAuthRecord();if(r===void 0)return;let n={token:r.oauth_token};return r.dev_override&&Qf(t)==="dev"&&(n.devOverride={copilotTokenUrl:r.dev_override.copilot_token_url,notificationUrl:r.dev_override.notification_url,contentRestrictionsUrl:r.dev_override.content_restrictions_url}),n}async signUpLimited(t,r){let n=t.get(Rn).getSignUpLimitedUrl();try{return(await(await t.get(Nr).fetch(n,{headers:{Authorization:`token ${r.oauth_token}`,...n0(t)},method:"POST",body:JSON.stringify({restricted_telemetry:t.get(yu).isEnabled?"enabled":"disabled",public_code_suggestions:"enabled"})})).json())?.subscribed||!1}catch(i){return Eu.exception(t,i,"signUpLimited failed"),!1}}async setAuthRecord(t,r){await this.authPersistence.saveAuthRecord(r),this._copilotTokenManager.resetToken()}setTransientAuthRecord(t,r,n=!0){this.#e=r,n&&this._copilotTokenManager.resetToken()}async deleteAuthRecord(t){await this.authPersistence.deleteAuthRecord(),!this.#e&&(this._copilotTokenManager.resetToken(),await this._copilotTokenManager.primeToken())}};function k2e(e){if(e.GH_COPILOT_TOKEN&&!/=/.test(e.GH_COPILOT_TOKEN))return{user:"<environment-variable-user>",oauth_token:e.GH_COPILOT_TOKEN};if(e.GITHUB_COPILOT_TOKEN)return{user:"<environment-variable-user>",oauth_token:e.GITHUB_COPILOT_TOKEN};if(e.CODESPACES==="true"&&e.GITHUB_TOKEN)return{user:e.GITHUB_USER||"<codespaces-user>",oauth_token:e.GITHUB_TOKEN}}o(k2e,"getAuthRecordFromEnv");d();var Yi=class{static{o(this,"StatusReporter")}#e=0;#t="Normal";#i;#n;#r=!0;get busy(){return this.#e>0}withProgress(t){return this.#t==="Warning"&&this.forceNormal(),this.#e++===0&&this.#o(),t().finally(()=>{--this.#e===0&&this.#o()})}forceStatus(t,r,n){this.#t===t&&this.#i===r&&!n&&!this.#n&&!this.#r||(this.#t=t,this.#i=r,this.#n=n,this.#r=!1,this.#o())}forceNormal(){this.#t!=="Inactive"&&this.forceStatus("Normal")}setError(t,r){this.forceStatus("Error",t,r)}setWarning(t){this.#t!=="Error"&&this.forceStatus("Warning",t)}setInactive(t){this.#t==="Error"||this.#t==="Warning"||this.forceStatus("Inactive",t)}clearInactive(){this.#t==="Inactive"&&this.forceStatus("Normal")}#o(){let t={kind:this.#t,message:this.#i,busy:this.busy,command:this.#n};this.didChange(t)}},cP=class extends Yi{static{o(this,"NoOpStatusReporter")}didChange(){}};var jr=class{static{o(this,"CopilotTokenManager")}constructor(){}async getGitHubToken(){return(await this.getGitHubSession())?.token}primeToken(){try{return this.getToken().then(()=>{},()=>{})}catch{return Promise.resolve()}}},Of=class extends Fs{constructor(r){super(r.message??"");this.result=r}static{o(this,"TokenResultError")}},uP=class extends jr{constructor(r){super();this.ctx=r;this.token=void 0;this.tokenPromise=void 0}static{o(this,"CopilotTokenManagerFromGitHubTokenBase")}async fetchCopilotTokenEnvelope(){let r=await this.getGitHubSession();if(!r)throw new Of({reason:"NotSignedIn"});if(!r?.token)throw new Of({reason:"HTTP401"});let n=await lP(this.ctx,r);if(n.kind==="failure"){if(n.message)throw new Of(n);let i=new Error(`Unexpected error getting Copilot token: ${n.reason}`);throw i.code=`CopilotToken.${n.reason}`,i}return n.envelope}async getToken(){if(!this.tokenPromise&&(!this.token||this.token?.needsRefresh())){let r=this.fetchCopilotTokenEnvelope().then(n=>{let i=new Xg(n);return this.tokenPromise!==r?i:(this.token=i,this.tokenPromise=void 0,this.ctx.get(Yi).forceNormal(),this.token)},n=>{if(this.tokenPromise!==r)throw n;this.tokenPromise=void 0;let i=this.ctx.get(Yi);if(n instanceof Of)switch(n.result.reason){case"NotSignedIn":i.setError("You are not signed into GitHub.",{command:"github.copilot.signIn",title:"Sign In"});break;case"HTTP401":i.setError("Your GitHub token is invalid. Try signing in again.");break;case"NotAuthorized":i.setError(n.message||"No access to Copilot found.");break}else i.setWarning(String(n));throw n});this.tokenPromise=r}return this.token&&!this.token.isExpired()?this.token:await this.tokenPromise}resetToken(r){r!==void 0?(Xt(this.ctx,"auth.reset_token_"+r),Eu.debug(this.ctx,`Resetting copilot token on HTTP error ${r}`)):Eu.debug(this.ctx,"Resetting copilot token"),this.token=void 0,this.tokenPromise=void 0}},Yv=class extends uP{static{o(this,"CopilotTokenManagerFromAuthManager")}async getGitHubSession(){return await this.ctx.get(In).getGitHubToken(this.ctx)}};function aZe(e){let t=e.getCopilotIntegrationId();if(t)return t;switch(e.getEditorPluginInfo().name){case"copilot-intellij":return"jetbrains-chat";case"copilot":case"copilot-vs":return;default:return"jetbrains-chat"}}o(aZe,"getIntegrationId");function Kv(e){let t={...n0(e),"X-GitHub-Api-Version":"2025-01-21"},r=aZe(e.get(an));return r&&(t["Copilot-Integration-Id"]=r),t}o(Kv,"getCapiHeaders");function Jv(e,t,...r){return Pv(e,t,"api",...r)}o(Jv,"getCapiUrl");async function pC(e,t){let r=await e.get(jr).getToken(),n=Jv(e,r,t),i={Authorization:`Bearer ${r.token}`,...Kv(e)};return await e.get(Nr).fetch(new URL(n).href,{method:"GET",headers:i})}o(pC,"fetchCapiUrl");async function R2e(e,t,r){let n=await e.get(jr).getToken(),i=Jv(e,n,t),s={Authorization:`Bearer ${n.token}`,...Kv(e)};return await e.get(Nr).fetch(new URL(i).href,{method:"POST",headers:s,body:r})}o(R2e,"postCapiUrl");d();var D2e=10*60*1e3,Qi={Gpt35turbo:"gpt-3.5-turbo",Gpt4:"gpt-4",Gpt4turbo:"gpt-4-turbo",Gpt4o:"gpt-4o",Gpt4oMini:"gpt-4o-mini",O1Mini:"o1-mini",O1Ga:"o1-ga",Claude35Sonnet:"claude-3.5-sonnet",O3Mini:"o3-mini",Gemini20Flash:"gemini-2.0-flash",Claude37Sonnet:"claude-3.7-sonnet",Claude37SonnetThought:"claude-3.7-sonnet-thought",Gpt45:"gpt-4.5",Unknown:"unknown"};function Xo(e){switch(e){case"edits":case"user":case"inline":return[Qi.Gpt4o,Qi.Gpt4turbo,Qi.Gpt4,Qi.O1Mini,Qi.O1Ga,Qi.Claude35Sonnet,Qi.O3Mini,Qi.Gemini20Flash,Qi.Claude37Sonnet,Qi.Claude37SonnetThought,Qi.Gpt45];case"meta":case"suggestions":case"synonyms":return[Qi.Gpt4oMini,Qi.Gpt35turbo]}}o(Xo,"getSupportedModelFamiliesForPrompt");var mP={textEmbedding3Small:"text-embedding-3-small"},lZe=T.Object({type:T.Union([T.Literal("chat"),T.Literal("embeddings"),T.Literal("completion")]),tokenizer:T.String(),family:T.String(),object:T.String(),supports:T.Optional(T.Object({tool_calls:T.Optional(T.Boolean()),parallel_tool_calls:T.Optional(T.Boolean()),streaming:T.Optional(T.Boolean()),vision:T.Optional(T.Boolean())})),limits:T.Optional(T.Object({max_inputs:T.Optional(T.Number()),max_prompt_tokens:T.Optional(T.Number()),max_output_tokens:T.Optional(T.Number()),max_context_window_tokens:T.Optional(T.Number())}))}),cZe=T.Object({id:T.String(),name:T.String(),version:T.String(),model_picker_enabled:T.Boolean(),capabilities:lZe,object:T.String(),preview:T.Optional(T.Boolean()),isExperimental:T.Optional(T.Boolean()),policy:T.Optional(T.Object({state:T.String(),terms:T.String()}))}),P2e=T.Object({data:T.Array(cZe)}),xu=class{static{o(this,"ModelMetadataProvider")}},fP=class extends xu{constructor(r){super();this.ctx=r;this._metadata=[];this._lastFetchTime=0}static{o(this,"CapiModelMetadataProvider")}async getMetadata(){return this.shouldRefreshModels()&&await this.fetchMetadata(),this._metadata.slice()}async fetchMetadata(){let r=await pC(this.ctx,"/models");if(!r.ok)throw ei.error(this.ctx,"Failed to fetch models from CAPI",{status:r.status,statusText:r.statusText}),new H3(r);await this.processModels(r)}async fetchModel(r){let n=await pC(this.ctx,`/models/${r}`);if(!n.ok){ei.error(this.ctx,`Failed to fetch model ${r} from CAPI`,{status:n.status,statusText:n.statusText});return}return await n.json()}async acceptModelPolicy(r){return(await R2e(this.ctx,`/models/${r}/policy`,JSON.stringify({status:"enabled"}))).ok?(await this.fetchMetadata(),!0):!1}async processModels(r){try{let n=await r.json();this._metadata=n.data,this._lastFetchTime=Date.now()}catch(n){ei.error(this.ctx,"Failed to parse models from CAPI",{error:n})}}shouldRefreshModels(){return this._metadata.length===0||!this._lastFetchTime?!0:this.isLastFetchOlderTenMinutes()}isLastFetchOlderTenMinutes(){return Date.now()-this._lastFetchTime>D2e}},dP=class extends xu{constructor(r,n){super();this.ctx=r;this.delegate=n;this._exp_models_cache=new Map}static{o(this,"ExpModelMetadataProvider")}async getMetadata(){let r=this.ctx.get(er),n=await r.updateExPValuesAndAssignments(),i=r.ideChatExpModelIds(n),s=[];if(i){let a=i?.split(",");for(let l of a){let c=await this.fetchModel(l.trim());c!==void 0&&(c.isExperimental=!0,s.push(c))}}return s.concat(await this.delegate.getMetadata())}async fetchModel(r){let n=this._exp_models_cache.get(r);if(n){let[s,a]=n;if(Date.now()-a<D2e)return s}let i=await this.delegate.fetchModel(r);if(i)return this._exp_models_cache.set(r,[i,Date.now()]),i}async acceptModelPolicy(r){return await this.delegate.acceptModelPolicy(r)}};d();function N2e(e){let t=ai(e,qt.UserSelectedCompletionModel);return typeof t=="string"&&t.length>0?t:null}o(N2e,"getUserSelectedModelConfiguration");d();d();var uZe=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},L2e=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},MY,hP,Q2e,OY=class extends fn{static{o(this,"AssertError")}constructor(t){let r=t.First();super(r===void 0?"Invalid Value":r.message),MY.add(this),hP.set(this,void 0),uZe(this,hP,t,"f"),this.error=r}Errors(){return new J2(L2e(this,MY,"m",Q2e).call(this))}};hP=new WeakMap,MY=new WeakSet,Q2e=o(function*(){this.error&&(yield this.error),yield*L2e(this,hP,"f")},"_AssertError_Iterator");function F2e(e,t,r){if(!ti(e,t,r))throw new OY(Kh(e,t,r))}o(F2e,"AssertValue");function pP(...e){return e.length===3?F2e(e[0],e[1],e[2]):F2e(e[0],[],e[1])}o(pP,"Assert");d();d();d();function fZe(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=Mi(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=Mi(e[r]);return t}o(fZe,"FromObject");function dZe(e){return e.map(t=>Mi(t))}o(dZe,"FromArray");function mZe(e){return e.slice()}o(mZe,"FromTypedArray");function hZe(e){return new Map(Mi([...e.entries()]))}o(hZe,"FromMap");function pZe(e){return new Set(Mi([...e.entries()]))}o(pZe,"FromSet");function gZe(e){return new Date(e.toISOString())}o(gZe,"FromDate");function Mi(e){if(un(e))return dZe(e);if(B0(e))return gZe(e);if(bf(e))return mZe(e);if(ude(e))return hZe(e);if(fde(e))return pZe(e);if(Kn(e))return fZe(e);if(au(e))return e;throw new Error("ValueClone: Unable to clone value")}o(Mi,"Clone");var vu=class extends fn{static{o(this,"ValueCreateError")}constructor(t,r){super(r),this.schema=t}};function Oi(e){return k2(e)?e():Mi(e)}o(Oi,"FromDefault");function AZe(e,t){return cn(e,"default")?Oi(e.default):{}}o(AZe,"FromAny");function yZe(e,t){return{}}o(yZe,"FromArgument");function CZe(e,t){if(e.uniqueItems===!0&&!cn(e,"default"))throw new vu(e,"Array with the uniqueItems constraint requires a default value");if("contains"in e&&!cn(e,"default"))throw new vu(e,"Array with the contains constraint requires a default value");return"default"in e?Oi(e.default):e.minItems!==void 0?Array.from({length:e.minItems}).map(r=>vc(e.items,t)):[]}o(CZe,"FromArray");function EZe(e,t){return cn(e,"default")?Oi(e.default):async function*(){}()}o(EZe,"FromAsyncIterator");function xZe(e,t){return cn(e,"default")?Oi(e.default):BigInt(0)}o(xZe,"FromBigInt");function vZe(e,t){return cn(e,"default")?Oi(e.default):!1}o(vZe,"FromBoolean");function bZe(e,t){if(cn(e,"default"))return Oi(e.default);{let r=vc(e.returns,t);return typeof r=="object"&&!Array.isArray(r)?class{constructor(){for(let[n,i]of Object.entries(r)){let s=this;s[n]=i}}}:class{}}}o(bZe,"FromConstructor");function IZe(e,t){return cn(e,"default")?Oi(e.default):e.minimumTimestamp!==void 0?new Date(e.minimumTimestamp):new Date}o(IZe,"FromDate");function TZe(e,t){return cn(e,"default")?Oi(e.default):()=>vc(e.returns,t)}o(TZe,"FromFunction");function wZe(e,t){let r=globalThis.Object.values(e.$defs),n=e.$defs[e.$ref];return vc(n,[...t,...r])}o(wZe,"FromImport");function _Ze(e,t){return cn(e,"default")?Oi(e.default):e.minimum!==void 0?e.minimum:0}o(_Ze,"FromInteger");function SZe(e,t){if(cn(e,"default"))return Oi(e.default);{let r=e.allOf.reduce((n,i)=>{let s=vc(i,t);return typeof s=="object"?{...n,...s}:s},{});if(!ti(e,t,r))throw new vu(e,"Intersect produced invalid value. Consider using a default value.");return r}}o(SZe,"FromIntersect");function BZe(e,t){return cn(e,"default")?Oi(e.default):function*(){}()}o(BZe,"FromIterator");function kZe(e,t){return cn(e,"default")?Oi(e.default):e.const}o(kZe,"FromLiteral");function RZe(e,t){if(cn(e,"default"))return Oi(e.default);throw new vu(e,"Never types cannot be created. Consider using a default value.")}o(RZe,"FromNever");function DZe(e,t){if(cn(e,"default"))return Oi(e.default);throw new vu(e,"Not types must have a default value")}o(DZe,"FromNot");function PZe(e,t){return cn(e,"default")?Oi(e.default):null}o(PZe,"FromNull");function NZe(e,t){return cn(e,"default")?Oi(e.default):e.minimum!==void 0?e.minimum:0}o(NZe,"FromNumber");function FZe(e,t){if(cn(e,"default"))return Oi(e.default);{let r=new Set(e.required),n={};for(let[i,s]of Object.entries(e.properties))r.has(i)&&(n[i]=vc(s,t));return n}}o(FZe,"FromObject");function LZe(e,t){return cn(e,"default")?Oi(e.default):Promise.resolve(vc(e.item,t))}o(LZe,"FromPromise");function QZe(e,t){let[r,n]=Object.entries(e.patternProperties)[0];if(cn(e,"default"))return Oi(e.default);if(r===Uh||r===Oh)return{};{let i=r.slice(1,r.length-1).split("|"),s={};for(let a of i)s[a]=vc(n,t);return s}}o(QZe,"FromRecord");function MZe(e,t){return cn(e,"default")?Oi(e.default):vc(Li(e,t),t)}o(MZe,"FromRef");function OZe(e,t){if(cn(e,"default"))return Oi(e.default);throw new vu(e,"RegExp types cannot be created. Consider using a default value.")}o(OZe,"FromRegExp");function UZe(e,t){if(e.pattern!==void 0){if(cn(e,"default"))return Oi(e.default);throw new vu(e,"String types with patterns must specify a default value")}else if(e.format!==void 0){if(cn(e,"default"))return Oi(e.default);throw new vu(e,"String types with formats must specify a default value")}else return cn(e,"default")?Oi(e.default):e.minLength!==void 0?Array.from({length:e.minLength}).map(()=>" ").join(""):""}o(UZe,"FromString");function qZe(e,t){return cn(e,"default")?Oi(e.default):"value"in e?Symbol.for(e.value):Symbol()}o(qZe,"FromSymbol");function GZe(e,t){if(cn(e,"default"))return Oi(e.default);if(!vR(e))throw new vu(e,"Can only create template literals that produce a finite variants. Consider using a default value.");return tv(e)[0]}o(GZe,"FromTemplateLiteral");function WZe(e,t){if(M2e++>JZe)throw new vu(e,"Cannot create recursive type as it appears possibly infinite. Consider using a default.");return cn(e,"default")?Oi(e.default):vc(Li(e,t),t)}o(WZe,"FromThis");function HZe(e,t){return cn(e,"default")?Oi(e.default):e.items===void 0?[]:Array.from({length:e.minItems}).map((r,n)=>vc(e.items[n],t))}o(HZe,"FromTuple");function VZe(e,t){if(cn(e,"default"))return Oi(e.default)}o(VZe,"FromUndefined");function jZe(e,t){if(cn(e,"default"))return Oi(e.default);if(e.anyOf.length===0)throw new Error("ValueCreate.Union: Cannot create Union with zero variants");return vc(e.anyOf[0],t)}o(jZe,"FromUnion");function $Ze(e,t){return cn(e,"default")?Oi(e.default):e.minByteLength!==void 0?new Uint8Array(e.minByteLength):new Uint8Array(0)}o($Ze,"FromUint8Array");function zZe(e,t){return cn(e,"default")?Oi(e.default):{}}o(zZe,"FromUnknown");function YZe(e,t){if(cn(e,"default"))return Oi(e.default)}o(YZe,"FromVoid");function KZe(e,t){if(cn(e,"default"))return Oi(e.default);throw new Error("User defined types must specify a default value")}o(KZe,"FromKind");function vc(e,t){let r=ll(e,t),n=e;switch(n[nt]){case"Any":return AZe(n,r);case"Argument":return yZe(n,r);case"Array":return CZe(n,r);case"AsyncIterator":return EZe(n,r);case"BigInt":return xZe(n,r);case"Boolean":return vZe(n,r);case"Constructor":return bZe(n,r);case"Date":return IZe(n,r);case"Function":return TZe(n,r);case"Import":return wZe(n,r);case"Integer":return _Ze(n,r);case"Intersect":return SZe(n,r);case"Iterator":return BZe(n,r);case"Literal":return kZe(n,r);case"Never":return RZe(n,r);case"Not":return DZe(n,r);case"Null":return PZe(n,r);case"Number":return NZe(n,r);case"Object":return FZe(n,r);case"Promise":return LZe(n,r);case"Record":return QZe(n,r);case"Ref":return MZe(n,r);case"RegExp":return OZe(n,r);case"String":return UZe(n,r);case"Symbol":return qZe(n,r);case"TemplateLiteral":return GZe(n,r);case"This":return WZe(n,r);case"Tuple":return HZe(n,r);case"Undefined":return VZe(n,r);case"Union":return jZe(n,r);case"Uint8Array":return $Ze(n,r);case"Unknown":return zZe(n,r);case"Void":return YZe(n,r);default:if(!k0.Has(n[nt]))throw new vu(n,"Unknown type");return KZe(n,r)}}o(vc,"Visit");var JZe=512,M2e=0;function Uf(...e){return M2e=0,e.length===2?vc(e[0],e[1]):vc(e[0],[])}o(Uf,"Create");var gP=class extends fn{static{o(this,"ValueCastError")}constructor(t,r){super(r),this.schema=t}};function XZe(e,t,r){if(e[nt]==="Object"&&typeof r=="object"&&!Lg(r)){let n=e,i=Object.getOwnPropertyNames(r),s=Object.entries(n.properties),[a,l]=[1/s.length,s.length];return s.reduce((c,[u,f])=>{let m=f[nt]==="Literal"&&f.const===r[u]?l:0,h=ti(f,t,r[u])?a:0,p=i.includes(u)?a:0;return c+(m+h+p)},0)}else return ti(e,t,r)?1:0}o(XZe,"ScoreUnion");function ZZe(e,t,r){let n=e.anyOf.map(a=>Li(a,t)),[i,s]=[n[0],0];for(let a of n){let l=XZe(a,t,r);l>s&&(i=a,s=l)}return i}o(ZZe,"SelectUnion");function eet(e,t,r){if("default"in e)return typeof r=="function"?e.default:Mi(e.default);{let n=ZZe(e,t,r);return R7(n,t,r)}}o(eet,"CastUnion");function tet(e,t,r){return ti(e,t,r)?Mi(r):Uf(e,t)}o(tet,"DefaultClone");function ret(e,t,r){return ti(e,t,r)?r:Uf(e,t)}o(ret,"Default");function net(e,t,r){if(ti(e,t,r))return Mi(r);let n=un(r)?Mi(r):Uf(e,t),i=Vr(e.minItems)&&n.length<e.minItems?[...n,...Array.from({length:e.minItems-n.length},()=>null)]:n,a=(Vr(e.maxItems)&&i.length>e.maxItems?i.slice(0,e.maxItems):i).map(c=>gm(e.items,t,c));if(e.uniqueItems!==!0)return a;let l=[...new Set(a)];if(!ti(e,t,l))throw new gP(e,"Array cast produced invalid data due to uniqueItems constraint");return l}o(net,"FromArray");function iet(e,t,r){if(ti(e,t,r))return Uf(e,t);let n=new Set(e.returns.required||[]),i=o(function(){},"result");for(let[s,a]of Object.entries(e.returns.properties))!n.has(s)&&r.prototype[s]===void 0||(i.prototype[s]=gm(a,t,r.prototype[s]));return i}o(iet,"FromConstructor");function oet(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return gm(i,[...t,...n],r)}o(oet,"FromImport");function set(e,t,r){let n=Uf(e,t),i=Kn(n)&&Kn(r)?{...n,...r}:r;return ti(e,t,i)?i:Uf(e,t)}o(set,"FromIntersect");function aet(e,t,r){throw new gP(e,"Never types cannot be cast")}o(aet,"FromNever");function cet(e,t,r){if(ti(e,t,r))return r;if(r===null||typeof r!="object")return Uf(e,t);let n=new Set(e.required||[]),i={};for(let[s,a]of Object.entries(e.properties))!n.has(s)&&r[s]===void 0||(i[s]=gm(a,t,r[s]));if(typeof e.additionalProperties=="object"){let s=Object.getOwnPropertyNames(e.properties);for(let a of Object.getOwnPropertyNames(r))s.includes(a)||(i[a]=gm(e.additionalProperties,t,r[a]))}return i}o(cet,"FromObject");function uet(e,t,r){if(ti(e,t,r))return Mi(r);if(r===null||typeof r!="object"||Array.isArray(r)||r instanceof Date)return Uf(e,t);let n=Object.getOwnPropertyNames(e.patternProperties)[0],i=e.patternProperties[n],s={};for(let[a,l]of Object.entries(r))s[a]=gm(i,t,l);return s}o(uet,"FromRecord");function fet(e,t,r){return gm(Li(e,t),t,r)}o(fet,"FromRef");function det(e,t,r){return gm(Li(e,t),t,r)}o(det,"FromThis");function met(e,t,r){return ti(e,t,r)?Mi(r):un(r)?e.items===void 0?[]:e.items.map((n,i)=>gm(n,t,r[i])):Uf(e,t)}o(met,"FromTuple");function het(e,t,r){return ti(e,t,r)?Mi(r):eet(e,t,r)}o(het,"FromUnion");function gm(e,t,r){let n=Bi(e.$id)?ll(e,t):t,i=e;switch(e[nt]){case"Array":return net(i,n,r);case"Constructor":return iet(i,n,r);case"Import":return oet(i,n,r);case"Intersect":return set(i,n,r);case"Never":return aet(i,n,r);case"Object":return cet(i,n,r);case"Record":return uet(i,n,r);case"Ref":return fet(i,n,r);case"This":return det(i,n,r);case"Tuple":return met(i,n,r);case"Union":return het(i,n,r);case"Date":case"Symbol":case"Uint8Array":return tet(e,t,r);default:return ret(i,n,r)}}o(gm,"Visit");function R7(...e){return e.length===3?gm(e[0],e[1],e[2]):gm(e[0],[],e[1])}o(R7,"Cast");d();function pet(e){return D2(e)&&e[nt]!=="Unsafe"}o(pet,"IsCheckable");function get(e,t,r){return un(r)?r.map(n=>bc(e.items,t,n)):r}o(get,"FromArray");function Aet(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return bc(i,[...t,...n],r)}o(Aet,"FromImport");function yet(e,t,r){let n=e.unevaluatedProperties,s=e.allOf.map(l=>bc(l,t,Mi(r))).reduce((l,c)=>Kn(c)?{...l,...c}:c,{});if(!Kn(r)||!Kn(s)||!D2(n))return s;let a=pc(e);for(let l of Object.getOwnPropertyNames(r))a.includes(l)||ti(n,t,r[l])&&(s[l]=bc(n,t,r[l]));return s}o(yet,"FromIntersect");function Cet(e,t,r){if(!Kn(r)||un(r))return r;let n=e.additionalProperties;for(let i of Object.getOwnPropertyNames(r)){if(cn(e.properties,i)){r[i]=bc(e.properties[i],t,r[i]);continue}if(D2(n)&&ti(n,t,r[i])){r[i]=bc(n,t,r[i]);continue}delete r[i]}return r}o(Cet,"FromObject");function Eet(e,t,r){if(!Kn(r))return r;let n=e.additionalProperties,i=Object.getOwnPropertyNames(r),[s,a]=Object.entries(e.patternProperties)[0],l=new RegExp(s);for(let c of i){if(l.test(c)){r[c]=bc(a,t,r[c]);continue}if(D2(n)&&ti(n,t,r[c])){r[c]=bc(n,t,r[c]);continue}delete r[c]}return r}o(Eet,"FromRecord");function xet(e,t,r){return bc(Li(e,t),t,r)}o(xet,"FromRef");function vet(e,t,r){return bc(Li(e,t),t,r)}o(vet,"FromThis");function bet(e,t,r){if(!un(r))return r;if($o(e.items))return[];let n=Math.min(r.length,e.items.length);for(let i=0;i<n;i++)r[i]=bc(e.items[i],t,r[i]);return r.length>n?r.slice(0,n):r}o(bet,"FromTuple");function Iet(e,t,r){for(let n of e.anyOf)if(pet(n)&&ti(n,t,r))return bc(n,t,r);return r}o(Iet,"FromUnion");function bc(e,t,r){let n=Bi(e.$id)?ll(e,t):t,i=e;switch(i[nt]){case"Array":return get(i,n,r);case"Import":return Aet(i,n,r);case"Intersect":return yet(i,n,r);case"Object":return Cet(i,n,r);case"Record":return Eet(i,n,r);case"Ref":return xet(i,n,r);case"This":return vet(i,n,r);case"Tuple":return bet(i,n,r);case"Union":return Iet(i,n,r);default:return r}}o(bc,"Visit");function AP(...e){return e.length===3?bc(e[0],e[1],e[2]):bc(e[0],[],e[1])}o(AP,"Clean");d();function yP(e){return Bi(e)&&!isNaN(e)&&!isNaN(parseFloat(e))}o(yP,"IsStringNumeric");function Tet(e){return Nl(e)||Mh(e)||Vr(e)}o(Tet,"IsValueToString");function D7(e){return e===!0||Vr(e)&&e===1||Nl(e)&&e===BigInt("1")||Bi(e)&&(e.toLowerCase()==="true"||e==="1")}o(D7,"IsValueTrue");function P7(e){return e===!1||Vr(e)&&(e===0||Object.is(e,-0))||Nl(e)&&e===BigInt("0")||Bi(e)&&(e.toLowerCase()==="false"||e==="0"||e==="-0")}o(P7,"IsValueFalse");function wet(e){return Bi(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}o(wet,"IsTimeStringWithTimeZone");function _et(e){return Bi(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}o(_et,"IsTimeStringWithoutTimeZone");function Bet(e){return Bi(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}o(Bet,"IsDateTimeStringWithTimeZone");function ket(e){return Bi(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}o(ket,"IsDateTimeStringWithoutTimeZone");function Ret(e){return Bi(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\d$/i.test(e)}o(Ret,"IsDateString");function Det(e,t){let r=U2e(e);return r===t?r:e}o(Det,"TryConvertLiteralString");function Pet(e,t){let r=q2e(e);return r===t?r:e}o(Pet,"TryConvertLiteralNumber");function Net(e,t){let r=O2e(e);return r===t?r:e}o(Net,"TryConvertLiteralBoolean");function Fet(e,t){return Bi(e.const)?Det(t,e.const):Vr(e.const)?Pet(t,e.const):Mh(e.const)?Net(t,e.const):t}o(Fet,"TryConvertLiteral");function O2e(e){return D7(e)?!0:P7(e)?!1:e}o(O2e,"TryConvertBoolean");function Let(e){let t=o(r=>r.split(".")[0],"truncateInteger");return yP(e)?BigInt(t(e)):Vr(e)?BigInt(Math.trunc(e)):P7(e)?BigInt(0):D7(e)?BigInt(1):e}o(Let,"TryConvertBigInt");function U2e(e){return Qg(e)&&e.description!==void 0?e.description.toString():Tet(e)?e.toString():e}o(U2e,"TryConvertString");function q2e(e){return yP(e)?parseFloat(e):D7(e)?1:P7(e)?0:e}o(q2e,"TryConvertNumber");function Qet(e){return yP(e)?parseInt(e):Vr(e)?Math.trunc(e):D7(e)?1:P7(e)?0:e}o(Qet,"TryConvertInteger");function Met(e){return Bi(e)&&e.toLowerCase()==="null"?null:e}o(Met,"TryConvertNull");function Oet(e){return Bi(e)&&e==="undefined"?void 0:e}o(Oet,"TryConvertUndefined");function Uet(e){return B0(e)?e:Vr(e)?new Date(e):D7(e)?new Date(1):P7(e)?new Date(0):yP(e)?new Date(parseInt(e)):_et(e)?new Date(`1970-01-01T${e}.000Z`):wet(e)?new Date(`1970-01-01T${e}`):ket(e)?new Date(`${e}.000Z`):Bet(e)?new Date(e):Ret(e)?new Date(`${e}T00:00:00.000Z`):e}o(Uet,"TryConvertDate");function qet(e,t,r){return(un(r)?r:[r]).map(i=>Am(e.items,t,i))}o(qet,"FromArray");function Get(e,t,r){return Let(r)}o(Get,"FromBigInt");function Wet(e,t,r){return O2e(r)}o(Wet,"FromBoolean");function Het(e,t,r){return Uet(r)}o(Het,"FromDate");function Vet(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return Am(i,[...t,...n],r)}o(Vet,"FromImport");function jet(e,t,r){return Qet(r)}o(jet,"FromInteger");function $et(e,t,r){return e.allOf.reduce((n,i)=>Am(i,t,n),r)}o($et,"FromIntersect");function zet(e,t,r){return Fet(e,r)}o(zet,"FromLiteral");function Yet(e,t,r){return Met(r)}o(Yet,"FromNull");function Ket(e,t,r){return q2e(r)}o(Ket,"FromNumber");function Jet(e,t,r){if(!Kn(r))return r;for(let n of Object.getOwnPropertyNames(e.properties))cn(r,n)&&(r[n]=Am(e.properties[n],t,r[n]));return r}o(Jet,"FromObject");function Xet(e,t,r){if(!Kn(r))return r;let i=Object.getOwnPropertyNames(e.patternProperties)[0],s=e.patternProperties[i];for(let[a,l]of Object.entries(r))r[a]=Am(s,t,l);return r}o(Xet,"FromRecord");function Zet(e,t,r){return Am(Li(e,t),t,r)}o(Zet,"FromRef");function ett(e,t,r){return U2e(r)}o(ett,"FromString");function ttt(e,t,r){return Bi(r)||Vr(r)?Symbol(r):r}o(ttt,"FromSymbol");function rtt(e,t,r){return Am(Li(e,t),t,r)}o(rtt,"FromThis");function ntt(e,t,r){return un(r)&&!$o(e.items)?r.map((i,s)=>s<e.items.length?Am(e.items[s],t,i):i):r}o(ntt,"FromTuple");function itt(e,t,r){return Oet(r)}o(itt,"FromUndefined");function ott(e,t,r){for(let n of e.anyOf){let i=Am(n,t,Mi(r));if(ti(n,t,i))return i}return r}o(ott,"FromUnion");function Am(e,t,r){let n=ll(e,t),i=e;switch(e[nt]){case"Array":return qet(i,n,r);case"BigInt":return Get(i,n,r);case"Boolean":return Wet(i,n,r);case"Date":return Het(i,n,r);case"Import":return Vet(i,n,r);case"Integer":return jet(i,n,r);case"Intersect":return $et(i,n,r);case"Literal":return zet(i,n,r);case"Null":return Yet(i,n,r);case"Number":return Ket(i,n,r);case"Object":return Jet(i,n,r);case"Record":return Xet(i,n,r);case"Ref":return Zet(i,n,r);case"String":return ett(i,n,r);case"Symbol":return ttt(i,n,r);case"This":return rtt(i,n,r);case"Tuple":return ntt(i,n,r);case"Undefined":return itt(i,n,r);case"Union":return ott(i,n,r);default:return r}}o(Am,"Visit");function CP(...e){return e.length===3?Am(e[0],e[1],e[2]):Am(e[0],[],e[1])}o(CP,"Convert");d();function G2e(...e){let[t,r,n]=e.length===3?[e[0],e[1],e[2]]:[e[0],[],e[1]];if(!ti(t,r,n))throw new Mv(t,n,Kh(t,r,n).First());return Yg(t,r)?Ov(t,r,n):n}o(G2e,"Decode");d();function Zg(e,t){let r=cn(e,"default")?e.default:void 0,n=k2(r)?r():Mi(r);return $o(t)?n:Kn(t)&&Kn(n)?Object.assign(n,t):t}o(Zg,"ValueOrDefault");function UY(e){return D2(e)&&"default"in e}o(UY,"HasDefaultProperty");function stt(e,t,r){if(un(r)){for(let i=0;i<r.length;i++)r[i]=D0(e.items,t,r[i]);return r}let n=Zg(e,r);if(!un(n))return n;for(let i=0;i<n.length;i++)n[i]=D0(e.items,t,n[i]);return n}o(stt,"FromArray");function att(e,t,r){return B0(r)?r:Zg(e,r)}o(att,"FromDate");function ltt(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return D0(i,[...t,...n],r)}o(ltt,"FromImport");function ctt(e,t,r){let n=Zg(e,r);return e.allOf.reduce((i,s)=>{let a=D0(s,t,n);return Kn(a)?{...i,...a}:a},{})}o(ctt,"FromIntersect");function utt(e,t,r){let n=Zg(e,r);if(!Kn(n))return n;let i=Object.getOwnPropertyNames(e.properties);for(let s of i){let a=D0(e.properties[s],t,n[s]);$o(a)||(n[s]=D0(e.properties[s],t,n[s]))}if(!UY(e.additionalProperties))return n;for(let s of Object.getOwnPropertyNames(n))i.includes(s)||(n[s]=D0(e.additionalProperties,t,n[s]));return n}o(utt,"FromObject");function ftt(e,t,r){let n=Zg(e,r);if(!Kn(n))return n;let i=e.additionalProperties,[s,a]=Object.entries(e.patternProperties)[0],l=new RegExp(s);for(let c of Object.getOwnPropertyNames(n))l.test(c)&&UY(a)&&(n[c]=D0(a,t,n[c]));if(!UY(i))return n;for(let c of Object.getOwnPropertyNames(n))l.test(c)||(n[c]=D0(i,t,n[c]));return n}o(ftt,"FromRecord");function dtt(e,t,r){return D0(Li(e,t),t,Zg(e,r))}o(dtt,"FromRef");function mtt(e,t,r){return D0(Li(e,t),t,r)}o(mtt,"FromThis");function htt(e,t,r){let n=Zg(e,r);if(!un(n)||$o(e.items))return n;let[i,s]=[e.items,Math.max(e.items.length,n.length)];for(let a=0;a<s;a++)a<i.length&&(n[a]=D0(i[a],t,n[a]));return n}o(htt,"FromTuple");function ptt(e,t,r){let n=Zg(e,r);for(let i of e.anyOf){let s=D0(i,t,Mi(n));if(ti(i,t,s))return s}return n}o(ptt,"FromUnion");function D0(e,t,r){let n=ll(e,t),i=e;switch(i[nt]){case"Array":return stt(i,n,r);case"Date":return att(i,n,r);case"Import":return ltt(i,n,r);case"Intersect":return ctt(i,n,r);case"Object":return utt(i,n,r);case"Record":return ftt(i,n,r);case"Ref":return dtt(i,n,r);case"This":return mtt(i,n,r);case"Tuple":return htt(i,n,r);case"Union":return ptt(i,n,r);default:return Zg(i,r)}}o(D0,"Visit");function EP(...e){return e.length===3?D0(e[0],e[1],e[2]):D0(e[0],[],e[1])}o(EP,"Default");d();d();var ym={};Fh(ym,{Delete:()=>Att,Format:()=>N7,Get:()=>Ctt,Has:()=>ytt,Set:()=>gtt,ValuePointerRootDeleteError:()=>vP,ValuePointerRootSetError:()=>xP});d();var xP=class extends fn{static{o(this,"ValuePointerRootSetError")}constructor(t,r,n){super("Cannot set root value"),this.value=t,this.path=r,this.update=n}},vP=class extends fn{static{o(this,"ValuePointerRootDeleteError")}constructor(t,r){super("Cannot delete root value"),this.value=t,this.path=r}};function W2e(e){return e.indexOf("~")===-1?e:e.replace(/~1/g,"/").replace(/~0/g,"~")}o(W2e,"Escape");function*N7(e){if(e==="")return;let[t,r]=[0,0];for(let n=0;n<e.length;n++)e.charAt(n)==="/"?(n===0||(r=n,yield W2e(e.slice(t,r))),t=n+1):r=n;yield W2e(e.slice(t))}o(N7,"Format");function gtt(e,t,r){if(t==="")throw new xP(e,t,r);let[n,i,s]=[null,e,""];for(let a of N7(t))i[a]===void 0&&(i[a]={}),n=i,i=i[a],s=a;n[s]=r}o(gtt,"Set");function Att(e,t){if(t==="")throw new vP(e,t);let[r,n,i]=[null,e,""];for(let s of N7(t)){if(n[s]===void 0||n[s]===null)return;r=n,n=n[s],i=s}if(Array.isArray(r)){let s=parseInt(i);r.splice(s,1)}else delete r[i]}o(Att,"Delete");function ytt(e,t){if(t==="")return!0;let[r,n,i]=[null,e,""];for(let s of N7(t)){if(n[s]===void 0)return!1;r=n,n=n[s],i=s}return Object.getOwnPropertyNames(r).includes(i)}o(ytt,"Has");function Ctt(e,t){if(t==="")return e;let r=e;for(let n of N7(t)){if(r[n]===void 0)return;r=r[n]}return r}o(Ctt,"Get");d();function Ett(e,t){if(!Kn(t))return!1;let r=[...Object.keys(e),...Object.getOwnPropertySymbols(e)],n=[...Object.keys(t),...Object.getOwnPropertySymbols(t)];return r.length!==n.length?!1:r.every(i=>gC(e[i],t[i]))}o(Ett,"ObjectType");function xtt(e,t){return B0(t)&&e.getTime()===t.getTime()}o(xtt,"DateType");function vtt(e,t){return!un(t)||e.length!==t.length?!1:e.every((r,n)=>gC(r,t[n]))}o(vtt,"ArrayType");function btt(e,t){return!bf(t)||e.length!==t.length||Object.getPrototypeOf(e).constructor.name!==Object.getPrototypeOf(t).constructor.name?!1:e.every((r,n)=>gC(r,t[n]))}o(btt,"TypedArrayType");function Itt(e,t){return e===t}o(Itt,"ValueType");function gC(e,t){if(B0(e))return xtt(e,t);if(bf(e))return btt(e,t);if(un(e))return vtt(e,t);if(Kn(e))return Ett(e,t);if(au(e))return Itt(e,t);throw new Error("ValueEquals: Unable to compare value")}o(gC,"Equal");var Ttt=zi({type:bi("insert"),path:R0(),value:sm()}),wtt=zi({type:bi("update"),path:R0(),value:sm()}),_tt=zi({type:bi("delete"),path:R0()}),V2e=$i([Ttt,wtt,_tt]),bP=class extends fn{static{o(this,"ValueDiffError")}constructor(t,r){super(r),this.value=t}};function IP(e,t){return{type:"update",path:e,value:t}}o(IP,"CreateUpdate");function j2e(e,t){return{type:"insert",path:e,value:t}}o(j2e,"CreateInsert");function $2e(e){return{type:"delete",path:e}}o($2e,"CreateDelete");function H2e(e){if(globalThis.Object.getOwnPropertySymbols(e).length>0)throw new bP(e,"Cannot diff objects with symbols")}o(H2e,"AssertDiffable");function*Stt(e,t,r){if(H2e(t),H2e(r),!qj(r))return yield IP(e,r);let n=globalThis.Object.getOwnPropertyNames(t),i=globalThis.Object.getOwnPropertyNames(r);for(let s of i)cn(t,s)||(yield j2e(`${e}/${s}`,r[s]));for(let s of n)cn(r,s)&&(gC(t,r)||(yield*TP(`${e}/${s}`,t[s],r[s])));for(let s of n)cn(r,s)||(yield $2e(`${e}/${s}`))}o(Stt,"ObjectType");function*Btt(e,t,r){if(!un(r))return yield IP(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*TP(`${e}/${n}`,t[n],r[n]);for(let n=0;n<r.length;n++)n<t.length||(yield j2e(`${e}/${n}`,r[n]));for(let n=t.length-1;n>=0;n--)n<r.length||(yield $2e(`${e}/${n}`))}o(Btt,"ArrayType");function*ktt(e,t,r){if(!bf(r)||t.length!==r.length||globalThis.Object.getPrototypeOf(t).constructor.name!==globalThis.Object.getPrototypeOf(r).constructor.name)return yield IP(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*TP(`${e}/${n}`,t[n],r[n])}o(ktt,"TypedArrayType");function*Rtt(e,t,r){t!==r&&(yield IP(e,r))}o(Rtt,"ValueType");function*TP(e,t,r){if(qj(t))return yield*Stt(e,t,r);if(un(t))return yield*Btt(e,t,r);if(bf(t))return yield*ktt(e,t,r);if(au(t))return yield*Rtt(e,t,r);throw new bP(t,"Unable to diff value")}o(TP,"Visit");function z2e(e,t){return[...TP("",e,t)]}o(z2e,"Diff");function Dtt(e){return e.length>0&&e[0].path===""&&e[0].type==="update"}o(Dtt,"IsRootUpdate");function Ptt(e){return e.length===0}o(Ptt,"IsIdentity");function Y2e(e,t){if(Dtt(t))return Mi(t[0].value);if(Ptt(t))return Mi(e);let r=Mi(e);for(let n of t)switch(n.type){case"insert":{ym.Set(r,n.path,n.value);break}case"update":{ym.Set(r,n.path,n.value);break}case"delete":{ym.Delete(r,n.path);break}}return r}o(Y2e,"Patch");d();function K2e(...e){let[t,r,n]=e.length===3?[e[0],e[1],e[2]]:[e[0],[],e[1]],i=Yg(t,r)?qv(t,r,n):n;if(!ti(t,r,i))throw new Uv(t,i,Kh(t,r,i).First());return i}o(K2e,"Encode");d();function wP(e){return Kn(e)&&!un(e)}o(wP,"IsStandardObject");var _P=class extends fn{static{o(this,"ValueMutateError")}constructor(t){super(t)}};function Ntt(e,t,r,n){if(!wP(r))ym.Set(e,t,Mi(n));else{let i=Object.getOwnPropertyNames(r),s=Object.getOwnPropertyNames(n);for(let a of i)s.includes(a)||delete r[a];for(let a of s)i.includes(a)||(r[a]=null);for(let a of s)qY(e,`${t}/${a}`,r[a],n[a])}}o(Ntt,"ObjectType");function Ftt(e,t,r,n){if(!un(r))ym.Set(e,t,Mi(n));else{for(let i=0;i<n.length;i++)qY(e,`${t}/${i}`,r[i],n[i]);r.splice(n.length)}}o(Ftt,"ArrayType");function Ltt(e,t,r,n){if(bf(r)&&r.length===n.length)for(let i=0;i<r.length;i++)r[i]=n[i];else ym.Set(e,t,Mi(n))}o(Ltt,"TypedArrayType");function Qtt(e,t,r,n){r!==n&&ym.Set(e,t,n)}o(Qtt,"ValueType");function qY(e,t,r,n){if(un(n))return Ftt(e,t,r,n);if(bf(n))return Ltt(e,t,r,n);if(wP(n))return Ntt(e,t,r,n);if(au(n))return Qtt(e,t,r,n)}o(qY,"Visit");function J2e(e){return bf(e)||au(e)}o(J2e,"IsNonMutableValue");function Mtt(e,t){return wP(e)&&un(t)||un(e)&&wP(t)}o(Mtt,"IsMismatchedValue");function X2e(e,t){if(J2e(e)||J2e(t))throw new _P("Only object and array types can be mutated at the root level");if(Mtt(e,t))throw new _P("Cannot assign due type mismatch of assignable values");qY(e,"",e,t)}o(X2e,"Mutate");d();var SP=class extends fn{static{o(this,"ParseError")}constructor(t){super(t)}},GY;(function(e){let t=new Map([["Assert",(s,a,l)=>(pP(s,a,l),l)],["Cast",(s,a,l)=>R7(s,a,l)],["Clean",(s,a,l)=>AP(s,a,l)],["Clone",(s,a,l)=>Mi(l)],["Convert",(s,a,l)=>CP(s,a,l)],["Decode",(s,a,l)=>Yg(s,a)?Ov(s,a,l):l],["Default",(s,a,l)=>EP(s,a,l)],["Encode",(s,a,l)=>Yg(s,a)?qv(s,a,l):l]]);function r(s){t.delete(s)}o(r,"Delete"),e.Delete=r;function n(s,a){t.set(s,a)}o(n,"Set"),e.Set=n;function i(s){return t.get(s)}o(i,"Get"),e.Get=i})(GY||(GY={}));var Z2e=["Clone","Clean","Default","Convert","Assert","Decode"];function Ott(e,t,r,n){return e.reduce((i,s)=>{let a=GY.Get(s);if($o(a))throw new SP(`Unable to find Parse operation '${s}'`);return a(t,r,i)},n)}o(Ott,"ParseValue");function e5e(...e){let[t,r,n,i]=e.length===4?[e[0],e[1],e[2],e[3]]:e.length===3?un(e[0])?[e[0],e[1],[],e[2]]:[Z2e,e[0],e[1],e[2]]:e.length===2?[Z2e,e[0],[],e[1]]:(()=>{throw new SP("Invalid Arguments")})();return Ott(t,r,n,i)}o(e5e,"Parse");d();var X2={};Fh(X2,{Assert:()=>pP,Cast:()=>R7,Check:()=>ti,Clean:()=>AP,Clone:()=>Mi,Convert:()=>CP,Create:()=>Uf,Decode:()=>G2e,Default:()=>EP,Diff:()=>z2e,Edit:()=>V2e,Encode:()=>K2e,Equal:()=>gC,Errors:()=>Kh,Hash:()=>K2,Mutate:()=>X2e,Parse:()=>e5e,Patch:()=>Y2e,ValueErrorIterator:()=>J2});d();var Utt={capabilities:{family:"gpt-3.5-turbo",object:"model_capabilities",supports:{streaming:!0},tokenizer:"cl100k_base",type:"completion"},id:"copilot-codex",model_picker_enabled:!0,name:"GPT-3.5 Turbo",object:"model",preview:!1,version:"copilot-codex"},qtt="copilot-codex",Gtt="gpt-4o-copilot",qf=class e{constructor(t,r=!0){this._ctx=t;this.onModelsFetchedCallbacks=[];this.fetchedModelData=[];this.customModels=[];this.editorPreviewFeaturesDisabled=!1;r&&Ha(this._ctx,n=>this.refreshAvailableModels(n))}static{o(this,"AvailableModelsManager")}async refreshAvailableModels(t){await this.refreshModels(t);for(let r of this.onModelsFetchedCallbacks)r()}addHandler(t){this.onModelsFetchedCallbacks.push(t)}getDefaultModelId(){if(this.fetchedModelData){let t=e.filterCompletionModels(this.fetchedModelData,this.editorPreviewFeaturesDisabled)[0];if(t)return t.id}return qtt}parseModelsResponse(t){try{return X2.Parse(P2e,t)}catch(r){ei.exception(this._ctx,r,"Failed to parse /models response from CAPI");return}}async refreshModels(t){let r=await this.fetchModels(t);r&&(this.fetchedModelData=r)}async fetchModels(t){return this.customModels=t.getTokenValue("cml")?.split(",")??[],this.editorPreviewFeaturesDisabled=t.getTokenValue("editor_preview_features")=="0",t.getTokenValue("fcv1")=="1"?Promise.resolve([Utt]):await this.fetch()}async fetch(){let t=await pC(this._ctx,"/models");return t.ok?this.parseModelsResponse(await t.json())?.data??[]:(ei.error(this._ctx,"Failed to fetch models from CAPI",{status:t.status,statusText:t.statusText}),null)}getGenericCompletionModels(){let t=e.filterCompletionModels(this.fetchedModelData,this.editorPreviewFeaturesDisabled);return e.mapCompletionModels(t)}static filterCompletionModels(t,r){return t.filter(n=>n.capabilities.type==="completion").filter(n=>!r||n.preview===!1||n.preview===void 0)}static mapCompletionModels(t){return t.map(r=>({modelId:r.id,label:r.name,preview:!!r.preview}))}getCurrentModelRequestInfo(t=void 0){let r=this.getDefaultModelId(),n=N2e(this._ctx);if(n){let l=this.getGenericCompletionModels().map(c=>c.modelId);l.includes(n)||(l.length>0&&ei.error(this._ctx,`User selected model ${n} is not in the list of generic models: ${l.join(", ")}, falling back to default model.`),n=null),r===n&&(n=null)}let i=ai(this._ctx,qt.DebugOverrideEngine)||ai(this._ctx,qt.DebugOverrideEngineLegacy);if(i)return new e1(i,"override");let s=t?this._ctx.get(er).customEngine(t):"",a=t?this._ctx.get(er).customEngineTargetEngine(t):void 0;if(n)return s&&a&&n===a?new e1(s,"exp"):new e1(n,"modelpicker");if(s)return new e1(s,"exp");if(t5e(this._ctx)&&!this.editorPreviewFeaturesDisabled){let l=Gtt;if(this.getGenericCompletionModels().map(u=>u.modelId).includes(l))return new e1(l,"prerelease")}return this.customModels.length>0?new e1(this.customModels[0],"custommodel"):new e1(r,"default")}},e1=class{constructor(t,r){this.modelId=t;this.modelChoiceSource=r}static{o(this,"ModelRequestInfo")}get headers(){return{}}};function Z2(e,t=void 0){let r=e.get(qf).getCurrentModelRequestInfo(t);return{headers:r.headers,modelId:r.modelId,engineChoiceSource:r.modelChoiceSource}}o(Z2,"getEngineRequestInfo");d();d();var BP=require("fs");var Lo=class{static{o(this,"FileSystem")}},Xv=class extends Lo{static{o(this,"LocalFileSystem")}getFsPath(t){let r=al(t);if(r!==void 0)return r;let n=t.toString().split(":")[0];throw QD(n)?new Error("Unsupported remote file path"):new Error(`Unsupported scheme: ${n}`)}async readFileString(t){return(await BP.promises.readFile(this.getFsPath(t))).toString()}async stat(t){let{targetStat:r,lstat:n,stat:i}=await this.statWithLink(this.getFsPath(t));return{ctime:r.ctimeMs,mtime:r.mtimeMs,size:r.size,type:this.getFileType(r,n,i)}}async statWithLink(t){let r=await BP.promises.lstat(t);if(r.isSymbolicLink())try{let n=await BP.promises.stat(t);return{lstat:r,stat:n,targetStat:n}}catch{}return{lstat:r,targetStat:r}}getFileType(t,r,n){let i=0;return t.isFile()&&(i=1),t.isDirectory()&&(i=2),r.isSymbolicLink()&&n&&(i|=64),i}};var C5e=ft(y5e());function E5e(e){return e!==void 0&&e!==0}o(E5e,"isRepoInfo");async function x5e(e){let r=(await e.get(jr).getToken()).organization_list??[];return rP(r)??""}o(x5e,"getUserKind");async function F7(e,t){return(await e.get(jr).getToken()).getTokenValue(t)??""}o(F7,"getTokenKeyValue");function v5e(e){if(e===void 0||e===0)return"";let t=t1(e);if(t==="github/github")return t;let r=hrt(e)?.toLowerCase();return r!==void 0?r:""}o(v5e,"getDogFood");function t1(e){if(e!==void 0&&e!==0&&e.hostname==="github.com")return e.owner+"/"+e.repo}o(t1,"tryGetGitHubNWO");function hrt(e){if(e!==void 0&&e!==0&&(e.hostname.endsWith("azure.com")||e.hostname.endsWith("visualstudio.com")))return e.owner+"/"+e.repo}o(hrt,"tryGetADONWO");function e5(e,t){let r=gu(t);return prt(e,r)}o(e5,"extractRepoInfoInBackground");var prt=Crt(grt,1e4);async function grt(e,t){let r=IAe(t);if(!r)return;let n=await Art(e,r);if(!n)return;let i=e.get(Lo),s=Jo(n,".git","config"),a;try{a=await i.readFileString(s)}catch{return}let l=yrt(a)??"",c=jY(l),u={uri:n};return c===void 0?{baseFolder:u,url:l,hostname:"",owner:"",repo:"",pathname:""}:{baseFolder:u,url:l,...c}}o(grt,"extractRepoInfo");function jY(e){let t;try{if(t=(0,C5e.default)(e),t.resource==""||t.owner==""||t.name==""||t.pathname=="")return}catch{return}return{hostname:t.resource,owner:t.owner,repo:t.name,pathname:t.pathname}}o(jY,"parseRepoUrl");async function Art(e,t){let r=t+"_add_to_make_longer",n=e.get(Lo);for(;t!=="file:///"&&t.length<r.length;){let i=Jo(t,".git","config"),s=!1;try{await n.stat(i),s=!0}catch{s=!1}if(s)return t;r=t,t=gu(t)}}o(Art,"getRepoBaseUri");function yrt(e){let t=/^\s*\[\s*remote\s+"((\\\\|\\"|[^\\"])+)"/,r=/^\s*\[remote.([^"\s]+)/,n=/^\s*url\s*=\s*([^\s#;]+)/,i=/^\s*\[/,s,a,l=!1;for(let c of e.split(`
`))if(l&&s!==void 0){if(s+=c,c.endsWith("\\"))s=s.substring(0,s.length-1);else if(l=!1,a==="origin")return s}else{let u=c.match(t)??c.match(r);if(u)a=u[1];else if(c.match(i))a=void 0;else{if(s&&a!=="origin")continue;{let f=c.match(n);if(f){if(s=f[1],s.endsWith("\\"))s=s.substring(0,s.length-1),l=!0;else if(a==="origin")return s}}}}return s}o(yrt,"getRepoUrlFromConfigText");var VY=class{static{o(this,"CompletedComputation")}constructor(t){this.result=t}};function Crt(e,t){let r=new kn(t),n=new Set;return(i,...s)=>{let a=JSON.stringify(s),l=r.get(a);if(l)return l.result;if(n.has(a))return 0;let c=e(i,...s);return n.add(a),c.then(u=>{r.set(a,new VY(u)),n.delete(a)}),0}}o(Crt,"computeInBackgroundAndMemoize");d();d();d();d();d();d();d();d();function $Y(e,t,r){return{type:"virtual",indentation:e,subs:t,label:r}}o($Y,"virtualNode");function b5e(e,t,r,n,i){if(r==="")throw new Error("Cannot create a line node with an empty source line");return{type:"line",indentation:e,lineNumber:t,sourceLine:r,subs:n,label:i}}o(b5e,"lineNode");function zY(e){return{type:"blank",lineNumber:e,subs:[]}}o(zY,"blankNode");function kP(e){return{type:"top",indentation:-1,subs:e??[]}}o(kP,"topNode");function Gl(e){return e.type==="blank"}o(Gl,"isBlank");function AC(e){return e.type==="line"}o(AC,"isLine");function yC(e){return e.type==="virtual"}o(yC,"isVirtual");d();function I5e(e,t){return d0(e,r=>{r.label=r.label?t(r.label)?void 0:r.label:void 0},"bottomUp"),e}o(I5e,"clearLabelsIf");function CC(e,t){switch(e.type){case"line":case"virtual":{let r=e.subs.map(n=>CC(n,t));return{...e,subs:r,label:e.label?t(e.label):void 0}}case"blank":return{...e,label:e.label?t(e.label):void 0};case"top":return{...e,subs:e.subs.map(r=>CC(r,t)),label:e.label?t(e.label):void 0}}}o(CC,"mapLabels");function d0(e,t,r){function n(i){r==="topDown"&&t(i),i.subs.forEach(s=>{n(s)}),r==="bottomUp"&&t(i)}o(n,"_visit"),n(e)}o(d0,"visitTree");function YY(e,t,r,n){let i=t;function s(a){i=r(a,i)}return o(s,"visitor"),d0(e,s,n),i}o(YY,"foldTree");function RP(e,t,r){let n=o(s=>{if(r!==void 0&&r(s))return s;{let a=s.subs.map(n).filter(l=>l!==void 0);return s.subs=a,t(s)}},"rebuild"),i=n(e);return i!==void 0?i:kP()}o(RP,"rebuildTree");d();function xrt(e){let t=e.split(`
`),r=t.map(u=>u.match(/^\s*/)[0].length),n=t.map(u=>u.trimLeft());function i(u){let[f,m]=s(u+1,r[u]);return[b5e(r[u],u,n[u],f),m]}o(i,"parseNode");function s(u,f){let m,h=[],p=u,A;for(;p<n.length&&(n[p]===""||r[p]>f);)if(n[p]==="")A===void 0&&(A=p),p+=1;else{if(A!==void 0){for(let E=A;E<p;E++)h.push(zY(E));A=void 0}[m,p]=i(p),h.push(m)}return A!==void 0&&(p=A),[h,p]}o(s,"parseSubs");let[a,l]=s(0,-1),c=l;for(;c<n.length&&n[c]==="";)a.push(zY(c)),c+=1;if(c<n.length)throw new Error(`Parsing did not go to end of file. Ended at ${c} out of ${n.length}`);return kP(a)}o(xrt,"parseRaw");function L7(e,t){function r(n){if(AC(n)){let i=t.find(s=>s.matches(n.sourceLine));i&&(n.label=i.label)}}o(r,"visitor"),d0(e,r,"bottomUp")}o(L7,"labelLines");function DP(e){function t(r){if(yC(r)&&r.label===void 0){let n=r.subs.filter(i=>!Gl(i));n.length===1&&(r.label=n[0].label)}}o(t,"visitor"),d0(e,t,"bottomUp")}o(DP,"labelVirtualInherited");function Q7(e){return Object.keys(e).map(t=>{let r;return e[t].test?r=o(n=>e[t].test(n),"matches"):r=e[t],{matches:r,label:t}})}o(Q7,"buildLabelRules");function KY(e){let r=RP(e,o(function(n){if(n.subs.length===0||n.subs.findIndex(a=>a.label==="closer"||a.label==="opener")===-1)return n;let i=[],s;for(let a=0;a<n.subs.length;a++){let l=n.subs[a],c=n.subs[a-1];if(l.label==="opener"&&c!==void 0&&AC(c))c.subs.push(l),l.subs.forEach(u=>c.subs.push(u)),l.subs=[];else if(l.label==="closer"&&s!==void 0&&(AC(l)||yC(l))&&l.indentation>=s.indentation){let u=i.length-1;for(;u>0&&Gl(i[u]);)u-=1;if(s.subs.push(...i.splice(u+1)),l.subs.length>0){let f=s.subs.findIndex(A=>A.label!=="newVirtual"),m=s.subs.slice(0,f),h=s.subs.slice(f),p=h.length>0?[$Y(l.indentation,h,"newVirtual")]:[];s.subs=[...m,...p,l]}else s.subs.push(l)}else i.push(l),Gl(l)||(s=l)}return n.subs=i,n},"rebuilder"));return I5e(e,n=>n==="newVirtual"),r}o(KY,"combineClosersAndOpeners");function T5e(e,t=Gl,r){return RP(e,o(function(i){if(i.subs.length<=1)return i;let s=[],a=[],l,c=!1;function u(f=!1){if(l!==void 0&&(s.length>0||!f)){let m=$Y(l,a,r);s.push(m)}else a.forEach(m=>s.push(m))}o(u,"flushBlockIntoNewSubs");for(let f=0;f<i.subs.length;f++){let m=i.subs[f],h=t(m);!h&&c&&(u(),a=[]),c=h,a.push(m),Gl(m)||(l=l??m.indentation)}return u(!0),i.subs=s,i},"rebuilder"))}o(T5e,"groupBlocks");function EC(e){return RP(e,o(function(r){return yC(r)&&r.label===void 0&&r.subs.length<=1?r.subs.length===0?void 0:r.subs[0]:(r.subs.length===1&&yC(r.subs[0])&&r.subs[0].label===void 0&&(r.subs=r.subs[0].subs),r)},"rebuilder"))}o(EC,"flattenVirtual");var vrt={opener:/^[[({]/,closer:/^[\])}]/},brt=Q7(vrt),w5e={};function JY(e,t){w5e[e]=t}o(JY,"registerLanguageSpecificParser");function M7(e,t){let r=xrt(e),n=w5e[t??""];return n?n(r):(L7(r,brt),KY(r))}o(M7,"parseTree");var Irt={package:/^package /,import:/^import /,class:/\bclass /,interface:/\binterface /,javadoc:/^\/\*\*/,comment_multi:/^\/\*[^*]/,comment_single:/^\/\//,annotation:/^@/,opener:/^[[({]/,closer:/^[\])}]/},Trt=Q7(Irt);function _5e(e){let t=e;return L7(t,Trt),t=KY(t),t=EC(t),DP(t),d0(t,r=>{if(r.label==="class"||r.label==="interface")for(let n of r.subs)!Gl(n)&&(n.label===void 0||n.label==="annotation")&&(n.label="member")},"bottomUp"),t}o(_5e,"processJava");d();var wrt={heading:/^# /,subheading:/^## /,subsubheading:/### /},_rt=Q7(wrt);function S5e(e){let t=e;if(L7(t,_rt),Gl(t))return t;function r(s){if(s.label==="heading")return 1;if(s.label==="subheading")return 2;if(s.label==="subsubheading")return 3}o(r,"headingLevel");let n=[t],i=[...t.subs];t.subs=[];for(let s of i){let a=r(s);if(a===void 0||Gl(s))n[n.length-1].subs.push(s);else{for(;n.length<a;)n.push(n[n.length-1]);for(n[a-1].subs.push(s),n[a]=s;n.length>a+1;)n.pop()}}return t=T5e(t),t=EC(t),DP(t),t}o(S5e,"processMarkdown");d();function B5e(e){return" ".repeat(e.indentation)+e.sourceLine+`
`}o(B5e,"deparseLine");JY("markdown",S5e);JY("java",_5e);var Srt={worthUp:.9,worthSibling:.88,worthDown:.8};function XY(e,t=Srt){let r=CC(e,n=>n?1:void 0);return d0(r,n=>{if(Gl(n))return;let i=n.subs.reduce((s,a)=>Math.max(s,a.label??0),0);n.label=Math.max(n.label??0,i*t.worthUp)},"bottomUp"),d0(r,n=>{if(Gl(n))return;let i=n.subs.map(l=>l.label??0),s=[...i];for(let l=0;l<i.length;l++)i[l]!==0&&(s=s.map((c,u)=>Math.max(c,Math.pow(t.worthSibling,Math.abs(l-u))*i[l])));let a=n.label;a!==void 0&&(s=s.map(l=>Math.max(l,t.worthDown*a))),n.subs.forEach((l,c)=>l.label=s[c])},"topDown"),Brt(r)}o(XY,"fromTreeWithFocussedLines");function Brt(e){let t=YY(e,[],(r,n)=>((r.type==="line"||r.type==="blank")&&n.push(r.type==="line"?[B5e(r).trimEnd(),r.label??0]:["",r.label??0]),n),"topDown");return new rr(t)}o(Brt,"fromTreeWithValuedLines");function bu(e,t=!0,r=!0){let n=typeof e=="string"?M7(e):M7(e.source,e.languageId);EC(n);let i=CC(n,s=>t&&s!=="closer");return d0(i,s=>{s.label===void 0&&(s.label=t&&s.label!==!1)},"topDown"),t&&d0(i,s=>{if(s.label){let a=!1;for(let l of[...s.subs].reverse())l.label&&!a?a=!0:l.label=!1}else for(let a of s.subs)a.label=!1;s.subs.length>0&&(s.label=!1)},"topDown"),r&&d0(i,s=>{s.label||=(AC(s)||Gl(s))&&s.lineNumber==0},"topDown"),XY(i)}o(bu,"elidableTextForSourceCode");d();d();d();d();var r1=class extends Error{constructor(r,n){super(r,{cause:n});this.code="CopilotPromptLoadFailure"}static{o(this,"CopilotPromptLoadFailure")}};var Zv=ft(W5e()),V5e=require("fs"),j5e=require("path");var H5e=new Map;function _o(e="cl100k_base"){let t=H5e.get(e);return t!==void 0||(e==="mock"?t=new uK:t=new cK(e),H5e.set(e,t)),t}o(_o,"getTokenizer");function $rt(e){if(!e.endsWith(".tiktoken.noindex"))throw new Error("File does not end with .tiktoken.noindex");let t=(0,V5e.readFileSync)(e,"utf-8"),r=new Map;for(let n of t.split(`
`)){if(!n)continue;let i=Buffer.from(n,"base64");r.set(i,r.size)}return r}o($rt,"parseTikTokenNoIndex");var cK=class{static{o(this,"TTokenizer")}constructor(t){try{this._tokenizer=(0,Zv.createTokenizer)($rt((0,j5e.join)(__dirname,`./resources/${t}.tiktoken.noindex`)),(0,Zv.getSpecialTokensByEncoder)(t),(0,Zv.getRegexByEncoder)(t),32768)}catch(r){throw r instanceof Error?new r1("Could not load tokenizer",r):r}}tokenize(t){return this._tokenizer.encode(t)}detokenize(t){return this._tokenizer.decode(t)}tokenLength(t){return this.tokenize(t).length}tokenizeStrings(t){return this.tokenize(t).map(n=>this.detokenize([n]))}takeLastTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=4,i=1,s=Math.min(t.length,r*n),a=t.slice(-s),l=this.tokenize(a);for(;l.length<r+2&&s<t.length;)s=Math.min(t.length,s+r*i),a=t.slice(-s),l=this.tokenize(a);return l.length<r?{text:t,tokens:l}:(l=l.slice(-r),{text:this.detokenize(l),tokens:l})}takeFirstTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=4,i=1,s=Math.min(t.length,r*n),a=t.slice(0,s),l=this.tokenize(a);for(;l.length<r+2&&s<t.length;)s=Math.min(t.length,s+r*i),a=t.slice(0,s),l=this.tokenize(a);return l.length<r?{text:t,tokens:l}:(l=l.slice(0,r),{text:this.detokenize(l),tokens:l})}takeLastLinesTokens(t,r){let{text:n}=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let i=n.indexOf(`
`);return n.substring(i+1)}},uK=class{constructor(){this.hash=o(t=>{let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);r=(r<<5)-r+i,r&=r&65535}return r},"hash")}static{o(this,"MockTokenizer")}tokenize(t){return this.tokenizeStrings(t).map(this.hash)}detokenize(t){return t.map(r=>r.toString()).join(" ")}tokenizeStrings(t){return t.split(/\b/)}tokenLength(t){return this.tokenizeStrings(t).length}takeLastTokens(t,r){let n=this.tokenizeStrings(t).slice(-r);return{text:n.join(""),tokens:n.map(this.hash)}}takeFirstTokens(t,r){let n=this.tokenizeStrings(t).slice(0,r);return{text:n.join(""),tokens:n.map(this.hash)}}takeLastLinesTokens(t,r){let{text:n}=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let i=n.indexOf(`
`);return n.substring(i+1)}};var U7=class e{constructor(t,r,n=_o().tokenLength(t+`
`),i="strict"){this.text=t;this._value=r;this._cost=n;if(t.includes(`
`)&&i!=="none")throw new Error("LineWithValueAndCost: text contains newline");if(r<0&&i!=="none")throw new Error("LineWithValueAndCost: value is negative");if(n<0&&i!=="none")throw new Error("LineWithValueAndCost: cost is negative");if(i=="strict"&&r>1)throw new Error("Value should normally be between 0 and 1 -- set validation to `loose` to ignore this error")}static{o(this,"LineWithValueAndCost")}get value(){return this._value}get cost(){return this._cost}adjustValue(t){return this._value*=t,this}recost(t=r=>_o().tokenLength(r+`
`)){return this._cost=t(this.text),this}copy(){return new e(this.text,this.value,this.cost,"none")}};var rr=class e{constructor(t){this.lines=[];let r=[];for(let n of t){let i=Array.isArray(n)?n[1]:1,s=Array.isArray(n)?n[0]:n;typeof s=="string"?s.split(`
`).forEach(a=>r.push(new U7(a,i))):s instanceof e?s.lines.forEach(a=>r.push(a.copy().adjustValue(i))):"source"in s&&"languageId"in s&&bu(s).lines.forEach(a=>r.push(a.copy().adjustValue(i)))}this.lines=r}static{o(this,"ElidableText")}adjust(t){this.lines.forEach(r=>r.adjustValue(t))}recost(t=r=>_o().tokenLength(r+`
`)){this.lines.forEach(r=>r.recost(t))}makePrompt(t,r="[...]",n=!0,i="removeLeastDesirable",s=_o()){let a=this.lines.map(l=>l.copy());return zrt(a,t,r,n,i,s)}};function zrt(e,t,r,n,i,s){if(s.tokenLength(r+`
`)>t)throw new Error("maxTokens must be larger than the ellipsis length");i==="removeLeastBangForBuck"&&e.forEach(m=>m.adjustValue(1/m.cost));let a=e.reduce((m,h)=>Math.max(m,h.value),0)+1,l=e.reduce((m,h)=>Math.max(m,h.text.length),0)+1,c=r.trim(),u=e.reduce((m,h)=>m+h.cost,0),f=e.length+1;for(;u>t&&f-->=-1;){let m=e.reduce((v,S)=>S.value<v.value?S:v),h=e.indexOf(m),p=e.slice(0,h+1).reverse().find(v=>v.text.trim()!=="")??{text:""},A=n?Math.min(p.text.match(/^\s*/)?.[0].length??0,e[h-1]?.text.trim()===c?e[h-1]?.text.match(/^\s*/)?.[0].length??0:l,e[h+1]?.text.trim()===c?e[h+1]?.text.match(/^\s*/)?.[0].length??0:l):0,E=" ".repeat(A)+r,x=new U7(E,a,s.tokenLength(E+`
`),"loose");e.splice(h,1,x),e[h+1]?.text.trim()===c&&e.splice(h+1,1),e[h-1]?.text.trim()===c&&e.splice(h-1,1);let b=e.reduce((v,S)=>v+S.cost,0);b>=u&&e.every(v=>v.value===a)&&(n=!1),u=b}if(f<0)throw new Error("Infinite loop in ElidableText.makePrompt: Defensive counter < 0 in ElidableText.makePrompt with end text");return e.map(m=>m.text).join(`
`)}o(zrt,"makePrompt");d();d();function Cm(){}o(Cm,"Diff");Cm.prototype={diff:o(function(t,r){var n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=i.callback;typeof i=="function"&&(s=i,i={});var a=this;function l(k){return k=a.postProcess(k,i),s?(setTimeout(function(){s(k)},0),!0):k}o(l,"done"),t=this.castInput(t,i),r=this.castInput(r,i),t=this.removeEmpty(this.tokenize(t,i)),r=this.removeEmpty(this.tokenize(r,i));var c=r.length,u=t.length,f=1,m=c+u;i.maxEditLength!=null&&(m=Math.min(m,i.maxEditLength));var h=(n=i.timeout)!==null&&n!==void 0?n:1/0,p=Date.now()+h,A=[{oldPos:-1,lastComponent:void 0}],E=this.extractCommon(A[0],r,t,0,i);if(A[0].oldPos+1>=u&&E+1>=c)return l($5e(a,A[0].lastComponent,r,t,a.useLongestToken));var x=-1/0,b=1/0;function v(){for(var k=Math.max(x,-f);k<=Math.min(b,f);k+=2){var P=void 0,N=A[k-1],W=A[k+1];N&&(A[k-1]=void 0);var re=!1;if(W){var ge=W.oldPos-k;re=W&&0<=ge&&ge<c}var te=N&&N.oldPos+1<u;if(!re&&!te){A[k]=void 0;continue}if(!te||re&&N.oldPos<W.oldPos?P=a.addToPath(W,!0,!1,0,i):P=a.addToPath(N,!1,!0,1,i),E=a.extractCommon(P,r,t,k,i),P.oldPos+1>=u&&E+1>=c)return l($5e(a,P.lastComponent,r,t,a.useLongestToken));A[k]=P,P.oldPos+1>=u&&(b=Math.min(b,k-1)),E+1>=c&&(x=Math.max(x,k+1))}f++}if(o(v,"execEditLength"),s)o(function k(){setTimeout(function(){if(f>m||Date.now()>p)return s();v()||k()},0)},"exec")();else for(;f<=m&&Date.now()<=p;){var S=v();if(S)return S}},"diff"),addToPath:o(function(t,r,n,i,s){var a=t.lastComponent;return a&&!s.oneChangePerToken&&a.added===r&&a.removed===n?{oldPos:t.oldPos+i,lastComponent:{count:a.count+1,added:r,removed:n,previousComponent:a.previousComponent}}:{oldPos:t.oldPos+i,lastComponent:{count:1,added:r,removed:n,previousComponent:a}}},"addToPath"),extractCommon:o(function(t,r,n,i,s){for(var a=r.length,l=n.length,c=t.oldPos,u=c-i,f=0;u+1<a&&c+1<l&&this.equals(n[c+1],r[u+1],s);)u++,c++,f++,s.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return f&&!s.oneChangePerToken&&(t.lastComponent={count:f,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=c,u},"extractCommon"),equals:o(function(t,r,n){return n.comparator?n.comparator(t,r):t===r||n.ignoreCase&&t.toLowerCase()===r.toLowerCase()},"equals"),removeEmpty:o(function(t){for(var r=[],n=0;n<t.length;n++)t[n]&&r.push(t[n]);return r},"removeEmpty"),castInput:o(function(t){return t},"castInput"),tokenize:o(function(t){return Array.from(t)},"tokenize"),join:o(function(t){return t.join("")},"join"),postProcess:o(function(t){return t},"postProcess")};function $5e(e,t,r,n,i){for(var s=[],a;t;)s.push(t),a=t.previousComponent,delete t.previousComponent,t=a;s.reverse();for(var l=0,c=s.length,u=0,f=0;l<c;l++){var m=s[l];if(m.removed)m.value=e.join(n.slice(f,f+m.count)),f+=m.count;else{if(!m.added&&i){var h=r.slice(u,u+m.count);h=h.map(function(p,A){var E=n[f+A];return E.length>p.length?E:p}),m.value=e.join(h)}else m.value=e.join(r.slice(u,u+m.count));u+=m.count,m.added||(f+=m.count)}}return s}o($5e,"buildValues");var zur=new Cm;function z5e(e,t){var r;for(r=0;r<e.length&&r<t.length;r++)if(e[r]!=t[r])return e.slice(0,r);return e.slice(0,r)}o(z5e,"longestCommonPrefix");function Y5e(e,t){var r;if(!e||!t||e[e.length-1]!=t[t.length-1])return"";for(r=0;r<e.length&&r<t.length;r++)if(e[e.length-(r+1)]!=t[t.length-(r+1)])return e.slice(-r);return e.slice(-r)}o(Y5e,"longestCommonSuffix");function fK(e,t,r){if(e.slice(0,t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't start with prefix ").concat(JSON.stringify(t),"; this is a bug"));return r+e.slice(t.length)}o(fK,"replacePrefix");function dK(e,t,r){if(!t)return e+r;if(e.slice(-t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't end with suffix ").concat(JSON.stringify(t),"; this is a bug"));return e.slice(0,-t.length)+r}o(dK,"replaceSuffix");function q7(e,t){return fK(e,t,"")}o(q7,"removePrefix");function OP(e,t){return dK(e,t,"")}o(OP,"removeSuffix");function K5e(e,t){return t.slice(0,Yrt(e,t))}o(K5e,"maximumOverlap");function Yrt(e,t){var r=0;e.length>t.length&&(r=e.length-t.length);var n=t.length;e.length<t.length&&(n=e.length);var i=Array(n),s=0;i[0]=0;for(var a=1;a<n;a++){for(t[a]==t[s]?i[a]=i[s]:i[a]=s;s>0&&t[a]!=t[s];)s=i[s];t[a]==t[s]&&s++}s=0;for(var l=r;l<e.length;l++){for(;s>0&&e[l]!=t[s];)s=i[s];e[l]==t[s]&&s++}return s}o(Yrt,"overlapCount");var UP="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",Krt=new RegExp("[".concat(UP,"]+|\\s+|[^").concat(UP,"]"),"ug"),qP=new Cm;qP.equals=function(e,t,r){return r.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e.trim()===t.trim()};qP.tokenize=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r;if(t.intlSegmenter){if(t.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');r=Array.from(t.intlSegmenter.segment(e),function(s){return s.segment})}else r=e.match(Krt)||[];var n=[],i=null;return r.forEach(function(s){/\s/.test(s)?i==null?n.push(s):n.push(n.pop()+s):/\s/.test(i)?n[n.length-1]==i?n.push(n.pop()+s):n.push(i+s):n.push(s),i=s}),n};qP.join=function(e){return e.map(function(t,r){return r==0?t:t.replace(/^\s+/,"")}).join("")};qP.postProcess=function(e,t){if(!e||t.oneChangePerToken)return e;var r=null,n=null,i=null;return e.forEach(function(s){s.added?n=s:s.removed?i=s:((n||i)&&J5e(r,i,n,s),r=s,n=null,i=null)}),(n||i)&&J5e(r,i,n,null),e};function J5e(e,t,r,n){if(t&&r){var i=t.value.match(/^\s*/)[0],s=t.value.match(/\s*$/)[0],a=r.value.match(/^\s*/)[0],l=r.value.match(/\s*$/)[0];if(e){var c=z5e(i,a);e.value=dK(e.value,a,c),t.value=q7(t.value,c),r.value=q7(r.value,c)}if(n){var u=Y5e(s,l);n.value=fK(n.value,l,u),t.value=OP(t.value,u),r.value=OP(r.value,u)}}else if(r)e&&(r.value=r.value.replace(/^\s*/,"")),n&&(n.value=n.value.replace(/^\s*/,""));else if(e&&n){var f=n.value.match(/^\s*/)[0],m=t.value.match(/^\s*/)[0],h=t.value.match(/\s*$/)[0],p=z5e(f,m);t.value=q7(t.value,p);var A=Y5e(q7(f,p),h);t.value=OP(t.value,A),n.value=fK(n.value,f,A),e.value=dK(e.value,f,f.slice(0,f.length-A.length))}else if(n){var E=n.value.match(/^\s*/)[0],x=t.value.match(/\s*$/)[0],b=K5e(x,E);t.value=OP(t.value,b)}else if(e){var v=e.value.match(/\s*$/)[0],S=t.value.match(/^\s*/)[0],k=K5e(v,S);t.value=q7(t.value,k)}}o(J5e,"dedupeWhitespaceInChangeObjects");var Jrt=new Cm;Jrt.tokenize=function(e){var t=new RegExp("(\\r?\\n)|[".concat(UP,"]+|[^\\S\\n\\r]+|[^").concat(UP,"]"),"ug");return e.match(t)||[]};var gK=new Cm;gK.tokenize=function(e,t){t.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var r=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var i=0;i<n.length;i++){var s=n[i];i%2&&!t.newlineIsToken?r[r.length-1]+=s:r.push(s)}return r};gK.equals=function(e,t,r){return r.ignoreWhitespace?((!r.newlineIsToken||!e.includes(`
`))&&(e=e.trim()),(!r.newlineIsToken||!t.includes(`
`))&&(t=t.trim())):r.ignoreNewlineAtEof&&!r.newlineIsToken&&(e.endsWith(`
`)&&(e=e.slice(0,-1)),t.endsWith(`
`)&&(t=t.slice(0,-1))),Cm.prototype.equals.call(this,e,t,r)};var Xrt=new Cm;Xrt.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var Zrt=new Cm;Zrt.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function mK(e){"@babel/helpers - typeof";return mK=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mK(e)}o(mK,"_typeof");var G7=new Cm;G7.useLongestToken=!0;G7.tokenize=gK.tokenize;G7.castInput=function(e,t){var r=t.undefinedReplacement,n=t.stringifyReplacer,i=n===void 0?function(s,a){return typeof a>"u"?r:a}:n;return typeof e=="string"?e:JSON.stringify(hK(e,null,null,i),i,"  ")};G7.equals=function(e,t,r){return Cm.prototype.equals.call(G7,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"),r)};function hK(e,t,r,n,i){t=t||[],r=r||[],n&&(e=n(i,e));var s;for(s=0;s<t.length;s+=1)if(t[s]===e)return r[s];var a;if(Object.prototype.toString.call(e)==="[object Array]"){for(t.push(e),a=new Array(e.length),r.push(a),s=0;s<e.length;s+=1)a[s]=hK(e[s],t,r,n,i);return t.pop(),r.pop(),a}if(e&&e.toJSON&&(e=e.toJSON()),mK(e)==="object"&&e!==null){t.push(e),a={},r.push(a);var l=[],c;for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&l.push(c);for(l.sort(),s=0;s<l.length;s+=1)c=l[s],a[c]=hK(e[c],t,r,n,c);t.pop(),r.pop()}else a=e;return a}o(hK,"canonicalize");var pK=new Cm;pK.tokenize=function(e){return e.slice()};pK.join=pK.removeEmpty=function(e){return e};d();var r5={abap:{lineComment:{start:'"',end:""},markdownLanguageIds:["abap","sap-abap"]},aspdotnet:{lineComment:{start:"<%--",end:"--%>"}},bat:{lineComment:{start:"REM",end:""}},bibtex:{lineComment:{start:"%",end:""},markdownLanguageIds:["bibtex"]},blade:{lineComment:{start:"#",end:""}},BluespecSystemVerilog:{lineComment:{start:"//",end:""}},c:{lineComment:{start:"//",end:""},markdownLanguageIds:["c","h"]},clojure:{lineComment:{start:";",end:""},markdownLanguageIds:["clojure","clj"]},coffeescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["coffeescript","coffee","cson","iced"]},cpp:{lineComment:{start:"//",end:""},markdownLanguageIds:["cpp","hpp","cc","hh","c++","h++","cxx","hxx"]},csharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["csharp","cs"]},css:{lineComment:{start:"/*",end:"*/"}},cuda:{lineComment:{start:"//",end:""}},dart:{lineComment:{start:"//",end:""}},dockerfile:{lineComment:{start:"#",end:""},markdownLanguageIds:["dockerfile","docker"]},dotenv:{lineComment:{start:"#",end:""}},elixir:{lineComment:{start:"#",end:""}},erb:{lineComment:{start:"<%#",end:"%>"}},erlang:{lineComment:{start:"%",end:""},markdownLanguageIds:["erlang","erl"]},fsharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["fsharp","fs","fsx","fsi","fsscript"]},go:{lineComment:{start:"//",end:""},markdownLanguageIds:["go","golang"]},graphql:{lineComment:{start:"#",end:""}},groovy:{lineComment:{start:"//",end:""}},haml:{lineComment:{start:"-#",end:""}},handlebars:{lineComment:{start:"{{!",end:"}}"},markdownLanguageIds:["handlebars","hbs","html.hbs","html.handlebars"]},haskell:{lineComment:{start:"--",end:""},markdownLanguageIds:["haskell","hs"]},hlsl:{lineComment:{start:"//",end:""}},html:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["html","xhtml"]},ini:{lineComment:{start:";",end:""}},java:{lineComment:{start:"//",end:""},markdownLanguageIds:["java","jsp"]},javascript:{lineComment:{start:"//",end:""},markdownLanguageIds:["javascript","js"]},javascriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},jsonc:{lineComment:{start:"//",end:""}},jsx:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},julia:{lineComment:{start:"#",end:""},markdownLanguageIds:["julia","jl"]},kotlin:{lineComment:{start:"//",end:""},markdownLanguageIds:["kotlin","kt"]},latex:{lineComment:{start:"%",end:""},markdownLanguageIds:["tex"]},legend:{lineComment:{start:"//",end:""}},less:{lineComment:{start:"//",end:""}},lua:{lineComment:{start:"--",end:""},markdownLanguageIds:["lua","pluto"]},makefile:{lineComment:{start:"#",end:""},markdownLanguageIds:["makefile","mk","mak","make"]},markdown:{lineComment:{start:"[]: #",end:""},markdownLanguageIds:["markdown","md","mkdown","mkd"]},"objective-c":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec","mm","objc","obj-c"]},"objective-cpp":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec++","objc+"]},perl:{lineComment:{start:"#",end:""},markdownLanguageIds:["perl","pl","pm"]},php:{lineComment:{start:"//",end:""}},powershell:{lineComment:{start:"#",end:""},markdownLanguageIds:["powershell","ps","ps1"]},pug:{lineComment:{start:"//",end:""}},python:{lineComment:{start:"#",end:""},markdownLanguageIds:["python","py","gyp"]},ql:{lineComment:{start:"//",end:""}},r:{lineComment:{start:"#",end:""}},razor:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["cshtml","razor","razor-cshtml"]},ruby:{lineComment:{start:"#",end:""},markdownLanguageIds:["ruby","rb","gemspec","podspec","thor","irb"]},rust:{lineComment:{start:"//",end:""},markdownLanguageIds:["rust","rs"]},sass:{lineComment:{start:"//",end:""}},scala:{lineComment:{start:"//",end:""}},scss:{lineComment:{start:"//",end:""}},shellscript:{lineComment:{start:"#",end:""},markdownLanguageIds:["bash","sh","zsh"]},slang:{lineComment:{start:"//",end:""}},slim:{lineComment:{start:"/",end:""}},solidity:{lineComment:{start:"//",end:""},markdownLanguageIds:["solidity","sol"]},sql:{lineComment:{start:"--",end:""}},stylus:{lineComment:{start:"//",end:""}},svelte:{lineComment:{start:"<!--",end:"-->"}},swift:{lineComment:{start:"//",end:""}},systemverilog:{lineComment:{start:"//",end:""}},terraform:{lineComment:{start:"#",end:""}},tex:{lineComment:{start:"%",end:""}},typescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["typescript","ts"]},typescriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["tsx"]},vb:{lineComment:{start:"'",end:""},markdownLanguageIds:["vb","vbscript"]},verilog:{lineComment:{start:"//",end:""}},"vue-html":{lineComment:{start:"<!--",end:"-->"}},vue:{lineComment:{start:"//",end:""}},xml:{lineComment:{start:"<!--",end:"-->"}},xsl:{lineComment:{start:"<!--",end:"-->"}},yaml:{lineComment:{start:"#",end:""},markdownLanguageIds:["yaml","yml"]}},AK={};for(let[e,t]of Object.entries(r5))if(t.markdownLanguageIds)for(let r of t.markdownLanguageIds)AK[r]=e;else AK[e]=e;function eye(e){return AK[e]}o(eye,"mdCodeBlockLangToLanguageId");var tye={start:"//",end:""},tnt=["php","plaintext"],X5e={html:"<!DOCTYPE html>",python:"#!/usr/bin/env python3",ruby:"#!/usr/bin/env ruby",shellscript:"#!/bin/sh",yaml:"# YAML data"};function rnt({source:e}){return e.startsWith("#!")||e.startsWith("<!DOCTYPE")}o(rnt,"hasLanguageMarker");function GP(e,t){let r=r5[t]?r5[t].lineComment:tye;if(r){let n=r.end==""?"":" "+r.end;return`${r.start} ${e}${n}`}return""}o(GP,"comment");function nnt(e,t){let r=r5[t]?r5[t].lineComment:tye;if(!r)return e;let n=e,i=`${r.start} `;if(n.startsWith(i)&&(n=n.substring(i.length)),r.end&&r.end!==""){let s=` ${r.end}`;n.endsWith(s)&&(n=n.substring(0,n.length-s.length))}return n}o(nnt,"uncomment");function rye(e,t){if(e==="")return"";let r=e.endsWith(`
`),i=(r?e.slice(0,-1):e).split(`
`).map(s=>nnt(s,t)).join(`
`);return r?i+`
`:i}o(rye,"uncommentBlockAsSingles");function Ta(e,t){if(e==="")return"";let r=e.endsWith(`
`),i=(r?e.slice(0,-1):e).split(`
`).map(s=>GP(s,t)).join(`
`);return r?i+`
`:i}o(Ta,"commentBlockAsSingles");function WP(e){let{languageId:t}=e;return tnt.indexOf(t)===-1&&!rnt(e)?t in X5e?X5e[t]:GP(`Language: ${t}`,t):""}o(WP,"getLanguageMarker");function HP(e){return e.relativePath?GP(`Path: ${e.relativePath}`,e.languageId):""}o(HP,"getPathMarker");function m0(e){return e===""||e.endsWith(`
`)?e:e+`
`}o(m0,"newLineEnded");function nye(e){return Z5e(typeof e=="string"?e:"plaintext")}o(nye,"getLanguage");function Z5e(e){return r5[e]!==void 0?{languageId:e,...r5[e]}:{languageId:e,lineComment:{start:"//",end:""}}}o(Z5e,"_getLanguage");d();d();d();d();d();d();d();d();var int={tokenizerName:"cl100k_base"};function ont(e){return{...int,...e}}o(ont,"cursorContextOptions");function eb(e,t={}){let r=ont(t),n=_o(r.tokenizerName);if(r.maxLineCount!==void 0&&r.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(r.maxTokenLength!==void 0&&r.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(r.maxLineCount===0||r.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:r.tokenizerName};let i=e.source.slice(0,e.offset);return r.maxLineCount!==void 0&&(i=i.split(`
`).slice(-r.maxLineCount).join(`
`)),r.maxTokenLength!==void 0&&(i=n.takeLastLinesTokens(i,r.maxTokenLength)),{context:i,lineCount:i.split(`
`).length,tokenLength:n.tokenLength(i),tokenizerName:r.tokenizerName}}o(eb,"getCursorContext");d();var yK=class{constructor(t){this.keys=[];this.cache={};this.size=t}static{o(this,"FifoCache")}put(t,r){if(this.cache[t]=r,this.keys.length>this.size){this.keys.push(t);let n=this.keys.shift()??"";delete this.cache[n]}}get(t){return this.cache[t]}};var CK=class{static{o(this,"Tokenizer")}constructor(t){this.stopsForLanguage=cnt.get(t.languageId)??lnt}tokenize(t){return new Set(snt(t).filter(r=>!this.stopsForLanguage.has(r)))}},iye=new yK(20),tb=class{static{o(this,"WindowedMatcher")}constructor(t){this.referenceDoc=t,this.tokenizer=new CK(t)}get referenceTokens(){return this.createReferenceTokens()}async createReferenceTokens(){return this.referenceTokensCache??=this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(t,r="descending"){return r=="ascending"?t.sort((n,i)=>n.score>i.score?1:-1):r=="descending"?t.sort((n,i)=>n.score>i.score?-1:1):t}async retrieveAllSnippets(t,r="descending"){let n=[];if(t.source.length===0||(await this.referenceTokens).size===0)return n;let i=t.source.split(`
`),s=this.id()+":"+t.source,a=iye.get(s)??[],l=a.length==0,c=l?i.map(u=>this.tokenizer.tokenize(u),this.tokenizer):[];for(let[u,[f,m]]of this.getWindowsDelineations(i).entries()){if(l){let A=new Set;c.slice(f,m).forEach(E=>E.forEach(x=>A.add(x),A)),a.push(A)}let h=a[u],p=this.similarityScore(h,await this.referenceTokens);if(n.length&&f>0&&n[n.length-1].endLine>f){n[n.length-1].score<p&&(n[n.length-1].score=p,n[n.length-1].startLine=f,n[n.length-1].endLine=m);continue}n.push({score:p,startLine:f,endLine:m})}return l&&iye.put(s,a),this.sortScoredSnippets(n,r)}findMatches(t,r){return this.findBestMatch(t,r)}async findBestMatch(t,r){if(t.source.length===0||(await this.referenceTokens).size===0)return[];let n=t.source.split(`
`),i=await this.retrieveAllSnippets(t,"descending");if(i.length===0)return[];let s=[];for(let a=0;a<i.length&&a<r;a++)if(i[a].score!==0){let l=n.slice(i[a].startLine,i[a].endLine).join(`
`);s.push({snippet:l,semantics:"snippet",provider:"similar-files",...i[a]})}return s}};function snt(e){return e.split(/[^a-zA-Z0-9]/).filter(t=>t.length>0)}o(snt,"splitIntoWords");var ant=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),lnt=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...ant]),cnt=new Map([]);d();function jP(e,t){let r=[],n=t.length;if(n==0)return[];if(n<e)return[[0,n]];for(let i=0;i<n-e+1;i++)r.push([i,i+e]);return r}o(jP,"getBasicWindowDelineations");var $P=class e extends tb{static{o(this,"FixedWindowSizeJaccardMatcher")}constructor(t,r){super(t),this.windowLength=r}static{this.FACTORY=o(t=>({to:o(r=>new e(r,t),"to")}),"FACTORY")}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return jP(this.windowLength,t)}_getCursorContextInfo(t){return eb(t,{maxLineCount:this.windowLength})}similarityScore(t,r){return unt(t,r)}};function unt(e,t){let r=new Set;return e.forEach(n=>{t.has(n)&&r.add(n)}),r.size/(e.size+t.size-r.size)}o(unt,"computeScore");d();d();var sye=require("fs"),zP=ft(require("path")),YP=ft(oye());var xK={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby",csharp:"c_sharp",java:"java"};function Iu(e){return e in xK&&e!=="csharp"&&e!=="java"}o(Iu,"isSupportedLanguageId");function KP(e){if(!(e in xK))throw new Error(`Unrecognized language: ${e}`);return xK[e]}o(KP,"languageIdToWasmLanguage");var EK=new Map;async function fnt(e){let t,r=zP.default.resolve(zP.default.extname(__filename)!==".ts"?__dirname:zP.default.resolve(__dirname,"../../dist"),`tree-sitter-${e}.wasm`);try{t=await sye.promises.readFile(r)}catch(n){throw n instanceof Error&&"code"in n&&typeof n.code=="string"&&n.name==="Error"?new r1(`Could not load tree-sitter-${e}.wasm`,n):n}return YP.default.Language.load(t)}o(fnt,"loadWasmLanguage");function dnt(e){let t=KP(e);if(!EK.has(t)){let r=fnt(t);EK.set(t,r)}return EK.get(t)}o(dnt,"getLanguage");var vK=class extends Error{static{o(this,"WrappedError")}constructor(t,r){super(t,{cause:r})}};async function xC(e,t){await YP.default.init();let r;try{r=new YP.default}catch(s){throw s&&typeof s=="object"&&"message"in s&&typeof s.message=="string"&&s.message.includes("table index is out of bounds")?new vK(`Could not init Parse for language <${e}>`,s):s}let n=await dnt(e);r.setLanguage(n);let i=r.parse(t);return r.delete(),i}o(xC,"parseTreeSitter");function aye(e){switch(KP(e)){case"python":return null;case"javascript":case"typescript":case"tsx":case"go":case"c_sharp":case"java":return"}";case"ruby":return"end"}}o(aye,"getBlockCloseToken");function mnt(e,t){let r=[];for(let n of e){if(!n[1]){let i=t.tree.getLanguage();n[1]=i.query(n[0])}r.push(...n[1].matches(t))}return r}o(mnt,"innerQuery");var hnt=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];function lye(e){return mnt([hnt],e).length==1}o(lye,"queryPythonIsDocstring");var JP=class e extends tb{static{o(this,"BlockTokenSubsetMatcher")}constructor(t,r){super(t),this.windowLength=r}static{this.FACTORY=o(t=>({to:o(r=>new e(r,t),"to")}),"FACTORY")}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return jP(this.windowLength,t)}_getCursorContextInfo(t){return eb(t,{maxLineCount:this.windowLength})}get referenceTokens(){return this.createReferenceTokensForLanguage()}async createReferenceTokensForLanguage(){return this.referenceTokensCache?this.referenceTokensCache:(this.referenceTokensCache=e.syntaxAwareSupportsLanguage(this.referenceDoc.languageId)?await this.syntaxAwareReferenceTokens():await super.referenceTokens,this.referenceTokensCache)}async syntaxAwareReferenceTokens(){let t=(await this.getEnclosingMemberStart(this.referenceDoc.source,this.referenceDoc.offset))?.startIndex,r=this.referenceDoc.offset,n=t?this.referenceDoc.source.slice(t,r):eb(this.referenceDoc,{maxLineCount:this.windowLength}).context;return this.tokenizer.tokenize(n)}static syntaxAwareSupportsLanguage(t){switch(t){case"csharp":return!0;default:return!1}}similarityScore(t,r){return pnt(t,r)}async getEnclosingMemberStart(t,r){let n;try{n=await xC(this.referenceDoc.languageId,t);let i=n.rootNode.namedDescendantForIndex(r);for(;i&&!(e.isMember(i)||e.isBlock(i));)i=i.parent??void 0;return i}finally{n?.delete()}}static isMember(t){switch(t?.type){case"method_declaration":case"property_declaration":case"field_declaration":case"constructor_declaration":return!0;default:return!1}}static isBlock(t){switch(t?.type){case"class_declaration":case"struct_declaration":case"record_declaration":case"enum_declaration":case"interface_declaration":return!0;default:return!1}}};function pnt(e,t){let r=new Set;return t.forEach(n=>{e.has(n)&&r.add(n)}),r.size}o(pnt,"computeScore");var gnt=0,Ant=60,ynt=4,Cnt=1,Ent=20,xnt=1e4,XP={snippetLength:Ant,threshold:gnt,maxTopSnippets:ynt,maxCharPerFile:xnt,maxNumberOfFiles:Ent,maxSnippetsPerFile:Cnt,useSubsetMatching:!1};var nb={snippetLength:60,threshold:0,maxTopSnippets:16,maxCharPerFile:1e5,maxNumberOfFiles:200,maxSnippetsPerFile:4};function vnt(e,t){return(t.useSubsetMatching?JP.FACTORY(t.snippetLength):$P.FACTORY(t.snippetLength)).to(e)}o(vnt,"getMatcher");async function ZP(e,t,r){let n=vnt(e,r);return r.maxTopSnippets===0?[]:(await t.filter(s=>s.source.length<r.maxCharPerFile&&s.source.length>0).slice(0,r.maxNumberOfFiles).reduce(async(s,a)=>(await s).concat((await n.findMatches(a,r.maxSnippetsPerFile)).map(l=>({relativePath:a.relativePath,...l}))),Promise.resolve([]))).filter(s=>s.score&&s.snippet&&s.score>r.threshold).sort((s,a)=>s.score-a.score).slice(-r.maxTopSnippets)}o(ZP,"getSimilarSnippets");d();d();function cye(e,t,r){if(!r)throw new Error("targetTokenBudget must be specified for the truncateFirstLinesFirst summarizer");let n=t.text.split(`
`);for(let x=0;x<n.length-1;x++)n[x]+=`
`;let i=[];n.forEach((x,b)=>{x===`
`&&i.length>0&&!i[i.length-1].endsWith(`

`)?i[i.length-1]+=`
`:i.push(x)});let s=i.map(x=>e.tokenLength(x)),a=1,l=0;for(;a<=s.length;a++){let x=s.at(-a);if(x){if(x+l>r){a--;break}l+=x}}let u=i.slice(-a).join(""),f=e.tokenLength(u),h=i.slice(0,-a).join(""),p=e.tokenLength(h),A={id:t.id,kind:t.kind,text:u,tokens:f,score:t.score},E={id:t.id,kind:t.kind,text:h,tokens:p,score:t.score};return{summarizedElement:A,removedMaterial:E}}o(cye,"truncateFirstLinesFirst");var eN=class{static{o(this,"SnippetTextProcessor")}constructor(t="default"){switch(t){case"default":default:this.kindToFunctionMap=new Map([["BeforeCursor",cye]])}}isSummarizationAvailable(t){return this.kindToFunctionMap.has(t)}summarize(t,r,n){return this.kindToFunctionMap.get(r.kind)(t,r,n)}};d();var Int=/(\.|->|::)\w+$/;function uye(e,t){let r=`Use ${e}`;return Ta(r,t)}o(uye,"announceTooltipSignatureSnippet");function fye(e){let t=e.source.substring(0,e.offset);return Int.test(t)}o(fye,"endsWithAttributesOrMethod");function dye(e,t){let r=e.lastIndexOf(`
`)+1,n=e.substring(0,r),i=e.substring(r);return t.snippet=t.snippet+i,[n,t]}o(dye,"transferLastLineToTooltipSignature");var mye={text:"",tokens:[]};var H7=500,vC=8192-H7,bK=4,Tnt=150,V7=10,tN=15;var W7=class{constructor(t,r){this.maxPromptLength=vC;this.lineEnding="unix";this.tokenizerName="cl100k_base";this.suffixPercent=15;this.suffixMatchThreshold=V7;this.promptOrderListPreset="default";this.promptPriorityPreset="default";this.snippetTextProcessingPreset="default";if(Object.assign(this,t),this.suffixPercent<0||this.suffixPercent>100)throw new Error(`suffixPercent must be between 0 and 100, but was ${this.suffixPercent}`);if(this.suffixMatchThreshold<0||this.suffixMatchThreshold>100)throw new Error(`suffixMatchThreshold must be at between 0 and 100, but was ${this.suffixMatchThreshold}`);r==="cpp"?(this.similarFilesOptions??=nb,this.numberOfSnippets??=nb.maxTopSnippets):(this.similarFilesOptions??=XP,this.numberOfSnippets??=bK)}static{o(this,"PromptOptions")}},wnt={javascriptreact:"javascript",jsx:"javascript",typescriptreact:"typescript",jade:"pug",cshtml:"razor",c:"cpp"};function wa(e){return e=e.toLowerCase(),wnt[e]??e}o(wa,"normalizeLanguageId");async function hye(e,t={},r=[]){let n=new W7(t,e.languageId),i=_o(n.tokenizerName),s=new eN(n.snippetTextProcessingPreset),a=new j7(n.promptOrderListPreset),l=new rN(n.promptPriorityPreset),{source:c,offset:u}=e;if(u<0||u>c.length)throw new Error(`Offset ${u} is out of range.`);e.languageId=wa(e.languageId);let f=new iN(i,n.lineEnding,a,s,l),m=r.find(k=>k.provider==="path"),h=r.find(k=>k.provider==="language"),p=r.find(k=>k.provider==="trait"),A=r.find(k=>k.provider==="tooltip-signature");m!==void 0&&m.snippet.length>0?(f.append(m.snippet,"PathMarker"),h&&f.extMarkUnused({text:h.snippet,kind:"LanguageMarker",tokens:i.tokenLength(h.snippet),id:NaN,score:NaN})):h&&f.append(h.snippet,"LanguageMarker"),p!=null&&f.append(p.snippet,"Traits"),r=r.filter(k=>k.provider!=="language"&&k.provider!=="path"&&k.provider!=="tooltip-signature"&&k.provider!=="trait");function E(){pye(r,e.languageId,i,l,n.numberOfSnippets).forEach(P=>{let N=nN(P.provider);f.append(P.announcedSnippet,N,P.tokens,P.score)})}o(E,"addSnippetsNow"),E();let x=c.substring(0,u);A!==void 0&&i.tokenLength(A.snippet)<=Tnt?([x,A]=dye(x,A),f.append(A.snippet,"TooltipSignature")):A!==void 0&&f.extMarkUnused({text:A.snippet,kind:"TooltipSignature",tokens:i.tokenLength(A.snippet),id:NaN,score:NaN}),f.append(x,"BeforeCursor");let b=c.slice(u),{promptInfo:v,newCachedSuffix:S}=f.fulfill(b,n,mye);return mye=S,v}o(hye,"getPrompt");d();function oN(e,t){if(e.length===0||t.length===0)return{score:e.length+t.length};let r=Array.from({length:e.length}).map(()=>Array.from({length:t.length}).map(()=>0));for(let n=0;n<e.length;n++)r[n][0]=n;for(let n=0;n<t.length;n++)r[0][n]=n;for(let n=0;n<t.length;n++)for(let i=0;i<e.length;i++)r[i][n]=Math.min((i==0?n:r[i-1][n])+1,(n==0?i:r[i][n-1])+1,(i==0||n==0?Math.max(i,n):r[i-1][n-1])+(e[i]==t[n]?0:1));return{score:r[e.length-1][t.length-1]}}o(oN,"findEditDistanceScore");var n5=50,IK=5,ib=class{constructor(){this.used=new Map;this.unused=new Map}static{o(this,"PromptBackground")}add(t){for(let[r,n]of t.used)this.used.set(r,n);for(let[r,n]of t.unused)this.unused.set(r,n)}markUsed(t){this.IsSnippet(t)&&this.used.set(t.id,this.convert(t))}undoMarkUsed(t){this.IsSnippet(t)&&this.used.delete(t.id)}markUnused(t){this.IsSnippet(t)&&this.unused.set(t.id,this.convert(t))}convert(t){return{score:t.score.toFixed(4),length:t.text.length}}IsSnippet(t){return t.kind=="SimilarFile"||t.kind=="TooltipSignature"}},ob=class{constructor(){this.used=new Map;this.unused=new Map;this.usedCounts=new Map;this.unusedCounts=new Map}static{o(this,"PromptChoices")}toJSON(){return{used:Object.fromEntries(this.used),unused:Object.fromEntries(this.unused),usedCounts:Object.fromEntries(this.usedCounts),unusedCounts:Object.fromEntries(this.unusedCounts)}}add(t){for(let[r,n]of t.used)this.used.set(r,(this.used.get(r)||0)+n);for(let[r,n]of t.unused)this.unused.set(r,(this.unused.get(r)||0)+n);for(let[r,n]of t.usedCounts)this.usedCounts.set(r,(this.usedCounts.get(r)||0)+n);for(let[r,n]of t.unusedCounts)this.unusedCounts.set(r,(this.unusedCounts.get(r)||0)+n)}markUsed(t){this.used.set(t.kind,(this.used.get(t.kind)||0)+t.tokens),t.kind=="BeforeCursor"?this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)+t.text.split(`
`).length):this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)+1)}undoMarkUsed(t){this.used.set(t.kind,(this.used.get(t.kind)||0)-t.tokens),t.kind=="BeforeCursor"?this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)-t.text.split(`
`).length):this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)-1)}markUnused(t){this.unused.set(t.kind,(this.unused.get(t.kind)||0)+t.tokens),t.kind=="BeforeCursor"?this.unusedCounts.set(t.kind,(this.unusedCounts.get(t.kind)||0)+t.text.split(`
`).length):this.unusedCounts.set(t.kind,(this.unusedCounts.get(t.kind)||0)+1)}},j7=class{static{o(this,"PromptOrderList")}constructor(t="default"){this._rankedList=["LanguageMarker","PathMarker","Traits","CodeSnippet","SimilarFile","BeforeCursor","TooltipSignature"]}get rankedList(){return this._rankedList}sortElements(t){return t.sort((r,n)=>{let i=this._rankedList.indexOf(r.kind),s=this._rankedList.indexOf(n.kind);if(i===-1||s===-1)throw new Error(`Invalid element kind: ${r.kind} or ${n.kind}, not found in prompt element ordering list`);return i===s?r.id-n.id:i-s})}},rN=class extends j7{static{o(this,"PromptPriorityList")}constructor(t="default"){switch(super(),t){case"office-exp":this._rankedList=["PathMarker","TooltipSignature","BeforeCursor","CodeSnippet","SimilarFile","LanguageMarker","Traits"];break;default:this._rankedList=["TooltipSignature","BeforeCursor","CodeSnippet","SimilarFile","PathMarker","LanguageMarker","Traits"]}}sortElements(t){return t.sort((r,n)=>{let i=this._rankedList.indexOf(r.kind),s=this._rankedList.indexOf(n.kind);if(i===-1||s===-1)throw new Error(`Invalid element kind: ${r.kind} or ${n.kind}, not found in snippet provider priority list`);return i===s?n.id-r.id:i-s})}};function nN(e){switch(e){case"similar-files":return"SimilarFile";case"path":return"PathMarker";case"language":return"LanguageMarker";case"tooltip-signature":return"TooltipSignature";case"trait":return"Traits";case"code":return"CodeSnippet";default:throw new Error(`Unknown snippet provider type ${e}`)}}o(nN,"kindForSnippetProviderType");var sN=class{constructor(t){this.ranges=new Array;let r=0,n;for(let i of t)i.text.length!==0&&(n==="BeforeCursor"&&i.kind==="BeforeCursor"?this.ranges[this.ranges.length-1].end+=i.text.length:this.ranges.push({kind:i.kind,start:r,end:r+i.text.length}),n=i.kind,r+=i.text.length)}static{o(this,"PromptElementRanges")}},iN=class{constructor(t,r,n,i,s){this.tokenizer=t;this.lineEndingOption=r;this.orderingList=n;this.snippetTextProcessor=i;this.priorityList=s;this.content=[];this.basePromptBackground=new ib;this.baseTallyOfChoices=new ob}static{o(this,"PromptWishlist")}extMarkUnused(t){this.basePromptBackground.markUnused(t),this.baseTallyOfChoices.markUnused(t)}getContent(){return[...this.content]}convertLineEndings(t){return this.lineEndingOption==="unix"&&(t=t.replace(/\r\n?/g,`
`)),t}maxPrefixTokenLength(){return this.content.reduce((t,r)=>t+=r.tokens,0)}append(t,r,n=this.tokenizer.tokenLength(t),i=NaN){t=this.convertLineEndings(t);let s=this.content.length;return this.content.push({id:s,text:t,kind:r,tokens:n,score:i}),s}fulfillPrefix(t){let r=new ib;r.add(this.basePromptBackground);let n=new ob;n.add(this.baseTallyOfChoices);function i(A){r.markUsed(A),n.markUsed(A)}o(i,"markUsed");function s(A){r.undoMarkUsed(A),n.undoMarkUsed(A)}o(s,"undoMarkUsed");function a(A){r.markUnused(A),n.markUnused(A)}o(a,"markUnused"),this.priorityList.sortElements(this.content);let l,c=[],u=t;this.content.forEach(A=>{if(u>0||l===void 0){let E=A.tokens;if(u>=E)u-=E,i(A),c.push(A);else if(A.kind==="BeforeCursor"&&u>0){let{summarizedElement:x,removedMaterial:b}=this.snippetTextProcessor.summarize(this.tokenizer,A,u);A=x,E=A.tokens,u-=E,A.text.length>0&&i(A),b.text.length>0&&a(b),c.push(A)}else l===void 0?l=A:a(A)}else a(A)}),this.orderingList.sortElements(c);let f=c.reduce((A,E)=>A+E.text,""),m=this.tokenizer.tokenLength(f);for(;m>t;){this.priorityList.sortElements(c);let A=c.pop();A&&(s(A),a(A),l!==void 0&&a(l),l=void 0),this.orderingList.sortElements(c),f=c.reduce((E,x)=>E+x.text,""),m=this.tokenizer.tokenLength(f)}let h=[...c];if(l!==void 0){h.push(l),this.orderingList.sortElements(h);let A=h.reduce((x,b)=>x+b.text,""),E=this.tokenizer.tokenLength(A);if(E<=t){i(l);let x=new sN(h);return{prefix:A,suffix:"",prefixLength:E,suffixLength:0,promptChoices:n,promptBackground:r,promptElementRanges:x}}else a(l)}let p=new sN(c);return{prefix:f,suffix:"",prefixLength:m,suffixLength:0,promptChoices:n,promptBackground:r,promptElementRanges:p}}fulfill(t,r,n){if(r.suffixPercent===0||t.length===0)return{promptInfo:this.fulfillPrefix(r.maxPromptLength),newCachedSuffix:n};let i=r.maxPromptLength-IK,s=Math.floor(i*(100-r.suffixPercent)/100),a=i-s,l=t.replace(/^.*/,"").trimStart();if(i>n5&&a<n5)throw new Error(`Suffix budget is smaller than MAX_EDIT_DISTANCE_LENGTH: ${a} < ${n5}
`);let c=this.tokenizer.takeFirstTokens(l,n5),u=!1;c.tokens.length>0&&r.suffixMatchThreshold>0&&100*oN(c.tokens,n.tokens.slice(0,n5))?.score<r.suffixMatchThreshold*c.tokens.length&&(u=!0);let f;if(u)s=i-n.tokens.length,f=n;else{let h=this.maxPrefixTokenLength(),p=this.tokenizer.tokenLength(l);h<s?(s=h,a=i-s):p<a&&(s=i-p,a=p),f=this.tokenizer.takeFirstTokens(l,a)}let m=this.fulfillPrefix(s);return m.suffix=f.text,m.suffixLength=f.tokens.length,{promptInfo:m,newCachedSuffix:f}}};var _nt={function:"function",snippet:"snippet",snippets:"snippets",variable:"variable",parameter:"parameter",method:"method",class:"class",module:"module",alias:"alias","enum member":"enum member",interface:"interface"};function TK(e,t){let r=_nt[e.semantics],n=["snippets"].includes(e.semantics)?"these":"this",s=(e.relativePath?`Compare ${n} ${r} from ${e.relativePath}:`:`Compare ${n} ${r}:`)+`
`+e.snippet;return s.endsWith(`
`)||(s+=`
`),Ta(s,t)}o(TK,"announceSnippet");function gye(e){e.sort((t,r)=>r.score-t.score)}o(gye,"sortSnippetsDescending");function Snt(e,t,r){if(t==0)return[];let n=e.map(s=>({...s,kind:nN(s.provider)})),i=[];return r.rankedList.forEach(s=>{let a=n.filter(({kind:l})=>l===s);gye(a),i.push(...a)}),i.slice(0,t)}o(Snt,"selectSnippets");function pye(e,t,r,n,i){let a=Snt(e,i,n).map(l=>{let c=TK(l,t),u=r.tokenLength(c);return{announcedSnippet:c,provider:l.provider,score:l.score,tokens:u,relativePath:l.relativePath}}).filter(l=>l.tokens>0);return gye(a),a.reverse(),a}o(pye,"processSnippetsForWishlist");d();var n1=class extends Error{static{o(this,"ProviderTimeoutError")}constructor(t){super(t),this.name="ProviderTimeoutError"}},Ic=class{static{o(this,"SnippetProvider")}constructor(t){this.api=t}getSnippets(t,r){return new Promise((n,i)=>{r.aborted&&i(new bC(this.type,new n1("provider aborted"))),r.addEventListener("abort",()=>{i(new bC(this.type,new n1(`max runtime exceeded: ${wK} ms`)))},{once:!0});let s=performance.now();this.buildSnippets(t).then(a=>{let l=performance.now();n({snippets:a,providerType:this.type,runtime:l-s})}).catch(a=>{i(new bC(this.type,a))})})}};var aN=class extends Ic{constructor(){super(...arguments);this.type="code"}static{o(this,"CodeSnippetProvider")}async buildSnippets(r){if(r.codeSnippets===void 0||r.codeSnippets.length===0)return[];let{codeSnippets:n}=r,i=new Map;for(let a of n){let l=a.relativePath??a.snippet.uri,c=i.get(l);c===void 0&&(c=[],i.set(l,c)),c.push(a)}let s=[];return i.forEach((a,l)=>{let c=a.map(u=>u.snippet.value).join(`
---
`);s.push({provider:this.type,semantics:a.length>1?"snippets":"snippet",snippet:m0(c),relativePath:l,startLine:0,endLine:0,score:Math.max(...a.map(u=>u.snippet.importance??0))})}),s}};d();var lN=class extends Ic{constructor(){super(...arguments);this.type="language"}static{o(this,"LanguageSnippetProvider")}async buildSnippets(r){let{currentFile:n}=r;return n.languageId=wa(n.languageId),[{provider:this.type,semantics:"snippet",snippet:m0(WP(n)),relativePath:n.relativePath,startLine:0,endLine:0,score:0}]}};d();var cN=class extends Ic{constructor(){super(...arguments);this.type="path"}static{o(this,"PathSnippetProvider")}async buildSnippets(r){let{currentFile:n}=r;return n.languageId=wa(n.languageId),[{provider:this.type,semantics:"snippet",snippet:m0(HP(n)),relativePath:n.relativePath,startLine:0,endLine:0,score:0}]}};d();var uN=class extends Ic{constructor(){super(...arguments);this.type="similar-files"}static{o(this,"SimilarFilesProvider")}async buildSnippets(r){let{currentFile:n,similarFiles:i,options:s}=r;return s&&i&&i.length?await this.api.getSimilarSnippets(n,i,s.similarFilesOptions):[]}};d();var fN=class extends Ic{constructor(){super(...arguments);this.type="tooltip-signature"}static{o(this,"TooltipSignatureSnippetProvider")}async buildSnippets(r){let{currentFile:n,tooltipSignature:i}=r,s=[];return n.languageId=wa(n.languageId),i&&fye(n)&&s.push({provider:this.type,semantics:"snippet",snippet:m0(uye(i,n.languageId)),relativePath:n.relativePath,startLine:0,endLine:0,score:0}),s}};d();var dN=class extends Ic{constructor(){super(...arguments);this.type="trait"}static{o(this,"TraitProvider")}async buildSnippets(r){if(r.traits.length===0)return[];let{currentFile:n}=r;return n.languageId=wa(n.languageId),[{provider:this.type,semantics:"snippet",snippet:Ta(`Consider this related information:
`+r.traits.map(i=>i.kind==="string"?m0(i.value):m0(`${i.name}: ${i.value}`)).join(""),n.languageId),relativePath:n.relativePath,startLine:0,endLine:0,score:0}]}};d();var mN=ft(require("path")),ep=require("worker_threads");function N0(e){return new Promise(t=>{setTimeout(()=>t(`delay: ${e}`),e)})}o(N0,"sleep");var Aye=["getSimilarSnippets","sleep"],_K=class{constructor(){this.nextHandlerId=0;this.handlers=new Map;this.fns=new Map;this.getSimilarSnippets=ZP;this.sleep=N0;!ep.isMainThread&&ep.workerData?.port&&(ZV(),process.cwd=()=>ep.workerData.cwd,this.configureWorkerResponse(ep.workerData.port))}static{o(this,"WorkerProxy")}initWorker(){let{port1:t,port2:r}=new ep.MessageChannel;this.port=t,this.worker=new ep.Worker(mN.default.resolve(mN.default.extname(__filename)!==".ts"?__dirname:mN.default.resolve(__dirname,"../../dist"),"workerProxy.js"),{workerData:{port:r,cwd:process.cwd()},transferList:[r]}),this.port.on("message",n=>this.handleMessage(n)),this.port.on("error",n=>this.handleError(n))}startThreading(){if(this.worker)throw new Error("Worker thread already initialized.");this.proxyFunctions(),this.initWorker()}stopThreading(){this.worker&&(this.worker.terminate(),this.worker.removeAllListeners(),this.worker=void 0,this.unproxyFunctions(),this.handlers.clear())}proxyFunctions(){for(let t of Aye)this.fns.set(t,this[t]),this.proxy(t)}unproxyFunctions(){for(let t of Aye){let r=this.fns.get(t);if(r)this[t]=r;else throw new Error(`Unproxy function not found: ${t}`)}}configureWorkerResponse(t){this.port=t,this.port.on("message",r=>void this.onMessage(r))}async onMessage({id:t,fn:r,args:n}){let i=this[r];if(!i)throw new Error(`Function not found: ${r}`);try{let s=await i.apply(this,n);this.port.postMessage({id:t,res:s})}catch(s){if(!(s instanceof Error))throw s;typeof s.code=="string"?this.port.postMessage({id:t,err:s,code:s.code}):this.port.postMessage({id:t,err:s})}}handleMessage({id:t,err:r,code:n,res:i}){let s=this.handlers.get(t);s&&(this.handlers.delete(t),r?(r.code=n,s.reject(r)):s.resolve(i))}handleError(t){let r;if(t instanceof Error){r=t,r.code==="MODULE_NOT_FOUND"&&r.message?.endsWith("workerProxy.js'")&&(r=new r1("Failed to load workerProxy.js"));let n=new Error().stack;r.stack&&n?.match(/^Error\n/)&&(r.stack+=n.replace(/^Error/,""))}else t&&typeof t=="object"&&"name"in t&&t.name==="ExitStatus"&&"status"in t&&typeof t.status=="number"?(r=new Error(`workerProxy.js exited with status ${t.status}`),r.code=`CopilotPromptWorkerExit${t.status}`):r=new Error(`Non-error thrown: ${JSON.stringify(t)}`);for(let n of this.handlers.values())n.reject(r);throw r}proxy(t){this[t]=function(...r){let n=this.nextHandlerId++;return new Promise((i,s)=>{this.handlers.set(n,{resolve:i,reject:s}),this.port?.postMessage({id:n,fn:t,args:r})})}}},hN=new _K;var wK=300,Bnt=[lN,cN,uN,fN,dN,aN],bC=class extends Error{constructor(r,n){super();this.providerType=r;this.error=n}static{o(this,"ProviderError")}};function yye(e){return e.status==="fulfilled"}o(yye,"isFulfilledResult");function knt(e){return e.status==="rejected"}o(knt,"isRejectedResult");function SK(e){return e.filter(yye).flatMap(t=>t.value.snippets)}o(SK,"providersSnippets");function BK(e){return e.filter(knt).flatMap(t=>t.reason)}o(BK,"providersErrors");function kK(e){let t={},r={};return e.forEach(n=>{yye(n)?(t[n.value.providerType]=Math.round(n.value.runtime),r[n.value.providerType]=!1):Rnt(n.reason)&&(r[n.reason.providerType]=!0,t[n.reason.providerType]=0)}),{runtimes:t,timeouts:r}}o(kK,"providersPerformance");function Rnt(e){return e!==null&&typeof e=="object"&&"error"in e&&e.error instanceof n1}o(Rnt,"isProviderTimeout");var Em=class{constructor(t=Bnt){this.startThreading=o(()=>hN.startThreading(),"startThreading");this.stopThreading=o(()=>hN.stopThreading(),"stopThreading");this.providers=t.map(r=>new r(hN))}static{o(this,"SnippetOrchestrator")}async getSnippets(t){let r=AbortSignal.timeout(wK),n=this.providers.map(i=>i.getSnippets(t,r));return Promise.allSettled?Promise.allSettled(n):Dnt(n)}};function Dnt(e){return Promise.all(e.map(t=>t.then(Pnt,Nnt)))}o(Dnt,"allSettledBackup");function Pnt(e){return{status:"fulfilled",value:e}}o(Pnt,"createPromiseFulfilledResult");function Nnt(e){return{status:"rejected",reason:e}}o(Nnt,"createPromiseRejectedResult");d();var pN=class{constructor(t,r,n){this.languageId=t;this.nodeMatch=r;this.nodeTypesWithBlockOrStmtChild=n}static{o(this,"BaseBlockParser")}async getNodeMatchAtPosition(t,r,n){let i=await xC(this.languageId,t);try{let a=i.rootNode.descendantForIndex(r);for(;a;){let l=this.nodeMatch[a.type];if(l){if(!this.nodeTypesWithBlockOrStmtChild.has(a.type))break;let c=this.nodeTypesWithBlockOrStmtChild.get(a.type);if((c==""?a.namedChildren[0]:a.childForFieldName(c))?.type==l)break}a=a.parent}return a?n(a):void 0}finally{i.delete()}}getNextBlockAtPosition(t,r,n){return this.getNodeMatchAtPosition(t,r,i=>{let s=i.children.reverse().find(a=>a.type==this.nodeMatch[i.type]);if(s){if(this.languageId=="python"&&s.parent){let a=s.parent.type==":"?s.parent.parent:s.parent,l=a?.nextSibling;for(;l&&l.type=="comment";){let c=l.startPosition.row==s.endPosition.row&&l.startPosition.column>=s.endPosition.column,u=l.startPosition.row>a.endPosition.row&&l.startPosition.column>a.startPosition.column;if(c||u)s=l,l=l.nextSibling;else break}}if(!(s.endIndex>=s.tree.rootNode.endIndex-1&&(s.hasError()||s.parent.hasError())))return n(s)}})}async isBlockBodyFinished(t,r,n){let i=(t+r).trimEnd(),s=await this.getNextBlockAtPosition(i,n,a=>a.endIndex);if(s!==void 0&&s<i.length){let a=s-t.length;return a>0?a:void 0}}getNodeStart(t,r){let n=t.trimEnd();return this.getNodeMatchAtPosition(n,r,i=>i.startIndex)}},gN=class extends pN{constructor(r,n,i,s,a){super(r,s,a);this.blockEmptyMatch=n;this.lineMatch=i}static{o(this,"RegexBasedBlockParser")}isBlockStart(r){return this.lineMatch.test(r.trimStart())}async isBlockBodyEmpty(r,n){let i=await this.getNextBlockAtPosition(r,n,s=>{s.startIndex<n&&(n=s.startIndex);let a=r.substring(n,s.endIndex).trim();return a==""||a.replace(/\s/g,"")==this.blockEmptyMatch});return i===void 0||i}async isEmptyBlockStart(r,n){return n=Eye(r,n),this.isBlockStart(Fnt(r,n))&&this.isBlockBodyEmpty(r,n)}};function Fnt(e,t){let r=e.lastIndexOf(`
`,t-1),n=e.indexOf(`
`,t);return n<0&&(n=e.length),e.slice(r+1,n)}o(Fnt,"getLineAtOffset");function Eye(e,t){let r=t;for(;r>0&&/\s/.test(e.charAt(r-1));)r--;return r}o(Eye,"rewindToNearestNonWs");function Cye(e,t){let r=e.startIndex,n=e.startIndex-e.startPosition.column,i=t.substring(n,r);if(/^\s*$/.test(i))return i}o(Cye,"indent");function Lnt(e,t,r){if(t.startPosition.row<=e.startPosition.row)return!1;let n=Cye(e,r),i=Cye(t,r);return n!==void 0&&i!==void 0&&n.startsWith(i)}o(Lnt,"outdented");var i5=class extends pN{constructor(r,n,i,s,a,l,c){super(r,n,i);this.startKeywords=s;this.blockNodeType=a;this.emptyStatementType=l;this.curlyBraceLanguage=c}static{o(this,"TreeSitterBasedBlockParser")}isBlockEmpty(r,n){let i=r.text.trim();return this.curlyBraceLanguage&&(i.startsWith("{")&&(i=i.slice(1)),i.endsWith("}")&&(i=i.slice(0,-1)),i=i.trim()),!!(i.length==0||this.languageId=="python"&&(r.parent?.type=="class_definition"||r.parent?.type=="function_definition")&&r.children.length==1&&lye(r.parent))}async isEmptyBlockStart(r,n){if(n>r.length)throw new RangeError("Invalid offset");for(let s=n;s<r.length&&r.charAt(s)!=`
`;s++)if(/\S/.test(r.charAt(s)))return!1;n=Eye(r,n);let i=await xC(this.languageId,r);try{let s=i.rootNode.descendantForIndex(n-1);if(s==null||this.curlyBraceLanguage&&s.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&s.parent&&s.parent.type=="object"&&s.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let f=s;for(;f.parent;){if(f.type=="function_signature"||f.type=="method_signature"){let m=s.nextSibling;return m&&f.hasError()&&Lnt(f,m,r)?!0:!f.children.find(p=>p.type==";")&&f.endIndex<=n}f=f.parent}}let a=null,l=null,c=null,u=s;for(;u!=null;){if(u.type==this.blockNodeType){l=u;break}if(this.nodeMatch[u.type]){c=u;break}if(u.type=="ERROR"){a=u;break}u=u.parent}if(l!=null){if(!l.parent||!this.nodeMatch[l.parent.type])return!1;if(this.languageId=="python"){let f=l.previousSibling;if(f!=null&&f.hasError()&&(f.text.startsWith('"""')||f.text.startsWith("'''")))return!0}return this.isBlockEmpty(l,n)}if(a!=null){if(a.previousSibling?.type=="module"||a.previousSibling?.type=="internal_module"||a.previousSibling?.type=="def")return!0;let f=[...a.children].reverse(),m=f.find(p=>this.startKeywords.includes(p.type)),h=f.find(p=>p.type==this.blockNodeType);if(m){switch(this.languageId){case"python":{m.type=="try"&&s.type=="identifier"&&s.text.length>4&&(h=f.find(E=>E.hasError())?.children.find(E=>E.type=="block"));let p,A=0;for(let E of a.children){if(E.type==":"&&A==0){p=E;break}E.type=="("&&(A+=1),E.type==")"&&(A-=1)}if(p&&m.endIndex<=p.startIndex&&p.nextSibling){if(m.type=="def"){let E=p.nextSibling;if(E.type=='"'||E.type=="'"||E.type=="ERROR"&&(E.text=='"""'||E.text=="'''"))return!0}return!1}break}case"javascript":{let p=f.find(x=>x.type=="formal_parameters");if(m.type=="class"&&p)return!0;let A=f.find(x=>x.type=="{");if(A&&A.startIndex>m.endIndex&&A.nextSibling!=null||f.find(x=>x.type=="do")&&m.type=="while"||m.type=="=>"&&m.nextSibling&&m.nextSibling.type!="{")return!1;break}case"typescript":{let p=f.find(E=>E.type=="{");if(p&&p.startIndex>m.endIndex&&p.nextSibling!=null||f.find(E=>E.type=="do")&&m.type=="while"||m.type=="=>"&&m.nextSibling&&m.nextSibling.type!="{")return!1;break}}return h&&h.startIndex>m.endIndex?this.isBlockEmpty(h,n):!0}}if(c!=null){let f=this.nodeMatch[c.type],m=c.children.slice().reverse().find(h=>h.type==f);if(m)return this.isBlockEmpty(m,n);if(this.nodeTypesWithBlockOrStmtChild.has(c.type)){let h=this.nodeTypesWithBlockOrStmtChild.get(c.type),p=h==""?c.children[0]:c.childForFieldName(h);if(p&&p.type!=this.blockNodeType&&p.type!=this.emptyStatementType)return!1}return!0}return!1}finally{i.delete()}}},Qnt={python:new i5("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new i5("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new i5("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new i5("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new gN("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new gN("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map),c_sharp:new i5("csharp",{},new Map([]),[],"block",null,!0),java:new i5("java",{},new Map([]),[],"block",null,!0)};function RK(e){if(!Iu(e))throw new Error(`Language ${e} is not supported`);return Qnt[KP(e)]}o(RK,"getBlockParser");async function xye(e,t,r){return Iu(e)?RK(e).isEmptyBlockStart(t,r):!1}o(xye,"isEmptyBlockStart");async function vye(e,t,r,n){if(Iu(e))return RK(e).isBlockBodyFinished(t,r,n)}o(vye,"isBlockBodyFinished");async function bye(e,t,r){if(Iu(e))return RK(e).getNodeStart(t,r)}o(bye,"getNodeStart");var DK=class{constructor(t){this.ctx=t;this.cache=new kn(200)}static{o(this,"FilterSettingsToExpConfigs")}async fetchExpConfig(t){let r=this.cache.get(t.stringify());return r||(r=new PK(()=>this.ctx.get(Mf).fetchExperiments(this.ctx,t.toHeaders()),1e3*60*60),this.cache.set(t.stringify(),r)),r.run()}getCachedExpConfig(t){return this.cache.get(t.stringify())?.value()}},PK=class{constructor(t,r=1/0){this.producer=t;this.expirationMs=r}static{o(this,"Task")}async run(){return this.promise===void 0&&(this.promise=this.producer(),this.storeResult(this.promise).then(()=>{this.expirationMs<1/0&&this.promise!==void 0&&setTimeout(()=>this.promise=void 0,this.expirationMs)})),this.promise}async storeResult(t){try{this.result=await t}finally{this.result===void 0&&(this.promise=void 0)}}value(){return this.result}};function Unt(e){return"uri"in e}o(Unt,"isCompletionsFiltersInfo");var er=class e{constructor(t){this.ctx=t;this.staticFilters={};this.dynamicFilters={};this.dynamicFilterGroups=[];this.upcomingDynamicFilters={};this.assignments=new DK(this.ctx)}static{o(this,"Features")}static{this.upcomingDynamicFilterCheckDelayMs=20}static{this.upcomingTimeBucketMinutes=5+Math.floor(Math.random()*11)}registerStaticFilters(t){Object.assign(this.staticFilters,t)}registerDynamicFilter(t,r){this.dynamicFilters[t]=r}registerDynamicFilterGroup(t){this.dynamicFilterGroups.push(t)}getDynamicFilterValues(){let t={};for(let r of this.dynamicFilterGroups)Object.assign(t,r());for(let[r,n]of Object.entries(this.dynamicFilters))t[r]=n();return t}registerUpcomingDynamicFilter(t,r){this.upcomingDynamicFilters[t]=r}async updateExPValuesAndAssignments(t,r=rn.createAndMarkAsIssued()){if(r instanceof Jg)throw new Error("updateExPValuesAndAssignments should not be called with TelemetryWithExp");let n=t&&Unt(t)?e5(this.ctx,t.uri):void 0,i=t1(n)??"",s=v5e(n)??"",a=t?.languageId??"",l=Z2(this.ctx).modelId,c=await x5e(this.ctx),u=await F7(this.ctx,"ft"),f=await F7(this.ctx,"ol"),m=await F7(this.ctx,"cml"),h=await F7(this.ctx,"tid"),p={"X-Copilot-Repository":i,"X-Copilot-FileType":a,"X-Copilot-UserKind":c,"X-Copilot-Dogfood":s,"X-Copilot-Engine":l,"X-Copilot-CustomModel":u,"X-Copilot-Orgs":f,"X-Copilot-CustomModelNames":m,"X-Copilot-CopilotTrackingId":h},A=this.getGranularityDirectory(),E=this.makeFilterSettings(p),x=A.extendFilters(E),b=await this.getExpConfig(x.newFilterSettings);A.update(E,+(b.variables.copilotbycallbuckets??NaN),+(b.variables.copilottimeperiodsizeinh??NaN));let v=A.extendFilters(E),S=v.newFilterSettings,k=await this.getExpConfig(S),P=new Promise(N=>setTimeout(N,e.upcomingDynamicFilterCheckDelayMs));for(let N of v.otherFilterSettingsToPrefetch)P=P.then(async()=>{await new Promise(W=>setTimeout(W,e.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(N)});return this.prepareForUpcomingFilters(S),new Jg(r.properties,r.measurements,r.issuedTime,{filters:S,exp:k})}getGranularityDirectory(){if(!this.granularityDirectory){let t=this.ctx.get(ds).machineId;this.granularityDirectory=new tP(t,this.ctx.get(Qh))}return this.granularityDirectory}makeFilterSettings(t){return new Q3({...this.staticFilters,...this.getDynamicFilterValues(),...t})}async getExpConfig(t){try{return this.assignments.fetchExpConfig(t)}catch(r){return Lf.createFallbackConfig(this.ctx,`Error fetching ExP config: ${String(r)}`)}}async prepareForUpcomingFilters(t){if(!(new Date().getMinutes()<60-e.upcomingTimeBucketMinutes))for(let[r,n]of Object.entries(this.upcomingDynamicFilters))await new Promise(i=>setTimeout(i,e.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(t.withChange(r,n()))}stringify(){let t=this.assignments.getCachedExpConfig(new Q3({}));return JSON.stringify(t?.variables??{})}async getFallbackExpAndFilters(){let t=this.makeFilterSettings({}),r=await this.getExpConfig(t);return{filters:t,exp:r}}disableLogProb(t){return t.filtersAndExp.exp.variables.copilotdisablelogprob??!0}overrideBlockMode(t){return t.filtersAndExp.exp.variables.copilotoverrideblockmode||void 0}overrideNumGhostCompletions(t){return t.filtersAndExp.exp.variables.copilotoverridednumghostcompletions}dropCompletionReasons(t){let r=t.filtersAndExp.exp.variables.copilotdropcompletionreasons;if(r)return r.split(",")}showModelTeaserFeature(t){return t.filtersAndExp.exp.variables.showmodelteaser??!1}customEngine(t){return t.filtersAndExp.exp.variables.copilotcustomengine??""}customEngineTargetEngine(t){return t.filtersAndExp.exp.variables.copilotcustomenginetargetengine}suffixPercent(t){return t.filtersAndExp.exp.variables.CopilotSuffixPercent??tN}suffixMatchThreshold(t){return t.filtersAndExp.exp.variables.copilotsuffixmatchthreshold??V7}cppHeaders(t){return t.filtersAndExp.exp.variables.copilotcppheaders??!1}relatedFilesVSCodeCSharp(t){return t.filtersAndExp.exp.variables.copilotrelatedfilesvscodecsharp??!1}relatedFilesVSCodeTypeScript(t){return t.filtersAndExp.exp.variables.copilotrelatedfilesvscodetypescript??!1}cppIncludeTraits(t){let r=t.filtersAndExp.exp.variables.copilotcppIncludeTraits;if(r)return r.split(",")}cppMsvcCompilerArgumentFilter(t){return t.filtersAndExp.exp.variables.copilotcppMsvcCompilerArgumentFilter}cppClangCompilerArgumentFilter(t){return t.filtersAndExp.exp.variables.copilotcppClangCompilerArgumentFilter}cppGccCompilerArgumentFilter(t){return t.filtersAndExp.exp.variables.copilotcppGccCompilerArgumentFilter}cppCompilerArgumentDirectAskMap(t){return t.filtersAndExp.exp.variables.copilotcppCompilerArgumentDirectAskMap}relatedFilesVSCode(t){return t.filtersAndExp.exp.variables.copilotrelatedfilesvscode??!1}excludeOpenTabFilesCSharp(t){return t.filtersAndExp.exp.variables.copilotexcludeopentabfilescsharp??!1}excludeOpenTabFilesCpp(t){return t.filtersAndExp.exp.variables.copilotexcludeopentabfilescpp??!1}excludeOpenTabFilesTypeScript(t){return t.filtersAndExp.exp.variables.copilotexcludeopentabfilestypescript??!1}fallbackToOpenTabFilesWithNoRelatedFiles(t){return t.filtersAndExp.exp.variables.copilotfallbacktoopentabfiles??!1}contextProviders(t){let r=t.filtersAndExp.exp.variables.copilotcontextproviders??"";return r?r.split(",").map(n=>n.trim()):[]}includeNeighboringFiles(t){return t.filtersAndExp.exp.variables.copilotincludeneighboringfiles??!1}maxPromptCompletionTokens(t){return t.filtersAndExp.exp.variables.maxpromptcompletionTokens??vC+H7}promptOrderListPreset(t){let r=t.filtersAndExp.exp.variables.copilotpromptorderlistpreset;return"default"}promptPriorityPreset(t){switch(t.filtersAndExp.exp.variables.copilotpromptprioritypreset){case"office-exp":return"office-exp";default:return"default"}}promptComponentsEnabled(t){return t.filtersAndExp.exp.variables.copilotpromptcomponents??!1}ideChatMaxRequestTokens(t){return t.filtersAndExp.exp.variables.idechatmaxrequesttokens??-1}ideChatExpModelIds(t){return t.filtersAndExp.exp.variables.idechatexpmodelids??""}ideChatEnableProjectMetadata(t){return t.filtersAndExp.exp.variables.idechatenableprojectmetadata??!1}ideChatEnableProjectContext(t){return t.filtersAndExp.exp.variables.idechatenableprojectcontext??!1}ideEnableCopilotEditsAgent(t){return t.filtersAndExp.exp.variables.ideenablecopiloteditsagent??!1}ideChatProjectContextFileCountThreshold(t){return t.filtersAndExp.exp.variables.idechatprojectcontextfilecountthreshold??0}disableDebounce(t){return t.filtersAndExp.exp.variables.copilotdisabledebounce??!1}recentEditsInPrompt(t){return t.filtersAndExp.exp.variables.copilotrecenteditsinprompt??!1}recentEditsEditCount(t){return t.filtersAndExp.exp.variables.copilotrecenteditseditcount??5}recentEditsContextLines(t){return t.filtersAndExp.exp.variables.copilotrecenteditscontextlines??3}recentEditsMaxLinesBetweenEdits(t){return t.filtersAndExp.exp.variables.copilotrecenteditsmaxlinesbetweenedits??100}debounceThreshold(t){return t.filtersAndExp.exp.variables.copilotdebouncethreshold}triggerCompletionAfterAccept(t){return t.filtersAndExp.exp.variables.copilottriggercompletionafteraccept}enableAsyncCompletions(t){return t.filtersAndExp.exp.variables.copilotasynccompletions??!1}enableSpeculativeRequests(t){return t.filtersAndExp.exp.variables.copilotspeculativerequests??!1}cppCodeSnippetsFeatures(t){return t.filtersAndExp.exp.variables.copilotcppcodesnippetsFeatureNames}cppCodeSnippetsTimeBudgetFactor(t){return t.filtersAndExp.exp.variables.copilotcppcodesnippetsTimeBudgetFactor}cppCodeSnippetsMaxDistanceToCaret(t){return t.filtersAndExp.exp.variables.copilotcppcodesnippetsMaxDistanceToCaret}disableContextualFilter(t){return t.filtersAndExp.exp.variables.copilotdisablecontextualfilter??!1}vscodeDebounceThreshold(t){return t.filtersAndExp.exp.variables.copilotvscodedebouncethreshold}enableElectronFetcher(t){return t.filtersAndExp.exp.variables.copilotelectronfetcher??!1}asyncCompletionsTimeout(t){return t.filtersAndExp.exp.variables.copilotasynccompletionstimeout??100}enablePromptContextProxyField(t){return t.filtersAndExp.exp.variables.copilotenablepromptcontextproxyfield??!1}enableProgressiveReveal(t){return t.filtersAndExp.exp.variables.copilotprogressivereveal??!1}};var wye=ft(require("node:events"));var NK={};Fh(NK,{activationEvents:()=>sit,badges:()=>oit,bugs:()=>Jnt,build:()=>Vnt,buildType:()=>jnt,categories:()=>nit,contributes:()=>FK,default:()=>mit,dependencies:()=>fit,description:()=>Wnt,devDependencies:()=>uit,displayName:()=>Gnt,enabledApiProposals:()=>lit,engines:()=>rit,extensionPack:()=>tit,homepage:()=>Ynt,icon:()=>Znt,keywords:()=>iit,license:()=>Knt,main:()=>ait,name:()=>qnt,overrides:()=>dit,preview:()=>znt,pricing:()=>eit,publisher:()=>$nt,qna:()=>Xnt,scripts:()=>cit,version:()=>Hnt});var qnt="copilot",Gnt="GitHub Copilot",Wnt="Your AI pair programmer",Hnt="1.295.0",Vnt="1480",jnt="prod",$nt="GitHub",znt=!1,Ynt="https://github.com/features/copilot?editor=vscode",Knt="https://docs.github.com/en/site-policy/github-terms/github-terms-for-additional-products-and-features",Jnt={url:"https://github.com/microsoft/vscode-copilot-release/issues"},Xnt="https://github.com/github-community/community/discussions/categories/copilot",Znt="assets/Copilot-App-Icon.png",eit="Trial",tit=["GitHub.copilot-chat"],rit={vscode:"^1.98.0",node:">=20.0.0",npm:">=9.0.0"},nit=["AI","Chat","Programming Languages","Machine Learning"],iit=["ai","openai","codex","pilot","snippets","documentation","autocomplete","intellisense","refactor","javascript","python","typescript","php","go","golang","ruby","c++","c#","java","kotlin","co-pilot"],oit=[{url:"https://img.shields.io/badge/GitHub%20Copilot-Subscription%20Required-orange",href:"https://github.com/github-copilot/signup?editor=vscode",description:"Sign up for GitHub Copilot"},{url:"https://img.shields.io/github/stars/github/copilot-docs?style=social",href:"https://github.com/github/copilot-docs",description:"Star Copilot on GitHub"},{url:"https://img.shields.io/youtube/channel/views/UC7c3Kb6jYCRj4JOHHZTxKsQ?style=social",href:"https://www.youtube.com/@GitHub/search?query=copilot",description:"Check out GitHub on Youtube"},{url:"https://img.shields.io/twitter/follow/github?style=social",href:"https://twitter.com/github",description:"Follow GitHub on Twitter"}],sit=["onStartupFinished"],ait="./dist/extension",lit=["inlineCompletionsAdditions"],FK={commands:[{command:"github.copilot.toggleStatusMenu",title:"Open Status Menu",category:"GitHub Copilot"},{command:"github.copilot.signIn",title:"Sign In",category:"GitHub Copilot",enablement:"!github.copilot.activated"},{command:"github.copilot.acceptCursorPanelSolution",title:"Accept Panel Suggestion at the Cursor",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.previousPanelSolution",title:"Navigate to the Previous Panel Suggestion",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.nextPanelSolution",title:"Navigate to the Next Panel Suggestion",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.generate",title:"Open Completions Panel",enablement:"github.copilot.activated",category:"GitHub Copilot"},{command:"github.copilot.completions.disable",title:"Disable Completions",enablement:"github.copilot.activated && config.editor.inlineSuggest.enabled && github.copilot.completions.enabled",category:"GitHub Copilot"},{command:"github.copilot.completions.enable",title:"Enable Completions",enablement:"github.copilot.activated && !(config.editor.inlineSuggest.enabled && github.copilot.completions.enabled)",category:"GitHub Copilot"},{command:"github.copilot.completions.toggle",title:"Toggle (Enable/Disable) Completions",enablement:"github.copilot.activated",category:"GitHub Copilot"},{command:"github.copilot.sendFeedback",title:"Send Feedback",category:"GitHub Copilot"},{command:"github.copilot.collectDiagnostics",title:"Collect Diagnostics",category:"GitHub Copilot"},{command:"github.copilot.openLogs",title:"Open Logs",category:"GitHub Copilot"},{command:"github.copilot.openModelPicker",title:"Change Completions Model",category:"GitHub Copilot"}],keybindings:[{command:"github.copilot.generate",key:"ctrl+enter",mac:"ctrl+enter",when:"editorTextFocus && !commentEditorFocused"},{command:"github.copilot.acceptCursorPanelSolution",key:"ctrl+/",mac:"ctrl+/",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.previousPanelSolution",key:"alt+[",mac:"alt+[",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.nextPanelSolution",key:"alt+]",mac:"alt+]",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"editor.action.inlineSuggest.trigger",key:"alt+\\",when:"editorTextFocus && !editorHasSelection && !inlineSuggestionsVisible"}],menus:{"editor/inlineCompletions/actions":[{command:"github.copilot.generate"}],commandPalette:[{command:"github.copilot.openModelPicker"}]},configuration:[{title:"GitHub Copilot",properties:{"github.copilot.selectedCompletionModel":{type:"string",default:"",markdownDescription:'The currently selected completion model ID. To select from a list of available models, use the __"Change Completion Model"__ command or open the model picker from the Copilot menu. The value must be a valid model ID. An empty value indicates that the default model will be used.'},"github.copilot.advanced":{type:"object",title:"Advanced Settings",properties:{authProvider:{type:"string",enum:["github","github-enterprise"],enumDescriptions:["GitHub.com","GitHub Enterprise"],default:"github",description:"The GitHub identity to use for Copilot"},authPermissions:{type:"string",enum:["default","minimal"],markdownEnumDescriptions:["Default (recommended) - The default permissions enable the best that Copilot has to offer including, but not limited to, faster repo indexing and the power of the `@github` agent.","Minimal - The minimal permissions required for Copilot functionality."],default:"default",markdownDescription:"Controls what kind of permissions are asked for when signing in to Copilot. The options are\n* `default` - (strongly recommended) The default permissions enable the best that Copilot has to offer including, but not limited to, faster repo indexing and the power of the `@github` agent.\n* `minimal` - The minimal permissions are the least that Copilot needs to function. Some features may behave slower or not at all."},useLanguageServer:{type:"boolean",default:!1,description:"Experimental: Use language server"},"debug.overrideEngine":{type:"string",default:"",description:"Override engine name"},"debug.overrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy full URL"},"debug.testOverrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy URL when running tests"},"debug.overrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API full URL"},"debug.testOverrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API URL when running tests"},"debug.filterLogCategories":{type:"array",default:[],deprecationMessage:"Set overrideLogLevels.* to ERROR to filter out unwanted categories.",description:"Show only log categories listed in this setting. If an array is empty, show all loggers"}}},"github.copilot.enable":{type:"object",scope:"application",default:{"*":!0,plaintext:!1,markdown:!1,scminput:!1},additionalProperties:{type:"boolean"},markdownDescription:"Enable or disable Copilot completions for specified [languages](https://code.visualstudio.com/docs/languages/identifiers)"},"github.copilot.inlineSuggest.enable":{type:"boolean",default:!0,deprecationMessage:"This setting has no effect. Please use github.copilot.editor.enableAutoCompletions instead.",description:"Show inline suggestions"},"github.copilot.editor.enableAutoCompletions":{type:"boolean",scope:"language-overridable",default:!0,description:"Automatically show inline completions"}}}],configurationDefaults:{"editor.tokenColorCustomizations":{"[*Light*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#000"}}]},"[*Dark*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#fff"}}]}}},languages:[{id:"code-referencing"}],grammars:[{language:"code-referencing",scopeName:"text.ref",path:"./syntaxes/ref.tmGrammar.json"}],iconFonts:[{id:"copilot-font",src:[{path:"assets/copilot.woff",format:"woff"}]}]},cit={build:"tsx esbuild.ts",clean:"./script/build/clean.sh",compress:"tsx ./script/compressTokenizer.ts","forbid-sources-content:extension":"node script/forbid-sources-content.js --extension",generate_languages:"tsx script/generateLanguages.ts && prettier --write lib/src/language/generatedLanguages.ts",get_token:"tsx script/getToken.ts",lint:'run-p --aggregate-output "lint:*"',"lint:deps":"depcruise -c .dependency-cruiser.js .","lint:eslint":"eslint -f visualstudio --quiet --cache .","lint:prettier":"prettier --check . 2>&1","lint:types":"tsc --noEmit && tsc --noEmit -p extension/src/copilotPanel/webview",prebuild:"npm install",pretest:"npm run build","pretest:headless":"npm run build","pretest:extension":"npm run build","pretest:lsp-client":"npm run build","pretest:lib-e2e":"npm run build",prewatch:"npm run build","prewatch:esbuild":"npm run build",start:"npm run watch",test:'npm-run-all "test:extension --ignore-scripts" "test:headless --ignore-scripts" lint',"test:headless":'npm-run-all test:lib test:agent "test:lib-e2e --ignore-scripts" test:prompt "test:lsp-client --ignore-scripts" lint',"test:agent":'mocha "agent/src/**/*.test.{ts,tsx}"',"test:extension":"tsx extension/test/runTest.ts","test:lib":'mocha "lib/src/**/*.test.{ts,tsx}"',"test:lib-e2e":'mocha "lib/e2e/src/**/*.test.{ts,tsx}" --exclude "lib/e2e/src/prompt/**/*.test.ts"',"test:lib-e2e-no-ci":'mocha "lib/e2e/no-ci/**/*.test.{ts,tsx}"',"test:lib-prompt-e2e":'mocha "lib/e2e/src/prompt/prompt.test.ts"',"test:lib-prompt-e2e-perf":"INCLUDE_PERFORMANCE=true npm run test:lib-prompt-e2e","test:lsp-client":'mocha "lsp-client/test/*.test.{ts,tsx}"',"test:prompt":"npm -C prompt run test","vscode-dts":"vscode-dts dev && mv vscode.proposed.*.ts extension/src","vscode:prepublish":'run-s "build --ignore-scripts" forbid-sources-content:extension',"vscode:uninstall":"node dist/extensionUninstalled.js",vsix:"vsce package --allow-missing-repository",watch:'run-p "watch:esbuild --ignore-scripts" "watch:types -- --preserveWatchOutput"',"watch:esbuild":"tsx esbuild.ts --watch","watch:types":"tsc --noEmit --watch"},uit={"@datadog/datadog-ci":"^3.2.0","@github/prettier-config":"0.0.6","@limegrass/eslint-plugin-import-alias":"^1.5.0","@types/benchmark":"^2.1.5","@types/crypto-js":"^4.2.2","@types/diff":"^7.0.2","@types/git-url-parse":"^9.0.3","@types/js-yaml":"^4.0.6","@types/kerberos":"^1.1.2","@types/mocha":"^10.0.10","@types/node":"~20.8.0","@types/semver":"^7.7.0","@types/sinon":"^17.0.4","@types/uuid":"^10.0.0","@types/vscode":"1.98.0","@types/yargs":"^17.0.24","@vscode/test-electron":"^2.3.8","@vscode/vsce":"^3.3.2","@yao-pkg/pkg":"^6.3.2",benchmark:"^2.1.4",boxen:"^8.0.1",chalk:"^5.4.1","dependency-cruiser":"^16.10.0",electron:"^28.1.4",esbuild:"^0.25.2","esbuild-plugin-copy":"^2.1.1","esbuild-plugin-summary":"^0.0.2",eslint:"^9.23.0","eslint-formatter-visualstudio":"^8.40.0","eslint-plugin-mocha":"^10.5.0",fantasticon:"^3.0.0",glob:"^11.0.1",globals:"^16.0.0","js-yaml":"^4.1.0",mocha:"^11.1.0","mocha-junit-reporter":"^2.2.1","mocha-multi-reporters":"^1.5.1","npm-run-all":"^4.1.5",prettier:"^3.5.3","prettier-plugin-organize-imports":"^4.1.0",proxy:"^2.1.1",sinon:"^20.0.0","ts-dedent":"^2.2.0","ts-node":"^10.9.1","tsconfig-paths":"^4.2.0",tsx:"^4.19.3",typescript:"^5.8.2","typescript-eslint":"^8.29.0","vscode-dts":"^0.3.3"},fit={"@adobe/helix-fetch":"github:devm33/helix-fetch#1088e599270f36632703f138d88c2100cbe468db","@github/memoize":"1.1.5","@microsoft/1ds-post-js":"^4.3.6","@microsoft/applicationinsights-web-basic":"^3.3.6","@microsoft/tiktokenizer":"^1.0.9","@sinclair/typebox":"^0.34.31","@types/vscode-webview":"^1.57.4","@vscode/codicons":"^0.0.36","@vscode/prompt-tsx":"0.3.0-alpha.21","@vscode/webview-ui-toolkit":"^1.3.1","await-lock":"^2.2.2","crypto-js":"^4.2.0",diff:"^7.0.0",dldr:"^0.0.10","get-stream":"^6.0.1","git-url-parse":"^16.0.0",kerberos:"^2.2.0","mac-ca":"^3.1.1",microjob:"^0.7.0",minimatch:"^9.0.3",open:"^10.1.0",semver:"^7.7.1",shiki:"~1.15.0","source-map-support":"^0.5.21",sqlite3:"^5.1.7",uuid:"^11.1.0","vscode-languageclient":"^9.0.0","vscode-languageserver":"^9.0.0","vscode-languageserver-protocol":"^3.17","vscode-languageserver-textdocument":"~1.0.11","vscode-uri":"^3.1.0","web-tree-sitter":"^0.20.8","windows-ca-certs":"^0.1.0",yargs:"^17.7.2"},dit={fsevents:"<0",bindings:"npm:bundled-bindings@^1.5.0"},mit={name:qnt,displayName:Gnt,description:Wnt,version:Hnt,build:Vnt,buildType:jnt,publisher:$nt,preview:znt,homepage:Ynt,license:Knt,bugs:Jnt,qna:Xnt,icon:Znt,pricing:eit,extensionPack:tit,engines:rit,categories:nit,keywords:iit,badges:oit,activationEvents:sit,main:ait,enabledApiProposals:lit,contributes:FK,scripts:cit,devDependencies:uit,dependencies:fit,overrides:dit};var qt={Enable:"enable",UserSelectedCompletionModel:"selectedCompletionModel",ShowEditorCompletions:"editor.showEditorCompletions",EnableAutoCompletions:"editor.enableAutoCompletions",DelayCompletions:"editor.delayCompletions",FilterCompletions:"editor.filterCompletions",FetchStrategy:"fetchStrategy",DebugOverrideCppHeaders:"advanced.debug.overrideCppHeaders",RelatedFilesVSCodeCSharp:"advanced.relatedFilesVSCodeCSharp",RelatedFilesVSCodeTypeScript:"advanced.relatedFilesVSCodeTypeScript",RelatedFilesVSCode:"advanced.relatedFilesVSCode",ExcludeOpenTabFilesCSharp:"advanced.excludeOpenTabFilesCSharp",ExcludeOpenTabFilesCpp:"advanced.excludeOpenTabFilesCpp",ExcludeOpenTabFilesTypeScript:"advanced.excludeOpenTabFilesTypeScript",FallbackToOpenTabFilesWithNoRelatedFiles:"advanced.fallbackToOpenTabFilesWithNoRelatedFiles",ContextProviders:"advanced.contextProviders",DebugOverrideLogLevels:"advanced.debug.overrideLogLevels",DebugFilterLogCategories:"advanced.debug.filterLogCategories",DebugSnippyOverrideUrl:"advanced.debug.codeRefOverrideUrl",DebugUseElectronFetcher:"advanced.debug.useElectronFetcher",DebugUseEditorFetcher:"advanced.debug.useEditorFetcher",UseSubsetMatching:"advanced.useSubsetMatching",EnablePromptComponents:"advanced.enablePromptComponents",ContextProviderTimeBudget:"advanced.contextProviderTimeBudget",DebugOverrideCapiUrl:"internal.capiUrl",DebugOverrideCapiUrlLegacy:"advanced.debug.overrideCapiUrl",DebugTestOverrideCapiUrl:"internal.capiTestUrl",DebugTestOverrideCapiUrlLegacy:"advanced.debug.testOverrideCapiUrl",DebugOverrideProxyUrl:"internal.completionsUrl",DebugOverrideProxyUrlLegacy:"advanced.debug.overrideProxyUrl",DebugTestOverrideProxyUrl:"internal.completionsTestUrl",DebugTestOverrideProxyUrlLegacy:"advanced.debug.testOverrideProxyUrl",DebugOverrideEngine:"internal.completionModel",DebugOverrideEngineLegacy:"advanced.debug.overrideEngine",UseAsyncCompletions:"internal.useAsyncCompletions",EnableSpeculativeRequests:"internal.enableSpeculativeRequests",AlwaysRequestMultiline:"internal.alwaysRequestMultiline",TrimCompletionsAggressively:"internal.trimCompletionsAggressively",VSCodeDebounceThreshold:"internal.vscodeDebounceThreshold",VSCodeRecentEditsInPrompt:"internal.vscodeRecentEditsInPrompt",VSCodeRecentEditsEditCount:"internal.vscodeRecentEditsEditCount",VSCodeRecentEditsContextLines:"internal.vscodeRecentEditsContextLines",VSCodeRecentEditsMaxLinesBetweenEdits:"internal.vscodeRecentEditsMaxLinesBetweenEdits"};function _ye(e){return["parsing","parsingandserver","moremultiline"].includes(e)}o(_ye,"shouldDoParsingTrimming");function Sye(e){return["server","parsingandserver"].includes(e)}o(Sye,"shouldDoServerTrimming");var xm=class{static{o(this,"BlockModeConfig")}},ab=class extends xm{static{o(this,"ConfigBlockModeConfig")}async forLanguage(t,r,n){let i=t.get(er).overrideBlockMode(n);if(i)return Iye(i,r);let s=t.get(er).enableProgressiveReveal(n);return ai(t,qt.AlwaysRequestMultiline)??s?Iye("moremultiline",r):r=="ruby"?"parsing":Iu(r)?"parsingandserver":"server"}};function hit(e){return["parsing","parsingandserver","moremultiline"].includes(e)}o(hit,"blockModeRequiresTreeSitter");function Iye(e,t){return hit(e)&&!Iu(t)?"server":e}o(Iye,"toApplicableBlockMode");var tp=class{static{o(this,"ConfigProvider")}},lb=class extends tp{static{o(this,"DefaultsOnlyConfigProvider")}getConfig(t){return git(t)}getOptionalConfig(t){return Ait(t)}dumpForTelemetry(){return{}}},IC=class extends tp{constructor(r,n){super();this.baseConfigProvider=r;this.overrides=n;this.emitters=new Map}static{o(this,"InMemoryConfigProvider")}getOptionalOverride(r){return this.overrides.get(r)}getConfig(r){return this.getOptionalOverride(r)??this.baseConfigProvider.getConfig(r)}getOptionalConfig(r){return this.getOptionalOverride(r)??this.baseConfigProvider.getOptionalConfig(r)}setConfig(r,n){n!==void 0?this.overrides.set(r,n):this.overrides.delete(r),this.emitters.get(r)?.emit("change",n)}onConfigChange(r,n){this.emitters.has(r)||this.emitters.set(r,new wye.default),this.emitters.get(r)?.on("change",n)}dumpForTelemetry(){let r=this.baseConfigProvider.dumpForTelemetry();for(let n of[qt.ShowEditorCompletions,qt.EnableAutoCompletions,qt.DelayCompletions,qt.FilterCompletions]){let i=this.overrides.get(n);i!==void 0&&(r[n]=JSON.stringify(i))}return r}};function pit(e){return e?.type==="object"&&"properties"in e}o(pit,"isContributesObject");function Bye(e,t){let r=e,n=[];for(let i of t.split(".")){let s=[...n,i].join(".");r&&typeof r=="object"&&s in r?(r=r[s],n.length=0):n.push(i)}if(!(r===void 0||n.length>0))return r}o(Bye,"getConfigKeyRecursively");function git(e){if(sb.has(e))return sb.get(e);throw new Error(`Missing config default value: ${Q9}.${e}`)}o(git,"getConfigDefaultForKey");function Ait(e){return sb.get(e)}o(Ait,"getOptionalConfigDefaultForKey");var sb=new Map([[qt.DebugOverrideCppHeaders,!1],[qt.RelatedFilesVSCodeCSharp,!1],[qt.RelatedFilesVSCodeTypeScript,!1],[qt.RelatedFilesVSCode,!1],[qt.ExcludeOpenTabFilesCSharp,!1],[qt.ExcludeOpenTabFilesCpp,!1],[qt.ExcludeOpenTabFilesTypeScript,!1],[qt.FallbackToOpenTabFilesWithNoRelatedFiles,!1],[qt.ContextProviders,[]],[qt.DebugUseEditorFetcher,null],[qt.DebugUseElectronFetcher,null],[qt.DebugOverrideLogLevels,{}],[qt.DebugSnippyOverrideUrl,""],[qt.FetchStrategy,"auto"],[qt.UseSubsetMatching,null],[qt.EnablePromptComponents,!1],[qt.ContextProviderTimeBudget,150],[qt.DebugOverrideCapiUrl,""],[qt.DebugTestOverrideCapiUrl,""],[qt.DebugOverrideProxyUrl,""],[qt.DebugTestOverrideProxyUrl,""],[qt.DebugOverrideEngine,""],[qt.UseAsyncCompletions,void 0],[qt.EnableSpeculativeRequests,void 0],[qt.AlwaysRequestMultiline,void 0],[qt.TrimCompletionsAggressively,void 0],[qt.VSCodeDebounceThreshold,void 0],[qt.VSCodeRecentEditsInPrompt,void 0],[qt.VSCodeRecentEditsEditCount,void 0],[qt.VSCodeRecentEditsContextLines,void 0],[qt.VSCodeRecentEditsMaxLinesBetweenEdits,void 0],[qt.ShowEditorCompletions,void 0],[qt.DelayCompletions,void 0],[qt.FilterCompletions,void 0]]);for(let e of Object.values(qt)){let t=FK.configuration[0],r=[],n=`${Q9}.${e}`.split(".");for(;n.length>0;){r.push(n.shift());let i=t.properties[r.join(".")];if(pit(i))r.length=0,t=i;else if(n.length==0&&i?.default!==void 0){if(sb.has(e))throw new Error(`Duplicate config default value ${Q9}.${e}`);sb.set(e,i.default)}}if(!sb.has(e))throw new Error(`Missing config default value ${Q9}.${e}`)}function ai(e,t){return e.get(tp).getConfig(t)}o(ai,"getConfig");function e2e(e){return e.get(tp).dumpForTelemetry()}o(e2e,"dumpForTelemetry");var io=class{constructor(){this.packageJson=NK}static{o(this,"BuildInfo")}isPreRelease(){return this.getBuildType()==="nightly"}isProduction(){return this.getBuildType()!=="dev"}getBuildType(){return this.packageJson.buildType}getVersion(){return this.packageJson.version}getDisplayVersion(){return this.getBuildType()==="dev"?`${this.getVersion()}-dev`:this.getVersion()}getBuild(){return this.packageJson.build}getName(){return this.packageJson.name}};function t5e(e){return e.get(io).isPreRelease()}o(t5e,"isPreRelease");function OD(e){return e.get(io).isProduction()}o(OD,"isProduction");function Qf(e){return e.get(io).getBuildType()}o(Qf,"getBuildType");function t2e(e){return e.get(io).getBuild()}o(t2e,"getBuild");function dC(e){return e.get(io).getVersion()}o(dC,"getVersion");var ds=class{constructor(t,r,n="none",i="desktop"){this.sessionId=t;this.machineId=r;this.remoteName=n;this.uiKind=i}static{o(this,"EditorSession")}};function $h({name:e,version:t}){return`${e}/${t}`}o($h,"formatNameAndVersion");var an=class{static{o(this,"EditorAndPluginInfo")}getCopilotIntegrationId(){}},yit="2024-12-15";function n0(e){let t=e.get(an);return{"X-GitHub-Api-Version":yit,"Editor-Version":$h(t.getEditorInfo()),"Editor-Plugin-Version":$h(t.getEditorPluginInfo()),"Copilot-Language-Server-Version":dC(e)}}o(n0,"editorVersionHeaders");var Tye="Iv1.b507a08c87ecfe98",Ms=class{static{o(this,"GitHubAppInfo")}findAppIdToAuthenticate(){return this.githubAppId??Tye}fallbackAppId(){return Tye}};d();var $7=ft(require("util"));function kye(e){let t=new console.Console(process.stderr,process.stderr);function r(n,...i){if(Qf(e)==="dev")return e.get(va).logIt(e,n,"console",...i)}return o(r,"logIt"),t.debug=(...n)=>r(4,...n),t.info=(...n)=>r(3,...n),t.warn=(...n)=>r(2,...n),t.error=(...n)=>r(1,...n),t.assert=(n,...i)=>{n||(i.length===0?r(2,"Assertion failed"):r(2,"Assertion failed:",$7.format(...i)))},t.dir=(n,i)=>r(4,$7.inspect(n,i)),t.log=t.debug.bind(t),t.trace=(...n)=>{let i=new Error($7.format(...n));i.name="Trace",t.log(i)},t}o(kye,"createConsole");var nOe=ft(require("fs/promises")),iOe=ft(require("os")),Bd=ft(i1());d();d();var eF=require("assert");d();d();var Rot={right:Lot,center:Qot},Dot=0,$N=1,Pot=2,zN=3,aJ=class{static{o(this,"UI")}constructor(t){var r;this.width=t.width,this.wrap=(r=t.wrap)!==null&&r!==void 0?r:!0,this.rows=[]}span(...t){let r=this.div(...t);r.span=!0}resetOutput(){this.rows=[]}div(...t){if(t.length===0&&this.div(""),this.wrap&&this.shouldApplyLayoutDSL(...t)&&typeof t[0]=="string")return this.applyLayoutDSL(t[0]);let r=t.map(n=>typeof n=="string"?this.colFromString(n):n);return this.rows.push(r),r}shouldApplyLayoutDSL(...t){return t.length===1&&typeof t[0]=="string"&&/[\t\n]/.test(t[0])}applyLayoutDSL(t){let r=t.split(`
`).map(i=>i.split("	")),n=0;return r.forEach(i=>{i.length>1&&Tu.stringWidth(i[0])>n&&(n=Math.min(Math.floor(this.width*.5),Tu.stringWidth(i[0])))}),r.forEach(i=>{this.div(...i.map((s,a)=>({text:s.trim(),padding:this.measurePadding(s),width:a===0&&i.length>1?n:void 0})))}),this.rows[this.rows.length-1]}colFromString(t){return{text:t,padding:this.measurePadding(t)}}measurePadding(t){let r=Tu.stripAnsi(t);return[0,r.match(/\s*$/)[0].length,0,r.match(/^\s*/)[0].length]}toString(){let t=[];return this.rows.forEach(r=>{this.rowToString(r,t)}),t.filter(r=>!r.hidden).map(r=>r.text).join(`
`)}rowToString(t,r){return this.rasterize(t).forEach((n,i)=>{let s="";n.forEach((a,l)=>{let{width:c}=t[l],u=this.negatePadding(t[l]),f=a;if(u>Tu.stringWidth(a)&&(f+=" ".repeat(u-Tu.stringWidth(a))),t[l].align&&t[l].align!=="left"&&this.wrap){let h=Rot[t[l].align];f=h(f,u),Tu.stringWidth(f)<u&&(f+=" ".repeat((c||0)-Tu.stringWidth(f)-1))}let m=t[l].padding||[0,0,0,0];m[zN]&&(s+=" ".repeat(m[zN])),s+=I3e(t[l],f,"| "),s+=f,s+=I3e(t[l],f," |"),m[$N]&&(s+=" ".repeat(m[$N])),i===0&&r.length>0&&(s=this.renderInline(s,r[r.length-1]))}),r.push({text:s.replace(/ +$/,""),span:t.span})}),r}renderInline(t,r){let n=t.match(/^ */),i=n?n[0].length:0,s=r.text,a=Tu.stringWidth(s.trimRight());return r.span?this.wrap?i<a?t:(r.hidden=!0,s.trimRight()+" ".repeat(i-a)+t.trimLeft()):(r.hidden=!0,s+t):t}rasterize(t){let r=[],n=this.columnWidths(t),i;return t.forEach((s,a)=>{s.width=n[a],this.wrap?i=Tu.wrap(s.text,this.negatePadding(s),{hard:!0}).split(`
`):i=s.text.split(`
`),s.border&&(i.unshift("."+"-".repeat(this.negatePadding(s)+2)+"."),i.push("'"+"-".repeat(this.negatePadding(s)+2)+"'")),s.padding&&(i.unshift(...new Array(s.padding[Dot]||0).fill("")),i.push(...new Array(s.padding[Pot]||0).fill(""))),i.forEach((l,c)=>{r[c]||r.push([]);let u=r[c];for(let f=0;f<a;f++)u[f]===void 0&&u.push("");u.push(l)})}),r}negatePadding(t){let r=t.width||0;return t.padding&&(r-=(t.padding[zN]||0)+(t.padding[$N]||0)),t.border&&(r-=4),r}columnWidths(t){if(!this.wrap)return t.map(a=>a.width||Tu.stringWidth(a.text));let r=t.length,n=this.width,i=t.map(a=>{if(a.width)return r--,n-=a.width,a.width}),s=r?Math.floor(n/r):0;return i.map((a,l)=>a===void 0?Math.max(s,Not(t[l])):a)}};function I3e(e,t,r){return e.border?/[.']-+[.']/.test(t)?"":t.trim().length!==0?r:"  ":""}o(I3e,"addBorder");function Not(e){let t=e.padding||[],r=1+(t[zN]||0)+(t[$N]||0);return e.border?r+4:r}o(Not,"_minWidth");function Fot(){return typeof process=="object"&&process.stdout&&process.stdout.columns?process.stdout.columns:80}o(Fot,"getWindowWidth");function Lot(e,t){e=e.trim();let r=Tu.stringWidth(e);return r<t?" ".repeat(t-r)+e:e}o(Lot,"alignRight");function Qot(e,t){e=e.trim();let r=Tu.stringWidth(e);return r>=t?e:" ".repeat(t-r>>1)+e}o(Qot,"alignCenter");var Tu;function T3e(e,t){return Tu=t,new aJ({width:e?.width||Fot(),wrap:e?.wrap})}o(T3e,"cliui");d();var w3e=new RegExp("\x1B(?:\\[(?:\\d+[ABCDEFGJKSTm]|\\d+;\\d+[Hfm]|\\d+;\\d+;\\d+m|6n|s|u|\\?25[lh])|\\w)","g");function lJ(e){return e.replace(w3e,"")}o(lJ,"stripAnsi");function _3e(e,t){let[r,n]=e.match(w3e)||["",""];e=lJ(e);let i="";for(let s=0;s<e.length;s++)s!==0&&s%t===0&&(i+=`
`),i+=e.charAt(s);return r&&n&&(i=`${r}${i}${n}`),i}o(_3e,"wrap");function cJ(e){return T3e(e,{stringWidth:o(t=>[...t].length,"stringWidth"),stripAnsi:lJ,wrap:_3e})}o(cJ,"ui");d();var db=require("path"),YN=require("fs");function uJ(e,t){let r=(0,db.resolve)(".",e),n;for((0,YN.statSync)(r).isDirectory()||(r=(0,db.dirname)(r));;){if(n=t(r,(0,YN.readdirSync)(r)),n)return(0,db.resolve)(r,n);if(r=(0,db.dirname)(n=r),n===r)break}}o(uJ,"default");var W3e=require("util"),H3e=require("fs"),V3e=require("url");d();var D3e=require("util"),ZN=require("path");d();function SC(e){if(e!==e.toLowerCase()&&e!==e.toUpperCase()||(e=e.toLowerCase()),e.indexOf("-")===-1&&e.indexOf("_")===-1)return e;{let r="",n=!1,i=e.match(/^-+/);for(let s=i?i[0].length:0;s<e.length;s++){let a=e.charAt(s);n&&(n=!1,a=a.toUpperCase()),s!==0&&(a==="-"||a==="_")?n=!0:a!=="-"&&a!=="_"&&(r+=a)}return r}}o(SC,"camelCase");function KN(e,t){let r=e.toLowerCase();t=t||"-";let n="";for(let i=0;i<e.length;i++){let s=r.charAt(i),a=e.charAt(i);s!==a&&i>0?n+=`${t}${r.charAt(i)}`:n+=a}return n}o(KN,"decamelize");function JN(e){return e==null?!1:typeof e=="number"||/^0x[0-9a-f]+$/i.test(e)?!0:/^0[^.]/.test(e)?!1:/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e)}o(JN,"looksLikeNumber");d();d();function S3e(e){if(Array.isArray(e))return e.map(a=>typeof a!="string"?a+"":a);e=e.trim();let t=0,r=null,n=null,i=null,s=[];for(let a=0;a<e.length;a++){if(r=n,n=e.charAt(a),n===" "&&!i){r!==" "&&t++;continue}n===i?i=null:(n==="'"||n==='"')&&!i&&(i=n),s[t]||(s[t]=""),s[t]+=n}return s}o(S3e,"tokenizeArgString");d();var jf;(function(e){e.BOOLEAN="boolean",e.STRING="string",e.NUMBER="number",e.ARRAY="array"})(jf||(jf={}));var o1,XN=class{static{o(this,"YargsParser")}constructor(t){o1=t}parse(t,r){let n=Object.assign({alias:void 0,array:void 0,boolean:void 0,config:void 0,configObjects:void 0,configuration:void 0,coerce:void 0,count:void 0,default:void 0,envPrefix:void 0,narg:void 0,normalize:void 0,string:void 0,number:void 0,__:void 0,key:void 0},r),i=S3e(t),s=typeof t=="string",a=Mot(Object.assign(Object.create(null),n.alias)),l=Object.assign({"boolean-negation":!0,"camel-case-expansion":!0,"combine-arrays":!1,"dot-notation":!0,"duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"greedy-arrays":!0,"halt-at-non-option":!1,"nargs-eats-options":!1,"negation-prefix":"no-","parse-numbers":!0,"parse-positional-numbers":!0,"populate--":!1,"set-placeholder-key":!1,"short-option-groups":!0,"strip-aliased":!1,"strip-dashed":!1,"unknown-options-as-args":!1},n.configuration),c=Object.assign(Object.create(null),n.default),u=n.configObjects||[],f=n.envPrefix,m=l["populate--"],h=m?"--":"_",p=Object.create(null),A=Object.create(null),E=n.__||o1.format,x={aliases:Object.create(null),arrays:Object.create(null),bools:Object.create(null),strings:Object.create(null),numbers:Object.create(null),counts:Object.create(null),normalize:Object.create(null),configs:Object.create(null),nargs:Object.create(null),coercions:Object.create(null),keys:[]},b=/^-([0-9]+(\.[0-9]+)?|\.[0-9]+)$/,v=new RegExp("^--"+l["negation-prefix"]+"(.+)");[].concat(n.array||[]).filter(Boolean).forEach(function(z){let ee=typeof z=="object"?z.key:z,Fe=Object.keys(z).map(function(_e){return{boolean:"bools",string:"strings",number:"numbers"}[_e]}).filter(Boolean).pop();Fe&&(x[Fe][ee]=!0),x.arrays[ee]=!0,x.keys.push(ee)}),[].concat(n.boolean||[]).filter(Boolean).forEach(function(z){x.bools[z]=!0,x.keys.push(z)}),[].concat(n.string||[]).filter(Boolean).forEach(function(z){x.strings[z]=!0,x.keys.push(z)}),[].concat(n.number||[]).filter(Boolean).forEach(function(z){x.numbers[z]=!0,x.keys.push(z)}),[].concat(n.count||[]).filter(Boolean).forEach(function(z){x.counts[z]=!0,x.keys.push(z)}),[].concat(n.normalize||[]).filter(Boolean).forEach(function(z){x.normalize[z]=!0,x.keys.push(z)}),typeof n.narg=="object"&&Object.entries(n.narg).forEach(([z,ee])=>{typeof ee=="number"&&(x.nargs[z]=ee,x.keys.push(z))}),typeof n.coerce=="object"&&Object.entries(n.coerce).forEach(([z,ee])=>{typeof ee=="function"&&(x.coercions[z]=ee,x.keys.push(z))}),typeof n.config<"u"&&(Array.isArray(n.config)||typeof n.config=="string"?[].concat(n.config).filter(Boolean).forEach(function(z){x.configs[z]=!0}):typeof n.config=="object"&&Object.entries(n.config).forEach(([z,ee])=>{(typeof ee=="boolean"||typeof ee=="function")&&(x.configs[z]=ee)})),Re(n.key,a,n.default,x.arrays),Object.keys(c).forEach(function(z){(x.aliases[z]||[]).forEach(function(ee){c[ee]=c[z]})});let S=null;Ge();let k=[],P=Object.assign(Object.create(null),{_:[]}),N={};for(let z=0;z<i.length;z++){let ee=i[z],Fe=ee.replace(/^-{3,}/,"---"),_e,Ce,Oe,Ve,Ze,yt;if(ee!=="--"&&/^-/.test(ee)&&ut(ee))W(ee);else if(Fe.match(/^---+(=|$)/)){W(ee);continue}else if(ee.match(/^--.+=/)||!l["short-option-groups"]&&ee.match(/^-.+=/))Ve=ee.match(/^--?([^=]+)=([\s\S]*)$/),Ve!==null&&Array.isArray(Ve)&&Ve.length>=3&&(be(Ve[1],x.arrays)?z=ge(z,Ve[1],i,Ve[2]):be(Ve[1],x.nargs)!==!1?z=re(z,Ve[1],i,Ve[2]):te(Ve[1],Ve[2],!0));else if(ee.match(v)&&l["boolean-negation"])Ve=ee.match(v),Ve!==null&&Array.isArray(Ve)&&Ve.length>=2&&(Ce=Ve[1],te(Ce,be(Ce,x.arrays)?[!1]:!1));else if(ee.match(/^--.+/)||!l["short-option-groups"]&&ee.match(/^-[^-]+/))Ve=ee.match(/^--?(.+)/),Ve!==null&&Array.isArray(Ve)&&Ve.length>=2&&(Ce=Ve[1],be(Ce,x.arrays)?z=ge(z,Ce,i):be(Ce,x.nargs)!==!1?z=re(z,Ce,i):(Ze=i[z+1],Ze!==void 0&&(!Ze.match(/^-/)||Ze.match(b))&&!be(Ce,x.bools)&&!be(Ce,x.counts)||/^(true|false)$/.test(Ze)?(te(Ce,Ze),z++):te(Ce,ot(Ce))));else if(ee.match(/^-.\..+=/))Ve=ee.match(/^-([^=]+)=([\s\S]*)$/),Ve!==null&&Array.isArray(Ve)&&Ve.length>=3&&te(Ve[1],Ve[2]);else if(ee.match(/^-.\..+/)&&!ee.match(b))Ze=i[z+1],Ve=ee.match(/^-(.\..+)/),Ve!==null&&Array.isArray(Ve)&&Ve.length>=2&&(Ce=Ve[1],Ze!==void 0&&!Ze.match(/^-/)&&!be(Ce,x.bools)&&!be(Ce,x.counts)?(te(Ce,Ze),z++):te(Ce,ot(Ce)));else if(ee.match(/^-[^-]+/)&&!ee.match(b)){Oe=ee.slice(1,-1).split(""),_e=!1;for(let Rt=0;Rt<Oe.length;Rt++){if(Ze=ee.slice(Rt+2),Oe[Rt+1]&&Oe[Rt+1]==="="){yt=ee.slice(Rt+3),Ce=Oe[Rt],be(Ce,x.arrays)?z=ge(z,Ce,i,yt):be(Ce,x.nargs)!==!1?z=re(z,Ce,i,yt):te(Ce,yt),_e=!0;break}if(Ze==="-"){te(Oe[Rt],Ze);continue}if(/[A-Za-z]/.test(Oe[Rt])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(Ze)&&be(Ze,x.bools)===!1){te(Oe[Rt],Ze),_e=!0;break}if(Oe[Rt+1]&&Oe[Rt+1].match(/\W/)){te(Oe[Rt],Ze),_e=!0;break}else te(Oe[Rt],ot(Oe[Rt]))}Ce=ee.slice(-1)[0],!_e&&Ce!=="-"&&(be(Ce,x.arrays)?z=ge(z,Ce,i):be(Ce,x.nargs)!==!1?z=re(z,Ce,i):(Ze=i[z+1],Ze!==void 0&&(!/^(-|--)[^-]/.test(Ze)||Ze.match(b))&&!be(Ce,x.bools)&&!be(Ce,x.counts)||/^(true|false)$/.test(Ze)?(te(Ce,Ze),z++):te(Ce,ot(Ce))))}else if(ee.match(/^-[0-9]$/)&&ee.match(b)&&be(ee.slice(1),x.bools))Ce=ee.slice(1),te(Ce,ot(Ce));else if(ee==="--"){k=i.slice(z+1);break}else if(l["halt-at-non-option"]){k=i.slice(z);break}else W(ee)}j(P,!0),j(P,!1),ne(P),O(),Z(P,x.aliases,c,!0),J(P),l["set-placeholder-key"]&&le(P),Object.keys(x.counts).forEach(function(z){ae(P,z.split("."))||te(z,0)}),m&&k.length&&(P[h]=[]),k.forEach(function(z){P[h].push(z)}),l["camel-case-expansion"]&&l["strip-dashed"]&&Object.keys(P).filter(z=>z!=="--"&&z.includes("-")).forEach(z=>{delete P[z]}),l["strip-aliased"]&&[].concat(...Object.keys(a).map(z=>a[z])).forEach(z=>{l["camel-case-expansion"]&&z.includes("-")&&delete P[z.split(".").map(ee=>SC(ee)).join(".")],delete P[z]});function W(z){let ee=se("_",z);(typeof ee=="string"||typeof ee=="number")&&P._.push(ee)}o(W,"pushPositional");function re(z,ee,Fe,_e){let Ce,Oe=be(ee,x.nargs);if(Oe=typeof Oe!="number"||isNaN(Oe)?1:Oe,Oe===0)return Ae(_e)||(S=Error(E("Argument unexpected for: %s",ee))),te(ee,ot(ee)),z;let Ve=Ae(_e)?0:1;if(l["nargs-eats-options"])Fe.length-(z+1)+Ve<Oe&&(S=Error(E("Not enough arguments following: %s",ee))),Ve=Oe;else{for(Ce=z+1;Ce<Fe.length&&(!Fe[Ce].match(/^-[^0-9]/)||Fe[Ce].match(b)||ut(Fe[Ce]));Ce++)Ve++;Ve<Oe&&(S=Error(E("Not enough arguments following: %s",ee)))}let Ze=Math.min(Ve,Oe);for(!Ae(_e)&&Ze>0&&(te(ee,_e),Ze--),Ce=z+1;Ce<Ze+z+1;Ce++)te(ee,Fe[Ce]);return z+Ze}o(re,"eatNargs");function ge(z,ee,Fe,_e){let Ce=[],Oe=_e||Fe[z+1],Ve=be(ee,x.nargs);if(be(ee,x.bools)&&!/^(true|false)$/.test(Oe))Ce.push(!0);else if(Ae(Oe)||Ae(_e)&&/^-/.test(Oe)&&!b.test(Oe)&&!ut(Oe)){if(c[ee]!==void 0){let Ze=c[ee];Ce=Array.isArray(Ze)?Ze:[Ze]}}else{Ae(_e)||Ce.push(q(ee,_e,!0));for(let Ze=z+1;Ze<Fe.length&&!(!l["greedy-arrays"]&&Ce.length>0||Ve&&typeof Ve=="number"&&Ce.length>=Ve||(Oe=Fe[Ze],/^-/.test(Oe)&&!b.test(Oe)&&!ut(Oe)));Ze++)z=Ze,Ce.push(q(ee,Oe,s))}return typeof Ve=="number"&&(Ve&&Ce.length<Ve||isNaN(Ve)&&Ce.length===0)&&(S=Error(E("Not enough arguments following: %s",ee))),te(ee,Ce),z}o(ge,"eatArray");function te(z,ee,Fe=s){if(/-/.test(z)&&l["camel-case-expansion"]){let Oe=z.split(".").map(function(Ve){return SC(Ve)}).join(".");G(z,Oe)}let _e=q(z,ee,Fe),Ce=z.split(".");ce(P,Ce,_e),x.aliases[z]&&x.aliases[z].forEach(function(Oe){let Ve=Oe.split(".");ce(P,Ve,_e)}),Ce.length>1&&l["dot-notation"]&&(x.aliases[Ce[0]]||[]).forEach(function(Oe){let Ve=Oe.split("."),Ze=[].concat(Ce);Ze.shift(),Ve=Ve.concat(Ze),(x.aliases[z]||[]).includes(Ve.join("."))||ce(P,Ve,_e)}),be(z,x.normalize)&&!be(z,x.arrays)&&[z].concat(x.aliases[z]||[]).forEach(function(Ve){Object.defineProperty(N,Ve,{enumerable:!0,get(){return ee},set(Ze){ee=typeof Ze=="string"?o1.normalize(Ze):Ze}})})}o(te,"setArg");function G(z,ee){x.aliases[z]&&x.aliases[z].length||(x.aliases[z]=[ee],p[ee]=!0),x.aliases[ee]&&x.aliases[ee].length||G(ee,z)}o(G,"addNewAlias");function q(z,ee,Fe){Fe&&(ee=Oot(ee)),(be(z,x.bools)||be(z,x.counts))&&typeof ee=="string"&&(ee=ee==="true");let _e=Array.isArray(ee)?ee.map(function(Ce){return se(z,Ce)}):se(z,ee);return be(z,x.counts)&&(Ae(_e)||typeof _e=="boolean")&&(_e=fJ()),be(z,x.normalize)&&be(z,x.arrays)&&(Array.isArray(ee)?_e=ee.map(Ce=>o1.normalize(Ce)):_e=o1.normalize(ee)),_e}o(q,"processValue");function se(z,ee){return!l["parse-positional-numbers"]&&z==="_"||!be(z,x.strings)&&!be(z,x.bools)&&!Array.isArray(ee)&&(JN(ee)&&l["parse-numbers"]&&Number.isSafeInteger(Math.floor(parseFloat(`${ee}`)))||!Ae(ee)&&be(z,x.numbers))&&(ee=Number(ee)),ee}o(se,"maybeCoerceNumber");function ne(z){let ee=Object.create(null);Z(ee,x.aliases,c),Object.keys(x.configs).forEach(function(Fe){let _e=z[Fe]||ee[Fe];if(_e)try{let Ce=null,Oe=o1.resolve(o1.cwd(),_e),Ve=x.configs[Fe];if(typeof Ve=="function"){try{Ce=Ve(Oe)}catch(Ze){Ce=Ze}if(Ce instanceof Error){S=Ce;return}}else Ce=o1.require(Oe);H(Ce)}catch(Ce){Ce.name==="PermissionDenied"?S=Ce:z[Fe]&&(S=Error(E("Invalid JSON config file: %s",_e)))}})}o(ne,"setConfig");function H(z,ee){Object.keys(z).forEach(function(Fe){let _e=z[Fe],Ce=ee?ee+"."+Fe:Fe;typeof _e=="object"&&_e!==null&&!Array.isArray(_e)&&l["dot-notation"]?H(_e,Ce):(!ae(P,Ce.split("."))||be(Ce,x.arrays)&&l["combine-arrays"])&&te(Ce,_e)})}o(H,"setConfigObject");function O(){typeof u<"u"&&u.forEach(function(z){H(z)})}o(O,"setConfigObjects");function j(z,ee){if(typeof f>"u")return;let Fe=typeof f=="string"?f:"",_e=o1.env();Object.keys(_e).forEach(function(Ce){if(Fe===""||Ce.lastIndexOf(Fe,0)===0){let Oe=Ce.split("__").map(function(Ve,Ze){return Ze===0&&(Ve=Ve.substring(Fe.length)),SC(Ve)});(ee&&x.configs[Oe.join(".")]||!ee)&&!ae(z,Oe)&&te(Oe.join("."),_e[Ce])}})}o(j,"applyEnvVars");function J(z){let ee,Fe=new Set;Object.keys(z).forEach(function(_e){if(!Fe.has(_e)&&(ee=be(_e,x.coercions),typeof ee=="function"))try{let Ce=se(_e,ee(z[_e]));[].concat(x.aliases[_e]||[],_e).forEach(Oe=>{Fe.add(Oe),z[Oe]=Ce})}catch(Ce){S=Ce}})}o(J,"applyCoercions");function le(z){return x.keys.forEach(ee=>{~ee.indexOf(".")||typeof z[ee]>"u"&&(z[ee]=void 0)}),z}o(le,"setPlaceholderKeys");function Z(z,ee,Fe,_e=!1){Object.keys(Fe).forEach(function(Ce){ae(z,Ce.split("."))||(ce(z,Ce.split("."),Fe[Ce]),_e&&(A[Ce]=!0),(ee[Ce]||[]).forEach(function(Oe){ae(z,Oe.split("."))||ce(z,Oe.split("."),Fe[Ce])}))})}o(Z,"applyDefaultsAndAliases");function ae(z,ee){let Fe=z;l["dot-notation"]||(ee=[ee.join(".")]),ee.slice(0,-1).forEach(function(Ce){Fe=Fe[Ce]||{}});let _e=ee[ee.length-1];return typeof Fe!="object"?!1:_e in Fe}o(ae,"hasKey");function ce(z,ee,Fe){let _e=z;l["dot-notation"]||(ee=[ee.join(".")]),ee.slice(0,-1).forEach(function(yt){yt=B3e(yt),typeof _e=="object"&&_e[yt]===void 0&&(_e[yt]={}),typeof _e[yt]!="object"||Array.isArray(_e[yt])?(Array.isArray(_e[yt])?_e[yt].push({}):_e[yt]=[_e[yt],{}],_e=_e[yt][_e[yt].length-1]):_e=_e[yt]});let Ce=B3e(ee[ee.length-1]),Oe=be(ee.join("."),x.arrays),Ve=Array.isArray(Fe),Ze=l["duplicate-arguments-array"];!Ze&&be(Ce,x.nargs)&&(Ze=!0,(!Ae(_e[Ce])&&x.nargs[Ce]===1||Array.isArray(_e[Ce])&&_e[Ce].length===x.nargs[Ce])&&(_e[Ce]=void 0)),Fe===fJ()?_e[Ce]=fJ(_e[Ce]):Array.isArray(_e[Ce])?Ze&&Oe&&Ve?_e[Ce]=l["flatten-duplicate-arrays"]?_e[Ce].concat(Fe):(Array.isArray(_e[Ce][0])?_e[Ce]:[_e[Ce]]).concat([Fe]):!Ze&&!!Oe==!!Ve?_e[Ce]=Fe:_e[Ce]=_e[Ce].concat([Fe]):_e[Ce]===void 0&&Oe?_e[Ce]=Ve?Fe:[Fe]:Ze&&!(_e[Ce]===void 0||be(Ce,x.counts)||be(Ce,x.bools))?_e[Ce]=[_e[Ce],Fe]:_e[Ce]=Fe}o(ce,"setKey");function Re(...z){z.forEach(function(ee){Object.keys(ee||{}).forEach(function(Fe){x.aliases[Fe]||(x.aliases[Fe]=[].concat(a[Fe]||[]),x.aliases[Fe].concat(Fe).forEach(function(_e){if(/-/.test(_e)&&l["camel-case-expansion"]){let Ce=SC(_e);Ce!==Fe&&x.aliases[Fe].indexOf(Ce)===-1&&(x.aliases[Fe].push(Ce),p[Ce]=!0)}}),x.aliases[Fe].concat(Fe).forEach(function(_e){if(_e.length>1&&/[A-Z]/.test(_e)&&l["camel-case-expansion"]){let Ce=KN(_e,"-");Ce!==Fe&&x.aliases[Fe].indexOf(Ce)===-1&&(x.aliases[Fe].push(Ce),p[Ce]=!0)}}),x.aliases[Fe].forEach(function(_e){x.aliases[_e]=[Fe].concat(x.aliases[Fe].filter(function(Ce){return _e!==Ce}))}))})})}o(Re,"extendAliases");function be(z,ee){let Fe=[].concat(x.aliases[z]||[],z),_e=Object.keys(ee),Ce=Fe.find(Oe=>_e.includes(Oe));return Ce?ee[Ce]:!1}o(be,"checkAllAliases");function Ue(z){let ee=Object.keys(x);return[].concat(ee.map(_e=>x[_e])).some(function(_e){return Array.isArray(_e)?_e.includes(z):_e[z]})}o(Ue,"hasAnyFlag");function Be(z,...ee){return[].concat(...ee).some(function(_e){let Ce=z.match(_e);return Ce&&Ue(Ce[1])})}o(Be,"hasFlagsMatching");function Je(z){if(z.match(b)||!z.match(/^-[^-]+/))return!1;let ee=!0,Fe,_e=z.slice(1).split("");for(let Ce=0;Ce<_e.length;Ce++){if(Fe=z.slice(Ce+2),!Ue(_e[Ce])){ee=!1;break}if(_e[Ce+1]&&_e[Ce+1]==="="||Fe==="-"||/[A-Za-z]/.test(_e[Ce])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(Fe)||_e[Ce+1]&&_e[Ce+1].match(/\W/))break}return ee}o(Je,"hasAllShortFlags");function ut(z){return l["unknown-options-as-args"]&&it(z)}o(ut,"isUnknownOptionAsArg");function it(z){return z=z.replace(/^-{3,}/,"--"),z.match(b)||Je(z)?!1:!Be(z,/^-+([^=]+?)=[\s\S]*$/,v,/^-+([^=]+?)$/,/^-+([^=]+?)-$/,/^-+([^=]+?\d+)$/,/^-+([^=]+?)\W+.*$/)}o(it,"isUnknownOption");function ot(z){return!be(z,x.bools)&&!be(z,x.counts)&&`${z}`in c?c[z]:ie(Pe(z))}o(ot,"defaultValue");function ie(z){return{[jf.BOOLEAN]:!0,[jf.STRING]:"",[jf.NUMBER]:void 0,[jf.ARRAY]:[]}[z]}o(ie,"defaultForType");function Pe(z){let ee=jf.BOOLEAN;return be(z,x.strings)?ee=jf.STRING:be(z,x.numbers)?ee=jf.NUMBER:be(z,x.bools)?ee=jf.BOOLEAN:be(z,x.arrays)&&(ee=jf.ARRAY),ee}o(Pe,"guessType");function Ae(z){return z===void 0}o(Ae,"isUndefined");function Ge(){Object.keys(x.counts).find(z=>be(z,x.arrays)?(S=Error(E("Invalid configuration: %s, opts.count excludes opts.array.",z)),!0):be(z,x.nargs)?(S=Error(E("Invalid configuration: %s, opts.count excludes opts.narg.",z)),!0):!1)}return o(Ge,"checkConfiguration"),{aliases:Object.assign({},x.aliases),argv:Object.assign(N,P),configuration:l,defaulted:Object.assign({},A),error:S,newAliases:Object.assign({},p)}}};function Mot(e){let t=[],r=Object.create(null),n=!0;for(Object.keys(e).forEach(function(i){t.push([].concat(e[i],i))});n;){n=!1;for(let i=0;i<t.length;i++)for(let s=i+1;s<t.length;s++)if(t[i].filter(function(l){return t[s].indexOf(l)!==-1}).length){t[i]=t[i].concat(t[s]),t.splice(s,1),n=!0;break}}return t.forEach(function(i){i=i.filter(function(a,l,c){return c.indexOf(a)===l});let s=i.pop();s!==void 0&&typeof s=="string"&&(r[s]=i)}),r}o(Mot,"combineAliases");function fJ(e){return e!==void 0?e+1:1}o(fJ,"increment");function B3e(e){return e==="__proto__"?"___proto___":e}o(B3e,"sanitizeKey");function Oot(e){return typeof e=="string"&&(e[0]==="'"||e[0]==='"')&&e[e.length-1]===e[0]?e.substring(1,e.length-1):e}o(Oot,"stripQuotes");var P3e=require("fs");var dJ,mJ,hJ,k3e=process&&process.env&&process.env.YARGS_MIN_NODE_VERSION?Number(process.env.YARGS_MIN_NODE_VERSION):12,R3e=(mJ=(dJ=process==null?void 0:process.versions)===null||dJ===void 0?void 0:dJ.node)!==null&&mJ!==void 0?mJ:(hJ=process==null?void 0:process.version)===null||hJ===void 0?void 0:hJ.slice(1);if(R3e&&Number(R3e.match(/^([^.]+)/)[1])<k3e)throw Error(`yargs parser supports a minimum Node.js version of ${k3e}. Read our version support policy: https://github.com/yargs/yargs-parser#supported-nodejs-versions`);var Uot=process?process.env:{},N3e=new XN({cwd:process.cwd,env:o(()=>Uot,"env"),format:D3e.format,normalize:ZN.normalize,resolve:ZN.resolve,require:o(e=>{if(typeof require<"u")return require(e);if(e.match(/\.json$/))return JSON.parse((0,P3e.readFileSync)(e,"utf8"));throw Error("only .json config files are supported in ESM")},"require")}),eT=o(function(t,r){return N3e.parse(t.slice(),r).argv},"Parser");eT.detailed=function(e,t){return N3e.parse(e.slice(),t)};eT.camelCase=SC;eT.decamelize=KN;eT.looksLikeNumber=JN;var F3e=eT;var Im=require("path");d();function qot(){return Got()?0:1}o(qot,"getProcessArgvBinIndex");function Got(){return Wot()&&!process.defaultApp}o(Got,"isBundledElectronApp");function Wot(){return!!process.versions.electron}o(Wot,"isElectronApp");function L3e(){return process.argv[qot()]}o(L3e,"getProcessArgvBin");d();var Zo=class e extends Error{static{o(this,"YError")}constructor(t){super(t||"yargs error"),this.name="YError",Error.captureStackTrace&&Error.captureStackTrace(this,e)}};d();d();var mb=require("fs"),Q3e=require("util"),M3e=require("path");var O3e={fs:{readFileSync:mb.readFileSync,writeFile:mb.writeFile},format:Q3e.format,resolve:M3e.resolve,exists:o(e=>{try{return(0,mb.statSync)(e).isFile()}catch{return!1}},"exists")};d();var bm,pJ=class{static{o(this,"Y18N")}constructor(t){t=t||{},this.directory=t.directory||"./locales",this.updateFiles=typeof t.updateFiles=="boolean"?t.updateFiles:!0,this.locale=t.locale||"en",this.fallbackToLanguage=typeof t.fallbackToLanguage=="boolean"?t.fallbackToLanguage:!0,this.cache=Object.create(null),this.writeQueue=[]}__(...t){if(typeof arguments[0]!="string")return this._taggedLiteral(arguments[0],...arguments);let r=t.shift(),n=o(function(){},"cb");return typeof t[t.length-1]=="function"&&(n=t.pop()),n=n||function(){},this.cache[this.locale]||this._readLocaleFile(),!this.cache[this.locale][r]&&this.updateFiles?(this.cache[this.locale][r]=r,this._enqueueWrite({directory:this.directory,locale:this.locale,cb:n})):n(),bm.format.apply(bm.format,[this.cache[this.locale][r]||r].concat(t))}__n(){let t=Array.prototype.slice.call(arguments),r=t.shift(),n=t.shift(),i=t.shift(),s=o(function(){},"cb");typeof t[t.length-1]=="function"&&(s=t.pop()),this.cache[this.locale]||this._readLocaleFile();let a=i===1?r:n;this.cache[this.locale][r]&&(a=this.cache[this.locale][r][i===1?"one":"other"]),!this.cache[this.locale][r]&&this.updateFiles?(this.cache[this.locale][r]={one:r,other:n},this._enqueueWrite({directory:this.directory,locale:this.locale,cb:s})):s();let l=[a];return~a.indexOf("%d")&&l.push(i),bm.format.apply(bm.format,l.concat(t))}setLocale(t){this.locale=t}getLocale(){return this.locale}updateLocale(t){this.cache[this.locale]||this._readLocaleFile();for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(this.cache[this.locale][r]=t[r])}_taggedLiteral(t,...r){let n="";return t.forEach(function(i,s){let a=r[s+1];n+=i,typeof a<"u"&&(n+="%s")}),this.__.apply(this,[n].concat([].slice.call(r,1)))}_enqueueWrite(t){this.writeQueue.push(t),this.writeQueue.length===1&&this._processWriteQueue()}_processWriteQueue(){let t=this,r=this.writeQueue[0],n=r.directory,i=r.locale,s=r.cb,a=this._resolveLocaleFile(n,i),l=JSON.stringify(this.cache[i],null,2);bm.fs.writeFile(a,l,"utf-8",function(c){t.writeQueue.shift(),t.writeQueue.length>0&&t._processWriteQueue(),s(c)})}_readLocaleFile(){let t={},r=this._resolveLocaleFile(this.directory,this.locale);try{bm.fs.readFileSync&&(t=JSON.parse(bm.fs.readFileSync(r,"utf-8")))}catch(n){if(n instanceof SyntaxError&&(n.message="syntax error in "+r),n.code==="ENOENT")t={};else throw n}this.cache[this.locale]=t}_resolveLocaleFile(t,r){let n=bm.resolve(t,"./",r+".json");if(this.fallbackToLanguage&&!this._fileExistsSync(n)&&~r.lastIndexOf("_")){let i=bm.resolve(t,"./",r.split("_")[0]+".json");this._fileExistsSync(i)&&(n=i)}return n}_fileExistsSync(t){return bm.exists(t)}};function U3e(e,t){bm=t;let r=new pJ(e);return{__:r.__.bind(r),__n:r.__n.bind(r),setLocale:r.setLocale.bind(r),getLocale:r.getLocale.bind(r),updateLocale:r.updateLocale.bind(r),locale:r.locale}}o(U3e,"y18n");var Hot=o(e=>U3e(e,O3e),"y18n"),q3e=Hot;var Vot="require is not supported by ESM",G3e="loading a directory of commands is not supported yet for ESM",tT;try{tT=(0,V3e.fileURLToPath)(importMetaUrlShim)}catch{tT=process.cwd()}var jot=tT.substring(0,tT.lastIndexOf("node_modules")),j3e={assert:{notStrictEqual:eF.notStrictEqual,strictEqual:eF.strictEqual},cliui:cJ,findUp:uJ,getEnv:o(e=>process.env[e],"getEnv"),inspect:W3e.inspect,getCallerFile:o(()=>{throw new Zo(G3e)},"getCallerFile"),getProcessArgvBin:L3e,mainFilename:jot||process.cwd(),Parser:F3e,path:{basename:Im.basename,dirname:Im.dirname,extname:Im.extname,relative:Im.relative,resolve:Im.resolve},process:{argv:o(()=>process.argv,"argv"),cwd:process.cwd,emitWarning:o((e,t)=>process.emitWarning(e,t),"emitWarning"),execPath:o(()=>process.execPath,"execPath"),exit:process.exit,nextTick:process.nextTick,stdColumns:typeof process.stdout.columns<"u"?process.stdout.columns:null},readFileSync:H3e.readFileSync,require:o(()=>{throw new Zo(Vot)},"require"),requireDirectory:o(()=>{throw new Zo(G3e)},"requireDirectory"),stringWidth:o(e=>[...e].length,"stringWidth"),y18n:q3e({directory:(0,Im.resolve)(tT,"../../../locales"),updateFiles:!1})};d();d();d();function L0(e,t,r,n){r.assert.notStrictEqual(e,t,n)}o(L0,"assertNotStrictEqual");function gJ(e,t){t.assert.strictEqual(typeof e,"string")}o(gJ,"assertSingleKey");function hb(e){return Object.keys(e)}o(hb,"objectKeys");d();function es(e){return!!e&&!!e.then&&typeof e.then=="function"}o(es,"isPromise");d();d();d();function l5(e){let r=e.replace(/\s{2,}/g," ").split(/\s+(?![^[]*]|[^<]*>)/),n=/\.*[\][<>]/g,i=r.shift();if(!i)throw new Error(`No command found in: ${e}`);let s={cmd:i.replace(n,""),demanded:[],optional:[]};return r.forEach((a,l)=>{let c=!1;a=a.replace(/\s/g,""),/\.+[\]>]/.test(a)&&l===r.length-1&&(c=!0),/^\[/.test(a)?s.optional.push({cmd:a.replace(n,"").split("|"),variadic:c}):s.demanded.push({cmd:a.replace(n,"").split("|"),variadic:c})}),s}o(l5,"parseCommand");var $ot=["first","second","third","fourth","fifth","sixth"];function Br(e,t,r){function n(){return typeof e=="object"?[{demanded:[],optional:[]},e,t]:[l5(`cmd ${e}`),t,r]}o(n,"parseArgs");try{let i=0,[s,a,l]=n(),c=[].slice.call(a);for(;c.length&&c[c.length-1]===void 0;)c.pop();let u=l||c.length;if(u<s.demanded.length)throw new Zo(`Not enough arguments provided. Expected ${s.demanded.length} but received ${c.length}.`);let f=s.demanded.length+s.optional.length;if(u>f)throw new Zo(`Too many arguments provided. Expected max ${f} but received ${u}.`);s.demanded.forEach(m=>{let h=c.shift(),p=$3e(h);m.cmd.filter(E=>E===p||E==="*").length===0&&z3e(p,m.cmd,i),i+=1}),s.optional.forEach(m=>{if(c.length===0)return;let h=c.shift(),p=$3e(h);m.cmd.filter(E=>E===p||E==="*").length===0&&z3e(p,m.cmd,i),i+=1})}catch(i){console.warn(i.stack)}}o(Br,"argsert");function $3e(e){return Array.isArray(e)?"array":e===null?"null":typeof e}o($3e,"guessType");function z3e(e,t,r){throw new Zo(`Invalid ${$ot[r]||"manyith"} argument. Expected ${t.join(" or ")} but received ${e}.`)}o(z3e,"argumentTypeError");var tF=class{static{o(this,"GlobalMiddleware")}constructor(t){this.globalMiddleware=[],this.frozens=[],this.yargs=t}addMiddleware(t,r,n=!0,i=!1){if(Br("<array|function> [boolean] [boolean] [boolean]",[t,r,n],arguments.length),Array.isArray(t)){for(let s=0;s<t.length;s++){if(typeof t[s]!="function")throw Error("middleware must be a function");let a=t[s];a.applyBeforeValidation=r,a.global=n}Array.prototype.push.apply(this.globalMiddleware,t)}else if(typeof t=="function"){let s=t;s.applyBeforeValidation=r,s.global=n,s.mutates=i,this.globalMiddleware.push(t)}return this.yargs}addCoerceMiddleware(t,r){let n=this.yargs.getAliases();return this.globalMiddleware=this.globalMiddleware.filter(i=>{let s=[...n[r]||[],r];return i.option?!s.includes(i.option):!0}),t.option=r,this.addMiddleware(t,!0,!0,!0)}getMiddleware(){return this.globalMiddleware}freeze(){this.frozens.push([...this.globalMiddleware])}unfreeze(){let t=this.frozens.pop();t!==void 0&&(this.globalMiddleware=t)}reset(){this.globalMiddleware=this.globalMiddleware.filter(t=>t.global)}};function Y3e(e){return e?e.map(t=>(t.applyBeforeValidation=!1,t)):[]}o(Y3e,"commandMiddlewareFactory");function BC(e,t,r,n){return r.reduce((i,s)=>{if(s.applyBeforeValidation!==n)return i;if(s.mutates){if(s.applied)return i;s.applied=!0}if(es(i))return i.then(a=>Promise.all([a,s(a,t)])).then(([a,l])=>Object.assign(a,l));{let a=s(i,t);return es(a)?a.then(l=>Object.assign(i,l)):Object.assign(i,a)}},e)}o(BC,"applyMiddleware");d();function kC(e,t,r=n=>{throw n}){try{let n=zot(e)?e():e;return es(n)?n.then(i=>t(i)):t(n)}catch(n){return r(n)}}o(kC,"maybeAsyncResult");function zot(e){return typeof e=="function"}o(zot,"isFunction");d();function AJ(e){if(typeof require>"u")return null;for(let t=0,r=Object.keys(require.cache),n;t<r.length;t++)if(n=require.cache[r[t]],n.exports===e)return n;return null}o(AJ,"whichModule");var pb=/(^\*)|(^\$0)/,yJ=class{static{o(this,"CommandInstance")}constructor(t,r,n,i){this.requireCache=new Set,this.handlers={},this.aliasMap={},this.frozens=[],this.shim=i,this.usage=t,this.globalMiddleware=n,this.validation=r}addDirectory(t,r,n,i){i=i||{},typeof i.recurse!="boolean"&&(i.recurse=!1),Array.isArray(i.extensions)||(i.extensions=["js"]);let s=typeof i.visit=="function"?i.visit:a=>a;i.visit=(a,l,c)=>{let u=s(a,l,c);if(u){if(this.requireCache.has(l))return u;this.requireCache.add(l),this.addHandler(u)}return u},this.shim.requireDirectory({require:r,filename:n},t,i)}addHandler(t,r,n,i,s,a){let l=[],c=Y3e(s);if(i=i||(()=>{}),Array.isArray(t))if(Yot(t))[t,...l]=t;else for(let u of t)this.addHandler(u);else if(Jot(t)){let u=Array.isArray(t.command)||typeof t.command=="string"?t.command:this.moduleName(t);t.aliases&&(u=[].concat(u).concat(t.aliases)),this.addHandler(u,this.extractDesc(t),t.builder,t.handler,t.middlewares,t.deprecated);return}else if(K3e(n)){this.addHandler([t].concat(l),r,n.builder,n.handler,n.middlewares,n.deprecated);return}if(typeof t=="string"){let u=l5(t);l=l.map(h=>l5(h).cmd);let f=!1,m=[u.cmd].concat(l).filter(h=>pb.test(h)?(f=!0,!1):!0);m.length===0&&f&&m.push("$0"),f&&(u.cmd=m[0],l=m.slice(1),t=t.replace(pb,u.cmd)),l.forEach(h=>{this.aliasMap[h]=u.cmd}),r!==!1&&this.usage.command(t,r,f,l,a),this.handlers[u.cmd]={original:t,description:r,handler:i,builder:n||{},middlewares:c,deprecated:a,demanded:u.demanded,optional:u.optional},f&&(this.defaultCommand=this.handlers[u.cmd])}}getCommandHandlers(){return this.handlers}getCommands(){return Object.keys(this.handlers).concat(Object.keys(this.aliasMap))}hasDefaultCommand(){return!!this.defaultCommand}runCommand(t,r,n,i,s,a){let l=this.handlers[t]||this.handlers[this.aliasMap[t]]||this.defaultCommand,c=r.getInternalMethods().getContext(),u=c.commands.slice(),f=!t;t&&(c.commands.push(t),c.fullCommands.push(l.original));let m=this.applyBuilderUpdateUsageAndParse(f,l,r,n.aliases,u,i,s,a);return es(m)?m.then(h=>this.applyMiddlewareAndGetResult(f,l,h.innerArgv,c,s,h.aliases,r)):this.applyMiddlewareAndGetResult(f,l,m.innerArgv,c,s,m.aliases,r)}applyBuilderUpdateUsageAndParse(t,r,n,i,s,a,l,c){let u=r.builder,f=n;if(rF(u)){n.getInternalMethods().getUsageInstance().freeze();let m=u(n.getInternalMethods().reset(i),c);if(es(m))return m.then(h=>(f=X3e(h)?h:n,this.parseAndUpdateUsage(t,r,f,s,a,l)))}else Kot(u)&&(n.getInternalMethods().getUsageInstance().freeze(),f=n.getInternalMethods().reset(i),Object.keys(r.builder).forEach(m=>{f.option(m,u[m])}));return this.parseAndUpdateUsage(t,r,f,s,a,l)}parseAndUpdateUsage(t,r,n,i,s,a){t&&n.getInternalMethods().getUsageInstance().unfreeze(!0),this.shouldUpdateUsage(n)&&n.getInternalMethods().getUsageInstance().usage(this.usageFromParentCommandsCommandHandler(i,r),r.description);let l=n.getInternalMethods().runYargsParserAndExecuteCommands(null,void 0,!0,s,a);return es(l)?l.then(c=>({aliases:n.parsed.aliases,innerArgv:c})):{aliases:n.parsed.aliases,innerArgv:l}}shouldUpdateUsage(t){return!t.getInternalMethods().getUsageInstance().getUsageDisabled()&&t.getInternalMethods().getUsageInstance().getUsage().length===0}usageFromParentCommandsCommandHandler(t,r){let n=pb.test(r.original)?r.original.replace(pb,"").trim():r.original,i=t.filter(s=>!pb.test(s));return i.push(n),`$0 ${i.join(" ")}`}handleValidationAndGetResult(t,r,n,i,s,a,l,c){if(!a.getInternalMethods().getHasOutput()){let u=a.getInternalMethods().runValidation(s,c,a.parsed.error,t);n=kC(n,f=>(u(f),f))}if(r.handler&&!a.getInternalMethods().getHasOutput()){a.getInternalMethods().setHasOutput();let u=!!a.getOptions().configuration["populate--"];a.getInternalMethods().postProcess(n,u,!1,!1),n=BC(n,a,l,!1),n=kC(n,f=>{let m=r.handler(f);return es(m)?m.then(()=>f):f}),t||a.getInternalMethods().getUsageInstance().cacheHelpMessage(),es(n)&&!a.getInternalMethods().hasParseCallback()&&n.catch(f=>{try{a.getInternalMethods().getUsageInstance().fail(null,f)}catch{}})}return t||(i.commands.pop(),i.fullCommands.pop()),n}applyMiddlewareAndGetResult(t,r,n,i,s,a,l){let c={};if(s)return n;l.getInternalMethods().getHasOutput()||(c=this.populatePositionals(r,n,i,l));let u=this.globalMiddleware.getMiddleware().slice(0).concat(r.middlewares),f=BC(n,l,u,!0);return es(f)?f.then(m=>this.handleValidationAndGetResult(t,r,m,i,a,l,u,c)):this.handleValidationAndGetResult(t,r,f,i,a,l,u,c)}populatePositionals(t,r,n,i){r._=r._.slice(n.commands.length);let s=t.demanded.slice(0),a=t.optional.slice(0),l={};for(this.validation.positionalCount(s.length,r._.length);s.length;){let c=s.shift();this.populatePositional(c,r,l)}for(;a.length;){let c=a.shift();this.populatePositional(c,r,l)}return r._=n.commands.concat(r._.map(c=>""+c)),this.postProcessPositionals(r,l,this.cmdToParseOptions(t.original),i),l}populatePositional(t,r,n){let i=t.cmd[0];t.variadic?n[i]=r._.splice(0).map(String):r._.length&&(n[i]=[String(r._.shift())])}cmdToParseOptions(t){let r={array:[],default:{},alias:{},demand:{}},n=l5(t);return n.demanded.forEach(i=>{let[s,...a]=i.cmd;i.variadic&&(r.array.push(s),r.default[s]=[]),r.alias[s]=a,r.demand[s]=!0}),n.optional.forEach(i=>{let[s,...a]=i.cmd;i.variadic&&(r.array.push(s),r.default[s]=[]),r.alias[s]=a}),r}postProcessPositionals(t,r,n,i){let s=Object.assign({},i.getOptions());s.default=Object.assign(n.default,s.default);for(let u of Object.keys(n.alias))s.alias[u]=(s.alias[u]||[]).concat(n.alias[u]);s.array=s.array.concat(n.array),s.config={};let a=[];if(Object.keys(r).forEach(u=>{r[u].map(f=>{s.configuration["unknown-options-as-args"]&&(s.key[u]=!0),a.push(`--${u}`),a.push(f)})}),!a.length)return;let l=Object.assign({},s.configuration,{"populate--":!1}),c=this.shim.Parser.detailed(a,Object.assign({},s,{configuration:l}));if(c.error)i.getInternalMethods().getUsageInstance().fail(c.error.message,c.error);else{let u=Object.keys(r);Object.keys(r).forEach(f=>{u.push(...c.aliases[f])}),Object.keys(c.argv).forEach(f=>{u.includes(f)&&(r[f]||(r[f]=c.argv[f]),!this.isInConfigs(i,f)&&!this.isDefaulted(i,f)&&Object.prototype.hasOwnProperty.call(t,f)&&Object.prototype.hasOwnProperty.call(c.argv,f)&&(Array.isArray(t[f])||Array.isArray(c.argv[f]))?t[f]=[].concat(t[f],c.argv[f]):t[f]=c.argv[f])})}}isDefaulted(t,r){let{default:n}=t.getOptions();return Object.prototype.hasOwnProperty.call(n,r)||Object.prototype.hasOwnProperty.call(n,this.shim.Parser.camelCase(r))}isInConfigs(t,r){let{configObjects:n}=t.getOptions();return n.some(i=>Object.prototype.hasOwnProperty.call(i,r))||n.some(i=>Object.prototype.hasOwnProperty.call(i,this.shim.Parser.camelCase(r)))}runDefaultBuilderOn(t){if(!this.defaultCommand)return;if(this.shouldUpdateUsage(t)){let n=pb.test(this.defaultCommand.original)?this.defaultCommand.original:this.defaultCommand.original.replace(/^[^[\]<>]*/,"$0 ");t.getInternalMethods().getUsageInstance().usage(n,this.defaultCommand.description)}let r=this.defaultCommand.builder;if(rF(r))return r(t,!0);K3e(r)||Object.keys(r).forEach(n=>{t.option(n,r[n])})}moduleName(t){let r=AJ(t);if(!r)throw new Error(`No command name given for module: ${this.shim.inspect(t)}`);return this.commandFromFilename(r.filename)}commandFromFilename(t){return this.shim.path.basename(t,this.shim.path.extname(t))}extractDesc({describe:t,description:r,desc:n}){for(let i of[t,r,n]){if(typeof i=="string"||i===!1)return i;L0(i,!0,this.shim)}return!1}freeze(){this.frozens.push({handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand})}unfreeze(){let t=this.frozens.pop();L0(t,void 0,this.shim),{handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand}=t}reset(){return this.handlers={},this.aliasMap={},this.defaultCommand=void 0,this.requireCache=new Set,this}};function J3e(e,t,r,n){return new yJ(e,t,r,n)}o(J3e,"command");function K3e(e){return typeof e=="object"&&!!e.builder&&typeof e.handler=="function"}o(K3e,"isCommandBuilderDefinition");function Yot(e){return e.every(t=>typeof t=="string")}o(Yot,"isCommandAndAliases");function rF(e){return typeof e=="function"}o(rF,"isCommandBuilderCallback");function Kot(e){return typeof e=="object"}o(Kot,"isCommandBuilderOptionDefinitions");function Jot(e){return typeof e=="object"&&!Array.isArray(e)}o(Jot,"isCommandHandlerDefinition");d();d();function c5(e={},t=()=>!0){let r={};return hb(e).forEach(n=>{t(n,e[n])&&(r[n]=e[n])}),r}o(c5,"objFilter");d();function u5(e){typeof process>"u"||[process.stdout,process.stderr].forEach(t=>{let r=t;r._handle&&r.isTTY&&typeof r._handle.setBlocking=="function"&&r._handle.setBlocking(e)})}o(u5,"setBlocking");function Xot(e){return typeof e=="boolean"}o(Xot,"isBoolean");function eCe(e,t){let r=t.y18n.__,n={},i=[];n.failFn=o(function(q){i.push(q)},"failFn");let s=null,a=null,l=!0;n.showHelpOnFail=o(function(q=!0,se){let[ne,H]=typeof q=="string"?[!0,q]:[q,se];return e.getInternalMethods().isGlobalContext()&&(a=H),s=H,l=ne,n},"showHelpOnFailFn");let c=!1;n.fail=o(function(q,se){let ne=e.getInternalMethods().getLoggerInstance();if(i.length)for(let H=i.length-1;H>=0;--H){let O=i[H];if(Xot(O)){if(se)throw se;if(q)throw Error(q)}else O(q,se,n)}else{if(e.getExitProcess()&&u5(!0),!c){c=!0,l&&(e.showHelp("error"),ne.error()),(q||se)&&ne.error(q||se);let H=s||a;H&&((q||se)&&ne.error(""),ne.error(H))}if(se=se||new Zo(q),e.getExitProcess())return e.exit(1);if(e.getInternalMethods().hasParseCallback())return e.exit(1,se);throw se}},"fail");let u=[],f=!1;n.usage=(G,q)=>G===null?(f=!0,u=[],n):(f=!1,u.push([G,q||""]),n),n.getUsage=()=>u,n.getUsageDisabled=()=>f,n.getPositionalGroupName=()=>r("Positionals:");let m=[];n.example=(G,q)=>{m.push([G,q||""])};let h=[];n.command=o(function(q,se,ne,H,O=!1){ne&&(h=h.map(j=>(j[2]=!1,j))),h.push([q,se||"",ne,H,O])},"command"),n.getCommands=()=>h;let p={};n.describe=o(function(q,se){Array.isArray(q)?q.forEach(ne=>{n.describe(ne,se)}):typeof q=="object"?Object.keys(q).forEach(ne=>{n.describe(ne,q[ne])}):p[q]=se},"describe"),n.getDescriptions=()=>p;let A=[];n.epilog=G=>{A.push(G)};let E=!1,x;n.wrap=G=>{E=!0,x=G},n.getWrap=()=>t.getEnv("YARGS_DISABLE_WRAP")?null:(E||(x=re(),E=!0),x);let b="__yargsString__:";n.deferY18nLookup=G=>b+G,n.help=o(function(){if(k)return k;S();let q=e.customScriptName?e.$0:t.path.basename(e.$0),se=e.getDemandedOptions(),ne=e.getDemandedCommands(),H=e.getDeprecatedOptions(),O=e.getGroups(),j=e.getOptions(),J=[];J=J.concat(Object.keys(p)),J=J.concat(Object.keys(se)),J=J.concat(Object.keys(ne)),J=J.concat(Object.keys(j.default)),J=J.filter(N),J=Object.keys(J.reduce((Be,Je)=>(Je!=="_"&&(Be[Je]=!0),Be),{}));let le=n.getWrap(),Z=t.cliui({width:le,wrap:!!le});if(!f){if(u.length)u.forEach(Be=>{Z.div({text:`${Be[0].replace(/\$0/g,q)}`}),Be[1]&&Z.div({text:`${Be[1]}`,padding:[1,0,0,0]})}),Z.div();else if(h.length){let Be=null;ne._?Be=`${q} <${r("command")}>
`:Be=`${q} [${r("command")}]
`,Z.div(`${Be}`)}}if(h.length>1||h.length===1&&!h[0][2]){Z.div(r("Commands:"));let Be=e.getInternalMethods().getContext(),Je=Be.commands.length?`${Be.commands.join(" ")} `:"";e.getInternalMethods().getParserConfiguration()["sort-commands"]===!0&&(h=h.sort((it,ot)=>it[0].localeCompare(ot[0])));let ut=q?`${q} `:"";h.forEach(it=>{let ot=`${ut}${Je}${it[0].replace(/^\$0 ?/,"")}`;Z.span({text:ot,padding:[0,2,0,2],width:v(h,le,`${q}${Je}`)+4},{text:it[1]});let ie=[];it[2]&&ie.push(`[${r("default")}]`),it[3]&&it[3].length&&ie.push(`[${r("aliases:")} ${it[3].join(", ")}]`),it[4]&&(typeof it[4]=="string"?ie.push(`[${r("deprecated: %s",it[4])}]`):ie.push(`[${r("deprecated")}]`)),ie.length?Z.div({text:ie.join(" "),padding:[0,0,0,2],align:"right"}):Z.div()}),Z.div()}let ae=(Object.keys(j.alias)||[]).concat(Object.keys(e.parsed.newAliases)||[]);J=J.filter(Be=>!e.parsed.newAliases[Be]&&ae.every(Je=>(j.alias[Je]||[]).indexOf(Be)===-1));let ce=r("Options:");O[ce]||(O[ce]=[]),P(J,j.alias,O,ce);let Re=o(Be=>/^--/.test(nF(Be)),"isLongSwitch"),be=Object.keys(O).filter(Be=>O[Be].length>0).map(Be=>{let Je=O[Be].filter(N).map(ut=>{if(ae.includes(ut))return ut;for(let it=0,ot;(ot=ae[it])!==void 0;it++)if((j.alias[ot]||[]).includes(ut))return ot;return ut});return{groupName:Be,normalizedKeys:Je}}).filter(({normalizedKeys:Be})=>Be.length>0).map(({groupName:Be,normalizedKeys:Je})=>{let ut=Je.reduce((it,ot)=>(it[ot]=[ot].concat(j.alias[ot]||[]).map(ie=>Be===n.getPositionalGroupName()?ie:(/^[0-9]$/.test(ie)?j.boolean.includes(ot)?"-":"--":ie.length>1?"--":"-")+ie).sort((ie,Pe)=>Re(ie)===Re(Pe)?0:Re(ie)?1:-1).join(", "),it),{});return{groupName:Be,normalizedKeys:Je,switches:ut}});if(be.filter(({groupName:Be})=>Be!==n.getPositionalGroupName()).some(({normalizedKeys:Be,switches:Je})=>!Be.every(ut=>Re(Je[ut])))&&be.filter(({groupName:Be})=>Be!==n.getPositionalGroupName()).forEach(({normalizedKeys:Be,switches:Je})=>{Be.forEach(ut=>{Re(Je[ut])&&(Je[ut]=Zot(Je[ut],4))})}),be.forEach(({groupName:Be,normalizedKeys:Je,switches:ut})=>{Z.div(Be),Je.forEach(it=>{let ot=ut[it],ie=p[it]||"",Pe=null;ie.includes(b)&&(ie=r(ie.substring(b.length))),j.boolean.includes(it)&&(Pe=`[${r("boolean")}]`),j.count.includes(it)&&(Pe=`[${r("count")}]`),j.string.includes(it)&&(Pe=`[${r("string")}]`),j.normalize.includes(it)&&(Pe=`[${r("string")}]`),j.array.includes(it)&&(Pe=`[${r("array")}]`),j.number.includes(it)&&(Pe=`[${r("number")}]`);let Ae=o(ee=>typeof ee=="string"?`[${r("deprecated: %s",ee)}]`:`[${r("deprecated")}]`,"deprecatedExtra"),Ge=[it in H?Ae(H[it]):null,Pe,it in se?`[${r("required")}]`:null,j.choices&&j.choices[it]?`[${r("choices:")} ${n.stringifiedValues(j.choices[it])}]`:null,W(j.default[it],j.defaultDescription[it])].filter(Boolean).join(" ");Z.span({text:nF(ot),padding:[0,2,0,2+Z3e(ot)],width:v(ut,le)+4},ie);let z=e.getInternalMethods().getUsageConfiguration()["hide-types"]===!0;Ge&&!z?Z.div({text:Ge,padding:[0,0,0,2],align:"right"}):Z.div()}),Z.div()}),m.length&&(Z.div(r("Examples:")),m.forEach(Be=>{Be[0]=Be[0].replace(/\$0/g,q)}),m.forEach(Be=>{Be[1]===""?Z.div({text:Be[0],padding:[0,2,0,2]}):Z.div({text:Be[0],padding:[0,2,0,2],width:v(m,le)+4},{text:Be[1]})}),Z.div()),A.length>0){let Be=A.map(Je=>Je.replace(/\$0/g,q)).join(`
`);Z.div(`${Be}
`)}return Z.toString().replace(/\s*$/,"")},"help");function v(G,q,se){let ne=0;return Array.isArray(G)||(G=Object.values(G).map(H=>[H])),G.forEach(H=>{ne=Math.max(t.stringWidth(se?`${se} ${nF(H[0])}`:nF(H[0]))+Z3e(H[0]),ne)}),q&&(ne=Math.min(ne,parseInt((q*.5).toString(),10))),ne}o(v,"maxWidth");function S(){let G=e.getDemandedOptions(),q=e.getOptions();(Object.keys(q.alias)||[]).forEach(se=>{q.alias[se].forEach(ne=>{p[ne]&&n.describe(se,p[ne]),ne in G&&e.demandOption(se,G[ne]),q.boolean.includes(ne)&&e.boolean(se),q.count.includes(ne)&&e.count(se),q.string.includes(ne)&&e.string(se),q.normalize.includes(ne)&&e.normalize(se),q.array.includes(ne)&&e.array(se),q.number.includes(ne)&&e.number(se)})})}o(S,"normalizeAliases");let k;n.cacheHelpMessage=function(){k=this.help()},n.clearCachedHelpMessage=function(){k=void 0},n.hasCachedHelpMessage=function(){return!!k};function P(G,q,se,ne){let H=[],O=null;return Object.keys(se).forEach(j=>{H=H.concat(se[j])}),G.forEach(j=>{O=[j].concat(q[j]),O.some(J=>H.indexOf(J)!==-1)||se[ne].push(j)}),H}o(P,"addUngroupedKeys");function N(G){return e.getOptions().hiddenOptions.indexOf(G)<0||e.parsed.argv[e.getOptions().showHiddenOpt]}o(N,"filterHiddenOptions"),n.showHelp=G=>{let q=e.getInternalMethods().getLoggerInstance();G||(G="error"),(typeof G=="function"?G:q[G])(n.help())},n.functionDescription=G=>["(",G.name?t.Parser.decamelize(G.name,"-"):r("generated-value"),")"].join(""),n.stringifiedValues=o(function(q,se){let ne="",H=se||", ",O=[].concat(q);return!q||!O.length||O.forEach(j=>{ne.length&&(ne+=H),ne+=JSON.stringify(j)}),ne},"stringifiedValues");function W(G,q){let se=`[${r("default:")} `;if(G===void 0&&!q)return null;if(q)se+=q;else switch(typeof G){case"string":se+=`"${G}"`;break;case"object":se+=JSON.stringify(G);break;default:se+=G}return`${se}]`}o(W,"defaultString");function re(){return t.process.stdColumns?Math.min(80,t.process.stdColumns):80}o(re,"windowWidth");let ge=null;n.version=G=>{ge=G},n.showVersion=G=>{let q=e.getInternalMethods().getLoggerInstance();G||(G="error"),(typeof G=="function"?G:q[G])(ge)},n.reset=o(function(q){return s=null,c=!1,u=[],f=!1,A=[],m=[],h=[],p=c5(p,se=>!q[se]),n},"reset");let te=[];return n.freeze=o(function(){te.push({failMessage:s,failureOutput:c,usages:u,usageDisabled:f,epilogs:A,examples:m,commands:h,descriptions:p})},"freeze"),n.unfreeze=o(function(q=!1){let se=te.pop();se&&(q?(p={...se.descriptions,...p},h=[...se.commands,...h],u=[...se.usages,...u],m=[...se.examples,...m],A=[...se.epilogs,...A]):{failMessage:s,failureOutput:c,usages:u,usageDisabled:f,epilogs:A,examples:m,commands:h,descriptions:p}=se)},"unfreeze"),n}o(eCe,"usage");function CJ(e){return typeof e=="object"}o(CJ,"isIndentedText");function Zot(e,t){return CJ(e)?{text:e.text,indentation:e.indentation+t}:{text:e,indentation:t}}o(Zot,"addIndentation");function Z3e(e){return CJ(e)?e.indentation:0}o(Z3e,"getIndentation");function nF(e){return CJ(e)?e.text:e}o(nF,"getText");d();d();var tCe=`###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.bashrc
#    or {{app_path}} {{completion_command}} >> ~/.bash_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
    local cur_word args type_list

    cur_word="\${COMP_WORDS[COMP_CWORD]}"
    args=("\${COMP_WORDS[@]}")

    # ask yargs to generate completions.
    type_list=$({{app_path}} --get-yargs-completions "\${args[@]}")

    COMPREPLY=( $(compgen -W "\${type_list}" -- \${cur_word}) )

    # if no match was found, fall back to filename completion
    if [ \${#COMPREPLY[@]} -eq 0 ]; then
      COMPREPLY=()
    fi

    return 0
}
complete -o bashdefault -o default -F _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`,rCe=`#compdef {{app_name}}
###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.zshrc
#    or {{app_path}} {{completion_command}} >> ~/.zprofile on OSX.
#
_{{app_name}}_yargs_completions()
{
  local reply
  local si=$IFS
  IFS=$'
' reply=($(COMP_CWORD="$((CURRENT-1))" COMP_LINE="$BUFFER" COMP_POINT="$CURSOR" {{app_path}} --get-yargs-completions "\${words[@]}"))
  IFS=$si
  _describe 'values' reply
}
compdef _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`;var EJ=class{static{o(this,"Completion")}constructor(t,r,n,i){var s,a,l;this.yargs=t,this.usage=r,this.command=n,this.shim=i,this.completionKey="get-yargs-completions",this.aliases=null,this.customCompletionFunction=null,this.indexAfterLastReset=0,this.zshShell=(l=((s=this.shim.getEnv("SHELL"))===null||s===void 0?void 0:s.includes("zsh"))||((a=this.shim.getEnv("ZSH_NAME"))===null||a===void 0?void 0:a.includes("zsh")))!==null&&l!==void 0?l:!1}defaultCompletion(t,r,n,i){let s=this.command.getCommandHandlers();for(let l=0,c=t.length;l<c;++l)if(s[t[l]]&&s[t[l]].builder){let u=s[t[l]].builder;if(rF(u)){this.indexAfterLastReset=l+1;let f=this.yargs.getInternalMethods().reset();return u(f,!0),f.argv}}let a=[];this.commandCompletions(a,t,n),this.optionCompletions(a,t,r,n),this.choicesFromOptionsCompletions(a,t,r,n),this.choicesFromPositionalsCompletions(a,t,r,n),i(null,a)}commandCompletions(t,r,n){let i=this.yargs.getInternalMethods().getContext().commands;!n.match(/^-/)&&i[i.length-1]!==n&&!this.previousArgHasChoices(r)&&this.usage.getCommands().forEach(s=>{let a=l5(s[0]).cmd;if(r.indexOf(a)===-1)if(!this.zshShell)t.push(a);else{let l=s[1]||"";t.push(a.replace(/:/g,"\\:")+":"+l)}})}optionCompletions(t,r,n,i){if((i.match(/^-/)||i===""&&t.length===0)&&!this.previousArgHasChoices(r)){let s=this.yargs.getOptions(),a=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[];Object.keys(s.key).forEach(l=>{let c=!!s.configuration["boolean-negation"]&&s.boolean.includes(l);!a.includes(l)&&!s.hiddenOptions.includes(l)&&!this.argsContainKey(r,l,c)&&this.completeOptionKey(l,t,i,c&&!!s.default[l])})}}choicesFromOptionsCompletions(t,r,n,i){if(this.previousArgHasChoices(r)){let s=this.getPreviousArgChoices(r);s&&s.length>0&&t.push(...s.map(a=>a.replace(/:/g,"\\:")))}}choicesFromPositionalsCompletions(t,r,n,i){if(i===""&&t.length>0&&this.previousArgHasChoices(r))return;let s=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[],a=Math.max(this.indexAfterLastReset,this.yargs.getInternalMethods().getContext().commands.length+1),l=s[n._.length-a-1];if(!l)return;let c=this.yargs.getOptions().choices[l]||[];for(let u of c)u.startsWith(i)&&t.push(u.replace(/:/g,"\\:"))}getPreviousArgChoices(t){if(t.length<1)return;let r=t[t.length-1],n="";if(!r.startsWith("-")&&t.length>1&&(n=r,r=t[t.length-2]),!r.startsWith("-"))return;let i=r.replace(/^-+/,""),s=this.yargs.getOptions(),a=[i,...this.yargs.getAliases()[i]||[]],l;for(let c of a)if(Object.prototype.hasOwnProperty.call(s.key,c)&&Array.isArray(s.choices[c])){l=s.choices[c];break}if(l)return l.filter(c=>!n||c.startsWith(n))}previousArgHasChoices(t){let r=this.getPreviousArgChoices(t);return r!==void 0&&r.length>0}argsContainKey(t,r,n){let i=o(s=>t.indexOf((/^[^0-9]$/.test(s)?"-":"--")+s)!==-1,"argsContains");if(i(r)||n&&i(`no-${r}`))return!0;if(this.aliases){for(let s of this.aliases[r])if(i(s))return!0}return!1}completeOptionKey(t,r,n,i){var s,a,l,c;let u=t;if(this.zshShell){let p=this.usage.getDescriptions(),A=(a=(s=this===null||this===void 0?void 0:this.aliases)===null||s===void 0?void 0:s[t])===null||a===void 0?void 0:a.find(b=>{let v=p[b];return typeof v=="string"&&v.length>0}),E=A?p[A]:void 0,x=(c=(l=p[t])!==null&&l!==void 0?l:E)!==null&&c!==void 0?c:"";u=`${t.replace(/:/g,"\\:")}:${x.replace("__yargsString__:","").replace(/(\r\n|\n|\r)/gm," ")}`}let f=o(p=>/^--/.test(p),"startsByTwoDashes"),m=o(p=>/^[^0-9]$/.test(p),"isShortOption"),h=!f(n)&&m(t)?"-":"--";r.push(h+u),i&&r.push(h+"no-"+u)}customCompletion(t,r,n,i){if(L0(this.customCompletionFunction,null,this.shim),tst(this.customCompletionFunction)){let s=this.customCompletionFunction(n,r);return es(s)?s.then(a=>{this.shim.process.nextTick(()=>{i(null,a)})}).catch(a=>{this.shim.process.nextTick(()=>{i(a,void 0)})}):i(null,s)}else return rst(this.customCompletionFunction)?this.customCompletionFunction(n,r,(s=i)=>this.defaultCompletion(t,r,n,s),s=>{i(null,s)}):this.customCompletionFunction(n,r,s=>{i(null,s)})}getCompletion(t,r){let n=t.length?t[t.length-1]:"",i=this.yargs.parse(t,!0),s=this.customCompletionFunction?a=>this.customCompletion(t,a,n,r):a=>this.defaultCompletion(t,a,n,r);return es(i)?i.then(s):s(i)}generateCompletionScript(t,r){let n=this.zshShell?rCe:tCe,i=this.shim.path.basename(t);return t.match(/\.js$/)&&(t=`./${t}`),n=n.replace(/{{app_name}}/g,i),n=n.replace(/{{completion_command}}/g,r),n.replace(/{{app_path}}/g,t)}registerFunction(t){this.customCompletionFunction=t}setParsed(t){this.aliases=t.aliases}};function nCe(e,t,r,n){return new EJ(e,t,r,n)}o(nCe,"completion");function tst(e){return e.length<3}o(tst,"isSyncCompletionFunction");function rst(e){return e.length>3}o(rst,"isFallbackCompletionFunction");d();d();function iCe(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;let r=[],n;for(n=0;n<=t.length;n++)r[n]=[n];let i;for(i=0;i<=e.length;i++)r[0][i]=i;for(n=1;n<=t.length;n++)for(i=1;i<=e.length;i++)t.charAt(n-1)===e.charAt(i-1)?r[n][i]=r[n-1][i-1]:n>1&&i>1&&t.charAt(n-2)===e.charAt(i-1)&&t.charAt(n-1)===e.charAt(i-2)?r[n][i]=r[n-2][i-2]+1:r[n][i]=Math.min(r[n-1][i-1]+1,Math.min(r[n][i-1]+1,r[n-1][i]+1));return r[t.length][e.length]}o(iCe,"levenshtein");var oCe=["$0","--","_"];function sCe(e,t,r){let n=r.y18n.__,i=r.y18n.__n,s={};s.nonOptionCount=o(function(m){let h=e.getDemandedCommands(),A=m._.length+(m["--"]?m["--"].length:0)-e.getInternalMethods().getContext().commands.length;h._&&(A<h._.min||A>h._.max)&&(A<h._.min?h._.minMsg!==void 0?t.fail(h._.minMsg?h._.minMsg.replace(/\$0/g,A.toString()).replace(/\$1/,h._.min.toString()):null):t.fail(i("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",A,A.toString(),h._.min.toString())):A>h._.max&&(h._.maxMsg!==void 0?t.fail(h._.maxMsg?h._.maxMsg.replace(/\$0/g,A.toString()).replace(/\$1/,h._.max.toString()):null):t.fail(i("Too many non-option arguments: got %s, maximum of %s","Too many non-option arguments: got %s, maximum of %s",A,A.toString(),h._.max.toString()))))},"nonOptionCount"),s.positionalCount=o(function(m,h){h<m&&t.fail(i("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",h,h+"",m+""))},"positionalCount"),s.requiredArguments=o(function(m,h){let p=null;for(let A of Object.keys(h))(!Object.prototype.hasOwnProperty.call(m,A)||typeof m[A]>"u")&&(p=p||{},p[A]=h[A]);if(p){let A=[];for(let x of Object.keys(p)){let b=p[x];b&&A.indexOf(b)<0&&A.push(b)}let E=A.length?`
${A.join(`
`)}`:"";t.fail(i("Missing required argument: %s","Missing required arguments: %s",Object.keys(p).length,Object.keys(p).join(", ")+E))}},"requiredArguments"),s.unknownArguments=o(function(m,h,p,A,E=!0){var x;let b=e.getInternalMethods().getCommandInstance().getCommands(),v=[],S=e.getInternalMethods().getContext();if(Object.keys(m).forEach(k=>{!oCe.includes(k)&&!Object.prototype.hasOwnProperty.call(p,k)&&!Object.prototype.hasOwnProperty.call(e.getInternalMethods().getParseContext(),k)&&!s.isValidAndSomeAliasIsNotNew(k,h)&&v.push(k)}),E&&(S.commands.length>0||b.length>0||A)&&m._.slice(S.commands.length).forEach(k=>{b.includes(""+k)||v.push(""+k)}),E){let P=((x=e.getDemandedCommands()._)===null||x===void 0?void 0:x.max)||0,N=S.commands.length+P;N<m._.length&&m._.slice(N).forEach(W=>{W=String(W),!S.commands.includes(W)&&!v.includes(W)&&v.push(W)})}v.length&&t.fail(i("Unknown argument: %s","Unknown arguments: %s",v.length,v.map(k=>k.trim()?k:`"${k}"`).join(", ")))},"unknownArguments"),s.unknownCommands=o(function(m){let h=e.getInternalMethods().getCommandInstance().getCommands(),p=[],A=e.getInternalMethods().getContext();return(A.commands.length>0||h.length>0)&&m._.slice(A.commands.length).forEach(E=>{h.includes(""+E)||p.push(""+E)}),p.length>0?(t.fail(i("Unknown command: %s","Unknown commands: %s",p.length,p.join(", "))),!0):!1},"unknownCommands"),s.isValidAndSomeAliasIsNotNew=o(function(m,h){if(!Object.prototype.hasOwnProperty.call(h,m))return!1;let p=e.parsed.newAliases;return[m,...h[m]].some(A=>!Object.prototype.hasOwnProperty.call(p,A)||!p[m])},"isValidAndSomeAliasIsNotNew"),s.limitedChoices=o(function(m){let h=e.getOptions(),p={};if(!Object.keys(h.choices).length)return;Object.keys(m).forEach(x=>{oCe.indexOf(x)===-1&&Object.prototype.hasOwnProperty.call(h.choices,x)&&[].concat(m[x]).forEach(b=>{h.choices[x].indexOf(b)===-1&&b!==void 0&&(p[x]=(p[x]||[]).concat(b))})});let A=Object.keys(p);if(!A.length)return;let E=n("Invalid values:");A.forEach(x=>{E+=`
  ${n("Argument: %s, Given: %s, Choices: %s",x,t.stringifiedValues(p[x]),t.stringifiedValues(h.choices[x]))}`}),t.fail(E)},"limitedChoices");let a={};s.implies=o(function(m,h){Br("<string|object> [array|number|string]",[m,h],arguments.length),typeof m=="object"?Object.keys(m).forEach(p=>{s.implies(p,m[p])}):(e.global(m),a[m]||(a[m]=[]),Array.isArray(h)?h.forEach(p=>s.implies(m,p)):(L0(h,void 0,r),a[m].push(h)))},"implies"),s.getImplied=o(function(){return a},"getImplied");function l(f,m){let h=Number(m);return m=isNaN(h)?m:h,typeof m=="number"?m=f._.length>=m:m.match(/^--no-.+/)?(m=m.match(/^--no-(.+)/)[1],m=!Object.prototype.hasOwnProperty.call(f,m)):m=Object.prototype.hasOwnProperty.call(f,m),m}o(l,"keyExists"),s.implications=o(function(m){let h=[];if(Object.keys(a).forEach(p=>{let A=p;(a[p]||[]).forEach(E=>{let x=A,b=E;x=l(m,x),E=l(m,E),x&&!E&&h.push(` ${A} -> ${b}`)})}),h.length){let p=`${n("Implications failed:")}
`;h.forEach(A=>{p+=A}),t.fail(p)}},"implications");let c={};s.conflicts=o(function(m,h){Br("<string|object> [array|string]",[m,h],arguments.length),typeof m=="object"?Object.keys(m).forEach(p=>{s.conflicts(p,m[p])}):(e.global(m),c[m]||(c[m]=[]),Array.isArray(h)?h.forEach(p=>s.conflicts(m,p)):c[m].push(h))},"conflicts"),s.getConflicting=()=>c,s.conflicting=o(function(m){Object.keys(m).forEach(h=>{c[h]&&c[h].forEach(p=>{p&&m[h]!==void 0&&m[p]!==void 0&&t.fail(n("Arguments %s and %s are mutually exclusive",h,p))})}),e.getInternalMethods().getParserConfiguration()["strip-dashed"]&&Object.keys(c).forEach(h=>{c[h].forEach(p=>{p&&m[r.Parser.camelCase(h)]!==void 0&&m[r.Parser.camelCase(p)]!==void 0&&t.fail(n("Arguments %s and %s are mutually exclusive",h,p))})})},"conflictingFn"),s.recommendCommands=o(function(m,h){h=h.sort((x,b)=>b.length-x.length);let A=null,E=1/0;for(let x=0,b;(b=h[x])!==void 0;x++){let v=iCe(m,b);v<=3&&v<E&&(E=v,A=b)}A&&t.fail(n("Did you mean %s?",A))},"recommendCommands"),s.reset=o(function(m){return a=c5(a,h=>!m[h]),c=c5(c,h=>!m[h]),s},"reset");let u=[];return s.freeze=o(function(){u.push({implied:a,conflicting:c})},"freeze"),s.unfreeze=o(function(){let m=u.pop();L0(m,void 0,r),{implied:a,conflicting:c}=m},"unfreeze"),s}o(sCe,"validation");d();var xJ=[],rT;function iF(e,t,r,n){rT=n;let i={};if(Object.prototype.hasOwnProperty.call(e,"extends")){if(typeof e.extends!="string")return i;let s=/\.json|\..*rc$/.test(e.extends),a=null;if(s)a=ist(t,e.extends);else try{a=require.resolve(e.extends)}catch{return e}nst(a),xJ.push(a),i=s?JSON.parse(rT.readFileSync(a,"utf8")):require(e.extends),delete e.extends,i=iF(i,rT.path.dirname(a),r,rT)}return xJ=[],r?aCe(i,e):Object.assign({},i,e)}o(iF,"applyExtends");function nst(e){if(xJ.indexOf(e)>-1)throw new Zo(`Circular extended configurations: '${e}'.`)}o(nst,"checkForCircularExtends");function ist(e,t){return rT.path.resolve(e,t)}o(ist,"getPathToDefaultConfig");function aCe(e,t){let r={};function n(i){return i&&typeof i=="object"&&!Array.isArray(i)}o(n,"isObject"),Object.assign(r,e);for(let i of Object.keys(t))n(t[i])&&n(r[i])?r[i]=aCe(e[i],t[i]):r[i]=t[i];return r}o(aCe,"mergeDeep");var Rr=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},he=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},ra,RC,nT,$f,wu,oF,f5,DC,sF,zf,aF,Yf,rp,_u,Kf,lF,gb,dl,Gr,cF,uF,Su,PC,Ab,NC,d5,fF,Tn,FC,LC,QC,Nn,dF,np,Os;function _Ce(e){return(t=[],r=e.process.cwd(),n)=>{let i=new DJ(t,r,n,e);return Object.defineProperty(i,"argv",{get:o(()=>i.parse(),"get"),enumerable:!0}),i.help(),i.version(),i}}o(_Ce,"YargsFactory");var lCe=Symbol("copyDoubleDash"),cCe=Symbol("copyDoubleDash"),vJ=Symbol("deleteFromParserHintObject"),uCe=Symbol("emitWarning"),fCe=Symbol("freeze"),dCe=Symbol("getDollarZero"),MC=Symbol("getParserConfiguration"),mCe=Symbol("getUsageConfiguration"),bJ=Symbol("guessLocale"),hCe=Symbol("guessVersion"),pCe=Symbol("parsePositionalNumbers"),IJ=Symbol("pkgUp"),m5=Symbol("populateParserHintArray"),yb=Symbol("populateParserHintSingleValueDictionary"),TJ=Symbol("populateParserHintArrayDictionary"),wJ=Symbol("populateParserHintDictionary"),_J=Symbol("sanitizeKey"),SJ=Symbol("setKey"),BJ=Symbol("unfreeze"),gCe=Symbol("validateAsync"),ACe=Symbol("getCommandInstance"),yCe=Symbol("getContext"),CCe=Symbol("getHasOutput"),ECe=Symbol("getLoggerInstance"),xCe=Symbol("getParseContext"),vCe=Symbol("getUsageInstance"),bCe=Symbol("getValidationInstance"),mF=Symbol("hasParseCallback"),ICe=Symbol("isGlobalContext"),OC=Symbol("postProcess"),TCe=Symbol("rebase"),kJ=Symbol("reset"),iT=Symbol("runYargsParserAndExecuteCommands"),RJ=Symbol("runValidation"),wCe=Symbol("setHasOutput"),UC=Symbol("kTrackManuallySetKeys"),DJ=class{static{o(this,"YargsInstance")}constructor(t=[],r,n,i){this.customScriptName=!1,this.parsed=!1,ra.set(this,void 0),RC.set(this,void 0),nT.set(this,{commands:[],fullCommands:[]}),$f.set(this,null),wu.set(this,null),oF.set(this,"show-hidden"),f5.set(this,null),DC.set(this,!0),sF.set(this,{}),zf.set(this,!0),aF.set(this,[]),Yf.set(this,void 0),rp.set(this,{}),_u.set(this,!1),Kf.set(this,null),lF.set(this,!0),gb.set(this,void 0),dl.set(this,""),Gr.set(this,void 0),cF.set(this,void 0),uF.set(this,{}),Su.set(this,null),PC.set(this,null),Ab.set(this,{}),NC.set(this,{}),d5.set(this,void 0),fF.set(this,!1),Tn.set(this,void 0),FC.set(this,!1),LC.set(this,!1),QC.set(this,!1),Nn.set(this,void 0),dF.set(this,{}),np.set(this,null),Os.set(this,void 0),Rr(this,Tn,i,"f"),Rr(this,d5,t,"f"),Rr(this,RC,r,"f"),Rr(this,cF,n,"f"),Rr(this,Yf,new tF(this),"f"),this.$0=this[dCe](),this[kJ](),Rr(this,ra,he(this,ra,"f"),"f"),Rr(this,Nn,he(this,Nn,"f"),"f"),Rr(this,Os,he(this,Os,"f"),"f"),Rr(this,Gr,he(this,Gr,"f"),"f"),he(this,Gr,"f").showHiddenOpt=he(this,oF,"f"),Rr(this,gb,this[cCe](),"f")}addHelpOpt(t,r){let n="help";return Br("[string|boolean] [string]",[t,r],arguments.length),he(this,Kf,"f")&&(this[vJ](he(this,Kf,"f")),Rr(this,Kf,null,"f")),t===!1&&r===void 0?this:(Rr(this,Kf,typeof t=="string"?t:n,"f"),this.boolean(he(this,Kf,"f")),this.describe(he(this,Kf,"f"),r||he(this,Nn,"f").deferY18nLookup("Show help")),this)}help(t,r){return this.addHelpOpt(t,r)}addShowHiddenOpt(t,r){if(Br("[string|boolean] [string]",[t,r],arguments.length),t===!1&&r===void 0)return this;let n=typeof t=="string"?t:he(this,oF,"f");return this.boolean(n),this.describe(n,r||he(this,Nn,"f").deferY18nLookup("Show hidden options")),he(this,Gr,"f").showHiddenOpt=n,this}showHidden(t,r){return this.addShowHiddenOpt(t,r)}alias(t,r){return Br("<object|string|array> [string|array]",[t,r],arguments.length),this[TJ](this.alias.bind(this),"alias",t,r),this}array(t){return Br("<array|string>",[t],arguments.length),this[m5]("array",t),this[UC](t),this}boolean(t){return Br("<array|string>",[t],arguments.length),this[m5]("boolean",t),this[UC](t),this}check(t,r){return Br("<function> [boolean]",[t,r],arguments.length),this.middleware((n,i)=>kC(()=>t(n,i.getOptions()),s=>(s?(typeof s=="string"||s instanceof Error)&&he(this,Nn,"f").fail(s.toString(),s):he(this,Nn,"f").fail(he(this,Tn,"f").y18n.__("Argument check failed: %s",t.toString())),n),s=>(he(this,Nn,"f").fail(s.message?s.message:s.toString(),s),n)),!1,r),this}choices(t,r){return Br("<object|string|array> [string|array]",[t,r],arguments.length),this[TJ](this.choices.bind(this),"choices",t,r),this}coerce(t,r){if(Br("<object|string|array> [function]",[t,r],arguments.length),Array.isArray(t)){if(!r)throw new Zo("coerce callback must be provided");for(let n of t)this.coerce(n,r);return this}else if(typeof t=="object"){for(let n of Object.keys(t))this.coerce(n,t[n]);return this}if(!r)throw new Zo("coerce callback must be provided");return he(this,Gr,"f").key[t]=!0,he(this,Yf,"f").addCoerceMiddleware((n,i)=>{let s;return Object.prototype.hasOwnProperty.call(n,t)?kC(()=>(s=i.getAliases(),r(n[t])),l=>{n[t]=l;let c=i.getInternalMethods().getParserConfiguration()["strip-aliased"];if(s[t]&&c!==!0)for(let u of s[t])n[u]=l;return n},l=>{throw new Zo(l.message)}):n},t),this}conflicts(t,r){return Br("<string|object> [string|array]",[t,r],arguments.length),he(this,Os,"f").conflicts(t,r),this}config(t="config",r,n){return Br("[object|string] [string|function] [function]",[t,r,n],arguments.length),typeof t=="object"&&!Array.isArray(t)?(t=iF(t,he(this,RC,"f"),this[MC]()["deep-merge-config"]||!1,he(this,Tn,"f")),he(this,Gr,"f").configObjects=(he(this,Gr,"f").configObjects||[]).concat(t),this):(typeof r=="function"&&(n=r,r=void 0),this.describe(t,r||he(this,Nn,"f").deferY18nLookup("Path to JSON config file")),(Array.isArray(t)?t:[t]).forEach(i=>{he(this,Gr,"f").config[i]=n||!0}),this)}completion(t,r,n){return Br("[string] [string|boolean|function] [function]",[t,r,n],arguments.length),typeof r=="function"&&(n=r,r=void 0),Rr(this,wu,t||he(this,wu,"f")||"completion","f"),!r&&r!==!1&&(r="generate completion script"),this.command(he(this,wu,"f"),r),n&&he(this,$f,"f").registerFunction(n),this}command(t,r,n,i,s,a){return Br("<string|array|object> [string|boolean] [function|object] [function] [array] [boolean|string]",[t,r,n,i,s,a],arguments.length),he(this,ra,"f").addHandler(t,r,n,i,s,a),this}commands(t,r,n,i,s,a){return this.command(t,r,n,i,s,a)}commandDir(t,r){Br("<string> [object]",[t,r],arguments.length);let n=he(this,cF,"f")||he(this,Tn,"f").require;return he(this,ra,"f").addDirectory(t,n,he(this,Tn,"f").getCallerFile(),r),this}count(t){return Br("<array|string>",[t],arguments.length),this[m5]("count",t),this[UC](t),this}default(t,r,n){return Br("<object|string|array> [*] [string]",[t,r,n],arguments.length),n&&(gJ(t,he(this,Tn,"f")),he(this,Gr,"f").defaultDescription[t]=n),typeof r=="function"&&(gJ(t,he(this,Tn,"f")),he(this,Gr,"f").defaultDescription[t]||(he(this,Gr,"f").defaultDescription[t]=he(this,Nn,"f").functionDescription(r)),r=r.call()),this[yb](this.default.bind(this),"default",t,r),this}defaults(t,r,n){return this.default(t,r,n)}demandCommand(t=1,r,n,i){return Br("[number] [number|string] [string|null|undefined] [string|null|undefined]",[t,r,n,i],arguments.length),typeof r!="number"&&(n=r,r=1/0),this.global("_",!1),he(this,Gr,"f").demandedCommands._={min:t,max:r,minMsg:n,maxMsg:i},this}demand(t,r,n){return Array.isArray(r)?(r.forEach(i=>{L0(n,!0,he(this,Tn,"f")),this.demandOption(i,n)}),r=1/0):typeof r!="number"&&(n=r,r=1/0),typeof t=="number"?(L0(n,!0,he(this,Tn,"f")),this.demandCommand(t,r,n,n)):Array.isArray(t)?t.forEach(i=>{L0(n,!0,he(this,Tn,"f")),this.demandOption(i,n)}):typeof n=="string"?this.demandOption(t,n):(n===!0||typeof n>"u")&&this.demandOption(t),this}demandOption(t,r){return Br("<object|string|array> [string]",[t,r],arguments.length),this[yb](this.demandOption.bind(this),"demandedOptions",t,r),this}deprecateOption(t,r){return Br("<string> [string|boolean]",[t,r],arguments.length),he(this,Gr,"f").deprecatedOptions[t]=r,this}describe(t,r){return Br("<object|string|array> [string]",[t,r],arguments.length),this[SJ](t,!0),he(this,Nn,"f").describe(t,r),this}detectLocale(t){return Br("<boolean>",[t],arguments.length),Rr(this,DC,t,"f"),this}env(t){return Br("[string|boolean]",[t],arguments.length),t===!1?delete he(this,Gr,"f").envPrefix:he(this,Gr,"f").envPrefix=t||"",this}epilogue(t){return Br("<string>",[t],arguments.length),he(this,Nn,"f").epilog(t),this}epilog(t){return this.epilogue(t)}example(t,r){return Br("<string|array> [string]",[t,r],arguments.length),Array.isArray(t)?t.forEach(n=>this.example(...n)):he(this,Nn,"f").example(t,r),this}exit(t,r){Rr(this,_u,!0,"f"),Rr(this,f5,r,"f"),he(this,zf,"f")&&he(this,Tn,"f").process.exit(t)}exitProcess(t=!0){return Br("[boolean]",[t],arguments.length),Rr(this,zf,t,"f"),this}fail(t){if(Br("<function|boolean>",[t],arguments.length),typeof t=="boolean"&&t!==!1)throw new Zo("Invalid first argument. Expected function or boolean 'false'");return he(this,Nn,"f").failFn(t),this}getAliases(){return this.parsed?this.parsed.aliases:{}}async getCompletion(t,r){return Br("<array> [function]",[t,r],arguments.length),r?he(this,$f,"f").getCompletion(t,r):new Promise((n,i)=>{he(this,$f,"f").getCompletion(t,(s,a)=>{s?i(s):n(a)})})}getDemandedOptions(){return Br([],0),he(this,Gr,"f").demandedOptions}getDemandedCommands(){return Br([],0),he(this,Gr,"f").demandedCommands}getDeprecatedOptions(){return Br([],0),he(this,Gr,"f").deprecatedOptions}getDetectLocale(){return he(this,DC,"f")}getExitProcess(){return he(this,zf,"f")}getGroups(){return Object.assign({},he(this,rp,"f"),he(this,NC,"f"))}getHelp(){if(Rr(this,_u,!0,"f"),!he(this,Nn,"f").hasCachedHelpMessage()){if(!this.parsed){let r=this[iT](he(this,d5,"f"),void 0,void 0,0,!0);if(es(r))return r.then(()=>he(this,Nn,"f").help())}let t=he(this,ra,"f").runDefaultBuilderOn(this);if(es(t))return t.then(()=>he(this,Nn,"f").help())}return Promise.resolve(he(this,Nn,"f").help())}getOptions(){return he(this,Gr,"f")}getStrict(){return he(this,FC,"f")}getStrictCommands(){return he(this,LC,"f")}getStrictOptions(){return he(this,QC,"f")}global(t,r){return Br("<string|array> [boolean]",[t,r],arguments.length),t=[].concat(t),r!==!1?he(this,Gr,"f").local=he(this,Gr,"f").local.filter(n=>t.indexOf(n)===-1):t.forEach(n=>{he(this,Gr,"f").local.includes(n)||he(this,Gr,"f").local.push(n)}),this}group(t,r){Br("<string|array> <string>",[t,r],arguments.length);let n=he(this,NC,"f")[r]||he(this,rp,"f")[r];he(this,NC,"f")[r]&&delete he(this,NC,"f")[r];let i={};return he(this,rp,"f")[r]=(n||[]).concat(t).filter(s=>i[s]?!1:i[s]=!0),this}hide(t){return Br("<string>",[t],arguments.length),he(this,Gr,"f").hiddenOptions.push(t),this}implies(t,r){return Br("<string|object> [number|string|array]",[t,r],arguments.length),he(this,Os,"f").implies(t,r),this}locale(t){return Br("[string]",[t],arguments.length),t===void 0?(this[bJ](),he(this,Tn,"f").y18n.getLocale()):(Rr(this,DC,!1,"f"),he(this,Tn,"f").y18n.setLocale(t),this)}middleware(t,r,n){return he(this,Yf,"f").addMiddleware(t,!!r,n)}nargs(t,r){return Br("<string|object|array> [number]",[t,r],arguments.length),this[yb](this.nargs.bind(this),"narg",t,r),this}normalize(t){return Br("<array|string>",[t],arguments.length),this[m5]("normalize",t),this}number(t){return Br("<array|string>",[t],arguments.length),this[m5]("number",t),this[UC](t),this}option(t,r){if(Br("<string|object> [object]",[t,r],arguments.length),typeof t=="object")Object.keys(t).forEach(n=>{this.options(n,t[n])});else{typeof r!="object"&&(r={}),this[UC](t),he(this,np,"f")&&(t==="version"||r?.alias==="version")&&this[uCe](['"version" is a reserved word.',"Please do one of the following:",'- Disable version with `yargs.version(false)` if using "version" as an option',"- Use the built-in `yargs.version` method instead (if applicable)","- Use a different option key","https://yargs.js.org/docs/#api-reference-version"].join(`
`),void 0,"versionWarning"),he(this,Gr,"f").key[t]=!0,r.alias&&this.alias(t,r.alias);let n=r.deprecate||r.deprecated;n&&this.deprecateOption(t,n);let i=r.demand||r.required||r.require;i&&this.demand(t,i),r.demandOption&&this.demandOption(t,typeof r.demandOption=="string"?r.demandOption:void 0),r.conflicts&&this.conflicts(t,r.conflicts),"default"in r&&this.default(t,r.default),r.implies!==void 0&&this.implies(t,r.implies),r.nargs!==void 0&&this.nargs(t,r.nargs),r.config&&this.config(t,r.configParser),r.normalize&&this.normalize(t),r.choices&&this.choices(t,r.choices),r.coerce&&this.coerce(t,r.coerce),r.group&&this.group(t,r.group),(r.boolean||r.type==="boolean")&&(this.boolean(t),r.alias&&this.boolean(r.alias)),(r.array||r.type==="array")&&(this.array(t),r.alias&&this.array(r.alias)),(r.number||r.type==="number")&&(this.number(t),r.alias&&this.number(r.alias)),(r.string||r.type==="string")&&(this.string(t),r.alias&&this.string(r.alias)),(r.count||r.type==="count")&&this.count(t),typeof r.global=="boolean"&&this.global(t,r.global),r.defaultDescription&&(he(this,Gr,"f").defaultDescription[t]=r.defaultDescription),r.skipValidation&&this.skipValidation(t);let s=r.describe||r.description||r.desc,a=he(this,Nn,"f").getDescriptions();(!Object.prototype.hasOwnProperty.call(a,t)||typeof s=="string")&&this.describe(t,s),r.hidden&&this.hide(t),r.requiresArg&&this.requiresArg(t)}return this}options(t,r){return this.option(t,r)}parse(t,r,n){Br("[string|array] [function|boolean|object] [function]",[t,r,n],arguments.length),this[fCe](),typeof t>"u"&&(t=he(this,d5,"f")),typeof r=="object"&&(Rr(this,PC,r,"f"),r=n),typeof r=="function"&&(Rr(this,Su,r,"f"),r=!1),r||Rr(this,d5,t,"f"),he(this,Su,"f")&&Rr(this,zf,!1,"f");let i=this[iT](t,!!r),s=this.parsed;return he(this,$f,"f").setParsed(this.parsed),es(i)?i.then(a=>(he(this,Su,"f")&&he(this,Su,"f").call(this,he(this,f5,"f"),a,he(this,dl,"f")),a)).catch(a=>{throw he(this,Su,"f")&&he(this,Su,"f")(a,this.parsed.argv,he(this,dl,"f")),a}).finally(()=>{this[BJ](),this.parsed=s}):(he(this,Su,"f")&&he(this,Su,"f").call(this,he(this,f5,"f"),i,he(this,dl,"f")),this[BJ](),this.parsed=s,i)}parseAsync(t,r,n){let i=this.parse(t,r,n);return es(i)?i:Promise.resolve(i)}parseSync(t,r,n){let i=this.parse(t,r,n);if(es(i))throw new Zo(".parseSync() must not be used with asynchronous builders, handlers, or middleware");return i}parserConfiguration(t){return Br("<object>",[t],arguments.length),Rr(this,uF,t,"f"),this}pkgConf(t,r){Br("<string> [string]",[t,r],arguments.length);let n=null,i=this[IJ](r||he(this,RC,"f"));return i[t]&&typeof i[t]=="object"&&(n=iF(i[t],r||he(this,RC,"f"),this[MC]()["deep-merge-config"]||!1,he(this,Tn,"f")),he(this,Gr,"f").configObjects=(he(this,Gr,"f").configObjects||[]).concat(n)),this}positional(t,r){Br("<string> <object>",[t,r],arguments.length);let n=["default","defaultDescription","implies","normalize","choices","conflicts","coerce","type","describe","desc","description","alias"];r=c5(r,(a,l)=>a==="type"&&!["string","number","boolean"].includes(l)?!1:n.includes(a));let i=he(this,nT,"f").fullCommands[he(this,nT,"f").fullCommands.length-1],s=i?he(this,ra,"f").cmdToParseOptions(i):{array:[],alias:{},default:{},demand:{}};return hb(s).forEach(a=>{let l=s[a];Array.isArray(l)?l.indexOf(t)!==-1&&(r[a]=!0):l[t]&&!(a in r)&&(r[a]=l[t])}),this.group(t,he(this,Nn,"f").getPositionalGroupName()),this.option(t,r)}recommendCommands(t=!0){return Br("[boolean]",[t],arguments.length),Rr(this,fF,t,"f"),this}required(t,r,n){return this.demand(t,r,n)}require(t,r,n){return this.demand(t,r,n)}requiresArg(t){return Br("<array|string|object> [number]",[t],arguments.length),typeof t=="string"&&he(this,Gr,"f").narg[t]?this:(this[yb](this.requiresArg.bind(this),"narg",t,NaN),this)}showCompletionScript(t,r){return Br("[string] [string]",[t,r],arguments.length),t=t||this.$0,he(this,gb,"f").log(he(this,$f,"f").generateCompletionScript(t,r||he(this,wu,"f")||"completion")),this}showHelp(t){if(Br("[string|function]",[t],arguments.length),Rr(this,_u,!0,"f"),!he(this,Nn,"f").hasCachedHelpMessage()){if(!this.parsed){let n=this[iT](he(this,d5,"f"),void 0,void 0,0,!0);if(es(n))return n.then(()=>{he(this,Nn,"f").showHelp(t)}),this}let r=he(this,ra,"f").runDefaultBuilderOn(this);if(es(r))return r.then(()=>{he(this,Nn,"f").showHelp(t)}),this}return he(this,Nn,"f").showHelp(t),this}scriptName(t){return this.customScriptName=!0,this.$0=t,this}showHelpOnFail(t,r){return Br("[boolean|string] [string]",[t,r],arguments.length),he(this,Nn,"f").showHelpOnFail(t,r),this}showVersion(t){return Br("[string|function]",[t],arguments.length),he(this,Nn,"f").showVersion(t),this}skipValidation(t){return Br("<array|string>",[t],arguments.length),this[m5]("skipValidation",t),this}strict(t){return Br("[boolean]",[t],arguments.length),Rr(this,FC,t!==!1,"f"),this}strictCommands(t){return Br("[boolean]",[t],arguments.length),Rr(this,LC,t!==!1,"f"),this}strictOptions(t){return Br("[boolean]",[t],arguments.length),Rr(this,QC,t!==!1,"f"),this}string(t){return Br("<array|string>",[t],arguments.length),this[m5]("string",t),this[UC](t),this}terminalWidth(){return Br([],0),he(this,Tn,"f").process.stdColumns}updateLocale(t){return this.updateStrings(t)}updateStrings(t){return Br("<object>",[t],arguments.length),Rr(this,DC,!1,"f"),he(this,Tn,"f").y18n.updateLocale(t),this}usage(t,r,n,i){if(Br("<string|null|undefined> [string|boolean] [function|object] [function]",[t,r,n,i],arguments.length),r!==void 0){if(L0(t,null,he(this,Tn,"f")),(t||"").match(/^\$0( |$)/))return this.command(t,r,n,i);throw new Zo(".usage() description must start with $0 if being used as alias for .command()")}else return he(this,Nn,"f").usage(t),this}usageConfiguration(t){return Br("<object>",[t],arguments.length),Rr(this,dF,t,"f"),this}version(t,r,n){let i="version";if(Br("[boolean|string] [string] [string]",[t,r,n],arguments.length),he(this,np,"f")&&(this[vJ](he(this,np,"f")),he(this,Nn,"f").version(void 0),Rr(this,np,null,"f")),arguments.length===0)n=this[hCe](),t=i;else if(arguments.length===1){if(t===!1)return this;n=t,t=i}else arguments.length===2&&(n=r,r=void 0);return Rr(this,np,typeof t=="string"?t:i,"f"),r=r||he(this,Nn,"f").deferY18nLookup("Show version number"),he(this,Nn,"f").version(n||void 0),this.boolean(he(this,np,"f")),this.describe(he(this,np,"f"),r),this}wrap(t){return Br("<number|null|undefined>",[t],arguments.length),he(this,Nn,"f").wrap(t),this}[(ra=new WeakMap,RC=new WeakMap,nT=new WeakMap,$f=new WeakMap,wu=new WeakMap,oF=new WeakMap,f5=new WeakMap,DC=new WeakMap,sF=new WeakMap,zf=new WeakMap,aF=new WeakMap,Yf=new WeakMap,rp=new WeakMap,_u=new WeakMap,Kf=new WeakMap,lF=new WeakMap,gb=new WeakMap,dl=new WeakMap,Gr=new WeakMap,cF=new WeakMap,uF=new WeakMap,Su=new WeakMap,PC=new WeakMap,Ab=new WeakMap,NC=new WeakMap,d5=new WeakMap,fF=new WeakMap,Tn=new WeakMap,FC=new WeakMap,LC=new WeakMap,QC=new WeakMap,Nn=new WeakMap,dF=new WeakMap,np=new WeakMap,Os=new WeakMap,lCe)](t){if(!t._||!t["--"])return t;t._.push.apply(t._,t["--"]);try{delete t["--"]}catch{}return t}[cCe](){return{log:o((...t)=>{this[mF]()||console.log(...t),Rr(this,_u,!0,"f"),he(this,dl,"f").length&&Rr(this,dl,he(this,dl,"f")+`
`,"f"),Rr(this,dl,he(this,dl,"f")+t.join(" "),"f")},"log"),error:o((...t)=>{this[mF]()||console.error(...t),Rr(this,_u,!0,"f"),he(this,dl,"f").length&&Rr(this,dl,he(this,dl,"f")+`
`,"f"),Rr(this,dl,he(this,dl,"f")+t.join(" "),"f")},"error")}}[vJ](t){hb(he(this,Gr,"f")).forEach(r=>{if((i=>i==="configObjects")(r))return;let n=he(this,Gr,"f")[r];Array.isArray(n)?n.includes(t)&&n.splice(n.indexOf(t),1):typeof n=="object"&&delete n[t]}),delete he(this,Nn,"f").getDescriptions()[t]}[uCe](t,r,n){he(this,sF,"f")[n]||(he(this,Tn,"f").process.emitWarning(t,r),he(this,sF,"f")[n]=!0)}[fCe](){he(this,aF,"f").push({options:he(this,Gr,"f"),configObjects:he(this,Gr,"f").configObjects.slice(0),exitProcess:he(this,zf,"f"),groups:he(this,rp,"f"),strict:he(this,FC,"f"),strictCommands:he(this,LC,"f"),strictOptions:he(this,QC,"f"),completionCommand:he(this,wu,"f"),output:he(this,dl,"f"),exitError:he(this,f5,"f"),hasOutput:he(this,_u,"f"),parsed:this.parsed,parseFn:he(this,Su,"f"),parseContext:he(this,PC,"f")}),he(this,Nn,"f").freeze(),he(this,Os,"f").freeze(),he(this,ra,"f").freeze(),he(this,Yf,"f").freeze()}[dCe](){let t="",r;return/\b(node|iojs|electron)(\.exe)?$/.test(he(this,Tn,"f").process.argv()[0])?r=he(this,Tn,"f").process.argv().slice(1,2):r=he(this,Tn,"f").process.argv().slice(0,1),t=r.map(n=>{let i=this[TCe](he(this,RC,"f"),n);return n.match(/^(\/|([a-zA-Z]:)?\\)/)&&i.length<n.length?i:n}).join(" ").trim(),he(this,Tn,"f").getEnv("_")&&he(this,Tn,"f").getProcessArgvBin()===he(this,Tn,"f").getEnv("_")&&(t=he(this,Tn,"f").getEnv("_").replace(`${he(this,Tn,"f").path.dirname(he(this,Tn,"f").process.execPath())}/`,"")),t}[MC](){return he(this,uF,"f")}[mCe](){return he(this,dF,"f")}[bJ](){if(!he(this,DC,"f"))return;let t=he(this,Tn,"f").getEnv("LC_ALL")||he(this,Tn,"f").getEnv("LC_MESSAGES")||he(this,Tn,"f").getEnv("LANG")||he(this,Tn,"f").getEnv("LANGUAGE")||"en_US";this.locale(t.replace(/[.:].*/,""))}[hCe](){return this[IJ]().version||"unknown"}[pCe](t){let r=t["--"]?t["--"]:t._;for(let n=0,i;(i=r[n])!==void 0;n++)he(this,Tn,"f").Parser.looksLikeNumber(i)&&Number.isSafeInteger(Math.floor(parseFloat(`${i}`)))&&(r[n]=Number(i));return t}[IJ](t){let r=t||"*";if(he(this,Ab,"f")[r])return he(this,Ab,"f")[r];let n={};try{let i=t||he(this,Tn,"f").mainFilename;!t&&he(this,Tn,"f").path.extname(i)&&(i=he(this,Tn,"f").path.dirname(i));let s=he(this,Tn,"f").findUp(i,(a,l)=>{if(l.includes("package.json"))return"package.json"});L0(s,void 0,he(this,Tn,"f")),n=JSON.parse(he(this,Tn,"f").readFileSync(s,"utf8"))}catch{}return he(this,Ab,"f")[r]=n||{},he(this,Ab,"f")[r]}[m5](t,r){r=[].concat(r),r.forEach(n=>{n=this[_J](n),he(this,Gr,"f")[t].push(n)})}[yb](t,r,n,i){this[wJ](t,r,n,i,(s,a,l)=>{he(this,Gr,"f")[s][a]=l})}[TJ](t,r,n,i){this[wJ](t,r,n,i,(s,a,l)=>{he(this,Gr,"f")[s][a]=(he(this,Gr,"f")[s][a]||[]).concat(l)})}[wJ](t,r,n,i,s){if(Array.isArray(n))n.forEach(a=>{t(a,i)});else if((a=>typeof a=="object")(n))for(let a of hb(n))t(a,n[a]);else s(r,this[_J](n),i)}[_J](t){return t==="__proto__"?"___proto___":t}[SJ](t,r){return this[yb](this[SJ].bind(this),"key",t,r),this}[BJ](){var t,r,n,i,s,a,l,c,u,f,m,h;let p=he(this,aF,"f").pop();L0(p,void 0,he(this,Tn,"f"));let A;t=this,r=this,n=this,i=this,s=this,a=this,l=this,c=this,u=this,f=this,m=this,h=this,{options:{set value(E){Rr(t,Gr,E,"f")}}.value,configObjects:A,exitProcess:{set value(E){Rr(r,zf,E,"f")}}.value,groups:{set value(E){Rr(n,rp,E,"f")}}.value,output:{set value(E){Rr(i,dl,E,"f")}}.value,exitError:{set value(E){Rr(s,f5,E,"f")}}.value,hasOutput:{set value(E){Rr(a,_u,E,"f")}}.value,parsed:this.parsed,strict:{set value(E){Rr(l,FC,E,"f")}}.value,strictCommands:{set value(E){Rr(c,LC,E,"f")}}.value,strictOptions:{set value(E){Rr(u,QC,E,"f")}}.value,completionCommand:{set value(E){Rr(f,wu,E,"f")}}.value,parseFn:{set value(E){Rr(m,Su,E,"f")}}.value,parseContext:{set value(E){Rr(h,PC,E,"f")}}.value}=p,he(this,Gr,"f").configObjects=A,he(this,Nn,"f").unfreeze(),he(this,Os,"f").unfreeze(),he(this,ra,"f").unfreeze(),he(this,Yf,"f").unfreeze()}[gCe](t,r){return kC(r,n=>(t(n),n))}getInternalMethods(){return{getCommandInstance:this[ACe].bind(this),getContext:this[yCe].bind(this),getHasOutput:this[CCe].bind(this),getLoggerInstance:this[ECe].bind(this),getParseContext:this[xCe].bind(this),getParserConfiguration:this[MC].bind(this),getUsageConfiguration:this[mCe].bind(this),getUsageInstance:this[vCe].bind(this),getValidationInstance:this[bCe].bind(this),hasParseCallback:this[mF].bind(this),isGlobalContext:this[ICe].bind(this),postProcess:this[OC].bind(this),reset:this[kJ].bind(this),runValidation:this[RJ].bind(this),runYargsParserAndExecuteCommands:this[iT].bind(this),setHasOutput:this[wCe].bind(this)}}[ACe](){return he(this,ra,"f")}[yCe](){return he(this,nT,"f")}[CCe](){return he(this,_u,"f")}[ECe](){return he(this,gb,"f")}[xCe](){return he(this,PC,"f")||{}}[vCe](){return he(this,Nn,"f")}[bCe](){return he(this,Os,"f")}[mF](){return!!he(this,Su,"f")}[ICe](){return he(this,lF,"f")}[OC](t,r,n,i){return n||es(t)||(r||(t=this[lCe](t)),(this[MC]()["parse-positional-numbers"]||this[MC]()["parse-positional-numbers"]===void 0)&&(t=this[pCe](t)),i&&(t=BC(t,this,he(this,Yf,"f").getMiddleware(),!1))),t}[kJ](t={}){Rr(this,Gr,he(this,Gr,"f")||{},"f");let r={};r.local=he(this,Gr,"f").local||[],r.configObjects=he(this,Gr,"f").configObjects||[];let n={};r.local.forEach(a=>{n[a]=!0,(t[a]||[]).forEach(l=>{n[l]=!0})}),Object.assign(he(this,NC,"f"),Object.keys(he(this,rp,"f")).reduce((a,l)=>{let c=he(this,rp,"f")[l].filter(u=>!(u in n));return c.length>0&&(a[l]=c),a},{})),Rr(this,rp,{},"f");let i=["array","boolean","string","skipValidation","count","normalize","number","hiddenOptions"],s=["narg","key","alias","default","defaultDescription","config","choices","demandedOptions","demandedCommands","deprecatedOptions"];return i.forEach(a=>{r[a]=(he(this,Gr,"f")[a]||[]).filter(l=>!n[l])}),s.forEach(a=>{r[a]=c5(he(this,Gr,"f")[a],l=>!n[l])}),r.envPrefix=he(this,Gr,"f").envPrefix,Rr(this,Gr,r,"f"),Rr(this,Nn,he(this,Nn,"f")?he(this,Nn,"f").reset(n):eCe(this,he(this,Tn,"f")),"f"),Rr(this,Os,he(this,Os,"f")?he(this,Os,"f").reset(n):sCe(this,he(this,Nn,"f"),he(this,Tn,"f")),"f"),Rr(this,ra,he(this,ra,"f")?he(this,ra,"f").reset():J3e(he(this,Nn,"f"),he(this,Os,"f"),he(this,Yf,"f"),he(this,Tn,"f")),"f"),he(this,$f,"f")||Rr(this,$f,nCe(this,he(this,Nn,"f"),he(this,ra,"f"),he(this,Tn,"f")),"f"),he(this,Yf,"f").reset(),Rr(this,wu,null,"f"),Rr(this,dl,"","f"),Rr(this,f5,null,"f"),Rr(this,_u,!1,"f"),this.parsed=!1,this}[TCe](t,r){return he(this,Tn,"f").path.relative(t,r)}[iT](t,r,n,i=0,s=!1){let a=!!n||s;t=t||he(this,d5,"f"),he(this,Gr,"f").__=he(this,Tn,"f").y18n.__,he(this,Gr,"f").configuration=this[MC]();let l=!!he(this,Gr,"f").configuration["populate--"],c=Object.assign({},he(this,Gr,"f").configuration,{"populate--":!0}),u=he(this,Tn,"f").Parser.detailed(t,Object.assign({},he(this,Gr,"f"),{configuration:{"parse-positional-numbers":!1,...c}})),f=Object.assign(u.argv,he(this,PC,"f")),m,h=u.aliases,p=!1,A=!1;Object.keys(f).forEach(E=>{E===he(this,Kf,"f")&&f[E]?p=!0:E===he(this,np,"f")&&f[E]&&(A=!0)}),f.$0=this.$0,this.parsed=u,i===0&&he(this,Nn,"f").clearCachedHelpMessage();try{if(this[bJ](),r)return this[OC](f,l,!!n,!1);he(this,Kf,"f")&&[he(this,Kf,"f")].concat(h[he(this,Kf,"f")]||[]).filter(S=>S.length>1).includes(""+f._[f._.length-1])&&(f._.pop(),p=!0),Rr(this,lF,!1,"f");let E=he(this,ra,"f").getCommands(),x=he(this,$f,"f").completionKey in f,b=p||x||s;if(f._.length){if(E.length){let v;for(let S=i||0,k;f._[S]!==void 0;S++)if(k=String(f._[S]),E.includes(k)&&k!==he(this,wu,"f")){let P=he(this,ra,"f").runCommand(k,this,u,S+1,s,p||A||s);return this[OC](P,l,!!n,!1)}else if(!v&&k!==he(this,wu,"f")){v=k;break}!he(this,ra,"f").hasDefaultCommand()&&he(this,fF,"f")&&v&&!b&&he(this,Os,"f").recommendCommands(v,E)}he(this,wu,"f")&&f._.includes(he(this,wu,"f"))&&!x&&(he(this,zf,"f")&&u5(!0),this.showCompletionScript(),this.exit(0))}if(he(this,ra,"f").hasDefaultCommand()&&!b){let v=he(this,ra,"f").runCommand(null,this,u,0,s,p||A||s);return this[OC](v,l,!!n,!1)}if(x){he(this,zf,"f")&&u5(!0),t=[].concat(t);let v=t.slice(t.indexOf(`--${he(this,$f,"f").completionKey}`)+1);return he(this,$f,"f").getCompletion(v,(S,k)=>{if(S)throw new Zo(S.message);(k||[]).forEach(P=>{he(this,gb,"f").log(P)}),this.exit(0)}),this[OC](f,!l,!!n,!1)}if(he(this,_u,"f")||(p?(he(this,zf,"f")&&u5(!0),a=!0,this.showHelp("log"),this.exit(0)):A&&(he(this,zf,"f")&&u5(!0),a=!0,he(this,Nn,"f").showVersion("log"),this.exit(0))),!a&&he(this,Gr,"f").skipValidation.length>0&&(a=Object.keys(f).some(v=>he(this,Gr,"f").skipValidation.indexOf(v)>=0&&f[v]===!0)),!a){if(u.error)throw new Zo(u.error.message);if(!x){let v=this[RJ](h,{},u.error);n||(m=BC(f,this,he(this,Yf,"f").getMiddleware(),!0)),m=this[gCe](v,m??f),es(m)&&!n&&(m=m.then(()=>BC(f,this,he(this,Yf,"f").getMiddleware(),!1)))}}}catch(E){if(E instanceof Zo)he(this,Nn,"f").fail(E.message,E);else throw E}return this[OC](m??f,l,!!n,!0)}[RJ](t,r,n,i){let s={...this.getDemandedOptions()};return a=>{if(n)throw new Zo(n.message);he(this,Os,"f").nonOptionCount(a),he(this,Os,"f").requiredArguments(a,s);let l=!1;he(this,LC,"f")&&(l=he(this,Os,"f").unknownCommands(a)),he(this,FC,"f")&&!l?he(this,Os,"f").unknownArguments(a,t,r,!!i):he(this,QC,"f")&&he(this,Os,"f").unknownArguments(a,t,{},!1,!1),he(this,Os,"f").limitedChoices(a),he(this,Os,"f").implications(a),he(this,Os,"f").conflicting(a)}}[wCe](){Rr(this,_u,!0,"f")}[UC](t){if(typeof t=="string")he(this,Gr,"f").key[t]=!0;else for(let r of t)he(this,Gr,"f").key[r]=!0}};function X3e(e){return!!e&&typeof e.getInternalMethods=="function"}o(X3e,"isYargsInstance");var ost=_Ce(j3e),SCe=ost;d();d();var oT="apps",PJ="hosts",sT=class{constructor(t,r){this.ctx=t;this.persistenceManager=r}static{o(this,"AuthPersistence")}async getAuthRecord(t){let r=await this.persistenceManager.read(oT,this.authRecordKey(this.ctx,t));return!t&&!r&&(r=await this.persistenceManager.read(oT,this.authRecordKey(this.ctx,this.ctx.get(Ms).fallbackAppId()))),r||await this.legacyAuthRecordMaybe()}async legacyAuthRecordMaybe(){let t=await this.persistenceManager.read(PJ,this.legacyAuthRecordKey(this.ctx));if(t){let r=this.ctx.get(Ms).fallbackAppId();return{...t,githubAppId:r}}}async saveAuthRecord(t){let r=this.ctx.get(Ms).findAppIdToAuthenticate();await this.persistenceManager.update(oT,this.authRecordKey(this.ctx,t.githubAppId),t);let n=this.ctx.get(Ms).fallbackAppId();r===n&&await this.persistenceManager.delete(PJ,this.legacyAuthRecordKey(this.ctx))}async deleteAuthRecord(){let t=await this.getAuthRecord();if(t){let r=this.ctx.get(Ms).fallbackAppId();t.githubAppId===r&&await this.persistenceManager.delete(PJ,this.legacyAuthRecordKey(this.ctx)),await this.persistenceManager.delete(oT,this.authRecordKey(this.ctx)),await this.persistenceManager.delete(oT,this.authRecordKey(this.ctx,r))}}authRecordKey(t,r){let n=t.get(Rn).getAuthAuthority(),i=r??t.get(Ms).findAppIdToAuthenticate();return`${n}:${i}`}legacyAuthRecordKey(t){return t.get(Rn).getAuthAuthority()}};d();d();var hF={AuthNotifyShown:"auth.auth_notify_shown",AuthNotifyDismissed:"auth.auth_notify_dismissed",NewGitHubLogin:"auth.new_github_login",GitHubLoginSuccess:"auth.github_login_success"};function BCe(e,t){let r=rn.createAndMarkAsIssued({authSource:t});return Xt(e,hF.AuthNotifyShown,r)}o(BCe,"telemetryAuthNotifyShown");function kCe(e){return Xt(e,hF.AuthNotifyDismissed)}o(kCe,"telemetryAuthNotifyDismissed");function pF(e,t,r){let n=rn.createAndMarkAsIssued({authSource:t,authType:r});return Xt(e,hF.NewGitHubLogin,n)}o(pF,"telemetryNewGitHubLogin");function gF(e,t){let r=rn.createAndMarkAsIssued({authType:t});return Xt(e,hF.GitHubLoginSuccess,r)}o(gF,"telemetryGitHubLoginSuccess");async function sst(e,t){pF(e,"unknown","deviceFlow");let r={method:"POST",headers:{Accept:"application/json",...n0(e)},json:{client_id:t},timeout:30*1e3},n;try{n=await e.get(Nr).fetch(e.get(Rn).getDeviceFlowStartUrl(),r)}catch(i){throw i instanceof Error&&Y9(i)?new Fs(`Could not log in with device flow on ${e.get(Rn).getAuthAuthority()}: ${i.message}`):i}if(!n.ok)throw new Fs(`Could not log in with device flow on ${e.get(Rn).getAuthAuthority()}: HTTP ${n.status}`);return await n.json()}o(sst,"requestDeviceFlowStage1");async function ast(e,t,r){let n={method:"POST",headers:{Accept:"application/json",...n0(e)},json:{client_id:r,device_code:t,grant_type:"urn:ietf:params:oauth:grant-type:device_code"},timeout:3e4};return await(await e.get(Nr).fetch(e.get(Rn).getDeviceFlowCompletionUrl(),n)).json()}o(ast,"requestDeviceFlowStage2");async function lst(e,t){return gF(e,"deviceFlow"),await(await e.get(Nr).fetch(e.get(Rn).getUserInfoUrl(),{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}})).json()}o(lst,"requestUserInfo");var qC=class{static{o(this,"GitHubDeviceFlow")}async getToken(t,r){try{return await this.getTokenUnguarded(t,r)}catch(n){throw t.get(xc).notifyUser(t,n),n}}async getTokenUnguarded(t,r){let n=await sst(t,r),i=(async()=>{let s=n.expires_in,a;for(;s>0;){let l=await ast(t,n.device_code,r);if(s-=n.interval,await new Promise(c=>setTimeout(c,1e3*n.interval)),a=l.access_token,a)return{user:(await lst(t,a)).login,oauth_token:a}}throw new Fs("Timed out waiting for login to complete")})();return{...n,waitForAuth:i}}};d();var Bu=class{static{o(this,"CitationManager")}},AF=class extends Bu{static{o(this,"NoOpCitationManager")}async handleIPCodeCitation(t,r){}};d();d();d();var Cb=class{constructor(){this.resolve=o(()=>{},"resolve");this.reject=o(()=>{},"reject");this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}static{o(this,"Deferred")}};d();var NJ=class{constructor(){this.observers=new Set}static{o(this,"Subject")}subscribe(t){return this.observers.add(t),()=>this.observers.delete(t)}next(t){for(let r of this.observers)r.next(t)}error(t){for(let r of this.observers)r.error?.(t)}complete(){for(let t of this.observers)t.complete?.()}},yF=class extends NJ{static{o(this,"ReplaySubject")}subscribe(t){let r=super.subscribe(t);return this._value!==void 0&&t.next(this._value),r}next(t){this._value=t,super.next(t)}};var Tm=class{constructor(t){this.ctx=t;this.#e=!1;this.#t=new Er("AsyncCompletionManager");this.requests=new kn(100);this.mostRecentRequestId="";Ha(t,r=>{this.#e=r.hasKnownOrg})}static{o(this,"AsyncCompletionManager")}#e;#t;clear(){this.requests.clear()}isEnabled(t){let r=ai(this.ctx,qt.UseAsyncCompletions);return this.#e&&typeof r=="boolean"?r:this.ctx.get(er).enableAsyncCompletions(t)}shouldWaitForAsyncCompletions(t,r){for(let[n,i]of this.requests)if(FJ(t,r,i))return!0;return!1}updateCompletion(t,r){let n=this.requests.get(t);n!==void 0&&(n.partialCompletionText=r,n.subject.next(n))}queueCompletionRequest(t,r,n,i,s){this.#t.debug(this.ctx,`[${t}] Queueing async completion request:`,r.substring(r.lastIndexOf(`
`)+1));let a=new yF;return this.requests.set(t,{state:2,cancellationTokenSource:i,headerRequestId:t,prefix:r,prompt:n,subject:a}),s.then(l=>{if(this.requests.delete(t),l.type!=="success"){this.#t.debug(this.ctx,`[${t}] Request failed with`,l.reason),a.error(l.reason);return}let c={cancellationTokenSource:i,headerRequestId:t,prefix:r,prompt:n,subject:a,choice:l.value[0],result:l,state:0,allChoicesPromise:l.value[1]};this.requests.set(t,c),a.next(c),a.complete()}).catch(l=>{this.#t.error(this.ctx,`[${t}] Request errored with`,l),this.requests.delete(t),a.error(l)})}getFirstMatchingRequestWithTimeout(t,r,n,i,s){let a=this.ctx.get(er).asyncCompletionsTimeout(s);return a<0?(this.#t.debug(this.ctx,`[${t}] Waiting for completions without timeout`),this.getFirstMatchingRequest(t,r,n,i)):(this.#t.debug(this.ctx,`[${t}] Waiting for completions with timeout of ${a}ms`),Promise.race([this.getFirstMatchingRequest(t,r,n,i),new Promise(l=>setTimeout(()=>l(null),a))]).then(l=>{if(l===null){this.#t.debug(this.ctx,`[${t}] Timed out waiting for completion`);return}return l}))}async getFirstMatchingRequest(t,r,n,i){i||(this.mostRecentRequestId=t);let s=!1,a=new Cb,l=new Map,c=o(f=>()=>{let m=l.get(f);m!==void 0&&(m(),l.delete(f),!s&&l.size===0&&(s=!0,this.#t.debug(this.ctx,`[${t}] No matching completions found`),a.resolve(void 0)))},"finishRequest"),u=o(f=>{if(FJ(r,n,f)){if(f.state===0){let m=r.substring(f.prefix.length),{completionText:h}=f.choice;if(!h.startsWith(m)||h.length<=m.length){c(f.headerRequestId)();return}h=h.substring(m.length),f.choice.telemetryData.measurements.foundOffset=m.length,this.#t.debug(this.ctx,`[${t}] Found completion at offset ${m.length}: ${JSON.stringify(h)}`),a.resolve([{...f.choice,completionText:h},f.allChoicesPromise]),s=!0}}else this.cancelRequest(t,f),c(f.headerRequestId)()},"next");for(let[f,m]of this.requests)FJ(r,n,m)?l.set(f,m.subject.subscribe({next:u,error:c(f),complete:c(f)})):this.cancelRequest(t,m);return a.promise.finally(()=>{for(let f of l.values())f()})}cancelRequest(t,r){t===this.mostRecentRequestId&&r.state!==0&&(this.#t.debug(this.ctx,`[${t}] Cancelling request: ${r.headerRequestId}`),r.cancellationTokenSource.cancel(),this.requests.delete(r.headerRequestId))}};function FJ(e,t,r){if(r.prompt.suffix!==t.suffix||!e.startsWith(r.prefix))return!1;let n=e.substring(r.prefix.length);return r.state===0?r.choice.completionText.startsWith(n)&&r.choice.completionText.trimEnd().length>n.length:r.partialCompletionText===void 0?!0:r.partialCompletionText.startsWith(n)}o(FJ,"isCandidate");d();var cst={fetch:!1,ipCodeCitation:!1,redirectedTelemetry:!1,related:!1,token:!1,watchedFiles:!1},ts=class{constructor(){this.capabilities={...cst}}static{o(this,"CopilotCapabilitiesProvider")}setCapabilities(t){let r;for(r in t){let n=t[r];n!==void 0&&(this.capabilities[r]=n)}}getCapabilities(){return this.capabilities}};d();var Eb=class{constructor(){this.instances=new Map}static{o(this,"Context")}get(t){let r=this.tryGet(t);if(r)return r;throw new Error(`No instance of ${t.name} has been registered.`)}tryGet(t){let r=this.instances.get(t);if(r)return r}set(t,r){if(this.tryGet(t))throw new Error(`An instance of ${t.name} has already been registered. Use forceSet() if you're sure it's a good idea.`);this.assertIsInstance(t,r),this.instances.set(t,r)}forceSet(t,r){this.assertIsInstance(t,r),this.instances.set(t,r)}assertIsInstance(t,r){if(!(r instanceof t)){let n=JSON.stringify(r);throw new Error(`The instance you're trying to register for ${t.name} is not an instance of it (${n}).`)}}};d();d();var CF=class extends Error{static{o(this,"FetchSpeculationCanceledException")}constructor(t){super(t),this.name="FetchSpeculationCanceledException"}};d();var xb=class extends Error{static{o(this,"FetchSpeculationFailedException")}constructor(t){super(t),this.name="FetchSpeculationFailedException"}};d();d();async function*h5(e,t){for await(let r of e)yield t(r)}o(h5,"asyncIterableMap");async function*RCe(e,t){for await(let r of e)await t(r)&&(yield r)}o(RCe,"asyncIterableFilter");async function*GC(e,t){for await(let r of e){let n=await t(r);n!==void 0&&(yield n)}}o(GC,"asyncIterableMapFilter");async function*DCe(e){for(let t of e)yield t}o(DCe,"asyncIterableFromArray");async function*PCe(...e){for(let t of e)yield*t}o(PCe,"asyncIterableConcat");d();function NCe(e,t,r,n,i,s,a){return XAe(e,t,r,i,n),{completionText:t,meanLogProb:ust(e,r),meanAlternativeLogProb:fst(e,r),choiceIndex:n,requestId:i,blockFinished:s,tokens:r.tokens,numTokens:r.tokens.length,telemetryData:a,copilotAnnotations:r.copilot_annotations,clientCompletionId:Tr()}}o(NCe,"convertToAPIChoice");async function*FCe(e,t){for await(let r of e){let n={...r},i=n.completionText.split(`
`);for(let s=0;s<i.length;++s){let a=i[s].trimLeft();a===""?i[s]=a:i[s]=t+a}n.completionText=i.join(`
`),yield n}}o(FCe,"cleanupIndentChoices");function ust(e,t){if(t?.logprobs?.token_logprobs)try{let r=0,n=0,i=50;for(let s=0;s<t.logprobs.token_logprobs.length-1&&i>0;s++,i--)r+=t.logprobs.token_logprobs[s],n+=1;return n>0?r/n:void 0}catch(r){ei.exception(e,r,"Error calculating mean prob")}}o(ust,"calculateMeanLogProb");function fst(e,t){if(t?.logprobs?.top_logprobs)try{let r=0,n=0,i=50;for(let s=0;s<t.logprobs.token_logprobs.length-1&&i>0;s++,i--){let a={...t.logprobs.top_logprobs[s]};delete a[t.logprobs.tokens[s]],r+=Math.max(...Object.values(a)),n+=1}return n>0?r/n:void 0}catch(r){ei.exception(e,r,"Error calculating mean prob")}}o(fst,"calculateMeanAlternativeLogProb");function vb(e,t){return dm(e)||t<=1?0:t<10?.2:t<20?.4:.8}o(vb,"getTemperatureForSamples");var dst={markdown:[`


`],python:[`
def `,`
class `,`
if `,`

#`]};function LCe(e,t){return dst[t??""]??[`


`,"\n```"]}o(LCe,"getStops");function EF(e){return 1}o(EF,"getTopP");function xF(e){return H7}o(xF,"getMaxSolutionTokens");d();var wc=new Er("streamChoices"),LJ=class{constructor(){this.logprobs=[];this.top_logprobs=[];this.text=[];this.tokens=[];this.text_offset=[];this.copilot_annotations=new OJ;this.tool_calls=[];this.function_call=new MJ;this.copilot_references=[]}static{o(this,"APIJsonDataStreaming")}append(t){if(t.text&&this.text.push(t.text),t.delta?.content&&t.delta.role!=="function"&&this.text.push(t.delta.content),t.logprobs&&(this.tokens.push(t.logprobs.tokens??[]),this.text_offset.push(t.logprobs.text_offset??[]),this.logprobs.push(t.logprobs.token_logprobs??[]),this.top_logprobs.push(t.logprobs.top_logprobs??[])),t.copilot_annotations&&this.copilot_annotations.update(t.copilot_annotations),t.delta?.copilot_annotations&&this.copilot_annotations.update(t.delta.copilot_annotations),t.delta?.tool_calls&&t.delta.tool_calls.length>0)for(let r of t.delta.tool_calls){let n=r.index;this.tool_calls[n]||(this.tool_calls[n]=new QJ),this.tool_calls[n].update(r)}t.delta?.function_call&&this.function_call.update(t.delta.function_call)}};function mst(e){let t=e.split(`
`),r=t.pop();return[t.filter(n=>n!=""),r]}o(mst,"splitChunk");var QJ=class{constructor(){this.arguments=[]}static{o(this,"StreamingToolCall")}update(t){t.function.name&&(this.name=t.function.name),this.arguments.push(t.function.arguments)}},MJ=class{constructor(){this.arguments=[]}static{o(this,"StreamingFunctionCall")}update(t){t.name&&(this.name=t.name),this.arguments.push(t.arguments)}},OJ=class{constructor(){this.current={}}static{o(this,"StreamCopilotAnnotations")}update(t){Object.entries(t).forEach(([r,n])=>{n.forEach(i=>this.update_namespace(r,i))})}update_namespace(t,r){this.current[t]||(this.current[t]=[]);let n=this.current[t],i=n.findIndex(s=>s.id===r.id);i>=0?n[i]=r:n.push(r)}for(t){return this.current[t]??[]}},HC=class e{constructor(t,r,n,i,s,a,l){this.ctx=t;this.expectedNumChoices=r;this.response=n;this.body=i;this.telemetryData=s;this.dropCompletionReasons=a;this.cancellationToken=l;this.requestId=WC(this.response);this.stats=new UJ(this.expectedNumChoices);this.solutions={}}static{o(this,"SSEProcessor")}static create(t,r,n,i,s,a){let l=n.body();return l.setEncoding("utf8"),new e(t,r,n,l,i,s??["content_filter"],a)}async*processSSE(t=async()=>{}){try{yield*this.processSSEInner(t)}finally{this.cancel(),wc.info(this.ctx,`request done: headerRequestId: [${this.requestId.headerRequestId}] model deployment ID: [${this.requestId.deploymentId}]`),wc.debug(this.ctx,"request stats:",this.stats)}}async*processSSEInner(t){let r="",n=null,i,s;e:for await(let a of this.body){if(this.maybeCancel("after awaiting body chunk"))return;wc.debug(this.ctx,"chunk",a.toString());let[l,c]=mst(r+a.toString());r=c;for(let u of l){let f=u.slice(5).trim();if(f=="[DONE]"){yield*this.finishSolutions(n,i,s);return}n=null;let m;try{m=JSON.parse(f)}catch{wc.error(this.ctx,"Error parsing JSON stream data",u);continue}if(m.copilot_confirmation&&hst(m.copilot_confirmation)&&await t("",{text:"",requestId:this.requestId,copilotConfirmation:m.copilot_confirmation}),m.copilot_references&&await t("",{text:"",requestId:this.requestId,copilotReferences:m.copilot_references}),m.choices===void 0){!m.copilot_references&&!m.copilot_confirmation&&(m.error!==void 0?wc.error(this.ctx,"Error in response:",m.error.message):wc.error(this.ctx,"Unexpected response with no choices or error: "+f)),m.copilot_errors&&await t("",{text:"",requestId:this.requestId,copilotErrors:m.copilot_errors});continue}if(this.requestId.created==0&&(this.requestId=WC(this.response,m),this.requestId.created===0&&m.choices?.length&&wc.error(this.ctx,'Request id invalid, should have "completionId" and "created":',this.requestId)),i===void 0&&m.model&&(i=m.model),s===void 0&&m.usage&&(s=m.usage),this.allSolutionsDone()){r="";break e}for(let h=0;h<m.choices?.length;h++){let p=m.choices[h];wc.debug(this.ctx,"choice",p),this.stats.add(p.index),p.index in this.solutions||(this.solutions[p.index]=new LJ);let A=this.solutions[p.index];if(A==null)continue;A.append(p);let E,x=p.text?.indexOf(`
`)>-1||p.delta?.content?.indexOf(`
`)>-1;if(p.finish_reason||x){let S=A.text.join("");if(E=await t(S,{text:S,requestId:this.requestId,annotations:A.copilot_annotations,copilotReferences:A.copilot_references}),this.maybeCancel("after awaiting finishedCb"))return}if(p.finish_reason&&A.function_call.name!==void 0){n=p.finish_reason;continue}if(!(p.finish_reason||E!==void 0))continue;let v=p.finish_reason??"client-trimmed";if(Xt(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:v,engineName:i??"",engineChoiceSource:Z2(this.ctx,this.telemetryData).engineChoiceSource})),this.dropCompletionReasons.includes(p.finish_reason)?this.solutions[p.index]=null:(this.stats.markYielded(p.index),yield{solution:A,finishOffset:E,reason:p.finish_reason,requestId:this.requestId,index:p.index,model:i,usage:s}),this.maybeCancel("after yielding finished choice"))return;this.solutions[p.index]=null}}}for(let[a,l]of Object.entries(this.solutions)){let c=Number(a);if(l!=null&&(Xt(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:"Iteration Done",engineName:i??""})),this.stats.markYielded(c),yield{solution:l,finishOffset:void 0,reason:"Iteration Done",requestId:this.requestId,index:c,model:i,usage:s},this.maybeCancel("after yielding after iteration done")))return}if(r.length>0)try{let a=JSON.parse(r);a.error!==void 0&&wc.error(this.ctx,`Error in response: ${a.error.message}`,a.error)}catch{wc.error(this.ctx,`Error parsing extraData: ${r}`)}}async*finishSolutions(t,r,n){for(let[i,s]of Object.entries(this.solutions)){let a=Number(i);if(s!=null&&(this.stats.markYielded(a),Xt(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:t??"DONE",engineName:r??""})),yield{solution:s,finishOffset:void 0,reason:t??"DONE",requestId:this.requestId,index:a,model:r,usage:n},this.maybeCancel("after yielding on DONE")))return}}maybeCancel(t){return this.cancellationToken?.isCancellationRequested?(wc.debug(this.ctx,"Cancelled: "+t),this.cancel(),!0):!1}cancel(){this.body.destroy()}allSolutionsDone(){let t=Object.values(this.solutions);return t.length==this.expectedNumChoices&&t.every(r=>r==null)}};function GJ(e,t,r){let n=t.solution.text.join(""),i=!1;t.finishOffset!==void 0&&(wc.debug(e,`solution ${t.index}: early finish at offset ${t.finishOffset}`),n=n.substring(0,t.finishOffset),i=!0),wc.info(e,`solution ${t.index} returned. finish reason: [${t.reason}]`),wc.debug(e,`solution ${t.index} details: finishOffset: [${t.finishOffset}] completionId: [{${t.requestId.completionId}}] created: [{${t.requestId.created}}]`);let s=WJ(t.solution);return NCe(e,n,s,t.index,t.requestId,i,r)}o(GJ,"prepareSolutionForReturn");function WJ(e){let t=e.text.join(""),r=pst(e),n=gst(e),i=e.copilot_annotations.current,s={text:t,tokens:e.text,tool_calls:r,function_call:n,copilot_annotations:i};if(e.logprobs.length===0)return s;let a=e.logprobs.reduce((f,m)=>f.concat(m),[]),l=e.top_logprobs.reduce((f,m)=>f.concat(m),[]),c=e.text_offset.reduce((f,m)=>f.concat(m),[]),u=e.tokens.reduce((f,m)=>f.concat(m),[]);return{...s,logprobs:{token_logprobs:a,top_logprobs:l,text_offset:c,tokens:u}}}o(WJ,"convertToAPIJsonData");function hst(e){return typeof e.title=="string"&&typeof e.message=="string"&&!!e.confirmation}o(hst,"isCopilotConfirmation");function pst(e){let t=[];for(let r of e.tool_calls)if(r.name){let n=r.arguments.length>0?JSON.parse(r.arguments.join("")):{};t.push({type:"function",function:{name:r.name,arguments:n},approxNumTokens:r.arguments.length+1})}return t}o(pst,"extractToolCalls");function gst(e){if(e.function_call.name){let t=e.function_call.arguments.length>0?JSON.parse(e.function_call.arguments.join("")):{};return{name:e.function_call.name,arguments:t}}}o(gst,"extractFunctionCall");var UJ=class{constructor(t){this.choices=new Map;for(let r=0;r<t;r++)this.choices.set(r,new qJ)}static{o(this,"ChunkStats")}add(t){this.choices.get(t).increment()}markYielded(t){this.choices.get(t).markYielded()}toString(){return Array.from(this.choices.entries()).map(([t,r])=>`${t}: ${r.yieldedTokens} -> ${r.seenTokens}`).join(", ")}},qJ=class{constructor(){this.yieldedTokens=-1;this.seenTokens=0}static{o(this,"ChoiceStats")}increment(){this.seenTokens++}markYielded(){this.yieldedTokens=this.seenTokens}};d();function vF(e,t){return e!==null&&typeof e=="object"&&t in e}o(vF,"hasKey");function wm(e,t){return vF(e,t)?e[t]:void 0}o(wm,"getKey");var Q0=new Er("fetchCompletions");function WC(e,t){return{headerRequestId:e.headers.get("x-request-id")||"",completionId:t&&t.id?t.id:"",created:t&&t.created?t.created:0,serverExperiments:e.headers.get("X-Copilot-Experiment")||"",deploymentId:e.headers.get("azureml-model-deployment")||""}}o(WC,"getRequestId");function lT(e){let t=e.headers.get("openai-processing-ms");return t?parseInt(t,10):0}o(lT,"getProcessingTime");function Ast(e){switch(e){case"ghostText":return"copilot-ghost";case"synthesize":return"copilot-panel"}}o(Ast,"uiKindToIntent");var Jf=class{static{o(this,"OpenAIFetcher")}};function yst(e,t,r,n){return Pv(e,t,"proxy","v1/engines",r,n)}o(yst,"getProxyEngineUrl");async function QCe(e,t,r,n,i,s,a,l,c,u,f){let m=e.get(Yi),h=yst(e,a,r,n),p=c.extendedBy({endpoint:n,engineName:r,uiKind:l},Wv(t));for(let[x,b]of Object.entries(s))x=="prompt"||x=="suffix"||x=="context"||(p.properties[`request.option.${x}`]=JSON.stringify(b)??"undefined");p.properties.headerRequestId=i,Xt(e,"request.sent",p);let A=Ul(),E=Ast(l);return Hx(e,h,a.token,E,i,s,u,f).then(x=>{let b=WC(x,void 0);p.extendWithRequestId(b);let v=Ul()-A;return p.measurements.totalTimeMs=v,Q0.info(e,`request.response: [${h}] took ${v} ms`),Q0.debug(e,"request.response properties",p.properties),Q0.debug(e,"request.response measurements",p.measurements),Q0.debug(e,"prompt:",t),Xt(e,"request.response",p),x}).catch(x=>{if(ou(x))throw Xt(e,"request.cancel",p),x;m.setWarning(wm(x,"message")??"");let b=p.extendedBy({error:"Network exception"});Xt(e,"request.shownWarning",b),p.properties.message=String(wm(x,"name")??""),p.properties.code=String(wm(x,"code")??""),p.properties.errno=String(wm(x,"errno")??""),p.properties.type=String(wm(x,"type")??"");let v=Ul()-A;throw p.measurements.totalTimeMs=v,Q0.debug(e,`request.response: [${h}] took ${v} ms`),Q0.debug(e,"request.error properties",p.properties),Q0.debug(e,"request.error measurements",p.measurements),Xt(e,"request.error",p),x}).finally(()=>{ZAe(e,t,p)})}o(QCe,"fetchWithInstrumentation");function MCe(e){return RCe(e,async t=>t.completionText.trim().length>0)}o(MCe,"postProcessChoices");var Cst="github.copilot.completions.quotaExceeded",aT=class extends Jf{static{o(this,"LiveOpenAIFetcher")}#e;async fetchAndStreamCompletions(t,r,n,i,s){if(this.#e)return{type:"canceled",reason:this.#e};let a=t.get(Yi),l="completions",c=await t.get(jr).getToken(),u=await this.fetchWithParameters(t,l,r,c,n,s);if(u==="not-sent")return{type:"canceled",reason:"before fetch request"};if(s?.isCancellationRequested){let A=u.body();try{A.destroy()}catch(E){Q0.exception(t,E,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(u.status!==200){let A=this.createTelemetryData(l,t,r);return this.handleError(t,a,A,u,c)}let f=t.get(er).dropCompletionReasons(n),h=HC.create(t,r.count,u,n,f,s).processSSE(i),p=h5(h,async A=>GJ(t,A,n));return{type:"success",choices:MCe(p),getProcessingTime:o(()=>lT(u),"getProcessingTime")}}async fetchAndStreamSpeculation(t,r,n,i,s){if(this.#e)return{type:"canceled",reason:this.#e};let a=t.get(Yi),l="speculation",c=await t.get(jr).getToken(),u={prompt:{prefix:r.prompt,suffix:"",isFimEnabled:!1,promptElementRanges:[]},postOptions:{speculation:r.speculation,temperature:r.temperature,stream:r.stream,stop:r.stops??[]},languageId:"",count:0,repoInfo:void 0,ourRequestId:Tr(),engineModelId:r.engineModelId,uiKind:r.uiKind,headers:r.headers},f=await this.fetchSpeculationWithParameters(t,l,u,c,n,s);if(f==="not-sent")return{type:"canceled",reason:"before fetch request"};if(s?.isCancellationRequested){let E=f.body();try{E.destroy()}catch(x){Q0.exception(t,x,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(f.status!==200){let E=this.createTelemetryData(l,t,u);return this.handleError(t,a,E,f,c)}let m=t.get(er).dropCompletionReasons(n),p=HC.create(t,1,f,n,m,s).processSSE(i),A=h5(p,async E=>GJ(t,E,n));return{type:"success",choices:MCe(A),getProcessingTime:o(()=>lT(f),"getProcessingTime")}}createTelemetryData(t,r,n){return rn.createAndMarkAsIssued({endpoint:t,engineName:n.engineModelId,uiKind:n.uiKind,headerRequestId:n.ourRequestId})}async fetchSpeculationWithParameters(t,r,n,i,s,a){let l={prompt:n.prompt.prefix};return n.postOptions&&Object.assign(l,n.postOptions),await new Promise((u,f)=>{setImmediate(u)}),a?.isCancellationRequested?"not-sent":await QCe(t,n.prompt,n.engineModelId,r,n.ourRequestId,l,i,n.uiKind,s,a,n.headers)}async fetchWithParameters(t,r,n,i,s,a){let l=t.get(er).disableLogProb(s),c=t.get(er).enablePromptContextProxyField(s),u={prompt:c?n.prompt.prefixWithoutContext??"":n.prompt.prefix,suffix:n.prompt.suffix,max_tokens:xF(t),temperature:vb(t,n.count),top_p:EF(t),n:n.count,stop:LCe(t,n.languageId)};(n.requestLogProbs||!l)&&(u.logprobs=2);let f=t1(n.repoInfo);return f!==void 0&&(u.nwo=f),n.postOptions&&Object.assign(u,n.postOptions),c&&n.prompt.context&&(u.extra?u.extra.context=n.prompt.context:u.extra={language:n.languageId,prompt_tokens:n.prompt.prefixTokens??0,suffix_tokens:n.prompt.suffixTokens??0,context:n.prompt.context}),await new Promise((h,p)=>{setImmediate(h)}),a?.isCancellationRequested?"not-sent":await QCe(t,n.prompt,n.engineModelId,r,n.ourRequestId,u,i,n.uiKind,s,a,n.headers)}async handleError(t,r,n,i,s){let a=await i.text();if(i.status===402){this.#e="monthly free code completions exhausted",r.setError("Completions limit reached",{command:Cst,title:"Learn More"});let c=Ha(t,u=>{this.#e=void 0,(u.envelope.limited_user_quotas?.completions??1)>0&&(r.forceNormal(),c.dispose())});return{type:"failed",reason:this.#e}}if(i.status===466)return r.setError(a),Q0.info(t,a),{type:"failed",reason:`client not supported: ${a}`};if(i.clientError&&!i.headers.get("x-github-request-id")){let l=`Last response was a ${i.status} error and does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`;Q0.error(t,l),r.setWarning(l),n.properties.error=`Response status was ${i.status} with no x-github-request-id header`}else i.clientError?(Q0.warn(t,`Response status was ${i.status}:`,a),r.setWarning(`Last response was a ${i.status} error: ${a}`),n.properties.error=`Response status was ${i.status}: ${a}`):(r.setWarning(`Last response was a ${i.status} error`),n.properties.error=`Response status was ${i.status}`);return n.properties.status=String(i.status),Xt(t,"request.shownWarning",n),i.status===401||i.status===403?(t.get(jr).resetToken(i.status),{type:"failed",reason:`token expired or invalid: ${i.status}`}):i.status===429?(setTimeout(()=>{this.#e=void 0},10*1e3),this.#e="rate limited",Q0.warn(t,"Rate limited by server. Denying completions for the next 10 seconds."),{type:"failed",reason:this.#e}):i.status===499?(Q0.info(t,"Cancelled by server"),{type:"failed",reason:"canceled by server"}):(Q0.error(t,"Unhandled status from server:",i.status,a),{type:"failed",reason:`unhandled status from server: ${i.status} ${a}`})}};var Fyr=T.Object({prompt:T.String(),speculation:T.String(),languageId:T.String(),stops:T.Array(T.String())}),VC=class{static{o(this,"SpeculationFetcher")}constructor(t){this.ctx=t}async fetchSpeculation(t,r){let i={prompt:t.prompt,speculation:t.speculation,engineModelId:"copilot-centralus-h100",uiKind:"editsPanel",temperature:0,stream:!0,stops:t.stops},s=await this.ctx.get(er).updateExPValuesAndAssignments(),a=await this.ctx.get(Jf).fetchAndStreamSpeculation(this.ctx,i,s,async(l,c)=>{},r);switch(a.type){case"success":return a;case"canceled":throw new CF(a.reason);case"failed":throw new xb(a.reason)}}};d();var Ru=class{static{o(this,"CompletionsCache")}constructor(){this._cache=new kn(100)}get(t){return this._cache.get(t)}set(t,r){this._cache.set(t,r)}clear(){this._cache.clear()}};d();d();var HJ={javascript:1,typescript:2,typescriptreact:3,python:4,vue:5,php:6,dart:7,javascriptreact:8,go:9,css:10,cpp:11,html:12,scss:13,markdown:14,csharp:15,java:16,json:17,rust:18,ruby:19,c:20},_c={" ":1,"!":2,'"':3,"#":4,$:5,"%":6,"&":7,"'":8,"(":9,")":10,"*":11,"+":12,",":13,"-":14,".":15,"/":16,0:17,1:18,2:19,3:20,4:21,5:22,6:23,7:24,8:25,9:26,":":27,";":28,"<":29,"=":30,">":31,"?":32,"@":33,A:34,B:35,C:36,D:37,E:38,F:39,G:40,H:41,I:42,J:43,K:44,L:45,M:46,N:47,O:48,P:49,Q:50,R:51,S:52,T:53,U:54,V:55,W:56,X:57,Y:58,Z:59,"[":60,"\\":61,"]":62,"^":63,_:64,"`":65,a:66,b:67,c:68,d:69,e:70,f:71,g:72,h:73,i:74,j:75,k:76,l:77,m:78,n:79,o:80,p:81,q:82,r:83,s:84,t:85,u:86,v:87,w:88,x:89,y:90,z:91,"{":92,"|":93,"}":94,"~":95};d();function OCe(e){let t;e[0]>1e-35?e[29]>1e-35?e[138]>1e-35?t=.49496579646815353:t=.47546580490346646:e[30]>1e-35?t=.4456371992737078:e[4]>3.238486181444842?e[135]>1e-35?t=.2645576817782658:e[46]>1e-35?t=.20251922126765812:t=.37359143313367105:e[7]>.9662372103242399?t=.44975631109230374:t=.4067133376207218:e[7]>.960816451500545?e[29]>1e-35?e[4]>1.7005986908310777?t=.4240336839258693:t=.35414085998710754:e[4]>3.238486181444842?t=.353882328354817:e[100]>1e-35?t=.48783079865293355:e[30]>1e-35?t=.419904106522537:t=.38599249795612806:e[4]>3.6242520361853052?e[29]>1e-35?e[7]>.5086748127709895?t=.37522628419389664:t=.3359393805000766:e[30]>1e-35?t=.3685210833144829:e[135]>1e-35?t=.22140958666091123:e[134]>1e-35?t=.38379851487275685:e[46]>1e-35?t=.1926283522107934:t=.3098162447812857:e[46]>1e-35?t=.22698331991181095:e[4]>1.4978661367769956?e[30]>1e-35?e[4]>2.138333059508028?t=.39709448374768985:t=.34711865383837703:e[134]>1e-35?t=.40608455346469957:e[135]>1e-35?t=.3084120164848763:e[48]>1e-35?t=.24193590696691425:e[51]>1e-35?t=.2087938690163009:e[4]>3.1984648276080736?t=.3529508564858481:t=.3698795818909763:t=.30210240039979064;let r;e[0]>1e-35?e[2]>2.4414009612931857?e[2]>3.676220550121792?e[7]>.9246495578512688?r=.0570428673081833:r=.019779482100154476:e[7]>.9705672697050661?r=.1023948532887641:r=.06265430080550045:e[29]>1e-35?e[5]>4.658699722134796?e[2]>1.2424533248940002?r=.12784241430585772:r=.15126156743993927:e[8]>1e-35?e[2]>.8958797346140276?r=.10624230855386699:r=-.1699142543394302:r=.10290106276456985:e[5]>3.5694334999727624?r=.09368877801612557:r=.1552615744687782:e[2]>3.3842466058243152?e[4]>3.5694334999727624?e[29]>1e-35?e[7]>.7022798213723723?r=.02282408308012389:r=-.032610792718175546:r=-.04405498437523181:e[46]>1e-35?r=-.14475563528583885:e[7]>.9159108669154322?r=.02539215399728953:e[134]>1e-35?r=.04720629593220485:e[4]>1.8688348091416842?r=-.00150052748656963:r=-.04528409340753242:e[5]>3.5694334999727624?e[4]>3.6505739029280164?e[29]>1e-35?r=.050909089229765704:e[39]>1e-35?r=-.08747827386821926:e[46]>1e-35?r=-.11300671054986217:r=-.002669293928522137:e[46]>1e-35?r=-.07873653229849684:e[39]>1e-35?r=-.06389470798465265:e[2]>.8958797346140276?e[47]>1e-35?r=-.07102696386827136:e[4]>1.8688348091416842?r=.04567768852273886:r=.016429189359442275:r=.024223384872688037:e[7]>.9569480028661056?r=.12458720561596202:r=-.006224718391409129;let n;e[29]>1e-35?e[2]>2.602003343538398?e[2]>4.166635176627655?e[7]>.8375851232899904?n=.027219239366992384:n=-.023288925509443156:e[7]>.5866799179067689?n=.05780689652787357:n=.019914206435185725:e[2]>1.2424533248940002?e[7]>.9246495578512688?n=.1091540005913688:n=.08430043254349175:e[6]>4.832297822126891?e[125]>1e-35?n=.029350728374412424:n=.1327178977041336:e[8]>1e-35?e[7]>.9793410316570949?n=-.10742256752042179:n=.10128035205992136:n=.08719230025231978:e[5]>3.772694874805912?e[39]>1e-35?n=-.07712063687837625:e[46]>1e-35?n=-.09987046122905541:e[2]>3.6242520361853052?e[134]>1e-35?n=.0549278412468898:e[155]>1e-35?n=.0628934857241284:e[47]>1e-35?n=-.14605662411148382:e[48]>1e-35?n=-.1460221669882455:n=.002073957868392086:e[2]>1e-35?e[47]>1e-35?n=-.0769198367034467:e[155]>1e-35?n=.0769122902449957:e[134]>1e-35?n=.06856131328753592:e[152]>1e-35?n=.07081107422282688:e[51]>1e-35?n=-.11095669360187602:e[91]>1e-35?n=-.08136006552659215:e[48]>1e-35?n=-.07180356044417698:e[18]>1e-35?n=-.029572927306223313:e[50]>1e-35?n=-.11419309779400831:n=.03331652781327257:n=.0015747823792064454:e[7]>.9662372103242399?n=.1203598683210537:n=.011240838199712565;let i;e[0]>1e-35?e[2]>2.4414009612931857?e[1]>1e-35?e[2]>4.03420147928485?i=.03823654007072966:e[7]>.9033253454895247?i=.09329944316059466:i=.06705865009439997:e[134]>1e-35?i=.06865805795066232:e[30]>1e-35?i=.05189058132179502:e[217]>1e-35?i=.044913757044379055:i=-.05078929160105722:e[1]>1e-35?e[6]>5.161920636569023?e[2]>1.4978661367769956?i=.10652732380394028:i=.13307829460294332:e[7]>.985694415330804?i=.06936133858882627:i=.11090193559908544:e[30]>1e-35?i=.10406540623634791:i=.03985408831881549:e[1]>1e-35?e[2]>3.772694874805912?e[29]>1e-35?e[7]>.7316379010844482?i=.012897973304512032:i=-.028068579877067623:i=.024577017676752924:e[5]>3.417592293073651?e[22]>1e-35?i=-.023871063947594612:e[7]>.8255520169851381?i=.0513970804870914:e[153]>1e-35?i=.0032035784177419503:i=.038713568639820416:e[7]>.9527510849235538?i=.10975706910869304:i=-.009433959232316078:e[38]>1e-35?i=.05195298239886214:e[30]>1e-35?i=.02476336300816124:e[2]>2.524928003624769?e[217]>1e-35?i=.0135414448190362:e[135]>1e-35?i=-.14660288310803915:i=-.07298980826531443:e[135]>1e-35?i=-.11136111748165503:e[123]>1e-35?i=-.1489448617480049:e[46]>1e-35?i=-.0922792773195811:i=-.024587716086845016;let s;e[0]>1e-35?e[2]>2.249904835165133?e[1]>1e-35?e[2]>3.540854293052788?e[3]>2.249904835165133?s=.0590142410559562:e[7]>.6376007852429183?s=.043799948513989724:s=-4018626768373957e-20:s=.0790082705503403:e[38]>1e-35?s=.06581244939148062:e[30]>1e-35?s=.04874874335011108:s=-.03908081910821116:e[3]>2.602003343538398?e[1]>1e-35?s=.0902076086329385:e[30]>1e-35?s=.10143876154366023:s=.021304615514737626:e[2]>1.4978661367769956?s=.10248710197602005:e[8]>1e-35?e[125]>1e-35?s=-.1652240484643952:s=.09695355914385996:s=.12574960258243387:e[1]>1e-35?e[2]>3.8815106545092593?e[3]>2.249904835165133?s=.030411053020370282:e[7]>.8375851232899904?s=.01347947217941036:s=-.02329004077119854:e[7]>.9480659774309611?e[22]>1e-35?s=-.021734552060979462:e[100]>1e-35?s=.12154672718218543:e[3]>1e-35?s=.0467045097539336:s=.07133232987671506:e[4]>2.012675845367575?e[4]>3.9219243190762363?s=.018631928508103857:s=.04026129961424531:s=-.0060403819170799225:e[38]>1e-35?s=.04740678443866351:e[30]>1e-35?s=.022411595432555845:e[2]>2.970085626360216?e[121]>1e-35?s=.016385457091892035:s=-.07115043890873148:e[4]>3.417592293073651?s=-.04057726754591634:e[29]>1e-35?s=-.10601923621749415:s=-.013474385705240824;let a;e[3]>1e-35?e[3]>3.481121732133104?e[30]>1e-35?a=.03419190074885174:e[39]>1e-35?a=-.07596248521514803:e[142]>1e-35?a=-.09906305142951233:e[143]>1e-35?a=-.11544208927241095:e[134]>1e-35?a=.03231677158309109:e[217]>1e-35?a=.04584520241402839:a=-.014587374070287719:e[30]>1e-35?e[141]>1e-35?a=-.05022127515891476:e[6]>3.540854293052788?a=.046006786519929344:e[3]>2.3502401828962087?a=.03746852485580482:a=.11887634683908754:e[142]>1e-35?a=-.0715680845257123:e[134]>1e-35?a=.05310603374316432:e[39]>1e-35?a=-.05301061369502469:e[143]>1e-35?a=-.06806923450459589:e[21]>1e-35?a=-.054617004299251364:e[113]>1e-35?e[6]>3.795426061844291?a=.03901365322581413:a=.11833310693969545:e[141]>1e-35?a=-.039041289505442084:e[3]>3.0677824455408698?a=.010823236602311471:e[29]>1e-35?a=-.062100944449970996:e[58]>1e-35?a=-.04585181543113668:e[99]>1e-35?a=.053796582993543764:e[100]>1e-35?e[6]>3.676220550121792?a=.02800134029424525:a=.12622387863644666:e[98]>1e-35?a=.06289940430905602:a=.023655750883710656:e[138]>1e-35?a=.09902929683374195:e[6]>5.161920636569023?a=.07160940969782595:e[141]>1e-35?a=.11975693334861698:a=.03480602671098732;let l;e[0]>1e-35?e[2]>2.4414009612931857?e[1]>1e-35?e[2]>4.600145018061341?l=.02024868069387139:e[2]>3.1984648276080736?l=.048682024362267456:l=.07158946327961134:e[134]>1e-35?l=.05360858064017479:e[30]>1e-35?l=.03969788038954029:e[39]>1e-35?l=-.1339275468398512:l=-.03340699462411555:e[1]>1e-35?e[2]>1.2424533248940002?l=.09338368602561321:e[5]>4.5379471377116305?l=.11818377094705468:l=.02406138301472482:e[30]>1e-35?l=.08786833398626331:l=.031294938606502315:e[1]>1e-35?e[2]>2.970085626360216?e[29]>1e-35?e[2]>4.923617305492666?l=-.0247806554659429:l=.00415615978158072:e[4]>2.138333059508028?e[4]>3.6505739029280164?l=-.0025888569756007704:l=.033556460788819964:l=-.011238496891848667:e[5]>3.5694334999727624?e[4]>2.012675845367575?e[2]>.8958797346140276?l=.03964701920383755:l=.024902380380505313:e[141]>1e-35?l=-.07221122170573789:l=.009221806859728395:e[2]>.8958797346140276?l=.09633850035166669:l=.007323280248710229:e[134]>1e-35?l=.038330704525669945:e[30]>1e-35?l=.01660549386778516:e[2]>2.524928003624769?e[217]>1e-35?l=.008967266036665084:e[29]>1e-35?l=-.12693911437262784:l=-.05779560753585583:e[29]>1e-35?l=-.0908743155940788:e[4]>3.314020688089767?l=-.030882471980034343:l=-.010429019903489632;let c;e[0]>1e-35?e[2]>2.138333059508028?e[1]>1e-35?e[2]>3.4498615536424366?e[3]>2.249904835165133?c=.04956831432894648:e[2]>5.223051249395764?c=-.010305811579773205:c=.027491320728082233:c=.06656735137915168:e[38]>1e-35?c=.05309749470598965:e[30]>1e-35?c=.03843762763805799:c=-.030980078724697425:e[3]>1e-35?e[1]>1e-35?c=.08089335516186445:c=.04120452858949669:e[6]>4.832297822126891?e[2]>.8958797346140276?c=.10006865536846919:c=.11917243570572485:e[8]>1e-35?e[2]>.8958797346140276?c=.06704577104028654:c=-.1454046740476985:e[219]>1e-35?c=-.13678871665753098:c=.07859247859374968:e[1]>1e-35?e[2]>3.314020688089767?e[3]>2.249904835165133?c=.024623237775190106:e[2]>4.73179313355342?c=-.02080435685185878:c=.0026175118278487855:e[6]>3.417592293073651?e[22]>1e-35?c=-.025465692791530083:e[45]>1e-35?c=-.044807460105408044:e[8]>1e-35?c=.008766235663186964:c=.032712521408248645:e[3]>2.602003343538398?c=-.0056332432294706036:e[6]>2.524928003624769?c=.09592889105245415:c=-.013339150198983546:e[38]>1e-35?c=.03563564253379704:e[30]>1e-35?c=.014870517098142924:e[2]>2.970085626360216?c=-.054537994223319376:e[219]>1e-35?c=-.13242819761683536:e[39]>1e-35?c=-.0910629106840573:c=-.01970485337755703;let u;e[0]>1e-35?e[2]>2.012675845367575?e[1]>1e-35?e[2]>3.4498615536424366?e[7]>.9246495578512688?u=.04812308497880073:e[29]>1e-35?u=.0005380021336956461:u=.03361690381564229:e[5]>3.5694334999727624?u=.05947219194425965:u=.11024468105183681:e[134]>1e-35?u=.04905351957215242:e[138]>1e-35?u=.05554447267811877:u=-.021863233324542066:e[29]>1e-35?e[5]>4.855921334140645?e[2]>.8958797346140276?u=.09590438270550732:u=.11498869480105023:u=.04093609484315685:u=.06588820186431316:e[1]>1e-35?e[2]>2.970085626360216?e[29]>1e-35?e[7]>.41763374498947375?u=.0043146758499583255:u=-.03443798345003191:e[58]>1e-35?u=-.08355523706358281:u=.017928058505534663:e[5]>3.5694334999727624?e[22]>1e-35?u=-.02209335592785362:e[2]>.8958797346140276?u=.03223396066919647:u=.0170789547385017:e[7]>.9546729796082215?e[2]>.8958797346140276?u=.09545837551902411:u=.008923660539643153:u=-.012322532316048181:e[134]>1e-35?u=.03182502017906531:e[138]>1e-35?e[29]>1e-35?u=-.06617589040350445:u=.040440282181288686:e[2]>2.802901033147999?u=-.043412758816960974:e[219]>1e-35?u=-.11700143817568372:e[48]>1e-35?u=-.11379636451926181:e[49]>1e-35?u=-.14202838670262277:e[39]>1e-35?u=-.08160450909782378:u=-.013448620144296253;let f;e[1]>1e-35?e[2]>2.602003343538398?e[3]>2.249904835165133?e[4]>3.6505739029280164?f=.004170792297448336:f=.0368033867902024:e[7]>.8333442551332461?e[2]>4.677480030793064?f=.009136341105716223:f=.03568813371096505:e[7]>.22301866079069904?e[2]>5.1209788959100075?f=-.02365589472388456:f=.00919157417627931:f=-.0379399276194825:e[3]>1e-35?e[5]>3.5694334999727624?e[2]>.8958797346140276?e[22]>1e-35?f=-.019258819649469603:f=.03709105125649261:f=.016860660630369267:e[3]>2.602003343538398?f=-.00991261350028801:e[7]>.9626084674797213?f=.11517814309711256:f=-.009719045525281071:e[2]>1.2424533248940002?e[7]>.7316379010844482?f=.07097600019370685:f=.04586465946843457:e[6]>4.783307617946789?f=.09722756919612678:e[8]>1e-35?e[7]>.9793410316570949?f=-.11805054859481241:f=.07110946491407406:f=.05402719662002902:e[134]>1e-35?f=.03393227005537922:e[30]>1e-35?f=.023661319650909306:e[2]>2.970085626360216?e[121]>1e-35?f=.031049210793405797:e[135]>1e-35?f=-.10837216222444626:e[219]>1e-35?f=-.14640457784236915:f=-.03965818070110935:e[121]>1e-35?f=.039992710146502054:e[143]>1e-35?f=-.09311937611688731:e[46]>1e-35?f=-.07559392834101462:e[219]>1e-35?f=-.09895720087616466:e[135]>1e-35?f=-.07586062007425573:f=-.011775153504486295;let m;e[1]>1e-35?e[3]>1e-35?e[141]>1e-35?m=-.03681630636575175:e[22]>1e-35?m=-.024594313135047084:e[7]>.9626084674797213?e[6]>3.676220550121792?m=.03355559026428929:e[3]>2.602003343538398?m=.012516956280523336:m=.1113827943542528:e[3]>2.3502401828962087?e[39]>1e-35?m=-.03483153469277968:e[29]>1e-35?m=-.06012725416594425:m=.03180949281577552:e[3]>1.2424533248940002?m=.007572391854701212:m=-.04833059473573461:e[7]>.5866799179067689?e[138]>1e-35?m=.084956566507563:e[7]>.9407436463973539?e[6]>5.161920636569023?m=.07174368742657447:e[7]>.9793410316570949?m=.024186357466630726:m=.07739671408330714:m=.048429456456843774:e[6]>5.078289090109146?e[138]>1e-35?m=.07555203090037793:m=.033181836695182196:m=-.02197298038836975:e[38]>1e-35?m=.031334580210504996:e[30]>1e-35?m=.021270582199851534:e[121]>1e-35?m=.0329970846397004:e[42]>1e-35?m=.04064092183581017:e[135]>1e-35?m=-.08440485061890712:e[219]>1e-35?m=-.10638369254266776:e[143]>1e-35?m=-.09755269717731242:e[144]>1e-35?m=-.1173397395002877:e[51]>1e-35?m=-.1288517354356988:e[49]>1e-35?m=-.13923283846721088:e[91]>1e-35?m=-.1224188861275682:e[3]>3.156774023138548?m=-.02477169567121223:m=-.006917307470148426;let h;e[2]>2.802901033147999?e[7]>.9159108669154322?e[3]>3.314020688089767?h=-.0010700017432373199:e[2]>4.832297822126891?h=.009582861728698568:h=.029780100164495754:e[30]>1e-35?e[210]>1e-35?h=-.028942339056712313:h=.020599853201598167:e[3]>3.540854293052788?h=-.030156164189210577:e[2]>4.620046665062766?e[3]>1.8688348091416842?h=-.00103151911027294:e[217]>1e-35?h=.005930672148987754:h=-.03586108945255643:h=.004417350848115493:e[3]>1e-35?e[2]>.8958797346140276?e[5]>3.5694334999727624?e[3]>3.6242520361853052?e[30]>1e-35?h=.02388317653477103:h=-.0034021644637823034:e[125]>1e-35?h=-.059034648546006076:e[18]>1e-35?h=-.02514305472376584:e[46]>1e-35?h=-.05290744310611087:e[21]>1e-35?h=-.03750702516022783:e[39]>1e-35?h=-.031092446888446753:h=.028272541588979773:e[7]>.9676186228082213?e[3]>2.602003343538398?h=-.009169247394016047:h=.11347856526033356:h=-.00310251177264949:e[2]>1e-35?h=.00844340216096322:h=-.00894414829369423:e[2]>1.4978661367769956?e[7]>.6223082132708274?e[6]>3.0677824455408698?h=.04885293193722139:h=.10736598620828455:h=.026545392586289893:e[6]>4.938058177869999?e[2]>.8958797346140276?h=.07355143458077283:h=.09420954595651049:e[8]>1e-35?e[2]>.8958797346140276?h=.07966619891180966:h=-.10471235843714122:h=.04867207725748343;let p;e[1]>1e-35?e[3]>1e-35?e[5]>3.5694334999727624?e[3]>2.249904835165133?e[22]>1e-35?p=-.0262424908256809:e[8]>1e-35?p=.001637419319408071:e[155]>1e-35?p=.053444838794586114:e[99]>1e-35?p=.05039717103923269:p=.02448689278350471:e[141]>1e-35?p=-.05723199469388615:p=.005411562031545046:e[7]>.9626084674797213?e[3]>2.602003343538398?p=.00980665121101267:p=.10420505846679201:p=-.001639851950872336:e[7]>.26911173821332884?e[138]>1e-35?p=.07591724033622518:e[7]>.9275861021112151?e[5]>5.173316863805991?p=.06276466446882598:e[194]>1e-35?p=-.1330802382498368:e[5]>3.156774023138548?e[8]>1e-35?p=-.027034262965141144:p=.03949417085855365:p=.08851962788853085:e[9]>1e-35?p=.05379608621573637:p=.032253635727649325:e[138]>1e-35?p=.058048925881989615:p=.005620237500451222:e[134]>1e-35?p=.02734220426041116:e[30]>1e-35?p=.017746745665275825:e[142]>1e-35?p=-.07814745820732061:e[143]>1e-35?p=-.08860968498533135:e[14]>1e-35?p=.01954819512523945:e[42]>1e-35?p=.03333354798081121:e[147]>1e-35?p=-.11642554317575503:e[49]>1e-35?p=-.12425086420883341:e[146]>1e-35?p=-.12996952774815626:e[3]>3.817651943129708?p=-.03275661606585881:p=-.014860694091417102;let A;e[1]>1e-35?e[2]>2.524928003624769?e[3]>2.249904835165133?e[3]>3.725620842493839?A=-.000906155627647317:e[24]>1e-35?A=.0785324151067157:e[154]>1e-35?A=-.058309500036909157:A=.026762512119806844:e[7]>.26911173821332884?e[2]>4.505334588423558?A=-.010584135839537876:A=.013982545022862853:A=-.03208712711019827:e[3]>1e-35?e[2]>.8958797346140276?e[5]>3.5694334999727624?A=.026401003398891884:e[3]>2.602003343538398?A=-.008168418058515686:e[7]>.9662372103242399?A=.10626422692131453:A=-.01031637351522216:A=.010358942714602982:e[2]>1.2424533248940002?e[2]>2.012675845367575?A=.0312811686023135:A=.05423507965224627:e[6]>4.832297822126891?A=.08479742987484738:e[8]>1e-35?e[7]>.9793410316570949?A=-.09338070882722671:A=.058145805002919916:A=.04227449937397909:e[38]>1e-35?A=.025289091019879376:e[2]>3.1132683346437333?e[3]>.8958797346140276?e[46]>1e-35?A=-.09114331684757576:e[135]>1e-35?A=-.07948190608487016:e[48]>1e-35?A=-.12911151777601662:e[143]>1e-35?A=-.09735205976374478:A=-.017192402584465798:A=-.08661537827420282:e[217]>1e-35?A=.033425023239885124:e[14]>1e-35?A=.02729990952110066:e[48]>1e-35?A=-.09098188061865646:e[46]>1e-35?A=-.05848458618550134:e[91]>1e-35?A=-.10969774095556883:A=-.0068971807474334365;let E;e[1]>1e-35?e[3]>1e-35?e[3]>1.2424533248940002?e[125]>1e-35?E=-.06150017523108556:e[39]>1e-35?E=-.03350257370473994:e[22]>1e-35?E=-.02193617429266551:e[8]>1e-35?E=7274245146620154e-20:e[6]>3.676220550121792?e[4]>2.3502401828962087?E=.026702786904914785:E=.00851181280021978:e[4]>2.673553765358735?E=.010358811529123666:e[6]>2.802901033147999?E=.08891517935366504:E=.023114323891227237:E=-.02875694375159779:e[4]>1.7005986908310777?e[138]>1e-35?E=.06720372648635974:e[6]>5.427147823217923?e[9]>1e-35?E=.0544777682515472:E=.037060547607205986:e[6]>1e-35?E=.022016394753027843:E=-.1559604133821172:e[6]>3.540854293052788?E=-.009372509268454739:E=-.24388295956457617:e[38]>1e-35?E=.023012278764368795:e[138]>1e-35?E=.03564423186175008:e[30]>1e-35?E=.008093643695090883:e[217]>1e-35?E=.028810461962454004:e[135]>1e-35?E=-.07120877224354143:e[46]>1e-35?E=-.06546454537408128:e[144]>1e-35?E=-.09534262423492412:e[143]>1e-35?E=-.0770344566882831:e[29]>1e-35?E=-.06285371287531509:e[14]>1e-35?E=.02073120300153793:e[123]>1e-35?E=-.09016320513643451:e[51]>1e-35?E=-.10496442920973255:e[3]>3.1132683346437333?E=-.019949599427836494:E=-.0019060085544902166;let x;e[0]>1e-35?e[2]>1.8688348091416842?e[2]>3.1984648276080736?e[1]>1e-35?e[3]>2.249904835165133?x=.03174009468268253:e[2]>5.363634090365639?x=-.019608371322822362:x=.012560836552403976:x=-.006925466014569184:e[1]>1e-35?x=.047796055675515446:x=.014363935217773802:e[6]>5.391349638084432?e[2]>.8958797346140276?e[3]>1e-35?x=.05193425865217324:x=.07891754708034264:x=.09859506024630252:e[8]>1e-35?e[5]>4.424828703319957?x=.0288226384042998:x=-.09397342098461306:e[4]>.8958797346140276?x=.06181532763949055:e[3]>1e-35?x=.0661728888522049:x=-.18938681666136592:e[2]>3.6242520361853052?e[30]>1e-35?x=.005754128097002715:e[4]>1.7005986908310777?e[1]>1e-35?e[3]>1.8688348091416842?x=.003940381852503271:x=-.01767544594631589:e[134]>1e-35?x=.005683243725945637:x=-.033167818200618454:x=-.049739953036904844:e[1]>1e-35?e[5]>3.417592293073651?e[3]>2.249904835165133?e[3]>4.051747139190486?x=-.013281167238314323:x=.016971087295600894:x=-.0032296953806057044:e[8]>1e-35?e[3]>1e-35?x=-.09772932329003692:x=.10215199291158968:e[3]>1e-35?x=.04042124133857408:e[4]>1.7005986908310777?x=-.03780917296974188:x=-.29617407728303585:e[3]>1.2424533248940002?e[134]>1e-35?x=.019695468056761475:x=-.008073287117671947:x=-.07196945037292647;let b;e[0]>1e-35?e[3]>1e-35?e[30]>1e-35?b=.04565870990720628:e[4]>3.481121732133104?b=-.0010242035152053465:e[46]>1e-35?b=-.06735757101078846:b=.028047085557873476:e[4]>.8958797346140276?b=.061451212522936484:b=-.008994471708946133:e[4]>3.8815106545092593?b=-.015862290359637304:e[4]>1.2424533248940002?e[156]>1e-35?b=-.0353203284829365:e[135]>1e-35?b=-.029955239188290975:e[153]>1e-35?b=-.024262881593313065:e[21]>1e-35?b=-.04039396048201336:e[155]>1e-35?b=.031605649750965394:e[46]>1e-35?b=-.0412690351363074:e[18]>1e-35?b=-.02516534034859168:e[51]>1e-35?b=-.09383050740007202:e[219]>1e-35?e[30]>1e-35?b=.05781620337941066:b=-.031029108058883783:e[54]>1e-35?b=-.1312103962175427:e[14]>1e-35?b=.029309503966067275:e[52]>1e-35?b=-.12376041877584809:e[49]>1e-35?b=-.08405476403385437:e[129]>1e-35?b=-.07017699310303659:e[3]>3.238486181444842?b=.0005864979938663785:e[90]>1e-35?b=-.19027994988708324:e[4]>2.4414009612931857?b=.013036973814688194:e[141]>1e-35?b=-.05866284827055356:e[196]>1e-35?e[3]>1.2424533248940002?e[3]>1.4978661367769956?b=.021738540839636195:b=.10410506831002041:b=-.25590968590756463:b=.0023982515170817725:b=-.04143304307857132;let v;e[0]>1e-35?e[2]>1.8688348091416842?e[2]>3.417592293073651?e[2]>5.335128436483344?v=-.011443269019739626:e[1]>1e-35?v=.015228192424880932:v=-.005492858431736962:e[1]>1e-35?e[5]>3.5694334999727624?v=.03605247912942737:v=.08439131345296227:v=.009650676995478455:e[5]>5.096808314315481?e[2]>.8958797346140276?e[29]>1e-35?v=.07077360688836766:v=.044754385330663386:v=.09313294724999382:e[8]>1e-35?e[2]>.8958797346140276?v=.04214845406094496:v=-.10283747682230321:e[4]>.8958797346140276?v=.05232959789940822:e[2]>.8958797346140276?v=.00730829946441921:v=-.23825070451282065:e[7]>.9358314658959646?e[5]>3.417592293073651?e[8]>1e-35?v=-.013117301012430346:v=.010418379595902224:e[19]>1e-35?v=-.07514668047310291:v=.05032486941219513:e[29]>1e-35?e[1]>1e-35?e[7]>.14547530463198097?e[4]>2.138333059508028?v=-.009576060406554683:v=-.04582944318062007:v=-.04685159067258116:v=-.07022291581850879:e[1]>1e-35?e[4]>2.3502401828962087?e[4]>3.8815106545092593?v=-.008313873320272646:e[140]>1e-35?v=-.029352675967497712:e[37]>1e-35?v=-.09937923794037767:v=.015967772276156707:v=-.009857373135428817:e[38]>1e-35?v=.011345159604794278:e[2]>2.4414009612931857?e[30]>1e-35?v=.001522017389940959:v=-.026992183902105407:v=-.006358778971076675;let S;e[0]>1e-35?e[2]>1.8688348091416842?e[2]>2.970085626360216?e[7]>.8649016459419877?S=.018617011644318126:e[29]>1e-35?e[2]>4.832297822126891?S=-.03407648259949232:S=-.0036502511604675977:e[4]>3.540854293052788?S=-.00934040898683245:S=.010922739771398862:e[7]>.9676186228082213?S=.05137169375874399:S=.02682190004807807:e[29]>1e-35?e[2]>.8958797346140276?S=.065076078729683:e[8]>1e-35?e[7]>.9750059495478345?e[7]>.996914501566243?S=.08915557171019604:S=-.06286636147644172:S=.0902247220475161:e[4]>.8958797346140276?S=.09051085461905525:e[9]>1e-35?S=-.19701197524821418:S=.005536577088671752:e[30]>1e-35?S=.0682573098268795:S=.031380692115494484:e[2]>4.151008904875603?e[155]>1e-35?S=.026867659395235544:e[7]>.5866799179067689?S=-.008345671861059714:S=-.02185200164340811:e[7]>.9626084674797213?e[22]>1e-35?S=-.024341883095402903:e[141]>1e-35?e[29]>1e-35?S=.08888912525147288:S=-.040584195806350004:S=.014817521849450843:e[4]>1.7005986908310777?e[4]>3.9219243190762363?S=-.01259238316205765:e[156]>1e-35?S=-.03305969547622109:e[50]>1e-35?S=-.10133912689920138:e[155]>1e-35?S=.025358210175047153:e[55]>1e-35?S=-.14645261489281414:e[9]>1e-35?S=.012035823488806215:S=.0010743871783232305:S=-.030440082321355873;let k;e[0]>1e-35?e[1]>1e-35?e[7]>.30853255358841714?e[4]>.8958797346140276?e[138]>1e-35?k=.0708169212387357:e[7]>.9974623466432676?k=.06323909894881967:k=.04463133906529934:k=-.006876640569960593:e[4]>2.138333059508028?k=.02983313061920756:k=-.012849740499321841:e[138]>1e-35?k=.05170725384597862:e[134]>1e-35?k=.03407970940934425:e[32]>1e-35?k=.04641257566344885:e[217]>1e-35?k=.04726549849359106:e[152]>1e-35?k=.04284855498215312:k=-.018635981778740818:e[7]>.9358314658959646?e[1]>1e-35?k=.013495195381145214:k=-.0017562536904350947:e[153]>1e-35?k=-.035450683955968364:e[135]>1e-35?k=-.033677490938511655:e[1]>1e-35?e[156]>1e-35?k=-.03492338371344172:e[4]>2.012675845367575?e[8]>1e-35?k=-.012478407554855247:e[58]>1e-35?k=-.06588308463544146:k=.01024668455910621:k=-.017964352445712636:e[138]>1e-35?k=.023509519134334668:e[134]>1e-35?k=.009985116251562821:e[219]>1e-35?k=-.08089904073615993:e[144]>1e-35?k=-.08668450969211726:e[146]>1e-35?k=-.11193950701534479:e[91]>1e-35?k=-.09510832561737878:e[47]>1e-35?k=-.06671901650698997:e[145]>1e-35?k=-.10185972302071798:e[142]>1e-35?k=-.050979038763275586:k=-.008318124414257324;let P;e[2]>2.4414009612931857?e[7]>.5866799179067689?e[1]>1e-35?e[2]>5.059420419187638?P=-.004966114458456121:e[3]>1.4978661367769956?e[6]>3.9219243190762363?P=.016160825033090097:e[4]>2.673553765358735?P=-.008119911797705546:e[7]>.9676186228082213?P=.10191214482603793:P=.010406721157764452:e[4]>2.602003343538398?P=.011963972867583182:e[209]>1e-35?e[24]>1e-35?P=-.4633165603515741:P=-.027241411195905924:P=-.01021341522779383:e[3]>.8958797346140276?e[39]>1e-35?P=-.07106669495723826:P=-.003949154414882924:P=-.06434150131915288:e[3]>1.7005986908310777?e[1]>1e-35?P=.005050893558647285:P=-.01649483548684653:e[217]>1e-35?P=.0027009145619870485:e[7]>.16413460456379095?P=-.021492035902356262:P=-.04956173856083012:e[3]>1e-35?e[2]>.8958797346140276?e[4]>3.314020688089767?P=.004614615289098078:e[125]>1e-35?P=-.053838919278819175:e[141]>1e-35?P=-.031232660335016666:e[7]>.9676186228082213?P=.031522536832188655:P=.016369948821613637:P=-.001970208279177045:e[2]>1.2424533248940002?e[7]>.8045995506441456?e[6]>3.0677824455408698?P=.035653122678366796:P=.09668798382116887:P=.017192957672541906:e[6]>5.427147823217923?e[2]>.8958797346140276?P=.05167603828162103:P=.07201242912898732:e[4]>.8958797346140276?e[6]>4.3882378946731615?P=.04079789432551034:P=-.00477197753110532:P=-.1330224689055222;let N;e[0]>1e-35?e[1]>1e-35?e[6]>5.519456907163478?e[3]>1e-35?N=.025938224253040522:e[7]>.9480659774309611?N=.06369970668749851:N=.04567224211157202:e[8]>1e-35?N=-.03272937728465352:e[7]>.8002228006195066?e[219]>1e-35?N=-.06304921759586735:N=.04293432033794005:N=.0034607309539607385:e[30]>1e-35?N=.03333728636724803:e[134]>1e-35?N=.03171739664928598:e[32]>1e-35?N=.04247521237473512:e[217]>1e-35?N=.04515237436183519:e[138]>1e-35?N=.043674672816657406:N=-.021495642896979555:e[153]>1e-35?e[7]>.7405695827634472?N=-.005353425538700483:N=-.03818743916821677:e[1]>1e-35?e[156]>1e-35?N=-.026937004040991603:e[9]>1e-35?N=.01687211330975012:e[129]>1e-35?N=-.06344334253531962:e[5]>3.276966702012906?e[3]>2.4414009612931857?e[3]>4.3882378946731615?N=-.029787052855333836:e[140]>1e-35?N=-.0315337765152156:N=.01010125865272709:N=-.003643087951301554:e[3]>1.8688348091416842?N=-.009293469974765106:e[7]>.9407436463973539?e[19]>1e-35?N=-.10837629052758145:N=.08012552652666853:N=-.03240188731353479:e[3]>.8958797346140276?e[138]>1e-35?N=.028089541906112948:e[134]>1e-35?N=.011775653029555359:e[54]>1e-35?N=-.1329256322319015:N=-.010520589644656487:N=-.058476715353390545;let W;e[0]>1e-35?e[2]>1.7005986908310777?e[2]>2.970085626360216?e[3]>1.4978661367769956?e[1]>1e-35?W=.015966021866473425:W=-.004942501766182043:e[7]>.7646034107159144?W=.0008922354520049755:W=-.02377096637770522:e[1]>1e-35?W=.03185471115279236:W=.009030463601278762:e[6]>5.033695261903033?e[2]>.8958797346140276?e[3]>1e-35?W=.03583918176912262:W=.05978765203310842:e[3]>1.4978661367769956?W=.04363706154403441:W=.08596238935719265:e[8]>1e-35?e[4]>3.676220550121792?W=-.14139420543234502:e[6]>4.135134555718313?W=.06641653507737781:W=-.08482961471233386:e[219]>1e-35?W=-.08432601495298837:W=.036383288293587494:e[2]>4.212100162283537?e[4]>4.06899022722607?W=-.027653216441781994:e[4]>1.2424533248940002?W=-.0074990353344818825:W=-.047274115298751654:e[3]>4.350257124271638?W=-.021535524001034215:e[7]>.9626084674797213?e[6]>3.314020688089767?W=.008343192891130257:e[3]>2.602003343538398?W=-.029175290449111352:e[19]>1e-35?W=-.0982821612709299:W=.07967468666491928:e[3]>2.012675845367575?e[1]>1e-35?e[141]>1e-35?W=-.050000478457880464:e[99]>1e-35?W=.03066844761711629:W=.00757148708610041:e[14]>1e-35?W=.030325269400598688:e[138]>1e-35?W=.029925649226634522:W=-.005865781126590595:e[7]>.14547530463198097?W=-.006746433384005582:W=-.03419211369300411;let re;e[7]>.8453853180651066?e[9]>1e-35?e[204]>1e-35?e[5]>3.979637980058199?re=.03492440471960614:re=.10640952227810228:re=.024674544399570984:e[21]>1e-35?re=-.03056548710005192:e[24]>1e-35?re=.04417102228084844:e[18]>1e-35?e[5]>3.417592293073651?re=-.01915628728670732:re=.08218968786016527:e[22]>1e-35?re=-.015022557207326592:e[7]>.9941118339384912?re=.024199625103362956:e[135]>1e-35?re=-.01204089678887213:e[5]>3.156774023138548?e[14]>1e-35?re=.03343354440638259:e[144]>1e-35?re=-.06832894943893354:re=.0114980261254499:e[12]>1e-35?e[100]>1e-35?re=.09915326976032354:re=-.011405707270850872:re=.05400113313957842:e[138]>1e-35?re=.029070115198082648:e[7]>.11348809759407426?e[9]>1e-35?re=.0124381999772114:e[14]>1e-35?re=.021548670539672424:e[152]>1e-35?re=.02386756199239544:e[155]>1e-35?re=.024879667358339554:e[217]>1e-35?re=.014495299809094343:e[17]>1e-35?re=.023665548251738264:e[21]>1e-35?re=-.04352613176288253:e[142]>1e-35?re=-.041479100066479035:e[47]>1e-35?re=-.054730987834988636:e[135]>1e-35?re=-.02041552814087628:e[12]>1e-35?re=.00599257601351913:e[19]>1e-35?re=.017289098956116435:re=-.005346146967029123:re=-.015035114021856248;let ge;e[2]>2.524928003624769?e[39]>1e-35?ge=-.054727205204329936:e[2]>5.1209788959100075?e[3]>1.7005986908310777?ge=-.006846267565269392:e[5]>6.826002629905951?ge=-.031164989612379426:ge=-.002741497453668024:e[91]>1e-35?ge=-.09671408062751485:e[4]>1.4978661367769956?e[1]>1e-35?e[3]>2.249904835165133?ge=.01457038163563883:e[7]>.1998775237752378?ge=.0022386178156093236:ge=-.023878153904868322:e[138]>1e-35?ge=.02577301491883366:e[134]>1e-35?ge=.012196636151923639:ge=-.011620066788940737:ge=-.02547345266933859:e[3]>1e-35?e[2]>1e-35?e[1]>1e-35?e[125]>1e-35?ge=-.054140900037670386:e[5]>3.5694334999727624?ge=.011956526123643832:e[3]>2.602003343538398?ge=-.02114925328017154:e[7]>.9662372103242399?ge=.08782010508103752:ge=-.017223208918198857:e[138]>1e-35?ge=.03552967765214556:e[134]>1e-35?ge=.02029988465200251:ge=-.0027071098830831453:ge=-.010563423003945922:e[2]>1.2424533248940002?e[1]>1e-35?e[5]>3.156774023138548?ge=.020789754957971127:e[8]>1e-35?ge=.09676607622337308:ge=-.13431522143386382:ge=-.04328684841078818:e[6]>5.427147823217923?e[2]>.8958797346140276?ge=.04286558286931383:ge=.0632450248289209:e[4]>.8958797346140276?e[8]>1e-35?e[4]>3.676220550121792?ge=-.12134536828900527:ge=-.0021406313647826976:ge=.02703554321037796:ge=-.10987991092748431;let te;e[3]>3.238486181444842?e[30]>1e-35?te=.009506310623811853:e[39]>1e-35?te=-.0390989997202559:e[187]>1e-35?te=-.07249802958837052:e[46]>1e-35?te=-.05080833699879983:e[143]>1e-35?te=-.06014247774751084:e[219]>1e-35?te=-.05179602905357869:e[6]>6.1537953943602615?e[15]>1e-35?te=-.025022238573512268:te=.0011147676050071987:te=-.013840284878987585:e[7]>.9626084674797213?e[5]>3.417592293073651?e[3]>1e-35?e[6]>3.9219243190762363?te=.008593726678003006:te=.05272960047875293:e[5]>4.424828703319957?te=.03164186747443643:te=-.019512539098210834:e[3]>2.602003343538398?te=-.0016290671598964486:e[3]>1.2424533248940002?e[8]>1e-35?te=-.1920669264002081:te=.09024848315677546:e[8]>1e-35?te=.06434775905745808:e[44]>1e-35?te=.11389595321585716:te=-.036695137521575945:e[6]>4.987019604243537?e[141]>1e-35?te=-.03813401544172915:e[138]>1e-35?te=.029859363038130183:e[58]>1e-35?te=-.06135288076045784:e[39]>1e-35?te=-.04609789446034826:e[7]>.14547530463198097?e[11]>1e-35?te=.0007666746170242386:e[129]>1e-35?te=-.04984156530077896:e[18]>1e-35?te=-.01554744241744757:e[10]>1e-35?e[219]>1e-35?te=-.043774129950223145:te=.0062051346459236715:te=.014331149613197688:te=-.004868728135790881:te=-.009310258638274059;let G;e[0]>1e-35?e[2]>1.7005986908310777?e[2]>3.817651943129708?e[3]>1.8688348091416842?G=.0015603015891380355:G=-.018128739944024166:e[5]>3.5694334999727624?e[6]>5.427147823217923?G=.017445711714402918:G=-.006013735620008879:e[3]>1.2424533248940002?G=.08568755276415789:e[4]>2.602003343538398?G=.03195371214541369:e[6]>2.970085626360216?G=-.3506562612672139:G=-.038898555979475155:e[6]>5.391349638084432?e[2]>.8958797346140276?G=.04755052122467952:e[3]>1.4978661367769956?G=.03861414711908666:G=.08185303441168128:e[8]>1e-35?e[5]>4.424828703319957?G=.016473058697350277:G=-.08025494910794358:e[219]>1e-35?G=-.06606152909975703:G=.033955083083682974:e[153]>1e-35?G=-.022769519242142378:e[155]>1e-35?G=.021917770434351808:e[3]>4.051747139190486?G=-.016298405734735375:e[4]>1.2424533248940002?e[156]>1e-35?G=-.023334559703496013:e[91]>1e-35?G=-.07354920004445119:e[21]>1e-35?G=-.03472005783841508:e[9]>1e-35?G=.0088614848397155:e[152]>1e-35?G=.01650058356046536:e[50]>1e-35?G=-.08689386936995537:e[219]>1e-35?G=-.025293957964644554:e[22]>1e-35?G=-.02911571993589908:e[52]>1e-35?G=-.10060771324188006:e[151]>1e-35?G=-.11187645020980451:e[49]>1e-35?G=-.07269389735370566:G=.00010096962399904588:G=-.0308050484468705;let q;e[0]>1e-35?e[2]>1.7005986908310777?e[2]>3.1132683346437333?e[2]>5.589117819455554?q=-.01634394676179118:e[135]>1e-35?q=-.025978770194490092:q=.003478202132522329:e[5]>3.772694874805912?e[6]>5.55101783490842?q=.0201238113260563:q=-.003889163967162744:q=.0619995705843029:e[6]>5.391349638084432?e[2]>.8958797346140276?q=.04441301244720888:q=.07580163057048642:e[5]>4.424828703319957?q=.030400021609279876:e[135]>1e-35?e[6]>4.03420147928485?q=-.1614949959350695:q=.011868201115510678:e[144]>1e-35?q=-.24480189212017833:q=.00743113235503554:e[135]>1e-35?q=-.02500550080046047:e[155]>1e-35?q=.019914668189284807:e[14]>1e-35?q=.016272311078771865:e[2]>4.436734027666816?q=-.010942143677155697:e[152]>1e-35?q=.01655515192923104:e[5]>3.276966702012906?e[208]>1e-35?q=.01544696196221499:e[209]>1e-35?q=.011686634595667988:e[204]>1e-35?q=.012948259428096241:e[54]>1e-35?q=-.0987840586310838:e[17]>1e-35?q=.019642065140602974:e[9]>1e-35?q=.002408217148588979:e[129]>1e-35?q=-.051760999013377655:e[53]>1e-35?q=-.12326801905337725:e[156]>1e-35?q=-.027148214121600067:q=-.00591946140033722:e[141]>1e-35?q=.08076229481403298:e[100]>1e-35?q=.09029873540689846:q=.004633440115146894;let se;e[1]>1e-35?e[4]>2.138333059508028?e[9]>1e-35?e[7]>.9738681190948303?e[4]>2.249904835165133?se=.0335386338744903:se=.08871810783567416:se=.019225035967642936:e[7]>.5866799179067689?e[44]>1e-35?se=-.028577747938027556:e[22]>1e-35?se=-.017080349342057245:e[123]>1e-35?se=-.06459630434555787:se=.01496396100048332:e[7]>.04507521918085865?se=.0037545927605624665:se=-.024364818555823085:e[7]>.3301972011875425?e[4]>.8958797346140276?se=.003955118988355861:se=-.024852972286710795:e[210]>1e-35?se=-.06918033561606161:se=-.016436360434421187:e[219]>1e-35?se=-.07074619361594191:e[14]>1e-35?se=.02288621182895308:e[30]>1e-35?se=.009951065285890723:e[4]>3.0677824455408698?e[48]>1e-35?se=-.08645289278185848:e[18]>1e-35?se=-.07128859518483391:e[46]>1e-35?se=-.059012415377229614:e[51]>1e-35?se=-.09897820075751956:e[143]>1e-35?se=-.0658809793369211:e[39]>1e-35?se=-.05072244120975425:e[145]>1e-35?se=-.1041573357946847:e[21]>1e-35?se=-.07265724033978356:e[121]>1e-35?se=.032340406020414894:e[150]>1e-35?se=-.12780465144045577:e[50]>1e-35?se=-.10084067045905792:se=-.008282579596590931:e[31]>1e-35?se=.09475423612489574:e[134]>1e-35?se=.016436600209473996:se=-.0032052350949025154;let ne;e[0]>1e-35?e[1]>1e-35?e[6]>5.980149988077803?e[3]>1e-35?ne=.016868562767356994:e[7]>.9480659774309611?ne=.0490126593301439:ne=.03183712887814021:e[4]>.8958797346140276?e[8]>1e-35?ne=-.018344689935240077:e[7]>.5762123732244849?ne=.027823839417468396:ne=.0022237549483396734:ne=-.049221463486990365:e[30]>1e-35?ne=.024881540664409785:e[4]>3.0677824455408698?ne=-.012956173562801246:ne=.010844244442972509:e[153]>1e-35?ne=-.021011529883710918:e[135]>1e-35?ne=-.022862755771243214:e[91]>1e-35?ne=-.06523564179230792:e[3]>4.3372693810700085?ne=-.01836396186345982:e[4]>1.2424533248940002?e[14]>1e-35?ne=.018063557788938384:e[1]>1e-35?e[58]>1e-35?ne=-.05666864992513037:e[37]>1e-35?ne=-.09859173931566362:e[140]>1e-35?ne=-.026368697925604742:e[139]>1e-35?ne=-.06458698835998881:e[3]>2.4414009612931857?e[8]>1e-35?ne=-.012750470980894203:e[128]>1e-35?ne=-.06062526587440112:ne=.011637315217958607:e[7]>.9569480028661056?e[6]>3.314020688089767?e[6]>8.256477558772088?ne=-.01867324944649552:ne=.013333709765106694:e[19]>1e-35?ne=-.0862336521704207:ne=.06263843669460754:ne=-.005209374987876728:e[29]>1e-35?ne=-.05314556259108334:e[144]>1e-35?ne=-.06747511467043471:ne=-.0032459743896180644:ne=-.025647852465095045;let H;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>2.802901033147999?e[153]>1e-35?H=-.028446025186518367:e[135]>1e-35?H=-.030498458478750823:e[4]>1.4978661367769956?H=.0028332406263713176:H=-.029966327008991617:H=.018714561890725637:e[6]>5.033695261903033?e[2]>.8958797346140276?H=.041738631496127304:H=.0701395739744944:e[7]>.9811887196001154?e[28]>1e-35?e[194]>1e-35?H=-.6270617037879163:H=-.14198370205598315:H=-.008029082191082339:H=.03966126215239892:e[153]>1e-35?H=-.018792731305353614:e[135]>1e-35?H=-.020500053366640306:e[156]>1e-35?e[11]>1e-35?H=-.05063175110475535:H=-.0120172710473678:e[147]>1e-35?H=-.06181360325166399:e[7]>.06275229375044648?e[52]>1e-35?H=-.09381845963236321:e[4]>4.424828703319957?H=-.015836182358134197:e[4]>1.2424533248940002?e[48]>1e-35?H=-.047387335727107405:e[50]>1e-35?H=-.07061356901704502:e[151]>1e-35?H=-.09680213548388712:e[46]>1e-35?H=-.028970851669790916:e[123]>1e-35?H=-.035197840867969954:e[49]>1e-35?H=-.06299268464836878:e[149]>1e-35?H=-.10197175263174806:e[58]>1e-35?H=-.03908263666673043:e[22]>1e-35?H=-.021903737116021876:e[2]>.8958797346140276?H=.005307704388235018:H=-.0020984759645931708:H=-.021935509998616008:H=-.01887705116018838;let O;e[2]>2.4414009612931857?e[2]>4.749261159734808?e[219]>1e-35?O=-.0427111578574511:e[153]>1e-35?O=-.030189831687705213:e[135]>1e-35?O=-.03512251542671204:O=-.005813108237155817:e[39]>1e-35?O=-.03612853474204475:e[91]>1e-35?O=-.07347487395456895:e[142]>1e-35?O=-.04314124434818331:e[21]>1e-35?O=-.03933135423264962:e[29]>1e-35?e[6]>4.3882378946731615?e[1]>1e-35?O=-.0015250307417007892:O=-.0490054084929899:e[209]>1e-35?O=-.19107169934362123:O=-.032434842765588306:e[18]>1e-35?O=-.04413318629193353:e[5]>3.772694874805912?O=.004026864766696988:e[7]>.9705672697050661?e[4]>2.602003343538398?O=-.0184663870129198:O=.08888448773905216:O=-.0040785146358560806:e[29]>1e-35?e[2]>1.2424533248940002?e[1]>1e-35?e[5]>3.156774023138548?O=.012676257607559291:e[4]>2.012675845367575?O=.07794141958502514:O=-.23905004122480836:O=-.03904279404529968:e[6]>5.818597045157784?e[1]>1e-35?O=.04439337662833094:O=-.009601154125838422:e[28]>1e-35?e[7]>.9926276364955392?e[156]>1e-35?O=.08495906118788314:e[153]>1e-35?O=.09808912606252018:O=-.41470362752984724:O=.024659633328041372:e[6]>4.3882378946731615?O=.02348696158531392:O=-.011219631635525798:e[2]>.8958797346140276?O=.00764827947682953:O=-.002636723662133651;let j;e[0]>1e-35?e[138]>1e-35?j=.04040206743401164:e[7]>.47159631571429605?e[39]>1e-35?j=-.04204265697956852:e[18]>1e-35?j=-.02345608311313191:e[46]>1e-35?j=-.07250113205332377:e[47]>1e-35?j=-.06901706560471924:e[123]>1e-35?j=-.02471508138476658:e[91]>1e-35?j=-.08527667683257537:e[6]>5.519456907163478?e[7]>.9811887196001154?j=.033642311398086024:j=.019968221974742344:e[6]>3.540854293052788?e[28]>1e-35?e[7]>.9914949911911836?j=-.17171139407761582:j=.033182911468765224:j=.0060896749985828915:e[7]>.9626084674797213?j=.050178751374534494:j=-.008697473314227091:e[6]>5.957131031247307?j=.008840008772752947:j=-.00839587224544437:e[57]>1e-35?j=-.11000065936717814:e[187]>1e-35?j=-.039919217528968265:e[135]>1e-35?j=-.01777859479698383:e[7]>.841541958453746?e[6]>8.681774988134558?j=-.006645633391127337:j=.005363553180866138:e[7]>.06275229375044648?e[141]>1e-35?j=-.028575934798358252:e[147]>1e-35?j=-.06523418671938815:e[53]>1e-35?j=-.12439699935111644:e[47]>1e-35?j=-.04201034294282216:e[21]>1e-35?j=-.029998534764449716:e[11]>1e-35?j=-.008349262144218515:e[10]>1e-35?e[152]>1e-35?j=.03211843381827455:j=-.009616753935387912:j=.001507728277179471:j=-.018453367252451447;let J;e[2]>2.4414009612931857?e[155]>1e-35?J=.02097415247337288:e[2]>5.1209788959100075?e[219]>1e-35?J=-.04107586321461544:e[153]>1e-35?J=-.030708779452328257:J=-.008547089256234949:e[24]>1e-35?e[113]>1e-35?J=.10372474211849725:J=.010871474495452506:e[46]>1e-35?J=-.048875079231930615:e[152]>1e-35?J=.0169028183837229:e[91]>1e-35?J=-.06545106192484919:e[7]>.5395500104437768?e[21]>1e-35?J=-.03634133884877529:e[123]>1e-35?J=-.04524486315275367:J=.0007726000210664368:e[153]>1e-35?J=-.026631444280113794:J=-.005897540198114922:e[29]>1e-35?e[2]>1.2424533248940002?e[141]>1e-35?J=.06938494238244022:e[1]>1e-35?e[4]>2.602003343538398?e[7]>.21160651352969054?J=.016731168841731828:J=-.009280453313693341:J=-.006549806005743951:J=-.035447929694275064:e[8]>1e-35?J=-.0032912467465369953:e[4]>1.2424533248940002?e[1]>1e-35?e[2]>.8958797346140276?J=.024369266212637037:e[138]>1e-35?J=.06205121318768558:J=.03811769435016647:J=-.009452348851889555:J=-.025248141993897872:e[2]>1e-35?e[57]>1e-35?J=-.12191990737301042:e[4]>3.3842466058243152?J=.00020591213976092076:e[141]>1e-35?J=-.03252260939244301:e[186]>1e-35?J=-.13818838492678748:J=.009368844137034227:J=-.007973426105216213;let le;e[2]>2.3502401828962087?e[14]>1e-35?le=.015015656987761437:e[30]>1e-35?e[210]>1e-35?e[7]>.6876768869498817?le=.00543900892248828:le=-.04253496769494065:e[141]>1e-35?le=-.052958350924390156:e[140]>1e-35?le=-.10364099832282586:le=.010452960405207413:e[24]>1e-35?e[113]>1e-35?le=.09898709072741292:e[209]>1e-35?e[7]>.9821472231924556?le=-.26615665549082984:le=.09636256138859388:le=.01708542025496261:e[217]>1e-35?le=.008049408683788317:e[21]>1e-35?le=-.04590265539954756:e[90]>1e-35?le=-.13784770816769107:e[142]>1e-35?le=-.04628126597884301:e[47]>1e-35?le=-.05827975565933709:e[135]>1e-35?le=-.0223224900840969:e[18]>1e-35?le=-.03220713396184497:e[91]>1e-35?le=-.06447405488640102:e[58]>1e-35?le=-.05284544446869763:e[48]>1e-35?le=-.06649148594881385:e[123]>1e-35?le=-.04383701454842744:e[7]>.07815070294696584?e[52]>1e-35?le=-.11846610284210293:e[50]>1e-35?le=-.08907531725085399:e[156]>1e-35?le=-.018270336483319834:e[150]>1e-35?le=-.1090721461891663:e[151]>1e-35?le=-.12157322199183473:le=-.001565820654257863:le=-.02380240397829804:e[7]>.7957410883753849?le=.01267070049428537:e[9]>1e-35?le=.012970301396505988:le=.0031136826722851885;let Z;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>3.817651943129708?e[29]>1e-35?Z=-.01811927921170173:Z=-.0007182192063435364:e[30]>1e-35?Z=.024303187146750442:e[1]>1e-35?Z=.011106265465270054:e[134]>1e-35?Z=.029835980521591587:Z=-.011058553872914158:e[29]>1e-35?e[4]>.8958797346140276?e[2]>.8958797346140276?Z=.038081831260496:e[7]>.9761943980359399?e[7]>.9974623466432676?Z=.0678338591810893:Z=.02371719224774027:Z=.0682898584583309:Z=-.023148464063014726:e[30]>1e-35?Z=.04610988679672867:Z=.003060113702583105:e[29]>1e-35?e[2]>.8958797346140276?e[4]>2.4414009612931857?e[7]>.9587163092581167?Z=.01081564552001606:Z=-.006807357600587744:Z=-.02409609521595022:Z=-.033329165496176885:e[4]>4.051747139190486?Z=-.01130115168237245:e[129]>1e-35?Z=-.04589370141507604:e[21]>1e-35?Z=-.029442074982620643:e[14]>1e-35?Z=.016895124578179443:e[186]>1e-35?Z=-.11907557430036886:e[1]>1e-35?e[139]>1e-35?Z=-.06194447560538838:e[133]>1e-35?Z=-.0758465323292204:e[58]>1e-35?Z=-.04330766372695393:e[138]>1e-35?Z=-.04155491116231014:e[156]>1e-35?Z=-.04841608169206507:e[44]>1e-35?Z=-.01948221703985556:Z=.006580878599054945:e[217]>1e-35?Z=.022433802380447482:Z=-.00412091757515532;let ae;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>2.970085626360216?e[153]>1e-35?ae=-.024502725801264887:e[2]>5.589117819455554?ae=-.01230190569981064:ae=.0013078979950003464:e[1]>1e-35?ae=.016172143068823742:ae=.0006345060509537773:e[2]>.8958797346140276?ae=.030005982109869073:e[7]>.9811887196001154?e[7]>.9983480540068196?ae=.0671951915420627:e[4]>.8958797346140276?e[204]>1e-35?e[4]>2.4414009612931857?ae=.044068636573383585:ae=-.6634026033584294:e[28]>1e-35?e[194]>1e-35?ae=-.3139210817530322:ae=-.030502668897116853:ae=.02841326513237545:ae=-.12080826254458728:ae=.05983169094937563:e[25]>1e-35?ae=-.03468266531519899:e[17]>1e-35?ae=.018557285805987474:e[91]>1e-35?ae=-.051420462987159146:e[153]>1e-35?e[24]>1e-35?ae=.04301006671297924:e[57]>1e-35?ae=-.09748386515224282:e[7]>.43956365248689394?ae=-.00756781004151352:ae=-.03008603678955382:e[40]>1e-35?ae=-.06712212199178254:e[9]>1e-35?e[99]>1e-35?ae=.02709638137622776:ae=.00311232737924217:e[219]>1e-35?ae=-.021650545703290135:e[129]>1e-35?ae=-.04139534817677377:e[4]>4.482986592105174?ae=-.01666373169408667:e[7]>.14547530463198097?e[28]>1e-35?ae=.0203181446326991:e[24]>1e-35?ae=.019321702534414745:ae=-.0013149142637674523:ae=-.010572437649803333;let ce;e[1]>1e-35?e[99]>1e-35?ce=.024922390516579074:e[7]>.6223082132708274?e[5]>8.674624195715621?ce=-.0013697481432616754:e[8]>1e-35?e[5]>3.0201273556387074?e[5]>4.855921334140645?ce=-.0034268395365245545:ce=-.034186463672076346:e[29]>1e-35?ce=.07759914281958613:ce=-.07773573805144608:e[22]>1e-35?ce=-.0175879419801366:e[7]>.9626084674797213?ce=.016773359142537643:ce=.008028381804196754:e[133]>1e-35?ce=-.0535216100744091:ce=-.0005000628423357899:e[38]>1e-35?e[14]>1e-35?ce=.05090247458630403:ce=.007750826606170666:e[30]>1e-35?ce=.007698939719746262:e[121]>1e-35?ce=.02303487268261317:e[56]>1e-35?ce=.04301822779572479:e[219]>1e-35?ce=-.061056125991793546:e[49]>1e-35?ce=-.08519783826666813:e[54]>1e-35?ce=-.11098408863832084:e[51]>1e-35?ce=-.07495147940928196:e[52]>1e-35?ce=-.10268521021357209:e[143]>1e-35?ce=-.050337621945760906:e[50]>1e-35?ce=-.08215637358309871:e[135]>1e-35?ce=-.037923453156281546:e[29]>1e-35?ce=-.03275476659364492:e[118]>1e-35?ce=-.05655325181162936:e[46]>1e-35?ce=-.03579874818682071:e[55]>1e-35?ce=-.10858775815345066:e[98]>1e-35?ce=-.02949179817285505:e[91]>1e-35?ce=-.06114394873657414:ce=-.0024381269826722327;let Re;e[0]>1e-35?e[138]>1e-35?Re=.03188433658945665:e[6]>5.957131031247307?e[29]>1e-35?Re=.02161439640262312:e[46]>1e-35?Re=-.05856082884648366:Re=.00579188508436574:e[5]>3.417592293073651?Re=-.0023781291067078423:e[6]>2.524928003624769?e[29]>1e-35?Re=-.009165058612451055:Re=.06060298049441096:Re=-.024654633200924148:e[29]>1e-35?e[141]>1e-35?Re=.047057536167451744:e[5]>7.751690325550034?Re=-.014630738159823437:e[6]>1e-35?Re=-.0022830386545257364:Re=-.1244934159203967:e[141]>1e-35?Re=-.03108265181870111:e[151]>1e-35?Re=-.0899976208431091:e[53]>1e-35?Re=-.10125439914522794:e[57]>1e-35?Re=-.08285049636367613:e[48]>1e-35?Re=-.04071723813859757:e[147]>1e-35?Re=-.05043191744833317:e[49]>1e-35?Re=-.05480244282058292:e[52]>1e-35?Re=-.07341553831872409:e[91]>1e-35?Re=-.04164336745260387:e[50]>1e-35?Re=-.05943962674275153:e[40]>1e-35?Re=-.054773037913883875:e[129]>1e-35?Re=-.03640370706396673:e[54]>1e-35?Re=-.07483146938849299:e[22]>1e-35?Re=-.02027834075472462:e[186]>1e-35?Re=-.08116240011202293:e[143]>1e-35?Re=-.028437692949603324:e[21]>1e-35?Re=-.02421670339700474:e[46]>1e-35?Re=-.02303808594532841:Re=.0030552215125396933;let be;e[0]>1e-35?e[1]>1e-35?e[4]>2.138333059508028?e[9]>1e-35?be=.02933727780739186:e[6]>4.722943345003718?e[7]>.9246495578512688?be=.024680404379144982:be=.012015730636539185:e[113]>1e-35?be=.09112392780348796:e[135]>1e-35?e[7]>.990877425524446?be=-.11617284449593282:be=-.005246041787488675:be=-.011069319481086321:e[90]>1e-35?be=-.2763006993902732:e[7]>.9546729796082215?e[6]>3.0677824455408698?be=.009233858920042097:be=.08920751503262825:be=-.008824102277148265:e[138]>1e-35?be=.02736126919460762:e[4]>2.917405368531303?e[30]>1e-35?be=.013112272135200274:e[217]>1e-35?be=.035799930603658235:be=-.015618218537266096:be=.010656981322113845:e[14]>1e-35?be=.01147191978691208:e[17]>1e-35?be=.016681596753170068:e[135]>1e-35?be=-.017396147137824756:e[4]>1.8688348091416842?e[4]>4.03420147928485?be=-.008863534867945834:e[31]>1e-35?be=.05416038384474034:e[113]>1e-35?be=.012656827040897288:e[204]>1e-35?be=.011410879858785482:e[208]>1e-35?e[1]>1e-35?be=.02085606775425661:be=-.008618410086291444:e[53]>1e-35?be=-.09674487817291225:e[155]>1e-35?be=.010841012663281826:be=-.0027234799964982103:e[100]>1e-35?e[6]>4.226807104886684?be=-.02684998739505702:be=.09196076999373319:be=-.014557367931257406;let Ue;e[1]>1e-35?e[4]>2.4414009612931857?e[140]>1e-35?Ue=-.020508725755139606:e[9]>1e-35?Ue=.014160204295049248:e[37]>1e-35?Ue=-.06190233326923697:e[6]>1e-35?Ue=.005164496028342236:Ue=-.11389189550910446:e[141]>1e-35?Ue=-.04125881484049697:e[186]>1e-35?Ue=-.17160163910476212:e[29]>1e-35?e[6]>3.676220550121792?Ue=-.010283419868136159:e[7]>.9626084674797213?Ue=-.1716178372310524:Ue=-.008856137283327148:e[28]>1e-35?Ue=.05315666786902214:e[129]>1e-35?Ue=-.04136913767615559:e[7]>.9705672697050661?e[6]>3.540854293052788?Ue=.00751812285476753:e[8]>1e-35?Ue=-.11960098941111366:Ue=.06631760098044483:e[210]>1e-35?e[30]>1e-35?Ue=-.05338190010412709:Ue=.017275201286894953:e[30]>1e-35?Ue=.014424216946760394:e[99]>1e-35?Ue=.027062693955934525:Ue=-.006762492910108134:e[219]>1e-35?Ue=-.0534489198792768:e[138]>1e-35?Ue=.017328465617667224:e[4]>2.970085626360216?e[144]>1e-35?Ue=-.0662951231725991:e[143]>1e-35?Ue=-.04739088646917139:e[145]>1e-35?Ue=-.07635546796992515:e[14]>1e-35?Ue=.012433708195861912:e[217]>1e-35?Ue=.021046036228368578:e[51]>1e-35?Ue=-.07024391932712475:Ue=-.007585229386863768:e[127]>1e-35?Ue=.0788172427657374:Ue=.0036475442240054556;let Be;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>2.802901033147999?e[153]>1e-35?Be=-.02488671343402725:e[135]>1e-35?Be=-.026342401137212534:e[4]>1.4978661367769956?Be=-.0002120610158998857:Be=-.02619014803287452:e[5]>3.772694874805912?Be=.00791871819482647:Be=.05245006986819034:e[5]>5.431533816254341?e[2]>.8958797346140276?Be=.026755493155023333:Be=.05657996196424821:e[5]>4.424828703319957?e[28]>1e-35?Be=-.12833948112036647:Be=.02009706276124955:e[135]>1e-35?Be=-.1062651205805238:Be=-.014392542658357654:e[156]>1e-35?e[11]>1e-35?Be=-.0426876288098691:Be=-.009210886749467585:e[25]>1e-35?Be=-.029685120249418873:e[153]>1e-35?e[24]>1e-35?Be=.039675921298659045:Be=-.01470247025894634:e[135]>1e-35?Be=-.013162475027411236:e[2]>1e-35?e[22]>1e-35?Be=-.01924589513592333:e[21]>1e-35?Be=-.02301719200164619:e[5]>8.75754777636908?e[4]>2.602003343538398?Be=-.0007468484638490539:Be=-.0158247553028744:e[1]>1e-35?e[99]>1e-35?Be=.024493682002973784:e[42]>1e-35?Be=-.07469088345156226:e[45]>1e-35?Be=-.03838380763638677:e[114]>1e-35?Be=.02409327545276692:e[154]>1e-35?Be=-.038977286951036944:e[208]>1e-35?Be=.021915882358345885:Be=.003839964304606302:Be=-.0014382346596150915:Be=-.008713493537728363;let Je;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>4.119004124609202?e[3]>1.2424533248940002?Je=-.0017308950709495397:Je=-.020269742816377157:e[5]>3.5694334999727624?e[6]>6.468474521450064?Je=.007854184286630537:Je=-.005163758444496073:e[3]>1.2424533248940002?e[12]>1e-35?Je=-.009039854020477722:Je=.08762320620103459:e[194]>1e-35?Je=-.3433922378591172:e[24]>1e-35?Je=-.2523113760729937:Je=-.000461371156912453:e[5]>5.692045796563381?e[3]>1.4978661367769956?Je=.007177758561499448:e[2]>.8958797346140276?Je=.03195343200682438:Je=.059909349900388334:e[5]>4.424828703319957?e[28]>1e-35?Je=-.10695282804536732:Je=.019125081292682575:e[135]>1e-35?Je=-.09257011968677195:Je=-.012855523323410875:e[14]>1e-35?Je=.010052176448775013:e[152]>1e-35?Je=.011482760058014926:e[156]>1e-35?Je=-.017677609761538152:e[24]>1e-35?Je=.01670301885059328:e[39]>1e-35?Je=-.02425844450882272:e[12]>1e-35?e[3]>1.2424533248940002?e[6]>5.980149988077803?Je=.01117036123239103:e[3]>1.4978661367769956?Je=-.005154239762347923:Je=.06349844063391799:Je=-.011876368966362884:e[4]>3.772694874805912?Je=-.010120762110714197:e[5]>3.276966702012906?e[4]>2.4414009612931857?e[4]>3.1132683346437333?Je=-.0035902728428789336:Je=.003411450739155564:e[5]>8.17933999189099?Je=-.018866709049095685:Je=-.0038747233097564068:Je=.024379138339081993;let ut;e[7]>.5866799179067689?e[11]>1e-35?e[217]>1e-35?ut=.01816196279626246:ut=-.008720340174685528:e[14]>1e-35?ut=.017422275374961747:e[3]>2.802901033147999?e[6]>6.0026509725338455?e[18]>1e-35?ut=-.035421013136394335:e[219]>1e-35?ut=-.03997357699142973:e[3]>4.993822430271426?ut=-.03250278247092862:ut=.004080430247607075:ut=-.010055330454519094:e[5]>9.345963324807864?ut=-.008136951493137817:e[90]>1e-35?ut=-.16414188828180187:e[45]>1e-35?ut=-.0395103723535772:e[17]>1e-35?e[6]>3.314020688089767?ut=.03144428117941763:ut=-.12305809642153893:e[5]>3.417592293073651?ut=.006863569747629234:e[7]>.9626084674797213?e[204]>1e-35?ut=.08986402088848823:e[100]>1e-35?ut=.09658177526577977:e[141]>1e-35?ut=.06795495668113817:e[28]>1e-35?e[3]>1e-35?ut=.10311172778826272:ut=-.12367638872784459:e[209]>1e-35?ut=.06796205879581844:e[6]>3.0677824455408698?e[3]>2.012675845367575?ut=-.1815028770626217:ut=-.027600842388305583:ut=.013979123567456554:ut=-.003475039039176338:e[6]>4.3882378946731615?e[3]>3.6242520361853052?ut=-.008151073332139989:e[3]>2.4414009612931857?e[48]>1e-35?ut=-.05732062477153205:ut=.0038104987226822806:e[7]>.14547530463198097?ut=-.0015360108147469411:ut=-.014797616303672155:e[3]>.8958797346140276?ut=-.010446976011382926:ut=-.039018423658353285;let it;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>4.620046665062766?e[3]>1.8688348091416842?it=-.0031733808376565214:it=-.019463570735432378:it=.0032566959999593536:e[5]>5.692045796563381?e[3]>1.4978661367769956?it=.006472511895453073:e[2]>.8958797346140276?it=.029439910335277677:it=.05703290277034656:e[219]>1e-35?it=-.06489530937321614:e[5]>4.424828703319957?it=.017756995160153607:e[125]>1e-35?it=-.13863131633711023:it=-.011337464460106939:e[29]>1e-35?e[2]>.8958797346140276?e[3]>1e-35?it=-.04822012795561216:e[125]>1e-35?it=.06083023155995546:e[141]>1e-35?it=.04503531231698771:e[5]>7.751690325550034?it=-.008826435995092507:it=.0004769856196102064:e[5]>5.895778350950796?it=-.03439788269853701:it=.0012862199645308793:e[141]>1e-35?e[3]>3.0677824455408698?it=.0046610227653059695:it=-.04504560149384845:e[3]>4.3372693810700085?it=-.011924612526365003:e[151]>1e-35?it=-.07909878419302184:e[40]>1e-35?it=-.04837106565429512:e[52]>1e-35?it=-.06478730352567258:e[18]>1e-35?e[46]>1e-35?it=.060888920864590634:e[5]>3.5694334999727624?it=-.02601024872439008:it=.07960150564774994:e[46]>1e-35?it=-.027213119561154103:e[51]>1e-35?it=-.054081846676903716:e[54]>1e-35?it=-.07375359621246233:e[50]>1e-35?it=-.0570341640965886:it=.0021129818482267812;let ot;e[2]>2.861792550976191?e[11]>1e-35?e[58]>1e-35?ot=-.09222476830824185:e[156]>1e-35?ot=-.044357001480428:ot=-.009033627105152873:e[8]>1e-35?e[5]>7.429817490674132?ot=-.007435399919321396:ot=-.025630334739367253:e[155]>1e-35?ot=.02064199664419035:e[5]>8.75754777636908?e[2]>4.119004124609202?ot=-.012759040985224594:ot=-.0009375109950390992:e[21]>1e-35?ot=-.028664595543047417:e[187]>1e-35?ot=-.03837361994986333:e[22]>1e-35?ot=-.027274995074267547:e[14]>1e-35?ot=.016392245342055616:e[17]>1e-35?ot=.022509678093313362:e[28]>1e-35?ot=.025145343126000193:e[39]>1e-35?ot=-.02939647868188604:ot=.00042395552644239256:e[29]>1e-35?e[2]>2.012675845367575?ot=-.0030925701821976686:e[5]>6.0390628155997765?e[2]>.8958797346140276?ot=.010736817315927911:ot=.02426980448005241:e[28]>1e-35?e[194]>1e-35?ot=-.3070569158934055:e[196]>1e-35?ot=-.5506885961570867:ot=-.033353293982668515:ot=.006553036790621832:e[2]>1.2424533248940002?e[5]>3.5694334999727624?e[155]>1e-35?ot=.02102370525016274:ot=.003409533559556135:e[204]>1e-35?ot=.08873962123163927:e[24]>1e-35?ot=.10555359938821945:e[28]>1e-35?ot=.09719645392539251:e[196]>1e-35?ot=.08224623369607056:ot=-.020134405544960793:ot=-.0015937623030202052;let ie;e[0]>1e-35?e[2]>1.8688348091416842?e[3]>1.4978661367769956?e[3]>3.540854293052788?ie=-.0076758153562413375:e[18]>1e-35?ie=-.04295196457825341:e[51]>1e-35?ie=-.13248011320062422:ie=.008952360414023641:e[7]>.987306237235768?ie=.006439776900137331:ie=-.012660562195035134:e[3]>2.861792550976191?e[30]>1e-35?ie=.026757175255811883:ie=-.01062556784320532:e[2]>.8958797346140276?ie=.02114926571950188:e[8]>1e-35?e[7]>.9738681190948303?e[7]>.996914501566243?ie=.039844832378913425:ie=-.06690456482695102:ie=.05010759067838343:e[7]>.9901971344332651?e[204]>1e-35?e[7]>.9945060383544003?ie=.03772632631184001:ie=-.28522617893050056:e[28]>1e-35?ie=-.060992612788434375:ie=.03341245674945403:ie=.051288950777861456:e[8]>1e-35?ie=-.010769283931178146:e[29]>1e-35?e[2]>.8958797346140276?e[1]>1e-35?e[7]>.98482287934795?ie=.009069204772381522:ie=-.004081394384581673:ie=-.03594060084257492:e[7]>.9216401592048815?ie=-.00442206228805168:ie=-.03576891499137606:e[55]>1e-35?ie=-.08223884312902127:e[57]>1e-35?ie=-.0742535346669798:e[149]>1e-35?ie=-.07940704728071792:e[39]>1e-35?ie=-.017161105634171125:e[49]>1e-35?ie=-.04763279499691125:e[139]>1e-35?ie=-.027192821855546695:e[10]>1e-35?ie=-.0036316338579956914:ie=.0026484338648234077;let Pe;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>5.527441013321604?Pe=-.012306712525171806:e[7]>.26911173821332884?e[18]>1e-35?Pe=-.027850707388722303:e[91]>1e-35?Pe=-.07216882827488169:e[2]>2.740319461670996?e[3]>1.4978661367769956?Pe=.005596837686865309:Pe=-.0059429747278747225:Pe=.009524033665726878:Pe=-.0077898166249992535:e[6]>5.912149824839399?e[3]>1.4978661367769956?e[30]>1e-35?Pe=.032201880996274065:Pe=-.009587971174292791:e[2]>.8958797346140276?Pe=.02761965407835318:Pe=.05238312639482409:e[7]>.990877425524446?e[28]>1e-35?e[156]>1e-35?Pe=.08220352701195494:Pe=-.16200772313735304:e[135]>1e-35?e[6]>4.310776603370241?Pe=-.03126230621131264:Pe=-.15437767199900418:e[219]>1e-35?e[2]>.8958797346140276?Pe=.018944713961164792:e[3]>1e-35?Pe=.06629929139668997:Pe=-.16790799717043633:e[192]>1e-35?Pe=-.3320398525405097:Pe=.009790162291004705:e[125]>1e-35?Pe=-.0996239956884951:Pe=.017982806591038288:e[25]>1e-35?Pe=-.02642518530716432:e[6]>9.286096980078398?e[3]>2.740319461670996?Pe=-.0027582177390145703:Pe=-.02047492290459601:e[17]>1e-35?Pe=.01622159988588393:e[7]>.5866799179067689?Pe=.0012556670436606133:e[3]>2.3502401828962087?e[3]>3.314020688089767?Pe=-.00567335909535631:Pe=.0036605424249172938:e[7]>.085616240166877?Pe=-.00662352094724046:Pe=-.024196995936398374;let Ae;e[0]>1e-35?e[2]>1.2424533248940002?e[2]>2.802901033147999?e[3]>1.8688348091416842?e[4]>3.6242520361853052?Ae=-.008283589876968955:Ae=.005263882290960596:e[7]>.9662372103242399?Ae=.0028703212438091555:Ae=-.014488335095453487:e[5]>3.5694334999727624?Ae=.006182444666070272:Ae=.04834325475124454:e[5]>5.821564412917691?e[3]>1.4978661367769956?Ae=.006862035478899274:e[2]>1e-35?Ae=.03694434517261685:Ae=.06818308291563471:e[8]>1e-35?e[4]>3.979637980058199?Ae=-.14792403668068005:e[5]>4.297262267176281?Ae=.04085199387960594:Ae=-.08112459203056922:e[7]>.990877425524446?e[204]>1e-35?e[4]>2.4414009612931857?Ae=.040094872099644886:Ae=-.37432021591644105:e[128]>1e-35?e[17]>1e-35?Ae=.11216772098992614:Ae=-.39517539261887863:Ae=-.006202508512715542:Ae=.031730389306944315:e[8]>1e-35?e[5]>3.156774023138548?Ae=-.011787620507206525:e[3]>1.2424533248940002?Ae=-.0681989521208321:Ae=.06597717957453096:e[2]>1e-35?e[25]>1e-35?Ae=-.024543929344106336:e[5]>8.193814844759492?e[4]>2.602003343538398?e[2]>5.167634984480833?Ae=-.00996811570890536:Ae=.001134417943860963:Ae=-.013004815776467261:e[1]>1e-35?e[22]>1e-35?Ae=-.019057324908699217:e[141]>1e-35?Ae=-.026707851278989517:Ae=.005608056403567553:Ae=-.0017699070677530831:e[3]>1.4978661367769956?Ae=-.005457163739006659:Ae=-.02994467745413277;let Ge;e[11]>1e-35?e[154]>1e-35?Ge=-.07640004589975245:e[153]>1e-35?Ge=-.027921183286970398:e[156]>1e-35?Ge=-.02508900369371103:e[47]>1e-35?Ge=-.09621039139423637:e[46]>1e-35?Ge=-.05890206826599292:Ge=-.0018521707885188695:e[7]>.1998775237752378?e[39]>1e-35?Ge=-.02026563108381904:e[91]>1e-35?Ge=-.03979999802398471:e[14]>1e-35?e[134]>1e-35?Ge=.044705853812635206:Ge=.01112016315736189:e[24]>1e-35?e[6]>3.417592293073651?Ge=.01585670681557334:Ge=.0820229237073549:e[9]>1e-35?e[204]>1e-35?e[6]>3.9219243190762363?Ge=.01475544028693712:e[30]>1e-35?Ge=.10219265831102325:Ge=-.0567832116465987:e[154]>1e-35?Ge=-.04682869193620295:Ge=.0058147572533605784:e[123]>1e-35?Ge=-.04011640490395746:e[17]>1e-35?e[6]>3.314020688089767?Ge=.016472642951500794:Ge=-.10372235311156908:e[19]>1e-35?Ge=.013619887374131652:e[28]>1e-35?e[6]>3.1984648276080736?e[6]>5.5816130673839615?Ge=.021404525777064917:Ge=-.022090537029637168:Ge=.07927547222505857:e[129]>1e-35?Ge=-.0315112950229846:e[90]>1e-35?Ge=-.08016175793969123:e[60]>1e-35?Ge=-.044255594885932:e[150]>1e-35?Ge=-.0643645650066138:Ge=18071436579202054e-21:e[6]>6.132312266239896?Ge=.00017227075512669227:Ge=-.010904669702571911;let z;e[0]>1e-35?e[1]>1e-35?e[7]>.30853255358841714?e[154]>1e-35?z=-.053460642910797676:z=.009652079082741289:z=-.0017676195976280011:e[134]>1e-35?z=.01746182064829904:e[32]>1e-35?z=.033149881191962445:e[138]>1e-35?z=.02149173543949675:e[37]>1e-35?z=.028519159270523897:e[152]>1e-35?z=.023352031441951773:e[217]>1e-35?z=.02290558132732214:z=-.01850975101703459:e[152]>1e-35?z=.010488854074509982:e[155]>1e-35?e[12]>1e-35?z=.027490522294963154:z=.002575743497494008:e[131]>1e-35?z=-.07138027268500055:e[57]>1e-35?z=-.06658662137088783:e[28]>1e-35?z=.015141080652315508:e[55]>1e-35?z=-.07156337757427284:e[204]>1e-35?z=.008085415901726045:e[99]>1e-35?e[1]>1e-35?z=.01803019280250009:z=-.012275416064615064:e[113]>1e-35?z=.007680714218522011:e[102]>1e-35?z=.01923593781092882:e[38]>1e-35?z=.00598208846998872:e[112]>1e-35?z=.00895148693111358:e[217]>1e-35?z=.004322676779141819:e[114]>1e-35?e[1]>1e-35?z=.019173900241286065:e[18]>1e-35?z=-.1302545616586715:z=-.012219608237225175:e[89]>1e-35?z=.019080595932083305:e[95]>1e-35?z=.009182530113836561:z=-.006531048204768366;let ee;e[2]>4.135134555718313?e[47]>1e-35?ee=-.06057129526622943:e[5]>6.805168536739806?e[3]>2.4414009612931857?e[1]>1e-35?e[32]>1e-35?ee=-.09672976728291365:e[217]>1e-35?ee=-.09138286775903748:e[114]>1e-35?ee=.034435801312936894:ee=.003550781249532139:e[56]>1e-35?ee=.06582022232543998:e[144]>1e-35?ee=-.08601101006110747:ee=-.006766914059699758:e[217]>1e-35?ee=.001822103802069182:ee=-.013646878234832634:e[8]>1e-35?ee=-.02495807137678248:e[1]>1e-35?ee=.009517017217557915:ee=-.007488737506950444:e[6]>6.1537953943602615?e[140]>1e-35?ee=-.013180308369805589:e[51]>1e-35?ee=-.0496089337787575:e[15]>1e-35?e[30]>1e-35?ee=.017032153502995334:ee=-.01330098154550191:e[10]>1e-35?e[56]>1e-35?ee=.04713518460375107:ee=-.0016223104582873055:e[131]>1e-35?ee=-.07291331059881433:e[27]>1e-35?ee=-.015619378359486803:ee=.006051005570772542:e[3]>3.1132683346437333?e[8]>1e-35?ee=-.02945681137428643:ee=-.00725026522062693:e[6]>1e-35?e[3]>1.2424533248940002?ee=.0035081297381004684:e[194]>1e-35?e[5]>3.772694874805912?ee=-.03142097937872678:ee=-.17253564001853064:e[5]>3.156774023138548?ee=-.004860170522962415:e[12]>1e-35?ee=-.04169370739781986:ee=.05886396855048806:ee=-.10415236736977414;let Fe;e[2]>2.3502401828962087?e[11]>1e-35?e[58]>1e-35?Fe=-.07548370555339029:Fe=-.009060327134219393:e[21]>1e-35?Fe=-.02536204329245056:e[155]>1e-35?Fe=.01626198918750622:e[142]>1e-35?Fe=-.029262265693304763:e[4]>1.8688348091416842?e[48]>1e-35?Fe=-.0522966414357639:e[47]>1e-35?Fe=-.03867213359133592:e[149]>1e-35?Fe=-.10392339919606915:e[135]>1e-35?Fe=-.010541433982611018:e[51]>1e-35?Fe=-.06273170107556418:e[54]>1e-35?Fe=-.08769404750229767:e[18]>1e-35?e[1]>1e-35?Fe=.0022966362330231133:e[31]>1e-35?Fe=.19571528454816625:Fe=-.04919246049942885:e[50]>1e-35?Fe=-.06766114512966344:e[7]>.9793410316570949?Fe=.00837983401462093:Fe=.0007986280224776339:e[186]>1e-35?Fe=-.16446174535054356:e[62]>1e-35?Fe=.06508947502037822:Fe=-.010260699234562241:e[6]>5.486867329823672?e[140]>1e-35?Fe=-.01589822136096899:e[125]>1e-35?Fe=-.025465846683560996:e[190]>1e-35?Fe=-.03671457167643481:e[91]>1e-35?Fe=-.03821691103237143:e[57]>1e-35?Fe=-.07502589184745939:e[50]>1e-35?Fe=-.05395522531288487:Fe=.005241788285288346:e[4]>3.1132683346437333?Fe=-.008741587825172916:e[12]>1e-35?e[100]>1e-35?Fe=.06608964318040904:Fe=-.012827641806975033:Fe=.004744161815471635;let _e;e[4]>.8958797346140276?e[2]>5.4049245766661995?e[5]>6.0051201133541365?_e=-.008352440702113342:_e=.00818161196788124:e[123]>1e-35?_e=-.02387242845183433:e[190]>1e-35?_e=-.03574127589374163:e[152]>1e-35?_e=.01262147105943106:e[11]>1e-35?e[58]>1e-35?_e=-.05955906348417553:_e=-.003717083835106387:e[6]>6.0026509725338455?e[15]>1e-35?e[30]>1e-35?_e=.023589988800048537:_e=-.01290090410411923:e[38]>1e-35?_e=.015295369946508892:e[1]>1e-35?e[4]>2.740319461670996?e[22]>1e-35?_e=-.01614208413608714:e[42]>1e-35?_e=-.05454658382875832:_e=.008894057269932708:e[141]>1e-35?_e=-.029660896741885025:_e=.0007918628584206305:e[12]>1e-35?_e=.010735865892076339:e[218]>1e-35?_e=.06499398466334683:e[29]>1e-35?_e=-.02987220407530282:e[118]>1e-35?_e=-.05994319680494358:_e=-.0022119035344297464:e[113]>1e-35?e[24]>1e-35?_e=.09992180359591052:_e=.003953091072683087:e[204]>1e-35?e[4]>2.249904835165133?_e=.0012737346185997833:e[5]>3.979637980058199?_e=.012350990163327259:e[29]>1e-35?_e=-.4173182186315585:_e=.09483857671510697:_e=-.0034771114722081282:e[19]>1e-35?_e=.04818172610227253:e[158]>1e-35?_e=.09085872490042819:e[123]>1e-35?_e=.046170414156546824:_e=-.030833991141721785;let Ce;e[0]>1e-35?e[2]>1.2424533248940002?e[2]>2.138333059508028?e[3]>1.4978661367769956?e[3]>4.197173680708697?Ce=-.015067858446918237:e[5]>3.979637980058199?Ce=.0025493966284458503:e[24]>1e-35?Ce=.10170949517680355:e[3]>2.3502401828962087?Ce=-.010182198776560389:e[7]>.9662372103242399?Ce=.0855616171705204:Ce=-.0044290837387121786:e[7]>.992067132663463?Ce=.006950766900495411:Ce=-.011703657118613042:e[3]>3.314020688089767?Ce=-.007590151825214328:Ce=.011931088318037653:e[5]>4.424828703319957?e[3]>1.4978661367769956?Ce=.003895993078605918:e[2]>1e-35?e[5]>5.859359688974663?Ce=.03311360926528595:e[7]>.9936484368123463?e[28]>1e-35?Ce=-.1296383065201116:e[18]>1e-35?Ce=-.2304238024287801:Ce=-.0007035160942990814:Ce=.03872938637191365:Ce=.05931958562003542:e[204]>1e-35?e[7]>.9926276364955392?Ce=-.2503820824196552:Ce=.01514980593659256:e[135]>1e-35?e[7]>.990877425524446?Ce=-.12146435764173391:Ce=.03579230653026111:e[125]>1e-35?Ce=-.11990587076136816:Ce=-.0017264106529335022:e[2]>.8958797346140276?e[3]>4.878999622893762?Ce=-.028006872909888104:e[17]>1e-35?Ce=.015327119563713427:e[14]>1e-35?Ce=.008966123864441086:e[24]>1e-35?Ce=.014884319812071584:Ce=-.0008180929266082377:e[29]>1e-35?e[5]>5.895778350950796?Ce=-.02927173520516398:Ce=.004256706136162408:Ce=-.0030692852485265805;let Oe;e[39]>1e-35?Oe=-.019116728566000912:e[152]>1e-35?Oe=.011159312353677259:e[52]>1e-35?Oe=-.06556505864685434:e[7]>.14547530463198097?e[187]>1e-35?Oe=-.02203060071288757:e[48]>1e-35?Oe=-.03406851575382452:e[10]>1e-35?e[219]>1e-35?Oe=-.026242020752538932:Oe=-.0026163734864036088:e[21]>1e-35?Oe=-.016803181860075653:e[8]>1e-35?e[5]>3.0201273556387074?e[6]>4.722943345003718?e[125]>1e-35?Oe=-.07907862980413462:Oe=-.0024968534057976956:e[141]>1e-35?Oe=.01751368963010255:Oe=-.035334686232177996:e[3]>1e-35?Oe=-.049727650261844114:Oe=.06649006602788514:e[51]>1e-35?Oe=-.047051279496267896:e[58]>1e-35?e[19]>1e-35?Oe=.06794814379814933:Oe=-.033933057704283995:e[6]>8.681774988134558?Oe=-.001906867260604815:e[3]>3.3842466058243152?e[23]>1e-35?Oe=.029126145919054786:e[12]>1e-35?e[59]>1e-35?Oe=.06547842372312768:Oe=.005706402727440608:e[89]>1e-35?Oe=.05238448470974841:Oe=-.003970577798047124:e[141]>1e-35?e[3]>1e-35?Oe=-.02994666941636212:Oe=.029175297065511276:e[139]>1e-35?Oe=-.03926804943552878:e[7]>.9626084674797213?Oe=.010270060885238803:e[6]>4.5379471377116305?Oe=.0051640733904868355:Oe=-.006326617548806485:e[3]>2.3502401828962087?Oe=-.001064039369711557:Oe=-.015232776877478657;let Ve;e[4]>.8958797346140276?e[0]>1e-35?e[3]>3.540854293052788?e[138]>1e-35?Ve=.020620751195117866:Ve=-.007657642824282572:e[9]>1e-35?Ve=.013255738783000171:e[123]>1e-35?Ve=-.04553588467808997:e[14]>1e-35?Ve=.020257942633657516:e[17]>1e-35?Ve=.02379466680602821:e[7]>.26911173821332884?Ve=.004563013176326579:Ve=-.006044878247080096:e[208]>1e-35?e[1]>1e-35?Ve=.016583051243963785:Ve=-.005473696128326885:e[53]>1e-35?Ve=-.07392011100318682:e[3]>4.840234496705036?Ve=-.022277334024938686:e[49]>1e-35?Ve=-.04140311782670083:e[40]>1e-35?Ve=-.041278341040658334:e[156]>1e-35?Ve=-.01087788432462589:e[8]>1e-35?e[141]>1e-35?Ve=.032404890147508435:Ve=-.008762958389316138:e[153]>1e-35?e[18]>1e-35?Ve=.03064796696780178:e[19]>1e-35?Ve=.025912082684934896:e[7]>.9033253454895247?Ve=.00010665286308939541:Ve=-.019390651252802232:e[133]>1e-35?Ve=-.013215417920201165:e[35]>1e-35?Ve=-.07409193965805899:e[16]>1e-35?Ve=.010595288788401727:Ve=.0004445963442680354:e[19]>1e-35?Ve=.043800560164078434:e[62]>1e-35?Ve=.08440762960688118:e[123]>1e-35?Ve=.04196062757398021:e[44]>1e-35?e[7]>.9880960409521241?Ve=-.14025705728324367:Ve=.07605327900446729:Ve=-.030453882536033008;let Ze;e[14]>1e-35?e[134]>1e-35?Ze=.03807815059641535:Ze=.007895137847547357:e[39]>1e-35?Ze=-.019172673927560828:e[138]>1e-35?Ze=.009207480510332959:e[152]>1e-35?e[10]>1e-35?Ze=.029310247627617716:Ze=.006422126177312616:e[3]>3.5114340430413216?e[155]>1e-35?Ze=.02869511059037871:e[137]>1e-35?Ze=.048763707543632046:e[218]>1e-35?Ze=.0393143924208134:Ze=-.0065205942363783:e[4]>2.4414009612931857?e[113]>1e-35?Ze=.016047178137914484:e[35]>1e-35?Ze=-.09486179869071369:e[118]>1e-35?Ze=-.032706818831570415:e[0]>1e-35?Ze=.004733859562945298:Ze=-4345884264792552e-20:e[29]>1e-35?e[204]>1e-35?e[4]>2.3502401828962087?Ze=-.23804773582311067:Ze=.0015066742334155967:e[194]>1e-35?e[4]>1.7005986908310777?Ze=-.013296404682101122:Ze=-.14340192620927933:e[196]>1e-35?Ze=-.17446678790111786:Ze=-.01140535620661492:e[141]>1e-35?Ze=-.03362328403627273:e[99]>1e-35?Ze=.02082592497315901:e[196]>1e-35?Ze=.02125156827172031:e[204]>1e-35?Ze=.018738441981476887:e[194]>1e-35?Ze=.022230335367621302:e[114]>1e-35?Ze=.017460982004618885:e[210]>1e-35?e[11]>1e-35?Ze=-.07421933796695453:Ze=-.02600449772874995:e[62]>1e-35?Ze=.0435295764572802:Ze=-.0036358741919687645;let yt;e[2]>4.749261159734808?e[5]>6.826002629905951?e[29]>1e-35?yt=-.012866931871530748:e[47]>1e-35?yt=-.06511122680099479:yt=-.0033152297369715466:e[1]>1e-35?yt=.00634942519508748:yt=-.008516826211528918:e[6]>6.1537953943602615?e[11]>1e-35?e[121]>1e-35?e[1]>1e-35?yt=-.06214080664476329:yt=.037029947625630194:e[47]>1e-35?yt=-.08203414630098728:yt=-.0044122376347199765:e[15]>1e-35?e[30]>1e-35?yt=.012452689013210465:yt=-.011970977023212193:e[10]>1e-35?e[152]>1e-35?yt=.02888624440861723:yt=-.0026872248277927456:e[27]>1e-35?yt=-.01471521834054285:e[21]>1e-35?yt=-.014970363019863132:e[13]>1e-35?yt=-.0057151868439017945:e[38]>1e-35?yt=.01633003881478886:yt=.005850603591179588:e[113]>1e-35?e[5]>3.979637980058199?yt=.006600693642185256:e[6]>3.1984648276080736?yt=.07576534772024612:yt=-.013028252220942527:e[204]>1e-35?e[9]>1e-35?e[6]>3.9219243190762363?yt=.01266221511189265:e[29]>1e-35?yt=-.20167612409830682:yt=.09361829582187109:yt=.0016303497789744046:e[6]>4.310776603370241?yt=-.0015960016142716584:e[141]>1e-35?e[2]>2.249904835165133?e[6]>2.970085626360216?yt=-.05054316446311788:yt=.06528096075929847:e[29]>1e-35?yt=.07763431964140277:yt=-.017239135292908336:yt=-.011068823413100247;let Rt;e[91]>1e-35?Rt=-.03524202222673902:e[55]>1e-35?Rt=-.07505808762820981:e[47]>1e-35?Rt=-.026314216162986376:e[49]>1e-35?Rt=-.045488810456426665:e[54]>1e-35?Rt=-.06424779605129435:e[0]>1e-35?e[39]>1e-35?Rt=-.03267263134559766:e[46]>1e-35?Rt=-.049285436356671077:e[51]>1e-35?Rt=-.09277060040547602:e[4]>.8958797346140276?e[123]>1e-35?Rt=-.027164727231258436:e[7]>.4232249052377311?e[14]>1e-35?Rt=.021561483416797714:e[9]>1e-35?e[58]>1e-35?Rt=-.08387877475105178:Rt=.014404401501386124:Rt=.004694473365260974:Rt=-.0001897538693116325:Rt=-.017140588284242805:e[5]>9.119594757170685?e[3]>2.740319461670996?Rt=-.0007153953072197825:Rt=-.010378474356201449:e[8]>1e-35?e[5]>3.276966702012906?e[125]>1e-35?Rt=-.06966241558514917:e[4]>4.82429765145367?Rt=-.05703428861212874:Rt=-.007549683006633188:e[3]>1.2424533248940002?Rt=-.05340556429257431:Rt=.0524214727387076:e[22]>1e-35?Rt=-.012756524179901607:e[186]>1e-35?Rt=-.06578146880564559:e[208]>1e-35?Rt=.011189277267677045:e[11]>1e-35?e[58]>1e-35?Rt=-.05051984734793551:e[3]>1.2424533248940002?Rt=-.0002576217567062796:e[134]>1e-35?Rt=-.07452351335236179:Rt=-.010366062496356129:e[94]>1e-35?Rt=-.04206673603732986:Rt=.0017654268359667174;let At;e[2]>2.3502401828962087?e[28]>1e-35?At=.018743416209068924:e[142]>1e-35?At=-.027628078748284907:e[4]>1.7005986908310777?e[123]>1e-35?At=-.039485087567133176:e[48]>1e-35?At=-.04707407726639779:e[49]>1e-35?At=-.0644727439161007:e[47]>1e-35?At=-.03586301268310228:e[52]>1e-35?At=-.08213761833929575:e[60]>1e-35?At=-.036939376764301805:e[22]>1e-35?At=-.02264827779335228:e[153]>1e-35?e[24]>1e-35?At=.03651632275248908:At=-.010403215174169965:e[18]>1e-35?e[31]>1e-35?At=.17011943799802248:At=-.024083374989820074:e[147]>1e-35?At=-.05792387046048145:e[39]>1e-35?At=-.019000152117179:e[54]>1e-35?At=-.09256681585621543:e[50]>1e-35?At=-.06535283940797192:e[187]>1e-35?At=-.023020538580498528:e[149]>1e-35?At=-.09670391878996044:e[8]>1e-35?e[6]>5.865049616265698?At=.0007122257672540384:At=-.024203929126070334:e[55]>1e-35?At=-.10687519344783902:e[21]>1e-35?At=-.019836359134795922:At=.0028141634686288143:e[153]>1e-35?At=-.044827592367532504:At=-.009894012855110334:e[140]>1e-35?e[18]>1e-35?At=.060584003745668275:At=-.015006980258423744:e[6]>5.161920636569023?e[125]>1e-35?At=-.021624709427283298:At=.0035264081894521636:At=-.0030260520850755417;let Ht;e[57]>1e-35?Ht=-.06665941268716478:e[2]>5.4049245766661995?Ht=-.0048763725607228565:e[17]>1e-35?Ht=.012937023835595996:e[91]>1e-35?Ht=-.032642493399923284:e[40]>1e-35?Ht=-.04355571234278559:e[14]>1e-35?e[217]>1e-35?Ht=-.030555708374197955:Ht=.010895997063478696:e[1]>1e-35?e[99]>1e-35?Ht=.016029829045206837:e[114]>1e-35?Ht=.017475123428921584:e[139]>1e-35?Ht=-.042037981483985604:e[210]>1e-35?e[29]>1e-35?Ht=.015395913258454092:Ht=-.024779051599098958:e[90]>1e-35?Ht=-.09436512907953146:e[25]>1e-35?Ht=-.0385103760507401:e[113]>1e-35?Ht=.014955995782471:e[208]>1e-35?Ht=.01363101947809469:Ht=.0004708078358576994:e[29]>1e-35?Ht=-.02567148566035587:e[217]>1e-35?Ht=.017896286118860596:e[118]>1e-35?Ht=-.04366196842115269:e[144]>1e-35?Ht=-.04332564222613586:e[54]>1e-35?Ht=-.08095356842154083:e[31]>1e-35?e[15]>1e-35?Ht=-.12797365603832508:Ht=.05407709367007049:e[56]>1e-35?Ht=.030874690971051524:e[148]>1e-35?Ht=-.06664437092250396:e[50]>1e-35?Ht=-.05710031053092695:e[114]>1e-35?e[18]>1e-35?Ht=-.12348764088627251:Ht=-.014081947133593207:e[147]>1e-35?Ht=-.044629298717173554:Ht=-.000742893245658901;let jt;e[138]>1e-35?jt=.008266725465725232:e[1]>1e-35?e[37]>1e-35?jt=-.06288072801700428:e[114]>1e-35?jt=.01701875404216428:e[128]>1e-35?jt=-.022207708344996902:e[113]>1e-35?e[24]>1e-35?jt=.08078133512323216:jt=.010126216487392538:e[11]>1e-35?e[58]>1e-35?jt=-.0542116306120395:jt=-.004962440421854299:e[155]>1e-35?e[30]>1e-35?jt=.02107443326718807:jt=-.01069225359959257:jt=.0009105709984003484:e[218]>1e-35?jt=.05160355321154702:e[134]>1e-35?jt=.006114948378400552:e[121]>1e-35?jt=.016106484014031797:e[89]>1e-35?jt=.01912348851711998:e[56]>1e-35?jt=.029777849606436514:e[157]>1e-35?jt=.04060172642469715:e[31]>1e-35?jt=.040190765597096945:e[115]>1e-35?jt=.038285461163007885:e[144]>1e-35?jt=-.04397941351839926:e[53]>1e-35?jt=-.09153555712989248:e[34]>1e-35?jt=.05063635650139542:e[145]>1e-35?jt=-.05531793235403996:e[18]>1e-35?e[142]>1e-35?jt=.050915836711889595:jt=-.038668153033606156:e[142]>1e-35?jt=-.03161888799270195:e[21]>1e-35?jt=-.039152400008548416:e[147]>1e-35?jt=-.06369054146375448:e[146]>1e-35?jt=-.06687062048733548:e[143]>1e-35?jt=-.0374398909044375:jt=-.004075281311375503;let ir;e[19]>1e-35?ir=.011138060439416179:e[7]>.054053454943712505?e[17]>1e-35?e[30]>1e-35?ir=.031458353209402545:ir=.006712963530887799:e[135]>1e-35?ir=-.008268741342836259:e[60]>1e-35?ir=-.026373116795568554:e[7]>.8375851232899904?e[3]>2.602003343538398?e[6]>4.832297822126891?ir=.001164103411669833:e[8]>1e-35?ir=-.04419920795209664:ir=-.007580602414427876:e[6]>3.417592293073651?e[6]>8.80963889693121?ir=-.00653283113371423:e[8]>1e-35?e[125]>1e-35?ir=-.10156793652811894:ir=-.004200534838133274:e[18]>1e-35?ir=-.01192673279840267:ir=.007421951916920296:e[7]>.9626084674797213?e[29]>1e-35?e[6]>2.970085626360216?ir=-.0032059430383565256:ir=.05159315082197918:e[8]>1e-35?ir=-.0890031715943104:e[22]>1e-35?ir=-.16814104441488775:e[12]>1e-35?e[100]>1e-35?ir=.1021284677424052:ir=-.13655977142603173:ir=.09393254504800182:ir=-.0008030674521708154:e[153]>1e-35?e[18]>1e-35?ir=.028570793527563892:ir=-.01146507406243734:e[125]>1e-35?e[3]>1e-35?ir=-.04344386283066575:ir=.049543778722220704:e[47]>1e-35?ir=-.025602694767462936:ir=41633336342102227e-21:e[3]>2.3502401828962087?e[3]>3.3497501700808394?ir=-.018924000087166926:ir=.005374758944061522:e[14]>1e-35?ir=.02825013192303339:ir=-.028367959366723622;let pe;e[190]>1e-35?pe=-.033259392758942484:e[4]>2.4414009612931857?e[123]>1e-35?pe=-.030965448877928344:e[150]>1e-35?pe=-.05353588365501967:e[53]>1e-35?pe=-.07322459471644706:e[0]>1e-35?e[6]>6.9012339353508745?pe=.007566110700214329:e[4]>3.0677824455408698?e[7]>.5242163672259389?e[8]>1e-35?e[6]>4.722943345003718?pe=-.00508197369229565:e[4]>3.5694334999727624?pe=-.09566908841488272:pe=-.009799018561370653:e[29]>1e-35?pe=.01134634874419129:pe=-.008480456528154491:pe=-.010775036248093376:pe=.006611525544742429:e[23]>1e-35?pe=.01761735039511882:e[19]>1e-35?pe=.01278442042249664:pe=-.0002242132003162585:e[186]>1e-35?pe=-.1282956565830828:e[99]>1e-35?pe=.018493666625505303:e[141]>1e-35?pe=-.026024552608676074:e[29]>1e-35?e[5]>3.5694334999727624?e[217]>1e-35?pe=.010089877008871859:e[7]>.9569480028661056?pe=-.0021891593882122327:pe=-.019455050281455402:e[7]>.960816451500545?pe=-.13777176433158442:pe=.02722608122697913:e[28]>1e-35?e[194]>1e-35?pe=.09549833737461155:pe=.012447932823540411:e[129]>1e-35?e[26]>1e-35?pe=.147381625399948:pe=-.03418523266130075:e[7]>.26911173821332884?pe=.0014660191124088442:e[217]>1e-35?pe=-.08282397562490618:e[210]>1e-35?pe=-.0386848317545183:pe=-.001892646396528824;let Le;e[57]>1e-35?Le=-.059790543460520464:e[55]>1e-35?Le=-.06524069243313577:e[3]>4.283562780082224?e[37]>1e-35?Le=-.054605342954169904:Le=-.006343751747681404:e[17]>1e-35?Le=.011961708215735271:e[40]>1e-35?Le=-.04296088601962452:e[6]>1e-35?e[24]>1e-35?e[113]>1e-35?e[6]>4.460127707454046?Le=-.026498922218692673:Le=.10501477027016158:e[6]>4.03420147928485?Le=.012792216148037112:e[7]>.9830997303909479?Le=-.2271005546552327:Le=-.008348690537914538:e[9]>1e-35?e[153]>1e-35?e[7]>.20588252599634785?Le=-.004842123367456505:Le=-.03575275485660392:e[99]>1e-35?e[1]>1e-35?Le=.032397176999597294:Le=-.0033271937210452387:e[204]>1e-35?Le=.02154799118278769:Le=.0034498877728340095:e[28]>1e-35?e[6]>3.0677824455408698?e[6]>5.5816130673839615?Le=.01602715871650751:e[7]>.9901971344332651?e[194]>1e-35?Le=-.21161676626091178:e[127]>1e-35?Le=-.4024450297968636:Le=-.030976570087232314:Le=.0031980605341801454:Le=.07943810970798848:e[135]>1e-35?Le=-.00869354055420051:e[123]>1e-35?Le=-.022241787113206086:e[62]>1e-35?Le=.037165483434744594:e[7]>.04507521918085865?e[21]>1e-35?Le=-.013433718654288605:e[155]>1e-35?Le=.00919342834132915:Le=-.0002729025327531227:Le=-.012537468897218136:Le=-.07894994665155514;let Ke;e[4]>.8958797346140276?e[14]>1e-35?Ke=.007800140351631253:e[138]>1e-35?Ke=.007294945388686309:e[1]>1e-35?e[32]>1e-35?e[28]>1e-35?Ke=.09462192942805535:Ke=-.06376046128949985:e[37]>1e-35?Ke=-.06442220885770956:e[140]>1e-35?e[30]>1e-35?Ke=-.09261012186873348:Ke=-.015294712278584928:e[98]>1e-35?Ke=.019329173498247088:e[58]>1e-35?Ke=-.026405515460271967:e[5]>8.608586615680721?e[4]>2.602003343538398?Ke=6125118307170923e-20:Ke=-.009497787119169794:e[40]>1e-35?Ke=-.05491317248554455:e[7]>.30853255358841714?Ke=.003951848833690266:Ke=-.0021827028977256715:e[219]>1e-35?Ke=-.03918852409108207:e[98]>1e-35?Ke=-.025490621458423603:e[218]>1e-35?Ke=.04685239586600909:e[4]>2.970085626360216?e[152]>1e-35?Ke=.019288400231624092:e[132]>1e-35?Ke=.04845025214421127:e[157]>1e-35?Ke=.03681235344369351:e[18]>1e-35?Ke=-.034132162265456074:e[48]>1e-35?Ke=-.04861483835690636:e[142]>1e-35?Ke=-.031057400959951156:e[148]>1e-35?Ke=-.06903688486009983:Ke=-.004426858558248682:e[31]>1e-35?Ke=.06983425899920179:Ke=.002335587968443938:e[19]>1e-35?Ke=.04178364096434334:e[123]>1e-35?Ke=.03954255208630935:e[62]>1e-35?Ke=.07169067239737285:Ke=-.022094630155173406;let et;e[190]>1e-35?et=-.029705030481716018:e[2]>2.4414009612931857?e[125]>1e-35?e[3]>1e-35?et=-.052080713549693486:et=.015237248725743169:e[49]>1e-35?et=-.05738028956460733:e[28]>1e-35?et=.015629889576502864:e[14]>1e-35?et=.007178838639724632:e[217]>1e-35?et=.006873744757442591:e[3]>.8958797346140276?et=-.0009297977761919447:e[4]>2.740319461670996?et=-.0032588616048005344:e[209]>1e-35?et=-.09352716353634213:et=-.015820890219545396:e[0]>1e-35?e[2]>.8958797346140276?e[30]>1e-35?et=.019248760742983276:e[3]>2.861792550976191?e[6]>8.372051799062541?et=.011687619771455333:et=-.014380012538782239:et=.007119108038702808:e[5]>4.424828703319957?e[3]>2.249904835165133?et=-.004571416888569663:e[4]>.8958797346140276?e[2]>1e-35?et=.03291298609827498:et=.056149641245301286:e[6]>5.66469358412419?et=.03259771207074825:et=-.09357704176112766:e[135]>1e-35?e[4]>3.1132683346437333?e[4]>3.276966702012906?et=-.061655392996083594:et=-.32745698278768204:et=.05791789791717941:et=-.018505458368810124:e[2]>1.2424533248940002?et=.0026761409362875913:e[3]>1e-35?e[30]>1e-35?e[210]>1e-35?et=-.039544237504098204:et=-.00840469876565937:e[138]>1e-35?et=-.03964217397514852:et=-4311139741723525e-22:e[5]>6.136645972583987?et=-.022772355719852342:et=.00817231129409795;let _t;e[91]>1e-35?_t=-.028069212077752072:e[2]>5.1209788959100075?e[25]>1e-35?e[4]>3.314020688089767?_t=-.07374751231467579:_t=-.012603466600012023:_t=-.003323309316995181:e[0]>1e-35?e[2]>1.2424533248940002?e[11]>1e-35?_t=-.008138434386494645:e[2]>1.8688348091416842?e[18]>1e-35?_t=-.021752576521312197:e[142]>1e-35?_t=-.03703704004008216:e[21]>1e-35?_t=-.031901873695323615:_t=.0007949433315561949:e[156]>1e-35?_t=.04622194605125366:_t=.007164185384903575:e[156]>1e-35?_t=.05649230717257425:e[192]>1e-35?_t=-.14560972428612223:e[144]>1e-35?_t=-.0847860756426489:e[4]>.8958797346140276?e[2]>.8958797346140276?_t=.009443385055723438:e[9]>1e-35?_t=.0384706300742172:e[7]>.9738681190948303?e[7]>.9983480540068196?_t=.03566002120217884:e[125]>1e-35?_t=-.08601531943220733:e[28]>1e-35?_t=-.07136595081940608:_t=.005430826378707227:_t=.026279964393698674:e[2]>.8958797346140276?_t=.025916235406054845:_t=-.05093685243097706:e[2]>.8958797346140276?e[4]>2.4414009612931857?e[22]>1e-35?_t=-.018458649485324576:e[123]>1e-35?_t=-.027048533130577097:e[9]>1e-35?_t=.005768627348361876:_t=.0011976274380886302:e[196]>1e-35?_t=.024074476840894424:_t=-.0040891042038809855:e[156]>1e-35?_t=-.03722816735059365:_t=-.004021663177778795;let xt;e[57]>1e-35?xt=-.054174378986311306:e[55]>1e-35?xt=-.05937408126377534:e[35]>1e-35?xt=-.06355743050048665:e[52]>1e-35?xt=-.049028563645544726:e[10]>1e-35?e[152]>1e-35?xt=.023779508772836917:e[217]>1e-35?xt=.00760039749111183:xt=-.005758267779536595:e[6]>1e-35?e[50]>1e-35?xt=-.03899686693288482:e[53]>1e-35?xt=-.06158372699069763:e[19]>1e-35?xt=.009506113370718208:e[154]>1e-35?xt=-.021220440237800273:e[129]>1e-35?e[26]>1e-35?xt=.12643307498280917:xt=-.02322694568396696:e[49]>1e-35?xt=-.03489161935560748:e[173]>1e-35?xt=-.041310484369004336:e[116]>1e-35?xt=-.026931019221510855:e[150]>1e-35?xt=-.04336081700276943:e[46]>1e-35?xt=-.01503021840754708:e[21]>1e-35?xt=-.011723313966476847:e[187]>1e-35?e[30]>1e-35?xt=.029035482597327224:xt=-.020238143126606493:e[22]>1e-35?xt=-.0092659038594408:e[6]>8.954867306462836?xt=-.002270298325316596:e[25]>1e-35?e[1]>1e-35?e[152]>1e-35?xt=.025059955137215612:xt=-.058962720741665454:xt=4061285457160542e-20:e[7]>.787025207541384?xt=.0045073893285534905:e[156]>1e-35?xt=-.00956127321029558:e[153]>1e-35?xt=-.006428735642845697:xt=.0020065887307204903:xt=-.07142994726664682;let Ft;e[190]>1e-35?Ft=-.026482483927372538:e[11]>1e-35?e[153]>1e-35?Ft=-.019448665116575673:e[46]>1e-35?Ft=-.046207503035123526:e[143]>1e-35?Ft=-.060693025841649276:e[125]>1e-35?Ft=-.0635615784828548:Ft=-.0020226769939179086:e[10]>1e-35?e[152]>1e-35?Ft=.021657999498329004:e[217]>1e-35?Ft=.006867901248533881:e[186]>1e-35?Ft=-.17526174685635476:e[7]>.3736576099860928?e[125]>1e-35?Ft=-.06860813037660739:Ft=-.0030373931794416857:e[153]>1e-35?Ft=-.036659407900460406:Ft=-.009138716679401575:e[8]>1e-35?e[141]>1e-35?Ft=.022488528656368925:Ft=-.004824813956579289:e[155]>1e-35?e[29]>1e-35?Ft=-.0923825728762917:Ft=.013279779321478072:e[13]>1e-35?e[29]>1e-35?Ft=-.02015430689927317:Ft=-.0014075476679032272:e[21]>1e-35?Ft=-.010052866682366596:e[15]>1e-35?e[127]>1e-35?Ft=-.11613127921904604:Ft=-.004425492436566155:e[61]>1e-35?Ft=-.04761391619756717:e[38]>1e-35?Ft=.010790742168686546:e[138]>1e-35?e[25]>1e-35?Ft=-.03936956646884221:Ft=.012187893435100131:e[18]>1e-35?e[46]>1e-35?Ft=.052404637972043124:e[29]>1e-35?e[219]>1e-35?Ft=-.026128288926960785:Ft=.01402455905339408:Ft=-.018095204676971146:Ft=.002238241111198228;let Qt;e[3]>4.993822430271426?Qt=-.021704560089024494:e[39]>1e-35?Qt=-.012978601337522922:e[57]>1e-35?Qt=-.04850734344953324:e[190]>1e-35?Qt=-.02323817835232452:e[55]>1e-35?Qt=-.054265924680079236:e[144]>1e-35?Qt=-.020797331827991154:e[52]>1e-35?Qt=-.04407078296749134:e[50]>1e-35?Qt=-.03531075513550682:e[14]>1e-35?e[217]>1e-35?Qt=-.02603818360896512:Qt=.00845420085528292:e[90]>1e-35?e[3]>3.5114340430413216?Qt=.010289606334961197:Qt=-.10259966877314837:e[139]>1e-35?Qt=-.01903913128660918:e[17]>1e-35?e[30]>1e-35?Qt=.027295226228104732:e[38]>1e-35?Qt=.036847447575421244:e[3]>2.861792550976191?Qt=-.016454620470329126:Qt=.010475083165212631:e[19]>1e-35?Qt=.008675111927467:e[40]>1e-35?Qt=-.036362054443170776:e[9]>1e-35?Qt=.0031294075955568394:e[123]>1e-35?Qt=-.02131953072683769:e[24]>1e-35?e[113]>1e-35?e[3]>2.602003343538398?Qt=-.005045224468848018:e[3]>2.3502401828962087?Qt=.1006727710215487:Qt=-.21606952724358763:e[209]>1e-35?Qt=-.07903381656359819:Qt=.0099843967860757:e[28]>1e-35?Qt=.009909672751437115:e[155]>1e-35?e[3]>3.941534675652877?Qt=.04961274235179155:Qt=.005113567009198253:e[158]>1e-35?Qt=.031566828492110836:Qt=-.0012534895812835874;let Tt;e[4]>2.4414009612931857?e[123]>1e-35?Tt=-.022743199998420272:e[47]>1e-35?Tt=-.02199867034393067:e[3]>3.238486181444842?e[155]>1e-35?Tt=.015256601991879549:e[23]>1e-35?Tt=.01997791344831838:e[97]>1e-35?Tt=.024977281654938052:e[218]>1e-35?Tt=.031730655567930977:e[32]>1e-35?e[1]>1e-35?Tt=-.05855958691798028:Tt=-.009630189044251312:e[195]>1e-35?Tt=-.009842090802252708:e[125]>1e-35?Tt=-.030084333742373532:Tt=-.0009935375527704107:e[135]>1e-35?Tt=-.006040875366017567:e[43]>1e-35?Tt=-.03616920022546756:e[44]>1e-35?Tt=-.014787601622259254:e[0]>1e-35?Tt=.005949240867095038:Tt=.0018435357767462809:e[141]>1e-35?e[3]>1e-35?Tt=-.030610116678182732:Tt=.01960307197844505:e[3]>1.2424533248940002?e[101]>1e-35?Tt=-.04366907994393087:e[28]>1e-35?e[194]>1e-35?Tt=.0927536258129216:Tt=.00806369969474508:e[198]>1e-35?Tt=.03402296877725087:Tt=-.00033907517363096143:e[194]>1e-35?e[19]>1e-35?Tt=-.16957712930341856:e[28]>1e-35?Tt=-.2078243840685859:Tt=-.01982072284112783:e[134]>1e-35?Tt=-.059093837808976674:e[155]>1e-35?Tt=-.11429749518431415:e[1]>1e-35?e[123]>1e-35?Tt=.04159085402090426:Tt=-.0053579302271092874:Tt=-.038428527597709254;let St;e[2]>2.249904835165133?e[53]>1e-35?St=-.09149569302330776:e[142]>1e-35?St=-.020143603866796752:e[29]>1e-35?e[1]>1e-35?e[4]>2.740319461670996?e[0]>1e-35?St=-.005838073295705989:St=.0025448179376697196:e[217]>1e-35?St=.010391363152324442:e[6]>3.9219243190762363?e[7]>.9546729796082215?St=.00016709708501075782:St=-.019274537854809464:e[7]>.9717523368299734?e[2]>4.848108675189105?St=.0038332904395533517:e[141]>1e-35?e[6]>3.0677824455408698?St=-.12592300140122323:St=-1.2073741246841418:St=-.17682453022795175:St=-.004373737265888883:St=-.032810714691009164:e[18]>1e-35?St=-.024280045660709612:e[156]>1e-35?St=-.023509654115095334:e[1]>1e-35?e[141]>1e-35?St=-.032438707623116556:e[32]>1e-35?St=-.061272201063817755:St=.004415514992097752:St=-.0017176659108089432:e[0]>1e-35?e[6]>6.288787065535392?e[2]>.8958797346140276?St=.008680085548304642:e[29]>1e-35?St=.03767506445697859:St=-.0007537359215762705:e[4]>.8958797346140276?St=.0002799056937607271:St=-.039667032027283916:e[2]>1.2424533248940002?St=.002506908961838236:e[29]>1e-35?e[7]>.950335336459789?St=.0027367426972748597:St=-.021265206402010337:e[30]>1e-35?e[210]>1e-35?St=-.03496264625173957:St=-.007705718616493613:e[138]>1e-35?St=-.035840689909527164:St=.0006855012949462712;let wt;e[2]>5.418317700738354?e[5]>6.0051201133541365?e[156]>1e-35?wt=-.024776046248283234:wt=-.004761578172448051:e[8]>1e-35?wt=-.025343070913887773:wt=.012224469039913016:e[150]>1e-35?wt=-.04079051452350429:e[10]>1e-35?e[152]>1e-35?wt=.019743419118584654:e[186]>1e-35?wt=-.15575093795294756:e[217]>1e-35?wt=.0056968023991711995:wt=-.004356449942923164:e[5]>6.0051201133541365?e[125]>1e-35?wt=-.01597803134795572:e[151]>1e-35?wt=-.05058454115923059:e[50]>1e-35?wt=-.03619853041443809:e[49]>1e-35?wt=-.03261722685392842:e[24]>1e-35?wt=.011909155984778505:e[2]>2.012675845367575?wt=.0004933624031973823:e[219]>1e-35?wt=.015579421213152617:wt=.002812703494519415:e[113]>1e-35?e[24]>1e-35?wt=.09675188599473092:wt=.0008025077587732017:e[204]>1e-35?e[9]>1e-35?e[5]>3.772694874805912?wt=.02609533140492082:e[29]>1e-35?wt=-.21256031284758028:wt=.09442590919716193:wt=-.004086903422513798:e[24]>1e-35?e[5]>3.979637980058199?wt=-.011071875945121415:e[209]>1e-35?wt=-.19367443751378252:wt=-.04414838576908475:e[178]>1e-35?wt=-.06538606241685795:e[100]>1e-35?e[5]>3.772694874805912?wt=-.01294941588968201:e[5]>2.673553765358735?wt=.08150000027300734:wt=-.08989919051554107:wt=-.0032151101072856354;let Ot;e[35]>1e-35?Ot=-.05704221149718709:e[91]>1e-35?Ot=-.023832002943165256:e[102]>1e-35?Ot=.015441451551750014:e[3]>4.993822430271426?Ot=-.020159490027748073:e[4]>2.3502401828962087?e[144]>1e-35?Ot=-.022873219553742163:e[22]>1e-35?Ot=-.01287591196884623:e[47]>1e-35?e[18]>1e-35?Ot=.07657102696661595:Ot=-.0243921910773003:e[150]>1e-35?Ot=-.043982850497096056:e[138]>1e-35?e[25]>1e-35?Ot=-.03740348349716821:Ot=.008237493112057112:e[49]>1e-35?Ot=-.03254806921800082:e[53]>1e-35?Ot=-.057370285686186163:e[3]>4.085941003063911?e[37]>1e-35?Ot=-.04084726667137505:e[155]>1e-35?Ot=.0323666619020495:Ot=-.0038866525930422893:e[118]>1e-35?e[18]>1e-35?Ot=-.0975422096275863:Ot=-.014038224866250074:e[136]>1e-35?Ot=-.03199938604211209:Ot=.0014268928516615767:e[99]>1e-35?Ot=.018668567929263327:e[5]>7.334002872979111?e[156]>1e-35?Ot=-.05380541629812827:e[210]>1e-35?e[30]>1e-35?Ot=-.047112416583853595:Ot=.00900546030963941:e[208]>1e-35?Ot=.02334424121914086:e[158]>1e-35?Ot=.04595592178250823:Ot=-.006709820970668842:e[204]>1e-35?e[5]>3.772694874805912?Ot=.009489783712825852:e[3]>2.249904835165133?Ot=.09999429949553015:Ot=-.03961464289941561:Ot=-.001190853283470586;let Gt;e[39]>1e-35?Gt=-.011391872842603505:e[190]>1e-35?Gt=-.021093147889461955:e[51]>1e-35?e[18]>1e-35?Gt=.08723256651643213:Gt=-.04233732133209843:e[19]>1e-35?Gt=.008078856044745801:e[4]>.8958797346140276?e[60]>1e-35?Gt=-.022165860715145688:e[129]>1e-35?e[3]>3.314020688089767?Gt=.019990677612126993:Gt=-.035520772730423776:e[153]>1e-35?e[2]>.8958797346140276?Gt=-.006946377120973384:e[0]>1e-35?e[8]>1e-35?e[5]>5.692045796563381?Gt=.04230611914121616:Gt=-.1152833284663223:Gt=.03987788751961305:Gt=-.02748865099804465:e[46]>1e-35?e[18]>1e-35?Gt=.047655531405650486:Gt=-.022707509947190632:e[18]>1e-35?e[3]>.8958797346140276?e[31]>1e-35?Gt=.1425984397283696:e[143]>1e-35?Gt=.05597721538261218:Gt=-.02117927246804007:Gt=.011077153043550766:e[143]>1e-35?Gt=-.0158979963012007:e[187]>1e-35?e[30]>1e-35?Gt=.02515771028113912:Gt=-.019084229614362958:e[49]>1e-35?e[1]>1e-35?Gt=.014623537050735559:Gt=-.05320125987679328:e[58]>1e-35?e[3]>3.1132683346437333?Gt=.021421346835282216:Gt=-.03287702034784505:e[16]>1e-35?Gt=.008645735809593434:e[3]>4.993822430271426?Gt=-.01889537207927676:Gt=.00131546333396141:e[153]>1e-35?Gt=-.09822789507794744:Gt=-.010292962989428067;let $t;e[11]>1e-35?e[156]>1e-35?e[4]>3.1132683346437333?$t=-.009153166060719259:$t=-.035386636811765286:e[58]>1e-35?$t=-.03881024236774208:e[153]>1e-35?e[7]>.12645023619128054?$t=-.01286680669029116:$t=-.0573874491021103:e[3]>3.276966702012906?e[38]>1e-35?$t=-.03084033316462023:$t=-.00517175216868761:e[195]>1e-35?$t=.01773824295809578:e[131]>1e-35?$t=-.17828043850421407:$t=.0005554487984838318:e[7]>.14547530463198097?e[105]>1e-35?$t=-.018589129226123456:e[116]>1e-35?$t=-.0227108777687536:e[24]>1e-35?$t=.009520152980411787:e[135]>1e-35?$t=-.004364970908897872:e[0]>1e-35?e[18]>1e-35?$t=-.015737703364129243:$t=.003711277180349787:e[12]>1e-35?e[4]>3.540854293052788?e[155]>1e-35?$t=.04655165952772795:$t=.009321761971665682:e[210]>1e-35?$t=.018839890489201528:e[129]>1e-35?$t=-.03111680952187252:$t=.0002649813454447912:e[23]>1e-35?$t=.014110539528977999:e[109]>1e-35?$t=.014168740682742625:$t=-.0008607565404007093:e[3]>2.3502401828962087?e[9]>1e-35?e[4]>3.3842466058243152?$t=-.004252607769147212:$t=.02017003996344357:e[16]>1e-35?$t=.01594899805169211:$t=-.006372071796745688:e[12]>1e-35?$t=-.0251011457777017:e[121]>1e-35?$t=-.07822588279288774:$t=-.005026529762858;let lr;e[7]>.8375851232899904?e[155]>1e-35?e[3]>1.2424533248940002?lr=.014982109981371684:lr=-.08302064203662592:e[3]>2.602003343538398?e[125]>1e-35?lr=-.02862612402789537:lr=-.0004831913476108919:e[42]>1e-35?lr=-.08030278175390543:e[90]>1e-35?lr=-.11931838045625616:lr=.003328726909052652:e[125]>1e-35?e[3]>1e-35?lr=-.03347653784336098:lr=.0381767649776156:e[3]>2.4414009612931857?e[3]>3.1132683346437333?e[137]>1e-35?lr=.04078434374172937:e[130]>1e-35?lr=.04811471469938318:e[152]>1e-35?lr=.012079515899716571:e[23]>1e-35?lr=.017817807971301534:e[122]>1e-35?lr=.049338146544587284:e[115]>1e-35?lr=.026905923036994708:e[10]>1e-35?lr=-.008135082370740723:e[89]>1e-35?lr=.023584069012120446:e[95]>1e-35?lr=.013988944683250695:lr=-.002584756192745314:e[139]>1e-35?lr=-.04454469703180858:e[99]>1e-35?e[3]>2.524928003624769?lr=.010620580427538877:lr=.047779724434429495:e[131]>1e-35?lr=-.08155143867377633:lr=.0031488702256745843:e[7]>.06275229375044648?e[99]>1e-35?lr=.016956254821045937:e[90]>1e-35?lr=-.11685880917620971:e[210]>1e-35?e[11]>1e-35?lr=-.040607887814632475:lr=-.006287900824728332:lr=-.0018997472673294537:e[14]>1e-35?lr=.02358706984105576:lr=-.01737075534918072;let hr;e[6]>1e-35?e[2]>5.4049245766661995?e[5]>6.441743353550561?e[29]>1e-35?e[4]>2.673553765358735?hr=-.007517267159018327:hr=-.02379463821120899:hr=-.0026543290628044274:e[8]>1e-35?hr=-.022865480180725452:hr=.009005117181880752:e[6]>5.161920636569023?e[0]>1e-35?e[2]>.8958797346140276?e[2]>2.012675845367575?e[3]>2.3502401828962087?hr=.0021573820428423146:hr=-.0046125093600082965:e[3]>3.314020688089767?hr=-.005566488595229649:e[6]>6.288787065535392?hr=.012796965207082116:hr=-.0023971957228440767:e[3]>2.249904835165133?e[2]>1e-35?hr=-.0003832411399288501:e[1]>1e-35?hr=-.03148874544425103:hr=-.3158553329522586:e[2]>1e-35?hr=.025981575700247922:hr=.052944809618023905:e[6]>8.681774988134558?e[3]>2.970085626360216?hr=-.0005280655103032829:hr=-.009402467452152188:e[2]>.8958797346140276?hr=.0018798828715775142:e[3]>1.7005986908310777?hr=-.0002583719758369029:hr=-.014467497542301198:e[128]>1e-35?hr=-.03075061856353219:e[3]>3.0201273556387074?e[8]>1e-35?hr=-.03107874404542307:hr=-.0063178690978266385:e[113]>1e-35?e[24]>1e-35?hr=.10168122236339333:hr=.0027676566086997536:e[100]>1e-35?e[3]>1.4978661367769956?hr=-.019182725682091863:e[3]>1.2424533248940002?hr=.10007959215270637:hr=-.049901874168813753:e[12]>1e-35?hr=-.008354674563617942:hr=.000556773623388255:hr=-.06338083699889271;let sr;e[14]>1e-35?e[5]>7.841296344941067?e[217]>1e-35?sr=-.03452197748259044:e[141]>1e-35?sr=-.05526745933972476:sr=.003096257901065188:sr=.013468654879205778:e[90]>1e-35?sr=-.04633994478668718:e[7]>.04507521918085865?e[39]>1e-35?sr=-.011427282692256308:e[188]>1e-35?sr=-.11824461537515621:e[17]>1e-35?e[5]>3.276966702012906?sr=.009014346731620665:sr=-.10784986305366669:e[102]>1e-35?sr=.014356846380168074:e[109]>1e-35?sr=.0100955463134877:e[31]>1e-35?sr=.025672511171270042:e[127]>1e-35?sr=-.10904631172619624:e[19]>1e-35?sr=.007015456473363717:e[60]>1e-35?sr=-.02409044800892067:e[217]>1e-35?e[7]>.9914949911911836?sr=.02334115299069277:e[1]>1e-35?sr=-29013080593250377e-21:sr=.014307421165143329:e[1]>1e-35?e[42]>1e-35?sr=-.06673983904970003:e[37]>1e-35?sr=-.05636396687178933:e[32]>1e-35?sr=-.042854874962508754:e[140]>1e-35?sr=-.014546243613252019:e[119]>1e-35?sr=.02592806792359847:sr=.0008331579108247542:e[12]>1e-35?sr=.004348565717870661:e[195]>1e-35?sr=-.016064193157584304:e[210]>1e-35?sr=-.01896835246692864:e[122]>1e-35?sr=.06415669138405272:e[219]>1e-35?sr=-.03191239858069586:sr=-.0022170295258555585:sr=-.00965022020696389;let cr;e[55]>1e-35?cr=-.04649484416236924:e[6]>1e-35?e[35]>1e-35?cr=-.04814595674860986:e[173]>1e-35?cr=-.030965289355370126:e[190]>1e-35?cr=-.01892908615035444:e[50]>1e-35?cr=-.03023310323845746:e[14]>1e-35?e[134]>1e-35?cr=.029102388421738776:e[217]>1e-35?cr=-.021829759931582565:cr=.005209049556942947:e[90]>1e-35?e[3]>3.276966702012906?cr=.007482519637019732:e[28]>1e-35?cr=.08823476156200263:cr=-.1134870648564767:e[17]>1e-35?e[5]>3.156774023138548?e[3]>2.861792550976191?e[134]>1e-35?cr=.037573808092493166:cr=-.008120569804875069:cr=.015185866424900767:cr=-.10150107137017012:e[39]>1e-35?cr=-.011108691883331833:e[4]>2.4414009612931857?e[123]>1e-35?cr=-.019406534412652932:e[22]>1e-35?cr=-.011646225036274034:e[118]>1e-35?e[1]>1e-35?cr=.007977856608752276:cr=-.038946271309380914:cr=.0009257226566265858:e[101]>1e-35?e[6]>5.769881059461895?cr=-.06484570063989317:cr=.016294764421436982:e[29]>1e-35?e[204]>1e-35?e[5]>5.859359688974663?cr=.036329398743295674:cr=-.20474934656494398:e[4]>1.7005986908310777?cr=-.0005630875641286038:e[5]>3.5694334999727624?e[19]>1e-35?cr=.03322386202318951:cr=-.01687696637036405:cr=-.10533305728771972:cr=-.0004901077590279651:cr=-.05758869249681345;let Jt;e[57]>1e-35?Jt=-.043478488738181505:e[53]>1e-35?Jt=-.05188532777589009:e[11]>1e-35?e[156]>1e-35?Jt=-.01733439245316815:e[58]>1e-35?Jt=-.03508850349398082:e[134]>1e-35?e[38]>1e-35?e[3]>3.156774023138548?Jt=-.02641618586067251:Jt=.0053883499998111746:Jt=-.04111067521339709:e[46]>1e-35?Jt=-.03960880739147387:e[56]>1e-35?Jt=.02833430038101972:e[3]>4.548585836935273?Jt=-.028156779064728323:Jt=-.0006287807275955149:e[105]>1e-35?Jt=-.018589321466431944:e[187]>1e-35?e[30]>1e-35?Jt=.021938681282791916:Jt=-.016917430307970042:e[7]>.015258684697466883?e[132]>1e-35?Jt=.026815659384164206:e[204]>1e-35?e[7]>.992067132663463?Jt=-.010565408217521758:e[7]>.9738681190948303?e[9]>1e-35?e[30]>1e-35?Jt=.09345774314045512:Jt=-.003460687191126055:Jt=.009778848673591349:Jt=.006207652194161698:e[134]>1e-35?e[14]>1e-35?Jt=.026940863472122597:Jt=.004032635910042969:e[16]>1e-35?e[156]>1e-35?Jt=-.014571620220052964:e[219]>1e-35?Jt=.03394257525872151:e[189]>1e-35?Jt=-.16441255476933125:Jt=.006890416623408193:e[7]>.5866799179067689?e[156]>1e-35?e[9]>1e-35?Jt=-.002374233797129139:Jt=.015343494638416642:Jt=.0007085956801478842:Jt=-.0014226167854637043:Jt=-.014931890774210171;let ur;e[52]>1e-35?ur=-.040552145534119004:e[88]>1e-35?ur=-.11616238297789526:e[147]>1e-35?e[21]>1e-35?ur=.08405882357263977:ur=-.028120036866471673:e[89]>1e-35?ur=.013417411709807947:e[138]>1e-35?e[25]>1e-35?ur=-.03104795267483152:e[8]>1e-35?ur=-.013793892541819341:ur=.007067793368543704:e[3]>4.212100162283537?e[37]>1e-35?ur=-.04169781427571004:e[59]>1e-35?ur=.039366779099462186:e[190]>1e-35?ur=-.0746572875957972:ur=-.0046665287028623895:e[31]>1e-35?e[3]>3.3497501700808394?ur=-.015043885860062665:ur=.04427790295514171:e[127]>1e-35?ur=-.09222397003880911:e[188]>1e-35?ur=-.11791399942046604:e[116]>1e-35?ur=-.022670774074606673:e[21]>1e-35?e[118]>1e-35?ur=-.08590814127371893:ur=-.009079159755287763:e[10]>1e-35?e[153]>1e-35?e[7]>.12025037553499339?ur=-.010834658570263708:ur=-.06942979142484561:e[59]>1e-35?ur=-.0368654965105411:e[186]>1e-35?ur=-.13585047638050318:ur=-.001475385731000911:e[11]>1e-35?e[47]>1e-35?ur=-.07021793045868131:e[58]>1e-35?ur=-.03264322466138671:e[153]>1e-35?e[7]>.4982752029697964?ur=-.000719771928860618:ur=-.02550581685370434:ur=-.001300530189452872:e[216]>1e-35?ur=-.04553949138490546:ur=.0013445292966782988;let ve;e[152]>1e-35?ve=.005642349825665321:e[108]>1e-35?e[1]>1e-35?ve=.012759171568581189:ve=-.0015650437871311187:e[102]>1e-35?ve=.012533880283367552:e[10]>1e-35?e[4]>1.4978661367769956?e[7]>.9888588760569341?ve=.007453521083396632:ve=-.0036225862281260785:e[3]>.8958797346140276?ve=-.0027177080775155366:e[5]>5.782284349061034?ve=-.04454373321655838:ve=.021964247026786614:e[11]>1e-35?e[47]>1e-35?ve=-.06196070580382676:e[121]>1e-35?e[1]>1e-35?ve=-.06122312462911518:e[7]>.3847172300624272?ve=.03518239795956787:e[3]>2.4414009612931857?ve=.006811972713764457:ve=-.0933556055347465:e[5]>4.938058177869999?ve=-.004012086267764631:ve=.01930669434547199:e[5]>6.0051201133541365?e[27]>1e-35?ve=-.012304580143719986:ve=.0013650712455989071:e[3]>2.802901033147999?ve=-.0083470520183599:e[7]>.5811983411966435?e[7]>.990877425524446?e[219]>1e-35?e[3]>1e-35?ve=.06211865200552023:e[17]>1e-35?ve=.06775644666502018:ve=-.06866304616688222:e[217]>1e-35?ve=.059656960273077646:ve=-.004328630560280456:e[204]>1e-35?e[4]>2.249904835165133?ve=.006371564018556469:e[3]>2.138333059508028?ve=.09486061534469152:ve=-.09409330595635478:e[4]>2.602003343538398?ve=.011308844028341723:e[100]>1e-35?ve=.0439316487073224:ve=-.003403233436702135:ve=-.00960652384005499;let M;e[144]>1e-35?e[18]>1e-35?M=.07197995497453837:e[1]>1e-35?M=-.001274320993832369:M=-.040032546534329444:e[52]>1e-35?e[18]>1e-35?M=.09098124993319018:M=-.04537404774072243:e[40]>1e-35?M=-.02515534903180516:e[53]>1e-35?M=-.04736675675905027:e[178]>1e-35?M=-.021374380471858013:e[55]>1e-35?M=-.04240162360893064:e[51]>1e-35?e[18]>1e-35?M=.07999652271774131:M=-.036649228565504045:e[109]>1e-35?M=.009067075019741765:e[54]>1e-35?e[1]>1e-35?M=.019160818735605257:M=-.05967997790089002:e[35]>1e-35?M=-.043420689526233285:e[173]>1e-35?M=-.027561163630755333:e[190]>1e-35?M=-.016370101115869642:e[14]>1e-35?e[217]>1e-35?M=-.019735056448517897:e[141]>1e-35?M=-.028090004807030017:M=.006865378253320941:e[139]>1e-35?e[1]>1e-35?M=-.032389864623829076:M=.005458607214221278:e[60]>1e-35?M=-.019089857559617188:e[153]>1e-35?e[18]>1e-35?M=.015189336996079859:e[19]>1e-35?M=.013745154147527805:e[1]>1e-35?M=-.005284271350108698:M=-.0374184512092477:e[18]>1e-35?e[99]>1e-35?M=-.0595395395199616:e[100]>1e-35?M=-.09991342902311327:M=-.0042488091801234805:M=.0006682804828197052;let de;e[46]>1e-35?de=-.012191380765172536:e[88]>1e-35?de=-.10266216005056819:e[91]>1e-35?de=-.018445844031974568:e[50]>1e-35?de=-.027431707051961525:e[144]>1e-35?e[7]>.9945060383544003?de=.03614842925379388:de=-.02095650990295711:e[4]>2.4414009612931857?e[123]>1e-35?e[3]>3.0201273556387074?de=-.01053451990903616:de=-.05114195197878968:e[16]>1e-35?de=.007316468830803533:e[9]>1e-35?de=.003316750172048933:de=860911526134492e-20:e[141]>1e-35?e[3]>1e-35?de=-.02547358042212171:de=.019472890771357998:e[186]>1e-35?de=-.09288424685816356:e[41]>1e-35?de=-.1310231930206974:e[42]>1e-35?de=-.056216247465863484:e[29]>1e-35?e[5]>3.5694334999727624?e[134]>1e-35?de=-.054747915129536466:e[1]>1e-35?e[131]>1e-35?de=-.16815706432319097:de=-.002818043413853223:de=-.041951940639575136:e[7]>.960816451500545?e[219]>1e-35?de=.10052885656939581:de=-.11599835225683999:de=.029922858316313545:e[101]>1e-35?e[5]>7.429817490674132?de=-.06576516230122952:de=-.0008540865426696243:e[210]>1e-35?e[114]>1e-35?de=.013062456952379193:e[7]>.7267616382562012?de=.0022613700798703854:de=-.03938763940013096:e[59]>1e-35?e[12]>1e-35?de=.008501036224046256:de=-.06542467236134167:de=.002585754319607976;let ye;e[28]>1e-35?ye=.008779900390406317:e[7]>.9880960409521241?e[8]>1e-35?ye=-.008991654120695218:e[3]>1e-35?e[140]>1e-35?ye=-.02731072195122447:ye=.002008744895602654:e[217]>1e-35?ye=.02359361264236281:ye=.007024522001417586:e[2]>2.138333059508028?e[3]>2.4414009612931857?e[125]>1e-35?ye=-.04199133736767654:e[47]>1e-35?ye=-.027561033349225085:e[3]>4.085941003063911?e[12]>1e-35?ye=.007807873722550442:e[152]>1e-35?ye=.030689318204494505:e[137]>1e-35?ye=.06699720359975746:ye=-.010441301216813357:e[118]>1e-35?ye=-.03153852460438172:e[48]>1e-35?ye=-.03440026517387997:ye=.0015296602873888215:e[0]>1e-35?e[2]>6.607325405747152?ye=-.027110120892630915:e[153]>1e-35?ye=-.017016088064422574:ye=-.005723165911539293:e[187]>1e-35?ye=-.031718114891806884:ye=-.0005272212291525389:e[0]>1e-35?e[2]>.8958797346140276?e[46]>1e-35?ye=-.09171631422683799:ye=.003327268948098216:e[3]>2.3502401828962087?e[125]>1e-35?ye=-.5887915327321841:e[2]>1e-35?ye=-.006637502258168407:ye=-.08424468641004934:e[125]>1e-35?ye=-.06617256968162606:ye=.028846174454930092:e[2]>1.2424533248940002?e[15]>1e-35?ye=-.016616715415331784:ye=.002680237807803091:e[3]>1e-35?ye=-.0012589163812412535:ye=-.015154395987664649;let Y;e[6]>9.286096980078398?e[4]>2.970085626360216?Y=-.001155963563974424:Y=-.011949331884445141:e[6]>6.3071868642287745?e[2]>5.150393035655617?Y=-.0033183579364470086:e[11]>1e-35?Y=-.0018887492076874403:e[169]>1e-35?Y=-.09486398911649394:Y=.0025252552927441433:e[4]>3.0677824455408698?e[7]>.09963982551990838?e[141]>1e-35?e[6]>3.314020688089767?Y=.012137569190879735:Y=.09584425242224671:e[8]>1e-35?e[7]>.987306237235768?e[2]>.8958797346140276?Y=-.020817404206469048:Y=-.06464699261956137:Y=-.008121005894366425:Y=-.002273798477153842:e[4]>3.5114340430413216?Y=-.024199637055494112:Y=-.0044500308011184275:e[12]>1e-35?Y=-.00483411782477681:e[5]>3.156774023138548?e[8]>1e-35?e[5]>3.772694874805912?e[6]>3.795426061844291?Y=.0013628724281773107:Y=-.04205266437322089:e[141]>1e-35?e[4]>2.861792550976191?e[5]>3.417592293073651?Y=-.15445392240959782:e[2]>2.970085626360216?Y=-.5683130345409004:Y=-1.2639522532467855:Y=-.12861577169349267:Y=-.08527127841498366:e[4]>2.4414009612931857?e[7]>.29163353806150266?Y=.003881870206848933:Y=.01474849027472377:e[18]>1e-35?e[219]>1e-35?Y=-.07387984252991263:Y=-.013089382916580447:Y=-.0008129634296833813:e[3]>2.3502401828962087?e[2]>3.1132683346437333?Y=.019943967048858428:Y=-.04278248600927625:e[17]>1e-35?Y=-.11809979934412335:Y=.03777084692378827;let L;e[57]>1e-35?L=-.03805766278012468:e[6]>9.286096980078398?e[2]>3.725620842493839?L=-.010152097691926694:L=-.000726856757223527:e[25]>1e-35?e[4]>2.917405368531303?e[6]>4.226807104886684?e[5]>8.866229029069968?L=.016965184252348844:L=-.027524673351863413:L=-.09999982742666325:e[219]>1e-35?L=-.11642840619184194:e[6]>3.1984648276080736?L=.02202934385365115:L=-.0758508504188626:e[17]>1e-35?e[5]>3.276966702012906?e[3]>2.861792550976191?e[38]>1e-35?L=.03529859841404316:L=-.005442656204983076:L=.013832633319757828:L=-.07099090377505678:e[40]>1e-35?e[12]>1e-35?L=.020780509349314687:L=-.0412229778697227:e[178]>1e-35?e[6]>4.832297822126891?L=-.012751356404573045:L=-.07365946414911166:e[6]>1e-35?e[91]>1e-35?L=-.018973855754862178:e[31]>1e-35?e[3]>3.3497501700808394?L=-.019342018507399077:L=.04336755184633714:e[52]>1e-35?L=-.034601279556920723:e[53]>1e-35?L=-.04570921257037347:e[4]>2.4414009612931857?e[22]>1e-35?L=-.009909029766665835:e[88]>1e-35?L=-.13759996623650647:L=.0010774168904012999:e[90]>1e-35?L=-.09942790916464699:e[5]>8.17933999189099?L=-.006237804261380787:e[154]>1e-35?L=-.02869365685254793:e[41]>1e-35?L=-.11951308633255478:L=.0005720279396045617:L=-.05091927304878396;let Ie;e[2]>8.18910569469239?Ie=-.011281718118735835:e[2]>8.136957041085973?Ie=.007639929297282146:e[2]>6.178980383851587?Ie=-.006867711027875817:e[6]>4.5379471377116305?e[125]>1e-35?e[3]>1e-35?Ie=-.026657037414316055:Ie=.03822052894720058:e[89]>1e-35?Ie=.01442240494610187:Ie=.0005482931472826037:e[3]>2.970085626360216?e[8]>1e-35?Ie=-.04157937378268839:e[25]>1e-35?Ie=-.07438346384769444:Ie=-.007688780027797844:e[113]>1e-35?e[24]>1e-35?Ie=.10208422768618285:Ie=-.0025376848550412623:e[24]>1e-35?e[209]>1e-35?e[7]>.9738681190948303?Ie=-.18081467351794253:Ie=.06403272706376394:Ie=-.006045919721112658:e[100]>1e-35?e[3]>1.4978661367769956?Ie=-.034372452343283254:e[3]>1.2424533248940002?Ie=.10087241747333926:Ie=-.06270133551905664:e[12]>1e-35?e[209]>1e-35?Ie=.02872327658284419:Ie=-.012940407270969699:e[5]>3.276966702012906?e[8]>1e-35?Ie=-.02165149142042258:e[3]>2.249904835165133?Ie=.011522668417532612:Ie=-.005129494488342788:e[3]>2.3502401828962087?e[2]>3.1132683346437333?Ie=.018894357520732635:Ie=-.03443967069634786:e[19]>1e-35?e[0]>1e-35?Ie=.0868126244943877:e[2]>1.4978661367769956?e[194]>1e-35?Ie=-.16834554324370338:Ie=.08799302490518951:Ie=.007907573815540844:e[17]>1e-35?Ie=-.07843101628051594:Ie=.04322926522720053;let Me;e[7]>.987306237235768?e[8]>1e-35?e[5]>6.285066127789834?Me=6536595256810364e-20:e[153]>1e-35?Me=-.07687008855803332:Me=-.015088524832702519:e[18]>1e-35?Me=-.012556097563484098:e[217]>1e-35?e[5]>8.28387302567733?Me=-.004574660978375117:Me=.02566519458840368:Me=.003837771337656032:e[28]>1e-35?e[194]>1e-35?e[29]>1e-35?e[5]>3.979637980058199?Me=.04675774128546983:Me=-.16922871147253024:e[5]>5.821564412917691?Me=.017788548280824237:Me=.101599048954043:e[5]>4.424828703319957?Me=.009470487487627452:Me=-.046977132290520585:e[95]>1e-35?Me=.008579165333164537:e[204]>1e-35?e[7]>.9782662069407232?e[9]>1e-35?Me=.0717824359443052:Me=.01776258010455891:Me=.003970948558978321:e[208]>1e-35?e[1]>1e-35?Me=.012428835257375037:e[18]>1e-35?Me=-.08152843296689005:Me=-.0059907248803252305:e[109]>1e-35?Me=.008117980905290326:e[89]>1e-35?e[1]>1e-35?Me=-.08097766993639294:Me=.014258345453663996:e[62]>1e-35?Me=.025185598552042956:e[213]>1e-35?Me=.01261362855232781:e[138]>1e-35?e[1]>1e-35?e[29]>1e-35?Me=.004355449069502461:Me=-.03327693117307522:e[29]>1e-35?Me=-.024228224306581475:e[5]>5.244385543610066?Me=.01690188327986934:Me=-.02426164440751183:Me=-.0016932467092565535;let Ct;e[116]>1e-35?Ct=-.018106356667092538:e[24]>1e-35?e[113]>1e-35?e[5]>4.658699722134796?Ct=-.0289267666661116:Ct=.10225466717059267:e[5]>3.979637980058199?Ct=.007715497036238576:e[209]>1e-35?Ct=-.1596622066794057:Ct=-.02153459011172981:e[46]>1e-35?e[18]>1e-35?Ct=.044010040060630896:Ct=-.018791912393741998:e[39]>1e-35?Ct=-.008648992983623099:e[3]>4.993822430271426?Ct=-.01442291433054286:e[158]>1e-35?Ct=.023944934429097977:e[21]>1e-35?Ct=-.008731676115726167:e[51]>1e-35?e[18]>1e-35?Ct=.07015276907667169:Ct=-.03981801316250594:e[152]>1e-35?e[12]>1e-35?e[7]>.9811887196001154?Ct=.025342984951627335:e[56]>1e-35?Ct=-.039652717595259894:Ct=-.003499774006708361:e[4]>3.676220550121792?Ct=.026612369959601385:e[0]>1e-35?e[2]>2.012675845367575?Ct=.012259156005894655:Ct=.04466570041636591:Ct=.002369030228609974:e[50]>1e-35?Ct=-.02625338435100237:e[198]>1e-35?e[5]>3.156774023138548?e[4]>2.602003343538398?Ct=.004706524615587467:Ct=.03172381727140614:Ct=-.08877100979833137:e[19]>1e-35?e[156]>1e-35?Ct=.047690620764284854:Ct=.004980692597287184:e[188]>1e-35?Ct=-.10330323519600788:e[108]>1e-35?Ct=.006389080836282864:e[217]>1e-35?Ct=.0034861135133741716:Ct=-.0005184951270632008;let Ut;e[150]>1e-35?Ut=-.03083355660591381:e[6]>8.681774988134558?e[0]>1e-35?Ut=.0032708551521722813:e[3]>2.970085626360216?Ut=-.0008773771112515323:Ut=-.008194765714031488:e[1]>1e-35?e[42]>1e-35?Ut=-.0544661644610188:e[114]>1e-35?Ut=.014743200719322279:e[25]>1e-35?Ut=-.03415156332118204:e[121]>1e-35?e[0]>1e-35?Ut=-.012241568524042012:Ut=-.08332027167107449:e[119]>1e-35?Ut=.02487058944439717:e[210]>1e-35?e[4]>2.602003343538398?Ut=.003409540133128587:e[7]>.985694415330804?Ut=.014360134818665793:Ut=-.029939754177999198:e[140]>1e-35?e[30]>1e-35?Ut=-.07017324311241228:Ut=-.00954038893956995:e[32]>1e-35?Ut=-.0321895511220355:Ut=.0018389054792352236:e[3]>.8958797346140276?e[138]>1e-35?Ut=.014210083256713822:e[3]>2.970085626360216?e[56]>1e-35?Ut=.03179391063657913:e[132]>1e-35?Ut=.044860161753142676:e[122]>1e-35?Ut=.056053352587009365:e[44]>1e-35?Ut=.011126140459263092:e[217]>1e-35?Ut=.015177735064648389:e[30]>1e-35?Ut=.00292550151642784:e[0]>1e-35?Ut=-.01370614277688821:Ut=-.00467240699644943:e[30]>1e-35?e[17]>1e-35?Ut=.06455607454604466:Ut=-.018525791968354337:e[127]>1e-35?Ut=.058525937257934674:Ut=.004550050432870272:Ut=-.024273015893662056;let Pt;e[57]>1e-35?Pt=-.03433295479723807:e[35]>1e-35?Pt=-.039185287251387806:e[2]>8.18910569469239?Pt=-.01005594457537474:e[2]>8.136957041085973?Pt=.006899889609485921:e[2]>5.6542404955442525?e[156]>1e-35?Pt=-.021428903659715646:Pt=-.003794036359277691:e[6]>4.3882378946731615?e[125]>1e-35?Pt=-.012625422706971806:e[0]>1e-35?e[2]>.8958797346140276?e[32]>1e-35?Pt=.024078606665492636:e[6]>6.9309832857755405?e[2]>2.012675845367575?Pt=.00015676395930232578:Pt=.008324926956588046:Pt=-.0031526636810443134:e[156]>1e-35?Pt=.053603289446623514:e[6]>5.912149824839399?Pt=.022861200347258755:e[128]>1e-35?e[9]>1e-35?Pt=-.44322676747225076:Pt=-.07989645752877887:Pt=.005736631305989689:e[6]>9.286096980078398?Pt=-.005302861539231229:e[133]>1e-35?Pt=-.011410750972764748:e[2]>1e-35?e[139]>1e-35?Pt=-.01695599188677891:e[12]>1e-35?e[129]>1e-35?Pt=-.029257180272820173:e[106]>1e-35?Pt=.03593102425808264:e[59]>1e-35?Pt=.03336711951593411:e[114]>1e-35?Pt=.021293721644930708:Pt=.0031644417228525465:e[140]>1e-35?e[2]>2.802901033147999?Pt=.005338088459754211:Pt=-.018863893195455395:e[59]>1e-35?e[20]>1e-35?Pt=-.2145461556048109:Pt=-.013833058686928565:Pt=.0010745795613665528:Pt=-.003974960846380726:Pt=-.004018386137909663;let tr;e[55]>1e-35?tr=-.038436881673730244:e[49]>1e-35?e[1]>1e-35?tr=.013340924551504776:tr=-.04038081752369706:e[135]>1e-35?e[17]>1e-35?tr=.02160784630817418:e[6]>4.722943345003718?e[2]>3.9981586158983733?tr=-.012347824466576033:tr=-.000545766507983511:e[4]>3.0201273556387074?e[2]>1e-35?tr=-.0252070573488502:tr=-.13173630032620282:tr=.009893647988200364:e[6]>1e-35?e[73]>1e-35?tr=-.05384174968342247:e[52]>1e-35?e[1]>1e-35?tr=.02326718288961822:tr=-.04799167043714381:e[7]>.8453853180651066?e[4]>3.481121732133104?e[12]>1e-35?e[59]>1e-35?tr=.061286381265316374:e[3]>3.481121732133104?tr=.005424469650470853:e[6]>4.310776603370241?tr=.014609485744972962:tr=.06126754321077295:e[156]>1e-35?e[2]>8.898092196194755?tr=-.2427431056579565:tr=.018014774163852717:tr=.0018695162213364096:e[61]>1e-35?tr=-.07802947082997094:e[45]>1e-35?tr=-.024426413301391545:e[140]>1e-35?e[4]>.8958797346140276?tr=-.021126260874271455:e[6]>4.03420147928485?tr=-.08415757514826445:e[3]>1e-35?tr=.10708927158160722:tr=-.24178647896179492:tr=.0008522369825914582:e[218]>1e-35?tr=.02373187641553724:e[57]>1e-35?tr=-.04729470896114382:e[6]>4.135134555718313?tr=-.00014270136560779048:tr=-.007024429214918294:tr=-.08338039048086893;let or;e[72]>1e-35?or=.056415744834310104:e[102]>1e-35?or=.010312560108512227:e[109]>1e-35?or=.007457767681676636:e[208]>1e-35?e[4]>3.0677824455408698?e[18]>1e-35?or=-.06595581480202953:or=.0010087955639505731:or=.010976237400105874:e[4]>2.4414009612931857?e[123]>1e-35?e[2]>4.5900436644025815?or=-.05474288807524913:or=-.010369052951168002:e[47]>1e-35?e[18]>1e-35?or=.06670108938458437:e[20]>1e-35?or=.08555144132474565:or=-.021968528557862133:e[48]>1e-35?e[18]>1e-35?or=.06392608504748652:or=-.02321056177872842:e[54]>1e-35?or=-.03592967725793262:e[6]>5.519456907163478?or=.0008682946366782881:e[133]>1e-35?or=-.029370515479889298:e[4]>3.0201273556387074?or=-.004567764283497172:e[12]>1e-35?or=-.008355751724201374:e[113]>1e-35?or=.04158028065835193:or=.005544170962219649:e[141]>1e-35?or=-.01706283616408152:e[186]>1e-35?or=-.08075713781164345:e[196]>1e-35?e[4]>2.012675845367575?or=-.004591551989937031:e[4]>.8958797346140276?e[18]>1e-35?or=-.1239344826496822:or=.026355647530608275:or=-.07955511774996737:e[41]>1e-35?or=-.10181506412232362:e[42]>1e-35?or=-.0453542732395041:e[116]>1e-35?or=-.040407946567398226:e[158]>1e-35?or=.027239009428531448:or=-.002118967070037752;let Mt;e[174]>1e-35?Mt=-.02339144841300339:e[173]>1e-35?Mt=-.02466576607302462:e[60]>1e-35?Mt=-.014400177078045:e[187]>1e-35?Mt=-.009580909976967153:e[6]>8.681774988134558?Mt=-.0018832004566674773:e[1]>1e-35?e[42]>1e-35?e[10]>1e-35?Mt=-.13287881120130746:Mt=-.03759084751116859:e[25]>1e-35?Mt=-.029737667621816583:e[119]>1e-35?Mt=.022639692376110337:e[98]>1e-35?Mt=.014991063146855506:e[195]>1e-35?e[6]>3.417592293073651?Mt=.008961268500787772:Mt=-.023240187732927162:e[61]>1e-35?e[7]>.428769371249852?Mt=-.08413653233956772:Mt=.0010489731231787087:e[140]>1e-35?e[3]>.8958797346140276?e[5]>4.855921334140645?e[44]>1e-35?Mt=-.009299863216357543:Mt=-.0613782065666655:Mt=-.06705655672927394:e[5]>3.772694874805912?Mt=.0008635593500817348:Mt=.08361268069705163:Mt=.001087642897550713:e[98]>1e-35?Mt=-.021712258264119783:e[3]>.8958797346140276?e[105]>1e-35?Mt=-.039681509263849626:e[195]>1e-35?e[18]>1e-35?Mt=-.07079074829049314:Mt=-.008109353986158243:e[210]>1e-35?e[18]>1e-35?Mt=-.10610285355896108:Mt=-.009292320249100847:e[157]>1e-35?Mt=.03507595269407085:e[97]>1e-35?Mt=.0249669535461336:e[48]>1e-35?Mt=-.027595291123779366:Mt=.0011643902717306173:Mt=-.0211420439263067;let bt;e[138]>1e-35?e[1]>1e-35?e[42]>1e-35?e[3]>3.5114340430413216?bt=-.022448598781455772:bt=-.07031164685918086:e[2]>1e-35?e[2]>2.740319461670996?bt=.00894455632762117:bt=-.003454709734759444:e[0]>1e-35?bt=.060858110677215166:bt=-.03435493609374257:e[3]>2.602003343538398?e[2]>.8958797346140276?bt=.0168978378983998:bt=-.009237748165804088:bt=-.016931758267026403:e[3]>4.424828703319957?bt=-.005659352703826067:e[24]>1e-35?e[113]>1e-35?e[6]>4.460127707454046?bt=-.023722482692479133:bt=.10064484300766507:e[6]>4.03420147928485?bt=.007526717802235146:e[209]>1e-35?e[4]>2.970085626360216?bt=.11711852031495243:bt=-.15067622815741855:bt=-.011085192149895408:e[108]>1e-35?bt=.0059255171206349135:e[19]>1e-35?e[156]>1e-35?bt=.04454460743043898:e[37]>1e-35?bt=-.14161163738926447:e[4]>1.4978661367769956?e[4]>1.7005986908310777?e[217]>1e-35?bt=-.020705364221039385:bt=.006460529078997639:e[0]>1e-35?e[98]>1e-35?bt=.10347448218504114:bt=-.04090123141769794:e[6]>5.636572136251498?bt=-.001212671493834005:e[2]>1.8688348091416842?bt=-.15821279618670178:bt=-.03563734739460456:bt=.027924859655082585:e[57]>1e-35?bt=-.03743904649648422:e[35]>1e-35?bt=-.0414066369468363:e[46]>1e-35?bt=-.011240341460759123:bt=-.0003091959047563666;let ar;e[14]>1e-35?e[5]>7.841296344941067?e[141]>1e-35?ar=-.04382809259971909:e[217]>1e-35?e[4]>3.417592293073651?ar=-.05008164665262682:ar=.0007032387608254502:e[190]>1e-35?ar=-.19371592847895003:ar=.0017489801221668277:e[129]>1e-35?ar=-.24591656603456258:ar=.011026730387591234:e[72]>1e-35?ar=.05658163433406649:e[90]>1e-35?e[4]>3.5114340430413216?ar=.017141361021852975:e[28]>1e-35?ar=.07243997319099477:ar=-.08677988948169385:e[138]>1e-35?ar=.0038201430289573884:e[23]>1e-35?e[4]>2.917405368531303?ar=.014990462643385919:ar=-.013592080985068531:e[217]>1e-35?e[4]>1.8688348091416842?ar=.0022421195021632245:e[4]>1.2424533248940002?ar=.03891295508085918:e[4]>.8958797346140276?ar=-.08902318396862074:ar=.02476911275463073:e[2]>3.1132683346437333?e[29]>1e-35?e[19]>1e-35?ar=.023731839695418987:e[5]>7.366761104104307?e[4]>3.417592293073651?e[6]>6.633975895571033?e[8]>1e-35?ar=.016171629088047517:e[134]>1e-35?ar=.03196373735768742:ar=-.006820341969572339:ar=-.02712238491085242:ar=-.016309188486296804:ar=-.0019386576944297078:e[156]>1e-35?ar=-.03079416196682616:e[123]>1e-35?ar=-.020888866054988395:e[4]>3.238486181444842?ar=-.0027078359220281674:e[141]>1e-35?ar=-.029581214969996845:ar=.002299670778244013:ar=.0001804027795430786;let Ro=Est(t+r+n+i+s+a+l+c+u+f+m+h+p+A+E+x+b+v+S+k+P+N+W+re+ge+te+G+q+se+ne+H+O+j+J+le+Z+ae+ce+Re+be+Ue+Be+Je+ut+it+ot+ie+Pe+Ae+Ge+z+ee+Fe+_e+Ce+Oe+Ve+Ze+yt+Rt+At+Ht+jt+ir+pe+Le+Ke+et+_t+xt+Ft+Qt+Tt+St+wt+Ot+Gt+$t+lr+hr+sr+cr+Jt+ur+ve+M+de+ye+Y+L+Ie+Me+Ct+Ut+Pt+tr+or+Mt+bt+ar);return[1-Ro,Ro]}o(OCe,"treeScore");function Est(e){if(e<0){let t=Math.exp(e);return t/(1+t)}return 1/(1+Math.exp(-e))}o(Est,"sigmoid");var Du=class{static{o(this,"ContextualFilterManager")}constructor(){this.previousLabel=0,this.previousLabelTimestamp=Date.now()-3600,this.probabilityAccept=0}};function UCe(e){let t=e.split(`
`);return t[t.length-1].length}o(UCe,"getLastLineLength");function qCe(e,t,r){let n=e.get(Du),i=n.previousLabel,s=0;"afterCursorWhitespace"in t.properties&&t.properties.afterCursorWhitespace==="true"&&(s=1);let a=(Date.now()-n.previousLabelTimestamp)/1e3,l=Math.log(1+a),c=0,u=0,f=r.prefix;if(f){c=Math.log(1+UCe(f));let k=f.slice(-1);_c[k]!==void 0&&(u=_c[k])}let m=0,h=0,p=f.trimEnd();if(p){m=Math.log(1+UCe(p));let k=p.slice(-1);_c[k]!==void 0&&(h=_c[k])}let A=0;if("documentLength"in t.measurements){let k=t.measurements.documentLength;A=Math.log(1+k)}let E=0;if("promptEndPos"in t.measurements){let k=t.measurements.promptEndPos;E=Math.log(1+k)}let x=0;if("promptEndPos"in t.measurements&&"documentLength"in t.measurements){let k=t.measurements.documentLength;x=(t.measurements.promptEndPos+.5)/(1+k)}let b=0;HJ[t.properties.languageId]!==void 0&&(b=HJ[t.properties.languageId]);let v=0,S=new Array(221).fill(0);return S[0]=i,S[1]=s,S[2]=l,S[3]=c,S[4]=m,S[5]=A,S[6]=E,S[7]=x,S[8+b]=1,S[29+u]=1,S[125+h]=1,v=OCe(S)[1],e.get(Du).probabilityAccept=v,v}o(qCe,"contextualFilterScore");d();d();d();var bF=class{static{o(this,"Debouncer")}async debounce(t){return this.state&&(clearTimeout(this.state.timer),this.state.reject(),this.state=void 0),new Promise((r,n)=>{this.state={timer:setTimeout(()=>r(),t),reject:n}})}};d();d();var IF=class{constructor(t){this.node=t;this.children=[];this.collapsed=!1}static{o(this,"StatementNode")}addChild(t){t.parent=this,t.nextSibling=void 0,this.children.length>0&&(this.children[this.children.length-1].nextSibling=t),this.children.push(t)}childrenFinished(){}containsStatement(t){return this.node.startIndex<=t.node.startIndex&&this.node.endIndex>=t.node.endIndex}statementAt(t){if(this.node.startIndex>t||this.node.endIndex<t)return;let r;return this.children.find(n=>(r=n.statementAt(t),r!==void 0)),r??this}collapse(){this.children.length=0,this.collapsed=!0}get description(){return`${this.node.type} ([${this.node.startPosition.row},${this.node.startPosition.column}]..[${this.node.endPosition.row},${this.node.endPosition.column}]): ${JSON.stringify(this.node.text.length>33?this.node.text.substring(0,15)+"..."+this.node.text.slice(-15):this.node.text)}`}dump(t="",r=""){let n=[`${t}${this.description}`];return this.children.forEach(i=>{n.push(i.dump(`${r}+- `,i.nextSibling===void 0?`${r}   `:`${r}|  `))}),n.join(`
`)}dumpPath(t="",r="",n=!1){if(this.parent){let i=this.parent.dumpPath(t,r,!0),s=i.length-i.lastIndexOf(`
`)-1-r.length,a=" ".repeat(s),l=n?`
${r}${a}+- `:"";return i+this.description+l}else{let i=n?`
${r}+- `:"";return t+this.description+i}}},p5=class{constructor(t,r,n,i){this.languageId=t;this.text=r;this.startOffset=n;this.endOffset=i;this.statements=[]}static{o(this,"StatementTree")}static isSupported(t){return cT.languageIds.has(t)||uT.languageIds.has(t)}static create(t,r,n,i){if(cT.languageIds.has(t))return new cT(t,r,n,i);if(uT.languageIds.has(t))return new uT(t,r,n,i);throw new Error(`Unsupported languageId: ${t}`)}[Symbol.dispose](){this.tree&&(this.tree.delete(),this.tree=void 0)}clear(){this.statements.length=0}statementAt(t){let r;return this.statements.find(n=>(r=n.statementAt(t),r!==void 0)),r}async build(){let t=[];this.clear();let r=await this.parse();this.getStatementQuery(r).captures(r.rootNode,this.offsetToPosition(this.startOffset),this.offsetToPosition(this.endOffset)).forEach(i=>{let s=this.createNode(i.node);for(;t.length>0&&!t[0].containsStatement(s);)t.shift()?.childrenFinished();t.length>0?t[0].addChild(s):this.addStatement(s),t.unshift(s)}),t.forEach(i=>i.childrenFinished())}addStatement(t){t.parent=void 0,t.nextSibling=void 0,this.statements.length>0&&(this.statements[this.statements.length-1].nextSibling=t),this.statements.push(t)}async parse(){return this.tree||(this.tree=await xC(this.languageId,this.text)),this.tree}getStatementQuery(t){return this.getQuery(t.getLanguage(),this.getStatementQueryText())}getQuery(t,r){return t.query(r)}offsetToPosition(t){let r=this.text.slice(0,t).split(`
`),n=r.length-1,i=r[r.length-1].length;return{row:n,column:i}}dump(t=""){let r=[];return this.statements.forEach((n,i)=>{let s=`[${i}]`,a=" ".repeat(s.length);r.push(n.dump(`${t} ${s} `,`${t} ${a} `))}),r.join(`
`)}},VJ=class e extends IF{static{o(this,"JSStatementNode")}static{this.compoundTypeNames=new Set(["function_declaration","generator_function_declaration","class_declaration","statement_block","if_statement","switch_statement","for_statement","for_in_statement","while_statement","do_statement","try_statement","with_statement","labeled_statement","method_definition","interface_declaration"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"||this.node.startPosition.row!==this.node.endPosition.row?!1:this.children.length===1&&this.children[0].node.type!=="statement_block"||this.children.length===2&&this.node.childForFieldName("else")!==null&&this.children[0].node.type!=="statement_block"&&this.children[1].node.type!=="statement_block"}},cT=class extends p5{static{o(this,"JSStatementTree")}static{this.languageIds=new Set(["javascript","javascriptreact","jsx","typescript","typescriptreact"])}createNode(t){return new VJ(t)}getStatementQueryText(){return`[
            (export_statement)
            (import_statement)
            (debugger_statement)
            (expression_statement)
            (declaration)
            (statement_block)
            (if_statement)
            (switch_statement)
            (for_statement)
            (for_in_statement)
            (while_statement)
            (do_statement)
            (try_statement)
            (with_statement)
            (break_statement)
            (continue_statement)
            (return_statement)
            (throw_statement)
            (empty_statement)
            (labeled_statement)
            (method_definition)
            (public_field_definition)
        ] @statement`}},jJ=class e extends IF{static{o(this,"PyStatementNode")}static{this.compoundTypeNames=new Set(["if_statement","for_statement","while_statement","try_statement","with_statement","function_definition","class_definition","decorated_definition","match_statement","block"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"?!1:this.node.startPosition.row===this.node.endPosition.row}},uT=class extends p5{static{o(this,"PyStatementTree")}static{this.languageIds=new Set(["python"])}createNode(t){return new jJ(t)}getStatementQueryText(){return`[
            (future_import_statement)
            (import_statement)
            (import_from_statement)
            (print_statement)
            (assert_statement)
            (expression_statement)
            (return_statement)
            (delete_statement)
            (raise_statement)
            (pass_statement)
            (break_statement)
            (continue_statement)
            (global_statement)
            (nonlocal_statement)
            (exec_statement)
            (if_statement)
            (for_statement)
            (while_statement)
            (try_statement)
            (with_statement)
            (function_definition)
            (class_definition)
            (decorated_definition)
            (match_statement)
            (block)
        ] @statement`}};var g5=class{constructor(t,r,n){this.languageId=t;this.prefix=r;this.completion=n}static{o(this,"BlockTrimmer")}static isSupported(t){return p5.isSupported(t)}async withParsedStatementTree(t){var n=[];try{let r=BV(n,p5.create(this.languageId,this.prefix+this.completion,this.prefix.length,this.prefix.length+this.completion.length));await r.build();return await t(r)}catch(i){var s=i,a=!0}finally{kV(n,s,a)}}trimmedCompletion(t){return t===void 0?this.completion:this.completion.substring(0,t)}getStatementAtCursor(t){return t.statementAt(Math.max(this.prefix.length-1,0))??t.statements[0]}getContainingBlockOffset(t){let r;if(t&&this.isCompoundStatement(t))r=t;else if(t){let n=t.parent;for(;n&&!this.isCompoundStatement(n);)n=n.parent;r=n}if(r){let n=this.asCompletionOffset(r.node.endIndex);if(n&&this.completion.substring(n).trim()!=="")return n}}hasNonStatementContentAfter(t){if(!t||!t.nextSibling)return!1;let r=this.asCompletionOffset(t.node.endIndex),n=this.asCompletionOffset(t.nextSibling.node.startIndex);return this.completion.substring(Math.max(0,r??0),Math.max(0,n??0)).trim()!==""}asCompletionOffset(t){return t===void 0?void 0:t-this.prefix.length}isCompoundStatement(t){return t.isCompoundStatementType||t.children.length>0}},TF=class extends g5{constructor(r,n,i,s=10){super(r,n,i);this.lineLimit=s;let a=[...this.completion.matchAll(/\n/g)];a.length>=this.lineLimit&&this.lineLimit>0?this.offsetLimit=a[this.lineLimit-1].index:this.offsetLimit=void 0}static{o(this,"VerboseBlockTrimmer")}async getCompletionTrimOffset(){return await this.withParsedStatementTree(async r=>{let n=this.getStatementAtCursor(r),i=this.getContainingBlockOffset(n);return this.isWithinLimit(i)||(i=this.trimToBlankLine(i)),this.isWithinLimit(i)||(i=this.trimToStatement(n,i)),i})}isWithinLimit(r){return this.offsetLimit===void 0||r!==void 0&&r<=this.offsetLimit}trimToBlankLine(r){let n=[...this.trimmedCompletion(r).matchAll(/\r?\n\s*\r?\n/g)].reverse();for(;n.length>0&&!this.isWithinLimit(r);)r=n.pop().index;return r}trimToStatement(r,n){let i=this.prefix.length,s=this.prefix.length+(this.offsetLimit??this.completion.length),a=r,l=r?.nextSibling;for(;l&&l.node.endIndex<=s&&!this.hasNonStatementContentAfter(a);)a=l,l=l.nextSibling;return a&&a===r&&a.node.endIndex<=i&&(a=l),a&&a.node.endIndex>s?this.trimToStatement(a.children[0],this.asCompletionOffset(a.node.endIndex)):this.asCompletionOffset(a?.node?.endIndex)??n}},wF=class extends g5{constructor(r,n,i,s=3,a=7){super(r,n,i);this.lineLimit=s;this.lookAhead=a;let l=[...this.completion.matchAll(/\n/g)],c=this.lineLimit+this.lookAhead;l.length>=this.lineLimit&&this.lineLimit>0&&(this.limitOffset=l[this.lineLimit-1].index),l.length>=c&&c>0&&(this.lookAheadOffset=l[c-1].index)}static{o(this,"TerseBlockTrimmer")}async getCompletionTrimOffset(){return await this.withParsedStatementTree(async r=>{let n=r.statementAt(this.stmtStartPos()),i=this.getContainingBlockOffset(n);return i=this.trimAtFirstBlankLine(i),n&&(i=this.trimAtStatementChange(n,i)),this.limitOffset&&this.lookAheadOffset&&(i===void 0||i>this.lookAheadOffset)?this.limitOffset:i})}stmtStartPos(){let r=this.completion.match(/\S/);return r&&r.index!==void 0?this.prefix.length+r.index:Math.max(this.prefix.length-1,0)}trimAtFirstBlankLine(r){let n=[...this.trimmedCompletion(r).matchAll(/\r?\n\s*\r?\n/g)];for(;n.length>0&&(r===void 0||r>n[0].index);){let i=n.shift();if(this.completion.substring(0,i.index).trim()!=="")return i.index}return r}trimAtStatementChange(r,n){let i=this.prefix.length,s=this.prefix.length+(n??this.completion.length);if(r.node.endIndex>i&&this.isCompoundStatement(r))return r.nextSibling&&r.node.endIndex<s?this.asCompletionOffset(r.node.endIndex):n;let a=r,l=r.nextSibling;for(;l&&l.node.endIndex<=s&&!this.hasNonStatementContentAfter(a)&&!this.isCompoundStatement(l);)a=l,l=l.nextSibling;return l&&a.node.endIndex>i&&a.node.endIndex<s?this.asCompletionOffset(a.node.endIndex):n}};async function GCe(e,t){var l=[];try{let r=e.getText();let n=e.offsetAt(t);let i=BV(l,p5.create(e.languageId,r,0,r.length));await i.build();let s=i.statementAt(n);if(!s)return"non-block";if(!s.isCompoundStatementType&&s.children.length===0)return s.parent&&!s.nextSibling&&s.node.endPosition.row<=t.line?"block-end":s.parent?"mid-block":"non-block";if(s.children.length===0)return"empty-block";let a=s.children[s.children.length-1];if(n<a.node.startIndex)return"mid-block";return"block-end"}catch(c){var u=c,f=!0}finally{kV(l,u,f)}}o(GCe,"getBlockPositionType");d();d();function WCe(e){let t;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>427.50000000000006?e[9]>13.500000000000002?e[121]>1e-35?t=-.3793786744885956:e[149]>1e-35?t=-.34717430705356905:t=-.26126834451035963:t=-.2431318366096852:e[5]>888.5000000000001?t=-.20600463586387135:t=-.2568037008471491:e[308]>1e-35?t=-.2363064824497454:e[8]>370.50000000000006?t=-.37470755210284723:t=-.321978453730494:e[3]>24.500000000000004?e[23]>1e-35?e[131]>1e-35?t=-.26259136509758885:t=-.3096719634039438:e[4]>30.500000000000004?e[9]>18.500000000000004?t=-.34254903852890883:e[2]>98.50000000000001?t=-.41585250791146294:t=-.3673574858887241:e[9]>6.500000000000001?t=-.31688079287876225:e[31]>1e-35?t=-.29110977864003823:e[308]>1e-35?t=-.3201411739040839:t=-.36874023066055506:e[8]>691.5000000000001?e[82]>1e-35?t=-.41318393149040566:e[133]>1e-35?t=-.3741272613525161:e[32]>1e-35?t=-.4112378041027121:e[227]>1e-35?t=-.37726615155719356:e[10]>3.5000000000000004?t=-.3164502293560397:t=-.2930071546509045:e[9]>13.500000000000002?t=-.277366858539218:e[308]>1e-35?e[4]>10.500000000000002?t=-.30975610686807187:e[4]>1.5000000000000002?t=-.2549142136728043:t=-.3271325650785176:e[127]>1e-35?e[0]>1937.5000000000002?t=-.2533046188098832:t=-.325520883579:t=-.331628896481776;let r;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>546.5000000000001?e[9]>13.500000000000002?r=.031231253521808708:r=.05380836288014532:e[5]>423.00000000000006?e[8]>114.50000000000001?r=.06751619128429062:r=.09625089153176467:r=.027268163053989804:e[308]>1e-35?r=.060174483556283756:r=-.049062854038919135:e[3]>24.500000000000004?e[23]>1e-35?e[4]>63.50000000000001?r=-.03969241799174589:r=.01086816842550381:e[31]>1e-35?r=-.003284694817583201:e[9]>6.500000000000001?e[4]>30.500000000000004?r=-.04224490699947552:r=-.011834162944360616:e[308]>1e-35?e[32]>1e-35?r=-.13448447971850278:r=-.019569456707046823:e[19]>1e-35?e[9]>1.5000000000000002?r=-.07256260662659254:e[4]>60.50000000000001?r=-.08227503453609311:r=-.020596416747563847:r=-.07396549241564149:e[8]>691.5000000000001?e[82]>1e-35?r=-.10046536995362734:e[133]>1e-35?r=-.06407649822752297:e[225]>1e-35?r=.08035785003303324:e[92]>1e-35?r=.018901360933204676:e[20]>1e-35?r=.05252546973665552:e[8]>2592.5000000000005?r=-.040543705016462955:r=-.011236043818320725:e[9]>17.500000000000004?r=.025560632674895334:e[308]>1e-35?e[0]>1847.5000000000002?r=.03527165701669741:r=-.0071847350825815035:e[127]>1e-35?r=.024373016379595405:e[9]>2.5000000000000004?r=-.0035090719709448288:r=-.03514829488063766;let n;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>546.5000000000001?n=.03848674861536988:e[5]>423.00000000000006?e[8]>114.50000000000001?e[9]>56.50000000000001?n=-.003764520033319488:n=.06570817919969299:e[4]>61.50000000000001?n=.028346156293069538:n=.0908154644362606:n=.02445594243234816:e[308]>1e-35?e[8]>65.50000000000001?n=.0019305229020073053:n=.09279357295883772:n=-.04458984161917124:e[3]>24.500000000000004?e[23]>1e-35?n=.0027405390271277013:e[4]>29.500000000000004?e[52]>1e-35?n=.044727478132905285:e[115]>1e-35?n=.10245804828855934:e[9]>17.500000000000004?n=-.03353173647469207:e[2]>98.50000000000001?n=-.10048106638102179:n=-.05484231104348874:e[31]>1e-35?n=.016807537467116516:e[9]>6.500000000000001?n=-.012113620535295137:e[4]>8.500000000000002?e[308]>1e-35?n=-.01882594250504289:n=-.05585658862796076:n=.04279591277938338:e[8]>691.5000000000001?e[82]>1e-35?n=-.09262278043707878:e[133]>1e-35?n=-.058454257768893625:e[32]>1e-35?n=-.09769348447126434:e[25]>1e-35?n=-.0725430043727677:e[122]>1e-35?n=-.10047841601578077:n=-.00580671054458958:e[9]>13.500000000000002?n=.021399199032818294:e[308]>1e-35?e[4]>10.500000000000002?n=-.0076376731757173515:n=.03394923033036848:e[127]>1e-35?n=.02070489091204209:n=-.02290162726126496;let i;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>892.5000000000001?e[9]>21.500000000000004?i=.010230295672324606:i=.038540509248742805:e[8]>125.50000000000001?e[1]>49.50000000000001?i=.03086356292895467:i=.057128750867458604:e[5]>888.5000000000001?i=.07861602941396924:i=.030523262699070908:e[308]>1e-35?i=.048236117667577356:e[8]>370.50000000000006?i=-.05642125069212264:i=-.007232836777168195:e[3]>24.500000000000004?e[23]>1e-35?e[131]>1e-35?i=.03640661467213915:i=-.005889820723907028:e[31]>1e-35?i=-.0009007166998276938:e[9]>6.500000000000001?i=-.022590340093882378:e[308]>1e-35?e[32]>1e-35?i=-.1215445089091064:i=-.01435612266219722:e[19]>1e-35?e[9]>1.5000000000000002?i=-.061555513040777825:e[4]>60.50000000000001?i=-.07053475504569347:i=-.013733369453963092:i=-.06302097189114152:e[227]>1e-35?i=-.05820440333190048:e[8]>683.5000000000001?e[82]>1e-35?i=-.08466979526809346:e[10]>24.500000000000004?i=-.017092159721119944:e[92]>1e-35?i=.03592901452463749:i=-.00359310519524756:e[5]>1809.5000000000002?e[243]>1e-35?i=-.03963116207386097:e[118]>1e-35?i=-.09483996283536394:e[217]>1e-35?i=-.03394542089519989:e[242]>1e-35?i=-.07985899422287938:i=.019706602160656964:e[9]>12.500000000000002?i=.014072998937735146:i=-.021156294523894684;let s;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>892.5000000000001?e[9]>21.500000000000004?s=.009197756540516563:s=.03458896869535166:e[5]>5082.500000000001?s=.08265545468131008:e[131]>1e-35?s=.0740738432473315:s=.045159136632942756:e[8]>319.50000000000006?s=-.04653401534465376:e[7]>3.5000000000000004?e[0]>1230.5000000000002?e[0]>2579.5000000000005?s=-.011400839766681709:s=.11149800187510031:s=-.08683250977599462:s=.08355310136724753:e[4]>23.500000000000004?e[23]>1e-35?e[131]>1e-35?s=.040389083779932555:s=-.009887614274108602:e[52]>1e-35?s=.03705353499757327:e[9]>6.500000000000001?s=-.025401260429257562:e[2]>98.50000000000001?s=-.09237673187534504:s=-.04298556869281803:e[222]>1e-35?s=-.045221965895986184:e[8]>691.5000000000001?e[133]>1e-35?s=-.05435318330148897:e[128]>1e-35?s=-.08672907303184191:e[227]>1e-35?s=-.05568304584186561:e[122]>1e-35?s=-.09623059693538563:e[225]>1e-35?s=.07558331642202279:e[82]>1e-35?s=-.07360566227233566:s=-.005646164647395919:e[242]>1e-35?s=-.08203758341228108:e[9]>13.500000000000002?s=.018726123829696042:e[308]>1e-35?e[4]>10.500000000000002?s=-.011153942154062704:s=.03132858912391067:e[127]>1e-35?s=.021455228822345174:e[23]>1e-35?s=.01959966745346997:s=-.021764790177579325;let a;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>284.50000000000006?e[121]>1e-35?e[18]>1e-35?a=.07547602514276922:a=-.08529678832140396:a=.030314822344598043:e[5]>888.5000000000001?e[4]>61.50000000000001?a=.011143589009415464:a=.0654700456802118:a=.021794712646632755:e[308]>1e-35?a=.04231872551095028:a=-.034381999950549455:e[4]>23.500000000000004?e[23]>1e-35?e[4]>63.50000000000001?a=-.03678981254332261:a=.010518160384496255:e[8]>825.5000000000001?a=-.04506534842082387:e[9]>38.50000000000001?a=.01004983052203438:a=-.030580958620701027:e[39]>1e-35?a=-.12802435021505382:e[8]>691.5000000000001?e[23]>1e-35?e[203]>1e-35?e[4]>6.500000000000001?a=.030426957004611704:a=-.0726407693060581:a=.017395521646964375:e[4]>7.500000000000001?e[0]>93.50000000000001?e[9]>7.500000000000001?a=-.008024349629981291:e[31]>1e-35?a=.01296539930850471:e[308]>1e-35?a=-.012855016509024084:a=-.04564527976851505:a=-.15681420504058596:e[10]>4.500000000000001?e[243]>1e-35?a=-.1012064426380198:a=-.0062808850924854194:a=.030706323726162416:e[9]>13.500000000000002?a=.017081636133736405:e[308]>1e-35?e[4]>10.500000000000002?a=-.009306613091760644:e[4]>1.5000000000000002?a=.03655523200850989:a=-.02671654212893341:e[127]>1e-35?a=.019261510468604387:a=-.017627818570628936;let l;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>892.5000000000001?e[308]>1e-35?l=.036100405995889276:l=.011709313297015793:e[0]>119.50000000000001?e[8]>125.50000000000001?l=.03622542297472574:l=.05595579157301536:l=-.02234751038146796:e[8]>319.50000000000006?l=-.040132029478400735:e[7]>3.5000000000000004?e[0]>1230.5000000000002?e[0]>2579.5000000000005?l=-.009306153573847916:l=.10058509567064988:l=-.0785668890966017:e[9]>28.500000000000004?l=-.04781977604130416:l=.09753292614937459:e[4]>23.500000000000004?e[131]>1e-35?l=.02372493254975127:e[148]>1e-35?l=.028103095989516644:e[4]>58.50000000000001?e[10]>1e-35?l=-.05000852203469597:l=.02922366846119705:e[23]>1e-35?l=-.0026335076988151292:l=-.03073993752935585:e[222]>1e-35?l=-.03867374428185713:e[32]>1e-35?l=-.07220729365053084:e[39]>1e-35?l=-.11624524614351733:e[8]>691.5000000000001?e[133]>1e-35?l=-.04836360271198036:e[8]>4968.500000000001?l=-.10873681915578029:e[149]>1e-35?l=-.11847484033769298:e[122]>1e-35?l=-.08916172460307559:e[82]>1e-35?l=-.06774726602152634:l=-.0033469147714351327:e[126]>1e-35?l=-.09474445392080015:e[8]>131.50000000000003?e[118]>1e-35?l=-.09002547031023511:l=.015475385187009489:e[25]>1e-35?l=-.08175501232759151:l=-.000429679055394914;let c;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>546.5000000000001?c=.021942996005324917:c=.042349138084484074:e[308]>1e-35?c=.036507270845732874:c=-.028981850556764995:e[3]>24.500000000000004?e[23]>1e-35?c=.00210930790963475:e[31]>1e-35?c=.006825358293027163:e[9]>6.500000000000001?c=-.013772084269062394:e[308]>1e-35?c=-.008307929099892574:e[19]>1e-35?c=-.027706313312904487:c=-.04891108984170914:e[134]>1e-35?c=-.0605730733844732:e[25]>1e-35?c=-.05347926493253117:e[227]>1e-35?c=-.049415829249003666:e[32]>1e-35?c=-.06807799662179595:e[308]>1e-35?e[4]>10.500000000000002?e[2]>13.500000000000002?c=-.00016302718260794637:c=-.10247095758122947:e[210]>1e-35?c=-.022149002072787024:e[95]>1e-35?c=.15222631630626304:c=.027393884520465712:e[9]>7.500000000000001?e[225]>1e-35?c=.13483346577752245:e[3]>9.500000000000002?e[243]>1e-35?c=-.045352728133789516:e[8]>683.5000000000001?c=.00474372227519902:c=.02635476098707525:e[92]>1e-35?c=.05659380819933452:e[105]>1e-35?c=.07431443210341222:e[186]>1e-35?c=.0915821133384904:c=-.016414750130401053:e[127]>1e-35?c=.011824693641866162:e[23]>1e-35?c=.0228468674288774:e[284]>1e-35?c=.06606936863302432:c=-.02872463273902358;let u;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>125.50000000000001?e[288]>1e-35?u=-.019844363904157558:e[1]>50.50000000000001?e[131]>1e-35?u=.044961338592245194:u=.003659599513761676:e[121]>1e-35?u=-.04057103630479994:u=.03158560697078578:e[0]>421.50000000000006?e[4]>61.50000000000001?u=-.0003708603406529278:u=.05331312264472391:u=.0006575958601218936:e[8]>319.50000000000006?u=-.034654694051901545:e[7]>3.5000000000000004?e[0]>1230.5000000000002?e[0]>2579.5000000000005?u=-.0076053515916517005:u=.09116695486305336:u=-.07137458699162028:u=.06633130654035282:e[4]>29.500000000000004?e[23]>1e-35?e[4]>63.50000000000001?u=-.0308520802187302:u=.013156423968295541:e[115]>1e-35?u=.11581171687488252:e[52]>1e-35?e[10]>22.500000000000004?u=.12264179915175587:u=-.021905727233873535:e[8]>799.5000000000001?u=-.04181869575935412:u=-.023695901673350575:e[222]>1e-35?u=-.034612899265371776:e[8]>691.5000000000001?e[9]>98.50000000000001?u=-.06892116536821917:e[149]>1e-35?u=-.11194586444154514:e[133]>1e-35?u=-.04269583234000504:e[128]>1e-35?u=-.0644631966969502:e[8]>4968.500000000001?u=-.09650726096330133:u=-.004219129180139438:e[126]>1e-35?u=-.08038306745347751:e[5]>1809.5000000000002?u=.009265335288169993:e[9]>2.5000000000000004?u=.006447645462117438:u=-.021047132609551503;let f;e[13]>1e-35?e[3]>1.5000000000000002?e[9]>21.500000000000004?e[121]>1e-35?f=-.08436540015142402:e[8]>1861.5000000000002?f=-.01621425699342421:f=.01878613821895428:f=.031052879158242532:e[8]>319.50000000000006?f=-.031536619360997865:e[7]>3.5000000000000004?f=-.004510586962343298:f=.0596524941011746:e[4]>18.500000000000004?e[23]>1e-35?f=.004757490541310808:e[9]>6.500000000000001?f=-.008842393772207996:e[31]>1e-35?f=.0010536183837006993:e[308]>1e-35?f=-.008145882815435419:e[2]>98.50000000000001?f=-.08404937622173021:e[276]>1e-35?f=.0020072791321856663:e[19]>1e-35?f=-.023031820639490178:f=-.04553314326377875:e[8]>2134.5000000000005?f=-.02244583113572251:e[134]>1e-35?f=-.05592137394753121:e[308]>1e-35?e[49]>1e-35?f=.09989109704064947:e[4]>10.500000000000002?e[2]>13.500000000000002?f=-.00447733056482096:f=-.10191061664873849:f=.021765308380331864:e[9]>7.500000000000001?e[118]>1e-35?f=-.07570059131536411:e[243]>1e-35?f=-.040983393346598646:e[3]>9.500000000000002?f=.014763759061483812:e[92]>1e-35?f=.05136368898963024:f=-.008162398981149495:e[127]>1e-35?f=.013999119696708346:e[23]>1e-35?e[20]>1e-35?f=.14138985500120907:f=.008668274102844162:e[284]>1e-35?f=.06356484011042893:f=-.024781304572706303;let m;e[13]>1e-35?e[3]>8.500000000000002?e[8]>892.5000000000001?e[0]>384.50000000000006?m=.014387526569215037:e[8]>2266.5000000000005?m=-.1397298649743087:m=.007953931014097788:e[0]>119.50000000000001?e[4]>61.50000000000001?m=.0029819092211896296:e[218]>1e-35?m=.08450459375645737:m=.031646488019280654:m=-.03544960151460596:e[9]>9.500000000000002?m=-.026002317735915183:e[7]>1.5000000000000002?m=.005074258810794793:m=.0745247650477651:e[4]>29.500000000000004?e[131]>1e-35?m=.023269218675640847:e[148]>1e-35?m=.03812942399144545:e[115]>1e-35?m=.10512283476967227:m=-.02607307479736138:e[227]>1e-35?m=-.036576708299046294:e[101]>1e-35?m=.027948683650881864:e[149]>1e-35?m=-.08195628451594297:e[50]>1e-35?m=-.16997544922278504:e[8]>691.5000000000001?e[9]>101.50000000000001?m=-.06860333850762075:e[225]>1e-35?m=.06066641950951723:e[10]>22.500000000000004?e[1]>29.500000000000004?e[127]>1e-35?m=.028599705845427533:m=-.010746719511640914:e[0]>4877.500000000001?m=-.07251187886096228:m=-.021299712241446785:e[118]>1e-35?m=-.11902023760964736:m=15874469526809387e-21:e[8]>267.50000000000006?m=.01317292185402293:e[148]>1e-35?e[9]>20.500000000000004?m=.09614842415142123:m=.006049073167176467:e[189]>1e-35?m=.05562696451900713:m=-.006257541923837303;let h;e[13]>1e-35?e[9]>14.500000000000002?e[2]>11.500000000000002?e[1]>71.50000000000001?e[8]>1252.5000000000002?h=-.10069846585436666:h=-.010577995535809317:e[146]>1e-35?h=-.008877238274428668:e[280]>1e-35?h=.10076055897012692:e[6]>70.50000000000001?h=-.020603523042565547:e[7]>1.5000000000000002?h=.02819095420813202:h=-.1223354167911277:h=-.025073583348334844:e[8]>416.50000000000006?h=.01718560189149466:e[230]>1e-35?h=.12281803224342265:h=.03281276971308565:e[4]>14.500000000000002?e[23]>1e-35?e[21]>1e-35?h=-.13070568109867683:e[4]>63.50000000000001?h=-.027221825262496814:h=.01530862490082352:e[9]>6.500000000000001?e[5]>4320.500000000001?e[2]>31.500000000000004?h=-.00605574271293711:h=.04739407327741249:h=-.012537528620315956:e[31]>1e-35?e[20]>1e-35?h=.1252215087035768:h=.003905888677601057:e[52]>1e-35?h=.045466299731038815:e[2]>100.50000000000001?h=-.07815624550168065:e[308]>1e-35?h=-.007715815250508057:e[276]>1e-35?e[9]>1.5000000000000002?h=-.03538265083203445:e[18]>1e-35?h=.1591211669800727:h=.015151475408241136:e[8]>557.5000000000001?h=-.04225569725456342:h=-.022455546324243267:e[308]>1e-35?h=.01325441736085826:e[197]>1e-35?h=.03752194600682512:e[225]>1e-35?h=.06583712394533976:h=-.005205289866839043;let p;e[13]>1e-35?e[9]>21.500000000000004?e[2]>12.500000000000002?p=.010264022580774884:p=-.02335958814489217:e[8]>416.50000000000006?e[3]>4.500000000000001?e[295]>1e-35?p=-.0936747137352166:e[0]>384.50000000000006?p=.019846244507320695:p=-.0751102554077272:p=-.026885329334203723:e[0]>966.5000000000001?e[10]>48.50000000000001?p=.11654906890054273:p=.0346250587613322:e[4]>39.50000000000001?p=-.08568002378645614:e[9]>16.500000000000004?p=-.12010535752923689:p=.021321923389033808:e[4]>14.500000000000002?e[23]>1e-35?e[21]>1e-35?p=-.12056431231412057:e[131]>1e-35?p=.03652965550568472:p=.002563006128791669:e[9]>6.500000000000001?e[30]>1e-35?p=-.10141481732178981:p=-.003936457893178248:e[31]>1e-35?p=.008215898756249477:e[52]>1e-35?e[0]>4188.500000000001?p=.12972828769588213:p=-.003137412232297087:e[2]>100.50000000000001?p=-.0730872929087944:e[308]>1e-35?p=-.006958622747243333:e[35]>1e-35?e[0]>3707.5000000000005?p=.07934620723812878:p=-.018598568353702116:p=-.030635505446410763:e[128]>1e-35?p=-.06962290453843294:e[84]>1e-35?p=-.15290337844960322:e[308]>1e-35?e[8]>2543.5000000000005?p=-.034938657503885584:p=.016339322898966915:e[197]>1e-35?p=.03358907965870046:e[18]>1e-35?p=-.01754013791515288:p=-.0004944586067698557;let A;e[13]>1e-35?e[308]>1e-35?e[210]>1e-35?A=.005888790687820524:A=.0429676533834978:e[2]>7.500000000000001?e[0]>119.50000000000001?e[6]>79.50000000000001?A=-.0224319889201976:e[212]>1e-35?A=.06249587051783863:e[8]>963.5000000000001?e[8]>1156.5000000000002?A=.010357273289123324:A=-.029749145161304082:e[218]>1e-35?A=.06449336340743606:A=.018047654539345502:A=-.07350502390293116:A=-.019594829995832414:e[4]>39.50000000000001?A=-.019338083179859314:e[39]>1e-35?A=-.10427066919173111:e[222]>1e-35?e[0]>612.5000000000001?A=-.019197415255018464:A=-.0836562507048181:e[149]>1e-35?A=-.07679624472577429:e[32]>1e-35?A=-.05097506748590604:e[191]>1e-35?A=.04670476485250936:e[30]>1e-35?A=-.05313073892148652:e[8]>691.5000000000001?e[23]>1e-35?e[203]>1e-35?e[4]>8.500000000000002?A=.03930363008271334:A=-.06029171685615689:A=.016203086182431294:e[4]>7.500000000000001?A=-.013824248237085224:e[10]>4.500000000000001?e[94]>1e-35?A=-.09817668643367765:e[10]>40.50000000000001?A=-.023558078753593125:A=.0065113494780482326:e[8]>809.5000000000001?e[297]>1e-35?A=-.1352063548573715:A=.058203900441270634:A=-.035243959159285736:e[10]>59.50000000000001?e[1]>43.50000000000001?A=-.012552876807800442:A=.05991247777734298:A=.0035893102109330177;let E;e[13]>1e-35?e[9]>21.500000000000004?e[145]>1e-35?E=.03507251990078782:e[2]>14.500000000000002?E=.004905698363309292:e[8]>2421.5000000000005?E=-.10306119951984316:E=-.018951037816654928:e[8]>416.50000000000006?e[3]>4.500000000000001?e[295]>1e-35?E=-.08503171085833393:E=.015130974593044409:E=-.024425267075198206:E=.02624054905103126:e[4]>19.500000000000004?e[131]>1e-35?E=.02100191580704534:e[32]>1e-35?e[8]>2302.5000000000005?E=.09908783187786288:E=-.06920877329925636:e[8]>241.50000000000003?E=-.016756131804203496:e[9]>33.50000000000001?E=.04903179955263626:e[217]>1e-35?E=-.047416847619291644:E=-.0017200891991431119:e[39]>1e-35?E=-.10389927604977028:e[134]>1e-35?E=-.050480365434872866:e[178]>1e-35?E=-.05167855791556937:e[8]>2134.5000000000005?E=-.01663197335585307:e[242]>1e-35?E=-.05361323756615453:e[118]>1e-35?E=-.05299780866211368:e[10]>24.500000000000004?e[10]>55.50000000000001?e[8]>764.5000000000001?E=-.0016544848369620534:E=.04494144460483587:E=-.009283616456736156:e[121]>1e-35?e[0]>4463.500000000001?E=.051166688553608355:E=-.06623908820705383:e[84]>1e-35?E=-.12990936092409747:e[306]>1e-35?E=-.07020596855118943:e[49]>1e-35?E=.06272964802556856:e[192]>1e-35?E=.06540204627162581:E=.008277910531592885;let x;e[13]>1e-35?e[308]>1e-35?e[210]>1e-35?x=.003325460510319164:x=.037153108286272905:e[2]>12.500000000000002?e[1]>124.50000000000001?x=-.09880713344892134:e[7]>60.50000000000001?e[10]>71.50000000000001?x=.0697359767152808:e[230]>1e-35?x=.06513506845651572:x=-.02826625276613455:e[5]>246.50000000000003?e[8]>95.50000000000001?x=.013616385013146277:x=.04171540100223404:x=-.04360396575094823:e[212]>1e-35?x=.025945477945627522:x=-.019793208261535442:e[4]>39.50000000000001?e[25]>1e-35?x=-.07856453318384411:x=-.014803893522351739:e[39]>1e-35?x=-.09185452630751932:e[149]>1e-35?x=-.07122426086157027:e[134]>1e-35?x=-.04231052091434186:e[227]>1e-35?x=-.029815824273994197:e[50]>1e-35?x=-.15736496271211153:e[222]>1e-35?x=-.02360285356956629:e[128]>1e-35?x=-.03922080193836443:e[136]>1e-35?x=-.07219685327698587:e[10]>24.500000000000004?e[1]>8.500000000000002?x=-.0029736170756835783:x=-.06482902102259112:e[84]>1e-35?x=-.11340924635708383:e[94]>1e-35?x=-.03635703457792193:e[118]>1e-35?x=-.058181913914186034:e[126]>1e-35?x=-.062030576241517366:e[116]>1e-35?x=-.045086301850604006:e[25]>1e-35?x=-.031665223656767286:e[203]>1e-35?x=-.009444685731407691:x=.0112265153772187;let b;e[13]>1e-35?e[1]>64.50000000000001?e[9]>14.500000000000002?e[9]>54.50000000000001?b=.022717227245241684:b=-.049700413274686266:b=.007175776918589741:e[5]>50.50000000000001?e[8]>61.50000000000001?e[21]>1e-35?b=-.07927556792063156:e[3]>8.500000000000002?e[4]>23.500000000000004?e[281]>1e-35?b=-.12263724050601095:b=.0070743478891288035:e[288]>1e-35?b=-.050439138582109:b=.0255701593657891:b=-.005812703740580558:e[6]>49.50000000000001?b=-.008542694147899113:b=.035147383686665:b=-.0960461939274094:e[32]>1e-35?b=-.04555453745517765:e[222]>1e-35?e[0]>612.5000000000001?b=-.01800870272656664:b=-.07817304234604389:e[30]>1e-35?b=-.05227061750368981:e[25]>1e-35?e[0]>4449.500000000001?e[217]>1e-35?b=.08778416018479411:b=-.026563982720830256:b=-.05296139548112329:e[50]>1e-35?b=-.14926464875852247:e[8]>779.5000000000001?e[133]>1e-35?b=-.036572140520852024:e[183]>1e-35?b=-.10766853736801459:b=-.003966794968701808:e[217]>1e-35?e[5]>5237.500000000001?b=.09513215942486053:b=-.03641865277445567:e[10]>59.50000000000001?b=.03177172388687933:e[39]>1e-35?b=-.10234241303898953:e[243]>1e-35?b=-.02966738115984321:e[190]>1e-35?b=-.04312785336449181:e[118]>1e-35?b=-.05808521194081524:b=.006720381600740378;let v;e[308]>1e-35?e[5]>423.00000000000006?e[133]>1e-35?v=-.046284053681928526:e[210]>1e-35?v=49778070699847876e-21:e[13]>1e-35?v=.03328070054739309:e[128]>1e-35?v=-.054790214922938896:e[126]>1e-35?v=-.08524792218532945:v=.014414055975542446:e[1]>38.50000000000001?v=-.07287851335872973:v=.005263371501687163:e[9]>7.500000000000001?e[21]>1e-35?e[10]>4.500000000000001?v=-.12459748864088374:v=-.004626323021331593:e[298]>1e-35?e[4]>64.50000000000001?v=.13044981041138526:e[9]>71.50000000000001?v=-.056068402282406865:e[9]>12.500000000000002?v=.038957722962512764:v=-.04598815982492169:e[8]>691.5000000000001?e[126]>1e-35?v=-.0852126122372075:e[225]>1e-35?v=.10082066771689505:e[1]>161.50000000000003?v=-.11609832500613824:e[3]>8.500000000000002?e[8]>1685.5000000000002?v=-.010835400874777133:v=.004607419973807752:v=-.016989075258564062:v=.009205417251698097:e[23]>1e-35?e[20]>1e-35?v=.10184317139657878:e[0]>5724.500000000001?v=-.1163666496650542:e[1]>106.50000000000001?v=.1303850608190687:e[129]>1e-35?v=.10745031509534769:v=.006166901738036226:e[31]>1e-35?v=.010177092833155127:e[13]>1e-35?e[0]>213.50000000000003?v=.005004582564506611:v=-.10481581731668346:e[19]>1e-35?v=-.009850706427306281:v=-.02608226348051303;let S;e[13]>1e-35?e[1]>64.50000000000001?e[2]>4.500000000000001?S=-.0024117174588695603:S=-.058339700513831916:e[212]>1e-35?e[0]>2215.5000000000005?e[8]>847.5000000000001?e[10]>21.500000000000004?e[1]>39.50000000000001?S=.04575380761203418:S=-.10025595041353463:e[15]>1e-35?S=.17705790384964004:S=.0073813837628615014:S=.07676373681392407:S=-.027167992693885996:e[3]>11.500000000000002?e[280]>1e-35?S=.07078572910026419:e[4]>23.500000000000004?S=.005513918674164821:S=.0206586476926392:e[0]>5269.500000000001?S=.07706773525822633:S=-.010233826953776122:e[148]>1e-35?e[8]>1622.5000000000002?S=-.03204783603215824:S=.027405418223981973:e[4]>14.500000000000002?e[131]>1e-35?e[9]>1.5000000000000002?e[0]>5026.500000000001?S=-.0930246911392012:S=.011173087289703683:e[3]>24.500000000000004?S=.03281421918878597:S=.12449335091369843:e[204]>1e-35?S=.06634531187326123:S=-.011522999669353388:e[92]>1e-35?e[10]>42.50000000000001?S=-.041196758517013515:e[4]>7.500000000000001?S=-2942718111029724e-20:e[4]>6.500000000000001?S=.11953909558532852:S=.03188615019450534:e[122]>1e-35?S=-.0616037324662157:e[101]>1e-35?S=.027230889593349412:e[8]>4968.500000000001?S=-.1113986516540856:e[3]>2.5000000000000004?S=-.002045140426885727:e[129]>1e-35?S=.12641163374304432:S=.014909826232873194;let k;e[308]>1e-35?e[0]>7277.500000000001?k=-.09337446795435:e[5]>423.00000000000006?e[133]>1e-35?k=-.040884836258675006:e[210]>1e-35?k=-.0003719413278428804:e[13]>1e-35?k=.030287610160818174:k=.011174130013595384:e[1]>38.50000000000001?k=-.0662442170185784:k=.004332185707008564:e[9]>7.500000000000001?e[145]>1e-35?e[285]>1e-35?k=-.08092286307197555:k=.029866363328584986:e[21]>1e-35?e[10]>4.500000000000001?k=-.1155211149523894:k=-.0032903546638958538:e[149]>1e-35?k=-.03632198993199768:e[3]>9.500000000000002?e[8]>999.5000000000001?k=-.003507023626534306:e[128]>1e-35?e[4]>13.500000000000002?e[0]>3459.5000000000005?k=-.025416927789760076:k=.02777568919793122:k=-.10310351509769732:k=.013549608903688785:e[186]>1e-35?k=.08513865847420551:k=-.009306721292510369:e[31]>1e-35?k=.009780833952582307:e[23]>1e-35?k=.011143773934157629:e[210]>1e-35?k=.025354797285173356:e[17]>1e-35?e[10]>3.5000000000000004?k=-.04846287537743046:k=-.014647271080376757:e[2]>5.500000000000001?e[7]>57.50000000000001?k=-.034224938681445764:e[8]>1641.5000000000002?k=-.027298372075800673:e[191]>1e-35?e[10]>18.500000000000004?k=-.027950103994861836:k=.14575930827829034:k=-.007124740389354946:e[10]>22.500000000000004?k=.013173304107866726:k=-.11119620042551365;let P;e[131]>1e-35?P=.01892225243240137:e[308]>1e-35?e[5]>691.5000000000001?e[133]>1e-35?P=-.037118314390013646:e[1]>51.50000000000001?e[5]>3749.5000000000005?e[8]>58.50000000000001?P=-.022305242912035072:P=.024792895826340516:P=.013666137278072166:e[88]>1e-35?e[10]>27.500000000000004?P=.2080083584805785:P=.04247197078083379:e[10]>40.50000000000001?e[18]>1e-35?e[1]>27.500000000000004?P=.060783227455868206:P=-.056904865557409035:P=-.03278952553107572:e[192]>1e-35?P=.13117402617043625:P=.01647119888257836:P=-.01825870445636398:e[9]>6.500000000000001?e[298]>1e-35?P=.026536210945939682:e[8]>691.5000000000001?e[126]>1e-35?P=-.07927319604548912:e[10]>3.5000000000000004?e[21]>1e-35?P=-.11083976837572328:e[146]>1e-35?P=-.03359294484446772:P=-.0042815953591236475:e[190]>1e-35?P=-.09264239592903775:e[10]>1e-35?P=.022282638485105657:P=-.0205994057928458:e[5]>4918.500000000001?P=.03430715695199153:e[243]>1e-35?e[2]>57.50000000000001?P=.08935072241972036:P=-.03781647876237494:P=.0062655753179671515:e[31]>1e-35?P=.008603500300349887:e[230]>1e-35?P=.03350056932774173:e[23]>1e-35?e[241]>1e-35?P=.10277555508503314:P=.0017901817172993888:e[2]>98.50000000000001?P=-.05920081229672715:P=-.015722173275739208;let N;e[13]>1e-35?e[118]>1e-35?N=.07957905150112207:e[1]>125.50000000000001?N=-.0662620579858685:e[145]>1e-35?N=.029682040828779843:e[19]>1e-35?e[6]>15.500000000000002?N=-.0009597832580977798:N=-.081474760755753:e[212]>1e-35?N=.03637001492325179:N=.006912305498963309:e[32]>1e-35?N=-.03919900630910754:e[134]>1e-35?N=-.036225295529777886:e[4]>4.500000000000001?e[5]>384.50000000000006?e[204]>1e-35?N=.06671440854602108:e[136]>1e-35?N=-.07577364230133474:e[148]>1e-35?e[4]>7.500000000000001?N=.026430947016830915:N=-.04075501264495112:e[9]>93.50000000000001?N=-.04353169430417609:e[50]>1e-35?N=-.1411224537622882:e[17]>1e-35?e[49]>1e-35?N=.068392679163672:e[10]>1.5000000000000002?N=-.0209659792007492:N=-.0004393235559249831:e[133]>1e-35?e[9]>64.50000000000001?N=.07254524592323175:N=-.0319087835282534:N=.00037444813327793425:N=-.025138768151370408:e[243]>1e-35?N=-.050010891710502096:e[94]>1e-35?N=-.0817513550778599:e[122]>1e-35?N=-.061038875809822285:e[19]>1e-35?e[8]>1085.5000000000002?N=-.008408408775061623:e[2]>5.500000000000001?e[218]>1e-35?N=.1454877641381946:N=.053787998331240316:e[9]>33.50000000000001?N=.08602629796680285:N=-.03895127455803038:N=.008830878042315722;let W;e[131]>1e-35?W=.01687979707990516:e[8]>2915.5000000000005?e[297]>1e-35?W=.07473600489975568:e[0]>93.50000000000001?W=-.021596848506011502:W=-.13840802327735696:e[230]>1e-35?e[4]>6.500000000000001?e[0]>4977.500000000001?W=.10264284346448256:W=.031042487183181262:W=-.016653982936827776:e[4]>60.50000000000001?e[10]>75.50000000000001?W=.04226403420647408:e[10]>1e-35?e[0]>4733.500000000001?W=.006271403149804702:W=-.030013637555715046:e[0]>4449.500000000001?W=-.06556876058654929:W=.06437994816903034:e[32]>1e-35?W=-.043814577251655815:e[308]>1e-35?e[0]>7277.500000000001?W=-.09349726304052086:e[210]>1e-35?W=-.0035960132209098003:e[5]>691.5000000000001?e[133]>1e-35?W=-.029188394315052574:W=.017219308333820193:W=-.017378928852189585:e[9]>6.500000000000001?e[0]>2653.5000000000005?e[149]>1e-35?W=-.04428555753857688:W=.0001456106867817353:e[5]>213.50000000000003?W=.01740292726636365:W=-.011361718115556464:e[7]>4.500000000000001?e[0]>316.50000000000006?e[19]>1e-35?e[10]>54.50000000000001?W=.03410288911259329:e[121]>1e-35?W=-.06056527462120627:e[8]>2592.5000000000005?W=.12166808844363577:e[191]>1e-35?W=.11669879218998758:W=-.001664858391716235:W=-.01262927450503166:W=-.04506589951879664:e[227]>1e-35?W=-.08548904959752329:W=.02156080776537726;let re;e[306]>1e-35?e[149]>1e-35?re=-.1389218965136736:re=-.032218642644416894:e[13]>1e-35?re=.006465035217331847:e[50]>1e-35?re=-.1381687930130022:e[179]>1e-35?re=-.13112784985951215:e[148]>1e-35?e[8]>1726.5000000000002?re=-.03262719498763048:re=.023342916702125613:e[191]>1e-35?re=.030005484947580197:e[4]>4.500000000000001?e[204]>1e-35?re=.047767773119269434:e[136]>1e-35?e[0]>1937.5000000000002?re=-.09989343595668776:re=.06533942033334243:e[15]>1e-35?e[9]>86.50000000000001?re=-.10577989354150097:e[8]>668.5000000000001?e[126]>1e-35?re=-.09165257825246746:e[9]>32.50000000000001?re=.02484870392366004:re=-.008499493096971395:e[8]>24.500000000000004?re=.02459679192828244:re=-.010527978013140512:e[25]>1e-35?e[217]>1e-35?re=.0015644546318714849:re=-.06579524865022705:re=-.0060233890975120614:e[122]>1e-35?e[1]>36.50000000000001?re=.03331853632960164:re=-.09482264761126993:e[19]>1e-35?e[8]>1430.5000000000002?re=-.019091477207111116:re=.037878468575478504:e[94]>1e-35?re=-.08013082284576584:e[4]>2.5000000000000004?e[186]>1e-35?re=.16919658785098224:e[243]>1e-35?re=-.06580584936754524:re=.01567555159935563:e[129]>1e-35?re=.06721746994993226:e[10]>32.50000000000001?re=-.046394462507797975:re=-.006436180519584767;let ge;e[131]>1e-35?ge=.015039096856208693:e[8]>779.5000000000001?e[145]>1e-35?ge=.019122095523977856:e[298]>1e-35?ge=.023828936462317443:e[1]>23.500000000000004?e[5]>384.50000000000006?e[7]>59.50000000000001?ge=-.026094309429557913:e[204]>1e-35?ge=.09163404305658318:e[1]>27.500000000000004?e[149]>1e-35?e[6]>34.50000000000001?ge=.012643810980689466:ge=-.07884161741497837:ge=-.0025267379810891104:e[2]>43.50000000000001?e[0]>2860.5000000000005?ge=.04493082949897325:ge=.18046359750455776:e[7]>18.500000000000004?ge=-.018667348656891496:ge=.02584325784698236:ge=-.045696524897545915:e[0]>3321.5000000000005?e[201]>1e-35?ge=.04749240016989375:ge=-.0333334578246718:e[5]>3276.5000000000005?ge=.11330554740098908:e[7]>94.50000000000001?ge=.1296600395033268:ge=-.003576436308940934:e[15]>1e-35?e[183]>1e-35?ge=-.13787130789142835:e[0]>1847.5000000000002?ge=.017915229729920556:e[10]>23.500000000000004?e[10]>31.500000000000004?e[6]>7.500000000000001?ge=.028856848462727104:ge=-.11197632885851168:ge=.08169801342016791:e[1]>22.500000000000004?ge=-.021052888644970163:ge=.019048604298876753:e[7]>4.500000000000001?ge=-.002603328695276418:e[7]>1.5000000000000002?e[2]>5.500000000000001?ge=.03432638833359197:ge=-.0036767863082454973:e[1]>48.50000000000001?ge=.03087375270128195:e[2]>3.5000000000000004?ge=-.04219917149740248:ge=.018818493993207935;let te;e[306]>1e-35?te=-.04076858123502297:e[13]>1e-35?e[1]>67.50000000000001?e[9]>14.500000000000002?e[9]>53.50000000000001?e[8]>1971.5000000000002?te=-.09091897542577475:te=.04042943082645558:e[218]>1e-35?te=.056254985867151:te=-.053848117950183044:te=.003881630017086845:e[5]>5152.500000000001?e[8]>857.5000000000001?e[6]>28.500000000000004?te=.021581808008986944:te=-.05639286496176611:te=.052838875036198954:e[5]>50.50000000000001?e[5]>4082.5000000000005?e[17]>1e-35?te=.023061479860228728:e[145]>1e-35?e[9]>10.500000000000002?te=.023885302967553288:te=.1617794086125622:e[212]>1e-35?te=.04504545345658806:e[3]>17.500000000000004?e[4]>45.50000000000001?te=-.03948072448245435:e[1]>47.50000000000001?e[9]>18.500000000000004?te=.01894935813286188:te=-.06449356357429188:te=.012297239104320094:e[1]>26.500000000000004?e[8]>33.50000000000001?te=-.034718828212885515:te=.0898976288814321:e[1]>17.500000000000004?te=-.15440137451988326:te=-.03864183216821465:te=.009988507307006308:te=-.08540311947043305:e[50]>1e-35?te=-.13323659732101975:e[134]>1e-35?te=-.031820386486894385:e[32]>1e-35?e[8]>2302.5000000000005?te=.08082476177379844:te=-.041665761903645876:e[179]>1e-35?te=-.12405023987936657:e[39]>1e-35?te=-.06247416524997478:e[138]>1e-35?te=-.10724031753676487:te=-.0005423122305122404;let G;e[308]>1e-35?G=.006160742906729798:e[190]>1e-35?e[0]>2461.5000000000005?e[10]>22.500000000000004?G=.023223358334607133:G=-.04383410185346742:G=-.08542395045055405:e[297]>1e-35?e[8]>51.50000000000001?e[1]>13.500000000000002?G=.023406489302867494:G=-.085521220804058:G=-.02921899554854833:e[298]>1e-35?e[9]>12.500000000000002?G=.028120059780969632:G=-.04211009474298743:e[294]>1e-35?G=-.05040415676618239:e[86]>1e-35?e[1]>36.50000000000001?G=-.0993035220737934:G=-.0005384930611060366:e[230]>1e-35?e[4]>6.500000000000001?G=.029770210551187937:G=-.016272917551655715:e[4]>60.50000000000001?e[280]>1e-35?G=.06421359317599738:G=-.01963732469244167:e[218]>1e-35?e[3]>3.5000000000000004?G=.024368404612215164:G=-.04045232374803373:e[131]>1e-35?G=.017372701982485795:e[120]>1e-35?G=.08812710275150198:e[18]>1e-35?e[90]>1e-35?G=.18451364351180236:e[7]>33.50000000000001?G=-.03850813130183531:e[195]>1e-35?G=.06966114053446336:e[3]>16.500000000000004?G=-.0012869181693341211:e[0]>4242.500000000001?G=-.054625548611291035:G=-.014431095117473881:e[5]>4558.500000000001?e[8]>1.5000000000000002?G=.006302103427145562:G=.13967622319898698:e[121]>1e-35?G=-.038798585213145644:e[5]>4544.500000000001?G=-.08050498033009466:G=-.002986974112681435;let q;e[0]>384.50000000000006?e[2]>101.50000000000001?e[1]>16.500000000000004?q=-.03461119351456781:q=.05659026566680352:e[306]>1e-35?e[2]>14.500000000000002?e[149]>1e-35?q=-.12404435523286539:q=-.0034376913880382956:q=-.09821622245095822:e[131]>1e-35?e[9]>1.5000000000000002?q=.0037507103585310234:q=.03610387965829944:e[8]>999.5000000000001?e[9]>137.50000000000003?q=-.11985021663179699:e[0]>1847.5000000000002?e[126]>1e-35?q=-.04832024079663151:e[37]>1e-35?q=-.037103393468366934:q=-.004248086592531705:e[8]>3084.0000000000005?e[9]>43.50000000000001?q=.032539071163832034:e[5]>1643.5000000000002?q=.036408625378035665:e[0]>1500.5000000000002?q=-.1346358322854993:q=-.027586559522081014:e[3]>1e-35?e[190]>1e-35?q=-.1133991164577881:e[9]>52.50000000000001?q=-.024478640359723122:q=.03673777861098756:q=-.1037451237591819:e[230]>1e-35?e[9]>48.50000000000001?e[10]>20.500000000000004?q=.002583438691776944:q=.10773520810108106:e[9]>12.500000000000002?e[1]>16.500000000000004?q=-.02141222346712401:q=.06392462314316179:e[4]>12.500000000000002?q=.08700122294434816:e[8]>267.50000000000006?q=.056923170082743224:q=-.07716309825583327:e[32]>1e-35?q=-.03961343943752142:q=.002674914122888783:e[1]>42.50000000000001?q=-.05217539654421676:e[145]>1e-35?q=.09553630282946368:q=-.009424791262477729;let se;e[183]>1e-35?se=-.05753337139158443:e[308]>1e-35?se=.00562436671450989:e[9]>7.500000000000001?e[21]>1e-35?e[10]>8.500000000000002?se=-.10477869875380448:se=-.0070301869937306055:e[3]>9.500000000000002?e[8]>1765.5000000000002?e[0]>4571.500000000001?se=-.12526505173232894:e[10]>1e-35?e[9]>71.50000000000001?se=-.04442302951713574:se=.00012409888451734224:se=-.092199119633697:e[225]>1e-35?se=.13773072450201831:e[0]>2882.5000000000005?se=.0028540012229920533:e[298]>1e-35?se=.07134486044361629:se=.014297412329837425:e[145]>1e-35?se=.05608385321902638:e[92]>1e-35?se=.038298413603926135:e[107]>1e-35?e[2]>6.500000000000001?se=-.0039957800609801315:se=.0776927564241081:e[203]>1e-35?se=-.05502900859432093:e[105]>1e-35?se=.06062892720841595:se=-.009574839629252128:e[31]>1e-35?se=.009488858841144216:e[23]>1e-35?e[20]>1e-35?se=.08818126313644752:e[8]>161.50000000000003?se=.014353968957885408:se=-.022240738532827903:e[210]>1e-35?se=.024648862719806694:e[2]>5.500000000000001?e[4]>4.500000000000001?e[17]>1e-35?e[10]>16.500000000000004?se=-.043902062079383485:se=-.014741559220396223:se=-.00934935734853194:e[6]>32.50000000000001?se=.1514593126307404:se=.010771222510801532:e[10]>22.500000000000004?se=.01412495209334078:se=-.08576940379502533;let ne;e[0]>384.50000000000006?e[84]>1e-35?ne=-.06647690967306838:e[2]>101.50000000000001?ne=-.024451334501552457:e[306]>1e-35?ne=-.034517188927733505:e[131]>1e-35?e[9]>1.5000000000000002?ne=.0031858381443673127:ne=.032574927024450646:e[204]>1e-35?e[1]>62.50000000000001?ne=-.08601340441214533:e[1]>29.500000000000004?ne=.10487598629539963:e[8]>597.5000000000001?ne=-.0786529133673238:ne=.08689436600511559:e[8]>779.5000000000001?e[10]>2.5000000000000004?e[9]>100.50000000000001?ne=-.04883600353740688:e[126]>1e-35?ne=-.03794042763348827:ne=-.003358871967539988:e[210]>1e-35?ne=.054991356498447566:e[6]>19.500000000000004?ne=-.007418396981635549:ne=.018032606049498613:e[18]>1e-35?e[7]>35.50000000000001?e[2]>44.50000000000001?ne=-.02143003429501711:ne=-.09016000554055564:e[1]>19.500000000000004?e[1]>42.50000000000001?e[8]>17.500000000000004?ne=-.006636355416244082:ne=-.06483095743431454:e[4]>21.500000000000004?ne=-.028975965946833545:ne=.022012264796522657:ne=-.06653648243193663:e[5]>4593.500000000001?ne=.01753551428088607:e[217]>1e-35?ne=-.028864824937700297:e[94]>1e-35?ne=-.04885192273020658:e[279]>1e-35?ne=.08105715462329498:e[121]>1e-35?ne=-.04576676034750651:ne=.004795141324949362:e[1]>42.50000000000001?ne=-.047446619702809195:e[145]>1e-35?ne=.08400495571952321:ne=-.00854528836489364;let H;e[294]>1e-35?H=-.042529778074638265:e[266]>1e-35?H=-.1180276669679798:e[134]>1e-35?H=-.026818144353279623:e[183]>1e-35?H=-.05120747503479363:e[227]>1e-35?e[8]>1641.5000000000002?H=-.07265906898294434:e[4]>12.500000000000002?e[17]>1e-35?H=-.027516137530797014:e[0]>4331.500000000001?e[1]>64.50000000000001?H=-.03049646619610203:e[1]>50.50000000000001?H=.20634590755061122:H=.06956378103625731:e[0]>3770.5000000000005?H=-.07946414366134913:e[19]>1e-35?H=.17083312065604694:e[2]>21.500000000000004?H=-.02327981978127724:H=.129717297518715:e[145]>1e-35?H=.006891245076133524:H=-.0789123467863741:e[3]>99.50000000000001?H=-.02022281202803071:e[302]>1e-35?e[10]>47.50000000000001?H=.06447639919732716:H=-.05457561977645972:e[306]>1e-35?H=-.029995903305383882:e[191]>1e-35?H=.030596508110850414:e[242]>1e-35?H=-.024085578702020216:e[8]>3198.5000000000005?e[297]>1e-35?H=.09518584795377832:H=-.018197744600833596:e[13]>1e-35?H=.006751790086127549:e[148]>1e-35?H=.01904174573618417:e[99]>1e-35?H=.025287735102561926:e[4]>14.500000000000002?H=-.004364337681643273:e[1]>15.500000000000002?e[35]>1e-35?H=-.09467943982430241:e[243]>1e-35?H=-.02521824751996268:H=.005437570718352172:H=-.022476214821960674;let O;e[0]>384.50000000000006?e[84]>1e-35?O=-.06088131453064195:e[147]>1e-35?O=-.05332792965930566:e[135]>1e-35?e[9]>32.50000000000001?O=.04219361472548491:O=-.07227529211725771:e[10]>4.500000000000001?e[21]>1e-35?O=-.0787279848043689:e[17]>1e-35?e[3]>18.500000000000004?e[188]>1e-35?O=-.054347604504400286:e[0]>3544.5000000000005?e[0]>5850.500000000001?O=-.11431764534511478:O=.013549717238356157:O=-.020987333767091276:e[6]>2.5000000000000004?O=-.02914877855133127:O=.08483464900160231:e[8]>58.50000000000001?e[183]>1e-35?O=-.10087072787978416:e[37]>1e-35?O=-.030467397753331196:e[229]>1e-35?O=-.1017559811057469:e[4]>20.500000000000004?O=-.00413177742240167:e[20]>1e-35?O=.05213315982685969:O=.0037921635866823133:e[8]>51.50000000000001?O=.07327913092421544:e[6]>49.50000000000001?O=-.03457694284156811:e[6]>18.500000000000004?e[7]>17.500000000000004?O=.02744420891894289:O=.11288946357194463:O=.003482908820966248:e[18]>1e-35?e[1]>20.500000000000004?e[7]>4.500000000000001?O=-.012329314369909049:O=.026816658655600168:O=-.0872405354618811:O=.007872673500247845:e[1]>42.50000000000001?O=-.04309044198258254:e[145]>1e-35?O=.07572529147860785:e[7]>5.500000000000001?O=-.013837187093264945:e[1]>17.500000000000004?O=.04208698439539668:O=-.06284346769019863;let j;e[294]>1e-35?j=-.0384794324818203:e[266]>1e-35?j=-.1087205883821061:e[32]>1e-35?e[8]>2302.5000000000005?j=.07432960094940501:j=-.035248735855751855:e[134]>1e-35?j=-.02456191365284949:e[121]>1e-35?e[0]>4720.500000000001?e[1]>39.50000000000001?j=-.01706896375068821:j=.08212247914968074:e[2]>59.50000000000001?j=-.09546478958824225:e[6]>53.50000000000001?j=.12317082897575611:e[1]>56.50000000000001?e[4]>7.500000000000001?e[0]>3560.5000000000005?j=.02816463285971267:j=.15449139016588445:j=-.10199787406123524:j=-.038068684323297096:e[223]>1e-35?e[8]>668.5000000000001?j=-.13924786681478077:j=-.0072772442570213335:e[39]>1e-35?j=-.05392786531177836:e[0]>93.50000000000001?e[40]>1e-35?j=-.054059371343144036:e[306]>1e-35?e[2]>14.500000000000002?e[149]>1e-35?j=-.11174465335620831:j=.00013144040097180107:j=-.08493919336681105:e[42]>1e-35?j=-.11078582572836196:e[84]>1e-35?e[4]>17.500000000000004?j=-.015540659878839153:j=-.14442609417300142:e[21]>1e-35?j=-.025251979447574083:j=.0023698372645272847:e[18]>1e-35?j=.07269739695712212:e[8]>2592.5000000000005?j=-.1460388776448558:e[9]>30.500000000000004?e[1]>23.500000000000004?j=-.01835130329646532:e[9]>45.50000000000001?j=.02023047454629885:j=.16469378262221102:j=-.042975030085836426;let J;e[8]>2915.5000000000005?e[297]>1e-35?J=.06257393915394144:e[0]>93.50000000000001?e[4]>1.5000000000000002?J=-.01034964686484714:J=-.07357437440667927:J=-.11987794734779106:e[298]>1e-35?e[8]>81.50000000000001?e[0]>3370.5000000000005?e[8]>155.50000000000003?e[8]>660.5000000000001?e[8]>2134.5000000000005?J=-.09476398869062203:e[9]>72.50000000000001?J=-.0757383854264379:J=.02806542779508718:J=-.05147742568418084:J=.10212721564444344:J=.0518263760642861:J=-.08743405377022222:e[189]>1e-35?e[0]>5269.500000000001?J=-.10669213185972036:J=.027050434286384796:e[302]>1e-35?J=-.0407832394672723:e[116]>1e-35?e[10]>38.50000000000001?J=.06354599160071946:e[1]>67.50000000000001?J=.05317447949011187:J=-.059138165935307165:e[212]>1e-35?e[19]>1e-35?J=-.09369289448773599:e[0]>2215.5000000000005?J=.04077965380363924:e[0]>807.5000000000001?J=-.0591771776458298:J=.057315736906679376:e[308]>1e-35?e[1]>52.50000000000001?e[5]>3749.5000000000005?J=-.016323380219241672:J=.007291062979527741:e[210]>1e-35?e[8]>1641.5000000000002?J=.03720704290087811:J=-.008730548158766654:e[4]>80.50000000000001?J=-.05346644687473197:J=.014596824736762107:e[218]>1e-35?e[3]>3.5000000000000004?J=.019984510398089086:J=-.03917825025861855:e[9]>170.50000000000003?J=-.09759719821334525:J=-.0023586682752856298;let le;e[183]>1e-35?e[17]>1e-35?le=.030100940443356424:e[10]>1.5000000000000002?le=-.10861112216742408:le=.017680668976453255:e[227]>1e-35?e[17]>1e-35?e[2]>16.500000000000004?le=-.032062878390325456:le=-.10808232631806887:e[8]>1641.5000000000002?le=-.06147013392655731:e[4]>12.500000000000002?le=.03324767551088266:e[145]>1e-35?le=.028851633810612017:le=-.054871239091792784:e[134]>1e-35?le=-.023813968121342108:e[266]>1e-35?le=-.10037039667146351:e[222]>1e-35?e[0]>612.5000000000001?e[10]>1e-35?e[8]>1939.5000000000002?le=-.055566877553100726:e[2]>24.500000000000004?e[8]>182.50000000000003?e[10]>43.50000000000001?e[10]>55.50000000000001?le=-.025350325484720576:le=.1579024598549572:e[9]>2.5000000000000004?e[0]>3746.5000000000005?le=.056817276537534815:le=-.07674158463557636:le=-.06335553143454145:e[1]>56.50000000000001?le=.16390494217299284:le=-.0027330160430847177:e[10]>36.50000000000001?e[8]>1067.5000000000002?le=.041717597065890205:le=-.10357913492269129:e[10]>29.500000000000004?le=.1365512866715726:le=.020600048310575665:le=.09708785634773187:le=-.060427658852305666:e[126]>1e-35?e[10]>32.50000000000001?e[6]>24.500000000000004?e[8]>1146.5000000000002?le=-.03146213719547347:le=.11784024316238083:le=-.050940520532045355:le=-.047988344143075616:e[191]>1e-35?le=.028764654731460032:le=.0011911575567860023;let Z;e[294]>1e-35?e[10]>50.50000000000001?Z=-.11630092297244568:e[0]>2432.5000000000005?e[0]>4199.500000000001?Z=-.05103908560370243:Z=.05002066201169583:Z=-.09976646725732496:e[32]>1e-35?e[0]>4242.500000000001?Z=-.0648838712201258:e[5]>3721.5000000000005?e[9]>4.500000000000001?Z=.127983140816313:Z=-.05436534163636867:Z=-.024514536544596455:e[121]>1e-35?e[0]>4449.500000000001?e[4]>9.500000000000002?Z=-.009504203657088933:e[8]>819.5000000000001?Z=.18689664822602375:Z=.03635576744011826:Z=-.029862411809998525:e[223]>1e-35?Z=-.06474496692999487:e[86]>1e-35?e[8]>65.50000000000001?e[1]>46.50000000000001?Z=-.09405026597863717:e[0]>4153.500000000001?Z=.053577663326799765:Z=-.05062127873995668:Z=.06512222894425874:e[39]>1e-35?Z=-.04985311717827547:e[51]>1e-35?Z=-.04541229517934797:e[178]>1e-35?e[2]>25.500000000000004?e[2]>30.500000000000004?e[0]>2151.5000000000005?Z=-.02860634573675884:Z=.08863753005590103:Z=.11158892111063744:e[0]>655.5000000000001?Z=-.031005736641654926:Z=-.1439827004505974:e[222]>1e-35?e[1]>11.500000000000002?e[0]>612.5000000000001?Z=-.00843386136334982:Z=-.05273594615999777:Z=.1060183822015004:e[126]>1e-35?e[10]>32.50000000000001?e[8]>719.5000000000001?Z=-.015774115523598486:Z=.10147367091236065:Z=-.048307000563071016:Z=.002118376117677254;let ae;e[8]>1014.5000000000001?e[9]>137.50000000000003?ae=-.10279096288817871:e[0]>93.50000000000001?e[8]>1067.5000000000002?e[227]>1e-35?ae=-.03544332389470493:e[285]>1e-35?e[9]>64.50000000000001?ae=.07211107542565391:ae=-.041556776020476104:e[145]>1e-35?e[1]>66.50000000000001?ae=-.0751486415451188:e[1]>59.50000000000001?ae=.13459005084554104:ae=.024184371850147466:e[0]>3072.5000000000005?e[95]>1e-35?ae=.06715575425741895:ae=-.005895690393702183:e[8]>2915.5000000000005?ae=-.010205039411753762:e[9]>33.50000000000001?e[9]>47.50000000000001?ae=-.00029068886245881074:ae=.0613467393188786:e[148]>1e-35?ae=-.06074463294936236:e[3]>1.5000000000000002?e[5]>1849.5000000000002?e[1]>15.500000000000002?ae=.003887223773199377:ae=-.08553893131979015:ae=.025654192706396767:ae=-.05651733979610658:ae=-.02039913645229667:e[2]>7.500000000000001?ae=-.1058450646728524:ae=.02267192191610376:e[1]>120.50000000000001?e[2]>60.50000000000001?ae=-.12304707569000428:e[1]>132.50000000000003?e[6]>41.50000000000001?ae=.1283258201586378:ae=-.01718135372229775:ae=-.07702452408491414:e[125]>1e-35?ae=-.0804612900572707:e[178]>1e-35?e[0]>4533.500000000001?ae=.04273051857848212:ae=-.04533122948101463:e[2]>196.50000000000003?ae=-.10543331044088727:e[94]>1e-35?e[5]>4532.500000000001?ae=.0231032972703664:ae=-.04807386814498683:ae=.002729435991332102;let ce;e[179]>1e-35?ce=-.08065315471211375:e[183]>1e-35?e[17]>1e-35?ce=.026484626664041125:e[10]>1.5000000000000002?ce=-.10187000872941615:ce=.015274190652133752:e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?ce=.09574540795390041:ce=-.06454986703691233:ce=-.11411849349353141:e[266]>1e-35?ce=-.09281838517322076:e[32]>1e-35?e[8]>2302.5000000000005?ce=.06685250330182936:e[4]>67.50000000000001?e[2]>97.50000000000001?ce=-.04403391373512386:ce=.1132928075412222:e[2]>47.50000000000001?ce=-.09700191391838056:ce=-.02147184357182825:e[10]>4.500000000000001?e[21]>1e-35?ce=-.0735617817957859:e[17]>1e-35?e[3]>18.500000000000004?ce=-.001668912999010927:ce=-.02363511102970245:e[8]>58.50000000000001?ce=-.00035213368294640616:e[3]>17.500000000000004?e[2]>28.500000000000004?e[10]>23.500000000000004?e[1]>38.50000000000001?ce=.0911011436534449:e[1]>28.500000000000004?ce=-.07192390493729035:ce=.06913818091291246:ce=-.012312625373699222:ce=.06784496312307986:ce=-167756936027735e-19:e[18]>1e-35?e[8]>302.50000000000006?ce=.0026564453057705273:ce=-.025425772389361445:e[122]>1e-35?ce=-.12046786388602149:e[0]>3183.5000000000005?ce=.01162092842804907:e[91]>1e-35?ce=.07000265526928563:e[1]>22.500000000000004?e[0]>576.5000000000001?ce=-.0001647792543020228:ce=-.023664538532907665:ce=.01609078206180752;let Re;e[294]>1e-35?e[1]>26.500000000000004?e[0]>4141.500000000001?Re=-.051473645433684705:e[0]>3030.5000000000005?e[1]>51.50000000000001?Re=-.017696526862422682:Re=.1450050954613223:Re=-.05406930069823832:Re=-.08308700260259043:e[120]>1e-35?Re=.058316269489189415:e[297]>1e-35?e[94]>1e-35?Re=-.07425512495167255:e[8]>51.50000000000001?e[1]>13.500000000000002?e[1]>33.50000000000001?e[19]>1e-35?e[0]>4498.500000000001?Re=.038431826961746934:Re=-.05937462906539856:e[9]>65.50000000000001?Re=.10814845712507865:e[4]>9.500000000000002?e[2]>22.500000000000004?e[1]>39.50000000000001?e[1]>44.50000000000001?e[10]>44.50000000000001?Re=.12297945639231944:e[0]>3796.5000000000005?e[4]>26.500000000000004?Re=-.09579030954062734:Re=.025064711572811746:Re=.02579440518821548:Re=.1044440128091862:Re=-.058348633139536844:Re=.07766788227934436:Re=-.01021229539092708:e[2]>2.5000000000000004?e[10]>29.500000000000004?e[0]>3770.5000000000005?e[0]>4438.500000000001?Re=.07463684068207214:Re=.18244269035484484:e[6]>39.50000000000001?Re=-.06050050067471004:Re=.05787759066913493:Re=.010783225857972171:Re=.1674891243602606:e[4]>9.500000000000002?Re=-.004814132027475892:Re=-.14543299413454813:Re=-.02935093398687923:e[116]>1e-35?e[9]>2.5000000000000004?e[8]>1218.5000000000002?Re=-.07634466313617769:Re=.0287825335169114:Re=-.06894721943300268:Re=-.00023988459059521937;let be;e[131]>1e-35?e[1]>93.50000000000001?be=-.05706887458825395:e[2]>1.5000000000000002?be=.011446637886629108:be=-.10616119878749211:e[230]>1e-35?e[4]>6.500000000000001?e[0]>4977.500000000001?be=.08424281276381033:e[3]>17.500000000000004?e[20]>1e-35?be=.11146885439601915:e[8]>61.50000000000001?e[0]>3530.5000000000005?e[9]>48.50000000000001?e[9]>61.50000000000001?be=.026278724448495064:be=.17053138400480508:e[0]>4463.500000000001?be=-.06482289890096041:be=.03026516489536295:be=-.031785170717683144:be=.1312690622980455:e[13]>1e-35?be=.14336922540461444:be=.03523850945454039:be=-.015407465968975714:e[39]>1e-35?be=-.054809635385158186:e[32]>1e-35?e[0]>4242.500000000001?be=-.0659975068798723:be=-.008386582621403979:e[4]>60.50000000000001?e[10]>75.50000000000001?e[3]>107.50000000000001?be=-.04225314193574262:e[3]>70.50000000000001?e[1]>29.500000000000004?be=.057409156184759516:be=.2024322059866388:be=-.030670938454461245:e[10]>1e-35?e[0]>4733.500000000001?be=.010648654146284154:e[308]>1e-35?be=.008728141696325391:e[4]>64.50000000000001?e[298]>1e-35?be=.12364025998551711:be=-.02247495081065243:e[1]>22.500000000000004?be=-.0726295464624251:be=.03481895086048152:e[0]>4331.500000000001?be=-.04775443357020673:be=.07172377425057568:e[2]>89.50000000000001?be=-.11782645274716962:be=.00010092665257989378;let Ue;e[147]>1e-35?Ue=-.041560228567115574:e[302]>1e-35?e[10]>47.50000000000001?Ue=.062292114082780084:e[10]>5.500000000000001?e[7]>22.500000000000004?Ue=-.016101990375700172:e[0]>2579.5000000000005?Ue=-.13045089661551845:Ue=-.02874367814784938:Ue=.025835149631944995:e[167]>1e-35?e[0]>3928.5000000000005?Ue=.17084176915326055:Ue=-.019195947948312853:e[222]>1e-35?e[30]>1e-35?e[1]>36.50000000000001?e[8]>45.50000000000001?e[8]>578.5000000000001?e[1]>67.50000000000001?Ue=.10591712319944074:Ue=-.024082167264285:Ue=.16497698867036126:Ue=-.04985066326861431:e[0]>1937.5000000000002?e[2]>16.500000000000004?Ue=-.021012910475524206:Ue=-.13058422554298485:e[0]>1102.5000000000002?Ue=.10955864175201457:Ue=-.03566689354348996:e[1]>11.500000000000002?Ue=-.02093884208606101:Ue=.09107244766183857:e[126]>1e-35?e[10]>32.50000000000001?e[8]>719.5000000000001?Ue=-.013861861436128482:Ue=.09756849802202777:e[224]>1e-35?e[1]>51.50000000000001?Ue=.10163873449625677:Ue=-.02779270277623805:e[1]>26.500000000000004?Ue=-.08035058228527389:Ue=.0005719695099064484:e[191]>1e-35?e[9]>9.500000000000002?Ue=-.007028075523033826:Ue=.0489470913925288:e[1]>61.50000000000001?e[132]>1e-35?Ue=.11230846723576784:e[0]>350.50000000000006?e[2]>1.5000000000000002?Ue=-.0032075580718124892:Ue=-.04442829143298883:Ue=-.06597073245775804:Ue=.0015594090939337751;let Be;e[223]>1e-35?e[8]>668.5000000000001?Be=-.12803889879260094:Be=.002171373740016862:e[121]>1e-35?e[0]>4720.500000000001?e[217]>1e-35?Be=.08967966612917375:e[1]>39.50000000000001?Be=-.059791671514498074:Be=.05648934961902822:e[2]>59.50000000000001?Be=-.08633234097449628:e[6]>53.50000000000001?Be=.11140345067444689:e[1]>56.50000000000001?e[4]>7.500000000000001?e[0]>3560.5000000000005?Be=.025606129643140924:Be=.13835395886271978:Be=-.09361630641448024:e[4]>7.500000000000001?e[1]>26.500000000000004?e[1]>49.50000000000001?Be=-.09975506556937946:e[10]>36.50000000000001?Be=-.09427724661655643:e[10]>24.500000000000004?Be=.07329330653410447:Be=-.02271182965807972:Be=-.09767874967639482:e[6]>13.500000000000002?e[10]>23.500000000000004?Be=-.05082091374050816:Be=.1687114435254966:e[0]>2314.5000000000005?Be=-.06422664016383926:Be=.0636688376664789:e[298]>1e-35?e[9]>12.500000000000002?e[133]>1e-35?Be=-.06857762517406195:e[9]>71.50000000000001?e[0]>4188.500000000001?Be=-.1274167728754332:Be=.01308079126447365:e[4]>73.50000000000001?Be=.13854015371106546:e[4]>48.50000000000001?Be=-.03684255740123261:e[6]>45.50000000000001?Be=.10329912215813097:e[10]>77.50000000000001?Be=-.08630788656925215:Be=.031022006843800853:e[1]>25.500000000000004?Be=-.08278381528048026:Be=.06664374548141594:e[84]>1e-35?Be=-.05624227409079396:Be=.00012184182357340415;let Je;e[179]>1e-35?Je=-.07443348719246982:e[40]>1e-35?e[0]>1937.5000000000002?Je=-.07595415373151816:Je=.054065040429292326:e[134]>1e-35?e[11]>1e-35?e[2]>13.500000000000002?e[0]>1187.5000000000002?Je=.022822510448266862:Je=.17491569312933697:Je=-.058362287133533565:e[2]>2.5000000000000004?Je=-.03633895806364428:Je=.06397808186120692:e[8]>4968.500000000001?e[1]>31.500000000000004?Je=-.07294848747514579:Je=.025053613105805606:e[230]>1e-35?e[4]>6.500000000000001?e[107]>1e-35?Je=-.07009535282685533:e[8]>2640.0000000000005?Je=-.051761240111316276:e[131]>1e-35?Je=-.06245774419231631:Je=.03495606662854905:Je=-.013863522184803188:e[131]>1e-35?e[1]>93.50000000000001?e[1]>105.50000000000001?Je=.0015036626973581122:Je=-.12505706794835883:e[1]>48.50000000000001?e[276]>1e-35?Je=.10435171369790015:e[0]>5026.500000000001?e[0]>5308.500000000001?Je=.022343994371919224:Je=-.14087991797693533:e[8]>1323.5000000000002?e[10]>49.50000000000001?Je=.07724450228328664:e[0]>3853.5000000000005?Je=-.15671707454435677:e[10]>28.500000000000004?Je=-.10179090671841723:Je=.014878216919760927:Je=.03967665658164865:e[8]>2696.5000000000005?e[15]>1e-35?Je=.14054154485273487:Je=.01821247272493051:e[2]>5.500000000000001?e[2]>100.50000000000001?Je=-.08632985141410315:Je=.005524157938954954:Je=-.08802502622523681:Je=-.0004649168897260341;let ut;e[86]>1e-35?e[8]>65.50000000000001?e[1]>32.50000000000001?e[4]>16.500000000000004?ut=-.007458687464321174:ut=-.09444966249102484:e[1]>23.500000000000004?ut=.08564129697360716:ut=-.07105002902845851:ut=.05688756955238231:e[294]>1e-35?e[10]>50.50000000000001?ut=-.10326216566705966:e[1]>26.500000000000004?ut=.0050539832484585365:ut=-.07080395606126953:e[306]>1e-35?e[149]>1e-35?ut=-.10399433201474328:e[2]>14.500000000000002?e[9]>6.500000000000001?ut=.05783632021087773:e[10]>17.500000000000004?ut=-.06720598671764105:e[1]>47.50000000000001?ut=.097495825172558:ut=-.013372242800584872:ut=-.06463226787713715:e[42]>1e-35?ut=-.0885725817597767:e[204]>1e-35?e[1]>62.50000000000001?ut=-.07496598696848249:e[1]>29.500000000000004?e[8]>446.50000000000006?ut=.11051270080118503:ut=.027719462817590454:e[8]>597.5000000000001?ut=-.08441503592016869:ut=.05534229430302502:e[223]>1e-35?e[8]>668.5000000000001?ut=-.12190088985091102:ut=-.0067442838156576345:e[148]>1e-35?e[9]>79.50000000000001?ut=.09225972475904022:e[2]>10.500000000000002?e[1]>102.50000000000001?ut=.11805676536334647:e[8]>1726.5000000000002?e[9]>10.500000000000002?ut=.016585157185448045:ut=-.11032043771149425:ut=.01586986028570486:e[8]>388.50000000000006?ut=-.10592413013261853:ut=.04930703248769364:e[13]>1e-35?ut=.003621937787920821:ut=-.0013786331198611841;let it;e[145]>1e-35?e[1]>32.50000000000001?e[1]>38.50000000000001?e[10]>55.50000000000001?e[1]>54.50000000000001?it=.009769895322846493:it=-.10620052926943656:e[9]>19.500000000000004?it=.03781202525403449:e[9]>14.500000000000002?it=-.11485785321365344:e[9]>6.500000000000001?it=.07677177833073881:e[0]>4342.500000000001?it=-.07079285609687631:e[49]>1e-35?it=.06156814809246001:it=-.014788509042554625:it=-.032659201618470655:e[5]>5207.500000000001?it=-.09013500825185713:e[3]>10.500000000000002?e[8]>1787.5000000000002?it=-.03094160322187924:e[1]>29.500000000000004?it=.09474646043921069:it=.023445783928231618:it=.09342846694174194:e[0]>533.5000000000001?e[204]>1e-35?e[1]>62.50000000000001?it=-.07164443768784848:e[1]>29.500000000000004?it=.089473622509272:e[8]>597.5000000000001?it=-.08155349903101317:it=.07098423265024251:e[8]>691.5000000000001?e[5]>2252.5000000000005?it=-.004003900679358653:e[190]>1e-35?it=-.09236113461485262:e[8]>3198.5000000000005?it=-.0124130160451179:it=.018453070064009328:e[15]>1e-35?it=.012013209112857824:e[7]>4.500000000000001?e[7]>5.500000000000001?it=-.0009580759587680961:it=-.03227283036698222:it=.01369287669536875:e[1]>50.50000000000001?it=-.04213060332500437:e[35]>1e-35?it=-.11508095777767471:e[190]>1e-35?it=-.08611884672400155:e[297]>1e-35?it=.05723551879433584:it=-.004829340082311461;let ot;e[183]>1e-35?ot=-.037994150023203555:e[227]>1e-35?e[17]>1e-35?e[3]>20.500000000000004?e[10]>36.50000000000001?ot=-.11753465135886734:ot=-.007515490299047085:ot=-.08576941990777916:e[8]>1641.5000000000002?e[10]>37.50000000000001?ot=-.12371142493530439:e[1]>36.50000000000001?ot=.032189417575190435:ot=-.10339125953022954:e[3]>32.50000000000001?e[4]>27.500000000000004?e[1]>59.50000000000001?ot=-.0784518658439288:e[2]>54.50000000000001?ot=.12477882322370665:ot=.000313468482399738:ot=.12261955132611434:e[8]>81.50000000000001?e[23]>1e-35?ot=.04969252946760318:e[8]>511.50000000000006?e[8]>1146.5000000000002?ot=.0353146070135579:ot=-.06327619611098285:ot=.02813577701641991:ot=-.12354390728506215:e[34]>1e-35?ot=-.07664408516055397:e[3]>99.50000000000001?e[1]>16.500000000000004?e[1]>26.500000000000004?ot=-.01245803535276381:ot=-.07169472553475001:e[1]>11.500000000000002?ot=.12989984824561698:ot=-.01201544398886606:e[6]>91.50000000000001?e[1]>22.500000000000004?ot=.010390226893521422:e[10]>14.500000000000002?ot=.16790888126487719:ot=.010614982228955577:e[4]>79.50000000000001?e[9]>44.50000000000001?e[0]>3853.5000000000005?ot=-.043398307129729134:ot=.09963544907820426:e[9]>30.500000000000004?ot=-.13540713124984502:e[9]>17.500000000000004?ot=.0509435850590757:ot=-.04761897852404613:e[4]>78.50000000000001?ot=.09197086656470652:ot=.0006771050176682337;let ie;e[122]>1e-35?e[6]>36.50000000000001?ie=.05686884451670743:ie=-.05334759543084309:e[266]>1e-35?ie=-.08603579519816038:e[157]>1e-35?ie=-.06736746113382097:e[302]>1e-35?e[0]>2579.5000000000005?ie=-.0499592651503952:e[0]>725.5000000000001?ie=.11780353905132664:ie=-.05232097173108943:e[147]>1e-35?e[1]>53.50000000000001?ie=-.11398297342629615:e[0]>2604.5000000000005?e[0]>3629.5000000000005?ie=-.03190157229022304:ie=.07985197845805492:ie=-.0763078988943886:e[4]>41.50000000000001?e[280]>1e-35?ie=.05162933940904835:e[11]>1e-35?e[0]>460.50000000000006?ie=-.027174047777029083:ie=.057117284879796476:e[3]>43.50000000000001?ie=-.0016147040913107311:ie=-.05856597304613519:e[2]>45.50000000000001?e[0]>4663.500000000001?e[18]>1e-35?ie=-.04779247091640426:e[10]>25.500000000000004?e[9]>22.500000000000004?e[22]>1e-35?ie=-.01466076988151239:ie=.13375695925484857:ie=-.04885873081899647:e[0]>5566.500000000001?ie=.11086813028591343:e[8]>992.5000000000001?ie=-.07622304217072383:ie=.04316019272026325:e[10]>12.500000000000002?e[9]>36.50000000000001?e[9]>45.50000000000001?ie=.03285858361708423:ie=-.12354858211764992:ie=.0672788301823281:e[15]>1e-35?ie=.08658836986585006:ie=-.02741484278509758:e[290]>1e-35?ie=-.08161310335133287:e[135]>1e-35?ie=-.04824156054814152:ie=.0009156904299554183;let Pe;e[3]>7.500000000000001?Pe=.0006791852818377787:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?Pe=.03642374718166293:Pe=.16379973756366603:Pe=-.03946685266127979:e[186]>1e-35?Pe=.07618896623420895:e[96]>1e-35?Pe=.0680272261319657:e[107]>1e-35?e[1]>48.50000000000001?Pe=-.022822371600847505:Pe=.0501405836324949:e[203]>1e-35?e[1]>77.50000000000001?Pe=.044416424920571296:Pe=-.0648450593196238:e[5]>3921.5000000000005?e[1]>110.50000000000001?Pe=-.11110466767595227:e[9]>5.500000000000001?e[9]>52.50000000000001?e[1]>50.50000000000001?Pe=.1061937286809567:e[7]>54.50000000000001?Pe=.11487507743121311:e[8]>819.5000000000001?Pe=-.07181278009001418:e[10]>25.500000000000004?Pe=.13499019430369633:e[1]>31.500000000000004?Pe=.09032979489780704:Pe=-.12754166393372374:e[9]>37.50000000000001?Pe=-.05093963635361407:Pe=-.005026651151683848:e[9]>2.5000000000000004?Pe=.07619735785573735:Pe=.012363301341532136:e[26]>1e-35?Pe=-.10685800454968203:e[8]>125.50000000000001?e[8]>446.50000000000006?e[0]>3842.5000000000005?Pe=-.08783796894105043:e[282]>1e-35?e[1]>47.50000000000001?e[9]>40.50000000000001?Pe=-.10764172927882483:Pe=.01890760098464703:Pe=.06573095405846417:e[8]>634.5000000000001?Pe=-.00783575973273707:Pe=-.050612689680229306:e[1]>22.500000000000004?Pe=-.0016842490401359626:Pe=.0738227088444087:Pe=-.02663970950432175;let Ae;e[31]>1e-35?e[8]>17.500000000000004?Ae=.013678038624884814:e[1]>35.50000000000001?e[1]>51.50000000000001?Ae=.007191286124908192:Ae=-.09347881647636902:e[10]>1.5000000000000002?Ae=.07938758708008091:Ae=-.008702935600305113:e[224]>1e-35?e[149]>1e-35?e[13]>1e-35?Ae=.12321804057595996:Ae=-.018281109320672437:e[23]>1e-35?e[4]>62.50000000000001?Ae=-.04644244754790671:Ae=.024546310702263208:e[8]>862.5000000000001?e[0]>3429.5000000000005?e[4]>9.500000000000002?e[52]>1e-35?Ae=.0706108609273337:e[2]>40.50000000000001?Ae=-.028046629962303716:Ae=-.06497613993109329:Ae=.01076489668586676:e[1]>33.50000000000001?e[0]>966.5000000000001?e[2]>14.500000000000002?e[1]>38.50000000000001?Ae=-.03056331974267756:Ae=-.11886389712497057:Ae=.053364962175658184:e[8]>2233.5000000000005?Ae=-.0448152521157682:Ae=.1508651602190868:e[2]>33.50000000000001?e[0]>2882.5000000000005?e[0]>3183.5000000000005?Ae=.03818796510453344:Ae=.23673992112982362:Ae=.02858814226507374:e[10]>44.50000000000001?Ae=-.1125863771551199:Ae=.009129996952394916:e[1]>7.500000000000001?Ae=-.004374525302461639:Ae=-.07858519434925451:e[149]>1e-35?e[6]>23.500000000000004?Ae=.0005231594491642136:e[0]>4053.5000000000005?e[8]>660.5000000000001?Ae=-.13677189943034931:e[10]>2.5000000000000004?Ae=.039591891437078086:Ae=-.09312596849507347:Ae=-.02423172142089822:Ae=.0009836986075266283;let Ge;e[189]>1e-35?e[0]>5269.500000000001?Ge=-.103183298350443:e[2]>51.50000000000001?Ge=.09784373530929913:e[10]>26.500000000000004?e[8]>764.5000000000001?Ge=-.05186168947388339:Ge=.0496996365539082:e[10]>23.500000000000004?Ge=.1404445738719:e[93]>1e-35?Ge=.0027146310074558505:e[5]>3821.5000000000005?Ge=.002153033152069652:e[4]>2.5000000000000004?Ge=.007663539551317215:Ge=.13902616832015402:e[298]>1e-35?e[8]>81.50000000000001?e[4]>64.50000000000001?Ge=.11498405722487515:e[2]>23.500000000000004?e[0]>2815.5000000000005?e[2]>44.50000000000001?e[4]>42.50000000000001?Ge=-.021479467709980358:Ge=.09336868994327292:e[1]>22.500000000000004?e[15]>1e-35?Ge=.021660293256233334:Ge=-.0927396152303864:Ge=.0665074081601698:e[0]>1550.5000000000002?Ge=.08972407105958534:Ge=-.0380796411182682:e[6]>13.500000000000002?e[10]>2.5000000000000004?Ge=.06761927942466854:Ge=-.015762168112653286:e[17]>1e-35?Ge=.10311304131145381:Ge=-.017672785252336027:Ge=-.08629805732772755:e[1]>24.500000000000004?e[138]>1e-35?Ge=-.10638321435298535:Ge=.0007073011744385905:e[18]>1e-35?Ge=-.027056185501334325:e[145]>1e-35?Ge=.023191199677450886:e[9]>33.50000000000001?e[201]>1e-35?Ge=.09762140519655171:e[9]>110.50000000000001?Ge=-.06581942957595835:e[6]>54.50000000000001?Ge=.04959634035251596:Ge=.0022616298654554207:Ge=-.007437620924990854;let z;e[179]>1e-35?z=-.06961998209988884:e[167]>1e-35?e[0]>3928.5000000000005?z=.1470294450403005:z=-.01671476793947083:e[187]>1e-35?e[6]>13.500000000000002?e[4]>30.500000000000004?e[13]>1e-35?z=.07448480853603114:e[0]>1012.5000000000001?e[5]>2883.5000000000005?e[0]>3682.5000000000005?e[5]>4031.5000000000005?e[23]>1e-35?z=.07965955447707423:e[10]>10.500000000000002?z=-.09236156404262426:z=.03396273196231458:z=-.13246465021467432:z=.07092822261735353:z=-.08753829085942:z=.09409024840640956:e[1]>40.50000000000001?e[8]>984.5000000000001?e[8]>1514.5000000000002?e[8]>2134.5000000000005?z=.004705878789890202:z=.13775378964952867:z=-.04770928980587811:e[10]>29.500000000000004?z=.011221519891071544:e[0]>3853.5000000000005?z=.06365381191628273:z=.15506252245336827:e[1]>37.50000000000001?z=-.07254777021042061:z=.026514587757252385:e[308]>1e-35?z=.04115804816617256:e[10]>26.500000000000004?z=.02077721353011946:e[5]>3548.5000000000005?z=-.1280907116663952:z=-.021974774274438:e[306]>1e-35?z=-.02700446558079895:e[297]>1e-35?e[212]>1e-35?z=.07794139136748461:e[7]>5.500000000000001?e[19]>1e-35?z=-.005710865560475598:e[94]>1e-35?z=-.06751507982853555:z=.027250040757588703:e[9]>52.50000000000001?z=.07060357924595577:z=-.030297760713011795:z=-.0006005400085266517;let ee;e[113]>1e-35?ee=-.07311041707507712:e[40]>1e-35?e[0]>1937.5000000000002?ee=-.06996356565314456:ee=.04780211300352931:e[10]>52.50000000000001?e[49]>1e-35?ee=-.08317707559926495:e[21]>1e-35?ee=-.0817284654645976:e[15]>1e-35?e[2]>3.5000000000000004?ee=-.010538203005984922:ee=.08454819465349446:e[9]>124.50000000000001?ee=.09015659250299132:e[7]>15.500000000000002?e[5]>5732.500000000001?ee=-.08542251249346582:e[9]>50.50000000000001?ee=-.023428882537657472:ee=.010042500833979073:ee=.020697210754240154:e[10]>28.500000000000004?e[5]>423.00000000000006?e[148]>1e-35?ee=.03006025206979096:e[9]>108.50000000000001?ee=-.09153851322499747:e[145]>1e-35?e[5]>4814.500000000001?e[2]>38.50000000000001?ee=.04222035773042132:ee=-.09078149053947535:e[8]>568.5000000000001?e[1]>64.50000000000001?ee=-.07209095448054853:ee=.028065954981903313:ee=.08714651929917122:ee=-.006678820669279169:e[10]>40.50000000000001?ee=.006982396294941626:ee=-.07889649792011418:e[94]>1e-35?e[4]>30.500000000000004?ee=-.09351114982645548:e[4]>3.5000000000000004?ee=-.004837550129223451:ee=-.08324141237464677:e[303]>1e-35?ee=.10703037493990825:e[9]>156.50000000000003?ee=-.10803018621648303:e[116]>1e-35?ee=-.03208302566598311:e[212]>1e-35?e[243]>1e-35?ee=.10261721665006701:ee=.018994509090668264:ee=.0011244262442038839;let Fe;e[86]>1e-35?e[8]>65.50000000000001?e[1]>46.50000000000001?Fe=-.08404263465005328:e[0]>3682.5000000000005?Fe=.041259223920298876:e[1]>29.500000000000004?Fe=-.09541257493441671:Fe=.001482192721625409:Fe=.051541427372951004:e[3]>7.500000000000001?e[157]>1e-35?Fe=-.08268996098437432:e[230]>1e-35?Fe=.015749498159959817:e[4]>7.500000000000001?e[3]>11.500000000000002?Fe=-913218977737457e-19:e[4]>10.500000000000002?Fe=-.056334165674005156:e[127]>1e-35?Fe=-.0784634021824036:e[2]>9.500000000000002?e[1]>62.50000000000001?Fe=-.04231200150318989:e[10]>42.50000000000001?Fe=.10182973257894812:Fe=.015934763950068445:Fe=-.03130938805859397:e[92]>1e-35?e[4]>6.500000000000001?e[1]>51.50000000000001?e[9]>19.500000000000004?Fe=-.041117068322885315:Fe=.1167767830037126:Fe=.13611206992387337:e[10]>41.50000000000001?Fe=-.07120286010564107:Fe=.022032788063345417:e[8]>1.5000000000000002?e[1]>51.50000000000001?e[9]>72.50000000000001?Fe=-.07702290997669524:e[198]>1e-35?Fe=.08776558554437136:Fe=-.008290740324975692:e[2]>32.50000000000001?Fe=.07198457624219955:Fe=.005463113714361629:Fe=.09414099512900526:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?Fe=.03295785445437507:Fe=.15140250150674536:Fe=-.035613213948910254:e[186]>1e-35?Fe=.06849425535860769:e[96]>1e-35?Fe=.06028225812727254:Fe=-.007582543288662308;let _e;e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?_e=.08396556264106572:_e=-.0562516995099192:_e=-.10593011018789432:e[183]>1e-35?e[15]>1e-35?_e=-.09705176473553752:e[7]>18.500000000000004?e[2]>37.50000000000001?_e=.0052017514017035915:_e=-.11194119432743639:_e=.03724337696163019:e[227]>1e-35?e[17]>1e-35?e[2]>16.500000000000004?_e=-.025692451287403446:_e=-.09511862672123193:e[8]>1661.5000000000002?e[10]>37.50000000000001?_e=-.11892250746801664:e[10]>22.500000000000004?_e=.07548493166973796:_e=-.05973048107712209:e[4]>12.500000000000002?e[0]>4319.500000000001?e[10]>4.500000000000001?e[10]>37.50000000000001?_e=.13750699058082427:e[18]>1e-35?_e=.06535408879552801:_e=-.054118179035040674:_e=.1344282838979622:e[0]>3982.5000000000005?_e=-.10409582202467015:e[19]>1e-35?_e=.12672850705810795:e[8]>587.5000000000001?e[1]>35.50000000000001?_e=.012705935670766466:_e=.14149359442527545:_e=-.047977876173706004:e[20]>1e-35?_e=.057945228080337946:e[0]>3642.5000000000005?_e=-.008726535792122467:_e=-.08424769891378858:e[34]>1e-35?_e=-.0699329538228602:e[134]>1e-35?e[11]>1e-35?e[4]>15.500000000000002?e[0]>1187.5000000000002?_e=.01196849566739346:_e=.1614642278429876:_e=-.043022338150701625:e[3]>5.500000000000001?_e=-.03907848255033881:_e=.018280601026175593:_e=.0006654540402589085;let Ce;e[31]>1e-35?e[2]>58.50000000000001?e[9]>1.5000000000000002?Ce=-.01386103677247845:Ce=.11386694333005128:e[4]>27.500000000000004?Ce=-.021862617610091336:e[2]>31.500000000000004?Ce=.0828858469030438:Ce=.006483353475830127:e[224]>1e-35?e[149]>1e-35?e[13]>1e-35?Ce=.11303635767048735:Ce=-.01645525128352694:e[23]>1e-35?e[4]>62.50000000000001?Ce=-.04238798044549342:Ce=.022091190130494303:e[5]>5082.500000000001?Ce=-.04287166152163786:e[8]>862.5000000000001?e[19]>1e-35?Ce=.000660344696244351:e[4]>9.500000000000002?e[0]>1277.5000000000002?Ce=-.04291104140431434:e[17]>1e-35?Ce=.11256797532342613:Ce=-.017206916368289193:Ce=.026482035265709743:e[1]>8.500000000000002?e[11]>1e-35?Ce=.04060606971664621:e[0]>4733.500000000001?e[8]>214.50000000000003?e[5]>4814.500000000001?Ce=.03581712466863222:Ce=.14770264307668884:e[8]>73.50000000000001?Ce=-.13093289429740068:Ce=.042461737442702936:e[52]>1e-35?Ce=.0501831919044939:Ce=-.010450249720465756:Ce=-.0753365425372656:e[149]>1e-35?e[6]>23.500000000000004?Ce=.0005381332165438493:Ce=-.04549431717503909:e[133]>1e-35?e[2]>5.500000000000001?e[8]>698.5000000000001?e[282]>1e-35?Ce=.04849637311285226:Ce=-.036671377119808564:e[0]>421.50000000000006?Ce=.00020968499911058945:Ce=.11636422423182405:Ce=-.12687837788222575:Ce=.0012774367867215346;let Oe;e[120]>1e-35?Oe=.04776057572434719:e[229]>1e-35?e[0]>2952.5000000000005?e[0]>3904.5000000000005?Oe=-.042799574885345304:Oe=.07412430171193245:Oe=-.11248270469336048:e[193]>1e-35?Oe=-.060694220820603384:e[121]>1e-35?e[217]>1e-35?e[0]>4449.500000000001?e[4]>8.500000000000002?Oe=.028911612178122104:Oe=.12326369727728437:e[0]>4091.5000000000005?Oe=-.09370267064141052:e[0]>3519.5000000000005?e[8]>668.5000000000001?Oe=.1159839898100149:Oe=-.01924880886585737:e[8]>501.50000000000006?e[10]>16.500000000000004?Oe=-.0216343737351583:Oe=-.1220272260878369:e[2]>18.500000000000004?Oe=.09152924475072398:e[8]>55.50000000000001?Oe=.039508716651005665:Oe=-.11714436880423203:e[18]>1e-35?e[9]>2.5000000000000004?Oe=.06793009902674053:Oe=-.024060578029812988:e[4]>2.5000000000000004?e[2]>16.500000000000004?e[4]>11.500000000000002?Oe=-.04391068849624096:Oe=.04009967593394672:e[8]>1085.5000000000002?Oe=-.024773826356034825:Oe=-.13919707884246582:Oe=.06659278075192335:e[223]>1e-35?e[8]>668.5000000000001?Oe=-.11567917501901476:Oe=-.006813640337684114:e[3]>7.500000000000001?Oe=.0010671269682548076:e[7]>3.5000000000000004?e[1]>33.50000000000001?e[0]>1597.5000000000002?e[10]>1.5000000000000002?Oe=-.001754586408351048:Oe=-.055422422450722056:Oe=-.06090032532532226:e[0]>5269.500000000001?Oe=.11787981735983527:Oe=-.00198119768540783:Oe=.00210412924303036;let Ve;e[294]>1e-35?e[10]>50.50000000000001?Ve=-.09738558653332406:e[0]>2432.5000000000005?e[0]>4533.500000000001?Ve=-.06063239096209816:Ve=.03317022411417386:Ve=-.08607562321324262:e[120]>1e-35?e[4]>18.500000000000004?Ve=-.013608609329298802:Ve=.09078000157330264:e[99]>1e-35?Ve=.014828708581964632:e[10]>52.50000000000001?e[49]>1e-35?Ve=-.07536137260189814:Ve=.006253266595455118:e[10]>28.500000000000004?Ve=-.006106041147592768:e[9]>156.50000000000003?Ve=-.11828932797811101:e[94]>1e-35?Ve=-.02566078479505714:e[303]>1e-35?Ve=.09544850289775349:e[15]>1e-35?e[224]>1e-35?e[4]>56.50000000000001?Ve=-.08401252789168523:e[5]>4244.500000000001?Ve=.026372887658499107:e[1]>16.500000000000004?Ve=-.027836756345634026:Ve=.09205362097909099:Ve=.00934612788718244:e[203]>1e-35?Ve=-.016371658366767253:e[7]>26.500000000000004?e[0]>966.5000000000001?e[1]>38.50000000000001?e[146]>1e-35?e[9]>21.500000000000004?Ve=-.09580979052540028:e[1]>50.50000000000001?Ve=-.06402211827281554:Ve=.08342858760095972:e[2]>36.50000000000001?Ve=.008114897658204584:e[92]>1e-35?Ve=.09541587072672864:Ve=-.022342147210555434:Ve=-.01660492519175128:Ve=.014721622240945446:e[4]>25.500000000000004?e[11]>1e-35?Ve=.15846731118501817:Ve=.039498507912023195:e[245]>1e-35?Ve=.07008718676813333:Ve=.0019806389728814727;let Ze;e[32]>1e-35?e[8]>90.50000000000001?e[4]>67.50000000000001?e[0]>4188.500000000001?Ze=-.01192072916082109:Ze=.13888590840802637:e[1]>16.500000000000004?e[8]>2302.5000000000005?Ze=.06874032717466054:e[4]>40.50000000000001?Ze=-.07752510020707537:e[1]>76.50000000000001?Ze=-.09944032260703917:e[8]>1381.5000000000002?Ze=-.054466635810800745:e[1]>32.50000000000001?Ze=.05974084520839573:Ze=-.0384718740755954:Ze=-.11374190719134032:e[0]>2151.5000000000005?Ze=-.13703645155803298:Ze=.004833344758654556:e[297]>1e-35?e[212]>1e-35?Ze=.06954747264544993:e[7]>9.500000000000002?e[19]>1e-35?e[1]>30.500000000000004?e[0]>4242.500000000001?Ze=.013539805885738608:Ze=-.0692740641801559:e[0]>2653.5000000000005?e[10]>57.50000000000001?Ze=.09941880179344399:Ze=-.01608127391210995:Ze=.08025226531247417:e[9]>67.50000000000001?Ze=.13525448212444113:e[6]>61.50000000000001?Ze=-.05511099182158894:e[94]>1e-35?Ze=-.06821509831783572:e[128]>1e-35?Ze=.11361314817714643:Ze=.030160785008575566:e[1]>13.500000000000002?e[8]>17.500000000000004?e[16]>1e-35?Ze=-.09954181329804547:e[197]>1e-35?Ze=.10102833149755386:e[188]>1e-35?Ze=.05584490988313965:e[9]>49.50000000000001?e[4]>5.500000000000001?Ze=-.03781554214742005:Ze=.09927933385592314:Ze=-.020006000056720083:Ze=-.10520473615957895:Ze=-.12006990846253787:Ze=-.00026111570975317574;let yt;e[8]>2830.5000000000005?e[1]>31.500000000000004?e[9]>32.50000000000001?e[5]>1234.5000000000002?e[0]>1725.5000000000002?e[7]>14.500000000000002?e[2]>38.50000000000001?yt=-.019188245509744628:yt=-.13354864350075848:e[0]>2461.5000000000005?yt=.051885477468354396:yt=-.0833581968852119:yt=.08233441701532287:yt=-.10865584951212362:e[8]>2992.5000000000005?e[10]>49.50000000000001?e[10]>56.50000000000001?e[1]>45.50000000000001?e[0]>2041.5000000000002?yt=.09926337893072812:yt=-.027753610497327715:e[0]>1972.5000000000002?yt=-.09780045823152517:yt=.032380915168504935:yt=.11502632261226381:e[17]>1e-35?yt=-.06094965899579662:e[10]>40.50000000000001?yt=-.07500475582440802:yt=.006499832113084677:e[10]>4.500000000000001?e[4]>10.500000000000002?yt=-.09584538995220808:yt=-.00908705814304442:yt=.03203281520813893:e[10]>49.50000000000001?yt=-.03146271513986384:e[2]>63.50000000000001?yt=.13172001315536286:e[224]>1e-35?yt=.08945777550527927:e[0]>2282.5000000000005?e[4]>4.500000000000001?yt=.09521549382082259:yt=-.04414925613522197:e[0]>1847.5000000000002?yt=-.09118580379557353:yt=.009206744918282364:e[178]>1e-35?e[2]>25.500000000000004?e[1]>31.500000000000004?yt=.03525144509943896:yt=-.053340750721609057:e[0]>1057.5000000000002?e[10]>2.5000000000000004?yt=-.04766112322938157:e[2]>10.500000000000002?yt=.0728516504357201:yt=-.05049625965272536:yt=-.10868663055825774:yt=.0005382613419948969;let Rt;e[147]>1e-35?e[1]>53.50000000000001?Rt=-.10615739288764095:e[0]>2604.5000000000005?e[0]>3629.5000000000005?Rt=-.030504020655417463:Rt=.07102458639110094:Rt=-.07058131985243714:e[302]>1e-35?e[10]>47.50000000000001?Rt=.055304563442710876:e[1]>53.50000000000001?Rt=.033723409577443623:e[8]>175.50000000000003?e[0]>2628.5000000000005?e[9]>40.50000000000001?Rt=-.1568835288372895:Rt=-.0279829124400056:Rt=.04493843959601833:Rt=-.11637042729644327:e[191]>1e-35?e[282]>1e-35?Rt=-.054133834303687026:e[9]>48.50000000000001?Rt=.11263810289007213:e[9]>9.500000000000002?Rt=-.02202034562838259:e[4]>45.50000000000001?Rt=-.03410927569045158:Rt=.04381615166534081:e[242]>1e-35?e[0]>3615.5000000000005?e[3]>19.500000000000004?e[1]>56.50000000000001?e[4]>28.500000000000004?Rt=-.029687297407295893:Rt=.10673602850001934:e[4]>42.50000000000001?Rt=.0036275562945108117:Rt=-.0760789221330622:Rt=-.10385623431741903:e[2]>34.50000000000001?e[2]>44.50000000000001?e[4]>51.50000000000001?Rt=.08274426793676076:Rt=-.07076234425516396:Rt=.13890177606150175:Rt=-.019863286503635686:e[53]>1e-35?e[18]>1e-35?Rt=-.09250637750836187:Rt=-.0031531727902009026:e[2]>107.50000000000001?e[4]>91.50000000000001?e[1]>16.500000000000004?Rt=-.01897867921812603:Rt=.04890781705365262:Rt=-.11569892307597907:e[2]>106.50000000000001?Rt=.09032697440623969:Rt=.00047935919155035045;let At;e[115]>1e-35?At=.05338335681275557:e[242]>1e-35?e[0]>3615.5000000000005?e[4]>42.50000000000001?e[4]>75.50000000000001?At=-.10131179514695865:e[8]>938.5000000000001?At=.10203729808015481:At=-.015357944186835289:e[1]>56.50000000000001?e[2]>22.500000000000004?At=.03574015165562999:At=-.07763042506449493:At=-.0813323116215548:e[2]>34.50000000000001?e[2]>44.50000000000001?e[4]>51.50000000000001?At=.0665706259130275:At=-.06586817559309924:At=.11925564412287476:At=-.014170019267143326:e[1]>124.50000000000001?e[2]>30.500000000000004?e[8]>533.5000000000001?e[4]>41.50000000000001?e[8]>977.5000000000001?At=.046017146627455346:At=-.08623321630086885:e[8]>1765.5000000000002?At=-.017990564319859934:e[10]>25.500000000000004?e[10]>48.50000000000001?At=.11143827902215087:At=-.01817808730473413:At=.16980985030210127:At=-.09357806298740017:e[10]>7.500000000000001?e[10]>54.50000000000001?At=.010168994879727824:At=-.09099594488792513:e[9]>1.5000000000000002?At=.0533459678147928:At=-.06886854808370108:e[99]>1e-35?e[17]>1e-35?e[9]>22.500000000000004?At=-.062346959148773695:e[1]>47.50000000000001?At=-.0021578343835599316:e[2]>27.500000000000004?At=.19567373210166172:At=.07851555379116423:e[18]>1e-35?At=.03711549097804649:e[8]>359.50000000000006?At=.012492346746905587:e[4]>20.500000000000004?At=.047511695735697544:At=-.07999269063948773:At=6802045404471004e-20;let Ht;e[222]>1e-35?e[0]>612.5000000000001?e[10]>1e-35?e[8]>2167.5000000000005?e[4]>25.500000000000004?Ht=.0011484728213539738:Ht=-.0936582904650763:e[2]>25.500000000000004?e[8]>182.50000000000003?e[10]>22.500000000000004?e[0]>5026.500000000001?Ht=-.09828874964938798:e[8]>1586.5000000000002?Ht=.13726397438080162:e[4]>48.50000000000001?e[2]>63.50000000000001?Ht=.011938269926919522:Ht=.17541983715953954:e[19]>1e-35?Ht=.023002786011088672:Ht=-.06221461272461431:e[9]>2.5000000000000004?e[0]>3818.5000000000005?Ht=.06508934844183291:Ht=-.10168553534835639:Ht=-.07755626499024171:e[2]>51.50000000000001?e[4]>65.50000000000001?Ht=.021140806225203937:Ht=-.1167833342453639:e[2]>33.50000000000001?Ht=.13163585734056618:Ht=-.00203273890889717:e[10]>36.50000000000001?e[8]>1067.5000000000002?Ht=.06314479201263888:Ht=-.09639088327091713:e[10]>29.500000000000004?Ht=.09225469303582386:e[0]>3129.5000000000005?e[0]>4091.5000000000005?e[0]>4354.500000000001?Ht=40577156464836036e-21:Ht=.12322387121810757:Ht=-.03697224045046014:e[1]>22.500000000000004?Ht=.016474835887320276:Ht=.16919298733903063:Ht=.07633203630214054:Ht=-.047438037934250644:e[30]>1e-35?e[224]>1e-35?e[1]>52.50000000000001?Ht=.14150493354700563:Ht=-.01831155354975749:e[1]>28.500000000000004?Ht=-.07952557178685365:e[10]>28.500000000000004?Ht=.0665695554984927:Ht=-.053640139319277094:Ht=.0004754840665898665;let jt;e[76]>1e-35?jt=-.06814884255939921:e[179]>1e-35?jt=-.06325743795510681:e[122]>1e-35?e[6]>36.50000000000001?jt=.05052338063261613:e[8]>626.5000000000001?e[1]>38.50000000000001?jt=.004193658608848433:jt=-.1066968975983452:e[8]>302.50000000000006?jt=.05476730110440451:jt=-.06382970920394895:e[218]>1e-35?e[2]>3.5000000000000004?e[6]>13.500000000000002?e[2]>19.500000000000004?e[0]>3200.5000000000005?e[4]>91.50000000000001?jt=-.12156071809840739:e[9]>21.500000000000004?e[5]>3883.5000000000005?e[8]>919.5000000000001?e[8]>1085.5000000000002?jt=.013555772109446666:jt=-.09856116699770784:jt=.0284329611813383:e[2]>52.50000000000001?jt=.04008708444763762:e[9]>29.500000000000004?jt=-.1289599546008197:jt=-.018566534248335896:e[8]>747.5000000000001?jt=.02236484980076122:jt=.1148871655157582:e[8]>3084.0000000000005?jt=-.05573875952902531:e[10]>17.500000000000004?e[2]>51.50000000000001?jt=.03164751204281298:jt=.11752140436184891:e[9]>42.50000000000001?jt=-.07180559595410106:e[22]>1e-35?jt=.09325040416256854:jt=-.016041122807939914:jt=-.02765708954618808:e[1]>30.500000000000004?e[1]>66.50000000000001?jt=-.010718250133458515:jt=.09818827994853763:jt=.010180038981174032:jt=-.039472162599295535:e[9]>170.50000000000003?jt=-.08536729235976731:e[189]>1e-35?e[0]>5269.500000000001?jt=-.08674788057474031:jt=.02077653508548371:jt=-.0003536561382007414;let ir;e[86]>1e-35?e[10]>6.500000000000001?e[0]>4376.500000000001?ir=.018337297491457794:ir=-.05926206443180149:ir=.024026520855881126:e[288]>1e-35?e[184]>1e-35?ir=.10747078482128616:e[126]>1e-35?ir=-.10550625192391357:e[7]>71.50000000000001?ir=-.07698346027863572:e[8]>302.50000000000006?e[6]>49.50000000000001?e[4]>47.50000000000001?e[1]>38.50000000000001?e[15]>1e-35?ir=.1317396472229434:ir=-.025035791351328947:ir=-.0728334305864372:e[8]>963.5000000000001?ir=.023642201723096064:ir=.183010326734258:e[128]>1e-35?ir=.04228920135648387:e[2]>34.50000000000001?e[15]>1e-35?ir=.002801782941492993:e[3]>40.50000000000001?e[4]>39.50000000000001?ir=-.1088876900335281:ir=.02758317023002635:ir=-.11886771300807207:e[9]>59.50000000000001?e[1]>33.50000000000001?ir=-.01928020117446408:ir=.10193718474139135:e[1]>48.50000000000001?e[4]>9.500000000000002?e[8]>932.5000000000001?ir=.07893723375925096:ir=-.009878929627026153:e[10]>2.5000000000000004?e[9]>20.500000000000004?ir=-.10301657587280551:ir=.005787463140224318:ir=.07421364314695046:e[0]>2840.5000000000005?e[10]>29.500000000000004?ir=-.019296977889522397:ir=-.07274529751752634:e[1]>30.500000000000004?ir=-.050368901143148286:ir=.029630869489466655:e[2]>6.500000000000001?e[4]>9.500000000000002?ir=.0015332402792773946:ir=.09930153676749967:ir=-.06370844564357069:ir=.00042272155209927616;let pe;e[71]>1e-35?e[4]>17.500000000000004?pe=.12586844370423247:pe=-.006791999603126354:e[222]>1e-35?e[1]>10.500000000000002?e[30]>1e-35?e[1]>36.50000000000001?e[9]>1.5000000000000002?e[10]>25.500000000000004?pe=-.08474891624263797:e[8]>125.50000000000001?pe=.08125086980439704:pe=-.04082085238068532:e[0]>3863.5000000000005?pe=.020481535807469208:pe=.14810819386202126:e[0]>1937.5000000000002?e[2]>16.500000000000004?pe=-.019110200161573936:pe=-.12387719685855114:e[0]>1102.5000000000002?pe=.08376595701957407:pe=-.031821919580524834:e[9]>4.500000000000001?pe=-.08116383486497568:e[7]>8.500000000000002?e[2]>24.500000000000004?pe=-.02154820850475448:e[0]>3863.5000000000005?e[8]>902.5000000000001?pe=.1349841206807871:pe=.011864053595560297:e[1]>41.50000000000001?pe=-.08203662486612544:e[2]>18.500000000000004?pe=-.009541865642346947:pe=.08345043168501759:e[2]>10.500000000000002?pe=-.09585031818030947:pe=.019432330487099865:pe=.08399259524715129:e[30]>1e-35?e[224]>1e-35?e[1]>52.50000000000001?pe=.11951517733981365:pe=-.016651014735738538:e[1]>28.500000000000004?pe=-.07410922545030711:e[10]>28.500000000000004?pe=.05886430683844788:pe=-.04929626605117184:e[191]>1e-35?e[9]>9.500000000000002?e[9]>48.50000000000001?pe=.04802269879144705:pe=-.026208212831796737:e[4]>45.50000000000001?pe=-.03227476944664786:pe=.05124575625622705:pe=.00020506696916003137;let Le;e[116]>1e-35?e[9]>2.5000000000000004?e[9]>17.500000000000004?Le=-.03042091758483443:e[10]>14.500000000000002?Le=.09816619204768777:Le=.01332124067720947:e[8]>8.500000000000002?e[4]>15.500000000000002?Le=-.02381165060401718:Le=-.10950361804974783:Le=.03538211665111128:e[212]>1e-35?e[19]>1e-35?Le=-.09940014650006174:e[0]>2215.5000000000005?e[5]>5056.500000000001?e[3]>5.500000000000001?e[10]>25.500000000000004?Le=-.06371052144380579:Le=.0835500621252692:Le=-.10408255929333915:e[1]>74.50000000000001?Le=.13208968122712403:e[1]>64.50000000000001?Le=-.04778844603644965:e[8]>51.50000000000001?e[8]>201.50000000000003?e[8]>660.5000000000001?e[6]>4.500000000000001?e[9]>5.500000000000001?e[1]>29.500000000000004?e[0]>3830.5000000000005?Le=.09922816902423433:Le=.016366955328796718:Le=.1592412560903584:e[1]>39.50000000000001?Le=.05409467990258923:Le=-.08260633210459611:Le=-.06307205775247567:e[9]>36.50000000000001?Le=.040253940015648144:Le=.14202568969471283:Le=-.028761848341594044:Le=.08994073058773508:e[0]>807.5000000000001?Le=-.043427848826323195:Le=.04573516446846493:e[20]>1e-35?e[188]>1e-35?Le=-.0758877731600639:e[23]>1e-35?Le=.05913923322043199:e[8]>155.50000000000003?e[128]>1e-35?Le=.08124700978741987:Le=.013296063087086852:e[7]>5.500000000000001?Le=-.01640196088612987:Le=-.12685498840146067:Le=-.0004940792382459551;let Ke;e[1]>24.500000000000004?e[103]>1e-35?e[8]>61.50000000000001?e[17]>1e-35?Ke=-.05584993681929434:e[9]>27.500000000000004?e[0]>3916.5000000000005?Ke=.08513773825688947:Ke=-.1184664832315282:Ke=.05676963535893477:Ke=.14263843210340613:Ke=.0005795003292924202:e[18]>1e-35?e[0]>5453.500000000001?e[1]>11.500000000000002?Ke=-.10669720555606924:Ke=.029016613003137307:e[2]>46.50000000000001?e[10]>9.500000000000002?Ke=.0664744575868955:Ke=-.08469256188890871:Ke=-.026746678040592144:e[281]>1e-35?Ke=-.07408427239006925:e[145]>1e-35?e[4]>6.500000000000001?e[9]>16.500000000000004?e[4]>18.500000000000004?Ke=.012131807587207655:Ke=-.12776015795398743:Ke=.04320472481083551:Ke=.08390980661550446:e[10]>227.50000000000003?Ke=-.09771783809101153:e[10]>130.50000000000003?Ke=.11175201938704937:e[8]>779.5000000000001?e[5]>3325.5000000000005?e[128]>1e-35?Ke=-.07610698254064358:e[8]>902.5000000000001?Ke=-.03136381213599649:e[131]>1e-35?Ke=.0704821739127936:e[224]>1e-35?Ke=-.056961477774953785:e[10]>30.500000000000004?e[9]>43.50000000000001?Ke=.10431473040024908:e[8]>841.5000000000001?Ke=.07304745320500514:Ke=-.038011541882439825:Ke=-.01679746695007364:e[0]>3129.5000000000005?Ke=.05589952587431965:e[210]>1e-35?Ke=.06227198085800842:Ke=-.0011341890997947812:e[8]>740.5000000000001?Ke=.04817300084412584:Ke=-.000577001010789238;let et;e[187]>1e-35?e[6]>12.500000000000002?e[10]>8.500000000000002?e[10]>16.500000000000004?e[8]>234.50000000000003?e[4]>43.50000000000001?e[0]>4476.500000000001?et=-.10504730480402079:e[5]>3341.5000000000005?et=.11087894671081754:et=-.0406668834674614:et=.03308382165616109:e[8]>104.50000000000001?et=-.10431436764549162:et=.0073928337244891455:e[4]>34.50000000000001?et=-.10571751512748416:et=-.006081128814142983:e[13]>1e-35?et=.1299673566095023:e[4]>60.50000000000001?et=-.06587492443829139:e[0]>2604.5000000000005?e[3]>19.500000000000004?et=.04857126072645073:et=-.03431365358104773:e[4]>16.500000000000004?et=.04101865986596709:et=.16480274980378218:e[10]>26.500000000000004?et=.03673978504199255:e[10]>9.500000000000002?et=-.10996402743800027:e[308]>1e-35?et=.0553693735082498:et=-.041600136235644125:e[306]>1e-35?e[8]>1156.5000000000002?e[4]>14.500000000000002?e[10]>21.500000000000004?et=.010902983761213922:et=.1325118659895645:et=-.064362945508595:e[1]>66.50000000000001?et=.033416767779331176:et=-.054080316225040496:e[42]>1e-35?et=-.07762364337810815:e[10]>1089.5000000000002?et=-.08465599849125216:e[31]>1e-35?e[8]>30.500000000000004?et=.012788520036013586:e[1]>32.50000000000001?e[1]>51.50000000000001?et=.0220102041325908:et=-.06516708740003069:et=.012833498905748267:e[224]>1e-35?et=-.007038418272997865:et=.00037666304316290967;let _t;e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?_t=.07554189644995735:_t=-.052089349455904946:_t=-.10148206848169845:e[113]>1e-35?_t=-.06666678653225779:e[39]>1e-35?e[9]>3.5000000000000004?e[0]>3670.5000000000005?_t=.07172653627995676:_t=-.07602959317610998:_t=-.08790686271287523:e[229]>1e-35?e[0]>2952.5000000000005?e[0]>3904.5000000000005?_t=-.0399322883690891:_t=.06523495517476098:_t=-.10358715295743802:e[193]>1e-35?_t=-.05551414334329124:e[134]>1e-35?e[11]>1e-35?e[2]>13.500000000000002?e[10]>1.5000000000000002?_t=.015928764772252406:_t=.1341513061552287:_t=-.04975001987586173:e[10]>2.5000000000000004?e[3]>5.500000000000001?e[9]>2.5000000000000004?e[8]>310.50000000000006?_t=-.033592997607280156:_t=-.12432458028446665:e[1]>32.50000000000001?e[217]>1e-35?_t=-.08402551858097379:_t=.017401984506038796:e[1]>25.500000000000004?_t=.13337205393591278:_t=-.01160208350090984:_t=.06708317942315471:e[8]>227.50000000000003?_t=-.08486943882418681:_t=-.013970104864235007:e[8]>4968.500000000001?e[1]>31.500000000000004?e[9]>4.500000000000001?_t=-.10496268177586783:_t=-.020921489532370493:_t=.02629915927247642:e[7]>20.500000000000004?e[8]>251.50000000000003?e[115]>1e-35?_t=.11639296062157028:_t=-.004275784356569115:e[32]>1e-35?_t=-.07297384970166025:_t=.006026841626381599:_t=.002034611134960428;let xt;e[248]>1e-35?xt=.06091438745093315:e[0]>384.50000000000006?e[204]>1e-35?e[1]>62.50000000000001?xt=-.06455513326540585:e[1]>29.500000000000004?xt=.07718474591552532:e[4]>7.500000000000001?xt=.040139336931404826:xt=-.09685734690563386:xt=.00015327283570347363:e[9]>88.50000000000001?xt=.10079017954199324:e[1]>47.50000000000001?e[2]>20.500000000000004?e[2]>27.500000000000004?xt=-.04077257804338707:xt=.0739963982640615:e[9]>1.5000000000000002?e[17]>1e-35?xt=.03778141591008941:xt=-.06459919920634845:xt=-.11193190957880604:e[7]>6.500000000000001?e[11]>1e-35?e[18]>1e-35?xt=.14063930759326346:e[0]>179.50000000000003?xt=.07287482250668585:e[8]>1180.5000000000002?xt=-.14419393112726253:e[10]>28.500000000000004?xt=-.07993142770099469:e[17]>1e-35?xt=-.04702595410391655:e[7]>21.500000000000004?e[2]>26.500000000000004?xt=.05527969663610186:xt=-.10824385941441346:e[3]>11.500000000000002?xt=.12358502961047915:xt=-.017509147119622873:e[0]>74.50000000000001?xt=-.014907705458730486:e[8]>95.50000000000001?xt=-.02225118168342062:xt=-.1222374623708485:e[8]>1.5000000000000002?e[8]>950.5000000000001?xt=.06946188930925638:e[3]>6.500000000000001?e[10]>2.5000000000000004?e[19]>1e-35?xt=.04962819555610421:xt=-.07213577821855309:xt=.09139529824708481:e[19]>1e-35?xt=.013439401088345224:xt=-.049274647207292056:xt=.10531673719686951;let Ft;e[40]>1e-35?e[0]>1937.5000000000002?Ft=-.06421671152073961:Ft=.04235421241226177:e[294]>1e-35?e[10]>50.50000000000001?Ft=-.09100102290316286:e[0]>3030.5000000000005?e[0]>4177.500000000001?Ft=-.03520420769287065:e[8]>1085.5000000000002?Ft=-.019817352506127633:Ft=.11444439424520964:Ft=-.06854631664538167:e[120]>1e-35?e[4]>18.500000000000004?Ft=-.010490117519863269:Ft=.08104430117757461:e[121]>1e-35?e[243]>1e-35?Ft=.16408304891242204:e[217]>1e-35?e[0]>4449.500000000001?Ft=.06619344145920268:e[0]>4091.5000000000005?Ft=-.08813353450871053:e[0]>3519.5000000000005?e[8]>668.5000000000001?Ft=.10016091391222309:Ft=-.017407607199427293:e[8]>501.50000000000006?e[10]>16.500000000000004?Ft=-.019511460451434884:Ft=-.11643672465055221:e[2]>18.500000000000004?Ft=.07848228087333317:e[8]>55.50000000000001?Ft=.032583027899956235:Ft=-.11209832692153521:e[11]>1e-35?Ft=.027482174104412567:e[10]>1.5000000000000002?e[6]>26.500000000000004?e[4]>19.500000000000004?e[9]>31.500000000000004?Ft=-.09996887746328006:e[9]>2.5000000000000004?Ft=.02157682011863397:Ft=-.05247727848991843:Ft=.07409150201483244:e[1]>38.50000000000001?Ft=-.11378466075449625:e[224]>1e-35?Ft=-.10741749127732923:e[1]>26.500000000000004?Ft=.07343136534146562:Ft=-.07013573628594773:e[25]>1e-35?Ft=-.04626669734164317:Ft=.05518333197956482:Ft=.00032434010867555516;let Qt;e[183]>1e-35?e[10]>1.5000000000000002?e[17]>1e-35?Qt=.026313251010808853:Qt=-.08997339150292381:Qt=.025062509535227952:e[227]>1e-35?e[1]>6.500000000000001?e[2]>9.500000000000002?e[210]>1e-35?Qt=.08071107515789745:e[23]>1e-35?e[1]>75.50000000000001?Qt=.0905155504503746:e[8]>1049.5000000000002?Qt=-.062312558183394054:e[8]>719.5000000000001?Qt=.09583836191410239:e[0]>3719.5000000000005?Qt=-.0778097309430818:Qt=.04012012419054895:e[4]>12.500000000000002?e[8]>1496.5000000000002?e[10]>42.50000000000001?Qt=-.12920865648544927:e[0]>2699.5000000000005?Qt=-.07086587879041864:Qt=.022614182502461846:e[4]>15.500000000000002?e[8]>55.50000000000001?e[1]>60.50000000000001?e[8]>652.5000000000001?Qt=-.11377786322600797:Qt=-.009486325820117998:e[1]>55.50000000000001?Qt=.12430248795958142:e[0]>2952.5000000000005?e[0]>4331.500000000001?e[1]>38.50000000000001?Qt=-.07938291201004219:e[2]>36.50000000000001?Qt=.01520046732530246:Qt=.13649854049662832:Qt=-.07145015938528873:e[8]>407.50000000000006?Qt=-.00350257360822279:Qt=.11332047082193297:Qt=-.10060624458629897:Qt=.05429496612497562:e[8]>1446.5000000000002?Qt=.006073419197482838:Qt=-.08718676350883998:Qt=-.11532497988252638:Qt=.10766270463068293:e[34]>1e-35?Qt=-.06345912440611544:e[131]>1e-35?e[9]>1.5000000000000002?Qt=-.0004109812623829506:Qt=.021601073497455662:Qt=-7343540098965853e-20;let Tt;e[298]>1e-35?e[9]>12.500000000000002?e[133]>1e-35?Tt=-.06107663265515864:e[9]>70.50000000000001?e[10]>37.50000000000001?Tt=.05995640200798119:e[0]>3443.5000000000005?Tt=-.14698883458733583:Tt=-.030039164579240187:e[189]>1e-35?Tt=-.06086763220538141:e[1]>86.50000000000001?Tt=-.05096727866142538:e[4]>64.50000000000001?Tt=.11240554253834577:e[4]>45.50000000000001?Tt=-.030279760168394117:e[6]>45.50000000000001?Tt=.10161088917815142:e[10]>77.50000000000001?Tt=-.0792333078055653:e[7]>23.500000000000004?e[0]>2882.5000000000005?Tt=-.06672020005240323:Tt=.08831457502630258:e[8]>2592.5000000000005?Tt=-.052617701047376654:e[10]>29.500000000000004?Tt=.08499327690298047:e[2]>12.500000000000002?e[9]>41.50000000000001?Tt=.12880460816709416:e[9]>25.500000000000004?e[4]>11.500000000000002?Tt=-.064099222705728:Tt=.044332487521538365:e[0]>2882.5000000000005?Tt=.031099546885005065:Tt=.12938467051623853:e[0]>4221.500000000001?Tt=-.0928676413498701:e[9]>30.500000000000004?Tt=-.05781824812803708:Tt=.07561268901778094:e[8]>711.5000000000001?e[2]>22.500000000000004?Tt=-.06648105454098469:Tt=.05985487552383097:Tt=-.13070190291919334:e[116]>1e-35?e[10]>38.50000000000001?Tt=.05282385499619401:e[1]>66.50000000000001?Tt=.048802929108006314:e[2]>4.500000000000001?e[0]>4593.500000000001?Tt=.027885690791379255:Tt=-.08407126408362446:Tt=.014432924125571093:Tt=-9903435845205118e-20;let St;e[76]>1e-35?St=-.06307875292162934:e[21]>1e-35?e[7]>10.500000000000002?e[10]>4.500000000000001?e[8]>944.5000000000001?e[0]>3655.5000000000005?St=.013633653464240465:St=-.10164319411983509:St=-.1228424374328996:e[1]>26.500000000000004?e[2]>28.500000000000004?St=.00632864847804078:St=-.08393000368134668:St=.07870508617440916:e[284]>1e-35?St=.1092302727710421:St=-.0025505047582483234:e[248]>1e-35?St=.07101822393621864:e[274]>1e-35?St=-.06621099406425579:e[1]>26.500000000000004?e[1]>28.500000000000004?St=.0003077044909372931:e[10]>2.5000000000000004?e[0]>3770.5000000000005?St=.025081789181021243:St=-.014813325803582618:e[9]>33.50000000000001?St=-.033466921233840194:e[3]>12.500000000000002?e[23]>1e-35?St=.11926990418060353:St=.01852125513565268:St=.0975367595927343:e[5]>3325.5000000000005?e[8]>892.5000000000001?e[133]>1e-35?St=-.1178464984373743:e[283]>1e-35?St=.043370859226927405:e[5]>4320.500000000001?St=-.01103141226366587:e[8]>1104.5000000000002?St=-.023053423988095886:St=-.0734238953804657:e[6]>18.500000000000004?e[8]>85.50000000000001?St=.000579145585864887:St=.03389152834202143:e[128]>1e-35?St=-.14527722052568462:e[210]>1e-35?St=-.08915971541902741:e[7]>9.500000000000002?St=-.03307314577076116:e[18]>1e-35?St=-.05521712302023565:St=.009315605032770029:St=.0036332551852289933;let wt;e[0]>689.5000000000001?e[5]>768.5000000000001?e[20]>1e-35?e[5]>4368.500000000001?wt=-.07583539600416284:e[188]>1e-35?wt=-.07042659515500142:e[23]>1e-35?e[0]>3807.5000000000005?wt=-.011038193049597113:wt=.08154028164397753:e[1]>85.50000000000001?wt=.10259361975201933:wt=.011640408330521594:wt=-.00023319159023748508:e[92]>1e-35?wt=.13771692859530546:wt=.022860029819654806:e[1]>22.500000000000004?e[1]>24.500000000000004?e[2]>96.50000000000001?wt=.09967230141007705:e[30]>1e-35?wt=-.08888529037551285:wt=-.008615931385397808:e[10]>5.500000000000001?e[4]>36.50000000000001?wt=.08284665960761373:wt=-.029292565021289504:e[7]>7.500000000000001?wt=-.09945093355204493:wt=-.008381393701708593:e[20]>1e-35?wt=-.04218678460370465:e[10]>6.500000000000001?e[9]>2.5000000000000004?e[1]>13.500000000000002?e[8]>143.50000000000003?e[4]>7.500000000000001?e[2]>36.50000000000001?wt=.07585582641438211:e[8]>284.50000000000006?wt=-.029387993239886723:wt=.07716738177321587:e[1]>18.500000000000004?wt=.026745348497993746:wt=.1427429617069753:e[9]>16.500000000000004?e[9]>33.50000000000001?wt=.02337306890530338:wt=-.10390355904767366:wt=.07390521199638532:wt=-.06788247515155237:wt=-.04201446383470994:e[2]>25.500000000000004?e[2]>29.500000000000004?e[8]>227.50000000000003?wt=-.06360325615644084:wt=.04342192339836601:wt=-.10598779152030145:wt=.05253384605768211;let Ot;e[3]>7.500000000000001?e[157]>1e-35?Ot=-.07514182877923786:Ot=.000636205502279271:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?Ot=.028692053800951845:Ot=.14081686716133598:Ot=-.03316566526940354:e[186]>1e-35?e[0]>2653.5000000000005?Ot=.0037139292567243084:Ot=.12662311031652707:e[107]>1e-35?e[0]>612.5000000000001?Ot=.01202688580305612:Ot=.0993509141454483:e[203]>1e-35?e[1]>77.50000000000001?Ot=.043935495082738626:Ot=-.05639305759669704:e[247]>1e-35?Ot=-.06770766046891649:e[105]>1e-35?e[19]>1e-35?Ot=.10331836202616368:Ot=.0006926658459781341:e[96]>1e-35?Ot=.05361846065599475:e[127]>1e-35?e[0]>2723.5000000000005?e[1]>54.50000000000001?Ot=-.0741403257305367:Ot=.022900127535540854:e[7]>3.5000000000000004?Ot=.038110741403836294:Ot=.14618649985842758:e[5]>3921.5000000000005?e[1]>110.50000000000001?Ot=-.09552842289807008:e[1]>27.500000000000004?Ot=.012505935885798007:Ot=-.020509603428689526:e[282]>1e-35?e[9]>45.50000000000001?e[6]>5.500000000000001?Ot=-.1046104767723845:Ot=.031388606992301074:e[8]>114.50000000000001?e[9]>17.500000000000004?e[9]>22.500000000000004?e[1]>32.50000000000001?Ot=.023466328488582572:Ot=.11730925774586994:Ot=-.04771965631104874:Ot=.17059689880751394:Ot=-.08181850955999449:e[26]>1e-35?Ot=-.12727482696678769:Ot=-.014343123272734182;let Gt;e[147]>1e-35?e[1]>53.50000000000001?Gt=-.0993064321015924:e[0]>2604.5000000000005?e[0]>3629.5000000000005?Gt=-.02763546051134888:Gt=.06423344777499343:Gt=-.064606430904295:e[302]>1e-35?e[10]>2.5000000000000004?e[10]>47.50000000000001?Gt=.049825139823021586:e[7]>22.500000000000004?Gt=-.01131680751379858:e[0]>2579.5000000000005?Gt=-.10673674485369694:Gt=-.015387212937189957:Gt=.04347325151148724:e[179]>1e-35?Gt=-.05788885608624092:e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?Gt=.0650355590939066:Gt=-.0473332870892226:Gt=-.09699315983340703:e[288]>1e-35?e[88]>1e-35?Gt=.11139543329789044:e[126]>1e-35?Gt=-.09726928633696198:e[8]>149.50000000000003?e[9]>46.50000000000001?e[4]>1.5000000000000002?e[8]>1861.5000000000002?Gt=.06370903833231022:e[10]>29.500000000000004?Gt=.03415223859607161:e[10]>3.5000000000000004?Gt=-.07415518117873297:Gt=-.0014119203473324082:Gt=.12617652343819508:e[9]>41.50000000000001?Gt=-.10311145857176976:e[8]>2757.5000000000005?Gt=-.08106484219011428:e[7]>71.50000000000001?Gt=-.09783384432091176:e[1]>88.50000000000001?Gt=.06249739709782831:e[3]>9.500000000000002?e[5]>1601.5000000000002?Gt=-.008884084501608536:Gt=.061339437777743616:Gt=-.042490992675121846:e[2]>6.500000000000001?e[3]>10.500000000000002?Gt=.01526664064166223:Gt=.13534828515415498:Gt=-.06985484465894776:Gt=.0005758961943178744;let $t;e[86]>1e-35?e[1]>23.500000000000004?e[1]>29.500000000000004?e[4]>16.500000000000004?e[2]>31.500000000000004?$t=-.029152732370514342:$t=.07173628916139178:e[1]>36.50000000000001?$t=-.08859111297255318:$t=.0018030071815630785:$t=.13652461563759322:$t=-.07550137680349367:e[10]>52.50000000000001?e[49]>1e-35?$t=-.07145140450454163:e[21]>1e-35?$t=-.07422841663493233:$t=.006289319702780104:e[10]>40.50000000000001?e[9]>59.50000000000001?e[19]>1e-35?e[13]>1e-35?$t=.11864240653986852:e[3]>33.50000000000001?$t=-.08821209591953476:$t=.05706392280054726:$t=-.03600088051578915:e[18]>1e-35?e[1]>24.500000000000004?$t=.01953613016837112:$t=-.059781039130025006:e[148]>1e-35?$t=.052668447861325476:e[3]>30.500000000000004?e[9]>49.50000000000001?$t=.07207826841738371:e[202]>1e-35?$t=.08163917539410503:$t=-.01319846363832958:e[9]>35.50000000000001?e[5]>4134.500000000001?e[10]>44.50000000000001?$t=-.06858280496900336:$t=-.1781828899516648:$t=-.04024620133969553:e[9]>10.500000000000002?e[1]>22.500000000000004?e[1]>37.50000000000001?$t=.018232649414147116:$t=-.04419781124222661:$t=.05145485182416554:e[1]>23.500000000000004?e[0]>655.5000000000001?e[5]>4901.500000000001?e[10]>45.50000000000001?$t=.11452368095776105:$t=-.036496437259924026:$t=-.040445338739465486:$t=.0816572651001145:$t=-.08968914517368663:$t=.0002826343082585516;let lr;e[189]>1e-35?e[0]>5269.500000000001?lr=-.08839493050459957:e[10]>85.50000000000001?lr=.10046908365702462:e[8]>2592.5000000000005?lr=-.09632233975926387:e[8]>2000.5000000000002?lr=.10282992953871627:e[8]>1266.5000000000002?e[9]>34.50000000000001?lr=.035504970430426296:e[1]>31.500000000000004?lr=-.1133764813142531:lr=-.01138280942244812:e[8]>1125.5000000000002?lr=.09800530246229806:lr=.016170419267589393:e[218]>1e-35?e[9]>99.50000000000001?e[9]>101.50000000000001?e[9]>124.50000000000001?lr=.07316772160107896:lr=-.059095014819051765:lr=.17859437315769733:e[2]>1.5000000000000002?e[9]>86.50000000000001?lr=-.09150209066166894:e[8]>3084.0000000000005?lr=-.05443972593168094:e[1]>65.50000000000001?e[10]>11.500000000000002?e[9]>33.50000000000001?lr=-.04449234460408263:lr=.05568837973347338:lr=-.12362324875024472:e[1]>41.50000000000001?e[10]>12.500000000000002?e[8]>1336.5000000000002?lr=.12741077850267066:lr=.007372371864985329:e[2]>39.50000000000001?lr=.02295917234617787:lr=.14966532083907075:e[1]>39.50000000000001?lr=-.06685557815340279:e[10]>22.500000000000004?e[2]>52.50000000000001?lr=-.02511861881285652:e[1]>27.500000000000004?lr=.08683660011672288:lr=.02956214835267301:e[9]>15.500000000000002?lr=-.016538805462996232:lr=.04352738094981517:lr=-.05561856645643868:e[9]>170.50000000000003?lr=-.07996752635874248:e[179]>1e-35?lr=-.09065975936933919:lr=-.00042817975060427177;let hr;e[39]>1e-35?e[4]>25.500000000000004?hr=.03443173196222934:hr=-.06554248341270724:e[32]>1e-35?e[8]>90.50000000000001?e[4]>67.50000000000001?e[4]>86.50000000000001?hr=-.0013415395759330318:hr=.12950978489563347:e[1]>22.500000000000004?e[10]>19.500000000000004?e[4]>30.500000000000004?e[9]>41.50000000000001?hr=.002297618040307216:hr=-.12522800128774994:e[4]>8.500000000000002?e[8]>1075.5000000000002?hr=-.015297257305397608:hr=.09651828834062742:hr=-.06636003334371929:e[10]>11.500000000000002?hr=.17631616138309397:e[0]>1639.5000000000002?hr=3804386478092585e-20:hr=-.09099296398683193:hr=-.06874415876172972:e[0]>2151.5000000000005?hr=-.1311264883406766:hr=.00809052010141122:e[253]>1e-35?hr=-.06338558211939296:e[178]>1e-35?e[2]>25.500000000000004?e[2]>30.500000000000004?e[0]>2151.5000000000005?e[10]>10.500000000000002?e[0]>3615.5000000000005?hr=.045038497754638605:hr=-.07770167665661752:hr=-.08596294280650517:hr=.08538655727027213:hr=.09829076418590559:e[1]>39.50000000000001?e[9]>1.5000000000000002?hr=.054627956617973275:e[1]>61.50000000000001?hr=-.11994465088415499:e[4]>8.500000000000002?hr=.06676200239406452:hr=-.027503148069376867:e[8]>676.5000000000001?hr=-.10363964928357075:e[4]>8.500000000000002?hr=-.07589816227175682:hr=.034664436544646814:e[1]>159.50000000000003?e[6]>25.500000000000004?hr=.009093153189012338:hr=-.06119765876605404:hr=.0004668642103528348;let sr;e[223]>1e-35?e[1]>31.500000000000004?e[8]>711.5000000000001?sr=-.10100794502567233:sr=.08000205636470442:sr=-.11945419826856896:e[113]>1e-35?sr=-.06105445938688056:e[167]>1e-35?e[0]>3928.5000000000005?sr=.1224302423880318:sr=-.01875566982911468:e[222]>1e-35?e[1]>8.500000000000002?e[1]>24.500000000000004?e[4]>3.5000000000000004?e[0]>725.5000000000001?e[0]>1682.5000000000002?e[0]>2860.5000000000005?sr=.0019277012166729114:e[1]>28.500000000000004?sr=-.054445821715687494:sr=.045645722976713245:e[30]>1e-35?sr=.13402660155331655:sr=.008921176001777645:sr=-.058547426505451076:sr=.08841202222426625:e[1]>22.500000000000004?e[10]>9.500000000000002?sr=-.13526418192218206:sr=-.03266013432583145:e[1]>20.500000000000004?e[4]>27.500000000000004?sr=.0007263224246135398:sr=.12450043268647056:e[1]>17.500000000000004?e[9]>1.5000000000000002?sr=-.11575657261278308:sr=-.01530376565862095:e[4]>13.500000000000002?e[4]>22.500000000000004?sr=-.01995960178292952:sr=.11216586049153021:sr=-.10050961087149474:sr=.08848063368485726:e[30]>1e-35?e[224]>1e-35?e[1]>52.50000000000001?sr=.10303451081526649:sr=-.01375730267020699:e[1]>28.500000000000004?e[2]>20.500000000000004?sr=-.043799548968209395:sr=-.12451444314954115:e[4]>12.500000000000002?sr=-.03838117361958468:sr=.06504990789767144:e[57]>1e-35?sr=.06890006938293915:sr=.0003914274695562949;let cr;e[53]>1e-35?e[4]>11.500000000000002?e[8]>617.5000000000001?e[2]>41.50000000000001?cr=.004271749009686975:cr=-.10523878297127605:cr=.04633982158107851:cr=-.10349713975483057:e[183]>1e-35?e[15]>1e-35?cr=-.08655730561951676:e[8]>919.5000000000001?cr=-.0676453705610183:e[7]>18.500000000000004?cr=-.027787974193650575:cr=.08012784576991301:e[227]>1e-35?e[1]>6.500000000000001?e[3]>8.500000000000002?e[210]>1e-35?cr=.07185850683316512:e[8]>201.50000000000003?e[8]>348.50000000000006?e[23]>1e-35?e[8]>1049.5000000000002?cr=-.03473877164537313:e[8]>719.5000000000001?cr=.10471053866934404:cr=.008236107678382981:e[4]>57.50000000000001?cr=.09412219478825269:e[10]>66.50000000000001?cr=-.13884338641811986:e[10]>19.500000000000004?e[10]>22.500000000000004?e[0]>2490.5000000000005?cr=-.040681323751002293:cr=.06374650297561021:cr=.12884615227401788:e[10]>5.500000000000001?cr=-.0887517295786972:e[8]>597.5000000000001?e[18]>1e-35?cr=-.05474068967150784:cr=.03744700650806603:cr=-.07846396348680855:e[1]>42.50000000000001?cr=.018972315810821302:cr=.10953621007604744:e[5]>4439.500000000001?cr=.010999776705494586:e[1]>40.50000000000001?cr=-.12394200059775967:e[10]>2.5000000000000004?cr=.013528093962849453:cr=-.09222088417048682:cr=-.12662967149701485:cr=.09327296405849603:e[3]>99.50000000000001?cr=-.013581954439986752:cr=.0005526498251862075;let Jt;e[187]>1e-35?e[243]>1e-35?Jt=-.08392792551692502:e[10]>68.50000000000001?Jt=.07871769409454053:e[10]>8.500000000000002?e[10]>16.500000000000004?e[2]>17.500000000000004?e[3]>31.500000000000004?e[91]>1e-35?e[10]>21.500000000000004?e[10]>33.50000000000001?e[10]>48.50000000000001?Jt=-.0825306209711224:Jt=.049559996084532945:Jt=-.1064938580886302:Jt=.03353240732240275:Jt=.045985370399163464:e[1]>42.50000000000001?e[4]>20.500000000000004?Jt=.16966001471529374:e[1]>57.50000000000001?Jt=-.005772777673676247:Jt=.09383677041525058:e[8]>747.5000000000001?Jt=.054068175469351235:Jt=-.049968216310277036:e[8]>753.5000000000001?Jt=-.0679383555784074:e[4]>8.500000000000002?Jt=-.059757341189735386:Jt=.05701083682780414:Jt=-.052497281448921164:e[6]>12.500000000000002?e[8]>969.5000000000001?e[4]>23.500000000000004?Jt=.05820296128730006:Jt=-.1063042385102475:e[1]>49.50000000000001?e[8]>302.50000000000006?Jt=.15340611616954566:Jt=.04385036188666874:e[0]>4449.500000000001?Jt=-.02110897605541555:e[1]>24.500000000000004?e[2]>17.500000000000004?Jt=.004840354641006495:Jt=.09967827580276283:Jt=.11605363537391578:e[9]>19.500000000000004?Jt=-.0735831692725717:Jt=.019973331823355176:e[306]>1e-35?e[149]>1e-35?Jt=-.08968948874343531:e[8]>1094.5000000000002?e[10]>15.500000000000002?Jt=-.02442182361342386:Jt=.10334853004243093:Jt=-.030431948680167104:Jt=-956078595250818e-19;let ur;e[294]>1e-35?e[1]>26.500000000000004?e[0]>4078.5000000000005?ur=-.040232505718244854:e[0]>3030.5000000000005?ur=.0634109586813073:ur=-.04043617034245621:ur=-.06385323610738443:e[120]>1e-35?e[4]>18.500000000000004?ur=-.007859096946435131:ur=.07282728486115758:e[229]>1e-35?e[0]>2952.5000000000005?e[17]>1e-35?ur=.05515771679628051:ur=-.04214471312668263:ur=-.09589322222261765:e[193]>1e-35?ur=-.05056345906812831:e[121]>1e-35?e[243]>1e-35?ur=.14857706653119385:e[4]>9.500000000000002?e[1]>26.500000000000004?e[2]>59.50000000000001?ur=-.08152604001147906:e[11]>1e-35?ur=.09132936522356462:e[15]>1e-35?e[4]>23.500000000000004?ur=.13100930780107503:e[10]>25.500000000000004?ur=.05921074710011526:ur=-.07226005736695183:e[0]>3304.5000000000005?e[0]>3707.5000000000005?e[0]>4053.5000000000005?ur=.0009447118243153454:ur=-.09820565036865991:ur=.057146909749745546:e[0]>2115.5000000000005?ur=-.12331216726611678:ur=.007281983677694285:e[2]>56.50000000000001?ur=.012310154675612615:ur=-.08873665774670461:e[6]>25.500000000000004?ur=.134708740821879:e[9]>5.500000000000001?ur=-.0805901581148979:e[224]>1e-35?ur=-.063684477784257:e[7]>2.5000000000000004?e[19]>1e-35?ur=.10842593386554122:e[2]>13.500000000000002?ur=.06466798320378395:ur=-.08578130788886655:ur=-.03590892078300114:ur=.0003499894043880708;let ve;e[134]>1e-35?e[6]>50.50000000000001?e[0]>3601.5000000000005?ve=.10839808814624702:ve=-.028043875308180352:e[7]>30.500000000000004?e[8]>932.5000000000001?ve=-.007478368069393829:ve=-.09066751344326617:e[0]>3588.5000000000005?e[5]>4748.500000000001?ve=.04035247751736232:e[0]>4255.500000000001?ve=-.1310865624507367:e[0]>4004.5000000000005?ve=.06647367311982634:ve=-.08339693352955757:e[4]>10.500000000000002?e[1]>34.50000000000001?ve=-.011618902907510411:ve=.1114646660406691:e[10]>2.5000000000000004?e[0]>3072.5000000000005?ve=.09356028223727986:ve=-.03811765057032162:ve=-.09456215497345526:e[280]>1e-35?e[7]>70.50000000000001?ve=.10322956436499003:e[2]>22.500000000000004?e[1]>83.50000000000001?ve=.1146142460964847:e[1]>62.50000000000001?ve=-.09679869865322362:e[9]>71.50000000000001?ve=-.07377580769927583:e[4]>19.500000000000004?e[0]>4571.500000000001?ve=-.039046426387852974:ve=.04558778688367152:ve=.11220830937352602:e[7]>5.500000000000001?e[9]>17.500000000000004?e[8]>1067.5000000000002?ve=.03261697816211156:e[15]>1e-35?ve=.02586252542264368:e[2]>14.500000000000002?ve=-.016420452667484604:ve=-.1011799626006976:ve=-.13787471318963773:e[6]>4.500000000000001?e[8]>427.50000000000006?e[10]>36.50000000000001?ve=.010193588102560583:ve=.11748729525930773:ve=-.04468162226743652:ve=-.028365274393617957:e[71]>1e-35?ve=.05115139346588793:ve=-.0001510425316936658;let M;e[298]>1e-35?e[8]>81.50000000000001?e[8]>119.50000000000001?e[4]>64.50000000000001?M=.09072192054181037:e[9]>72.50000000000001?e[8]>1094.5000000000002?M=.020637047900190317:M=-.1017300802134141:e[1]>23.500000000000004?e[9]>12.500000000000002?e[0]>2815.5000000000005?e[0]>3183.5000000000005?e[3]>23.500000000000004?e[3]>45.50000000000001?e[4]>48.50000000000001?M=-.04632587527094407:M=.08603684785510396:M=-.05101401015448496:M=.025466432054358498:M=-.07897811963329214:e[6]>13.500000000000002?e[10]>26.500000000000004?M=.020385355430046367:M=.12032592051335252:M=-.012387370292173013:e[2]>23.500000000000004?M=-.12568545484492677:M=-.022261190943521976:e[8]>634.5000000000001?e[8]>857.5000000000001?M=.043528764484784536:M=.14352071657196003:M=-.009332833816977268:M=.11186782227735846:M=-.0737365712425554:e[136]>1e-35?e[0]>1937.5000000000002?M=-.05649104643152564:M=.03884200719305747:e[42]>1e-35?M=-.07191700385792335:e[116]>1e-35?e[9]>2.5000000000000004?e[9]>17.500000000000004?M=-.04103416502526736:M=.04881823954656287:e[4]>15.500000000000002?M=.009342724662897898:e[0]>3969.5000000000005?M=-.025637309961309498:M=-.12574492012987865:e[212]>1e-35?e[19]>1e-35?M=-.08185697075265091:e[0]>2215.5000000000005?M=.030063975892297354:e[0]>807.5000000000001?M=-.03924325550733229:M=.0415330999189793:M=-.00024374664461674863;let de;e[3]>7.500000000000001?de=.0005117490419655908:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?de=.025798416259686565:de=.13251610353146012:de=-.029900559552677654:e[1]>81.50000000000001?e[1]>110.50000000000001?e[0]>4242.500000000001?de=-.11098564237775424:de=25960925309712775e-21:e[0]>4177.500000000001?e[9]>35.50000000000001?de=.15347826616466054:e[3]>4.500000000000001?de=.10379320730958941:de=-.008896303020010654:e[0]>3415.5000000000005?e[0]>3830.5000000000005?de=.03159791088468647:de=-.10612873364104258:de=.05059856107348746:e[133]>1e-35?e[2]>5.500000000000001?de=-.02335760775001469:de=-.1379386577903324:e[1]>62.50000000000001?e[3]>2.5000000000000004?de=-.011164334474672973:de=-.06594044410501655:e[207]>1e-35?de=-.1014214372326535:e[8]>3.5000000000000004?e[107]>1e-35?e[2]>6.500000000000001?de=-.01725821503981916:de=.05594086838700241:e[203]>1e-35?e[1]>44.50000000000001?e[1]>51.50000000000001?de=-.04226531631656534:de=-.14409800530171432:de=-.03245576341206398:e[8]>4214.500000000001?de=.0895409165534886:e[247]>1e-35?de=-.06506383629143335:e[118]>1e-35?de=-.07214270121257443:e[8]>546.5000000000001?de=-.004385020865473831:de=.009321812545248529:e[0]>1639.5000000000002?e[13]>1e-35?de=.046278501133958524:de=-.030835570926968044:e[0]>493.50000000000006?de=-.12794504651610425:de=.009415039807550776;let ye;e[304]>1e-35?ye=-.04717777269217453:e[76]>1e-35?ye=-.05813439142128324:e[1]>59.50000000000001?e[0]>350.50000000000006?e[53]>1e-35?ye=-.09648224457374217:e[132]>1e-35?ye=.07089308107910267:e[0]>2248.5000000000005?e[5]>2525.5000000000005?e[9]>1.5000000000000002?e[114]>1e-35?ye=-.08595213071749083:e[9]>14.500000000000002?e[9]>33.50000000000001?e[285]>1e-35?ye=.10838431695638147:e[230]>1e-35?ye=.06458713915750626:e[0]>3219.5000000000005?e[3]>23.500000000000004?e[9]>69.50000000000001?ye=.050071316251979:ye=-.006356941111525215:e[6]>8.500000000000002?ye=-.0384814076434817:e[1]>73.50000000000001?e[0]>3746.5000000000005?ye=.10217402850540398:ye=-.048840949025349197:ye=-.03668313197909846:e[7]>39.50000000000001?ye=-.0562642841496003:e[10]>2.5000000000000004?ye=.09749777369987417:ye=-.04848223121417616:e[0]>5453.500000000001?ye=.08316648226133942:ye=-.0261979698267618:e[212]>1e-35?ye=.09565573198318654:e[5]>4814.500000000001?e[8]>963.5000000000001?e[8]>1514.5000000000002?ye=.04837009746506856:ye=-.09184360565631328:ye=.0032411047845613606:e[0]>4733.500000000001?ye=.0977378556864798:ye=.010776545559325588:ye=-.012483310473120218:ye=-.049284121449103935:ye=.011962641341789565:e[1]>67.50000000000001?e[1]>77.50000000000001?ye=-.08380361910948711:ye=.07375088778585813:ye=-.1084864186071348:ye=.0007819503469605476;let Y;e[7]>17.500000000000004?e[115]>1e-35?Y=.08741852531696623:e[167]>1e-35?Y=.10078975495600809:Y=-.0018324767784017562:e[290]>1e-35?Y=-.0850089851255888:e[74]>1e-35?e[10]>16.500000000000004?Y=.1379733311640402:Y=-.0038500648529631075:e[6]>29.500000000000004?e[8]>876.5000000000001?e[0]>3129.5000000000005?e[9]>5.500000000000001?e[8]>1765.5000000000002?Y=-.09360083033774169:Y=.061471353193188374:e[10]>11.500000000000002?e[10]>31.500000000000004?Y=-.015599362579530679:e[0]>4593.500000000001?Y=-.12029549262691491:Y=-.018917032256501397:Y=.04632831686576592:Y=.06892347785444271:e[4]>8.500000000000002?e[10]>33.50000000000001?Y=-.05894883236412263:Y=.05213944998315824:Y=.12621779223564986:e[243]>1e-35?e[6]>16.500000000000004?e[0]>4141.500000000001?e[0]>5850.500000000001?Y=.07577412405680808:Y=-.053144737214742235:e[1]>29.500000000000004?e[9]>16.500000000000004?Y=-.0277076900736147:e[1]>65.50000000000001?Y=-.023587471585763506:Y=.10184896592433082:Y=-.057699270527916825:Y=-.041191811945739454:e[114]>1e-35?e[2]>23.500000000000004?Y=.06566902102799584:e[10]>25.500000000000004?Y=-.07033633753181047:Y=-.01599120398351932:e[242]>1e-35?e[0]>2402.5000000000005?Y=-.08108035861059537:Y=.04184690010531078:e[35]>1e-35?e[0]>2904.5000000000005?Y=-.12431182772561139:Y=.01886235886984271:Y=.0025579594894418116;let L;e[8]>2915.5000000000005?e[101]>1e-35?L=.08648323956719083:e[0]>93.50000000000001?e[196]>1e-35?L=-.09509320772734361:e[4]>1.5000000000000002?e[5]>1106.5000000000002?e[5]>1191.5000000000002?e[283]>1e-35?L=-.11268313808648661:e[10]>12.500000000000002?e[131]>1e-35?L=.0687641681341721:e[10]>102.50000000000001?L=-.09667920080214842:e[4]>15.500000000000002?e[8]>2992.5000000000005?e[1]>24.500000000000004?e[1]>71.50000000000001?L=-.06762578396473291:e[10]>65.50000000000001?L=-.05226727783610509:e[282]>1e-35?L=.09911438410640917:e[19]>1e-35?L=.06915156336429933:L=-.006565637886508241:L=-.08344300251849307:L=-.0928863907927501:e[1]>60.50000000000001?e[2]>17.500000000000004?L=.19428463865406298:L=.016073883020956765:e[13]>1e-35?L=.06864077097923665:L=-.01388867527034731:e[0]>1847.5000000000002?L=.004655280608161356:e[1]>40.50000000000001?L=.031406054057765996:L=.12798062439212832:L=.09859670536264255:e[10]>2.5000000000000004?e[9]>68.50000000000001?L=.08821759640665892:e[9]>32.50000000000001?e[8]>3960.0000000000005?e[1]>31.500000000000004?L=-.0706095614785733:L=.04227164041372561:L=-.1056906923176064:e[2]>8.500000000000002?e[19]>1e-35?L=-.07139533369873902:L=.008952586782921625:L=.06086212582180936:L=-.0816938490403437:L=-.051224901945956025:L=-.10525399124186095:L=.000270924147208224;let Ie;e[122]>1e-35?e[0]>2461.5000000000005?e[2]>36.50000000000001?Ie=.029186512383291244:e[7]>1.5000000000000002?Ie=-.14984127276725573:e[1]>40.50000000000001?Ie=.032757060730648144:Ie=-.07675575422749602:e[6]>8.500000000000002?Ie=.10599766037117893:Ie=-.0541423394552156:e[1]>24.500000000000004?e[103]>1e-35?e[8]>61.50000000000001?e[17]>1e-35?Ie=-.051394622947855385:Ie=.03237141302699347:Ie=.12526173027943244:Ie=.000579473126472788:e[18]>1e-35?e[3]>4.500000000000001?e[3]>6.500000000000001?e[0]>5453.500000000001?Ie=-.07383912482657777:e[0]>5147.500000000001?Ie=.07008813937042091:e[10]>38.50000000000001?Ie=-.06779203808365307:Ie=-.013782769999524498:Ie=.0880038869117715:Ie=-.12846294176070952:e[281]>1e-35?Ie=-.06810806903850834:e[10]>227.50000000000003?Ie=-.08937977001661111:e[10]>130.50000000000003?Ie=.10538920632708033:e[145]>1e-35?e[4]>6.500000000000001?e[9]>16.500000000000004?e[4]>18.500000000000004?Ie=.011036530162093841:Ie=-.11500797478569702:Ie=.03702229366129399:Ie=.07242026683784307:e[189]>1e-35?Ie=.03331407112090286:e[9]>33.50000000000001?e[201]>1e-35?Ie=.08979610115743614:e[7]>57.50000000000001?e[1]>20.500000000000004?Ie=-.02608892716555304:Ie=.09609599320761308:e[9]>105.50000000000001?Ie=-.06848127135991534:Ie=.0023675721254089715:e[86]>1e-35?Ie=-.11049635625500497:Ie=-.004847764219432233;let Me;e[125]>1e-35?e[0]>3969.5000000000005?Me=-.09462233499115416:Me=.05235324508465096:e[17]>1e-35?e[49]>1e-35?e[10]>19.500000000000004?Me=-.030700661288166148:Me=.0870883677166864:e[10]>3.5000000000000004?e[3]>18.500000000000004?e[0]>3544.5000000000005?e[188]>1e-35?e[9]>7.500000000000001?Me=.03149547314036763:Me=-.08166208257451366:e[0]>5850.500000000001?Me=-.10228136324773157:e[102]>1e-35?Me=-.10572585290676295:e[8]>726.5000000000001?e[5]>3657.5000000000005?Me=.01782894842128785:e[13]>1e-35?Me=.002680190260979968:Me=.1773965720476949:e[2]>72.50000000000001?Me=.09090831938627947:e[1]>59.50000000000001?Me=-.12297206702816128:e[0]>4977.500000000001?Me=.09899015653118268:Me=-.022207141540838887:e[4]>32.50000000000001?e[1]>34.50000000000001?Me=-.0675900954187773:Me=.012336403425364092:Me=-.0017002325391924573:e[6]>7.500000000000001?e[1]>17.500000000000004?Me=-.02671721777458802:Me=-.09242452991958029:e[284]>1e-35?Me=-.08585691288582491:Me=.013332890564324447:e[4]>14.500000000000002?Me=-.005245022074799553:e[23]>1e-35?Me=-.020036720167235768:e[1]>29.500000000000004?e[114]>1e-35?Me=-.09289852307936758:e[116]>1e-35?Me=-.09686573010015055:e[8]>804.5000000000001?Me=.03812547148215318:Me=.005162744968176633:e[9]>43.50000000000001?Me=-.059246106396159376:Me=.050370113808135275:Me=.000794041852811028;let Ct;e[3]>7.500000000000001?Ct=.0004981426543104341:e[9]>114.50000000000001?Ct=.05666010099424601:e[129]>1e-35?e[6]>3.5000000000000004?Ct=-.019061766497948867:Ct=.07193491146561211:e[186]>1e-35?e[0]>2653.5000000000005?Ct=-.006044199577160493:Ct=.1147136801028133:e[6]>85.50000000000001?e[8]>847.5000000000001?Ct=.11486607015912494:e[9]>16.500000000000004?Ct=-.08686820858087294:Ct=.06119632492911875:e[127]>1e-35?e[0]>2723.5000000000005?e[0]>3682.5000000000005?e[1]>38.50000000000001?Ct=-.022230207980026437:Ct=.1056683690528792:Ct=-.05859530800943035:Ct=.06970608927597141:e[7]>3.5000000000000004?e[105]>1e-35?Ct=.08073568184886762:e[107]>1e-35?e[2]>6.500000000000001?Ct=-.05177544573528314:Ct=.05370469772149028:e[1]>35.50000000000001?e[0]>4106.500000000001?e[9]>46.50000000000001?e[0]>4633.500000000001?Ct=.15159657923771555:Ct=-.0060542654587671055:e[9]>5.500000000000001?Ct=-.042808028205051786:e[1]>48.50000000000001?Ct=-.010449538258110742:Ct=.10026907521968294:Ct=-.04249349329714756:e[9]>42.50000000000001?e[1]>19.500000000000004?e[8]>852.5000000000001?Ct=-.02272452389409874:Ct=-.11202691218244319:e[5]>1809.5000000000002?Ct=-.04460413584255906:Ct=.08196329474205256:e[10]>69.50000000000001?Ct=.10221481166238167:Ct=.0004063052701699382:e[243]>1e-35?Ct=-.07563941678849846:e[18]>1e-35?Ct=.02563513231103432:Ct=-.004740081147303786;let Ut;e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?Ut=.057446442918106:Ut=-.04404018270156349:Ut=-.09282976714550464:e[0]>384.50000000000006?e[204]>1e-35?e[1]>62.50000000000001?Ut=-.05930486238817954:e[1]>29.500000000000004?Ut=.06955866121256543:e[8]>597.5000000000001?Ut=-.06538593556505168:Ut=.06212512595497445:Ut=.00021102929959182257:e[9]>90.50000000000001?Ut=.0958061289119631:e[102]>1e-35?Ut=.07172059675638813:e[1]>47.50000000000001?Ut=-.03879798603977766:e[297]>1e-35?Ut=.054948234271956144:e[282]>1e-35?e[2]>6.500000000000001?Ut=.003805910996312012:Ut=.09304295674749524:e[11]>1e-35?e[18]>1e-35?Ut=.11252376801858695:e[288]>1e-35?Ut=-.10293901912180432:Ut=.014669268837893872:e[1]>42.50000000000001?Ut=-.05988274123836837:e[145]>1e-35?Ut=.06142784665288495:e[3]>1.5000000000000002?e[4]>4.500000000000001?e[1]>21.500000000000004?e[1]>27.500000000000004?e[9]>24.500000000000004?Ut=.038791154988529926:e[10]>22.500000000000004?e[2]>19.500000000000004?Ut=-.03366718308159971:Ut=.11936550608549797:e[1]>31.500000000000004?Ut=-.07454716789539667:Ut=.027859650621164217:e[10]>10.500000000000002?Ut=-.11806374092321247:Ut=-.03506042229223101:Ut=-.0007080765837654515:e[10]>6.500000000000001?Ut=-.028077713664996503:e[2]>7.500000000000001?Ut=.15803724124216814:Ut=.0351381284833169:Ut=-.07877953381054767;let Pt;e[131]>1e-35?e[282]>1e-35?e[4]>23.500000000000004?Pt=.14144941521975005:Pt=.0007727806714190652:e[9]>1.5000000000000002?e[8]>2134.5000000000005?e[2]>34.50000000000001?Pt=.10514088112381886:e[7]>18.500000000000004?Pt=-.10370643555956745:Pt=.04093594315421388:e[6]>15.500000000000002?e[4]>9.500000000000002?e[10]>27.500000000000004?e[10]>71.50000000000001?Pt=-.0508129468802936:e[224]>1e-35?Pt=-.037816066368733595:e[10]>43.50000000000001?Pt=.07793408602607932:Pt=.017646166646099453:e[9]>3.5000000000000004?e[9]>29.500000000000004?e[17]>1e-35?Pt=.036972453794202324:Pt=-.08727431092411866:e[8]>427.50000000000006?e[8]>1278.5000000000002?Pt=.09475302525132188:Pt=-.03580104945898193:Pt=.08349488283861875:e[10]>3.5000000000000004?e[0]>1847.5000000000002?e[0]>4280.500000000001?e[2]>27.500000000000004?Pt=-.1282448778804823:Pt=-.014395808269207212:Pt=-.008940927190750592:Pt=-.1459118815453748:e[0]>4897.500000000001?Pt=-.09733068457286576:e[1]>57.50000000000001?Pt=.06575271409540207:Pt=-.019556422817450115:Pt=-.10623959222984136:e[18]>1e-35?Pt=.11280940901275241:e[8]>319.50000000000006?e[2]>6.500000000000001?Pt=.008125645893104896:Pt=-.11084368630465868:Pt=.0584398731508786:e[0]>350.50000000000006?e[3]>83.50000000000001?Pt=-.05854904579626861:e[4]>5.500000000000001?Pt=.02985784951394175:Pt=-.03247600140149334:Pt=-.11152899295304973:Pt=-.00035424577714215764;let tr;e[32]>1e-35?e[17]>1e-35?e[8]>359.50000000000006?e[8]>804.5000000000001?tr=-.06563670567578264:tr=.067656954313663:tr=-.10388217548685377:e[8]>2302.5000000000005?tr=.07190621943790435:e[4]>67.50000000000001?tr=.060020507643618604:e[4]>38.50000000000001?tr=-.08707253184321638:e[2]>11.500000000000002?e[2]>16.500000000000004?e[1]>31.500000000000004?e[1]>59.50000000000001?tr=-.06568134366461277:e[8]>1075.5000000000002?tr=-.004768057709758692:tr=.11785959165999467:tr=-.05080221682879267:tr=.14814206127494542:tr=-.07241946332311736:e[253]>1e-35?tr=-.058893562861261274:e[4]>61.50000000000001?e[283]>1e-35?e[10]>23.500000000000004?tr=-.02471195342450034:tr=.11866056464409412:e[10]>44.50000000000001?e[1]>16.500000000000004?e[8]>2640.0000000000005?tr=-.10741850739482771:tr=.010051635824944:tr=.12502069436017124:e[8]>1971.5000000000002?e[1]>23.500000000000004?e[308]>1e-35?tr=.10511236013756364:e[10]>10.500000000000002?e[1]>53.50000000000001?tr=-.08992396138178163:tr=.010944365997007212:tr=.06221307021813793:tr=.1286024087559141:e[127]>1e-35?tr=.06568148624531012:e[10]>40.50000000000001?tr=-.07567979134643352:e[5]>5647.500000000001?tr=.07594672895572069:tr=-.018158016446439187:e[6]>55.50000000000001?tr=.009293422430111872:e[4]>45.50000000000001?tr=-.017749818406964022:e[2]>46.50000000000001?tr=.01714136511113982:tr=-724762291423549e-19;let or;e[1]>24.500000000000004?e[103]>1e-35?e[8]>48.50000000000001?e[17]>1e-35?or=-.048689215588703864:e[9]>27.500000000000004?e[0]>3916.5000000000005?or=.07084726276890757:or=-.11232323677722932:or=.04812773089510436:or=.11757502216780046:e[5]>1464.5000000000002?e[5]>1505.5000000000002?e[167]>1e-35?or=.07470606002425358:e[1]>53.50000000000001?e[132]>1e-35?or=.0879462816013881:or=-.002966662093626573:e[306]>1e-35?or=-.04588085188342676:or=.0031910005157084823:e[3]>10.500000000000002?e[10]>20.500000000000004?or=-.006600332774461143:or=.1272481351557754:or=-.09030973597154808:e[284]>1e-35?e[1]>38.50000000000001?e[10]>2.5000000000000004?or=.011884312066620044:or=.11678751052403374:e[4]>8.500000000000002?or=.03627129613273813:or=-.12132783497902287:or=-.006784372643244717:e[18]>1e-35?e[3]>4.500000000000001?e[3]>6.500000000000001?e[0]>5453.500000000001?or=-.06830131718398992:e[0]>5147.500000000001?or=.062360406249609306:e[4]>4.500000000000001?or=-.013162203864592055:or=-.07153029184927609:or=.07628618062271557:or=-.12085065687320373:e[190]>1e-35?or=-.045816889524231186:e[137]>1e-35?or=-.07956001795911584:e[199]>1e-35?e[0]>3853.5000000000005?or=.025895337822752502:or=-.06503949350616421:e[10]>227.50000000000003?or=-.09989456525790491:e[10]>130.50000000000003?or=.08616651057030683:or=.0001234981796706021;let Mt;e[8]>1014.5000000000001?e[9]>137.50000000000003?Mt=-.08778879924617534:e[8]>1022.5000000000001?e[285]>1e-35?e[9]>64.50000000000001?Mt=.04955806187281689:e[0]>3670.5000000000005?e[10]>32.50000000000001?Mt=-.141732381961068:Mt=-.0317152307496497:Mt=-.02074638849097191:e[0]>93.50000000000001?e[0]>3072.5000000000005?e[10]>100.50000000000001?e[4]>24.500000000000004?e[8]>1336.5000000000002?Mt=.12191801556691254:Mt=-.0003444689085397977:Mt=.005739668504631604:e[146]>1e-35?e[308]>1e-35?Mt=.015237524791728777:e[6]>61.50000000000001?e[4]>63.50000000000001?Mt=-.05676033995381961:Mt=.10933961076803381:e[4]>26.500000000000004?Mt=-.11667582544549814:e[8]>1765.5000000000002?Mt=.032174455312047705:Mt=-.0755016390126608:e[293]>1e-35?Mt=-.08234885407658332:e[9]>41.50000000000001?e[0]>3830.5000000000005?Mt=.026571311956824436:e[15]>1e-35?Mt=.06175459479851121:Mt=-.018778084411148754:e[9]>40.50000000000001?Mt=-.09420232889965811:Mt=-.004578248021263184:e[2]>1.5000000000000002?Mt=.005453714644971445:Mt=-.03907138175699279:Mt=-.055296364182154736:e[23]>1e-35?Mt=.036555134842143476:e[0]>4188.500000000001?e[6]>29.500000000000004?Mt=-.09358146510580179:Mt=.060524657996178094:Mt=-.11245101144669545:e[125]>1e-35?e[9]>1.5000000000000002?Mt=-.12698331085931538:Mt=.006059605604079918:e[2]>196.50000000000003?Mt=-.09451315810804783:Mt=.0011390147031687425;let bt;e[8]>2830.5000000000005?e[1]>31.500000000000004?e[9]>32.50000000000001?e[5]>1234.5000000000002?e[8]>3794.5000000000005?bt=.05517359070460923:bt=-.04758751221404857:bt=-.09482078194138792:e[8]>2992.5000000000005?e[1]>101.50000000000001?bt=.1040436595565776:e[9]>21.500000000000004?bt=.04032250517675179:e[107]>1e-35?bt=.05978752253058374:e[210]>1e-35?e[4]>37.50000000000001?bt=.1192453009230486:e[1]>51.50000000000001?bt=.0443376336292195:bt=-.07967674833321865:e[5]>2117.5000000000005?e[9]>10.500000000000002?bt=-.10025078607591283:e[0]>2882.5000000000005?e[18]>1e-35?bt=-.08999822408398037:bt=.017533219253893447:e[9]>1.5000000000000002?e[4]>12.500000000000002?bt=-.061850439226075:bt=.08849196353361093:bt=.10536348167793089:e[92]>1e-35?bt=.04894947712119185:e[9]>16.500000000000004?bt=.05900227903883853:e[9]>5.500000000000001?bt=-.11946594348916476:bt=-.03652096348071964:e[1]>41.50000000000001?bt=-.07411603110840567:bt=-.00021033247574340914:e[10]>22.500000000000004?e[9]>68.50000000000001?bt=.08493634342741495:e[11]>1e-35?bt=-.10899097825564363:bt=-.006156708838964173:e[8]>3198.5000000000005?e[2]>41.50000000000001?bt=.08356655906359918:e[7]>25.500000000000004?bt=-.09475076526194888:e[10]>5.500000000000001?bt=-.01999406228763778:bt=.06696212545889428:e[6]>20.500000000000004?bt=.14713592661393468:bt=.0459917279002218:bt=.00027445928493734093;let ar;e[223]>1e-35?e[1]>31.500000000000004?e[8]>634.5000000000001?ar=-.06904501553217077:ar=.05696231672035904:ar=-.1124703178077813:e[99]>1e-35?e[1]>89.50000000000001?ar=-.05074261170009721:e[1]>57.50000000000001?e[8]>969.5000000000001?ar=-.011419256378538392:e[0]>3830.5000000000005?ar=.140315841503076:ar=.02403434913963024:e[1]>31.500000000000004?e[8]>65.50000000000001?e[2]>10.500000000000002?ar=-.04027822909411164:ar=.03176085103667189:ar=.06779515865838849:e[4]>15.500000000000002?ar=.0762878389015175:e[8]>175.50000000000003?e[0]>3030.5000000000005?e[8]>1041.5000000000002?ar=.06124039747298539:ar=-.04312732764434027:ar=.09161522761808062:ar=-.09663512235460074:e[280]>1e-35?e[6]>45.50000000000001?e[1]>46.50000000000001?ar=.11211681010488772:e[13]>1e-35?ar=.06725735814960367:ar=-.046744031455827846:e[10]>44.50000000000001?e[0]>3400.5000000000005?e[0]>4004.5000000000005?e[2]>22.500000000000004?ar=.11743605068905603:ar=-.011309033539148687:ar=-.07896094707523052:ar=.12862714793172117:e[10]>1.5000000000000002?e[8]>455.50000000000006?e[0]>4706.500000000001?ar=-.09218756798869711:e[10]>19.500000000000004?e[0]>1894.5000000000002?e[0]>3719.5000000000005?ar=.02836295848998302:ar=.12210680366745175:ar=-.058302317470509096:e[5]>4144.500000000001?ar=.06123341960495106:ar=-.03840046906926525:ar=-.05221474543453495:ar=.03988215485860711:ar=-.00033074684693083496;let Ro=xst(t+r+n+i+s+a+l+c+u+f+m+h+p+A+E+x+b+v+S+k+P+N+W+re+ge+te+G+q+se+ne+H+O+j+J+le+Z+ae+ce+Re+be+Ue+Be+Je+ut+it+ot+ie+Pe+Ae+Ge+z+ee+Fe+_e+Ce+Oe+Ve+Ze+yt+Rt+At+Ht+jt+ir+pe+Le+Ke+et+_t+xt+Ft+Qt+Tt+St+wt+Ot+Gt+$t+lr+hr+sr+cr+Jt+ur+ve+M+de+ye+Y+L+Ie+Me+Ct+Ut+Pt+tr+or+Mt+bt+ar);return[1-Ro,Ro]}o(WCe,"multilineModelPredict");function xst(e){if(e<0){let t=Math.exp(e);return t/(1+t)}return 1/(1+Math.exp(-e))}o(xst,"sigmoid");var vst={javascript:["//"],typescript:["//"],typescriptreact:["//"],javascriptreact:["//"],vue:["//","-->"],php:["//","#"],dart:["//"],go:["//"],cpp:["//"],scss:["//"],csharp:["//"],java:["//"],c:["//"],rust:["//"],python:["#"],markdown:["#","-->"],css:["*/"]},HCe={javascript:1,javascriptreact:2,typescript:3,typescriptreact:4,python:5,go:6,ruby:7};function VCe(e,t,r,n=!0){let i=e.split(`
`);if(n&&(i=i.filter(l=>l.trim().length>0)),Math.abs(t)>i.length||t>=i.length)return!1;t<0&&(t=i.length+t);let s=i[t];return(vst[r]??[]).some(l=>s.includes(l))}o(VCe,"hasComment");var _F=class{static{o(this,"PromptFeatures")}constructor(t,r){let[n,i]=this.firstAndLast(t),s=this.firstAndLast(t.trimEnd());this.language=r,this.length=t.length,this.firstLineLength=n.length,this.lastLineLength=i.length,this.lastLineRstripLength=i.trimEnd().length,this.lastLineStripLength=i.trim().length,this.rstripLength=t.trimEnd().length,this.stripLength=t.trim().length,this.rstripLastLineLength=s[1].length,this.rstripLastLineStripLength=s[1].trim().length,this.secondToLastLineHasComment=VCe(t,-2,r),this.rstripSecondToLastLineHasComment=VCe(t.trimEnd(),-2,r),this.prefixEndsWithNewline=t.endsWith(`
`),this.lastChar=t.slice(-1),this.rstripLastChar=t.trimEnd().slice(-1),this.firstChar=t[0],this.lstripFirstChar=t.trimStart().slice(0,1)}firstAndLast(t){let r=t.split(`
`),n=r.length,i=r[0],s=r[n-1];return s==""&&n>1&&(s=r[n-2]),[i,s]}},$J=class{static{o(this,"MultilineModelFeatures")}constructor(t,r,n){this.language=n,this.prefixFeatures=new _F(t,n),this.suffixFeatures=new _F(r,n)}constructFeatures(){let t=new Array(14).fill(0);t[0]=this.prefixFeatures.length,t[1]=this.prefixFeatures.firstLineLength,t[2]=this.prefixFeatures.lastLineLength,t[3]=this.prefixFeatures.lastLineRstripLength,t[4]=this.prefixFeatures.lastLineStripLength,t[5]=this.prefixFeatures.rstripLength,t[6]=this.prefixFeatures.rstripLastLineLength,t[7]=this.prefixFeatures.rstripLastLineStripLength,t[8]=this.suffixFeatures.length,t[9]=this.suffixFeatures.firstLineLength,t[10]=this.suffixFeatures.lastLineLength,t[11]=this.prefixFeatures.secondToLastLineHasComment?1:0,t[12]=this.prefixFeatures.rstripSecondToLastLineHasComment?1:0,t[13]=this.prefixFeatures.prefixEndsWithNewline?1:0;let r=new Array(Object.keys(HCe).length+1).fill(0);r[HCe[this.language]??0]=1;let n=new Array(Object.keys(_c).length+1).fill(0);n[_c[this.prefixFeatures.lastChar]??0]=1;let i=new Array(Object.keys(_c).length+1).fill(0);i[_c[this.prefixFeatures.rstripLastChar]??0]=1;let s=new Array(Object.keys(_c).length+1).fill(0);s[_c[this.suffixFeatures.firstChar]??0]=1;let a=new Array(Object.keys(_c).length+1).fill(0);return a[_c[this.suffixFeatures.lstripFirstChar]??0]=1,t.concat(r,n,i,s,a)}};function bst(e,t){return new $J(e.prefix,e.suffix,t)}o(bst,"constructMultilineFeatures");function jCe(e,t){let r=bst(e,t).constructFeatures();return WCe(r)[1]}o(jCe,"requestMultilineScore");d();var SF=new Er("getCompletions");function BF(e,t,r){r.telemetry.markAsDisplayed(),r.telemetry.properties.reason=fT(r.resultType),Xt(e,`${t}.shown`,r.telemetry)}o(BF,"telemetryShown");function $Ce(e,t,r){let n=t+".accepted",i=e.get(Du);i.previousLabel=1,i.previousLabelTimestamp=Date.now(),Xt(e,n,r)}o($Ce,"telemetryAccepted");function zCe(e,t,r){let n=t+".rejected",i=e.get(Du);i.previousLabel=0,i.previousLabelTimestamp=Date.now(),Xt(e,n,r)}o(zCe,"telemetryRejected");function Xf(e,t={}){return{...t,telemetryBlob:e}}o(Xf,"mkCanceledResultTelemetry");function ys(e){let t={headerRequestId:e.properties.headerRequestId,copilot_trackingId:e.properties.copilot_trackingId};return e.properties.sku!==void 0&&(t.sku=e.properties.sku),e.properties.opportunityId!==void 0&&(t.opportunityId=e.properties.opportunityId),e.properties.organizations_list!==void 0&&(t.organizations_list=e.properties.organizations_list),e.properties.enterprise_list!==void 0&&(t.enterprise_list=e.properties.enterprise_list),e.properties.clientCompletionId!==void 0&&(t.clientCompletionId=e.properties.clientCompletionId),t["abexp.assignmentcontext"]=e.filtersAndExp.exp.assignmentContext,t}o(ys,"mkBasicResultTelemetry");function YCe(e,t){if(t.type!=="promptOnly"){if(t.type==="success"){let r=Ul()-t.telemetryBlob.issuedTime,n=fT(t.resultType),i={...t.telemetryData,reason:n},{foundOffset:s}=t.telemetryBlob.measurements;return SF.debug(e,`ghostText produced from ${n} in ${r}ms with foundOffset ${s}`),Hv(e,"ghostText.produced",i,{timeToProduceMs:r,foundOffset:s}),t.value}if(SF.debug(e,"No ghostText produced -- "+t.type+": "+t.reason),t.type==="canceled"){Xt(e,"ghostText.canceled",t.telemetryData.telemetryBlob.extendedBy({reason:t.reason,cancelledNetworkRequest:t.telemetryData.cancelledNetworkRequest?"true":"false"}));return}Hv(e,`ghostText.${t.type}`,{...t.telemetryData,reason:t.reason},{})}}o(YCe,"handleGhostTextResultTelemetry");function fT(e){switch(e){case 0:return"network";case 1:return"cache";case 3:return"cycling";case 2:return"typingAsSuggested";case 4:return"async"}}o(fT,"resultTypeToString");d();d();var Ist=["isEmptyBlockStart","isBlockBodyFinished","getNodeStart"],Tst=["isSupportedLanguageId","getBlockCloseToken","getPrompt"],R3r=[...Ist,...Tst];var ip={isEmptyBlockStart:xye,isBlockBodyFinished:vye,isSupportedLanguageId:Iu,getBlockCloseToken:aye,getNodeStart:bye,getPrompt:hye};d();d();d();var mT={abap:{extensions:[".abap"]},aspdotnet:{extensions:[".asax",".ascx",".ashx",".asmx",".aspx",".axd"]},bat:{extensions:[".bat",".cmd"]},bibtex:{extensions:[".bib",".bibtex"]},blade:{extensions:[".blade",".blade.php"]},BluespecSystemVerilog:{extensions:[".bsv"]},c:{extensions:[".c",".cats",".h",".h.in",".idc"]},csharp:{extensions:[".cake",".cs",".cs.pp",".csx",".linq"]},cpp:{extensions:[".c++",".cc",".cp",".cpp",".cppm",".cxx",".h",".h++",".hh",".hpp",".hxx",".idl",".inc",".inl",".ino",".ipp",".ixx",".rc",".re",".tcc",".tpp",".txx",".i"]},cobol:{extensions:[".cbl",".ccp",".cob",".cobol",".cpy"]},css:{extensions:[".css",".wxss"]},clojure:{extensions:[".bb",".boot",".cl2",".clj",".cljc",".cljs",".cljs.hl",".cljscm",".cljx",".edn",".hic"],filenames:["riemann.config"]},ql:{extensions:[".ql",".qll"]},coffeescript:{extensions:["._coffee",".cake",".cjsx",".coffee",".iced"],filenames:["Cakefile"]},cuda:{extensions:[".cu",".cuh"]},dart:{extensions:[".dart"]},dockerfile:{extensions:[".containerfile",".dockerfile"],filenames:["Containerfile","Dockerfile"]},dotenv:{extensions:[".env"],filenames:[".env",".env.ci",".env.dev",".env.development",".env.development.local",".env.example",".env.local",".env.prod",".env.production",".env.sample",".env.staging",".env.test",".env.testing"]},html:{extensions:[".ect",".ejs",".ejs.t",".jst",".hta",".htm",".html",".html.hl",".html5",".inc",".jsp",".njk",".tpl",".twig",".wxml",".xht",".xhtml",".phtml",".liquid"]},elixir:{extensions:[".ex",".exs"],filenames:["mix.lock"]},erlang:{extensions:[".app",".app.src",".erl",".es",".escript",".hrl",".xrl",".yrl"],filenames:["Emakefile","rebar.config","rebar.config.lock","rebar.lock"]},fsharp:{extensions:[".fs",".fsi",".fsx"]},go:{extensions:[".go"]},groovy:{extensions:[".gradle",".groovy",".grt",".gtpl",".gvy",".jenkinsfile"],filenames:["Jenkinsfile","Jenkinsfile"]},graphql:{extensions:[".gql",".graphql",".graphqls"]},terraform:{extensions:[".hcl",".nomad",".tf",".tfvars",".workflow"]},hlsl:{extensions:[".cginc",".fx",".fxh",".hlsl",".hlsli"]},erb:{extensions:[".erb",".erb.deface",".rhtml"]},razor:{extensions:[".cshtml",".razor"]},haml:{extensions:[".haml",".haml.deface"]},handlebars:{extensions:[".handlebars",".hbs"]},haskell:{extensions:[".hs",".hs-boot",".hsc"]},ini:{extensions:[".cfg",".cnf",".dof",".ini",".lektorproject",".prefs",".pro",".properties",".url"],filenames:[".buckconfig",".coveragerc",".flake8",".pylintrc","HOSTS","buildozer.spec","hosts","pylintrc","vlcrc"]},json:{extensions:[".4DForm",".4DProject",".JSON-tmLanguage",".avsc",".geojson",".gltf",".har",".ice",".json",".json.example",".jsonl",".mcmeta",".sarif",".tact",".tfstate",".tfstate.backup",".topojson",".webapp",".webmanifest",".yy",".yyp"],filenames:[".all-contributorsrc",".arcconfig",".auto-changelog",".c8rc",".htmlhintrc",".imgbotconfig",".nycrc",".tern-config",".tern-project",".watchmanconfig","MODULE.bazel.lock","Package.resolved","Pipfile.lock","bun.lock","composer.lock","deno.lock","flake.lock","mcmod.info"]},jsonc:{extensions:[".code-snippets",".code-workspace",".jsonc",".sublime-build",".sublime-color-scheme",".sublime-commands",".sublime-completions",".sublime-keymap",".sublime-macro",".sublime-menu",".sublime-mousemap",".sublime-project",".sublime-settings",".sublime-theme",".sublime-workspace",".sublime_metrics",".sublime_session"],filenames:[".babelrc",".devcontainer.json",".eslintrc.json",".jscsrc",".jshintrc",".jslintrc",".swcrc","api-extractor.json","argv.json","devcontainer.json","extensions.json","jsconfig.json","keybindings.json","language-configuration.json","launch.json","profiles.json","settings.json","tasks.json","tsconfig.json","tslint.json"]},java:{extensions:[".jav",".java",".jsh"]},javascript:{extensions:["._js",".bones",".cjs",".es",".es6",".frag",".gs",".jake",".javascript",".js",".jsb",".jscad",".jsfl",".jslib",".jsm",".jspre",".jss",".mjs",".njs",".pac",".sjs",".ssjs",".xsjs",".xsjslib"],filenames:["Jakefile"]},julia:{extensions:[".jl"]},kotlin:{extensions:[".kt",".ktm",".kts"]},less:{extensions:[".less"]},lua:{extensions:[".fcgi",".lua",".luau",".nse",".p8",".pd_lua",".rbxs",".rockspec",".wlua"],filenames:[".luacheckrc"]},makefile:{extensions:[".d",".mak",".make",".makefile",".mk",".mkfile"],filenames:["BSDmakefile","GNUmakefile","Kbuild","Makefile","Makefile.am","Makefile.boot","Makefile.frag","Makefile.in","Makefile.inc","Makefile.wat","makefile","makefile.sco","mkfile"]},markdown:{extensions:[".livemd",".markdown",".md",".mdown",".mdwn",".mdx",".mkd",".mkdn",".mkdown",".ronn",".scd",".workbook"],filenames:["contents.lr"]},"objective-c":{extensions:[".h",".m"]},"objective-cpp":{extensions:[".mm"]},php:{extensions:[".aw",".ctp",".fcgi",".inc",".install",".module",".php",".php3",".php4",".php5",".phps",".phpt",".theme"],filenames:[".php",".php_cs",".php_cs.dist","Phakefile"]},perl:{extensions:[".al",".cgi",".fcgi",".perl",".ph",".pl",".plx",".pm",".psgi",".t"],filenames:[".latexmkrc","Makefile.PL","Rexfile","ack","cpanfile","latexmkrc"]},powershell:{extensions:[".ps1",".psd1",".psm1"]},pug:{extensions:[".jade",".pug"]},python:{extensions:[".cgi",".codon",".fcgi",".gyp",".gypi",".lmi",".py",".py3",".pyde",".pyi",".pyp",".pyt",".pyw",".rpy",".sage",".spec",".tac",".wsgi",".xpy"],filenames:[".gclient","DEPS","SConscript","SConstruct","wscript"]},r:{extensions:[".r",".rd",".rsx"],filenames:[".Rprofile","expr-dist"]},ruby:{extensions:[".builder",".eye",".fcgi",".gemspec",".god",".jbuilder",".mspec",".pluginspec",".podspec",".prawn",".rabl",".rake",".rb",".rbi",".rbuild",".rbw",".rbx",".ru",".ruby",".spec",".thor",".watchr"],filenames:[".irbrc",".pryrc",".simplecov","Appraisals","Berksfile","Brewfile","Buildfile","Capfile","Dangerfile","Deliverfile","Fastfile","Gemfile","Guardfile","Jarfile","Mavenfile","Podfile","Puppetfile","Rakefile","Snapfile","Steepfile","Thorfile","Vagrantfile","buildfile"]},rust:{extensions:[".rs",".rs.in"]},scss:{extensions:[".scss"]},sql:{extensions:[".cql",".ddl",".inc",".mysql",".prc",".sql",".tab",".udf",".viw"]},sass:{extensions:[".sass"]},scala:{extensions:[".kojo",".sbt",".sc",".scala"]},shellscript:{extensions:[".bash",".bats",".cgi",".command",".fcgi",".fish",".ksh",".sh",".sh.in",".tmux",".tool",".trigger",".zsh",".zsh-theme"],filenames:[".bash_aliases",".bash_functions",".bash_history",".bash_logout",".bash_profile",".bashrc",".cshrc",".envrc",".flaskenv",".kshrc",".login",".profile",".tmux.conf",".zlogin",".zlogout",".zprofile",".zshenv",".zshrc","9fs","PKGBUILD","bash_aliases","bash_logout","bash_profile","bashrc","cshrc","gradlew","kshrc","login","man","profile","tmux.conf","zlogin","zlogout","zprofile","zshenv","zshrc"]},slang:{extensions:[".fxc",".hlsl",".s",".slang",".slangh",".usf",".ush",".vfx"]},slim:{extensions:[".slim"]},solidity:{extensions:[".sol"]},stylus:{extensions:[".styl"]},svelte:{extensions:[".svelte"]},swift:{extensions:[".swift"]},systemverilog:{extensions:[".sv",".svh",".vh"]},typescriptreact:{extensions:[".tsx"]},latex:{extensions:[".aux",".bbx",".cbx",".cls",".dtx",".ins",".lbx",".ltx",".mkii",".mkiv",".mkvi",".sty",".tex",".toc"]},typescript:{extensions:[".cts",".mts",".ts"]},verilog:{extensions:[".v",".veo"]},vim:{extensions:[".vba",".vim",".vimrc",".vmb"],filenames:[".exrc",".gvimrc",".nvimrc",".vimrc","_vimrc","gvimrc","nvimrc","vimrc"]},vb:{extensions:[".vb",".vbhtml",".Dsr",".bas",".cls",".ctl",".frm",".vbs"]},vue:{extensions:[".nvue",".vue"]},xml:{extensions:[".adml",".admx",".ant",".axaml",".axml",".builds",".ccproj",".ccxml",".clixml",".cproject",".cscfg",".csdef",".csl",".csproj",".ct",".depproj",".dita",".ditamap",".ditaval",".dll.config",".dotsettings",".filters",".fsproj",".fxml",".glade",".gml",".gmx",".gpx",".grxml",".gst",".hzp",".iml",".ivy",".jelly",".jsproj",".kml",".launch",".mdpolicy",".mjml",".mod",".mojo",".mxml",".natvis",".ncl",".ndproj",".nproj",".nuspec",".odd",".osm",".pkgproj",".plist",".pluginspec",".proj",".props",".ps1xml",".psc1",".pt",".pubxml",".qhelp",".rdf",".res",".resx",".rss",".sch",".scxml",".sfproj",".shproj",".srdf",".storyboard",".sublime-snippet",".svg",".sw",".targets",".tml",".typ",".ui",".urdf",".ux",".vbproj",".vcxproj",".vsixmanifest",".vssettings",".vstemplate",".vxml",".wixproj",".workflow",".wsdl",".wsf",".wxi",".wxl",".wxs",".x3d",".xacro",".xaml",".xib",".xlf",".xliff",".xmi",".xml",".xml.dist",".xmp",".xproj",".xsd",".xspec",".xul",".zcml"],filenames:[".classpath",".cproject",".project","App.config","NuGet.config","Settings.StyleCop","Web.Debug.config","Web.Release.config","Web.config","packages.config"]},xsl:{extensions:[".xsl",".xslt"]},yaml:{extensions:[".mir",".reek",".rviz",".sublime-syntax",".syntax",".yaml",".yaml-tmlanguage",".yaml.sed",".yml",".yml.mysql"],filenames:[".clang-format",".clang-tidy",".clangd",".gemrc","CITATION.cff","glide.lock","pixi.lock","yarn.lock"]},javascriptreact:{extensions:[".jsx"]},legend:{extensions:[".pure"]}};d();var KCe=[".ejs",".erb",".haml",".hbs",".j2",".jinja",".jinja2",".liquid",".mustache",".njk",".php",".pug",".slim",".webc"],JCe={".php":[".blade"]},hT=Object.keys(mT).flatMap(e=>mT[e].extensions);var zJ=ft(require("node:path"));var Ib=class{constructor(t,r,n){this.languageId=t;this.isGuess=r;this.fileExtension=n}static{o(this,"Language")}},pT=class{static{o(this,"LanguageDetection")}},YJ=new Map,bb=new Map;for(let[e,{extensions:t,filenames:r}]of Object.entries(mT)){for(let n of t)YJ.set(n,[...YJ.get(n)??[],e]);for(let n of r??[])bb.set(n,[...bb.get(n)??[],e])}var KJ=class extends pT{static{o(this,"FilenameAndExensionLanguageDetection")}detectLanguage(t){let r=ea(t.uri),n=zJ.extname(r).toLowerCase(),i=this.extensionWithoutTemplateLanguage(r,n),s=this.detectLanguageId(r,i),a=this.computeFullyQualifiedExtension(n,i);return s?new Ib(s.languageId,s.isGuess,a):new Ib(t.languageId,!0,a)}extensionWithoutTemplateLanguage(t,r){if(KCe.includes(r)){let n=t.substring(0,t.lastIndexOf(".")),i=zJ.extname(n).toLowerCase();if(i.length>0&&hT.includes(i)&&this.isExtensionValidForTemplateLanguage(r,i))return i}return r}isExtensionValidForTemplateLanguage(t,r){let n=JCe[t];return!n||n.includes(r)}detectLanguageId(t,r){if(bb.has(t))return{languageId:bb.get(t)[0],isGuess:!1};let n=YJ.get(r)??[];if(n.length>0)return{languageId:n[0],isGuess:n.length>1};for(;t.includes(".");)if(t=t.replace(/\.[^.]*$/,""),bb.has(t))return{languageId:bb.get(t)[0],isGuess:!1}}computeFullyQualifiedExtension(t,r){return t!==r?r+t:t}},JJ=class extends pT{constructor(r){super();this.delegate=r}static{o(this,"GroupingLanguageDetection")}detectLanguage(r){let n=this.delegate.detectLanguage(r),i=n.languageId;return i==="c"||i==="cpp"?new Ib("cpp",n.isGuess,n.fileExtension):n}},XJ=class extends pT{constructor(r){super();this.delegate=r}static{o(this,"ClientProvidedLanguageDetection")}detectLanguage(r){return r.uri.startsWith("untitled:")||r.uri.startsWith("vscode-notebook-cell:")?new Ib(r.languageId,!0,""):this.delegate.detectLanguage(r)}},wst=new JJ(new XJ(new KJ));function XCe({uri:e,clientLanguageId:t}){let r=wst.detectLanguage({uri:e,languageId:"UNKNOWN"});return r.languageId==="UNKNOWN"?t:r.languageId}o(XCe,"detectLanguage");d();var kF=class e{static{o(this,"FullTextDocument")}constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){for(let n of t)if(e.isIncremental(n)){let i=t4e(n.range),s=this.offsetAt(i.start),a=this.offsetAt(i.end);this._content=this._content.substring(0,s)+n.text+this._content.substring(a,this._content.length);let l=Math.max(i.start.line,0),c=Math.max(i.end.line,0),u=this._lineOffsets,f=ZCe(n.text,!1,s);if(c-l===f.length)for(let h=0,p=f.length;h<p;h++)u[h+l+1]=f[h];else f.length<1e4?u.splice(l+1,c-l,...f):this._lineOffsets=u=u.slice(0,l+1).concat(f,u.slice(c+1));let m=n.text.length-(a-s);if(m!==0)for(let h=l+1+f.length,p=u.length;h<p;h++)u[h]=u[h]+m}else if(e.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=ZCe(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return{line:0,character:t};for(;n<i;){let a=Math.floor((n+i)/2);r[a]>t?i=a:n=a+1}let s=n-1;return t=this.ensureBeforeEOL(t,r[s]),{line:s,character:t-r[s]}}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line];if(t.character<=0)return n;let i=t.line+1<r.length?r[t.line+1]:this._content.length,s=Math.min(n+t.character,i);return this.ensureBeforeEOL(s,n)}ensureBeforeEOL(t,r){for(;t>r&&e4e(this._content.charCodeAt(t-1));)t--;return t}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}},A5;(function(e){function t(i,s,a,l){return new kF(i,s,a,l)}o(t,"create"),e.create=t;function r(i,s,a){if(i instanceof kF)return i.update(s,a),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}o(r,"update"),e.update=r;function n(i,s){let a=i.getText(),l=ZJ(s.map(_st),(f,m)=>{let h=f.range.start.line-m.range.start.line;return h===0?f.range.start.character-m.range.start.character:h}),c=0,u=[];for(let f of l){let m=i.offsetAt(f.range.start);if(m<c)throw new Error("Overlapping edit");m>c&&u.push(a.substring(c,m)),f.newText.length&&u.push(f.newText),c=i.offsetAt(f.range.end)}return u.push(a.substr(c)),u.join("")}o(n,"applyEdits"),e.applyEdits=n})(A5||(A5={}));function ZJ(e,t){if(e.length<=1)return e;let r=e.length/2|0,n=e.slice(0,r),i=e.slice(r);ZJ(n,t),ZJ(i,t);let s=0,a=0,l=0;for(;s<n.length&&a<i.length;)t(n[s],i[a])<=0?e[l++]=n[s++]:e[l++]=i[a++];for(;s<n.length;)e[l++]=n[s++];for(;a<i.length;)e[l++]=i[a++];return e}o(ZJ,"mergeSort");function ZCe(e,t,r=0){let n=t?[r]:[];for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);e4e(s)&&(s===13&&i+1<e.length&&e.charCodeAt(i+1)===10&&i++,n.push(r+i+1))}return n}o(ZCe,"computeLineOffsets");function e4e(e){return e===13||e===10}o(e4e,"isEOL");function t4e(e){let t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}o(t4e,"getWellformedRange");function _st(e){let t=t4e(e.range);return t!==e.range?{newText:e.newText,range:t}:e}o(_st,"getWellformedEdit");d();var r4e;(function(e){function t(r){return typeof r=="string"}o(t,"is"),e.is=t})(r4e||(r4e={}));var eX;(function(e){function t(r){return typeof r=="string"}o(t,"is"),e.is=t})(eX||(eX={}));var n4e;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}o(t,"is"),e.is=t})(n4e||(n4e={}));var RF;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}o(t,"is"),e.is=t})(RF||(RF={}));var p0;(function(e){function t(n,i){return n===Number.MAX_VALUE&&(n=RF.MAX_VALUE),i===Number.MAX_VALUE&&(i=RF.MAX_VALUE),{line:n,character:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Ye.uinteger(i.line)&&Ye.uinteger(i.character)}o(r,"is"),e.is=r})(p0||(p0={}));var Qo;(function(e){function t(n,i,s,a){if(Ye.uinteger(n)&&Ye.uinteger(i)&&Ye.uinteger(s)&&Ye.uinteger(a))return{start:p0.create(n,i),end:p0.create(s,a)};if(p0.is(n)&&p0.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${s}, ${a}]`)}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&p0.is(i.start)&&p0.is(i.end)}o(r,"is"),e.is=r})(Qo||(Qo={}));var DF;(function(e){function t(n,i){return{uri:n,range:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Qo.is(i.range)&&(Ye.string(i.uri)||Ye.undefined(i.uri))}o(r,"is"),e.is=r})(DF||(DF={}));var i4e;(function(e){function t(n,i,s,a){return{targetUri:n,targetRange:i,targetSelectionRange:s,originSelectionRange:a}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Qo.is(i.targetRange)&&Ye.string(i.targetUri)&&Qo.is(i.targetSelectionRange)&&(Qo.is(i.originSelectionRange)||Ye.undefined(i.originSelectionRange))}o(r,"is"),e.is=r})(i4e||(i4e={}));var tX;(function(e){function t(n,i,s,a){return{red:n,green:i,blue:s,alpha:a}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Ye.numberRange(i.red,0,1)&&Ye.numberRange(i.green,0,1)&&Ye.numberRange(i.blue,0,1)&&Ye.numberRange(i.alpha,0,1)}o(r,"is"),e.is=r})(tX||(tX={}));var o4e;(function(e){function t(n,i){return{range:n,color:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Qo.is(i.range)&&tX.is(i.color)}o(r,"is"),e.is=r})(o4e||(o4e={}));var s4e;(function(e){function t(n,i,s){return{label:n,textEdit:i,additionalTextEdits:s}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Ye.string(i.label)&&(Ye.undefined(i.textEdit)||wb.is(i))&&(Ye.undefined(i.additionalTextEdits)||Ye.typedArray(i.additionalTextEdits,wb.is))}o(r,"is"),e.is=r})(s4e||(s4e={}));var a4e;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(a4e||(a4e={}));var l4e;(function(e){function t(n,i,s,a,l,c){let u={startLine:n,endLine:i};return Ye.defined(s)&&(u.startCharacter=s),Ye.defined(a)&&(u.endCharacter=a),Ye.defined(l)&&(u.kind=l),Ye.defined(c)&&(u.collapsedText=c),u}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Ye.uinteger(i.startLine)&&Ye.uinteger(i.startLine)&&(Ye.undefined(i.startCharacter)||Ye.uinteger(i.startCharacter))&&(Ye.undefined(i.endCharacter)||Ye.uinteger(i.endCharacter))&&(Ye.undefined(i.kind)||Ye.string(i.kind))}o(r,"is"),e.is=r})(l4e||(l4e={}));var rX;(function(e){function t(n,i){return{location:n,message:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&DF.is(i.location)&&Ye.string(i.message)}o(r,"is"),e.is=r})(rX||(rX={}));var c4e;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(c4e||(c4e={}));var u4e;(function(e){e.Unnecessary=1,e.Deprecated=2})(u4e||(u4e={}));var f4e;(function(e){function t(r){let n=r;return Ye.objectLiteral(n)&&Ye.string(n.href)}o(t,"is"),e.is=t})(f4e||(f4e={}));var PF;(function(e){function t(n,i,s,a,l,c){let u={range:n,message:i};return Ye.defined(s)&&(u.severity=s),Ye.defined(a)&&(u.code=a),Ye.defined(l)&&(u.source=l),Ye.defined(c)&&(u.relatedInformation=c),u}o(t,"create"),e.create=t;function r(n){var i;let s=n;return Ye.defined(s)&&Qo.is(s.range)&&Ye.string(s.message)&&(Ye.number(s.severity)||Ye.undefined(s.severity))&&(Ye.integer(s.code)||Ye.string(s.code)||Ye.undefined(s.code))&&(Ye.undefined(s.codeDescription)||Ye.string((i=s.codeDescription)===null||i===void 0?void 0:i.href))&&(Ye.string(s.source)||Ye.undefined(s.source))&&(Ye.undefined(s.relatedInformation)||Ye.typedArray(s.relatedInformation,rX.is))}o(r,"is"),e.is=r})(PF||(PF={}));var Tb;(function(e){function t(n,i,...s){let a={title:n,command:i};return Ye.defined(s)&&s.length>0&&(a.arguments=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Ye.string(i.title)&&Ye.string(i.command)}o(r,"is"),e.is=r})(Tb||(Tb={}));var wb;(function(e){function t(s,a){return{range:s,newText:a}}o(t,"replace"),e.replace=t;function r(s,a){return{range:{start:s,end:s},newText:a}}o(r,"insert"),e.insert=r;function n(s){return{range:s,newText:""}}o(n,"del"),e.del=n;function i(s){let a=s;return Ye.objectLiteral(a)&&Ye.string(a.newText)&&Qo.is(a.range)}o(i,"is"),e.is=i})(wb||(wb={}));var nX;(function(e){function t(n,i,s){let a={label:n};return i!==void 0&&(a.needsConfirmation=i),s!==void 0&&(a.description=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Ye.string(i.label)&&(Ye.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(Ye.string(i.description)||i.description===void 0)}o(r,"is"),e.is=r})(nX||(nX={}));var _b;(function(e){function t(r){let n=r;return Ye.string(n)}o(t,"is"),e.is=t})(_b||(_b={}));var d4e;(function(e){function t(s,a,l){return{range:s,newText:a,annotationId:l}}o(t,"replace"),e.replace=t;function r(s,a,l){return{range:{start:s,end:s},newText:a,annotationId:l}}o(r,"insert"),e.insert=r;function n(s,a){return{range:s,newText:"",annotationId:a}}o(n,"del"),e.del=n;function i(s){let a=s;return wb.is(a)&&(nX.is(a.annotationId)||_b.is(a.annotationId))}o(i,"is"),e.is=i})(d4e||(d4e={}));var iX;(function(e){function t(n,i){return{textDocument:n,edits:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&cX.is(i.textDocument)&&Array.isArray(i.edits)}o(r,"is"),e.is=r})(iX||(iX={}));var oX;(function(e){function t(n,i,s){let a={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(a.options=i),s!==void 0&&(a.annotationId=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="create"&&Ye.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||Ye.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||Ye.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||_b.is(i.annotationId))}o(r,"is"),e.is=r})(oX||(oX={}));var sX;(function(e){function t(n,i,s,a){let l={kind:"rename",oldUri:n,newUri:i};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(l.options=s),a!==void 0&&(l.annotationId=a),l}o(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="rename"&&Ye.string(i.oldUri)&&Ye.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||Ye.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||Ye.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||_b.is(i.annotationId))}o(r,"is"),e.is=r})(sX||(sX={}));var aX;(function(e){function t(n,i,s){let a={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(a.options=i),s!==void 0&&(a.annotationId=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="delete"&&Ye.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||Ye.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||Ye.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||_b.is(i.annotationId))}o(r,"is"),e.is=r})(aX||(aX={}));var lX;(function(e){function t(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>Ye.string(i.kind)?oX.is(i)||sX.is(i)||aX.is(i):iX.is(i)))}o(t,"is"),e.is=t})(lX||(lX={}));var m4e;(function(e){function t(n){return{uri:n}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Ye.string(i.uri)}o(r,"is"),e.is=r})(m4e||(m4e={}));var h4e;(function(e){function t(n,i){return{uri:n,version:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Ye.string(i.uri)&&Ye.integer(i.version)}o(r,"is"),e.is=r})(h4e||(h4e={}));var cX;(function(e){function t(n,i){return{uri:n,version:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Ye.string(i.uri)&&(i.version===null||Ye.integer(i.version))}o(r,"is"),e.is=r})(cX||(cX={}));var p4e;(function(e){function t(n,i,s,a){return{uri:n,languageId:i,version:s,text:a}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Ye.string(i.uri)&&Ye.string(i.languageId)&&Ye.integer(i.version)&&Ye.string(i.text)}o(r,"is"),e.is=r})(p4e||(p4e={}));var uX;(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(r){let n=r;return n===e.PlainText||n===e.Markdown}o(t,"is"),e.is=t})(uX||(uX={}));var gT;(function(e){function t(r){let n=r;return Ye.objectLiteral(r)&&uX.is(n.kind)&&Ye.string(n.value)}o(t,"is"),e.is=t})(gT||(gT={}));var g4e;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(g4e||(g4e={}));var A4e;(function(e){e.PlainText=1,e.Snippet=2})(A4e||(A4e={}));var y4e;(function(e){e.Deprecated=1})(y4e||(y4e={}));var C4e;(function(e){function t(n,i,s){return{newText:n,insert:i,replace:s}}o(t,"create"),e.create=t;function r(n){let i=n;return i&&Ye.string(i.newText)&&Qo.is(i.insert)&&Qo.is(i.replace)}o(r,"is"),e.is=r})(C4e||(C4e={}));var E4e;(function(e){e.asIs=1,e.adjustIndentation=2})(E4e||(E4e={}));var x4e;(function(e){function t(r){let n=r;return n&&(Ye.string(n.detail)||n.detail===void 0)&&(Ye.string(n.description)||n.description===void 0)}o(t,"is"),e.is=t})(x4e||(x4e={}));var v4e;(function(e){function t(r){return{label:r}}o(t,"create"),e.create=t})(v4e||(v4e={}));var b4e;(function(e){function t(r,n){return{items:r||[],isIncomplete:!!n}}o(t,"create"),e.create=t})(b4e||(b4e={}));var NF;(function(e){function t(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}o(t,"fromPlainText"),e.fromPlainText=t;function r(n){let i=n;return Ye.string(i)||Ye.objectLiteral(i)&&Ye.string(i.language)&&Ye.string(i.value)}o(r,"is"),e.is=r})(NF||(NF={}));var I4e;(function(e){function t(r){let n=r;return!!n&&Ye.objectLiteral(n)&&(gT.is(n.contents)||NF.is(n.contents)||Ye.typedArray(n.contents,NF.is))&&(r.range===void 0||Qo.is(r.range))}o(t,"is"),e.is=t})(I4e||(I4e={}));var T4e;(function(e){function t(r,n){return n?{label:r,documentation:n}:{label:r}}o(t,"create"),e.create=t})(T4e||(T4e={}));var w4e;(function(e){function t(r,n,...i){let s={label:r};return Ye.defined(n)&&(s.documentation=n),Ye.defined(i)?s.parameters=i:s.parameters=[],s}o(t,"create"),e.create=t})(w4e||(w4e={}));var _4e;(function(e){e.Text=1,e.Read=2,e.Write=3})(_4e||(_4e={}));var S4e;(function(e){function t(r,n){let i={range:r};return Ye.number(n)&&(i.kind=n),i}o(t,"create"),e.create=t})(S4e||(S4e={}));var B4e;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(B4e||(B4e={}));var k4e;(function(e){e.Deprecated=1})(k4e||(k4e={}));var R4e;(function(e){function t(r,n,i,s,a){let l={name:r,kind:n,location:{uri:s,range:i}};return a&&(l.containerName=a),l}o(t,"create"),e.create=t})(R4e||(R4e={}));var D4e;(function(e){function t(r,n,i,s){return s!==void 0?{name:r,kind:n,location:{uri:i,range:s}}:{name:r,kind:n,location:{uri:i}}}o(t,"create"),e.create=t})(D4e||(D4e={}));var P4e;(function(e){function t(n,i,s,a,l,c){let u={name:n,detail:i,kind:s,range:a,selectionRange:l};return c!==void 0&&(u.children=c),u}o(t,"create"),e.create=t;function r(n){let i=n;return i&&Ye.string(i.name)&&Ye.number(i.kind)&&Qo.is(i.range)&&Qo.is(i.selectionRange)&&(i.detail===void 0||Ye.string(i.detail))&&(i.deprecated===void 0||Ye.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}o(r,"is"),e.is=r})(P4e||(P4e={}));var N4e;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(N4e||(N4e={}));var FF;(function(e){e.Invoked=1,e.Automatic=2})(FF||(FF={}));var F4e;(function(e){function t(n,i,s){let a={diagnostics:n};return i!=null&&(a.only=i),s!=null&&(a.triggerKind=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Ye.typedArray(i.diagnostics,PF.is)&&(i.only===void 0||Ye.typedArray(i.only,Ye.string))&&(i.triggerKind===void 0||i.triggerKind===FF.Invoked||i.triggerKind===FF.Automatic)}o(r,"is"),e.is=r})(F4e||(F4e={}));var L4e;(function(e){function t(n,i,s){let a={title:n},l=!0;return typeof i=="string"?(l=!1,a.kind=i):Tb.is(i)?a.command=i:a.edit=i,l&&s!==void 0&&(a.kind=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return i&&Ye.string(i.title)&&(i.diagnostics===void 0||Ye.typedArray(i.diagnostics,PF.is))&&(i.kind===void 0||Ye.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||Tb.is(i.command))&&(i.isPreferred===void 0||Ye.boolean(i.isPreferred))&&(i.edit===void 0||lX.is(i.edit))}o(r,"is"),e.is=r})(L4e||(L4e={}));var Q4e;(function(e){function t(n,i){let s={range:n};return Ye.defined(i)&&(s.data=i),s}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Qo.is(i.range)&&(Ye.undefined(i.command)||Tb.is(i.command))}o(r,"is"),e.is=r})(Q4e||(Q4e={}));var M4e;(function(e){function t(n,i){return{tabSize:n,insertSpaces:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Ye.uinteger(i.tabSize)&&Ye.boolean(i.insertSpaces)}o(r,"is"),e.is=r})(M4e||(M4e={}));var O4e;(function(e){function t(n,i,s){return{range:n,target:i,data:s}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Qo.is(i.range)&&(Ye.undefined(i.target)||Ye.string(i.target))}o(r,"is"),e.is=r})(O4e||(O4e={}));var U4e;(function(e){function t(n,i){return{range:n,parent:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Qo.is(i.range)&&(i.parent===void 0||e.is(i.parent))}o(r,"is"),e.is=r})(U4e||(U4e={}));var q4e;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(q4e||(q4e={}));var G4e;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(G4e||(G4e={}));var W4e;(function(e){function t(r){let n=r;return Ye.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}o(t,"is"),e.is=t})(W4e||(W4e={}));var H4e;(function(e){function t(n,i){return{range:n,text:i}}o(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&Qo.is(i.range)&&Ye.string(i.text)}o(r,"is"),e.is=r})(H4e||(H4e={}));var V4e;(function(e){function t(n,i,s){return{range:n,variableName:i,caseSensitiveLookup:s}}o(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&Qo.is(i.range)&&Ye.boolean(i.caseSensitiveLookup)&&(Ye.string(i.variableName)||i.variableName===void 0)}o(r,"is"),e.is=r})(V4e||(V4e={}));var j4e;(function(e){function t(n,i){return{range:n,expression:i}}o(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&Qo.is(i.range)&&(Ye.string(i.expression)||i.expression===void 0)}o(r,"is"),e.is=r})(j4e||(j4e={}));var $4e;(function(e){function t(n,i){return{frameId:n,stoppedLocation:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Qo.is(n.stoppedLocation)}o(r,"is"),e.is=r})($4e||($4e={}));var fX;(function(e){e.Type=1,e.Parameter=2;function t(r){return r===1||r===2}o(t,"is"),e.is=t})(fX||(fX={}));var dX;(function(e){function t(n){return{value:n}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&(i.tooltip===void 0||Ye.string(i.tooltip)||gT.is(i.tooltip))&&(i.location===void 0||DF.is(i.location))&&(i.command===void 0||Tb.is(i.command))}o(r,"is"),e.is=r})(dX||(dX={}));var z4e;(function(e){function t(n,i,s){let a={position:n,label:i};return s!==void 0&&(a.kind=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&p0.is(i.position)&&(Ye.string(i.label)||Ye.typedArray(i.label,dX.is))&&(i.kind===void 0||fX.is(i.kind))&&i.textEdits===void 0||Ye.typedArray(i.textEdits,wb.is)&&(i.tooltip===void 0||Ye.string(i.tooltip)||gT.is(i.tooltip))&&(i.paddingLeft===void 0||Ye.boolean(i.paddingLeft))&&(i.paddingRight===void 0||Ye.boolean(i.paddingRight))}o(r,"is"),e.is=r})(z4e||(z4e={}));var Y4e;(function(e){function t(r){return{kind:"snippet",value:r}}o(t,"createSnippet"),e.createSnippet=t})(Y4e||(Y4e={}));var K4e;(function(e){function t(r,n,i,s){return{insertText:r,filterText:n,range:i,command:s}}o(t,"create"),e.create=t})(K4e||(K4e={}));var J4e;(function(e){function t(r){return{items:r}}o(t,"create"),e.create=t})(J4e||(J4e={}));var X4e;(function(e){e.Invoked=0,e.Automatic=1})(X4e||(X4e={}));var Z4e;(function(e){function t(r,n){return{range:r,text:n}}o(t,"create"),e.create=t})(Z4e||(Z4e={}));var eEe;(function(e){function t(r,n){return{triggerKind:r,selectedCompletionInfo:n}}o(t,"create"),e.create=t})(eEe||(eEe={}));var tEe;(function(e){function t(r){let n=r;return Ye.objectLiteral(n)&&eX.is(n.uri)&&Ye.string(n.name)}o(t,"is"),e.is=t})(tEe||(tEe={}));var rEe;(function(e){function t(s,a,l,c){return new mX(s,a,l,c)}o(t,"create"),e.create=t;function r(s){let a=s;return!!(Ye.defined(a)&&Ye.string(a.uri)&&(Ye.undefined(a.languageId)||Ye.string(a.languageId))&&Ye.uinteger(a.lineCount)&&Ye.func(a.getText)&&Ye.func(a.positionAt)&&Ye.func(a.offsetAt))}o(r,"is"),e.is=r;function n(s,a){let l=s.getText(),c=i(a,(f,m)=>{let h=f.range.start.line-m.range.start.line;return h===0?f.range.start.character-m.range.start.character:h}),u=l.length;for(let f=c.length-1;f>=0;f--){let m=c[f],h=s.offsetAt(m.range.start),p=s.offsetAt(m.range.end);if(p<=u)l=l.substring(0,h)+m.newText+l.substring(p,l.length);else throw new Error("Overlapping edit");u=h}return l}o(n,"applyEdits"),e.applyEdits=n;function i(s,a){if(s.length<=1)return s;let l=s.length/2|0,c=s.slice(0,l),u=s.slice(l);i(c,a),i(u,a);let f=0,m=0,h=0;for(;f<c.length&&m<u.length;)a(c[f],u[m])<=0?s[h++]=c[f++]:s[h++]=u[m++];for(;f<c.length;)s[h++]=c[f++];for(;m<u.length;)s[h++]=u[m++];return s}o(i,"mergeSort")})(rEe||(rEe={}));var mX=class{static{o(this,"FullTextDocument")}constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){this._content=t.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],r=this._content,n=!0;for(let i=0;i<r.length;i++){n&&(t.push(i),n=!1);let s=r.charAt(i);n=s==="\r"||s===`
`,s==="\r"&&i+1<r.length&&r.charAt(i+1)===`
`&&i++}n&&r.length>0&&t.push(r.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return p0.create(0,t);for(;n<i;){let a=Math.floor((n+i)/2);r[a]>t?i=a:n=a+1}let s=n-1;return p0.create(s,t-r[s])}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],i=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,i),n)}get lineCount(){return this.getLineOffsets().length}},Ye;(function(e){let t=Object.prototype.toString;function r(p){return typeof p<"u"}o(r,"defined"),e.defined=r;function n(p){return typeof p>"u"}o(n,"undefined"),e.undefined=n;function i(p){return p===!0||p===!1}o(i,"boolean"),e.boolean=i;function s(p){return t.call(p)==="[object String]"}o(s,"string"),e.string=s;function a(p){return t.call(p)==="[object Number]"}o(a,"number"),e.number=a;function l(p,A,E){return t.call(p)==="[object Number]"&&A<=p&&p<=E}o(l,"numberRange"),e.numberRange=l;function c(p){return t.call(p)==="[object Number]"&&-2147483648<=p&&p<=2147483647}o(c,"integer"),e.integer=c;function u(p){return t.call(p)==="[object Number]"&&0<=p&&p<=2147483647}o(u,"uinteger"),e.uinteger=u;function f(p){return t.call(p)==="[object Function]"}o(f,"func"),e.func=f;function m(p){return p!==null&&typeof p=="object"}o(m,"objectLiteral"),e.objectLiteral=m;function h(p,A){return Array.isArray(p)&&p.every(A)}o(h,"typedArray"),e.typedArray=h})(Ye||(Ye={}));var oo=class{static{o(this,"LocationFactory")}static{this.range=Qo.create.bind(Qo)}static{this.position=p0.create.bind(p0)}};function LF(e,t,r){let n=e.offsetAt(t);for(let{range:i,newText:s}of r){let a=e.getText(i),l=e.offsetAt(i.end);e=e.applyEdits([{range:i,newText:s}]),!(n<e.offsetAt(i.start))&&(n<l&&(n=l),n+=s.length-a.length)}return{textDocument:e,position:e.positionAt(n)}}o(LF,"applyEditsWithPosition");var M0=class e{constructor(t,r,n,i=[]){this.uri=t;this._textDocument=r;this.detectedLanguageId=n;this.appliedEdits=i}static{o(this,"CopilotTextDocument")}static withChanges(t,r,n){let i=A5.create(t.clientUri,t.clientLanguageId,n,t.getText());return A5.update(i,r,n),new e(t.uri,i,t.detectedLanguageId)}applyEdits(t){let r=A5.create(this.clientUri,this.clientLanguageId,this.version,this.getText());return A5.update(r,t.map(n=>({text:n.newText,range:n.range})),this.version),new e(this.uri,r,this.detectedLanguageId,[...this.appliedEdits,...t])}static create(t,r,n,i,s=XCe({uri:t,clientLanguageId:r})){return new e(mm(t),A5.create(t,r,n,i),s)}get clientUri(){return this._textDocument.uri}get clientLanguageId(){return this._textDocument.languageId}get languageId(){return this.detectedLanguageId}get version(){return this._textDocument.version}get lineCount(){return this._textDocument.lineCount}getText(t){return this._textDocument.getText(t)}positionAt(t){return this._textDocument.positionAt(t)}offsetAt(t){return this._textDocument.offsetAt(t)}lineAt(t){let r=typeof t=="number"?t:t.line;if(r<0||r>=this.lineCount)throw new RangeError("Illegal value for lineNumber");let n=Qo.create(r,0,r+1,0),i=this.getText(n).replace(/\r\n$|\r$|\n$/g,""),s=Qo.create(p0.create(r,0),p0.create(r,i.length)),a=i.trim().length===0;return{text:i,range:s,isEmptyOrWhitespace:a}}};function MF(e,t){return ip.isEmptyBlockStart(e.languageId,e.getText(),e.offsetAt(t))}o(MF,"isEmptyBlockStart");var fCr=new Er("parseBlock");function AT(e,t,r,n){let i=t.getText(oo.range(oo.position(0,0),r))+(n?`
`:""),s=t.offsetAt(r)+(n?1:0),a=t.languageId;return l=>ip.isBlockBodyFinished(a,i,l,s)}o(AT,"parsingBlockFinished");async function nEe(e,t,r,n){let s=t.getText(oo.range(oo.position(0,0),r))+n,a=await ip.getNodeStart(t.languageId,s,t.offsetAt(r));if(a)return t.positionAt(a)}o(nEe,"getNodeStart");var Sst=["\\{","\\}","\\[","\\]","\\(","\\)"].concat(["then","else","elseif","elif","catch","finally","fi","done","end","loop","until","where","when"].map(e=>e+"\\b")),Bst=new RegExp(`^(${Sst.join("|")})`);function kst(e){return Bst.test(e.trimLeft().toLowerCase())}o(kst,"isContinuationLine");function QF(e){let t=/^(\s*)([^]*)$/.exec(e);if(t&&t[2]&&t[2].length>0)return t[1].length}o(QF,"indentationOfLine");function yT(e,t){let r=e.getText(),n=e.offsetAt(t);return hX(r,n,e.languageId)}o(yT,"contextIndentation");function hX(e,t,r){let n=e.slice(0,t).split(`
`),i=e.slice(t).split(`
`);function s(f,m,h){let p=m,A,E;for(;A===void 0&&p>=0&&p<f.length;)A=QF(f[p]),E=p,p+=h;if(r==="python"&&h===-1){p++;let x=f[p].trim();if(x.endsWith('"""')){if(!(x.startsWith('"""')&&x!=='"""'))for(p--;p>=0&&!f[p].trim().startsWith('"""');)p--;if(p>=0)for(A=void 0,p--;A===void 0&&p>=0;)A=QF(f[p]),E=p,p--}}return[A,E]}o(s,"seekNonBlank");let[a,l]=s(n,n.length-1,-1),c=(()=>{if(!(a===void 0||l===void 0))for(let f=l-1;f>=0;f--){let m=QF(n[f]);if(m!==void 0&&m<a)return m}})(),[u]=s(i,1,1);return{prev:c,current:a??0,next:u}}o(hX,"contextIndentationFromText");var Rst=!1;function Dst(e,t,r){let n=e.split(`
`),i=r!==void 0,s=r?.split(`
`).pop(),a=0;if(i&&s?.trim()!=""&&n[0].trim()!==""&&a++,!i&&Rst&&n[0].trim()===""&&a++,i||a++,n.length===a)return"continue";let l=Math.max(t.current,t.next??0);for(let c=a;c<n.length;c++){let u=n[c];c==0&&s!==void 0&&(u=s+u);let f=QF(u);if(f!==void 0&&(f<l||f===l&&!kst(u)))return n.slice(0,c).join(`
`).length}return"continue"}o(Dst,"completionCutOrContinue");function iEe(e,t){return async r=>{let n=Dst(r,e,t);return n==="continue"?void 0:n}}o(iEe,"indentationBlockFinished");d();d();d();var CT={isBlocked:!1,reason:"VALID_FILE"},OF={isBlocked:!1,reason:"NO_MATCHING_POLICY"},oEe={isBlocked:!0,reason:"POLICY_ERROR",message:"Copilot is disabled because we could not fetch the repository policy"},jC={all:"all",repo:"repo"},s1=new Er("contentExclusion");d();d();var UF=class{static{o(this,"PolicyEvaluator")}};d();d();d();var sEe=require("child_process");var Pst=new Er("repository"),Sb=class e{constructor(){this.data={}}static{o(this,"GitConfigData")}getKeys(){return Object.keys(this.data)}getEntries(){return Object.entries(this.data)}get(t){let r=this.getAll(t);return r?r[r.length-1]:void 0}getAll(t){return this.data[this.normalizeKey(t)]}add(t,r){t in this.data||(this.data[t]=[]),this.data[t].push(r)}getSectionValues(t,r){let n=`${t}.`.toLowerCase(),i=`.${r}`.toLowerCase();return Object.keys(this.data).filter(s=>s.startsWith(n)&&s.endsWith(i)).map(s=>s.slice(n.length,-i.length))}concat(t){return this.getEntries().concat(t.getEntries()).reduce((r,[n,i])=>(i.forEach(s=>r.add(n,s)),r),new e)}normalizeKey(t){let r=t.split(".");return r[0]=r[0].toLowerCase(),r[r.length-1]=r[r.length-1].toLowerCase(),r.join(".")}},op=class{static{o(this,"GitConfigLoader")}},qF=class extends op{static{o(this,"GitCLIConfigLoader")}runCommand(t,r,n){return new Promise((i,s)=>{(0,sEe.execFile)(r,n,{cwd:t},(a,l)=>{a?s(a):i(l)})})}async tryRunCommand(t,r,n,i){try{return await this.runCommand(r,n,i)}catch(s){Pst.info(t,`Failed to run command '${n}' in ${r}:`,s);return}}async getConfig(t,r){let n=al(r);if(n===void 0)return;let i=await this.tryRunCommand(t,n,"git",["-c","safe.directory=*","config","--list","--null",...this.extraArgs()]);return i?this.extractConfig(i):void 0}extractConfig(t){let r=new Sb;for(let n of t.split("\0").filter(i=>i)){let i=n.split(`
`,1)[0],s=n.slice(i.length+1);r.add(i,s)}return r}extraArgs(){return[]}},GF=class extends op{constructor(r){super();this.loaders=r}static{o(this,"GitFallbackConfigLoader")}async getConfig(r,n){for(let i of this.loaders){let s=await i.getConfig(r,n);if(s)return s}}};d();var aEe=require("os");var WF=class{constructor(t){this.url=t;this.isUrl()?this.parseUrl():this.tryParseSSHString()||(this._scheme="file")}static{o(this,"GitRemoteUrl")}get scheme(){return this._scheme}get authority(){return this._authority}get hostname(){return this._hostname}get path(){return this._path}isInvalid(){return this._error!==void 0}isRemote(){return this.scheme!=="file"&&this.hostname!==void 0}isGitHub(){return this.isRemote()&&/(?:^|\.)(?:github\.com|ghe\.com)$/i.test(this.hostname??"")}isADO(){return this.isRemote()&&/(?:^|\.)(?:visualstudio\.com|azure\.com)$/i.test(this.hostname??"")}getUrlForApi(){if(!this.isRemote())return null;if(this.isUrl()&&!this.isInvalid())return aC.from({scheme:this.scheme,authority:this.authority.replace(/^[^@]+@/,""),path:this.path}).toString();if(this.scheme=="ssh"&&this.isADO()){let t=this.url.indexOf(":");return this.url.substring(0,t+1)+this.path}return this.url}isUrl(){return/[A-Za-z0-9][A-Za-z0-9]+:\/\//.test(this.url)}parseUrl(){let t;try{t=aC.parse(this.url)}catch(r){this._error=r;return}this._scheme=t.scheme,this.setAuthority(t.authority),this.setPath(t.path)}setAuthority(t){this._authority=t;let r=t.replace(/^[^@]+@/,"").replace(/:\d*$/,"");r&&(this._hostname=r)}tryParseSSHString(){let t=/^(?<host>[^:/\\[]*(?:\[[^/\\\]]*\])?):/.exec(this.url);if(t&&((0,aEe.platform)()!=="win32"||(t.groups?.host?.length??0)>1)){let r=t.groups?.host??"";return this._scheme="ssh",this.setAuthority(r),this.setPath(this.url.substring(r.length+1)),!0}return!1}setPath(t){if(this.isADO())try{this._path=decodeURIComponent(t);return}catch{}this._path=t}};var HF=class{static{o(this,"GitRemoteResolver")}async resolveRemote(t,r){let n=await t.get(op).getConfig(t,r);if(!n)return;let i=this.getRemotes(n),s=i.filter(a=>a.url.isGitHub());if(s.length)return s.find(a=>a.name==="origin")?.url??s[0].url;if(i.length)return i.find(a=>a.name==="origin")?.url??i[0].url}getRemotes(t){let r=this.getInsteadOfRules(t);return t.getSectionValues("remote","url").map(n=>({name:n,url:new WF(this.applyInsteadOfRules(r,t.get(`remote.${n}.url`)??""))})).filter(n=>n.url.isRemote())}applyInsteadOfRules(t,r){for(let n of t)if(r.startsWith(n.insteadOf))return n.base+r.slice(n.insteadOf.length);return r}getInsteadOfRules(t){return t.getSectionValues("url","insteadof").map(r=>({base:r,insteadOf:t.get(`url.${r}.insteadof`)})).sort((r,n)=>n.base.length-r.base.length)}};var Nst=100,pX=class{constructor(t,r){this.baseFolder=t;this.remote=r;this.setNWO()}static{o(this,"GitRepository")}get tenant(){return this._tenant}get owner(){return this._owner}get name(){return this._name}get adoOrganization(){return this._adoOrganization}isGitHub(){return this.remote?.isGitHub()??!1}isADO(){return this.remote?.isADO()??!1}setNWO(){let t=this.remote?.path?.replace(/^\//,"").split("/");if(this.isGitHub()){this._owner=t?.[0],this._name=t?.[1]?.replace(/\.git$/,"");let r=/^(?<tenant>[^.]+)\.ghe\.com$/.exec(this.remote?.hostname??"");r&&(this._tenant=r.groups?.tenant)}else if(this.isADO()&&t?.length===4){if(this.remote?.scheme==="ssh"){this._adoOrganization=t?.[1],this._owner=t?.[2],this._name=t?.[3];return}let r=/(?:(?<org>[^.]+)\.)?visualstudio\.com$/.exec(this.remote?.hostname??"");r?(this._adoOrganization=r.groups?.org,this._owner=t?.[1],this._name=t?.[3]):(this._adoOrganization=t?.[0],this._owner=t?.[1],this._name=t?.[3])}}},a1=class e{constructor(t){this.ctx=t;this.remoteResolver=new HF;this.cache=new kn(Nst)}static{o(this,"RepositoryManager")}async getRepo(t){let r,n=[];do{if(this.cache.has(t.toString())){let s=this.cache.get(t.toString());return this.updateCache(n,s),s}n.push(t.toString());let i=await this.tryGetRepoForFolder(t);if(i)return this.updateCache(n,i),i;r=t,t=gu(t)}while(t!==r);this.updateCache(n,void 0)}updateCache(t,r){t.forEach(n=>this.cache.set(n,r))}async tryGetRepoForFolder(t){return await this.isBaseRepoFolder(t)?new pX(t.toString(),await this.repoUrl(t)):void 0}async isBaseRepoFolder(t){return await e.getRepoConfigLocation(this.ctx,t)!==void 0}async repoUrl(t){return await this.remoteResolver.resolveRemote(this.ctx,t)}static async getRepoConfigLocation(t,r){try{let n=t.get(Lo),i=Jo(r,".git");if((await n.stat(i)).type&1)return await this.getConfigLocationForGitfile(n,r,i);let a=Jo(i,"config");return await n.stat(a),a}catch{return}}static async getConfigLocationForGitfile(t,r,n){let s=(await t.readFileString(n)).match(/^gitdir:\s+(.+)$/m);if(!s)return;let a=lC(r,s[1]),l=Jo(a,"config");if(await this.tryStat(t,l)!==void 0)return l;let c=Jo(a,"config.worktree");if(await this.tryStat(t,c)!==void 0)return c;let u=Jo(a,"commondir");a=lC(a,(await t.readFileString(u)).trimEnd());let f=Jo(a,"config");return await t.stat(f),f}static async tryStat(t,r){try{return await t.stat(r)}catch{return}}};d();var lEe=o((e,t)=>{if(X2.Check(e,t))return t;let r=`Typebox schema validation failed:
${[...X2.Errors(e,t)].map(n=>`${n.path} ${n.message}`).join(`
`)}`;throw new Error(r)},"assertShape");d();d();d();var VF=new WeakMap;function jF(e,t){if(e==null||typeof e!="object")return String(e);let r,n="",i=0,s=Object.prototype.toString.call(e);if(s!=="[object RegExp]"&&s!=="[object Date]"&&VF.has(e))return VF.get(e);switch(VF.set(e,"~"+ ++t),s){case"[object Set]":r=Array.from(e);case"[object Array]":for(r||(r=e),n+="a";i<r.length;n+=jF(r[i++],t));break;case"[object Object]":for(n+="o",r=Object.keys(e).sort();i<r.length;n+=r[i]+jF(e[r[i++]],t));break;case"[object Map]":for(n+="o",r=Array.from(e.keys()).sort();i<r.length;n+=r[i]+jF(e.get(r[i++]),t));break;case"[object Date]":return"d"+ +e;case"[object RegExp]":return"r"+e.source+e.flags;default:throw new Error(`Unsupported value ${e}`)}return VF.set(e,n),n}o(jF,"t");function $F(e){return jF(e,0)}o($F,"r");var gX=new WeakMap;function cEe(e,t,r=$F(t)){let n,i,s=gX.get(e);s||(gX.set(e,s=[[],i=[],n=[]]),queueMicrotask(function(){let u,f=0;function m(h){for(;u=n[f++];u.r(h));}o(m,"o"),gX.delete(e),e(i).then(function(h){if(h.length!==n.length)return m(new Error("loader value length mismatch"));for(;u=h[f++],f<=h.length;u instanceof Error?n[f-1].r(u):n[f-1].s(u));},m)}));let a=s[0].indexOf(r);if(~a)return s[2][a].p;let l=s[0].push(r)-1,c=s[2][l]={};return s[1][l]=t,c.p=new Promise(function(u,f){c.s=u,c.r=f})}o(cEe,"n");var uEe=new WeakMap;function Fst(e,t,r,n=$F(r)){if(t||(t=uEe.get(e)),t||uEe.set(e,t=new Map),t.has(n))return Promise.resolve(t.get(n));let i=cEe(e,r,n);return t.set(n,i),i.catch(()=>t.delete(n)),i}o(Fst,"n");function fEe(e,t){return function(r,n){return Fst(e,t,r,n)}}o(fEe,"o");d();var DEe=ft(IEe(),1);d();var xT=o(e=>{if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},"assertValidPattern");d();d();var Wst={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},vT=o(e=>e.replace(/[[\]\\-]/g,"\\$&"),"braceEscape"),Hst=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regexpEscape"),TEe=o(e=>e.join(""),"rangesToString"),wEe=o((e,t)=>{let r=t;if(e.charAt(r)!=="[")throw new Error("not in a brace expression");let n=[],i=[],s=r+1,a=!1,l=!1,c=!1,u=!1,f=r,m="";e:for(;s<e.length;){let E=e.charAt(s);if((E==="!"||E==="^")&&s===r+1){u=!0,s++;continue}if(E==="]"&&a&&!c){f=s+1;break}if(a=!0,E==="\\"&&!c){c=!0,s++;continue}if(E==="["&&!c){for(let[x,[b,v,S]]of Object.entries(Wst))if(e.startsWith(x,s)){if(m)return["$.",!1,e.length-r,!0];s+=x.length,S?i.push(b):n.push(b),l=l||v;continue e}}if(c=!1,m){E>m?n.push(vT(m)+"-"+vT(E)):E===m&&n.push(vT(E)),m="",s++;continue}if(e.startsWith("-]",s+1)){n.push(vT(E+"-")),s+=2;continue}if(e.startsWith("-",s+1)){m=E,s+=2;continue}n.push(vT(E)),s++}if(f<s)return["",!1,0,!1];if(!n.length&&!i.length)return["$.",!1,e.length-r,!0];if(i.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!u){let E=n[0].length===2?n[0].slice(-1):n[0];return[Hst(E),!1,f-r,!1]}let h="["+(u?"^":"")+TEe(n)+"]",p="["+(u?"":"^")+TEe(i)+"]";return[n.length&&i.length?"("+h+"|"+p+")":n.length?h:p,l,f-r,!0]},"parseClass");d();var y5=o((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),"unescape");var Vst=new Set(["!","?","+","*","@"]),_Ee=o(e=>Vst.has(e),"isExtglobType"),jst="(?!(?:^|/)\\.\\.?(?:$|/))",zF="(?!\\.)",$st=new Set(["[","."]),zst=new Set(["..","."]),Yst=new Set("().*{}+?[]^$\\!"),Kst=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),CX="[^/]",SEe=CX+"*?",BEe=CX+"+?",Bb=class e{static{o(this,"AST")}type;#e;#t;#i=!1;#n=[];#r;#o;#s;#a=!1;#l;#c;#f=!1;constructor(t,r,n={}){this.type=t,t&&(this.#t=!0),this.#r=r,this.#e=this.#r?this.#r.#e:this,this.#l=this.#e===this?n:this.#e.#l,this.#s=this.#e===this?[]:this.#e.#s,t==="!"&&!this.#e.#a&&this.#s.push(this),this.#o=this.#r?this.#r.#n.length:0}get hasMagic(){if(this.#t!==void 0)return this.#t;for(let t of this.#n)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#t=!0;return this.#t}toString(){return this.#c!==void 0?this.#c:this.type?this.#c=this.type+"("+this.#n.map(t=>String(t)).join("|")+")":this.#c=this.#n.map(t=>String(t)).join("")}#m(){if(this!==this.#e)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let t;for(;t=this.#s.pop();){if(t.type!=="!")continue;let r=t,n=r.#r;for(;n;){for(let i=r.#o+1;!n.type&&i<n.#n.length;i++)for(let s of t.#n){if(typeof s=="string")throw new Error("string part in extglob AST??");s.copyIn(n.#n[i])}r=n,n=r.#r}}return this}push(...t){for(let r of t)if(r!==""){if(typeof r!="string"&&!(r instanceof e&&r.#r===this))throw new Error("invalid part: "+r);this.#n.push(r)}}toJSON(){let t=this.type===null?this.#n.slice().map(r=>typeof r=="string"?r:r.toJSON()):[this.type,...this.#n.map(r=>r.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#e||this.#e.#a&&this.#r?.type==="!")&&t.push({}),t}isStart(){if(this.#e===this)return!0;if(!this.#r?.isStart())return!1;if(this.#o===0)return!0;let t=this.#r;for(let r=0;r<this.#o;r++){let n=t.#n[r];if(!(n instanceof e&&n.type==="!"))return!1}return!0}isEnd(){if(this.#e===this||this.#r?.type==="!")return!0;if(!this.#r?.isEnd())return!1;if(!this.type)return this.#r?.isEnd();let t=this.#r?this.#r.#n.length:0;return this.#o===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){let r=new e(this.type,t);for(let n of this.#n)r.copyIn(n);return r}static#u(t,r,n,i){let s=!1,a=!1,l=-1,c=!1;if(r.type===null){let p=n,A="";for(;p<t.length;){let E=t.charAt(p++);if(s||E==="\\"){s=!s,A+=E;continue}if(a){p===l+1?(E==="^"||E==="!")&&(c=!0):E==="]"&&!(p===l+2&&c)&&(a=!1),A+=E;continue}else if(E==="["){a=!0,l=p,c=!1,A+=E;continue}if(!i.noext&&_Ee(E)&&t.charAt(p)==="("){r.push(A),A="";let x=new e(E,r);p=e.#u(t,x,p,i),r.push(x);continue}A+=E}return r.push(A),p}let u=n+1,f=new e(null,r),m=[],h="";for(;u<t.length;){let p=t.charAt(u++);if(s||p==="\\"){s=!s,h+=p;continue}if(a){u===l+1?(p==="^"||p==="!")&&(c=!0):p==="]"&&!(u===l+2&&c)&&(a=!1),h+=p;continue}else if(p==="["){a=!0,l=u,c=!1,h+=p;continue}if(_Ee(p)&&t.charAt(u)==="("){f.push(h),h="";let A=new e(p,f);f.push(A),u=e.#u(t,A,u,i);continue}if(p==="|"){f.push(h),h="",m.push(f),f=new e(null,r);continue}if(p===")")return h===""&&r.#n.length===0&&(r.#f=!0),f.push(h),h="",r.push(...m,f),u;h+=p}return r.type=null,r.#t=void 0,r.#n=[t.substring(n-1)],u}static fromGlob(t,r={}){let n=new e(null,void 0,r);return e.#u(t,n,0,r),n}toMMPattern(){if(this!==this.#e)return this.#e.toMMPattern();let t=this.toString(),[r,n,i,s]=this.toRegExpSource();if(!(i||this.#t||this.#l.nocase&&!this.#l.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return n;let l=(this.#l.nocase?"i":"")+(s?"u":"");return Object.assign(new RegExp(`^${r}$`,l),{_src:r,_glob:t})}get options(){return this.#l}toRegExpSource(t){let r=t??!!this.#l.dot;if(this.#e===this&&this.#m(),!this.type){let c=this.isStart()&&this.isEnd(),u=this.#n.map(p=>{let[A,E,x,b]=typeof p=="string"?e.#h(p,this.#t,c):p.toRegExpSource(t);return this.#t=this.#t||x,this.#i=this.#i||b,A}).join(""),f="";if(this.isStart()&&typeof this.#n[0]=="string"&&!(this.#n.length===1&&zst.has(this.#n[0]))){let A=$st,E=r&&A.has(u.charAt(0))||u.startsWith("\\.")&&A.has(u.charAt(2))||u.startsWith("\\.\\.")&&A.has(u.charAt(4)),x=!r&&!t&&A.has(u.charAt(0));f=E?jst:x?zF:""}let m="";return this.isEnd()&&this.#e.#a&&this.#r?.type==="!"&&(m="(?:$|\\/)"),[f+u+m,y5(u),this.#t=!!this.#t,this.#i]}let n=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:",s=this.#d(r);if(this.isStart()&&this.isEnd()&&!s&&this.type!=="!"){let c=this.toString();return this.#n=[c],this.type=null,this.#t=void 0,[c,y5(this.toString()),!1,!1]}let a=!n||t||r||!zF?"":this.#d(!0);a===s&&(a=""),a&&(s=`(?:${s})(?:${a})*?`);let l="";if(this.type==="!"&&this.#f)l=(this.isStart()&&!r?zF:"")+BEe;else{let c=this.type==="!"?"))"+(this.isStart()&&!r&&!t?zF:"")+SEe+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&a?")":this.type==="*"&&a?")?":`)${this.type}`;l=i+s+c}return[l,y5(s),this.#t=!!this.#t,this.#i]}#d(t){return this.#n.map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[n,i,s,a]=r.toRegExpSource(t);return this.#i=this.#i||a,n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")}static#h(t,r,n=!1){let i=!1,s="",a=!1;for(let l=0;l<t.length;l++){let c=t.charAt(l);if(i){i=!1,s+=(Yst.has(c)?"\\":"")+c;continue}if(c==="\\"){l===t.length-1?s+="\\\\":i=!0;continue}if(c==="["){let[u,f,m,h]=wEe(t,l);if(m){s+=u,a=a||f,l+=m-1,r=r||h;continue}}if(c==="*"){n&&t==="*"?s+=BEe:s+=SEe,r=!0;continue}if(c==="?"){s+=CX,r=!0;continue}s+=Kst(c)}return[s,y5(t),!!r,a]}};d();var EX=o((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&"),"escape");var na=o((e,t,r={})=>(xT(t),!r.nocomment&&t.charAt(0)==="#"?!1:new kb(t,r).match(e)),"minimatch"),Jst=/^\*+([^+@!?\*\[\(]*)$/,Xst=o(e=>t=>!t.startsWith(".")&&t.endsWith(e),"starDotExtTest"),Zst=o(e=>t=>t.endsWith(e),"starDotExtTestDot"),eat=o(e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),"starDotExtTestNocase"),tat=o(e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),"starDotExtTestNocaseDot"),rat=/^\*+\.\*+$/,nat=o(e=>!e.startsWith(".")&&e.includes("."),"starDotStarTest"),iat=o(e=>e!=="."&&e!==".."&&e.includes("."),"starDotStarTestDot"),oat=/^\.\*+$/,sat=o(e=>e!=="."&&e!==".."&&e.startsWith("."),"dotStarTest"),aat=/^\*+$/,lat=o(e=>e.length!==0&&!e.startsWith("."),"starTest"),cat=o(e=>e.length!==0&&e!=="."&&e!=="..","starTestDot"),uat=/^\?+([^+@!?\*\[\(]*)?$/,fat=o(([e,t=""])=>{let r=PEe([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocase"),dat=o(([e,t=""])=>{let r=NEe([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocaseDot"),mat=o(([e,t=""])=>{let r=NEe([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTestDot"),hat=o(([e,t=""])=>{let r=PEe([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTest"),PEe=o(([e])=>{let t=e.length;return r=>r.length===t&&!r.startsWith(".")},"qmarksTestNoExt"),NEe=o(([e])=>{let t=e.length;return r=>r.length===t&&r!=="."&&r!==".."},"qmarksTestNoExtDot"),FEe=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",kEe={win32:{sep:"\\"},posix:{sep:"/"}},pat=FEe==="win32"?kEe.win32.sep:kEe.posix.sep;na.sep=pat;var ed=Symbol("globstar **");na.GLOBSTAR=ed;var gat="[^/]",Aat=gat+"*?",yat="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Cat="(?:(?!(?:\\/|^)\\.).)*?",Eat=o((e,t={})=>r=>na(r,e,t),"filter");na.filter=Eat;var Zf=o((e,t={})=>Object.assign({},e,t),"ext"),xat=o(e=>{if(!e||typeof e!="object"||!Object.keys(e).length)return na;let t=na;return Object.assign(o((n,i,s={})=>t(n,i,Zf(e,s)),"m"),{Minimatch:class extends t.Minimatch{static{o(this,"Minimatch")}constructor(i,s={}){super(i,Zf(e,s))}static defaults(i){return t.defaults(Zf(e,i)).Minimatch}},AST:class extends t.AST{static{o(this,"AST")}constructor(i,s,a={}){super(i,s,Zf(e,a))}static fromGlob(i,s={}){return t.AST.fromGlob(i,Zf(e,s))}},unescape:o((n,i={})=>t.unescape(n,Zf(e,i)),"unescape"),escape:o((n,i={})=>t.escape(n,Zf(e,i)),"escape"),filter:o((n,i={})=>t.filter(n,Zf(e,i)),"filter"),defaults:o(n=>t.defaults(Zf(e,n)),"defaults"),makeRe:o((n,i={})=>t.makeRe(n,Zf(e,i)),"makeRe"),braceExpand:o((n,i={})=>t.braceExpand(n,Zf(e,i)),"braceExpand"),match:o((n,i,s={})=>t.match(n,i,Zf(e,s)),"match"),sep:t.sep,GLOBSTAR:ed})},"defaults");na.defaults=xat;var LEe=o((e,t={})=>(xT(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:(0,DEe.default)(e)),"braceExpand");na.braceExpand=LEe;var vat=o((e,t={})=>new kb(e,t).makeRe(),"makeRe");na.makeRe=vat;var bat=o((e,t,r={})=>{let n=new kb(t,r);return e=e.filter(i=>n.match(i)),n.options.nonull&&!e.length&&e.push(t),e},"match");na.match=bat;var REe=/[?*]|[+@!]\(.*?\)|\[|\]/,Iat=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),kb=class{static{o(this,"Minimatch")}options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t,r={}){xT(t),r=r||{},this.options=r,this.pattern=t,this.platform=r.platform||FEe,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let t of this.set)for(let r of t)if(typeof r!="string")return!0;return!1}debug(...t){}make(){let t=this.pattern,r=this.options;if(!r.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...s)=>console.error(...s)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(s=>this.slashSplit(s));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let i=this.globParts.map((s,a,l)=>{if(this.isWindows&&this.windowsNoMagicRoot){let c=s[0]===""&&s[1]===""&&(s[2]==="?"||!REe.test(s[2]))&&!REe.test(s[3]),u=/^[a-z]:/i.test(s[0]);if(c)return[...s.slice(0,4),...s.slice(4).map(f=>this.parse(f))];if(u)return[s[0],...s.slice(1).map(f=>this.parse(f))]}return s.map(c=>this.parse(c))});if(this.debug(this.pattern,i),this.set=i.filter(s=>s.indexOf(!1)===-1),this.isWindows)for(let s=0;s<this.set.length;s++){let a=this.set[s];a[0]===""&&a[1]===""&&this.globParts[s][2]==="?"&&typeof a[3]=="string"&&/^[a-z]:$/i.test(a[3])&&(a[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let n=0;n<t.length;n++)for(let i=0;i<t[n].length;i++)t[n][i]==="**"&&(t[n][i]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):r>=1?t=this.levelOneOptimize(t):t=this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let i=n;for(;r[i+1]==="**";)i++;i!==n&&r.splice(n,i-n)}return r})}levelOneOptimize(t){return t.map(r=>(r=r.reduce((n,i)=>{let s=n[n.length-1];return i==="**"&&s==="**"?n:i===".."&&s&&s!==".."&&s!=="."&&s!=="**"?(n.pop(),n):(n.push(i),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let i=1;i<t.length-1;i++){let s=t[i];i===1&&s===""&&t[0]===""||(s==="."||s==="")&&(r=!0,t.splice(i,1),i--)}t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")&&(r=!0,t.pop())}let n=0;for(;(n=t.indexOf("..",n+1))!==-1;){let i=t[n-1];i&&i!=="."&&i!==".."&&i!=="**"&&(r=!0,t.splice(n-1,2),n-=2)}}while(r);return t.length===0?[""]:t}firstPhasePreProcess(t){let r=!1;do{r=!1;for(let n of t){let i=-1;for(;(i=n.indexOf("**",i+1))!==-1;){let a=i;for(;n[a+1]==="**";)a++;a>i&&n.splice(i+1,a-i);let l=n[i+1],c=n[i+2],u=n[i+3];if(l!==".."||!c||c==="."||c===".."||!u||u==="."||u==="..")continue;r=!0,n.splice(i,1);let f=n.slice(0);f[i]="**",t.push(f),i--}if(!this.preserveMultipleSlashes){for(let a=1;a<n.length-1;a++){let l=n[a];a===1&&l===""&&n[0]===""||(l==="."||l==="")&&(r=!0,n.splice(a,1),a--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let s=0;for(;(s=n.indexOf("..",s+1))!==-1;){let a=n[s-1];if(a&&a!=="."&&a!==".."&&a!=="**"){r=!0;let c=s===1&&n[s+1]==="**"?["."]:[];n.splice(s-1,2,...c),n.length===0&&n.push(""),s-=2}}}}while(r);return t}secondPhasePreProcess(t){for(let r=0;r<t.length-1;r++)for(let n=r+1;n<t.length;n++){let i=this.partsMatch(t[r],t[n],!this.preserveMultipleSlashes);if(i){t[r]=[],t[n]=i;break}}return t.filter(r=>r.length)}partsMatch(t,r,n=!1){let i=0,s=0,a=[],l="";for(;i<t.length&&s<r.length;)if(t[i]===r[s])a.push(l==="b"?r[s]:t[i]),i++,s++;else if(n&&t[i]==="**"&&r[s]===t[i+1])a.push(t[i]),i++;else if(n&&r[s]==="**"&&t[i]===r[s+1])a.push(r[s]),s++;else if(t[i]==="*"&&r[s]&&(this.options.dot||!r[s].startsWith("."))&&r[s]!=="**"){if(l==="b")return!1;l="a",a.push(t[i]),i++,s++}else if(r[s]==="*"&&t[i]&&(this.options.dot||!t[i].startsWith("."))&&t[i]!=="**"){if(l==="a")return!1;l="b",a.push(r[s]),i++,s++}else return!1;return t.length===r.length&&a}parseNegate(){if(this.nonegate)return;let t=this.pattern,r=!1,n=0;for(let i=0;i<t.length&&t.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=t.slice(n)),this.negate=r}matchOne(t,r,n=!1){let i=this.options;if(this.isWindows){let E=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),x=!E&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),b=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),v=!b&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),S=x?3:E?0:void 0,k=v?3:b?0:void 0;if(typeof S=="number"&&typeof k=="number"){let[P,N]=[t[S],r[k]];P.toLowerCase()===N.toLowerCase()&&(r[k]=P,k>S?r=r.slice(k):S>k&&(t=t.slice(S)))}}let{optimizationLevel:s=1}=this.options;s>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:r}),this.debug("matchOne",t.length,r.length);for(var a=0,l=0,c=t.length,u=r.length;a<c&&l<u;a++,l++){this.debug("matchOne loop");var f=r[l],m=t[a];if(this.debug(r,f,m),f===!1)return!1;if(f===ed){this.debug("GLOBSTAR",[r,f,m]);var h=a,p=l+1;if(p===u){for(this.debug("** at the end");a<c;a++)if(t[a]==="."||t[a]===".."||!i.dot&&t[a].charAt(0)===".")return!1;return!0}for(;h<c;){var A=t[h];if(this.debug(`
globstar while`,t,h,r,p,A),this.matchOne(t.slice(h),r.slice(p),n))return this.debug("globstar found match!",h,c,A),!0;if(A==="."||A===".."||!i.dot&&A.charAt(0)==="."){this.debug("dot detected!",t,h,r,p);break}this.debug("globstar swallow a segment, and continue"),h++}return!!(n&&(this.debug(`
>>> no match, partial?`,t,h,r,p),h===c))}let E;if(typeof f=="string"?(E=m===f,this.debug("string match",f,m,E)):(E=f.test(m),this.debug("pattern match",f,m,E)),!E)return!1}if(a===c&&l===u)return!0;if(a===c)return n;if(l===u)return a===c-1&&t[a]==="";throw new Error("wtf?")}braceExpand(){return LEe(this.pattern,this.options)}parse(t){xT(t);let r=this.options;if(t==="**")return ed;if(t==="")return"";let n,i=null;(n=t.match(aat))?i=r.dot?cat:lat:(n=t.match(Jst))?i=(r.nocase?r.dot?tat:eat:r.dot?Zst:Xst)(n[1]):(n=t.match(uat))?i=(r.nocase?r.dot?dat:fat:r.dot?mat:hat)(n):(n=t.match(rat))?i=r.dot?iat:nat:(n=t.match(oat))&&(i=sat);let s=Bb.fromGlob(t,this.options).toMMPattern();return i&&typeof s=="object"&&Reflect.defineProperty(s,"test",{value:i}),s}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?Aat:r.dot?yat:Cat,i=new Set(r.nocase?["i"]:[]),s=t.map(c=>{let u=c.map(f=>{if(f instanceof RegExp)for(let m of f.flags.split(""))i.add(m);return typeof f=="string"?Iat(f):f===ed?ed:f._src});return u.forEach((f,m)=>{let h=u[m+1],p=u[m-1];f!==ed||p===ed||(p===void 0?h!==void 0&&h!==ed?u[m+1]="(?:\\/|"+n+"\\/)?"+h:u[m]=n:h===void 0?u[m-1]=p+"(?:\\/|"+n+")?":h!==ed&&(u[m-1]=p+"(?:\\/|\\/"+n+"\\/)"+h,u[m+1]=ed))}),u.filter(f=>f!==ed).join("/")}).join("|"),[a,l]=t.length>1?["(?:",")"]:["",""];s="^"+a+s+l+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,r=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;let n=this.options;this.isWindows&&(t=t.split("\\").join("/"));let i=this.slashSplit(t);this.debug(this.pattern,"split",i);let s=this.set;this.debug(this.pattern,"set",s);let a=i[i.length-1];if(!a)for(let l=i.length-2;!a&&l>=0;l--)a=i[l];for(let l=0;l<s.length;l++){let c=s[l],u=i;if(n.matchBase&&c.length===1&&(u=[a]),this.matchOne(u,c,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(t){return na.defaults(t).Minimatch}};na.AST=Bb;na.Minimatch=kb;na.escape=EX;na.unescape=y5;var xX="contentExclusion",YF=class extends UF{static{o(this,"CopilotContentExclusion")}#e;#t=new kn(1e4);#i=new kn(200);constructor(t){super(),this.#e=t}async evaluate(t,r){try{t=lC(t).toString();let n=await this.getGitRepo(t),i=await this.#n(n?.url??jC.all);if(!i)return OF;let s=n?.baseFolder??"file://",a=await this.evaluateFilePathRules(t,s,i);if(a.isBlocked)return a;let l=await this.evaluateTextBasedRules(t,i,r);if(l.isBlocked)return l}catch(n){return s1.exception(this.#e,n,`${xX}.evaluate`),oEe}return CT}async evaluateFilePathRules(t,r,n){let i=t;if(this.#t.has(i))return this.#t.get(i);let s=CT,a,l=iY(t.replace(r,""));e:for(let c of n)for(let u of c.paths)if(na(l,u,{nocase:!0,matchBase:!0,nonegate:!0,dot:!0})){s=vX(c,"FILE_BLOCKED_PATH"),a=u;break e}return s1.debug(this.#e,`Evaluated path-based exclusion rules for <${t}>`,{result:s,baseUri:r,fileName:l,matchingPattern:a}),this.#t.set(i,s),s}async evaluateTextBasedRules(t,r,n){let i=r.filter(l=>l.ifAnyMatch),s=r.filter(l=>l.ifNoneMatch);if(!n||i.length===0&&s.length===0)return CT;let a=await this.evaluateFileContent(i,s,n);return s1.debug(this.#e,`Evaluated text-based exclusion rules for <${t}>`,{result:a}),a}async evaluateFileContent(t,r,n){for(let i of t)if(i.ifAnyMatch&&i.ifAnyMatch.length>0&&i.ifAnyMatch.map(a=>QEe(a)).some(a=>a.test(n)))return vX(i,"FILE_BLOCKED_TEXT_BASED");for(let i of r)if(i.ifNoneMatch&&i.ifNoneMatch.length>0&&!i.ifNoneMatch.map(a=>QEe(a)).some(a=>a.test(n)))return vX(i,"FILE_BLOCKED_TEXT_BASED");return CT}async refresh(){try{let t=[...this.#i.keys()];this.reset(),await Promise.all(t.map(r=>this.#o(r)))}catch(t){Fo(this.#e,t,`${xX}.refresh`)}}reset(){this.#i.clear(),this.#t.clear()}async#n(t){if(this.#r?.length)return this.#r;let r=await this.#o(t.toLowerCase());if(r.length!==0)return r}#r;setTestingRules(t){this.#r=t}#o=fEe(async t=>{let r=await this.#e.get(jr).getGitHubSession();if(!r)throw new Fs("No token found");let n=this.#e.get(Rn).getContentRestrictionsUrl(r),i=new URL(n),s=t.includes(jC.all);t.filter(u=>u!==jC.all).length>0&&i.searchParams.set("repos",t.filter(u=>u!==jC.all).join(",")),i.searchParams.set("scope",s?jC.all:jC.repo);let l=await this.#e.get(Nr).fetch(i.href,{method:"GET",headers:{Authorization:`token ${r.token}`}}),c=await l.json();if(!l.ok){if(l.status===404)return Array.from(t,()=>[]);throw this.#s("fetch.error",{message:c.message}),new H3(l)}return this.#s("fetch.success"),lEe(Sat,c).map(u=>u.rules)},this.#i);async getGitRepo(t){let n=await this.#e.get(a1).getRepo(gu(t));if(!n||!n?.remote)return;let i=n.remote.getUrlForApi();if(i)return{baseFolder:n.baseFolder,url:i}}#s(t,r,n){Xt(this.#e,`${xX}.${t}`,rn.createAndMarkAsIssued(r,n))}};function QEe(e){if(!e.startsWith("/")&&!e.endsWith("/"))return new RegExp(e);let t=e.slice(1,e.lastIndexOf("/")),r=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,r)}o(QEe,"stringToRegex");function vX(e,t){return{isBlocked:!0,message:`Your ${e.source.type.toLowerCase()} '${e.source.name}' has disabled Copilot for this file`,reason:t}}o(vX,"fileBlockedEvaluationResult");var Tat=T.Object({name:T.String(),type:T.String()}),wat=T.Object({paths:T.Array(T.String()),ifNoneMatch:T.Optional(T.Array(T.String())),ifAnyMatch:T.Optional(T.Array(T.String())),source:Tat}),bX=T.Array(wat),_at=T.Object({rules:bX,last_updated_at:T.String(),scope:T.String()}),Sat=T.Array(_at);d();d();async function KF(e,t){let r=await e.get(Sa).evaluate(t.uri,t.getText());return r.isBlocked?{status:"invalid",reason:r.message??"Document is blocked by repository policy"}:{status:"valid",document:t}}o(KF,"isDocumentValid");var Wr=class{constructor(t){this.ctx=t}static{o(this,"TextDocumentManager")}async textDocuments(){let t=this.getOpenTextDocuments(),r=[];for(let n of t)(await KF(this.ctx,n)).status==="valid"&&r.push(n);return r}getOpenTextDocument(t){let r=mm(t.uri);return this.getOpenTextDocuments().find(n=>n.uri==r)}async getTextDocument(t){return this.getTextDocumentWithValidation(t).then(r=>{if(r.status==="valid")return r.document})}validateTextDocument(t,r){return t?KF(this.ctx,t).catch(()=>this.notFoundResult(r)):this.notFoundResult(r)}async getTextDocumentWithValidation(t){try{let r=this.getOpenTextDocument(t);return!r&&(r=await this.openTextDocument(t.uri),!r)?await this.notFoundResult(t.uri):KF(this.ctx,r)}catch{return await this.notFoundResult(t.uri)}}getOpenTextDocumentWithValidation(t){let r=this.getOpenTextDocument(t);if(r){let n;return{then:o((i,s)=>(n??=this.validateTextDocument(r,t.uri),n.then(i,s)),"then")}}else return this.notFoundResult(t.uri)}async notFoundResult(t){let r=(await this.textDocuments()).map(n=>n.uri).join(", ");return{status:"notfound",message:`Document for URI could not be found: ${t}, URIs of the known document are: ${r}`}}async openTextDocument(t){try{if((await this.ctx.get(Lo).stat(t)).size>5*1024*1024)return}catch{return}let r=await this.ctx.get(Lo).readFileString(t);return M0.create(t,"UNKNOWN",0,r)}async getWorkspaceFolder(t){return this.getWorkspaceFolders().find(r=>t.clientUri.startsWith(r.uri))}getRelativePath(t){if(!t.uri.startsWith("untitled:")){for(let r of this.getWorkspaceFolders()){let n=r.uri.replace(/[#?].*/,"").replace(/\/?$/,"/");if(t.clientUri.startsWith(n))return t.clientUri.slice(n.length)}return ea(t.uri)}}};var Sa=class{constructor(t){this.ctx=t;this.#e=!1;this.#t=new YF(this.ctx);this.evaluateResultCache=new Map;this.onDidChangeActiveTextEditor=o(async t=>{if(!this.#e)return;if(!t){this.updateStatusIcon(!1);return}let r=await this.ctx.get(Wr).getTextDocumentWithValidation(t.document),n=r.status==="invalid",i=r.status==="invalid"?r.reason:void 0;this.updateStatusIcon(n,i)},"onDidChangeActiveTextEditor");this.ctx.get(Wr).onDidFocusTextDocument(this.onDidChangeActiveTextEditor),Ha(this.ctx,r=>{this.#e=r.envelope.copilotignore_enabled??!1,this.evaluateResultCache.clear(),this.#t.refresh()})}static{o(this,"CopilotContentExclusionManager")}#e;#t;get enabled(){return this.#e}async evaluate(t,r,n){let i=QD(t);if(i||s1.debug(this.ctx,`Unsupported file URI <${t}>`),!this.#e||!i)return{isBlocked:!1};let s=[],a=o(async(u,f)=>{let m=Date.now(),h=await f.evaluate(t,r),p=Date.now();return s.push({key:u,result:h,elapsedMs:p-m}),h},"track"),c=(await Promise.all([a("contentExclusion.evaluate",this.#t)])).find(u=>u?.isBlocked)??{isBlocked:!1};try{for(let u of s)this.#i(u.key,t,u.result,u.elapsedMs)}catch(u){s1.error(this.ctx,"Error tracking telemetry",u)}return n==="UPDATE"&&this.updateStatusIcon(c.isBlocked,c.message),c}updateStatusIcon(t,r){this.#e&&(t?this.ctx.get(Yi).setInactive(r??"Copilot is disabled"):this.ctx.get(Yi).clearInactive())}#i(t,r,n,i){let s=r+t;if(this.evaluateResultCache.get(s)===n.reason)return!1;if(this.evaluateResultCache.set(s,n.reason??"UNKNOWN"),n.reason===OF.reason)return s1.debug(this.ctx,`[${t}] No matching policy for this repository. uri: ${r}`),!1;let l={isBlocked:n.isBlocked?"true":"false",reason:n.reason??"UNKNOWN"},c={elapsedMs:i};return Xt(this.ctx,t,rn.createAndMarkAsIssued(l,c)),Xt(this.ctx,t,rn.createAndMarkAsIssued({...l,path:r},c),1),s1.debug(this.ctx,`[${t}] ${r}`,n),!0}setTestingRules(t){this.#t.setTestingRules(t)}set __contentExclusions(t){this.#t=t}get __contentExclusions(){return this.#t}};d();d();function MEe(e,t){return{...nb,useSubsetMatching:IX(e,t)}}o(MEe,"getCppSimilarFilesOptions");function OEe(e){return nb.maxTopSnippets}o(OEe,"getCppNumberOfSnippets");var Bat=new Map([["cpp",MEe]]);function JF(e,t,r){let n=Bat.get(r);return n?n(e,t):{...XP,useSubsetMatching:IX(e,t)}}o(JF,"getSimilarFilesOptions");var kat=new Map([["cpp",OEe]]);function UEe(e,t){let r=kat.get(t);return r?r(e):bK}o(UEe,"getNumberOfSnippets");function IX(e,t){return(t.filtersAndExp.exp.variables.copilotsubsetmatching||ai(e,qt.UseSubsetMatching))??!1}o(IX,"useSubsetMatching");d();d();var Rat=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function Dat(e){return Rat.has(e.code??"")||e.name==="RangeError"&&e.message==="WebAssembly.Memory(): could not allocate memory"}o(Dat,"isOomError");function XF(e,t,r,n=ei){if(!ou(t)){if(t instanceof Error){let i=t;Dat(i)?e.get(Yi).setWarning("Out of memory"):i.code==="EMFILE"||i.code==="ENFILE"?e.get(Yi).setWarning("Too many open files"):i.code==="CopilotPromptLoadFailure"?e.get(Yi).setWarning("Corrupted Copilot installation"):`${i.code}`.startsWith("CopilotPromptWorkerExit")?e.get(Yi).setWarning("Worker unexpectedly exited"):i.syscall==="uv_cwd"&&i.code==="ENOENT"&&e.get(Yi).setWarning("Current working directory does not exist")}n.exception(e,t,r)}}o(XF,"handleException");function qEe(e){process.addListener("uncaughtException",r=>{XF(e,r,"uncaughtException")});let t=!1;process.addListener("unhandledRejection",r=>{if(!t)try{t=!0,XF(e,r,"unhandledRejection")}finally{t=!1}})}o(qEe,"registerDefaultHandlers");d();d();d();var Ba=class{constructor(){this._prompt_lib_expectations=new Map;this._prompt_components_expectations=new Map;this._lastResolution=new Map;this._statistics=new Map}static{o(this,"ContextProviderStatistics")}addPromptLibExpectations(t,r){let n=this._prompt_lib_expectations.get(t)??[];this._prompt_lib_expectations.set(t,[...n,...r])}addPromptComponentsExpectations(t,r){let n=this._prompt_components_expectations.get(t)??[];this._prompt_components_expectations.set(t,[...n,...r])}clearExpectations(){this._prompt_lib_expectations.clear(),this._prompt_components_expectations.clear()}setLastResolution(t,r){this._lastResolution.set(t,r)}get(t){return this._statistics.get(t)}pop(t){let r=this._statistics.get(t);if(r)return this._statistics.delete(t),r}computeMatchWithPrompt(t){try{for(let[r,n]of this._prompt_lib_expectations){if(n.length===0)continue;let i=this._lastResolution.get(r)??"none";if(i==="none"||i==="error"){this._statistics.set(r,{usage:"none",resolution:i});continue}let s=0,a=!1;for(let u of n){if(u==ZF){a=!0;continue}t.includes(u)&&s++}let l=s/n.length,c;a?c=l===0?"none_content_excluded":"partial_content_excluded":c=l===1?"full":l===0?"none":"partial",this._statistics.set(r,{usage:c,resolution:i})}}finally{this.clearExpectations(),this._lastResolution.clear()}}computeMatch(t){try{for(let[r,n]of this._prompt_components_expectations){if(n.length===0)continue;let i=this._lastResolution.get(r)??"none";if(i==="none"||i==="error"){this._statistics.set(r,{usage:"none",resolution:i});continue}let s=[],a=!1;for(let[f,m]of n){let h={id:f.id,type:f.type};if(f.origin&&(h.origin=f.origin),m==="content_excluded"){a=!0,s.push({...h,usage:"none_content_excluded"});continue}let p=t.find(A=>A.source===f);p===void 0?s.push({...h,usage:"error"}):s.push({...h,usage:p.expectedTokens>0&&p.expectedTokens===p.actualTokens?"full":p.actualTokens>0?"partial":"none",expectedTokens:p.expectedTokens,actualTokens:p.actualTokens})}let c=s.reduce((f,m)=>m.usage==="full"?f+1:m.usage==="partial"?f+.5:f,0)/n.length,u;a?u=c===0?"none_content_excluded":"partial_content_excluded":u=c===1?"full":c===0?"none":"partial",this._statistics.set(r,{resolution:i,usage:u,usageDetails:s})}}finally{this.clearExpectations(),this._lastResolution.clear()}}};function GEe(e){return e.map(t=>{if(!(t.source===void 0||t.expectedTokens===void 0||t.actualTokens===void 0))return{source:t.source,expectedTokens:t.expectedTokens,actualTokens:t.actualTokens}}).filter(t=>t!==void 0)}o(GEe,"componentStatisticsToPromptMatcher");d();var WEe=T.Object({importance:T.Optional(T.Integer({minimum:0,maximum:100})),id:T.Optional(T.String()),origin:T.Optional(T.Union([T.Literal("request"),T.Literal("update")]))}),HEe=T.Intersect([T.Object({name:T.String(),value:T.String()}),WEe]),VEe=T.Intersect([T.Object({uri:T.String(),value:T.String(),additionalUris:T.Optional(T.Array(T.String()))}),WEe]),Pat=[HEe,VEe],Nat=T.Union(Pat),Fat=new Map([["Trait",ta.Compile(HEe)],["CodeSnippet",ta.Compile(VEe)]]),Lat=o(e=>e,"ensureTypesAreEqual");Lat(!0);var Qat=T.Object({contextItems:T.Array(Nat)}),Mat=T.Object({selector:T.Array(T.Union([T.String(),T.Object({language:T.Optional(T.String()),scheme:T.Optional(T.String()),pattern:T.Optional(T.String())})]))}),TX=T.Object({id:T.String()}),Oat=T.Intersect([TX,Mat]),Uat=T.Intersect([TX,Qat]),jEe=T.Object({providers:T.Array(Oat)}),$Ee=T.Object({providers:T.Array(TX)}),wX=T.Object({providers:T.Array(Uat),updating:T.Optional(T.Array(T.String()))}),eL=T.Intersect([oAe,T.Object({contextItems:T.Optional(wX)})]);function tL(e,t){return e.map(r=>{let n=r.data.filter(i=>i.type===t);return n.length>0?{...r,data:n}:void 0}).filter(r=>r!==void 0)}o(tL,"filterContextItemsByType");function zEe(e){let t=[],r=0;return e.forEach(n=>{let i=!1;for(let[s,a]of Fat.entries())if(a.Check(n)){t.push({...n,type:s}),i=!0;break}i||r++}),[t,r]}o(zEe,"filterSupportedContextItems");function qat(e){return e.length>0&&e.replaceAll(/[^a-zA-Z0-9-]/g,"").length===e.length}o(qat,"validateContextItemId");function YEe(e,t){let r=new Set,n=[];for(let i of t){let s=i.id??Tr();if(!qat(s)){let a=Tr();ei.error(e,`Invalid context item ID ${s}, replacing with ${a}`),s=a}if(r.has(s)){let a=Tr();ei.error(e,`Duplicate context item ID ${s}, replacing with ${a}`),s=a}r.add(s),n.push({...i,id:s})}return n}o(YEe,"addOrValidateContextItemsIDs");var ZF="content_excluded";async function rL(e,t,r){let n=[],i=tL(t,"CodeSnippet");if(i.length===0)return n;let s=e.get(Wr),a=e.get(Ba),l=i.flatMap(c=>c.data.map(u=>({providerId:c.providerId,data:u})));for(let c of l){let f=[c.data.uri,...c.data.additionalUris??[]].map(h=>s.getTextDocumentWithValidation({uri:h}));(await Promise.all(f)).every(h=>h.status==="valid")?(n.push(c.data),a.addPromptLibExpectations(c.providerId,[Ta(c.data.value,wa(r))]),a.addPromptComponentsExpectations(c.providerId,[[c.data,"included"]])):(a.addPromptLibExpectations(c.providerId,[ZF]),a.addPromptComponentsExpectations(c.providerId,[[c.data,ZF]]))}return n}o(rL,"getCodeSnippetsFromContextItems");function nL(e,t){let r=e.get(Wr);return t.map(n=>{let i=M0.create(n.uri,"unknown",0,n.value);return{snippet:n,relativePath:r.getRelativePath(i)}})}o(nL,"addRelativePathToCodeSnippets");d();function ia(e){if(e.children)return Array.isArray(e.children)?e.children.join(""):e.children}o(ia,"Text");function KEe(e){return e.children}o(KEe,"Chunk");d();function qn(e,t,r){let n=[];Array.isArray(t.children)?n=t.children:t.children&&(n=[t.children]);let i={...t,children:n};return r&&(i.key=r),{type:e,props:i}}o(qn,"functionComponentFunction");function l1(e){return{type:"f",children:e}}o(l1,"fragmentFunction");l1.isFragmentFunction=!0;var JEe=o((e,t)=>{let[r,n]=t.useState(),[i,s]=t.useState();if(t.useData(Sc,f=>{f.codeSnippets!==r&&n(f.codeSnippets),f.document.uri!==i?.uri&&s(f.document)}),!r||r.length===0||!i)return;let a=wa(i.clientLanguageId),l=nL(e.ctx,r),c=new Map;for(let f of l){let m=f.relativePath??f.snippet.uri,h=c.get(m);h===void 0&&(h=[],c.set(m,h)),h.push(f)}let u=[];for(let[f,m]of c.entries()){let h=m.filter(p=>p.snippet.value.length>0);h.length>0&&u.push({chunkElements:h.map(p=>p.snippet),importance:Math.max(...h.map(p=>p.snippet.importance??0)),uri:f})}if(u.length!==0)return u.sort((f,m)=>m.importance-f.importance),u.reverse(),u.map(f=>{let m=[];return m.push(qn(ia,{children:Ta(`Compare ${f.chunkElements.length>1?"these snippets":"this snippet"} from ${f.uri}:`,a)})),f.chunkElements.forEach((h,p)=>{m.push(qn(ia,{source:h,children:Ta(h.value,a)},h.id)),f.chunkElements.length>1&&p<f.chunkElements.length-1&&m.push(qn(ia,{children:Ta("---",a)}))}),qn(KEe,{children:m})})},"CodeSnippets");d();d();function Gat(e){let t=e*4,r=e*.1;return Math.floor(t+r)}o(Gat,"approximateMaxCharacters");function bT(e,t){let[r,n]=t.useState(),[i,s]=t.useState(),[a,l]=t.useState(0),[c,u]=t.useState();t.useData(Sc,m=>{let h=m.document;(m.document.uri!==r?.uri||h.getText()!==r?.getText())&&n(h),m.position!==i&&s(m.position),m.suffixMatchThreshold!==c&&u(m.suffixMatchThreshold),m.maxPromptTokens!==a&&l(m.maxPromptTokens)});let f=Gat(a);return qn(l1,{children:[qn(_X,{document:r,position:i,maxCharacters:f}),qn(SX,{document:r,position:i,suffixMatchThreshold:c,maxCharacters:f})]})}o(bT,"CurrentFile");function _X(e){if(e.document===void 0||e.position===void 0)return qn(ia,{});let t=e.document.getText({start:{line:0,character:0},end:e.position});return t.length>e.maxCharacters&&(t=t.slice(-e.maxCharacters)),qn(ia,{children:t})}o(_X,"BeforeCursor");function SX(e,t){let[r,n]=t.useState("");if(e.document===void 0||e.position===void 0)return qn(ia,{});let i=e.document.getText({start:e.position,end:{line:Number.MAX_VALUE,character:Number.MAX_VALUE}});i.length>e.maxCharacters&&(i=i.slice(0,e.maxCharacters));let s=i.replace(/^.*/,"").trimStart();if(s==="")return qn(ia,{});if(r===s)return qn(ia,{children:r});let a=s;if(r!==""){let l=_o(),c=l.takeFirstTokens(s,n5);c.tokens.length>0&&100*oN(c.tokens,l.takeFirstTokens(r,n5).tokens)?.score<(e.suffixMatchThreshold??V7)*c.tokens.length&&(a=r)}return a!==r&&n(a),qn(ia,{children:a})}o(SX,"AfterCursor");d();var iL=class{constructor(t){this.tokenizer=t}static{o(this,"WishlistElision")}elide(t,r,n,i=0){if(r<=0)throw new Error("Prefix limit must be greater than 0");let s=n??{componentPath:"",value:"",weight:1,nodeStatistics:{},type:"suffix"},[a,l]=this.preparePrefixBlocks(t),{elidedSuffix:c,adjustedPrefixTokenLimit:u}=this.elideSuffix(s,i,r,l),f=this.elidePrefix(a,u,l);return[c,...f]}preparePrefixBlocks(t){let r=0,n=new Set;return[t.map((s,a)=>{let l=this.tokenizer.tokenLength(s.value);r+=l;let c=s.componentPath;if(n.has(c))throw new Error(`Duplicate component path in prefix blocks: ${c}`);return n.add(c),{...s,tokens:l,markedForRemoval:!1,originalIndex:a}}),r]}elideSuffix(t,r,n,i){let s=t.value;if(s.length===0||r<=0)return{elidedSuffix:{...t,tokens:0,elidedValue:"",elidedTokens:0},adjustedPrefixTokenLimit:n+Math.max(0,r)};i<n&&(r=r+(n-i),n=i);let a=this.tokenizer.takeFirstTokens(s,r);return{elidedSuffix:{...t,value:s,tokens:this.tokenizer.tokenLength(s),elidedValue:a.text,elidedTokens:a.tokens.length},adjustedPrefixTokenLimit:n+Math.max(0,r-a.tokens.length)}}elidePrefix(t,r,n){let i=this.removeLowWeightPrefixBlocks(t,r,n),s=i.filter(u=>!u.markedForRemoval).flatMap(u=>u.value.split(/([^\n]*\n+)/).map(m=>({line:m,componentPath:u.componentPath}))).filter(u=>u.line!=="");if(s.length===0)return[];let[a,l]=this.trimPrefixLinesToFit(s,r),c=l;return i.map(u=>{if(u.markedForRemoval)return c+u.tokens<=r&&!u.chunk?(c+=u.tokens,{...u,elidedValue:u.value,elidedTokens:u.tokens}):{...u,elidedValue:"",elidedTokens:0};let f=a.filter(h=>h.componentPath===u.componentPath&&h.line!=="").map(h=>h.line).join(""),m=u.tokens;return f!==u.value&&(m=f!==""?this.tokenizer.tokenLength(f):0),{...u,elidedValue:f,elidedTokens:m}})}removeLowWeightPrefixBlocks(t,r,n){let i=n;t.sort((s,a)=>s.weight-a.weight);for(let s of t){if(i<=r)break;if(s.weight!==1&&!(s.chunk&&s.markedForRemoval))if(s.chunk)for(let a of t)a.chunk===s.chunk&&!a.markedForRemoval&&(a.markedForRemoval=!0,i-=a.tokens);else s.markedForRemoval=!0,i-=s.tokens}return t.sort((s,a)=>s.originalIndex-a.originalIndex).map(s=>{let{originalIndex:a,...l}=s;return l})}trimPrefixLinesToFit(t,r){let n=0,i=[];for(let s=t.length-1;s>=0;s--){let a=t[s],l=a.line,c=this.tokenizer.tokenLength(l);if(n+c<=r)i.unshift(a),n+=c;else break}if(i.length===0){let s=t[t.length-1];if(s&&s.line.length>0){let l=this.tokenizer.takeLastTokens(s.line,r);return i.push({line:l.text,componentPath:s.componentPath}),[i,l.tokens.length]}let a=`Cannot fit prefix within limit of ${r} tokens`;throw new Error(a)}return[i,n]}};function XEe(e){return e.map(t=>t.elidedValue).join("")}o(XEe,"makePrompt");function ZEe(e){return e.filter(t=>t.type==="prefix").map(t=>t.elidedValue).join("")}o(ZEe,"makePrefixPrompt");function exe(e,t){return e.filter(r=>r.type==="context").map(r=>rye(r.elidedValue,t)).join("").trim()}o(exe,"makeContextPrompt");d();var nve=ft(Ob());var wL=class{constructor(t){this.snapshot=t}static{o(this,"SnapshotWalker")}async walkSnapshot(t){await this.walkSnapshotNode(this.snapshot,t,1,void 0,void 0)}async walkSnapshotNode(t,r,n,i,s){let a=t.props?.weight??1,c=(typeof a=="number"?Math.max(0,Math.min(1,a)):1)*n,f=t.name===nve.Chunk.name?t:i,m=t.props?.source??s;if(await r(t,c,f,m))for(let p of t.children??[])await this.walkSnapshotNode(p,r,c,f,m)}};var _L=class{constructor(){this.renderId=0}static{o(this,"CompletionsPromptRenderer")}async render(t,r,n){let i=this.renderId++,s=performance.now();try{if(n?.isCancellationRequested)return{status:"cancelled"};let a=r.delimiter??"",l=r.tokenizer??_o(),c=r.languageId??"unknown",{prefixBlocks:u,suffixBlock:f,componentStatistics:m}=await this.processSnapshot(t,a),{prefixTokenLimit:h,suffixTokenLimit:p}=this.getPromptLimits(f,r),A=performance.now(),E=new iL(l),[x,...b]=E.elide(u,h,f,p),v=performance.now(),S=XEe(b),k=ZEe(b),P=exe(b,c),N=x.elidedValue,W=l.tokenLength(S)+x.elidedTokens;return m.push(...Flt([...b,x])),{prefix:S,suffix:N,prefixWithoutContext:k,context:P,tokens:W,status:"ok",metadata:{renderId:i,elisionTimeMs:v-A,renderTimeMs:performance.now()-s,componentStatistics:m,updateDataTimeMs:m.reduce((re,ge)=>re+(ge.updateDataTimeMs??0),0),status:"ok"}}}catch(a){return{status:"error",error:a}}}getPromptLimits(t,r){let n=t?.value??"",i=r.promptTokenLimit??vC,s=r.suffixPercent??tN;if(n.length==0||s==0)return{prefixTokenLimit:i,suffixTokenLimit:0};i=n.length>0?i-IK:i;let a=Math.ceil(i*(s/100));return{prefixTokenLimit:i-a,suffixTokenLimit:a}}async processSnapshot(t,r){let n=[],i=[],s=[],a=!1,l=!1,c=!1;if(await new wL(t).walkSnapshot(async(m,h,p,A)=>{if(m===t||(m.name===bT.name?a=!0:m.name===_X.name?l=!0:m.name===SX.name&&(c=!0),m.statistics.updateDataTimeMs&&m.statistics.updateDataTimeMs>0&&s.push({componentPath:m.path,updateDataTimeMs:m.statistics.updateDataTimeMs}),m.value===void 0||m.value===""))return!0;if(c)i.push({value:m.value,type:"suffix",weight:h,componentPath:m.path,nodeStatistics:m.statistics,chunk:p?p.path:void 0,source:A});else{let E=m.value.endsWith(r)?m.value:m.value+r,x=l?m.value:E;n.push({type:l?"prefix":"context",value:x,weight:h,componentPath:m.path,nodeStatistics:m.statistics,chunk:p?p.path:void 0,source:A})}return!0}),!a)throw new Error(`Node of type ${bT.name} not found`);if(i.length>1)throw new Error("Only one suffix is allowed");let f=i[0];return{prefixBlocks:n,suffixBlock:f,componentStatistics:s}}};function Flt(e){return e.map(t=>{let r={componentPath:t.componentPath};return t.tokens!==0&&(r.expectedTokens=t.tokens,r.actualTokens=t.elidedTokens),t.nodeStatistics.updateDataTimeMs!==void 0&&(r.updateDataTimeMs=t.nodeStatistics.updateDataTimeMs),t.source&&(r.source=t.source),r})}o(Flt,"computeComponentStatistics");d();var ive=o((e,t)=>{let[r,n]=t.useState();if(t.useData(Sc,i=>{n(i.telemetryData)}),r&&e.by(e.ctx,r))return e.children},"Gated");d();var ove=o((e,t)=>{let[r,n]=t.useState();if(t.useData(Sc,i=>{i.document.uri!==r?.uri&&n(i.document)}),r){let i=e.ctx.get(Wr),s=i.getRelativePath(r),a={uri:r.uri,source:r.getText(),offset:-1,relativePath:s,languageId:r.detectedLanguageId},l=i.findNotebook(r);return a.relativePath&&!l?qn(Llt,{docInfo:a}):qn(Qlt,{docInfo:a})}},"DocumentMarker"),Llt=o((e,t)=>qn(ia,{children:HP(e.docInfo)}),"PathMarker"),Qlt=o((e,t)=>qn(ia,{children:WP(e.docInfo)}),"LanguageMarker");d();d();d();d();d();var pZ=class{static{o(this,"ErrorHandler")}constructor(){this.listeners=[],this.unexpectedErrorHandler=function(t){setTimeout(()=>{throw t.stack?SL.isErrorNoTelemetry(t)?new SL(t.message+`

`+t.stack):new Error(t.message+`

`+t.stack):t},0)}}addListener(t){return this.listeners.push(t),()=>{this._removeListener(t)}}emit(t){this.listeners.forEach(r=>{r(t)})}_removeListener(t){this.listeners.splice(this.listeners.indexOf(t),1)}setUnexpectedErrorHandler(t){this.unexpectedErrorHandler=t}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(t){this.unexpectedErrorHandler(t),this.emit(t)}onUnexpectedExternalError(t){this.unexpectedErrorHandler(t)}},sve=new pZ;function XC(e){sve.onUnexpectedError(e)}o(XC,"onBugIndicatingError");function Ub(e){Mlt(e)||sve.onUnexpectedError(e)}o(Ub,"onUnexpectedError");var gZ="Canceled";function Mlt(e){return e instanceof fp?!0:e instanceof Error&&e.name===gZ&&e.message===gZ}o(Mlt,"isCancellationError");var fp=class extends Error{static{o(this,"CancellationError")}constructor(){super(gZ),this.name=this.message}};function LT(e){return e?new Error(`Illegal argument: ${e}`):new Error("Illegal argument")}o(LT,"illegalArgument");function ave(e){return e?new Error(`Illegal state: ${e}`):new Error("Illegal state")}o(ave,"illegalState");var SL=class e extends Error{static{o(this,"ErrorNoTelemetry")}constructor(t){super(t),this.name="CodeExpectedError"}static fromError(t){if(t instanceof e)return t;let r=new e;return r.message=t.message,r.stack=t.stack,r}static isErrorNoTelemetry(t){return t.name==="CodeExpectedError"}},gi=class e extends Error{static{o(this,"BugIndicatingError")}constructor(t){super(t||"An unexpected bug occurred."),Object.setPrototypeOf(this,e.prototype)}};function BL(e,t="Unreachable"){throw new Error(t)}o(BL,"assertNever");function Rc(e,t="unexpected state"){if(!e)throw new gi(`Assertion Failed: ${t}`)}o(Rc,"assert");function T5(e){if(!e()){debugger;e(),Ub(new gi("Assertion Failed"))}}o(T5,"assertFn");function kL(e,t){let r=0;for(;r<e.length-1;){let n=e[r],i=e[r+1];if(!t(n,i))return!1;r++}return!0}o(kL,"checkAdjacentItems");d();d();d();function AZ(e,t){let r=km(e,t);return r===-1?void 0:e[r]}o(AZ,"findLastMonotonous");function km(e,t,r=0,n=e.length){let i=r,s=n;for(;i<s;){let a=Math.floor((i+s)/2);t(e[a])?i=a+1:s=a}return i-1}o(km,"findLastIdxMonotonous");function qb(e,t,r=0,n=e.length){let i=r,s=n;for(;i<s;){let a=Math.floor((i+s)/2);t(e[a])?s=a:i=a+1}return i}o(qb,"findFirstIdxMonotonousOrArrLen");var lve=class e{constructor(t){this._array=t;this._findLastMonotonousLastIdx=0}static{o(this,"MonotonousArray")}static{this.assertInvariants=!1}findLastMonotonous(t){if(e.assertInvariants){if(this._prevFindLastPredicate){for(let n of this._array)if(this._prevFindLastPredicate(n)&&!t(n))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=t}let r=km(this._array,t,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=r+1,r===-1?void 0:this._array[r]}};function yZ(e,t,r=(n,i)=>n===i){if(e===t)return!0;if(!e||!t||e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(!r(e[n],t[n]))return!1;return!0}o(yZ,"equals");function*uve(e,t){let r,n;for(let i of e)n!==void 0&&t(n,i)?r.push(i):(r&&(yield r),r=[i]),n=i;r&&(yield r)}o(uve,"groupAdjacentBy");function fve(e){return e.filter(t=>!!t)}o(fve,"coalesce");var dve;(l=>{function e(c){return c<0}l.isLessThan=e,o(e,"isLessThan");function t(c){return c<=0}l.isLessThanOrEqual=t,o(t,"isLessThanOrEqual");function r(c){return c>0}l.isGreaterThan=r,o(r,"isGreaterThan");function n(c){return c===0}l.isNeitherLessOrGreaterThan=n,o(n,"isNeitherLessOrGreaterThan"),l.greaterThan=1,l.lessThan=-1,l.neitherLessOrGreaterThan=0})(dve||={});function w5(e,t){return(r,n)=>t(e(r),e(n))}o(w5,"compareBy");var _5=o((e,t)=>e-t,"numberComparator");var RL=class{constructor(t){this.items=t;this.firstIdx=0;this.lastIdx=this.items.length-1}static{o(this,"ArrayQueue")}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(t){let r=this.firstIdx;for(;r<this.items.length&&t(this.items[r]);)r++;let n=r===this.firstIdx?null:this.items.slice(this.firstIdx,r);return this.firstIdx=r,n}takeFromEndWhile(t){let r=this.lastIdx;for(;r>=0&&t(this.items[r]);)r--;let n=r===this.lastIdx?null:this.items.slice(r+1,this.lastIdx+1);return this.lastIdx=r,n}peek(){if(this.length!==0)return this.items[this.firstIdx]}peekLast(){if(this.length!==0)return this.items[this.lastIdx]}dequeue(){let t=this.items[this.firstIdx];return this.firstIdx++,t}removeLast(){let t=this.items[this.lastIdx];return this.lastIdx--,t}takeCount(t){let r=this.items.slice(this.firstIdx,this.firstIdx+t);return this.firstIdx+=t,r}},cve=class e{constructor(t){this.iterate=t}static{o(this,"CallbackIterable")}static{this.empty=new e(t=>{})}forEach(t){this.iterate(r=>(t(r),!0))}toArray(){let t=[];return this.iterate(r=>(t.push(r),!0)),t}filter(t){return new e(r=>this.iterate(n=>t(n)?r(n):!0))}map(t){return new e(r=>this.iterate(n=>r(t(n))))}some(t){let r=!1;return this.iterate(n=>(r=t(n),!r)),r}findFirst(t){let r;return this.iterate(n=>t(n)?(r=n,!1):!0),r}findLast(t){let r;return this.iterate(n=>(t(n)&&(r=n),!0)),r}findLastMaxBy(t){let r,n=!0;return this.iterate(i=>((n||dve.isGreaterThan(t(i,r)))&&(n=!1,r=i),!0)),r}};d();function gve(e,t){let r=Object.create(null);for(let n of e){let i=t(n),s=r[i];s||(s=r[i]=[]),s.push(n)}return r}o(gve,"groupBy");var hve,pve,mve=class{constructor(t,r){this.toKey=r;this._map=new Map;this[hve]="SetWithKey";for(let n of t)this.add(n)}static{o(this,"SetWithKey")}get size(){return this._map.size}add(t){let r=this.toKey(t);return this._map.set(r,t),this}delete(t){return this._map.delete(this.toKey(t))}has(t){return this._map.has(this.toKey(t))}*entries(){for(let t of this._map.values())yield[t,t]}keys(){return this.values()}*values(){for(let t of this._map.values())yield t}clear(){this._map.clear()}forEach(t,r){this._map.forEach(n=>t.call(r,n,n,this))}[(pve=Symbol.iterator,hve=Symbol.toStringTag,pve)](){return this.values()}};d();function CZ(e,t){let r=this,n=!1,i;return function(){if(n)return i;if(n=!0,t)try{i=e.apply(r,arguments)}finally{t()}else i=e.apply(r,arguments);return i}}o(CZ,"createSingleCallFunction");d();var EZ;(S=>{function e(k){return k&&typeof k=="object"&&typeof k[Symbol.iterator]=="function"}S.is=e,o(e,"is");let t=Object.freeze([]);function r(){return t}S.empty=r,o(r,"empty");function*n(k){yield k}S.single=n,o(n,"single");function i(k){return e(k)?k:n(k)}S.wrap=i,o(i,"wrap");function s(k){return k||t}S.from=s,o(s,"from");function*a(k){for(let P=k.length-1;P>=0;P--)yield k[P]}S.reverse=a,o(a,"reverse");function l(k){return!k||k[Symbol.iterator]().next().done===!0}S.isEmpty=l,o(l,"isEmpty");function c(k){return k[Symbol.iterator]().next().value}S.first=c,o(c,"first");function u(k,P){let N=0;for(let W of k)if(P(W,N++))return!0;return!1}S.some=u,o(u,"some");function f(k,P){for(let N of k)if(P(N))return N}S.find=f,o(f,"find");function*m(k,P){for(let N of k)P(N)&&(yield N)}S.filter=m,o(m,"filter");function*h(k,P){let N=0;for(let W of k)yield P(W,N++)}S.map=h,o(h,"map");function*p(k,P){let N=0;for(let W of k)yield*P(W,N++)}S.flatMap=p,o(p,"flatMap");function*A(...k){for(let P of k)yield*P}S.concat=A,o(A,"concat");function E(k,P,N){let W=N;for(let re of k)W=P(W,re);return W}S.reduce=E,o(E,"reduce");function*x(k,P,N=k.length){for(P<-k.length&&(P=0),P<0&&(P+=k.length),N<0?N+=k.length:N>k.length&&(N=k.length);P<N;P++)yield k[P]}S.slice=x,o(x,"slice");function b(k,P=Number.POSITIVE_INFINITY){let N=[];if(P===0)return[N,k];let W=k[Symbol.iterator]();for(let re=0;re<P;re++){let ge=W.next();if(ge.done)return[N,S.empty()];N.push(ge.value)}return[N,{[Symbol.iterator](){return W}}]}S.consume=b,o(b,"consume");async function v(k){let P=[];for await(let N of k)P.push(N);return Promise.resolve(P)}S.asyncToArray=v,o(v,"asyncToArray")})(EZ||={});d();var xZ=class{constructor(t,r){this.uri=t;this.value=r}static{o(this,"ResourceMapEntry")}};function Ult(e){return Array.isArray(e)}o(Ult,"isEntries");var yve,DL=class e{constructor(t,r){this[yve]="ResourceMap";if(t instanceof e)this.map=new Map(t.map),this.toKey=r??e.defaultToKey;else if(Ult(t)){this.map=new Map,this.toKey=r??e.defaultToKey;for(let[n,i]of t)this.set(n,i)}else this.map=new Map,this.toKey=t??e.defaultToKey}static{o(this,"ResourceMap")}static{this.defaultToKey=o(t=>t.toString(),"defaultToKey")}set(t,r){return this.map.set(this.toKey(t),new xZ(t,r)),this}get(t){return this.map.get(this.toKey(t))?.value}has(t){return this.map.has(this.toKey(t))}get size(){return this.map.size}clear(){this.map.clear()}delete(t){return this.map.delete(this.toKey(t))}forEach(t,r){typeof r<"u"&&(t=t.bind(r));for(let[n,i]of this.map)t(i.value,i.uri,this)}*values(){for(let t of this.map.values())yield t.value}*keys(){for(let t of this.map.values())yield t.uri}*entries(){for(let t of this.map.values())yield[t.uri,t.value]}*[(yve=Symbol.toStringTag,Symbol.iterator)](){for(let[,t]of this.map)yield[t.uri,t.value]}},Cve,Ave=class{constructor(t,r){this[Cve]="ResourceSet";!t||typeof t=="function"?this._map=new DL(t):(this._map=new DL(r),t.forEach(this.add,this))}static{o(this,"ResourceSet")}get size(){return this._map.size}add(t){return this._map.set(t,t),this}clear(){this._map.clear()}delete(t){return this._map.delete(t)}forEach(t,r){this._map.forEach((n,i)=>t.call(r,i,i,this))}has(t){return this._map.has(t)}entries(){return this._map.entries()}keys(){return this._map.keys()}values(){return this._map.keys()}[(Cve=Symbol.toStringTag,Symbol.iterator)](){return this.keys()}};var Eve,vZ=class{constructor(){this[Eve]="LinkedMap";this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}static{o(this,"LinkedMap")}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(t){return this._map.has(t)}get(t,r=0){let n=this._map.get(t);if(n)return r!==0&&this.touch(n,r),n.value}set(t,r,n=0){let i=this._map.get(t);if(i)i.value=r,n!==0&&this.touch(i,n);else{switch(i={key:t,value:r,next:void 0,previous:void 0},n){case 0:this.addItemLast(i);break;case 1:this.addItemFirst(i);break;case 2:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let r=this._map.get(t);if(r)return this._map.delete(t),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._state,i=this._head;for(;i;){if(r?t.bind(r)(i.value,i.key,this):t(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.key,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}values(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.value,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}entries(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:[n.key,n.value],done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}[(Eve=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}trimNew(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._tail,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.previous,n--;this._tail=r,this._size=n,r&&(r.next=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}t.next=void 0,t.previous=void 0,this._state++}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==1&&r!==2)){if(r===1){if(t===this._head)return;let n=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(r===2){if(t===this._tail)return;let n=t.next,i=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((r,n)=>{t.push([n,r])}),t}fromJSON(t){this.clear();for(let[r,n]of t)this.set(r,n)}},bZ=class extends vZ{static{o(this,"Cache")}constructor(t,r=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,r=2){return super.get(t,r)}peek(t){return super.get(t,0)}set(t,r){return super.set(t,r,2),this}checkTrim(){this.size>this._limit&&this.trim(Math.round(this._limit*this._ratio))}},PL=class extends bZ{static{o(this,"LRUCache")}constructor(t,r=1){super(t,r)}trim(t){this.trimOld(t)}set(t,r){return super.set(t,r),this.checkTrim(),this}};var NL=class{constructor(){this.map=new Map}static{o(this,"SetMap")}add(t,r){let n=this.map.get(t);n||(n=new Set,this.map.set(t,n)),n.add(r)}delete(t,r){let n=this.map.get(t);n&&(n.delete(r),n.size===0&&this.map.delete(t))}forEach(t,r){let n=this.map.get(t);n&&n.forEach(r)}get(t){let r=this.map.get(t);return r||new Set}};var qlt=!1,Gb=null;var xve=class e{constructor(){this.livingDisposables=new Map}static{o(this,"DisposableTracker")}static{this.idx=0}getDisposableData(t){let r=this.livingDisposables.get(t);return r||(r={parent:null,source:null,isSingleton:!1,value:t,idx:e.idx++},this.livingDisposables.set(t,r)),r}trackDisposable(t){let r=this.getDisposableData(t);r.source||(r.source=new Error().stack)}setParent(t,r){let n=this.getDisposableData(t);n.parent=r}markAsDisposed(t){this.livingDisposables.delete(t)}markAsSingleton(t){this.getDisposableData(t).isSingleton=!0}getRootParent(t,r){let n=r.get(t);if(n)return n;let i=t.parent?this.getRootParent(this.getDisposableData(t.parent),r):t;return r.set(t,i),i}getTrackedDisposables(){let t=new Map;return[...this.livingDisposables.entries()].filter(([,n])=>n.source!==null&&!this.getRootParent(n,t).isSingleton).flatMap(([n])=>n)}computeLeakingDisposables(t=10,r){let n;if(r)n=r;else{let c=new Map,u=[...this.livingDisposables.values()].filter(m=>m.source!==null&&!this.getRootParent(m,c).isSingleton);if(u.length===0)return;let f=new Set(u.map(m=>m.value));if(n=u.filter(m=>!(m.parent&&f.has(m.parent))),n.length===0)throw new Error("There are cyclic diposable chains!")}if(!n)return;function i(c){function u(m,h){for(;m.length>0&&h.some(p=>typeof p=="string"?p===m[0]:m[0].match(p));)m.shift()}o(u,"removePrefix");let f=c.source.split(`
`).map(m=>m.trim().replace("at ","")).filter(m=>m!=="");return u(f,["Error",/^trackDisposable \(.*\)$/,/^DisposableTracker.trackDisposable \(.*\)$/]),f.reverse()}o(i,"getStackTracePath");let s=new NL;for(let c of n){let u=i(c);for(let f=0;f<=u.length;f++)s.add(u.slice(0,f).join(`
`),c)}n.sort(w5(c=>c.idx,_5));let a="",l=0;for(let c of n.slice(0,t)){l++;let u=i(c),f=[];for(let m=0;m<u.length;m++){let h=u[m];h=`(shared with ${s.get(u.slice(0,m+1).join(`
`)).size}/${n.length} leaks) at ${h}`;let A=s.get(u.slice(0,m).join(`
`)),E=gve([...A].map(x=>i(x)[m]),x=>x);delete E[u[m]];for(let[x,b]of Object.entries(E))f.unshift(`    - stacktraces of ${b.length} other leaks continue with ${x}`);f.unshift(h)}a+=`


==================== Leaking disposable ${l}/${n.length}: ${c.value.constructor.name} ====================
${f.join(`
`)}
============================================================

`}return n.length>t&&(a+=`


... and ${n.length-t} more leaking disposables

`),{leaks:n,details:a}}};function Glt(e){Gb=e}o(Glt,"setDisposableTracker");if(qlt){let e="__is_disposable_tracked__";Glt(new class{trackDisposable(t){let r=new Error("Potentially leaked disposable").stack;setTimeout(()=>{t[e]||console.log(r)},3e3)}setParent(t,r){if(t&&t!==oa.None)try{t[e]=!0}catch{}}markAsDisposed(t){if(t&&t!==oa.None)try{t[e]=!0}catch{}}markAsSingleton(t){}})}function Wb(e){return Gb?.trackDisposable(e),e}o(Wb,"trackDisposable");function Hb(e){Gb?.markAsDisposed(e)}o(Hb,"markAsDisposed");function IZ(e,t){Gb?.setParent(e,t)}o(IZ,"setParentOfDisposable");function Wlt(e,t){if(Gb)for(let r of e)Gb.setParent(r,t)}o(Wlt,"setParentOfDisposables");function vve(e){return typeof e=="object"&&e!==null&&typeof e.dispose=="function"&&e.dispose.length===0}o(vve,"isDisposable");function FL(e){if(EZ.is(e)){let t=[];for(let r of e)if(r)try{r.dispose()}catch(n){t.push(n)}if(t.length===1)throw t[0];if(t.length>1)throw new AggregateError(t,"Encountered errors while disposing of store");return Array.isArray(e)?[]:e}else if(e)return e.dispose(),e}o(FL,"dispose");function bve(...e){let t=sa(()=>FL(e));return Wlt(e,t),t}o(bve,"combinedDisposable");function sa(e){let t=Wb({dispose:CZ(()=>{Hb(t),e()})});return t}o(sa,"toDisposable");var O0=class e{constructor(){this._toDispose=new Set;this._isDisposed=!1;Wb(this)}static{o(this,"DisposableStore")}static{this.DISABLE_DISPOSED_WARNING=!1}dispose(){this._isDisposed||(Hb(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{FL(this._toDispose)}finally{this._toDispose.clear()}}add(t){if(!t)return t;if(t===this)throw new Error("Cannot register a disposable on itself!");return IZ(t,this),this._isDisposed?e.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(t),t}delete(t){if(t){if(t===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(t),t.dispose()}}deleteAndLeak(t){t&&this._toDispose.has(t)&&(this._toDispose.delete(t),IZ(t,null))}},oa=class{constructor(){this._store=new O0;Wb(this),IZ(this._store,this)}static{o(this,"Disposable")}static{this.None=Object.freeze({dispose(){}})}dispose(){Hb(this),this._store.dispose()}_register(t){if(t===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(t)}};d();d();d();d();d();var d1=o((e,t)=>e===t,"strictEquals");d();d();var Ive=class e{static{o(this,"Node")}static{this.Undefined=new e(void 0)}constructor(t){this.element=t,this.next=e.Undefined,this.prev=e.Undefined}};d();var Hlt=globalThis.performance&&typeof globalThis.performance.now=="function",LL=class e{static{o(this,"StopWatch")}static create(t){return new e(t)}constructor(t){this._now=Hlt&&t===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}};var Tve=!1,Vlt=!1,ZC;(ne=>{ne.None=o(()=>oa.None,"None");function t(H){if(Vlt){let{onDidAddListener:O}=H,j=QT.create(),J=0;H.onDidAddListener=()=>{++J===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),j.print()),O?.()}}}o(t,"_addLeakageTraceLogic");function r(H,O){return p(H,()=>{},0,void 0,!0,void 0,O)}ne.defer=r,o(r,"defer");function n(H){return(O,j=null,J)=>{let le=!1,Z;return Z=H(ae=>{if(!le)return Z?Z.dispose():le=!0,O.call(j,ae)},null,J),le&&Z.dispose(),Z}}ne.once=n,o(n,"once");function i(H,O){return ne.once(ne.filter(H,O))}ne.onceIf=i,o(i,"onceIf");function s(H,O,j){return m((J,le=null,Z)=>H(ae=>J.call(le,O(ae)),null,Z),j)}ne.map=s,o(s,"map");function a(H,O,j){return m((J,le=null,Z)=>H(ae=>{O(ae),J.call(le,ae)},null,Z),j)}ne.forEach=a,o(a,"forEach");function l(H,O,j){return m((J,le=null,Z)=>H(ae=>O(ae)&&J.call(le,ae),null,Z),j)}ne.filter=l,o(l,"filter");function c(H){return H}ne.signal=c,o(c,"signal");function u(...H){return(O,j=null,J)=>{let le=bve(...H.map(Z=>Z(ae=>O.call(j,ae))));return h(le,J)}}ne.any=u,o(u,"any");function f(H,O,j,J){let le=j;return s(H,Z=>(le=O(le,Z),le),J)}ne.reduce=f,o(f,"reduce");function m(H,O){let j,J={onWillAddFirstListener(){j=H(le.fire,le)},onDidRemoveLastListener(){j?.dispose()}};O||t(J);let le=new Nu(J);return O?.add(le),le.event}o(m,"snapshot");function h(H,O){return O instanceof Array?O.push(H):O&&O.add(H),H}o(h,"addAndReturnDisposable");function p(H,O,j=100,J=!1,le=!1,Z,ae){let ce,Re,be,Ue=0,Be,Je={leakWarningThreshold:Z,onWillAddFirstListener(){ce=H(it=>{Ue++,Re=O(Re,it),J&&!be&&(ut.fire(Re),Re=void 0),Be=o(()=>{let ot=Re;Re=void 0,be=void 0,(!J||Ue>1)&&ut.fire(ot),Ue=0},"doFire"),typeof j=="number"?(clearTimeout(be),be=setTimeout(Be,j)):be===void 0&&(be=0,queueMicrotask(Be))})},onWillRemoveListener(){le&&Ue>0&&Be?.()},onDidRemoveLastListener(){Be=void 0,ce.dispose()}};ae||t(Je);let ut=new Nu(Je);return ae?.add(ut),ut.event}ne.debounce=p,o(p,"debounce");function A(H,O=0,j){return ne.debounce(H,(J,le)=>J?(J.push(le),J):[le],O,void 0,!0,void 0,j)}ne.accumulate=A,o(A,"accumulate");function E(H,O=(J,le)=>J===le,j){let J=!0,le;return l(H,Z=>{let ae=J||!O(Z,le);return J=!1,le=Z,ae},j)}ne.latch=E,o(E,"latch");function x(H,O,j){return[ne.filter(H,O,j),ne.filter(H,J=>!O(J),j)]}ne.split=x,o(x,"split");function b(H,O=!1,j=[],J){let le=j.slice(),Z=H(Re=>{le?le.push(Re):ce.fire(Re)});J&&J.add(Z);let ae=o(()=>{le?.forEach(Re=>ce.fire(Re)),le=null},"flush"),ce=new Nu({onWillAddFirstListener(){Z||(Z=H(Re=>ce.fire(Re)),J&&J.add(Z))},onDidAddFirstListener(){le&&(O?setTimeout(ae):ae())},onDidRemoveLastListener(){Z&&Z.dispose(),Z=null}});return J&&J.add(ce),ce.event}ne.buffer=b,o(b,"buffer");function v(H,O){return o((J,le,Z)=>{let ae=O(new k);return H(function(ce){let Re=ae.evaluate(ce);Re!==S&&J.call(le,Re)},void 0,Z)},"fn")}ne.chain=v,o(v,"chain");let S=Symbol("HaltChainable");class k{constructor(){this.steps=[]}static{o(this,"ChainableSynthesis")}map(O){return this.steps.push(O),this}forEach(O){return this.steps.push(j=>(O(j),j)),this}filter(O){return this.steps.push(j=>O(j)?j:S),this}reduce(O,j){let J=j;return this.steps.push(le=>(J=O(J,le),J)),this}latch(O=(j,J)=>j===J){let j=!0,J;return this.steps.push(le=>{let Z=j||!O(le,J);return j=!1,J=le,Z?le:S}),this}evaluate(O){for(let j of this.steps)if(O=j(O),O===S)break;return O}}function P(H,O,j=J=>J){let J=o((...ce)=>ae.fire(j(...ce)),"fn"),le=o(()=>H.on(O,J),"onFirstListenerAdd"),Z=o(()=>H.removeListener(O,J),"onLastListenerRemove"),ae=new Nu({onWillAddFirstListener:le,onDidRemoveLastListener:Z});return ae.event}ne.fromNodeEventEmitter=P,o(P,"fromNodeEventEmitter");function N(H,O,j=J=>J){let J=o((...ce)=>ae.fire(j(...ce)),"fn"),le=o(()=>H.addEventListener(O,J),"onFirstListenerAdd"),Z=o(()=>H.removeEventListener(O,J),"onLastListenerRemove"),ae=new Nu({onWillAddFirstListener:le,onDidRemoveLastListener:Z});return ae.event}ne.fromDOMEventEmitter=N,o(N,"fromDOMEventEmitter");function W(H,O){return new Promise(j=>n(H)(j,null,O))}ne.toPromise=W,o(W,"toPromise");function re(H){let O=new Nu;return H.then(j=>{O.fire(j)},()=>{O.fire(void 0)}).finally(()=>{O.dispose()}),O.event}ne.fromPromise=re,o(re,"fromPromise");function ge(H,O){return H(j=>O.fire(j))}ne.forward=ge,o(ge,"forward");function te(H,O,j){return O(j),H(J=>O(J))}ne.runAndSubscribe=te,o(te,"runAndSubscribe");class G{constructor(O,j){this._observable=O;this._counter=0;this._hasChanged=!1;let J={onWillAddFirstListener:o(()=>{O.addObserver(this),this._observable.reportChanges()},"onWillAddFirstListener"),onDidRemoveLastListener:o(()=>{O.removeObserver(this)},"onDidRemoveLastListener")};j||t(J),this.emitter=new Nu(J),j&&j.add(this.emitter)}static{o(this,"EmitterObserver")}beginUpdate(O){this._counter++}handlePossibleChange(O){}handleChange(O,j){this._hasChanged=!0}endUpdate(O){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function q(H,O){return new G(H,O).emitter.event}ne.fromObservable=q,o(q,"fromObservable");function se(H){return(O,j,J)=>{let le=0,Z=!1,ae={beginUpdate(){le++},endUpdate(){le--,le===0&&(H.reportChanges(),Z&&(Z=!1,O.call(j)))},handlePossibleChange(){},handleChange(){Z=!0}};H.addObserver(ae),H.reportChanges();let ce={dispose(){H.removeObserver(ae)}};return J instanceof O0?J.add(ce):Array.isArray(J)&&J.push(ce),ce}}ne.fromObservableLight=se,o(se,"fromObservableLight")})(ZC||={});var TZ=class e{constructor(t){this.listenerCount=0;this.invocationCount=0;this.elapsedOverall=0;this.durations=[];this.name=`${t}_${e._idPool++}`,e.all.add(this)}static{o(this,"EventProfiling")}static{this.all=new Set}static{this._idPool=0}start(t){this._stopWatch=new LL,this.listenerCount=t}stop(){if(this._stopWatch){let t=this._stopWatch.elapsed();this.durations.push(t),this.elapsedOverall+=t,this.invocationCount+=1,this._stopWatch=void 0}}},wve=-1;var wZ=class e{constructor(t,r,n=(e._idPool++).toString(16).padStart(3,"0")){this._errorHandler=t;this.threshold=r;this.name=n;this._warnCountdown=0}static{o(this,"LeakageMonitor")}static{this._idPool=1}dispose(){this._stacks?.clear()}check(t,r){let n=this.threshold;if(n<=0||r<n)return;this._stacks||(this._stacks=new Map);let i=this._stacks.get(t.value)||0;if(this._stacks.set(t.value,i+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=n*.5;let[s,a]=this.getMostFrequentStack(),l=`[${this.name}] potential listener LEAK detected, having ${r} listeners already. MOST frequent listener (${a}):`;console.warn(l),console.warn(s);let c=new _Z(l,s);this._errorHandler(c)}return()=>{let s=this._stacks.get(t.value)||0;this._stacks.set(t.value,s-1)}}getMostFrequentStack(){if(!this._stacks)return;let t,r=0;for(let[n,i]of this._stacks)(!t||r<i)&&(t=[n,i],r=i);return t}},QT=class e{constructor(t){this.value=t}static{o(this,"Stacktrace")}static create(){let t=new Error;return new e(t.stack??"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},_Z=class extends Error{static{o(this,"ListenerLeakError")}constructor(t,r){super(t),this.name="ListenerLeakError",this.stack=r}},SZ=class extends Error{static{o(this,"ListenerRefusalError")}constructor(t,r){super(t),this.name="ListenerRefusalError",this.stack=r}},jlt=0,Vb=class{constructor(t){this.value=t;this.id=jlt++}static{o(this,"UniqueContainer")}},$lt=2,zlt=o((e,t)=>{if(e instanceof Vb)t(e);else for(let r=0;r<e.length;r++){let n=e[r];n&&t(n)}},"forEachListener"),Nu=class{constructor(t){this._size=0;this._options=t,this._leakageMon=wve>0||this._options?.leakWarningThreshold?new wZ(t?.onListenerError??Ub,this._options?.leakWarningThreshold??wve):void 0,this._perfMon=this._options?._profName?new TZ(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}static{o(this,"Emitter")}dispose(){if(!this._disposed){if(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners){if(Tve){let t=this._listeners;queueMicrotask(()=>{zlt(t,r=>r.stack?.print())})}this._listeners=void 0,this._size=0}this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose()}}get event(){return this._event??=(t,r,n)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){let c=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(c);let u=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],f=new SZ(`${c}. HINT: Stack shows most frequent listener (${u[1]}-times)`,u[0]);return(this._options?.onListenerError||Ub)(f),oa.None}if(this._disposed)return oa.None;r&&(t=t.bind(r));let i=new Vb(t),s,a;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(i.stack=QT.create(),s=this._leakageMon.check(i.stack,this._size+1)),Tve&&(i.stack=a??QT.create()),this._listeners?this._listeners instanceof Vb?(this._deliveryQueue??=new BZ,this._listeners=[this._listeners,i]):this._listeners.push(i):(this._options?.onWillAddFirstListener?.(this),this._listeners=i,this._options?.onDidAddFirstListener?.(this)),this._options?.onDidAddListener?.(this),this._size++;let l=sa(()=>{s?.(),this._removeListener(i)});return n instanceof O0?n.add(l):Array.isArray(n)&&n.push(l),l},this._event}_removeListener(t){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(this._size===1){this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),this._size=0;return}let r=this._listeners,n=r.indexOf(t);if(n===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,r[n]=void 0;let i=this._deliveryQueue.current===this;if(this._size*$lt<=r.length){let s=0;for(let a=0;a<r.length;a++)r[a]?r[s++]=r[a]:i&&s<this._deliveryQueue.end&&(this._deliveryQueue.end--,s<this._deliveryQueue.i&&this._deliveryQueue.i--);r.length=s}}_deliver(t,r){if(!t)return;let n=this._options?.onListenerError||Ub;if(!n){t.value(r);return}try{t.value(r)}catch(i){n(i)}}_deliverQueue(t){let r=t.current._listeners;for(;t.i<t.end;)this._deliver(r[t.i++],t.value);t.reset()}fire(t){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof Vb)this._deliver(this._listeners,t);else{let r=this._deliveryQueue;r.enqueue(this,t,this._listeners.length),this._deliverQueue(r)}this._perfMon?.stop()}hasListeners(){return this._size>0}};var BZ=class{constructor(){this.i=-1;this.end=0}static{o(this,"EventDeliveryQueuePrivate")}enqueue(t,r,n){this.i=0,this.end=n,this.current=t,this.value=r}reset(){this.i=this.end,this.current=void 0,this.value=void 0}};d();var U0=class{constructor(t,r,n){this.owner=t;this.debugNameSource=r;this.referenceFn=n}static{o(this,"DebugNameData")}getDebugName(t){return kve(t,this)}},_ve=new Map,kZ=new WeakMap;function kve(e,t){let r=kZ.get(e);if(r)return r;let n=Ylt(e,t);if(n){let i=_ve.get(n)??0;i++,_ve.set(n,i);let s=i===1?n:`${n}#${i}`;return kZ.set(e,s),s}}o(kve,"getDebugName");function Ylt(e,t){let r=kZ.get(e);if(r)return r;let n=t.owner?Jlt(t.owner)+".":"",i,s=t.debugNameSource;if(s!==void 0)if(typeof s=="function"){if(i=s(),i!==void 0)return n+i}else return n+s;let a=t.referenceFn;if(a!==void 0&&(i=QL(a),i!==void 0))return n+i;if(t.owner!==void 0){let l=Klt(t.owner,e);if(l!==void 0)return n+l}}o(Ylt,"computeDebugName");function Klt(e,t){for(let r in e)if(e[r]===t)return r}o(Klt,"findKey");var Sve=new Map,Bve=new WeakMap;function Jlt(e){let t=Bve.get(e);if(t)return t;let r=Xlt(e),n=Sve.get(r)??0;n++,Sve.set(r,n);let i=n===1?r:`${r}#${n}`;return Bve.set(e,i),i}o(Jlt,"formatOwner");function Xlt(e){let t=e.constructor;return t?t.name:"Object"}o(Xlt,"getClassName");function QL(e){let t=e.toString(),n=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(t);return(n?n[1]:void 0)?.trim()}o(QL,"getFunctionName");d();var e4;function OL(e){e4?e4 instanceof ML?e4.loggers.push(e):e4=new ML([e4,e]):e4=e}o(OL,"addLogger");function Cs(){return e4}o(Cs,"getLogger");var RZ;function Rve(e){RZ=e}o(Rve,"setLogObservableFn");function Dve(e){RZ&&RZ(e)}o(Dve,"logObservable");var ML=class{constructor(t){this.loggers=t}static{o(this,"ComposedLogger")}handleObservableCreated(t){for(let r of this.loggers)r.handleObservableCreated(t)}handleOnListenerCountChanged(t,r){for(let n of this.loggers)n.handleOnListenerCountChanged(t,r)}handleObservableUpdated(t,r){for(let n of this.loggers)n.handleObservableUpdated(t,r)}handleAutorunCreated(t){for(let r of this.loggers)r.handleAutorunCreated(t)}handleAutorunDisposed(t){for(let r of this.loggers)r.handleAutorunDisposed(t)}handleAutorunDependencyChanged(t,r,n){for(let i of this.loggers)i.handleAutorunDependencyChanged(t,r,n)}handleAutorunStarted(t){for(let r of this.loggers)r.handleAutorunStarted(t)}handleAutorunFinished(t){for(let r of this.loggers)r.handleAutorunFinished(t)}handleDerivedDependencyChanged(t,r,n){for(let i of this.loggers)i.handleDerivedDependencyChanged(t,r,n)}handleDerivedCleared(t){for(let r of this.loggers)r.handleDerivedCleared(t)}handleBeginTransaction(t){for(let r of this.loggers)r.handleBeginTransaction(t)}handleEndTransaction(t){for(let r of this.loggers)r.handleEndTransaction(t)}};var Pve;function Nve(e){Pve=e}o(Nve,"_setRecomputeInitiallyAndOnChange");var Fve;function Lve(e){Fve=e}o(Lve,"_setKeepObserved");var DZ;function Qve(e){DZ=e}o(Qve,"_setDerivedOpts");var UL=class{static{o(this,"ConvenientObservable")}get TChange(){return null}reportChanges(){this.get()}read(t){return t?t.readObservable(this):this.get()}map(t,r){let n=r===void 0?void 0:t,i=r===void 0?t:r;return DZ({owner:n,debugName:o(()=>{let s=QL(i);if(s!==void 0)return s;let l=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(i.toString());if(l)return`${this.debugName}.${l[2]}`;if(!n)return`${this.debugName} (mapped)`},"debugName"),debugReferenceFn:i},s=>i(this.read(s),s))}flatten(){return DZ({owner:void 0,debugName:o(()=>`${this.debugName} (flattened)`,"debugName")},t=>this.read(t).read(t))}recomputeInitiallyAndOnChange(t,r){return t.add(Pve(this,r)),this}keepObserved(t){return t.add(Fve(this)),this}get debugValue(){return this.get()}},S5=class extends UL{constructor(){super();this.observers=new Set;Cs()?.handleObservableCreated(this)}static{o(this,"BaseObservable")}addObserver(r){let n=this.observers.size;this.observers.add(r),n===0&&this.onFirstObserverAdded(),n!==this.observers.size&&Cs()?.handleOnListenerCountChanged(this,this.observers.size)}removeObserver(r){let n=this.observers.delete(r);n&&this.observers.size===0&&this.onLastObserverRemoved(),n&&Cs()?.handleOnListenerCountChanged(this,this.observers.size)}onFirstObserverAdded(){}onLastObserverRemoved(){}log(){let r=!!Cs();return Dve(this),r||Cs()?.handleObservableCreated(this),this}};function GL(e,t){let r=new jb(e,t);try{e(r)}finally{r.finish()}}o(GL,"transaction");function PZ(e,t,r){e?t(e):GL(t,r)}o(PZ,"subtransaction");var jb=class{constructor(t,r){this._fn=t;this._getDebugName=r;this.updatingObservers=[];Cs()?.handleBeginTransaction(this)}static{o(this,"TransactionImpl")}getDebugName(){return this._getDebugName?this._getDebugName():QL(this._fn)}updateObserver(t,r){this.updatingObservers.push({observer:t,observable:r}),t.beginUpdate(r)}finish(){let t=this.updatingObservers;for(let r=0;r<t.length;r++){let{observer:n,observable:i}=t[r];n.endUpdate(i)}this.updatingObservers=null,Cs()?.handleEndTransaction(this)}};function Rm(e,t){let r;return typeof e=="string"?r=new U0(void 0,e,void 0):r=new U0(e,void 0,void 0),new qL(r,t,d1)}o(Rm,"observableValue");var qL=class extends S5{constructor(r,n,i){super();this._debugNameData=r;this._equalityComparator=i;this._value=n,Cs()?.handleObservableUpdated(this,{hadValue:!1,newValue:n,change:void 0,didChange:!0,oldValue:void 0})}static{o(this,"ObservableValue")}get debugName(){return this._debugNameData.getDebugName(this)??"ObservableValue"}get(){return this._value}set(r,n,i){if(i===void 0&&this._equalityComparator(this._value,r))return;let s;n||(n=s=new jb(()=>{},()=>`Setting ${this.debugName}`));try{let a=this._value;this._setValue(r),Cs()?.handleObservableUpdated(this,{oldValue:a,newValue:r,change:i,didChange:!0,hadValue:!0});for(let l of this.observers)n.updateObserver(l,this),l.handleChange(this,i)}finally{s&&s.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(r){this._value=r}};d();d();function t4(e){return new $b(new U0(void 0,void 0,e),e,void 0,void 0)}o(t4,"autorun");function NZ(e,t){return new $b(new U0(e.owner,e.debugName,e.debugReferenceFn??t),t,void 0,void 0)}o(NZ,"autorunOpts");function WL(e,t){return new $b(new U0(e.owner,e.debugName,e.debugReferenceFn??t),t,e.createEmptyChangeSummary,e.handleChange)}o(WL,"autorunHandleChanges");function FZ(e,t){let r=new O0,n=WL({owner:e.owner,debugName:e.debugName,debugReferenceFn:e.debugReferenceFn??t,createEmptyChangeSummary:e.createEmptyChangeSummary,handleChange:e.handleChange},(i,s)=>{r.clear(),t(i,s,r)});return sa(()=>{n.dispose(),r.dispose()})}o(FZ,"autorunWithStoreHandleChanges");function LZ(e){let t=new O0,r=NZ({owner:void 0,debugName:void 0,debugReferenceFn:e},n=>{t.clear(),e(n,t)});return sa(()=>{r.dispose(),t.dispose()})}o(LZ,"autorunWithStore");var $b=class{constructor(t,r,n,i){this._debugNameData=t;this._runFn=r;this.createChangeSummary=n;this._handleChange=i;this.state=2;this.updateCount=0;this.disposed=!1;this.dependencies=new Set;this.dependenciesToBeRemoved=new Set;this._isRunning=!1;this.changeSummary=this.createChangeSummary?.(),Cs()?.handleAutorunCreated(this),this._runIfNeeded(),Wb(this)}static{o(this,"AutorunObserver")}get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}dispose(){this.disposed=!0;for(let t of this.dependencies)t.removeObserver(this);this.dependencies.clear(),Cs()?.handleAutorunDisposed(this),Hb(this)}_runIfNeeded(){if(this.state===3)return;let t=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=t,this.state=3;try{if(!this.disposed){Cs()?.handleAutorunStarted(this);let r=this.changeSummary;try{this.changeSummary=this.createChangeSummary?.(),this._isRunning=!0,this._runFn(this,r)}catch(n){XC(n)}finally{this._isRunning=!1}}}finally{this.disposed||Cs()?.handleAutorunFinished(this);for(let r of this.dependenciesToBeRemoved)r.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(t){this.state===3&&(this.state=1),this.updateCount++}endUpdate(t){try{if(this.updateCount===1)do{if(this.state===1){this.state=3;for(let r of this.dependencies)if(r.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3)}finally{this.updateCount--}T5(()=>this.updateCount>=0)}handlePossibleChange(t){this.state===3&&this._isDependency(t)&&(this.state=1)}handleChange(t,r){if(this._isDependency(t)){Cs()?.handleAutorunDependencyChanged(this,t,r);try{(this._handleChange?this._handleChange({changedObservable:t,change:r,didChange:o(i=>i===t,"didChange")},this.changeSummary):!0)&&(this.state=2)}catch(n){XC(n)}}}_isDependency(t){return this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)}readObservable(t){if(!this._isRunning)throw new gi("The reader object cannot be used outside its compute function!");if(this.disposed)return t.get();t.addObserver(this);let r=t.get();return this.dependencies.add(t),this.dependenciesToBeRemoved.delete(t),r}};(t=>t.Observer=$b)(t4||={});d();function HL(e,t){return new r4(new U0(e.owner,e.debugName,e.debugReferenceFn),t,void 0,void 0,e.onLastObserverRemoved,e.equalsFn??d1)}o(HL,"derivedOpts");Qve(HL);var r4=class extends S5{constructor(r,n,i,s,a=void 0,l){super();this._debugNameData=r;this._computeFn=n;this.createChangeSummary=i;this._handleChange=s;this._handleLastObserverRemoved=a;this._equalityComparator=l;this.state=0;this.value=void 0;this.updateCount=0;this.dependencies=new Set;this.dependenciesToBeRemoved=new Set;this.changeSummary=void 0;this._isUpdating=!1;this._isComputing=!1;this._removedObserverToCallEndUpdateOn=null;this._isReaderValid=!1;this.changeSummary=this.createChangeSummary?.()}static{o(this,"Derived")}get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}onLastObserverRemoved(){this.state=0,this.value=void 0,Cs()?.handleDerivedCleared(this);for(let r of this.dependencies)r.removeObserver(this);this.dependencies.clear(),this._handleLastObserverRemoved?.()}get(){if(this._isComputing,this.observers.size===0){let n;try{this._isReaderValid=!0,n=this._computeFn(this,this.createChangeSummary?.())}finally{this._isReaderValid=!1}return this.onLastObserverRemoved(),n}else{do{if(this.state===1){for(let n of this.dependencies)if(n.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){if(this.state===3)return;let r=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=r;let n=this.state!==0,i=this.value;this.state=3;let s=!1;this._isComputing=!0;try{let a=this.changeSummary;this.changeSummary=this.createChangeSummary?.();try{this._isReaderValid=!0,this.value=this._computeFn(this,a)}finally{this._isReaderValid=!1;for(let l of this.dependenciesToBeRemoved)l.removeObserver(this);this.dependenciesToBeRemoved.clear()}s=n&&!this._equalityComparator(i,this.value),Cs()?.handleObservableUpdated(this,{oldValue:i,newValue:this.value,change:void 0,didChange:s,hadValue:n})}catch(a){XC(a)}if(this._isComputing=!1,s)for(let a of this.observers)a.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(r){if(this._isUpdating)throw new gi("Cyclic deriveds are not supported yet!");this.updateCount++,this._isUpdating=!0;try{let n=this.updateCount===1;if(this.state===3&&(this.state=1,!n))for(let i of this.observers)i.handlePossibleChange(this);if(n)for(let i of this.observers)i.beginUpdate(this)}finally{this._isUpdating=!1}}endUpdate(r){if(this.updateCount--,this.updateCount===0){let n=[...this.observers];for(let i of n)i.endUpdate(this);if(this._removedObserverToCallEndUpdateOn){let i=[...this._removedObserverToCallEndUpdateOn];this._removedObserverToCallEndUpdateOn=null;for(let s of i)s.endUpdate(this)}}T5(()=>this.updateCount>=0)}handlePossibleChange(r){if(this.state===3&&this.dependencies.has(r)&&!this.dependenciesToBeRemoved.has(r)){this.state=1;for(let n of this.observers)n.handlePossibleChange(this)}}handleChange(r,n){if(this.dependencies.has(r)&&!this.dependenciesToBeRemoved.has(r)){Cs()?.handleDerivedDependencyChanged(this,r,n);let i=!1;try{i=this._handleChange?this._handleChange({changedObservable:r,change:n,didChange:o(a=>a===r,"didChange")},this.changeSummary):!0}catch(a){XC(a)}let s=this.state===3;if(i&&(this.state===1||s)&&(this.state=2,s))for(let a of this.observers)a.handlePossibleChange(this)}}readObservable(r){if(!this._isReaderValid)throw new gi("The reader object cannot be used outside its compute function!");r.addObserver(this);let n=r.get();return this.dependencies.add(r),this.dependenciesToBeRemoved.delete(r),n}addObserver(r){let n=!this.observers.has(r)&&this.updateCount>0;super.addObserver(r),n&&(this._removedObserverToCallEndUpdateOn&&this._removedObserverToCallEndUpdateOn.has(r)?this._removedObserverToCallEndUpdateOn.delete(r):r.beginUpdate(this))}removeObserver(r){this.observers.has(r)&&this.updateCount>0&&(this._removedObserverToCallEndUpdateOn||(this._removedObserverToCallEndUpdateOn=new Set),this._removedObserverToCallEndUpdateOn.add(r)),super.removeObserver(r)}};d();d();function QZ(...e){let t,r,n;return e.length===3?[t,r,n]=e:[r,n]=e,new B5(new U0(t,void 0,n),r,n,()=>B5.globalTransaction,d1)}o(QZ,"observableFromEvent");var B5=class extends S5{constructor(r,n,i,s,a){super();this._debugNameData=r;this.event=n;this._getValue=i;this._getTransaction=s;this._equalityComparator=a;this.hasValue=!1;this.handleEvent=o(r=>{let n=this._getValue(r),i=this.value,s=!this.hasValue||!this._equalityComparator(i,n),a=!1;s&&(this.value=n,this.hasValue&&(a=!0,PZ(this._getTransaction(),l=>{Cs()?.handleObservableUpdated(this,{oldValue:i,newValue:n,change:void 0,didChange:s,hadValue:this.hasValue});for(let c of this.observers)l.updateObserver(c,this),c.handleChange(this,void 0)},()=>{let l=this.getDebugName();return"Event fired"+(l?`: ${l}`:"")})),this.hasValue=!0),a||Cs()?.handleObservableUpdated(this,{oldValue:i,newValue:n,change:void 0,didChange:s,hadValue:this.hasValue})},"handleEvent")}static{o(this,"FromEventObservable")}getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){let r=this.getDebugName();return"From Event"+(r?`: ${r}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}};(r=>{r.Observer=B5;function t(n,i){let s=!1;B5.globalTransaction===void 0&&(B5.globalTransaction=n,s=!0);try{i()}finally{s&&(B5.globalTransaction=void 0)}}r.batchEventsGlobally=t,o(t,"batchEventsGlobally")})(QZ||={});function Ove(e){let t=new VL(!1,void 0);return e.addObserver(t),sa(()=>{e.removeObserver(t)})}o(Ove,"keepObserved");Lve(Ove);function Uve(e,t){let r=new VL(!0,t);return e.addObserver(r),t?t(e.get()):e.reportChanges(),sa(()=>{e.removeObserver(r)})}o(Uve,"recomputeInitiallyAndOnChange");Nve(Uve);var VL=class{constructor(t,r){this._forceRecompute=t;this._handleValue=r;this._counter=0}static{o(this,"KeepAliveObserver")}beginUpdate(t){this._counter++}endUpdate(t){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(t.get()):t.reportChanges())}handlePossibleChange(t){}handleChange(t,r){}};function m1(e,t,r,n){let i=new jL(r,n);return HL({debugReferenceFn:r,owner:e,onLastObserverRemoved:o(()=>{i.dispose(),i=new jL(r)},"onLastObserverRemoved")},a=>(i.setItems(t.read(a)),i.getItems()))}o(m1,"mapObservableArrayCached");var jL=class{constructor(t,r){this._map=t;this._keySelector=r;this._cache=new Map;this._items=[]}static{o(this,"ArrayMap")}dispose(){this._cache.forEach(t=>t.store.dispose()),this._cache.clear()}setItems(t){let r=[],n=new Set(this._cache.keys());for(let i of t){let s=this._keySelector?this._keySelector(i):i,a=this._cache.get(s);if(a)n.delete(s);else{let l=new O0;a={out:this._map(i,l),store:l},this._cache.set(s,a)}r.push(a.out)}for(let i of n)this._cache.get(i).store.dispose(),this._cache.delete(i);this._items=r}getItems(){return this._items}};function MZ(e,t){let r;return FZ({createEmptyChangeSummary:o(()=>({deltas:[],didChange:!1}),"createEmptyChangeSummary"),handleChange:o((n,i)=>{if(n.didChange(e)){let s=n.change;s!==void 0&&i.deltas.push(s),i.didChange=!0}return!0},"handleChange")},(n,i)=>{let s=e.read(n),a=r;i.didChange&&(r=s,t(s,a,i.deltas))})}o(MZ,"runOnChange");d();d();d();var qve=Object.freeze(function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}),$L;(n=>{function e(i){return i===n.None||i===n.Cancelled||i instanceof zb?!0:!i||typeof i!="object"?!1:typeof i.isCancellationRequested=="boolean"&&typeof i.onCancellationRequested=="function"}n.isCancellationToken=e,o(e,"isCancellationToken"),n.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:ZC.None}),n.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:qve})})($L||={});var zb=class{constructor(){this._isCancelled=!1;this._emitter=null}static{o(this,"MutableToken")}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?qve:(this._emitter||(this._emitter=new Nu),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}},h1=class{constructor(t){this._token=void 0;this._parentListener=void 0;this._parentListener=t&&t.onCancellationRequested(this.cancel,this)}static{o(this,"CancellationTokenSource")}get token(){return this._token||(this._token=new zb),this._token}cancel(){this._token?this._token instanceof zb&&this._token.cancel():this._token=$L.Cancelled}dispose(t=!1){t&&this.cancel(),this._parentListener?.dispose(),this._token?this._token instanceof zb&&this._token.dispose():this._token=$L.None}};d();var zL;function Gve(e){zL||(zL=new OT,OL(zL)),zL.addFilteredObj(e)}o(Gve,"logObservableToConsole");var OT=class{constructor(){this.indentation=0;this.changedObservablesSets=new WeakMap}static{o(this,"ConsoleObservableLogger")}addFilteredObj(t){this._filteredObjects||(this._filteredObjects=new Set),this._filteredObjects.add(t)}_isIncluded(t){return this._filteredObjects?.has(t)??!0}textToConsoleArgs(t){return Zlt([Yb(r0t("|  ",this.indentation)),t])}formatInfo(t){return t.hadValue?t.didChange?[Yb(" "),td(MT(t.oldValue,70),{color:"red",strikeThrough:!0}),Yb(" "),td(MT(t.newValue,60),{color:"green"})]:[Yb(" (unchanged)")]:[Yb(" "),td(MT(t.newValue,60),{color:"green"}),Yb(" (initial)")]}handleObservableCreated(t){if(t instanceof r4){let r=t;if(this.changedObservablesSets.set(r,new Set),!1){let i=[];r.__debugUpdating=i;let s=r.beginUpdate;r.beginUpdate=l=>(i.push(l),s.apply(r,[l]));let a=r.endUpdate;r.endUpdate=l=>{let c=i.indexOf(l);return c===-1&&console.error("endUpdate called without beginUpdate",r.debugName,l.debugName),i.splice(c,1),a.apply(r,[l])}}}}handleOnListenerCountChanged(t,r){}handleObservableUpdated(t,r){if(this._isIncluded(t)){if(t instanceof r4){this._handleDerivedRecomputed(t,r);return}console.log(...this.textToConsoleArgs([Kb("observable value changed"),td(t.debugName,{color:"BlueViolet"}),...this.formatInfo(r)]))}}formatChanges(t){if(t.size!==0)return td(" (changed deps: "+[...t].map(r=>r.debugName).join(", ")+")",{color:"gray"})}handleDerivedDependencyChanged(t,r,n){this._isIncluded(t)&&this.changedObservablesSets.get(t)?.add(r)}_handleDerivedRecomputed(t,r){if(!this._isIncluded(t))return;let n=this.changedObservablesSets.get(t);n&&(console.log(...this.textToConsoleArgs([Kb("derived recomputed"),td(t.debugName,{color:"BlueViolet"}),...this.formatInfo(r),this.formatChanges(n),{data:[{fn:t._debugNameData.referenceFn??t._computeFn}]}])),n.clear())}handleDerivedCleared(t){this._isIncluded(t)&&console.log(...this.textToConsoleArgs([Kb("derived cleared"),td(t.debugName,{color:"BlueViolet"})]))}handleFromEventObservableTriggered(t,r){this._isIncluded(t)&&console.log(...this.textToConsoleArgs([Kb("observable from event triggered"),td(t.debugName,{color:"BlueViolet"}),...this.formatInfo(r),{data:[{fn:t._getValue}]}]))}handleAutorunCreated(t){this._isIncluded(t)&&this.changedObservablesSets.set(t,new Set)}handleAutorunDisposed(t){}handleAutorunDependencyChanged(t,r,n){this._isIncluded(t)&&this.changedObservablesSets.get(t).add(r)}handleAutorunStarted(t){let r=this.changedObservablesSets.get(t);r&&(this._isIncluded(t)&&console.log(...this.textToConsoleArgs([Kb("autorun"),td(t.debugName,{color:"BlueViolet"}),this.formatChanges(r),{data:[{fn:t._debugNameData.referenceFn??t._runFn}]}])),r.clear(),this.indentation++)}handleAutorunFinished(t){this.indentation--}handleBeginTransaction(t){let r=t.getDebugName();r===void 0&&(r=""),this._isIncluded(t)&&console.log(...this.textToConsoleArgs([Kb("transaction"),td(r,{color:"BlueViolet"}),{data:[{fn:t._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}};function Zlt(e){let t=new Array,r=[],n="";function i(a){if("length"in a)for(let l of a)l&&i(l);else"text"in a?(n+=`%c${a.text}`,t.push(a.style),a.data&&r.push(...a.data)):"data"in a&&r.push(...a.data)}o(i,"process"),i(e);let s=[n,...t];return s.push(...r),s}o(Zlt,"consoleTextToArgs");function Yb(e){return td(e,{color:"black"})}o(Yb,"normalText");function Kb(e){return td(n0t(`${e}: `,10),{color:"black",bold:!0})}o(Kb,"formatKind");function td(e,t={color:"black"}){function r(i){return Object.entries(i).reduce((s,[a,l])=>`${s}${a}:${l};`,"")}o(r,"objToCss");let n={color:t.color};return t.strikeThrough&&(n["text-decoration"]="line-through"),t.bold&&(n["font-weight"]="bold"),{text:e,style:r(n)}}o(td,"styled");function MT(e,t){switch(typeof e){case"number":return""+e;case"string":return e.length+2<=t?`"${e}"`:`"${e.substr(0,t-7)}"+...`;case"boolean":return e?"true":"false";case"undefined":return"undefined";case"object":return e===null?"null":Array.isArray(e)?e0t(e,t):t0t(e,t);case"symbol":return e.toString();case"function":return`[[Function${e.name?" "+e.name:""}]]`;default:return""+e}}o(MT,"formatValue");function e0t(e,t){let r="[ ",n=!0;for(let i of e){if(n||(r+=", "),r.length-5>t){r+="...";break}n=!1,r+=`${MT(i,t-r.length)}`}return r+=" ]",r}o(e0t,"formatArray");function t0t(e,t){if(typeof e.toString=="function"&&e.toString!==Object.prototype.toString){let i=e.toString();return i.length<=t?i:i.substring(0,t-3)+"..."}let r="{ ",n=!0;for(let[i,s]of Object.entries(e)){if(n||(r+=", "),r.length-5>t){r+="...";break}n=!1,r+=`${i}: ${MT(s,t-r.length)}`}return r+=" }",r}o(t0t,"formatObject");function r0t(e,t){let r="";for(let n=1;n<=t;n++)r+=e;return r}o(r0t,"repeat");function n0t(e,t){for(;e.length<t;)e+=" ";return e}o(n0t,"padStr");Rve(Gve);var i0t=!1;i0t&&OL(new OT);d();var n4;(r=>{r.PlainText="plaintext";function t(n){return n}r.create=t,o(t,"create")})(n4||={});d();d();d();function Wve(e){return e}o(Wve,"identity");var YL=class{constructor(t,r){this.lastCache=void 0;this.lastArgKey=void 0;typeof t=="function"?(this._fn=t,this._computeKey=Wve):(this._fn=r,this._computeKey=t.getCacheKey)}static{o(this,"LRUCachedFunction")}get(t){let r=this._computeKey(t);return this.lastArgKey!==r&&(this.lastArgKey=r,this.lastCache=this._fn(t)),this.lastCache}},p1=class{constructor(t,r){this._map=new Map;this._map2=new Map;typeof t=="function"?(this._fn=t,this._computeKey=Wve):(this._fn=r,this._computeKey=t.getCacheKey)}static{o(this,"CachedFunction")}get cachedValues(){return this._map}get(t){let r=this._computeKey(t);if(this._map2.has(r))return this._map2.get(r);let n=this._fn(t);return this._map.set(t,n),this._map2.set(r,n),n}};d();d();var dp=class{constructor(t){this.executor=t;this._didRun=!1}static{o(this,"Lazy")}get hasValue(){return this._didRun}get value(){if(!this._didRun)try{this._value=this.executor()}catch(t){this._error=t}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}};d();function i4(e){return e<0?0:e>4294967295?4294967295:e|0}o(i4,"toUint32");function OZ(e){return e.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}o(OZ,"escapeRegExpCharacters");function k5(e){return e.split(/\r\n|\r|\n/)}o(k5,"splitLines");function zve(e,t){let r=Math.min(e.length,t.length),n;for(n=0;n<r;n++)if(e.charCodeAt(n)!==t.charCodeAt(n))return n;return r}o(zve,"commonPrefixLength");function KL(e,t){let r=Math.min(e.length,t.length),n,i=e.length-1,s=t.length-1;for(n=0;n<r;n++)if(e.charCodeAt(i-n)!==t.charCodeAt(s-n))return n;return r}o(KL,"commonSuffixLength");var s0t=/^[\t\n\r\x20-\x7E]*$/;function UZ(e){return s0t.test(e)}o(UZ,"isBasicASCII");var A7r=String.fromCharCode(65279);var Hve=class e{static{o(this,"GraphemeBreakTree")}static{this._INSTANCE=null}static getInstance(){return e._INSTANCE||(e._INSTANCE=new e),e._INSTANCE}constructor(){this._data=a0t()}getGraphemeBreakType(t){if(t<32)return t===10?3:t===13?2:4;if(t<127)return 0;let r=this._data,n=r.length/3,i=1;for(;i<=n;)if(t<r[3*i])i=2*i;else if(t>r[3*i+1])i=2*i+1;else return r[3*i+2];return 0}};function a0t(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}o(a0t,"getGraphemeBreakRawData");var Vve=class e{constructor(t){this.confusableDictionary=t}static{o(this,"AmbiguousCharacters")}static{this.ambiguousCharacterData=new dp(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'))}static{this.cache=new YL({getCacheKey:JSON.stringify},t=>{function r(f){let m=new Map;for(let h=0;h<f.length;h+=2)m.set(f[h],f[h+1]);return m}o(r,"arrayToMap");function n(f,m){let h=new Map(f);for(let[p,A]of m)h.set(p,A);return h}o(n,"mergeMaps");function i(f,m){if(!f)return m;let h=new Map;for(let[p,A]of f)m.has(p)&&h.set(p,A);return h}o(i,"intersectMaps");let s=this.ambiguousCharacterData.value,a=t.filter(f=>!f.startsWith("_")&&f in s);a.length===0&&(a=["_default"]);let l;for(let f of a){let m=r(s[f]);l=i(l,m)}let c=r(s._common),u=n(c,l);return new e(u)})}static getInstance(t){return e.cache.get(Array.from(t))}static{this._locales=new dp(()=>Object.keys(e.ambiguousCharacterData.value).filter(t=>!t.startsWith("_")))}static getLocales(){return e._locales.value}isAmbiguous(t){return this.confusableDictionary.has(t)}containsAmbiguousCharacter(t){for(let r=0;r<t.length;r++){let n=t.codePointAt(r);if(typeof n=="number"&&this.isAmbiguous(n))return!0}return!1}getPrimaryConfusable(t){return this.confusableDictionary.get(t)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}},jve=class e{static{o(this,"InvisibleCharacters")}static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static{this._data=void 0}static getData(){return this._data||(this._data=new Set(e.getRawData())),this._data}static isInvisibleCharacter(t){return e.getData().has(t)}static containsInvisibleCharacter(t){for(let r=0;r<t.length;r++){let n=t.codePointAt(r);if(typeof n=="number"&&e.isInvisibleCharacter(n))return!0}return!1}static get codePoints(){return e.getData()}};d();var Or=class e{constructor(t,r){this.start=t;this.endExclusive=r;if(t>r)throw new gi(`Invalid range: ${this.toString()}`)}static{o(this,"OffsetRange")}static fromTo(t,r){return new e(t,r)}static addRange(t,r){let n=0;for(;n<r.length&&r[n].endExclusive<t.start;)n++;let i=n;for(;i<r.length&&r[i].start<=t.endExclusive;)i++;if(n===i)r.splice(n,0,t);else{let s=Math.min(t.start,r[n].start),a=Math.max(t.endExclusive,r[i-1].endExclusive);r.splice(n,i-n,new e(s,a))}}static tryCreate(t,r){if(!(t>r))return new e(t,r)}static ofLength(t){return new e(0,t)}static ofStartAndLength(t,r){return new e(t,t+r)}static emptyAt(t){return new e(t,t)}get isEmpty(){return this.start===this.endExclusive}delta(t){return new e(this.start+t,this.endExclusive+t)}deltaStart(t){return new e(this.start+t,this.endExclusive)}deltaEnd(t){return new e(this.start,this.endExclusive+t)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}equals(t){return this.start===t.start&&this.endExclusive===t.endExclusive}containsRange(t){return this.start<=t.start&&t.endExclusive<=this.endExclusive}contains(t){return this.start<=t&&t<this.endExclusive}join(t){return new e(Math.min(this.start,t.start),Math.max(this.endExclusive,t.endExclusive))}intersect(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);if(r<=n)return new e(r,n)}intersectionLength(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);return Math.max(0,n-r)}intersects(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);return r<n}intersectsOrTouches(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);return r<=n}isBefore(t){return this.endExclusive<=t.start}isAfter(t){return this.start>=t.endExclusive}slice(t){return t.slice(this.start,this.endExclusive)}substring(t){return t.substring(this.start,this.endExclusive)}clip(t){if(this.isEmpty)throw new gi(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,t))}clipCyclic(t){if(this.isEmpty)throw new gi(`Invalid clipping range: ${this.toString()}`);return t<this.start?this.endExclusive-(this.start-t)%this.length:t>=this.endExclusive?this.start+(t-this.start)%this.length:t}map(t){let r=[];for(let n=this.start;n<this.endExclusive;n++)r.push(t(n));return r}forEach(t){for(let r=this.start;r<this.endExclusive;r++)t(r)}};d();var so=class e{static{o(this,"Position")}constructor(t,r){this.lineNumber=t,this.column=r}with(t=this.lineNumber,r=this.column){return t===this.lineNumber&&r===this.column?this:new e(t,r)}delta(t=0,r=0){return this.with(this.lineNumber+t,this.column+r)}equals(t){return e.equals(this,t)}static equals(t,r){return!t&&!r?!0:!!t&&!!r&&t.lineNumber===r.lineNumber&&t.column===r.column}isBefore(t){return e.isBefore(this,t)}static isBefore(t,r){return t.lineNumber<r.lineNumber?!0:r.lineNumber<t.lineNumber?!1:t.column<r.column}isBeforeOrEqual(t){return e.isBeforeOrEqual(this,t)}static isBeforeOrEqual(t,r){return t.lineNumber<r.lineNumber?!0:r.lineNumber<t.lineNumber?!1:t.column<=r.column}static compare(t,r){let n=t.lineNumber|0,i=r.lineNumber|0;if(n===i){let s=t.column|0,a=r.column|0;return s-a}return n-i}clone(){return new e(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(t){return new e(t.lineNumber,t.column)}static isIPosition(t){return t&&typeof t.lineNumber=="number"&&typeof t.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}};d();var li=class e{static{o(this,"Range")}constructor(t,r,n,i){t>n||t===n&&r>i?(this.startLineNumber=n,this.startColumn=i,this.endLineNumber=t,this.endColumn=r):(this.startLineNumber=t,this.startColumn=r,this.endLineNumber=n,this.endColumn=i)}isEmpty(){return e.isEmpty(this)}static isEmpty(t){return t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn}containsPosition(t){return e.containsPosition(this,t)}static containsPosition(t,r){return!(r.lineNumber<t.startLineNumber||r.lineNumber>t.endLineNumber||r.lineNumber===t.startLineNumber&&r.column<t.startColumn||r.lineNumber===t.endLineNumber&&r.column>t.endColumn)}static strictContainsPosition(t,r){return!(r.lineNumber<t.startLineNumber||r.lineNumber>t.endLineNumber||r.lineNumber===t.startLineNumber&&r.column<=t.startColumn||r.lineNumber===t.endLineNumber&&r.column>=t.endColumn)}containsRange(t){return e.containsRange(this,t)}static containsRange(t,r){return!(r.startLineNumber<t.startLineNumber||r.endLineNumber<t.startLineNumber||r.startLineNumber>t.endLineNumber||r.endLineNumber>t.endLineNumber||r.startLineNumber===t.startLineNumber&&r.startColumn<t.startColumn||r.endLineNumber===t.endLineNumber&&r.endColumn>t.endColumn)}strictContainsRange(t){return e.strictContainsRange(this,t)}static strictContainsRange(t,r){return!(r.startLineNumber<t.startLineNumber||r.endLineNumber<t.startLineNumber||r.startLineNumber>t.endLineNumber||r.endLineNumber>t.endLineNumber||r.startLineNumber===t.startLineNumber&&r.startColumn<=t.startColumn||r.endLineNumber===t.endLineNumber&&r.endColumn>=t.endColumn)}plusRange(t){return e.plusRange(this,t)}static plusRange(t,r){let n,i,s,a;return r.startLineNumber<t.startLineNumber?(n=r.startLineNumber,i=r.startColumn):r.startLineNumber===t.startLineNumber?(n=r.startLineNumber,i=Math.min(r.startColumn,t.startColumn)):(n=t.startLineNumber,i=t.startColumn),r.endLineNumber>t.endLineNumber?(s=r.endLineNumber,a=r.endColumn):r.endLineNumber===t.endLineNumber?(s=r.endLineNumber,a=Math.max(r.endColumn,t.endColumn)):(s=t.endLineNumber,a=t.endColumn),new e(n,i,s,a)}intersectRanges(t){return e.intersectRanges(this,t)}static intersectRanges(t,r){let n=t.startLineNumber,i=t.startColumn,s=t.endLineNumber,a=t.endColumn,l=r.startLineNumber,c=r.startColumn,u=r.endLineNumber,f=r.endColumn;return n<l?(n=l,i=c):n===l&&(i=Math.max(i,c)),s>u?(s=u,a=f):s===u&&(a=Math.min(a,f)),n>s||n===s&&i>a?null:new e(n,i,s,a)}equalsRange(t){return e.equalsRange(this,t)}static equalsRange(t,r){return!t&&!r?!0:!!t&&!!r&&t.startLineNumber===r.startLineNumber&&t.startColumn===r.startColumn&&t.endLineNumber===r.endLineNumber&&t.endColumn===r.endColumn}getEndPosition(){return e.getEndPosition(this)}static getEndPosition(t){return new so(t.endLineNumber,t.endColumn)}getStartPosition(){return e.getStartPosition(this)}static getStartPosition(t){return new so(t.startLineNumber,t.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(t,r){return new e(this.startLineNumber,this.startColumn,t,r)}setStartPosition(t,r){return new e(t,r,this.endLineNumber,this.endColumn)}collapseToStart(){return e.collapseToStart(this)}static collapseToStart(t){return new e(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn)}collapseToEnd(){return e.collapseToEnd(this)}static collapseToEnd(t){return new e(t.endLineNumber,t.endColumn,t.endLineNumber,t.endColumn)}delta(t){return new e(this.startLineNumber+t,this.startColumn,this.endLineNumber+t,this.endColumn)}isSingleLine(){return this.startLineNumber===this.endLineNumber}static fromPositions(t,r=t){return new e(t.lineNumber,t.column,r.lineNumber,r.column)}static lift(t){return t?new e(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):null}static isIRange(t){return t&&typeof t.startLineNumber=="number"&&typeof t.startColumn=="number"&&typeof t.endLineNumber=="number"&&typeof t.endColumn=="number"}static areIntersectingOrTouching(t,r){return!(t.endLineNumber<r.startLineNumber||t.endLineNumber===r.startLineNumber&&t.endColumn<r.startColumn||r.endLineNumber<t.startLineNumber||r.endLineNumber===t.startLineNumber&&r.endColumn<t.startColumn)}static areIntersecting(t,r){return!(t.endLineNumber<r.startLineNumber||t.endLineNumber===r.startLineNumber&&t.endColumn<=r.startColumn||r.endLineNumber<t.startLineNumber||r.endLineNumber===t.startLineNumber&&r.endColumn<=t.startColumn)}static compareRangesUsingStarts(t,r){if(t&&r){let s=t.startLineNumber|0,a=r.startLineNumber|0;if(s===a){let l=t.startColumn|0,c=r.startColumn|0;if(l===c){let u=t.endLineNumber|0,f=r.endLineNumber|0;if(u===f){let m=t.endColumn|0,h=r.endColumn|0;return m-h}return u-f}return l-c}return s-a}return(t?1:0)-(r?1:0)}static compareRangesUsingEnds(t,r){return t.endLineNumber===r.endLineNumber?t.endColumn===r.endColumn?t.startLineNumber===r.startLineNumber?t.startColumn-r.startColumn:t.startLineNumber-r.startLineNumber:t.endColumn-r.endColumn:t.endLineNumber-r.endLineNumber}static spansMultipleLines(t){return t.endLineNumber>t.startLineNumber}toJSON(){return this}};d();d();var Hn=class e{static{o(this,"LineRange")}static fromRange(t){return new e(t.startLineNumber,t.endLineNumber)}static fromRangeInclusive(t){return new e(t.startLineNumber,t.endLineNumber+1)}static subtract(t,r){return r?t.startLineNumber<r.startLineNumber&&r.endLineNumberExclusive<t.endLineNumberExclusive?[new e(t.startLineNumber,r.startLineNumber),new e(r.endLineNumberExclusive,t.endLineNumberExclusive)]:r.startLineNumber<=t.startLineNumber&&t.endLineNumberExclusive<=r.endLineNumberExclusive?[]:r.endLineNumberExclusive<t.endLineNumberExclusive?[new e(Math.max(r.endLineNumberExclusive,t.startLineNumber),t.endLineNumberExclusive)]:[new e(t.startLineNumber,Math.min(r.startLineNumber,t.endLineNumberExclusive))]:[t]}static joinMany(t){if(t.length===0)return[];let r=new JL(t[0].slice());for(let n=1;n<t.length;n++)r=r.getUnion(new JL(t[n].slice()));return r.ranges}static join(t){if(t.length===0)throw new gi("lineRanges cannot be empty");let r=t[0].startLineNumber,n=t[0].endLineNumberExclusive;for(let i=1;i<t.length;i++)r=Math.min(r,t[i].startLineNumber),n=Math.max(n,t[i].endLineNumberExclusive);return new e(r,n)}static ofLength(t,r){return new e(t,t+r)}static deserialize(t){return new e(t[0],t[1])}constructor(t,r){if(t>r)throw new gi(`startLineNumber ${t} cannot be after endLineNumberExclusive ${r}`);this.startLineNumber=t,this.endLineNumberExclusive=r}contains(t){return this.startLineNumber<=t&&t<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(t){return new e(this.startLineNumber+t,this.endLineNumberExclusive+t)}deltaLength(t){return new e(this.startLineNumber,this.endLineNumberExclusive+t)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(t){return new e(Math.min(this.startLineNumber,t.startLineNumber),Math.max(this.endLineNumberExclusive,t.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(t){let r=Math.max(this.startLineNumber,t.startLineNumber),n=Math.min(this.endLineNumberExclusive,t.endLineNumberExclusive);if(r<=n)return new e(r,n)}intersectsStrict(t){return this.startLineNumber<t.endLineNumberExclusive&&t.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(t){return this.startLineNumber<=t.endLineNumberExclusive&&t.startLineNumber<=this.endLineNumberExclusive}equals(t){return this.startLineNumber===t.startLineNumber&&this.endLineNumberExclusive===t.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new li(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new li(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(t){let r=[];for(let n=this.startLineNumber;n<this.endLineNumberExclusive;n++)r.push(t(n));return r}forEach(t){for(let r=this.startLineNumber;r<this.endLineNumberExclusive;r++)t(r)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(t){return this.startLineNumber<=t&&t<this.endLineNumberExclusive}toOffsetRange(){return new Or(this.startLineNumber-1,this.endLineNumberExclusive-1)}distanceToRange(t){return this.endLineNumberExclusive<=t.startLineNumber?t.startLineNumber-this.endLineNumberExclusive:t.endLineNumberExclusive<=this.startLineNumber?this.startLineNumber-t.endLineNumberExclusive:0}distanceToLine(t){return this.contains(t)?0:t<this.startLineNumber?this.startLineNumber-t:t-this.endLineNumberExclusive}addMargin(t,r){return new e(this.startLineNumber-t,this.endLineNumberExclusive+r)}},JL=class e{constructor(t=[]){this._normalizedRanges=t}static{o(this,"LineRangeSet")}get ranges(){return this._normalizedRanges}addRange(t){if(t.length===0)return;let r=qb(this._normalizedRanges,i=>i.endLineNumberExclusive>=t.startLineNumber),n=km(this._normalizedRanges,i=>i.startLineNumber<=t.endLineNumberExclusive)+1;if(r===n)this._normalizedRanges.splice(r,0,t);else if(r===n-1){let i=this._normalizedRanges[r];this._normalizedRanges[r]=i.join(t)}else{let i=this._normalizedRanges[r].join(this._normalizedRanges[n-1]).join(t);this._normalizedRanges.splice(r,n-r,i)}}contains(t){let r=AZ(this._normalizedRanges,n=>n.startLineNumber<=t);return!!r&&r.endLineNumberExclusive>t}intersects(t){let r=AZ(this._normalizedRanges,n=>n.startLineNumber<t.endLineNumberExclusive);return!!r&&r.endLineNumberExclusive>t.startLineNumber}getUnion(t){if(this._normalizedRanges.length===0)return t;if(t._normalizedRanges.length===0)return this;let r=[],n=0,i=0,s=null;for(;n<this._normalizedRanges.length||i<t._normalizedRanges.length;){let a=null;if(n<this._normalizedRanges.length&&i<t._normalizedRanges.length){let l=this._normalizedRanges[n],c=t._normalizedRanges[i];l.startLineNumber<c.startLineNumber?(a=l,n++):(a=c,i++)}else n<this._normalizedRanges.length?(a=this._normalizedRanges[n],n++):(a=t._normalizedRanges[i],i++);s===null?s=a:s.endLineNumberExclusive>=a.startLineNumber?s=new Hn(s.startLineNumber,Math.max(s.endLineNumberExclusive,a.endLineNumberExclusive)):(r.push(s),s=a)}return s!==null&&r.push(s),new e(r)}subtractFrom(t){let r=qb(this._normalizedRanges,a=>a.endLineNumberExclusive>=t.startLineNumber),n=km(this._normalizedRanges,a=>a.startLineNumber<=t.endLineNumberExclusive)+1;if(r===n)return new e([t]);let i=[],s=t.startLineNumber;for(let a=r;a<n;a++){let l=this._normalizedRanges[a];l.startLineNumber>s&&i.push(new Hn(s,l.startLineNumber)),s=l.endLineNumberExclusive}return s<t.endLineNumberExclusive&&i.push(new Hn(s,t.endLineNumberExclusive)),new e(i)}toString(){return this._normalizedRanges.map(t=>t.toString()).join(", ")}getIntersection(t){let r=[],n=0,i=0;for(;n<this._normalizedRanges.length&&i<t._normalizedRanges.length;){let s=this._normalizedRanges[n],a=t._normalizedRanges[i],l=s.intersect(a);l&&!l.isEmpty&&r.push(l),s.endLineNumberExclusive<a.endLineNumberExclusive?n++:i++}return new e(r)}getWithDelta(t){return new e(this._normalizedRanges.map(r=>r.delta(t)))}};var Fu=class e{constructor(t,r){this.lineCount=t;this.columnCount=r}static{o(this,"TextLength")}static{this.zero=new e(0,0)}static lengthDiffNonNegative(t,r){return r.isLessThan(t)?e.zero:t.lineCount===r.lineCount?new e(0,r.columnCount-t.columnCount):new e(r.lineCount-t.lineCount,r.columnCount)}static betweenPositions(t,r){return t.lineNumber===r.lineNumber?new e(0,r.column-t.column):new e(r.lineNumber-t.lineNumber,r.column-1)}static fromPosition(t){return new e(t.lineNumber-1,t.column-1)}static ofRange(t){return e.betweenPositions(t.getStartPosition(),t.getEndPosition())}static ofText(t){let r=0,n=0;for(let i of t)i===`
`?(r++,n=0):n++;return new e(r,n)}isZero(){return this.lineCount===0&&this.columnCount===0}isLessThan(t){return this.lineCount!==t.lineCount?this.lineCount<t.lineCount:this.columnCount<t.columnCount}isGreaterThan(t){return this.lineCount!==t.lineCount?this.lineCount>t.lineCount:this.columnCount>t.columnCount}isGreaterThanOrEqualTo(t){return this.lineCount!==t.lineCount?this.lineCount>t.lineCount:this.columnCount>=t.columnCount}equals(t){return this.lineCount===t.lineCount&&this.columnCount===t.columnCount}compare(t){return this.lineCount!==t.lineCount?this.lineCount-t.lineCount:this.columnCount-t.columnCount}add(t){return t.lineCount===0?new e(this.lineCount,this.columnCount+t.columnCount):new e(this.lineCount+t.lineCount,t.columnCount)}createRange(t){return this.lineCount===0?new li(t.lineNumber,t.column,t.lineNumber,t.column+this.columnCount):new li(t.lineNumber,t.column,t.lineNumber+this.lineCount,this.columnCount+1)}toRange(){return new li(1,1,this.lineCount+1,this.columnCount+1)}toLineRange(){return Hn.ofLength(1,this.lineCount)}addToPosition(t){return this.lineCount===0?new so(t.lineNumber,t.column+this.columnCount):new so(t.lineNumber+this.lineCount,this.columnCount+1)}addToRange(t){return li.fromPositions(this.addToPosition(t.getStartPosition()),this.addToPosition(t.getEndPosition()))}toString(){return`${this.lineCount},${this.columnCount}`}};var hl=class e{constructor(t){this.value=t}static{o(this,"StringValue")}apply(t){return new e(t.apply(this.value))}equals(t){return this.value===t.value}getTransformer(){return this._transformer||(this._transformer=new qZ(this.value)),this._transformer}getValueOfRange(t){return this.getTransformer().getOffsetRange(t).substring(this.value)}getLines(){return k5(this.value)}getLineAt(t){return this.getLines()[t-1]}toString(){return this.value}getTextLength(){return this.getTransformer().textLength}},qZ=class{constructor(t){this.text=t;this.lineStartOffsetByLineIdx=[],this.lineEndOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let r=0;r<t.length;r++)t.charAt(r)===`
`&&(this.lineStartOffsetByLineIdx.push(r+1),r>0&&t.charAt(r-1)==="\r"?this.lineEndOffsetByLineIdx.push(r-1):this.lineEndOffsetByLineIdx.push(r));this.lineEndOffsetByLineIdx.push(t.length)}static{o(this,"PositionOffsetTransformer")}getOffset(t){return this.lineStartOffsetByLineIdx[t.lineNumber-1]+t.column-1}getOffsetRange(t){return new Or(this.getOffset(t.getStartPosition()),this.getOffset(t.getEndPosition()))}getPosition(t){let r=km(this.lineStartOffsetByLineIdx,s=>s<=t),n=r+1,i=t-this.lineStartOffsetByLineIdx[r]+1;return new so(n,i)}getRange(t){return li.fromPositions(this.getPosition(t.start),this.getPosition(t.endExclusive))}getTextLength(t){return Fu.ofRange(this.getRange(t))}get textLength(){let t=this.lineStartOffsetByLineIdx.length-1;return new Fu(t,this.text.length-this.lineStartOffsetByLineIdx[t])}getLineLength(t){return this.lineEndOffsetByLineIdx[t-1]-this.lineStartOffsetByLineIdx[t-1]}};var mp=class{static{o(this,"ObservableWorkspace")}getFirstOpenDocument(){return this.openDocuments.get()[0]}getDocument(t){return this.openDocuments.get().find(r=>r.id===t)}};var XL=class extends oa{constructor(r,n,i,s,a,l){super();this.id=r;this.workspaceRoot=l;this.value=Rm(this,n),this.selection=Rm(this,i),this.languageId=Rm(this,s),this._register(sa(a))}static{o(this,"MutableObservableDocument")}applyEdit(r,n=void 0){let i=this.value.get().apply(r);this.value.set(i,n,r)}updateSelection(r,n=void 0){this.selection.set(r,n)}};var ube=ft(Ii());d();d();d();d();var eQ=!1,tQ=!1,ZL=!1,l0t=!1,c0t=!1,Yve=!1,u0t=!1,f0t=!1,d0t=!1,m0t=!1;var g1,A1=globalThis,rd;typeof A1.vscode<"u"&&typeof A1.vscode.process<"u"?rd=A1.vscode.process:typeof process<"u"&&typeof process?.versions?.node=="string"&&(rd=process);var Kve=typeof rd?.versions?.electron=="string",h0t=Kve&&rd?.type==="renderer";typeof rd=="object"?(eQ=rd.platform==="win32",tQ=rd.platform==="darwin",ZL=rd.platform==="linux",l0t=ZL&&!!rd.env.SNAP&&!!rd.env.SNAP_REVISION,u0t=Kve,d0t=!!rd.env.CI||!!rd.env.BUILD_ARTIFACTSTAGINGDIRECTORY,c0t=!0):typeof navigator=="object"&&!h0t?(g1=navigator.userAgent,eQ=g1.indexOf("Windows")>=0,tQ=g1.indexOf("Macintosh")>=0,f0t=(g1.indexOf("Macintosh")>=0||g1.indexOf("iPad")>=0||g1.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,ZL=g1.indexOf("Linux")>=0,m0t=g1?.indexOf("Mobi")>=0,Yve=!0):console.error("Unable to resolve platform.");var GZ=0;tQ?GZ=1:eQ?GZ=3:ZL&&(GZ=2);var o4=eQ,Jve=tQ;var p0t=Yve&&typeof A1.importScripts=="function",mTr=p0t?A1.origin:void 0;var hp=g1;var g0t=typeof A1.postMessage=="function"&&!A1.importScripts,hTr=(()=>{if(g0t){let e=[];A1.addEventListener("message",r=>{if(r.data&&r.data.vscodeScheduleAsyncWork)for(let n=0,i=e.length;n<i;n++){let s=e[n];if(s.id===r.data.vscodeScheduleAsyncWork){e.splice(n,1),s.callback();return}}});let t=0;return r=>{let n=++t;e.push({id:n,callback:r}),A1.postMessage({vscodeScheduleAsyncWork:n},"*")}}return e=>setTimeout(e)})();var A0t=!!(hp&&hp.indexOf("Chrome")>=0),pTr=!!(hp&&hp.indexOf("Firefox")>=0),gTr=!!(!A0t&&hp&&hp.indexOf("Safari")>=0),ATr=!!(hp&&hp.indexOf("Edg/")>=0),yTr=!!(hp&&hp.indexOf("Android")>=0);var s4,WZ=globalThis.vscode;if(typeof WZ<"u"&&typeof WZ.process<"u"){let e=WZ.process;s4={get platform(){return e.platform},get arch(){return e.arch},get env(){return e.env},cwd(){return e.cwd()}}}else typeof process<"u"&&typeof process?.versions?.node=="string"?s4={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:s4={get platform(){return o4?"win32":Jve?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};var UT=s4.cwd,Xve=s4.env,Zve=s4.platform,ITr=s4.arch;var C0t=65,E0t=97,x0t=90,v0t=122,P5=46,pl=47,Dc=92,R5=58,b0t=63,rQ=class extends Error{static{o(this,"ErrorInvalidArgType")}constructor(t,r,n){let i;typeof r=="string"&&r.indexOf("not ")===0?(i="must not be",r=r.replace(/^not /,"")):i="must be";let s=t.indexOf(".")!==-1?"property":"argument",a=`The "${t}" ${s} ${i} of type ${r}`;a+=`. Received type ${typeof n}`,super(a),this.code="ERR_INVALID_ARG_TYPE"}};function I0t(e,t){if(e===null||typeof e!="object")throw new rQ(t,"Object",e)}o(I0t,"validateObject");function qs(e,t){if(typeof e!="string")throw new rQ(t,"string",e)}o(qs,"validateString");var Pc=Zve==="win32";function Vn(e){return e===pl||e===Dc}o(Vn,"isPathSeparator");function HZ(e){return e===pl}o(HZ,"isPosixPathSeparator");function D5(e){return e>=C0t&&e<=x0t||e>=E0t&&e<=v0t}o(D5,"isWindowsDeviceRoot");function nQ(e,t,r,n){let i="",s=0,a=-1,l=0,c=0;for(let u=0;u<=e.length;++u){if(u<e.length)c=e.charCodeAt(u);else{if(n(c))break;c=pl}if(n(c)){if(!(a===u-1||l===1))if(l===2){if(i.length<2||s!==2||i.charCodeAt(i.length-1)!==P5||i.charCodeAt(i.length-2)!==P5){if(i.length>2){let f=i.lastIndexOf(r);f===-1?(i="",s=0):(i=i.slice(0,f),s=i.length-1-i.lastIndexOf(r)),a=u,l=0;continue}else if(i.length!==0){i="",s=0,a=u,l=0;continue}}t&&(i+=i.length>0?`${r}..`:"..",s=2)}else i.length>0?i+=`${r}${e.slice(a+1,u)}`:i=e.slice(a+1,u),s=u-a-1;a=u,l=0}else c===P5&&l!==-1?++l:l=-1}return i}o(nQ,"normalizeString");function T0t(e){return e?`${e[0]==="."?"":"."}${e}`:""}o(T0t,"formatExt");function ebe(e,t){I0t(t,"pathObject");let r=t.dir||t.root,n=t.base||`${t.name||""}${T0t(t.ext)}`;return r?r===t.root?`${r}${n}`:`${r}${e}${n}`:n}o(ebe,"_format");var Gs={resolve(...e){let t="",r="",n=!1;for(let i=e.length-1;i>=-1;i--){let s;if(i>=0){if(s=e[i],qs(s,`paths[${i}]`),s.length===0)continue}else t.length===0?s=UT():(s=Xve[`=${t}`]||UT(),(s===void 0||s.slice(0,2).toLowerCase()!==t.toLowerCase()&&s.charCodeAt(2)===Dc)&&(s=`${t}\\`));let a=s.length,l=0,c="",u=!1,f=s.charCodeAt(0);if(a===1)Vn(f)&&(l=1,u=!0);else if(Vn(f))if(u=!0,Vn(s.charCodeAt(1))){let m=2,h=m;for(;m<a&&!Vn(s.charCodeAt(m));)m++;if(m<a&&m!==h){let p=s.slice(h,m);for(h=m;m<a&&Vn(s.charCodeAt(m));)m++;if(m<a&&m!==h){for(h=m;m<a&&!Vn(s.charCodeAt(m));)m++;(m===a||m!==h)&&(c=`\\\\${p}\\${s.slice(h,m)}`,l=m)}}}else l=1;else D5(f)&&s.charCodeAt(1)===R5&&(c=s.slice(0,2),l=2,a>2&&Vn(s.charCodeAt(2))&&(u=!0,l=3));if(c.length>0)if(t.length>0){if(c.toLowerCase()!==t.toLowerCase())continue}else t=c;if(n){if(t.length>0)break}else if(r=`${s.slice(l)}\\${r}`,n=u,u&&t.length>0)break}return r=nQ(r,!n,"\\",Vn),n?`${t}\\${r}`:`${t}${r}`||"."},normalize(e){qs(e,"path");let t=e.length;if(t===0)return".";let r=0,n,i=!1,s=e.charCodeAt(0);if(t===1)return HZ(s)?"\\":e;if(Vn(s))if(i=!0,Vn(e.charCodeAt(1))){let l=2,c=l;for(;l<t&&!Vn(e.charCodeAt(l));)l++;if(l<t&&l!==c){let u=e.slice(c,l);for(c=l;l<t&&Vn(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&!Vn(e.charCodeAt(l));)l++;if(l===t)return`\\\\${u}\\${e.slice(c)}\\`;l!==c&&(n=`\\\\${u}\\${e.slice(c,l)}`,r=l)}}}else r=1;else D5(s)&&e.charCodeAt(1)===R5&&(n=e.slice(0,2),r=2,t>2&&Vn(e.charCodeAt(2))&&(i=!0,r=3));let a=r<t?nQ(e.slice(r),!i,"\\",Vn):"";return a.length===0&&!i&&(a="."),a.length>0&&Vn(e.charCodeAt(t-1))&&(a+="\\"),n===void 0?i?`\\${a}`:a:i?`${n}\\${a}`:`${n}${a}`},isAbsolute(e){qs(e,"path");let t=e.length;if(t===0)return!1;let r=e.charCodeAt(0);return Vn(r)||t>2&&D5(r)&&e.charCodeAt(1)===R5&&Vn(e.charCodeAt(2))},join(...e){if(e.length===0)return".";let t,r;for(let s=0;s<e.length;++s){let a=e[s];qs(a,"path"),a.length>0&&(t===void 0?t=r=a:t+=`\\${a}`)}if(t===void 0)return".";let n=!0,i=0;if(typeof r=="string"&&Vn(r.charCodeAt(0))){++i;let s=r.length;s>1&&Vn(r.charCodeAt(1))&&(++i,s>2&&(Vn(r.charCodeAt(2))?++i:n=!1))}if(n){for(;i<t.length&&Vn(t.charCodeAt(i));)i++;i>=2&&(t=`\\${t.slice(i)}`)}return Gs.normalize(t)},relative(e,t){if(qs(e,"from"),qs(t,"to"),e===t)return"";let r=Gs.resolve(e),n=Gs.resolve(t);if(r===n||(e=r.toLowerCase(),t=n.toLowerCase(),e===t))return"";let i=0;for(;i<e.length&&e.charCodeAt(i)===Dc;)i++;let s=e.length;for(;s-1>i&&e.charCodeAt(s-1)===Dc;)s--;let a=s-i,l=0;for(;l<t.length&&t.charCodeAt(l)===Dc;)l++;let c=t.length;for(;c-1>l&&t.charCodeAt(c-1)===Dc;)c--;let u=c-l,f=a<u?a:u,m=-1,h=0;for(;h<f;h++){let A=e.charCodeAt(i+h);if(A!==t.charCodeAt(l+h))break;A===Dc&&(m=h)}if(h!==f){if(m===-1)return n}else{if(u>f){if(t.charCodeAt(l+h)===Dc)return n.slice(l+h+1);if(h===2)return n.slice(l+h)}a>f&&(e.charCodeAt(i+h)===Dc?m=h:h===2&&(m=3)),m===-1&&(m=0)}let p="";for(h=i+m+1;h<=s;++h)(h===s||e.charCodeAt(h)===Dc)&&(p+=p.length===0?"..":"\\..");return l+=m,p.length>0?`${p}${n.slice(l,c)}`:(n.charCodeAt(l)===Dc&&++l,n.slice(l,c))},toNamespacedPath(e){if(typeof e!="string"||e.length===0)return e;let t=Gs.resolve(e);if(t.length<=2)return e;if(t.charCodeAt(0)===Dc){if(t.charCodeAt(1)===Dc){let r=t.charCodeAt(2);if(r!==b0t&&r!==P5)return`\\\\?\\UNC\\${t.slice(2)}`}}else if(D5(t.charCodeAt(0))&&t.charCodeAt(1)===R5&&t.charCodeAt(2)===Dc)return`\\\\?\\${t}`;return e},dirname(e){qs(e,"path");let t=e.length;if(t===0)return".";let r=-1,n=0,i=e.charCodeAt(0);if(t===1)return Vn(i)?e:".";if(Vn(i)){if(r=n=1,Vn(e.charCodeAt(1))){let l=2,c=l;for(;l<t&&!Vn(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&Vn(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&!Vn(e.charCodeAt(l));)l++;if(l===t)return e;l!==c&&(r=n=l+1)}}}}else D5(i)&&e.charCodeAt(1)===R5&&(r=t>2&&Vn(e.charCodeAt(2))?3:2,n=r);let s=-1,a=!0;for(let l=t-1;l>=n;--l)if(Vn(e.charCodeAt(l))){if(!a){s=l;break}}else a=!1;if(s===-1){if(r===-1)return".";s=r}return e.slice(0,s)},basename(e,t){t!==void 0&&qs(t,"suffix"),qs(e,"path");let r=0,n=-1,i=!0,s;if(e.length>=2&&D5(e.charCodeAt(0))&&e.charCodeAt(1)===R5&&(r=2),t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,l=-1;for(s=e.length-1;s>=r;--s){let c=e.charCodeAt(s);if(Vn(c)){if(!i){r=s+1;break}}else l===-1&&(i=!1,l=s+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(n=s):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}for(s=e.length-1;s>=r;--s)if(Vn(e.charCodeAt(s))){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":e.slice(r,n)},extname(e){qs(e,"path");let t=0,r=-1,n=0,i=-1,s=!0,a=0;e.length>=2&&e.charCodeAt(1)===R5&&D5(e.charCodeAt(0))&&(t=n=2);for(let l=e.length-1;l>=t;--l){let c=e.charCodeAt(l);if(Vn(c)){if(!s){n=l+1;break}continue}i===-1&&(s=!1,i=l+1),c===P5?r===-1?r=l:a!==1&&(a=1):r!==-1&&(a=-1)}return r===-1||i===-1||a===0||a===1&&r===i-1&&r===n+1?"":e.slice(r,i)},format:ebe.bind(null,"\\"),parse(e){qs(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.length,n=0,i=e.charCodeAt(0);if(r===1)return Vn(i)?(t.root=t.dir=e,t):(t.base=t.name=e,t);if(Vn(i)){if(n=1,Vn(e.charCodeAt(1))){let m=2,h=m;for(;m<r&&!Vn(e.charCodeAt(m));)m++;if(m<r&&m!==h){for(h=m;m<r&&Vn(e.charCodeAt(m));)m++;if(m<r&&m!==h){for(h=m;m<r&&!Vn(e.charCodeAt(m));)m++;m===r?n=m:m!==h&&(n=m+1)}}}}else if(D5(i)&&e.charCodeAt(1)===R5){if(r<=2)return t.root=t.dir=e,t;if(n=2,Vn(e.charCodeAt(2))){if(r===3)return t.root=t.dir=e,t;n=3}}n>0&&(t.root=e.slice(0,n));let s=-1,a=n,l=-1,c=!0,u=e.length-1,f=0;for(;u>=n;--u){if(i=e.charCodeAt(u),Vn(i)){if(!c){a=u+1;break}continue}l===-1&&(c=!1,l=u+1),i===P5?s===-1?s=u:f!==1&&(f=1):s!==-1&&(f=-1)}return l!==-1&&(s===-1||f===0||f===1&&s===l-1&&s===a+1?t.base=t.name=e.slice(a,l):(t.name=e.slice(a,s),t.base=e.slice(a,l),t.ext=e.slice(s,l))),a>0&&a!==n?t.dir=e.slice(0,a-1):t.dir=t.root,t},sep:"\\",delimiter:";",win32:null,posix:null},w0t=(()=>{if(Pc){let e=/\\/g;return()=>{let t=UT().replace(e,"/");return t.slice(t.indexOf("/"))}}return()=>UT()})(),aa={resolve(...e){let t="",r=!1;for(let n=e.length-1;n>=-1&&!r;n--){let i=n>=0?e[n]:w0t();qs(i,`paths[${n}]`),i.length!==0&&(t=`${i}/${t}`,r=i.charCodeAt(0)===pl)}return t=nQ(t,!r,"/",HZ),r?`/${t}`:t.length>0?t:"."},normalize(e){if(qs(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===pl,r=e.charCodeAt(e.length-1)===pl;return e=nQ(e,!t,"/",HZ),e.length===0?t?"/":r?"./":".":(r&&(e+="/"),t?`/${e}`:e)},isAbsolute(e){return qs(e,"path"),e.length>0&&e.charCodeAt(0)===pl},join(...e){if(e.length===0)return".";let t;for(let r=0;r<e.length;++r){let n=e[r];qs(n,"path"),n.length>0&&(t===void 0?t=n:t+=`/${n}`)}return t===void 0?".":aa.normalize(t)},relative(e,t){if(qs(e,"from"),qs(t,"to"),e===t||(e=aa.resolve(e),t=aa.resolve(t),e===t))return"";let r=1,n=e.length,i=n-r,s=1,a=t.length-s,l=i<a?i:a,c=-1,u=0;for(;u<l;u++){let m=e.charCodeAt(r+u);if(m!==t.charCodeAt(s+u))break;m===pl&&(c=u)}if(u===l)if(a>l){if(t.charCodeAt(s+u)===pl)return t.slice(s+u+1);if(u===0)return t.slice(s+u)}else i>l&&(e.charCodeAt(r+u)===pl?c=u:u===0&&(c=0));let f="";for(u=r+c+1;u<=n;++u)(u===n||e.charCodeAt(u)===pl)&&(f+=f.length===0?"..":"/..");return`${f}${t.slice(s+c)}`},toNamespacedPath(e){return e},dirname(e){if(qs(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===pl,r=-1,n=!0;for(let i=e.length-1;i>=1;--i)if(e.charCodeAt(i)===pl){if(!n){r=i;break}}else n=!1;return r===-1?t?"/":".":t&&r===1?"//":e.slice(0,r)},basename(e,t){t!==void 0&&qs(t,"ext"),qs(e,"path");let r=0,n=-1,i=!0,s;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,l=-1;for(s=e.length-1;s>=0;--s){let c=e.charCodeAt(s);if(c===pl){if(!i){r=s+1;break}}else l===-1&&(i=!1,l=s+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(n=s):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}for(s=e.length-1;s>=0;--s)if(e.charCodeAt(s)===pl){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":e.slice(r,n)},extname(e){qs(e,"path");let t=-1,r=0,n=-1,i=!0,s=0;for(let a=e.length-1;a>=0;--a){let l=e.charCodeAt(a);if(l===pl){if(!i){r=a+1;break}continue}n===-1&&(i=!1,n=a+1),l===P5?t===-1?t=a:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||n===-1||s===0||s===1&&t===n-1&&t===r+1?"":e.slice(t,n)},format:ebe.bind(null,"/"),parse(e){qs(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.charCodeAt(0)===pl,n;r?(t.root="/",n=1):n=0;let i=-1,s=0,a=-1,l=!0,c=e.length-1,u=0;for(;c>=n;--c){let f=e.charCodeAt(c);if(f===pl){if(!l){s=c+1;break}continue}a===-1&&(l=!1,a=c+1),f===P5?i===-1?i=c:u!==1&&(u=1):i!==-1&&(u=-1)}if(a!==-1){let f=s===0&&r?1:s;i===-1||u===0||u===1&&i===a-1&&i===s+1?t.base=t.name=e.slice(f,a):(t.name=e.slice(f,i),t.base=e.slice(f,a),t.ext=e.slice(i,a))}return s>0?t.dir=e.slice(0,s-1):r&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};aa.win32=Gs.win32=Gs;aa.posix=Gs.posix=aa;var wTr=Pc?Gs.normalize:aa.normalize,_Tr=Pc?Gs.isAbsolute:aa.isAbsolute,STr=Pc?Gs.join:aa.join,BTr=Pc?Gs.resolve:aa.resolve,kTr=Pc?Gs.relative:aa.relative,RTr=Pc?Gs.dirname:aa.dirname,tbe=Pc?Gs.basename:aa.basename,rbe=Pc?Gs.extname:aa.extname,DTr=Pc?Gs.format:aa.format,PTr=Pc?Gs.parse:aa.parse,NTr=Pc?Gs.toNamespacedPath:aa.toNamespacedPath,FTr=Pc?Gs.sep:aa.sep,LTr=Pc?Gs.delimiter:aa.delimiter;d();d();var S0t=/^\w[\w\d+.-]*$/,B0t=/^\//,k0t=/^\/\//;function R0t(e,t){if(!e.scheme&&t)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${e.authority}", path: "${e.path}", query: "${e.query}", fragment: "${e.fragment}"}`);if(e.scheme&&!S0t.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path){if(e.authority){if(!B0t.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(k0t.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}o(R0t,"_validateUri");function D0t(e,t){return!e&&!t?"file":e}o(D0t,"_schemeFix");function P0t(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==Dm&&(t=Dm+t):t=Dm;break}return t}o(P0t,"_referenceResolution");var Bo="",Dm="/",N0t=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,F5=class e{static{o(this,"URI")}static isUri(t){return t instanceof e?!0:t?typeof t.authority=="string"&&typeof t.fragment=="string"&&typeof t.path=="string"&&typeof t.query=="string"&&typeof t.scheme=="string"&&typeof t.fsPath=="string"&&typeof t.with=="function"&&typeof t.toString=="function":!1}constructor(t,r,n,i,s,a=!1){typeof t=="object"?(this.scheme=t.scheme||Bo,this.authority=t.authority||Bo,this.path=t.path||Bo,this.query=t.query||Bo,this.fragment=t.fragment||Bo):(this.scheme=D0t(t,a),this.authority=r||Bo,this.path=P0t(this.scheme,n||Bo),this.query=i||Bo,this.fragment=s||Bo,R0t(this,a))}get fsPath(){return VZ(this,!1)}with(t){if(!t)return this;let{scheme:r,authority:n,path:i,query:s,fragment:a}=t;return r===void 0?r=this.scheme:r===null&&(r=Bo),n===void 0?n=this.authority:n===null&&(n=Bo),i===void 0?i=this.path:i===null&&(i=Bo),s===void 0?s=this.query:s===null&&(s=Bo),a===void 0?a=this.fragment:a===null&&(a=Bo),r===this.scheme&&n===this.authority&&i===this.path&&s===this.query&&a===this.fragment?this:new N5(r,n,i,s,a)}static parse(t,r=!1){let n=N0t.exec(t);return n?new N5(n[2]||Bo,iQ(n[4]||Bo),iQ(n[5]||Bo),iQ(n[7]||Bo),iQ(n[9]||Bo),r):new N5(Bo,Bo,Bo,Bo,Bo)}static file(t){let r=Bo;if(o4&&(t=t.replace(/\\/g,Dm)),t[0]===Dm&&t[1]===Dm){let n=t.indexOf(Dm,2);n===-1?(r=t.substring(2),t=Dm):(r=t.substring(2,n),t=t.substring(n)||Dm)}return new N5("file",r,t,Bo,Bo)}static from(t,r){return new N5(t.scheme,t.authority,t.path,t.query,t.fragment,r)}static joinPath(t,...r){if(!t.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let n;return o4&&t.scheme==="file"?n=e.file(Gs.join(VZ(t,!0),...r)).path:n=aa.join(t.path,...r),t.with({path:n})}toString(t=!1){return jZ(this,t)}toJSON(){return this}static revive(t){if(t){if(t instanceof e)return t;{let r=new N5(t);return r._formatted=t.external??null,r._fsPath=t._sep===obe?t.fsPath??null:null,r}}else return t}[Symbol.for("debug.description")](){return`URI(${this.toString()})`}};var obe=o4?1:void 0,N5=class extends F5{constructor(){super(...arguments);this._formatted=null;this._fsPath=null}static{o(this,"Uri")}get fsPath(){return this._fsPath||(this._fsPath=VZ(this,!1)),this._fsPath}toString(r=!1){return r?jZ(this,!0):(this._formatted||(this._formatted=jZ(this,!1)),this._formatted)}toJSON(){let r={$mid:1};return this._fsPath&&(r.fsPath=this._fsPath,r._sep=obe),this._formatted&&(r.external=this._formatted),this.path&&(r.path=this.path),this.scheme&&(r.scheme=this.scheme),this.authority&&(r.authority=this.authority),this.query&&(r.query=this.query),this.fragment&&(r.fragment=this.fragment),r}},sbe={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function nbe(e,t,r){let n,i=-1;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);if(a>=97&&a<=122||a>=65&&a<=90||a>=48&&a<=57||a===45||a===46||a===95||a===126||t&&a===47||r&&a===91||r&&a===93||r&&a===58)i!==-1&&(n+=encodeURIComponent(e.substring(i,s)),i=-1),n!==void 0&&(n+=e.charAt(s));else{n===void 0&&(n=e.substr(0,s));let l=sbe[a];l!==void 0?(i!==-1&&(n+=encodeURIComponent(e.substring(i,s)),i=-1),n+=l):i===-1&&(i=s)}}return i!==-1&&(n+=encodeURIComponent(e.substring(i))),n!==void 0?n:e}o(nbe,"encodeURIComponentFast");function F0t(e){let t;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n===35||n===63?(t===void 0&&(t=e.substr(0,r)),t+=sbe[n]):t!==void 0&&(t+=e[r])}return t!==void 0?t:e}o(F0t,"encodeURIComponentMinimal");function VZ(e,t){let r;return e.authority&&e.path.length>1&&e.scheme==="file"?r=`//${e.authority}${e.path}`:e.path.charCodeAt(0)===47&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&e.path.charCodeAt(2)===58?t?r=e.path.substr(1):r=e.path[1].toLowerCase()+e.path.substr(2):r=e.path,o4&&(r=r.replace(/\//g,"\\")),r}o(VZ,"uriToFsPath");function jZ(e,t){let r=t?F0t:nbe,n="",{scheme:i,authority:s,path:a,query:l,fragment:c}=e;if(i&&(n+=i,n+=":"),(s||i==="file")&&(n+=Dm,n+=Dm),s){let u=s.indexOf("@");if(u!==-1){let f=s.substr(0,u);s=s.substr(u+1),u=f.lastIndexOf(":"),u===-1?n+=r(f,!1,!1):(n+=r(f.substr(0,u),!1,!1),n+=":",n+=r(f.substr(u+1),!1,!0)),n+="@"}s=s.toLowerCase(),u=s.lastIndexOf(":"),u===-1?n+=r(s,!1,!0):(n+=r(s.substr(0,u),!1,!0),n+=s.substr(u))}if(a){if(a.length>=3&&a.charCodeAt(0)===47&&a.charCodeAt(2)===58){let u=a.charCodeAt(1);u>=65&&u<=90&&(a=`/${String.fromCharCode(u+32)}:${a.substr(3)}`)}else if(a.length>=2&&a.charCodeAt(1)===58){let u=a.charCodeAt(0);u>=65&&u<=90&&(a=`${String.fromCharCode(u+32)}:${a.substr(2)}`)}n+=r(a,!0,!1)}return l&&(n+="?",n+=r(l,!1,!1)),c&&(n+="#",n+=t?c:nbe(c,!1,!1)),n}o(jZ,"_asFormatted");function abe(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substr(0,3)+abe(e.substr(3)):e}}o(abe,"decodeURIComponentGraceful");var ibe=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function iQ(e){return e.match(ibe)?e.replace(ibe,t=>abe(t)):e}o(iQ,"percentDecode");var nd=class e{constructor(t){this.uri=t;this._uri=F5.parse(this.uri)}static{o(this,"DocumentId")}static{this._cache=new p1({getCacheKey:JSON.stringify},t=>new e(t.uri))}static create(t){return e._cache.get({uri:t})}get path(){return this._uri.path}get fragment(){return this._uri.fragment}toString(){return this.uri}get baseName(){return tbe(this.uri)}get extension(){return rbe(this.uri)}toUri(){return this._uri}};function $Z(e){return nd.create(e)}o($Z,"createDocumentId");d();d();var id=class e{constructor(t){this.edits=t;let r=-1;for(let n of t){if(!(n.replaceRange.start>=r))throw new gi(`Edits must be disjoint and sorted. Found ${n} after ${r}`);r=n.replaceRange.endExclusive}}static{o(this,"OffsetEdit")}static{this.empty=new e([])}static fromJson(t){return new e(t.map(ka.fromJson))}static from(t){let r=t.map(i=>new ka(Or.ofStartAndLength(i.rangeOffset,i.rangeLength),i.text));return r.reverse(),new e(r)}static single(t,r){return new e([new ka(t,r)])}normalize(){let t=[],r;for(let n of this.edits)n.newText.length===0&&n.replaceRange.length===0||(r&&r.replaceRange.endExclusive===n.replaceRange.start?r=new ka(r.replaceRange.join(n.replaceRange),r.newText+n.newText):(r&&t.push(r),r=n));return r&&t.push(r),new e(t)}normalizeEOL(t){return new e(this.edits.map(r=>r.normalizeEOL(t)))}isNoop(t){return this.edits.every(r=>r.isNoop(t))}toString(){return`[${this.edits.map(r=>r.toString()).join(", ")}]`}apply(t){let r=[],n=0;for(let i of this.edits)r.push(t.substring(n,i.replaceRange.start)),r.push(i.newText),n=i.replaceRange.endExclusive;return r.push(t.substring(n)),r.join("")}compose(t){return L0t(this,t)}inverse(t){let r=[],n=0;for(let i of this.edits)r.push(new ka(Or.ofStartAndLength(i.replaceRange.start+n,i.newText.length),t.substring(i.replaceRange.start,i.replaceRange.endExclusive))),n+=i.newText.length-i.replaceRange.length;return new e(r)}getNewTextRanges(){let t=[],r=0;for(let n of this.edits)t.push(Or.ofStartAndLength(n.replaceRange.start+r,n.newText.length)),r+=n.newText.length-n.replaceRange.length;return t}get isEmpty(){return this.edits.length===0}tryRebase(t){let r=[],n=0,i=0,s=0;for(;i<this.edits.length||n<t.edits.length;){let a=t.edits[n],l=this.edits[i];if(l)a?l.replaceRange.intersects(a.replaceRange)?i++:l.replaceRange.start<a.replaceRange.start?(r.push(new ka(l.replaceRange.delta(s),l.newText)),i++):(n++,s+=a.newText.length-a.replaceRange.length):(r.push(new ka(l.replaceRange.delta(s),l.newText)),i++);else break}return new e(r)}removeCommonSuffixPrefix(t){let r=[];for(let n of this.edits){let i=n.removeCommonSuffixPrefix(t);i.isEmpty||r.push(i)}return new e(r)}applyToOffset(t){let r=0;for(let n of this.edits)if(n.replaceRange.start<=t){if(t<n.replaceRange.endExclusive)return n.replaceRange.start+r;r+=n.newText.length-n.replaceRange.length}else break;return t+r}applyToOffsetRange(t){return new Or(this.applyToOffset(t.start),this.applyToOffset(t.endExclusive))}applyToOffsetOrUndefined(t){let r=0;for(let n of this.edits)if(n.replaceRange.start<=t){if(t<n.replaceRange.endExclusive)return;r+=n.newText.length-n.replaceRange.length}else break;return t+r}applyToOffsetRangeOrUndefined(t){let r=this.applyToOffsetOrUndefined(t.start);if(r===void 0)return;let n=this.applyToOffsetOrUndefined(t.endExclusive);if(n!==void 0)return new Or(r,n)}applyInverseToOffset(t){let r=0;for(let n of this.edits){let i=n.newText.length;if(n.replaceRange.start<=t-r){if(t-r<n.replaceRange.start+i)return n.replaceRange.start;r+=i-n.replaceRange.length}else break}return t-r}},ka=class e{constructor(t,r){this.replaceRange=t;this.newText=r}static{o(this,"SingleOffsetEdit")}static delete(t){return new e(t,"")}static fromJson(t){return new e(Or.ofStartAndLength(t.pos,t.len),t.txt)}toString(){return`${this.replaceRange} -> "${this.newText}"`}removeCommonSuffixPrefix(t){let r=t.substring(this.replaceRange.start,this.replaceRange.endExclusive),n=zve(r,this.newText),i=Math.min(r.length-n,this.newText.length-n,KL(r,this.newText)),s=new Or(this.replaceRange.start+n,this.replaceRange.endExclusive-i),a=this.newText.substring(n,this.newText.length-i);return new e(s,a)}normalizeEOL(t){let r=this.newText.replace(/\r\n|\n/g,t);return new e(this.replaceRange,r)}isNoop(t){return this.newText===t.substring(this.replaceRange.start,this.replaceRange.endExclusive)}get isEmpty(){return this.newText.length===0&&this.replaceRange.length===0}};function L0t(e,t){if(e=e.normalize(),t=t.normalize(),e.isEmpty)return t;if(t.isEmpty)return e;let r=[...e.edits],n=[],i=0;for(let s of t.edits){for(;;){let u=r[0];if(!u||u.replaceRange.start+i+u.newText.length>=s.replaceRange.start)break;r.shift(),n.push(u),i+=u.newText.length-u.replaceRange.length}let a=i,l,c;for(;;){let u=r[0];if(!u||u.replaceRange.start+i>s.replaceRange.endExclusive)break;l||(l=u),c=u,r.shift(),i+=u.newText.length-u.replaceRange.length}if(!l)n.push(new ka(s.replaceRange.delta(-i),s.newText));else{let u="",f=s.replaceRange.start-(l.replaceRange.start+a);f>0&&(u=l.newText.slice(0,f));let m=c.replaceRange.endExclusive+i-s.replaceRange.endExclusive;if(m>0){let A=new ka(Or.ofStartAndLength(c.replaceRange.endExclusive,0),c.newText.slice(-m));r.unshift(A),i-=A.newText.length-A.replaceRange.length}let h=u+s.newText,p=new Or(Math.min(l.replaceRange.start,s.replaceRange.start-a),s.replaceRange.endExclusive-i);n.push(new ka(p,h))}}for(;;){let s=r.shift();if(!s)break;n.push(s)}return new id(n).normalize()}o(L0t,"joinEdits");d();d();var lbe=-1;function Jb(){return lbe!==-1?lbe:Date.now()}o(Jb,"now");function cbe(e,t){return e.endLineNumberExclusive<=t.startLineNumber?t.startLineNumber-e.endLineNumberExclusive:t.endLineNumberExclusive<=e.startLineNumber?e.startLineNumber-t.endLineNumberExclusive:0}o(cbe,"lineRangeDistance");d();var Xb=class e{constructor(t){this.edits=t}static{o(this,"TextEdit")}static fromEdit(t,r){let n=t.edits.map(i=>new y1(r.getTransformer().getRange(i.range),i.newText));return new e(n)}toEdit(t){let r=this.edits.map(n=>Es.replace(t.getTransformer().getOffsetRange(n.range),n.newText));return rs.create(r)}mapEdits(t){return new e(this.edits.map(t))}},y1=class e{constructor(t,r){this.range=t;this.newText=r}static{o(this,"SingleTextEdit")}static joinEdits(t,r){if(t.length===0)throw new gi;if(t.length===1)return t[0];let n=t[0].range.getStartPosition(),i=t[t.length-1].range.getEndPosition(),s="";for(let a=0;a<t.length;a++){let l=t[a];if(s+=l.newText,a<t.length-1){let c=t[a+1],u=li.fromPositions(l.range.getEndPosition(),c.range.getStartPosition()),f=r.getValueOfRange(u);s+=f}}return new e(li.fromPositions(n,i),s)}static fromSingleEdit(t,r){return new e(r.getTransformer().getRange(t.range),t.newText)}extendToCoverRange(t,r){if(this.range.containsRange(t))return this;let n=this.range.plusRange(t),i=r.getValueOfRange(li.fromPositions(n.getStartPosition(),this.range.getStartPosition())),s=r.getValueOfRange(li.fromPositions(this.range.getEndPosition(),n.getEndPosition())),a=i+this.newText+s;return new e(n,a)}extendToFullLine(t){let r=new li(this.range.startLineNumber,1,this.range.endLineNumber,t.getTransformer().getLineLength(this.range.endLineNumber)+1);return this.extendToCoverRange(r,t)}toSingleEdit(t){let n=t.getTransformer().getOffsetRange(this.range);return Es.replace(n,this.newText)}};var xs=class e{constructor(t){this.edits=t;Rc(kL(t,(r,n)=>r.lineRange.endLineNumberExclusive<=n.lineRange.startLineNumber))}static{o(this,"LineEdit")}static{this.empty=new e([])}static deserialize(t){return new e(t.map(r=>C1.deserialize(r)))}static fromEdit(t){let r=Xb.fromEdit(t.edit,t.base);return e.fromTextEdit(r,t.base)}static fromTextEdit(t,r){let n=t.edits,i=[],s=[];for(let a=0;a<n.length;a++){let l=n[a],c=a+1<n.length?n[a+1]:void 0;if(s.push(l),c&&c.range.startLineNumber===l.range.endLineNumber)continue;let u=y1.joinEdits(s,r);s.length=0;let f=C1.fromSingleTextEdit(u,r);i.push(f)}return new e(i)}static createFromUnsorted(t){let r=t.slice();return r.sort(w5(n=>n.lineRange.startLineNumber,_5)),new e(r)}isEmpty(){return this.edits.length===0}toEdit(t){let r=[];for(let n of this.edits){let i=n.toSingleEdit(t);r.push(i)}return rs.create(r)}toString(){return this.edits.map(t=>t.toString()).join(",")}serialize(){return this.edits.map(t=>t.serialize())}getNewLineRanges(){let t=[],r=0;for(let n of this.edits)t.push(Hn.ofLength(n.lineRange.startLineNumber+r,n.newLines.length)),r+=n.newLines.length-n.lineRange.length;return t}mapLineNumber(t){let r=0;for(let n of this.edits){if(n.lineRange.endLineNumberExclusive>t)break;r+=n.newLines.length-n.lineRange.length}return t+r}mapLineRange(t){return new Hn(this.mapLineNumber(t.startLineNumber),this.mapLineNumber(t.endLineNumberExclusive))}mapBackLineRange(t,r){return this.inverse(r).mapLineRange(t)}touches(t){return this.edits.some(r=>t.edits.some(n=>r.lineRange.intersect(n.lineRange)))}rebase(t){return new e(this.edits.map(r=>new C1(t.mapLineRange(r.lineRange),r.newLines)))}humanReadablePatch(t){let r=[];function n(l,c,u,f){let m=u==="unmodified"?" ":u==="deleted"?"-":"+";f===void 0&&(f="[[[[[ WARNING: LINE DOES NOT EXIST ]]]]]");let h=l===-1?"   ":l.toString().padStart(3," "),p=c===-1?"   ":c.toString().padStart(3," ");r.push(`${m} ${h} ${p} ${f}`)}o(n,"pushLine");function i(){r.push("---")}o(i,"pushSeperator");let s=0,a=!0;for(let l of uve(this.edits,(c,u)=>cbe(c.lineRange,u.lineRange)<=5)){a?a=!1:i();let c=l[0].lineRange.startLineNumber-2;for(let u of l){for(let h=Math.max(1,c);h<u.lineRange.startLineNumber;h++)n(h,h+s,"unmodified",t[h-1]);let f=u.lineRange,m=u.newLines;for(let h of f.mapToLineArray(p=>p)){let p=t[h-1];n(h,-1,"deleted",p)}for(let h=0;h<m.length;h++){let p=m[h];n(-1,f.startLineNumber+s+h,"added",p)}c=f.endLineNumberExclusive,s+=u.newLines.length-u.lineRange.length}for(let u=c;u<=Math.min(c+2,t.length);u++)n(u,u+s,"unmodified",t[u-1])}return r.join(`
`)}apply(t){let r=[],n=0;for(let i of this.edits){for(;n<i.lineRange.startLineNumber-1;)r.push(t[n]),n++;for(let s of i.newLines)r.push(s);n=i.lineRange.endLineNumberExclusive-1}for(;n<t.length;)r.push(t[n]),n++;return r}inverse(t){let r=this.getNewLineRanges();return new e(this.edits.map((n,i)=>new C1(r[i],t.slice(n.lineRange.startLineNumber-1,n.lineRange.endLineNumberExclusive-1))))}},C1=class e{constructor(t,r){this.lineRange=t;this.newLines=r}static{o(this,"SingleLineEdit")}static deserialize(t){return new e(Hn.ofLength(t[0],t[1]-t[0]),t[2])}static fromSingleTextEdit(t,r){let n=k5(t.newText),i=t.range.startLineNumber,s=r.getValueOfRange(li.fromPositions(new so(t.range.startLineNumber,1),t.range.getStartPosition()));n[0]=s+n[0];let a=t.range.endLineNumber+1,l=r.getTransformer().getLineLength(t.range.endLineNumber)+1,c=r.getValueOfRange(li.fromPositions(t.range.getEndPosition(),new so(t.range.endLineNumber,l)));n[n.length-1]=n[n.length-1]+c;let u=t.range.startColumn===r.getTransformer().getLineLength(t.range.startLineNumber)+1,f=t.range.endColumn===1;return u&&n[0].length===s.length&&(i++,n.shift()),n.length>0&&i<a&&f&&n[n.length-1].length===c.length&&(a--,n.pop()),new e(new Hn(i,a),n)}toLineEdit(){return new xs([this])}toSingleTextEdit(t){if(this.newLines.length===0){let r=t.getTransformer().textLength;if(this.lineRange.endLineNumberExclusive===r.lineCount+2){let n;if(this.lineRange.startLineNumber>1){let s=this.lineRange.startLineNumber-1,a=t.getTransformer().getLineLength(s)+1;n=new so(s,a)}else n=new so(1,1);let i=r.addToPosition(new so(1,1));return new y1(li.fromPositions(n,i),"")}else return new y1(new li(this.lineRange.startLineNumber,1,this.lineRange.endLineNumberExclusive,1),"")}else if(this.lineRange.isEmpty){let r,n,i,s=this.lineRange.startLineNumber;return s===t.getTransformer().textLength.lineCount+2?(r=s-1,n=t.getTransformer().getLineLength(r)+1,i=this.newLines.map(a=>`
`+a).join("")):(r=s,n=1,i=this.newLines.map(a=>a+`
`).join("")),new y1(li.fromPositions(new so(r,n)),i)}else{let r=this.lineRange.endLineNumberExclusive-1,n=t.getTransformer().getLineLength(r)+1,i=new li(this.lineRange.startLineNumber,1,r,n),s=this.newLines.join(`
`);return new y1(i,s)}}toSingleEdit(t){let r=this.toSingleTextEdit(t),n=t.getTransformer().getOffsetRange(r.range);return Es.replace(n,r.newText)}toString(){return`${this.lineRange}->${JSON.stringify(this.newLines)}`}serialize(){return[this.lineRange.startLineNumber,this.lineRange.endLineNumberExclusive,this.newLines]}removeCommonSuffixPrefixLines(t){let r=this.lineRange.startLineNumber,n=this.lineRange.endLineNumberExclusive,i=0;for(;r<n&&i<this.newLines.length&&this.newLines[i]===t.getLineAt(r);)r++,i++;let s=0;for(;r<n&&s+i<this.newLines.length&&this.newLines[this.newLines.length-1-s]===t.getLineAt(n-1);)n--,s++;return i===0&&s===0?this:new e(new Hn(r,n),this.newLines.slice(i,this.newLines.length-s))}},Q0t;(t=>{function e(r){return Array.isArray(r)&&r.length===3&&typeof r[0]=="number"&&typeof r[1]=="number"&&Array.isArray(r[2])&&r[2].every(n=>typeof n=="string")}t.is=e,o(e,"is")})(Q0t||={});var pp=class e{constructor(t,r){this.base=t;this.edit=r}static{o(this,"RootedLineEdit")}static fromEdit(t){let r=xs.fromEdit(t);return new e(t.base,r)}toString(){return this.edit.humanReadablePatch(this.base.getLines())}toEdit(){return this.edit.toEdit(this.base)}toRootedEdit(){return new Lu(this.base,this.toEdit())}getEditedState(){let t=this.base.getLines();return this.edit.apply(t)}removeCommonSuffixPrefixLines(){let t=o(n=>!n.lineRange.isEmpty||n.newLines.length>0,"isNotEmptyEdit"),r=this.edit.edits.map(n=>n.removeCommonSuffixPrefixLines(this.base)).filter(n=>t(n));return new e(this.base,new xs(r))}};var rs=class e{constructor(t){this.edits=t;Rc(kL(t,(r,n)=>r.range.endExclusive<=n.range.start))}static{o(this,"Edit")}static deserialize(t){return new e(t.map(r=>Es.deserialize(r)))}static{this.empty=new e([])}static create(t){return new e(t)}static single(t){return new e([t])}static replace(t,r){return new e([Es.replace(t,r)])}static insert(t,r){return new e([Es.insert(t,r)])}static fromOffsetEdit(t){return new e(t.edits.map(r=>Es.replace(r.replaceRange,r.newText)))}static compose(t){let r;for(let n of t)r===void 0?r=n:r=r.compose(n);return r??e.empty}static trySwap(t,r){let n=t.inverse((a,l)=>" ".repeat(l-a)),i=r.tryRebase(n);if(!i)return;let s=t.tryRebase(i);if(s)return{e1:i,e2:s}}toOffsetEdit(){return new id(this.edits.map(t=>new ka(t.range,t.newText)))}compose(t){return M0t(this,t)}getNewRanges(){return this.toOffsetEdit().getNewTextRanges()}apply(t){let r="",n=0;for(let i of this.edits)r+=t.substring(n,i.range.start),r+=i.newText,n=i.range.endExclusive;return r+=t.substring(n),r}normalize(){let t=[],r;for(let n of this.edits)if(!(n.newText.length===0&&n.range.length===0))if(r&&r.range.endExclusive===n.range.start){let i=r.data?.merge(n.data)??void 0;r=Es.replaceWithData(r.range.join(n.range),r.newText+n.newText,i)}else r&&t.push(r),r=n;return r&&t.push(r),new e(t)}normalizeOnSource(t){let r=this.apply(t),i=Es.replace(Or.ofLength(t.length),r).removeCommonSuffixAndPrefix(t);return i.isNeutral()?e.empty:i.toEdit()}toString(){return this.edits.map(t=>t.toString()).join("")}decompose(t){if(t===void 0){let i=[],s=0;for(let a of this.edits)i.push(Es.replaceWithData(Or.ofStartAndLength(a.range.start+s,a.range.length),a.newText,a.data)),s+=a.newText.length-a.range.length;return new oQ(i)}if(this.edits.length!==t.arrayLength)throw LT(`Number of edits ${this.edits.length} does not match ${t.arrayLength}`);let r=[],n=this.edits.slice();for(let i=0;i<this.edits.length;++i){let s=t.mapIndexBack(i),a=n[s];r.push(a);for(let l=s;l<n.length;++l){let c=a.newText.length-a.range.length,u=n[l];n[l]=Es.replaceWithData(Or.ofStartAndLength(u.range.start+c,u.range.length),u.newText,u.data)}}return new oQ(r)}getRange(){if(this.edits.length!==0)return this.edits[0].range.join(this.edits[this.edits.length-1].range)}isEmpty(){return this.edits.length===0}applyInverseToOffsetRange(t){let r=this.toOffsetEdit(),n=r.applyInverseToOffset(t.start),i=r.applyInverseToOffset(t.endExclusive);return new Or(n,i)}serialize(){return this.edits.map(t=>t.serialize())}equals(t){if(this.edits.length!==t.edits.length)return!1;for(let r=0;r<this.edits.length;++r)if(!this.edits[r].equals(t.edits[r]))return!1;return!0}inverse(t){let r=[],n=0;for(let i of this.edits)r.push(Es.replace(Or.ofStartAndLength(i.range.start+n,i.newText.length),t(i.range.start,i.range.endExclusive))),n+=i.newText.length-i.range.length;return new e(r)}inverseOnString(t){return this.inverse((r,n)=>t.substring(r,n))}mapData(t){return e.create(this.edits.map(r=>r.mapData(t)))}tryRebase(t){let r=[],n=0,i=0,s=0;for(;i<this.edits.length||n<t.edits.length;){let a=t.edits[n],l=this.edits[i];if(l)if(!a)r.push(Es.replace(l.range.delta(s),l.newText)),i++;else{if(l.range.intersectsOrTouches(a.range))return;l.range.start<a.range.start?(r.push(Es.replace(l.range.delta(s),l.newText)),i++):(n++,s+=a.newText.length-a.range.length)}else break}return new e(r)}};function M0t(e,t){if(e=e.normalize(),t=t.normalize(),e.isEmpty())return t;if(t.isEmpty())return e;let r=[...e.edits],n=[],i=0;for(let s of t.edits){for(;;){let u=r[0];if(!u||u.range.start+i+u.newText.length>=s.range.start)break;r.shift(),n.push(u),i+=u.newText.length-u.range.length}let a=i,l,c;for(;;){let u=r[0];if(!u||u.range.start+i>s.range.endExclusive)break;l||(l=u),c=u,r.shift(),i+=u.newText.length-u.range.length}if(!l)n.push(Es.replaceWithData(s.range.delta(-i),s.newText,s.data));else{let u=s.range.start-a-l.range.start;u>0&&n.push(Es.replaceWithData(Or.emptyAt(l.range.start),l.newText.slice(0,u),l.data));let f=c.range.endExclusive+i-s.range.endExclusive;if(f>0){let h=Es.replaceWithData(Or.emptyAt(c.range.endExclusive),c.newText.slice(-f),c.data);r.unshift(h),i-=h.newText.length-h.range.length}let m=new Or(Math.min(l.range.start,s.range.start-a),s.range.endExclusive-i);n.push(Es.replaceWithData(m,s.newText,s.data))}}for(;;){let s=r.shift();if(!s)break;n.push(s)}return rs.create(n).normalize()}o(M0t,"joinEdits");var Es=class e{constructor(t,r,n){this.range=t;this.newText=r;this.data=n}static{o(this,"SingleEdit")}static deserialize(t){return new e(new Or(t[0],t[1]),t[2],void 0)}static replace(t,r){return new e(t,r,void 0)}static insert(t,r){return new e(new Or(t,t),r,void 0)}static delete(t){return new e(t,"",void 0)}static replaceWithData(t,r,n){return new e(t,r,n)}static insertWithData(t,r,n){return new e(new Or(t,t),r,n)}static deleteWithData(t,r){return new e(t,"",r)}static fromSingleOffsetEdit(t){return new e(t.replaceRange,t.newText,void 0)}toString(){return`${this.range}->${JSON.stringify(this.newText)}`}serialize(){return[this.range.start,this.range.endExclusive,this.newText]}toEdit(){return rs.create([this])}equals(t){return this.range.equals(t.range)&&this.newText===t.newText}removeCommonSuffixAndPrefix(t){return this.removeCommonSuffix(t).removeCommonPrefix(t)}removeCommonPrefix(t){let r=this.range.substring(t),n=O0t(r,this.newText);return n===0?this:e.replaceWithData(this.range.deltaStart(n),this.newText.substring(n),this.data)}removeCommonSuffix(t){let r=this.range.substring(t),n=U0t(r,this.newText);return n===0?this:e.replaceWithData(this.range.deltaEnd(-n),this.newText.substring(0,this.newText.length-n),this.data)}isNeutral(){return this.newText.length===0&&this.range.length===0}mapData(t){return new e(this.range,this.newText,t(this.data))}};function O0t(e,t){let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];)r++;return r}o(O0t,"commonPrefixLength");function U0t(e,t){let r=0;for(;r<e.length&&r<t.length&&e[e.length-1-r]===t[t.length-1-r];)r++;return r}o(U0t,"commonSuffixLength");var Lu=class e{constructor(t,r){this.base=t;this.edit=r}static{o(this,"RootedEdit")}getEditedState(){return this.base.apply(this.edit)}rebase(t){return T5(()=>null.base.equals(this.base.apply(t))),T5(()=>null.base.apply(null.edit).equals(this.base.apply(t).apply(this.edit))),null}toString(){return pp.fromEdit(this).toString()}normalize(){return new e(this.base,this.edit.normalizeOnSource(this.base.value))}equals(t){return this.base.equals(t.base)&&this.edit.equals(t.edit)}},oQ=class e{constructor(t){this.edits=t}static{o(this,"SingleEdits")}static{this.empty=new e([])}compose(){return rs.compose(this.edits.map(t=>t.toEdit()))}apply(t){return this.compose().apply(t)}isEmpty(){return this.edits.length===0}toEdits(){return new gp(this.edits.map(t=>t.toEdit()))}},gp=class e{constructor(t){this.edits=t}static{o(this,"Edits")}static{this.empty=new e([])}static single(t){return new e([t])}compose(){return rs.compose(this.edits)}add(t){return new e([...this.edits,t])}apply(t){return this.compose().apply(t)}isEmpty(){return this.edits.length===0}swap(t){let r=t,n=[];for(let i of this.edits){let s=rs.trySwap(r,i);if(!s)return;n.push(s.e1),r=s.e2}return{edits:new e(n),editLast:r}}mapData(t){return new e(this.edits.map(r=>r.mapData(t)))}serialize(){return this.edits.map(t=>t.serialize())}static deserialize(t){return new e(t.map(r=>rs.deserialize(r)))}toHumanReadablePatch(t){let r=t,n=[];for(let i of this.edits){let s=xs.fromEdit(new Lu(r,i));n.push(s.humanReadablePatch(r.getLines())),r=r.apply(i)}return n.join(`
---
`)}};d();var Zb=class extends mp{constructor(r,n=!1){super();this._openDocuments=Rm(this,[]);this.openDocuments=this._openDocuments;this._documents=new Map;this._started=!1;this.ctx=r,this._started=!1,n||this.start()}static{o(this,"ObservableLspWorkspace")}start(){if(this._started)return;this._started=!0;let r=this.ctx.get(Wr);for(let n of r.getOpenTextDocuments())n&&this.addLspDocument(n.uri,n);r.onDidOpenTextDocument(async n=>{this.addLspDocument(n.document.uri,n.document)}),r.onDidCloseTextDocument(async n=>{this.removeClosedLspDocument(n.document.uri)}),r.onDidChangeTextDocument(async n=>{this.onDidChangeLspDocument(n.document.uri,n.contentChanges,n.document)})}addLspDocument(r,n){let i=nd.create(r);return this.addDocument({id:i,initialValue:n.getText(),languageId:n4.create(n.clientLanguageId)},void 0)}onDidChangeLspDocument(r,n,i){if(i===void 0)throw new Error("Not implemented: LspDocumentManager.onDidChangeLspDocument with undefined baseDoc");let s=nd.create(r),a=this._documents.get(s);a&&a.applyLspContentChanges(n,i)}onUserPositionChange(r,n){let i=nd.create(r),s=this._documents.get(i);s&&s.updateSelectionFromLspPosition(n)}removeClosedLspDocument(r){let n=nd.create(r);this._documents.get(n)?.dispose()}addDocument(r,n=void 0){let i=this._documents.get(r.id);if(i)return i;let s=new zZ(r.id,new hl(r.initialValue??""),[],r.languageId??n4.PlainText,()=>{this._documents.delete(r.id);let a=this._openDocuments.get(),l=a.filter(c=>c.id!==s.id);l.length!==a.length&&this._openDocuments.set(l,n,{added:[],removed:[s]})},r.workspaceRoot);return this._documents.set(r.id,s),this._openDocuments.set([...this._openDocuments.get(),s],n,{added:[s],removed:[]}),s}getDocument(r){return this._documents.get(r)}clear(){this._openDocuments.set([],void 0,{added:[],removed:this._openDocuments.get()});for(let r of this._documents.values())r.dispose();this._documents.clear()}getWorkspaceRoot(r){return this._documents.get(r)?.workspaceRoot}},zZ=class extends XL{static{o(this,"MutableObservableLspDocument")}constructor(t,r,n,i,s,a){super(t,r,n,i,s,a)}applyLspContentChanges(t,r){let n=this.editFromLspContentChanges(t);this.applyEdit(n.compose(),void 0)}updateSelectionFromLspPosition(t){let r=this.value.get().getTransformer().getOffset(new so(t.lineNumber+1,t.column+1));this.updateSelection([new Or(r,r)])}editFromLspContentChanges(t){return new gp(t.map(n=>this.editFromLspContentChange(n)))}editFromLspContentChange(t){if(ube.TextDocumentContentChangeEvent.isIncremental(t)){let r=this.value.get().getTransformer(),n=r.getOffset(new so(t.range.start.line+1,t.range.start.character+1)),i=r.getOffset(new so(t.range.end.line+1,t.range.end.character+1));return rs.replace(new Or(n,i),t.text)}throw new Error("Full replacement edits are not supported")}};d();d();function fbe(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)&&!(e instanceof RegExp)&&!(e instanceof Date)}o(fbe,"isObject");function sQ(e,t){if(!e)throw new Error(t?`Unexpected type, expected '${t}'`:"Unexpected type")}o(sQ,"assertType");d();d();d();var a4=0;function aQ(e){return e===0}o(aQ,"lengthIsZero");var Qu=2**26;function eI(e,t){return e*Qu+t}o(eI,"toLength");function E1(e){let t=e,r=Math.floor(t/Qu),n=t-r*Qu;return new Fu(r,n)}o(E1,"lengthToObj");function qT(e,t){let r=e+t;return t>=Qu&&(r=r-e%Qu),r}o(qT,"lengthAdd");function dbe(e,t){return e.reduce((r,n)=>qT(r,t(n)),a4)}o(dbe,"sumLengths");function YZ(e,t){return e===t}o(YZ,"lengthEquals");function GT(e,t){let r=e,n=t;if(n-r<=0)return a4;let s=Math.floor(r/Qu),a=Math.floor(n/Qu),l=n-a*Qu;if(s===a){let c=r-s*Qu;return eI(0,l-c)}else return eI(a-s,l)}o(GT,"lengthDiffNonNegative");function mbe(e,t){let r=e,n=Math.floor(r/Qu),i=r-n*Qu,s=t,a=Math.floor(s/Qu),l=s-a*Qu;return new li(n+1,i+1,a+1,l+1)}o(mbe,"lengthsToRange");d();var tI=class{constructor(t,r,n){this.startOffset=t;this.endOffset=r;this.newLength=n}static{o(this,"TextEditInfo")}toString(){return`[${E1(this.startOffset)}...${E1(this.endOffset)}) -> ${E1(this.newLength)}`}};function pbe(e,t){if(e.length===0)return t;if(t.length===0)return e;let r=new RL(hbe(e)),n=hbe(t);n.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let i=r.dequeue();function s(u){if(u===void 0){let m=r.takeWhile(h=>!0)||[];return i&&m.unshift(i),m}let f=[];for(;i&&!aQ(u);){let[m,h]=i.splitAt(u);f.push(m),u=GT(m.lengthAfter,u),i=h??r.dequeue()}return aQ(u)||f.push(new WT(!1,u,u)),f}o(s,"nextS0ToS1MapWithS1LengthOf");let a=[];function l(u,f,m){if(a.length>0&&YZ(a[a.length-1].endOffset,u)){let h=a[a.length-1];a[a.length-1]=new tI(h.startOffset,f,qT(h.newLength,m))}else a.push({startOffset:u,endOffset:f,newLength:m})}o(l,"pushEdit");let c=a4;for(let u of n){let f=s(u.lengthBefore);if(u.modified){let m=dbe(f,p=>p.lengthBefore),h=qT(c,m);l(c,h,u.lengthAfter),c=h}else for(let m of f){let h=c;c=qT(c,m.lengthBefore),m.modified&&l(h,c,m.lengthAfter)}}return a}o(pbe,"combineTextEditInfos");var WT=class e{constructor(t,r,n){this.modified=t;this.lengthBefore=r;this.lengthAfter=n}static{o(this,"LengthMapping")}splitAt(t){let r=GT(t,this.lengthAfter);return YZ(r,a4)?[this,void 0]:this.modified?[new e(this.modified,this.lengthBefore,t),new e(this.modified,a4,r)]:[new e(this.modified,t,t),new e(this.modified,r,r)]}toString(){return`${this.modified?"M":"U"}:${E1(this.lengthBefore)} -> ${E1(this.lengthAfter)}`}};function hbe(e){let t=[],r=a4;for(let n of e){let i=GT(r,n.startOffset);aQ(i)||t.push(new WT(!1,i,i));let s=GT(n.startOffset,n.endOffset);t.push(new WT(!0,s,n.newLength)),r=n.endOffset}return t}o(hbe,"toLengthMapping");var HT=class e{constructor(t){this.edits=t}static{o(this,"TextLengthEdit")}static{this.empty=new e([])}static fromTextEdit(t){let r=t.edits.map(n=>new lQ(n.range,Fu.ofText(n.newText)));return new e(r)}static _fromTextEditInfo(t){let r=t.map(n=>{let i=E1(n.newLength);return new lQ(mbe(n.startOffset,n.endOffset),new Fu(i.lineCount,i.columnCount))});return new e(r)}_toTextEditInfo(){return this.edits.map(t=>new tI(eI(t.range.startLineNumber-1,t.range.startColumn-1),eI(t.range.endLineNumber-1,t.range.endColumn-1),eI(t.newLength.lineCount,t.newLength.columnCount)))}compose(t){let r=this._toTextEditInfo(),n=t._toTextEditInfo(),i=pbe(r,n);return e._fromTextEditInfo(i)}getRange(){if(this.edits.length!==0)return li.fromPositions(this.edits[0].range.getStartPosition(),this.edits.at(-1).range.getEndPosition())}toString(){return`[${this.edits.join(", ")}]`}},lQ=class{constructor(t,r){this.range=t;this.newLength=r}static{o(this,"SingleTextEditLength")}toString(){return`{ range: ${this.range}, newLength: ${this.newLength} }`}};d();function rI(e,t,r){let n=new Map(Object.entries(t).map(([i,s])=>[s,i]));return WL({owner:e,createEmptyChangeSummary:o(()=>({}),"createEmptyChangeSummary"),handleChange:o((i,s)=>{let a=n.get(i.changedObservable);return s[a]===void 0&&(s[a]={value:void 0,changes:[]}),s[a].changes.push(i.change),!0},"handleChange")},(i,s)=>{for(let[a,l]of Object.entries(t)){let c=l.read(i);s[a]===void 0&&(s[a]={value:c,changes:[]}),s[a].value=c}r(s)})}o(rI,"autorunWithChanges");d();var cQ=class{constructor(t){this.documents=t;Rc(t.length>0)}static{o(this,"HistoryContext")}getMostRecentDocument(){return this.documents.at(-1)}getDocument(t){return this.documents.find(r=>r.docId===t)}getDocumentAndIdx(t){let r=this.documents.findIndex(n=>n.docId.uri===t.uri);if(r!==-1)return{doc:this.documents[r],idx:r}}},uQ=class{constructor(t,r,n,i,s){this.docId=t;this.languageId=r;this.base=n;this.lastEdits=i;this.lastSelection=s;this.lastEdit=new Lu(this.base,this.lastEdits.compose())}static{o(this,"DocumentHistory")}};d();var fQ=class extends oa{constructor(){super();this.branch=Rm("branchName",void 0);this._register(LZ((r,n)=>{this.init(n)}))}static{o(this,"ObservableGitStub")}async init(r){}};var nI=class extends oa{constructor(r,n=!1){super();this._documentState=new Map;this._lastDocuments=new JZ(50);this.workspace=r,this._lastGitCheckout=void 0,this._started=!1,n||this.start()}static{o(this,"NesHistoryContextProvider")}start(){if(this._started)return;this._started=!0;let r=new fQ;this._register(t4(n=>{n.readObservable(r.branch)!==void 0&&(this._lastGitCheckout=Jb(),this._documentState.forEach(s=>s.applyAllEdits()))})),m1(this,this.workspace.openDocuments,(n,i)=>{let s=n.selection.get().at(0),a=new KZ(n.id,n.value.get().value,n.languageId.get(),s);this._documentState.set(a.docId,a),s&&this._lastDocuments.push(a),i.add(rI(this,{value:n.value,selection:n.selection,languageId:n.languageId},l=>{l.languageId.changes.length>0&&(a.languageId=l.languageId.value);let c=this._isAwaitingGitCheckoutCooldown();for(let u of l.value.changes)this._lastDocuments.push(a),a.handleEdit(u,c);l.selection.changes.length>0&&(a.handleSelection(l.selection.value.at(0)),this._lastDocuments.push(a))})),i.add(sa(()=>{let l=this._documentState.get(n.id);l&&this._lastDocuments.remove(l),this._documentState.delete(n.id)}))},n=>n.id).recomputeInitiallyAndOnChange(this._store)}getHistoryContext(r,n=5,i=100){let s=this._documentState.get(r);if(!s||!this._lastDocuments.has(s))return;let a=[],l=!1;for(let c of this._lastDocuments.getItemsReversed()){let u=c.getRecentEdit(n,i);if(u!==void 0&&(u.editCount===0&&l||(c.docId===r&&(l=!0),a.push(u.history),n-=u.editCount,n<=0)))break}if(a.reverse(),!!a.some(c=>c.docId===r))return new cQ(a)}_isAwaitingGitCheckoutCooldown(){if(!this._lastGitCheckout)return!1;let r=Jb()-this._lastGitCheckout<2*1e3;return r||(this._lastGitCheckout=void 0),r}},KZ=class e{constructor(t,r,n,i){this.docId=t;this.languageId=n;this._edits=[];this._isUserDocument=!1;this._baseValue=new hl(r),this._currentValue=this._baseValue,this.handleSelection(i)}static{o(this,"DocumentState")}static{this.MAX_EDITED_LINES_PER_EDIT=10}static{this.MAX_EDITED_CHARS_PER_EDIT=5e3}getSelection(){return this._selection}handleSelection(t){t&&(this._isUserDocument=!0),this._selection=t}handleEdit(t,r){if(t.isEmpty())return;this._currentValue=this._currentValue.apply(t);let n=Xb.fromEdit(t,this._currentValue),i=HT.fromTextEdit(n);if(r){this._baseValue=this._currentValue,this._edits=[];return}function s(l){return dQ(l.edits,c=>c.newText.length)}o(s,"editInsertSize");let a=this._edits.at(-1);a&&s(a.edit)<200&&q0t(t,a.edit)?(a.edit=a.edit.compose(t),a.textLengthEdit=a.textLengthEdit.compose(i),a.instant=Jb(),a.edit.isEmpty()&&this._edits.pop()):this._edits.push({edit:t,textLengthEdit:i,instant:Jb()})}getRecentEdit(t,r){if(!this._isUserDocument)return;let{editCount:n}=this._applyStaleEdits(t,r),i=new gp(this._edits.map(s=>s.edit));return{history:new uQ(this.docId,this.languageId,this._baseValue,i,this._selection),editCount:n}}applyAllEdits(){this._baseValue=this._currentValue,this._edits=[]}_applyStaleEdits(t,r){let n=this._currentValue,i=rs.empty,s=HT.empty,a,l=0,c=rs.empty;for(a=this._edits.length-1;a>=0;a--){let u=this._edits[a];if(Jb()-u.instant>10*60*1e3)break;let f=u.textLengthEdit.compose(s),m=f.getRange();sQ(m,"we only compose non-empty Edits");let h=m.endLineNumber-m.startLineNumber;if(r>0&&h>r)break;let p=dQ(u.textLengthEdit.edits,P=>P.range.endLineNumber-P.range.startLineNumber+P.newLength.lineCount);if(p>e.MAX_EDITED_LINES_PER_EDIT||dQ(u.edit.edits,P=>P.newText.length)>e.MAX_EDITED_CHARS_PER_EDIT||dQ(u.edit.edits,P=>P.range.length)>e.MAX_EDITED_CHARS_PER_EDIT)break;if(a===this._edits.length-1)c=u.edit;else{let P=rs.trySwap(u.edit,c);if(P)c=P.e1;else{if(p>=2)break;c=u.edit.compose(c)}}let x=u.edit.inverseOnString(n.value);n=n.apply(x);let b=u.edit.compose(i),v=xs.fromEdit(new Lu(n,b)),k=new pp(n,v).removeCommonSuffixPrefixLines().edit.edits.length;if(k>t)break;l=k,i=b,s=f}for(let u=0;u<=a;u++){let f=this._edits[u];this._baseValue=this._baseValue.apply(f.edit)}return this._edits=this._edits.slice(a+1),{editCount:l}}toString(){return new gp(this._edits.map(t=>t.edit)).toHumanReadablePatch(this._baseValue)}};function dQ(e,t){let r=0;for(let n of e)r+=t(n);return r}o(dQ,"sum");function q0t(e,t){let r=t.getNewRanges();return e.edits.every(n=>G0t(n.range,r))}o(q0t,"editExtends");function G0t(e,t){return t.some(r=>e.start===r.endExclusive||e.endExclusive===r.start)}o(G0t,"doesTouch");var JZ=class{constructor(t){this.maxSize=t;this._arr=[]}static{o(this,"FifoSet")}push(t){let r=this._arr.indexOf(t);r!==-1?this._arr.splice(r,1):this._arr.length>=this.maxSize&&this._arr.shift(),this._arr.push(t)}remove(t){let r=this._arr.indexOf(t);r!==-1&&this._arr.splice(r,1)}getItemsReversed(){let t=[...this._arr];return t.reverse(),t}has(t){return this._arr.indexOf(t)!==-1}};d();function gbe(e,t,r){return e.get(XZ).safeStartIfApplicable(t,r)}o(gbe,"startRecentEditsPromptFeatureIfApplicable");var XZ=class{static{o(this,"RecentEditsPromptFeatureLifecycle")}};function W0t(e,t,r){return ai(e,qt.VSCodeRecentEditsInPrompt)??t.recentEditsInPrompt(r)}o(W0t,"isRecentEditsActive");var Abe=o((e,t)=>{let r=e.get(er);return W0t(e,r,t)},"recentEditsPredicate");function H0t(e,t,r=0){let n=[];for(let i of e.edits){let s=i.lineRange.startLineNumber-1,a=i.lineRange.endLineNumberExclusive-1,l=t.slice(s,a),c=i.newLines;if(l.filter(m=>m.trim().length>0).length===0&&c.filter(m=>m.trim().length>0).length===0)continue;let u=Math.max(0,s-r),f=Math.min(t.length,a+r);n.push(`@@ -${s+1},${l.length} +${s+1},${c.length} @@`);for(let m=u;m<s;m++)n.push(` ${t[m]}`);n.push(...l.map(m=>`-${m}`)),n.push(...c.map(m=>`+${m}`));for(let m=a;m<f;m++)n.push(` ${t[m]}`)}return n}o(H0t,"summarizeEditsAsUnifiedDiff");var ybe=o((e,t)=>{let[r,n]=t.useState([]),[i,s]=t.useState();if(t.useData(Sc,async c=>{s(c.document);let u=c.telemetryData,f=e.ctx.get(er);await gbe(e.ctx,u,f);let m=ai(e.ctx,qt.VSCodeRecentEditsEditCount)??f.recentEditsEditCount(u),h=ai(e.ctx,qt.VSCodeRecentEditsContextLines)??f.recentEditsContextLines(u),p=ai(e.ctx,qt.VSCodeRecentEditsMaxLinesBetweenEdits)??f.recentEditsMaxLinesBetweenEdits(u),A=e.ctx.get(nI),E=e.ctx.get(Zb),x=e.ctx.get(Wr),b=[];for(let v of x.getOpenTextDocuments()){E.onUserPositionChange(v.uri,new so(0,0));let k=A.getHistoryContext($Z(v.uri),m,p)?.getDocument($Z(v.uri)),P=k?.base.getLines();if(k&&P){let N=k.lastEdit,W=xs.fromEdit(N),re=v.uri===c.document?.uri?0:h,ge=H0t(W,P,re);if(ge.length>0){let te={value:ge.join(`
`),uri:v.uri};b.push(te)}}}n(b)}),!r||r.length===0||!i)return;let a=wa(i.clientLanguageId),l=m0("These are recently edited files in unified diff format:");for(let c of r)l+=m0(`File: ${c.uri}`),l+=m0(c.value);return l+=m0("End of recent edits"),l=Ta(l,a),qn(ia,{children:l})},"RecentEdits");d();d();d();d();var ZZ=new kn;function Cbe(e){return[...e].sort((t,r)=>{let n=ZZ.get(t.uri.toString())??0;return(ZZ.get(r.uri.toString())??0)-n})}o(Cbe,"sortByAccessTimes");var Ebe=o(e=>e.get(Wr).onDidFocusTextDocument(t=>{t&&ZZ.set(t.document.uri.toString(),Date.now())}),"registerDocumentTracker");var mQ=class{constructor(t){this.docManager=t}static{o(this,"OpenTabFiles")}async truncateDocs(t,r,n,i){let s=new Map,a=0;for(let l of t)if(!(a+l.getText().length>Ap.MAX_NEIGHBOR_AGGREGATE_LENGTH)&&(l.uri.startsWith("file:")&&r.startsWith("file:")&&l.uri!==r&&hQ(n,l.languageId)&&(s.set(l.uri.toString(),{uri:l.uri.toString(),relativePath:this.docManager.getRelativePath(l),source:l.getText()}),a+=l.getText().length),s.size>=i))break;return s}async getNeighborFiles(t,r,n){let i=new Map,s=new Map;return i=await this.truncateDocs(Cbe(await this.docManager.textDocuments()),t,r,n),s.set("opentabs",Array.from(i.keys()).map(a=>a.toString())),{docs:i,neighborSource:s}}};d();d();function pQ(e,t,r){return async function(...n){return await Promise.race([e.apply(this,n),new Promise(i=>{setTimeout(i,t,r)})])}}o(pQ,"shortCircuit");d();function j0t(...e){return JSON.stringify(e,(t,r)=>typeof r=="object"?r:String(r))}o(j0t,"defaultHash");function eee(e,t={}){let{hash:r=j0t,cache:n=new Map}=t;return function(...i){let s=r.apply(this,i);if(n.has(s))return n.get(s);let a=e.apply(this,i);return a instanceof Promise&&(a=a.catch(l=>{throw n.delete(s),l})),n.set(s,a),a}}o(eee,"memoize");var xbe={entries:[],traits:[]},gQ={entries:new Map,traits:[]},tee=class extends kn{constructor(r,n=2*60*1e3){super(r);this.defaultEvictionTimeMs=n;this._cacheTimestamps=new Map}static{o(this,"LRUExpirationCacheMap")}bumpRetryCount(r){let n=this._cacheTimestamps.get(r);return n?++n.retryCount:(this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),0)}has(r){return this.isValid(r)?super.has(r):(this.deleteExpiredEntry(r),!1)}get(r){let n=super.get(r);if(this.isValid(r))return n;this.deleteExpiredEntry(r)}set(r,n){let i=super.set(r,n);return this.isValid(r)||this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),i}clear(){super.clear(),this._cacheTimestamps.clear()}isValid(r){let n=this._cacheTimestamps.get(r);return n!==void 0&&Date.now()-n.timestamp<this.defaultEvictionTimeMs}deleteExpiredEntry(r){this._cacheTimestamps.has(r)&&this._cacheTimestamps.delete(r),super.deleteKey(r)}},ja=new Er("relatedFiles"),$0t=1e3,AQ=class extends Error{static{o(this,"RelatedFilesProviderFailure")}constructor(){super("The provider failed providing the list of relatedFiles")}},l4=class e{constructor(t){this.context=t}static{o(this,"RelatedFilesProvider")}async getRelatedFiles(t,r,n){let i=await this.getRelatedFilesResponse(t,r,n);if(i===null)return null;let s={entries:new Map,traits:i.traits??[]};for(let a of i.entries){let l=s.entries.get(a.type);l||(l=new Map,s.entries.set(a.type,l));for(let c of a.uris)try{ja.debug(this.context,`Processing ${c}`);let u=await this.getFileContent(c);if(!u||u.length==0){ja.debug(this.context,`Skip ${c} due to empty content or loading issue.`);continue}if(await this.isContentExcluded(c,u)){ja.debug(this.context,`Skip ${c} due content exclusion.`);continue}u=e.dropBOM(u),l.set(c,u)}catch(u){ja.warn(this.context,u)}}return s}async getFileContent(t){try{return this.context.get(Lo).readFileString(t)}catch(r){ja.debug(this.context,r)}}async isContentExcluded(t,r){try{return(await this.context.get(Sa).evaluate(t,r)).isBlocked}catch(n){ja.exception(this.context,n,"isContentExcluded")}return!0}static dropBOM(t){return t.charCodeAt(0)===65279?t.slice(1):t}},z0t=3,vbe=new tee($0t);async function bbe(e,t,r,n,i){let s=Date.now(),a;try{a=await i.getRelatedFiles(t,r,n)}catch(c){ja.exception(e,c,".getRelatedFiles"),a=null}a===null&&(vbe.bumpRetryCount(t.uri)>=z0t?a=gQ:a=null);let l=Date.now()-s;if(ja.debug(e,a!==null?`Fetched ${[...a.entries.values()].map(c=>c.size).reduce((c,u)=>c+u,0)} related files for '${t.uri}' in ${l}ms.`:`Failing fetching files for '${t.uri}' in ${l}ms.`),a===null)throw new AQ;return a}o(bbe,"getRelatedFiles");var ree=eee(bbe,{cache:vbe,hash:o((e,t,r,n,i)=>`${t.uri}`,"hash")});ree=pQ(ree,200,gQ);async function Ibe(e,t,r,n,i,s=!1){let a=e.get(l4),l=gQ;try{let c={uri:t.uri,clientLanguageId:t.clientLanguageId,data:i};l=s?await bbe(e,c,r,n,a):await ree(e,c,r,n,a)}catch(c){l=gQ,c instanceof AQ&&Xt(e,"getRelatedFilesList",r)}return K0t(e,l.traits,t,r),ja.debug(e,l!=null?`Fetched following traits ${l.traits.map(c=>`{${c.name} : ${c.value}}`).join("")} for '${t.uri}'`:`Failing fecthing traits for '${t.uri}'.`),l}o(Ibe,"getRelatedFilesAndTraits");var Y0t=new Map([["TargetFrameworks","targetFrameworks"],["LanguageVersion","languageVersion"]]);function K0t(e,t,r,n){if(t.length>0){let i={};i.detectedLanguageId=r.detectedLanguageId,i.languageId=r.clientLanguageId;for(let a of t){let l=Y0t.get(a.name);l&&(i[l]=a.value)}let s=n.extendedBy(i,{});return Xt(e,"related.traits",s)}}o(K0t,"ReportTraitsTelemetry");function hQ(e,t){return wa(e)===wa(t)}o(hQ,"considerNeighborFile");var Ap=class e{static{o(this,"NeighborSource")}static{this.MAX_NEIGHBOR_AGGREGATE_LENGTH=2e5}static{this.MAX_NEIGHBOR_FILES=20}static{this.EXCLUDED_NEIGHBORS=["node_modules","dist","site-packages"]}static defaultEmptyResult(){return{docs:new Map,neighborSource:new Map,traits:[]}}static reset(){e.instance=void 0}static async getNeighborFilesAndTraits(t,r,n,i,s,a,l){let c=t.get(Wr);e.instance===void 0&&(e.instance=new mQ(c));let u=oct(t,n,i),f=nct(t,i),m=!u||f?{...await e.instance.getNeighborFiles(r,n,e.MAX_NEIGHBOR_FILES),traits:[]}:e.defaultEmptyResult(),h=await c.getTextDocument({uri:r});if(!h)return ja.debug(t,"neighborFiles.getNeighborFilesAndTraits",`Failed to get the related files: failed to get the document ${r}`),m;let p=await c.getWorkspaceFolder(h);if(!p)return ja.debug(t,"neighborFiles.getNeighborFilesAndTraits",`Failed to get the related files: ${r} is not under the workspace folder`),m;let A=await Ibe(t,h,i,s,a,l);if(A.entries.size===0)return ja.debug(t,"neighborFiles.getNeighborFilesAndTraits",`0 related files found for ${r}`),m.traits.push(...A.traits),m;let E=u?e.defaultEmptyResult():m;return A.entries.forEach((x,b)=>{let v=[];x.forEach((S,k)=>{let P=e.getRelativePath(k,p.uri);if(!P||E.docs.has(k))return;let N={relativePath:P,uri:k,source:S};v.unshift(N),E.docs.set(k,N)}),v.length>0&&E.neighborSource.set(b,v.map(S=>S.uri.toString()))}),E.traits.push(...A.traits),E}static basename(t){return decodeURIComponent(t.replace(/[#?].*$/,"").replace(/^.*[/:]/,""))}static getRelativePath(t,r){let n=r.toString().replace(/[#?].*/,"").replace(/\/?$/,"/");return t.toString().startsWith(n)?t.toString().slice(n.length):e.basename(t)}},J0t=["cpp","c"],X0t=["typescript","javascript","typescriptreact","javascriptreact"],Z0t=["csharp"];function ect(e,t){return e.get(er).excludeOpenTabFilesCSharp(t)||ai(e,qt.ExcludeOpenTabFilesCSharp)}o(ect,"isExcludeOpenTabFilesCSharpActive");function tct(e,t){return e.get(er).excludeOpenTabFilesCpp(t)||ai(e,qt.ExcludeOpenTabFilesCpp)}o(tct,"isExcludeOpenTabFilesCppActive");function rct(e,t){return e.get(er).excludeOpenTabFilesTypeScript(t)||ai(e,qt.ExcludeOpenTabFilesTypeScript)}o(rct,"isExcludeOpenTabFilesTypeScriptActive");function nct(e,t){return e.get(er).fallbackToOpenTabFilesWithNoRelatedFiles(t)||ai(e,qt.FallbackToOpenTabFilesWithNoRelatedFiles)}o(nct,"isFallbackToOpenTabFilesActive");var ict=new Map([...J0t.map(e=>[e,tct]),...X0t.map(e=>[e,rct]),...Z0t.map(e=>[e,ect])]);function oct(e,t,r){let n=ict.get(t);return n?n(e,r):!1}o(oct,"isExcludeOpenTabFilesActive");var Tbe=o((e,t)=>{let[r,n]=t.useState(),[i,s]=t.useState([]);t.useData(Sc,async c=>{c.document.uri!==r?.uri&&s([]),n(c.document);let u=c.turnOffSimilarFiles?Ap.defaultEmptyResult():await Ap.getNeighborFilesAndTraits(e.ctx,c.document.uri,c.document.detectedLanguageId,c.telemetryData,c.cancellationToken,c.data),f=await a(c.telemetryData,c.document,c,u);s(f)});async function a(c,u,f,m){let h=VT(e.ctx,c,u.detectedLanguageId);return(await l(h,c,u,f,m)).filter(A=>A.snippet.length>0).sort((A,E)=>A.score-E.score).map(A=>({text:TK(A,u.detectedLanguageId),score:A.score}))}o(a,"produceSimilarFiles");async function l(c,u,f,m,h){let p=c.similarFilesOptions||JF(e.ctx,u,f.detectedLanguageId),E=e.ctx.get(Wr).getRelativePath(f),x={uri:f.uri,source:f.getText(),offset:f.offsetAt(m.position),relativePath:E,languageId:f.detectedLanguageId};return await ZP(x,Array.from(h.docs.values()),p)}return o(l,"findSimilarSnippets"),qn(l1,{children:i.map((c,u)=>qn(sct,{text:c.text}))})},"SimilarFiles"),sct=o((e,t)=>qn(ia,{children:e.text}),"SimilarFile");d();var wbe=o((e,t)=>{let[r,n]=t.useState(),[i,s]=t.useState();if(t.useData(Sc,a=>{a.traits!==r&&n(a.traits);let l=wa(a.document.clientLanguageId);l!==i&&s(l)}),!(!r||r.length===0||!i))return qn(l1,{children:[qn(ia,{children:Ta(`Consider this related information:
`,i)}),...r.map(a=>qn(ia,{source:a,children:Ta(`${a.name}: ${a.value}`,i)},a.id))]})},"Traits");d();d();var act="CppCodeSnippetsEnabledFeatures",lct="CppCodeSnippetsTimeBudgetFactor",cct="CppCodeSnippetsMaxDistanceToCaret";function yQ(e,t,r){try{let n=e.get(er).cppCodeSnippetsFeatures(r);if(n){t.set(act,n);let i=e.get(er).cppCodeSnippetsTimeBudgetFactor(r);i&&t.set(lct,i);let s=e.get(er).cppCodeSnippetsMaxDistanceToCaret(r);s&&t.set(cct,s)}}catch(n){return ei.debug(e,`Failed to get the active C++ Code Snippets experiments for the Context Provider API: ${n}`),!1}return!0}o(yQ,"fillInCppActiveExperiments");d();function oee(e){return e instanceof nee?!0:e instanceof Error&&e.name===iee&&e.message===iee}o(oee,"isCancellationError");var nee=class extends Error{static{o(this,"CancellationError")}constructor(){super(iee),this.name=this.message}},iee="Canceled";var _be=require("node:timers/promises"),Sbe=ft(Ii());var gl=class{static{o(this,"ContextProviderRegistry")}},see=class extends gl{constructor(r,n){super();this.ctx=r;this.match=n;this._providers=[]}static{o(this,"CoreContextProviderRegistry")}registerContextProvider(r){if(r.id.includes(",")||r.id.includes("*"))throw new Error(`A context provider id cannot contain a comma or an asterisk. The id ${r.id} is invalid.`);if(this._providers.find(n=>n.id===r.id))throw new Error(`A context provider with id ${r.id} has already been registered`);this._providers.push(r)}unregisterContextProvider(r){this._providers=this._providers.filter(n=>n.id!==r)}get providers(){return this._providers.slice()}async resolveAllProviders(r,n,i,s){if(i?.isCancellationRequested)return ei.debug(this.ctx,"Resolving context providers cancelled"),[];let a=new Map;yQ(this.ctx,a,n);let l=[];if(this._providers.length===0)return l;let c=await this.matchProviders(r,n),u=c.filter(p=>p[1]>0);if(c.filter(p=>p[1]<=0).forEach(([p,A])=>{let E={providerId:p.id,matchScore:A,resolution:"none",resolutionTimeMs:0,data:[]};l.push(E)}),u.length===0)return l;if(i?.isCancellationRequested)return ei.debug(this.ctx,"Resolving context providers cancelled"),[];let m=sC(this.ctx)&&!ND(this.ctx)?0:ai(this.ctx,qt.ContextProviderTimeBudget),h=u.length>0?m/u.length:m;for(let[p,A]of u){let E={completionId:kbe(n),documentContext:r,activeExperiments:a,timeBudget:h,data:s},x=this.ctx.get(Ba).pop(p.id);x&&(E.previousUsageStatistics=x);let b=new Sbe.CancellationTokenSource;i?.onCancellationRequested(G=>{b.cancel()});let v=performance.now(),S=p.resolver.resolve(E,b.token),[k,P]=await uct(this.ctx,S,E,p,b),N=performance.now();this.ctx.get(Ba).setLastResolution(p.id,P);let[W,re]=zEe(k);re&&ei.error(this.ctx,`Dropped ${re} context items from ${p.id} due to invalid schema`);let ge=YEe(this.ctx,W),te={providerId:p.id,matchScore:A,resolution:P,resolutionTimeMs:N-v,data:ge};l.push(te)}return l.sort((p,A)=>A.matchScore-p.matchScore)}async matchProviders(r,n){let i=Rbe(this.ctx,n),s=i.length===1&&i[0]==="*";return await Promise.all(this._providers.map(async l=>{if(!s&&!i.includes(l.id))return[l,0];let c=await this.match(this.ctx,l.selector,r);return[l,c]}))}},aee=class extends gl{constructor(r){super();this.delegate=r;this._cachedContextItems=new kn(5)}static{o(this,"CachedContextProviderRegistry")}registerContextProvider(r){this.delegate.registerContextProvider(r)}unregisterContextProvider(r){this.delegate.unregisterContextProvider(r)}get providers(){return this.delegate.providers}async resolveAllProviders(r,n,i,s){let a=kbe(n),l=this._cachedContextItems.get(a);if(a&&l&&l.length>0)return l;let c=await this.delegate.resolveAllProviders(r,n,i,s);return c.length>0&&a&&this._cachedContextItems.set(a,c),c}};function Bbe(e){return e>0?(0,_be.setTimeout)(e,null):new Promise(()=>{})}o(Bbe,"nullTimeout");async function uct(e,t,r,n,i){let s=[],a;return t instanceof Promise?[s,a]=await fct(e,t,r,n,i):[s,a]=await dct(e,t,r,n,i),[s,a]}o(uct,"extractDataFromPendingContextItem");async function fct(e,t,r,n,i){let s=[],a,l=Bbe(r.timeBudget);try{let c=await Promise.race([t,l]);c===null?(a="none",i.cancel(),ei.info(e,`Context provider ${n.id} exceeded time budget of ${r.timeBudget}ms`)):(a="full",Array.isArray(c)?s.push(...c):s.push(c))}catch(c){return oee(c)||ei.error(e,`Error resolving context from ${n.id}: `,c),i.cancel(),[[],"error"]}return[s,a]}o(fct,"handlePromiseContextItem");async function dct(e,t,r,n,i){let s=[],a,l=Bbe(r.timeBudget),c=(async()=>{for await(let u of t)s.push(u);return s})();try{await Promise.race([c,l])===null?(a=s.length>0?"partial":"none",i.cancel(),ei.info(e,`Context provider ${n.id} exceeded time budget of ${r.timeBudget}ms`)):a="full"}catch(u){return oee(u)||ei.error(e,`Error resolving context from ${n.id}: `,u),i.cancel(),[[],"error"]}return[s,a]}o(dct,"handleAsyncIteratorContextItem");function CQ(e,t){return new aee(new see(e,t))}o(CQ,"getContextProviderRegistry");function EQ(e,t){let r=e.get(Ba);return t.map(i=>{let{providerId:s,resolution:a,resolutionTimeMs:l,matchScore:c,data:u}=i,f=r.get(s),m=f?.usage??"none";(c<=0||a==="none"||a==="error")&&(m="none");let h={providerId:s,resolution:a,resolutionTimeMs:l,usage:m,usageDetails:f?.usageDetails,matched:c>0,numResolvedItems:u.length},p=f?.usageDetails!==void 0?f?.usageDetails.filter(E=>E.usage==="full"||E.usage==="partial"||E.usage==="partial_content_excluded").length:void 0,A=f?.usageDetails!==void 0?f?.usageDetails.filter(E=>E.usage==="partial"||E.usage==="partial_content_excluded").length:void 0;return p!==void 0&&(h.numUsedItems=p),A!==void 0&&(h.numPartiallyUsedItems=A),h})}o(EQ,"telemetrizeContextItems");function kbe(e){return e.properties.headerRequestId}o(kbe,"extractCompletionId");function xQ(e){return e.matchScore>0&&e.resolution!=="error"}o(xQ,"matchContextItems");function Rbe(e,t){if(sC(e))return["*"];let r=e.get(er).contextProviders(t),n=ai(e,qt.ContextProviders)??[];return r.length===1&&r[0]==="*"||n.length===1&&n[0]==="*"?["*"]:Array.from(new Set([...r,...n]))}o(Rbe,"getExpContextProviders");function iI(e,t){return Rbe(e,t).length>0}o(iI,"useContextProviderAPI");d();async function vQ(e,t){let r=tL(t,"Trait");for(let i of r)mct(e,i.data,i.providerId);return r.flatMap(i=>i.data).sort((i,s)=>(i.importance??0)-(s.importance??0))}o(vQ,"getTraitsFromContextItems");function mct(e,t,r){let n=e.get(Ba);t.forEach(i=>{n.addPromptLibExpectations(r,[i.value]),n.addPromptComponentsExpectations(r,[[i,"included"]])})}o(mct,"setupExpectationsForTraits");function Dbe(e){return e.map(t=>({...t,includeInPrompt:!0}))}o(Dbe,"convertTraitsToRelatedFileTraits");function Pbe(e){return e.promptTextOverride?{kind:"string",value:e.promptTextOverride}:{kind:"name-value",name:e.name,value:e.value}}o(Pbe,"addKindToRelatedFileTrait");d();d();d();var bQ=class{constructor(t){this.states=t;this.currentIndex=0;this.stateChanged=!1}static{o(this,"UseState")}useState(t){let r=this.currentIndex;if(this.states[r]===void 0){let i=typeof t=="function"?t():t;this.states[r]=i}let n=o(i=>{let s=typeof i=="function"?i(this.states[r]):i;this.states[r]=s,this.stateChanged=!0},"setState");return this.currentIndex++,[this.states[r],n]}hasChanged(){return this.stateChanged}},IQ=class{constructor(t){this.measureUpdateTime=t;this.consumers=[]}static{o(this,"UseData")}useData(t,r){this.consumers.push(n=>{if(t(n))return r(n)})}async updateData(t){if(this.consumers.length>0){let r=performance.now();for(let n of this.consumers)await n(t);this.measureUpdateTime(performance.now()-r)}}};var TQ=class{constructor(){this.lifecycleData=new Map}static{o(this,"VirtualPromptReconciler")}async initialize(t){this.vTree=await this.virtualizeElement(t,"$",0)}async reconcile(t){if(!this.vTree)throw new Error("No tree to reconcile, make sure to pass a valid prompt");return t?.isCancellationRequested?this.vTree:(this.vTree=await this.reconcileNode(this.vTree,"$",0,t),this.vTree)}async reconcileNode(t,r,n,i){if(!t.children&&!t.lifecycle)return t;let s=t;if(t.lifecycle?.isRemountRequired()){let l=this.collectChildPaths(t);s=await this.virtualizeElement(t.component,r,n);let c=this.collectChildPaths(s);this.cleanupState(l,c)}else if(t.children){let l=[];for(let c=0;c<t.children.length;c++){let u=t.children[c];if(u){let f=await this.reconcileNode(u,t.path,c,i);f!==void 0&&l.push(f)}}s.children=l}return s}async virtualizeElement(t,r,n){if(!(typeof t>"u")){if(typeof t=="string"||typeof t=="number")return{name:typeof t,path:`${r}[${n}]`,props:{value:t},component:t};if(hct(t.type)){let i=t.type(t.props.children),s=r!=="$"?`[${n}]`:"",a=`${r}${s}.${i.type}`,l=await Promise.all(i.children.map((c,u)=>this.virtualizeElement(c,a,u)));return this.ensureUniqueKeys(l),{name:i.type,path:a,children:l.flat().filter(c=>c!==void 0),component:t}}return await this.virtualizeFunctionComponent(r,n,t,t.type)}}async virtualizeFunctionComponent(t,r,n,i){let s=n.props.key?`["${n.props.key}"]`:`[${r}]`,a=`${t}${s}.${i.name}`,l=new cee(this.getOrCreateLifecycleData(a)),c=await i(n.props,l),u=Array.isArray(c)?c:[c],m=(await Promise.all(u.map((h,p)=>this.virtualizeElement(h,a,p)))).flat().filter(h=>h!==void 0);return this.ensureUniqueKeys(m),{name:i.name,path:a,props:n.props,children:m,component:n,lifecycle:l}}ensureUniqueKeys(t){let r=new Map;for(let i of t){if(!i)continue;let s=i.props?.key;s&&r.set(s,(r.get(s)||0)+1)}let n=Array.from(r.entries()).filter(([i,s])=>s>1).map(([i])=>i);if(n.length>0)throw new Error(`Duplicate keys found: ${n.join(", ")}`)}collectChildPaths(t){let r=[];if(t?.children)for(let n of t.children)n&&(r.push(n.path),r.push(...this.collectChildPaths(n)));return r}cleanupState(t,r){for(let n of t)r.includes(n)||this.lifecycleData.delete(n)}getOrCreateLifecycleData(t){return this.lifecycleData.has(t)||this.lifecycleData.set(t,new lee([])),this.lifecycleData.get(t)}createPipe(){return{pump:o(async t=>{await this.pumpData(t)},"pump")}}async pumpData(t){if(!this.vTree)throw new Error("No tree to pump data into. Pumping data before initializing?");await this.recursivelyPumpData(t,this.vTree)}async recursivelyPumpData(t,r){if(!r)throw new Error("Can't pump data into undefined node.");await r.lifecycle?.dataHook.updateData(t);for(let n of r.children||[])await this.recursivelyPumpData(t,n)}},lee=class{static{o(this,"PromptElementLifecycleData")}constructor(t){this.state=t,this._updateTimeMs=0}getUpdateTimeMsAndReset(){let t=this._updateTimeMs;return this._updateTimeMs=0,t}},cee=class{constructor(t){this.lifecycleData=t;this.stateHook=new bQ(t.state),this.dataHook=new IQ(r=>{t._updateTimeMs=r})}static{o(this,"PromptElementLifecycle")}useState(t){return this.stateHook.useState(t)}useData(t,r){this.dataHook.useData(t,r)}isRemountRequired(){return this.stateHook.hasChanged()}};function hct(e){return typeof e=="function"&&"isFragmentFunction"in e}o(hct,"isFragmentFunction");var wQ=class e{static{o(this,"VirtualPrompt")}static async create(t){let r=new e;return await r.initialize(t),r}constructor(){this.reconciler=new TQ}async initialize(t){await this.reconciler.initialize(t)}snapshotNode(t,r){if(!t)return;if(r?.isCancellationRequested)return"cancelled";let n=[];for(let i of t.children??[]){let s=this.snapshotNode(i,r);if(s==="cancelled")return"cancelled";s!==void 0&&n.push(s)}return{value:t.props?.value?.toString(),name:t.name,path:t.path,props:t.props,children:n,statistics:{updateDataTimeMs:t.lifecycle?.lifecycleData.getUpdateTimeMsAndReset()}}}async snapshot(t){try{let r=await this.reconciler.reconcile(t);if(t?.isCancellationRequested)return{snapshot:void 0,status:"cancelled"};if(!r)throw new Error("Invalid virtual prompt tree");let n=this.snapshotNode(r,t);return n==="cancelled"||t?.isCancellationRequested?{snapshot:void 0,status:"cancelled"}:{snapshot:n,status:"ok"}}catch(r){return{snapshot:void 0,status:"error",error:r}}}createPipe(){return this.reconciler.createPipe()}};var od=class{static{o(this,"CompletionsPromptFactory")}};function _Q(e,t){return new uee(new fee(new dee(e,t)))}o(_Q,"createCompletionsPromptFactory");var uee=class extends od{constructor(r){super();this.delegate=r}static{o(this,"SequentialCompletionsPromptFactory")}prompt(r,n,i,s,a){return this.lastPromise=this.promptAsync(r,n,i,s,a),this.lastPromise}async promptAsync(r,n,i,s,a){if(await this.lastPromise,s?.isCancellationRequested)return jT;try{return await this.delegate.prompt(r,n,i,s,a)}catch{return gee}}},gct=1200,fee=class extends od{constructor(r){super();this.delegate=r;this.timeoutHandlingCreatePrompt=pQ(this.delegate.prompt.bind(this.delegate),gct,Lbe)}static{o(this,"TimeoutHandlingCompletionsPromptFactory")}async prompt(r,n,i,s,a={}){return await this.timeoutHandlingCreatePrompt(r,n,i,s,a)}};function Sc(e){if(!e||typeof e!="object")return!1;let t=e;return!(!t.document||!t.position||t.position.line===void 0||t.position.character===void 0||!t.telemetryData)}o(Sc,"isCompletionRequestData");var dee=class extends od{constructor(r,n){super();this.ctx=r;this.renderer=new _L;this.virtualPrompt=n}static{o(this,"ComponentsCompletionsPromptFactory")}async prompt(r,n,i,s,a={}){try{return await this.createPromptUnsafe(r,n,i,s,a)}catch(l){return this.errorPrompt(l)}}async createPromptUnsafe(r,n,i,s,a={}){let{maxPromptLength:l,suffixPercent:c,suffixMatchThreshold:u}=VT(this.ctx,i,r.detectedLanguageId),f=await this.failFastPrompt(r,n,c??0,s);if(f)return f;let{virtualPrompt:m,pipe:h}=await this.getOrCreateVirtualPrompt(this.ctx),p=performance.now(),{traits:A,codeSnippets:E,turnOffSimilarFiles:x,resolvedContextItems:b}=await this.resolveContext(r,n,i,s,a);await this.updateComponentData(h,r,n,A,E,i,x,l??vC,s,a,u);let v=await m.snapshot(s),S=v.status;if(S==="cancelled")return jT;if(S==="error")return this.errorPrompt(v.error);let k=await this.renderer.render(v.snapshot,{delimiter:`
`,tokenizer:_o(),promptTokenLimit:l,suffixPercent:c,languageId:r.detectedLanguageId},s);if(k.status==="cancelled")return jT;if(k.status==="error")return this.errorPrompt(k.error);let[P,N]=c4(k.prefix),W;if(iI(this.ctx,i)){let ge=GEe(k.metadata.componentStatistics);this.ctx.get(Ba).computeMatch(ge),W=EQ(this.ctx,b)}let re=performance.now();return this.resetIfEmpty(k),this.successPrompt(P,k,re,p,N,W)}async updateComponentData(r,n,i,s,a,l,c,u,f,m={},h){let p=this.createRequestData(n,i,l,f,m,u,s,a,c,h);await r.pump(p)}async resolveContext(r,n,i,s,a={}){let l=[],c,u,f=!1;if(iI(this.ctx,i)){l=await this.ctx.get(gl).resolveAllProviders({uri:r.uri,languageId:r.clientLanguageId,version:r.version,offset:r.offsetAt(n),position:a.positionBeforeApplyingEdits??n,proposedEdits:r.appliedEdits.length>0?r.appliedEdits:void 0},i,s,a.data);let h=l.filter(xQ);!this.ctx.get(er).includeNeighboringFiles(i)&&h.length>0&&(f=!0),c=await vQ(this.ctx,h),u=await rL(this.ctx,h,r.detectedLanguageId)}return{traits:c,codeSnippets:u,turnOffSimilarFiles:f,resolvedContextItems:l}}async failFastPrompt(r,n,i,s){if(s?.isCancellationRequested)return jT;if((await this.ctx.get(Sa).evaluate(r.uri,r.getText(),"UPDATE")).isBlocked)return pee;if((i>0?r.getText().length:r.offsetAt(n))<mee)return hee}async getOrCreateVirtualPrompt(r){return this.virtualPrompt||(this.virtualPrompt=await wQ.create(this.completionsPrompt())),this.pipe||(this.pipe=this.virtualPrompt.createPipe()),{virtualPrompt:this.virtualPrompt,pipe:this.pipe}}completionsPrompt(){return qn(l1,{children:[qn(ove,{ctx:this.ctx,weight:.7}),qn(wbe,{weight:.6}),qn(JEe,{ctx:this.ctx,weight:.9}),qn(Tbe,{ctx:this.ctx,weight:.8}),qn(ive,{ctx:this.ctx,by:Abe,children:qn(ybe,{ctx:this.ctx,weight:.99})}),qn(bT,{weight:1})]})}createRequestData(r,n,i,s,a,l,c,u,f,m){return{document:r,position:n,telemetryData:i,cancellationToken:s,data:a.data,traits:c,codeSnippets:u,turnOffSimilarFiles:f,suffixMatchThreshold:m,maxPromptTokens:l}}resetIfEmpty(r){r.prefix.length===0&&r.suffix.length===0&&this.reset()}successPrompt(r,n,i,s,a,l){return{type:"prompt",prompt:{prefix:r,suffix:n.suffix,context:n.context,prefixWithoutContext:n.prefixWithoutContext,isFimEnabled:n.suffix.length>0,promptElementRanges:[]},computeTimeMs:i-s,trailingWs:a,promptChoices:new ob,promptBackground:new ib,neighborSource:new Map,metadata:n.metadata,contextProvidersTelemetry:l}}errorPrompt(r){return Fo(this.ctx,r,"PromptComponents.CompletionsPromptFactory"),this.reset(),gee}reset(){this.virtualPrompt=void 0,this.pipe=void 0}};function Nbe(e,t){return e.get(er).promptComponentsEnabled(t)||ai(e,qt.EnablePromptComponents)?"components":"wishlist"}o(Nbe,"getPromptStrategy");function Fbe(e){try{_o()}catch(t){XF(e,t,"heatUpTokenizer")}}o(Fbe,"tryHeatingUpTokenizer");var Aee=require("node:perf_hooks");var mee=10,hee={type:"contextTooShort"},pee={type:"copilotContentExclusion"},gee={type:"promptError"},jT={type:"promptCancelled"},Lbe={type:"promptTimeout"};async function Act(e,t,r,n,i,s,a,l,c,u,f,m,h={}){let p={uri:s.toString(),source:t,offset:r,relativePath:i,languageId:a},A=VT(e,f,a),E=[],x=new Map,b=new Map,v=[],S=[],k=[],P=[],N=!1;try{if(iI(e,f)){S=await e.get(gl).resolveAllProviders({uri:s,languageId:l,version:c,offset:r,position:h.positionBeforeApplyingEdits??n,proposedEdits:u.length>0?u:void 0},f,m,h.data);let te=S.filter(xQ);!e.get(er).includeNeighboringFiles(f)&&te.length>0&&(N=!0),P=await vQ(e,te),k=await rL(e,te,a)}let re=N?Ap.defaultEmptyResult():await Ap.getNeighborFilesAndTraits(e,s,a,f,m,h.data);x=re.docs,b=re.neighborSource,v=re.traits.concat(Dbe(P)).filter(ge=>ge.includeInPrompt).map(Pbe)}catch(re){Fo(e,re,"prompt.getPromptForSource.exception")}try{let re={currentFile:p,similarFiles:Array.from(x.values()),traits:v,tooltipSignature:h.selectedCompletionInfo?.tooltipSignature,options:new W7(A,a),codeSnippets:nL(e,k)},te=await e.get(Em).getSnippets(re),G=SK(te),q=BK(te),{runtimes:se,timeouts:ne}=kK(te);f.extendWithConfigProperties(e),f.sanitizeKeys();let H=ys(f);x.size>0?Hv(e,"prompt.stat",{...H,neighborFilesTimeout:`${ne["similar-files"]}`},{neighborFilesRuntimeMs:se["similar-files"]}):Hv(e,"prompt.stat",{...H},{});for(let O of q)O.error instanceof n1||Fo(e,O.error,"getSnippets");E.push(...G)}catch(re){throw Fo(e,re,"prompt.orchestrator.getSnippets.exception"),re}let W;try{W=await ip.getPrompt(p,A,E),iI(e,f)&&(e.get(Ba).computeMatchWithPrompt(W.prefix+`
`+W.suffix),W.contextProvidersTelemetry=EQ(e,S))}catch(re){throw Fo(e,re,"prompt.getPromptForSource.exception"),re}return{neighborSource:b,...W}}o(Act,"getPromptForSource");function c4(e){let t=e.split(`
`),r=t[t.length-1],n=r.length-r.trimEnd().length,i=e.slice(0,e.length-n),s=e.slice(i.length);return[r.length==n?i:e,s]}o(c4,"trimLastLine");async function Qbe(e,t,r,n,i,s,a,l,c,u,f,m,h={}){if((await e.get(Sa).evaluate(s,t,"UPDATE")).isBlocked)return pee;let p=e.get(er).suffixPercent(f);if((p>0?t.length:r)<mee)return hee;let E=Aee.performance.now(),{prefix:x,suffix:b,prefixLength:v,suffixLength:S,promptChoices:k,promptBackground:P,promptElementRanges:N,neighborSource:W,contextProvidersTelemetry:re}=await Act(e,t,r,n,i,s,a,l,c,u,f,m,h),[ge,te]=c4(x),G=Aee.performance.now();return{type:"prompt",prompt:{prefix:ge,suffix:b,prefixTokens:v,suffixTokens:S,isFimEnabled:p>0&&b.length>0,promptElementRanges:N.ranges},trailingWs:te,promptChoices:k,computeTimeMs:G-E,promptBackground:P,neighborSource:W,contextProvidersTelemetry:re}}o(Qbe,"extractPromptForSource");async function Mbe(e,t,r,n,i="wishlist",s,a={}){let l=e.get(Wr).getRelativePath(t);return i==="components"?(n.extendWithConfigProperties(e),n.sanitizeKeys(),e.get(od).prompt(t,r,n,s,a)):Qbe(e,t.getText(),t.offsetAt(r),r,l,t.uri,t.detectedLanguageId,t.clientLanguageId,t.version,t.appliedEdits,n,s,a)}o(Mbe,"extractPromptForDocument");function yct(e,t){let r=e.document.detectedLanguageId,n=e.document.getText();return r===t?n:Ta(n,t)}o(yct,"addNeighboringCellsToPrompt");async function Cct(e,t,r,n,i,s="wishlist",a,l={}){let c=r.getCellFor(t);if(c){let f=r.getCells().filter(A=>A.index<c.index&&hQ(c.document.detectedLanguageId,A.document.detectedLanguageId)),m=f.length>0?f.map(A=>yct(A,c.document.detectedLanguageId)).join(`

`)+`

`:"",h=m+t.getText(),p=m.length+t.offsetAt(n);if(s==="components"){i.extendWithConfigProperties(e),i.sanitizeKeys();let A=e.get(od),E=M0.create(t.uri,c.document.clientLanguageId,c.document.version,h,c.document.detectedLanguageId),x=E.positionAt(p);return A.prompt(E,x,i,a,l)}return Qbe(e,h,p,n,void 0,t.uri,c.document.detectedLanguageId,c.document.clientLanguageId,c.document.version,c.document.appliedEdits,i,a,l)}else return Mbe(e,t,n,i,s,a,l)}o(Cct,"extractPromptForNotebook");function oI(e,t,r,n,i,s={}){let l=e.get(Wr).findNotebook(t),c=Nbe(e,n);return l===void 0?Mbe(e,t,r,n,c,i,s):Cct(e,t,l,r,n,c,i,s)}o(oI,"extractPrompt");function VT(e,t,r){let i=e.get(er).maxPromptCompletionTokens(t)-xF(e),s=UEe(t,r),a=JF(e,t,r),l=e.get(er).promptOrderListPreset(t),c=e.get(er).promptPriorityPreset(t),u={maxPromptLength:i,similarFilesOptions:a,numberOfSnippets:s,promptOrderListPreset:l,promptPriorityPreset:c},f=e.get(er).suffixPercent(t),m=e.get(er).suffixMatchThreshold(t);return f>0&&m>0&&(u={...u,suffixPercent:f,suffixMatchThreshold:m}),u}o(VT,"getPromptOptions");d();d();var Obe=2.98410452738298,Ube=-.838732736843507,qbe=1.50314646255716,Gbe=-.237798634012662,SQ={python:.314368072478742},Wbe={"0.01":.225800751784931,"0.02":.290204307767402,"0.03":.333153496466045,"0.05":.404516749849559,"0.1":.513216040545626,"0.2":.626904979128674,"0.3":.694880719658273,"0.4":.743100684947291,"0.5":.782524520571946,"0.6":.816856186092243,"0.7":.84922977716585,"0.8":.883694877241999,"0.9":.921859050950077,"0.95":.944571268106974,"0.99":.969535563141733};var Ect={link:o(e=>Math.exp(e)/(1+Math.exp(e)),"link"),unlink:o(e=>Math.log(e/(1-e)),"unlink")};function xct(e,t){let r=Math.min(...Array.from(t.keys()).filter(a=>a>=e)),n=Math.max(...Array.from(t.keys()).filter(a=>a<e)),i=t.get(r),s=t.get(n);return s+(i-s)*(e-n)/(r-n)}o(xct,"linearInterpolation");var sI=class{static{o(this,"Regressor")}constructor(t,r,n){this.name=t,this.coefficient=r,this.transformation=n||(i=>i)}contribution(t){return this.coefficient*this.transformation(t)}},yee=class{constructor(t,r,n){this.link=Ect;if(this.intercept=t,this.coefficients=r,this.logitsToQuantiles=new Map,this.logitsToQuantiles.set(0,0),this.logitsToQuantiles.set(1,1),n)for(let i in n)this.logitsToQuantiles.set(n[i],Number(i))}static{o(this,"LogisticRegression")}predict(t,r){let n=this.intercept;for(let i of this.coefficients){let s=r[i.name];if(s===void 0)return NaN;n+=i.contribution(s)}return this.link.link(n)}quantile(t,r){let n=this.predict(t,r);return xct(n,this.logitsToQuantiles)}},Hbe=new yee(Obe,[new sI("compCharLen",Ube,e=>Math.log(1+e)),new sI("meanLogProb",qbe),new sI("meanAlternativeLogProb",Gbe)].concat(Object.entries(SQ).map(e=>new sI(e[0],e[1]))),Wbe);function Vbe(e,t){let r={...t.measurements};return Object.keys(SQ).forEach(n=>{r[n]=t.properties["customDimensions.languageId"]==n?1:0}),Hbe.predict(e,r)}o(Vbe,"ghostTextScoreConfidence");function jbe(e,t){let r={...t.measurements};return Object.keys(SQ).forEach(n=>{r[n]=t.properties["customDimensions.languageId"]==n?1:0}),Hbe.quantile(e,r)}o(jbe,"ghostTextScoreQuantile");d();d();var vct=[{max_token_sequence_length:1,last_tokens_to_consider:10},{max_token_sequence_length:10,last_tokens_to_consider:30},{max_token_sequence_length:20,last_tokens_to_consider:45},{max_token_sequence_length:30,last_tokens_to_consider:60}];function BQ(e){let t=e.slice();return t.reverse(),$be(t)||$be(t.filter(r=>r.trim().length>0))}o(BQ,"isRepetitive");function $be(e){let t=bct(e);for(let r of vct){if(e.length<r.last_tokens_to_consider)continue;if(r.last_tokens_to_consider-1-t[r.last_tokens_to_consider-1]<=r.max_token_sequence_length)return!0}return!1}o($be,"isRepeatedPattern");function bct(e){let t=Array(e.length).fill(0);t[0]=-1;let r=-1;for(let n=1;n<e.length;n++){for(;r>=0&&e[r+1]!==e[n];)r=t[r];e[r+1]===e[n]&&r++,t[n]=r}return t}o(bct,"kmp_prefix_function");function Ict(e,t,r,n){let i="}";try{i=ip.getBlockCloseToken(t.languageId)??"}"}catch{}return Tct({getLineText:o(s=>t.lineAt(s).text,"getLineText"),getLineCount:o(()=>t.lineCount,"getLineCount")},r,n,i)}o(Ict,"maybeSnipCompletion");function Tct(e,t,r,n){let i=wct(r),s=i.lines;if(s.length===1)return r;for(let a=1;a<s.length;a++){let l=!0,c=0,u=0;for(let f=0;f+a+u<s.length;f++){let m;for(;;){let E=t.line+1+f+c;if(m=E>=e.getLineCount()?void 0:e.getLineText(E),m!==void 0&&m.trim()==="")c++;else break}let h,p;for(;h=a+f+u,p=h>=s.length?void 0:s[h],p!==void 0&&p.trim()==="";)u++;let A=h===s.length-1;if(!p||!(m&&(A?m.startsWith(p)||p.startsWith(m):m===p&&p.trim()===n))){l=!1;break}}if(l)return s.slice(0,a).join(i.newLineCharacter)}return r}o(Tct,"maybeSnipCompletionImpl");function wct(e){let t=e.includes(`\r
`)?`\r
`:`
`;return{lines:e.split(t),newLineCharacter:t}}o(wct,"splitByNewLine");function _ct(e,t,r,n){let i="",s=t.line+1,a=n?r.trim():r;for(;i===""&&s<e.lineCount;){if(i=e.lineAt(s).text,n&&(i=i.trim()),i===a)return!0;s++}return!1}o(_ct,"matchesNextLine");async function kQ(e,t,r,n,i,s){if(BQ(n.tokens)){let l=rn.createAndMarkAsIssued();l.extendWithRequestId(n.requestId),Xt(e,"repetition.detected",l,1),s.info(e,"Filtered out repetitive solution");return}let a={...n};if(_ct(t,r,a.completionText,!i)){let l=rn.createAndMarkAsIssued();l.extendWithRequestId(n.requestId),Xt(e,"completion.alreadyInDocument",l),Xt(e,"completion.alreadyInDocument",l.extendedBy({completionTextJson:JSON.stringify(a.completionText)}),1),s.info(e,"Filtered out solution matching next line");return}return a.completionText=Ict(e,t,r,a.completionText),a.completionText?a:void 0}o(kQ,"postProcessChoiceInContext");function zbe(e,t,r){let i=e.lineAt(t.line).text.substring(t.character);if(i.length>0){if(r.completionText.indexOf(i)!==-1)return i.length;{let s=-1,a=0;for(let l of i){let c=r.completionText.indexOf(l,s+1);if(c>s)a++,s=c;else break}return a}}return 0}o(zbe,"checkSuffix");var Ybe=ft(T2());var eo=new Er("ghostText");async function Kbe(e,t,r,n,i,s,a){eo.debug(e,`Getting ${s} from network`),r=r.extendedBy();let l=await Dct(e,t,r),c=vb(e,l),u={stream:!0,n:l,temperature:c,extra:{language:t.languageId,next_indent:t.indentation.next??0,trim_by_indentation:Sye(t.blockMode),prompt_tokens:t.prompt.prefixTokens??0,suffix_tokens:t.prompt.suffixTokens??0}};t.multiline||(u.stop=[`
`]);let f=Date.now(),m={endpoint:"completions",uiKind:"ghostText",temperature:JSON.stringify(c),n:JSON.stringify(l),stop:JSON.stringify(u.stop)??"unset",logit_bias:JSON.stringify(u.logit_bias??null)};Object.assign(r.properties,m);try{let h={prompt:t.prompt,languageId:t.languageId,repoInfo:t.repoInfo,ourRequestId:t.ourRequestId,engineModelId:t.engineModelId,count:l,uiKind:"ghostText",postOptions:u,headers:t.headers},p=await e.get(Jf).fetchAndStreamCompletions(e,h,r,i,n);return p.type==="failed"?{type:"failed",reason:p.reason,telemetryData:ys(r)}:p.type==="canceled"?(eo.debug(e,"Cancelled after awaiting fetchCompletions"),{type:"canceled",reason:p.reason,telemetryData:Xf(r)}):a(l,f,p.getProcessingTime(),p.choices)}catch(h){if(ou(h))return{type:"canceled",reason:"network request aborted",telemetryData:Xf(r,{cancelledNetworkRequest:!0})};if(eo.exception(e,h,"Error on ghost text request"),e.get(xc).notifyUser(e,h),Rv(e))throw h;return{type:"failed",reason:"non-abort error on ghost text request",telemetryData:ys(r)}}}o(Kbe,"genericGetCompletionsFromNetwork");function Cee(e,t,r){if(r||(r=[]),e.completionText=e.completionText.trimEnd(),!!e.completionText&&r.findIndex(n=>n.completionText.trim()===e.completionText.trim())===-1)return t.requestForNextLine&&(e.completionText=`
`+e.completionText),e}o(Cee,"postProcessChoices");async function kct(e,t,r,n,i){return Kbe(e,t,r,n,i,"completions",async(s,a,l,c)=>{let f=await c[Symbol.asyncIterator]().next();if(f.done)return eo.debug(e,"All choices redacted"),{type:"empty",reason:"all choices redacted",telemetryData:ys(r)};if(n?.isCancellationRequested)return eo.debug(e,"Cancelled after awaiting redactedChoices iterator"),{type:"canceled",reason:"after awaiting redactedChoices iterator",telemetryData:Xf(r)};let m=f.value;if(m===void 0)return eo.debug(e,"Got undefined choice from redactedChoices iterator"),{type:"empty",reason:"got undefined choice from redactedChoices iterator",telemetryData:ys(r)};Xbe(e,"performance",m,a,l),eo.debug(e,`Awaited first result, id:  ${m.choiceIndex}`);let h=Cee(m,t);h&&(Eee(e,t,{multiline:t.multiline,choices:[h]}),eo.debug(e,`GhostText first completion (index ${h?.choiceIndex}): ${JSON.stringify(h?.completionText)}`));let p=(async()=>{let A=h!==void 0?[h]:[];for await(let E of c){if(E===void 0)continue;eo.debug(e,`GhostText later completion (index ${E?.choiceIndex}): ${JSON.stringify(E.completionText)}`);let x=Cee(E,t,A);x&&(A.push(x),Eee(e,t,{multiline:t.multiline,choices:[x]}))}})();return dm(e)&&await p,h?{type:"success",value:[xee(h,{forceSingleLine:!1}),p],telemetryData:ys(r),telemetryBlob:r,resultType:0}:{type:"empty",reason:"got undefined processedFirstChoice",telemetryData:ys(r)}})}o(kct,"getCompletionsFromNetwork");async function Rct(e,t,r,n,i){return Kbe(e,t,r,n,i,"all completions",async(s,a,l,c)=>{let u=[];for await(let f of c){if(n?.isCancellationRequested)return eo.debug(e,"Cancelled after awaiting choices iterator"),{type:"canceled",reason:"after awaiting choices iterator",telemetryData:Xf(r)};let m=Cee(f,t,u);m&&u.push(m)}return u.length>0&&(Eee(e,t,{multiline:t.multiline,choices:u}),Xbe(e,"cyclingPerformance",u[0],a,l)),{type:"success",value:[u,Promise.resolve()],telemetryData:ys(r),telemetryBlob:r,resultType:3}})}o(Rct,"getAllCompletionsFromNetwork");function xee(e,t){let r={...e};if(t.forceSingleLine){let{completionText:n}=r;n?.[0]===`
`?r.completionText=`
`+n.split(`
`)[1]:r.completionText=n.split(`
`)[0]}return r}o(xee,"makeGhostAPIChoice");async function Dct(e,t,r){let n=e.get(er).overrideNumGhostCompletions(r);return n?t.isCycling?Math.max(3,n):n:_ye(t.blockMode)&&t.multiline?3:t.isCycling?2:1}o(Dct,"getNumGhostCompletions");async function Pct(e,t,r,n,i,s,a,l,c){let u=await e.get(xm).forLanguage(e,t.languageId,c);switch(u){case"server":return{blockMode:"server",requestMultiline:!0,isCyclingRequest:i,finishedCb:o(async f=>{},"finishedCb")};case"parsing":case"parsingandserver":case"moremultiline":default:{let f=await Wct(e,u,t,r,s,a,l,n);if(f.requestMultiline){let m;return n.trailingWs.length>0&&!n.prompt.prefix.endsWith(n.trailingWs)?m=oo.position(r.line,Math.max(r.character-n.trailingWs.length,0)):m=r,{blockMode:u,requestMultiline:!0,isCyclingRequest:!1,finishedCb:Nct(e,u,t,m,f.blockPosition,l)}}return{blockMode:u,requestMultiline:!1,isCyclingRequest:i,finishedCb:o(async m=>{},"finishedCb")}}}}o(Pct,"getGhostTextStrategy");function Nct(e,t,r,n,i,s){if(t==="moremultiline"&&g5.isSupported(r.languageId)){let a=r.getText(oo.range(oo.position(0,0),n))+(s?`
`:"");if(ai(e,qt.TrimCompletionsAggressively)){let l=3;return(i==="empty-block"||i==="block-end")&&(l=7),async function(c){return await new wF(r.languageId,a,c,3,l).getCompletionTrimOffset()}}else return async function(l){return await new TF(r.languageId,a,l).getCompletionTrimOffset()}}return AT(e,r,n,s)}o(Nct,"multilineFinishedCallback");var Fct=new bF,Lct={isCycling:!1,promptOnly:!1,isSpeculative:!1};async function Qct(e,t,r,n,i,s,a){let l={...Lct,...a},c=e.get(sd),u=c.clientCompletionId,f=e.get(er);if(s?.isCancellationRequested)return{type:"abortedBeforeIssued",reason:"cancelled before extractPrompt",telemetryData:ys(i)};let m=Oct(t,r);if(m===void 0)return eo.debug(e,"Breaking, invalid middle of the line"),{type:"abortedBeforeIssued",reason:"Invalid middle of the line",telemetryData:ys(i)};let h=e.get(Tm).isEnabled(i)?e.get(Tm):void 0,p=s,A=new si.CancellationTokenSource;h&&(s=A.token);let E=await oI(e,t,r,i,s,l);return E.type==="copilotContentExclusion"?(eo.debug(e,"Copilot not available, due to content exclusion"),{type:"abortedBeforeIssued",reason:"Copilot not available due to content exclusion",telemetryData:ys(i)}):E.type==="contextTooShort"?(eo.debug(e,"Breaking, not enough context"),{type:"abortedBeforeIssued",reason:"Not enough context",telemetryData:ys(i)}):E.type==="promptError"?(eo.debug(e,"Error while building the prompt"),{type:"abortedBeforeIssued",reason:"Error while building the prompt",telemetryData:ys(i)}):l.promptOnly?{type:"promptOnly",reason:"Breaking, promptOnly set to true",prompt:E}:E.type==="promptCancelled"?(eo.debug(e,"Cancelled during extractPrompt"),{type:"abortedBeforeIssued",reason:"Cancelled during extractPrompt",telemetryData:ys(i)}):E.type==="promptTimeout"?(eo.debug(e,"Timeout during extractPrompt"),{type:"abortedBeforeIssued",reason:"Timeout",telemetryData:ys(i)}):E.prompt.prefix.length===0&&E.prompt.suffix.length===0?(eo.debug(e,"Error empty prompt"),{type:"abortedBeforeIssued",reason:"Empty prompt",telemetryData:ys(i)}):s?.isCancellationRequested?(eo.debug(e,"Cancelled after extractPrompt"),{type:"abortedBeforeIssued",reason:"Cancelled after extractPrompt",telemetryData:ys(i)}):e.get(Yi).withProgress(async()=>{let[b]=c4(t.getText(oo.range(oo.position(0,0),r))),v=f.triggerCompletionAfterAccept(i),S=e.get(sd).hasAcceptedCurrentCompletion(b,E.prompt.suffix),k=v?S:void 0,P=E.prompt;k&&(E.prompt={...E.prompt,prefix:E.prompt.prefix+`
`,prefixWithoutContext:E.prompt.prefixWithoutContext+`
`});let N=await Pct(e,t,r,E,l.isCycling,m,S,k??!1,i);if(s?.isCancellationRequested)return eo.debug(e,"Cancelled after requestMultiline"),{type:"abortedBeforeIssued",reason:"Cancelled after requestMultiline",telemetryData:ys(i)};let W=Mct(e,b,P,N.requestMultiline),re=e5(e,t.uri),ge=Z2(e,i),te={blockMode:N.blockMode,languageId:t.languageId,repoInfo:re,engineModelId:ge.modelId,ourRequestId:n,prefix:b,prompt:E.prompt,multiline:N.requestMultiline,indentation:yT(t,r),isCycling:l.isCycling,headers:ge.headers,requestForNextLine:k};te.headers={...te.headers,"X-Copilot-Async":h?"true":"false","X-Copilot-Speculative":l.isSpeculative?"true":"false"};let G=Kct(e,t,te,r,E,i,ge),q=ai(e,qt.EnableSpeculativeRequests),se=f.enableSpeculativeRequests(i),ne=(q||se)&&!l.isSpeculative&&!N.isCyclingRequest,H=Promise.resolve();if(h&&W===void 0&&!N.isCyclingRequest&&h.shouldWaitForAsyncCompletions(b,E.prompt)){let ae=await h.getFirstMatchingRequestWithTimeout(n,b,E.prompt,l.isSpeculative,G);if(ae){let ce=!N.requestMultiline;W=[[xee(ae[0],{forceSingleLine:ce})],4],H=ae[1]}if(p?.isCancellationRequested)return eo.debug(e,"Cancelled before requesting a new completion"),{type:"abortedBeforeIssued",reason:"Cancelled after waiting for async completion",telemetryData:ys(G)}}if(W!==void 0&&(!N.isCyclingRequest||W[0].length>1))eo.debug(e,`Found inline suggestions locally via ${fT(W[1])}`);else if(N.isCyclingRequest){let ae=await Rct(e,te,G,s,N.finishedCb);if(ae.type==="success"){let ce=W?.[0]??[];ae.value[0].forEach(Re=>{ce.findIndex(be=>be.completionText.trim()===Re.completionText.trim())===-1&&ce.push(Re)}),W=[ce,3]}else if(W===void 0)return ae}else{let ce=f.debounceThreshold(i)??(ge.modelId.startsWith("gpt-4o")||ge.modelId.startsWith("chat-")?0:75);if(!(h!==void 0||te.requestForNextLine===!0||ce===0)){try{await Fct.debounce(ce)}catch{return{type:"canceled",reason:"by debouncer",telemetryData:Xf(G)}}if(s?.isCancellationRequested)return eo.debug(e,"Cancelled during debounce"),{type:"canceled",reason:"during debounce",telemetryData:Xf(G)}}if(s?.isCancellationRequested)return eo.debug(e,"Cancelled before contextual filter"),{type:"canceled",reason:"before contextual filter",telemetryData:Xf(G)};if(!f.disableContextualFilter(i)&&G.measurements.contextualFilterScore<35/100)return eo.debug(e,"Cancelled by contextual filter"),{type:"canceled",reason:"contextualFilterScore below threshold",telemetryData:Xf(G)};let be=h?(Be,Je)=>(h.updateCompletion(n,Be),N.finishedCb(Be,Je)):N.finishedCb,Ue=kct(e,te,G,s,be);if(h){h.queueCompletionRequest(n,b,E.prompt,A,Ue);let Be=await h.getFirstMatchingRequest(n,b,E.prompt,l.isSpeculative);if(Be===void 0)return{type:"empty",reason:"received no results from async completions",telemetryData:ys(G)};W=[[Be[0]],4],H=Be[1]}else{let Be=await Ue;if(Be.type!=="success")return Be;W=[[Be.value[0]],0],H=Be.value[1]}}if(W===void 0)return{type:"failed",reason:"internal error: choices should be defined after network call",telemetryData:ys(G)};let[O,j]=W,J=GC(DCe(O),async ae=>kQ(e,t,r,ae,N.blockMode==="moremultiline"&&g5.isSupported(t.languageId),eo)),le=[],Z=[];for await(let ae of J){if(le.push(ae),p?.isCancellationRequested)return eo.debug(e,"Cancelled after post processing completions"),{type:"canceled",reason:"after post processing completions",telemetryData:Xf(G)};let ce=Yct(e,t,te,ae,G),Re=m?zbe(t,r,ae):0,Ue={completion:Vct(ae.choiceIndex,ae.completionText,E.trailingWs),telemetry:ce,isMiddleOfTheLine:m,suffixCoverage:Re,copilotAnnotations:ae.copilotAnnotations};Z.push(Ue)}if(G.properties.clientCompletionId=Z?.[0]?.telemetry?.properties.clientCompletionId,G.measurements.foundOffset=Z?.[0]?.telemetry?.measurements?.foundOffset??-1,eo.debug(e,`Produced ${Z.length} results from ${fT(j)} at ${G.measurements.foundOffset} offset`),ne&&Z.length>0){let ae=LF(t,r,[{newText:Z[0].completion.completionText,range:{start:r,end:r}}]),ce=new si.CancellationTokenSource().token;H.then(()=>{vee(e,ae.textDocument,ae.position,ce,{positionBeforeApplyingEdits:l.positionBeforeApplyingEdits,isSpeculative:!0,opportunityId:l.opportunityId})})}if(u!==c.clientCompletionId){let ae=c.getCompletionsForUserTyping(b,E.prompt.suffix);if(ae&&ae.length>0)return eo.debug(e,"Current completion changed before returning"),{type:"canceled",reason:"current completion changed before returning",telemetryData:Xf(G)}}return l.isSpeculative||c.setGhostText(b,E.prompt.suffix,le,j),{type:"success",value:[Z,j],telemetryData:ys(G),telemetryBlob:G,resultType:j}})}o(Qct,"getGhostTextWithoutAbortHandling");async function vee(e,t,r,n,i){let s=Tr(),a=await zct(e,t,s,i);try{return await Qct(e,t,r,s,a,n,i)}catch(l){if(ou(l))return{type:"canceled",reason:"aborted at unknown location",telemetryData:Xf(a,{cancelledNetworkRequest:!0})};throw l}}o(vee,"getGhostText");function Mct(e,t,r,n){let i=e.get(sd).getCompletionsForUserTyping(t,r.suffix),s=$ct(e,t,r,n);if(i&&i.length>0){let a=(s??[]).filter(l=>!i.some(c=>c.completionText===l.completionText));return[i.concat(a),2]}if(s&&s.length>0)return[s,1]}o(Mct,"getLocalInlineSuggestion");function Oct(e,t){let r=Uct(t,e),n=qct(t,e);return r&&!n?void 0:r&&n}o(Oct,"isInlineSuggestion");function Uct(e,t){return t.lineAt(e).text.substr(e.character).trim().length!=0}o(Uct,"isMiddleOfTheLine");function qct(e,t){let n=t.lineAt(e).text.substr(e.character).trim();return/^\s*[)>}\]"'`]*\s*[:{;,]?\s*$/.test(n)}o(qct,"isValidMiddleOfTheLinePosition");function Gct(e,t){return t.lineAt(e).text.trim().length===0}o(Gct,"isNewLine");var x1=class e{constructor(t=!1){this.requestMultilineOverride=t}static{o(this,"ForceMultiLine")}static{this.default=new e}};async function Wct(e,t,r,n,i,s,a,l){if(e.get(x1).requestMultilineOverride)return{requestMultiline:!0};if(r.lineCount>=8e3)Xt(e,"ghostText.longFileMultilineSkip",rn.createAndMarkAsIssued({languageId:r.languageId,lineCount:String(r.lineCount),currentLine:String(n.line)}));else{if(t=="moremultiline"&&g5.isSupported(r.languageId)){let f=await GCe(r,n);return s||f==="empty-block"?{requestMultiline:!0,blockPosition:f}:{requestMultiline:!1,blockPosition:f}}if(a){let f=yT(r,n),m=f.current>0?r.lineAt(n).text[0]:void 0,h={range:{start:n,end:n},newText:`
`+(m?m.repeat(f.current):"")};r=r.applyEdits([h])}if(["typescript","typescriptreact"].includes(r.languageId)&&Gct(n,r))return{requestMultiline:!0};let u=!1;return!i&&Iu(r.languageId)?u=await MF(r,n):i&&Iu(r.languageId)&&(u=await MF(r,n)||await MF(r,r.lineAt(n).range.end)),u||["javascript","javascriptreact","python"].includes(r.languageId)&&(u=jCe(l.prompt,r.languageId)>.5),{requestMultiline:u}}return{requestMultiline:!1}}o(Wct,"shouldRequestMultiline");function Eee(e,t,r){let n={...t.prompt};t.requestForNextLine&&(n.prefix=n.prefix.slice(0,-1));let i=rj(n),s=e.get(Ru).get(i);s&&s.multiline===r.multiline?e.get(Ru).set(i,{multiline:s.multiline,choices:s.choices.concat(r.choices)}):e.get(Ru).set(i,r),eo.debug(e,`Appended ${r.choices.length} cached ghost text for key: ${i}, multiline: ${r.multiline}, total number of suggestions: ${(s?.choices.length??0)+r.choices.length}`)}o(Eee,"appendToCache");function Hct(e,t,r){let n=e.get(Ru).get(t);if(n&&!(r&&!n.multiline))return n.choices}o(Hct,"getCachedChoices");function Vct(e,t,r){if(r.length>0){if(t.startsWith(r))return{completionIndex:e,completionText:t,displayText:t.substring(r.length),displayNeedsWsOffset:!1};{let n=t.substring(0,t.length-t.trimStart().length);return r.startsWith(n)?{completionIndex:e,completionText:t,displayText:t.trimStart(),displayNeedsWsOffset:!0}:{completionIndex:e,completionText:t,displayText:t,displayNeedsWsOffset:!1}}}else return{completionIndex:e,completionText:t,displayText:t,displayNeedsWsOffset:!1}}o(Vct,"adjustLeadingWhitespace");var jct=50;function $ct(e,t,r,n){for(let i=0;i<jct;i++){let s=[],a=r.prefix.substring(0,r.prefix.length-i),l=rj({prefix:a,suffix:r.suffix}),c=Hct(e,l,n);if(!c)continue;eo.debug(e,`Got completions from cache at ${i} characters back for key: ${l}, multiline: ${n}`);let u=r.prefix.substring(a.length);for(let f of c){let m=f.completionText;if(!m.startsWith(u)||m.length<=u.length)continue;m=m.substring(u.length);let h=xee({...f,completionText:m},{forceSingleLine:!n});h.telemetryData.measurements.foundOffset=i,h.completionText!==""&&s.push(h)}if(eo.debug(e,`Found ${s.length} matching completions from cache at ${i} characters back`),s.length>0)return s}return[]}o($ct,"getCompletionsFromCache");async function zct(e,t,r,n){let i={headerRequestId:r};n?.opportunityId&&(i.opportunityId=n.opportunityId),n?.selectedCompletionInfo?.text&&(i.completionsActive="true"),n?.isSpeculative&&(i.reason="speculative");let s=rn.createAndMarkAsIssued(i);return await e.get(er).updateExPValuesAndAssignments({uri:t.uri,languageId:t.detectedLanguageId},s)}o(zct,"createTelemetryWithExp");function Yct(e,t,r,n,i){let s=n.requestId,a={choiceIndex:n.choiceIndex.toString(),clientCompletionId:n.clientCompletionId},l=n.completionText.split(`
`).length,c={compCharLen:n.completionText.length,numLines:r.requestForNextLine?l-1:l};n.meanLogProb&&(c.meanLogProb=n.meanLogProb),n.meanAlternativeLogProb&&(c.meanAlternativeLogProb=n.meanAlternativeLogProb);let u=n.telemetryData.extendedBy(a,c);return u.issuedTime=i.issuedTime,u.measurements.timeToProduceMs=performance.now()-i.issuedTime,Jbe(u,t),u.extendWithRequestId(s),u.measurements.confidence=Vbe(e,u),u.measurements.quantile=jbe(e,u),eo.debug(e,`Extended telemetry for ${n.telemetryData.properties.headerRequestId} with retention confidence ${u.measurements.confidence} (expected as good or better than about ${u.measurements.quantile} of all suggestions)`),u}o(Yct,"telemetryWithAddData");function Kct(e,t,r,n,i,s,a){let l={languageId:t.languageId};r.requestForNextLine!==void 0&&(l.requestForNextLine=r.requestForNextLine.toString());let c=s.extendedBy(l);Jbe(c,t);let u=r.repoInfo;c.properties.gitRepoInformation=u===void 0?"unavailable":u===0?"pending":"available",u!==void 0&&u!==0&&(c.properties.gitRepoUrl=u.url,c.properties.gitRepoHost=u.hostname,c.properties.gitRepoOwner=u.owner,c.properties.gitRepoName=u.repo,c.properties.gitRepoPath=u.pathname),c.properties.engineName=a.modelId,c.properties.engineChoiceSource=a.engineChoiceSource,c.properties.isMultiline=JSON.stringify(r.multiline),c.properties.isCycling=JSON.stringify(r.isCycling);let f=t.lineAt(n.line),m=t.getText(oo.range(f.range.start,n)),h=t.getText(oo.range(n,f.range.end)),p=Array.from(i.neighborSource.entries()).map(b=>[b[0],b[1].map(v=>(0,Ybe.SHA256)(v).toString())]),A={beforeCursorWhitespace:JSON.stringify(m.trim()===""),afterCursorWhitespace:JSON.stringify(h.trim()===""),promptChoices:JSON.stringify(i.promptChoices,(b,v)=>v instanceof Map?Array.from(v.entries()).reduce((S,[k,P])=>({...S,[k]:P}),{}):v),promptBackground:JSON.stringify(i.promptBackground,(b,v)=>v instanceof Map?Array.from(v.values()):v),neighborSource:JSON.stringify(p),blockMode:r.blockMode},E={...Wv(i.prompt),promptEndPos:t.offsetAt(n),promptComputeTimeMs:i.computeTimeMs};i.metadata&&(A.promptMetadata=JSON.stringify(i.metadata)),i.contextProvidersTelemetry&&(A.contextProviders=JSON.stringify(i.contextProvidersTelemetry));let x=c.extendedBy(A,E);return x.measurements.contextualFilterScore=qCe(e,x,i.prompt),Xt(e,"ghostText.issued",x),c}o(Kct,"telemetryIssued");function Jbe(e,t){e.measurements.documentLength=t.getText().length,e.measurements.documentLineCount=t.lineCount}o(Jbe,"addDocumentTelemetry");function Xbe(e,t,r,n,i){let s=Date.now()-n,a=s-i,l=r.telemetryData.extendedBy({},{completionCharLen:r.completionText.length,requestTimeMs:s,processingTimeMs:i,deltaMs:a,meanLogProb:r.meanLogProb||NaN,meanAlternativeLogProb:r.meanAlternativeLogProb||NaN});l.extendWithRequestId(r.requestId),Xt(e,`ghostText.${t}`,l)}o(Xbe,"telemetryPerformance");var sd=class{constructor(){this.choices=[]}static{o(this,"CurrentGhostText")}get clientCompletionId(){return this.choices[0]?.clientCompletionId}setGhostText(t,r,n,i){i!==2&&(this.prefix=t,this.suffix=r,this.choices=n)}getCompletionsForUserTyping(t,r){let n=this.getRemainingPrefix(t,r);if(n!==void 0&&Zbe(this.choices[0].completionText,n))return Jct(this.choices,n)}hasAcceptedCurrentCompletion(t,r){let n=this.getRemainingPrefix(t,r);return n===void 0?!1:n===this.choices?.[0].completionText}getRemainingPrefix(t,r){if(!(this.prefix===void 0||this.suffix===void 0||this.choices.length===0)&&this.suffix===r&&t.startsWith(this.prefix))return t.substring(this.prefix.length)}};function Jct(e,t){return e.filter(r=>Zbe(r.completionText,t)).map(r=>({...r,completionText:r.completionText.substring(t.length)}))}o(Jct,"adjustChoicesStart");function Zbe(e,t){return e.startsWith(t)&&e.length>t.length}o(Zbe,"startsWithAndExceeds");d();d();d();var u4=class{constructor(t,r,n){this._referenceCount=0;this._isDisposed=!1;this._offset=n;let i=t.get(Wr);this._tracker=i.onDidChangeTextDocument(async s=>{if(s.document.uri===r){for(let a of s.contentChanges)if(a.rangeOffset+a.rangeLength<=this.offset){let l=a.text.length-a.rangeLength;this._offset=this._offset+l}}})}static{o(this,"ChangeTracker")}get offset(){return this._offset}push(t,r){if(this._isDisposed)throw new Error("Unable to push new actions to a disposed ChangeTracker");this._referenceCount++,setTimeout(()=>{t(),this._referenceCount--,this._referenceCount===0&&(this._tracker.dispose(),this._isDisposed=!0)},r)}};d();function bee(e,t,r=(n,i)=>n===i?0:1){if(t.length===0||e.length===0)return{distance:t.length,startOffset:0,endOffset:0};let n=new Array(t.length+1).fill(0),i=new Array(t.length+1).fill(0),s=new Array(e.length+1).fill(0),a=new Array(e.length+1).fill(0),l=t[0];for(let u=0;u<e.length+1;u++)u===0?n[u]=1:n[u]=r(e[u-1],l,u-1,0),i[u]=u>0?u-1:0;for(let u=1;u<t.length;u++){let f=s;s=n,n=f,f=a,a=i,i=f,l=t[u],n[0]=u+1;for(let m=1;m<e.length+1;m++){let h=1+s[m],p=1+n[m-1],A=r(e[m-1],l,m-1,u)+s[m-1];n[m]=Math.min(p,h,A),n[m]===A?i[m]=a[m-1]:n[m]===h?i[m]=a[m]:i[m]=i[m-1]}}let c=0;for(let u=0;u<e.length+1;u++)n[u]<n[c]&&(c=u);return{distance:n[c],startOffset:i[c],endOffset:c}}o(bee,"editDistance");function Xct(){return new Map}o(Xct,"emptyLexDictionary");function Zct(e){let t=new Array(e.size);for(let[r,n]of e)t[n]=r;return t}o(Zct,"reverseLexDictionary");function*eut(e){let t="",r;(l=>(l[l.Word=0]="Word",l[l.Space=1]="Space",l[l.Other=2]="Other"))(r||={});let n=0;for(let i of e){let s;new RegExp("(\\p{L}|\\p{Nd}|_)","u").test(i)?s=0:i===" "?s=1:s=2,s===n&&s!==2?t+=i:(t.length>0&&(yield t),t=i,n=s)}t.length>0&&(yield t)}o(eut,"lexGeneratorWords");function eIe(e,t,r,n){let i=[],s=0;for(let a of r(e))n(a)&&(t.has(a)||t.set(a,t.size),i.push([t.get(a),s])),s+=a.length;return[i,t]}o(eIe,"lexicalAnalyzer");function tIe(e){return e!==" "}o(tIe,"notSingleSpace");function rIe(e,t,r=eut){let[n,i]=eIe(e,Xct(),r,tIe),[s,a]=eIe(t,i,r,tIe);if(s.length===0||n.length===0)return{lexDistance:s.length,startOffset:0,endOffset:0,haystackLexLength:n.length,needleLexLength:s.length};let l=Zct(a),c=s.length,u=l[s[0][0]],f=l[s[c-1][0]];function m(E,x,b,v){if(v===0||v===c-1){let S=l[n[b][0]];return v==0&&S.endsWith(u)||v==c-1&&S.startsWith(f)?0:1}else return E===x?0:1}o(m,"compare");let h=bee(n.map(E=>E[0]),s.map(E=>E[0]),m),p=n[h.startOffset][1],A=h.endOffset<n.length?n[h.endOffset][1]:e.length;return A>0&&e[A-1]===" "&&--A,{lexDistance:h.distance,startOffset:p,endOffset:A,haystackLexLength:n.length,needleLexLength:s.length}}o(rIe,"lexEditDistance");d();function nIe(e,t){return e.compType==="partial"?e.acceptedLength:t.length}o(nIe,"computeCompCharLen");function iIe(e,t){return t.compType==="partial"?e.substring(0,t.acceptedLength):e}o(iIe,"computeCompletionText");function oIe(e,t,r){return e.displayText!==e.insertText&&e.insertText.trim()===e.displayText||r===3?t:t-e.range.end.character+e.range.start.character}o(oIe,"computePartialLength");var L5=new Er("postInsertion"),sIe=[{seconds:15,captureCode:!1,captureRejection:!1},{seconds:30,captureCode:!0,captureRejection:!0},{seconds:120,captureCode:!1,captureRejection:!1},{seconds:300,captureCode:!1,captureRejection:!1},{seconds:600,captureCode:!1,captureRejection:!1}],aIe=50,tut=1500,rut=.5,nut=500,Iee={triggerPostInsertionSynchroneously:!1,captureCode:!1,captureRejection:!1};async function lIe(e,t,r,n,i){let s=await e.get(Wr).getTextDocument({uri:t});if(!s)return L5.info(e,`Could not get document for ${t}. Maybe it was closed by the editor.`),{prompt:{prefix:"",suffix:"",isFimEnabled:!1,promptElementRanges:[]},capturedCode:"",terminationOffset:0};let a=s.getText(),l=a.substring(0,n),c=s.positionAt(n),u=await oI(e,s,c,r),f=u.type==="prompt"?u.prompt:{prefix:l,suffix:"",isFimEnabled:!1,promptElementRanges:[]};if(f.isFimEnabled&&i!==void 0){let m=a.substring(n,i);return f.suffix=a.substring(i),{prompt:f,capturedCode:m,terminationOffset:0}}else{let m=a.substring(n),h=hX(l,n,s.languageId),A=await iEe(h,void 0)(m),E=Math.min(a.length,n+(A?A*2:nut)),x=a.substring(n,E);return{prompt:f,capturedCode:x,terminationOffset:A??-1}}}o(lIe,"captureCode");function RQ(e,t,r,n,i){i.forEach(({completionText:c,completionTelemetryData:u})=>{L5.debug(e,`${t}.rejected choiceIndex: ${u.properties.choiceIndex}`),zCe(e,t,u)});let s=new u4(e,n,r-1),a=new u4(e,n,r),l=o(async c=>{L5.debug(e,`Original offset: ${r}, Tracked offset: ${s.offset}`);let{completionTelemetryData:u}=i[0],{prompt:f,capturedCode:m,terminationOffset:h}=await lIe(e,n,u,s.offset+1,a.offset),p;f.isFimEnabled?p={hypotheticalPromptPrefixJson:JSON.stringify(f.prefix),hypotheticalPromptSuffixJson:JSON.stringify(f.suffix)}:p={hypotheticalPromptJson:JSON.stringify(f.prefix)};let A=u.extendedBy({...p,capturedCodeJson:JSON.stringify(m)},{timeout:c.seconds,insertionOffset:r,trackedOffset:s.offset,terminationOffsetInCapturedCode:h});L5.debug(e,`${t}.capturedAfterRejected choiceIndex: ${u.properties.choiceIndex}`,A),Xt(e,t+".capturedAfterRejected",A,1)},"checkInCode");sIe.filter(c=>c.captureRejection).map(c=>s.push(pu(e,()=>l(c),"postRejectionTasks"),c.seconds*1e3))}o(RQ,"postRejectionTasks");function f4(e,t,r,n,i,s,a,l){let c=s.extendedBy({compType:a.compType},{compCharLen:nIe(a,r)});L5.debug(e,`${t}.accepted choiceIndex: ${c.properties.choiceIndex}`),$Ce(e,t,c);let u=r;r=iIe(r,a);let f=r.trim(),m=new u4(e,i,n),h=new u4(e,i,n+r.length),p=o(async A=>{await lut(e,t,f,n,i,A,c,m,h)},"stillInCodeCheck");if(Iee.triggerPostInsertionSynchroneously&&dm(e)){let A=p({seconds:0,captureCode:Iee.captureCode,captureRejection:Iee.captureRejection});e.get(yo).register(A)}else sIe.map(A=>m.push(pu(e,()=>p(A),"postInsertionTasks"),A.seconds*1e3));pu(e,iut,"post insertion citation check")(e,i,u,r,n,l)}o(f4,"postInsertionTasks");async function iut(e,t,r,n,i,s){if(!s||(s.ip_code_citations?.length??0)<1)return;let a=await e.get(Wr).getTextDocument({uri:t});if(a){let l=Tee(a.getText(),n,aIe,i);l.stillInCodeHeuristic&&(i=l.foundOffset)}for(let l of s.ip_code_citations){let c=sut(r.length,n.length,l.start_offset);if(c===void 0){L5.info(e,`Full completion for ${t} contains a reference matching public code, but the partially inserted text did not include the match.`);continue}let u=i+c,f=a?.positionAt(u),m=i+aut(r.length,n.length,l.stop_offset),h=a?.positionAt(m),p=f&&h?a?.getText({start:f,end:h}):"<unknown>";await e.get(Bu).handleIPCodeCitation(e,{inDocumentUri:t,offsetStart:u,offsetEnd:m,version:a?.version,location:f&&h?{start:f,end:h}:void 0,matchingText:p,details:l.details.citations})}}o(iut,"citationCheck");function sut(e,t,r){if(!(t<e&&r>t))return r}o(sut,"computeCitationStart");function aut(e,t,r){return t<e?Math.min(r,t):r}o(aut,"computeCitationEnd");function Tee(e,t,r,n){let i=e.substring(Math.max(0,n-r),Math.min(e.length,n+t.length+r)),s=rIe(i,t),a=s.lexDistance/s.needleLexLength,{distance:l}=bee(i.substring(s.startOffset,s.endOffset),t);return{relativeLexEditDistance:a,charEditDistance:l,completionLexLength:s.needleLexLength,foundOffset:s.startOffset+Math.max(0,n-r),lexEditDistance:s.lexDistance,stillInCodeHeuristic:a<=rut?1:0}}o(Tee,"find");async function lut(e,t,r,n,i,s,a,l,c){let u=await e.get(Wr).getTextDocument({uri:i});if(u){let f=u.getText(),m=Tee(f,r,aIe,l.offset);m.stillInCodeHeuristic||(m=Tee(f,r,tut,l.offset)),L5.debug(e,`stillInCode: ${m.stillInCodeHeuristic?"Found":"Not found"}! Completion '${r}' in file ${i}. lexEditDistance fraction was ${m.relativeLexEditDistance}. Char edit distance was ${m.charEditDistance}. Inserted at ${n}, tracked at ${l.offset}, found at ${m.foundOffset}. choiceIndex: ${a.properties.choiceIndex}`);let h=a.extendedBy({},{timeout:s.seconds,insertionOffset:n,trackedOffset:l.offset}).extendedBy({},m);if(Xt(e,t+".stillInCode",h),s.captureCode){let{prompt:p,capturedCode:A,terminationOffset:E}=await lIe(e,i,h,l.offset,c.offset),x;p.isFimEnabled?x={hypotheticalPromptPrefixJson:JSON.stringify(p.prefix),hypotheticalPromptSuffixJson:JSON.stringify(p.suffix)}:x={hypotheticalPromptJson:JSON.stringify(p.prefix)};let b=a.extendedBy({...x,capturedCodeJson:JSON.stringify(A)},{timeout:s.seconds,insertionOffset:n,trackedOffset:l.offset,terminationOffsetInCapturedCode:E});L5.debug(e,`${t}.capturedAfterAccepted choiceIndex: ${a.properties.choiceIndex}`,h),Xt(e,t+".capturedAfterAccepted",b,1)}}}o(lut,"checkStillInCode");var wee=new Er("ghostText"),q0=class{static{o(this,"LastGhostText")}#e;#t;#i=[];get position(){return this.#e}get shownCompletions(){return this.#i||[]}get uri(){return this.#t}resetState(){this.#t=void 0,this.#e=void 0,this.#i=[]}setState({uri:t},r){this.#t=t,this.#e=r,this.#i=[]}resetPartialAcceptanceState(){this.partiallyAcceptedLength=0}};function cut(e){let t=[];return e.shownCompletions.forEach(r=>{if(r.displayText&&r.telemetry){let n,i;e.partiallyAcceptedLength?(n=r.displayText.substring(e.partiallyAcceptedLength-1),i=r.telemetry.extendedBy({compType:"partial"},{compCharLen:n.length})):(n=r.displayText,i=r.telemetry);let s={completionText:n,completionTelemetryData:i,offset:r.offset};t.push(s)}}),t}o(cut,"computeRejectedCompletions");function _ee(e,t){let r=e.get(q0);if(!r.position||!r.uri)return;let n=cut(r);n.length>0&&RQ(e,"ghostText",t??n[0].offset,r.uri,n),r.resetState(),r.resetPartialAcceptanceState()}o(_ee,"rejectLastShown");function cIe(e,t,r,n){let i=e.get(q0);return i.position&&i.uri&&!(i.position.line===r.line&&i.position.character===r.character&&i.uri.toString()===t.uri.toString())&&n!==2&&_ee(e,t.offsetAt(i.position)),i.setState(t,r),i.index}o(cIe,"setLastShown");function uIe(e,t){let r=e.get(q0);if(r.index=t.index,!r.shownCompletions.find(n=>n.index===t.index)&&(t.uri===r.uri&&r.position?.line===t.position.line&&r.position?.character==t.position.character&&r.shownCompletions.push(t),t.displayText)){let n=t.resultType!==0;wee.debug(e,`[${t.telemetry.properties.headerRequestId}] shown choiceIndex: ${t.telemetry.properties.choiceIndex}, fromCache ${n}`),t.telemetry.measurements.compCharLen=t.displayText.length,BF(e,"ghostText",t)}}o(uIe,"handleGhostTextShown");function DQ(e,t){let r=e.get(q0);r.resetState(),wee.debug(e,"Ghost text post insert");let n=r.partiallyAcceptedLength?{compType:"partial",acceptedLength:t.displayText.length}:{compType:"full"};return r.resetPartialAcceptanceState(),f4(e,"ghostText",t.displayText,t.offset,t.uri,t.telemetry,n,t.copilotAnnotations)}o(DQ,"handleGhostTextPostInsert");function fIe(e,t,r,n=0){let i=e.get(q0);r===t.insertText.length&&i.resetState(),wee.debug(e,"Ghost text partial post insert");let s=oIe(t,r,n);if(s)return i.partiallyAcceptedLength=r,f4(e,"ghostText",t.displayText,t.offset,t.uri,t.telemetry,{compType:"partial",acceptedLength:s},t.copilotAnnotations)}o(fIe,"handlePartialGhostTextPostInsert");d();d();var dIe=ft(require("node:util"));function mIe(e,...t){return`[${e}] ${uut(t)}`}o(mIe,"formatLogMessage");function uut(e){return dIe.default.formatWithOptions({maxStringLength:1/0},...e)}o(uut,"format");function PQ(e){return AAe(e)}o(PQ,"verboseLogging");var NQ=class extends va{constructor(r){super();this.console=r}static{o(this,"ConsoleLog")}logIt(r,n,i,...s){n==1?this.console.error(`[${i}]`,...s):(n==2||PQ(r))&&this.console.warn(`[${i}]`,...s)}};d();var aI=class extends Yh{static{o(this,"TelemetryLogSenderImpl")}sendError(t,r,...n){fC(t,"log",rn.createAndMarkAsIssued({context:r,level:cC[1],message:fut(...n)}),1)}sendException(t,r,n){Fo(t,r,n)}};function fut(...e){return e.length>0?JSON.stringify(e):"no msg"}o(fut,"telemetryMessage");d();var Ske=ft(require("crypto")),Bke=ft(require("fs")),kke=ft(wke()),Rke=require("tls"),Dke=ft(_ke());var g8=new Er("certificates"),Na=class{static{o(this,"RootCertificateReader")}};function fU(e,t=process.platform){return new Xie(e,[new Zie,new eoe,dvt(e,t)])}o(fU,"getRootCertificateReader");function dvt(e,t){switch(t){case"linux":return new toe(e);case"darwin":return new roe(e);case"win32":return new noe(e);default:return new ioe}}o(dvt,"createPlatformReader");var Jie=class extends Na{constructor(r,n){super();this.ctx=r;this.delegate=n}static{o(this,"ErrorHandlingCertificateReader")}async getAllRootCAs(){try{return await this.delegate.getAllRootCAs()}catch(r){return g8.warn(this.ctx,"Failed to read root certificates:",r),[]}}},Xie=class extends Na{constructor(r,n){super();this.ctx=r;this.delegates=n.map(i=>new Jie(r,i))}static{o(this,"CachingRootCertificateReader")}async getAllRootCAs(){return this.certificates||(this.certificates=this.removeExpiredCertificates((await Promise.all(this.delegates.map(r=>r.getAllRootCAs()))).flat())),this.certificates}removeExpiredCertificates(r){let n=Date.now(),i=r.filter(s=>{try{let a=new Ske.X509Certificate(s),l=Date.parse(a.validTo);return isNaN(l)||l>n}catch(a){return g8.warn(this.ctx,"Failed to parse certificate",s,a),!1}});return r.length!==i.length&&g8.info(this.ctx,`Removed ${r.length-i.length} expired certificates`),i}},Zie=class extends Na{static{o(this,"NodeTlsRootCertificateReader")}async getAllRootCAs(){return Rke.rootCertificates}},eoe=class extends Na{static{o(this,"EnvironmentVariableRootCertificateReader")}async getAllRootCAs(){let t=process.env.NODE_EXTRA_CA_CERTS;return t?await Pke(t):[]}},toe=class extends Na{constructor(r){super();this.ctx=r}static{o(this,"LinuxRootCertificateReader")}async getAllRootCAs(){let r=[];for(let n of["/etc/ssl/certs/ca-certificates.crt","/etc/ssl/certs/ca-bundle.crt"]){let i=await Pke(n);g8.debug(this.ctx,`Read ${i.length} certificates from ${n}`),r=r.concat(i)}return r}},roe=class extends Na{constructor(r){super();this.ctx=r}static{o(this,"MacRootCertificateReader")}async getAllRootCAs(){let r=kke.get();return g8.debug(this.ctx,`Read ${r.length} certificates from Mac keychain`),r}},noe=class extends Na{constructor(r){super();this.ctx=r}static{o(this,"WindowsRootCertificateReader")}async getAllRootCAs(){let r=Dke.all();return g8.debug(this.ctx,`Read ${r.length} certificates from Windows store`),r}},ioe=class extends Na{static{o(this,"UnsupportedPlatformRootCertificateReader")}async getAllRootCAs(){throw new Error("No certificate reader available for unsupported platform")}};async function Pke(e){try{let n=(await Bke.promises.readFile(e,{encoding:"utf8"})).split(/(?=-----BEGIN CERTIFICATE-----)/g).filter(s=>s.length>0),i=new Set(n);return Array.from(i)}catch(t){if(t instanceof Error&&"code"in t&&t.code==="ENOENT")return[];throw t}}o(Pke,"readCertsFromFile");d();var Yke=ft(require("http"));var Uvt=407,zl=new Er("proxySocketFactory"),Op=class{static{o(this,"ProxySocketFactory")}},H4=class extends Error{static{o(this,"ProxySocketError")}constructor(t,r,n){super(t),this.code=r?.code,this.syscall=r?.syscall,this.errno=r?.errno,/^Failed to establish a socket connection to proxies:/.test(r?.message??"")?this.code="ProxyFailedToEstablishSocketConnection":/^InitializeSecurityContext:/.test(r?.message??"")?this.code="ProxyInitializeSecurityContext":r?.message==="Miscellaneous failure (see text): Server not found in Kerberos database"?this.code="ProxyKerberosServerNotFound":/^Unspecified GSS failure. {2}Minor code may provide more information: No Kerberos credentials available/.test(r?.message??"")&&(this.code="ProxyGSSFailureNoKerberosCredentialsAvailable"),n!==void 0&&(this.code=n)}};function mU(e){return new loe(e,new coe(e))}o(mU,"getProxySocketFactory");var loe=class extends Op{constructor(r,n,i=new d_,s=process.platform){super();this.ctx=r;this.delegate=n;this.kerberosLoader=i;this.platform=s;this.successfullyAuthorized=new kn(20)}static{o(this,"KerberosProxySocketFactory")}async createSocket(r,n){this.successfullyAuthorized.get(this.getProxyCacheKey(n))&&(zl.debug(this.ctx,"Proxy authorization already successful once, skipping 407 rountrip"),await this.reauthorize(r,n));try{return await this.delegate.createSocket(r,n)}catch(i){if(i instanceof H4&&i.code===`ProxyStatusCode${Uvt}`){zl.debug(this.ctx,"Proxy authorization required, trying to authorize first time");let s=await this.authorizeAndCreateSocket(r,n);if(s)return zl.debug(this.ctx,"Proxy authorization successful, caching result"),Xt(this.ctx,"proxy.kerberosAuthorized"),this.successfullyAuthorized.set(this.getProxyCacheKey(n),!0),s}throw i}}async reauthorize(r,n){let i=await this.authorize(n);i&&(zl.debug(this.ctx,"Proxy re-authorization successful, received token"),r.headers["Proxy-Authorization"]="Negotiate "+i)}async authorizeAndCreateSocket(r,n){let i=await this.authorize(n);if(zl.debug(this.ctx,"Proxy authorization successful, received token"),i)return zl.debug(this.ctx,"Trying to create socket with proxy authorization"),r.headers["Proxy-Authorization"]="Negotiate "+i,await this.delegate.createSocket(r,n)}async authorize(r){zl.debug(this.ctx,"Loading kerberos module");let n=this.kerberosLoader.load(),i=this.computeSpn(r);zl.debug(this.ctx,"Initializing kerberos client using spn",i);let s=await n.initializeClient(i);zl.debug(this.ctx,"Perform client side kerberos step");let a=await s.step("");return zl.debug(this.ctx,"Received kerberos server response"),a}computeSpn(r){let n=r.kerberosServicePrincipal;if(n)return zl.debug(this.ctx,"Using configured kerberos spn",n),n;let i=this.platform==="win32"?`HTTP/${r.host}`:`HTTP@${r.host}`;return zl.debug(this.ctx,"Using default kerberos spn",i),i}getProxyCacheKey(r){return r.host+":"+r.port}},coe=class extends Op{constructor(r){super();this.ctx=r}static{o(this,"TunnelingProxySocketFactory")}async createSocket(r,n){let i=this.createConnectRequestOptions(r,n);return new Promise((s,a)=>{zl.debug(this.ctx,"Attempting to establish connection to proxy");let l=Yke.request(i);l.useChunkedEncodingByDefault=!1,l.once("connect",(c,u,f)=>{zl.debug(this.ctx,"Socket Connect returned status code",c.statusCode),l.removeAllListeners(),u.removeAllListeners(),c.statusCode!==200?(u.destroy(),a(new H4(`tunneling socket could not be established, statusCode=${c.statusCode}`,void 0,`ProxyStatusCode${c.statusCode}`))):f.length>0?(u.destroy(),a(new H4(`got non-empty response body from proxy, length=${f.length}`,void 0,"ProxyNonEmptyResponseBody"))):(zl.debug(this.ctx,"Successfully established tunneling connection to proxy"),s(u))}),l.once("error",c=>{zl.debug(this.ctx,"Proxy socket connection error",c.message),l.removeAllListeners(),a(new H4(`tunneling socket could not be established, cause=${c.message}`,c))}),l.on("timeout",()=>{zl.debug(this.ctx,"Proxy socket connection timeout"),a(new H4(`tunneling socket could not be established, proxy socket connection timeout while connecting to ${i.host}:${i.port}`,void 0,"ProxyTimeout"))}),l.end()})}createConnectRequestOptions(r,n){let i=`${r.hostname}:${r.port}`,s={...n,method:"CONNECT",path:i,agent:!1,headers:{host:i,"Proxy-Connection":"keep-alive"},timeout:r.timeout};return r.localAddress&&(s.localAddress=r.localAddress),this.configureProxyAuthorization(s,r),s}configureProxyAuthorization(r,n){r.headers["Proxy-Authorization"]=[],r.proxyAuth&&r.headers["Proxy-Authorization"].push("Basic "+Buffer.from(r.proxyAuth).toString("base64")),n.headers&&n.headers["Proxy-Authorization"]&&r.headers["Proxy-Authorization"].push(n.headers["Proxy-Authorization"])}},d_=class{static{o(this,"KerberosLoader")}load(){return zke()}};d();var Zke=require("node:os");var qvt=new Er("repository"),V4="\\\\",eRe="(?:[#;].*)",C8=`(?:[^"${V4}]|${V4}.)`,Gvt="[0-9A-Za-z-]",Kke=`[A-Za-z]${Gvt}*`,tRe=`\\s*${eRe}?$`,rRe=`(?:[^"${V4};#]|${V4}.)`,Wvt=`(?:"${C8}*"|"${C8}*(?<strCont>${V4})$)`,Hvt=`(?:${rRe}|${Wvt})+`,Vvt=`(?:(?<cont>${V4})$)`,nRe=`(?<value>${Hvt})${Vvt}?${tRe}`,Jke=new RegExp(`^${nRe}`),jvt=new RegExp(`^(?<value>${C8}*(?:(?<strCont>${V4})$|(?<quote>")))`),$vt=new RegExp(`^\\s*(?:(?<key>${Kke})\\s*=\\s*${nRe}|(?<soloKey>${Kke})${tRe})`),zvt=new RegExp(`(?<value>${rRe}+)|"(?<string>${C8}*)"`,"g"),Xke="[-.0-9A-Za-z]+",Yvt=`\\s+"(?<ext>${C8}*)"`,Kvt=`\\s+"(?<extOnly>${C8}*)"`,Jvt=new RegExp(`^\\s*\\[(?:(?<simple>${Xke})${Yvt}|${Kvt}|(?<simpleOnly>${Xke}))\\]`),Xvt=new RegExp(`^\\s*${eRe}$`),uoe=class{constructor(t){this.content=t;this.stopped=!1;this.section="";this.line="";this.lineNum=0;this.lines=[];this.linesWithErrors=[]}static{o(this,"GitConfigParser")}parse(t){for(this.stopped=!1,this.section="",this.line="",this.linesWithErrors=[],this.configValueHandler=t,this.lines=this.content.split(/\r?\n/),this.lineNum=0;!this.stopped&&this.lineNum<this.lines.length;this.lineNum++)this.line=this.lines[this.lineNum],this.parseSectionStart(),this.parseConfigPair(),this.parseComment(),/^\s*$/.test(this.line)||this.errorAt(this.lineNum+1)}stop(){this.stopped=!0}hasErrors(){return this.linesWithErrors.length>0}errorAt(t){this.linesWithErrors.push(t)}parseSectionStart(){let t=this.line.match(Jvt);t&&(t.groups?.simple?this.section=t.groups.simple.toLowerCase()+"."+this.unescapeBaseValue(t.groups.ext):t.groups?.extOnly?this.section="."+this.unescapeBaseValue(t.groups.extOnly):this.section=t.groups.simpleOnly.toLowerCase(),this.line=this.line.slice(t[0].length))}unescapeBaseValue(t){return t.replace(/\\(.)/g,"$1")}parseConfigPair(){let t=this.line.match($vt);if(t){if(t.groups?.key){let r=this.handleContinued(t);this.configValueHandler?.(this.nameWithSection(t.groups.key.toLowerCase()),r)}else t.groups?.soloKey&&this.configValueHandler?.(this.nameWithSection(t.groups.soloKey.toLowerCase()),"");this.line=""}}handleContinued(t){let r=t,n=[this.matchedValue(r)];for(;r?.groups?.cont||r?.groups?.strCont;){if(this.line=this.lines[++this.lineNum],this.lineNum>=this.lines.length){this.errorAt(this.lineNum);break}r.groups.strCont?(r=this.line.match(jvt),r?(n.push(this.matchedValue(r)),r.groups?.quote&&(r=this.line.slice(r[0].length).match(Jke),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))):this.errorAt(this.lineNum+1)):(r=this.line.match(Jke),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))}return this.normalizeValue(n.join(""))}matchedValue(t){return t.groups.strCont?t.groups.value.slice(0,-1):t.groups.value}normalizeValue(t){let r=!1,n=[...t.matchAll(zvt)].map(i=>i.groups?.value?(r=!0,this.unescapeValue(i.groups.value.replace(/\s/g," "))):(r=!1,this.unescapeValue(i.groups.string))).join("");return r?n.trimEnd():n}unescapeValue(t){let r={n:`
`,t:"	",b:"\b"};return t.replace(/\\(.)/g,(n,i)=>r[i]||i)}nameWithSection(t){return this.section?this.section+"."+t:t}parseComment(){Xvt.test(this.line)&&(this.line="")}},hU=class extends op{static{o(this,"GitParsingConfigLoader")}async getConfig(t,r){let n=await a1.getRepoConfigLocation(t,r);if(!n)return;let i=await this.getParsedConfig(t,n);if(i)return this.mergeConfig(await this.baseConfig(t,n),i)}mergeConfig(...t){return t.filter(r=>r!==void 0).reduce((r,n)=>r.concat(n),new Sb)}async getParsedConfig(t,r,n=!0){let i=await this.tryLoadConfig(t,r,n);if(!i)return;let s=new uoe(i),a=new Sb;return s.parse((l,c)=>a.add(l,c)),a}async tryLoadConfig(t,r,n){try{return await t.get(Lo).readFileString(r)}catch(i){(n||!(i instanceof Error)||i.code!=="ENOENT")&&qvt.warn(t,`Failed to load git config from ${r.toString()}:`,i);return}}async baseConfig(t,r){let n=await this.commondirConfigUri(t,r),i=Jo(this.xdgConfigUri(),"git","config"),s=Jo(this.homeUri(),".gitconfig");return this.mergeConfig(await this.getParsedConfig(t,i,!1),await this.getParsedConfig(t,s,!1),n?await this.getParsedConfig(t,n,!1):void 0)}async commondirConfigUri(t,r){if(ea(r).toLowerCase()!=="config.worktree")return;let n=gu(r),i=Jo(n,"commondir");try{let s=(await t.get(Lo).readFileString(i)).trimEnd();return Jo(lC(n,s),"config")}catch{return}}xdgConfigUri(){return process.env.XDG_CONFIG_HOME?Ff(process.env.XDG_CONFIG_HOME):Jo(this.homeUri(),".config")}homeUri(){return Ff((0,Zke.homedir)())}};d();var oRe=ft(require("node:events"));var iRe="onWorkspaceChanged",zu=class{constructor(){this.emitter=new oRe.default}static{o(this,"WorkspaceNotifier")}onChange(t){this.emitter.on(iRe,t)}emit(t){this.emitter.emit(iRe,t)}};function sRe(e){let t=new Eb;return t.set(tp,e),t.set(Qh,new Qh),t.set(io,new io),Zvt(t),t.set(Ru,new Ru),t.set(jh,new jh),t.set(Na,fU(t)),t.set(Op,mU(t)),t.set(er,new er(t)),t.set(zh,new zh),t.set(Ql,new Ql(t)),t.set(gs,new gs),t.set(yu,new yu),t.set(xc,new xc),t.set(Du,new Du),t.set(Jf,new aT),t.set(xm,new ab),t.set(Mf,new Vv),t.set(yo,new yo),t.set(od,_Q(t)),t.set(Em,new Em),t.set(q0,new q0),t.set(sd,new sd),t.set(x1,x1.default),t.set(a1,new a1(t)),t.set(op,new GF([new qF,new hU])),t.set(zu,new zu),t.set(qf,new qf(t)),t.set(Ms,new Ms),t.set(Tm,new Tm(t)),t.set(VC,new VC(t)),t.set(ts,new ts),t}o(sRe,"createProductionContext");function Zvt(e){e.set(Nf,Nf.fromEnvironment(!1)),e.set(Yh,new aI),e.set(va,new NQ(console))}o(Zvt,"setupRudimentaryLogging");var eWr=new Er("context");d();d();var tn=new Er("chat");d();d();d();async function za(e,t,r,n){let i=rn.createAndMarkAsIssued({messageId:t,conversationId:r});return await e.get(er).updateExPValuesAndAssignments(n,i)}o(za,"createTelemetryWithExpWithId");function m_(e,t,r,n,i,s,a,l){let c=e.turns[e.turns.length-1].skills.map(m=>m.skillId).sort(),u={source:"user",turnIndex:(e.turns.length-1).toString(),uiKind:t,skillIds:c.join(",")},f={promptTokenLen:n,messageCharLen:r};return i&&(u.suggestion=i),s&&(u.suggestionId=s),l.length>0&&(u.skillResolutionsJson=JSON.stringify(ebt(l))),a=a.extendedBy(u,f),a}o(m_,"extendUserMessageTelemetryData");function ebt(e){return e.map(t=>({skillId:t.skillId,resolution:t.resolution,fileStatus:t.files?.map(r=>r.status),tokensPreEliding:t.tokensPreEliding??0,resolutionTimeMs:t.resolutionTimeMs??0,processingTimeMs:t.processingTimeMs??0}))}o(ebt,"mapSkillResolutionsForTelemetry");function aRe(e,t,r,n,i,s,a){return n!=null&&(a=a.extendedBy({offTopic:n.toString()})),pU(e,s,t,r,{uiKind:t,headerRequestId:i},{},a).properties.messageId}o(aRe,"createUserMessageTelemetryData");function lRe(e,t,r,n,i,s,a,l){let c=rbt(n);return pU(e,a,r,n,{source:"model",turnIndex:(t.turns.length-1).toString(),headerRequestId:s,uiKind:r,codeBlockLanguages:JSON.stringify({...c})},{messageCharLen:n.length,numCodeBlocks:c.length,numTokens:i},l).properties.messageId}o(lRe,"createModelMessageTelemetryData");function cRe(e,t,r,n,i,s,a){pU(e,s,r,n,{source:"offTopic",turnIndex:t.turns.length.toString(),userMessageId:i,uiKind:r},{messageCharLen:n.length},a)}o(cRe,"createOffTopicMessageTelemetryData");function uRe(e,t,r,n,i,s,a,l,c){let u=pU(e,l,r,n,{source:"suggestion",suggestion:s,turnIndex:(t.turns.length-1).toString(),uiKind:r,suggestionId:a},{promptTokenLen:i,messageCharLen:n.length},c);return tbt(e,r,s,u.properties.messageId,u.properties.conversationId,a,c,l),u.properties.messageId}o(uRe,"createSuggestionMessageTelemetryData");var fRe={synonymTimeMs:0,rankingTimeMs:0,chunkCount:0,localSnippetCount:0,embeddingsTimeMs:0,rerankingTimeMs:0};async function dRe(e,t,r){let n=await za(e.ctx,e.turn.id,e.conversation.id),i=e.conversation.source==="inline"?"conversationInline":"conversationPanel";Yu(e.ctx,void 0,{conversationId:e.conversation.id,turnIndex:(e.conversation.turns.length-1).toString(),userMessageId:e.turn.id,provider:t,uiKind:i},r,"index.codesearch",n)}o(dRe,"telemetryIndexCodesearch");function pU(e,t,r,n,i,s,a){let l=a??rn.createAndMarkAsIssued(),c={messageText:n,...i};if(!("messageId"in i)&&!("messageId"in l.properties)){let h=Tr();i.messageId=h,c.messageId=h}t&&(i.languageId=t.languageId,s.documentLength=t.getText().length,s.documentLineCount=t.lineCount);let u=l.extendedBy(i,s),f=l.extendedBy(c),m=Wc(r);return Xt(e,`${m}.message`,u),Xt(e,`${m}.messageText`,f,1),u}o(pU,"telemetryMessage");function mRe(e,t,r,n){Yu(e,n,{uiKind:t},{},"conversation.suggestionShown",r)}o(mRe,"createSuggestionShownTelemetryData");function tbt(e,t,r,n,i,s,a,l){Yu(e,l,{suggestion:r,messageId:n,conversationId:i,suggestionId:s,uiKind:t},{},"conversation.suggestionSelected",a)}o(tbt,"createSuggestionSelectedTelemetryData");function Yu(e,t,r,n,i,s){let a=s??rn.createAndMarkAsIssued();t&&(r.languageId=t.languageId,n.documentLength=t.getText().length,n.documentLineCount=t.lineCount);let l=a.extendedBy(r,n);return Xt(e,i,l),l}o(Yu,"telemetryUserAction");function gU(e,t,r){let n=r.extendedBy({messagesJson:JSON.stringify(t)});return Xt(e,"engine.messages",n,1)}o(gU,"logEngineMessages");function Wc(e){switch(e){case"editsPanel":return"copilotEditsPanel";case"conversationInline":return"inlineConversation";case"conversationPanel":default:return"conversation"}}o(Wc,"telemetryPrefixForUiKind");function rbt(e){let t=e.split(`
`),r=[],n=[];for(let i=0;i<t.length;i++){let s=t[i];s.startsWith("```")&&(n.length>0&&s==="```"?r.push(n.pop()):n.length===0&&n.push(s.substring(3)))}return r}o(rbt,"getCodeBlocks");function hRe(e){return e=="conversationInline"?"conversation-inline":"conversation-panel"}o(hRe,"uiKindToIntent");function hy(e){return e==="inline"?"conversationInline":"conversationPanel"}o(hy,"conversationSourceToUiKind");var Yl=(i=>(i.System="system",i.User="user",i.Assistant="assistant",i.Function="function",i))(Yl||{});function on(e){return e?typeof e=="string"?e:e.map(t=>"text"in t?t.text:"").join(""):""}o(on,"getTextPart");var pRe=o((e,t)=>T.Unsafe({type:"string",enum:e,description:t?.description}),"StringEnum"),gRe=T.Optional(T.Object({agentSlug:T.String(),state:T.Union([T.Literal("accepted"),T.Literal("dismissed")]),confirmation:T.Any()}));function E8(e){if(typeof e.function.arguments=="string")try{return JSON.parse(e.function.arguments)}catch{return{}}return e.function.arguments}o(E8,"parseToolCallArguments");function ARe(e){return typeof e.function.arguments=="object"&&(e.function.arguments=JSON.stringify(e.function.arguments)),e}o(ARe,"toOpenAIToolCall");function yRe(e,t,r,n,i,s,a,l){let c=JSON.parse(JSON.stringify(t));return r.tool_calls&&(c.tool_calls=r.tool_calls),gU(e,[c],l),{message:t,choiceIndex:n,requestId:i,blockFinished:s,finishReason:a,tokens:r.tokens,numTokens:r.tokens.length,tool_calls:r.tool_calls,function_call:r.function_call,telemetryData:l}}o(yRe,"convertToChatCompletion");d();var foe=new Er("streamMessages");function CRe(e,t,r){let n=t.solution.text.join(""),i=!1;t.finishOffset!==void 0&&(foe.debug(e,`message ${t.index}: early finish at offset ${t.finishOffset}`),n=n.substring(0,t.finishOffset),i=!0),foe.info(e,`message ${t.index} returned. finish reason: [${t.reason}]`),foe.debug(e,`message ${t.index} details: finishOffset: [${t.finishOffset}] completionId: [{${t.requestId.completionId}}] created: [{${t.requestId.created}}]`);let s=WJ(t.solution),a={role:"assistant",content:n};return yRe(e,a,s,t.index,t.requestId,i,t.reason??"",r)}o(CRe,"prepareChatCompletionForReturn");var xd=new Er("fetchChat"),AU=class{static{o(this,"OpenAIChatMLFetcher")}async fetchAndStreamChat(t,r,n,i,s){let a=await this.fetchWithParameters(t,r.endpoint,r,n,s);if(a==="not-sent")return{type:"canceled",reason:"before fetch request"};if(s?.isCancellationRequested){let l=a.body();try{l.destroy()}catch(c){xd.exception(t,c,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(a.status!==200){let l=this.createTelemetryData(r.endpoint,t,r);return this.handleError(t,l,a)}if(r.postOptions?.stream===!1){let l=await a.text(),c=JSON.parse(l),u=c.choices!=null?c.choices[0].message:{role:"assistant",content:""},f=a.headers.get("X-Request-ID")??Tr(),m={blockFinished:!1,choiceIndex:0,finishReason:"stop",message:u,tokens:on(u.content).split(" "),requestId:{headerRequestId:f,completionId:c.id?c.id:"",created:c.created?Number(c.created):0,deploymentId:"",serverExperiments:""},telemetryData:n,numTokens:0},h=on(u.content);return await i(h,{text:h,copilotReferences:c.copilot_references}),{type:"success",chatCompletions:async function*(){yield m}(),getProcessingTime:o(()=>lT(a),"getProcessingTime")}}else{let c=HC.create(t,r.count,a,n,[],s).processSSE(i);return{type:"success",chatCompletions:h5(c,async f=>CRe(t,f,n)),getProcessingTime:o(()=>lT(a),"getProcessingTime")}}}createTelemetryData(t,r,n){return rn.createAndMarkAsIssued({endpoint:t,engineName:n.engineName,uiKind:n.uiKind,headerRequestId:n.ourRequestId})}async fetchWithParameters(t,r,n,i,s){let a={messages:n.messages,tools:n.tools,tool_choice:n.tool_choice,model:n.model,temperature:vb(t,n.count),top_p:EF(t),n:n.count,stop:[`


`],copilot_thread_id:n.copilot_thread_id},l=t1(n.repoInfo);return l!==void 0&&(a.nwo=l),n.postOptions&&Object.assign(a,n.postOptions),n.intent&&(a.intent=n.intent,n.intent_model&&(a.intent_model=n.intent_model),n.intent_tokenizer&&(a.intent_tokenizer=n.intent_tokenizer),n.intent_threshold&&(a.intent_threshold=n.intent_threshold),n.intent_content&&(a.intent_content=n.intent_content)),s?.isCancellationRequested?"not-sent":await nbt(t,n.messages,n.capiUrl,n.engineName,r,n.ourRequestId,a,n.authToken,n.uiKind,i,n.llmInteraction,s)}async handleError(t,r,n){if(n.clientError&&!n.headers.get("x-github-request-id")){let s=`Last response was a ${n.status} error and does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`;xd.error(t,s),r.properties.error=`Response status was ${n.status} with no x-github-request-id header`}else r.properties.error=`Response status was ${n.status}`;if(r.properties.status=String(n.status),Xt(t,"request.shownWarning",r),n.status===401)try{let s=await n.text(),a=JSON.parse(s);if(a.authorize_url)return{type:"authRequired",reason:"not authorized",authUrl:a.authorize_url}}catch{}if(n.status===401||n.status===403)return t.get(jr).resetToken(n.status),{type:"failed",reason:`token expired or invalid: ${n.status}`,code:n.status};if(n.status===499)return xd.info(t,"Cancelled by server"),{type:"failed",reason:"canceled by server",code:n.status};let i=await n.text();if(n.status===466)return xd.info(t,i),{type:"failed",reason:`client not supported: ${i}`,code:n.status};if(n.status===400&&i.includes("off_topic"))return{type:"failed",reason:"filtered as off_topic by intent classifier: message was not programming related",code:n.status};if(n.status===400&&i.includes("model_not_supported"))return{type:"failed",reason:"model is not supported.",code:n.status};if(n.status===424)return{type:"failedDependency",reason:i};if(n.status===402){let a=n.headers.get("retry-after");return{type:"failed",reason:a?`You've reached your monthly chat messages limit. Upgrade to Copilot Pro (30-day free trial) or wait until ${new Date(a).toLocaleString()} for your limit to reset.`:"You've reached your monthly chat messages limit. Upgrade to Copilot Pro (30-day free trial) or wait for your limit to reset.",code:n.status}}return xd.error(t,"Unhandled status from server:",n.status,i),{type:"failed",reason:`unhandled status from server: ${n.status} ${i}`,code:n.status}}};async function nbt(e,t,r,n,i,s,a,l,c,u,f,m){let h=Jo(r,n,i);if(!l)throw new Error(`Failed to send request to ${h} due to missing key`);let p=u.extendedBy({endpoint:i,engineName:n,uiKind:c});for(let[b,v]of Object.entries(a))b!="messages"&&(p.properties[`request.option.${b}`]=JSON.stringify(v)??"undefined");p.properties.headerRequestId=s,Xt(e,"request.sent",p);let A=Ul(),E=hRe(c),x={...Kv(e),...f.toCapiHeaders()};return a.messages?.some(b=>Array.isArray(b.content)?b.content.some(v=>"image_url"in v):!1)&&(x["Copilot-Vision-Request"]="true"),a.messages&&a.messages.forEach(b=>{ibt(b)&&b.tool_calls&&(b.tool_calls=b.tool_calls.map(v=>ARe(v)))}),Hx(e,h,l,E,s,a,m,x).then(b=>{let v=WC(b,void 0);p.extendWithRequestId(v);let S=Ul()-A;return p.measurements.totalTimeMs=S,xd.info(e,`request.response: [${h}] took ${S} ms`),xd.debug(e,"request.response properties",p.properties),xd.debug(e,"request.response measurements",p.measurements),xd.debug(e,"messages:",JSON.stringify(t)),Xt(e,"request.response",p),b}).catch(b=>{if(ou(b))throw b;let v=p.extendedBy({error:"Network exception"});Xt(e,"request.shownWarning",v),p.properties.message=String(wm(b,"name")??""),p.properties.code=String(wm(b,"code")??""),p.properties.errno=String(wm(b,"errno")??""),p.properties.type=String(wm(b,"type")??"");let S=Ul()-A;throw p.measurements.totalTimeMs=S,xd.debug(e,`request.response: [${h}] took ${S} ms`),xd.debug(e,"request.error properties",p.properties),xd.debug(e,"request.error measurements",p.measurements),Xt(e,"request.error",p),b}).finally(()=>{gU(e,t,p)})}o(nbt,"fetchWithInstrumentation");function ibt(e){return"tool_calls"in e}o(ibt,"isChatMessageWithToolCalls");var ua=class{constructor(t){this.ctx=t;this.fetcher=new AU}static{o(this,"ChatMLFetcher")}async fetchResponse(t,r,n,i){let s=Tr(),a={n:t.num_suggestions??1,temperature:t.temperature??0,stop:t.stop,top_p:t.topP??1,copilot_thread_id:t.copilot_thread_id},l=t.modelConfiguration;l&&(a.max_tokens=l.maxResponseTokens,a.stream=!!l.stream),t.logitBias&&(a.logit_bias=t.logitBias);let c=await this.ctx.get(jr).getToken(),u=Jv(this.ctx,c),f=t.endpoint??"completions",m=t.authToken??c.token,h={messages:t.messages,repoInfo:void 0,ourRequestId:s,capiUrl:u,engineName:t.engineName??"chat",endpoint:f,count:t.num_suggestions??1,uiKind:t.uiKind,postOptions:a,authToken:m,...t.intentParams,llmInteraction:t.llmInteraction};return l&&(h.model=l.modelId),t.tools&&t.tools?.length>0&&(l===void 0||l.toolCalls)&&(h.tools=t.tools,h.tool_choice=t.tool_choice??"auto"),await this.fetch(h,i,r,n)}async fetch(t,r,n,i){try{let s=await this.fetcher.fetchAndStreamChat(this.ctx,t,i.extendedBy({uiKind:t.uiKind}),r||(async()=>{}),n);switch(s.type){case"success":return await this.processSuccessfulResponse(s,t.ourRequestId,i);case"canceled":return this.processCanceledResponse(s,t.ourRequestId);case"failed":case"failedDependency":return this.processFailedResponse(s,t.ourRequestId);case"authRequired":return{type:"agentAuthRequired",reason:"Agent authentication required.",authUrl:s.authUrl,requestId:t.ourRequestId}}}catch(s){return this.processError(s,t.ourRequestId)}}async processSuccessfulResponse(t,r,n){let i=[],s=GC(t.chatCompletions,async a=>this.postProcess(a,n));for await(let a of s)tn.debug(this.ctx,`Received choice: ${JSON.stringify(a,null,2)}`),i.push(a);if(i.length==1){let a=i[0];switch(a.finishReason){case"stop":return{type:"success",value:on(a.message?.content)??"",toolCalls:a.tool_calls,requestId:r,numTokens:a.numTokens};case"tool_calls":return{type:"tool_calls",toolCalls:a.tool_calls,requestId:r};case"content_filter":return{type:"filtered",reason:"Response got filtered.",requestId:r};case"length":return{type:"length",reason:"Response too long.",requestId:r};case"DONE":return{type:"no_finish_reason",reason:"No finish reason received.",requestId:r};default:return{type:"unknown",reason:"Unknown finish reason received.",requestId:r}}}else if(i.length>1){let a=i.filter(l=>l.finishReason=="stop"||l.finishReason=="tool_calls");if(a.length>0)return{type:"successMultiple",value:a.map(l=>on(l.message.content)),toolCalls:a.map(l=>l.tool_calls).filter(l=>l),requestId:r}}return{type:"no_choices",reason:"Response contained no choices.",requestId:r}}postProcess(t,r){return BQ(t.tokens)?(r.extendWithRequestId(t.requestId),Xt(this.ctx,"conversation.repetition.detected",r,0),t.finishReason!==""?t:void 0):t.message?t:void 0}processCanceledResponse(t,r){return tn.debug(this.ctx,"Cancelled after awaiting fetchConversation"),{type:"canceled",reason:t.reason,requestId:r}}processFailedResponse(t,r){return t?.reason.includes("filtered as off_topic by intent classifier")?{type:"offTopic",reason:t.reason,requestId:r}:t?.reason.includes("model is not supported")?{type:"model_not_supported",reason:t.reason,requestId:r}:{type:"failed",reason:t.reason,requestId:r,code:t.type==="failed"?t.code:void 0}}processError(t,r){return ou(t)?{type:"canceled",reason:"network request aborted",requestId:r}:(tn.exception(this.ctx,t,"Error on conversation request"),{type:"failed",reason:"Error on conversation request. Check the log for more details.",requestId:r})}};d();var bl=class{constructor(t){this.ctx=t}static{o(this,"EditProgressReporter")}},yU=class extends bl{constructor(){super(...arguments);this.items=[]}static{o(this,"LibTestEditProgressReporter")}reset(){this.items=[]}async reportTurn(r,n){this.items.push({editConversationId:r.editConversationId,editTurnId:r.editTurnId,...n})}};d();d();d();var py=class extends Error{static{o(this,"CopilotEditsCancelledByUserException")}constructor(){super("Operation cancelled by user"),this.name="CopilotEditsCancelledByUserException"}};d();var gy=class extends Error{static{o(this,"CopilotEditsProcessCodeBlockException")}constructor(t){super(t),this.name="CopilotEditsProcessCodeBlockException"}};d();d();var CU="filepath:",jm="...existing code...",j4="copilot-edited-file";d();function U1(e){let t=e.matchAll(/^\s*(```+)/gm),r=Math.max(3,...Array.from(t,n=>n[1].length+1));return"`".repeat(r)}o(U1,"getFenceForCodeBlock");var doe=class{constructor(t){this.props=t}static{o(this,"CodeBlockChangeDescription")}render(){if(this.props.markdownBeforeBlock)return["This is the description of what the code block changes:","<changeDescription>",this.props.markdownBeforeBlock,"","</changeDescription>",""].join(`
`)}},EU=class{constructor(t){this.props=t}static{o(this,"CodeMapperPrompt")}async render(){let t=await this.props.textDocumentProvider.getByUri(this.props.uri.toString());return[{role:"system",content:this.buildSystemMessage(t)},{role:"user",content:await this.buildUserMessage(t)}]}transformToSpeculationPrompt(t,r,n){return t.reduce((s,a)=>{if(a.role==="system"){let l=on(a.content).endsWith(`
`)?on(a.content):`${on(a.content)}
`;return`${s}<SYSTEM>
${l}
End your response with </${j4}>.
</SYSTEM>


`}return s+on(a.content)},"")+`


The resulting document:
<${j4}>
${n}${r}
`}buildSystemMessage(t){if(t.status!=="valid")return"";let r=[];return r.push("You are an AI programming assistant that is specialized in applying code changes to an existing document.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal.",`The user has a code block that represents a suggestion for a code change and a ${t.document.clientLanguageId} file opened in a code editor.`,"Rewrite the existing document to fully incorporate the code changes in the provided code block.","For the response, always follow these instructions:","1. Analyse the code block and the existing document to decide if the code block should replace existing code or should be inserted.","2. If necessary, break up the code block into multiple parts and insert each part at the appropriate location.","3. Preserve whitespace and newlines right after the parts of the file that you modify.",`4. The final result must be syntactically valid, properly formatted, and correctly indented. It should not contain any \`${jm}\` comments.`,"5. Finally, provide the fully rewritten file. You must output the complete file."),r.join(`
`)}async buildUserMessage(t){let r=[];if(t.status!=="valid")return"";if(t.document.getText().length>0){let a=U1(t.document.getText());r.push(`I have the following code open in the editor, starting from line 1 to line ${t.document.lineCount}.`,`${a}${t.document.clientLanguageId}`,t.document.getText(),`${a}`)}else r.push("I am in an empty editor.");let i=new doe({markdownBeforeBlock:this.props.markdownBeforeBlock}).render();i&&r.push(i);let s=U1(this.props.codeBlock);return r.push("This is the code block that represents the suggested code change:",`${s}${t.document.clientLanguageId}`,this.props.codeBlock,`${s}`,"<userPrompt>","Provide the fully rewritten file, incorporating the suggested code change. You must produce the complete file.","</userPrompt>"),r.join(`
`)}};d();d();function ss(e){switch(e.status){case"valid":return e.document.getText().trim().length===0?"empty":"included";case"invalid":return"blocked";case"notfound":return"notfound"}}o(ss,"statusFromTextDocumentResult");var zn=class{constructor(t){this.ctx=t}static{o(this,"FileReader")}async getRelativePath(t){return this.ctx.get(Wr).getRelativePath(t)??ea(t.uri)}async readFile(t){let r=await this.readFromTextDocumentManager({uri:t});return r.status!=="notfound"?r:await this.readFromFilesystem(t)}async readFromTextDocumentManager(t){return await this.ctx.get(Wr).getTextDocumentWithValidation(t)}async readFromFilesystem(t){if(await this.fileExists(t)){if(await this.getFileSizeMB(t)>1)return{status:"notfound",message:"File too large"};let n=await this.doReadFile(t);return(await this.ctx.get(Sa).evaluate(t,n)).isBlocked?{status:"invalid",reason:"blocked"}:{status:"valid",document:M0.create(t,"UNKNOWN",0,n)}}return{status:"notfound",message:"File not found"}}async doReadFile(t){return await this.ctx.get(Lo).readFileString(t)}async getFileSizeMB(t){return(await this.ctx.get(Lo).stat(t)).size/1024/1024}async fileExists(t){try{return await this.ctx.get(Lo).stat(t),!0}catch{return!1}}};var Ay=class{constructor(t){this.ctx=t}static{o(this,"DefaultTextDocumentProvider")}async getByUri(t){return await this.ctx.get(zn).readFile(t)}};var xU=class{static{o(this,"CodeMapper")}constructor(t){this.ctx=t,this.reporter=t.get(bl),this.logger=new Er("CopilotEditsCodeMapper")}async mapCode(t,r,n){if(!t.resource)throw new gy("No uri found in code block");if(!t.code.includes(jm)){await this.reporter.reportTurn(r,{fileGenerationStatus:"edit-plan-generated",uri:t.resource.toString(),basename:ea(t.resource),editDescription:t.markdownBeforeBlock}),await this.reporter.reportTurn(r,{fileGenerationStatus:"updated-code-generated",partialText:t.code,uri:t.resource.toString(),basename:ea(t.resource)});return}if(n.isCancellationRequested)throw new py;let i=await this.ctx.get(zn).readFile(t.resource.toString());if(i.status!=="valid"){let A=`Failed to find file ${t.resource.toString()} with status ${i.status}`,E=new gy(A);throw this.logger.error(this.ctx,A,E),E}let s=new EU({documentContext:{document:i},codeBlock:t.code,uri:t.resource,markdownBeforeBlock:t.markdownBeforeBlock,textDocumentProvider:new Ay(this.ctx)}),a=await s.render(),l=i.document.clientLanguageId||"",c=U1(t.code),u=i.document.getText();if(u.length>0){let A=U1(u);A.length>c.length&&(c=A)}let f=s.transformToSpeculationPrompt(a,l,c);await this.reporter.reportTurn(r,{fileGenerationStatus:"edit-plan-generated",uri:t.resource.toString(),basename:ea(t.resource),editDescription:t.markdownBeforeBlock});let m=await this.ctx.get(VC).fetchSpeculation({prompt:f,speculation:i.document.getText(),languageId:l,stops:[`\`\`\`
</${j4}>`,`\`\`\`\r
</${j4}>`,`</${j4}>`]},n),h=[];for await(let A of m.choices)h.push(A.completionText);let p=h.find(A=>A.length>0);if(p){await this.reporter.reportTurn(r,{fileGenerationStatus:"updated-code-generated",uri:t.resource.toString(),basename:ea(t.resource),partialText:p,languageId:l,markdownCodeFence:U1(p)});return}else{let A=`No valid completion found for uri ${t.resource.toString()}`;throw new gy(A)}}};d();var z0=class extends Error{constructor(r){super(r.message);this.editConversationError=r;this.name="EditConversationException"}static{o(this,"EditConversationException")}};d();d();var x8=class{static{o(this,"CapiErrorTranslator")}static translateErrorMessage(t,r){switch(t){case 466:return"Oops, your plugin is out of date. Please update it.";case 401:return"Oops, you are not authorized. Please sign in.";case 402:return r||"Oops, you need to upgrade your plan.";case 429:return"Oops, you reached the rate limit. Please try again later.";default:return"Sorry, an error occurred while generating a response."}}};d();d();var vU=class extends Error{static{o(this,"EditTurnNotFoundException")}constructor(t){super(t),this.name="EditTurnNotFoundException"}};var yy=class{constructor(t,r){this.request=t;this.id=Tr();this.timestamp=Date.now();this.status="in-progress";this.workingSet=[];r&&r.length>0&&(this.workingSet=r)}static{o(this,"EditTurn")}},moe=class{constructor(t=[]){this.turns=[];this.turns=t}static{o(this,"EditTurnManager")}addTurn(t){this.turns.push(t)}deleteTurn(t){this.turns=this.turns.filter(r=>r.id!==t)}getLastTurn(){if(this.turns.length!==0)return this.turns[this.turns.length-1]}hasTurn(t){return this.turns.some(r=>r.id===t)}getTurns(){return[...this.turns]}},bU=class{constructor(t=[],r="panel",n="en"){this._id=Tr();this._timestamp=Date.now();this.source="panel";this.userLanguage="en";this.source=r,this.userLanguage=n,this.turnsManager=new moe(t)}static{o(this,"EditConversation")}get id(){return this._id}get timestamp(){return this._timestamp}getUserLanguage(){return this.userLanguage}getTurns(){return this.turnsManager.getTurns()}getSource(){return this.source}addTurn(t){this.turnsManager.addTurn(t)}deleteTurn(t){this.turnsManager.deleteTurn(t)}getLastTurn(){let t=this.turnsManager.getLastTurn();if(t===void 0)throw new vU(`No turns in the conversation ${this._id}`);return t}hasTurn(t){return this.turnsManager.hasTurn(t)}};var IU=class{static{o(this,"EditCodeResultProcessor")}static processResult(t,r){switch(r.type){case"success":return r.value;case"offTopic":{t.currentTurn.status="off-topic";let n="Sorry, but I can only assist with programming related questions.";throw t.currentTurn.response={message:n,type:"offtopic-detection"},new z0({message:n,responseIsFiltered:!0})}case"canceled":throw t.currentTurn.status="cancelled",t.currentTurn.response={message:$2,type:"user"},new z0({message:$2});case"failed":throw t.currentTurn.status="error",t.currentTurn.response={message:r.reason,type:"server"},new z0({message:x8.translateErrorMessage(r.code,r.reason),code:r.code});case"filtered":throw t.currentTurn.status="filtered",new z0({message:"Oops, your response got filtered.",responseIsFiltered:!0});case"length":throw t.currentTurn.status="error",new z0({message:"Oops, the response got too long. Try to reformulate your question.",responseIsIncomplete:!0});case"agentAuthRequired":throw t.currentTurn.status="error",t.currentTurn.response={message:"Authorization required",type:"server"},new z0({message:"Authorization required",responseIsFiltered:!1});case"no_choices":throw t.currentTurn.status="error",t.currentTurn.response={message:"No choices returned",type:"server"},new z0({message:"Oops, no choices received from the server. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0});case"no_finish_reason":throw t.currentTurn.status="error",t.currentTurn.response={message:"No finish reason",type:"server"},new z0({message:"Oops, unexpected end of stream. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0});case"model_not_supported":throw t.currentTurn.status="error",t.currentTurn.response={message:"Model not supported",type:"server"},new z0({message:"Oops, the model is not supported. Please try again.",code:400,reason:"model_not_supported",responseIsFiltered:!1});case"successMultiple":case"tool_calls":case"unknown":throw t.currentTurn.status="error",new z0({message:"Unknown server side error occurred. Please try again.",responseIsFiltered:!1})}}};d();async function*xRe(e){yield e}o(xRe,"stringToAsyncIterable");d();d();var q1=class{static{o(this,"CopilotEditsPromptUriUtils")}static pathToUri(t,r){let n=t.mapToUriInWorkingSet(r);return n||Ff(r)}static uriToPath(t){let r=al(t);if(r)return r;throw new Error(`Unsupported URI scheme: ${t.split(":")[0]}`)}static posixFilePathToUri(t){return process.platform==="win32"?`file:///c:${t}`:`file://${t}`}};var TU=class{constructor(t){this.props=t;this.exampleFilePath=this.getExampleFilePath("/path/to/file"),this.tsExampleFilePath=this.getExampleFilePath("/Users/someone/proj01/example.ts")}static{o(this,"EditCodePrompt")}async render(){let t=await this.getValidFilesInWorkingSet();return[{role:"system",content:this.buildSystemMessage(t)},{role:"user",content:this.buildUserMessage(t)}]}getExampleFilePath(t){return this.getFilePath(q1.posixFilePathToUri(t))}getFilePath(t){return q1.uriToPath(t)}async getValidFilesInWorkingSet(){let t=new Map;if(this.props.workingSet===void 0||this.props.workingSet===null||this.props.workingSet.length===0)return t;for(let r of this.props.workingSet){let n=await this.props.textDocumentProvider.getByUri(r.uri);n.status==="valid"&&t.set(r.uri,n.document)}return t}buildSystemMessage(t){let r=[];return r.push("You are an AI programming assistant.",'When asked for your name, you must respond with "GitHub Copilot".',"Follow the user's requirements carefully & to the letter.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal.",t.size>0?"The user has a request for modifying one or more files.":["If the user asks a question, then answer it.",`If you need to change existing files and it's not clear which files should be changed, then refuse and answer with "Please add the files to be modified to the working set"`].join(`
`),"1. Please come up with a solution that you first describe step-by-step.","2. Group your changes by file. Use the file path as the header.","3. For each file, give a short summary of what needs to be changed followed by a code block that contains the code changes.","4. Each file's code block must start with a comment containing the filepath.","5. Use a single code block per file that needs to be modified, even if there are multiple changes for a file.","6. The user is very smart and can understand how to merge your code blocks into their files, you just need to provide minimal hints.","7. Avoid repeating existing code, instead use comments to represent regions of unchanged code. The user prefers that you are as concise as possible. For example: ",["<file>","````languageId",`// ${CU} ${this.exampleFilePath}`,`// ${jm}`,"{ changed code }",`// ${jm}`,"{ changed code }",`// ${jm}`,"````","</file>"].join(`
`),"8. If you generate edits for a Markdown file, use four backticks for the outer code block.",""),this.props.userLanguage&&r.push(`Respond in the following locale: ${this.props.userLanguage}`),this.props.modelName&&r.push(`You use the ${this.props.modelName} large language model.`),r.push("Here is an example of how you should format a code block belonging to the file example.ts in your response:","<example>",[`### ${this.tsExampleFilePath}`,"","Add a new property 'age' and a new method 'getAge' to the class Person.","","<file>","```typescript",`// ${CU} ${this.tsExampleFilePath}`,"class Person {",`   // ${jm}`,"   age: number;",`   // ${jm}`,"   getAge() {","      return this.age;","   }","}","```","</file>"].join(`
`),"</example>"),r.join(`
`)}buildUserMessage(t){let r=[];if(t.size>0){r.push("The user has provided the following files as input. Always make changes to these files unless the user asks to create a new file.","Untitled files are files that are not yet named. Make changes to them like regular files.");for(let[n,i]of t){let s=this.getFilePath(n),a=i.getText(),l=U1(a);r.push("<file>",`${l}${i.clientLanguageId}`,`// ${CU} ${s}`,`${a}`,`${l}`,"</file>")}}return r.push("<reminder>",`Avoid repeating existing code, instead use a line comment with \`${jm}\` to represent regions of unchanged code.`,"Each file's code block must start with a line comment containing the filepath. This includes Markdown files.","For existing files, make sure the filepath exactly matches the filepath of the original file."),this.props.workspaceFolder&&r.push(`When suggesting to create new files, pick a location inside \`${this.getFilePath(this.props.workspaceFolder)}\``),r.push("</reminder>"),r.push("<prompt>",`${this.props.userMessage}`,"</prompt>"),r.join(`
`)}};d();d();var wU=class{constructor(t){this._source=t;this._buffer="";this._atEnd=!1}static{o(this,"PartialAsyncTextReader")}get endOfStream(){return this._buffer.length===0&&this._atEnd}async extendBuffer(){if(this._atEnd)return;let{value:t,done:r}=await this._source.next();r?this._atEnd=!0:this._buffer+=t}async waitForLength(t){for(;this._buffer.length<t&&!this._atEnd;)await this.extendBuffer()}async peek(t){return await this.waitForLength(t),this._buffer.substring(0,t)}async read(t){await this.waitForLength(t);let r=this._buffer.substring(0,t);return this._buffer=this._buffer.substring(t),r}async readUntil(t){let r="";for(;!this.endOfStream;){let n=this.readImmediateExcept(t);if(r+=n,await this.peek(1)===t)break}return r}async readLineIncludingLF(){let t=await this.readUntil(`
`);return t+=await this.read(1),t}async readLine(){let t=await this.readUntil(`
`);return await this.read(1),t}readImmediateExcept(t){let r=this._buffer.indexOf(t);return this.readImmediate(r===-1?this._buffer.length:r)}readImmediate(t){let r=this._buffer.substring(0,t);return this._buffer=this._buffer.substring(t),r}};var hoe="<file>",h_="```",g_="###",sbt=/^(`+)([^ \n]*)/,p_="filepath:";async function*bRe(e,t){let r=new wU(e[Symbol.asyncIterator]()),n=[];for(;!r.endOfStream;){for(;!r.endOfStream;){let E=await r.peek(Math.max(h_.length,hoe.length,g_.length));if(E.startsWith(hoe)||E.startsWith(h_))break;if(E.startsWith(g_)){let x=await r.readLineIncludingLF(),b=x.substring(g_.length).trim();await t(b)?n.length=0:n.push(x)}else await vRe(r,n)}if(r.endOfStream)break;let i=await r.readLineIncludingLF(),s=i.startsWith(hoe);for(;!r.endOfStream&&!i.startsWith(h_);)i=await r.readLineIncludingLF();if(r.endOfStream)break;let a=i.match(sbt),l=a?a[2]:void 0,c=nye(l?eye(l):void 0),u=[`${c.lineComment.start} ${p_}`,`:: ${p_}`,`<!-- ${p_}`,`// ${p_}`,`# ${p_}`],f=Math.max(...u.map(E=>E.length)),m=c.lineComment.end??"",h="</file>",p,A=[];for(;!r.endOfStream;){let E=await r.peek(Math.max(h_.length,f));if(E.startsWith(h_)){let x=await r.readLineIncludingLF();if(!s)break;if(await r.peek(h.length)===h){await r.readLineIncludingLF();break}else{A.push(x);continue}}if(!p&&u.some(x=>E.startsWith(x))){let x=await r.readLineIncludingLF(),b=u.reduce((v,S)=>E.startsWith(S)?x.substring(S.length):v,x);b=b.split("-->")[0].trim(),b.endsWith(m)&&(b=b.substring(0,b.length-m.length)),b=b.trim(),p=await t(b);continue}await vRe(r,A)}yield{resource:p,language:l,code:A.join(""),markdownBeforeBlock:n.join("")},n.length=0}}o(bRe,"getCodeBlocksFromResponse");async function vRe(e,t){for(;!e.endOfStream;){let r=e.readImmediateExcept(`
`);if(r.length>0&&t?.push(r),await e.peek(1)===`
`){e.readImmediate(1),t?.push(`
`);break}}}o(vRe,"pipeOneLine");function IRe(e){if(e.startsWith(`${g_} `))return"";let t=e.indexOf(`
${g_} `);return t===-1?"":e.substring(0,t)+`
`}o(IRe,"parseOverallDescription");d();d();var _U=class extends Error{static{o(this,"EditConversationNotFoundException")}constructor(t){super(t),this.name="EditConversationNotFoundException"}};var abt=new Er("CopilotEditsConversations"),Fa=class{constructor(t){this.editConversations=new kn(50);this.ctx=t}static{o(this,"EditConversations")}create(t="panel",r){let n=new bU([],t,r);return this.editConversations.set(n.id,n),n}destroy(t){this.editConversations.delete(t)!==!0&&abt.warn(this.ctx,`Edit code conversation ${t} does not exist`)}addTurn(t,r){return this.get(t).addTurn(r),r}deleteTurn(t,r){this.get(t).deleteTurn(r)}get(t){return this.getEditConversation(t)}getEditConversation(t){let r=this.editConversations.get(t);if(!r)throw new _U(`Conversation with id ${t} does not exist`);return r}getAll(){return Array.from(this.editConversations.values())}findByTurnId(t){let r=this.getAll();for(let n of r)if(n.hasTurn(t))return n}};d();d();var Xn=class{static{o(this,"ModelConfigurationProvider")}},BU=class extends Xn{constructor(r){super();this.ctx=r}static{o(this,"DefaultModelConfigurationProvider")}async getBestChatModelConfig(r,n){let i=[];for(let s of r){let a=await this.getFirstMatchingChatModelConfiguration(s,n);a&&i.push(a)}if(i.length>0){let s=i.find(a=>a.isExperimental);return s||i[0]}throw tn.error(this.ctx,`No model configuration found for families: ${r.join(", ")}. Available models: ${JSON.stringify(await this.ctx.get(xu).getMetadata())}`),new Error("No model configuration found")}async getFirstMatchingModelMetadata(r){let n=await this.ctx.get(xu).getMetadata(),i=lbt(n,r);if(i.length>0)return i[0]}async getFirstMatchingChatModelConfiguration(r,n){let i=await this.getFirstMatchingModelMetadata({family:r,type:"chat",supports:n});if(i!==void 0)return r===Qi.Gpt35turbo||r===Qi.Gpt4oMini?{modelId:i.id,uiName:i.name,modelFamily:r,maxRequestTokens:poe(6144,i),maxResponseTokens:SU(2048,i),baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:i.capabilities.tokenizer,isExperimental:i.isExperimental??!1,stream:i.capabilities.supports?.streaming??!1,toolCalls:i.capabilities.supports?.tool_calls??!1}:r===Qi.Gpt4||r===Qi.Gpt4turbo?{modelId:i.id,uiName:i.name,modelFamily:r,maxRequestTokens:poe(10240,i),maxResponseTokens:SU(4096,i),baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:i.capabilities.tokenizer,isExperimental:i.isExperimental??!1,stream:i.capabilities.supports?.streaming??!1,toolCalls:i.capabilities.supports?.tool_calls??!1}:r.includes("claude")?{modelId:i.id,uiName:i.name,modelFamily:r,maxRequestTokens:await TRe(this.ctx,i),maxResponseTokens:SU(8192,i),baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:i.capabilities.tokenizer,isExperimental:i.isExperimental??!1,stream:i.capabilities.supports?.streaming??!1,toolCalls:i.capabilities.supports?.tool_calls??!1}:{modelId:i.id,uiName:i.name,modelFamily:r,maxRequestTokens:await TRe(this.ctx,i),maxResponseTokens:SU(4096,i),baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:i.capabilities.tokenizer,isExperimental:i.isExperimental??!1,stream:i.capabilities.supports?.streaming??!1,toolCalls:i.capabilities.supports?.tool_calls??!1}}async getFirstMatchingEmbeddingModelConfiguration(r){let n=await this.getFirstMatchingModelMetadata({family:r,type:"embeddings"});if(n!==void 0)switch(r){case mP.textEmbedding3Small:return{modelId:n.id,modelFamily:r,maxBatchSize:n.capabilities.limits?.max_inputs??16,maxTokens:8191,tokenizer:"cl100k_base"}}}};async function TRe(e,t){let r=e.get(er),n=await r.updateExPValuesAndAssignments(),i=r.ideChatMaxRequestTokens(n);return i===-1&&(i=16384),poe(i,t)}o(TRe,"getExpRequestTokens");function poe(e,t){return t.capabilities.limits?.max_prompt_tokens?Math.min(e,t.capabilities.limits.max_prompt_tokens):e}o(poe,"getRequestTokens");function SU(e,t){return t.capabilities.limits?.max_output_tokens?Math.min(e,t.capabilities.limits.max_output_tokens):e}o(SU,"getResponseTokens");function lbt(e,t){return e.filter(r=>r.capabilities.type!==t.type||r.capabilities.family!==t.family?!1:r.capabilities.supports===void 0||t.supports===void 0?!0:Object.keys(t.supports).every(n=>t.supports?.[n]===r.capabilities.supports?.[n]))}o(lbt,"filterModelsByCapabilities");var G1=class{static{o(this,"ModelPickerUtils")}static async getModelConfiguration(t,r,n){return t.get(Xn).getBestChatModelConfig(n?[n]:Xo(r))}static transformMessages(t,r){return r===Qi.O1Ga||r===Qi.O1Mini?t.map(n=>n.role!=="user"?{role:"user",content:n.content}:n):t}};var W1=class{constructor(t,r){this.chatFetcher=r;this.ctx=t,this.chatFetcher=this.chatFetcher??new ua(t)}static{o(this,"CopilotEditsService")}async createOrContinueEditConversation(t,r){try{await this.reportBegin(t);let n=await this.getEditCodeResult(t,r),i=IU.processResult(t,n);await this.parseAndSendProgressBack(t,i,r),t.currentTurn.status="success",await this.reportEnd(t)}catch(n){if(n instanceof py)await this.reportEnd(t,{message:$2});else if(n instanceof z0)await this.reportEnd(t,n.editConversationError);else{let i=n instanceof Error?n.message:String(n);t.currentTurn.status="error",t.currentTurn.response={message:i,type:"meta"},await this.reportEnd(t,{message:i})}}return[]}async getEditCodeResult(t,r){await this.abortIfCancelled(t,r);let n=await this.buildEditCodePromptMessages(t),i=await this.ctx.get(er).updateExPValuesAndAssignments();await this.abortIfCancelled(t,r);let s=await G1.getModelConfiguration(this.ctx,"edits",t.userSelectedModel),a=G1.transformMessages(n,s.modelFamily);return await this.abortIfCancelled(t,r),await this.chatFetcher.fetchResponse({modelConfiguration:s,messages:a,uiKind:"editsPanel",intentParams:{intent:!0},temperature:.1,llmInteraction:t.toLlmInteraction()},r,i)}async buildEditCodePromptMessages(t){let r=t.currentTurn,n=await G1.getModelConfiguration(this.ctx,"edits",t.userSelectedModel);return await new TU({userMessage:r.request.message,workspaceFolder:r.workspaceFolder,workingSet:r.workingSet,userLanguage:t.editConversation.getUserLanguage(),textDocumentProvider:new Ay(this.ctx),modelName:n.uiName}).render()}async abortIfCancelled(t,r){if(r.isCancellationRequested)throw t.currentTurn.status="cancelled",t.currentTurn.response={message:$2,type:"user"},new py;this.ctx.get(Fa).get(t.editConversationId)}async parseAndSendProgressBack(t,r,n){try{let i=xRe(r),s=new xU(this.ctx),a=o(async u=>q1.pathToUri(t,u),"createUri"),l=[],c=IRe(r);c&&await this.ctx.get(bl).reportTurn(t,{fileGenerationStatus:"overall-description-generated",editDescription:c}),await this.abortIfCancelled(t,n);for await(let u of bRe(i,a))l.push(s.mapCode(u,t,n));await Promise.all(l),l.length===0&&await this.reportNoCodeBlocks(t,r)}catch(i){if(i instanceof gy||i instanceof xb)t.currentTurn.status="error",t.currentTurn.response={message:i.message,type:"meta"},await this.reportEnd(t,{message:i.message});else if(i instanceof py)t.currentTurn.status="cancelled",t.currentTurn.response={message:$2,type:"user"},await this.reportEnd(t,{message:$2});else throw i}}async reportNoCodeBlocks(t,r){await this.ctx.get(bl).reportTurn(t,{fileGenerationStatus:"no-code-blocks-found",rawResponse:r})}async reportBegin(t){await this.ctx.get(bl).reportTurn(t,{fileGenerationStatus:"edit-conversation-begin"})}async reportEnd(t,r){await this.ctx.get(bl).reportTurn(t,{fileGenerationStatus:"edit-conversation-end",error:r})}};d();var _Re="github.com",wRe=`https://${_Re}`,v8=class extends Rn{constructor(r,n=wRe,i=process.env){super();this.env=i;this.validateBaseUrl(r,n)&&this.recalculateUrlDefaults(n),Ha(r,s=>this.onCopilotToken(r,s))}static{o(this,"DefaultNetworkConfiguration")}onCopilotToken(r,n){this.updateServiceEndpoints(r,n.envelope.endpoints)}getLastKnownEndpointUrl(r,n){return this.join((this.lastEndpoints??MD)[r],n)}isGitHubEnterprise(){return this.isEnterprise}getAuthAuthority(){return this.baseUrlObject.host}getAPIUrl(r){return this.join(this.apiUrl,r)}getTokenUrl(r){return r.devOverride?.copilotTokenUrl??this.tokenUrl}getNotificationUrl(r){return r.devOverride?.notificationUrl??this.notificationUrl}getContentRestrictionsUrl(r){return r.devOverride?.contentRestrictionsUrl??this.contentRestrictionsUrl}getBlackbirdIndexingStatusUrl(){return this.blackbirdIndexingStatusUrl}getLoginReachabilityUrl(){return this.loginReachabilityUrl}getDeviceFlowStartUrl(){return this.deviceFlowStartUrl}getDeviceFlowCompletionUrl(){return this.deviceFlowCompletionUrl}getSignUpLimitedUrl(){return this.signUpLimitedUrl}getUserInfoUrl(){return this.userInfoUrl}getTelemetryUrl(r){return this.join(this.telemetryUrl,r)}setTelemetryUrlForTesting(r){this.telemetryUrl=r}getExperimentationUrl(r){return this.join(this.experimentationUrl,r)}validateBaseUrl(r,n){return this.isPermittedUrl(r,n)?!0:(r.get(fl).showWarningMessage(`Ignoring invalid or unsupported authentication URL "${n}".`),!1)}updateBaseUrl(r,n){n||=wRe;let i=this.baseUrlObject;this.validateBaseUrl(r,n)&&this.withTelemetryReInitialization(r,()=>{this.recalculateUrlDefaults(n),i.href!==this.baseUrlObject.href&&r.get(jr).resetToken()})}updateBaseUrlFromTokenEndpoint(r,n){try{let i=new URL(n);i.hostname.startsWith("api.")?this.updateBaseUrl(r,`https://${i.hostname.substring(4)}`):this.updateBaseUrl(r)}catch{this.updateBaseUrl(r)}}updateServiceEndpoints(r,n){this.lastEndpoints=n,n&&this.isPermittedUrl(r,n.telemetry)&&this.withTelemetryReInitialization(r,()=>{this.telemetryUrl=this.join(n.telemetry,"telemetry"),this.experimentationUrl=this.join(n.telemetry,"telemetry")})}withTelemetryReInitialization(r,n){let i=this.telemetryUrl;if(n(),i===this.telemetryUrl)return;let s=r.get(yu);s.isInitialized&&s.reInitialize(r)}recalculateUrlDefaults(r){let n=this.parseUrls(r);this.baseUrlObject=n.base;let i=n.api;this.isEnterprise=this.baseUrlObject.host!==_Re,this.apiUrl=i.href,this.tokenUrl=this.join(i.href,"/copilot_internal/v2/token"),this.notificationUrl=this.join(i.href,"/copilot_internal/notification"),this.contentRestrictionsUrl=this.join(i.href,"/copilot_internal/content_exclusion"),this.blackbirdIndexingStatusUrl=this.join(i.href,"/copilot_internal/check_indexing_status"),this.loginReachabilityUrl=this.join(this.baseUrlObject.href,"/login/device"),this.deviceFlowStartUrl=this.join(this.baseUrlObject.href,"/login/device/code"),this.deviceFlowCompletionUrl=this.join(this.baseUrlObject.href,"/login/oauth/access_token"),this.userInfoUrl=this.join(i.href,"/user"),this.signUpLimitedUrl=this.join(i.href,"/copilot_internal/subscribe_limited_user"),this.telemetryUrl=this.join(this.isEnterprise?this.prefixWith("copilot-telemetry-service.",this.baseUrlObject).href:MD.telemetry,"/telemetry"),this.experimentationUrl=this.telemetryUrl}parseUrls(r){if(this.env.CODESPACES==="true"&&this.env.GITHUB_TOKEN&&this.env.GITHUB_SERVER_URL&&this.env.GITHUB_API_URL)try{return{base:new URL(this.env.GITHUB_SERVER_URL),api:new URL(this.env.GITHUB_API_URL)}}catch{}let n=new URL(r),i=this.prefixWith("api.",n);return{base:n,api:i}}isPermittedUrl(r,n){return this.isValidUrl(n)&&this.hasSupportedProtocol(r,n)}isValidUrl(r){try{if(r)return new URL(r),!0}catch{}return!1}hasSupportedProtocol(r,n){let i=new URL(n).protocol;return i==="https:"||!OD(r)&&i==="http:"}join(r,n){return n?new URL(n,r).href:r}prefixWith(r,n){return new URL(`${n.protocol}//${r}${n.host}`)}};d();var N$r=new Er("exp");function SRe(e){let t=e.get(er);t.registerStaticFilters(fbt(e)),t.registerDynamicFilter("X-Copilot-OverrideEngine",()=>ai(e,qt.DebugOverrideEngine)||ai(e,qt.DebugOverrideEngineLegacy)),t.registerDynamicFilter("X-VSCode-ExtensionName",()=>e.get(an).getEditorPluginInfo().name),t.registerDynamicFilter("X-VSCode-ExtensionVersion",()=>goe(!e.get(io).isProduction()&&e.get(an).getEditorPluginInfo().name==="copilot"?"1.999.0":e.get(an).getEditorPluginInfo().version)),t.registerDynamicFilter("X-VSCode-ExtensionRelease",()=>cbt(e)),t.registerDynamicFilter("X-VSCode-Build",()=>e.get(an).getEditorInfo().name),t.registerDynamicFilter("X-VSCode-AppVersion",()=>goe(e.get(an).getEditorInfo().version)),t.registerDynamicFilter("X-VSCode-TargetPopulation",()=>ubt(e)),t.registerDynamicFilterGroup(()=>{let r={};for(let n of e.get(an).getRelatedPluginInfo()){let i=Ef+n.name.replace(/[^A-Za-z]/g,"").toLowerCase();if(!Object.values(O9).includes(i)){JD(e,{reason:`A filter could not be registered for the unrecognized related plugin "${n.name}".`});continue}r[i]=goe(n.version)}return r})}o(SRe,"setupExperimentationService");function cbt(e){let t=e.get(an).getEditorPluginInfo();return t.name==="copilot"&&Qf(e)==="nightly"||t.name==="copilot-intellij"&&t.version.endsWith("nightly")?"nightly":"stable"}o(cbt,"getPluginRelease");function ubt(e){let t=e.get(an).getEditorInfo();return t.name==="vscode"&&t.version.endsWith("-insider")?"insider":"public"}o(ubt,"getTargetPopulation");function fbt(e){return dbt(e)}o(fbt,"createAllFilters");function dbt(e){let t=e.get(ds);return{"X-MSEdge-ClientId":t.machineId,"X-Copilot-ClientVersion":dC(e)}}o(dbt,"createDefaultFilters");function goe(e){return e.split("-")[0]}o(goe,"trimVersionSuffix");d();d();var b8=class e{static{o(this,"TextEdit")}static isTextEdit(t){return t instanceof e?!0:t?Hc.isRange(t)&&typeof t.newText=="string":!1}static replace(t,r){return new e(t,r)}static insert(t,r){return e.replace(new Hc(t,t),r)}static delete(t){return e.replace(t,"")}static setEndOfLine(t){let r=new e(new Hc(new mo(0,0),new mo(0,0)),"");return r.newEol=t,r}get range(){return this._range}set range(t){if(t&&!Hc.isRange(t))throw Cy("range");this._range=t}get newText(){return this._newText||""}set newText(t){if(t&&typeof t!="string")throw Cy("newText");this._newText=t}get newEol(){return this._newEol}set newEol(t){if(t&&typeof t!="number")throw Cy("newEol");this._newEol=t}constructor(t,r){this._range=t,this._newText=r}toJSON(){return{range:this.range,newText:this.newText,newEol:this._newEol}}};var mo=class e{static{o(this,"Position")}static Min(...t){if(t.length===0)throw new TypeError;let r=t[0];for(let n=1;n<t.length;n++){let i=t[n];i.isBefore(r)&&(r=i)}return r}static Max(...t){if(t.length===0)throw new TypeError;let r=t[0];for(let n=1;n<t.length;n++){let i=t[n];i.isAfter(r)&&(r=i)}return r}static isPosition(t){if(!t)return!1;if(t instanceof e)return!0;let{line:r,character:n}=t;return typeof r=="number"&&typeof n=="number"}get line(){return this._line}get character(){return this._character}constructor(t,r){if(t<0)throw Cy("line must be non-negative");if(r<0)throw Cy("character must be non-negative");this._line=t,this._character=r}isBefore(t){return this._line<t._line?!0:t._line<this._line?!1:this._character<t._character}isBeforeOrEqual(t){return this._line<t._line?!0:t._line<this._line?!1:this._character<=t._character}isAfter(t){return!this.isBeforeOrEqual(t)}isAfterOrEqual(t){return!this.isBefore(t)}isEqual(t){return this._line===t._line&&this._character===t._character}compareTo(t){return this._line<t._line?-1:this._line>t.line?1:this._character<t._character?-1:this._character>t._character?1:0}translate(t,r=0){if(t===null||r===null)throw Cy();let n;return typeof t>"u"?n=0:typeof t=="number"?n=t:(n=typeof t.lineDelta=="number"?t.lineDelta:0,r=typeof t.characterDelta=="number"?t.characterDelta:0),n===0&&r===0?this:new e(this.line+n,this.character+r)}with(t,r=this.character){if(t===null||r===null)throw Cy();let n;return typeof t>"u"?n=this.line:typeof t=="number"?n=t:(n=typeof t.line=="number"?t.line:this.line,r=typeof t.character=="number"?t.character:this.character),n===this.line&&r===this.character?this:new e(n,r)}toJSON(){return{line:this.line,character:this.character}}[Symbol.for("debug.description")](){return`(${this.line}:${this.character})`}},Hc=class e{static{o(this,"Range")}static isRange(t){return t instanceof e?!0:t?mo.isPosition(t.start)&&mo.isPosition(t.end):!1}get start(){return this._start}get end(){return this._end}constructor(t,r,n,i){let s,a;if(typeof t=="number"&&typeof r=="number"&&typeof n=="number"&&typeof i=="number"?(s=new mo(t,r),a=new mo(n,i)):mo.isPosition(t)&&mo.isPosition(r)&&(s=t,a=r),!s||!a)throw new Error("Invalid arguments");s.isBefore(a)?(this._start=s,this._end=a):(this._start=a,this._end=s)}contains(t){return e.isRange(t)?this.contains(t.start)&&this.contains(t.end):mo.isPosition(t)?!(t.isBefore(this._start)||this._end.isBefore(t)):!1}isEqual(t){return this._start.isEqual(t._start)&&this._end.isEqual(t._end)}intersection(t){let r=mo.Max(t.start,this._start),n=mo.Min(t.end,this._end);if(!r.isAfter(n))return new e(r,n)}union(t){if(this.contains(t))return this;if(t.contains(this))return t;let r=mo.Min(t.start,this._start),n=mo.Max(t.end,this.end);return new e(r,n)}get isEmpty(){return this._start.isEqual(this._end)}get isSingleLine(){return this._start.line===this._end.line}with(t,r=this.end){if(t===null||r===null)throw Cy();let n;return t?mo.isPosition(t)?n=t:(n=t.start||this.start,r=t.end||this.end):n=this.start,n.isEqual(this._start)&&r.isEqual(this.end)?this:new e(n,r)}toJSON(){return[this.start,this.end]}[Symbol.for("debug.description")](){return mbt(this)}};function Cy(e){return e?new Error(`Illegal argument: ${e}`):new Error("Illegal argument")}o(Cy,"illegalArgument");function mbt(e){return e.isEmpty?`[${e.start.line}:${e.start.character})`:`[${e.start.line}:${e.start.character} -> ${e.end.line}:${e.end.character})`}o(mbt,"getDebugDescriptionOfRange");d();d();var hbt="X-Initiator",pbt="X-Interaction-ID",gbt="X-Interaction-Type";var kU=class{static{o(this,"LlmInteractionInitiator")}static id(){throw new Error("Must be implemented by subclass")}},Aoe=class extends kU{static{o(this,"User")}static id(){return"user"}},yoe=class extends kU{static{o(this,"Agent")}static id(){return"agent"}},Coe=class{static{o(this,"GenericLlmInteraction")}constructor(t,r,n){this.initiator=t.id(),this.interactionType=r,this.interactionId=n}toCapiHeaders(){return{[hbt]:this.initiator,[pbt]:this.interactionId,[gbt]:this.interactionType.toString()}}},Y0=class e extends Coe{static{o(this,"LlmInteraction")}static user(t,r){return new e(Aoe,t,r)}static agent(t,r){return new e(yoe,t,r)}};d();d();d();var $m;(i=>{i.serviceIds=new Map,i.DI_TARGET="$di$target",i.DI_DEPENDENCIES="$di$dependencies";function n(s){return s[i.DI_DEPENDENCIES]||[]}i.getServiceDependencies=n,o(n,"getServiceDependencies")})($m||={});var Up=zm("instantiationService");function Abt(e,t,r){t[$m.DI_TARGET]===t?t[$m.DI_DEPENDENCIES].push({id:e,index:r}):(t[$m.DI_DEPENDENCIES]=[{id:e,index:r}],t[$m.DI_TARGET]=t)}o(Abt,"storeServiceDependency");function zm(e){if($m.serviceIds.has(e))return $m.serviceIds.get(e);let t=o(function(r,n,i){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");Abt(t,r,i)},"id");return t.toString=()=>e,$m.serviceIds.set(e,t),t}o(zm,"createDecorator");d();d();var Ku=class{static{o(this,"SyncDescriptor")}constructor(t,r=[],n=!1){this.ctor=t,this.staticArguments=r,this.supportsDelayedInstantiation=n}};d();var Eoe=class{constructor(t,r){this.key=t;this.data=r;this.incoming=new Map;this.outgoing=new Map}static{o(this,"Node")}},A_=class{constructor(t){this._hashFn=t;this._nodes=new Map}static{o(this,"Graph")}roots(){let t=[];for(let r of this._nodes.values())r.outgoing.size===0&&t.push(r);return t}insertEdge(t,r){let n=this.lookupOrInsertNode(t),i=this.lookupOrInsertNode(r);n.outgoing.set(i.key,i),i.incoming.set(n.key,n)}removeNode(t){let r=this._hashFn(t);this._nodes.delete(r);for(let n of this._nodes.values())n.outgoing.delete(r),n.incoming.delete(r)}lookupOrInsertNode(t){let r=this._hashFn(t),n=this._nodes.get(r);return n||(n=new Eoe(r,t),this._nodes.set(r,n)),n}lookup(t){return this._nodes.get(this._hashFn(t))}isEmpty(){return this._nodes.size===0}toString(){let t=[];for(let[r,n]of this._nodes)t.push(`${r}
	(-> incoming)[${[...n.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...n.outgoing.keys()].join(",")}]
`);return t.join(`
`)}findCycleSlow(){for(let[t,r]of this._nodes){let n=new Set([t]),i=this._findCycle(r,n);if(i)return i}}_findCycle(t,r){for(let[n,i]of t.outgoing){if(r.has(n))return[...r,n].join(" -> ");r.add(n);let s=this._findCycle(i,r);if(s)return s;r.delete(n)}}};d();var $4=class{constructor(...t){this._entries=new Map;for(let[r,n]of t)this.set(r,n)}static{o(this,"ServiceCollection")}set(t,r){let n=this._entries.get(t);return this._entries.set(t,r),n}has(t){return this._entries.has(t)}get(t){return this._entries.get(t)}};var ybt=!1,RU=class extends Error{static{o(this,"CyclicDependencyError")}constructor(t){super("cyclic dependency between services"),this.message=t.findCycleSlow()??`UNABLE to detect cycle, dumping graph: 
${t.toString()}`}},DU=class e{constructor(t=new $4,r=!1,n,i=ybt){this._services=t;this._strict=r;this._parent=n;this._enableTracing=i;this._isDisposed=!1;this._servicesToMaybeDispose=new Set;this._children=new Set;this._activeInstantiations=new Set;this._services.set(Up,this),this._globalGraph=i?n?._globalGraph??new A_(s=>s):void 0}static{o(this,"InstantiationService")}dispose(){if(!this._isDisposed){this._isDisposed=!0,FL(this._children),this._children.clear();for(let t of this._servicesToMaybeDispose)vve(t)&&t.dispose();this._servicesToMaybeDispose.clear()}}_throwIfDisposed(){if(this._isDisposed)throw new Error("InstantiationService has been disposed")}createChild(t,r){this._throwIfDisposed();let n=this,i=new class extends e{dispose(){n._children.delete(i),super.dispose()}}(t,this._strict,this,this._enableTracing);return this._children.add(i),r?.add(i),i}invokeFunction(t,...r){this._throwIfDisposed();let n=y_.traceInvocation(this._enableTracing,t),i=!1;try{return t({get:o(a=>{if(i)throw ave("service accessor is only valid during the invocation of its target method");let l=this._getOrCreateServiceInstance(a,n);if(!l)throw new Error(`[invokeFunction] unknown service '${a}'`);return l},"get")},...r)}finally{i=!0,n.stop()}}createInstance(t,...r){this._throwIfDisposed();let n,i;return t instanceof Ku?(n=y_.traceCreation(this._enableTracing,t.ctor),i=this._createInstance(t.ctor,t.staticArguments.concat(r),n)):(n=y_.traceCreation(this._enableTracing,t),i=this._createInstance(t,r,n)),n.stop(),i}_createInstance(t,r=[],n){let i=$m.getServiceDependencies(t).sort((l,c)=>l.index-c.index),s=[];for(let l of i){let c=this._getOrCreateServiceInstance(l.id,n);c||this._throwIfStrict(`[createInstance] ${t.name} depends on UNKNOWN service ${l.id}.`,!1),s.push(c)}let a=i.length>0?i[0].index:r.length;if(r.length!==a){console.trace(`[createInstance] First service dependency of ${t.name} at position ${a+1} conflicts with ${r.length} static arguments`);let l=a-r.length;l>0?r=r.concat(new Array(l)):r=r.slice(0,a)}return Reflect.construct(t,r.concat(s))}_setCreatedServiceInstance(t,r){if(this._services.get(t)instanceof Ku)this._services.set(t,r);else if(this._parent)this._parent._setCreatedServiceInstance(t,r);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(t){let r=this._services.get(t);return!r&&this._parent?this._parent._getServiceInstanceOrDescriptor(t):r}_getOrCreateServiceInstance(t,r){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(t));let n=this._getServiceInstanceOrDescriptor(t);return n instanceof Ku?this._safeCreateAndCacheServiceInstance(t,n,r.branch(t,!0)):(r.branch(t,!1),n)}_safeCreateAndCacheServiceInstance(t,r,n){if(this._activeInstantiations.has(t))throw new Error(`illegal state - RECURSIVELY instantiating service '${t}'`);this._activeInstantiations.add(t);try{return this._createAndCacheServiceInstance(t,r,n)}finally{this._activeInstantiations.delete(t)}}_createAndCacheServiceInstance(t,r,n){let i=new A_(c=>c.id.toString()),s=0,a=[{id:t,desc:r,_trace:n}],l=new Set;for(;a.length;){let c=a.pop();if(!l.has(String(c.id))){if(l.add(String(c.id)),i.lookupOrInsertNode(c),s++>1e3)throw new RU(i);for(let u of $m.getServiceDependencies(c.desc.ctor)){let f=this._getServiceInstanceOrDescriptor(u.id);if(f||this._throwIfStrict(`[createInstance] ${t} depends on ${u.id} which is NOT registered.`,!0),this._globalGraph?.insertEdge(String(c.id),String(u.id)),f instanceof Ku){let m={id:u.id,desc:f,_trace:c._trace.branch(u.id,!0)};i.insertEdge(c,m),a.push(m)}}}}for(;;){let c=i.roots();if(c.length===0){if(!i.isEmpty())throw new RU(i);break}for(let{data:u}of c){if(this._getServiceInstanceOrDescriptor(u.id)instanceof Ku){let m=this._createServiceInstanceWithOwner(u.id,u.desc.ctor,u.desc.staticArguments,u.desc.supportsDelayedInstantiation,u._trace);this._setCreatedServiceInstance(u.id,m)}i.removeNode(u)}}return this._getServiceInstanceOrDescriptor(t)}_createServiceInstanceWithOwner(t,r,n=[],i,s){if(this._services.get(t)instanceof Ku)return this._createServiceInstance(t,r,n,i,s,this._servicesToMaybeDispose);if(this._parent)return this._parent._createServiceInstanceWithOwner(t,r,n,i,s);throw new Error(`illegalState - creating UNKNOWN service instance ${r.name}`)}_createServiceInstance(t,r,n=[],i,s,a){if(i)throw new Error("Delayed instantiation not supported");{let l=this._createInstance(r,n,s);return a.add(l),l}}_throwIfStrict(t,r){if(r&&console.warn(t),this._strict)throw new Error(t)}};var y_=class e{constructor(t,r){this.type=t;this.name=r;this._start=Date.now();this._dep=[]}static{o(this,"Trace")}static{this.all=new Set}static{this._None=new class extends e{constructor(){super(0,null)}stop(){}branch(){return this}}}static traceInvocation(t,r){return t?new e(2,r.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):e._None}static traceCreation(t,r){return t?new e(1,r.name):e._None}static{this._totals=0}branch(t,r){let n=new e(3,t.toString());return this._dep.push([t,r,n]),n}stop(){let t=Date.now()-this._start;e._totals+=t;let r=!1;function n(s,a){let l=[],c=new Array(s+1).join("	");for(let[u,f,m]of a._dep)if(f&&m){r=!0,l.push(`${c}CREATES -> ${u}`);let h=n(s+1,m);h&&l.push(h)}else l.push(`${c}uses -> ${u}`);return l.join(`
`)}o(n,"printChild");let i=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${n(1,this)}`,`DONE, took ${t.toFixed(2)}ms (grand total ${e._totals.toFixed(2)}ms)`];(t>2||r)&&e.all.add(i.join(`
`))}};var PU=class{constructor(t){this._isSealed=!1;this._collection=Array.isArray(t)?new $4(...t):t??new $4}static{o(this,"InstantiationServiceBuilder")}define(t,r){if(this._isSealed)throw new Error("This accessor is sealed and cannot be modified anymore.");this._collection.set(t,r)}seal(){if(this._isSealed)throw new Error("This accessor is sealed and cannot be seal again anymore.");return this._isSealed=!0,new DU(this._collection,!0)}};var H1=zm("IParserService");d();var NU=zm("ISnippyService");d();d();var C_=new RegExp("[_\\p{L}\\p{Nd}]+|====+|----+|####+|////+|\\*\\*\\*\\*+|[\\p{P}\\p{S}]","gu"),FU=65;function Cbt(e){let t=0,r;C_.lastIndex=0;do if(r=C_.exec(e),r&&(t+=1),t>=FU)break;while(r);return t}o(Cbt,"lexemeLength");function Ebt(e,t){let r=0,n;C_.lastIndex=0;do if(n=C_.exec(e),n&&(r+=1,r>=t))return C_.lastIndex;while(n);return e.length}o(Ebt,"offsetFirstLexemes");function BRe(e,t){let r=e.split("").reverse().join(""),n=Ebt(r,t);return r.length-n}o(BRe,"offsetLastLexemes");function xoe(e){return Cbt(e)>=FU}o(xoe,"hasMinLexemeLength");d();d();d();var fa;(n=>{function e(i){return new voe(i)}n.ok=e,o(e,"ok");function t(i){return new boe(i)}n.error=t,o(t,"error");function r(i){return n.error(new Error(i))}n.fromString=r,o(r,"fromString")})(fa||={});var voe=class e{constructor(t){this.val=t}static{o(this,"ResultOk")}map(t){return new e(t(this.val))}flatMap(t){return t(this.val)}isOk(){return!0}isError(){return!1}},boe=class{constructor(t){this.err=t}static{o(this,"ResultError")}map(t){return this}flatMap(t){return this}isOk(){return!1}isError(){return!0}};var kRe;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.matched_source=="string"&&typeof r.occurrences=="string"&&typeof r.capped=="boolean"&&typeof r.cursor=="string"&&typeof r.github_url=="string"}t.is=e,o(e,"is")})(kRe||={});var Ioe;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.kind=="string"&&typeof r.reason=="string"&&typeof r.code=="number"&&typeof r.msg=="string"}t.is=e,o(e,"is")})(Ioe||={});var RRe;(t=>{function e(r){return typeof r=="object"&&r!==null&&"snippets"in r&&Array.isArray(r.snippets)&&r.snippets.every(kRe.is)}t.is=e,o(e,"is")})(RRe||={});var Toe;(t=>{function e(r){if(Ioe.is(r))return fa.error(r);if(RRe.is(r))return fa.ok(r)}t.to=e,o(e,"to")})(Toe||={});var DRe;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.commit_id=="string"&&typeof r.license=="string"&&typeof r.nwo=="string"&&typeof r.path=="string"&&typeof r.url=="string"}t.is=e,o(e,"is")})(DRe||={});var PRe;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.has_next_page=="boolean"&&typeof r.cursor=="string"}t.is=e,o(e,"is")})(PRe||={});var NRe;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.count=="object"&&Object.values(r.count).every(n=>typeof n=="string")}t.is=e,o(e,"is")})(NRe||={});var FRe;(t=>{function e(r){return typeof r=="object"&&r!==null&&"file_matches"in r&&Array.isArray(r.file_matches)&&r.file_matches.every(DRe.is)&&"page_info"in r&&PRe.is(r.page_info)&&"license_stats"in r&&NRe.is(r.license_stats)}t.is=e,o(e,"is")})(FRe||={});var woe;(t=>{function e(r){if(Ioe.is(r))return fa.error(r);if(FRe.is(r))return fa.ok(r)}t.to=e,o(e,"to")})(woe||={});var LU=class e{static{o(this,"SnippyFetchService")}static{this.TWIRP_URL="twirp/github.snippy.v1.SnippyAPI"}constructor(t){this.ctx=t}async fetchMatch(t){let r={source:t};return this.fetch("Match",r,Toe.to)}async fetchFilesForMatch(t){let r={cursor:t};return this.fetch("FilesForMatch",r,woe.to)}async fetch(t,r,n){let i=this.ctx.get(Nr),s=await this.ctx.get(jr).getToken(),a=Pv(this.ctx,s,"origin-tracker",`${e.TWIRP_URL}/${t}`),l={Authorization:`Bearer ${s.token}`,...n0(this.ctx)},c=i.makeAbortController(),u=await i.fetch(a,{method:"POST",headers:l,json:r,signal:c.signal});if(!u.ok)throw new Error(`Failed with status ${u.status} and body: ${await u.text()}`);let f=await u.json();return n(f)}};var LRe=new Er("[CODE REFERENCING]"),I8=class{constructor(t,r){this.instantiationService=r;this.ctx=t,this.fetcher=this.instantiationService.createInstance(LU,this.ctx)}static{o(this,"SnippyService")}async handlePostInsertion(t,r,n){let i=this.computeSourceToCheck(r,n);if(!i)return;let a=await this.ctx.get(Wr).getOpenTextDocument({uri:t.toString()});if(!a){LRe.error(this.ctx,"Unable to raise IP code citation notification: could not determine document version.");return}let l=a.version,c;try{c=await this.fetcher.fetchMatch(i.source)}catch(p){throw p}if(!c)throw new Error(`Failed to parse match response: ${c}`);if(c.isError())throw new Error(`Failed to match: ${c.err}`);if(c.val.snippets.length===0)return;let{snippets:u}=c.val,f=u.map(async p=>{let A=await this.fetcher.fetchFilesForMatch(p.cursor);if(!A||A.isError())return;let{file_matches:E,license_stats:x}=A.val;return{match:p,files:E,licenseStats:x}}),h=(await Promise.all(f)).filter(p=>!!p);if(h.length===0){LRe.error(this.ctx,"Should never happen as per https://github.com/github/copilot-client/blob/34cae5c581d662525eb3305d58f0762e952f866d/extension/src/codeReferencing/handlePostInsertion.ts#L138");return}for(let p of h){let A=new Set(Object.keys(p.licenseStats?.count??{}));A.delete("NOASSERTION")&&A.add("unknown");let E=Array.from(A).sort(),x=`${p.match.matched_source.slice(0,100).replace(/[\r\n\t]+|^[ \t]+/gm," ").trim()}...`,b={inDocumentUri:t.toString(),offsetStart:i.startOffset,offsetEnd:i.endOffset,matchingText:x,location:{start:{line:i.startPosition.lineNumber,character:i.startPosition.column},end:{line:i.endPosition.lineNumber,character:i.endPosition.column}},version:l,details:E.map(v=>({license:v,url:`${p.match.github_url}`}))};await this.ctx.get(Bu).handleIPCodeCitation(this.ctx,b)}}computeSourceToCheck(t,r){if(r.newText==="")return;let n=rs.single(r),s=n.getNewRanges().reduce((h,p)=>h.join(p)),a=t.apply(n),l=s.start,c=a.value.substring(s.start,s.endExclusive);if(!xoe(c)){let h=a.value.slice(0,s.start),p=BRe(h,FU);l=p,c=a.value.slice(p,s.start+r.newText.length)}if(!xoe(c))return;let u=a.getTransformer(),f=u.getPosition(l),m=u.getPosition(s.endExclusive);return{source:c,startOffset:l,endOffset:s.endExclusive,startPosition:f,endPosition:m}}};I8=ru([Aa(1,Up)],I8);d();var E_=zm("ITokenizerProvider");d();d();d();var bbt=Symbol("MicrotaskDelay");function Ibt(e){let t=new h1,r=e(t.token),n=new Promise((i,s)=>{let a=t.token.onCancellationRequested(()=>{a.dispose(),s(new fp)});Promise.resolve(r).then(l=>{a.dispose(),t.dispose(),i(l)},l=>{a.dispose(),t.dispose(),s(l)})});return new class{cancel(){t.cancel(),t.dispose()}then(i,s){return n.then(i,s)}catch(i){return this.then(void 0,i)}finally(i){return n.finally(i)}}}o(Ibt,"createCancelablePromise");function z4(e,t){return t?new Promise((r,n)=>{let i=setTimeout(()=>{s.dispose(),r()},e),s=t.onCancellationRequested(()=>{clearTimeout(i),s.dispose(),n(new fp)})}):Ibt(r=>z4(e,r))}o(z4,"timeout");var QU=class{constructor(t,r){this._isDisposed=!1;this._token=-1,typeof t=="function"&&typeof r=="number"&&this.setIfNotSet(t,r)}static{o(this,"TimeoutTimer")}dispose(){this.cancel(),this._isDisposed=!0}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(t,r){if(this._isDisposed)throw new gi("Calling 'cancelAndSet' on a disposed TimeoutTimer");this.cancel(),this._token=setTimeout(()=>{this._token=-1,t()},r)}setIfNotSet(t,r){if(this._isDisposed)throw new gi("Calling 'setIfNotSet' on a disposed TimeoutTimer");this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,t()},r))}};var x_=class{static{o(this,"DeferredPromise")}get isRejected(){return this.outcome?.outcome===1}get isResolved(){return this.outcome?.outcome===0}get isSettled(){return!!this.outcome}get value(){return this.outcome?.outcome===0?this.outcome?.value:void 0}constructor(){this.p=new Promise((t,r)=>{this.completeCallback=t,this.errorCallback=r})}complete(t){return new Promise(r=>{this.completeCallback(t),this.outcome={outcome:0,value:t},r()})}error(t){return new Promise(r=>{this.errorCallback(t),this.outcome={outcome:1,value:t},r()})}cancel(){return this.error(new fp)}},Tbt;(r=>{async function e(n){let i,s=await Promise.all(n.map(a=>a.then(l=>l,l=>{i||(i=l)})));if(typeof i<"u")throw i;return s}r.settled=e,o(e,"settled");function t(n){return new Promise(async(i,s)=>{try{await n(i,s)}catch(a){s(a)}})}r.withAsyncBody=t,o(t,"withAsyncBody")})(Tbt||={});var v_=class e{static{o(this,"AsyncIterableObject")}static fromArray(t){return new e(r=>{r.emitMany(t)})}static fromPromise(t){return new e(async r=>{r.emitMany(await t)})}static fromPromisesResolveOrder(t){return new e(async r=>{await Promise.all(t.map(async n=>r.emitOne(await n)))})}static merge(t){return new e(async r=>{await Promise.all(t.map(async n=>{for await(let i of n)r.emitOne(i)}))})}static{this.EMPTY=e.fromArray([])}constructor(t,r){this._state=0,this._results=[],this._error=null,this._onReturn=r,this._onStateChanged=new Nu,queueMicrotask(async()=>{let n={emitOne:o(i=>this.emitOne(i),"emitOne"),emitMany:o(i=>this.emitMany(i),"emitMany"),reject:o(i=>this.reject(i),"reject")};try{await Promise.resolve(t(n)),this.resolve()}catch(i){this.reject(i)}finally{n.emitOne=void 0,n.emitMany=void 0,n.reject=void 0}})}[Symbol.asyncIterator](){let t=0;return{next:o(async()=>{do{if(this._state===2)throw this._error;if(t<this._results.length)return{done:!1,value:this._results[t++]};if(this._state===1)return{done:!0,value:void 0};await ZC.toPromise(this._onStateChanged.event)}while(!0)},"next"),return:o(async()=>(this._onReturn?.(),{done:!0,value:void 0}),"return")}}static map(t,r){return new e(async n=>{for await(let i of t)n.emitOne(r(i))})}map(t){return e.map(this,t)}static filter(t,r){return new e(async n=>{for await(let i of t)r(i)&&n.emitOne(i)})}filter(t){return e.filter(this,t)}static coalesce(t){return e.filter(t,r=>!!r)}coalesce(){return e.coalesce(this)}static async toPromise(t){let r=[];for await(let n of t)r.push(n);return r}toPromise(){return e.toPromise(this)}emitOne(t){this._state===0&&(this._results.push(t),this._onStateChanged.fire())}emitMany(t){this._state===0&&(this._results=this._results.concat(t),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(t){this._state===0&&(this._state=2,this._error=t,this._onStateChanged.fire())}};var MU=class{constructor(t){this._deferred=new x_;this._asyncIterable=new v_(i=>{if(r){i.reject(r);return}return n&&i.emitMany(n),this._errorFn=s=>i.reject(s),this._emitFn=s=>i.emitOne(s),this._deferred.p},t);let r,n;this._emitFn=i=>{n||(n=[]),n.push(i)},this._errorFn=i=>{r||(r=i)}}static{o(this,"AsyncIterableSource")}get asyncIterable(){return this._asyncIterable}resolve(){this._deferred.complete()}reject(t){this._errorFn(t),this._deferred.complete()}emitOne(t){this._emitFn(t)}};var UU=zm("ITelemetrySender"),V1=zm("IChatMLFetcher");var OU=class{constructor(){this._stream=new MU;this._seenAnnotationTypes=new Set}static{o(this,"FetchStreamSource")}get stream(){return this._stream.asyncIterable}update(t,r){r.codeVulnAnnotations&&(!((t.match(/(^|\n)```/g)?.length??0)%2===1)||t.match(/(^|\n)```\w*\s*$/))&&(r.codeVulnAnnotations=void 0),r.codeVulnAnnotations&&(r.codeVulnAnnotations=r.codeVulnAnnotations.filter(n=>!this._seenAnnotationTypes.has(n.details.type)),r.codeVulnAnnotations.forEach(n=>this._seenAnnotationTypes.add(n.details.type))),this._stream.emitOne({text:t,delta:r})}resolve(){this._stream.resolve()}};async function QRe(e){let t=new PU;return t.define(UU,new _oe(e)),t.define(H1,new Ku(Soe,[!0])),t.define(NU,new Ku(I8,[e])),t.define(V1,await Boe.Create(e)),t.define(E_,new Ku(koe)),t.seal()}o(QRe,"createInstantiationService");var _oe=class{constructor(t){this.ctx=t;this.ctx=t}static{o(this,"TelemetrySender")}sendTelemetryEvent(t,r,n){let i=Object.fromEntries(Object.entries(r??{}).filter(([l,c])=>c!==void 0)),s=Object.fromEntries(Object.entries(n??{}).filter(([l,c])=>c!==void 0)),a=rn.createAndMarkAsIssued(i,s);Xt(this.ctx,t,a)}},Soe=class{static{o(this,"ParserServiceImpl")}getTreeSitterAST(t){}},Boe=class e{constructor(t,r){this.modelConfiguration=r;this.fetcher=new ua(t)}static{o(this,"CLSChatMLFetcher")}static async Create(t){let r=await t.get(Xn).getBestChatModelConfig([Qi.Gpt4oMini]);return new e(t,r)}get tokenBudget(){return this.modelConfiguration.maxRequestTokens}get tokenizerName(){return this.modelConfiguration.tokenizer}async fetchOne(t,r,n){let i=t.map(a=>e.chatMessageToClsChatMessage(a)),s=await this.fetcher.fetchResponse({modelConfiguration:this.modelConfiguration,messages:i,uiKind:"conversationPanel",intentParams:{intent:!0},llmInteraction:Y0.user("nextEditSuggestions",Tr())},n,Jg.createEmptyConfigForTesting());if(s.type==="success"){let a={type:"success",value:s.value,requestId:s.requestId,serverRequestId:void 0,usage:void 0};return r&&await r(a.value,0,{text:a.value}),a}else return{type:e.clsResponseTypeToResponseType(s.type),reason:s.type,requestId:s.requestId,serverRequestId:void 0}}static chatMessageToClsChatMessage(t){switch(t.role){case"system":return{role:"system",content:t.content};case"user":if(typeof t.content!="string")throw new Error("User message content must be a string");return{role:"user",content:t.content};default:throw new Error(`Unsupported chat role: ${t.role}`)}}static clsResponseTypeToResponseType(t){switch(t){case"success":return"success";case"successMultiple":return"success";case"offTopic":return"offTopic";case"canceled":return"canceled";case"filtered":return"filtered";case"length":return"length";case"failed":return"failed";case"agentAuthRequired":return"agent_unauthorized";default:return"unknown"}}},koe=class e{constructor(){this.tokenizers=new Map;this.cl100kTokenizer=new qU("cl100k_base")}static{o(this,"CLSTokenizerProvider")}acquireTokenizer(t){let r=this.tokenizers.get(t.tokenizer);return r||(r=new qU(e.typeToName(t.tokenizer)),this.tokenizers.set(t.tokenizer,r)),r}static typeToName(t){switch(t){case"cl100k_base":return"cl100k_base";case"o200k_base":return"o200k_base";case"llama3":throw new Error("Llama3 tokenizer is not supported");default:throw new Error(`Unknown tokenizer type: ${t}`)}}},qU=class{static{o(this,"CLSTokenizer")}constructor(t){this.tokenizer=_o(t)}tokenLength(t){return this.tokenizer.tokenLength(t)}countMessageTokens(t){let r=0;if(typeof t.content=="string")return this.tokenLength(t.content);if(Array.isArray(t.content))for(let n of t.content)if(n.type==="text")r+=this.tokenLength(n.text);else throw new Error(`Unsupported message content part type: ${n.type}`);else throw new Error("Unsupported message content type");return r}countMessagesTokens(t){let r=0;for(let n of t)r+=this.countMessageTokens(n);return r}countToolTokens(t){throw new Error("Method not implemented.")}};d();d();var Roe=class{constructor(t,r){this.baseDebounceTime=t;this.expectedTotalTime=r;this.providerInvocationTime=Date.now()}static{o(this,"DelaySession")}getDebounceTime(){let t=this.expectedTotalTime===void 0?this.baseDebounceTime:Math.min(this.baseDebounceTime,this.expectedTotalTime),r=Date.now()-this.providerInvocationTime;return Math.max(0,t-r)}getArtificalDelay(){if(this.expectedTotalTime===void 0)return 0;let t=Date.now()-this.providerInvocationTime;return Math.max(0,this.expectedTotalTime-t)}},GU=class{constructor(){this._recentUserActions=[]}static{o(this,"Delayer")}createDelaySession(){let n=this._getExpectedTotalTime(200);return new Roe(200,n)}handleAcceptance(){this._recordUserAction("accepted")}handleRejection(){this._recordUserAction("rejected")}_recordUserAction(t){this._recentUserActions.push({time:Date.now(),kind:t}),this._recentUserActions=this._recentUserActions.slice(-10)}_getExpectedTotalTime(t){let l=Date.now(),c=1;for(let f of this._recentUserActions){let m=l-f.time;if(m>6e5)continue;let h=Math.exp(-m/6e5),p=f.kind==="rejected"?1.5:.8;c*=1+(p-1)*h}let u=t*c;return u=Math.min(3e3,Math.max(50,u)),u}};d();d();d();var WU=class e{constructor(t){this._indexMap=t}static{o(this,"Permutation")}get arrayLength(){return this._indexMap.length}static createSortPermutation(t,r){let n=Array.from(t.keys()).sort((i,s)=>r(t[i],t[s]));return new e(n)}apply(t){if(t.length!==this.arrayLength)throw LT(`Permutation must be applied on an array of same length. Received length: ${t.length}. Expected length: ${this.arrayLength}`);return t.map((r,n)=>t[this._indexMap[n]])}mapIndexBack(t){let r=this._indexMap.at(t);if(r===void 0)throw LT(`Given index must be within original array length. Received: ${t}. Expected: 0 <= x < ${this.arrayLength}`);return r}inverse(){let t=this._indexMap.slice();for(let r=0;r<this._indexMap.length;r++)t[this._indexMap[r]]=r;return new e(t)}};d();var I_=class e{constructor(t,r){this.firstEditStrategy=t;this.maxLinesPerEdit=r}static{o(this,"StatelessNextEditOptions")}doesFitMaxLinesPerEdit(t){return this.maxLinesPerEdit===void 0||t.lineRange.length<=this.maxLinesPerEdit&&t.newLines.length<=this.maxLinesPerEdit}serialize(){return{firstEditStrategy:this.firstEditStrategy,maxLinesPerEdit:this.maxLinesPerEdit}}static deserialize(t){return new e(t.firstEditStrategy,t.maxLinesPerEdit)}},HU=class e{constructor(t,r,n,i){this.id=t;this.documents=r;this.activeDocumentIdx=n;this.options=i;this.seqid=String(++e.ID);this.cancellationTokenSource=new h1;this.liveDependentants=0;this.fetchIssued=!1;this._result=new x_;Rc(r.length>0),Rc(n>=0&&n<r.length)}static{o(this,"StatelessNextEditRequest")}static{this.ID=0}get result(){return this._result.p}setResult(t){this._result.complete(t)}setResultError(t){this._result.error(t)}hasDocument(t){return this.documents.find(r=>r.id===t)!==void 0}static deserialize(t){return new e(t.id,t.documents.map(r=>T_.deserialize(r)),t.activeDocumentIdx,I_.deserialize(t.options))}getActiveDocument(){return this.documents[this.activeDocumentIdx]}serialize(){return{id:this.id,documents:this.documents.map(t=>t.serialize()),activeDocumentIdx:this.activeDocumentIdx,options:this.options.serialize()}}toString(){return this.toMarkdown()}toMarkdown(){return`### StatelessNextEditRequest

${this.documents.map((r,n)=>` * [${n+1}/${this.documents.length}] ${n===this.activeDocumentIdx?"(active document) ":""}`+r.toMarkdown()).join(`

`)}`}},T_=class e{constructor(t,r,n,i,s,a,l,c,u,f,m,h,p=i.length,A=new Hn(1,i.length+1),E=void 0){this.id=t;this.workspaceRoot=r;this.languageId=n;this.documentLinesBeforeEdit=i;this.recentEdit=s;this.recentlyEditedInLinesAfterEditRange=a;this.documentBeforeEdits=l;this.recentEdits=c;this.documentAfterEditsNoShortening=u;this.toEditOnDocumentAfterEditsNoShortening=f;this.toOffsetOnDocumentAfterEditsNoShortening=m;this.toProjectedOffset=h;this.lineCountBeforeClipping=p;this.clippingRange=A;this.lastSelectionInAfterEdit=E;this.recentlyEditedInLinesAfterEdit=this.recentlyEditedInLinesAfterEditRange===void 0?void 0:Hn.fromRangeInclusive(this.recentlyEditedInLinesAfterEditRange);this.documentAfterEdits=new hl(this.recentEdits.apply(this.documentBeforeEdits.value));this.documentAfterEditsLines=this.documentAfterEdits.getLines()}static{o(this,"StatelessNextEditDocument")}static deserialize(t){return new e(nd.create(t.id),t.workspaceRoot?F5.parse(t.workspaceRoot):void 0,n4.create(t.languageId),t.documentLinesBeforeEdit,xs.deserialize(t.recentEdit),t.recentlyEditedInLinesAfterEditRange?li.lift(t.recentlyEditedInLinesAfterEditRange):void 0,new hl(t.documentBeforeEdits),gp.deserialize(t.recentEdits),new hl(t.documentAfterEditsNoShortening),r=>{throw new Error("Deserializing serialized document does not implement translation of line edit to edit")},r=>{throw new Error("Deserializing serialized document does not implement translation of offsets")},r=>{throw new Error("Deserializing serialized document does not implement translation of offsets")},t.lineCountBeforeClipping,Hn.deserialize(t.clippingRange))}serialize(){return{id:this.id.uri,workspaceRoot:this.workspaceRoot?.toString(),languageId:this.languageId,documentLinesBeforeEdit:this.documentLinesBeforeEdit,recentEdit:this.recentEdit.serialize(),recentlyEditedInLinesAfterEditRange:this.recentlyEditedInLinesAfterEditRange?.toJSON(),documentBeforeEdits:this.documentBeforeEdits.value,recentEdits:this.recentEdits.serialize(),documentAfterEditsNoShortening:this.documentAfterEditsNoShortening.value,lineCountBeforeClipping:this.lineCountBeforeClipping,clippingRange:this.clippingRange.serialize()}}getDisplayPath(){return this.id.uri}toString(){return this.toMarkdown()}toMarkdown(){let t=[];return t.push(`StatelessNextEditDocument: **${this.id.uri}**
`),t.push("```patch"),t.push(this.recentEdit.humanReadablePatch(this.documentLinesBeforeEdit)),t.push("```"),t.push(""),t.join(`
`)}};var Xi=class e{constructor(t,r){this.nextEdit=t;this.telemetry=r}static{o(this,"StatelessNextEditResult")}static noEdit(t,r){let n=fa.error(t),i=r.build(n);return new e(n,i)}static edit(t,r){let n=fa.ok(t),i=r.build(n);return new e(n,i)}},T8=class{constructor(t){this._request=t;this.startTime=Date.now(),this.requestUuid=t.id}static{o(this,"StatelessNextEditTelemetryBuilder")}build(t){let n=Date.now()-this.startTime,i=this._prompt?.split(`
`).length,s=this._prompt?.length,a=t.isOk(),l=t.isOk()?void 0:t.err.kind,c;if(!t.isOk())switch(t.err.kind){case"activeDocumentHasNoEdits":case"noSuggestions":break;case"gotCancelled":case"filteredOut":c=t.err.message;break;case"fetchFailure":case"uncategorized":case"unexpected":c=t.err.error.stack?t.err.error.stack:t.err.error.message;break;default:BL(t.err)}return{hadStatelessNextEditProviderCall:!0,firstEditStrategy:this._request.options.firstEditStrategy,maxLinesPerEdit:this._request.options.maxLinesPerEdit,hasNextEdit:a,noNextEditReasonKind:l,noNextEditReasonMessage:c,statelessNextEditProviderDuration:n,logProbThreshold:this._logProbThreshold,promptLineCount:i,promptCharCount:s,isDefaultEndpoint:this._isDefaultEndpoint,debounceTime:this._debounceTime,fetchStartedAt:this._fetchStartedAt,fetchTime:this._fetchTime,fetchResult:this._fetchResult,fetchError:this._fetchError,hadLowLogProbSuggestion:this._hadLowLogProbSuggestion,nonTerminatingError:this._nonTerminatingError,nEditsSuggested:this._nEditsSuggested,nextEditLogprob:this._nextEditLogProb,kthEditPicked:this._kthEditPicked,lineDistanceToMostRecentEdit:this._lineDistanceToMostRecentEdit,firstPickStrategyOverride:this._firstPickStrategyOverride}}setLogProbThreshold(t){return this._logProbThreshold=t,this}setHadLowLogProbSuggestion(t){return this._hadLowLogProbSuggestion=t,this}setPrompt(t){return this._prompt=t,this}setIsDefaultEndpoint(t){return this._isDefaultEndpoint=t,this}setDebounceTime(t){return this._debounceTime=t,this}setFetchStartedAt(){return this._fetchStartedAt=Date.now(),this}get fetchStartedAt(){return this._fetchStartedAt}setFetchResultIfNotSet(t,r){return this._fetchResult===void 0&&(this._fetchResult=t,this._fetchError=r,Rc(this._fetchStartedAt!==void 0,"fetchStartedAt must be set before setting fetchTime"),this._fetchTime=Date.now()-this._fetchStartedAt),this}get fetchResult(){return this._fetchResult}get fetchError(){return this._fetchError}get fetchTime(){return this._fetchTime}setNonTerminatingError(t){return this._nonTerminatingError=t,this}setNextEditLogProb(t){return this._nextEditLogProb=t,this}setNEditsSuggested(t){return this._nEditsSuggested=t,this}setKthEditPicked(t){return this._kthEditPicked=t,this}setLineDistanceToMostRecentEdit(t){return this._lineDistanceToMostRecentEdit=t,this}setFirstPickStrategyOverride(t){return this._firstPickStrategyOverride=t,this}};function _bt(e,...t){let r=e;for(let n of t)r=n(r);return r}o(_bt,"chainStatelessNextEditProviders");var VU=class{constructor(t,r){this.ID=t;this._providers=r;let n={ID:this.ID,provideNextEdit:o((i,s)=>this.provideNextEditBase(i,s),"provideNextEdit")};this._impl=_bt(n,...this._providers)}static{o(this,"ChainedStatelessNextEditProvider")}provideNextEdit(t,r){return this._impl.provideNextEdit(t,r)}},w8=class{constructor(t){this._baseProvider=t}static{o(this,"EditFilterAspect")}get ID(){return this._baseProvider.ID}async provideNextEdit(t,r){let n=await this._baseProvider.provideNextEdit(t,r);if(n.nextEdit.isError())return n;let i=n.nextEdit.val,s=i.permutation===void 0?i.edit.edits:i.permutation.apply(i.edit.edits),a=this.filterEdit(t.getActiveDocument(),s);if(a.length===s.length)return n;if(a.length===0)return new Xi(fa.error({kind:"filteredOut",message:"uncategorized"}),n.telemetry);let l=WU.createSortPermutation(a,w5(u=>u.lineRange.startLineNumber,_5)),c=new xs(l.apply(a));return new Xi(fa.ok({edit:c,permutation:l.inverse()}),n.telemetry)}},jU=class extends w8{static{o(this,"IgnoreTriviaWhitespaceChangesAspect")}filterEdit(t,r){return r.filter(i=>!this._isWhitespaceOnlyChange(i,t.documentAfterEditsLines))}_isWhitespaceOnlyChange(t,r){let n=t.lineRange.toOffsetRange().slice(r),i=t.newLines;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++){let a=n[s],l=i[s];if(a.trim()!==l.trim())return!1}return!0}},$U=class extends w8{static{o(this,"IgnoreEditsAtClippingBorderAspect")}filterEdit(t,r){return r.filter(i=>!this._isAtClippingBorder(i,t.clippingRange,t.lineCountBeforeClipping))}_isAtClippingBorder(t,r,n){return r.startLineNumber>1&&t.lineRange.startLineNumber===1||r.endLineNumberExclusive<n&&t.lineRange.endLineNumberExclusive===r.length}};d();d();var Sbt=Object.freeze({abap:{lineComment:{start:"'"},markdownLanguageIds:["abap","sap-abap"]},bat:{lineComment:{start:"REM"},alternativeLineComments:[{start:"::"}],aliases:["Batch","bat"],extensions:[".bat",".cmd"]},bibtex:{lineComment:{start:"%"},aliases:["BibTeX","bibtex"],extensions:[".bib"]},blade:{lineComment:{start:"#"}},c:{lineComment:{start:"//"},aliases:["C","c"],extensions:[".c",".i"],markdownLanguageIds:["c","h"]},clojure:{lineComment:{start:";"},aliases:["Clojure","clojure"],extensions:[".clj",".cljs",".cljc",".cljx",".clojure",".edn"],markdownLanguageIds:["clojure","clj"]},coffeescript:{lineComment:{start:"//"},aliases:["CoffeeScript","coffeescript","coffee"],extensions:[".coffee",".cson",".iced"],markdownLanguageIds:["coffeescript","coffee","cson","iced"],blockComment:["###","###"]},cpp:{lineComment:{start:"//"},aliases:["C++","Cpp","cpp"],extensions:[".cpp",".cc",".cxx",".c++",".hpp",".hh",".hxx",".h++",".h",".ii",".ino",".inl",".ipp",".ixx",".tpp",".txx",".hpp.in",".h.in"],markdownLanguageIds:["cpp","hpp","cc","hh","c++","h++","cxx","hxx"],blockComment:["/*","*/"]},csharp:{lineComment:{start:"//"},aliases:["C#","csharp"],extensions:[".cs",".csx",".cake"],markdownLanguageIds:["csharp","cs"],blockComment:["/*","*/"]},css:{lineComment:{start:"/*",end:"*/"},aliases:["CSS","css"],extensions:[".css"],blockComment:["/*","*/"]},dart:{lineComment:{start:"//"},aliases:["Dart"],extensions:[".dart"],blockComment:["/*","*/"]},dockerfile:{lineComment:{start:"#"},aliases:["Docker","Dockerfile","Containerfile"],extensions:[".dockerfile",".containerfile"],markdownLanguageIds:["dockerfile","docker"]},elixir:{lineComment:{start:"#"}},erb:{lineComment:{start:"<%#",end:"%>"}},erlang:{lineComment:{start:"%"},markdownLanguageIds:["erlang","erl"]},fsharp:{lineComment:{start:"//"},aliases:["F#","FSharp","fsharp"],extensions:[".fs",".fsi",".fsx",".fsscript"],markdownLanguageIds:["fsharp","fs","fsx","fsi","fsscript"],blockComment:["(*","*)"]},go:{lineComment:{start:"//"},aliases:["Go"],extensions:[".go"],markdownLanguageIds:["go","golang"],blockComment:["/*","*/"]},groovy:{lineComment:{start:"//"},aliases:["Groovy","groovy"],extensions:[".groovy",".gvy",".gradle",".jenkinsfile",".nf"],blockComment:["/*","*/"]},haml:{lineComment:{start:"-#"}},handlebars:{lineComment:{start:"{{!",end:"}}"},extensions:[".hbs",".handlebars"],markdownLanguageIds:["handlebars","hbs","html.hbs","html.handlebars"],blockComment:["{{!--","--}}"]},haskell:{lineComment:{start:"--"},markdownLanguageIds:["haskell","hs"]},html:{lineComment:{start:"<!--",end:"-->"},aliases:["HTML","htm","html","xhtml"],extensions:[".html",".htm",".shtml",".xhtml",".xht",".mdoc",".jsp",".asp",".aspx",".jshtm",".volt",".ejs",".rhtml"],markdownLanguageIds:["html","xhtml"],blockComment:["<!--","-->"]},ini:{lineComment:{start:";"},blockComment:[";"," "]},java:{lineComment:{start:"//"},extensions:[".java",".class"],markdownLanguageIds:["java","jsp"],blockComment:["/*","*/"]},javascript:{lineComment:{start:"//"},aliases:["JavaScript","javascript","js"],extensions:[".js",".es6",".mjs",".cjs",".pac"],markdownLanguageIds:["javascript","js"],blockComment:["/*","*/"]},javascriptreact:{lineComment:{start:"//"},aliases:["JavaScript JSX","JavaScript React","jsx"],extensions:[".jsx"],markdownLanguageIds:["jsx"]},json:{extensions:[".json"],lineComment:{start:"//"},blockComment:["/*","*/"]},jsonc:{lineComment:{start:"//"}},jsx:{lineComment:{start:"//"},markdownLanguageIds:["jsx"]},julia:{lineComment:{start:"#"},aliases:["Julia","julia"],extensions:[".jl"],markdownLanguageIds:["julia","jl"],blockComment:["#=","=#"]},kotlin:{lineComment:{start:"//"},markdownLanguageIds:["kotlin","kt"]},latex:{lineComment:{start:"%"},aliases:["LaTeX","latex"],extensions:[".tex",".ltx",".ctx"],markdownLanguageIds:["tex"]},less:{lineComment:{start:"//"},aliases:["Less","less"],extensions:[".less"],blockComment:["/*","*/"]},lua:{lineComment:{start:"--"},aliases:["Lua","lua"],extensions:[".lua"],markdownLanguageIds:["lua","pluto"],blockComment:["--[[","]]"]},makefile:{lineComment:{start:"#"},aliases:["Makefile","makefile"],extensions:[".mak",".mk"],markdownLanguageIds:["makefile","mk","mak","make"]},markdown:{lineComment:{start:"//"},aliases:["Markdown","markdown"],extensions:[".md",".mkd",".mdwn",".mdown",".markdown",".markdn",".mdtxt",".mdtext",".workbook"],markdownLanguageIds:["markdown","md","mkdown","mkd"]},"objective-c":{lineComment:{start:"//"},aliases:["Objective-C"],extensions:[".m"],markdownLanguageIds:["objectivec","mm","objc","obj-c"],blockComment:["/*","*/"]},"objective-cpp":{lineComment:{start:"//"},aliases:["Objective-C++"],extensions:[".mm"],markdownLanguageIds:["objectivec++","objc+"]},perl:{lineComment:{start:"#"},aliases:["Perl","perl"],extensions:[".pl",".pm",".pod",".t",".PL",".psgi"],markdownLanguageIds:["perl","pl","pm"]},php:{lineComment:{start:"//"},aliases:["PHP","php"],extensions:[".php",".php4",".php5",".phtml",".ctp"],blockComment:["/*","*/"]},powershell:{lineComment:{start:"#"},aliases:["PowerShell","powershell","ps","ps1"],extensions:[".ps1",".psm1",".psd1",".pssc",".psrc"],markdownLanguageIds:["powershell","ps","ps1"],blockComment:["<#","#>"]},pug:{lineComment:{start:"//"}},python:{lineComment:{start:"#"},aliases:["Python","py"],extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi",".pyi",".ipy",".pyt"],markdownLanguageIds:["python","py","gyp"],blockComment:['"""','"""']},ql:{lineComment:{start:"//"}},r:{lineComment:{start:"#"},aliases:["R","r"],extensions:[".r",".rhistory",".rprofile",".rt"]},razor:{lineComment:{start:"<!--",end:"-->"},aliases:["Razor","razor"],extensions:[".cshtml",".razor"],markdownLanguageIds:["cshtml","razor","razor-cshtml"],blockComment:["<!--","-->"]},ruby:{lineComment:{start:"#"},aliases:["Ruby","rb"],extensions:[".rb",".rbx",".rjs",".gemspec",".rake",".ru",".erb",".podspec",".rbi"],markdownLanguageIds:["ruby","rb","gemspec","podspec","thor","irb"],blockComment:["=begin","=end"]},rust:{lineComment:{start:"//"},aliases:["Rust","rust"],extensions:[".rs"],markdownLanguageIds:["rust","rs"],blockComment:["/*","*/"]},sass:{lineComment:{start:"//"}},scala:{lineComment:{start:"//"}},scss:{lineComment:{start:"//"},aliases:["SCSS","scss"],extensions:[".scss"],blockComment:["/*","*/"]},shellscript:{lineComment:{start:"#"},aliases:["Shell Script","shellscript","bash","fish","sh","zsh","ksh","csh"],extensions:[".sh",".bash",".bashrc",".bash_aliases",".bash_profile",".bash_login",".ebuild",".profile",".bash_logout",".xprofile",".xsession",".xsessionrc",".Xsession",".zsh",".zshrc",".zprofile",".zlogin",".zlogout",".zshenv",".zsh-theme",".fish",".ksh",".csh",".cshrc",".tcshrc",".yashrc",".yash_profile"],markdownLanguageIds:["bash","sh","zsh"]},slim:{lineComment:{start:"/"}},solidity:{lineComment:{start:"//"},markdownLanguageIds:["solidity","sol"]},sql:{lineComment:{start:"--"},aliases:["SQL"],extensions:[".sql",".dsql"],blockComment:["/*","*/"]},stylus:{lineComment:{start:"//"}},svelte:{lineComment:{start:"<!--",end:"-->"}},swift:{lineComment:{start:"//"},aliases:["Swift","swift"],extensions:[".swift"],blockComment:["/*","*/"]},terraform:{lineComment:{start:"#"}},tex:{lineComment:{start:"%"},aliases:["TeX","tex"],extensions:[".sty",".cls",".bbx",".cbx"]},typescript:{lineComment:{start:"//"},aliases:["TypeScript","ts","typescript"],extensions:[".ts",".cts",".mts"],markdownLanguageIds:["typescript","ts"],blockComment:["/*","*/"]},typescriptreact:{lineComment:{start:"//"},aliases:["TypeScript JSX","TypeScript React","tsx"],extensions:[".tsx"],markdownLanguageIds:["tsx"],blockComment:["/*","*/"]},vb:{lineComment:{start:"'"},aliases:["Visual Basic","vb"],extensions:[".vb",".brs",".vbs",".bas",".vba"],markdownLanguageIds:["vb","vbscript"]},verilog:{lineComment:{start:"//"}},"vue-html":{lineComment:{start:"<!--",end:"-->"}},vue:{lineComment:{start:"//"},extensions:[".vue"]},xml:{lineComment:{start:"<!--",end:"-->"},aliases:["XML","xml"],extensions:[".xml",".xsd",".ascx",".atom",".axml",".axaml",".bpmn",".cpt",".csl",".csproj",".csproj.user",".dita",".ditamap",".dtd",".ent",".mod",".dtml",".fsproj",".fxml",".iml",".isml",".jmx",".launch",".menu",".mxml",".nuspec",".opml",".owl",".proj",".props",".pt",".publishsettings",".pubxml",".pubxml.user",".rbxlx",".rbxmx",".rdf",".rng",".rss",".shproj",".storyboard",".svg",".targets",".tld",".tmx",".vbproj",".vbproj.user",".vcxproj",".vcxproj.filters",".wsdl",".wxi",".wxl",".wxs",".xaml",".xbl",".xib",".xlf",".xliff",".xpdl",".xul",".xoml"],blockComment:["<!--","-->"]},xsl:{lineComment:{start:"<!--",end:"-->"},aliases:["XSL","xsl"],extensions:[".xsl",".xslt"]},yaml:{lineComment:{start:"#"},markdownLanguageIds:["yaml","yml"]}}),Bbt=new Map(Object.entries(Sbt).map(([e,t])=>[e,{languageId:e,...t}]));function ORe(e){return Poe(typeof e=="string"?e:typeof e>"u"?"plaintext":e.languageId)}o(ORe,"getLanguage");function Poe(e){return Bbt.get(e.toLowerCase())??{languageId:e,lineComment:{start:"//"}}}o(Poe,"_getLanguage");d();function URe(e){let r=e.split(/\r?\n/).map(kbt),n=r.filter(s=>s===1).length,i=r.filter(s=>s===2).length;return n>i}o(URe,"looksLikeCode");function kbt(e){if(e.length===0)return 0;let t=0,r=0;if(["==","!=","===","!==",">=","<=","&&","||",">>",">>>","<<","<<<","+=","-=","*=","/=","%=","<<=","<<<=",">>=",">>>=","++","--","=>","->","...","??","??="].some(i=>e.includes(i))||e.match(/^\s/)||e.match(/^[;{}()\[\]`~?]/))return 1;e.charAt(0).match(/[A-Z]/)&&(t+=1),e[e.length-1]==="."&&(t+=1),UZ(e)||(t+=1);{UZ(e.charAt(0))&&!e.charAt(0).match(/[A-Z]/)&&(r+=1),e.match(/^\s/)&&(r+=1);let s=[";","{","}","(",")","[","]","`","~","#","$","%","^","&","*","_","=","+","\\","|","<",">"].map(a=>e.includes(a)?1:0).filter(a=>a).length;r+=s}return t>r?2:r>t?1:0}o(kbt,"guessLineType");var _8;(r=>{function e(n){return n.length===0?[]:n.split(/\r\n|\r|\n/g)}r.fromString=e,o(e,"fromString");function t(n){if(n.lineCount===0)return[];let i=[];for(let s=0;s<n.lineCount;s++)i.push(n.lineAt(s).text);return i}r.fromDocument=t,o(t,"fromDocument")})(_8||={});function Rbt(e){return e.replace(/^\s+/g,"")}o(Rbt,"trimLeadingWhitespace");function Noe(e,t){switch(t){case"java":return!!e.match(/^\s*import\s/);case"typescript":case"typescriptreact":case"javascript":case"javascriptreact":return!!e.match(/^\s*import[\s{*]|^\s*[var|const|let].*=\s*require\(/);case"php":return!!e.match(/^\s*use/);case"rust":return!!e.match(/^\s*use\s+[\w:{}, ]+\s*(as\s+\w+)?;/);case"python":return!!e.match(/^\s*from\s+[\w.]+\s+import\s+[\w, *]+$/)||!!e.match(/^\s*import\s+[\w, ]+$/);default:return!1}}o(Noe,"isImportStatement");var Dbt=new p1(e=>{let t=ORe(e),{start:r,end:n}=t.lineComment,i=`(?:${OZ(r)})`,s=n?`(?:${OZ(n)})?`:"";return new RegExp(`${i}(.*)${s}$`)});function Foe(e,t){let r=e.match(Dbt.get(t));if(!r)return;let n=r.index;if(typeof n>"u")return;let i=e.substring(0,n),s=r[0],a=Rbt(r[1]||"");return{content:i,commentWithTokens:s,commentWithoutTokens:a}}o(Foe,"extractEndLineComment");function zU(e,t){let r=Foe(e,t);if(!(r&&r.content.trim().length>0&&URe(r.commentWithoutTokens)))return r}o(zU,"extractExplicativeEndLineComment");var YU=class e extends w8{static{o(this,"IgnoreImportChangesAspect")}static isImportChange(t,r,n){return t.newLines.some(i=>Noe(i,r))||Pbt(t,n).some(i=>Noe(i,r))}filterEdit(t,r){let n=t.languageId;return r.filter(s=>!e.isImportChange(s,n,t.documentLinesBeforeEdit))}};function Pbt(e,t){return fve(e.lineRange.mapToLineArray(r=>t[r-1]))}o(Pbt,"getOldLines");d();var Loe=ft(Ob());d();var S8=class{static{o(this,"DiffChange")}constructor(t,r,n,i){this.originalStart=t,this.originalLength=r,this.modifiedStart=n,this.modifiedLength=i}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}},w_=class{constructor(t,r=!0){this.lines=t;this.trimWhitespace=r}static{o(this,"LineSequence")}getElements(){let t=[];for(let r=0,n=this.lines.length;r<n;r++)t[r]=this.trimWhitespace?this.lines[r].trim():this.lines[r];return t}getCharCount(){let t=0;for(let r of this.lines)t+=r.length;return t}},__=class{static{o(this,"CharSequence")}constructor(t){this._chars=t.split("")}getElements(){return this._chars}},Ey=class{static{o(this,"Debug")}static Assert(t,r){if(!t)throw new Error(r)}},xy=class{static{o(this,"MyArray")}static Copy(t,r,n,i,s){for(let a=0;a<s;a++)n[i+a]=t[r+a]}static Copy2(t,r,n,i,s){for(let a=0;a<s;a++)n[i+a]=t[r+a]}};var KU=class{static{o(this,"DiffChangeHelper")}constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new S8(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(t,r){this.m_originalStart=Math.min(this.m_originalStart,t),this.m_modifiedStart=Math.min(this.m_modifiedStart,r),this.m_originalCount++}AddModifiedElement(t,r){this.m_originalStart=Math.min(this.m_originalStart,t),this.m_modifiedStart=Math.min(this.m_modifiedStart,r),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}},S_=class e{static{o(this,"LcsDiff")}constructor(t,r){let[n,i]=e._getElements(t),[s,a]=e._getElements(r);this._originalStringElements=n,this._originalElementsOrHash=i,this._modifiedStringElements=s,this._modifiedElementsOrHash=a,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _getElements(t){let r=t.getElements(),n=new Int32Array(r.length);for(let i=0,s=r.length;i<s;i++)n[i]=this._stringHash(r[i],0);return[r,n]}static _numberHash(t,r){return(r<<5)-r+t|0}static _stringHash(t,r){r=this._numberHash(149417,r);for(let n=0,i=t.length;n<i;n++)r=this._numberHash(t.charCodeAt(n),r);return r}ElementsAreEqual(t,r){return this._originalElementsOrHash[t]!==this._modifiedElementsOrHash[r]?!1:this._originalStringElements[t]===this._modifiedStringElements[r]}ComputeDiff(){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1)}_ComputeDiff(t,r,n,i){return this.ComputeDiffRecursive(t,r,n,i)}ComputeDiffRecursive(t,r,n,i){for(;t<=r&&n<=i&&this.ElementsAreEqual(t,n);)t++,n++;for(;r>=t&&i>=n&&this.ElementsAreEqual(r,i);)r--,i--;if(t>r||n>i){let f;return n<=i?(Ey.Assert(t===r+1,"originalStart should only be one more than originalEnd"),f=[new S8(t,0,n,i-n+1)]):t<=r?(Ey.Assert(n===i+1,"modifiedStart should only be one more than modifiedEnd"),f=[new S8(t,r-t+1,n,0)]):(Ey.Assert(t===r+1,"originalStart should only be one more than originalEnd"),Ey.Assert(n===i+1,"modifiedStart should only be one more than modifiedEnd"),f=[]),f}let s=[0],a=[0],l=this.ComputeRecursionPoint(t,r,n,i,s,a),c=s[0],u=a[0];if(l!==null)return l;{let f=this.ComputeDiffRecursive(t,c,n,u),m=this.ComputeDiffRecursive(c+1,r,u+1,i);return this.ConcatenateChanges(f,m)}}WALKTRACE(t,r,n,i,s,a,l,c,u,f,m,h,p,A,E,x,b){let v=null,S=null,k=new KU,P=r,N=n,W=p[0]-x[0]-i,re=-1073741824,ge=this.m_forwardHistory.length-1;do{let te=W+t;te===P||te<N&&u[te-1]<u[te+1]?(m=u[te+1],A=m-W-i,m<re&&k.MarkNextChange(),re=m,k.AddModifiedElement(m+1,A),W=te+1-t):(m=u[te-1]+1,A=m-W-i,m<re&&k.MarkNextChange(),re=m-1,k.AddOriginalElement(m,A+1),W=te-1-t),ge>=0&&(u=this.m_forwardHistory[ge],t=u[0],P=1,N=u.length-1)}while(--ge>=-1);v=k.getReverseChanges(),k=new KU,P=a,N=l,W=p[0]-x[0]-c,re=1073741824,ge=b?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{let te=W+s;te===P||te<N&&f[te-1]>=f[te+1]?(m=f[te+1]-1,A=m-W-c,m>re&&k.MarkNextChange(),re=m+1,k.AddOriginalElement(m+1,A+1),W=te+1-s):(m=f[te-1],A=m-W-c,m>re&&k.MarkNextChange(),re=m,k.AddModifiedElement(m+1,A+1),W=te-1-s),ge>=0&&(f=this.m_reverseHistory[ge],s=f[0],P=1,N=f.length-1)}while(--ge>=-1);return S=k.getChanges(),this.ConcatenateChanges(v,S)}ComputeRecursionPoint(t,r,n,i,s,a){let l=0,c=0,u=0,f=0,m=0,h=0;t--,n--,s[0]=0,a[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];let p=r-t+(i-n),A=p+1,E=new Int32Array(A),x=new Int32Array(A),b=i-n,v=r-t,S=t-n,k=r-i,N=(v-b)%2===0;E[b]=t,x[v]=r;for(let W=1;W<=p/2+1;W++){let re=0,ge=0;u=this.ClipDiagonalBound(b-W,W,b,A),f=this.ClipDiagonalBound(b+W,W,b,A);for(let te=u;te<=f;te+=2){te===u||te<f&&E[te-1]<E[te+1]?l=E[te+1]:l=E[te-1]+1,c=l-(te-b)-S;let G=l;for(;l<r&&c<i&&this.ElementsAreEqual(l+1,c+1);)l++,c++;if(E[te]=l,l+c>re+ge&&(re=l,ge=c),!N&&Math.abs(te-v)<=W-1&&l>=x[te])return s[0]=l,a[0]=c,G<=x[te]&&W<=1448?this.WALKTRACE(b,u,f,S,v,m,h,k,E,x,l,r,s,c,i,a,N):null}m=this.ClipDiagonalBound(v-W,W,v,A),h=this.ClipDiagonalBound(v+W,W,v,A);for(let te=m;te<=h;te+=2){te===m||te<h&&x[te-1]>=x[te+1]?l=x[te+1]-1:l=x[te-1],c=l-(te-v)-k;let G=l;for(;l>t&&c>n&&this.ElementsAreEqual(l,c);)l--,c--;if(x[te]=l,N&&Math.abs(te-b)<=W&&l<=E[te])return s[0]=l,a[0]=c,G>=E[te]&&W<=1448?this.WALKTRACE(b,u,f,S,v,m,h,k,E,x,l,r,s,c,i,a,N):null}if(W<=1447){let te=new Int32Array(f-u+2);te[0]=b-u+1,xy.Copy2(E,u,te,1,f-u+1),this.m_forwardHistory.push(te),te=new Int32Array(h-m+2),te[0]=v-m+1,xy.Copy2(x,m,te,1,h-m+1),this.m_reverseHistory.push(te)}}return this.WALKTRACE(b,u,f,S,v,m,h,k,E,x,l,r,s,c,i,a,N)}ConcatenateChanges(t,r){let n=[];if(t.length===0||r.length===0)return r.length>0?r:t;if(this.ChangesOverlap(t[t.length-1],r[0],n)){let i=new Array(t.length+r.length-1);return xy.Copy(t,0,i,0,t.length-1),i[t.length-1]=n[0],xy.Copy(r,1,i,t.length,r.length-1),i}else{let i=new Array(t.length+r.length);return xy.Copy(t,0,i,0,t.length),xy.Copy(r,0,i,t.length,r.length),i}}ChangesOverlap(t,r,n){if(Ey.Assert(t.originalStart<=r.originalStart,"Left change is not less than or equal to right change"),Ey.Assert(t.modifiedStart<=r.modifiedStart,"Left change is not less than or equal to right change"),t.originalStart+t.originalLength>=r.originalStart||t.modifiedStart+t.modifiedLength>=r.modifiedStart){let i=t.originalStart,s=t.originalLength,a=t.modifiedStart,l=t.modifiedLength;return t.originalStart+t.originalLength>=r.originalStart&&(s=r.originalStart+r.originalLength-t.originalStart),t.modifiedStart+t.modifiedLength>=r.modifiedStart&&(l=r.modifiedStart+r.modifiedLength-t.modifiedStart),n[0]=new S8(i,s,a,l),!0}else return n[0]=null,!1}ClipDiagonalBound(t,r,n,i){if(t>=0&&t<i)return t;let s=n,a=i-n-1,l=r%2===0;if(t<0){let c=s%2===0;return l===c?0:1}else{let c=a%2===0;return l===c?i-1:i-2}}};d();function qRe(e){let t=new Set;return JSON.stringify(e,(r,n)=>{if(fbe(n)||Array.isArray(n)){if(t.has(n))return"[Circular]";t.add(n)}return typeof n=="bigint"?`[BigInt ${n.toString()}]`:n})}o(qRe,"safeStringify");var JU=!1,Ooe=!0,Nbt=200,B_=class{constructor(t,r){this.ID=t;this._parserService=r;this.dependsOnSelection=!0}static{o(this,"AbstractNearbyCursorInlineEditProvider")}async provideNextEdit(t,r){let n=new T8(t),i=t.getActiveDocument(),s=k_(i);if(!s||!s.isEmpty())return Xi.noEdit({kind:"uncategorized",error:new Error("Selection is not empty")},n);let a=i.documentLinesBeforeEdit,l=i.recentEdit.apply(a),c=[];for(let v of t.documents)v.id!==i.id&&(c.push(`RELATED DOC: ${v.getDisplayPath()}`),c.push("```patch"),c.push(...Obt(v)),c.push("```"),c.push(""));c.push(`ORIGINAL VERSION: ${i.getDisplayPath()}`),c.push("```"),c.push(...a),c.push("```"),c.push("");let u="// ...rest of the lines omitted...",f=new Hn(1,Math.max(1,s.startLineNumber-1)),m=i.recentEdit.edits.length>0?i.recentEdit.edits[i.recentEdit.edits.length-1].lineRange.endLineNumberExclusive-1:0,h;if(m>0&&m>=f.endLineNumberExclusive){let v=m<l.length;c.push(`IN PROGRESS VERSION ${v?" PREFIX":""}: ${i.getDisplayPath()}`),c.push("```"),c.push(...l.slice(0,m)),v&&(c.push(u),h={editRange:new Hn(f.endLineNumberExclusive,m+1),omittedMessage:u}),c.push("```"),c.push("")}c.push(`NEXT VERSION: ${i.getDisplayPath()}`),c.push("```"),c.push(...l.slice(0,f.endLineNumberExclusive-1)),c.push("");let p=l.slice(f.endLineNumberExclusive-1).join(`
`),A=await this.fetchUntilConvergence(c.join(`
`),p,r);if(r.isCancellationRequested)return Xi.noEdit({kind:"gotCancelled",message:"afterFetchCall"},n);if(A.isError())return A.err.kind==="cancel"?Xi.noEdit({kind:"gotCancelled",message:"afterFetchCall"},n):Xi.noEdit({kind:"fetchFailure",error:new Error(qRe(A.err))},n);let{result:E}=A.val;if(E.trim().length===0)return Xi.noEdit({kind:"noSuggestions"},n);let x=XU(i.languageId,l,f,void 0,E,h),b=await Goe(this._parserService,x,i,{requireEditWithinNLines:5});if(b){let v=new xs([b]);return Xi.edit({edit:v},n)}else return Xi.noEdit({kind:"filteredOut",message:"uncategorized"},n)}};B_=ru([Aa(1,H1)],B_);var B8=class extends B_{constructor(r,n){super(B8.ID,r);this._chatMLFetcher=n}static{o(this,"MiniNearbyCursorInlineEditProvider")}static{this.ID="MiniNearbyCursorInlineEditProvider"}async fetchUntilConvergence(r,n,i){if(i.isCancellationRequested)return fa.error({kind:"cancel"});let s=await Uoe(this.ID,this._chatMLFetcher,[{role:Loe.ChatRole.System,content:`
Please no talking.
You must only provide code.
Simply provide the code that follows most logically.
You don't change code if not necessary.
You see the same file multiple times, but only the last one is the final version.
`.trim()},{role:Loe.ChatRole.User,content:r}],{convergence:n},i);if(s.isError())return s;let{ignored:a,result:l,headersTime:c}=s.val;return l=l.replace(/^```[^\n]*\n/,""),fa.ok({ignored:a,result:l,headersTime:c})}};B8=ru([Aa(0,H1),Aa(1,V1)],B8);async function Uoe(e,t,r,n,i){let s=new OU,a=!1,l,c=s.stream.map(E=>({choices:[{index:0,finish_reason:null,logprobs:null,text:E.delta.text}]})),u=Lbt(c,n),f=t.fetchOne(r,async(E,x,b)=>(typeof l>"u"&&(l=Date.now()),s.update(E,b),a?E.length:void 0),i);(async()=>{try{await f}finally{s.resolve()}})();let{ignored:m,result:h,shouldCancelRequest:p}=await u;typeof l>"u"&&(l=Date.now()),p&&(a=!0);let A=await f;return A.type!=="success"?fa.error({kind:"failure",err:new Error(`Fetch failed (${A.type}, ${A.reason})`)}):fa.ok({headersTime:l,ignored:m,result:h})}o(Uoe,"fetchUntilConvergence");function k_(e){let t=new Or(0,0);return e.lastSelectionInAfterEdit&&!e.lastSelectionInAfterEdit.equals(t)?e.documentAfterEdits.getTransformer().getRange(e.lastSelectionInAfterEdit):e.recentEdit.edits.length===0?null:Fbt(e)}o(k_,"getOrDeduceSelectionFromLastEdit");function Fbt(e){let t=e.recentEdit.edits[e.recentEdit.edits.length-1],r=t.lineRange,i=e.recentEdit.getNewLineRanges()[e.recentEdit.edits.length-1].endLineNumberExclusive-1,s=t.newLines[t.newLines.length-1]??"";if(r.length===0)return new li(i,s.length+1,i,s.length+1);let a=e.documentLinesBeforeEdit[r.endLineNumberExclusive-2],l=KL(a,s),c=s.length-l+1;return new li(i,c,i,c)}o(Fbt,"deduceSelectionFromLastEdit");async function Lbt(e,t){let r=Qbt(e,t.ignoreReplyTextBefore),n=t.convergence,i=t.maxCompletionLineCount??20,s=t.convergenceNonWhitespaceCharOverlap??40,a=n.replace(/\s/g,""),l=[],c=[],u=[],f=[],m=o(h=>{let p=c[0];return{ignored:l[0]??"",result:p.substring(0,p.lastIndexOf(`
`)+1),shouldCancelRequest:!0}},"returnEarly");for await(let h of r){if(h.kind==="ignore"){l[h.index]=(l[h.index]??"")+h.text;continue}let p=h.text;if(c[h.index]=c[h.index]??"",c[h.index]+=p,f[h.index]=f[h.index]??"",f[h.index]+=p.replace(/\s/g,""),u[h.index]=u[h.index]??0,u[h.index]+=p.split(`
`).length-1,p.indexOf(`
`)===-1||h.index!==0)continue;if(u[h.index]>i)return m(`too many lines: ${u[h.index]}`);let A=c[h.index];if(n.startsWith(A))continue;let E=A.split(`
`).slice(-4,-1);if(E.length<3||n.indexOf(E.join(`
`)+`
`)<=0)continue;let b=f[h.index].substring(f[h.index].length-s);if(a.indexOf(b)>0)return m("convergence!")}return{ignored:l[0]??"",result:c[0]??"",shouldCancelRequest:!1}}o(Lbt,"fetchCompletionUntilConvergence");function Qbt(e,t){let r=[],n=[];return new v_(async i=>{for await(let s of e)for(let a of s.choices){let l=a.index,c=a.text??"";if(!t||r[l]){i.emitOne({kind:"completion",index:l,text:c});continue}n[l]=(n[l]??"")+c;let u=n[l].match(t);!u||typeof u.index>"u"||(r[l]=!0,i.emitOne({kind:"ignore",index:l,text:n[l].substring(0,u.index+u[0].length)}),i.emitOne({kind:"completion",index:a.index,text:n[l].substring(u.index+u[0].length)}),n[l]=void 0)}for(let s=0;s<n.length;s++)typeof n[s]<"u"&&i.emitOne({kind:"ignore",index:s,text:n[s]})})}o(Qbt,"getTextAfterFirstPattern");function Mbt(e,t,r){let n=t.startLineNumber,i=t.endLineNumberExclusive,s=r.slice(0);for(;n+1<i&&s.length>0;){let a=e[i-2],l=s[s.length-1];if(a!==l)break;i--,s.pop()}for(;n+1<i&&s.length>0;){let a=e[n-1],l=s[0];if(a!==l)break;n++,s.shift()}return new C1(new Hn(n,i),s)}o(Mbt,"createReducedLineEdit");var k8=class{constructor(t,r,n,i){this.languageId=t;this.oldLines=r;this.oldLines=r,this.edit=Mbt(r,n,i);let s=new xs([this.edit]);this.newLines=s.apply(r)}static{o(this,"PossibleEdit")}hasEditWithinFirstLines(t){let r=this.oldLines.slice(this.edit.lineRange.startLineNumber-1,this.edit.lineRange.endLineNumberExclusive-1),n=this.edit.newLines;return s(r,n)<t;function s(a,l){for(let c=0;c<Math.min(a.length,l.length);c++)if(a[c]!==l[c])return c;return Math.min(a.length,l.length)}}resolveDiff(){let t=o((m,h,p)=>m.map(A=>{let E=h.lines.slice(A.originalStart,A.originalStart+A.originalLength),x=p.lines.slice(A.modifiedStart,A.modifiedStart+A.modifiedLength),b=E.join(`
`),v=x.join(`
`),{editDistance:S}=f(b,v);return new Qoe(A.originalStart,A.originalLength,A.modifiedStart,A.modifiedLength,S)}),"computeEditDistances"),r=o(m=>{let h=0;for(let p of m)h+=p.editDistance;return{editDistance:h}},"computeDiffMetrics"),n=!1,i=new w_(this.oldLines,n),s=new w_(this.newLines,n),a=new S_(i,s),l=t(a.ComputeDiff(),i,s),c=r(l),u=[];{let m=0;for(let h of l)u=u.concat(this.oldLines.slice(m,h.originalStart)),u=u.concat(this.newLines.slice(h.modifiedStart,h.modifiedStart+h.modifiedLength)),m=h.originalStart+h.originalLength;u=u.concat(this.oldLines.slice(m))}if(yZ(this.newLines,u))return new Moe(this.languageId,this.oldLines,this.edit,this.newLines,l,c);return GRe(this.languageId,this.oldLines,u);function f(m,h){let p=new __(m),A=new __(h),x=new S_(p,A).ComputeDiff(),b=0,v=0;for(let N of x)b+=N.originalLength,v+=N.modifiedLength;let S=m.length,k=h.length,P=b+v;return{aChanged:b,bChanged:v,aLength:S,bLength:k,editDistance:P}}}},Qoe=class{constructor(t,r,n,i,s){this.originalStart=t;this.originalLength=r;this.modifiedStart=n;this.modifiedLength=i;this.editDistance=s}static{o(this,"DiffChangeWithEditDistance")}},Moe=class{constructor(t,r,n,i,s,a){this.languageId=t;this.oldLines=r;this.edit=n;this.newLines=i;this.diff=s;this.diffMetrics=a;this.parseErrorCount="unknown"}static{o(this,"PossibleEditWithDiff")}toLineEdit(t){if(t==="single")return new xs([this.edit]);{let r=this.groupInHunks();return new xs(r.map(n=>{let i=n[0],s=n[n.length-1];return new C1(new Hn(i.originalStart+1,s.originalStart+s.originalLength+1),this.newLines.slice(i.modifiedStart,s.modifiedStart+s.modifiedLength))}))}}eliminateLargeChangeHunks(){if(!Ooe)return this;let t=this.groupInHunks(),r=[];for(let n of t)n.every(s=>s.originalLength===0)||n.reduce((a,l)=>a+l.editDistance,0)>Nbt&&(r=r.concat(n));if(r.length===this.diff.length)return null;if(r.length>0){let n=this._recreateNewLinesWithoutDiffs(r);return this._createPossibleEditFromLines(n)}return this}containWithinLines(t){let r=this.groupInHunks(),n=[];for(let i of r)for(let s of i){let a=s.originalStart+1,l=s.originalStart+s.originalLength+1;if(!qoe(new Hn(a,l),t)){n=n.concat(i);break}}if(n.length===this.diff.length)return null;if(n.length>0){let i=this._recreateNewLinesWithoutDiffs(n);return this._createPossibleEditFromLines(i).containWithinLines(t)}return this}groupInHunks(){let t=[];for(let r of this.diff){let n=t.length>0?t[t.length-1]:null;if(!n){t.push([r]);continue}let i=n[n.length-1],s=this.oldLines.slice(i.originalStart+i.originalLength,r.originalStart);if(s.length>1){t.push([r]);continue}if(s[0].trim().length>10){t.push([r]);continue}if(n.reduce((c,u)=>c+u.originalLength,0)>1){t.push([r]);continue}n.push(r)}return t}_recreateNewLinesWithoutDiffs(t){let r=[],n=0;for(let i of t)r=r.concat(this.newLines.slice(n,i.modifiedStart)),r=r.concat(this.oldLines.slice(i.originalStart,i.originalStart+i.originalLength)),n=i.modifiedStart+i.modifiedLength;return r=r.concat(this.newLines.slice(n)),r}async resolveParseErrorCountIfPossible(t,r){let n=new xs([this.edit]),i=r(n);this.parseErrorCount=await R_(t,this.languageId,i)}eliminateEmptyLineChanges(){let t=o(r=>this._createPossibleEditFromLines(r).eliminateEmptyLineChanges(),"recurseWithNewLines");for(let r of this.diff){let n=this.oldLines.slice(r.originalStart,r.originalStart+r.originalLength),i=this.newLines.slice(r.modifiedStart,r.modifiedStart+r.modifiedLength);if(r.modifiedLength===0){if(n.every(a=>a.trim().length===0)){let a=this.newLines.slice(0);return a.splice(r.modifiedStart,0,...n),t(a)}continue}if(r.originalLength===0){if(i.every(a=>a.trim().length===0)){let a=this.newLines.slice(0);return a.splice(r.modifiedStart,r.modifiedLength),t(a)}continue}for(let s=0;s<n.length&&s<i.length;s++){let a=n[s],l=i[s],c=a.trim().length===0,u=l.trim().length===0;if(!(c&&u)){if(!c&&!u)break;if(c){let f=this.newLines.slice(0);return f.splice(r.modifiedStart+s,0,a),t(f)}if(u){let f=this.newLines.slice(0);return f.splice(r.modifiedStart+s,1),t(f)}}}for(let s=1;s<=n.length&&s<=i.length;s++){let a=n[n.length-s],l=i[i.length-s],c=a.trim().length===0,u=l.trim().length===0;if(!(c&&u)){if(!c&&!u)break;if(c){let f=this.newLines.slice(0);return f.splice(r.modifiedStart+r.modifiedLength-s+1,0,a),t(f)}if(u){let f=this.newLines.slice(0);return f.splice(r.modifiedStart+r.modifiedLength-s,1),t(f)}}}}return this}eliminateInsertedOrDeletedComments(){let t=[],r=0,n=!1;for(let i of this.diff){t=t.concat(this.newLines.slice(r,i.modifiedStart));let s=this.oldLines.slice(i.originalStart,i.originalStart+i.originalLength),a=this.newLines.slice(i.modifiedStart,i.modifiedStart+i.modifiedLength),{hasChanges:l,newDiffModifiedLines:c}=this._eliminateCommentsDiff(s,a);n=n||l,t=t.concat(c),r=i.modifiedStart+i.modifiedLength}return t=t.concat(this.newLines.slice(r)),n?this._createPossibleEditFromLines(t):this}_eliminateCommentsDiff(t,r){if(r.length===0){let c=!1,u=!1;for(let f of t){if(f.trim().length===0)continue;let m=zU(f,this.languageId);m&&m.content.trim().length===0?c=!0:u=!0}if(c&&!u)return{hasChanges:!0,newDiffModifiedLines:t}}let n=t.map(c=>zU(c,this.languageId)),i=r.map(c=>zU(c,this.languageId)),s=n.filter(c=>!!c).length,a=i.filter(c=>!!c).length;if(s===0&&a===0)return{hasChanges:!1,newDiffModifiedLines:r};if(s>0)return{hasChanges:!1,newDiffModifiedLines:r};let l=!1;for(let c=0;c<r.length;c++){let u=r[c],f=i[c];if(!f)continue;let{content:m}=f;r[c]=u.substring(0,m.length).trimEnd(),l=!0}return{hasChanges:l,newDiffModifiedLines:r}}_createPossibleEditFromLines(t){return GRe(this.languageId,this.oldLines,t)}};function qoe(e,t){return t.startLineNumber<e.startLineNumber&&e.startLineNumber<t.endLineNumberExclusive&&e.endLineNumberExclusive<=t.endLineNumberExclusive}o(qoe,"editIsInsideEditWindow");function GRe(e,t,r){let i=t.length+1,s=r.slice(0);return new k8(e,t,new Hn(1,i),s).resolveDiff()}o(GRe,"createPossibleEditFromLines");function XU(e,t,r,n,i,s){if(i.trim().length===0)return[];let a=_8.fromString(i.trimEnd()),l=s?a.some(x=>x.indexOf(s.omittedMessage)>=0):!1,c=[],u=o((x,b)=>{c.push(new k8(e,t,x,b))},"generateEdit");function f(){n&&u(n,a)}o(f,"generateEditCompletionRange");function m(){if(l)return;let b=new Hn(r.endLineNumberExclusive,t.length+1);b.length>a.length+5||u(b,a)}o(m,"generateEditAllDoc");function h(){for(let x=1;x<a.length;x++){let v=a.slice(a.length-x).join(`
`);for(let S=r.endLineNumberExclusive-1;S<t.length;S++){let P=t.slice(S,S+x).join(`
`);v===P&&u(new Hn(r.endLineNumberExclusive,S+1),a.slice(0,a.length-x))}}}o(h,"generateEditsUsingOverlappingLines");function p(){if(!s||!l)return;let x=[];for(let b of a){if(b.indexOf(s.omittedMessage)>=0){u(s.editRange,x.map(v=>v));return}x.push(b)}}if(o(p,"generateEditWhenReplyContainsOmittedMessage"),f(),p(),m(),h(),!i.endsWith(`
`)){let x=i.substring(0,i.lastIndexOf(`
`)+1);c.push(...XU(e,t,r,n,x,s))}return A(c);function A(x){return E(x,o(v=>v.edit.lineRange.startLineNumber+","+v.edit.lineRange.endLineNumberExclusive+","+v.edit.newLines.join("|"),"keyfn"))}function E(x,b){let v=new Set,S=[];for(let k of x){let P=b(k);v.has(P)||(v.add(P),S.push(k))}return S}}o(XU,"generatePossibleEdits");async function Goe(e,t,r,n){let a=t.filter(m=>m.hasEditWithinFirstLines(n.requireEditWithinNLines)).map(m=>m.resolveDiff()).map(m=>m.eliminateEmptyLineChanges()),l=JU?await R_(e,r.languageId,r.documentAfterEditsNoShortening.value):"unknown";if(JU){let m=o(h=>{let p=r.documentAfterEditsNoShortening;return r.toEditOnDocumentAfterEditsNoShortening(h).apply(p.value)},"applyToDocumentNoShortening");await Promise.all(a.map(h=>h.resolveParseErrorCountIfPossible(e,m)))}let c=a.filter(m=>l==="unknown"?m.parseErrorCount===0:m.parseErrorCount!=="unknown"&&m.parseErrorCount<=l),u=c.length>0?c:a;u.sort((m,h)=>m.parseErrorCount===h.parseErrorCount?0:m.parseErrorCount==="unknown"?1:h.parseErrorCount==="unknown"?-1:m.parseErrorCount-h.parseErrorCount);let f=o(m=>m.diffMetrics.editDistance,"score");return u.sort((m,h)=>f(m)-f(h)),u.length>0?u[0].edit:null}o(Goe,"selectBestEdit");function Obt(e){let r=[],n=e.documentLinesBeforeEdit,i=0,s=0,a=-1,l=o((c,u)=>{c>a+1&&r.push("[...]"),u?r.push(`-${n[c]}`):r.push(`${n[c]}`),a=c},"addOldLineIndex");for(let c of e.recentEdit.edits){for(;i<c.lineRange.startLineNumber-1;)Math.min(c.lineRange.startLineNumber-i-1,s>0?i-s-2:1073741824)<=2&&l(i,!1),i++;for(;i<c.lineRange.endLineNumberExclusive-1;)l(i,!0),i++;r.push(c.newLines.map(u=>`+${u}`).join(`
`)),s=c.lineRange.endLineNumberExclusive}for(;i<n.length;)i-s+2<=2&&l(i,!1),i++;return r.push("[...]"),r}o(Obt,"summariseDocDiff");function WRe(e){let t=[];for(let r of e.recentEdit.edits){let n=e.documentLinesBeforeEdit.slice(r.lineRange.startLineNumber-1,r.lineRange.endLineNumberExclusive-1),i=r.newLines;if(n.filter(a=>a.trim().length>0).length===0&&i.filter(a=>a.trim().length>0).length===0)continue;let s=r.lineRange.startLineNumber+e.clippingRange.startLineNumber-1;t.push(`@@ -${s},${n.length} +${s},${i.length} @@`),t.push(...n.map(a=>`-${a}`)),t.push(...i.map(a=>`+${a}`))}return t}o(WRe,"summarizeEditsAsUnifiedDiff");async function R_(e,t,r){return await e.getTreeSitterAST({languageId:t,getText:o(()=>r,"getText")})?.getParseErrorCount()??"unknown"}o(R_,"getParseErrorCount");d();var HRe=ft(Ob());d();var vy=class extends HRe.PromptRenderer{constructor(r,n,i={validate:!0},s,a,l){let c=s.acquireTokenizer({tokenizer:l.tokenizerName}),u={modelMaxPromptTokens:l.tokenBudget};super(u,r,n,c);this.options=i;this._instantiationService=a}static{o(this,"PromptRenderer")}static create(r,n,i,s={validate:!0}){return r.invokeFunction(a=>{let l=a.get(E_);return new vy(n,i,s,l,r,a.get(V1))})}createElement(r,...n){return this._instantiationService.createInstance(r.ctor,r.props,...n)}async render(r,n,i){let s=await super.render(r,n);i={...{trace:!0},...i};for(let c=1;c<s.messages.length;c++){let u=s.messages[c],f=s.messages[c-1];u.role==="system"&&f.role==="system"&&(f.content+=`
`+u.content,s.messages.splice(c,1),c--)}let l=s.messages[s.messages.length-1];if(this.options.validate&&l&&l.role!=="user"&&l.role!=="function")throw new Error("Sorry, this message is too long. Please try a shorter question.");return{...s,references:[]}}async countTokens(r){return(await super.render(void 0,r)).tokenCount}};vy=ru([Aa(3,E_),Aa(4,Up),Aa(5,V1)],vy);d();var VRe=ft(Ob());var ZU=class extends VRe.PromptElement{static{o(this,"SafetyRules")}render(){return vscpp(vscppf,null,"Follow Microsoft content policies.",vscpp("br",null),"Avoid content that violates copyrights.",vscpp("br",null),`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,vscpp("br",null),"Keep your answers short and impersonal.",vscpp("br",null))}};d();d();var eq=class{constructor(t){this.text=t;this.lineStartOffsetByLineIdx=[],this.lineEndOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let r=0;r<t.length;r++)t.charAt(r)===`
`&&(this.lineStartOffsetByLineIdx.push(r+1),r>0&&t.charAt(r-1)==="\r"?this.lineEndOffsetByLineIdx.push(r-1):this.lineEndOffsetByLineIdx.push(r));this.lineEndOffsetByLineIdx.push(t.length)}static{o(this,"PositionOffsetTransformer")}getOffset(t){return this.lineStartOffsetByLineIdx[t.lineNumber-1]+t.column-1}getOffsetRange(t){return new Or(this.getOffset(t.getStartPosition()),this.getOffset(t.getEndPosition()))}getPosition(t){let r=km(this.lineStartOffsetByLineIdx,s=>s<=t),n=r+1,i=t-this.lineStartOffsetByLineIdx[r]+1;return new so(n,i)}getRange(t){return li.fromPositions(this.getPosition(t.start),this.getPosition(t.endExclusive))}getTextLength(t){return Fu.ofRange(this.getRange(t))}get textLength(){let t=this.lineStartOffsetByLineIdx.length-1;return new Fu(t,this.text.length-this.lineStartOffsetByLineIdx[t])}getLineLength(t){return this.lineEndOffsetByLineIdx[t-1]-this.lineStartOffsetByLineIdx[t-1]}};var Woe=class{static{o(this,"AbstractDocument")}rangeToOffsetRange(t){return new Or(this.getOffsetAtPosition(t.start),this.getOffsetAtPosition(t.end))}offsetRangeToRange(t){return new Hc(this.getPositionAtOffset(t.start),this.getPositionAtOffset(t.endExclusive))}},Ym=class extends Woe{constructor(r){super();this.value=r;this._transformer=new eq(this.value)}static{o(this,"StringTextDocument")}getText(){return this.value}getLineText(r){let n=this._transformer.getOffset(new so(r+1,1)),i=n+this.getLineLength(r);return this.value.substring(n,i)}getLineLength(r){return this._transformer.getLineLength(r+1)}getLineCount(){return this._transformer.textLength.lineCount+1}getTextInOffsetRange(r){return r.substring(this.value)}getPositionAtOffset(r){return Ubt(this._transformer.getPosition(r))}getOffsetAtPosition(r){return r=this._validatePosition(r),this._transformer.getOffset(qbt(r))}_validatePosition(r){if(r.line<0)return new mo(0,0);let n=this._transformer.textLength.lineCount+1;if(r.line>=n){let s=this._transformer.getLineLength(n);return new mo(n-1,s)}if(r.character<0)return new mo(r.line,0);let i=this._transformer.getLineLength(r.line+1);return r.character>i?new mo(r.line,i):r}};function Ubt(e){return new mo(e.lineNumber-1,e.column-1)}o(Ubt,"corePositionToVSCodePosition");function qbt(e){return new so(e.line+1,e.character+1)}o(qbt,"vsCodePositionToCorePosition");d();d();function jRe(e){if(e.length===0)return 1/0;let t=e[0];for(let r=1;r<e.length;r++)t=Math.min(t,e[r]);return t}o(jRe,"min");d();function Hoe(e,t){let r=t(e);return{...r,range:[r.range.start,r.range.endExclusive],children:r.children?.map(n=>Hoe(n,t))}}o(Hoe,"toAstNode");function $Re(e,t){let r=qb(t,a=>a.endExclusive>=e.start),n=km(t,a=>a.start<=e.endExclusive)+1;if(r===n)return[e];let i=[],s=e.start;for(let a=r;a<n;a++){let l=t[a];l.start>s&&i.push(new Or(s,l.start)),s=l.endExclusive}return s<e.endExclusive&&i.push(new Or(s,e.endExclusive)),i}o($Re,"subtractRange");d();d();d();var tq=class{static{o(this,"PrefixSumComputer")}constructor(t){this.values=t,this.prefixSum=new Uint32Array(t.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}getCount(){return this.values.length}insertValues(t,r){t=i4(t);let n=this.values,i=this.prefixSum,s=r.length;return s===0?!1:(this.values=new Uint32Array(n.length+s),this.values.set(n.subarray(0,t),0),this.values.set(n.subarray(t),t+s),this.values.set(r,t),t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(t,r){return t=i4(t),r=i4(r),this.values[t]===r?!1:(this.values[t]=r,t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),!0)}removeValues(t,r){t=i4(t),r=i4(r);let n=this.values,i=this.prefixSum;if(t>=n.length)return!1;let s=n.length-t;return r>=s&&(r=s),r===0?!1:(this.values=new Uint32Array(n.length-r),this.values.set(n.subarray(0,t),0),this.values.set(n.subarray(t+r),t),this.prefixSum=new Uint32Array(this.values.length),t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(t){return t<0?0:(t=i4(t),this._getPrefixSum(t))}_getPrefixSum(t){if(t<=this.prefixSumValidIndex[0])return this.prefixSum[t];let r=this.prefixSumValidIndex[0]+1;r===0&&(this.prefixSum[0]=this.values[0],r++),t>=this.values.length&&(t=this.values.length-1);for(let n=r;n<=t;n++)this.prefixSum[n]=this.prefixSum[n-1]+this.values[n];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],t),this.prefixSum[t]}getIndexOf(t){t=Math.floor(t),this.getTotalSum();let r=0,n=this.values.length-1,i=0,s=0,a=0;for(;r<=n;)if(i=r+(n-r)/2|0,s=this.prefixSum[i],a=s-this.values[i],t<a)n=i-1;else if(t>=s)r=i+1;else break;return new Voe(i,t-a)}};var Voe=class{constructor(t,r){this.index=t;this.remainder=r;this._prefixSumIndexOfResultBrand=void 0;this.index=t,this.remainder=r}static{o(this,"PrefixSumIndexOfResult")}};var D_=class{static{o(this,"PositionOffsetTransformer")}constructor(t){this._lines=k5(t),this._eol=t.charAt(this._lines[0].length)==="\r"?`\r
`:`
`;let r=new Uint32Array(this._lines.length);for(let n=0;n<this._lines.length;n++)r[n]=this._lines[n].length+this._eol.length;this._lineStarts=new tq(r)}_getText(){return this._lines.join(this._eol)}applyOffsetEdits(t){let{edits:r}=t;for(let n=r.length-1;n>=0;n--){let i=r[n],s=this.toRange(i.replaceRange);this._acceptDeleteRange(s),this._acceptInsertText(s.start,i.newText)}}_acceptDeleteRange(t){if(t.start.line===t.end.line){if(t.start.character===t.end.character)return;this._setLineText(t.start.line,this._lines[t.start.line].substring(0,t.start.character)+this._lines[t.start.line].substring(t.end.character));return}this._setLineText(t.start.line,this._lines[t.start.line].substring(0,t.start.character)+this._lines[t.end.line].substring(t.end.character)),this._lines.splice(t.start.line+1,t.end.line-t.start.line),this._lineStarts.removeValues(t.start.line+1,t.end.line-t.start.line)}_acceptInsertText(t,r){if(r.length===0)return;let n=k5(r);if(n.length===1){this._setLineText(t.line,this._lines[t.line].substring(0,t.character)+n[0]+this._lines[t.line].substring(t.character));return}n[n.length-1]+=this._lines[t.line].substring(t.character),this._setLineText(t.line,this._lines[t.line].substring(0,t.character)+n[0]);let i=new Uint32Array(n.length-1);for(let s=1;s<n.length;s++)this._lines.splice(t.line+1+s-1,0,n[s]),i[s-1]=n[s].length+this._eol.length;this._lineStarts.insertValues(t.line+1,i)}_setLineText(t,r){this._lines[t]=r,this._lineStarts.setValue(t,this._lines[t].length+this._eol.length)}getLineCount(){return this._lines.length}getOffset(t){return t=this.validatePosition(t),this._lineStarts.getPrefixSum(t.line-1)+t.character}getPosition(t){t=Math.floor(t),t=Math.max(0,t);let r=this._lineStarts.getIndexOf(t),n=this._lines[r.index].length;return new mo(r.index,Math.min(r.remainder,n))}toRange(t){return new Hc(this.getPosition(t.start),this.getPosition(t.endExclusive))}toOffsetRange(t){return new Or(this.getOffset(t.start),this.getOffset(t.end))}toOffsetEdit(t){let r=t.map(n=>new b8(this.validateRange(n.range),n.newText));return new id(r.map(n=>new ka(this.toOffsetRange(n.range),n.newText)))}toTextEdits(t){return t.edits.map(r=>new b8(this.toRange(r.replaceRange),r.newText))}validatePosition(t){if(!(t instanceof mo))throw new Error("Invalid argument");if(this._lines.length===0)return t.with(0,0);let{line:r,character:n}=t,i=!1;if(r<0)r=0,n=0,i=!0;else if(r>=this._lines.length)r=this._lines.length-1,n=this._lines[r].length,i=!0;else{let s=this._lines[r].length;n<0?(n=0,i=!0):n>s&&(n=s,i=!0)}return i?new mo(r,n):t}validateRange(t){return new Hc(this.validatePosition(t.start),this.validatePosition(t.end))}};var rq=class{constructor(t,r){this.originalText=t;this.edits=r;this._positionOffsetTransformer=new dp(()=>new D_(this.text));this._originalPositionOffsetTransformer=new dp(()=>new D_(this.originalText));this._text=new dp(()=>this.edits.apply(this.originalText))}static{o(this,"ProjectedText")}get positionOffsetTransformer(){return this._positionOffsetTransformer.value}get originalPositionOffsetTransformer(){return this._originalPositionOffsetTransformer.value}get text(){return this._text.value}get lineCount(){return this.positionOffsetTransformer.getLineCount()}get isOriginal(){return this.edits.isEmpty||this.edits.isNoop(this.originalText)}project(t){return this.edits.applyToOffset(t)}projectOffsetRange(t){return this.edits.applyToOffsetRange(t)}projectRange(t){let r=this.originalPositionOffsetTransformer.toOffsetRange(t),n=this.projectOffsetRange(r);return this.positionOffsetTransformer.toRange(n)}projectOffsetEdit(t){return t.tryRebase(this.edits)}projectBack(t){return this.edits.applyInverseToOffset(t)}projectBackOffsetEdit(t){return t.tryRebase(this.edits.inverse(this.originalText))}projectBackTextEdit(t){let r=this.positionOffsetTransformer.toOffsetEdit(t),n=this.projectBackOffsetEdit(r);return this.originalPositionOffsetTransformer.toTextEdits(n)}};var joe=class{constructor(t,r,n,i,s){this.parent=t;this.overlayNode=r;this.range=n;this.children=i;this._document=s}static{o(this,"RemovableNode")}get kind(){return this.overlayNode.kind}get text(){return this._document.getTextInOffsetRange(this.range)}},K4=class extends rq{constructor(r,n){super(r.getText(),n);this.baseDocument=r}static{o(this,"ProjectedDocument")}getLanguageId(){return this.baseDocument.languageId}};function iq(e,t,r){let n=[],i=[],s=[];for(let l=0;l<r.length;l++){let{document:c,overlayNodeRoot:u,selection:f}=r[l],m=c.getText(),h=f?c.rangeToOffsetRange(f):void 0,p=zRe(u,c),A=$oe.fromRootNode(p,m),E=zoe.fromNode(A,!!t.tryPreserveTypeChecking,!!t.alwaysUseEllipsisForElisions);h&&E.visitAll(W=>W.node.range.intersectsOrTouches(h)?(W.node.children.length===0&&W.markAsSurviving(),!0):!1),n.push(E),i.push(E.getTextFragment());let x=o(W=>h?W.range.endExclusive<h.start?h.start-W.range.endExclusive:W.range.start>h.endExclusive?3*(W.range.start-h.endExclusive):0:0,"distanceScoreToSelection"),b=new p1(W=>h?W.children.length===0?W.range.intersectsOrTouches(h)?0:Number.MAX_SAFE_INTEGER:jRe(W.children.map(re=>b.get(re)))+1:0),v=new p1(W=>{let re=W.parent?v.get(W.parent):Number.MAX_SAFE_INTEGER,ge=b.get(W);return Math.min(re,ge)}),S=!!t.tryPreserveTypeChecking,k=o(W=>S&&W.node?.kind==="import_statement"?0:100*v.get(W)+W.depth+10*(x(W)/m.length),"costFn"),P=typeof t.costFnOverride=="object"?t.costFnOverride.createCostFn(c):t.costFnOverride;if(P!==void 0){let W=k;k=o(re=>{let ge=W(re);return ge===!1?!1:re.node?P(re.node,ge,c):ge},"costFn")}let N=E.getDescendantsAndSelf();for(let W of N){if(!W.node.node)continue;let re=k(W.node);re!==!1&&s.push({idx:l,node:W,cost:re})}}s.sort(w5(l=>l.cost,_5));for(let{node:l,idx:c}of s){if(l.markAsSurviving(),n.reduce((f,m)=>f+m.getTextFragment().length,0)>e)break;i[c]=n[c].getTextFragment()}let a=[];for(let l=0;l<i.length;l++){let c=i[l],{document:u}=r[l],f=new K4(u,c.toTextEditFromOriginal(u.getText().length)),m=f,h=n[l];m.getVisualization=()=>({$fileExtension:"ast.w",source:{value:f.originalText,decorations:$Re(Or.ofLength(f.originalText.length),f.edits.edits.map(p=>p.replaceRange)).map(p=>({range:[p.start,p.endExclusive],color:"lime"}))},root:Hoe(h,p=>({label:(p.node.node?.kind||"unknown")+` (${s.find(A=>A.node===p)?.cost})`,range:p.node.range,children:p.childNodes,isMarked:p._surviving}))}),a.push(f)}return a}o(iq,"summarizeDocumentsSyncImpl");function zRe(e,t,r=void 0){let n=new Or(e.startIndex,e.endIndex),i=[],s=new joe(r,e,n,i,t);for(let a of e.children)i.push(zRe(a,t,s));return s}o(zRe,"createRemovableNodeFromOverlayNode");var $oe=class e{constructor(t,r,n,i,s,a){this.node=t;this.range=r;this.children=n;this.depth=i;this.parent=s;this.document=a}static{o(this,"TextNode")}static fromRootNode(t,r){let n=new Or(0,r.length);if(t.range.equals(n))return e.fromNode(t,r);let i=new Or(0,t.range.start),s=new Or(t.range.endExclusive,r.length),a=[],l=new e(void 0,n,a,0,null,r);return i.isEmpty||a.push(new e(void 0,i,[],0,l,r)),a.push(e.fromNode(t,r,1,null)),s.isEmpty||a.push(new e(void 0,s,[],0,l,r)),l}static fromNode(t,r,n=0,i=null){let s=[],a=new e(t,t.range,s,n,i,r);if(t.children.length>0){let l=t.range.start;for(let u of t.children){let f=new Or(l,u.range.start);f.isEmpty||s.push(new e(void 0,f,[],n,a,r)),s.push(e.fromNode(u,r,n+1,a)),l=u.range.endExclusive}let c=new Or(l,t.range.endExclusive);c.isEmpty||s.push(new e(void 0,c,[],n,a,r))}return a}},zoe=class e{constructor(t,r,n,i,s){this.node=t;this.parent=r;this.childNodes=n;this._tryPreserveTypeChecking=i;this._alwaysUseEllipsisForElisions=s;this._surviving=!1;this._textFragment=null}static{o(this,"SurvivingTextNode")}static fromNode(t,r,n){return e.fromNodeParent(t,null,r,n)}static fromNodeParent(t,r,n,i){let s=[],a=new e(t,r,s,n,i);for(let l of t.children){let c=e.fromNodeParent(l,a,n,i);s.push(c)}return a}visitAll(t){if(t(this))for(let r of this.childNodes)r.visitAll(t)}markAsSurviving(){this._surviving||(this._surviving=!0,this.parent&&this.parent.markAsSurviving(),this.invalidate())}invalidate(){this._textFragment&&(this._textFragment=null,this.parent&&this.parent.invalidate())}getTextFragment(){return this._textFragment||(this._textFragment=this._computeSummarization()),this._textFragment}_computeSummarization(){if(this.childNodes.length===0&&(this._surviving||!this.node.node))return new j1(this.node.range,this.node.document);if(!this._surviving)return new Y4("");let t=[];for(let r of this.childNodes){let n=r.getTextFragment();if(n.length===0){t.length>0&&t[t.length-1].length===0||t.push(n);continue}Gbt(t,n)}for(let r=0;r<=t.length-3;r++){let n=t[r],i=t[r+1],s=t[r+2];if(i.length===0&&n instanceof j1&&s instanceof j1){let a=n.trimEnd(),l=s.trimStart();a.endsWith("{")&&l.startsWith("}")&&(t[r]=a,t[r+1]=new Y4(this._tryPreserveTypeChecking?"/* ... */":"\u2026"),t[r+2]=l)}if(this._alwaysUseEllipsisForElisions&&i.length===0&&!(i instanceof j1)){let a=t[r].text,c=a.substring(a.lastIndexOf(`
`)+1).trim()===""?"":`
`,u=t[r+2].text,m=u.substring(0,u.indexOf(`
`)).trim()===""?"":`
`;t[r+1]=new Y4(c+(this._tryPreserveTypeChecking?"/* ... */":"\u2026")+m)}}return nq.from(t)}getDescendantsAndSelf(){let t=[];return this._getDescendantsAndSelf(t),t}_getDescendantsAndSelf(t){t.push(this);for(let r of this.childNodes)r._getDescendantsAndSelf(t)}},P_=class{static{o(this,"TextFragment")}toString(){return this.text}toTextEditFromOriginal(t){let r=[],n=0,i="";function s(l){(n!==l||i.length>0)&&(r.push(new ka(new Or(n,l),i)),i="")}o(s,"emit");function a(l){if(l instanceof nq)for(let c of l.fragments)a(c);else l instanceof Y4?i+=l.text:l instanceof j1&&(s(l.range.start),n=l.range.endExclusive)}return o(a,"process"),a(this),s(t),new id(r)}},Y4=class extends P_{constructor(r){super();this.text=r}static{o(this,"LiteralTextFragment")}get length(){return this.text.length}},j1=class e extends P_{constructor(r,n){super();this.range=r;this.originalText=n}static{o(this,"OriginalTextFragment")}get length(){return this.range.length}get text(){return this.range.substring(this.originalText)}trimStart(){let r=this.text.trimStart();return r.length===this.length?this:new e(new Or(this.range.endExclusive-r.length,this.range.endExclusive),this.originalText)}trimEnd(){let r=this.text.trimEnd();return r.length===this.length?this:new e(new Or(this.range.start,this.range.start+r.length),this.originalText)}startsWith(r){return this.text.startsWith(r)}endsWith(r){return this.text.endsWith(r)}tryJoin(r){return this.range.endExclusive===r.range.start?new e(new Or(this.range.start,r.range.endExclusive),this.originalText):null}},nq=class e extends P_{constructor(r){super();this.fragments=r;this.length=this.fragments.reduce((r,n)=>r+n.length,0)}static{o(this,"ConcatenatedTextFragment")}static from(r){return r.length===0?new Y4(""):r.length===1?r[0]:new e(r)}get text(){return this.fragments.map(r=>r.text).join("")}};function Gbt(e,t){if(t.length===0)return;let r=e[e.length-1];if(r&&r instanceof j1&&t instanceof j1){let n=r.tryJoin(t);if(n){e[e.length-1]=n;return}}e.push(t)}o(Gbt,"pushFragment");d();d();var oq=class{constructor(t,r,n,i){this.startIndex=t;this.endIndex=r;this.kind=n;this.children=i;if(t>r)throw new gi("startIndex must be less than endIndex");let s=t;for(let a of i){if(a.startIndex<s)throw new gi("Invalid child startIndex");if(a.endIndex>r)throw new gi("Invalid child endIndex");s=Math.max(a.endIndex,s)}}static{o(this,"OverlayNode")}toString(){let t=[];function r(n,i=""){t.push(`${i}${n.kind} [${n.startIndex}, ${n.endIndex}]`),n.children.forEach(s=>r(s,i+"    "))}return o(r,"toString"),r(this),t.join(`
`)}};function KRe(e,t,r){let n=e.getText().split(/\r\n|\r|\n/g),i=r||{tabSize:4},s={getLineCount:o(()=>n.length,"getLineCount"),getLineContent:o(a=>n[a-1],"getLineContent"),getOptions:o(()=>i,"getOptions")};try{let a=Wbt(s,t),[l]=JRe(e,a,void 0);return l.adjust(e,XRe(t)),l.toOverlayNode(e,!0)}catch{return new sq(1,e.getLineCount(),[]).toOverlayNode(e,!0)}}o(KRe,"getStructureUsingIndentation");function JRe(e,t,r){if(typeof r<"u"&&r>=t.length)throw new Error(`Invalid region index ${r}`);let n=typeof r>"u"?1:t.getStartLineNumber(r),i=typeof r>"u"?e.getLineCount():t.getEndLineNumber(r),s=[],a=null;for(r=typeof r>"u"?0:r+1;r<t.length;){let l=t.getStartLineNumber(r),c=t.getEndLineNumber(r);if(l>i||c>i)break;let u=a;if([a,r]=JRe(e,t,r),u&&a.startLineNumber<=u.endLineNumber)throw new gi("Invalid Folding Ranges: overlapping children");if(a.startLineNumber<n)throw new gi("Invalid Folding Ranges: child starts before parent");s.push(a)}return[new sq(n,i,s),r]}o(JRe,"createFoldingRangeTree");var sq=class{constructor(t,r,n){this.startLineNumber=t;this.endLineNumber=r;this.children=n;if(t>r)throw new gi("Invalid Folding Ranges: startLineNumber > endLineNumber")}static{o(this,"FoldingRangeNode")}adjust(t,r){r?this._adjustOffside():this._adjustRegular(t,t.getLineCount())}_adjustOffside(){this.startLineNumber++;for(let t of this.children)t._adjustOffside()}_adjustRegular(t,r){if(this.endLineNumber<r){let n=t.getLineText(this.endLineNumber).trim(),i=/^[\}\]\)];?$/.test(n),s=/^<\/\w/.test(n);(i||s)&&this.endLineNumber++}for(let n=this.children.length-1;n>=0;n--){let i=this.children[n],s=n+1<this.children.length?this.children[n+1].startLineNumber-1:r;i._adjustRegular(t,s)}}toOverlayNode(t,r){let n=[],i=r&&this.startLineNumber===1?1:this.startLineNumber+1;for(let s of this.children){for(let a=i;a<s.startLineNumber;a++){let l=Yoe(t,a,a,"LINE",[]);l&&n.push(l)}n.push(s.toOverlayNode(t,!1)),i=s.endLineNumber+1}for(let s=i;s<this.endLineNumber;s++){let a=Yoe(t,s,s,"LINE",[]);a&&n.push(a)}return Yoe(t,this.startLineNumber,this.endLineNumber,"FOLD",n)}};function Yoe(e,t,r,n,i){let s=e.getOffsetAtPosition(new mo(t-1,0)),a=r<e.getLineCount()?new mo(r,0):new mo(r-1,e.getLineLength(r-1)),l=e.getOffsetAtPosition(a);return new oq(s,l,n,i)}o(Yoe,"createOverlayNode");function Wbt(e,t){return Hbt(e,XRe(t))}o(Wbt,"generateFoldingRegions");function XRe(e){return["clojure","coffeescript","fsharp","latex","markdown","pug","python","sql","yaml"].includes(e)}o(XRe,"isOffSide");function Hbt(e,t){let r=e.getOptions().tabSize,n=new Koe,i=[],s=e.getLineCount()+1;i.push({indent:-1,endAbove:s,line:s});for(let a=e.getLineCount();a>0;a--){let l=e.getLineContent(a),c=jbt(l,r),u=i[i.length-1];if(c===-1){t&&(u.endAbove=a);continue}if(u.indent>c){do i.pop(),u=i[i.length-1];while(u.indent>c);let f=u.endAbove-1;f-a>=1&&n.insertFirst(a,f,c)}u.indent===c?u.endAbove=a:i.push({indent:c,endAbove:a,line:a})}return n.toIndentRanges()}o(Hbt,"_computeRanges");var Vbt=65535,J4=16777215,YRe=4278190080,Koe=class{static{o(this,"RangesCollector")}constructor(){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0}insertFirst(t,r,n){if(t>J4||r>J4)return;let i=this._length;this._startIndexes[i]=t,this._endIndexes[i]=r,this._length++,n<1e3&&(this._indentOccurrences[n]=(this._indentOccurrences[n]||0)+1)}toIndentRanges(){let t=new Uint32Array(this._length),r=new Uint32Array(this._length);for(let n=this._length-1,i=0;n>=0;n--,i++)t[i]=this._startIndexes[n],r[i]=this._endIndexes[n];return new Joe(t,r)}};function jbt(e,t){let r=0,n=0,i=e.length;for(;n<i;){let s=e.charCodeAt(n);if(s===32)r++;else if(s===9)r=r-r%t+t;else break;n++}return n===i?-1:r}o(jbt,"computeIndentLevel");var Joe=class{static{o(this,"FoldingRegions")}constructor(t,r){this._startIndexes=t,this._endIndexes=r,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let t=[],r=o((n,i)=>{let s=t[t.length-1];return this.getStartLineNumber(s)<=n&&this.getEndLineNumber(s)>=i},"isInsideLast");for(let n=0,i=this._startIndexes.length;n<i;n++){let s=this._startIndexes[n],a=this._endIndexes[n];if(s>J4||a>J4)throw new Error("startLineNumber or endLineNumber must not exceed "+J4);for(;t.length>0&&!r(s,a);)t.pop();let l=t.length>0?t[t.length-1]:-1;t.push(n),this._startIndexes[n]=s+((l&255)<<24),this._endIndexes[n]=a+((l&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(t){return this._startIndexes[t]&J4}getEndLineNumber(t){return this._endIndexes[t]&J4}getParentIndex(t){this.ensureParentIndices();let r=((this._startIndexes[t]&YRe)>>>24)+((this._endIndexes[t]&YRe)>>>16);return r===Vbt?-1:r}contains(t,r){return this.getStartLineNumber(t)<=r&&this.getEndLineNumber(t)>=r}findIndex(t){let r=0,n=this._startIndexes.length;if(n===0)return-1;for(;r<n;){let i=Math.floor((r+n)/2);t<this.getStartLineNumber(i)?n=i:r=i+1}return r-1}findRange(t){let r=this.findIndex(t);if(r>=0){if(this.getEndLineNumber(r)>=t)return r;for(r=this.getParentIndex(r);r!==-1;){if(this.contains(r,t))return r;r=this.getParentIndex(r)}}return-1}};d();function Xoe(e){return e instanceof Error?e:typeof e=="string"?new Error(e):new Error(`An unexpected error occurred: ${e}`)}o(Xoe,"fromUnknown");var Ya=ft(Ob());var aq="current-version",Ju="next-version",ZRe=2,eDe=10,tDe=.7,Ybt=/```[^\n]*\n/,by=class extends VU{constructor(r,n,i){super(by.ID,[s=>new YU(s),s=>new jU(s),s=>new $U(s)]);this.fetcher=r;this._parserService=n;this._instantiationService=i;this.dependsOnSelection=!0;this.showNextEditPreference="always";this._delayer=new GU}static{o(this,"GhNearbyNesProvider")}static{this.ID="GhNearbyNesProvider"}canReuseResult(r,n){if(r.getActiveDocument().id!==n.getActiveDocument().id||r.documents.length!==n.documents.length)return!1;let i=new Map(r.documents.map(a=>[a.id,a]));for(let a of n.documents){let l=i.get(a.id);if(!l||!s(l,a))return!1}return!0;function s(a,l){if(a.documentAfterEditsNoShortening.value!==l.documentAfterEditsNoShortening.value)return!1;let c=k_(a),u=c?Zoe(a,c):null,f=k_(l),m=f?Zoe(l,f):null;return!u||!m?!0:Math.abs(u.line-m.line)<Math.min(ZRe,eDe)}}handleAcceptance(){this._delayer.handleAcceptance()}handleRejection(){this._delayer.handleRejection()}async provideNextEditBase(r,n){let i=new T8(r),s=this._delayer.createDelaySession(),a;try{a=await this.doGetNextEdit(r,i,s,n)}catch(c){return Xi.noEdit({kind:"unexpected",error:Xoe(c)},i)}let l=s.getArtificalDelay();return l>0&&await z4(l),a}async doGetNextEdit(r,n,i,s){return r.documents.some(c=>{if(c.recentEdit.edits.length===0)return!1;for(let u of c.recentEdit.edits)if(!u.lineRange.isEmpty||u.newLines.length>0)return!0;return!1})?await this.sendRequestAndProcessResult(r,i,s,n):Xi.noEdit({kind:"activeDocumentHasNoEdits"},n)}async sendRequestAndProcessResult(r,n,i,s){let a=await this.createPrompt(r,i);if(!a)return Xi.noEdit({kind:"noSuggestions"},s);if(!a.editWindowIsInPrompt)return Xi.noEdit({kind:"filteredOut",message:"promptTooLarge"},s);if(await this.debounce(n,s),i.isCancellationRequested){let k={kind:"gotCancelled",message:"afterDebounce"};return Xi.noEdit(k,s)}let{summarizedEditWindow:l,editWindowAllowedEditLineRange:c,allowedEditLineRange:u,maxCompletionLineCount:f,messages:m,completionPrefixRange:h,completionRange:p,convergence:A,activeDocument:E,activeDocumentLines:x}=a;s.setFetchStartedAt(),r.fetchIssued=!0;let b=await Uoe(this.ID,this.fetcher,m,{convergence:A,ignoreReplyTextBefore:Ybt,maxCompletionLineCount:f,convergenceNonWhitespaceCharOverlap:1e3},i);if(s.setFetchResultIfNotSet(b.isOk()?"success":b.err.kind==="cancel"||i.isCancellationRequested?"cancelled":"failure"),i.isCancellationRequested)return Xi.noEdit({kind:"gotCancelled",message:"afterFetchCall"},s);if(b.isError())return b.err.kind==="cancel"?Xi.noEdit({kind:"gotCancelled",message:"afterFetchCall"},s):Xi.noEdit({kind:"fetchFailure",error:Xoe(b.err.err)},s);let{result:v}=b.val;if(v.length===0){let k=`<${Ju}>
`,P=b.val.ignored.indexOf(k);P>=0&&(v=b.val.ignored.substring(P+k.length))}if(v=Kbt(v),v.trim().length===0)return Xi.noEdit({kind:"noSuggestions"},s);let S;if(l&&c&&u){let k=Jbt(E,l,c,v);if(!k||k.edits.length===0)return Xi.noEdit({kind:"filteredOut",message:"Content is identical or cannot get clean diff within edit window"},s);let P=Xbt(l,k);if(P.edits.length===0)return Xi.noEdit({kind:"filteredOut",message:"No-op edit or could not map back to original document"},s);if(JU){let re=await R_(this._parserService,E.languageId,E.documentAfterEditsNoShortening.value),ge=P.apply(E.documentAfterEditsNoShortening.value);if(await R_(this._parserService,E.languageId,ge)>re)return Xi.noEdit({kind:"filteredOut",message:"More parse errors after edit"},s)}S=Zbt(E,P);let N=S.edits[0].lineRange.startLineNumber,W=S.edits[S.edits.length-1].lineRange.endLineNumberExclusive;if(!qoe(new Hn(N,W),u))return Xi.noEdit({kind:"filteredOut",message:"Outside edit window after projection"},s)}else{let k=XU(E.languageId,x,h,p,v,void 0),P=await Goe(this._parserService,k,E,{requireEditWithinNLines:100});if(!P)return Xi.noEdit({kind:"filteredOut",message:"Could not identify best edit"},s);S=new xs([P])}return eIt(E,S)?Xi.noEdit({kind:"filteredOut",message:"Undo of recent edit"},s):tIt(E,S)?Xi.noEdit({kind:"filteredOut",message:"Deletion of recent insertion"},s):rIt(E,S)?Xi.noEdit({kind:"filteredOut",message:"uncategorized"},s):nIt(E,S)?Xi.noEdit({kind:"filteredOut",message:"uncategorized"},s):Xi.edit({edit:S},s)}async debounce(r,n){let i=r.getDebounceTime();n.setDebounceTime(i),await z4(i)}async createPrompt(r,n){let i=r.getActiveDocument(),a=i.documentAfterEdits.value.includes(`\r
`)?`\r
`:`
`,l=i.documentAfterEdits.value.split(a),c=k_(i);if(c===null)return;let u=Zoe(i,c),f=new Ym(i.documentAfterEditsNoShortening.value),m=await sIt(this._parserService,{getText:o(()=>f.getText(),"getText"),languageId:i.languageId}),{firstEditableLineInShortenedDocument:h,lastEditableLineInShortenedDocument:p,editWindow:A}=function(){let ge=iIt(i.documentAfterEditsLines,c.startLineNumber),te=Math.max(1,Math.min(ge,c.startLineNumber-ZRe)),G=c.startLineNumber-te,q=Math.min(l.length,c.endLineNumber+eDe),se=q-c.endLineNumber,ne=u.line-G,H=u.line+se,O=new Hc(ne,0,H,f.getLineLength(H));return{firstEditableLineInShortenedDocument:te,lastEditableLineInShortenedDocument:q,editWindow:O}}(),E=iq(0,{alwaysUseEllipsisForElisions:!0},[{overlayNodeRoot:m,document:f,selection:A}])[0],x=new Hn(1,h),b=new Hn(h,p+1),v=E.text,{messages:S,prediction:k,editWindowIsInPrompt:P}=await this._renderPrompt({request:r,activeDocumentSlice:v,languageId:i.languageId},n),N=v.split(/\r\n|\r|\n/).length,W=E.projectRange(A),re=E.positionOffsetTransformer.toOffsetRange(W);return{summarizedEditWindow:E,editWindowAllowedEditLineRange:new Hn(W.start.line+1,W.end.line+2),allowedEditLineRange:new Hn(h,p+1),messages:S,prediction:k,editWindowIsInPrompt:P,activeDocument:i,activeDocumentLines:l,completionPrefixRange:x,completionRange:b,convergence:v,expectedConvergencePrefix:re.start,maxCompletionLineCount:N+20}}async _renderPrompt(r,n){let s=await vy.create(this._instantiationService,tse,r).render(void 0,n,{trace:!1}),a=s.metadata.get(dq)?.prediction,l=!!s.metadata.get(cq);return{messages:s.messages,prediction:a,editWindowIsInPrompt:l}}};by=ru([Aa(0,V1),Aa(1,H1),Aa(2,Up)],by);function Kbt(e){function t(r,n,i){let s=r.lastIndexOf(n);if(s===-1)return r;let a=r.slice(0,s);return a.trim().length>0?a+i:a}return o(t,"getStringBeforeLastPattern"),e=t(e,"\n```",`
`),e=t(e,`\`\`\`</${Ju}>`,`
`),e=t(e,`\`\`\`
</${Ju}>`,`
`),e=t(e,`</${Ju}>`,`
`),e}o(Kbt,"removeSuffixFromReply");function Zoe(e,t){let r=e.documentAfterEdits.getTransformer().getOffset(t.getEndPosition()),n=e.toOffsetOnDocumentAfterEditsNoShortening(r);return new Ym(e.documentAfterEditsNoShortening.value).getPositionAtOffset(n)}o(Zoe,"getCursorPositionInOuterDocument");function Jbt(e,t,r,n){let i=_8.fromString(t.text),s=_8.fromString(n.trimEnd()),l=new k8(e.languageId,i,new Hn(1,i.length+1),s).resolveDiff().eliminateEmptyLineChanges().eliminateInsertedOrDeletedComments().eliminateEmptyLineChanges(),c=t.isOriginal?l:l.containWithinLines(r);if(!c)return null;let u=Ooe?c.eliminateLargeChangeHunks():c;return u?u.toLineEdit("multiple-hunks"):null}o(Jbt,"generateSummarizedEditWindowEdit");function Xbt(e,t){let r=t.toEdit(new hl(e.text));return e.projectBackOffsetEdit(r.toOffsetEdit())}o(Xbt,"convertSummarizedEditWindowEditToOuterDocumentEdit");function Zbt(e,t){let r=t.edits.map(i=>{let s=i.replaceRange.start,a=e.toProjectedOffset(s);return Es.replace(new Or(a,a+i.replaceRange.length),i.newText)}),n=new Lu(e.documentAfterEdits,rs.create(r));return xs.fromEdit(n)}o(Zbt,"convertOuterDocumentEditToProjectedEdit");function eIt(e,t){let r=t.toEdit(e.documentAfterEdits),n=rDe(e.documentAfterEdits.value,r),i=new lq,s=e.documentBeforeEdits.value;for(let a of e.recentEdits.edits)i=i.combine(rDe(s,a)),s=a.apply(s);return!!i.isUndoneBy(n)}o(eIt,"editWouldUndo");function tIt(e,t){let r=t.toEdit(e.documentAfterEdits);if(r=r.normalizeOnSource(e.documentAfterEdits.value),!sDe(r))return!1;for(let n=e.recentEdits.edits.length-1;n>=0;n--){let i=e.recentEdits.edits[n],s=r.tryRebase(i);if(!s)return!0;r=s}return!1}o(tIt,"editWouldDeleteWhatWasJustInserted");function rIt(e,t){let r=t.toEdit(e.documentAfterEdits);if(r=r.normalizeOnSource(e.documentAfterEdits.value),!sDe(r))return!1;for(let n of r.edits){let i=e.documentAfterEdits.value.substring(n.range.start,n.range.endExclusive);if(Foe(i,e.languageId))return!0}return!1}o(rIt,"editWouldDeleteAComment");function nIt(e,t){if(t.edits.length!==1)return!1;let r=t.edits[0];if(!r.lineRange.isEmpty)return!1;let n=o(l=>l.trim().length>5,"isSignificantLine"),i=new Set(r.newLines.filter(n));if(i.size>1)return!1;let s=new Set(e.documentAfterEditsLines.filter(n));return ese(s,i)/i.size>.8}o(nIt,"editWouldDuplicateExistingLines");function sDe(e){let t=e.edits.reduce((n,i)=>n+i.range.length,0);return e.edits.reduce((n,i)=>n+i.newText.length,0)===0&&t>0}o(sDe,"editIsDeletion");function iIt(e,t){for(;t>0;){if(e[t-1].trim().length>0)return t;t--}return 1}o(iIt,"findLineNumberAboveWithContent");var lq=class e{constructor(t=new Set,r=new Set){this.inserted=t;this.deleted=r}static{o(this,"InformationDelta")}combine(t){return new e(iDe(this.inserted,t.inserted),iDe(this.deleted,t.deleted))}isUndoneBy(t){let r=oDe(t.inserted,t.deleted),n=oDe(t.deleted,t.inserted),i=ese(n,this.inserted),s=ese(r,this.deleted);return n.size>6&&i/n.size>tDe||r.size>6&&s/r.size>tDe}};function rDe(e,t){let r=new Set,n=new Set,i=o(a=>{if(!a)return;let l=e.substring(a.start,a.endExclusive);for(let c of l.split(/\r\n|\r|\n/)){c=c.trim();for(let u of nDe(c))n.add(u)}},"tryAddDeleted"),s=o(a=>{for(let l of a.split(/\r\n|\r|\n/)){l=l.trim();for(let c of nDe(l))r.add(c)}},"tryAddInserted");for(let a of t.edits){let l=a.removeCommonPrefix(e).removeCommonSuffix(e),c=a.removeCommonSuffix(e).removeCommonPrefix(e);l.isNeutral()||(i(l.range),i(c.range),i(l.range.intersect(c.range)),s(oIt(l.newText,c.newText)))}return new lq(r,n)}o(rDe,"getInformationDelta");function oIt(e,t){let r=Math.min(e.length,t.length);for(let n=0;n<r;n++){let i=e.slice(0,e.length-n),s=t.slice(n);if(i===s)return i}return""}o(oIt,"trimOverlap");function nDe(e){let t=[];for(let r=4;r<e.length;r++){let n=e.slice(r-4,r);t.push(n)}return t}o(nDe,"to4grams");function iDe(e,t){let r=new Set;for(let n of e)r.add(n);for(let n of t)r.add(n);return r}o(iDe,"setUnion");function oDe(e,t){let r=new Set;for(let n of e)t.has(n)||r.add(n);return r}o(oDe,"setMinus");function ese(e,t){let r=0;for(let n of e)t.has(n)&&r++;return r}o(ese,"setIntersectionCount");async function sIt(e,t){let n=await e.getTreeSitterAST(t)?.getStructure();return n||KRe(new Ym(t.getText()),t.languageId,void 0)}o(sIt,"getStructure");var tse=class extends Ya.PromptElement{static{o(this,"GHNearbyPrompt")}async render(t,r){let{request:n,activeDocumentSlice:i,languageId:s}=this.props,a=[`<${Ju}>`,`\`\`\`${s}`,`${i}`,"```",`</${Ju}>`].join(`
`),l=(0,Ya.useKeepWith)();return vscpp(vscppf,null,vscpp("meta",{value:new dq(a)}),vscpp(Ya.SystemMessage,{priority:1e3},vscpp(ZU,null),this._getInstructions()),vscpp(Ya.UserMessage,{priority:900},"These are the files I'm working on, before I started making changes to them:",vscpp("br",null),"<original_code>",vscpp("br",null),n.documents.map((c,u)=>c.id===n.getActiveDocument().id?vscpp(l,{priority:300},vscpp(Ya.Chunk,{priority:300},vscpp(uq,{doc:c}))):vscpp(Ya.Chunk,{priority:100+u},vscpp(uq,{doc:c}))),vscpp("br",null),"</original_code>",vscpp("br",null),vscpp("br",null),"This is a sequence of edits that I made on these files, starting from the oldest to the newest:",vscpp("br",null),"<edits_to_original_code>",vscpp("br",null),n.documents.map((c,u)=>c.id===n.getActiveDocument().id?vscpp(l,{priority:300},vscpp(Ya.Chunk,{priority:300},vscpp(fq,{doc:c}))):vscpp(Ya.Chunk,{priority:200+u},vscpp(fq,{doc:c}))),vscpp("br",null),"</edits_to_original_code>",vscpp("br",null),vscpp("br",null),vscpp(l,{priority:300},vscpp(Ya.Chunk,{priority:300},vscpp("meta",{local:!0,value:new cq}),"Here is the piece of code I am currently editing in"," ",n.getActiveDocument().getDisplayPath(),":",vscpp("br",null),vscpp("br",null),"<",aq,">",vscpp("br",null),"```",s,vscpp("br",null),i,vscpp("br",null),"```",vscpp("br",null),"</",aq,">",vscpp("br",null),vscpp("br",null),"Based on my most recent edits, what will I do next? Rewrite the code between <",aq,"> and </",aq,"> based on what I will do next. Do not skip any lines. Do not be lazy.",vscpp("br",null)))))}_getInstructions(){switch("v1"){case"v1":return vscpp(vscppf,null,"The programmer will provide you with a set of recently viewed files, their recent edits, and a snippet of code that is being actively edited.",vscpp("br",null),vscpp("br",null),"When helping the programmer, your goals are:",vscpp("br",null),"- Make only the necessary changes as indicated by the context.",vscpp("br",null),"- Avoid unnecessary rewrites and make only the necessary changes, using ellipses to indicate partial code where appropriate.",vscpp("br",null),"- Ensure all specified additions, modifications, and new elements (e.g., methods, parameters, function calls) are included in the response.",vscpp("br",null),"- Adhere strictly to the provided pattern, structure, and content, including matching the exact structure and formatting of the expected response.",vscpp("br",null),"- Maintain the integrity of the existing code while making necessary updates.",vscpp("br",null),"- Provide complete and detailed code snippets without omissions, ensuring all necessary parts such as additional classes, methods, or specific steps are included.",vscpp("br",null),"- Keep the programmer on the pattern that you think they are on.",vscpp("br",null),"- Consider what edits need to be made next, if any.",vscpp("br",null),vscpp("br",null),"When responding to the programmer, you must follow these rules:",vscpp("br",null),"- Only answer with the updated code. The programmer will copy and paste your code as is in place of the programmer's provided snippet.",vscpp("br",null),"- Match the expected response exactly, even if it includes errors or corruptions, to ensure consistency.",vscpp("br",null),"- Do not alter method signatures, add or remove return values, or modify existing logic unless explicitly instructed.",vscpp("br",null),"- You must ONLY reply using the tag: <",Ju,">.");case"v2":return vscpp(vscppf,null,"The programmer will provide you with a set of recently viewed files, their recent edits, and a snippet of code that is being actively edited.",vscpp("br",null),vscpp("br",null),"When helping the programmer, your goals are:",vscpp("br",null),"- Keep the programmer on the pattern that you think they are on.",vscpp("br",null),"- Consider what edits need to be made next, if any.",vscpp("br",null),"- Ensure that all necessary conditional logic and key-value pairs are preserved in the updated code.",vscpp("br",null),vscpp("br",null),"When responding to the programmer, you must follow these rules:",vscpp("br",null),"- Only answer with the updated code. The programmer will copy and paste your code as is in place of the programmer's provided snippet.",vscpp("br",null),"- Avoid introducing unnecessary variables or methods that are not part of the original code structure.",vscpp("br",null),"- You must ONLY reply using the tag: <",Ju,">.",vscpp("br",null),"- Provide a complete and functional code snippet without placeholders or incomplete sections unless explicitly required.");default:return vscpp(vscppf,null,"The programmer will provide you with a set of recently viewed files, their recent edits, and a snippet of code that is currently edited.",vscpp("br",null),vscpp("br",null),"When helping the programmer, your goals are:",vscpp("br",null),"- Keep the programmer on the pattern that you think they are on. Some examples are:",vscpp("br",null),"- Further implementing a class, method, or variable.",vscpp("br",null),"- Improving quality of the code.",vscpp("br",null),"- Making sure the programmer does not get distracted - make sure the next changes are relevant.",vscpp("br",null),"- Consider what edits need to be made next, if any.",vscpp("br",null),"- If you think changes should be made, ask yourself if this is really what needs to happen. If you are confident about it, then continue with the edits.",vscpp("br",null),vscpp("br",null),"When responding to the programmer, you must follow these rules:",vscpp("br",null),"- Only answer with the updated code. The programmer will copy and paste your code as is in place of the programmer's provided snippet.",vscpp("br",null),"- You must ONLY reply using the tag: <",Ju,">.:",vscpp("br",null),"- If you see further edits to make to the programmer's code, you must provide the updated code in the <",Ju,"> tag.:",vscpp("br",null),"- If the programmer's code is already correct and requires no further edits, simply answer with <",Ju,">IDENTICAL</",Ju,">.",vscpp("br",null),"- Make sure that the indentation level of any new code is correct and consistent with the existing code.",vscpp("br",null),vscpp("br",null),"Remember, you must ONLY respond using the tag: <",Ju,">.")}}},cq=class extends Ya.PromptMetadata{static{o(this,"EditWindowMarkerMetadata")}},uq=class extends Ya.PromptElement{static{o(this,"OriginalDocument")}async render(t,r){let{doc:n}=this.props,i=[];for(let s=0;s<n.documentLinesBeforeEdit.length;s++){let a=n.documentLinesBeforeEdit[s];i.push(`${n.clippingRange.startLineNumber+s}\u2502${a}`)}return vscpp(vscppf,null,n.getDisplayPath(),":",vscpp("br",null),i.join(`
`))}},fq=class extends Ya.PromptElement{static{o(this,"DocumentDiffs")}async render(t,r){let{doc:n}=this.props,i=[];return i.push("```"),i.push(`---${n.getDisplayPath()}:`),i.push(`+++${n.getDisplayPath()}:`),i.push(...WRe(n)),i.push("```"),vscpp(vscppf,null,i.join(`
`))}},dq=class extends Ya.PromptMetadata{constructor(r){super();this.prediction=r}static{o(this,"PredictionMetadata")}};d();d();var mq=class extends oa{constructor(r){super();this.workspace=r;this._garbageCollector=new ise(20);this._documentCaches=new Map;m1(this,r.openDocuments,(n,i)=>{let s=new rse(n.id,n.value.get(),this._garbageCollector);this._documentCaches.set(s.docId,s),i.add(rI(this,{value:n.value,selection:n.selection,languageId:n.languageId},a=>{for(let l of a.value.changes)s.handleEdit(l)})),i.add(sa(()=>{this._documentCaches.delete(n.id)}))}).recomputeInitiallyAndOnChange(this._store)}static{o(this,"RejectionCollector")}reject(r,n){let i=this._documentCaches.get(r);i&&i.reject(n)}isRejected(r,n){let i=this._documentCaches.get(r);return i?i.isRejected(n):!1}},rse=class{constructor(t,r,n){this.docId=t;this._garbageCollector=n;this._rejectedEdits=new Set}static{o(this,"DocumentRejectionTracker")}handleEdit(t){for(let r of[...this._rejectedEdits])r.handleEdit(t)}reject(t){if(this.isRejected(t))return;let r=new nse(t.toEdit(),()=>{this._rejectedEdits.delete(r)});this._rejectedEdits.add(r),this._garbageCollector.put(r)}isRejected(t){for(let r of this._rejectedEdits)if(r.isRejected(t))return!0;return!1}},nse=class{constructor(t,r){this._edit=t;this._onDispose=r}static{o(this,"RejectedEdit")}handleEdit(t){let r=this._edit.tryRebase(t);r?this._edit=r:this.dispose()}isRejected(t){return this._edit.equals(t.toEdit())}dispose(){this._onDispose()}},ise=class{constructor(t){this._maxSize=t;this._disposables=[]}static{o(this,"LRUGarbageCollector")}put(t){this._disposables.push(t),this._disposables.length>this._maxSize&&this._disposables.shift().dispose()}dispose(){for(let t of this._disposables)t.dispose();this._disposables=[]}};d();d();var ose=ft(require("crypto"));var sse=ose.randomUUID.bind(ose);d();d();var N_=class{constructor(t,r){this.prev=null;this.next=null;this.key=t,this.value=r}static{o(this,"Node")}},hq=class{static{o(this,"LRUCache")}constructor(t=10){if(t<1)throw new Error("Cache size must be at least 1");this._capacity=t,this._cache=new Map,this._head=new N_("",null),this._tail=new N_("",null),this._head.next=this._tail,this._tail.prev=this._head}_addNode(t){t.prev=this._head,t.next=this._head.next,this._head.next.prev=t,this._head.next=t}_removeNode(t){let r=t.prev,n=t.next;r.next=n,n.prev=r}_moveToHead(t){this._removeNode(t),this._addNode(t)}_popTail(){let t=this._tail.prev;return this._removeNode(t),t}clear(){this._cache.clear(),this._head.next=this._tail,this._tail.prev=this._head}deleteKey(t){let r=this._cache.get(t);if(r)return this._removeNode(r),this._cache.delete(t),r.value}get(t){let r=this._cache.get(t);if(r)return this._moveToHead(r),r.value}keys(){let t=[],r=this._head.next;for(;r!==this._tail;)t.push(r.key),r=r.next;return t}getValues(){let t=[],r=this._head.next;for(;r!==this._tail;)t.push(r.value),r=r.next;return t}put(t,r){let n=this._cache.get(t);if(n)n.value=r,this._moveToHead(n);else if(n=new N_(t,r),this._cache.set(t,n),this._addNode(n),this._cache.size>this._capacity){let i=this._popTail();return this._cache.delete(i.key),[i.key,i.value]}}};var pq=class extends oa{constructor(r){super();this.workspace=r;this._documentCaches=new Map;this._sharedCache=new hq(50);m1(this,r.openDocuments,(n,i)=>{let s=new ase(n.id,n.value.get(),this._sharedCache);this._documentCaches.set(s.docId,s),i.add(rI(this,{value:n.value,selection:n.selection,languageId:n.languageId},a=>{for(let l of a.value.changes)s.handleEdit(l)})),i.add(sa(()=>{this._documentCaches.delete(n.id)}))}).recomputeInitiallyAndOnChange(this._store)}static{o(this,"NextEditCache")}setNextEdits(r,n,i){let s=this._documentCaches.get(r);s&&s.setNextEdits(n,i)}lookupNextEdit(r){let n=this._documentCaches.get(r);if(n)return n.lookupNextEdit()}},ase=class{constructor(t,r,n){this.docId=t;this._sharedCache=n;this._value=r}static{o(this,"DocumentEditCache")}handleEdit(t){this._value=this._value.apply(t)}setNextEdits(t,r){let n=this._value;for(let i=0;i<t.edits.length;i++){let s=t.edits[i],a=this._getKey(n.value);this._sharedCache.put(a,{edit:s,subsequentN:i,source:r,documentBeforeEdit:n}),n=n.apply(s.toEdit())}}lookupNextEdit(){let t=this._getKey(this._value.value),r=this._sharedCache.get(t);if(r)return r}_getKey(t){return JSON.stringify([this.docId.uri,t])}};d();var gq=class e{constructor(t){this._providerId=t;this._isFromCache=!1;this._wasPreviouslyRejected=!1;this._isShown=!1;this._acceptance="notAccepted";this._startTime=Date.now(),this._requestN=++e.requestN}static{o(this,"NextEditProviderTelemetryBuilder")}static{this.requestN=0}build(){let t,r,n,i,s,a;if(this._request){let c=this._request.getActiveDocument();t=this._request.documents.length,r=this._request.documents.reduce((u,f)=>u+f.recentEdits.edits.length,0),n=c.recentEdits.edits.length,i=c.languageId,s=c.lineCountBeforeClipping,a=c.clippingRange.length}let l=this._statelessNextEditTelemetry?.fetchStartedAt===void 0?void 0:this._statelessNextEditTelemetry.fetchStartedAt-this._startTime;return{opportunityId:this._opportunityId||"",headerRequestId:this._headerRequestId||"",requestN:this._requestN,providerId:this._providerId,nextEditProviderDuration:this._duration||0,isFromCache:this._isFromCache,subsequentEditOrder:this._subsequentEditOrder,documentShorteningStrategy:this._documentShorteningStrategy,documentsCount:t,editsCount:r,activeDocumentEditsCount:n,activeDocumentLanguageId:i,activeDocumentOriginalLineCount:s,activeDocumentShortenedLineCount:a,fetchStartedAfterMs:l,wasPreviouslyRejected:this._wasPreviouslyRejected,isShown:this._isShown,acceptance:this._acceptance,...this._statelessNextEditTelemetry}}setOpportunityId(t){return this._opportunityId=t,this}setHeaderRequestId(t){return this._headerRequestId=t,this}setIsFromCache(){return this._isFromCache=!0,this}setSubsequentEditOrder(t){return this._subsequentEditOrder=t,this}setDocumentShorteningStrategy(t){return this._documentShorteningStrategy=t,this}setRequest(t){return this._request=t,this}setStatelessNextEditTelemetry(t){return this._statelessNextEditTelemetry=t,this}setWasPreviouslyRejected(){return this._wasPreviouslyRejected=!0,this}markEndTime(){return this._duration=Date.now()-this._startTime,this}setAsShown(){return this._isShown=!0,this}setAcceptance(t){return this._acceptance=t,this}},R8=class{constructor(t){this.telemetrySender=t;this._map=new Map}static{o(this,"TelemetrySender")}markNextEditResultAsShown(t){let r=this._map.get(t);r&&r.builder.setAsShown()}scheduleSendingTelemetry(t,r){let n=setTimeout(()=>{this._doSendTelemetry(r),this._map.delete(t)},12e4);this._map.set(t,{builder:r,timeout:n})}sendTelemetryFor(t,r){let n=this._map.get(t);if(!n)return;this._map.delete(t),clearTimeout(n.timeout);let i=n.builder;i.setAcceptance(r),this._doSendTelemetry(i)}sendTelemetry(t){this._doSendTelemetry(t)}_doSendTelemetry(t){let r=t.build(),{opportunityId:n,headerRequestId:i,requestN:s,providerId:a,hadStatelessNextEditProviderCall:l,statelessNextEditProviderDuration:c,nextEditProviderDuration:u,isFromCache:f,subsequentEditOrder:m,documentShorteningStrategy:h,activeDocumentLanguageId:p,activeDocumentOriginalLineCount:A,activeDocumentShortenedLineCount:E,wasPreviouslyRejected:x,isShown:b,acceptance:v,logProbThreshold:S,documentsCount:k,editsCount:P,activeDocumentEditsCount:N,promptLineCount:W,promptCharCount:re,isDefaultEndpoint:ge,hadLowLogProbSuggestion:te,nonTerminatingError:G,nEditsSuggested:q,kthEditPicked:se,lineDistanceToMostRecentEdit:ne,debounceTime:H,hasNextEdit:O,nextEditLogprob:j,maxLinesPerEdit:J,noNextEditReasonKind:le,noNextEditReasonMessage:Z,firstEditStrategy:ae,firstPickStrategyOverride:ce,fetchTime:Re,fetchResult:be,fetchError:Ue,fetchStartedAfterMs:Be}=r;this._sendTelemetryToBoth({opportunityId:n,headerRequestId:i,providerId:a,documentShorteningStrategy:h,activeDocumentLanguageId:p,acceptance:v,nonTerminatingError:G,noNextEditReasonKind:le,noNextEditReasonMessage:Z,firstEditStrategy:ae,firstPickStrategyOverride:ce,fetchResult:be,fetchError:Ue},{requestN:s,hadStatelessNextEditProviderCall:this._boolToNum(l),statelessNextEditProviderDuration:c,nextEditProviderDuration:u,isFromCache:this._boolToNum(f),subsequentEditOrder:m,isDefaultEndpoint:this._boolToNum(ge),activeDocumentOriginalLineCount:A,activeDocumentShortenedLineCount:E,wasPreviouslyRejected:this._boolToNum(x),isShown:this._boolToNum(b),logProbThreshold:S,documentsCount:k,editsCount:P,activeDocumentEditsCount:N,promptLineCount:W,promptCharCount:re,hadLowLogProbSuggestion:this._boolToNum(te),nEditsSuggested:q,kthEditPicked:se,lineDistanceToMostRecentEdit:ne,debounceTime:H,fetchStartedAfterMs:Be,fetchTime:Re,hasNextEdit:this._boolToNum(O),nextEditLogprob:j,maxLinesPerEdit:J})}_sendTelemetryToBoth(t,r){this.telemetrySender.sendTelemetryEvent("copilot-nes/provideInlineEdit",t,r)}_boolToNum(t){return t===void 0?void 0:t?1:0}};R8=ru([Aa(0,UU)],R8);d();var D8=class{constructor(t){this.result=t}static{o(this,"NextEditResult")}};var X4=!1,aDe=300,P8=class extends oa{constructor(r,n,i,s,a,l){super();this._workspace=r;this._statelessNextEditProvider=n;this._historyContextProvider=i;this._parseService=s;this._instantiationService=a;this._snippyService=l;this._rejectionCollector=new mq(this._workspace);this._nextEditCache=new pq(this._workspace);this._recentlyShownCache=new use;this._pendingStatelessNextEditRequest=null;this._lastShownTime=0;this._lastRejectionTime=0;this._lastTriggerTime=0;m1(this,this._workspace.openDocuments,(c,u)=>{u.add(MZ(c.value,f=>{this._cancelPendingRequestDueToDocChange(c.id,f)}))}).recomputeInitiallyAndOnChange(this._store),this._telemetrySender=this._instantiationService.createInstance(R8)}static{o(this,"NextEditProvider")}get lastRejectionTime(){return this._lastRejectionTime}get lastTriggerTime(){return this._lastTriggerTime}_cancelPendingRequestDueToDocChange(r,n){if(this._pendingStatelessNextEditRequest===null)return;let i=this._pendingStatelessNextEditRequest.getActiveDocument();i.id===r&&i.documentAfterEditsNoShortening.value!==n.value&&this._pendingStatelessNextEditRequest.cancellationTokenSource.cancel()}async getNextEdit(r,n,i){this._lastTriggerTime=Date.now();let s=this._workspace.getDocument(r);if(!s)throw new gi(`Document "${r}" not found`);let a=s.value.get(),l=new gq(this._statelessNextEditProvider.ID);l.setOpportunityId(n.requestUuid??sse());let c=this._recentlyShownCache.get(r,a),u=this._nextEditCache.lookupNextEdit(r),f,m,h,p;if(c)f=c[0],p=c[1],m=a,l.setHeaderRequestId(p.headerRequestId),l.setIsFromCache(),await z4(aDe);else if(u)f=u.edit,p=u.source,m=u.documentBeforeEdit,l.setHeaderRequestId(p.headerRequestId),l.setIsFromCache(),l.setSubsequentEditOrder(u.subsequentN),await z4(aDe);else{p=new cse,l.setHeaderRequestId(p.headerRequestId);let x=s.value.get();m=x;let b=await this.fetchNextEdit(p,r,l,i),v=x.value!==s.value.get().value;if(b.isError())switch(b.err.kind){case"activeDocumentHasNoEdits":case"noSuggestions":case"gotCancelled":case"filteredOut":case"uncategorized":break;case"fetchFailure":case"unexpected":h=b.err.error;break;default:BL(b.err)}else if(!v){let S=b.val;S.isEmpty()||(f=S.edits[0],(!this._statelessNextEditProvider.dependsOnSelection||S.edits.length>1)&&this._nextEditCache.setNextEdits(r,S,p))}}if(l.markEndTime(),h)throw this._telemetrySender.sendTelemetry(l),h;if(!f)return this._telemetrySender.sendTelemetry(l),new D8(void 0);if(this._rejectionCollector.isRejected(r,f))return l.setWasPreviouslyRejected(),this._telemetrySender.sendTelemetry(l),new D8(void 0);Rc(m!==void 0,"should be defined if edit is defined");let A=this._statelessNextEditProvider.showNextEditPreference??"aroundEdit",E=new D8({edit:f,showRangePreference:A,documentBeforeEdits:m});return this._telemetrySender.scheduleSendingTelemetry(E,l),f.isNeutral()||this._recentlyShownCache.add(r,a,[f,p]),E}async _shortenDocument(r,n){let i=r.lastEdit.getEditedState(),{document:s,clippedRange:a}=n==="noShortening"?this.getProjectedDocumentNoShortening(r.lastEdit):n==="clipping"?this.getProjectedDocumentClipping(r.lastEdit):await this.getProjectedDocumentSummarizedDocument(r.languageId,r.lastEdit),l=rs.fromOffsetEdit(s.edits).inverseOnString(s.originalText),{edits:c,editLast:u}=lse(r.lastEdits.swap(l)),f=c.compose(),m=new K4(new Ym(r.lastEdits.apply(s.originalText)),u.toOffsetEdit().inverse(c.apply(s.text))),h=new hl(s.text),A=pp.fromEdit(new Lu(h,f)).removeCommonSuffixPrefixLines(),E=c.edits.at(-1)?.getNewRanges().at(0),x;E&&(x=new hl(m.text).getTransformer().getRange(E));let b=r.lastSelection?m.projectOffsetRange(r.lastSelection):void 0,v=this._workspace.getWorkspaceRoot(r.docId),S=o(W=>{let ge=new pp(new hl(m.text),W).toEdit();return lDe(ge,m)},"toEditOnDocumentAfterEditsNoShortening"),k=o(W=>m.projectBack(W),"toOffsetOnDocumentAfterEditsNoShortening"),P=o(W=>m.project(W),"toProjectedOffset"),N=new T_(r.docId,v,r.languageId,A.base.getLines(),A.edit,x,h,c,i,S,k,P,r.lastEdit.base.getTextLength().lineCount,a,b);return{recentEdit:r.lastEdit,nextEditDoc:N,projectedDocument:m}}async fetchNextEdit(r,n,i,s){let a=this._historyContextProvider.getHistoryContext(n);if(!a)return fa.error({kind:"unexpected",error:new Error("DocumentMissingInHistoryContext")});let l=lse(a.getDocumentAndIdx(n)),c=this.getDocumentShorteningStrategy();i.setDocumentShorteningStrategy(c);let u=await Promise.all(a.documents.map(N=>this._shortenDocument(N,c))),f=u[l.idx],m=new HU(r.headerRequestId,u.map(N=>N.nextEditDoc),l.idx,this.nextEditOptions),h=this._findExistingPendingRequest(m),p,A;if(h){p=h,X4&&console.log(`=> reusing an existing request ${p.seqid}`),i.setHeaderRequestId(h.id),i.setIsFromCache(),i.setRequest(p);let N=this._hookupCancellation(p,s);try{A=await p.result}finally{N.dispose()}}else{p=m,this._pendingStatelessNextEditRequest&&(this._pendingStatelessNextEditRequest.cancellationTokenSource.cancel(),this._pendingStatelessNextEditRequest=null),this._pendingStatelessNextEditRequest=p;let N=o(()=>{this._pendingStatelessNextEditRequest===p&&(this._pendingStatelessNextEditRequest=null)},"removeFromPending");i.setRequest(p);let W=this._hookupCancellation(p,s);try{A=await this._statelessNextEditProvider.provideNextEdit(p,p.cancellationTokenSource.token),p.setResult(A)}catch(re){throw p.setResultError(re),re}finally{W.dispose(),N()}}i.setStatelessNextEditTelemetry(A.telemetry);let E=A.nextEdit;if(E.isError())return E;let x=E.val.edit;if(x.edits.length===0)return fa.error({kind:"noSuggestions"});let v=new pp(new hl(f.projectedDocument.text),x).toEdit(),S=lDe(v,f.projectedDocument),k=v.edits.length===S.edits.length?E.val.permutation:void 0,P=S.decompose(k);return fa.ok(P)}_hookupCancellation(r,n){let i=new O0,s=!1,a=o(()=>{s||(s=!0,r.liveDependentants--)},"removeDependant"),l=i.add(new QU);return i.add(n.onCancellationRequested(()=>{if(a(),r.liveDependentants>0){X4&&console.log(`=> ignoring UI cancellation signal for ${r.seqid} because others depend on this request`);return}if(!r.fetchIssued){X4&&console.log(`=> canceling ${r.seqid} due to UI cancellation signal`),r.cancellationTokenSource.cancel();return}l.setIfNotSet(()=>{if(r.liveDependentants>0){X4&&console.log(`=> ignoring timer cancellation signal for ${r.seqid} because others depend on this request`);return}X4&&console.log(`=> canceling ${r.seqid} due to timer after UI cancellation signal`),r.cancellationTokenSource.cancel()},500)})),i.add(sa(()=>{a()})),r.liveDependentants++,i}_findExistingPendingRequest(r){if(this._statelessNextEditProvider.canReuseResult&&this._pendingStatelessNextEditRequest&&!this._pendingStatelessNextEditRequest.cancellationTokenSource.token.isCancellationRequested&&this._statelessNextEditProvider.canReuseResult(this._pendingStatelessNextEditRequest,r))return this._pendingStatelessNextEditRequest}handleShown(r){this._lastShownTime=Date.now(),this._telemetrySender.markNextEditResultAsShown(r)}handleAcceptance(r,n){this._telemetrySender.sendTelemetryFor(n,"accepted"),this.runSnippy(r,n),this._statelessNextEditProvider.handleAcceptance?.()}handleRejection(r,n){sQ(n.result,"@ulugbekna: undefined edit cannot be rejected?"),Date.now()-this._lastShownTime>1e3&&n.result&&(this._recentlyShownCache.remove(n.result.edit),this._rejectionCollector.reject(r,n.result.edit)),this._lastRejectionTime=Date.now(),this._telemetrySender.sendTelemetryFor(n,"rejected")}getProjectedDocumentNoShortening(r){return{document:new K4(new Ym(r.base.value),new id([])),clippedRange:new Hn(1,r.base.getTextLength().lineCount+1)}}getProjectedDocumentClipping(r){let n=r.base.getTransformer(),i=n.getRange(r.edit.getRange()??new Or(0,0)),s=Hn.fromRange(i);function a(m,h){return new Hn(m.startLineNumber-h,m.endLineNumberExclusive+h)}o(a,"extendRange");let l=new Hn(1,n.textLength.lineCount+1),c=lse(l.intersect(a(s,100))),u=Hn.subtract(l,c);return{document:new K4(new Ym(r.base.value),new id(u.map(m=>ka.delete(n.getOffsetRange(new li(m.startLineNumber,1,m.endLineNumberExclusive,1)))))),clippedRange:c}}getDocumentShorteningStrategy(){return this._statelessNextEditProvider.documentShorteningStrategy??"clipping"}get nextEditOptions(){return new I_("firstByLineNumber",8)}async getProjectedDocumentSummarizedDocument(r,n){let i=await lIt(this._parseService,{getText:o(()=>n.base.value,"getText"),languageId:r});if(!i)return this.getProjectedDocumentClipping(n);let s=new Ym(n.base.value),a=n.edit.edits.at(0)?.range??new Or(0,0),l;if(n.edit.edits.length!==0){let p=n.edit.edits.at(0),A=n.edit.edits.at(-1);l=s.offsetRangeToRange(new Or(p.range.start,A.range.endExclusive))}let c=cDe(s.offsetRangeToRange(a)),u=iq(200*50,{costFnOverride:o((p,A,E)=>{let x=cDe(E.offsetRangeToRange(p.range)),b=aIt(c,x);return b>100?!1:b},"costFnOverride")},[{overlayNodeRoot:i,document:s,selection:l}])[0],f=u.projectBack(1)-1,m=n.base.getTransformer().getPosition(f).lineNumber,h=new Hn(m,m+u.lineCount);return{document:u,clippedRange:h}}async runSnippy(r,n){n.result!==void 0&&this._snippyService.handlePostInsertion(r.toUri(),n.result.documentBeforeEdits,n.result.edit)}};P8=ru([Aa(3,H1),Aa(4,Up),Aa(5,NU)],P8);function lDe(e,t){let r=t.projectBackOffsetEdit(e.toOffsetEdit());return rs.fromOffsetEdit(r)}o(lDe,"projectBackEdit");function cDe(e){return new Hn(e.start.line+1,e.end.line+1)}o(cDe,"lineRangeFromVSCodeRange");function aIt(e,t){return e.endLineNumberExclusive<=t.startLineNumber?t.startLineNumber-e.endLineNumberExclusive:t.endLineNumberExclusive<=e.startLineNumber?e.startLineNumber-t.endLineNumberExclusive:0}o(aIt,"lineRangeDist");async function lIt(e,t){return await e.getTreeSitterAST(t)?.getStructure()}o(lIt,"getStructure");function lse(e){if(!e)throw new gi("expected value to be defined, but it was not");return e}o(lse,"assertDefined");var cse=class{constructor(){this.headerRequestId=sse()}static{o(this,"NextEditFetchRequest")}},use=class{constructor(){this._cache=new PL(10)}static{o(this,"RecentlyShownCache")}add(t,r,n){let i=this._key(t,r);this._cache.set(i,n)}get(t,r){let n=this._key(t,r);return this._cache.get(n)}remove(t){for(let r of this._cache)if(r[1][0]===t){this._cache.delete(r[0]);break}}_key(t,r){return t.uri+";"+r.value}};var $1=class{static{o(this,"NextEditSuggestionsManager")}constructor(t){this.ctx=t}async handleNextEditRequest(t,r,n){let i=await(this.nextEditProvider??=this.createNextEditProvider()),s=this.lastResult;s&&(this.lastResult=void 0,i.handleRejection(s.documentId,s.nextEditResult));let a=nd.create(t),l=await i.getNextEdit(a,{triggerKind:1},n);if(l.result==null)return;let c=await this.ctx.get(Wr).getTextDocument({uri:t});if(!c)return;let u=c.positionAt(l.result.edit.range.start),f=c.positionAt(l.result.edit.range.endExclusive),m=Tr();return this.lastResult={resultId:m,nextEditResult:l,documentId:a},[{edit:{text:l.result?.edit.newText??"",range:{start:u,end:f},textDocument:{uri:t,version:r}},id:m}]}async postInsertionTasks(t){let r=await this.nextEditProvider,n=this.lastResult;!r||!n||n.resultId===t&&(this.lastResult=void 0,await r.handleAcceptance(n.documentId,n.nextEditResult))}async createNextEditProvider(){let t=await QRe(this.ctx),r=t.createInstance(by),n=this.ctx.get(mp),i=new nI(n);return t.createInstance(P8,n,r,i)}};d();var Iy=require("fs"),uDe=require("os"),fDe=ft(require("path")),N8=require("process");var Ka=class{static{o(this,"PersistenceManager")}},fse=class extends Ka{constructor(r){super();this.directory=r}static{o(this,"FilePersistenceManager")}async read(r,n){try{return(await this.readJsonObject(r))[n]}catch{return}}async update(r,n,i){await Iy.promises.mkdir(this.directory,{recursive:!0,mode:448});let s=`${this.directory}/${r}.json`,a=await this.readJsonObject(r);a[n]=i,await Iy.promises.writeFile(s,JSON.stringify(a)+`
`,{encoding:"utf8"})}async delete(r,n){let i=`${this.directory}/${r}.json`;try{let s=await this.readJsonObject(r);delete s[n];let a=JSON.stringify(s)+`
`;a===`{}
`?await Iy.promises.rm(i):await Iy.promises.writeFile(i,a,{encoding:"utf8"})}catch{}}async deleteSetting(r){let n=`${this.directory}/${r}.json`;try{await Iy.promises.rm(n)}catch{}}async listSettings(){try{return(await Iy.promises.readdir(this.directory)).filter(n=>n.endsWith(".json")).map(n=>n.slice(0,-5))}catch{return[]}}async listKeys(r){return Object.keys(await this.readJsonObject(r))}async readJsonObject(r){let n=`${this.directory}/${r}.json`;try{let i=await Iy.promises.readFile(n,{encoding:"utf8"});return JSON.parse(i)}catch{return{}}}};function cIt(){return N8.env.XDG_CONFIG_HOME&&fDe.isAbsolute(N8.env.XDG_CONFIG_HOME)?N8.env.XDG_CONFIG_HOME+"/github-copilot":(0,uDe.platform)()==="win32"?N8.env.USERPROFILE+"\\AppData\\Local\\github-copilot":N8.env.HOME+"/.config/github-copilot"}o(cIt,"getXdgConfigPath");function dDe(){return new fse(cIt())}o(dDe,"makeXdgPersistenceManager");d();d();var mDe=ft(require("node:events"));var Aq="onWorkspaceWatcherChanged";var yq=class{constructor(t,r){this.ctx=t;this.workspaceFolder=r;this.emitter=new mDe.default;this.status="created",this.startWatching()}static{o(this,"WorkspaceWatcher")}onFileChange(t){this.emitter.on(Aq,pu(this.ctx,t,"WorkspaceWatcher.onFileChange"))}onFilesCreated(t){this.emitter.emit(Aq,{type:"create",documents:t,workspaceFolder:this.workspaceFolder})}onFilesUpdated(t){this.emitter.emit(Aq,{type:"update",documents:t,workspaceFolder:this.workspaceFolder})}onFilesDeleted(t){this.emitter.emit(Aq,{type:"delete",documents:t,workspaceFolder:this.workspaceFolder})}};var Km=class{constructor(t){this.ctx=t;this.watchers=new kn(25)}static{o(this,"WorkspaceWatcherProvider")}getWatcher(t){let r=this.watchers.get(t.uri);if(r)return r;let n=this.getParentFolder(t.uri);return n?this.watchers.get(n):void 0}getParentFolder(t){return[...this.watchers.keys()].find(n=>{let i=n.replace(/[#?].*/,"").replace(/\/?$/,"/");return t!==n&&t.startsWith(i)})}hasWatcher(t){return this.getParentFolder(t.uri)||this.getWatcher(t)!==void 0}startWatching(t){if(tn.debug(this.ctx,`WorkspaceWatcherProvider - Start watching workspace ${t.uri}`),this.hasWatcher(t)){this.getWatcher(t)?.startWatching();return}let r=this.createWatcher(t);this.watchers.set(t.uri,r)}stopWatching(t){this.getWatcher(t)?.stopWatching()}terminateSubfolderWatchers(t){let r=[...this.watchers.keys()],n=t.uri.replace(/[#?].*/,"").replace(/\/?$/,"/"),i=r.filter(s=>s!==t.uri&&s.startsWith(n));for(let s of i)this.terminateWatching({uri:s});return i}terminateWatching(t){if(this.getWatcher(t)?.status!=="stopped")return this.stopWatching(t),this.watchers.delete(t.uri);this.watchers.delete(t.uri)}onFileChange(t,r){this.getWatcher(t)?.onFileChange(r)}async getWatchedFiles(t){return await this.getWatcher(t)?.getWatchedFiles()??[]}getStatus(t){return this.getWatcher(t)?.status}};d();d();d();var qp=new Map;qp.set("copilot",{app:"copilot-client",catalog_service:"CopilotCompletionsVSCode"});qp.set("copilot-intellij",{app:"copilot-intellij",catalog_service:"CopilotIntelliJ"});qp.set("copilot-xcode",{app:"copilot-xcode",catalog_service:"CopilotXcode"});qp.set("copilot-eclipse",{app:"copilot-eclipse",catalog_service:"CopilotEclipse"});qp.set("copilot.vim",{app:"copilot-vim",catalog_service:"CopilotVim"});qp.set("copilot-vs",{app:"copilot-vs",catalog_service:"CopilotVS"});var uIt=new Er("sdk");function Cq(e,t){qp.has(e.get(an).getEditorPluginInfo().name)||uIt.warn(e,...t)}o(Cq,"deprecationWarning");var NMe=ft(kse()),rh=ft(i1());d();d();d();var Fr={ParseError:-32700,InvalidRequest:-32600,MethodNotFound:-32601,InvalidParams:-32602,InternalError:-32603,ServerNotInitialized:-32002,RequestCancelled:-32800,ContentModified:-32801,ServerCancelled:-32802,NoCopilotToken:1e3,DeviceFlowFailed:1001,CopilotNotAvailable:1002};var Xu=class extends Error{static{o(this,"SchemaValidationError")}constructor(t){super(oNe(t))}};function ct(e,t){let r=ta.Compile(e);return async(n,i,s)=>{if(!r.Check(s)){let a=oNe(r.Errors(s));return[null,{code:Fr.InvalidParams,message:a}]}return t(n,i,s)}}o(ct,"addMethodHandlerValidation");function oNe(e){return`Schema validation failed with the following errors:
${Array.from(e).map(r=>`- ${r.path}: ${r.message}`).join(`
`)}`}o(oNe,"createErrorMessage");d();var Rse=ft(Ii());d();var Wp=class{constructor(t){this.ctx=t}static{o(this,"AbstractCommand")}};var Rq="github.copilot.finishDeviceFlow",Dse=class extends Wp{constructor(){super(...arguments);this.name=Rq;this.arguments=T.Tuple([])}static{o(this,"FinishDeviceFlowCommand")}async handle(r,n){let i=this.ctx.get(In).pendingSignIn;if(!i)throw new Rse.ResponseError(Fr.InvalidRequest,"No pending sign in");try{await this.ctx.get(ql).open(i.verificationUri)}catch(s){Eu.warn(this.ctx,"Failed to open",i.verificationUri),Eu.exception(this.ctx,s,Rq)}try{return await i.status}catch(s){throw new Rse.ResponseError(Fr.DeviceFlowFailed,String(s))}finally{this.ctx.get(In).pendingSignIn=void 0}}},sNe=[Dse];d();d();var qo=class extends kn{static{o(this,"CopilotCompletionCache")}constructor(t=100){super(t)}};var G_="github.copilot.didAcceptCompletionItem",Pse=class extends Wp{constructor(){super(...arguments);this.name=G_;this.arguments=T.Tuple([T.String({minLength:1})])}static{o(this,"DidAcceptCommand")}async handle(r,[n]){let s=this.ctx.get(qo).get(n);return s?(DQ(this.ctx,s),!0):!1}},aNe=[Pse];d();var s9t="github.copilot.didAcceptNextEditSuggestionItem",Nse=class extends Wp{constructor(){super(...arguments);this.name=s9t;this.arguments=T.Tuple([T.String({minLength:1})])}static{o(this,"DidAcceptCommand")}async handle(r,[n]){return await this.ctx.get($1).postInsertionTasks(n),!0}},lNe=[Nse];d();var Lse="github.copilot.didAcceptPanelCompletionItem",Fse=class extends Wp{constructor(){super(...arguments);this.name=Lse;this.arguments=T.Tuple([T.String({minLength:1})])}static{o(this,"DidAcceptPanelCompletionItemCommand")}async handle(r,n){let[i]=n,a=this.ctx.get(qo).get(i);return a?(f4(this.ctx,a.triggerCategory,a.insertText,a.offset,a.uri,a.telemetry,{compType:"full"},a.copilotAnnotations),!0):!1}},cNe=[Fse];var a9t=[...sNe,...aNe,...lNe,...cNe];function uNe(e,t){let r=new Map;for(let n of a9t){let i=new n(e),s=ta.Compile(i.arguments);r.set(i.name,{typeCheck:s,command:i})}return t.onExecuteCommand(async(n,i)=>{let s=r.get(n.command);if(!s)throw new Error(`Unknown command: ${n.command}`);let a=z1(n.arguments??[]);if(a.length<s.command.arguments.minItems&&(a.length=s.command.arguments.minItems),s.typeCheck.Check(n.arguments))return s.command.handle(i,a);throw new Xu(s.typeCheck.Errors(n.arguments))}),[...r.keys()]}o(uNe,"registerCommands");d();var Zu=class extends IC{constructor(r){super(new lb,new Map);this.envSettings=new Map;this.env={...r},this.setOverridesFromEnvironment()}static{o(this,"AgentConfigProvider")}setOverridesFromEnvironment(){["DebugOverrideEngine","DebugOverrideProxyUrl","DebugOverrideCapiUrl","DebugUseEditorFetcher","UseSubsetMatching","ExcludeOpenTabFilesCSharp","ExcludeOpenTabFilesCpp","FallbackToOpenTabFilesWithNoRelatedFiles"].forEach(n=>{for(let i of["AGENT_DEBUG_","GITHUB_COPILOT_","GH_COPILOT_"]){let s=`${i}${l9t(n.replace(/^Debug/,""))}`;s in this.env&&(this.envSettings.set(qt[n],this.env[s]),this.setConfig(qt[n],this.env[s]))}})}setConfig(r,n){super.setConfig(r,n??this.envSettings.get(r))}};function l9t(e){return e.replace(/([a-z])([A-Z]+)/g,"$1_$2").toUpperCase()}o(l9t,"camelCaseToSnakeCaseAllCaps");var c9t="unknown-editor",fNe="unknown-editor-plugin",Dq=class extends an{static{o(this,"AgentEditorInfo")}setEditorAndPluginInfo(t,r,n=[]){this._editorInfo=r,this._editorPluginInfo=t,this._relatedPluginInfo=n}setCopilotIntegrationId(t){this._copilotIntegrationId=t}getEditorInfo(){return this._editorInfo?this._editorInfo:{name:c9t,version:"0"}}getEditorPluginInfo(){return this._editorPluginInfo?this._editorPluginInfo:{name:fNe,version:"0"}}getRelatedPluginInfo(){return this._relatedPluginInfo??[]}getCopilotIntegrationId(){return this._copilotIntegrationId}};function dNe(e){return e.getEditorPluginInfo().name!==fNe}o(dNe,"hasValidInfo");d();var hNe=require("node:events");var mNe="initialize",Y1=class{constructor(){this.emitter=new hNe.EventEmitter;this.initialized=!1}static{o(this,"InitializedNotifier")}once(t){this.emitter.once(mNe,t)}emit(){if(this.initialized)throw new Error("Already initialized");this.initialized=!0,this.emitter.emit(mNe)}};d();var K1=ft(i1());var u9t=new Map([[4,K1.MessageType.Log],[3,K1.MessageType.Info],[2,K1.MessageType.Warning],[1,K1.MessageType.Error]]),Pq=class extends va{static{o(this,"NotificationLogger")}logIt(t,r,n,...i){if(r==4&&!PQ(t)&&n!=="console")return;let s={type:u9t.get(r),message:mIe(n,...i)},a=t.get(Kr).connection;try{a.sendNotification(new K1.NotificationType("window/logMessage"),s)}catch(l){if(l instanceof K1.ConnectionError)return;throw l}}};d();var pNe=ft(F0());var Nq=class{constructor(t,r=!1){this.ctx=t;this.codeSnippets=r}static{o(this,"RedirectTelemetryReporter")}get notificationName(){return this.codeSnippets?"codeSnippetTelemetry":"uedTelemetry"}sendTelemetryEvent(t,r,n){this.ctx.get(Kr).connection.sendNotification(new pNe.NotificationType(this.notificationName),{type:"event",name:t,properties:r||{},measurements:n||{}})}sendTelemetryErrorEvent(t,r,n){this.sendTelemetryEvent(t,r,n)}dispose(){return Promise.resolve()}};async function gNe(e){let t=e.get(gs),r=t.deactivate();t.setReporter(new Nq(e)),t.setRestrictedReporter(new Nq(e,!0)),await r}o(gNe,"setupRedirectingTelemetryReporters");d();d();var Fq=class{static{o(this,"InstallationManager")}async startup(t){await this.isNewInstall(t)?(await this.markInstalled(t),this.handleInstall(t,await this.wasPreviouslyInstalled(t))):await this.isNewUpgrade(t)&&(await this.markUpgraded(t),this.handleUpgrade(t))}async uninstall(t){return await this.handleUninstall(t)}handleInstall(t,r){r?Xt(t,"installed.reinstall"):Xt(t,"installed.new")}handleUpgrade(t){Xt(t,"installed.upgrade")}async handleUninstall(t){Xt(t,"uninstalled")}};var W_=ft(kse());var Q8=class extends Fq{static{o(this,"AgentInstallationManager")}async isNewInstall(t){let r=t.get(an).getEditorPluginInfo();return await t.get(Ka).read("versions",r.name)===void 0&&!await this.hasPersistedSettings(t)}async hasPersistedSettings(t){return(await t.get(Ka).listSettings()).length>0}async markInstalled(t){let r=t.get(an).getEditorPluginInfo();await t.get(Ka).update("versions",r.name,r.version)}wasPreviouslyInstalled(t){return Promise.resolve(!1)}async isNewUpgrade(t){try{let r=t.get(an).getEditorPluginInfo(),n=await t.get(Ka).read("versions",r.name);return n===void 0&&await this.hasPersistedSettings(t)?!0:(0,W_.gt)((0,W_.coerce)(r.version),(0,W_.coerce)(n))}catch{return!1}}async markUpgraded(t){await this.markInstalled(t)}async uninstall(t){await super.uninstall(t);let r=t.get(an).getEditorPluginInfo();await t.get(Ka).delete("versions",r.name),(await t.get(Ka).listKeys("versions")).length===0&&await t.get(Ka).deleteSetting("versions")}};d();var ANe=require("events"),Mse=ft(require("path")),Lq=ft(F0());var Qse="didChangeWatchedFiles",f9t={watchedFiles:[],contentRestrictedFiles:[],unknownFileExtensions:[]},Jm=class e{constructor(t){this.ctx=t;this.emitter=new ANe.EventEmitter}static{o(this,"LspFileWatcher")}static{this.requestType=new Lq.ProtocolRequestType("copilot/watchedFiles")}get connection(){return this.ctx.get(Kr).connection}init(){this.ctx.get(ts).getCapabilities().watchedFiles&&this.connection.onNotification(Lq.DidChangeWatchedFilesNotification.type,r=>{"workspaceUri"in r&&typeof r.workspaceUri=="string"&&this.didChangeWatchedFilesHandler(r)})}async getWatchedFiles(t){if(!this.ctx.get(ts).getCapabilities().watchedFiles)return f9t;let i=(await this.connection.sendRequest(e.requestType,t)).files,s=[],a=[],l=[];for(let c of i){let u=Mse.extname(c).toLowerCase();if(!hT.includes(u)){l.push({uri:c});continue}let f=await this.getValidDocument(c);if(f===void 0){a.push({uri:c});continue}s.push(f)}return{watchedFiles:s,contentRestrictedFiles:a,unknownFileExtensions:l}}onDidChangeWatchedFiles(t){this.emitter.on(Qse,t)}offDidChangeWatchedFiles(t){this.emitter.off(Qse,t)}async didChangeWatchedFilesHandler(t){let r=[],n=[],i=[];for(let s of t.changes){let a=s.uri,l={uri:a,isRestricted:!1,isUnknownFileExtension:!1},c=Mse.extname(s.uri).toLowerCase();if(!hT.includes(c))l.isUnknownFileExtension=!0;else{let u=await this.getValidDocument(a);u===void 0?l.isRestricted=!0:l.document=u}switch(s.type){case 1:n.push(l);break;case 2:r.push(l);break;case 3:i.push(l);break}}this.emitter.emit(Qse,{workspaceFolder:{uri:t.workspaceUri},created:n,changed:r,deleted:i})}async getValidDocument(t){let n=await this.ctx.get(zn).readFile(t);return n.status==="valid"?n.document:void 0}};d();d();var d9t=T.Object({uri:T.String({minLength:1})});async function m9t(e,t,r){let n=await e.get(zn).readFile(r.uri);return[{status:ss(n),...n.status==="invalid"&&{reason:n.reason},...n.status==="notfound"&&{reason:n.message}},null]}o(m9t,"handleCheckFileStatusChecked");var yNe=ct(d9t,m9t);d();d();var Dn=T.Object({});var h9t=T.Object({options:T.Optional(T.Intersect([T.Object({localChecksOnly:T.Optional(T.Boolean()),forceRefresh:T.Optional(T.Boolean())}),Dn]))});async function p9t(e,t,r){return[await e.get(In).checkAndUpdateStatus(e,r.options),null]}o(p9t,"handleCheckStatusChecked");var CNe=ct(h9t,p9t);d();d();d();d();d();d();function ENe(e){return e?e.filter(t=>t.type==="github.web-search").map(t=>t):[]}o(ENe,"filterUnsupportedReferences");function xNe(e){return e?e.filter(t=>t.type==="github.web-search"):[]}o(xNe,"convertToCopilotReferences");var vNe=T.Object({type:T.Literal("github.web-search"),id:T.String(),data:T.Object({query:T.String(),type:T.String(),results:T.Optional(T.Array(T.Object({title:T.String(),excerpt:T.String(),url:T.String()})))}),metadata:T.Optional(T.Object({display_name:T.Optional(T.String()),display_icon:T.Optional(T.String())}))});var M8=class{constructor(t){this.deltaApplier=t;this.appliedLength=0;this.appliedText="";this.appliedAnnotations=[]}static{o(this,"ConversationFinishCallback")}isFinishedAfter(t,r){let n=t.substring(this.appliedLength,t.length),s=this.mapAnnotations(r.annotations).filter(a=>!this.appliedAnnotations.includes(a.id));this.append(n,s,ENe(r.copilotReferences),r.copilotErrors??[],r.copilotConfirmation)}append(t,r,n,i,s){this.deltaApplier(t,r,n,i,s),this.appliedLength+=t.length,this.appliedText+=t,this.appliedAnnotations.push(...r.map(a=>a.id))}mapAnnotations(t){if(!t)return[];let r=[],n=t.for("CodeVulnerability").map(s=>({...s,type:"code_vulnerability"})),i=t.for("IPCodeCitations").map(s=>({...s,type:"ip_code_citations"}));return r.push(...n),r.push(...i),r}};d();var La=class{static{o(this,"ConversationInspector")}};d();var Ps=class{static{o(this,"ConversationProgress")}};d();d();var Hp=class{constructor(t){this.ctx=t;this.githubRepositoryInfoCache=new Map}static{o(this,"GitHubRepositoryApi")}async getRepositoryInfo(t,r){let n=this.githubRepositoryInfoCache.get(`${t}/${r}`);if(n)return n;let i=await this._doGetRepositoryInfo(t,r);if(i.ok){let s=await i.json();return this.githubRepositoryInfoCache.set(`${t}/${r}`,s),s}throw new Error(`Failed to fetch repository info for ${t}/${r}`)}async _doGetRepositoryInfo(t,r){let n=await this.ctx.get(jr).getGitHubToken(),i={Accept:"application/vnd.github+json","X-GitHub-Api-Version":"2022-11-28"};n&&(i.Authorization=`Bearer ${n}`);let s=this.ctx.get(Rn).getAPIUrl(`repos/${t}/${r}`);return this.ctx.get(Nr).fetch(s,{method:"GET",headers:i})}async isAvailable(t,r){try{return(await this._doGetRepositoryInfo(t,r)).ok}catch{return!1}}};d();d();d();var g9t=T.Union([T.Literal("included"),T.Literal("blocked"),T.Literal("notfound"),T.Literal("empty")]),X0=T.Object({uri:T.String(),position:T.Optional(T.Object({line:T.Number({minimum:0}),character:T.Number({minimum:0})})),visibleRange:T.Optional(fm),selection:T.Optional(fm),openedAt:T.Optional(T.String()),activeAt:T.Optional(T.String())}),H_=T.Intersect([T.Object({type:T.Literal("file"),status:T.Optional(g9t),range:T.Optional(fm)}),X0]),O8=T.Union([H_,vNe]),Id=T.Union([T.Literal("panel"),T.Literal("inline")]),A9t=T.Union([T.Object({type:T.Literal("text"),text:T.String()}),T.Object({type:T.Literal("image_url"),imageUrl:T.Object({url:T.String(),detail:T.Optional(T.Union([T.Literal("low"),T.Literal("high")]))})})]),Ose=T.Union([T.String(),T.Array(A9t)]),bNe=T.Object({request:Ose,response:T.Optional(T.String()),agentSlug:T.Optional(T.String())});function Qq(e){return typeof e=="string"?e:e.map(t=>t.type==="image_url"?{type:"image_url",image_url:{url:t.imageUrl.url,detail:t.imageUrl.detail}}:{type:"text",text:t.text})}o(Qq,"convertToMessageContent");function Mq(e,t){if(typeof e=="string")return e+t;let r=e.map(n=>n.type==="text").lastIndexOf(!0);if(r>=0){let n=[...e],i=n[r];return n[r]={type:"text",text:i.text+t},n}return[...e,{type:"text",text:t}]}o(Mq,"appendToMessage");var Oq=T.Union([T.Literal("Ask"),T.Literal("Agent")]);d();var TNe=ft(ef());var Vp=class{constructor(t,r,n){this.doc=t;this.selection=r;this.visibleRange=n}static{o(this,"ElidableDocument")}fromSelectedCode(t){let r=this.getExpandedSelection(),n=r;if(t.trimNewLines){let s=this.doc.getText(r),a=s.match(/^\n*/)?.[0].length??0,l=s.match(/\n*$/)?.[0].length??0;n={start:this.getLineStart(r.start.line+a),end:this.expandLineToEnd(r.end.line-l)}}let i=new rr([(0,TNe.default)(this.doc.getText(n)).trim()]);return[this.wrapInTicks(i),n]}fromAllCode(t){let r=this.getDocumentRange(),n=this.getExpandedSelection(),i;!this.visibleRange||!this.rangeContainedIn(this.visibleRange,n)?i=n:i={start:this.getLineStart(this.visibleRange.start.line),end:this.expandLineToEnd(this.visibleRange.end.line)};let s={start:r.start,end:i.start.line>0?this.expandLineToEnd(i.start.line-1):r.start},a={start:i.start,end:n.start.line>0&&n.start.line>i.start.line?this.expandLineToEnd(n.start.line-1):i.start},l={start:n.end.line<this.doc.lineCount-1&&n.end.line<i.end.line?this.getLineStart(n.end.line+1):i.end,end:i.end},c={start:i.end.line<this.doc.lineCount-1?this.getLineStart(i.end.line+1):r.end,end:r.end},u=[[s,.6],[a,.8],[n,1],[l,.4],[c,.2]],f=new rr(u.filter(([m,h])=>!U8(m)||h===1).map(([m,h])=>{let p;return t.addLineNumbers?p=this.addLineNumbers(m):p=this.doc.getText(m),[h==1?p:bu(p),h]}));return this.wrapInTicks(f)}selectionIsDocument(){return this.rangeEquals(this.getExpandedSelection(),this.getDocumentRange())}selectionIsEmpty(){return this.selection==null||U8(this.selection)}getExpandedSelection(){return this.selection!==void 0?{start:this.getLineStart(this.selection.start.line),end:this.expandLineToEnd(this.selection.end.line)}:this.getDocumentRange()}getDocumentRange(){return{start:this.getLineStart(0),end:this.expandLineToEnd(this.doc.lineCount-1)}}getLineStart(t){return{line:t,character:0}}expandLineToEnd(t){return t>this.doc.lineCount-1&&(t=this.doc.lineCount-1),{line:t,character:this.doc.lineAt({line:t,character:0}).text.length}}rangeContainedIn(t,r){return t.start.line<=r.start.line&&t.end.line>=r.end.line}rangeEquals(t,r){return t.start.line==r.start.line&&t.end.line==r.end.line}wrapInTicks(t,r){return new rr([["```"+this.doc.languageId,1],[t,r??1],["```",1]])}addLineNumbers(t){let r=this.doc.getText(t).split(`
`),n=this.doc.lineCount.toString().length;return r.map((s,a)=>`${(t.start.line+a+1).toString().padEnd(n," ")}:${s}`).join(`
`)}};function U8(e){return e.start.line==e.end.line&&e.start.character==e.end.character}o(U8,"isEmptyRange");var wNe=ft(require("path"));var _Ne=X0,Use=class{constructor(t){this.turnContext=t}static{o(this,"CurrentEditorSkillProcessor")}value(){return 1}async processSkill(t){let r=this.turnContext.ctx.get(zn),n=await r.readFile(t.uri),i=ss(n);if(await this.turnContext.collectFile(E0,t.uri,i),n.status==="valid"){let s=this.turnContext.conversation.source==="inline",a=new Vp(n.document,t.selection,t.visibleRange),l=await r.getRelativePath(n.document);if(i==="empty")return new rr([`The currently open file \`${l}\` is empty.`]);let c=[[`Code excerpt from the currently open file \`${l}\`:`,1],[a.fromAllCode({addLineNumbers:s}),1]],u=[];if(a.selectionIsDocument())u=[["The user is selecting the entire file.",1]];else if(s){let[f,m]=a.fromSelectedCode({trimNewLines:!0}),h=m.start.line+1;if(U8(m))u=[[`The user is selecting line ${h}, which is empty.`,1]];else{let p=m.end.line+1;u=[["The user is selecting"+(h==p?` line ${h}:`:` lines ${h} to ${p} (inclusive):`),1],[f,1]]}}else a.selectionIsEmpty()||(u=[["The user is selecting this code:",1],[a.fromSelectedCode({trimNewLines:!1})[0],1]]);return new rr([...c,...u])}else if(n.status==="invalid")return new rr([`The currently open file \`${wNe.basename(t.uri)}\` is content excluded.`])}},E0="current-editor",Uq=class{constructor(t){this._resolver=t;this.id=E0;this.type="explicit"}static{o(this,"CurrentEditorSkill")}description(){return"The code from the user's currently open file"}resolver(){return this._resolver}processor(t){return new Use(t)}};d();d();var Qa=class{constructor(){this.skills=[]}static{o(this,"ConversationSkillRegistry")}registerSkill(t){if(this.getSkill(t.id))throw new Error(`Skill with id '${t.id}' already registered`);this.skills.push(t)}getSkill(t){return this.skills.find(r=>r.id===t)}getDescriptors(){return[...this.skills]}},qse=class{constructor(t,r,n){this.delegate=t;this.stepId=r;this.stepTitle=n}static{o(this,"StepReportingSkillResolver")}async resolveSkill(t){await t.steps.start(this.stepId,this.stepTitle);try{let r=await this.delegate.resolveSkill(t);return r||await t.steps.finish(this.stepId),r}catch(r){throw await t.steps.error(this.stepId,r instanceof Error?r.message:`Error resolving ${this.stepTitle}`),r}}},Gse=class{constructor(t,r){this.delegate=t;this.stepId=r}static{o(this,"StepReportingSkillProcessor")}value(){return this.delegate.value()}async processSkill(t,r){try{let n=await this.delegate.processSkill(t,r);return await r.steps.finish(this.stepId),n}catch(n){throw await r.steps.error(this.stepId,n instanceof Error?n.message:`Error processing ${this.stepId}`),n}}},Il=class{constructor(t,r,n,i,s,a="explicit",l=[],c=async()=>!0){this.id=t;this._description=r;this.stepTitle=n;this._resolver=i;this._processor=s;this.type=a;this._examples=l;this._isAvailable=c}static{o(this,"SingleStepReportingSkill")}description(){return this._description}examples(){return this._examples}isAvailable(t){return this._isAvailable(t)}resolver(t){return new qse(this._resolver(t),this.id,this.stepTitle)}processor(t){return new Gse(this._processor(t),this.id)}};var SNe=T.Object({name:T.String(),url:T.String()}),BNe=T.Object({path:T.String(),head:T.Optional(T.Object({name:T.String(),upstream:T.Optional(SNe)})),remotes:T.Optional(T.Array(SNe))}),Wse=class{constructor(t){this.turnContext=t}static{o(this,"GitMetadataSkillProcessor")}value(){return .8}async processSkill(t){this.turnContext.collectLabel(eE,"git repository information");let r=[];return r.push([new rr(["Metadata about the current git repository:"]),1]),t.head&&t.head.name?(r.push([new rr([`- Current branch name: ${t.head.name}`]),1]),t.head.upstream&&r.push([new rr([`- Upstream name and url: ${t.head.upstream.name} - ${t.head.upstream.url}`]),1])):r.push([new rr(["- Detached HEAD: yes"]),1]),t.remotes&&t.remotes.length>0&&r.push([new rr([`- Remotes: ${t.remotes.map(n=>n.name).join(", ")}`]),1]),new rr(r)}},eE="git-metadata",qq=class extends Il{static{o(this,"GitMetadataSkill")}constructor(t){super(eE,"Metadata about the current git repository, useful for questions about branch management and git related commands","Reading git information",()=>t,r=>new Wse(r))}};async function kNe(e){let t=await e.skillResolver.resolve(E0);if(t){let a=t.uri,l=e5(e.ctx,a);if(E5e(l))return{repoInfo:l,skillUsed:E0}}let r=await e.skillResolver.resolve(eE);if(!r||!r.remotes||r.remotes.length===0){tn.debug(e.ctx,"Git metadata skill is not available or no remotes available.");return}let i=r.remotes.find(a=>a.name==="origin")??r.remotes[0],s=jY(i.url);if(s)return{repoInfo:{baseFolder:{uri:r.path},url:i.url,...s},skillUsed:eE}}o(kNe,"extractRepoInfo");async function RNe(e){let t=[];return await y9t(e,t),await C9t(e,t),await E9t(e,t),t}o(RNe,"skillsToReference");async function y9t(e,t){let r=await x9t(e);r&&t.push(r)}o(y9t,"addRepositoryReference");async function C9t(e,t){let r=await v9t(e);r&&t.push(r)}o(C9t,"addSelectionReference");async function E9t(e,t){let r=[],n=await I9t(e);n&&r.push(n),r.push(...await T9t(e)),r.length>0&&t.push(...r)}o(E9t,"addFileReferences");async function x9t(e){let t=await kNe(e);if(t){let r=e.ctx.get(Hp),n=t.repoInfo.owner,i=t.repoInfo.repo;if(await r.isAvailable(n,i))return{type:"github.repository",id:`${n}/${i}`,data:{type:"repository",name:i,ownerLogin:n,id:(await r.getRepositoryInfo(n,i)).id}}}}o(x9t,"gitMetadataToReference");async function v9t(e){let t=await e.skillResolver.resolve(E0);if(t&&t.selection){let n=await e.ctx.get(zn).readFile(t.uri),i=ss(n);if(await e.collectFile(e.turn.agent.agentSlug,t.uri,i,t.selection),n.status==="valid")return await b9t(t,n.document)}}o(v9t,"currentEditorToSelectionReference");async function b9t(e,t){if(e.selection&&!U8(e.selection)){let r=t.getText(e.selection);return{type:"client.selection",id:e.uri,data:{start:{line:e.selection.start.line,col:e.selection.start.character},end:{line:e.selection.end.line,col:e.selection.end.character},content:r}}}}o(b9t,"extractSelection");async function I9t(e){let t=await e.skillResolver.resolve(E0);if(t){let n=await e.ctx.get(zn).readFile(t.uri),i=ss(n);if(await e.collectFile(e.turn.agent.agentSlug,t.uri,i),n.status==="valid")return{type:"client.file",id:n.document.uri,data:{content:n.document.getText(),language:n.document.languageId}}}}o(I9t,"currentEditorToFileReference");async function T9t(e){let t=[],r=e.turn.request.references;if(r&&r.length>0){let n=e.ctx.get(zn);for(let i of r)if(i.type==="file"){let s=await n.readFile(i.uri),a=ss(s);if(await e.collectFile(e.turn.agent.agentSlug,i.uri,a,i.selection),s.status==="valid"){let l=s.document.getText();t.push({type:"client.file",id:i.uri,data:{content:l,language:s.document.languageId}})}}}return t}o(T9t,"fileReferenceToPlatformFileReference");d();d();d();d();var ONe=ft(Hq()),$se=ft(require("path"));var UNe=500,F9t=Math.floor(.25*UNe),Vq=class{static{o(this,"FixedSizeChunking")}async chunk(t,r){let n=[],i=$se.default.extname(__filename)===".ts"?$se.default.resolve(__dirname,"../../../../../../dist/main.js"):__filename;return n=await ONe.job(async({text:s,uri:a,tokenizerName:l,directory:c,chunkSize:u,overlap:f})=>{let h=require(c).getTokenizer(l),p=h.tokenize(s),A=p.length,E=[],x=0;for(;x<A;){let b=x+u>=A,v=b?A:x+u,S=p.slice(x,v),k=h.detokenize(S),P=s.indexOf(k);E.push({id:`${a.toString()}#${x}`,chunk:k,tokenCount:S.length,range:{start:P,end:P+k.length}}),x=b?v:v-f}return E},{data:{text:t.getText(),uri:t.uri.toString(),tokenizerName:r.tokenizer,directory:i,chunkSize:UNe,overlap:F9t}}),n}};var L9t="fixedSize",Q9t=new Map([["fixedSize",Vq]]);function qNe(e){let t=e==="default"?L9t:e,r=Q9t.get(t);if(!r)throw new Error(`Chunking constructor for type ${e} not found`);return r}o(qNe,"getChunkingAlgorithm");d();d();var jq=ft(T2()),J1=ft(require("fs")),GNe=require("os"),Td=ft(require("path")),q8=require("process");var zse=5e4,M9t=new Er("workspaceChunks"),$q=class e{constructor(t,r){this.ctx=t;this.pathHashLength=8;let n=Td.basename(r),i=(0,jq.SHA256)(r).toString().substring(0,this.pathHashLength);this.cacheRootPath=Td.join(O9t(),"project-context",`${n}.${i}`)}static{o(this,"WorkspaceChunks")}static{this.CACHE_VERSION="1.0.0"}getChunksCacheFile(t){let r=(0,jq.SHA256)(t).toString().substring(0,this.pathHashLength),n=Td.basename(t);return Td.join(this.cacheRootPath,`${n}.${r}.json`)}async getChunksCacheFromCacheFile(t){let r=await J1.promises.readFile(t,{encoding:"utf8"}).catch(()=>{});if(r)try{return JSON.parse(r)}catch{}}async getChunksCache(t){let r=this.getChunksCacheFile(t);return await this.getChunksCacheFromCacheFile(r)}async setChunksCache(t,r){let n=this.getChunksCacheFile(t);try{await J1.promises.mkdir(Td.dirname(n),{recursive:!0}),await J1.promises.writeFile(n,JSON.stringify(r),{encoding:"utf8"})}catch(i){M9t.debug(this.ctx,"Failed to set chunks cache:",i)}}async removeChunksCache(t){let r=this.getChunksCacheFile(t);await J1.promises.rm(r).catch(()=>{})}async enumerateChunksCacheFileNames(){return await J1.promises.readdir(this.cacheRootPath).catch(()=>[])}async getFilesCount(){return(await this.enumerateChunksCacheFileNames()).length}async getChunksCount(){let t=0;for await(let r of this.getChunks())t++;return t++}async*getChunksForFile({uri:t}){let r=await this.getChunksCache(t);r!==void 0&&(yield*r.documentChunks)}async*getChunksFromCacheFile(t){let r=await this.getChunksCacheFromCacheFile(t);yield*r?r.documentChunks:[]}async*getChunks(t){if(t!==void 0)yield*this.getChunksForFile(t);else{let r=await this.enumerateChunksCacheFileNames();for(let n of r)yield*this.getChunksFromCacheFile(Td.join(this.cacheRootPath,n))}}async getFileHash(t){let r=al(t),n="";return r&&(n=await J1.promises.readFile(r,{encoding:"utf8"}).catch(()=>"")),(0,jq.SHA256)(n).toString()}async addChunks({uri:t},r){let n=await this.getFileHash(t),i=await this.getChunksCache(t);if(i!==void 0&&i.hash===n&&i.version===e.CACHE_VERSION)return;let s={version:e.CACHE_VERSION,filePath:t,hash:n,documentChunks:r};await this.setChunksCache(t,s)}async deleteChunksForSource(t){let r=Ff(t),n=await this.getChunksCache(r);return n===void 0?[]:(await this.removeChunksCache(r),n.documentChunks)}async deleteChunks({uri:t}){let r=al(t);if(!r)return[];let n;try{n=await J1.promises.readdir(r)}catch{return await this.deleteChunksForSource(r)}let i=[];for(let s of n){let a=Ff(Td.join(r,s));i.push(...await this.deleteChunks({uri:a}))}return i}async clear(){await J1.promises.rm(this.cacheRootPath,{recursive:!0}).catch(()=>{})}};function O9t(){return q8.env.XDG_CACHE_HOME&&Td.isAbsolute(q8.env.XDG_CACHE_HOME)?q8.env.XDG_CACHE_HOME+"/github-copilot":(0,GNe.platform)()==="win32"?q8.env.USERPROFILE+"\\AppData\\Local\\Temp\\github-copilot":q8.env.HOME+"/.cache/github-copilot"}o(O9t,"getXdgCachePath");var zq=class{constructor(t,r,n){this.workspaceFolder=r;this.implementation=n;this._chunkLimiter=new Kse;this.status="notStarted",this.workspaceChunks=new $q(t,r),this.cancellationToken=new Yse,this._chunkingTimeMs=0,this._fileCountExceeded=!1,this._chunkCountExceeded=!1,this._totalFileCount=0,this._filesUpdated=new Set}static{o(this,"ChunkingHandler")}async chunk(t,r){return r?await this.chunkFiles(t,r):await this.chunkWorkspace(t)}async chunkWorkspace(t){let r=performance.now();if(this.status="started",this.cancellationToken.isCancelled())return this.status="cancelled",this.updateChunkingTime(r,performance.now()),this.workspaceChunks.getChunks();await this.updateModelConfig(t);let n=await t.get(Km).getWatchedFiles({uri:this.workspaceFolder}),i=t.get(er),s=await i.updateExPValuesAndAssignments(),a=i.ideChatProjectContextFileCountThreshold(s);this._totalFileCount=n.length,n.length>a&&(this._fileCountExceeded=!0,n=n.slice(0,a));let l=n.map(async c=>{this.cancellationToken.isCancelled()||await this._chunkLimiter.queue(()=>this._chunk(t,c))});try{await Promise.all(l)}catch(c){Fo(t,c,"ChunkingProvider.chunk"),await this.terminateChunking()}return this.status=this.cancellationToken.isCancelled()?"cancelled":"completed",this.updateChunkingTime(r,performance.now()),await this.workspaceChunks.getChunksCount()>zse&&(this._chunkCountExceeded=!0),this.workspaceChunks.getChunks()}async chunkFiles(t,r){await this.updateModelConfig(t);let n=r.map(async l=>{this.cancellationToken.isCancelled()||(this._filesUpdated.add(l.uri),await this._chunkLimiter.queue(()=>this._chunk(t,l)))});try{await Promise.all(n)}catch(l){Fo(t,l,"ChunkingProvider.chunkFiles"),await this.terminateChunking()}await this.workspaceChunks.getChunksCount()>zse&&(this._chunkCountExceeded=!0);let i=t.get(er),s=await i.updateExPValuesAndAssignments(),a=i.ideChatProjectContextFileCountThreshold(s);return await this.workspaceChunks.getFilesCount()>a&&(this._fileCountExceeded=!0),PCe(...r.map(l=>this.workspaceChunks.getChunks(l)))}async _chunk(t,r){if(this.cancellationToken.isCancelled())return;let n=await this.implementation.chunk(r,this.modelConfig);await this.workspaceChunks.addChunks(r,n)}async updateModelConfig(t){this.modelConfig||(this.modelConfig=await t.get(Xn).getBestChatModelConfig(Xo("user")))}async terminateChunking(){this.cancellationToken.cancel()}async clearChunks(){await this.workspaceChunks.clear()}updateChunkingTime(t,r){this._chunkingTimeMs=r-t}get chunkingTimeMs(){return Math.floor(this._chunkingTimeMs)}get fileCountExceeded(){return this._fileCountExceeded}get totalFileCount(){return this._totalFileCount}get chunkCountExceeded(){return this._chunkCountExceeded}get filesUpdatedCount(){return this._filesUpdated.size}async getFilesCount(){return this.workspaceChunks.getFilesCount()}getChunks(){return this.workspaceChunks.getChunks()}async getChunksCount(){return this.workspaceChunks.getChunksCount()}deleteSubfolderChunks(t){return this.workspaceChunks.deleteChunks({uri:t})}deleteFileChunks(t){return this._filesUpdated.add(t),this.workspaceChunks.deleteChunks({uri:t})}},Yse=class{constructor(){this.cancelled=!1}static{o(this,"ChunkingCancellationToken")}cancel(){this.cancelled=!0}isCancelled(){return this.cancelled}},Kse=class{constructor(t=20){this.maxCount=t;this.tasks=[];this.runningTasks=0}static{o(this,"Limiter")}async queue(t){return new Promise((r,n)=>{this.tasks.push({factory:t,resolve:r,reject:n}),this.consume()})}consume(){for(;this.tasks.length>0&&this.runningTasks<=this.maxCount;){let{factory:t,resolve:r,reject:n}=this.tasks.shift();this.runningTasks++;let i=t();i.then(r,n),i.then(()=>this.consumed(),()=>this.consumed())}}consumed(){this.runningTasks--,this.consume()}};var Ma=class{constructor(t){this.ctx=t;this.workspaceChunkingProviders=new Map}static{o(this,"ChunkingProvider")}get workspaceCount(){return this.workspaceChunkingProviders.size}createImplementation(t,r){let n=qNe(r),i=new n;return new zq(this.ctx,t,i)}getImplementation(t,r="default"){let n=this.getParentFolder(t);if(n)return this.workspaceChunkingProviders.get(n);let i=this.workspaceChunkingProviders.get(t);return i||(i=this.createImplementation(t,r),this.workspaceChunkingProviders.set(t,i)),i}getParentFolder(t){return[...this.workspaceChunkingProviders.keys()].find(n=>{let i=n.replace(/[#?].*/,"").replace(/\/?$/,"/");return t!==n&&t.startsWith(i)})}status(t){return this.getImplementation(t).status}checkLimits(t){let r=this.getImplementation(t);return{fileCountExceeded:r.fileCountExceeded,chunkCountExceeded:r.chunkCountExceeded}}fileCount(t){return this.getImplementation(t).getFilesCount()}chunkCount(t){return this.getImplementation(t).getChunksCount()}chunkingTimeMs(t){return this.getImplementation(t).chunkingTimeMs}getChunks(t){return this.getImplementation(t).getChunks()}async terminateChunking(t,r){let n=this.getImplementation(r);await n.terminateChunking();let s=rn.createAndMarkAsIssued().extendedBy(void 0,{fileCount:n.filesUpdatedCount});Xt(t,"index.terminate",s),this.workspaceChunkingProviders.delete(r)}async clearChunks(t,r){await this.terminateChunking(t,r),await this.getImplementation(r).clearChunks()}async deleteSubfolderChunks(t,r){return await this.getImplementation(t).deleteSubfolderChunks(r)}async deleteFileChunks(t,r){let n=this.getImplementation(t),i=[];Array.isArray(r)||(r=[r]);for(let s of r)i.push(...await n.deleteFileChunks(s));return i}async chunk(t,r,n,i){let s;return n&&(Array.isArray(n)?s=n:i=n),i||(i="default"),s?await this.chunkFiles(t,r,s,i):await this.chunkFolder(t,r,i)}async chunkFolder(t,r,n="default"){let i=this.getImplementation(r,n),s=await i.chunk(t),l=rn.createAndMarkAsIssued().extendedBy(void 0,{fileCount:i.totalFileCount,chunkCount:await i.getChunksCount(),timeTakenMs:i.chunkingTimeMs,workspaceCount:this.workspaceCount});return Xt(t,"index.chunk",l),s}async chunkFiles(t,r,n,i="default"){return await this.getImplementation(r,i).chunk(t,n)}};d();d();d();d();d();function Kq(e){switch(e){case"Agent":return"Agent";case"Ask":default:return"Ask"}}o(Kq,"toChatModeEnum");var G8=class{constructor(t){this.request=t;this.id=Tr();this.timestamp=Date.now();this.status="in-progress";this.skills=[];this.ignoredSkills=[];this.annotations=[]}static{o(this,"Turn")}},Yq=class e{constructor(t=[],r="panel",n="en"){this.turns=t;this.source=r;this.userLanguage=n;this._id=Tr();this._timestamp=Date.now()}static{o(this,"Conversation")}copy(){let t=JSON.parse(JSON.stringify(this.turns)),r=new e(t,this.source,this.userLanguage);return r._id=this.id,r._timestamp=this.timestamp,r}get id(){return this._id}get timestamp(){return this._timestamp}addTurn(t){this.turns.push(t)}deleteTurn(t){this.turns=this.turns.filter(r=>r.id!==t)}getLastTurn(){return this.turns[this.turns.length-1]}hasTurn(t){return this.turns.some(r=>r.id===t)}};d();d();d();var WNe={id:0,start_offset:0,stop_offset:0,type:"ip_code_citations",details:{},citations:{snippet:`html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Canvas Example</title>
<`,url:"https://github.com/duonghle285/gnoud9x.github.io/tree/c95127bc5b7a491d9223f21ac3b8c5100996e754/26062020-vehinhchunhat%2Findex.html",ip_type:"LICENSE",license:"NOASSERTION"}},HNe="Alright, This response contains a code citation.";d();var VNe=`
# Should render

## Links
Links should render. However, if a user clicks on the link, it should open a confirmation dialog before navigating to the link. 

markdown:

[GitHub Copilot](https://copilot.github.com)

html:

<a href="https://copilot.github.com">GitHub Copilot</a>

## Images
The following images do come from one of these sources and should render:

- \`raw.githubusercontent.com/\`
- \`private-user-images.githubusercontent.com/\`
- \`avatars.githubusercontent.com\`
- \`gist.github.com/assets/\`


markdown:

![logo](https://avatars.githubusercontent.com/u/147005046?v=4)

html:

<img src="https://avatars.githubusercontent.com/u/147005046?v=4" alt="logo"/>

## Headers

markdown:

# Header 1
## Header 2
### Header 3
#### Header 4
##### Header 5
###### Header 6

html:

<h1>Header 1</h1>
<h2>Header 2</h2>
<h3>Header 3</h3>
<h4>Header 4</h4>
<h5>Header 5</h5>
<h6>Header 6</h6>

## Paragraphs

html:

<p>This is a paragraph.</p>

## Bold

markdown:

**bold text**

html:

<strong>bold text</strong>

## Italic

markdown:

_italic text_

html:

<i>italic text</i>

## Codeblock

markdown:

\`\`\`javascript
console.log('Hello, World!');
\`\`\`

html:

<code>console.log('Hello, World!');</code>

## Unordered List

markdown:

- item 1
- item 2
- item 3

html:

<ul>
  <li>item 1</li>
  <li>item 2</li>
  <li>item 3</li>
</ul>

## Ordered List

markdown:

1. item 1
2. item 2
3. item 3

html:

<ol>
  <li>item 1</li>
  <li>item 2</li>
  <li>item 3</li>
</ol>

## Table

markdown:

| Header 1 | Header 2 | Header 3 |
|----------|----------|----------|
| cell 1   | cell 2   | cell 3   |
| cell 4   | cell 5   | cell 6   |

html:

<table>
    <thead>
        <tr>
            <th>Header 1</th>
            <th>Header 2</th>
            <th>Header 3</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>cell 1</td>
            <td>cell 2</td>
            <td>cell 3</td>
        </tr>
        <tr>
            <td>cell 4</td>
            <td>cell 5</td>
            <td>cell 6</td>
        </tr>
    </tbody>
</table>

## Blockquote

markdown:

> This is a blockquote.

html:

<blockquote>This is a blockquote.</blockquote>


# Should not render

## html tags
Unsupported tags like \`<div>\` should not render but should be escaped. This code:

\`\`\`html
<div><ul><li>Foo</li></ul><img src="https://github.com/images/modules/site/copilot/productivity-bg-head.png" alt="productivity" width="20"/>
\`\`\`

should be rendered as:

\`\`\`html
<div>
* Foo
<img src="https://github.com/images/modules/site/copilot/productivity-bg-head.png" alt="productivity" width="20"/>
\`\`\`

code:

<div><ul><li>Foo</li></ul><img src="https://github.com/images/modules/site/copilot/productivity-bg-head.png" alt="productivity" width="20"/></div>

## images
The following images do *not* come from one of the trusted domains and should not render.

markdown:

![productivity](https://github.com/images/modules/site/copilot/productivity-bg-head.png)

html:

<img src="https://github.com/images/modules/site/copilot/productivity-bg-head.png" alt="productivity" width="100"/>

## Invisible characters

### Inline styles
Styled elements should not be rendered styled. This may trick the user to think elements are actually IDE controls

<p style="color: red;">This is an <span style="display: none;">harmfully</span> styled text!</p>

### html attributes
Only img src/alt and a href attributes should make it to the dom. 

The following paragraph should not render the \`id\` attribute in the dom.

<p id="foo">This is a paragraph with an id</p>
`;d();d();var jNe=ft(require("fs")),Z0=ft(require("path"));var Jse=[".test",".spec","_test","Test","_spec","_test","Tests",".Tests","Spec"],Xse="test_",$_={js:{suffix:[".test",".spec"],location:"sameFolder"},ts:{suffix:[".test",".spec"],location:"sameFolder"},go:{suffix:["_test"],location:"sameFolder"},java:{suffix:["Test"],location:"testFolder"},php:{suffix:["Test"],location:"testFolder"},dart:{suffix:["_test"],location:"testFolder"},cs:{suffix:["Test"],location:"testFolder"},rb:{suffix:["_test","_spec"],location:"testFolder"},py:{prefix:"test_",location:"testFolder"},ps1:{suffix:[".Tests"],location:"testFolder"},kt:{suffix:["Test"],location:"testFolder"}},z_=class{constructor(t,r,n=void 0){this.ctx=t;this.fileExists=r;this.baseUri=n}static{o(this,"TestFileFinder")}async findTestFileForSourceFile(t){let r=ea(t),n=Z0.extname(r).replace(".",""),i=$_[n]??{location:"sameFolder",prefix:Xse,suffix:Jse},s=[];if(i.prefix&&s.push(i.prefix+r),i.suffix)for(let u of i.suffix??[]){let f=r.replace(`.${n}`,u+"."+n);s.push(f)}let a=i.location??"sameFolder",l;if(a==="sameFolder"){if(l=al(gu(t)),l===void 0)return}else{let u=al(t);if(u===void 0)return;l=this.determineTestFolder(u,a)}for(let u of s){let f=Z0.join(l,u),m=this.parseTestFilePath(f);if(m&&await this.fileExists(m))return m}let c=Ff(l);if(await this.fileExists(c))return Jo(c,s[0])}parseTestFilePath(t){try{return Ff(t)}catch(r){ei.error(this.ctx,`Failed to parse test file path: ${t}`,r);return}}async findImplFileForTestFile(t){let r=ea(t),n=Z0.extname(r).replace(".",""),i=$_[n]??{location:"sameFolder",prefix:Xse,suffix:Jse},s=[];if(i.prefix&&s.push(r.substring(i.prefix.length)),i.suffix)for(let c of i.suffix??[]){let f=r.substring(0,r.length-c.length-1-n.length)+"."+n;s.push(f)}let a=i.location??"sameFolder",l;a==="sameFolder"?l=gu(t):l=this.determineImplFolder(t);for(let c of s){let u=Jo(l,c);if(await this.fileExists(u))return u}}findExampleTestFile(t){let r=al(t);if(r===void 0)return;let n=Z0.extname(ea(t)).replace(".",""),i,s=$_[n]?.location??"sameFolder";s==="sameFolder"?i=Z0.dirname(r):i=this.determineTestFolder(r,s);let a=this.findFiles(i,`.${n}`,$_[n]);if(a.length>0)return Ff(a[0])}findFiles(t,r,n){let i=this._readdir(t),s=[];for(let a of i){let l=`${t}${Z0.sep}${a}`;n?.prefix&&a.startsWith(n.prefix)&&s.push(l),n?.suffix&&n?.suffix.some(c=>a.endsWith(c+r))&&s.push(l)}return s}_readdir(t){return jNe.readdirSync(t,{withFileTypes:!0}).filter(r=>r.isFile()).map(r=>r.name)}determineTestFolder(t,r){let n=(this.baseUri&&al(this.baseUri))??"",i=Z0.extname(t).replace(".",""),s=this.getRelativeTestFolder(t,n,i,r);return[n,...s].filter(a=>a).join(Z0.sep)}getRelativeTestFolder(t,r,n,i){let s=Z0.dirname(t).replace(r,"");switch(n){case"php":case"dart":case"py":return["tests"];case"ps1":return["Tests"];case"rb":return["test",s];case"cs":return[s.replace("src","src/tests")];case"java":case"scala":case"kt":return[s.replace(/src[\\/]main/,"src/test")];default:return i==="testFolder"?[s.replace("src","test")]:[s]}}determineImplFolder(t){let r=Z0.extname(ea(t)).replace(".",""),n=gu(t);switch(r){case"php":case"dart":case"py":return n.replace("tests","src");case"ps1":return n.replace("Tests","src");case"rb":return n.replace("/test","");case"cs":return n.replace("src/tests","src");case"java":case"scala":case"kt":return n.replace("src/test","src/main");default:return n.replace("test/","src/")}}};async function Y_(e){let t=ea(e),r=Z0.extname(t),n=$_[r.replace(".","")];return n?!(n.suffix&&!n.suffix.some(s=>t.endsWith(s+r))||n.prefix&&!t.startsWith(n.prefix)):!!(Jse.some(s=>t.endsWith(s+r))||t.startsWith(Xse))}o(Y_,"isTestFile");d();var $Ne=["indexed","indexing","not_indexed"],Ty=class{constructor(){this._cache=new kn(100)}static{o(this,"BlackbirdIndexingStatus")}async queryIndexingStatus(t,r,n){let i=t.ctx,s=i.get(Rn).getBlackbirdIndexingStatusUrl();if(!n)return!1;let a=new URL(s);a.searchParams.set("nwo",r);let l={Authorization:`token ${n}`},c=await i.get(Nr).fetch(a.href,{method:"GET",headers:l});if(!c.ok)return!1;let u=await c.json();return u.docs_status==="indexed"||u.code_status==="indexed"}isValid(t){return t!==void 0&&Date.now()-t.timestamp<30*60*1e3}async isRepoIndexed(t,r,n,i=!1){let s=t1(r);if(!s)return!1;let a=this._cache.get(s);if(!i&&this.isValid(a))return a.status;let l=await this.queryIndexingStatus(t,s,n);return this._cache.set(s,{status:l,timestamp:Date.now()}),l}get cache(){return this._cache}};d();d();d();async function zNe(e,t,r,n){let i=_o(t.tokenizer),s=r.filter(m=>i.tokenLength(m.text)<t.maxTokens);if(s.length===0)return;let a=[],l=await e.get(jr).getToken(),c=Jv(e,l,"embeddings"),u=l.token,f=0;for(;f<s.length&&!n.isCancellationRequested;){let m=s.slice(f,f+t.maxBatchSize),h=await U9t(e,c,u,t.modelId,m,n);a.push(...h||[]),f+=t.maxBatchSize}return a.length?a:void 0}o(zNe,"fetchEmbeddings");async function U9t(e,t,r,n,i,s){let a=Tr(),l=i.map(u=>u.text),c=await Hx(e,t,r,void 0,a,{input:l,model:n,dimensions:1024},s,Kv(e));if(c.status!==200||s.isCancellationRequested){Fo(e,new X1(`Failed to request dense embeddings, status: ${c.status}`),"LocalSnippetProvider.fetchEmbeddings");return}try{return(await c.json()).data.map(f=>({id:i[f.index].id,embedding:f.embedding}))}catch{return}}o(U9t,"sendEmbeddingsRequest");d();d();var Jq=class{static{o(this,"CosineSimilarityScoring")}score(t,r){let n=Math.sqrt(t.reduce((a,l)=>a+l*l,0)),i=Math.sqrt(r.reduce((a,l)=>a+l*l,0));return t.reduce((a,l,c)=>a+l*r[c],0)/(n*i)}terminateScoring(){}};var q9t="cosine",G9t=new Map([["cosine",Jq]]);function YNe(e){let t=e==="default"?q9t:e,r=G9t.get(t);if(!r)throw new Error(`Scoring constructor for type ${e} not found`);return r}o(YNe,"getScoringAlgorithm");d();var tf=class{constructor(){this.workspaceScoringProviders=new kn(25)}static{o(this,"ScoringProvider")}createImplementation(t,r){let n=YNe(r);return new n}getImplementation(t,r,n="default"){let i=this.workspaceScoringProviders.get(r);return i||(i=this.createImplementation(t,n),this.workspaceScoringProviders.set(r,i)),i}score(t,r,n,i,s){return this.getImplementation(t,r,s).score(n,i)}terminateScoring(t,r,n){this.getImplementation(t,r,n).terminateScoring(),this.workspaceScoringProviders.delete(r)}};var KNe={modelFamily:mP.textEmbedding3Small,scoringType:"default",dimensions:null};async function JNe(e,t,r,n,i,s,a,l=KNe){let c={...KNe,...l},u=H9t(e,t,r,n);tn.debug(e,`EmbeddingsReranker: Reranking ${u.length} snippets (includes the user query)`);let f=await e.get(Xn).getFirstMatchingEmbeddingModelConfiguration(c.modelFamily);if(f===void 0)throw new Error(`EmbeddingsReranker: Model configuration not found for ${c.modelFamily}`);let m=performance.now(),h=await zNe(e,f,u,s),p=performance.now();if(a.embeddingsTimeMs=Math.floor(p-m),h===void 0||h.length===0)return[];let A=h.findIndex(P=>P.id==="userQuery");if(A===void 0)return[];let E=h.splice(A,1)[0];if(s.isCancellationRequested)return[];let x=performance.now(),b=V9t(e,t,h,E,c.scoringType),v=performance.now();a.rerankingTimeMs=Math.floor(v-x);let S=b.slice(0,i);return tn.debug(e,`EmbeddingsReranker: Returning ${S.length} snippets`),S.map(P=>u.find(N=>N.id===P.id).id)}o(JNe,"rerankSnippets");function H9t(e,t,r,n){let i=n.map(s=>({id:s.id,text:s.chunk.toLowerCase()}));return i.push({id:"userQuery",text:r.toLowerCase()}),i}o(H9t,"formatEmbeddingsInput");function V9t(e,t,r,n,i){let s=e.get(tf);return r.map(l=>({id:l.id,score:s.score(e,t,n.embedding,l.embedding,i)})).sort((l,c)=>c.score-l.score)}o(V9t,"scoreEmbeddings");d();d();d();var eae=ft(Hq());var j9t=.75,$9t=1.2,z9t=47,Xq=class{constructor(t,r){this.ctx=t;this.workspaceFolder=r;this.chunksCount=0;this.sumTokenCount=0;this.status="notStarted"}static{o(this,"BM25Ranking")}get avgTokenCount(){return this.sumTokenCount/this.chunksCount}async initialize(t){this.sumTokenCount=0,this.chunksCount=0;for await(let r of t)this.sumTokenCount+=r.tokenCount,this.chunksCount++;this.status="completed"}async addChunks(t){for await(let r of t)this.sumTokenCount+=r.tokenCount,this.chunksCount++}async query(t){let r=await Zq();try{return await this.doQuery(t)}finally{await r.stopWorkerPool()}}async doQuery(t){let r=t.map(l=>l.toLowerCase()),n=await this.calculateIDFValues(r),i=Math.min(10*t.length,z9t),s=Math.min(i,this.chunksCount);return await this.calculateBM25Scores(r,this.avgTokenCount,n,s)}async calculateIDFValues(t){let r=this.ctx.get(Ma).getChunks(this.workspaceFolder),n=h5(r,async s=>({...s,chunk:s.chunk.toLowerCase()})),i=h5(n,async s=>s.chunk);return await Y9t(t,i)}async calculateBM25Scores(t,r,n,i){let s=this.ctx.get(Ma).getChunks(this.workspaceFolder),a=new Zse(i);for await(let l of s){let c=await K9t({...l,chunk:l.chunk.toLowerCase()},t,r,n);a.add({...c,chunk:l.chunk})}return a.toArray(.75)}async deleteEmbeddings(t){this.chunksCount-=t.length,this.sumTokenCount-=t.reduce((r,n)=>r+n.tokenCount,0)}async terminateRanking(){}};async function Y9t(e,t){let r=new SharedArrayBuffer(e.length*Int32Array.BYTES_PER_ELEMENT),n=new Int32Array(r),i=[],s=0;for await(let c of t){s++;let u=eae.job(({snippet:f,keywords:m})=>m.map(p=>f.includes(p)?1:0),{data:{snippet:c,keywords:e}}).then(f=>{for(let m=0;m<e.length;m++)Atomics.add(n,m,f[m])});i.push(u)}await Promise.all(i);let a=new Int32Array(r),l={};for(let c=0;c<e.length;c++)l[e[c]]=Math.log((s-a[c]+.5)/(a[c]+.5)+1);return l}o(Y9t,"calculateIDFValues");async function K9t(e,t,r,n){return{score:await eae.job(({keywords:s,document:a,docLength:l,avgTokenCount:c,idfValues:u,k1:f,b:m})=>{let h=0;for(let p of s){let A=u[p],E=(a.match(new RegExp(p,"g"))||[]).length,x=A*(E*(f+1)),b=E+f*(1-m+m*l/c);h+=x/b}return h},{data:{document:e.chunk,docLength:e.tokenCount,keywords:t,avgTokenCount:r,idfValues:n,k1:$9t,b:j9t}}),...e}}o(K9t,"calculateBM25Score");var Zse=class{constructor(t,r=-1/0){this.maxSize=t;this.minScore=r;this.store=[]}static{o(this,"SimpleHeap")}toArray(t){if(this.store.length&&typeof t=="number"){let r=this.store.at(0).score*(1-t);return this.store.filter(n=>n.score>=r)}return this.store}add(t){if(t.score<=this.minScore)return;let r=this.store.findIndex(n=>n.score<t.score);for(this.store.splice(r>=0?r:this.store.length,0,t);this.store.length>this.maxSize;)this.store.pop();this.store.length===this.maxSize&&(this.minScore=this.store.at(-1)?.score??this.minScore)}};var X9t="bm25",Z9t=new Map([["bm25",Xq]]);function XNe(e){let t=e==="default"?X9t:e,r=Z9t.get(t);if(!r)throw new Error(`Ranking constructor for type ${e} not found`);return r}o(XNe,"getRankingAlgorithm");var ec=class{constructor(){this.workspaceRankingProviders=new kn(25)}static{o(this,"RankingProvider")}createImplementation(t,r,n){let i=XNe(n);return new i(t,r)}getImplementation(t,r,n="default"){let i=this.workspaceRankingProviders.get(r);return i||(i=this.createImplementation(t,r,n),this.workspaceRankingProviders.set(r,i)),i}status(t,r,n){return this.getImplementation(t,r,n).status}async initialize(t,r,n,i="default"){await this.getImplementation(t,r,i).initialize(n)}async addChunks(t,r,n,i="default"){await this.getImplementation(t,r,i).addChunks(n)}async query(t,r,n,i){return this.getImplementation(t,r,i).query(n)}async terminateRanking(t,r,n){await this.getImplementation(t,r,n).terminateRanking(),this.workspaceRankingProviders.delete(r)}deleteEmbeddings(t,r,n,i){return this.getImplementation(t,r,i).deleteEmbeddings(n)}};d();async function ZNe(e,t){let r=e.ctx,n=await r.get(Xn).getBestChatModelConfig(Xo("synonyms"),{tool_calls:!0}),i={promptType:"synonyms",modelConfiguration:n},s=await r.get(Kl).toPrompt(e,i);if(!s.toolConfig)return;let a={modelConfiguration:n,uiKind:"conversationPanel",messages:s.messages,tools:s.toolConfig?.tools,tool_choice:s.toolConfig?.tool_choice,llmInteraction:e.toLlmInteraction()},l=new ua(r),c=await za(r,e.turn.id,e.conversation.id),u=await l.fetchResponse(a,t,c.extendedBy({messageSource:"chat.synonyms"}));if(u.type==="success"&&u.toolCalls&&u.toolCalls.length>0){let f=u.toolCalls[0],m=s.toolConfig?.extractArguments(f).keywords;return!m||!Array.isArray(m)?void 0:(tn.debug(r,`UserQueryParser: Parsed ${m.length} keywords from the original user query: ${m.join(", ")}`),m.length?m:void 0)}else{let f="reason"in u?u.reason:"";Fo(r,new X1(`Failed to request user query synonyms, result type: ${u.type}, reason: ${f}`),"LocalSnippetProvider.parseUserQuery")}}o(ZNe,"parseUserQuery");var eFe=ft(ef());var X1=class extends Error{static{o(this,"LocalSnippetProviderError")}constructor(t){super(String(t),{cause:t}),this.name="LocalSnippetProviderError"}},eG=class{constructor(){this.providerType="local"}static{o(this,"LocalSnippetProvider")}snippetProviderStatus(t,r){if(!t.turn.workspaceFolder)return Promise.resolve("not_indexed");r===void 0&&(r=!0);let n=t.ctx,i=n.get(Ma),s=i.status(t.turn.workspaceFolder),a=n.get(ec),l=a.status(n,t.turn.workspaceFolder);if(s==="completed"&&l==="completed")return Promise.resolve("indexed");if(s==="started"||l==="started")return Promise.resolve("indexing");if(r){let c=t.turn.workspaceFolder;if(s==="notStarted")return Promise.race([i.chunk(n,c).then(u=>{if(i.status(c)==="completed")return a.initialize(n,c,u)}).then(()=>this.snippetProviderStatus(t,!1)),new Promise(u=>setTimeout(()=>u("not_indexed"),1e3))]);if(l==="notStarted"){let u=i.getChunks(c);return Promise.race([a.initialize(n,c,u).then(()=>this.snippetProviderStatus(t,!1)),new Promise(f=>setTimeout(()=>f("not_indexed"),1e3))])}}return Promise.resolve("not_indexed")}async collectLocalSnippets(t,r){let n=t.turn.workspaceFolder;if(!n)return[];let i=t.ctx,a=await i.get(Ma).chunkCount(n);if(a===0)return[];r.chunkCount=a;let l,c=performance.now();try{l=await ZNe(t,t.cancelationToken)}catch(A){let E=new X1(A);Fo(i,E,"LocalSnippetProvider.parseUserQuery")}let u=performance.now();if(r.synonymTimeMs=Math.floor(u-c),l===void 0)return[];let f=i.get(ec),m=[],h=performance.now();try{let A=await f.query(i,n,l);r.localSnippetCount=A.length,m=A}catch(A){let E=new X1(A);Fo(i,E,"LocalSnippetProvider.rankingQuery")}let p=performance.now();return r.rankingTimeMs=Math.floor(p-h),m}async rerankLocalSnippets(t,r,n){let i=t.turn.workspaceFolder;if(!i)return[];let s=t.ctx,a=on(t.turn.request.message),l=[];try{l=await JNe(s,i,a,r,5,t.cancelationToken,n)}catch(f){let m=new X1(f);Fo(s,m,"LocalSnippetProvider.rerankSnippets")}let c=[],u=s.get(zn);for(let f of l){let m=f.split("#")[0],h=await u.readFile(m),p=r.find(A=>A.id===f);if(h.status==="valid"){let A=h.document.positionAt(p.range.start),E=h.document.positionAt(p.range.end),x=oo.range(A,E);c.push({uri:h.document.uri,range:x,snippet:p.chunk})}}return c}async provideSnippets(t){let r=this.collectInfoMessage(t);r&&await t.info(r);let n={...fRe},i=await this.collectLocalSnippets(t,n);if(i.length===0)return{snippets:[],measurements:n};let s=t.ctx;return tn.debug(s,`LocalSnippetProvider: First pass: Found ${i.length} snippets.`),{snippets:await this.rerankLocalSnippets(t,i,n),measurements:n}}collectInfoMessage(t){let r=t.turn.workspaceFolder;if(!r)return;let s=t.ctx.get(Ma).checkLimits(r);if(s.fileCountExceeded||s.chunkCountExceeded)return eFe.default`
Copilot has partially indexed this project as it exceeds the file limit. As a result, responses may have incomplete context. Consider excluding large, less relevant files or folders (e.g., large CSV files) to improve accuracy.
`}};var rFe=ft(tFe()),nG=ft(Hq()),nFe=ft(require("os")),iFe=ft(ef());var r7t=Math.max(nFe.cpus().length-1,1),K_=class e{constructor(){this.isActive=!0}static{o(this,"WorkerPoolToken")}static{this.workerPoolStarted=!1}static{this.activeProcessCount=0}static{this.allTokens=[]}static{this.lock=new rFe.default}static async startWorkerPool(){await e.lock.acquireAsync();try{e.workerPoolStarted||(e.workerPoolStarted=!0,await nG.start({maxWorkers:r7t})),e.activeProcessCount++;let t=new e;return e.allTokens.push(t),t}finally{e.lock.release()}}async stopWorkerPool(){if(this.isActive){await e.lock.acquireAsync();try{this.isActive&&(this.isActive=!1,e.activeProcessCount--,e.activeProcessCount==0&&(await nG.stop(),e.workerPoolStarted=!1),e.allTokens.includes(this)&&e.allTokens.splice(e.allTokens.indexOf(this),1))}finally{e.lock.release()}}}static async forceStopWorkerPool(){let t=e.allTokens[Symbol.iterator]();for(let r of t)await r.stopWorkerPool();e.workerPoolStarted=!1,e.activeProcessCount=0}},Zq=K_.startWorkerPool.bind(K_);var lun=T.Object({uri:T.String(),snippet:T.String(),range:T.Object({start:T.Object({line:T.Number(),character:T.Number()}),end:T.Object({line:T.Number(),character:T.Number()})})}),nae=class{constructor(t){this.turnContext=t}static{o(this,"ProjectContextSkillProcessor")}value(){return 1}async processSkill(t){if(this.turnContext.cancelationToken.isCancellationRequested){await this.turnContext.steps.cancel(W8);return}let r=[],n=this.turnContext.ctx.get(zn),i=this.removeDuplicateSnippets(t);for(let s of i){let{uri:a,snippet:l,range:c}=s,u=await n.readFile(a);if(u.status==="valid"){let f=new Vp(u.document,c,c),m=new rr([l]),p=await Y_(a)?.5:.8;r.push([`Code excerpt from file \`${al(a)}\`:`,1],[f.wrapInTicks(m,p),1]),await this.turnContext.collectFile(H8,a,ss(u),c)}}if(r.length>0)return r.unshift([new rr(["The user wants you to consider the following snippets when computing your answer."]),1]),new rr(r)}removeDuplicateSnippets(t){let r={};return t.forEach(n=>{let i=`${n.uri}#[${n.range.start.line},${n.range.start.character}]-[${n.range.end.line},${n.range.end.character}]`;r[i]||(r[i]=n)}),Object.values(r)}},W8="collect-project-context",tG=class{constructor(t,r=[new eG]){this.ctx=t;this.snippetProviders=r;t.get(zu).onChange(n=>{this.onWorkspacesAdded(n.added,t),this.onWorkspacesRemoved(n.removed,t)})}static{o(this,"ProjectContextSkillResolver")}async isEnabled(){try{await this.ctx.get(jr).getToken()}catch{return!1}let t=this.ctx.get(er),r=await t.updateExPValuesAndAssignments();return t.ideChatEnableProjectContext(r)}async onWorkspacesAdded(t,r){let n=await Zq();try{await this.doOnWorkspacesAdded(t,r)}finally{await n.stopWorkerPool()}}async doOnWorkspacesAdded(t,r){if(!t.length||!await this.isEnabled())return;let n=o((s,a)=>{let l=s.uri,c=a.uri.replace(/[#?].*/,"").replace(/\/?$/,"/");return l!==c&&l.startsWith(c)},"isSubfolder"),i=[];for(let s of t)s&&(i.some(a=>n(s,a))||(i=i.filter(a=>!n(a,s)),i.push(s)));for(let s of i){let a=r.get(Ma);if(!s.uri)continue;let l=r.get(Km);if(l.shouldStartWatching(s)){l.startWatching(s);let c=l.terminateSubfolderWatchers(s),u=r.get(ec),f=r.get(tf);for(let h of c)await a.terminateChunking(r,h),await u.terminateRanking(r,h),f.terminateScoring(r,s.uri);let m=await a.chunk(r,s.uri);if(a.status(s.uri)!=="completed"){l.terminateWatching(s);continue}await u.initialize(r,s.uri,m),l.onFileChange(s,async({documents:h,type:p})=>{let A=await Zq();try{let E=h.map(x=>x.uri);if(p==="delete"||p==="update"){let x=await a.deleteFileChunks(s.uri,E);await u.deleteEmbeddings(r,s.uri,x)}if(p==="create"||p==="update"){let x=await a.chunk(r,s.uri,h);await u.addChunks(r,s.uri,x)}}finally{await A.stopWorkerPool()}})}}}async onWorkspacesRemoved(t,r){if(!t.length||!await this.isEnabled())return;let n=r.get(Ma);for(let i of t){let s=i.uri;if(!s)continue;let a=n.getParentFolder(s);if(a){let f=await n.deleteSubfolderChunks(a,s);await r.get(ec).deleteEmbeddings(r,a,f);continue}r.get(Km).terminateWatching(i),await n.terminateChunking(r,s),await r.get(ec).terminateRanking(r,s),r.get(tf).terminateScoring(r,s)}n.workspaceCount===0&&await K_.forceStopWorkerPool()}async resolveSkill(t){await t.steps.start(W8,"Collecting relevant project context"),await t.info(iFe.default`Project context is applied to this response, which may lead to slightly longer load times. For faster and more general Copilot responses, remove the project context option from your prompt.`);let r=this.snippetProviders.map(async a=>a.snippetProviderStatus(t)),n=await Promise.all(r),i="not_indexed",s;for(let a of $Ne){let l=n.findIndex(c=>c===a);if(l!==-1){i=a,s=this.snippetProviders[l];break}}switch(i){case"indexed":{let{snippets:a,measurements:l}=await s.provideSnippets(t);if(await dRe(t,s.providerType,l),a.length===0){await t.steps.error(W8,"No project context found");return}return await t.steps.finish(W8),a}case"indexing":{await t.steps.error(W8,"Indexing repository, please try again later");return}case"not_indexed":{await t.steps.error(W8,"No project context available");return}}}},H8="project-context",rG=class extends Il{static{o(this,"ProjectContextSkill")}constructor(t){super(H8,"Code snippets and documentation from the open project. This skill is useful when the user question is specific to the open project and its context. Do not include this skill for general programming questions.","Performing code search",()=>t,r=>new nae(r),"implicit",["Relevant: How do I add a custom server route?","Relevant: Where is the code that processes the response from CopyableThreadElement?","Relevant: Where do I add tests for the InputValidation class?","Relevant: How to implement a shared buffer component","Not relevant: What does numpy do?"],async r=>{let n=r.get(er),i=await n.updateExPValuesAndAssignments();return n.ideChatEnableProjectContext(i)})}};d();var oFe=T.Object({labels:T.Array(T.String())}),iae=class{constructor(t){this.turnContext=t}static{o(this,"ProjectLabelsSkillProcessor")}value(){return 1}async processSkill(t){let r=[];return r.push([new rr(["The developer is working on a project with the following characteristics (languages, frameworks):"]),1]),t.labels.forEach(n=>{r.push([new rr([`- ${n}`]),.9]),this.turnContext.collectLabel(Xm,n)}),new rr(r)}},Xm="project-labels",iG=class{constructor(t){this._resolver=t;this.id=Xm;this.type="explicit"}static{o(this,"ProjectLabelsSkill")}description(){return"The characteristics of the project the developer is working on (languages, frameworks)"}resolver(){return this._resolver}processor(t){return new iae(t)}};d();var oG=ft(ef());var aFe={id:0,start_offset:0,stop_offset:0,type:"code_vulnerability",details:{type:"server-side-unvalidated-url-redirection",description:"Allows a URL to be redirected to a different URL that is specified by an external user.",ui_type:"test",ui_description:"test"}},lFe=oG.dedent`
    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna 
    aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
`,cFe=oG.dedent`
    \`\`\`kotlin
    fun main() {
        println("Hello, World!")
    }
    \`\`\`
`,n7t=oG.dedent`
    ### Inputs
    
    \`p\` - paragraph message
    
    \`c\` - code block
    
    \`<number>\` - number of vulnerabilities, must be at the end of the string (applies to all code blocks)
    
    ### Examples
    
    \`/debug.vulnerability\` - 1 paragraph followed by 1 code block with 1 vulnerability
    
    \`/debug.vulnerability pcc2\` - 1 paragraph followed by 2 code blocks with 2 vulnerabilities each
    
    \`/debug.vulnerability cpc3\` - 1 code block followed by 1 paragraph followed by 1 code block--each code block has 3 vulnerabilities
`,oae=`

`,sFe=lFe+oae+cFe;function uFe(e){let t=1;if(e.length===0)return{reply:sFe,vulnerabilities:t};if(e==="0")return{reply:sFe,vulnerabilities:0};if(e==="help")return{reply:n7t,vulnerabilities:t};let r=e.slice(-1);isNaN(Number(r))||(t=Number(r),e=e.slice(0,-1));let n="";for(let i of e)i==="p"?n+=lFe+oae:i==="c"&&(n+=cFe+oae);return{reply:n.trimEnd(),vulnerabilities:t}}o(uFe,"parseVulnerabilitiesInstructions");var fFe=ft(ef());var i7t="Oops, your response got filtered. Vote down if you think this shouldn't have happened",o7t="You've reached your monthly chat messages limit. Upgrade to Copilot Pro (30-day free trial) or wait for your limit to reset.",sae=class{constructor(){this.id="debug.fail";this.description="Fail for debugging purposes";this.shortDescription="Fail";this.scopes=["chat-panel"]}static{o(this,"DebugFailPromptTemplate")}response(t,r){throw new Error(r.length>0?r:"Debug Fail")}},s7t=new sae,aae=class{constructor(){this.id="debug.upgrade";this.description="upgrade for debugging purposes";this.shortDescription="upgrade";this.scopes=["chat-panel"]}static{o(this,"DebugUpgradePromptTemplate")}async response(t,r){return new Tl(o7t,{message:"",code:402,responseIsIncomplete:!0,responseIsFiltered:!1})}},a7t=new aae,lae=class{constructor(){this.id="debug.notify";this.description="Notify for debugging purposes";this.shortDescription="Notify";this.scopes=["chat-panel","inline"]}static{o(this,"DebugNotificationPromptTemplate")}async response(t,r){let n="warning";r.includes("info")&&(n="info");let i=r.replace("info","").replace("warning","").trim(),s=[{severity:n,message:i.length>0?i:"Debug Notification"}];return new Tl("Alright, I'm producing a notification",void 0,[],s)}},l7t=new lae,cae=class{constructor(){this.id="debug.filter";this.description="Make the RAI filter kick in";this.shortDescription="RAI Filter";this.scopes=["chat-panel"]}static{o(this,"DebugFilterPromptTemplate")}async response(t,r){return t.turn.status="filtered",new Tl(i7t,{message:"",responseIsFiltered:!0,responseIsIncomplete:!1})}},c7t=new cae,uae=class{constructor(){this.id="debug.dump";this.description="Dump the conversation";this.shortDescription="Dump";this.scopes=["chat-panel"]}static{o(this,"DebugDumpPromptTemplate")}async response(t){return new Tl(await mFe(t))}},u7t=new uae,fae=class{constructor(){this.id="debug.tree";this.description="Jingle bells, jingle bells, jingle all the way";this.shortDescription="Christmas Tree";this.scopes=["chat-panel"]}static{o(this,"DebugChristmasTreePromptTemplate")}async requiredSkills(t){return[Xm,E0]}instructions(t,r){return"Create a function that prints a christmas tree"}},f7t=new fae,dae=class{constructor(){this.id="debug.echo";this.description="Echo the user message back to the user";this.shortDescription="Echo";this.scopes=["chat-panel"]}static{o(this,"DebugEchoPromptTemplate")}async response(t){return new Tl(on(t.turn.request.message))}},d7t=new dae,mae=class{constructor(){this.id="debug.prompt";this.description="Show the prompt for the last response or generate a new one";this.shortDescription="Prompt";this.scopes=["chat-panel"]}static{o(this,"DebugPromptPromptTemplate")}async response(t,r){let n=t.ctx.get(wl).getLastTurnPrompts();if(n!==void 0&&n.size>0){let i="Here are the prompts used in the last turn:";return n.forEach((s,a)=>{i+=fFe.default`

                        ### ${a} prompt
                        
                        \`\`\`\`
                        ${s}
                        \`\`\`\`
                    `}),new Tl(i)}return new Tl("No prompt available")}},m7t=new mae,hae=class{constructor(){this.id="debug.skills";this.description="Resolves and displays all available skills or a single skill (id) if provided";this.shortDescription="Skills";this.scopes=["chat-panel"]}static{o(this,"DebugSkillsPromptTemplate")}async response(t,r,n){let i,s;if(r.length>0){let a=r.split(" ");i=a[0],s=a.slice(1).join(" ")}return t.turn.request.message=s??"",new Tl(await hFe(t,n,i))}},h7t=new hae,pae=class{constructor(){this.id="debug.vulnerability";this.description="Create a message with a vulnerability annotation";this.shortDescription="Vulnerability";this.scopes=["chat-panel"]}static{o(this,"DebugVulnerabilityPromptTemplate")}async response(t,r){let{reply:n,vulnerabilities:i}=uFe(r);for(let s=0;s<i;s++)t.turn.annotations.push(aFe);return new Tl(n,void 0,t.turn.annotations)}},p7t=new pae,gae=class{constructor(){this.id="debug.citation";this.description="Create a message with a code citation annotation";this.shortDescription="CodeCitation";this.scopes=["chat-panel"]}static{o(this,"DebugCodeCitationPromptTemplate")}async response(t,r){return t.turn.annotations.push(WNe),new Tl(HNe,void 0,t.turn.annotations)}},g7t=new gae,Aae=class{constructor(){this.id="debug.markdown";this.description="Markdown rendering specification by example";this.shortDescription="Markdown";this.scopes=["chat-panel","inline"]}static{o(this,"DebugMarkdownRenderingPromptTemplate")}async response(t,r){return new Tl(VNe)}},A7t=new Aae,yae=class{constructor(){this.id="debug.long";this.description="Generate a long response";this.shortDescription="Long";this.scopes=["chat-panel"]}static{o(this,"DebugLongPromptTemplate")}instructions(t,r){return"Write out the OWASP top 10 with code examples in java"}},y7t=new yae,Cae=class{constructor(){this.id="debug.project";this.description="Generate a response using the project context skill";this.shortDescription="Project";this.scopes=["chat-panel","inline"]}static{o(this,"DebugProjectContextPromptTemplate")}async requiredSkills(t){return[H8]}},C7t=new Cae,Eae=class{constructor(){this.id="debug.confirmation";this.description="Generate a response with a confirmation";this.shortDescription="Confirmation";this.scopes=["chat-panel","inline"]}static{o(this,"DebugConfirmationPromptTemplate")}async response(){let t={type:"action",title:"Confirmation that you want to proceed",message:"Do you want to proceed?",agentSlug:"debug.confirmation",confirmation:{answer:"yes"}};return new Tl("Alright, I'm producing a notification",void 0,[],[],[],t)}},E7t=new Eae;function dFe(){return[s7t,a7t,l7t,c7t,f7t,u7t,d7t,m7t,h7t,p7t,g7t,E7t,A7t,y7t,C7t]}o(dFe,"getDebugTemplates");d();d();function _y(e,t){if(e.length==0)return new rr([]);let r=e.map((n,i)=>{let s;switch(t){case"linear":s=1-i/e.length;break;case"inverseLinear":s=(i+1)/e.length;break;case"positional":s=1/(i+1);break;case"inversePositional":s=1/(e.length-i);break}return Array.isArray(n)&&n.length==2&&(s*=n[1],n=n[0]),[n,s]});return new rr(r)}o(_y,"weighElidableList");var pFe=T.Object({uri:T.String(),problems:T.Array(T.Object({message:T.String(),range:fm}))}),xae=class{constructor(t){this.turnContext=t}static{o(this,"ProblemsInActiveDocumentSkillProcessor")}value(){return 1}async processSkill(t){let r=this.turnContext.ctx.get(zn),n=await r.readFile(t.uri);if(await this.turnContext.collectFile(Sy,t.uri,ss(n)),n.status==="valid"){let i=await r.getRelativePath(n.document);this.turnContext.collectLabel(Sy,`problems in ${i}`);let s=this.getElidableProblems(t,n,i);return await this.preElideDocuments(s)}else this.turnContext.collectLabel(Sy,"problem markers")}getElidableProblems(t,r,n){let i=[];return i.push(new rr([`Problems and errors in the active document (\`${n}\`):`])),i.push(...this.createElidableProblems(t,r)),_y(i,"linear")}createElidableProblems(t,r){return t.problems.map(n=>{let i=[];i.push(new rr([`- "${n.message}" at line ${n.range.start.line}.`+(r.document?" Excerpt from the code:":"")]));let s=n.range,a;if(s&&(this.isEmpty(s)?a=r.document.lineAt(s.start).text:a=r.document.getText(s),a)){let l=r.document.languageId;i.push(new rr([["```"+l,1],[bu(a),.8],["```",1]]))}return new rr(i)})}isEmpty(t){return t.start.line===t.end.line&&t.start.character===t.end.character}async preElideDocuments(t){let r=(await this.turnContext.ctx.get(Xn).getBestChatModelConfig(Xo("user"))).maxRequestTokens,n=t.makePrompt(Math.floor(r*.1));return new rr([n])}},Sy="problems-in-active-document",sG=class extends Il{static{o(this,"ProblemsInActiveDocumentSkill")}constructor(t){super(Sy,"List of problems and errors in the active document, useful when the user question is about finding and fixing errors, non-functioning code, compilation issues, etc.","Analyzing problems and errors",()=>t,r=>new xae(r),"explicit",["How can I fix the errors?","Why is my app not working?","Why am I getting compilation errors?","Raw error messages or stack traces"])}};d();d();var aG=class{constructor(t){this.turnContext=t}static{o(this,"PromptForTestGeneration")}async fromImplementationFile(t){let r=await this.turnContext.ctx.get(Wr).getWorkspaceFolder(t),n=this.fileExistFn(),i=new z_(this.turnContext.ctx,n,r?.uri),s=await i.findTestFileForSourceFile(t.uri),a=await Y_(t.uri);if(s&&!a){let l=t.languageId;if(await n(s))return await this.asTestFilePrompt(l,s);{let c=i.findExampleTestFile(t.uri);if(c)return await this.asExampleFilePrompt(l,c)}}}async fromTestFile(t){if(!await Y_(t.uri))return;let n=await this.turnContext.ctx.get(Wr).getWorkspaceFolder(t),i=this.fileExistFn(),a=await new z_(this.turnContext.ctx,i,n?.uri).findImplFileForTestFile(t.uri);if(a){let l=t.languageId;if(await i(a))return await this.asImplFilePrompt(l,a)}}async asImplFilePrompt(t,r){let n=await this.fileInfoForPrompt(r);if(n){let[i,s]=n;return new rr([[`${x7t} \`${s}\`:`,1],["```"+t,1],[i,.9],["```",1]])}return new rr([])}async asTestFilePrompt(t,r){let n=await this.fileInfoForPrompt(r);if(n){let[i,s]=n;return new rr([[`${v7t} \`${s}\`:`,1],["```"+t,1],[i,.9],["```",1]])}return new rr([])}async asExampleFilePrompt(t,r){let n=await this.fileInfoForPrompt(r);if(n){let[i,s]=n;return new rr([[`${b7t} \`${s}\`:`,1],["```"+t,1],[i,.9],["```",1]])}return new rr([])}async fileInfoForPrompt(t){if(!this.turnContext.isFileIncluded(t.toString())){let r=this.turnContext.ctx.get(zn),n=await r.readFile(t.toString());if(await this.turnContext.collectFile(Zm,t.toString(),ss(n)),n.status==="valid"){let i=await r.getRelativePath(n.document);return[bu(n.document.getText()),i]}}}fileExistFn(){return async t=>{try{return await this.turnContext.ctx.get(Lo).stat(t),!0}catch{return!1}}}},x7t="Code excerpt from the implementation source file",v7t="Code excerpt from the test file",b7t="Code excerpt from an example test file";var gFe=T.Object({currentFileUri:T.String(),sourceFileUri:T.Optional(T.String()),testFileUri:T.Optional(T.String())}),bae=class{constructor(t){this.turnContext=t}static{o(this,"TestContextSkillProcessor")}value(){return .9}async processSkill(t){let r=this.turnContext.ctx.get(zn),n=new aG(this.turnContext);if(t.sourceFileUri&&t.testFileUri){if(t.sourceFileUri!==t.currentFileUri&&t.testFileUri!==t.currentFileUri)return;if(t.testFileUri===t.currentFileUri){let i=await r.readFile(t.testFileUri);if(await this.turnContext.collectFile(Zm,t.testFileUri,ss(i)),i.status==="valid")return await n.asImplFilePrompt(i.document.languageId,t.sourceFileUri)}else if(t.sourceFileUri===t.currentFileUri){let i=await r.readFile(t.sourceFileUri);if(await this.turnContext.collectFile(Zm,t.sourceFileUri,ss(i)),i.status==="valid")return await n.asTestFilePrompt(i.document.languageId,t.testFileUri)}}else if(t.sourceFileUri&&t.sourceFileUri===t.currentFileUri){let i=await r.readFile(t.sourceFileUri);if(await this.turnContext.collectFile(Zm,t.sourceFileUri,ss(i)),i.status==="valid")return await n.fromImplementationFile(i.document)}else if(t.testFileUri&&t.testFileUri===t.currentFileUri){let i=await r.readFile(t.testFileUri);if(await this.turnContext.collectFile(Zm,t.testFileUri,ss(i)),i.status==="valid")return await n.fromTestFile(i.document)}}},Zm="test-context",lG=class extends Il{static{o(this,"TestContextSkill")}constructor(t){super(Zm,"Example tests useful for creating, adding and fixing tests, to detect available test frameworks as well as finding the corresponding implementation to existing tests","Searching test examples",()=>t,r=>new bae(r))}};d();var AFe=ft(ef());var yFe=T.Object({failures:T.Array(T.Object({testName:T.String(),testSuite:T.Optional(T.String()),testFileUri:T.String(),failureReason:T.Optional(T.String()),testLocation:fm}))}),Iae=class{constructor(t){this.turnContext=t}static{o(this,"TestFailuresSkillProcessor")}value(){return .9}async processSkill(t){if(t.failures.length>0){this.turnContext.collectLabel(nE,"test failures");let r=await this.createElidableFailures(t.failures);if(r){let n=new rr(["The latest test run produced the following failures and errors:"]);return new rr([[n,1],[r,1]])}}}async createElidableFailures(t){let r=this.turnContext.ctx.get(zn),n=[],i=this.groupFailuresByFile(t);for(let[s,a]of i.entries()){let l=await r.readFile(s);if(await this.turnContext.collectFile(nE,s,ss(l)),l.status==="valid"){let c=await r.getRelativePath(l.document),u=this.createElidableFailuresOfDoc(a,c),f=this.appendCode(u,c,l.document);n.push([f,1])}}if(n.length>0)return new rr(n)}groupFailuresByFile(t){let r=new Map;for(let n of t){let i=r.get(n.testFileUri)||[];i.push(n),r.set(n.testFileUri,i)}return r}createElidableFailuresOfDoc(t,r){let n=t.map(i=>{let s=`\`${i.testName}\``,a=`${i.testSuite?` in suite \`${i.testSuite}\``:""}`,l=` in file \`${r}\` `,c=". ";i.failureReason&&(c=" with the following error:",i.failureReason.includes(`
`)?c+="\n```\n"+i.failureReason+"\n```\n":c+=` \`${i.failureReason}\`. `);let u=`${i.testLocation.start.line==i.testLocation.end.line?"on line "+i.testLocation.start.line:"between lines "+i.testLocation.start.line+" and "+i.testLocation.end.line}`;return[new rr([AFe.default`\n\n- Test ${s}${a}${l}failed${c}The failed test is ${u}.\n`]),1]});return new rr(n)}appendCode(t,r,n){let i=[new rr([`
The code of file \`${r}\` is:
`]),.6],s=[new rr([["```"+n.languageId,1],[bu(n.getText()),.9],["```",1]]),.7];return new rr([[t,1],i,s])}},nE="test-failures",cG=class extends Il{static{o(this,"TestFailuresSkill")}constructor(t){super(nE,"Test failures and errors of the latest test run","Collecting test failures",()=>t,r=>new Iae(r))}};var wd=ft(ef());var Tl=class{constructor(t,r,n=[],i=[],s=[],a){this.message=t;this.error=r;this.annotations=n;this.notifications=i;this.references=s;this.confirmationRequest=a}static{o(this,"PromptTemplateResponse")}},iE=class{constructor(t,r,n,i,s=[],a=[],l,c=!1){this.id=t;this.description=r;this.shortDescription=n;this.prompt=i;this.skills=s;this.scopes=a;this.inlinePrompt=l;this.producesCodeEdits=c}static{o(this,"StaticPromptTemplate")}instructions(t,r,n="panel"){let i;return n==="inline"?i=this.inlinePrompt??this.prompt:i=this.prompt,i+`
`+r}async requiredSkills(t){return this.skills}},I7t=new iE("tests","Generate unit tests","Generate Tests",wd.default`
        Write a set of unit tests for the code above, or for the selected code if provided.
        Provide tests for the functionality of the code and not the implementation details.
        The tests should test the happy path as well as the edge cases.
        Choose self explanatory names for the tests that describe the tested behavior. Do not start the test names with "test".
        Think about the different scenarios that could happen and test them.
        Do reply with the tests only and do not explain them further.
        Do reply with new or modified tests only and not with the complete test class or suite.
        Follow the same test style as in existing tests if they exist.
        You must not create inline comments like "Arrange, Act, Assert", unless existing tests use inline comments as well.
        If existing tests use any mocking or stubbing libraries, use the same libraries before writing your own test doubles.
        `,[Zm,nE],["chat-panel","editor"]),T7t=new iE("simplify","Simplify the code","Simplify This",wd.default`
        Provide a simplified version of the selected code above.
        Do not change the behavior of the code. 
        The code should still be readable and easy to understand. 
        Do not reply with the original code but only a simplified version. 
        Do only reply with one code snippet that contains the complete simplified code and explain what you have simplified after.`,[],["editor","chat-panel","inline"],wd.default`
        Provide a simplified version of the selected code.
        Modify the selected code to make it simpler and easier to understand.
        Do not change the behavior of the code. 
        Removing empty lines is not a simplification.
        You must not omit any code that is necessary for the code to compile and run, for example by replacing lines with ... or similar.
        Do not reply with the original code but only a simplified version.`,!0),w7t=new iE("fix","Fix problems and compile errors","Fix This",wd.default`
        Fix the provided errors and problems. 
        Do not invent new problems.
        The fixed code should still be readable and easy to understand.
        If there are no problems provided do reply that you can't detect any problems and the user should describe more precisely what they want to be fixed. 
        Group problems if they are related and can be fixed by the same change. 
        Present a group as a single problem with a simple description that does not repeat the single problems but explains the whole group of problems in a few words.
        Explain each group of problems without repeating the detailed error message. 
        Show how the error can be fixed by providing a code snippet that displays the code before and after it has been fixed after each group. 
        Shorten fully qualified class names to the simple class name and full file paths to the file names only.
        When enumerating the groups, start with the word "Problem" followed by the number and a quick summary of the problem. Format this headline bold.
        At last provide a completely fixed version of the code if the fixes required multiple code changes.`,[Sy],["editor","chat-panel","inline"],wd.default`
        Fix the provided errors and problems. 
        Do not invent new problems.
        The fixed code should still be readable and easy to understand.
        If there are no problems provided do reply that you can't detect any problems and the user should describe more precisely what they want to be fixed.
        Do not attempt to fix problems that are not provided, like unbalanced brackets or parentheses that are not causing errors.
        Briefly explain the problems without repeating the detailed error message.`,!0),_7t=new iE("explain","Explain how the code works","Explain This",wd.default`
        Write an explanation for the selected code above as paragraphs of text. 
        Include excerpts of code snippets to underline your explanation. 
        Do not repeat the complete code.
        The explanation should be easy to understand for a developer who is familiar with the programming language used but not familiar with the code.`,[],["editor","chat-panel","inline"],wd.default`
        Write an explanation for the code the user is selecting.
        Include excerpts of code snippets to underline your explanation. 
        Do not repeat the complete code.
        Keep the explanation brief and easy to understand for a developer who is familiar with the programming language used but not familiar with the code.`,!1),S7t=new iE("doc","Document the current selection of code","Generate Docs",wd.default`
        Write documentation for the selected code.
        The reply should be a codeblock containing the original selection with the documentation added as comments.
        Use the most appropriate documentation style for the programming language used (e.g. JSDoc for JavaScript, docstrings for Python etc.)`,[],["editor","chat-panel","inline"],wd.default`
        Add documentation to the selected code.
        Modify the selected code by adding documentation as comments.
        You must only modify the selected code and nothing else.
        Use the most appropriate documentation style for the programming language used (e.g. JSDoc for JavaScript, docstrings for Python etc.).
        Place the comments before functions and methods, unless the language has a different convention (for example Python's docstring).`,!0),Tae=class{constructor(){this.id="feedback";this.description="Steps to provide feedback";this.shortDescription="Feedback";this.scopes=["chat-panel"]}static{o(this,"FeedbackPromptTemplate")}async response(t){let r=Sae(t.conversation),n=wd.default`
            You can provide direct feedback by pressing the thumbs up/down buttons on a single message. 
            In case you want to share more details, please click [here](https://gh.io/copilot-chat-jb-feedback) to share your feedback.
            `;return r?new Tl(n+`

In order to help us understand your feedback better, you can include the following identifier in your feedback: by doing so, you are granting us permission to access the telemetry data associated with your feedback.
\`\`\`yaml
${t.conversation.id}/${r}
\`\`\``):new Tl(n)}},B7t=new Tae,wae=class{constructor(){this.id="help";this.description="Get help on how to use Copilot chat";this.shortDescription="Help";this.scopes=["chat-panel"]}static{o(this,"HelpPromptTemplate")}async response(t){let r=_ae(t.ctx).filter(i=>i!=this),n=wd.default`
            You can ask me general programming questions, or use one of the following commands to get help with a specific task:

            ${r.map(i=>`- \`/${i.id}\` - ${i.description}`).join(`
`)}

            To have a great conversation, ask me questions as if I was a real programmer:
            
            - **Show me the code** you want to talk about by having the files open and selecting the most important lines.
            - On top of files, **I take different parts of your IDE into consideration** when answering questions. This includes, but is not limited to, test results and failures, build and runtime logs, active Git repository as well as details of the open project.
            - **Make refinements** by asking me follow-up questions, adding clarifications, providing errors, etc.
            - **Review my suggested code** and tell me about issues or improvements, so I can iterate on it.
        `;return new Tl(n)}},k7t=new wae;function J_(){return[I7t,T7t,w7t,_7t,S7t,B7t,k7t,...dFe()]}o(J_,"getPromptTemplates");function _ae(e){let t=J_();return!sC(e)&&!dm(e)&&(t=t.filter(r=>!r.id.startsWith("debug."))),t}o(_ae,"getUserFacingPromptTemplates");var Bae=class{constructor(t,r){this.conversation=t;this.capabilities=r}static{o(this,"ConversationHolder")}},Wi=class{constructor(t){this.ctx=t;this.conversations=new kn(100)}static{o(this,"Conversations")}async create(t,r="panel",n){let i=new Yq([],r,n);return this.conversations.set(i.id,new Bae(i,t)),i}destroy(t){this.conversations.delete(t)}async addTurn(t,r,n,i,s,a){let l=this.get(t);return r.request.references=n&&n.length>0?n:[],i&&(r.workspaceFolder=i),s&&s.length>0&&(r.ignoredSkills=s.map(c=>({skillId:c}))),a&&(r.agent={agentSlug:a.agentSlug},r.confirmationResponse=a),await this.determineAndApplyAgent(l,r),await this.determineAndApplyTemplate(l,r),l.addTurn(r),r}async determineAndApplyAgent(t,r){if(t.source==="panel"&&on(r.request.message).trim().startsWith("@")){let[n,i]=this.extractKeywordAndQuestionFromRequest(on(r.request.message),"@");(await $p(this.ctx)).find(l=>l.slug===n)&&(r.request.message=i,r.request.type="user",r.agent={agentSlug:n})}}async determineAndApplyTemplate(t,r){if(on(r.request.message).trim().startsWith("/")){let[n,i]=this.extractKeywordAndQuestionFromRequest(on(r.request.message),"/"),s=J_().find(a=>a.id===n);if(s){r.request.message=i,r.request.type="user",await this.determineAndApplyAgent(t,r);let a=s.instructions?s.instructions(this.ctx,r.request.message,t.source):i;r.template={templateId:n,userQuestion:r.request.message},r.request.message=a,r.request.type="template"}}}extractKeywordAndQuestionFromRequest(t,r){let[n,...i]=t.trim().split(" "),s=i.join(" ");return[n.replace(r,""),s]}deleteTurn(t,r){this.get(t).deleteTurn(r)}get(t){return this.getHolder(t).conversation}getCapabilities(t){return this.getHolder(t).capabilities}getSupportedSkills(t){let r=this.ctx.get(Qa).getDescriptors().filter(i=>i.type==="implicit").map(i=>i.id),n=this.getCapabilities(t).skills;return[...r,...n]}filterSupportedSkills(t,r){let n=this.getSupportedSkills(t);return r.filter(i=>n.includes(i))}getHolder(t){let r=this.conversations.get(t);if(!r)throw new Error(`Conversation with id ${t} does not exist`);return r}getAll(){let t=this.conversations.values();return Array.from(t).map(r=>r.conversation)}findByTurnId(t){return this.getAll().find(r=>r.hasTurn(t))}};d();function NFe(e){return typeof e>"u"||e===null}o(NFe,"isNothing");function R7t(e){return typeof e=="object"&&e!==null}o(R7t,"isObject");function D7t(e){return Array.isArray(e)?e:NFe(e)?[]:[e]}o(D7t,"toArray");function P7t(e,t){var r,n,i,s;if(t)for(s=Object.keys(t),r=0,n=s.length;r<n;r+=1)i=s[r],e[i]=t[i];return e}o(P7t,"extend");function N7t(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}o(N7t,"repeat");function F7t(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}o(F7t,"isNegativeZero");var L7t=NFe,Q7t=R7t,M7t=D7t,O7t=N7t,U7t=F7t,q7t=P7t,Ja={isNothing:L7t,isObject:Q7t,toArray:M7t,repeat:O7t,isNegativeZero:U7t,extend:q7t};function FFe(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}o(FFe,"formatError");function Z_(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=FFe(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}o(Z_,"YAMLException$1");Z_.prototype=Object.create(Error.prototype);Z_.prototype.constructor=Z_;Z_.prototype.toString=o(function(t){return this.name+": "+FFe(this,t)},"toString");var jc=Z_;function kae(e,t,r,n,i){var s="",a="",l=Math.floor(i/2)-1;return n-t>l&&(s=" ... ",t=n-l+s.length),r-n>l&&(a=" ...",r=n+l-a.length),{str:s+e.slice(t,r).replace(/\t/g,"\u2192")+a,pos:n-t+s.length}}o(kae,"getLine");function Rae(e,t){return Ja.repeat(" ",t-e.length)+e}o(Rae,"padStart");function G7t(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],s,a=-1;s=r.exec(e.buffer);)i.push(s.index),n.push(s.index+s[0].length),e.position<=s.index&&a<0&&(a=n.length-2);a<0&&(a=n.length-1);var l="",c,u,f=Math.min(e.line+t.linesAfter,i.length).toString().length,m=t.maxLength-(t.indent+f+3);for(c=1;c<=t.linesBefore&&!(a-c<0);c++)u=kae(e.buffer,n[a-c],i[a-c],e.position-(n[a]-n[a-c]),m),l=Ja.repeat(" ",t.indent)+Rae((e.line-c+1).toString(),f)+" | "+u.str+`
`+l;for(u=kae(e.buffer,n[a],i[a],e.position,m),l+=Ja.repeat(" ",t.indent)+Rae((e.line+1).toString(),f)+" | "+u.str+`
`,l+=Ja.repeat("-",t.indent+f+3+u.pos)+`^
`,c=1;c<=t.linesAfter&&!(a+c>=i.length);c++)u=kae(e.buffer,n[a+c],i[a+c],e.position-(n[a]-n[a+c]),m),l+=Ja.repeat(" ",t.indent)+Rae((e.line+c+1).toString(),f)+" | "+u.str+`
`;return l.replace(/\n$/,"")}o(G7t,"makeSnippet");var W7t=G7t,H7t=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],V7t=["scalar","sequence","mapping"];function j7t(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}o(j7t,"compileStyleAliases");function $7t(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(H7t.indexOf(r)===-1)throw new jc('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=j7t(t.styleAliases||null),V7t.indexOf(this.kind)===-1)throw new jc('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}o($7t,"Type$1");var x0=$7t;function CFe(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(s,a){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=a)}),r[i]=n}),r}o(CFe,"compileList");function z7t(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(o(n,"collectType"),t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}o(z7t,"compileMap");function Pae(e){return this.extend(e)}o(Pae,"Schema$1");Pae.prototype.extend=o(function(t){var r=[],n=[];if(t instanceof x0)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new jc("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof x0))throw new jc("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new jc("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new jc("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof x0))throw new jc("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Pae.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=CFe(i,"implicit"),i.compiledExplicit=CFe(i,"explicit"),i.compiledTypeMap=z7t(i.compiledImplicit,i.compiledExplicit),i},"extend");var Y7t=Pae,K7t=new x0("tag:yaml.org,2002:str",{kind:"scalar",construct:o(function(e){return e!==null?e:""},"construct")}),J7t=new x0("tag:yaml.org,2002:seq",{kind:"sequence",construct:o(function(e){return e!==null?e:[]},"construct")}),X7t=new x0("tag:yaml.org,2002:map",{kind:"mapping",construct:o(function(e){return e!==null?e:{}},"construct")}),Z7t=new Y7t({explicit:[K7t,J7t,X7t]});function eTt(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}o(eTt,"resolveYamlNull");function tTt(){return null}o(tTt,"constructYamlNull");function rTt(e){return e===null}o(rTt,"isNull");var nTt=new x0("tag:yaml.org,2002:null",{kind:"scalar",resolve:eTt,construct:tTt,predicate:rTt,represent:{canonical:o(function(){return"~"},"canonical"),lowercase:o(function(){return"null"},"lowercase"),uppercase:o(function(){return"NULL"},"uppercase"),camelcase:o(function(){return"Null"},"camelcase"),empty:o(function(){return""},"empty")},defaultStyle:"lowercase"});function iTt(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}o(iTt,"resolveYamlBoolean");function oTt(e){return e==="true"||e==="True"||e==="TRUE"}o(oTt,"constructYamlBoolean");function sTt(e){return Object.prototype.toString.call(e)==="[object Boolean]"}o(sTt,"isBoolean");var aTt=new x0("tag:yaml.org,2002:bool",{kind:"scalar",resolve:iTt,construct:oTt,predicate:sTt,represent:{lowercase:o(function(e){return e?"true":"false"},"lowercase"),uppercase:o(function(e){return e?"TRUE":"FALSE"},"uppercase"),camelcase:o(function(e){return e?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function lTt(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}o(lTt,"isHexCode");function cTt(e){return 48<=e&&e<=55}o(cTt,"isOctCode");function uTt(e){return 48<=e&&e<=57}o(uTt,"isDecCode");function fTt(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!lTt(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!cTt(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!uTt(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}o(fTt,"resolveYamlInteger");function dTt(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}o(dTt,"constructYamlInteger");function mTt(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Ja.isNegativeZero(e)}o(mTt,"isInteger");var hTt=new x0("tag:yaml.org,2002:int",{kind:"scalar",resolve:fTt,construct:dTt,predicate:mTt,represent:{binary:o(function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},"binary"),octal:o(function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},"octal"),decimal:o(function(e){return e.toString(10)},"decimal"),hexadecimal:o(function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),pTt=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function gTt(e){return!(e===null||!pTt.test(e)||e[e.length-1]==="_")}o(gTt,"resolveYamlFloat");function ATt(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}o(ATt,"constructYamlFloat");var yTt=/^[-+]?[0-9]+e/;function CTt(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Ja.isNegativeZero(e))return"-0.0";return r=e.toString(10),yTt.test(r)?r.replace("e",".e"):r}o(CTt,"representYamlFloat");function ETt(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Ja.isNegativeZero(e))}o(ETt,"isFloat");var xTt=new x0("tag:yaml.org,2002:float",{kind:"scalar",resolve:gTt,construct:ATt,predicate:ETt,represent:CTt,defaultStyle:"lowercase"}),vTt=Z7t.extend({implicit:[nTt,aTt,hTt,xTt]}),bTt=vTt,LFe=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),QFe=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function ITt(e){return e===null?!1:LFe.exec(e)!==null||QFe.exec(e)!==null}o(ITt,"resolveYamlTimestamp");function TTt(e){var t,r,n,i,s,a,l,c=0,u=null,f,m,h;if(t=LFe.exec(e),t===null&&(t=QFe.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(s=+t[4],a=+t[5],l=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(f=+t[10],m=+(t[11]||0),u=(f*60+m)*6e4,t[9]==="-"&&(u=-u)),h=new Date(Date.UTC(r,n,i,s,a,l,c)),u&&h.setTime(h.getTime()-u),h}o(TTt,"constructYamlTimestamp");function wTt(e){return e.toISOString()}o(wTt,"representYamlTimestamp");var _Tt=new x0("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:ITt,construct:TTt,instanceOf:Date,represent:wTt});function STt(e){return e==="<<"||e===null}o(STt,"resolveYamlMerge");var BTt=new x0("tag:yaml.org,2002:merge",{kind:"scalar",resolve:STt}),Mae=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function kTt(e){if(e===null)return!1;var t,r,n=0,i=e.length,s=Mae;for(r=0;r<i;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}o(kTt,"resolveYamlBinary");function RTt(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,s=Mae,a=0,l=[];for(t=0;t<i;t++)t%4===0&&t&&(l.push(a>>16&255),l.push(a>>8&255),l.push(a&255)),a=a<<6|s.indexOf(n.charAt(t));return r=i%4*6,r===0?(l.push(a>>16&255),l.push(a>>8&255),l.push(a&255)):r===18?(l.push(a>>10&255),l.push(a>>2&255)):r===12&&l.push(a>>4&255),new Uint8Array(l)}o(RTt,"constructYamlBinary");function DTt(e){var t="",r=0,n,i,s=e.length,a=Mae;for(n=0;n<s;n++)n%3===0&&n&&(t+=a[r>>18&63],t+=a[r>>12&63],t+=a[r>>6&63],t+=a[r&63]),r=(r<<8)+e[n];return i=s%3,i===0?(t+=a[r>>18&63],t+=a[r>>12&63],t+=a[r>>6&63],t+=a[r&63]):i===2?(t+=a[r>>10&63],t+=a[r>>4&63],t+=a[r<<2&63],t+=a[64]):i===1&&(t+=a[r>>2&63],t+=a[r<<4&63],t+=a[64],t+=a[64]),t}o(DTt,"representYamlBinary");function PTt(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}o(PTt,"isBinary");var NTt=new x0("tag:yaml.org,2002:binary",{kind:"scalar",resolve:kTt,construct:RTt,predicate:PTt,represent:DTt}),FTt=Object.prototype.hasOwnProperty,LTt=Object.prototype.toString;function QTt(e){if(e===null)return!0;var t=[],r,n,i,s,a,l=e;for(r=0,n=l.length;r<n;r+=1){if(i=l[r],a=!1,LTt.call(i)!=="[object Object]")return!1;for(s in i)if(FTt.call(i,s))if(!a)a=!0;else return!1;if(!a)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}o(QTt,"resolveYamlOmap");function MTt(e){return e!==null?e:[]}o(MTt,"constructYamlOmap");var OTt=new x0("tag:yaml.org,2002:omap",{kind:"sequence",resolve:QTt,construct:MTt}),UTt=Object.prototype.toString;function qTt(e){if(e===null)return!0;var t,r,n,i,s,a=e;for(s=new Array(a.length),t=0,r=a.length;t<r;t+=1){if(n=a[t],UTt.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[t]=[i[0],n[i[0]]]}return!0}o(qTt,"resolveYamlPairs");function GTt(e){if(e===null)return[];var t,r,n,i,s,a=e;for(s=new Array(a.length),t=0,r=a.length;t<r;t+=1)n=a[t],i=Object.keys(n),s[t]=[i[0],n[i[0]]];return s}o(GTt,"constructYamlPairs");var WTt=new x0("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:qTt,construct:GTt}),HTt=Object.prototype.hasOwnProperty;function VTt(e){if(e===null)return!0;var t,r=e;for(t in r)if(HTt.call(r,t)&&r[t]!==null)return!1;return!0}o(VTt,"resolveYamlSet");function jTt(e){return e!==null?e:{}}o(jTt,"constructYamlSet");var $Tt=new x0("tag:yaml.org,2002:set",{kind:"mapping",resolve:VTt,construct:jTt}),MFe=bTt.extend({implicit:[_Tt,BTt],explicit:[NTt,OTt,WTt,$Tt]}),ky=Object.prototype.hasOwnProperty,uG=1,OFe=2,UFe=3,fG=4,Dae=1,zTt=2,EFe=3,YTt=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,KTt=/[\x85\u2028\u2029]/,JTt=/[,\[\]\{\}]/,qFe=/^(?:!|!!|![a-z\-]+!)$/i,GFe=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function xFe(e){return Object.prototype.toString.call(e)}o(xFe,"_class");function zp(e){return e===10||e===13}o(zp,"is_EOL");function sE(e){return e===9||e===32}o(sE,"is_WHITE_SPACE");function $c(e){return e===9||e===32||e===10||e===13}o($c,"is_WS_OR_EOL");function j8(e){return e===44||e===91||e===93||e===123||e===125}o(j8,"is_FLOW_INDICATOR");function XTt(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}o(XTt,"fromHexCode");function ZTt(e){return e===120?2:e===117?4:e===85?8:0}o(ZTt,"escapedHexLen");function ewt(e){return 48<=e&&e<=57?e-48:-1}o(ewt,"fromDecimalCode");function vFe(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}o(vFe,"simpleEscapeSequence");function twt(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}o(twt,"charFromCodepoint");var WFe=new Array(256),HFe=new Array(256);for(oE=0;oE<256;oE++)WFe[oE]=vFe(oE)?1:0,HFe[oE]=vFe(oE);var oE;function rwt(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||MFe,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}o(rwt,"State$1");function VFe(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=W7t(r),new jc(t,r)}o(VFe,"generateError");function Yr(e,t){throw VFe(e,t)}o(Yr,"throwError");function dG(e,t){e.onWarning&&e.onWarning.call(null,VFe(e,t))}o(dG,"throwWarning");var bFe={YAML:o(function(t,r,n){var i,s,a;t.version!==null&&Yr(t,"duplication of %YAML directive"),n.length!==1&&Yr(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&Yr(t,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),a=parseInt(i[2],10),s!==1&&Yr(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=a<2,a!==1&&a!==2&&dG(t,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:o(function(t,r,n){var i,s;n.length!==2&&Yr(t,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],qFe.test(i)||Yr(t,"ill-formed tag handle (first argument) of the TAG directive"),ky.call(t.tagMap,i)&&Yr(t,'there is a previously declared suffix for "'+i+'" tag handle'),GFe.test(s)||Yr(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{Yr(t,"tag prefix is malformed: "+s)}t.tagMap[i]=s},"handleTagDirective")};function By(e,t,r,n){var i,s,a,l;if(t<r){if(l=e.input.slice(t,r),n)for(i=0,s=l.length;i<s;i+=1)a=l.charCodeAt(i),a===9||32<=a&&a<=1114111||Yr(e,"expected valid JSON character");else YTt.test(l)&&Yr(e,"the stream contains non-printable characters");e.result+=l}}o(By,"captureSegment");function IFe(e,t,r,n){var i,s,a,l;for(Ja.isObject(r)||Yr(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),a=0,l=i.length;a<l;a+=1)s=i[a],ky.call(t,s)||(t[s]=r[s],n[s]=!0)}o(IFe,"mergeMappings");function $8(e,t,r,n,i,s,a,l,c){var u,f;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),u=0,f=i.length;u<f;u+=1)Array.isArray(i[u])&&Yr(e,"nested arrays are not supported inside keys"),typeof i=="object"&&xFe(i[u])==="[object Object]"&&(i[u]="[object Object]");if(typeof i=="object"&&xFe(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(u=0,f=s.length;u<f;u+=1)IFe(e,t,s[u],r);else IFe(e,t,s,r);else!e.json&&!ky.call(r,i)&&ky.call(t,i)&&(e.line=a||e.line,e.lineStart=l||e.lineStart,e.position=c||e.position,Yr(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[i]=s,delete r[i];return t}o($8,"storeMappingPair");function Oae(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):Yr(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}o(Oae,"readLineBreak");function Oa(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;sE(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(zp(i))for(Oae(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&dG(e,"deficient indentation"),n}o(Oa,"skipSeparationSpace");function pG(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||$c(r)))}o(pG,"testDocumentSeparator");function Uae(e,t){t===1?e.result+=" ":t>1&&(e.result+=Ja.repeat(`
`,t-1))}o(Uae,"writeFoldedLines");function nwt(e,t,r){var n,i,s,a,l,c,u,f,m=e.kind,h=e.result,p;if(p=e.input.charCodeAt(e.position),$c(p)||j8(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=e.input.charCodeAt(e.position+1),$c(i)||r&&j8(i)))return!1;for(e.kind="scalar",e.result="",s=a=e.position,l=!1;p!==0;){if(p===58){if(i=e.input.charCodeAt(e.position+1),$c(i)||r&&j8(i))break}else if(p===35){if(n=e.input.charCodeAt(e.position-1),$c(n))break}else{if(e.position===e.lineStart&&pG(e)||r&&j8(p))break;if(zp(p))if(c=e.line,u=e.lineStart,f=e.lineIndent,Oa(e,!1,-1),e.lineIndent>=t){l=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=a,e.line=c,e.lineStart=u,e.lineIndent=f;break}}l&&(By(e,s,a,!1),Uae(e,e.line-c),s=a=e.position,l=!1),sE(p)||(a=e.position+1),p=e.input.charCodeAt(++e.position)}return By(e,s,a,!1),e.result?!0:(e.kind=m,e.result=h,!1)}o(nwt,"readPlainScalar");function iwt(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(By(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else zp(r)?(By(e,n,i,!0),Uae(e,Oa(e,!1,t)),n=i=e.position):e.position===e.lineStart&&pG(e)?Yr(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);Yr(e,"unexpected end of the stream within a single quoted scalar")}o(iwt,"readSingleQuotedScalar");function owt(e,t){var r,n,i,s,a,l;if(l=e.input.charCodeAt(e.position),l!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(l=e.input.charCodeAt(e.position))!==0;){if(l===34)return By(e,r,e.position,!0),e.position++,!0;if(l===92){if(By(e,r,e.position,!0),l=e.input.charCodeAt(++e.position),zp(l))Oa(e,!1,t);else if(l<256&&WFe[l])e.result+=HFe[l],e.position++;else if((a=ZTt(l))>0){for(i=a,s=0;i>0;i--)l=e.input.charCodeAt(++e.position),(a=XTt(l))>=0?s=(s<<4)+a:Yr(e,"expected hexadecimal character");e.result+=twt(s),e.position++}else Yr(e,"unknown escape sequence");r=n=e.position}else zp(l)?(By(e,r,n,!0),Uae(e,Oa(e,!1,t)),r=n=e.position):e.position===e.lineStart&&pG(e)?Yr(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}Yr(e,"unexpected end of the stream within a double quoted scalar")}o(owt,"readDoubleQuotedScalar");function swt(e,t){var r=!0,n,i,s,a=e.tag,l,c=e.anchor,u,f,m,h,p,A=Object.create(null),E,x,b,v;if(v=e.input.charCodeAt(e.position),v===91)f=93,p=!1,l=[];else if(v===123)f=125,p=!0,l={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=l),v=e.input.charCodeAt(++e.position);v!==0;){if(Oa(e,!0,t),v=e.input.charCodeAt(e.position),v===f)return e.position++,e.tag=a,e.anchor=c,e.kind=p?"mapping":"sequence",e.result=l,!0;r?v===44&&Yr(e,"expected the node content, but found ','"):Yr(e,"missed comma between flow collection entries"),x=E=b=null,m=h=!1,v===63&&(u=e.input.charCodeAt(e.position+1),$c(u)&&(m=h=!0,e.position++,Oa(e,!0,t))),n=e.line,i=e.lineStart,s=e.position,z8(e,t,uG,!1,!0),x=e.tag,E=e.result,Oa(e,!0,t),v=e.input.charCodeAt(e.position),(h||e.line===n)&&v===58&&(m=!0,v=e.input.charCodeAt(++e.position),Oa(e,!0,t),z8(e,t,uG,!1,!0),b=e.result),p?$8(e,l,A,x,E,b,n,i,s):m?l.push($8(e,null,A,x,E,b,n,i,s)):l.push(E),Oa(e,!0,t),v=e.input.charCodeAt(e.position),v===44?(r=!0,v=e.input.charCodeAt(++e.position)):r=!1}Yr(e,"unexpected end of the stream within a flow collection")}o(swt,"readFlowCollection");function awt(e,t){var r,n,i=Dae,s=!1,a=!1,l=t,c=0,u=!1,f,m;if(m=e.input.charCodeAt(e.position),m===124)n=!1;else if(m===62)n=!0;else return!1;for(e.kind="scalar",e.result="";m!==0;)if(m=e.input.charCodeAt(++e.position),m===43||m===45)Dae===i?i=m===43?EFe:zTt:Yr(e,"repeat of a chomping mode identifier");else if((f=ewt(m))>=0)f===0?Yr(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?Yr(e,"repeat of an indentation width identifier"):(l=t+f-1,a=!0);else break;if(sE(m)){do m=e.input.charCodeAt(++e.position);while(sE(m));if(m===35)do m=e.input.charCodeAt(++e.position);while(!zp(m)&&m!==0)}for(;m!==0;){for(Oae(e),e.lineIndent=0,m=e.input.charCodeAt(e.position);(!a||e.lineIndent<l)&&m===32;)e.lineIndent++,m=e.input.charCodeAt(++e.position);if(!a&&e.lineIndent>l&&(l=e.lineIndent),zp(m)){c++;continue}if(e.lineIndent<l){i===EFe?e.result+=Ja.repeat(`
`,s?1+c:c):i===Dae&&s&&(e.result+=`
`);break}for(n?sE(m)?(u=!0,e.result+=Ja.repeat(`
`,s?1+c:c)):u?(u=!1,e.result+=Ja.repeat(`
`,c+1)):c===0?s&&(e.result+=" "):e.result+=Ja.repeat(`
`,c):e.result+=Ja.repeat(`
`,s?1+c:c),s=!0,a=!0,c=0,r=e.position;!zp(m)&&m!==0;)m=e.input.charCodeAt(++e.position);By(e,r,e.position,!1)}return!0}o(awt,"readBlockScalar");function TFe(e,t){var r,n=e.tag,i=e.anchor,s=[],a,l=!1,c;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),c=e.input.charCodeAt(e.position);c!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Yr(e,"tab characters must not be used in indentation")),!(c!==45||(a=e.input.charCodeAt(e.position+1),!$c(a))));){if(l=!0,e.position++,Oa(e,!0,-1)&&e.lineIndent<=t){s.push(null),c=e.input.charCodeAt(e.position);continue}if(r=e.line,z8(e,t,UFe,!1,!0),s.push(e.result),Oa(e,!0,-1),c=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&c!==0)Yr(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return l?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=s,!0):!1}o(TFe,"readBlockSequence");function lwt(e,t,r){var n,i,s,a,l,c,u=e.tag,f=e.anchor,m={},h=Object.create(null),p=null,A=null,E=null,x=!1,b=!1,v;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=m),v=e.input.charCodeAt(e.position);v!==0;){if(!x&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Yr(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),s=e.line,(v===63||v===58)&&$c(n))v===63?(x&&($8(e,m,h,p,A,null,a,l,c),p=A=E=null),b=!0,x=!0,i=!0):x?(x=!1,i=!0):Yr(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,v=n;else{if(a=e.line,l=e.lineStart,c=e.position,!z8(e,r,OFe,!1,!0))break;if(e.line===s){for(v=e.input.charCodeAt(e.position);sE(v);)v=e.input.charCodeAt(++e.position);if(v===58)v=e.input.charCodeAt(++e.position),$c(v)||Yr(e,"a whitespace character is expected after the key-value separator within a block mapping"),x&&($8(e,m,h,p,A,null,a,l,c),p=A=E=null),b=!0,x=!1,i=!1,p=e.tag,A=e.result;else if(b)Yr(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=u,e.anchor=f,!0}else if(b)Yr(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=u,e.anchor=f,!0}if((e.line===s||e.lineIndent>t)&&(x&&(a=e.line,l=e.lineStart,c=e.position),z8(e,t,fG,!0,i)&&(x?A=e.result:E=e.result),x||($8(e,m,h,p,A,E,a,l,c),p=A=E=null),Oa(e,!0,-1),v=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&v!==0)Yr(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return x&&$8(e,m,h,p,A,null,a,l,c),b&&(e.tag=u,e.anchor=f,e.kind="mapping",e.result=m),b}o(lwt,"readBlockMapping");function cwt(e){var t,r=!1,n=!1,i,s,a;if(a=e.input.charCodeAt(e.position),a!==33)return!1;if(e.tag!==null&&Yr(e,"duplication of a tag property"),a=e.input.charCodeAt(++e.position),a===60?(r=!0,a=e.input.charCodeAt(++e.position)):a===33?(n=!0,i="!!",a=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do a=e.input.charCodeAt(++e.position);while(a!==0&&a!==62);e.position<e.length?(s=e.input.slice(t,e.position),a=e.input.charCodeAt(++e.position)):Yr(e,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!$c(a);)a===33&&(n?Yr(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),qFe.test(i)||Yr(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),a=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),JTt.test(s)&&Yr(e,"tag suffix cannot contain flow indicator characters")}s&&!GFe.test(s)&&Yr(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{Yr(e,"tag name is malformed: "+s)}return r?e.tag=s:ky.call(e.tagMap,i)?e.tag=e.tagMap[i]+s:i==="!"?e.tag="!"+s:i==="!!"?e.tag="tag:yaml.org,2002:"+s:Yr(e,'undeclared tag handle "'+i+'"'),!0}o(cwt,"readTagProperty");function uwt(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&Yr(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!$c(r)&&!j8(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&Yr(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}o(uwt,"readAnchorProperty");function fwt(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!$c(n)&&!j8(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&Yr(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),ky.call(e.anchorMap,r)||Yr(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],Oa(e,!0,-1),!0}o(fwt,"readAlias");function z8(e,t,r,n,i){var s,a,l,c=1,u=!1,f=!1,m,h,p,A,E,x;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=a=l=fG===r||UFe===r,n&&Oa(e,!0,-1)&&(u=!0,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)),c===1)for(;cwt(e)||uwt(e);)Oa(e,!0,-1)?(u=!0,l=s,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)):l=!1;if(l&&(l=u||i),(c===1||fG===r)&&(uG===r||OFe===r?E=t:E=t+1,x=e.position-e.lineStart,c===1?l&&(TFe(e,x)||lwt(e,x,E))||swt(e,E)?f=!0:(a&&awt(e,E)||iwt(e,E)||owt(e,E)?f=!0:fwt(e)?(f=!0,(e.tag!==null||e.anchor!==null)&&Yr(e,"alias node should not have any properties")):nwt(e,E,uG===r)&&(f=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):c===0&&(f=l&&TFe(e,x))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&Yr(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),m=0,h=e.implicitTypes.length;m<h;m+=1)if(A=e.implicitTypes[m],A.resolve(e.result)){e.result=A.construct(e.result),e.tag=A.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(ky.call(e.typeMap[e.kind||"fallback"],e.tag))A=e.typeMap[e.kind||"fallback"][e.tag];else for(A=null,p=e.typeMap.multi[e.kind||"fallback"],m=0,h=p.length;m<h;m+=1)if(e.tag.slice(0,p[m].tag.length)===p[m].tag){A=p[m];break}A||Yr(e,"unknown tag !<"+e.tag+">"),e.result!==null&&A.kind!==e.kind&&Yr(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+A.kind+'", not "'+e.kind+'"'),A.resolve(e.result,e.tag)?(e.result=A.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):Yr(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||f}o(z8,"composeNode");function dwt(e){var t=e.position,r,n,i,s=!1,a;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(a=e.input.charCodeAt(e.position))!==0&&(Oa(e,!0,-1),a=e.input.charCodeAt(e.position),!(e.lineIndent>0||a!==37));){for(s=!0,a=e.input.charCodeAt(++e.position),r=e.position;a!==0&&!$c(a);)a=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&Yr(e,"directive name must not be less than one character in length");a!==0;){for(;sE(a);)a=e.input.charCodeAt(++e.position);if(a===35){do a=e.input.charCodeAt(++e.position);while(a!==0&&!zp(a));break}if(zp(a))break;for(r=e.position;a!==0&&!$c(a);)a=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}a!==0&&Oae(e),ky.call(bFe,n)?bFe[n](e,n,i):dG(e,'unknown document directive "'+n+'"')}if(Oa(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Oa(e,!0,-1)):s&&Yr(e,"directives end mark is expected"),z8(e,e.lineIndent-1,fG,!1,!0),Oa(e,!0,-1),e.checkLineBreaks&&KTt.test(e.input.slice(t,e.position))&&dG(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&pG(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Oa(e,!0,-1));return}if(e.position<e.length-1)Yr(e,"end of the stream or a document separator is expected");else return}o(dwt,"readDocument");function jFe(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new rwt(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,Yr(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)dwt(r);return r.documents}o(jFe,"loadDocuments");function mwt(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=jFe(e,r);if(typeof t!="function")return n;for(var i=0,s=n.length;i<s;i+=1)t(n[i])}o(mwt,"loadAll$1");function hwt(e,t){var r=jFe(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new jc("expected a single document in the stream, but found more")}}o(hwt,"load$1");var pwt=mwt,gwt=hwt,$Fe={loadAll:pwt,load:gwt},zFe=Object.prototype.toString,YFe=Object.prototype.hasOwnProperty,qae=65279,Awt=9,eS=10,ywt=13,Cwt=32,Ewt=33,xwt=34,Nae=35,vwt=37,bwt=38,Iwt=39,Twt=42,KFe=44,wwt=45,mG=58,_wt=61,Swt=62,Bwt=63,kwt=64,JFe=91,XFe=93,Rwt=96,ZFe=123,Dwt=124,eLe=125,v0={};v0[0]="\\0";v0[7]="\\a";v0[8]="\\b";v0[9]="\\t";v0[10]="\\n";v0[11]="\\v";v0[12]="\\f";v0[13]="\\r";v0[27]="\\e";v0[34]='\\"';v0[92]="\\\\";v0[133]="\\N";v0[160]="\\_";v0[8232]="\\L";v0[8233]="\\P";var Pwt=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Nwt=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Fwt(e,t){var r,n,i,s,a,l,c;if(t===null)return{};for(r={},n=Object.keys(t),i=0,s=n.length;i<s;i+=1)a=n[i],l=String(t[a]),a.slice(0,2)==="!!"&&(a="tag:yaml.org,2002:"+a.slice(2)),c=e.compiledTypeMap.fallback[a],c&&YFe.call(c.styleAliases,l)&&(l=c.styleAliases[l]),r[a]=l;return r}o(Fwt,"compileStyleMap");function Lwt(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new jc("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+Ja.repeat("0",n-t.length)+t}o(Lwt,"encodeHex");var Qwt=1,tS=2;function Mwt(e){this.schema=e.schema||MFe,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Ja.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=Fwt(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?tS:Qwt,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}o(Mwt,"State");function wFe(e,t){for(var r=Ja.repeat(" ",t),n=0,i=-1,s="",a,l=e.length;n<l;)i=e.indexOf(`
`,n),i===-1?(a=e.slice(n),n=l):(a=e.slice(n,i+1),n=i+1),a.length&&a!==`
`&&(s+=r),s+=a;return s}o(wFe,"indentString");function Fae(e,t){return`
`+Ja.repeat(" ",e.indent*t)}o(Fae,"generateNextLine");function Owt(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}o(Owt,"testImplicitResolving");function hG(e){return e===Cwt||e===Awt}o(hG,"isWhitespace");function rS(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==qae||65536<=e&&e<=1114111}o(rS,"isPrintable");function _Fe(e){return rS(e)&&e!==qae&&e!==ywt&&e!==eS}o(_Fe,"isNsCharOrWhitespace");function SFe(e,t,r){var n=_Fe(e),i=n&&!hG(e);return(r?n:n&&e!==KFe&&e!==JFe&&e!==XFe&&e!==ZFe&&e!==eLe)&&e!==Nae&&!(t===mG&&!i)||_Fe(t)&&!hG(t)&&e===Nae||t===mG&&i}o(SFe,"isPlainSafe");function Uwt(e){return rS(e)&&e!==qae&&!hG(e)&&e!==wwt&&e!==Bwt&&e!==mG&&e!==KFe&&e!==JFe&&e!==XFe&&e!==ZFe&&e!==eLe&&e!==Nae&&e!==bwt&&e!==Twt&&e!==Ewt&&e!==Dwt&&e!==_wt&&e!==Swt&&e!==Iwt&&e!==xwt&&e!==vwt&&e!==kwt&&e!==Rwt}o(Uwt,"isPlainSafeFirst");function qwt(e){return!hG(e)&&e!==mG}o(qwt,"isPlainSafeLast");function X_(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}o(X_,"codePointAt");function tLe(e){var t=/^\n* /;return t.test(e)}o(tLe,"needIndentIndicator");var rLe=1,Lae=2,nLe=3,iLe=4,V8=5;function Gwt(e,t,r,n,i,s,a,l){var c,u=0,f=null,m=!1,h=!1,p=n!==-1,A=-1,E=Uwt(X_(e,0))&&qwt(X_(e,e.length-1));if(t||a)for(c=0;c<e.length;u>=65536?c+=2:c++){if(u=X_(e,c),!rS(u))return V8;E=E&&SFe(u,f,l),f=u}else{for(c=0;c<e.length;u>=65536?c+=2:c++){if(u=X_(e,c),u===eS)m=!0,p&&(h=h||c-A-1>n&&e[A+1]!==" ",A=c);else if(!rS(u))return V8;E=E&&SFe(u,f,l),f=u}h=h||p&&c-A-1>n&&e[A+1]!==" "}return!m&&!h?E&&!a&&!i(e)?rLe:s===tS?V8:Lae:r>9&&tLe(e)?V8:a?s===tS?V8:Lae:h?iLe:nLe}o(Gwt,"chooseScalarStyle");function Wwt(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===tS?'""':"''";if(!e.noCompatMode&&(Pwt.indexOf(t)!==-1||Nwt.test(t)))return e.quotingType===tS?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),a=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),l=n||e.flowLevel>-1&&r>=e.flowLevel;function c(u){return Owt(e,u)}switch(o(c,"testAmbiguity"),Gwt(t,l,e.indent,a,c,e.quotingType,e.forceQuotes&&!n,i)){case rLe:return t;case Lae:return"'"+t.replace(/'/g,"''")+"'";case nLe:return"|"+BFe(t,e.indent)+kFe(wFe(t,s));case iLe:return">"+BFe(t,e.indent)+kFe(wFe(Hwt(t,a),s));case V8:return'"'+Vwt(t)+'"';default:throw new jc("impossible error: invalid scalar style")}}()}o(Wwt,"writeScalar");function BFe(e,t){var r=tLe(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),s=i?"+":n?"":"-";return r+s+`
`}o(BFe,"blockHeader");function kFe(e){return e[e.length-1]===`
`?e.slice(0,-1):e}o(kFe,"dropEndingNewline");function Hwt(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var u=e.indexOf(`
`);return u=u!==-1?u:e.length,r.lastIndex=u,RFe(e.slice(0,u),t)}(),i=e[0]===`
`||e[0]===" ",s,a;a=r.exec(e);){var l=a[1],c=a[2];s=c[0]===" ",n+=l+(!i&&!s&&c!==""?`
`:"")+RFe(c,t),i=s}return n}o(Hwt,"foldString");function RFe(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,s,a=0,l=0,c="";n=r.exec(e);)l=n.index,l-i>t&&(s=a>i?a:l,c+=`
`+e.slice(i,s),i=s+1),a=l;return c+=`
`,e.length-i>t&&a>i?c+=e.slice(i,a)+`
`+e.slice(a+1):c+=e.slice(i),c.slice(1)}o(RFe,"foldLine");function Vwt(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=X_(e,i),n=v0[r],!n&&rS(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||Lwt(r);return t}o(Vwt,"escapeString");function jwt(e,t,r){var n="",i=e.tag,s,a,l;for(s=0,a=r.length;s<a;s+=1)l=r[s],e.replacer&&(l=e.replacer.call(r,String(s),l)),(eA(e,t,l,!1,!1)||typeof l>"u"&&eA(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}o(jwt,"writeFlowSequence");function DFe(e,t,r,n){var i="",s=e.tag,a,l,c;for(a=0,l=r.length;a<l;a+=1)c=r[a],e.replacer&&(c=e.replacer.call(r,String(a),c)),(eA(e,t+1,c,!0,!0,!1,!0)||typeof c>"u"&&eA(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=Fae(e,t)),e.dump&&eS===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=s,e.dump=i||"[]"}o(DFe,"writeBlockSequence");function $wt(e,t,r){var n="",i=e.tag,s=Object.keys(r),a,l,c,u,f;for(a=0,l=s.length;a<l;a+=1)f="",n!==""&&(f+=", "),e.condenseFlow&&(f+='"'),c=s[a],u=r[c],e.replacer&&(u=e.replacer.call(r,c,u)),eA(e,t,c,!1,!1)&&(e.dump.length>1024&&(f+="? "),f+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),eA(e,t,u,!1,!1)&&(f+=e.dump,n+=f));e.tag=i,e.dump="{"+n+"}"}o($wt,"writeFlowMapping");function zwt(e,t,r,n){var i="",s=e.tag,a=Object.keys(r),l,c,u,f,m,h;if(e.sortKeys===!0)a.sort();else if(typeof e.sortKeys=="function")a.sort(e.sortKeys);else if(e.sortKeys)throw new jc("sortKeys must be a boolean or a function");for(l=0,c=a.length;l<c;l+=1)h="",(!n||i!=="")&&(h+=Fae(e,t)),u=a[l],f=r[u],e.replacer&&(f=e.replacer.call(r,u,f)),eA(e,t+1,u,!0,!0,!0)&&(m=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,m&&(e.dump&&eS===e.dump.charCodeAt(0)?h+="?":h+="? "),h+=e.dump,m&&(h+=Fae(e,t)),eA(e,t+1,f,!0,m)&&(e.dump&&eS===e.dump.charCodeAt(0)?h+=":":h+=": ",h+=e.dump,i+=h));e.tag=s,e.dump=i||"{}"}o(zwt,"writeBlockMapping");function PFe(e,t,r){var n,i,s,a,l,c;for(i=r?e.explicitTypes:e.implicitTypes,s=0,a=i.length;s<a;s+=1)if(l=i[s],(l.instanceOf||l.predicate)&&(!l.instanceOf||typeof t=="object"&&t instanceof l.instanceOf)&&(!l.predicate||l.predicate(t))){if(r?l.multi&&l.representName?e.tag=l.representName(t):e.tag=l.tag:e.tag="?",l.represent){if(c=e.styleMap[l.tag]||l.defaultStyle,zFe.call(l.represent)==="[object Function]")n=l.represent(t,c);else if(YFe.call(l.represent,c))n=l.represent[c](t,c);else throw new jc("!<"+l.tag+'> tag resolver accepts not "'+c+'" style');e.dump=n}return!0}return!1}o(PFe,"detectType");function eA(e,t,r,n,i,s,a){e.tag=null,e.dump=r,PFe(e,r,!1)||PFe(e,r,!0);var l=zFe.call(e.dump),c=n,u;n&&(n=e.flowLevel<0||e.flowLevel>t);var f=l==="[object Object]"||l==="[object Array]",m,h;if(f&&(m=e.duplicates.indexOf(r),h=m!==-1),(e.tag!==null&&e.tag!=="?"||h||e.indent!==2&&t>0)&&(i=!1),h&&e.usedDuplicates[m])e.dump="*ref_"+m;else{if(f&&h&&!e.usedDuplicates[m]&&(e.usedDuplicates[m]=!0),l==="[object Object]")n&&Object.keys(e.dump).length!==0?(zwt(e,t,e.dump,i),h&&(e.dump="&ref_"+m+e.dump)):($wt(e,t,e.dump),h&&(e.dump="&ref_"+m+" "+e.dump));else if(l==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!a&&t>0?DFe(e,t-1,e.dump,i):DFe(e,t,e.dump,i),h&&(e.dump="&ref_"+m+e.dump)):(jwt(e,t,e.dump),h&&(e.dump="&ref_"+m+" "+e.dump));else if(l==="[object String]")e.tag!=="?"&&Wwt(e,e.dump,t,s,c);else{if(l==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new jc("unacceptable kind of an object to dump "+l)}e.tag!==null&&e.tag!=="?"&&(u=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",e.dump=u+" "+e.dump)}return!0}o(eA,"writeNode");function Ywt(e,t){var r=[],n=[],i,s;for(Qae(e,r,n),i=0,s=n.length;i<s;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(s)}o(Ywt,"getDuplicateReferences");function Qae(e,t,r){var n,i,s;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)Qae(e[i],t,r);else for(n=Object.keys(e),i=0,s=n.length;i<s;i+=1)Qae(e[n[i]],t,r)}o(Qae,"inspectNode");function Kwt(e,t){t=t||{};var r=new Mwt(t);r.noRefs||Ywt(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),eA(r,0,n,!0,!0)?r.dump+`
`:""}o(Kwt,"dump$1");var Jwt=Kwt,Xwt={dump:Jwt};function Gae(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}o(Gae,"renamed");var rdn=$Fe.load,ndn=$Fe.loadAll,Wae=Xwt.dump;var idn=Gae("safeLoad","load"),odn=Gae("safeLoadAll","loadAll"),sdn=Gae("safeDump","dump");var aE=ft(ef());var Hae=class{constructor(){this.resolvedSkills={};this.resolutions=[]}static{o(this,"SkillDump")}},wl=class{constructor(){this.dump=new kn(25);this.promptsDump=new kn(1)}static{o(this,"ConversationDumper")}addResolvedSkill(t,r,n){let i=this.getDump(t);i.resolvedSkills[r]=n}getResolvedSkill(t,r){return this.getDump(t).resolvedSkills[r]}addResolution(t,r){this.getDump(t).resolutions.push(r)}getDump(t){let r=this.dump.get(t);return r||(r=new Hae,this.dump.set(t,r)),r}addPrompt(t,r,n){let i=this.promptsDump.get(t);i===void 0&&(i=new Map,this.promptsDump.set(t,i)),i.set(n,r)}getLastTurnPrompts(){if(this.promptsDump===void 0)return;let t=this.promptsDump.values().next();if(!t.done)return t.value}};function oLe(e){let t=e.copy();return t.turns=t.turns.filter(r=>r.status!=="in-progress"&&(r.response===void 0||r.response?.type==="model")),t}o(oLe,"filterConversationTurns");function Sae(e){return oLe(e).getLastTurn()?.id}o(Sae,"getLastTurnId");async function mFe(e){let t=oLe(e.conversation),r=Sae(e.conversation);if(!r)return"Nothing to dump because no request has been sent to the model yet.";let i=e.ctx.get(wl).getDump(r),s=t_t(i,t.turns);ei.debug(e.ctx,`conversation.dump
`,`
`+s);let a=await r_t(i,e.ctx);return aE.default`
        ${e_t(e.conversation,r)}
        ${Zwt(e.ctx)}

        The following code can be copied into a chat simulation \`yml\` file. This response has not polluted the conversation history and did not cause any model roundtrip.
        \`\`\`yaml
        ${s}
        \`\`\`${a?`
${a}`:""}
        `}o(mFe,"getConversationDump");function Zwt(e){let t=e.get(an);return aE.default`
        - IDE: \`${t.getEditorInfo().name} (${t.getEditorInfo().version})\`
        - Plugin: \`${t.getEditorPluginInfo().version}\`
    `}o(Zwt,"getEditorInfoDumpMessage");function e_t(e,t){return aE.default`
        Debug information for the last turn of the conversation.

        - ConversationId: \`${e.id}\`
        - MessageId: \`${t}\`
    `}o(e_t,"getInfoDumpMessage");async function hFe(e,t,r){let n=e.ctx.get(Qa),i="# Available skills",s=n.getDescriptors().filter(a=>e.ctx.get(Wi).getSupportedSkills(e.conversation.id).includes(a.id));if(r&&(s=s.filter(a=>a.id===r)),s.length===0)return`No skill with id ${r} available`;for(let a of s)i+=`
- ${a.id}`;e.turn.request.message&&on(e.turn.request.message).trim().length>0&&(i+=`

**User message**: ${on(e.turn.request.message)}`);for(let a of s){i+=`
## ${a.id}`,i+=aE.default`
            \n\n
            **Description**
            
            ${a.description()}`;let l=n.getSkill(a.id),c=await l?.resolver(e).resolveSkill(e);if(c){i+=aE.default`
                \n\n
                **Resolution**
                
                \`\`\`yaml
                ${Wae(c)}
                \`\`\``;let u=await l?.processor(e).processSkill(c,e);if(u){let f=typeof u=="string"?u:u.makePrompt(1e3);i+=aE.default`
                    \n\n
                    **Processed value**
                    
                    ${f}`}else i+=`

**Unprocessable**`}else i+=`

**Unresolvable**`}return i}o(hFe,"getSkillsDump");function t_t(e,t){let r={state:{skills:e.resolvedSkills},turns:t.map((n,i)=>{let s={request:on(n.request.message)};return n.response&&(s.response=on(n.response.message)),s})};return Wae(r)}o(t_t,"toSimulationFormat");async function r_t(e,t){let r=e.resolutions.map(s=>s.files).flat(),n=r.filter((s,a)=>s&&r.indexOf(s)===a),i;for(let s of n)if(s&&s.status==="included"){i||(i=`The following files have been used:
`);let a=await t.get(Wr).getTextDocument(s),l=a?.getText();ei.debug(t,`conversation.dump.file
`,l),i+=`
**${s.uri}**

\`\`\`${a?.languageId}
${l}
\`\`\``}return i}o(r_t,"fileDump");d();function Vae(e,t){let r=_o(t.tokenizer),n=0;for(let i of e)n+=t.baseTokensPerMessage,i.role&&(n+=r.tokenize(i.role).length),i.name&&(n+=r.tokenize(i.name).length+t.baseTokensPerName),i.content&&(n+=r.tokenize(on(i.content)).length);return n+=t.baseTokensPerCompletion,n}o(Vae,"countMessagesTokens");d();async function sLe(e,t,r,n,i){let s=["You are an AI programming assistant.",'When asked for your name, you must respond with "GitHub Copilot".',"Follow the user's requirements carefully & to the letter.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal.","You can answer general programming questions and perform the following tasks:","* Ask a question about the files in your current workspace","* Explain how the code in your active editor works","* Make changes to existing code","* Review the selected code in your active editor","* Generate unit tests for the selected code","* Propose a fix for the problems in the selected code","* Scaffold code for a new file or project in a workspace","* Create a new Jupyter Notebook","* Ask questions about VS Code","* Generate query parameters for workspace search","* Ask how to do something in the terminal","* Explain what just happened in the terminal"].join(`
`),a=["The active document is the source code the user is looking at right now.","You have read access to the code in the active document, files the user has recently worked with and open tabs. You are able to retrieve, read and use this code to answer questions.","You cannot retrieve code that is outside of the current project.","You can only give one reply for each conversation turn."].join(`
`),l=t?`The user works in an IDE called ${t} which can be used to edit code, run and debug the user's application as well as executing tests.`:"",c=n?`The user is using ${n} as their operating system.`:"",u=i?`You use the ${i} large language model.`:"",f=r?`The user is logged in as ${r} on GitHub.`:"";return[s,c,u,f,l,a].filter(m=>m&&m!="").join(`
`)}o(sLe,"chatBasePrompt");d();d();d();d();d();var n_t=".github/copilot-instructions.md",i_t=".github/git-commit-instructions.md",gG=class{static{o(this,"CustomInstructionsService")}static async _collectInstructionsFromFile(t,r,n,i,s,a){try{let l=Jo(r,n),c=await t.getByUri(l);if(c.status!=="valid"||!c.document)return;let u=c.document.getText().trim();u&&s.push({kind:a,content:[{instruction:u,languageId:i}],reference:l})}catch{}}static async readFromWorkspaces(t,r,n={}){let i=[];if(!r.length)return i;let s=new Ay(t),a=r.flatMap(l=>{let c=[];return n.includeCodeGenerationInstructions!==!1&&c.push(this._collectInstructionsFromFile(s,l,n_t,n.languageId,i,0)),n.includeCommitMessageGenerationInstructions&&c.push(this._collectInstructionsFromFile(s,l,i_t,void 0,i,0)),c});return await Promise.all(a),i}};var Y8=class{static{o(this,"CustomInstruction")}static async getInstructions(t,r,n={}){try{let i=await gG.readFromWorkspaces(t,r,n);return this.processInstructions(i,n)}catch{return}}static processInstructions(t,r={}){if(!t||t.length===0)return;let n=[];for(let s of t){let a=this.createInstructionElement(s,r);a&&n.push(a)}return n.length===0?void 0:`${r.customIntroduction||"When generating code, please follow these user provided coding instructions. You can ignore an instruction if it contradicts a system message."}

<instructions>${n.join(`
`)}</instructions>`}static createInstructionElement(t,r={}){let n=[];for(let i of t.content)i.languageId?r.languageId&&i.languageId===r.languageId&&n.push(`For ${i.languageId} code: ${i.instruction}`):n.push(i.instruction);if(n.length!==0)return n.join(`
`)}};d();d();function aLe(e){let t=e.split(`
`),r=[],n=!1,i=[];for(let s of t)s.startsWith("```")?(n?(r.push([bu(i.join(`
`)),1]),i=[],r.push([new rr([s]),1])):r.push([new rr([s]),1]),n=!n):n?i.push(s):r.push([new rr([s]),.8]);return n&&(r.push([bu(i.join(`
`)),1]),r.push([new rr(["```"]),1])),new rr(r)}o(aLe,"fromMessage");function K8(e){let t=jae(e),r=[];for(let n=0;n<t.length;n++){let i=t[n],s=lLe(i.request,n+1),a=i.response&&i.response?.type!=="meta"?lLe(i.response):"",l=s;a!==""&&(l+=`
`+a+(t.length>1&&n!==t.length-1?`
`:"")),r.push(aLe(l))}return r.length>0?new rr([[new rr(["Consider the following conversation history:"]),1],[_y(r,"inverseLinear"),1]]):null}o(K8,"fromHistory");var o_t=5;function jae(e,t){return e.filter(n=>(n.status==="success"||n.status==="in-progress")&&on(n.request.message)!=""&&n.agent?.agentSlug===t).reverse().slice(0,o_t).reverse()}o(jae,"filterTurns");function lLe(e,t=0){let r;switch(e.type){case"user":case"template":r="User";break;case"model":r="GitHub Copilot";break;default:r=e.type}let n=on(e.message).startsWith("```")?`
`:" ";return`${t>0?`${t}) `:""}${r}:${n}${on(e.message)}`}o(lLe,"formatTurnMessage");d();d();d();var s_t=4,$ae={skillIds:[]},AG=class{constructor(t,r){this.ctx=t;this.chatFetcher=r}static{o(this,"MetaPromptFetcher")}async fetchPromptContext(t,r,n,i,s){let a=t.conversation.getLastTurn().request.message;if(r.length>0){let l=await this.ctx.get(Xn).getBestChatModelConfig(Xo("meta"),{tool_calls:!0}),c={promptType:"meta",supportedSkillDescriptors:r,modelConfiguration:l},u=await this.ctx.get(Kl).toPrompt(t,c),f=i.extendedBy({messageSource:"chat.metaprompt"},{promptTokenLen:u.tokens}),m={modelConfiguration:l,messages:u.messages,uiKind:s,llmInteraction:t.toLlmInteraction()};if(u.toolConfig===void 0)throw new Error("No tool call configuration found in meta prompt.");m.tool_choice=u.toolConfig.tool_choice,m.tools=u.toolConfig.tools;let h=await this.chatFetcher.fetchResponse(m,n,f);return h.type!=="success"&&(tn.error(this.ctx,"Failed to fetch prompt context, trying again..."),h=await this.chatFetcher.fetchResponse(m,n,f)),await t.ctx.get(La).inspectFetchResult(h),await this.handleResult(h,f,on(a),s,u.toolConfig)}else return $ae}async handleResult(t,r,n,i,s){if(t.type!=="success")return this.telemetryError(r,t),$ae;let l;if(t.toolCalls&&t.toolCalls.length>0)l=s.extractArguments(t.toolCalls[0]).skillIds?.slice(0,s_t);else return tn.error(this.ctx,"Missing tool call in meta prompt response"),$ae;let c=r.extendedBy({uiKind:i,skillIds:l?.join(",")??""},{numTokens:t.numTokens+t.toolCalls[0].approxNumTokens}),u=c.extendedBy({messageText:n});return Xt(this.ctx,`${Wc(i)}.metaPrompt`,c,0),Xt(this.ctx,`${Wc(i)}.promptContext`,u,1),{skillIds:l??[]}}telemetryError(t,r){let n=t.extendedBy({resultType:r.type,reason:r.reason??""});Xt(this.ctx,"conversation.promptContextError",n,1)}};d();d();d();var yG=class{constructor(){this.languageId=["java","kotlin","scala","groovy"]}static{o(this,"JavaProjectMetadataLookup")}determineBuildTools(t){return[...t.buildTools]}determineApplicationFrameworks(t){let r=[];return me(t,r,"org.springframework.boot","Spring Boot"),me(t,r,"jakarta.jakartaee-api","Jakarta EE"),me(t,r,"javax:javaee-api","Java EE"),me(t,r,"org.apache.struts:struts2-core","Apache Struts"),me(t,r,"org.hibernate:hibernate-core","Hibernate"),me(t,r,"org.apache.wicket:wicket-core","Apache Wicket"),me(t,r,"javax.faces:jsf-api","JSF"),me(t,r,"org.grails:grails-core","Grails"),r}determineCoreLibraries(t){let r=[];return me(t,r,"com.google.guava","Google Guava"),me(t,r,"org.apache.commons:commons-lang3","Apache Commons Lang"),me(t,r,"org.apache.commons:commons-io","Apache Commons IO"),me(t,r,"joda-time:joda-time","Joda-Time"),me(t,r,"com.google.code.gson:gson","Google Gson"),me(t,r,"org.apache.commons:commons-math3","Apache Commons Math"),me(t,r,"org.apache.commons:commons-collections4","Apache Commons Collections"),me(t,r,"org.apache.commons:commons-net","Apache Commons Net"),me(t,r,"org.apache.poi:poi","Apache POI"),me(t,r,"com.fasterxml.jackson.core:jackson-databind","Jackson"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"org.junit.jupiter:junit-jupiter","JUnit"),me(t,r,"junit:junit","JUnit"),me(t,r,"org.testng:testng","TestNG"),me(t,r,"org.spockframework:spock-core","Spock"),me(t,r,"io.cucumber:cucumber-java","Cucumber"),me(t,r,"org.jboss.arquillian.junit:arquillian-junit-container","Arquillian"),r}determineTestingLibraries(t){let r=[];return me(t,r,"org.mockito","Mockito"),me(t,r,"org.assertj","AssertJ"),me(t,r,"org.hamcrest","Hamcrest"),me(t,r,"org.powermock","PowerMock"),me(t,r,"org.jmock","JMock"),me(t,r,"org.easymock","EasyMock"),me(t,r,"org.jmockit:jmockit","JMockit"),me(t,r,"com.github.tomakehurst:wiremock","WireMock"),me(t,r,"org.dbunit:dbunit","DBUnit"),me(t,r,"com.icegreen:greenmail","GreenMail"),me(t,r,"net.sourceforge.htmlunit:htmlunit","HtmlUnit"),me(t,r,"org.seleniumhq.selenium:selenium-java","Selenium"),me(t,r,"io.rest-assured:rest-assured","Rest-Assured"),me(t,r,"io.gatling.highcharts:gatling-charts-highcharts","Gatling"),me(t,r,"org.apache.jmeter:ApacheJMeter","JMeter"),r}},CG=class{constructor(){this.languageId=["javascript","javascriptreact","typescript","typescriptreact","vue"]}static{o(this,"JavaScriptProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"@types/node","Node.js"),me(t,r,"react-native","React Native"),r.find(n=>n.name==="React Native")||me(t,r,"react","React"),me(t,r,"angular","Angular"),me(t,r,"vue","Vue.js"),me(t,r,"ember","Ember.js"),me(t,r,"backbone","Backbone.js"),me(t,r,"meteor","Meteor"),me(t,r,"polymer","Polymer"),me(t,r,"aurelia","Aurelia"),me(t,r,"knockout","Knockout.js"),me(t,r,"dojo","Dojo Toolkit"),me(t,r,"mithril","Mithril.js"),me(t,r,"marionette","Marionette.js"),me(t,r,"marko","Marko.js"),me(t,r,"svelte","Svelte"),me(t,r,"hyperapp","Hyperapp"),me(t,r,"inferno","Inferno.js"),me(t,r,"preact","Preact"),me(t,r,"riot","Riot.js"),me(t,r,"moon","Moon.js"),me(t,r,"stencil","Stencil.js"),r}determineCoreLibraries(t){let r=[];return me(t,r,"lodash","Lodash"),me(t,r,"moment","Moment.js"),me(t,r,"axios","Axios"),me(t,r,"redux","Redux"),me(t,r,"recoil","Recoil"),me(t,r,"jquery","jQuery"),me(t,r,"d3","D3.js"),me(t,r,"underscore","Underscore.js"),me(t,r,"ramda","Ramda"),me(t,r,"immutable","Immutable.js"),me(t,r,"rxjs","RxJS"),me(t,r,"three","Three.js"),me(t,r,"socket.io","Socket.IO"),me(t,r,"express","Express.js"),me(t,r,"next","Next.js"),me(t,r,"puppeteer","Puppeteer"),me(t,r,"cheerio","Cheerio"),me(t,r,"nodemailer","Nodemailer"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"jest","Jest"),me(t,r,"mocha","Mocha"),me(t,r,"jasmine","Jasmine"),me(t,r,"ava","AVA"),me(t,r,"qunit","QUnit"),me(t,r,"tape","Tape"),r}determineTestingLibraries(t){let r=[];return me(t,r,"chai","Chai"),me(t,r,"sinon","Sinon"),me(t,r,"enzyme","Enzyme"),me(t,r,"protractor","Protractor"),me(t,r,"supertest","Supertest"),me(t,r,"nock","Nock"),me(t,r,"cypress","Cypress"),me(t,r,"@testing-library/react","React Testing Library"),r}},EG=class{constructor(){this.languageId="go"}static{o(this,"GoProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"github.com/gorilla/mux","Gorilla Mux"),me(t,r,"github.com/go-chi/chi","Chi"),me(t,r,"github.com/gin-gonic/gin","Gin"),me(t,r,"github.com/labstack/echo","Echo"),me(t,r,"github.com/revel/revel","Revel"),me(t,r,"github.com/astaxie/beego","Beego"),me(t,r,"github.com/go-martini/martini","Martini"),me(t,r,"github.com/gobuffalo/buffalo","Buffalo"),me(t,r,"github.com/goji/goji","Goji"),me(t,r,"github.com/hoisie/web","Web.go"),r}determineCoreLibraries(t){let r=[];return me(t,r,"net/http","net/http"),me(t,r,"fmt","fmt"),me(t,r,"io","io"),me(t,r,"time","time"),me(t,r,"math","math"),me(t,r,"strconv","strconv"),me(t,r,"strings","strings"),me(t,r,"sort","sort"),me(t,r,"encoding/json","encoding/json"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"github.com/onsi/ginkgo","ginkgo"),me(t,r,"github.com/onsi/gomega","gomega"),me(t,r,"github.com/stretchr/testify","testify"),me(t,r,"gopkg.in/check.v1","gocheck"),me(t,r,"github.com/franela/goblin","goblin"),me(t,r,"github.com/DATA-DOG/godog","godog"),me(t,r,"github.com/stesla/gospec","gospec"),me(t,r,"github.com/rjeczalik/gotest","gotest"),me(t,r,"github.com/smartystreets/goconvey","goconvey"),r}determineTestingLibraries(t){let r=[];return me(t,r,"github.com/stretchr/testify","Testify"),me(t,r,"github.com/smartystreets/goconvey","GoConvey"),me(t,r,"github.com/onsi/ginkgo","Ginkgo"),me(t,r,"github.com/golang/mock","GoMock"),me(t,r,"gopkg.in/check.v1","GoCheck"),me(t,r,"github.com/franela/goblin","Goblin"),me(t,r,"github.com/DATA-DOG/godog","GoDog"),me(t,r,"github.com/onsi/gomega","Gomega"),me(t,r,"github.com/stesla/gospec","GoSpec"),me(t,r,"github.com/rjeczalik/gotest","GoTest"),r}},xG=class{constructor(){this.languageId=["python","jupyter"]}static{o(this,"PythonProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"flask","Flask"),me(t,r,"django","Django"),me(t,r,"pyramid","Pyramid"),me(t,r,"tornado","Tornado"),me(t,r,"fastapi","FastAPI"),r}determineCoreLibraries(t){let r=[];return me(t,r,"requests","requests"),me(t,r,"numpy","numpy"),me(t,r,"pandas","pandas"),me(t,r,"scipy","scipy"),me(t,r,"matplotlib","matplotlib"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"pytest","Pytest"),me(t,r,"unittest","Unittest"),me(t,r,"doctest","Doctest"),me(t,r,"nose","Nose"),r}determineTestingLibraries(t){let r=[];return me(t,r,"mock","Mock"),me(t,r,"hypothesis","Hypothesis"),me(t,r,"behave","Behave"),me(t,r,"lettuce","Lettuce"),me(t,r,"testify","Testify"),me(t,r,"pyhamcrest","PyHamcrest"),r}},vG=class{constructor(){this.languageId=["php","blade"]}static{o(this,"PhpProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"laravel/framework","Laravel"),me(t,r,"symfony/symfony","Symfony"),me(t,r,"slim/slim","Slim"),me(t,r,"cakephp/cakephp","CakePHP"),me(t,r,"yiisoft/yii2","Yii"),me(t,r,"zendframework/zendframework","Zend Framework"),me(t,r,"phalcon/cphalcon","Phalcon"),me(t,r,"bcosca/fatfree","Fat-Free"),me(t,r,"fuel/fuel","FuelPHP"),me(t,r,"phpixie/framework","PHPixie"),r}determineCoreLibraries(t){let r=[];return me(t,r,"monolog/monolog","Monolog"),me(t,r,"vlucas/phpdotenv","PHP dotenv"),me(t,r,"symfony/console","Symfony Console"),me(t,r,"guzzlehttp/guzzle","GuzzleHttp"),me(t,r,"ramsey/uuid","Ramsey UUID"),me(t,r,"doctrine/orm","Doctrine ORM"),me(t,r,"php-di/php-di","PHP-DI"),me(t,r,"phpunit/php-timer","PHPUnit Timer"),me(t,r,"symfony/finder","Symfony Finder"),me(t,r,"symfony/yaml","Symfony Yaml"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"phpunit/phpunit","PHPUnit"),me(t,r,"behat/behat","Behat"),me(t,r,"phpspec/phpspec","PHPSpec"),me(t,r,"codeception/codeception","Codeception"),me(t,r,"atoum/atoum","Atoum"),me(t,r,"pestphp/pest","PestPHP"),me(t,r,"kahlan/kahlan","Kahlan"),me(t,r,"peridot-php/peridot","Peridot"),me(t,r,"phake/phake","Phake"),r}determineTestingLibraries(t){let r=[];return me(t,r,"mockery/mockery","Mockery"),me(t,r,"php-mock/php-mock","PHP-Mock"),me(t,r,"php-mock/php-mock-phpunit","PHP-Mock PHPUnit"),me(t,r,"padraic/mockery","Padraic Mockery"),me(t,r,"phpspec/prophecy","PHPSpec Prophecy"),me(t,r,"phpunit/php-invoker","PHPUnit Invoker"),me(t,r,"phpunit/php-token-stream","PHPUnit Token Stream"),me(t,r,"phpunit/php-code-coverage","PHPUnit Code Coverage"),me(t,r,"phpunit/php-timer","PHPUnit Timer"),me(t,r,"phpunit/php-text-template","PHPUnit Text Template"),r}},bG=class{constructor(){this.languageId="csharp"}static{o(this,"CSharpProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"Microsoft.NETCore.App",".NET Core"),me(t,r,"Microsoft.AspNetCore.App","ASP.NET Core"),r}determineCoreLibraries(t){let r=[];return me(t,r,"EntityFramework","Entity Framework"),me(t,r,"Newtonsoft.Json","Newtonsoft.Json"),me(t,r,"AutoMapper","AutoMapper"),me(t,r,"Serilog","Serilog"),me(t,r,"Dapper","Dapper"),me(t,r,"Polly","Polly"),me(t,r,"FluentValidation","FluentValidation"),me(t,r,"MediatR","MediatR"),me(t,r,"Hangfire","Hangfire"),me(t,r,"RabbitMQ.Client","RabbitMQ.Client"),me(t,r,"MassTransit","MassTransit"),me(t,r,"Microsoft.Extensions.Logging","Microsoft.Extensions.Logging"),me(t,r,"Microsoft.Extensions.DependencyInjection","Microsoft.Extensions.DependencyInjection"),me(t,r,"Microsoft.Extensions.Configuration","Microsoft.Extensions.Configuration"),me(t,r,"Microsoft.Extensions.Http","Microsoft.Extensions.Http"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"xunit","xUnit"),me(t,r,"NUnit","NUnit"),me(t,r,"SpecFlow","SpecFlow"),r}determineTestingLibraries(t){let r=[];return me(t,r,"Moq","Moq"),me(t,r,"FluentAssertions","FluentAssertions"),me(t,r,"Bogus","Bogus"),me(t,r,"RestSharp","RestSharp"),me(t,r,"Swashbuckle.AspNetCore","Swashbuckle.AspNetCore"),r}},IG=class{constructor(){this.languageId="dart"}static{o(this,"DartProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"flutter","Flutter"),me(t,r,"angular","AngularDart"),r}determineCoreLibraries(t){let r=[];return me(t,r,"dartx","dartx"),me(t,r,"provider","Provider"),me(t,r,"rxdart","RxDart"),me(t,r,"dio","Dio"),me(t,r,"json_serializable","json_serializable"),me(t,r,"freezed","Freezed"),me(t,r,"moor","Moor"),me(t,r,"hive","Hive"),me(t,r,"http","http"),me(t,r,"path","path"),me(t,r,"intl","intl"),me(t,r,"equatable","equatable"),me(t,r,"get_it","get_it"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"test","test"),me(t,r,"flutter_test","flutter_test"),r}determineTestingLibraries(t){let r=[];return me(t,r,"mockito","mockito"),me(t,r,"bloc_test","bloc_test"),r}},TG=class{constructor(){this.languageId="ruby"}static{o(this,"RubyProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"rails","Rails"),me(t,r,"sinatra","Sinatra"),me(t,r,"hanami","Hanami"),me(t,r,"grape","Grape"),me(t,r,"roda","Roda"),me(t,r,"padrino","Padrino"),me(t,r,"cuba","Cuba"),me(t,r,"ramaze","Ramaze"),me(t,r,"nyara","Nyara"),me(t,r,"rack","Rack"),r}determineCoreLibraries(t){let r=[];return me(t,r,"active_record","ActiveRecord"),me(t,r,"sequel","Sequel"),me(t,r,"rom","ROM"),me(t,r,"datamapper","DataMapper"),me(t,r,"mongoid","Mongoid"),me(t,r,"neo4j","Neo4j"),me(t,r,"redis","Redis"),me(t,r,"cassandra","Cassandra"),me(t,r,"couchrest","CouchRest"),me(t,r,"riak","Riak"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"rspec","RSpec"),me(t,r,"minitest","Minitest"),me(t,r,"cucumber","Cucumber"),me(t,r,"spinach","Spinach"),me(t,r,"turnip","Turnip"),me(t,r,"bacon","Bacon"),me(t,r,"shoulda","Shoulda"),me(t,r,"test-unit","Test::Unit"),me(t,r,"wrong","Wrong"),me(t,r,"contest","Contest"),r}determineTestingLibraries(t){let r=[];return me(t,r,"factory_bot","FactoryBot"),me(t,r,"faker","Faker"),me(t,r,"ffaker","FFaker"),me(t,r,"fabrication","Fabrication"),me(t,r,"machinist","Machinist"),me(t,r,"mocha","Mocha"),me(t,r,"flexmock","FlexMock"),me(t,r,"rr","RR"),me(t,r,"bourne","Bourne"),me(t,r,"not_a_mock","NotAMock"),r}},wG=class{constructor(){this.languageId="rust"}static{o(this,"RustProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"tokio","tokio"),me(t,r,"async-std","async-std"),me(t,r,"hyper","hyper"),me(t,r,"actix-web","actix-web"),me(t,r,"rocket","rocket"),r}determineCoreLibraries(t){let r=[];return me(t,r,"serde","serde"),me(t,r,"regex","regex"),me(t,r,"rand","rand"),me(t,r,"log","log"),me(t,r,"lazy_static","lazy_static"),me(t,r,"libc","libc"),me(t,r,"futures","futures"),me(t,r,"rayon","rayon"),me(t,r,"reqwest","reqwest"),me(t,r,"warp","warp"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"test-case","test-case"),me(t,r,"proptest","proptest"),me(t,r,"quickcheck","quickcheck"),r}determineTestingLibraries(t){let r=[];return me(t,r,"mockall","mockall"),me(t,r,"double","double"),me(t,r,"rstest","rstest"),me(t,r,"mockiato","mockiato"),me(t,r,"mock_derive","mock_derive"),me(t,r,"mocktopus","mocktopus"),me(t,r,"mockers","mockers"),me(t,r,"mock_it","mock_it"),r}},_G=class{constructor(){this.languageId=["c","cpp"]}static{o(this,"CProjectMetadataLookup")}determineBuildTools(t){return t.buildTools.filter(r=>["gcc","clang","make","cmake","autotools","ninja","meson"].includes(r.name))}determineApplicationFrameworks(t){return t.libraries.filter(r=>["libc","libuv","openssl","zlib","libevent","libcurl"].includes(r.name))}determineCoreLibraries(t){return t.libraries.filter(r=>["libpng","libjpeg","libxml2","sqlite","postgres","mysql"].includes(r.name))}determineTestingFrameworks(t){return t.libraries.filter(r=>["unity","criterion","cmocka","check","ctest","minunit"].includes(r.name))}determineTestingLibraries(t){return t.libraries.filter(r=>["cmock","fff","trompeloeil","fakeit"].includes(r.name))}};function me(e,t,r,n){let i=e.libraries.find(s=>s.name.toLowerCase().indexOf(r.toLowerCase())>-1);i&&t.push({name:n,version:i.version})}o(me,"addFromLibraries");var SG=class{constructor(t,r){this.languageId=t;this.delegates=r}static{o(this,"CompositeProjectMetadataLookup")}determineBuildTools(t){return this.delegates.map(r=>r.determineBuildTools(t)).flat()}determineApplicationFrameworks(t){return this.delegates.map(r=>r.determineApplicationFrameworks(t)).flat()}determineCoreLibraries(t){return this.delegates.map(r=>r.determineCoreLibraries(t)).flat()}determineTestingFrameworks(t){return this.delegates.map(r=>r.determineTestingFrameworks(t)).flat()}determineTestingLibraries(t){return this.delegates.map(r=>r.determineTestingLibraries(t)).flat()}};function uLe(e){return e.language.version?e.language.name+" "+e.language.version:e.language.name}o(uLe,"determineProgrammingLanguage");var cLe=[new yG,new CG,new EG,new xG,new vG,new bG,new IG,new TG,new wG,new _G];function fLe(e){let t=cLe.find(r=>typeof r.languageId=="string"?r.languageId===e:Array.isArray(r.languageId)?r.languageId.includes(e):!1)??new SG(e,cLe);return new zae(t)}o(fLe,"getMetadataLookup");var zae=class{constructor(t){this.delegate=t;this.languageId=t.languageId}static{o(this,"DistinctProjectMetadataLookup")}determineBuildTools(t){return this.deduplicateDependencies(this.delegate.determineBuildTools(t))}determineApplicationFrameworks(t){return this.deduplicateDependencies(this.delegate.determineApplicationFrameworks(t))}determineCoreLibraries(t){return this.deduplicateDependencies(this.delegate.determineCoreLibraries(t))}determineTestingFrameworks(t){return this.deduplicateDependencies(this.delegate.determineTestingFrameworks(t))}determineTestingLibraries(t){return this.deduplicateDependencies(this.delegate.determineTestingLibraries(t))}deduplicateDependencies(t){let r=[];return t.forEach(n=>{r.find(i=>i.name===n.name)||r.push(n)}),r}};var dLe=T.Object({name:T.String(),version:T.Optional(T.String())}),mLe=T.Object({language:T.Object({id:T.String(),name:T.String(),version:T.Optional(T.String())}),libraries:T.Array(dLe),buildTools:T.Array(dLe)}),Yae=class{constructor(t){this.turnContext=t}static{o(this,"ProjectMetadataSkillProcessor")}value(){return 1}async processSkill(t){let r=[];r.push([new rr([`The user is working on a project with the following characteristics:
`]),1]);let n=fLe(t.language.id);return this.addProgrammingLanguage(t,r),this.addBuildTools(t,r,n),this.addApplicationFramework(t,r,n),this.addCoreLibraries(t,r,n),this.addTestingFrameworks(t,r,n),this.addTestingLibraries(t,r,n),new rr(r)}addProgrammingLanguage(t,r){let n=uLe(t);this.turnContext.collectLabel(Yp,n),r.push([new rr([`- programming language: ${n}`]),1])}addBuildTools(t,r,n){this.addToPrompt(r,"- build tools:",n.determineBuildTools(t))}addApplicationFramework(t,r,n){this.addToPrompt(r,"- application frameworks:",n.determineApplicationFrameworks(t))}addCoreLibraries(t,r,n){this.addToPrompt(r,"- core libraries:",n.determineCoreLibraries(t))}addTestingFrameworks(t,r,n){this.addToPrompt(r,"- testing frameworks:",n.determineTestingFrameworks(t))}addTestingLibraries(t,r,n){this.addToPrompt(r,"- testing libraries:",n.determineTestingLibraries(t))}addToPrompt(t,r,n){if(n.length>0){n.forEach(s=>{this.turnContext.collectLabel(Yp,`${s.name}${s.version?" "+s.version:""}`)});let i=n.map(s=>`  - ${s.name}${s.version?" "+s.version:""}`).join(`
`);t.push([new rr([`${r}
${i}`]),1])}}},Yp="project-metadata",BG=class{constructor(t){this._resolver=t;this.id=Yp;this.type="explicit"}static{o(this,"ProjectMetadataSkill")}description(){return"The characteristics of the project the developer is working on (languages, frameworks)"}resolver(){return this._resolver}processor(t){return new Yae(t)}};d();var hLe=ft(require("path"));var Kae=class{constructor(t){this.turnContext=t}static{o(this,"ReferencesSkillProcessor")}value(){return 1}async processSkill(t){let r=this.turnContext.ctx.get(zn),n=[],i=await this.filterIncludedFiles(t),s=(await this.toFileChunks(i,r)).filter(a=>a!==void 0).flat();if(s.length>0)return n.push([new rr(["The user wants you to consider the following referenced files when computing your answer."]),1]),n.push(...s),new rr(n)}async filterIncludedFiles(t){return t.filter(r=>r.type==="file"&&!this.turnContext.isFileIncluded(r.uri))}async toFileChunks(t,r){return await Promise.all(t.map(async n=>{if(n.type==="file"&&n.uri)return await this.elideReferencedFiles(r,n)}))}async elideReferencedFiles(t,r){let n=await t.readFile(r.uri),i=ss(n);if(await this.turnContext.collectFile(RG,r.uri,i),n.status==="valid"){let s=await t.getRelativePath(n.document);if(i==="included"){let a=new Vp(n.document,r.selection,r.visibleRange);return[[`Code excerpt from referenced file \`${s}\`:`,1],[a.fromAllCode({addLineNumbers:!1}),1]]}else if(i==="empty")return[[new rr([`The referenced file \`${s}\` is empty.`]),1]]}else if(n.status==="invalid")return[[new rr([`The referenced file \`${hLe.basename(r.uri)}\` is content excluded.`]),1]]}},Jae=class{static{o(this,"ReferencesSkillResolver")}async resolveSkill(t){if(t.turn.request.references&&t.turn.request.references.length>0)return t.turn.request.references}},RG="references",kG=class{constructor(){this.id=RG;this.type="implicit"}static{o(this,"ReferencesSkill")}description(){return"The code from the user's referenced files"}resolver(){return new Jae}processor(t){return new Kae(t)}};var lE=o(()=>[Yp,Xm,RG,E0],"mandatorySkills"),DG=class{constructor(t,r){this.chatFetcher=r;this.metaPromptFetcher=new AG(t,this.chatFetcher)}static{o(this,"ConversationContextCollector")}async collectContext(t,r,n,i,s,a){let l=[];if(s){let c=s.requiredSkills?await s.requiredSkills(t.ctx):[];l.push(...c.filter(u=>!lE().includes(u)))}else(await this.metaPromptFetcher.fetchPromptContext(t,await this.selectableSkillDescriptors(t.ctx,t.conversation,t.turn),r,n,i)).skillIds.reverse().forEach(u=>{!l.includes(u)&&!lE().includes(u)&&l.push(u)});if(a){let c=await a.additionalSkills(t.ctx);l.push(...c.filter(u=>!lE().includes(u)))}return l.push(...lE()),l=l.filter(c=>!this.isIgnoredSkill(c,t.turn)),{skillIds:t.ctx.get(Wi).filterSupportedSkills(t.conversation.id,l)}}async selectableSkillDescriptors(t,r,n){let i=await this.getNonSelectableSkills(t),s=t.get(Wi).getSupportedSkills(r.id),a=t.get(Qa).getDescriptors(),l=[];for(let c of a){if(i.includes(c.id)||!s.includes(c.id))continue;(c.isAvailable?await c.isAvailable(t):!0)&&!this.isIgnoredSkill(c.id,n)&&l.push(c)}return l}async getNonSelectableSkills(t){let r=await $p(t),n=(await Promise.all(r.map(i=>i.additionalSkills(t)))).flat();return[...lE(),...n]}isIgnoredSkill(t,r){return r.ignoredSkills?.some(n=>n.skillId===t)}};d();d();var PG=class{constructor(t,r,n,i){this.ctx=t;this.conversation=r;this.turn=n;this.progress=i;this.rounds=[]}static{o(this,"AgentToolCalls")}getRound(t){return this.rounds.find(r=>r.roundId===t)}async start(t,r,n,i){let s=this.getRound(t);if(s||(s={roundId:t,reply:""},this.rounds.push(s)),s.toolCalls?.find(l=>l.id===r))tn.error(this.ctx,`Tool call ${r} already exists for the round ${t} in conversation ${this.conversation.id} and turn ${this.turn.id}`);else{let l={id:r,name:n,progressMessage:i,status:"running"};s.toolCalls=[l],await this.progress.report(this.conversation,this.turn,{editAgentRounds:[s]})}}async finish(t,r){await this.update(t,r,n=>{n.status="completed"})}async cancel(t,r){await this.update(t,r,n=>{n.status="cancelled"})}async finishAll(t="completed"){let r=this.rounds.filter(n=>{let i=n.toolCalls?.filter(s=>s.status==="running").map(s=>(s.status=t,s));if(i&&i.length>0)return n.toolCalls=i,!0});r.length>0&&await this.progress.report(this.conversation,this.turn,{editAgentRounds:r})}async error(t,r,n){await this.update(t,r,i=>{i.status="error",i.error=n||"Unknown error"})}async update(t,r,n){let i=this.rounds.find(a=>a.roundId===t);i||(i={roundId:t,reply:""},this.rounds.push(i));let s=i.toolCalls?.find(a=>a.id===r);s?(n(s),await this.progress.report(this.conversation,this.turn,{editAgentRounds:[i]})):tn.error(this.ctx,`Tool call ${r} not found for the agent round ${t} in conversation ${this.conversation.id} and turn ${this.turn.id}`)}};d();var NG=class{constructor(t,r,n,i){this.ctx=t;this.conversation=r;this.turn=n;this.progress=i;this.steps=[]}static{o(this,"Steps")}async start(t,r,n){let i=this.steps.find(s=>s.id===t);if(!i)i={id:t,title:r,description:n,status:"running"},this.steps.push(i),await this.progress.report(this.conversation,this.turn,{steps:[i]});else throw new Error(`Step with id "${t}" already started`)}async finish(t){await this.updateStep(t,r=>{r.status="completed"})}async cancel(t){await this.updateStep(t,r=>{r.status="cancelled"})}async finishAll(t="completed"){let r=this.steps.filter(n=>n.status==="running").map(n=>(n.status=t,n));r.length>0&&await this.progress.report(this.conversation,this.turn,{steps:r})}async error(t,r){return this.updateStep(t,n=>{n.status="failed",n.error={message:r||"Unknown error"}})}async updateStep(t,r){let n=this.steps.find(i=>i.id===t);n?(r(n),await this.progress.report(this.conversation,this.turn,{steps:[n]})):tn.error(this.ctx,`Step ${t} not found for conversation ${this.conversation.id} and turn ${this.turn.id}`)}};var J8=class{constructor(t,r,n,i){this.ctx=t;this.conversation=r;this.turn=n;this.cancelationToken=i;this.skillResolver=new Xae(this),this.steps=new NG(t,r,n,t.get(Ps)),this.collector=new Zae(r,n,t.get(Ps)),this.agentToolCalls=new PG(t,r,n,t.get(Ps))}static{o(this,"TurnContext")}toLlmInteraction(){return this.conversation.source==="inline"?Y0.user("conversation-inline",this.turn.id):Y0.user("conversation-panel",this.turn.id)}async collectFile(t,r,n,i){let s={type:"file",collector:t,uri:r,status:n};i&&(s.range=i),await this.collector.collect(s)}collectLabel(t,r){this.collector.collect({type:"label",collector:t,label:r})}isFileIncluded(t){return this.collector.collectibles.some(r=>r.type==="file"&&r.status==="included"&&r.uri===t)}async info(t){await this.sendChatNotification(t,"info")}async warn(t){await this.sendChatNotification(t,"warning")}async sendChatNotification(t,r){await this.ctx.get(Ps).report(this.conversation,this.turn,{notifications:[{severity:r,message:t}]})}},FG=class extends Error{constructor(r,n){super(`Cycle detected while resolving skills: ${n.join(" -> ")} -> ${r}`);this.skillId=r;this.skillStack=n}static{o(this,"CycleError")}},nS=class extends Error{static{o(this,"ConversationAbortError")}constructor(t){super(t)}},Xae=class{constructor(t){this.turnContext=t;this.resolveStack=[]}static{o(this,"SkillResolver")}async resolve(t){if(this.turnContext.ctx.get(Wi).getSupportedSkills(this.turnContext.conversation.id).includes(t)){this.ensureNoCycle(t);let n=this.turnContext.ctx.get(wl).getResolvedSkill(this.turnContext.turn.id,t);if(n)return this.resolveStack.pop(),n;let i=await this.newlyResolve(t);return this.resolveStack.pop(),i}}ensureNoCycle(t){if(this.resolveStack.includes(t))throw new FG(t,this.resolveStack);this.resolveStack.push(t)}async newlyResolve(t){let n=this.turnContext.ctx.get(Qa).getSkill(t);try{let i=await n?.resolver(this.turnContext).resolveSkill(this.turnContext);if(i)return this.turnContext.ctx.get(wl).addResolvedSkill(this.turnContext.turn.id,t,i),i}catch(i){if(i instanceof FG||i instanceof nS)throw i;tn.exception(this.turnContext.ctx,i,`Error while resolving skill ${t}`)}}},Zae=class{constructor(t,r,n){this.conversation=t;this.turn=r;this.conversationProgress=n;this.collectibles=[]}static{o(this,"Collector")}async collect(t){this.collectibles.push(t),await this.reportCollectedFile(t)}async reportCollectedFile(t){t.type==="file"&&await this.conversationProgress.report(this.conversation,this.turn,{references:[{type:"file",uri:t.uri,status:t.status,range:t.range}]})}collectiblesForCollector(t){return this.collectibles.filter(r=>r.collector===t)}};async function pLe(e,t){let[r,n,i]=await a_t(e,t);return i.push(...u_t(e)),r.length>0||n.length>0?[new rr([[new rr(["Consider the additional context:"]),1],[_y(r,"inverseLinear"),.9],...n]),i]:[null,i]}o(pLe,"fromSkills");async function a_t(e,t){let r=[],n=[],i=[],s=[...e.turn.skills].reverse();for(let a of s){if(!await f_t(e,a.skillId,t?.languageId??""))continue;let[l,c]=await l_t(e,a.skillId);l&&(lE().indexOf(a.skillId)===-1?n.push(l):i.push(l)),r.push(c)}return n.reverse(),i.reverse(),r.reverse(),[n,i,r]}o(a_t,"handleSkillsInReverse");async function l_t(e,t){let n=e.ctx.get(Qa).getSkill(t);try{let i=Date.now(),s=await e.skillResolver.resolve(t),a=Date.now()-i;if(s){let l=n?.processor(e),c=Date.now(),u=await l?.processSkill(s,e),f=Date.now()-c;return u?await c_t(e,n,l,u,a,f):[void 0,await LG(e,n,"unprocessable",void 0,a,f)]}else return[void 0,await LG(e,n,"unresolvable",void 0,a)]}catch(i){if(tn.exception(e.ctx,i,`Error while resolving skill ${t}`),i instanceof nS)throw i;return[void 0,await LG(e,n,"failed")]}}o(l_t,"safelyProcessSkill");async function c_t(e,t,r,n,i,s){let a;return typeof n=="string"?a=new rr([[n,1]]):a=n,[[a,r?.value()||0],await LG(e,t,"resolved",a,i,s)]}o(c_t,"handleProcessedSkill");async function LG(e,t,r,n,i,s){let l=e.collector.collectiblesForCollector(t?.id??"unknown").filter(u=>u.type==="file"),c={skillId:t?.id??"unknown",resolution:r,files:l,resolutionTimeMs:i,processingTimeMs:s};if(n){let u=await e.ctx.get(Xn).getBestChatModelConfig(Xo("user")),f=n.makePrompt(u.maxRequestTokens);c.tokensPreEliding=_o(u.tokenizer).tokenLength(f)}return e.ctx.get(wl).addResolution(e.turn.id,c),c}o(LG,"determineResolution");function u_t(e){return e.turn.ignoredSkills.map(t=>({skillId:t.skillId,resolution:"ignored"}))}o(u_t,"handleIgnoredSkills");async function f_t(e,t,r){if(t!==Yp&&t!==Xm)return!0;let n=e.ctx.get(er),i=await n.updateExPValuesAndAssignments({languageId:r});return n.ideChatEnableProjectMetadata(i)?t===Yp:t===Xm}o(f_t,"includeSkill");var gLe=ft(ef());var cE=class{static{o(this,"AbstractUserPromptStrategy")}async elidableContent(t,r){let n=[],i=K8(t.conversation.turns.slice(0,-1));i!==null&&n.push([i,.6]);let[s,a]=await this.elidableSkills(t,r);return s!==null&&(i!==null&&n.push(["",.1]),n.push([s,.8])),[new rr(n),a]}async elidableSkills(t,r){return await pLe(t,r)}async promptContent(t,r,n){let i;t.turn.workspaceFolder&&(i=await Y8.getInstructions(t.ctx,[t.turn.workspaceFolder],{includeCodeGenerationInstructions:!0,includeCommitMessageGenerationInstructions:!1}));let s=t.conversation.getLastTurn().request.message,a;i?typeof s=="string"?a=i+`

`+s:a=[{type:"text",text:i},...s]:a=s;let[l,c]=await this.elidableContent(t,n);return[[{role:"system",content:r},{role:"user",content:l},{role:"system",content:this.suffix(t)},{role:"user",content:a}],c]}},QG=class extends cE{static{o(this,"PanelUserPromptStrategy")}suffix(t){return gLe.default` 
            Use the above information, including the additional context and conversation history (if available) to answer the user's question below.
            Prioritize the context given in the user's question.
            When generating code, think step-by-step. Briefly explain the code and then output it in a single code block.
            When fixing problems and errors, provide a brief description first.
            When generating classes, use a separate code block for each class.
            Keep your answers short and impersonal.
            Use Markdown formatting in your answers.
            Escape special Markdown characters (like *, ~, -, _, etc.) with a backslash or backticks when using them in your answers.
            You must enclose file names and paths in single backticks. Never use single or double quotes for file names or paths.
            Make sure to include the programming language name at the start of every code block.
            Avoid wrapping the whole response in triple backticks.
            Only use triple backticks codeblocks for code.
            Do not repeat the user's code excerpt when answering.
            Do not prefix your answer with "GitHub Copilot".
            Do not start your answer with a programming language name.
            Do not include follow up questions or suggestions for next turns.
            Respond in the following locale: ${t.conversation.userLanguage}.
        `.trim()}};var ALe=ft(ef());var MG=class extends cE{static{o(this,"InlineUserPromptStrategy")}suffix(t){return ALe.default`
            Use the above information, including the additional context and conversation history (if available) to answer the user's question below.
            Prioritize the context given in the user's question.
            Keep your answers short and impersonal.
            Use Markdown formatting in your answers. 
            Escape special Markdown characters (like *, ~, -, _, etc.) with a backslash or backticks when using them in your answers.
            You must enclose file names and paths in single backticks. Never use single or double quotes for file names or paths.
            Make sure to include the programming language name at the start of every code block.
            Only use triple backticks codeblocks for code.
            Do not repeat the user's code excerpt when answering.
            Do not prefix your answer with "GitHub Copilot".
            Do not start your answer with a programming language name.
            Do not include follow up questions or suggestions for next turns.
            Respond in the following locale: ${t.conversation.userLanguage}.

            The user is editing an open file in their editor.
            The user's code is provided with line numbers prepended, for example: '1:code', starting at 1.
            The selected code line numbers are provided and are inclusive.

            If the user's question is about modifying the code in the editor, adhere to the following rules:

            To edit a range of the user's code, use the following format:
            - Generate a codeblock with the new code.
            - Prefix the codeblock with a markdown comment of the form <!-- replace lines start to end -->
            - Start and end are line numbers in the user's original code.
            - Start and end are inclusive.
            - Single line edits can be done by setting start and end to the same line number: <!-- replace lines X to X -->
            - The original code between the start and end will be replaced with the new code.
            - This format can be used to replace as well as add new code to the user's code.

            For example, to replace lines X to Y of the user's code, use the following format:
            <!-- replace lines X to Y -->
            \`\`\`language
            new code
            \`\`\`

            To delete a range of the user's code, use the following format:
            - Generate a codeblock with the original code.
            - Prefix the codeblock with a markdown comment of the form <!-- delete lines start to end -->
            - Start and end are line numbers in the user's original code.
            - Start and end are inclusive.
            - Single line deletions can be done by setting start and end to the same line number: <!-- delete lines X to X -->
            - The original code in the range will be deleted from the user's code.

            For example, to delete lines X to Y of the user's code, use the following format:
            <!-- delete lines X to Y -->
            \`\`\`language
            original code
            \`\`\`

            Remember:
            - Prefix comments must be placed directly above/after the code block respectively.
            - The first row of a codeblock must never be indented.
            - Code in codeblocks must not contain line numbers.
            - You must not return a codeblock containing the final code, but only individual codeblocks for each change.
        `.trim()}};d();var ele=ft(ef());var OG=class{static{o(this,"MetaPromptStrategy")}elidableContent(t){let r=K8(t.turns.slice(0,-1)),n=[];return r!==null&&n.push([r,.6]),new rr(n)}suffix(t){if(t.promptType!=="meta")throw new Error("Invalid prompt options for strategy");if(!t.supportedSkillDescriptors)throw new Error("Supported skills must be provided for meta prompts");return this.buildMetaPrompt(t.supportedSkillDescriptors)}buildMetaPrompt(t){return ele.default`
            Your task is to provide a helpful answer to the user's question.
            To help you create that answer, you can resolve skills that give you more context.
            Each skill has a description and some example user questions to help you understand when the skill may be useful. 
            
            List of available skills:
            ${t.map(r=>`${this.skillToPrompt(r)}
`).join(`
`)}
        `.trim()}createFunctionArgumentSchema(t){let r=pRe(t.map(n=>n.id));return T.Object({skillIds:T.Array(r,{description:"The skill ids to resolve ranked from most to least useful"})})}toolConfig(t){if(t.promptType!=="meta")throw new Error("Invalid prompt options for strategy");return{tool_choice:{type:"function",function:{name:"resolveSkills"}},tools:[{type:"function",function:{name:"resolveSkills",description:"Resolves the skills by id to help answer the user question.",parameters:this.createFunctionArgumentSchema(t.supportedSkillDescriptors)}}],extractArguments(r){return{skillIds:E8(r).skillIds}}}}skillToPrompt(t){let r=t.description?t.description():t.id,n=`Skill Id: ${t.id}
Skill Description: ${r}`,i=t.examples?t.examples():[];return i.length>0&&(n+=`
Skill Examples:
${i.map(s=>`  - ${s}`).join(`
`)}`),n}async promptContent(t,r,n){let i=t.conversation.getLastTurn().request.message,s=this.elidableContent(t.conversation);return[[{role:"system",content:r},{role:"user",content:s},{role:"system",content:this.suffix(n)},{role:"user",content:ele.default`
                    This is the user's question: 
                    ${on(i).trim()} 
                `.trim()}],[]]}};d();var yLe=ft(ef());var UG=class{static{o(this,"SuggestionsPromptStrategy")}toolConfig(){return{tool_choice:{type:"function",function:{name:"showSuggestions"}},tools:[{type:"function",function:{name:"showSuggestions",description:"Show the computed suggestions to the user",parameters:T.Object({suggestedTitle:T.String({description:"The suggested title for the conversation"}),followUp:T.String({description:"The suggested follow-up question for the conversation"})})}}],extractArguments(t){let r=E8(t);return{suggestedTitle:r.suggestedTitle,followUp:r.followUp}}}}suffix(t){return yLe.default`
            Your task is to come up with two suggestions:

            1) Suggest a title for the current conversation based on the history of the conversation so far.
                - The title must be a short phrase that captures the essence of the conversation.
                - The title must be relevant to the conversation context.
                - The title must not be offensive or inappropriate.
                - The title must be in the following locale: ${t.conversation.userLanguage}.

            2) Write a short one-sentence question that the user can ask as a follow up to continue the current conversation.
                - The question must be phrased as a question asked by the user, not by Copilot.
                - The question must be relevant to the conversation context.
                - The question must not be offensive or inappropriate.
                - The question must not appear in the conversation history.
                - The question must not have already been answered.
                - The question must be in the following locale: ${t.conversation.userLanguage}.
        `.trim()}async elidableContent(t){let r=K8(t.turns.slice()),n=[];return r!==null&&n.push([r,.6]),new rr(n)}async promptContent(t,r,n){return[[{role:"system",content:r},{role:"user",content:await this.elidableContent(t.conversation)},{role:"system",content:this.suffix(t)}],[]]}};d();var d_t=[{type:"function",function:{name:"queryWithKeywords",description:"Searches the workspace for synonyms and relevant keywords related to the original user query. These keywords could be used as file names, symbol names, abbreviations, or comments in the relevant code.",parameters:T.Object({keywords:T.Array(T.Object({keyword:T.String({description:"A keyword or phrase relevant to the original user query that a user could search to answer their question. Keywords are not generic and do not repeat."}),variations:T.Array(T.String(),{description:"An array of relevant variations of the keyword. Variations include synonyms and plural forms. Variations are not generic and do not repeat."})}))})}}],qG=class extends cE{static{o(this,"UserQuerySynonymsPromptStrategy")}suffix(){return`
You are a coding assistant that helps developers find relevant code in their workspace by providing a list of relevant keywords they can search for.
The user will provide you with potentially relevant information from the workspace. This information may be incomplete.

# Additional Rules

Think step by step:
1. Read the user's question to understand what they are asking about their workspace.
2. If there are pronouns in the question, such as 'it', 'that', 'this', try to understand what they refer to by looking at the rest of the question and the conversation history.
3. Output a list of up to 8 relevant keywords that the user could search to answer their question. These keywords could be used as file names, symbol names, abbreviations, or comments in the relevant code. Put the keywords most relevant to the question first. Do not include overly generic keywords. Do not repeat keywords.
4. For each keyword in the list of relevant keywords, output a list of relevant variations of the keyword if applicable. Consider synonyms and plural forms. Do not include overly generic variations. Do not repeat variations.

# Example

User: Where is the code for base64 encoding?

Response:

queryWithKeywords([
    { "keyword": "base64 encoding", "variations": ["base64 encoder", "base64 encode"] },
    { "keyword": "base64", "variations": ["base 64"] },
    { "keyword": "encode", "variations": ["encoding", "encoded", "encoder", "encoders"] }
]);
`.trim()}async promptContent(t,r,n){if(n.promptType!=="synonyms")throw new Error("Invalid prompt options for user query strategy");let i=t.conversation.getLastTurn().request.message;return[[{role:"system",content:r},{role:"system",content:this.suffix()},{role:"user",content:i}],[]]}toolConfig(t){if(t.promptType!=="synonyms")throw new Error("Invalid prompt options for user query strategy");return{tools:d_t,tool_choice:{type:"function",function:{name:"queryWithKeywords"}},extractArguments(r){let n=E8(r).keywords;if(!n||!Array.isArray(n))return{keywords:[]};let i=new Set;for(let s of n)if(!(!vF(s,"keyword")||!s.keyword||typeof s.keyword!="string")&&(i.add(s.keyword.toLowerCase()),!(!vF(s,"variations")||!s.variations||!Array.isArray(s.variations))))for(let a of s.variations)typeof a=="string"&&i.add(a.toLowerCase());return{keywords:Array.from(i)??[]}}}}};var tle=class{constructor(t,r,n){this.promptType=t;this.strategy=n;this.modelFamilies=Array.isArray(r)?r:[r]}static{o(this,"PromptStrategyDescriptor")}};function iS(e,t,r){return new tle(e,t,r)}o(iS,"descriptor");var CLe=[iS("user",Xo("user"),async()=>new QG),iS("inline",Xo("inline"),async()=>new MG),iS("meta",Xo("meta"),async()=>new OG),iS("suggestions",Xo("suggestions"),async()=>new UG),iS("synonyms",Xo("synonyms"),async()=>new qG)],GG=class{static{o(this,"DefaultPromptStrategyFactory")}async createPromptStrategy(t,r,n){let i=CLe.find(s=>s.promptType===r&&s.modelFamilies.includes(n));if(!i)throw new Error(`No prompt strategy found for promptType: ${r} and modelFamily: ${n}`);return i.strategy(t)}get descriptors(){return CLe}};var xLe=require("console");var Kl=class{constructor(t,r=new GG){this.ctx=t;this.promptStrategyFactory=r}static{o(this,"ConversationPromptEngine")}async toPrompt(t,r){let n=await this.promptStrategyFactory.createPromptStrategy(this.ctx,r.promptType,r.modelConfiguration.modelFamily),[i,s]=await n.promptContent(t,await this.safetyPrompt(r.userSelectedModelName??r.modelConfiguration.uiName),r),[a,l]=await this.elideChatMessages(i,r.modelConfiguration);return await this.ctx.get(La).inspectPrompt({type:r.promptType,prompt:ELe(a),tokens:l}),this.ctx.get(wl).addPrompt(t.turn.id,ELe(a),r.promptType),{messages:a,tokens:l,skillResolutions:s,toolConfig:n.toolConfig?.(r)}}async elideChatMessages(t,r){let n=t.filter(l=>!(typeof l.content=="string"||Array.isArray(l.content)));(0,xLe.assert)(n.length==1,"Only one elidable message is supported right now.");let i=this.computeNonElidableTokens(t,r),s=r.maxRequestTokens-i,a=t.map(l=>typeof l.content=="string"||Array.isArray(l.content)?l:{role:l.role,content:m_t(l.content.makePrompt(s))}).filter(l=>l.content.length>0);return[a,Vae(a,r)]}computeNonElidableTokens(t,r){let n=t.filter(i=>typeof i.content=="string");return n.push({role:"user",content:""}),Vae(n,r)}async safetyPrompt(t){let r=await this.ctx.get(In).getAuthRecord(),n=this.ctx.get(an).getEditorInfo().readableName??this.ctx.get(an).getEditorInfo().name,i=h_t(process.platform);return await sLe(this.ctx,n,r?.user,i,t)}};function m_t(e){return e.trimStart().replace(/^\[\.\.\.\]\n?/,"")}o(m_t,"processResultOfElidableText");function ELe(e){return e.map(t=>on(t.content)).join(`

`)}o(ELe,"debugChatMessages");function h_t(e){switch(e){case"darwin":return"macOS";case"win32":return"Windows";case"linux":return"Linux";case"freebsd":return"FreeBSD";case"openbsd":return"OpenBSD";case"sunos":return"SunOS";case"aix":return"AIX";default:return}}o(h_t,"mapPlatformToOs");var WG=class{constructor(t,r){this.ctx=t;this.chatFetcher=r}static{o(this,"TurnSuggestions")}async fetchRawSuggestions(t,r,n,i){let s=await this.ctx.get(Xn).getBestChatModelConfig(Xo("suggestions"),{tool_calls:!0}),a={promptType:"suggestions",modelConfiguration:s},l=await this.ctx.get(Kl).toPrompt(t,a),c=i.extendedBy({messageSource:"chat.suggestions"},{promptTokenLen:l.tokens}),u={modelConfiguration:s,messages:l.messages,uiKind:n,llmInteraction:t.toLlmInteraction()};if(l.toolConfig===void 0)throw new Error("No tool call configuration found in suggestions prompt.");u.tool_choice=l.toolConfig.tool_choice,u.tools=l.toolConfig.tools;let f=await this.chatFetcher.fetchResponse(u,r,c);if(f.type!=="success"&&(tn.error(this.ctx,"Failed to fetch suggestions, trying again..."),f=await this.chatFetcher.fetchResponse(u,r,c)),f.type==="success"){if(!f.toolCalls||f.toolCalls.length===0){tn.error(this.ctx,"Missing tool call in suggestions response");return}let m=f.toolCalls[0],{followUp:h,suggestedTitle:p}=l.toolConfig.extractArguments(m);if(!h||!p){tn.error(this.ctx,"Missing follow-up or suggested title in suggestions response");return}return{followUp:h.trim(),suggestedTitle:p.trim(),promptTokenLen:l.tokens,numTokens:f.numTokens+m.approxNumTokens}}else if(f.type==="successMultiple"){tn.error(this.ctx,"successMultiple response is unexpected for suggestions");return}else if(f.type==="tool_calls"){tn.error(this.ctx,"tool_calls response is unexpected for suggestions");return}else{tn.error(this.ctx,`Failed to fetch suggestions due to reason: ${f.reason}`);return}}};var X8=class{constructor(t,r,n){this.turnContext=t;this.chatFetcher=r;this.computeSuggestions=n}static{o(this,"ChatFetchResultPostProcessor")}async postProcess(t,r,n,i,s,a,l,c){switch(aRe(this.turnContext.ctx,l,a,t.type=="offTopic",t.requestId,c,s.extendedBy({},{fileCount:this.turnContext.ctx.get(Ma).workspaceCount})),await this.turnContext.ctx.get(La).inspectFetchResult(t),t.type){case"success":return await this.processSuccessfulFetchResult(n,t.numTokens,t.requestId,r,l,i,s,c);case"offTopic":return await this.processOffTopicFetchResult(s,l,c);case"canceled":return this.turnContext.turn.status="cancelled",this.turnContext.turn.response={message:"Cancelled",type:"user"},{error:{message:on(this.turnContext.turn.response?.message??""),type:this.turnContext.turn.response?.type}};case"failed":return this.turnContext.turn.status="error",this.turnContext.turn.response={message:t.reason,type:"server"},{error:{message:x8.translateErrorMessage(t.code,t.reason),code:t.code}};case"filtered":return this.turnContext.turn.status="filtered",{error:{message:"Oops, your response got filtered. Vote down if you think this shouldn't have happened.",responseIsFiltered:!0}};case"length":return this.turnContext.turn.status="error",{error:{message:"Oops, the response got too long. Try to reformulate your question.",responseIsIncomplete:!0}};case"agentAuthRequired":return this.turnContext.turn.status="error",this.turnContext.turn.response={message:"Authorization required",type:"server"},{error:{message:"Authorization required",responseIsFiltered:!1}};case"no_choices":return this.turnContext.turn.status="error",this.turnContext.turn.response={message:"No choices returned",type:"server"},{error:{message:"Oops, no choices received from the server. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0}};case"no_finish_reason":return this.turnContext.turn.status="error",n&&n.length>0?this.turnContext.turn.response={message:n,type:"model",references:this.turnContext.turn.response?.references}:this.turnContext.turn.response={message:"No finish reason",type:"server"},{error:{message:"Oops, unexpected end of stream. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0}};case"model_not_supported":return this.turnContext.turn.status="error",this.turnContext.turn.response={message:"Model not supported",type:"server"},{error:{message:"Oops, the model is not supported. Please try again.",code:400,reason:"model_not_supported",responseIsFiltered:!1}};case"successMultiple":case"tool_calls":case"unknown":return this.turnContext.turn.status="error",{error:{message:"Unknown server side error occurred. Please try again.",responseIsFiltered:!1}}}}async processSuccessfulFetchResult(t,r,n,i,s,a,l,c){if(t&&t.length>0){a.markAsDisplayed(),l.markAsDisplayed(),this.turnContext.turn.status="success",this.turnContext.turn.response={message:t,type:"model",references:this.turnContext.turn.response?.references},lRe(this.turnContext.ctx,this.turnContext.conversation,s,t,r,n,c,l);let u=this.computeSuggestions?await this.fetchSuggestions(i,s,a,c):void 0;if(u){let{followUp:f,suggestedTitle:m}=u;return{followup:f.message!==""?f:void 0,suggestedTitle:m!==""?m:void 0}}return{}}return this.turnContext.turn.status="error",this.turnContext.turn.response={message:"The model returned successful but did not contain any response text.",type:"meta"},{error:{message:on(this.turnContext.turn.response?.message??""),type:this.turnContext.turn.response?.type}}}async fetchSuggestions(t,r,n,i){let a=await new WG(this.turnContext.ctx,this.chatFetcher).fetchRawSuggestions(this.turnContext,t,r,n);if(a===void 0)return;let l=this.enrichFollowup(a,r,n,i);return tn.debug(this.turnContext.ctx,"Computed followup",l),tn.debug(this.turnContext.ctx,"Computed suggested title",a.suggestedTitle),{followUp:l,suggestedTitle:a.suggestedTitle}}enrichFollowup(t,r,n,i){let s=n.extendedBy({messageSource:"chat.suggestions",suggestionId:Tr(),suggestion:"Follow-up from model"},{promptTokenLen:t.promptTokenLen,numTokens:t.numTokens});return mRe(this.turnContext.ctx,r,s,i),{message:t.followUp,id:s.properties.suggestionId,type:s.properties.suggestion}}async processOffTopicFetchResult(t,r,n){let i="Sorry, but I can only assist with programming related questions.";return this.turnContext.turn.response={message:i,type:"offtopic-detection"},this.turnContext.turn.status="off-topic",cRe(this.turnContext.ctx,this.turnContext.conversation,r,i,t.properties.messageId,n,t),{error:{message:i,responseIsFiltered:!0}}}};var rle="generate-response",HG=class extends Error{constructor(r,n,i,s){super(r);this.authorizationUri=n;this.agentSlug=i;this.agentName=s}static{o(this,"RemoteAgentAuthorizationError")}},oS=class{constructor(t,r,n){this.agent=t;this.turnContext=r;this.chatFetcher=n;this.conversationProgress=r.ctx.get(Ps),this.chatFetcher=this.chatFetcher??new ua(r.ctx),this.postProcessor=new X8(r,this.chatFetcher,!1),this.conversation=r.conversation,this.turn=r.turn}static{o(this,"RemoteAgentTurnProcessor")}async process(t,r,n,i){try{await this.processWithAgent(t,r,this.turnContext,i)}catch(s){tn.error(this.turnContext.ctx,`Error processing turn ${this.turn.id}`,s);let a=s instanceof Error?s.message:String(s);this.turn.status="error",this.turn.response={message:a,type:"meta"},s instanceof HG?await this.endProgress({unauthorized:{authorizationUri:s.authorizationUri,agentSlug:s.agentSlug,agentName:s.agentName}}):await this.endProgress({error:{message:a,responseIsIncomplete:!0}})}}async processWithAgent(t,r,n,i){await this.conversationProgress.begin(this.conversation,this.turn,t);let s=await za(this.turnContext.ctx,this.turn.id,this.conversation.id,{languageId:i?.languageId??""});if(r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let a=await this.buildAgentPrompt(n);if(!a)await this.endTurnWithResponse(`No prompt created for agent ${this.agent.id}`,"error");else{let l={type:"user",prompt:JSON.stringify(a.messages,null,2),tokens:a.tokens};await n.ctx.get(La).inspectPrompt(l),await n.steps.start(rle,"Generating response");let c=this.augmentTelemetry(a,s,this.turn.template,i);if(r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let u=await this.fetchConversationResponse(n,a.messages,r,s.extendedBy({messageSource:"chat.user"},{promptTokenLen:a.tokens}),c,i);this.turn.status==="cancelled"&&this.turn.response?.type==="user"?await this.cancelProgress():(await this.finishGenerateResponseStep(u,n),await this.endProgress({error:u.error,followUp:u.followup,suggestedTitle:u.suggestedTitle,skillResolutions:a.skillResolutions}))}}async buildAgentPrompt(t){let r=this.createMessagesFromHistory(t),n=await this.computeCopilotReferences(t),i=this.getOrCreateAgentSessionId(t);return this.turn.agent&&(this.turn.agent.sessionId=i),this.turn.confirmationResponse?this.addConfirmationResponse(this.turn.confirmationResponse,r):r.push({role:"user",content:t.turn.request.message,copilot_references:n.length>0?n:void 0}),{messages:r,tokens:-1,skillResolutions:[]}}getOrCreateAgentSessionId(t){let r=this.turn.agent?.agentSlug;if(r){for(let n of t.conversation.turns)if(n.agent?.agentSlug===r&&n.agent.sessionId)return n.agent.sessionId}return Tr()}addConfirmationResponse(t,r){r.push({role:"user",content:"",copilot_confirmations:[t]})}createMessagesFromHistory(t){return jae(t.conversation.turns.slice(0,-1),this.agent.slug).flatMap(r=>{let n=[];if(r.request&&n.push({role:"user",content:r.request.message}),r.response&&r.response.type==="model"){let i=xNe(r.response.references);n.push({role:"assistant",content:r.response.message,copilot_references:i.length>0?i:void 0})}return n})}async computeCopilotReferences(t){return await RNe(t)}async endTurnWithResponse(t,r){this.turn.response={type:"meta",message:t},this.turn.status=r,await this.conversationProgress.report(this.conversation,this.turn,{reply:t}),await this.endProgress()}async fetchConversationResponse(t,r,n,i,s,a){n.onCancellationRequested(async()=>{await this.cancelProgress()});let l=new M8((m,h,p,A,E)=>{let x=E?{...E,agentSlug:this.agent.slug}:void 0;this.conversationProgress.report(this.conversation,this.turn,{reply:m,annotations:h,references:p,notifications:A.map(b=>({message:b.message,severity:"warning"})),confirmationRequest:x}),this.turn.response?(this.turn.response.message=Mq(this.turn.response.message,m),this.turn.response.references.push(...p)):this.turn.response={message:m,type:"model",references:p},this.turn.annotations.push(...h??[]),x&&(this.turn.confirmationRequest=x)}),c=await this.turnContext.ctx.get(jr).getGitHubToken(),u={engineName:"agents",endpoint:this.agent.endpoint??this.agent.slug,messages:r,uiKind:"conversationPanel",intentParams:{intent:!0,intent_threshold:.7,intent_content:on(this.turn.request.message)},authToken:c,copilot_thread_id:this.turn.agent?.sessionId,llmInteraction:t.toLlmInteraction()},f=await this.chatFetcher.fetchResponse(u,n,i,async(m,h)=>l.isFinishedAfter(m,h));return this.ensureAgentIsAuthorized(f),await this.postProcessor.postProcess(f,n,l.appliedText,i,s.extendedBy(this.addExtensibilityInfoTelemetry()),on(this.turn.request.message),"conversationPanel",a)}ensureAgentIsAuthorized(t){if(t.type==="agentAuthRequired")throw this.turnContext.turn.status="error",this.turnContext.turn.response={message:"Authorization required",type:"server"},new HG("Authorization required",t.authUrl,this.agent.slug,this.agent.name)}augmentTelemetry(t,r,n,i){return m_(this.conversation,"conversationPanel",on(this.turn.request.message).length,t.tokens,n?.templateId,void 0,r,t.skillResolutions)}addExtensibilityInfoTelemetry(){return{extensibilityInfoJson:JSON.stringify({agent:this.agent.slug,outgoingReferences:this.turn.request.references?.map(t=>t.type)??[],incomingReferences:this.turn.response?.references?.map(t=>t.type)??[]})}}async finishGenerateResponseStep(t,r){t.error?await r.steps.error(rle,t.error.message):await r.steps.finish(rle)}async endProgress(t){await this.turnContext.steps.finishAll(),await this.conversationProgress.end(this.conversation,this.turn,t)}async cancelProgress(){await this.turnContext.steps.finishAll("cancelled"),await this.conversationProgress.cancel(this.conversation,this.turn)}};var sS=class{constructor(t,r,n,i,s,a){this.id=t;this.slug=r;this.name=n;this.description=i;this.avatarUrl=s;this.endpoint=a}static{o(this,"RemoteAgent")}async additionalSkills(t){return[]}turnProcessor(t){return new oS(this,t)}},VG=class extends sS{static{o(this,"ExtensibilityPlatformAgent")}constructor(){super(0,"github","GitHub","Get answers grounded in web search, code search, and your enterprise's knowledge bases.","https://avatars.githubusercontent.com/u/9919?s=200&v=4","chat")}turnProcessor(t){return new oS(this,t)}};d();var p_t="github",eh=class{static{o(this,"RemoteAgentRegistry")}},jG=class extends eh{constructor(r){super();this.ctx=r;this._agents=void 0;this._lastFetchTime=0}static{o(this,"CapiRemoteAgentRegistry")}async agents(){return this.shouldRefreshAgents()&&(this._agents=await this.fetchAgents()),this._agents!=null?this._agents.slice():[]}shouldRefreshAgents(){return!this._agents||!this._lastFetchTime?!0:this.isLastFetchOlderOneHour()}isLastFetchOlderOneHour(){return Date.now()-this._lastFetchTime>36e5}async fetchAgents(){let r=await pC(this.ctx,"/agents");return r.ok?(this._lastFetchTime=Date.now(),this.parseAgents(await r.text())):(ei.error(this.ctx,"Failed to fetch agents from CAPI",{status:r.status,statusText:r.statusText}),[])}parseAgents(r){let n;try{n=JSON.parse(r).agents,Array.isArray(n)||ei.error(this.ctx,"Expected 'agents' to be an array")}catch(i){return r.includes("access denied")||ei.warn(this.ctx,"Invalid remote agent response:",r,i),[]}return n.filter(i=>i.slug!==p_t).map(i=>new sS(i.id,i.slug,i.name,i.description,i.avatar_url))}};var nle=class{constructor(){this.slug="project";this.name="Project";this.description="Ask about your project"}static{o(this,"ProjectAgent")}async additionalSkills(t){return[H8]}};async function $p(e){let t=[];t.push(new VG),t.push(...await e.get(eh).agents());let r=e.get(er),n=await r.updateExPValuesAndAssignments();return r.ideChatEnableProjectContext(n)&&t.push(new nle),t}o($p,"getAgents");d();var vLe=ft(F0());async function ile(e,t){let r=await e.get(In).checkAndUpdateStatus(e);if(r.status!=="OK")throw new vLe.ResponseError(Fr.NoCopilotToken,`Not authenticated: ${r.status}`)}o(ile,"verifyAuthenticated");function ui(e){return async(t,r,n)=>(await ile(t,r),e(t,r,n))}o(ui,"ensureAuthenticated");var g_t=T.Object({options:T.Optional(Dn)});async function A_t(e,t,r){return[(await $p(e)).map(s=>({slug:s.slug,name:s.name,description:s.description,avatarUrl:s.avatarUrl})),null]}o(A_t,"handleConversationAgentsChecked");var bLe=ui(ct(g_t,A_t));d();d();var $G=ft(F0());async function Kp(e,t){return await e.get(Wr).getTextDocumentWithValidation({uri:t})}o(Kp,"getTextDocumentChecked");function y_t(e,t,r){let n=rn.createAndMarkAsIssued({languageId:String(t.languageId),requestedDocumentVersion:String(r),actualDocumentVersion:String(t.version)});return Xt(e,"getCompletions.docVersionMismatch",n)}o(y_t,"telemetryVersionMismatch");async function Jp(e,t,r){let i=e.get(Wr).getOpenTextDocumentWithValidation(t);await ile(e,r);let s=await i;if(s.status==="notfound")throw new $G.ResponseError(Fr.InvalidParams,s.message);if(s.status==="invalid")throw e.get(Yi).setInactive(s.reason),new $G.ResponseError(Fr.CopilotNotAvailable,s.reason);if(t.version!==void 0&&s.document.version!==t.version)throw r.isCancellationRequested||(y_t(e,s.document,t.version),rf.debug(e,`Requested document version was ${t.version} but actual document version was ${s.document.version}.`)),new $G.ResponseError(Fr.ContentModified,"Document Version Mismatch");return s.document}o(Jp,"getOpenTextDocumentChecked");var C_t=T.Union([T.Literal("keyboard"),T.Literal("toolbar")]),E_t=T.Object({turnId:T.String(),codeBlockIndex:T.Number(),source:C_t,copiedCharacters:T.Number(),totalCharacters:T.Number(),copiedText:T.String(),doc:T.Optional(X0),options:T.Optional(Dn),conversationSource:T.Optional(Id)});async function x_t(e,t,r){let n;if(r.doc){let l=await Kp(e,r.doc.uri);if(l.status==="notfound")return[null,{code:Fr.InvalidParams,message:l.message}];l.status==="valid"&&(n=l.document)}let i={totalCharacters:r.totalCharacters,copiedCharacters:r.copiedCharacters};n&&r.doc?.position&&(i={...i,currentLine:r.doc.position.line});let s=hy(r.conversationSource),a=await za(e,r.turnId,e.get(Wi).findByTurnId(r.turnId)?.id??"",{languageId:n?.languageId??""});return Yu(e,n,{codeBlockIndex:r.codeBlockIndex.toString(),source:r.source,uiKind:s},i,`${Wc(s)}.acceptedCopy`,a),["OK",null]}o(x_t,"handleConversationCodeCopyChecked");var ILe=ui(ct(E_t,x_t));d();var v_t=T.Union([T.Literal("keyboard"),T.Literal("toolbar"),T.Literal("diff")]),b_t=T.Object({turnId:T.String(),source:v_t,codeBlockIndex:T.Number(),acceptedLength:T.Optional(T.Number()),totalCharacters:T.Number(),newFile:T.Optional(T.Boolean()),doc:T.Optional(X0),options:T.Optional(Dn),conversationSource:T.Optional(Id)});async function I_t(e,t,r){let n;if(r.doc){let l=await Kp(e,r.doc.uri);if(l.status==="notfound")return[null,{code:Fr.InvalidParams,message:l.message}];l.status==="valid"&&(n=l.document)}let i={totalCharacters:r.totalCharacters,acceptedLength:r.acceptedLength??r.totalCharacters};n&&r.doc?.position&&(i={...i,insertionOffset:n.offsetAt(r.doc.position),currentLine:r.doc.position.line});let s=hy(r.conversationSource),a=await za(e,r.turnId,e.get(Wi).findByTurnId(r.turnId)?.id??"",{languageId:n?.languageId??""});return Yu(e,n,{codeBlockIndex:r.codeBlockIndex.toString(),source:r.source,uiKind:s,compType:r.acceptedLength&&r.acceptedLength<r.totalCharacters?"partial":"full"},i,`${Wc(s)}.acceptedInsert`,a),["OK",null]}o(I_t,"handleConversationCodeInsertChecked");var TLe=ui(ct(b_t,I_t));d();d();d();d();function uE(){return Tr()}o(uE,"uuidV4");var zG=class{constructor(t,r){this.turnContext=t;this.strategy=r;this.conversationProgress=t.ctx.get(Ps),this.conversation=t.conversation,this.turn=t.turn}static{o(this,"AgenticTurnProcessor")}async process(t,r,n,i,s){try{await this.processWithModelAndToolCall(t,r,this.turnContext,n,i,s)}catch(a){tn.error(this.turnContext.ctx,`Error processing turn ${this.turn.id}`,a);let l=a instanceof Error?a.message:String(a);this.turn.status="error",this.turn.response={message:l,type:"meta"},await this.endProgress({error:{message:l,responseIsIncomplete:!0}})}}async processWithModelAndToolCall(t,r,n,i,s,a,l){if(await this.conversationProgress.begin(this.conversation,this.turn,t),r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}await N0(2e3);let c=uE(),u=uE(),f=uE(),m=uE(),h=uE(),p=uE();await this.conversationProgress.report(this.conversation,this.turn,{editAgentRounds:[{roundId:1,toolCalls:[{id:c,name:"get_errors",progressMessage:"Getting errors from file c:\\path\\to\\projects\\proj-1\\lib\\src\\conversation\\conversations.ts",status:"running"}]}]}),await this.conversationProgress.report(this.conversation,this.turn,{editAgentRounds:[{roundId:1,toolCalls:[{id:c,name:"get_errors",progressMessage:"Got 3 errors for file c:\\path\\to\\projects\\proj-1\\lib\\src\\conversation\\conversations.ts",status:"completed"}]}]}),await this.conversationProgress.report(this.conversation,this.turn,{editAgentRounds:[{roundId:2,reply:"The file has two main issues:"}]}),await this.conversationProgress.report(this.conversation,this.turn,{editAgentRounds:[{roundId:2,reply:"\n    1. **Expression Expected**: In the line `.filter(s => s.type === )`, the condition is incomplete, and an expression is expected after `===`"}]}),await this.conversationProgress.report(this.conversation,this.turn,{editAgentRounds:[{roundId:2,reply:"\n    2. **Type Mismatch**: In the line `turn.ignoredSkills = ignoreSkills.map(skillId => skillId);`, the `ignoreSkills` array of strings is being assigned to `turn.ignoredSkills`, which expects a type of `TurnSkill[]`. A conversion is needed to match the expected type."}]}),await this.conversationProgress.report(this.conversation,this.turn,{editAgentRounds:[{roundId:2,reply:`
I'll fix these issues now.`}]}),await N0(2e3),await this.conversationProgress.report(this.conversation,this.turn,{editAgentRounds:[{roundId:2,toolCalls:[{id:u,name:"edit_file",progressMessage:"Editing file c:\\path\\to\\projects\\proj-1\\lib\\src\\conversation\\conversations.ts",status:"running"}]}]}),await N0(2e3),await this.conversationProgress.report(this.conversation,this.turn,{editAgentRounds:[{roundId:2,toolCalls:[{id:u,name:"edit_file",progressMessage:"Edited file c:\\path\\to\\projects\\proj-1\\lib\\src\\conversation\\conversations.ts",status:"completed"}]}]}),await N0(2e3),await this.conversationProgress.report(this.conversation,this.turn,{editAgentRounds:[{roundId:3,toolCalls:[{id:f,name:"get_errors",progressMessage:"Getting errors from file c:\\path\\to\\projects\\proj-1\\lib\\src\\conversation\\conversations.ts",status:"running"}]}]}),await N0(2e3),await this.conversationProgress.report(this.conversation,this.turn,{editAgentRounds:[{roundId:3,toolCalls:[{id:f,name:"get_errors",progressMessage:"Getting errors from file c:\\path\\to\\projects\\proj-1\\lib\\src\\conversation\\conversations.ts",status:"completed"}]}]}),await N0(2e3),await this.conversationProgress.report(this.conversation,this.turn,{editAgentRounds:[{roundId:4,reply:"The following issues remain in the file:"}]}),await this.conversationProgress.report(this.conversation,this.turn,{editAgentRounds:[{roundId:4,reply:`
    1. issue 1`}]}),await this.conversationProgress.report(this.conversation,this.turn,{editAgentRounds:[{roundId:4,reply:`
    2. issue 2`}]}),await this.conversationProgress.report(this.conversation,this.turn,{editAgentRounds:[{roundId:4,reply:`
    3. issue 3`}]}),await this.conversationProgress.report(this.conversation,this.turn,{editAgentRounds:[{roundId:4,reply:`
I'll address these issues now.`}]}),await this.conversationProgress.report(this.conversation,this.turn,{editAgentRounds:[{roundId:4,toolCalls:[{id:m,name:"semantic_search",progressMessage:'Searching codebase for "TurnSkill"',status:"running"}]}]}),await N0(2e3),await this.conversationProgress.report(this.conversation,this.turn,{editAgentRounds:[{roundId:4,toolCalls:[{id:m,name:"semantic_search",progressMessage:'Searching codebase for "TurnSkill", 40 results found.',status:"completed"}]}]}),await N0(2e3),await this.conversationProgress.report(this.conversation,this.turn,{editAgentRounds:[{roundId:5,reply:"The search revealed that the `TurnSkill` type is not defined in the workspace. Additionally, the `ConversationSkillType` used in the `.filter(s => s.type === 'someType')` comparison has specific valid values, and `'someType'` is not one of them."}]}),await this.conversationProgress.report(this.conversation,this.turn,{editAgentRounds:[{roundId:5,reply:"\n\nI'll address these issues by:\n1. Defining or importing the `TurnSkill` type.\n2. Replacing `'someType'` with a valid value for `ConversationSkillType`.\n\nLet me proceed with these fixes."}]}),await N0(2e3),await this.conversationProgress.report(this.conversation,this.turn,{editAgentRounds:[{roundId:5,toolCalls:[{id:h,name:"edit_file",progressMessage:"Editing file c:\\path\\to\\projects\\proj-1\\lib\\src\\conversation\\conversations.ts",status:"running"}]}]}),await N0(2e3),await this.conversationProgress.report(this.conversation,this.turn,{editAgentRounds:[{roundId:5,toolCalls:[{id:h,name:"edit_file",progressMessage:"Edited file c:\\path\\to\\projects\\proj-1\\lib\\src\\conversation\\conversations.ts",status:"completed"}]}]}),await N0(2e3),await this.conversationProgress.report(this.conversation,this.turn,{editAgentRounds:[{roundId:6,toolCalls:[{id:p,name:"get_errors",progressMessage:"Getting errors from file c:\\path\\to\\projects\\proj-1\\lib\\src\\conversation\\conversations.ts",status:"running"}]}]}),await N0(2e3),await this.conversationProgress.report(this.conversation,this.turn,{editAgentRounds:[{roundId:6,toolCalls:[{id:p,name:"get_errors",progressMessage:"Getting errors from file c:\\path\\to\\projects\\proj-1\\lib\\src\\conversation\\conversations.ts, no errors found.",status:"completed"}]}]}),await N0(2e3),await this.conversationProgress.report(this.conversation,this.turn,{editAgentRounds:[{roundId:7,reply:"The issues in the file have been resolved successfully."}]}),await this.conversationProgress.report(this.conversation,this.turn,{editAgentRounds:[{roundId:7,reply:" No further errors were found after the fixes. Let me know if you need any additional assistance!"}]}),await this.endProgress({})}async endProgress(t){await this.turnContext.steps.finishAll(),await this.conversationProgress.end(this.conversation,this.turn,t)}async cancelProgress(){await this.turnContext.steps.finishAll("cancelled"),await this.conversationProgress.cancel(this.conversation,this.turn)}};d();d();var wLe="```",ole=String.raw`<!-- (?<mode>[\w-]+) lines? (?<start>\d+)(?: to (?<end>\d+))? -->`,T_t=String.raw`${wLe}[\w]*?\n(?<codeblock>[\s\S]*?)\n${wLe}`,w_t=new RegExp(ole+`
`+T_t,"gs"),sle=["replace","delete"];function ale(e,t){let r=e.matchAll(w_t),n=Array.from(r),i=[];for(let s of n){let a=s.groups;if(!a||!sle.includes(a.mode))continue;let l=a.start?parseInt(a.start)-1:-1,c=a.end?parseInt(a.end)-1:l,f=a.codeblock.split(`
`),m=f[0].match(/^\s*/)?.[0]??"";f.forEach((E,x)=>{f[x]=E.slice(m.length)});let h={mode:a.mode,codeblock:f.join(`
`),start:l,end:c},p=lle([h],t);if(!p)continue;let A={text:p,uri:t.uri};i.push({...h,updatedDocument:A})}return i}o(ale,"extractEditsFromTaggedCodeblocks");function lle(e,t){if(e.length===0)return;e.sort((n,i)=>n.start!==i.start?i.start-n.start:i.end-n.end);let r=t.getText().split(`
`);for(let n of e){let i=n.start,s=n.end,a=n.mode,l=n.codeblock.split(`
`);if(!(i<0||s<0||s<i)&&!(i>=r.length||s>=r.length)){if(a==="delete")r.splice(i,s-i+1);else if(a==="replace"){let c=r[i].match(/^\s*/)?.[0]??"";l.forEach((u,f)=>{l[f]=c+u}),r.splice(i,s-i+1,...l)}}}return r.join(`
`)}o(lle,"applyEditsToDocument");var cle="collect-context",ule="generate-response",YG=class{constructor(t,r,n){this.turnContext=t;this.strategy=r;this.chatFetcher=n;this.conversationProgress=t.ctx.get(Ps),this.chatFetcher=this.chatFetcher??new ua(t.ctx),this.postProcessor=new X8(t,this.chatFetcher,r.computeSuggestions),this.conversation=t.conversation,this.turn=t.turn}static{o(this,"ModelTurnProcessor")}async process(t,r,n,i,s){try{await this.processWithModel(t,r,this.turnContext,n,i,s)}catch(a){tn.error(this.turnContext.ctx,`Error processing turn ${this.turn.id}`,a);let l=a instanceof Error?a.message:String(a);this.turn.status="error",this.turn.response={message:l,type:"meta"},await this.endProgress({error:{message:l,responseIsIncomplete:!0}})}}async processWithModel(t,r,n,i,s,a){await this.conversationProgress.begin(this.conversation,this.turn,t);let l=await za(this.turnContext.ctx,this.turn.id,this.conversation.id,{languageId:s?.languageId??""});if(r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let c=J_().find(h=>h.id===this.turn.template?.templateId);if(c?.response){await this.handleTemplateResponse(c,this.turn.template.userQuestion,r);return}let u=(await $p(this.turnContext.ctx)).find(h=>h.slug===this.turn.agent?.agentSlug);if(u){let h=await this.checkAgentPreconditions(u);if(h){await this.endProgress(h);return}}await n.steps.start(cle,"Collecting context"),await this.collectContext(n,r,l,this.strategy.uiKind,c,u);let f=a?(await this.turnContext.ctx.get(Xn).getBestChatModelConfig([a])).uiName:void 0,m=await this.strategy.buildConversationPrompt(n,s?.languageId??"",void 0,f);if(!m)await n.steps.error(cle,"Failed to collect context"),await this.endTurnWithResponse(this.strategy.earlyReturnResponse,"error");else{await n.steps.finish(cle),await n.steps.start(ule,"Generating response");let h=this.augmentTelemetry(m,l,c,i,s);if(r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let p=await this.fetchConversationResponse(m.messages,r,l.extendedBy({messageSource:"chat.user"},{promptTokenLen:m.tokens}),h,s,a),A=await this.strategy.processResponse(this.turn);this.turn.status==="cancelled"&&this.turn.response?.type==="user"?await this.cancelProgress():(await this.finishGenerateResponseStep(p,n),await this.endProgress({error:p.error,followUp:p.followup,suggestedTitle:p.suggestedTitle,skillResolutions:m.skillResolutions,updatedDocuments:A}))}}async checkAgentPreconditions(t){try{let r=t.checkPreconditions?await t.checkPreconditions(this.turnContext.ctx,this.turn):void 0;if(r&&r.type==="authorizationRequired")return{unauthorized:{...r,agentName:t.name,agentSlug:t.slug}}}catch(r){tn.error(this.turnContext.ctx,`Error checking preconditions for agent ${t.slug}`,r);let n=r instanceof Error?r.message:String(r);return this.turn.status="error",this.turn.response={message:n,type:"meta"},{error:{message:n,responseIsIncomplete:!0}}}}async endTurnWithResponse(t,r){this.turn.response={type:"meta",message:t},this.turn.status=r,await this.conversationProgress.report(this.conversation,this.turn,{reply:t}),await this.endProgress()}async handleTemplateResponse(t,r,n){if(!t.response)return;let i=await t.response(this.turnContext,r,n);this.turn.response={type:"meta",message:i.message},this.turn.status=i.error?.responseIsFiltered?"filtered":i.error?.responseIsIncomplete?"error":"success",i.error?.responseIsFiltered||i.error?.responseIsIncomplete?(await this.conversationProgress.report(this.conversation,this.turn,{reply:"Sure, I can definitely do that!",annotations:i.annotations,notifications:i.notifications,references:i.references}),await this.turnContext.steps.finishAll(),await this.endProgress({error:{message:i.message,code:i.error?.code||0,responseIsIncomplete:i.error?.responseIsIncomplete,responseIsFiltered:i.error?.responseIsFiltered}})):(await this.conversationProgress.report(this.conversation,this.turn,{reply:i.message,annotations:i.annotations,notifications:i.notifications,references:i.references,confirmationRequest:i.confirmationRequest}),await this.endProgress())}async collectContext(t,r,n,i,s,a){let c=await new DG(this.turnContext.ctx,this.chatFetcher).collectContext(t,r,n,i,s,a);return this.turn.skills=c.skillIds.map(u=>({skillId:u})),c}async fetchConversationResponse(t,r,n,i,s,a){r.onCancellationRequested(async()=>{await this.cancelProgress()});let l="",c=0,u=new M8((p,A,E,x)=>{let b=p.trim().match(ole)!==null;if(this.conversationProgress.report(this.conversation,this.turn,{reply:p,annotations:A,references:E,hideText:b,notifications:x.map(v=>({severity:"warning",message:v.message}))}),this.turn.response?this.turn.response.message=Mq(this.turn.response.message,p):this.turn.response={message:p,type:"model"},this.turn.annotations.push(...A??[]),l+=p,this.strategy.currentDocument){let v=this.strategy.extractEditsFromResponse(l,this.strategy.currentDocument);v&&v.length>0&&(l="",this.conversationProgress.report(this.conversation,this.turn,{codeEdits:v}),c+=v.length)}}),f=await G1.getModelConfiguration(this.turnContext.ctx,"user",a);t=G1.transformMessages(t,f.modelFamily);let m={modelConfiguration:f,messages:t,uiKind:this.strategy.uiKind,intentParams:{intent:!0,intent_threshold:.7,intent_content:on(this.turn.request.message)},llmInteraction:this.turnContext.toLlmInteraction()},h=await this.chatFetcher.fetchResponse(m,r,n,async(p,A)=>u.isFinishedAfter(p,A));return i=i.extendedBy(void 0,{numCodeEdits:c}),await this.postProcessor.postProcess(h,r,u.appliedText,n,i,on(this.turn.request.message),this.strategy.uiKind,s)}augmentTelemetry(t,r,n,i,s){let a;return i?(this.turn.request.type="follow-up",uRe(this.turnContext.ctx,this.conversation,this.strategy.uiKind,on(this.turn.request.message),t.tokens,i.type,i.id,s,r),a=m_(this.conversation,this.strategy.uiKind,on(this.turn.request.message).length,t.tokens,i.type,i.id,r,t.skillResolutions)):a=m_(this.conversation,this.strategy.uiKind,on(this.turn.request.message).length,t.tokens,n?.id,void 0,r,t.skillResolutions),a}async finishGenerateResponseStep(t,r){t.error?await r.steps.error(ule,t.error.message):await r.steps.finish(ule)}async endProgress(t){await this.turnContext.steps.finishAll(),await this.conversationProgress.end(this.conversation,this.turn,t)}async cancelProgress(){await this.turnContext.steps.finishAll("cancelled"),await this.conversationProgress.cancel(this.conversation,this.turn)}};d();var KG=class{constructor(t){this.ctx=t;this.earlyReturnResponse="Oops, an error has occurred. Please try again";this.uiKind="conversationPanel";this.computeSuggestions=!0}static{o(this,"PanelTurnProcessorStrategy")}async processResponse(){return[]}async buildConversationPrompt(t,r,n,i){let s="user",a=await t.ctx.get(Xn).getBestChatModelConfig(Xo(s)),l={promptType:s,modelConfiguration:a,languageId:r,userSelectedModelName:i};return await this.ctx.get(Kl).toPrompt(t,l)}extractEditsFromResponse(t,r){return[]}},JG=class{constructor(t){this.ctx=t;this.earlyReturnResponse="Please open a file and select code for the inline chat to be available";this.uiKind="conversationInline";this.computeSuggestions=!1}static{o(this,"InlineTurnProcessorStrategy")}async buildConversationPrompt(t,r,n){let i=await this.getCurrentEditorSkill(t);if(!i)return;let s=await this.getDocumentIfValid(i.uri);if(!s)return;let a=n?.producesCodeEdits===!1?"user":"inline",l=await t.ctx.get(Xn).getBestChatModelConfig(Xo(a)),c={promptType:a,modelConfiguration:l,languageId:r};return c.promptType==="inline"&&(this.currentDocument=s),await this.ctx.get(Kl).toPrompt(t,c)}async processResponse(t){let r=[],n=on(t.response?.message??"");if(n&&t.status==="success"&&this.currentDocument){let i=await this.processInlineResponse(n,this.currentDocument);i&&r.push(i)}return r}async getCurrentEditorSkill(t){let r=await t.skillResolver.resolve(E0);if(r)return r}async getDocumentIfValid(t){let r=await this.ctx.get(zn).readFile(t);if(r.status==="valid")return r.document}async processInlineResponse(t,r){let i=ale(t,r).filter(a=>sle.includes(a.mode)),s=lle(i,r);if(s)return await this.ctx.get(La).documentDiff({original:r.getText(),updated:s}),{uri:r.uri,text:s}}extractEditsFromResponse(t,r){return ale(t,r)}};d();var BLe=ft(require("node:timers/promises"));d();var _Le=ft(F0()),SLe=ft(i1());var tc=class{constructor(t,r,n){this.ctx=t;this.skillId=r;this.requestType=new _Le.ProtocolRequestType("conversation/context");this.typeCheck=ta.Compile(n)}static{o(this,"AgentSkillResolver")}async resolveSkill(t){let r=this.ctx.get(Kr).connection,n={conversationId:t.conversation.id,turnId:t.turn.id,skillId:this.skillId},i;try{let s=await r.sendRequest(this.requestType,n),[a,l]=s;if(l){let c=new SLe.ResponseError(l.code,l.message,l.data);tn.error(this.ctx,`ResponseError while resolving skill ${this.skillId}`,c);return}i=a}catch(s){tn.error(this.ctx,`Error while resolving skill ${this.skillId}`,s);return}if(i!=null){if(!this.typeCheck.Check(i))throw new Xu(this.typeCheck.Errors(i));return i}}};var fle=class{constructor(t,r,n="",i="",s=[],a=[]){this.workDoneToken=t;this.chunks=r;this.followUp=n;this.suggestedTitle=i;this.skills=s;this.references=a}static{o(this,"SyntheticTurn")}},Xp=class{constructor(){this.turns=[]}static{o(this,"SyntheticTurns")}add(t,r,n="",i="",s=[],a=[]){this.turns.push(new fle(t,r,n,i,s,a))}get(t){return this.turns.find(r=>r.workDoneToken===t)}},XG=class{constructor(t){this.turnContext=t;this.conversationProgress=t.ctx.get(Ps)}static{o(this,"SyntheticTurnProcessor")}async process(t,r){try{let n=this.turnContext.ctx.get(Xp)?.get(t);await this.processWithSyntheticTurns(n,t,r)}catch(n){tn.error(this.turnContext.ctx,`Error processing turn ${this.turnContext.turn.id}`,n);let i=n.message;this.turnContext.turn.status="error",this.turnContext.turn.response={message:i,type:"meta"},await this.conversationProgress.end(this.turnContext.conversation,this.turnContext.turn,{error:{message:i,responseIsIncomplete:!0}})}}async processWithSyntheticTurns(t,r,n){await this.conversationProgress.begin(this.turnContext.conversation,this.turnContext.turn,r),await this.resolveSyntheticSkill(t,n),await this.processSyntheticChunks(t,n),await this.endSyntheticProgress(t,n),this.turnContext.turn.response={type:"model",message:t.chunks.join("")},this.turnContext.turn.status=n.isCancellationRequested?"cancelled":"success"}async resolveSyntheticSkill(t,r){let n=this.turnContext.ctx.get(Wi).getCapabilities(this.turnContext.conversation.id),i=t.skills.filter(s=>n.skills.includes(s));for(let s of i){let l=await new tc(this.turnContext.ctx,s,T.Object({value:T.String()})).resolveSkill(this.turnContext);l&&!r.isCancellationRequested&&await this.conversationProgress.report(this.turnContext.conversation,this.turnContext.turn,{reply:l.value})}}async processSyntheticChunks(t,r){for(let n of t.chunks)r.isCancellationRequested||(await this.conversationProgress.report(this.turnContext.conversation,this.turnContext.turn,{reply:n}),await BLe.setTimeout(1))}async endSyntheticProgress(t,r){r.isCancellationRequested?await this.conversationProgress.cancel(this.turnContext.conversation,this.turnContext.turn):await this.conversationProgress.end(this.turnContext.conversation,this.turnContext.turn,{followUp:{message:t.followUp,type:"followup",id:Tr()},suggestedTitle:t.suggestedTitle,updatedDocuments:this.turnContext.conversation.source==="inline"?[{uri:"fakeUpdatedDoc.ts",text:"fake"}]:void 0})}};var tA=class{static{o(this,"TurnProcessorFactory")}async createProcessor(t,r,n){if(t.ctx.get(Xp)?.get(r)!==void 0)return new XG(t);let a=(await $p(t.ctx)).find(c=>c.slug===t.turn.agent?.agentSlug);if(a?.turnProcessor)return a.turnProcessor(t);let l;return t.conversation.source==="inline"?l=new JG(t.ctx):l=new KG(t.ctx),t.turn.chatMode==="Agent"?new zG(t,l):(n!==void 0&&(l.computeSuggestions=n),new YG(t,l))}};d();d();var __t=Object.freeze(function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}),zc=class{constructor(t){this.tokens=[];this.handlers=[];this._isCancelled=!1;this.onCancellationRequested=o((t,r)=>this._isCancelled?__t(t,r):(this.handlers.push(t.bind(r)),{dispose:o(()=>{},"dispose")}),"onCancellationRequested");this.tokens=t,this._isCancelled=t.some(r=>r.isCancellationRequested),t.forEach(r=>{r.onCancellationRequested(n=>this.cancel(n))})}static{o(this,"MergedToken")}cancel(t){this._isCancelled||(this._isCancelled=!0,this.handlers.forEach(r=>r(t)))}get isCancellationRequested(){return this.tokens.some(t=>t.isCancellationRequested)}};var rc=class{constructor(){this.tokens=new kn(250)}static{o(this,"ProgressTokens")}add(t,r){let n=new si.CancellationTokenSource,i=new zc([r,n.token]);return this.tokens.set(t.toString(),n),i}cancel(t){let r=this.tokens.get(t.toString());r&&(r.cancel(),this.tokens.delete(t.toString()))}};var S_t=T.Object({workDoneToken:T.Union([T.String(),T.Number()]),turns:T.Array(bNe,{minItems:1}),options:T.Optional(Dn),capabilities:T.Object({allSkills:T.Optional(T.Boolean()),skills:T.Array(T.String())}),doc:T.Optional(X0),computeSuggestions:T.Optional(T.Boolean()),references:T.Optional(T.Array(O8)),source:T.Optional(Id),workspaceFolder:T.Optional(T.String()),ignoredSkills:T.Optional(T.Array(T.String())),userLanguage:T.Optional(T.String()),model:T.Optional(T.String()),chatMode:T.Optional(Oq)});async function B_t(e,t,r){let n;if(r.doc){let f=await Kp(e,r.doc.uri);if(f.status==="notfound")return[null,{code:Fr.InvalidParams,message:f.message}];f.status==="valid"&&(n=f.document)}r.capabilities.allSkills&&(r.capabilities.skills=e.get(Qa).getDescriptors().map(f=>f.id));let i=r.source??"panel",s=await e.get(Wi).create(r.capabilities,i,r.userLanguage);await k_t(e,s,r);let a=s.turns[s.turns.length-1],l=e.get(rc).add(r.workDoneToken,t),c=new J8(e,s,a,l);return await(await e.get(tA).createProcessor(c,r.workDoneToken,r.computeSuggestions)).process(r.workDoneToken,l,void 0,n,r.model),[{conversationId:s.id,turnId:a.id,agentSlug:a.agent?.agentSlug,modelFamily:r.model},null]}o(B_t,"handleConversationCreateChecked");async function k_t(e,t,r){for(let n of r.turns){let i=Qq(n.request),s=new G8({message:i,type:"user"});n.response&&(s.response={message:n.response,type:"model"}),n.agentSlug&&(s.agent={agentSlug:n.agentSlug}),s.chatMode=Kq(r.chatMode),await e.get(Wi).addTurn(t.id,s,r.references,r.workspaceFolder,r.ignoredSkills)}}o(k_t,"addTurns");var kLe=ui(ct(S_t,B_t));d();var R_t=T.Object({conversationId:T.String(),options:T.Optional(Dn)});async function D_t(e,t,r){return e.get(Wi).destroy(r.conversationId),["OK",null]}o(D_t,"handleConversationDestroyChecked");var RLe=ui(ct(R_t,D_t));d();var P_t=T.Object({options:T.Optional(Dn)});async function N_t(e,t,r){return[{path:e.get(Ka).directory},null]}o(N_t,"handleConversationPersistenceChecked");var DLe=ui(ct(P_t,N_t));d();d();var NLe=ft(require("node:events"));var dle=class{static{o(this,"TokenPreconditionCheck")}async check(t){let r=await t.get(In).getAuthRecord(),n=t.get(Ms),i=n.fallbackAppId();return r&&r.githubAppId&&r.githubAppId!==i?{type:"token",status:"ok"}:{type:"token",status:"failed",githubAppId:n.githubAppId}}},mle=class{static{o(this,"ChatEnabledPreconditionCheck")}async check(t){return{type:"chat_enabled",status:(await t.get(jr).getToken()).envelope.chat_enabled?"ok":"failed"}}},F_t=[new dle,new mle],PLe="onPreconditionsChanged",_d=class{constructor(t,r=F_t){this.ctx=t;this.checks=r;this.emitter=new NLe.default;Ha(t,async()=>{await this.check()})}static{o(this,"PreconditionsCheck")}check(t){return t&&(this.result=void 0),this.result===void 0&&(this.result=this.requestChecks()),this.result}async requestChecks(){let t=[];this.checks.length>0&&(t=await Promise.all(this.checks.map(i=>i.check(this.ctx))));let r=t.every(i=>i.status==="ok")?"ok":"failed",n={results:t,status:r};return this.emit(n),n}onChange(t){this.emitter.on(PLe,t)}emit(t){this.emitter.emit(PLe,t)}};var L_t=T.Object({options:T.Optional(Dn),forceCheck:T.Optional(T.Boolean())});async function Q_t(e,t,r){let n=r.forceCheck??!1;return[await e.get(_d).check(n),null]}o(Q_t,"handleConversationPreconditionsChecked");var FLe=ui(ct(L_t,Q_t));d();var M_t=T.Object({turnId:T.String(),rating:T.Number(),doc:T.Optional(X0),options:T.Optional(Dn),source:T.Optional(Id)});async function O_t(e,t,r){let n;if(r.doc){let l=await Kp(e,r.doc.uri);if(l.status==="notfound")return[null,{code:Fr.InvalidParams,message:l.message}];l.status==="valid"&&(n=l.document)}let i=hy(r.source),s="unrated";r.rating>0?s="positive":r.rating<0&&(s="negative");let a=await za(e,r.turnId,e.get(Wi).findByTurnId(r.turnId)?.id??"",{languageId:n?.languageId??""});return Yu(e,n,{rating:s,messageId:r.turnId,conversationId:e.get(Wi).findByTurnId(r.turnId)?.id??"",uiKind:i},{},`${Wc(i)}.messageRating`,a),["OK",null]}o(O_t,"handleConversationRatingChecked");var LLe=ui(ct(M_t,O_t));d();var U_t=T.Object({options:T.Optional(Dn)});async function q_t(e,t,r){return[_ae(e).map(i=>({id:i.id,description:i.description,shortDescription:i.shortDescription,scopes:i.scopes})),null]}o(q_t,"handleConversationTemplatesChecked");var QLe=ui(ct(U_t,q_t));d();var G_t=T.Object({workDoneToken:T.Union([T.String(),T.Number()]),conversationId:T.String(),message:Ose,followUp:T.Optional(T.Object({id:T.String(),type:T.String()})),options:T.Optional(Dn),doc:T.Optional(X0),computeSuggestions:T.Optional(T.Boolean()),references:T.Optional(T.Array(O8)),workspaceFolder:T.Optional(T.String()),ignoredSkills:T.Optional(T.Array(T.String())),confirmationResponse:gRe,model:T.Optional(T.String()),chatMode:T.Optional(Oq)});async function W_t(e,t,r){let n;if(r.doc){let m=await Kp(e,r.doc.uri);if(m.status==="notfound")return[null,{code:Fr.InvalidParams,message:m.message}];m.status==="valid"&&(n=m.document)}let i=e.get(Wi),s=i.get(r.conversationId),a=Qq(r.message),l=new G8({message:a,type:"user"});l.chatMode=Kq(r.chatMode),l=await i.addTurn(s.id,l,r.references,r.workspaceFolder,r.ignoredSkills,r.confirmationResponse);let c=e.get(rc).add(r.workDoneToken,t),u=new J8(e,s,l,c);return await(await e.get(tA).createProcessor(u,r.workDoneToken,r.computeSuggestions)).process(r.workDoneToken,c,r.followUp,n,r.model),[{conversationId:s.id,turnId:l.id,agentSlug:l.agent?.agentSlug,modelFamily:r.model},null]}o(W_t,"handleConversationTurnChecked");var MLe=ct(G_t,W_t);d();var H_t=T.Object({conversationId:T.String(),turnId:T.String(),options:T.Optional(Dn),source:T.Optional(Id)});async function V_t(e,t,r){e.get(Wi).deleteTurn(r.conversationId,r.turnId);let i=hy(r.source),s=await za(e,r.turnId,e.get(Wi).findByTurnId(r.turnId)?.id??"",{languageId:""});return Yu(e,void 0,{messageId:r.turnId,uiKind:i,conversationId:r.conversationId},{},`${Wc(i)}.messageDelete`,s),["OK",null]}o(V_t,"handleConversationTurnDeleteChecked");var OLe=ui(ct(H_t,V_t));d();var j_t=T.Object({document:T.Object({uri:T.String(),text:T.String(),languageId:T.String(),version:T.Number()}),selection:T.Object({start:T.Object({line:T.Number(),character:T.Number()}),end:T.Object({line:T.Number(),character:T.Number()})}),options:T.Optional(Dn)});function $_t(){return["You are a world-class software engineer and the author and maintainer of the discussed code. Your feedback prefectly combines detailed feedback and explanation of context.",'When asked for your name, you must respond with "GitHub Copilot".',"Follow the user's requirements carefully & to the letter.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal.","Use Markdown formatting in your answers.","Make sure to include the programming language name at the start of the Markdown code blocks.","Avoid wrapping the whole response in triple backticks.","The user works in an IDE called Visual Studio Code which has a concept for editors with open files, integrated unit test support, an output pane that shows the output of running the code as well as an integrated terminal.","The active document is the source code the user is looking at right now.","You can only give one reply for each conversation turn.","","Additional Rules","Think step by step:","1. Examine the provided code and any other context like user question, related errors, project details, class definitions, etc.","2. Provide feedback on the current selection on where it can be improved or introduces a problem.","2a. Avoid commenting on correct code.","2b. Avoid commenting on commented out code.","2c. Keep scoping rules in mind.","3. Reply with an enumerated list of feedback with source line number, filepath, kind (bug, performance, consistency, documentation, naming, readability, style, other), severity (low, medium, high), and feedback text.","3a. E.g.: 1. Line 357 in src/flow.js, bug, high severity: `i` is not incremented.","3b. E.g.: 2. Line 361 in src/arrays.js, documentation, low severity: Function `binarySearch` is not documented.","3c. E.g.: 3. Line 176 in src/vs/platform/actionWidget/browser/actionWidget.ts, consistency, medium severity: The color id `'background.actionBar'` is not consistent with the other color ids used. Use `'actionBar.background'` instead.","3d. E.g.: 4. Line 410 in src/search.js, documentation, medium severity: Returning `-1` when the target is not found is a common convention, but it should be documented.","3e. E.g.: 5. Line 51 in src/account.py, bug, high severity: The deposit method is not thread-safe. You should use a lock to ensure that the balance update is an atomic operation.","3f. E.g.: 6. Line 220 in src/account.py, readability, low severity: The withdraw method is very long and combines multipe logical steps, consider splitting it into multiple methods.","4. Try to sort the feedback by file and line number.",'5. When there is no feedback to provide, reply with "No feedback to provide."',"","Focus on being clear, helpful, and thorough.","Use developer-friendly terms and analogies in your explanations.","Provide clear and relevant examples when helpful."].join(`
`)}o($_t,"buildSystemMessage");function z_t(e){let r=e.document.text.split(`
`).slice(e.selection.start.line,e.selection.end.line+1),n=e.selection.start.line+1,i=e.selection.end.line+1,s=r.map((a,l)=>{let c=e.selection.start.line+l+1;return`/* ${c>n&&c<i?"Selected ":""}Line ${c} */${a}`}).join(`
`);return["<currentChange>","Current selection with the selected lines labeled as such:","",`From the file: ${e.document.uri}`,`\`\`\`${e.document.languageId}/${e.document.uri}: FROM_LINE: ${n} - TO_LINE: ${i}`,s,"```","","</currentChange>"].join(`
`)}o(z_t,"buildUserMessage");function Y_t(e,t){let r=[],n=e.text.split(`
`),i=/(\d+)\.\s*Line\s*(\d+)\s*in\s*([^,]+),\s*(\w+),\s*(\w+)\s*severity:\s*((?:[^`.\n]|`[^`]*`|\.(?=\s*[A-Z]))+)(?:\.|$)/gm,s;for(;(s=i.exec(t))!==null;){let[a,l,c,u,f,m,h]=s;if(!["bug","performance","consistency","documentation","naming","readability","style","other"].includes(f.toLowerCase()))continue;let p=parseInt(c)-1;if(p<0||p>=n.length)continue;let A=n[p],E=Math.max(A.search(/\S/),0),x=A.trimEnd().length,b={uri:e.uri,range:{start:{line:p,character:E},end:{line:p,character:x}},message:h.trim(),kind:f.toLowerCase(),severity:m.toLowerCase()};r.push(b)}return r}o(Y_t,"parseReviewComments");async function K_t(e,t,r){if(!r.document.text)return[null,{code:Fr.InvalidRequest,message:"Document text is required"}];if(!r.document.uri)return[null,{code:Fr.InvalidRequest,message:"Document URI is required"}];if(!r.document.languageId)return[null,{code:Fr.InvalidRequest,message:"Document language ID is required"}];let n=r.document.text.split(`
`);if(r.selection.start.line<0||r.selection.end.line>=n.length)return[null,{code:Fr.InvalidRequest,message:"Invalid selection range"}];if(r.selection.start.line>r.selection.end.line)return[null,{code:Fr.InvalidRequest,message:"Selection start line must be before end line"}];let i=e.get(ua),s=await e.get(Xn).getBestChatModelConfig([Qi.Gpt4]),a=[{role:"system",content:$_t()},{role:"user",content:z_t(r)}],l=await e.get(er).updateExPValuesAndAssignments(),c=await i.fetchResponse({modelConfiguration:s,messages:a,uiKind:"conversationPanel",intentParams:{intent:!0},llmInteraction:Y0.user("code-review",Tr())},t,l);if(c.type!=="success")return[null,{code:Fr.InternalError,message:"Failed to generate code review"}];let u=Y_t(r.document,c.value);return u.sort((f,m)=>f.range.start.line-m.range.start.line),[{comments:u},null]}o(K_t,"handleCopilotCodeReviewChecked");var ULe=ui(ct(j_t,K_t));d();d();var Ry=class{constructor(t,r,n,i,s){this.ctx=t;this.editConversation=r;this.currentTurn=n;this.partialResultToken=i;this.userSelectedModel=s;this.workingSetUriToPathMap=new Map;for(let a of n.workingSet)this.workingSetUriToPathMap.set(a.uri,q1.uriToPath(a.uri))}static{o(this,"EditTurnContext")}get editTurnId(){return this.currentTurn.id}get editConversationId(){return this.editConversation.id}mapToUriInWorkingSet(t){for(let[r,n]of this.workingSetUriToPathMap)if(n===t)return r}toLlmInteraction(){return Y0.user("conversation-edit-panel",this.editTurnId)}};d();async function ZG(e,t,r,n){let s=e.get(Fa).create("panel","en"),a=new yy({message:"",type:"user"},[]),l="file:///path/to/HelloWorld.java",c=new Ry(e,s,a,n,Qi.Gpt4o),u=e.get(bl);await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"edit-plan-generated",editDescription:`### [HelloWorld.java](${l})

Complete the \`main\` method to print "Hello, World!" to the console.`,uri:l}),await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"updated-code-generated",uri:l,partialText:`public class HelloWorld {
    public static void main(String[] args) {
        System.out.println("Hello, World!");
    }
}`,languageId:"java",markdownCodeFence:"```"});let f="file:///path/to/HelloWorld.py";await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"edit-plan-generated",editDescription:`### [HelloWorld.py](${f})

Complete the \`main\` method to print "Hello, World!" to the console.`,uri:f}),await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"updated-code-generating",uri:f,partialText:`def main():
`,languageId:"python",markdownCodeFence:"```"}),await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"updated-code-generating",uri:f,partialText:`    println("Hello, World!")
`,languageId:"python",markdownCodeFence:"```"}),await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"updated-code-generated",uri:f,partialText:"",languageId:"python",markdownCodeFence:"```"})}o(ZG,"streamMockedResult");d();var J_t=T.Object({enableMock:T.Boolean()}),Zp=class{constructor(){this.enableMock=!1}static{o(this,"CopilotEditsMockManager")}isMockEnabled(){return this.enableMock}setMockEnabled(t){this.enableMock=t}};async function X_t(e,t,r){return e.get(Zp).setMockEnabled(r.enableMock),["OK",null]}o(X_t,"handleTestingSetCopilotEditsResponseChecked");var qLe=ct(J_t,X_t);var Z_t=T.Object({request:T.String(),response:T.Optional(T.String())}),eSt=T.Union([T.Literal("panel")]),tSt=T.Object({partialResultToken:T.Union([T.String(),T.Number()]),turns:T.Array(Z_t,{minItems:1}),workingSet:T.Optional(T.Array(H_)),source:T.Optional(eSt),workspaceFolder:T.Optional(T.String()),userLanguage:T.Optional(T.String()),model:T.Optional(T.String())});function rSt(e,t){let r=e.create(t.source,t.userLanguage);for(let n of t.turns){let i=new yy({message:n.request,type:"user"},t.workingSet);n.response&&(i.response={message:n.response,type:"model"}),t.workspaceFolder&&(i.workspaceFolder=t.workspaceFolder),e.addTurn(r.id,i)}return r}o(rSt,"buildEditConversation");async function nSt(e,t,r){if(e.get(Zp).isMockEnabled())return await ZG(e,Tr(),Tr(),r.partialResultToken),[[],null];let n=rSt(e.get(Fa),r),i=n.getLastTurn(),s=new Ry(e,n,i,r.partialResultToken,r.model),a=e.get(rc).add(r.partialResultToken,t);return[await e.get(W1).createOrContinueEditConversation(s,a),null]}o(nSt,"handleEditConversationCreateChecked");var GLe=ui(ct(tSt,nSt));d();var iSt=T.Object({editConversationId:T.String()});async function oSt(e,t,r){return e.get(Fa).destroy(r.editConversationId),["OK",null]}o(oSt,"handleEditConversationDestroyChecked");var WLe=ui(ct(iSt,oSt));d();var sSt=T.Object({partialResultToken:T.Union([T.String(),T.Number()]),editConversationId:T.String(),message:T.String(),workingSet:T.Optional(T.Array(H_)),workspaceFolder:T.Optional(T.String()),userLanguage:T.Optional(T.String()),model:T.Optional(T.String())});function aSt(e,t,r){let n=e.get(t),i=new yy({message:r.message,type:"user"},r.workingSet);return r.workspaceFolder&&(i.workspaceFolder=r.workspaceFolder),e.addTurn(n.id,i),n}o(aSt,"buildEditConversation");async function lSt(e,t,r){if(e.get(Zp).isMockEnabled())return await ZG(e,r.editConversationId,Tr(),r.partialResultToken),[[],null];let n=e.get(Fa),i=aSt(n,r.editConversationId,r),s=i.getLastTurn(),a=new Ry(e,i,s,r.partialResultToken,r.model),l=e.get(rc).add(r.partialResultToken,t);return[await e.get(W1).createOrContinueEditConversation(a,l),null]}o(lSt,"handleEditConversationTurnChecked");var HLe=ui(ct(sSt,lSt));d();var cSt=T.Object({editConversationId:T.String(),editTurnId:T.String(),options:T.Optional(Dn),source:T.Optional(Id)});async function uSt(e,t,r){e.get(Fa).deleteTurn(r.editConversationId,r.editTurnId);let i=await za(e,r.editTurnId,r.editConversationId,{languageId:""});return Yu(e,void 0,{messageId:r.editTurnId,uiKind:"editsPanel",conversationId:r.editConversationId},{},`${Wc("editsPanel")}.copilotEditsMessageDelete`,i),["OK",null]}o(uSt,"handleEditConversationTurnDeleteChecked");var VLe=ui(ct(cSt,uSt));d();var fSt=T.Object({options:T.Optional(Dn)});async function dSt(e,t,r){let n=await e.get(jr).getToken();return[mSt(await e.get(xu).getMetadata(),n),null]}o(dSt,"handleCopilotModelsChecked");function mSt(e,t){let r=new Map,n=[];e.forEach(a=>{if(a.model_picker_enabled===!0){let l=[];a.capabilities.type==="chat"?(l.push("chat-panel"),l.push("edit-panel"),l.push("inline"),r.set(a.capabilities.family,{modelFamily:a.capabilities.family,modelName:a.name,modelPolicy:a.policy,scopes:l,id:a.id,preview:a.preview??!1,capabilities:{supports:{vision:a.capabilities.supports?.vision??!1}}})):a.capabilities.type!=="completion"&&n.push({modelFamily:a.capabilities.family,modelName:a.name,modelPolicy:a.policy,scopes:l,id:a.id,preview:a.preview??!1,capabilities:{supports:{vision:a.capabilities.supports?.vision??!1}}})}});let i=t.getTokenValue("editor_preview_features")=="0";return qf.filterCompletionModels(e,i).forEach(a=>{n.push({modelFamily:a.capabilities.family,modelName:a.name,modelPolicy:a.policy,scopes:["completion"],id:a.id,preview:a.preview??!1,capabilities:{supports:{vision:a.capabilities.supports?.vision??!1}}})}),[...r.values(),...n]}o(mSt,"filterModels");var jLe=ui(ct(fSt,dSt));d();var hSt=T.Object({model:T.Optional(T.String()),status:T.Optional(T.String())});async function pSt(e,t,r){return r.model&&r.status==="enabled"?await e.get(xu).acceptModelPolicy(r.model)?["OK",null]:[null,{code:Fr.InternalError,message:"Failed to accept model policy"}]:[null,{code:Fr.InvalidRequest,message:"Invalid model or status"}]}o(pSt,"handleCopilotModelsPolicyChecked");var $Le=ui(ct(hSt,pSt));d();d();var rA=10;function zLe(e){switch(e){case 2:return"open copilot";default:return"unknown"}}o(zLe,"completionTypeToString");var hle=class{constructor(t,r,n){this.appendToCompletion="";this.indentation=null;this.completionType=2;this.position=oo.position(r.line,r.character),this.completionType=n}static{o(this,"CompletionContext")}};function eW(e,t,r){let n=r,i=t.lineAt(r.line);return i.isEmptyOrWhitespace||(n=i.range.end),new hle(e,n,2)}o(eW,"completionContextForDocument");d();var ple=new Er("solutions");async function*gSt(e){for await(let t of e){let r={...t};r.completionText=r.completionText.trimEnd(),yield r}}o(gSt,"trimChoices");var Z8=class{constructor(t,r,n,i,s){this.textDocument=t;this.startPosition=r;this.completionContext=n;this.cancellationToken=i;this.solutionCountTarget=s}static{o(this,"SolutionManager")}get savedTelemetryData(){return this._savedTelemetryData}set savedTelemetryData(t){this._savedTelemetryData=t}};function tW(e){return e.replace(/\s+/g,"")}o(tW,"normalizeCompletionText");async function ASt(e,t){let r=t.completionContext.position,n=t.completionContext.indentation,i=t.textDocument,s=e5(e,i.uri),a=Tr(),l=rn.createAndMarkAsIssued({headerRequestId:a,languageId:i.languageId,source:zLe(t.completionContext.completionType)},{});t.savedTelemetryData=await e.get(er).updateExPValuesAndAssignments({uri:i.uri,languageId:i.languageId},l);let c=await oI(e,i,r,t.savedTelemetryData);if(c.type==="copilotContentExclusion")return{status:"FinishedNormally"};if(c.type==="contextTooShort")return{status:"FinishedWithError",error:"Context too short"};if(c.type==="promptCancelled")return{status:"FinishedWithError",error:"Prompt cancelled"};if(c.type==="promptTimeout")return{status:"FinishedWithError",error:"Prompt timeout"};if(c.type==="promptError")return{status:"FinishedWithError",error:"Prompt error"};let u=c.prompt,f=c.trailingWs;f.length>0&&(t.startPosition=oo.position(t.startPosition.line,t.startPosition.character-f.length));let m=t.cancellationToken;t.savedTelemetryData=t.savedTelemetryData.extendedBy({},{...Wv(u),solutionCount:t.solutionCountTarget,promptEndPos:i.offsetAt(r)}),ple.debug(e,"prompt:",u),Xt(e,"solution.requested",t.savedTelemetryData);let h=await e.get(xm).forLanguage(e,i.languageId,t.savedTelemetryData),p=ip.isSupportedLanguageId(i.languageId),A=yT(i,r),E={stream:!0,extra:{language:i.languageId,next_indent:A.next??0,prompt_tokens:u.prefixTokens??0,suffix_tokens:u.suffixTokens??0}};h==="parsing"&&!p&&(E.stop=[`

`,`\r
\r
`]);let x=Z2(e,t.savedTelemetryData),b={prompt:u,languageId:i.languageId,repoInfo:s,ourRequestId:a,engineModelId:x.modelId,count:t.solutionCountTarget,uiKind:"synthesize",postOptions:E,requestLogProbs:!0,headers:x.headers},v;switch(h){case"server":v=o(async re=>{},"finishedCb"),E.extra.force_indent=A.prev??-1,E.extra.trim_by_indentation=!0;break;case"parsingandserver":v=p?AT(e,i,t.startPosition,!1):async re=>{},E.extra.force_indent=A.prev??-1,E.extra.trim_by_indentation=!0;break;case"parsing":default:v=p?AT(e,i,t.startPosition,!1):async re=>{};break}let S=t.savedTelemetryData,k=await e.get(Jf).fetchAndStreamCompletions(e,b,S.extendedBy(),v,m);if(k.type==="failed"||k.type==="canceled")return{status:"FinishedWithError",error:`${k.type}: ${k.reason}`};let P=k.choices;P=gSt(P),n!==null&&(P=FCe(P,n)),P=GC(P,async re=>kQ(e,i,r,re,!1,ple));let N=GC(P,async re=>{let ge=re.completionText;ple.info(e,`Open Copilot completion: [${re.completionText}]`);let te=await nEe(e,i,r,re.completionText)??oo.position(r.line,0),[G]=c4(i.getText(oo.range(te,r)));ge=G+ge;let q=re.completionText;f.length>0&&q.startsWith(f)&&(q=q.substring(f.length));let se=re.meanLogProb,ne=se!==void 0?Math.exp(se):0,H=S.extendedBy({choiceIndex:re.choiceIndex.toString()});return{completionText:q,insertText:ge,range:oo.range(te,r),meanProb:ne,meanLogProb:se||0,requestId:re.requestId,choiceIndex:re.choiceIndex,telemetryData:H,copilotAnnotations:re.copilotAnnotations}});return KLe(m,N[Symbol.asyncIterator]())}o(ASt,"launchSolutions");async function YLe(e,t){let r=await e;switch(r.status){case"Solution":await t.onSolution(r.solution),await YLe(r.next,t);break;case"FinishedNormally":await t.onFinishedNormally();break;case"FinishedWithError":await t.onFinishedWithError(r.error);break}}o(YLe,"reportSolutions");async function rW(e,t,r){return e.get(Yi).withProgress(async()=>{let i=ASt(e,t);return await YLe(i,r)})}o(rW,"runSolutions");async function KLe(e,t){if(e.isCancellationRequested)return{status:"FinishedWithError",error:"Cancelled"};let r=await t.next();return r.done===!0?{status:"FinishedNormally"}:{status:"Solution",solution:r.value,next:KLe(e,t)}}o(KLe,"generateSolutionsStream");var XLe=ft(T2()),lS=ft(F0());d();d();function nW(e,t){let r=e.split(`
`),n=t,i=t,s=r[t.line],a=s.indexOf("%");a!==-1&&(s=s.substring(0,a)+s.substring(a+1),n={line:t.line,character:a});let l=s.indexOf("^");if(l!==-1){let c=s.indexOf("^",l+1);if(c===-1)throw new Error("Challenge document must contain zero or two ^ characters.");s=s.substring(0,l)+s.substring(l+1,c)+s.substring(c+1),n={line:t.line,character:t.character},i={line:t.line,character:t.character+c-l-1}}return{cursorLine:s,lines:r,start:n,end:i}}o(nW,"parseChallengeDoc");var ySt=T.Object({text:T.String(),score:T.Number()}),CSt=T.Object({documents:T.Array(ySt),options:T.Optional(T.Object({}))});async function iW(e,t,r){let n=Tr();for(let i=0;i<t.length&&i<10;i++){let{text:s,score:a}=t[i],{cursorLine:l,lines:c,start:u}=nW(s,e),f=[l.slice(Math.min(u.character,e.character))].concat(c.slice(e.line+1)).join(`
`);r.offset=c.slice(0,e.line).reduce((m,h)=>m+h.length+1,0)+u.character,await r.onSolution({requestId:{headerRequestId:n,completionId:Tr(),created:0,serverExperiments:"",deploymentId:""},completionText:f,insertText:f,range:{start:e,end:e},meanProb:a,meanLogProb:-1,choiceIndex:i,telemetryData:Jg.createEmptyConfigForTesting()})}await r.onFinishedNormally()}o(iW,"runTestSolutions");var th=class{constructor(t){this.documents=t}static{o(this,"ExternalTestingPanelCompletionDocuments")}};async function ESt(e,t,r){return e.forceSet(th,new th(r.documents)),["OK",null]}o(ESt,"handleTestingSetPanelCompletionDocumentsChecked");var JLe=ct(CSt,ESt);var ZLe=BD.type;function xSt(e,t,r,n,i){let s=tW(n.completionText),a=(0,XLe.SHA256)(s).toString();return e.get(qo).set(a,{displayText:n.completionText,insertText:n.insertText,offset:r,uuid:a,range:n.range,uri:t.textDocument.uri,telemetry:n.telemetryData.extendedBy({},{rank:i-1}),index:n.choiceIndex,position:t.position,resultType:0,triggerCategory:"solution",copilotAnnotations:n.copilotAnnotations}),{range:n.range,insertText:n.insertText,command:{command:Lse,title:`Accept completion ${i}`,arguments:[a]}}}o(xSt,"makeCompletion");function Ale(e,t){return`${e}/${t}`}o(Ale,"progressMessage");var gle=class{constructor(t,r,n){this.ctx=t;this.params=r;this.onCompletion=n;this.offset=0;this.count=0;this.items=new Map}static{o(this,"SolutionHandler")}get service(){return this.ctx.get(Kr)}async onSolution(t){this.count+=1;let r=xSt(this.ctx,this.params,this.offset,t,this.items.size+1);this.items.has(r.command.arguments[0])||(this.items.set(r.command.arguments[0],r),await this.onCompletion(r)),this.params.workDoneToken!==void 0&&await this.service.connection.sendProgress(lS.WorkDoneProgress.type,this.params.workDoneToken,{kind:"report",message:Ale(this.count,rA),percentage:Math.round(100*this.count/rA)})}onFinishedNormally(){return vSt(this.params.workDoneToken,this.service,this.count)}async onFinishedWithError(t){if(this.error=t,this.params.workDoneToken!==void 0)return this.service.connection.sendProgress(lS.WorkDoneProgress.type,this.params.workDoneToken,{kind:"end",message:`Error: ${t}`})}};async function vSt(e,t,r=0){e!==void 0&&await t.connection.sendProgress(lS.WorkDoneProgress.type,e,{kind:"end",message:Ale(r,rA)})}o(vSt,"reportDone");var aS;async function bSt(e,t,r){let n=await Jp(e,r.textDocument,t),i=r.position;r.workDoneToken!==void 0&&await e.get(Kr).connection.sendProgress(lS.WorkDoneProgress.type,r.workDoneToken,{kind:"begin",title:"GitHub Copilot Completions Panel",cancellable:!0,message:Ale(0,rA),percentage:0});let s=[],a=o(async f=>{s.push(f)},"onCompletion"),l=r.partialResultToken;l!==void 0&&(a=o(async f=>{await e.get(Kr).connection.sendProgress(BD.partialResult,l,{items:[f]})},"onCompletion"));let c=new gle(e,r,a),u=e.get(th);if(u.documents){let f=u.documents;await iW(i,f,c)}else{c.offset=n.offsetAt(i);let f=eW(e,n,i),m=new Z8(n,i,f,t,rA);await rW(e,m,c)}return c.error!==void 0?[null,{code:Fr.InternalError,message:c.error}]:[{items:s},null]}o(bSt,"handleChecked");async function ISt(e,t,r){aS&&(aS.cancel(),aS.dispose()),aS=new si.CancellationTokenSource;let n=aS.token,i=new zc([t,n]);try{return await bSt(e,i,r)}catch(s){if(n.isCancellationRequested&&!t.isCancellationRequested)return[null,{code:Fr.ServerCancelled,message:"Request was superseded by a new request"}];throw s}}o(ISt,"handleCheckedWithAbort");var eQe=ct(fAe,ISt);d();d();d();function wSt(e){let t=e.get(Rn).getLoginReachabilityUrl(),r=e.get(Rn).getAPIUrl(),n=e.get(Rn).getLastKnownEndpointUrl("proxy","_ping"),i=e.get(Rn).getLastKnownEndpointUrl("api","_ping"),s=e.get(Rn).getLastKnownEndpointUrl("telemetry","_ping");function a(l){return new URL(l).host}return o(a,"label"),[{label:a(t),url:t},{label:a(r),url:r},{label:a(n),url:n},{label:a(i),url:i},{label:a(s),url:s}]}o(wSt,"urlsToCheck");async function tQe(e){let t=wSt(e).map(async({label:r,url:n})=>{let{message:i,status:s}=await _St(e,n);return{label:r,url:n,message:i,status:s}});return await Promise.all(t)}o(tQe,"checkReachability");async function _St(e,t){try{let r=await e.get(Nr).fetch(t,{}),n=r.status>=200&&r.status<400?"reachable":"unreachable";return{message:`HTTP ${r.status}`+(r.statusText?` - ${r.statusText}`:""),status:n}}catch(r){return{message:String(r),status:"unreachable"}}}o(_St,"determineReachability");var Sd=ft(require("os")),e6=ft(require("tls"));async function rQe(e){return{sections:[SSt(e),BSt(),await RSt(e),kSt(),DSt(e),await PSt(e)]}}o(rQe,"collectDiagnostics");function nQe(e){return e.sections.map(NSt).join(Sd.EOL+Sd.EOL)}o(nQe,"formatDiagnosticsAsMarkdown");function SSt(e){return{name:"Copilot",items:{Version:dC(e),Build:Qf(e),Editor:n0(e)["Editor-Version"]}}}o(SSt,"collectCopilotSection");function BSt(){return{name:"Environment",items:{http_proxy:nA("http_proxy"),https_proxy:nA("https_proxy"),no_proxy:nA("no_proxy"),SSL_CERT_FILE:nA("SSL_CERT_FILE"),SSL_CERT_DIR:nA("SSL_CERT_DIR"),OPENSSL_CONF:nA("OPENSSL_CONF")}}}o(BSt,"collectEnvironmentSection");function kSt(){return{name:"Node setup",items:{"Number of root certificates":e6.rootCertificates.length,"Operating system":Sd.type(),"Operating system version":Sd.release(),"Operating system architecture":Sd.arch(),NODE_OPTIONS:nA("NODE_OPTIONS"),NODE_EXTRA_CA_CERTS:nA("NODE_EXTRA_CA_CERTS"),NODE_TLS_REJECT_UNAUTHORIZED:nA("NODE_TLS_REJECT_UNAUTHORIZED"),"tls default min version":e6.DEFAULT_MIN_VERSION,"tls default max version":e6.DEFAULT_MAX_VERSION}}}o(kSt,"collectNodeSection");async function RSt(e){let t={};try{let r=await e.get(jr).getToken();t["Send Restricted Telemetry"]=r.getTokenValue("rt")==="1"?"enabled":"disabled",t.Chat=r.envelope?.chat_enabled?"enabled":void 0,t["Content exclusion"]=r.envelope?.copilotignore_enabled?"enabled":"unavailable"}catch{}return Object.keys(t).forEach(r=>t[r]===void 0&&delete t[r]),{name:"Feature Flags",items:t}}o(RSt,"collectFeatureFlagsSection");function DSt(e){let t=e.get(Nr);return{name:"Network Configuration",items:{"Proxy host":t.proxySettings?.host,"Proxy port":t.proxySettings?.port,"Kerberos SPN":t.proxySettings?.kerberosServicePrincipal,"Reject unauthorized":t.rejectUnauthorized?"enabled":"disabled",Fetcher:t.name}}}o(DSt,"collectNetworkConfigSection");async function PSt(e){return{name:"Reachability",items:Object.fromEntries((await tQe(e)).map(({label:r,status:n,message:i})=>[r,i]))}}o(PSt,"collectReachabilitySection");function nA(e){let t=Object.keys(process.env).find(r=>r.toLowerCase()===e.toLowerCase());return t?process.env[t]:void 0}o(nA,"findEnvironmentVariable");function NSt(e){return`## ${e.name}`+Sd.EOL+Sd.EOL+Object.keys(e.items).filter(t=>t!=="name").map(t=>`- ${t}: ${e.items[t]??"n/a"}`).join(Sd.EOL)}o(NSt,"formatSectionAsMarkdown");var FSt=T.Object({});async function LSt(e){return[{report:nQe(await rQe(e))},null]}o(LSt,"handleDiagnosticsChecked");var iQe=ct(FSt,LSt);d();d();d();d();function oQe(e,t,r){function n(s,a,l){let c=new RegExp(`^(${a})+`,"g");return s.split(`
`).map(u=>{let f=u.replace(c,""),m=u.length-f.length;return l(m)+f}).join(`
`)}o(n,"replace");let i;if(e.tabSize===void 0||typeof e.tabSize=="string"?i=4:i=e.tabSize,e.insertSpaces===!1){let s=o(a=>n(a," ",l=>"	".repeat(Math.floor(l/i))+" ".repeat(l%i)),"r");t.displayText=s(t.displayText),t.completionText=s(t.completionText)}else if(e.insertSpaces===!0){let s=o(a=>n(a,"	",l=>" ".repeat(l*i)),"r");if(t.displayText=s(t.displayText),t.completionText=s(t.completionText),r){let a=o(l=>{if(l==="")return l;let c=l.split(`
`)[0],u=c.length-c.trimStart().length,f=u%i;if(f!==0&&u>0){let m=" ".repeat(f);return n(l,m,h=>" ".repeat((Math.floor(h/i)+1)*i))}else return l},"re");t.displayText=a(t.displayText),t.completionText=a(t.completionText)}}return t}o(oQe,"normalizeIndentCharacter");function sQe(e,t,r,n,i,s,a){let l=n.lineAt(i),c=t.map(u=>{let f=oo.range(oo.position(i.line,0),oo.position(i.line,i.character+u.suffixCoverage)),m="";if(s&&(u.completion=oQe(s,u.completion,l.isEmptyOrWhitespace)),l.isEmptyOrWhitespace&&(u.completion.displayNeedsWsOffset||u.completion.completionText.startsWith(l.text)))m=u.completion.completionText;else{let p=oo.range(f.start,i);m=n.getText(p)+u.completion.displayText}return{uuid:Tr(),insertText:m,range:f,uri:n.uri,index:u.completion.completionIndex,telemetry:u.telemetry,displayText:u.completion.displayText,position:i,offset:n.offsetAt(i),resultType:r,copilotAnnotations:u.copilotAnnotations}});if(r===2&&a!==void 0){let u=c.find(f=>f.index===a);if(u){let f=c.filter(m=>m.index!==a);c=[u,...f]}}return c}o(sQe,"completionsFromGhostTextResults");async function yle(e,t,r,n,i={}){i={...i,positionBeforeApplyingEdits:r};let s=0;if(i.selectedCompletionInfo?.text){let h={range:i.selectedCompletionInfo.range,newText:i.selectedCompletionInfo.text};({textDocument:t,position:r}=LF(t,h.range.end,[h])),s=r.character-h.range.end.character}let a=await vee(e,t,r,n,i);if(a.type!=="success")return a;let[l,c]=a.value;if(n?.isCancellationRequested)return{type:"canceled",reason:"after getGhostText",telemetryData:{telemetryBlob:a.telemetryBlob}};let u=cIe(e,t,r,c),f=sQe(e,l,c,t,r,i.formattingOptions,u);if(f.length===0)return{type:"empty",reason:"no completions in final result",telemetryData:a.telemetryData};let m=f.map(h=>{let{start:p,end:A}=h.range,E=si.Range.create(p,si.Position.create(A.line,A.character-s));return{...h,range:E}});return{...a,value:m}}o(yle,"getInlineCompletionsResult");async function oW(e,t,r,n,i={}){QSt(e,t,r);let s=await yle(e,t,r,n,i);return YCe(e,s)}o(oW,"getInlineCompletions");function QSt(e,t,r){let n=t.getText({start:{line:Math.max(r.line-1,0),character:0},end:r}),i=t.getText({start:r,end:{line:Math.min(r.line+2,t.lineCount-1),character:t.lineCount-1>r.line?0:r.character}});SF.debug(e,`Requesting for ${t.uri} at ${r.line}:${r.character}`,`between ${JSON.stringify(n)} and ${JSON.stringify(i)}.`)}o(QSt,"logCompletionLocation");var dQe=ft(F0());d();var aQe=require("crypto");var t6=class{static{o(this,"LspClientContextProvider")}constructor(t,r,n){this.id=r,this.selector=n,this.resolver=new Ele(t,this.id)}},Ele=class{constructor(t,r){this.ctx=t;this.id=r;this.contextItems=[];this.update=!1}static{o(this,"LspClientContextResolver")}async resolve(t,r){let n=[];if(this.contextItems.length>0)n=this.contextItems;else if(this.update){let i=this.ctx.get(Kr),s=(0,aQe.randomUUID)(),a=i.connection.onProgress(wD.type,s,l=>{n.push(...l)});r.onCancellationRequested(()=>{a?.dispose()});try{let l=await i.connection.sendRequest(wD.type,{providerId:this.id,data:this.data,textDocument:{uri:t.documentContext.uri,languageId:t.documentContext.languageId,version:t.documentContext.version},position:t.documentContext.position,partialResultToken:s},r);n.push(...l)}finally{a?.dispose()}}return this.reset(),Promise.resolve(n)}setContextItems(t){this.contextItems=t}clearContextItems(){this.contextItems=[]}setUpdate(t){this.update=t}clearData(){this.data=void 0}reset(){this.clearContextItems(),this.clearData(),this.setUpdate(!1)}};function r6(e,t,r){try{let n=e.get(gl),i=new Map;n.providers.forEach(s=>{i.set(s.id,s)}),t.providers.forEach(s=>{let a=i.get(s.id);a&&a instanceof t6&&a.resolver.setContextItems(s.contextItems)}),t.updating&&t.updating.length>0&&t.updating.forEach(s=>{let a=i.get(s);a&&a instanceof t6&&(a.resolver.setUpdate(!0),a.resolver.data=r)})}catch(n){ei.error(e,"Failed to set context items on context providers",n)}}o(r6,"setContextItems");var Cle={nocase:!0,matchBase:!0,nonegate:!0,dot:!0};async function lQe(e,t,r){return t.map(i=>{try{if(typeof i=="string")return na(r.uri,i,Cle);if(typeof i=="object"){let s=!0;return"language"in i&&(s&&=r.languageId==(i.language||"")),"scheme"in i&&(s&&=na(r.uri,i.scheme||"",Cle)),"pattern"in i&&(s&&=na(r.uri,i.pattern||"",Cle)),s}}catch{return!1}return!1}).some(Boolean)?10:0}o(lQe,"match");d();var MSt=T.Object({documents:T.Array(T.String()),basename:T.Optional(T.String()),options:T.Optional(T.Object({}))}),Dy=class{constructor(t,r){this.documents=t;this.basename=r}static{o(this,"ExternalTestingCompletionDocuments")}};async function OSt(e,t,r){return e.forceSet(Dy,new Dy(r.documents,r.basename||"")),["OK",null]}o(OSt,"handleTestingSetCompletionDocumentsChecked");var cQe=new Er("setCompletionDocuments"),fQe=ct(MSt,OSt);function sW(e,t,r,n){let i=e.get(Dy);if(i.documents){let s=n?3:1;if(r&&i.basename&&i.basename.trim().length>0){cQe.debug(e,`Returning filtered completions by basename ${i.basename}`);let a=USt(i,r);return a&&a.length>0?uQe(a,s,t):void 0}else return cQe.debug(e,"Returning completions for all pre-set documents"),uQe(i.documents,s,t)}}o(sW,"getTestCompletions");function uQe(e,t,r){return e.slice(0,t).map(n=>{let{cursorLine:i,lines:s,start:a,end:l}=nW(n,r);return{insertText:[i.slice(Math.min(a.character,r.character))].concat(s.slice(r.line+1)).join(`
`),range:{start:a,end:l}}})}o(uQe,"sliceAndMapCompletions");function USt(e,t){return e.basename===ea(t)?e.documents||[]:[]}o(USt,"getFilteredDocs");var mQe=T.Object({doc:T.Object({position:Pf,insertSpaces:T.Optional(T.Boolean()),tabSize:T.Optional(T.Number()),uri:x7,version:T.Number()}),contextItems:T.Optional(wX),options:T.Optional(Dn)}),cS;async function hQe(e,t,r,n){cS&&(cS.cancel(),cS.dispose()),cS=new si.CancellationTokenSource;let i=new zc([t,cS.token]);r.contextItems&&r6(e,r.contextItems);let s=sW(e,r.doc.position,r.doc.uri,n);if(s)return[{completions:s.map(h=>({uuid:Tr(),text:h.insertText,displayText:h.insertText,position:r.doc.position,range:h.range,docVersion:r.doc.version}))},null];let a;try{a=await Jp(e,r.doc,i)}catch(m){if(!(m instanceof dQe.ResponseError))throw m;switch(m.code){case Fr.CopilotNotAvailable:case Fr.ContentModified:return[{completions:[]},null]}throw m}let l=r.doc.position,c=await oW(e,a,l,i,{isCycling:n,formattingOptions:r.doc});if(!c)return[{completions:[]},null];let u=e.get(qo);for(let m of c)u.set(m.uuid,{...m,triggerCategory:"ghostText"});return[{completions:c.map(m=>({uuid:m.uuid,text:m.insertText,range:m.range,displayText:m.displayText,position:m.position,docVersion:a.version}))},null]}o(hQe,"handleGetCompletionsHelper");var pQe=ct(mQe,(e,t,r)=>hQe(e,t,r,!1)),gQe=ct(mQe,(e,t,r)=>hQe(e,t,r,!0));d();var AQe=ft(T2()),n6=ft(F0());var qSt=T.Object({doc:T.Object({position:Pf,uri:x7,version:T.Number()}),panelId:T.String(),options:T.Optional(Dn)});function GSt(e,t,r,n,i){let s=tW(i.completionText),a=(0,AQe.SHA256)(s).toString();return e.get(qo).set(a,{displayText:i.insertText,insertText:i.completionText,offset:n,uuid:a,range:r,uri:t.doc.uri,telemetry:i.telemetryData,index:i.choiceIndex,position:r.end,resultType:0,triggerCategory:"solution",copilotAnnotations:i.copilotAnnotations}),{panelId:t.panelId,range:r,completionText:i.completionText,displayText:i.insertText,score:i.meanProb,solutionId:a}}o(GSt,"makeSolution");var xle=class{constructor(t,r,n){this.ctx=t;this.params=r;this.range=n;this.offset=0}static{o(this,"SolutionHandler")}get service(){return this.ctx.get(Kr)}onSolution(t){return this.service.connection.sendNotification(new n6.NotificationType("PanelSolution"),GSt(this.ctx,this.params,this.range,this.offset,t))}onFinishedNormally(){return yQe(this.params.panelId,this.service)}onFinishedWithError(t){return this.service.connection.sendNotification(new n6.NotificationType("PanelSolutionsDone"),{status:"Error",message:t,panelId:this.params.panelId})}};async function yQe(e,t){return t.connection.sendNotification(new n6.NotificationType("PanelSolutionsDone"),{status:"OK",panelId:e})}o(yQe,"reportDone");var uS;async function WSt(e,t,r){uS&&(uS.cancel(),uS.dispose()),uS=new si.CancellationTokenSource;let n=new zc([t,uS.token]),i=r.doc.position,s=oo.range(i,i),a=new xle(e,r,s),l=e.get(th);if(l.documents){let c=l.documents;iW(i,c,a)}else{let c;try{c=await Jp(e,r.doc,n)}catch(m){if(!(m instanceof n6.ResponseError))throw m;switch(m.code){case Fr.CopilotNotAvailable:case Fr.ContentModified:return HSt(e,r)}throw m}a.offset=c.offsetAt(i);let u=eW(e,c,i),f=new Z8(c,i,u,n,rA);rW(e,f,a)}return[{solutionCountTarget:rA},null]}o(WSt,"handleGetPanelCompletionsChecked");async function HSt(e,t){return await yQe(t.panelId,e.get(Kr)),[{solutionCountTarget:0},null]}o(HSt,"produceEmptySolutions");var CQe=ct(qSt,WSt);d();var VSt=T.Object({});async function jSt(e,t,r){return[{version:e.get(io).getDisplayVersion(),buildType:Qf(e),runtimeVersion:`node/${process.versions.node}`},null]}o(jSt,"handleGetVersionChecked");var EQe=ct(VSt,jSt);d();var $St=T.Object({changes:T.Array(T.String()),userCommits:T.Array(T.String()),recentCommits:T.Array(T.String()),workspaceFolder:T.Optional(T.String()),options:T.Optional(Dn)});function zSt(){return["You are an AI programming assistant, helping a software developer to come up with the best git commit message for their code changes.","You excel in interpreting the purpose behind code changes to craft succinct, clear commit messages that adhere to the repository's guidelines.","","# First, think step-by-step:","1. Analyze the CODE CHANGES thoroughly to understand what's been modified.","2. Identify the purpose of the changes to answer the *why* for the commit messages, also considering the optionally provided RECENT USER COMMITS.","3. Review the provided RECENT REPOSITORY COMMITS to identify established commit message conventions. Focus on the format and style, ignoring commit-specific details like refs, tags, and authors.","4. Generate a thoughtful and succinct commit message for the given CODE CHANGES. It MUST follow the established writing conventions.","5. Remove any meta information like issue references, tags, or author names from the commit message. The developer will add them.","6. Now only show your message, wrapped with a single markdown ```text codeblock! Do not provide any explanations or details"].join(`
`)}o(zSt,"buildSystemMessage");function YSt(e,t){let r=[];return e.userCommits.length>0&&r.push("# RECENT USER COMMITS (For reference only, do not copy!):",e.userCommits.map(n=>`- ${n}`).join(`
`),""),e.recentCommits.length>0&&r.push("# RECENT REPOSITORY COMMITS (For reference only, do not copy!):",e.recentCommits.map(n=>`- ${n}`).join(`
`),""),r.push("# CODE CHANGES:",e.changes.join(`
`),"","<reminder>","Now generate a commit message that describes the CODE CHANGES.","DO NOT COPY commits from RECENT COMMITS, but use them as reference for the commit style.","ONLY return a single markdown code block, NO OTHER PROSE!","```text","commit message goes here","```","</reminder>"),t&&r.push("<custom-instructions>",t,"</custom-instructions>"),r.join(`
`)}o(YSt,"buildUserMessage");async function KSt(e,t,r){if(r.changes.length===0)return[null,{code:Fr.InvalidRequest,message:"No changes provided"}];let n=new ua(e),i=await e.get(Xn).getBestChatModelConfig([Qi.Gpt4oMini,Qi.Gpt4o,Qi.Gpt4]),s=r.workspaceFolder?[r.workspaceFolder]:[process.cwd()],a=await Y8.getInstructions(e,s,{includeCodeGenerationInstructions:!1,includeCommitMessageGenerationInstructions:!0,customIntroduction:"When generating the commit message, please use the following custom instructions provided by the user."}),l=[{role:"system",content:zSt()},{role:"user",content:YSt(r,a)}],c=await e.get(er).updateExPValuesAndAssignments(),u=await n.fetchResponse({modelConfiguration:i,messages:l,uiKind:"conversationPanel",intentParams:{intent:!0},llmInteraction:Y0.user("git-commit",Tr())},t,c);if(u.type!=="success")return[null,{code:Fr.InternalError,message:"Failed to generate commit message"}];let f=u.value.match(/```text\n([\s\S]*?)\n```/);return[{commitMessage:f?f[1].trim():u.value.trim()},null]}o(KSt,"handleGitCommitGenerateChecked");var xQe=ui(ct($St,KSt));d();var bQe=Kz.type,fS;function vQe(e){return{title:"Completion Accepted",command:G_,arguments:[e]}}o(vQe,"makeCommand");async function JSt(e,t,r){fS&&(fS.cancel(),fS.dispose());let n=r.context.triggerKind===1;fS=new si.CancellationTokenSource;let i=fS.token,s=new zc([t,i]);r.contextItems&&r6(e,r.contextItems,r.data);let a=sW(e,r.position,r.textDocument.uri,n);if(a)return[{items:a.map(p=>({command:vQe(Tr()),...p}))},null];let l=await Jp(e,r.textDocument,s),c=r.position,u=await oW(e,l,c,s,{isCycling:n,selectedCompletionInfo:r.context.selectedCompletionInfo,formattingOptions:r.formattingOptions,data:r.data});if(!u)return t.isCancellationRequested?[null,{code:Fr.RequestCancelled,message:"Request was canceled"}]:i.isCancellationRequested?[null,{code:Fr.ServerCancelled,message:"Request was superseded by a new request"}]:[{items:[]},null];let f=e.get(qo);for(let h of u)f.set(h.uuid,{...h,triggerCategory:"ghostText"});return[{items:u.map(h=>({command:vQe(h.uuid),insertText:h.insertText,range:h.range}))},null]}o(JSt,"handleChecked");var IQe=ct(eL,(e,t,r)=>JSt(e,t,r));d();var TQe=Zz.type,dS;async function ZSt(e,t,r){dS&&(dS.cancel(),dS.dispose());let n=r.context.triggerKind===1;dS=new si.CancellationTokenSource;let i=dS.token,s=new zc([t,i]);r.contextItems&&r6(e,r.contextItems);let a=await Jp(e,r.textDocument,s),l=await yle(e,a,r.position,s,{promptOnly:!0,isCycling:n,selectedCompletionInfo:r.context.selectedCompletionInfo,formattingOptions:r.formattingOptions,data:r.data});if(l.type!=="promptOnly")throw new Error(`Unexpected result type ${l.type}`);return[{prompt:l.prompt},null]}o(ZSt,"handleChecked");var wQe=ct(eL,(e,t,r)=>ZSt(e,t,r));d();d();function vle(e){let t=e.indexOf("-----BEGIN CERTIFICATE-----")+27,r=e.indexOf("-----END CERTIFICATE-----"),n=30,i=e.substring(t,t+n)+"..."+e.substring(r-n,r-1);return i6(i)}o(vle,"asReadableCert");function i6(e){return e.replace(/\s/g,"")}o(i6,"normalizeNewlines");var tBt=T.Object({});async function rBt(e){return[{certificates:(await e.get(Na).getAllRootCAs()).map(i6)},null]}o(rBt,"handleListCertificatesChecked");var _Qe=ct(tBt,rBt);d();async function nBt(e,t,r){let n=e.get($1);if(r.textDocument.version===void 0)throw new Error("textDocument.version is undefined");let i=mm(r.textDocument.uri);e.get(mp).onUserPositionChange(i,new so(r.position.line,r.position.character));let s=await n.handleNextEditRequest(i,r.textDocument.version,t);return s?[{edits:s.map(l=>({text:l.edit.text,textDocument:l.edit.textDocument,range:l.edit.range,command:{title:"Accept inline edit",command:G_,arguments:[l.id]}}))},null]:[{edits:[]},null]}o(nBt,"handleChecked");var SQe=ct(uAe,nBt);d();var iBt=T.Object({uuid:T.String({minLength:1}),acceptedLength:T.Optional(T.Number({minimum:1})),options:T.Optional(Dn)});async function oBt(e,t,r){let n=e.get(qo),i=n.get(r.uuid);if(i){n.delete(r.uuid);let s=sBt(r,i);f4(e,i.triggerCategory,i.insertText,i.offset,i.uri,i.telemetry,s,i.copilotAnnotations)}return["OK",null]}o(oBt,"notifyAcceptedChecked");function sBt(e,t){return e.acceptedLength===void 0?{compType:"full"}:e.acceptedLength<t.insertText.length?{compType:"partial",acceptedLength:e.acceptedLength}:{compType:"full"}}o(sBt,"getSuggestionStatus");var BQe=ct(iBt,oBt);d();var aBt=T.Object({uuids:T.Array(T.String()),options:T.Optional(Dn)});async function lBt(e,t,r){let n=e.get(qo),i=r.uuids.flatMap(s=>n.get(s)??[]);if(i.length>0){let s=i[0];for(let l of r.uuids)n.delete(l);let a=i.map(l=>({completionText:l.displayText,completionTelemetryData:l.telemetry}));RQ(e,"ghostText",s.offset,s.uri,a),e.get(q0).resetState()}return["OK",null]}o(lBt,"notifyRejectedChecked");var kQe=ct(aBt,lBt);d();var cBt=T.Object({uuid:T.String({minLength:1}),options:T.Optional(Dn)});async function uBt(e,t,r){let i=e.get(qo).get(r.uuid);return i&&BF(e,i.triggerCategory,i),["OK",null]}o(uBt,"notifyShownChecked");var RQe=ct(cBt,uBt);d();var fBt=jEe;async function dBt(e,t,r){let n=e.get(gl),i={unregistered:[],registered:[]};return r.providers.forEach(s=>{try{let a=new t6(e,s.id,s.selector);n.registerContextProvider(a),i.registered.push(s.id)}catch{i.unregistered.push(s.id)}}),[i,null]}o(dBt,"registerContextProviders");var DQe=ct(fBt,dBt);d();d();var PQe=require("net");function ble(e){return e.HTTPS_PROXY||e.https_proxy||e.HTTP_PROXY||e.http_proxy}o(ble,"getProxyFromEnvironment");function mBt(e){return e.NODE_TLS_REJECT_UNAUTHORIZED!=="0"}o(mBt,"getRejectUnauthorizedFromEnvironment");var NQe=T.Object({proxy:T.Optional(T.String()),proxyStrictSSL:T.Optional(T.Boolean()),proxyAuthorization:T.Optional(T.String()),proxyKerberosServicePrincipal:T.Optional(T.String())});function FQe(e){let r={proxy:ble(e),proxyStrictSSL:mBt(e)},n=e.GH_COPILOT_KERBEROS_SERVICE_PRINCIPAL??e.GITHUB_COPILOT_KERBEROS_SERVICE_PRINCIPAL??e.AGENT_KERBEROS_SERVICE_PRINCIPAL;return n&&(r.proxyKerberosServicePrincipal=n),r}o(FQe,"getHttpSettingsFromEnvironment");function mS(e){(0,PQe.isIPv6)(e)?e="https://["+e+"]":/:\/\//.test(e)||(e=`https://${e}`);let{hostname:t,port:r,username:n,password:i}=new URL(e);return{host:t,port:hBt(r),proxyAuth:pBt(n,i)}}o(mS,"proxySettingFromUrl");function hBt(e){if(!e)return 80;let t=Number(e);if(isNaN(t))throw new TypeError("Invalid proxy port");return t}o(hBt,"parsePort");function pBt(e,t){return!e||!t?"":`${decodeURIComponent(e)}:${decodeURIComponent(t)}`}o(pBt,"getAuth");d();var Tle=T.Object({host:T.String(),port:T.Number(),username:T.Optional(T.String()),password:T.Optional(T.String()),rejectUnauthorized:T.Optional(T.Boolean())}),gBt=T.Object({uri:T.Optional(T.String())}),ABt=T.Object({showEditorCompletions:T.Optional(T.Boolean()),enableAutoCompletions:T.Optional(T.Boolean()),delayCompletions:T.Optional(T.Boolean()),filterCompletions:T.Optional(T.Boolean())}),QQe=T.Object({github:T.Optional(T.Object({copilot:T.Optional(T.Object({}))})),"github-enterprise":T.Optional(gBt),http:T.Optional(NQe),telemetry:T.Optional(T.Object({telemetryLevel:T.Optional(T.String())}))}),wle=Object.keys(QQe.properties).filter(e=>e!=="github"),yBt=T.Intersect([QQe,ABt]),_le=T.Object({url:T.Optional(T.String())}),CBt=T.Object({settings:T.Optional(T.Union([T.Object({}),T.Array(T.Unknown(),{maxItems:0})])),networkProxy:T.Optional(Tle),authProvider:T.Optional(_le),options:T.Optional(Dn)}),LQe=ta.Compile(CBt),Ile=ta.Compile(yBt);async function MQe(e,t){if(!LQe.Check(t))throw new Xu(LQe.Errors(t));let r=Array.isArray(t.settings)?{}:t.settings;r&&Sle(e,r),t.networkProxy!==void 0&&aW(e,t.networkProxy),t.authProvider&&e.get(Rn).updateBaseUrl(e,t.authProvider.url),await hS(e,r)}o(MQe,"notifyChangeConfiguration");function Sle(e,t){for(let i of Ile.Errors(t)){let s=i.path.split("/")?.[1];rf.warn(e,`Invalid ${i.path.slice(1).replace(/\//g,".")} setting:`,i.message),delete t[s]}if(!Ile.Check(t))throw new Xu(Ile.Errors(t));let r=e.get(Zu);r.setConfig(qt.ShowEditorCompletions,t.showEditorCompletions),r.setConfig(qt.DelayCompletions,t.delayCompletions),r.setConfig(qt.EnableAutoCompletions,t.enableAutoCompletions),r.setConfig(qt.FilterCompletions,t.filterCompletions);let n=t["github-enterprise"];n&&e.get(Rn).updateBaseUrl(e,n.uri),t.http&&Ble(e,t.http),t.github?.copilot&&EBt(e,t.github.copilot)}o(Sle,"applySettingsToConfiguration");function EBt(e,t){let r=e.get(Zu);for(let n of Object.values(qt)){let i=Bye(t,n);r.setConfig(n,i)}}o(EBt,"applyCopilotConfiguration");function Ble(e,t){let r=e.get(Zu),n=e.get(Nr);if(t.proxy===void 0&&(t=FQe(r.env)),n.rejectUnauthorized=t?.proxyStrictSSL,!t.proxy){n.proxySettings=void 0;return}try{n.proxySettings=mS(t.proxy),t.proxyAuthorization&&(n.proxySettings.proxyAuth=t.proxyAuthorization),t.proxyKerberosServicePrincipal&&(n.proxySettings.kerberosServicePrincipal=t.proxyKerberosServicePrincipal)}catch(i){if(!(i instanceof TypeError))throw i;rf.warn(e,"Invalid proxy URL",t.proxy,i),n.proxySettings=void 0}}o(Ble,"applyHttpConfiguration");function aW(e,t){if(!t){e.get(Nr).proxySettings=void 0,e.get(Nr).rejectUnauthorized=void 0;return}let r;t.username&&(t.password?r=t.username+":"+t.password:r=t.username),e.get(Nr).proxySettings={host:t.host,port:t.port,proxyAuth:r},e.get(Nr).rejectUnauthorized=t.rejectUnauthorized??!0}o(aW,"applyNetworkProxyConfiguration");async function hS(e,t){if(!e.get(ts).getCapabilities().redirectedTelemetry){let r=(t?.telemetry?.telemetryLevel??"all")==="all";await Y2(e,"agent",r)}await e.get(jr).primeToken()}o(hS,"initializePostConfigurationDependencies");var OQe=T.Object({name:T.String(),version:T.String(),readableName:T.Optional(T.String())}),xBt=T.Object({editorInfo:OQe,editorPluginInfo:OQe,editorConfiguration:T.Optional(T.Object({})),networkProxy:T.Optional(Tle),authProvider:T.Optional(_le),redirectTelemetry:T.Optional(T.Boolean()),options:T.Optional(T.Object({}))});async function vBt(e,t,r){e.get(an).setEditorAndPluginInfo(r.editorPluginInfo,r.editorInfo),Cq(e,["setEditorInfo is deprecated. Use initializationOptions for editorInfo and editorPluginInfo","and workspace/didChangeConfiguration for editorConfiguration."]),r.editorConfiguration&&Sle(e,r.editorConfiguration);let n=e.get(Nr),i=e.get(Zu).env,s=ble(i);if(r.editorInfo.name==="VisualStudio"){if(s)n.proxySettings=mS(s);else if(r.networkProxy){aW(e,r.networkProxy);let a=i.GH_COPILOT_KERBEROS_SERVICE_PRINCIPAL??i.GITHUB_COPILOT_KERBEROS_SERVICE_PRINCIPAL??i.AGENT_KERBEROS_SERVICE_PRINCIPAL;n.proxySettings&&a&&(n.proxySettings.kerberosServicePrincipal??=a)}}else r.networkProxy?aW(e,r.networkProxy):s&&(n.proxySettings=mS(s));return r.authProvider&&e.get(Rn).updateBaseUrl(e,r.authProvider.url),await hS(e,r.editorConfiguration),["OK",null]}o(vBt,"handleSetEditorInfoChecked");var UQe=ct(xBt,vBt);d();var bBt=T.Object({options:T.Optional(T.Object({}))});async function IBt(e,t,r){let n=e.get(In).pendingSignIn?.status;if(n===void 0)return[null,{code:Fr.InvalidRequest,message:"No pending sign in"}];let i;try{return i=await n,[i,null]}catch(s){return[null,{code:Fr.DeviceFlowFailed,message:String(s)}]}finally{e.get(In).pendingSignIn=void 0}}o(IBt,"handleSignInConfirmChecked");var qQe=ct(bBt,IBt);d();var TBt=T.Object({options:T.Optional(T.Object({})),githubAppId:T.Optional(T.String())});async function wBt(e,t,r){try{let n=await e.get(In).checkAndUpdateStatus(e,{githubAppId:r.githubAppId});if(n.status==="OK")return[{status:"AlreadySignedIn",user:n.user},null];let i=r.githubAppId??e.get(Ms).findAppIdToAuthenticate(),s=await e.get(qC).getToken(e,i),a=s.waitForAuth.then(async l=>(e.get(Ms).githubAppId=i,await e.get(In).setAuthRecord(e,{...l,githubAppId:i}),await e.get(In).checkAndUpdateStatus(e,{freshSignIn:!0})));return e.get(In).pendingSignIn={verificationUri:s.verification_uri,status:a},[{status:"PromptUserDeviceFlow",userCode:s.user_code,verificationUri:s.verification_uri,expiresIn:s.expires_in,interval:s.interval,command:{command:Rq,title:"Sign in with GitHub",arguments:[]}},null]}catch(n){if(!(n instanceof Fs))throw n;return[null,{code:Fr.DeviceFlowFailed,message:n.message}]}}o(wBt,"handleSignInInitiateChecked");var kle=ct(TBt,wBt);d();var _Bt=T.Object({githubToken:T.String({minLength:1}),user:T.String({minLength:1}),githubAppId:T.Optional(T.String({minLength:1}))});async function SBt(e,t,r){let n=r.githubToken,i=r.user,s=r.githubAppId;return await e.get(In).setAuthRecord(e,{user:i,oauth_token:n,githubAppId:s}),[await e.get(In).checkAndUpdateStatus(e),null]}o(SBt,"handleSignInWithGithubTokenChecked");var GQe=ct(_Bt,SBt);d();var BBt=T.Object({options:T.Optional(T.Object({}))});async function kBt(e,t,r){return await e.get(In).deleteAuthRecord(e),[await e.get(In).checkAndUpdateStatus(e),null]}o(kBt,"handleSignOutChecked");var WQe=ct(BBt,kBt);d();var RBt=T.Object({});async function DBt(e,t,r){return kCe(e),["OK",null]}o(DBt,"handleTelemetryAuthNotifyDismissedChecked");var HQe=ct(RBt,DBt);d();var PBt=T.Object({authSource:T.Union([T.Literal("toast"),T.Literal("goldbar"),T.Literal("menu")])});async function NBt(e,t,r){return BCe(e,r.authSource),["OK",null]}o(NBt,"handleTelemetryAuthNotifyShownChecked");var VQe=ct(PBt,NBt);d();var FBt=T.Object({authType:T.Union([T.Literal("editorAuth"),T.Literal("deviceFlow")])});async function LBt(e,t,r){return gF(e,r.authType),["OK",null]}o(LBt,"handleTelemetryGitHubLoginSuccessChecked");var jQe=ct(FBt,LBt);d();var QBt=T.Object({authSource:T.Union([T.Literal("toast"),T.Literal("goldbar"),T.Literal("menu")]),authType:T.Union([T.Literal("editorAuth"),T.Literal("deviceFlow")])});async function MBt(e,t,r){return pF(e,r.authSource,r.authType),["OK",null]}o(MBt,"handleTelemetryNewGitHubLoginChecked");var $Qe=ct(QBt,MBt);d();var OBt=T.Object({transaction:T.Optional(T.String()),stacktrace:T.Optional(T.String()),properties:T.Optional(T.Record(T.String(),T.String())),platform:T.Optional(T.String()),exception_detail:T.Optional(T.Array(T.Object({type:T.Optional(T.String()),value:T.Optional(T.String()),stacktrace:T.Optional(T.Array(T.Object({filename:T.Optional(T.String()),lineno:T.Optional(T.Union([T.String(),T.Integer()])),colno:T.Optional(T.Union([T.String(),T.Integer()])),function:T.Optional(T.String()),in_app:T.Optional(T.Boolean())})))})))}),Rle=class extends Error{constructor(r,n){super(r);this.code=n;this.name="AgentEditorError"}static{o(this,"AgentEditorError")}};async function UBt(e,t,r){let n=e.get(io),i=e.get(an).getEditorPluginInfo(),s=r.properties||{},a;r.platform&&r.exception_detail&&qp.has(i.name)&&(a=Object.assign({rollup_id:"auto",context:rY(e),sensitive_context:{},deployed_to:n.getBuildType(),platform:r.platform,exception_detail:r.exception_detail},qp.get(i.name)),r.transaction&&(a.transaction=r.transaction),n.getBuildType()!=="dev"&&(a.release=`${a.app}@${i.version}`));let l=new Rle(r.stacktrace??"N/A",i.name);return l.stack=void 0,Fo(e,l,void 0,s,a),["OK",null]}o(UBt,"handleTelemetryExceptionChecked");var zQe=ct(OBt,UBt);d();d();d();d();d();d();var YQe=ft(require("tls"));var lW=class{static{o(this,"RootCertificateConfigurator")}#e;constructor(t){this._certificateReader=t.get(Na)}async enhanceProxySettings(t){let r=await this.getCertificates();return{...t,ca:r}}async getCertificates(){let t=await this._certificateReader.getAllRootCAs();if(t.length!==0)return t}async createSecureContext(){let t=await this._certificateReader.getAllRootCAs(),n=YQe.createSecureContext({_vscodeAdditionalCaCerts:t});for(let i of t)n.context.addCACert(i);return{secureContext:n,certs:t}}async applyToRequestOptions(t){this.#e??=this.createSecureContext();let r=await this.#e;t.secureContext=r.secureContext,t.ca=r.certs,t.cert=r.certs}};var o6=class extends Nr{constructor(r){super();this.ctx=r;this.name="HelixFetcher";this.createSocketFactory=o((r,n)=>async i=>{i.rejectUnauthorized=n,i.timeout=r.connectionTimeoutInMs,await this.certificateConfigurator.applyToRequestOptions(i);let s=await this.certificateConfigurator.enhanceProxySettings(r);return await this.proxySocketFactory.createSocket(i,s)},"createSocketFactory");this.fetchApi=this.createFetchApi(r),this.certificateConfigurator=new lW(r),this.proxySocketFactory=r.get(Op)}static{o(this,"HelixFetcher")}set proxySettings(r){this._proxySettings=r,this.fetchApi=this.createFetchApi(this.ctx)}get proxySettings(){return this._proxySettings}set rejectUnauthorized(r){super.rejectUnauthorized=r,this.fetchApi=this.createFetchApi(this.ctx)}get rejectUnauthorized(){return super.rejectUnauthorized}createFetchApi(r){let n=r.get(io);return super.rejectUnauthorized===!1&&(process.env.NODE_TLS_REJECT_UNAUTHORIZED="0"),ode({userAgent:`GithubCopilot/${n.getVersion()}`,socketFactory:this._proxySettings?this.createSocketFactory(this._proxySettings,super.rejectUnauthorized):void 0,rejectUnauthorized:super.rejectUnauthorized})}async fetch(r,n){let i=n.signal,s=!1;if(n.timeout){let u=this.makeAbortController();setTimeout(()=>{u.abort(),s=!0},n.timeout),n.signal?.addEventListener("abort",()=>u.abort()),n.signal?.aborted&&u.abort(),i=u.signal}let a={...n,body:n.body?n.body:n.json,signal:i};await this.certificateConfigurator.applyToRequestOptions(a);let l=await this.certificateConfigurator.getCertificates();this.fetchApi.setCA(l);let c=await this.fetchApi.fetch(r,a).catch(u=>{throw s?new z9(`Request to <${r}> timed out after ${n.timeout}ms`,u):u});return new B2(c.status,c.statusText,c.headers,()=>c.text(),()=>c.body)}disconnectAll(){return this.fetchApi.reset()}makeAbortController(){return new dR}};d();d();d();d();var Dle=class extends Na{constructor(r){super();this.certificates=r}static{o(this,"TestCertificateReader")}async getAllRootCAs(){return this.certificates}},KQe=o(e=>new Dle(e),"createTestCertificateReader");function Fle(e,t,r){let n=new Ple;n.set("x-github-request-id","1");for(let[i,s]of Object.entries(r||{}))n.set(i,s);return new B2(e,"status text",n,()=>Promise.resolve(t??""),()=>null)}o(Fle,"createFakeResponse");function JQe(e,t,r){let n;return typeof t=="string"?n=t:n=JSON.stringify(t),Fle(e,n,Object.assign({"content-type":"application/json"},r))}o(JQe,"createFakeJsonResponse");var pS=class extends Nr{constructor(){super(...arguments);this.name="FakeFetcher"}static{o(this,"FakeFetcher")}disconnectAll(){throw new Error("Method not implemented.")}makeAbortController(){return new Nle}};var cW=class extends pS{static{o(this,"NoFetchFetcher")}fetch(t,r){throw new Error("NoFetchFetcher does not support fetching")}};var Ple=class{constructor(){this.headers=new Map}static{o(this,"FakeHeaders")}append(t,r){this.headers.set(t.toLowerCase(),r)}delete(t){this.headers.delete(t.toLowerCase())}get(t){return this.headers.get(t.toLowerCase())??null}has(t){return this.headers.has(t.toLowerCase())}set(t,r){this.headers.set(t.toLowerCase(),r)}entries(){return this.headers.entries()}keys(){return this.headers.keys()}values(){return this.headers.values()}[Symbol.iterator](){return this.headers.entries()}},Nle=class{constructor(){this.signal={aborted:!1,addEventListener:o(()=>{},"addEventListener"),removeEventListener:o(()=>{},"removeEventListener")}}static{o(this,"FakeAbortController")}abort(){this.signal.aborted=!0}};var uW=class extends pS{static{o(this,"ExpConfigFetcher")}constructor(t){super(),this.fullConfig={Features:[],Flights:{},Configs:[{Id:"vscode",Parameters:t.Parameters}],ParameterGroups:[],AssignmentContext:t.AssignmentContext}}fetch(t,r){return t.endsWith("telemetry")?Promise.resolve(JQe(200,this.fullConfig)):Promise.resolve(Fle(404,""))}},fW=class extends uW{constructor(r,n){super(r);this.delegate=n}static{o(this,"ExpConfigFetcherWithDelegate")}fetch(r,n){return r.endsWith("telemetry")?super.fetch(r,n):this.delegate.fetch(r,n)}makeAbortController(){return this.delegate.makeAbortController()}};var dW=class extends eh{constructor(r=[]){super();this._agents=r}static{o(this,"TestRemoteAgentRegistry")}async agents(){return this._agents}};d();var mW=class extends La{constructor(){super(...arguments);this.prompts=[];this.fetchResults=[];this.diffs=[]}static{o(this,"TestConversationInspector")}shouldInspect(){return!0}async inspectPrompt(r){this.shouldInspect()&&this.prompts.push(r)}async inspectFetchResult(r){this.shouldInspect()&&this.fetchResults.push(r)}async documentDiff(r){this.shouldInspect()&&this.diffs.push(r)}};d();var hW=class extends Ps{constructor(){super(...arguments);this.openConversations=new Map;this.steps=[]}static{o(this,"TestConversationProgress")}async begin(r,n,i){this.openConversations.set(r.id,i),this.steps.push({workDoneToken:i,conversationId:r.id,turnId:n.id,type:"BEGIN",agentSlug:n.agent?.agentSlug})}async cancel(r,n,i){let s=this.getWorkDoneToken(r);this.steps.push({workDoneToken:s,conversationId:r.id,turnId:n.id,type:"CANCEL",error:i}),this.openConversations.delete(r.id)}async end(r,n,i){let s=this.getWorkDoneToken(r);this.steps.push({workDoneToken:s,conversationId:r.id,turnId:n.id,type:"END",...i}),this.openConversations.delete(r.id)}async report(r,n,i){let s=this.getWorkDoneToken(r);this.steps.push({workDoneToken:s,conversationId:r.id,turnId:n.id,type:"REPORT",...i,steps:this.copyPayloadSteps(i)})}copyPayloadSteps(r){return r.steps?.map(n=>({id:n.id,title:n.title,description:n.description,status:n.status,error:n.error}))||[]}getWorkDoneToken(r){let n=this.openConversations.get(r.id);if(n===void 0)throw new Error(`No work done token for conversation ${r.id}`);return n}};d();function qBt(e){return{modelId:"gpt-3.5-turbo",modelFamily:e,uiName:"Test GPT",maxRequestTokens:6144,maxResponseTokens:2048,baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:"cl100k_base",isExperimental:!1,stream:!0,toolCalls:!0}}o(qBt,"fakeChatModelConfiguration");function GBt(e){return{modelId:"embedding-test",modelFamily:e,maxBatchSize:1,maxTokens:50,tokenizer:"cl100k_base"}}o(GBt,"fakeEmbeddingModelConfiguration");var pW=class extends Xn{static{o(this,"TestModelConfigurationProvider")}async getBestChatModelConfig(t){let r=t[0];return qBt(r)}async getFirstMatchingEmbeddingModelConfiguration(t){return GBt(t)}};d();var gW=class extends Ka{constructor(){super(...arguments);this.settings=new Map}static{o(this,"InMemoryPersistenceManager")}get directory(){throw new Error("Not supported")}async read(r,n){try{return this.readJsonObject(r)[n]}catch{return}}async update(r,n,i){let s=this.readJsonObject(r);s[n]=i,this.settings.set(r,s)}async delete(r,n){let i=this.readJsonObject(r);delete i[n],this.settings.set(r,i)}async deleteSetting(r){this.settings.delete(r)}async listSettings(){return[...this.settings.keys()]}async listKeys(r){return Object.keys(this.readJsonObject(r))}readJsonObject(r){return this.settings.get(r)??{}}};d();var AW=class extends ql{constructor(){super(...arguments);this.openedUrls=[];this.opened=new Cb}static{o(this,"TestUrlOpener")}async open(r){this.openedUrls.push(r),this.opened.resolve()}},yW=class extends fl{constructor(){super();this.sentMessages=[];this.warningPromises=[]}static{o(this,"TestNotificationSender")}performDismiss(){this.actionToPerform="DISMISS"}performAction(r){this.actionToPerform=r}showWarningMessage(r,...n){this.sentMessages.push(r);let i;if(this.actionToPerform)if(this.actionToPerform==="DISMISS")i=Promise.resolve(void 0);else{let s=n.find(a=>a.title===this.actionToPerform);i=s?Promise.resolve(s):Promise.resolve(void 0)}else i=n?Promise.resolve(n[0]):Promise.resolve(void 0);return this.warningPromises.push(i),i}async waitForWarningMessages(){await Promise.all(this.warningPromises)}};d();function Lle(e,t,r,n){return M0.create(Dv(e.toString()).toString(),t,r,n,t)}o(Lle,"createTextDocument");var Qle=class extends Wr{constructor(r){super(r);this._openTextDocuments=[];this._notebookDocuments=new Map;this._workspaceFolders=[];this._focusSubscribers=[];this._changeSubscribers=[];this._openSubscribers=[];this._closeSubscribers=[];this.onDidFocusTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._focusSubscribers.push(s),{dispose:o(()=>{this._focusSubscribers=this._focusSubscribers.filter(a=>a!==s)},"dispose")}},"onDidFocusTextDocument");this.onDidChangeTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._changeSubscribers.push(s),{dispose:o(()=>{this._changeSubscribers=this._changeSubscribers.filter(a=>a!==s)},"dispose")}},"onDidChangeTextDocument");this.onDidOpenTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._openSubscribers.push(s),{dispose:o(()=>{this._openSubscribers=this._openSubscribers.filter(a=>a!==s)},"dispose")}},"onDidOpenTextDocument");this.onDidCloseTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._closeSubscribers.push(s),{dispose:o(()=>{this._closeSubscribers=this._closeSubscribers.filter(a=>a!==s)},"dispose")}},"onDidCloseTextDocument")}static{o(this,"SimpleTestTextDocumentManager")}init(r){this._workspaceFolders=r}async openTextDocument(r){return super.openTextDocument(r)}getOpenTextDocuments(){return this._openTextDocuments}setTextDocument(r,n,i){let s=Lle(r,n,0,i);return this._openTextDocuments.push(s),s}updateTextDocument(r,n){let i=this._openTextDocuments.findIndex(a=>a.uri===r.toString());if(i<0)throw new Error("Document not found");let s=this._openTextDocuments[i];this._openTextDocuments[i]=Lle(r,s.clientLanguageId,s.version+1,n)}setNotebookDocument(r,n){this._notebookDocuments.set(r.uri.replace(/#.*/,""),n)}findNotebook({uri:r}){return this._notebookDocuments.get(r.replace(/#.*/,""))}getWorkspaceFolders(){return this._workspaceFolders}emitEvent(r){switch(r.eventName){case"focus":this._focusSubscribers.forEach(n=>n(r.args));break;case"change":this._changeSubscribers.forEach(n=>n(r.args));break;case"open":this._openSubscribers.forEach(n=>n(r.args));break;case"close":this._closeSubscribers.forEach(n=>n(r.args));break}}},CW=class extends Qle{constructor(r){super(r);this._closedTextDocuments=[]}static{o(this,"TestTextDocumentManager")}async openTextDocument(r){return this._closedTextDocuments.find(n=>n.uri===r)}setClosedTextDocument(r,n,i){this._closedTextDocuments.push(Lle(r,n,0,i))}};var Mle=class extends va{static{o(this,"NullLog")}logIt(...t){}};function WBt(e){let t=new Eb;return t.set(tp,e),t.set(IC,e),t.set(io,new io),t.set(Nf,new Nf({debug:!1,verboseLogging:!1,testMode:!0,simulation:!1})),t.set(Na,KQe([])),t.set(Op,mU(t)),t.set(Qh,new Qh),t.set(Mf,new XD),t.set(Du,new Du),t.set(jh,new jh),t.set(zh,new zh),t.set(Ql,new Ql(t,"tid=test",!0)),t.set(gs,new gs),t.set(fl,new yW),t.set(ql,new AW),t.set(Yh,new aI),t.set(va,new Mle),t.set(xc,new xc),t.set(ds,new ds("test-session","test-machine")),t.set(Rn,new v8(t)),t.set(yu,new yu),Y2(t,"copilot-test",!0),t.set(er,new er(t)),t.set(Ru,new Ru),t.set(xm,new ab),t.set(jr,new Py("tid=test")),t.set(Yi,new cP),t.set(yo,new yo),t.set(od,_Q(t)),t.set(Em,new Em),t.set(q0,new q0),t.set(sd,new sd),t.set(x1,x1.default),t.set(zu,new zu),t.set(qf,new qf(t,!1)),t.set(Ms,new Ms),t.set(zn,new zn(t)),t.set(Bu,new AF),t.set(Ba,new Ba),t.set(gl,CQ(t,async(r,n,i)=>n.find(s=>s==="*")?1:n.find(s=>typeof s!="string"&&s.language===i.languageId)?10:0)),HBt(t),t.set(Tm,new Tm(t)),t.set(ts,new ts),t}o(WBt,"_createBaselineContext");function HBt(e){e.set(Wi,new Wi(e)),e.set(Ps,new hW),e.set(Kl,new Kl(e)),e.set(Qa,new Qa),e.set(wl,new wl),e.set(La,new mW),e.set(_d,new _d(e,[])),e.set(Xn,new pW),e.set(eh,new dW),e.set(Hp,new Hp(e)),e.set(Ty,new Ty),e.set(Ma,new Ma(e)),e.set(ec,new ec),e.set(tf,new tf)}o(HBt,"registerConversation");function XQe(){let e=WBt(new IC(new lb,new Map));return e.set(Nr,new cW),e.set(an,new Ole),e.set(Wr,new CW(e)),e.set(Lo,new Xv),e.set(Sa,new Sa(e)),e.set(Ka,new gW),e.set(Fa,new Fa(e)),e.set(bl,new yU(e)),e}o(XQe,"createLibTestingContext");var Ole=class extends an{constructor(r={name:"lib-tests-plugin",version:"2"},n={name:"lib-tests-editor",version:"1"},i=[{name:"lib-tests-related-plugin",version:"3"}]){super();this.editorPluginInfo=r;this.editorInfo=n;this.relatedPluginInfo=i}static{o(this,"LibTestsEditorInfo")}getEditorInfo(){return this.editorInfo}getEditorPluginInfo(){return this.editorPluginInfo}getRelatedPluginInfo(){return this.relatedPluginInfo}};var eMe=ft(require("fs"));var ZQe=`${process.env.HOME}/.copilot-testing-gh-token`,EW,xW;async function tMe(e){e.forceSet(jr,new Py(await VBt()))}o(tMe,"setTestingCopilotTokenManager");var VBt=o(async()=>{if(process.env.GH_COPILOT_IDE_TOKEN)return process.env.GH_COPILOT_IDE_TOKEN;let e=process.env.GH_COPILOT_TOKEN??"";if(/=/.test(e))return e;if(xW)return xW;let t=e||process.env.GITHUB_COPILOT_TOKEN||await jBt(),r=XQe(),n=new o6(r);return r.forceSet(Nr,n),xW=lP(r,{token:t}).then(i=>{if(i.kind==="success")return i.envelope.token;throw new Fs('Could not fetch testing Copilot token. Try running "npm run get_token" again?')}),xW},"getCopilotToken");async function jBt(){try{EW??=(await eMe.promises.readFile(ZQe)).toString().trim()}catch{EW??=process.env.GITHUB_TOKEN??""}if(!EW)throw new Error(`Tests: either GH_COPILOT_IDE_TOKEN, GH_COPILOT_TOKEN, or GITHUB_TOKEN must be set, or there must be a GitHub token from an app with access to Copilot in ${ZQe}. Run "npm run get_token" to get one.`);return EW}o(jBt,"getTestingGitHubToken");function rMe(e){return new Xg({token:`test token ${Tr()}`,refresh_in:0,expires_at:0,...e})}o(rMe,"createTestCopilotToken");var Py=class extends jr{constructor(r){super();this.token=r;this.wasReset=!1}static{o(this,"FixedCopilotTokenManager")}async getGitHubSession(){return Promise.resolve({token:`copilot-client test oauth token ${Tr()}`})}async getToken(){return rMe({token:this.token})}resetToken(){this.wasReset=!0}async checkCopilotToken(){return{status:"OK"}}};var vW=class extends In{static{o(this,"NotAuthManager")}constructor(){super(null,null)}getAuthRecord(){return Promise.resolve(void 0)}async checkAndUpdateStatus(t,r){return{status:"NotSignedIn"}}},bW=class extends In{static{o(this,"AlwaysAuthManager")}constructor(){super(null,new Py("tid=valid-copilot-token"))}getAuthRecord(){return Promise.resolve({user:"user",oauth_token:"",githubAppId:""})}};var $Bt=T.Object({options:T.Optional(T.Object({}))});async function zBt(e,t,r){return e.forceSet(In,new bW),e.get(jr).resetToken(),e.get(Yi).forceNormal(),await new Promise(n=>setTimeout(n,0)),["OK",null]}o(zBt,"handleTestingAlwaysAuthChecked");var nMe=ct($Bt,zBt);d();var YBt=T.Object({options:T.Optional(Dn),messages:T.Array(T.Object({role:T.Enum(Yl),content:T.String(),name:T.Optional(T.String())})),modelFamily:T.Optional(T.Enum(Qi)),stop:T.Optional(T.Array(T.String())),conversationOptions:T.Optional(T.Object({maxResponseTokens:T.Optional(T.Number()),temperature:T.Optional(T.Number())}))});async function KBt(e,t,r){let n=new ua(e),i=await e.get(Xn).getBestChatModelConfig([r.modelFamily??Qi.Gpt35turbo]),s=await za(e,"","");return[await n.fetchResponse({modelConfiguration:i,messages:r.messages,uiKind:"conversationIntegrationTest",stop:r.stop,intentParams:{intent:!0},llmInteraction:Y0.user("test",Tr())},t,s),null]}o(KBt,"handleChatMLChecked");var iMe=ui(ct(YBt,KBt));d();d();var oMe=require("crypto"),sMe=require("http"),aMe=require("stream"),lMe=require("util"),a6=ft(i1());var JBt=9e4,XBt=new a6.ProtocolRequestType("copilot/fetch"),ZBt=new a6.ProtocolRequestType("copilot/fetchCancel"),ekt=new a6.ProgressType,tkt=new a6.ProtocolRequestType("copilot/fetchDisconnectAll"),eg=class extends Error{static{o(this,"EditorFetcherError")}constructor(t){super(t),this.name="EditorFetcherError"}},s6=class extends Nr{constructor(r){super();this.ctx=r;this.name="EditorFetcher";this.userAgent=`GithubCopilot/${r.get(io).getVersion()}`}static{o(this,"EditorFetcher")}disconnectAll(){return this.ctx.get(Kr).connection.sendRequest(tkt,{})}makeAbortController(){return new dR}async fetch(r,n){n.headers||={},n.headers["user-agent"]=this.userAgent;let{signal:i}=n,s=this.ctx.get(Kr).connection,a=(0,oMe.randomUUID)(),l=new si.CancellationTokenSource,c=new aMe.PassThrough,u=o(()=>{s.sendRequest(ZBt,{workDoneToken:a})},"sendCancelRequest"),f=o(()=>{c.emit("error",new Gx("EditorFetch request aborted")),c.end()},"destroyBodyStream");if(i){if(!(i instanceof ade))throw new eg("EditorFetcher received unexpected abort signal");if(i.aborted)throw new Gx("EditorFetcher signal aborted before fetch");i.addEventListener("abort",u)}s.onProgress(ekt,a,h=>{h.kind==="end"?(i?.removeEventListener("abort",u),i?.removeEventListener("abort",f),h.error&&c.emit("error",new eg(h.error)),c.end()):h.kind==="report"&&c.write(h.chunk)});let m=await new Promise((h,p)=>{let A=setTimeout(()=>{p(new eg("Request timed out from lsp server"))},n.timeout??JBt),E=o(()=>{p(new Gx("EditorFetcher request aborted"))},"rejectIfAborted");i?.addEventListener("abort",E),s.sendRequest(XBt,nkt(r,a,n),l.token).then(h).catch(x=>{let b="EditorFetcher request failed";x&&typeof x=="object"&&"message"in x&&(b+=`: ${String(x.message)}`),x&&typeof x=="object"&&"data"in x&&(b+=`: ${(0,lMe.inspect)(x.data)}`),p(new eg(b))}).finally(()=>{i?.removeEventListener("abort",E),clearTimeout(A)})});if(!m.status)throw new eg("EditorFetcher received invalid response");return i?.addEventListener("abort",f),new B2(m.status,sMe.STATUS_CODES[m.status]??"",new sde(m.headers),()=>rkt(c),()=>c)}};function rkt(e){return new Promise((t,r)=>{let n="";e.on("error",r),e.on("end",()=>t(n)),e.on("data",i=>n+=String(i))})}o(rkt,"consumeStream");function nkt(e,t,r){let{timeout:n,method:i}=r,s=r.headers??{},a=r.json?JSON.stringify(r.json):r.body;return r.json&&(s["content-type"]="application/json"),{url:e,headers:s,body:a,timeout:n,method:i,workDoneToken:t}}o(nkt,"convertOptionsToParams");var ikt=T.Object({url:T.String(),headers:T.Optional(T.Record(T.String(),T.String())),body:T.Optional(T.String()),timeout:T.Optional(T.Number()),method:T.Optional(T.Union([T.Literal("GET"),T.Literal("POST")])),cancelBeforeRequest:T.Optional(T.Boolean()),cancelAfterRequest:T.Optional(T.Boolean()),cancelAfterFirstChunk:T.Optional(T.Boolean())});async function okt(e,t,r){let n=new s6(e),i=n.makeAbortController(),s=i.signal,{url:a,cancelBeforeRequest:l,cancelAfterRequest:c,cancelAfterFirstChunk:u,...f}=r;l&&i.abort();let m=n.fetch(a,{signal:s,...f});c&&i.abort();let h;try{h=await m}catch(E){return[{error:`Fetch stream error: ${E instanceof eg?E.message:String(E)}`},null]}let{status:p}=h,A=Object.fromEntries(Array.from(h.headers));try{if(u){let x=h.body();for await(let b of x){let v=b.toString();return i.abort(),[{status:p,headers:A,body:v},null]}}let E=await h.text();return[{status:p,headers:A,body:E},null]}catch(E){return[{error:`Fetch stream error: ${E instanceof eg?E.message:String(E)}`},null]}}o(okt,"handleTestingFetchChecked");var cMe=ct(ikt,okt);d();var skt=T.Object({});async function akt(e,t,r){return await e.get(yo).flush(),["OK",null]}o(akt,"handleTestingFlushPromiseQueueChecked");var uMe=ct(skt,akt);d();var lkt=T.Object({uri:T.String()});async function ckt(e,t,r){let i=await e.get(Wr).getTextDocument(r);return[{uri:r.uri,languageId:i?.languageId??"unknown",version:i?.version??-1,text:i?.getText()??""},null]}o(ckt,"handleGetDocumentChecked");var fMe=ct(lkt,ckt);d();var ukt=T.Object({});async function fkt(e,t,r){let n=e.get(gs),i=n.getReporter(e),s=n.getRestrictedReporter(e);if(!(i instanceof $g)||!(s instanceof $g||s===void 0))return[null,{code:Fr.InternalError,message:"Telemetry is not being captured. You must first call testing/setTelemetryCapture."}];let a=e.get(yo);return a instanceof Fv&&await a.awaitPromises(),[{standard:{events:i.events,errors:i.errors},restricted:{events:s?.events||[],errors:s?.errors||[]}},null]}o(fkt,"handleTestingGetTelemetryChecked");var dMe=ct(ukt,fkt);d();var dkt=T.Object({options:T.Optional(T.Object({}))});async function mkt(e,t,r){e.forceSet(In,new vW),e.get(jr).resetToken();try{await e.get(jr).getToken()}catch{}return await new Promise(n=>setTimeout(n,0)),["OK",null]}o(mkt,"handleTestingNeverAuthChecked");var mMe=ct(dkt,mkt);d();var hkt=T.Object({expFlags:T.Record(T.String(),T.Union([T.String(),T.Number(),T.Boolean()]))});async function pkt(e,t,r){if(r.expFlags){let n={AssignmentContext:"assignmentcontext",Parameters:{...r.expFlags}};e.forceSet(Nr,new fW(n,e.get(Nr)))}return["OK",null]}o(pkt,"handleTestingOverrideExpFlagsChecked");var hMe=ct(hkt,pkt);d();var gkt=T.Object({rules:bX});async function Akt(e,t,r){let n=e.get(Sa);return n?(n.setTestingRules(r.rules),["OK",null]):[null,{code:Fr.InternalError,message:"Could not set content exclusion rules"}]}o(Akt,"handleTestingSetContentExclusionRulesChecked");var pMe=ct(gkt,Akt);d();var ykt=T.Object({workDoneToken:T.Union([T.String(),T.Number()]),chunks:T.Array(T.String()),followUp:T.Optional(T.String()),suggestedTitle:T.Optional(T.String()),skills:T.Optional(T.Array(T.String())),references:T.Optional(T.Array(O8)),options:T.Optional(T.Object({}))});async function Ckt(e,t,r){return e.get(Xp).add(r.workDoneToken,r.chunks,r.followUp,r.suggestedTitle,r.skills,r.references),["OK",null]}o(Ckt,"handleTestingSetSyntheticTurnsChecked");var gMe=ct(ykt,Ckt);d();var Ekt=T.Object({telemetryCapture:T.Boolean()});async function xkt(e,t,r){return r.telemetryCapture?(await Y2(e,"agent",!1),e.get(gs).setReporter(new $g),e.get(gs).setRestrictedReporter(new $g),e.forceSet(yo,new Fv)):(await Y2(e,"agent",!0),e.forceSet(yo,new yo)),["OK",null]}o(xkt,"handleTestingSetTelemetryCaptureChecked");var AMe=ct(Ekt,xkt);d();var vkt=T.Object({});async function bkt(e,t,r){let n=e.get(fl),i=e.get(va);return await n.showWarningMessage("This is a test message",{title:"Some Action"}).then(a=>s(3,"response from message request",a?.title)).catch(a=>s(1,"error sending show message request",a)),["OK",null];async function s(a,l,c){return i.logIt(e,a,"triggerShowMessage",`${l} (${String(c)})`)}o(s,"sendNotification")}o(bkt,"handleTriggerShowMessageChecked");var yMe=ct(vkt,bkt);d();var Ikt=T.Object({options:T.Optional(T.Object({})),githubAppId:T.Optional(T.String())}),Ule=class extends In{constructor(r,n){super(void 0,r);this.githubAppId=n;this.user="user"}static{o(this,"FakeAuthManager")}getAuthRecord(){return Promise.resolve({user:this.user,oauth_token:"",githubAppId:this.githubAppId})}};async function Tkt(e,t,r){return await tMe(e),e.forceSet(In,new Ule(e.get(jr),r.githubAppId)),["OK",null]}o(Tkt,"handleTestingUseTestingTokenChecked");var CMe=ct(Ikt,Tkt);d();var wkt=T.Object({});async function _kt(e,t,r){return await new Q8().uninstall(e),["OK",null]}o(_kt,"handleUninstallChecked");var EMe=ct(wkt,_kt);d();var Skt=$Ee;async function Bkt(e,t,r){let n=e.get(gl),i={unregistered:[],notUnregistered:[]};return r.providers.forEach(s=>{try{n.unregisterContextProvider(s.id),i.unregistered.push(s.id)}catch{i.notUnregistered.push(s.id)}}),[i,null]}o(Bkt,"unregisterContextProviders");var xMe=ct(Skt,Bkt);d();var qle=ft(require("os"));var kkt=T.Object({expectedCertificate:T.String()});async function Rkt(e,t,r){let i=(await fU(e).getAllRootCAs()).map(i6),s=i6(r.expectedCertificate);return i.includes(s)?[{status:!0,message:"Certificate verified"},null]:[{status:!1,message:`expected certificate not found - Expected to find certificate ${vle(s)}. Only found those installed on the system:${qle.EOL}${i.map(a=>"- "+vle(a)).join(qle.EOL)}`},null]}o(Rkt,"handleVerifyCertificateChecked");var vMe=ct(kkt,Rkt);d();var Dkt=T.Object({});async function Pkt(){return[{status:!!new d_().load()},null]}o(Pkt,"handleVerifyKerberosChecked");var bMe=ct(Dkt,Pkt);d();var Nkt=T.Object({source:T.String(),version:T.Number(),uri:T.String()});async function Fkt(e,t,r){let i=await e.get(Wr).getTextDocument(r);return i?i.getText()!==r.source?[{status:!1,message:`Source mismatch: [State] ${i.getText()} !== [Request] ${r.source}`},null]:i.version!==r.version?[{status:!1,message:`Version mismatch: [State] ${i.version} !== [Request] ${r.version}`},null]:[{status:!0,message:""},null]:[{status:!1,message:`Document not found: <${r.uri}>`},null]}o(Fkt,"handleVerifyStateChecked");var IMe=ct(Nkt,Fkt);d();var Lkt=T.Object({});async function Qkt(e,t,r){return[e.get(Wr).getWorkspaceFolders().map(i=>({...i,...aC.parse(i.uri)})),null]}o(Qkt,"handleVerifyWorkspaceStateChecked");var TMe=ct(Lkt,Qkt);var fE=class{constructor(t){this.handlers=t}static{o(this,"MethodHandlers")}};function wMe(){let e=new Map;return e.set(bQe.method,IQe),e.set(TQe.method,wQe),e.set("getCompletions",pQe),e.set("getCompletionsCycling",gQe),e.set("getPanelCompletions",CQe),e.set(ZLe.method,eQe),e.set("getVersion",EQe),e.set("setEditorInfo",UQe),e.set("checkStatus",CNe),e.set("checkFileStatus",yNe),e.set("signInInitiate",kle),e.set("signIn",kle),e.set("signInConfirm",qQe),e.set("signInWithGithubToken",GQe),e.set("signOut",WQe),e.set("notifyShown",RQe),e.set("notifyAccepted",BQe),e.set("notifyRejected",kQe),e.set("telemetry/exception",zQe),e.set("telemetry/authNotifyDismissed",HQe),e.set("telemetry/authNotifyShown",VQe),e.set("telemetry/gitHubLoginSuccess",jQe),e.set("telemetry/newGitHubLogin",$Qe),e.set("textDocument/copilotInlineEdit",SQe),e.set("testing/overrideExpFlags",hMe),e.set("testing/alwaysAuth",nMe),e.set("testing/neverAuth",mMe),e.set("testing/useTestingToken",CMe),e.set("testing/setCompletionDocuments",fQe),e.set("testing/setPanelCompletionDocuments",JLe),e.set("testing/triggerShowMessageRequest",yMe),e.set("testing/getTelemetry",dMe),e.set("testing/setTelemetryCapture",AMe),e.set("testing/flushPromiseQueue",uMe),e.set("testing/getDocument",fMe),e.set("testing/chatml",iMe),e.set("testing/setSyntheticTurns",gMe),e.set("testing/fetch",cMe),e.set("testing/setContentExclusionRules",pMe),e.set("testing/setCopilotEditsResponse",qLe),e.set("uninstall",EMe),e.set("debug/diagnostics",iQe),e.set("debug/listCertificates",_Qe),e.set("debug/verifyState",IMe),e.set("debug/verifyCertificate",vMe),e.set("debug/verifyKerberos",bMe),e.set("debug/verifyWorkspaceState",TMe),e.set("context/registerProviders",DQe),e.set("context/unregisterProviders",xMe),e.set("conversation/preconditions",FLe),e.set("conversation/persistence",DLe),e.set("conversation/create",kLe),e.set("conversation/turn",MLe),e.set("conversation/turnDelete",OLe),e.set("conversation/destroy",RLe),e.set("conversation/rating",LLe),e.set("conversation/copyCode",ILe),e.set("conversation/insertCode",TLe),e.set("conversation/templates",QLe),e.set("conversation/agents",bLe),e.set("copilot/models",jLe),e.set("copilot/setModelPolicy",$Le),e.set("copilot/codeReview",ULe),e.set("git/commitGenerate",xQe),e.set("editConversation/create",GLe),e.set("editConversation/turn",HLe),e.set("editConversation/turnDelete",VLe),e.set("editConversation/destroy",WLe),new fE(e)}o(wMe,"getAllMethods");d();d();d();var _Me=ft(i1());var iA=class{constructor(t){this.ctx=t}static{o(this,"AbstractNotification")}get type(){return new _Me.NotificationType(this.name)}};var Gle=class extends iA{constructor(){super(...arguments);this.name=jz.method;this.params=Z1e}static{o(this,"DidChangeAuthNotificationHandler")}async handle(r){let n=this.ctx.get(In);r?.handle&&r?.accessToken?n.setTransientAuthRecord(this.ctx,{oauth_token:r.accessToken,user:r.handle,githubAppId:r.githubAppId}):n.setTransientAuthRecord(this.ctx,null)}},SMe=[Gle];d();var Wle=class extends iA{constructor(){super(...arguments);this.name=Jz.method;this.params=aAe}static{o(this,"DidShowCompletionNotificationHandler")}async handle(r){let n=r.item.command.arguments[0],s=this.ctx.get(qo).get(n);s&&uIe(this.ctx,s)}},Hle=class extends iA{constructor(){super(...arguments);this.name=Xz.method;this.params=lAe}static{o(this,"DidPartiallyAcceptCompletionNotificationHandler")}async handle(r){let n=r.item.command.arguments[0],i=r.acceptedLength,s=this.ctx.get(qo),a=s.get(n);a&&(s.delete(n),i>=a.insertText.length?DQ(this.ctx,a):fIe(this.ctx,a,i))}},BMe=[Wle,Hle];d();var IW=class extends iA{constructor(){super(...arguments);this.name="window/workDoneProgress/cancel";this.params=T.Object({token:T.Union([T.String(),T.Number()])})}static{o(this,"WorkDoneProgressCancelNotification")}handle(r){this.ctx.get(rc).cancel(r.token)}};var Mkt=[...SMe,...BMe,IW];function kMe(e,t){for(let r of Mkt){let n=new r(e),i=ta.Compile(n.params);t.onNotification(n.type,pu(e,async s=>{z1(s),i.Check(s)?await n.handle(s):rf.error(e,`Notification ${n.name}:`,new Xu(i.Errors(s)))},`Notification ${n.name}`))}}o(kMe,"registerNotifications");d();var DMe=ft(require("events")),TW=ft(F0());var RMe=new Er("AgentTextDocumentConfiguration"),Vle=class{constructor(t){this.ctx=t;this.emitter=new DMe.default}static{o(this,"AgentTextDocumentsConfiguration")}create(t,r,n,i){try{return M0.create(t,r,n,i)}catch(s){throw RMe.exception(this.ctx,s,".create"),s}}update(t,r,n){try{let i=[];for(let a of r)if(TW.TextDocumentContentChangeEvent.isIncremental(a)){let l={range:a.range,rangeOffset:t.offsetAt(a.range.start),rangeLength:t.offsetAt(a.range.end)-t.offsetAt(a.range.start),text:a.text};i.push(l)}let s={document:t,contentChanges:i};return this.emitter.emit("change",s),M0.withChanges(t,r,n)}catch(i){throw RMe.exception(this.ctx,i,".update"),i}}},Ny=class extends Wr{constructor(r){super(r);this._documents=new Map;this.workspaceFolders=[];this.onDidChangeTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._textDocumentConfiguration.emitter.on("change",s),{dispose:o(()=>{this._textDocumentConfiguration.emitter.removeListener("change",s)},"dispose")}},"onDidChangeTextDocument");this.onDidOpenTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._textDocumentConfiguration.emitter.on("open",s),{dispose:o(()=>{this._textDocumentConfiguration.emitter.removeListener("open",s)},"dispose")}},"onDidOpenTextDocument");this.onDidCloseTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._textDocumentConfiguration.emitter.on("close",s),{dispose:o(()=>{this._textDocumentConfiguration.emitter.removeListener("close",s)},"dispose")}},"onDidCloseTextDocument");this.onDidFocusTextDocument=o((r,n,i)=>this.connection.onNotification(Yz.type,s=>{let a=("textDocument"in s?s.textDocument:s)??{};r.call(n,"uri"in a?{document:a}:void 0)}),"onDidFocusTextDocument");this._textDocumentConfiguration=new Vle(r),this._notebookDocuments=new TW.NotebookDocuments(this._textDocumentConfiguration)}static{o(this,"AgentTextDocumentManager")}get connection(){return this.ctx.get(Kr).connection}init(r){this.connection.onDidOpenTextDocument(n=>{let i=n.textDocument,s=this._textDocumentConfiguration.create(i.uri,i.languageId,i.version,i.text);this._documents.set(mm(i.uri),s),this._textDocumentConfiguration.emitter.emit("open",{document:s,contentChanges:[]})}),this.connection.onDidChangeTextDocument(n=>{let i=n.textDocument,s=n.contentChanges,{version:a}=i;if(a==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let l=mm(i.uri),c=this._documents.get(l);c!==void 0&&(c=this._textDocumentConfiguration.update(c,s,a),this._documents.set(l,c))}),this.connection.onDidCloseTextDocument(n=>{let i=mm(n.textDocument.uri);this._documents.delete(i),this._textDocumentConfiguration.emitter.emit("close",{document:{uri:i}})}),this._notebookDocuments.listen(this.connection),this.workspaceFolders.length=0,this.workspaceFolders.push(...r)}didChangeWorkspaceFolders(r){r.added.forEach(n=>this.registerWorkspaceFolder(n)),r.removed.forEach(n=>this.unregisterWorkspaceFolder(n))}unregisterWorkspaceFolder(r){let n=this.workspaceFolders.findIndex(i=>i.uri===r.uri);n>=0&&this.workspaceFolders.splice(n,1)}registerWorkspaceFolder(r){this.workspaceFolders.push(r)}getOpenTextDocuments(){return[...this._documents.values()]}getOpenTextDocument(r){return this._documents.get(mm(r.uri))}getWorkspaceFolders(){return this.workspaceFolders}findNotebook(r){let n=this._notebookDocuments.findNotebookDocumentForCell(r.uri);if(n)return{getCells:o(()=>n.cells.map((i,s)=>this.wrapCell(i,s)).filter(i=>!!i),"getCells"),getCellFor:o(({uri:i})=>{let s=n.cells.findIndex(a=>a.document===i);return s!==-1?this.wrapCell(n.cells[s],s):void 0},"getCellFor")}}wrapCell(r,n){let i=this._notebookDocuments.getCellTextDocument(r);if(i)return{kind:r.kind,metadata:r.metadata??{},index:n,document:i}}};var PMe=ta.Compile(iAe);function z1(e){if(e!==null){if(Array.isArray(e))for(let t=0;t<e.length;t++)e[t]=z1(e[t]);else if(typeof e=="object"){let t=e;for(let r in t)t[r]===null?delete t[r]:t[r]=z1(t[r])}return e}}o(z1,"purgeNulls");var Kr=class{constructor(t,r){this.ctx=t;this.connection=r;this.initialized=!1;this.#i=this.ctx.get(va)}static{o(this,"Service")}#e;#t;#i;get clientCapabilities(){return this.#t}listen(){let t=this.ctx,r=this.connection;r.onRequest(this.messageHandler.bind(this)),kMe(t,r);let n={name:"GitHub Copilot Language Server",version:t.get(io).getDisplayVersion(),nodeVersion:process.versions.node},i,s=o(async c=>{try{if(i&&c&&typeof c=="object"&&!("settings"in c)){let u=await r.workspace.getConfiguration(["github.copilot",...wle].map(m=>({section:m}))),f={github:{copilot:u.shift()}};for(let m of wle)f[m]=u.shift();c.settings=f}return MQe(t,z1(c))}catch(u){rf.exception(t,u,"didChangeConfiguration")}},"didChangeConfiguration");function a(c){try{t.get(Ny).didChangeWorkspaceFolders(c),t.get(zu).emit(c)}catch(u){rf.exception(t,u,"didChangeWorkspaceFolders")}}o(a,"didChangeWorkspaceFolders"),this.connection.onNotification("vs/didAddWorkspaceFolder",({name:c,uri:u})=>a({added:[{uri:u,name:c??u}],removed:[]})),this.connection.onNotification("vs/didRemoveWorkspaceFolder",({name:c,uri:u})=>a({added:[],removed:[{uri:u,name:c??u}]})),r.onInitialize(async c=>{if(this.initialized)throw new Error("initialize request sent after initialized notification");this.#t=c.capabilities;let u=c.capabilities.copilot,f=z1(c.initializationOptions);if(f){if(!PMe.Check(f))throw new Xu(PMe.Errors(f));let A=f,E=t.get(an);A.editorPluginInfo?E.setEditorAndPluginInfo({version:"unknown",...A.editorPluginInfo},A.editorInfo&&{version:"unknown",...A.editorInfo},A.relatedPluginInfo??[]):rf.warn(t,"editorInfo and editorPluginInfo will soon be required in initializationOptions. This will replace setEditorInfo."),A.copilotIntegrationId&&E.setCopilotIntegrationId(A.copilotIntegrationId),A.githubAppId&&(t.get(Ms).githubAppId=A.githubAppId),A.copilotCapabilities&&(u=A.copilotCapabilities)}let m=c.capabilities.workspace?.workspaceFolders??!1;t.get(Ny).init(c.workspaceFolders??[]),Ebe(this.ctx),t.get(zu).emit({added:c.workspaceFolders??[],removed:[]}),i=c.capabilities.workspace?.configuration,u&&(t.get(ts).setCapabilities(u),"openURL"in u&&Cq(t,["The openURL Copilot capability has been removed in favor of window/showDocument."]));let p=o(async()=>{this.initialized||(this.initialized=!0,rf.info(t,`${n.name} ${n.version} initialized`),m&&r.workspace.onDidChangeWorkspaceFolders(a),i?await s({}):await hS(t),this.installationTelemetryTimer=setTimeout(()=>{new Q8().startup(t).catch(()=>{})},1e3),t.get(Y1).emit(),Fbe(t))},"onInitialized");return r.onInitialized(pu(t,p,"onInitialized")),t.get(Jm).init(),u?.token&&t.get(In).setTransientAuthRecord(t,null),u?.redirectedTelemetry&&await gNe(t),NMe.lt(process.versions.node,"20.8.0")&&rf.warn(t,`Node.js ${process.versions.node} support is deprecated. Please upgrade to Node.js 20.8 or newer.`),{capabilities:{textDocumentSync:{openClose:!0,change:rh.TextDocumentSyncKind.Incremental},notebookDocumentSync:{notebookSelector:[{notebook:"*"}]},workspace:{workspaceFolders:{supported:m,changeNotifications:m}},executeCommandProvider:{commands:uNe(t,r)},inlineCompletionProvider:{}},serverInfo:n}}),r.onShutdown(async()=>{await(this.#e??=this.deactivate())}),r.onExit(()=>void this.onExit()),r.onDidChangeConfiguration(pu(t,s,"onDidChangeConfiguration")),r.listen();let l=new Pq;this.ctx.forceSet(va,l)}async messageHandler(t,r,n){let i=this.ctx.get(fE).handlers.get(t);if(!i)return new rh.ResponseError(Fr.MethodNotFound,`Method not found: ${t}`);if(!this.initialized)return new rh.ResponseError(Fr.ServerNotInitialized,"Agent service not initialized.");if(this.#e)return new rh.ResponseError(Fr.InvalidRequest,"Agent service shut down.");if(t!=="setEditorInfo"&&!dNe(this.ctx.get(an)))throw new rh.ResponseError(Fr.ServerNotInitialized,"editorInfo and editorPluginInfo not set in initializationOptions");Array.isArray(r)&&(r=r[0]),z1(r);try{let[s,a]=await i(this.ctx,n,r);return a?new rh.ResponseError(a.code,a.message,a.data):s}catch(s){if(n.isCancellationRequested)return new rh.ResponseError(Fr.RequestCancelled,"Request was canceled");if(s instanceof Fs)return new rh.ResponseError(Fr.NoCopilotToken,`Not authenticated: ${s.message}`);throw s instanceof rh.ResponseError||rf.exception(this.ctx,s,`Request ${t}`),s}}async onExit(){this.ctx.forceSet(va,this.#i),await(this.#e??=this.deactivate())}async deactivate(){let t=this.ctx;clearTimeout(this.installationTelemetryTimer),_ee(t),await Promise.race([new Promise(r=>setTimeout(r,100)),t.get(yo).flush()]),await Promise.race([new Promise(r=>setTimeout(r,1800)),t.get(gs).deactivate()])}dispose(){clearTimeout(this.installationTelemetryTimer),this.connection.dispose()}},rf=new Er("lsp");var wW=class e extends l4{constructor(r){super(r);this.reportedUnknownProviders=new Set}static{o(this,"AgentRelatedFilesProvider")}get service(){return this.context.get(Kr)}static mapProviderNameToNeighboringFileType(r){let n="CSharpCopilotCompletionContextProvider",i="CSharpRoslynCompletionRelatedContextProvider",s="CppCopilotCompletionContextProvider",a="CppCopilotCompletionSemanticCodeContextProvider";switch(r){case n:return"related/csharp";case i:return"related/csharproslyn";case s:return"related/cpp";case a:return"related/cppsemanticcodecontext";default:return"related/other"}}convert(r){let n={entries:[],traits:r.traits};for(let i of r.entries){let s={type:e.mapProviderNameToNeighboringFileType(i.providerName),uris:i.uris};n.entries.push(s),s.type==="related/other"&&!this.reportedUnknownProviders.has(i.providerName)&&(this.reportedUnknownProviders.add(i.providerName),ja.warn(this.context,`unknown providerName ${i.providerName}`))}return n}async getRelatedFilesResponse(r,n,i){ja.debug(this.context,`Fetching related files for ${r.uri}`);let s=this.context.get(ts).getCapabilities().related??!1;if(await e.relatedCapabilityTelemetry(this.context,n,s),!s)return ja.debug(this.context,"`copilot/related` not supported"),xbe;try{let a=await this.service.connection.sendRequest(eY.type,{textDocument:{uri:r.uri},data:r.data,telemetry:{properties:n.properties,measurements:n.measurements}},i);return this.convert(a)}catch(a){return ja.exception(this.context,a,".copilotRelated"),null}}static{this.telemetrySent=!1}static async relatedCapabilityTelemetry(r,n,i){try{if(!i||e.telemetrySent)return;e.telemetrySent=!0,Xt(r,"copilotRelated.hasRelatedCapability",n)}catch(s){ja.exception(r,s,"copilotRelated")}}};d();var LMe=ft(F0());var FMe=new Er("copilotTokenManager"),jle=class e extends Yv{static{o(this,"AgentClientCopilotTokenManager")}static{this.RequestType=new LMe.ProtocolRequestType("copilot/token")}constructor(t){super(t)}async fetchCopilotTokenEnvelope(){let t=this.ctx.get(Kr).connection;try{this.didChangeToken??=t.onNotification("copilot/didChangeToken",()=>{this.resetToken()});let r=await t.sendRequest(e.RequestType,{force:!1});if(!r?.envelope)throw FMe.debug(this.ctx,"Envelope missing from copilot/token response"),new Of({reason:"NotSignedIn",message:"Editor did not return a token"});let{accessToken:n,handle:i,githubAppId:s,envelope:a,tokenEndpoint:l}=r;FMe.debug(this.ctx,"Retrieved envelope from copilot/token");let c=new Xg(a);if(c.isExpired())throw new Fs("Expired token in copilot/token response");if(i&&n)this.ctx.get(In).setTransientAuthRecord(this.ctx,{user:i,oauth_token:n,githubAppId:s},!1);else if(!await this.getGitHubSession())throw new Of({reason:"NotSignedIn"});return l!==void 0&&this.ctx.get(Rn).updateBaseUrlFromTokenEndpoint(this.ctx,l),b7(this.ctx,c),a}catch(r){throw r instanceof Error?new Fs(r.message,r):r}}},gS=class extends jr{constructor(r,n=new Yv(r)){super();this.ctx=r;this.fallback=n;this.client=new jle(r)}static{o(this,"AgentCopilotTokenManager")}canGetToken(){return this.ctx.get(ts).getCapabilities().token??!1}getDelegate(){return this.canGetToken()?this.client:this.fallback}resetToken(r){this.getDelegate().resetToken(r)}async getToken(){return this.getDelegate().getToken()}async getGitHubSession(){return this.fallback.getGitHubSession()}};d();var Okt=new Er("Public Code References"),_W=class extends Bu{static{o(this,"CLSCitationManager")}async handleIPCodeCitation(t,r){let n=r.location?.start.line!==void 0?r.location.start.line+1:"-",i=r.location?.start.character!==void 0?r.location.start.character+1:"-",s=(r.matchingText??"").replace(/[\r\n]/g," ");Okt.info(t,`Text found matching public code in ${r.inDocumentUri} [Ln ${n}, Col ${i}] near ${s}...:`+r.details.map((a,l)=>`
  ${l+1}) [${a.license}] ${a.url}`).join("")),!(r.version===void 0||r.location===void 0)&&t.get(ts).getCapabilities().ipCodeCitation===!0&&await t.get(Kr).connection.sendNotification($z.type,{uri:r.inDocumentUri,version:r.version,range:r.location,matchingText:r.matchingText??"",citations:r.details})}};d();d();function QMe(e){Ukt(e)}o(QMe,"activateExtensibilityPlatformFeature");function Ukt(e){e.set(eh,new jG(e)),e.set(Hp,new Hp(e))}o(Ukt,"registerContextDependencies");d();var MMe=T.String(),$le=class{constructor(t){this.turnContext=t}static{o(this,"BuildLogsSkillProcessor")}value(){return .9}async processSkill(t){return this.turnContext.collectLabel(BW,"build logs"),`The contents of the application build logs:
\`\`\`
${t}
\`\`\``}},BW="build-logs",SW=class extends Il{static{o(this,"BuildLogsSkill")}constructor(t){super(BW,"The application build logs, which can be used to fix build or compilation errors.","Reading build logs",()=>t,r=>new $le(r))}};d();var OMe=T.Object({files:T.Array(X0)}),qkt=3,zle=class{constructor(t){this.turnContext=t}static{o(this,"RecentFilesSkillProcessor")}value(){return .7}async processSkill(t){let r=await this.getDocuments(t);if(r.length>0){let n=await this.toElidableDocs(r),i=_y(n,"inversePositional");return await this.preElideDocuments(i)}}async getDocuments(t){let r=this.sortFiles(t.files);r=await this.filterIncludedDocs(r);let n=this.turnContext.ctx.get(zn),i=[];for(let s of r){let a=await n.readFile(s.uri),l=ss(a);if(await this.turnContext.collectFile(RW,s.uri,l),a.status==="valid"&&l!=="empty"&&(i.push([a.document,s]),i.length===qkt))break}return i.reverse()}sortFiles(t){return t.sort((r,n)=>r.activeAt&&n.activeAt?new Date(r.activeAt).getTime()-new Date(n.activeAt).getTime():r.activeAt?-1:n.activeAt?1:0).reverse()}async filterIncludedDocs(t){return t.filter(r=>!this.turnContext.isFileIncluded(r.uri))}async toElidableDocs(t){return await Promise.all(t.map(async r=>{let[n,i]=r,s=await this.turnContext.ctx.get(zn).getRelativePath(n),a=new Vp(n,void 0,i.visibleRange);return new rr([[`Code excerpt from file \`${s}\`:`,1],[a.fromAllCode({addLineNumbers:!1}),.9]])}))}async preElideDocuments(t){let r=(await this.turnContext.ctx.get(Xn).getBestChatModelConfig(Xo("user"))).maxRequestTokens,n=t.makePrompt(Math.floor(r*.1));return new rr([n])}},RW="recent-files",kW=class extends Il{static{o(this,"RecentFilesSkill")}constructor(t){super(RW,"Provides code examples helpful for creating, explaining, refactoring, or fixing code. It's based on the files the user has worked on in the editor.","Resolving recent files",()=>t,r=>new zle(r))}};d();var UMe=T.String(),Yle=class{constructor(t){this.turnContext=t}static{o(this,"RuntimeLogsSkillProcessor")}value(){return .9}async processSkill(t){return this.turnContext.collectLabel(PW,"runtime logs"),`The contents of the application runtime logs:
\`\`\`
${t}
\`\`\``}},PW="runtime-logs",DW=class extends Il{static{o(this,"RuntimeLogsSkill")}constructor(t){super(PW,"The application runtime or debug logs, which are used to view output logs from the console. This is useful for debugging and troubleshooting runtime issues.","Reading runtime logs",()=>t,r=>new Yle(r))}};d();var NW=ft(i1());var FW=class extends La{constructor(r){super();this.ctx=r}static{o(this,"AgentConversationInspector")}shouldInspect(){return ND(this.ctx)}get connection(){if(this.shouldInspect())return this.ctx.get(Kr).connection}async inspectPrompt(r){return this.connection?.sendNotification(new NW.NotificationType("conversation/inspectPrompt"),r)}async inspectFetchResult(r){return this.connection?.sendNotification(new NW.NotificationType("conversation/inspectFetchResult"),r)}async documentDiff(r){return this.connection?.sendNotification(new NW.NotificationType("conversation/documentDiff"),r)}};d();var qMe=ft(F0());var LW=new qMe.ProgressType,QW=class extends Ps{constructor(r){super();this.ctx=r;this.workDoneTokens=new kn(250)}static{o(this,"AgentConversationProgress")}async begin(r,n,i){this.workDoneTokens.set(r.id,{status:"open",token:i}),await this.ctx.get(Kr).connection.sendProgress(LW,i,{kind:"begin",title:`Conversation ${r.id} Turn ${n.id}`,conversationId:r.id,turnId:n.id,agentSlug:n.agent?.agentSlug})}async report(r,n,i){let s=this.getWorkDoneToken(r);s.status==="open"&&await this.ctx.get(Kr).connection.sendProgress(LW,s.token,{kind:"report",conversationId:r.id,turnId:n.id,...i})}async end(r,n,i){let s=this.getWorkDoneToken(r);s.status==="open"&&(this.workDoneTokens.set(r.id,{status:"done",token:s.token,updatedAt:Date.now()}),await this.ctx.get(Kr).connection.sendProgress(LW,s.token,{kind:"end",conversationId:r.id,turnId:n.id,...i}))}async cancel(r,n,i){let s=this.getWorkDoneToken(r);s.status==="open"&&(this.workDoneTokens.set(r.id,{status:"cancelled",token:s.token,updatedAt:Date.now()}),await this.ctx.get(Kr).connection.sendProgress(LW,s.token,{kind:"end",conversationId:r.id,turnId:n.id,cancellationReason:"CancelledByUser",error:i}))}getWorkDoneToken(r){let n=this.workDoneTokens.get(r.id);if(n===void 0)throw new Error(`No work done token for conversation ${r.id}`);return n.status!=="open"&&tn.error(this.ctx,`Work done token for conversation ${r.id} is already ${n.status}, last updated at ${n.updatedAt}`),n}};d();var GMe=ft(F0());var AS=class{constructor(t){this.ctx=t;this.notificationEndpoint="conversation/preconditionsNotification";t.get(_d).onChange(r=>{this.sendNotification(r)})}static{o(this,"PreconditionsNotifier")}sendNotification(t){return this.ctx.get(Kr).connection.sendNotification(new GMe.NotificationType(this.notificationEndpoint),t)}};function WMe(e){Gkt(e),Wkt(e),QMe(e)}o(WMe,"activateConversationFeature");function Gkt(e){e.set(Wi,new Wi(e)),e.set(wl,new wl),e.set(Kl,new Kl(e)),e.set(Xn,new BU(e)),e.set(Xp,new Xp),e.set(Ps,new QW(e)),e.set(_d,new _d(e)),e.set(AS,new AS(e)),e.set(xu,new dP(e,new fP(e))),e.set(tA,new tA),e.set(Ty,new Ty),e.set(La,new FW(e)),e.set(Ma,new Ma(e)),e.set(ec,new ec),e.set(tf,new tf)}o(Gkt,"registerContextDependencies");function Wkt(e){let t=new Qa;t.registerSkill(new rG(new tG(e))),t.registerSkill(new BG(new tc(e,Yp,mLe))),t.registerSkill(new iG(new tc(e,Xm,oFe))),t.registerSkill(new Uq(new tc(e,E0,_Ne))),t.registerSkill(new kG),t.registerSkill(new kW(new tc(e,RW,OMe))),t.registerSkill(new qq(new tc(e,eE,BNe))),t.registerSkill(new sG(new tc(e,Sy,pFe))),t.registerSkill(new DW(new tc(e,PW,UMe))),t.registerSkill(new SW(new tc(e,BW,MMe))),t.registerSkill(new lG(new tc(e,Zm,gFe))),t.registerSkill(new cG(new tc(e,nE,yFe))),e.set(Qa,t)}o(Wkt,"registerSkills");d();var HMe=ft(Ii());var MW=class extends bl{static{o(this,"AgentEditProgressReporter")}constructor(t){super(t)}async reportTurn(t,r){await this.ctx.get(Kr).connection.sendProgress(new HMe.ProgressType,t.partialResultToken,[{editConversationId:t.editConversationId,editTurnId:t.editTurnId,...r}])}};d();var VMe=ft(i1());var yS=class{constructor(t){this.ctx=t;this.notificationEndpoint="featureFlagsNotification";Ha(t,async r=>{let n=!1,i=t.get(er),s=await i.updateExPValuesAndAssignments(),a=i.contextProviders(s).includes("java-lsp-context-provider"),l=!1;r.envelope.chat_enabled&&(n=i.ideChatEnableProjectContext(s),l=i.ideEnableCopilotEditsAgent(s));let c={};r.envelope.xcode_chat&&r.envelope.chat_enabled&&(c.xc=!0);let u={},f=i.contextProviders(s);f.length>0&&(u.ExpContextProviders=f);let m=new Map;yQ(t,m,s);for(let[h,p]of m.entries())u[h]=p;await this.sendNotification({rt:r.getTokenValue("rt")==="1",sn:r.getTokenValue("sn")==="1",chat:r.envelope.chat_enabled??!1,ic:r.envelope.chat_enabled??!1,pc:n,jcp:a||sC(t),cea:l,ae:u,...c})})}static{o(this,"FeatureFlagsNotifier")}async sendNotification(t){await this.ctx.get(Kr).connection.sendNotification(new VMe.NotificationType(this.notificationEndpoint),t)}};d();var OW=class extends Yi{constructor(r){super();this.ctx=r;this.notificationEndpoint="statusNotification"}static{o(this,"NotificationStatusReporter")}didChange(r){let n=r.kind;r.busy&&n!=="Error"&&(n="InProgress"),this.ctx.get(Kr).connection.sendNotification(tY.type,{busy:r.busy,kind:r.kind,status:n,message:r.message??""}),this.ctx.get(Kr).connection.sendNotification("didChangeStatus",{busy:r.busy,kind:r.kind,message:r.message})}};d();var jMe=new Xv;d();d();var Hkt=new Er("fetcher"),Vkt="https://default.exp-tas.com/",UW=class extends Nr{constructor(r,n,i,s){super();this.ctx=r;this.defaultFetcher=n;this.fallbackFetcher=i;this.onFallbackSuccess=s}static{o(this,"FallbackFetcher")}async fetch(r,n){try{return await this.defaultFetcher.fetch(r,n)}catch(i){if(ou(i)||`${r}/`.startsWith(Vkt))throw i;Hkt.info(this.ctx,`Request to <${r}> failed, attempting fallback.`,i);let s=await this.fallbackFetcher.fetch(r,n);return this.onFallbackSuccess(),s}}set proxySettings(r){this.defaultFetcher.proxySettings=r}get proxySettings(){return this.defaultFetcher.proxySettings}get name(){return this.defaultFetcher.name}async disconnectAll(){return this.defaultFetcher.disconnectAll()}makeAbortController(){return this.defaultFetcher.makeAbortController()}};var $Me=new Er("fetcher"),qW=class extends Nr{constructor(r,n=new o6(r),i=new s6(r)){super();this.ctx=r;this.helixFetcher=n;this.editorFetcher=i;this.currentFetcher=this.helixFetcher,this.fallbackFetcher=new UW(r,n,i,()=>{$Me.info(this.ctx,"Fallback fetch succeeded, switching to editor fetcher."),this.currentFetcher=this.editorFetcher}),r.get(Y1).once(()=>{this.updateFetcher()}),r.get(Zu).onConfigChange(qt.FetchStrategy,a=>{this.fetchStrategy=a,this.updateFetcher()}),this.fetchStrategy=ai(r,qt.FetchStrategy)}static{o(this,"AgentDelegatingFetcher")}get editorFetcherCapability(){return this.ctx.get(ts).getCapabilities().fetch??!1}updateFetcher(){let r,n;if(!this.editorFetcherCapability)n="Using Helix fetcher, editor does not have fetch capability.",r=this.helixFetcher;else if(this.fetchStrategy==="client")n="Using editor fetcher, fetch strategy set to client.",r=this.editorFetcher;else if(this.fetchStrategy==="native")n="Using Helix fetcher, fetch strategy set to native.",r=this.helixFetcher;else{let i=ai(this.ctx,qt.DebugUseEditorFetcher);i?.toString()==="true"?(n="Using editor fetcher, debug flag is enabled.",r=this.editorFetcher):i?.toString()==="false"?(n="Using Helix fetcher, debug flag is disabled.",r=this.helixFetcher):(n="Editor fetcher capability available, will fallback if needed.",r=this.fallbackFetcher)}this.currentFetcher!=r&&($Me.debug(this.ctx,n),this.currentFetcher=r)}get name(){return this.currentFetcher.name}set proxySettings(r){this.helixFetcher.proxySettings=r}get proxySettings(){return this.helixFetcher.proxySettings}set rejectUnauthorized(r){super.rejectUnauthorized=r,this.helixFetcher.rejectUnauthorized=r}get rejectUnauthorized(){return super.rejectUnauthorized}fetch(r,n){return this.currentFetcher.fetch(r,n)}disconnectAll(){return this.currentFetcher.disconnectAll()}makeAbortController(){return this.currentFetcher.makeAbortController()}};d();var GW=class extends fl{constructor(r){super();this.ctx=r}static{o(this,"ConnectionNotificationSender")}get connection(){return this.ctx.get(Kr).connection}showWarningMessage(r,...n){return this.connection.window.showWarningMessage(r,...n)}};d();d();var zMe=ft(require("crypto")),YMe=require("os");var jkt=new Set(["00:00:00:00:00:00","ff:ff:ff:ff:ff:ff","ac:de:48:00:11:22"]);function $kt(e){let t=e.replace(/-/g,":").toLowerCase();return!jkt.has(t)}o($kt,"validateMacAddress");function zkt(){let e=(0,YMe.networkInterfaces)();for(let t in e){let r=e[t];if(r){for(let{mac:n}of r)if($kt(n))return n}}throw new Error("Unable to retrieve mac address (unexpected format)")}o(zkt,"getMac");var Kle;function Ykt(){try{let e=zkt();return zMe.createHash("sha256").update(e,"utf8").digest("hex")}catch{return}}o(Ykt,"getMacMachineId");function KMe(){return Kle||(Kle=Ykt()||Tr()),Kle}o(KMe,"getMachineId");var Kkt=Tr()+Date.now(),JMe=new ds(Kkt,KMe());d();var WW=class extends ql{constructor(r,n=new aP){super();this.ctx=r;this.fallback=n}static{o(this,"AgentUrlOpener")}async open(r){let n=this.ctx.get(Kr);if(!(n.clientCapabilities?.window?.showDocument?.support&&(await n.connection.window.showDocument({uri:r,external:!0})).success))return this.fallback.open(r)}};d();d();var HW=class extends yq{static{o(this,"AgentWorkspaceWatcher")}async getWatchedFiles(){return(await this.ctx.get(Jm).getWatchedFiles({workspaceUri:this.workspaceFolder.uri,excludeGitignoredFiles:!0,excludeIDEIgnoredFiles:!0})).watchedFiles}startWatching(){if(this.status==="ready")return;this.ctx.get(Jm).onDidChangeWatchedFiles(this.onDidChangeWatchedFilesHandler.bind(this)),this.status="ready"}stopWatching(){this.status="stopped",this.ctx.get(Jm).offDidChangeWatchedFiles(this.onDidChangeWatchedFilesHandler.bind(this))}onDidChangeWatchedFilesHandler(t){if(t.workspaceFolder.uri!==this.workspaceFolder.uri)return;let n=t.created.filter(a=>!a.isRestricted&&!a.isUnknownFileExtension);if(n.length){let a=n.map(l=>l.document).filter(l=>l!==void 0);this.onFilesCreated(a)}let i=t.changed.filter(a=>!a.isRestricted&&!a.isUnknownFileExtension);if(i.length){let a=i.map(l=>l.document).filter(l=>l!==void 0);this.onFilesUpdated(a)}let s=t.deleted.filter(a=>!a.isRestricted&&!a.isUnknownFileExtension);s.length&&this.onFilesDeleted(s.map(a=>({uri:a.uri})))}};var VW=class extends Km{static{o(this,"AgentWorkspaceWatcherProvider")}createWatcher(t){return new HW(this.ctx,t)}shouldStartWatching(t){return!!this.ctx.get(ts).getCapabilities().watchedFiles&&(!this.hasWatcher(t)||this.getStatus(t)==="stopped")}};function XMe(e){let t=new Zu(process.env),r=sRe(t);r.set(Zu,t),r.set(Y1,new Y1),r.set(Nr,new qW(r)),r.set(ua,new ua(r)),Ble(r,{});let n=dDe();r.set(Ka,n);let i=new gS(r);r.set(jr,i),r.set(gS,i);let s=new sT(r,n);r.set(sT,s),r.set(In,new In(s,i)),r.set(qC,new qC),r.set(ds,JMe),r.set(an,new Dq),r.set(fE,wMe()),r.set(qo,new qo),r.set(Lo,jMe),r.set(l4,new wW(r)),r.set(Km,new VW(r)),r.set(Jm,new Jm(r)),r.set(Ba,new Ba),r.set(gl,CQ(r,lQe)),qEe(r),r.set(Kr,new Kr(r,e)),r.set(fl,new GW(r)),r.set(ql,new WW(r)),r.set(Yi,new OW(r)),r.set(yS,new yS(r));let a=new Ny(r);return r.set(Wr,a),r.set(Ny,a),r.set(zn,new zn(r)),r.set(Rn,new v8(r)),r.set(Sa,new Sa(r)),WMe(r),SRe(r),r.set(rc,new rc),r.set(Dy,new Dy),r.set(th,new th),r.set(Bu,new _W),r.set(Zp,new Zp),r.set(mp,new Zb(r)),r.set($1,new $1(r)),r.set(W1,new W1(r)),r.set(Fa,new Fa(r)),r.set(bl,new MW(r)),r}o(XMe,"createLanguageServerContext");d();var Jle=require("events"),CS=ft(require("fs"));var $W=ft(F0());d();var eOe=ft(require("fs")),tOe=ft(require("http")),l6=ft(require("path"));var jW=class{constructor(t,r){this.port=t;let n;this.server=tOe.createServer((i,s)=>{if(i.headers.accept&&i.headers.accept=="text/event-stream")switch(s.writeHead(200,{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}),i.url){case"/stdin":r.on("read",l=>{ZMe(s,JSON.stringify(l))});return;case"/stdout":r.on("write",l=>{ZMe(s,JSON.stringify(l))});return;default:s.writeHead(404),s.end();return}s.writeHead(200,{"Content-Type":"text/html"});let a=__dirname;l6.basename(__dirname)!=="debug"&&(a=l6.dirname(__dirname)),n??=eOe.readFileSync(l6.join(a,"dist","debugServer.html")).toString(),s.write(n),s.end()}),this.server.on("error",i=>{console.error(i)})}static{o(this,"DebugServer")}listen(){return this.server.listen(this.port),this}getPort(){return this.server.address().port}};function ZMe(e,t){e.write("data: "+t.toString().replace(/\n/g,`
data: `)+`

`)}o(ZMe,"writeData");var Xle=class extends $W.AbstractMessageWriter{constructor(r,n){super();this.delegate=r;this.ev=n}static{o(this,"DebugMessageWriter")}async write(r){return this.ev.emit("write",r),this.delegate.write(r)}end(){this.ev.emit("end"),this.delegate.end()}},Zle=class extends $W.AbstractMessageReader{constructor(r,n){super();this.delegate=r;this.ev=n}static{o(this,"DebugMessageReader")}listen(r){return this.delegate.listen(n=>{this.ev.emit("read",n),r(n)})}};async function rOe(e,t,r){let n,i=parseInt(e.GH_COPILOT_DEBUG_UI_PORT??e.GITHUB_COPILOT_DEBUG_UI_PORT);if(!isNaN(i)){n??=new Jle.EventEmitter;let l=new jW(i,n).listen();i===0&&await sP(`http://localhost:${l.getPort()}`)}let s=e.GITHUB_COPILOT_RECORD??"",a;try{let l=Date.now().toString();s==="1"||s==="true"?a=CS.openSync(`stdio${l}.log`,"w"):s&&s!=="0"&&s!=="false"&&(a=CS.openSync(s.replaceAll("%s",l),"w"))}catch(l){console.error(l)}if(a){let l=o(c=>{a&&CS.appendFile(a,c,u=>{u&&(a=void 0,console.error(u))})},"log");n??=new Jle.EventEmitter,n.on("read",c=>l(`<-- ${JSON.stringify(c)}
`)),n.on("write",c=>l(`--> ${JSON.stringify(c)}
`))}return n&&(t=new Zle(t,n),r=new Xle(r,n)),[t,r]}o(rOe,"wrapTransports");async function oOe(){let e=SCe(process.argv.slice(2)).version(new io().getDisplayVersion()).strict().option("debug",{type:"boolean",hidden:!0}).option("clientProcessId",{type:"string",hidden:!0}).option("stdio",{type:"boolean",describe:"Use stdio"});"pkg"in process||e.option("node-ipc",{type:"boolean",describe:"Use node IPC",conflicts:"stdio"});let t=await e.parse(),r,n;t["node-ipc"]?(r=new Bd.IPCMessageReader(process),n=new Bd.IPCMessageWriter(process)):t.stdio?(r=new Bd.StreamMessageReader(process.stdin),n=new Bd.StreamMessageWriter(process.stdout)):(console.error("error: required option '--stdio' not specified"),process.exit(1)),"pkg"in process&&process.platform!=="win32"&&(process.env.TMPDIR=await nOe.mkdtemp(iOe.default.tmpdir()+"/github-copilot-"));let i=(0,Bd.createConnection)(Bd.ProposedFeatures.all,...await rOe(process.env,r,n)),s=XMe(i);console=kye(s);let a=s.get(Kr);r.onClose(()=>a.onExit()),process.on("SIGINT",()=>{a.onExit().finally(()=>process.exit(130)).catch(()=>{})}),process.on("SIGTERM",()=>{a.onExit().finally(()=>process.exit(143)).catch(()=>{})}),a.listen()}o(oOe,"main");require.main===module&&oOe();0&&(module.exports={getTokenizer,main});
//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
/*! Bundled license information:

crypto-js/ripemd160.js:
  (** @preserve
  	(c) 2012 by Cdric Mesnil. All rights reserved.
  
  	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
  
  	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
  	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
  
  	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  	*)

crypto-js/mode-ctr-gladman.js:
  (** @preserve
   * Counter block mode compatible with  Dr Brian Gladman fileenc.c
   * derived from CryptoJS.mode.CTR
   * Jan Hruby jhruby.web@gmail.com
   *)

@microsoft/applicationinsights-common/dist/es5/applicationinsights-common.js:
  (*!
   * Application Insights JavaScript SDK - Common, 3.3.6
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.8 *)

@microsoft/applicationinsights-web-basic/dist/es5/applicationinsights-web-basic.js:
  (*!
   * Application Insights JavaScript Web SDK - Basic, 3.3.6
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.8 *)
  (*!
   * NevWare21 Solutions LLC - ts-async, 0.5.4
   * https://github.com/nevware21/ts-async
   * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.
   * Licensed under the MIT license.
   *)

git-url-parse/lib/index.js:
  (*!
   * buildToken
   * Builds OAuth token prefix (helper function)
   *
   * @name buildToken
   * @function
   * @param {GitUrl} obj The parsed Git url object.
   * @return {String} token prefix
   *)

@vscode/prompt-tsx/dist/base/util/vs/nls.js:
  (*!!! DO NOT modify, this file was COPIED from 'microsoft/vscode' *)

@vscode/prompt-tsx/dist/base/util/vs/common/platform.js:
  (*!!! DO NOT modify, this file was COPIED from 'microsoft/vscode' *)

@vscode/prompt-tsx/dist/base/util/vs/common/process.js:
  (*!!! DO NOT modify, this file was COPIED from 'microsoft/vscode' *)

@vscode/prompt-tsx/dist/base/util/vs/common/path.js:
  (*!!! DO NOT modify, this file was COPIED from 'microsoft/vscode' *)

@vscode/prompt-tsx/dist/base/util/vs/common/uri.js:
  (*!!! DO NOT modify, this file was COPIED from 'microsoft/vscode' *)

undici/lib/web/fetch/body.js:
  (*! formdata-polyfill. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)

undici/lib/web/websocket/frame.js:
  (*! ws. MIT License. Einar Otto Stangvik <einaros@gmail.com> *)

yargs-parser/build/lib/string-utils.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/tokenize-arg-string.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/yargs-parser-types.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/yargs-parser.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/index.js:
  (**
   * @fileoverview Main entrypoint for libraries using yargs-parser in Node.js
   * CJS and ESM environments.
   *
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/
//# sourceMappingURL=main.js.map
